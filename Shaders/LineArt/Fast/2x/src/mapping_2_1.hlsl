sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.071492604911327,-0.038024362176657,-0.023605292662978,0.030104216188192);
res += mul(Get(s0,-dx,-dy), float4x4(0.007063187193125,-0.036826569586992,0.101117797195911,0.111741691827774,-0.036979969590902,-0.056390441954136,-0.011478073894978,-0.249099239706993,-0.042296141386032,-0.150220111012459,-0.190821543335915,0.161678820848465,-0.065883122384548,0.216297641396523,-0.092014692723751,-0.141117379069328));
res += mul(Get(s0,-dx,0), float4x4(0.211528211832047,-0.151519775390625,0.215704396367073,-0.181394353508949,-0.158835813403130,0.015756368637085,0.037927549332380,-0.432070314884186,0.003143898677081,-0.126802548766136,0.014479881152511,0.707564830780029,0.098152860999107,0.141871705651283,-0.405750870704651,-0.010525853373110));
res += mul(Get(s0,-dx,dy), float4x4(0.101071283221245,-0.037399522960186,0.122761145234108,0.201618194580078,-0.024218782782555,0.035784374922514,0.113189272582531,-0.097835324704647,-0.296431213617325,-0.148239687085152,0.149394825100899,0.089710377156734,0.055780809372663,0.103054136037827,-0.229647129774094,-0.116632781922817));
res += mul(Get(s0,0,-dy), float4x4(0.063373968005180,-0.089331559836864,0.044209893792868,-0.332187503576279,0.079082690179348,-0.104509867727757,0.055797111243010,-0.121522709727287,-0.048827458173037,0.180910915136337,0.038252446800470,0.080101072788239,0.138061493635178,0.060105241835117,-0.205905556678772,0.067309387028217));
res += mul(Get(s0,0,0), float4x4(-0.038368903100491,-0.110777102410793,0.115505494177341,-0.703651368618011,0.370385020971298,-0.172225102782249,-0.000854629150126,-0.053518120199442,0.033840119838715,0.371905356645584,-0.405657559633255,0.000192409264855,0.164225086569786,-0.217675149440765,-0.556572437286377,0.007983179762959));
res += mul(Get(s0,0,dy), float4x4(-0.019848413765430,-0.167228162288666,0.172421962022781,0.111205019056797,0.019936500117183,0.076211318373680,0.024792337790132,0.019988959655166,-0.319647431373596,-0.064216770231724,0.013706387951970,0.211267217993736,0.181105330586433,-0.029711196199059,-0.419444859027863,0.103464759886265));
res += mul(Get(s0,dx,-dy), float4x4(-0.080579899251461,0.042359162122011,0.267920941114426,-0.042336948215961,0.023758785799146,-0.234003379940987,-0.169694915413857,-0.004982304293662,0.035114858299494,0.048845510929823,-0.174111261963844,0.031894341111183,0.149626180529594,0.155873656272888,-0.190774783492088,-0.059804402291775));
res += mul(Get(s0,dx,0), float4x4(0.014564231038094,0.075686603784561,0.310834437608719,-0.210127472877502,0.238960281014442,-0.388179808855057,0.181845545768738,0.157356992363930,0.059371825307608,0.020278785377741,-0.225230708718300,0.215424433350563,-0.031236700713634,0.191748604178429,-0.236789748072624,-0.052025120705366));
res += mul(Get(s0,dx,dy), float4x4(-0.085514724254608,-0.114542491734028,0.066051125526428,-0.061923515051603,0.181637451052666,0.026028156280518,0.095798686146736,0.209404721856117,0.038676623255014,-0.116002157330513,-0.152904331684113,0.114567175507545,0.064316660165787,0.069571360945702,-0.266233444213867,0.004101567901671));
res += mul(Get(s1,-dx,-dy), float4x4(0.075244590640068,-0.303223639726639,-0.073644518852234,-0.144394889473915,0.226916313171387,0.141695171594620,-0.046064980328083,0.150731906294823,0.224063560366631,0.137740090489388,0.117838546633720,0.381967931985855,-0.081481717526913,-0.007629034109414,0.436543643474579,0.089365422725677));
res += mul(Get(s1,-dx,0), float4x4(-0.412969350814819,0.051365669816732,0.152121350169182,-0.309254527091980,0.131601616740227,-0.104824118316174,0.040245864540339,0.068550445139408,-0.141664162278175,0.350279927253723,-0.125046476721764,-0.043665818870068,-0.230215013027191,0.131239697337151,0.158734962344170,-0.081865102052689));
res += mul(Get(s1,-dx,dy), float4x4(-0.018472597002983,-0.039554990828037,0.063318096101284,-0.172674238681793,-0.130052223801613,0.122760519385338,-0.030170502141118,0.085967838764191,0.123879283666611,0.018791509792209,-0.068762838840485,-0.067330799996853,-0.058695722371340,0.132355600595474,0.064726330339909,-0.008231767453253));
res += mul(Get(s1,0,-dy), float4x4(-0.284742474555969,0.159299805760384,-0.074018269777298,0.042940724641085,0.157477214932442,0.101393148303032,0.242116108536720,0.078084439039230,0.294908344745636,0.112610355019569,0.298270910978317,0.075313188135624,-0.209576711058617,0.332587659358978,0.309449583292007,0.037131045013666));
res += mul(Get(s1,0,0), float4x4(-0.085529647767544,0.379858016967773,-0.485813409090042,0.204787373542786,0.076131582260132,0.115852676331997,-0.322640597820282,0.301777541637421,0.258376002311707,-0.151548400521278,-0.361151099205017,0.283834904432297,-0.282614707946777,0.296462476253510,0.169464990496635,-0.129910528659821));
res += mul(Get(s1,0,dy), float4x4(-0.005442962516099,-0.099524736404419,0.098922349512577,0.298576772212982,-0.143507122993469,0.016940562054515,-0.451357156038284,-0.081563338637352,0.122759371995926,-0.179613009095192,0.408087283372879,-0.111851043999195,0.029099367558956,0.124444305896759,0.171735420823097,-0.063949979841709));
res += mul(Get(s1,dx,-dy), float4x4(-0.092984408140182,0.110981076955795,0.037238296121359,-0.060908868908882,-0.150125876069069,-0.044900171458721,0.130801320075989,0.036236278712749,-0.015220311470330,0.000216235624976,0.094511456787586,-0.046833649277687,-0.072157837450504,-0.062907367944717,0.232821017503738,-0.039027240127325));
res += mul(Get(s1,dx,0), float4x4(0.168329447507858,0.382347345352173,-0.002991965971887,0.193838611245155,-0.002071413677186,-0.013607546687126,0.136187642812729,-0.085369542241096,-0.097916133701801,-0.079176232218742,0.175483375787735,-0.175300851464272,-0.261311233043671,0.189255729317665,0.161032468080521,-0.044387482106686));
res += mul(Get(s1,dx,dy), float4x4(-0.039306487888098,-0.125923499464989,-0.095159739255905,0.201136171817780,-0.002172330860049,0.329309910535812,0.253899544477463,-0.351400464773178,0.200987875461578,-0.082558088004589,0.277466893196106,-0.170591101050377,-0.120869532227516,0.112240232527256,0.261936664581299,-0.058627050369978));
res += mul(Get(s2,-dx,-dy), float4x4(-0.085701532661915,0.001701551373117,-0.034642029553652,-0.318849354982376,0.088387370109558,-0.028218634426594,-0.027545856311917,-0.637159824371338,-0.079038701951504,-0.098963484168053,-0.164916038513184,0.138634935021400,0.044453687965870,-0.142778068780899,-0.130755588412285,-0.002437093527988));
res += mul(Get(s2,-dx,0), float4x4(-0.164201691746712,0.189153313636780,-0.127559259533882,0.027867708355188,-0.084012813866138,-0.166349053382874,0.049359790980816,-0.357434153556824,0.204631313681602,-0.044453117996454,0.016930742189288,0.581080675125122,-0.051231741905212,0.150917008519173,0.212590679526329,0.312819391489029));
res += mul(Get(s2,-dx,dy), float4x4(0.138075277209282,0.027154313400388,-0.098174296319485,-0.049137383699417,0.100321575999260,-0.040122039616108,-0.085993930697441,-0.027392193675041,0.015970494598150,0.047365929931402,0.052765607833862,0.107414908707142,-0.023290123790503,0.054885257035494,-0.129849404096603,0.100913576781750));
res += mul(Get(s2,0,-dy), float4x4(0.052933719009161,0.637797534465790,-0.322591006755829,0.044538017362356,-0.124727636575699,-0.617740213871002,0.033078752458096,-0.419869035482407,-0.023768609389663,0.785304188728333,-0.002466151490808,-0.101863086223602,-0.473728418350220,-0.514188170433044,0.253352552652359,-0.013768102042377));
res += mul(Get(s2,0,0), float4x4(-0.300058305263519,0.924877941608429,-0.294703751802444,-0.098175019025803,0.230517819523811,-0.339056849479675,0.229347690939903,-0.131502717733383,-0.350028604269028,-0.280468612909317,-0.270060777664185,0.062591485679150,-0.254116028547287,-0.500920712947845,0.173922121524811,-0.384410589933395));
res += mul(Get(s2,0,dy), float4x4(0.083392083644867,-0.189999282360077,0.111675217747688,0.134997472167015,0.038221105933189,-0.083645127713680,-0.002387133194134,0.002774626249447,0.107014760375023,0.137234956026077,-0.252128213644028,-0.003195139346644,-0.024705436080694,0.134018182754517,-0.283441781997681,0.102899916470051));
res += mul(Get(s2,dx,-dy), float4x4(0.022409515455365,-0.084331378340721,-0.121777653694153,-0.003577146446332,-0.027673216536641,-0.004005198832601,-0.047409627586603,-0.043677922338247,-0.098033525049686,-0.301839232444763,-0.016851827502251,-0.153965651988983,0.292127579450607,0.137976258993149,-0.084985375404358,-0.020943786948919));
res += mul(Get(s2,dx,0), float4x4(0.027391016483307,-0.168948158621788,0.390460610389709,0.115128085017204,0.191972911357880,-0.147688373923302,0.042259242385626,-0.037889543920755,-0.008163384161890,-0.296777725219727,0.069159433245659,0.079194985330105,0.026954092085361,0.227280229330063,-0.441111624240875,0.051315870136023));
res += mul(Get(s2,dx,dy), float4x4(0.062938772141933,-0.156803682446480,0.469501465559006,-0.071960136294365,0.076424710452557,-0.019248493015766,-0.143292143940926,-0.000997941242531,0.154828250408173,0.012908037751913,-0.190919935703278,-0.003065002616495,0.014578302390873,0.050034079700708,0.054656699299812,0.020146800205112));
res = max(float4(0, 0, 0, 0), res) + float4(-0.230834692716599,0.209157750010490,0.381604522466660,0.224828243255615) * min(float4(0, 0, 0, 0), res);
return res;
}
