sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.028905391693115,-0.021100686863065,-0.097045578062534,0.113528952002525);
res += mul(Get(s0,-dx,-dy), float4x4(-0.173353627324104,-0.036544859409332,0.041307315230370,0.029859423637390,0.118060469627380,-0.087482042610645,0.050052136182785,-0.040407668799162,0.059982620179653,-0.001387319294736,0.140476465225220,0.162220522761345,-0.138930663466454,0.073439285159111,-0.074618071317673,-0.042812164872885));
res += mul(Get(s0,-dx,0), float4x4(0.081244669854641,0.018336955457926,0.016256134957075,-0.075614966452122,0.113482579588890,-0.033425357192755,0.149967148900032,0.167485356330872,-0.080463580787182,0.153164863586426,0.129516392946243,0.157040983438492,-0.028455672785640,0.197391778230667,-0.071472130715847,-0.105025634169579));
res += mul(Get(s0,-dx,dy), float4x4(-0.058690294623375,-0.057290546596050,0.027309965342283,-0.117159642279148,0.089839830994606,-0.036195874214172,0.078303292393684,0.020747555419803,-0.034902337938547,0.025666795670986,-0.090266913175583,-0.035819005221128,-0.130612835288048,0.064451932907104,-0.064018979668617,0.081792272627354));
res += mul(Get(s0,0,-dy), float4x4(0.168512359261513,-0.083800151944160,-0.094547823071480,-0.079568773508072,0.083268813788891,-0.091423906385899,0.133191004395485,0.104912362992764,-0.060868866741657,0.107927367091179,0.025282775983214,0.261639773845673,0.039631973952055,0.093784637749195,-0.281364023685455,-0.095120012760162));
res += mul(Get(s0,0,0), float4x4(-0.382911235094070,0.107046410441399,0.076445586979389,-0.006717911455780,0.221811220049858,0.279353827238083,0.090646244585514,-0.048886891454458,-0.051976438611746,0.151288837194443,-0.467770189046860,-0.007575792260468,-0.225297063589096,-0.252740979194641,0.461928933858871,0.016015278175473));
res += mul(Get(s0,0,dy), float4x4(-0.083811275660992,0.099907748401165,0.244765460491180,0.173292547464371,0.085696399211884,-0.187646940350533,0.022531392052770,-0.067947253584862,-0.144438743591309,0.030411174520850,0.112152904272079,-0.067411676049232,-0.038107700645924,0.078753300011158,-0.076386936008930,0.012837619520724));
res += mul(Get(s0,dx,-dy), float4x4(-0.011545664630830,0.110385648906231,-0.055026121437550,-0.020158696919680,-0.002195920329541,0.032113425433636,0.002915006596595,-0.013807662762702,-0.179003894329071,0.198192864656448,-0.031135747209191,-0.043945409357548,0.039840765297413,0.059005305171013,-0.219978898763657,0.130130305886269));
res += mul(Get(s0,dx,0), float4x4(0.084745429456234,0.165352642536163,0.046007759869099,0.010994915850461,-0.304457485675812,-0.107238329946995,0.093802042305470,-0.088641136884689,-0.217828676104546,0.040529336780310,0.246711850166321,-0.105291530489922,0.090651288628578,0.401595145463943,0.005880831740797,-0.144193083047867));
res += mul(Get(s0,dx,dy), float4x4(0.015989452600479,0.138752952218056,0.166523218154907,-0.020359089598060,-0.013238682411611,-0.011504399590194,0.017013587057590,-0.050802290439606,0.051473177969456,0.035517446696758,0.050257645547390,0.027721386402845,-0.111474208533764,0.089993312954903,0.069848485291004,-0.047400254756212));
res += mul(Get(s1,-dx,-dy), float4x4(-0.071136064827442,-0.054987758398056,0.029973160475492,-0.056942533701658,-0.104444064199924,0.038492303341627,0.024699047207832,-0.058503638952971,0.041936896741390,0.001379842055030,-0.108217164874077,0.082968823611736,0.077806100249290,0.067411378026009,0.085368506610394,-0.007738275453448));
res += mul(Get(s1,-dx,0), float4x4(-0.271384567022324,-0.168774902820587,0.114217318594456,0.089476853609085,-0.042109772562981,0.028962783515453,-0.051080193370581,0.079470433294773,-0.129274204373360,-0.021241098642349,-0.331418186426163,-0.153860688209534,0.066803753376007,-0.049771115183830,-0.012344179674983,0.095434099435806));
res += mul(Get(s1,-dx,dy), float4x4(-0.252060294151306,0.095837853848934,0.079921640455723,-0.064575009047985,0.091478772461414,-0.012029344215989,-0.004050827585161,-0.012591023929417,-0.086973413825035,0.117062740027905,0.030937256291509,-0.128956586122513,-0.046285256743431,0.007614974398166,0.032023478299379,-0.057168733328581));
res += mul(Get(s1,0,-dy), float4x4(-0.217781320214272,-0.005946930963546,-0.098068885505199,-0.328301072120667,-0.117674849927425,0.101874366402626,0.225825503468513,-0.016343496739864,0.022881546989083,-0.058799598366022,-0.138165846467018,0.057449214160442,-0.245124697685242,-0.125142335891724,0.106020763516426,0.068103320896626));
res += mul(Get(s1,0,0), float4x4(-0.198400333523750,0.421723961830139,0.360188007354736,-0.429926961660385,0.121389254927635,0.077112600207329,0.089658744633198,0.071690909564495,-0.349979043006897,-0.025122666731477,-0.545697271823883,0.061028949916363,0.146149098873138,0.042667761445045,-0.183404058218002,0.007995706982911));
res += mul(Get(s1,0,dy), float4x4(-0.052460063248873,-0.010418671183288,0.004280976951122,-0.014982219785452,-0.145994156599045,-0.072922058403492,0.042272299528122,-0.055480908602476,-0.002352295909077,-0.108947902917862,0.073667675256729,0.046255420893431,-0.073909401893616,0.000595255114604,0.333581268787384,-0.107382066547871));
res += mul(Get(s1,dx,-dy), float4x4(-0.310258150100708,0.083188734948635,-0.135963276028633,0.038462519645691,0.152628138661385,-0.004617782775313,0.184554010629654,0.070797026157379,0.137675642967224,-0.002171551808715,-0.056283447891474,0.044927302747965,-0.226665243506432,-0.056119251996279,0.072543486952782,-0.050565514713526));
res += mul(Get(s1,dx,0), float4x4(-0.362828224897385,-0.188381075859070,0.004162100143731,-0.182480752468109,-0.021747281774879,0.043168347328901,-0.095535531640053,-0.077341459691525,0.203756719827652,0.105674669146538,-0.234378904104233,-0.092313706874847,-0.252428293228149,-0.332441747188568,0.213166341185570,-0.043973032385111));
res += mul(Get(s1,dx,dy), float4x4(-0.181306749582291,-0.041422709822655,0.073457166552544,-0.051134083420038,0.021618632599711,-0.048853743821383,0.020490257069468,-0.012034719809890,-0.151351436972618,0.019383514299989,-0.079471804201603,-0.063557095825672,0.144712269306183,-0.125386461615562,0.081526234745979,0.023140339180827));
res += mul(Get(s2,-dx,-dy), float4x4(-0.027238057926297,-0.037522610276937,-0.093048490583897,-0.153505444526672,0.064132183790207,-0.066028378903866,-0.063463680446148,-0.103436693549156,0.045941662043333,0.041342023760080,0.061910998076200,0.017946042120457,-0.194580063223839,0.316653579473495,-0.009270735085011,0.075667038559914));
res += mul(Get(s2,-dx,0), float4x4(0.282704859972000,-0.250142425298691,0.011069337837398,0.036410391330719,0.067636258900166,0.049191448837519,0.230143547058105,0.081120006740093,0.052967570722103,0.050978317856789,0.052414763718843,-0.113594695925713,-0.066557183861732,0.361237347126007,-0.259897768497467,-0.435320287942886));
res += mul(Get(s2,-dx,dy), float4x4(0.066775716841221,-0.098265103995800,-0.077285259962082,0.116158686578274,-0.221227750182152,-0.088460735976696,0.118041634559631,0.062296796590090,0.358784377574921,-0.043417211622000,0.069775313138962,-0.037653874605894,0.192055270075798,0.021103937178850,-0.101736910641193,-0.049116063863039));
res += mul(Get(s2,0,-dy), float4x4(0.224112734198570,0.000974029768258,-0.012767969630659,0.062096133828163,-0.245316490530968,0.173478394746780,-0.108312174677849,0.121526718139648,-0.170332878828049,-0.074506759643555,-0.098623119294643,-0.020224913954735,0.105760976672173,-0.186741694808006,0.176616534590721,-0.142732471227646));
res += mul(Get(s2,0,0), float4x4(-0.109469190239906,0.176683872938156,0.037234984338284,0.291144073009491,-0.374578595161438,0.124861113727093,-0.273900002241135,-0.423962652683258,-0.474650949239731,-0.016509981825948,0.083741240203381,-0.067267052829266,0.049883138388395,-0.402763128280640,0.394737422466278,-0.015165893360972));
res += mul(Get(s2,0,dy), float4x4(0.137698084115982,0.142251268029213,-0.091879226267338,0.218427017331123,0.129953369498253,0.235156938433647,-0.293004900217056,0.062170788645744,-0.392844289541245,-0.082538254559040,0.036953710019588,0.238391473889351,0.030192496255040,-0.163901790976524,0.062921084463596,0.017124002799392));
res += mul(Get(s2,dx,-dy), float4x4(0.301930546760559,0.079061955213547,-0.016184631735086,-0.014181564562023,0.103554002940655,0.011871165595949,-0.027249354869127,-0.030153468251228,-0.062712132930756,0.015401183627546,-0.263478010892868,-0.136985257267952,0.385603845119476,-0.295814812183380,-0.058114644140005,0.001710880547762));
res += mul(Get(s2,dx,0), float4x4(0.350542306900024,0.058933675289154,-0.089099183678627,0.159484967589378,0.023117767646909,0.026326799765229,-0.039956811815500,0.065408185124397,0.018693696707487,0.124689549207687,0.325614571571350,-0.080807119607925,-0.083351656794548,0.017350640147924,-0.113608747720718,0.354919821023941));
res += mul(Get(s2,dx,dy), float4x4(0.010576450265944,0.050176367163658,0.041468732059002,0.025580523535609,0.000769997364841,0.106910854578018,-0.230171442031860,-0.006490861065686,0.126488760113716,0.016366468742490,-0.212119981646538,0.184931054711342,0.009892688132823,-0.122806817293167,-0.002967290347442,-0.057742148637772));
res = max(float4(0, 0, 0, 0), res) + float4(-0.014705829322338,1.836916327476501,-0.235544636845589,-0.815841138362885) * min(float4(0, 0, 0, 0), res);
return res;
}
