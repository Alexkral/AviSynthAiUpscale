sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.298946797847748,0.203192397952080,0.119569443166256,0.291794449090958);
res += mul(Get(s0,-dx,-dy), float4x4(-0.217367351055145,0.152566641569138,0.133256629109383,-0.007861453108490,-0.114375203847885,0.118387542665005,0.002481382805854,0.169225022196770,0.240536928176880,0.101606041193008,0.236457929015160,0.078493051230907,0.251511633396149,-0.083409957587719,0.224451735615730,-0.008410383015871));
res += mul(Get(s0,-dx,0), float4x4(-0.103794142603874,-0.660742223262787,0.281945466995239,0.310842007398605,-0.126831099390984,-1.648252487182617,-0.036209430545568,0.158776268362999,0.155475229024887,-0.154507264494896,0.163388475775719,0.359085559844971,0.303916603326797,0.138986974954605,0.198040261864662,-0.131998330354691));
res += mul(Get(s0,-dx,dy), float4x4(0.162415876984596,0.232503950595856,-0.103617489337921,-0.095667123794556,0.027627034112811,-0.276074528694153,-0.060204941779375,0.107191376388073,0.206019088625908,-0.367813646793365,0.050200842320919,0.178190276026726,0.065634205937386,-0.183632940053940,-0.173010796308517,0.021046519279480));
res += mul(Get(s0,0,-dy), float4x4(-0.298445194959641,0.077209241688251,0.150425121188164,0.016949152573943,-1.070971369743347,-0.119015231728554,0.455503314733505,-0.191480979323387,0.152588620781898,0.008293348364532,0.125971466302872,0.241761878132820,0.459853887557983,-0.152302309870720,0.039359752088785,0.044017180800438));
res += mul(Get(s0,0,0), float4x4(0.136348932981491,-0.085759349167347,-0.026865465566516,-0.139245852828026,-1.416523814201355,-0.353464514017105,0.117276065051556,-0.405760556459427,0.014833118766546,-0.267881453037262,0.187849074602127,-0.353591769933701,0.400590837001801,0.326592355966568,-0.160315066576004,0.300132066011429));
res += mul(Get(s0,0,dy), float4x4(-0.087914742529392,-0.252663046121597,0.004368929658085,0.437736123800278,-0.157088279724121,-0.129642724990845,-0.001843751640990,-0.197133079171181,-0.041623529046774,-0.083344966173172,0.147194787859917,-0.284187614917755,-0.276460707187653,0.226391762495041,0.106199204921722,0.236723810434341));
res += mul(Get(s0,dx,-dy), float4x4(-0.229057803750038,-0.057369198650122,0.401581078767776,-0.139753594994545,0.147995501756668,0.027395976707339,-0.046937074512243,-0.089380890130997,0.122755564749241,-0.176650092005730,-0.206415295600891,0.276088714599609,0.036706432700157,0.063919119536877,-0.050254009664059,0.191916748881340));
res += mul(Get(s0,dx,0), float4x4(-0.147898167371750,-0.122884251177311,0.125882551074028,-0.385592132806778,-0.005333949346095,-0.080085679888725,-0.077910006046295,0.070843890309334,-0.182040944695473,-0.069125987589359,0.214514911174774,0.026940329000354,-0.491509854793549,0.390407264232635,0.076932363212109,0.329343110322952));
res += mul(Get(s0,dx,dy), float4x4(-0.110422693192959,-0.031326908618212,0.134183451533318,-0.253183752298355,0.013506905175745,-0.045122183859348,-0.071899250149727,0.180600985884666,-0.112103819847107,-0.042716082185507,-0.178934380412102,-0.197301700711250,0.146712258458138,-0.133409082889557,-0.104027099907398,0.469638168811798));
res += mul(Get(s1,-dx,-dy), float4x4(-0.397280395030975,-0.221001818776131,0.270181685686111,0.200454503297806,-0.118780307471752,-0.097901813685894,0.252212375402451,0.112727150321007,-0.275187343358994,0.320403337478638,-0.150487527251244,-0.216247141361237,-0.163075357675552,0.295877337455750,-0.057762350887060,0.247250378131866));
res += mul(Get(s1,-dx,0), float4x4(-0.607535004615784,0.301847696304321,0.181669592857361,-0.133136749267578,-0.068646021187305,0.456995785236359,-0.313088834285736,-0.120280951261520,-0.162831351161003,0.468673855066299,-0.067726753652096,-0.261643856763840,-0.421813547611237,0.488969624042511,0.007834867574275,0.118250392377377));
res += mul(Get(s1,-dx,dy), float4x4(-0.111120514571667,0.425388246774673,0.248595148324966,-0.364229977130890,-0.174012392759323,-0.324986159801483,0.015410153195262,-0.161909773945808,-0.015528511255980,0.091345019638538,-0.091452136635780,-0.221314609050751,-0.009927762672305,0.315251708030701,-0.234771624207497,0.035734634846449));
res += mul(Get(s1,0,-dy), float4x4(-0.543869137763977,-0.013334627263248,0.295677155256271,-0.019010918214917,-0.134845301508904,0.111593656241894,0.440036416053772,-0.317199915647507,-0.089024730026722,-0.068457685410976,-0.478139370679855,-0.302707135677338,0.083015151321888,0.154162019491196,-0.029249021783471,0.324722021818161));
res += mul(Get(s1,0,0), float4x4(0.838348388671875,0.234645858407021,-1.160762310028076,-0.019887305796146,0.751348853111267,0.153496786952019,-0.214955046772957,-0.120203793048859,-0.584179222583771,-0.211947605013847,0.265858590602875,0.144982442259789,0.032292466610670,0.052117548882961,0.072960831224918,0.146965458989143));
res += mul(Get(s1,0,dy), float4x4(0.022017294541001,0.255914121866226,-0.267300009727478,0.411434948444366,0.329323202371597,-0.248479723930359,-0.245333626866341,0.336277306079865,0.551144421100616,-0.095476716756821,-0.367827981710434,-0.372236102819443,0.033086095005274,0.184582322835922,0.058788046240807,0.494283109903336));
res += mul(Get(s1,dx,-dy), float4x4(-0.247124463319778,-0.024867894127965,0.327659904956818,-0.062003970146179,-0.175529941916466,0.091289497911930,-0.036541175097227,-0.154220744967461,-0.071975864470005,-0.007936348207295,0.225665420293808,0.080268636345863,0.178330361843109,0.057902906090021,-0.158685609698296,0.038639299571514));
res += mul(Get(s1,dx,0), float4x4(0.024904623627663,0.024336667731404,0.056043282151222,0.350545167922974,-0.173970818519592,-0.038869280368090,0.041066363453865,0.272983610630035,-0.323382943868637,0.034013312309980,-0.298661559820175,-0.370807260274887,0.074073009192944,0.029555555433035,0.054632715880871,0.077639475464821));
res += mul(Get(s1,dx,dy), float4x4(0.155784606933594,0.064289130270481,0.090412937104702,-0.574879050254822,-0.078086145222187,0.065686479210854,0.149103507399559,0.065768480300903,-0.076863512396812,-0.012212449684739,0.100647330284119,-0.304232090711594,0.104492977261543,-0.000869740033522,-0.162307262420654,0.344876259565353));
res += mul(Get(s2,-dx,-dy), float4x4(-0.011387130245566,-0.089746825397015,-0.156032413244247,0.123216710984707,0.065743520855904,-0.150735229253769,-0.221424669027328,-0.291156530380249,0.174988135695457,-0.161049127578735,-0.078766889870167,-0.057278435677290,-0.214003577828407,0.232900872826576,-0.085907578468323,-0.049860484898090));
res += mul(Get(s2,-dx,0), float4x4(-0.209634453058243,-0.025730706751347,-0.227342903614044,-0.062948785722256,0.250220954418182,-0.305328428745270,-0.057141311466694,-0.277249038219452,-0.037155654281378,-0.387194365262985,-0.105045154690742,0.188348636031151,-0.129067346453667,-0.103382363915443,-0.024951452389359,-0.325622439384460));
res += mul(Get(s2,-dx,dy), float4x4(-0.020194893702865,-0.089165404438972,-0.160695403814316,-0.075557902455330,0.051456779241562,-0.159516140818596,-0.021316284313798,-0.061539143323898,0.040303416550159,0.469014108181000,0.158643856644630,-0.080732077360153,-0.125413492321968,-0.348738163709641,-0.184489592909813,-0.023277278989553));
res += mul(Get(s2,0,-dy), float4x4(-0.174583882093430,-0.081268258392811,-0.306738257408142,0.003379195928574,0.345912754535675,0.187834173440933,0.111230447888374,-0.251467406749725,0.215108498930931,-0.133540630340576,-0.342752218246460,-0.103325538337231,0.357104837894440,-0.020512780174613,-0.514190971851349,-0.231863334774971));
res += mul(Get(s2,0,0), float4x4(-0.770717084407806,-0.082023002207279,0.024860577657819,-0.292476832866669,-0.001027630409226,-0.222993999719620,0.369947552680969,-1.033554792404175,-0.346118360757828,0.006418173201382,-0.543068647384644,-0.335475414991379,-0.337177664041519,0.173129633069038,0.111313439905643,-0.158375725150108));
res += mul(Get(s2,0,dy), float4x4(-0.059798385947943,-0.227688357234001,-0.170282304286957,-0.087735585868359,0.041870530694723,-0.165326699614525,-0.089187309145927,0.271572619676590,0.322073549032211,-0.001463755732402,0.191550493240356,-0.255539238452911,-0.023838561028242,-0.262293189764023,0.018057435750961,0.056614380329847));
res += mul(Get(s2,dx,-dy), float4x4(-0.301190227270126,-0.005248908419162,-0.326436012983322,-0.210410058498383,0.244976356625557,0.116134241223335,0.035238225013018,-0.023895557969809,0.011832836084068,-0.066038355231285,-0.026115188375115,0.019991213455796,0.259553790092468,0.139637693762779,-0.070289000868797,-0.045227680355310));
res += mul(Get(s2,dx,0), float4x4(-1.242651581764221,-0.023512914776802,0.171703219413757,-0.892903685569763,0.161295160651207,0.036378715187311,-0.101752422749996,-0.819502055644989,0.268962085247040,-0.027426470071077,0.086067751049995,0.039741579443216,0.362472027540207,-0.456771790981293,-0.180759355425835,-0.202299863100052));
res += mul(Get(s2,dx,dy), float4x4(-0.070583403110504,0.047855574637651,-0.058430336415768,-0.573833942413330,0.129514619708061,-0.040272664278746,0.034131038933992,-0.233508527278900,-0.049715545028448,0.100992396473885,0.048085168004036,-0.181306898593903,0.110373981297016,0.103102855384350,0.095252685248852,-0.083302974700928));
res = max(float4(0, 0, 0, 0), res) + float4(-0.018117772415280,-0.009846599772573,0.802269458770752,0.198560535907745) * min(float4(0, 0, 0, 0), res);
return res;
}
