sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.110496826469898,-0.643778562545776,0.233981385827065,-0.407828271389008);
res += float4(-0.028246525675058,-0.047857448458672,0.045548330992460,0.005011864006519) * Get(-ddx,-ddy);
res += float4(0.018958715721965,0.082647189497948,0.004222807008773,-0.006844067480415) * Get(-ddx,-dy);
res += float4(-0.054786540567875,0.271616876125336,-0.021249774843454,0.021887674927711) * Get(-ddx,0);
res += float4(0.046942822635174,0.136059224605560,0.031580042093992,0.013431502506137) * Get(-ddx,dy);
res += float4(-0.011976044625044,-0.017846757546067,-0.005576867144555,-0.012122552841902) * Get(-ddx,ddy);
res += float4(0.020005518570542,0.068104900419712,-0.026239031925797,0.022330550476909) * Get(-dx,-ddy);
res += float4(0.031908661127090,-0.107327207922935,0.051318470388651,-0.042028021067381) * Get(-dx,-dy);
res += float4(-0.046392448246479,-0.246380418539047,-0.094292365014553,0.173289999365807) * Get(-dx,0);
res += float4(-0.159789189696312,-0.207170799374580,0.174725264310837,-0.134237796068192) * Get(-dx,dy);
res += float4(-0.013907919637859,0.079784706234932,-0.248797729611397,0.054244309663773) * Get(-dx,ddy);
res += float4(-0.021164650097489,0.074572667479515,-0.033081423491240,0.027313137426972) * Get(0,-ddy);
res += float4(-0.394054234027863,0.070524826645851,0.125238195061684,0.059838980436325) * Get(0,-dy);
res += float4(-0.483011156320572,0.571931242942810,-0.302112877368927,0.601208746433258) * Get(0,0);
res += float4(0.290086865425110,-0.098409801721573,0.024358402937651,0.029882088303566) * Get(0,dy);
res += float4(-0.016286222264171,0.130246400833130,-1.158838748931885,-0.055177740752697) * Get(0,ddy);
res += float4(0.048514291644096,0.166587248444557,0.016852419823408,-0.020606478676200) * Get(dx,-ddy);
res += float4(-0.077419839799404,-0.319568157196045,-0.006307311356068,0.029703957960010) * Get(dx,-dy);
res += float4(0.743976354598999,0.199414864182472,-0.019980993121862,-0.084973946213722) * Get(dx,0);
res += float4(-0.069763235747814,-0.227145031094551,0.121679872274399,-0.009372958913445) * Get(dx,dy);
res += float4(0.039248172193766,0.164741605520248,-0.137767896056175,0.051195535808802) * Get(dx,ddy);
res += float4(-0.016040902584791,-0.045290991663933,-0.003370136488229,0.007569625042379) * Get(ddx,-ddy);
res += float4(0.054727148264647,0.048609424382448,0.004719031509012,-0.049243927001953) * Get(ddx,-dy);
res += float4(0.001102769398130,0.007240721024573,0.034438148140907,0.039605077356100) * Get(ddx,0);
res += float4(-0.004239441826940,-0.060089204460382,-0.039229724556208,0.004640466067940) * Get(ddx,dy);
res += float4(0.008715764619410,0.033636223524809,-0.001649997197092,0.006919757928699) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.484588712453842,0.001365829608403,0.014447081834078,0.153398767113686) * min(float4(0, 0, 0, 0), res);
return res;
}
