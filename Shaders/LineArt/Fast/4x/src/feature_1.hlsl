sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.494914978742599,0.094168186187744,0.054157339036465,0.304414957761765);
res += float4(0.005381528753787,0.029607277363539,0.034326031804085,0.019664308056235) * Get(-ddx,-ddy);
res += float4(0.056729465723038,-0.041830431669950,-0.051172614097595,-0.004304414149374) * Get(-ddx,-dy);
res += float4(-0.128487020730972,0.005297868512571,-0.096005737781525,-0.001448287279345) * Get(-ddx,0);
res += float4(0.042529232800007,0.021694619208574,0.052549887448549,0.023021606728435) * Get(-ddx,dy);
res += float4(-0.038456313312054,-0.001546218758449,0.009399056434631,0.016746290028095) * Get(-ddx,ddy);
res += float4(-0.109998032450676,-0.007267636712641,-0.169339299201965,0.008877993561327) * Get(-dx,-ddy);
res += float4(-0.055600114166737,-0.014048669487238,0.530254483222961,-0.033740229904652) * Get(-dx,-dy);
res += float4(-0.140611708164215,0.120752081274986,-0.117181979119778,0.086899429559708) * Get(-dx,0);
res += float4(0.222702234983444,-0.151738971471786,-0.211742892861366,-0.069915249943733) * Get(-dx,dy);
res += float4(0.036465242505074,0.052463173866272,-0.062997497618198,-0.045381065458059) * Get(-dx,ddy);
res += float4(-0.056191667914391,-0.009398479945958,-0.056618377566338,0.005481345113367) * Get(0,-ddy);
res += float4(0.203161224722862,0.743819832801819,-0.269036978483200,0.073690228164196) * Get(0,-dy);
res += float4(0.633883655071259,-0.996028184890747,0.289346277713776,0.070279628038406) * Get(0,0);
res += float4(0.246842235326767,0.197759538888931,0.195298746228218,-0.258547931909561) * Get(0,dy);
res += float4(0.006954686250538,-0.005125241819769,-0.031069731339812,0.125337153673172) * Get(0,ddy);
res += float4(-0.017339196056128,-0.001804755651392,0.028594676405191,-0.008459738455713) * Get(dx,-ddy);
res += float4(-0.244459524750710,0.038112416863441,-0.049363244324923,0.032519560307264) * Get(dx,-dy);
res += float4(0.200227379798889,-0.054879009723663,-0.026359975337982,-0.665496706962585) * Get(dx,0);
res += float4(0.125676587224007,0.043221030384302,0.023424703627825,-0.901753962039948) * Get(dx,dy);
res += float4(-0.063050061464310,-0.017810963094234,-0.019800757989287,-0.380739957094193) * Get(dx,ddy);
res += float4(0.053101439028978,0.005326061043888,0.003491036826745,-0.020235305652022) * Get(ddx,-ddy);
res += float4(-0.013694335706532,0.056061387062073,-0.128124743700027,0.020808137953281) * Get(ddx,-dy);
res += float4(-0.041171636432409,-0.076878592371941,0.063163921236992,0.081512361764908) * Get(ddx,0);
res += float4(-0.053098823875189,0.021126288920641,0.014425971545279,-0.340165197849274) * Get(ddx,dy);
res += float4(0.014818453229964,-0.001626853714697,0.035009820014238,0.079535059630871) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.969048321247101,0.551314294338226,0.185917735099792,0.043164152652025) * min(float4(0, 0, 0, 0), res);
return res;
}
