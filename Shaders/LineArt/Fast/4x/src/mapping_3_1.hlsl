sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.011987754143775,-0.018241506069899,-0.231909364461899,0.177177309989929);
res += mul(Get(s0,-dx,-dy), float4x4(-0.107974581420422,-0.041866187006235,-0.116233855485916,-0.025551393628120,-0.013928304426372,-0.071489825844765,0.008510246872902,-0.022944049909711,-0.352718025445938,0.046861127018929,-0.127525478601456,-0.044841766357422,-0.140921160578728,-0.029220815747976,-0.129155293107033,-0.111954264342785));
res += mul(Get(s0,-dx,0), float4x4(-0.161343038082123,0.168097406625748,0.086414441466331,-0.099275313317776,0.017083775252104,-0.091680489480495,0.140190809965134,-0.100374914705753,-0.184307485818863,0.005042589735240,-0.074448846280575,0.153828263282776,0.443149596452713,-0.127185821533203,0.107858784496784,-0.152208507061005));
res += mul(Get(s0,-dx,dy), float4x4(0.060238894075155,-0.208967804908752,-0.118629924952984,0.074939981102943,0.015823964029551,-0.021267911419272,0.092932119965553,-0.067002847790718,-0.006044525187463,0.038988698273897,-0.144685670733452,0.129160121083260,-0.107876233756542,-0.117095001041889,-0.032412614673376,0.144120141863823));
res += mul(Get(s0,0,-dy), float4x4(-0.176038965582848,-0.173571333289146,-0.388061285018921,0.003672637743875,-0.022826531901956,-0.107262305915356,-0.014005409553647,0.112200155854225,0.044656809419394,-0.024181313812733,0.114576019346714,-0.071494415402412,0.255311250686646,0.091331452131271,0.243908524513245,0.060711987316608));
res += mul(Get(s0,0,0), float4x4(0.117192432284355,-0.085235364735126,0.807848751544952,-0.770961761474609,0.125414088368416,0.222291573882103,-0.190586015582085,-0.307388871908188,-0.337018698453903,-0.277854859828949,0.639944970607758,-0.044163819402456,-0.551768839359283,-0.159135878086090,-0.251002669334412,-0.299925625324249));
res += mul(Get(s0,0,dy), float4x4(0.032745968550444,-0.251903086900711,-0.224084094166756,0.284872740507126,-0.292148560285568,0.055778365582228,0.009143622592092,-0.219962254166603,-0.122777812182903,-0.085269309580326,-0.023974193260074,0.120404392480850,0.373556941747665,-0.312785923480988,-0.018520502373576,0.189454898238182));
res += mul(Get(s0,dx,-dy), float4x4(-0.032297447323799,-0.054794222116470,-0.197313845157623,0.152728065848351,-0.040271364152431,-0.026589773595333,0.017903372645378,-0.056752093136311,-0.181206092238426,-0.229390099644661,-0.348173290491104,0.080523677170277,0.166743561625481,-0.047429598867893,0.197869196534157,-0.081490732729435));
res += mul(Get(s0,dx,0), float4x4(-0.007796474732459,0.015368398278952,-0.191960260272026,0.326718717813492,0.042856641113758,0.419829487800598,0.375602751970291,-0.474847614765167,-0.036505427211523,-0.095458880066872,-0.133880123496056,0.183534085750580,-0.029084689915180,-0.240251988172531,-0.318878978490829,0.107473403215408));
res += mul(Get(s0,dx,dy), float4x4(0.145382434129715,-0.221147656440735,-0.139325276017189,0.221706032752991,0.037974435836077,0.234405592083931,0.343494921922684,-0.239318102598190,0.221342757344246,-0.022073557600379,0.068239547312260,-0.139670178294182,-0.152050837874413,-0.158588424324989,0.093778818845749,-0.031002534553409));
res += mul(Get(s1,-dx,-dy), float4x4(0.226422652602196,0.039699662476778,0.101282700896263,0.058737613260746,-0.250584781169891,0.030343148857355,-0.028330152854323,-0.015258778817952,-0.033594045788050,-0.082204394042492,-0.142163515090942,0.046995230019093,0.050541859120131,-0.009183896705508,0.228200137615204,-0.139693677425385));
res += mul(Get(s1,-dx,0), float4x4(-0.005542795173824,-0.145924717187881,-0.038705419749022,0.258671134710312,0.126186877489090,-0.101489201188087,0.021998500451446,-0.017768694087863,0.406850695610046,0.068489700555801,0.156177192926407,-0.580912947654724,-0.426765084266663,-0.074427165091038,0.056613747030497,-0.442833900451660));
res += mul(Get(s1,-dx,dy), float4x4(-0.119574740529060,-0.041263412684202,0.212397471070290,-0.052746482193470,0.125083148479462,0.023521158844233,0.118693515658379,-0.127650305628777,0.080280803143978,0.019769376143813,0.036178201436996,-0.437447309494019,-0.924898982048035,0.131970092654228,-0.204794555902481,-0.085516683757305));
res += mul(Get(s1,0,-dy), float4x4(-0.028528157621622,0.102120511233807,-0.077470771968365,0.125623136758804,-0.108330093324184,-0.249231502413750,0.047141175717115,-0.201422765851021,0.041400305926800,-0.191145360469818,-0.127018406987190,-0.365307182073593,-0.310686647891998,-0.097637347877026,-0.189170613884926,-0.552667081356049));
res += mul(Get(s1,0,0), float4x4(0.060368862003088,0.220346704125404,-0.445071458816528,0.343327969312668,-0.214582026004791,0.682485103607178,-0.263967424631119,-0.279775321483612,-0.039247974753380,0.154476389288902,0.541793465614319,-0.221683815121651,-0.576186239719391,0.455039203166962,-0.014943003654480,-0.183318778872490));
res += mul(Get(s1,0,dy), float4x4(-0.070938162505627,-0.059070877730846,-0.221348434686661,0.125572189688683,-0.041888616979122,-0.041926279664040,0.110009975731373,0.096274085342884,-0.029298137873411,0.209290891885757,0.362695425748825,-0.371080935001373,-0.631497979164124,0.036211464554071,0.194004029035568,-0.444329291582108));
res += mul(Get(s1,dx,-dy), float4x4(-0.001816500443965,0.164426997303963,0.058331381529570,-0.042703244835138,0.117638364434242,-0.252188891172409,-0.199840486049652,0.023212062194943,0.077538534998894,-0.202806308865547,-0.125541865825653,-0.196413367986679,-0.209126740694046,0.396979212760925,0.405772387981415,-0.340994834899902));
res += mul(Get(s1,dx,0), float4x4(-0.107299305498600,0.357380062341690,-0.169881507754326,0.181244716048241,-0.028326313942671,-0.258579760789871,-0.546268105506897,0.599902510643005,-0.074624359607697,0.065236024558544,0.286116927862167,-0.154761791229248,-0.316518843173981,0.172241121530533,0.074399128556252,-0.131730541586876));
res += mul(Get(s1,dx,dy), float4x4(0.158446729183197,0.075154639780521,0.028728103265166,0.006540635135025,-0.145700529217720,-0.028295736759901,0.019249947741628,0.088737964630127,0.031912963837385,0.097947694361210,0.358611047267914,-0.459878087043762,0.126352757215500,-0.169360324740410,-0.190982609987259,0.226699575781822));
res += mul(Get(s2,-dx,-dy), float4x4(-0.063570596277714,0.121524818241596,0.013240718282759,0.108490452170372,0.220656767487526,-0.021149398759007,-0.071174107491970,0.181503653526306,-0.111184239387512,-0.030849909409881,0.028878256678581,-0.049508221447468,0.532412648200989,-0.068194858729839,0.265504598617554,0.264927238225937));
res += mul(Get(s2,-dx,0), float4x4(-0.611057758331299,0.114046022295952,-0.080582097172737,0.548135638237000,0.279171079397202,-0.064427331089973,0.007571438327432,0.089485824108124,0.265540510416031,-0.045220714062452,0.106441453099251,-0.050350580364466,0.464161932468414,-0.060573000460863,0.248378753662109,-0.432604938745499));
res += mul(Get(s2,-dx,dy), float4x4(0.126069501042366,0.189834490418434,-0.009610089473426,0.568673312664032,0.205809324979782,-0.091362476348877,0.031056407839060,0.007105171214789,0.027378775179386,-0.043828658759594,0.087774485349655,0.041638754308224,0.165996313095093,0.068215049803257,0.220130965113640,-0.271186709403992));
res += mul(Get(s2,0,-dy), float4x4(-0.157224893569946,0.269731491804123,0.592106819152832,0.232727468013763,0.119409762322903,-0.000652112998068,-0.083656273782253,-0.165193200111389,0.037910088896751,-0.062948219478130,-0.045962858945131,-0.038022857159376,0.400539904832840,0.155304893851280,-0.078060746192932,-0.196644604206085));
res += mul(Get(s2,0,0), float4x4(0.215815737843513,0.233607500791550,0.757676601409912,-0.344125330448151,0.337498843669891,0.156226485967636,0.026836406439543,0.086845919489861,-0.392988234758377,0.039550293236971,-0.521992862224579,0.236925557255745,0.533196330070496,0.078205876052380,0.269736528396606,0.100686050951481));
res += mul(Get(s2,0,dy), float4x4(-0.424751162528992,0.363975912332535,0.804153025150299,0.009539634920657,0.219046115875244,0.085722304880619,-0.183151707053185,0.165292233228683,-0.111262351274490,-0.113077305257320,0.118249207735062,0.032747838646173,0.094217076897621,0.035852599889040,-0.062075506895781,0.047715228050947));
res += mul(Get(s2,dx,-dy), float4x4(-0.125390514731407,0.328147619962692,0.357168585062027,0.177922144532204,0.076946295797825,-0.060417477041483,-0.130182012915611,0.000197691755602,0.001900106552057,0.009553705342114,-0.058329854160547,-0.048020448535681,0.113776028156281,0.374629378318787,0.494350492954254,-0.219973906874657));
res += mul(Get(s2,dx,0), float4x4(-0.135355189442635,0.188689768314362,0.605844795703888,-0.152019456028938,0.067912511527538,0.122193880379200,0.118486374616623,0.057365413755178,-0.105154164135456,-0.085807606577873,-0.382872492074966,0.099908769130707,0.228775069117546,0.116747818887234,0.039814960211515,0.050856161862612));
res += mul(Get(s2,dx,dy), float4x4(-0.123051092028618,0.233727872371674,0.768030643463135,-0.152450457215309,-0.094621971249580,-0.017388749867678,-0.038951490074396,0.008368800394237,-0.025206005200744,-0.034640349447727,0.124425478279591,-0.250522345304489,0.148530572652817,-0.026283919811249,-0.002021803054959,0.338011771440506));
res = max(float4(0, 0, 0, 0), res) + float4(-0.139955341815948,0.766769111156464,0.086737073957920,0.266694694757462) * min(float4(0, 0, 0, 0), res);
return res;
}
