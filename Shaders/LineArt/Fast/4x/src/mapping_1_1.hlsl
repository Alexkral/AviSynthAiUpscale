sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.140155568718910,0.019621774554253,-0.022277398034930,-0.268048405647278);
res += mul(Get(s0,-dx,-dy), float4x4(-0.254462003707886,0.064941152930260,0.112238600850105,-0.043063361197710,-0.075427711009979,-0.120725095272064,-0.352837085723877,-0.071077570319176,-0.189419165253639,-0.011871358379722,0.097613401710987,-0.096066311001778,0.296370983123779,0.478072285652161,-0.418284058570862,-0.426728993654251));
res += mul(Get(s0,-dx,0), float4x4(-0.036389987915754,-0.329703241586685,-0.109459519386292,-0.224188059568405,0.213538050651550,-0.079903252422810,0.550556838512421,0.182054728269577,0.061753544956446,-0.064054466784000,-0.240840509533882,0.271532416343689,0.070061504840851,-0.889068901538849,-0.006524034310132,-0.311095952987671));
res += mul(Get(s0,-dx,dy), float4x4(-0.148293733596802,0.303082197904587,-0.073256745934486,-0.143856048583984,0.059683900326490,-0.036176115274429,0.243180856108665,-0.300352841615677,-0.050425089895725,-0.016882074996829,-0.152126967906952,0.070269763469696,-0.186450034379959,0.219516873359680,0.048359334468842,0.039240207523108));
res += mul(Get(s0,0,-dy), float4x4(0.087831787765026,-0.030472882091999,-0.361392199993134,0.000486185745103,0.047317035496235,-0.031413443386555,0.158006846904755,0.503561675548553,0.122184671461582,-0.035652112215757,0.020364021882415,-0.068611837923527,0.250673711299896,0.422097921371460,-0.104466535151005,-0.201836526393890));
res += mul(Get(s0,0,0), float4x4(0.489495903253555,-0.558767974376678,0.225543081760406,0.367779552936554,-0.290369212627411,0.484402328729630,-0.506030857563019,-0.185370936989784,-0.131033048033714,0.253828108310699,0.279770195484161,0.264028906822205,0.036314498633146,-0.439115822315216,-0.055448640137911,-0.028955228626728));
res += mul(Get(s0,0,dy), float4x4(-0.140021800994873,0.638204216957092,-0.130525514483452,0.138493001461029,0.123722665011883,-0.955744624137878,-0.146312683820724,-0.083478145301342,-0.116518191993237,0.631231427192688,0.065763749182224,-0.435772091150284,-0.065862543880939,-0.032422527670860,-0.120894357562065,-0.094353444874287));
res += mul(Get(s0,dx,-dy), float4x4(-0.089505694806576,0.071640536189079,0.165778100490570,0.537304818630219,0.187867373228073,-0.049737110733986,0.104542501270771,-0.140079736709595,0.417595118284225,-0.090213723480701,-0.048043504357338,0.035346649587154,-0.065818473696709,0.052118714898825,-0.079417407512665,0.088854856789112));
res += mul(Get(s0,dx,0), float4x4(0.182839483022690,-0.058342274278402,0.106233268976212,0.165304347872734,-0.677389919757843,-0.128316789865494,0.133878603577614,-0.093276344239712,-0.096724681556225,-0.128416106104851,0.004947056993842,-0.121221236884594,-0.115060620009899,-0.002178939059377,0.084920533001423,0.072597838938236));
res += mul(Get(s0,dx,dy), float4x4(0.064663857221603,-0.069430366158485,0.033973451703787,-0.086561247706413,0.452027052640915,0.164328798651695,-0.164994508028030,-0.030028736218810,-0.230379760265350,-0.379569202661514,-0.120215311646461,0.031037118285894,-0.168224141001701,-0.041843648999929,0.012373555451632,0.138226002454758));
res += mul(Get(s1,-dx,-dy), float4x4(0.170058712363243,-0.047139327973127,-0.475344687700272,-0.024783769622445,-0.145950153470039,-0.132000148296356,-0.139424219727516,-0.003449614625424,-0.070913679897785,0.270346999168396,0.447132140398026,-0.284590601921082,-0.097496651113033,0.004425150807947,-0.043229345232248,0.003760919673368));
res += mul(Get(s1,-dx,0), float4x4(-0.403202533721924,0.080506972968578,0.658400535583496,0.237743496894836,0.317201048135757,0.015002447180450,-0.080893717706203,0.525276482105255,-0.019523307681084,0.090232022106647,-0.075666822493076,-0.126272886991501,-0.296114385128021,-0.131481990218163,0.260863423347473,-0.081644386053085));
res += mul(Get(s1,-dx,dy), float4x4(0.021991485729814,0.011146030388772,0.179648473858833,0.180626392364502,0.364007174968719,-0.101390458643436,0.098008245229721,-0.076990664005280,0.016242692247033,-0.008930055424571,0.062704719603062,-0.036496564745903,-0.322489380836487,0.087159447371960,0.085328325629234,0.000866421265528));
res += mul(Get(s1,0,-dy), float4x4(0.293013721704483,-0.065189801156521,0.237543478608131,0.265323162078857,-0.091114848852158,-0.067211538553238,-0.137340590357780,0.046917848289013,0.439596921205521,-0.384088277816772,-0.008462437428534,-0.282417565584183,-0.073971800506115,-0.083105079829693,0.057789087295532,0.005350356455892));
res += mul(Get(s1,0,0), float4x4(0.443776458501816,0.347807914018631,-0.133229389786720,-0.047382239252329,-0.079231537878513,-0.027925685048103,0.134065255522728,0.401796907186508,0.005477428436279,-0.352863550186157,-0.149313852190971,-0.255173176527023,0.356767028570175,-0.035679489374161,-0.044866513460875,-0.184931367635727));
res += mul(Get(s1,0,dy), float4x4(-0.014030865393579,0.008640001527965,-0.254458755254745,0.025306547060609,-0.269330263137817,-0.109176717698574,-0.022014589980245,0.002396868774667,-0.070156395435333,-0.100083239376545,-0.027305608615279,0.201004758477211,-0.179233863949776,0.062780655920506,-0.012287573888898,0.335923969745636));
res += mul(Get(s1,dx,-dy), float4x4(-0.005193963646889,-0.029578233137727,-0.008750737644732,-0.043838471174240,0.322257608175278,-0.159740820527077,-0.039370778948069,-0.251735121011734,0.500355005264282,-0.031298592686653,0.023683281615376,0.553315222263336,0.019110912457108,-0.085381478071213,-0.001587367034517,0.120825707912445));
res += mul(Get(s1,dx,0), float4x4(-0.517255604267120,0.041946392506361,-0.014827816747129,0.132961377501488,-0.069744862616062,-0.010926827788353,0.037082593888044,-0.385698735713959,-0.151444330811501,0.110451556742191,0.060693591833115,0.071619413793087,0.072606481611729,-0.093410417437553,-0.200916692614555,-0.216597691178322));
res += mul(Get(s1,dx,dy), float4x4(-0.117123693227768,-0.136497512459755,-0.019756687805057,-0.040496200323105,0.040128607302904,0.076197281479836,0.084945470094681,0.004883160348982,0.065773099660873,0.069712579250336,0.047230429947376,-0.037853833287954,0.125607252120972,0.273992061614990,0.002462470903993,-0.030070800334215));
res += mul(Get(s2,-dx,-dy), float4x4(0.085163496434689,-0.065034076571465,0.024552127346396,-0.183125913143158,0.001796624623239,0.034406013786793,0.081616342067719,0.049106158316135,0.157458558678627,0.024111667647958,0.149668678641319,-0.085574544966221,0.305869460105896,0.097204580903053,0.217455670237541,0.126309052109718));
res += mul(Get(s2,-dx,0), float4x4(-0.104740366339684,0.042484216392040,-0.372334092855453,-0.257969826459885,-0.155821025371552,-0.009142849594355,-0.186012595891953,-0.086646981537342,0.064795367419720,-0.363713890314102,-0.254714041948318,-0.216715663671494,0.316396176815033,0.001911944127642,-0.558073461055756,0.264454632997513));
res += mul(Get(s2,-dx,dy), float4x4(0.194893300533295,0.071889474987984,0.037000425159931,0.134082540869713,-0.316222876310349,0.215323150157928,0.456456601619720,-0.509342670440674,0.065487228333950,0.225061640143394,-0.151239395141602,0.035140115767717,-0.850209176540375,0.054189119488001,0.232444539666176,0.202433139085770));
res += mul(Get(s2,0,-dy), float4x4(0.257240146398544,0.135712504386902,0.058363359421492,-0.040876891463995,-0.132185876369476,0.046867374330759,-0.082172445952892,0.040694151073694,-0.089339882135391,-0.116837956011295,0.231214210391045,-0.174098312854767,0.038221076130867,-0.335271775722504,0.193918198347092,0.016703443601727));
res += mul(Get(s2,0,0), float4x4(-0.153174594044685,-0.503137469291687,0.174340322613716,0.225979417562485,-0.039154734462500,-0.025481730699539,0.040532168000937,-0.190831601619720,-0.263990521430969,-0.438895225524902,-0.038186550140381,0.502480447292328,-1.302035212516785,-0.630605876445770,0.966670393943787,0.979630589485168));
res += mul(Get(s2,0,dy), float4x4(-0.245875850319862,0.571763455867767,-0.042854212224483,-0.008929260075092,0.820386826992035,0.414748549461365,-0.166677162051201,0.061609938740730,-0.334784507751465,0.399289041757584,0.091289646923542,-0.023428333923221,-0.803423881530762,0.964704036712646,0.145590797066689,0.682562232017517));
res += mul(Get(s2,dx,-dy), float4x4(-0.339293241500854,0.041189476847649,-0.038470875471830,-0.298236668109894,-0.284058362245560,0.010614192113280,0.027857037261128,-0.026599369943142,0.020793329924345,-0.105299502611160,-0.245278984308243,-0.287654608488083,0.372587502002716,0.043026961386204,-0.224516063928604,-0.663393080234528));
res += mul(Get(s2,dx,0), float4x4(0.145022079348564,-0.068931020796299,0.080664731562138,0.142951890826225,-0.023457815870643,-0.111197292804718,0.060696065425873,0.235875591635704,0.202087104320526,-0.249462917447090,0.173096492886543,0.156915917992592,-0.365766048431396,-0.061613485217094,-0.232247233390808,-0.205657646059990));
res += mul(Get(s2,dx,dy), float4x4(-0.129155382514000,-0.056549936532974,0.044736940413713,-0.088247381150723,0.479410022497177,0.044615752995014,0.064083144068718,0.434004813432693,0.259009510278702,0.355694025754929,-0.053133554756641,0.060792546719313,0.797939956188202,0.220023900270462,-0.298571616411209,-0.629953980445862));
res = max(float4(0, 0, 0, 0), res) + float4(0.286585003137589,-0.413688302040100,-0.606366991996765,0.573100090026855) * min(float4(0, 0, 0, 0), res);
return res;
}
