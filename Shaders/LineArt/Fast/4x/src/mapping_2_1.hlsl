sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.020021390169859,-0.112746872007847,0.041076377034187,0.023097028955817);
res += mul(Get(s0,-dx,-dy), float4x4(0.155362620949745,-0.217528030276299,0.098313696682453,-0.403972744941711,0.156982377171516,-0.121328860521317,0.094933949410915,0.116863198578358,0.066142275929451,0.099948018789291,-0.007063329685479,0.027748996391892,-0.086286537349224,0.264201819896698,0.111687630414963,-0.081837922334671));
res += mul(Get(s0,-dx,0), float4x4(-0.410160273313522,-0.199612870812416,0.465016454458237,-0.101330831646919,0.037381794303656,-0.035212177783251,0.124898985028267,-0.164629593491554,0.108521185815334,0.160145238041878,0.166397824883461,0.041929103434086,-0.164823368191719,0.200597986578941,-0.020424988120794,-0.084374256432056));
res += mul(Get(s0,-dx,dy), float4x4(-0.110309384763241,-0.177644714713097,0.245960876345634,-0.272945255041122,-0.005381123162806,-0.003247608197853,0.079928949475288,-0.134146943688393,-0.009440812282264,0.025974301621318,-0.050438582897186,0.021607886999846,0.067028537392616,-0.020000310614705,-0.063047423958778,0.406249076128006));
res += mul(Get(s0,0,-dy), float4x4(0.470104724168777,-0.331251919269562,-0.075980082154274,-0.458992570638657,-0.279672086238861,0.019670408219099,0.157484069466591,-0.069985680282116,0.106336571276188,-0.012114244513214,0.206516325473785,0.174222066998482,0.103245697915554,0.396817117929459,-0.038818575441837,0.024725507944822));
res += mul(Get(s0,0,0), float4x4(0.135371923446655,-0.211880609393120,-0.022016659379005,-0.523334562778473,-0.356326639652252,-0.129826232790947,0.151095896959305,0.469942569732666,-0.120823785662651,0.222982123494148,0.317686647176743,-0.145161971449852,-0.155928507447243,-0.196994230151176,0.488338977098465,0.123088829219341));
res += mul(Get(s0,0,dy), float4x4(0.357976287603378,-0.450252741575241,0.365659117698669,-0.095050044357777,0.014483376406133,-0.015716796740890,-0.080085493624210,-0.305163830518723,-0.177650496363640,-0.026123924180865,0.307646304368973,-0.063809186220169,0.117109738290310,-0.076204486191273,-0.207657307386398,0.099091336131096));
res += mul(Get(s0,dx,-dy), float4x4(0.240515694022179,0.041485309600830,-0.042097099125385,0.013302483595908,-0.116229772567749,0.081763751804829,-0.027252951636910,0.090534962713718,0.043306741863489,0.016103645786643,-0.024704152718186,0.122696988284588,-0.101021043956280,-0.185035973787308,0.030374506488442,0.060986541211605));
res += mul(Get(s0,dx,0), float4x4(0.470087915658951,0.062582321465015,-0.029242150485516,-0.211563736200333,-0.133731454610825,0.050498977303505,0.118871934711933,0.162160262465477,-0.013453411869705,-0.000113490779768,-0.149944424629211,0.046661738306284,-0.155360758304596,-0.384224057197571,0.090114451944828,0.424654424190521));
res += mul(Get(s0,dx,dy), float4x4(0.027556097134948,-0.016810940578580,-0.095432020723820,-0.196125984191895,0.006060380488634,-0.033580042421818,-0.100876711308956,0.052043810486794,-0.048863355070353,0.228673681616783,0.580745339393616,0.231059417128563,0.148945465683937,-0.120954379439354,-0.113651327788830,-0.035316318273544));
res += mul(Get(s1,-dx,-dy), float4x4(0.222855836153030,-0.056868035346270,-0.136314108967781,-0.262559533119202,0.099509418010712,-0.144898295402527,-0.085893012583256,-0.041247710585594,-0.132493302226067,-0.212628528475761,0.155870407819748,-0.092718094587326,-0.198890537023544,0.065852724015713,0.129173770546913,0.094712115824223));
res += mul(Get(s1,-dx,0), float4x4(0.354479610919952,0.031912248581648,-0.311843454837799,0.192199423909187,0.066278979182243,-0.022169992327690,-0.083368591964245,-0.204935461282730,-0.146155968308449,0.181282222270966,0.047028504312038,-0.070528075098991,-0.075237400829792,-0.166492819786072,-0.278724372386932,-0.012729323469102));
res += mul(Get(s1,-dx,dy), float4x4(0.245456293225288,-0.073218852281570,-0.407721430063248,0.021934464573860,0.046305675059557,-0.153565928339958,-0.224120453000069,0.318349063396454,0.176797717809677,-0.087067589163780,0.038438152521849,0.366749823093414,0.004443007986993,-0.078899703919888,0.032269876450300,0.149842008948326));
res += mul(Get(s1,0,-dy), float4x4(-0.081240944564342,0.054928746074438,-0.238463267683983,0.106357470154762,0.335563480854034,-0.281989663839340,-0.081946067512035,0.253642529249191,0.184897243976593,-0.199232906103134,-0.001228049863130,-0.204857558012009,-0.007428643759340,0.157727703452110,0.008394620381296,0.043957397341728));
res += mul(Get(s1,0,0), float4x4(-0.444965332746506,0.928502917289734,0.177323132753372,-0.174418643116951,-0.550103366374969,-0.031158860772848,0.107748068869114,-0.423203647136688,0.519493222236633,0.114087902009487,-0.494148075580597,0.124090783298016,0.259546726942062,-0.007307675201446,-0.177538245916367,-0.061846356838942));
res += mul(Get(s1,0,dy), float4x4(-0.271817624568939,0.021278617903590,0.339320331811905,-0.046696897596121,0.185138553380966,0.014563905075192,0.401712030172348,0.703724265098572,0.034195419400930,0.214696332812309,-0.407637447118759,0.233673930168152,0.121063895523548,-0.018370229750872,0.061971593648195,-0.170691326260567));
res += mul(Get(s1,dx,-dy), float4x4(-0.102546945214272,-0.021982196718454,-0.120532892644405,-0.111906148493290,0.039318643510342,0.053367685526609,-0.027620028704405,0.349270522594452,-0.060108035802841,-0.009455251507461,0.049938075244427,-0.139047652482986,-0.109723918139935,-0.007949385792017,0.026165951043367,-0.038136921823025));
res += mul(Get(s1,dx,0), float4x4(-0.135868653655052,0.321936905384064,0.271093904972076,0.176583215594292,-0.326171129941940,0.103527382016182,-0.173129498958588,0.098628647625446,0.133377373218536,-0.100149318575859,0.150043323636055,-0.172028630971909,0.015416517853737,-0.104793451726437,-0.022031767293811,-0.046379789710045));
res += mul(Get(s1,dx,dy), float4x4(-0.454635083675385,-0.039099726825953,-0.077048763632774,0.032555464655161,-0.049933690577745,0.366359591484070,-0.135142788290977,-0.081871733069420,0.110660374164581,-0.071200326085091,-0.090862870216370,0.129982620477676,-0.018573608249426,-0.030611956492066,-0.012465772219002,0.055050592869520));
res += mul(Get(s2,-dx,-dy), float4x4(0.025328241288662,0.067230463027954,0.002831014338881,0.094744578003883,-0.132119536399841,-0.082281030714512,-0.013697546906769,-0.037844475358725,-0.150446251034737,-0.183204889297485,0.020499581471086,-0.290642559528351,0.003287546103820,-0.041557569056749,0.208255782723427,0.185147330164909));
res += mul(Get(s2,-dx,0), float4x4(0.054461043328047,-0.081127695739269,-0.039331637322903,-0.049618758261204,-0.172262340784073,0.030314821749926,-0.164078235626221,0.065856784582138,-0.070742174983025,-0.471275597810745,-0.373676389455795,0.166186928749084,0.183442369103432,0.072798721492290,0.494034260511398,-0.654241681098938));
res += mul(Get(s2,-dx,dy), float4x4(-0.006987318862230,0.037399455904961,0.074119441211224,-0.098011404275894,0.072106257081032,0.049331720918417,-0.021713528782129,0.001513604191132,-0.142318561673164,0.057534746825695,-0.075195766985416,0.088395558297634,0.171989947557449,-0.269251316785812,0.055547889322042,0.052335623651743));
res += mul(Get(s2,0,-dy), float4x4(-0.031911969184875,0.102655380964279,-0.043277405202389,-0.012890731915832,0.229426935315132,-0.009797122329473,-0.145098656415939,-0.124984398484230,-0.334602415561676,-0.250284224748611,0.097552642226219,0.059247069060802,-0.143711119890213,-0.045869242399931,0.008605526760221,-0.060578215867281));
res += mul(Get(s2,0,0), float4x4(-0.149999693036079,0.268142879009247,0.104205071926117,-0.061080738902092,0.081034928560257,0.007447991054505,0.183867648243904,-0.097875975072384,1.357844710350037,-1.144205093383789,-0.902481138706207,-0.291614860296249,-0.336703479290009,0.037113178521395,-0.351096868515015,-0.065786257386208));
res += mul(Get(s2,0,dy), float4x4(0.088739939033985,0.056180343031883,-0.118571259081364,-0.215472742915154,0.056236710399389,-0.016010910272598,0.354587316513062,-0.188018813729286,-0.073610074818134,0.166654929518700,0.337606340646744,-0.199375852942467,0.009392533451319,-0.237998038530350,-0.097373932600021,0.007486728485674));
res += mul(Get(s2,dx,-dy), float4x4(0.080035284161568,-0.014247804880142,-0.047062464058399,-0.137642875313759,-0.255381494760513,-0.111725874245167,0.064295321702957,0.076714456081390,-0.242571830749512,0.211564376950264,-0.020878924056888,0.082040056586266,-0.470971792936325,0.146020948886871,0.091704912483692,0.066252440214157));
res += mul(Get(s2,dx,0), float4x4(-0.392369478940964,-0.263453155755997,-0.102141477167606,-0.178024649620056,0.025748532265425,-0.020922934636474,-0.081391721963882,0.081757158041000,-0.020915629342198,0.375551789999008,-0.068352535367012,0.098712407052517,-0.209365576505661,0.286486834287643,0.019676143303514,-0.185513108968735));
res += mul(Get(s2,dx,dy), float4x4(0.031898587942123,-0.029530858621001,-0.316395968198776,-0.086485385894775,0.046239346265793,-0.000203003975912,0.238314226269722,-0.117801003158092,-0.229131773114204,0.150872379541397,-0.181088566780090,0.066645227372646,-0.011713850311935,0.439352899789810,-0.069416373968124,0.109582550823689));
res = max(float4(0, 0, 0, 0), res) + float4(0.183753788471222,-0.682842791080475,0.350188702344894,0.140492737293243) * min(float4(0, 0, 0, 0), res);
return res;
}
