sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.065973527729511,-0.045195873826742,-0.185040861368179,-0.244318053126335);
res += mul(Get(s0,-dx,-dy), float4x4(0.099043630063534,-0.005771050229669,0.333701759576797,0.178994297981262,0.117641836404800,-0.284148156642914,0.345729857683182,0.201462000608444,-0.109347537159920,0.066892571747303,-0.557684779167175,-0.207775101065636,-0.019239259883761,-0.148420423269272,0.009214478544891,-0.043257080018520));
res += mul(Get(s0,-dx,0), float4x4(-0.023585148155689,-0.141207188367844,-0.199468538165092,0.241483241319656,-0.023434940725565,0.151298299431801,0.132185935974121,0.600841462612152,0.292381286621094,-0.268771320581436,-0.757543325424194,-0.981435596942902,-0.050801318138838,0.045728776603937,0.333105146884918,0.505606889724731));
res += mul(Get(s0,-dx,dy), float4x4(-0.092853501439095,-0.121691659092903,-0.062184985727072,-0.286033511161804,-0.109097860753536,-0.486069917678833,-0.178672954440117,-0.137401700019836,-0.033156827092171,-0.351612299680710,0.078759379684925,-0.116430304944515,0.037509799003601,-0.260951250791550,0.084307648241520,0.121400892734528));
res += mul(Get(s0,0,-dy), float4x4(-0.192688882350922,0.355325311422348,-0.696135938167572,-0.420268297195435,0.202179729938507,-0.293781876564026,0.271949559450150,0.021723721176386,0.144720494747162,0.016275746747851,0.055895641446114,-0.014136376790702,0.215768083930016,-0.199368461966515,0.154259979724884,-0.013120762072504));
res += mul(Get(s0,0,0), float4x4(0.325684487819672,-0.568345248699188,0.401810497045517,-0.496699064970016,-0.314196258783340,0.085742890834808,-0.188405156135559,0.238005056977272,-0.233166038990021,0.018121290951967,-0.060742285102606,-0.404582321643829,-0.424235165119171,0.157643422484398,-0.269559264183044,-0.472829431295395));
res += mul(Get(s0,0,dy), float4x4(-0.117359481751919,0.408965438604355,-0.122124224901199,0.085210397839546,0.053514141589403,-0.224671870470047,0.003709970973432,0.181801751255989,-0.549959003925323,0.133862569928169,-0.122421666979790,-0.134585082530975,0.369136989116669,-0.047115553170443,-0.065011322498322,-0.131856307387352));
res += mul(Get(s0,dx,-dy), float4x4(-0.050497479736805,0.219557002186775,0.125934749841690,0.192257225513458,0.066606014966965,-0.012961429543793,-0.013706101104617,0.026605892926455,-0.005198926199228,-0.034996926784515,-0.068806037306786,-0.044019833207130,0.045092280954123,-0.075456008315086,0.031640425324440,-0.028574356809258));
res += mul(Get(s0,dx,0), float4x4(-0.157400533556938,-0.257122635841370,0.112450957298279,0.256046980619431,0.222596809267998,-0.173260852694511,-0.040306586772203,0.045729901641607,-0.083233088254929,0.121028438210487,-0.034942217171192,-0.104139842092991,0.172782495617867,0.075086742639542,0.007706129923463,0.261909127235413));
res += mul(Get(s0,dx,dy), float4x4(0.058942254632711,0.018631471320987,-0.082472518086433,-0.074839599430561,-0.212688073515892,-0.048846140503883,0.004030255135149,-0.029775513336062,-0.005346328020096,-0.032230671495199,0.031345896422863,0.004956732504070,-0.005220726132393,-0.089947663247585,-0.035062514245510,-0.021929424256086));
res += mul(Get(s1,-dx,-dy), float4x4(0.002681210869923,0.075233675539494,-0.123881660401821,-0.046982493251562,0.028162499889731,0.049390476197004,0.122692905366421,-0.087373033165932,0.047947552055120,0.114509150385857,-0.053433153778315,0.054898962378502,0.063069269061089,-0.055205516517162,0.244662359356880,0.083772689104080));
res += mul(Get(s1,-dx,0), float4x4(-0.164689287543297,-0.089473977684975,-0.170759782195091,-0.369850754737854,0.189506933093071,-0.098383009433746,0.028392659500241,0.199552908539772,0.074761986732483,-0.113431110978127,0.278420776128769,0.163668736815453,-0.100059114396572,0.123149737715721,-0.082504421472549,0.399133056402206));
res += mul(Get(s1,-dx,dy), float4x4(0.050365529954433,0.019901968538761,0.157770961523056,0.092654705047607,-0.014022093266249,-0.071333631873131,-0.058665387332439,-0.112378306686878,-0.118224762380123,0.324992299079895,-0.061051487922668,-0.138375982642174,0.012187984772027,0.126794114708900,0.041609805077314,0.385704487562180));
res += mul(Get(s1,0,-dy), float4x4(-0.087158836424351,0.168663024902344,-0.528080880641937,-0.178046584129333,0.077323421835899,-0.042089883238077,0.480719983577728,0.287723749876022,-0.234815835952759,0.218618005514145,-0.091879196465015,-0.055223025381565,0.053490944206715,0.130809560418129,0.002827273914590,0.009909592568874));
res += mul(Get(s1,0,0), float4x4(-0.193067997694016,-1.234303593635559,-0.669657647609711,-1.239224195480347,0.926554024219513,-0.340297371149063,-0.106018744409084,-0.323117852210999,-0.000042761887016,-0.399342685937881,0.575960159301758,-0.151864618062973,0.198193103075027,-0.057988878339529,0.293474942445755,0.798602700233459));
res += mul(Get(s1,0,dy), float4x4(-0.329366832971573,-0.458799630403519,0.221908628940582,-0.123330608010292,-0.359683305025101,-0.055086463689804,-0.047699604183435,-0.086771607398987,0.195699632167816,0.824314892292023,-0.172063842415810,0.294370621442795,-0.192672014236450,-0.244526252150536,-0.027339966967702,0.009945185855031));
res += mul(Get(s1,dx,-dy), float4x4(-0.091502666473389,-0.012195493094623,0.108501181006432,0.064849011600018,0.095693171024323,-0.025125741958618,-0.026993976905942,-0.077112935483456,0.037399049848318,-0.014359217137098,-0.057997707277536,-0.088518075644970,-0.079104945063591,0.145887985825539,-0.114293038845062,0.019793534651399));
res += mul(Get(s1,dx,0), float4x4(0.153174445033073,0.011119403876364,0.115861393511295,0.293767601251602,0.554186344146729,0.077926769852638,0.076182164251804,0.189724564552307,0.015252428129315,0.007482915185392,-0.013927741907537,-0.053408537060022,-0.004428729414940,-0.064385905861855,-0.173704922199249,-0.405208915472031));
res += mul(Get(s1,dx,dy), float4x4(-0.235979497432709,-0.034182015806437,-0.033284407109022,0.115647949278355,0.046042881906033,-0.000879475963302,0.012032628990710,0.161750838160515,-0.171586528420448,0.030902419239283,0.052982054650784,-0.070522077381611,-0.047947313636541,0.003544887993485,0.101285539567471,-0.098752103745937));
res += mul(Get(s2,-dx,-dy), float4x4(0.159822583198547,-0.017859553918242,-0.040843524038792,-0.014663182199001,-0.068522326648235,-0.135112389922142,0.120688892900944,-0.036664050072432,-0.057856179773808,0.199043035507202,-0.135373383760452,-0.002843694994226,0.148428022861481,-0.073540337383747,0.485443592071533,0.289224892854691));
res += mul(Get(s2,-dx,0), float4x4(-0.136231869459152,-0.070028722286224,0.003964687697589,-0.102672763168812,-0.091814309358597,0.064826019108295,0.011318062432110,-0.136170119047165,0.006786437239498,-0.148895934224129,-0.113224990665913,-0.312477201223373,-0.094303816556931,0.282874971628189,-0.283534169197083,-0.141838863492012));
res += mul(Get(s2,-dx,dy), float4x4(-0.134328499436378,0.090729802846909,-0.047551445662975,-0.167956620454788,-0.020534047856927,-0.170635297894478,0.042839825153351,-0.063813105225563,0.026838900521398,0.144916653633118,-0.000959878787398,0.028583085164428,-0.024785770103335,0.041407231241465,0.063312388956547,0.097090207040310));
res += mul(Get(s2,0,-dy), float4x4(-0.117935344576836,0.200811937451363,0.155623018741608,0.256235808134079,0.144131600856781,-0.480430722236633,0.298859834671021,0.055276792496443,-0.206513196229935,0.246182605624199,-0.152146115899086,0.054717320948839,-0.115989536046982,0.185037717223167,0.159918889403343,-0.111028060317039));
res += mul(Get(s2,0,0), float4x4(0.510465383529663,-0.270020574331284,0.655051410198212,0.748330712318420,-0.175391465425491,0.143455490469933,0.155040934681892,0.212280780076981,0.201735988259315,-0.151512101292610,0.371213763952255,0.526710212230682,0.345973581075668,0.689348638057709,-0.023554731160402,0.277429789304733));
res += mul(Get(s2,0,dy), float4x4(-0.054360277950764,0.329188495874405,-0.154146969318390,0.257116317749023,0.109935611486435,-0.119105480611324,0.050674289464951,0.091066516935825,0.079769320785999,-0.205969795584679,-0.171198278665543,0.018063800409436,0.034945335239172,-0.192173972725868,0.064170911908150,0.074102170765400));
res += mul(Get(s2,dx,-dy), float4x4(-0.114983662962914,0.051040604710579,0.040351990610361,-0.058049708604813,0.105127006769180,-0.125148683786392,0.052362859249115,0.025990305468440,-0.194747000932693,0.265205472707748,0.037413202226162,-0.013273079879582,0.046573620289564,-0.020764222368598,0.073423743247986,0.173542290925980));
res += mul(Get(s2,dx,0), float4x4(0.097375229001045,-0.005970105528831,-0.137507095932961,-0.175855517387390,-0.092026151716709,0.085208706557751,-0.141942620277405,-0.184052973985672,-0.003032301319763,-0.279558718204498,-0.154103070497513,-0.233054578304291,-0.033030953258276,0.027603102847934,0.047170717269182,0.058915060013533));
res += mul(Get(s2,dx,dy), float4x4(0.175395205616951,0.006028012838215,0.043909527361393,-0.114950180053711,0.232953414320946,-0.223431184887886,0.095296353101730,-0.029059931635857,-0.070350021123886,-0.150757938623428,0.126688241958618,-0.076793417334557,0.004483907949179,0.069042377173901,-0.016733976081014,0.057815197855234));
res = max(float4(0, 0, 0, 0), res) + float4(0.022254353389144,0.032277904450893,0.005919075571001,-0.009642240591347) * min(float4(0, 0, 0, 0), res);
return res;
}
