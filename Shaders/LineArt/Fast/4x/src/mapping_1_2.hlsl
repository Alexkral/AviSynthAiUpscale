sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.444586336612701,-0.021118203178048,0.004584205336869,-0.019512690603733);
res += mul(Get(s0,-dx,-dy), float4x4(0.081833846867085,0.035738948732615,-0.089589901268482,0.111219704151154,0.294898152351379,-0.143192276358604,-0.143942281603813,0.263412177562714,-0.019297149032354,0.059078980237246,-0.065330080688000,0.057513102889061,0.070348769426346,-0.110651232302189,0.363291740417480,-0.307212531566620));
res += mul(Get(s0,-dx,0), float4x4(0.336594492197037,-0.203178226947784,0.074274420738220,0.003976411651820,0.268101245164871,0.126618579030037,0.010851092636585,0.125234588980675,-0.025943268090487,-0.057026538997889,-0.221115723252296,0.110590636730194,-0.148479327559471,-0.334850877523422,0.177313402295113,0.076365932822227));
res += mul(Get(s0,-dx,dy), float4x4(-0.243850171566010,-0.116403780877590,-0.135621756315231,-0.171300694346428,-0.065629586577415,0.181895017623901,-0.014247240498662,-0.099608436226845,0.249936804175377,0.016252372413874,0.008358017541468,-0.048284634947777,0.152379691600800,-0.226228207349777,-0.072102069854736,0.040562380105257));
res += mul(Get(s0,0,-dy), float4x4(0.208286404609680,-0.003446392249316,0.114765159785748,0.083096362650394,0.203690156340599,0.254228472709656,-0.594270408153534,-0.253400593996048,0.009959761053324,0.135956317186356,0.332543343305588,0.121194191277027,-0.133831575512886,-0.229324012994766,-0.195530116558075,-0.153879493474960));
res += mul(Get(s0,0,0), float4x4(0.508734405040741,0.769192159175873,0.201713472604752,0.397236853837967,-0.419804513454437,-0.660199880599976,0.495248973369598,-0.277162015438080,0.186345919966698,-0.117885708808899,-0.191977456212044,-0.248342677950859,-0.150524765253067,-0.207638010382652,-0.044226359575987,0.250827252864838));
res += mul(Get(s0,0,dy), float4x4(0.015712613239884,-0.352288067340851,-0.037827055901289,-0.141519322991371,0.003671240294352,0.548423349857330,0.034440118819475,0.024149771779776,-0.082208469510078,-0.012492857873440,0.398755729198456,-0.156263634562492,-0.073028713464737,-0.019726552069187,-0.006795608904213,-0.145948424935341));
res += mul(Get(s0,dx,-dy), float4x4(0.111951261758804,-0.046063449233770,-0.239823609590530,-0.267277419567108,-0.003713039215654,-0.025534812361002,0.012754555791616,-0.163363814353943,-0.262340903282166,-0.150497019290924,-0.298486799001694,-0.124597512185574,0.104086548089981,-0.225270137190819,-0.142930343747139,-0.110070541501045));
res += mul(Get(s0,dx,0), float4x4(-0.214912608265877,-0.133563131093979,0.088864043354988,-0.255442410707474,0.260003387928009,0.127616688609123,-0.167397767305374,0.424976766109467,-0.103494860231876,-0.079071238636971,-0.036129936575890,-0.054958429187536,-0.026574775576591,0.068967327475548,0.005215337499976,0.010202825069427));
res += mul(Get(s0,dx,dy), float4x4(-0.034080810844898,0.041863124817610,0.015843067318201,0.110252045094967,-0.156828045845032,-0.037387594580650,0.176489025354385,0.327727377414703,0.043109960854053,0.045203052461147,0.026005735620856,0.325147181749344,0.099069893360138,0.034257560968399,0.064529694616795,-0.025607528164983));
res += mul(Get(s1,-dx,-dy), float4x4(0.099849171936512,0.074714161455631,0.000579465122428,0.448872745037079,0.199785187840462,-0.175286680459976,0.388782232999802,-0.082849122583866,0.007295805960894,0.129310145974159,0.001202281913720,-0.111529685556889,0.016499983146787,-0.242423579096794,-0.057099528610706,-0.125140532851219));
res += mul(Get(s1,-dx,0), float4x4(0.066224500536919,0.325085490942001,-0.023793561384082,0.146433323621750,0.250522404909134,-0.111650556325912,-0.009204035624862,-0.209904909133911,-0.060794632881880,0.187245249748230,0.098934248089790,0.054356150329113,-0.130655035376549,-0.181740731000900,-0.123387031257153,0.052378930151463));
res += mul(Get(s1,-dx,dy), float4x4(-0.166127100586891,0.028143441304564,-0.001741257030517,-0.208353877067566,0.075662292540073,-0.130791544914246,-0.210754349827766,-0.022088028490543,0.028516003862023,-0.115891426801682,-0.075563751161098,-0.080154463648796,0.007381750736386,-0.019335960969329,0.051791016012430,-0.128048121929169));
res += mul(Get(s1,0,-dy), float4x4(0.219067156314850,0.109760612249374,-0.176551863551140,-0.071898102760315,0.184414088726044,-0.117571413516998,-0.201179042458534,-0.113748610019684,0.187411770224571,0.106547169387341,0.440743029117584,-0.412157416343689,0.189783275127411,0.005280296318233,0.498602300882339,-0.059856675565243));
res += mul(Get(s1,0,0), float4x4(-0.326160907745361,-0.450800150632858,-0.079903617501259,-0.326697081327438,0.142114892601967,-0.026238230988383,0.319378495216370,0.084843538701534,0.071883007884026,-0.058323044329882,0.159631937742233,-0.155657216906548,0.825401484966278,0.545016109943390,-0.288566827774048,0.177246004343033));
res += mul(Get(s1,0,dy), float4x4(0.207848295569420,-0.274939805269241,0.048311620950699,-0.277826607227325,-0.082919105887413,-0.208866223692894,0.091139070689678,-0.194407895207405,-0.204245746135712,0.015006585046649,0.054930329322815,-0.008529487065971,-0.112823985517025,0.029661234468222,0.027750143781304,0.117362268269062));
res += mul(Get(s1,dx,-dy), float4x4(-0.073286525905132,-0.152282536029816,-0.213489800691605,-0.281845033168793,-0.151649236679077,0.295920848846436,0.083918549120426,0.202338531613350,0.015907714143395,0.339553982019424,-0.004747301805764,0.457651734352112,-0.307429224252701,0.039216529577971,0.403925776481628,0.142771393060684));
res += mul(Get(s1,dx,0), float4x4(0.151815891265869,-0.082622580230236,0.148422181606293,0.001549554057419,-0.139389038085938,0.231600075960159,0.025112872943282,0.249097704887390,0.225872680544853,0.184878975152969,-0.029726903885603,0.293205559253693,0.229459583759308,0.068063780665398,-0.277431696653366,-0.145534053444862));
res += mul(Get(s1,dx,dy), float4x4(0.006129484158009,-0.013123268261552,-0.002611438976601,0.281099975109100,-0.058094453066587,-0.068054206669331,-0.324142873287201,0.109935350716114,0.021519247442484,-0.157556653022766,-0.026416072621942,-0.009091730229557,-0.023805575445294,0.034591652452946,-0.068236038088799,0.003559745149687));
res += mul(Get(s2,-dx,-dy), float4x4(0.256823450326920,-0.091738268733025,-0.056835431605577,-0.024758201092482,-0.083749555051327,-0.001241008052602,0.021457463502884,-0.217200100421906,-0.013435858301818,-0.014819391071796,0.105550751090050,-0.026912244036794,0.273767322301865,-0.081935629248619,0.647462725639343,-0.560461580753326));
res += mul(Get(s2,-dx,0), float4x4(0.035969153046608,-0.315715819597244,0.235792145133018,0.351616472005844,0.134316533803940,-0.183368384838104,-0.115267679095268,0.159383222460747,0.120293393731117,-0.254169464111328,0.080555722117424,0.181845784187317,0.481247186660767,-0.359182596206665,-0.243479609489441,0.024714890867472));
res += mul(Get(s2,-dx,dy), float4x4(-0.051736272871494,-0.072938628494740,-0.059534627944231,0.283296406269073,0.263669013977051,0.073090374469757,-0.037473998963833,0.090843148529530,-0.066858053207397,-0.182126641273499,-0.112902320921421,0.046780519187450,-0.366994917392731,-0.047978933900595,-0.734830915927887,0.220168426632881));
res += mul(Get(s2,0,-dy), float4x4(0.135798215866089,-0.008062206208706,0.062927484512329,-0.258602142333984,-0.044528629630804,-0.074291490018368,-0.335010081529617,0.016857016831636,0.214331924915314,0.034042805433273,0.210132166743279,-0.120920300483704,0.639924287796021,0.323105841875076,0.712362349033356,0.527465045452118));
res += mul(Get(s2,0,0), float4x4(0.326675534248352,0.551721394062042,-0.161537528038025,-0.014107747934759,-0.127241179347038,-0.070537276566029,0.787203669548035,0.083757929503918,0.316269874572754,0.529190063476563,-0.216497510671616,0.207784444093704,2.060655355453491,0.559189319610596,-1.109026908874512,0.824689209461212));
res += mul(Get(s2,0,dy), float4x4(-0.332199007272720,-0.600971639156342,0.062298785895109,-0.484732031822205,0.304096668958664,0.199328273534775,0.085114933550358,0.071857124567032,-0.125989630818367,0.038562461733818,-0.147209420800209,0.073834188282490,-0.929744660854340,-0.318554103374481,0.135516107082367,-0.165915623307228));
res += mul(Get(s2,dx,-dy), float4x4(0.113317884504795,0.272472977638245,0.067146219313145,0.253911674022675,-0.095694184303284,-0.015524974092841,0.074401363730431,0.078504391014576,-0.050529196858406,0.000636080745608,0.204357489943504,0.167061954736710,-0.483961194753647,0.415807247161865,0.899310290813446,0.264389991760254));
res += mul(Get(s2,dx,0), float4x4(0.033647023141384,0.060637865215540,-0.024978904053569,0.141550838947296,0.271507978439331,-0.045522797852755,-0.317990928888321,-0.118335463106632,0.116199873387814,-0.079663649201393,0.050346702337265,-0.411996096372604,-0.541200995445251,-0.151321306824684,-0.210351094603539,-0.418545037508011));
res += mul(Get(s2,dx,dy), float4x4(-0.174968689680099,-0.183819398283958,-0.133770346641541,-0.039863083511591,0.002040582476184,0.372681885957718,0.114991888403893,0.078305445611477,-0.349514216184616,-0.268380373716354,-0.068163864314556,-0.161613613367081,-0.624470591545105,-0.244563743472099,-0.479866683483124,-0.380809038877487));
res = max(float4(0, 0, 0, 0), res) + float4(0.049764394760132,0.757380723953247,0.122853443026543,-0.518689811229706) * min(float4(0, 0, 0, 0), res);
return res;
}
