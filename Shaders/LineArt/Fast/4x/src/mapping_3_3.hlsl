sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.126508876681328,-0.022659853100777,0.052318669855595,0.043055702000856);
res += mul(Get(s0,-dx,-dy), float4x4(0.272813230752945,-0.009276231750846,-0.415353387594223,0.142269924283028,-0.014201786369085,-0.049276392906904,-0.056033097207546,-0.048260025680065,-0.316296696662903,-0.032307747751474,0.349607229232788,-0.028371656313539,-0.280097097158432,0.136663302779198,-0.325742572546005,0.167832121253014));
res += mul(Get(s0,-dx,0), float4x4(-0.195164382457733,-0.145617410540581,-0.629628717899323,-0.086116187274456,0.269008666276932,-0.408793359994888,-0.218708887696266,-0.181503653526306,-0.027671638876200,-0.296617329120636,-0.009500879794359,0.167373657226563,0.081848613917828,-0.097169540822506,-0.409516364336014,0.114692509174347));
res += mul(Get(s0,-dx,dy), float4x4(-0.112612769007683,0.050530355423689,-0.133912548422813,-0.000934669864364,0.167364805936813,0.119527272880077,-0.144484966993332,-0.083739712834358,0.113976567983627,0.219184979796410,-0.124514460563660,0.251665443181992,-0.097594767808914,-0.098811224102974,-0.020122064277530,0.077861502766609));
res += mul(Get(s0,0,-dy), float4x4(-0.071502283215523,-0.011425129137933,-0.062508575618267,0.122214511036873,-0.020810790359974,0.027989530935884,-0.044562466442585,-0.072661228477955,0.109678938984871,0.022192049771547,-0.027653696015477,-0.004503516014665,-0.035460725426674,0.061893757432699,0.259712010622025,-0.178101018071175));
res += mul(Get(s0,0,0), float4x4(-0.581472575664520,0.488688170909882,0.004350619390607,-0.034764036536217,-0.527234852313995,0.181448698043823,0.094731733202934,-0.066360622644424,0.154651477932930,-0.158004879951477,-0.746792256832123,-0.806049346923828,0.304494231939316,0.133732959628105,-0.354593217372894,0.625412940979004));
res += mul(Get(s0,0,dy), float4x4(-0.068509414792061,-0.099422901868820,-0.139176487922668,-0.130140453577042,-0.175988703966141,-0.168133169412613,0.189441025257111,-0.257460445165634,0.284862548112869,0.068371735513210,-0.005709317978472,0.506335258483887,-0.309906095266342,-0.132619142532349,-0.100251950323582,-0.082156695425510));
res += mul(Get(s0,dx,-dy), float4x4(0.077338211238384,-0.097302950918674,-0.168072789907455,0.101255439221859,0.040097143501043,-0.159723952412605,-0.027017498388886,-0.111583754420280,0.074080444872379,-0.417411446571350,-0.175256803631783,-0.009642179124057,-0.111987270414829,0.047913074493408,-0.102831371128559,0.113154247403145));
res += mul(Get(s0,dx,0), float4x4(0.204430982470512,-0.057622022926807,-0.200537607073784,0.179449319839478,-0.095608085393906,0.316898435354233,0.117738284170628,0.093853808939457,0.226367175579071,0.022334249690175,-0.097505658864975,0.041131604462862,-0.093281552195549,0.036850504577160,0.088883005082607,0.094258345663548));
res += mul(Get(s0,dx,dy), float4x4(0.097698658704758,-0.032096549868584,-0.062765128910542,0.046050664037466,-0.143433108925819,-0.019359253346920,-0.050981257110834,-0.421314537525177,0.010262376628816,-0.048538245260715,-0.076913423836231,-0.016342792659998,0.026080748066306,-0.008313410915434,-0.003593842964619,0.006684842985123));
res += mul(Get(s1,-dx,-dy), float4x4(0.076650179922581,0.125277802348137,0.068915054202080,-0.007281976286322,-0.006289468612522,-0.115040272474289,0.232943207025528,0.005739616230130,0.142793387174606,-0.004272576421499,-0.015743819996715,0.048621505498886,0.034716039896011,-0.166603997349739,0.414080411195755,-0.245764523744583));
res += mul(Get(s1,-dx,0), float4x4(0.415316879749298,-0.042930640280247,0.260701954364777,-0.034631405025721,0.382389396429062,-0.062166117131710,0.060459855943918,-0.095287933945656,0.012318396009505,-0.127668499946594,0.123228795826435,-0.063756167888641,-0.130946159362793,-0.474773347377777,-0.386544167995453,0.025678774341941));
res += mul(Get(s1,-dx,dy), float4x4(0.010643029585481,-0.115398466587067,0.078792609274387,-0.053951792418957,0.094372279942036,0.013355454429984,0.034089855849743,-0.143540769815445,0.011184127070010,-0.299547374248505,-0.400897622108459,-0.488840937614441,-0.103904031217098,-0.045059930533171,0.001910567050800,0.372453570365906));
res += mul(Get(s1,0,-dy), float4x4(-0.013595797121525,-0.126319780945778,0.292357414960861,0.295972377061844,0.347483783960342,-0.164555668830872,0.109631396830082,0.032957416027784,0.294114202260971,-0.229918867349625,-0.202061727643013,-0.081380531191826,-0.542385101318359,-0.237215816974640,-0.210203841328621,0.017185391858220));
res += mul(Get(s1,0,0), float4x4(-0.087668508291245,0.074669778347015,-0.300092130899429,0.239809721708298,-0.091854281723499,0.231458634138107,0.062129251658916,0.076095201075077,-0.497249841690063,0.109085075557232,0.492274403572083,0.131830736994743,-0.386047720909119,0.006181697826833,0.357540398836136,0.324762970209122));
res += mul(Get(s1,0,dy), float4x4(-0.045267857611179,0.062180250883102,0.014172315597534,0.041614290326834,-0.107596971094608,-0.100273780524731,-0.061038590967655,-0.367338597774506,-0.011423544026911,0.278745412826538,-0.086886525154114,0.113158799707890,-0.416417002677917,-0.074884921312332,0.228220805525780,-0.557131290435791));
res += mul(Get(s1,dx,-dy), float4x4(0.089659973978996,0.235099211335182,-0.032308075577021,0.000195242930204,-0.051517266780138,-0.242979168891907,-0.027573620900512,-0.253179460763931,-0.269224554300308,-0.061832584440708,0.100369684398174,0.095396228134632,-0.102986946702003,0.114401653409004,0.270708054304123,0.152595907449722));
res += mul(Get(s1,dx,0), float4x4(0.381098210811615,0.032115612179041,0.098003491759300,0.248914018273354,-0.156756043434143,-0.234446391463280,-0.102559261023998,0.296533077955246,-0.959140539169312,0.112251162528992,0.144571855664253,-0.129571661353111,-0.146680861711502,-0.346917688846588,0.264590084552765,-0.062047328799963));
res += mul(Get(s1,dx,dy), float4x4(0.218577846884727,0.111933410167694,0.165633380413055,0.016489969566464,-0.026357352733612,0.076517760753632,0.074088908731937,0.187745377421379,-0.052447531372309,0.292629897594452,-0.075563140213490,-0.193900778889656,-0.319920033216476,-0.114710457623005,-0.196613267064095,-0.013789784163237));
res += mul(Get(s2,-dx,-dy), float4x4(0.173240005970001,0.129653781652451,-0.326101124286652,0.141044378280640,-0.032054048031569,-0.132542833685875,-0.061132162809372,0.043472688645124,-0.031411666423082,-0.029042810201645,0.016820253804326,0.024906227365136,0.364320576190948,0.369911134243011,0.348056316375732,-0.281536817550659));
res += mul(Get(s2,-dx,0), float4x4(-0.575095891952515,0.078376442193985,-0.050849825143814,0.209820553660393,0.199499458074570,-0.316252946853638,-0.267525881528854,-0.230532184243202,0.118309140205383,0.048756983131170,-0.270252525806427,-0.088463291525841,-0.263653755187988,-0.082409523427486,0.138500094413757,-0.402466207742691));
res += mul(Get(s2,-dx,dy), float4x4(0.247013330459595,-0.303258359432220,0.400506079196930,0.202396497130394,0.200168162584305,-0.202157884836197,-0.411530852317810,0.046583574265242,0.084473304450512,-0.085060156881809,0.034073997288942,-0.229833379387856,-0.201981738209724,0.171533212065697,0.056358925998211,-0.057970132678747));
res += mul(Get(s2,0,-dy), float4x4(-0.477886825799942,0.857626438140869,0.070459984242916,0.158244386315346,-0.147251576185226,0.395937204360962,-0.281059563159943,-0.120282858610153,0.230237081646919,-0.061061292886734,-0.038039784878492,-0.191623374819756,-0.615848362445831,0.060640659183264,0.112606935203075,-0.271464467048645));
res += mul(Get(s2,0,0), float4x4(-0.439730972051620,-1.046742916107178,0.893490850925446,-0.271247982978821,-0.156705006957054,0.003719433909282,0.260868549346924,-0.277810513973236,0.340826332569122,-0.451427310705185,-0.394645690917969,0.337002992630005,0.092393122613430,0.069627679884434,-0.267920583486557,-0.178914099931717));
res += mul(Get(s2,0,dy), float4x4(0.293356329202652,-0.183329015970230,0.242670446634293,-0.237377092242241,-0.097207568585873,-0.117107853293419,-0.297455757856369,-0.496399879455566,0.239679440855980,0.155439242720604,0.109522417187691,0.284776806831360,-0.053580824285746,0.303206980228424,-0.062100794166327,-0.249809280037880));
res += mul(Get(s2,dx,-dy), float4x4(0.282407075166702,0.558612883090973,-0.142035573720932,0.192769512534142,-0.228681609034538,0.095286898314953,0.051146924495697,-0.174526065587997,0.061324939131737,-0.064390160143375,0.085351981222630,-0.040168058127165,-0.028954783454537,0.274873226881027,0.343628704547882,0.242124766111374));
res += mul(Get(s2,dx,0), float4x4(0.516395628452301,0.141060203313828,0.613977789878845,-0.221229016780853,-0.483203262090683,-0.552383005619049,0.181487366557121,0.020870897918940,-0.008053944446146,-0.029990658164024,-0.045267794281244,-0.121574558317661,0.165499076247215,0.154624730348587,-0.035151779651642,-0.009558042511344));
res += mul(Get(s2,dx,dy), float4x4(0.157429903745651,0.057555664330721,0.463066369295120,-0.192841306328773,0.208013057708740,0.113109454512596,-0.274174451828003,-0.427222251892090,-0.048111729323864,-0.058052185922861,-0.007665505632758,-0.017780970782042,0.178186699748039,0.016190815716982,-0.019074710085988,-0.098946750164032));
res = max(float4(0, 0, 0, 0), res) + float4(0.292407810688019,-0.256502479314804,0.213822335004807,0.055014997720718) * min(float4(0, 0, 0, 0), res);
return res;
}
