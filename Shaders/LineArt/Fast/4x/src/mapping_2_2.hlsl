sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.131857603788376,-0.168100908398628,0.381342679262161,0.202156499028206);
res += mul(Get(s0,-dx,-dy), float4x4(-0.013272774405777,-0.010080268606544,-0.567517399787903,0.062042575329542,-0.045206036418676,-0.090854927897453,0.145071849226952,-0.162287548184395,-0.084986738860607,0.005287633277476,0.135765984654427,0.052296739071608,-0.066855177283287,-0.019927343353629,0.197150230407715,0.252457708120346));
res += mul(Get(s0,-dx,0), float4x4(0.181789308786392,-0.120895788073540,0.192810252308846,-0.152507916092873,-0.243015989661217,0.042169947177172,-0.099575035274029,-0.063090644776821,-0.040306385606527,0.104747429490089,-0.278042107820511,0.119687750935555,0.033147629350424,-0.030726797878742,0.087928771972656,-0.026164297014475));
res += mul(Get(s0,-dx,dy), float4x4(-0.154321312904358,0.160260111093521,0.212310805916786,-0.186198979616165,-0.005176391452551,-0.015765950083733,0.016046170145273,0.012346615083516,0.014492001384497,0.105828642845154,-0.050584655255079,-0.011771239340305,0.116412803530693,-0.024469366297126,0.107727229595184,-0.286703646183014));
res += mul(Get(s0,0,-dy), float4x4(-0.110183574259281,-0.319776326417923,0.127973452210426,-0.217338517308235,0.088996008038521,-0.190786913037300,-0.817004799842834,-0.383779615163803,0.060056477785110,0.073407769203186,-0.007135160733014,0.163236796855927,0.157064676284790,0.245616823434830,0.267775952816010,-0.356746703386307));
res += mul(Get(s0,0,0), float4x4(-0.157730847597122,-0.282496780157089,0.255388826131821,-0.082636646926403,0.285137861967087,0.052924007177353,-0.205417156219482,-0.418142735958099,0.375431805849075,0.222809672355652,-0.915179789066315,0.108539856970310,0.336474865674973,-0.480624079704285,0.035147149115801,0.136164247989655));
res += mul(Get(s0,0,dy), float4x4(0.018084613606334,-0.143384501338005,0.199718087911606,0.145153045654297,-0.068801879882813,0.056499317288399,-0.123606137931347,-0.183837011456490,0.205842047929764,0.210645750164986,-0.570467114448547,-0.213176771998405,-0.147763058543205,-0.030026912689209,-0.085649922490120,0.072423681616783));
res += mul(Get(s0,dx,-dy), float4x4(0.129567503929138,-0.353085845708847,0.119298234581947,0.210991859436035,0.006135260686278,-0.171657338738441,-0.087396636605263,-0.048407077789307,-0.104670122265816,0.043743714690208,0.171967402100563,0.032196804881096,-0.011552893556654,0.175070509314537,0.018945725634694,-0.004792993422598));
res += mul(Get(s0,dx,0), float4x4(0.454149514436722,-0.211572483181953,-0.051143448799849,-0.024426283314824,0.095134541392326,-0.048373863101006,0.062265772372484,-0.257028698921204,-0.074159882962704,0.134914383292198,-0.225649923086166,-0.061583958566189,-0.670277535915375,0.351914942264557,0.205853179097176,0.176698237657547));
res += mul(Get(s0,dx,dy), float4x4(0.104888811707497,-0.051410656422377,0.082288987934589,-0.218175113201141,0.015895863994956,-0.007718002889305,0.088014088571072,-0.177802383899689,0.333642095327377,0.174143627285957,-0.518592059612274,-0.215617626905441,-0.285067409276962,0.121033333241940,0.044134013354778,0.095948472619057));
res += mul(Get(s1,-dx,-dy), float4x4(0.038467891514301,0.143771231174469,-0.015338779427111,-0.182648032903671,0.065227903425694,-0.141280710697174,-0.387363910675049,0.250283330678940,-0.032543867826462,-0.035606004297733,-0.074863493442535,-0.295586258172989,0.087450034916401,-0.043913256376982,0.381905555725098,-0.506860196590424));
res += mul(Get(s1,-dx,0), float4x4(-0.294334977865219,0.248936578631401,0.101855322718620,0.133365556597710,-0.311373800039291,0.430937469005585,0.189730510115623,0.302457273006439,-0.389254331588745,-0.215806156396866,0.239568784832954,-0.128311082720757,0.112993627786636,-0.112705022096634,-0.091261617839336,-0.808642864227295));
res += mul(Get(s1,-dx,dy), float4x4(0.018032450228930,-0.242008194327354,0.039689093828201,0.175581976771355,-0.068040207028389,0.030386501923203,-0.102358922362328,0.039955444633961,0.014747058972716,-0.082413591444492,0.274417251348495,-0.180813342332840,-0.307825505733490,0.043830659240484,0.060151860117912,-0.561439812183380));
res += mul(Get(s1,0,-dy), float4x4(0.142173454165459,0.283590167760849,0.162597075104713,0.299156069755554,-0.035769067704678,0.015088388696313,-0.257766872644424,0.446747452020645,-0.108606345951557,-0.245282903313637,0.081814780831337,0.050994638353586,-0.033591635525227,0.007151826750487,0.250374078750610,-0.509196102619171));
res += mul(Get(s1,0,0), float4x4(-0.282398313283920,0.020614776760340,0.004254705738276,-0.382113128900528,0.153438866138458,-0.571591973304749,-0.351491779088974,-0.160150662064552,-0.214512601494789,0.010409329086542,0.093073569238186,-0.071257606148720,-0.161158695816994,-0.049238249659538,0.079020962119102,-1.293236494064331));
res += mul(Get(s1,0,dy), float4x4(-0.331269532442093,-0.141964569687843,-0.040556326508522,-0.164356246590614,0.107971183955669,0.281982630491257,0.039562564343214,0.445109397172928,-0.524112522602081,-0.365959018468857,0.074540302157402,-0.165163949131966,0.011393280699849,0.104680083692074,0.155239567160606,-0.574144065380096));
res += mul(Get(s1,dx,-dy), float4x4(0.042762175202370,0.096104420721531,0.150584056973457,0.165291309356689,-0.192931622266769,0.055879574269056,-0.056395292282104,0.084389530122280,0.223361119627953,-0.106167025864124,-0.026744414120913,0.175139442086220,-0.140778884291649,0.138217106461525,0.053924940526485,-0.110716454684734));
res += mul(Get(s1,dx,0), float4x4(0.608415186405182,-0.085575222969055,-0.254093289375305,0.118182420730591,-0.336768299341202,0.355325967073441,0.148051649332047,0.251914054155350,0.483166366815567,0.188460677862167,-0.495219439268112,-0.213121831417084,-0.144904181361198,0.005721629597247,0.028380060568452,-0.232123628258705));
res += mul(Get(s1,dx,dy), float4x4(0.383581131696701,-0.152833431959152,-0.155610159039497,-0.220013886690140,0.139830246567726,0.068102352321148,-0.198414072394371,-0.014357591979206,0.267926126718521,-0.184843480587006,-0.250220090150833,0.158993750810623,-0.253176331520081,0.109945684671402,0.174919649958611,-0.289680749177933));
res += mul(Get(s2,-dx,-dy), float4x4(0.112866573035717,0.038920391350985,-0.068235546350479,-0.173962369561195,0.031443931162357,-0.074705839157104,-0.031074333935976,0.435881912708282,-0.042756643146276,-0.171114727854729,-0.094098135828972,-0.019012022763491,0.019181881099939,-0.200266614556313,0.006325298920274,-0.064768962562084));
res += mul(Get(s2,-dx,0), float4x4(0.035218931734562,0.016315607354045,-0.001985615352169,-0.194756790995598,0.157771527767181,-0.072897069156170,0.331997483968735,0.413265943527222,-0.434895932674408,-0.079890042543411,0.110667139291763,-0.003810826456174,0.126225531101227,-0.099580235779285,-0.035333607345819,-0.421372741460800));
res += mul(Get(s2,-dx,dy), float4x4(0.049456790089607,0.011915341019630,0.047128509730101,-0.002698754426092,0.079840868711472,0.054122202098370,0.157086372375488,0.336874514818192,-0.100838921964169,0.014667402952909,-0.028045995160937,-0.005522503051907,-0.119194306433201,0.135344028472900,0.009887673892081,0.175351813435555));
res += mul(Get(s2,0,-dy), float4x4(0.040836885571480,0.047054108232260,-0.440711855888367,-0.089564129710197,-0.108037501573563,0.053939118981361,0.136933669447899,0.673232436180115,0.016606654971838,-0.057183075696230,0.080884441733360,-0.023444730788469,0.256509810686111,-0.479096800088882,-0.055296495556831,0.000775340187829));
res += mul(Get(s2,0,0), float4x4(0.124931663274765,0.117356382310390,-1.477692723274231,-0.069191768765450,0.116939224302769,-0.045041061937809,-0.035181868821383,0.713029742240906,-0.633743643760681,0.314559936523438,0.851540446281433,0.279636114835739,-0.518195271492004,0.372184634208679,0.382067471742630,0.265070855617523));
res += mul(Get(s2,0,dy), float4x4(0.124703012406826,0.121015131473541,0.189079672098160,0.056923065334558,0.027735203504562,0.178127735853195,0.102535076439381,0.341848641633987,-0.098086394369602,0.075784943997860,-0.070865400135517,0.050109434872866,-0.123466111719608,-0.118360050022602,0.084997490048409,0.443112373352051));
res += mul(Get(s2,dx,-dy), float4x4(-0.140400439500809,0.099692054092884,-0.263400465250015,0.015392411500216,0.047074798494577,0.162456676363945,0.399128615856171,0.590802609920502,-0.150730893015862,0.059086631983519,-0.193403020501137,-0.013676105998456,-0.410471081733704,0.076473183929920,-0.327153205871582,0.031327605247498));
res += mul(Get(s2,dx,0), float4x4(-0.218927398324013,0.011598899029195,-0.763898253440857,0.132875576615334,-0.161694109439850,-0.008674967102706,0.020575834438205,0.657768785953522,-0.020051330327988,0.090850837528706,-0.052054617553949,0.006963647436351,0.200752809643745,-0.121492795646191,0.039792042225599,-0.097927324473858));
res += mul(Get(s2,dx,dy), float4x4(-0.066934011876583,0.071414656937122,0.301658868789673,0.042322088032961,-0.027406804263592,-0.013226425275207,0.028240401297808,0.424977630376816,0.085324220359325,0.060339607298374,-0.153161451220512,0.025848286226392,0.238359734416008,0.155324816703796,-0.113071307539940,-0.327399045228958));
res = max(float4(0, 0, 0, 0), res) + float4(-0.313712865114212,1.362213134765625,0.031218752264977,0.111639991402626) * min(float4(0, 0, 0, 0), res);
return res;
}
