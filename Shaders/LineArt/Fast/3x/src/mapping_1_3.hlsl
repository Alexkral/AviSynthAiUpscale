sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.031248707324266,0.024877356365323,-0.159228056669235,0.041611708700657);
res += mul(Get(s0,-dx,-dy), float4x4(-0.166393026709557,-0.093437090516090,-0.114250048995018,0.165060907602310,-0.083741940557957,-0.108046829700470,0.203723475337029,0.049218725413084,-0.391507089138031,0.049274940043688,0.010493907146156,0.450548321008682,-0.027941560372710,-0.113128550350666,0.215825021266937,0.280002087354660));
res += mul(Get(s0,-dx,0), float4x4(-0.069526545703411,-0.194332823157310,-0.151940762996674,-0.397486388683319,-0.047339599579573,-0.000897558580618,0.467864990234375,0.217677861452103,-0.183402210474014,0.001592437271029,0.201627179980278,0.121641315519810,0.059430323541164,-0.263248860836029,0.181756138801575,0.220384269952774));
res += mul(Get(s0,-dx,dy), float4x4(-0.258352160453796,-0.081164158880711,-0.036885846406221,-0.115858525037766,0.286546498537064,-0.016080806031823,-0.183824315667152,-0.003265238134190,0.035407271236181,-0.024481935426593,0.079292826354504,0.241989657282829,0.085774034261703,-0.017571637406945,0.139401912689209,0.156518712639809));
res += mul(Get(s0,0,-dy), float4x4(0.601344823837280,-0.220351934432983,0.518441438674927,0.238504827022552,-0.331779778003693,0.115401096642017,-0.216746017336845,-0.003607172518969,0.162974476814270,-0.265865653753281,0.007612463552505,0.701254487037659,0.084204949438572,0.190709710121155,0.037447620183229,-0.215541914105415));
res += mul(Get(s0,0,0), float4x4(0.717570126056671,-0.254081130027771,0.661176860332489,0.046999186277390,-0.732787489891052,0.809500515460968,-0.948267579078674,-0.037137411534786,-0.376922488212585,0.164274856448174,-0.251364052295685,0.141496419906616,0.136806085705757,0.076749451458454,0.063614182174206,-0.961821734905243));
res += mul(Get(s0,0,dy), float4x4(-0.341763287782669,0.242635399103165,-0.765343189239502,0.126982256770134,0.628539323806763,-0.291525274515152,1.027561068534851,0.214675232768059,0.029476616531610,0.033984139561653,-0.037059754133224,-0.171952724456787,-0.051451198756695,-0.201450273394585,0.028250776231289,0.149132981896400));
res += mul(Get(s0,dx,-dy), float4x4(-0.123278982937336,0.230786100029945,-0.109369650483131,-0.020632462576032,-0.065910913050175,-0.064714238047600,-0.063085533678532,0.017143541947007,0.115746282041073,0.086752384901047,-0.011062989011407,-0.026987219229341,-0.055027224123478,0.073689311742783,0.000366061110981,0.181226864457130));
res += mul(Get(s0,dx,0), float4x4(0.340618848800659,0.561182975769043,-0.317381054162979,-0.947449326515198,0.039864290505648,-0.716008424758911,0.131988912820816,0.414270490407944,-0.126944661140442,-0.160394668579102,0.008686445653439,0.315551698207855,-0.030363254249096,0.195902541279793,-0.118830531835556,-0.134731844067574));
res += mul(Get(s0,dx,dy), float4x4(-0.166046768426895,0.068549737334251,-0.016844069585204,0.307048857212067,0.207548141479492,0.166187778115273,-0.173696115612984,-0.292782604694366,0.021874066442251,-0.035719152539968,0.018027158454061,-0.015697941184044,0.177015021443367,0.057266414165497,0.125503003597260,0.031325668096542));
res += mul(Get(s1,-dx,-dy), float4x4(0.026921158656478,0.135494649410248,0.033639445900917,0.351632326841354,-0.020786814391613,0.061064746230841,-0.117083348333836,0.009581908583641,0.051538351923227,0.004430995788425,-0.072628132998943,-0.074829600751400,0.176039651036263,0.077635258436203,-0.062411721795797,0.107403747737408));
res += mul(Get(s1,-dx,0), float4x4(0.126290306448936,0.243547618389130,-0.090679518878460,0.156426981091499,0.130652353167534,0.014169147238135,-0.002983063226566,0.073154374957085,0.039560303092003,0.049100998789072,-0.160889282822609,-0.180868148803711,0.148346900939941,0.126420900225639,0.056796118617058,-0.050328616052866));
res += mul(Get(s1,-dx,dy), float4x4(-0.053373858332634,0.319798082113266,-0.168485403060913,-0.437641710042953,-0.151868551969528,-0.018667059019208,-0.034882642328739,-0.101189099252224,-0.040556494146585,0.061627555638552,-0.007242638617754,0.064417555928230,-0.089928783476353,0.074817314743996,-0.177949711680412,-0.106426358222961));
res += mul(Get(s1,0,-dy), float4x4(-0.263093292713165,0.052477575838566,-0.124881990253925,0.059746775776148,-0.115684434771538,-0.025595225393772,0.030969150364399,0.015886744484305,0.112012207508087,-0.052587643265724,0.031898975372314,0.247072562575340,0.099015884101391,0.016591699793935,0.063824981451035,0.137635126709938));
res += mul(Get(s1,0,0), float4x4(-0.533714473247528,0.341632604598999,-0.582924067974091,-0.184686437249184,0.198697641491890,-0.384269326925278,0.047840941697359,-0.288003593683243,0.200066700577736,-0.092792823910713,-0.048211146146059,-0.222341194748878,-0.197485432028770,0.292656838893890,-0.226813986897469,-0.434852063655853));
res += mul(Get(s1,0,dy), float4x4(-0.097667939960957,0.108544096350670,-0.391591191291809,-0.279709011316299,0.179701775312424,-0.107361301779747,-0.064097501337528,-0.223165765404701,0.116400115191936,0.072957813739777,0.088903747498989,-0.201570793986320,-0.298016816377640,-0.045577388256788,0.166381642222404,-0.168039649724960));
res += mul(Get(s1,dx,-dy), float4x4(0.022321848198771,-0.103046953678131,-0.038191683590412,0.169003278017044,0.014554410241544,-0.082323968410492,-0.044420525431633,-0.027622519060969,-0.065984569489956,-0.015456577762961,0.131460249423981,0.247727274894714,0.087197266519070,-0.065991513431072,-0.032906278967857,-0.027229370549321));
res += mul(Get(s1,dx,0), float4x4(0.249411493539810,-0.619986236095428,-0.003598006209359,0.259908705949783,-0.110954746603966,0.373037666082382,-0.050484307110310,-0.182212308049202,-0.385483950376511,0.259855985641479,0.094629988074303,0.348205059766769,-0.062513604760170,-0.227432638406754,-0.129814624786377,0.273389428853989));
res += mul(Get(s1,dx,dy), float4x4(-0.055925901979208,-0.492017149925232,0.074829190969467,0.189924180507660,-0.287926733493805,0.135822623968124,0.047501958906651,0.307746380567551,0.007020949851722,0.081495188176632,-0.057945240288973,0.183681234717369,-0.188835874199867,-0.095787368714809,-0.165964767336845,0.055555589497089));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028042979538441,0.104117885231972,-0.057792540639639,-0.230613783001900,0.097675196826458,-0.168281123042107,-0.072336763143539,0.037665717303753,-0.018201770260930,0.023972971364856,0.094875186681747,0.085165597498417,-0.077392011880875,0.040832418948412,-0.078058034181595,-0.089998774230480));
res += mul(Get(s2,-dx,0), float4x4(0.078815959393978,-0.184810787439346,0.159632980823517,0.096812091767788,0.236568436026573,-0.074509628117085,0.031134590506554,0.176460593938828,-0.020105203613639,-0.029676055535674,-0.020003015175462,0.254716962575912,0.038440480828285,-0.000400979857659,-0.129152253270149,0.002258158288896));
res += mul(Get(s2,-dx,dy), float4x4(-0.051276009529829,0.045981623232365,0.090598158538342,-0.151179522275925,-0.216181159019470,0.072384528815746,0.034720648080111,-0.025451054796576,0.050244804471731,0.012569422833622,0.011413877829909,-0.098427213728428,0.152021080255508,-0.067633174359798,0.111193388700485,-0.066074058413506));
res += mul(Get(s2,0,-dy), float4x4(0.253998458385468,-0.024890137836337,0.040527358651161,0.001838934491388,0.167880877852440,0.122633993625641,-0.182133927941322,-0.629915595054626,-0.465274572372437,0.259494125843048,-0.052647471427917,-0.389720767736435,0.199332877993584,-0.045978106558323,0.217645287513733,0.411185115575790));
res += mul(Get(s2,0,0), float4x4(-0.284869104623795,0.269366770982742,0.047725960612297,-0.501819491386414,0.283782809972763,0.172472387552261,0.355249434709549,0.012666547670960,-0.427143126726151,-0.214163124561310,0.035973150283098,-0.116252027451992,-0.813844263553619,0.514234781265259,-0.502285420894623,-0.375257223844528));
res += mul(Get(s2,0,dy), float4x4(0.114015929400921,-0.023138718679547,-0.024249523878098,-0.011766049079597,-0.019288649782538,-0.305117428302765,-0.256901055574417,0.086181238293648,-0.136539310216904,0.002316509140655,-0.065370470285416,-0.202447578310966,0.123604007065296,0.085101343691349,0.082931123673916,-0.006165182683617));
res += mul(Get(s2,dx,-dy), float4x4(0.212666034698486,-0.036359988152981,0.110770449042320,-0.146186873316765,-0.224600613117218,-0.060621529817581,0.040521480143070,0.255545109510422,0.273695141077042,-0.423170596361160,-0.010527971200645,-0.175232797861099,0.181266546249390,0.126670375466347,-0.065616250038147,-0.020991493016481));
res += mul(Get(s2,dx,0), float4x4(0.042023327201605,-0.107139714062214,-0.173819124698639,-0.050055447965860,-0.042267125099897,0.166884258389473,-0.155654147267342,0.040665060281754,-0.169331088662148,-0.604220449924469,-0.001302498159930,0.473031759262085,-0.010987962596118,-0.555201351642609,-0.223197236657143,0.013681795448065));
res += mul(Get(s2,dx,dy), float4x4(0.123177312314510,0.082333803176880,-0.191644459962845,0.266195744276047,-0.308472126722336,0.117537111043930,0.214928343892097,-0.013762664981186,-0.154190644621849,0.077716156840324,0.089920021593571,-0.017356110736728,-0.213778659701347,-0.031609397381544,-0.087100900709629,0.210220471024513));
res = max(float4(0, 0, 0, 0), res) + float4(-0.468985021114349,-0.581240236759186,0.921268105506897,0.369977265596390) * min(float4(0, 0, 0, 0), res);
return res;
}
