sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float3 res = float3(-0.003339778864756,0.002293043769896,-0.000208678291528);
res += mul(Get(s0,-dx,-dy), float4x3(0.000490299076773,0.002657230710611,0.002619905397296,0.003122739028186,0.002056214259937,-0.000045883352868,0.000443504599389,-0.002057656180114,-0.001311980187893,-0.004394678398967,-0.001659924047999,-0.000397083786083));
res += mul(Get(s0,-dx,0), float4x3(-0.000441504234914,-0.004983547609299,-0.005024951882660,0.003721731016412,0.007801254279912,0.005092219915241,0.004846125841141,0.006055099889636,0.003471322124824,-0.004898623563349,-0.006555032916367,-0.005532516166568));
res += mul(Get(s0,-dx,dy), float4x3(0.003264362923801,0.004062748979777,0.000567817362025,0.001724704517983,0.001774560660124,0.001581290271133,0.000931154761929,0.002645322354510,0.002660714322701,0.002272212877870,0.002182929776609,-0.002149127889425));
res += mul(Get(s0,0,-dy), float4x3(-0.003384902607650,-0.000950610905420,0.000650004076306,0.003449054667726,0.010928470641375,0.005090652499348,0.003160697175190,0.003673761617392,0.000623624539003,0.017882186919451,0.003590682055801,-0.001548059983179));
res += mul(Get(s0,0,0), float4x3(0.034083273261786,0.013909574598074,-0.016671804711223,-0.012158386409283,-0.007420924026519,-0.010320702567697,-0.018628256395459,-0.008442970924079,-0.000389837659895,0.034324262291193,0.048101510852575,0.043199218809605));
res += mul(Get(s0,0,dy), float4x3(-0.006045379210263,-0.014213560149074,-0.004989976994693,0.011015564203262,0.013564144261181,0.003399999579415,-0.002699855482206,-0.007507952395827,-0.019453501328826,-0.002534141996875,-0.000061358085077,0.014924818649888));
res += mul(Get(s0,dx,-dy), float4x3(0.029534125700593,0.004252782557160,-0.005281235557050,-0.000697322248016,0.006512638647109,0.007222131825984,-0.002935026772320,0.001186019624583,0.001994255231693,0.010762365534902,0.004593356512487,-0.002322906628251));
res += mul(Get(s0,dx,0), float4x3(-0.000558256986551,-0.030985420569777,-0.005488210357726,-0.014700626954436,-0.008365513756871,-0.010608331300318,0.039071492850780,0.017645785585046,0.001121333567426,0.010869719088078,0.010733091272414,0.012501109391451));
res += mul(Get(s0,dx,dy), float4x3(0.000654434552416,0.001428877818398,0.004194098990411,0.005619962234050,0.012122467160225,0.001898097223602,0.011101981624961,0.028721703216434,0.040860146284103,-0.002916227327660,0.000231926751439,0.007086442783475));
res += mul(Get(s1,-dx,-dy), float4x3(0.002389424946159,-0.000447620084742,-0.004115426912904,-0.002579781692475,0.000951768946834,0.001250887522474,-0.001169997616671,-0.000419400457758,-0.002791234292090,-0.015198553912342,-0.006620720028877,0.000970901979599));
res += mul(Get(s1,-dx,0), float4x3(-0.007045467384160,0.005843451712281,0.011118741706014,0.001620173105039,-0.004487861879170,-0.007644389290363,-0.007112439721823,-0.013695662841201,-0.016192806884646,-0.013610497117043,-0.025293396785855,-0.031570598483086));
res += mul(Get(s1,-dx,dy), float4x3(-0.003978643566370,-0.000546737050172,-0.000966148043517,0.011477694846690,0.003623548196629,-0.001337095513009,-0.001245831255801,-0.004097203724086,-0.010062029585242,-0.003713776590303,-0.000614486634731,-0.003445782465860));
res += mul(Get(s1,0,-dy), float4x3(0.022257704287767,-0.003464459208772,-0.003593333996832,0.012083193287253,-0.005390854086727,-0.003224632004276,0.029787288978696,0.004761649761349,-0.005688949953765,0.012215777300298,0.005511361174285,-0.001994475023821));
res += mul(Get(s1,0,0), float4x3(-0.007336906623095,-0.058990605175495,0.011713921092451,-0.066544018685818,0.015814738348126,0.053029350936413,0.040220875293016,0.024780679494143,0.015673823654652,0.026567459106445,0.033504001796246,0.031384255737066));
res += mul(Get(s1,0,dy), float4x3(-0.009337561205029,0.001285542268306,0.040428917855024,0.008044452406466,0.012634852901101,-0.040184129029512,0.006244323216379,-0.004679414909333,-0.003090334823355,-0.006685455329716,-0.004093460272998,0.006495011039078));
res += mul(Get(s1,dx,-dy), float4x3(-0.008592777885497,-0.004052720032632,-0.001404500333592,-0.008816433139145,-0.004942525178194,-0.006660385522991,0.003965267445892,-0.003183733206242,-0.005979808047414,-0.002509460318834,0.000376554293325,0.000115413000458));
res += mul(Get(s1,dx,0), float4x3(0.001327553880401,0.005938156042248,0.007336274720728,0.024859296157956,0.010906003415585,-0.008255159482360,-0.010712509043515,-0.022375872358680,-0.018470384180546,-0.006628772709519,-0.005795511417091,-0.004442638717592));
res += mul(Get(s1,dx,dy), float4x3(-0.004945368040353,-0.003452076576650,0.004738035146147,-0.005254833027720,-0.005534036085010,0.010479302145541,-0.003030953230336,-0.010453636758029,-0.015866627916694,-0.000148288672790,0.000683306832798,-0.002804526826367));
res += mul(Get(s2,-dx,-dy), float4x3(0.000654373841826,-0.000592499272898,-0.001178379869089,0.002632289193571,0.000836897059344,-0.000216580825509,-0.010871539823711,-0.004990631248802,0.000108443717181,0.005209218710661,0.002837936626747,0.002033041557297));
res += mul(Get(s2,-dx,0), float4x3(-0.001194593845867,-0.000051086004532,0.002066474873573,-0.001470271847211,-0.003704183967784,0.000611974915955,0.010455260984600,0.014066766947508,-0.001037744688801,-0.007864092476666,-0.005241173785180,0.003269455628470));
res += mul(Get(s2,-dx,dy), float4x3(-0.000043131254643,-0.000578426348511,-0.000443425786216,-0.001684864866547,-0.001326500670984,-0.000055790675106,-0.002642313018441,0.002006077673286,0.006348113995045,-0.001725681358948,-0.001246378757060,-0.001402384019457));
res += mul(Get(s2,0,-dy), float4x3(0.001215409603901,0.005968198645860,0.002633262658492,0.003761719912291,0.003750123316422,0.000259242486209,0.024758268147707,0.008483123034239,-0.005791290197521,-0.017742060124874,0.015215123072267,0.005371449049562));
res += mul(Get(s2,0,0), float4x3(-0.010354191064835,-0.010656617581844,-0.004423462785780,0.025061093270779,-0.010157790966332,-0.016985183581710,0.016687348484993,-0.069175966084003,-0.035882655531168,0.056260120123625,0.029325818642974,-0.059455078095198));
res += mul(Get(s2,0,dy), float4x3(0.000077192438766,-0.000413435685914,-0.004358704667538,-0.005578641779721,-0.007404678966850,0.012732334434986,-0.011166254989803,-0.000419140647864,0.042845696210861,-0.001454701996408,-0.011849919334054,-0.007429167162627));
res += mul(Get(s2,dx,-dy), float4x3(-0.008719186298549,-0.001091600395739,-0.000409626576584,-0.001443362561986,0.000592816912103,0.000964375736658,-0.001460938830860,0.006034769583493,0.004358856938779,-0.006910146214068,0.000289146497380,0.004765601363033));
res += mul(Get(s2,dx,0), float4x3(-0.075060702860355,-0.066889129579067,-0.038570359349251,0.000795137370005,-0.001005785539746,-0.002362200990319,-0.007334659341723,0.010025843046606,0.008069184608757,-0.007329451851547,0.002108813263476,-0.001506683416665));
res += mul(Get(s2,dx,dy), float4x3(0.005164730362594,-0.008276372216642,-0.044219020754099,-0.001846154569648,-0.002364935586229,-0.000545396702364,0.000225434792810,-0.001384815201163,-0.009636304341257,0.000858804676682,0.000120486525702,-0.006974712479860));
return float4(res, 0);
}
