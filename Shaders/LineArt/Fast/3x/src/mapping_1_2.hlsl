sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.051733918488026,-0.046007566154003,-0.011951656080782,0.022633939981461);
res += mul(Get(s0,-dx,-dy), float4x4(0.284666419029236,0.343388199806213,0.035188917070627,-0.247892886400223,0.000870619085617,-0.290231883525848,0.013408084399998,0.219106644392014,-0.501186430454254,-0.475786685943604,-0.206969425082207,0.138757213950157,0.291479796171188,0.010382439941168,0.071911931037903,-0.018179342150688));
res += mul(Get(s0,-dx,0), float4x4(0.255798876285553,-0.002869028132409,0.142618671059608,0.089039631187916,0.718919217586517,-0.006437976378947,0.129651352763176,-0.079154424369335,0.108203478157520,-0.133489429950714,0.014873773790896,0.458673328161240,0.015945836901665,-0.140865862369537,-0.262629836797714,-0.173245504498482));
res += mul(Get(s0,-dx,dy), float4x4(-0.028250545263290,-0.104255020618439,0.733088731765747,0.311018407344818,-0.271075397729874,0.375950425863266,-0.416752845048904,0.079331547021866,-0.086641423404217,0.000308654707624,0.020374707877636,-0.020991198718548,-0.172338619828224,0.094663158059120,-0.202518045902252,-0.150029480457306));
res += mul(Get(s0,0,-dy), float4x4(-0.264565736055374,-0.071056224405766,-0.127255573868752,0.116033367812634,-0.085728608071804,-0.501627147197723,-0.114885233342648,-0.018115658313036,-0.060926176607609,-0.448145598173141,-0.314433097839355,-0.359071612358093,0.440024673938751,0.254513949155807,-0.067562744021416,0.013051306828856));
res += mul(Get(s0,0,0), float4x4(0.026697065681219,-0.985661864280701,-0.176349520683289,0.717948913574219,-0.287221521139145,0.454164922237396,0.032734282314777,-0.907492578029633,0.203257098793983,0.176210567355156,-0.494812697172165,0.108746968209743,-0.341421395540237,-0.092010170221329,-0.547516644001007,0.289110630750656));
res += mul(Get(s0,0,dy), float4x4(0.201884835958481,0.650406658649445,-0.718877375125885,-0.114039905369282,-0.314579486846924,-0.094182468950748,0.497273534536362,0.188168928027153,0.010789795778692,0.062793977558613,0.181818678975105,-0.011432375758886,-0.207059606909752,-0.255469828844070,-0.062147539108992,-0.168409690260887));
res += mul(Get(s0,dx,-dy), float4x4(-0.242990359663963,-0.119051121175289,-0.150998830795288,-0.056480798870325,0.279279410839081,0.422095626592636,0.120228439569473,0.106381885707378,-0.088552273809910,0.013363020494580,0.278561711311340,-0.081234164535999,-0.159137994050980,-0.169579759240150,0.379050701856613,0.232630759477615));
res += mul(Get(s0,dx,0), float4x4(0.035240914672613,-0.092374600470066,0.129159435629845,0.236638948321342,0.261890113353729,0.058062754571438,-0.315436989068985,0.248077079653740,0.004035620018840,0.112368412315845,-0.316165477037430,-0.088612914085388,0.027811212465167,0.217648074030876,-0.006616281345487,-0.278606563806534));
res += mul(Get(s0,dx,dy), float4x4(-0.070811241865158,0.309859156608582,-0.544543862342834,-0.017412608489394,0.092024244368076,-0.313884735107422,0.244808226823807,0.026206769049168,0.063560448586941,0.024283368140459,-0.126115322113037,-0.072720907628536,-0.159686848521233,-0.157470226287842,-0.351881295442581,-0.093617916107178));
res += mul(Get(s1,-dx,-dy), float4x4(0.081140510737896,-0.206273123621941,-0.008313199505210,0.073929958045483,-0.078280672430992,-0.084434412419796,0.023366583511233,-0.076696269214153,-0.037405766546726,0.033655498176813,-0.003610190469772,-0.037504415959120,-0.189584419131279,-0.101880230009556,-0.083940945565701,-0.122418560087681));
res += mul(Get(s1,-dx,0), float4x4(0.199130296707153,-0.275062114000320,0.091951712965965,-0.190328344702721,-0.118125788867474,0.472093760967255,-0.246032983064651,-0.120388530194759,-0.153360828757286,0.144832551479340,-0.024938317015767,-0.028224375098944,0.552722990512848,0.180328443646431,0.298381179571152,0.165430933237076));
res += mul(Get(s1,-dx,dy), float4x4(-0.022399213165045,0.070302963256836,0.114216312766075,-0.441940486431122,-0.080519720911980,-0.038632456213236,0.057949393987656,-0.054770130664110,0.094244673848152,-0.062096692621708,0.118319645524025,-0.073573529720306,-0.258710980415344,-0.152499452233315,-0.333702653646469,0.194008335471153));
res += mul(Get(s1,0,-dy), float4x4(-0.102194935083389,-0.388006001710892,-0.033925648778677,-0.182171612977982,-0.155929490923882,0.495817810297012,0.050576243549585,-0.223429754376411,-0.029176667332649,-0.216977193951607,-0.040902134031057,-0.076643742620945,-0.333618670701981,-0.139749422669411,0.100083760917187,-0.145052045583725));
res += mul(Get(s1,0,0), float4x4(-0.603444159030914,0.017971066758037,-0.088020280003548,-0.294803917407990,-0.248399779200554,-0.704496383666992,0.319830805063248,0.163055837154388,0.111748039722443,-0.076188437640667,0.115960173308849,0.268000155687332,-0.012133499607444,0.394165962934494,-0.010774296708405,0.511937797069550));
res += mul(Get(s1,0,dy), float4x4(-0.428072482347488,0.376247733831406,-0.077691301703453,-0.212377488613129,-0.198801204562187,-0.218869432806969,-0.559051334857941,0.142354354262352,0.139519050717354,-0.079647250473499,-0.118400573730469,-0.123572848737240,-0.145716741681099,0.103244714438915,0.384939908981323,-0.043440233916044));
res += mul(Get(s1,dx,-dy), float4x4(0.153175920248032,0.096555024385452,0.108918890357018,-0.023339211940765,0.076028570532799,0.190591588616371,0.000907814188395,-0.006546949502081,-0.064819715917110,-0.406605392694473,-0.062880992889404,-0.059205099940300,0.101228818297386,0.163511022925377,-0.032497692853212,-0.166448414325714));
res += mul(Get(s1,dx,0), float4x4(0.176888018846512,0.008203671313822,-0.360062241554260,0.095604300498962,0.169033542275429,-0.511000692844391,0.379156500101089,-0.057483717799187,-0.048351734876633,-0.540511131286621,0.700256943702698,0.109339252114296,0.150725737214088,-0.141021981835365,-0.486510664224625,0.085941866040230));
res += mul(Get(s1,dx,dy), float4x4(-0.301755249500275,0.047952875494957,0.059441193938255,-0.129204988479614,-0.099471181631088,0.100649416446686,0.230811506509781,-0.017449984326959,0.065192773938179,0.363257974386215,-0.012434709817171,0.091531828045845,0.016261238604784,0.042932309210300,0.408011555671692,0.105057343840599));
res += mul(Get(s2,-dx,-dy), float4x4(-0.176952108740807,-0.033866692334414,-0.017784887924790,0.238862186670303,0.063965983688831,-0.059501644223928,0.049609992653131,0.025675171986222,0.022424887865782,-0.222542732954025,0.124166160821915,0.055173121392727,0.141265034675598,-0.126180514693260,0.045451607555151,-0.111379712820053));
res += mul(Get(s2,-dx,0), float4x4(0.024794865399599,-0.066017903387547,0.014844580553472,-0.146728739142418,0.010417037643492,-0.199382334947586,0.225249528884888,0.118417575955391,0.091139331459999,0.087454557418823,-0.176764711737633,-0.014433002099395,0.214833542704582,0.216893121600151,-0.069395884871483,0.109614208340645));
res += mul(Get(s2,-dx,dy), float4x4(0.033233892172575,0.052642919123173,0.188585981726646,-0.027869042009115,-0.092720985412598,0.220774650573730,-0.313971668481827,-0.277411907911301,-0.036821816116571,-0.001123785041273,0.050822068005800,0.028720539063215,-0.466708213090897,0.066841579973698,0.084023155272007,-0.053192809224129));
res += mul(Get(s2,0,-dy), float4x4(0.105255827307701,0.145500794053078,-0.120774492621422,-0.012268529273570,0.042715445160866,0.192616671323776,0.114468127489090,-0.328278869390488,-0.209877923130989,0.533117115497589,-0.092186167836189,-0.181959316134453,-0.414153426885605,-1.008786439895630,-0.098414100706577,0.293584048748016));
res += mul(Get(s2,0,0), float4x4(0.202879443764687,0.238250330090523,0.084550030529499,-0.205739155411720,0.140851765871048,-0.288225024938583,-0.020765909925103,0.271836012601852,-0.171901673078537,0.170736879110336,-0.043384380638599,-0.094627551734447,-0.305084496736526,0.270844459533691,-0.128462508320808,-0.220295384526253));
res += mul(Get(s2,0,dy), float4x4(-0.384256064891815,-0.058917079120874,-0.087047934532166,-0.036746844649315,-0.101835899055004,0.071525938808918,-0.489991515874863,0.070080175995827,0.000217693828745,-0.051749378442764,0.193537384271622,-0.066357061266899,-0.182472050189972,-0.094881646335125,0.301849037408829,0.070989437401295));
res += mul(Get(s2,dx,-dy), float4x4(-0.018974486738443,-0.097242981195450,0.040639795362949,0.107868596911430,-0.246479421854019,0.241361945867538,-0.175673156976700,0.080730587244034,-0.202981680631638,0.331528961658478,-0.219466567039490,-0.007327246479690,0.122403874993324,-0.006853430066258,0.050244789570570,-0.022027092054486));
res += mul(Get(s2,dx,0), float4x4(-0.330641865730286,0.016420826315880,-0.038368768990040,-0.232845291495323,0.063485071063042,-0.064047664403915,0.170161619782448,0.005378536880016,-0.181209504604340,-0.070687152445316,-0.974789500236511,0.447541952133179,0.095723085105419,-0.211252018809319,-0.467985898256302,0.013996337540448));
res += mul(Get(s2,dx,dy), float4x4(-0.140129923820496,-0.181620299816132,-0.003612751141191,0.183942392468452,-0.333900481462479,-0.294755637645721,0.442745268344879,-0.097467750310898,0.003683217335492,-0.030070802196860,0.040997236967087,-0.194035112857819,-0.111750438809395,-0.108848065137863,-0.329126656055450,0.067980743944645));
res = max(float4(0, 0, 0, 0), res) + float4(0.636123895645142,-0.650747239589691,-0.341637998819351,-0.267437696456909) * min(float4(0, 0, 0, 0), res);
return res;
}
