sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.065347477793694,0.077448531985283,-0.137844920158386,-0.385261714458466);
res += mul(Get(s0,-dx,-dy), float4x4(0.039342738687992,0.131712749600410,0.026945568621159,-0.191654115915298,-0.127374514937401,-0.083721257746220,-0.007414238061756,0.053203605115414,-0.321972161531448,-0.105759717524052,-0.199567064642906,0.339649915695190,0.008753941394389,0.028816698119044,0.120964556932449,-0.126533374190331));
res += mul(Get(s0,-dx,0), float4x4(0.108332678675652,-0.004369625821710,0.208165988326073,-0.256512880325317,-0.202537551522255,-0.026521475985646,0.110449664294720,0.112560704350471,0.023713782429695,-0.314805895090103,-0.106225892901421,0.425208449363708,0.166631534695625,-0.004541226662695,0.213773578405380,-0.377260684967041));
res += mul(Get(s0,-dx,dy), float4x4(-0.088337838649750,-0.018349986523390,-0.385001212358475,-0.207458704710007,-0.096049696207047,0.019934590905905,-0.016091031953692,-0.048495188355446,0.027892280369997,-0.031542621552944,0.481882631778717,0.154776707291603,0.082533419132233,0.116121970117092,-0.011173377744853,-0.280737936496735));
res += mul(Get(s0,0,-dy), float4x4(-0.326476931571960,0.165151685476303,-0.097541302442551,0.105270162224770,0.339718937873840,0.106191866099834,-0.238532513380051,-0.127747654914856,-0.219558387994766,-0.072136722505093,0.068138480186462,0.358670204877853,-0.281104385852814,0.047041565179825,-0.230717524886131,0.110856361687183));
res += mul(Get(s0,0,0), float4x4(0.217487528920174,-0.460558682680130,0.403828293085098,0.077715694904327,0.488420337438583,-0.298570901155472,0.426774173974991,0.225153118371964,-0.126632109284401,0.206781893968582,-0.034816108644009,-0.054325759410858,0.065893195569515,0.246989741921425,0.105827093124390,0.806338548660278));
res += mul(Get(s0,0,dy), float4x4(-0.238960534334183,0.227882355451584,-0.183040052652359,-0.130944252014160,-0.220027446746826,0.209239110350609,-0.135983854532242,0.041001021862030,0.027907980605960,0.004154594615102,0.116197541356087,-0.021379699930549,-0.206965625286102,0.040806207805872,0.337028384208679,-0.149948328733444));
res += mul(Get(s0,dx,-dy), float4x4(0.016076387837529,0.045552007853985,0.138761729001999,0.101464413106441,-0.231667757034302,0.065611846745014,-0.275404244661331,0.161004289984703,0.092679142951965,-0.027436427772045,-0.224723964929581,-0.144645288586617,0.013183397240937,0.056048713624477,0.092795036733150,0.068422831594944));
res += mul(Get(s0,dx,0), float4x4(-0.064573779702187,0.486519277095795,0.112325191497803,0.090242639183998,-0.116734653711319,0.246834844350815,0.027036637067795,0.215921834111214,0.081942401826382,-0.072647847235203,0.162695735692978,0.081261612474918,-0.073971547186375,0.350973218679428,0.174839809536934,0.393193513154984));
res += mul(Get(s0,dx,dy), float4x4(-0.056127890944481,-0.111910402774811,0.015445297583938,0.081531539559364,-0.033591222018003,0.011753832921386,0.083118163049221,-0.100177131593227,-0.054753337055445,0.031355995684862,-0.063355915248394,0.019170260056853,-0.002496439265087,0.181830465793610,-0.065123453736305,0.038220826536417));
res += mul(Get(s1,-dx,-dy), float4x4(0.068131856620312,0.080164901912212,-0.258044034242630,0.124769382178783,-0.011784737929702,-0.031073175370693,-0.232213258743286,0.063668511807919,0.035166051238775,0.175837114453316,-0.170474231243134,-0.097041592001915,0.180511027574539,0.072007067501545,-0.054453931748867,-0.167111665010452));
res += mul(Get(s1,-dx,0), float4x4(-0.049327798187733,0.248515322804451,0.030546190217137,0.002640365855768,0.006099349819124,0.366381257772446,-0.099919468164444,0.139092788100243,0.070374801754951,0.137747243046761,-0.100741676986217,-0.154425114393234,-0.062906421720982,0.354771614074707,0.038597457110882,-0.344981521368027));
res += mul(Get(s1,-dx,dy), float4x4(0.087042272090912,0.009676018729806,0.018382390961051,-0.216678321361542,0.242964327335358,0.158876389265060,0.179516300559044,-0.054676115512848,0.109274104237556,0.090019017457962,0.081449136137962,-0.009888555854559,-0.012546249665320,-0.036127980798483,-0.180868074297905,-0.153870910406113));
res += mul(Get(s1,0,-dy), float4x4(-0.066409870982170,-0.240855887532234,-0.525671005249023,-0.002257510088384,-0.154223859310150,-0.178884223103523,-1.016371965408325,0.572800278663635,0.076364785432816,0.385861158370972,-0.197711840271950,0.192601203918457,0.076285026967525,0.009059422649443,-0.929336071014404,0.116185784339905));
res += mul(Get(s1,0,0), float4x4(-0.342909187078476,0.502044856548309,-0.607839226722717,0.118862576782703,-0.254497498273849,0.139361888170242,0.113518036901951,0.743415117263794,0.092539377510548,-0.189219549298286,-0.283312112092972,0.208113282918930,-0.072870068252087,0.224455922842026,0.228630706667900,0.387475013732910));
res += mul(Get(s1,0,dy), float4x4(0.204209327697754,0.201880574226379,0.328449577093124,0.188882455229759,-0.230421379208565,0.373947262763977,0.288625985383987,0.534902095794678,0.136796087026596,0.091706641018391,0.200759053230286,-0.173082932829857,0.058986786752939,0.091877579689026,0.032039035111666,-0.008775425143540));
res += mul(Get(s1,dx,-dy), float4x4(-0.001994334161282,0.120207421481609,-0.104499436914921,0.243682727217674,-0.298194259405136,-0.131377428770065,-0.539233565330505,0.431704133749008,0.314804702997208,0.077385947108269,-0.157307833433151,-0.609147429466248,-0.153832539916039,0.149017438292503,-0.139870598912239,0.251384913921356));
res += mul(Get(s1,dx,0), float4x4(0.284379601478577,-0.063600555062294,-0.135762363672256,-0.214841350913048,-0.144524127244949,0.171841874718666,0.166680648922920,0.195093214511871,0.518856883049011,0.216822087764740,0.237646520137787,-0.491400986909866,0.213222205638885,0.008532668463886,-0.242734879255295,-0.234971091151237));
res += mul(Get(s1,dx,dy), float4x4(0.124791495501995,-0.068825215101242,0.247701808810234,0.064258262515068,-0.044144257903099,0.373928427696228,0.235685124993324,0.411723196506500,0.138936385512352,0.053551033139229,-0.141086503863335,-0.064228646457195,0.110725991427898,-0.196561425924301,0.273697644472122,0.099083974957466));
res += mul(Get(s2,-dx,-dy), float4x4(-0.085965298116207,-0.114950828254223,0.168489918112755,-0.092349715530872,-0.031940080225468,-0.184304878115654,0.027407037094235,0.204417720437050,0.027307298034430,0.030302830040455,0.054719701409340,0.002399261342362,0.059285279363394,0.118479914963245,0.238986060023308,-0.074908494949341));
res += mul(Get(s2,-dx,0), float4x4(-0.153529748320580,-0.069973871111870,-0.359271466732025,0.150632411241531,-0.086459465324879,-0.142918363213539,0.195660144090652,0.173443913459778,-0.041812475770712,-0.036808397620916,0.226477608084679,0.035545550286770,0.080018661916256,0.288131326436996,0.182036608457565,-0.173705890774727));
res += mul(Get(s2,-dx,dy), float4x4(-0.031015546992421,-0.115686662495136,0.065936014056206,0.094535067677498,-0.113873109221458,-0.045061375945807,0.045800335705280,-0.012269489467144,-0.120356045663357,0.125667661428452,0.092906966805458,0.218444660305977,0.062640339136124,0.145387321710587,-0.117958523333073,0.085064917802811));
res += mul(Get(s2,0,-dy), float4x4(0.190085798501968,-0.019370645284653,-0.005644301418215,0.130090042948723,-0.152641221880913,-0.337815821170807,0.054293148219585,-0.102232143282890,-0.060195706784725,-0.051551159471273,-0.281125605106354,0.047861680388451,0.063330620527267,0.118266351521015,0.247988760471344,-0.029610488563776));
res += mul(Get(s2,0,0), float4x4(-0.335326582193375,0.364926040172577,-0.129730641841888,-0.229664668440819,0.100402720272541,0.115918338298798,0.337315440177917,-0.061258055269718,0.255949914455414,-0.205093041062355,-0.506264269351959,-0.391364306211472,0.475040972232819,0.133096322417259,-0.123960226774216,-0.279834806919098));
res += mul(Get(s2,0,dy), float4x4(-0.313109725713730,-0.361222535371780,0.207792714238167,0.240795299410820,0.273985177278519,-0.283963590860367,-1.223524451255798,-0.410797029733658,-0.135767087340355,0.386545121669769,0.462167352437973,0.719980120658875,0.203249678015709,-0.345597982406616,0.370870888233185,0.479483425617218));
res += mul(Get(s2,dx,-dy), float4x4(-0.066324204206467,-0.046208795160055,-0.124042078852654,0.068646416068077,0.042257454246283,-0.085261352360249,0.140209227800369,-0.112461626529694,-0.100346438586712,0.190631255507469,-0.195758402347565,0.173325896263123,-0.038274757564068,0.010537371970713,0.259016722440720,0.036923862993717));
res += mul(Get(s2,dx,0), float4x4(0.073511801660061,-0.008172726258636,-0.143297135829926,-0.316195011138916,-0.014302923344076,-0.071974404156208,0.037199474871159,0.162194535136223,0.025076240301132,-0.002347658155486,-0.268417745828629,0.101826533675194,-0.219056785106659,0.050236601382494,0.363543093204498,0.242778137326241));
res += mul(Get(s2,dx,dy), float4x4(0.096262566745281,0.041923258453608,0.106091208755970,-0.171058848500252,-0.065402738749981,-0.222109243273735,-0.230556860566139,0.063605129718781,0.053293071687222,-0.164642259478569,0.364002466201782,0.202128216624260,-0.094079829752445,0.177362889051437,-0.308716177940369,-0.048851870000362));
res = max(float4(0, 0, 0, 0), res) + float4(2.972557306289673,0.571053028106689,0.120744414627552,0.017027340829372) * min(float4(0, 0, 0, 0), res);
return res;
}
