sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.103249043226242,0.080133184790611,-0.013100490905344,-0.027321914210916);
res += mul(Get(s0,-dx,-dy), float4x4(-0.231943309307098,-0.279125601053238,0.020937271416187,-0.087875261902809,-0.062514573335648,0.073033742606640,0.159470453858376,0.076151974499226,0.145448714494705,0.190061658620834,0.218512579798698,-0.192638427019119,-0.044942487031221,0.065836228430271,-0.140744164586067,-0.007881850935519));
res += mul(Get(s0,-dx,0), float4x4(-0.171073183417320,0.301717996597290,0.238297641277313,-0.116932757198811,0.235888034105301,-0.055217958986759,0.237538099288940,0.338379651308060,0.492310732603073,-0.623493373394012,0.170977383852005,-0.090867675840855,-0.136783897876740,-0.135952636599541,0.705317795276642,0.307555735111237));
res += mul(Get(s0,-dx,dy), float4x4(0.194239780306816,-0.426214367151260,0.003987701609731,-0.161392867565155,0.192523315548897,-0.105755314230919,0.006718347314745,-0.195615306496620,0.012784662656486,0.380450457334518,-0.010584487579763,-0.239459678530693,-0.417477160692215,0.202910050749779,0.199634283781052,0.126839831471443));
res += mul(Get(s0,0,-dy), float4x4(-0.021645663306117,-0.095501251518726,0.114034526050091,0.093332901597023,0.037457492202520,-0.100728064775467,-0.067426301538944,-0.068688921630383,-0.005022355820984,-0.452349156141281,-0.130384445190430,-0.118888325989246,0.025457661598921,0.418460220098495,-0.107901088893414,-0.043513458222151));
res += mul(Get(s0,0,0), float4x4(0.341813176870346,0.181419581174850,-0.098987966775894,-0.001863865298219,-0.589702069759369,0.593334853649139,-0.301665931940079,0.570637166500092,0.308848947286606,-0.132871717214584,0.200531974434853,-0.418919950723648,0.011735389940441,-0.654332995414734,-0.224742785096169,-0.252503484487534));
res += mul(Get(s0,0,dy), float4x4(0.014976844191551,-0.238381624221802,0.077931135892868,-0.018365761265159,0.213303416967392,-0.355228185653687,0.101580351591110,-0.042015489190817,0.052856657654047,-0.097657218575478,0.004916121251881,-0.162827715277672,0.046972151845694,-0.463212043046951,-0.318927824497223,-0.162494674324989));
res += mul(Get(s0,dx,-dy), float4x4(-0.104825705289841,-0.078809753060341,-0.081662096083164,-0.082400299608707,0.146085441112518,-0.110156990587711,0.080724358558655,-0.216862395405769,0.029874332249165,-0.175441011786461,-0.089695043861866,0.114937163889408,-0.002571634249762,-0.123840093612671,0.023757088929415,0.129331469535828));
res += mul(Get(s0,dx,0), float4x4(-0.033728796988726,0.360652595758438,0.201058804988861,-0.166610121726990,-0.213864758610725,-0.084365829825401,0.037978783249855,-0.362507462501526,0.071072861552238,0.101994022727013,-0.176353290677071,0.072687320411205,0.280399590730667,-0.010093309916556,0.371291577816010,-0.212363898754120));
res += mul(Get(s0,dx,dy), float4x4(-0.079477705061436,0.005768478382379,-0.055984165519476,-0.024650244042277,0.166728958487511,-0.280626147985458,-0.012283006682992,-0.125501170754433,0.186054050922394,-0.268942147493362,-0.023231076076627,-0.075519353151321,-0.234166458249092,0.009607789106667,0.208023130893707,0.091806285083294));
res += mul(Get(s1,-dx,-dy), float4x4(-0.317855924367905,-0.328813672065735,-0.203300192952156,0.010798133909702,-0.224774420261383,0.091670237481594,0.130271330475807,0.096500650048256,0.161310255527496,0.078642621636391,-0.009563045576215,-0.038638085126877,-0.325362712144852,-0.224093943834305,-0.314795374870300,-0.050706926733255));
res += mul(Get(s1,-dx,0), float4x4(0.264159739017487,0.001611089217477,0.410128057003021,0.179168477654457,0.171510130167007,-0.346325427293777,0.554328739643097,0.097567401826382,-0.116063937544823,-0.201481416821480,-0.220360651612282,-0.161835476756096,0.038527600467205,0.258546471595764,0.266183614730835,0.198114931583405));
res += mul(Get(s1,-dx,dy), float4x4(0.404396474361420,-0.288493543863297,0.160767778754234,0.019885675981641,0.236886739730835,-0.252663880586624,0.574013113975525,0.182714506983757,0.026337271556258,-0.051876433193684,-0.088936097919941,-0.032974869012833,0.463635772466660,-0.636746287345886,0.111712373793125,0.131434008479118));
res += mul(Get(s1,0,-dy), float4x4(-0.252840727567673,0.180352985858917,0.154281660914421,0.273082077503204,-0.229883953928947,0.162355586886406,0.152758821845055,0.021543171256781,-0.126060023903847,-0.241174414753914,-0.060931693762541,0.076019324362278,0.016241749748588,0.429323792457581,0.158335492014885,0.279778778553009));
res += mul(Get(s1,0,0), float4x4(0.481332749128342,-0.575226306915283,0.281520694494247,-0.879808902740479,0.254329264163971,-0.458249926567078,-0.079109571874142,-0.268700689077377,0.166915073990822,-0.253052651882172,0.067714080214500,0.378648906946182,0.144230753183365,-0.628096938133240,-0.127703011035919,-0.072624340653419));
res += mul(Get(s1,0,dy), float4x4(-0.042022414505482,-0.024188658222556,0.029050853103399,-0.054001845419407,0.443745970726013,-0.391599297523499,0.125861734151840,-0.231952235102654,0.075813420116901,0.027680998668075,0.083549380302429,0.034171480685472,-0.171537473797798,-0.128151088953018,0.066790774464607,-0.046644564718008));
res += mul(Get(s1,dx,-dy), float4x4(-0.092049673199654,0.295685082674026,0.080885358154774,-0.064275495707989,0.205942004919052,0.269756793975830,-0.096242599189281,-0.061289850622416,-0.133142411708832,-0.186899900436401,-0.186539098620415,0.201562598347664,-0.049845062196255,0.334557443857193,0.136345252394676,-0.312205225229263));
res += mul(Get(s1,dx,0), float4x4(0.165701568126678,-0.347553312778473,-0.300795525312424,0.288992613554001,0.411709964275360,-0.366612762212753,-0.215507864952087,-0.371179193258286,-0.260478645563126,0.091460376977921,-0.181254282593727,0.225616261363029,-0.202545523643494,-0.212942853569984,-0.187361985445023,0.093680530786514));
res += mul(Get(s1,dx,dy), float4x4(0.097677513957024,0.135760903358459,-0.128959894180298,0.179996863007545,0.310653090476990,-0.322253733873367,-0.015883138403296,-0.213921785354614,0.074611864984035,-0.089927218854427,-0.061406165361404,0.132916688919067,-0.013263340108097,0.133742541074753,-0.234769329428673,0.093368753790855));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034082628786564,-0.384346395730972,0.101254522800446,0.053931634873152,-0.121754385530949,0.272833704948425,-0.049151185899973,0.038033191114664,-0.091724902391434,0.337136328220367,0.079725176095963,0.062257111072540,-0.131394416093826,-0.035083916038275,-0.042521018534899,0.136621475219727));
res += mul(Get(s2,-dx,0), float4x4(0.087715975940228,0.166624769568443,0.285091310739517,-0.099881380796432,0.050472717732191,-0.091990791261196,-0.168855696916580,0.084390394389629,-0.387197285890579,0.245218917727470,0.080967843532562,0.343490719795227,-0.141619890928268,0.174801021814346,-0.214735120534897,0.078676141798496));
res += mul(Get(s2,-dx,dy), float4x4(-0.319520354270935,0.235660210251808,-0.048146691173315,-0.087809786200523,0.014291693456471,0.160233452916145,-0.295541375875473,-0.133347898721695,-0.045309633016586,-0.235580787062645,0.271346122026443,0.156607925891876,-0.572546541690826,0.137438714504242,-0.084275037050247,0.115767076611519));
res += mul(Get(s2,0,-dy), float4x4(-0.218954473733902,-0.768001019954681,-0.098969414830208,0.311640799045563,-0.172412455081940,0.562325060367584,-0.122227393090725,0.073235727846622,0.478429943323135,0.427131295204163,0.013098240830004,-0.216768652200699,0.229509666562080,0.253818690776825,0.069958612322807,0.046567115932703));
res += mul(Get(s2,0,0), float4x4(0.373587310314178,0.218248099088669,-0.107752531766891,-0.008882551454008,-0.079224348068237,-0.177413120865822,0.027541264891624,-0.190434694290161,-0.042977482080460,0.073689952492714,-0.074218869209290,0.256335318088531,-0.013472516089678,-0.042292390018702,-0.078970775008202,0.386291056871414));
res += mul(Get(s2,0,dy), float4x4(0.179280728101730,0.188536867499352,-0.172211602330208,-0.189008429646492,-0.269755691289902,0.193810984492302,0.024912910535932,0.504399240016937,0.061500504612923,-0.025593241676688,0.090031974017620,0.362254470586777,-0.121246330440044,0.190833061933517,-0.255395203828812,-0.091173827648163));
res += mul(Get(s2,dx,-dy), float4x4(-0.150583729147911,0.043522883206606,0.015117162838578,-0.104551829397678,0.010568094439805,0.013618869706988,-0.096990719437599,0.181967288255692,0.170491367578506,0.034330271184444,0.152043595910072,-0.188327535986900,0.103117734193802,-0.102334082126617,-0.013326536864042,-0.084910854697227));
res += mul(Get(s2,dx,0), float4x4(0.104616537690163,-0.061122987419367,-0.015044067054987,0.057041376829147,0.067223712801933,0.121091514825821,-0.018147841095924,0.023756008595228,0.002164417179301,-0.125246718525887,-0.053353108465672,0.033113721758127,0.115790143609047,-0.191860005259514,0.251534968614578,-0.126552090048790));
res += mul(Get(s2,dx,dy), float4x4(-0.181790843605995,0.095407873392105,0.139198407530785,-0.030453244224191,0.350724697113037,0.109672956168652,-0.119788251817226,0.104151688516140,-0.133474126458168,-0.024312935769558,-0.190391272306442,0.193793952465057,-0.093509979546070,0.051571767777205,0.441766023635864,0.025315063074231));
res = max(float4(0, 0, 0, 0), res) + float4(-0.029765058308840,0.049344968050718,-0.895931184291840,-0.058372776955366) * min(float4(0, 0, 0, 0), res);
return res;
}
