sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.056592196226120,0.052428886294365,0.008005111478269,-0.069362476468086);
res += mul(Get(s0,-dx,-dy), float4x4(0.127906784415245,-0.043331317603588,0.070084221661091,0.136802479624748,-0.164444953203201,0.033121291548014,-0.108645625412464,0.153009578585625,-0.042161446064711,-0.006931876763701,0.127577781677246,-0.141991928219795,0.020250288769603,0.130459845066071,-0.087078399956226,0.101657025516033));
res += mul(Get(s0,-dx,0), float4x4(0.020034128800035,-0.004619979299605,0.144143417477608,0.079258888959885,0.098108589649200,-0.027572877705097,-0.043307635933161,0.045998509973288,0.014196017757058,-0.044434562325478,0.035055179148912,-0.332201957702637,0.125885188579559,0.175088793039322,-0.164212405681610,-0.018738828599453));
res += mul(Get(s0,-dx,dy), float4x4(0.309779256582260,-0.119932122528553,0.046493262052536,0.003331631887704,-0.082742363214493,-0.055806167423725,0.077463075518608,-0.069687470793724,0.260087370872498,0.047143910080194,0.032251253724098,-0.312017470598221,0.111740656197071,0.005019563715905,-0.299425750970840,-0.029780074954033));
res += mul(Get(s0,0,-dy), float4x4(-0.002726059639826,-0.011831230483949,-0.040537681430578,-0.012669136747718,-0.009268881753087,0.242318764328957,0.083313509821892,0.022884760051966,-0.065399318933487,0.011502182111144,0.027539430186152,-0.370529621839523,-0.083527937531471,0.119635209441185,-0.196154624223709,-0.054955761879683));
res += mul(Get(s0,0,0), float4x4(-0.432984411716461,-0.295627206563950,-0.386750608682632,0.127712935209274,0.109988696873188,0.013489845208824,-0.259462267160416,0.374500691890717,0.463186055421829,-0.023575033992529,0.148047029972076,0.173502340912819,0.209305882453918,0.086413361132145,-0.107644103467464,-0.305422276258469));
res += mul(Get(s0,0,dy), float4x4(0.075363717973232,0.079579256474972,0.130126953125000,-0.111993253231049,-0.222126796841621,-0.439423650503159,0.092316873371601,-0.354840695858002,-0.620747506618500,-0.352165341377258,-0.170264795422554,0.886808872222900,0.406589001417160,0.181457608938217,-0.477079749107361,-0.090726830065250));
res += mul(Get(s0,dx,-dy), float4x4(-0.104933679103851,-0.045994684100151,0.109798967838287,-0.117007210850716,-0.117698900401592,0.130525961518288,-0.131423190236092,-0.076372839510441,0.031449530273676,0.080971375107765,-0.208184286952019,-0.301323145627975,0.102950543165207,0.082526601850986,-0.179118514060974,-0.061186108738184));
res += mul(Get(s0,dx,0), float4x4(0.021946897730231,0.307014167308807,0.381145119667053,0.062477190047503,0.066012807190418,0.033480983227491,-0.046863064169884,-0.223268628120422,0.340633451938629,0.075214684009552,0.167056620121002,0.106034487485886,0.253356605768204,0.138317182660103,-0.165644347667694,-0.029817262664437));
res += mul(Get(s0,dx,dy), float4x4(0.288778305053711,0.112790510058403,-0.012988727539778,-0.051171679049730,-0.008041291497648,-0.151393994688988,0.329417824745178,-0.030714169144630,-0.519794046878815,0.338395774364471,0.528701126575470,0.015962267294526,0.162585645914078,0.159776002168655,-0.455614209175110,0.089830704033375));
res += mul(Get(s1,-dx,-dy), float4x4(-0.204835817217827,0.064272575080395,0.176900759339333,0.155204102396965,-0.036763507872820,-0.101778313517570,0.221525803208351,-0.024732993915677,-0.054866228252649,0.167523786425591,-0.166139349341393,0.016930364072323,0.103177547454834,-0.018646545708179,0.008885112591088,-0.205878138542175));
res += mul(Get(s1,-dx,0), float4x4(0.172657862305641,0.026886668056250,0.154913827776909,-0.075282201170921,-0.020499616861343,-0.006784450262785,0.272176533937454,-0.033269688487053,0.049110896885395,0.058054409921169,-0.427437037229538,-0.238754361867905,0.059030182659626,0.064079739153385,-0.111255414783955,0.011973125860095));
res += mul(Get(s1,-dx,dy), float4x4(0.191343590617180,-0.073999032378197,0.046522945165634,-0.090212456882000,0.050766196101904,-0.062609910964966,0.440851509571075,0.014397987164557,0.138243257999420,0.160271301865578,-0.373114883899689,-0.036645952612162,-0.028822418302298,0.096275694668293,-0.142183899879456,-0.142297670245171));
res += mul(Get(s1,0,-dy), float4x4(-0.194532483816147,0.055739995092154,0.040611598640680,0.211787819862366,0.015992110595107,-0.079245500266552,0.242266550660133,0.043338950723410,0.253134161233902,0.224701344966888,-0.518833100795746,-0.697196483612061,0.174706771969795,-0.101101972162724,0.005899508483708,0.221183702349663));
res += mul(Get(s1,0,0), float4x4(-0.350016504526138,0.154330596327782,-0.019477175548673,0.194651335477829,-0.035299375653267,-0.099180705845356,0.491063266992569,-0.331565082073212,0.473785102367401,0.054565552622080,-0.656496882438660,0.140735417604446,-0.376336425542831,-0.171785533428192,-0.268789023160934,0.862808644771576));
res += mul(Get(s1,0,dy), float4x4(0.184232607483864,0.525872766971588,-0.120881386101246,0.037870474159718,0.155228212475777,-0.227046057581902,0.813336849212646,-0.237004578113556,0.048093933612108,0.011539019644260,-0.459112763404846,0.000852024822962,0.192070171236992,0.225721493363380,0.132314831018448,-0.016258090734482));
res += mul(Get(s1,dx,-dy), float4x4(0.081025287508965,0.131582528352737,-0.022680647671223,0.117002867162228,-0.030932029709220,-0.020227311179042,0.236170023679733,0.140209317207336,0.203269898891449,0.075459018349648,-0.439373165369034,-0.095848627388477,-0.242621600627899,-0.142069175839424,-0.069154918193817,-0.123811624944210));
res += mul(Get(s1,dx,0), float4x4(0.140797227621078,-0.412858217954636,0.129966333508492,-0.394772350788116,0.018074298277497,-0.077754214406013,0.496533721685410,0.085714831948280,0.280855089426041,-0.180749595165253,-0.343655019998550,-0.009821236133575,-0.235459595918655,0.288819551467896,0.424126803874969,-0.193098381161690));
res += mul(Get(s1,dx,dy), float4x4(0.092643417418003,-0.115457974374294,-0.209966674447060,0.004190316889435,0.049910075962543,-0.311852723360062,0.514880955219269,-0.062871612608433,0.053493380546570,-0.041394345462322,-0.063747607171535,0.009002375416458,-0.130667746067047,-0.063499629497528,0.047069128602743,-0.113685518503189));
res += mul(Get(s2,-dx,-dy), float4x4(-0.010690179653466,-0.040173940360546,0.185048639774323,0.148817703127861,-0.089692197740078,0.202611923217773,0.197161138057709,-0.067377403378487,0.008926501497626,0.047362141311169,-0.050664212554693,0.070430710911751,0.128275275230408,-0.221430480480194,0.052590277045965,0.120252072811127));
res += mul(Get(s2,-dx,0), float4x4(0.152173563838005,-0.075483322143555,0.087324604392052,-0.015012051910162,-0.070241704583168,0.296400994062424,0.198807910084724,0.007685664575547,0.004601806402206,-0.041614025831223,0.133986279368401,0.098800778388977,0.214844956994057,-0.598257422447205,0.181531146168709,0.052917957305908));
res += mul(Get(s2,-dx,dy), float4x4(-0.019804950803518,-0.052005242556334,-0.001263177255169,0.045902848243713,-0.279847294092178,0.151977792382240,-0.120913982391357,0.122022897005081,-0.055068552494049,-0.004870054777712,0.028870521113276,0.061281926929951,0.021852521225810,-0.152499333024025,0.055584747344255,-0.099779695272446));
res += mul(Get(s2,0,-dy), float4x4(0.213375627994537,-0.128848567605019,-0.176393032073975,0.284088075160980,-0.190751343965530,0.176632225513458,0.205024927854538,-0.246771618723869,0.298746228218079,-0.298131972551346,0.120350696146488,-0.573727548122406,0.264885336160660,-0.215572640299797,0.024334158748388,0.296796172857285));
res += mul(Get(s2,0,0), float4x4(-0.223304122686386,0.127713933587074,-0.093508422374725,0.552541315555573,0.175916433334351,-0.157826229929924,0.030690470710397,-1.183465123176575,-0.139041990041733,1.050568699836731,-0.562255203723907,0.388766288757324,-0.196409389376640,-0.350002378225327,0.064050421118736,-0.233974903821945));
res += mul(Get(s2,0,dy), float4x4(-0.099949084222317,-0.260953068733215,0.082609660923481,0.166127800941467,-0.089215390384197,0.033685017377138,0.072557359933853,-0.062891818583012,-0.015861975029111,-0.072933234274387,0.116189837455750,-0.137830674648285,-0.133401826024055,-0.372733086347580,-0.179908543825150,0.115261197090149));
res += mul(Get(s2,dx,-dy), float4x4(0.164932131767273,-0.117361240088940,-0.144229590892792,0.095672920346260,-0.091798879206181,-0.023223023861647,0.000141356678796,-0.044093444943428,0.198842391371727,-0.130493178963661,0.131811439990997,0.036250814795494,0.124969281256199,-0.024804195389152,0.006024499889463,0.103367343544960));
res += mul(Get(s2,dx,0), float4x4(-0.081554852426052,-0.110998004674911,0.035653233528137,0.014189871028066,0.116778902709484,0.118190094828606,-0.062667191028595,0.028176859021187,-0.089196167886257,-0.214373409748077,0.050443258136511,-0.325143814086914,-0.526671290397644,-0.532479226589203,-0.455152958631516,0.089425668120384));
res += mul(Get(s2,dx,dy), float4x4(0.032080646604300,-0.103774532675743,0.070925362408161,0.187063127756119,0.039372954517603,0.080457381904125,0.093250945210457,0.015672152861953,-0.114659301936626,-0.013322089798748,-0.118205428123474,-0.005885837133974,0.045740731060505,-0.094504147768021,-0.045007031410933,0.034069336950779));
res = max(float4(0, 0, 0, 0), res) + float4(-0.194181933999062,1.248036861419678,0.093772552907467,0.167923346161842) * min(float4(0, 0, 0, 0), res);
return res;
}
