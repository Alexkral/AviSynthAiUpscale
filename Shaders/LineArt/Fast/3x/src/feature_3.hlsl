sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.300305575132370,-0.154844313859940,0.043263088911772,0.063425682485104);
res += float4(0.001565372571349,0.015560852363706,0.012834480032325,0.006730441469699) * Get(-ddx,-ddy);
res += float4(0.061788130551577,0.091154515743256,-0.051617234945297,0.046159032732248) * Get(-ddx,-dy);
res += float4(0.083571001887321,-0.179035708308220,0.029396118596196,-0.008897735737264) * Get(-ddx,0);
res += float4(0.049269769340754,-0.010779893957078,0.036324005573988,-0.057825639843941) * Get(-ddx,dy);
res += float4(0.007403599098325,-0.030694231390953,0.012871215119958,0.022002357989550) * Get(-ddx,ddy);
res += float4(-0.015827646479011,-0.036382503807545,0.014255288057029,-0.035663791000843) * Get(-dx,-ddy);
res += float4(-0.186379283666611,-0.123953312635422,-0.028922779485583,-0.062538303434849) * Get(-dx,-dy);
res += float4(-0.247300893068314,0.086311161518097,0.688871860504150,0.156279787421227) * Get(-dx,0);
res += float4(-0.173991784453392,0.096218682825565,0.321414083242416,0.117759078741074) * Get(-dx,dy);
res += float4(0.023538054898381,0.021193766966462,-0.034947592765093,0.017284700646996) * Get(-dx,ddy);
res += float4(-0.066229477524757,0.134884268045425,0.006473402958363,-0.012894518673420) * Get(0,-ddy);
res += float4(0.074140399694443,-0.001345087541267,0.007278002798557,-0.069610945880413) * Get(0,-dy);
res += float4(-0.129179418087006,0.397110521793365,-0.580588638782501,-0.761001050472260) * Get(0,0);
res += float4(-0.127559408545494,-0.119571365416050,-0.432346135377884,0.635773837566376) * Get(0,dy);
res += float4(-0.047134783118963,-0.057711295783520,-0.002420792588964,-0.002789863385260) * Get(0,ddy);
res += float4(0.030995797365904,-0.036482188850641,-0.034576769918203,-0.008343663066626) * Get(dx,-ddy);
res += float4(-0.206895083189011,-0.272060483694077,0.041713234037161,0.052410479635000) * Get(dx,-dy);
res += float4(0.374843388795853,0.230986922979355,-0.053511410951614,-0.114394396543503) * Get(dx,0);
res += float4(-0.112127892673016,0.092272095382214,0.043125849217176,0.069568045437336) * Get(dx,dy);
res += float4(0.020898958668113,0.008479946292937,0.005846147425473,-0.044849690049887) * Get(dx,ddy);
res += float4(0.018962902948260,0.055137611925602,0.000222466085688,0.012590290978551) * Get(ddx,-ddy);
res += float4(0.041694935411215,0.096102371811867,0.023894736543298,0.026507481932640) * Get(ddx,-dy);
res += float4(-0.083780057728291,-0.017382198944688,-0.037111323326826,-0.065026186406612) * Get(ddx,0);
res += float4(0.027488557621837,-0.126584306359291,0.002595207421109,0.030256779864430) * Get(ddx,dy);
res += float4(0.017779011279345,0.009322978556156,0.003723928006366,0.007457864936441) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.408250123262405,0.752122163772583,-0.364000499248505,0.419556677341461) * min(float4(0, 0, 0, 0), res);
return res;
}
