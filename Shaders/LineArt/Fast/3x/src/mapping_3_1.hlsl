sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.247766688466072,0.026778573170304,-0.390634566545486,-0.098993398249149);
res += mul(Get(s0,-dx,-dy), float4x4(-0.533289015293121,0.078023500740528,0.221748962998390,0.225843518972397,0.279153019189835,0.123868763446808,0.122287914156914,0.085807979106903,0.737390697002411,0.210374876856804,-0.212119638919830,0.015825210139155,0.259052544832230,-0.326061099767685,-0.361338555812836,-0.085851952433586));
res += mul(Get(s0,-dx,0), float4x4(-0.203028574585915,-0.065462097525597,0.219797834753990,0.222999960184097,0.415541708469391,0.164035439491272,0.168358460068703,0.060037296265364,0.047268386930227,0.784642338752747,-0.142070889472961,-0.155107051134109,0.216801166534424,0.485423177480698,-0.202314779162407,0.035911664366722));
res += mul(Get(s0,-dx,dy), float4x4(-0.146028146147728,-0.195667326450348,-0.091477848589420,-0.149767234921455,0.030587451532483,-0.143038511276245,0.032096736133099,-0.122405856847763,0.235439568758011,-0.041502464562654,0.251487493515015,0.185098394751549,0.011805707588792,0.181346207857132,-0.099530458450317,0.087300337851048));
res += mul(Get(s0,0,-dy), float4x4(0.266255915164948,-0.081527523696423,0.253750532865524,0.130784273147583,0.014958837069571,0.074415251612663,0.161005750298500,-0.250919729471207,-0.246200382709503,0.176229059696198,0.032476611435413,0.113251149654388,0.064316481351852,-0.033581689000130,-0.319948405027390,-0.053121376782656));
res += mul(Get(s0,0,0), float4x4(0.228894561529160,0.654873907566071,-0.168175712227821,-0.261800438165665,0.029397895559669,-0.379382252693176,0.069156043231487,0.614366769790649,-0.362061560153961,-0.256811410188675,0.099040083587170,-0.273848831653595,0.449985116720200,0.019396999850869,0.560435891151428,0.119569934904575));
res += mul(Get(s0,0,dy), float4x4(-0.082717970013618,-0.482859134674072,-0.106753043830395,-0.090252935886383,-0.123961083590984,-0.125634327530861,0.143459320068359,-0.001163431210443,-0.036988914012909,-0.185460612177849,0.177495270967484,0.096601687371731,0.132120922207832,-0.219588831067085,0.207659080624580,-0.160315141081810));
res += mul(Get(s0,dx,-dy), float4x4(-0.153333276510239,-0.276154518127441,0.245759159326553,0.049382004886866,-0.081338822841644,-0.109485991299152,0.176228955388069,-0.047767709940672,0.110169798135757,0.247820004820824,0.217202186584473,-0.045224729925394,0.143215656280518,-0.059120383113623,0.057507075369358,0.150630325078964));
res += mul(Get(s0,dx,0), float4x4(-0.091538950800896,-0.105985738337040,-0.192341044545174,0.138498708605766,-0.012799095362425,-0.144123241305351,0.084899500012398,-0.017122697085142,0.112436279654503,0.006553296931088,0.167020738124847,0.003628398990259,-0.218929842114449,-0.491230010986328,-0.399911075830460,0.294180005788803));
res += mul(Get(s0,dx,dy), float4x4(0.078466802835464,0.098475284874439,-0.077862210571766,0.065907843410969,-0.013992507010698,-0.000938083045185,0.012855947948992,0.032249599695206,-0.082994706928730,-0.148363247513771,0.081309169530869,-0.014865159057081,-0.038344912230968,-0.154678195714951,-0.203946098685265,-0.064753025770187));
res += mul(Get(s1,-dx,-dy), float4x4(-0.077327586710453,-0.088980510830879,0.213857978582382,0.110737629234791,0.306646168231964,0.078060507774353,0.037972945719957,0.062536552548409,-0.032603859901428,0.070570215582848,-0.260771811008453,-0.173636689782143,-0.404017060995102,-0.177436545491219,0.147699847817421,0.006229111459106));
res += mul(Get(s1,-dx,0), float4x4(0.073949858546257,0.200743794441223,0.072411388158798,0.074696272611618,0.412707567214966,0.133335754275322,0.063486635684967,0.152159079909325,-0.235367268323898,-0.211616039276123,0.188905328512192,0.184706598520279,0.149221688508987,-0.127434507012367,-0.167642891407013,-0.042958285659552));
res += mul(Get(s1,-dx,dy), float4x4(-0.013899692334235,0.182670652866364,-0.132011443376541,-0.099241293966770,0.129584178328514,0.124141745269299,0.167906656861305,0.139200881123543,-0.072009801864624,0.063967913389206,0.169287770986557,0.003269098233432,0.082296676933765,0.264919757843018,-0.371573120355606,-0.290507942438126));
res += mul(Get(s1,0,-dy), float4x4(0.439161837100983,0.018369790166616,0.215921074151993,-0.163932755589485,0.587809920310974,0.008948659524322,-0.114853374660015,-0.074891574680805,-0.335438817739487,0.222896248102188,-0.107677534222603,0.187319353222847,0.704193949699402,0.347746938467026,-0.224575757980347,-0.217342674732208));
res += mul(Get(s1,0,0), float4x4(-0.616748929023743,-0.389450579881668,-0.356441050767899,-0.350156098604202,0.248860239982605,-0.216800987720490,0.105268485844135,0.080442421138287,0.057489141821861,-0.023218475282192,0.131251022219658,-0.195247262716293,-0.146823719143867,-0.090223133563995,-0.380755364894867,0.806791901588440));
res += mul(Get(s1,0,dy), float4x4(-0.011647550389171,-0.023779978975654,0.273616105318069,0.239642262458801,0.507280766963959,0.035413838922977,0.566876769065857,0.053697675466537,-0.020284926518798,-0.113320596516132,0.182775601744652,-0.100719630718231,-0.063666015863419,0.178255259990692,-0.357527166604996,0.102819398045540));
res += mul(Get(s1,dx,-dy), float4x4(0.112344443798065,0.040472153574228,-0.255659013986588,0.007831532508135,0.390599250793457,0.376301825046539,0.108474031090736,0.035585995763540,0.250087559223175,0.215320736169815,0.337747395038605,0.002467349870130,0.101114377379417,-0.040326591581106,-0.364538729190826,-0.080043129622936));
res += mul(Get(s1,dx,0), float4x4(0.079939469695091,0.068207830190659,0.660177946090698,0.082974784076214,0.309399664402008,0.397544115781784,0.503650307655334,0.038769476115704,0.145439907908440,0.673356771469116,0.106250785291195,-0.059604533016682,-0.106609210371971,0.207444354891777,-0.055413238704205,-0.175454229116440));
res += mul(Get(s1,dx,dy), float4x4(0.147430926561356,-0.330362707376480,0.338259696960449,0.189105495810509,0.220201641321182,-0.082910276949406,0.187177658081055,0.279119253158569,-0.119015768170357,-0.279226005077362,-0.024295017123222,-0.161399722099304,0.226818025112152,0.082776308059692,0.250771015882492,0.180118322372437));
res += mul(Get(s2,-dx,-dy), float4x4(0.019122742116451,0.222126141190529,0.138944789767265,0.085161790251732,0.177163392305374,-0.192395210266113,-0.186338171362877,0.010943542234600,0.141224756836891,-0.407117366790771,-0.144675835967064,-0.092256210744381,-0.066851168870926,-0.305105060338974,0.123673193156719,0.072548709809780));
res += mul(Get(s2,-dx,0), float4x4(0.483237177133560,-0.075572155416012,-0.005179355852306,-0.061092313379049,-0.176711603999138,0.035568710416555,-0.277867406606674,-0.095139540731907,-0.182740405201912,-0.286572217941284,0.181569099426270,-0.076061286032200,-0.481011539697647,0.044251848012209,0.133873566985130,0.024885598570108));
res += mul(Get(s2,-dx,dy), float4x4(0.272096872329712,-0.289608716964722,-0.083600573241711,0.009693089872599,-0.449372470378876,-0.051639713346958,0.002545889467001,0.120963826775551,0.478973686695099,0.210026577115059,-0.187549456954002,-0.049930054694414,-0.358669012784958,0.321489453315735,-0.151669621467590,0.241775020956993));
res += mul(Get(s2,0,-dy), float4x4(-0.270508199930191,-0.266687780618668,0.287366449832916,0.155776664614677,0.091212473809719,-0.013179725967348,-0.124639265239239,-0.022907583042979,0.407516002655029,0.291901648044586,-0.317258924245834,-0.262190639972687,0.239291995763779,0.034947849810123,-0.106620609760284,-0.047483839094639));
res += mul(Get(s2,0,0), float4x4(-0.310491055250168,0.149016171693802,-0.113704837858677,0.294705450534821,-0.091947898268700,-0.456352710723877,0.257134020328522,0.091582641005516,-0.464996635913849,-0.257335841655731,-0.078696213662624,-0.147282153367996,-0.414312034845352,0.164392814040184,-0.120172195136547,-0.018063426017761));
res += mul(Get(s2,0,dy), float4x4(0.131396189332008,0.356322973966599,-0.171301156282425,0.078021422028542,-0.381110548973083,-0.155937537550926,-0.367356866598129,0.069629453122616,0.510280668735504,0.112999409437180,0.518434703350067,0.339133679866791,0.177667081356049,0.314838290214539,-0.375941872596741,-0.057266581803560));
res += mul(Get(s2,dx,-dy), float4x4(-0.134626612067223,-0.335577428340912,0.109317161142826,-0.012752609327435,0.099898256361485,0.234235107898712,-0.207708746194839,0.118636526167393,0.132800191640854,0.099589563906193,-0.107575833797455,-0.044845186173916,-0.073796898126602,-0.046159069985151,-0.012101975269616,0.028524590656161));
res += mul(Get(s2,dx,0), float4x4(-0.028681732714176,-0.177038416266441,0.284159362316132,-0.075848415493965,0.226872876286507,0.264711856842041,-0.053198371082544,0.160240516066551,-0.053345497697592,-0.038995213806629,0.025901867076755,0.056447140872478,-0.230667293071747,-0.240539908409119,-0.313404589891434,0.201860040426254));
res += mul(Get(s2,dx,dy), float4x4(0.072567507624626,-0.342939078807831,0.079766429960728,0.002109766006470,-0.065548345446587,0.453097194433212,-0.243962571024895,0.037224303930998,0.158568054437637,-0.091786123812199,0.035437662154436,0.084948137402534,-0.222121104598045,0.272413432598114,-0.531742632389069,-0.023311125114560));
res = max(float4(0, 0, 0, 0), res) + float4(0.059460390359163,0.329120635986328,0.281693130731583,0.825417578220367) * min(float4(0, 0, 0, 0), res);
return res;
}
