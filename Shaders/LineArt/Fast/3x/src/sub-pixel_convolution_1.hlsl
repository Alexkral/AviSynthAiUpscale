sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float3 res = float3(-0.003444822737947,0.002423050813377,0.000511416408699);
res += mul(Get(s0,-dx,-dy), float4x3(0.003464739304036,-0.001328610931523,-0.002803469542414,0.006142321974039,0.005209590774029,0.000721947173588,0.000617503246758,0.000174655258888,0.000843252404593,0.006883623078465,0.004021178465337,0.000038205980673));
res += mul(Get(s0,-dx,0), float4x3(-0.004363718442619,0.006644892040640,0.010301698930562,-0.001948490156792,0.007233568001539,0.004105477128178,-0.006198009010404,-0.001754421973601,-0.000602242944296,-0.000972516601905,-0.001087868702598,0.004479996394366));
res += mul(Get(s0,-dx,dy), float4x3(-0.003088036319241,-0.001137398183346,-0.005986080039293,0.008632313460112,0.011433875188231,0.003476701676846,0.002783004194498,0.002019894542173,-0.006147674750537,0.000631198869087,0.001572852255777,0.002070715650916));
res += mul(Get(s0,0,-dy), float4x3(0.041137523949146,0.015532799065113,-0.004776515532285,-0.004352107644081,0.008994008414447,0.008272589184344,-0.009195690043271,0.000449448183645,0.003207997186109,-0.033663813024759,-0.004008736927062,0.003303759731352));
res += mul(Get(s0,0,0), float4x3(0.037136465311050,-0.061655964702368,-0.040517419576645,-0.039652727544308,-0.035050839185715,-0.031148642301559,0.038538012653589,0.015549689531326,-0.006205189507455,-0.047707103192806,-0.075225114822388,-0.069965615868568));
res += mul(Get(s0,0,dy), float4x3(-0.008412556722760,-0.005933510139585,0.027969585731626,0.006689796689898,0.010257467627525,-0.009378356859088,0.004717887844890,0.025386562570930,0.036770604550838,-0.001606797566637,-0.000901718507521,-0.011776052415371));
res += mul(Get(s0,dx,-dy), float4x3(-0.001746348454617,-0.001395278493874,-0.005924057681113,0.005226863548160,0.008306739851832,0.006754683796316,0.001153137534857,-0.001900690840557,0.000365306390449,-0.000967147236224,0.000127173960209,0.000512613449246));
res += mul(Get(s0,dx,0), float4x3(0.010581127367914,0.012208172120154,-0.005642468575388,0.017205029726028,0.015375569462776,0.007349536754191,-0.006620310712606,0.000469599064672,0.000545568473171,-0.002196404850110,-0.007438224274665,-0.002558547770604));
res += mul(Get(s0,dx,dy), float4x3(-0.003850196953863,-0.003870816202834,-0.001763465115800,-0.002361820777878,0.004498229362071,0.013017132878304,-0.001990522723645,-0.004700348246843,-0.007770631927997,0.001294908695854,0.005076535046101,0.001036853063852));
res += mul(Get(s1,-dx,-dy), float4x3(-0.007425431627780,-0.000063003615651,0.003522672690451,-0.004362526815385,-0.001654810854234,-0.001760726096109,0.016190532594919,0.004059422295541,-0.002719465177506,0.025454306975007,0.007123798131943,-0.000577540253289));
res += mul(Get(s1,-dx,0), float4x3(0.011262537911534,-0.014302609488368,-0.015280526131392,-0.009319750592113,0.033935889601707,0.016212029382586,0.033060621470213,0.015390142798424,-0.000617445039097,0.025189252570271,0.042967341840267,0.044393584132195));
res += mul(Get(s1,-dx,dy), float4x3(-0.004300883505493,-0.005428344476968,0.016638364642859,0.007643944118172,-0.002683005994186,-0.033084910362959,0.004953202791512,-0.004631198011339,-0.003375722095370,-0.001735671539791,-0.001455506309867,0.006844160147011));
res += mul(Get(s1,0,-dy), float4x3(0.007428259588778,-0.023595439270139,-0.012079203501344,-0.009705722332001,-0.004823497496545,-0.006170650012791,0.019024293869734,-0.002278151921928,-0.012529080733657,-0.011838813312352,-0.002459874842316,0.000261472043348));
res += mul(Get(s1,0,0), float4x3(-0.035383597016335,0.002580152824521,0.061414327472448,0.037894509732723,-0.018002426251769,-0.026822304353118,-0.015619876794517,-0.022142261266708,-0.009618243202567,-0.020017350092530,-0.025721661746502,-0.021732555702329));
res += mul(Get(s1,0,dy), float4x3(0.003111742204055,0.003764491062611,-0.001976175699383,-0.015769988298416,0.000520616478752,0.046305045485497,0.003835459938273,-0.010129574686289,-0.027456477284431,0.003830195870250,0.002535116393119,-0.005887683015317));
res += mul(Get(s1,dx,-dy), float4x3(0.000812208279967,0.005475616548210,0.004519869107753,-0.001357903121971,0.006008084397763,0.007408948149532,0.001862771692686,-0.001518458477221,-0.001240840065293,0.002968824468553,0.000203999792575,-0.002219021553174));
res += mul(Get(s1,dx,0), float4x3(0.000802535796538,-0.012672776356339,-0.005929275881499,-0.003427471499890,-0.002647771500051,-0.002948423381895,0.008820970542729,0.002361854072660,-0.001113607082516,0.004199953284115,0.007518727798015,0.007910229265690));
res += mul(Get(s1,dx,dy), float4x3(-0.000070296722697,0.001613875734620,0.007217592094094,-0.000968667794950,-0.001698456238955,-0.000784217903856,-0.000416323018726,0.000066936700023,0.002209388883784,-0.000273693294730,0.000601447129156,0.001565078506246));
res += mul(Get(s2,-dx,-dy), float4x3(-0.002885833382607,0.002794626867399,0.001871036249213,-0.000028211368772,0.002899120561779,0.000622267136350,0.033130075782537,-0.007499270606786,-0.007931903004646,-0.014204813167453,0.008898635394871,0.004846519324929));
res += mul(Get(s2,-dx,0), float4x3(-0.005414517596364,-0.006108101923019,-0.005266473162919,0.020333407446742,-0.002809430472553,-0.015604760497808,-0.043325513601303,-0.043532699346542,0.034483950585127,0.039320923388004,0.031382858753204,-0.040479101240635));
res += mul(Get(s2,-dx,dy), float4x3(-0.000721698685084,0.000141958065797,0.000278175226413,-0.002452086424455,-0.006186329759657,0.005169274751097,-0.005179494619370,0.007992872036994,0.010429878719151,0.008453662507236,-0.006492925807834,-0.015625728294253));
res += mul(Get(s2,0,-dy), float4x3(-0.000029008548154,-0.002146849175915,0.001535112503916,0.003721883986145,0.000370291440049,-0.000092023437901,-0.008441904559731,0.004796229302883,-0.000336814875482,-0.011594464071095,0.008366481401026,0.011812465265393));
res += mul(Get(s2,0,0), float4x3(0.013523134402931,0.013633478432894,0.001569859217852,0.002301762811840,-0.006427918095142,0.000340897822753,0.015659416094422,0.033801279962063,-0.002628805814311,-0.004589164629579,0.004812628030777,-0.013938910327852));
res += mul(Get(s2,0,dy), float4x3(0.000141491342220,0.002217921195552,0.008026854135096,-0.001739912317134,-0.004374775104225,0.001608587917872,0.000538287102245,-0.011408900842071,-0.021562581881881,-0.000365114508895,-0.002192824846134,-0.011362547986209));
res += mul(Get(s2,dx,-dy), float4x3(0.004854952916503,-0.000315583019983,-0.003002093173563,-0.000569060619455,-0.000452264968771,0.000146354752360,-0.007202594541013,-0.003457991871983,0.001756787649356,0.001844016020186,-0.002520738635212,-0.001510477392003));
res += mul(Get(s2,dx,0), float4x3(0.030215410515666,0.030040696263313,0.017360655590892,0.000481230177684,-0.000217772234464,-0.001013393513858,-0.002870724303648,-0.004160122945905,-0.004666993394494,0.001154285972007,0.001909127691761,0.003623961005360));
res += mul(Get(s2,dx,dy), float4x3(-0.003793540410697,0.002844016300514,0.013765127398074,-0.000227605240070,0.000864816829562,0.000520534347743,0.003610081505030,0.004586977418512,0.000794283754658,-0.001186889945529,0.001659120898694,0.000340815138770));
return float4(res, 0);
}
