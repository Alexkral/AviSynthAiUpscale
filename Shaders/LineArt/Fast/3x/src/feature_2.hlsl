sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.242257237434387,-0.016276009380817,-0.119837164878845,0.088183991611004);
res += float4(0.026871012523770,0.009022180922329,-0.008436695672572,0.004476165398955) * Get(-ddx,-ddy);
res += float4(-0.017558719962835,0.031192535534501,0.091624140739441,-0.001961749978364) * Get(-ddx,-dy);
res += float4(-0.036730866879225,-0.029006289318204,0.503230988979340,0.009075970388949) * Get(-ddx,0);
res += float4(0.045872688293457,0.034334242343903,0.037530653178692,0.010168248787522) * Get(-ddx,dy);
res += float4(-0.021405218169093,-0.018116747960448,-0.001514316420071,-0.022523570805788) * Get(-ddx,ddy);
res += float4(0.087977662682533,-0.017489859834313,-0.118600808084011,0.052130002528429) * Get(-dx,-ddy);
res += float4(-0.108542047441006,-0.323325902223587,0.346974700689316,-0.068050660192966) * Get(-dx,-dy);
res += float4(0.171284049749374,-0.063271231949329,-0.040338329970837,-0.101565904915333) * Get(-dx,0);
res += float4(-0.025848481804132,-0.037671666592360,-0.310809016227722,0.047295335680246) * Get(-dx,dy);
res += float4(0.011105658486485,-0.014698361046612,-0.011500634253025,0.027282662689686) * Get(-dx,ddy);
res += float4(0.048459004610777,-0.074541918933392,0.143680244684219,0.059185154736042) * Get(0,-ddy);
res += float4(-0.590480983257294,0.406917124986649,-0.118790127336979,0.262878179550171) * Get(0,-dy);
res += float4(-0.827013552188873,0.512089788913727,-0.689428269863129,-0.719825863838196) * Get(0,0);
res += float4(-0.000071267655585,-0.249108880758286,0.171268865466118,-0.130191579461098) * Get(0,dy);
res += float4(0.005243705585599,0.033208742737770,0.057350918650627,-0.048000015318394) * Get(0,ddy);
res += float4(0.040894739329815,-0.042238425463438,-0.025497965514660,-0.086684510111809) * Get(dx,-ddy);
res += float4(-0.153750225901604,0.025309689342976,-0.013368434272707,0.507722675800323) * Get(dx,-dy);
res += float4(-0.111279502511024,0.145204737782478,0.044727344065905,0.115363515913486) * Get(dx,0);
res += float4(-0.012248862534761,-0.146728709340096,0.094661124050617,-0.025957144796848) * Get(dx,dy);
res += float4(0.048420514911413,-0.029149293899536,-0.065599925816059,0.035944636911154) * Get(dx,ddy);
res += float4(-0.015530611388385,0.020088462159038,0.007136450614780,-0.014507074840367) * Get(ddx,-ddy);
res += float4(-0.008289270102978,-0.039820723235607,-0.026878334581852,0.014299449510872) * Get(ddx,-dy);
res += float4(-0.015274154022336,-0.084898978471756,-0.045176777988672,-0.056984409689903) * Get(ddx,0);
res += float4(0.019008172675967,0.047665856778622,0.038823571056128,0.048502471297979) * Get(ddx,dy);
res += float4(-0.012655046768486,0.018520502373576,0.019163208082318,-0.005711034871638) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.354819208383560,0.048918038606644,-0.140898302197456,0.101054064929485) * min(float4(0, 0, 0, 0), res);
return res;
}
