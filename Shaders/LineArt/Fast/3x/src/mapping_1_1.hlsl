sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.086110927164555,0.029540879651904,-0.475845187902451,0.001037384965457);
res += mul(Get(s0,-dx,-dy), float4x4(-0.942496716976166,-0.231897115707397,0.527773499488831,0.125120744109154,-0.048440281301737,0.420601576566696,0.105729959905148,-0.101225584745407,-0.367931306362152,0.377593815326691,-0.353410601615906,-0.028267068788409,0.247519850730896,-0.027705663815141,0.098981834948063,-0.321293503046036));
res += mul(Get(s0,-dx,0), float4x4(-0.660892784595490,0.048824220895767,-0.323625892400742,0.564725577831268,-0.265149563550949,0.148305296897888,0.106212541460991,0.025009647011757,-0.027121637016535,0.067244648933411,0.092284515500069,0.070695810019970,-0.021624701097608,-0.348068296909332,0.102834284305573,0.132466584444046));
res += mul(Get(s0,-dx,dy), float4x4(0.060453180223703,-0.477545857429504,-0.330807358026505,-0.459831357002258,0.026967277750373,-0.246934846043587,0.107546217739582,0.111917912960052,0.007271534763277,0.117567665874958,-0.002269886201248,-0.104950077831745,-0.121620982885361,-0.403010815382004,0.016015373170376,0.140181064605713));
res += mul(Get(s0,0,-dy), float4x4(0.317922800779343,0.526918649673462,1.327004313468933,0.306106060743332,-0.407424330711365,0.066909007728100,-0.709036588668823,0.500207126140594,0.049052331596613,-0.582510173320770,-0.099960952997208,0.862086713314056,-0.211464703083038,0.243381112813950,-0.862194001674652,-0.290616422891617));
res += mul(Get(s0,0,0), float4x4(0.927738845348358,1.011370182037354,-0.193269312381744,0.672500610351563,0.287067353725433,-0.405094176530838,0.246944934129715,-0.799779415130615,-0.102882653474808,-0.237395152449608,0.032240986824036,0.175413683056831,0.191128060221672,-0.161938562989235,0.114577859640121,-0.131837457418442));
res += mul(Get(s0,0,dy), float4x4(0.638397574424744,-0.268338501453400,-0.163308352231979,-0.597253799438477,-0.119067847728729,-0.197326034307480,0.027408331632614,0.083933196961880,-0.002909397007897,-0.033285129815340,-0.053393471986055,-0.020307632163167,-0.171818077564240,-0.010034368373454,0.027212036773562,0.379882127046585));
res += mul(Get(s0,dx,-dy), float4x4(-0.366655886173248,-0.069601632654667,-0.594027817249298,-0.312904000282288,0.321923911571503,-0.277419388294220,0.448682039976120,-0.041392792016268,-0.015910588204861,-0.149801105260849,0.000120661512483,-0.087115056812763,-0.266944050788879,-0.252706825733185,0.062179870903492,0.064370527863503));
res += mul(Get(s0,dx,0), float4x4(0.342172145843506,-0.096027508378029,-0.414526998996735,-0.114344194531441,-0.330632090568542,-0.047016419470310,-0.153471812605858,0.350716531276703,-0.001375974272378,-0.073224313557148,-0.012473961338401,0.079818397760391,0.110015854239464,0.076879471540451,0.046130955219269,-0.187313124537468));
res += mul(Get(s0,dx,dy), float4x4(0.119102157652378,-0.047791827470064,-0.280489712953568,0.108208045363426,0.020966818556190,0.180023819208145,-0.018504362553358,-0.114872150123119,-0.008658166043460,0.099655583500862,-0.026451608166099,0.049581777304411,0.031917169690132,-0.212015330791473,0.057534202933311,0.186954408884048));
res += mul(Get(s1,-dx,-dy), float4x4(0.159829154610634,0.088721543550491,-0.166387602686882,0.249738216400146,0.030446313321590,0.125874683260918,-0.002240762347355,-0.115588448941708,-0.026306984946132,-0.019967054948211,-0.052391808480024,0.080283656716347,-0.151247471570969,0.020724413916469,-0.262127727270126,0.038827441632748));
res += mul(Get(s1,-dx,0), float4x4(-0.162817582488060,0.342714011669159,-0.140267312526703,0.002393394475803,0.018332574516535,0.341101944446564,0.169202655553818,0.260510563850403,0.057040624320507,0.139546558260918,-0.057518452405930,-0.049687467515469,0.076544292271137,0.006532964762300,0.266680896282196,-0.468833416700363));
res += mul(Get(s1,-dx,dy), float4x4(0.174806937575340,-0.139812499284744,-0.024723401293159,-0.310760617256165,0.056503619998693,-0.077883794903755,0.074405670166016,-0.072539128363132,0.063763976097107,0.258679091930389,0.024488670751452,-0.011061058379710,-0.080940820276737,0.001386051764712,-0.233652800321579,0.024889122694731));
res += mul(Get(s1,0,-dy), float4x4(0.008575312793255,0.106368742883205,-0.513777732849121,0.307586371898651,0.080399528145790,-0.140266612172127,0.048585884273052,-0.375780016183853,0.168575853109360,0.166707962751389,-0.237495854496956,-0.046952702105045,0.009619386866689,-0.181675791740417,-0.863513350486755,0.175055056810379));
res += mul(Get(s1,0,0), float4x4(0.299804180860519,0.681350588798523,-0.411429762840271,-0.009916268289089,0.180555969476700,0.235172808170319,-0.039869457483292,-0.097666196525097,0.020186876878142,0.018526930361986,-0.132725745439529,-0.068752527236938,-0.349657833576202,0.288997679948807,0.146323099732399,-0.386331021785736));
res += mul(Get(s1,0,dy), float4x4(0.196001335978508,-0.239545419812202,-0.185845479369164,-0.441089838743210,0.005859510973096,-0.172767534852028,-0.008510414510965,0.245336115360260,0.302687019109726,0.187974080443382,0.000876699690707,-0.023424897342920,0.105888172984123,0.004048785660416,0.089418709278107,-0.102339878678322));
res += mul(Get(s1,dx,-dy), float4x4(-0.000805544084869,-0.230121269822121,0.031414762139320,0.079929776489735,0.151928752660751,0.139310210943222,0.077652707695961,0.157756239175797,-0.125295385718346,0.382234483957291,0.069828696548939,0.301462292671204,0.176555454730988,-0.049941886216402,0.127222865819931,-0.019405912607908));
res += mul(Get(s1,dx,0), float4x4(-0.171931236982346,-0.011116222478449,-0.053492367267609,0.315233826637268,-0.088459350168705,0.424098551273346,-0.194933354854584,0.080188460648060,-0.156244754791260,-0.104618676006794,0.033771049231291,-0.176774188876152,-0.018443223088980,0.208068072795868,0.054149810224771,0.234106197953224));
res += mul(Get(s1,dx,dy), float4x4(0.117710620164871,0.012390411458910,0.149916008114815,-0.213331907987595,0.090290382504463,-0.027470933273435,0.149291649460793,-0.078474469482899,0.266689628362656,0.218679994344711,0.085284896194935,-0.301564186811447,-0.006597497034818,0.206505388021469,0.087786115705967,-0.128394886851311));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017424790188670,-0.162026911973953,-0.231547400355339,0.015577477402985,0.067914500832558,-0.163886472582817,0.035131044685841,-0.172309234738350,-0.107504293322563,-0.071504607796669,0.052971791476011,-0.010908519849181,-0.073762647807598,0.240185156464577,0.024718798696995,0.133157253265381));
res += mul(Get(s2,-dx,0), float4x4(0.077818073332310,0.199701219797134,-0.032550334930420,-0.009838033467531,-0.113984994590282,-0.124087773263454,-0.107274226844311,-0.122077547013760,-0.103103138506413,-0.021309698000550,-0.007096905261278,-0.018583159893751,0.265995323657990,-0.052124075591564,0.127614006400108,-0.188560113310814));
res += mul(Get(s2,-dx,dy), float4x4(0.048566132783890,-0.065589003264904,0.044128742069006,0.098948128521442,-0.043026123195887,-0.023412000387907,0.023388477042317,0.257848143577576,-0.055610235780478,-0.037795267999172,0.009219273924828,0.013227999210358,0.271582990884781,0.038051877170801,0.002821403089911,0.102176748216152));
res += mul(Get(s2,0,-dy), float4x4(-0.010218264535069,-0.010632356628776,-0.150729775428772,-0.014927635900676,0.050872493535280,-0.017241882160306,0.202881351113319,-0.271862894296646,-0.130481198430061,0.160307362675667,-0.077181920409203,0.061426099389791,-0.131640434265137,-0.300128251314163,-0.783593952655792,0.574201762676239));
res += mul(Get(s2,0,0), float4x4(0.016073467209935,-0.189354047179222,-0.225974723696709,0.021219868212938,0.241053789854050,-0.015324565581977,0.039310272783041,0.373925626277924,-0.114614821970463,-0.341923058032990,0.218297734856606,0.035060644149780,-0.126771360635757,0.240507245063782,0.054291937500238,-0.405370533466339));
res += mul(Get(s2,0,dy), float4x4(-0.065623521804810,0.112612470984459,0.023253239691257,0.126521900296211,-0.118925474584103,0.008904379792511,-0.049278590828180,-0.099011071026325,-0.101492650806904,0.059597745537758,-0.117117173969746,0.085210293531418,-0.126656293869019,-0.041590031236410,0.026029713451862,0.038798380643129));
res += mul(Get(s2,dx,-dy), float4x4(0.262010127305984,-0.012886755168438,-0.437300860881805,0.055655501782894,-0.216279059648514,-0.100337766110897,0.113196834921837,0.250336259603500,-0.033406756818295,0.017626401036978,0.025758316740394,-0.416027933359146,-0.039362844079733,0.051289018243551,0.196412727236748,0.201888531446457));
res += mul(Get(s2,dx,0), float4x4(0.362337231636047,0.079050354659557,0.187271744012833,-0.334742307662964,0.128132164478302,0.205634206533432,-0.178977087140083,-0.070074513554573,-0.286292016506195,0.045275215059519,0.014036329463124,0.399707227945328,0.447263389825821,0.127808958292007,0.136767432093620,0.082453675568104));
res += mul(Get(s2,dx,dy), float4x4(0.168761372566223,0.149827152490616,-0.011724737472832,0.051933746784925,0.158943995833397,0.246782124042511,-0.052784014493227,-0.072689436376095,0.131153717637062,0.084260843694210,0.018711781129241,-0.070124611258507,0.047134503722191,0.182186499238014,0.049581475555897,0.029319448396564));
res = max(float4(0, 0, 0, 0), res) + float4(1.131739258766174,0.639409601688385,-0.149689957499504,-0.929695904254913) * min(float4(0, 0, 0, 0), res);
return res;
}
