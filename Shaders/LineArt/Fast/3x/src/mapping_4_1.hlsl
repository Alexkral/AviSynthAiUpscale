sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.130457296967506,0.042947191745043,-0.199026748538017,-0.141139194369316);
res += mul(Get(s0,-dx,-dy), float4x4(-0.087208040058613,0.043883170932531,-0.119534596800804,0.197791919112206,0.091759398579597,-0.019599271938205,-0.054011590778828,0.046094071120024,-0.051940370351076,-0.011481263674796,-0.280533283948898,-0.152540847659111,0.007032009772956,0.183764725923538,-0.167113155126572,-0.124927937984467));
res += mul(Get(s0,-dx,0), float4x4(-0.017590630799532,0.027001548558474,-0.790471315383911,0.222553953528404,-0.122565232217312,-0.043067548424006,-0.216046512126923,0.308342754840851,0.117379181087017,0.081655196845531,-0.149547487497330,0.199475482106209,-0.316350370645523,0.123429425060749,-0.358413934707642,-0.247996389865875));
res += mul(Get(s0,-dx,dy), float4x4(0.002031580079347,0.035898532718420,-0.049742374569178,0.184184819459915,-0.085162453353405,0.036541927605867,-0.033525113016367,0.152372747659683,0.059483677148819,-0.015084700658917,0.068260021507740,0.337433725595474,0.197638884186745,0.019178273156285,-0.023853315040469,-0.104767374694347));
res += mul(Get(s0,0,-dy), float4x4(-0.041146755218506,0.052842125296593,-0.206914812326431,0.105003319680691,-0.049892384558916,0.015683948993683,-0.023483529686928,-0.212014749646187,0.136033371090889,-0.018839269876480,-0.060363825410604,0.106848262250423,0.104074656963348,0.150249838829041,-0.124173477292061,-0.102429337799549));
res += mul(Get(s0,0,0), float4x4(-0.791439831256866,-0.008145214989781,-0.646626353263855,-0.040838353335857,-0.173652976751328,0.068070851266384,0.185109987854958,-0.809242784976959,-0.286733418703079,0.007375766523182,0.247571930289268,-0.612792253494263,-0.496057391166687,-0.463033676147461,-0.213217690587044,0.031935226172209));
res += mul(Get(s0,0,dy), float4x4(-1.038793683052063,-0.077199727296829,0.112599536776543,-0.344216704368591,-0.010405263863504,0.074271000921726,-0.011886144988239,-0.299798429012299,0.085304915904999,0.081643991172314,-0.109686732292175,-0.727595865726471,0.183702632784843,0.176947757601738,-0.057990081608295,-0.015809375792742));
res += mul(Get(s0,dx,-dy), float4x4(-0.027566418051720,0.022925913333893,-0.154118642210960,-0.009670383296907,0.063672848045826,0.039143700152636,-0.068936988711357,0.066239036619663,-0.043654564768076,-0.004700035788119,-0.031254027038813,-0.055596888065338,0.179755792021751,0.008326523937285,0.043219681829214,-0.021294215694070));
res += mul(Get(s0,dx,0), float4x4(-0.333604127168655,-0.076567128300667,0.077074021100998,0.070578485727310,0.026787258684635,0.163628920912743,-0.063404664397240,0.361853241920471,0.184783652424812,0.200758859515190,-0.085258185863495,0.253041595220566,-0.050596177577972,0.074648670852184,0.052919238805771,0.032616078853607));
res += mul(Get(s0,dx,dy), float4x4(-0.289097130298615,-0.057036463171244,-0.160221382975578,-0.080232828855515,-0.099967986345291,0.081062234938145,0.126387059688568,0.018073484301567,-0.117316536605358,0.115866288542747,0.090152055025101,0.277093201875687,0.067203216254711,0.015889184549451,-0.023398211225867,-0.033400792628527));
res += mul(Get(s1,-dx,-dy), float4x4(-0.010077361017466,0.038666885346174,0.179981335997581,0.079705134034157,-0.016636962071061,-0.093348860740662,0.036583747714758,0.091045193374157,-0.171228989958763,-0.060736402869225,-0.058215264230967,0.160366386175156,0.043792400509119,-0.062010988593102,-0.293013304471970,-0.142861172556877));
res += mul(Get(s1,-dx,0), float4x4(-0.004059555940330,-0.013802804052830,0.245319217443466,0.011710672639310,-0.045440036803484,-0.343628585338593,0.011606561020017,-0.010617544874549,0.156028717756271,-0.006416923366487,-0.316276669502258,0.118489325046539,-0.177361413836479,-0.118669606745243,-0.504883527755737,-0.576058089733124));
res += mul(Get(s1,-dx,dy), float4x4(-0.009416643530130,-0.017930081114173,0.058909766376019,0.018661707639694,-0.079590946435928,0.094320602715015,0.027674583718181,-0.089788727462292,0.241052716970444,0.119865462183952,-0.035929795354605,-0.087355270981789,0.137828484177589,-0.032537911087275,-0.130673304200172,-0.460572302341461));
res += mul(Get(s1,0,-dy), float4x4(0.047296293079853,0.014539065770805,0.084600910544395,0.100340217351913,-0.030195368453860,-0.012727743946016,-0.256498962640762,0.139031350612640,-0.313386082649231,-0.130041047930717,-0.051632732152939,-0.041704088449478,0.315996617078781,-0.031930081546307,0.473592400550842,0.044725019484758));
res += mul(Get(s1,0,0), float4x4(0.008489714935422,0.016588151454926,0.000163607488503,0.171652927994728,-0.170983999967575,0.249526977539063,0.000597800535616,0.193554341793060,0.527761936187744,0.044716779142618,0.238823220133781,-0.234740808606148,-0.514741241931915,0.072996005415916,0.402324289083481,-0.840592443943024));
res += mul(Get(s1,0,dy), float4x4(0.033113967627287,-0.035935051739216,-0.031681664288044,0.175182595849037,0.099973551928997,0.019982671365142,-0.046848859637976,0.255203455686569,0.261012643575668,0.225241184234619,-0.005997701548040,0.085809968411922,-0.055024147033691,-0.114386677742004,0.074895873665810,-0.386733412742615));
res += mul(Get(s1,dx,-dy), float4x4(-0.007710917852819,0.020395280793309,-0.117009609937668,-0.038580212742090,-0.038280986249447,-0.093213513493538,0.215531602501869,-0.028955250978470,-0.039377544075251,0.046263735741377,-0.097906284034252,0.040167383849621,0.002065685810521,0.036688610911369,-0.053792227059603,0.034959260374308));
res += mul(Get(s1,dx,0), float4x4(0.005465254653245,0.018433202058077,-0.112717300653458,0.176342725753784,-0.114974901080132,-0.164342716336250,0.185427412390709,-0.194733083248138,0.049714703112841,0.065811134874821,0.044725306332111,0.038432817906141,0.150228202342987,0.038746427744627,-0.233645647764206,0.200247287750244));
res += mul(Get(s1,dx,dy), float4x4(-0.003234163625166,-0.014897925779223,0.008806390687823,0.054149415344000,-0.002163765253499,0.009429314173758,0.137424960732460,-0.028947556391358,0.032251443713903,0.029081020504236,0.083962194621563,-0.026418250054121,-0.054872393608093,0.018191762268543,0.062488134950399,0.153206497430801));
res += mul(Get(s2,-dx,-dy), float4x4(0.194500789046288,0.072856388986111,-0.299657672643661,-0.192133173346519,-0.002914827782661,-0.042284660041332,-0.227718248963356,-0.088473789393902,-0.020288398489356,-0.013893566094339,0.177094936370850,-0.017519513145089,0.071053825318813,0.114193305373192,-0.122920460999012,0.073198884725571));
res += mul(Get(s2,-dx,0), float4x4(-0.057007059454918,0.096286118030548,-0.106945008039474,-0.281003981828690,0.241220727562904,-0.187315851449966,-0.276465326547623,-0.202292352914810,0.070839934051037,-0.023476831614971,0.181393072009087,0.167675569653511,0.224189490079880,0.149203330278397,0.235435530543327,0.510953485965729));
res += mul(Get(s2,-dx,dy), float4x4(0.148723587393761,-0.113593585789204,-0.009653639048338,-0.119355633854866,0.107002548873425,0.072143293917179,0.048327468335629,-0.049753677099943,0.027679685503244,0.003639804199338,0.065890513360500,0.066868945956230,-0.227298840880394,-0.007987767457962,-0.014417308382690,0.122365511953831));
res += mul(Get(s2,0,-dy), float4x4(0.277840822935104,0.063667252659798,-0.315264642238617,0.166942790150642,-0.389618843793869,-0.019769936800003,-0.282560229301453,-0.158123403787613,-0.032612100243568,0.048420216888189,0.367240816354752,-0.040272928774357,0.175332769751549,0.006489778868854,0.111670866608620,0.068627797067165));
res += mul(Get(s2,0,0), float4x4(-0.059073705226183,0.069380514323711,-0.233049049973488,0.542611181735992,0.832095086574554,-0.331651657819748,0.128988683223724,-0.091616787016392,-0.105080485343933,-0.040707655251026,-0.184480443596840,-0.167667537927628,-0.130934298038483,-0.164330676198006,0.277316629886627,-0.023193633183837));
res += mul(Get(s2,0,dy), float4x4(0.136401981115341,-0.087450042366982,-0.068881705403328,0.172039866447449,0.147468522191048,0.233672380447388,-0.043437380343676,-0.141957774758339,-0.072417519986629,0.013486246578395,0.081624001264572,0.013427962549031,0.125418081879616,-0.071410372853279,-0.056933503597975,0.008715425617993));
res += mul(Get(s2,dx,-dy), float4x4(0.017019724473357,-0.032968118786812,0.099353887140751,-0.057875059545040,0.035104420036077,-0.146242052316666,0.199447974562645,0.048963177949190,0.052543591707945,0.054437704384327,-0.172718495130539,0.150517389178276,-0.058886431157589,-0.037546899169683,0.131683275103569,0.026025453582406));
res += mul(Get(s2,dx,0), float4x4(0.031001722440124,-0.111837692558765,0.031321119517088,-0.254080712795258,0.179238513112068,0.040468648076057,-0.084731601178646,-0.104656644165516,-0.066754803061485,0.141364976763725,-0.020569771528244,0.248684599995613,-0.007107552140951,-0.026097172871232,-0.107330419123173,-0.197598621249199));
res += mul(Get(s2,dx,dy), float4x4(0.117383293807507,-0.053972363471985,0.075288027524948,-0.062480665743351,0.058457545936108,0.128300815820694,0.000697568291798,0.031030455604196,-0.122379779815674,-0.005577515810728,-0.096690796315670,-0.036463011056185,0.027733325958252,0.008060635067523,0.058712862432003,0.073838002979755));
res = max(float4(0, 0, 0, 0), res) + float4(0.067925162613392,0.927266299724579,-0.022625941783190,-0.006579743698239) * min(float4(0, 0, 0, 0), res);
return res;
}
