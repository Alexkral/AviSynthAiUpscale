sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.029243446886539,0.273449182510376,0.009601308032870,-0.173230096697807);
res += mul(Get(s0,-dx,-dy), float4x4(-0.169313848018646,0.105555288493633,-0.073085449635983,-0.015943000093102,-0.189555034041405,0.284411817789078,0.002472129650414,0.002846588846296,0.038581047207117,-0.128076404333115,0.010426783934236,0.206415906548500,0.173527657985687,-0.177247732877731,0.024769032374024,-0.197868272662163));
res += mul(Get(s0,-dx,0), float4x4(-0.114663556218147,0.077573522925377,-0.046481739729643,0.296561181545258,0.084868304431438,0.689507544040680,-0.085597611963749,-0.072999455034733,0.021626470610499,-0.145303577184677,0.205299913883209,0.019271994009614,0.274995625019073,-0.838338553905487,0.145543456077576,-0.287383884191513));
res += mul(Get(s0,-dx,dy), float4x4(-0.012009809724987,-0.094187855720520,-0.291334658861160,0.038487579673529,-0.223691374063492,0.017848566174507,0.075155802071095,0.128675580024719,0.151249542832375,0.302943646907806,0.086156286299229,-0.261981099843979,0.114404127001762,-0.358158886432648,0.033935185521841,-0.386520117521286));
res += mul(Get(s0,0,-dy), float4x4(-0.040329121053219,-0.149107575416565,0.070646293461323,-0.032185632735491,-0.307763844728470,-0.098171152174473,0.216429814696312,0.144806697964668,-0.149036809802055,-0.403959065675735,-0.046150654554367,0.306014806032181,0.220040738582611,0.120874263346195,-0.000174724642420,-0.278017461299896));
res += mul(Get(s0,0,0), float4x4(0.667599081993103,0.098832607269287,0.052547302097082,0.050305105745792,0.021247638389468,0.538456082344055,-0.096610821783543,0.051079738885164,0.108977295458317,0.002590101212263,-0.006984211038798,-0.139327615499496,0.218042328953743,-0.608982563018799,-0.004650847520679,-0.417558550834656));
res += mul(Get(s0,0,dy), float4x4(-0.446122825145721,0.247589498758316,0.143676251173019,0.016605740413070,-0.130912423133850,0.275451511144638,-0.263095468282700,-0.028587246313691,0.343226045370102,-0.171491533517838,-0.353675901889801,0.093129783868790,0.299159765243530,-0.217575281858444,-0.047429844737053,-0.603562712669373));
res += mul(Get(s0,dx,-dy), float4x4(0.018764480948448,0.144029796123505,-0.055490031838417,0.068998441100121,0.123628780245781,-0.050569631159306,-0.135477393865585,0.020224682986736,-0.125135004520416,-0.143436565995216,0.013068222440779,0.084938719868660,0.167019143700600,0.045614555478096,0.031969878822565,-0.268909275531769));
res += mul(Get(s0,dx,0), float4x4(-0.394749313592911,-0.242613434791565,0.180111736059189,0.003248660825193,0.145354643464088,-0.256271332502365,-0.073646597564220,0.098391517996788,0.232919082045555,-0.340878218412399,-0.169839099049568,-0.248223349452019,0.208644509315491,0.057867955416441,0.070761375129223,-0.428476095199585));
res += mul(Get(s0,dx,dy), float4x4(-0.158296912908554,0.011939142830670,-0.186204135417938,-0.061274707317352,0.307147979736328,0.173003628849983,-0.130684122443199,-0.040912371128798,0.050624642521143,-0.145785614848137,0.256200522184372,-0.043735191226006,0.213664561510086,0.018192360177636,0.124777272343636,-0.398761659860611));
res += mul(Get(s1,-dx,-dy), float4x4(-0.106501877307892,-0.100199431180954,0.318715542554855,0.241004511713982,-0.269391506910324,-0.001368987141177,-0.021071771159768,0.240056648850441,0.436794877052307,-0.641627669334412,0.145412608981133,-0.296016335487366,0.149355813860893,-0.097377561032772,-0.148143425583839,0.223624542355537));
res += mul(Get(s1,-dx,0), float4x4(-0.144886896014214,-0.109168522059917,-0.242383092641830,-0.009041266515851,-0.342304289340973,-0.042929623275995,-0.141023769974709,0.408312588930130,0.194398105144501,-0.270786404609680,0.274965614080429,-0.234795480966568,0.329226970672607,0.175323158502579,-0.415540099143982,-0.267947733402252));
res += mul(Get(s1,-dx,dy), float4x4(-0.021321926265955,-0.002907160902396,-0.161124661564827,-0.100488357245922,-0.436720132827759,-0.086692035198212,0.033504255115986,0.546275615692139,0.072873264551163,-0.080162376165390,0.122028551995754,-0.190126359462738,0.087707079946995,0.073275670409203,-0.057170495390892,-0.009719148278236));
res += mul(Get(s1,0,-dy), float4x4(-0.253266066312790,-0.376384019851685,-0.319353610277176,0.303752988576889,-0.264875829219818,-0.152249544858932,-0.047251969575882,0.250027239322662,0.376467794179916,-0.259045660495758,0.071355566382408,-0.467139422893524,0.043312415480614,0.323651701211929,-0.069458395242691,0.225383564829826));
res += mul(Get(s1,0,0), float4x4(-0.391632467508316,-0.153729900717735,0.774157643318176,0.039869643747807,-0.707553207874298,-0.355955809354782,-0.112904794514179,0.533193886280060,0.265151113271713,-0.311026424169540,-0.155670091509819,-0.309431970119476,-0.246914550662041,0.401958584785461,-0.052248653024435,0.660862505435944));
res += mul(Get(s1,0,dy), float4x4(-0.135626211762428,0.029207244515419,0.373751521110535,0.247142404317856,-0.831704616546631,-0.095612958073616,-0.055114772170782,0.845860004425049,0.062950760126114,0.146655097603798,0.090450800955296,-0.188605293631554,-0.075075089931488,-0.088442966341972,-0.011602673679590,-0.106468223035336));
res += mul(Get(s1,dx,-dy), float4x4(-0.062070917338133,-0.307501912117004,0.069860294461250,-0.051841340959072,-0.124554738402367,-0.033462937921286,-0.041091848164797,0.192050740122795,0.212799027562141,-0.172478407621384,-0.059818867594004,-0.288058638572693,-0.059581454843283,-0.197302401065826,0.132976368069649,-0.122530668973923));
res += mul(Get(s1,dx,0), float4x4(0.036000892519951,0.373461782932281,-0.195959091186523,-0.404414981603622,-0.352068573236465,-0.195000827312469,-0.130907654762268,0.475341707468033,0.021261401474476,-0.036783684045076,-0.005949270911515,-0.149321913719177,0.101582810282707,-0.090071223676205,0.206259414553642,-0.034523446112871));
res += mul(Get(s1,dx,dy), float4x4(0.003089981153607,0.045082472264767,-0.081627182662487,-0.201240628957748,-0.734639644622803,0.092349678277969,-0.169223114848137,0.492783218622208,0.072158336639404,0.092509970068932,-0.008204218931496,-0.039845533668995,0.006868228316307,-0.051431156694889,-0.019500292837620,0.005422514397651));
res += mul(Get(s2,-dx,-dy), float4x4(0.053240451961756,-0.112059354782104,-0.017034556716681,0.066030308604240,-0.047114670276642,-0.384676158428192,0.140064984560013,0.141414001584053,-0.081498391926289,-0.390981167554855,-0.054003823548555,-0.043142285197973,0.216254159808159,0.350507825613022,-0.064602784812450,-0.286190748214722));
res += mul(Get(s2,-dx,0), float4x4(0.098425894975662,0.331309556961060,-0.295315027236938,-0.191835761070251,-0.233147606253624,-1.375126242637634,0.268162846565247,0.388639003038406,-0.003573287045583,0.138424262404442,0.072596520185471,0.053086902946234,-0.081614337861538,0.046243458986282,-0.157739832997322,-0.003416991094127));
res += mul(Get(s2,-dx,dy), float4x4(0.007312875241041,0.055134888738394,-0.123064652085304,-0.140709042549133,0.053864095360041,-0.072486914694309,0.347287923097610,-0.003479263046756,-0.065796487033367,0.099347151815891,-0.166794046759605,0.129321217536926,-0.047627262771130,0.094097740948200,-0.015994256362319,0.046503297984600));
res += mul(Get(s2,0,-dy), float4x4(0.088040985167027,-0.270464122295380,-0.051866449415684,-0.026954742148519,0.046539984643459,-0.076852940022945,-0.040848381817341,0.104513391852379,0.197742894291878,-0.156896859407425,-0.079222910106182,-0.482801288366318,0.193827405571938,0.307305812835693,-0.063496023416519,0.068540103733540));
res += mul(Get(s2,0,0), float4x4(0.549160718917847,0.570911109447479,0.240217760205269,-0.399178147315979,-0.353838860988617,-0.222576126456261,0.106593169271946,0.364774197340012,-0.660998582839966,0.127700313925743,0.383985012769699,0.342380344867706,-0.435119539499283,0.556047022342682,0.038274697959423,0.098461918532848));
res += mul(Get(s2,0,dy), float4x4(0.031896978616714,0.219937592744827,-0.062826387584209,0.012126376852393,-0.037842400372028,0.013999498449266,0.096542179584503,0.230495005846024,-0.144485995173454,0.199994415044785,0.121576793491840,0.107253201305866,0.026293525472283,0.288428574800491,0.026207718998194,0.097750946879387));
res += mul(Get(s2,dx,-dy), float4x4(0.065860025584698,0.014765710569918,-0.013621389865875,0.099596247076988,-0.127746909856796,0.168533608317375,0.021081414073706,-0.013333715498447,0.115287281572819,0.143728703260422,-0.041585300117731,0.118715800344944,0.076714672148228,0.266247808933258,-0.118913598358631,0.298274308443069));
res += mul(Get(s2,dx,0), float4x4(0.254302561283112,0.083810850977898,-0.107200160622597,-0.096478536725044,-0.137686431407928,0.066994719207287,0.047352574765682,0.085816301405430,-0.164132282137871,0.264868617057800,-0.147700801491737,-0.125044822692871,-0.123268231749535,0.223556771874428,-0.160323187708855,0.083845324814320));
res += mul(Get(s2,dx,dy), float4x4(-0.036169882863760,-0.102275602519512,-0.007816694676876,0.039925538003445,-0.091959863901138,0.026443554088473,-0.002755618654191,0.110766068100929,0.061357576400042,0.099343091249466,-0.054609417915344,-0.083726584911346,0.248338669538498,0.270723074674606,-0.017878193408251,-0.088586561381817));
res = max(float4(0, 0, 0, 0), res) + float4(0.471184968948364,0.054701127111912,-0.580619037151337,0.515136837959290) * min(float4(0, 0, 0, 0), res);
return res;
}
