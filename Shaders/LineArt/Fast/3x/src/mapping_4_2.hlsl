sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.084214925765991,-0.071911692619324,0.055344797670841,-0.107023902237415);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000239114975557,0.011143962852657,0.029084092006087,-0.008609998971224,0.033346865326166,0.030269447714090,0.034349899739027,0.018429620191455,-0.072973750531673,0.302545011043549,-0.109527535736561,-0.062661021947861,-0.061706155538559,0.113669179379940,0.075063146650791,0.110073067247868));
res += mul(Get(s0,-dx,0), float4x4(0.053718984127045,0.099048957228661,-0.039799921214581,-0.115005463361740,-0.185473293066025,-0.066167809069157,-0.123764358460903,0.274456977844238,0.227642685174942,-0.155662506818771,0.170562833547592,0.188112676143646,-0.019430123269558,0.191257804632187,-0.180288314819336,-0.238819330930710));
res += mul(Get(s0,-dx,dy), float4x4(0.022427378222346,0.013614430092275,0.076112411916256,-0.078704252839088,-0.095747672021389,0.092346131801605,0.081870563328266,0.204501837491989,-0.115359596908092,-0.174606010317802,-0.035925135016441,0.320767670869827,0.070880852639675,-0.049582775682211,-0.085576362907887,-0.163412570953369));
res += mul(Get(s0,0,-dy), float4x4(-0.063034757971764,0.144353374838829,-0.070589147508144,0.054555024951696,0.140206351876259,0.261903107166290,0.098126962780952,-0.037678666412830,0.127114459872246,-0.306272655725479,0.067541956901550,0.125803619623184,0.156212940812111,0.329264670610428,-0.107476085424423,0.037486985325813));
res += mul(Get(s0,0,0), float4x4(-0.494647234678268,-0.686174988746643,0.217658549547195,0.405592083930969,-0.410406500101089,0.204228907823563,-0.281082183122635,-0.245438277721405,-0.490382015705109,-0.112058021128178,-0.216624617576599,0.267970174551010,-0.547123193740845,-0.135456636548042,0.403368979692459,0.386355996131897));
res += mul(Get(s0,0,dy), float4x4(-0.659691929817200,-0.004400018136948,-0.086127474904060,0.348388284444809,0.218199789524078,-0.163076907396317,0.071374356746674,-0.028831610456109,0.453094452619553,-0.000849573756568,0.095474585890770,-0.303837478160858,0.222733229398727,0.017235774546862,0.037948023527861,0.287525653839111));
res += mul(Get(s0,dx,-dy), float4x4(0.047178592532873,-0.007833205163479,0.028983797878027,0.036564107984304,0.102307803928852,-0.070455297827721,0.070249028503895,-0.013542356900871,0.137626200914383,-0.360896348953247,0.070382118225098,-0.056186966598034,0.138511583209038,0.219407528638840,-0.104418560862541,-0.275452762842178));
res += mul(Get(s0,dx,0), float4x4(-0.710320293903351,-0.377477109432220,0.053561244159937,-0.185273364186287,-0.121309772133827,-0.032660759985447,0.012298953719437,-0.076919473707676,-0.080116480588913,-0.034616932272911,-0.061322838068008,-0.577995538711548,-0.123404860496521,0.131091535091400,-0.187712758779526,-0.417397230863571));
res += mul(Get(s0,dx,dy), float4x4(-0.340311378240585,-0.121078148484230,-0.053268842399120,-0.452854990959167,-0.107360444962978,0.120560064911842,0.078879050910473,-0.330932497978210,-0.008789860643446,0.447131991386414,0.169331043958664,-0.196519106626511,-0.021430054679513,-0.091961771249771,0.115559972822666,-0.227950647473335));
res += mul(Get(s1,-dx,-dy), float4x4(-0.041996415704489,0.075784623622894,0.019536245614290,-0.012579610571265,-0.080154478549957,-0.055595144629478,-0.028055284172297,-0.092022836208344,-0.075600370764732,-0.143324419856071,-0.024085903540254,-0.046969585120678,-0.076150275766850,0.026169156655669,-0.036325801163912,0.018158013001084));
res += mul(Get(s1,-dx,0), float4x4(0.031323593109846,-0.049893517047167,-0.013540164567530,-0.159356698393822,-0.132180407643318,-0.115331672132015,-0.216682627797127,-0.297713696956635,-0.049212593585253,0.109705045819283,-0.017286041751504,0.036648102104664,-0.095204040408134,-0.026747541502118,0.027009334415197,-0.024429969489574));
res += mul(Get(s1,-dx,dy), float4x4(-0.032160688191652,0.051603257656097,0.019523158669472,-0.097094215452671,-0.018141681328416,0.027458798140287,0.034514725208282,-0.173208460211754,0.349437445402145,0.121584340929985,0.154240638017654,0.031980011612177,0.208919584751129,-0.165816426277161,-0.000462158670416,-0.065225303173065));
res += mul(Get(s1,0,-dy), float4x4(-0.077555567026138,0.084757007658482,-0.048876728862524,0.038422763347626,0.050511825829744,-0.186478763818741,0.077139951288700,0.066245898604393,-0.239910617470741,-0.246011182665825,0.199223846197128,-0.025191599503160,0.121486321091652,-0.063897274434566,-0.048408579081297,0.049587868154049));
res += mul(Get(s1,0,0), float4x4(0.243930563330650,0.147029578685760,0.076407298445702,0.275674194097519,-0.440106034278870,-0.300678580999374,-0.022600470110774,0.377343565225601,0.091805130243301,-0.007118164561689,-0.646592199802399,0.070261061191559,-0.286181241273880,-0.445588320493698,-0.150512441992760,-0.189217478036880));
res += mul(Get(s1,0,dy), float4x4(-0.083114206790924,0.002741265110672,-0.070827938616276,0.101594217121601,-0.108802691102028,-0.248692348599434,0.018105451017618,0.078907407820225,0.541165828704834,0.598769903182983,0.668078780174255,0.204913049936295,-0.025240084156394,-0.111671365797520,-0.053593009710312,-0.181159511208534));
res += mul(Get(s1,dx,-dy), float4x4(0.045894995331764,0.061853405088186,-0.029803350567818,0.018510365858674,-0.145994573831558,-0.078249536454678,0.047783318907022,0.207901656627655,-0.030676623806357,-0.129041507840157,0.037780184298754,0.187511324882507,0.058219488710165,-0.256158560514450,-0.016401529312134,-0.013960664160550));
res += mul(Get(s1,dx,0), float4x4(0.049912784248590,0.101499222218990,0.117638744413853,0.380844235420227,-0.191348060965538,-0.399437099695206,-0.212096661329269,0.088640518486500,-0.019472295418382,0.031565502285957,0.043100561946630,-0.047381572425365,0.025699671357870,-0.059198319911957,0.103969819843769,-0.287929236888885));
res += mul(Get(s1,dx,dy), float4x4(0.003226110711694,-0.041509244590998,-0.028292708098888,0.304509341716766,-0.056092210114002,-0.180787861347198,-0.023749837651849,-0.065716162323952,0.241688519716263,-0.194805547595024,-0.003351155435666,0.015449687838554,-0.037611573934555,0.190334543585777,-0.014650771394372,-0.228190183639526));
res += mul(Get(s2,-dx,-dy), float4x4(0.175222098827362,0.106785111129284,0.009637502022088,0.032621745020151,0.060427315533161,0.068610921502113,0.043819252401590,-0.015531662851572,0.011328130960464,-0.030869714915752,-0.019826432690024,0.150713682174683,0.093974269926548,-0.011238873004913,-0.135208904743195,-0.004465961363167));
res += mul(Get(s2,-dx,0), float4x4(0.228931114077568,0.091737262904644,0.069534569978714,-0.093657054007053,0.013943675905466,0.239062890410423,-0.377891629934311,-0.093723945319653,-0.026583507657051,-0.099381640553474,0.104144036769867,0.378554105758667,0.097797848284245,0.019598754122853,0.279789209365845,0.360395580530167));
res += mul(Get(s2,-dx,dy), float4x4(-0.082718841731548,0.112604901194572,-0.028055252507329,-0.029094235971570,-0.134795933961868,-0.111440084874630,0.074621520936489,0.080946147441864,0.105744905769825,0.106005750596523,0.004957209341228,0.138159915804863,-0.035564087331295,0.101456321775913,-0.015685113146901,-0.015873098745942));
res += mul(Get(s2,0,-dy), float4x4(0.502611815929413,0.035959117114544,-0.036735668778419,0.036391958594322,-0.082926869392395,-0.493719756603241,0.421789467334747,0.010727192275226,-0.039470624178648,0.076596528291702,0.038688920438290,-0.118031591176987,0.180400311946869,0.157479360699654,-0.130110219120979,-0.051306460052729));
res += mul(Get(s2,0,0), float4x4(-0.036869935691357,0.060844738036394,0.197326451539993,-0.072262369096279,0.227994889020920,-0.515734136104584,-0.722193181514740,0.053229738026857,0.040047317743301,0.291054904460907,-0.170498862862587,-0.454583019018173,0.254422247409821,-0.055482801049948,0.358511626720428,-0.056959412992001));
res += mul(Get(s2,0,dy), float4x4(-0.162398442625999,-0.006280172150582,-0.114246107637882,0.112368986010551,0.350768387317657,0.067501164972782,0.154198989272118,-0.081038825213909,-0.026310201734304,0.078367128968239,-0.007953134365380,-0.205166384577751,-0.059885848313570,-0.158715635538101,-0.133693203330040,-0.031694814562798));
res += mul(Get(s2,dx,-dy), float4x4(0.030024461448193,0.201798796653748,0.019858449697495,0.000990647240542,-0.071277596056461,0.216410666704178,0.058084659278393,-0.029229180887341,0.008609450422227,0.221794292330742,-0.064479082822800,-0.100890085101128,-0.050043128430843,-0.205179035663605,0.036921106278896,0.081834986805916));
res += mul(Get(s2,dx,0), float4x4(0.205134972929955,-0.008000405505300,0.036048714071512,0.010080990381539,0.345206499099731,-0.204528689384460,-0.540589809417725,-0.051848907023668,-0.005064442753792,0.510149717330933,0.288480579853058,0.144749075174332,0.038647968322039,-0.145877644419670,-0.028108509257436,0.008129823021591));
res += mul(Get(s2,dx,dy), float4x4(0.091684438288212,-0.057477835565805,-0.105277895927429,0.088227666914463,0.057950131595135,0.040793731808662,0.255789458751678,-0.200362309813499,-0.007207877468318,0.025211323052645,-0.104520119726658,0.013577172532678,0.090039022266865,-0.034711271524429,0.015668107196689,0.081447303295135));
res = max(float4(0, 0, 0, 0), res) + float4(0.096993431448936,-0.007559345103800,0.923879683017731,0.025706559419632) * min(float4(0, 0, 0, 0), res);
return res;
}
