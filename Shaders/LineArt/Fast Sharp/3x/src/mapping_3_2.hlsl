sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.108928836882114,0.130654692649841,-0.138300284743309,0.081810466945171);
res += mul(Get(s0,-dx,-dy), float4x4(-0.171358585357666,0.022789226844907,0.098490811884403,0.006095587275922,0.136452734470367,-0.026892231777310,0.128015369176865,-0.134107962250710,-0.101284332573414,0.046336632221937,0.052383761852980,0.235931560397148,0.077677011489868,-0.004763551522046,-0.020637838169932,-0.077020518481731));
res += mul(Get(s0,-dx,0), float4x4(-0.031886607408524,0.281921923160553,0.146885901689529,0.040416203439236,0.238844007253647,0.265461325645447,0.037053272128105,-0.520744204521179,-0.051503460854292,-0.109904959797859,0.071687087416649,0.130837172269821,0.121029883623123,-0.100117146968842,-0.082377098500729,-0.445150285959244));
res += mul(Get(s0,-dx,dy), float4x4(0.066513821482658,0.106160059571266,0.199198111891747,0.118137724697590,-0.011918335221708,0.061670377850533,0.128319561481476,-0.096941009163857,0.015096959657967,0.002207195386291,0.075572319328785,0.075873218476772,-0.174882560968399,-0.118372052907944,-0.255548238754272,0.012180724181235));
res += mul(Get(s0,0,-dy), float4x4(-0.024811534211040,0.091481328010559,0.058151010423899,-0.126956805586815,0.113497175276279,-0.004986079409719,0.196044266223907,-0.102220192551613,0.080875284969807,-0.015488331206143,0.157460600137711,-0.397678613662720,-0.019821850582957,0.083664074540138,0.012219201773405,0.048693746328354));
res += mul(Get(s0,0,0), float4x4(0.063213683664799,0.006996644660830,-0.575473785400391,0.229300692677498,-0.170599266886711,-0.359868466854095,-0.310112595558167,0.693138062953949,0.376955062150955,-0.170833423733711,0.372299969196320,-0.014965896494687,0.079555645585060,0.018719222396612,0.457754492759705,0.077077135443687));
res += mul(Get(s0,0,dy), float4x4(-0.038033671677113,0.118074014782906,0.561563670635223,0.329609096050262,-0.123904168605804,0.123714290559292,-0.034350030124187,0.107699863612652,0.021935572847724,0.244852706789970,0.393474429845810,0.034040905535221,0.124850958585739,0.089019358158112,-0.135677546262741,-0.133327111601830));
res += mul(Get(s0,dx,-dy), float4x4(0.050875440239906,0.072743490338326,0.008900832384825,-0.147970855236053,0.030011883005500,-0.181295901536942,0.153799697756767,0.110980838537216,0.310779362916946,-0.086626224219799,-0.179304540157318,-0.278680056333542,-0.162973865866661,-0.164888083934784,0.125472977757454,0.036453541368246));
res += mul(Get(s0,dx,0), float4x4(0.068336814641953,0.049162767827511,-0.014570524916053,0.028788572177291,-0.150760307908058,0.096362620592117,-0.036857068538666,0.090938612818718,0.155497893691063,0.065061554312706,0.011634030379355,-0.403595536947250,0.074931107461452,0.578988552093506,-0.108896002173424,-0.290237396955490));
res += mul(Get(s0,dx,dy), float4x4(0.058387462049723,-0.036375164985657,0.143712431192398,0.130712330341339,-0.081894770264626,-0.111650213599205,0.052522830665112,0.168704301118851,-0.192585915327072,0.090809546411037,0.408542424440384,0.026076238602400,0.241066396236420,0.039226129651070,0.101837918162346,0.063487440347672));
res += mul(Get(s1,-dx,-dy), float4x4(0.198611930012703,-0.060683317482471,0.238517656922340,-0.158047348260880,0.061318282037973,-0.205231875181198,-0.100432485342026,-0.112563997507095,-0.179261878132820,-0.128175005316734,-0.105773054063320,-0.018024094402790,0.052039343863726,-0.104593291878700,-0.075637653470039,0.097973681986332));
res += mul(Get(s1,-dx,0), float4x4(0.114497147500515,0.136835664510727,0.107916153967381,-0.229205712676048,0.103521689772606,-0.299191355705261,0.118706524372101,-0.145027443766594,-0.072414264082909,-0.169396728277206,-0.264935702085495,0.002007614821196,0.166519045829773,-0.143972247838974,-0.234895825386047,-0.367262959480286));
res += mul(Get(s1,-dx,dy), float4x4(0.031725056469440,0.049578588455915,0.092427954077721,-0.041064750403166,0.004135374911129,0.071647688746452,0.129810646176338,0.081563450396061,-0.130799725651741,-0.003849199507385,0.223292276263237,0.026047881692648,-0.079293213784695,-0.210838541388512,-0.114135131239891,-0.139786362648010));
res += mul(Get(s1,0,-dy), float4x4(0.354910969734192,-0.084753483533859,0.309728115797043,-0.261254966259003,0.006922146771103,-0.219909876585007,-0.093133330345154,0.292578667402267,-0.164743617177010,-0.021044053137302,-0.083850778639317,0.059323232620955,-0.139693975448608,0.041107941418886,-0.061213098466396,0.411186635494232));
res += mul(Get(s1,0,0), float4x4(0.010787165723741,-0.493725538253784,-0.201867207884789,-0.196674913167953,0.698453366756439,0.276627808809280,0.387497037649155,-0.112578846514225,-0.386214286088943,-0.218294426798820,-0.010542883537710,-0.085375830531120,0.237946957349777,-1.070606708526611,-0.351138800382614,-0.439864307641983));
res += mul(Get(s1,0,dy), float4x4(0.346278965473175,-0.087686978280544,0.338718384504318,-0.304170131683350,-0.011857689358294,-0.238337814807892,0.365902811288834,0.330820918083191,0.064807422459126,-0.042665228247643,-0.424524664878845,-0.035589102655649,-0.273899435997009,-0.192332074046135,-0.134365469217300,0.011339211836457));
res += mul(Get(s1,dx,-dy), float4x4(0.216111466288567,-0.005545524880290,0.156679764389992,-0.123261675238609,-0.099262379109859,-0.009229844436049,-0.275072455406189,0.016773277893662,0.105868846178055,-0.035090211778879,0.046691212803125,0.218718886375427,-0.053284347057343,0.007067386060953,-0.023563455790281,-0.141056582331657));
res += mul(Get(s1,dx,0), float4x4(0.010041668079793,-0.006677343044430,0.346454560756683,-0.263070315122604,0.152787670493126,-0.272258907556534,-0.063414461910725,0.105213634669781,-0.333662420511246,-0.367322742938995,0.112469665706158,0.381426542997360,0.140942633152008,0.535512208938599,-0.096081569790840,-0.166464492678642));
res += mul(Get(s1,dx,dy), float4x4(-0.036584213376045,-0.127465128898621,0.524165272712708,-0.105480261147022,0.105843774974346,-0.099021591246128,0.082407027482986,0.079197511076927,-0.245942384004593,-0.124342545866966,-0.114437013864517,0.153411597013474,0.379718512296677,0.232059895992279,0.060063019394875,0.019404770806432));
res += mul(Get(s2,-dx,-dy), float4x4(0.021838778629899,0.064608879387379,-0.072028517723083,0.071562431752682,-0.008510071784258,0.042856611311436,0.007103583309799,-0.069145508110523,0.028274469077587,-0.187791362404823,-0.007735677063465,0.128319546580315,-0.081268996000290,0.085588082671165,0.124321162700653,0.200877651572227));
res += mul(Get(s2,-dx,0), float4x4(-0.028042079880834,0.111239723861217,-0.543998360633850,-0.000095866824267,-0.341683983802795,0.025890396907926,-0.002315179444849,0.269483774900436,0.059971351176500,-0.193749800324440,0.005849960725754,-0.300486415624619,-0.319896548986435,0.210610136389732,0.302311629056931,0.457980036735535));
res += mul(Get(s2,-dx,dy), float4x4(-0.105332724750042,0.083219610154629,-0.359519153833389,-0.083285972476006,-0.186285153031349,-0.031647548079491,0.383788794279099,0.297213822603226,0.028345897793770,-0.092361576855183,-0.222967386245728,-0.220710501074791,0.077834896743298,0.090208761394024,-0.073110550642014,0.011598646640778));
res += mul(Get(s2,0,-dy), float4x4(-0.260583013296127,0.055257111787796,0.110364876687527,0.268108278512955,-0.080142751336098,-0.212315663695335,0.046641651540995,0.131869494915009,-0.223043277859688,-0.128749236464500,-0.166769057512283,-0.216959536075592,-0.160663351416588,0.113155417144299,0.086827702820301,-0.106000646948814));
res += mul(Get(s2,0,0), float4x4(-0.248459860682487,-0.372706234455109,0.170138478279114,0.552357137203217,-0.388553619384766,0.264964759349823,-0.343955725431442,-0.113933324813843,0.036471977829933,0.217222884297371,1.097497105598450,0.027258666232228,-0.014689479954541,-0.067261457443237,-0.151633560657501,-0.230320751667023));
res += mul(Get(s2,0,dy), float4x4(-0.099126152694225,-0.084195107221603,-0.186218082904816,0.221681326627731,0.121491268277168,-0.051938790827990,0.079918280243874,0.006062826607376,0.194794893264771,0.130221754312515,-0.142736345529556,-0.073913097381592,0.323758929967880,-0.017087791115046,0.376279413700104,-0.073288410902023));
res += mul(Get(s2,dx,-dy), float4x4(-0.067318946123123,0.201140657067299,-0.021726321429014,0.063596062362194,-0.033467344939709,0.020248606801033,-0.036909088492393,0.150474429130554,0.022652285173535,-0.065090179443359,-0.125117242336273,0.079979456961155,-0.001642313902266,-0.005804277490824,-0.088715218007565,-0.114920906722546));
res += mul(Get(s2,dx,0), float4x4(-0.198405429720879,0.186700135469437,0.118107274174690,0.049343366175890,-0.153184533119202,-0.184354811906815,-0.018065338954329,0.008816787041724,-0.169641792774200,-0.350145906209946,0.062542110681534,0.110461883246899,-0.094885051250458,0.192874774336815,-0.182900324463844,0.198599994182587));
res += mul(Get(s2,dx,dy), float4x4(-0.068958602845669,0.048968136310577,-0.125502333045006,0.146680995821953,-0.291277766227722,-0.149325042963028,0.061473663896322,0.088777519762516,0.110830470919609,-0.015277326107025,-0.014744485728443,0.145805761218071,0.258279144763947,0.143011242151260,-0.041551768779755,0.100275017321110));
res = max(float4(0, 0, 0, 0), res) + float4(-0.336857020854950,0.425299942493439,0.165120735764503,0.813365876674652) * min(float4(0, 0, 0, 0), res);
return res;
}
