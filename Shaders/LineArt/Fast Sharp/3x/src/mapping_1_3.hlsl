sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.006366543937474,-0.029254304245114,-0.252382636070251,0.088583357632160);
res += mul(Get(s0,-dx,-dy), float4x4(0.084016166627407,-0.029154963791370,0.061132159084082,0.069708392024040,0.292659282684326,0.210682377219200,-0.192282006144524,-0.019483424723148,0.024392623454332,0.120392858982086,-0.290540397167206,-0.155986905097961,-0.017599988728762,-0.001780154765584,-0.055453591048717,0.173908665776253));
res += mul(Get(s0,-dx,0), float4x4(-0.199724629521370,0.656511127948761,0.073275588452816,-0.292379766702652,0.528373479843140,0.366972982883453,0.024398101493716,0.078946940600872,0.083666495978832,-0.000421390257543,0.118377320468426,0.028372894972563,0.129472926259041,0.246958985924721,0.008031438104808,0.072433702647686));
res += mul(Get(s0,-dx,dy), float4x4(0.001050719060004,-0.177226200699806,-0.211594328284264,0.046674959361553,0.058314919471741,0.229898661375046,-0.051755361258984,0.115374751389027,0.094091795384884,0.030555503442883,0.023084606975317,-0.000507775170263,0.150222897529602,-0.133569657802582,0.184904098510742,-0.046094134449959));
res += mul(Get(s0,0,-dy), float4x4(-0.514180839061737,0.028645308688283,-0.272839188575745,-0.210734829306602,-0.175872638821602,-0.116954907774925,0.130537316203117,-0.294736415147781,-0.107147060334682,-0.063164301216602,-0.148272752761841,0.246849626302719,0.055715378373861,-0.057981897145510,-0.136612504720688,0.238834410905838));
res += mul(Get(s0,0,0), float4x4(0.479974329471588,-0.288630753755569,-0.143085613846779,0.352275222539902,0.669627845287323,-0.382722288370132,-0.240155205130577,-0.071864895522594,0.163490578532219,-0.102076619863510,-0.107847340404987,-0.070977479219437,-0.171656206250191,0.027223439887166,0.227647766470909,-0.111496277153492));
res += mul(Get(s0,0,dy), float4x4(-0.063102848827839,-0.134540230035782,0.743961155414581,-0.172285780310631,0.171442747116089,-0.166756093502045,0.020993743091822,0.132891178131104,-0.026893986389041,0.042719986289740,0.114068426191807,0.148363798856735,-0.179257929325104,0.139816880226135,-0.082759946584702,-0.010307999327779));
res += mul(Get(s0,dx,-dy), float4x4(-0.021892571821809,-0.028125004842877,-0.065705701708794,-0.016240710392594,0.006953703239560,-0.070879176259041,0.034146334975958,-0.203674688935280,0.139592736959457,-0.079887919127941,0.001203080289997,-0.107266023755074,0.242887839674950,0.002464858582243,0.047617297619581,0.369170486927032));
res += mul(Get(s0,dx,0), float4x4(0.262489438056946,-0.069802112877369,-0.121821857988834,0.206671297550201,0.208024501800537,-0.330979019403458,-0.292021304368973,0.234131067991257,0.010459151118994,0.083220943808556,0.360322356224060,0.025884050875902,-0.023794785141945,-0.043098218739033,-0.025615172460675,-0.152670115232468));
res += mul(Get(s0,dx,dy), float4x4(0.023099709302187,0.090369477868080,-0.103666238486767,-0.052278682589531,-0.259353846311569,-0.048315167427063,-0.081231065094471,0.178712263703346,0.074209392070770,0.018707418814301,-0.303110063076019,-0.033582087606192,0.179107949137688,-0.102012962102890,0.072642892599106,-0.030199449509382));
res += mul(Get(s1,-dx,-dy), float4x4(-0.074525579810143,-0.085958570241928,-0.195455476641655,0.040575101971626,-0.082305595278740,0.363353669643402,0.107211850583553,0.492315113544464,-0.068648338317871,0.196302115917206,-0.060818508267403,-0.090061798691750,-0.046733364462852,-0.253334790468216,0.091089226305485,0.174717828631401));
res += mul(Get(s1,-dx,0), float4x4(-0.200252458453178,0.063465714454651,-0.194984272122383,0.085894361138344,0.015097441151738,0.467467248439789,0.636712014675140,-0.253736615180969,-0.073810063302517,-2.919407367706299,0.063430368900299,0.224364116787910,-0.161131232976913,0.722214579582214,-0.206393823027611,-0.177160605788231));
res += mul(Get(s1,-dx,dy), float4x4(0.206315442919731,0.027650220319629,-0.291589587926865,0.005028390791267,0.029717255383730,0.221241846680641,0.220593169331551,-0.219350710511208,-0.018778100609779,-0.135008633136749,0.515728294849396,-0.021301696076989,-0.110910914838314,0.305050998926163,-0.003118571825325,0.151540368795395));
res += mul(Get(s1,0,-dy), float4x4(-0.316814303398132,-0.275106817483902,0.361913472414017,0.112185016274452,0.111661627888680,-0.165427789092064,0.033165197819471,1.283730864524841,0.042119033634663,0.020570181310177,-0.056258298456669,0.123020574450493,0.092340163886547,0.046492356806993,0.039961475878954,-0.188472300767899));
res += mul(Get(s1,0,0), float4x4(0.263241499662399,-0.082138076424599,-0.017675932496786,-0.002128329593688,1.070423960685730,0.073366843163967,0.279683858156204,-0.445967942476273,-0.778118252754211,-0.120108030736446,0.033746816217899,-0.255936831235886,0.332888394594193,-0.167184934020042,-0.191220998764038,0.015625469386578));
res += mul(Get(s1,0,dy), float4x4(0.011603013612330,0.052612047642469,-0.200875729322433,0.047259461134672,0.105192720890045,-0.179511278867722,-0.305334955453873,-0.386101454496384,-0.044361472129822,0.098674610257149,0.091356925666332,-0.077945403754711,0.056449476629496,-0.157947361469269,-0.004600908141583,0.188616901636124));
res += mul(Get(s1,dx,-dy), float4x4(-0.675310611724854,-0.035229939967394,0.231126382946968,-0.160066843032837,-0.080779902637005,-0.173691794276237,-0.047423910349607,0.145607918500900,0.056421477347612,0.001172745600343,-0.005775237455964,0.102911531925201,0.081871151924133,-0.112188391387463,-0.101996265351772,-0.077568925917149));
res += mul(Get(s1,dx,0), float4x4(1.580401182174683,0.298188269138336,0.597918212413788,0.097905620932579,-0.046884644776583,0.015306797809899,-0.324284464120865,-0.168433561921120,0.011942022480071,0.104939118027687,-0.198952347040176,-0.024929802864790,-0.034340448677540,0.133356645703316,0.230971530079842,-0.086258262395859));
res += mul(Get(s1,dx,dy), float4x4(0.643455803394318,-0.148530706763268,-0.220746487379074,-0.237352341413498,-0.209331333637238,-0.038107581436634,-0.443603038787842,-0.201653838157654,0.197647362947464,-0.009511301293969,-0.033940412104130,0.009416562505066,-0.235353738069534,-0.113556146621704,0.036897357553244,0.038474444299936));
res += mul(Get(s2,-dx,-dy), float4x4(0.052912689745426,0.022952888160944,0.097144477069378,-0.085691496729851,0.096991255879402,0.119230672717094,-0.075072847306728,-0.169018849730492,0.148404777050018,0.192220181226730,-0.284370750188828,-0.106021173298359,0.051144797354937,0.125280752778053,-0.168952241539955,0.287905305624008));
res += mul(Get(s2,-dx,0), float4x4(0.071533843874931,0.117314353585243,0.033922828733921,-0.070848360657692,-0.071622379124165,0.276194602251053,-0.432895541191101,0.146824687719345,0.210300654172897,-0.166518896818161,0.352872759103775,0.154092133045197,-0.303720682859421,-0.164334774017334,0.156194552779198,-0.297785133123398));
res += mul(Get(s2,-dx,dy), float4x4(-0.171156644821167,0.022334024310112,0.001173370634206,0.118460513651371,-0.068017780780792,-0.012310852296650,-0.315620213747025,0.008000781759620,-0.010275837965310,0.181989476084709,0.070394344627857,0.063442490994930,-0.168613284826279,0.057858575135469,0.298301190137863,-0.146558821201324));
res += mul(Get(s2,0,-dy), float4x4(-0.188423678278923,-0.065938934683800,0.053984217345715,-0.201349094510078,-0.096198223531246,-0.052447155117989,-0.111872196197510,-0.177376985549927,-0.262510657310486,-0.106299035251141,0.245282784104347,0.093538396060467,-0.167437031865120,-0.099968291819096,0.313935637474060,0.877667605876923));
res += mul(Get(s2,0,0), float4x4(-0.169240906834602,-0.229057922959328,-0.107098177075386,0.412245213985443,0.318274348974228,-0.495207786560059,0.177413210272789,0.507398247718811,-0.224720254540443,0.204499438405037,-0.212837994098663,-0.159492313861847,-0.114057421684265,0.328147351741791,0.810158908367157,-0.413094490766525));
res += mul(Get(s2,0,dy), float4x4(-0.219464808702469,-0.127232998609543,0.417307138442993,-0.150778338313103,0.283425658941269,0.128430202603340,0.075175151228905,-0.026492668315768,0.386547088623047,-0.026298677548766,-0.576291084289551,0.268067896366119,-0.231885194778442,0.008020653389394,-0.154943361878395,-0.131368175148964));
res += mul(Get(s2,dx,-dy), float4x4(0.157420426607132,0.064935877919197,-0.015049787238240,-0.093831449747086,-0.052563730627298,-0.094348989427090,0.095305360853672,-0.122111268341541,-0.321719735860825,-0.000636795652099,0.064476907253265,-0.290134638547897,0.278936713933945,-0.052441895008087,-0.046982120722532,0.095514617860317));
res += mul(Get(s2,dx,0), float4x4(0.120092391967773,0.026080599054694,-0.091668166220188,-0.090614691376686,-0.224744796752930,0.094540245831013,-0.025264026597142,-0.238009005784988,0.075339660048485,-0.080193750560284,-0.003775051562116,-0.002185001503676,0.117762915790081,-0.151098087430000,-0.086708433926105,-0.082830272614956));
res += mul(Get(s2,dx,dy), float4x4(-0.147051587700844,-0.073860950767994,-0.034285873174667,0.064779631793499,-0.186186179518700,-0.119139783084393,0.064788475632668,0.118256688117981,-0.099260970950127,-0.177704855799675,0.219066753983498,0.008239595219493,0.251846879720688,-0.081880949437618,0.152345031499863,-0.029385685920715));
res = max(float4(0, 0, 0, 0), res) + float4(0.139093309640884,-0.208647981286049,0.439080685377121,-0.039495743811131) * min(float4(0, 0, 0, 0), res);
return res;
}
