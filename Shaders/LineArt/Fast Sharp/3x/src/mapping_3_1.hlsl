sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.076877981424332,-0.089639790356159,0.144989266991615,-0.349152326583862);
res += mul(Get(s0,-dx,-dy), float4x4(0.240470960736275,-0.192138373851776,-0.191087901592255,0.027493242174387,0.028774261474609,-0.090742610394955,-0.006689005997032,0.065693534910679,-0.078288264572620,0.020022183656693,-0.128975912928581,0.086646161973476,-0.081569820642471,-0.030327549204230,-0.101824395358562,-0.045840688049793));
res += mul(Get(s0,-dx,0), float4x4(0.263788521289825,-0.219790995121002,-0.026587504893541,0.000105863597128,-0.255014479160309,-0.188827648758888,0.374312698841095,-0.103851199150085,0.029748681932688,0.060747649520636,-0.020785924047232,0.137008234858513,-0.616243362426758,0.211480930447578,0.347424536943436,0.311650097370148));
res += mul(Get(s0,-dx,dy), float4x4(-0.090497888624668,0.003395383479074,-0.159639388322830,0.011136770248413,-0.182868972420692,-0.038668237626553,0.115053266286850,-0.095676466822624,0.009719101712108,0.041641868650913,0.012285881675780,0.105191543698311,-0.102330207824707,-0.014554626308382,0.064517259597778,-0.089825600385666));
res += mul(Get(s0,0,-dy), float4x4(-0.231355085968971,-0.058657966554165,0.712822198867798,0.137385725975037,-0.017646389082074,0.297741472721100,0.242121368646622,0.194587081670761,-0.147165462374687,0.011772632598877,0.142788469791412,-0.213473990559578,0.403803050518036,-0.208682909607887,-0.513684213161469,-0.351349771022797));
res += mul(Get(s0,0,0), float4x4(0.101470991969109,0.039727527648211,-0.223847061395645,-0.511472702026367,-0.488505005836487,0.228600829839706,0.218139156699181,0.478508412837982,0.184553831815720,0.033026751130819,-0.180699005723000,-0.008535531349480,-0.270198285579681,0.076589167118073,0.318825781345367,0.196021094918251));
res += mul(Get(s0,0,dy), float4x4(0.016280658543110,-0.122128106653690,-0.221733942627907,0.021808836609125,0.067376561462879,0.057834587991238,-0.293496161699295,-0.037562146782875,0.002255781088024,0.068984933197498,0.272959798574448,0.218459218740463,-0.203171566128731,0.202008500695229,-0.100587427616119,0.230335623025894));
res += mul(Get(s0,dx,-dy), float4x4(-0.089386247098446,-0.156199127435684,-0.058104909956455,0.151598259806633,-0.087032027542591,0.029499405995011,-0.057932909578085,0.245684742927551,-0.147442772984505,0.462337285280228,0.362336456775665,-0.196215227246284,-0.101943515241146,0.001210593152791,0.119664721190929,0.038359362632036));
res += mul(Get(s0,dx,0), float4x4(-0.118315964937210,-0.031928475946188,-0.079559594392776,-0.210121259093285,-0.051222339272499,-0.099755570292473,0.008315215818584,0.291589468717575,0.053225092589855,0.103486493229866,0.044558577239513,-0.430808991193771,-0.338323473930359,-0.480216264724731,-0.117456950247288,-0.213605061173439));
res += mul(Get(s0,dx,dy), float4x4(0.260724991559982,-0.164616078138351,-0.229200899600983,-0.027461608871818,0.121535949409008,0.002716154791415,-0.243544429540634,0.016264852136374,-0.077298328280449,-0.240297183394432,0.328301489353180,0.132262974977493,-0.168710038065910,-0.051529586315155,-0.205000802874565,0.048365842550993));
res += mul(Get(s1,-dx,-dy), float4x4(0.006253190804273,0.055379807949066,0.103906437754631,0.019524931907654,0.009064289741218,0.219840317964554,0.118166729807854,0.021499039605260,-0.059909082949162,0.000983793754131,0.267471760511398,0.027841445058584,0.184883728623390,-0.090143375098705,-0.265416264533997,-0.106683872640133));
res += mul(Get(s1,-dx,0), float4x4(-0.151221111416817,-0.109834276139736,-0.004645046778023,-0.086134895682335,0.302973985671997,-0.287602365016937,0.035872187465429,0.121106415987015,-0.418600410223007,0.076735556125641,-0.054357223212719,-0.127704516053200,-0.300664007663727,0.092448472976685,0.401675581932068,-0.030016088858247));
res += mul(Get(s1,-dx,dy), float4x4(0.083460867404938,-0.132310271263123,0.040134176611900,0.036946289241314,0.119683466851711,0.084880053997040,-0.030311811715364,0.075011976063251,-0.048649664968252,-0.019347824156284,0.010039102286100,-0.141686037182808,-0.029018359258771,0.146221995353699,0.040858108550310,-0.090691111981869));
res += mul(Get(s1,0,-dy), float4x4(-0.258018612861633,0.549345672130585,0.655970633029938,0.298359960317612,-0.184479653835297,0.171435788273811,0.249246910214424,0.316747903823853,-0.189104899764061,0.270412743091583,0.244318857789040,0.418176591396332,0.288843274116516,-0.130569517612457,-0.357967317104340,0.090640679001808));
res += mul(Get(s1,0,0), float4x4(0.017716886475682,0.193321004509926,-0.368469268083572,0.277186930179596,0.586727857589722,0.228476434946060,0.059313178062439,0.168919458985329,0.040380634367466,0.132262155413628,-0.068862006068230,-0.149065360426903,-0.457331836223602,0.567824482917786,0.216538488864899,0.162491679191589));
res += mul(Get(s1,0,dy), float4x4(0.285036265850067,-0.077956922352314,0.158448502421379,-0.140877351164818,-0.006232957355678,0.033412400633097,-0.157154455780983,0.205987378954887,0.068477943539619,0.123838469386101,-0.065552219748497,-0.131909281015396,-0.278885334730148,0.242932379245758,-0.204659089446068,0.036955934017897));
res += mul(Get(s1,dx,-dy), float4x4(0.228932291269302,0.336445242166519,0.014315976761281,-0.079341210424900,-0.094741173088551,0.192992642521858,-0.100267983973026,0.007517955265939,-0.078350253403187,0.032781068235636,-0.267535537481308,0.550382077693939,-0.053097311407328,-0.113707058131695,0.005157813895494,0.063635215163231));
res += mul(Get(s1,dx,0), float4x4(0.370976448059082,0.485720008611679,0.182218298316002,-0.036543045192957,-0.141815498471260,0.073435597121716,0.002637828933075,0.010935305617750,-0.289064496755600,0.300176143646240,-0.081531338393688,0.408569425344467,-0.268441587686539,-0.552949190139771,0.144946262240410,-0.235419854521751));
res += mul(Get(s1,dx,dy), float4x4(-0.110837496817112,0.161402076482773,0.138646453619003,0.096767209470272,0.109536066651344,0.010167798027396,0.014345610514283,0.155060485005379,-0.081440553069115,0.163645848631859,-0.203280225396156,-0.040312867611647,0.127461463212967,-0.105907142162323,0.045548263937235,0.065303675830364));
res += mul(Get(s2,-dx,-dy), float4x4(0.305172204971313,-0.221021145582199,-0.123472660779953,-0.094894491136074,-0.200867414474487,0.231392085552216,0.153087586164474,0.120559528470039,0.152519464492798,0.022453883662820,-0.144745558500290,-0.130890756845474,0.005654751788825,0.039028242230415,-0.001541472156532,0.170188322663307));
res += mul(Get(s2,-dx,0), float4x4(-0.149665027856827,-0.069075137376785,0.364453107118607,0.212823852896690,0.329005330801010,-0.067409902811050,-0.498083829879761,-0.239520937204361,-0.494957953691483,0.353743255138397,0.438802748918533,0.101399041712284,-0.013838526792824,-0.113211393356323,0.085807971656322,0.320730566978455));
res += mul(Get(s2,-dx,dy), float4x4(-0.109389871358871,-0.022456400096416,-0.104560531675816,-0.246609583497047,0.337170541286469,-0.039169438183308,-0.101953074336052,0.170861497521400,-0.053368639200926,-0.022097421810031,0.099359393119812,0.027006959542632,-0.064812257885933,0.000571805983782,-0.096701867878437,-0.001730821211822));
res += mul(Get(s2,0,-dy), float4x4(0.109571434557438,-0.041723463684320,-0.298018991947174,0.421759337186813,0.180162727832794,-0.005093373823911,-0.420847237110138,-0.223789572715759,-0.486425697803497,0.047665569931269,0.302998214960098,0.092168025672436,-0.053465578705072,-0.067079298198223,0.216773912310600,0.130590602755547));
res += mul(Get(s2,0,0), float4x4(-0.251749873161316,0.226307988166809,0.301652997732162,0.401801258325577,0.303244143724442,-0.433706611394882,-0.463948160409927,-0.331367701292038,0.499791234731674,-0.286165833473206,-0.385101497173309,0.480459362268448,0.253022968769073,-0.306418389081955,-0.366490989923477,-0.983483135700226));
res += mul(Get(s2,0,dy), float4x4(-0.101935528218746,0.319813936948776,-0.494143098592758,-0.095625244081020,0.264722973108292,-0.034743547439575,-0.380561500787735,-0.040551096200943,0.288097023963928,-0.075527988374233,0.127707943320274,0.068654529750347,0.069279089570045,-0.019144978374243,0.062725462019444,0.265330553054810));
res += mul(Get(s2,dx,-dy), float4x4(0.112533882260323,0.061790976673365,-0.076337851583958,0.377853840589523,0.190030038356781,0.103309243917465,-0.042479079216719,-0.259314328432083,-0.009110520593822,0.041463252156973,-0.019525790587068,-0.047245666384697,-0.142650946974754,-0.083706602454185,0.194833233952522,0.082312345504761));
res += mul(Get(s2,dx,0), float4x4(-0.054397080093622,-0.192904442548752,-0.081277795135975,0.187793716788292,0.115635938942432,0.251419603824615,0.016072247177362,0.169715642929077,0.109433978796005,0.129880860447884,-0.079722650349140,0.264142304658890,-0.210001155734062,-0.367139101028442,0.202527180314064,-0.107117481529713));
res += mul(Get(s2,dx,dy), float4x4(0.038282249122858,0.022035302594304,-0.272895067930222,-0.071943148970604,-0.111972630023956,-0.010717510245740,-0.096872314810753,-0.067310452461243,-0.122511930763721,0.119094476103783,0.211657226085663,0.135110795497894,0.172059178352356,-0.035082396119833,0.016424285247922,-0.023423070088029));
res = max(float4(0, 0, 0, 0), res) + float4(0.019258135929704,0.432090044021606,0.176014930009842,-0.262299031019211) * min(float4(0, 0, 0, 0), res);
return res;
}
