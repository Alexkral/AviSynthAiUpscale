sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.215324550867081,0.243342161178589,0.029066106304526,-0.150876417756081);
res += mul(Get(s0,-dx,-dy), float4x4(0.104470342397690,-0.045167081058025,0.104973830282688,-0.177277952432632,0.033840287476778,-0.081838645040989,0.030031872913241,-0.281353831291199,0.181940704584122,0.118857190012932,-0.006245039403439,-0.092737846076488,-0.076481185853481,0.028950378298759,0.025442343205214,0.091152057051659));
res += mul(Get(s0,-dx,0), float4x4(-0.167641729116440,0.044834222644567,-0.204368501901627,0.284272402524948,-0.096473939716816,-0.078414797782898,0.307308703660965,0.004678649362177,0.170192182064056,0.110984362661839,0.069451712071896,0.333665728569031,-0.031955406069756,-0.098284818232059,-0.023057110607624,-0.466095656156540));
res += mul(Get(s0,-dx,dy), float4x4(-0.039436101913452,0.110142379999161,-0.252486020326614,0.185524404048920,-0.001502528437413,0.013042867183685,0.077862821519375,0.199328944087029,0.176603749394417,0.108123049139977,-0.046612564474344,-0.126526504755020,-0.086338356137276,-0.039770968258381,-0.067927755415440,-0.096718087792397));
res += mul(Get(s0,0,-dy), float4x4(-0.114593453705311,0.158026993274689,-0.035042863339186,0.223587557673454,0.089724719524384,-0.054084792733192,0.028087120503187,-0.075599819421768,0.303311467170715,-0.049801386892796,0.117074698209763,-0.157439708709717,-0.091636858880520,-0.034984547644854,-0.038306962698698,-0.029406970366836));
res += mul(Get(s0,0,0), float4x4(0.272237598896027,-0.210515528917313,0.219350755214691,0.408715784549713,-0.042932819575071,0.144289821386337,-0.237048700451851,0.155624672770500,-0.209149181842804,-0.120203293859959,-0.041939523071051,-0.331805646419525,0.104769334197044,0.080573737621307,0.101863883435726,-0.158081382513046));
res += mul(Get(s0,0,dy), float4x4(-0.224469840526581,0.035485085099936,0.262075722217560,-0.029125224798918,0.070573396980762,-0.151528134942055,-0.109290793538094,0.006690239533782,0.147164136171341,0.006848355289549,0.085894100368023,0.046354167163372,-0.047505188733339,-0.074149213731289,0.082915440201759,-0.378859490156174));
res += mul(Get(s0,dx,-dy), float4x4(-0.138608425855637,0.016623020172119,-0.023653283715248,0.168757990002632,-0.008036910556257,-0.007889130152762,-0.023715166375041,0.236810803413391,0.010785695165396,0.003879453754053,-0.192977681756020,0.153216451406479,-0.001019211369567,0.012985451146960,0.003666266566142,-0.039079681038857));
res += mul(Get(s0,dx,0), float4x4(0.060152687132359,0.098292104899883,0.050452649593353,0.007547693327069,-0.012981309555471,0.000168574304553,-0.330887138843536,0.109285749495029,0.066034898161888,-0.061055157333612,-0.329876422882080,-0.189926549792290,-0.049807406961918,-0.092295631766319,-0.414245814085007,-0.056039068847895));
res += mul(Get(s0,dx,dy), float4x4(-0.081604801118374,-0.080759972333908,-0.021645415574312,-0.072735093533993,0.008705463260412,-0.046061713248491,-0.401339709758759,-0.246908321976662,0.001323410775512,-0.014531989581883,-0.217994898557663,-0.070750042796135,-0.030613828450441,-0.025412632152438,-0.631289005279541,0.054410118609667));
res += mul(Get(s1,-dx,-dy), float4x4(-0.185332804918289,-0.156154185533524,-0.031731888651848,-0.076668865978718,-0.066298261284828,-0.111916281282902,-0.120323084294796,0.041948966681957,0.026485612615943,0.177005276083946,-0.047377835959196,-0.121901884675026,0.077945373952389,0.158146247267723,-0.100923828780651,0.088476896286011));
res += mul(Get(s1,-dx,0), float4x4(-0.234465986490250,-0.063486009836197,0.112476468086243,-0.085124529898167,-0.424160480499268,0.081103332340717,0.253549814224243,-0.239553868770599,0.215885803103447,0.129149004817009,0.001037980196998,0.118214741349220,0.143414303660393,0.151447951793671,-0.103658095002174,0.207407534122467));
res += mul(Get(s1,-dx,dy), float4x4(0.027657141909003,0.041471712291241,-0.045361325144768,-0.139704734086990,-0.141995280981064,0.047562446445227,0.024716747924685,0.164326116442680,0.080926574766636,0.027583399787545,0.019150836393237,-0.044130101799965,0.203962236642838,0.089226774871349,-0.116282232105732,-0.324034810066223));
res += mul(Get(s1,0,-dy), float4x4(-0.300337970256805,-0.298103868961334,-0.078887425363064,0.042006522417068,0.051142051815987,-0.019519899040461,0.088365234434605,0.034837629646063,0.044875491410494,0.407511383295059,-0.069406211376190,-0.157501980662346,0.059112120419741,0.012197032570839,-0.043514125049114,-0.028549596667290));
res += mul(Get(s1,0,0), float4x4(0.107506282627583,0.136801317334175,-0.257164865732193,-0.207751870155334,0.182710558176041,-0.615773320198059,0.596064031124115,-0.191299676895142,0.616827070713043,-0.129568219184875,-0.044880978763103,-0.121172428131104,-0.222509548068047,-0.534400463104248,0.176114529371262,-0.630092024803162));
res += mul(Get(s1,0,dy), float4x4(-0.059173393994570,-0.033854588866234,-0.179935932159424,-0.197795078158379,-0.052081316709518,-0.024642802774906,0.005851418711245,0.004820873495191,-0.119552306830883,-0.060709353536367,-0.041033610701561,0.170089483261108,0.170215979218483,0.232708513736725,0.170221060514450,0.254008024930954));
res += mul(Get(s1,dx,-dy), float4x4(0.012828682549298,-0.098556302487850,-0.020080480724573,-0.329231798648834,0.040958929806948,0.073578990995884,0.028257373720407,0.086774602532387,-0.002678332384676,0.169451788067818,-0.058353964239359,0.093271501362324,0.064542271196842,0.100989565253258,-0.025240927934647,-0.213597416877747));
res += mul(Get(s1,dx,0), float4x4(-0.088647015392780,-0.017796110361814,0.089601688086987,-0.041605573147535,-0.000583574816119,0.201216429471970,-0.179254949092865,0.099126964807510,-0.006492290180176,0.316692233085632,0.123704485595226,-0.041237637400627,0.074651449918747,0.111965738236904,-0.410597860813141,0.035626810044050));
res += mul(Get(s1,dx,dy), float4x4(-0.007062219083309,0.052061922848225,0.180407434701920,0.131398797035217,0.063119024038315,-0.073976963758469,0.016868250444531,-0.107993163168430,0.102173812687397,0.079032838344574,0.030368177220225,-0.093831852078438,0.075393147766590,0.029753804206848,-0.064050488173962,0.031441181898117));
res += mul(Get(s2,-dx,-dy), float4x4(0.166883602738380,-0.078151844441891,-0.021138081327081,0.394558668136597,-0.021964784711599,-0.065604411065578,0.111517205834389,-0.179880321025848,0.128405183553696,-0.057120822370052,0.010540039278567,0.076329231262207,-0.042950008064508,0.002285828348249,0.081642702221870,-0.048697322607040));
res += mul(Get(s2,-dx,0), float4x4(0.061045192182064,-0.097206473350525,-0.278887718915939,-0.082488872110844,-0.071638442575932,-0.161151885986328,0.317568004131317,-0.039431080222130,-0.268370240926743,-0.069804787635803,0.351751416921616,0.174940466880798,0.106540814042091,0.006543821655214,0.104652918875217,-0.066220164299011));
res += mul(Get(s2,-dx,dy), float4x4(0.100474812090397,-0.102391988039017,-0.118993587791920,-0.169649958610535,-0.020967261865735,-0.044233739376068,0.118048205971718,0.181281492114067,0.052807368338108,0.099816389381886,0.051985491067171,0.000209173449548,0.041704948991537,0.074902333319187,0.014838457107544,0.265684068202972));
res += mul(Get(s2,0,-dy), float4x4(0.291863799095154,0.039665762335062,0.111689724028111,-0.451984614133835,-0.087164916098118,0.019901301711798,-0.064167350530624,0.200060233473778,0.191489487886429,0.029396081343293,-0.098253600299358,0.130805805325508,-0.040656995028257,0.085923194885254,-0.138533741235733,-0.001321626245044));
res += mul(Get(s2,0,0), float4x4(-0.507599413394928,-0.296193242073059,0.374571830034256,0.363910585641861,0.056888509541750,-0.053950492292643,-0.340810716152191,-0.117373816668987,-0.037201736122370,-0.270679414272308,-0.565248370170593,0.234250679612160,0.159457236528397,-0.174552559852600,-0.045483868569136,-0.441992819309235));
res += mul(Get(s2,0,dy), float4x4(0.360408514738083,0.192467480897903,0.286538511514664,-0.043483976274729,-0.116535305976868,-0.068791203200817,-0.105882987380028,0.059017825871706,-0.060222949832678,0.045006584376097,0.055852904915810,0.218775242567062,-0.489697486162186,-0.285614371299744,-0.013034272938967,-0.047007374465466));
res += mul(Get(s2,dx,-dy), float4x4(0.131929814815521,0.089758634567261,0.026981581002474,-0.143123432993889,-0.044982094317675,0.046381447464228,0.083305545151234,0.000127585837618,0.012947040610015,0.062837466597557,0.061465796083212,0.081138119101524,-0.033765260130167,0.026034137234092,0.054574355483055,-0.220234811306000));
res += mul(Get(s2,dx,0), float4x4(0.218939751386642,-0.007796973455697,0.499066889286041,-0.246681526303291,0.048189088702202,0.072634130716324,0.150916770100594,0.264572620391846,0.037961073219776,-0.096611045300961,0.046043325215578,0.127361446619034,0.092132806777954,0.008892731741071,0.029610460624099,0.171872720122337));
res += mul(Get(s2,dx,dy), float4x4(0.154687196016312,0.082909762859344,0.265575587749481,0.150119915604591,-0.024724921211600,-0.010802417062223,0.097797758877277,-0.101756013929844,-0.083766847848892,-0.160934120416641,-0.285196095705032,-0.058969553560019,0.009130743332207,-0.116425916552544,-0.163241565227509,-0.165107637643814));
res = max(float4(0, 0, 0, 0), res) + float4(0.921381413936615,0.869717240333557,-0.105854950845242,-0.052779041230679) * min(float4(0, 0, 0, 0), res);
return res;
}
