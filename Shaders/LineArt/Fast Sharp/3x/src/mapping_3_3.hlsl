sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.128328174352646,-0.043076209723949,0.128284692764282,-0.088607236742973);
res += mul(Get(s0,-dx,-dy), float4x4(0.079408146440983,-0.027011651545763,0.165601462125778,0.042856987565756,0.104501187801361,0.069243110716343,-0.064692482352257,0.051123712211847,-0.117315702140331,-0.156232625246048,-0.277982681989670,0.123123869299889,-0.081533335149288,-0.045363616198301,-0.248301267623901,-0.220910623669624));
res += mul(Get(s0,-dx,0), float4x4(0.124936439096928,-0.059268817305565,-0.119138121604919,-0.217482179403305,0.194807663559914,0.429668426513672,0.060825370252132,0.057101324200630,-0.201770663261414,-0.051936417818069,-0.105947978794575,0.119005985558033,0.074825048446655,0.283250957727432,-0.218442469835281,0.187625214457512));
res += mul(Get(s0,-dx,dy), float4x4(0.024539567530155,0.191383898258209,-0.023151079192758,0.031938929110765,0.158634036779404,0.168552652001381,0.164351910352707,-0.101951755583286,-0.049576587975025,-0.103448607027531,0.005658146925271,0.014191692695022,0.040806896984577,-0.042310032993555,-0.175415188074112,0.118215367197990));
res += mul(Get(s0,0,-dy), float4x4(0.198132187128067,0.148026913404465,0.021182915195823,0.137065917253494,0.347233891487122,0.151317268610001,0.298620373010635,-0.043820507824421,0.287485390901566,-0.020853972062469,-0.094628795981407,0.087330378592014,-0.231011524796486,-0.121848478913307,-0.390055119991302,-0.277180850505829));
res += mul(Get(s0,0,0), float4x4(-0.426386982202530,0.203415378928185,-0.292053043842316,0.337483197450638,-0.677114903926849,0.044251155108213,-0.239615246653557,0.159835532307625,0.358177006244659,-0.121490485966206,0.021501045674086,0.097837306559086,0.531446039676666,0.298906207084656,-0.208611518144608,-0.289618104696274));
res += mul(Get(s0,0,dy), float4x4(0.265352398157120,-0.076567403972149,0.325356662273407,-0.440472394227982,-0.058452334254980,0.007672795560211,-0.033977955579758,0.181551814079285,0.214527592062950,0.116435080766678,0.049908403307199,-0.159438148140907,-0.072720497846603,0.104889228940010,-0.649213194847107,0.580145776271820));
res += mul(Get(s0,dx,-dy), float4x4(-0.017645455896854,-0.087018452584743,0.157092094421387,0.010230785235763,0.007513661868870,-0.038730006664991,0.089380800724030,0.014331985265017,0.439607918262482,0.338968157768250,0.214220598340034,0.343410462141037,-0.009724999777973,0.104388363659382,-0.380097508430481,0.059830285608768));
res += mul(Get(s0,dx,0), float4x4(-0.029274478554726,-0.257812917232513,0.274379223585129,-0.065177679061890,-0.268580853939056,-0.210996806621552,0.055387690663338,-0.216310754418373,-0.072622202336788,0.102467276155949,-0.351631522178650,0.273039042949677,-0.153943702578545,-0.280712723731995,0.274820894002914,-0.066684976220131));
res += mul(Get(s0,dx,dy), float4x4(0.083305694162846,-0.130685672163963,-0.137402534484863,-0.032297831028700,0.002673265757039,-0.050904743373394,-0.092746205627918,0.168581053614616,0.093214668333530,-0.010134313255548,0.272849023342133,-0.461056470870972,-0.110750935971737,-0.162783488631248,-0.126387596130371,0.245637655258179));
res += mul(Get(s1,-dx,-dy), float4x4(-0.001318055903539,-0.052136201411486,-0.070275522768497,0.258250445127487,0.048503898084164,0.165401846170425,0.068894378840923,0.307457566261292,-0.041256498545408,0.254708588123322,-0.142212823033333,-0.248533502221107,-0.148037031292915,-0.000946649699472,-0.002668331377208,-0.307563960552216));
res += mul(Get(s1,-dx,0), float4x4(-0.146777912974358,0.159354329109192,0.141019120812416,-0.212719783186913,0.133659318089485,-0.062647610902786,-0.179328590631485,-0.133498564362526,-0.158992603421211,0.404719650745392,-0.166079923510551,0.235851362347603,0.046206809580326,0.307919085025787,-0.129244357347488,0.002004241338000));
res += mul(Get(s1,-dx,dy), float4x4(-0.259939908981323,-0.136514693498611,-0.069495528936386,0.025507926940918,-0.010838045738637,0.148413091897964,-0.011661539785564,-0.258223265409470,0.163268268108368,-0.089328683912754,-0.014438394457102,-0.047292012721300,0.044360503554344,0.175592213869095,0.067960001528263,0.192937478423119));
res += mul(Get(s1,0,-dy), float4x4(0.475577235221863,0.181874975562096,0.523254215717316,0.168147698044777,-0.061279274523258,0.084078826010227,0.051794789731503,-0.296500176191330,0.010793715715408,0.091988831758499,0.035768263041973,0.056724134832621,-0.365296274423599,-0.181381031870842,-0.158280879259109,-0.467147320508957));
res += mul(Get(s1,0,0), float4x4(-0.119613416492939,-0.182837694883347,-0.073119349777699,-0.471880406141281,0.118745326995850,0.077504642307758,0.242767184972763,0.014517651870847,0.005526699125767,0.088673017919064,-0.028585985302925,-0.259849190711975,0.230155453085899,0.175189882516861,-0.312771052122116,0.024098483845592));
res += mul(Get(s1,0,dy), float4x4(-0.259305357933044,-0.146172076463699,0.109183408319950,-0.182063281536102,0.066509790718555,0.029123757034540,0.256292164325714,-1.651010632514954,-0.210917502641678,-0.024956651031971,-0.303228527307510,0.476171433925629,0.103998221457005,0.191040962934494,-0.033636473119259,0.298181682825089));
res += mul(Get(s1,dx,-dy), float4x4(0.342228680849075,0.035488031804562,0.298469781875610,0.145526707172394,-0.034918464720249,-0.064774475991726,-0.201753139495850,0.354152739048004,-0.096693940460682,-0.209811717271805,0.071295268833637,-0.117232665419579,-0.052314236760139,-0.088548861443996,-0.094846896827221,-0.090473137795925));
res += mul(Get(s1,dx,0), float4x4(0.481903672218323,0.124760858714581,-0.265300303697586,-0.100687377154827,0.216136410832405,-0.010659394785762,0.411259502172470,-0.006598496809602,-0.199174851179123,-0.062007360160351,-0.224775686860085,-0.348642170429230,-0.131277546286583,-0.131590828299522,0.320651024580002,-0.093280158936977));
res += mul(Get(s1,dx,dy), float4x4(0.141294375061989,0.171528309583664,0.143969058990479,-0.318174898624420,-0.002058784011751,-0.080623924732208,-0.122715532779694,-0.050830394029617,-0.020977385342121,0.040279719978571,-0.127420514822006,0.356134057044983,-0.111750863492489,-0.183805063366890,-0.151353254914284,0.203791707754135));
res += mul(Get(s2,-dx,-dy), float4x4(-0.038869976997375,0.032184842973948,0.000744151475374,0.025663062930107,0.080326281487942,-0.044540669769049,0.115723915398121,0.119221404194832,-0.010338476859033,0.126398429274559,-0.173566043376923,0.017101345583797,-0.003569225547835,0.081003181636333,0.066799573600292,-0.040684718638659));
res += mul(Get(s2,-dx,0), float4x4(-0.235372692346573,0.543928086757660,-0.008172388188541,-0.017790300771594,-0.002434272551909,-0.259417980909348,0.188703551888466,0.152401730418205,0.072700664401054,0.363268852233887,0.027795664966106,-0.167180642485619,-0.058665774762630,-0.083564445376396,-0.152184784412384,-0.031251445412636));
res += mul(Get(s2,-dx,dy), float4x4(0.073512986302376,0.096925571560860,0.011283043771982,0.398076862096786,-0.032882802188396,-0.225645750761032,0.091656230390072,-0.073540486395359,-0.030915593728423,0.122543804347515,0.097796030342579,-0.004958981182426,-0.092364281415939,0.137402191758156,-0.035205572843552,0.134977757930756));
res += mul(Get(s2,0,-dy), float4x4(-0.283082604408264,-0.154784932732582,-0.130982160568237,-0.082161635160446,-0.113471552729607,-0.169112503528595,0.176703348755836,-0.079276986420155,0.052672423422337,0.154804155230522,0.055935561656952,0.292924493551254,0.133206605911255,-0.101144388318062,0.005114676430821,-0.260684639215469));
res += mul(Get(s2,0,0), float4x4(-0.257899582386017,-0.431312829256058,-0.372468799352646,0.109958797693253,-0.195267140865326,-0.350689262151718,0.120795391499996,-0.387214511632919,0.285163909196854,-0.413006484508514,0.635171949863434,-0.145563960075378,0.615731656551361,0.118389360606670,0.375571310520172,-0.333597928285599));
res += mul(Get(s2,0,dy), float4x4(-0.172152429819107,0.065017223358154,-0.162572428584099,0.645312011241913,-0.057502385228872,-0.025208806619048,0.017612796276808,0.288296341896057,-0.193782240152359,-0.014580404385924,-0.020518256351352,0.067203283309937,0.012334175407887,-0.185235917568207,0.087146058678627,-0.088560119271278));
res += mul(Get(s2,dx,-dy), float4x4(0.090627126395702,0.011212388984859,-0.219302222132683,0.056155052036047,-0.071869134902954,0.010873845778406,-0.075579658150673,-0.111676692962646,-0.090528599917889,-0.067400835454464,0.250424653291702,-0.001795807736926,-0.036129567772150,-0.089284271001816,0.072899095714092,-0.096643760800362));
res += mul(Get(s2,dx,0), float4x4(-0.073844991624355,-0.166446030139923,0.264160424470901,0.100250527262688,0.282905906438828,0.229822695255280,0.041149247437716,-0.125971376895905,-0.048192810267210,-0.009783439338207,-0.044266220182180,-0.115341454744339,-0.179876863956451,-0.110029220581055,0.258474767208099,-0.217798173427582));
res += mul(Get(s2,dx,dy), float4x4(-0.030934402719140,-0.148608177900314,-0.086823098361492,0.175074115395546,-0.098763205111027,0.115683615207672,0.228018119931221,0.006414471194148,-0.012037311680615,-0.016883637756109,0.008900544606149,-0.176202833652496,-0.167680382728577,-0.028574064373970,-0.269856572151184,0.050217926502228));
res = max(float4(0, 0, 0, 0), res) + float4(0.255195140838623,-0.813475906848907,-0.333236992359161,0.045623440295458) * min(float4(0, 0, 0, 0), res);
return res;
}
