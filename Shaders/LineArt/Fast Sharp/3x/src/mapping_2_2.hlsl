sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.058152355253696,-0.072748348116875,0.197589069604874,-0.061936393380165);
res += mul(Get(s0,-dx,-dy), float4x4(0.221959799528122,-0.076433084905148,0.106768280267715,0.026338027790189,0.073500618338585,0.091464094817638,-0.122348681092262,0.026791665703058,0.104573428630829,-0.018383910879493,-0.026534143835306,0.019684765487909,-0.137373417615891,-0.161051720380783,-0.205466732382774,-0.075962468981743));
res += mul(Get(s0,-dx,0), float4x4(0.139693349599838,0.028053894639015,0.026376914232969,-0.549231767654419,0.184685647487640,0.181367039680481,-0.252226829528809,-0.045994821935892,-0.160072311758995,-0.152029916644096,0.069248512387276,0.113787434995174,-0.956678569316864,-0.057714827358723,-0.105866335332394,-0.072601504623890));
res += mul(Get(s0,-dx,dy), float4x4(0.031562238931656,0.031169150024652,-0.011574876494706,-0.002956676762551,0.040502358227968,0.185820877552032,0.011266543529928,-0.150902658700943,0.009779384359717,0.150032296776772,0.071154914796352,-0.024371201172471,-0.501300394535065,0.070750132203102,0.083721712231636,0.086064830422401));
res += mul(Get(s0,0,-dy), float4x4(0.565800189971924,-0.158178731799126,0.137968480587006,-0.179758384823799,0.144301399588585,0.002314620651305,0.015685275197029,0.089328199625015,0.237260058522224,-0.075224056839943,-0.022164564579725,0.257993787527084,0.151282891631126,-0.049391463398933,-0.134321942925453,-0.149315714836121));
res += mul(Get(s0,0,0), float4x4(-0.646981477737427,0.638715386390686,-0.060932010412216,1.094522237777710,0.287596970796585,-0.179877609014511,0.643978118896484,0.049606479704380,0.332459241151810,-0.249319553375244,0.116726703941822,0.195447430014610,0.256603837013245,0.071189872920513,-0.102872960269451,-0.245774105191231));
res += mul(Get(s0,0,dy), float4x4(0.171505093574524,-0.093575440347195,0.198680892586708,-0.210405379533768,-0.179225146770477,0.756112277507782,-0.253391295671463,0.018614849075675,0.183116555213928,0.342287600040436,0.417758971452713,-0.023162705823779,0.167724788188934,-0.309095531702042,0.072818048298359,-0.118524417281151));
res += mul(Get(s0,dx,-dy), float4x4(0.040644519031048,-0.068339370191097,-0.162767305970192,-0.085060752928257,0.286245107650757,0.022683454677463,0.178749084472656,0.117824025452137,0.194300860166550,0.002143310615793,0.147149085998535,0.004803407937288,-0.079528383910656,-0.064836181700230,-0.060294266790152,-0.131986677646637));
res += mul(Get(s0,dx,0), float4x4(-0.114278122782707,-0.052684817463160,0.179063156247139,0.347011297941208,0.301019549369812,0.110825903713703,0.030788138508797,0.083567142486572,0.151871100068092,-0.089936949312687,0.326355606317520,-0.088457949459553,-0.272375792264938,-0.090555153787136,-0.034610785543919,-0.002135809510946));
res += mul(Get(s0,dx,dy), float4x4(-0.002273118589073,0.014784114435315,0.009401959367096,0.047557905316353,0.042256042361259,0.268436759710312,0.096735104918480,0.061433609575033,0.180805936455727,0.262944340705872,0.114204689860344,-0.063169486820698,-0.107870988547802,-0.169245660305023,-0.407550692558289,-0.083205923438072));
res += mul(Get(s1,-dx,-dy), float4x4(-0.059275045990944,-0.058793853968382,0.029042720794678,-0.006097766105086,-0.425268590450287,0.007580169476569,0.074262619018555,-0.130248188972473,0.182951793074608,0.011076505295932,-0.086663439869881,0.009583854116499,-0.018514681607485,0.025848742574453,-0.163076043128967,0.106628142297268));
res += mul(Get(s1,-dx,0), float4x4(-0.050117041915655,-0.081473723053932,-0.124230295419693,0.046423867344856,-0.050188250839710,0.030763998627663,0.068636745214462,0.124504432082176,-0.079522453248501,0.238671958446503,-0.003503441810608,0.054960906505585,0.059272021055222,0.084682561457157,0.216475620865822,0.035319946706295));
res += mul(Get(s1,-dx,dy), float4x4(-0.470559835433960,-0.047816820442677,-0.316087365150452,0.128233209252357,-0.112503699958324,-0.328670859336853,-0.007983115501702,0.033738933503628,0.260776787996292,0.081582218408585,-0.003680032910779,-0.149855762720108,0.067143321037292,-0.342364519834518,0.165658846497536,-0.144004940986633));
res += mul(Get(s1,0,-dy), float4x4(-0.273203819990158,0.065751209855080,-0.131811872124672,-0.074536994099617,-0.568438410758972,0.240527525544167,-0.063611507415771,-0.245930597186089,0.262120604515076,-0.234290048480034,0.022138459607959,-0.064023718237877,-0.419388353824615,-0.055262599140406,-0.009956808760762,0.129962354898453));
res += mul(Get(s1,0,0), float4x4(-0.501910209655762,0.151316285133362,-0.704384267330170,0.132689177989960,-0.380727946758270,-0.009173489175737,-0.162343904376030,-0.104224286973476,0.155836135149002,-0.266876637935638,0.041959553956985,-0.538719236850739,-0.833768844604492,-0.104249522089958,0.096169605851173,0.329475194215775));
res += mul(Get(s1,0,dy), float4x4(-0.261566698551178,-0.447661042213440,-1.224557757377625,0.046723350882530,0.010330680757761,-0.877255141735077,-0.090967983007431,0.134001582860947,-0.178992703557014,0.344124466180801,-0.315427988767624,0.117600664496422,-0.000158545502927,-0.120217531919479,-0.048607930541039,0.025343297049403));
res += mul(Get(s1,dx,-dy), float4x4(-0.257305204868317,0.063198596239090,-0.147082164883614,0.007055068854243,-0.264573246240616,-0.021726777777076,0.076600693166256,-0.195665195584297,-0.082641765475273,-0.085466198623180,-0.030199149623513,-0.078180417418480,-0.101567625999451,0.001072011771612,0.101958520710468,-0.146874397993088));
res += mul(Get(s1,dx,0), float4x4(-0.099284119904041,0.070409789681435,-0.050862200558186,0.010146228596568,-0.145279437303543,-0.106171526014805,-0.028017694130540,-0.069548174738884,-0.186508968472481,-0.044611584395170,-0.101646840572357,0.269173264503479,0.290857374668121,-0.128443211317062,0.007670971564949,-0.204804927110672));
res += mul(Get(s1,dx,dy), float4x4(-0.212515130639076,-0.163666501641273,-0.247450113296509,0.127514168620110,-0.123684823513031,-0.289763480424881,0.030165396630764,0.043129988014698,-0.069611459970474,-0.101667448878288,-0.244500860571861,0.048578925430775,0.069297827780247,0.094114631414413,0.230663850903511,-0.146089732646942));
res += mul(Get(s2,-dx,-dy), float4x4(-0.098450437188148,0.092132136225700,-0.073051132261753,-0.103926032781601,-0.042035281658173,0.035110291093588,0.158222600817680,-0.053777717053890,0.213713705539703,-0.262056052684784,0.054374329745770,-0.180737689137459,0.061929993331432,-0.028357593342662,0.149488940834999,-0.070926919579506));
res += mul(Get(s2,-dx,0), float4x4(-0.003022866789252,-0.037622299045324,0.036433175206184,0.050475813448429,0.110127963125706,-0.019217539578676,-0.107928410172462,-0.167311266064644,0.044781196862459,0.037152647972107,0.035184569656849,0.054935075342655,-0.190516665577888,0.220096781849861,0.139066040515900,0.041998989880085));
res += mul(Get(s2,-dx,dy), float4x4(-0.019140569493175,0.092081129550934,-0.103259444236755,-0.211189731955528,0.027912337332964,0.042673293501139,-0.007026390172541,0.132813528180122,-0.101651400327682,0.050077520310879,-0.054915472865105,0.137345895171165,0.122827932238579,-0.081169724464417,0.013386360369623,-0.200834929943085));
res += mul(Get(s2,0,-dy), float4x4(0.032843455672264,0.161111801862717,-0.045859731733799,0.484317213296890,-0.222030088305473,0.172918453812599,0.109125249087811,-0.215412288904190,-0.406177163124084,0.017185587435961,0.180770874023438,0.272024065256119,0.427702933549881,-0.114313393831253,0.134508281946182,-0.019973907619715));
res += mul(Get(s2,0,0), float4x4(-0.010976126417518,-0.856472134590149,0.048591475933790,-0.288429141044617,0.036450795829296,-0.203192949295044,-0.617111802101135,-0.060837570577860,0.072309836745262,-0.344023585319519,0.148901492357254,-0.016220521181822,-1.282922506332397,0.108276277780533,-0.171986147761345,0.330215394496918));
res += mul(Get(s2,0,dy), float4x4(-0.025031648576260,-0.362129867076874,0.523079931735992,0.073329783976078,0.040540330111980,-0.247952505946159,-0.608770430088043,-0.056105483323336,0.074122659862041,0.108926378190517,0.047584708780050,-0.161313161253929,0.271053969860077,-1.171487092971802,0.092519447207451,0.216963097453117));
res += mul(Get(s2,dx,-dy), float4x4(0.143113419413567,0.089150264859200,-0.004304470494390,0.205819994211197,-0.335416734218597,0.146528556942940,-0.205000236630440,-0.237779229879379,-0.102502129971981,0.161497548222542,-0.042254753410816,-0.029323445633054,-0.078999273478985,-0.094604626297951,-0.065786607563496,-0.168115571141243));
res += mul(Get(s2,dx,0), float4x4(-0.121312238276005,0.050231266766787,-0.081563346087933,0.002781191142276,-0.936071276664734,0.206438466906548,-0.972642302513123,-0.331494957208633,0.065424121916294,0.191625699400902,-0.031775727868080,-0.121598944067955,-0.213394999504089,0.081438489258289,-0.255872994661331,0.323652684688568));
res += mul(Get(s2,dx,dy), float4x4(-0.063032276928425,-0.066478304564953,-0.115809313952923,-0.034689426422119,-0.283181518316269,-0.458243221044540,-0.600763440132141,-0.089839592576027,0.097099654376507,0.108653500676155,-0.075869895517826,-0.306248158216476,0.034804593771696,-0.236324772238731,-0.055150169879198,0.209559619426727));
res = max(float4(0, 0, 0, 0), res) + float4(-0.070851512253284,0.003060037735850,-0.010931991972029,0.741522073745728) * min(float4(0, 0, 0, 0), res);
return res;
}
