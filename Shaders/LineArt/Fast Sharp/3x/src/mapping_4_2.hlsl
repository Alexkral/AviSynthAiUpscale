sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.037531927227974,-0.097990520298481,0.126726642251015,0.077175565063953);
res += mul(Get(s0,-dx,-dy), float4x4(-0.143636181950569,-0.184866353869438,-0.079509578645229,0.121204219758511,-0.107444457709789,-0.066142603754997,-0.068302974104881,0.062612093985081,-0.033521734178066,0.087368264794350,0.164170905947685,0.279957234859467,0.025587387382984,0.045042909681797,-0.033690828830004,0.043712593615055));
res += mul(Get(s0,-dx,0), float4x4(0.028696035966277,0.141759276390076,0.014674338512123,-0.232377290725708,0.231248468160629,-0.242570713162422,0.274887740612030,-0.031995810568333,-0.114660046994686,0.093670010566711,-0.341519236564636,0.265829324722290,-0.279643833637238,-0.153812780976295,-0.312350928783417,0.055391568690538));
res += mul(Get(s0,-dx,dy), float4x4(0.129131495952606,0.149687960743904,-0.104015477001667,-0.057709373533726,-0.202896565198898,0.079018644988537,-0.026339001953602,-0.086014971137047,-0.049607317894697,-0.061246752738953,0.060560155659914,0.090896099805832,-0.039789900183678,-0.129823014140129,-0.009860883466899,0.036152329295874));
res += mul(Get(s0,0,-dy), float4x4(0.200820177793503,0.089434877038002,0.239465400576591,0.139219492673874,-0.080387547612190,-0.092586137354374,0.123035460710526,0.037529997527599,-0.309604197740555,-0.280009418725967,-0.054739680141211,0.006644092965871,0.119208075106144,0.037833601236343,0.040956832468510,-0.059422291815281));
res += mul(Get(s0,0,0), float4x4(-0.403621464967728,0.151623338460922,0.610979735851288,0.430869579315186,0.152677312493324,-0.116293735802174,0.108753360807896,0.406541943550110,-0.131963193416595,0.163610756397247,-0.432666778564453,-0.025992164388299,-0.884495794773102,-0.515499472618103,-0.904890954494476,-0.056776981800795));
res += mul(Get(s0,0,dy), float4x4(0.062220621854067,0.365790277719498,-0.216394126415253,0.059283014386892,-0.244263947010040,0.203224420547485,-0.139147415757179,0.002666964894161,0.015621117316186,-0.009503982961178,-0.082703404128551,0.047129999846220,-0.358932793140411,-0.228860318660736,-0.187863811850548,-0.002427715109661));
res += mul(Get(s0,dx,-dy), float4x4(0.124799914658070,0.184879064559937,-0.100014150142670,-0.133500918745995,0.036935225129128,-0.122449040412903,0.042284969240427,-0.049486033618450,0.073012121021748,0.090993992984295,-0.021969407796860,-0.044547945261002,-0.036690108478069,0.020637117326260,0.012023708783090,0.034063730388880));
res += mul(Get(s0,dx,0), float4x4(-0.143345102667809,0.492983996868134,-0.099774181842804,-0.291799426078796,0.058740079402924,0.710229933261871,-0.305002927780151,-0.380356460809708,-0.049898691475391,-0.271666288375854,-0.074854783713818,-0.119557633996010,-0.131183281540871,-0.214263051748276,0.064747877418995,0.130430534482002));
res += mul(Get(s0,dx,dy), float4x4(-0.060905374586582,-0.323431640863419,0.006262169219553,0.040558423846960,0.004687410313636,-0.311180382966995,-0.002430532593280,0.087052106857300,-0.096069008111954,-0.069183386862278,-0.045982241630554,-0.063865542411804,-0.135256797075272,-0.048431422561407,-0.000707486411557,0.012172428891063));
res += mul(Get(s1,-dx,-dy), float4x4(0.033089485019445,-0.006484660785645,0.081506744027138,0.004364141263068,-0.022492319345474,0.097898162901402,0.098429329693317,0.028814950957894,0.122264854609966,-0.007661220617592,0.073238343000412,-0.033254563808441,-0.010142216458917,-0.010167285799980,-0.093615405261517,0.175746187567711));
res += mul(Get(s1,-dx,0), float4x4(0.106998503208160,-0.168456792831421,-0.171578958630562,0.017968507483602,-0.153412908315659,-0.358623355627060,0.646349847316742,-0.013784267008305,0.085795745253563,0.045330107212067,-0.101206824183464,0.329193383455276,-0.037205468863249,0.224595069885254,-0.370330452919006,0.107902042567730));
res += mul(Get(s1,-dx,dy), float4x4(0.005808701273054,-0.086402520537376,0.050058085471392,0.044132545590401,-0.129979521036148,0.086607865989208,-0.014153182506561,-0.083075463771820,0.204472437500954,-0.040257550776005,0.035271137952805,0.003329873317853,0.014767231419683,-0.108524434268475,0.030917286872864,0.069699361920357));
res += mul(Get(s1,0,-dy), float4x4(0.139182969927788,0.117302566766739,-0.254304647445679,-0.054319206625223,0.060907140374184,0.176787480711937,0.140511304140091,0.006292761303484,-0.108458854258060,-0.228627473115921,0.390685379505157,0.048895232379436,0.120223440229893,0.154456168413162,-0.243120357394218,-0.140819981694221));
res += mul(Get(s1,0,0), float4x4(0.704915344715118,-0.083898723125458,0.195869505405426,-0.109248787164688,-0.676712155342102,-0.254971265792847,-0.208485320210457,-0.153001323342323,0.519117832183838,-0.038902778178453,0.318385154008865,-0.195504561066628,-0.371146291494370,-0.510469794273376,-0.368066161870956,-0.087841801345348));
res += mul(Get(s1,0,dy), float4x4(-0.316006511449814,-0.327161937952042,0.067119315266609,0.012060581706464,0.073433414101601,-0.039021704345942,0.043776888400316,0.062180358916521,0.236098527908325,0.032247133553028,0.074085325002670,-0.130512580275536,-0.049412477761507,-0.216890677809715,0.186887785792351,0.025870779529214));
res += mul(Get(s1,dx,-dy), float4x4(0.042563077062368,-0.322898060083389,0.020549114793539,0.031929280608892,-0.009075486101210,0.020244332030416,0.035006627440453,-0.037833102047443,-0.097734861075878,0.022325601428747,-0.037638079375029,-0.071797668933868,0.037901580333710,-0.168101638555527,0.057927031069994,0.072992734611034));
res += mul(Get(s1,dx,0), float4x4(0.078663215041161,-0.214361146092415,0.106617070734501,0.097012780606747,-0.098705083131790,0.222069382667542,-0.106893934309483,-0.038079619407654,0.400480955839157,0.101658545434475,-0.133503556251526,0.058052033185959,-0.202929571270943,-0.265683889389038,0.015445634722710,-0.035283070057631));
res += mul(Get(s1,dx,dy), float4x4(0.094933122396469,0.037582576274872,0.063468188047409,-0.004036959726363,-0.066399835050106,-0.019079066812992,0.015168601647019,0.046261403709650,0.083388954401016,-0.098326176404953,0.013202925212681,0.061428580433130,-0.089918099343777,0.203589797019958,-0.059298653155565,0.007153932470828));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031109699979424,0.107449494302273,-0.157877758145332,-0.120232038199902,0.023163283243775,0.016600653529167,0.124527879059315,0.083297543227673,0.001963170710951,0.170844390988350,-0.097319304943085,0.170369133353233,-0.046051591634750,-0.110869400203228,-0.201403900980949,-0.074405245482922));
res += mul(Get(s2,-dx,0), float4x4(0.129706740379333,0.201610326766968,-0.082866013050079,-0.249541014432907,-0.011654453352094,-0.163479998707771,-0.018154833465815,0.038005746901035,-0.123614698648453,0.052925333380699,-0.060169432312250,0.041568882763386,0.014637544751167,0.124334096908569,0.053659770637751,0.195764198899269));
res += mul(Get(s2,-dx,dy), float4x4(-0.079763174057007,-0.093735471367836,0.010948926210403,-0.057452578097582,0.050296474248171,0.043089341372252,0.032178778201342,-0.008398984558880,-0.149728879332542,0.013226240873337,0.050526890903711,0.088166862726212,0.192799434065819,0.139037042856216,-0.038748588413000,0.343777000904083));
res += mul(Get(s2,0,-dy), float4x4(0.079258754849434,-0.038326624780893,-0.291965425014496,0.063528575003147,0.010180541314185,-0.036046653985977,0.013619388453662,-0.137370616197586,-0.196694403886795,-0.021519010886550,-0.004962332546711,-0.187774762511253,0.191098645329475,0.137148782610893,-0.010245211422443,-0.002556771505624));
res += mul(Get(s2,0,0), float4x4(0.404693752527237,-0.021351750940084,0.457861840724945,-0.126738339662552,-0.081954933702946,0.215725719928741,0.006477750372142,-0.243884637951851,0.263891339302063,0.449409633874893,-0.360296785831451,0.073642425239086,-0.889097929000854,-0.315454721450806,0.002032759366557,-0.188232555985451));
res += mul(Get(s2,0,dy), float4x4(-0.106133580207825,-0.093894846737385,0.162923052906990,0.065969794988632,0.171689525246620,0.037490479648113,0.037727288901806,-0.021722532808781,-0.189417064189911,0.147909581661224,-0.001985632814467,0.076071821153164,0.469712227582932,0.437854617834091,-0.271440356969833,-0.188493132591248));
res += mul(Get(s2,dx,-dy), float4x4(0.083791516721249,-0.129802137613297,0.036075402051210,0.055127657949924,0.031490292400122,-0.044231932610273,0.056233435869217,0.123952291905880,-0.160248577594757,0.091282725334167,0.000856022175867,0.144833877682686,0.049082059413195,0.074779815971851,0.034857574850321,0.032032784074545));
res += mul(Get(s2,dx,0), float4x4(-0.069320783019066,-0.412430793046951,0.059263098984957,0.074806116521358,-0.120861612260342,-0.017936902120709,0.135446369647980,0.162451341748238,0.052007131278515,0.224035516381264,0.012760493904352,-0.092794939875603,-0.268205642700195,-0.179379627108574,0.162652000784874,0.029766505584121));
res += mul(Get(s2,dx,dy), float4x4(-0.057140871882439,0.114578060805798,0.052485413849354,-0.031548060476780,0.172862797975540,0.074466437101364,0.004156748298556,-0.026114316657186,-0.080344796180725,0.124874286353588,-0.067700080573559,-0.121607273817062,0.458506137132645,-0.226749390363693,0.019487159326673,-0.027882052585483));
res = max(float4(0, 0, 0, 0), res) + float4(-0.120544455945492,0.003547079395503,-0.104299381375313,3.531428575515747) * min(float4(0, 0, 0, 0), res);
return res;
}
