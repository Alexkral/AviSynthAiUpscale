sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.369174182415009,-0.015024775639176,-0.001368978177197,-0.116559483110905);
res += mul(Get(s0,-dx,-dy), float4x4(0.001124813570641,-0.026750490069389,-0.124594904482365,-0.083203494548798,0.048890076577663,-0.190376147627831,0.032203532755375,-0.094622246921062,-0.181373119354248,0.071988672018051,-0.062076136469841,0.080550581216812,-0.066276937723160,0.014179183170199,0.092959389090538,0.007089198566973));
res += mul(Get(s0,-dx,0), float4x4(-0.813755750656128,0.388143420219421,0.439634948968887,0.254542559385300,0.263315379619598,-0.230885088443756,-0.225553706288338,-0.270672559738159,-0.088605605065823,0.167200401425362,-0.062057062983513,0.056998908519745,-0.183529481291771,0.227881804108620,0.012280607596040,0.259828895330429));
res += mul(Get(s0,-dx,dy), float4x4(-0.176962718367577,0.167711153626442,0.074509069323540,-0.105816930532455,0.184906110167503,-0.246459752321243,-0.089956626296043,-0.209999397397041,0.141729429364204,0.003450589021668,-0.055041134357452,-0.081863105297089,-0.018443059176207,-0.083621934056282,-0.074741676449776,-0.260631829500198));
res += mul(Get(s0,0,-dy), float4x4(-0.137101322412491,0.309520095586777,0.232922077178955,0.115103796124458,0.063546784222126,0.279121458530426,-0.066381789743900,-0.072879739105701,0.165767297148705,-0.064027756452560,0.151850670576096,-0.191672310233116,0.405596762895584,-0.319521158933640,-0.280608832836151,-0.327015817165375));
res += mul(Get(s0,0,0), float4x4(1.083984375000000,-0.590496361255646,-0.565532505512238,-0.044560749083757,0.573528826236725,-0.189252123236656,-0.170641243457794,-0.054354622960091,-0.031881932169199,-0.189261108636856,0.159184545278549,0.010205581784248,-0.182891130447388,-0.173043400049210,0.251813769340515,0.072695672512054));
res += mul(Get(s0,0,dy), float4x4(-0.336214810609818,-0.375935316085815,0.036859199404716,0.215029925107956,0.226578593254089,-0.194107353687286,-0.223277240991592,-0.366246312856674,0.029110828414559,0.082275792956352,0.025297513231635,0.039527688175440,-0.387784749269485,0.258296519517899,0.176473274827003,0.258163958787918));
res += mul(Get(s0,dx,-dy), float4x4(0.199019953608513,0.103298813104630,0.044066917151213,-0.104232758283615,0.164481833577156,-0.080605141818523,-0.001926919678226,-0.078974701464176,0.085862979292870,-0.323291301727295,0.279791593551636,0.055438864976168,0.101043030619621,-0.218900382518768,-0.064679212868214,-0.167792335152626));
res += mul(Get(s0,dx,0), float4x4(0.282840698957443,-0.065276317298412,-0.038431610912085,-0.048531416803598,0.053650002926588,-0.006450297310948,-0.291330635547638,0.066481374204159,0.007578173652291,0.153286784887314,-0.023498004302382,-0.056677021086216,-0.150839552283287,0.078048832714558,0.159993767738342,-0.019264196977019));
res += mul(Get(s0,dx,dy), float4x4(-0.300618827342987,-0.057368200272322,0.040795635432005,-0.266053587198257,0.082854680716991,-0.160997152328491,-0.044976375997066,-0.020210815593600,0.180663645267487,0.081297054886818,-0.069889023900032,0.045378740876913,0.141952738165855,-0.125010073184967,-0.084492743015289,-0.120246976613998));
res += mul(Get(s1,-dx,-dy), float4x4(0.021658159792423,-0.003580039832741,-0.029229590669274,0.032666724175215,-0.171724379062653,-0.178913906216621,0.004575229715556,0.100736424326897,0.039755746722221,0.047349955886602,-0.302391529083252,-0.285745322704315,-0.019064508378506,-0.089104965329170,-0.044973429292440,-0.050036977976561));
res += mul(Get(s1,-dx,0), float4x4(-0.007969105616212,-0.060230944305658,-0.123186334967613,0.052315853536129,0.312304824590683,0.154109627008438,0.401409029960632,0.075818680226803,-0.107470542192459,-0.953135907649994,-0.299461007118225,-1.030683755874634,0.149968981742859,0.167839080095291,0.390575230121613,0.272863060235977));
res += mul(Get(s1,-dx,dy), float4x4(-0.038394778966904,0.034261960536242,0.167456224560738,0.059863325208426,0.323686391115189,-0.198559939861298,-0.005631272215396,-0.224269703030586,0.110375873744488,-0.143868088722229,-0.239118903875351,-0.318011343479156,0.222076758742332,-0.210687607526779,0.276155233383179,0.034617628902197));
res += mul(Get(s1,0,-dy), float4x4(-0.203643649816513,0.138635709881783,-0.279996305704117,-0.044776540249586,-0.088861376047134,0.138930544257164,0.114296413958073,0.331292688846588,0.026524050161242,-0.407898992300034,-0.101875960826874,-0.103522315621376,-0.058356486260891,-0.118654690682888,0.067068032920361,-0.333283931016922));
res += mul(Get(s1,0,0), float4x4(0.144076734781265,0.053054306656122,0.195265188813210,-0.094697386026382,0.360714167356491,1.483657121658325,0.489615619182587,0.810670375823975,0.128766179084778,0.099058687686920,0.072403907775879,0.327326416969299,0.294155567884445,-0.107014782726765,0.099035628139973,-0.604629933834076));
res += mul(Get(s1,0,dy), float4x4(0.076815880835056,0.004422781988978,0.090081483125687,-0.246257856488228,0.139138296246529,0.064219057559967,0.109971277415752,-0.101441055536270,0.034381870180368,-0.241572111845016,0.048677671700716,0.001789764733985,0.196982994675636,0.068424753844738,0.033077362924814,-0.542840778827667));
res += mul(Get(s1,dx,-dy), float4x4(-0.586903035640717,0.323291718959808,0.103274881839752,0.307204335927963,0.017694171518087,-0.607816398143768,-0.241013273596764,-0.426594227552414,0.019057022407651,-0.067205935716629,-0.031671121716499,-0.208239510655403,-0.090003669261932,-0.083968192338943,0.084637589752674,0.004174676723778));
res += mul(Get(s1,dx,0), float4x4(-0.196691736578941,0.393033087253571,-0.985698819160461,-0.425688385963440,-0.177461028099060,0.133483171463013,-0.006091315764934,0.352774947881699,0.016466159373522,0.123461872339249,0.186256602406502,0.013438143767416,-0.023647282272577,0.035101186484098,-0.159361645579338,0.509012162685394));
res += mul(Get(s1,dx,dy), float4x4(-0.012597764842212,-0.338010162115097,-0.130100801587105,-0.342424184083939,0.053906656801701,-0.040856406092644,-0.088153734803200,-0.129149407148361,0.040271252393723,0.103733666241169,0.011630279012024,-0.086832895874977,-0.087076328694820,0.049867540597916,-0.136695235967636,0.079568274319172));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024706117808819,0.062401410192251,-0.070106081664562,-0.056736640632153,-0.055523846298456,0.115916438400745,0.008672570809722,-0.119251817464828,-0.289266765117645,0.053751025348902,-0.005811776965857,0.247316241264343,0.088519558310509,-0.235266059637070,-0.056428223848343,0.014727053232491));
res += mul(Get(s2,-dx,0), float4x4(-0.074543602764606,0.079913869500160,-0.251963675022125,0.108532756567001,-0.192076757550240,-0.161980688571930,0.169920131564140,0.210937872529030,0.071115747094154,-0.298923730850220,0.110388979315758,-0.223104894161224,0.100147597491741,0.292533487081528,0.312504053115845,0.559272766113281));
res += mul(Get(s2,-dx,dy), float4x4(0.036275107413530,-0.132511317729950,0.026346882805228,-0.008302764035761,0.095929138362408,0.013852297328413,-0.027343640103936,0.130537927150726,0.247001305222511,-0.003065569093451,0.002215125132352,-0.109974533319473,0.364916980266571,-0.117099791765213,-0.287262916564941,-0.169118091464043));
res += mul(Get(s2,0,-dy), float4x4(-0.071988537907600,-0.085245162248611,0.071616366505623,-0.004889189731330,0.126522049307823,0.013752344064415,0.085271663963795,0.077977083623409,0.078885219991207,0.043220825493336,0.054234262555838,0.097152307629585,-0.025841012597084,0.093903198838234,0.245819941163063,0.327816635370255));
res += mul(Get(s2,0,0), float4x4(-0.308179616928101,-0.576455533504486,0.002304248511791,0.016428377479315,0.298831075429916,-0.046132847666740,-0.055891349911690,-0.336059838533401,-0.161420449614525,0.265881210565567,-0.278557270765305,0.192727074027061,-0.205825433135033,0.849918484687805,0.641817629337311,0.687977612018585));
res += mul(Get(s2,0,dy), float4x4(-0.107904061675072,-0.208536624908447,0.066350370645523,-0.005070852115750,0.074738740921021,-0.043157067149878,0.009600803256035,-0.175241202116013,0.580026805400848,-0.192587971687317,-0.093989670276642,-0.102215796709061,0.557914555072784,-0.054473195225000,-0.043170817196369,-0.429159611463547));
res += mul(Get(s2,dx,-dy), float4x4(-0.054309092462063,0.047955736517906,-0.093492634594440,0.003198062069714,-0.019633637741208,0.268199771642685,-0.032441809773445,0.141976177692413,-0.143738225102425,0.161486670374870,0.218546807765961,-0.026316536590457,-0.169391617178917,-0.274029463529587,-0.138171941041946,-0.465801775455475));
res += mul(Get(s2,dx,0), float4x4(-0.187706574797630,-0.141579002141953,0.086820706725121,-0.315608620643616,-0.379530251026154,-0.161694839596748,-0.086106285452843,0.450766295194626,0.013010149821639,-0.044839814305305,-0.011401890777051,-0.035208482295275,0.286193549633026,-0.377686351537704,-0.040864534676075,-0.385788470506668));
res += mul(Get(s2,dx,dy), float4x4(-0.112614765763283,-0.028055636212230,-0.029216038063169,-0.286567926406860,-0.025289842858911,0.080466993153095,-0.126036614179611,-0.031180443242192,0.140474587678909,0.059267319738865,-0.049604639410973,-0.043279729783535,-0.026778133586049,-0.229463562369347,-0.341983854770660,-0.178266003727913));
res = max(float4(0, 0, 0, 0), res) + float4(0.798700749874115,-0.696154415607452,-0.677395343780518,-0.156475275754929) * min(float4(0, 0, 0, 0), res);
return res;
}
