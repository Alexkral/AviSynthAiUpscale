sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.117989875376225,0.250113576650620,0.021381832659245,-0.117658317089081);
res += float4(-0.013757111504674,0.040468379855156,-0.007468787953258,0.063709802925587) * Get(-ddx,-ddy);
res += float4(0.017181305214763,0.016682052984834,0.040754932910204,-0.068507298827171) * Get(-ddx,-dy);
res += float4(-0.016661856323481,-0.015307065099478,0.026367641985416,0.064874559640884) * Get(-ddx,0);
res += float4(-0.012585868127644,0.009302346035838,-0.040660880506039,-0.056952256709337) * Get(-ddx,dy);
res += float4(-0.001348111545667,0.083459071815014,-0.005908687133342,0.014529948122799) * Get(-ddx,ddy);
res += float4(-0.001001951168291,-0.038509059697390,0.017734743654728,0.031117992475629) * Get(-dx,-ddy);
res += float4(-0.056666355580091,0.044453024864197,-0.129133477807045,-0.118203185498714) * Get(-dx,-dy);
res += float4(-0.243491262197495,-0.445515751838684,0.155954375863075,0.237036705017090) * Get(-dx,0);
res += float4(0.153003618121147,-0.111277170479298,-0.366405308246613,-0.075835473835468) * Get(-dx,dy);
res += float4(-0.052856776863337,-0.021078623831272,0.425482869148254,-0.022069366648793) * Get(-dx,ddy);
res += float4(-0.177771195769310,-0.048717547208071,0.031895872205496,0.157706201076508) * Get(0,-ddy);
res += float4(0.261742502450943,-0.143624871969223,0.093441680073738,0.454586207866669) * Get(0,-dy);
res += float4(-1.094534993171692,-0.583141267299652,-0.127814322710037,-0.052637159824371) * Get(0,0);
res += float4(0.367208093404770,0.056283768266439,-0.364833980798721,-0.356061130762100) * Get(0,dy);
res += float4(0.025340888649225,-0.022260209545493,0.239772230386734,-0.067440442740917) * Get(0,ddy);
res += float4(0.059613611549139,-0.067109212279320,-0.052092857658863,0.082621961832047) * Get(dx,-ddy);
res += float4(0.092324897646904,-0.070764698088169,-0.025670476257801,-0.238276496529579) * Get(dx,-dy);
res += float4(0.688194036483765,-0.405388057231903,0.133279219269753,0.211501136422157) * Get(dx,0);
res += float4(-0.225872263312340,-0.277223855257034,-0.025735612958670,-0.037937335669994) * Get(dx,dy);
res += float4(0.085420012474060,0.018155196681619,-0.006130486726761,0.029564986005425) * Get(dx,ddy);
res += float4(-0.007497872225940,-0.021691270172596,0.050054565072060,-0.035658601671457) * Get(ddx,-ddy);
res += float4(-0.006774828769267,0.112106680870056,-0.051209136843681,0.065708622336388) * Get(ddx,-dy);
res += float4(-0.049815807491541,0.011503789573908,-0.029140420258045,0.024655690416694) * Get(ddx,0);
res += float4(-0.003936733584851,0.104031294584274,0.031625524163246,-0.045202210545540) * Get(ddx,dy);
res += float4(-0.008303463459015,0.035692416131496,0.004008104559034,-0.057941794395447) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.982648670673370,0.223985731601715,-0.028199851512909,0.778321266174316) * min(float4(0, 0, 0, 0), res);
return res;
}
