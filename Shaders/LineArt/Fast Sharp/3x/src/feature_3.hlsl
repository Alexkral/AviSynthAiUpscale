sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.043202605098486,0.149686262011528,-0.097993396222591,-0.526596009731293);
res += float4(-0.020025279372931,0.043034605681896,0.049201097339392,-0.004735501483083) * Get(-ddx,-ddy);
res += float4(-0.062554784119129,0.064148560166359,-0.076815113425255,-0.016904026269913) * Get(-ddx,-dy);
res += float4(0.044120922684669,-0.175560727715492,0.181999534368515,0.008990436792374) * Get(-ddx,0);
res += float4(0.047223404049873,0.015579842031002,-0.143412724137306,0.025992792099714) * Get(-ddx,dy);
res += float4(-0.019475502893329,0.001055370550603,-0.018071597442031,-0.007220332976431) * Get(-ddx,ddy);
res += float4(0.086639873683453,-0.039849128574133,0.004747684579343,-0.022997837513685) * Get(-dx,-ddy);
res += float4(0.147315666079521,0.006002441514283,0.035342276096344,0.069706656038761) * Get(-dx,-dy);
res += float4(-0.381650507450104,0.381883710622787,-0.301030606031418,-0.218072250485420) * Get(-dx,0);
res += float4(0.043715637177229,0.205998227000237,0.436258852481842,-0.023311572149396) * Get(-dx,dy);
res += float4(0.027281945571303,-0.008410940878093,-0.101628169417381,-0.000947556458414) * Get(-dx,ddy);
res += float4(-0.022359807044268,0.175866857171059,0.200811222195625,0.019244844093919) * Get(0,-ddy);
res += float4(0.818266570568085,-0.017603272572160,-0.532467663288116,-0.163003057241440) * Get(0,-dy);
res += float4(-0.482083112001419,-0.574883162975311,0.355303525924683,1.049446582794189) * Get(0,0);
res += float4(-0.148223176598549,0.028067110106349,-0.167479678988457,0.065469436347485) * Get(0,dy);
res += float4(-0.037294402718544,-0.067133359611034,0.131124585866928,0.042899321764708) * Get(0,ddy);
res += float4(-0.032557006925344,0.033733610063791,-0.013859241269529,0.008620757609606) * Get(dx,-ddy);
res += float4(0.104007817804813,-0.094772540032864,0.151552677154541,-0.116301372647285) * Get(dx,-dy);
res += float4(-0.171263545751572,0.097909078001976,-0.191693767905235,0.205931887030602) * Get(dx,0);
res += float4(0.019856957718730,-0.184548661112785,0.051885198801756,-0.143062263727188) * Get(dx,dy);
res += float4(0.024515174329281,-0.016280563548207,0.024326978251338,-0.031145192682743) * Get(dx,ddy);
res += float4(0.004599560052156,0.068150587379932,-0.016657235100865,0.001707298215479) * Get(ddx,-ddy);
res += float4(-0.019250879064202,-0.093002736568451,-0.089922718703747,0.009053294546902) * Get(ddx,-dy);
res += float4(0.026458634063601,-0.160876154899597,0.291988581418991,-0.060724176466465) * Get(ddx,0);
res += float4(0.007203645538539,0.125074282288551,-0.126691743731499,0.040724337100983) * Get(ddx,dy);
res += float4(-0.007138338871300,-0.036140471696854,-0.017336271703243,0.001293787849136) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.417301505804062,0.976239085197449,0.982427656650543,0.377231955528259) * min(float4(0, 0, 0, 0), res);
return res;
}
