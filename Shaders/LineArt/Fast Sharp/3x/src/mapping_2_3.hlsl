sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.150323629379272,0.050372544676065,0.034626256674528,-0.042200144380331);
res += mul(Get(s0,-dx,-dy), float4x4(-0.110915459692478,-0.256966114044189,0.056850735098124,0.042312301695347,0.275518208742142,-0.071624472737312,0.106656387448311,0.051236197352409,-0.146378785371780,-0.061497073620558,0.129907548427582,0.151481226086617,-0.330377578735352,-0.206417769193649,-0.305996775627136,0.018333725631237));
res += mul(Get(s0,-dx,0), float4x4(0.127049133181572,-0.094459280371666,0.184266582131386,-0.364408046007156,0.435476869344711,0.108621492981911,-0.029398025944829,0.214093208312988,-0.128240883350372,-0.116997756063938,-0.142054587602615,0.261741012334824,-0.674887359142303,0.304830342531204,-0.485031127929688,0.457573980093002));
res += mul(Get(s0,-dx,dy), float4x4(-0.043710943311453,0.038823813199997,0.050956979393959,-0.054535474628210,0.563469648361206,0.063670635223389,-0.020677801221609,0.088529586791992,0.016684088855982,-0.000910299888346,0.024000668898225,-0.011693912558258,-0.904407203197479,0.133635342121124,-0.049563985317945,0.080469943583012));
res += mul(Get(s0,0,-dy), float4x4(0.210428103804588,-0.404792964458466,-0.118109688162804,0.360257089138031,0.138177767395973,0.029974557459354,0.108029574155807,-0.039411693811417,-0.224992394447327,0.284556567668915,0.026262436062098,0.118158228695393,-0.160334989428520,0.183013647794724,-0.344926238059998,-0.053016163408756));
res += mul(Get(s0,0,0), float4x4(-0.072625443339348,-0.004335920326412,-0.890350401401520,0.103144980967045,0.234709396958351,-0.133699193596840,-0.019336650148034,0.185470491647720,0.372945159673691,-0.485489308834076,-0.216527238488197,-0.223016798496246,0.227123647928238,-0.089337468147278,-0.276381731033325,0.150381758809090));
res += mul(Get(s0,0,dy), float4x4(0.128884479403496,0.103133298456669,0.133980661630630,0.287816166877747,0.282942831516266,-0.055641952902079,0.102483242750168,0.274596989154816,0.433108359575272,-0.111060827970505,0.032180815935135,0.093410000205040,-0.114390544593334,-0.010720976628363,-0.394247472286224,-0.001565094804391));
res += mul(Get(s0,dx,-dy), float4x4(0.003102409420535,0.186473548412323,0.115908920764923,0.074975043535233,0.147943004965782,-0.227037951350212,-0.011763731017709,0.006841677706689,-0.131870344281197,0.043320041149855,-0.128119438886642,-0.056485962122679,-0.039599295705557,-0.001486755791120,-0.119179904460907,0.101044081151485));
res += mul(Get(s0,dx,0), float4x4(-0.293694883584976,-0.049596611410379,0.063187137246132,-0.541260838508606,0.034120023250580,-0.076386757194996,-0.007099874783307,0.155131295323372,-0.274757862091064,-0.196023374795914,-0.074731707572937,-0.049295268952847,-0.192572668194771,-0.301802664995193,-0.102232523262501,0.104869648814201));
res += mul(Get(s0,dx,dy), float4x4(-0.031523343175650,-0.033097453415394,-0.115365430712700,-0.031045628711581,0.227042973041534,0.081384271383286,-0.024898754432797,0.012239347212017,0.074529662728310,-0.137221097946167,-0.020255628973246,-0.014986420981586,0.079995907843113,0.200923621654510,-0.077708698809147,0.146915301680565));
res += mul(Get(s1,-dx,-dy), float4x4(0.003665749914944,0.073463678359985,0.004206506069750,-0.139939233660698,-0.133574321866035,-0.214424595236778,0.051365423947573,-0.236966267228127,0.025323685258627,-0.285858899354935,0.059844873845577,-0.038217395544052,0.115733191370964,-0.039438996464014,0.057242173701525,-0.063324943184853));
res += mul(Get(s1,-dx,0), float4x4(0.002440679585561,0.019335985183716,-0.020879494026303,-0.065206028521061,-0.567918121814728,-0.382818698883057,0.128774464130402,-0.248886421322823,0.238478362560272,0.178241729736328,-0.073196366429329,0.075520828366280,-0.049868941307068,-0.318917393684387,0.010857250541449,-0.006459490396082));
res += mul(Get(s1,-dx,dy), float4x4(-0.053745385259390,0.487978428602219,-0.123936615884304,0.050695329904556,-0.191814005374908,-0.151704072952271,0.098210878670216,-0.033449266105890,0.248033389449120,-0.093698687851429,0.218052268028259,-0.162323817610741,-0.134137511253357,-0.185919433832169,-0.204541891813278,-0.102458238601685));
res += mul(Get(s1,0,-dy), float4x4(-0.012593166902661,0.119450926780701,0.074368506669998,-0.174140647053719,-0.358305275440216,-0.443647533655167,0.053638882935047,-0.093559436500072,-0.271307706832886,0.166285857558250,0.174928963184357,0.088326692581177,-0.120187535881996,-0.087046623229980,0.054417379200459,-0.119973890483379));
res += mul(Get(s1,0,0), float4x4(-0.038431201130152,0.459285825490952,0.330850958824158,-0.015267009846866,-0.937005579471588,-0.057277463376522,0.068855054676533,-0.326236516237259,-0.124921955168247,-0.216943457722664,-0.348910927772522,0.375094801187515,-0.679124176502228,-0.183697327971458,-0.163695946335793,0.219568088650703));
res += mul(Get(s1,0,dy), float4x4(-0.161996483802795,0.330804169178009,0.200250372290611,-0.062154188752174,-0.612976431846619,-0.017821528017521,0.213714137673378,-0.083204723894596,0.492251813411713,0.133508875966072,-0.250324666500092,-0.014265435747802,-0.456092476844788,0.201470270752907,0.094556540250778,0.035130858421326));
res += mul(Get(s1,dx,-dy), float4x4(0.025129372254014,0.293469578027725,0.106618270277977,-0.112894997000694,-0.032675065100193,-0.323797792196274,-0.033552117645741,-0.163030341267586,-0.041130859404802,0.011519814841449,0.081061795353889,-0.079849518835545,0.082276612520218,0.004595876671374,-0.007179585285485,-0.035191938281059));
res += mul(Get(s1,dx,0), float4x4(0.212515190243721,0.360334426164627,0.198781460523605,-0.192226111888885,-0.198014438152313,-0.202570721507072,0.025110810995102,-0.193207666277885,-0.228571757674217,-0.135499820113182,0.522695422172546,0.130056962370872,0.039794683456421,0.518645167350769,0.102119028568268,-0.271911650896072));
res += mul(Get(s1,dx,dy), float4x4(0.110986061394215,0.346089512109756,0.257495671510696,-0.101917050778866,-0.225626841187477,-0.072528816759586,-0.053973559290171,0.015480022877455,-0.041290652006865,0.049183007329702,0.049036152660847,-0.202585950493813,0.257958650588989,-0.251564741134644,-0.280745208263397,-0.040471278131008));
res += mul(Get(s2,-dx,-dy), float4x4(0.198249220848083,0.224416866898537,0.032732781022787,0.081213526427746,0.104764007031918,0.015067396685481,-0.099027909338474,0.002319131512195,0.086020730435848,-0.331338942050934,0.004681845195591,-0.278964370489120,-0.061611644923687,-0.200107127428055,-0.136553302407265,0.010157668031752));
res += mul(Get(s2,-dx,0), float4x4(-0.038105610758066,-0.123591497540474,0.037011638283730,0.275210827589035,-0.001683310372755,0.309229373931885,0.138304904103279,-0.077234998345375,-0.064552567899227,0.116417042911053,0.220082804560661,-0.049826033413410,-0.084616944193840,0.094015441834927,0.173214241862297,0.158196762204170));
res += mul(Get(s2,-dx,dy), float4x4(-0.021762337535620,0.067485831677914,0.224629357457161,0.219280689954758,0.006067976355553,0.022159693762660,-0.032521478831768,0.040616616606712,-0.087236776947975,0.198687568306923,-0.093742467463017,0.218313783407211,0.072940006852150,0.052608959376812,0.096792608499527,-0.037792332470417));
res += mul(Get(s2,0,-dy), float4x4(-0.240489721298218,0.126323476433754,0.029452830553055,-0.039886649698019,0.258569538593292,-0.182553797960281,-0.057217702269554,0.146873116493225,-0.178063631057739,0.037976000458002,-0.001703781075776,0.111243806779385,-0.041315387934446,-0.414363622665405,0.063517607748508,-0.025662994012237));
res += mul(Get(s2,0,0), float4x4(-0.159088104963303,-0.363161951303482,-0.949886858463287,-0.529420554637909,-0.092222161591053,0.187624663114548,0.279954254627228,-0.016133507713675,-0.255622237920761,-0.177020221948624,0.024865275248885,-0.100470140576363,-0.070109896361828,0.532193958759308,-0.213488698005676,-0.236975029110909));
res += mul(Get(s2,0,dy), float4x4(0.212878197431564,0.073072656989098,0.339971840381622,0.112897358834743,-0.160345673561096,0.182432159781456,0.075749337673187,0.246814489364624,0.132874578237534,0.090976528823376,-0.220104739069939,0.136798456311226,-0.163147985935211,0.517860710620880,0.222371831536293,-0.284618467092514));
res += mul(Get(s2,dx,-dy), float4x4(-0.114574328064919,-0.242631137371063,-0.151237726211548,-0.125031188130379,0.454877644777298,-0.253458917140961,0.000326865381794,0.194588169455528,-0.013112041167915,0.118914626538754,-0.450159788131714,-0.144212082028389,-0.090354464948177,0.178888022899628,-0.059237059205770,0.094252787530422));
res += mul(Get(s2,dx,0), float4x4(0.192866280674934,0.187986835837364,-0.129099696874619,0.536835372447968,-0.106541037559509,0.580626606941223,0.162913039326668,0.337500452995300,0.490471720695496,-0.222162604331970,-0.336100608110428,-0.000349881389411,-0.100402288138866,0.047174848616123,0.256322175264359,0.083707392215729));
res += mul(Get(s2,dx,dy), float4x4(-0.043419905006886,0.159723311662674,0.249268993735313,0.097856029868126,-0.250716060400009,0.231307312846184,0.100669950246811,0.185403764247894,0.030927162617445,0.122795291244984,0.011529147624969,0.381779462099075,-0.139656022191048,-0.308945626020432,-0.082334071397781,-0.064221844077110));
res = max(float4(0, 0, 0, 0), res) + float4(0.131720975041389,-0.001775117008947,0.936626613140106,0.514165222644806) * min(float4(0, 0, 0, 0), res);
return res;
}
