sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.013499349355698,-0.408507972955704,0.103261530399323,0.064768686890602);
res += mul(Get(s0,-dx,-dy), float4x4(-0.119941689074039,-0.064992591738701,0.011317881755531,-0.045409847050905,-0.129403144121170,-0.174309685826302,0.084040105342865,-0.116449579596519,0.069767616689205,-0.125096857547760,-0.215875327587128,0.008434186689556,0.304563850164413,-0.182890415191650,0.135772243142128,-0.137627750635147));
res += mul(Get(s0,-dx,0), float4x4(-0.210161209106445,0.140314638614655,0.193374022841454,0.135121196508408,-0.092059321701527,-0.225456833839417,0.041323225945234,-0.046562895178795,0.021988756954670,0.071791589260101,0.348118931055069,0.263722062110901,-0.126543283462524,-0.453950971364975,-0.122533671557903,-0.256115376949310));
res += mul(Get(s0,-dx,dy), float4x4(-0.193599522113800,-0.128171563148499,-0.125189989805222,0.231088787317276,-0.082539059221745,-0.066581785678864,0.019221637398005,-0.094086468219757,-0.036989882588387,0.243621170520782,0.146355509757996,0.093525268137455,-0.162227123975754,-0.302940160036087,-0.153922453522682,-0.059581395238638));
res += mul(Get(s0,0,-dy), float4x4(0.028256366029382,0.063323631882668,-0.003100815229118,-0.037913486361504,0.542375564575195,0.001448252005503,0.156982138752937,0.053583059459925,-0.067597702145576,0.022389082238078,0.091623134911060,0.263801813125610,0.273500621318817,0.042668573558331,0.144570857286453,-0.040524799376726));
res += mul(Get(s0,0,0), float4x4(0.124951899051666,-0.015037991106510,0.018382158130407,-0.265241593122482,0.272331357002258,0.218775525689125,0.150392860174179,0.370634853839874,0.113243281841278,0.039959784597158,0.017218852415681,-0.047537669539452,-0.449428558349609,-0.336444169282913,-0.302782684564590,-0.502057611942291));
res += mul(Get(s0,0,dy), float4x4(-0.673640787601471,-0.282195538282394,0.053963441401720,0.061759587377310,-0.507230103015900,0.069514416158199,-0.011740565299988,-0.192252829670906,-0.260128796100616,-0.308319628238678,-0.146957293152809,-0.225306645035744,0.113612130284309,-0.230240315198898,0.066221892833710,-0.073179908096790));
res += mul(Get(s0,dx,-dy), float4x4(-0.158193290233612,-0.018535742536187,-0.000936416967306,-0.024913866072893,-0.055546581745148,-0.177652299404144,-0.092445403337479,0.069000922143459,-0.146990358829498,-0.054395209997892,-0.186431050300598,-0.118256375193596,0.076024763286114,0.059913463890553,0.114301033318043,-0.257761478424072));
res += mul(Get(s0,dx,0), float4x4(-0.091636657714844,-0.028583781793714,-0.197806358337402,0.160260722041130,-0.002570324577391,-0.011158914305270,-0.193918883800507,0.377014219760895,0.276266843080521,0.072491168975830,0.244209036231041,0.107626974582672,-0.170331194996834,-0.063650846481323,0.071393422782421,0.284833073616028));
res += mul(Get(s0,dx,dy), float4x4(0.172132834792137,0.102234005928040,-0.098977461457253,0.115272499620914,-0.164421945810318,-0.123611174523830,-0.063205204904079,-0.047277156263590,-0.063695430755615,0.109525628387928,0.112558297812939,0.103391557931900,0.120717391371727,0.025760605931282,0.029923645779490,-0.047351721674204));
res += mul(Get(s1,-dx,-dy), float4x4(-0.155816569924355,-0.010258915834129,-0.066354259848595,-0.039242692291737,-0.082022838294506,-0.011107437312603,0.002704438520595,0.058760732412338,-0.050977684557438,0.023875486105680,0.278012633323669,-0.008509894832969,0.028929201886058,0.004073176532984,0.018693991005421,-0.070551641285419));
res += mul(Get(s1,-dx,0), float4x4(0.199567154049873,0.565150260925293,0.489529877901077,0.546394705772400,-0.208755880594254,-0.074155695736408,0.201173409819603,-0.361741751432419,0.098738968372345,-0.181886807084084,0.059665091335773,-0.025798352435231,-0.198875486850739,-0.131548613309860,0.076583303511143,-0.131583586335182));
res += mul(Get(s1,-dx,dy), float4x4(-0.032031618058681,-0.037380013614893,0.036323688924313,0.004469042178243,0.100386470556259,-0.097819253802299,-0.139746770262718,-0.067744180560112,0.060201998800039,0.162129327654839,-0.065736979246140,-0.069464795291424,0.140319198369980,-0.099018163979053,-0.038143828511238,0.164996623992920));
res += mul(Get(s1,0,-dy), float4x4(0.080616392195225,-0.189267098903656,-0.172752693295479,0.237951442599297,-0.013101682998240,0.046319793909788,0.167147830128670,0.096670135855675,-0.172701090574265,-0.514481604099274,-0.233467847108841,0.371144413948059,0.006411858834326,0.016059355810285,-0.048643440008163,0.042998291552067));
res += mul(Get(s1,0,0), float4x4(-0.194845199584961,-0.428775042295456,-0.534682154655457,-0.511625647544861,-0.302980065345764,-0.003439891384915,-0.146333962678909,0.079409055411816,-0.282557845115662,-0.404849052429199,-0.285799056291580,0.007109354715794,-0.044639647006989,-0.248046368360519,-0.188893839716911,-0.252330034971237));
res += mul(Get(s1,0,dy), float4x4(0.199854806065559,0.200871095061302,0.113110378384590,0.315529912710190,0.333930015563965,0.251658439636230,-0.395079970359802,0.157358184456825,0.280119568109512,-0.074723586440086,0.051940854638815,-0.014331983402371,-0.177947625517845,0.218695491552353,0.158148914575577,0.076746858656406));
res += mul(Get(s1,dx,-dy), float4x4(-0.155732288956642,-0.183309704065323,-0.149724453687668,0.027074333280325,-0.210748642683029,0.055368781089783,-0.001019421149977,0.185801520943642,-0.092793308198452,-0.298333048820496,-0.073852948844433,-0.000598894665018,0.010828274302185,0.003656138665974,0.100777246057987,-0.063668221235275));
res += mul(Get(s1,dx,0), float4x4(0.122881032526493,0.168863415718079,0.199343398213387,0.429303735494614,-0.169628843665123,0.112754568457603,-0.161178633570671,0.064679257571697,-0.018737368285656,-0.234677091240883,-0.049237489700317,0.024661481380463,0.005970790050924,0.194701388478279,0.106346704065800,0.018542349338531));
res += mul(Get(s1,dx,dy), float4x4(0.035868685692549,-0.027668196707964,-0.168146416544914,-0.222683697938919,0.109344594180584,0.130073040723801,0.008258583955467,-0.044081065803766,0.035845573991537,0.079258158802986,-0.092506490647793,0.201700761914253,0.045323871076107,0.026287795975804,-0.046316184103489,0.090602926909924));
res += mul(Get(s2,-dx,-dy), float4x4(-0.023105310276151,0.171106100082397,-0.006701289676130,0.112722717225552,0.112716875970364,0.082100428640842,0.183101966977119,-0.105162888765335,-0.191368341445923,-0.296696186065674,0.099305100739002,-0.319890439510345,-0.049097169190645,-0.066103786230087,0.115884490311146,0.120064176619053));
res += mul(Get(s2,-dx,0), float4x4(0.058231398463249,-0.104511581361294,-0.084372155368328,0.075150303542614,-0.303837746381760,-0.257656365633011,-0.389185816049576,0.033654898405075,0.174775764346123,0.010085831396282,-0.292221158742905,0.128739580512047,-0.112903840839863,-0.141698062419891,0.030558791011572,0.057422477751970));
res += mul(Get(s2,-dx,dy), float4x4(0.047918345779181,0.182908505201340,0.041185408830643,0.098026849329472,0.148756399750710,0.151221856474876,-0.133274331688881,-0.090937204658985,-0.277292340993881,0.215428858995438,0.248847588896751,-0.052102871239185,0.122239790856838,-0.100037477910519,0.173809587955475,-0.114822790026665));
res += mul(Get(s2,0,-dy), float4x4(0.254518926143646,0.195989206433296,0.317798614501953,-0.188440948724747,0.247924327850342,0.380017817020416,0.291545242071152,-0.060569457709789,0.251394301652908,0.116268835961819,0.191436305642128,-0.217831477522850,0.631277620792389,0.044906191527843,0.167045861482620,0.291690647602081));
res += mul(Get(s2,0,0), float4x4(-0.425123363733292,-0.206750795245171,-0.057469844818115,-0.069391526281834,-0.145709469914436,-0.567235946655273,-0.023632416501641,-0.282861649990082,0.163952946662903,-0.039859090000391,-0.009088496677577,0.057703945785761,-0.282852739095688,-0.518719971179962,-0.181467726826668,0.182557284832001));
res += mul(Get(s2,0,dy), float4x4(-0.195697829127312,-0.084038607776165,0.122425340116024,0.108773052692413,0.042104382067919,-0.049827713519335,-0.280216276645660,0.217199996113777,-0.121336445212364,-0.035995930433273,0.104014694690704,0.087212972342968,0.561244726181030,0.967728853225708,-0.041991695761681,0.202669903635979));
res += mul(Get(s2,dx,-dy), float4x4(0.388868331909180,0.087988957762718,0.054247308522463,0.301188379526138,-0.079552516341209,-0.126305982470512,-0.115923672914505,-0.007073997519910,0.089446425437927,0.208112269639969,-0.071528531610966,-0.017166171222925,-0.046929795295000,0.024803129956126,-0.039315093308687,0.116837613284588));
res += mul(Get(s2,dx,0), float4x4(-0.254667311906815,-0.818361163139343,-0.332988739013672,0.267778396606445,0.371394127607346,0.466134160757065,0.328505456447601,0.535094738006592,-0.082596510648727,-0.049827273935080,-0.118986390531063,-0.189847752451897,-0.355345249176025,-0.518981456756592,-0.186276823282242,0.222781866788864));
res += mul(Get(s2,dx,dy), float4x4(-0.364199489355087,0.053353101015091,0.149773105978966,-0.240455195307732,-0.426764637231827,0.051712378859520,0.219301030039787,-0.066919542849064,0.007399346679449,-0.088819667696953,0.022826103493571,0.158573329448700,0.066090919077396,-0.182084754109383,-0.087979145348072,-0.183842018246651));
res = max(float4(0, 0, 0, 0), res) + float4(-0.082527078688145,-0.214429065585136,0.870531022548676,0.897679388523102) * min(float4(0, 0, 0, 0), res);
return res;
}
