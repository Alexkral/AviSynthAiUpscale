sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.084320940077305,0.104562960565090,0.215087041258812,-0.011274769902229);
res += mul(Get(s0,-dx,-dy), float4x4(-0.122827671468258,0.097457163035870,-0.028196718543768,0.043236721307039,-0.064660213887691,0.003183385822922,-0.005286925472319,0.094705000519753,-0.135139986872673,0.072768151760101,0.066739298403263,-0.012889463454485,0.117850065231323,-0.053331892937422,-0.061089329421520,-0.138198450207710));
res += mul(Get(s0,-dx,0), float4x4(-0.257849782705307,0.035326890647411,0.091568142175674,-0.138191208243370,0.021391190588474,0.037255711853504,-0.002013106830418,0.008387554436922,-0.434281975030899,0.103330783545971,-0.054674167186022,-0.124698042869568,0.111649714410305,0.116269230842590,-0.055941656231880,0.057540476322174));
res += mul(Get(s0,-dx,dy), float4x4(-0.228839546442032,0.081309184432030,0.138769701123238,0.049746885895729,-0.033676646649837,0.006390267517418,0.104125551879406,-0.008681009523571,-0.274841129779816,0.064652770757675,-0.011804541572928,0.029898317530751,0.080212496221066,0.071634881198406,-0.049786280840635,-0.216259300708771));
res += mul(Get(s0,0,-dy), float4x4(0.132509738206863,-0.098025463521481,-0.147928059101105,-0.055836275219917,-0.048348184674978,-0.028616761788726,0.210602954030037,-0.204876855015755,0.090549871325493,0.215085849165916,0.087814606726170,0.117549203336239,-0.029870597645640,0.115707717835903,-0.289108484983444,-0.199248909950256));
res += mul(Get(s0,0,0), float4x4(-0.026068568229675,-0.048649046570063,-0.244895160198212,-0.102730855345726,0.273578763008118,-0.129540190100670,0.004208369180560,0.126769945025444,0.051217991858721,-0.088941849768162,-0.005792669951916,0.097896151244640,0.017268570140004,0.004582555033267,0.187807649374008,0.377158373594284));
res += mul(Get(s0,0,dy), float4x4(-0.042680509388447,0.037903323769569,-0.051867201924324,0.092047236859798,0.015260137617588,-0.124184638261795,-0.125917866826057,-0.200945913791656,-0.079551421105862,-0.068085625767708,-0.018188295885921,-0.421869844198227,0.086484730243683,-0.107549659907818,0.100354306399822,0.007377027999610));
res += mul(Get(s0,dx,-dy), float4x4(0.022158375009894,-0.005197365302593,-0.230642259120941,-0.178806513547897,0.146175533533096,-0.187498152256012,0.178237959742546,-0.206005275249481,-0.017111524939537,-0.162753388285637,-0.088796295225620,0.145193427801132,-0.194591611623764,0.224268451333046,0.059047199785709,0.235538959503174));
res += mul(Get(s0,dx,0), float4x4(0.379655271768570,0.222849920392036,0.462557137012482,0.040611945092678,-0.066857397556305,0.016229057684541,0.438414812088013,0.320163369178772,0.036980144679546,-0.390471339225769,-0.720714986324310,-0.179362297058105,-0.325274646282196,-0.117108933627605,-0.095865264534950,0.184146448969841));
res += mul(Get(s0,dx,dy), float4x4(0.123416900634766,-0.152473509311676,-0.193943560123444,-0.212049141526222,0.188262194395065,0.106584288179874,-0.044423684477806,0.007270336616784,0.015263761393726,-0.060157258063555,-0.036795128136873,0.058905120939016,-0.190212145447731,-0.068043790757656,-0.186276167631149,0.202763885259628));
res += mul(Get(s1,-dx,-dy), float4x4(0.010172033682466,0.369807332754135,0.187070026993752,-0.233782738447189,-0.016415145248175,-0.196067929267883,-0.029454696923494,-0.139000609517097,0.046984180808067,0.028367934748530,-0.027054935693741,0.051070760935545,0.051307294517756,0.117744863033295,0.010271714068949,0.025403028354049));
res += mul(Get(s1,-dx,0), float4x4(-0.034793931990862,0.110046185553074,0.007903194986284,-0.397521346807480,0.499009668827057,0.036411337554455,-0.200752511620522,0.084185302257538,0.454904228448868,0.031655412167311,-0.024596191942692,-0.274366468191147,0.236823588609695,0.295342296361923,0.035619482398033,0.010614133439958));
res += mul(Get(s1,-dx,dy), float4x4(-0.002427558880299,0.004449629224837,-0.037557769566774,-0.162601888179779,0.195022881031036,0.138484165072441,-0.067567698657513,-0.033357989042997,0.162334606051445,0.134639099240303,-0.022272109985352,0.005168405361474,0.172669321298599,-0.215500280261040,0.057813756167889,-0.131052151322365));
res += mul(Get(s1,0,-dy), float4x4(0.270050227642059,0.161257624626160,-0.060981370508671,-0.295516043901443,0.016480688005686,-0.035024221986532,-0.041803814470768,-0.260164082050323,-0.093345776200294,0.106199488043785,-0.035897321999073,-0.472663611173630,0.054473336786032,0.292973577976227,0.005274018272758,-0.054316729307175));
res += mul(Get(s1,0,0), float4x4(-0.013166738674045,0.037458702921867,0.131953984498978,0.136721253395081,-0.163779601454735,-0.225266158580780,-0.027825605124235,0.568440318107605,-0.453941702842712,0.005662885960191,-0.765070259571075,0.091107733547688,-0.357026100158691,-0.396159589290619,-0.316911011934280,0.248105168342590));
res += mul(Get(s1,0,dy), float4x4(0.069944307208061,-0.042292840778828,-0.173205733299255,-0.266746550798416,0.031825516372919,0.048443548381329,0.067551031708717,0.284142136573792,0.011475316248834,-0.141270935535431,-0.134518772363663,0.000621652347036,-0.049689859151840,-0.001319110277109,0.170395523309708,0.336671084165573));
res += mul(Get(s1,dx,-dy), float4x4(0.205334588885307,-0.072608247399330,-0.240443512797356,-0.304962575435638,0.028025962412357,0.080191329121590,0.000527642259840,-0.060831125825644,0.002285666298121,-0.022135844454169,0.283465236425400,-0.139860495924950,-0.042921364307404,-0.151974827051163,-0.046086087822914,-0.199712738394737));
res += mul(Get(s1,dx,0), float4x4(-0.068513810634613,-0.258071452379227,0.109064139425755,-0.390710085630417,-0.320317298173904,0.106511764228344,0.250950306653976,0.511425971984863,0.104029893875122,0.226556152105331,-0.046594291925430,0.007879911921918,0.000151518368511,-0.208507627248764,0.223850831389427,-0.053252905607224));
res += mul(Get(s1,dx,dy), float4x4(0.067188568413258,0.247935369610786,0.067299015820026,0.077645264565945,-0.053276322782040,0.043219432234764,-0.075837187469006,-0.336588710546494,0.110552370548248,0.185442760586739,-0.010205208323896,0.153301268815994,-0.012189057655632,0.289332568645477,-0.025832254439592,-0.275866419076920));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007635347079486,0.137788698077202,-0.043207932263613,0.011077794246376,0.041454501450062,-0.047091409564018,-0.028113646432757,0.086132995784283,-0.042282916605473,-0.137344092130661,0.005221748258919,-0.244628891348839,-0.144707500934601,-0.499184638261795,-0.022391173988581,-0.008893134072423));
res += mul(Get(s2,-dx,0), float4x4(0.217098489403725,0.119158536195755,-0.143292114138603,0.169577926397324,-0.062858074903488,0.056825809180737,-0.020065210759640,0.166375905275345,0.360521495342255,-0.008674870245159,-0.024290079250932,0.118419758975506,-0.179807156324387,-0.480629771947861,0.031071290373802,-0.315377324819565));
res += mul(Get(s2,-dx,dy), float4x4(0.081996411085129,0.182438850402832,0.006509144790471,0.141315400600433,-0.200405821204185,-0.020546060055494,0.083252467215061,0.070519976317883,0.285791665315628,0.096264697611332,0.098346695303917,0.175379782915115,-0.147295340895653,-0.314819663763046,0.002754817716777,-0.044948093593121));
res += mul(Get(s2,0,-dy), float4x4(0.008878998458385,0.344399333000183,-0.260156869888306,0.065144896507263,-0.076567165553570,0.102083913981915,-0.017398754134774,0.063994228839874,-0.135347992181778,0.102016307413578,-0.130367025732994,0.033501602709293,-0.020797889679670,-0.680499434471130,-0.063661001622677,-0.105233885347843));
res += mul(Get(s2,0,0), float4x4(0.113101854920387,0.029960488900542,-0.239719167351723,-0.089633435010910,-0.046024717390537,0.053282015025616,0.181110531091690,0.309423536062241,-0.091527163982391,-0.193713963031769,0.202101364731789,0.042505495250225,0.249759525060654,-0.808605253696442,-0.003775637131184,-0.298288702964783));
res += mul(Get(s2,0,dy), float4x4(0.112559549510479,0.181025117635727,0.104674741625786,0.102198615670204,-0.024350287392735,0.051096197217703,0.010999452322721,-0.302226781845093,-0.244935229420662,-0.050676532089710,0.141031712293625,0.132366463541985,0.075256377458572,-0.645671963691711,-0.050337295979261,-0.234073653817177));
res += mul(Get(s2,dx,-dy), float4x4(0.111660607159138,0.455787628889084,-0.118468143045902,0.120030522346497,-0.013904011808336,0.129600197076797,0.011009708046913,0.097030542790890,0.067586958408356,0.097837485373020,0.037075746804476,0.000910682487302,0.079850614070892,-0.173030361533165,-0.105510793626308,-0.012843837030232));
res += mul(Get(s2,dx,0), float4x4(-0.035523608326912,0.273800045251846,-0.374108850955963,0.264722585678101,-0.182409152388573,-0.030025241896510,-0.110632441937923,0.277058571577072,0.075142644345760,-0.103621967136860,0.379648655653000,0.053427565842867,-0.008274078369141,-0.317584365606308,-0.155868917703629,-0.114208221435547));
res += mul(Get(s2,dx,dy), float4x4(-0.012547793798149,0.199997708201408,-0.139082938432693,-0.109119504690170,-0.095294244587421,-0.035254057496786,-0.214413449168205,0.074103340506554,-0.103829652070999,-0.359900832176208,-0.032336313277483,-0.014039226807654,-0.008129669353366,-0.343441635370255,-0.086692497134209,-0.135700955986977));
res = max(float4(0, 0, 0, 0), res) + float4(-0.613092303276062,0.290867000818253,-0.223629072308540,0.534463584423065) * min(float4(0, 0, 0, 0), res);
return res;
}
