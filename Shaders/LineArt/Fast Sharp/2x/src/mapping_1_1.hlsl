sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.050851870328188,-0.102551281452179,0.003611556487158,0.164593473076820);
res += mul(Get(s0,-dx,-dy), float4x4(-0.073510065674782,-0.086919039487839,0.019876748323441,-0.053316835314035,0.075989745557308,0.030085062608123,0.021430045366287,-0.147232577204704,0.355099052190781,0.066965803503990,0.153985410928726,0.120081841945648,0.085923798382282,-0.352763831615448,0.059764701873064,-0.124893046915531));
res += mul(Get(s0,-dx,0), float4x4(-0.195101857185364,-0.303103119134903,-0.025998611003160,-0.119097717106342,0.066441573202610,-0.052845504134893,0.545500576496124,-0.204428136348724,0.062151867896318,-0.004728688858449,-0.087611980736256,0.048537045717239,0.059418119490147,0.497235387563705,0.139928862452507,0.022352358326316));
res += mul(Get(s0,-dx,dy), float4x4(-0.082368925213814,-0.072865881025791,-0.281315386295319,-0.234823688864708,0.000858811428770,0.072543442249298,0.095246486365795,-0.041723601520061,0.252940803766251,-0.311912238597870,-0.300267338752747,-0.036711357533932,-0.136210411787033,0.298009693622589,-0.022131035104394,0.128861606121063));
res += mul(Get(s0,0,-dy), float4x4(-0.166893154382706,-0.037880592048168,-0.083406329154968,-0.102423846721649,-0.393495351076126,0.042382061481476,-0.096037723124027,0.059551298618317,0.105177983641624,-0.101525411009789,-0.241477683186531,-0.054839193820953,-0.003318862058222,-0.306060910224915,-0.069545269012451,-0.407608658075333));
res += mul(Get(s0,0,0), float4x4(0.128020405769348,-0.059163171797991,0.004367358051240,-0.078512109816074,-0.326190650463104,-0.431470930576324,0.014275480061769,0.265256583690643,0.274451255798340,0.070424094796181,0.322072625160217,-0.028304452076554,0.073503002524376,0.109913110733032,0.347009927034378,0.533685028553009));
res += mul(Get(s0,0,dy), float4x4(0.141908109188080,-0.201691970229149,0.152433738112450,0.027807354927063,0.268783420324326,-0.212794318795204,-0.199333220720291,0.236895769834518,0.025787232443690,0.354963779449463,0.380452930927277,0.417802900075912,0.042226385325193,0.130236938595772,-0.164301350712776,0.199106901884079));
res += mul(Get(s0,dx,-dy), float4x4(-0.035033758729696,0.115483917295933,0.004147357307374,-0.014797140844166,0.231742963194847,0.051265981048346,-0.032548587769270,0.036120429635048,-0.146903797984123,0.212651640176773,0.019345499575138,0.223524361848831,-0.072244398295879,0.048506904393435,-0.012572490610182,-0.139063924551010));
res += mul(Get(s0,dx,0), float4x4(-0.133426964282990,0.117189116775990,-0.118782706558704,-0.026624668389559,-0.093605823814869,0.082749657332897,-0.132460221648216,-0.104918271303177,0.264043897390366,-0.125317364931107,-0.147331267595291,-0.258740574121475,-0.189124599099159,-0.030146554112434,-0.140987589955330,0.183229222893715));
res += mul(Get(s0,dx,dy), float4x4(-0.138642907142639,-0.072530224919319,-0.138008534908295,-0.096865288913250,0.083557732403278,0.030042927712202,-0.051116190850735,-0.063836209475994,-0.111399747431278,-0.095878295600414,-0.000587576651014,-0.110811591148376,0.147852092981339,-0.146331533789635,-0.024860268458724,-0.156154736876488));
res += mul(Get(s1,-dx,-dy), float4x4(0.264288932085037,0.382230937480927,0.034096844494343,0.062026839703321,-0.202765733003616,-0.081298835575581,-0.051043856889009,-0.013343770988286,0.075235754251480,-0.156148955225945,-0.077455647289753,-0.286764204502106,0.096952281892300,-0.111251220107079,-0.246086776256561,-0.110799409449100));
res += mul(Get(s1,-dx,0), float4x4(0.085759356617928,-0.031007628887892,-0.412036299705505,-0.125882014632225,-0.048412904143333,-0.100453265011311,0.130607068538666,-0.058800544589758,0.019193243235350,-0.044115122407675,-0.209227830171585,-0.254634320735931,0.015285614877939,0.073269978165627,-0.752129077911377,-0.063828416168690));
res += mul(Get(s1,-dx,dy), float4x4(0.143569707870483,-0.082636117935181,0.221268087625504,-0.071500949561596,-0.046450503170490,0.081594713032246,0.150200292468071,-0.092765331268311,0.111277982592583,0.013206236064434,0.067912273108959,-0.105262473225594,0.124111451208591,0.042854458093643,0.086186386644840,-0.120684400200844));
res += mul(Get(s1,0,-dy), float4x4(0.051347259432077,0.123433679342270,-0.098222985863686,-0.101257070899010,-0.140508353710175,-0.209585517644882,0.067986257374287,-0.024717543274164,0.037233576178551,0.364173173904419,0.325807422399521,0.577530086040497,-0.001172037678771,0.144051894545555,0.073955886065960,0.190436512231827));
res += mul(Get(s1,0,0), float4x4(-0.337568163871765,0.054423168301582,0.351399451494217,0.154265567660332,0.159985840320587,0.246404871344566,-0.260930567979813,-0.207157701253891,0.243000388145447,0.365346729755402,-0.050331387668848,0.489160090684891,0.179768234491348,0.069571301341057,0.124946475028992,0.014255974441767));
res += mul(Get(s1,0,dy), float4x4(0.027219895273447,-0.184634596109390,-0.205491483211517,-0.198555380105972,-0.163063377141953,0.241301178932190,-0.150272384285927,-0.368578106164932,0.103514038026333,0.004298781976104,-0.088565178215504,0.011870637536049,0.284516423940659,0.081455558538437,-0.043542806059122,0.081833422183990));
res += mul(Get(s1,dx,-dy), float4x4(0.084201283752918,0.010998989455402,-0.018925618380308,0.015876712277532,-0.162628948688507,-0.034809127449989,0.116766862571239,0.243069887161255,0.014104661531746,-0.217268422245979,-0.008017660118639,-0.153244033455849,0.020815167576075,0.081852190196514,0.038611698895693,-0.073307573795319));
res += mul(Get(s1,dx,0), float4x4(0.113635137677193,-0.213156297802925,0.104593098163605,0.106047481298447,-0.209170892834663,0.033980537205935,0.287325292825699,0.001189484260976,0.133360773324966,-0.340684652328491,0.082271344959736,-0.473031848669052,0.153641104698181,0.080173969268799,0.028487546369433,-0.172727927565575));
res += mul(Get(s1,dx,dy), float4x4(-0.016539487987757,0.102694548666477,0.076494611799717,-0.185540094971657,-0.096080511808395,-0.210638999938965,-0.019448280334473,-0.259149670600891,-0.092439495027065,-0.140084877610207,-0.003916648682207,-0.141899123787880,-0.079948388040066,-0.054050989449024,-0.008311841636896,-0.073836602270603));
res += mul(Get(s2,-dx,-dy), float4x4(0.127850055694580,0.095815196633339,-0.067118652164936,-0.009837418794632,-0.221073910593987,-0.369080126285553,0.165082663297653,-0.033895943313837,-0.396239310503006,0.240284696221352,0.204506888985634,-0.072646066546440,-0.190799295902252,-0.110642828047276,0.174345836043358,-0.045645695179701));
res += mul(Get(s2,-dx,0), float4x4(0.223860472440720,0.229459419846535,-0.291348457336426,0.054514680057764,0.011616628617048,0.589488089084625,-0.271487176418304,-0.134242087602615,0.167236149311066,0.186789929866791,0.367010056972504,-0.028729284182191,-0.203503996133804,-0.016849229112267,0.021520357578993,-0.013454270549119));
res += mul(Get(s2,-dx,dy), float4x4(0.034890774637461,0.065121494233608,0.045532986521721,-0.018654238432646,-0.210957437753677,0.271460294723511,-0.115570105612278,-0.100736767053604,0.132782831788063,-0.001920908456668,-0.114697635173798,0.001256818417460,0.069852933287621,-0.272491693496704,0.376220434904099,-0.020468460395932));
res += mul(Get(s2,0,-dy), float4x4(-0.052039153873920,-0.266861826181412,-0.052400074899197,-0.119348056614399,0.019756568595767,-0.058556802570820,-0.058441676199436,-0.524775743484497,-0.552287757396698,-0.117479279637337,0.166868060827255,-0.004612542688847,-0.085417278110981,-0.065522998571396,-0.046987373381853,-0.217299669981003));
res += mul(Get(s2,0,0), float4x4(0.461129605770111,0.531835317611694,0.523635864257813,-0.135061606764793,-0.260353386402130,0.037817720323801,0.593788087368011,0.587413191795349,-0.329899579286575,0.229732885956764,-0.216374263167381,-0.329594165086746,-0.068491511046886,0.100893892347813,-0.118804164230824,-0.266455054283142));
res += mul(Get(s2,0,dy), float4x4(-0.090834841132164,-0.051138110458851,0.066345915198326,0.097498401999474,0.097987890243530,-0.135880380868912,0.133287340402603,-0.305325448513031,-0.014260301366448,-0.004499661736190,0.030524557456374,0.006457263603806,-0.060739766806364,-0.197329670190811,-0.349752038717270,0.057003833353519));
res += mul(Get(s2,dx,-dy), float4x4(-0.198056221008301,-0.039892792701721,0.004979462362826,0.299104988574982,0.077787995338440,0.026398198679090,-0.025665182620287,0.254906177520752,0.096081234514713,-0.350007086992264,0.021937822923064,0.109636187553406,0.186077848076820,0.105334021151066,-0.043603349477053,-0.109461218118668));
res += mul(Get(s2,dx,0), float4x4(-0.801342725753784,0.365670055150986,-0.130440339446068,0.149851292371750,0.182554960250854,-0.457440286874771,-0.118618972599506,-0.336045205593109,-0.021491836756468,-0.097163088619709,-0.001645412761718,-0.041261281818151,-0.126680359244347,0.005067303311080,0.142050564289093,0.159692287445068));
res += mul(Get(s2,dx,dy), float4x4(0.253009617328644,0.055549606680870,-0.167663216590881,0.377120107412338,0.005641313269734,-0.008195503614843,0.145314782857895,0.135653838515282,-0.051380336284637,0.129821285605431,0.008252857252955,0.137497782707214,-0.075233794748783,0.041445240378380,0.016754021868110,0.203541025519371));
res = max(float4(0, 0, 0, 0), res) + float4(0.829067289829254,-0.186240315437317,-0.617832481861115,0.797805786132813) * min(float4(0, 0, 0, 0), res);
return res;
}
