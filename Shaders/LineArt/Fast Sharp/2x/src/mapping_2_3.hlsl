sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.035692289471626,0.050445929169655,-0.059625655412674,0.308948278427124);
res += mul(Get(s0,-dx,-dy), float4x4(0.168010249733925,-0.074342407286167,-0.037116244435310,0.116514876484871,-0.131476044654846,0.117806650698185,-0.004147187341005,0.106916971504688,0.209615245461464,-0.012728727422655,-0.007232823409140,0.063522450625896,0.300197720527649,-0.120373554527760,-0.129715412855148,-0.013152972795069));
res += mul(Get(s0,-dx,0), float4x4(-0.121947899460793,-0.056390438228846,-0.039275337010622,0.285764664411545,0.031714707612991,-0.027605436742306,-0.016288137063384,0.052213005721569,0.279498845338821,-0.109429143369198,0.013876204378903,0.073887377977371,-0.004499504342675,0.209640666842461,0.073330610990524,-0.308148443698883));
res += mul(Get(s0,-dx,dy), float4x4(0.032576177269220,0.088659353554249,0.046697925776243,0.020261796191335,-0.081783801317215,-0.128802508115768,-0.112641699612141,0.147348254919052,0.055511739104986,-0.134280666708946,-0.019312672317028,0.132521659135818,-0.102362945675850,-0.071205772459507,-0.035854343324900,0.058724932372570));
res += mul(Get(s0,0,-dy), float4x4(-0.057347271591425,-0.029172578826547,-0.195288166403770,0.095451772212982,-0.253019928932190,0.191895887255669,-0.226388365030289,0.254217803478241,0.313947379589081,-0.003422538982704,0.155719891190529,-0.205233395099640,0.067899338901043,-0.131261378526688,-0.017776856198907,0.068489447236061));
res += mul(Get(s0,0,0), float4x4(0.142918333411217,-0.069541439414024,0.175074622035027,-0.197359636425972,-0.221367016434669,-0.256110280752182,0.077733144164085,-0.217745855450630,0.627225399017334,-0.107911020517349,0.080049537122250,-0.317236453294754,0.192678108811378,-0.167126744985580,0.408310502767563,0.116642981767654));
res += mul(Get(s0,0,dy), float4x4(0.214507773518562,0.099812887609005,0.259956598281860,-0.143358051776886,-0.043275710195303,-0.000408569758292,-0.059264086186886,-0.193769738078117,0.184343934059143,-0.136857852339745,0.086183026432991,-0.100990593433380,-0.096343398094177,-0.217835411429405,-0.167298600077629,0.126895025372505));
res += mul(Get(s0,dx,-dy), float4x4(0.119204349815845,-0.080270648002625,-0.268841773271561,0.011981376446784,0.103230208158493,0.287553042173386,-0.152637973427773,-0.050757791846991,-0.020557662472129,0.023650515824556,0.184970393776894,-0.016621816903353,-0.199271723628044,0.092659540474415,0.254211038351059,-0.145520627498627));
res += mul(Get(s0,dx,0), float4x4(-0.056281350553036,-0.116259798407555,0.147723928093910,0.141937062144279,0.421384692192078,0.036684218794107,0.001729566138238,-0.101756878197193,0.026338659226894,-0.187179669737816,0.179251000285149,-0.310264796018600,-0.149637609720230,0.140014693140984,0.249615207314491,-0.331846535205841));
res += mul(Get(s0,dx,dy), float4x4(-0.236398488283157,0.100316129624844,0.003688472090289,-0.013084759935737,-0.074202373623848,-0.138062149286270,-0.070831604301929,0.040716074407101,-0.100232705473900,-0.140961512923241,-0.014211159199476,0.028254311531782,0.067756794393063,0.021604748442769,-0.100051805377007,-0.032532252371311));
res += mul(Get(s1,-dx,-dy), float4x4(0.028986299410462,-0.032058503478765,-0.000637048855424,-0.535271763801575,-0.155851766467094,0.196095541119576,-0.079201646149158,-0.228690266609192,0.070528596639633,0.125325202941895,-0.100407831370831,0.106992647051811,0.167639300227165,-0.045692101120949,0.232728242874146,-0.345550239086151));
res += mul(Get(s1,-dx,0), float4x4(0.007318974472582,0.201618194580078,0.046289503574371,0.033602472394705,-0.180667325854301,0.043349657207727,0.163808360695839,0.094831556081772,0.083938851952553,0.082206994295120,0.028675351291895,-0.050727982074022,0.028730051591992,-0.255891561508179,0.168787091970444,0.023412795737386));
res += mul(Get(s1,-dx,dy), float4x4(0.055966742336750,-0.083886474370956,-0.081207625567913,0.199844762682915,0.019121855497360,-0.189296990633011,-0.019001113250852,-0.078276522457600,-0.053985998034477,-0.055770561099052,-0.076308116316795,-0.054023832082748,0.002254531951621,0.038506641983986,0.006096087861806,0.167487591505051));
res += mul(Get(s1,0,-dy), float4x4(0.029835190623999,0.403238594532013,0.282763987779617,-0.457821816205978,-0.072269082069397,-0.229410246014595,-0.469008505344391,-0.224434077739716,-0.255965083837509,0.272053182125092,0.177435517311096,0.185067981481552,-0.133984312415123,0.177538573741913,0.149735972285271,0.136483967304230));
res += mul(Get(s1,0,0), float4x4(0.003044517943636,0.083999097347260,0.287260830402374,0.388993948698044,-0.418023139238358,-0.404259949922562,-0.100165605545044,0.176974982023239,-0.113039575517178,0.374765783548355,-0.221781536936760,0.226608559489250,-0.403472930192947,-0.284845679998398,-0.280582994222641,-0.006238769739866));
res += mul(Get(s1,0,dy), float4x4(-0.282032310962677,-0.023442922160029,-0.178797259926796,0.323910504579544,0.240675732493401,0.527699172496796,0.278533220291138,0.020819544792175,0.001534943119623,0.024185622110963,-0.178878977894783,0.028319494798779,-0.025205548852682,0.346338123083115,0.003937402274460,0.380164474248886));
res += mul(Get(s1,dx,-dy), float4x4(-0.174261271953583,0.031247388571501,0.129012212157249,-0.267900377511978,0.093602582812309,0.066050827503204,-0.127405256032944,-0.131687268614769,0.008075080811977,0.232202947139740,0.085509859025478,-0.121242634952068,-0.024967368692160,0.063692860305309,-0.224290564656258,0.014548870734870));
res += mul(Get(s1,dx,0), float4x4(0.072364851832390,0.219897732138634,0.240297392010689,0.278768688440323,0.296103298664093,0.112210601568222,-0.077081397175789,0.194361522793770,0.152477994561195,-0.082293674349785,-0.306877732276917,0.134019419550896,0.286033809185028,-0.042986791580915,-0.052865959703922,-0.152766048908234));
res += mul(Get(s1,dx,dy), float4x4(-0.005586519837379,0.028227858245373,0.038386587053537,0.278442084789276,-0.066556155681610,0.150776281952858,-0.007045499049127,-0.082523830235004,-0.019257457926869,-0.234616816043854,-0.024756917729974,-0.108324214816093,0.052764695137739,0.106703035533428,-0.000824990333058,-0.086550742387772));
res += mul(Get(s2,-dx,-dy), float4x4(0.014402145519853,-0.098505102097988,-0.133053377270699,0.161538287997246,0.070821158587933,-0.024758571758866,-0.053885217756033,0.083776228129864,-0.093442209064960,0.067334629595280,0.130240067839622,-0.128591254353523,0.274080514907837,0.087245479226112,0.011515329591930,-0.179278329014778));
res += mul(Get(s2,-dx,0), float4x4(-0.182808741927147,-0.163558810949326,-0.126584202051163,0.196350350975990,0.194020718336105,0.184949740767479,0.106963627040386,-0.396464526653290,-0.244505524635315,0.019160645082593,-0.061273533850908,-0.006227515172213,0.297190606594086,0.412724912166595,0.007292174268514,-0.503532707691193));
res += mul(Get(s2,-dx,dy), float4x4(-0.056203421205282,-0.199631512165070,-0.088018797338009,0.358863800764084,-0.008394844830036,-0.026846831664443,0.112070776522160,-0.192852199077606,-0.093328401446342,-0.041159555315971,0.073919221758842,-0.070176661014557,-0.068396948277950,0.217424392700195,0.049274731427431,-0.012740020640194));
res += mul(Get(s2,0,-dy), float4x4(-0.042345106601715,-0.262701839208603,-0.183919697999954,-0.217087298631668,0.053362503647804,-0.117108233273029,0.116513431072235,-0.134793773293495,-0.015098267234862,-0.150661960244179,0.184674158692360,0.053312737494707,0.227859020233154,-0.128923952579498,0.093150302767754,-0.325456351041794));
res += mul(Get(s2,0,0), float4x4(0.082245603203773,-0.007058986462653,-0.445869952440262,-0.535994231700897,0.121403679251671,0.461896091699600,0.525255739688873,-1.148957371711731,-0.481079548597336,-0.439392656087875,-0.405693322420120,-0.176603049039841,0.123904041945934,0.139531314373016,-0.010507064871490,-0.269364684820175));
res += mul(Get(s2,0,dy), float4x4(0.072551049292088,0.026896161958575,0.054824054241180,0.175736084580421,0.172633200883865,0.072073996067047,0.178734600543976,-0.903586804866791,0.146688982844353,0.258317172527313,0.133427113294601,-0.261911183595657,-0.031691804528236,-0.079178065061569,0.045614741742611,0.138727098703384));
res += mul(Get(s2,dx,-dy), float4x4(-0.122638359665871,-0.093640588223934,0.036330763250589,0.280695348978043,-0.094975620508194,0.053173143416643,0.155623972415924,0.058710727840662,0.059118703007698,-0.100020870566368,-0.030917285010219,-0.036561947315931,-0.060893535614014,-0.195153012871742,-0.006023725960404,0.230507925152779));
res += mul(Get(s2,dx,0), float4x4(-0.224951595067978,-0.378083586692810,-0.051995687186718,-0.111637271940708,-0.129441887140274,0.052491389214993,0.298732876777649,-0.565484523773193,0.270504027605057,-0.128441140055656,-0.047652311623096,-0.127403005957603,-0.096183396875858,-0.124182634055614,0.046237193048000,0.171329140663147));
res += mul(Get(s2,dx,dy), float4x4(-0.159438461065292,-0.104145839810371,0.005179869011045,0.161837995052338,-0.123655699193478,0.066826306283474,-0.053104128688574,-0.075271278619766,0.075647935271263,-0.123396262526512,0.022723352536559,-0.103252433240414,-0.182444348931313,-0.050981812179089,-0.013043673709035,0.207027599215508));
res = max(float4(0, 0, 0, 0), res) + float4(-0.150713816285133,0.648675203323364,-0.583734691143036,0.103963054716587) * min(float4(0, 0, 0, 0), res);
return res;
}
