sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.251683980226517,0.090648919343948,0.327211856842041,0.063424743711948);
res += float4(0.025348586961627,0.055103883147240,0.010875904932618,0.007593422662467) * Get(-ddx,-ddy);
res += float4(0.095728218555450,0.037979859858751,-0.063939616084099,0.024987516924739) * Get(-ddx,-dy);
res += float4(-0.223429530858994,0.207682758569717,0.046518668532372,-0.027425557374954) * Get(-ddx,0);
res += float4(0.032204966992140,0.126607626676559,0.023547464981675,-0.035881482064724) * Get(-ddx,dy);
res += float4(0.006881518289447,0.032649833709002,0.007709917146713,0.010586459189653) * Get(-ddx,ddy);
res += float4(-0.028559733182192,-0.021277595311403,0.024637352675200,-0.012908137403429) * Get(-dx,-ddy);
res += float4(-0.020535796880722,-0.167225837707520,0.128262802958488,-0.016664488241076) * Get(-dx,-dy);
res += float4(0.306147336959839,-0.379315435886383,-0.045129332691431,-0.066490128636360) * Get(-dx,0);
res += float4(-0.097680911421776,-0.007247395813465,-0.373610377311707,0.079658105969429) * Get(-dx,dy);
res += float4(-0.033975049853325,0.098841607570648,0.040269073098898,0.029033729806542) * Get(-dx,ddy);
res += float4(-0.172963082790375,-0.028090685606003,0.046981427818537,-0.007042821496725) * Get(0,-ddy);
res += float4(0.467921882867813,0.165023028850555,0.099813893437386,-0.014530866406858) * Get(0,-dy);
res += float4(-0.677199482917786,-0.553243815898895,-0.502088129520416,-0.483645230531693) * Get(0,0);
res += float4(-0.239746093750000,0.468387782573700,-0.850106477737427,-0.410534799098969) * Get(0,dy);
res += float4(-0.153173133730888,-0.118077412247658,0.200807943940163,-0.036205444484949) * Get(0,ddy);
res += float4(0.167707100510597,-0.064520180225372,-0.006515565328300,-0.022629624232650) * Get(dx,-ddy);
res += float4(-0.371533930301666,0.007414313964546,-0.018262866884470,0.135881930589676) * Get(dx,-dy);
res += float4(0.625840425491333,-0.066217184066772,-0.099341325461864,0.441558569669724) * Get(dx,0);
res += float4(-0.154490724205971,0.109590090811253,0.136503130197525,0.403918266296387) * Get(dx,dy);
res += float4(0.163414344191551,-0.020950358361006,-0.033431410789490,-0.064950689673424) * Get(dx,ddy);
res += float4(-0.128206267952919,0.030968489125371,0.000510317098815,0.023178188130260) * Get(ddx,-ddy);
res += float4(0.133861273527145,-0.017954217270017,-0.009532447904348,-0.121033631265163) * Get(ddx,-dy);
res += float4(-0.111783683300018,-0.077270358800888,0.032010287046432,0.122506245970726) * Get(ddx,0);
res += float4(-0.005919427610934,0.066146828234196,-0.010970195755363,-0.025135789066553) * Get(ddx,dy);
res += float4(0.037814993411303,0.025063039734960,-0.057024449110031,0.050558894872665) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(1.003536701202393,-0.027080168947577,0.090467296540737,-0.442627280950546) * min(float4(0, 0, 0, 0), res);
return res;
}
