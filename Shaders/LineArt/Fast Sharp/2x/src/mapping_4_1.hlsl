sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.091260455548763,0.172468617558479,-0.061040524393320,0.010817800648510);
res += mul(Get(s0,-dx,-dy), float4x4(-0.014138868078589,0.012252984568477,-0.093150056898594,-0.019651601091027,0.035225048661232,-0.013909452594817,0.056478574872017,-0.010760409757495,0.055931929498911,0.034046445041895,0.053436353802681,0.077470779418945,0.002734185894951,0.124289244413376,0.246331751346588,0.145371988415718));
res += mul(Get(s0,-dx,0), float4x4(-0.031655363738537,0.057017520070076,-0.341363400220871,-0.003533803159371,-0.133211582899094,-0.015748403966427,0.005262432619929,0.019612243399024,-0.048949167132378,0.074914686381817,0.126455485820770,0.191827312111855,0.004309693817049,-0.002019374398515,0.120524168014526,-0.093386970460415));
res += mul(Get(s0,-dx,dy), float4x4(0.061781521886587,-0.022092968225479,0.064853809773922,-0.090147458016872,-0.076096981763840,-0.073859848082066,-0.033927764743567,0.207568749785423,-0.034749127924442,0.027035331353545,-0.086366757750511,-0.147664159536362,-0.023943873122334,0.039373777806759,-0.024563895538449,0.313968449831009));
res += mul(Get(s0,0,-dy), float4x4(-0.266680389642715,-0.066637635231018,-0.230073601007462,0.123219996690750,-0.100347496569157,-0.210928991436958,-0.205896496772766,0.406112849712372,-0.199606627225876,0.418388009071350,0.075830996036530,-0.108039237558842,-0.214833289384842,0.176992952823639,0.009731958620250,-0.023889213800430));
res += mul(Get(s0,0,0), float4x4(0.088849082589149,-0.084197849035263,0.348927289247513,-0.100312553346157,0.497063130140305,-0.185526654124260,0.021979944780469,-0.107881322503090,-0.424198985099792,-0.235923394560814,-0.192026123404503,0.161297947168350,0.348888397216797,-0.216487795114517,-0.325842589139938,-0.083867467939854));
res += mul(Get(s0,0,dy), float4x4(-0.173052459955215,-0.129908174276352,-0.043558184057474,0.102588258683681,0.176314547657967,0.013996258378029,0.058567225933075,-0.318287611007690,0.419291257858276,0.053767785429955,0.171288654208183,-0.033312931656837,-0.085246168076992,0.124984867870808,0.031799610704184,0.249219581484795));
res += mul(Get(s0,dx,-dy), float4x4(-0.188529625535011,0.011601989157498,-0.034347612410784,0.022702582180500,0.094101324677467,-0.187476232647896,-0.047300286591053,0.115991041064262,-0.025804419070482,0.099996410310268,0.098716147243977,0.022708063945174,-0.012833393178880,0.084004864096642,-0.041433978825808,-0.035942688584328));
res += mul(Get(s0,dx,0), float4x4(-0.051247797906399,0.204678475856781,-0.445968717336655,-0.075397744774818,0.134613737463951,0.064772568643093,-0.003352917265147,0.112987570464611,0.179613932967186,0.193818852305412,-0.079924412071705,0.116730347275734,0.267742723226547,-0.043028641492128,-0.079770565032959,-0.038019265979528));
res += mul(Get(s0,dx,dy), float4x4(0.044540829956532,0.122393995523453,-0.083443872630596,-0.063314318656921,-0.017025580629706,0.112718366086483,-0.068433657288551,-0.115348920226097,-0.065639026463032,-0.039105605334044,0.161655828356743,0.004426380153745,0.077878557145596,0.158015325665474,0.099772259593010,-0.032447047531605));
res += mul(Get(s1,-dx,-dy), float4x4(0.067589975893497,0.020160812884569,-0.143607676029205,-0.187397316098213,-0.075303472578526,-0.003255894407630,-0.080317087471485,-0.068259991705418,0.248352512717247,-0.129354029893875,-0.243519484996796,-0.047065030783415,0.156931459903717,-0.076434619724751,0.153532549738884,-0.038423165678978));
res += mul(Get(s1,-dx,0), float4x4(-0.002961435820907,-0.242554530501366,0.088161304593086,-0.043756905943155,-0.124556340277195,0.045789614319801,0.106226392090321,-0.254539817571640,0.000535965140443,0.016094176098704,0.397949904203415,-0.219368577003479,-0.218489125370979,-0.025491503998637,-0.048038590699434,-0.177187353372574));
res += mul(Get(s1,-dx,dy), float4x4(0.019923863932490,-0.037009179592133,0.047771003097296,-0.257783144712448,-0.079392030835152,0.043188862502575,0.005183532834053,0.142608806490898,-0.089410677552223,0.093528971076012,0.043845646083355,0.175628706812859,0.016006402671337,-0.106663413345814,-0.009319014847279,-0.013898063451052));
res += mul(Get(s1,0,-dy), float4x4(0.148339673876762,-0.148469135165215,-0.005110457539558,-0.188355520367622,-0.245452821254730,0.007217363454401,-0.344742923974991,-0.052500750869513,0.294947564601898,-0.036014370620251,0.088751509785652,-0.191353514790535,0.126815587282181,-0.413836747407913,-0.226379692554474,0.317880392074585));
res += mul(Get(s1,0,0), float4x4(-0.111953943967819,-0.138658672571182,-0.009458214975893,-0.088874623179436,0.186643034219742,0.079104989767075,0.320732951164246,-0.470689862966537,0.111245363950729,0.105193115770817,-0.061996594071388,-0.252021521329880,0.029210779815912,0.016498025506735,0.197447940707207,-0.336949139833450));
res += mul(Get(s1,0,dy), float4x4(0.049805138260126,-0.156331852078438,0.114129744470119,-0.067241333425045,-0.139328092336655,-0.078069604933262,-0.017380883917212,0.097005091607571,0.028776548802853,-0.175414755940437,0.055106084793806,-0.087109811604023,-0.023176729679108,-0.128387555480003,0.133789807558060,-0.003822502680123));
res += mul(Get(s1,dx,-dy), float4x4(-0.078087568283081,-0.079762876033783,0.000113652567961,0.080423526465893,-0.026458870619535,-0.060408886522055,-0.001860324642621,-0.133545055985451,0.006340429186821,-0.008122627623379,0.038055356591940,-0.322343438863754,0.091591805219650,-0.271626174449921,-0.113404884934425,0.172902837395668));
res += mul(Get(s1,dx,0), float4x4(0.043335124850273,-0.236022785305977,0.222111538052559,-0.228374868631363,-0.021646760404110,-0.027308331802487,-0.055238015949726,-0.076245106756687,0.063134670257568,-0.092178523540497,-0.100348375737667,0.021361552178860,-0.151061207056046,0.078404039144516,0.094797655940056,0.074884675443172));
res += mul(Get(s1,dx,dy), float4x4(-0.034798514097929,0.009557521902025,0.037878211587667,0.147201523184776,-0.004505361896008,0.020484179258347,-0.009264698252082,0.009065291844308,0.065060511231422,0.011407679878175,0.105244159698486,0.122637227177620,-0.039224579930305,-0.122670002281666,-0.006468997802585,-0.027261247858405));
res += mul(Get(s2,-dx,-dy), float4x4(-0.044134117662907,-0.010510777123272,0.020615270361304,0.088353209197521,-0.053581316024065,-0.175756826996803,-0.109677672386169,0.092914648354053,0.127369210124016,0.025701433420181,0.030683374032378,-0.199068456888199,0.150483340024948,0.071270488202572,0.043799050152302,0.010701929219067));
res += mul(Get(s2,-dx,0), float4x4(0.091941229999065,0.028538806363940,-0.056218985468149,0.025571631267667,0.047259408980608,0.133390650153160,-0.257985442876816,-0.225057616829872,0.070773310959339,0.073010593652725,-0.020618077367544,0.000679150747601,-0.054015249013901,0.034684460610151,0.059744216501713,-0.064836084842682));
res += mul(Get(s2,-dx,dy), float4x4(0.022036315873265,-0.042641874402761,-0.042388945817947,0.073235310614109,-0.132736787199974,0.012322154827416,-0.133662834763527,0.186976268887520,0.002820282708853,-0.013396430760622,-0.004584581591189,-0.074456103146076,0.123772628605366,0.042074870318174,0.173178851604462,0.188928410410881));
res += mul(Get(s2,0,-dy), float4x4(0.044868841767311,0.262349337339401,0.218109562993050,-0.358587145805359,0.026232207193971,-0.042669799178839,0.130901724100113,0.019147638231516,0.055996149778366,0.098881818354130,0.021160809323192,-0.256367802619934,0.151642680168152,-0.192527413368225,-0.352905660867691,0.241774469614029));
res += mul(Get(s2,0,0), float4x4(-0.189878195524216,0.034992173314095,-0.101518444716930,-0.445131629705429,-0.055935200303793,0.110362306237221,0.036950610578060,0.009381752461195,0.275190353393555,-0.081367626786232,0.085725396871567,-0.157940849661827,0.102766431868076,0.432215332984924,0.072663582861423,-0.435177505016327));
res += mul(Get(s2,0,dy), float4x4(0.014892813749611,-0.006508945021778,-0.115818448364735,0.255819439888000,-0.026399523019791,0.035338062793016,-0.095130167901516,-0.146199360489845,0.169104620814323,0.104370959103107,0.083317391574383,-0.272685140371323,-0.129121214151382,-0.043541658669710,0.029556989669800,0.267139077186584));
res += mul(Get(s2,dx,-dy), float4x4(-0.101006783545017,0.060281597077847,0.041667025536299,0.183059841394424,0.005252330563962,0.021068045869470,0.098326802253723,-0.081911936402321,0.045556236058474,0.141120657324791,0.048224471509457,-0.155587360262871,0.010897637344897,-0.018675304949284,-0.021180955693126,0.101004153490067));
res += mul(Get(s2,dx,0), float4x4(-0.026293123140931,-0.012897004373372,-0.077733524143696,-0.084511816501617,-0.106434486806393,-0.111249327659607,0.139624133706093,0.069895990192890,0.054013058543205,0.053812220692635,-0.032250776886940,-0.146898895502090,0.013447310775518,0.208237737417221,-0.264600723981857,-0.205922871828079));
res += mul(Get(s2,dx,dy), float4x4(-0.041710231453180,-0.178571984171867,0.037491314113140,0.165028318762779,-0.032147619873285,-0.004562675487250,-0.032470744103193,0.042036816477776,0.000911015144084,0.026774944737554,0.028191560879350,-0.001469751470722,0.037190582603216,0.028870726004243,-0.031157009303570,-0.021699976176023));
res = max(float4(0, 0, 0, 0), res) + float4(1.569302439689636,0.907370030879974,1.027502536773682,-0.052217662334442) * min(float4(0, 0, 0, 0), res);
return res;
}
