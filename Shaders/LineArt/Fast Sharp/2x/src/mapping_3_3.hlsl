sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.231176167726517,-0.021616227924824,-0.161771148443222,-0.104334846138954);
res += mul(Get(s0,-dx,-dy), float4x4(0.209094554185867,-0.071183145046234,-0.151701703667641,0.010871252976358,0.081551663577557,-0.088576436042786,0.159508720040321,-0.240371674299240,-0.064443096518517,-0.044558499008417,0.003132585436106,0.024197192862630,0.237043738365173,-0.045472502708435,0.134164407849312,0.164068102836609));
res += mul(Get(s0,-dx,0), float4x4(0.060194000601768,-0.280495733022690,-0.191140145063400,-0.335960835218430,-0.183712616562843,0.035519246011972,-0.065813414752483,-0.148280799388885,0.171011373400688,-0.078826345503330,-0.010129019618034,-0.300742179155350,0.341914266347885,-0.186090871691704,0.326402336359024,0.004460282158107));
res += mul(Get(s0,-dx,dy), float4x4(-0.050770640373230,-0.002385879168287,0.090650960803032,-0.136145323514938,-0.236808314919472,0.016860025003552,0.407755255699158,-0.408972740173340,0.090413130819798,-0.030452556908131,-0.185495391488075,0.001287930645049,-0.135207056999207,-0.132202997803688,0.013094061054289,-0.090461924672127));
res += mul(Get(s0,0,-dy), float4x4(-0.065475046634674,0.085731104016304,0.141418233513832,-0.067819997668266,0.050428170710802,0.098161228001118,0.082161210477352,0.149852961301804,0.073452636599541,-0.005266700405627,0.029681812971830,0.023330822587013,0.226234689354897,-0.034696161746979,0.118812702596188,-0.108472824096680));
res += mul(Get(s0,0,0), float4x4(-0.041206981986761,-0.110622413456440,0.168355524539948,0.120029099285603,-0.192997559905052,0.175647661089897,-0.214923664927483,-0.187569692730904,0.191569387912750,0.291657239198685,0.349773854017258,-0.614951252937317,0.407997876405716,0.355280756950378,0.410353809595108,-0.081773594021797));
res += mul(Get(s0,0,dy), float4x4(0.038225710391998,0.237609714269638,0.037998802959919,-0.140570327639580,0.199384033679962,-0.308548271656036,-0.126897588372231,0.156314671039581,-0.117135733366013,-0.142014294862747,-0.131423473358154,0.165218681097031,-0.111642166972160,0.192088827490807,0.147038653492928,0.063074357807636));
res += mul(Get(s0,dx,-dy), float4x4(-0.030757332220674,0.224428132176399,0.155448555946350,0.012995689176023,0.205243393778801,0.259558647871017,0.136846423149109,-0.021240461617708,0.003471329575405,-0.167257770895958,-0.058735176920891,0.130789965391159,-0.038030289113522,0.094498418271542,0.055104624480009,0.042904987931252));
res += mul(Get(s0,dx,0), float4x4(-0.198588147759438,-0.399413168430328,-0.159738659858704,0.271710008382797,0.413255035877228,0.392444700002670,0.073870472609997,0.115153424441814,0.166736707091331,-0.212483987212181,-0.068500533699989,0.347432643175125,-0.111718945205212,0.145093351602554,0.030278818681836,0.150732055306435));
res += mul(Get(s0,dx,dy), float4x4(-0.142761975526810,0.059299755841494,0.149258673191071,-0.075874216854572,0.277581006288528,-0.026728626340628,0.017575874924660,-0.175867915153503,0.082773379981518,-0.072326436638832,-0.022013174369931,-0.126582801342010,-0.082523465156555,0.210673078894615,0.102318987250328,-0.075504273176193));
res += mul(Get(s1,-dx,-dy), float4x4(0.089019261300564,-0.086117766797543,0.087752416729927,-0.059510186314583,0.006214289925992,-0.074744246900082,-0.247502073645592,0.126435816287994,-0.137969344854355,0.173311010003090,0.021010652184486,0.270286560058594,0.132721096277237,0.007002030033618,-0.155472666025162,0.037985391914845));
res += mul(Get(s1,-dx,0), float4x4(-0.226484119892120,-0.104600287973881,0.129309028387070,-0.092227838933468,-0.145965427160263,-0.326736450195313,-0.246871963143349,-0.145050540566444,-0.145872682332993,0.093180865049362,-0.070582561194897,-0.027723362669349,0.236520126461983,-0.139665901660919,-0.287506639957428,-0.523826241493225));
res += mul(Get(s1,-dx,dy), float4x4(0.069681547582150,-0.027276189997792,-0.134664669632912,0.009528086520731,0.053686901926994,-0.189194634556770,-0.115105837583542,0.085505209863186,0.079662181437016,0.047885276377201,-0.055480170994997,-0.088585600256920,-0.118452541530132,0.003413473023102,-0.268796294927597,-0.227037832140923));
res += mul(Get(s1,0,-dy), float4x4(0.066158019006252,-0.097174979746342,0.089615948498249,0.184899926185608,-0.035434704273939,-0.068734414875507,-0.132050544023514,-0.138236254453659,-0.122454464435577,-0.011257017962635,0.042632564902306,-0.009773405268788,0.076384142041206,0.057107016444206,-0.142033547163010,0.034833576530218));
res += mul(Get(s1,0,0), float4x4(0.191626012325287,-0.307166934013367,0.412031799554825,-0.000670320121571,-0.618516087532043,0.119093045592308,0.390688240528107,0.098125904798508,-0.327631264925003,0.023425929248333,0.194824457168579,0.525729358196259,0.079149067401886,-0.050998602062464,0.513277888298035,-0.109490342438221));
res += mul(Get(s1,0,dy), float4x4(-0.067117437720299,-0.044557277113199,-0.263410627841949,0.091156244277954,0.184492215514183,0.129525095224380,0.048963487148285,0.018964819610119,-0.231543630361557,-0.500999510288239,0.226389154791832,-0.069403313100338,0.197680205106735,-0.044451199471951,-0.042908869683743,-0.188258439302444));
res += mul(Get(s1,dx,-dy), float4x4(0.057112839072943,-0.222441732883453,0.159730717539787,0.066248044371605,0.041085910052061,0.097251810133457,0.118656195700169,0.118200898170471,0.021688273176551,-0.314707696437836,-0.153087079524994,-0.164803877472878,0.194986730813980,-0.025287430733442,-0.003088593715802,-0.263733386993408));
res += mul(Get(s1,dx,0), float4x4(0.064890287816525,-0.085552476346493,0.144414544105530,-0.071032933890820,0.202795594930649,-0.161031901836395,0.025957226753235,0.092383660376072,-0.117857709527016,-0.399945974349976,0.249086275696754,0.213766828179359,-0.307560831308365,0.125365853309631,-0.068145006895065,-0.579784035682678));
res += mul(Get(s1,dx,dy), float4x4(0.112158335745335,-0.390264749526978,-0.042843848466873,-0.081971585750580,0.236419752240181,-0.254464447498322,-0.069461457431316,-0.132530599832535,0.029729092493653,0.084802329540253,0.297055631875992,0.463870912790298,-0.020869385451078,0.165897846221924,-0.031025009229779,-0.153426736593246));
res += mul(Get(s2,-dx,-dy), float4x4(0.098576515913010,0.069402769207954,0.168064981698990,-0.005748488474637,0.091146916151047,-0.105595059692860,0.153611034154892,0.348318159580231,0.055410634726286,0.063996613025665,0.073373690247536,-0.089650191366673,0.347135186195374,-0.218887537717819,0.346803128719330,0.159182667732239));
res += mul(Get(s2,-dx,0), float4x4(-0.004688510671258,0.265388578176498,0.663721024990082,0.492099612951279,-0.164578184485435,-0.027780696749687,0.324500650167465,0.094525799155235,-0.024136515334249,-0.025322366505861,0.006828887853771,0.457218647003174,0.100246787071228,0.181133702397346,0.373889863491058,-0.093465723097324));
res += mul(Get(s2,-dx,dy), float4x4(0.069338053464890,0.068555682897568,0.283908903598785,0.165819212794304,0.102146834135056,0.045335967093706,0.182954713702202,0.232059523463249,0.035634703934193,-0.121586896479130,-0.427360475063324,-0.240066230297089,0.373958289623260,0.002187355421484,0.336123347282410,0.258908271789551));
res += mul(Get(s2,0,-dy), float4x4(0.151396155357361,0.184799626469612,0.183704584836960,0.089963793754578,0.425256073474884,-0.163138449192047,0.006525745615363,0.088437423110008,-0.008186903782189,0.134973809123039,0.038895070552826,0.175537019968033,0.553316891193390,0.107955791056156,0.021805688738823,0.027084654197097));
res += mul(Get(s2,0,0), float4x4(0.025950681418180,-0.013153066858649,-0.470042407512665,-0.195637702941895,-0.671337783336639,-0.146491646766663,-0.060139037668705,-0.034682724624872,-0.388423115015030,-0.053973082453012,-0.131029322743416,0.137581095099449,0.063527330756187,-0.058309476822615,0.221195831894875,-0.248154655098915));
res += mul(Get(s2,0,dy), float4x4(0.165806636214256,-0.045153055340052,-0.108534820377827,0.256414175033569,-0.145311713218689,-0.171169042587280,-0.179832845926285,0.158310502767563,-0.402442395687103,0.012170054949820,0.130122199654579,0.265688091516495,0.470809429883957,-0.063060067594051,0.315048277378082,0.040902074426413));
res += mul(Get(s2,dx,-dy), float4x4(0.112522982060909,0.067469015717506,0.025783047080040,0.057469312101603,-0.032331854104996,0.542091906070709,-0.037790514528751,0.059344783425331,0.128601983189583,-0.017635349184275,-0.013296362943947,-0.028566922992468,0.198139160871506,0.266774773597717,0.000895101169590,0.121563114225864));
res += mul(Get(s2,dx,0), float4x4(0.324420690536499,-0.291052132844925,-0.260176599025726,-0.131969556212425,-0.198072612285614,0.305880308151245,0.110397808253765,0.295334786176682,-0.159009143710136,0.156779408454895,0.047957681119442,-0.146274209022522,0.374409765005112,0.220547065138817,0.041851021349430,-0.152529925107956));
res += mul(Get(s2,dx,dy), float4x4(0.108397766947746,-0.396741330623627,-0.069514743983746,-0.112065538764000,-0.081878453493118,-0.082414187490940,-0.108673751354218,-0.004692309536040,-0.022178987041116,-0.144196733832359,-0.039825752377510,0.132728740572929,0.247458636760712,0.219215974211693,0.201441451907158,-0.165623784065247));
res = max(float4(0, 0, 0, 0), res) + float4(0.158107891678810,-0.034763123840094,-0.128555983304977,0.305889040231705) * min(float4(0, 0, 0, 0), res);
return res;
}
