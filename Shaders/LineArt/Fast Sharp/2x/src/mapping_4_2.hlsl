sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.192733570933342,-0.176883026957512,-0.059092070907354,-0.051986448466778);
res += mul(Get(s0,-dx,-dy), float4x4(-0.065878644585609,-0.192998155951500,-0.007068291772157,-0.068474128842354,0.016949955374002,0.038710001856089,0.033963181078434,-0.015077739022672,0.065115854144096,-0.040464919060469,0.150395855307579,-0.007557994686067,-0.066826604306698,-0.052073672413826,-0.043623913079500,0.061232347041368));
res += mul(Get(s0,-dx,0), float4x4(0.032512702047825,0.022832358255982,-0.043817318975925,-0.021416591480374,0.048434067517519,0.160001099109650,0.118662342429161,0.052553959190845,0.088262960314751,0.091734118759632,-0.268852949142456,-0.074638597667217,-0.009770045988262,-0.129128828644753,0.093810640275478,0.042441673576832));
res += mul(Get(s0,-dx,dy), float4x4(-0.038513045758009,-0.001691166777164,0.015683803707361,0.037663698196411,-0.157232254743576,0.076609022915363,0.096114180982113,0.000769718433730,0.034159746021032,-0.081988684833050,0.419953048229218,-0.022690342739224,0.168791323900223,0.097289271652699,-0.047198779881001,-0.051470562815666));
res += mul(Get(s0,0,-dy), float4x4(-0.135782942175865,0.160732805728912,-0.118147067725658,0.023770159110427,-0.142196550965309,0.044351629912853,-0.305254727602005,0.118448153138161,0.162552520632744,-0.094473220407963,0.213686957955360,-0.163073658943176,-0.017078477889299,-0.107587419450283,-0.022620500996709,-0.151043221354485));
res += mul(Get(s0,0,0), float4x4(-0.463706582784653,0.089028805494308,0.192659005522728,0.280982196331024,-0.094506606459618,-0.262839287519455,0.304034203290939,-0.000513228587806,-0.293509393930435,-0.077501766383648,-0.340000122785568,-0.144277706742287,-0.180394947528839,0.003686953336000,0.108240760862827,-0.532366752624512));
res += mul(Get(s0,0,dy), float4x4(-0.184923559427261,0.172644793987274,-0.213394820690155,0.019525669515133,0.208539888262749,-0.198189169168472,0.396979868412018,0.101834356784821,0.207571968436241,0.117287777364254,0.111676633358002,0.060218442231417,0.064892388880253,-0.058183897286654,0.111235432326794,0.057862780988216));
res += mul(Get(s0,dx,-dy), float4x4(0.044209476560354,0.021547263488173,-0.076168075203896,-0.026541259139776,0.014494359493256,-0.109625540673733,-0.036500073969364,0.119782648980618,-0.038178790360689,0.136364012956619,0.013289139606059,-0.055016752332449,-0.064943484961987,0.087230369448662,0.010906313546002,-0.039301715791225));
res += mul(Get(s0,dx,0), float4x4(-0.001519807963632,0.172202765941620,0.077452145516872,0.095587745308876,0.055030178278685,-0.076228804886341,0.038570683449507,0.233936682343483,0.105632528662682,-0.033723197877407,0.116968348622322,-0.109955146908760,0.264459609985352,0.243454486131668,-0.055983074009418,0.338243007659912));
res += mul(Get(s0,dx,dy), float4x4(-0.004018197767437,-0.109984956681728,-0.167006582021713,-0.150430947542191,-0.015275422483683,-0.025054134428501,0.411655902862549,0.063875839114189,0.095744743943214,-0.091412164270878,0.119540832936764,-0.179169729351997,-0.075873941183090,0.172141611576080,0.103330358862877,0.060461945831776));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024942934513092,-0.106825143098831,0.091253235936165,-0.012690875679255,0.069413788616657,0.135293528437614,0.012617935426533,-0.031670942902565,0.124021545052528,0.187132075428963,-0.109836846590042,0.083508498966694,-0.016938891261816,0.069374069571495,-0.113235548138618,0.063003264367580));
res += mul(Get(s1,-dx,0), float4x4(-0.067030765116215,0.353427112102509,-0.235555306077003,0.049203939735889,0.087887912988663,0.016976138576865,-0.070593625307083,0.017947340384126,-0.007907749153674,0.174132198095322,0.036285281181335,0.070860415697098,-0.018939701840281,-0.008572587743402,0.154555767774582,0.267878144979477));
res += mul(Get(s1,-dx,dy), float4x4(-0.161537721753120,0.012860107235610,0.070645317435265,0.094976045191288,-0.044600192457438,-0.043568372726440,-0.012366553768516,-0.068777665495872,0.025212688371539,0.026809353381395,-0.212360545992851,-0.107316672801971,0.004524480551481,-0.031997185200453,0.067180886864662,-0.000694416637998));
res += mul(Get(s1,0,-dy), float4x4(-0.028920417651534,0.290921658277512,-0.147693485021591,0.151778221130371,-0.066494904458523,-0.276525884866714,-0.042402382940054,-0.076724544167519,0.169221177697182,-0.316870152950287,0.063786476850510,0.120775885879993,-0.174307182431221,0.070829384028912,-0.349400609731674,0.236949265003204));
res += mul(Get(s1,0,0), float4x4(0.012670510448515,-0.027193095535040,-0.000444773409981,0.229205459356308,-0.070431321859360,0.036683779209852,-0.606364727020264,0.041266020387411,0.111818276345730,-0.259975761175156,-0.297426462173462,-0.107947632670403,0.106791436672211,0.010312437079847,0.356881886720657,-0.477370321750641));
res += mul(Get(s1,0,dy), float4x4(-0.191862627863884,0.214416667819023,-0.114766351878643,0.082678332924843,0.099642120301723,-0.065239727497101,0.185976281762123,-0.191504687070847,0.033614009618759,-0.197550088167191,0.017882553860545,-0.029761025682092,-0.136006176471710,0.164068967103958,0.093571908771992,0.101302310824394));
res += mul(Get(s1,dx,-dy), float4x4(-0.122452512383461,0.047733597457409,-0.103419773280621,-0.071802519261837,0.035815656185150,-0.045701839029789,0.028252361342311,0.048624694347382,-0.043678291141987,0.062318261712790,0.031412377953529,-0.093252547085285,-0.084092594683170,-0.239111825823784,-0.110521487891674,0.149048224091530));
res += mul(Get(s1,dx,0), float4x4(-0.114663414657116,0.494761765003204,-0.093717977404594,0.077682159841061,-0.072686262428761,-0.227285087108612,-0.062693797051907,0.061557121574879,0.191760092973709,-0.154227495193481,-0.181818559765816,0.260806828737259,-0.129852458834648,-0.218211457133293,0.155479446053505,0.346149653196335));
res += mul(Get(s1,dx,dy), float4x4(-0.124313093721867,0.078061461448669,-0.063699848949909,-0.038527417927980,-0.142984673380852,0.090982452034950,0.009873254224658,-0.012657564133406,-0.027970772236586,0.193720802664757,0.064880415797234,0.057959079742432,-0.052935939282179,-0.023897934705019,-0.038294862955809,-0.058215703815222));
res += mul(Get(s2,-dx,-dy), float4x4(-0.209298819303513,-0.252461910247803,0.173173591494560,0.031549371778965,-0.133384674787521,-0.066664494574070,-0.333807408809662,0.009034221060574,0.155985996127129,0.210167497396469,-0.025067169219255,-0.006624195724726,0.100094564259052,-0.142097920179367,-0.008176405914128,-0.085118956863880));
res += mul(Get(s2,-dx,0), float4x4(-0.147061780095100,-0.114834979176521,-0.171793907880783,-0.036383997648954,0.153004676103592,-0.117541179060936,-0.074097424745560,-0.043420962989330,0.297925680875778,0.085006780922413,-0.144102662801743,-0.010016661137342,0.183863565325737,0.144663825631142,0.155928537249565,0.060516823083162));
res += mul(Get(s2,-dx,dy), float4x4(0.051364701241255,0.063400126993656,-0.054264452308416,0.017450472339988,0.096937067806721,-0.120636515319347,-0.054828517138958,-0.057213485240936,-0.075996607542038,-0.053306750953197,-0.037505399435759,0.005142612382770,0.008610151708126,0.006180142052472,-0.093307271599770,0.012431755661964));
res += mul(Get(s2,0,-dy), float4x4(0.238017439842224,0.289492368698120,0.357439160346985,-0.138429716229439,0.069789528846741,0.188068628311157,-0.122836060822010,0.029518453404307,0.017740787938237,-0.164852440357208,-0.081104956567287,-0.028763942420483,0.078073985874653,-0.041763652116060,-0.170539721846581,0.096626669168472));
res += mul(Get(s2,0,0), float4x4(0.239564329385757,-0.159685194492340,-0.540258526802063,-0.130215585231781,-0.069663837552071,0.112642109394073,0.046208266168833,0.318912178277969,-0.098675221204758,-0.078347995877266,-0.169087827205658,0.015925507992506,0.078228063881397,0.029192864894867,0.243928536772728,-0.078280024230480));
res += mul(Get(s2,0,dy), float4x4(0.027222255244851,0.030270099639893,-0.764413475990295,0.188733741641045,-0.056882545351982,-0.124238871037960,0.139561206102371,0.081893272697926,-0.024494277313352,0.010855008848011,0.088689364492893,0.025321543216705,0.291036844253540,0.029323462396860,-0.231200531125069,-0.362171202898026));
res += mul(Get(s2,dx,-dy), float4x4(-0.207553997635841,0.143979430198669,0.095556579530239,0.003172502852976,0.021201593801379,-0.289168655872345,0.005835077259690,-0.068625077605247,0.138193249702454,-0.246941044926643,-0.062685571610928,-0.023683905601501,0.040268886834383,0.032184399664402,0.102098569273949,0.103239424526691));
res += mul(Get(s2,dx,0), float4x4(-0.004976211581379,0.203747168183327,-0.068050779402256,-0.083911836147308,-0.253974169492722,-0.010710868984461,-0.084964908659458,-0.305256754159927,0.063345111906528,-0.028866954147816,-0.201514139771461,-0.142308637499809,0.269147992134094,-0.308086037635803,-0.069163240492344,0.332140177488327));
res += mul(Get(s2,dx,dy), float4x4(0.128043055534363,-0.139276280999184,-0.204162850975990,0.027701951563358,-0.011037853546441,0.032273791730404,0.072665639221668,-0.021440993994474,0.088406212627888,-0.001588379265741,-0.006193880923092,0.055740155279636,0.100087694823742,-0.124742403626442,0.012937085703015,-0.069367684423923));
res = max(float4(0, 0, 0, 0), res) + float4(2.183890819549561,0.228538140654564,0.047653649002314,1.014042019844055) * min(float4(0, 0, 0, 0), res);
return res;
}
