sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.155189558863640,-0.088638730347157,-0.028159232810140,-0.055543798953295);
res += mul(Get(s0,-dx,-dy), float4x4(0.002106039784849,-0.066454328596592,-0.071109443902969,-0.164694547653198,-0.066764287650585,-0.186870455741882,0.375219136476517,-0.007178101222962,-0.100204132497311,0.157142236828804,0.194800630211830,0.046847593039274,-0.124176383018494,0.421955853700638,-0.049582928419113,0.015641761943698));
res += mul(Get(s0,-dx,0), float4x4(0.324075341224670,0.122965842485428,-0.097834877669811,-0.347196936607361,-0.039363522082567,-0.177310258150101,-0.048534404486418,-0.230487704277039,-0.013608183711767,0.144808351993561,0.034387502819300,0.254377424716949,-0.048389092087746,0.139429464936256,-0.064492806792259,0.064967982470989));
res += mul(Get(s0,-dx,dy), float4x4(0.130345046520233,0.005034125875682,0.168010145425797,-0.024811843410134,-0.063747085630894,0.278119683265686,0.449327528476715,-0.115466237068176,0.191962271928787,-0.065070286393166,0.012393897399306,-0.023332582786679,0.090055607259274,-0.076266579329967,0.067079573869705,-0.060961704701185));
res += mul(Get(s0,0,-dy), float4x4(0.073496811091900,0.071674227714539,-0.262342780828476,0.091750890016556,0.242251992225647,-0.104794286191463,0.327737927436829,-0.092601656913757,0.006521154195070,0.094414174556732,0.104971796274185,-0.189392849802971,0.010420694947243,0.118435472249985,-0.316717386245728,-0.139204978942871));
res += mul(Get(s0,0,0), float4x4(0.189369618892670,-0.079442806541920,0.226819396018982,0.369310945272446,-0.154563859105110,0.120105333626270,-0.089628934860229,0.079138234257698,0.064022921025753,0.119705393910408,0.152430459856987,-0.200515329837799,0.106339126825333,0.081297539174557,0.214771911501884,0.321159571409225));
res += mul(Get(s0,0,dy), float4x4(0.046299066394567,0.023265002295375,0.021830275654793,-0.000117506933748,0.259861111640930,-0.025399906560779,0.236245676875114,0.025137662887573,0.163837701082230,-0.208379909396172,-0.087026588618755,0.251410454511642,0.134498164057732,-0.157838612794876,0.040998470038176,0.031281810253859));
res += mul(Get(s0,dx,-dy), float4x4(-0.043550096452236,0.158702298998833,-0.101402290165424,0.028835231438279,0.116249494254589,0.109039336442947,0.079105868935585,0.096395798027515,0.060667466372252,0.135774105787277,-0.210341185331345,0.126136064529419,-0.015057019889355,0.017931178212166,-0.117928981781006,0.022965621203184));
res += mul(Get(s0,dx,0), float4x4(-0.002625973895192,0.027912916615605,0.009698706679046,-0.270372837781906,0.137516736984253,0.200658917427063,-0.007011586800218,0.242306441068649,0.138601467013359,0.023697460070252,-0.012097419239581,0.310890555381775,0.026421286165714,0.070239484310150,0.220280289649963,-0.107094004750252));
res += mul(Get(s0,dx,dy), float4x4(-0.076973974704742,-0.000391792797018,-0.036844622343779,-0.066957794129848,0.113088138401508,-0.046281542629004,-0.231948256492615,0.116938389837742,0.018379662185907,0.017265677452087,0.012802056036890,0.046489700675011,0.025410903617740,-0.011133661493659,-0.061178941279650,0.007792822085321));
res += mul(Get(s1,-dx,-dy), float4x4(0.046006686985493,0.313973605632782,0.020868452265859,0.003813460469246,-0.081573486328125,-0.355074435472488,0.006243113428354,-0.080736525356770,0.013517580926418,-0.112597629427910,0.127783983945847,-0.062755852937698,0.150884717702866,-0.033498127013445,0.100323811173439,-0.156747892498970));
res += mul(Get(s1,-dx,0), float4x4(-0.164759546518326,-0.004143213387579,0.002761355368420,0.232223212718964,0.424373716115952,0.412164568901062,-0.022290542721748,0.039788223803043,0.253511041402817,-0.220336705446243,0.129845440387726,-0.027208494022489,0.317319840192795,0.126644626259804,-0.120104655623436,-0.116485886275768));
res += mul(Get(s1,-dx,dy), float4x4(-0.123521655797958,-0.013661555945873,0.150463879108429,0.055879354476929,0.109368979930878,-0.035331934690475,-0.069451823830605,-0.078337535262108,-0.018829885870218,0.033454071730375,0.013273703865707,0.126864746212959,0.306283622980118,-0.116888687014580,0.097280405461788,-0.000659705605358));
res += mul(Get(s1,0,-dy), float4x4(0.211511880159378,0.241858780384064,0.040859885513783,-0.262639820575714,-0.199920803308487,-0.332386821508408,-0.014745996333659,0.136811196804047,0.068255528807640,-0.109339654445648,0.129534393548965,0.233635887503624,0.303292810916901,-0.109999269247055,0.002245683688670,-0.039160501211882));
res += mul(Get(s1,0,0), float4x4(-0.014015548862517,-0.139289319515228,0.448523730039597,-0.114456228911877,-0.450993865728378,0.290111780166626,0.573910713195801,-0.113154232501984,0.239924818277359,0.048348214477301,0.053659383207560,-0.027250351384282,0.355352252721786,0.018270893022418,0.572183787822723,0.316391021013260));
res += mul(Get(s1,0,dy), float4x4(0.151330858469009,-0.140210285782814,-0.226800352334976,0.049772489815950,0.188320532441139,-0.166808590292931,-0.195009484887123,0.066267021000385,-0.038663595914841,0.095893561840057,0.294510751962662,-0.067269802093506,0.138420999050140,-0.269386589527130,-0.256645798683167,0.154563814401627));
res += mul(Get(s1,dx,-dy), float4x4(0.048607107251883,0.019949447363615,0.000180532777449,-0.105186566710472,-0.082808271050453,0.008250122889876,-0.254648894071579,0.138369783759117,0.016858173534274,0.033938374370337,0.127588853240013,0.028081441298127,0.057342763990164,-0.077656120061874,0.167848765850067,0.030953623354435));
res += mul(Get(s1,dx,0), float4x4(0.004197628702968,0.151000067591667,-0.243854165077209,0.119468808174133,-0.012068183161318,0.013943473808467,0.050560634583235,0.179947301745415,0.111869439482689,0.063013434410095,-0.049423176795244,-0.181573897600174,0.017141951248050,0.098241105675697,0.101595081388950,-0.304756402969360));
res += mul(Get(s1,dx,dy), float4x4(0.012798807583749,-0.055271763354540,-0.107665777206421,0.113165043294430,0.055870298296213,0.098796620965004,0.111844874918461,-0.050514325499535,0.003479535691440,-0.054062422364950,0.132613569498062,0.189139783382416,-0.131390571594238,0.074576430022717,-0.148609697818756,-0.138740018010139));
res += mul(Get(s2,-dx,-dy), float4x4(0.017421765252948,0.236516013741493,-0.061438564211130,0.021345864981413,-0.155427694320679,0.043385542929173,-0.095656238496304,-0.197967067360878,0.150706321001053,0.165452986955643,-0.013999766670167,-0.025824861600995,-0.141434103250504,0.627880156040192,-0.260384857654572,-0.052943248301744));
res += mul(Get(s2,-dx,0), float4x4(-0.272569298744202,0.234709382057190,0.160387337207794,0.340629905462265,-0.151986569166183,0.025377908721566,0.089919894933701,0.097998812794685,-0.003938181791455,-0.336398810148239,0.113766662776470,0.023750601336360,0.133501470088959,0.128657042980194,-0.060369376093149,0.148352518677711));
res += mul(Get(s2,-dx,dy), float4x4(-0.284453362226486,0.016717901453376,-0.045003715902567,-0.018633352592587,-0.259922504425049,-0.101267904043198,0.061470396816730,0.043123766779900,0.149061471223831,0.123981773853302,0.048602487891912,0.034862484782934,-0.047189645469189,0.122703716158867,0.013883613981307,0.093948848545551));
res += mul(Get(s2,0,-dy), float4x4(0.162383630871773,0.018926445394754,-0.115538477897644,-0.121450558304787,-0.237040594220161,-0.137917548418045,0.012784816324711,-0.006298210471869,0.194768607616425,0.098015382885933,-0.063060134649277,-0.042702324688435,-0.198776945471764,0.506771504878998,-0.582105576992035,-0.119626998901367));
res += mul(Get(s2,0,0), float4x4(-0.203733339905739,0.246459752321243,-0.302905350923538,-0.018688505515456,0.128338977694511,-0.096142761409283,-0.031698923557997,-0.044561933726072,0.004075931385159,-0.399763971567154,0.489107787609100,-0.093733370304108,0.169442728161812,-0.040070593357086,-0.264930218458176,0.216503635048866));
res += mul(Get(s2,0,dy), float4x4(-0.089039228856564,0.096108272671700,-0.010669607669115,-0.007684472948313,-0.156508326530457,-0.116658307611942,-0.128183066844940,-0.013273964636028,-0.093437246978283,0.042143478989601,0.300643801689148,-0.067911118268967,-0.013506415300071,0.279345870018005,-0.141835168004036,0.079574272036552));
res += mul(Get(s2,dx,-dy), float4x4(-0.046003334224224,0.132938906550407,-0.175876334309578,0.050320848822594,-0.001926527125761,0.011961936950684,-0.073448978364468,-0.083970621228218,0.016616348177195,-0.050105873495340,0.104514554142952,-0.018873561173677,0.018703386187553,0.415858685970306,-0.489738702774048,0.064862862229347));
res += mul(Get(s2,dx,0), float4x4(0.222114488482475,-0.069878943264484,-0.240431204438210,0.266595065593719,-0.075664922595024,0.126172676682472,-0.002588892821223,-0.222178310155869,-0.141614422202110,-0.066070735454559,0.031527303159237,-0.174697577953339,0.135036736726761,0.055819749832153,-0.110031425952911,0.177765846252441));
res += mul(Get(s2,dx,dy), float4x4(0.051663506776094,0.229582712054253,-0.066909477114677,0.023523706942797,-0.034746054559946,-0.077012978494167,-0.125656813383102,0.056982453912497,-0.076810151338577,0.015325298532844,0.122741565108299,-0.194029659032822,0.009437704458833,0.067271634936333,-0.034565836191177,-0.003746443195269));
res = max(float4(0, 0, 0, 0), res) + float4(0.828130245208740,-0.173502027988434,0.089178033173084,0.869291305541992) * min(float4(0, 0, 0, 0), res);
return res;
}
