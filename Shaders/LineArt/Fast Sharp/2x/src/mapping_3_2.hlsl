sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.011771610938013,-0.066601909697056,-0.080891773104668,-0.025022579357028);
res += mul(Get(s0,-dx,-dy), float4x4(-0.186992347240448,0.111454375088215,-0.093452565371990,0.052803736180067,-0.203448608517647,-0.119721502065659,-0.100390240550041,-0.074442908167839,0.047329399734735,-0.013135302811861,0.104669526219368,0.004248924087733,-0.046676881611347,-0.054021690040827,0.119207747280598,0.028623322024941));
res += mul(Get(s0,-dx,0), float4x4(-0.569205224514008,-0.089650258421898,0.008816783316433,0.083228528499603,-0.143459543585777,-0.068704217672348,0.184260025620461,0.108799554407597,0.102149531245232,-0.180630952119827,0.119723446667194,-0.176542520523071,0.100361779332161,0.343753010034561,0.123725555837154,0.223637238144875));
res += mul(Get(s0,-dx,dy), float4x4(0.010485951788723,0.012410098686814,0.372752815485001,0.093183867633343,0.226406216621399,-0.155000463128090,0.802620649337769,0.073668174445629,-0.107343949377537,0.028074968606234,0.036544296890497,-0.025229224935174,0.004507633857429,-0.065023243427277,0.111704252660275,-0.038425255566835));
res += mul(Get(s0,0,-dy), float4x4(0.111184857785702,-0.005330185405910,-0.097309283912182,-0.037181895226240,0.145931482315063,0.003139338456094,-0.057860467582941,0.247548758983612,0.070069238543510,0.022688517346978,0.128672465682030,-0.051747512072325,0.061882805079222,-0.027912264689803,-0.074946194887161,-0.338688522577286));
res += mul(Get(s0,0,0), float4x4(0.185974970459938,0.133269011974335,0.305771589279175,0.193157091736794,-0.129185840487480,-0.254331707954407,0.247353166341782,-0.075284734368324,0.000291472591925,0.249217256903648,0.072064861655235,0.062266338616610,0.134639769792557,0.377740055322647,-0.197952121496201,0.254019290208817));
res += mul(Get(s0,0,dy), float4x4(0.009551653638482,-0.080740801990032,0.196872919797897,0.093338571488857,-0.158066183328629,-0.015926772728562,0.144637748599052,-0.055740755051374,-0.029914170503616,0.205792650580406,-0.132406696677208,0.174535036087036,-0.141355127096176,-0.023323796689510,0.042210303246975,0.124017186462879));
res += mul(Get(s0,dx,-dy), float4x4(0.119777612388134,-0.036119375377893,0.167191371321678,-0.177085906267166,0.071150042116642,-0.067775733768940,0.206168025732040,0.203910276293755,0.003328853286803,0.041571751236916,-0.002457422669977,-0.120344869792461,0.027118917554617,-0.044180285185575,-0.216127023100853,0.013775976374745));
res += mul(Get(s0,dx,0), float4x4(0.446114867925644,-0.083228521049023,-0.047985576093197,-0.098401360213757,-0.064241990447044,0.117284543812275,0.314410895109177,0.116056196391582,-0.170590087771416,0.255553841590881,0.555553495883942,0.040387414395809,0.232572689652443,-0.082855716347694,0.053190529346466,0.097457252442837));
res += mul(Get(s0,dx,dy), float4x4(0.124727122485638,-0.049320463091135,0.122332505881786,-0.082859091460705,-0.216485023498535,0.214729666709900,0.165573447942734,0.077055662870407,-0.066006921231747,0.112740382552147,0.182047739624977,0.102197319269180,0.062793821096420,0.029692828655243,0.185152366757393,0.080226220190525));
res += mul(Get(s1,-dx,-dy), float4x4(-0.080382972955704,0.045941177755594,0.110600747168064,0.021669637411833,0.112720973789692,0.064118981361389,-0.054511126130819,0.037254832684994,0.105595387518406,-0.035153940320015,-0.036703664809465,0.048003584146500,-0.109051339328289,0.069617338478565,0.074113309383392,0.124484129250050));
res += mul(Get(s1,-dx,0), float4x4(0.448824018239975,-0.057974845170975,0.035893950611353,0.018377237021923,-0.285133421421051,-0.138326808810234,0.110416904091835,-0.212973669171333,-0.144917190074921,-0.110427334904671,-0.049192983657122,0.048285134136677,-0.479046165943146,-0.052144810557365,0.053772300481796,0.083059594035149));
res += mul(Get(s1,-dx,dy), float4x4(0.218358606100082,0.226168036460876,-0.042219065129757,-0.009346731007099,-0.128879368305206,0.184207335114479,0.040651131421328,0.059863533824682,0.151923522353172,-0.153294458985329,-0.212191268801689,0.015073219314218,-0.108603768050671,-0.018704812973738,0.350675344467163,0.095567002892494));
res += mul(Get(s1,0,-dy), float4x4(0.248521760106087,0.042939469218254,-0.027437202632427,0.249120563268661,-0.204148530960083,-0.068367734551430,-0.113128803670406,-0.185104981064796,0.100421369075775,-0.105696782469749,-0.208013802766800,-0.046569488942623,0.141242831945419,0.104560106992722,0.339342147111893,0.485988408327103));
res += mul(Get(s1,0,0), float4x4(-0.202072083950043,0.074956953525543,-0.059015195816755,-0.288859307765961,0.518734633922577,-0.416651487350464,0.126618698239326,0.440863996744156,0.240123778581619,-0.362507611513138,-0.150948807597160,0.246433854103088,-0.100148752331734,-0.344571888446808,0.477743208408356,0.064927950501442));
res += mul(Get(s1,0,dy), float4x4(-0.408234447240829,0.067958220839500,-0.225000321865082,-0.002125977771357,-0.050101697444916,0.205210939049721,-0.339983731508255,-0.240530058741570,0.256966114044189,-0.529006421566010,0.018439374864101,0.153378441929817,-0.258357614278793,0.298467397689819,-0.178692668676376,0.150897577404976));
res += mul(Get(s1,dx,-dy), float4x4(0.047060508280993,0.013470483012497,-0.008141016587615,0.026834730058908,-0.002866225084290,0.058024056255817,-0.197180330753326,-0.042321424931288,0.050672721117735,-0.086867846548557,-0.057997640222311,0.009305004961789,-0.276243805885315,-0.066286213696003,0.119796790182590,0.013403171673417));
res += mul(Get(s1,dx,0), float4x4(-0.020615950226784,0.153296470642090,0.072401635348797,-0.016862114891410,-0.110151998698711,0.233895599842072,-0.157959982752800,-0.014114646241069,0.359077751636505,-0.204901650547981,0.062763035297394,-0.083098351955414,0.051391202956438,-0.059187319129705,0.105798818171024,-0.039824664592743));
res += mul(Get(s1,dx,dy), float4x4(-0.091475367546082,0.244191691279411,-0.006838528905064,0.037569619715214,0.017672389745712,0.275719672441483,0.014303634874523,-0.011545471847057,-0.032914243638515,0.020746340975165,0.031418710947037,0.118389487266541,-0.001664452254772,0.103100158274174,-0.019028114154935,-0.215623021125793));
res += mul(Get(s2,-dx,-dy), float4x4(-0.202901497483253,-0.111030302941799,0.007861104793847,-0.115689150989056,-0.116550035774708,-0.047357130795717,-0.156342133879662,-0.011418621987104,-0.025674048811197,0.063588373363018,-0.015131343156099,-0.015369034372270,-0.013871059753001,0.045034065842628,0.179440811276436,-0.072728507220745));
res += mul(Get(s2,-dx,0), float4x4(0.651005268096924,0.097082436084747,0.251760572195053,0.050260607153177,0.338947087526321,0.050288520753384,-0.109300144016743,0.040267266333103,-0.156540304422379,0.182992592453957,-0.323636144399643,-0.024532649666071,-0.013008806854486,0.324331462383270,0.056237101554871,0.044587720185518));
res += mul(Get(s2,-dx,dy), float4x4(0.247090131044388,0.070576861500740,-0.199947014451027,-0.055509962141514,0.156033620238304,0.087657302618027,-0.232504308223724,-0.041527554392815,-0.235845923423767,-0.045051869004965,-0.108805179595947,-0.035214968025684,0.078464142978191,0.381674945354462,-0.268400251865387,-0.029278177767992));
res += mul(Get(s2,0,-dy), float4x4(0.128835499286652,0.038034584373236,-0.065205648541451,0.094491258263588,-0.147355765104294,0.186288893222809,-0.258043915033340,-0.176642283797264,0.171700701117516,-0.001871560234576,0.115756459534168,0.286483675241470,0.117759235203266,0.240996226668358,0.086571343243122,-0.181052953004837));
res += mul(Get(s2,0,0), float4x4(0.291564494371414,-0.070090815424919,-0.177337363362312,-0.464333087205887,-0.068562686443329,-0.236398681998253,-0.380837112665176,-0.249142736196518,-0.006937234662473,-0.165631338953972,0.094220176339149,0.234383285045624,0.138203725218773,0.131007775664330,-0.153476536273956,0.169676080346107));
res += mul(Get(s2,0,dy), float4x4(0.022645927965641,0.334447979927063,-0.284111917018890,-0.178979560732841,-0.027522912248969,-0.114405311644077,-0.295493215322495,-0.167922973632813,-0.011958717368543,-0.030308436602354,-0.123264901340008,-0.045509599149227,0.026722103357315,0.098754972219467,-0.119279481470585,0.002838457468897));
res += mul(Get(s2,dx,-dy), float4x4(0.020373655483127,-0.138329088687897,-0.023497458547354,-0.077830895781517,0.069744974374771,0.033700093626976,-0.188462257385254,-0.076271042227745,-0.087554775178432,-0.030390702188015,0.172897353768349,0.061378717422485,0.004182634409517,-0.030904892832041,-0.158616498112679,-0.235526993870735));
res += mul(Get(s2,dx,0), float4x4(-0.234176412224770,-0.036236010491848,-0.248375639319420,0.296388328075409,0.245474860072136,0.075693435966969,-0.048512972891331,-0.080234766006470,-0.049078702926636,-0.144879058003426,-0.242390692234039,-0.095729947090149,0.173182442784309,0.289912164211273,-0.071210578083992,0.051676198840141));
res += mul(Get(s2,dx,dy), float4x4(-0.021943027153611,0.138523995876312,0.266620665788651,0.076299540698528,0.023802286013961,0.034509636461735,-0.084888786077499,-0.098381623625755,0.070922583341599,-0.167749688029289,-0.221908241510391,-0.192669495940208,0.187764301896095,0.297068357467651,0.001855777576566,0.058469045907259));
res = max(float4(0, 0, 0, 0), res) + float4(0.362893313169479,1.333146691322327,0.107886962592602,1.044577956199646) * min(float4(0, 0, 0, 0), res);
return res;
}
