sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.237264290452003,0.038795575499535,0.053795386105776,-0.050024513155222);
res += mul(Get(s0,-dx,-dy), float4x4(0.077392123639584,0.142068400979042,0.000438506627688,0.142359822988510,-0.127735584974289,0.062944769859314,-0.067351475358009,0.454990178346634,0.098825454711914,-0.089659869670868,-0.309865832328796,-0.240367010235786,0.083950035274029,0.100149691104889,-0.122559010982513,0.048320729285479));
res += mul(Get(s0,-dx,0), float4x4(-0.097768358886242,-0.086389862000942,0.171154111623764,-0.101101249456406,-0.467464089393616,0.175457254052162,-0.160265490412712,0.256499320268631,0.159472018480301,-0.355048745870590,0.079348154366016,-0.369268029928207,0.055199224501848,-0.164121419191360,-0.173727899789810,0.420770019292831));
res += mul(Get(s0,-dx,dy), float4x4(0.090670131146908,0.008086413145065,0.000843092624564,0.132394388318062,0.290009617805481,0.041214462369680,-0.206571832299232,-0.116332553327084,-0.048034947365522,-0.184817269444466,0.399101078510284,-0.274080663919449,-0.003889609128237,0.134508833289146,0.061847031116486,0.128039807081223));
res += mul(Get(s0,0,-dy), float4x4(-0.095523931086063,-0.265600830316544,0.216564223170280,-0.141948863863945,0.346272230148315,-0.276742964982986,0.252592742443085,0.314219892024994,0.151304885745049,-0.378085613250732,0.243672877550125,0.193059578537941,-0.181582316756248,-0.192466348409653,0.265663295984268,-0.466437816619873));
res += mul(Get(s0,0,0), float4x4(0.014457383193076,0.517072319984436,-0.155018389225006,0.099836498498917,0.008326241746545,0.118389315903187,0.056121002882719,-0.162446260452271,0.227274551987648,0.091305084526539,0.015727870166302,-0.098951049149036,0.259754955768585,0.263751029968262,0.191313549876213,0.193551570177078));
res += mul(Get(s0,0,dy), float4x4(0.372555434703827,0.132440268993378,-0.348811984062195,-0.177216738462448,-0.125135898590088,-0.111986614763737,-0.089498065412045,-0.030239967629313,-0.284103482961655,0.371892035007477,0.040987569838762,0.098548017442226,-0.086243011057377,-0.141863927245140,0.141618847846985,0.271718263626099));
res += mul(Get(s0,dx,-dy), float4x4(0.212109252810478,-0.089739032089710,0.068665973842144,-0.148935705423355,-0.172237113118172,0.052630435675383,-0.271711021661758,-0.461174666881561,0.252442479133606,-0.096962854266167,0.125543251633644,-0.123223759233952,-0.007117448374629,0.180912837386131,-0.039288431406021,0.270669579505920));
res += mul(Get(s0,dx,0), float4x4(-0.108136035501957,-0.079581312835217,0.019722253084183,0.133050158619881,0.126080125570297,0.096860058605671,0.011354097165167,-0.166276246309280,-0.143693491816521,-0.041251812130213,0.123445712029934,-0.298397332429886,-0.224148154258728,0.165540963411331,-0.354574710130692,-0.770661234855652));
res += mul(Get(s0,dx,dy), float4x4(-0.084687612950802,-0.043298795819283,0.089391365647316,-0.042662024497986,0.110997267067432,-0.142267808318138,0.097387611865997,0.243664085865021,-0.065451607108116,-0.125873118638992,-0.073106862604618,0.129392966628075,0.111519776284695,0.214446842670441,0.059438824653625,-0.302967369556427));
res += mul(Get(s1,-dx,-dy), float4x4(0.075815804302692,0.000133176872623,0.030042760074139,-0.059436388313770,-0.075271792709827,0.057058177888393,0.143189713358879,0.349123835563660,-0.161031857132912,-0.199259385466576,0.268358916044235,-0.047437049448490,-0.198598220944405,0.103369764983654,-0.058845963329077,0.147865548729897));
res += mul(Get(s1,-dx,0), float4x4(-0.233314663171768,0.368705540895462,-0.657100379467010,0.388393789529800,-0.269808650016785,-0.312385439872742,0.059975277632475,0.272889167070389,-0.192810371518135,-0.070863746106625,0.459295570850372,-0.322644084692001,0.007941866293550,-0.269574761390686,0.112790167331696,-0.288699090480804));
res += mul(Get(s1,-dx,dy), float4x4(-0.099248364567757,-0.197242990136147,0.144012540578842,-0.618385434150696,0.119313687086105,0.111781962215900,0.255253285169601,-0.152676418423653,0.248927459120750,0.058867797255516,-0.000602895801421,0.040502142161131,-0.076349943876266,0.073246687650681,-0.013378927484155,0.008983929641545));
res += mul(Get(s1,0,-dy), float4x4(-0.364000558853149,0.106957666575909,-0.093492217361927,-0.405997604131699,-0.113388389348984,0.129923880100250,-0.099858485162258,0.209647148847580,0.181949183344841,-0.099564708769321,-0.043615166097879,0.416811823844910,0.477650433778763,-0.129707589745522,0.146449208259583,0.177412629127502));
res += mul(Get(s1,0,0), float4x4(1.083375215530396,-0.353409856557846,0.715633034706116,0.197115287184715,-0.038393989205360,-0.064461484551430,-0.315693110227585,-0.064041167497635,0.179143056273460,-0.202632993459702,-0.006699479650706,-0.380595177412033,-0.529370427131653,0.368725836277008,0.170321971178055,0.375356882810593));
res += mul(Get(s1,0,dy), float4x4(-0.423888325691223,-0.423688411712646,-0.021061029285192,0.367188662290573,0.114447787404060,0.547063052654266,-0.149471580982208,-0.153687804937363,0.412574708461761,0.181879028677940,-0.118353471159935,-0.566572606563568,0.150884672999382,0.187977537512779,-0.094342350959778,-0.470993250608444));
res += mul(Get(s1,dx,-dy), float4x4(-0.123885028064251,-0.160136610269547,-0.010802104137838,0.182911798357964,0.039817016571760,-0.014970523305237,-0.170037508010864,-0.194109439849854,0.110891588032246,-0.095813244581223,-0.083316117525101,0.055048678070307,0.057047337293625,-0.138335958123207,-0.097201980650425,0.023460820317268));
res += mul(Get(s1,dx,0), float4x4(-0.294388622045517,0.196433946490288,-0.007361421361566,-0.150116547942162,0.255994111299515,-0.174434706568718,0.419497549533844,0.303475677967072,0.181838378310204,0.168547973036766,-0.078913092613220,0.019001409411430,0.179575860500336,0.093394070863724,-0.098410576581955,0.217550262808800));
res += mul(Get(s1,dx,dy), float4x4(0.145135506987572,-0.049972515553236,0.139263585209846,0.139117583632469,-0.220253199338913,0.275052338838577,-0.288847059011459,-0.181480303406715,-0.013858094811440,0.114137686789036,-0.384902030229568,0.253640711307526,-0.298252224922180,-0.047836251556873,0.074785254895687,-0.056165628135204));
res += mul(Get(s2,-dx,-dy), float4x4(-0.540951728820801,-0.113922990858555,0.403453648090363,1.013498306274414,0.006181965116411,0.033541910350323,-0.070132203400135,0.177705138921738,0.030813876539469,0.203349396586418,-0.687235891819000,0.037846516817808,-0.059038404375315,0.047712232917547,-0.141854748129845,-0.238001108169556));
res += mul(Get(s2,-dx,0), float4x4(-0.659399628639221,0.170352593064308,-1.355119466781616,-1.052124500274658,-0.208964347839355,-0.153556033968925,-0.190560445189476,0.130952373147011,-0.079610444605350,0.097973227500916,-0.548308014869690,-0.097073875367641,-0.004442410077900,0.088738545775414,-0.355517446994781,0.008667930029333));
res += mul(Get(s2,-dx,dy), float4x4(0.701972544193268,0.298706829547882,0.203534945845604,-0.812002182006836,-0.181074604392052,0.100684285163879,-0.010701540857553,0.142978265881538,-0.020695714280009,0.081833489239216,-0.266000717878342,0.024202056229115,0.151137456297874,0.097832620143890,0.099028289318085,-0.182258442044258));
res += mul(Get(s2,0,-dy), float4x4(-0.439991474151611,-0.133482635021210,0.175269678235054,-0.802676081657410,0.041021078824997,-0.140435636043549,0.088552296161652,0.208306774497032,-0.106407471001148,0.207851558923721,0.067010752856731,-0.344503730535507,-0.054141212254763,0.088079348206520,0.026196481660008,-0.176613047719002));
res += mul(Get(s2,0,0), float4x4(-0.112470835447311,0.192748382687569,-0.377962082624435,0.838411927223206,0.020412385463715,0.372064083814621,-0.345712363719940,-0.617134511470795,-0.312871128320694,0.019288353621960,-0.228750541806221,0.128879874944687,0.212586954236031,0.096545413136482,0.242693930864334,0.116145476698875));
res += mul(Get(s2,0,dy), float4x4(0.280321151018143,0.063790768384933,-0.354575663805008,0.482800930738449,-0.235822662711143,0.416486144065857,-0.138299196958542,0.122623898088932,0.019786927849054,0.067724116146564,-0.165323033928871,0.072590500116348,0.097695775330067,0.038121495395899,0.203240498900414,0.077424116432667));
res += mul(Get(s2,dx,-dy), float4x4(0.145220384001732,-0.022956157103181,-0.045786716043949,-0.315054804086685,0.129532277584076,0.092972621321678,-0.070759639143944,-0.080426573753357,-0.206020325422287,-0.342364728450775,0.341739803552628,-0.591231048107147,-0.105281233787537,-0.057612001895905,0.069921836256981,0.058543238788843));
res += mul(Get(s2,dx,0), float4x4(-0.219366759061813,0.519672036170959,-0.656428039073944,-0.012411794625223,-0.097187615931034,0.111765868961811,-0.168598175048828,-0.053313229233027,0.066091969609261,-0.243988350033760,-0.076429173350334,-0.367974907159805,0.065791986882687,-0.004388954024762,-0.141219198703766,-0.105022221803665));
res += mul(Get(s2,dx,dy), float4x4(-0.053404219448566,0.197963863611221,-0.080976895987988,0.164915144443512,-0.344904571771622,0.065044462680817,-0.093710236251354,0.107882060110569,-0.039303388446569,-0.105096250772476,0.072306714951992,0.255830079317093,0.163120314478874,0.095729060471058,0.106883667409420,-0.202336445450783));
res = max(float4(0, 0, 0, 0), res) + float4(0.719014763832092,0.526016533374786,0.272236257791519,-0.142480209469795) * min(float4(0, 0, 0, 0), res);
return res;
}
