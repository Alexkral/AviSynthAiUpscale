sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.116221331059933,-0.053406313061714,0.009689307771623,0.121180646121502);
res += mul(Get(s0,-dx,-dy), float4x4(-0.031865540891886,-0.049537695944309,0.000045822489483,0.024690162390471,0.151904985308647,0.026690736413002,-0.014528017491102,-0.022580552846193,-0.020267061889172,0.133334591984749,-0.110312685370445,0.288703501224518,-0.180774524807930,-0.073919788002968,-0.090427756309509,0.442115426063538));
res += mul(Get(s0,-dx,0), float4x4(-0.044395230710506,0.084272578358650,0.003738708095625,0.014197391457856,-0.027021689340472,0.094789840281010,-0.161466166377068,0.198488473892212,0.410094231367111,0.032553344964981,0.015471599064767,0.130085855722427,0.384108543395996,-0.199274405837059,0.188289985060692,0.009529732167721));
res += mul(Get(s0,-dx,dy), float4x4(-0.038688089698553,0.106979414820671,0.051144715398550,0.022330883890390,-0.072045676410198,-0.044027674943209,0.005957412999123,-0.329910814762115,-0.438227564096451,-0.024708300828934,0.052323803305626,0.442762047052383,-0.107475489377975,-0.056375265121460,0.050832044333220,0.459659129381180));
res += mul(Get(s0,0,-dy), float4x4(-0.240272939205170,0.162323102355003,-0.133020311594009,-0.005171308293939,-0.017281882464886,0.102851271629333,-0.081585787236691,-0.011993439868093,-0.168264180421829,-0.170881822705269,0.113304615020752,0.195013970136642,0.069853745400906,-0.039287544786930,-0.145211175084114,0.136080980300903));
res += mul(Get(s0,0,0), float4x4(-0.179737046360970,0.404784679412842,-0.086381770670414,-0.872961103916168,0.228341773152351,-0.078220382332802,-0.161922425031662,1.012916564941406,0.166767030954361,0.306022226810455,-0.122184954583645,0.264231592416763,-0.044163797050714,-0.159129992127419,0.236131608486176,-0.107944868505001));
res += mul(Get(s0,0,dy), float4x4(0.000945304578636,0.020580975338817,-0.060854822397232,-0.346945017576218,-0.406633287668228,-0.548081278800964,-0.095306463539600,0.407170891761780,0.261870861053467,0.781540334224701,-0.376040041446686,0.152187839150429,-0.666132807731628,0.059015069156885,0.263215124607086,0.235895216464996));
res += mul(Get(s0,dx,-dy), float4x4(-0.683173239231110,0.226768463850021,0.065810196101665,0.041739471256733,0.311980992555618,0.100447036325932,0.097091600298882,-0.086140669882298,-0.093835711479187,0.001909338636324,0.175126805901527,-0.046017125248909,-0.178479850292206,-0.068266928195953,-0.133558541536331,0.044999811798334));
res += mul(Get(s0,dx,0), float4x4(0.079344734549522,0.170101225376129,-0.071325697004795,-0.094031393527985,0.188831314444542,0.128835380077362,0.444189369678497,-0.457122176885605,0.195806041359901,0.066858552396297,0.766684114933014,-0.071706302464008,-0.150581017136574,-0.042193640023470,0.050903707742691,-0.022474721074104));
res += mul(Get(s0,dx,dy), float4x4(0.055073309689760,-0.067825257778168,0.019851868972182,-0.094067320227623,-0.319473177194595,0.063886798918247,-0.018136614933610,0.001996735343710,0.264575690031052,-0.078167550265789,0.432429224252701,0.320182025432587,-0.172614827752113,0.010125924833119,0.003055385546759,0.196363836526871));
res += mul(Get(s1,-dx,-dy), float4x4(0.030140154063702,0.026868423447013,-0.179717302322388,0.150121837854385,0.102239638566971,0.138662636280060,0.035204131156206,-0.170275777578354,0.095799498260021,0.149999767541885,0.109353706240654,-0.071101859211922,0.021880974993110,-0.063091449439526,-0.119045227766037,-0.135379329323769));
res += mul(Get(s1,-dx,0), float4x4(-0.033687133342028,-0.083629012107849,0.144965350627899,0.295859903097153,0.095362760126591,-0.318036824464798,0.234053403139114,0.155658692121506,-0.060619857162237,-0.051620919257402,0.461859703063965,-0.063356593251228,-0.006529587320983,0.062110420316458,-0.102230727672577,-0.252985417842865));
res += mul(Get(s1,-dx,dy), float4x4(-0.138376146554947,-0.187098339200020,0.262653917074203,-0.067716851830482,-0.003937119618058,0.058836307376623,-0.014467805624008,-0.161625787615776,-0.065826050937176,0.043392844498158,0.018679501488805,-0.138496458530426,0.015845660120249,-0.142199233174324,0.153508707880974,0.107920795679092));
res += mul(Get(s1,0,-dy), float4x4(-0.076193325221539,0.081468157470226,-0.020494760945439,0.211862877011299,0.176194518804550,-0.003071308135986,0.003892540931702,0.250811100006104,-0.188524827361107,-0.155851379036903,-0.182943120598793,0.268067181110382,-0.153298094868660,-0.224196270108223,0.092970743775368,-0.454547822475433));
res += mul(Get(s1,0,0), float4x4(0.401160359382629,0.475370526313782,-0.474775880575180,-0.430123329162598,0.084944099187851,-0.317364662885666,0.040138784796000,0.141253888607025,0.188552558422089,0.358597695827484,-0.215469732880592,-0.167285010218620,-0.084676027297974,0.105199366807938,-0.251044839620590,-0.241964533925056));
res += mul(Get(s1,0,dy), float4x4(0.063745729625225,-0.912694931030273,-0.016704119741917,0.217521950602531,-0.128258794546127,0.281874150037766,0.049851313233376,0.066418267786503,0.007714145816863,0.006748090032488,0.056043699383736,-0.049954947084188,-0.085437551140785,0.105591498315334,-0.378214865922928,-0.169505581259727));
res += mul(Get(s1,dx,-dy), float4x4(-0.037729267030954,-0.129779160022736,0.169908449053764,0.025326879695058,0.069552853703499,-0.236410528421402,-0.063560895621777,0.043273925781250,-0.257563948631287,-0.173000305891037,0.078357979655266,0.014702716842294,0.068853832781315,0.000417559989728,-0.246943295001984,0.006918451748788));
res += mul(Get(s1,dx,0), float4x4(0.234966516494751,0.084801107645035,0.485353797674179,-0.247081667184830,0.203588679432869,0.111658796668053,0.589591920375824,-0.346010029315948,0.184002712368965,0.064693570137024,0.349398910999298,0.083207398653030,0.003138502361253,-0.225688308477402,0.296437054872513,-0.249983236193657));
res += mul(Get(s1,dx,dy), float4x4(0.607810914516449,-0.483634024858475,0.003532449016348,-0.255665689706802,0.006994959898293,-0.091926828026772,-0.120478592813015,0.061323218047619,0.209102213382721,-0.138468816876411,-0.257787287235260,0.213568761944771,0.000048095327656,0.122866049408913,-0.291385978460312,-0.097024247050285));
res += mul(Get(s2,-dx,-dy), float4x4(0.016135616227984,0.046190470457077,0.210862860083580,-0.252628892660141,0.057314448058605,0.167951226234436,0.179719999432564,-0.223383322358131,-0.078405775129795,-0.186065301299095,0.033156942576170,0.080643177032471,-0.017858045175672,0.042494036257267,0.000173209526110,-0.467810392379761));
res += mul(Get(s2,-dx,0), float4x4(-0.113974347710609,0.039299663156271,0.275691211223602,-0.263961106538773,0.067214854061604,0.011364281177521,-0.127162009477615,0.158072024583817,0.030031457543373,0.112403050065041,-0.116732746362686,-0.374576598405838,-0.411875784397125,0.068956255912781,-0.122258812189102,-0.325220018625259));
res += mul(Get(s2,-dx,dy), float4x4(-0.045859254896641,0.016236245632172,0.183168500661850,-0.147969722747803,0.261961489915848,0.115084327757359,-0.493629097938538,-0.162670671939850,-0.024831661954522,-0.059223156422377,-0.014969941228628,-0.282577395439148,-0.078242361545563,0.151078581809998,-0.154922410845757,-0.347949862480164));
res += mul(Get(s2,0,-dy), float4x4(0.201497539877892,0.307945072650909,-0.035563834011555,0.012404297478497,0.173466205596924,-0.129225045442581,0.344843387603760,0.100664213299751,-0.191593393683434,0.055682267993689,-0.052845716476440,0.092017106711864,-0.122228287160397,-0.094487875699997,-0.160897865891457,-0.141062319278717));
res += mul(Get(s2,0,0), float4x4(-0.002571612829342,-0.201719284057617,0.241853609681129,-0.241944238543510,-0.195682287216187,0.144835591316223,0.347614973783493,0.183305650949478,0.450008690357208,0.068491376936436,0.153078705072403,-0.469785779714584,-0.988359034061432,-0.488014757633209,-0.647613704204559,-0.862254023551941));
res += mul(Get(s2,0,dy), float4x4(0.021450363099575,0.126123085618019,0.212375923991203,0.031811662018299,0.243403449654579,-0.200486212968826,-0.009730897843838,0.954690575599670,0.753919124603271,-0.242819190025330,0.157964766025543,-0.144260749220848,0.034943856298923,0.183106839656830,0.056263819336891,-0.215751335024834));
res += mul(Get(s2,dx,-dy), float4x4(0.178838685154915,0.048733711242676,-0.154690369963646,0.041915915906429,-0.015576521866024,0.030302025377750,-0.056664742529392,-0.193314656615257,-0.012776528485119,-0.108298704028130,0.020885657519102,0.045991685241461,-0.111652247607708,0.071556501090527,-0.015469711273909,0.123897619545460));
res += mul(Get(s2,dx,0), float4x4(0.004121998324990,-0.046384360641241,-0.507589578628540,-0.138901472091675,0.135170117020607,0.085595764219761,-0.330423980951309,-0.161981239914894,0.075934313237667,0.193328589200974,-0.094187766313553,0.066389061510563,0.038399990648031,0.219092845916748,-0.400761544704437,-0.146188572049141));
res += mul(Get(s2,dx,dy), float4x4(-0.193642660975456,0.016922658309340,-0.028035080060363,-0.018359275534749,-0.482970714569092,-0.113390035927296,-0.339937508106232,0.100906029343605,0.189509153366089,-0.017645627260208,-0.140014588832855,-0.009819569997489,-0.062030408531427,0.061540983617306,-0.398281842470169,-0.089786842465401));
res = max(float4(0, 0, 0, 0), res) + float4(-0.125708088278770,-0.787798345088959,-0.107343934476376,0.123022772371769) * min(float4(0, 0, 0, 0), res);
return res;
}
