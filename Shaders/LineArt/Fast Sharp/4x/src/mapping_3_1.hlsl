sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.058647569268942,0.085159614682198,0.358521521091461,0.093670569360256);
res += mul(Get(s0,-dx,-dy), float4x4(-0.028650686144829,-0.168717280030251,0.073737837374210,-0.156297862529755,-0.060507994145155,0.212786585092545,-0.007461090106517,0.080234386026859,-0.062945879995823,0.036683309823275,-0.173943772912025,0.217222303152084,-0.029254535213113,0.107172660529613,-0.062802158296108,0.158169135451317));
res += mul(Get(s0,-dx,0), float4x4(-0.004020341672003,-0.458443969488144,0.298361420631409,-1.002550005912781,0.069349162280560,0.325488805770874,-0.112258732318878,0.363871455192566,-0.216234192252159,0.317715317010880,-0.011767102405429,-0.372956901788712,-0.089869648218155,0.284289926290512,-0.241477772593498,0.381795912981033));
res += mul(Get(s0,-dx,dy), float4x4(0.044165831059217,0.318016439676285,0.021527620032430,-0.027657452970743,-0.337985754013062,-0.192535415291786,0.004386884626001,0.048779923468828,0.039022922515869,-0.492898434400558,0.263619750738144,-0.080357275903225,-0.570220232009888,0.053845591843128,-0.145866617560387,0.115345112979412));
res += mul(Get(s0,0,-dy), float4x4(-0.119281284511089,-0.223630502820015,0.170665919780731,0.013256141915917,-0.064343288540840,0.401513725519180,-0.039273966103792,-0.385210901498795,0.008727600798011,0.129770517349243,-0.111226089298725,0.027598097920418,0.162977665662766,0.150982305407524,-0.249268203973770,0.036700971424580));
res += mul(Get(s0,0,0), float4x4(-0.156712859869003,-0.019651371985674,0.057133682072163,-0.045791745185852,-0.142534673213959,0.747103929519653,-0.117256216704845,-0.534761846065521,-0.318755447864532,-0.128001764416695,-0.106713458895683,-0.027979040518403,0.241218909621239,-0.641274869441986,-0.196085467934608,-0.157531470060349));
res += mul(Get(s0,0,dy), float4x4(0.279125422239304,-0.114481352269650,0.510634541511536,0.230709612369537,-0.250743448734283,-0.488868772983551,-0.030244300141931,-0.273169428110123,0.959656298160553,0.070612289011478,0.190242901444435,0.274714261293411,-0.128121957182884,0.055795572698116,0.064200147986412,0.115872263908386));
res += mul(Get(s0,dx,-dy), float4x4(-0.178511455655098,-0.078588485717773,0.040335323661566,0.086544476449490,0.150779113173485,0.158062204718590,0.035595417022705,0.050018996000290,-0.010411851108074,0.073394067585468,0.137498915195465,0.000865446461830,0.082754611968994,-0.022364662960172,-0.139257282018661,0.188321024179459));
res += mul(Get(s0,dx,0), float4x4(-0.003963346593082,-0.081634283065796,0.203210696578026,0.032249983400106,0.079662002623081,0.129556089639664,-0.160193875432014,0.222112938761711,0.084052167832851,-0.200702652335167,0.105516120791435,0.098742403090000,0.014467104338109,-0.027857115492225,-0.011362162418664,0.449066430330276));
res += mul(Get(s0,dx,dy), float4x4(0.020714839920402,0.000126744809677,0.129344806075096,0.095899581909180,-0.038738775998354,-0.050074413418770,-0.038773257285357,-0.052857469767332,-0.092080757021904,0.065942309796810,0.094739742577076,-0.096114858984947,0.153426527976990,-0.043240081518888,-0.160894304513931,0.160621255636215));
res += mul(Get(s1,-dx,-dy), float4x4(0.127167239785194,0.002455695299432,-0.116017721593380,0.269646197557449,0.088988237082958,-0.192398503422737,0.001794427284040,0.035636257380247,-0.214132860302925,-0.033326178789139,0.154174253344536,0.149528369307518,-0.135985955595970,-0.079794242978096,0.071931883692741,-0.234458267688751));
res += mul(Get(s1,-dx,0), float4x4(0.095142580568790,0.017936952412128,-0.044714622199535,0.387928575277328,-0.036292169243097,-0.093045875430107,0.361388415098190,0.164476498961449,0.179759189486504,0.213565111160278,-0.393394201993942,0.328593581914902,-0.262584745883942,-0.272407323122025,0.319782078266144,-0.107284888625145));
res += mul(Get(s1,-dx,dy), float4x4(-0.037273358553648,0.133787333965302,-0.452200621366501,0.061065819114447,0.107458114624023,0.009336159564555,0.084763452410698,0.163005828857422,-0.115206740796566,0.026501843705773,-0.126716718077660,0.130773380398750,-0.263274520635605,0.191991612315178,0.008011911995709,-0.038874782621861));
res += mul(Get(s1,0,-dy), float4x4(0.320215702056885,0.225259602069855,-0.213816717267036,-0.180129289627075,0.078713223338127,-0.073147721588612,0.185433417558670,0.121935710310936,0.003663426497951,-1.019689202308655,-0.284242093563080,0.495045661926270,0.225047305226326,-0.175380513072014,0.259547859430313,0.247969478368759));
res += mul(Get(s1,0,0), float4x4(0.111616045236588,-0.637513399124146,0.456445962190628,-0.686362564563751,-0.249277323484421,-0.348797172307968,-0.145191267132759,-0.324693143367767,-0.308443009853363,0.477824747562408,-1.185827136039734,-0.105923868715763,-0.154145359992981,-0.283386558294296,-0.120732732117176,0.002823693212122));
res += mul(Get(s1,0,dy), float4x4(0.551416099071503,0.178764179348946,0.079661235213280,0.202135249972343,-0.077089346945286,-0.008743017911911,-0.487871080636978,-0.155854597687721,0.212858095765114,0.002107151085511,0.565078139305115,0.069382809102535,-0.624449074268341,0.506942033767700,0.239887520670891,-0.155883684754372));
res += mul(Get(s1,dx,-dy), float4x4(0.087981946766376,0.136935025453568,-0.334483534097672,0.028185082599521,0.101268984377384,0.056628987193108,0.065742418169975,0.003520672675222,-0.128403127193451,0.061930451542139,-0.155624359846115,-0.177031561732292,-0.067131645977497,0.224655747413635,0.187798887491226,-0.293776214122772));
res += mul(Get(s1,dx,0), float4x4(0.064014486968517,0.210209831595421,0.028131559491158,0.651169598102570,0.078788317739964,-0.036019455641508,-0.246139988303185,-0.199789389967918,-0.089912332594395,0.113223835825920,0.081021524965763,-0.014837869442999,-0.181731358170509,0.146673142910004,-0.091422550380230,-0.013778610154986));
res += mul(Get(s1,dx,dy), float4x4(0.167348697781563,-0.150830537080765,-0.152442932128906,0.225346893072128,-0.059606328606606,-0.074012584984303,0.256511539220810,-0.127240315079689,0.001560218166560,-0.106366939842701,-0.015914423391223,-0.136642873287201,0.088558897376060,0.022679720073938,-0.070128895342350,0.347346305847168));
res += mul(Get(s2,-dx,-dy), float4x4(-0.000935236166697,-0.094531595706940,0.134660840034485,-0.346565723419189,0.222928956151009,0.382865160703659,-0.283888548612595,0.052786108106375,-0.210467919707298,-0.331553876399994,-0.148668959736824,0.433209687471390,0.155783981084824,-0.211218535900116,-0.046294964849949,-0.011911110021174));
res += mul(Get(s2,-dx,0), float4x4(0.013577063567936,-0.571848869323730,0.300915479660034,-0.501199364662170,0.249305218458176,0.353828042745590,-0.668434560298920,0.051375936716795,-0.177761450409889,0.167466551065445,0.114805154502392,-0.019156970083714,0.096481673419476,-0.222974598407745,0.224175646901131,-0.409626245498657));
res += mul(Get(s2,-dx,dy), float4x4(0.259048432111740,0.065714925527573,-0.002819759538397,0.083279088139534,0.269193261861801,-0.128738313913345,-0.120865248143673,0.089930020272732,0.171778142452240,-0.198636800050735,-0.152354404330254,-0.137902826070786,0.482135891914368,0.318701595067978,0.175665676593781,0.124020725488663));
res += mul(Get(s2,0,-dy), float4x4(-0.161042705178261,-0.135872334241867,0.133624136447906,-0.038347918540239,0.204682737588882,0.384964138269424,-0.635433495044708,0.169734939932823,-0.098071202635765,-0.136353448033333,-0.028331335633993,-0.363834917545319,0.098102338612080,0.176874384284019,0.283112823963165,-0.499496638774872));
res += mul(Get(s2,0,0), float4x4(0.341460555791855,-0.447755336761475,0.219116464257240,-0.437415301799774,-0.009904747828841,0.249822169542313,-0.879577398300171,-0.017280140891671,-0.653922855854034,0.460290431976318,0.232341259717941,-0.675088822841644,-0.280649423599243,-0.179411321878433,0.515666246414185,-0.452389270067215));
res += mul(Get(s2,0,dy), float4x4(0.016067093238235,0.071559995412827,-0.023010078817606,0.231231302022934,0.355824947357178,-0.420637398958206,-0.153220608830452,0.196764722466469,0.145062163472176,-0.121972955763340,-0.069179184734821,-0.170782729983330,0.327730447053909,-0.527752876281738,-0.191115289926529,-0.282244086265564));
res += mul(Get(s2,dx,-dy), float4x4(0.008846554905176,-0.038445852696896,0.026420379057527,0.017159735783935,0.069826744496822,0.124742470681667,-0.363144516944885,0.015305214561522,-0.129705175757408,0.102143235504627,0.065242968499660,0.042561173439026,0.079014919698238,0.091322332620621,0.243414774537086,0.190487936139107));
res += mul(Get(s2,dx,0), float4x4(0.056667607277632,0.046016670763493,0.075753301382065,0.015004025772214,0.095784366130829,0.143354684114456,-0.147269919514656,0.049542933702469,0.175864338874817,-0.033627800643444,-0.051888667047024,0.326917856931686,-0.025650298222899,0.045007109642029,0.006898998748511,0.044821314513683));
res += mul(Get(s2,dx,dy), float4x4(0.080042049288750,-0.218527540564537,0.020767873153090,0.037708841264248,-0.023017395287752,-0.140964061021805,-0.007308957166970,-0.198139384388924,-0.029969181865454,0.333319067955017,-0.066859446465969,-0.012514572590590,-0.166551887989044,0.265045791864395,-0.100355677306652,-0.197147458791733));
res = max(float4(0, 0, 0, 0), res) + float4(0.439126700162888,0.039803460240364,0.176116973161697,-0.013213554397225) * min(float4(0, 0, 0, 0), res);
return res;
}
