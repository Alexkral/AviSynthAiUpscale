sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.040092743933201,-0.121439740061760,0.037785980850458,0.030076405033469);
res += mul(Get(s0,-dx,-dy), float4x4(-0.094273358583450,0.165956765413284,0.028034932911396,0.139496907591820,-0.031426005065441,0.116094663739204,0.132700130343437,-0.016851805150509,0.119349092245102,0.091964177787304,0.069094009697437,-0.142530754208565,0.198493376374245,-0.117136955261230,0.114265203475952,0.046964742243290));
res += mul(Get(s0,-dx,0), float4x4(-0.109277568757534,0.204537197947502,-0.109802126884460,0.000683212536387,-0.088024891912937,0.156772196292877,0.005584993865341,-0.271271347999573,0.182436138391495,-0.015610635280609,0.097588241100311,0.011073959991336,0.577322423458099,-0.359208941459656,0.194320112466812,0.021467257291079));
res += mul(Get(s0,-dx,dy), float4x4(0.084938943386078,0.268223613500595,-0.024661649018526,0.030689055100083,0.012512688525021,0.062363114207983,-0.056120987981558,-0.062078762799501,0.011482161469758,-0.235524401068687,0.164659872651100,-0.035998396575451,0.024163503199816,-0.077426254749298,-0.007115508429706,0.033078446984291));
res += mul(Get(s0,0,-dy), float4x4(0.178322017192841,0.320016413927078,-0.217324823141098,0.052277889102697,-0.143421813845634,-0.155472874641418,0.323849171400070,-0.440769940614700,-0.044216815382242,0.060073118656874,0.146753713488579,-0.418321520090103,0.008672336116433,-0.348936796188354,0.219431906938553,-0.271656185388565));
res += mul(Get(s0,0,0), float4x4(-0.257189333438873,0.469864338636398,-0.429941803216934,0.699100792407990,0.365443468093872,-0.228281125426292,-0.259513199329376,-0.110444821417332,-0.910177826881409,0.527075827121735,-0.396559983491898,0.146373316645622,-0.223901554942131,-0.193438142538071,0.154144302010536,-0.703874647617340));
res += mul(Get(s0,0,dy), float4x4(0.094049207866192,0.147826462984085,-0.198148056864738,0.146334350109100,0.205058246850967,-0.294241368770599,0.030108520761132,-0.036993224173784,0.094675511121750,0.289726018905640,0.123905412852764,-0.220108479261398,-0.081087097525597,-0.048269987106323,0.290208101272583,-0.276892751455307));
res += mul(Get(s0,dx,-dy), float4x4(-0.113425739109516,-0.093698129057884,-0.100271448493004,0.058955509215593,-0.086396582424641,0.017581056803465,-0.002706109778956,-0.343418091535568,-0.338268071413040,-0.084551140666008,-0.014493301510811,-0.121748067438602,0.041946433484554,-0.174252957105637,-0.001815868075937,-0.436091631650925));
res += mul(Get(s0,dx,0), float4x4(0.174932062625885,-0.026127105578780,-0.151173353195190,0.378466039896011,0.043841671198606,0.164540290832520,-0.096003651618958,0.541708528995514,0.085760124027729,0.048510205000639,-0.027146119624376,0.397062659263611,0.014068575575948,-0.085867717862129,-0.015505640767515,0.057146694511175));
res += mul(Get(s0,dx,dy), float4x4(0.130087420344353,0.055936850607395,-0.104076556861401,0.202971592545509,-0.007858295924962,0.053986612707376,0.085895113646984,-0.015789151191711,0.064089454710484,-0.283797889947891,-0.199186265468597,-0.134688705205917,0.154565125703812,0.053143292665482,0.091517329216003,-0.320919126272202));
res += mul(Get(s1,-dx,-dy), float4x4(-0.099030822515488,-0.015427315607667,0.110712364315987,0.055257171392441,-0.091308355331421,0.032580528408289,-0.027198374271393,0.073353357613087,0.121523849666119,0.021344628185034,-0.152002662420273,-0.022855041548610,0.379234284162521,0.006861024536192,0.032783940434456,0.048114281147718));
res += mul(Get(s1,-dx,0), float4x4(-0.249231323599815,0.219041824340820,0.179313734173775,0.038732364773750,-0.187337175011635,0.140828862786293,-0.095773674547672,-0.126473054289818,0.039923418313265,0.362054973840714,-0.119498364627361,-0.115305595099926,0.054689612239599,-0.094739787280560,-0.011500905267894,0.003484184388071));
res += mul(Get(s1,-dx,dy), float4x4(0.087845593690872,0.064741767942905,0.119895838201046,0.079594738781452,0.007820977829397,-0.113706707954407,-0.048984270542860,0.016882970929146,0.105750069022179,0.093127936124802,0.053668051958084,0.009942376986146,0.025498909875751,0.144751548767090,-0.155197963118553,-0.040386859327555));
res += mul(Get(s1,0,-dy), float4x4(0.088900163769722,-0.671299755573273,0.055649086833000,-0.201204627752304,-0.106428034603596,0.377322405576706,-0.075987286865711,0.272347301244736,0.868540823459625,0.074736468493938,-0.490848660469055,0.017663294449449,0.440900325775146,0.221945479512215,-0.114644356071949,-0.131858006119728));
res += mul(Get(s1,0,0), float4x4(-0.530672967433929,0.128292620182037,-0.214863345026970,0.111616112291813,-0.145178705453873,-0.348530858755112,0.832804083824158,0.128745183348656,0.111094042658806,0.441203474998474,-0.449046969413757,0.386879980564117,0.268316954374313,0.283802151679993,-0.299239367246628,-0.159288540482521));
res += mul(Get(s1,0,dy), float4x4(-0.035037107765675,-0.394972801208496,0.120723769068718,0.051557026803493,-0.230777949094772,0.117049939930439,-0.098510213196278,0.129734486341476,0.525551378726959,-0.350014984607697,0.320508688688278,0.025518199428916,-0.228862509131432,0.036578867584467,-0.044997405260801,0.058564323931932));
res += mul(Get(s1,dx,-dy), float4x4(0.082374311983585,-0.300310552120209,-0.003161295549944,-0.285863757133484,-0.216955065727234,-0.372564762830734,-0.134337395429611,0.092914901673794,0.187876433134079,0.089982740581036,-0.036038722842932,0.120948985219002,0.146092593669891,0.044643566012383,-0.225932851433754,-0.250407546758652));
res += mul(Get(s1,dx,0), float4x4(0.324103385210037,-0.148782700300217,-0.162512779235840,0.609184622764587,0.544100344181061,-0.207561582326889,-0.255894631147385,-0.824518442153931,0.105272375047207,0.136756390333176,-0.135503903031349,-0.382453382015228,0.371497482061386,0.078001163899899,-0.182180553674698,-0.549854040145874));
res += mul(Get(s1,dx,dy), float4x4(0.108074918389320,-0.255048245191574,0.056685343384743,-0.222351238131523,0.027026306837797,-0.098160520195961,-0.071572244167328,0.169747665524483,0.142984941601753,-0.022968802601099,0.008214885368943,-0.036843825131655,-0.021613188087940,0.166398435831070,0.098481155931950,0.162846907973289));
res += mul(Get(s2,-dx,-dy), float4x4(-0.211851924657822,0.089124299585819,0.087727680802345,-0.008147045038640,-0.169550523161888,-0.167395934462547,0.062900342047215,-0.056152742356062,0.195489868521690,0.014685072004795,0.001549397362396,-0.075949318706989,-0.015621219761670,-0.056277301162481,-0.198229208588600,0.049976240843534));
res += mul(Get(s2,-dx,0), float4x4(-0.470596760511398,0.151764526963234,0.063165105879307,0.026457017287612,-0.019262567162514,-0.160448536276817,-0.006661043968052,0.040637809783220,0.071836404502392,-0.064622141420841,0.107355147600174,-0.072704419493675,-0.244196176528931,-0.071798704564571,-0.282123953104019,-0.001912424690090));
res += mul(Get(s2,-dx,dy), float4x4(-0.125166893005371,0.183570995926857,0.072693608701229,0.008381288498640,-0.074779853224754,-0.095250487327576,0.037095651030540,0.059456933289766,0.103734061121941,-0.106789566576481,0.159407034516335,0.051632378250360,-0.296343713998795,0.284979403018951,0.022800059989095,-0.137258052825928));
res += mul(Get(s2,0,-dy), float4x4(-0.373625785112381,0.119627714157104,0.097089841961861,0.243783652782440,-0.078071102499962,-0.311560928821564,-0.019611207768321,-0.455606937408447,0.341023653745651,-0.197395235300064,0.083102591335773,-0.273637861013412,-0.621857583522797,-0.294927269220352,-0.164783686399460,0.344087809324265));
res += mul(Get(s2,0,0), float4x4(-0.464456111192703,0.247419580817223,0.014747023582458,0.112846605479717,-0.081345804035664,-0.321102857589722,-0.047366037964821,-0.211396932601929,0.455115616321564,-0.177596956491470,0.041356865316629,-0.448676049709320,-0.366604954004288,0.363785564899445,-0.255318433046341,0.347403109073639));
res += mul(Get(s2,0,dy), float4x4(-0.002232569735497,0.033721249550581,0.016507029533386,-0.149742320179939,0.060079794377089,-0.158205896615982,0.010248347185552,-0.105753414332867,0.246773809194565,-0.288245558738708,0.114029727876186,-0.129131883382797,-0.016254451125860,0.198866963386536,-0.143492877483368,0.258133441209793));
res += mul(Get(s2,dx,-dy), float4x4(0.105804249644279,-0.046793073415756,0.069299176335335,0.097486600279808,-0.077277623116970,-0.068806432187557,0.008045922964811,-0.662018716335297,-0.300873428583145,0.230204507708549,0.098966568708420,-0.002853571437299,-0.060251858085394,0.046399526298046,-0.049145951867104,0.383579850196838));
res += mul(Get(s2,dx,0), float4x4(0.103667907416821,0.065766170620918,-0.068182736635208,0.323359161615372,-0.226045429706573,-0.097345419228077,-0.007829947397113,-0.500199139118195,-0.352622389793396,0.223474785685539,0.189400717616081,0.173110678792000,-0.422222346067429,0.362842142581940,-0.087164498865604,0.399356424808502));
res += mul(Get(s2,dx,dy), float4x4(-0.096187256276608,0.004218738526106,-0.043020069599152,-0.146958142518997,-0.030509667471051,-0.053382158279419,-0.037628993391991,-0.182151257991791,0.079914703965187,0.013121329247952,0.015134788118303,-0.009764570742846,-0.078319996595383,0.247298195958138,-0.140946447849274,0.436589181423187));
res = max(float4(0, 0, 0, 0), res) + float4(0.155845567584038,0.106855817139149,1.315247178077698,-0.103320218622684) * min(float4(0, 0, 0, 0), res);
return res;
}
