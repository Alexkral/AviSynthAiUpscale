sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.049449138343334,-0.645208597183228,-0.021303610876203,0.052865661680698);
res += mul(Get(s0,-dx,-dy), float4x4(0.208825960755348,0.086143039166927,0.095770418643951,0.061252016574144,-0.113079078495502,0.115110404789448,-0.073734685778618,0.039733890444040,0.204547077417374,0.052538968622684,-0.180866450071335,-0.141791164875031,0.015659002587199,-0.084455184638500,0.087319374084473,-0.034195411950350));
res += mul(Get(s0,-dx,0), float4x4(0.129281193017960,0.140055537223816,0.214807286858559,0.010698813945055,0.243208035826683,-0.374458640813828,0.016683481633663,-0.208590596914291,-0.023804100230336,0.006886663381010,0.276546329259872,0.185355156660080,-0.031739369034767,0.283265680074692,-0.124853715300560,0.114376172423363));
res += mul(Get(s0,-dx,dy), float4x4(0.039249375462532,0.084685511887074,0.305777162313461,-0.021016469225287,0.013524989597499,0.240552634000778,0.186385884881020,0.057330630719662,0.185449421405792,-0.216438516974449,-0.107817672193050,-0.029205443337560,-0.079353079199791,-0.119771055877209,0.263601422309875,0.140032023191452));
res += mul(Get(s0,0,-dy), float4x4(-0.445681661367416,0.305389046669006,0.116696685552597,-0.226832002401352,-0.178090065717697,0.038254112005234,0.056048858910799,-0.089144036173820,0.207486078143120,0.273829013109207,0.467862755060196,0.095678761601448,-0.137133643031120,-0.590950310230255,0.400212556123734,0.053763002157211));
res += mul(Get(s0,0,0), float4x4(0.472237110137939,-0.233173474669456,0.102131061255932,-0.305338472127914,0.048858381807804,0.346432358026505,-0.095817364752293,0.708438098430634,-0.130692511796951,0.428691118955612,-0.357992917299271,-0.745583117008209,-0.291230291128159,0.022073144093156,0.059730380773544,0.373387604951859));
res += mul(Get(s0,0,dy), float4x4(-0.088766813278198,0.169334739446640,0.105596296489239,0.085365667939186,0.054510794579983,-0.060122404247522,-0.082865767180920,-0.357464373111725,-0.182246625423431,-0.243368268013000,-0.047655079513788,-0.034188427031040,0.204008176922798,-0.148693993687630,0.020706366747618,0.115123227238655));
res += mul(Get(s0,dx,-dy), float4x4(0.282422512769699,-0.129483401775360,-0.298041075468063,0.180615425109863,0.318403512239456,-0.038156162947416,0.263376623392105,-0.108823895454407,0.214282453060150,0.069763116538525,0.166238233447075,-0.064086817204952,0.082742139697075,0.426825165748596,-0.238026008009911,0.454155445098877));
res += mul(Get(s0,dx,0), float4x4(-0.208813875913620,-0.205316275358200,-0.052719008177519,0.190501376986504,-0.096694260835648,-0.224431946873665,-0.050060614943504,-0.050248570740223,-0.036096882075071,-0.120784640312195,-0.191733285784721,0.220860034227371,0.095340430736542,0.061985533684492,0.128374770283699,-2.064981937408447));
res += mul(Get(s0,dx,dy), float4x4(0.023132057860494,-0.112037032842636,-0.041351012885571,-0.036706067621708,-0.088859349489212,0.042785111814737,0.003900158219039,0.128873884677887,0.281533420085907,0.023911865428090,-0.006685585714877,0.062041945755482,-0.156743317842484,-0.121188901364803,-0.089499995112419,0.263390153646469));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030570656061172,0.038025382906199,-0.175884753465652,-0.137987390160561,-0.055048719048500,-0.156241595745087,0.003488644026220,-0.074815705418587,0.056851685047150,0.221980050206184,-0.074287518858910,0.039837922900915,-0.198667228221893,0.115731060504913,0.074204251170158,-0.068569682538509));
res += mul(Get(s1,-dx,0), float4x4(0.186802744865417,-0.230575188994408,-0.152368590235710,-0.028229407966137,-0.478247284889221,0.318271994590759,0.025604233145714,-0.060650225728750,-0.121727742254734,0.002703204285353,0.003769842907786,0.078418940305710,0.033504229038954,0.004653400741518,0.049839429557323,-0.141303122043610));
res += mul(Get(s1,-dx,dy), float4x4(-0.027862941846251,0.020981615409255,-0.120511591434479,0.107826024293900,-0.061811961233616,-0.124771408736706,0.177244469523430,-0.009450563229620,-0.409421712160110,0.107647486031055,-0.051309276372194,0.090449839830399,-0.024909786880016,-0.053849410265684,-0.056919191032648,-0.207768514752388));
res += mul(Get(s1,0,-dy), float4x4(0.164132758975029,-0.591858625411987,0.323696702718735,0.043147273361683,0.075876124203205,-0.392599821090698,0.174354180693626,-0.077022664248943,0.303524315357208,-0.245782271027565,0.230583369731903,-0.205912306904793,-0.397697806358337,0.467762321233749,-0.266022503376007,-0.051836807280779));
res += mul(Get(s1,0,0), float4x4(0.023847872391343,0.029813695698977,0.137972503900528,0.487775325775146,0.029665136709809,0.126106604933739,-0.339495003223419,-0.259786814451218,0.258943796157837,-0.659154713153839,0.280389398336411,-0.015534380450845,0.212054878473282,0.026985874399543,-0.266274183988571,-0.255059927701950));
res += mul(Get(s1,0,dy), float4x4(-0.008706881664693,-0.116194054484367,-0.467357516288757,-0.205846607685089,-0.097821243107319,0.139986142516136,0.224512785673141,0.237556457519531,-0.303251981735229,-0.036947194486856,-0.103423528373241,0.068567447364330,-0.321870058774948,0.141569256782532,-0.021483983844519,0.180467680096626));
res += mul(Get(s1,dx,-dy), float4x4(-0.134297177195549,0.329785853624344,0.058711636811495,0.232459187507629,0.041339535266161,-0.077088363468647,-0.305816590785980,0.103001326322556,-0.011728023178875,-0.098029173910618,0.140964686870575,-0.095201194286346,-0.001178201287985,0.215059578418732,-0.284032255411148,-0.000825340743177));
res += mul(Get(s1,dx,0), float4x4(-0.119809389114380,-0.089442618191242,0.097206197679043,-0.380126833915710,-0.213093653321266,0.192885145545006,0.047662571072578,0.358972162008286,-0.134026437997818,0.005387213081121,-0.037918403744698,0.052373621612787,0.161128297448158,-0.048209175467491,-0.204582452774048,0.514025032520294));
res += mul(Get(s1,dx,dy), float4x4(0.075991839170456,-0.078438110649586,-0.190078541636467,-0.065522626042366,0.062381274998188,-0.242333874106407,0.001036997535266,0.057996340095997,-0.150678560137749,0.009553944692016,-0.208895772695541,-0.134326592087746,0.082054629921913,-0.145591259002686,-0.055444233119488,0.181742340326309));
res += mul(Get(s2,-dx,-dy), float4x4(-0.422204434871674,1.445038914680481,-0.310688465833664,0.068047530949116,-0.467283487319946,0.082728259265423,0.091573707759380,-0.085325203835964,0.098269797861576,0.118930794298649,-0.027888312935829,0.001463873661123,0.281393706798553,0.031337164342403,-0.364191472530365,0.267935156822205));
res += mul(Get(s2,-dx,0), float4x4(-0.331325739622116,-0.294082760810852,-0.025598512962461,-0.522079646587372,-0.463315755128860,-0.023660788312554,-0.078319221735001,-0.413767307996750,0.346244454383850,-0.154390349984169,0.020862160250545,-0.089012704789639,-0.047033272683620,-0.166179150342941,0.089169926941395,0.033887311816216));
res += mul(Get(s2,-dx,dy), float4x4(-0.133827760815620,-0.322568237781525,0.684416890144348,0.292914509773254,-0.236670032143593,-0.139616832137108,-0.572886705398560,-0.204778984189034,-0.000198436726350,0.113499373197556,0.040877718478441,-0.010601094923913,0.144713252782822,-0.025261549279094,0.456159442663193,0.123478062450886));
res += mul(Get(s2,0,-dy), float4x4(-0.576119661331177,0.204088777303696,-0.036623980849981,-0.756638288497925,0.746863722801208,-0.787652671337128,0.080871462821960,-0.010696746408939,-0.422298729419708,-0.145996123552322,-0.070213451981544,0.033607918769121,-0.312702745199203,0.210177421569824,-0.236250832676888,0.083649724721909));
res += mul(Get(s2,0,0), float4x4(-1.372122883796692,0.067549549043179,-0.749961018562317,1.101020693778992,-0.324222385883331,-0.085307322442532,0.196867763996124,0.148486077785492,-0.050849169492722,0.098980687558651,0.193912222981453,-0.173497587442398,-0.636987209320068,-0.346697479486465,-0.707484364509583,0.493525266647339));
res += mul(Get(s2,0,dy), float4x4(0.016966579481959,-0.537569403648376,-0.360626578330994,-0.086208961904049,0.405272066593170,-0.193182110786438,-0.230798050761223,-0.117788553237915,-0.097669593989849,0.065883040428162,0.064816817641258,-0.076754257082939,-0.051494076848030,-0.133975774049759,-0.067002728581429,-0.290286749601364));
res += mul(Get(s2,dx,-dy), float4x4(0.405682086944580,-0.323118776082993,0.803187072277069,-0.292765051126480,-0.180815368890762,-0.187822774052620,0.096629425883293,0.002494140528142,0.560390174388885,-0.001939800567925,0.250491440296173,-0.948809683322906,0.190506771206856,0.130795121192932,0.484519064426422,0.120409145951271));
res += mul(Get(s2,dx,0), float4x4(-0.058096725493670,-0.494807422161102,-0.010528672486544,0.339356303215027,-0.435469120740891,0.103271819651127,0.453500598669052,0.588436722755432,0.532846152782440,0.063993349671364,0.196236550807953,-1.410714745521545,0.362506449222565,0.355779498815536,0.320458918809891,-0.533504784107208));
res += mul(Get(s2,dx,dy), float4x4(-0.026446234434843,-0.125331699848175,-0.038076270371675,0.068881250917912,0.100486733019352,0.243984729051590,-0.312490105628967,0.071694947779179,-0.043220687657595,0.020395832136273,0.241452425718307,0.143773764371872,-0.051345072686672,0.088956452906132,0.235736027359962,-0.119409084320068));
res = max(float4(0, 0, 0, 0), res) + float4(0.605570793151855,0.107203714549541,0.308906853199005,-0.123631320893764) * min(float4(0, 0, 0, 0), res);
return res;
}
