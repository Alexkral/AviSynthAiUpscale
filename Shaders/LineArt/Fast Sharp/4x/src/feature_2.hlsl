sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.399725854396820,0.269241064786911,0.093321561813354,-0.287590503692627);
res += float4(-0.011112040840089,0.103545241057873,-0.024185523390770,-0.019301269203424) * Get(-ddx,-ddy);
res += float4(0.077258363366127,-0.060731638222933,-0.003862424287945,-0.026643013581634) * Get(-ddx,-dy);
res += float4(-0.133086532354355,-0.066810034215450,0.115144826471806,0.006299429573119) * Get(-ddx,0);
res += float4(0.040536649525166,0.047205295413733,-0.133572414517403,-0.024122754111886) * Get(-ddx,dy);
res += float4(-0.006944436579943,0.004168732091784,0.047561619430780,-0.017047286033630) * Get(-ddx,ddy);
res += float4(0.028820525854826,-0.155787765979767,-0.027562929317355,-0.012054488062859) * Get(-dx,-ddy);
res += float4(-0.054825145751238,0.004217390902340,0.148442804813385,0.099221229553223) * Get(-dx,-dy);
res += float4(0.167539149522781,-0.287512212991714,0.305984020233154,0.168557479977608) * Get(-dx,0);
res += float4(-0.025579793378711,0.053846303373575,0.036085322499275,0.148634687066078) * Get(-dx,dy);
res += float4(0.040701862424612,-0.069479897618294,-0.052517496049404,0.033049844205379) * Get(-dx,ddy);
res += float4(-0.017232922837138,-0.006321554537863,0.136990010738373,0.029765034094453) * Get(0,-ddy);
res += float4(0.176810398697853,-0.321865618228912,-0.542204439640045,0.002322145272046) * Get(0,-dy);
res += float4(-1.082105398178101,0.369794934988022,-1.014625310897827,0.745711028575897) * Get(0,0);
res += float4(0.185358747839928,0.067778646945953,0.433457314968109,-0.139132425189018) * Get(0,dy);
res += float4(-0.084752760827541,-0.163228720426559,-0.029982009902596,0.060777027159929) * Get(0,ddy);
res += float4(0.054075479507446,-0.131551712751389,-0.008767405524850,-0.053668659180403) * Get(dx,-ddy);
res += float4(-0.085012406110764,0.209059476852417,0.063110716640949,0.067026473581791) * Get(dx,-dy);
res += float4(0.196787267923355,0.097616747021675,-0.272804856300354,0.154289141297340) * Get(dx,0);
res += float4(-0.098454609513283,-0.112699173390865,0.292059272527695,0.030828317627311) * Get(dx,dy);
res += float4(0.065764561295509,0.054328449070454,0.015540670603514,-0.030737904831767) * Get(dx,ddy);
res += float4(-0.018561856821179,0.119441971182823,-0.057153865695000,-0.001717791543342) * Get(ddx,-ddy);
res += float4(0.032258275896311,-0.207159608602524,0.113187186419964,-0.000666655367240) * Get(ddx,-dy);
res += float4(-0.005204623099416,0.042112864553928,0.072167962789536,0.011690367013216) * Get(ddx,0);
res += float4(0.024176478385925,-0.010527904145420,-0.085655719041824,0.003016159869730) * Get(ddx,dy);
res += float4(-0.014842876233160,0.030069783329964,-0.018768435344100,-0.032621104270220) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(1.350158333778381,0.780562937259674,-0.008022414520383,1.487751483917236) * min(float4(0, 0, 0, 0), res);
return res;
}
