sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.051927693188190,-0.029925387352705,-0.083061546087265,-0.070074357092381);
res += mul(Get(s0,-dx,-dy), float4x4(-0.061824005097151,0.029145700857043,-0.021457981318235,-0.393592655658722,-0.159605577588081,0.025953449308872,0.092454932630062,-0.232194334268570,-0.144131526350975,0.077235490083694,0.167782306671143,-0.262169837951660,0.048676665872335,-0.258255064487457,0.023740656673908,0.046392884105444));
res += mul(Get(s0,-dx,0), float4x4(-0.733936548233032,-0.134387642145157,0.111713610589504,-0.521452009677887,0.239063531160355,0.133679553866386,0.103274896740913,-0.031969975680113,-0.139977231621742,-0.151029571890831,-0.000569743395317,-0.430589050054550,0.057637725025415,0.334445416927338,0.148936793208122,0.260011821985245));
res += mul(Get(s0,-dx,dy), float4x4(0.148271426558495,0.035756085067987,-0.036823060363531,-0.207904815673828,-0.068836361169815,-0.072052635252476,-0.037355460226536,-0.028953211382031,-0.155028790235519,-0.091288894414902,0.100019007921219,-0.222216248512268,-0.004863745532930,0.078766614198685,0.072362303733826,0.189958617091179));
res += mul(Get(s0,0,-dy), float4x4(-0.211136177182198,-0.249150246381760,-0.133845522999763,-0.108211755752563,-0.099302120506763,-0.388156771659851,-0.081240661442280,-0.030449802055955,-0.300300955772400,-0.730013966560364,-0.382692992687225,0.206374689936638,0.271773636341095,0.222445756196976,-0.073773600161076,-0.029648698866367));
res += mul(Get(s0,0,0), float4x4(-0.728865027427673,0.134098067879677,-0.523935019969940,0.100820362567902,0.602524280548096,-0.002598556922749,-0.043428864330053,0.105124160647392,-0.151787206530571,-0.299994260072708,0.100885227322578,0.222352176904678,-0.017393499612808,0.089334212243557,-0.185704648494720,-0.669581532478333));
res += mul(Get(s0,0,dy), float4x4(0.245634198188782,-0.033452156931162,-0.053323078900576,0.038173753768206,-0.023302188143134,0.274446994066238,0.060396984219551,-0.040893368422985,-0.466848909854889,-0.102149344980717,0.012349923141301,0.049600839614868,0.246218740940094,0.094218492507935,-0.022603875026107,-0.330132007598877));
res += mul(Get(s0,dx,-dy), float4x4(-0.146257773041725,-0.152758836746216,-0.218956142663956,0.098382927477360,-0.172142848372459,0.118795081973076,-0.097299702465534,0.062881939113140,-0.020408762618899,-0.125492155551910,0.059802476316690,0.067208997905254,0.160489603877068,0.033366646617651,0.156870856881142,-0.062064830213785));
res += mul(Get(s0,dx,0), float4x4(-0.011250989511609,0.060032542794943,0.024439202621579,0.061027385294437,0.276037305593491,-0.095692828297615,0.004292696248740,-0.021638693287969,-0.140898644924164,-0.135855659842491,-0.387150973081589,-0.056854110211134,-0.232005655765533,0.086295761168003,0.317591756582260,0.335731476545334));
res += mul(Get(s0,dx,dy), float4x4(0.059950690716505,-0.004813880659640,0.021307421848178,0.033931910991669,-0.075147286057472,-0.113698519766331,-0.042222488671541,0.104806497693062,-0.250107675790787,0.060325905680656,-0.128630116581917,-0.016541419550776,-0.022725034505129,0.102973990142345,0.115681059658527,0.090405501425266));
res += mul(Get(s1,-dx,-dy), float4x4(0.133161127567291,0.004096923395991,0.081284731626511,0.028904160484672,0.131171748042107,0.135006189346313,-0.102612167596817,0.109255522489548,0.055387485772371,0.085546225309372,-0.045636441558599,-0.168279126286507,0.389554023742676,-0.351842552423477,-0.193160876631737,0.020281201228499));
res += mul(Get(s1,-dx,0), float4x4(-0.105049759149551,-0.396795421838760,0.073861040174961,0.302968561649323,-0.363072246313095,-0.274921208620071,-0.058426439762115,0.055594284087420,-0.004178671166301,-0.187517270445824,-0.150907859206200,0.678078114986420,-0.424991816282272,0.169883698225021,-0.123529531061649,0.084998480975628));
res += mul(Get(s1,-dx,dy), float4x4(-0.127392768859863,-0.046058684587479,0.199132457375526,0.141525268554688,-0.075364433228970,-0.106072634458542,-0.226747021079063,0.062336184084415,-0.159788042306900,-0.006913872901350,-0.155603975057602,0.129665523767471,-0.494379281997681,-0.115317836403847,0.153682917356491,0.010825911536813));
res += mul(Get(s1,0,-dy), float4x4(0.253320097923279,-0.109159462153912,0.096392452716827,-0.116372793912888,-0.089180923998356,-0.416527360677719,0.116454847157001,-0.088895261287689,-0.196298226714134,-0.464181363582611,0.057130374014378,0.033456146717072,0.155282318592072,-0.085464641451836,0.201669439673424,-0.055728174746037));
res += mul(Get(s1,0,0), float4x4(-0.188573673367500,-0.060975875705481,0.531585395336151,0.433710455894470,-0.222844868898392,-0.090261973440647,-0.158584177494049,0.486593365669250,0.198230788111687,0.551213026046753,0.458752810955048,-0.334887236356735,-0.182782426476479,-0.453380405902863,-0.783978998661041,-0.415630668401718));
res += mul(Get(s1,0,dy), float4x4(0.274110525846481,-0.260004967451096,-0.119217701256275,0.115543767809868,-0.347298681735992,0.180893212556839,0.263170719146729,0.112336501479149,-0.268086701631546,0.094557315111160,0.153666257858276,0.007116942666471,-0.302574723958969,0.220734968781471,-0.165371090173721,-0.209796413779259));
res += mul(Get(s1,dx,-dy), float4x4(-0.066511541604996,-0.367394983768463,0.070723749697208,0.125671073794365,-0.116043724119663,-0.161633312702179,-0.023095129057765,0.034215025603771,0.005001218058169,0.275081157684326,-0.056135244667530,-0.020125707611442,0.147257193922997,0.141653567552567,-0.044376131147146,-0.016121981665492));
res += mul(Get(s1,dx,0), float4x4(-0.046863168478012,-0.120629332959652,0.099458523094654,-0.083555378019810,0.117079585790634,0.061090912669897,0.208706989884377,-0.225895076990128,0.074580512940884,-0.169231191277504,0.029668115079403,0.040275253355503,0.009165380150080,0.014094308950007,0.186221793293953,0.235235959291458));
res += mul(Get(s1,dx,dy), float4x4(0.089416861534119,0.068376176059246,0.114381343126297,-0.064037233591080,-0.212535366415977,-0.040266454219818,-0.088456906378269,-0.059574913233519,-0.155626386404037,-0.025630773976445,0.076233975589275,-0.004451617598534,0.018028559163213,-0.152862280607224,0.110374189913273,0.150267675518990));
res += mul(Get(s2,-dx,-dy), float4x4(0.073455005884171,-0.072214998304844,0.000775625754613,-0.244332775473595,0.147679522633553,0.068359859287739,-0.020485207438469,0.026724504306912,-0.003342595649883,0.003214261028916,-0.195511713624001,-0.077718168497086,-0.071293100714684,-0.058444745838642,0.100412078201771,-0.171800673007965));
res += mul(Get(s2,-dx,0), float4x4(-0.221068099141121,-0.185382097959518,-0.244679629802704,-0.662028968334198,0.311803251504898,-0.071568869054317,-0.070595301687717,0.021292308345437,-0.068653181195259,-0.246530652046204,-0.639380693435669,-0.018412886187434,-0.078564718365669,0.189619064331055,0.226662963628769,-0.932593703269958));
res += mul(Get(s2,-dx,dy), float4x4(0.202633515000343,0.156462073326111,0.008173561654985,0.141025438904762,-0.045038729906082,0.095398850739002,0.180135846138000,-0.067959144711494,-0.025166707113385,0.210392802953720,-0.251482486724854,-0.065007314085960,-0.000341175851645,-0.068436861038208,-0.032047286629677,0.009674217551947));
res += mul(Get(s2,0,-dy), float4x4(0.237042561173439,0.241849198937416,0.036806233227253,-0.010415048338473,-0.182868614792824,-0.160553544759750,0.040971670299768,-0.026129500940442,-0.146997839212418,-0.068234927952290,0.117918886244297,0.170098498463631,0.060747928917408,0.072218418121338,0.002124303486198,0.121242977678776));
res += mul(Get(s2,0,0), float4x4(-0.334640026092529,-0.303278386592865,0.262686491012573,0.037020880728960,0.563597440719604,0.173837944865227,-0.006372591014951,0.098299168050289,0.026324912905693,0.208997428417206,0.822580397129059,0.377798169851303,-0.348858237266541,-0.082296662032604,-0.526613056659698,-0.203567817807198));
res += mul(Get(s2,0,dy), float4x4(0.509314537048340,-0.106886923313141,0.108549214899540,0.022089397534728,0.217197075486183,-0.096602231264114,-0.262601256370544,0.112584576010704,-0.207725405693054,-0.025139648467302,0.252323389053345,0.182836785912514,-0.301622837781906,-0.042203735560179,0.148798599839211,-0.075909353792667));
res += mul(Get(s2,dx,-dy), float4x4(0.039025407284498,-0.081480033695698,0.009261311963201,0.075607210397720,-0.008699934929609,0.127850458025932,-0.032016880810261,-0.050585161894560,-0.012689705006778,0.014412609860301,0.044441036880016,0.014518772251904,0.055803656578064,-0.059137027710676,-0.164375916123390,-0.058425024151802));
res += mul(Get(s2,dx,0), float4x4(-0.134448945522308,0.217721015214920,0.124907061457634,0.049458570778370,0.239850357174873,-0.016686314716935,0.237592965364456,-0.059246212244034,0.009731357917190,0.241318821907043,0.236867412924767,-0.074796445667744,-0.066136591136456,-0.699518918991089,-0.522331953048706,0.049588780850172));
res += mul(Get(s2,dx,dy), float4x4(0.155348122119904,-0.182923406362534,0.106340333819389,0.096166461706161,0.039176639169455,-0.133228302001953,0.130439370870590,0.001926132012159,-0.156185090541840,-0.119652450084686,-0.067466720938683,-0.096017345786095,-0.234198957681656,0.127331867814064,-0.125507503747940,-0.024846270680428));
res = max(float4(0, 0, 0, 0), res) + float4(-0.071801647543907,-0.001836072537117,-0.018110992386937,-0.042869202792645) * min(float4(0, 0, 0, 0), res);
return res;
}
