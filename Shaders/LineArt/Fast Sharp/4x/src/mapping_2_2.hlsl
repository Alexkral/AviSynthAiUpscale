sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.121011696755886,0.285754263401031,0.156396627426147,0.041157707571983);
res += mul(Get(s0,-dx,-dy), float4x4(0.142026245594025,-0.072884827852249,-0.191489964723587,-0.056832041591406,-0.052233364433050,0.171996280550957,0.184775590896606,0.075502507388592,-0.031479503959417,0.145169422030449,0.243842884898186,0.141998574137688,0.114339262247086,0.225038930773735,0.170599997043610,0.054878577589989));
res += mul(Get(s0,-dx,0), float4x4(0.018632002174854,0.042543992400169,0.065176337957382,-0.162928029894829,-0.495232462882996,-0.202038407325745,-0.138546049594879,-0.197428271174431,-0.302654862403870,-0.165327489376068,0.005397209431976,-0.048824280500412,0.845880687236786,0.186877295374870,0.145929113030434,0.249489560723305));
res += mul(Get(s0,-dx,dy), float4x4(-0.101484753191471,0.097979530692101,0.148554176092148,-0.152378886938095,-0.154262870550156,-0.001686177100055,-0.217622026801109,0.155374020338058,-0.052238419651985,0.085012383759022,0.133585587143898,0.270852178335190,0.050536155700684,0.295049160718918,-0.270868510007858,0.232070744037628));
res += mul(Get(s0,0,-dy), float4x4(0.049730245023966,-0.027673341333866,-2.957889318466187,-0.001785383094102,-0.483376204967499,0.122259266674519,0.226975873112679,0.069925084710121,0.035124786198139,0.032821252942085,0.009094014763832,-0.074526250362396,0.033890247344971,0.195950806140900,0.036247972398996,-0.032802402973175));
res += mul(Get(s0,0,0), float4x4(-0.764179289340973,0.055741868913174,0.187201336026192,-0.108896814286709,0.980856299400330,-0.232549294829369,0.081302210688591,-0.352522790431976,0.384787648916245,-0.058053411543369,0.551772832870483,-0.058584179729223,0.101322039961815,0.484413206577301,-0.190424665808678,-0.080920688807964));
res += mul(Get(s0,0,dy), float4x4(-0.133642137050629,-0.010514019988477,0.048473112285137,-0.374362260103226,0.060699716210365,-0.056381683796644,-0.330758869647980,0.322183459997177,0.392092525959015,-0.039029240608215,-0.116659648716450,0.473837047815323,0.003818440018222,0.194818645715714,-0.063900299370289,0.078303903341293));
res += mul(Get(s0,dx,-dy), float4x4(0.161898165941238,-0.055774401873350,-0.290606141090393,0.081163808703423,-0.037573814392090,-0.038804750889540,0.132626459002495,0.118334390223026,0.046103022992611,0.078452929854393,0.099455125629902,-0.104973874986172,-0.038536697626114,0.151457652449608,0.057173892855644,0.035800725221634));
res += mul(Get(s0,dx,0), float4x4(-0.001848066109233,-0.052343707531691,0.047985192388296,0.150465846061707,-0.222743570804596,0.469179779291153,0.008245090954006,0.034443721175194,0.176212027668953,0.154524147510529,0.295564204454422,0.001808367087506,0.242900565266609,0.225912600755692,0.057592168450356,0.106044039130211));
res += mul(Get(s0,dx,dy), float4x4(-0.061408583074808,-0.007305308710784,0.133106663823128,-0.253189980983734,0.302424669265747,0.030347244814038,0.094180889427662,-0.027856547385454,0.006329828407615,0.035594820976257,-0.007659005466849,0.117167733609676,0.030943015590310,0.052188206464052,0.029873326420784,-0.020949015393853));
res += mul(Get(s1,-dx,-dy), float4x4(-0.008202442899346,-0.015137509442866,0.227381318807602,0.014333670027554,-0.238836854696274,-0.060928724706173,0.197220042347908,0.017251914367080,-0.056192897260189,-0.173764780163765,0.201144993305206,0.149588912725449,-0.143502146005630,0.061736986041069,-0.011801009066403,-0.054526433348656));
res += mul(Get(s1,-dx,0), float4x4(-0.133758798241615,-0.468199104070663,0.110841900110245,-0.200320824980736,0.251567631959915,-0.045859310775995,-0.185089886188507,0.027724301442504,-0.240142509341240,-0.621390759944916,-0.288887768983841,-0.214096188545227,-0.279241412878036,0.389497637748718,0.240002796053886,-0.081311173737049));
res += mul(Get(s1,-dx,dy), float4x4(0.153983756899834,-0.181535243988037,-0.079860143363476,-0.357596129179001,0.080926105380058,-0.094782993197441,-0.116680227220058,0.243617519736290,-0.177068546414375,0.150304928421974,-0.033385060727596,0.173022463917732,-0.125501066446304,0.085374705493450,0.050163388252258,-0.054192055016756));
res += mul(Get(s1,0,-dy), float4x4(-0.016607666388154,-0.173541948199272,-0.067394949495792,0.065991938114166,0.088572479784489,-0.189654797315598,0.565713286399841,0.036641139537096,0.336159110069275,-0.151013016700745,0.093857824802399,-0.107261106371880,-0.189945906400681,0.001409210846759,-0.221524462103844,-0.132607355713844));
res += mul(Get(s1,0,0), float4x4(0.317678689956665,0.678373813629150,0.077140107750893,0.537837684154510,0.093687295913696,-0.709852933883667,-0.346137970685959,0.050858072936535,0.275082111358643,0.305876612663269,0.062544964253902,0.403836637735367,-0.702214360237122,0.287214994430542,0.226403281092644,0.100649856030941));
res += mul(Get(s1,0,dy), float4x4(-0.038452129811049,-0.509373188018799,-0.194492876529694,-0.949387788772583,0.271737575531006,0.416844725608826,-0.110769428312778,0.449120879173279,0.094941973686218,-0.059116534888744,0.051254898309708,0.121280133724213,-0.219722002744675,0.200909242033958,-0.075597882270813,0.088270731270313));
res += mul(Get(s1,dx,-dy), float4x4(0.113829918205738,-0.132341653108597,-0.112605735659599,-0.040115002542734,-0.030414743348956,-0.031116688624024,0.189406543970108,-0.083794727921486,-0.002803793177009,-0.066869392991066,-0.046959858387709,-0.127303421497345,-0.181117549538612,-0.103190295398235,-0.098316542804241,-0.004622410982847));
res += mul(Get(s1,dx,0), float4x4(-0.093360476195812,0.028118936344981,0.013924348168075,0.030930083245039,-0.130314603447914,0.574154078960419,0.115707017481327,0.105402648448944,-0.152065828442574,0.018099924549460,0.187269330024719,0.176477447152138,-0.571221292018890,0.023442804813385,-0.090168878436089,-0.127648338675499));
res += mul(Get(s1,dx,dy), float4x4(0.275961428880692,0.035009879618883,0.030384460464120,-0.079208180308342,0.163992449641228,0.093806713819504,-0.138713300228119,0.378389269113541,-0.029717093333602,-0.249061986804008,-0.053373079746962,0.348087817430496,-0.254182457923889,0.118996717035770,-0.036926675587893,-0.080485031008720));
res += mul(Get(s2,-dx,-dy), float4x4(-0.148732319474220,-0.229132264852524,-0.076875366270542,-0.015072052367032,0.086554609239101,-0.051871336996555,-0.144366651773453,0.005401133093983,-0.142950177192688,-0.120117425918579,-0.253781318664551,-0.068931154906750,0.056767143309116,-0.138703882694244,-0.430342257022858,-0.110663011670113));
res += mul(Get(s2,-dx,0), float4x4(-0.304003566503525,-0.201873064041138,-0.118029303848743,-0.083232983946800,-0.012846352532506,0.217705115675926,0.021759888157248,-0.140130028128624,0.019226031377912,0.409343808889389,0.065104126930237,0.112210988998413,0.136414900422096,0.261724323034286,-0.271003067493439,-0.042935486882925));
res += mul(Get(s2,-dx,dy), float4x4(-0.150977253913879,-0.185960948467255,-0.046580221503973,-0.015898663550615,-0.201987922191620,0.193776026368141,0.181679248809814,-0.195208102464676,-0.017445487901568,0.161007642745972,0.044518884271383,0.121876291930676,0.094625569880009,-0.040673475712538,-0.084601424634457,-0.224439620971680));
res += mul(Get(s2,0,-dy), float4x4(-0.002555336104706,-0.206677436828613,0.195278242230415,0.270168364048004,0.101961106061935,-0.368590205907822,-0.238590717315674,-0.141092136502266,-0.116406932473183,-0.240175247192383,-0.137832835316658,0.000977327697910,0.070663154125214,-0.203772783279419,-0.456388264894485,0.136253610253334));
res += mul(Get(s2,0,0), float4x4(-0.371250897645950,0.241128489375114,0.289249628782272,-0.262149959802628,-0.593285441398621,0.311569482088089,0.751131355762482,0.005832494236529,0.041287783533335,0.258023411035538,0.309870868921280,0.181311115622520,-0.673391342163086,0.106031507253647,-0.009783182293177,-0.126276537775993));
res += mul(Get(s2,0,dy), float4x4(0.822285830974579,0.051628392189741,-0.025081638246775,0.158530935645103,0.683491230010986,-0.008167446590960,0.221242383122444,-0.416301280260086,-0.070053294301033,0.011920486576855,0.170040026307106,0.199780017137527,-0.233384311199188,-0.055045735090971,0.196800783276558,-0.250272840261459));
res += mul(Get(s2,dx,-dy), float4x4(-0.179871112108231,-0.019088460132480,0.027538359165192,0.238564357161522,0.331215232610703,-0.315285325050354,-0.087036930024624,0.045009370893240,0.069881379604340,-0.123444616794586,-0.058008465915918,0.019446784630418,-0.035677138715982,-0.187410295009613,-0.155690416693687,0.027927821502090));
res += mul(Get(s2,dx,0), float4x4(-0.113179221749306,0.494138270616531,0.079873964190483,-0.193282321095467,-0.192058727145195,0.168563544750214,0.360159635543823,0.227810785174370,-0.108206957578659,-0.055866830050945,0.122155092656612,-0.053987558931112,-0.255327731370926,-0.226235419511795,-0.339947491884232,0.047358609735966));
res += mul(Get(s2,dx,dy), float4x4(0.350206315517426,0.106066584587097,0.032668381929398,0.243934705853462,-0.259385675191879,0.046205006539822,0.080949306488037,0.076722428202629,-0.110371939837933,-0.047335494309664,-0.045813102275133,0.079780124127865,-0.244026735424995,-0.096287928521633,-0.030351802706718,0.052376959472895));
res = max(float4(0, 0, 0, 0), res) + float4(0.750335037708282,0.747676193714142,-0.028296632692218,-0.406225502490997) * min(float4(0, 0, 0, 0), res);
return res;
}
