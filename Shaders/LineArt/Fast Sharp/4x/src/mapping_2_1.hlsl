sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.079251773655415,0.129122212529182,-0.020899036899209,0.141683682799339);
res += mul(Get(s0,-dx,-dy), float4x4(-0.005401771049947,0.001485960790887,-0.106237046420574,-0.013861856423318,-0.158849507570267,0.038436397910118,-0.003066659905016,-0.070019893348217,-0.086035273969173,0.192986786365509,0.094374626874924,0.153678745031357,-0.020905610173941,0.265853703022003,-0.052293822169304,0.397318929433823));
res += mul(Get(s0,-dx,0), float4x4(-0.023970132693648,0.044602163136005,0.085341230034828,0.007706996053457,-0.140003979206085,-0.129972681403160,0.179468438029289,0.368543237447739,0.017808929085732,-0.175400033593178,0.150242120027542,0.142734482884407,0.298487544059753,-0.397089183330536,-0.080110959708691,0.263119310140610));
res += mul(Get(s0,-dx,dy), float4x4(0.084486491978168,-0.059732101857662,0.041021082550287,0.001190408598632,-0.081276819109917,0.330255091190338,0.109761729836464,-0.201645120978355,0.046075802296400,0.018591390922666,0.184847474098206,0.243352383375168,0.140762507915497,0.033144459128380,0.312608182430267,0.154447719454765));
res += mul(Get(s0,0,-dy), float4x4(-0.094350032508373,0.259998947381973,-0.046602174639702,-0.194072008132935,-0.158177077770233,-0.083018220961094,-0.110671661794186,0.150749593973160,-0.150662437081337,0.013904004357755,0.048268269747496,0.225556448101997,0.051792137324810,0.109563142061234,-0.049741543829441,0.202510654926300));
res += mul(Get(s0,0,0), float4x4(-0.013201666064560,0.297591388225555,-0.104700841009617,0.061702709645033,0.059898663312197,-0.830415666103363,0.646597266197205,-0.050473395735025,-0.105815306305885,0.099049560725689,0.235425427556038,-0.401793897151947,-0.699972629547119,0.137548372149467,0.054885398596525,0.061006985604763));
res += mul(Get(s0,0,dy), float4x4(0.213463231921196,0.090717695653439,-0.006898005958647,-0.116750724613667,-0.420434832572937,0.143263369798660,-0.124955914914608,0.238218382000923,-0.402092903852463,-0.111416049301624,0.217792958021164,-0.423877865076065,0.189919233322144,-0.050999864935875,0.183509901165962,0.074313677847385));
res += mul(Get(s0,dx,-dy), float4x4(-0.240221634507179,-0.160393700003624,0.075966171920300,0.014127721078694,-0.342241555452347,0.015629248693585,0.096136026084423,-0.238966807723045,0.277438938617706,-0.121227428317070,0.041215583682060,-0.030150949954987,0.272452324628830,0.050520826131105,-0.001729226554744,0.041567690670490));
res += mul(Get(s0,dx,0), float4x4(-0.012120136991143,-0.006597266066819,-0.025563644245267,-0.245817229151726,0.387025624513626,-0.069509826600552,-0.115283496677876,0.165424555540085,0.021621737629175,-0.282748281955719,0.024667739868164,-0.055092576891184,0.563961207866669,-0.227393552660942,0.055834807455540,-0.202254742383957));
res += mul(Get(s0,dx,dy), float4x4(0.051116898655891,0.103160686790943,0.030182084068656,0.001222991617396,-0.193830117583275,-0.058328293263912,0.041167099028826,-0.060007870197296,0.166660934686661,-0.411140024662018,-0.056855261325836,0.161066025495529,0.123160779476166,-0.077566161751747,0.026481604203582,0.083922535181046));
res += mul(Get(s1,-dx,-dy), float4x4(0.020212430506945,0.058399923145771,-0.007607930805534,-0.019454158842564,-0.013725676573813,-0.135716482996941,-0.021310236304998,-0.012449260801077,0.003047147998586,-0.223410069942474,0.052807733416557,0.009487606585026,0.272648423910141,0.234808817505836,-0.363927364349365,-0.066142179071903));
res += mul(Get(s1,-dx,0), float4x4(0.057913437485695,-0.050409730523825,0.313690423965454,0.203119710087776,-0.047226868569851,-0.043802775442600,0.018696403130889,0.144327655434608,0.096815980970860,-0.482106834650040,0.371029168367386,0.351346552371979,0.373656064271927,0.351006120443344,-0.361320793628693,-0.045877180993557));
res += mul(Get(s1,-dx,dy), float4x4(-0.050196301192045,0.098925508558750,0.238466501235962,-0.006071382667869,-0.099834181368351,-0.120326027274132,0.045170232653618,-0.072961278259754,-0.340947806835175,0.087838798761368,0.107541285455227,-0.099989920854568,0.278572499752045,0.137803718447685,-0.205550789833069,0.036830272525549));
res += mul(Get(s1,0,-dy), float4x4(-0.123037993907928,0.013362733647227,0.259317725896835,0.108411408960819,0.182670727372169,0.036818977445364,0.327194720506668,0.096230082213879,-0.230524361133575,0.187447309494019,0.220300599932671,0.220388233661652,0.377633661031723,0.171980038285255,-0.497345447540283,0.165984079241753));
res += mul(Get(s1,0,0), float4x4(-0.196977570652962,-0.027000820264220,-0.641415297985077,-0.937233805656433,0.045864764600992,0.080189749598503,-0.151178985834122,0.210225686430931,-0.142916232347488,0.214868724346161,-0.060775578022003,-0.522143244743347,0.646138429641724,0.179162725806236,-0.105593405663967,0.215564951300621));
res += mul(Get(s1,0,dy), float4x4(0.127158820629120,0.745237410068512,0.232491910457611,0.081441663205624,-0.017570063471794,-0.196386486291885,0.153532579541206,0.066633202135563,0.081653311848640,-0.383759140968323,-0.420242875814438,0.056950226426125,0.228811874985695,0.148023694753647,-0.563026905059814,-0.213993564248085));
res += mul(Get(s1,dx,-dy), float4x4(0.259718596935272,-0.047232206910849,-0.013349897228181,-0.001939847017638,0.256911724805832,0.013087708503008,-0.221411198377609,-0.184741869568825,0.041851066052914,-0.201927199959755,0.028260467574000,0.264185011386871,0.288858443498611,0.182726502418518,-0.430919557809830,0.042255360633135));
res += mul(Get(s1,dx,0), float4x4(-0.079537473618984,-0.384373843669891,0.158041328191757,0.128900274634361,0.210779413580894,-0.441906213760376,-0.247172906994820,-0.655114948749542,0.010311252437532,-0.341614991426468,0.028487123548985,0.625794947147369,0.131853982806206,0.417916208505630,-0.297697663307190,0.386112511157990));
res += mul(Get(s1,dx,dy), float4x4(-0.094435282051563,0.197644457221031,0.009240426123142,-0.187650203704834,-0.024123109877110,-0.019983349367976,-0.239732459187508,0.078406304121017,-0.035652369260788,0.046437017619610,-0.385204523801804,0.027738932520151,0.431738495826721,0.120419010519981,-0.300943791866302,0.041912756860256));
res += mul(Get(s2,-dx,-dy), float4x4(-0.054301958531141,-0.434409260749817,-0.050980560481548,-0.108549080789089,-0.096637815237045,-0.030050754547119,0.175440669059753,0.060099214315414,0.039199240505695,0.004788531456143,-0.040068857371807,-0.020844753831625,-0.030531845986843,-0.301000267267227,0.022552685812116,-0.154429301619530));
res += mul(Get(s2,-dx,0), float4x4(0.125945359468460,-0.171752437949181,0.357613384723663,0.166100889444351,0.000606448913459,0.218545511364937,0.059427868574858,0.093354642391205,-0.406557768583298,0.002294843085110,-0.307187229394913,-0.131044268608093,-0.358070492744446,-0.224902793765068,0.161244243383408,-0.241789266467094));
res += mul(Get(s2,-dx,dy), float4x4(-0.041661500930786,0.010412110947073,0.088739626109600,-0.013655984774232,-0.251935750246048,0.208351895213127,0.016058985143900,-0.065273299813271,-0.165690198540688,0.158259585499763,-0.509796798229218,-0.189696162939072,-0.216843202710152,-0.147649839520454,0.002476503141224,-0.238767012953758));
res += mul(Get(s2,0,-dy), float4x4(0.007579760625958,-0.287748247385025,-0.131921857595444,0.025598457083106,-0.874360024929047,-0.188636422157288,-0.095500707626343,-0.089808382093906,0.130890905857086,0.069975219666958,-0.072673760354519,-0.000564053712878,-0.127021059393883,-0.318643957376480,0.146818995475769,-0.342639535665512));
res += mul(Get(s2,0,0), float4x4(0.207619458436966,0.302866220474243,-0.065510593354702,-0.026488330215216,0.343886852264404,0.100696474313736,0.622226417064667,0.288632154464722,-0.199814870953560,-0.151092961430550,-0.138915479183197,-0.132386550307274,-0.222819313406944,-0.020117852836847,0.175181373953819,-1.376378655433655));
res += mul(Get(s2,0,dy), float4x4(-0.067180998623371,-0.683478653430939,-0.041153199970722,-0.053877018392086,-0.087874032557011,-0.224480777978897,0.794464051723480,0.376371502876282,-0.173246204853058,-0.008480575866997,-0.174824640154839,-0.141540020704269,-0.167140334844589,-0.263376384973526,0.089423798024654,0.206304118037224));
res += mul(Get(s2,dx,-dy), float4x4(-0.065563812851906,-0.078131236135960,-0.077673092484474,-0.074851825833321,-0.413213729858398,0.333931863307953,-0.142880022525787,-0.077751286327839,0.047926247119904,-0.005204435437918,0.043950367718935,-0.002038439735770,-0.486808449029922,-0.035507056862116,0.140607744455338,-0.107887446880341));
res += mul(Get(s2,dx,0), float4x4(0.335455924272537,-0.067730195820332,-0.284503430128098,-0.400977104902267,0.398278146982193,0.241622075438499,0.149814590811729,-0.161907956004143,-0.305566966533661,-0.181638240814209,0.183117732405663,0.231822937726974,-0.758397877216339,0.188549444079399,0.147139072418213,0.030760610476136));
res += mul(Get(s2,dx,dy), float4x4(-0.148446395993233,-0.236970216035843,-0.325987756252289,-0.201542153954506,0.806101918220520,-0.012399424798787,0.292404711246490,0.513888299465179,-0.094900935888290,0.148609727621078,0.111792013049126,0.044848538935184,-0.420702040195465,0.269204169511795,0.243502572178841,0.025570753961802));
res = max(float4(0, 0, 0, 0), res) + float4(-0.047751661390066,0.924880743026733,0.011469669640064,-0.255707740783691) * min(float4(0, 0, 0, 0), res);
return res;
}
