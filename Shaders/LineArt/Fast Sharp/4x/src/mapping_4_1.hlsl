sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.127590999007225,0.035203430801630,0.019832713529468,-0.228640675544739);
res += mul(Get(s0,-dx,-dy), float4x4(0.082093559205532,0.009830308146775,-0.457523703575134,-0.224782049655914,0.106911294162273,-0.006388049107045,0.070661172270775,0.202668040990829,0.139688462018967,-0.004469708539546,-0.603551149368286,-0.136773049831390,-0.046266358345747,0.060382433235645,0.055064786225557,-0.011524909175932));
res += mul(Get(s0,-dx,0), float4x4(0.203806087374687,0.046619340777397,0.091038852930069,0.139483869075775,0.042387675493956,-0.111965559422970,0.149041622877121,0.029804477468133,0.159625679254532,0.082829736173153,-0.116282671689987,-0.141337648034096,0.174810096621513,-0.087254874408245,-0.121250934898853,-0.436525553464890));
res += mul(Get(s0,-dx,dy), float4x4(-0.076582260429859,-0.090410888195038,-0.015539512038231,-0.031276762485504,0.055469453334808,0.124937504529953,0.124080851674080,0.078242652118206,0.001663906848989,0.010170701891184,-0.114175535738468,-0.077615424990654,0.181361064314842,-0.017076805233955,-0.048999872058630,0.105236031115055));
res += mul(Get(s0,0,-dy), float4x4(-0.092572674155235,-0.062061686068773,-0.586237251758575,-0.061890605837107,-0.178415477275848,0.042381789535284,-0.181780070066452,-0.065295450389385,-0.310278862714767,0.164327427744865,-0.953894674777985,-0.200512170791626,-0.023557195439935,0.047223750501871,0.177261739969254,0.125687807798386));
res += mul(Get(s0,0,0), float4x4(-0.921424567699432,0.048678923398256,0.040464565157890,0.070078022778034,0.102768063545227,-0.231980755925179,0.233358204364777,0.133787348866463,-0.246778577566147,-0.450872093439102,-0.263081610202789,0.008057040162385,-0.240003123879433,0.130683571100235,0.190758764743805,0.562405228614807));
res += mul(Get(s0,0,dy), float4x4(-0.135872140526772,0.007519937120378,-0.117246039211750,-0.039048790931702,0.031813282519579,0.126879483461380,0.326806992292404,-0.172469079494476,-0.101627975702286,-0.279096662998199,-0.158111155033112,-0.119866803288460,-0.210858508944511,0.186830773949623,-0.228195235133171,0.124126143753529));
res += mul(Get(s0,dx,-dy), float4x4(-0.136881738901138,0.008579907007515,-0.092923782765865,-0.041122600436211,-0.064528860151768,-0.046208631247282,0.093954727053642,0.044483043253422,0.202161833643913,-0.171575203537941,-0.220671325922012,0.180423274636269,0.097645193338394,-0.082924678921700,-0.127734676003456,0.157304748892784));
res += mul(Get(s0,dx,0), float4x4(0.157626762986183,-0.392207741737366,0.049018435180187,-0.028684832155704,-0.092918269336224,0.134862497448921,0.143475934863091,-0.007278815843165,-0.071128807961941,-0.226122573018074,-0.108019314706326,-0.072673313319683,-0.008387675508857,0.012423386797309,-0.048461280763149,0.519315958023071));
res += mul(Get(s0,dx,dy), float4x4(0.116918049752712,0.160665184259415,0.045774322003126,-0.017685601487756,-0.040932871401310,-0.289765059947968,0.002578577958047,0.085157297551632,-0.168183147907257,-0.709575116634369,-0.031683113425970,0.203112617135048,0.010064244270325,0.597200870513916,-0.028460564091802,-0.162210047245026));
res += mul(Get(s1,-dx,-dy), float4x4(0.093946091830730,-0.013853464275599,-0.035103071480989,-0.089765571057796,-0.012397562153637,-0.056929755955935,-0.016178270801902,0.081823103129864,-0.016969531774521,-0.053348191082478,-0.084923803806305,0.044525813311338,0.101653866469860,-0.171061202883720,-0.003340854542330,-0.141871273517609));
res += mul(Get(s1,-dx,0), float4x4(0.116806186735630,-0.098524756729603,0.127480641007423,-0.152648270130157,-0.106112286448479,0.028276044875383,-0.215777099132538,0.100249283015728,-0.162126496434212,0.072843976318836,0.128143712878227,0.150469511747360,-0.014022600837052,-0.007529397029430,-0.440391033887863,-0.481151282787323));
res += mul(Get(s1,-dx,dy), float4x4(0.106087714433670,-0.079960294067860,-0.112933836877346,-0.180968686938286,-0.140816420316696,0.018229406327009,0.216675430536270,0.119533888995647,-0.069227106869221,-0.082246191799641,0.045865707099438,0.132745906710625,-0.094787582755089,-0.073012225329876,-0.231103315949440,0.043369393795729));
res += mul(Get(s1,0,-dy), float4x4(0.089741744101048,-0.030029369518161,0.020550401881337,-0.060412328690290,0.147161111235619,-0.030911406502128,0.070017002522945,0.115904428064823,-0.048945963382721,0.028596196323633,-0.148154646158218,-0.014805656857789,0.062769040465355,0.028986163437366,0.143239557743073,-0.093492619693279));
res += mul(Get(s1,0,0), float4x4(0.379498332738876,0.011420584283769,0.623913705348969,0.099661163985729,0.020428115502000,-0.176462590694427,-0.772863924503326,0.349312692880630,0.628765285015106,-0.366221308708191,0.073726706206799,-0.237623497843742,-0.266619592905045,-0.332819938659668,0.001979293301702,-0.305864632129669));
res += mul(Get(s1,0,dy), float4x4(0.210795089602470,-0.299988269805908,-0.180891990661621,0.149283051490784,0.451395720243454,0.049484219402075,0.530000865459442,0.064162895083427,0.313487768173218,0.196892619132996,0.136129111051559,-0.045788012444973,-0.289405107498169,-0.824101746082306,-0.112648069858551,-0.174539774656296));
res += mul(Get(s1,dx,-dy), float4x4(-0.056417200714350,-0.008394673466682,-0.032976549118757,0.080066494643688,-0.115022242069244,0.131113126873970,0.121620334684849,-0.193172782659531,-0.042991276830435,-0.021219866350293,0.050925906747580,0.038664795458317,-0.020895227789879,0.107081703841686,0.048923011869192,0.116752363741398));
res += mul(Get(s1,dx,0), float4x4(0.224235296249390,-0.185953497886658,0.136176690459251,-0.387503981590271,0.336247026920319,-0.336449027061462,-0.229833051562309,-0.311125010251999,-0.147757962346077,0.282347202301025,-0.112197384238243,0.152313306927681,-0.038199976086617,-0.277550667524338,0.042808488011360,0.381922811269760));
res += mul(Get(s1,dx,dy), float4x4(0.075071826577187,-0.244409278035164,-0.005441082175821,-0.173554494976997,-0.105168372392654,-0.299268275499344,-0.038133487105370,0.036959145218134,-0.000111368804937,-0.046410243958235,-0.027210541069508,-0.014946961775422,0.102068752050400,0.229711234569550,0.044915955513716,0.149265646934509));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024598360061646,-0.055666219443083,-0.072438098490238,0.117971226572990,0.050186999142170,-0.041279394179583,0.291017115116119,0.106768652796745,-0.099578000605106,-0.084952265024185,-0.133888989686966,0.126142650842667,0.001086589531042,0.043781321495771,-0.072584860026836,-0.122180692851543));
res += mul(Get(s2,-dx,0), float4x4(-0.304101616144180,0.216287255287170,0.030622335150838,-0.666306436061859,-0.045228786766529,0.022282365709543,0.218079045414925,0.053004745393991,-0.529558300971985,0.252296000719070,-0.082604430615902,0.293586552143097,0.211376309394836,-0.122903473675251,-0.170406863093376,0.031573221087456));
res += mul(Get(s2,-dx,dy), float4x4(-0.229110226035118,-0.023968225345016,-0.167824923992157,-0.383849740028381,0.035196043550968,0.056677561253309,-0.108754888176918,-0.149961486458778,-0.474117517471313,0.000862500804942,0.040724713355303,-0.068173915147781,0.150572717189789,0.037585161626339,0.065576359629631,-0.027875818312168));
res += mul(Get(s2,0,-dy), float4x4(-0.065646149218082,0.017087545245886,0.041371114552021,-0.311815530061722,0.029375240206718,0.040935810655355,0.491615056991577,-0.012262930162251,0.048803489655256,0.081243172287941,-0.007576055824757,0.277273684740067,-0.079242579638958,-0.015487195923924,-0.409699916839600,-0.177566632628441));
res += mul(Get(s2,0,0), float4x4(-0.395308345556259,-0.178882852196693,0.140727579593658,-0.224979594349861,0.076329067349434,-0.142422065138817,0.534352421760559,-0.143961876630783,0.425378233194351,-0.614471435546875,-0.585666656494141,0.204782456159592,-0.775921046733856,0.164602532982826,-0.615876138210297,-0.308276295661926));
res += mul(Get(s2,0,dy), float4x4(0.307696372270584,0.081257358193398,-0.229452267289162,0.046926327049732,-0.196564346551895,-0.059973344206810,-0.419548302888870,0.208637416362762,0.471362084150314,0.505707681179047,0.073064148426056,0.095428556203842,-0.087306514382362,0.058405689895153,0.284177392721176,-0.129804089665413));
res += mul(Get(s2,dx,-dy), float4x4(0.012001928873360,0.112101301550865,-0.014406598173082,-0.025570193305612,-0.124684184789658,-0.062527984380722,0.110738597810268,-0.032510187476873,0.041408676654100,0.044623747467995,0.038294408470392,-0.076623566448689,-0.009865137748420,0.033146742731333,-0.098371759057045,0.097332902252674));
res += mul(Get(s2,dx,0), float4x4(0.154172703623772,-0.117929972708225,0.086353994905949,0.239533111453056,0.269348025321960,0.131897166371346,0.079018644988537,-0.041179846972227,0.427414625883102,0.236242488026619,-0.201857894659042,-0.088083855807781,-0.388634145259857,-0.428292572498322,-0.238973021507263,0.204536929726601));
res += mul(Get(s2,dx,dy), float4x4(0.063254877924919,0.008667859248817,-0.069356426596642,-0.064388081431389,0.218911871314049,0.055254355072975,-0.087113372981548,-0.167365327477455,0.064894728362560,-0.124493956565857,-0.036656957119703,0.064907588064671,-0.312177091836929,-0.482505470514297,0.072379849851131,-0.083979077637196));
res = max(float4(0, 0, 0, 0), res) + float4(-0.040147203952074,-0.000101721263491,-0.050215788185596,0.038347840309143) * min(float4(0, 0, 0, 0), res);
return res;
}
