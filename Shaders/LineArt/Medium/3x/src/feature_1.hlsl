sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.427696287631989,0.051743309944868,-0.469036012887955,-0.000392628775444);
res += float4(-0.012341992929578,0.041055776178837,-0.047379855066538,0.013157699257135) * Get(-ddx,-ddy);
res += float4(-0.011359545402229,-0.046976130455732,0.109803378582001,-0.028304064646363) * Get(-ddx,-dy);
res += float4(0.043954052031040,0.062455628067255,0.728311479091644,0.025177400559187) * Get(-ddx,0);
res += float4(-0.063182212412357,0.057151496410370,0.307339161634445,0.009618080221117) * Get(-ddx,dy);
res += float4(0.017227929085493,-0.057018592953682,-0.006184047553688,-0.027005614712834) * Get(-ddx,ddy);
res += float4(0.075648024678230,-0.040447458624840,0.013872098177671,0.008539139293134) * Get(-dx,-ddy);
res += float4(-0.117298834025860,-0.142840415239334,-0.181118324398994,0.003668557154015) * Get(-dx,-dy);
res += float4(0.062434595078230,-0.052375711500645,-0.514622747898102,-0.048781108111143) * Get(-dx,0);
res += float4(0.009575911797583,0.054084997624159,0.557650864124298,0.014361329376698) * Get(-dx,dy);
res += float4(-0.021875917911530,0.220164954662323,-0.009399872273207,0.019667442888021) * Get(-dx,ddy);
res += float4(-0.070821776986122,0.000291836797260,0.036721922457218,0.041963640600443) * Get(0,-ddy);
res += float4(0.758076965808868,-0.219888389110565,-0.027244888246059,-0.113232947885990) * Get(0,-dy);
res += float4(0.292349934577942,-0.424165248870850,-0.378336966037750,0.641330063343048) * Get(0,0);
res += float4(-0.332418590784073,0.114011846482754,-0.054714988917112,0.377737611532211) * Get(0,dy);
res += float4(-0.025603331625462,0.297233104705811,-0.005987049546093,-0.098391480743885) * Get(0,ddy);
res += float4(-0.009410646744072,0.023265896365047,-0.016398176550865,-0.009943295270205) * Get(dx,-ddy);
res += float4(0.300682336091995,0.049304518848658,0.051817528903484,0.082052119076252) * Get(dx,-dy);
res += float4(-0.253406882286072,0.021336026489735,-0.057442270219326,-0.601796686649323) * Get(dx,0);
res += float4(-0.134748369455338,0.156035602092743,0.017631286755204,-0.417859584093094) * Get(dx,dy);
res += float4(-0.037413723766804,-0.174718543887138,-0.000910253205802,0.115426063537598) * Get(dx,ddy);
res += float4(0.015314831398427,-0.053882192820311,0.010802168399096,-0.043014891445637) * Get(ddx,-ddy);
res += float4(0.007501987274736,-0.057573948055506,0.009395815432072,0.035043586045504) * Get(ddx,-dy);
res += float4(-0.019958171993494,0.030362199991941,-0.018247628584504,0.000650341040455) * Get(ddx,0);
res += float4(-0.067710801959038,0.041356898844242,-0.026294756680727,0.001432591350749) * Get(ddx,dy);
res += float4(0.070807524025440,0.050014797598124,0.014293126761913,-0.005680652335286) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.007736743427813,0.645556509494781,-0.030627498403192,-0.374183624982834) * min(float4(0, 0, 0, 0), res);
return res;
}
