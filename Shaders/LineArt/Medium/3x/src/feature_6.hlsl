sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.047919873148203,-0.797000885009766,-0.164906859397888,-0.038393184542656);
res += float4(0.027431923896074,-0.015530244447291,-0.027253221720457,-0.110007837414742) * Get(-ddx,-ddy);
res += float4(-0.048161610960960,0.031341955065727,-0.124615386128426,0.106854654848576) * Get(-ddx,-dy);
res += float4(0.086384654045105,-0.031984098255634,0.096867769956589,-0.166513860225677) * Get(-ddx,0);
res += float4(-0.003109298646450,-0.010207097046077,0.101190514862537,0.057192206382751) * Get(-ddx,dy);
res += float4(0.003225369146094,0.004489872138947,-0.040603820234537,0.104706265032291) * Get(-ddx,ddy);
res += float4(0.040010552853346,0.025282284244895,-0.025317884981632,-0.041292622685432) * Get(-dx,-ddy);
res += float4(0.178433150053024,-0.059935905039310,0.217986166477203,0.126935079693794) * Get(-dx,-dy);
res += float4(0.663490176200867,0.031166560947895,-0.133134990930557,-0.025048974901438) * Get(-dx,0);
res += float4(0.236477375030518,-0.050869930535555,-0.147162407636642,-0.249548733234406) * Get(-dx,dy);
res += float4(-0.015352791175246,-0.004641867708415,0.044949438422918,0.100967004895210) * Get(-dx,ddy);
res += float4(-0.042395386844873,0.021460076794028,0.185321986675262,-0.039640299975872) * Get(0,-ddy);
res += float4(-0.239894285798073,-0.168432965874672,-0.597356319427490,-0.259743124246597) * Get(0,-dy);
res += float4(-0.613398849964142,0.847807049751282,0.941047251224518,0.329283565282822) * Get(0,0);
res += float4(-0.228330597281456,0.346065253019333,-0.252845525741577,0.189814656972885) * Get(0,dy);
res += float4(-0.034065622836351,-0.071034595370293,0.203132793307304,-0.060768920928240) * Get(0,ddy);
res += float4(-0.010342217050493,-0.016530022025108,-0.130507260560989,0.207604363560677) * Get(dx,-ddy);
res += float4(-0.055194903165102,0.048211310058832,0.240578413009644,-0.059335481375456) * Get(dx,-dy);
res += float4(0.034168601036072,-0.032918345183134,-0.306436955928802,0.081989958882332) * Get(dx,0);
res += float4(-0.028770253062248,0.005498663056642,0.139352515339851,-0.289803534746170) * Get(dx,dy);
res += float4(0.047701690346003,0.042025413364172,-0.109493196010590,-0.051529575139284) * Get(dx,ddy);
res += float4(-0.017368435859680,-0.000661703117657,0.013464198447764,-0.019149709492922) * Get(ddx,-ddy);
res += float4(0.078540220856667,-0.006470172666013,-0.036490209400654,-0.014296834357083) * Get(ddx,-dy);
res += float4(-0.088132843375206,0.014631474390626,0.192630797624588,-0.175157219171524) * Get(ddx,0);
res += float4(0.029506383463740,-0.009093833155930,-0.088191673159599,0.292208999395370) * Get(ddx,dy);
res += float4(-0.018007615581155,-0.008133353665471,-0.043042123317719,0.025366857647896) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.230706304311752,-0.024345846846700,1.058408379554749,0.934049546718597) * min(float4(0, 0, 0, 0), res);
return res;
}
