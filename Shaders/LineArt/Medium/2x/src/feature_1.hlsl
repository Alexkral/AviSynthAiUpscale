sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.110424026846886,0.101359963417053,-0.454222589731216,-0.028233371675014);
res += float4(0.147623419761658,0.004731631837785,0.068526260554790,0.100324861705303) * Get(-ddx,-ddy);
res += float4(0.027897510677576,0.028401192277670,0.035522937774658,-0.190581932663918) * Get(-ddx,-dy);
res += float4(-0.121627457439899,0.012969366274774,-0.004581722430885,0.035493023693562) * Get(-ddx,0);
res += float4(-0.001627022749744,-0.018385849893093,0.031991992145777,-0.024236548691988) * Get(-ddx,dy);
res += float4(0.347158163785934,-0.016670685261488,-0.006911284290254,0.082138650119305) * Get(-ddx,ddy);
res += float4(-0.253108263015747,-0.013381832279265,0.005894305650145,0.276137083768845) * Get(-dx,-ddy);
res += float4(0.051724225282669,0.004716659430414,0.109088316559792,-0.231943801045418) * Get(-dx,-dy);
res += float4(-0.171173557639122,-0.060102451592684,0.001709175412543,0.161868616938591) * Get(-dx,0);
res += float4(0.060971662402153,-0.001940014190041,-0.142428994178772,-0.050773613154888) * Get(-dx,dy);
res += float4(-0.045292742550373,-0.015246597118676,0.051751956343651,0.001715715508908) * Get(-dx,ddy);
res += float4(0.095583789050579,-0.090180918574333,0.184308961033821,-0.306571036577225) * Get(0,-ddy);
res += float4(-0.030998898670077,0.130428031086922,0.325693696737289,0.432981550693512) * Get(0,-dy);
res += float4(0.165927678346634,0.603959202766418,0.566140115261078,-0.556913018226624) * Get(0,0);
res += float4(0.198400422930717,-0.086093485355377,-0.223830118775368,0.359460353851318) * Get(0,dy);
res += float4(-0.383028179407120,0.034525793045759,-0.112038910388947,-0.106523334980011) * Get(0,ddy);
res += float4(-0.116278074681759,0.101739883422852,-0.088765755295753,-0.048761051148176) * Get(dx,-ddy);
res += float4(0.023518640547991,-1.314874529838562,-0.174508526921272,-0.019343215972185) * Get(dx,-dy);
res += float4(0.008571700192988,0.018154755234718,0.008348201401532,0.136825293302536) * Get(dx,0);
res += float4(0.030558984726667,0.024173520505428,0.128182023763657,-0.068321175873280) * Get(dx,dy);
res += float4(0.013492113910615,0.030858805403113,-0.060884844511747,-0.068052090704441) * Get(dx,ddy);
res += float4(0.119861878454685,-0.024094205349684,0.040635991841555,-0.057599864900112) * Get(ddx,-ddy);
res += float4(-0.011791546829045,0.002493401058018,0.081869579851627,0.036085482686758) * Get(ddx,-dy);
res += float4(-0.105627469718456,0.055812619626522,0.048593126237392,0.059290107339621) * Get(ddx,0);
res += float4(0.038088165223598,0.010001801885664,-0.091301746666431,0.068720139563084) * Get(ddx,dy);
res += float4(0.060384601354599,-0.021044522523880,0.013715733774006,0.015533451922238) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.036307953298092,0.002596511272714,0.958284258842468,1.011285781860352) * min(float4(0, 0, 0, 0), res);
return res;
}
