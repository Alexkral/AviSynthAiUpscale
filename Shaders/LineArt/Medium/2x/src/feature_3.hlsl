sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.127378806471825,0.094004422426224,0.085145518183708,-0.070885509252548);
res += float4(0.004497508052737,0.018364226445556,-0.014851935207844,0.061266493052244) * Get(-ddx,-ddy);
res += float4(0.074274137616158,-0.072521612048149,0.045198794454336,0.025706326588988) * Get(-ddx,-dy);
res += float4(0.004404899664223,0.024848543107510,-0.078724473714828,0.165957197546959) * Get(-ddx,0);
res += float4(-0.017121590673923,0.065123677253723,0.015816358849406,-0.067592069506645) * Get(-ddx,dy);
res += float4(-0.034386441111565,0.005740924272686,-0.013908741995692,-0.193627431988716) * Get(-ddx,ddy);
res += float4(0.155898660421371,-0.042208526283503,0.108064569532871,-0.001388622215018) * Get(-dx,-ddy);
res += float4(-0.153485402464867,0.194149583578110,-0.040067795664072,-0.169592201709747) * Get(-dx,-dy);
res += float4(-0.153585478663445,0.519416272640228,-0.361391514539719,0.160974189639091) * Get(-dx,0);
res += float4(0.011786260642111,-0.038182970136404,0.059003345668316,0.640334606170654) * Get(-dx,dy);
res += float4(0.045909475535154,0.025519974529743,0.035816706717014,0.009513301774859) * Get(-dx,ddy);
res += float4(-0.030315434560180,-0.052807066589594,-0.074914366006851,-0.030216922983527) * Get(0,-ddy);
res += float4(-0.387466639280319,0.373234599828720,-0.243255779147148,0.019287399947643) * Get(0,-dy);
res += float4(-0.567818164825439,-0.641181826591492,-0.348499864339828,-0.880358099937439) * Get(0,0);
res += float4(-0.093782134354115,-0.321423619985580,-0.242576003074646,0.100523069500923) * Get(0,dy);
res += float4(-0.055934749543667,-0.140041381120682,-0.073910899460316,0.093990609049797) * Get(0,ddy);
res += float4(0.012550443410873,0.014704558067024,-0.062964029610157,0.031513303518295) * Get(dx,-ddy);
res += float4(0.048639252781868,-0.191659256815910,0.335070341825485,0.222946330904961) * Get(dx,-dy);
res += float4(0.465402871370316,0.129283070564270,0.622792840003967,0.068786621093750) * Get(dx,0);
res += float4(0.351970553398132,-0.029178479686379,0.209556847810745,-0.336540699005127) * Get(dx,dy);
res += float4(0.099309407174587,0.092755109071732,0.079140596091747,0.058607660233974) * Get(dx,ddy);
res += float4(-0.071960091590881,-0.005703539587557,0.014375565573573,-0.062186002731323) * Get(ddx,-ddy);
res += float4(0.272970229387283,0.005325675010681,-0.064720362424850,0.016843751072884) * Get(ddx,-dy);
res += float4(0.342713326215744,0.038182109594345,0.176035761833191,0.028473028913140) * Get(ddx,0);
res += float4(-0.212299719452858,-0.041540484875441,-0.100632779300213,0.013987165875733) * Get(ddx,dy);
res += float4(-0.046848844736814,-0.002570458687842,-0.035645876079798,0.011693340726197) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.113685652613640,0.672115921974182,0.242427691817284,-0.197404220700264) * min(float4(0, 0, 0, 0), res);
return res;
}
