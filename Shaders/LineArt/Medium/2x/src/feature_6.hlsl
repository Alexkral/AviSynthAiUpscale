sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.107684418559074,-0.404407471418381,0.152955994009972,0.291300803422928);
res += float4(0.072317659854889,-0.007577207405120,0.011916016228497,0.099896229803562) * Get(-ddx,-ddy);
res += float4(-0.280721724033356,0.010836454108357,0.118564054369926,-0.015293795615435) * Get(-ddx,-dy);
res += float4(0.214029029011726,-0.000903276551981,-0.131340548396111,-0.071186468005180) * Get(-ddx,0);
res += float4(-0.138233318924904,-0.011181566864252,-0.024553613737226,-0.065441153943539) * Get(-ddx,dy);
res += float4(0.030620465055108,0.005248530302197,-0.011579013429582,0.071388192474842) * Get(-ddx,ddy);
res += float4(0.062198910862207,-0.001136824605055,0.067572250962257,-0.082370325922966) * Get(-dx,-ddy);
res += float4(0.272567987442017,-0.023109093308449,-0.606147646903992,-0.048314556479454) * Get(-dx,-dy);
res += float4(-0.351040542125702,-0.095720797777176,-1.015196800231934,-0.194039568305016) * Get(-dx,0);
res += float4(0.123244620859623,-0.009967915713787,-0.036138847470284,-0.164360687136650) * Get(-dx,dy);
res += float4(-0.100312329828739,0.005415224004537,0.061140622943640,0.023704973980784) * Get(-dx,ddy);
res += float4(0.097051821649075,-0.267562240362167,0.100038811564445,0.020622091367841) * Get(0,-ddy);
res += float4(-0.384225457906723,-0.061169676482677,0.021492343395948,-0.115269780158997) * Get(0,-dy);
res += float4(0.735694944858551,0.941429257392883,0.572867512702942,-0.523297548294067) * Get(0,0);
res += float4(-0.316164761781693,0.042208049446344,0.063857495784760,-0.101712025702000) * Get(0,dy);
res += float4(0.139482021331787,-0.032801609486341,-0.010864713229239,-0.100986942648888) * Get(0,ddy);
res += float4(0.026926290243864,-0.026941370218992,0.047395795583725,-0.062939435243607) * Get(dx,-ddy);
res += float4(0.026217678561807,-0.038194987922907,0.008045379072428,-0.121747024357319) * Get(dx,-dy);
res += float4(-0.021977812051773,0.110084503889084,-0.074036508798599,-0.314657121896744) * Get(dx,0);
res += float4(0.041157711297274,-0.045660313218832,-0.038508296012878,-0.046086933463812) * Get(dx,dy);
res += float4(-0.040227297693491,0.012431287206709,0.029755776748061,0.006783006712794) * Get(dx,ddy);
res += float4(-0.087332837283611,0.024356566369534,-0.048140592873096,0.022994030267000) * Get(ddx,-ddy);
res += float4(-0.117027632892132,-0.053283188492060,0.061795800924301,0.055383879691362) * Get(ddx,-dy);
res += float4(0.041515164077282,-0.006135569885373,-0.002661431906745,0.045077808201313) * Get(ddx,0);
res += float4(-0.089500792324543,0.005480611696839,0.019655065611005,0.063782006502151) * Get(ddx,dy);
res += float4(0.223017990589142,0.001450720825233,-0.034156829118729,-0.022609062492847) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.960986018180847,0.053605496883392,-0.002915444783866,0.328583449125290) * min(float4(0, 0, 0, 0), res);
return res;
}
