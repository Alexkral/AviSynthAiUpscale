sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.253473132848740,0.070411823689938,-0.075204946100712,-0.069513984024525);
res += float4(-0.076102107763290,0.011070474050939,-0.104453466832638,-0.004789168946445) * Get(-ddx,-ddy);
res += float4(0.029531694948673,-0.017768951132894,-0.049223538488150,-0.000733294873498) * Get(-ddx,-dy);
res += float4(0.106673516333103,-0.031884960830212,-0.157947942614555,-0.003475572215393) * Get(-ddx,0);
res += float4(-0.017195517197251,0.033448133617640,0.309594422578812,-0.020269131287932) * Get(-ddx,dy);
res += float4(-0.077502131462097,-0.016695480793715,0.010438290424645,0.010174898430705) * Get(-ddx,ddy);
res += float4(0.080882497131824,-0.064875423908234,-0.036928121000528,0.020943215116858) * Get(-dx,-ddy);
res += float4(-0.146018177270889,0.234971314668655,0.191457390785217,-0.014126223511994) * Get(-dx,-dy);
res += float4(0.083911411464214,-0.226818948984146,-0.063324503600597,0.019525675103068) * Get(-dx,0);
res += float4(-0.038375597447157,0.004160117357969,-0.202996984124184,-0.012947085313499) * Get(-dx,dy);
res += float4(0.077135778963566,0.028884947299957,0.156778827309608,-0.003814134513959) * Get(-dx,ddy);
res += float4(-0.021716803312302,0.148501411080360,0.086785905063152,-0.001674280152656) * Get(0,-ddy);
res += float4(0.299048572778702,0.555131912231445,-0.246998772025108,-0.028919711709023) * Get(0,-dy);
res += float4(-0.242059484124184,-0.643376827239990,0.194386869668961,-0.024641199037433) * Get(0,0);
res += float4(-0.267551034688950,-0.003503118408844,0.129319295287132,-0.188073888421059) * Get(0,dy);
res += float4(-0.042724836617708,-0.048454884439707,-0.099731877446175,0.071292035281658) * Get(0,ddy);
res += float4(-0.035636447370052,-0.069508656859398,0.094318941235542,0.003124081296846) * Get(dx,-ddy);
res += float4(-0.072096578776836,0.240515172481537,0.008575128391385,0.021861085668206) * Get(dx,-dy);
res += float4(0.144251272082329,-0.135452389717102,-0.114948391914368,0.060320157557726) * Get(dx,0);
res += float4(-0.325210124254227,-0.062640018761158,-0.038037803024054,-0.547101318836212) * Get(dx,dy);
res += float4(-0.129015892744064,0.016832575201988,-0.142925977706909,-0.104447968304157) * Get(dx,ddy);
res += float4(0.005669016856700,0.001079998794012,0.047078527510166,-0.015442812815309) * Get(ddx,-ddy);
res += float4(-0.006575376726687,0.002325609093532,-0.089087359607220,0.012881333939731) * Get(ddx,-dy);
res += float4(0.044321559369564,-0.001877052825876,0.333644241094589,0.619259834289551) * Get(ddx,0);
res += float4(-0.210579693317413,-0.010906771756709,-0.155604586005211,0.181630507111549) * Get(ddx,dy);
res += float4(0.148899331688881,-0.004767672158778,0.093227908015251,0.009859983809292) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.042125146836042,-0.190449312329292,0.879324018955231,-0.188208922743797) * min(float4(0, 0, 0, 0), res);
return res;
}
