sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.148841366171837,0.026994457468390,0.056506607681513,-0.638736426830292);
res += float4(0.011294311843812,-0.105059698224068,-0.053267106413841,-0.003743818495423) * Get(-ddx,-ddy);
res += float4(-0.062352400273085,-0.152365878224373,0.023630077019334,-0.013480491936207) * Get(-ddx,-dy);
res += float4(0.011558298021555,0.157751262187958,0.153107866644859,0.018654175102711) * Get(-ddx,0);
res += float4(0.036753829568624,0.112940259277821,0.025522233918309,0.020652865990996) * Get(-ddx,dy);
res += float4(0.009799633175135,0.032819129526615,0.047334063798189,-0.025116147473454) * Get(-ddx,ddy);
res += float4(0.003984368406236,0.094704180955887,0.017537601292133,-0.023462852463126) * Get(-dx,-ddy);
res += float4(0.043970659375191,0.166054934263229,0.189094871282578,-0.004959154408425) * Get(-dx,-dy);
res += float4(0.191872462630272,-0.219020381569862,-0.082989715039730,-0.002667526481673) * Get(-dx,0);
res += float4(0.048397284001112,-0.190528690814972,-0.169548898935318,0.000528232601937) * Get(-dx,dy);
res += float4(0.016353540122509,0.102897413074970,0.021213170140982,0.017724152654409) * Get(-dx,ddy);
res += float4(-0.008730674162507,-0.181564509868622,0.070617444813251,0.084019772708416) * Get(0,-ddy);
res += float4(0.168865770101547,-0.085617087781429,0.226091429591179,0.078455962240696) * Get(0,-dy);
res += float4(0.564279139041901,0.639618933200836,-0.869929194450378,0.721901118755341) * Get(0,0);
res += float4(-0.052683889865875,-0.285740077495575,0.237121611833572,0.074023924767971) * Get(0,dy);
res += float4(0.029095981270075,0.148339912295341,0.054480656981468,0.006168160587549) * Get(0,ddy);
res += float4(-0.004146578721702,0.002200964139774,0.087304405868053,0.068778701126575) * Get(dx,-ddy);
res += float4(0.015499098226428,-0.042249757796526,-0.316861420869827,-0.152464598417282) * Get(dx,-dy);
res += float4(-0.690295636653900,-0.139706000685692,0.369948863983154,0.196724548935890) * Get(dx,0);
res += float4(-0.083699353039265,0.032007448375225,0.083480484783649,-0.095741964876652) * Get(dx,dy);
res += float4(-0.067768700420856,-0.029802002012730,-0.063157439231873,-0.000036699086195) * Get(dx,ddy);
res += float4(-0.006136837881058,0.084172867238522,0.032329522073269,-0.014948738738894) * Get(ddx,-ddy);
res += float4(-0.060534469783306,-0.126784130930901,-0.043817985802889,0.009505294263363) * Get(ddx,-dy);
res += float4(-0.038850229233503,-0.039006333798170,-0.129509627819061,0.007905834354460) * Get(ddx,0);
res += float4(0.073863148689270,0.236618176102638,0.005249104462564,-0.000753140251618) * Get(ddx,dy);
res += float4(0.013064141385257,-0.219665065407753,-0.003370222402737,0.001858004950918) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.039522707462311,0.909555077552795,1.060024857521057,-0.067346028983593) * min(float4(0, 0, 0, 0), res);
return res;
}
