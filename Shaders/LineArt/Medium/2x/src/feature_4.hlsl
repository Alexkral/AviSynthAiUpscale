sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.059153702110052,0.020557615906000,0.266190499067307,-0.011978890746832);
res += float4(0.024273669347167,-0.057718124240637,0.052627004683018,-0.090617060661316) * Get(-ddx,-ddy);
res += float4(-0.062617905437946,0.054582666605711,-0.070593364536762,-0.022935060784221) * Get(-ddx,-dy);
res += float4(0.133675441145897,-0.048150572925806,0.163955375552177,0.038927365094423) * Get(-ddx,0);
res += float4(-0.109381541609764,0.029021738097072,-0.020643573254347,0.133385300636292) * Get(-ddx,dy);
res += float4(0.041967790573835,-0.072493724524975,0.015960145741701,-0.026665061712265) * Get(-ddx,ddy);
res += float4(0.068670086562634,0.030415778979659,0.015354073606431,0.082162216305733) * Get(-dx,-ddy);
res += float4(0.238085195422173,-0.010997986420989,-1.425936937332153,0.773044943809509) * Get(-dx,-dy);
res += float4(0.527280390262604,-0.133658275008202,-0.300870776176453,-0.759404361248016) * Get(-dx,0);
res += float4(-0.020670816302299,0.060656394809484,-0.047164727002382,-0.103517137467861) * Get(-dx,dy);
res += float4(-0.026828330010176,0.035299390554428,-0.030878692865372,-0.015615846961737) * Get(-dx,ddy);
res += float4(-0.152353748679161,0.028787722811103,0.299945205450058,-0.034441396594048) * Get(0,-ddy);
res += float4(-0.470902353525162,-0.584556818008423,-0.487573087215424,-0.706657648086548) * Get(0,-dy);
res += float4(-0.330351799726486,0.045317195355892,-0.261703073978424,0.338541239500046) * Get(0,0);
res += float4(0.141294300556183,0.017171179875731,0.286021292209625,0.266800343990326) * Get(0,dy);
res += float4(-0.004506501834840,-0.135914564132690,0.061917152255774,0.008679081685841) * Get(0,ddy);
res += float4(0.051492564380169,0.166719824075699,-0.039506725966930,0.105842240154743) * Get(dx,-ddy);
res += float4(0.096596322953701,0.211311399936676,0.099711544811726,-0.046412151306868) * Get(dx,-dy);
res += float4(-0.169935733079910,0.562626183032990,-0.000433805194916,0.242563083767891) * Get(dx,0);
res += float4(0.011321981437504,0.008225904777646,-0.057637963443995,-0.254620224237442) * Get(dx,dy);
res += float4(-0.027998067438602,0.185691311955452,-0.060965903103352,0.007951484993100) * Get(dx,ddy);
res += float4(0.003044704673812,-0.129143938422203,0.010446412488818,-0.019381452351809) * Get(ddx,-ddy);
res += float4(0.015181151218712,-0.154593303799629,-0.025669954717159,-0.055132996290922) * Get(ddx,-dy);
res += float4(-0.017372440546751,-0.294596225023270,0.046726699918509,0.064404450356960) * Get(ddx,0);
res += float4(-0.010033065453172,-0.033518608659506,-0.022976201027632,-0.016603451222181) * Get(ddx,dy);
res += float4(0.006166904699057,-0.145441457629204,0.039260998368263,0.026651041582227) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.180690571665764,-0.031418930739164,0.000868989271112,-0.310656279325485) * min(float4(0, 0, 0, 0), res);
return res;
}
