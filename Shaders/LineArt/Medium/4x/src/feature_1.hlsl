sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.076510004699230,0.114337190985680,-0.033834416419268,0.022520547732711);
res += float4(-0.062986716628075,0.005533084739000,-0.130147889256477,-0.029338667169213) * Get(-ddx,-ddy);
res += float4(0.094306774437428,-0.017400845885277,-0.001755591249093,-0.054258011281490) * Get(-ddx,-dy);
res += float4(-0.017849216237664,-0.066555768251419,0.076813481748104,0.023588243871927) * Get(-ddx,0);
res += float4(-0.006672877818346,0.084944725036621,-0.032838631421328,-0.060073219239712) * Get(-ddx,dy);
res += float4(-0.003092691535130,-0.152323514223099,0.067239016294479,-0.055642765015364) * Get(-ddx,ddy);
res += float4(-0.004654682241380,-0.013667942956090,-0.102007053792477,0.006304917857051) * Get(-dx,-ddy);
res += float4(0.069108657538891,0.016682356595993,0.220108807086945,-0.066411294043064) * Get(-dx,-dy);
res += float4(-0.123258098959923,0.031191168352962,-0.074989669024944,0.053124219179153) * Get(-dx,0);
res += float4(0.078850306570530,-0.396336406469345,0.120576009154320,0.005507943220437) * Get(-dx,dy);
res += float4(-0.015489513054490,-0.876727223396301,-0.153784781694412,0.037814345210791) * Get(-dx,ddy);
res += float4(-0.291911065578461,-0.022690508514643,0.205673679709435,-0.005634564440697) * Get(0,-ddy);
res += float4(0.471752822399139,0.062320809811354,-0.325315207242966,0.046403095126152) * Get(0,-dy);
res += float4(0.059920687228441,-0.247351512312889,0.110996663570404,0.664804518222809) * Get(0,0);
res += float4(-0.119963578879833,0.700116574764252,-0.108025036752224,-0.310654401779175) * Get(0,dy);
res += float4(-0.029935410246253,-0.292687565088272,0.253098905086517,0.049774363636971) * Get(0,ddy);
res += float4(-0.335029393434525,0.011919734999537,0.133368253707886,-0.007183320354670) * Get(dx,-ddy);
res += float4(-0.094272367656231,-0.012883565388620,0.154148936271667,-0.148034885525703) * Get(dx,-dy);
res += float4(0.314176201820374,0.117880001664162,-0.140283390879631,-0.396809428930283) * Get(dx,0);
res += float4(0.044612936675549,-0.065383397042751,-0.027894396334887,0.010020643472672) * Get(dx,dy);
res += float4(0.021647697314620,-0.026106478646398,-0.124095648527145,-0.041108530014753) * Get(dx,ddy);
res += float4(0.170663967728615,0.002362302504480,0.096649289131165,-0.050383221358061) * Get(ddx,-ddy);
res += float4(-0.151092842221260,-0.004941348452121,-0.252051144838333,0.116557769477367) * Get(ddx,-dy);
res += float4(-0.048376940190792,-0.015830485150218,0.064148001372814,0.036749970167875) * Get(ddx,0);
res += float4(0.004333378281444,0.070463731884956,0.016707260161638,-0.023434966802597) * Get(ddx,dy);
res += float4(0.024343417957425,-0.033008165657520,0.017274225130677,0.018875576555729) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.188202500343323,0.021858697757125,0.829826056957245,0.343607187271118) * min(float4(0, 0, 0, 0), res);
return res;
}
