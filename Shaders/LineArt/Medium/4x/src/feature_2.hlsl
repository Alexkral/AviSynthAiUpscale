sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.040271136909723,0.231624588370323,-0.890887320041656,-0.030932823196054);
res += float4(-0.007529276888818,-0.001310605090111,0.008437089622021,-0.096805438399315) * Get(-ddx,-ddy);
res += float4(0.091436192393303,0.013428495265543,-0.038946956396103,0.000405592320021) * Get(-ddx,-dy);
res += float4(-0.104185298085213,0.049543198198080,0.107186630368233,0.179967984557152) * Get(-ddx,0);
res += float4(0.071094401180744,0.068641543388367,-0.061856303364038,-0.129792883992195) * Get(-ddx,dy);
res += float4(-0.039583008736372,0.008781496435404,0.006095739547163,0.029759207740426) * Get(-ddx,ddy);
res += float4(0.055645406246185,-0.022581838071346,-0.007244301028550,0.237229436635971) * Get(-dx,-ddy);
res += float4(-0.040907174348831,-0.050601717084646,0.118505328893661,-0.227877184748650) * Get(-dx,-dy);
res += float4(0.288208395242691,-0.106512591242790,0.903237521648407,0.260623455047607) * Get(-dx,0);
res += float4(-0.115216620266438,-0.099346302449703,0.154233217239380,-0.291483551263809) * Get(-dx,dy);
res += float4(-0.022639993578196,-0.040618557482958,-0.007810613140464,0.109480433166027) * Get(-dx,ddy);
res += float4(0.016506729647517,0.009951810352504,0.019665494561195,-0.098058857023716) * Get(0,-ddy);
res += float4(0.048583604395390,0.311107426881790,-0.109320700168610,-0.301438331604004) * Get(0,-dy);
res += float4(-0.961694657802582,-0.233426973223686,0.002767510479316,0.249681740999222) * Get(0,0);
res += float4(0.757141768932343,0.213359594345093,-0.106875933706760,0.084369748830795) * Get(0,dy);
res += float4(-0.101297229528427,0.058135800063610,0.014212601818144,-0.062602639198303) * Get(0,ddy);
res += float4(0.067388452589512,-0.004348771180958,-0.009780497290194,0.003557291580364) * Get(dx,-ddy);
res += float4(-0.189981475472450,-0.287609159946442,-0.015636790543795,0.454266875982285) * Get(dx,-dy);
res += float4(0.659785687923431,0.000034562817746,0.044377323240042,-0.587303817272186) * Get(dx,0);
res += float4(-0.381463617086411,-0.422040700912476,0.024925932288170,0.241102710366249) * Get(dx,dy);
res += float4(-0.033424429595470,-0.021044028922915,-0.023582965135574,-0.036770053207874) * Get(dx,ddy);
res += float4(-0.012382782064378,-0.037073384970427,-0.004587093833834,-0.028586314991117) * Get(ddx,-ddy);
res += float4(-0.007991289719939,0.186934545636177,-0.003584416350350,0.032690852880478) * Get(ddx,-dy);
res += float4(-0.156437590718269,-0.123841658234596,0.003998619504273,-0.106610447168350) * Get(ddx,0);
res += float4(0.047679673880339,-1.141949295997620,-0.005520721897483,0.131195902824402) * Get(ddx,dy);
res += float4(0.034366384148598,0.109808236360550,0.007867136038840,-0.044146016240120) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.976624786853790,0.013880927115679,-0.009878473356366,-0.207438334822655) * min(float4(0, 0, 0, 0), res);
return res;
}
