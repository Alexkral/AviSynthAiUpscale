sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.130793288350105,-0.140260770916939,-0.247357591986656,-0.066447317600250);
res += float4(0.034901764243841,-0.068913020193577,0.008797120302916,-0.075499244034290) * Get(-ddx,-ddy);
res += float4(-0.110139489173889,0.501256108283997,-0.018901638686657,0.074300937354565) * Get(-ddx,-dy);
res += float4(0.079710356891155,0.223325729370117,0.037792369723320,-0.029065998271108) * Get(-ddx,0);
res += float4(-0.004711725283414,-0.145181581377983,-0.022081097587943,0.134608358144760) * Get(-ddx,dy);
res += float4(0.037049088627100,0.013502494432032,-0.016844319179654,0.030739642679691) * Get(-ddx,ddy);
res += float4(-0.068628169596195,0.229040578007698,-0.026920709758997,0.038401875644922) * Get(-dx,-ddy);
res += float4(0.019046491011977,-0.220101743936539,-0.014330011792481,0.160846456885338) * Get(-dx,-dy);
res += float4(0.244540154933929,-0.017160542309284,0.000318399048410,-0.103507027029991) * Get(-dx,0);
res += float4(-0.067657075822353,0.018785737454891,0.029394216835499,-0.121584400534630) * Get(-dx,dy);
res += float4(-0.039292063564062,0.052534602582455,0.002980212215334,-0.074784293770790) * Get(-dx,ddy);
res += float4(-0.104334533214569,-0.167082160711288,0.004727704916149,-0.080445431172848) * Get(0,-ddy);
res += float4(0.437371402978897,-0.373223304748535,0.036448519676924,-0.066512227058411) * Get(0,-dy);
res += float4(-0.197491362690926,0.122061498463154,0.643069446086884,0.597161412239075) * Get(0,0);
res += float4(0.201411128044128,0.041519232094288,-0.226413920521736,0.112312510609627) * Get(0,dy);
res += float4(0.059641961008310,-0.035898759961128,-0.004484654869884,-0.102886490523815) * Get(0,ddy);
res += float4(0.112197265028954,0.047586861997843,-0.000643256178591,0.033213451504707) * Get(dx,-ddy);
res += float4(-0.114185750484467,0.052784733474255,-0.014719600789249,-0.136756792664528) * Get(dx,-dy);
res += float4(-0.181241661310196,-0.170892611145973,0.431789785623550,-0.291052669286728) * Get(dx,0);
res += float4(-0.097942948341370,0.065666079521179,-0.500356137752533,-0.084850385785103) * Get(dx,dy);
res += float4(-0.093753434717655,-0.035862911492586,-0.128754198551178,0.081719741225243) * Get(dx,ddy);
res += float4(-0.010226063430309,-0.052809584885836,0.027961766347289,-0.001837610849179) * Get(ddx,-ddy);
res += float4(-0.248512193560600,0.031518753618002,0.106745347380638,0.015854589641094) * Get(ddx,-dy);
res += float4(0.079972207546234,0.018298149108887,-0.090879432857037,0.052467584609985) * Get(ddx,0);
res += float4(0.168133735656738,-0.004846795462072,-0.177056297659874,-0.131299093365669) * Get(ddx,dy);
res += float4(0.046214606612921,0.011523456312716,0.151256874203682,0.068657077848911) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.345695614814758,0.006987719796598,-0.049023523926735,0.663042962551117) * min(float4(0, 0, 0, 0), res);
return res;
}
