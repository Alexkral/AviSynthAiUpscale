sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.219008788466454,0.027935462072492,0.013259463943541,0.105680160224438);
res += float4(-0.052131187170744,0.061636842787266,-0.028265075758100,0.001073455438018) * Get(-ddx,-ddy);
res += float4(-0.013616393320262,0.059299737215042,0.062373425811529,0.052237160503864) * Get(-ddx,-dy);
res += float4(0.147851616144180,0.048360012471676,-0.122359298169613,-0.074321448802948) * Get(-ddx,0);
res += float4(-0.041070464998484,-0.093537218868732,0.088370315730572,0.039931062608957) * Get(-ddx,dy);
res += float4(-0.007357496768236,-0.075476042926311,-0.001446006586775,0.003905330784619) * Get(-ddx,ddy);
res += float4(0.056618936359882,-0.081620939075947,0.043326012790203,-0.009149424731731) * Get(-dx,-ddy);
res += float4(0.006120169535279,-0.080396957695484,-0.170531883835793,-0.069923728704453) * Get(-dx,-dy);
res += float4(-0.085627235472202,-0.274351626634598,-0.146770343184471,0.087738335132599) * Get(-dx,0);
res += float4(-0.095830552279949,0.213204383850098,-0.114432230591774,0.047104023396969) * Get(-dx,dy);
res += float4(-0.006647432688624,-0.041791331022978,0.074152208864689,-0.024865014478564) * Get(-dx,ddy);
res += float4(0.154868870973587,0.117538534104824,-0.045326419174671,0.009656790643930) * Get(0,-ddy);
res += float4(-0.135452255606651,0.123017117381096,0.591908693313599,0.084521465003490) * Get(0,-dy);
res += float4(0.423306465148926,0.112611591815948,-0.402199953794479,-0.120384357869625) * Get(0,0);
res += float4(-0.311761826276779,0.037704065442085,0.338865280151367,-0.307606726884842) * Get(0,dy);
res += float4(-0.033539611846209,0.055551849305630,-0.082524955272675,-0.702764213085175) * Get(0,ddy);
res += float4(0.131703451275826,0.074741281569004,0.004630100447685,-0.025289943441749) * Get(dx,-ddy);
res += float4(-0.265336126089096,0.029679207131267,-0.042954899370670,-0.048222869634628) * Get(dx,-dy);
res += float4(-0.049357175827026,-0.553416371345520,0.143508136272430,0.100338041782379) * Get(dx,0);
res += float4(-0.089319482445717,0.329363644123077,-0.087976895272732,0.537623941898346) * Get(dx,dy);
res += float4(0.005492277443409,-0.146890968084335,-0.001392628299072,0.016954738646746) * Get(dx,ddy);
res += float4(0.000728077837266,-0.110750496387482,0.025263467803597,0.024300429970026) * Get(ddx,-ddy);
res += float4(0.197114422917366,0.026119321584702,0.092862248420715,0.015658391639590) * Get(ddx,-dy);
res += float4(0.304797023534775,0.249818146228790,-0.166077643632889,-0.079007580876350) * Get(ddx,0);
res += float4(0.005686148535460,-0.181065663695335,0.023417750373483,-0.039021585136652) * Get(ddx,dy);
res += float4(-0.018088376149535,0.042101852595806,-0.003276503179222,0.026259385049343) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.131300553679466,0.979910194873810,0.661373913288116,0.029754560440779) * min(float4(0, 0, 0, 0), res);
return res;
}
