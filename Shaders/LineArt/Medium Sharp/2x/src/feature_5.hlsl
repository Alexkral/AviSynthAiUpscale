sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.024067975580692,0.260758966207504,-0.016177492216229,0.234677270054817);
res += float4(0.009051298722625,-0.007057549431920,0.014359924942255,-0.006569282151759) * Get(-ddx,-ddy);
res += float4(-0.034515991806984,0.028218692168593,-0.045532420277596,-0.002868235576898) * Get(-ddx,-dy);
res += float4(-0.104628905653954,-0.269486963748932,-0.222217768430710,0.140039831399918) * Get(-ddx,0);
res += float4(0.257836937904358,-0.064823344349861,0.123507842421532,-0.040841836482286) * Get(-ddx,dy);
res += float4(-0.050197426229715,0.039867825806141,-0.062460720539093,0.014220844954252) * Get(-ddx,ddy);
res += float4(0.077655218541622,0.088124528527260,-0.006014000158757,0.006795535329729) * Get(-dx,-ddy);
res += float4(0.136056065559387,-0.319310486316681,0.017574379220605,0.022216845303774) * Get(-dx,-dy);
res += float4(0.157557234168053,0.700333058834076,-0.269809305667877,-0.277950495481491) * Get(-dx,0);
res += float4(-0.012558632530272,-0.044390570372343,0.053278319537640,0.075663298368454) * Get(-dx,dy);
res += float4(-0.031730618327856,0.018715411424637,-0.023378556594253,-0.027616266161203) * Get(-dx,ddy);
res += float4(-0.001325845019892,-0.206596046686172,-0.013819505460560,0.087475933134556) * Get(0,-ddy);
res += float4(-0.266013532876968,0.293348401784897,-0.306514829397202,0.178833216428757) * Get(0,-dy);
res += float4(-0.605445027351379,-0.900042235851288,0.860401153564453,-1.730657815933228) * Get(0,0);
res += float4(-0.108562469482422,0.366681754589081,-0.361857891082764,-0.017034443095326) * Get(0,dy);
res += float4(0.036315012723207,-0.067650802433491,0.048506394028664,-0.011999809183180) * Get(0,ddy);
res += float4(0.001196517259814,0.077105671167374,0.153670340776443,-0.069182239472866) * Get(dx,-ddy);
res += float4(0.273753613233566,0.144827246665955,0.093115441501141,0.046579442918301) * Get(dx,-dy);
res += float4(0.124081797897816,-0.020639725029469,0.096963472664356,0.418421566486359) * Get(dx,0);
res += float4(0.200131043791771,-0.220613226294518,-0.206706523895264,0.056911252439022) * Get(dx,dy);
res += float4(-0.048569165170193,-0.015460063703358,0.096050225198269,-0.085036858916283) * Get(dx,ddy);
res += float4(-0.023511631414294,0.020040879026055,0.066506125032902,0.041348952800035) * Get(ddx,-ddy);
res += float4(-0.131483957171440,0.011019051074982,-0.175906583666801,0.012374333105981) * Get(ddx,-dy);
res += float4(0.044613223522902,-0.196936830878258,0.077554196119308,-0.118297748267651) * Get(ddx,0);
res += float4(0.119381964206696,0.149498686194420,0.130172222852707,-0.027724942192435) * Get(ddx,dy);
res += float4(0.033534787595272,-0.045583598315716,-0.092792533338070,0.062409579753876) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(1.050783872604370,1.092914700508118,0.915567934513092,-0.003289942862466) * min(float4(0, 0, 0, 0), res);
return res;
}
