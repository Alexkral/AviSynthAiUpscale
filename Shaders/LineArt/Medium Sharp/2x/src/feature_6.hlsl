sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.004542932845652,-0.065912656486034,-0.357105076313019,0.163789540529251);
res += float4(0.104480586946011,0.000357131619239,0.043903023004532,0.062027629464865) * Get(-ddx,-ddy);
res += float4(-0.134688243269920,0.023784426972270,-0.083456598222256,-0.054122623056173) * Get(-ddx,-dy);
res += float4(0.057254448533058,0.031370107084513,0.037952236831188,-0.031018119305372) * Get(-ddx,0);
res += float4(0.096329033374786,-0.082218162715435,0.016985772177577,0.003254682291299) * Get(-ddx,dy);
res += float4(-0.017830403521657,0.037198834121227,-0.004601410590112,-0.027946561574936) * Get(-ddx,ddy);
res += float4(-0.041910056024790,0.036678157746792,-0.078451417386532,0.074045963585377) * Get(-dx,-ddy);
res += float4(0.117717482149601,-0.180036619305611,0.271011084318161,-0.158823609352112) * Get(-dx,-dy);
res += float4(0.108853578567505,-0.232962131500244,0.728498518466949,-0.191951379179955) * Get(-dx,0);
res += float4(-0.111790969967842,-0.106353975832462,-0.097522325813770,-0.158244565129280) * Get(-dx,dy);
res += float4(-0.044967692345381,0.073783941566944,-0.013783921487629,0.010688175447285) * Get(-dx,ddy);
res += float4(-0.079765178263187,0.112280718982220,0.073009476065636,0.034839883446693) * Get(0,-ddy);
res += float4(-0.258594244718552,0.049408387392759,-0.121031150221825,-0.201015919446945) * Get(0,-dy);
res += float4(0.306350290775299,-0.248354345560074,0.291761070489883,-0.278223812580109) * Get(0,0);
res += float4(0.242822870612144,0.104384556412697,-0.004064560402185,-0.078590586781502) * Get(0,dy);
res += float4(0.048574823886156,-0.034542407840490,0.022755723446608,0.097163923084736) * Get(0,ddy);
res += float4(-0.105271369218826,-0.217864096164703,-0.046968586742878,-0.092925727367401) * Get(dx,-ddy);
res += float4(-0.057519260793924,-0.022572958841920,-0.089830532670021,-0.173503577709198) * Get(dx,-dy);
res += float4(-0.257606774568558,0.124387726187706,-0.289154142141342,-0.088891461491585) * Get(dx,0);
res += float4(0.048285465687513,-0.146573796868324,-0.205122813582420,-0.252135485410690) * Get(dx,dy);
res += float4(0.067781001329422,0.013116800226271,0.010537365451455,-0.114769913256168) * Get(dx,ddy);
res += float4(0.034035872668028,0.111100912094116,0.017127556726336,0.046950127929449) * Get(ddx,-ddy);
res += float4(0.080390110611916,0.121704936027527,-0.032847210764885,-0.061970796436071) * Get(ddx,-dy);
res += float4(-0.045447979122400,0.320153713226318,0.004789059981704,-0.185611113905907) * Get(ddx,0);
res += float4(-0.034370340406895,0.299180269241333,-0.019491851329803,-0.038946527987719) * Get(ddx,dy);
res += float4(-0.091904126107693,-0.097911238670349,0.003297546179965,-0.003496072022244) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.557621896266937,0.043267898261547,-0.028993396088481,0.147517874836922) * min(float4(0, 0, 0, 0), res);
return res;
}
