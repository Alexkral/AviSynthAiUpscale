sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.127094686031342,-0.016606509685516,-0.412591934204102,0.015521102584898);
res += float4(0.039285011589527,0.008796021342278,0.002922502811998,0.021622454747558) * Get(-ddx,-ddy);
res += float4(0.091822959482670,0.010933868587017,0.024816121906042,-0.148903742432594) * Get(-ddx,-dy);
res += float4(-0.335144877433777,-0.049261961132288,-0.051448393613100,-0.068269334733486) * Get(-ddx,0);
res += float4(0.100323967635632,0.034917384386063,0.025936298072338,-1.109695672988892) * Get(-ddx,dy);
res += float4(-0.084156490862370,-0.020096724852920,-0.002099693519995,-0.521634817123413) * Get(-ddx,ddy);
res += float4(-0.152218863368034,-0.047727577388287,-0.056583266705275,0.037446096539497) * Get(-dx,-ddy);
res += float4(0.119103424251080,0.066984072327614,-0.063785985112190,-0.084630556404591) * Get(-dx,-dy);
res += float4(0.213498800992966,-0.036540377885103,-0.545172214508057,0.713097691535950) * Get(-dx,0);
res += float4(-0.214902162551880,-0.031493235379457,-0.056293953210115,-0.064249128103256) * Get(-dx,dy);
res += float4(0.036932498216629,0.048241388052702,0.010703995823860,0.076517507433891) * Get(-dx,ddy);
res += float4(-0.096493043005466,0.022055717185140,0.005758077837527,0.018577806651592) * Get(0,-ddy);
res += float4(0.225088864564896,-0.033579975366592,0.745795965194702,-0.038793925195932) * Get(0,-dy);
res += float4(-0.798304975032806,-0.399694859981537,0.306116640567780,0.024941176176071) * Get(0,0);
res += float4(0.309406608343124,-0.643944799900055,-0.040146686136723,-0.320076614618301) * Get(0,dy);
res += float4(-0.258317261934280,-0.005482654552907,0.014058145694435,0.078388690948486) * Get(0,ddy);
res += float4(-0.033912997692823,0.006867983844131,0.017101209610701,-0.049877278506756) * Get(dx,-ddy);
res += float4(-0.184859454631805,-0.078691087663174,0.206196263432503,0.021563548594713) * Get(dx,-dy);
res += float4(0.645687580108643,0.671557366847992,-0.059629306197166,-0.054187107831240) * Get(dx,0);
res += float4(-0.102339230477810,0.509039819240570,0.009266960434616,0.129125207662582) * Get(dx,dy);
res += float4(0.232617452740669,-0.012700995430350,-0.036551464349031,-0.038957752287388) * Get(dx,ddy);
res += float4(0.062228620052338,0.015814606100321,0.019031878560781,0.016482139006257) * Get(ddx,-ddy);
res += float4(-0.003544108942151,0.023983141407371,-0.044051818549633,-0.001263789716177) * Get(ddx,-dy);
res += float4(0.044826436787844,-0.112205810844898,0.031179200857878,0.037919089198112) * Get(ddx,0);
res += float4(-0.079822659492493,0.070810444653034,-0.006044034846127,-0.068247780203819) * Get(ddx,dy);
res += float4(0.005993019789457,-0.005276680923998,0.018722238019109,0.004475184716284) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.989398658275604,-0.521033763885498,-0.020836157724261,0.009190767072141) * min(float4(0, 0, 0, 0), res);
return res;
}
