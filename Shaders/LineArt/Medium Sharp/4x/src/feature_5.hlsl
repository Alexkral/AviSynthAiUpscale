sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.040322616696358,-0.411598205566406,0.027763189747930,-0.042211223393679);
res += float4(0.006503353826702,0.014039712958038,0.032612495124340,-0.035976003855467) * Get(-ddx,-ddy);
res += float4(0.006629633251578,-0.007681545801461,-0.052033487707376,0.114464715123177) * Get(-ddx,-dy);
res += float4(-0.138605773448944,0.018213659524918,-0.010839048773050,-0.029392296448350) * Get(-ddx,0);
res += float4(0.009875928051770,0.015681883320212,0.128798350691795,-0.014025098644197) * Get(-ddx,dy);
res += float4(0.082669951021671,-0.024204276502132,-0.036830928176641,-0.008521573618054) * Get(-ddx,ddy);
res += float4(0.045845691114664,0.167567491531372,0.080460287630558,0.182061478495598) * Get(-dx,-ddy);
res += float4(-0.011806813068688,0.242186635732651,0.066369488835335,-0.572991967201233) * Get(-dx,-dy);
res += float4(-0.330616325139999,-0.128096893429756,0.506817579269409,0.226025372743607) * Get(-dx,0);
res += float4(0.012335374951363,0.044168457388878,0.052838593721390,0.029970096424222) * Get(-dx,dy);
res += float4(-0.202703833580017,0.005508107133210,0.066778048872948,0.012562891468406) * Get(-dx,ddy);
res += float4(-0.064179249107838,0.564701139926910,-0.102554850280285,-0.013604566454887) * Get(0,-ddy);
res += float4(0.065723434090614,-0.222725003957748,0.055947039276361,-0.650444269180298) * Get(0,-dy);
res += float4(0.264588266611099,0.195009618997574,-0.401666104793549,0.645904242992401) * Get(0,0);
res += float4(0.055744752287865,-0.159660041332245,-0.363331824541092,-0.043413136154413) * Get(0,dy);
res += float4(0.013972759246826,0.005530642345548,-0.015841560438275,0.022060416638851) * Get(0,ddy);
res += float4(0.017051599919796,0.169115886092186,-0.070279702544212,-0.028210647404194) * Get(dx,-ddy);
res += float4(0.162217125296593,-0.436606884002686,0.011913612484932,0.055584602057934) * Get(dx,-dy);
res += float4(-0.081725984811783,-0.130025297403336,-0.083494655787945,0.021879531443119) * Get(dx,0);
res += float4(-0.074386276304722,0.083330564200878,0.147459819912910,0.032101456075907) * Get(dx,dy);
res += float4(-0.037614844739437,0.001146994181909,-0.002275762846693,-0.029513388872147) * Get(dx,ddy);
res += float4(-0.021794538944960,-0.101356469094753,0.043658763170242,0.010306923650205) * Get(ddx,-ddy);
res += float4(-0.059121463447809,-0.043167766183615,0.002691762754694,-0.046551838517189) * Get(ddx,-dy);
res += float4(0.146877646446228,0.146927922964096,-0.020039128139615,0.027243755757809) * Get(ddx,0);
res += float4(-0.056001197546721,-0.036413569003344,-0.020602753385901,-0.004610468167812) * Get(ddx,dy);
res += float4(0.097897969186306,0.021274916827679,-0.012933677993715,0.009065270423889) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.451522558927536,-0.013888028450310,0.258771151304245,-0.105295106768608) * min(float4(0, 0, 0, 0), res);
return res;
}
