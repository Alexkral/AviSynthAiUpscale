sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.057149406522512,0.244087606668472,-0.201235398650169,0.014989616349339);
res += float4(0.036675170063972,-0.045250803232193,-0.083303570747375,-0.691682875156403) * Get(-ddx,-ddy);
res += float4(0.017509020864964,0.037112381309271,0.302233725786209,-0.002323307096958) * Get(-ddx,-dy);
res += float4(-0.006988336332142,0.040989093482494,0.784177303314209,-0.022051282227039) * Get(-ddx,0);
res += float4(-0.096076063811779,0.046983651816845,-0.133763134479523,-0.002444129437208) * Get(-ddx,dy);
res += float4(-0.066456884145737,-0.015778113156557,0.028770029544830,0.020664256066084) * Get(-ddx,ddy);
res += float4(0.029109943658113,0.071523755788803,-0.059015430510044,-1.009062051773071) * Get(-dx,-ddy);
res += float4(-0.067473478615284,-0.082000419497490,-0.133602812886238,-0.042150184512138) * Get(-dx,-dy);
res += float4(0.123892270028591,-0.076084539294243,-0.272379994392395,-0.081020839512348) * Get(-dx,0);
res += float4(0.394194632768631,0.030708784237504,0.134093746542931,0.051968157291412) * Get(-dx,dy);
res += float4(-0.040232710540295,0.053424309939146,-0.044615250080824,-0.047768246382475) * Get(-dx,ddy);
res += float4(-0.045981477946043,-0.058393355458975,0.160211652517319,-0.125379070639610) * Get(0,-ddy);
res += float4(0.158931255340576,0.223017677664757,-0.321991443634033,0.681760907173157) * Get(0,-dy);
res += float4(-0.361048996448517,-1.747178912162781,-0.242004066705704,-0.166122436523438) * Get(0,0);
res += float4(0.057319395244122,-0.220004394650459,0.011696744710207,0.054649688303471) * Get(0,dy);
res += float4(-1.265613436698914,0.053446393460035,0.006391073111445,0.027174783870578) * Get(0,ddy);
res += float4(-0.013298132456839,-0.010056364350021,-0.005231718532741,-0.428694963455200) * Get(dx,-ddy);
res += float4(0.005980910267681,0.125115618109703,0.111447826027870,-0.100114420056343) * Get(dx,-dy);
res += float4(-0.029160307720304,0.299666166305542,-0.074236311018467,-0.119886249303818) * Get(dx,0);
res += float4(0.098953694105148,-0.010150093585253,0.014476118609309,0.059941034764051) * Get(dx,dy);
res += float4(-0.105842858552933,0.010059151798487,0.012219284661114,-0.021182028576732) * Get(dx,ddy);
res += float4(0.001452449010685,-0.012789827771485,0.000231899728533,-0.015442674048245) * Get(ddx,-ddy);
res += float4(-0.017378875985742,-0.030540244653821,0.010697001591325,0.082540974020958) * Get(ddx,-dy);
res += float4(0.040861181914806,-0.046314094215631,-0.015292142517865,-0.004360269289464) * Get(ddx,0);
res += float4(-0.052549332380295,-0.003678626148030,0.010647628456354,-0.003598381998017) * Get(ddx,dy);
res += float4(-0.003220755606890,-0.012337166815996,-0.014875764027238,0.003661786671728) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.008951473981142,-0.000558003666811,-0.055836137384176,0.007733709644526) * min(float4(0, 0, 0, 0), res);
return res;
}
