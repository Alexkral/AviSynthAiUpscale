sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.050275541841984,-0.794238448143005,-0.001252517220564,-0.072504498064518);
res += float4(0.004522907547653,-0.010336111299694,0.014024843461812,-0.013882377184927) * Get(-ddx,-ddy);
res += float4(-0.121827065944672,0.005425113718957,0.101302415132523,0.047468148171902) * Get(-ddx,-dy);
res += float4(0.045644883066416,0.015032464638352,-0.015135594643652,-0.046176075935364) * Get(-ddx,0);
res += float4(-0.043141074478626,-0.025343939661980,-0.108823560178280,0.047210950404406) * Get(-ddx,dy);
res += float4(0.055318281054497,0.003196445526555,0.022259440273046,-0.016826108098030) * Get(-ddx,ddy);
res += float4(0.050183057785034,0.004992982838303,-0.049870334565639,-0.000263531750534) * Get(-dx,-ddy);
res += float4(0.090616561472416,-0.111519992351532,-0.361703366041183,-0.334933966398239) * Get(-dx,-dy);
res += float4(0.144534364342690,-0.096414275467396,0.350997895002365,-0.405532717704773) * Get(-dx,0);
res += float4(0.138672217726707,0.042352482676506,0.074249692261219,-0.063757508993149) * Get(-dx,dy);
res += float4(-0.154923945665359,-0.016155507415533,-0.031509891152382,0.067933939397335) * Get(-dx,ddy);
res += float4(-0.243545800447464,0.027409298345447,-0.036061894148588,-0.002747413003817) * Get(0,-ddy);
res += float4(-0.451259464025497,0.098204091191292,0.560412287712097,0.399195134639740) * Get(0,-dy);
res += float4(0.565850853919983,0.948666036128998,-0.941114306449890,0.032514121383429) * Get(0,0);
res += float4(0.214289948344231,0.005622457247227,0.308076828718185,-0.176749616861343) * Get(0,dy);
res += float4(0.136902377009392,0.014670234173536,0.039140429347754,0.029486903920770) * Get(0,ddy);
res += float4(0.016899924725294,-0.026467226445675,-0.052640046924353,-0.055583652108908) * Get(dx,-ddy);
res += float4(0.257225811481476,-0.054031673818827,0.008367813192308,0.000357277545845) * Get(dx,-dy);
res += float4(-0.573833346366882,0.105974949896336,0.057903230190277,0.536823213100433) * Get(dx,0);
res += float4(-0.004803258925676,-0.012945083901286,-0.050676465034485,0.101830050349236) * Get(dx,dy);
res += float4(-0.128294751048088,-0.016316652297974,-0.059658121317625,-0.128656625747681) * Get(dx,ddy);
res += float4(0.006480325479060,0.005745108705014,-0.010609799064696,0.059841498732567) * Get(ddx,-ddy);
res += float4(-0.110841415822506,-0.013292856514454,0.107873827219009,-0.056039456278086) * Get(ddx,-dy);
res += float4(0.020193876698613,0.006813558749855,-0.013762190937996,-0.114903777837753) * Get(ddx,0);
res += float4(0.042339127510786,-0.008006002753973,0.107338376343250,0.051244307309389) * Get(ddx,dy);
res += float4(0.023042762652040,-0.001510101254098,-0.020950548350811,0.052224561572075) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.917043864727020,-0.019272401928902,0.985380291938782,-0.138857290148735) * min(float4(0, 0, 0, 0), res);
return res;
}
