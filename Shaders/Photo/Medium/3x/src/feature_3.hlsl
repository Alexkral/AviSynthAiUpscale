sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.089589633047581,0.082289226353168,-0.704034090042114,-0.252223074436188);
res += float4(-0.000839404645376,-0.010946808382869,0.058983359485865,0.038967706263065) * Get(-ddx,-ddy);
res += float4(-0.081904776394367,0.010037046857178,-0.081071779131889,-0.338865071535110) * Get(-ddx,-dy);
res += float4(0.071625091135502,-0.045324701815844,0.009067432954907,0.028455968946218) * Get(-ddx,0);
res += float4(-0.024010244756937,0.008741479367018,0.005770966876298,0.054441932588816) * Get(-ddx,dy);
res += float4(0.013971925713122,-0.009004650637507,-0.000962712161709,0.061924554407597) * Get(-ddx,ddy);
res += float4(0.005980804562569,0.015585826709867,0.003180601634085,-0.244409322738647) * Get(-dx,-ddy);
res += float4(0.132089599967003,-0.010146706365049,-0.012534417212009,-0.510045230388641) * Get(-dx,-dy);
res += float4(0.087814114987850,0.188735768198967,0.063822135329247,-0.005670117214322) * Get(-dx,0);
res += float4(0.224642530083656,0.022816197946668,-0.055205807089806,-0.026229951530695) * Get(-dx,dy);
res += float4(-0.010191631503403,0.008577814325690,0.012285570614040,0.030134884640574) * Get(-dx,ddy);
res += float4(-0.023383682593703,0.132893964648247,-0.101560316979885,-0.019384229555726) * Get(0,-ddy);
res += float4(0.094313360750675,-1.434359073638916,0.372929394245148,0.011317547410727) * Get(0,-dy);
res += float4(0.351218312978745,0.080969162285328,0.776639580726624,0.540027618408203) * Get(0,0);
res += float4(-0.101800926029682,0.121234193444252,-0.027779048308730,0.184926450252533) * Get(0,dy);
res += float4(0.003223926061764,-0.003119238652289,0.004091135226190,0.117033384740353) * Get(0,ddy);
res += float4(0.007121653761715,0.009817338548601,-0.014517674222589,0.022536432370543) * Get(dx,-ddy);
res += float4(-0.059883791953325,-0.124494224786758,-0.112370930612087,-0.192383185029030) * Get(dx,-dy);
res += float4(-1.257373452186584,0.406136661767960,0.145434290170670,0.198138624429703) * Get(dx,0);
res += float4(-0.120135530829430,0.037914462387562,-0.049264475703239,-0.059736087918282) * Get(dx,dy);
res += float4(0.070624046027660,0.040792819112539,0.014065944589674,0.045198060572147) * Get(dx,ddy);
res += float4(0.015583271160722,-0.031796753406525,0.035228792577982,0.095877654850483) * Get(ddx,-ddy);
res += float4(0.097519844770432,0.117855265736580,-0.061546277254820,0.023045090958476) * Get(ddx,-dy);
res += float4(-0.055110763758421,-0.056809738278389,-0.024644063785672,0.068523690104485) * Get(ddx,0);
res += float4(0.039913523942232,0.010412998497486,0.037658348679543,-0.014784659259021) * Get(ddx,dy);
res += float4(-0.021205587312579,-0.033704806119204,-0.005698853172362,-0.102340854704380) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.026867635548115,-0.107352502644062,-0.020989187061787,-0.016409009695053) * min(float4(0, 0, 0, 0), res);
return res;
}
