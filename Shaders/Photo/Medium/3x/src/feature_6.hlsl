sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.041034612804651,-0.029929479584098,-0.336102455854416,0.033559557050467);
res += float4(0.003746095346287,0.000653291237541,0.098156042397022,-0.033046364784241) * Get(-ddx,-ddy);
res += float4(-0.160562902688980,0.279277205467224,-0.155297160148621,-0.003699289634824) * Get(-ddx,-dy);
res += float4(0.178953394293785,0.022857924923301,-0.025027658790350,-0.004374376498163) * Get(-ddx,0);
res += float4(-0.019595971331000,-0.216008827090263,0.011623949743807,0.075033448636532) * Get(-ddx,dy);
res += float4(-0.017408119514585,-0.073028281331062,0.019797610118985,-0.004763096105307) * Get(-ddx,ddy);
res += float4(-0.270286828279495,-0.060377020388842,-0.169105544686317,0.017684852704406) * Get(-dx,-ddy);
res += float4(0.300082772970200,-0.333355069160461,-0.049871411174536,0.276476889848709) * Get(-dx,-dy);
res += float4(0.042965259402990,-0.071313641965389,-0.336346119642258,-0.293422043323517) * Get(-dx,0);
res += float4(-0.034361317753792,0.159553989768028,-0.083998322486877,-0.130449309945107) * Get(-dx,dy);
res += float4(0.003175081219524,0.277975112199783,-0.108095549046993,-0.019317179918289) * Get(-dx,ddy);
res += float4(-0.067669466137886,-0.201164454221725,0.203997626900673,-0.057922806590796) * Get(0,-ddy);
res += float4(0.377604663372040,0.161279901862144,-0.124934934079647,0.077834799885750) * Get(0,-dy);
res += float4(0.025798566639423,0.272831350564957,0.729066550731659,0.678990185260773) * Get(0,0);
res += float4(-0.217895731329918,-0.181289300322533,-0.061549931764603,0.220017924904823) * Get(0,dy);
res += float4(0.004557554144412,0.113841988146305,0.088804028928280,0.008766627870500) * Get(0,ddy);
res += float4(0.385902732610703,0.286714166402817,-0.043130856007338,0.037368439137936) * Get(dx,-ddy);
res += float4(-0.041327137500048,-0.238815501332283,0.098584309220314,-0.275306433439255) * Get(dx,-dy);
res += float4(-0.360407829284668,0.024446541443467,0.487160563468933,-0.380067169666290) * Get(dx,0);
res += float4(-0.101024985313416,0.017158666625619,-0.034563735127449,-0.174834117293358) * Get(dx,dy);
res += float4(0.030559035018086,-0.198461130261421,-0.016716865822673,0.013313300907612) * Get(dx,ddy);
res += float4(-0.030522152781487,0.044461145997047,0.017124129459262,-0.057030800729990) * Get(ddx,-ddy);
res += float4(-0.079516887664795,-0.003323670011014,0.042003229260445,-0.094946213066578) * Get(ddx,-dy);
res += float4(-0.221213445067406,-0.096203543245792,0.037734691053629,0.095136329531670) * Get(ddx,0);
res += float4(0.288253128528595,0.141755640506744,0.047722034156322,0.025249321013689) * Get(ddx,dy);
res += float4(0.003163898829371,-0.066443309187889,-0.000338180165272,0.011109914630651) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.140001788735390,0.989866316318512,0.953808605670929,0.668877482414246) * min(float4(0, 0, 0, 0), res);
return res;
}
