sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.189977884292603,-0.469497770071030,0.273147970438004,0.049076084047556);
res += float4(-0.004814777988940,-0.043178413063288,0.001573824323714,-0.014152036048472) * Get(-ddx,-ddy);
res += float4(0.072437010705471,0.037413686513901,0.008709237910807,0.027337368577719) * Get(-ddx,-dy);
res += float4(0.249308601021767,0.066624604165554,0.015176208689809,-0.051024626940489) * Get(-ddx,0);
res += float4(0.079895645380020,-0.059681426733732,-0.026340762153268,0.034514531493187) * Get(-ddx,dy);
res += float4(0.034502536058426,0.034817565232515,0.014328855089843,-0.008086549118161) * Get(-ddx,ddy);
res += float4(0.002425032900646,-0.003584862686694,0.014765407890081,-0.007309893611819) * Get(-dx,-ddy);
res += float4(-0.105764180421829,0.238824710249901,-0.056854467839003,0.020702160894871) * Get(-dx,-dy);
res += float4(-0.472126424312592,0.188634976744652,0.269002348184586,-0.132469251751900) * Get(-dx,0);
res += float4(-0.026800123974681,0.217186972498894,-0.048231266438961,-0.007217139936984) * Get(-dx,dy);
res += float4(0.024674175307155,-0.014552284032106,-0.031977456063032,0.028397772461176) * Get(-dx,ddy);
res += float4(0.158121719956398,0.070641875267029,-0.038382679224014,0.040787007659674) * Get(0,-ddy);
res += float4(0.357081413269043,0.123854942619801,0.252723604440689,-0.208034023642540) * Get(0,-dy);
res += float4(-0.778109550476074,0.122203990817070,-0.791042685508728,-0.732157588005066) * Get(0,0);
res += float4(0.226203635334969,0.173041909933090,-1.481580138206482,-0.012113173492253) * Get(0,dy);
res += float4(0.141039848327637,-0.052323225885630,-0.018888607621193,-0.080391205847263) * Get(0,ddy);
res += float4(-0.037700049579144,-0.025556560605764,0.007055669557303,-0.023103589192033) * Get(dx,-ddy);
res += float4(-0.279445588588715,-0.032646324485540,-0.078574277460575,0.201653540134430) * Get(dx,-dy);
res += float4(0.117947749793530,0.133814424276352,0.249111562967300,0.774141311645508) * Get(dx,0);
res += float4(-0.531465172767639,0.127886816859245,-0.067578993737698,0.044078100472689) * Get(dx,dy);
res += float4(-0.218365669250488,-0.017751950770617,0.013004643842578,0.048272721469402) * Get(dx,ddy);
res += float4(-0.025545740500093,0.032356806099415,-0.031683705747128,-0.006633887998760) * Get(ddx,-ddy);
res += float4(0.001083518378437,0.067450761795044,0.071582764387131,-0.049704916775227) * Get(ddx,-dy);
res += float4(-0.163443252444267,-0.105688199400902,-0.051902357488871,0.156040996313095) * Get(ddx,0);
res += float4(0.057992741465569,0.051935806870461,0.040461212396622,-0.066673502326012) * Get(ddx,dy);
res += float4(-0.014857488684356,-0.015798583626747,-0.075069934129715,0.005866909865290) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.004118332173675,0.814771771430969,0.003221076214686,-0.471205949783325) * min(float4(0, 0, 0, 0), res);
return res;
}
