sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.075701832771301,-0.027991829439998,0.025725061073899,0.054022710770369);
res += float4(0.029933054000139,0.040619052946568,-0.076316647231579,-0.092757865786552) * Get(-ddx,-ddy);
res += float4(0.259876161813736,-0.057972334325314,0.046459831297398,0.064097985625267) * Get(-ddx,-dy);
res += float4(-0.238297536969185,-0.013789284974337,-0.002389819361269,0.019549436867237) * Get(-ddx,0);
res += float4(0.121382251381874,-0.030854821205139,-0.054032627493143,-0.055848725140095) * Get(-ddx,dy);
res += float4(-0.078390210866928,0.056867901235819,0.042478144168854,-0.006970867980272) * Get(-ddx,ddy);
res += float4(-0.027222350239754,0.006954727228731,0.037606883794069,-0.135966196656227) * Get(-dx,-ddy);
res += float4(-0.077995687723160,0.078983955085278,0.142201274633408,-0.076704755425453) * Get(-dx,-dy);
res += float4(-0.168609142303467,-0.024601491168141,-0.188935980200768,-0.033016644418240) * Get(-dx,0);
res += float4(0.040096949785948,-0.450282871723175,0.174296587705612,-0.021336764097214) * Get(-dx,dy);
res += float4(0.034125655889511,-0.452257156372070,-0.121114529669285,0.041708044707775) * Get(-dx,ddy);
res += float4(-0.146869271993637,-0.078656353056431,0.198150366544724,0.072157055139542) * Get(0,-ddy);
res += float4(0.279126912355423,0.070706285536289,-0.638189733028412,0.706364452838898) * Get(0,-dy);
res += float4(0.300027400255203,-0.127819120883942,0.210128545761108,0.151709914207458) * Get(0,0);
res += float4(-0.326687008142471,0.579618394374847,0.033489972352982,-0.106376834213734) * Get(0,dy);
res += float4(0.056996021419764,-0.364513605833054,0.177348941564560,0.003219118341804) * Get(0,ddy);
res += float4(0.034370418637991,0.012840556912124,0.186360865831375,-0.930503666400909) * Get(dx,-ddy);
res += float4(-0.183345869183540,0.040114950388670,0.190956339240074,-0.336243510246277) * Get(dx,-dy);
res += float4(0.128022566437721,0.149680957198143,-0.262278199195862,-0.247512504458427) * Get(dx,0);
res += float4(-0.017326431348920,0.232257589697838,-0.014959737658501,0.171836808323860) * Get(dx,dy);
res += float4(0.128757104277611,0.007724902592599,-0.161826848983765,-0.065409772098064) * Get(dx,ddy);
res += float4(-0.079472690820694,0.001036077388562,-0.020752692595124,-0.400740802288055) * Get(ddx,-ddy);
res += float4(-0.091649033129215,-0.049827378243208,-0.056225422769785,0.098476171493530) * Get(ddx,-dy);
res += float4(0.246028542518616,0.002985980128869,0.258315473794937,-0.024418460205197) * Get(ddx,0);
res += float4(-0.127071842551231,0.120966084301472,-0.166136428713799,0.005538527388126) * Get(ddx,dy);
res += float4(0.019644107669592,0.135870069265366,0.061980828642845,-0.012704462744296) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.013327281922102,-0.045722749084234,0.506375610828400,0.010578325949609) * min(float4(0, 0, 0, 0), res);
return res;
}
