sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.079170078039169,0.344419449567795,-0.002550810575485,0.041429858654737);
res += float4(-0.043273735791445,0.020469868555665,0.088423214852810,0.065957061946392) * Get(-ddx,-ddy);
res += float4(0.035978056490421,-0.077867247164249,-0.271639794111252,-0.063602700829506) * Get(-ddx,-dy);
res += float4(-0.094977132976055,0.089721351861954,0.175042584538460,0.046654976904392) * Get(-ddx,0);
res += float4(0.178363204002380,-0.001551236375235,0.011755105108023,-0.080222733318806) * Get(-ddx,dy);
res += float4(-0.055316932499409,0.024885760620236,-0.125042721629143,0.011616203933954) * Get(-ddx,ddy);
res += float4(0.051671221852303,-0.039208091795444,0.118899859488010,0.122931852936745) * Get(-dx,-ddy);
res += float4(-0.083475463092327,0.046871464699507,-0.321155250072479,-0.497698247432709) * Get(-dx,-dy);
res += float4(0.314512312412262,-0.644980967044830,0.706053972244263,0.461962372064590) * Get(-dx,0);
res += float4(-0.171831950545311,0.058839883655310,-0.227269977331161,-0.100050397217274) * Get(-dx,dy);
res += float4(0.091324128210545,-0.044269591569901,0.045641440898180,-0.021049603819847) * Get(-dx,ddy);
res += float4(-0.136279478669167,-0.022872805595398,-0.057947494089603,-0.196602821350098) * Get(0,-ddy);
res += float4(-0.267195880413055,0.084158457815647,-0.238501012325287,0.497167974710464) * Get(0,-dy);
res += float4(-0.879330694675446,-0.770153820514679,0.237824484705925,-0.418363183736801) * Get(0,0);
res += float4(0.715801775455475,-0.212138742208481,-0.441604524850845,0.279597043991089) * Get(0,dy);
res += float4(0.055174678564072,0.041764240711927,0.031435195356607,-0.111343614757061) * Get(0,ddy);
res += float4(0.101640798151493,0.089566342532635,-0.160445943474770,0.023551089689136) * Get(dx,-ddy);
res += float4(-0.168628752231598,-0.114075064659119,0.103782400488853,0.017998697236180) * Get(dx,-dy);
res += float4(0.612696886062622,0.182675942778587,0.133020743727684,-0.062111806124449) * Get(dx,0);
res += float4(-0.346016913652420,-0.047886874526739,-0.057242188602686,-0.088136047124863) * Get(dx,dy);
res += float4(0.014171520248055,-0.052742522209883,-0.039745029062033,0.112942576408386) * Get(dx,ddy);
res += float4(-0.092157162725925,-0.007968871854246,-0.015947187319398,-0.025404086336493) * Get(ddx,-ddy);
res += float4(0.044372167438269,0.071532681584358,0.110787861049175,0.058462094515562) * Get(ddx,-dy);
res += float4(-0.175849184393883,-0.070538580417633,-0.044663373380899,-0.014525832608342) * Get(ddx,0);
res += float4(0.155990138649940,0.003925094380975,-0.082151539623737,-0.064534112811089) * Get(ddx,dy);
res += float4(0.047539230436087,0.071686565876007,0.060938354581594,0.031429536640644) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.979679703712463,-0.003696328029037,-0.107726350426674,0.755739808082581) * min(float4(0, 0, 0, 0), res);
return res;
}
