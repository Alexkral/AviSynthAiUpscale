sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.059026315808296,0.076349511742592,0.022738423198462,-0.370700031518936);
res += float4(0.017781546339393,0.018518202006817,-0.105463996529579,-0.067568100988865) * Get(-ddx,-ddy);
res += float4(0.104477688670158,-0.058895491063595,0.048161920160055,0.100064083933830) * Get(-ddx,-dy);
res += float4(-0.066645309329033,-0.084565453231335,-0.013329701498151,-0.027646275237203) * Get(-ddx,0);
res += float4(0.034542888402939,0.027234034612775,0.072850741446018,0.031950220465660) * Get(-ddx,dy);
res += float4(0.033673334866762,0.036567464470863,0.005439689848572,-0.010268110781908) * Get(-ddx,ddy);
res += float4(-0.132304221391678,0.052318729460239,0.165786132216454,-0.122319526970387) * Get(-dx,-ddy);
res += float4(-0.316075325012207,0.061899852007627,-0.040895882993937,0.011772631667554) * Get(-dx,-dy);
res += float4(-0.563215970993042,-0.407324939966202,-0.494854658842087,0.155595496296883) * Get(-dx,0);
res += float4(-0.146406665444374,0.324517369270325,0.332897245883942,-0.271705776453018) * Get(-dx,dy);
res += float4(-0.054366070777178,-0.045749738812447,-0.127425298094749,-0.072793319821358) * Get(-dx,ddy);
res += float4(0.215518444776535,-0.161225154995918,-0.216438531875610,0.253252327442169) * Get(0,-ddy);
res += float4(-0.265712827444077,0.109823688864708,0.061076577752829,0.315344154834747) * Get(0,-dy);
res += float4(0.849181652069092,-0.258366435766220,0.586843550205231,0.358177244663239) * Get(0,0);
res += float4(0.145657062530518,0.250391662120819,-0.237977251410484,-0.184901982545853) * Get(0,dy);
res += float4(0.132339105010033,0.056321542710066,0.016382243484259,-0.008571940474212) * Get(0,ddy);
res += float4(-0.119789451360703,0.083649925887585,0.104064814746380,-0.011865556240082) * Get(dx,-ddy);
res += float4(-0.138007417321205,0.294668942689896,-0.172015979886055,0.042994562536478) * Get(dx,-dy);
res += float4(-0.163422346115112,-0.363018006086349,0.479721873998642,0.171376392245293) * Get(dx,0);
res += float4(-0.038808863610029,0.095570765435696,-0.372141897678375,-0.202414840459824) * Get(dx,dy);
res += float4(-0.122647002339363,-0.087657049298286,0.113888800144196,0.004923227708787) * Get(dx,ddy);
res += float4(-0.019290227442980,-0.018449289724231,-0.053276110440493,0.005232954863459) * Get(ddx,-ddy);
res += float4(0.106545843183994,-0.117178186774254,0.058752927929163,0.029600752517581) * Get(ddx,-dy);
res += float4(-0.036099869757891,0.071685880422592,-0.214261248707771,0.104486711323261) * Get(ddx,0);
res += float4(0.040359899401665,-0.001795685617253,0.005745777394623,-0.117674395442009) * Get(ddx,dy);
res += float4(-0.038513317704201,0.058527912944555,-0.025498269125819,0.030137877911329) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.016570342704654,0.730391502380371,0.885491371154785,0.013596438802779) * min(float4(0, 0, 0, 0), res);
return res;
}
