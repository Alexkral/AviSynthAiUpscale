sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.076236553490162,0.059712160378695,0.042956300079823,-0.068093344569206);
res += float4(0.039212796837091,0.052048999816179,-0.033812019973993,0.034016415476799) * Get(-ddx,-ddy);
res += float4(-0.076782226562500,-0.074505381286144,0.078375883400440,0.101315811276436) * Get(-ddx,-dy);
res += float4(-0.152912855148315,-0.027562836185098,0.005064318887889,-0.145179465413094) * Get(-ddx,0);
res += float4(-0.069964863359928,-0.014591657556593,-0.030852669849992,-0.021445864811540) * Get(-ddx,dy);
res += float4(0.044753532856703,0.051148720085621,-0.035478923469782,0.047269634902477) * Get(-ddx,ddy);
res += float4(0.001264121383429,-0.057777665555477,0.110960885882378,-0.024654516950250) * Get(-dx,-ddy);
res += float4(0.046236932277679,0.158675596117973,-0.035645473748446,-0.051660068333149) * Get(-dx,-dy);
res += float4(-0.001736524631269,-0.471773594617844,-0.629220128059387,-0.017193267121911) * Get(-dx,0);
res += float4(0.027555724605918,0.397921264171600,0.305836319923401,-0.130103901028633) * Get(-dx,dy);
res += float4(-0.178644075989723,-0.038039743900299,-0.004890274256468,0.128867462277412) * Get(-dx,ddy);
res += float4(0.095200151205063,-0.082861535251141,-0.165335953235626,0.054763562977314) * Get(0,-ddy);
res += float4(-0.295780748128891,-0.053857594728470,-0.004713089670986,0.467695325613022) * Get(0,-dy);
res += float4(0.877459943294525,-0.195034906268120,0.518660187721252,-0.110025040805340) * Get(0,0);
res += float4(-0.014451433904469,0.303475648164749,-0.051768932491541,-0.304378926753998) * Get(0,dy);
res += float4(-0.014973643235862,0.031130732968450,-0.056873153895140,-0.286636799573898) * Get(0,ddy);
res += float4(-0.048686619848013,0.051166191697121,0.085108794271946,-0.074563480913639) * Get(dx,-ddy);
res += float4(0.046791482716799,0.260498583316803,-0.194100156426430,0.282119810581207) * Get(dx,-dy);
res += float4(-0.128868147730827,-0.455807030200958,0.600781142711639,0.222679808735847) * Get(dx,0);
res += float4(-0.123095929622650,0.205299869179726,-0.381089866161346,-0.077429950237274) * Get(dx,dy);
res += float4(0.095914095640182,-0.041244260966778,0.087529532611370,-0.021260783076286) * Get(dx,ddy);
res += float4(-0.118878819048405,-0.024753538891673,0.038492336869240,-0.022567136213183) * Get(ddx,-ddy);
res += float4(0.018556365743279,-0.065324105322361,-0.001803222578019,0.010116383433342) * Get(ddx,-dy);
res += float4(-0.030684422701597,0.087764352560043,-0.330447852611542,0.010417018085718) * Get(ddx,0);
res += float4(0.048789680004120,-0.066445872187614,0.061689980328083,-0.064882047474384) * Get(ddx,dy);
res += float4(0.010243603959680,0.037722021341324,-0.012793231755495,0.051713727414608) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.614040970802307,0.615744233131409,0.916771054267883,0.032504562288523) * min(float4(0, 0, 0, 0), res);
return res;
}
