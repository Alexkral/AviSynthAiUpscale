sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.180972114205360,0.062582336366177,0.028754428029060,-0.006044787354767);
res += float4(0.008081809617579,0.026571186259389,-0.495088934898376,0.031407259404659) * Get(-ddx,-ddy);
res += float4(0.078358776867390,0.151666656136513,-0.514461457729340,0.023560838773847) * Get(-ddx,-dy);
res += float4(-0.062742948532104,-0.048146493732929,-0.553476393222809,0.013361521996558) * Get(-ddx,0);
res += float4(0.050448104739189,-0.033420015126467,-0.538571715354919,-0.012395224533975) * Get(-ddx,dy);
res += float4(0.009530491195619,0.089989036321640,-0.347077518701553,-0.011226196773350) * Get(-ddx,ddy);
res += float4(0.061971951276064,-0.089970916509628,-0.038405362516642,-0.132582888007164) * Get(-dx,-ddy);
res += float4(-0.145190238952637,0.000593072036281,0.311915099620819,-0.005954845342785) * Get(-dx,-dy);
res += float4(-0.106530196964741,-0.422792494297028,0.106101758778095,0.015714440494776) * Get(-dx,0);
res += float4(0.072663925588131,-0.463034957647324,0.404488265514374,0.033704530447721) * Get(-dx,dy);
res += float4(-0.003889099694788,0.104121647775173,-0.142116084694862,-0.005075759254396) * Get(-dx,ddy);
res += float4(-0.166648015379906,0.054687626659870,-0.027752382680774,-0.088823825120926) * Get(0,-ddy);
res += float4(0.004945223219693,-0.104228377342224,-0.093178674578667,0.593832314014435) * Get(0,-dy);
res += float4(0.388843834400177,-0.068842791020870,0.132455483078957,0.044814579188824) * Get(0,0);
res += float4(-0.058868713676929,0.682555794715881,-0.029892617836595,0.027727261185646) * Get(0,dy);
res += float4(0.062872759997845,-0.078235507011414,-0.038430877029896,0.094838999211788) * Get(0,ddy);
res += float4(-0.074218146502972,-0.039479088038206,0.006632805336267,-0.967040538787842) * Get(dx,-ddy);
res += float4(-0.149563685059547,-0.251702517271042,0.008093809708953,-0.069860577583313) * Get(dx,-dy);
res += float4(0.264900416135788,-0.219720229506493,0.089239105582237,-0.257750689983368) * Get(dx,0);
res += float4(-0.007209305651486,0.056211259216070,-0.099492169916630,0.110836170613766) * Get(dx,dy);
res += float4(0.030036441981792,-0.226438283920288,-0.009299324825406,-0.128321081399918) * Get(dx,ddy);
res += float4(0.020774755626917,0.013160207308829,0.001948377117515,-0.477901250123978) * Get(ddx,-ddy);
res += float4(-0.176732972264290,0.127051845192909,-0.000248219032073,0.034281425178051) * Get(ddx,-dy);
res += float4(0.112332500517368,0.099207855761051,0.008849635720253,-0.045477222651243) * Get(ddx,0);
res += float4(0.052536569535732,0.112529896199703,-0.011215144768357,0.019946379587054) * Get(ddx,dy);
res += float4(-0.017575306817889,0.050275832414627,0.022139295935631,0.008027176372707) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.011745278723538,-0.010428648442030,0.008007386699319,0.007297328207642) * min(float4(0, 0, 0, 0), res);
return res;
}
