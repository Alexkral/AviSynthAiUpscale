sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.036594171077013,0.236021175980568,0.082923516631126,-0.360404551029205);
res += float4(-0.020351048558950,0.020005911588669,-0.003167710965499,0.051459789276123) * Get(-ddx,-ddy);
res += float4(-0.094181373715401,-0.040633507072926,-0.058215931057930,-0.013751383870840) * Get(-ddx,-dy);
res += float4(-0.060434408485889,0.109587341547012,0.072007492184639,-0.046201605349779) * Get(-ddx,0);
res += float4(0.081424139440060,0.026616809889674,-0.043081801384687,-0.031721562147141) * Get(-ddx,dy);
res += float4(0.030591854825616,0.047076851129532,0.003112981794402,0.020042421296239) * Get(-ddx,ddy);
res += float4(0.025527754798532,0.080373175442219,0.033209767192602,-0.077669225633144) * Get(-dx,-ddy);
res += float4(-0.032422196120024,-0.001708264695480,-0.031046297401190,-0.271375566720963) * Get(-dx,-dy);
res += float4(0.498277574777603,-1.460942387580872,0.241544201970100,-0.015914930030704) * Get(-dx,0);
res += float4(-0.239811435341835,0.074393190443516,-0.193573445081711,-0.031604707241058) * Get(-dx,dy);
res += float4(-0.001274185953662,-0.041407819837332,0.027287708595395,0.037972204387188) * Get(-dx,ddy);
res += float4(-0.142336487770081,-0.033711437135935,0.002212491352111,-0.171844273805618) * Get(0,-ddy);
res += float4(-0.328294932842255,0.248162850737572,0.012179636396468,-0.439949810504913) * Get(0,-dy);
res += float4(-0.499268084764481,-0.446399658918381,-0.044736813753843,0.121913783252239) * Get(0,0);
res += float4(0.773981213569641,0.081168897449970,-1.326678872108459,0.019130202010274) * Get(0,dy);
res += float4(-0.088887840509415,-0.013676652684808,0.013244280591607,-0.068375468254089) * Get(0,ddy);
res += float4(0.040230423212051,0.000712942506652,-0.002167265396565,0.195907250046730) * Get(dx,-ddy);
res += float4(0.031957712024450,-0.106726899743080,0.083992846310139,0.456390112638474) * Get(dx,-dy);
res += float4(0.387463182210922,0.191150575876236,0.367145150899887,0.560566663742065) * Get(dx,0);
res += float4(-0.486895948648453,-0.031700562685728,0.276824504137039,0.014038681983948) * Get(dx,dy);
res += float4(0.066317789256573,0.041069012135267,-0.086515918374062,0.070191934704781) * Get(dx,ddy);
res += float4(-0.002743547549471,-0.014554243534803,0.011775298975408,0.026453224942088) * Get(ddx,-ddy);
res += float4(0.082346804440022,0.039318412542343,-0.037489671260118,0.003234977368265) * Get(ddx,-dy);
res += float4(-0.203397393226624,0.042330119758844,0.013401828706264,0.036216869950294) * Get(ddx,0);
res += float4(0.109239958226681,-0.010745333507657,-0.035949304699898,-0.012135808356106) * Get(ddx,dy);
res += float4(-0.017618600279093,0.005861520767212,0.049616761505604,-0.043904863297939) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(1.031941771507263,0.006413411349058,-0.008484926074743,-0.022617824375629) * min(float4(0, 0, 0, 0), res);
return res;
}
