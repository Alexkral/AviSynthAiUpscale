sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.047851946204901,0.016185175627470,0.000144012796227,-0.397957116365433);
res += float4(-0.063077390193939,0.008929099887609,-0.079457305371761,-0.006207883823663) * Get(-ddx,-ddy);
res += float4(0.117342934012413,-0.004190950654447,-0.046281337738037,-0.028220716863871) * Get(-ddx,-dy);
res += float4(0.000910217000637,-0.056682433933020,0.171449884772301,0.178712874650955) * Get(-ddx,0);
res += float4(-0.125249937176704,-0.018001420423388,-0.015707580372691,-0.038281708955765) * Get(-ddx,dy);
res += float4(-0.044168774038553,0.012149868533015,-0.029012033715844,-0.026159292086959) * Get(-ddx,ddy);
res += float4(0.100280024111271,0.005260058678687,0.027087563648820,0.121077924966812) * Get(-dx,-ddy);
res += float4(-0.059503946453333,0.055980637669563,-0.156562924385071,0.283004999160767) * Get(-dx,-dy);
res += float4(0.630743086338043,-0.449269980192184,-0.050474852323532,0.282977819442749) * Get(-dx,0);
res += float4(-0.513487756252289,0.050665646791458,0.165449112653732,0.216298565268517) * Get(-dx,dy);
res += float4(0.084893755614758,0.111030101776123,0.148310646414757,0.010910924524069) * Get(-dx,ddy);
res += float4(0.014760882593691,0.024887615814805,-0.028312388807535,-0.090164370834827) * Get(0,-ddy);
res += float4(0.156179800629616,-0.153342276811600,0.470533251762390,0.338946998119354) * Get(0,-dy);
res += float4(-0.832286417484283,0.003472830401734,-0.017684010788798,-0.010555158369243) * Get(0,0);
res += float4(0.351481586694717,0.509719610214233,-0.464193552732468,-0.555171489715576) * Get(0,dy);
res += float4(0.031112311407924,-0.093448951840401,0.001770478789695,-0.068027414381504) * Get(0,ddy);
res += float4(-0.040719199925661,-0.017464265227318,0.035952139645815,-0.004417460411787) * Get(dx,-ddy);
res += float4(-0.239976480603218,-0.008939345367253,-0.001970821060240,0.169246479868889) * Get(dx,-dy);
res += float4(0.426666200160980,-0.099360838532448,0.094901539385319,-0.381676942110062) * Get(dx,0);
res += float4(0.006339043844491,0.156601414084435,-0.032871820032597,0.059620779007673) * Get(dx,dy);
res += float4(0.046855874359608,0.032468110322952,-0.155979767441750,0.071435920894146) * Get(dx,ddy);
res += float4(-0.073292441666126,-0.004042961169034,0.048493947833776,-0.002040626015514) * Get(ddx,-ddy);
res += float4(0.085919156670570,0.043865989893675,-0.119285985827446,0.019430039450526) * Get(ddx,-dy);
res += float4(-0.285122126340866,-0.161730095744133,-0.314368546009064,-0.096241623163223) * Get(ddx,0);
res += float4(0.171031758189201,0.079121947288513,0.360209822654724,0.034415040165186) * Get(ddx,dy);
res += float4(-0.018780795857310,-0.006528359837830,0.041528802365065,0.042150489985943) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.988334953784943,0.469191700220108,0.243603304028511,-0.022379441186786) * min(float4(0, 0, 0, 0), res);
return res;
}
