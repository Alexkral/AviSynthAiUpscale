sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.062130186706781,0.163229495286942,0.352507948875427,-0.577018976211548);
res += float4(0.025691526010633,0.039952408522367,0.025958137586713,-0.008202855475247) * Get(-ddx,-ddy);
res += float4(-0.124581970274448,-0.004922547843307,0.004376076161861,0.023118371143937) * Get(-ddx,-dy);
res += float4(-0.137970879673958,0.001249682041816,-0.040725931525230,0.024083146825433) * Get(-ddx,0);
res += float4(0.171638146042824,-0.479091465473175,0.018472751602530,-0.025743437930942) * Get(-ddx,dy);
res += float4(0.069674998521805,-0.205221042037010,0.015240974724293,0.010444949381053) * Get(-ddx,ddy);
res += float4(0.112889871001244,-0.091884396970272,-0.061723675578833,0.013724927790463) * Get(-dx,-ddy);
res += float4(-0.072071865200996,-0.271980106830597,0.136066243052483,-0.082062594592571) * Get(-dx,-dy);
res += float4(0.529101908206940,-0.305018395185471,0.035315047949553,-0.265651792287827) * Get(-dx,0);
res += float4(-0.136391207575798,-0.736622571945190,0.054246753454208,0.011137037537992) * Get(-dx,dy);
res += float4(-0.041173733770847,-0.381288349628448,-0.027911404147744,-0.006155890412629) * Get(-dx,ddy);
res += float4(-0.377019047737122,0.138868644833565,-0.004144397564232,-0.021583819761872) * Get(0,-ddy);
res += float4(0.232648700475693,0.140177786350250,0.245322436094284,0.165974169969559) * Get(0,-dy);
res += float4(-0.880657732486725,0.479617953300476,-0.739387452602386,0.018813740462065) * Get(0,0);
res += float4(0.311210840940475,-0.255941271781921,-0.078612953424454,-0.214474067091942) * Get(0,dy);
res += float4(0.061327621340752,0.101387694478035,-0.034875370562077,-0.024037919938564) * Get(0,ddy);
res += float4(0.123667083680630,0.000354811782017,0.014190067537129,-0.056385044008493) * Get(dx,-ddy);
res += float4(0.081259198486805,-0.136071279644966,-0.094513922929764,0.651410102844238) * Get(dx,-dy);
res += float4(-0.030561434105039,0.204282522201538,-0.181930869817734,0.497093468904495) * Get(dx,0);
res += float4(0.017830468714237,-0.302078157663345,-0.181021168828011,-0.060583043843508) * Get(dx,dy);
res += float4(0.000139258816489,0.021124726161361,0.008465993218124,0.058361031115055) * Get(dx,ddy);
res += float4(-0.015478930436075,-0.010462293401361,-0.049206003546715,0.024167366325855) * Get(ddx,-ddy);
res += float4(-0.040166374295950,0.004695691633970,0.109690763056278,0.055216368287802) * Get(ddx,-dy);
res += float4(-0.009335397742689,0.072427332401276,-0.079121589660645,0.034893162548542) * Get(ddx,0);
res += float4(0.091724596917629,0.040044415742159,0.019006734713912,-0.074239164590836) * Get(ddx,dy);
res += float4(-0.011825549416244,-0.023638501763344,-0.017926612868905,0.001354901585728) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.942119538784027,0.017114991322160,0.109586082398891,-0.019486920908093) * min(float4(0, 0, 0, 0), res);
return res;
}
