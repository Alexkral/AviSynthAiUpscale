sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.008226807229221,0.403140336275101,0.257084548473358,0.052780274301767);
res += float4(-0.004069406073540,0.002817957894877,0.022387292236090,-0.054573357105255) * Get(-ddx,-ddy);
res += float4(0.011485410854220,0.008249746635556,-0.073177479207516,0.005213913973421) * Get(-ddx,-dy);
res += float4(0.093662627041340,0.007042587734759,-0.048906598240137,0.195624843239784) * Get(-ddx,0);
res += float4(-0.021571377292275,-0.045349523425102,-0.006064548157156,-0.043215319514275) * Get(-ddx,dy);
res += float4(-0.053554560989141,0.024129278957844,0.018687315285206,0.032874252647161) * Get(-ddx,ddy);
res += float4(-0.010045360773802,0.066207922995090,-0.023950366303325,0.068532444536686) * Get(-dx,-ddy);
res += float4(-0.049432627856731,-0.197877347469330,0.198866426944733,-0.643113076686859) * Get(-dx,-dy);
res += float4(0.051245752722025,0.088175505399704,-0.201984435319901,-0.459055602550507) * Get(-dx,0);
res += float4(0.157344847917557,0.000302557367831,-0.611963093280792,0.038671530783176) * Get(-dx,dy);
res += float4(-0.152265250682831,-0.024325231090188,0.003684041323140,-0.043783552944660) * Get(-dx,ddy);
res += float4(0.016877917572856,-0.057468116283417,0.030250860378146,0.394595146179199) * Get(0,-ddy);
res += float4(-0.100170619785786,-0.409375995397568,-0.239498928189278,0.047028843313456) * Get(0,-dy);
res += float4(0.152230411767960,-0.708939373493195,0.517302393913269,-0.603445887565613) * Get(0,0);
res += float4(0.644106149673462,0.148420259356499,0.095531024038792,0.110809937119484) * Get(0,dy);
res += float4(0.081226982176304,-0.062796063721180,-0.117453314363956,-0.077618144452572) * Get(0,ddy);
res += float4(-0.073426060378551,-0.101507693529129,-0.018184900283813,0.087793290615082) * Get(dx,-ddy);
res += float4(0.035575088113546,0.197277873754501,0.024386543780565,0.319213122129440) * Get(dx,-dy);
res += float4(-1.124169468879700,-0.312416732311249,-0.128464356064796,0.103334143757820) * Get(dx,0);
res += float4(-0.135594159364700,0.084201522171497,-0.503196716308594,-0.088799402117729) * Get(dx,dy);
res += float4(0.145962789654732,-0.026155063882470,0.024695307016373,0.041254762560129) * Get(dx,ddy);
res += float4(0.044291678816080,0.027429336681962,-0.035367675125599,-0.104291453957558) * Get(ddx,-ddy);
res += float4(0.199510425329208,-0.124159231781960,0.000733267515898,0.086517289280891) * Get(ddx,-dy);
res += float4(0.112756535410881,-0.037016823887825,0.057282045483589,-0.016367187723517) * Get(ddx,0);
res += float4(-0.267477661371231,-0.038833830505610,-0.029587686061859,0.007877124473453) * Get(ddx,dy);
res += float4(0.020696520805359,0.031088732182980,0.026138877496123,0.012866226024926) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.102287814021111,-0.051347322762012,-0.004872973542660,-0.017258796840906) * min(float4(0, 0, 0, 0), res);
return res;
}
