sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.428274095058441,0.057057242840528,-0.079080976545811,0.008032117970288);
res += float4(0.049667719751596,-0.027370858937502,0.019827844575047,-0.060913451015949) * Get(-ddx,-ddy);
res += float4(0.071560062468052,0.051102574914694,-0.064442016184330,0.186724171042442) * Get(-ddx,-dy);
res += float4(-0.122510962188244,-0.070072732865810,-0.069402553141117,-0.018843870609999) * Get(-ddx,0);
res += float4(0.093186758458614,0.046998437494040,0.067861415445805,-0.048774089664221) * Get(-ddx,dy);
res += float4(0.029411122202873,-0.002269379561767,0.003893024520949,-0.049441996961832) * Get(-ddx,ddy);
res += float4(0.017419569194317,-0.057859331369400,-0.036117315292358,-0.138888508081436) * Get(-dx,-ddy);
res += float4(-0.297054946422577,-0.015850462019444,-0.314113318920135,-0.131549656391144) * Get(-dx,-dy);
res += float4(-0.125386252999306,-0.092267356812954,0.406482070684433,0.337655067443848) * Get(-dx,0);
res += float4(-0.083851151168346,-0.033628925681114,-0.064001351594925,0.006458531599492) * Get(-dx,dy);
res += float4(-0.030705256387591,0.091459326446056,0.040649313479662,0.250923901796341) * Get(-dx,ddy);
res += float4(-0.129437312483788,0.053736411035061,-0.092551901936531,0.169717848300934) * Get(0,-ddy);
res += float4(-0.385456919670105,0.277028173208237,-0.607692956924438,-0.343654215335846) * Get(0,-dy);
res += float4(-0.142943933606148,-0.739168047904968,0.721893250942230,-0.268643379211426) * Get(0,0);
res += float4(-0.069983750581741,-0.180608645081520,0.046041637659073,0.239074558019638) * Get(0,dy);
res += float4(-0.016267003491521,-0.039871823042631,-0.095181636512280,-0.083524450659752) * Get(0,ddy);
res += float4(-0.102614246308804,-0.062540538609028,0.046942599117756,0.154852285981178) * Get(dx,-ddy);
res += float4(-0.251050084829330,-0.228681579232216,-0.135042145848274,0.269534945487976) * Get(dx,-dy);
res += float4(0.015494290739298,0.765825092792511,0.165770798921585,-0.298190146684647) * Get(dx,0);
res += float4(-0.070315718650818,0.223784983158112,-0.066438779234886,0.208065450191498) * Get(dx,dy);
res += float4(0.040456291288137,-0.022336302325130,0.019719269126654,-0.256374716758728) * Get(dx,ddy);
res += float4(-0.032765388488770,0.079335667192936,-0.043743528425694,-0.011929987929761) * Get(ddx,-ddy);
res += float4(-0.065530247986317,-0.075448393821716,-0.019940452650189,-0.169641762971878) * Get(ddx,-dy);
res += float4(-0.124872244894505,0.136855110526085,0.059295449405909,0.095153920352459) * Get(ddx,0);
res += float4(0.036434333771467,-0.087500534951687,0.005312137305737,-0.107253171503544) * Get(ddx,dy);
res += float4(-0.054632913321257,-0.029721863567829,-0.004945697262883,0.127132445573807) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.491579502820969,0.656435728073120,-0.295885711908340,0.764981031417847) * min(float4(0, 0, 0, 0), res);
return res;
}
