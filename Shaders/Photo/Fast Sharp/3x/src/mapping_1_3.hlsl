sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.041834514588118,-0.163173884153366,-0.007610670756549,-0.185724750161171);
res += mul(Get(s0,-dx,-dy), float4x4(0.015726737678051,0.300596803426743,-0.183077216148376,0.038077067583799,-0.196375980973244,0.128676220774651,-0.103358514606953,-0.023678857833147,0.246404588222504,0.000700905802660,-0.041276421397924,-0.236218571662903,0.049198936671019,-0.161122098565102,0.022170310840011,-0.053462583571672));
res += mul(Get(s0,-dx,0), float4x4(-0.230502724647522,-0.076767601072788,-0.028726803138852,0.070449076592922,-0.040881458669901,0.044108364731073,0.199068859219551,0.078248836100101,-0.132928505539894,-0.514592170715332,0.348787158727646,0.081958636641502,0.019045025110245,-0.045442689210176,0.171831265091896,-0.043802283704281));
res += mul(Get(s0,-dx,dy), float4x4(0.007561409380287,-0.022615814581513,-0.087811410427094,0.018083961680532,0.132834255695343,0.228667944669724,-0.109184272587299,-0.078065723180771,0.202809795737267,0.143304750323296,0.149949848651886,0.288936972618103,0.006482542026788,-0.031667448580265,0.047541376203299,-0.028849408030510));
res += mul(Get(s0,0,-dy), float4x4(0.246931314468384,-0.236739188432693,0.086583584547043,0.016312591731548,0.008016454987228,0.030226768925786,0.247259199619293,0.138064891099930,-0.856737852096558,-0.510426700115204,0.008226728998125,-0.013233238831162,-0.042556233704090,0.175718188285828,-0.257207423448563,-0.035656947642565));
res += mul(Get(s0,0,0), float4x4(-0.341516822576523,-0.427335411310196,0.243216559290886,-0.038399014621973,0.062064707279205,0.076815597712994,-0.169784381985664,0.259950965642929,0.365622192621231,0.465880662202835,-0.421436339616776,0.294497132301331,0.066777855157852,0.156047716736794,-0.030041208490729,0.165338650345802));
res += mul(Get(s0,0,dy), float4x4(0.021573545411229,-0.054693821817636,-0.044400911778212,0.056382577866316,-0.480077803134918,-0.242053121328354,0.302954345941544,0.450770169496536,-0.118061825633049,0.149546578526497,-0.072417572140694,-0.071978867053986,-0.010735803283751,0.101082086563110,0.009424308314919,-0.008183673955500));
res += mul(Get(s0,dx,-dy), float4x4(-0.047015823423862,-0.089959211647511,-0.013018398545682,-0.052889823913574,-0.027647549286485,0.102811209857464,0.043380036950111,-0.138024568557739,0.005145994015038,0.126669034361839,-0.176633656024933,0.191531315445900,0.176689147949219,-0.342577546834946,-0.593146324157715,-0.276543766260147));
res += mul(Get(s0,dx,0), float4x4(-0.064392007887363,0.063303962349892,-0.154169425368309,-0.197141468524933,0.189561441540718,0.041828684508801,-0.062397275120020,-0.296560257673264,0.044108405709267,0.129987597465515,0.267466038465500,-0.354376107454300,-0.074300251901150,0.120697684586048,0.103591166436672,0.110987119376659));
res += mul(Get(s0,dx,dy), float4x4(-0.077475413680077,0.094246543943882,-0.240943968296051,0.153667509555817,0.183718502521515,-0.221062615513802,-0.015902919694781,0.014727276749909,0.084878250956535,-0.162332966923714,0.026898730546236,-0.063094966113567,-0.133644998073578,-0.030994564294815,-0.132480695843697,0.048430442810059));
res += mul(Get(s1,-dx,-dy), float4x4(0.111190974712372,0.006681575439870,-0.062720805406570,-0.013512250036001,0.069589741528034,-0.063024766743183,0.119015648961067,0.390779227018356,-0.274330854415894,-0.091447949409485,-0.023032708093524,-0.136787056922913,0.047224119305611,-0.376129686832428,0.043391633778811,-0.086796119809151));
res += mul(Get(s1,-dx,0), float4x4(-0.148707628250122,-0.098279200494289,0.008611386641860,-0.086686104536057,0.150097593665123,0.194461673498154,-0.163184851408005,0.145710274577141,0.188643246889114,-0.491034567356110,-0.108519092202187,0.229889243841171,-0.045158673077822,-0.091418318450451,0.065220586955547,-0.075018286705017));
res += mul(Get(s1,-dx,dy), float4x4(0.130292400717735,-0.058876119554043,0.235120028257370,0.207090556621552,-0.098579272627831,0.097184874117374,0.131174176931381,-0.344669789075851,0.018533786758780,-0.007385496050119,0.055071577429771,-0.029460005462170,0.039309859275818,-0.101451031863689,-0.147919297218323,-0.103609502315521));
res += mul(Get(s1,0,-dy), float4x4(0.302176535129547,0.039576273411512,0.064579062163830,-0.153497457504272,-0.280952990055084,-0.212368249893188,-0.239046514034271,-0.010170552879572,-0.452860295772552,-0.441199094057083,0.262635767459869,0.311005622148514,-0.180800959467888,0.440387010574341,0.401951253414154,0.305175215005875));
res += mul(Get(s1,0,0), float4x4(-0.615703821182251,-0.321001470088959,-0.062322147190571,-0.193962767720222,0.580384910106659,0.306849360466003,0.436610400676727,-0.001813278300688,-0.008430674672127,0.692635238170624,-0.146878853440285,0.494176536798477,0.116212993860245,0.184836506843567,0.011059416458011,0.012862570583820));
res += mul(Get(s1,0,dy), float4x4(0.240138426423073,0.493294060230255,0.064174525439739,0.288812965154648,-0.227605089545250,-0.077025376260281,-0.226480230689049,-0.291972339153290,0.423723965883255,0.170536041259766,0.134983405470848,-0.301582753658295,0.073016285896301,0.075071468949318,0.056804925203323,0.088949032127857));
res += mul(Get(s1,dx,-dy), float4x4(0.204882472753525,0.062025740742683,0.022639993578196,-0.143795400857925,0.177330330014229,-0.095391653478146,0.159268379211426,0.016907865181565,-0.033838365226984,0.033668559044600,-0.002539483597502,-0.098819486796856,0.040386132895947,0.206493958830833,0.082770511507988,0.057717770338058));
res += mul(Get(s1,dx,0), float4x4(-0.083751522004604,-0.234669566154480,-0.124864757061005,-0.124715693295002,-0.007157894317061,-0.029821936041117,0.111814498901367,-0.020403223112226,-0.260909914970398,0.164363577961922,0.227345287799835,-0.390076249837875,0.047459103167057,-0.427252650260925,-0.347628593444824,-0.231161549687386));
res += mul(Get(s1,dx,dy), float4x4(-0.134844601154327,0.141438066959381,0.170706823468208,0.160374224185944,-0.112780794501305,-0.061896447092295,-0.181104317307472,-0.079853042960167,-0.143307283520699,-0.246887266635895,-0.101434424519539,-0.199813127517700,0.036119136959314,0.050728440284729,-0.050980754196644,0.000528110540472));
res += mul(Get(s2,-dx,-dy), float4x4(0.032970361411572,0.084608964622021,-0.046167276799679,-0.162987500429153,0.015392300672829,-0.178913235664368,0.122320003807545,0.243544995784760,0.256618797779083,-0.128461137413979,0.023188702762127,-0.089442834258080,0.254166871309280,-0.011812966316938,0.103709891438484,-0.141752645373344));
res += mul(Get(s2,-dx,0), float4x4(-0.063660003244877,0.297857522964478,-0.340185344219208,-0.238134235143661,0.057757135480642,0.038440439850092,0.250439912080765,-0.085017003118992,-0.273531496524811,-0.161417886614799,0.072218753397465,-0.191228643059731,0.099594980478287,-0.223231121897697,0.308847367763519,0.094771340489388));
res += mul(Get(s2,-dx,dy), float4x4(-0.060644440352917,0.069257214665413,-0.100346922874451,-0.153554201126099,0.041943732649088,-0.037117876112461,-0.104900568723679,-0.078844070434570,0.038317970931530,0.109213955700397,0.167337998747826,0.004251955542713,-0.074223332107067,0.022557010874152,0.299039155244827,0.005906428210437));
res += mul(Get(s2,0,-dy), float4x4(0.260202199220657,-0.105231665074825,-0.042530070990324,-0.279992908239365,-0.175956889986992,0.115465827286243,0.508212447166443,0.348177552223206,0.244004383683205,0.255646765232086,-0.142441898584366,0.108848139643669,0.299671351909637,-0.113313637673855,-0.246080949902534,-0.092138156294823));
res += mul(Get(s2,0,0), float4x4(-0.407861560583115,-0.262749612331390,0.229008674621582,-0.136062756180763,-0.006001418922096,0.417563557624817,0.396855801343918,0.413753211498260,0.204519748687744,-0.078010492026806,0.027774106711149,0.072131507098675,0.211052909493446,-0.126860424876213,-0.029470322653651,0.227708086371422));
res += mul(Get(s2,0,dy), float4x4(-0.170501574873924,0.032348372042179,-0.010303189046681,0.086306050419807,0.048741932958364,-0.006290480028838,-0.161952748894691,-0.039056092500687,-0.118888616561890,-0.012418108992279,-0.332732170820236,-0.110302425920963,-0.161545768380165,-0.182762503623962,-0.016165586188436,-0.011805015616119));
res += mul(Get(s2,dx,-dy), float4x4(0.094475694000721,-0.168330997228622,0.230529248714447,-0.015968535095453,0.056079570204020,-0.055657599121332,-0.183550834655762,-0.155450344085693,-0.177108585834503,-0.149793773889542,0.034691285341978,-0.179050892591476,0.094931021332741,0.104203477501869,-0.030646784231067,0.070355787873268));
res += mul(Get(s2,dx,0), float4x4(0.031290795654058,-0.305047065019608,0.048170875757933,0.173178181052208,0.006962378975004,-0.103527791798115,0.031756304204464,-0.084562994539738,-0.041466377675533,0.073994718492031,-0.118310131132603,0.348628133535385,0.106954924762249,0.082664377987385,0.009244152344763,-0.064233094453812));
res += mul(Get(s2,dx,dy), float4x4(-0.106272354722023,0.014839386567473,-0.063652969896793,0.171818152070045,-0.035513497889042,-0.009021545760334,-0.200808897614479,-0.161749958992004,0.056673236191273,-0.072359949350357,0.252996772527695,0.071204409003258,-0.063041441142559,-0.255761951208115,-0.168113172054291,0.113976508378983));
res = max(float4(0, 0, 0, 0), res) + float4(-0.404346406459808,0.142220005393028,0.775457859039307,0.205513477325439) * min(float4(0, 0, 0, 0), res);
return res;
}
