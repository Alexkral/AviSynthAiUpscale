sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.152160182595253,-0.026756431907415,-0.416849851608276,0.009778821840882);
res += mul(Get(s0,-dx,-dy), float4x4(-0.075192302465439,0.002506988588721,0.111851938068867,-0.071195401251316,0.019575253129005,0.036667846143246,0.034633316099644,-0.110667832195759,-0.025532415136695,0.090919785201550,0.055174801498652,0.040554746985435,-0.068717643618584,0.024386301636696,-0.062390435487032,-0.128788575530052));
res += mul(Get(s0,-dx,0), float4x4(-0.029063319787383,0.176642179489136,0.184669524431229,-0.089535973966122,-0.116280503571033,0.187438607215881,-0.027626799419522,-0.038971163332462,0.083455085754395,-0.056643497198820,-0.132786735892296,0.028380883857608,-0.100278466939926,-0.058935347944498,-0.284803390502930,0.130396917462349));
res += mul(Get(s0,-dx,dy), float4x4(0.181365355849266,-0.064061418175697,-0.013950654305518,0.176350265741348,-0.073997274041176,0.008746325969696,0.037459883838892,-0.126221925020218,-0.026002826169133,-0.042015206068754,-0.061027940362692,0.022268265485764,0.042767528444529,0.021048314869404,-0.171829015016556,-0.012071206234396));
res += mul(Get(s0,0,-dy), float4x4(-0.152644068002701,-0.038681264966726,-0.047286342829466,-0.412081897258759,0.087961256504059,0.327628880739212,0.166310131549835,0.164658576250076,-0.123400315642357,-0.079656824469566,-0.039863888174295,-0.209971100091934,-0.124100409448147,-0.038602046668530,-0.037466272711754,-0.022282054647803));
res += mul(Get(s0,0,0), float4x4(0.270873993635178,-0.044878218322992,-0.126950770616531,0.465281575918198,-0.094196557998657,-0.407038062810898,0.482139974832535,0.055179417133331,0.001544489874505,0.127578675746918,-0.000654546078295,0.214457526803017,0.148684889078140,-0.276884973049164,-0.013854533433914,0.495821386575699));
res += mul(Get(s0,0,dy), float4x4(0.557448029518127,0.197607636451721,0.020523618906736,-0.373387604951859,0.067913293838501,0.036727868020535,0.235934123396873,-0.047600746154785,-0.151286154985428,0.126191496849060,0.334239035844803,-0.473635166883469,0.333113104104996,0.048832587897778,-0.161084368824959,-0.050109408795834));
res += mul(Get(s0,dx,-dy), float4x4(0.034161157906055,-0.014326856471598,-0.081276118755341,0.066158637404442,0.171137660741806,0.110358759760857,-0.065433941781521,0.092336632311344,-0.214449673891068,-0.066224217414856,0.049980290234089,-0.082783222198486,0.017627578228712,0.105017364025116,0.134009927511215,-0.031710408627987));
res += mul(Get(s0,dx,0), float4x4(-0.086004272103310,0.186851248145103,0.159334391355515,0.178343653678894,-0.021374436095357,0.103495486080647,0.057187151163816,-0.219606682658195,0.175944790244102,0.019452925771475,-0.012093119323254,0.017286157235503,-0.002206732053310,0.048772834241390,0.113432712852955,0.085168473422527));
res += mul(Get(s0,dx,dy), float4x4(0.135030373930931,0.089270621538162,0.018693748861551,-0.069846682250500,-0.118678651750088,-0.059222698211670,-0.055468179285526,-0.021203342825174,-0.480953484773636,0.011690396815538,-0.026879688724875,-0.116869933903217,0.045860216021538,0.042684588581324,0.150073066353798,0.169843465089798));
res += mul(Get(s1,-dx,-dy), float4x4(0.093757674098015,-0.071634799242020,-0.086393885314465,0.133949249982834,-0.146930769085884,-0.005202890839428,0.280852198600769,-0.142573580145836,-0.004011311568320,0.044301640242338,-0.042596891522408,0.041054248809814,0.168683350086212,-0.122314020991325,-0.126581341028214,-0.012867605313659));
res += mul(Get(s1,-dx,0), float4x4(-0.015547215007246,-0.257607549428940,-0.167664408683777,0.192063316702843,0.120917029678822,0.145066857337952,0.234682530164719,-0.039301134645939,-0.000354564253939,0.029017563909292,-0.049398086965084,0.047771863639355,-0.190450817346573,-0.481989920139313,-0.571624636650085,0.025602094829082));
res += mul(Get(s1,-dx,dy), float4x4(-0.066152177751064,0.032530672848225,-0.184422388672829,-0.114490263164043,0.039920493960381,0.019733214750886,0.121782340109348,0.040441572666168,0.105064511299133,0.004246528260410,-0.005429013166577,0.013845887035131,0.200739011168480,-0.034597929567099,-0.049403857439756,-0.081632845103741));
res += mul(Get(s1,0,-dy), float4x4(0.321829974651337,0.170384481549263,0.162503838539124,0.279706031084061,-0.241277351975441,0.010599682107568,0.034229595214128,-0.024644186720252,-0.049200251698494,0.047318890690804,-0.110437795519829,-0.029557205736637,0.098534949123859,0.097634457051754,0.130012124776840,0.086835704743862));
res += mul(Get(s1,0,0), float4x4(-0.253132045269012,0.221507519483566,0.526459634304047,-0.406148195266724,0.381051927804947,-0.131470516324043,0.118928097188473,0.202700138092041,-0.137251242995262,-0.084159888327122,-0.119581773877144,0.115483187139034,0.088773086667061,0.101202227175236,0.138187229633331,-0.068072907626629));
res += mul(Get(s1,0,dy), float4x4(0.138138800859451,-0.033363603055477,0.147016644477844,0.157108813524246,-0.552419066429138,0.049384586513042,0.067524224519730,-0.037588275969028,0.265874445438385,0.004441762808710,-0.042511720210314,0.003066194709390,-0.038889646530151,-0.138377889990807,0.183360949158669,-0.032838724553585));
res += mul(Get(s1,dx,-dy), float4x4(0.013224966824055,-0.041674662381411,-0.016441861167550,-0.095019072294235,-0.065523184835911,0.039705507457256,-0.022029379382730,0.021327583119273,-0.081632412970066,0.068426631391048,0.028667584061623,-0.270970612764359,0.103601202368736,-0.024398250505328,-0.074465863406658,-0.041263051331043));
res += mul(Get(s1,dx,0), float4x4(-0.073660016059875,-0.166715160012245,-0.236652523279190,-0.050552658736706,-0.091354720294476,0.074309527873993,0.077872343361378,0.013711419887841,-0.099462337791920,-0.133508518338203,-0.276597827672958,0.053540688008070,0.030523078516126,-0.040389098227024,-0.102654822170734,-0.066291436553001));
res += mul(Get(s1,dx,dy), float4x4(0.100102514028549,-0.075546406209469,-0.194399327039719,0.029805127531290,0.052459437400103,0.039595536887646,0.040005017071962,-0.027658794075251,0.069937378168106,0.030524695292115,-0.100271984934807,0.346702963113785,-0.028683355078101,-0.045080315321684,-0.064723357558250,-0.059949126094580));
res += mul(Get(s2,-dx,-dy), float4x4(0.017284782603383,-0.196576029062271,0.023973913863301,0.109769172966480,0.080621995031834,0.173750460147858,0.104632161557674,0.038375906646252,0.026364760473371,0.027533089742064,-0.127385318279266,0.081669457256794,0.025248466059566,0.024707496166229,-0.064748831093311,-0.038404267281294));
res += mul(Get(s2,-dx,0), float4x4(0.014519054442644,0.167291074991226,0.324920445680618,-0.243680402636528,-0.239519044756889,-0.126881599426270,0.378175914287567,-0.063503079116344,0.002208871999756,-0.211813554167747,-0.175731688737869,0.101755686104298,-0.027966393157840,0.062224693596363,0.171685397624969,-0.034181639552116));
res += mul(Get(s2,-dx,dy), float4x4(0.063697025179863,0.017539745196700,0.238743245601654,-0.023821385577321,-0.188080057501793,-0.046814002096653,0.085865199565887,0.038928456604481,-0.017228754237294,-0.026285048574209,-0.223970562219620,-0.106651164591312,-0.158163323998451,0.031309705227613,-0.040542691946030,0.027759017422795));
res += mul(Get(s2,0,-dy), float4x4(0.135423675179482,0.113685995340347,-0.035691570490599,0.256350100040436,-0.170992359519005,-0.128158211708069,0.005842621903867,-0.272240757942200,0.068337962031364,-0.001348178600892,0.088792651891708,-0.097186483442783,0.223212108016014,-0.043918352574110,-0.144063591957092,0.200282305479050));
res += mul(Get(s2,0,0), float4x4(-0.106655508279800,-0.369063913822174,-0.091913037002087,-0.062069658190012,0.051407750695944,0.436837106943130,0.380089551210403,0.323323696851730,0.022955307736993,0.340425610542297,0.617687821388245,-0.094293445348740,-0.217128783464432,0.034292038530111,-0.014571607112885,-0.105230778455734));
res += mul(Get(s2,0,dy), float4x4(0.114071078598499,0.047682385891676,-0.021711444482207,0.062141992151737,-0.141931027173996,0.059807684272528,-0.062468029558659,-0.168630257248878,0.083209149539471,-0.065674662590027,0.083704836666584,-0.029470710083842,-0.350365191698074,-0.066410362720490,-0.107359774410725,-0.136333867907524));
res += mul(Get(s2,dx,-dy), float4x4(0.067013964056969,0.108718208968639,-0.183945074677467,0.144387036561966,-0.093339756131172,-0.145266562700272,-0.103902071714401,-0.039732608944178,0.043277580291033,-0.060326863080263,0.207454979419708,-0.099822320044041,0.064245760440826,-0.009429754689336,-0.003420177847147,-0.083805046975613));
res += mul(Get(s2,dx,0), float4x4(-0.239938899874687,0.269012957811356,0.064261302351952,0.082237228751183,0.064703784883022,-0.272791355848312,-0.088355794548988,-0.168223708868027,0.062259763479233,-0.196530267596245,-0.197150051593781,-0.240487650036812,-0.007502237800509,-0.060114122927189,-0.284141808748245,-0.002552215475589));
res += mul(Get(s2,dx,dy), float4x4(0.283576369285583,0.099785394966602,0.008599950000644,-0.027566298842430,-0.081964761018753,0.008043839596212,0.044027473777533,0.044910527765751,-0.120450362563133,0.017420709133148,0.091501742601395,0.005042319186032,0.203840523958206,0.001397473621182,-0.098688229918480,0.017960056662560));
res = max(float4(0, 0, 0, 0), res) + float4(-0.014883687719703,0.984510719776154,0.028332497924566,0.629801273345947) * min(float4(0, 0, 0, 0), res);
return res;
}
