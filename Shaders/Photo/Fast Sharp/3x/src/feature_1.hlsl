sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.078826270997524,0.205852672457695,-0.069980442523956,0.070182226598263);
res += float4(0.014703003689647,-0.020045192912221,0.010028300806880,-0.057250510901213) * Get(-ddx,-ddy);
res += float4(0.061914142221212,0.051051698625088,-0.033520534634590,0.084715835750103) * Get(-ddx,-dy);
res += float4(-0.026172170415521,-0.057838000357151,0.210970476269722,-0.249496370553970) * Get(-ddx,0);
res += float4(-0.049913797527552,0.060377441346645,-0.170756727457047,-0.034216430038214) * Get(-ddx,dy);
res += float4(0.033369276672602,-0.011299653910100,0.060946084558964,-1.358767509460449) * Get(-ddx,ddy);
res += float4(-0.016712188720703,0.107138030230999,-0.025707777589560,0.042311593890190) * Get(-dx,-ddy);
res += float4(0.093354590237141,-0.176302313804626,-0.070424631237984,0.000079421282862) * Get(-dx,-dy);
res += float4(0.245972245931625,0.288502842187881,-0.144437029957771,0.025268182158470) * Get(-dx,0);
res += float4(0.379891663789749,-0.064669102430344,0.244317531585693,0.588843584060669) * Get(-dx,dy);
res += float4(0.038987405598164,-0.016125433146954,0.018929814919829,-0.158712789416313) * Get(-dx,ddy);
res += float4(0.018147582188249,-0.078824900090694,0.186171665787697,-0.022860856726766) * Get(0,-ddy);
res += float4(0.051103115081787,-1.499629020690918,-0.169106602668762,0.088400423526764) * Get(0,-dy);
res += float4(-0.469199657440186,-0.020128387957811,0.988143682479858,-0.083630070090294) * Get(0,0);
res += float4(-0.327107131481171,0.087347194552422,-0.714859783649445,0.073713272809982) * Get(0,dy);
res += float4(-0.160719990730286,0.053285628557205,0.116846039891243,-0.164523884654045) * Get(0,ddy);
res += float4(-0.026558790355921,0.048389110714197,-0.087366230785847,-0.029930928722024) * Get(dx,-ddy);
res += float4(0.263861447572708,-0.181032776832581,0.244036063551903,-0.015319542959332) * Get(dx,-dy);
res += float4(-0.219350621104240,0.206729769706726,-0.660510957241058,-0.002719580195844) * Get(dx,0);
res += float4(-0.029776366427541,-0.010349479503930,0.083873771131039,-0.102092437446117) * Get(dx,dy);
res += float4(0.095343746244907,0.032070156186819,-0.043585084378719,-0.005807059351355) * Get(dx,ddy);
res += float4(0.036029912531376,-0.024214580655098,-0.047539733350277,-0.003341448958963) * Get(ddx,-ddy);
res += float4(0.037262842059135,0.082217127084732,-0.019213192164898,-0.001085798838176) * Get(ddx,-dy);
res += float4(-0.104088604450226,0.033784147351980,0.193867638707161,-0.023225182667375) * Get(ddx,0);
res += float4(0.014310213737190,-0.012378872372210,-0.038635630160570,0.071421697735786) * Get(ddx,dy);
res += float4(-0.015386707149446,-0.011859565973282,-0.066702410578728,-0.033227067440748) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.062005188316107,-0.020599853247404,1.239066720008850,0.024003416299820) * min(float4(0, 0, 0, 0), res);
return res;
}
