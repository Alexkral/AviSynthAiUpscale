sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.236342251300812,-0.062531374394894,0.013856926001608,-0.252082884311676);
res += mul(Get(s0,-dx,-dy), float4x4(0.105273120105267,-0.008587915450335,-0.038268581032753,0.027623398229480,0.001506728469394,-0.122055910527706,-0.130217313766479,-0.168241992592812,0.028097648173571,-0.120551288127899,-0.144707381725311,-0.325316071510315,0.053062941879034,0.086084634065628,0.085026428103447,-0.038215082138777));
res += mul(Get(s0,-dx,0), float4x4(0.094619907438755,0.071933217346668,0.003087280318141,0.062399756163359,-0.194704532623291,-0.427732855081558,-0.084610261023045,0.114634945988655,-0.194342851638794,-0.196917936205864,0.244334757328033,-0.180801093578339,0.111685179173946,-0.169114381074905,-0.027106024324894,-0.032852426171303));
res += mul(Get(s0,-dx,dy), float4x4(-0.121956653892994,0.038632411509752,-0.059004373848438,-0.140039861202240,-0.429314732551575,-0.197315841913223,0.082289509475231,0.098688170313835,0.376283705234528,-0.032908905297518,-0.126451343297958,0.030122086405754,0.020955625921488,0.007361881434917,0.099474638700485,0.134334221482277));
res += mul(Get(s0,0,-dy), float4x4(0.218841522932053,-0.170351222157478,-0.104027837514877,0.042083598673344,-0.267766624689102,-0.257408529520035,0.189402177929878,0.089195586740971,-0.356773793697357,0.004858181346208,0.095212429761887,-0.035064853727818,-0.056408327072859,0.323704421520233,-0.285451084375381,-0.108217224478722));
res += mul(Get(s0,0,0), float4x4(0.223065435886383,-0.067962959408760,-0.060411881655455,-0.098783515393734,-0.045643165707588,-0.164126589894295,-0.033724285662174,0.193843007087708,0.744074046611786,0.112391449511051,-0.711336553096771,0.402351588010788,-0.070457071065903,-0.250387907028198,-0.084585048258305,0.058876499533653));
res += mul(Get(s0,0,dy), float4x4(0.274810612201691,0.130065396428108,-0.294592648744583,-0.094771616160870,-0.453115195035934,0.259176433086395,0.161091178655624,0.045131068676710,-0.176033243536949,-0.138970330357552,0.006618791259825,-0.174416914582253,0.017950894311070,0.081568293273449,-0.142114594578743,-0.240050017833710));
res += mul(Get(s0,dx,-dy), float4x4(0.153319031000137,-0.477970629930496,-0.102968491613865,-0.015247127041221,-0.098678208887577,-0.213473796844482,-0.030149623751640,-0.018299208953977,-0.194282233715057,0.402789920568466,0.189579352736473,0.009935444220901,-0.015542558394372,-0.202667325735092,-0.689617753028870,0.110980778932571));
res += mul(Get(s0,dx,0), float4x4(-0.318712204694748,-0.112795360386372,-0.020743692293763,0.008284064009786,-0.053078349679708,-0.122439123690128,-0.189389526844025,0.030650509521365,-0.000371703092242,-0.591207444667816,0.347104728221893,0.208418980240822,-0.336798042058945,0.161744385957718,0.200320824980736,0.001865127123892));
res += mul(Get(s0,dx,dy), float4x4(0.220722764730453,0.355188459157944,-0.025435140356421,-0.142058312892914,-0.469049841165543,0.667624175548553,-0.186137244105339,-0.038038127124310,-0.037951856851578,0.254972368478775,-0.013641229830682,-0.029004581272602,0.061366368085146,0.107012487947941,-0.096020348370075,-0.052358604967594));
res += mul(Get(s1,-dx,-dy), float4x4(-0.119924105703831,0.026083100587130,-0.234547555446625,-0.098238244652748,0.195245653390884,-0.006717821583152,-0.234737977385521,0.203926846385002,0.222612991929054,0.003690800163895,-0.303304940462112,-0.297365933656693,0.119555667042732,0.037961792200804,-0.236608117818832,-0.104946605861187));
res += mul(Get(s1,-dx,0), float4x4(-0.026424935087562,-0.018059231340885,0.063358761370182,-0.039563328027725,-0.297063767910004,0.096162259578705,0.178749054670334,0.351175248622894,0.119981892406940,-0.034384712576866,0.035283435136080,0.360455572605133,-0.111770115792751,0.194380044937134,-0.171659782528877,-0.152277156710625));
res += mul(Get(s1,-dx,dy), float4x4(0.147384583950043,-0.030753012746572,0.271397083997726,0.416317194700241,-0.126265570521355,-0.004248857032508,-0.020371234044433,-0.268643766641617,0.067351885139942,0.171501681208611,-0.014575986191630,0.010542071424425,-0.006582371890545,0.106883548200130,0.014381369575858,-0.143600255250931));
res += mul(Get(s1,0,-dy), float4x4(0.043278057128191,-0.151596024632454,0.016809772700071,-0.157396107912064,-0.047296848148108,-0.207278266549110,0.174995973706245,-0.069312401115894,0.089168280363083,-0.117079555988312,-0.041414894163609,0.257619082927704,-0.111502699553967,-0.780123233795166,-0.397749453783035,0.626779854297638));
res += mul(Get(s1,0,0), float4x4(-0.273377299308777,0.258554309606552,-0.157980024814606,-0.228389263153076,0.011371439322829,-0.575522184371948,-0.044256933033466,0.111868262290955,-0.029550151899457,-0.046814192086458,-0.446275115013123,0.589698493480682,0.001521953847259,0.151680961251259,-0.194820150732994,-0.099120847880840));
res += mul(Get(s1,0,dy), float4x4(0.329017877578735,-0.152245372533798,-0.221011281013489,0.286839962005615,-0.313295274972916,0.123896799981594,-0.122333474457264,-0.060185741633177,-0.331811875104904,0.010910389013588,0.242420852184296,0.294684827327728,-0.254991590976715,0.114289492368698,0.078370451927185,0.078805536031723));
res += mul(Get(s1,dx,-dy), float4x4(0.034947708249092,0.032664768397808,0.137055575847626,-0.045348908752203,-0.004430353641510,0.082379728555679,-0.050299413502216,0.076341323554516,0.382713526487350,0.022731920704246,-0.222078487277031,-0.358912050724030,-0.102273441851139,-0.100110962986946,-0.202605903148651,0.029809892177582));
res += mul(Get(s1,dx,0), float4x4(-0.196297764778137,0.358192563056946,0.336994409561157,0.018024945631623,0.131485760211945,0.149358212947845,0.346238464117050,-0.224838972091675,-0.084756866097450,-0.582094192504883,0.419350177049637,-0.637102186679840,-0.015968084335327,-0.239760115742683,-0.010702793486416,-0.068512901663780));
res += mul(Get(s1,dx,dy), float4x4(0.327935010194778,-0.504646062850952,0.301584243774414,-0.342371672391891,0.205065250396729,0.353654563426971,0.020504113286734,-0.030604157596827,0.027352495118976,0.047250539064407,0.014415061101317,-0.147486209869385,-0.040729597210884,0.574805021286011,0.092825539410114,0.019630962982774));
res += mul(Get(s2,-dx,-dy), float4x4(0.091021575033665,0.093710400164127,0.222484871745110,-0.038479272276163,0.190650075674057,-0.334921121597290,-0.248740702867508,-0.139120161533356,-0.123936168849468,0.074031837284565,0.042505461722612,-0.084503300487995,0.264204412698746,0.287842690944672,-0.047139592468739,-0.043159600347281));
res += mul(Get(s2,-dx,0), float4x4(0.105714097619057,0.027772469446063,-0.046106968075037,-0.158350095152855,-0.198546409606934,0.091168031096458,-0.147630438208580,0.048695676028728,0.063397370278835,-0.034020461142063,0.325331777334213,-0.190720334649086,0.235589131712914,0.232201382517815,0.608721792697906,-0.130542963743210));
res += mul(Get(s2,-dx,dy), float4x4(-0.227431222796440,-0.025961343199015,0.091942735016346,-0.119095697999001,0.066829591989517,0.189838767051697,-0.036332394927740,-0.093576155602932,0.272819817066193,-0.034371849149466,-0.111005552113056,0.184323728084564,0.082799702882767,0.146045655012131,0.374612867832184,-0.130525276064873));
res += mul(Get(s2,0,-dy), float4x4(0.104938901960850,-0.046016559004784,-0.103447437286377,-0.184152618050575,-0.069342821836472,0.201635181903839,-0.191226840019226,0.622268855571747,-0.155739948153496,0.024886939674616,-0.037629503756762,0.168869569897652,0.288096845149994,0.324667036533356,-0.021896796301007,-0.039610415697098));
res += mul(Get(s2,0,0), float4x4(0.210270285606384,-0.340253442525864,-0.205099523067474,-0.496623635292053,0.214457213878632,-0.210398793220520,0.126109495759010,0.423870682716370,-0.370050102472305,0.468129128217697,0.370938271284103,0.392521083354950,-0.002322079148144,0.426110982894897,0.048189848661423,0.087046399712563));
res += mul(Get(s2,0,dy), float4x4(0.580787420272827,-0.095064572989941,-0.356736391782761,-0.096938222646713,0.430735170841217,0.036524109542370,0.123848892748356,-0.012586924247444,0.043274600058794,-0.026329427957535,0.114300735294819,-0.351672768592834,-0.105621583759785,0.586807847023010,-0.092605337500572,-0.078024327754974));
res += mul(Get(s2,dx,-dy), float4x4(0.008911541663110,0.202298507094383,-0.034936171025038,-0.171969085931778,0.053513046354055,0.072592087090015,0.116731017827988,-0.287439167499542,0.096600882709026,-0.115605473518372,0.070843361318111,-0.209468737244606,0.201825097203255,0.037531249225140,-0.145700320601463,0.094604380428791));
res += mul(Get(s2,dx,0), float4x4(0.190439030528069,0.572688102722168,-0.027710394933820,-0.222495555877686,-0.097059667110443,0.043073497712612,0.126690402626991,0.020036332309246,0.209809422492981,-0.149225905537605,-0.047331664711237,0.110301658511162,-0.061055965721607,0.115364767611027,0.020181490108371,0.033986490219831));
res += mul(Get(s2,dx,dy), float4x4(0.319343596696854,-0.177207618951797,-0.229226723313332,0.099108599126339,0.163479074835777,-0.200690582394600,-0.058819882571697,-0.152826607227325,-0.037996120750904,-0.000568189134356,-0.118794038891792,0.003410268109292,0.067659355700016,0.167736783623695,-0.059552174061537,-0.029005305841565));
res = max(float4(0, 0, 0, 0), res) + float4(-0.056800708174706,-0.026455227285624,1.024211287498474,0.933988928794861) * min(float4(0, 0, 0, 0), res);
return res;
}
