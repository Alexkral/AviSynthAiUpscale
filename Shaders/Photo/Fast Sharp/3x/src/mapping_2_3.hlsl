sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.296511501073837,-0.107781969010830,-0.051288090646267,0.107230372726917);
res += mul(Get(s0,-dx,-dy), float4x4(-0.094969630241394,-0.254010796546936,0.048685535788536,-0.081157192587852,0.533465921878815,0.427872151136398,0.160512745380402,-0.100223764777184,-0.305020511150360,-0.006482058204710,-0.044598735868931,0.028616486117244,0.021642129868269,-0.223378747701645,0.120170861482620,-0.126442953944206));
res += mul(Get(s0,-dx,0), float4x4(0.139738738536835,0.470363408327103,-0.015705920755863,0.017416864633560,0.635423123836517,-0.432646423578262,-0.224276155233383,0.102871097624302,0.039442036300898,0.218967124819756,0.146174415946007,-0.116757631301880,-0.100298270583153,-0.040600929409266,-0.004563937429339,-0.124584831297398));
res += mul(Get(s0,-dx,dy), float4x4(-0.043398465961218,-0.208685532212257,0.081714376807213,-0.032870367169380,-0.001514813862741,0.029725098982453,-0.313153028488159,0.287331908941269,0.001449159928598,-0.037285439670086,0.283818960189819,0.082013025879860,0.040613137185574,0.182039767503738,-0.283529520034790,0.016693970188498));
res += mul(Get(s0,0,-dy), float4x4(-0.078400403261185,-0.403971940279007,-0.632921516895294,0.295869678258896,0.144626230001450,0.026831969618797,0.310281693935394,-0.122280478477478,0.382437348365784,-0.032132253050804,0.140866056084633,-0.326957494020462,-0.010920422151685,-0.054136402904987,-0.166827321052551,0.047334026545286));
res += mul(Get(s0,0,0), float4x4(-0.041878178715706,0.371768385171890,-0.295061498880386,-0.127128094434738,-0.120405375957489,-0.058480810374022,-0.378506660461426,0.000985435442999,0.102168820798397,-0.198358491063118,-0.295206218957901,0.344279378652573,0.316919028759003,-0.174400061368942,0.139375194907188,-0.448687285184860));
res += mul(Get(s0,0,dy), float4x4(-0.063325800001621,-0.387885212898254,0.347878158092499,-0.052547782659531,-0.004392825067043,0.164269432425499,-0.218798950314522,-0.104219034314156,-0.067708648741245,-0.126125231385231,-0.122361503541470,0.058313496410847,-0.024361276999116,-0.248353555798531,0.189183294773102,-0.301784604787827));
res += mul(Get(s0,dx,-dy), float4x4(0.009656642563641,0.200209885835648,-0.281239867210388,-0.294598788022995,0.212703451514244,0.118738822638988,-0.086149320006371,0.039470784366131,-0.006969693116844,-0.060025621205568,0.092794485390186,0.241571694612503,-0.012179111130536,-0.046227473765612,-0.125919818878174,0.259565770626068));
res += mul(Get(s0,dx,0), float4x4(-0.045793920755386,-0.055472623556852,-0.218523755669594,-0.075819641351700,0.008884080685675,-0.064631037414074,0.002866083523259,0.013521889224648,0.098102383315563,-0.015515014529228,-0.194526627659798,-0.224611446261406,-0.078585289418697,0.111057117581367,0.517703056335449,0.336439341306686));
res += mul(Get(s0,dx,dy), float4x4(0.064340651035309,-0.161478474736214,0.262949705123901,0.022885398939252,0.017989192157984,0.002322106389329,-0.113960191607475,-0.066248342394829,0.050583850592375,0.122690983116627,-0.296983748674393,-0.118865378201008,0.032137546688318,-0.024685898795724,0.594190597534180,0.199485868215561));
res += mul(Get(s1,-dx,-dy), float4x4(0.516708254814148,0.124340660870075,0.216005429625511,-0.037772223353386,-0.153575867414474,-0.112854473292828,-0.171050995588303,0.003201471408829,-0.774679481983185,-0.163862198591232,-0.058942086994648,-0.015353666618466,-0.040301386266947,0.293639481067657,0.328279078006744,-0.192192852497101));
res += mul(Get(s1,-dx,0), float4x4(0.596002995967865,-0.309830576181412,-0.061781585216522,0.012828521430492,-0.180312409996986,-0.179997488856316,-0.208243012428284,-0.230371236801147,-0.508975446224213,0.141243413090706,0.045476876199245,-0.080586679279804,0.191270276904106,0.276081144809723,0.248501285910606,-0.144158437848091));
res += mul(Get(s1,-dx,dy), float4x4(0.201795980334282,0.026211719959974,0.135522931814194,-0.164241075515747,0.029101066291332,0.070413686335087,-0.086349606513977,-0.126787394285202,-0.156435534358025,0.101472921669483,-0.102864928543568,-0.021686727181077,-0.048599343746901,0.184924289584160,0.180799424648285,0.055985074490309));
res += mul(Get(s1,0,-dy), float4x4(0.127185478806496,0.221247702836990,0.162831917405128,-0.140240684151649,0.344922989606857,-0.002550730016083,-0.073707692325115,-0.043619684875011,-0.419547647237778,0.077362835407257,-0.029229413717985,0.056906826794147,-0.080785118043423,-0.343563407659531,-0.108334362506866,0.024125702679157));
res += mul(Get(s1,0,0), float4x4(0.201031997799873,0.209715276956558,-0.137418925762177,0.011133156716824,-0.217793688178062,-0.261959761381149,0.053272154182196,-0.045917671173811,-0.593312740325928,-0.039514135569334,0.156464517116547,-0.177140191197395,0.288747966289520,0.087411567568779,-0.223852917551994,0.235281258821487));
res += mul(Get(s1,0,dy), float4x4(0.032280500978231,-0.131928741931915,0.339364618062973,0.013948826119304,0.058547236025333,0.333842635154724,-0.016512101516128,-0.001431424752809,-0.168658062815666,-0.058880466967821,0.077680058777332,-0.022096714004874,-0.015354908071458,0.183151468634605,0.162190526723862,0.035633292049170));
res += mul(Get(s1,dx,-dy), float4x4(0.050998937338591,-0.128629937767982,0.224941119551659,-0.020547794178128,-0.024508377537131,-0.007722402922809,0.117678321897984,0.092645272612572,-0.258128464221954,0.040274821221828,-0.016269123181701,-0.136568203568459,0.042750649154186,0.046263232827187,-0.305875778198242,0.291425704956055));
res += mul(Get(s1,dx,0), float4x4(0.147321298718452,-0.282074689865112,0.196592018008232,0.001811616239138,-0.173437178134918,0.155575677752495,0.089240342378616,0.145240336656570,-0.155155315995216,0.107037842273712,-0.163953840732574,-0.094802930951118,0.212292835116386,0.065304346382618,-0.409065604209900,0.311359852552414));
res += mul(Get(s1,dx,dy), float4x4(0.142568424344063,-0.150611042976379,0.163811653852463,-0.027745265513659,-0.028563950210810,0.006114686839283,0.048559721559286,0.124393746256828,-0.109336115419865,-0.018730882555246,-0.074022553861141,-0.101834192872047,0.047264162451029,0.106314264237881,0.116077400743961,0.101532071828842));
res += mul(Get(s2,-dx,-dy), float4x4(0.035222914069891,-0.063929192721844,-0.044472612440586,0.006526654586196,0.186086311936378,0.194012567400932,-0.005649093538523,0.145325839519501,0.306853860616684,-0.139200419187546,-0.094416163861752,-0.112339533865452,0.097017273306847,0.308827579021454,-0.127316012978554,0.202290982007980));
res += mul(Get(s2,-dx,0), float4x4(-0.299235045909882,-0.219750285148621,-0.000972695765086,0.019607266411185,0.279399305582047,-0.243048921227455,-0.039891328662634,-0.004977980628610,-0.085910744965076,-0.071919187903404,-0.060211043804884,-0.210694506764412,0.103420056402683,-0.081774622201920,-0.253411233425140,0.035089887678623));
res += mul(Get(s2,-dx,dy), float4x4(0.009973043575883,-0.092214576900005,0.104561239480972,0.087892375886440,-0.308140814304352,0.056077662855387,-0.089624091982841,0.059432718902826,-0.000683873426169,0.394349336624146,0.088694609701633,-0.146628379821777,-0.064467236399651,0.123874299228191,-0.129320934414864,0.088733911514282));
res += mul(Get(s2,0,-dy), float4x4(-0.137529343366623,0.005892449058592,0.008062226697803,-0.009146142750978,0.275942444801331,0.036935418844223,-0.068604215979576,0.097831793129444,0.090660363435745,-0.131534039974213,-0.088626064360142,0.074086777865887,0.068904764950275,0.336069971323013,-0.069919019937515,-0.085619360208511));
res += mul(Get(s2,0,0), float4x4(-0.571081042289734,0.251523792743683,-0.039895545691252,0.040905315428972,-0.282477706670761,-0.357639968395233,0.102134749293327,0.186249777674675,0.008316342718899,0.101630143821239,0.088807485997677,0.512572467327118,0.109399013221264,-0.473900407552719,0.238992765545845,0.012896509841084));
res += mul(Get(s2,0,dy), float4x4(-0.294507980346680,0.211205855011940,0.214436411857605,-0.042539849877357,-0.081272274255753,0.365067660808563,-0.033621910959482,0.171752244234085,-0.092398539185524,0.088754698634148,0.060925628989935,0.169685795903206,0.341382056474686,-0.077405869960785,0.295416176319122,-0.126801103353500));
res += mul(Get(s2,dx,-dy), float4x4(0.056870684027672,-0.075443014502525,0.018551884219050,0.016454765573144,-0.469163417816162,0.186971843242645,-0.069606095552444,0.033863961696625,-0.026222534477711,0.134109824895859,-0.015332558192313,-0.072350017726421,-0.001364066265523,0.099615387618542,-0.341396391391754,-0.189858347177505));
res += mul(Get(s2,dx,0), float4x4(-0.036644652485847,-0.264394223690033,0.028094798326492,-0.071244627237320,-0.061521518975496,0.214139506220818,0.216894432902336,0.183173537254333,-0.081418149173260,0.222014009952545,-0.028212010860443,-0.153657183051109,0.013384361751378,-0.010493085719645,0.002354439347982,-0.283778786659241));
res += mul(Get(s2,dx,dy), float4x4(0.088562808930874,-0.000071023197961,0.159681379795074,-0.056478466838598,0.270860642194748,0.325236529111862,0.080550998449326,-0.009366912767291,-0.070948235690594,0.057010613381863,0.276409655809402,-0.010794683359563,0.176842778921127,-0.036811929196119,-0.014935707673430,-0.049041606485844));
res = max(float4(0, 0, 0, 0), res) + float4(-0.012589212507010,0.614138841629028,-0.649945318698883,-0.320386826992035) * min(float4(0, 0, 0, 0), res);
return res;
}
