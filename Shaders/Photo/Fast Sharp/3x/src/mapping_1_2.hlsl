sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.211036413908005,0.178255885839462,-0.047822728753090,-0.181797608733177);
res += mul(Get(s0,-dx,-dy), float4x4(0.065099567174911,-0.173014402389526,-0.104947820305824,0.006943108513951,-0.101818546652794,0.004476746544242,-0.031977165490389,-0.071746826171875,-0.011443246155977,-0.047701191157103,-0.044785764068365,-0.021601779386401,-0.020215030759573,-0.008179457858205,-0.012186433188617,0.019704487174749));
res += mul(Get(s0,-dx,0), float4x4(-0.026535062119365,0.053828511387110,0.179689601063728,0.013253011740744,0.089769206941128,-0.264174461364746,-0.038931846618652,-0.094261623919010,-0.134045273065567,0.100126087665558,-0.086755745112896,0.027372647076845,0.074237681925297,-0.077181331813335,0.087595410645008,0.146364137530327));
res += mul(Get(s0,-dx,dy), float4x4(0.033910874277353,-0.079604849219322,-0.188746124505997,0.007505807559937,-0.034583598375320,-0.213953241705894,-0.266014456748962,-0.019069455564022,-0.011974293738604,-0.040381684899330,0.216869503259659,-0.055951591581106,-0.047552812844515,0.044680219143629,-0.009634714573622,-0.092376746237278));
res += mul(Get(s0,0,-dy), float4x4(0.026454238221049,-0.017288863658905,-0.049148928374052,0.053892306983471,0.219758898019791,-0.113106690347195,0.135675847530365,-0.237211987376213,0.098274089396000,0.500516355037689,0.089604854583740,0.297288864850998,0.083663903176785,-0.050395313650370,0.057581458240747,0.082129731774330));
res += mul(Get(s0,0,0), float4x4(0.130791515111923,-0.230189234018326,0.162127390503883,-0.244797542691231,-0.207113489508629,-0.019062353298068,-0.141628131270409,-0.201635569334030,0.509412169456482,-0.607204616069794,-0.275906205177307,-0.216773942112923,0.098520420491695,-0.117402769625187,0.060666669160128,0.093146942555904));
res += mul(Get(s0,0,dy), float4x4(-0.123660162091255,-0.147141873836517,0.255335748195648,-0.064106643199921,-0.329069286584854,0.484895884990692,0.397176921367645,-0.068237803876400,-0.231905639171600,0.425026834011078,-0.172118306159973,-0.561533331871033,-0.058037579059601,0.094594001770020,0.074550017714500,-0.053326308727264));
res += mul(Get(s0,dx,-dy), float4x4(-0.023954158648849,-0.111204899847507,-0.428020179271698,0.344654113054276,-0.172506541013718,-0.016947256401181,0.061800178140402,-0.114474572241306,0.387017846107483,0.015518728643656,0.029004871845245,0.054295461624861,-0.099276758730412,-0.258729875087738,-0.291697561740875,-0.047861043363810));
res += mul(Get(s0,dx,0), float4x4(0.174144655466080,-0.093445397913456,-0.442252725362778,-0.077629983425140,0.088741235435009,0.027433836832643,0.272724390029907,-0.182521298527718,-0.412370473146439,0.105858623981476,0.316638886928558,-0.025655521079898,-0.095820993185043,-0.221095576882362,0.128213614225388,-0.187235474586487));
res += mul(Get(s0,dx,dy), float4x4(0.128054872155190,-0.178454414010048,0.046712379902601,0.153123468160629,0.313716024160385,-0.079274103045464,-0.101321399211884,-0.241036146879196,0.101261787116528,0.093318983912468,-0.127649754285812,0.219149529933929,0.160085365176201,0.133349031209946,-0.211221501231194,0.025360003113747));
res += mul(Get(s1,-dx,-dy), float4x4(0.043370686471462,0.003974437713623,-0.095297724008560,0.021008078008890,0.068105809390545,-0.031431615352631,-0.116864271461964,0.117026127874851,0.081532813608646,0.196348056197166,0.136191710829735,0.297513961791992,0.224687561392784,-0.026227848604321,-0.017784563824534,0.340598911046982));
res += mul(Get(s1,-dx,0), float4x4(-0.057445004582405,0.043001323938370,-0.091222822666168,-0.032077368348837,-0.113413266837597,0.077744908630848,-0.085825040936470,-0.092787675559521,0.085357010364532,-0.288072288036346,-0.375348150730133,-0.101220145821571,0.021805845201015,0.061617136001587,-0.022129073739052,-0.091066502034664));
res += mul(Get(s1,-dx,dy), float4x4(0.055803772062063,-0.049262475222349,0.145046904683113,-0.080416612327099,-0.047437243163586,-0.102400615811348,-0.046287182718515,-0.080630421638489,0.095763638615608,-0.010605677962303,0.238454565405846,-0.097547627985477,-0.031638339161873,0.023481557145715,-0.057713631540537,0.065032802522182));
res += mul(Get(s1,0,-dy), float4x4(-0.084172636270523,-0.270842581987381,-0.089200675487518,-0.266649127006531,0.003062496660277,0.246530085802078,0.431024074554443,0.204969972372055,0.129759788513184,0.373380482196808,0.183528348803520,0.270139664411545,0.012352275662124,0.294577211141586,-0.013847692869604,0.069934375584126));
res += mul(Get(s1,0,0), float4x4(-0.043666463345289,0.707548677921295,0.173102781176567,0.143602132797241,-0.411643087863922,-0.477163940668106,0.210736468434334,0.064127713441849,0.097462080419064,-0.230826914310455,-0.253829061985016,-0.041242673993111,0.179142236709595,0.057704217731953,-0.120986208319664,-0.058487419039011));
res += mul(Get(s1,0,dy), float4x4(0.071448184549809,-0.644526660442352,0.180512189865112,0.065697543323040,0.155020117759705,0.463277578353882,-0.138088524341583,-0.196123063564301,0.266738682985306,-0.068704351782799,-0.262287378311157,-0.442045718431473,-0.143512547016144,-0.164626151323318,-0.039927180856466,-0.068517550826073));
res += mul(Get(s1,dx,-dy), float4x4(-0.231824681162834,0.032709591090679,-0.185157775878906,0.000980271957815,0.131254911422729,-0.148969888687134,-0.347144603729248,0.036803081631660,0.109825119376183,-0.074800312519073,-0.222787857055664,0.316121190786362,-0.032898761332035,0.065335541963577,-0.066702693700790,0.052051242440939));
res += mul(Get(s1,dx,0), float4x4(0.233691215515137,-0.008579701185226,-0.152351066470146,-0.143403455615044,0.016798008233309,0.162834748625755,0.138051137328148,0.119035325944424,-0.447559118270874,0.016769908368587,0.604256689548492,-0.008025674149394,0.610006868839264,-0.066581629216671,0.089273065328598,-0.276573598384857));
res += mul(Get(s1,dx,dy), float4x4(-0.347379118204117,0.032727543264627,0.169906198978424,0.237148001790047,0.277125775814056,0.113400511443615,-0.071197979152203,0.239866986870766,-0.328746795654297,-0.235158741474152,0.168428137898445,0.411602973937988,-0.129926338791847,-0.081509843468666,0.059272702783346,-0.098512381315231));
res += mul(Get(s2,-dx,-dy), float4x4(0.013579941354692,-0.085210509598255,0.115816637873650,-0.087170369923115,0.113899096846581,0.018920306116343,0.091067239642143,0.068675093352795,-0.008372832089663,0.067968674004078,-0.322261184453964,-0.065517388284206,0.001293169683777,0.015275340527296,-0.176489800214767,0.222558677196503));
res += mul(Get(s2,-dx,0), float4x4(-0.051571685820818,-0.087207868695259,-0.078754134476185,-0.413962125778198,0.072709165513515,-0.009209092706442,-0.084069646894932,0.082680203020573,-0.058366350829601,0.074408292770386,0.145374670624733,0.013841546140611,-0.018161302432418,0.081844985485077,0.021015424281359,0.160157263278961));
res += mul(Get(s2,-dx,dy), float4x4(-0.160790383815765,0.031492765992880,-0.218555465340614,-0.190821170806885,-0.010800446383655,-0.004536290187389,0.021782716736197,0.035594392567873,-0.099554374814034,-0.223554432392120,0.294347643852234,0.240771934390068,-0.069972746074200,0.506558299064636,0.033406469970942,0.127968028187752));
res += mul(Get(s2,0,-dy), float4x4(0.003166287206113,0.147238507866859,-0.027892654761672,0.011899366974831,-0.152275010943413,0.337533533573151,-0.175804987549782,0.019283693283796,0.006560608744621,0.046245273202658,0.170045688748360,-0.183900818228722,-0.000779258029070,-0.409343957901001,-0.055008970201015,0.178301215171814));
res += mul(Get(s2,0,0), float4x4(-0.152243465185165,0.249399900436401,0.452902913093567,0.499021232128143,-0.140259787440300,0.112848632037640,0.277736604213715,0.345147460699081,0.400977700948715,-0.105419196188450,-0.493745356798172,-0.428220599889755,0.145762786269188,-0.465223938226700,-0.232844784855843,-0.191774740815163));
res += mul(Get(s2,0,dy), float4x4(-0.188878193497658,-0.240812525153160,0.133133664727211,0.995403110980988,-0.121337659657001,0.097358703613281,-0.154181346297264,0.287328571081161,-0.046041283756495,0.118889398872852,0.406863123178482,0.113678358495235,0.296446025371552,0.505515396595001,-0.081103816628456,-0.151332736015320));
res += mul(Get(s2,dx,-dy), float4x4(0.106178298592567,0.205580547451973,-0.236504450440407,0.268581986427307,0.156313046813011,-0.353333979845047,0.288415849208832,-0.027784334495664,-0.427636414766312,0.018871022388339,0.193111166357994,0.047876648604870,-0.261528611183167,0.014262236654758,-0.093600086867809,0.082533888518810));
res += mul(Get(s2,dx,0), float4x4(0.436508506536484,-0.072161152958870,-0.190090253949165,-0.190120935440063,0.517924427986145,-0.174518078565598,0.143117114901543,-0.001462909742258,0.052306964993477,-0.022425109520555,-0.179101020097733,0.121061570942402,-0.094356954097748,0.076182991266251,-0.039926435798407,-0.029617985710502));
res += mul(Get(s2,dx,dy), float4x4(0.179745629429817,-0.024461543187499,0.156973659992218,0.002810042817146,-0.108024351298809,-0.041885968297720,-0.093794167041779,-0.046271622180939,0.203769087791443,-0.043205022811890,-0.362906396389008,-0.086333990097046,0.375749051570892,0.013491640798748,-0.307433038949966,-0.288952440023422));
res = max(float4(0, 0, 0, 0), res) + float4(-0.106304898858070,0.631082713603973,-0.778432071208954,-0.060236372053623) * min(float4(0, 0, 0, 0), res);
return res;
}
