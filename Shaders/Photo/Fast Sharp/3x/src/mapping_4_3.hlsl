sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.225672781467438,-0.300163030624390,-0.396252512931824,-0.262797027826309);
res += mul(Get(s0,-dx,-dy), float4x4(0.024094356223941,0.044324122369289,0.130802422761917,-0.110334001481533,-0.212398320436478,-0.254076331853867,0.052192185074091,-0.133344039320946,0.124098412692547,0.003675144165754,0.051156580448151,-0.096589326858521,-0.032679006457329,-0.024573061615229,-0.036935795098543,-0.027147511020303));
res += mul(Get(s0,-dx,0), float4x4(0.001233694842085,0.260168462991714,-0.011107275262475,0.183693751692772,0.146195098757744,-0.007131573744118,-0.001803539926186,-0.070496127009392,0.164004415273666,0.052033461630344,-0.087493561208248,-0.088907584547997,-0.308893769979477,-0.251235753297806,-0.224031299352646,-0.012589284218848));
res += mul(Get(s0,-dx,dy), float4x4(0.018669400364161,-0.097991913557053,-0.031177401542664,-0.080838233232498,0.072640009224415,0.083333030343056,0.017485737800598,-0.055007848888636,0.091185420751572,0.167544230818748,0.003088680095971,0.061151351779699,-0.027276989072561,0.255967676639557,-0.209820643067360,0.007504584267735));
res += mul(Get(s0,0,-dy), float4x4(-0.094385311007500,-0.397068977355957,-0.125813603401184,-0.010839691385627,0.328629851341248,0.183951675891876,0.292634874582291,0.137734264135361,-0.059264715760946,-0.088845744729042,-0.131597459316254,-0.040863495320082,-0.036113053560257,-0.083037756383419,0.025553110986948,-0.177983716130257));
res += mul(Get(s0,0,0), float4x4(0.340363472700119,0.618553102016449,0.015679171308875,0.271213591098785,0.388469129800797,-0.493689954280853,0.541209340095520,-0.073058478534222,-0.220284938812256,-0.124031245708466,0.031231705099344,0.153585389256477,0.055848225951195,0.110977761447430,0.052948087453842,0.600393593311310));
res += mul(Get(s0,0,dy), float4x4(-0.098862729966640,0.490428060293198,-0.052830919623375,-0.151480734348297,0.073426455259323,-0.075032010674477,0.236805438995361,0.001420402666554,-0.003558053867891,0.254118084907532,0.143735677003860,-0.286443442106247,-0.003410321660340,0.118860244750977,-0.114129938185215,-0.237991333007813));
res += mul(Get(s0,dx,-dy), float4x4(-0.001442842185497,-0.007874949835241,-0.088559232652187,-0.130756944417953,-0.082926660776138,0.092903122305870,-0.220464348793030,0.082664266228676,0.030122239142656,-0.250611931085587,0.089062593877316,-0.223058626055717,0.168563991785049,0.088299393653870,0.061895538121462,0.140354156494141));
res += mul(Get(s0,dx,0), float4x4(-0.123799070715904,0.104319870471954,0.134304136037827,0.121223688125610,0.048888552933931,-0.095380261540413,-0.172768309712410,-0.106757320463657,0.070672988891602,0.385028719902039,0.029956083744764,0.130694881081581,0.073094941675663,0.064421288669109,-0.058085922151804,0.129021003842354));
res += mul(Get(s0,dx,dy), float4x4(-0.083939515054226,0.168913990259171,0.037900175899267,-0.126449525356293,0.088220462203026,-0.130002722144127,-0.035677161067724,-0.075021743774414,0.169117689132690,0.048047777265310,0.021207384765148,0.050549518316984,-0.099215567111969,-0.018787732347846,0.043480351567268,0.067237026989460));
res += mul(Get(s1,-dx,-dy), float4x4(0.080934241414070,-0.037944465875626,-0.055992208421230,-0.085734412074089,0.001380653702654,0.056045468896627,0.226963862776756,0.114892907440662,-0.117646098136902,0.055829640477896,-0.043110735714436,0.010979828424752,0.253547161817551,0.095242276787758,0.025369103997946,0.140441656112671));
res += mul(Get(s1,-dx,0), float4x4(-0.114569529891014,0.055727254599333,-0.012863051146269,-0.279639303684235,0.215067207813263,-0.241427659988403,0.201216965913773,-0.040859930217266,-0.005792641546577,0.047899518162012,-0.058543059974909,0.221951335668564,0.518694102764130,0.095068201422691,0.051701396703720,-0.227468252182007));
res += mul(Get(s1,-dx,dy), float4x4(-0.148803785443306,-0.058654733002186,-0.079285003244877,-0.046179722994566,0.159564658999443,0.165066123008728,0.045872487127781,-0.057616624981165,0.017807569354773,-0.027600066736341,-0.004717567469925,0.118624486029148,0.170493692159653,0.046893056482077,0.017734194174409,0.077358260750771));
res += mul(Get(s1,0,-dy), float4x4(-0.018313096836209,0.064443618059158,0.142914563417435,0.065867498517036,0.219462245702744,-0.051213767379522,-0.067957825958729,-0.126881256699562,0.044432587921619,0.123230889439583,-0.101528912782669,0.070153698325157,-0.165117412805557,0.144937410950661,0.181332841515541,-0.175175771117210));
res += mul(Get(s1,0,0), float4x4(0.076076917350292,0.347720295190811,0.477120846509933,-0.241303190588951,0.557919919490814,0.039075944572687,-0.722079217433929,-0.171400502324104,-0.068554230034351,0.022628221660852,-0.107178203761578,0.307841390371323,-0.266244113445282,0.056186459958553,0.315030843019485,-0.220766425132751));
res += mul(Get(s1,0,dy), float4x4(-0.039846185594797,-0.234582424163818,0.132840201258659,0.172987774014473,0.098126150667667,0.114486232399940,-0.101249456405640,-0.015883920714259,-0.065421342849731,-0.161139175295830,-0.018875909969211,-0.027431754395366,0.068159423768520,-0.130292251706123,0.124297782778740,0.012818584218621));
res += mul(Get(s1,dx,-dy), float4x4(-0.016379376873374,0.018077462911606,-0.008154409937561,-0.032949578016996,0.068125046789646,0.034674856811762,0.043289415538311,0.052573073655367,-0.055402897298336,0.036831021308899,-0.017265820875764,0.353071361780167,-0.079474255442619,0.064019627869129,-0.083859525620937,-0.049731682986021));
res += mul(Get(s1,dx,0), float4x4(0.105899654328823,-0.018571522086859,-0.216795250773430,-0.059744615107775,-0.116570450365543,-0.139889836311340,0.180710956454277,-0.026783209294081,-0.121883451938629,-0.061202388256788,-0.192611247301102,-0.289971381425858,0.056304067373276,0.151265263557434,-0.052921261638403,-0.036346279084682));
res += mul(Get(s1,dx,dy), float4x4(-0.037765923887491,0.032464098185301,-0.117912486195564,0.062670446932316,0.015156945213675,0.121510155498981,0.070937909185886,-0.023347169160843,-0.041439346969128,-0.067486599087715,-0.030259359627962,0.295901119709015,-0.070939838886261,0.045575365424156,-0.089301139116287,0.065570279955864));
res += mul(Get(s2,-dx,-dy), float4x4(0.103620558977127,0.059518400579691,0.138231009244919,0.088492974638939,0.060421589761972,-0.040838815271854,0.150078713893890,0.032629523426294,-0.003904682118446,0.089177489280701,-0.116705432534218,-0.028073215857148,-0.197795465588570,-0.104250811040401,-0.029342772439122,-0.053272817283869));
res += mul(Get(s2,-dx,0), float4x4(0.206655010581017,-0.152709662914276,0.255455315113068,0.370004653930664,0.028347797691822,-0.306487292051315,0.314128458499908,-0.023892356082797,0.106383673846722,-0.036987893283367,0.133877247571945,-0.119953595101833,-0.821930229663849,-0.131165370345116,0.254149138927460,-0.348232209682465));
res += mul(Get(s2,-dx,dy), float4x4(0.200820818543434,0.049504928290844,0.246064290404320,-0.178467258810997,-0.034375973045826,-0.004696091637015,0.034826796501875,-0.069210208952427,-0.070737704634666,-0.095202244818211,-0.122762337327003,-0.012484905309975,-0.030837425962090,0.095253661274910,-0.041585531085730,-0.080693848431110));
res += mul(Get(s2,0,-dy), float4x4(-0.249001711606979,0.040732614696026,-0.181190103292465,-0.116319328546524,-0.153247117996216,-0.260532736778259,0.017910717055202,-0.001759567763656,-0.078249163925648,0.042789727449417,0.110152535140514,-0.275579899549484,-0.019955815747380,0.194423839449883,-0.141882061958313,0.440686076879501));
res += mul(Get(s2,0,0), float4x4(0.003304263111204,0.089877188205719,-0.175134018063545,0.051939237862825,-0.230384349822998,-0.110360085964203,0.265037477016449,0.355355829000473,-0.351733207702637,-0.007097348570824,0.259018003940582,0.260530143976212,-0.390738725662231,-0.153568074107170,-0.121252693235874,-0.370684534311295));
res += mul(Get(s2,0,dy), float4x4(0.018216246739030,0.020573293790221,0.044831540435553,0.017211157828569,-0.144169241189957,0.108993075788021,-0.001102637383156,-0.115062691271305,-0.166094109416008,-0.036220349371433,-0.037326138466597,-0.164259225130081,0.013125807978213,-0.246870443224907,-0.035166203975677,-0.151022642850876));
res += mul(Get(s2,dx,-dy), float4x4(0.058886647224426,0.166763216257095,-0.053876809775829,0.179607823491096,0.110791563987732,-0.122368067502975,-0.131371781229973,-0.000396057323087,0.243126377463341,0.045701507478952,0.206471487879753,-0.001998550957069,-0.192874133586884,0.142184287309647,0.018703805282712,-0.011983067728579));
res += mul(Get(s2,dx,0), float4x4(-0.003282843623310,-0.198985934257507,0.117794431746006,-0.109299063682556,0.193727105855942,-0.068659603595734,-0.148757398128510,-0.038700625300407,0.270536154508591,0.114593409001827,-0.183356136083603,-0.102701857686043,0.024314153939486,-0.218918204307556,0.089856870472431,-0.170942813158035));
res += mul(Get(s2,dx,dy), float4x4(0.039314474910498,0.115172863006592,-0.069026410579681,0.035601835697889,0.051106858998537,-0.111774794757366,0.014032561331987,0.020852265879512,0.148936852812767,-0.177075654268265,0.180729597806931,0.087209217250347,0.001844082726166,0.028031680732965,0.042754236608744,0.045809261500835));
res = max(float4(0, 0, 0, 0), res) + float4(-0.006301000248641,-0.022777553647757,0.001287833671086,-0.009055252186954) * min(float4(0, 0, 0, 0), res);
return res;
}
