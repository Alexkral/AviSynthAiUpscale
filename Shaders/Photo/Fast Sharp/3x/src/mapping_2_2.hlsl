sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.044954504817724,0.069621212780476,-0.005129504483193,-0.020148638635874);
res += mul(Get(s0,-dx,-dy), float4x4(0.082564994692802,-0.206165030598640,0.127291470766068,0.099588558077812,0.024078655987978,-0.017609633505344,-0.032044019550085,-0.123295567929745,0.071482121944427,0.073123961687088,-0.273878961801529,-0.213525578379631,-0.058523904532194,-0.119991548359394,0.259248524904251,0.196799442172050));
res += mul(Get(s0,-dx,0), float4x4(-0.019281730055809,-0.038174819201231,-0.132554113864899,-0.022074254229665,-0.261057972908020,0.017081927508116,-0.249252140522003,-0.235179051756859,-0.002484199358150,-0.306678831577301,0.183701500296593,0.092067584395409,0.211726382374763,0.303957343101501,0.011251216754317,-0.022582031786442));
res += mul(Get(s0,-dx,dy), float4x4(0.098067268729210,0.004395511932671,0.074078068137169,0.131707385182381,0.209120184183121,-0.213125497102737,0.303456574678421,0.205625906586647,0.128583431243896,0.083084344863892,0.198027938604355,0.125524848699570,0.030343284830451,-0.047154061496258,-0.150637179613113,-0.024738525971770));
res += mul(Get(s0,0,-dy), float4x4(-0.280858218669891,0.072997517883778,0.222605943679810,-0.172160685062408,-0.045047447085381,0.028224870562553,0.112965315580368,0.079883486032486,-0.057978775352240,-0.318992614746094,-0.029159856960177,0.006055496167392,-0.154843956232071,0.024540200829506,-0.099597804248333,-0.189338684082031));
res += mul(Get(s0,0,0), float4x4(-0.078445859253407,0.126144379377365,-0.142117053270340,-0.251960992813110,0.283126473426819,0.191401347517967,-0.058871187269688,0.030991358682513,0.329098999500275,0.486528128385544,0.008521141484380,0.119324803352356,-0.422424376010895,-0.200049638748169,-0.333833515644073,-0.410363405942917));
res += mul(Get(s0,0,dy), float4x4(0.147957593202591,-0.049152001738548,0.063533753156662,0.197294503450394,0.066902853548527,-0.228009074926376,-0.186815902590752,-0.179900437593460,0.012668991461396,0.035939257591963,0.151477396488190,0.312719672918320,-0.068994387984276,0.021874006837606,0.234780654311180,0.192269742488861));
res += mul(Get(s0,dx,-dy), float4x4(0.181362047791481,-0.170235559344292,-0.164129048585892,-0.208198696374893,-0.070755094289780,0.034891460090876,-0.018260182812810,0.021229444071651,-0.123307242989540,0.208247929811478,0.303195953369141,0.394031643867493,-0.014593490399420,-0.009201268665493,0.061528719961643,-0.089230544865131));
res += mul(Get(s0,dx,0), float4x4(-0.079716235399246,0.023590231314301,0.175394490361214,0.037391591817141,0.090765170753002,-0.146037206053734,0.007563563063741,0.045389793813229,-0.230887383222580,-0.645343244075775,-0.369249433279037,-0.290576577186584,0.193763405084610,-0.063094735145569,0.043307851999998,-0.187334358692169));
res += mul(Get(s0,dx,dy), float4x4(0.125690504908562,-0.066453367471695,0.065075799822807,0.043904703110456,0.055574767291546,-0.112287640571594,-0.017545284703374,0.083248302340508,0.076760336756706,-0.019562829285860,-0.259557634592056,-0.246366843581200,0.240070536732674,0.026598898693919,0.244059532880783,0.172114402055740));
res += mul(Get(s1,-dx,-dy), float4x4(-0.251074939966202,0.394061863422394,-0.083529472351074,-0.068185836076736,0.049409177154303,-0.233585834503174,-0.343885332345963,-0.345791250467300,0.183648183941841,-0.099601902067661,0.110417254269123,-0.232819572091103,-0.107298955321312,-0.141680300235748,-0.018556861206889,-0.123463429510593));
res += mul(Get(s1,-dx,0), float4x4(-0.251989930868149,0.245957732200623,0.054145958274603,-0.183430880308151,0.077233903110027,-0.257030665874481,-0.254703104496002,0.141164019703865,0.158774733543396,0.012615811079741,0.040284331887960,-0.032419729977846,-0.125089004635811,-0.446273207664490,-0.117592841386795,0.020056614652276));
res += mul(Get(s1,-dx,dy), float4x4(-0.331886023283005,0.195338115096092,-0.020709265023470,0.174932122230530,-0.159306481480598,-0.010287871584296,0.028948770835996,0.286479681730270,0.276236265897751,-0.042595360428095,0.029204469174147,-0.192781597375870,-0.111503705382347,-0.136325836181641,0.058648452162743,-0.033871471881866));
res += mul(Get(s1,0,-dy), float4x4(-0.075724028050900,0.210499331355095,0.099285177886486,-0.106979317963123,0.298934072256088,-0.212039709091187,0.240794807672501,0.433010220527649,0.126187562942505,-0.163887754082680,0.028259145095944,-0.171176865696907,-0.145835980772972,-0.019997742027044,0.048771638423204,-0.001451098243706));
res += mul(Get(s1,0,0), float4x4(-0.190716549754143,0.218933567404747,0.031704742461443,0.104536227881908,-0.095037929713726,0.390268296003342,0.369335234165192,0.195389688014984,0.204588457942009,-0.111413791775703,0.152852907776833,0.061181407421827,-0.204726904630661,-0.134678885340691,-0.268252611160278,-0.272469341754913));
res += mul(Get(s1,0,dy), float4x4(0.000524502596818,-0.011197519488633,0.174836203455925,0.210930079221725,-0.480029225349426,-0.256376445293427,-0.285557955503464,-0.628166377544403,0.358022212982178,-0.126631334424019,0.146365642547607,-0.079302422702312,-0.344905853271484,-0.144265532493591,0.136093661189079,-0.023292697966099));
res += mul(Get(s1,dx,-dy), float4x4(0.060303445905447,-0.009666074998677,0.015324743464589,0.034993086010218,-0.172573894262314,0.046204272657633,0.079531103372574,0.216810226440430,0.000263971567620,-0.101500689983368,0.043294012546539,-0.149964556097984,0.178195044398308,0.295176535844803,-0.049168426543474,0.116531528532505));
res += mul(Get(s1,dx,0), float4x4(0.046412527561188,0.114542663097382,0.115003228187561,0.200730547308922,0.091986425220966,0.167119055986404,0.029649533331394,-0.250455856323242,0.063130863010883,0.002902295673266,0.077619396150112,-0.093926914036274,0.244546189904213,-0.077741995453835,-0.027163134887815,-0.015896270051599));
res += mul(Get(s1,dx,dy), float4x4(-0.013015147298574,0.097407616674900,0.004837578628212,-0.013453968800604,-0.181662917137146,0.264643430709839,-0.079217761754990,-0.108097285032272,0.164515301585197,-0.050383422523737,0.155745550990105,-0.101338051259518,-0.175086423754692,-0.050528373569250,0.032932404428720,-0.059062995016575));
res += mul(Get(s2,-dx,-dy), float4x4(0.049642141908407,-0.034056726843119,0.047234084457159,0.022391326725483,-0.216765865683556,0.166931718587875,-0.019354969263077,0.013490725308657,-0.030193436890841,-0.117967702448368,-0.128258213400841,-0.160099446773529,0.048644650727510,-0.039463382214308,-0.007747170049697,-0.042154047638178));
res += mul(Get(s2,-dx,0), float4x4(-0.009269130416214,0.185832485556602,0.090131990611553,-0.109778031706810,-0.045774057507515,-0.185901448130608,0.027294412255287,0.094489753246307,-0.163164690136909,-0.374613404273987,0.153147399425507,0.260857969522476,0.135101944208145,-0.126605153083801,-0.284534245729446,0.222553372383118));
res += mul(Get(s2,-dx,dy), float4x4(-0.020613895729184,0.403759062290192,0.095059141516685,-0.009140331298113,0.232879444956779,-0.132297098636627,-0.135490864515305,-0.055148620158434,0.135824427008629,-0.416372030973434,0.375500231981277,0.099376812577248,-0.067673809826374,0.175640672445297,-0.134007245302200,-0.085472412407398));
res += mul(Get(s2,0,-dy), float4x4(-0.011003556661308,-0.063978493213654,-0.010137636214495,-0.113010160624981,-0.005492706783116,0.257703840732574,-0.144797384738922,0.377152234315872,0.028695859014988,-0.054218128323555,0.055067867040634,0.082860186696053,0.131112292408943,-0.008430136367679,-0.254971086978912,0.397921800613403));
res += mul(Get(s2,0,0), float4x4(-0.154531568288803,0.027870755642653,-0.149883061647415,-0.038891457021236,-0.207372650504112,0.309443950653076,0.170431300997734,0.305561095476151,0.182602033019066,0.344945728778839,0.266498982906342,-0.196301728487015,-0.242495864629745,-0.252476930618286,0.109851516783237,-0.336524277925491));
res += mul(Get(s2,0,dy), float4x4(0.199297323822975,0.163289487361908,-0.243239998817444,0.118253491818905,-0.075741901993752,0.159939199686050,0.146718516945839,0.309378445148468,-0.058030307292938,-0.092499434947968,-0.315815389156342,-0.207282200455666,-0.068553410470486,0.138406455516815,-0.025115286931396,0.129466891288757));
res += mul(Get(s2,dx,-dy), float4x4(-0.010757402516901,-0.041179351508617,0.008400309830904,0.019914008677006,-0.218791469931602,0.096905328333378,-0.141238465905190,0.220387935638428,0.004590646829456,0.093021579086781,0.005114726256579,0.119521252810955,-0.302209228277206,-0.100736238062382,-0.325659304857254,0.015056919306517));
res += mul(Get(s2,dx,0), float4x4(-0.042235419154167,0.001477667130530,0.105187840759754,0.064874559640884,-0.053397446870804,0.067803278565407,0.072110101580620,0.364272356033325,-0.099403508007526,0.035533100366592,-0.128615036606789,-0.155930921435356,-0.230180591344833,-0.306874334812164,-0.065779738128185,0.229816332459450));
res += mul(Get(s2,dx,dy), float4x4(-0.191714242100716,0.160897523164749,0.060872644186020,0.027800377458334,-0.159463897347450,0.131775707006454,-0.205085918307304,0.094891190528870,-0.071270525455475,-0.168212518095970,0.094667561352253,0.047253761440516,-0.030185958370566,-0.047239616513252,-0.042257886379957,-0.192042633891106));
res = max(float4(0, 0, 0, 0), res) + float4(0.922836601734161,0.902250468730927,-0.817693889141083,-0.255957782268524) * min(float4(0, 0, 0, 0), res);
return res;
}
