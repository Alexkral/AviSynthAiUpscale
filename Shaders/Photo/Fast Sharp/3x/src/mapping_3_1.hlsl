sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.010919159278274,-0.011526569724083,-0.027906902134418,-0.151504427194595);
res += mul(Get(s0,-dx,-dy), float4x4(0.169683814048767,0.105563975870609,-0.281996786594391,-0.086293011903763,-0.031502179801464,0.042604397982359,-0.088222786784172,-0.068329304456711,-0.182955980300903,-0.034569662064314,-0.256179422140121,0.019434219226241,-0.220080375671387,0.076566472649574,0.056127201765776,0.052633792161942));
res += mul(Get(s0,-dx,0), float4x4(-0.219217240810394,0.148693233728409,0.360716670751572,-0.159927845001221,0.097718507051468,0.011051782406867,0.016871608793736,-0.107213780283928,0.322934538125992,-0.089913316071033,-0.180501639842987,0.152667254209518,0.032934565097094,0.212922856211662,0.006312630604953,0.074006207287312));
res += mul(Get(s0,-dx,dy), float4x4(0.078305475413799,0.046677827835083,-0.208697751164436,-0.117272287607193,-0.037528596818447,-0.018991861492395,-0.004349046386778,0.062891080975533,-0.085761874914169,0.027622777968645,0.538159489631653,-0.099590815603733,-0.091359563171864,-0.050843026489019,-0.158243238925934,0.137824147939682));
res += mul(Get(s0,0,-dy), float4x4(0.556088566780090,-0.077613040804863,-0.340264409780502,-0.004089686553925,-0.002256583189592,0.045535251498222,0.036040745675564,0.050191979855299,-0.495928913354874,0.099699407815933,-0.044214241206646,-0.036288041621447,-0.031923867762089,0.007586386520416,0.116404749453068,0.052927378565073));
res += mul(Get(s0,0,0), float4x4(-0.970596313476563,-0.223361581563950,0.202158197760582,-0.123133316636086,-0.087635263800621,0.073381252586842,0.081707589328289,-0.068619318306446,-0.322586238384247,-0.235155910253525,-0.363541573286057,-0.308656424283981,-0.170745342969894,-0.016877748072147,0.114731118083000,0.082173481583595));
res += mul(Get(s0,0,dy), float4x4(-0.245149314403534,-0.126833647489548,-0.241919949650764,-0.131453827023506,-0.045582525432110,-0.010078147985041,-0.099569313228130,0.006038094405085,0.543852210044861,0.017981434240937,0.457212239503860,0.160620599985123,-0.447880297899246,-0.354233354330063,-0.262732118368149,-0.354336708784103));
res += mul(Get(s0,dx,-dy), float4x4(0.146036118268967,-0.083852246403694,-0.169473856687546,0.067078612744808,-0.105954319238663,-0.020550537854433,0.014950421638787,-0.024722199887037,0.039534524083138,-0.009139226749539,-0.010942230932415,0.016190096735954,0.131534829735756,-0.056076187640429,-0.225034072995186,-0.247505322098732));
res += mul(Get(s0,dx,0), float4x4(0.151928111910820,0.014005687087774,0.141452595591545,-0.093721404671669,0.215337961912155,-0.066382631659508,0.075021564960480,-0.084261693060398,-0.494322627782822,0.069703690707684,-0.170675069093704,0.082007974386215,-0.179010719060898,0.155283644795418,0.070540457963943,0.145909607410431));
res += mul(Get(s0,dx,dy), float4x4(-0.007368990685791,0.086090661585331,-0.112791158258915,-0.072446629405022,-0.063409157097340,-0.004421087913215,-0.169124647974968,-0.317432671785355,0.042577888816595,0.085351213812828,0.343235313892365,0.021114202216268,-0.242889329791069,-0.266693025827408,-0.155821934342384,-0.278220415115356));
res += mul(Get(s1,-dx,-dy), float4x4(0.100944600999355,0.164365887641907,-0.013326401822269,-0.094171546399593,0.034508869051933,0.022690847516060,-0.049616672098637,0.158442795276642,-0.166630432009697,0.031993027776480,-0.100868165493011,0.096596665680408,-0.029808297753334,-0.077238313853741,0.266022056341171,0.093834862112999));
res += mul(Get(s1,-dx,0), float4x4(-0.047783743590117,0.148767277598381,0.319664508104324,-0.105360463261604,0.027104716747999,0.060313127934933,-0.182678118348122,-0.055636867880821,0.029294004663825,0.113108672201633,0.243465483188629,0.049285743385553,-0.122902967035770,-0.179943203926086,-0.348387926816940,0.192831113934517));
res += mul(Get(s1,-dx,dy), float4x4(0.027865789830685,-0.070449955761433,-0.211183190345764,0.095419451594353,-0.153257980942726,0.100823961198330,0.055760305374861,-0.120033517479897,-0.311741262674332,0.091726690530777,-0.289222687482834,-0.122572988271713,0.112245544791222,-0.087076619267464,-0.004603182431310,0.226445347070694));
res += mul(Get(s1,0,-dy), float4x4(0.148728847503662,0.046989075839520,-0.125678002834320,0.374596059322357,-0.253948003053665,0.135180711746216,0.202052965760231,0.451906710863113,-0.368360519409180,0.157382041215897,0.372937768697739,-0.083080999553204,0.434729546308517,-0.271062552928925,-0.410239160060883,0.288878917694092));
res += mul(Get(s1,0,0), float4x4(-0.133305951952934,-0.605188846588135,0.042805984616280,-0.037147279828787,0.135904803872108,-0.723945915699005,-0.263563990592957,0.155936121940613,0.027096567675471,-0.097570300102234,0.062696546316147,0.287171959877014,0.157821446657181,-0.062618754804134,-0.354421406984329,-0.052441351115704));
res += mul(Get(s1,0,dy), float4x4(-0.040868952870369,0.114247314631939,-0.065988689661026,-0.277688175439835,0.067210525274277,0.153260782361031,-0.056457161903381,0.054400704801083,-0.247270897030830,-0.095324851572514,-0.204789653420448,-0.102046817541122,0.079990357160568,-0.036424901336432,0.031805586069822,0.159122467041016));
res += mul(Get(s1,dx,-dy), float4x4(0.026772987097502,0.078401312232018,-0.070418432354927,0.226155519485474,-0.020496761426330,0.031476762145758,0.045872617512941,0.232684895396233,-0.062948912382126,-0.007000300101936,0.015112956985831,-0.045297916978598,-0.105792276561260,-0.039308313280344,0.108584977686405,0.091088682413101));
res += mul(Get(s1,dx,0), float4x4(-0.071140162646770,-0.182100340723991,-0.042685672640800,-0.449004620313644,-0.008604210801423,0.171686679124832,0.219175711274147,0.020682157948613,0.129842787981033,0.041207708418369,-0.109314933419228,-0.087438777089119,-0.126857385039330,-0.090264804661274,0.017831128090620,0.039147697389126));
res += mul(Get(s1,dx,dy), float4x4(0.149173840880394,0.132415875792503,0.246214523911476,-0.032308753579855,0.064862549304962,0.004755372181535,-0.123082719743252,0.101654432713985,-0.007382231764495,0.043728683143854,-0.002471243962646,0.096714176237583,-0.155559480190277,-0.083970852196217,-0.325372070074081,-0.204527318477631));
res += mul(Get(s2,-dx,-dy), float4x4(0.174342304468155,-0.016607455909252,-0.333646744489670,-0.087561048567295,0.079885847866535,-0.022242417559028,-0.027450352907181,-0.030220316722989,-0.076840333640575,-0.179479628801346,-0.403878480195999,-0.151687026023865,-0.156187087297440,-0.028500471264124,0.015762498602271,-0.056004952639341));
res += mul(Get(s2,-dx,0), float4x4(-0.211798444390297,-0.132071182131767,0.054208163172007,-0.245986595749855,0.019919198006392,-0.134566336870193,-0.171498268842697,-0.094444610178471,-0.226753666996956,-0.157170489430428,0.035367362201214,-0.017343319952488,0.443751573562622,0.010007534176111,-0.078368082642555,-0.060405276715755));
res += mul(Get(s2,-dx,dy), float4x4(-0.297440975904465,-0.154134660959244,0.080927722156048,-0.206556439399719,-0.080493003129959,-0.037658542394638,-0.005638626404107,-0.044158741831779,0.074651576578617,-0.096574187278748,0.289549022912979,0.101230636239052,-0.388938724994659,0.071510538458824,0.149694815278053,-0.263847202062607));
res += mul(Get(s2,0,-dy), float4x4(0.313746005296707,-0.147514447569847,-0.334648966789246,-0.055993217974901,-0.104824528098106,-0.152613595128059,-0.021586343646049,-0.151586577296257,-0.227715700864792,0.016169391572475,-0.020532600581646,0.078717969357967,-0.270646810531616,-0.002512628911063,-0.157655969262123,0.016856689006090));
res += mul(Get(s2,0,0), float4x4(-0.272832453250885,-0.101928532123566,0.150201722979546,0.169673219323158,0.409036457538605,-0.199242040514946,0.010685698129237,0.112094283103943,-0.318704754114151,0.117134369909763,0.012710302136838,-0.145700052380562,-0.060903571546078,0.039597101509571,-0.008719068020582,-0.188089311122894));
res += mul(Get(s2,0,dy), float4x4(-0.392160296440125,0.022453626617789,0.111410610377789,-0.257586270570755,-0.349260866641998,0.197531342506409,-0.320170789957047,-0.319949120283127,0.160483017563820,0.037233579903841,0.034640215337276,0.074567452073097,0.183685973286629,-0.047933515161276,0.326789766550064,0.230934217572212));
res += mul(Get(s2,dx,-dy), float4x4(0.112616769969463,-0.030767438933253,-0.332499295473099,0.101031176745892,-0.204122677445412,-0.123426184058189,-0.094442829489708,0.099885217845440,0.068487480282784,0.051387228071690,0.045074220746756,-0.127064526081085,0.164703816175461,0.123421795666218,-0.024490611627698,-0.289624124765396));
res += mul(Get(s2,dx,0), float4x4(-0.035310022532940,0.089614577591419,-0.037738777697086,-0.277016758918762,-0.081257417798042,-0.261509031057358,-0.232502281665802,0.024809846654534,-0.078116841614246,-0.049216542392969,0.006320867687464,-0.006731805391610,-0.237272277474403,0.166427165269852,0.091202780604362,-0.009634757414460));
res += mul(Get(s2,dx,dy), float4x4(-0.046074371784925,-0.030062695965171,0.170844048261642,0.410455167293549,0.048771537840366,0.022419620305300,0.075931668281555,-0.029557164758444,-0.009840524755418,-0.041725073009729,0.005263097584248,0.065062932670116,0.013892315328121,0.022302255034447,0.115426428616047,0.059027470648289));
res = max(float4(0, 0, 0, 0), res) + float4(0.051398690789938,0.835185647010803,0.013312269002199,0.581789493560791) * min(float4(0, 0, 0, 0), res);
return res;
}
