sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.020211093127728,-0.072824046015739,-0.123987168073654,-0.107322089374065);
res += mul(Get(s0,-dx,-dy), float4x4(-0.064737096428871,0.067958526313305,0.090396672487259,0.055037681013346,0.013793966732919,0.120988480746746,-0.115923769772053,-0.161168470978737,0.294628173112869,0.216797173023224,0.343788564205170,0.285217612981796,-0.225830435752869,-0.016265800222754,-0.009703642688692,-0.119973354041576));
res += mul(Get(s0,-dx,0), float4x4(0.489491492509842,0.298471271991730,0.174949437379837,0.108770884573460,-0.122254908084869,-0.177055105566978,-0.159013062715530,-0.335883021354675,0.114330224692822,-0.207929700613022,-0.454035460948944,-0.013642189092934,-0.513413846492767,-0.324402511119843,0.193740397691727,-0.606254041194916));
res += mul(Get(s0,-dx,dy), float4x4(-0.072736844420433,0.368942171335220,-0.660433232784271,0.359308660030365,-0.129990234971046,-0.069447070360184,0.146319866180420,-0.220340013504028,0.126715719699860,-0.049468517303467,0.250403434038162,0.137874707579613,-0.354496657848358,-0.209035024046898,-0.233505815267563,-0.187999770045280));
res += mul(Get(s0,0,-dy), float4x4(-0.265689671039581,-0.362666904926300,0.134746268391609,-0.073202773928642,0.240048274397850,-0.169703975319862,-0.096540130674839,-0.108784057199955,0.431716710329056,0.027919324114919,0.045803628861904,-0.062611550092697,-0.150005847215652,0.068699359893799,-0.036536268889904,-0.048225346952677));
res += mul(Get(s0,0,0), float4x4(-0.384458184242249,-0.001696225604974,-0.079758517444134,-0.249005779623985,0.389059543609619,0.303256452083588,0.274338752031326,-0.091761194169521,-0.182472556829453,0.500753104686737,-0.460614174604416,0.387509793043137,-0.213545054197311,0.147968277335167,0.067321106791496,-0.010197820141912));
res += mul(Get(s0,0,dy), float4x4(0.291077107191086,-0.337950706481934,-0.119765385985374,0.182614326477051,-0.174934312701225,0.017953898757696,-0.169473469257355,-0.025103768333793,-0.338093906641006,-0.011115109547973,0.331927299499512,-0.000973348098341,-0.063706010580063,0.238872587680817,-0.494094282388687,0.272522449493408));
res += mul(Get(s0,dx,-dy), float4x4(-0.103766188025475,0.021251138299704,0.096293717622757,0.110597103834152,-0.026173340156674,-0.142035156488419,-0.092647373676300,0.044712468981743,-0.291172891855240,-0.119091965258121,-0.058734815567732,0.148321494460106,-0.086262531578541,0.011380502022803,0.066463567316532,-0.015909476205707));
res += mul(Get(s0,dx,0), float4x4(0.007155631668866,0.462837785482407,0.021128289401531,-0.301879227161407,0.576899826526642,-0.070767834782600,0.145665094256401,0.056456681340933,-0.013084388338029,0.150691673159599,0.083046764135361,-0.339552581310272,0.110569670796394,0.100561268627644,-0.068320862948895,0.092272996902466));
res += mul(Get(s0,dx,dy), float4x4(-0.056434251368046,-0.069021768867970,-0.083134554326534,0.231657087802887,0.246883332729340,0.427593320608139,-0.057429272681475,-0.070096090435982,0.015182519331574,-0.177028477191925,-0.017774295061827,-0.284129709005356,-0.026650113984942,-0.005742682609707,-0.004782525822520,0.036167848855257));
res += mul(Get(s1,-dx,-dy), float4x4(0.074263975024223,-0.021752279251814,-0.134490638971329,-0.029248567298055,0.159073263406754,-0.111512333154678,0.157341301441193,0.028527328744531,-0.118341587483883,-0.053615964949131,0.026452010497451,-0.087846279144287,-0.125513017177582,-0.056060519069433,-0.090967968106270,-0.024631511420012));
res += mul(Get(s1,-dx,0), float4x4(-0.096552535891533,-0.220324784517288,-0.181131377816200,-0.092020981013775,-0.280813604593277,-0.027393192052841,-0.160131230950356,0.091014564037323,-0.520204186439514,-0.209959223866463,-0.161913424730301,-0.471922606229782,0.302974849939346,0.217453077435493,0.424601882696152,0.584932267665863));
res += mul(Get(s1,-dx,dy), float4x4(0.023078046739101,0.114987343549728,0.010524268262088,-0.031649395823479,-0.052268262952566,-0.029957961291075,0.121388413012028,0.123440049588680,-0.011260278522968,0.024635903537273,-0.056489124894142,-0.154616579413414,-0.140713736414909,-0.036600317806005,0.067102119326591,0.050469875335693));
res += mul(Get(s1,0,-dy), float4x4(0.157000184059143,-0.098280005156994,0.135669052600861,0.016426390036941,0.116469517350197,0.076821237802505,0.048083111643791,-0.082472756505013,0.126154378056526,-0.120014712214470,-0.038794253021479,-0.035503115504980,-0.365634143352509,0.163854464888573,-0.104488857090473,-0.103866122663021));
res += mul(Get(s1,0,0), float4x4(0.579807460308075,0.383240461349487,-0.290836513042450,-0.167864680290222,0.054689057171345,0.618743419647217,0.270074069499969,0.257047981023788,-0.076748445630074,-0.012953523546457,-0.058429770171642,0.225301772356033,-0.002439020434394,-0.008710466325283,0.193395659327507,-0.237077161669731));
res += mul(Get(s1,0,dy), float4x4(0.039842870086432,0.256494939327240,0.016465142369270,0.172394350171089,0.058098498731852,0.238668605685234,0.023919411003590,-0.041844192892313,0.209743544459343,-0.028473105281591,0.073875188827515,0.042861726135015,-0.355855494737625,-0.096645809710026,-0.237280353903770,0.104838117957115));
res += mul(Get(s1,dx,-dy), float4x4(0.093921884894371,-0.021012768149376,-0.019089719280601,0.064409568905830,-0.043464444577694,-0.081377454102039,0.046693149954081,-0.167235687375069,-0.212135240435600,-0.032527267932892,-0.014103068970144,0.142373338341713,-0.058182634413242,-0.218132361769676,0.025044882670045,-0.092905640602112));
res += mul(Get(s1,dx,0), float4x4(0.179642722010612,0.179288983345032,-0.082742266356945,-0.093590721487999,0.214954286813736,-0.057001866400242,0.057097163051367,-0.449028044939041,-0.231999084353447,0.004377415869385,0.056608766317368,0.051686480641365,0.057718638330698,-0.076109267771244,0.058104649186134,0.257377624511719));
res += mul(Get(s1,dx,dy), float4x4(0.155253991484642,0.023789975792170,-0.035836730152369,-0.069033190608025,0.048588100820780,0.085959456861019,-0.019183298572898,-0.157889619469643,-0.054918095469475,0.016211932525039,-0.009543951600790,0.267196506261826,-0.111827686429024,0.044163927435875,-0.006163356360048,-0.026190930977464));
res += mul(Get(s2,-dx,-dy), float4x4(-0.045524653047323,-0.066944137215614,-0.108890533447266,0.114406675100327,-0.113370873034000,0.112668402493000,-0.083457045257092,0.081356361508369,0.029904350638390,0.001485893852077,0.051316954195499,0.042568903416395,-0.101165048778057,-0.032701790332794,-0.035213626921177,-0.056835565716028));
res += mul(Get(s2,-dx,0), float4x4(0.136648043990135,-0.031791996210814,0.186730265617371,0.584933936595917,-0.276777625083923,0.142669215798378,0.001303355209529,0.026306202635169,-0.192493423819542,-0.271149933338165,-0.539364635944366,0.614021062850952,0.180964395403862,0.076520510017872,-0.362873405218124,-0.795612692832947));
res += mul(Get(s2,-dx,dy), float4x4(-0.343877941370010,-0.198726356029510,-0.436453580856323,0.470871925354004,-0.165762409567833,0.023291401565075,0.115080185234547,0.085654117166996,0.029847359284759,-0.068408243358135,0.189016446471214,-0.094486176967621,0.025367788970470,-0.041884899139404,0.147558853030205,-0.217137441039085));
res += mul(Get(s2,0,-dy), float4x4(-0.283510237932205,-0.006446948740631,0.083382606506348,-0.069400280714035,-0.230905205011368,0.274191498756409,-0.317409634590149,-0.025610020384192,0.143689021468163,0.477164000272751,-0.100551113486290,-0.092152230441570,-0.081440582871437,-0.016807762905955,0.132864445447922,0.092317640781403));
res += mul(Get(s2,0,0), float4x4(0.149023801088333,-0.004808542784303,-0.047924008220434,-0.032693788409233,0.273271858692169,-0.061748381704092,-0.034785337746143,-0.045674744993448,-0.146285668015480,0.072567418217659,0.032290533185005,-0.459165066480637,-0.125403687357903,-0.213190764188766,-0.134466990828514,0.292527616024017));
res += mul(Get(s2,0,dy), float4x4(0.027162658050656,0.139631584286690,-0.061675205826759,-0.435702085494995,0.066456839442253,0.495967000722885,0.072121553122997,-0.046768382191658,-0.072280175983906,0.044662121683359,0.009836389683187,-0.081630520522594,-0.118843890726566,-0.031397074460983,0.005915681365877,0.178188070654869));
res += mul(Get(s2,dx,-dy), float4x4(0.015195672400296,0.377207726240158,0.026605926454067,-0.143368437886238,-0.245938256382942,0.178655102849007,-0.090191945433617,0.079198971390724,0.011814238503575,-0.089673265814781,0.002825151430443,-0.116370365023613,-0.004100479185581,-0.084415405988693,0.145083159208298,0.059284713119268));
res += mul(Get(s2,dx,0), float4x4(-0.341791152954102,-0.108422338962555,-0.085937678813934,-0.087584689259529,-0.244506716728210,0.001135105034336,-0.123255565762520,0.130839154124260,0.053779691457748,0.052046798169613,-0.043020036071539,-0.264165699481964,0.022354213520885,-0.075053200125694,-0.207578167319298,0.450379520654678));
res += mul(Get(s2,dx,dy), float4x4(-0.105904117226601,-0.058831557631493,-0.043979141861200,-0.199383497238159,0.019274797290564,0.111314669251442,0.052263740450144,0.104862928390503,-0.033322528004646,-0.103978067636490,0.004567428026348,-0.068880148231983,0.039096236228943,-0.141982525587082,0.016364563256502,-0.108874656260014));
res = max(float4(0, 0, 0, 0), res) + float4(0.106733448803425,0.122261159121990,-0.238962858915329,0.188550591468811) * min(float4(0, 0, 0, 0), res);
return res;
}
