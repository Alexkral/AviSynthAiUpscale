sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.326066642999649,-0.136133879423141,-0.013224503025413,-0.167060241103172);
res += mul(Get(s0,-dx,-dy), float4x4(0.202637627720833,0.030000947415829,0.056075181812048,-0.041968647390604,-0.168745934963226,-0.152978658676147,0.010760813020170,-0.111384257674217,0.100430689752102,-0.053532391786575,0.016156969591975,0.015812501311302,0.092702955007553,-0.071730911731720,-0.020681159570813,-0.067868500947952));
res += mul(Get(s0,-dx,0), float4x4(0.178987652063370,0.005222640000284,-0.010603227652609,-0.051925320178270,0.076480545103550,-0.002500221366063,-0.089437514543533,-0.076866880059242,-0.059790965169668,0.001549472566694,0.008898793719709,-0.172438383102417,-0.059981130063534,-0.163220524787903,0.025379285216331,-0.130850896239281));
res += mul(Get(s0,-dx,dy), float4x4(-0.160538807511330,0.091176785528660,0.120542220771313,0.033198643475771,0.115309506654739,0.045904006808996,0.123058691620827,0.085769027471542,0.238116130232811,-0.034468833357096,-0.002254677703604,0.063934586942196,-0.037450838834047,-0.010535639710724,-0.019421964883804,0.257835328578949));
res += mul(Get(s0,0,-dy), float4x4(-0.236412525177002,0.047355841845274,0.076402314007282,-0.024948773905635,0.022725878283381,0.040030207484961,-0.127614811062813,0.040827754884958,0.196729049086571,-0.017786279320717,-0.088065639138222,-0.090947017073631,-0.092266656458378,-0.056723989546299,-0.029316643252969,0.155351907014847));
res += mul(Get(s0,0,0), float4x4(0.223176330327988,-0.046957105398178,-0.311038851737976,-0.261254280805588,-0.385338336229324,0.308483600616455,0.222881570458412,0.062469284981489,-0.122704833745956,-0.120857000350952,0.060584265738726,-0.299975663423538,-0.028901288285851,0.486259847879410,-0.175237312912941,-0.038430463522673));
res += mul(Get(s0,0,dy), float4x4(0.371131002902985,-0.069400444626808,0.342345029115677,0.064180672168732,0.008156758733094,0.122657671570778,0.033134229481220,0.022872082889080,0.263730645179749,-0.015673976391554,0.131757840514183,0.472051560878754,0.121186405420303,-0.248209014534950,-0.042648114264011,0.164222404360771));
res += mul(Get(s0,dx,-dy), float4x4(-0.097118251025677,-0.176085934042931,-0.130892634391785,-0.061733257025480,0.118325993418694,0.060572978109121,-0.014751662500203,-0.008135385811329,-0.240372955799103,-0.109581463038921,-0.022036347538233,0.118052713572979,0.204676657915115,0.085148632526398,0.031060757115483,0.066654600203037));
res += mul(Get(s0,dx,0), float4x4(0.236780419945717,-0.032603420317173,0.204659730195999,-0.201986879110336,-0.114481672644615,-0.445259064435959,-0.125537261366844,0.029185442253947,0.340866416692734,0.108661256730556,-0.022938366979361,-0.314629405736923,0.070629775524139,-0.084658853709698,0.093952789902687,0.296368479728699));
res += mul(Get(s0,dx,dy), float4x4(0.118429407477379,-0.095490992069244,0.089697532355785,-0.060887053608894,-0.104342900216579,-0.085444331169128,-0.110773757100105,-0.009703675284982,0.258341372013092,-0.144501745700836,-0.088246449828148,0.145024597644806,0.012220843695104,-0.015409203246236,0.158213183283806,0.140025362372398));
res += mul(Get(s1,-dx,-dy), float4x4(-0.026295585557818,-0.032410524785519,-0.022583745419979,-0.163470283150673,-0.055708136409521,0.076105460524559,0.011298135854304,0.241355612874031,0.073772132396698,0.058865793049335,-0.002091669244692,0.023527363315225,0.301448613405228,0.062746733427048,-0.081236191093922,-0.216509684920311));
res += mul(Get(s1,-dx,0), float4x4(-0.095284320414066,-0.061091814190149,0.058865882456303,0.033982302993536,0.027108898386359,-0.025145214051008,-0.072399757802486,-0.287367284297943,-0.016288947314024,-0.026956174522638,-0.016342533752322,0.138182491064072,-0.012578117661178,0.077583938837051,-0.010950293391943,0.307247579097748));
res += mul(Get(s1,-dx,dy), float4x4(0.036872152239084,-0.170006960630417,-0.072022870182991,-0.165078148245811,0.015032665804029,0.040409557521343,0.052930641919374,0.087025962769985,-0.097725763916969,0.019077997654676,0.026501944288611,0.055280540138483,0.028101116418839,-0.137154877185822,-0.271644264459610,-0.122018977999687));
res += mul(Get(s1,0,-dy), float4x4(-0.056856613606215,-0.159029185771942,0.087445631623268,-0.259614139795303,-0.010458746924996,-0.095091059803963,0.027599066495895,0.238775730133057,0.226170718669891,0.022655658423901,-0.076212316751480,0.054830521345139,-0.123920947313309,-0.187397480010986,0.076450809836388,0.120091073215008));
res += mul(Get(s1,0,0), float4x4(0.553636729717255,-0.040685389190912,0.420986592769623,0.319810777902603,-0.286728769540787,-0.067302316427231,-0.208461865782738,-0.561254918575287,-0.008210851810873,-0.003754156408831,-0.012726393528283,0.316531747579575,0.343156993389130,0.643600761890411,0.572091281414032,0.083005145192146));
res += mul(Get(s1,0,dy), float4x4(-0.309729188680649,-0.014060416258872,-0.208865329623222,-0.266783088445663,0.216096535325050,-0.144016399979591,0.077393367886543,-0.034259553998709,-0.108698047697544,0.032207347452641,-0.004924324806780,-0.068838991224766,-0.183180436491966,-0.140337839722633,-0.151994213461876,0.113670922815800));
res += mul(Get(s1,dx,-dy), float4x4(0.064563356339931,-0.008113470859826,0.052849911153316,-0.121370874345303,-0.031748041510582,0.092610910534859,-0.049134142696857,-0.009391760453582,0.280983358621597,-0.179028958082199,-0.011610412970185,0.243874460458755,0.193367332220078,-0.099431522190571,0.069817475974560,-0.036538798362017));
res += mul(Get(s1,dx,0), float4x4(0.007967101410031,-0.113110989332199,-0.269629120826721,0.008703260682523,-0.024817090481520,0.192068532109261,0.185630485415459,-0.038459680974483,-0.291807174682617,0.183742523193359,0.075556412339211,0.649294674396515,0.092979453504086,-0.064967311918736,-0.117917776107788,0.018364967778325));
res += mul(Get(s1,dx,dy), float4x4(-0.012026529759169,-0.171755820512772,-0.107036910951138,-0.110646858811378,0.088116742670536,0.074789270758629,0.063642412424088,0.026804994791746,-0.285523325204849,0.062859825789928,-0.059126995503902,-0.346742659807205,0.029856724664569,-0.061968002468348,-0.039416834712029,-0.005702448077500));
res += mul(Get(s2,-dx,-dy), float4x4(-0.167366877198219,0.131287172436714,0.058409083634615,0.109905220568180,-0.149894610047340,-0.098568879067898,0.021880732849240,-0.186884179711342,0.131175443530083,0.071499809622765,-0.039836067706347,-0.096608072519302,-0.150636285543442,-0.109768673777580,0.006650421768427,-0.070444084703922));
res += mul(Get(s2,-dx,0), float4x4(0.158531099557877,-0.231678351759911,-0.075800247490406,-0.231698632240295,-0.066156029701233,0.342166244983673,0.174985766410828,0.148630663752556,-0.190883308649063,0.091963909566402,0.103039354085922,0.128811463713646,-0.187559530138969,0.023284541442990,0.070883333683014,0.089078828692436));
res += mul(Get(s2,-dx,dy), float4x4(-0.033217929303646,0.283667385578156,0.096443481743336,0.217149645090103,-0.007418844383210,0.043228074908257,-0.044779453426600,0.099780634045601,-0.012580697424710,-0.099050059914589,-0.131154879927635,-0.072471745312214,0.075421147048473,0.066471390426159,-0.041074465960264,-0.197711929678917));
res += mul(Get(s2,0,-dy), float4x4(-0.111011564731598,0.044633850455284,0.326288580894470,0.032466944307089,-0.194580048322678,0.153634756803513,-0.208576932549477,-0.107836894690990,0.030784754082561,-0.153489887714386,0.005766934249550,0.044421568512917,-0.065325632691383,0.087523207068443,-0.022264143452048,-0.349065899848938));
res += mul(Get(s2,0,0), float4x4(0.035746682435274,0.272691726684570,0.103845573961735,-0.061713062226772,-0.280675798654556,0.267633974552155,-0.002539490815252,-0.349919110536575,0.057419214397669,-0.243278056383133,0.248037219047546,-0.201367840170860,-0.195067837834358,-0.371579140424728,-0.085804335772991,0.340882033109665));
res += mul(Get(s2,0,dy), float4x4(-0.042713928967714,-0.108865298330784,0.024270335212350,-0.207919850945473,0.223462432622910,0.021834490820765,0.100661434233189,-0.028283994644880,-0.194439649581909,0.043855708092451,-0.071603506803513,0.137290000915527,0.029607897624373,-0.176150426268578,-0.035622619092464,-0.042542085051537));
res += mul(Get(s2,dx,-dy), float4x4(0.128753259778023,0.044522006064653,-0.164058431982994,-0.251739859580994,-0.087005868554115,0.239799663424492,0.087559446692467,0.071292221546173,0.060271300375462,0.109967894852161,0.058973059058189,-0.005652835126966,0.181355252861977,0.097026832401752,0.067726500332355,0.021979115903378));
res += mul(Get(s2,dx,0), float4x4(0.005111538339406,-0.023441979661584,-0.007841350510716,0.229169100522995,-0.175832554697990,-0.301796257495880,-0.352973610162735,0.032625425606966,0.175462543964386,-0.118799172341824,-0.485162317752838,0.148014560341835,-0.219006225466728,0.078927785158157,-0.018579633906484,0.088290758430958));
res += mul(Get(s2,dx,dy), float4x4(-0.103353954851627,-0.065075725317001,-0.060481879860163,-0.124299518764019,-0.036214940249920,0.065715573728085,0.024195728823543,-0.028242480009794,-0.123983740806580,0.051893342286348,-0.025916194543242,0.024086575955153,-0.008117545396090,-0.109681390225887,0.023263325914741,-0.294798761606216));
res = max(float4(0, 0, 0, 0), res) + float4(-0.050478607416153,0.097439981997013,0.859260797500610,-0.048696409910917) * min(float4(0, 0, 0, 0), res);
return res;
}
