sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.370558738708496,0.487255871295929,0.024546649307013,0.157859638333321);
res += float4(0.005589089356363,0.039680812507868,0.036356296390295,0.021080879494548) * Get(-ddx,-ddy);
res += float4(-0.042597997933626,-0.038033496588469,-0.162591084837914,0.014636850915849) * Get(-ddx,-dy);
res += float4(-0.009858909063041,0.000105202852865,0.184504449367523,0.005537912715226) * Get(-ddx,0);
res += float4(-0.012340035289526,0.008909666910768,0.086481928825378,0.021706176921725) * Get(-ddx,dy);
res += float4(-0.003985045477748,-0.002052586991340,0.017765440046787,-0.026543593034148) * Get(-ddx,ddy);
res += float4(0.009676911868155,-0.014228687621653,-0.098941422998905,-0.016495479270816) * Get(-dx,-ddy);
res += float4(-0.170601397752762,0.047566607594490,0.150210916996002,-0.065562129020691) * Get(-dx,-dy);
res += float4(-0.137687772512436,0.004470736719668,0.046738829463720,-0.007670519407839) * Get(-dx,0);
res += float4(-0.043016970157623,0.222768515348434,-0.266219258308411,0.050623476505280) * Get(-dx,dy);
res += float4(-0.050921868532896,-0.082586660981178,0.022543760016561,-0.013394788838923) * Get(-dx,ddy);
res += float4(0.149178385734558,-0.041331779211760,0.153398275375366,0.049074079841375) * Get(0,-ddy);
res += float4(-0.332196891307831,0.152599751949310,-0.347737461328506,-0.559915304183960) * Get(0,-dy);
res += float4(-0.903772950172424,-0.786475777626038,0.018230222165585,0.367716252803802) * Get(0,0);
res += float4(-0.317804634571075,-0.303722232580185,0.470279514789581,0.121398761868477) * Get(0,dy);
res += float4(-0.066087819635868,0.131848856806755,0.102249450981617,-0.054320011287928) * Get(0,ddy);
res += float4(0.035613730549812,-0.010947093367577,0.048415198922157,-0.238632827997208) * Get(dx,-ddy);
res += float4(0.016891481354833,0.083584666252136,0.169994339346886,-0.641410350799561) * Get(dx,-dy);
res += float4(0.341871023178101,-0.099658392369747,-0.537310183048248,-0.379203468561172) * Get(dx,0);
res += float4(-0.051566015928984,-0.008878734894097,0.027129959315062,-0.142588704824448) * Get(dx,dy);
res += float4(0.034722931683064,0.020104497671127,-0.215154036879539,0.033687934279442) * Get(dx,ddy);
res += float4(0.011069183237851,0.025066083297133,-0.164841279387474,-0.024233961477876) * Get(ddx,-ddy);
res += float4(-0.048584207892418,-0.076683185994625,0.112781710922718,-0.112371787428856) * Get(ddx,-dy);
res += float4(-0.051319163292646,0.015526830218732,0.051174204796553,0.069044910371304) * Get(ddx,0);
res += float4(-0.020689962431788,0.102409936487675,0.047008730471134,-0.036150280386209) * Get(ddx,dy);
res += float4(0.019754271954298,-0.054251007735729,0.050271350890398,0.038027767091990) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.467043101787567,-0.732258677482605,0.772117853164673,0.147182643413544) * min(float4(0, 0, 0, 0), res);
return res;
}
