sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.113105230033398,0.065831236541271,0.296176403760910,0.188494667410851);
res += mul(Get(s0,-dx,-dy), float4x4(0.424175143241882,0.348008602857590,0.175270497798920,0.234815359115601,-0.096296928822994,-0.216539129614830,-0.218235865235329,0.137699410319328,-0.017833519726992,0.142107173800468,-0.058678649365902,0.068153016269207,0.190849527716637,-0.007710063364357,-0.060951005667448,-0.199732422828674));
res += mul(Get(s0,-dx,0), float4x4(0.035790435969830,0.313135087490082,0.195539578795433,0.112232394516468,-0.105267211794853,0.177444294095039,0.570989847183228,0.599901497364044,0.165550082921982,-0.426930457353592,0.002177114831284,-0.263576716184616,0.160598516464233,0.551801502704620,0.254336208105087,-0.140740141272545));
res += mul(Get(s0,-dx,dy), float4x4(-0.118025235831738,0.010411744005978,0.025547962635756,-0.119268871843815,-0.424321085214615,0.368715912103653,0.268957406282425,-0.344154298305511,0.003634874476120,0.022487659007311,0.152504056692123,0.158833160996437,-0.066163934767246,0.223597884178162,0.136819988489151,0.175508901476860));
res += mul(Get(s0,0,-dy), float4x4(-0.224853023886681,0.235828608274460,0.093624904751778,-0.368019521236420,-0.114804171025753,0.028713947162032,0.099271692335606,0.020460989326239,0.689380526542664,-0.029792197048664,-0.152530610561371,0.081376329064369,0.151277750730515,-0.127863019704819,-0.071818999946117,-0.271288484334946));
res += mul(Get(s0,0,0), float4x4(-0.538144528865814,-0.151527792215347,-0.313099533319473,0.199794009327888,-0.131648257374763,-0.069451153278351,0.155364871025085,-0.155857443809509,-0.305273920297623,0.507089972496033,0.372032552957535,0.398665875196457,0.594135046005249,-0.287595689296722,-0.208317473530769,0.142996847629547));
res += mul(Get(s0,0,dy), float4x4(-0.000243687085458,0.150565579533577,0.177644267678261,-0.264759033918381,-0.128420293331146,0.041914042085409,0.156963497400284,0.094836600124836,-0.135915353894234,0.169186055660248,0.079720795154572,-0.172596126794815,0.187960818409920,-0.019886588677764,-0.076369188725948,0.027580667287111));
res += mul(Get(s0,dx,-dy), float4x4(0.015469615347683,-0.396708935499191,-0.292397588491440,0.146268501877785,0.043898697942495,0.066825129091740,0.022521538659930,-0.127231955528259,-0.101817265152931,0.006329788360745,-0.073251634836197,-0.032753128558397,-0.171465814113617,-0.059542350471020,0.108895242214203,0.112370222806931));
res += mul(Get(s0,dx,0), float4x4(0.158628195524216,-0.067164458334446,-0.109723024070263,0.015063530765474,0.152707278728485,0.013955439440906,-0.041082467883825,0.038253061473370,0.299984067678452,-0.168840020895004,-0.188813909888268,0.017654350027442,0.064298547804356,-0.123246461153030,0.046043828129768,0.019275560975075));
res += mul(Get(s0,dx,dy), float4x4(-0.017396619543433,-0.053442500531673,-0.164813593029976,0.069440953433514,0.012680480256677,-0.014855229295790,0.005428494419903,0.015788123011589,-0.059974987059832,-0.213808462023735,-0.005513943731785,0.053260561078787,-0.092840082943439,0.013948221690953,0.107831247150898,0.096238531172276));
res += mul(Get(s1,-dx,-dy), float4x4(0.319465547800064,-0.042899128049612,0.223492562770844,0.112754993140697,-0.096617393195629,0.056476987898350,-0.102171853184700,0.208590447902679,-0.214055657386780,0.006039024796337,-0.128516748547554,-0.337258130311966,0.314113885164261,-0.238712236285210,0.111633792519569,-0.112027823925018));
res += mul(Get(s1,-dx,0), float4x4(-0.101988784968853,0.050201673060656,0.154809847474098,-0.336086124181747,0.030267264693975,-0.017009222880006,0.229953199625015,-0.329067617654800,-0.257418185472488,-0.650377035140991,-0.204703167080879,-0.490021884441376,0.072620645165443,-0.115604311227798,0.268637210130692,-0.005305594298989));
res += mul(Get(s1,-dx,dy), float4x4(0.422559440135956,-0.031333606690168,0.257863461971283,-0.098848447203636,0.150288209319115,-0.023819858208299,-0.247022375464439,-0.138436391949654,-0.025969214737415,-0.075824938714504,0.024955851957202,-0.028358548879623,0.201749831438065,-0.018680410459638,-0.020112628117204,0.006574299652129));
res += mul(Get(s1,0,-dy), float4x4(0.394448846578598,0.019808445125818,-0.193160876631737,-0.081325888633728,-0.087201453745365,-0.041921500116587,-0.576802134513855,0.142563611268997,-0.232323005795479,-0.039040643721819,-0.081950664520264,-0.312468707561493,0.064048528671265,0.201166212558746,0.381034642457962,0.638171136379242));
res += mul(Get(s1,0,0), float4x4(0.454214006662369,-0.030138181522489,-0.050244841724634,0.117431133985519,-0.511590838432312,0.132304489612579,0.369166016578674,-0.348925679922104,-0.123759508132935,0.012942805886269,-0.003948051948100,-0.363745957612991,-0.050179231911898,-0.211269423365593,-0.028486896306276,-0.076219119131565));
res += mul(Get(s1,0,dy), float4x4(0.228804603219032,-0.058993466198444,-0.057525265961885,-0.036562342196703,0.249973088502884,-0.354898661375046,-0.853050827980042,0.396122425794601,-0.078077718615532,-0.034185908734798,-0.033337168395519,0.003068093210459,0.042484439909458,-0.022299762815237,-0.054660409688950,-0.075150132179260));
res += mul(Get(s1,dx,-dy), float4x4(0.192054197192192,0.055966932326555,0.089611768722534,-0.030313838273287,0.114353701472282,0.040871795266867,-0.048967342823744,-0.110669478774071,-0.016925724223256,-0.079173207283020,-0.054653752595186,-0.153443962335587,-0.339134842157364,-0.051872897893190,0.024910228326917,-0.162317499518394));
res += mul(Get(s1,dx,0), float4x4(0.199901342391968,0.080932684242725,0.145472288131714,0.039352238178253,-0.128072142601013,0.023423910140991,-0.117724262177944,-0.111579708755016,-0.121913224458694,-0.086995087563992,-0.064220160245895,-0.212562650442123,-0.179425746202469,-0.005505632143468,-0.079423978924751,0.125829085707664));
res += mul(Get(s1,dx,dy), float4x4(0.100327581167221,0.003719558240846,-0.094085760414600,0.010928178206086,-0.057947561144829,0.025474634021521,-0.141863450407982,-0.228458821773529,-0.127251908183098,-0.060537271201611,-0.059589456766844,-0.027355343103409,0.126929283142090,-0.008972864598036,0.063361212611198,0.011590955778956));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021578924730420,0.023393547162414,-0.027067212387919,-0.070351727306843,-0.253141134977341,-0.153062686324120,-0.262675255537033,0.238001957535744,-0.037093393504620,-0.088304959237576,0.059314806014299,-0.085272930562496,-0.225430667400360,0.004030162468553,-0.080160155892372,0.395072996616364));
res += mul(Get(s2,-dx,0), float4x4(-0.014240025542676,-0.029078600928187,-0.461101591587067,-0.316544324159622,0.254943728446960,0.105996064841747,0.160349756479263,0.285632461309433,0.249403923749924,-0.372599989175797,0.066342063248158,-0.015254795551300,-0.113857641816139,0.191775187849998,-0.007910554297268,-0.064404681324959));
res += mul(Get(s2,-dx,dy), float4x4(-0.308749109506607,-0.045525152236223,-0.488268613815308,-0.138731583952904,-0.075199164450169,-0.038740213960409,-0.025016577914357,0.019992107525468,0.180388852953911,-0.001734571764246,0.513486444950104,-0.302973002195358,-0.006159284617752,-0.030328731983900,-0.300534069538116,0.200533792376518));
res += mul(Get(s2,0,-dy), float4x4(-0.124726764857769,0.016500826925039,-0.121220886707306,-0.056364275515079,-0.050494384020567,-0.079298257827759,-0.097748339176178,-0.128283828496933,0.034147109836340,0.071841277182102,-0.028291253373027,0.200512751936913,-0.536764800548553,0.179269284009933,-0.022737000137568,0.133803591132164));
res += mul(Get(s2,0,0), float4x4(-0.604821503162384,0.017859155312181,-0.494385212659836,-0.250606864690781,0.526344537734985,-0.194344550371170,-0.161702692508698,-0.409182786941528,0.114905290305614,0.471897304058075,0.140553191304207,0.384389072656631,0.188712388277054,0.564284801483154,0.044955834746361,-0.186823293566704));
res += mul(Get(s2,0,dy), float4x4(-0.777697503566742,-0.132459402084351,-0.503385007381439,0.116457730531693,-0.231363847851753,-0.307895809412003,-0.406840205192566,-0.110842287540436,-0.010034069418907,0.287793248891830,0.182738989591599,-0.167009860277176,0.242781072854996,0.105162888765335,-0.020925363525748,0.041384965181351));
res += mul(Get(s2,dx,-dy), float4x4(-0.116649232804775,-0.026481634005904,-0.033052977174520,0.051089081913233,-0.016773302108049,0.000182264993782,0.091504395008087,-0.149458229541779,-0.052242923527956,-0.003352604107931,0.064355142414570,-0.123127602040768,-0.027056101709604,0.019047848880291,-0.205060467123985,0.153470695018768));
res += mul(Get(s2,dx,0), float4x4(0.048503372818232,0.037244368344545,-0.002185991033912,-0.003876538714394,-0.366231143474579,-0.265368312597275,-0.211810827255249,-0.265378773212433,0.010599253699183,-0.013022641651332,-0.097382172942162,-0.226584553718567,-0.235739484429359,-0.005343814846128,0.076145499944687,-0.013744411990047));
res += mul(Get(s2,dx,dy), float4x4(-0.071878761053085,0.106716535985470,-0.102681443095207,-0.106411121785641,-0.084511257708073,-0.028561819344759,-0.038562331348658,-0.015624398365617,0.173312619328499,0.167174503207207,0.107858121395111,0.117125302553177,0.258791565895081,-0.048324458301067,-0.073686160147190,0.150190606713295));
res = max(float4(0, 0, 0, 0), res) + float4(-0.009510209783912,-0.394413977861404,0.392579704523087,0.679786443710327) * min(float4(0, 0, 0, 0), res);
return res;
}
