sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.185582861304283,-0.247326552867889,-0.075649358332157,0.000369130924810);
res += mul(Get(s0,-dx,-dy), float4x4(-0.052615590393543,-0.193395420908928,-0.065762758255005,-0.075509324669838,0.141949132084846,0.268261015415192,0.016199465841055,0.057271867990494,0.014413841068745,0.211411684751511,-0.128946796059608,-0.015370544046164,0.200984567403793,0.230808123946190,0.012311434373260,0.096731707453728));
res += mul(Get(s0,-dx,0), float4x4(0.036959622055292,-0.135517850518227,0.071128338575363,-0.078668400645256,0.177078276872635,0.362657696008682,-0.037101149559021,0.200807332992554,-0.057412263005972,-0.041792288422585,-0.084015905857086,-0.125615075230598,0.089210681617260,0.201756924390793,0.054286010563374,0.211332947015762));
res += mul(Get(s0,-dx,dy), float4x4(0.071381889283657,0.051769785583019,-0.070612415671349,0.127343088388443,-0.063436120748520,0.055014301091433,-0.020292354747653,-0.035175886005163,-0.009667838923633,0.102342627942562,0.001733642537147,0.006183710880578,-0.042364299297333,0.044838406145573,-0.065641015768051,0.028079407289624));
res += mul(Get(s0,0,-dy), float4x4(0.121156342327595,0.043912779539824,-0.184037446975708,-0.045521695166826,0.040433023124933,-0.149565681815147,0.042236596345901,-0.052300471812487,0.051886267960072,0.082075826823711,-0.097603701055050,-0.168173596262932,-0.199787780642509,0.022128740325570,-0.010636989958584,-0.072173647582531));
res += mul(Get(s0,0,0), float4x4(-0.454142153263092,-0.163926079869270,0.204899385571480,0.007258119527251,0.174312636256218,-0.262234866619110,0.028694685548544,-0.168282598257065,-0.002789080841467,0.060680061578751,0.117575906217098,0.460924923419952,0.054783370345831,0.396587669849396,-0.234290689229965,-0.034260191023350));
res += mul(Get(s0,0,dy), float4x4(0.035416088998318,-0.044737420976162,-0.158326536417007,-0.101461037993431,0.069664523005486,-0.015879381448030,0.117278307676315,-0.231828868389130,0.036253012716770,0.047956660389900,0.048103045672178,-0.033964619040489,0.199985086917877,0.146915659308434,0.139573648571968,-0.026733743026853));
res += mul(Get(s0,dx,-dy), float4x4(0.040817152708769,0.090609349310398,0.017387567088008,0.032426469027996,0.088546857237816,0.075333140790462,0.086193867027760,-0.029380688443780,0.074453517794609,-0.232232883572578,-0.091236181557178,-0.067843690514565,0.148694500327110,-0.083762384951115,0.115056842565536,-0.049685351550579));
res += mul(Get(s0,dx,0), float4x4(0.253684222698212,0.272051185369492,-0.157766744494438,-0.051989406347275,-0.075967684388161,0.209525391459465,0.140323892235756,0.080536335706711,0.014069873839617,0.085534207522869,0.025733044371009,-0.135928496718407,0.121493525803089,-0.194834679365158,0.112716309726238,-0.127185553312302));
res += mul(Get(s0,dx,dy), float4x4(0.137072786688805,-0.041733197867870,-0.190939113497734,-0.001597705180757,0.014997049234807,0.058538153767586,-0.076942399144173,0.075450681149960,-0.024728532880545,-0.069867774844170,0.074427679181099,-0.046520091593266,-0.047895871102810,-0.055185101926327,-0.009662186726928,-0.099297262728214));
res += mul(Get(s1,-dx,-dy), float4x4(-0.080227240920067,-0.037781592458487,0.189076110720634,-0.140819489955902,-0.063585229218006,0.178733825683594,0.053705193102360,0.018406076356769,0.240942761301994,-0.071082301437855,-0.001799816731364,0.009167066775262,0.144063174724579,-0.109966732561588,-0.076590828597546,0.013743986375630));
res += mul(Get(s1,-dx,0), float4x4(0.177926346659660,0.048716150224209,-0.276671826839447,-0.034161087125540,-0.063399396836758,0.001835768343881,-0.070481717586517,0.035163104534149,0.352691769599915,-0.379519134759903,0.029693000018597,0.034299384802580,0.180663540959358,0.080793529748917,-0.197991818189621,0.003625293727964));
res += mul(Get(s1,-dx,dy), float4x4(-0.040732581168413,-0.184957027435303,0.120168067514896,0.048736743628979,-0.053075756877661,-0.012463578954339,0.058844223618507,-0.054728284478188,-0.073403760790825,-0.217853367328644,0.078122720122337,0.041155382990837,0.048310313373804,-0.084719501435757,0.207449749112129,0.001238851575181));
res += mul(Get(s1,0,-dy), float4x4(-0.026939755305648,-0.114748142659664,0.454705834388733,0.045348480343819,-0.086427636444569,-0.089721851050854,0.147796615958214,-0.126430183649063,0.179917290806770,0.037340115755796,-0.251773625612259,0.014176957309246,0.068062365055084,-0.000523879018147,0.097294047474861,0.125928208231926));
res += mul(Get(s1,0,0), float4x4(-0.165488645434380,-0.114981107413769,-0.428903609514236,-0.156625807285309,0.280281424522400,0.067277453839779,-0.410634309053421,0.096563413739204,-0.905094563961029,0.162151440978050,-0.259541094303131,-0.034924015402794,-0.049156971275806,-0.062931068241596,-0.831699788570404,-0.426105797290802));
res += mul(Get(s1,0,dy), float4x4(-0.005610188934952,0.223503246903419,0.383284032344818,0.242933660745621,0.026932634413242,0.008463220670819,0.285137087106705,-0.004276137333363,-0.065065227448940,0.039810437709093,0.059102915227413,0.067560136318207,0.175790742039680,0.108306132256985,0.501280605792999,0.329587846994400));
res += mul(Get(s1,dx,-dy), float4x4(0.038125637918711,0.133702680468559,0.303968578577042,0.003204154549167,-0.190355062484741,-0.024127557873726,-0.006459365598857,-0.021438896656036,-0.028612114489079,0.025729397311807,-0.072697415947914,-0.015310528688133,-0.114036157727242,0.123542621731758,0.072188720107079,-0.031416814774275));
res += mul(Get(s1,dx,0), float4x4(-0.043833464384079,0.006206657271832,0.139611124992371,-0.097277119755745,-0.213085845112801,0.125631451606750,-0.024318775162101,0.028268011286855,-0.140383630990982,-0.134105831384659,-0.149475350975990,-0.002095225267112,0.163933962583542,0.192730069160461,-0.193320855498314,0.133980408310890));
res += mul(Get(s1,dx,dy), float4x4(-0.002340544713661,-0.076504841446877,-0.106341011822224,0.002945231040940,0.063312575221062,0.072761557996273,0.138312801718712,0.060737967491150,-0.037011370062828,0.005666966550052,0.047324519604445,-0.024783797562122,0.071876108646393,-0.030909409746528,0.172949358820915,0.054143875837326));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021987417712808,-0.499833911657333,-0.063784062862396,-0.112433210015297,-0.121665246784687,-0.132004857063293,-0.155910432338715,-0.020438237115741,-0.012555475346744,0.017941102385521,-0.183786258101463,0.028971230611205,-0.103966861963272,0.186690837144852,0.064324915409088,0.044510297477245));
res += mul(Get(s2,-dx,0), float4x4(-0.011396735906601,-0.248826161026955,-0.050860043615103,-0.200108230113983,0.013798023574054,-0.147929891943932,-0.265627562999725,-0.006046120543033,-0.021807007491589,0.062622405588627,-0.043635793030262,-0.013600518926978,0.302496612071991,0.433400213718414,0.001409301883541,0.170908123254776));
res += mul(Get(s2,-dx,dy), float4x4(0.026937192305923,-0.034601133316755,0.011075532995164,-0.028391044586897,0.026634536683559,0.077756084501743,-0.059412080794573,-0.025141224265099,0.052884716540575,-0.050300817936659,0.040299154818058,-0.024791337549686,0.112849980592728,0.178064286708832,-0.048527199774981,0.128966048359871));
res += mul(Get(s2,0,-dy), float4x4(-0.008348717354238,0.052041381597519,-0.327798455953598,0.222413957118988,0.051324252039194,0.111826799809933,0.148436918854713,0.063109606504440,-0.020005719736218,0.023217542096972,0.093558765947819,-0.084350965917110,0.124892339110374,-0.087149001657963,-0.108081072568893,0.009115069173276));
res += mul(Get(s2,0,0), float4x4(-0.196856915950775,-0.132850512862206,-0.101960189640522,0.214186459779739,-0.322593629360199,0.104872308671474,-0.280108451843262,-0.101120173931122,0.245972946286201,-0.058007258921862,-0.131866276264191,0.077810980379581,0.217792019248009,0.432099163532257,-0.037426702678204,-0.242166593670845));
res += mul(Get(s2,0,dy), float4x4(0.092536166310310,0.015223427675664,0.184757277369499,0.167333424091339,-0.065247446298599,-0.124754562973976,-0.242251962423325,-0.204064682126045,0.082050628960133,0.052773725241423,0.235399320721626,0.108785048127174,0.118712887167931,-0.037854883819818,-0.303620725870132,-0.142352536320686));
res += mul(Get(s2,dx,-dy), float4x4(-0.030653407797217,0.096418909728527,-0.020869711413980,-0.028623629361391,-0.047647349536419,0.024811467155814,-0.086313277482986,0.062381252646446,0.008630389347672,0.071694433689117,0.064813271164894,0.015392430126667,0.175413325428963,-0.109289802610874,-0.181410506367683,0.015648806467652));
res += mul(Get(s2,dx,0), float4x4(0.105797946453094,0.240866854786873,-0.064783915877342,-0.072718419134617,-0.080336607992649,0.069478832185268,0.041578155010939,0.121177799999714,0.209034219384193,0.081142812967300,-0.085596576333046,-0.088074654340744,-0.229032143950462,-0.262543827295303,-0.096225991845131,0.080339893698692));
res += mul(Get(s2,dx,dy), float4x4(-0.049913723021746,-0.081872604787350,-0.081756301224232,-0.031112780794501,-0.158712252974510,0.176537886261940,-0.249125927686691,-0.147457942366600,0.008980898186564,-0.097456358373165,-0.056472472846508,0.106164932250977,0.003848847234622,0.050604026764631,-0.023101549595594,-0.059297896921635));
res = max(float4(0, 0, 0, 0), res) + float4(-0.006693644449115,0.140334665775299,0.047924049198627,1.035767793655396) * min(float4(0, 0, 0, 0), res);
return res;
}
