sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.073859140276909,-0.096450775861740,0.059292584657669,-0.040495883673429);
res += mul(Get(s0,-dx,-dy), float4x4(-0.007962587289512,0.152704760432243,0.035870164632797,0.018520841374993,0.075076684355736,-0.036783803254366,0.045914981514215,-0.074582040309906,0.016301777213812,0.075410544872284,0.286429703235626,0.092636764049530,-0.097526848316193,0.079492405056953,-0.057607047259808,-0.069002047181129));
res += mul(Get(s0,-dx,0), float4x4(0.009211429394782,-0.000228088232689,-0.042567316442728,-0.047555219382048,0.099820524454117,0.226674363017082,0.188120499253273,-0.079872250556946,-0.156373485922813,0.032099269330502,-0.292539417743683,-0.448070645332336,0.302487105131149,-0.055962868034840,0.067241080105305,-0.018615428358316));
res += mul(Get(s0,-dx,dy), float4x4(0.045513361692429,0.053013272583485,0.002818670356646,-0.084826461970806,-0.169637084007263,0.019215559586883,0.441716164350510,-0.031690035015345,-0.025401860475540,-0.016506241634488,-0.075061336159706,0.155176490545273,0.065418444573879,-0.354918539524078,-0.179523468017578,-0.241705343127251));
res += mul(Get(s0,0,-dy), float4x4(0.272074520587921,-0.347454220056534,-0.383368432521820,-0.071069903671741,-0.204800546169281,0.164907723665237,-0.187835633754730,-0.050269778817892,-0.151221677660942,-0.086399033665657,-0.023410648107529,0.103130392730236,0.103313490748405,-0.027537493035197,-0.120042212307453,-0.070938788354397));
res += mul(Get(s0,0,0), float4x4(-0.003466917667538,-0.049469374120235,-0.304975539445877,0.180990189313889,-0.047728449106216,0.002376999007538,0.200883239507675,-0.433463871479034,0.013368189334869,0.555492579936981,0.331170648336411,0.323813438415527,-0.085504926741123,-0.164903372526169,-0.441655009984970,0.040604732930660));
res += mul(Get(s0,0,dy), float4x4(0.066325247287750,0.006655208766460,0.100547425448895,0.034188184887171,-0.112961836159229,0.124625794589520,-0.017993990331888,-0.275079458951950,0.421147257089615,0.121771238744259,0.080412924289703,-0.278782486915588,-0.396713644266129,-0.322654306888580,0.378164708614349,0.189501956105232));
res += mul(Get(s0,dx,-dy), float4x4(0.369823813438416,0.098964117467403,0.810690462589264,-0.090193942189217,0.012087438255548,0.171426102519035,-0.163776293396950,-0.317538887262344,0.192484259605408,-0.224792823195457,-0.107778273522854,-0.012105301022530,0.100501418113708,0.024145621806383,0.025029562413692,-0.047893974930048));
res += mul(Get(s0,dx,0), float4x4(-0.196426138281822,0.110907666385174,-0.118809916079044,-0.026326062157750,-0.243914559483528,-0.198104932904243,-0.245711714029312,-0.332373529672623,-0.052010808140039,-0.190800130367279,-0.137936890125275,-0.171783834695816,-0.066228419542313,0.345157146453857,-0.262540668249130,-0.007057133596390));
res += mul(Get(s0,dx,dy), float4x4(0.158793881535530,0.080303512513638,-0.039926152676344,-0.027831967920065,-0.221126839518547,0.057379473000765,-0.766123592853546,-0.264656782150269,-0.143529251217842,0.039041280746460,-0.095450982451439,0.164951428771019,-0.120692253112793,-0.007644575554878,-0.184945523738861,-0.172398552298546));
res += mul(Get(s1,-dx,-dy), float4x4(0.093708723783493,-0.161621093750000,-0.017236318439245,0.006054388359189,-0.134261652827263,-0.139100730419159,-0.123737320303917,-0.214606761932373,-0.026619056239724,0.148514151573181,-0.027975263074040,0.066525645554066,-0.091956339776516,-0.069057166576385,-0.151386544108391,-0.136999234557152));
res += mul(Get(s1,-dx,0), float4x4(0.101458363234997,-0.140202313661575,0.096019737422466,0.072417557239532,-0.163954660296440,0.270085632801056,0.201220914721489,0.350884974002838,-0.154955968260765,-0.191070437431335,-0.004582974128425,0.062037665396929,-0.010296639986336,-0.038841109722853,0.088563516736031,0.102858155965805));
res += mul(Get(s1,-dx,dy), float4x4(-0.141716733574867,0.056775860488415,0.085712753236294,0.030255652964115,0.022110693156719,-0.028941530734301,0.100365459918976,-0.078396737575531,0.127258837223053,-0.007714294828475,0.079475551843643,-0.072033539414406,0.033361893147230,-0.089305028319359,-0.101498790085316,0.053903289139271));
res += mul(Get(s1,0,-dy), float4x4(0.033822279423475,0.018585026264191,0.099838554859161,0.031037384644151,0.155307158827782,0.230427905917168,0.047610592097044,-0.189280867576599,-0.003508089343086,-0.083727665245533,-0.077960766851902,-0.140405222773552,-0.209913805127144,0.125004678964615,-0.200696468353271,-0.180019259452820));
res += mul(Get(s1,0,0), float4x4(0.335523784160614,-0.074284523725510,0.173126429319382,-0.148867785930634,-0.068909518420696,-0.243623331189156,-0.343974530696869,-0.457472205162048,0.338673919439316,0.019177120178938,-0.003214538795874,0.039127480238676,-0.168740496039391,0.516745984554291,0.367506146430969,0.026967706158757));
res += mul(Get(s1,0,dy), float4x4(-0.299755752086639,-0.329186618328094,-0.292979866266251,0.077775850892067,-0.164979815483093,-0.089994087815285,-0.072508245706558,-0.151606172323227,0.425666242837906,0.183179005980492,-0.053331859409809,0.051249388605356,0.119538165628910,0.261428505182266,0.081710301339626,0.034016601741314));
res += mul(Get(s1,dx,-dy), float4x4(-0.164182573556900,0.036586474627256,-0.090330414474010,-0.174646750092506,-0.069974452257156,-0.175113797187805,0.007289906032383,-0.160919636487961,0.146828100085258,-0.054742332547903,0.007913995534182,-0.195969656109810,0.304187595844269,0.003055794630200,-0.131239548325539,-0.267573267221451));
res += mul(Get(s1,dx,0), float4x4(0.069284975528717,0.144918814301491,0.032050121575594,0.150073587894440,0.350909441709518,0.437773704528809,0.423747032880783,0.642541289329529,0.050722330808640,-0.060647103935480,-0.094325855374336,-0.024343011900783,0.220961004495621,0.254314720630646,0.112405411899090,0.159918606281281));
res += mul(Get(s1,dx,dy), float4x4(-0.001917584682815,-0.018507268279791,0.008030699566007,0.160109177231789,0.173473879694939,-0.022118955850601,0.129889756441116,0.115037947893143,-0.045358832925558,0.074061475694180,-0.102304406464100,-0.160583660006523,-0.225219815969467,-0.261995553970337,0.226284921169281,-0.174048602581024));
res += mul(Get(s2,-dx,-dy), float4x4(0.069679580628872,-0.104648068547249,-0.199843540787697,-0.011788805015385,0.064697884023190,0.124068051576614,0.012740951962769,0.006404404528439,-0.084463693201542,0.109641551971436,0.231226548552513,-0.009237877093256,0.295138537883759,0.071120254695415,0.175188764929771,-0.038911566138268));
res += mul(Get(s2,-dx,0), float4x4(0.078575514256954,-0.125625848770142,0.087900497019291,-0.187854260206223,0.012375856749713,-0.280960917472839,-0.137941986322403,-0.209415674209595,-0.004112019203603,0.218026563525200,0.648781895637512,0.179079174995422,-0.099869966506958,-0.520976603031158,-0.227779552340508,-0.203700304031372));
res += mul(Get(s2,-dx,dy), float4x4(-0.009508496150374,0.075217582285404,-0.102506399154663,0.012284331955016,0.021182235330343,0.117475427687168,-0.149955451488495,0.044187203049660,0.222916916012764,0.097744822502136,0.156771346926689,0.031677044928074,-0.110274180769920,-0.081868976354599,-0.093750774860382,-0.084018804132938));
res += mul(Get(s2,0,-dy), float4x4(-0.175523772835732,0.096990853548050,-0.084211952984333,0.046886105090380,0.179863780736923,0.170132696628571,-0.071996092796326,-0.017815286293626,-0.108028464019299,-0.199936255812645,0.050712402909994,-0.045316793024540,0.255131483078003,-0.012619207613170,0.304027467966080,0.046768344938755));
res += mul(Get(s2,0,0), float4x4(-0.182457104325294,0.493396013975143,0.354022920131683,0.483083575963974,0.046481806784868,-0.161630168557167,0.115393586456776,0.138448938727379,0.329495787620544,-0.041023563593626,0.434166729450226,-0.372150093317032,-0.289281636476517,-0.095172144472599,-0.383901447057724,-0.119460068643093));
res += mul(Get(s2,0,dy), float4x4(0.111075595021248,-0.066247507929802,-0.043724432587624,-0.095852464437485,-0.062731459736824,0.053385980427265,0.027199940755963,-0.100132986903191,0.263907432556152,-0.124911233782768,0.159606933593750,0.132486298680305,-0.483667314052582,-0.020303718745708,-0.161071136593819,0.116611905395985));
res += mul(Get(s2,dx,-dy), float4x4(-0.082786604762077,-0.059635978192091,-0.096906706690788,-0.107840009033680,-0.048826858401299,0.023935515433550,0.439428180456161,0.083781734108925,0.016642916947603,-0.161208301782608,-0.083429977297783,-0.020716844126582,0.117734350264072,-0.233978271484375,0.190370485186577,0.196994870901108));
res += mul(Get(s2,dx,0), float4x4(0.206390067934990,-0.290656089782715,0.038470800966024,0.008461328223348,-0.131875097751617,-0.422609001398087,0.479576706886292,0.176059886813164,0.097147323191166,-0.326293736696243,-0.146101623773575,-0.118932567536831,0.106584802269936,0.580698192119598,0.517559289932251,0.745481669902802));
res += mul(Get(s2,dx,dy), float4x4(0.121476210653782,0.115688472986221,-0.026239711791277,0.109962753951550,-0.022195259109139,-0.049675665795803,0.251935273408890,-0.054476354271173,0.120733104646206,-0.250193625688553,-0.105310469865799,-0.096522472798824,0.175301432609558,0.049930170178413,0.132103994488716,0.058050766587257));
res = max(float4(0, 0, 0, 0), res) + float4(0.824458956718445,0.264596134424210,0.063803829252720,0.554752290248871) * min(float4(0, 0, 0, 0), res);
return res;
}
