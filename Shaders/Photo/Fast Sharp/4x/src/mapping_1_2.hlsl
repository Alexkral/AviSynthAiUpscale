sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.003600387368351,0.025340178981423,0.169998064637184,-0.103534519672394);
res += mul(Get(s0,-dx,-dy), float4x4(0.009102466516197,-0.147147521376610,-0.025596799328923,-0.097892776131630,-0.107598893344402,0.046669300645590,0.196421056985855,0.212881371378899,-0.191614314913750,-0.224296227097511,0.131013676524162,-0.219802960753441,-0.155367106199265,-0.075816981494427,-0.165235221385956,0.140437111258507));
res += mul(Get(s0,-dx,0), float4x4(-0.081293128430843,0.034086327999830,0.081669166684151,-0.071506306529045,0.001695694867522,0.214002624154091,0.068742103874683,-0.194424271583557,-0.014250860549510,-0.154902786016464,-0.316240698099136,0.289604932069778,-0.010041525587440,0.180181145668030,-0.171435400843620,-0.889737069606781));
res += mul(Get(s0,-dx,dy), float4x4(-0.065326787531376,-0.051954109221697,0.021000389009714,0.060555614531040,0.015106839127839,0.185948148369789,0.033741120249033,0.010429659858346,-0.126663088798523,0.259517639875412,0.222812443971634,-0.171884790062904,-0.519635260105133,0.042038738727570,-0.497792840003967,-0.189691215753555));
res += mul(Get(s0,0,-dy), float4x4(-0.530564427375793,-0.493166863918304,0.018420875072479,0.055667828768492,-0.092044092714787,0.011134020984173,-0.049389969557524,0.317675173282623,0.098046213388443,0.130854889750481,-0.223617956042290,-0.033210180699825,0.031551264226437,0.146439671516418,-0.002596506150439,-0.139617636799812));
res += mul(Get(s0,0,0), float4x4(-0.010097329504788,0.000341608538292,-0.084866471588612,-0.160298332571983,0.303094625473022,-0.151712745428085,0.140444621443748,-0.082434594631195,0.553794264793396,0.047976650297642,0.354670614004135,-0.039199635386467,-0.045647028833628,-0.088023729622364,-0.479999542236328,0.977888107299805));
res += mul(Get(s0,0,dy), float4x4(-0.008060921914876,0.117358878254890,-0.193733811378479,0.068597681820393,0.159006968140602,-0.119265377521515,-0.154286384582520,-0.088756315410137,-0.162838935852051,-0.013074455782771,-0.149512529373169,0.133441179990768,0.274233460426331,0.188986942172050,0.266630858182907,-0.000554185418878));
res += mul(Get(s0,dx,-dy), float4x4(0.371598899364471,0.171195119619370,0.831240773200989,-0.529089093208313,0.014134931378067,0.104688495397568,0.175172984600067,-0.474857032299042,-0.003623085329309,-0.036842465400696,-0.030115814879537,-0.124520793557167,0.026755159720778,-0.034461613744497,0.083156116306782,-0.071059599518776));
res += mul(Get(s0,dx,0), float4x4(0.036949317902327,-0.060451038181782,-0.003763854270801,0.081137686967850,-0.317048519849777,-0.248259425163269,0.095852553844452,-0.337969869375229,0.137501418590546,-0.135801777243614,0.038680657744408,-0.101474061608315,0.080335050821304,-0.141440704464912,-0.276297390460968,0.104676350951195));
res += mul(Get(s0,dx,dy), float4x4(0.140206351876259,0.025324726477265,0.003900266950950,-0.068804152309895,-0.487791955471039,0.014714037999511,-0.158892408013344,-0.012809971347451,-0.196461394429207,0.079219780862331,0.010690622963011,0.036620303988457,0.159060001373291,-0.217912867665291,0.009962084703147,-0.048125360161066));
res += mul(Get(s1,-dx,-dy), float4x4(0.238060891628265,0.061669051647186,-0.092881627380848,0.088260374963284,-0.106778018176556,-0.044647052884102,0.021739725023508,0.259980559349060,-0.066723637282848,0.200315549969673,0.010343682952225,0.060990862548351,-0.205018490552902,0.019935870543122,0.060503408312798,-0.167431205511093));
res += mul(Get(s1,-dx,0), float4x4(-0.023423703387380,0.247724875807762,-0.136184602975845,0.023487102240324,0.231168374419212,-0.024729972705245,0.175514191389084,-0.216386437416077,-0.118947342038155,-0.221288606524467,0.049035463482141,-0.314657449722290,-0.235422164201736,-0.402548462152481,-0.023747807368636,0.043596368283033));
res += mul(Get(s1,-dx,dy), float4x4(-0.144865036010742,0.023564897477627,0.211332842707634,0.017456231638789,0.341216146945953,0.188891261816025,-0.192747175693512,-0.127174451947212,-0.251506090164185,0.074694395065308,-0.152729690074921,-0.060621514916420,-0.030324412509799,0.127752065658569,-0.102188840508461,0.071019649505615));
res += mul(Get(s1,0,-dy), float4x4(0.051675386726856,-0.110768288373947,-0.026421323418617,-0.149118915200233,0.050748161971569,-0.092640548944473,0.236698478460312,-0.258085638284683,0.036704819649458,-0.102409519255161,-0.151673659682274,-0.012596287764609,0.132772564888000,-0.319601118564606,0.032175388187170,0.518112719058990));
res += mul(Get(s1,0,0), float4x4(-0.012912257574499,-0.294367045164108,-0.012851522304118,-0.104858674108982,-0.476630687713623,-0.471014946699142,-0.229010611772537,-0.120173744857311,0.216441839933395,-0.018385613337159,0.296150624752045,0.102862842381001,0.418590039014816,-0.285847216844559,0.101269274950027,-0.362018436193466));
res += mul(Get(s1,0,dy), float4x4(-0.236876562237740,-0.142679274082184,-0.018312714993954,-0.004562242887914,-0.191304281353951,0.036123324185610,-0.065918453037739,0.114265859127045,0.133311718702316,0.166300833225250,-0.219079017639160,0.128476396203041,0.170779943466187,-0.120958305895329,-0.198557659983635,-0.049502097070217));
res += mul(Get(s1,dx,-dy), float4x4(-0.250796675682068,-0.033411838114262,0.020944390445948,0.045177169144154,0.018793312832713,0.075261339545250,0.078848108649254,0.191208183765411,0.160893991589546,0.037083890289068,0.166766390204430,-0.030853070318699,0.095482140779495,0.072703324258327,0.301883906126022,0.641828238964081));
res += mul(Get(s1,dx,0), float4x4(0.149183928966522,0.015829097479582,-0.044544961303473,0.024019485339522,0.123764835298061,0.097484447062016,0.029235458001494,0.046647205948830,-0.188275337219238,-0.014631928876042,0.082194335758686,-0.160660490393639,0.105569586157799,0.317157030105591,-0.067013330757618,-0.229150027036667));
res += mul(Get(s1,dx,dy), float4x4(0.349734544754028,0.147827833890915,-0.086244478821754,0.102486386895180,0.042420439422131,0.050860427320004,-0.098152138292789,0.043869692832232,0.007115731947124,0.044890508055687,-0.018837358802557,0.060868464410305,-0.005251543130726,-0.028602642938495,-0.013501704670489,0.007992091588676));
res += mul(Get(s2,-dx,-dy), float4x4(0.034416764974594,0.105616696178913,-0.293383032083511,-0.172671750187874,-0.225567519664764,-0.235076621174812,0.106663115322590,-0.161997884511948,0.406902730464935,-0.291569799184799,0.076741546392441,0.452571034431458,0.228716686367989,0.295781463384628,0.229774832725525,0.032574452459812));
res += mul(Get(s2,-dx,0), float4x4(0.048502523452044,-0.370624929666519,-0.076125048100948,-0.107259184122086,-0.339508384466171,-0.170677930116653,-0.005857000127435,0.062369219958782,0.538038194179535,0.003736931597814,-0.084627315402031,-0.020844062790275,-0.233678042888641,0.519837021827698,-0.301151126623154,-0.088258132338524));
res += mul(Get(s2,-dx,dy), float4x4(-0.298833012580872,-0.071250118315220,0.050397571176291,0.022675415500998,-0.119043588638306,-0.197844251990318,-0.154100909829140,0.127146884799004,0.267561674118042,0.151433363556862,0.035205278545618,-0.040184184908867,-0.126212969422340,-0.440704971551895,-0.010754436254501,0.079519405961037));
res += mul(Get(s2,0,-dy), float4x4(0.042930170893669,0.275731444358826,-0.420036792755127,0.571346282958984,-0.071195378899574,-0.010161907412112,0.274973660707474,0.040308848023415,0.278248339891434,-0.088136889040470,0.160750806331635,0.419665545225143,-0.066834114491940,-0.075773715972900,0.216640621423721,-0.695190846920013));
res += mul(Get(s2,0,0), float4x4(0.044876474887133,-0.297728449106216,0.321529269218445,-0.130395248532295,0.041998043656349,0.506950914859772,-0.010072753764689,-0.013775953091681,0.322274386882782,0.157335385680199,0.160569995641708,-0.122522816061974,-0.114358484745026,-0.855323553085327,-0.162538677453995,0.130311310291290));
res += mul(Get(s2,0,dy), float4x4(-0.132264956831932,0.160095408558846,0.150279968976974,0.004173722118139,-0.083219610154629,-0.053457677364349,-0.138078212738037,0.001178017701022,0.023413350805640,0.087089106440544,0.004321262240410,0.089092649519444,0.038372568786144,0.132294654846191,0.131122037768364,-0.028245689347386));
res += mul(Get(s2,dx,-dy), float4x4(0.069247685372829,-0.118321098387241,-0.077156580984592,0.190836891531944,0.057616725564003,0.004161442629993,0.174798220396042,-0.220942586660385,-0.052527349442244,-0.006137512624264,-0.090660199522972,-0.096689313650131,-0.065271615982056,0.005570048000664,-0.096096396446228,0.270545065402985));
res += mul(Get(s2,dx,0), float4x4(0.005192223936319,0.404008418321609,0.138291969895363,0.032534148544073,0.148785308003426,-0.065805986523628,-0.144455000758171,0.137953326106071,0.075690321624279,0.221712812781334,-0.021980727091432,0.105197705328465,0.317297071218491,0.214379370212555,-0.015364015474916,0.095894753932953));
res += mul(Get(s2,dx,dy), float4x4(0.119459815323353,-0.165160343050957,-0.058053214102983,-0.079390339553356,0.340984195470810,0.100856207311153,0.076476544141769,0.201001942157745,-0.052247673273087,-0.063743747770786,0.004557212349027,-0.134526327252388,-0.200814455747604,-0.034801058471203,0.020906632766128,0.010477757081389));
res = max(float4(0, 0, 0, 0), res) + float4(0.238149985671043,-0.052779238671064,-0.222673892974854,-0.088702984154224) * min(float4(0, 0, 0, 0), res);
return res;
}
