sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.074226647615433,-0.087644271552563,-0.045252677053213,0.135082781314850);
res += mul(Get(s0,-dx,-dy), float4x4(0.017304288223386,0.074410811066628,0.098923139274120,0.074401266872883,0.201214134693146,0.002280355431139,-0.100335262715816,0.031563084572554,-0.237396374344826,0.047642752528191,0.198601081967354,0.231797873973846,-0.040149591863155,0.092727698385715,-0.185076937079430,-0.072843745350838));
res += mul(Get(s0,-dx,0), float4x4(0.038745351135731,0.125993087887764,0.420091599225998,0.212152823805809,0.048644114285707,0.233046367764473,-0.087761767208576,-0.164737626910210,-0.264123290777206,-0.060301523655653,0.005613569635898,0.337848514318466,-0.095556065440178,-0.077395677566528,-0.245802551507950,0.204457208514214));
res += mul(Get(s0,-dx,dy), float4x4(-0.141761541366577,-0.017497250810266,-0.109827920794487,-0.018827553838491,0.107085540890694,0.116451792418957,0.043591719120741,-0.151117756962776,-0.120276376605034,-0.010607168078423,0.056317962706089,0.010605223476887,0.112590558826923,0.124116770923138,-0.082567453384399,0.021814690902829));
res += mul(Get(s0,0,-dy), float4x4(-0.045787725597620,0.279140859842300,-0.043565470725298,-0.259659409523010,-0.123785920441151,-0.340501964092255,-0.102215103805065,0.117370970547199,-0.183109417557716,0.105778224766254,0.108911439776421,0.057758223265409,0.294874608516693,0.201751679182053,0.258345484733582,0.009806700982153));
res += mul(Get(s0,0,0), float4x4(0.468792140483856,0.778452098369598,-0.372882753610611,0.155760794878006,0.181832566857338,0.333272099494934,0.017885249108076,-0.094215609133244,-0.515017092227936,0.047604154795408,0.467182487249374,0.278775155544281,-0.003046573605388,-0.203875631093979,0.167413756251335,0.018462069332600));
res += mul(Get(s0,0,dy), float4x4(0.108152687549591,0.004529458936304,-0.002391899237409,-0.025843763723969,0.207446858286858,0.087509155273438,-0.064338549971581,-0.267087459564209,-0.193209916353226,-0.055584151297808,0.289994537830353,0.256278723478317,-0.177527427673340,0.067503482103348,-0.121231451630592,-0.004024790134281));
res += mul(Get(s0,dx,-dy), float4x4(-0.127249792218208,-0.094285950064659,-0.085379213094711,0.035230208188295,-0.112422011792660,0.178561478853226,-0.292324930429459,-0.181398853659630,0.014555407688022,0.078437447547913,-0.007396507542580,0.189532071352005,0.034279376268387,-0.005978523753583,-0.127013429999352,0.182848960161209));
res += mul(Get(s0,dx,0), float4x4(-0.086138337850571,-0.066731877624989,-0.139773353934288,0.280169963836670,0.156539067625999,0.368303984403610,0.051498793065548,0.018093492835760,-0.229836940765381,0.033481247723103,-0.004982489626855,-0.009523469954729,-0.062459938228130,-0.031735256314278,0.004825143143535,-0.189722776412964));
res += mul(Get(s0,dx,dy), float4x4(0.063542529940605,-0.077681183815002,-0.039946433156729,0.110421329736710,0.141175314784050,0.068591505289078,0.005484099034220,-0.117247797548771,-0.315397381782532,-0.007021818775684,0.111827999353409,0.076316617429256,-0.057520356029272,-0.078320145606995,-0.052824553102255,-0.065365716814995));
res += mul(Get(s1,-dx,-dy), float4x4(-0.058381643146276,-0.302160173654556,-0.043331373482943,0.059851255267859,0.119270890951157,-0.012603649869561,-0.104658313095570,-0.200954124331474,0.042434170842171,-0.190216898918152,0.018289217725396,-0.152377322316170,0.062745727598667,0.055874954909086,-0.020909409970045,0.084435686469078));
res += mul(Get(s1,-dx,0), float4x4(-0.089436404407024,-0.224974066019058,-0.023546567186713,0.040819585323334,0.049604400992393,-0.186617478728294,-0.169809281826019,-0.166111901402473,-0.058564394712448,-0.223712384700775,-0.321802943944931,-0.042052730917931,0.122327148914337,0.260352164506912,0.164976492524147,-0.207422241568565));
res += mul(Get(s1,-dx,dy), float4x4(-0.095616482198238,-0.164272353053093,-0.062513381242752,-0.047173582017422,0.128508105874062,-0.088884182274342,-0.222061201930046,-0.040216878056526,0.192939475178719,-0.231189504265785,0.300484865903854,-0.025812786072493,-0.027609240263700,-0.275349885225296,0.000275095953839,0.400422751903534));
res += mul(Get(s1,0,-dy), float4x4(0.034775976091623,-0.322344332933426,-0.134229987859726,0.183164313435555,0.057306144386530,-0.002317653503269,-0.018361242488027,-0.073258548974991,0.152578353881836,0.027860229834914,0.145835325121880,0.024622179567814,-0.092909649014473,0.039123132824898,-0.138919308781624,0.017234805971384));
res += mul(Get(s1,0,0), float4x4(0.326229989528656,-0.559986770153046,-0.477903485298157,-0.082373358309269,0.113928057253361,0.047020599246025,0.370288938283920,-0.176446989178658,-0.002375351730734,-0.108533993363380,-0.161780342459679,-0.080260626971722,0.124670736491680,0.355545848608017,0.225060313940048,-0.060647428035736));
res += mul(Get(s1,0,dy), float4x4(-0.105314016342163,-0.262753218412399,-0.033701229840517,-0.273783355951309,0.124417148530483,-0.058222088962793,-0.167925298213959,0.187025710940361,-0.372966587543488,-0.077350199222565,-0.312112182378769,0.229307100176811,0.358387023210526,-0.730437278747559,-0.526928782463074,-0.444431900978088));
res += mul(Get(s1,dx,-dy), float4x4(0.064506143331528,-0.027584139257669,0.057837687432766,0.181863814592361,-0.052950784564018,-0.026899928227067,0.304611444473267,-0.273166239261627,0.041877564042807,-0.070204965770245,0.008046263828874,-0.163913398981094,0.086067453026772,0.055322170257568,0.091547966003418,-0.002816004911438));
res += mul(Get(s1,dx,0), float4x4(0.100049570202827,0.078983552753925,0.012576686218381,0.181905910372734,0.271429806947708,0.216260433197021,0.176113560795784,0.080540776252747,0.024262843653560,-0.084746688604355,-0.105264797806740,-0.268981099128723,-0.060362521559000,0.132948219776154,0.016783280298114,-0.007928715087473));
res += mul(Get(s1,dx,dy), float4x4(-0.141069248318672,0.052574560046196,0.108723193407059,0.084367439150810,0.285850763320923,0.001641021110117,-0.165515795350075,-0.082923546433449,-0.307426482439041,-0.089576549828053,-0.191574752330780,0.051260270178318,0.294291168451309,0.412093073129654,0.167860329151154,0.145600706338882));
res += mul(Get(s2,-dx,-dy), float4x4(-0.104968339204788,0.057857647538185,-0.037689276039600,0.108263976871967,-0.050531763583422,-0.097380138933659,-0.145093753933907,-0.021105693653226,0.044566873461008,0.157336309552193,0.087023429572582,0.130718559026718,0.102418489754200,0.046421714127064,0.154644012451172,0.009639474563301));
res += mul(Get(s2,-dx,0), float4x4(0.011993190273643,0.019707513973117,0.009255423210561,0.014410295523703,-0.300655663013458,0.221591681241989,-0.811205446720123,0.064434610307217,0.120441690087318,0.174170672893524,-0.276120901107788,0.223191291093826,-0.098051667213440,0.183948293328285,-0.874043047428131,-0.280990660190582));
res += mul(Get(s2,-dx,dy), float4x4(-0.069640956819057,-0.026761185377836,-0.137201309204102,-0.122260943055153,0.212505593895912,-0.056705135852098,-0.168809428811073,-0.026847932487726,0.128472402691841,0.195904180407524,-0.014648322947323,0.129021197557449,-0.125174030661583,-0.056867159903049,-0.031692918390036,0.121229730546474));
res += mul(Get(s2,0,-dy), float4x4(-0.151416197419167,-0.122442290186882,-0.007697166875005,0.212275609374046,0.169161960482597,0.023090224713087,-0.203663721680641,0.111815236508846,0.022842796519399,-0.014807474799454,-0.123847484588623,0.131341755390167,0.227571412920952,-0.134740605950356,0.148136734962463,-0.225891515612602));
res += mul(Get(s2,0,0), float4x4(-0.144953399896622,-0.235991552472115,-0.032534267753363,-0.099073044955730,-0.420358777046204,-0.189659744501114,0.019568044692278,-0.036416873335838,0.060586445033550,-0.933637976646423,-0.270154595375061,0.412683010101318,-0.127810016274452,0.056069809943438,0.089445091784000,0.273669064044952));
res += mul(Get(s2,0,dy), float4x4(-0.022472260519862,0.097841247916222,0.078444227576256,-0.428789347410202,-0.007597821298987,-0.020715719088912,0.132522761821747,-0.260656058788300,-0.030075522139668,0.070782281458378,0.056011494249105,0.218465596437454,-0.058441959321499,0.091508351266384,-0.020786954089999,0.091152779757977));
res += mul(Get(s2,dx,-dy), float4x4(0.023291705176234,0.030744751915336,0.047218609601259,0.058642290532589,0.223589852452278,0.013168748468161,0.106513962149620,0.090145476162434,-0.061067383736372,0.024910971522331,-0.116183467209339,0.205711662769318,-0.101511470973492,-0.047384113073349,-0.012647667899728,-0.205668926239014));
res += mul(Get(s2,dx,0), float4x4(0.043531656265259,0.195819154381752,0.100100614130497,-0.280760318040848,0.047963738441467,0.031831491738558,0.026447031646967,-0.018598189577460,-0.171252414584160,-0.026852378621697,0.078574351966381,-0.049302268773317,0.057069912552834,-0.093118645250797,0.216956064105034,-0.026568751782179));
res += mul(Get(s2,dx,dy), float4x4(-0.187498629093170,-0.015906907618046,0.108008161187172,-0.220102429389954,-0.081072486937046,-0.009374648332596,-0.017132593318820,-0.051330115646124,0.033325716853142,-0.078537233173847,-0.079871878027916,0.206991970539093,-0.027472857385874,0.040377680212259,-0.053334645926952,-0.008693774230778));
res = max(float4(0, 0, 0, 0), res) + float4(-1.043681740760803,-0.576830983161926,0.217685133218765,0.597685754299164) * min(float4(0, 0, 0, 0), res);
return res;
}
