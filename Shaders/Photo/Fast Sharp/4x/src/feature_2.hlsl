sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.010790896601975,0.033184126019478,-0.302218854427338,0.232700571417809);
res += float4(0.060881402343512,0.052087355405092,-0.051449250429869,-0.038241811096668) * Get(-ddx,-ddy);
res += float4(0.041422389447689,0.000813650491182,-0.056428350508213,0.033726375550032) * Get(-ddx,-dy);
res += float4(-0.005201664753258,0.156333386898041,-0.060256425291300,-0.009449805133045) * Get(-ddx,0);
res += float4(0.110482327640057,-0.122368544340134,0.088626459240913,0.063548617064953) * Get(-ddx,dy);
res += float4(-0.127638220787048,0.039210528135300,0.060752019286156,-0.045391526073217) * Get(-ddx,ddy);
res += float4(-0.034898109734058,-0.143199071288109,0.011944980360568,0.002596700098366) * Get(-dx,-ddy);
res += float4(0.078914843499660,0.030131369829178,0.257437199354172,-0.088789850473404) * Get(-dx,-dy);
res += float4(-0.262272566556931,-0.540295243263245,0.110550604760647,-0.899971544742584) * Get(-dx,0);
res += float4(0.193450018763542,0.108083263039589,-0.037754565477371,-0.184942170977592) * Get(-dx,dy);
res += float4(-0.075191520154476,-0.074755303561687,-0.000992798130028,0.025914965197444) * Get(-dx,ddy);
res += float4(-0.064386151731014,0.049170304089785,0.065130829811096,0.023128816857934) * Get(0,-ddy);
res += float4(0.272055864334106,-0.037295058369637,0.424035280942917,0.310405254364014) * Get(0,-dy);
res += float4(0.469620108604431,0.475168317556381,-0.303339689970016,-0.819135308265686) * Get(0,0);
res += float4(-0.567655682563782,-0.067039258778095,0.114360935986042,0.194336757063866) * Get(0,dy);
res += float4(0.118374682962894,-0.022562373429537,-0.065324589610100,0.034658186137676) * Get(0,ddy);
res += float4(-0.150016173720360,-0.032951094210148,-0.007042633369565,-0.060677044093609) * Get(dx,-ddy);
res += float4(-0.331086307764053,-0.155889347195625,0.313438534736633,0.044060721993446) * Get(dx,-dy);
res += float4(0.060043763369322,-0.592007875442505,0.022313166409731,0.051626291126013) * Get(dx,0);
res += float4(0.065449297428131,0.231757432222366,0.062547825276852,-0.063698790967464) * Get(dx,dy);
res += float4(0.198681220412254,-0.021061655133963,-0.076499812304974,0.010052053257823) * Get(dx,ddy);
res += float4(0.117028541862965,0.130712926387787,-0.074666135013103,0.054666232317686) * Get(ddx,-ddy);
res += float4(-0.103286281228065,0.145044520497322,-0.087674900889397,-0.060323383659124) * Get(ddx,-dy);
res += float4(-0.094910390675068,0.439723223447800,-0.076721876859665,0.058280821889639) * Get(ddx,0);
res += float4(0.164530202746391,-0.138126716017723,0.007947210222483,-0.000275519967545) * Get(ddx,dy);
res += float4(-0.089278377592564,0.088253967463970,0.009192095138133,0.010923218913376) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.636375248432159,0.609880983829498,0.948702991008759,0.082822464406490) * min(float4(0, 0, 0, 0), res);
return res;
}
