sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.144075110554695,-0.057723153382540,0.104250222444534,0.186474144458771);
res += mul(Get(s0,-dx,-dy), float4x4(0.238374635577202,0.083396457135677,-0.048619117587805,0.016872657462955,-0.147187516093254,-0.421984225511551,0.046068862080574,-0.172507539391518,0.047628108412027,-0.149474233388901,-0.039496269077063,0.178550556302071,-0.024347066879272,-0.141580149531364,-0.002525890246034,0.210717692971230));
res += mul(Get(s0,-dx,0), float4x4(0.050685148686171,-0.340201139450073,-0.013018129393458,0.063393749296665,-0.055575914680958,-0.204677090048790,-0.067270725965500,-0.079288236796856,-0.055091336369514,-0.200725257396698,0.060478713363409,-0.023338537663221,-0.302826881408691,0.180461749434471,-0.129950344562531,-0.017149399966002));
res += mul(Get(s0,-dx,dy), float4x4(0.194132670760155,-0.084365837275982,-0.057601589709520,0.014488296583295,-0.176704674959183,-0.118935227394104,0.054166100919247,-0.000149015322677,0.173659354448318,-0.285169839859009,0.022103637456894,0.024819919839501,-0.103493727743626,-0.105540275573730,-0.100464545190334,0.095888592302799));
res += mul(Get(s0,0,-dy), float4x4(0.279987692832947,-0.056282464414835,0.019985903054476,-0.041321840137243,0.211793914437294,0.284336954355240,-0.235593631863594,-0.103668458759785,-0.033655352890491,-0.160401403903961,0.010860589332879,-0.093102119863033,-0.194815278053284,-0.011011592112482,0.033526957035065,-0.473169624805450));
res += mul(Get(s0,0,0), float4x4(-0.485157370567322,-0.583296298980713,0.101062655448914,0.139226347208023,0.020424054935575,-0.189312919974327,0.065963685512543,0.194900572299957,-0.370632797479630,0.190989270806313,0.042596805840731,-0.446117520332336,-0.090663917362690,0.387125313282013,0.145142465829849,0.705214202404022));
res += mul(Get(s0,0,dy), float4x4(-0.623684644699097,0.103942342102528,-0.087213799357414,-0.141032308340073,-0.291400074958801,0.147739723324776,-0.001245613559149,0.006888002157211,-0.028721733018756,-0.228676855564117,0.056883513927460,-0.159760460257530,0.192130133509636,-0.456827282905579,0.120456881821156,-0.803113400936127));
res += mul(Get(s0,dx,-dy), float4x4(0.234950900077820,0.087752178311348,0.286548107862473,0.122787527740002,-0.188092187047005,0.139538377523422,0.494918435811996,0.143134534358978,0.043922081589699,-0.239614740014076,-0.056163184344769,-0.082720659673214,-0.058557178825140,0.178961664438248,-0.169188797473907,-0.051934517920017));
res += mul(Get(s0,dx,0), float4x4(-0.333776444196701,-0.128833204507828,0.581786513328552,0.350301653146744,-0.173426643013954,-0.001299121649936,0.157348632812500,0.007252423558384,-0.074084393680096,-0.110405012965202,0.067114308476448,-0.150085002183914,0.000149938336108,-0.018103893846273,0.113245502114296,-0.164235219359398));
res += mul(Get(s0,dx,dy), float4x4(-0.266987264156342,-0.075648732483387,-0.042891670018435,0.059972263872623,-0.218421012163162,-0.063613571226597,-0.034336764365435,0.018142871558666,-0.064218357205391,-0.166249632835388,0.027020242065191,-0.163956120610237,0.271826028823853,0.037719782441854,0.045224137604237,0.151724472641945));
res += mul(Get(s1,-dx,-dy), float4x4(0.129669144749641,-0.030601233243942,-0.061699140816927,-0.106116570532322,0.062289107590914,0.010506256483495,-0.048086810857058,-0.008957488462329,0.013127250596881,-0.166391387581825,-0.040326334536076,0.109435155987740,-0.092050999403000,0.090936996042728,-0.010118702426553,-0.016529880464077));
res += mul(Get(s1,-dx,0), float4x4(-0.240493699908257,0.201255276799202,-0.122759200632572,-0.276587486267090,-0.057463977485895,0.147938296198845,-0.064113043248653,0.154636159539223,0.172191783785820,0.224959373474121,-0.161470010876656,0.050967227667570,-0.008735511451960,-0.102787569165230,0.042323391884565,0.045940335839987));
res += mul(Get(s1,-dx,dy), float4x4(-0.153482943773270,0.233915805816650,-0.098396621644497,-0.207723885774612,-0.024002999067307,0.106334649026394,0.099674805998802,0.041920207440853,0.140239611268044,0.125390812754631,-0.055560983717442,0.020437942817807,-0.095355927944183,0.018728720024228,-0.186177179217339,-0.101404868066311));
res += mul(Get(s1,0,-dy), float4x4(0.102363169193268,0.030944315716624,0.020466342568398,0.078424394130707,-0.138740852475166,0.069901265203953,-0.117398567497730,0.025093803182244,0.129186153411865,0.006987416651100,0.081071369349957,-0.253189057111740,-0.067670240998268,-0.055637169629335,-0.110033027827740,0.144756510853767));
res += mul(Get(s1,0,0), float4x4(0.561714112758636,-0.356716156005859,0.087719187140465,0.106097370386124,-0.174499869346619,-0.063699699938297,-0.019082114100456,0.243159502744675,-0.177149251103401,0.003333792090416,-0.173427596688271,0.254461795091629,-0.386873334646225,0.302266031503677,0.106262125074863,-0.465211182832718));
res += mul(Get(s1,0,dy), float4x4(0.309911429882050,0.030225947499275,0.030165581032634,0.032231874763966,-0.046751782298088,0.037239536643028,0.106969833374023,0.043642442673445,-0.039431992918253,-0.204904243350029,0.026106733828783,-0.199596360325813,0.097464136779308,-0.319529116153717,0.084815353155136,0.198763981461525));
res += mul(Get(s1,dx,-dy), float4x4(0.009943938814104,0.240605965256691,0.038501530885696,0.040984962135553,0.089819751679897,0.214321509003639,-0.502705216407776,-0.022051306441426,0.097261838614941,0.231071576476097,0.110863015055656,0.028159312903881,-0.101059347391129,0.020662313327193,0.040969122201204,-0.022575432434678));
res += mul(Get(s1,dx,0), float4x4(0.188778415322304,0.184870064258575,0.116710171103477,0.045591019093990,-0.538772106170654,-0.196687385439873,-0.859963834285736,-0.121405862271786,0.118918247520924,-0.005646353587508,-0.433650463819504,0.096480891108513,-0.139583811163902,0.226736024022102,0.193261712789536,-0.107749320566654));
res += mul(Get(s1,dx,dy), float4x4(-0.051220253109932,0.264090448617935,-0.037505801767111,-0.106974504888058,-0.209974542260170,0.298005878925323,-0.069772869348526,-0.197992384433746,-0.186415478587151,-0.074303403496742,0.115562297403812,0.095189489424229,0.062027353793383,-0.164295732975006,0.068376347422600,0.020953126251698));
res += mul(Get(s2,-dx,-dy), float4x4(0.033356528729200,0.183359414339066,0.009560588747263,-0.061660535633564,0.155950963497162,-0.102352738380432,0.178036168217659,0.192324057221413,-0.230327978730202,0.089936405420303,-0.090185321867466,-0.127652853727341,-0.034344717860222,-0.272092491388321,-0.167689055204391,-0.141692727804184));
res += mul(Get(s2,-dx,0), float4x4(-0.041391838341951,-0.093620523810387,0.169659912586212,-0.046861324459314,-0.377226889133453,0.155008286237717,-0.116315603256226,-0.178005158901215,-0.489309817552567,-0.060024410486221,0.049936469644308,0.189765945076942,-0.099320605397224,-0.069953255355358,-0.094683870673180,-0.310360670089722));
res += mul(Get(s2,-dx,dy), float4x4(0.204085081815720,-0.237391024827957,-0.023454699665308,0.189934358000755,-0.214679077267647,0.123687058687210,0.018515123054385,-0.235187277197838,-0.251432269811630,-0.060136556625366,0.038832228630781,0.051436901092529,-0.559012115001678,-0.016923004761338,-0.049921523779631,0.072003737092018));
res += mul(Get(s2,0,-dy), float4x4(-0.126946151256561,0.212523072957993,0.028979128226638,0.244401335716248,-0.064649634063244,-0.028339618816972,0.475458770990372,0.286966890096664,-0.002393229631707,-0.115164451301098,-0.171914353966713,0.232078298926353,0.090542837977409,0.270905137062073,-0.005953984335065,-0.213329598307610));
res += mul(Get(s2,0,0), float4x4(0.210077792406082,-0.348139971494675,0.050034854561090,0.016739798709750,-0.063768737018108,0.368704587221146,0.557817339897156,-0.172424286603928,0.541588187217712,-0.306184709072113,-0.156939744949341,0.025304293259978,-0.203593224287033,0.000977965071797,0.196559771895409,0.006708085536957));
res += mul(Get(s2,0,dy), float4x4(-0.370908230543137,-0.182524800300598,0.007938262075186,-0.411449402570724,-0.056809633970261,-0.423171818256378,0.066613413393497,0.192140504717827,-0.088047154247761,-0.154775217175484,-0.063839703798294,-0.084983572363853,-0.064034096896648,-0.015487583354115,-0.137784421443939,-0.001836334588006));
res += mul(Get(s2,dx,-dy), float4x4(0.038545385003090,-0.266418159008026,-0.150549963116646,-0.105873316526413,0.053056057542562,-0.178958788514137,-0.195862710475922,-0.015476815402508,-0.007804236374795,-0.172379299998283,0.198480099439621,0.093013532459736,-0.069067806005478,0.152024954557419,0.153066694736481,-0.009335954673588));
res += mul(Get(s2,dx,0), float4x4(0.139448314905167,-0.103170014917850,-0.034165143966675,0.075944229960442,-0.008443364873528,0.229277819395065,-0.279111325740814,-0.124471604824066,0.355388194322586,0.107241228222847,0.301434546709061,0.255804330110550,0.126136839389801,-0.408216387033463,-0.019031032919884,0.174247249960899));
res += mul(Get(s2,dx,dy), float4x4(-0.080401495099068,0.005891956854612,-0.005020283162594,0.201268419623375,0.009391847997904,-0.039284497499466,-0.203641608357430,0.071056462824345,0.174122467637062,-0.071774847805500,0.129817217588425,0.033313382416964,0.249618276953697,0.018234318122268,0.198092311620712,0.165188297629356));
res = max(float4(0, 0, 0, 0), res) + float4(-0.191363483667374,0.614398241043091,-0.296823590993881,0.817667245864868) * min(float4(0, 0, 0, 0), res);
return res;
}
