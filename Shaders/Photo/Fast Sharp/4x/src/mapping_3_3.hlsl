sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.091796606779099,0.113671898841858,0.037497315555811,-0.060786765068769);
res += mul(Get(s0,-dx,-dy), float4x4(-0.023233447223902,0.096722550690174,0.150643646717072,0.089345045387745,0.060655757784843,0.160836294293404,-0.106009379029274,0.051355220377445,0.089257098734379,0.177271261811256,-0.168400064110756,0.097023814916611,0.119689919054508,-0.120419934391975,0.053975168615580,-0.127927869558334));
res += mul(Get(s0,-dx,0), float4x4(0.237650990486145,0.021049452945590,0.074257031083107,0.156517341732979,-0.245188295841217,-0.203244000673294,0.234686478972435,0.471207231283188,-0.107974365353584,-0.015265573747456,0.145521298050880,0.214126572012901,0.199694022536278,0.054565522819757,0.069068826735020,-0.129629433155060));
res += mul(Get(s0,-dx,dy), float4x4(0.046174902468920,0.129180967807770,-0.081196919083595,-0.088281057775021,0.077078908681870,-0.043721113353968,-0.155704751610756,-0.002180969342589,0.106425873935223,0.167381554841995,0.190457791090012,0.203462183475494,-0.088182158768177,-0.015905532985926,-0.132137477397919,-0.155713424086571));
res += mul(Get(s0,0,-dy), float4x4(0.101931467652321,0.482824862003326,0.098664022982121,-0.270351529121399,-0.090128436684608,0.009729750454426,0.045824728906155,-0.056407015770674,0.145252600312233,0.105518504977226,0.008087392896414,0.166756525635719,0.063428483903408,-0.464974611997604,0.472782671451569,0.001561865094118));
res += mul(Get(s0,0,0), float4x4(-0.195010200142860,0.237645089626312,-0.050138156861067,-0.428471773862839,-0.279800057411194,-0.031963970512152,-0.072776198387146,0.174072042107582,0.191861435770988,0.055864587426186,0.210406199097633,0.632774055004120,0.136677935719490,0.392957150936127,0.050558406859636,-0.256773799657822));
res += mul(Get(s0,0,dy), float4x4(0.253855288028717,0.005895466543734,0.013712015002966,0.078075423836708,0.582500159740448,-0.179793924093246,-0.220177710056305,-0.163782849907875,0.346454858779907,0.143946990370750,-0.081549964845181,0.206338346004486,0.001066257245839,-0.231760129332542,-0.220275804400444,-0.107153467833996));
res += mul(Get(s0,dx,-dy), float4x4(0.099001914262772,-0.181151047348976,-0.204415902495384,-0.154293239116669,-0.092441648244858,-0.218967199325562,-0.023942613974214,0.298762828111649,0.003135693259537,0.024053150787950,0.033804673701525,-0.215958863496780,-0.110461436212063,0.124790273606777,0.074261993169785,0.086262479424477));
res += mul(Get(s0,dx,0), float4x4(0.388443976640701,-0.090246379375458,-0.152031034231186,-0.148165062069893,0.376139670610428,-0.286209821701050,-0.288400441408157,0.152342990040779,0.006449792999774,-0.119011051952839,-0.028954381123185,-0.232587665319443,-0.420582264661789,0.003134775208309,-0.292730391025543,0.061848349869251));
res += mul(Get(s0,dx,dy), float4x4(0.065440326929092,0.079346157610416,0.165914580225945,0.036456294357777,0.292216569185257,-0.132318496704102,-0.084257327020168,0.117432698607445,0.298689931631088,-0.117359161376953,0.002021448221058,-0.086732149124146,-0.001689366879873,-0.009572263807058,-0.046393286436796,0.105440184473991));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045347157865763,0.043590709567070,-0.071592174470425,0.182604700326920,0.030331548303366,-0.105958215892315,-0.133495867252350,-0.138715282082558,0.015473182313144,-0.224941715598106,-0.122856318950653,-0.120888516306877,0.062332350760698,-0.012826474383473,-0.063762538135052,0.030794734135270));
res += mul(Get(s1,-dx,0), float4x4(-0.087448202073574,0.113200247287750,0.054270364344120,0.272727668285370,-0.002016777405515,-0.044586591422558,-0.016878088936210,0.026121465489268,0.305757313966751,-0.076166525483131,-0.318862438201904,-0.219505503773689,-0.281925976276398,0.121433436870575,0.058154281228781,0.263015329837799));
res += mul(Get(s1,-dx,dy), float4x4(-0.012943716719747,-0.102590575814247,-0.112636193633080,0.082958929240704,-0.037179090082645,0.028444353491068,-0.035124950110912,-0.051884517073631,0.010238209739327,0.083281829953194,-0.085774518549442,-0.069299168884754,0.071514189243317,0.007234751246870,0.029301458969712,0.170059233903885));
res += mul(Get(s1,0,-dy), float4x4(0.021812573075294,-0.046081520617008,0.034663535654545,0.059754762798548,-0.069077990949154,-0.657195985317230,-0.203988343477249,0.557337820529938,-0.014124863781035,-0.391671150922775,-0.138103336095810,0.434898078441620,0.024953408166766,0.021795516833663,-0.105093687772751,0.028563059866428));
res += mul(Get(s1,0,0), float4x4(0.237733438611031,-0.019773980602622,-0.279590636491776,-0.122851163148880,0.051556471735239,-0.047386180609465,-0.188192605972290,0.120920173823833,0.269364267587662,-0.199681967496872,-0.136815786361694,0.490411698818207,-0.019470717757940,0.467623919248581,0.063052520155907,-0.211759015917778));
res += mul(Get(s1,0,dy), float4x4(0.131835326552391,-0.119755201041698,-0.099824570119381,0.034368313848972,0.038731426000595,-0.163271993398666,-0.144070655107498,-0.050485651940107,0.074911393225193,0.024949062615633,0.168335795402527,0.150609195232391,0.015749139711261,0.087333559989929,0.019836399704218,-0.106024675071239));
res += mul(Get(s1,dx,-dy), float4x4(0.001322585041635,-0.018764263018966,-0.140248358249664,-0.036393173038960,-0.060379754751921,-0.213690981268883,-0.194497078657150,-0.074739262461662,0.141784697771072,-0.161830142140388,-0.266570240259171,0.128610655665398,0.043242707848549,0.024961283430457,-0.360922276973724,-0.353589624166489));
res += mul(Get(s1,dx,0), float4x4(0.479054450988770,-0.414033919572830,-0.394169032573700,0.093372330069542,0.228577733039856,-0.094876274466515,-0.070933677256107,-0.075011216104031,0.309115409851074,0.145924046635628,0.058680143207312,-0.291794568300247,-0.466759771108627,0.342797577381134,0.063549667596817,-0.323324173688889));
res += mul(Get(s1,dx,dy), float4x4(0.170302033424377,-0.018758350983262,0.092637449502945,0.313201218843460,0.058374375104904,-0.057928215712309,0.134393453598022,0.140850543975830,-0.017891131341457,0.119681574404240,0.081432528793812,-0.072010725736618,-0.118842840194702,0.014879415743053,0.023913057520986,0.196949988603592));
res += mul(Get(s2,-dx,-dy), float4x4(0.003533662296832,0.096051193773746,0.017783258110285,-0.169084459543228,-0.025249410420656,0.031475849449635,0.036351956427097,0.041828874498606,-0.119204208254814,0.120646283030510,-0.020503506064415,0.191196143627167,-0.118485756218433,0.166918054223061,0.009586965665221,-0.355047523975372));
res += mul(Get(s2,-dx,0), float4x4(0.068909876048565,-0.127839431166649,-0.143295243382454,-0.216495350003242,-0.112046115100384,0.014080197550356,0.112549945712090,0.203420683741570,0.019451277330518,0.020654745399952,0.117250785231590,0.331533044576645,0.000274566875305,0.059557989239693,0.263315230607986,-0.182172596454620));
res += mul(Get(s2,-dx,dy), float4x4(0.086108043789864,-0.003497421042994,0.129086419939995,-0.040269169956446,-0.035671908408403,-0.046021956950426,-0.058766227215528,-0.011526484973729,-0.022904528304935,0.076733261346817,-0.023686619475484,-0.123553954064846,0.069757856428623,-0.138236239552498,0.260756641626358,0.100904949009418));
res += mul(Get(s2,0,-dy), float4x4(-0.044818513095379,-0.141591832041740,0.308577030897141,-0.168986812233925,-0.047987595200539,-0.213828951120377,-0.054312217980623,-0.414422571659088,0.152079924941063,0.320628553628922,-0.178428590297699,-0.197414293885231,0.135556295514107,0.186445772647858,0.238440975546837,0.127198264002800));
res += mul(Get(s2,0,0), float4x4(0.167623043060303,0.121673963963985,0.283391684293747,0.050185825675726,-0.306755036115646,0.493940979242325,0.378180623054504,-0.441614955663681,0.199024066329002,-0.518309712409973,-0.325452983379364,-0.257709980010986,0.040329236537218,0.077742911875248,0.133894234895706,0.183625131845474));
res += mul(Get(s2,0,dy), float4x4(0.010178478434682,0.047137502580881,0.175005346536636,0.084926307201385,-0.063765093684196,-0.366631269454956,-0.247486606240273,-0.030811930075288,0.412046074867249,0.197557255625725,0.087631277740002,-0.185039237141609,-0.120199650526047,0.242349386215210,0.020626956596971,0.168750554323196));
res += mul(Get(s2,dx,-dy), float4x4(-0.044645674526691,0.343025296926498,0.088947221636772,-0.039301171898842,0.004795661196113,-0.125020936131477,-0.065678909420967,0.135007306933403,-0.093888036906719,0.028962774202228,-0.045003168284893,0.011045976541936,-0.161564290523529,0.126664370298386,0.252992242574692,-0.003131766105071));
res += mul(Get(s2,dx,0), float4x4(-0.122593738138676,-0.060690388083458,-0.077653080224991,-0.250300228595734,-0.178662151098251,0.210162952542305,0.152677863836288,0.146286755800247,-0.126166418194771,0.352140367031097,0.058290116488934,-0.033266779035330,-0.049720004200935,0.133504241704941,0.052877474576235,-0.281848996877670));
res += mul(Get(s2,dx,dy), float4x4(0.073484808206558,0.058236189186573,0.016532687470317,-0.136877134442329,-0.153341993689537,-0.117922388017178,0.056421179324389,-0.076530382037163,0.090515084564686,0.050298728048801,0.298183053731918,-0.059327561408281,0.031100580468774,-0.019430104643106,-0.091534622013569,-0.204739019274712));
res = max(float4(0, 0, 0, 0), res) + float4(0.027029991149902,0.518537998199463,-0.745807886123657,-0.050700858235359) * min(float4(0, 0, 0, 0), res);
return res;
}
