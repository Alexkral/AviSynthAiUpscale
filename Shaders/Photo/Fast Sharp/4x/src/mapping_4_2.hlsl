sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.198523402214050,-0.199706822633743,0.015612882561982,-0.132838919758797);
res += mul(Get(s0,-dx,-dy), float4x4(0.153526872396469,0.037098694592714,0.046790286898613,-0.068338006734848,0.016924571245909,0.120973639190197,0.082589343190193,-0.063058227300644,0.158211633563042,0.077354572713375,-0.057695060968399,-0.180271595716476,-0.020717540755868,0.123721554875374,-0.015923323109746,0.062569163739681));
res += mul(Get(s0,-dx,0), float4x4(0.179783076047897,-0.040876928716898,-0.100228033959866,-0.003528748871759,0.040155630558729,-0.013825055211782,0.065918356180191,0.000894078053534,0.024893574416637,-0.000878001679666,-0.046800766140223,0.197003304958344,-0.112161293625832,-0.133882075548172,0.160673633217812,-0.109223395586014));
res += mul(Get(s0,-dx,dy), float4x4(0.037598289549351,0.086036577820778,0.067371226847172,-0.057131022214890,0.139673680067062,0.247766405344009,0.077560476958752,0.132156312465668,-0.103114806115627,-0.060886397957802,0.025572516024113,-0.004722683690488,0.115271233022213,0.113117247819901,-0.025095522403717,0.035373888909817));
res += mul(Get(s0,0,-dy), float4x4(-0.166496321558952,0.312494844198227,0.153483480215073,0.152234733104706,0.206820070743561,0.284117221832275,0.223053991794586,-0.001575593836606,0.018605910241604,0.287791281938553,0.086818836629391,0.277861982584000,0.119609452784061,-0.202930390834808,-0.111377902328968,-0.055466547608376));
res += mul(Get(s0,0,0), float4x4(0.162010669708252,-0.047301195561886,0.246278181672096,-0.552165925502777,0.380666881799698,-0.248776257038116,-0.378765672445297,-0.067406646907330,-0.261994719505310,-0.373727232217789,0.329385310411453,-0.192686453461647,-0.199089705944061,0.042448922991753,-0.334000706672668,0.030061064288020));
res += mul(Get(s0,0,dy), float4x4(0.446991443634033,0.313174962997437,-0.171841025352478,0.190613493323326,-0.036646388471127,0.208605796098709,0.166280180215836,0.019918341189623,-0.165134310722351,-0.162465557456017,-0.076747447252274,-0.039784766733646,-0.006484336219728,0.022689538076520,-0.068151161074638,0.019760735332966));
res += mul(Get(s0,dx,-dy), float4x4(-0.017842575907707,0.139516636729240,-0.115694656968117,0.009072331711650,0.068349197506905,0.069530159235001,-0.038247138261795,-0.047822542488575,0.041093088686466,0.018553558737040,0.002432820620015,0.363521128892899,-0.028409481048584,0.023710839450359,0.025352602824569,-0.210937112569809));
res += mul(Get(s0,dx,0), float4x4(0.006882162764668,0.048444952815771,-0.215612366795540,-0.137850895524025,0.144218996167183,0.023718113079667,-0.176360234618187,-0.194823965430260,0.020484987646341,-0.090955287218094,-0.166391745209694,-0.011509900912642,0.306069850921631,0.201510980725288,0.156795084476471,0.157517939805984));
res += mul(Get(s0,dx,dy), float4x4(0.145843937993050,0.135416388511658,-0.150090411305428,0.048533737659454,-0.045555453747511,0.001303867553361,-0.007325317244977,0.089942909777164,0.078692376613617,-0.069968730211258,-0.071970172226429,0.047257483005524,-0.110769636929035,-0.162572845816612,-0.010653672739863,0.096725597977638));
res += mul(Get(s1,-dx,-dy), float4x4(0.082586929202080,-0.011737608350813,0.042346540838480,0.156614214181900,-0.132219463586807,-0.073260694742203,-0.062275130301714,0.111676253378391,-0.071770817041397,0.312464207410812,-0.011426193639636,0.140951409935951,0.010868234559894,0.139271229505539,0.005583952181041,0.009392702020705));
res += mul(Get(s1,-dx,0), float4x4(0.077518247067928,0.104544892907143,-0.086679771542549,-0.057435855269432,-0.066198959946632,0.073223307728767,0.026192270219326,0.038676377385855,0.359223663806915,-0.306882649660110,-0.000182649906492,-0.229985043406487,-0.004824721720070,-0.019485367462039,-0.017724081873894,-0.167155340313911));
res += mul(Get(s1,-dx,dy), float4x4(-0.121730960905552,-0.042365513741970,0.067717395722866,-0.055307090282440,0.000276344857411,0.079978309571743,-0.021159177646041,-0.039169300347567,0.029097748920321,0.275664269924164,0.089252866804600,0.027910098433495,-0.000787227298133,0.062770016491413,0.041154801845551,-0.097752772271633));
res += mul(Get(s1,0,-dy), float4x4(0.198236912488937,0.270133286714554,0.475597113370895,0.486972212791443,0.591192722320557,-0.127121120691299,-0.161231413483620,0.328464567661285,0.003135026199743,-0.132895186543465,0.005237410310656,0.153676956892014,0.050687931478024,0.116461537778378,-0.019922230392694,-0.083539001643658));
res += mul(Get(s1,0,0), float4x4(0.345354199409485,-0.065231740474701,-0.227629661560059,-0.137219667434692,-0.261112183332443,-0.363433212041855,-0.011154034174979,-0.253620535135269,-0.244628667831421,0.097696356475353,0.025357371196151,-0.278769761323929,0.177168950438499,-0.238814324140549,0.118998780846596,-0.122307755053043));
res += mul(Get(s1,0,dy), float4x4(-0.254433095455170,-0.061199456453323,0.159624040126801,-0.185565814375877,-0.124016650021076,0.424701184034348,0.126425161957741,0.183027550578117,-0.058084592223167,-0.175016954541206,0.008243167772889,0.030805489048362,-0.338661193847656,0.005182279739529,0.033289004117250,-0.357736527919769));
res += mul(Get(s1,dx,-dy), float4x4(0.106617532670498,0.099054001271725,0.140963077545166,0.124456346035004,0.199208408594131,0.073967799544334,-0.032396256923676,-0.108643360435963,0.025407548993826,-0.031205791980028,0.032908953726292,-0.062248963862658,0.047277972102165,-0.047366790473461,-0.033640421926975,-0.019090851768851));
res += mul(Get(s1,dx,0), float4x4(-0.168942749500275,-0.108320668339729,-0.063015334308147,0.128886565566063,0.108773514628410,0.106829017400742,-0.004278433043510,-0.084903821349144,-0.101412259042263,-0.108588270843029,-0.009570253081620,0.035595104098320,-0.021381264552474,0.032840259373188,-0.111789658665657,0.003088264726102));
res += mul(Get(s1,dx,dy), float4x4(-0.032776042819023,-0.125315397977829,-0.047408409416676,0.019471930339932,-0.110518015921116,-0.189301207661629,0.064047962427139,0.214743211865425,0.024697698652744,-0.059983719140291,-0.037201266735792,-0.028423774987459,-0.017083713784814,-0.128642171621323,-0.036137480288744,0.025295855477452));
res += mul(Get(s2,-dx,-dy), float4x4(-0.093177661299706,-0.133958250284195,0.047006674110889,-0.158087283372879,0.041123621165752,0.027502726763487,0.065612673759460,-0.144570440053940,0.042692463845015,-0.055049702525139,-0.002549610566348,-0.208840772509575,-0.067966371774673,0.049818929284811,0.024007659405470,0.027742212638259));
res += mul(Get(s2,-dx,0), float4x4(0.055836666375399,-0.000199353438802,-0.056215092539787,0.290905207395554,-0.248637914657593,-0.276755809783936,0.170917168259621,0.134488850831985,0.129134669899940,0.195265561342239,-0.035781905055046,-0.054763216525316,0.016924222931266,-0.121990412473679,0.119343385100365,-0.026415234431624));
res += mul(Get(s2,-dx,dy), float4x4(-0.136057540774345,0.016061756759882,0.016097007319331,-0.119860485196114,0.075013533234596,-0.320852816104889,-0.020375249907374,0.275476425886154,-0.033576730638742,0.092434637248516,-0.024227906018496,-0.176724642515182,0.053971331566572,-0.005135609302670,0.110436186194420,-0.056867528706789));
res += mul(Get(s2,0,-dy), float4x4(-0.375006377696991,0.137376099824905,0.124070100486279,-0.105942770838737,-0.329763472080231,0.308133870363235,0.106422588229179,-0.098273538053036,0.157005026936531,0.188715234398842,-0.018741102889180,-0.066985137760639,-0.109577678143978,-0.060054793953896,-0.007719144690782,0.020465828478336));
res += mul(Get(s2,0,0), float4x4(0.187320709228516,-0.376925319433212,-0.033311564475298,-0.261821389198303,-0.542155921459198,-0.071733422577381,-0.172424435615540,-0.435934394598007,0.418991565704346,-0.005422912538052,-0.062622278928757,-0.004983244463801,-0.000981402117759,0.367230862379074,-0.206526204943657,-0.228543981909752));
res += mul(Get(s2,0,dy), float4x4(-0.213968873023987,-0.156135499477386,0.175199195742607,-0.135342836380005,0.437227725982666,-0.190229475498199,-0.134535998106003,0.205376878380775,-0.177323445677757,0.127196729183197,0.157024323940277,-0.216060265898705,0.182485684752464,-0.001775335287675,-0.278138250112534,0.131207212805748));
res += mul(Get(s2,dx,-dy), float4x4(-0.087383970618248,-0.082495823502541,-0.096207648515701,-0.134347334504128,-0.344156473875046,-0.256496161222458,-0.021753413602710,0.111183047294617,0.087990857660770,0.093291759490967,0.071484811604023,-0.051019560545683,-0.018721496686339,0.001277823233977,-0.032668128609657,-0.077381215989590));
res += mul(Get(s2,dx,0), float4x4(0.040407028049231,0.075511537492275,-0.180688202381134,-0.073242515325546,-0.253065764904022,-0.141031295061111,0.182686269283295,0.077539429068565,0.039150550961494,0.144715264439583,-0.247616589069366,-0.122049674391747,0.075192980468273,0.013161263428628,0.318069607019424,0.116127967834473));
res += mul(Get(s2,dx,dy), float4x4(0.086133107542992,-0.035396538674831,-0.046604819595814,-0.015842013061047,0.120983488857746,0.056677401065826,-0.030260233208537,-0.077296853065491,-0.042539983987808,-0.050352424383163,-0.005693458486348,0.040422748774290,-0.082035645842552,0.124410092830658,0.106689862906933,-0.198133394122124));
res = max(float4(0, 0, 0, 0), res) + float4(0.064776189625263,0.041078351438046,1.017757654190063,0.056476294994354) * min(float4(0, 0, 0, 0), res);
return res;
}
