sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.201060339808464,0.115881316363811,0.108349926769733,0.182916745543480);
res += float4(0.018958766013384,0.024283306673169,0.024946290999651,0.024647030979395) * Get(-ddx,-ddy);
res += float4(-0.004968339111656,-0.023960504680872,0.118666425347328,0.007498090621084) * Get(-ddx,-dy);
res += float4(0.013817436993122,-0.039389126002789,-0.208651244640350,-0.010473325848579) * Get(-ddx,0);
res += float4(-0.089040324091911,0.022918617352843,-0.022710165008903,-0.018739430233836) * Get(-ddx,dy);
res += float4(0.013171886093915,0.051963426172733,-0.026761963963509,-0.017275365069509) * Get(-ddx,ddy);
res += float4(0.033128999173641,-0.056306313723326,-0.262219220399857,0.012350709177554) * Get(-dx,-ddy);
res += float4(-0.239101335406303,0.394356578588486,0.189089596271515,-0.112007983028889) * Get(-dx,-dy);
res += float4(0.372511744499207,0.492880374193192,0.065061479806900,0.114783927798271) * Get(-dx,0);
res += float4(-1.251364350318909,-0.033474609255791,-0.078958295285702,0.015015628188848) * Get(-dx,dy);
res += float4(-0.349044144153595,-0.015822041779757,0.042252425104380,0.013879338279366) * Get(-dx,ddy);
res += float4(0.005879315547645,0.014912551268935,0.094354353845119,0.037926100194454) * Get(0,-ddy);
res += float4(0.120954297482967,-0.136390581727028,0.183471009135246,-1.696407198905945) * Get(0,-dy);
res += float4(-0.011912452057004,-1.303979992866516,-0.637893736362457,0.367808163166046) * Get(0,0);
res += float4(0.251059383153915,0.023764034733176,0.074119664728642,-0.148435056209564) * Get(0,dy);
res += float4(0.044667836278677,-0.065984569489956,-0.214942798018456,0.053729202598333) * Get(0,ddy);
res += float4(-0.022944862022996,-0.012146920897067,0.140658974647522,-0.123724117875099) * Get(dx,-ddy);
res += float4(-0.034073151648045,0.089224986732006,-0.378615498542786,0.319483906030655) * Get(dx,-dy);
res += float4(0.134913489222527,-0.109544813632965,0.682823479175568,-0.072180934250355) * Get(dx,0);
res += float4(-0.159433543682098,0.092117160558701,-0.187486022710800,0.104655019938946) * Get(dx,dy);
res += float4(0.028276355937123,0.004885640926659,0.197363749146461,-0.024395044893026) * Get(dx,ddy);
res += float4(0.017786648124456,0.014975099824369,0.071224093437195,0.029397623613477) * Get(ddx,-ddy);
res += float4(0.005027378909290,-0.045063503086567,0.129401758313179,-0.026700846850872) * Get(ddx,-dy);
res += float4(-0.084677673876286,0.023602982982993,-0.116767890751362,0.049906395375729) * Get(ddx,0);
res += float4(0.057862322777510,-0.029862379655242,-0.073414392769337,-0.028126623481512) * Get(ddx,dy);
res += float4(0.046173758804798,0.009426387958229,0.050756648182869,0.010048463009298) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.058680459856987,-0.002069689100608,0.877453804016113,-0.025295345112681) * min(float4(0, 0, 0, 0), res);
return res;
}
