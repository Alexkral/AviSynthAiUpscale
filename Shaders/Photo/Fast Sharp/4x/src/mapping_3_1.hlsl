sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.001633255509660,0.054471552371979,0.053101632744074,-0.117425277829170);
res += mul(Get(s0,-dx,-dy), float4x4(-0.380616068840027,-0.092972241342068,0.198455169796944,-0.258476108312607,-0.095261342823505,0.091360196471214,-0.137199208140373,0.148000419139862,-0.015769502148032,0.027247112244368,0.256470590829849,0.175581425428391,0.004273050464690,0.013281233608723,0.022550655528903,0.074147775769234));
res += mul(Get(s0,-dx,0), float4x4(-0.349334180355072,-0.138666063547134,-0.452739208936691,-0.415522009134293,0.485019296407700,0.047183744609356,0.012052576057613,-0.093769781291485,-0.156071454286575,-0.311265915632248,0.015446576289833,0.143935456871986,0.148141562938690,0.077465154230595,-0.294159859418869,-0.401162922382355));
res += mul(Get(s0,-dx,dy), float4x4(-0.131537765264511,0.020437544211745,-0.143451318144798,0.076677411794662,0.015208199620247,0.010439527221024,-0.116387508809566,0.079999729990959,-0.149618402123451,0.201158270239830,0.025374343618751,-0.034634381532669,-0.071890152990818,0.019102411344647,-0.191512465476990,-0.001785591477528));
res += mul(Get(s0,0,-dy), float4x4(0.018979132175446,0.155409067869186,0.020613385364413,0.295749992132187,0.358928471803665,-0.081281147897243,0.020656632259488,0.282534599304199,0.184999182820320,0.137625768780708,-0.000038646150642,-0.118341937661171,-0.264294505119324,-0.661953687667847,0.046320129185915,-0.082939401268959));
res += mul(Get(s0,0,0), float4x4(-0.085698671638966,-0.023507948964834,-0.038990352302790,0.281386852264404,0.112866729497910,-0.126596346497536,0.143904894590378,0.623616099357605,-0.274279057979584,-0.018623445183039,-0.251549035310745,0.246171504259109,-0.120385043323040,-0.036549489945173,-0.001281638513319,0.474002361297607));
res += mul(Get(s0,0,dy), float4x4(-0.018776411190629,0.038547787815332,-0.115309119224548,0.015783436596394,-0.071933537721634,0.002650261856616,-0.194875523447990,0.241110518574715,0.002931056078523,-0.070709906518459,-0.011888884007931,0.286207467317581,-0.169041708111763,-0.041517060250044,-0.587491512298584,-0.004513448569924));
res += mul(Get(s0,dx,-dy), float4x4(0.018825925886631,0.328993678092957,-0.071961320936680,-0.298931539058685,0.544905781745911,-0.025746854022145,-0.073167815804482,-0.024286519736052,-0.092623323202133,0.204842224717140,-0.040420901030302,-0.172381520271301,0.079745151102543,-0.462662070989609,0.059365849941969,0.294279932975769));
res += mul(Get(s0,dx,0), float4x4(-0.037435319274664,0.187808230519295,0.112299613654613,-0.259020656347275,0.028827631846070,0.030532788485289,-0.036761231720448,-0.221907407045364,0.118993476033211,0.080957390367985,0.239566475152969,-0.247005820274353,0.294754743576050,0.098549954593182,-0.333976626396179,0.285711705684662));
res += mul(Get(s0,dx,dy), float4x4(0.015635089948773,0.018844325095415,-0.006501982919872,-0.072840787470341,0.080749467015266,-0.055689562112093,-0.184155493974686,-0.105195268988609,0.076199956238270,-0.117085494101048,0.015193727798760,-0.232618868350983,0.056966435164213,-0.097838506102562,-0.221768587827682,0.056401293724775));
res += mul(Get(s1,-dx,-dy), float4x4(0.065443158149719,0.025336034595966,0.032885648310184,0.016221711412072,0.141985923051834,0.012296373024583,0.033846892416477,-0.041648428887129,0.166624337434769,0.038507774472237,-0.048017755150795,0.059809613972902,0.050252839922905,0.177008539438248,-0.114270426332951,-0.213346838951111));
res += mul(Get(s1,-dx,0), float4x4(-0.105712175369263,0.125857278704643,0.095212817192078,0.168214991688728,0.122948989272118,-0.042840309441090,-0.233930826187134,0.259311854839325,0.128812909126282,-0.291189491748810,-0.020891722291708,0.189781218767166,0.236291885375977,0.364709764719009,-0.035673439502716,-0.204382687807083));
res += mul(Get(s1,-dx,dy), float4x4(0.183822691440582,-0.040326893329620,0.061848226934671,0.088140547275543,-0.041987072676420,0.019699184224010,0.057995934039354,-0.006014665123075,0.123689889907837,0.024947546422482,-0.052862297743559,0.145198553800583,-0.262191325426102,0.088602893054485,0.051112018525600,-0.143748596310616));
res += mul(Get(s1,0,-dy), float4x4(0.169526413083076,0.207289710640907,0.084289297461510,0.055315569043159,0.061729490756989,0.131272494792938,-0.327427864074707,-0.027374994009733,0.128776893019676,0.065795697271824,-0.251344084739685,-0.060556158423424,0.192630827426910,0.051543664187193,0.079733863472939,0.122528612613678));
res += mul(Get(s1,0,0), float4x4(0.475638628005981,-0.388308346271515,0.154419258236885,0.794076561927795,0.064929261803627,-0.120415389537811,-0.328283876180649,-0.040689069777727,0.175155088305473,0.143176063895226,-0.230349600315094,-0.649626672267914,-0.121321894228458,-0.534170627593994,0.072692431509495,-0.057597152888775));
res += mul(Get(s1,0,dy), float4x4(0.226678371429443,0.024717779830098,0.154308855533600,0.261220544576645,-0.018431087955832,0.147686600685120,-0.101099185645580,-0.045805096626282,-0.275226742029190,-0.056975498795509,0.008995539508760,-0.345857739448547,-0.231018647551537,0.066987544298172,-0.250368297100067,0.077271118760109));
res += mul(Get(s1,dx,-dy), float4x4(0.007119409274310,0.061759289354086,0.215120941400528,-0.085867457091808,-0.179953083395958,0.206153959035873,-0.160556256771088,0.023398054763675,0.149791151285172,0.354986608028412,-0.207521960139275,-0.075126551091671,0.077849820256233,0.301973581314087,0.003938710782677,0.018517958000302));
res += mul(Get(s1,dx,0), float4x4(-0.023531174287200,0.114637039601803,0.156108945608139,-0.303394556045532,-0.174146518111229,0.002696040784940,-0.097164668142796,-0.062716439366341,-0.014922308735549,-0.254524022340775,0.230569899082184,-0.207093268632889,0.553859591484070,0.259863346815109,0.158282548189163,-0.347347021102905));
res += mul(Get(s1,dx,dy), float4x4(-0.059900745749474,-0.096088372170925,-0.020462686195970,-0.118804588913918,0.046887628734112,0.028973108157516,-0.137429475784302,0.025790512561798,-0.038134071975946,-0.049134641885757,-0.269741386175156,0.027033599093556,0.065365307033062,0.088707417249680,-0.031034342944622,-0.112930633127689));
res += mul(Get(s2,-dx,-dy), float4x4(-0.203709527850151,-0.031175062060356,0.073519900441170,0.026591602712870,0.100151404738426,0.113397076725960,-0.063180908560753,0.106809668242931,0.154836013913155,0.005013327579945,-0.062182135879993,0.155120760202408,-0.222136795520782,-0.041094470769167,0.119214542210102,-0.114851966500282));
res += mul(Get(s2,-dx,0), float4x4(-0.089222893118858,-0.102784447371960,0.243074759840965,0.021884448826313,0.029658315703273,0.099220342934132,-0.188892588019371,-0.216712057590485,0.122896552085876,-0.150853589177132,-0.342574357986450,0.385011643171310,-0.073341012001038,0.239822462201118,0.188256502151489,-0.193555548787117));
res += mul(Get(s2,-dx,dy), float4x4(0.052714381366968,-0.056968703866005,0.107298299670219,-0.028682688251138,0.052574139088392,-0.022604042664170,0.109461411833763,0.044109940528870,0.036355800926685,0.003803724423051,0.015070481225848,0.310366988182068,0.067195639014244,-0.019751656800508,-0.061836302280426,-0.137436449527740));
res += mul(Get(s2,0,-dy), float4x4(-0.389439344406128,-0.512985944747925,0.059378959238529,-0.289942175149918,0.126470059156418,0.036092288792133,-0.124632902443409,-0.088003091514111,-0.025580389425159,0.183192193508148,0.051003076136112,0.120419882237911,-0.139544308185577,-0.071583658456802,0.200932577252388,0.003272449597716));
res += mul(Get(s2,0,0), float4x4(-0.266219615936279,0.474357753992081,-0.219215869903564,-0.005055150948465,0.511944830417633,-0.375247269868851,0.252001315355301,-0.261297494173050,-0.309343099594116,-0.296677470207214,0.124971158802509,-0.021791016682982,0.001209647394717,-0.001429510302842,0.273188352584839,-0.239941895008087));
res += mul(Get(s2,0,dy), float4x4(-0.063318081200123,-0.209215328097343,0.191284462809563,0.084689475595951,-0.057877827435732,0.036531303077936,-0.058096375316381,-0.039198059588671,-0.392889291048050,0.057631462812424,-0.002964318031445,0.271917283535004,-0.032877996563911,0.037465024739504,-0.050669275224209,0.083300434052944));
res += mul(Get(s2,dx,-dy), float4x4(-0.331932693719864,-0.066447056829929,0.109160766005516,0.127774029970169,0.040368042886257,-0.194845899939537,-0.032593972980976,0.072344645857811,0.054135892540216,0.009820970706642,-0.165581747889519,-0.095771282911301,0.187668859958649,-0.260644376277924,-0.003376970998943,-0.043423987925053));
res += mul(Get(s2,dx,0), float4x4(0.100958578288555,0.070116005837917,0.174564048647881,-0.020193910226226,0.224163949489594,-0.115104183554649,0.046088907867670,0.321297347545624,-0.483756452798843,0.029969349503517,-0.244517996907234,0.083847843110561,-0.166984096169472,-0.147338494658470,0.011389228515327,0.215924918651581));
res += mul(Get(s2,dx,dy), float4x4(0.008906111121178,-0.090148650109768,0.140800669789314,-0.004651540424675,0.009172777645290,-0.056325174868107,0.134963139891624,-0.005512455478311,-0.004825728479773,-0.095807150006294,0.007749964017421,-0.111293129622936,-0.091903492808342,0.010581231676042,0.032332815229893,0.108355805277824));
res = max(float4(0, 0, 0, 0), res) + float4(0.515390753746033,0.786955893039703,0.842041134834290,-0.047555297613144) * min(float4(0, 0, 0, 0), res);
return res;
}
