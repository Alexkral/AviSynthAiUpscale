sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.185154691338539,-0.009424282237887,-0.095841839909554,0.012891404330730);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008818319067359,-0.029144348576665,0.017790790647268,0.008316735737026,0.085484206676483,-0.035292789340019,-0.013485494069755,0.024908583611250,0.002473127562553,-0.056399192661047,0.076462693512440,-0.209152981638908,0.064142175018787,0.073044821619987,0.003569047898054,0.022413302212954));
res += mul(Get(s0,-dx,0), float4x4(0.026761891320348,-0.041333436965942,-0.040245946496725,0.327939450740814,0.039992991834879,0.064149104058743,0.076719775795937,-0.028421260416508,-0.196007877588272,0.187181413173676,-0.076437301933765,0.027280816808343,0.020053777843714,0.403860211372375,-0.091462776064873,-0.003195703960955));
res += mul(Get(s0,-dx,dy), float4x4(-0.037994481623173,0.068812489509583,0.019719736650586,-0.096921227872372,0.092085748910904,-0.003685885807499,0.024066703394055,0.119533933699131,-0.047756697982550,0.054452791810036,-0.018922176212072,-0.091758087277412,-0.041482612490654,0.101947970688343,-0.114478543400764,-0.017353050410748));
res += mul(Get(s0,0,-dy), float4x4(0.269061446189880,-0.013631789945066,0.288607925176620,-0.365944713354111,0.204534888267517,-0.205074772238731,0.033405229449272,-0.104307726025581,0.057502619922161,-0.015913343057036,0.037391699850559,0.096365191042423,0.053302384912968,0.089231468737125,0.338344246149063,-0.153386294841766));
res += mul(Get(s0,0,0), float4x4(-0.294083923101425,-0.047298047691584,-0.501090705394745,-0.124746002256870,-0.157917425036430,0.015531512908638,-0.017631275579333,0.080374673008919,0.072814755141735,0.061449714004993,0.185696646571159,-0.205464139580727,0.096595644950867,0.581221044063568,-0.146102145314217,-0.007728898432106));
res += mul(Get(s0,0,dy), float4x4(-0.073315531015396,0.060175221413374,0.275671809911728,0.371011674404144,-0.132424533367157,-0.046122673898935,0.256408214569092,-0.054181702435017,0.047857765108347,-0.000906007422600,-0.295301079750061,-0.125571608543396,0.379799425601959,-0.119301401078701,-0.107509791851044,0.294204354286194));
res += mul(Get(s0,dx,-dy), float4x4(0.047326616942883,0.068643562495708,0.150179430842400,0.108724236488342,0.112800031900406,-0.007414235733449,0.011919721961021,-0.057882554829121,0.260362982749939,-0.117208577692509,-0.113216526806355,0.246437385678291,0.040384043008089,0.074896328151226,0.143906310200691,-0.099886730313301));
res += mul(Get(s0,dx,0), float4x4(-0.031588640064001,0.054869543761015,-0.168958768248558,-0.145977020263672,-0.069410525262356,0.021640148013830,-0.154628232121468,0.037442099303007,0.113141655921936,0.178451284766197,0.093939341604710,-0.034566812217236,0.200868621468544,0.295534580945969,-0.051624376326799,-0.065725259482861));
res += mul(Get(s0,dx,dy), float4x4(0.107093863189220,-0.048128627240658,-0.028977164998651,-0.048936840146780,-0.144519165158272,-0.073006860911846,0.205004468560219,-0.152823939919472,-0.057264033704996,0.064381659030914,-0.057809561491013,-0.203384548425674,-0.383018374443054,0.090347088873386,-0.153187036514282,-0.150067716836929));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024472869932652,-0.005265734624118,0.141495659947395,0.232784509658813,-0.215298354625702,-0.032682184129953,-0.197527199983597,-0.067420490086079,-0.287612527608871,0.042148388922215,0.019521143287420,-0.054552737623453,-0.068927213549614,-0.025580922141671,0.027596158906817,0.012720132246614));
res += mul(Get(s1,-dx,0), float4x4(-0.151063591241837,0.515785396099091,0.011578583158553,0.396824002265930,-0.157181456685066,-0.044573318213224,0.129566907882690,-0.159688323736191,-0.182782039046288,0.292169034481049,-0.026397982612252,-0.096581265330315,0.076722346246243,0.128202766180038,-0.027581710368395,0.127645462751389));
res += mul(Get(s1,-dx,dy), float4x4(-0.049112975597382,-0.006788000930101,0.024572962895036,-0.149452880024910,0.102920748293400,-0.015617547556758,0.076294302940369,-0.002536979503930,-0.082164973020554,-0.015803929418325,0.148146435618401,0.134980767965317,0.080188535153866,-0.049561832100153,0.052656028419733,0.093299061059952));
res += mul(Get(s1,0,-dy), float4x4(0.084714159369469,0.000648101384286,0.039743650704622,-0.249272257089615,-0.101660095155239,0.137351408600807,-0.002253195969388,0.123514458537102,-0.115966871380806,-0.172469511628151,-0.007010118570179,-0.047583278268576,0.400211304426193,0.001316084759310,-0.301443874835968,-0.320390343666077));
res += mul(Get(s1,0,0), float4x4(0.045964997261763,0.131694883108139,-0.325960367918015,0.015394160524011,0.016182273626328,-0.130429819226265,0.232510656118393,0.036015022546053,-0.174750357866287,-0.260974228382111,0.187260389328003,-0.064854383468628,0.720812201499939,-0.152594983577728,-0.396387964487076,-0.456190526485443));
res += mul(Get(s1,0,dy), float4x4(0.050203751772642,-0.161195844411850,0.035464651882648,0.357296407222748,-0.106914572417736,0.153701007366180,0.105712167918682,0.249743655323982,-0.091483458876610,-0.091599926352501,-0.069910176098347,0.052453260868788,0.096238017082214,0.169659286737442,0.550431191921234,0.319215536117554));
res += mul(Get(s1,dx,-dy), float4x4(0.095966577529907,-0.003555519506335,-0.132898613810539,-0.299901098012924,-0.043921552598476,0.117168664932251,-0.028522215783596,0.050300579518080,0.054704885929823,-0.033303890377283,-0.093645267188549,0.038471348583698,0.053786080330610,-0.133710429072380,-0.076856657862663,0.235986620187759));
res += mul(Get(s1,dx,0), float4x4(0.060440901666880,-0.211157560348511,0.005431242752820,-0.370991826057434,0.233119010925293,-0.048687219619751,0.206373929977417,-0.328164786100388,0.242961198091507,0.063844032585621,0.012949814088643,0.049645636230707,-0.653292477130890,-0.074247673153877,-0.081762209534645,-0.277182549238205));
res += mul(Get(s1,dx,dy), float4x4(0.105245657265186,0.052024655044079,0.106530010700226,0.384598016738892,0.092974677681923,-0.165868148207664,0.116635531187057,0.288062602281570,0.039280045777559,0.002753490116447,-0.009123163297772,-0.046426437795162,0.201976552605629,-0.096261881291866,0.097312361001968,0.072298668324947));
res += mul(Get(s2,-dx,-dy), float4x4(-0.002085230313241,-0.028772488236427,-0.050086066126823,-0.050325926393270,0.055983465164900,0.122610688209534,0.041909832507372,-0.089083217084408,0.183363750576973,-0.186402007937431,-0.212010741233826,0.208629772067070,0.033937186002731,0.140579611063004,0.027614278718829,-0.060110352933407));
res += mul(Get(s2,-dx,0), float4x4(-0.006497339811176,0.051120910793543,-0.016468057408929,0.081353142857552,0.305625885725021,-0.248868107795715,0.027795596048236,-0.072024114429951,-0.088180646300316,-0.074453413486481,0.377564787864685,-0.078098110854626,0.023469794541597,-0.002495884895325,0.061864379793406,-0.069111540913582));
res += mul(Get(s2,-dx,dy), float4x4(-0.012227306142449,0.024015706032515,0.052330151200294,-0.016094785183668,0.210663467645645,-0.171954795718193,-0.081236533820629,0.260302603244781,0.015857158228755,-0.008609431795776,-0.052183683961630,-0.022617684677243,0.119568809866905,0.316139817237854,-0.151049017906189,-0.160978958010674));
res += mul(Get(s2,0,-dy), float4x4(-0.055281993001699,-0.120117574930191,0.028123402968049,-0.056490845978260,-0.044072989374399,0.272506833076477,-0.212539941072464,0.215400233864784,0.494935572147369,-0.148824259638786,-0.427572458982468,-0.120001733303070,0.072504222393036,0.104560412466526,-0.265404254198074,0.121725320816040));
res += mul(Get(s2,0,0), float4x4(-0.024243090301752,-0.000691308756359,-0.072395183146000,0.077517524361610,0.288604378700256,-0.241286054253578,-0.050746005028486,-0.377451568841934,0.207843855023384,-0.317920565605164,0.124013438820839,-0.005609089508653,-0.226860031485558,-0.052694693207741,0.313305616378784,-0.224872395396233));
res += mul(Get(s2,0,dy), float4x4(-0.072885625064373,-0.026612263172865,-0.023033380508423,-0.035187277942896,0.001700274762698,-0.269311934709549,0.144180983304977,-0.068900190293789,-0.025590036064386,-0.111352741718292,-0.007161285728216,-0.021233279258013,-0.089519366621971,0.437473714351654,-0.248955875635147,-0.035348638892174));
res += mul(Get(s2,dx,-dy), float4x4(-0.210231035947800,-0.126390755176544,0.130105808377266,-0.115149416029453,0.082984022796154,-0.097455933690071,0.067614294588566,-0.048142734915018,0.023629888892174,0.137201994657516,-0.197911277413368,0.105374611914158,0.041947923600674,0.042697384953499,0.081079885363579,-0.000252343364991));
res += mul(Get(s2,dx,0), float4x4(-0.256262779235840,0.346988469362259,0.011861340142787,0.274242579936981,-0.024356031790376,0.097214221954346,0.035443451255560,0.154053017497063,0.177163645625114,0.151161387562752,-0.052246704697609,-0.169378310441971,0.013414863497019,0.342917293310165,-0.025562968105078,-0.024797610938549));
res += mul(Get(s2,dx,dy), float4x4(-0.051338862627745,0.176414802670479,-0.142221018671989,-0.157286509871483,0.013383165933192,0.034419193863869,-0.025324178859591,0.000916267046705,0.093283988535404,0.006808260921389,-0.093202754855156,-0.040521714836359,0.046127025038004,0.127625003457069,0.090443052351475,-0.097373306751251));
res = max(float4(0, 0, 0, 0), res) + float4(0.858815133571625,-0.362286031246185,-0.045612655580044,-0.573267757892609) * min(float4(0, 0, 0, 0), res);
return res;
}
