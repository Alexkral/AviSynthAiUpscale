sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.115292735397816,-0.140384182333946,0.007932023145258,-0.133252024650574);
res += mul(Get(s0,-dx,-dy), float4x4(0.188884064555168,0.043713707476854,0.136460632085800,0.017964601516724,-0.053455390036106,-0.259571403264999,-0.047414191067219,0.058933734893799,-0.078334532678127,-0.026354521512985,-0.031945314258337,-0.014238125644624,-0.064227201044559,-0.050153143703938,0.023558758199215,0.007330449298024));
res += mul(Get(s0,-dx,0), float4x4(0.093383081257343,0.110827311873436,0.055246002972126,-0.224171012639999,0.292416960000992,0.118371658027172,0.058853730559349,0.113481365144253,0.024062154814601,-0.016669349744916,-0.050061531364918,-0.002827698597685,0.280704379081726,0.031235333532095,-0.041472867131233,0.061539541929960));
res += mul(Get(s0,-dx,dy), float4x4(0.216741800308228,-0.472263306379318,-0.030313124880195,0.165860116481781,0.111444585025311,-0.010651051066816,0.008806745521724,-0.113205045461655,0.052750270813704,-0.046629715710878,-0.068866088986397,-0.025910533964634,0.079584866762161,-0.041908282786608,-0.047579899430275,0.014807032421231));
res += mul(Get(s0,0,-dy), float4x4(0.104847207665443,0.117693431675434,0.063481509685516,-0.057690933346748,0.230685800313950,-0.269429236650467,-0.011513800360262,-0.053793925791979,0.084423072636127,-0.039070524275303,-0.156319186091423,-0.020722746849060,0.201052933931351,0.062229510396719,-0.218394026160240,-0.040752038359642));
res += mul(Get(s0,0,0), float4x4(-0.862140476703644,0.393359065055847,0.304242283105850,-0.591384589672089,-0.336718887090683,-0.205717995762825,-0.204543098807335,-0.171649277210236,-0.089472234249115,0.103180669248104,-0.101769812405109,-0.103304393589497,-0.269034236669540,0.282337367534637,-0.068314954638481,0.694455802440643));
res += mul(Get(s0,0,dy), float4x4(-0.408961474895477,-0.494473010301590,-0.384855151176453,-0.132529005408287,0.059174235910177,0.137452259659767,0.265354454517365,0.097851745784283,0.018439877778292,0.046293247491121,-0.024724317714572,-0.036327991634607,-0.054073579609394,0.002217060653493,-0.023123998194933,-0.041574280709028));
res += mul(Get(s0,dx,-dy), float4x4(0.150859281420708,0.056709814816713,-0.019784107804298,0.124545179307461,0.122584432363510,0.368106722831726,-0.245751246809959,0.104954488575459,0.066206850111485,0.003005223814398,-0.171143889427185,0.041805513203144,-0.043863881379366,0.022630624473095,-0.098862536251545,-0.073589123785496));
res += mul(Get(s0,dx,0), float4x4(0.062567822635174,-0.039219606667757,0.036399994045496,0.019741313531995,0.146378442645073,-0.115969784557819,0.134162634611130,0.243371382355690,-0.059167571365833,-0.079389944672585,-0.034691270440817,-0.005694769788533,-0.056077461689711,-0.070508651435375,-0.246090441942215,-0.199304640293121));
res += mul(Get(s0,dx,dy), float4x4(-0.104602202773094,0.076839148998260,0.057811919599771,0.129645183682442,0.174543857574463,0.143239036202431,0.059834063053131,-0.059908553957939,0.280252337455750,-0.037654981017113,0.039577815681696,-0.007043255958706,0.181335702538490,0.177246227860451,-0.041099935770035,0.073161132633686));
res += mul(Get(s1,-dx,-dy), float4x4(-0.050396639853716,-0.018401907756925,0.143992662429810,0.080742120742798,-0.074710249900818,0.054490305483341,-0.065773598849773,-0.063721142709255,0.139738008379936,0.046410080045462,-0.088934667408466,0.075939282774925,-0.010766176506877,0.029245128855109,-0.006026412360370,0.088593192398548));
res += mul(Get(s1,-dx,0), float4x4(-0.284923166036606,0.174155369400978,-0.223265275359154,0.205311462283134,0.143348664045334,-0.031130086630583,-0.200070440769196,-0.015664912760258,0.236186474561691,-0.311972618103027,0.300539076328278,0.007186580915004,0.245969966053963,0.200772643089294,0.148738890886307,0.144908607006073));
res += mul(Get(s1,-dx,dy), float4x4(0.002320570871234,-0.023367697373033,0.050907086580992,0.164038240909576,-0.143303856253624,-0.008193273097277,-0.231598690152168,0.160948678851128,-0.149730235338211,-0.068709686398506,0.007505970075727,0.009660787880421,0.038278751075268,-0.109213232994080,0.212616398930550,-0.117418579757214));
res += mul(Get(s1,0,-dy), float4x4(-0.235252693295479,0.105140320956707,-0.136411413550377,0.100238382816315,-0.132151082158089,-0.060484308749437,-0.035549379885197,-0.151696234941483,0.353152543306351,-0.170189753174782,0.087695911526680,-0.136480733752251,0.353787928819656,-0.164767518639565,0.530356287956238,-0.163704812526703));
res += mul(Get(s1,0,0), float4x4(0.342526406049728,-0.517949938774109,0.299101173877716,-0.209817230701447,0.094706431031227,0.236577421426773,0.283818751573563,0.014917226508260,0.192354768514633,0.443435758352280,-0.219719395041466,0.015945544466376,-0.161367580294609,0.439706802368164,-0.323804944753647,-0.174288734793663));
res += mul(Get(s1,0,dy), float4x4(0.151512965559959,-0.012611787766218,0.008632223121822,0.006583069451153,0.017718385905027,-0.270621538162231,-0.522810518741608,-0.083127290010452,-0.059200398623943,0.011549801565707,-0.026197491213679,-0.144010305404663,-0.333815693855286,-0.095376349985600,0.304943770170212,0.128990992903709));
res += mul(Get(s1,dx,-dy), float4x4(-0.078895874321461,-0.233697205781937,0.018691616132855,0.001571203698404,0.023920580744743,-0.175187364220619,0.102376788854599,-0.108364447951317,0.070814788341522,0.177847653627396,-0.039066415280104,-0.023969402536750,0.109746836125851,-0.040908668190241,0.234929338097572,0.053603146225214));
res += mul(Get(s1,dx,0), float4x4(0.013933828100562,0.164782598614693,-0.054567590355873,0.176831558346748,0.065063290297985,-0.043511584401131,-0.173428699374199,0.154945433139801,-0.088633373379707,-0.236434370279312,0.145351558923721,-0.264623522758484,-0.228812128305435,0.135355144739151,0.179174825549126,-0.042332358658314));
res += mul(Get(s1,dx,dy), float4x4(-0.125167042016983,0.139752686023712,0.055917799472809,0.001900926348753,0.034404866397381,-0.030172757804394,-0.163321539759636,0.097074717283249,0.114662460982800,-0.127995997667313,0.075174473226070,0.018427083268762,-0.246800109744072,-0.034626692533493,0.353955090045929,-0.088631086051464));
res += mul(Get(s2,-dx,-dy), float4x4(-0.211314529180527,0.030904404819012,0.011571748182178,-0.164347559213638,-0.067057639360428,0.066895686089993,0.038574606180191,-0.022144872695208,0.062104247510433,-0.054318092763424,0.106050580739975,-0.024337204173207,-0.075297273695469,-0.193664669990540,0.102315969765186,0.033768869936466));
res += mul(Get(s2,-dx,0), float4x4(0.175432339310646,-0.212279900908470,-0.243069186806679,0.247026786208153,-0.221962720155716,-0.179575547575951,-0.291358143091202,0.020175687968731,0.102824352681637,0.191210851073265,-0.101157419383526,0.074753291904926,-0.098239816725254,-0.026666179299355,0.078564509749413,0.059388518333435));
res += mul(Get(s2,-dx,dy), float4x4(-0.015209275297821,0.197148904204369,-0.095778025686741,0.150759279727936,-0.078703351318836,0.185316920280457,-0.021824467927217,-0.016914961859584,0.341748744249344,0.341200262308121,-0.015087117440999,0.080113857984543,-0.076008588075638,0.210665851831436,0.154261693358421,0.005483788903803));
res += mul(Get(s2,0,-dy), float4x4(-0.126944288611412,0.166396513581276,-0.160505712032318,0.178112939000130,0.233974158763885,-0.131411597132683,0.220449000597000,-0.038127172738314,0.239776507019997,0.020596105605364,0.220342695713043,-0.031010828912258,-0.043630670756102,-0.099850706756115,-0.005584821570665,0.062233556061983));
res += mul(Get(s2,0,0), float4x4(0.225352883338928,-0.117781393229961,0.276460707187653,-0.457004129886627,0.205566436052322,0.267985999584198,-0.122654013335705,0.099218845367432,-0.178547844290733,0.420518666505814,-0.516437649726868,0.050770137459040,0.076698608696461,0.052811525762081,0.068303808569908,0.217700466513634));
res += mul(Get(s2,0,dy), float4x4(-0.236116752028465,0.165408715605736,-0.106502309441566,-0.084118455648422,0.100623913109303,-0.082647316157818,-0.055837813764811,0.020959548652172,0.210085526108742,0.475332707166672,-0.067309692502022,0.394195884466171,-0.143330737948418,0.254194766283035,0.042488362640142,0.014394033700228));
res += mul(Get(s2,dx,-dy), float4x4(-0.060816634446383,0.056041561067104,0.026533696800470,-0.057168558239937,-0.003871704451740,-0.123962379992008,0.025580100715160,-0.115300357341766,0.003498885314912,-0.017422027885914,-0.041935622692108,-0.015722030773759,-0.091982975602150,-0.037796873599291,-0.096647359430790,0.012271361425519));
res += mul(Get(s2,dx,0), float4x4(-0.046759065240622,0.003990611992776,-0.040301833301783,-0.174614638090134,-0.039946127682924,-0.213312894105911,-0.007692238781601,0.072892986238003,-0.020142404362559,0.048210736364126,0.003384870709851,0.152096346020699,0.045562967658043,-0.017661636695266,-0.052592162042856,0.073024272918701));
res += mul(Get(s2,dx,dy), float4x4(-0.346087425947189,-0.143279001116753,-0.172639429569244,-0.081975221633911,-0.041439574211836,0.004556653089821,-0.012216328643262,-0.043050903826952,0.098602488636971,0.272357881069183,-0.153095617890358,0.089844509959221,0.026571407914162,0.069224916398525,0.098640024662018,0.032203320413828));
res = max(float4(0, 0, 0, 0), res) + float4(0.267519712448120,0.346543043851852,0.332279145717621,0.846971809864044) * min(float4(0, 0, 0, 0), res);
return res;
}
