sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.190370142459869,0.019951663911343,-0.070996411144733,0.036828309297562);
res += mul(Get(s0,-dx,-dy), float4x4(-0.021238211542368,0.121843859553337,-0.134648680686951,0.135574489831924,0.017460489645600,0.320927858352661,0.040916047990322,0.063192680478096,-0.055178534239531,-0.216911807656288,-0.078928537666798,-0.161250606179237,-0.211676865816116,0.028693633154035,0.088217198848724,0.231598228216171));
res += mul(Get(s0,-dx,0), float4x4(-0.142294988036156,0.066891334950924,0.046880465000868,-0.078839845955372,-0.236427798867226,-0.073559746146202,-0.054119579493999,0.124301917850971,0.029880845919251,0.042049512267113,0.177186295390129,-0.055748164653778,-0.154029771685600,-0.015528036281466,0.039967589080334,-0.057935979217291));
res += mul(Get(s0,-dx,dy), float4x4(-0.170619711279869,0.068337544798851,0.083983711898327,0.136478319764137,0.043978337198496,0.058669582009315,-0.108145572245121,0.018747868016362,0.106626994907856,0.054654512554407,0.012397940270603,-0.011193299666047,-0.053086403757334,0.062013547867537,-0.033935382962227,0.057119179517031));
res += mul(Get(s0,0,-dy), float4x4(-0.000410466978792,-0.607796728610992,-0.102471791207790,-0.305485397577286,0.113190278410912,0.667532086372375,-0.228736758232117,0.572066009044647,0.029576145112514,-0.235246688127518,0.198514491319656,0.038408741354942,-0.123514525592327,0.115644715726376,-0.212526008486748,0.382126748561859));
res += mul(Get(s0,0,0), float4x4(-0.236675247550011,0.088601134717464,-0.173983246088028,0.048676364123821,-0.332542896270752,-0.382426023483276,0.210610046982765,-0.140001833438873,-0.156349316239357,0.027301112189889,-0.155084803700447,0.113993778824806,-0.351273626089096,-0.085066318511963,0.078588813543320,0.054872106760740));
res += mul(Get(s0,0,dy), float4x4(-0.335017293691635,0.157828256487846,0.199402987957001,0.227262437343597,0.403290718793869,-0.139839053153992,-0.263341277837753,0.117136225104332,0.048691961914301,0.058017536997795,-0.062858298420906,-0.001563645550050,-0.096214368939400,0.031046768650413,-0.113736502826214,-0.005615182686597));
res += mul(Get(s0,dx,-dy), float4x4(-0.108090549707413,0.240618839859962,-0.058029245585203,-0.063307985663414,-0.027460487559438,-0.225656762719154,0.133412629365921,-0.341827839612961,-0.088706262409687,-0.068842358887196,-0.280986040830612,-0.257540136575699,-0.134427770972252,-0.192475840449333,-0.039835713803768,0.040863841772079));
res += mul(Get(s0,dx,0), float4x4(-0.292645096778870,0.120916806161404,-0.208389922976494,0.051067631691694,0.177240535616875,0.119235366582870,-0.091441377997398,0.104954332113266,-0.075622037053108,-0.052116040140390,-0.283730387687683,-0.153515711426735,-0.141891285777092,0.036007255315781,-0.098594129085541,-0.182541504502296));
res += mul(Get(s0,dx,dy), float4x4(-0.398550093173981,0.102948792278767,0.138868242502213,0.116227641701698,-0.011985098943114,0.034781087189913,0.148301124572754,-0.051101062446833,-0.016696158796549,0.067587710916996,-0.041423805058002,0.097096219658852,-0.101910412311554,0.101371444761753,0.041744541376829,0.076407179236412));
res += mul(Get(s1,-dx,-dy), float4x4(0.154844865202904,0.101238355040550,-0.000834772305097,0.640130162239075,-0.114709839224815,0.198404043912888,0.147495925426483,-0.210708528757095,-0.083281487226486,0.040539845824242,-0.166985809803009,0.052160155028105,-0.066164530813694,-0.004563992377371,0.112922504544258,-0.145826235413551));
res += mul(Get(s1,-dx,0), float4x4(-0.176645770668983,-0.104862719774246,-0.106275513768196,-0.167055234313011,0.265384912490845,0.069885589182377,0.178374305367470,0.212277024984360,-0.095679461956024,0.121362015604973,-0.234922736883163,0.065702632069588,-0.000632589508314,0.079505681991577,0.216798901557922,-0.289594113826752));
res += mul(Get(s1,-dx,dy), float4x4(0.078788958489895,-0.112435646355152,-0.019459867849946,-0.245245784521103,-0.027279857546091,0.048290472477674,0.072608001530170,-0.003289384068921,0.046312566846609,-0.006850028410554,0.140444606542587,0.015466221608222,0.049046393483877,0.011441593058407,0.086772859096527,-0.277381032705307));
res += mul(Get(s1,0,-dy), float4x4(0.010828210972250,-0.017996212467551,-0.211058124899864,0.439985632896423,-0.412357419729233,0.539651632308960,-0.373953759670258,-0.024174246937037,-0.074629835784435,0.283397316932678,0.006308185402304,-0.012474929913878,0.113619305193424,-0.667746424674988,0.273384183645248,0.154372945427895));
res += mul(Get(s1,0,0), float4x4(-0.117360994219780,0.030531942844391,0.020596899092197,-0.242864772677422,0.354763805866241,-0.244228810071945,0.470409750938416,-0.238225862383842,-0.347163766622543,-0.243152022361755,-0.005409732926637,-0.254477411508560,0.163943275809288,0.093632057309151,-0.135099396109581,-0.569691240787506));
res += mul(Get(s1,0,dy), float4x4(-0.088596262037754,0.015884255990386,-0.034489423036575,-0.049253892153502,0.215132459998131,-0.038041558116674,-0.263706088066101,0.064556285738945,0.484346479177475,0.133182123303413,0.045518487691879,0.086851783096790,0.100168451666832,-0.091956138610840,0.028375282883644,-0.256947606801987));
res += mul(Get(s1,dx,-dy), float4x4(0.078626915812492,-0.057377588003874,0.026230189949274,-0.218167021870613,-0.037410039454699,0.098844982683659,-0.183026507496834,0.027715949341655,0.005276101175696,0.135436803102493,0.003306762082502,0.034661404788494,0.042415145784616,-0.058026783168316,-0.072801433503628,-0.045852988958359));
res += mul(Get(s1,dx,0), float4x4(0.033899210393429,0.062027361243963,-0.281795889139175,-0.122053615748882,-0.244517639279366,-0.127626165747643,-0.124489784240723,0.276642262935638,0.089098051190376,-0.356841772794724,0.149667814373970,-0.112273104488850,0.091747865080833,0.180301651358604,-0.136215820908546,-0.440532267093658));
res += mul(Get(s1,dx,dy), float4x4(0.107971787452698,0.122098222374916,-0.086737193167210,-0.218289718031883,0.042337480932474,-0.122991494834423,0.000244806316914,0.031218649819493,0.013866342604160,0.043111089617014,0.163963109254837,0.036349873989820,0.179952353239059,0.083225965499878,-0.121795006096363,-0.299524784088135));
res += mul(Get(s2,-dx,-dy), float4x4(0.102581761777401,-0.182066485285759,0.114773578941822,-0.235138878226280,-0.011755425482988,-0.070845082402229,0.061711777001619,0.132226601243019,0.020122945308685,0.109719231724739,0.036970656365156,0.093414783477783,-0.093333289027214,0.186026617884636,0.077582679688931,0.255300045013428));
res += mul(Get(s2,-dx,0), float4x4(0.260351777076721,-0.084076829254627,0.183784589171410,-0.098432026803493,0.049260642379522,0.129245787858963,0.029720783233643,-0.097889050841331,0.372411340475082,-0.192975416779518,0.388736218214035,-0.172706142067909,-0.093680299818516,-0.111534468829632,0.008409430272877,-0.336610347032547));
res += mul(Get(s2,-dx,dy), float4x4(0.054262798279524,0.007297941949219,0.229836732149124,0.105603791773319,0.055802833288908,-0.049431398510933,-0.032105341553688,-0.051089085638523,-0.122460417449474,-0.058440480381250,0.105310387909412,0.074248202145100,0.161274880170822,-0.037619687616825,0.034028016030788,-0.004143660888076));
res += mul(Get(s2,0,-dy), float4x4(0.237764194607735,0.094625458121300,-0.516048312187195,0.313273400068283,-0.023155128583312,-0.473755687475204,0.012322343885899,0.023858489468694,-0.174986183643341,-0.111656360328197,-0.197558283805847,0.193968519568443,0.066204421222210,0.218361064791679,0.128277942538261,0.482211738824844));
res += mul(Get(s2,0,0), float4x4(-0.518478155136108,-0.169154226779938,-0.147144958376884,0.009722551330924,0.261712223291397,0.165382310748100,-0.201878607273102,0.203540176153183,-0.382510334253311,0.070126935839653,-0.114102967083454,0.078481338918209,0.130026504397392,-0.124254152178764,0.178265139460564,-0.520838201045990));
res += mul(Get(s2,0,dy), float4x4(0.054571464657784,-0.043170385062695,-0.073604501783848,-0.027540724724531,-0.299439787864685,-0.066509418189526,0.461398273706436,-0.020729789510369,-0.144747540354729,0.029507670551538,-0.151501759886742,0.025445843115449,0.082879096269608,-0.024527614936233,-0.133350864052773,-0.016553366556764));
res += mul(Get(s2,dx,-dy), float4x4(0.027158217504621,0.076918125152588,0.197414681315422,0.082235842943192,0.114341348409653,-0.116688191890717,-0.100198470056057,0.080541849136353,-0.029890397563577,-0.109068013727665,-0.096836797893047,-0.150738224387169,0.015434471890330,0.003542624879628,0.015448279678822,-0.092530764639378));
res += mul(Get(s2,dx,0), float4x4(0.106649011373520,0.158836677670479,0.040980596095324,-0.070744954049587,0.111694417893887,0.083595439791679,-0.172998711466789,-0.032159876078367,0.325781017541885,0.184353783726692,-0.187314346432686,-0.122278653085232,0.045332841575146,-0.017041362822056,-0.324368298053741,0.060589935630560));
res += mul(Get(s2,dx,dy), float4x4(-0.032702866941690,-0.114315263926983,0.028943939134479,-0.075535960495472,-0.038117483258247,0.095169462263584,-0.014521745964885,0.009799062274396,0.175024658441544,-0.014860628172755,-0.087873794138432,-0.073474630713463,0.037135679274797,-0.042600415647030,-0.113676957786083,0.136288300156593));
res = max(float4(0, 0, 0, 0), res) + float4(0.872481107711792,-0.213714107871056,0.737118661403656,-0.015959633514285) * min(float4(0, 0, 0, 0), res);
return res;
}
