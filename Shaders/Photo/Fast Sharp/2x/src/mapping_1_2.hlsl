sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.137908771634102,0.007827184163034,0.046035345643759,-0.712361037731171);
res += mul(Get(s0,-dx,-dy), float4x4(-0.084424264729023,0.132734835147858,0.026614980772138,-0.071959070861340,-0.080709442496300,-0.138127833604813,0.027926621958613,0.148709580302238,0.110370174050331,0.051648095250130,0.052498210221529,-0.005709304008633,-0.057342510670424,0.152396976947784,-0.035296402871609,-0.191226020455360));
res += mul(Get(s0,-dx,0), float4x4(0.050195828080177,-0.242040634155273,0.020271111279726,-0.025202203541994,0.151097252964973,0.119032762944698,-0.047325477004051,-0.024611987173557,0.290939420461655,0.183664411306381,0.010580518282950,0.125908225774765,0.013458272442222,0.036402214318514,0.143209606409073,-0.292621672153473));
res += mul(Get(s0,-dx,dy), float4x4(0.099430970847607,-0.276110291481018,-0.093778640031815,0.002314482349902,0.091698065400124,0.078341320157051,-0.004273181315511,-0.089689992368221,0.043461900204420,0.024666206911206,0.084764041006565,0.180212914943695,-0.072218574583530,0.196434900164604,0.007621068973094,-0.260444849729538));
res += mul(Get(s0,0,-dy), float4x4(-0.031930189579725,0.030763586983085,-0.045998264104128,0.119391597807407,0.339041382074356,-0.140574961900711,0.057599622756243,0.116221457719803,-0.153179869055748,0.237435147166252,0.056598696857691,-0.103263527154922,-0.098211519420147,-0.032613940536976,0.054100614041090,-0.242837995290756));
res += mul(Get(s0,0,0), float4x4(-0.050610221922398,0.134785264730453,-0.056194089353085,0.151687145233154,-0.768778085708618,0.007622419856489,0.328532397747040,-0.411681443452835,0.058988094329834,0.119708873331547,0.063231281936169,-0.066286899149418,-0.119050540030003,-0.098995923995972,0.073381461203098,-0.098895631730556));
res += mul(Get(s0,0,dy), float4x4(0.014000440016389,-0.369572132825851,0.126113399863243,-0.705789268016815,-0.012605208903551,0.285140037536621,-0.144452407956123,0.134298726916313,-0.055946327745914,0.109421126544476,-0.058960448950529,-0.108430147171021,-0.013224788010120,0.190153807401657,0.166094392538071,-0.224719747900963));
res += mul(Get(s0,dx,-dy), float4x4(0.115162037312984,0.055826582014561,0.048307985067368,0.008438987657428,0.295471966266632,0.250587433576584,0.035414490848780,-0.112114585936069,0.059662379324436,0.173557683825493,-0.075251661241055,-0.152645602822304,-0.106134928762913,0.199785903096199,-0.096325069665909,-0.130989596247673));
res += mul(Get(s0,dx,0), float4x4(0.027611810714006,-0.084237329661846,0.155432209372520,-0.138243496417999,0.189582154154778,-0.208061859011650,-0.227864965796471,0.199730262160301,-0.003553562797606,-0.094301491975784,-0.071799792349339,0.220678254961967,-0.030792292207479,-0.053198266774416,-0.044772244989872,-0.010532935149968));
res += mul(Get(s0,dx,dy), float4x4(0.250241547822952,-0.392952978610992,-0.099096961319447,-0.559060752391815,-0.004019107669592,-0.056860607117414,0.067075684666634,-0.006345211062580,0.027142532169819,0.076320305466652,-0.103994823992252,0.257470518350601,0.117060385644436,0.027227384969592,-0.146148115396500,-0.086900509893894));
res += mul(Get(s1,-dx,-dy), float4x4(-0.095079161226749,-0.132207676768303,-0.090529568493366,-0.025144241750240,-0.093562155961990,0.273963093757629,0.136011287570000,-0.052301935851574,0.075651697814465,0.020220041275024,-0.027577288448811,0.032588236033916,0.173155948519707,0.126072451472282,-0.002894298406318,0.118070602416992));
res += mul(Get(s1,-dx,0), float4x4(0.190932109951973,-0.239751771092415,0.123810306191444,-0.054427105933428,0.483871340751648,-0.307271778583527,-0.228035017848015,0.298116862773895,-0.195383414626122,-0.048621471971273,0.103100046515465,-0.178825154900551,0.115842565894127,0.124259509146214,-0.128505319356918,0.133446827530861));
res += mul(Get(s1,-dx,dy), float4x4(0.077830448746681,0.282262235879898,0.014931602403522,-0.209814265370369,-0.021537737920880,-0.063755616545677,0.016794737428427,-0.074669323861599,0.027983877807856,-0.109639413654804,-0.041684947907925,0.076139658689499,-0.050836462527514,0.018564103171229,0.049512837082148,0.317807018756866));
res += mul(Get(s1,0,-dy), float4x4(0.147741779685020,-0.163315206766129,-0.074286863207817,-0.311491698026657,-0.129753336310387,0.190718919038773,0.016679041087627,-0.399646133184433,-0.032878585159779,0.236790150403976,-0.047980364412069,-0.075276963412762,0.015097983181477,0.071665033698082,0.060761161148548,0.035526644438505));
res += mul(Get(s1,0,0), float4x4(-0.088792055845261,-0.126746267080307,0.156877905130386,-0.327132761478424,-0.343403249979019,-0.328688919544220,0.330916285514832,-0.012382204644382,-0.233905106782913,0.099070116877556,-0.166776761412621,-0.284177899360657,-0.056825604289770,-0.111536413431168,-0.237695008516312,0.033798463642597));
res += mul(Get(s1,0,dy), float4x4(0.056117329746485,0.049917608499527,0.023865677416325,0.056258082389832,0.250786632299423,0.102891653776169,-0.132400721311569,0.262180656194687,0.060447618365288,-0.138001471757889,0.161121368408203,0.056802041828632,0.039198886603117,0.281313925981522,0.048626426607370,0.106792189180851));
res += mul(Get(s1,dx,-dy), float4x4(-0.011150595732033,0.020111566409469,0.125030413269997,0.130948096513748,0.004895143210888,0.179110854864120,-0.055023401975632,0.058827251195908,0.100494459271431,0.023407211527228,-0.042311817407608,-0.079903088510036,-0.131731852889061,-0.123525857925415,-0.047382686287165,0.205790758132935));
res += mul(Get(s1,dx,0), float4x4(0.366534024477005,0.217407643795013,-0.440736830234528,0.293760597705841,-0.145089998841286,-0.111766554415226,-0.063237793743610,-0.042046766728163,-0.126315400004387,0.050099123269320,-0.221949055790901,-0.014833594672382,-0.012652884237468,-0.121445119380951,0.255593419075012,0.040369585156441));
res += mul(Get(s1,dx,dy), float4x4(0.024673406034708,-0.148169487714767,-0.086523018777370,0.131746098399162,-0.179084971547127,-0.105754435062408,0.234321355819702,-0.101433783769608,-0.024378357455134,0.165151521563530,-0.177188441157341,0.162475943565369,0.011041918769479,-0.008098791353405,-0.094845928251743,0.207324713468552));
res += mul(Get(s2,-dx,-dy), float4x4(-0.250413358211517,-0.362253695726395,0.077693641185760,0.046502266079187,-0.047259651124477,0.104685589671135,-0.028734227642417,-0.083055138587952,0.342012673616409,-0.046030074357986,0.033033404499292,-0.015158365480602,-0.102819293737411,0.167179837822914,0.061543807387352,-0.249418333172798));
res += mul(Get(s2,-dx,0), float4x4(0.078271619975567,0.261712849140167,0.102130889892578,0.244150236248970,0.083107940852642,-0.025954270735383,0.037316307425499,-0.091580167412758,-0.055195912718773,0.064543105661869,-0.090352527797222,0.299980252981186,0.308854222297668,0.483565837144852,-0.132270157337189,-0.314352750778198));
res += mul(Get(s2,-dx,dy), float4x4(0.091298460960388,-0.054455108940601,-0.041841547936201,-0.123745925724506,-0.059518728405237,-0.158551156520844,0.020708326250315,-0.053638841956854,0.120692625641823,0.164463207125664,-0.063837826251984,0.179211229085922,0.011283692903817,0.199901595711708,-0.193314626812935,-0.204719930887222));
res += mul(Get(s2,0,-dy), float4x4(0.241358727216721,0.014093476347625,-0.239068895578384,0.085663065314293,0.213674321770668,-0.050691910088062,-0.033463533967733,-0.075005106627941,0.157490566372871,-0.037137955427170,0.239594787359238,-0.150394737720490,-0.151990905404091,-0.013631146401167,-0.087566487491131,-0.149144589900970));
res += mul(Get(s2,0,0), float4x4(0.032756973057985,-0.346428453922272,0.121350541710854,-0.229278489947319,-0.278165191411972,0.187736779451370,-0.001457994454540,0.189461559057236,-0.174811407923698,0.111986771225929,0.353901833295822,-0.397006958723068,0.021261394023895,-0.480611830949783,-0.084453158080578,-0.611665189266205));
res += mul(Get(s2,0,dy), float4x4(0.102329246699810,-0.042051330208778,0.155784949660301,0.038710575550795,0.042103197425604,-0.252739667892456,-0.037634074687958,-0.079969488084316,-0.080082409083843,-0.011456821113825,0.303127348423004,-0.164486423134804,-0.085276216268539,-0.146425619721413,0.076122075319290,-0.082266129553318));
res += mul(Get(s2,dx,-dy), float4x4(-0.198714047670364,0.004349012859166,0.361494630575180,-0.144273012876511,0.074225895106792,0.011494964361191,0.051070999354124,0.030376683920622,0.240683779120445,-0.070410773158073,-0.099528767168522,0.029877984896302,0.003081705188379,-0.082879252731800,0.058323524892330,0.127788096666336));
res += mul(Get(s2,dx,0), float4x4(0.076511569321156,0.536153614521027,-0.124904766678810,0.018106563016772,0.113342337310314,0.452975749969482,0.008368061855435,0.230531528592110,0.221340924501419,0.115724533796310,-0.627889931201935,0.072224020957947,-0.021181616932154,-0.001237833523192,0.297854363918304,-0.089143045246601));
res += mul(Get(s2,dx,dy), float4x4(-0.109761573374271,-0.233041375875473,-0.296110630035400,-0.048678833991289,0.096579439938068,0.049575306475163,-0.072189286351204,-0.026420837268233,-0.124023064970970,0.018802439793944,-0.204829975962639,-0.218375414609909,-0.012001533061266,-0.168815061450005,0.146538898348808,-0.013779427856207));
res = max(float4(0, 0, 0, 0), res) + float4(1.086038708686829,0.519634842872620,-0.634235680103302,-0.053105168044567) * min(float4(0, 0, 0, 0), res);
return res;
}
