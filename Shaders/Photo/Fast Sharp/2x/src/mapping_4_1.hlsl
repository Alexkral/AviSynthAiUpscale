sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.029568893834949,-0.013127292506397,-0.187501728534698,-0.124721974134445);
res += mul(Get(s0,-dx,-dy), float4x4(-0.088964059948921,0.109053306281567,0.076030947268009,-0.021577458828688,-0.129947751760483,-0.039945792406797,-0.027984760701656,-0.079609476029873,-0.100500084459782,-0.064144819974899,0.105048842728138,-0.103952027857304,0.008019647561014,-0.029415154829621,0.100638493895531,-0.120769053697586));
res += mul(Get(s0,-dx,0), float4x4(-0.171492606401443,-0.041952021420002,-0.059099886566401,-0.161640182137489,-0.049836520105600,0.079601019620895,0.049230683594942,0.114940382540226,0.065317459404469,-0.149293690919876,0.086285687983036,0.114348009228706,-0.008967068977654,-0.261149555444717,0.155094653367996,-0.010970123112202));
res += mul(Get(s0,-dx,dy), float4x4(-0.166842266917229,-0.002202377421781,-0.066359318792820,0.135455772280693,0.107946552336216,0.112238876521587,-0.106009416282177,0.064269870519638,0.070552803575993,-0.002867215778679,-0.109895311295986,-0.091202206909657,-0.000525214651134,-0.009087882004678,-0.092044271528721,-0.036679599434137));
res += mul(Get(s0,0,-dy), float4x4(-0.140475749969482,-0.011740447953343,0.093746840953827,-0.110399872064590,0.117189697921276,0.058363441377878,0.128159016370773,0.165003210306168,-0.299859642982483,-0.122769035398960,-0.111979983747005,0.160735696554184,-0.004997243639082,-0.177236557006836,0.161221772432327,-0.100650437176228));
res += mul(Get(s0,0,0), float4x4(0.166867479681969,-0.008973893709481,-0.004305879119784,-0.065297178924084,0.052920740097761,0.053785085678101,-0.316729068756104,-0.560313880443573,0.048303283751011,0.062071528285742,0.071606397628784,-0.087752446532249,-0.233194574713707,-0.132950663566589,0.129903003573418,-0.075483210384846));
res += mul(Get(s0,0,dy), float4x4(-0.087537422776222,0.012166628614068,-0.047770809382200,0.065791957080364,0.099572055041790,-0.098450660705566,0.124021209776402,-0.263971745967865,-0.042803272604942,0.060458123683929,0.072190485894680,0.251000344753265,0.016876801848412,-0.018612075597048,0.032923534512520,0.040332306176424));
res += mul(Get(s0,dx,-dy), float4x4(-0.072734132409096,-0.015711972489953,-0.288069397211075,0.105848409235477,-0.003504245541990,-0.160495147109032,-0.237168729305267,-0.093427978456020,0.035819366574287,-0.036697447299957,0.405515611171722,0.077487736940384,0.076981514692307,0.079115144908428,-0.034229166805744,-0.069197148084641));
res += mul(Get(s0,dx,0), float4x4(-0.094129674136639,0.043937202543020,0.035332903265953,0.280813515186310,0.039289437234402,-0.342267990112305,-0.005513950251043,0.191336661577225,0.174594312906265,-0.009787595830858,0.088807202875614,-0.050889201462269,-0.064660929143429,0.308572620153427,-0.326971888542175,0.082960225641727));
res += mul(Get(s0,dx,dy), float4x4(0.039243262261152,0.036585059016943,-0.017161868512630,-0.118668392300606,-0.041135717183352,-0.091178774833679,-0.125828444957733,0.151043698191643,0.077594831585884,0.030030999332666,0.113494843244553,-0.059384610503912,0.110230460762978,-0.012206607498229,0.160881534218788,-0.004558296874166));
res += mul(Get(s1,-dx,-dy), float4x4(0.033150020986795,0.029183607548475,-0.057200137525797,-0.024218808859587,-0.028856977820396,0.004624873865396,0.158195123076439,-0.040939159691334,-0.012629324570298,0.067840389907360,-0.043689142912626,-0.095313526690006,0.020059775561094,-0.073845051229000,0.037713799625635,0.089739762246609));
res += mul(Get(s1,-dx,0), float4x4(-0.046105176210403,-0.200394466519356,0.120053499937057,-0.149886637926102,0.230692297220230,0.265095502138138,-0.078601494431496,-0.071417093276978,0.095500871539116,0.335217982530594,-0.185464948415756,0.107311785221100,0.263954699039459,0.075361706316471,0.039835426956415,0.086377426981926));
res += mul(Get(s1,-dx,dy), float4x4(-0.147698074579239,-0.073075391352177,0.127793043851852,0.036852743476629,0.192821905016899,0.005069294944406,-0.005636810325086,-0.209133028984070,-0.096165589988232,-0.023216396570206,0.088826201856136,-0.064107038080692,-0.137337371706963,0.052810594439507,-0.018715213984251,-0.135976165533066));
res += mul(Get(s1,0,-dy), float4x4(-0.036481447517872,-0.057252183556557,0.125381007790565,-0.013321467675269,0.125258639454842,-0.047024048864841,0.088556982576847,-0.101497456431389,-0.119177140295506,-0.157626971602440,0.110209673643112,-0.021637126803398,0.227898806333542,0.021709417924285,-0.149057805538177,-0.241335973143578));
res += mul(Get(s1,0,0), float4x4(0.062127612531185,-0.101909667253494,-0.320367813110352,-0.196253553032875,0.140763685107231,-0.168738201260567,0.141196027398109,-0.011889847926795,-0.175149813294411,-0.354815632104874,0.698472499847412,0.316538721323013,0.225480005145073,-0.121464006602764,0.347505897283554,-0.453170895576477));
res += mul(Get(s1,0,dy), float4x4(-0.056594755500555,0.012219902127981,-0.167242094874382,0.121053308248520,0.050248652696609,-0.099213175475597,0.140915334224701,-0.168397694826126,-0.121402218937874,-0.078777797520161,0.029080720618367,0.287208914756775,-0.170633792877197,-0.032051477581263,0.022352512925863,0.130645632743835));
res += mul(Get(s1,dx,-dy), float4x4(-0.158769369125366,-0.347258508205414,-0.154299616813660,0.091310724616051,0.176364585757256,-0.151767238974571,0.014367953874171,-0.042321536689997,0.017674531787634,0.019424432888627,0.174342632293701,-0.044897906482220,-0.053757313638926,0.033573821187019,-0.130564585328102,0.067918919026852));
res += mul(Get(s1,dx,0), float4x4(-0.095812968909740,-0.041780456900597,0.246526122093201,0.212177872657776,0.198223635554314,0.009219284169376,-0.121318832039833,-0.064930096268654,0.138411402702332,0.389400303363800,0.232720553874969,-0.319980442523956,-0.203338295221329,0.054119724780321,-0.295741528272629,0.202535942196846));
res += mul(Get(s1,dx,dy), float4x4(-0.019796280190349,-0.152543678879738,0.094794414937496,0.010421018116176,0.144254118204117,-0.155370056629181,-0.024939799681306,-0.172805353999138,0.093070343136787,0.299580782651901,0.039474636316299,-0.150625169277191,0.051332108676434,0.125089585781097,0.167497381567955,-0.016429144889116));
res += mul(Get(s2,-dx,-dy), float4x4(0.121028177440166,0.307629942893982,-0.002259385073557,0.002676052041352,-0.007650399114937,-0.010600210167468,0.008821968920529,0.013311242684722,-0.145814552903175,-0.117347732186317,-0.052612300962210,-0.092580273747444,-0.182047486305237,-0.034579146653414,-0.101842068135738,0.062534675002098));
res += mul(Get(s2,-dx,0), float4x4(-0.030601175501943,0.058610267937183,-0.272994965314865,-0.086966440081596,-0.056387405842543,-0.112876139581203,-0.022928625345230,0.025141434744000,-0.124225206673145,-0.297953069210052,0.166914269328117,0.273220062255859,-0.113111726939678,0.045119464397430,0.042307205498219,0.261807054281235));
res += mul(Get(s2,-dx,dy), float4x4(0.046659417450428,-0.140954583883286,-0.105178453028202,0.205562725663185,-0.010896581225097,0.088771753013134,-0.080466069281101,-0.012703177519143,-0.031085196882486,-0.060368474572897,0.022928163409233,0.026875361800194,-0.003863100660965,0.220143720507622,-0.015252998098731,0.213068261742592));
res += mul(Get(s2,0,-dy), float4x4(-0.007077232468873,-0.141410022974014,0.092033378779888,-0.101471871137619,-0.085985369980335,-0.052086308598518,0.003387534758076,-0.044834326952696,0.045658968389034,-0.037019260227680,0.248113065958023,-0.053907524794340,-0.127578914165497,0.305001944303513,0.010234028100967,0.218638285994530));
res += mul(Get(s2,0,0), float4x4(-0.013110775500536,0.054046925157309,0.174015969038010,0.126742973923683,-0.092137232422829,0.079345867037773,-0.040852379053831,-0.063816592097282,0.040258619934320,0.008322623558342,-0.307291388511658,-0.107798293232918,-0.024833636358380,-0.022828401997685,0.118046090006828,0.227340266108513));
res += mul(Get(s2,0,dy), float4x4(-0.001490590395406,0.150061190128326,-0.207583069801331,-0.191336557269096,0.067640334367752,-0.101649209856987,0.205253064632416,0.011454284191132,-0.063690148293972,-0.043535940349102,0.025415116921067,-0.077474415302277,0.071716718375683,-0.053503222763538,0.122096404433250,0.198004618287086));
res += mul(Get(s2,dx,-dy), float4x4(0.061581995338202,0.048071637749672,-0.232088699936867,0.150058090686798,-0.073225438594818,0.016887748613954,-0.101343885064125,-0.005217676050961,-0.085268221795559,-0.327478915452957,-0.017152747139335,0.027646934613585,-0.027461733669043,0.268512517213821,0.076785594224930,0.106246925890446));
res += mul(Get(s2,dx,0), float4x4(0.018853090703487,-0.300392597913742,-0.198189303278923,-0.280987679958344,-0.160139232873917,-0.031486127525568,0.208054319024086,0.045576781034470,0.120691202580929,-0.208678141236305,0.010959786362946,0.008537315763533,0.092975005507469,0.325443387031555,-0.008090103045106,-0.107811406254768));
res += mul(Get(s2,dx,dy), float4x4(-0.201969727873802,-0.175485417246819,-0.097777754068375,0.208327844738960,0.164787605404854,0.062795035541058,-0.229435756802559,-0.124833047389984,-0.036073360592127,-0.005052544642240,0.005498099140823,-0.012369547970593,-0.084467768669128,0.136575460433960,-0.163211479783058,0.025953264907002));
res = max(float4(0, 0, 0, 0), res) + float4(-0.810108304023743,0.208351343870163,0.207063525915146,-0.000504640862346) * min(float4(0, 0, 0, 0), res);
return res;
}
