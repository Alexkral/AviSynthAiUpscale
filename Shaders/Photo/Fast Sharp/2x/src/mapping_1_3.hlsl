sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.098221898078918,0.009381215088069,-0.131157025694847,0.119431547820568);
res += mul(Get(s0,-dx,-dy), float4x4(0.048480316996574,0.114481091499329,-0.018345626071095,0.082003124058247,-0.137827754020691,-0.013579186052084,-0.093636982142925,-0.078447535634041,-0.034067906439304,0.076302185654640,0.194290995597839,-0.178617715835571,-0.029270447790623,0.064038001000881,0.060331273823977,0.057557869702578));
res += mul(Get(s0,-dx,0), float4x4(0.089510753750801,0.219299346208572,-0.311615854501724,-0.012734137475491,0.352245002985001,-0.124302253127098,0.010963173583150,-0.124960377812386,0.085471175611019,0.047882147133350,-0.148337483406067,-0.164460211992264,0.073212511837482,0.244987413287163,-0.147191762924194,0.057734917849302));
res += mul(Get(s0,-dx,dy), float4x4(-0.029648730531335,0.306814700365067,0.102217495441437,-0.091561079025269,0.034093383699656,-0.132489845156670,0.018583768978715,0.048858694732189,-0.015067169442773,-0.140346869826317,-0.086601950228214,-0.154326096177101,-0.094614572823048,0.036615695804358,-0.134774222970009,0.068777963519096));
res += mul(Get(s0,0,-dy), float4x4(-0.104449860751629,-0.010151112452149,0.030927771702409,-0.012001625262201,-0.018254010006785,0.310440480709076,-0.058610789477825,-0.324778944253922,-0.003116251435131,0.078273199498653,-0.042315077036619,0.125130966305733,0.014199499972165,0.303706377744675,0.071171358227730,-0.084990948438644));
res += mul(Get(s0,0,0), float4x4(-0.075128845870495,-0.148786976933479,-0.195127055048943,-0.265502303838730,-0.241721034049988,0.169398605823517,0.258244305849075,0.357139647006989,-0.026660496369004,0.070607244968414,-0.192514106631279,0.296498298645020,-0.117050401866436,0.898059666156769,0.159761458635330,0.433594107627869));
res += mul(Get(s0,0,dy), float4x4(-0.016191111877561,-0.091999888420105,-0.095782510936260,-0.032872658222914,0.080831810832024,-0.267823368310928,0.384949654340744,-0.099919542670250,-0.037441365420818,0.159132912755013,0.549466967582703,0.041820731014013,0.054713826626539,-0.052543897181749,0.113997578620911,-0.024710206314921));
res += mul(Get(s0,dx,-dy), float4x4(-0.002134555717930,0.014327779412270,0.016363842412829,-0.173190876841545,0.061981897801161,-0.166722446680069,-0.081841468811035,0.182179480791092,0.065775245428085,0.203358799219131,0.155644029378891,0.047799270600080,-0.048065006732941,0.112648598849773,0.174909085035324,-0.066001869738102));
res += mul(Get(s0,dx,0), float4x4(-0.048988305032253,-0.144247978925705,-0.087903372943401,-0.133783087134361,0.133291453123093,-0.272683590650558,-0.201790675520897,-0.036822672933340,0.083655416965485,0.376551389694214,-0.062531135976315,-0.029675425961614,-0.048093345016241,0.272696375846863,0.315430581569672,0.187079921364784));
res += mul(Get(s0,dx,dy), float4x4(-0.045880679041147,0.061520036309958,-0.239618137478828,-0.149423733353615,-0.091004416346550,-0.089143693447113,-0.082947030663490,-0.028911396861076,0.005498218350112,0.062941975891590,0.079801104962826,0.068143583834171,-0.036815159022808,-0.074987307190895,-0.181989535689354,-0.098375983536243));
res += mul(Get(s1,-dx,-dy), float4x4(-0.108270563185215,-0.020604396238923,-0.129438266158104,-0.119061082601547,-0.011035067960620,0.130475670099258,-0.035503387451172,0.097123563289642,0.033424701541662,-0.003479147097096,0.019559534266591,0.000482925155666,-0.015298982150853,-0.059573851525784,-0.023093357682228,-0.038707226514816));
res += mul(Get(s1,-dx,0), float4x4(0.392179697751999,0.210603669285774,0.069013029336929,0.066071659326553,-0.077594950795174,-0.203405678272247,-0.091607891023159,-0.239090710878372,0.032502815127373,0.114152118563652,-0.017344009131193,0.054478641599417,-0.010956696234643,-0.183063209056854,0.125977039337158,-0.174436509609222));
res += mul(Get(s1,-dx,dy), float4x4(-0.011453296057880,0.012791001237929,-0.054861750453711,0.078178621828556,-0.112804904580116,0.148621112108231,-0.278507739305496,0.152256757020950,0.032714486122131,-0.066940717399120,-0.021470457315445,0.011455623432994,-0.082716912031174,-0.232252493500710,-0.016871226951480,-0.087403014302254));
res += mul(Get(s1,0,-dy), float4x4(-0.046353861689568,-0.031319327652454,-0.109694212675095,-0.328885674476624,-0.120255678892136,0.201627746224403,0.105567380785942,0.244767606258392,0.149010553956032,-0.024160185828805,0.036582335829735,0.134272754192352,0.060820166021585,0.224379375576973,0.020249687135220,-0.064175203442574));
res += mul(Get(s1,0,0), float4x4(-0.407586544752121,0.740072786808014,0.498910129070282,0.522560834884644,0.045138128101826,-0.035476908087730,0.134876534342766,0.029651932418346,0.373154282569885,0.144406646490097,-0.019040744751692,0.118455544114113,-0.024159744381905,0.127548173069954,-0.051216233521700,0.269914835691452));
res += mul(Get(s1,0,dy), float4x4(-0.053430411964655,-0.237018764019012,0.514124989509583,-0.058703869581223,0.131081461906433,-0.275153905153275,-0.382668852806091,-0.287732392549515,-0.053214341402054,-0.168442249298096,-0.157276302576065,0.024522218853235,0.015633773058653,-0.580056130886078,0.001500401995145,-0.263584941625595));
res += mul(Get(s1,dx,-dy), float4x4(-0.064741887152195,-0.289798676967621,-0.062858395278454,-0.063502803444862,0.019197158515453,-0.082537077367306,0.033841468393803,-0.110445223748684,0.071590974926949,-0.173574939370155,0.079994939267635,-0.132585242390633,0.014291953295469,0.151953458786011,-0.128614604473114,0.019550282508135));
res += mul(Get(s1,dx,0), float4x4(0.395424902439117,-0.808882713317871,-0.034306667745113,-0.022149486467242,-0.023272037506104,0.069189801812172,0.113776996731758,-0.104749441146851,-0.123277634382248,0.003752297488973,0.295714676380157,-0.139423355460167,-0.024187665432692,0.170255005359650,0.199143812060356,0.120939277112484));
res += mul(Get(s1,dx,dy), float4x4(0.030033729970455,-0.294706881046295,-0.418922692537308,-0.005717475432903,-0.043024923652411,-0.014052193611860,0.121169582009315,0.031397521495819,0.095883063971996,-0.050077002495527,-0.081650726497173,0.064916290342808,0.074386768043041,-0.220112726092339,-0.031065540388227,0.000430149724707));
res += mul(Get(s2,-dx,-dy), float4x4(-0.477631270885468,0.037265494465828,-0.243747323751450,0.105853535234928,0.098691746592522,-0.050912156701088,-0.011012010276318,-0.002063554944471,0.212752968072891,-0.020547546446323,0.055368550121784,-0.199076637625694,-0.032302301377058,0.058145303279161,0.158604398369789,0.034926932305098));
res += mul(Get(s2,-dx,0), float4x4(0.203741550445557,-0.037097893655300,0.130162701010704,-0.000486844044644,0.329827308654785,-0.007291872985661,0.133629009127617,0.000343335937941,0.764532089233398,0.127617716789246,0.122978761792183,-0.152416512370110,0.293197333812714,-0.278954446315765,-0.124450139701366,-0.202077463269234));
res += mul(Get(s2,-dx,dy), float4x4(-0.065756991505623,0.034038737416267,0.064996317028999,-0.052806437015533,-0.138503417372704,0.036460801959038,-0.093633629381657,-0.011079656891525,-0.182886287570000,0.012757319957018,-0.151125699281693,-0.087560921907425,-0.002409933833405,0.092132590711117,-0.319665580987930,-0.176089733839035));
res += mul(Get(s2,0,-dy), float4x4(0.008000744506717,0.063509240746498,0.065495684742928,-0.086880542337894,-0.095778092741966,0.013924732804298,-0.033012554049492,0.132118627429008,-0.240144968032837,0.050937574356794,0.074692822992802,-0.007935034111142,0.011984761804342,-0.149379357695580,-0.091772712767124,-0.783460021018982));
res += mul(Get(s2,0,0), float4x4(0.369399577379227,0.160409569740295,-0.259553045034409,0.290402501821518,-0.322172462940216,-0.046398814767599,0.287797302007675,-0.070696674287319,0.053863622248173,0.263069778680801,0.211234927177429,0.295159518718719,-0.122139073908329,0.591378033161163,-0.076808720827103,0.403922855854034));
res += mul(Get(s2,0,dy), float4x4(0.121011838316917,-0.118802450597286,0.401229470968246,-0.052281066775322,0.173254176974297,0.090652488172054,-0.007911412976682,-0.120518520474434,-0.103190034627914,-0.164005428552628,0.127990841865540,0.050151899456978,0.012581665068865,-0.075845897197723,0.558126568794250,0.204101637005806));
res += mul(Get(s2,dx,-dy), float4x4(-0.101848505437374,0.044882249087095,0.019436020404100,-0.053977359086275,0.032332710921764,-0.055613312870264,0.115233592689037,-0.025784295052290,0.037998571991920,-0.087416172027588,0.033634550869465,0.024872938171029,-0.015374436043203,0.159864515066147,-0.033199880272150,-0.002006240654737));
res += mul(Get(s2,dx,0), float4x4(0.151028975844383,-0.246754944324493,0.218696638941765,-0.056018125265837,0.115661971271038,-0.086617939174175,0.309058427810669,0.051134958863258,0.049351211637259,-0.112602129578590,-0.226167246699333,0.003837446682155,-0.022296283394098,-0.074473448097706,-0.115761794149876,0.189501687884331));
res += mul(Get(s2,dx,dy), float4x4(-0.111079514026642,0.222438156604767,-0.099914565682411,-0.031050072982907,-0.001621853210963,0.198846548795700,-0.042104125022888,0.165705293416977,-0.015051787719131,0.023319464176893,0.244071096181870,-0.080727770924568,-0.059725079685450,0.130716979503632,-0.081462711095810,0.094629153609276));
res = max(float4(0, 0, 0, 0), res) + float4(-0.515538334846497,0.021199107170105,0.244644716382027,-0.109562687575817) * min(float4(0, 0, 0, 0), res);
return res;
}
