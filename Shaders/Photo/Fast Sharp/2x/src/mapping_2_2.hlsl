sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.038200907409191,0.100908510386944,-0.068942144513130,0.137779191136360);
res += mul(Get(s0,-dx,-dy), float4x4(-0.100583530962467,0.083631515502930,-0.003997025545686,-0.037016320973635,-0.064373858273029,-0.002311793621629,-0.051576830446720,-0.172638863325119,-0.033041968941689,-0.048393674194813,0.017189210280776,-0.323185026645660,-0.009607417508960,-0.106127180159092,-0.065355017781258,-0.214158520102501));
res += mul(Get(s0,-dx,0), float4x4(-0.075274161994457,-0.077862814068794,0.063572101294994,0.212804719805717,0.052540346980095,-0.202619582414627,-0.029654070734978,-0.124054975807667,0.140892490744591,-0.027065925300121,0.136722356081009,0.097322754561901,0.077538587152958,-0.249047100543976,-0.095058485865593,-0.066928178071976));
res += mul(Get(s0,-dx,dy), float4x4(0.050570409744978,0.020057862624526,0.051647916436195,-0.076297946274281,-0.013590314425528,-0.189549550414085,0.000681682489812,-0.089223064482212,0.073009498417377,-0.016822442412376,0.016086865216494,0.138610601425171,-0.077854357659817,-0.248104140162468,-0.114801585674286,-0.098031468689442));
res += mul(Get(s0,0,-dy), float4x4(0.042849205434322,0.105182856321335,-0.072513215243816,-0.065333716571331,0.034607958048582,0.059397302567959,-0.039324756711721,-0.361138880252838,0.005787476897240,-0.020640179514885,0.153069540858269,0.056843560189009,-0.054019305855036,-0.022762250155210,0.008267382159829,-0.567430794239044));
res += mul(Get(s0,0,0), float4x4(-0.279954910278320,0.184445321559906,-0.466044157743454,0.437355965375900,-0.052637916058302,0.007583205588162,-0.056256603449583,-0.080316670238972,-0.219479218125343,0.316321998834610,-0.086408756673336,-0.002219401998445,-0.082093015313148,-0.217078164219856,0.042321689426899,0.289605557918549));
res += mul(Get(s0,0,dy), float4x4(0.011763754300773,0.200137853622437,0.016621949151158,-0.034321889281273,-0.106730565428734,-0.227818846702576,0.046659249812365,-1.172435045242310,-0.263770639896393,-0.309288948774338,-0.036545358598232,0.185159981250763,0.204760387539864,-0.168427512049675,0.074991501867771,-0.175334557890892));
res += mul(Get(s0,dx,-dy), float4x4(0.179498746991158,0.096416711807251,0.017084969207644,0.120901018381119,0.127088591456413,0.101720616221428,0.007045119535178,-0.115583330392838,-0.017684232443571,-0.115262262523174,0.013809381984174,-0.145626634359360,0.021000873297453,0.005299378186464,0.090037234127522,-0.091114707291126));
res += mul(Get(s0,dx,0), float4x4(0.187520906329155,-0.172456741333008,0.291303813457489,-0.186443328857422,0.030016439035535,-0.026375798508525,-0.038056075572968,-0.073692418634892,0.030538599938154,-0.307598263025284,0.120730593800545,-0.030491340905428,0.049266848713160,-0.203878432512283,0.034532554447651,0.081889644265175));
res += mul(Get(s0,dx,dy), float4x4(-0.086742974817753,0.125397190451622,-0.015117323957384,0.003593571716920,0.163270935416222,-0.111297771334648,0.116377912461758,0.048105176538229,0.117449872195721,-0.048107005655766,0.102703049778938,0.065213792026043,0.103502117097378,-0.231005921959877,-0.136349618434906,-0.076355099678040));
res += mul(Get(s1,-dx,-dy), float4x4(-0.119229190051556,-0.030288254842162,-0.019267495721579,-0.268736630678177,-0.017302768304944,0.081455685198307,0.106364019215107,0.012629858218133,0.087310574948788,-0.028605900704861,0.027865285053849,-0.167616397142410,-0.140465229749680,-0.102884680032730,0.041640963405371,-0.106487840414047));
res += mul(Get(s1,-dx,0), float4x4(0.060613889247179,0.157774373888969,0.217462465167046,-0.011015504598618,0.029548836871982,0.347943454980850,0.148977369070053,0.005612518172711,-0.015976434573531,-0.025153061375022,-0.010244177654386,-0.060808148235083,-0.148222625255585,0.022976571694016,0.345074921846390,0.152511820197105));
res += mul(Get(s1,-dx,dy), float4x4(-0.066081114113331,-0.094200611114502,-0.051414016634226,0.072257861495018,0.074746914207935,0.093189448118210,0.049549069255590,0.194823697209358,0.131210789084435,0.123185619711876,0.120336920022964,0.047211982309818,-0.036367125809193,0.168723359704018,0.085718691349030,0.116836801171303));
res += mul(Get(s1,0,-dy), float4x4(-0.049108769744635,0.117176674306393,-0.095651701092720,-0.067376114428043,-0.122124813497066,0.074699856340885,0.225590750575066,0.255890488624573,0.143737092614174,-0.050516143441200,0.488712310791016,-0.156008720397949,0.102334924042225,0.114365264773369,0.003476768964902,0.133909597992897));
res += mul(Get(s1,0,0), float4x4(-0.369513571262360,-0.276053905487061,-0.390962451696396,0.105957128107548,-0.211469322443008,-0.163609921932220,-0.175779238343239,0.151514843106270,0.002341929124668,0.154901847243309,0.408557325601578,0.159488692879677,-0.140779823064804,-0.108695678412914,-0.598550975322723,0.460517048835754));
res += mul(Get(s1,0,dy), float4x4(0.087248690426350,-0.066854134202003,0.060898244380951,-0.229209110140800,0.278356343507767,0.291414350271225,0.224359884858131,-0.075942270457745,0.122161388397217,-0.117617212235928,0.126533061265945,-0.219968900084496,0.004789367783815,0.198454156517982,0.019012318924069,-0.243133321404457));
res += mul(Get(s1,dx,-dy), float4x4(0.416273772716522,0.030552592128515,0.083267614245415,0.030037330463529,-0.216302901506424,-0.205976694822311,-0.041811019182205,0.252844423055649,-0.309953421354294,0.069096386432648,0.027140004560351,-0.007314603310078,0.307449817657471,0.183687224984169,0.119311943650246,-0.075691871345043));
res += mul(Get(s1,dx,0), float4x4(0.315667152404785,0.252397805452347,0.130131334066391,-0.077507227659225,0.150592237710953,0.498506247997284,0.372125715017319,-0.031670443713665,-0.268314987421036,-0.058451220393181,0.030157923698425,0.064241118729115,0.375816047191620,-0.400958001613617,-0.125031650066376,-0.163841143250465));
res += mul(Get(s1,dx,dy), float4x4(-0.015603266656399,-0.052568167448044,0.039254359900951,-0.089279085397720,-0.084859311580658,0.208964437246323,-0.029262660071254,-0.263213306665421,-0.048807386308908,-0.024632249027491,0.077262222766876,-0.052134111523628,0.139541819691658,0.236590936779976,0.093025796115398,-0.159974575042725));
res += mul(Get(s2,-dx,-dy), float4x4(0.001376598956995,0.049449592828751,-0.013211466372013,0.031100103631616,0.000896972313058,0.066495135426521,0.006265747826546,0.144673615694046,0.027137743309140,0.159182921051979,0.193352147936821,0.040902432054281,0.013737076893449,0.004472851287574,0.094069659709930,-0.000525595678482));
res += mul(Get(s2,-dx,0), float4x4(0.067471884191036,0.094452001154423,0.055054735392332,0.009928455576301,-0.001254108035937,-0.084600411355495,-0.084627442061901,0.109875284135342,0.063057072460651,0.303339987993240,0.182565450668335,-0.078144825994968,0.081596598029137,-0.019360048696399,0.169711828231812,-0.128562763333321));
res += mul(Get(s2,-dx,dy), float4x4(0.018311595544219,0.020961649715900,-0.029533078894019,0.004185023717582,-0.034881919622421,-0.159334629774094,-0.141253829002380,-0.041304156184196,-0.098697066307068,-0.047905143350363,-0.052620735019445,0.070300780236721,-0.016405517235398,-0.259587496519089,-0.030585004016757,0.072757504880428));
res += mul(Get(s2,0,-dy), float4x4(0.011586834676564,0.067608006298542,-0.038235586136580,-0.037153791636229,0.203576594591141,-0.163887828588486,0.073440112173557,0.122498892247677,0.017698301002383,0.128502056002617,-0.453249454498291,0.203315451741219,-0.083859570324421,-0.020408095791936,-0.099595062434673,-0.008602133020759));
res += mul(Get(s2,0,0), float4x4(0.045538634061813,-0.099550224840641,-0.095368675887585,0.136628061532974,0.547607064247131,0.606240391731262,0.289921104907990,-0.010853219777346,-0.125116154551506,0.376742899417877,-0.042726419866085,-0.006775052286685,-0.151502102613449,0.210286602377892,-0.194761276245117,-0.029578410089016));
res += mul(Get(s2,0,dy), float4x4(0.091111682355404,-0.004564491566271,-0.011934049427509,0.070632860064507,-0.000059072164731,0.022743890061975,0.112250819802284,-0.062637656927109,-0.084047630429268,0.068240903317928,-0.103867806494236,0.056342836469412,-0.066654935479164,-0.733720064163208,-0.008492485620081,-0.057212259620428));
res += mul(Get(s2,dx,-dy), float4x4(-0.129485249519348,0.172944679856300,-0.027283405885100,-0.058507919311523,-0.037631947547197,-0.101958699524403,-0.033455945551395,-0.057301945984364,-0.363976359367371,-0.155627340078354,0.148801997303963,0.037586927413940,0.087545558810234,0.042054608464241,-0.035109322518110,-0.084230184555054));
res += mul(Get(s2,dx,0), float4x4(0.032561738044024,0.038530290126801,0.047347463667393,-0.015378999523818,-0.074509114027023,-0.270068734884262,-0.334432244300842,-0.096555143594742,-0.153520479798317,-0.114332862198353,-0.227659314870834,0.136517003178596,-0.102131538093090,-0.154952362179756,0.121619746088982,-0.198329403996468));
res += mul(Get(s2,dx,dy), float4x4(-0.093000993132591,-0.096221745014191,-0.172660395503044,0.092972978949547,0.047702129930258,-0.070623219013214,-0.012277095578611,-0.021815273910761,-0.038488205522299,-0.048893127590418,0.001570463413373,0.053221315145493,-0.063032411038876,0.010820650495589,0.125252276659012,0.112986318767071));
res = max(float4(0, 0, 0, 0), res) + float4(0.243328630924225,0.632436752319336,-0.201679989695549,0.417706161737442) * min(float4(0, 0, 0, 0), res);
return res;
}
