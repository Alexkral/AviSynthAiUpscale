sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.006212948821485,0.161270469427109,-0.121675789356232,-0.024371463805437);
res += mul(Get(s0,-dx,-dy), float4x4(0.065298646688461,0.010419412516057,0.048936400562525,-0.073974706232548,-0.007220231927931,-0.025903673842549,0.030730543658137,0.130861774086952,0.015122952871025,0.135850563645363,-0.120362155139446,0.056339856237173,0.084587231278419,-0.019738212227821,0.009671984240413,-0.134545952081680));
res += mul(Get(s0,-dx,0), float4x4(-0.040312316268682,-0.123599924147129,0.134819597005844,-0.088717475533485,-0.045587211847305,0.069268710911274,0.084695503115654,-0.017982779070735,0.141727432608604,-0.053010530769825,-0.078845456242561,-0.113164618611336,-0.199037089943886,-0.029194273054600,0.075217358767986,0.095805525779724));
res += mul(Get(s0,-dx,dy), float4x4(-0.102847151458263,0.021610615774989,-0.232300549745560,0.071532733738422,0.059852015227079,0.063115805387497,-0.017585014924407,0.002411434659734,0.106188848614693,-0.045571941882372,-0.116763107478619,-0.057589277625084,0.046173211187124,-0.087736472487450,-0.008794293738902,0.025723692029715));
res += mul(Get(s0,0,-dy), float4x4(0.031566351652145,0.020310506224632,0.101025708019733,-0.022561330348253,0.323910951614380,0.035793032497168,0.086455523967743,0.328509747982025,-0.332572042942047,-0.001707809744403,-0.528882801532745,0.495618253946304,-0.047299709171057,0.174248799681664,-0.193233594298363,0.066305659711361));
res += mul(Get(s0,0,0), float4x4(0.298102736473083,0.173432201147079,0.408151954412460,-0.091637864708900,-0.270680099725723,0.244381189346313,-0.340533286333084,0.238309770822525,0.023114709183574,-0.085826635360718,-0.159593075513840,-0.606712460517883,-0.546391963958740,-0.514577329158783,0.267574608325958,0.293296933174133));
res += mul(Get(s0,0,dy), float4x4(-0.102267883718014,0.101782366633415,-0.273403763771057,0.256355464458466,-0.055289514362812,-0.186881408095360,0.226546630263329,-0.022067373618484,-0.053727075457573,0.083969540894032,-0.042791873216629,0.202150434255600,0.315517693758011,0.007700835820287,0.053301349282265,-0.041803982108831));
res += mul(Get(s0,dx,-dy), float4x4(-0.141492009162903,0.145748242735863,0.009151862002909,0.037177927792072,0.100926704704762,-0.001636133529246,0.150827631354332,0.229400247335434,0.082187697291374,-0.202582716941833,-0.046892095357180,0.092119805514812,0.144638940691948,-0.075726509094238,-0.147929325699806,0.078965857625008));
res += mul(Get(s0,dx,0), float4x4(-0.240533575415611,0.076451294124126,0.065988734364510,-0.129492595791817,-0.078442394733429,-0.190319135785103,0.064067609608173,0.309792697429657,0.136242866516113,-0.265276908874512,-0.037940874695778,-0.095065861940384,0.086536027491093,0.190800696611404,0.079203508794308,0.036970730870962));
res += mul(Get(s0,dx,dy), float4x4(-0.139510735869408,0.041922949254513,-0.085572116076946,0.044643174856901,0.000978428288363,0.064948938786983,0.059116501361132,0.000030625531508,-0.021688662469387,-0.080971792340279,-0.152945920825005,0.052289921790361,0.154415354132652,-0.077367268502712,0.036649860441685,0.015530622564256));
res += mul(Get(s1,-dx,-dy), float4x4(0.038613293319941,0.100314013659954,-0.180517211556435,0.040061421692371,0.030495233833790,-0.253750056028366,0.153889775276184,-0.030818033963442,-0.090352885425091,-0.008122993633151,-0.085186421871185,0.070068843662739,0.016315499320626,-0.060810215771198,0.077711366117001,-0.047084569931030));
res += mul(Get(s1,-dx,0), float4x4(-0.011879141442478,-0.031515248119831,0.079556025564671,-0.183468431234360,0.023238804191351,-0.022474562749267,-0.179991587996483,0.212770551443100,0.092731758952141,0.010664392262697,0.043502379208803,-0.059809636324644,-0.130319833755493,0.018259746953845,-0.042920723557472,-0.040153078734875));
res += mul(Get(s1,-dx,dy), float4x4(-0.126988500356674,0.003500719554722,0.008221706375480,0.179114878177643,0.066954828798771,-0.052511230111122,0.043336525559425,-0.111457675695419,0.008442784659564,-0.136430665850639,0.078680343925953,-0.075432002544403,-0.117554835975170,-0.037520211189985,-0.189967483282089,-0.026250317692757));
res += mul(Get(s1,0,-dy), float4x4(-0.178518161177635,-0.037418413907290,-0.261779099702835,0.038078594952822,0.161653921008110,-0.017192855477333,0.264578044414520,-0.351943284273148,-0.075698636472225,-0.073601253330708,-0.327392697334290,0.014883352443576,-0.045326977968216,0.023012546822429,0.138756260275841,-0.168219149112701));
res += mul(Get(s1,0,0), float4x4(0.182316288352013,-0.012597923167050,0.380838364362717,-0.269933074712753,0.126393377780914,-0.161639258265495,-0.459321796894073,0.288284063339233,0.184789106249809,-0.178750738501549,0.217569902539253,-0.183006048202515,-0.125522583723068,-0.067637838423252,-0.070200130343437,-0.496908247470856));
res += mul(Get(s1,0,dy), float4x4(-0.089818261563778,0.181710556149483,-0.165125757455826,0.231417834758759,0.192796364426613,-0.066397316753864,0.206713885068893,-0.288118064403534,-0.061855498701334,0.069121524691582,-0.099810674786568,0.020606396719813,0.001491904491559,0.199668526649475,-0.291028290987015,0.341294169425964));
res += mul(Get(s1,dx,-dy), float4x4(-0.049301289021969,0.059307023882866,-0.193933993577957,0.009072942659259,0.059542097151279,-0.023980176076293,0.021560031920671,-0.122852504253387,0.121077932417393,0.080069459974766,-0.095130413770676,-0.078125238418579,0.158060550689697,0.083494298160076,0.001664781593718,-0.047530546784401));
res += mul(Get(s1,dx,0), float4x4(-0.153635829687119,0.051112893968821,0.175674796104431,-0.034240804612637,0.132865130901337,-0.034419938921928,-0.137104287743568,0.054351709783077,0.074656620621681,-0.274040699005127,0.070094197988510,-0.056488756090403,0.060894321650267,0.053428359329700,-0.141155347228050,-0.248208746314049));
res += mul(Get(s1,dx,dy), float4x4(-0.100154228508472,-0.044006306678057,-0.039035879075527,0.119928784668446,0.056116368621588,0.064117863774300,0.119067557156086,0.016101447865367,0.004041149280965,-0.103801459074020,-0.101177744567394,0.089132361114025,0.054066367447376,-0.158217027783394,-0.119811981916428,0.078056752681732));
res += mul(Get(s2,-dx,-dy), float4x4(0.113465875387192,0.018893172964454,0.215118885040283,-0.134907141327858,0.007766645867378,0.039256166666746,-0.008988967165351,0.052642550319433,-0.029280418530107,0.046163421124220,0.089359521865845,-0.051669865846634,-0.116910815238953,0.089592352509499,-0.131664246320724,0.071854792535305));
res += mul(Get(s2,-dx,0), float4x4(-0.011554191820323,0.068800210952759,-0.339666187763214,0.167229950428009,-0.042717222124338,0.002385849365965,0.038693357259035,0.051163695752621,-0.001142643974163,0.018257725983858,-0.105011329054832,0.171110108494759,0.135067433118820,-0.066612705588341,-0.147809535264969,-0.183450177311897));
res += mul(Get(s2,-dx,dy), float4x4(0.096515782177448,0.056320674717426,0.210266783833504,-0.201332613825798,0.003718286519870,0.020919073373079,-0.010552579537034,0.020105510950089,0.043417710810900,-0.120268501341343,0.151968568563461,0.009663231670856,0.041855685412884,0.152605772018433,-0.047955293208361,-0.035676553845406));
res += mul(Get(s2,0,-dy), float4x4(-0.142899945378304,0.196509271860123,-0.169899329543114,-0.003237827681005,-0.082420453429222,0.101899556815624,-0.048291966319084,0.137962415814400,0.004633085336536,-0.000821280642413,-0.036837235093117,-0.092964418232441,0.019160859286785,-0.096314206719398,-0.093625180423260,0.118215769529343));
res += mul(Get(s2,0,0), float4x4(-0.043164677917957,-0.236447215080261,0.009126788936555,0.041955627501011,-0.028802139684558,-0.150954991579056,0.332372277975082,0.011955847963691,-0.043078750371933,-0.116236768662930,-0.111877813935280,0.277967572212219,-0.221141114830971,-0.033513512462378,-0.165806889533997,0.041323989629745));
res += mul(Get(s2,0,dy), float4x4(-0.041173554956913,0.014200469478965,0.018198238685727,-0.119764387607574,0.196122005581856,-0.318252950906754,0.331639260053635,-0.116457968950272,-0.008990798145533,-0.040018629282713,0.299953013658524,-0.175045534968376,0.039376489818096,-0.069227859377861,0.231159731745720,-0.186362326145172));
res += mul(Get(s2,dx,-dy), float4x4(0.052781991660595,0.095768518745899,-0.166433557868004,0.257479041814804,-0.051481243222952,-0.062862679362297,-0.098182544112206,0.152569174766541,-0.021687848493457,-0.029334753751755,-0.205948323011398,0.022674553096294,0.142088666558266,0.048739623278379,0.094228826463223,-0.088001653552055));
res += mul(Get(s2,dx,0), float4x4(0.160303741693497,0.078075140714645,0.127045601606369,-0.194529071450233,-0.114805445075035,-0.000087032341980,0.177686691284180,-0.042603820562363,0.078990183770657,0.040210187435150,0.176797151565552,-0.075013697147369,0.080184303224087,-0.078508228063583,-0.248127311468124,0.107761755585670));
res += mul(Get(s2,dx,dy), float4x4(-0.078383266925812,0.126820459961891,-0.229640483856201,0.103651791810989,0.127914741635323,0.112014107406139,0.203168600797653,-0.122511290013790,-0.018967837095261,0.025756156072021,-0.068391479551792,0.096724353730679,-0.024829564616084,0.105223082005978,0.028768951073289,-0.054428275674582));
res = max(float4(0, 0, 0, 0), res) + float4(1.065149307250977,2.504436969757080,-0.022964768111706,-0.007134946528822) * min(float4(0, 0, 0, 0), res);
return res;
}
