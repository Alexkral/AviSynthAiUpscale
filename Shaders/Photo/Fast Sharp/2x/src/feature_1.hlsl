sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.006807778961957,-0.056942448019981,-0.001831822446547,0.328769594430923);
res += float4(-0.025422209873796,0.022670151665807,-0.122872985899448,-0.008963299915195) * Get(-ddx,-ddy);
res += float4(0.057949349284172,-0.017626821994781,0.113957047462463,0.102470070123672) * Get(-ddx,-dy);
res += float4(-0.060556858778000,-0.174536809325218,0.045302782207727,0.017079856246710) * Get(-ddx,0);
res += float4(0.040615398436785,-0.037965182214975,-0.205244973301888,-0.013817826285958) * Get(-ddx,dy);
res += float4(-0.011475941166282,0.009840994141996,0.110698640346527,-0.008565336465836) * Get(-ddx,ddy);
res += float4(0.044053815305233,0.024869211018085,-0.109454900026321,-0.058863017708063) * Get(-dx,-ddy);
res += float4(-0.465712219476700,-0.092186644673347,0.123747602105141,0.055890418589115) * Get(-dx,-dy);
res += float4(0.440030664205551,0.572663903236389,0.281182557344437,-0.299845576286316) * Get(-dx,0);
res += float4(-0.056223195046186,-0.189829602837563,-0.340425997972488,-0.065014794468880) * Get(-dx,dy);
res += float4(0.022349214181304,0.087612412869930,0.084654778242111,0.064949207007885) * Get(-dx,ddy);
res += float4(0.029119169339538,-0.219019785523415,0.082401432096958,0.043532840907574) * Get(0,-ddy);
res += float4(-0.597850084304810,0.666895031929016,-0.380939930677414,-0.050788000226021) * Get(0,-dy);
res += float4(0.610205590724945,-0.710160613059998,-0.328278601169586,-0.716347336769104) * Get(0,0);
res += float4(-0.018071927130222,0.301287263631821,0.023444321006536,-0.194411098957062) * Get(0,dy);
res += float4(-0.004095805343240,-0.084064833819866,-0.112480513751507,-0.075541332364082) * Get(0,ddy);
res += float4(-0.042429778724909,-0.027470925822854,-0.144170790910721,0.024017661809921) * Get(dx,-ddy);
res += float4(0.084120698273182,-0.033907294273376,0.289849489927292,-0.165310055017471) * Get(dx,-dy);
res += float4(-0.065797701478004,-0.011544785462320,0.475868582725525,-0.438408464193344) * Get(dx,0);
res += float4(0.032204493880272,0.295984685420990,-0.056632712483406,-0.224227994680405) * Get(dx,dy);
res += float4(-0.015224236994982,0.054646778851748,0.098777234554291,0.003941853996366) * Get(dx,ddy);
res += float4(-0.006991355679929,0.015632420778275,-0.050406910479069,-0.006789896171540) * Get(ddx,-ddy);
res += float4(-0.021369211375713,0.111235171556473,-0.080285981297493,0.055879469960928) * Get(ddx,-dy);
res += float4(0.003875914961100,-0.208125278353691,0.212194785475731,0.043406233191490) * Get(ddx,0);
res += float4(0.021782591938972,-0.099393635988235,-0.233775407075882,-0.015715297311544) * Get(ddx,dy);
res += float4(0.000481020484585,0.006188648287207,0.024797614663839,0.078416831791401) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.308613896369934,1.015417933464050,0.173395439982414,0.382581591606140) * min(float4(0, 0, 0, 0), res);
return res;
}
