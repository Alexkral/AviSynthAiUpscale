sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.088699698448181,0.044541697949171,-0.030982257798314,0.070772893726826);
res += mul(Get(s0,-dx,-dy), float4x4(-0.075222954154015,-0.035012442618608,0.150693267583847,-0.033928938210011,-0.013281458988786,-0.036565478891134,-0.154022678732872,-0.074555858969688,0.151410460472107,-0.387589305639267,-0.184868931770325,0.020127499476075,0.083663135766983,-0.074840985238552,-0.161760792136192,0.018493281677365));
res += mul(Get(s0,-dx,0), float4x4(-0.163778439164162,0.171264261007309,-0.032568894326687,0.114009767770767,0.106773614883423,-0.170974969863892,-0.548285245895386,-0.184399768710136,0.125003293156624,-0.390418529510498,-0.146054387092590,-0.042208131402731,0.123117066919804,0.235041663050652,-0.042830929160118,-0.199348524212837));
res += mul(Get(s0,-dx,dy), float4x4(-0.238478913903236,-0.113452248275280,0.160765796899796,-0.129256412386894,0.141639426350594,0.165900632739067,-0.147828832268715,0.010910520330071,-0.013210339471698,-0.305781602859497,-0.073929406702518,0.010409479029477,-0.082931876182556,-0.104068219661713,0.082552745938301,-0.097278393805027));
res += mul(Get(s0,0,-dy), float4x4(-0.433504939079285,0.062887825071812,0.027341218665242,-0.100459344685078,0.328046619892120,0.332464903593063,0.221174225211143,0.026014186441898,0.186484947800636,-0.337125837802887,0.005975292995572,0.014358749613166,0.163834229111671,0.084838986396790,0.386733531951904,-0.046617243438959));
res += mul(Get(s0,0,0), float4x4(-0.217926755547523,0.041982695460320,-0.799323260784149,0.580228924751282,0.042013134807348,-0.249498188495636,0.031524080783129,0.157331779599190,0.222233176231384,-0.586313664913177,-0.074102021753788,0.083409972488880,0.305122107267380,0.125947698950768,-0.320507675409317,0.852265894412994));
res += mul(Get(s0,0,dy), float4x4(0.317699044942856,-0.002185206161812,-0.168182313442230,0.020241811871529,-0.134870439767838,0.285060256719589,-0.202543586492538,-0.106165319681168,-0.022278206422925,-0.598436236381531,-0.198697432875633,0.004525068681687,-0.265267789363861,-0.117561250925064,-0.171090736985207,-0.023998292163014));
res += mul(Get(s0,dx,-dy), float4x4(0.012360678985715,-0.081400834023952,0.247948825359344,-0.011315166950226,-0.006397222634405,0.339901536703110,-0.098750419914722,-0.007472543977201,0.180580019950867,-0.477432578802109,-0.096015647053719,-0.004068325273693,-0.035572271794081,-0.048917230218649,0.043649949133396,-0.038434736430645));
res += mul(Get(s0,dx,0), float4x4(0.302302151918411,0.001931421691552,0.136735603213310,0.005519611760974,-0.012568606063724,-0.256179273128510,0.219818070530891,-0.133512273430824,0.320732146501541,-0.691297352313995,-0.113951072096825,0.024753408506513,-0.167773962020874,-0.151446595788002,0.351407140493393,-0.208288729190826));
res += mul(Get(s0,dx,dy), float4x4(0.219644069671631,0.055881254374981,-0.162105202674866,-0.057457197457552,-0.052965547889471,0.219814360141754,0.089808717370033,0.124760515987873,-0.177249550819397,-0.545238554477692,-0.099271729588509,-0.017868729308248,-0.046338457614183,0.274134367704391,-0.017865765839815,-0.108767062425613));
res += mul(Get(s1,-dx,-dy), float4x4(0.252747267484665,-0.031028177589178,-0.001912212115712,0.041406467556953,0.168784976005554,0.089066945016384,-0.101191878318787,0.155562594532967,-0.234721571207047,0.021094957366586,0.198983401060104,-0.037751682102680,-0.159484580159187,-0.305059403181076,-0.092320792376995,-0.045963138341904));
res += mul(Get(s1,-dx,0), float4x4(0.014764916151762,0.139049470424652,0.127380341291428,0.044685419648886,-0.020797370001674,-0.154312282800674,0.460158973932266,0.225279748439789,0.145227432250977,0.042560309171677,0.194751337170601,0.071664102375507,-0.137405082583427,-0.079373568296432,-0.189608842134476,-0.101038143038750));
res += mul(Get(s1,-dx,dy), float4x4(0.307804405689240,-0.033239345997572,0.056730691343546,0.036524150520563,-0.007675923407078,0.005246676038951,0.008516031317413,-0.003055393230170,-0.171891093254089,-0.218694537878036,0.085327528417110,0.048513617366552,-0.229352146387100,0.171885952353477,-0.081780731678009,0.004088535904884));
res += mul(Get(s1,0,-dy), float4x4(-0.134340316057205,-0.016820982098579,0.123141169548035,-0.146840453147888,0.216250419616699,-0.184106022119522,-0.057828027755022,0.269033372402191,-0.041913196444511,0.013456571847200,0.038772810250521,0.119904756546021,-0.127560093998909,0.186855897307396,0.374390244483948,0.030678691342473));
res += mul(Get(s1,0,0), float4x4(-0.274725794792175,-0.007946251891553,0.049735382199287,0.120146632194519,-0.142960667610168,0.205907151103020,-0.291303843259811,0.111661970615387,0.084031164646149,0.259349107742310,-0.136880487203598,0.031780447810888,-0.127954766154289,0.255949914455414,-0.093680635094643,0.139796003699303));
res += mul(Get(s1,0,dy), float4x4(0.004338316153735,0.019263084977865,0.045902218669653,-0.093170695006847,0.533985972404480,0.180983573198318,0.257072895765305,0.229856804013252,0.042236581444740,-0.098894394934177,0.068388305604458,0.180532842874527,-0.058652035892010,-0.132286295294762,-0.623627781867981,-0.276131093502045));
res += mul(Get(s1,dx,-dy), float4x4(0.035490758717060,0.000673076894600,0.007992758415639,0.014788840897381,-0.087333984673023,0.069924868643284,0.134007915854454,0.073021702468395,-0.068774558603764,0.049462504684925,0.070556193590164,-0.028291163966060,0.221651226282120,0.060934033244848,-0.042969726026058,-0.031750679016113));
res += mul(Get(s1,dx,0), float4x4(0.616186916828156,-0.009524377062917,-0.465464472770691,-0.065704591572285,0.301873266696930,0.113787747919559,-0.157279089093208,0.049929730594158,-0.673837780952454,0.007846615277231,0.381509989500046,0.091762572526932,0.207759857177734,-0.096299789845943,0.080660104751587,0.133287906646729));
res += mul(Get(s1,dx,dy), float4x4(0.071484774351120,0.132084220647812,-0.050707276910543,-0.062000464648008,0.277113318443298,-0.094608545303345,0.141165837645531,-0.041182968765497,-0.159001797437668,0.043337855488062,0.284953594207764,-0.087231576442719,-0.342940509319305,0.033915985375643,0.181980207562447,-0.043295521289110));
res += mul(Get(s2,-dx,-dy), float4x4(-0.161319971084595,0.039866413921118,-0.218041792511940,0.136931240558624,0.005821774248034,-0.019260285422206,0.137168094515800,0.037657398730516,-0.081137605011463,0.004513289313763,0.054682053625584,-0.008407797664404,0.091901905834675,0.148701161146164,0.062634050846100,-0.018368726596236));
res += mul(Get(s2,-dx,0), float4x4(-0.205745071172714,-0.165170207619667,0.284026563167572,-0.095860384404659,0.055740870535374,0.053942479193211,0.302995890378952,0.052375394850969,0.131783753633499,0.212016627192497,0.028067316859961,-0.084000371396542,-0.049142684787512,0.197171419858932,0.124133236706257,0.060171600431204));
res += mul(Get(s2,-dx,dy), float4x4(-0.164071470499039,0.111284039914608,-0.163969919085503,0.101577773690224,0.101180501282215,0.093268088996410,-0.011194913648069,0.058157913386822,-0.021663326770067,0.057522896677256,0.235591605305672,-0.044839069247246,-0.056745428591967,0.157774150371552,-0.004869072698057,0.116208769381046));
res += mul(Get(s2,0,-dy), float4x4(0.099058762192726,-0.075799092650414,-0.021826317533851,0.141379490494728,-0.161131143569946,-0.033829566091299,-0.325797051191330,0.023020619526505,0.015591611154377,0.047025054693222,0.069675385951996,-0.008117041550577,0.090528436005116,0.221558943390846,0.063912883400917,-0.007211118005216));
res += mul(Get(s2,0,0), float4x4(0.022680895403028,0.028464613482356,-0.273777484893799,-0.105187259614468,0.212758481502533,-0.011888632550836,-0.330659747123718,-0.039871178567410,0.073296122252941,0.019707199186087,-0.281400233507156,-0.130273118615150,-0.157280504703522,0.140792205929756,0.178679242730141,-0.124233298003674));
res += mul(Get(s2,0,dy), float4x4(-0.168684124946594,-0.152497708797455,-0.224558934569359,0.196584030985832,0.219724342226982,0.017569785937667,0.094507098197937,0.061021406203508,-0.103663250803947,0.115047208964825,0.355978041887283,-0.270135819911957,0.117921188473701,0.315340876579285,0.189489454030991,0.130033090710640));
res += mul(Get(s2,dx,-dy), float4x4(0.050601538270712,-0.109880648553371,-0.107926771044731,0.032717354595661,0.003903801785782,0.055061176419258,0.050706531852484,0.106739744544029,0.261859595775604,0.110208660364151,0.011633326299489,-0.012605373747647,0.056017525494099,0.163090705871582,0.014880051836371,0.028924839571118));
res += mul(Get(s2,dx,0), float4x4(0.003430101089180,0.253066390752792,-0.126144662499428,0.062382798641920,-0.357238173484802,-0.083659850060940,-0.000471008301247,-0.062730893492699,0.068506054580212,0.048647634685040,0.155853673815727,-0.139238759875298,-0.178360432386398,0.072512775659561,0.119917385280132,-0.026692500337958));
res += mul(Get(s2,dx,dy), float4x4(0.040776293724775,-0.095240697264671,-0.079571522772312,0.064260400831699,0.162886068224907,0.017006397247314,0.025893770158291,0.124771252274513,-0.007573401089758,0.137922972440720,0.072909355163574,0.008290208876133,-0.146648347377777,0.133656263351440,0.128676563501358,-0.010258661583066));
res = max(float4(0, 0, 0, 0), res) + float4(0.494397848844528,-0.159179270267487,0.244722992181778,0.939643740653992) * min(float4(0, 0, 0, 0), res);
return res;
}
