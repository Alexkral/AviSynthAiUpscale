sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.097739681601524,0.105017729103565,0.061546474695206,-0.078558355569839);
res += mul(Get(s0,-dx,-dy), float4x4(0.129523083567619,-0.027713188901544,0.050999961793423,-0.065194807946682,0.021770300343633,-0.001189053407870,-0.034048806875944,-0.079019613564014,0.100113913416862,0.024643521755934,-0.010681482031941,-0.031311810016632,-0.056407630443573,0.140842184424400,0.098220050334930,-0.048043478280306));
res += mul(Get(s0,-dx,0), float4x4(0.154684185981750,0.262858629226685,0.283497184514999,0.068461425602436,0.092286519706249,-0.021610440686345,0.180887863039970,-0.224935173988342,0.160227596759796,0.030259434133768,0.036907561123371,0.055796060711145,0.021023631095886,-0.331761240959167,0.227399155497551,0.061709500849247));
res += mul(Get(s0,-dx,dy), float4x4(-0.098642192780972,-0.215600758790970,0.135170623660088,-0.077860310673714,0.180383622646332,0.050530385226011,-0.011382017284632,0.131016314029694,0.219218313694000,-0.009178282693028,0.056394450366497,0.108491159975529,0.181076437234879,0.096428707242012,0.096549607813358,-0.044929381459951));
res += mul(Get(s0,0,-dy), float4x4(0.002429135376588,-0.090811572968960,-0.027118690311909,0.070147454738617,0.084774449467659,-0.022422624751925,0.000587811984587,-0.013501556590199,0.126513302326202,0.044973906129599,0.107510350644588,0.077640555799007,0.016983466222882,0.143898785114288,-0.019231555983424,0.093719594180584));
res += mul(Get(s0,0,0), float4x4(-0.207771405577660,0.498629152774811,-0.083013072609901,-0.251609653234482,-0.003145060269162,0.013286372646689,-0.430906951427460,0.015991883352399,0.014051514677703,-0.025861259549856,0.078879937529564,0.273400545120239,-0.233431965112686,-0.178942680358887,-0.124671056866646,0.249539941549301));
res += mul(Get(s0,0,dy), float4x4(0.042546734213829,-0.140394136309624,0.267039239406586,-0.074751317501068,0.004231667611748,0.010829228907824,-0.151611194014549,-0.017691014334559,0.174827739596367,0.017795825377107,-0.055669013410807,0.112009301781654,0.211361557245255,0.014409864321351,0.141343340277672,-0.013739900663495));
res += mul(Get(s0,dx,-dy), float4x4(-0.078549094498158,-0.044836360961199,0.032290980219841,0.149496868252754,0.017878971993923,0.004279550630599,0.076109848916531,0.113823480904102,0.113489612936974,-0.010292552411556,-0.017715610563755,0.249242350459099,0.067176565527916,0.023451628163457,0.050542332231998,0.030969109386206));
res += mul(Get(s0,dx,0), float4x4(0.163811758160591,0.068878985941410,-0.262769639492035,-0.161424547433853,-0.147926032543182,-0.023861702531576,0.119688190519810,0.554102003574371,0.110905326902866,-0.039249222725630,-0.000340181926731,0.361334890127182,0.144385233521461,-0.034493576735258,0.138628244400024,-0.248463630676270));
res += mul(Get(s0,dx,dy), float4x4(0.150213599205017,-0.008170375600457,-0.157819196581841,0.073869295418262,0.096316270530224,-0.062005992978811,0.140708267688751,-0.210345193743706,0.230015680193901,0.000365390762454,0.069652527570724,0.200560927391052,-0.243185698986053,-0.052170440554619,0.085317760705948,-0.190113127231598));
res += mul(Get(s1,-dx,-dy), float4x4(0.049890670925379,0.011911899782717,-0.159950539469719,-0.104883573949337,0.085561156272888,-0.035158608108759,0.080272488296032,0.095281384885311,0.079868577420712,0.013592080213130,-0.025010090321302,-0.003521398408338,-0.309794753789902,0.072163417935371,-0.044260613620281,0.157574519515038));
res += mul(Get(s1,-dx,0), float4x4(0.002336052479222,-0.014917885884643,-0.134968861937523,0.149017632007599,-0.154638662934303,0.358815371990204,-0.261808574199677,0.510530352592468,-0.080085404217243,-0.046363160014153,-0.089568205177784,0.094469919800758,0.041472263634205,-0.089343219995499,-0.003042043186724,-0.140599846839905));
res += mul(Get(s1,-dx,dy), float4x4(-0.148375719785690,-0.028398899361491,-0.655104875564575,-0.022305667400360,-0.228329360485077,-0.114793486893177,0.157174691557884,-0.002765923971310,0.056055646389723,0.134301856160164,-0.180649086833000,0.080240234732628,0.236189410090446,0.067978858947754,0.031907271593809,-0.020782519131899));
res += mul(Get(s1,0,-dy), float4x4(-0.070912607014179,-0.098367102444172,-0.226261734962463,0.024953261017799,0.121531531214714,0.099184580147266,-0.038084752857685,-0.128689482808113,0.048136673867702,0.117612965404987,0.087497189640999,0.035538777709007,0.041203830391169,0.367210924625397,0.235790848731995,-0.183960914611816));
res += mul(Get(s1,0,0), float4x4(0.204890653491020,0.020705979317427,0.174054518342018,-0.371038526296616,0.141887351870537,0.186707586050034,0.045634243637323,-0.527662277221680,-0.125437811017036,0.080057315528393,-0.213844269514084,0.345278948545456,-0.037167824804783,-0.237720265984535,0.067820318043232,0.255830913782120));
res += mul(Get(s1,0,dy), float4x4(-0.198160111904144,0.007355774287134,-0.058724913746119,-0.166535690426826,-0.024415876716375,-0.118210017681122,-0.050585027784109,-0.139558523893356,0.165979772806168,0.011270334012806,-0.040638662874699,0.219341397285461,0.034353323280811,-0.096524119377136,-0.020871086046100,0.095714278519154));
res += mul(Get(s1,dx,-dy), float4x4(-0.165051147341728,0.034931875765324,-0.047039106488228,-0.093127861618996,-0.043973110616207,0.138186007738113,0.118838265538216,-0.075280070304871,0.093211047351360,-0.085851244628429,0.025083027780056,0.125437870621681,0.186364650726318,-0.026802368462086,-0.122917816042900,0.042846281081438));
res += mul(Get(s1,dx,0), float4x4(-0.031011663377285,-0.079605825245380,-0.210811197757721,-0.067344494163990,-0.157981172204018,-0.049277834594250,-0.025478847324848,-0.102810315787792,-0.014973394572735,0.129878073930740,0.210483863949776,-0.073598496615887,-0.012794286012650,-0.066238015890121,-0.246887385845184,-0.085128255188465));
res += mul(Get(s1,dx,dy), float4x4(0.057432074099779,-0.023780601099133,-0.146094575524330,0.065843120217323,0.017588201910257,-0.010781526565552,0.012446832843125,0.291714936494827,0.089641861617565,0.017046967521310,0.051886625587940,-0.303237706422806,0.092658750712872,0.096896782517433,-0.105659015476704,-0.043601684272289));
res += mul(Get(s2,-dx,-dy), float4x4(0.017935488373041,-0.170569434762001,0.117286749184132,-0.164354458451271,0.139639586210251,-0.058631185442209,-0.065324485301971,0.013678669929504,0.034480240195990,0.197811976075172,0.017573015764356,-0.054757643491030,-0.358077615499496,-0.044762119650841,0.032768804579973,-0.177331641316414));
res += mul(Get(s2,-dx,0), float4x4(-0.110178291797638,0.280308008193970,-0.010933127254248,0.286007851362228,-0.092217706143856,0.083622783422470,-0.262022465467453,0.147600397467613,0.188150078058243,-0.409640818834305,-0.046790324151516,-0.118671558797359,-0.582979202270508,0.059131409972906,-0.178988352417946,0.023111173883080));
res += mul(Get(s2,-dx,dy), float4x4(-0.103497639298439,-0.161336511373520,0.250157922506332,-0.049914378672838,-0.184129476547241,-0.003844843013212,-0.050008781254292,0.000306769652525,-0.081983909010887,0.074226066470146,0.110549405217171,-0.085011713206768,-0.349954813718796,-0.069980219006538,-0.117730662226677,-0.101121507585049));
res += mul(Get(s2,0,-dy), float4x4(-0.135347619652748,-0.280103772878647,-0.041101876646280,0.267693072557449,0.061267651617527,0.186875104904175,-0.053888916969299,-0.167114093899727,-0.038806911557913,0.104770191013813,0.074517175555229,-0.011457047425210,-0.482286453247070,-0.001767169218510,0.079803630709648,-0.088736295700073));
res += mul(Get(s2,0,0), float4x4(0.125459328293800,0.387177228927612,0.249899104237556,-0.304168105125427,0.059827085584402,-0.041389372199774,0.164409115910530,0.126864850521088,-0.161171466112137,-0.243209496140480,0.144825056195259,-0.238189652562141,-0.655411183834076,-0.011896524578333,0.113150775432587,-0.209084227681160));
res += mul(Get(s2,0,dy), float4x4(0.173629671335220,-0.077410064637661,0.430220723152161,-0.013992784544826,-0.060436859726906,-0.049228087067604,-0.070421807467937,0.048191897571087,-0.118140205740929,-0.018144933506846,0.019373025745153,0.278368294239044,-0.658631026744843,-0.070885710418224,-0.147212237119675,-0.200355276465416));
res += mul(Get(s2,dx,-dy), float4x4(0.000182608840987,-0.042347706854343,0.014152935706079,-0.073314450681210,0.218654572963715,-0.064555883407593,0.047969356179237,0.012497841380537,-0.013664395548403,-0.013760998845100,0.022573916241527,0.088338732719421,-0.478035569190979,0.016645617783070,0.075050942599773,-0.039352308958769));
res += mul(Get(s2,dx,0), float4x4(0.129273489117622,0.047196261584759,0.120666556060314,-0.085409812629223,0.000290004623821,0.080538146197796,-0.086453035473824,-0.345654129981995,0.109631918370724,-0.093421727418900,-0.071314528584480,-0.002100016223267,-0.364124357700348,-0.091407038271427,0.096112385392189,0.037832096219063));
res += mul(Get(s2,dx,dy), float4x4(0.002792316023260,0.026241566985846,0.085343748331070,-0.094596117734909,0.058486137539148,-0.002270547440276,0.011223528534174,0.159128993749619,0.018425220623612,-0.028487967327237,0.037911657243967,-0.120871931314468,-0.257084846496582,0.001099075423554,0.008367310278118,-0.200005114078522));
res = max(float4(0, 0, 0, 0), res) + float4(-0.203394278883934,-0.879072308540344,-0.191747412085533,0.075340852141380) * min(float4(0, 0, 0, 0), res);
return res;
}
