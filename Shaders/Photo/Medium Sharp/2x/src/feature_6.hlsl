sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.558341264724731,-0.520259320735931,0.098010569810867,-0.033679820597172);
res += float4(-0.039948035031557,0.009766151197255,-0.002172809327021,-0.034604303538799) * Get(-ddx,-ddy);
res += float4(0.035064511001110,-0.001556360046379,0.046812172979116,-0.110951334238052) * Get(-ddx,-dy);
res += float4(0.114606522023678,0.084222987294197,-0.020727777853608,0.159355223178864) * Get(-ddx,0);
res += float4(0.084334477782249,-0.096951544284821,0.009027821943164,-0.054165869951248) * Get(-ddx,dy);
res += float4(0.001006716513075,0.021026175469160,-0.016974221915007,0.072924941778183) * Get(-ddx,ddy);
res += float4(0.040629830211401,-0.031024791300297,-0.018253853544593,0.080980919301510) * Get(-dx,-ddy);
res += float4(0.017471361905336,-0.039046648889780,0.014205174520612,0.287478893995285) * Get(-dx,-dy);
res += float4(0.252488702535629,-0.047906786203384,0.033618833869696,0.179855152964592) * Get(-dx,0);
res += float4(0.178471475839615,0.141518250107765,0.019914763048291,-0.295113623142242) * Get(-dx,dy);
res += float4(0.117915891110897,-0.029705125838518,-0.004727658350021,-0.170739695429802) * Get(-dx,ddy);
res += float4(-0.062874726951122,0.034990705549717,0.015440400689840,0.183536410331726) * Get(0,-ddy);
res += float4(-0.028218267485499,-0.114387318491936,0.157397270202637,-0.373119473457336) * Get(0,-dy);
res += float4(0.045871481299400,0.651884675025940,0.500812292098999,0.696366369724274) * Get(0,0);
res += float4(0.151479840278625,0.370878756046295,0.241443604230881,-0.282828718423843) * Get(0,dy);
res += float4(0.105550400912762,-0.073251791298389,0.024134451523423,0.157344698905945) * Get(0,ddy);
res += float4(0.019345030188560,-0.004951192066073,-0.002100530778989,-0.046557378023863) * Get(dx,-ddy);
res += float4(0.043880917131901,-0.117556676268578,-0.033960953354836,0.041003756225109) * Get(dx,-dy);
res += float4(0.099499918520451,-0.022992316633463,-1.477110743522644,-0.137239620089531) * Get(dx,0);
res += float4(-0.070044100284576,0.004639151506126,-0.189079508185387,0.108601272106171) * Get(dx,dy);
res += float4(0.073745615780354,0.025168027728796,-0.005200579762459,-0.184971839189529) * Get(dx,ddy);
res += float4(-0.013643853366375,0.016595518216491,0.011296916753054,0.011723522096872) * Get(ddx,-ddy);
res += float4(-0.060847226530313,-0.057758670300245,0.078515768051147,-0.104064367711544) * Get(ddx,-dy);
res += float4(0.106876403093338,0.030971396714449,-0.118433892726898,-0.215780109167099) * Get(ddx,0);
res += float4(0.026690596714616,-0.035271845757961,0.122330032289028,0.077036350965500) * Get(ddx,dy);
res += float4(-0.008186374790967,0.054553560912609,-0.009375383146107,0.022717935964465) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.696536362171173,0.099169217050076,0.082054898142815,0.943350315093994) * min(float4(0, 0, 0, 0), res);
return res;
}
