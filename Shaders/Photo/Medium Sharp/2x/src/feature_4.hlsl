sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.361953198909760,0.053941886872053,-0.663667976856232,0.034322630614042);
res += float4(-0.000128772488097,-0.002727366518229,-0.001603599637747,-0.050713792443275) * Get(-ddx,-ddy);
res += float4(0.072456642985344,0.063069164752960,0.000233720435062,0.345636874437332) * Get(-ddx,-dy);
res += float4(-0.073887288570404,-0.113103725016117,-0.093951083719730,-0.203080758452415) * Get(-ddx,0);
res += float4(0.017460972070694,0.025638835504651,0.003632323816419,-0.109832011163235) * Get(-ddx,dy);
res += float4(-0.015114333480597,0.000435798428953,0.014686223119497,-0.084688030183315) * Get(-ddx,ddy);
res += float4(0.032143861055374,-0.042825091630220,0.011247709393501,-0.029421521350741) * Get(-dx,-ddy);
res += float4(-0.240198418498039,-0.003271302673966,0.059543728828430,-0.313613921403885) * Get(-dx,-dy);
res += float4(0.049925729632378,-0.160231664776802,0.541346490383148,0.490910083055496) * Get(-dx,0);
res += float4(-0.012212279252708,-0.009800591506064,-0.050442490726709,-0.123136542737484) * Get(-dx,dy);
res += float4(-0.031154541298747,0.021146679297090,-0.015321901068091,0.118616670370102) * Get(-dx,ddy);
res += float4(-0.097480714321136,-0.033978909254074,-0.024027248844504,0.026908371597528) * Get(0,-ddy);
res += float4(-0.527341067790985,-0.108668141067028,-0.086999244987965,-0.137909397482872) * Get(0,-dy);
res += float4(0.067069478332996,-0.588002860546112,0.581661522388458,-0.222810730338097) * Get(0,0);
res += float4(0.066348180174828,-0.234324783086777,0.260813862085342,0.249531403183937) * Get(0,dy);
res += float4(0.055673204362392,-0.053834490478039,-0.096157491207123,-0.169763892889023) * Get(0,ddy);
res += float4(-0.145346328616142,0.050682850182056,0.026721181347966,-0.018469275906682) * Get(dx,-ddy);
res += float4(-0.373766243457794,0.061008851975203,0.044561155140400,0.389364212751389) * Get(dx,-dy);
res += float4(0.048048365861177,0.760628759860992,-0.063399739563465,-0.139215588569641) * Get(dx,0);
res += float4(-0.114354357123375,0.248385548591614,-0.177271440625191,0.072462677955627) * Get(dx,dy);
res += float4(0.035873129963875,0.015626251697540,0.000053575451602,-0.011017195880413) * Get(dx,ddy);
res += float4(-0.045628558844328,0.015331625938416,0.001796336262487,0.065337434411049) * Get(ddx,-ddy);
res += float4(-0.059966858476400,-0.041937321424484,-0.020522991195321,-0.293069094419479) * Get(ddx,-dy);
res += float4(-0.165087029337883,0.127746120095253,0.059384230524302,-0.083422653377056) * Get(ddx,0);
res += float4(-0.019407829269767,-0.014981032349169,-0.062048677355051,0.093174286186695) * Get(ddx,dy);
res += float4(-0.050990257412195,-0.002665468491614,0.037808202207088,0.043190561234951) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.316754698753357,0.022591790184379,-0.008593188598752,1.000991940498352) * min(float4(0, 0, 0, 0), res);
return res;
}
