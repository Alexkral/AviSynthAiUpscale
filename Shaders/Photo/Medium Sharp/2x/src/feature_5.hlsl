sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.056389562785625,0.026772612705827,0.012034735642374,0.352085381746292);
res += float4(-0.041644565761089,-0.028429294005036,0.037282284349203,0.024291748180985) * Get(-ddx,-ddy);
res += float4(-0.045989621430635,0.011743634939194,-0.006015032995492,0.005122046917677) * Get(-ddx,-dy);
res += float4(-0.179360046982765,0.015909625217319,0.084571726620197,0.005497332662344) * Get(-ddx,0);
res += float4(0.064248964190483,0.045122280716896,-0.031335890293121,0.019587123766541) * Get(-ddx,dy);
res += float4(0.133266866207123,-0.062759786844254,-0.173926442861557,0.021561566740274) * Get(-ddx,ddy);
res += float4(0.093767173588276,0.053950149565935,0.174378395080566,-0.064123347401619) * Get(-dx,-ddy);
res += float4(-0.014879706315696,0.032439675182104,-0.250056982040405,0.013279047794640) * Get(-dx,-dy);
res += float4(0.585095405578613,-0.285656362771988,0.011378374882042,-0.134960353374481) * Get(-dx,0);
res += float4(-0.626104354858398,0.042057614773512,-0.001103287213482,0.158338233828545) * Get(-dx,dy);
res += float4(0.266430497169495,0.065890103578568,0.107118286192417,-0.019397174939513) * Get(-dx,ddy);
res += float4(-0.090396285057068,-0.030108265578747,-0.146381795406342,-0.014649972319603) * Get(0,-ddy);
res += float4(0.153704538941383,-0.222594738006592,0.330655395984650,0.202052369713783) * Get(0,-dy);
res += float4(-0.961750864982605,-0.133281648159027,-0.209708929061890,-0.025855056941509) * Get(0,0);
res += float4(0.550032794475555,0.589175820350647,-0.176695793867111,-0.354097545146942) * Get(0,dy);
res += float4(-0.082719221711159,-0.151041418313980,0.131587743759155,-0.007852463982999) * Get(0,ddy);
res += float4(0.053613021969795,-0.029968813061714,-0.030124938115478,-0.032538667321205) * Get(dx,-ddy);
res += float4(-0.225135549902916,-0.107769466936588,-0.000365945161320,-0.161653369665146) * Get(dx,-dy);
res += float4(0.583555161952972,-0.169180482625961,0.246212050318718,-1.204858660697937) * Get(dx,0);
res += float4(0.004468110390007,0.191209405660629,0.006633108947426,0.319394260644913) * Get(dx,dy);
res += float4(-0.130946233868599,0.168895363807678,-0.201640412211418,-0.053274761885405) * Get(dx,ddy);
res += float4(-0.017482686787844,0.009838341735303,-0.154823496937752,0.028724171221256) * Get(ddx,-ddy);
res += float4(0.077030599117279,0.054020106792450,-0.022681919857860,-0.071917496621609) * Get(ddx,-dy);
res += float4(-0.246681839227676,-0.117993265390396,-0.191383808851242,0.005371234379709) * Get(ddx,0);
res += float4(0.021267343312502,0.054674867540598,0.215142458677292,-0.124450862407684) * Get(ddx,dy);
res += float4(-0.020920904353261,-0.010852485895157,0.211829304695129,-0.010444628074765) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.941706776618958,0.178428798913956,0.771098732948303,-0.005822894629091) * min(float4(0, 0, 0, 0), res);
return res;
}
