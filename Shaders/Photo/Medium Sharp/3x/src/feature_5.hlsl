sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(-0.007242176681757,0.096775971353054,-0.003334752749652,0.235127657651901);
res += float4(-0.000900498649571,-0.664862215518951,0.014000394381583,0.006265790667385) * Get(-ddx,-ddy);
res += float4(0.010373058728874,0.024629956111312,0.217168673872948,0.003763637272641) * Get(-ddx,-dy);
res += float4(-0.046078704297543,0.001920076436363,-0.144236147403717,-0.106124892830849) * Get(-ddx,0);
res += float4(0.014949936419725,0.045789472758770,-0.130400031805038,0.034479815512896) * Get(-ddx,dy);
res += float4(0.002356040058658,-0.039052337408066,0.011295970529318,0.005828846246004) * Get(-ddx,ddy);
res += float4(0.170139282941818,-0.858130455017090,-0.165948703885078,-0.042024530470371) * Get(-dx,-ddy);
res += float4(-0.051268108189106,-0.008070196956396,-0.165253937244415,0.157359749078751) * Get(-dx,-dy);
res += float4(-0.051768723875284,-0.269733458757401,0.115490593016148,0.126263767480850) * Get(-dx,0);
res += float4(-0.070148639380932,0.157359823584557,0.034905686974525,-0.006099697668105) * Get(-dx,dy);
res += float4(0.001214458374307,-0.043897952884436,0.256852835416794,0.025284118950367) * Get(-dx,ddy);
res += float4(-0.119480945169926,-0.384379267692566,0.128175601363182,0.164466217160225) * Get(0,-ddy);
res += float4(-0.564342796802521,0.437881588935852,0.077775567770004,-0.029190873727202) * Get(0,-dy);
res += float4(-0.171748876571655,0.099935054779053,0.054995901882648,-1.531492114067078) * Get(0,0);
res += float4(0.167261078953743,-0.104389347136021,-0.189873307943344,0.125347286462784) * Get(0,dy);
res += float4(0.017288723960519,0.005303412210196,-0.055018544197083,-0.091117963194847) * Get(0,ddy);
res += float4(-0.103959850966930,0.096287623047829,0.050674416124821,-0.061117019504309) * Get(dx,-ddy);
res += float4(-0.004274876322597,-0.135219663381577,0.032777294516563,-0.234733194112778) * Get(dx,-dy);
res += float4(0.292507082223892,0.022175021469593,0.153625294566154,0.072839759290218) * Get(dx,0);
res += float4(0.455205529928207,0.099896579980850,0.157110169529915,0.087350443005562) * Get(dx,dy);
res += float4(-0.005433722399175,0.019377559423447,-0.292066216468811,0.033252757042646) * Get(dx,ddy);
res += float4(0.025760119780898,-0.173388883471489,0.021754950284958,0.044787399470806) * Get(ddx,-ddy);
res += float4(-0.000918036908843,0.080643817782402,-0.099109865725040,-0.000558042724151) * Get(ddx,-dy);
res += float4(0.155144110321999,-0.077288039028645,-0.108380094170570,0.018939828500152) * Get(ddx,0);
res += float4(-0.082330688834190,0.012494021095335,0.067387312650681,0.057842288166285) * Get(ddx,dy);
res += float4(-0.080171942710876,-0.018773918971419,-0.072346575558186,-0.014080012217164) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.293136805295944,0.008245703764260,0.739595293998718,-0.015205436386168) * min(float4(0, 0, 0, 0), res);
return res;
}
