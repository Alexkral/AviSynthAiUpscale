sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.081619948148727,0.047098185867071,-0.075232282280922,0.003977784421295);
res += float4(0.048876825720072,-0.065276518464088,0.030539283528924,0.009185437113047) * Get(-ddx,-ddy);
res += float4(-0.025041893124580,0.119774155318737,-0.001578325871378,-0.013065468519926) * Get(-ddx,-dy);
res += float4(0.003200972452760,-0.064572095870972,-0.019602663815022,-0.022558841854334) * Get(-ddx,0);
res += float4(-0.023685174062848,0.031993590295315,0.031198417767882,-0.041560284793377) * Get(-ddx,dy);
res += float4(-0.028270442038774,-0.067096501588821,-0.038475185632706,-0.011642619967461) * Get(-ddx,ddy);
res += float4(0.024251665920019,0.141671970486641,0.044789783656597,-0.017666799947619) * Get(-dx,-ddy);
res += float4(-0.978879332542419,-0.410992026329041,-0.110556744039059,0.096367061138153) * Get(-dx,-dy);
res += float4(-0.077388711273670,0.499215126037598,0.021594785153866,-0.034431546926498) * Get(-dx,0);
res += float4(0.135607734322548,-0.103549629449844,0.031639598309994,0.117052055895329) * Get(-dx,dy);
res += float4(0.044330496340990,0.016933184117079,0.012065486982465,0.019053170457482) * Get(-dx,ddy);
res += float4(0.200529992580414,-0.240315616130829,-0.297283172607422,0.003336617257446) * Get(0,-ddy);
res += float4(0.593219101428986,0.537544369697571,-0.485519230365753,-0.087276361882687) * Get(0,-dy);
res += float4(-0.436277478933334,-0.689523637294769,0.849378764629364,0.027682421728969) * Get(0,0);
res += float4(-0.100869022309780,0.382814377546310,0.011497248895466,-0.003167731920257) * Get(0,dy);
res += float4(-0.082709424197674,-0.168147608637810,-0.071131110191345,-0.022095339372754) * Get(0,ddy);
res += float4(-0.064918242394924,0.146318435668945,0.047642700374126,0.051170427352190) * Get(dx,-ddy);
res += float4(0.090586058795452,0.009209181182086,-0.328766047954559,-0.127955853939056) * Get(dx,-dy);
res += float4(0.088192299008369,-0.018688531592488,0.085987038910389,0.650700569152832) * Get(dx,0);
res += float4(0.023839309811592,-0.159178808331490,-0.022014012560248,0.115438289940357) * Get(dx,dy);
res += float4(0.043731492012739,0.118770696222782,0.082294508814812,-0.111075975000858) * Get(dx,ddy);
res += float4(0.002529507502913,0.027620336040854,0.087155722081661,-0.429174184799194) * Get(ddx,-ddy);
res += float4(0.029301863163710,-0.249759048223495,0.009826092049479,-0.405826121568680) * Get(ddx,-dy);
res += float4(-0.018326001241803,-0.000874986057170,0.052787631750107,-0.693136394023895) * Get(ddx,0);
res += float4(0.005342046730220,0.085972324013710,-0.040806006640196,-0.441844582557678) * Get(ddx,dy);
res += float4(0.002719279611483,0.014030735008419,-0.033383924514055,-0.396212846040726) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.013877405785024,0.980298995971680,-0.148258179426193,0.004631069023162) * min(float4(0, 0, 0, 0), res);
return res;
}
