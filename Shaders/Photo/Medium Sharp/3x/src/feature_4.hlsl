sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.191301435232162,0.029508940875530,-0.101536527276039,0.028926528990269);
res += float4(0.031852591782808,0.032615263015032,-0.042804513126612,0.049917027354240) * Get(-ddx,-ddy);
res += float4(-0.071559131145477,-0.032049976289272,0.055726718157530,-0.009398375637829) * Get(-ddx,-dy);
res += float4(0.022423155605793,0.046068441122770,0.006253864616156,-0.057553265243769) * Get(-ddx,0);
res += float4(-0.070101782679558,-0.067483738064766,0.039042614400387,-0.044394157826900) * Get(-ddx,dy);
res += float4(0.016922628507018,-0.041177455335855,-0.023559475317597,0.007280504330993) * Get(-ddx,ddy);
res += float4(-0.054590962827206,-0.095061972737312,0.015182708390057,0.046897947788239) * Get(-dx,-ddy);
res += float4(-0.015069881454110,-0.123436227440834,-0.093184940516949,-0.078532494604588) * Get(-dx,-dy);
res += float4(0.408031642436981,0.142158553004265,-0.002725438913330,0.302447617053986) * Get(-dx,0);
res += float4(-0.319838881492615,-0.241527289152145,0.104199059307575,-0.086277946829796) * Get(-dx,dy);
res += float4(0.149278968572617,-0.207540750503540,0.060278274118900,0.051055796444416) * Get(-dx,ddy);
res += float4(0.140553861856461,0.184007391333580,0.010829388163984,-0.187194615602493) * Get(0,-ddy);
res += float4(-0.078604064881802,0.128622621297836,0.075619317591190,0.332291692495346) * Get(0,-dy);
res += float4(-0.403230309486389,0.383473098278046,0.600940525531769,-0.556938290596008) * Get(0,0);
res += float4(0.138923302292824,-0.221946924924850,0.181421458721161,0.225508406758308) * Get(0,dy);
res += float4(-0.151848420500755,-0.254637509584427,-0.037923000752926,-0.004667832981795) * Get(0,ddy);
res += float4(0.007240409497172,0.013390689156950,0.036571942269802,-0.095797926187515) * Get(dx,-ddy);
res += float4(0.142415806651115,-0.240086331963539,-0.042731016874313,-0.369178503751755) * Get(dx,-dy);
res += float4(-0.517876446247101,0.494906783103943,-0.104877322912216,0.567831933498383) * Get(dx,0);
res += float4(-0.143603891134262,-0.814897835254669,-0.504965245723724,-0.022828320041299) * Get(dx,dy);
res += float4(0.019879916682839,-0.235775291919708,-0.080953769385815,-0.015124189667404) * Get(dx,ddy);
res += float4(-0.017830114811659,0.025462245568633,-0.004275699146092,0.131114915013313) * Get(ddx,-ddy);
res += float4(0.011334450915456,-0.107320196926594,-0.016706049442291,0.256324082612991) * Get(ddx,-dy);
res += float4(-0.062580049037933,0.054823618382215,-0.239619314670563,-0.377255946397781) * Get(ddx,0);
res += float4(-0.016922328621149,-0.400152593851089,-0.001050243852660,-0.059790354222059) * Get(ddx,dy);
res += float4(0.070465631783009,-0.079100944101810,0.084812946617603,-0.075156539678574) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.008090167306364,0.002407695166767,0.002483796328306,0.917356848716736) * min(float4(0, 0, 0, 0), res);
return res;
}
