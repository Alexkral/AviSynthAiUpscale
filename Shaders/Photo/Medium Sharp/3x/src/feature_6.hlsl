sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.038634065538645,0.032701294869184,-0.276790440082550,0.163717359304428);
res += float4(0.035018753260374,0.055156521499157,-0.023388501256704,0.020758165046573) * Get(-ddx,-ddy);
res += float4(-0.090332657098770,0.052865773439407,0.007627634331584,0.055046450346708) * Get(-ddx,-dy);
res += float4(0.143252000212669,-0.287545025348663,0.033747777342796,0.078168280422688) * Get(-ddx,0);
res += float4(-0.007521118503064,0.200760826468468,0.016915030777454,0.177231192588806) * Get(-ddx,dy);
res += float4(-0.042620085179806,-0.056380353868008,-0.060677532106638,0.008730656467378) * Get(-ddx,ddy);
res += float4(0.003529011970386,0.071440212428570,-0.015920555219054,-0.062730297446251) * Get(-dx,-ddy);
res += float4(0.053405415266752,-0.136367872357368,0.016591493040323,0.059712491929531) * Get(-dx,-dy);
res += float4(0.619238317012787,0.133109554648399,-0.084821924567223,-0.659456849098206) * Get(-dx,0);
res += float4(0.371576517820358,-0.346093326807022,0.457998782396317,-0.866007328033447) * Get(-dx,dy);
res += float4(0.015255006961524,0.156771302223206,0.375774860382080,-0.054935142397881) * Get(-dx,ddy);
res += float4(-0.037670046091080,0.063827931880951,-0.022278528660536,0.025134054943919) * Get(0,-ddy);
res += float4(-0.025958120822906,-0.050842069089413,-0.167466774582863,0.284751206636429) * Get(0,-dy);
res += float4(-0.708605945110321,0.497460305690765,-0.197947993874550,0.057160206139088) * Get(0,0);
res += float4(-0.247030884027481,-0.234485089778900,-0.282887399196625,-0.669413328170776) * Get(0,dy);
res += float4(-0.029574578627944,-0.123128540813923,0.423496901988983,0.211552873253822) * Get(0,ddy);
res += float4(0.031917262822390,0.021114813163877,0.023691723123193,-0.065781071782112) * Get(dx,-ddy);
res += float4(0.035561997443438,-0.195530429482460,0.138155624270439,-0.093568034470081) * Get(dx,-dy);
res += float4(-0.073143407702446,-0.078040741384029,-0.232552006840706,0.057053700089455) * Get(dx,0);
res += float4(-0.093149088323116,0.024609792977571,-0.248763412237167,-0.018083689734340) * Get(dx,dy);
res += float4(0.047026619315147,0.233053222298622,0.204251021146774,0.005672954022884) * Get(dx,ddy);
res += float4(-0.032319653779268,0.003364613512531,0.011269021779299,0.028620822355151) * Get(ddx,-ddy);
res += float4(0.003307059174404,-0.037256635725498,-0.009511000476778,-0.032410033047199) * Get(ddx,-dy);
res += float4(0.037561852484941,0.164425581693649,0.063301384449005,0.059544827789068) * Get(ddx,0);
res += float4(-0.003757532453164,-0.104639396071434,-0.037979841232300,0.022525047883391) * Get(ddx,dy);
res += float4(0.000606399436947,-0.105403967201710,-0.058427546173334,-0.052001431584358) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.390473812818527,0.747697353363037,-0.020370859652758,0.004213186446577) * min(float4(0, 0, 0, 0), res);
return res;
}
