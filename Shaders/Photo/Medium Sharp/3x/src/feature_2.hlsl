sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.029843516647816,0.201883688569069,0.112488597631454,-0.042962558567524);
res += float4(0.006491074338555,-0.018883343786001,-0.037255521863699,0.158325761556625) * Get(-ddx,-ddy);
res += float4(0.119810722768307,0.035083934664726,0.027773890644312,-0.205652415752411) * Get(-ddx,-dy);
res += float4(0.098925538361073,-0.210132062435150,0.023963974788785,-0.052881117910147) * Get(-ddx,0);
res += float4(-0.062210842967033,0.133445680141449,-0.001517943339422,0.106672115623951) * Get(-ddx,dy);
res += float4(-0.092802144587040,0.021661028265953,0.032547336071730,-0.018500521779060) * Get(-ddx,ddy);
res += float4(-0.152292549610138,-0.041921712458134,-0.067689321935177,-0.032668124884367) * Get(-dx,-ddy);
res += float4(0.074959404766560,0.229383021593094,0.061433997005224,-0.353646606206894) * Get(-dx,-dy);
res += float4(-0.613575398921967,-0.186280041933060,-0.017355365678668,0.277223020792007) * Get(-dx,0);
res += float4(0.453217029571533,-0.225919663906097,-0.021348586305976,0.192229762673378) * Get(-dx,dy);
res += float4(-0.005461928434670,0.062725611031055,-0.101415097713470,-0.062650509178638) * Get(-dx,ddy);
res += float4(0.015485707670450,-0.011820528656244,-0.077155917882919,-0.100945003330708) * Get(0,-ddy);
res += float4(0.163130283355713,0.007921066135168,-0.600216329097748,0.304322600364685) * Get(0,-dy);
res += float4(0.097917452454567,-1.074673175811768,0.691083610057831,0.207526132464409) * Get(0,0);
res += float4(-0.092818848788738,0.490646690130234,0.065463937819004,-0.460864990949631) * Get(0,dy);
res += float4(-0.046086125075817,-0.088490299880505,0.108063451945782,0.084370277822018) * Get(0,ddy);
res += float4(-0.133056983351707,0.052011720836163,0.065574690699577,-0.065310157835484) * Get(dx,-ddy);
res += float4(-0.154311060905457,0.135690450668335,-0.149300441145897,0.070211954414845) * Get(dx,-dy);
res += float4(0.081071227788925,0.420638948678970,-0.268367767333984,-0.122328840196133) * Get(dx,0);
res += float4(-0.137824848294258,-0.053545378148556,-0.036208029836416,-0.000321485364111) * Get(dx,dy);
res += float4(0.011815552599728,0.005233183037490,0.010433533228934,0.049301512539387) * Get(dx,ddy);
res += float4(0.110251232981682,-0.031423907727003,-0.040059216320515,0.031604945659637) * Get(ddx,-ddy);
res += float4(-0.043350476771593,-0.011021659709513,-0.053341902792454,0.121673636138439) * Get(ddx,-dy);
res += float4(0.315706968307495,-0.038074981421232,0.085746884346008,-0.169470757246017) * Get(ddx,0);
res += float4(-0.108845859766006,0.028970196843147,0.008986383676529,0.079272925853729) * Get(ddx,dy);
res += float4(0.032855566591024,-0.007065344601870,-0.023422710597515,-0.016545191407204) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.890924811363220,1.053983926773071,0.707908272743225,-0.165572151541710) * min(float4(0, 0, 0, 0), res);
return res;
}
