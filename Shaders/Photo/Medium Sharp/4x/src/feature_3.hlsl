sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.195138186216354,-0.248359113931656,0.032823555171490,0.054609559476376);
res += float4(0.013457102701068,-0.007412818260491,0.068462476134300,0.007755197584629) * Get(-ddx,-ddy);
res += float4(-0.063164025545120,0.061297014355659,-0.258996456861496,-0.037205502390862) * Get(-ddx,-dy);
res += float4(-0.089565798640251,-0.074786446988583,0.186622455716133,-0.039979282766581) * Get(-ddx,0);
res += float4(0.008133225142956,0.034533806145191,-0.058460835367441,0.071001753211021) * Get(-ddx,dy);
res += float4(-0.025160104036331,-0.043389938771725,0.104405447840691,-0.045597746968269) * Get(-ddx,ddy);
res += float4(0.006801056209952,-0.040917810052633,0.021701252087951,-0.131520524621010) * Get(-dx,-ddy);
res += float4(-0.020376075059175,-0.154524981975555,-0.093208812177181,0.204458430409431) * Get(-dx,-dy);
res += float4(-1.322673797607422,0.381203770637512,0.164214640855789,0.003786723827943) * Get(-dx,0);
res += float4(-0.229390904307365,0.063196480274200,0.114929139614105,-0.080417074263096) * Get(-dx,dy);
res += float4(0.009582598693669,-0.022068347781897,-0.144154638051987,0.025330325588584) * Get(-dx,ddy);
res += float4(-0.003349344711751,0.034866392612457,0.147334039211273,0.158015713095665) * Get(0,-ddy);
res += float4(0.125000029802322,-0.025860799476504,-0.045994389802217,0.472406804561615) * Get(0,-dy);
res += float4(0.243390083312988,0.573319852352142,-0.278780400753021,-0.717812836170197) * Get(0,0);
res += float4(0.323122322559357,0.144479334354401,-0.174631729722023,0.028230717405677) * Get(0,dy);
res += float4(-0.074458450078964,0.115487463772297,-0.030967960134149,0.057753596454859) * Get(0,ddy);
res += float4(0.045643072575331,0.004027260467410,-0.186659589409828,-0.043332647532225) * Get(dx,-ddy);
res += float4(-0.068544588983059,-0.187559917569160,0.287873685359955,0.302925467491150) * Get(dx,-dy);
res += float4(-0.026035143062472,-0.366887122392654,-0.081046901643276,-0.177234649658203) * Get(dx,0);
res += float4(-0.099792614579201,-0.199646949768066,0.193681880831718,-0.001366961980239) * Get(dx,dy);
res += float4(0.078400976955891,0.029912918806076,0.093810908496380,-0.054711792618036) * Get(dx,ddy);
res += float4(-0.044653981924057,0.024193113669753,-0.051761984825134,0.012686313129961) * Get(ddx,-ddy);
res += float4(0.052113737910986,-0.083504274487495,0.113506920635700,0.010441224090755) * Get(ddx,-dy);
res += float4(0.018920425325632,0.044155616313219,0.082759022712708,-0.064815603196621) * Get(ddx,0);
res += float4(0.038549959659576,-0.060526210814714,-0.113578610122204,0.020336631685495) * Get(ddx,dy);
res += float4(-0.006804746109992,0.056477170437574,-0.090254522860050,0.009475708939135) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(-0.016346702352166,-0.025327065959573,0.717172980308533,0.515181243419647) * min(float4(0, 0, 0, 0), res);
return res;
}
