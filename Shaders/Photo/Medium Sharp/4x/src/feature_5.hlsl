sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.069894038140774,0.021497419103980,0.030141552910209,-0.349807769060135);
res += float4(-0.041158217936754,-0.034129448235035,0.033413060009480,-0.006941971369088) * Get(-ddx,-ddy);
res += float4(0.058107871562243,-0.164983093738556,-0.001429878640920,0.065623737871647) * Get(-ddx,-dy);
res += float4(-0.092269122600555,0.047563925385475,0.044630795717239,0.004760372918099) * Get(-ddx,0);
res += float4(0.026564849540591,0.064608752727509,-0.133537009358406,-0.049518048763275) * Get(-ddx,dy);
res += float4(-0.040540091693401,0.015265138819814,0.043212182819843,-0.001964653842151) * Get(-ddx,ddy);
res += float4(0.012093376368284,-0.092804744839668,-0.002735322806984,0.024612262845039) * Get(-dx,-ddy);
res += float4(-0.070959448814392,0.233692303299904,-0.286164194345474,0.162685722112656) * Get(-dx,-dy);
res += float4(0.335712105035782,-0.217174723744392,0.280539900064468,0.337924629449844) * Get(-dx,0);
res += float4(-0.287428796291351,0.000751035287976,-0.005652596708387,-0.047997388988733) * Get(-dx,dy);
res += float4(0.075804695487022,0.064806818962097,0.110588550567627,-0.082430414855480) * Get(-dx,ddy);
res += float4(-0.050623379647732,0.080090038478374,0.067860282957554,-0.004194559995085) * Get(0,-ddy);
res += float4(0.215086802840233,-0.218783512711525,0.629461228847504,0.188843682408333) * Get(0,-dy);
res += float4(-0.865792155265808,0.216265276074409,-0.264403283596039,0.235790267586708) * Get(0,0);
res += float4(0.397638320922852,0.370609879493713,-0.296854406595230,-0.513325333595276) * Get(0,dy);
res += float4(-0.142239108681679,-0.260082751512527,-0.186995476484299,0.114859141409397) * Get(0,ddy);
res += float4(0.028643054887652,-0.026792781427503,-0.086639970541000,-0.076099120080471) * Get(dx,-ddy);
res += float4(-0.265377879142761,0.073437690734863,-0.227539598941803,0.163590535521507) * Get(dx,-dy);
res += float4(0.768364489078522,-0.084818214178085,0.119120672345161,0.005674840416759) * Get(dx,0);
res += float4(-0.198254853487015,-0.163622036576271,0.283641636371613,0.016918618232012) * Get(dx,dy);
res += float4(0.054224435240030,0.045715779066086,-0.034317661076784,-0.036266636103392) * Get(dx,ddy);
res += float4(0.034719631075859,-0.004540557973087,-0.017359999939799,0.065744869410992) * Get(ddx,-ddy);
res += float4(0.024733979254961,-0.001513784518465,0.060291092842817,0.053117930889130) * Get(ddx,-dy);
res += float4(-0.122831024229527,-0.142040744423866,-0.298622637987137,-0.069426618516445) * Get(ddx,0);
res += float4(0.036257494240999,0.155341282486916,0.181637346744537,-0.053488500416279) * Get(ddx,dy);
res += float4(0.035968642681837,0.006228598300368,-0.034401081502438,-0.022529758512974) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.815406084060669,0.625073671340942,0.839896440505981,-0.019146095961332) * min(float4(0, 0, 0, 0), res);
return res;
}
