sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.060967467725277,0.179487466812134,-0.750519096851349,0.050408914685249);
res += float4(-0.144936010241508,-0.054345987737179,-0.009567921981215,-0.013893677853048) * Get(-ddx,-ddy);
res += float4(-0.212688773870468,-0.285556524991989,0.037901259958744,0.198284804821014) * Get(-ddx,-dy);
res += float4(0.017259718850255,-0.276191115379333,-0.067062646150589,-0.126859143376350) * Get(-ddx,0);
res += float4(0.035942904651165,-0.032570354640484,-0.017550934106112,-0.080129988491535) * Get(-ddx,dy);
res += float4(0.004850976169109,0.069130472838879,0.010716299526393,0.012711256742477) * Get(-ddx,ddy);
res += float4(-0.203339308500290,-0.151406005024910,0.003169325180352,-0.009994892403483) * Get(-dx,-ddy);
res += float4(-0.291960656642914,-0.349671870470047,-0.081028223037720,-0.199080467224121) * Get(-dx,-dy);
res += float4(-0.065267398953438,-0.421512782573700,0.252564519643784,0.143880158662796) * Get(-dx,0);
res += float4(-0.125712096691132,-0.262364774942398,-0.120852150022984,-0.072113156318665) * Get(-dx,dy);
res += float4(-0.058036237955093,0.058760747313499,-0.026104170829058,0.049772828817368) * Get(-dx,ddy);
res += float4(-0.302268654108047,0.039405144751072,0.052992492914200,0.098426498472691) * Get(0,-ddy);
res += float4(-0.585300326347351,-0.032593287527561,-0.050398789346218,-0.126324132084846) * Get(0,-dy);
res += float4(0.479170024394989,-0.239000812172890,0.795520484447479,-0.566050291061401) * Get(0,0);
res += float4(0.020465584471822,-0.108292929828167,0.332175552845001,-0.043498575687408) * Get(0,dy);
res += float4(0.176578029990196,0.011529098264873,-0.028763566166162,-0.128797680139542) * Get(0,ddy);
res += float4(-0.178233206272125,0.010461930185556,-0.025336263701320,0.038670111447573) * Get(dx,-ddy);
res += float4(-0.438843727111816,-0.128897309303284,-0.013989193364978,0.430003851652145) * Get(dx,-dy);
res += float4(0.213048025965691,0.222930639982224,0.098370522260666,0.143156960606575) * Get(dx,0);
res += float4(-0.127757921814919,0.060190100222826,-0.068460330367088,0.241160422563553) * Get(dx,dy);
res += float4(-0.028393775224686,-0.018380250781775,-0.009185234084725,-0.036527708172798) * Get(dx,ddy);
res += float4(-0.094266645610332,0.020472051575780,0.007939856499434,0.016707234084606) * Get(ddx,-ddy);
res += float4(-0.265623122453690,-0.038041055202484,-0.005812387913465,-0.076378770172596) * Get(ddx,-dy);
res += float4(-0.056060366332531,0.047438077628613,0.052474882453680,0.089850023388863) * Get(ddx,0);
res += float4(0.011806328780949,0.000952504575253,-0.088191665709019,-0.094794258475304) * Get(ddx,dy);
res += float4(0.027708897367120,-0.022352697327733,0.041770897805691,0.063843637704849) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.005201540421695,0.156910628080368,-0.009667621925473,0.663275897502899) * min(float4(0, 0, 0, 0), res);
return res;
}
