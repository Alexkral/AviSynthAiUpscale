sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define ddx  (dx * 2.0)
#define ddy  (dy * 2.0)
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0.051985204219818,0.035427894443274,0.202429026365280,-0.031759828329086);
res += float4(-0.008758654817939,-0.029779387637973,-0.011177957989275,0.039854135364294) * Get(-ddx,-ddy);
res += float4(-0.048988085240126,0.028751408681273,-0.025876231491566,0.109037153422832) * Get(-ddx,-dy);
res += float4(0.126961618661880,-0.009600901044905,0.151593312621117,0.029828483238816) * Get(-ddx,0);
res += float4(-0.010718083009124,0.032194860279560,-0.064242132008076,-0.092519037425518) * Get(-ddx,dy);
res += float4(0.002437747782096,-0.003565720282495,0.045348808169365,-0.045834936201572) * Get(-ddx,ddy);
res += float4(0.059975508600473,-0.002990823006257,-0.094845347106457,0.085010781884193) * Get(-dx,-ddy);
res += float4(0.089848279953003,0.011499061249197,0.096451275050640,-0.155289992690086) * Get(-dx,-dy);
res += float4(0.807273566722870,-0.042030811309814,0.097139395773411,-0.210160493850708) * Get(-dx,0);
res += float4(-0.018033828586340,-0.004632929340005,-0.084459461271763,0.141294151544571) * Get(-dx,dy);
res += float4(0.068541303277016,-0.023892318829894,-0.070075824856758,0.017109429463744) * Get(-dx,ddy);
res += float4(-0.107538707554340,-0.086467996239662,0.103300243616104,0.164720430970192) * Get(0,-ddy);
res += float4(-0.002061181934550,0.060633108019829,0.219421237707138,-0.108641050755978) * Get(0,-dy);
res += float4(-0.869508624076843,0.337004393339157,-0.383681386709213,0.026052914559841) * Get(0,0);
res += float4(-0.008105502463877,0.002620165236294,-0.186412602663040,-0.048791531473398) * Get(0,dy);
res += float4(-0.065897375345230,0.021886467933655,0.034631304442883,-0.024763178080320) * Get(0,ddy);
res += float4(0.047446601092815,0.138107866048813,0.070306673645973,-0.357920557260513) * Get(dx,-ddy);
res += float4(-0.043835863471031,0.271180093288422,-0.112303815782070,-0.203987404704094) * Get(dx,-dy);
res += float4(-0.010411311872303,0.099068149924278,-0.290766358375549,0.280387967824936) * Get(dx,0);
res += float4(-0.010632735677063,-0.312014192342758,-0.547629952430725,0.184022918343544) * Get(dx,dy);
res += float4(-0.002936660079286,0.082001224160194,-0.063523270189762,0.066971026360989) * Get(dx,ddy);
res += float4(-0.004700595978647,0.050371292978525,-0.045417811721563,0.065189078450203) * Get(ddx,-ddy);
res += float4(-0.011877755634487,-0.336569011211395,0.076550789177418,0.354028850793839) * Get(ddx,-dy);
res += float4(-0.014152563177049,-0.739362239837646,-0.024539401754737,-0.076666601002216) * Get(ddx,0);
res += float4(0.029911728575826,0.265230059623718,-0.047208227217197,-0.224189981818199) * Get(ddx,dy);
res += float4(-0.007342972327024,-0.058988150209188,-0.053603652864695,0.008196434006095) * Get(ddx,ddy);
res = max(float4(0, 0, 0, 0), res) + float4(0.126498147845268,-0.104544408619404,0.342436224222183,0.300994783639908) * min(float4(0, 0, 0, 0), res);
return res;
}
