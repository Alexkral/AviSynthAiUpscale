sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.050350386649370,0.002378796227276,0.007821436040103,0.014565167948604,-0.062071822583675,-0.078320279717445,-0.053876854479313,-0.064234726130962,-0.031028706580400,-0.010851153172553,-0.036393079906702,0.002596902428195,0.019178876653314,-0.024660434573889,-0.042713541537523,-0.021610524505377));
res += mul(Get(s0,-dx,0), float4x4(0.018740197643638,0.048575703054667,0.017465624958277,0.049717869609594,-0.028677748516202,0.002580467844382,-0.001778050442226,-0.095961861312389,-0.046981673687696,-0.032933171838522,-0.025383215397596,-0.001518238917924,-0.010828830301762,-0.064972244203091,-0.070309512317181,-0.061357952654362));
res += mul(Get(s0,-dx,dy), float4x4(0.074988812208176,-0.039031017571688,-0.038444109261036,-0.002467581769451,0.003487786045298,0.037376895546913,-0.119931876659393,-0.023059930652380,-0.039434943348169,-0.009035060182214,0.053433332592249,-0.009685138240457,-0.029557157307863,-0.056177489459515,-0.047502916306257,-0.038749441504478));
res += mul(Get(s0,0,-dy), float4x4(0.049184422940016,-0.017124554142356,0.000056877393945,0.014930647797883,-0.132114663720131,-0.053103841841221,0.076370269060135,0.043049503117800,-0.053909484297037,0.005047154612839,-0.021767029538751,-0.018694793805480,-0.026590466499329,0.051557075232267,-0.000505167467054,-0.021253056824207));
res += mul(Get(s0,0,0), float4x4(0.020608697086573,-0.018422704190016,0.001350871869363,0.000924460997339,0.043891198933125,0.063986308872700,0.122058540582657,0.017857043072581,-0.032919239252806,-0.023878933861852,-0.090313293039799,-0.045000851154327,-0.028770713135600,0.014422078616917,-0.027057640254498,-0.028247384354472));
res += mul(Get(s0,0,dy), float4x4(0.031280942261219,0.003433416364715,-0.015112369321287,-0.019825035706162,0.083879947662354,0.088843911886215,-0.063698984682560,0.009464999660850,-0.051401376724243,-0.067884109914303,0.030356831848621,-0.018774537369609,-0.013266807422042,-0.037992294877768,-0.015334835276008,-0.032305497676134));
res += mul(Get(s0,dx,-dy), float4x4(0.062589496374130,-0.012054312974215,0.026222545653582,-0.070630028843880,-0.106868982315063,-0.113048419356346,-0.039095073938370,0.049002252519131,-0.057184796780348,-0.032354682683945,-0.056854624301195,-0.030126405879855,-0.032694902271032,0.023546244949102,0.033827543258667,0.076721712946892));
res += mul(Get(s0,dx,0), float4x4(0.013595282100141,-0.043410625308752,-0.000958690070547,0.032092429697514,-0.000766036333516,-0.109357014298439,0.011566652916372,0.047226365655661,-0.038959294557571,-0.048588015139103,-0.050202764570713,-0.073985256254673,-0.005555754061788,0.073266915977001,0.052523236721754,0.040792144834995));
res += mul(Get(s0,dx,dy), float4x4(0.027198035269976,-0.028939992189407,0.020495316013694,0.027014017105103,0.038107231259346,-0.056598365306854,-0.066514745354652,0.061522379517555,-0.013301890343428,-0.076507359743118,0.125677540898323,-0.048701308667660,-0.004645716864616,0.001995433354750,0.019689621403813,0.003641870338470));
res += mul(Get(s1,-dx,-dy), float4x4(-0.022649146616459,0.044557910412550,-0.056650064885616,-0.009368500672281,0.014362229965627,-0.034339103847742,0.014146008528769,-0.050082333385944,-0.004067136440426,0.024898808449507,0.032877437770367,-0.026553126052022,0.009772150777280,0.023367272689939,0.026304267346859,-0.028448365628719));
res += mul(Get(s1,-dx,0), float4x4(0.051249872893095,0.002801677910611,-0.025913404300809,-0.034850325435400,0.022471550852060,-0.032064076513052,0.012577521614730,-0.011277896352112,0.038152258843184,0.013796031475067,0.007267815060914,0.100978106260300,-0.038732297718525,0.028939668089151,0.125419035553932,0.061819754540920));
res += mul(Get(s1,-dx,dy), float4x4(0.065715193748474,0.029033116996288,0.049885477870703,-0.073339045047760,-0.003615168854594,-0.018343057483435,-0.009169542230666,-0.058900102972984,0.057454120367765,0.006244748365134,0.067729882895947,0.098145969212055,0.016980458050966,-0.004243227187544,0.079923175275326,0.059513691812754));
res += mul(Get(s1,0,-dy), float4x4(0.018216313794255,0.010285147465765,-0.060321703553200,-0.002015905920416,0.035714548081160,-0.027815409004688,-0.007005547173321,-0.024683613330126,-0.030891951173544,-0.021068284288049,-0.028872288763523,-0.049690842628479,-0.015543164685369,0.002754558343440,0.101031780242920,-0.012605011463165));
res += mul(Get(s1,0,0), float4x4(0.030784031376243,-0.003718413878232,0.077000819146633,0.044121667742729,0.005311157554388,-0.022110590711236,0.038400366902351,0.018563931807876,0.042356774210930,0.068847730755806,-0.036944337189198,-0.000049664999096,0.057920165359974,0.022613838315010,0.117400549352169,0.074448876082897));
res += mul(Get(s1,0,dy), float4x4(0.101234123110771,0.009444432333112,0.084682323038578,-0.009822409600019,-0.003561940742657,0.058971829712391,0.057536050677299,-0.002741895848885,0.052255209535360,0.073366850614548,0.018426187336445,0.081989370286465,0.045114461332560,0.014712108299136,0.009190263226628,0.035732381045818));
res += mul(Get(s1,dx,-dy), float4x4(0.016685040667653,-0.015549452044070,0.061603028327227,0.054916847497225,0.011315640993416,-0.062689982354641,-0.027656296268106,-0.059848859906197,-0.010181072168052,-0.055772516876459,0.017824405804276,-0.065261967480183,0.043975941836834,-0.086678355932236,-0.014722662977874,-0.032716471701860));
res += mul(Get(s1,dx,0), float4x4(0.075472518801689,-0.026004396378994,0.071476094424725,0.068854853510857,-0.003245514817536,-0.096940115094185,0.008008594624698,-0.002682505408302,0.029376054182649,-0.000633591203950,-0.016272308304906,0.032667990773916,0.008245762437582,-0.045559130609035,0.000602631829679,0.033103734254837));
res += mul(Get(s1,dx,dy), float4x4(0.057676617056131,-0.035083085298538,0.000442153104814,0.039264764636755,-0.024858856573701,0.009127751924098,-0.027582876384258,0.012586844153702,0.081547394394875,0.046234935522079,0.069348394870758,0.058936137706041,0.011452641338110,0.001015218906105,0.007814386859536,0.057104848325253));
res += mul(Get(s2,-dx,-dy), float4x4(-0.030308181419969,0.003711631521583,-0.028439076617360,0.014076922088861,0.036706920713186,0.064193412661552,0.078758336603642,0.086477212607861,-0.009216244332492,0.059956554323435,0.030720008537173,-0.062661066651344,-0.017155850306153,0.021614657714963,-0.053306605666876,-0.019799107685685));
res += mul(Get(s2,-dx,0), float4x4(-0.018781185150146,0.001129865879193,-0.009566556662321,0.005626934580505,0.104471072554588,-0.019993981346488,0.003420781577006,0.102160640060902,-0.044450331479311,0.075257033109665,0.133291661739349,-0.027461996302009,0.005481489934027,0.054475802928209,-0.044942926615477,-0.043949224054813));
res += mul(Get(s2,-dx,dy), float4x4(-0.003389949211851,0.029682414606214,-0.014132540673018,-0.004860760178417,0.032738495618105,-0.061178408563137,0.015978986397386,0.057816788554192,-0.053347639739513,0.081178270280361,0.043527171015739,-0.019457448273897,0.006573775317520,-0.048388652503490,-0.072967939078808,-0.042509078979492));
res += mul(Get(s2,0,-dy), float4x4(-0.028994318097830,0.008084746077657,-0.004694591276348,-0.007974160835147,0.100511036813259,0.107197262346745,-0.095904320478439,-0.045781839638948,-0.003899821313098,0.040847539901733,-0.051771946251392,0.000450675463071,-0.027377884835005,0.019621936604381,-0.042789977043867,-0.034682400524616));
res += mul(Get(s2,0,0), float4x4(0.000834215432405,0.007986885495484,-0.035739213228226,-0.015842553228140,0.004546981304884,-0.079584330320358,-0.032621689140797,0.007720340043306,-0.011706003919244,-0.049357254058123,0.055984072387218,0.036091506481171,0.002848700620234,0.096832290291786,-0.046158354729414,-0.043183770030737));
res += mul(Get(s2,0,dy), float4x4(-0.027614235877991,-0.013777829706669,-0.015982244163752,-0.012270070612431,-0.012112639844418,-0.046391282230616,-0.030097929760814,0.028313273563981,-0.018023604527116,0.101136341691017,0.131222665309906,0.043552905321121,0.023313440382481,-0.005755542311817,-0.066274918615818,-0.020309362560511));
res += mul(Get(s2,dx,-dy), float4x4(-0.022125970572233,-0.014401287771761,-0.012976619414985,-0.017413277179003,0.006067834328860,0.108358174562454,-0.039861395955086,-0.059300031512976,-0.008109531365335,0.050753381103277,-0.039185233414173,-0.000143093493534,0.028088944032788,-0.007582431659102,-0.035624854266644,-0.085801020264626));
res += mul(Get(s2,dx,0), float4x4(-0.031931765377522,0.024886585772038,0.007242206018418,-0.018080092966557,-0.003349743084982,0.031193502247334,-0.069761775434017,-0.007807073649019,0.025515893474221,0.013078624382615,-0.064586482942104,-0.004923948552459,-0.022281302139163,-0.011930367909372,-0.035121366381645,-0.030193332582712));
res += mul(Get(s2,dx,dy), float4x4(-0.001420443761162,0.010830638930202,-0.013989148661494,-0.031719166785479,0.021207515150309,-0.030408991500735,-0.050571408122778,-0.024669043719769,-0.014740724116564,0.002715197624639,0.052227687090635,0.034573249518871,0.009554212912917,-0.035054471343756,0.003577626077458,-0.008516507223248));
res += mul(Get(s3,-dx,-dy), float4x4(0.007707048207521,0.000166954370798,-0.032124090939760,0.040918640792370,-0.037903208285570,0.048924732953310,-0.024591004475951,0.009307058528066,-0.061472509056330,-0.041160497814417,-0.009137161076069,0.043341897428036,-0.031607475131750,0.093925952911377,-0.038357067853212,-0.098251871764660));
res += mul(Get(s3,-dx,0), float4x4(-0.025460649281740,0.021127976477146,-0.035307530313730,-0.039356522262096,-0.009030625224113,0.088065989315510,-0.036034964025021,0.021296082064509,-0.055417228490114,0.018545279279351,0.034095078706741,0.035633705556393,0.013640457764268,-0.008658779785037,-0.037683427333832,-0.068852178752422));
res += mul(Get(s3,-dx,dy), float4x4(0.021801197901368,-0.007408123463392,-0.053473621606827,-0.028990428894758,0.007172193378210,0.054991722106934,-0.027168357744813,-0.013191961683333,-0.005366627592593,-0.056438565254211,0.041120238602161,0.006013682112098,0.012290698476136,-0.011272575706244,-0.007845787331462,-0.027213120833039));
res += mul(Get(s3,0,-dy), float4x4(-0.048189181834459,-0.001141327200457,-0.007344959303737,0.165386378765106,-0.000472174637252,0.086616344749928,-0.023503115400672,-0.046340446919203,-0.069498382508755,-0.000731032283511,-0.040067672729492,0.092101097106934,0.021383343264461,0.081347033381462,-0.000132610119181,-0.104530937969685));
res += mul(Get(s3,0,0), float4x4(0.011564427055418,0.116812236607075,-0.028291700407863,0.028703475371003,-0.040242377668619,-0.021440776064992,-0.030048126354814,0.081057883799076,-0.016393179073930,0.066717743873596,0.025123365223408,0.062159467488527,0.020058959722519,0.028636226430535,-0.041049152612686,-0.061155270785093));
res += mul(Get(s3,0,dy), float4x4(0.094960913062096,0.033129449933767,-0.025222664698958,-0.023025585338473,-0.012599086388946,0.107948295772076,-0.043055359274149,0.020105198025703,0.027062550187111,0.024389354512095,-0.046542458236217,0.012221120297909,0.024839241057634,-0.095524042844772,0.050406865775585,-0.013265233486891));
res += mul(Get(s3,dx,-dy), float4x4(-0.001601249678060,0.041763003915548,-0.006714678835124,0.063903383910656,0.042768910527229,0.178552880883217,0.004511008039117,-0.068143039941788,-0.021961905062199,-0.025603353977203,-0.087580397725105,0.023786090314388,0.018662128597498,0.046022556722164,0.053915284574032,-0.046216398477554));
res += mul(Get(s3,dx,0), float4x4(0.023370657116175,0.025826059281826,-0.009608527645469,-0.007852548733354,-0.031412381678820,-0.019546698778868,-0.063520714640617,0.038961730897427,-0.006375381723046,0.025194879621267,-0.045416492968798,0.009203189983964,0.002310450654477,0.116023488342762,0.168730974197388,0.052498448640108));
res += mul(Get(s3,dx,dy), float4x4(0.027861334383488,-0.006003028247505,-0.032171368598938,-0.013108666986227,-0.041786439716816,0.003326131263748,-0.032157927751541,0.082287631928921,-0.010179732926190,-0.003239708952606,-0.080839365720749,-0.046031285077333,0.024202644824982,0.065725542604923,0.088400080800056,0.023088930174708));
return max(float4(0,0,0,0), res);
}
