sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.038746200501919,0.015255431644619,0.088697560131550,-0.028101701289415,-0.025877818465233,0.035495996475220,0.096082828938961,-0.068583913147449,-0.016805745661259,-0.000970461638644,-0.025295084342360,-0.017740331590176,0.018920956179500,0.081964932382107,-0.006334254983813,-0.054934941232204));
res += mul(Get(s0,-dx,0), float4x4(0.024812720716000,-0.000405286147725,0.058701407164335,-0.050136905163527,0.005470617208630,0.045314077287912,-0.041947387158871,-0.042024064809084,-0.005662201903760,0.077154427766800,0.024801354855299,-0.034125301986933,0.016637766733766,0.066419787704945,0.156349584460258,-0.058936752378941));
res += mul(Get(s0,-dx,dy), float4x4(0.053796462714672,-0.012989225797355,-0.060790430754423,0.055007044225931,-0.013907089829445,-0.025829222053289,-0.012248807586730,0.023493571206927,-0.000898335187230,0.010846449993551,0.001492786454037,-0.002394462004304,-0.012217995710671,0.040397673845291,0.098652847111225,-0.064135670661926));
res += mul(Get(s0,0,-dy), float4x4(-0.033917967230082,-0.046605039387941,0.080840975046158,-0.008630470372736,-0.000993623863906,-0.046625539660454,0.133533328771591,0.045793488621712,0.036738056689501,0.041270468384027,-0.074038490653038,0.063976474106312,0.030229723080993,0.062697768211365,-0.044003717601299,0.028068941086531));
res += mul(Get(s0,0,0), float4x4(0.035331275314093,-0.018474353477359,-0.013263989239931,-0.035780746489763,-0.041783045977354,-0.002894320292398,0.059980638325214,-0.111087948083878,-0.040521569550037,-0.037076193839312,0.195916488766670,-0.023543283343315,0.048423554748297,0.004824986215681,0.030625408515334,0.089503251016140));
res += mul(Get(s0,0,dy), float4x4(0.033036760985851,0.014875245280564,-0.055755916982889,0.040157575160265,-0.021257501095533,0.008831400424242,-0.005276117473841,-0.044493578374386,0.025048246607184,0.007902015000582,0.007676387671381,-0.060684196650982,0.021188402548432,-0.012850273400545,0.000566729751881,0.057900410145521));
res += mul(Get(s0,dx,-dy), float4x4(-0.023254120722413,-0.066216818988323,-0.007511444855481,0.041828121989965,0.060312975198030,0.023855805397034,-0.005332989152521,0.051689032465219,0.039198473095894,0.033252608031034,-0.011024241335690,0.001868995605037,0.017292404547334,0.022015808150172,-0.033732090145350,0.024065792560577));
res += mul(Get(s0,dx,0), float4x4(-0.007806854788214,-0.008461286313832,-0.009723118506372,-0.002506475197151,0.040000289678574,-0.037914756685495,-0.025598300620914,0.016414444893599,0.145498245954514,0.001095971674658,-0.043751712888479,0.088988065719604,0.041995003819466,0.004168913699687,-0.008372355252504,0.061631679534912));
res += mul(Get(s0,dx,dy), float4x4(-0.005394530016929,0.018074329942465,-0.017418479546905,0.005249853711575,-0.021594230085611,-0.008353457786143,0.012621460482478,-0.056198921054602,0.068336889147758,0.040593687444925,0.005449577700347,-0.015296795405447,-0.017907738685608,-0.024916203692555,0.000281001150142,0.019100371748209));
res += mul(Get(s1,-dx,-dy), float4x4(0.008529977872968,0.004368436522782,0.022423187270761,0.006941359955817,-0.012995610944927,0.009398624300957,0.043275110423565,-0.029501114040613,-0.043910004198551,-0.060685988515615,0.040361903607845,-0.028638353571296,-0.028099136427045,0.027262177318335,-0.017684005200863,-0.047058291733265));
res += mul(Get(s1,-dx,0), float4x4(-0.019904796034098,0.015011027455330,0.001376407803036,0.028448089957237,0.018938234075904,0.059230338782072,0.048665847629309,-0.069318324327469,-0.025492154061794,-0.050229243934155,-0.053854282945395,0.033474098891020,-0.006048172246665,0.029049728065729,0.067653834819794,-0.004001150373369));
res += mul(Get(s1,-dx,dy), float4x4(-0.009015015326440,0.038250278681517,0.062156945466995,-0.073427364230156,0.021412514150143,0.055272147059441,-0.019538518041372,0.031548283994198,-0.032250341027975,-0.026719940826297,0.028979189693928,-0.021052127704024,-0.024417262524366,0.001309253275394,-0.042461916804314,0.111737817525864));
res += mul(Get(s1,0,-dy), float4x4(0.014689015224576,0.016488049179316,-0.011786479502916,0.020259454846382,-0.050010170787573,-0.035317201167345,0.027940083295107,0.006281592883170,-0.017033727839589,-0.068298898637295,-0.006159733515233,0.042621817439795,0.023904182016850,-0.004231804981828,-0.064279235899448,0.020912418141961));
res += mul(Get(s1,0,0), float4x4(0.013779149390757,0.008674511685967,-0.049020219594240,0.113314650952816,-0.031078552827239,0.018757618963718,0.098932921886444,-0.091965481638908,-0.014715082943439,-0.048260230571032,0.056908573955297,0.007308134343475,0.047769803553820,0.036639302968979,0.004747023340315,0.070579528808594));
res += mul(Get(s1,0,dy), float4x4(-0.019045310094953,-0.023945989087224,0.205182701349258,-0.138325080275536,0.010335801169276,0.070677191019058,-0.025975720956922,0.035677056759596,0.000781720853411,-0.023511784151196,0.017111651599407,-0.009406690485775,0.006450062151998,0.023164365440607,-0.004311310593039,0.095326818525791));
res += mul(Get(s1,dx,-dy), float4x4(-0.008598575368524,0.011860836297274,-0.016052782535553,0.025437083095312,-0.026931157335639,-0.050855115056038,-0.030336281284690,0.058132141828537,0.008041040971875,0.008535283617675,-0.054090391844511,-0.001352956285700,-0.024065077304840,0.014649420045316,-0.011895381845534,-0.006047758739442));
res += mul(Get(s1,dx,0), float4x4(-0.013006873428822,-0.006680771708488,-0.007553681731224,0.037084102630615,-0.015699611976743,-0.034457974135876,-0.016193389892578,0.017388811334968,0.023724850267172,0.024833351373672,-0.073717050254345,0.034427642822266,0.004117114003748,0.059956315904856,-0.005432224832475,0.029816068708897));
res += mul(Get(s1,dx,dy), float4x4(0.027927910909057,-0.035820432007313,0.056633926928043,-0.068236619234085,-0.009907952509820,0.020642222836614,-0.038240160793066,0.046988409012556,-0.015459756366909,0.025784198194742,-0.019129147753119,-0.018113622441888,-0.022276395931840,0.041195325553417,0.002163965487853,0.010357514955103));
res += mul(Get(s2,-dx,-dy), float4x4(0.101347081363201,0.050099581480026,-0.057614963501692,0.012116224505007,0.039490282535553,0.015699537470937,-0.054984886199236,0.021986318752170,-0.011246982030571,-0.026292128488421,0.002956036012620,0.002156346570700,-0.002202961826697,0.010166119784117,0.062576606869698,-0.046494457870722));
res += mul(Get(s2,-dx,0), float4x4(0.157783910632133,0.043768506497145,-0.093126855790615,0.127689033746719,0.045182138681412,-0.002378007629886,-0.001446758629754,0.054825622588396,0.029571853578091,-0.034909352660179,-0.011264954693615,0.058200757950544,-0.012239449657500,0.042335011065006,0.117151848971844,-0.069876782596111));
res += mul(Get(s2,-dx,dy), float4x4(0.086800858378410,0.009924201294780,-0.050498567521572,0.122726120054722,-0.004728867206722,-0.013705258257687,0.006135713309050,0.024083035066724,-0.038149684667587,-0.050576187670231,0.013128995895386,-0.034946363419294,-0.009607242420316,-0.006940405350178,0.057873431593180,-0.048233844339848));
res += mul(Get(s2,0,-dy), float4x4(0.035645991563797,0.095395743846893,0.029084062203765,-0.066140301525593,0.046155039221048,0.061343759298325,-0.094207994639874,0.009117959998548,0.007389618083835,0.042082883417606,-0.022587625309825,-0.035403713583946,0.003622418269515,0.021031320095062,-0.019131423905492,0.028475344181061));
res += mul(Get(s2,0,0), float4x4(-0.011740810237825,0.115298055112362,0.107432931661606,-0.052844539284706,-0.000729390943889,-0.001665342017077,0.119503371417522,-0.030051726847887,0.020008010789752,0.039848539978266,-0.042653590440750,0.097906798124313,-0.048377208411694,-0.024703240022063,0.122496180236340,-0.017805078998208));
res += mul(Get(s2,0,dy), float4x4(0.024764534085989,0.067348361015320,0.064997307956219,-0.001528405235149,-0.010542616248131,-0.010662258602679,-0.004779372364283,-0.009076613932848,-0.042539369314909,-0.035728763788939,0.083424896001816,-0.037021391093731,-0.004380754660815,-0.009269925765693,-0.038725700229406,0.009708468802273));
res += mul(Get(s2,dx,-dy), float4x4(-0.000690968474373,0.020115459337831,-0.012774240225554,-0.009151795879006,-0.020302141085267,0.035109080374241,-0.025317834690213,-0.018304552882910,-0.031994249671698,0.031152626499534,-0.022998360916972,0.019725644960999,-0.030674509704113,0.002786475932226,-0.015745615586638,0.012716971337795));
res += mul(Get(s2,dx,0), float4x4(0.009453332982957,0.024760929867625,0.022468671202660,0.017430957406759,-0.020556449890137,-0.034016184508801,0.045464314520359,-0.005902632605284,-0.042908724397421,0.007187361828983,0.016038553789258,0.071236230432987,0.035632364451885,-0.079710766673088,0.065096296370029,0.054500780999660));
res += mul(Get(s2,dx,dy), float4x4(-0.000741194351576,0.032950308173895,0.014815113507211,0.023125329986215,-0.026867913082242,-0.020708138123155,-0.000730625411961,-0.030951384454966,-0.006676694378257,-0.040092114359140,0.016428500413895,0.024475278332829,-0.001673601218499,-0.013861423358321,-0.020232494920492,0.036377567797899));
res += mul(Get(s3,-dx,-dy), float4x4(-0.056915484368801,-0.045390885323286,-0.001778084784746,0.088674485683441,-0.012393197976053,0.012807996012270,-0.008858024142683,0.009795043617487,-0.009998036548495,0.006559261586517,0.063153289258480,0.012420420534909,0.038623865693808,0.026856049895287,0.045488748699427,0.006924763787538));
res += mul(Get(s3,-dx,0), float4x4(0.106464214622974,-0.072234340012074,-0.072431273758411,0.165078863501549,0.001384945469908,0.005224594846368,-0.002793686930090,0.053219232708216,-0.038319408893585,0.045449025928974,0.116235896945000,-0.069351725280285,0.070936433970928,0.057878285646439,0.052648004144430,-0.006170041859150));
res += mul(Get(s3,-dx,dy), float4x4(-0.028846072033048,-0.080217830836773,0.006844489369541,0.072855390608311,-0.007645787671208,-0.023096529766917,-0.001294108689763,-0.039567057043314,0.003504393156618,0.038310158997774,0.059150569140911,-0.008627669885755,0.064101494848728,0.042887851595879,-0.001084160991013,0.005272189620882));
res += mul(Get(s3,0,-dy), float4x4(0.008362548425794,-0.025690551847219,0.107537984848022,-0.033551257103682,0.022081175819039,0.023047180846334,-0.014617782086134,0.057159047573805,-0.024309044703841,-0.023346073925495,0.124271556735039,0.041240453720093,-0.025166295468807,-0.005019243340939,0.041141085326672,0.045827068388462));
res += mul(Get(s3,0,0), float4x4(0.112731598317623,0.116520747542381,-0.147329241037369,0.127910912036896,0.011457105167210,0.014360950328410,0.072842180728912,0.037757523357868,0.006785020232201,-0.024410920217633,0.095832616090775,-0.016212455928326,-0.023823473602533,-0.001747555215843,0.146076142787933,-0.039438292384148));
res += mul(Get(s3,0,dy), float4x4(-0.032731924206018,-0.013827444054186,0.073294289410114,0.061303567141294,-0.004061500076205,0.015382098965347,0.061711270362139,-0.112734936177731,0.015114068984985,0.026515355333686,-0.046810049563646,0.070567667484283,0.026521239429712,0.090960063040257,0.022681126371026,-0.034520141780376));
res += mul(Get(s3,dx,-dy), float4x4(-0.008849972859025,0.031963527202606,0.069197759032249,-0.010678579099476,-0.021048134192824,-0.009118457324803,0.001720951288007,0.047648835927248,-0.005131965503097,-0.005818009842187,0.052588459104300,-0.041345342993736,-0.046942420303822,-0.053126290440559,0.008902099914849,0.046869806945324));
res += mul(Get(s3,dx,0), float4x4(-0.126853242516518,0.089787572622299,0.124010026454926,-0.023785736411810,0.026944676414132,0.014818133786321,-0.005203639157116,0.041514452546835,0.041545614600182,0.030987622216344,-0.010303767398000,-0.000492498627864,-0.000019500810595,-0.067285962402821,-0.009132144972682,0.037491820752621));
res += mul(Get(s3,dx,dy), float4x4(-0.053353209048510,-0.014686632901430,0.024132682010531,0.005805727560073,-0.043130453675985,0.025630909949541,0.025831012055278,-0.076663359999657,-0.070138856768608,0.042564310133457,0.006721311714500,0.008139850571752,-0.014255207031965,0.020475136116147,0.010479547083378,-0.006462461315095));
return max(float4(0,0,0,0), res);
}
