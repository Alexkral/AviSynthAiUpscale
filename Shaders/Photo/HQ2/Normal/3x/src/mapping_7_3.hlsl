sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.063021473586559,0.012474741786718,-0.013929244130850,0.015670439228415,-0.053371008485556,0.045419562608004,0.035071048885584,0.040125191211700,0.039965424686670,0.005716885905713,0.041583184152842,-0.012800455093384,0.090093635022640,0.012696706689894,-0.018294436857104,-0.085898339748383));
res += mul(Get(s0,-dx,0), float4x4(0.068852521479130,-0.005562687292695,-0.034758038818836,0.079551048576832,0.028561979532242,0.044905439019203,0.072764188051224,0.090705081820488,0.002639806829393,-0.006962476298213,0.000213896855712,-0.005019813776016,0.124129466712475,0.035516958683729,0.011178939603269,-0.108494289219379));
res += mul(Get(s0,-dx,dy), float4x4(0.003651267383248,-0.002938870340586,-0.012618188746274,0.026408165693283,0.000713652814738,0.009534138254821,0.058842241764069,-0.004402371589094,-0.030237004160881,-0.037577081471682,0.007693787571043,0.010355876758695,0.056643187999725,0.010549533180892,0.020372457802296,-0.071008652448654));
res += mul(Get(s0,0,-dy), float4x4(-0.034655187278986,-0.007143709808588,-0.050611376762390,-0.010687453672290,-0.062838748097420,0.034088704735041,0.098728306591511,0.011694209650159,-0.013731706887484,0.007550356909633,-0.016212690621614,0.006185588426888,0.067953303456306,0.053501781076193,0.003174906829372,0.011592088267207));
res += mul(Get(s0,0,0), float4x4(0.003878359450027,-0.016322419047356,0.030362078920007,-0.012350786477327,0.093816794455051,0.024960739538074,-0.055864315479994,0.113922379910946,-0.005373075138777,0.004315715748817,-0.032777570188046,-0.045944079756737,0.088756635785103,0.025072986260056,-0.017852853983641,0.018370695412159));
res += mul(Get(s0,0,dy), float4x4(-0.008328392170370,0.012686708942056,-0.023579195141792,-0.005000781267881,-0.097862921655178,-0.023473698645830,0.061953160911798,-0.033709507435560,-0.049192510545254,-0.060820810496807,0.078937768936157,0.013016497716308,0.085824549198151,-0.001065830118023,0.000146763559314,0.002059206832200));
res += mul(Get(s0,dx,-dy), float4x4(-0.013208150863647,0.012093354947865,-0.044853806495667,-0.022337751463056,0.030444417148829,0.032722480595112,0.010592448525131,0.031712986528873,-0.014408378861845,-0.011688665486872,0.043448060750961,-0.003935857675970,0.004994993563741,0.044937595725060,0.015405382029712,0.029739690944552));
res += mul(Get(s0,dx,0), float4x4(0.015091150999069,0.017063224688172,0.018281038850546,0.003062000731006,-0.133164986968040,-0.006937468424439,0.012307330965996,0.082333967089653,-0.037991564720869,-0.014611629769206,0.070523366332054,0.014274360612035,-0.015142156742513,-0.003816620213911,0.008125345222652,0.050042744725943));
res += mul(Get(s0,dx,dy), float4x4(-0.007911603897810,-0.013821554370224,0.018176630139351,0.007947298698127,0.004704565741122,-0.047180198132992,0.019145665690303,0.038730293512344,-0.025139935314655,-0.075698532164097,0.060780845582485,0.075312726199627,0.012441127561033,0.016855640336871,0.004733063280582,0.045941703021526));
res += mul(Get(s1,-dx,-dy), float4x4(-0.029047925025225,-0.018211619928479,-0.004851134493947,-0.018581928685308,-0.054236471652985,0.050309162586927,-0.034020014107227,0.007187570910901,-0.161391809582710,-0.043426629155874,-0.070668511092663,-0.021133776754141,0.024796843528748,-0.019528135657310,-0.020546667277813,-0.046915799379349));
res += mul(Get(s1,-dx,0), float4x4(0.005358629859984,0.035008937120438,0.055093154311180,-0.024867277592421,0.046166267246008,0.014326171018183,-0.012024650350213,0.016971595585346,-0.063303545117378,-0.018607569858432,0.027356917038560,0.014244017191231,0.097923249006271,-0.028892615810037,0.000501357368194,0.016483522951603));
res += mul(Get(s1,-dx,dy), float4x4(-0.044242888689041,0.027593020349741,0.006823022384197,-0.028192944824696,-0.027689546346664,-0.008294532075524,0.011042680591345,0.014170569367707,-0.066641531884670,0.039037458598614,0.040524281561375,0.053083714097738,0.028308914974332,-0.018583416938782,0.026715861633420,-0.046291597187519));
res += mul(Get(s1,0,-dy), float4x4(0.082459621131420,0.010408584959805,0.058738302439451,-0.023181881755590,-0.015183346346021,0.068183794617653,-0.000646871631034,0.000837108818814,0.027149427682161,-0.001200453843921,-0.037135668098927,-0.029502928256989,-0.016654936596751,-0.042370874434710,-0.002214591018856,-0.024802152067423));
res += mul(Get(s1,0,0), float4x4(0.011594619601965,0.042803935706615,0.110261179506779,0.012340984307230,-0.036015726625919,-0.016368437558413,0.078939512372017,0.064505182206631,-0.050884436815977,-0.021460341289639,0.054740164428949,-0.017043402418494,-0.066532626748085,-0.053945757448673,-0.027757082134485,-0.016104713082314));
res += mul(Get(s1,0,dy), float4x4(0.000525767100044,-0.022299241274595,0.043587096035480,-0.009395065717399,-0.054987065494061,-0.042419061064720,0.024538006633520,0.098903276026249,0.063660971820354,0.054074015468359,0.108360260725021,0.017479199916124,0.052861310541630,0.021816615015268,0.070992000401020,-0.091447360813618));
res += mul(Get(s1,dx,-dy), float4x4(0.052645821124315,0.009683655574918,0.038292631506920,0.074316807091236,0.014001023024321,0.043870106339455,0.011061621829867,0.043834067881107,0.005431587342173,-0.024245264008641,-0.007612228859216,0.034164216369390,0.004620580002666,-0.032890543341637,0.023425215855241,-0.052923087030649));
res += mul(Get(s1,dx,0), float4x4(0.074444167315960,-0.030908148735762,0.049097936600447,0.062378466129303,-0.015699155628681,-0.043703839182854,-0.000194694264792,0.066545277833939,0.177810311317444,-0.005720623768866,0.043715853244066,0.023496389389038,0.078356355428696,-0.020238922908902,0.054915353655815,-0.039282094687223));
res += mul(Get(s1,dx,dy), float4x4(0.001291568973102,-0.002492619445547,0.019984610378742,0.014118154533207,-0.060256786644459,-0.037184938788414,0.018443351611495,0.042405880987644,0.008348088711500,0.047432869672775,0.038138452917337,0.043887197971344,0.046295490115881,0.014887858182192,0.049175340682268,-0.028967307880521));
res += mul(Get(s2,-dx,-dy), float4x4(-0.033983651548624,-0.012896404601634,-0.031213950365782,0.013052510097623,-0.021146520972252,-0.030489487573504,-0.075294263660908,-0.022059597074986,0.013037781231105,0.017276825383306,0.013814146630466,-0.032988365739584,-0.019381172955036,-0.025320442393422,-0.001035237452015,0.065237380564213));
res += mul(Get(s2,-dx,0), float4x4(-0.004276825580746,-0.005208991467953,0.010164625011384,0.007445998489857,-0.065345585346222,0.017622537910938,-0.037175159901381,-0.010366167873144,0.080391593277454,-0.027645701542497,0.000724233628716,0.052086364477873,-0.003881127107888,-0.070268973708153,-0.045029349625111,0.067751586437225));
res += mul(Get(s2,-dx,dy), float4x4(0.001050489838235,-0.012024930678308,0.020652459934354,0.057769764214754,-0.060169260948896,0.003098903922364,0.003747242037207,-0.044203534722328,0.106947667896748,-0.031584385782480,-0.042912140488625,-0.002232132246718,-0.033600963652134,-0.036407839506865,0.007178887724876,0.027067994698882));
res += mul(Get(s2,0,-dy), float4x4(-0.033317986875772,-0.009371881373227,-0.052439492195845,0.032405357807875,-0.035720411688089,-0.011358921416104,-0.077150568366051,-0.074930459260941,-0.036186978220940,0.027298901230097,0.001899059978314,-0.057347651571035,-0.066487543284893,-0.027433071285486,-0.000634616473690,0.036754127591848));
res += mul(Get(s2,0,0), float4x4(-0.010887557640672,-0.009267702698708,0.014596607536077,-0.035552605986595,-0.014174490235746,0.094464354217052,-0.014959079213440,-0.010683334432542,-0.077328413724899,0.000078401106293,0.049266580492258,-0.023921255022287,-0.075358629226685,-0.064608439803123,-0.058282148092985,0.020592458546162));
res += mul(Get(s2,0,dy), float4x4(-0.003332074498758,0.030724396929145,0.032950311899185,0.023448452353477,-0.022176977247000,-0.001580035896040,-0.001895278459415,-0.032930787652731,-0.005128420889378,-0.046481382101774,-0.050748258829117,0.062651030719280,-0.039518851786852,-0.024310268461704,-0.011573782190681,-0.017965178936720));
res += mul(Get(s2,dx,-dy), float4x4(-0.014012841507792,-0.015867093577981,-0.026709429919720,0.029401732608676,0.028448903933167,0.050256766378880,0.005783197470009,0.042255405336618,0.017148382961750,0.021125655621290,-0.024312371388078,-0.015594261698425,-0.098093144595623,-0.048514556139708,-0.011350155808032,-0.089637398719788));
res += mul(Get(s2,dx,0), float4x4(0.045778732746840,0.012778542004526,0.002060417784378,0.020069956779480,0.012108768336475,0.042667079716921,-0.017367327585816,0.055912166833878,0.047878183424473,0.037629202008247,0.006022545509040,-0.051664181053638,-0.077209100127220,-0.045034598559141,-0.012988641858101,-0.087017528712749));
res += mul(Get(s2,dx,dy), float4x4(-0.043793462216854,0.008326096460223,-0.003199088852853,0.017999576404691,0.012785422615707,-0.010211080312729,0.012041381560266,0.019617959856987,0.015081204473972,-0.000249647098826,0.013280417770147,0.007585892453790,-0.045171465724707,-0.049670528620481,0.012531786225736,-0.042541250586510));
res += mul(Get(s3,-dx,-dy), float4x4(0.018802409991622,0.081763505935669,0.068497650325298,-0.024616224691272,-0.024328937754035,-0.007424559909850,0.072697333991528,0.016124960035086,0.019374795258045,0.097531221807003,0.017612721771002,0.050790268927813,-0.035079568624496,-0.008613260462880,-0.016841607168317,-0.001119188847952));
res += mul(Get(s3,-dx,0), float4x4(0.103704355657101,0.011021421290934,-0.024277847260237,-0.029411859810352,-0.019642602652311,0.030750138685107,0.045961722731590,0.086135551333427,0.152006730437279,-0.016804695129395,-0.022440353408456,0.073969513177872,0.035867549479008,0.037782773375511,0.007150656543672,-0.015129451639950));
res += mul(Get(s3,-dx,dy), float4x4(0.019563730806112,0.011516959406435,-0.014264465309680,-0.003120416542515,-0.001180602004752,0.001852448913269,0.028601745143533,0.004876130726188,-0.028865324333310,-0.051540505141020,-0.021710541099310,0.016891213133931,0.025629645213485,0.004027220886201,0.001581478165463,-0.003761323634535));
res += mul(Get(s3,0,-dy), float4x4(-0.043821014463902,0.114817418158054,0.074773192405701,0.090866930782795,-0.017486207187176,-0.064147539436817,-0.000598741404247,-0.064020924270153,0.083714567124844,0.053286757320166,-0.016491765156388,-0.018313609063625,-0.045692954212427,-0.030348682776093,-0.021023526787758,0.029205247759819));
res += mul(Get(s3,0,0), float4x4(-0.037383075803518,-0.047856502234936,-0.064292900264263,0.083067588508129,-0.061468016356230,0.050125539302826,0.033286917954683,-0.019681125879288,-0.139811441302299,-0.022141231223941,-0.002760364906862,0.008418209850788,-0.021939057856798,0.009739120490849,0.078596010804176,0.052677728235722));
res += mul(Get(s3,0,dy), float4x4(-0.019722038879991,-0.008333762176335,-0.020450346171856,0.016837349161506,-0.014369410462677,0.001446113456041,-0.019772635772824,0.001387763069943,0.046753808856010,-0.000920824124478,-0.029967585578561,-0.032803308218718,-0.044363874942064,-0.026977417990565,0.047837696969509,0.066431909799576));
res += mul(Get(s3,dx,-dy), float4x4(-0.063122704625130,0.071120262145996,0.050344645977020,0.015473962761462,0.006444051861763,-0.078188985586166,-0.000916399236303,-0.043284274637699,-0.033964380621910,0.041392080485821,-0.078575067222118,-0.038378965109587,-0.029599037021399,-0.029510119929910,-0.013079089112580,0.000801131536718));
res += mul(Get(s3,dx,0), float4x4(-0.103701785206795,-0.013082953169942,-0.011540537700057,-0.001795679097995,-0.015591441653669,-0.001071237376891,0.088253550231457,-0.074099011719227,0.071936540305614,0.008140075951815,-0.023112658411264,-0.074918650090694,-0.002746482612565,-0.007521840743721,0.019095746800303,0.076136060059071));
res += mul(Get(s3,dx,dy), float4x4(-0.031054647639394,0.029989406466484,-0.003698005108163,0.004547565244138,-0.040639977902174,-0.023468697443604,0.037170987576246,-0.044947046786547,-0.065842233598232,0.031200060620904,-0.048442807048559,-0.094095163047314,-0.069279372692108,0.001533468835987,0.048335254192352,0.025262078270316));
return max(float4(0,0,0,0), res);
}
