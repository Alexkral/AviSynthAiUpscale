sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.021077323704958,-0.005833511706442,-0.042534273117781,-0.017791951075196,0.042953826487064,-0.007953805848956,-0.000375396630261,0.059586390852928,0.004239507950842,0.003248672699556,-0.005457256920636,-0.011094000190496,0.062864519655704,-0.000453691114672,0.050844892859459,-0.024322381243110));
res += mul(Get(s0,-dx,0), float4x4(-0.039972994476557,-0.000631420873106,-0.033733036369085,0.010887248441577,0.024090256541967,-0.003830389818177,0.001922961208038,0.045524448156357,-0.004709404893219,0.025926729664207,-0.016343876719475,0.005008371081203,0.088814914226532,-0.002658383222297,0.041219390928745,-0.011554869823158));
res += mul(Get(s0,-dx,dy), float4x4(-0.031041048467159,0.006806738674641,-0.000607521389611,0.041740465909243,-0.014225640334189,0.014539032243192,-0.007513430900872,-0.056490879505873,-0.001559870317578,0.074677541851997,-0.000400774355512,-0.043760005384684,0.056270662695169,-0.005683280527592,-0.003237530821934,-0.010917855426669));
res += mul(Get(s0,0,-dy), float4x4(0.021501591429114,0.010976648889482,-0.035842031240463,-0.039277017116547,0.080605871975422,0.006276025902480,0.023026913404465,0.070316694676876,0.039934065192938,0.013966105878353,-0.005928785074502,-0.003453983692452,0.037715926766396,-0.010095659643412,0.060608152300119,-0.053828217089176));
res += mul(Get(s0,0,0), float4x4(-0.027199627831578,0.012457110919058,-0.021918376907706,0.081628359854221,0.081756263971329,-0.006658707745373,0.001339047565125,0.119447208940983,0.004147316329181,0.018864711746573,-0.001093404483981,-0.005855510476977,0.025340663269162,-0.001664955634624,0.049981698393822,-0.056262604892254));
res += mul(Get(s0,0,dy), float4x4(-0.029776640236378,0.007032237015665,0.031297896057367,0.038628321141005,-0.008052103221416,-0.003158250823617,-0.019304167479277,0.006682959850878,0.000355904456228,0.065091609954834,0.003121567191556,-0.069304227828979,0.028819693252444,-0.004309528972954,0.009880225174129,-0.034990992397070));
res += mul(Get(s0,dx,-dy), float4x4(0.026638559997082,-0.027809048071504,-0.000972519861534,0.007825518026948,0.035483159124851,0.000295544916298,0.023193560540676,0.077986560761929,0.038336232304573,-0.008596457540989,0.004634087905288,0.012501268647611,-0.015606189146638,-0.008969105780125,0.015016529709101,-0.059877149760723));
res += mul(Get(s0,dx,0), float4x4(0.025316080078483,-0.024841215461493,0.015666143968701,0.119799576699734,0.098452761769295,0.004883776418865,0.016918474808335,0.040401268750429,0.033661086112261,-0.014854642562568,-0.004511791281402,0.094983384013176,-0.029496092349291,-0.012399055063725,-0.009326697327197,-0.067346334457397));
res += mul(Get(s0,dx,dy), float4x4(-0.024589678272605,-0.019911175593734,0.021605934947729,0.041389748454094,0.031473740935326,-0.002855141181499,-0.004079636186361,0.010055877268314,0.011288420297205,0.021225320175290,0.025503464043140,0.027730392292142,-0.023922361433506,-0.006848518270999,-0.007969855330884,-0.041494950652122));
res += mul(Get(s1,-dx,-dy), float4x4(-0.001053578685969,-0.024890262633562,0.010824558325112,-0.069613002240658,-0.038985401391983,0.009802032262087,-0.041796777397394,-0.037389684468508,-0.023116489872336,-0.042817123234272,0.006069534923881,-0.024684831500053,-0.017648158594966,-0.029161944985390,-0.000636405718978,0.047039438039064));
res += mul(Get(s1,-dx,0), float4x4(0.035356335341930,-0.016819903627038,-0.011601080186665,-0.072578512132168,0.005332835484296,-0.018720556050539,0.000221771639190,-0.039155643433332,-0.038370482623577,-0.039778176695108,-0.008169850334525,-0.072521872818470,-0.029884910210967,-0.038493689149618,-0.016521533951163,-0.092741370201111));
res += mul(Get(s1,-dx,dy), float4x4(0.048812698572874,0.001076180837117,0.038816250860691,0.023500984534621,0.056569382548332,-0.010816227644682,0.020259378477931,0.078865922987461,0.000422329147113,-0.012738135643303,0.020190455019474,-0.111272849142551,-0.009177810512483,0.029889307916164,0.001852768356912,-0.043170463293791));
res += mul(Get(s1,0,-dy), float4x4(-0.009573461487889,-0.006058495957404,-0.006116997916251,-0.007622653152794,-0.031783953309059,0.041742019355297,-0.041600082069635,-0.074308857321739,-0.043434228748083,-0.014774007722735,0.001883454038762,0.081803910434246,-0.018333069980145,-0.010380218736827,-0.020478416234255,0.003246150910854));
res += mul(Get(s1,0,0), float4x4(-0.018158245831728,0.013491217978299,-0.030977871268988,-0.076580271124840,-0.027682779356837,0.014328386634588,0.014104940928519,-0.075713396072388,-0.063706099987030,0.016481701284647,-0.050469823181629,-0.223395541310310,-0.026022274047136,-0.020934898406267,-0.017386225983500,-0.107915654778481));
res += mul(Get(s1,0,dy), float4x4(0.033310528844595,0.025467585772276,0.027171708643436,0.061582326889038,0.045697335153818,0.001181956031360,0.067573033273220,-0.001190986833535,-0.036683529615402,0.118092462420464,-0.008431950584054,-0.085955671966076,-0.008345259353518,0.085133969783783,-0.022767314687371,-0.006476635113358));
res += mul(Get(s1,dx,-dy), float4x4(0.005384844262153,-0.035278875380754,-0.015536963008344,0.027860766276717,-0.028878480195999,-0.013563771732152,-0.003920515999198,-0.041502222418785,-0.005743237212300,-0.028896231204271,-0.015829751268029,0.177811771631241,-0.001933335675858,-0.012726794928312,-0.027642935514450,0.022925954312086));
res += mul(Get(s1,dx,0), float4x4(0.002936159260571,-0.026909373700619,-0.045271139591932,-0.035986930131912,-0.010096912272274,-0.041743561625481,0.043126627802849,0.026735305786133,-0.050999790430069,-0.056363001465797,-0.066155888140202,0.064394727349281,-0.027530979365110,-0.027492200955749,-0.030444519594312,0.046016179025173));
res += mul(Get(s1,dx,dy), float4x4(0.009145010262728,0.008630921132863,0.032635029405355,0.039549157023430,0.003927512094378,-0.035814613103867,0.050873298197985,0.029628138989210,-0.041303712874651,0.033535104244947,0.005858412012458,0.091185785830021,-0.019330207258463,0.050421055406332,-0.010658042505383,0.042950987815857));
res += mul(Get(s2,-dx,-dy), float4x4(-0.016424423083663,-0.023024024441838,0.002458840841427,-0.028651500120759,-0.006371318362653,-0.004268284421414,-0.008623753674328,0.003496151650324,-0.003321051830426,-0.018245780840516,-0.010979946702719,-0.027074592188001,0.002527442527935,-0.008407766930759,0.014860286377370,-0.034997168928385));
res += mul(Get(s2,-dx,0), float4x4(-0.018406918272376,-0.023547424003482,-0.013503435999155,-0.097244173288345,-0.000897865509614,-0.007453665602952,-0.003295662812889,0.003478566417471,-0.013862863183022,-0.026917275041342,-0.032632716000080,-0.080310359597206,0.015990382060409,0.004936988931149,0.017161363735795,-0.015954786911607));
res += mul(Get(s2,-dx,dy), float4x4(0.020553315058351,-0.030901361256838,0.014017449691892,-0.057400722056627,-0.007620548363775,0.002340991050005,-0.013560957275331,-0.016374038532376,-0.017562812194228,0.021078025922179,-0.002919124439359,0.060575265437365,0.034419540315866,-0.007069823797792,0.020390331745148,-0.021320348605514));
res += mul(Get(s2,0,-dy), float4x4(-0.019843311980367,0.030947487801313,-0.021471286192536,-0.021277021616697,0.012511517852545,-0.003077059751377,-0.005147075746208,0.015895735472441,0.016479367390275,0.006797361187637,-0.008618327789009,0.019939094781876,0.009463733062148,-0.006855817977339,-0.005598270334303,-0.017701741307974));
res += mul(Get(s2,0,0), float4x4(-0.028596816584468,0.036072283983231,-0.022941926494241,-0.085619695484638,0.007510520517826,-0.004190977197140,0.003353100735694,0.041808605194092,-0.014556001871824,-0.010932678356767,-0.022187186405063,-0.090235576033592,-0.005501052364707,0.026372002437711,-0.009297270327806,-0.008460136130452));
res += mul(Get(s2,0,dy), float4x4(-0.004973066970706,0.004223901312798,0.032182574272156,-0.031500115990639,0.010692959651351,-0.002562003210187,0.003323625307530,0.018936755135655,-0.019041381776333,0.039399780333042,0.024772718548775,0.044601652771235,-0.000163158780197,0.030347451567650,0.011001206934452,0.011839589104056));
res += mul(Get(s2,dx,-dy), float4x4(-0.002894327742979,-0.003249289700761,-0.011667304672301,0.074998952448368,0.017110254615545,-0.006744671147317,0.012901869602501,0.009304773062468,0.031362067908049,-0.008376706391573,-0.000090422334324,0.037490006536245,0.032210234552622,0.002673199633136,0.002886637113988,-0.011834688484669));
res += mul(Get(s2,dx,0), float4x4(-0.009509372524917,-0.014241253957152,0.000576942227781,-0.034456625580788,0.014587575569749,0.000599480990786,0.011612545698881,0.031552366912365,-0.012815497815609,-0.034704845398664,-0.003284960519522,0.046321675181389,0.005109804682434,-0.005843693390489,0.006213854998350,-0.016109285876155));
res += mul(Get(s2,dx,dy), float4x4(-0.010241218842566,-0.027735661715269,0.039998371154070,0.027763325721025,0.012879516929388,-0.003871336579323,-0.012256748974323,0.026602689176798,-0.022258978337049,-0.003933106549084,0.053086228668690,0.102895304560661,0.007994651794434,0.008247853256762,0.007421794347465,-0.037426538765430));
res += mul(Get(s3,-dx,-dy), float4x4(0.010601528920233,-0.000484711345052,0.013261138461530,-0.005649555940181,0.008335294201970,-0.005652255844325,0.009068707935512,0.004038671962917,-0.017997046932578,-0.025201141834259,-0.035091437399387,-0.027510069310665,0.054069817066193,-0.010165502317250,0.000280067441054,0.078872762620449));
res += mul(Get(s3,-dx,0), float4x4(0.008552732877433,0.003699628636241,-0.007795426063240,0.018924439325929,-0.001265083439648,-0.001283852965571,-0.000232534177485,0.015009196475148,-0.007525847293437,-0.022056026384234,-0.031131088733673,-0.105938255786896,0.013040564022958,-0.004822568502277,-0.002828691620380,0.061284523457289));
res += mul(Get(s3,-dx,dy), float4x4(0.001633396022953,-0.002703147241846,0.023533364757895,-0.000797186512500,0.015693161636591,0.039821546524763,0.025569640100002,-0.031581979244947,0.000685383914970,-0.019116472452879,-0.012003310956061,-0.063659898936749,-0.032282792031765,-0.012598269619048,-0.015113878995180,0.003977091982961));
res += mul(Get(s3,0,-dy), float4x4(0.013612770475447,0.006586635019630,0.006001446861774,-0.011362268589437,0.010712677612901,0.000006161263627,-0.005880172364414,0.002502427436411,0.015557056292892,-0.028686404228210,-0.010463659651577,0.105334915220737,0.076149858534336,-0.007532612420619,0.018226457759738,-0.000960310397204));
res += mul(Get(s3,0,0), float4x4(0.010232214815915,-0.010204027406871,-0.014507351443172,0.002713859081268,0.000326911016600,-0.006823879200965,-0.001541422796436,0.035752605646849,0.005350970197469,-0.022351475432515,0.003767066635191,0.096251286566257,0.034973539412022,-0.003727388801053,0.006841431837529,-0.000282871042145));
res += mul(Get(s3,0,dy), float4x4(0.004312886390835,0.005957186687738,0.021906103938818,0.006625486537814,0.006944383028895,0.059130005538464,0.022830739617348,-0.019369946792722,-0.009319905191660,-0.005461398512125,0.026578601449728,0.021692834794521,-0.035063270479441,-0.021548163145781,-0.011838337406516,-0.013635762967169));
res += mul(Get(s3,dx,-dy), float4x4(0.020291464403272,0.000637865683530,0.008002286776900,0.016103841364384,0.012932249344885,-0.006617466453463,-0.001696493010968,0.013630970381200,0.016036542132497,0.006503655109555,0.048872470855713,0.057214964181185,0.051073461771011,-0.002812923630700,0.004028952680528,-0.031487494707108));
res += mul(Get(s3,dx,0), float4x4(0.002502865623683,-0.017926678061485,-0.009736588224769,0.017417667433619,0.012962240725756,-0.009988487698138,-0.002157019916922,0.061724688857794,0.006819258909672,0.012569957412779,0.029404943808913,0.031313426792622,0.045180875808001,-0.005791421048343,-0.000614802760538,-0.075062438845634));
res += mul(Get(s3,dx,dy), float4x4(-0.002304390072823,-0.004347414709628,0.020852692425251,0.002866081427783,0.012786808423698,0.059724211692810,0.025822468101978,0.010400446131825,-0.013313977047801,0.006685214117169,0.007719098124653,-0.049246586859226,-0.017534790560603,-0.010492667555809,-0.013556148856878,0.021111955866218));
return max(float4(0,0,0,0), res);
}
