sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.021952046081424,0.007840209640563,-0.126277253031731,-0.002713935915381,-0.041990693658590,0.033504419028759,0.047366265207529,-0.003090796759352,-0.067795723676682,-0.029226345941424,0.004744542762637,-0.071011707186699,0.032756008207798,0.011353952810168,0.107934027910233,-0.014513709582388));
res += mul(Get(s0,-dx,0), float4x4(-0.069990865886211,-0.042143322527409,-0.101699486374855,0.023442734032869,-0.021313948556781,-0.004781851079315,-0.015071222558618,-0.016531661152840,-0.051744770258665,-0.028282463550568,-0.006523814983666,-0.088209763169289,0.003512527793646,0.059089649468660,0.113416954874992,-0.010838889516890));
res += mul(Get(s0,-dx,dy), float4x4(0.006682658102363,-0.044550519436598,-0.036747634410858,0.098573103547096,-0.025657301768661,-0.003576964838430,-0.008916906081140,-0.036358054727316,-0.061748515814543,-0.053083758801222,0.014853100292385,-0.038614232093096,-0.005785009358078,0.085312791168690,0.042649906128645,-0.000631126808003));
res += mul(Get(s0,0,-dy), float4x4(0.062104672193527,-0.012859527952969,-0.026072936132550,-0.031185507774353,-0.041008662432432,0.041891183704138,0.152267277240753,0.001833886024542,-0.029175572097301,-0.000868433853611,0.017171572893858,-0.026346009224653,0.043115753680468,-0.017809620127082,0.047110680490732,0.015428257174790));
res += mul(Get(s0,0,0), float4x4(-0.033573593944311,-0.081214979290962,0.025648841634393,-0.036806017160416,-0.031121309846640,0.016072588041425,0.069245927035809,0.002749926410615,0.009739364497364,-0.026706617325544,0.013086855411530,-0.075613699853420,0.063581459224224,0.011607537977397,0.013789308257401,-0.022257462143898));
res += mul(Get(s0,0,dy), float4x4(-0.016085794195533,-0.057183083146811,0.051916647702456,0.028719004243612,-0.024348441511393,0.003083066549152,0.002548841293901,-0.011111276224256,-0.032924517989159,-0.053843852132559,0.056221209466457,-0.019796205684543,-0.000428394618211,0.045525938272476,0.022359643131495,-0.034668497741222));
res += mul(Get(s0,dx,-dy), float4x4(0.019123990088701,0.001118863467127,0.041199941188097,-0.048387315124273,-0.027810296043754,0.065524578094482,0.094030864536762,-0.032125402241945,-0.061564601957798,-0.003116045612842,0.041543763130903,-0.005983783863485,0.028405481949449,-0.081843316555023,-0.017948377877474,0.032022949308157));
res += mul(Get(s0,dx,0), float4x4(-0.065194480121136,0.046979390084743,0.095782510936260,-0.045995347201824,-0.007559517398477,0.087137922644615,0.093851566314697,-0.004388308618218,-0.012248752638698,-0.019668731838465,0.095046356320381,-0.032211557030678,-0.003343296470121,-0.093538448214531,-0.035549186170101,-0.023525964468718));
res += mul(Get(s0,dx,dy), float4x4(-0.031779840588570,0.052159782499075,-0.022134680300951,0.030463034287095,-0.010180640034378,0.069998994469643,0.016848457977176,-0.006695401854813,-0.049505267292261,-0.037258766591549,0.083395592868328,-0.010566474869847,-0.039578892290592,-0.022595709189773,-0.016146089881659,-0.051513273268938));
res += mul(Get(s1,-dx,-dy), float4x4(0.029115626588464,-0.061765663325787,-0.035971164703369,-0.058167591691017,0.002733697881922,-0.045883383601904,-0.091602019965649,0.015968307852745,-0.046556949615479,-0.027775444090366,-0.102590180933475,-0.079450272023678,-0.010612045414746,0.027319196611643,-0.079366326332092,-0.032608225941658));
res += mul(Get(s1,-dx,0), float4x4(0.064855009317398,0.065386496484280,-0.064006462693214,-0.141245216131210,0.122541896998882,-0.010300233960152,0.042677544057369,0.085886426270008,0.154674604535103,0.038427431136370,-0.096096165478230,-0.061052724719048,0.024013249203563,0.021492080762982,-0.013747681863606,-0.073670364916325));
res += mul(Get(s1,-dx,dy), float4x4(0.070693857967854,0.011252644471824,-0.000834385748021,0.038387801498175,0.023091342300177,-0.075948178768158,0.110950715839863,0.026329793035984,0.201586067676544,-0.029931237921119,-0.065940596163273,-0.003228895366192,0.059669751673937,0.020525172352791,-0.041335348039865,-0.008926345035434));
res += mul(Get(s1,0,-dy), float4x4(-0.083287402987480,-0.085038930177689,-0.026135658845305,-0.027397336438298,-0.086053252220154,-0.084975294768810,-0.105173587799072,0.039057865738869,-0.086449526250362,0.053969454020262,-0.085733391344547,-0.087105616927147,-0.028265118598938,0.030031941831112,-0.065081454813480,-0.074949003756046));
res += mul(Get(s1,0,0), float4x4(-0.100056901574135,0.079164460301399,-0.097152009606361,-0.033632893115282,0.062843412160873,-0.020777670666575,0.026394786313176,0.171860992908478,-0.146469950675964,0.061958331614733,-0.127888500690460,-0.116574071347713,-0.080110944807529,0.025933500379324,0.008868713863194,-0.120727777481079));
res += mul(Get(s1,0,dy), float4x4(0.145647540688515,0.011537593789399,0.000421049713623,0.216168880462646,0.102806046605110,-0.057625368237495,0.115553513169289,0.083881914615631,0.127526164054871,0.048331659287214,-0.087886974215508,0.251369029283524,0.009938467293978,0.053113907575607,-0.039719495922327,0.076763831079006));
res += mul(Get(s1,dx,-dy), float4x4(-0.052582036703825,-0.025530694052577,-0.025683721527457,-0.044327445328236,-0.104229405522346,-0.090565443038940,0.010818934999406,0.040194492787123,-0.044735576957464,-0.004499409813434,-0.060782551765442,-0.038923814892769,0.036729127168655,0.019789511337876,-0.039273932576180,-0.033256426453590));
res += mul(Get(s1,dx,0), float4x4(-0.120287507772446,0.049375679343939,-0.023863017559052,-0.067365549504757,-0.068274125456810,-0.029887825250626,0.101507127285004,0.074512779712677,-0.126897543668747,-0.017000712454319,-0.029947981238365,-0.039152015000582,0.013585574924946,0.023465251550078,0.024272177368402,-0.068269707262516));
res += mul(Get(s1,dx,dy), float4x4(0.063631318509579,0.039026603102684,0.054822418838739,0.071276381611824,0.028479555621743,-0.062691919505596,0.076643221080303,-0.041194017976522,-0.058371767401695,0.045476585626602,0.069273360073566,0.097495526075363,-0.026795577257872,0.052213598042727,0.025926858186722,0.022327573969960));
res += mul(Get(s2,-dx,-dy), float4x4(0.034348532557487,-0.057529080659151,-0.030083600431681,-0.019929414615035,-0.007344086654484,-0.023620503023267,-0.023322513327003,-0.028871443122625,-0.027613826096058,0.015809744596481,-0.041008275002241,-0.011687142774463,0.043537583202124,-0.053514689207077,0.018334746360779,-0.043796032667160));
res += mul(Get(s2,-dx,0), float4x4(0.073230467736721,0.006718204822391,-0.030855717137456,-0.055752627551556,0.001209657872096,-0.013095014728606,-0.008336338214576,-0.044596996158361,-0.098991848528385,0.058773454278708,-0.057090029120445,-0.052442371845245,0.099283590912819,-0.050816819071770,0.031836852431297,-0.042797282338142));
res += mul(Get(s2,-dx,dy), float4x4(0.074288010597229,0.006771634332836,0.029535001143813,0.046404596418142,-0.007268726360053,-0.021182088181376,0.011117179878056,-0.041598942130804,0.060383759438992,0.051097530871630,-0.029914166778326,0.142027333378792,0.083077974617481,-0.034825410693884,0.061555255204439,-0.033865176141262));
res += mul(Get(s2,0,-dy), float4x4(-0.046100199222565,-0.084204599261284,-0.053648605942726,0.008701302111149,-0.001127970288508,-0.025853300467134,0.036969665437937,0.000870415591635,0.067255981266499,-0.017619304358959,-0.008245575241745,-0.010637538507581,-0.051896557211876,0.009209094569087,0.005936058238149,-0.072736166417599));
res += mul(Get(s2,0,0), float4x4(-0.029466332867742,-0.051102295517921,-0.066205956041813,0.025561993941665,-0.000751246116124,-0.042784325778484,0.048324488103390,-0.022717062383890,-0.006565337069333,-0.055098932236433,-0.033279228955507,-0.056881897151470,-0.049748897552490,0.004505783785135,-0.003247169777751,-0.031790181994438));
res += mul(Get(s2,0,dy), float4x4(0.070943452417850,0.007157248444855,0.005496943369508,0.169056609272957,0.002629196969792,-0.027669390663505,0.029428312554955,-0.023560350760818,0.002614567521960,-0.034357368946075,0.016636678948998,0.113788418471813,0.047100860625505,-0.014939909800887,0.029695888981223,0.025074344128370));
res += mul(Get(s2,dx,-dy), float4x4(-0.092468865215778,-0.062514916062355,0.005868392996490,-0.011936923488975,-0.017693409696221,0.015544196590781,0.049791298806667,-0.020741906017065,0.042694706469774,-0.040518123656511,0.027220398187637,0.010051453486085,-0.019511923193932,0.009121896699071,0.039743166416883,-0.029475331306458));
res += mul(Get(s2,dx,0), float4x4(-0.090298511087894,-0.051209263503551,0.056683916598558,-0.001511606853455,-0.004078365862370,0.020808549597859,0.057589326053858,-0.023375947028399,-0.046474631875753,-0.073296882212162,0.045577667653561,-0.022192537784576,-0.020885361358523,0.013195239938796,0.047727830708027,-0.025006370618939));
res += mul(Get(s2,dx,dy), float4x4(-0.001278239535168,0.011363105848432,0.020856661722064,0.046499013900757,-0.005148437339813,0.028588721528649,0.031465187668800,-0.010944571346045,-0.077400587499142,-0.015330658294261,0.002900166902691,0.068187199532986,-0.004653924610466,0.032102130353451,0.060909591615200,-0.003498174948618));
res += mul(Get(s3,-dx,-dy), float4x4(0.087225027382374,-0.007353240624070,0.042433593422174,-0.035039048641920,0.011839245446026,-0.003287992440164,0.005506255198270,-0.019558243453503,0.000159937917488,-0.068517401814461,-0.127838730812073,-0.036324016749859,-0.019199904054403,0.075013294816017,0.034327492117882,-0.029204284772277));
res += mul(Get(s3,-dx,0), float4x4(0.015710230916739,0.023816514760256,0.023205908015370,-0.059487789869308,0.040734447538853,0.016604166477919,0.014367895200849,-0.024012990295887,-0.010959494858980,-0.045440349727869,-0.077454961836338,0.024364732205868,0.024973388761282,0.008439605124295,-0.012121039442718,0.016861066222191));
res += mul(Get(s3,-dx,dy), float4x4(0.067802384495735,-0.019344579428434,0.058681678026915,0.033666316419840,0.047398749738932,-0.037218984216452,0.018711574375629,-0.007210748270154,0.055670034140348,-0.023245122283697,-0.061824765056372,0.098561912775040,-0.011226600036025,-0.006617566570640,-0.008142556063831,-0.000356791540980));
res += mul(Get(s3,0,-dy), float4x4(0.069589577615261,-0.003785342443734,0.045620366930962,-0.039627067744732,0.004901228006929,-0.002615857170895,0.004471891093999,-0.014567786827683,0.006680542603135,-0.065203972160816,0.012205597013235,-0.059439267963171,-0.004161332733929,0.118836708366871,0.050159826874733,-0.031638730317354));
res += mul(Get(s3,0,0), float4x4(0.001376849482767,0.013510246761143,0.032062191516161,-0.062771998345852,0.025156982243061,-0.001306717167608,0.024913070723414,-0.024727541953325,-0.019835060462356,-0.066073693335056,0.076300129294395,-0.062082488089800,0.036935366690159,0.011058419942856,-0.020474899560213,0.025382198393345));
res += mul(Get(s3,0,dy), float4x4(0.039842814207077,-0.010467276908457,0.038743458688259,0.028037281706929,0.015181911177933,-0.042022634297609,0.029845729470253,-0.003786743618548,0.013773083686829,-0.035588901489973,0.044017050415277,0.019317992031574,-0.020665779709816,-0.008695154450834,-0.027895690873265,-0.008327857591212));
res += mul(Get(s3,dx,-dy), float4x4(0.052778080105782,0.004164676647633,0.064801111817360,-0.039990849792957,0.002655745018274,0.006969370879233,0.025740409269929,-0.016325386241078,-0.011059700511396,0.052206218242645,0.034901786595583,-0.036609757691622,0.035426083952188,0.075502529740334,0.040571354329586,-0.066109269857407));
res += mul(Get(s3,dx,0), float4x4(0.017595913261175,-0.000232786318520,0.053994774818420,-0.050742417573929,0.005571467336267,-0.012148646637797,0.061183668673038,-0.020549125969410,-0.007920093834400,0.091700591146946,0.041453927755356,-0.034988831728697,0.021871875971556,0.027213634923100,0.017785133793950,0.033341120928526));
res += mul(Get(s3,dx,dy), float4x4(0.012971136718988,-0.004139032680541,0.020185979083180,-0.002180880634114,-0.029582306742668,-0.039473947137594,0.040591023862362,0.009280883707106,0.010415620170534,0.060957457870245,-0.018836537376046,0.064655706286430,-0.020969834178686,0.007202463690192,-0.025490367785096,-0.006113196257502));
return max(float4(0,0,0,0), res);
}
