sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.011549768038094,-0.001682442496531,0.013111210428178,0.007043082267046,-0.004567858763039,-0.000796397333033,0.002310174982995,-0.004536902531981,-0.003844375023618,-0.006406853906810,-0.001998201012611,0.001599043607712,-0.036397758871317,-0.009710612706840,-0.037685368210077,-0.001091039972380));
res += mul(Get(s0,-dx,0), float4x4(0.013587919995189,0.002454262459651,0.001528511755168,0.001424374524504,0.006140051409602,-0.010299731045961,0.003379646921530,0.003864556550980,0.001438129344024,-0.005132297985256,-0.009563257917762,-0.002365533728153,-0.024705333635211,0.000835130689666,0.011831325478852,-0.000544936163351));
res += mul(Get(s0,-dx,dy), float4x4(-0.001494164112955,0.010738017968833,-0.000810136611108,-0.005549173336476,-0.006704838015139,-0.003115643747151,-0.000311014766339,0.003262323793024,0.004328890237957,0.007979291491210,0.001088407472707,-0.004826292395592,0.000352975243004,-0.007972793653607,0.026319649070501,-0.006140327546746));
res += mul(Get(s0,0,-dy), float4x4(0.016657421365380,0.013130875304341,0.008067316375673,0.004619105253369,-0.000494123320095,-0.007510882336646,0.000313172058668,0.001301200361922,0.004644467961043,0.001753326505423,-0.005073913373053,0.007245645858347,-0.058817569166422,-0.017266089096665,-0.022478897124529,0.030091300606728));
res += mul(Get(s0,0,0), float4x4(0.011203157715499,0.007160536013544,-0.013100531883538,-0.002948055742308,0.006000217515975,-0.002032305812463,-0.002680379431695,-0.004388186149299,0.000733972585294,0.008049008436501,0.007252057082951,-0.003892773529515,-0.022480975836515,-0.014091177843511,-0.023596504703164,0.019287677481771));
res += mul(Get(s0,0,dy), float4x4(0.004624405875802,-0.007947919890285,0.004727025981992,-0.000344345375197,-0.008876714855433,-0.001906782039441,0.003742518601939,0.004275157582015,-0.009205593727529,-0.000976873096079,0.012833986431360,-0.002440559910610,0.021671464666724,-0.005768140777946,-0.049693014472723,-0.022792378440499));
res += mul(Get(s0,dx,-dy), float4x4(0.015002717263997,0.007853085175157,-0.005238188430667,0.003622653195634,0.000186428660527,-0.005210760980844,0.006443022284657,0.004692278802395,0.005929518491030,0.003459906904027,-0.003023054217920,0.007153090089560,-0.030557632446289,-0.001686036353931,-0.017901917919517,0.011119772680104));
res += mul(Get(s0,dx,0), float4x4(0.014494011178613,-0.000942868529819,-0.008610380813479,0.009067649021745,-0.000345700158505,0.000198913025088,0.005930454470217,0.004266408272088,0.004927243571728,0.002507722470909,-0.002513784915209,-0.015059147961438,-0.019609784707427,-0.023639127612114,0.018973633646965,0.015538663603365));
res += mul(Get(s0,dx,dy), float4x4(-0.010219686664641,-0.004279323853552,-0.003364959964529,0.005418608896434,-0.004362092819065,0.001645832438953,-0.005415070801973,-0.000187567027751,-0.000846886076033,-0.003681718371809,-0.000160176714417,0.003553583985195,0.011301741003990,-0.015558965504169,0.066599421203136,-0.000011461776012));
res += mul(Get(s1,-dx,-dy), float4x4(-0.013107411563396,-0.006733322981745,-0.013043968938291,0.005565569270402,0.004376749973744,0.004219082649797,0.003705746494234,0.005778306629509,-0.003030945081264,-0.005271900445223,-0.006242582574487,-0.003798065241426,-0.063004657626152,-0.000930852314923,0.003667427692562,0.001921154209413));
res += mul(Get(s1,-dx,0), float4x4(0.013089619576931,0.022578010335565,-0.027408950030804,-0.022727577015758,0.003676850115880,0.031011553481221,0.003962259273976,0.001812344300561,0.008593963459134,0.009352971799672,-0.006655359640718,0.007799157407135,-0.038738440722227,-0.026573689654469,0.029109077528119,0.064355790615082));
res += mul(Get(s1,-dx,dy), float4x4(-0.012752368114889,-0.014309316873550,-0.014008668251336,-0.006993227172643,0.006887562572956,-0.004463994875550,0.020956616848707,0.005719708278775,0.011011032387614,0.007745045702904,-0.000740863441024,0.017145233228803,0.020219119265676,-0.027296235784888,-0.003548154840246,-0.000798540364485));
res += mul(Get(s1,0,-dy), float4x4(-0.017283972352743,-0.011068290099502,-0.000419430376496,0.017761547118425,-0.004052694886923,-0.003600607393309,-0.007719985675067,0.034310705959797,0.001432375516742,0.000624482287094,-0.006071558687836,0.021225217729807,-0.067652530968189,-0.005872267298400,-0.019339298829436,0.021242920309305));
res += mul(Get(s1,0,0), float4x4(0.043493431061506,0.024769246578217,0.009717468172312,-0.021742463111877,0.005265380721539,0.017878925427794,-0.026719775050879,0.005535138305277,-0.001766321132891,0.017421165481210,-0.011362210847437,0.014465365558863,-0.038738902658224,-0.038637537509203,-0.117086507380009,0.057760156691074));
res += mul(Get(s1,0,dy), float4x4(-0.007405814249068,-0.007514334749430,-0.005592067725956,-0.020581901073456,0.003930339124054,0.004235058091581,-0.006981231272221,0.004509276710451,0.007307155989110,-0.005816129036248,-0.008555238135159,0.013064214028418,0.038564231246710,-0.030877918004990,-0.045439224690199,-0.007465540897101));
res += mul(Get(s1,dx,-dy), float4x4(-0.017134193331003,-0.007447248790413,-0.003430069424212,0.019145406782627,-0.008386446163058,0.013327238149941,-0.046535000205040,0.032112583518028,0.001214741263539,-0.009739495813847,-0.033777236938477,0.014426955953240,-0.037748996168375,0.014901008456945,0.056655786931515,0.010850257240236));
res += mul(Get(s1,dx,0), float4x4(0.019855519756675,0.025287017226219,0.052688799798489,-0.019630681723356,0.008135503157973,0.020025352016091,-0.051532480865717,-0.006593083962798,-0.007716527208686,0.008181902579963,-0.034185569733381,0.011208723299205,-0.039243187755346,-0.014382638968527,0.048128869384527,0.038586005568504));
res += mul(Get(s1,dx,dy), float4x4(-0.006622700951993,-0.012412764132023,0.012077676132321,-0.014207791537046,0.007766543887556,0.002103933366016,-0.039406612515450,-0.006068280432373,0.004307662136853,-0.006157889962196,-0.032260466367006,-0.000603878346737,0.020781977102160,-0.029454793781042,0.061732765287161,-0.015715723857284));
res += mul(Get(s2,-dx,-dy), float4x4(-0.081998646259308,-0.018712459132075,0.075578764081001,0.041299570351839,-0.056566867977381,0.010413223877549,0.027037836611271,0.012676487676799,0.019147107377648,0.020231802016497,0.019507113844156,0.005302462261170,-0.068316683173180,-0.004592787474394,-0.099310435354710,0.010001451708376));
res += mul(Get(s2,-dx,0), float4x4(0.066761650145054,0.100464157760143,0.023640066385269,-0.088761180639267,0.051436938345432,0.030806045979261,-0.052416052669287,-0.048816949129105,0.022764902561903,0.007497610524297,-0.007409005425870,0.000834735459648,-0.047311410307884,-0.050667066127062,0.013261811807752,0.043910089880228));
res += mul(Get(s2,-dx,dy), float4x4(-0.038928784430027,-0.079480826854706,0.017512740567327,-0.012454493902624,-0.051815353333950,-0.053189806640148,-0.043971594423056,-0.023490233346820,-0.006331569049507,0.004658836405724,-0.001866554724984,-0.014844778925180,0.052760723978281,-0.024985650554299,0.011244260706007,-0.004102594219148));
res += mul(Get(s2,0,-dy), float4x4(-0.105559334158897,-0.052112456411123,-0.110732041299343,0.114594511687756,-0.053427372127771,-0.004054472316056,-0.094974510371685,0.008504874072969,0.023825576528907,0.015654131770134,0.011797095648944,0.003548175329342,-0.065740838646889,0.015306784771383,0.027482982724905,0.014201469719410));
res += mul(Get(s2,0,0), float4x4(0.142569079995155,0.135820582509041,-0.198267728090286,-0.143037810921669,0.112961634993553,0.059405736625195,-0.079489238560200,-0.090104043483734,0.030854923650622,0.007273851428181,0.008975299075246,-0.011732413433492,-0.056097026914358,-0.068087093532085,0.018705222755671,0.104262799024582));
res += mul(Get(s2,0,dy), float4x4(0.001309544197284,-0.072774037718773,-0.135278046131134,-0.078460425138474,-0.026354987174273,-0.046255495399237,-0.049643728882074,-0.057310093194246,-0.007515074219555,0.004801386967301,-0.006421974394470,0.004615067970008,0.056677058339119,-0.020110988989472,0.021060233935714,0.000330363254761));
res += mul(Get(s2,dx,-dy), float4x4(-0.106111139059067,-0.049534607678652,0.000616824545432,0.118970513343811,-0.079777337610722,-0.010775243863463,0.070578984916210,0.019089648500085,0.020530415698886,0.010465286672115,0.007742688059807,0.012551630847156,-0.059480387717485,0.007605745457113,0.077575124800205,0.015464785508811));
res += mul(Get(s2,dx,0), float4x4(0.094276532530785,0.114179044961929,0.266375482082367,-0.110155515372753,0.071859389543533,0.055703919380903,0.202639713883400,-0.051247779279947,0.030089462175965,0.025989104062319,-0.008606968447566,0.000010440177903,-0.042164523154497,-0.038773491978645,-0.028246365487576,0.077782683074474));
res += mul(Get(s2,dx,dy), float4x4(-0.014071120880544,-0.041071236133575,0.137344613671303,-0.080319672822952,-0.030893126502633,-0.037189878523350,0.085446380078793,-0.034886483103037,-0.007585078012198,0.006743585225195,-0.015782117843628,-0.002315929159522,0.044857785105705,-0.023927962407470,0.024777984246612,0.001338871312328));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005804311484098,-0.002291872166097,0.005740656051785,0.001207735505886,-0.027700668200850,0.022069141268730,0.065765857696533,-0.039668746292591,-0.052623081952333,-0.022085575386882,-0.087321989238262,0.009112870320678,-0.013599241152406,-0.006643750239164,-0.052254389971495,0.068631157279015));
res += mul(Get(s3,-dx,0), float4x4(0.004784549586475,0.000526917341631,0.001179535058327,-0.000862953427713,0.067129872739315,0.014528934843838,0.022001817822456,-0.086912781000137,0.015238029882312,0.021066382527351,-0.074415899813175,-0.050151072442532,-0.008737958036363,0.020914793014526,-0.007671113591641,-0.015222693793476));
res += mul(Get(s3,-dx,dy), float4x4(0.007844597101212,-0.003328249789774,0.004368616733700,-0.002159861614928,0.052099537104368,-0.033339343965054,0.056772109121084,-0.032091863453388,-0.003130446653813,-0.026470342651010,-0.045721113681793,-0.030500708147883,0.038467828184366,-0.001575821544975,0.002195179928094,0.005287978332490));
res += mul(Get(s3,0,-dy), float4x4(-0.006358815357089,-0.000993729219772,-0.008108150213957,-0.003374273888767,-0.037421360611916,0.018950724974275,0.057929914444685,0.044743232429028,-0.036320511251688,-0.011175106279552,0.112147048115730,0.032624952495098,-0.018653230741620,-0.025520341470838,-0.017514942213893,0.101959802210331));
res += mul(Get(s3,0,0), float4x4(-0.010427289642394,-0.012602283619344,0.001559565658681,-0.005078448448330,0.006197642069310,0.047886777669191,0.024574832990766,-0.014266444370151,0.003432686440647,0.026563012972474,0.172662481665611,-0.006743912119418,-0.028812846168876,0.019948024302721,-0.011915011331439,0.053111724555492));
res += mul(Get(s3,0,dy), float4x4(-0.001987182069570,0.003804240375757,-0.002661278005689,0.002629569964483,0.005436905659735,-0.023351866751909,0.019787967205048,-0.016703896224499,0.010305032134056,-0.022716095671058,0.103119954466820,-0.016221407800913,0.050115261226892,0.000285302638076,-0.016431322321296,-0.008240090683103));
res += mul(Get(s3,dx,-dy), float4x4(-0.008065167814493,-0.006088111549616,-0.000162721422384,0.000794336316176,-0.017361704260111,-0.004993591457605,-0.040910921990871,0.012724194675684,-0.046397540718317,0.003125173272565,-0.026242157444358,0.010955968871713,-0.008186194114387,0.000243647329626,0.051019899547100,0.066724851727486));
res += mul(Get(s3,dx,0), float4x4(0.010901592671871,0.007341742515564,-0.011777712963521,-0.005615330766886,0.057083740830421,0.032874166965485,-0.071305215358734,-0.029869621619582,0.004535591229796,0.024626469239593,-0.037544347345829,-0.006105271168053,-0.010306358337402,0.016993325203657,0.021694829687476,0.042733944952488));
res += mul(Get(s3,dx,dy), float4x4(0.005864502862096,-0.008589004166424,-0.007984182797372,0.002408363390714,0.014908056706190,-0.020586336031556,-0.054148569703102,-0.026272127404809,0.030955284833908,-0.013833042234182,0.002720064949244,0.006548200733960,0.027835685759783,-0.006406102329493,0.015248321928084,-0.009416571818292));
return max(float4(0,0,0,0), res);
}
