sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.046272773295641,0.035894338041544,-0.054053410887718,0.020234314724803,-0.092125333845615,0.060994867235422,0.041120521724224,0.000772765604779,0.047851279377937,0.061973810195923,-0.054279185831547,-0.013243292458355,0.078257843852043,-0.085603937506676,0.141967415809631,-0.006487420760095));
res += mul(Get(s0,-dx,0), float4x4(-0.022028611972928,0.091286815702915,-0.035002388060093,-0.003114728489891,-0.069674387574196,0.084191918373108,-0.012024973519146,-0.000809165590908,0.055113971233368,-0.009443426504731,-0.061067007482052,0.017443686723709,-0.001650259364396,-0.045163631439209,0.069075554609299,0.008497150614858));
res += mul(Get(s0,-dx,dy), float4x4(-0.117137208580971,-0.048298764973879,0.040429767221212,-0.048610996454954,-0.002868238370866,0.060697384178638,-0.004780923482031,-0.100378334522247,0.033968459814787,-0.045214843004942,0.020390635356307,0.034009058028460,0.032266050577164,-0.020351635292172,-0.032718773931265,0.046157728880644));
res += mul(Get(s0,0,-dy), float4x4(-0.034171503037214,-0.114783190190792,0.058760154992342,0.091289199888706,-0.117046676576138,-0.054758135229349,0.057737879455090,0.032937739044428,0.127415239810944,-0.018844690173864,0.014346044510603,-0.021884251385927,0.002882978180423,-0.006875494960696,-0.083020634949207,-0.000186706951354));
res += mul(Get(s0,0,0), float4x4(0.044135410338640,-0.019132087007165,-0.083932168781757,-0.011574801057577,-0.006657184567302,0.007101014722139,-0.021488299593329,0.033709410578012,0.053894288837910,0.057087030261755,-0.044847931712866,-0.007972165010870,0.104647748172283,-0.064707338809967,-0.113042175769806,0.088673315942287));
res += mul(Get(s0,0,dy), float4x4(-0.101150572299957,0.049248028546572,0.051593016833067,-0.077398538589478,0.005270022433251,0.041658014059067,0.000033147240174,-0.072250135242939,-0.003608262632042,-0.017095105722547,0.063144013285637,0.015521358698606,0.077943161129951,-0.032699916511774,0.101300038397312,-0.062473826110363));
res += mul(Get(s0,dx,-dy), float4x4(-0.102737963199615,-0.069797262549400,0.062088303267956,0.089731849730015,-0.062869228422642,-0.099473193287849,0.031101908534765,-0.091592147946358,0.035741969943047,-0.048860207200050,0.012866836041212,-0.009588571265340,-0.024694584310055,-0.060095734894276,0.099377013742924,-0.053209565579891));
res += mul(Get(s0,dx,0), float4x4(-0.054953735321760,-0.107336573302746,-0.024360327050090,-0.021706402301788,0.023980922996998,-0.111552804708481,0.047438185662031,-0.186123847961426,0.077404879033566,0.009107154794037,-0.054555632174015,0.009976834058762,-0.052094813436270,0.016868840903044,0.006961752660573,-0.092031829059124));
res += mul(Get(s0,dx,dy), float4x4(-0.026476202532649,-0.012953643687069,0.032755620777607,-0.050503145903349,0.042093049734831,-0.097241632640362,0.021569345146418,-0.162624180316925,0.037949342280626,0.043314538896084,0.038862787187099,0.011960958130658,0.052423365414143,-0.048014938831329,0.052946720272303,-0.023903524503112));
res += mul(Get(s1,-dx,-dy), float4x4(0.005445153918117,0.064129956066608,0.012359490618110,-0.044905353337526,0.040543973445892,0.062526442110538,0.008498246781528,0.023796088993549,-0.006125577725470,0.019511412829161,-0.029310630634427,0.057753089815378,-0.035357970744371,-0.003781828563660,0.034537218511105,0.143407747149467));
res += mul(Get(s1,-dx,0), float4x4(0.061423666775227,0.089978985488415,-0.005393908359110,-0.075757674872875,-0.053637556731701,0.013854481279850,-0.072576880455017,0.042619861662388,-0.010962209664285,0.122678913176060,-0.045409843325615,0.071194149553776,0.000388818356441,0.081067375838757,-0.015517862513661,0.068272791802883));
res += mul(Get(s1,-dx,dy), float4x4(0.014015530236065,0.107220381498337,-0.057820424437523,-0.036890991032124,-0.021268997341394,-0.004177946597338,-0.017037156969309,0.011251741088927,-0.018993848934770,0.066014729440212,-0.060533173382282,0.014056231826544,-0.078713297843933,0.040197189897299,-0.037410195916891,-0.015865072607994));
res += mul(Get(s1,0,-dy), float4x4(-0.003792055184022,0.006090709473938,0.008581344038248,0.014587124809623,0.132110506296158,-0.014329398050904,0.012530745938420,-0.000945615931414,-0.051271326839924,-0.137473449110985,0.034682177007198,0.006327153183520,0.028552485629916,-0.099113315343857,0.041113980114460,0.139909401535988));
res += mul(Get(s1,0,0), float4x4(0.033723052591085,-0.010284521616995,0.002339735161513,-0.066145151853561,-0.051038898527622,0.010247610509396,0.010342174209654,0.019392633810639,0.057071447372437,-0.066257774829865,-0.058725472539663,0.017668962478638,0.051874563097954,-0.058940984308720,0.044692467898130,-0.094467312097549));
res += mul(Get(s1,0,dy), float4x4(0.040047265589237,0.008644085377455,-0.043882153928280,-0.037852961570024,-0.003298475639895,-0.027469171211123,0.012912279926240,-0.017501521855593,0.045708294957876,0.051096756011248,-0.090872816741467,-0.026090361177921,-0.005449326708913,-0.012377279810607,-0.035367138683796,-0.121299840509892));
res += mul(Get(s1,dx,-dy), float4x4(0.035477411001921,0.017497790977359,0.069832473993301,-0.018225461244583,0.033626768738031,-0.081009656190872,-0.041978769004345,0.016159961000085,-0.056278508156538,-0.091966003179550,0.007997410371900,0.021417595446110,0.034311834722757,-0.089373856782913,-0.011248268187046,0.089903846383095));
res += mul(Get(s1,dx,0), float4x4(0.046596840023994,-0.001115002436563,-0.005859987810254,-0.017482805997133,-0.049868740141392,-0.027493307366967,-0.110683031380177,0.030532516539097,-0.013601056300104,-0.089216634631157,-0.006571575067937,-0.001182231702842,-0.003430094802752,-0.078919380903244,0.020489856600761,-0.043644260615110));
res += mul(Get(s1,dx,dy), float4x4(0.047694656997919,-0.036735307425261,0.022074425593019,0.001935462816618,-0.027302600443363,-0.054623864591122,-0.000920864520594,0.013339122757316,-0.020190263167024,-0.047875683754683,-0.014337700791657,-0.072198078036308,-0.026259997859597,-0.054769936949015,-0.013335529714823,-0.059445101767778));
res += mul(Get(s2,-dx,-dy), float4x4(0.030759854242206,-0.024410713464022,-0.056611131876707,-0.031672563403845,-0.101544730365276,0.014082157053053,-0.004357384983450,-0.060776654630899,0.025402685627341,0.022233406081796,0.058956645429134,-0.001291701104492,-0.038278307765722,-0.005376765038818,0.068939931690693,0.023768309503794));
res += mul(Get(s2,-dx,0), float4x4(0.026164822280407,0.066534765064716,-0.101109072566032,-0.003459698520601,0.009666236117482,0.045107193291187,-0.058389041572809,0.010918076150119,0.097828976809978,-0.020293306559324,0.063045486807823,0.021010018885136,-0.086546495556831,-0.066148743033409,0.072955183684826,0.012372613884509));
res += mul(Get(s2,-dx,dy), float4x4(0.055116437375546,0.047205913811922,-0.014451964758337,-0.016358043998480,0.034140255302191,0.041142184287310,-0.009635801427066,-0.005517901852727,0.026507077738643,-0.027614407241344,0.020926864817739,0.022787416353822,0.043781284242868,-0.039798490703106,0.071783863008022,0.005769847892225));
res += mul(Get(s2,0,-dy), float4x4(0.004422978498042,-0.025292472913861,0.066402465105057,0.020031165331602,-0.085551723837852,-0.096424430608749,0.100088544189930,-0.111976899206638,0.108654193580151,-0.026714581996202,0.042989507317543,-0.035489700734615,-0.094868876039982,0.084033474326134,0.009880211204290,0.047842822968960));
res += mul(Get(s2,0,0), float4x4(0.057565551251173,-0.006481342017651,0.010156504809856,0.019436819478869,0.006286496296525,-0.059277962893248,0.010449687950313,-0.004028665367514,0.068603307008743,0.047169622033834,0.054736211895943,0.017656315118074,-0.074150249361992,0.003950115293264,0.035316903144121,0.057030871510506));
res += mul(Get(s2,0,dy), float4x4(0.057134367525578,0.052279446274042,-0.013626810163260,-0.026534663513303,0.121206097304821,-0.005351040977985,0.012648587115109,0.025603061541915,-0.043887361884117,-0.023275155574083,0.035407356917858,0.066488660871983,0.110902145504951,0.009827211499214,0.059453964233398,0.053216069936752));
res += mul(Get(s2,dx,-dy), float4x4(-0.082329377532005,-0.024584498256445,0.018684267997742,0.065937459468842,0.048295032233000,-0.103883497416973,0.032482165843248,0.029814420267940,0.043202720582485,0.002447618171573,-0.017776347696781,-0.032024316489697,-0.039631247520447,0.046341806650162,-0.013088217936456,-0.035423956811428));
res += mul(Get(s2,dx,0), float4x4(0.103039436042309,-0.066036999225616,-0.012179889716208,0.074808456003666,0.055701564997435,-0.118358857929707,0.042011849582195,0.129528716206551,0.130225926637650,0.050485339015722,0.042350735515356,-0.036669988185167,-0.037016719579697,0.127467334270477,-0.023520229384303,-0.049148604273796));
res += mul(Get(s2,dx,dy), float4x4(0.064982734620571,-0.015562375076115,0.018108174204826,0.017853708937764,0.032348521053791,-0.099945142865181,0.039359241724014,0.106595106422901,0.020242905244231,0.104498058557510,0.021647736430168,-0.011937351897359,0.053443200886250,0.112156026065350,0.014159887097776,-0.037029124796391));
res += mul(Get(s3,-dx,-dy), float4x4(-0.015695288777351,-0.000293500372209,0.069092735648155,0.104110389947891,-0.066047146916389,0.025431724265218,-0.034785740077496,0.016365734860301,-0.003026034450158,0.005218104925007,-0.017562480643392,0.008127074688673,0.020119283348322,0.054964423179626,-0.049502350389957,0.089618615806103));
res += mul(Get(s3,-dx,0), float4x4(0.003266038605943,0.006112348288298,0.062531583011150,0.046485017985106,-0.022567940875888,0.017166797071695,-0.009018962271512,0.024832792580128,-0.028794663026929,0.092130750417709,-0.079549632966518,0.052530247718096,0.121723316609859,-0.024222521111369,-0.064018353819847,0.094215057790279));
res += mul(Get(s3,-dx,dy), float4x4(-0.031294487416744,0.011687936261296,0.060350861400366,0.023868028074503,0.001826989697292,0.001844236743636,0.027884434908628,-0.032815191894770,-0.055789239704609,-0.048885971307755,-0.005807030014694,-0.006767867598683,0.035632181912661,0.003547127591446,-0.047242928296328,0.033122532069683));
res += mul(Get(s3,0,-dy), float4x4(-0.035322114825249,0.009555392898619,-0.002584244590253,0.059951450675726,-0.052477248013020,0.000529976154212,-0.044692717492580,0.008031998760998,0.036918837577105,-0.074563860893250,0.046316523104906,-0.017147643491626,0.048112601041794,0.116282232105732,-0.007020452991128,-0.048451751470566));
res += mul(Get(s3,0,0), float4x4(0.007337146438658,0.002699897624552,-0.032162800431252,0.076283164322376,-0.027725469321012,-0.013521824032068,-0.100922852754593,0.015466678887606,-0.030875481665134,0.027357453480363,0.191388249397278,-0.047770939767361,0.021227790042758,0.064692296087742,0.002278723986819,-0.067997425794601));
res += mul(Get(s3,0,dy), float4x4(-0.049239750951529,-0.006483658682555,-0.017253195866942,0.007618539035320,0.058121185749769,-0.020672380924225,-0.007423642091453,-0.019225614145398,-0.024278711527586,0.018818873912096,-0.119739606976509,0.087243393063545,0.037994552403688,0.004030662123114,-0.008355183526874,-0.069436013698578));
res += mul(Get(s3,dx,-dy), float4x4(0.003197439247742,0.031660247594118,0.082163810729980,0.013335783034563,-0.003152819117531,0.030425563454628,0.026839300990105,-0.010478040203452,-0.016852082684636,-0.023932410404086,0.013758107088506,-0.028717514127493,-0.012514500878751,0.018389472737908,0.074252970516682,-0.068682290613651));
res += mul(Get(s3,dx,0), float4x4(-0.011977562680840,0.022655859589577,-0.003930586390197,0.018709814175963,-0.048477742820978,0.007328795269132,0.037993952631950,-0.001545040984638,0.011213407851756,-0.074764616787434,0.142081245779991,0.145528823137283,-0.024030534550548,0.070106700062752,0.011855378746986,-0.069718964397907));
res += mul(Get(s3,dx,dy), float4x4(-0.028664432466030,0.010619353502989,-0.034136757254601,0.001074520056136,-0.003562578931451,-0.031047921627760,0.036808799952269,-0.014310989528894,-0.004813586361706,-0.019264120608568,0.005883727222681,0.049210090190172,0.019298695027828,0.019873220473528,0.044336471706629,-0.067487843334675));
return max(float4(0,0,0,0), res);
}
