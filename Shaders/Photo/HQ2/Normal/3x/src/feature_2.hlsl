sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.022494526579976,0.049545031040907,0.081994116306305,-0.053637541830540) * Get(-dx,-dy);
res += float4(-0.094778403639793,0.073645710945129,0.050884153693914,-0.047409813851118) * Get(-dx,0);
res += float4(0.052664771676064,-0.051543183624744,-0.007199421990663,-0.043015878647566) * Get(-dx,dy);
res += float4(-0.043787427246571,0.038771528750658,0.033494066447020,0.231837376952171) * Get(0,-dy);
res += float4(0.190054163336754,0.041608531028032,-0.010260825976729,0.047843117266893) * Get(0,0);
res += float4(-0.085597813129425,-0.050011243671179,-0.033709529787302,0.088933452963829) * Get(0,dy);
res += float4(-0.029225980862975,-0.095365382730961,-0.060907088220119,0.249720349907875) * Get(dx,-dy);
res += float4(0.087560027837753,-0.079464226961136,-0.087921634316444,-0.398331582546234) * Get(dx,0);
res += float4(0.019047696143389,-0.097120925784111,-0.062880933284760,0.075114853680134) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
