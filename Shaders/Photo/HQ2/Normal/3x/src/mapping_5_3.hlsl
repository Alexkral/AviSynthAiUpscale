sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.077213272452354,-0.005826405249536,-0.076926939189434,-0.001122854417190,-0.061798173934221,-0.010877178981900,-0.026980374008417,-0.056450102478266,0.015434325672686,-0.010170070454478,-0.014589935541153,-0.033492565155029,-0.020057899877429,-0.013154086656868,-0.060920294374228,-0.023841492831707));
res += mul(Get(s0,-dx,0), float4x4(0.012244346551597,-0.026350030675530,-0.068724580109119,0.018592055886984,-0.016141563653946,-0.013941898010671,-0.002118068048730,-0.005822615232319,0.038540180772543,0.002918481361121,0.028315184637904,-0.053806934505701,-0.068936645984650,0.003511331044137,-0.024219082668424,-0.004947727080435));
res += mul(Get(s0,-dx,dy), float4x4(0.096850790083408,-0.033894680440426,-0.063105709850788,-0.026904627680779,-0.016381461173296,-0.012312813661993,-0.005890449043363,0.067112445831299,0.120181769132614,0.001049465499818,0.032429140061140,-0.041914347559214,0.022800290957093,0.021783467382193,0.000514074810781,-0.097902856767178));
res += mul(Get(s0,0,-dy), float4x4(-0.124640583992004,0.004377120640129,-0.044380772858858,0.072189681231976,0.008500389754772,-0.008856990374625,-0.002364139538258,0.042762380093336,-0.021561590954661,-0.013140299357474,-0.011669958941638,0.010919949971139,-0.044987883418798,0.011664996854961,0.028663758188486,0.059261832386255));
res += mul(Get(s0,0,0), float4x4(-0.114557735621929,-0.024118615314364,-0.029739145189524,0.074998177587986,-0.020765699446201,-0.012023864313960,0.011690222658217,0.065204359591007,-0.012004836462438,0.001913780695759,0.029108239337802,-0.008384091779590,0.093846887350082,-0.023055674508214,0.069831058382988,0.023427577689290));
res += mul(Get(s0,0,dy), float4x4(0.091436557471752,-0.027121726423502,0.004369631875306,-0.000723129895050,0.032404158264399,-0.010881754569709,-0.049060538411140,-0.027947260066867,0.177395597100258,-0.002794042462483,-0.020539050921798,-0.019519407302141,0.059434320777655,-0.007592031732202,0.073622375726700,-0.017906665802002));
res += mul(Get(s0,dx,-dy), float4x4(-0.069886505603790,-0.002027619397268,0.087891958653927,0.029143169522285,0.039968740195036,-0.006649207323790,0.109199903905392,0.043016385287046,-0.046172801405191,-0.009431800805032,-0.020086610689759,0.023630797863007,-0.039540164172649,0.018660945817828,0.012852403335273,-0.018455352634192));
res += mul(Get(s0,dx,0), float4x4(0.068392597138882,-0.029339676722884,-0.020201742649078,0.015387540683150,0.035221017897129,-0.016392795369029,0.047356002032757,0.009133595041931,0.027443002909422,-0.004297032486647,-0.022828176617622,0.040565136820078,-0.016891786828637,-0.001865852274932,0.047239385545254,0.030441595241427));
res += mul(Get(s0,dx,dy), float4x4(0.142228141427040,-0.022495547309518,-0.047442641109228,0.004214087035507,0.107910349965096,-0.015541659668088,-0.015205674804747,-0.028225665912032,0.064785733819008,-0.007563240826130,-0.013886818662286,0.015447773970664,-0.019523825496435,-0.004628576338291,0.040238324552774,0.058802530169487));
res += mul(Get(s1,-dx,-dy), float4x4(0.011762649752200,-0.004365734755993,0.000137374794576,0.001895584748127,-0.009913522750139,-0.012706090696156,0.027764894068241,0.001347317127511,-0.067380517721176,0.011650830507278,0.020301625132561,0.035534042865038,-0.178963109850883,-0.006337615661323,-0.131086692214012,-0.056091800332069));
res += mul(Get(s1,-dx,0), float4x4(-0.020718924701214,0.002850468736142,-0.016181429848075,0.003085725475103,0.008143062703311,-0.007120076101273,0.045886088162661,-0.075066618621349,-0.040721997618675,0.010018602944911,0.069781370460987,0.096279099583626,-0.080463826656342,-0.016367698088288,-0.107284747064114,0.100419178605080));
res += mul(Get(s1,-dx,dy), float4x4(-0.027325917035341,0.004559489898384,0.007312111090869,-0.034570448100567,0.028778836131096,-0.001496857381426,0.011155615560710,-0.004265674855560,0.031893257051706,0.002534390194342,0.026286624372005,0.077606782317162,-0.047309268265963,-0.012256375513971,-0.092652268707752,0.064128123223782));
res += mul(Get(s1,0,-dy), float4x4(-0.022122098132968,-0.001733926357701,0.079977437853813,-0.034120924770832,-0.007228943519294,-0.008873452432454,0.013952361419797,-0.024622168391943,-0.039880901575089,-0.001835727947764,0.044025223702192,0.045095134526491,-0.171576753258705,-0.021848950535059,-0.020158678293228,0.044568967074156));
res += mul(Get(s1,0,0), float4x4(-0.022244459018111,-0.001349202473648,0.092834874987602,-0.087712779641151,0.012169672176242,0.011597840115428,0.018364293500781,-0.035417940467596,-0.031284380704165,0.003100576577708,0.002080167178065,0.133160829544067,-0.085966154932976,-0.025868136435747,-0.062188301235437,0.097475007176399));
res += mul(Get(s1,0,dy), float4x4(0.065578334033489,0.005173981655389,0.060102492570877,-0.050827354192734,0.060015391558409,0.015229363925755,-0.015561206266284,0.049960423260927,-0.018729744479060,0.011088707484305,0.003485343651846,0.054879039525986,-0.061842825263739,-0.000632468785625,-0.082641288638115,0.019347215071321));
res += mul(Get(s1,dx,-dy), float4x4(0.059751052409410,0.008337541483343,0.000366064283298,-0.097528658807278,0.019269153475761,-0.006177362985909,0.021053858101368,0.045984376221895,-0.024635741487145,-0.004508050158620,0.048928190022707,0.047884479165077,-0.134511172771454,-0.023460384458303,0.086819797754288,0.061815369874239));
res += mul(Get(s1,dx,0), float4x4(0.050046958029270,0.002657403703779,0.090234890580177,-0.100046470761299,0.037866298109293,0.008082908578217,-0.016868889331818,0.032586757093668,-0.032965607941151,0.003568729152903,0.061223931610584,0.023324389010668,-0.099532932043076,-0.025956878438592,0.146195977926254,0.072612188756466));
res += mul(Get(s1,dx,dy), float4x4(0.010004977695644,0.005209988914430,0.087114751338959,-0.096172057092190,0.022585175931454,0.007766094058752,-0.027495360001922,-0.023827996104956,-0.067632757127285,0.011363143101335,-0.010058443993330,-0.021307196468115,-0.011877048760653,-0.011134473606944,-0.006634034216404,0.031093785539269));
res += mul(Get(s2,-dx,-dy), float4x4(-0.008787281811237,-0.007052001077682,-0.005127978045493,-0.044508647173643,0.000683659745846,0.005678463727236,0.082695499062538,0.017381196841598,0.020275872200727,0.000780596106779,0.013641638681293,-0.062071759253740,0.077967785298824,-0.001960142981261,0.018576934933662,0.043043263256550));
res += mul(Get(s2,-dx,0), float4x4(-0.008069419302046,-0.010577671229839,-0.055119656026363,0.037757951766253,0.075315684080124,0.021912500262260,0.105849847197533,0.030527202412486,0.030101964250207,0.003607199061662,0.003789636772126,-0.091865539550781,0.010277952067554,0.003341044764966,0.008680156432092,0.013207805342972));
res += mul(Get(s2,-dx,dy), float4x4(0.005087162833661,-0.009898854419589,-0.034685049206018,0.006682918407023,0.055308222770691,0.020909223705530,0.118305966258049,-0.030955797061324,0.008868969045579,0.011122795753181,-0.007877791300416,-0.052197091281414,-0.034503463655710,0.027605131268501,0.007361575029790,0.003181776730344));
res += mul(Get(s2,0,-dy), float4x4(-0.054757367819548,0.000215118358028,-0.030674684792757,-0.024002408608794,-0.012023696675897,0.008161428384483,0.005861428100616,-0.017037946730852,0.007310285698622,-0.004292696248740,-0.044693280011415,-0.063885755836964,0.068652264773846,-0.003942673560232,0.028832700103521,0.016605759039521));
res += mul(Get(s2,0,0), float4x4(-0.067959144711494,-0.000966698862612,-0.073896661400795,0.023445274680853,-0.025370435789227,0.042619939893484,-0.030811451375484,0.087406449019909,0.002205837750807,0.006016635335982,0.061686549335718,-0.012467275373638,0.123255699872971,-0.009263872168958,-0.021460495889187,0.070417851209641));
res += mul(Get(s2,0,dy), float4x4(-0.027973569929600,-0.002198336180300,0.002612625714391,-0.046631433069706,-0.083927527070045,0.031997911632061,0.020235847681761,0.006970831658691,-0.007542444393039,0.004933531396091,0.011340443044901,-0.011431375518441,-0.063874930143356,0.007022699806839,-0.033301390707493,0.016243286430836));
res += mul(Get(s2,dx,-dy), float4x4(-0.018741168081760,0.008010961115360,-0.037805728614330,-0.075673758983612,0.012998962774873,0.002573610283434,-0.013826493173838,0.011865376494825,0.026798268780112,-0.010999776422977,-0.017588550224900,0.019459608942270,0.077990390360355,0.007145314011723,-0.004995383322239,-0.034117244184017));
res += mul(Get(s2,dx,0), float4x4(0.005998992361128,0.003349914215505,-0.010697699151933,-0.094055920839310,0.010842341929674,0.012843650765717,-0.015237225219607,0.004185604862869,0.022683838382363,-0.009902397170663,-0.040085576474667,0.057746175676584,0.050873871892691,0.001288158120587,-0.026967482641339,-0.044010680168867));
res += mul(Get(s2,dx,dy), float4x4(-0.052375417202711,0.003097820095718,0.016837714239955,-0.131631657481194,-0.107650488615036,0.016188520938158,0.020146418362856,0.017163103446364,0.005584819242358,-0.007626117672771,-0.008643177337945,0.029613137245178,0.009323540143669,0.018283169716597,-0.028769273310900,-0.014615310356021));
res += mul(Get(s3,-dx,-dy), float4x4(-0.008792777545750,0.008140779100358,0.004038251005113,-0.034527271986008,-0.050150662660599,0.002084270818159,0.001496354932897,0.007508905604482,0.014508719556034,-0.003172907279804,-0.033130131661892,0.030355326831341,0.017545111477375,0.003204436507076,0.030901852995157,0.010812945663929));
res += mul(Get(s3,-dx,0), float4x4(-0.022800782695413,-0.011647102423012,0.040267266333103,-0.098032921552658,-0.002567635616288,0.013672068715096,-0.027876356616616,0.057272784411907,-0.023042170330882,0.011480867862701,0.012306767515838,-0.036966413259506,0.018619425594807,-0.001878015347756,0.024623857811093,0.039815563708544));
res += mul(Get(s3,-dx,dy), float4x4(-0.037140361964703,0.008692557923496,-0.013594867661595,-0.069159254431725,0.009324505925179,0.007082718890160,-0.021022839471698,0.037430882453918,-0.017754359170794,0.005720506422222,-0.030383279547095,-0.051535718142986,-0.016576312482357,0.011537049897015,-0.015591988340020,0.041602261364460));
res += mul(Get(s3,0,-dy), float4x4(-0.018292520195246,0.014395244419575,0.016055362299085,-0.025574974715710,-0.051288399845362,0.003041976131499,-0.002747649792582,-0.024286007508636,0.076190538704395,-0.032432503998280,-0.019177002832294,-0.021519483998418,0.022018659859896,0.001139166415669,-0.014949535951018,-0.049587804824114));
res += mul(Get(s3,0,0), float4x4(-0.036926731467247,-0.015185020864010,0.145537272095680,-0.047608885914087,0.005376811139286,0.015053155831993,-0.046743866056204,0.035070877522230,-0.084731809794903,0.045072324573994,-0.015505718998611,0.065843783318996,0.008678811602294,0.014632304199040,0.000281677377643,-0.004029634874314));
res += mul(Get(s3,0,dy), float4x4(-0.000949337612838,-0.007225066889077,0.106110386550426,-0.058147195726633,-0.019142178818583,0.004658487625420,-0.049784224480391,-0.013515572063625,-0.043751060962677,0.031884737312794,-0.062937550246716,0.009285069070756,0.000948746223003,0.017493162304163,-0.005176012404263,0.053139511495829));
res += mul(Get(s3,dx,-dy), float4x4(0.059325899928808,0.005500661674887,0.030994322150946,-0.040360908955336,0.008402104489505,-0.004530145321041,0.009914332069457,-0.040498446673155,0.010594120249152,-0.040093261748552,0.070794433355331,0.046029385179281,-0.012873450294137,-0.010016105137765,-0.063898943364620,-0.091153837740421));
res += mul(Get(s3,dx,0), float4x4(0.031889963895082,0.000543927715626,0.065747454762459,-0.056187365204096,0.022857785224915,0.001197001314722,-0.017076736316085,0.004536034073681,-0.042736656963825,0.023566406220198,-0.009474420920014,0.030389649793506,0.002438033232465,0.019683517515659,-0.028277035802603,-0.045662354677916));
res += mul(Get(s3,dx,dy), float4x4(0.039415493607521,-0.003668981371447,0.126013949513435,-0.052421707659960,-0.067863695323467,-0.009956040419638,-0.036786694079638,0.025005199015141,-0.049950256943703,0.022018104791641,-0.079641394317150,-0.076138727366924,0.031410720199347,0.025223951786757,0.037927735596895,0.024695472791791));
return max(float4(0,0,0,0), res);
}
