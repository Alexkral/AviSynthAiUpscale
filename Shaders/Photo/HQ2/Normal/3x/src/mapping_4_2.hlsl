sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.063212886452675,-0.037553176283836,-0.012228527106345,-0.089723721146584,0.003300122683868,0.032371699810028,0.001300135860220,-0.056139595806599,0.003570284228772,0.002289006020874,-0.013447963632643,-0.082107126712799,-0.008845288306475,0.007672991137952,0.004533155355603,0.010509799234569));
res += mul(Get(s0,-dx,0), float4x4(-0.002100593876094,0.002035528421402,-0.032309539616108,-0.040581021457911,0.013650855049491,0.074476853013039,-0.025899335741997,-0.104532152414322,-0.037922274321318,0.028175311163068,-0.076527863740921,0.048323877155781,-0.052994940429926,0.002467167098075,0.039022691547871,0.090829409658909));
res += mul(Get(s0,-dx,dy), float4x4(-0.007976041175425,-0.009463684633374,-0.027085019275546,-0.039892271161079,-0.008258454501629,0.078693538904190,0.024050397798419,-0.068891689181328,0.004005675669760,0.025556679815054,-0.039897136390209,0.096477337181568,-0.090529441833496,-0.011035996489227,0.014884900301695,-0.071809910237789));
res += mul(Get(s0,0,-dy), float4x4(0.001761949388310,-0.058445602655411,-0.033010344952345,-0.087175935506821,-0.034674044698477,0.014808760024607,-0.165359556674957,-0.068999148905277,0.071451887488365,0.025442579761147,0.021665224805474,-0.031631045043468,0.019076187163591,-0.016410280019045,-0.016552932560444,0.010261560790241));
res += mul(Get(s0,0,0), float4x4(-0.049505844712257,-0.011307596229017,-0.039704784750938,-0.056135654449463,-0.058123610913754,0.156288444995880,-0.148072659969330,-0.111288137733936,0.046626478433609,0.033907644450665,0.026074785739183,0.065660700201988,0.108296342194080,-0.093475505709648,-0.049043677747250,0.113358192145824));
res += mul(Get(s0,0,dy), float4x4(-0.022098287940025,-0.025928195565939,-0.035652652382851,0.057203985750675,-0.049547206610441,0.026046330109239,-0.022629212588072,-0.015826029703021,0.014528933912516,0.062736093997955,0.006367033347487,0.086072854697704,0.103675737977028,-0.038520198315382,-0.103502616286278,0.058488082140684));
res += mul(Get(s0,dx,-dy), float4x4(-0.026908678933978,-0.041967287659645,-0.053750410676003,-0.049571197479963,0.037353344261646,0.146664485335350,-0.004315487109125,-0.038467548787594,-0.040599510073662,0.003535495838150,0.026449661701918,-0.066861242055893,0.001927113742568,-0.107560351490974,0.001852221088484,0.021391004323959));
res += mul(Get(s0,dx,0), float4x4(-0.034168582409620,-0.002008632756770,-0.029945544898510,-0.019442221149802,-0.015752432867885,0.155180916190147,0.069673903286457,-0.077750988304615,-0.005243570543826,-0.018744615837932,0.005086204968393,-0.020936531946063,0.052532907575369,-0.082480795681477,-0.085588745772839,0.043833829462528));
res += mul(Get(s0,dx,dy), float4x4(-0.020348355174065,-0.004372759722173,0.035576090216637,0.070110037922859,-0.012997751124203,0.054188694804907,-0.041674859821796,-0.034812968224287,-0.006068600341678,0.054973118007183,-0.032919786870480,-0.032387986779213,0.138377517461777,-0.063466474413872,-0.087167657911777,0.030956350266933));
res += mul(Get(s1,-dx,-dy), float4x4(-0.078915469348431,-0.088251821696758,-0.003240601159632,-0.055730942636728,-0.029176760464907,-0.032561052590609,0.035387780517340,-0.003318630391732,0.001101300469600,-0.079688958823681,0.098537988960743,-0.005128195974976,-0.025392096489668,-0.036749012768269,-0.016694629564881,-0.012692072428763));
res += mul(Get(s1,-dx,0), float4x4(-0.109064497053623,0.000685250619426,0.011773072183132,-0.022480184212327,-0.024249602109194,-0.046164572238922,0.014220895245671,-0.011131126433611,-0.043359536677599,-0.015592518262565,0.077873080968857,-0.010442134924233,-0.030358085408807,-0.047493066638708,0.032549608498812,0.043414447456598));
res += mul(Get(s1,-dx,dy), float4x4(-0.069032922387123,0.009140317328274,0.012841598130763,-0.036759573966265,-0.050680972635746,0.003889181884006,-0.016495203599334,-0.003041566349566,-0.026181448251009,-0.024866703897715,0.020946398377419,-0.070819333195686,-0.023525319993496,-0.008968998678029,0.013477789238095,-0.035160318017006));
res += mul(Get(s1,0,-dy), float4x4(-0.045445512980223,-0.112081259489059,0.041186101734638,0.093889780342579,-0.011659517884254,-0.054112330079079,0.019130004569888,-0.071268394589424,0.002250236924738,0.063506059348583,0.083570085465908,-0.007239374332130,-0.033850207924843,-0.008047658018768,0.013115420937538,-0.011853359639645));
res += mul(Get(s1,0,0), float4x4(0.001775639248081,-0.008019575849175,-0.027897164225578,0.097613699734211,0.003492419840768,-0.016736155375838,-0.022166948765516,-0.020021608099341,-0.000724312150851,0.022183898836374,0.136693835258484,0.037745967507362,-0.036967530846596,-0.050595991313457,0.028909137472510,0.071523159742355));
res += mul(Get(s1,0,dy), float4x4(-0.024147398769855,0.078571952879429,-0.045396819710732,0.001291140797548,-0.036701519042253,0.006599745713174,-0.028754368424416,0.028077099472284,-0.016488274559379,0.022263957187533,0.092652350664139,-0.166524201631546,-0.009333449415863,-0.031179552897811,0.101347483694553,0.018764678388834));
res += mul(Get(s1,dx,-dy), float4x4(-0.011791834607720,-0.119729511439800,-0.116226151585579,0.017739310860634,0.054304700344801,-0.048378985375166,-0.031574424356222,-0.022513417527080,-0.030572770163417,0.013567470014095,-0.042598098516464,-0.113096095621586,-0.024694392457604,0.023256471380591,0.011189302429557,0.026321316137910));
res += mul(Get(s1,dx,0), float4x4(0.060470238327980,-0.027417063713074,-0.132040381431580,0.095273539423943,0.088844977319241,0.023258961737156,-0.062096178531647,0.057237166911364,0.087266407907009,-0.031166486442089,-0.121502958238125,0.040399882942438,-0.001312178676017,0.013642050325871,-0.019907010719180,0.033335860818624));
res += mul(Get(s1,dx,dy), float4x4(0.015191366896033,0.016557108610868,-0.074902765452862,0.029110034927726,0.036012660712004,-0.027582412585616,-0.059883188456297,0.039210475981236,0.075031168758869,-0.053390085697174,-0.025729851797223,0.024974260479212,-0.000791743397713,0.079216696321964,-0.048957791179419,-0.000462508585770));
res += mul(Get(s2,-dx,-dy), float4x4(-0.039864297956228,-0.051785837858915,-0.039088409394026,0.026205884292722,0.028307948261499,-0.034053660929203,-0.082913316786289,-0.151573181152344,0.010735214687884,0.006738116033375,0.038658078759909,0.070565246045589,0.005074170883745,0.035800203680992,-0.087025888264179,-0.017536869272590));
res += mul(Get(s2,-dx,0), float4x4(-0.029932685196400,-0.038543585687876,0.036379590630531,-0.017131054773927,0.009786358103156,0.055773258209229,0.006663553416729,-0.041975222527981,-0.030381554737687,0.014608718454838,0.027477938681841,-0.025864087045193,0.002714037196711,0.057991955429316,-0.030686328187585,0.049260012805462));
res += mul(Get(s2,-dx,dy), float4x4(-0.077386148273945,-0.120789311826229,0.066228769719601,-0.132155656814575,0.017338361591101,0.013029954396188,0.025803031399846,0.063074633479118,-0.066633820533752,0.062490232288837,0.030456421896815,-0.062706291675568,0.044879671186209,-0.000037356956454,0.048681121319532,0.050273433327675));
res += mul(Get(s2,0,-dy), float4x4(-0.026712486520410,0.122137717902660,0.020113337785006,0.089298807084560,0.045663185417652,-0.007845031097531,-0.023241046816111,-0.080171786248684,0.018402408808470,0.105524368584156,0.018585439771414,0.024102462455630,-0.023521287366748,-0.012091211974621,0.045132461935282,0.056469436734915));
res += mul(Get(s2,0,0), float4x4(-0.036918558180332,0.024386938661337,0.002628386486322,0.031123466789722,0.007882700301707,0.049199838191271,0.039840422570705,0.028142444789410,0.005077357869595,0.018903184682131,0.020946215838194,-0.075230620801449,-0.050756115466356,0.015413081273437,0.080486655235291,0.110823161900043));
res += mul(Get(s2,0,dy), float4x4(-0.045995876193047,-0.157944753766060,0.066428326070309,-0.026376178488135,0.002076157368720,0.036400046199560,-0.019919721409678,0.018857764080167,0.002784120151773,-0.014193311333656,0.028587210923433,-0.089899905025959,-0.054565630853176,-0.053682301193476,0.116702601313591,-0.003294546157122));
res += mul(Get(s2,dx,-dy), float4x4(-0.008783269673586,0.047101054340601,-0.032886575907469,0.029777143150568,-0.042698957026005,0.009383154101670,-0.004327530041337,0.077800437808037,0.000789181853179,0.069298863410950,0.024581417441368,0.033566202968359,-0.022886905819178,-0.005165143869817,0.026693455874920,-0.028880404308438));
res += mul(Get(s2,dx,0), float4x4(0.020774871110916,-0.010822065174580,-0.162095651030540,-0.050029579550028,-0.036223519593477,0.068591460585594,-0.046237073838711,0.068121597170830,0.007329970598221,-0.098125986754894,0.006726776249707,-0.007416832726449,-0.027954507619143,0.012036198750138,0.027692865580320,-0.015967577695847));
res += mul(Get(s2,dx,dy), float4x4(-0.000614208925981,-0.167130827903748,-0.128224298357964,-0.026572711765766,0.004453715868294,0.047629777342081,-0.048106640577316,0.074344076216221,-0.037175975739956,-0.069142431020737,-0.077280387282372,-0.055944636464119,-0.042740050703287,0.019600175321102,-0.013754383660853,-0.080434441566467));
res += mul(Get(s3,-dx,-dy), float4x4(0.000167012301972,-0.027397079393268,0.089108400046825,-0.077303126454353,-0.069974087178707,-0.022680113092065,-0.057198386639357,-0.040358494967222,-0.015979634597898,0.077390924096107,0.082444742321968,0.129073649644852,0.001686919829808,0.046688470989466,-0.010650517418981,0.051223825663328));
res += mul(Get(s3,-dx,0), float4x4(-0.020863354206085,-0.054601099342108,0.114672414958477,0.025437289848924,-0.017795136198401,-0.000701927463524,-0.075329370796680,0.067936450242996,-0.036980833858252,0.057186301797628,0.075493954122066,0.062904782593250,-0.022849559783936,0.025657476857305,0.030227921903133,0.038943126797676));
res += mul(Get(s3,-dx,dy), float4x4(-0.035811550915241,-0.014076851308346,0.097352102398872,-0.022496748715639,-0.000543811940588,-0.050764944404364,-0.030385544523597,0.118207477033138,0.007154163438827,-0.031252313405275,0.052412100136280,0.012102411128581,-0.017526203766465,-0.030405083671212,-0.022939294576645,-0.083149179816246));
res += mul(Get(s3,0,-dy), float4x4(0.019423538818955,-0.032477043569088,0.104108281433582,0.071754932403564,-0.044959273189306,0.000498455134220,0.090136677026749,-0.021484879776835,0.002872822573408,0.012316902168095,0.039588388055563,0.121453545987606,0.030975036323071,-0.010633850470185,0.102294154465199,0.078686445951462));
res += mul(Get(s3,0,0), float4x4(0.008494114503264,0.004624037537724,0.098662324249744,0.179935812950134,-0.063052795827389,0.017436135560274,0.082526095211506,0.094138741493225,0.095041297376156,0.009647086262703,-0.020012078806758,0.018617834895849,0.085330821573734,-0.007753287442029,0.032505467534065,-0.003575274953619));
res += mul(Get(s3,0,dy), float4x4(-0.025259485468268,0.166095301508904,0.070935823023319,-0.067431926727295,-0.053521975874901,0.005591958295554,-0.070035167038441,0.001412974204868,0.098861895501614,-0.004686092026532,-0.020018123090267,-0.003180706175044,0.076162733137608,0.020277719944715,-0.004815442487597,-0.099854961037636));
res += mul(Get(s3,dx,-dy), float4x4(0.018947189673781,0.025544842705131,0.008415655232966,0.074001289904118,0.058190256357193,-0.044702816754580,-0.030502181500196,-0.010856167413294,0.096083134412766,-0.009952642954886,0.014887113124132,0.031362239271402,-0.004291008226573,-0.043984871357679,0.043390791863203,0.056862276047468));
res += mul(Get(s3,dx,0), float4x4(0.082173280417919,0.033631779253483,-0.021492263302207,0.141623109579086,0.092283882200718,-0.097971290349960,0.064303882420063,0.100450806319714,0.064440310001373,0.037415448576212,0.039092924445868,-0.026254709810019,0.034341648221016,0.027634870260954,-0.013962280005217,-0.085394635796547));
res += mul(Get(s3,dx,dy), float4x4(-0.069845825433731,0.161527901887894,-0.038935583084822,-0.033101674169302,0.051262602210045,-0.013243699446321,-0.037079375237226,-0.081056423485279,-0.025920880958438,0.005621537566185,0.028107352554798,-0.058326520025730,-0.015501643531024,0.056615587323904,-0.040677543729544,-0.108690746128559));
return max(float4(0,0,0,0), res);
}
