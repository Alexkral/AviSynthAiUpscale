sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.010514822788537,-0.000885502668098,0.012246935628355,0.018743449822068,0.001187245245092,-0.002204743446782,0.002894063014537,-0.004320693667978,-0.006602147594094,0.009295774623752,-0.002668715547770,0.003693091450259,-0.025043172761798,-0.011630796827376,-0.036082066595554,0.002311982912943));
res += mul(Get(s0,-dx,0), float4x4(0.002577966311947,0.007685900200158,-0.006415865849704,0.016641668975353,0.001562568824738,-0.000536813517101,0.002177404239774,-0.007003406528383,0.007712699007243,0.007829158566892,-0.001746700028889,-0.002502511953935,-0.011703508906066,-0.020833097398281,-0.028127968311310,0.015877803787589));
res += mul(Get(s0,-dx,dy), float4x4(0.008319480344653,0.017168017104268,0.008133321069181,0.013980816118419,-0.005974380299449,-0.003385351039469,-0.003401605412364,-0.001957048894837,-0.004358649253845,-0.006756491493434,-0.004197722766548,0.014704257249832,-0.023108225315809,-0.022163312882185,-0.039308413863182,0.020641636103392));
res += mul(Get(s0,0,-dy), float4x4(0.004209355916828,-0.004074398428202,0.010306619107723,0.014889036305249,-0.002644218271598,-0.006477890536189,0.003065072465688,-0.001850789063610,-0.002276390790939,-0.004136206116527,-0.003494964214042,0.006419834680855,-0.020476561039686,0.007768928073347,-0.003466171445325,-0.033502068370581));
res += mul(Get(s0,0,0), float4x4(-0.002190743107349,-0.002763946307823,-0.000439356226707,0.017355380579829,0.001205548411235,0.014723976142704,-0.000213581894059,0.003298352006823,-0.003388124750927,-0.006045555695891,-0.000519583525602,0.005514396354556,-0.007022024132311,-0.011496070772409,0.002771981060505,-0.021119058132172));
res += mul(Get(s0,0,dy), float4x4(0.006111560855061,0.013481454923749,0.003593982663006,0.013613847084343,-0.001868193852715,0.002620827173814,0.007342862430960,-0.004565406590700,-0.002494712360203,-0.004753225948662,0.002628960879520,0.001673656282946,-0.027829021215439,-0.035807684063911,-0.018887838348746,-0.028827534988523));
res += mul(Get(s0,dx,-dy), float4x4(0.005651933606714,0.003169565461576,0.015598687343299,0.005642551928759,0.004315602127463,0.004624005407095,-0.001248512184247,0.006760206073523,0.006337347440422,0.003577613271773,0.007152344565839,-0.000547955802176,0.025191403925419,0.016209369525313,-0.005619402509183,-0.004918795078993));
res += mul(Get(s0,dx,0), float4x4(-0.005006431601942,0.002975444076583,-0.011928786523640,0.001998723018914,0.002707291860133,-0.004177098628134,0.004099126905203,-0.001366989803500,0.001947682816535,0.000101676363556,-0.006424507591873,0.003640834940597,0.061802148818970,0.028471807017922,0.020130803808570,-0.021809391677380));
res += mul(Get(s0,dx,dy), float4x4(0.003160139778629,-0.002427786821499,0.004308340139687,0.013761970214546,0.014509743079543,0.002345811575651,0.008465962484479,-0.007794669363648,0.002194756176323,-0.005401573143899,-0.002607929287478,0.006170631386340,0.047473073005676,-0.000683672842570,0.015035559423268,-0.033157248049974));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024078279733658,-0.012860551476479,0.004112158901989,-0.001146771828644,0.009737642481923,0.021909346804023,0.017503600567579,0.007341931574047,0.010380899533629,0.029471339657903,0.000635348318610,0.023011690005660,-0.004372606519610,0.005658921319991,-0.064698219299316,0.006239025387913));
res += mul(Get(s1,-dx,0), float4x4(-0.010925236158073,-0.031807322055101,-0.003604770172387,-0.008371585980058,0.004458507988602,0.010555550456047,0.001493204617873,0.038123399019241,0.004780902992934,0.028074016794562,-0.003550925990567,0.027094589546323,-0.021586889401078,-0.004347354173660,-0.040226191282272,0.048535615205765));
res += mul(Get(s1,-dx,dy), float4x4(-0.010689219459891,-0.029875680804253,-0.020893249660730,0.005929344333708,-0.010664628818631,0.002115365117788,0.008206426165998,0.041492119431496,-0.003865553531796,0.000957625801675,0.004551007878035,0.024629006162286,-0.034578599035740,-0.062961481511593,-0.048288621008396,0.008465179242194));
res += mul(Get(s1,0,-dy), float4x4(-0.010084517300129,0.023879844695330,0.013823022134602,-0.004031121265143,0.002020114334300,0.007727035786957,0.001157123944722,0.027671724557877,0.001099621877074,0.015219204127789,-0.001485919929110,0.019271198660135,-0.036867141723633,0.016891876235604,-0.027282763272524,-0.011265769600868));
res += mul(Get(s1,0,0), float4x4(0.016639348119497,-0.010345314629376,0.025603115558624,-0.024820227175951,-0.006690406706184,0.000873215147294,0.001818045973778,0.034650415182114,-0.006502812728286,0.003791772993281,0.000628641690128,0.033060766756535,-0.035428121685982,0.011006015352905,0.005590940359980,-0.009663539007306));
res += mul(Get(s1,0,dy), float4x4(-0.009989032521844,-0.019310807809234,-0.018890721723437,-0.015630772337317,-0.004121075384319,-0.004227277822793,0.007798835635185,0.029680848121643,-0.004041348583996,-0.013099011033773,0.002173370681703,0.027574365958571,-0.020507825538516,-0.057263880968094,0.007708553224802,-0.068346746265888));
res += mul(Get(s1,dx,-dy), float4x4(0.023922836408019,0.032715298235416,0.021580584347248,-0.012291694059968,-0.014541552402079,0.025111541152000,0.021016556769609,0.038455791771412,-0.002312177093700,0.023743290454149,0.011837068945169,0.036106627434492,0.064441025257111,0.013212001882493,-0.012681595049798,-0.005769153591245));
res += mul(Get(s1,dx,0), float4x4(0.066255956888199,0.004424428101629,0.015460217371583,-0.016320632770658,-0.005851534660906,0.016263954341412,0.019856534898281,0.013466691598296,-0.016321841627359,0.014367519877851,0.014958059415221,0.021799894049764,0.061495743691921,0.029137130826712,0.023527419194579,-0.021081781014800));
res += mul(Get(s1,dx,dy), float4x4(0.000351599679561,0.004897789563984,-0.013826259411871,-0.013067152351141,-0.024887399747968,0.014217132702470,0.017156120389700,0.013730387203395,-0.010256499052048,0.013925476931036,0.019748240709305,0.011800710111856,0.073663383722305,0.002110451692715,0.020631572231650,-0.053490832448006));
res += mul(Get(s2,-dx,-dy), float4x4(-0.101116664707661,-0.053245030343533,-0.093153253197670,0.079434029757977,-0.078591100871563,-0.077016063034534,-0.021256344392896,0.038175579160452,0.024617474526167,0.015550618991256,0.023639447987080,0.018024705350399,-0.019981898367405,0.006889555137604,-0.044301621615887,-0.029997192323208));
res += mul(Get(s2,-dx,0), float4x4(-0.155220851302147,-0.141642197966576,-0.072868056595325,0.090614914894104,-0.051875028759241,-0.084735088050365,-0.013900560326874,-0.000547533796635,-0.000413443427533,-0.002509843558073,-0.004439226351678,0.013398804701865,-0.023965714499354,0.000527353608049,-0.044064138084650,0.013150275684893));
res += mul(Get(s2,-dx,dy), float4x4(-0.080135747790337,-0.091869466006756,-0.090522214770317,0.066191472113132,-0.022086661309004,-0.025112818926573,-0.038610886782408,0.013681238517165,0.004201539326459,0.028616940602660,0.005309983156621,0.007601025514305,-0.080626308917999,-0.088562838733196,-0.057665251195431,0.003728336421773));
res += mul(Get(s2,0,-dy), float4x4(-0.100103750824928,0.008893588557839,0.022715618833899,-0.042846202850342,-0.049919534474611,-0.006731412373483,0.089057005941868,-0.065088443458080,0.016875378787518,0.010501091368496,0.021523294970393,0.013242272660136,0.012811100110412,0.051957797259092,-0.046053744852543,0.014663147740066));
res += mul(Get(s2,0,0), float4x4(-0.034314140677452,-0.161358311772346,0.071928255259991,-0.128069609403610,0.012022799812257,-0.080932356417179,0.056866608560085,-0.106463782489300,-0.005511324387044,0.001621077884920,0.008153053931892,0.006996751297265,0.008280252106488,0.043206915259361,-0.022704361006618,0.050146583467722));
res += mul(Get(s2,0,dy), float4x4(-0.065685927867889,-0.126823350787163,-0.057043723762035,-0.114254884421825,-0.072795473039150,-0.040283631533384,-0.056427352130413,-0.039125807583332,-0.005760804284364,0.035077601671219,0.001607849728316,0.012053402140737,0.004143700003624,-0.062869206070900,-0.007633564993739,-0.012256003916264));
res += mul(Get(s2,dx,-dy), float4x4(0.162841692566872,0.147307410836220,0.109232366085052,-0.064269632101059,0.126035958528519,0.123105414211750,0.095764249563217,-0.068269290030003,0.013748535886407,0.013032914139330,0.031112745404243,0.009455640800297,0.077901750802994,0.029019907116890,-0.031405601650476,0.032749496400356));
res += mul(Get(s2,dx,0), float4x4(0.307288736104965,0.004127316642553,0.169554874300957,-0.192623540759087,0.178155213594437,0.034781321883202,0.034223224967718,-0.074445813894272,-0.004815037827939,-0.000167110454640,0.006141369696707,0.019999468699098,0.037232492119074,0.027081809937954,0.005283092614263,0.034668445587158));
res += mul(Get(s2,dx,dy), float4x4(0.104467593133450,-0.016010837629437,-0.039578732103109,-0.112380594015121,0.047199610620737,0.033372942358255,-0.074188433587551,-0.012469649314880,0.001683844951913,0.029485331848264,-0.002522079274058,0.026512380689383,0.079346477985382,-0.060045998543501,0.024935882538557,-0.047214146703482));
res += mul(Get(s3,-dx,-dy), float4x4(0.004301347769797,-0.005590187385678,-0.004482210613787,0.000193733911146,-0.048114288598299,0.060166347771883,0.006070582196116,0.054202865809202,-0.063986055552959,-0.040213238447905,-0.013336406089365,-0.040018398314714,0.040141329169273,0.023276535794139,-0.076081603765488,0.022333567962050));
res += mul(Get(s3,-dx,0), float4x4(-0.000223622133490,-0.008676890283823,-0.004652741830796,-0.004336384125054,-0.096990130841732,0.002401150530204,-0.037280075252056,0.106473281979561,-0.044735126197338,-0.070011317729950,0.014115071855485,-0.041157051920891,-0.010309845209122,-0.067672669887543,-0.043319255113602,0.060630556195974));
res += mul(Get(s3,-dx,dy), float4x4(-0.008373940363526,0.009917319752276,0.003018277231604,-0.008551858365536,-0.014478460885584,0.069929279386997,-0.053135827183723,0.047272663563490,-0.037729196250439,-0.069676019251347,-0.018359672278166,-0.035204738378525,0.034893341362476,-0.094626367092133,-0.062908172607422,0.045169401913881));
res += mul(Get(s3,0,-dy), float4x4(-0.003968650475144,0.001658678287640,0.000114358794235,-0.005096151027828,-0.054156206548214,-0.020417025312781,0.001002453151159,0.059275608509779,0.050066120922565,0.072100937366486,0.016350604593754,-0.005771401338279,-0.017047926783562,0.082797706127167,-0.045170664787292,0.018020760267973));
res += mul(Get(s3,0,0), float4x4(-0.001803670194931,0.002502534771338,0.002085956046358,0.004427071195096,-0.109618395566940,-0.059957880526781,-0.000949067762122,0.110799968242645,0.088348172605038,0.054215036332607,0.048339411616325,-0.025696709752083,-0.043226987123489,0.024499332532287,0.031602378934622,0.016034495085478));
res += mul(Get(s3,0,dy), float4x4(0.020092807710171,0.006361310835928,-0.004042513668537,0.006590060424060,-0.008989763446152,-0.010806839913130,-0.013418773189187,0.043385073542595,0.056207146495581,0.006328114774078,-0.008368954993784,-0.022848913446069,0.001081709517166,-0.102988392114639,-0.011388802900910,-0.018195614218712));
res += mul(Get(s3,dx,-dy), float4x4(-0.003013539593667,-0.005096288397908,0.005452022422105,0.002435090485960,-0.025799408555031,0.016729975119233,0.052492234855890,0.051127981394529,0.009172236546874,0.071025617420673,-0.004465511068702,0.004891323391348,0.019242165610194,0.048294130712748,-0.030595147982240,0.080282598733902));
res += mul(Get(s3,dx,0), float4x4(-0.004528295248747,0.000771892489865,-0.006717949174345,-0.003847660264000,-0.045937396585941,-0.023757351562381,0.043902486562729,0.007287784945220,0.059465866535902,0.081776544451714,0.019705487415195,-0.001948955236003,0.030507808551192,0.096761502325535,0.073861435055733,-0.002460460411385));
res += mul(Get(s3,dx,dy), float4x4(-0.005535344593227,0.010244089178741,-0.008732959628105,0.003230989445001,0.019958730787039,-0.011016421020031,-0.002763415919617,-0.002088091336191,0.031971167773008,0.040005750954151,-0.045543316751719,-0.006871493067592,0.029431173577905,-0.021430676802993,0.015566212125123,-0.056114695966244));
return max(float4(0,0,0,0), res);
}
