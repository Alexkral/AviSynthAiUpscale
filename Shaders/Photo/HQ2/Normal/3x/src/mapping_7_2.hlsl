sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.026863673701882,-0.005627752747387,0.001371067482978,-0.079243183135986,-0.032679308205843,-0.076734408736229,-0.081613697111607,-0.051432486623526,-0.000106730847619,0.020831786096096,0.014262082986534,0.018791629001498,-0.025952011346817,-0.006635981611907,0.005091266240925,0.003017048817128));
res += mul(Get(s0,-dx,0), float4x4(-0.061457194387913,0.049994859844446,0.005700932815671,0.005565775558352,-0.064354553818703,-0.039041478186846,-0.108134806156158,-0.031427599489689,0.047154188156128,0.061418347060680,-0.001273616217077,0.043287102133036,-0.024305567145348,-0.023060858249664,0.034319560974836,-0.035913828760386));
res += mul(Get(s0,-dx,dy), float4x4(-0.036393161863089,0.041617508977652,-0.030535969883204,0.028681134805083,-0.073769152164459,-0.013482915237546,-0.048263810575008,0.008872115053236,0.121610783040524,-0.009408275596797,-0.009372863918543,0.051848784089088,0.019312169402838,-0.015058373101056,-0.007884738966823,-0.057598408311605));
res += mul(Get(s0,0,-dy), float4x4(-0.038208436220884,-0.042854662984610,0.020435042679310,-0.030518680810928,0.127019301056862,-0.047075901180506,0.011638732627034,-0.022097833454609,-0.056484322994947,0.067807935178280,0.032045666128397,0.043340798467398,-0.007975417189300,0.015064967796206,-0.011963979341090,-0.011345321312547));
res += mul(Get(s0,0,0), float4x4(0.043321009725332,-0.027766196057200,0.023983266204596,0.040731728076935,-0.105582661926746,0.013299847021699,0.040787402540445,0.044503066688776,0.008730436675251,0.066633395850658,0.032695032656193,0.088572248816490,-0.008858243003488,0.038441784679890,-0.028823599219322,-0.028140142560005));
res += mul(Get(s0,0,dy), float4x4(-0.054058998823166,0.037227880209684,0.066866196691990,0.028956864029169,0.042741913348436,-0.028345337137580,-0.019142799079418,0.030478529632092,0.172619134187698,-0.033703342080116,0.006207032594830,0.060006875544786,0.006276311352849,0.044867351651192,-0.009033042006195,-0.038189686834812));
res += mul(Get(s0,dx,-dy), float4x4(-0.000872207107022,-0.034739226102829,0.047363866120577,-0.009515168145299,-0.006740857381374,-0.030539881438017,0.055676583200693,0.016864271834493,-0.042180657386780,0.042323123663664,0.011075321584940,0.008772050030529,-0.002900615567341,-0.011568990536034,-0.017440762370825,0.007727248128504));
res += mul(Get(s0,dx,0), float4x4(-0.033225979655981,-0.050810046494007,0.034392088651657,0.031337406486273,-0.017392739653587,-0.040988225489855,0.037714846432209,0.028523482382298,0.072492338716984,0.051325056701899,-0.013971875421703,0.023298399522901,0.014385268092155,-0.025500860065222,-0.027280872687697,-0.047666914761066));
res += mul(Get(s0,dx,dy), float4x4(0.014496555551887,0.001180016319267,0.028372419998050,0.034784644842148,-0.020062506198883,-0.063580326735973,0.062111746519804,-0.005518090445548,0.143650740385056,-0.001923880074173,0.012929053977132,-0.035367451608181,0.017006088048220,-0.002352149924263,-0.015380700118840,-0.046131324023008));
res += mul(Get(s1,-dx,-dy), float4x4(-0.047580629587173,0.020468717440963,0.044008221477270,0.042113643139601,-0.049285098910332,0.021197471767664,0.054139301180840,0.009210398420691,-0.034448649734259,0.003046192927286,-0.014414210803807,-0.047741010785103,0.024528509005904,-0.002556375926360,0.008844085037708,0.035448919981718));
res += mul(Get(s1,-dx,0), float4x4(-0.007305254694074,0.036271050572395,0.066262625157833,0.023648470640182,0.038578610867262,-0.017944600433111,0.077915579080582,0.049002606421709,-0.045896846801043,-0.006264258176088,-0.003076051827520,0.077503927052021,-0.062038015574217,0.046318486332893,-0.016861578449607,0.078460879623890));
res += mul(Get(s1,-dx,dy), float4x4(-0.005370274651796,-0.013485039584339,0.071080349385738,-0.043519601225853,0.010746235959232,0.009310212917626,0.085980951786041,-0.032420210540295,-0.016604900360107,-0.004560388624668,0.011255394667387,0.046400245279074,0.005646945908666,0.044294118881226,-0.002162205521017,0.028405614197254));
res += mul(Get(s1,0,-dy), float4x4(0.001352527644485,0.012523550540209,-0.019696978852153,0.045471709221601,-0.047852516174316,0.007198421284556,0.042669646441936,0.085351794958115,-0.005964856129140,-0.015375589951873,0.013644549995661,-0.007854419760406,0.079312331974506,-0.042725995182991,-0.048095948994160,0.011667290702462));
res += mul(Get(s1,0,0), float4x4(0.074550360441208,0.040479220449924,-0.032802559435368,0.031199997290969,0.147942706942558,-0.020864689722657,0.013892616145313,0.015730647370219,0.030538482591510,0.048104796558619,-0.011584622785449,0.067726388573647,-0.031957961618900,-0.014957831241190,-0.050959866493940,0.101876966655254));
res += mul(Get(s1,0,dy), float4x4(-0.023958940058947,0.031945724040270,-0.010471398942173,-0.039076734334230,-0.007295109331608,0.060053773224354,0.035924229770899,-0.099907815456390,0.038125157356262,0.064543969929218,-0.007501907180995,0.028183411806822,0.055528439581394,-0.028195543214679,-0.057301443070173,0.061423622071743));
res += mul(Get(s1,dx,-dy), float4x4(0.012446003034711,0.021431826055050,-0.053137492388487,0.008842304348946,-0.052714556455612,0.010600491426885,0.056845348328352,0.038774706423283,0.003427377203479,-0.006175638642162,-0.004638655576855,-0.032204777002335,0.001777984900400,0.001768910675310,0.025885440409184,-0.035235486924648));
res += mul(Get(s1,dx,0), float4x4(-0.007587045431137,0.014491085894406,-0.038542464375496,0.000999122858047,0.019531952217221,-0.015270410105586,0.095009170472622,-0.027186738327146,-0.025643596425653,-0.022179275751114,-0.024752210825682,0.017667815089226,0.012793493457139,0.002795733045787,-0.008358307182789,0.025140643119812));
res += mul(Get(s1,dx,dy), float4x4(-0.058182753622532,-0.007596897426993,0.012933655641973,-0.030197862535715,0.016513457521796,0.037704117596149,0.067450515925884,-0.118630245327950,0.021424923092127,0.000838106032461,0.009007997810841,-0.050043888390064,0.047146033495665,0.025438498705626,-0.059714034199715,-0.021909948438406));
res += mul(Get(s2,-dx,-dy), float4x4(-0.005777991842479,-0.016822302713990,-0.010012453421950,-0.023657741025090,-0.023802880197763,-0.023482820019126,-0.061510376632214,-0.075928382575512,0.042786039412022,-0.004865281283855,-0.037566687911749,0.036582127213478,0.003514463314787,0.012648457661271,0.011405715718865,-0.050824813544750));
res += mul(Get(s2,-dx,0), float4x4(0.027201127260923,0.003881389973685,0.007842397317290,0.023559557273984,-0.005974694155157,-0.011449897661805,-0.021359672769904,-0.025185035541654,0.079137071967125,-0.000478157162433,-0.070726677775383,0.030257711187005,-0.012126333080232,0.109946869313717,-0.016732754185796,-0.025341477245092));
res += mul(Get(s2,-dx,dy), float4x4(0.056418988853693,-0.019624626263976,0.010542183183134,0.031896810978651,-0.025118159130216,-0.016975823789835,-0.043270934373140,-0.056493088603020,-0.019857790321112,0.037256892770529,-0.073135770857334,0.040903735905886,-0.008695716969669,0.084128797054291,0.010114354081452,0.063487187027931));
res += mul(Get(s2,0,-dy), float4x4(-0.010158217512071,-0.015616031363606,0.001836206531152,-0.009982642717659,-0.039437271654606,-0.020248297601938,0.013958366587758,-0.049587842077017,-0.035772845149040,0.025416260585189,-0.013790837489069,0.037213347852230,-0.009142758324742,-0.007351893000305,0.022612424567342,-0.035450171679258));
res += mul(Get(s2,0,0), float4x4(0.013287872076035,0.000842124165501,0.010063209570944,0.047805804759264,-0.003833038732409,-0.021969549357891,0.017846183851361,0.019065901637077,0.101787038147449,-0.036539535969496,-0.004524641670287,0.040158029645681,-0.034251607954502,0.107862971723080,0.032543607056141,-0.008725885301828));
res += mul(Get(s2,0,dy), float4x4(0.055768974125385,-0.034733530133963,0.006121015176177,0.047532111406326,-0.001915998291224,-0.020941440016031,0.031797640025616,-0.055668935179710,0.029579509049654,-0.004058950580657,-0.052172344177961,0.025994444265962,-0.001894481363706,0.073225483298302,0.001270596869290,0.079329229891300));
res += mul(Get(s2,dx,-dy), float4x4(-0.001845273887739,-0.023414067924023,0.017609799280763,-0.008056135848165,-0.049377825111151,0.025970790535212,0.002056104829535,-0.057570785284042,-0.064527235925198,0.069559358060360,-0.025461917743087,0.001113948877901,-0.016413422301412,-0.015306767076254,0.030439369380474,0.013890811242163));
res += mul(Get(s2,dx,0), float4x4(-0.003015927504748,-0.002372115151957,0.025182109326124,0.027436878532171,-0.010024036280811,0.006253378000110,-0.007141104899347,-0.010784138925374,-0.013463204726577,0.047409031540155,0.018080718815327,0.025786938145757,0.022312516346574,0.045211151242256,0.016796322539449,0.000020442545065));
res += mul(Get(s2,dx,dy), float4x4(0.019809611141682,-0.034317005425692,0.019755447283387,0.005997434724122,-0.044610921293497,-0.020607380196452,0.080678716301918,-0.017269819974899,0.062644332647324,0.034988299012184,-0.008393824100494,0.003130735363811,0.030246855691075,0.028101820498705,-0.014743908308446,0.008379376493394));
res += mul(Get(s3,-dx,-dy), float4x4(-0.014464518986642,0.015713587403297,-0.020832544192672,-0.015377697534859,-0.031220873817801,0.027428040280938,-0.029024580493569,0.006876363418996,-0.027284668758512,0.002809852361679,-0.005922239273787,0.085914552211761,-0.022686496376991,0.004543318413198,0.021419018507004,-0.029313968494534));
res += mul(Get(s3,-dx,0), float4x4(0.011701718904078,-0.013523827306926,-0.029025021940470,-0.070917293429375,-0.002493811771274,0.055772766470909,-0.018913067877293,-0.012797078117728,-0.030093755573034,0.004230832215399,-0.027254983782768,-0.036306437104940,-0.025705367326736,-0.004025340545923,0.084583722054958,0.048570476472378));
res += mul(Get(s3,-dx,dy), float4x4(0.005735381040722,-0.023867163807154,-0.001490957336500,-0.041136063635349,0.000496173335705,0.044976316392422,-0.026667011901736,0.027561346068978,-0.035152040421963,0.012821952812374,0.002068405272439,-0.009472506120801,-0.023930720984936,-0.017003675922751,0.038042880594730,0.005311059299856));
res += mul(Get(s3,0,-dy), float4x4(-0.005741167347878,0.041690006852150,-0.048869345337152,0.000141489144880,-0.041979074478149,-0.009342639707029,0.022367071360350,0.057773742824793,-0.019245011731982,0.053870536386967,-0.017844211310148,0.099422089755535,-0.015327788889408,-0.022675434127450,-0.015599194914103,-0.039861906319857));
res += mul(Get(s3,0,0), float4x4(0.037520501762629,0.053139887750149,-0.041095476597548,-0.081021763384342,-0.011710518971086,-0.000639860401861,0.085022456943989,0.088187314569950,0.042520724236965,0.015402204357088,-0.007679607719183,-0.004504285287112,0.049524266272783,-0.039180956780910,-0.010486735031009,0.030252842232585));
res += mul(Get(s3,0,dy), float4x4(-0.004377489443868,0.049793988466263,-0.004703907296062,-0.025877887383103,-0.011024621315300,0.022990252822638,0.066911056637764,0.047447748482227,-0.043511003255844,0.029335238039494,-0.048700105398893,0.046963520348072,0.000787951168604,-0.024541465565562,0.038309879601002,0.012566493824124));
res += mul(Get(s3,dx,-dy), float4x4(-0.004735894966871,0.019719637930393,-0.023072043433785,0.012690304778516,-0.039890434592962,-0.029926540330052,-0.039906822144985,-0.016005365177989,-0.025378346443176,0.031533535569906,0.023831622675061,0.043157506734133,-0.005360104609281,-0.021561671048403,-0.047556582838297,-0.049869935959578));
res += mul(Get(s3,dx,0), float4x4(0.023130699992180,-0.007648814469576,0.056222099810839,-0.030990580096841,-0.001657984335907,-0.026723189279437,-0.049283653497696,0.039607517421246,-0.007074490189552,-0.022385254502296,0.035818085074425,0.016395010054111,0.012678918428719,-0.026354886591434,-0.056517709046602,0.004727282561362));
res += mul(Get(s3,dx,dy), float4x4(-0.006474401336163,0.001752295298502,0.024545870721340,-0.013745871372521,0.007432619109750,-0.009442613460124,0.013736166059971,0.026834737509489,-0.051254779100418,-0.009403063915670,0.022593552246690,0.059111405164003,-0.029569743201137,-0.029274187982082,-0.045315071940422,0.000824404589366));
return max(float4(0,0,0,0), res);
}
