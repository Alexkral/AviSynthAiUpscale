sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.013194156810641,0.004617248196155,-0.006454537622631,0.013053325004876,0.003555266652256,-0.004871125798672,0.002268591430038,-0.008294249884784,0.000755409360863,-0.001719822757877,0.003814684459940,0.006468819919974,0.015376317314804,-0.006097937468439,-0.033822275698185,-0.002905080793425));
res += mul(Get(s0,-dx,0), float4x4(-0.005456479731947,0.000853736652061,-0.007152170408517,-0.006619396619499,-0.005316847003996,-0.010017975233495,0.011707663536072,0.008933950215578,-0.002589117269963,0.007795602548867,-0.007555715739727,-0.001327408826910,0.017898898571730,-0.012153890915215,-0.007782376371324,0.000366626336472));
res += mul(Get(s0,-dx,dy), float4x4(0.006705651991069,-0.000833781028632,0.000871593772899,0.005297709722072,0.002767908619717,0.005379956215620,0.004501193761826,0.003165431786329,0.005814387463033,0.007481553591788,0.001989592332393,-0.000300010753563,0.017889140173793,-0.008723171427846,-0.014681253582239,-0.000384885119274));
res += mul(Get(s0,0,-dy), float4x4(0.012379032559693,0.009078995324671,-0.007327543105930,0.010653446428478,-0.004755622707307,-0.002620612736791,-0.002218335168436,0.001280075986870,-0.010422553867102,-0.006210091989487,0.009974772110581,0.005129365716130,-0.049885008484125,0.003476505400613,-0.006782807875425,-0.001472163829021));
res += mul(Get(s0,0,0), float4x4(-0.004957481753081,-0.000030725383112,-0.016220394521952,0.002080057049170,0.001389233046211,-0.003153632162139,0.005822938866913,0.002038020873442,0.003033804008737,-0.003635136876255,0.006785674951971,0.000064707623096,-0.021579345688224,-0.004355320241302,0.014635510742664,0.029157385230064));
res += mul(Get(s0,0,dy), float4x4(0.000182993608178,-0.011048390530050,-0.004489210899919,-0.009702659212053,0.003875122638419,0.009224439039826,0.012903599068522,-0.007374277804047,-0.001380060100928,0.003102640155703,0.002113108988851,0.006781337782741,0.086410142481327,-0.017929781228304,0.019770668819547,0.023500524461269));
res += mul(Get(s0,dx,-dy), float4x4(0.005323062650859,-0.003961239475757,-0.002569282893091,0.014678088948131,0.001703754300252,0.004010779783130,0.003657269757241,-0.001078270026483,0.003729428397492,0.006500192452222,0.005550505127758,0.001270745880902,-0.029297905042768,-0.012979338876903,0.028592456132174,-0.017728688195348));
res += mul(Get(s0,dx,0), float4x4(-0.005754995159805,-0.003184951143339,-0.013137625530362,0.007084926124662,0.013997248373926,0.000236853593378,0.004929394461215,-0.001970165641978,0.007569822482765,-0.003706074552611,0.007683917880058,-0.005217233672738,-0.033290922641754,0.008807576261461,-0.017718043178320,-0.025060070678592));
res += mul(Get(s0,dx,dy), float4x4(0.003923726733774,0.011379055678844,0.008741840720177,0.007837552577257,0.000971798319370,0.000572977412958,0.007345877587795,-0.006314685102552,0.003843738464639,-0.002063181716949,0.003318215720356,0.005733221769333,0.008072032593191,0.001725671929307,0.043720092624426,-0.036221548914909));
res += mul(Get(s1,-dx,-dy), float4x4(-0.006612008437514,-0.004259503912181,-0.011330206878483,0.005934989079833,0.004267848096788,-0.007739194668829,-0.004900217987597,0.003856602124870,-0.009716264903545,0.003851453540847,0.004654310643673,0.003954538609833,0.017476892098784,-0.003330270061269,-0.009240668267012,-0.019910410046577));
res += mul(Get(s1,-dx,0), float4x4(0.020217286422849,-0.009527706541121,-0.004874316975474,0.014332136139274,-0.002884737448767,0.002478000475094,-0.001111677964218,0.024459611624479,0.000240252513322,-0.005001249257475,-0.011347048915923,0.012673983350396,-0.056359581649303,-0.012174087576568,-0.100651532411575,-0.026220994070172));
res += mul(Get(s1,-dx,dy), float4x4(0.003643242875114,-0.007183228153735,-0.006596805062145,0.002099600154907,-0.001532623544335,0.004562019836158,0.019840247929096,0.002876345766708,0.001706289011054,-0.007109138648957,0.000935786752962,-0.000334415904945,0.076615773141384,-0.026029884815216,0.019550062716007,-0.020208297297359));
res += mul(Get(s1,0,-dy), float4x4(-0.036001008003950,0.020602773874998,-0.032375082373619,-0.023821767419577,-0.009816591627896,0.001176638994366,0.002856496954337,0.020401181653142,-0.003271323628724,0.006743242498487,-0.001655335770920,0.014525924809277,-0.075511917471886,-0.024367203935981,0.040190607309341,0.022278146818280));
res += mul(Get(s1,0,0), float4x4(0.014674462378025,-0.007149563636631,0.057819817215204,-0.004213934764266,-0.013947489671409,-0.004758012015373,-0.017151903361082,0.045043058693409,-0.000626041379292,-0.008384714834392,-0.008268212899566,0.026043491438031,-0.020861309021711,-0.009142585098743,-0.073958195745945,0.044980507344007));
res += mul(Get(s1,0,dy), float4x4(0.015924338251352,-0.006855849176645,-0.007302489597350,0.007045426405966,0.009762331843376,-0.008169372566044,0.002063813852146,0.010467919521034,-0.008780403062701,-0.003344584489241,-0.008474485017359,0.013276210054755,0.127752617001534,-0.025502096861601,0.057984262704849,0.019938347861171));
res += mul(Get(s1,dx,-dy), float4x4(0.005159690976143,0.020769268274307,-0.006114880554378,-0.009579129517078,-0.042766112834215,-0.000797967019025,-0.024190267547965,0.021759020164609,-0.022969285026193,0.002955970121548,-0.011106503196061,0.007809464819729,-0.085620760917664,-0.018256885930896,0.063102498650551,-0.036032680422068));
res += mul(Get(s1,dx,0), float4x4(-0.012348029762506,0.020427148789167,0.026217434555292,-0.033746067434549,-0.014008373953402,0.007066512014717,0.007056337315589,0.029957937076688,-0.018149364739656,-0.002129105152562,-0.001041463343427,0.029058851301670,-0.025907598435879,0.012717921286821,0.031978696584702,-0.004301973152906));
res += mul(Get(s1,dx,dy), float4x4(0.011698710732162,0.004580401815474,0.011931478977203,-0.020845690742135,-0.008994800969958,-0.002606237540022,0.014283283613622,0.024046244099736,-0.003430573269725,-0.002434703754261,-0.006469518877566,0.012245856225491,-0.006021872628480,0.000468906306196,0.016237344592810,-0.034309886395931));
res += mul(Get(s2,-dx,-dy), float4x4(-0.008222013711929,-0.027044452726841,-0.070716403424740,-0.011666496284306,-0.025546424090862,-0.027088481932878,-0.009039506316185,0.053872294723988,0.023001531139016,0.006599420681596,0.006139229051769,0.017213115468621,-0.015874765813351,-0.004699334036559,-0.043071884661913,-0.005755932070315));
res += mul(Get(s2,-dx,0), float4x4(0.064534746110439,-0.051751621067524,-0.052896510809660,0.056105684489012,0.011241695843637,-0.042172357439995,-0.012560012750328,0.010154785588384,-0.009441698901355,0.005304425954819,-0.029513522982597,-0.016412697732449,-0.022485353052616,0.016179338097572,-0.108649253845215,-0.013450928963721));
res += mul(Get(s2,-dx,dy), float4x4(0.014444455504417,-0.059924889355898,0.026989573612809,-0.076196931302547,0.037497214972973,-0.038925342261791,-0.011088595725596,-0.041842915117741,0.009953651577234,0.008815908804536,0.011878357268870,0.001964320661500,0.127788692712784,-0.025392003357410,0.008371840231121,-0.005040631163865));
res += mul(Get(s2,0,-dy), float4x4(-0.151433959603310,-0.017791632562876,-0.083422519266605,0.038612600415945,-0.005959043744951,-0.013153907842934,0.028195569291711,0.059797942638397,0.006765117403120,0.004017685074359,0.005205580964684,0.006935974583030,-0.066452540457249,-0.008100023493171,0.021484393626451,-0.052926119416952));
res += mul(Get(s2,0,0), float4x4(0.197805717587471,-0.073617562651634,0.173871949315071,0.166063785552979,0.116003617644310,-0.019358834251761,0.085857346653938,0.021825162693858,-0.019224856048822,0.006517166271806,-0.027431195601821,-0.017430929467082,-0.104833267629147,0.018020851537585,-0.120927371084690,-0.043101325631142));
res += mul(Get(s2,0,dy), float4x4(0.189651623368263,-0.064656749367714,-0.070360958576202,0.119005195796490,0.090640887618065,-0.002861145185307,-0.061397895216942,0.033021755516529,0.012681429274380,0.012155067175627,0.015895636752248,0.010737812146544,0.062009204179049,-0.013685199432075,0.084858871996403,-0.011081690900028));
res += mul(Get(s2,dx,-dy), float4x4(-0.149504825472832,0.050351504236460,-0.055563278496265,-0.122634068131447,-0.023834951221943,0.070395112037659,0.041194275021553,-0.065547332167625,0.015475280582905,0.009545197710395,-0.010375742800534,0.002841629087925,-0.067012384533882,-0.004030822776258,0.085640251636505,-0.063532054424286));
res += mul(Get(s2,dx,0), float4x4(-0.032933130860329,0.042945709079504,0.258067667484283,-0.159410312771797,-0.108170203864574,0.073851823806763,0.049666900187731,-0.118103951215744,-0.020195674151182,0.021778127178550,-0.020579580217600,-0.009670869447291,-0.006076124962419,0.021007705479860,-0.008274621330202,-0.037633098661900));
res += mul(Get(s2,dx,dy), float4x4(-0.001784294378012,0.044692952185869,0.031817372888327,-0.065315276384354,-0.013621113263071,0.065536670386791,0.040200997143984,-0.050129529088736,0.023870993405581,0.012674172408879,0.023642996326089,0.000479679118143,0.100526839494705,-0.007614593021572,0.080608852207661,-0.053294133394957));
res += mul(Get(s3,-dx,-dy), float4x4(0.007512163370848,-0.001296633156016,0.009603225626051,0.001351882121526,0.074439361691475,-0.021516628563404,-0.067301675677299,0.018986618146300,-0.034441702067852,-0.019917743280530,-0.038614224642515,0.004966770764440,-0.005915645044297,0.014859226532280,-0.121168330311775,0.002442383905873));
res += mul(Get(s3,-dx,0), float4x4(-0.002498974790797,-0.001699918415397,0.005570667330176,0.002976386575028,0.050072029232979,-0.034452650696039,-0.082346007227898,-0.007326101884246,0.063252031803131,-0.010986681096256,-0.021220823749900,0.037945814430714,0.052515707910061,-0.000387693784432,-0.096418902277946,0.031537633389235));
res += mul(Get(s3,-dx,dy), float4x4(0.005294952075928,-0.005389949306846,-0.000211139209569,-0.004230607300997,0.049831125885248,-0.035133510828018,0.030060023069382,-0.084749862551689,0.079917393624783,-0.016804777085781,-0.039614666253328,0.045609965920448,0.065538927912712,-0.007758813910186,-0.014535271562636,0.043926704674959));
res += mul(Get(s3,0,-dy), float4x4(-0.006785290781409,0.003483558539301,-0.001361373811960,-0.011850131675601,-0.073714748024940,-0.032275132834911,-0.095797166228294,0.080559343099594,-0.106146894395351,0.044455237686634,-0.027098707854748,-0.032238550484180,-0.143251121044159,-0.023763045668602,-0.118346028029919,-0.038646709173918));
res += mul(Get(s3,0,0), float4x4(0.000372838927433,-0.003875413211063,0.000675805844367,-0.002523265546188,-0.079030849039555,-0.012413892894983,-0.070069812238216,0.058157745748758,-0.092719845473766,0.056582752615213,0.027297636494040,-0.047001834958792,-0.058133665472269,-0.002832633908838,-0.051466491073370,-0.008444677107036));
res += mul(Get(s3,0,dy), float4x4(-0.005477998405695,0.006834564264864,-0.007707484532148,0.007068481761962,-0.045780535787344,-0.025075690820813,-0.001650059944950,-0.036859851330519,-0.031643502414227,0.032532773911953,0.028034280985594,-0.029144402593374,0.044217821210623,-0.009443747811019,0.020188631489873,0.029031874611974));
res += mul(Get(s3,dx,-dy), float4x4(-0.001429998665117,0.005415076855570,-0.004550784826279,-0.002280078129843,-0.008504573255777,-0.019907899200916,-0.004653266631067,-0.023830490186810,-0.016386408358812,0.054723277688026,0.056276608258486,-0.009477940388024,-0.103724472224712,-0.027802385389805,-0.014578880742192,-0.057841587811708));
res += mul(Get(s3,dx,0), float4x4(0.005296230781823,0.006984012201428,0.000693334615789,-0.004150730557740,0.081920571625233,-0.009421978145838,0.034429620951414,0.030626403167844,0.029255365952849,0.069956243038177,0.036399137228727,-0.044215530157089,-0.062768347561359,0.031605437397957,0.009446665644646,-0.044463977217674));
res += mul(Get(s3,dx,dy), float4x4(-0.003719637403265,-0.005416426807642,0.005295655690134,-0.001958248205483,0.083471901714802,-0.013178878463805,0.037512198090553,-0.021325813606381,0.037889193743467,0.061033777892590,0.013396877795458,-0.052857898175716,0.036965470761061,0.012431239709258,0.045968174934387,-0.023253696039319));
return max(float4(0,0,0,0), res);
}
