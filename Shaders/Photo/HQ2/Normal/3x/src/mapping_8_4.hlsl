sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.007532999850810,-0.058215670287609,0.040650408715010,-0.023729512467980,0.011576694436371,-0.016236877068877,0.014021612703800,-0.010933821089566,-0.008224193938076,0.043626267462969,-0.014355520717800,0.015423718839884,0.015033119358122,0.009125331416726,0.022533277049661,0.095174290239811));
res += mul(Get(s0,-dx,0), float4x4(0.000511207850650,0.024023696780205,-0.001405612449162,0.047558739781380,0.014608526602387,-0.032127354294062,-0.006116194650531,0.067637376487255,0.012553472071886,-0.013862933963537,0.047413874417543,0.022606464102864,0.004823010880500,-0.025748303160071,0.083923928439617,-0.049194987863302));
res += mul(Get(s0,-dx,dy), float4x4(0.000372698646970,0.017777534201741,-0.016993753612041,0.061057683080435,0.003258586395532,0.007710973266512,-0.036750484257936,0.008235040120780,-0.005830342415720,0.044448014348745,0.000791833677795,-0.012876254506409,-0.007692802697420,-0.051102172583342,0.061475660651922,-0.028971755877137));
res += mul(Get(s0,0,-dy), float4x4(-0.001225821557455,-0.015825768932700,-0.030330657958984,-0.030017225071788,-0.004434160422534,-0.000441147130914,-0.014696790836751,-0.134536668658257,0.004590536933392,-0.009877187199891,-0.008902817964554,0.024469833821058,0.007466469891369,0.050945583730936,-0.021198710426688,0.084169752895832));
res += mul(Get(s0,0,0), float4x4(-0.000184574557352,0.042098212987185,-0.043604597449303,0.102099411189556,0.013361748307943,0.044506385922432,-0.060110155493021,0.041295718401670,-0.001338655129075,0.087735973298550,0.011101853102446,-0.127311214804649,0.002668310655281,0.001255089184269,0.019991474226117,-0.052374534308910));
res += mul(Get(s0,0,dy), float4x4(0.001953437458724,-0.009261568076909,0.002796528860927,0.056467823684216,0.006827877834439,0.007822976447642,-0.052763514220715,0.060686178505421,-0.002956859767437,0.081536144018173,-0.024487048387527,0.084779582917690,-0.007806763518602,-0.035992339253426,0.002506269840524,-0.034206856042147));
res += mul(Get(s0,dx,-dy), float4x4(-0.002215388230979,-0.005722580943257,-0.046511627733707,-0.016472028568387,-0.000588289927691,-0.072581321001053,0.006828487385064,0.012751770205796,0.013041612692177,0.021396420896053,-0.020905157551169,0.049334041774273,0.008798757568002,0.013789914548397,0.002551421755925,0.049415249377489));
res += mul(Get(s0,dx,0), float4x4(-0.000341767707141,0.004817329812795,-0.004590675700456,0.021592367440462,0.003121038898826,0.011684740893543,-0.053561653941870,0.012208846397698,-0.010300528258085,0.004593486431986,0.002933824434876,0.007232199423015,-0.001460911822505,-0.023508874699473,0.028894888237119,0.005670644342899));
res += mul(Get(s0,dx,dy), float4x4(-0.004468321800232,-0.019857497885823,0.029118131846189,0.024704007431865,0.010784268379211,0.006498170085251,-0.046795636415482,0.035574991255999,0.010770861059427,0.002598831197247,0.018811777234077,0.019789543002844,-0.007298943120986,-0.007366321049631,-0.014692822471261,-0.019931158050895));
res += mul(Get(s1,-dx,-dy), float4x4(0.003310439409688,0.001869596308097,-0.012412455864251,-0.011742271482944,0.009191378951073,-0.023423563688993,-0.002405591541901,0.014487379230559,-0.003965423908085,-0.004077883437276,-0.052967239171267,-0.002268707379699,0.009876546449959,0.055560551583767,-0.018394313752651,0.104600377380848));
res += mul(Get(s1,-dx,0), float4x4(0.012082596309483,-0.009569472633302,-0.012356028892100,-0.019701061770320,0.006847317796201,0.014196304604411,0.018061293289065,0.082933008670807,-0.010624411515892,-0.054885458201170,-0.039763949811459,0.041856873780489,0.004529784433544,0.031815368682146,0.001417430001311,-0.021581918001175));
res += mul(Get(s1,-dx,dy), float4x4(0.006456482224166,0.041273172944784,0.006335819605738,0.063869215548038,0.012423302978277,-0.036329410970211,0.014863953925669,-0.009567391127348,-0.010882450267673,0.021624358370900,-0.033556960523129,0.036073639988899,0.003887150436640,-0.042985327541828,-0.018816651776433,-0.081590577960014));
res += mul(Get(s1,0,-dy), float4x4(0.001324534299783,0.001138892839663,-0.020505946129560,0.036402951925993,-0.000521069450770,-0.009997221641243,-0.034320708364248,-0.042521692812443,-0.008137062191963,0.036184720695019,-0.064173780381680,-0.036495961248875,-0.006589821074158,0.073191814124584,-0.069060251116753,0.127726286649704));
res += mul(Get(s1,0,0), float4x4(0.007713688537478,-0.055016350001097,-0.000604609260336,-0.061107713729143,0.004923885222524,0.080512881278992,-0.025771338492632,0.035303801298141,-0.010941886343062,0.081881627440453,-0.054630767554045,-0.060082867741585,0.011353336274624,0.027678068727255,-0.017289128154516,0.020029902458191));
res += mul(Get(s1,0,dy), float4x4(-0.000610396440607,0.134805530309677,-0.030125724151731,0.022487301379442,0.012843304313719,-0.014459266327322,-0.005739066749811,-0.010978049598634,-0.011239754036069,0.057892013341188,-0.013909860514104,0.022898621857166,0.006136180367321,-0.047566529363394,0.004413607064635,-0.053342614322901));
res += mul(Get(s1,dx,-dy), float4x4(0.003521066159010,-0.011515106074512,-0.008542445488274,0.010157104581594,-0.014238438569009,0.011085308156908,-0.040905527770519,-0.033681575208902,-0.000921480648685,-0.049797955900431,0.021416306495667,0.061395466327667,0.004512875340879,-0.020390741527081,-0.015191767364740,0.042079910635948));
res += mul(Get(s1,dx,0), float4x4(0.000434306391980,-0.018666915595531,-0.009125127457082,-0.035994548350573,-0.007236452307552,0.057473063468933,-0.036850843578577,0.019062481820583,-0.006321900989860,-0.052588526159525,0.049413014203310,0.077964000403881,0.010049232281744,-0.065948709845543,0.038367215543985,0.031310591846704));
res += mul(Get(s1,dx,dy), float4x4(-0.007212605327368,0.082457497715950,-0.040945760905743,0.044309016317129,0.004120298661292,0.000845373666380,-0.015928301960230,-0.008921299129725,-0.007912503555417,0.014099091291428,0.047219187021255,0.075674265623093,-0.007259465288371,-0.048690140247345,0.023747069761157,0.006162271834910));
res += mul(Get(s2,-dx,-dy), float4x4(0.003966077696532,0.055716320872307,0.000761313713156,0.116540841758251,-0.006225011777133,0.003467620350420,-0.032517272979021,0.088821850717068,0.006489882711321,-0.000702240853570,-0.058232396841049,0.028566185384989,0.003965237643570,-0.000491420389153,-0.065759308636189,-0.000736058980692));
res += mul(Get(s2,-dx,0), float4x4(-0.014209045097232,-0.006837598048151,0.010298781096935,0.062318451702595,-0.008967534638941,-0.037022985517979,-0.006342192646116,0.003895040834323,0.006460173986852,0.024112120270729,-0.041948094964027,0.003711329307407,0.012849356979132,-0.021892759948969,-0.008665899746120,0.005159907042980));
res += mul(Get(s2,-dx,dy), float4x4(0.003689841134474,-0.043007198721170,0.021892290562391,-0.043447367846966,-0.014350695535541,-0.002994695445523,-0.027643436565995,-0.019985277205706,0.005600193049759,0.029688669368625,-0.009076455608010,0.069388657808304,-0.000321650120895,-0.003834048751742,-0.021424092352390,0.005404719151556));
res += mul(Get(s2,0,-dy), float4x4(0.012529172934592,0.019435772672296,0.028095349669456,0.078562557697296,0.006065617781132,-0.007074825465679,-0.025774640962481,0.134668484330177,0.006573332007974,0.048147231340408,-0.025237875059247,0.145364239811897,0.006661159452051,-0.023666614666581,-0.020945373922586,0.021492611616850));
res += mul(Get(s2,0,0), float4x4(0.031324002891779,-0.040592413395643,0.086865872144699,0.008548486977816,0.001815870520659,-0.028966955840588,0.018796177580953,-0.041858568787575,0.009445167146623,-0.036397345364094,0.063444539904594,0.021798979490995,0.000409913860494,0.013039856217802,0.016578299924731,-0.032204873859882));
res += mul(Get(s2,0,dy), float4x4(-0.000835701532196,-0.060097083449364,0.066710904240608,-0.044455949217081,-0.012988759204745,-0.020507320761681,-0.011190806515515,0.024741373956203,-0.014922183007002,0.049649138003588,0.025741495192051,0.015006694011390,-0.003182430518791,0.012376451864839,-0.003505801316351,0.067499458789825));
res += mul(Get(s2,dx,-dy), float4x4(0.004254431463778,-0.015045758336782,0.022923562675714,0.026667295023799,0.004289724398404,0.017987601459026,-0.017116237431765,0.062318868935108,0.005910049192607,0.086477406322956,-0.014638802036643,0.040502019226551,-0.003646879922599,0.100572757422924,-0.015730747953057,0.019938481971622));
res += mul(Get(s2,dx,0), float4x4(-0.012321607209742,-0.000805145711638,0.020885264500976,-0.025755617767572,0.000068520101195,-0.002542075701058,-0.000867810624186,-0.009070985019207,0.001734517049044,0.055365465581417,0.026882097125053,-0.041543483734131,-0.021015606820583,0.137265354394913,-0.020278451964259,-0.096266873180866));
res += mul(Get(s2,dx,dy), float4x4(0.009357124567032,0.005964901763946,0.017009569332004,-0.026501577347517,-0.008534234948456,0.003036156063899,-0.005054355133325,0.025171663612127,-0.022343210875988,0.049038249999285,-0.003238510573283,-0.017029717564583,-0.002806613454595,0.044230423867702,0.005511790979654,-0.034104935824871));
res += mul(Get(s3,-dx,-dy), float4x4(0.006605704315007,-0.001913089654408,-0.069776393473148,0.010496807284653,-0.005020894110203,0.002378493081778,-0.004813560284674,0.009427461773157,-0.003003910183907,-0.000371389614884,0.025644721463323,-0.008762570098042,0.011239796876907,-0.019909881055355,-0.007348946295679,-0.029529230669141));
res += mul(Get(s3,-dx,0), float4x4(0.005552135407925,0.051522139459848,-0.131674945354462,-0.006992185022682,-0.006167546380311,0.009938210248947,0.020057935267687,0.007620517164469,0.004979700781405,0.034531805664301,0.050920363515615,0.028089357540011,0.012942721135914,0.018233563750982,0.019532283768058,0.051223985850811));
res += mul(Get(s3,-dx,dy), float4x4(0.016848433762789,-0.003753891680390,-0.061697348952293,0.004242459777743,-0.009050352498889,0.086794480681419,-0.011269372887909,0.064894504845142,-0.001720865489915,-0.006957455538213,0.014940776862204,-0.004592662211508,0.000905279302970,0.032004956156015,0.006892973091453,0.034728795289993));
res += mul(Get(s3,0,-dy), float4x4(0.000018298136638,0.053530916571617,-0.023935470730066,0.067869685590267,-0.001053815474734,0.022977638989687,0.017478324472904,-0.005245250184089,-0.010732356458902,0.017629081383348,0.051444832235575,-0.100090734660625,0.008625082671642,-0.060720209032297,-0.016987841576338,-0.085072815418243));
res += mul(Get(s3,0,0), float4x4(0.021948449313641,-0.115576267242432,0.047952357679605,0.181631401181221,-0.003951982595026,0.047056652605534,0.043193414807320,-0.030414206907153,-0.018567312508821,0.123386859893799,-0.011249918490648,0.024965787306428,0.010765964165330,0.054794568568468,-0.019949128851295,-0.019549135118723));
res += mul(Get(s3,0,dy), float4x4(-0.010049031116068,-0.021312588825822,0.031101632863283,-0.048665102571249,-0.007521056570113,0.107661478221416,0.006743860431015,0.111800536513329,-0.000530523480847,0.000310430710670,-0.005171460099518,0.057802028954029,0.009982235729694,0.046966075897217,0.000578253762797,0.082035727798939));
res += mul(Get(s3,dx,-dy), float4x4(0.000765330682043,-0.024446588009596,0.050057224929333,-0.003302511060610,-0.003990311175585,0.004057754762471,0.028500800952315,-0.038909550756216,-0.016296381130815,-0.037858922034502,0.082930237054825,0.025523217394948,-0.009539409540594,-0.042579226195812,-0.016995202749968,-0.083866938948631));
res += mul(Get(s3,dx,0), float4x4(0.028935296460986,-0.026421770453453,0.076979815959930,-0.012672903016210,-0.008347557857633,-0.040307145565748,0.060604594647884,0.012660461477935,-0.016572104766965,0.021654196083546,0.043680239468813,0.066129952669144,-0.016780620440841,0.026356520131230,-0.036905441433191,-0.021746719256043));
res += mul(Get(s3,dx,dy), float4x4(-0.037603255361319,0.021030891686678,-0.002306848997250,0.043615940958261,-0.001646563294344,0.004663225263357,0.032342225313187,0.075388796627522,-0.003646252444014,0.002258768770844,0.022393701598048,-0.000096199713880,0.005659600254148,0.057201415300369,-0.014573322609067,0.023455813527107));
return max(float4(0,0,0,0), res);
}
