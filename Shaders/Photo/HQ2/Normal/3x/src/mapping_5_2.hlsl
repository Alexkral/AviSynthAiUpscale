sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.072938926517963,0.063660971820354,-0.079594217240810,0.031398762017488,0.011501369997859,0.064081177115440,0.100589580833912,0.025385808199644,0.013866486959159,-0.018882576376200,-0.036362778395414,-0.013037387281656,0.086652718484402,0.014330134727061,-0.016193512827158,-0.048509012907743));
res += mul(Get(s0,-dx,0), float4x4(0.005193976685405,0.094132840633392,0.003530768444762,-0.007052031811327,0.029501667246222,-0.041244897991419,0.118131265044212,-0.031844433397055,0.000359004829079,0.029577607288957,0.016774598509073,-0.043713908642530,0.028811400756240,0.064936734735966,-0.003421037457883,0.014442528598011));
res += mul(Get(s0,-dx,dy), float4x4(-0.010244843550026,-0.038723129779100,-0.012013986706734,0.005518116522580,0.097240284085274,-0.026974989101291,-0.007725566159934,-0.040067236870527,-0.030687442049384,-0.041884321719408,-0.000316279474646,-0.002811691258103,-0.007746423594654,-0.123976863920689,0.023793496191502,0.070113189518452));
res += mul(Get(s0,0,-dy), float4x4(0.125151753425598,0.064135670661926,-0.027111483737826,-0.076327815651894,-0.123430743813515,0.055431921035051,0.063382282853127,-0.016237296164036,0.075854405760765,0.045072957873344,-0.068987600505352,0.011560576967895,0.063370160758495,0.128416508436203,0.039129901677370,0.002073772251606));
res += mul(Get(s0,0,0), float4x4(0.131114870309830,0.101376384496689,0.052794925868511,-0.049679443240166,-0.022599678486586,0.031829807907343,-0.005793510004878,-0.088650755584240,-0.035289615392685,0.089805088937283,0.039545625448227,-0.015374490991235,-0.100637555122375,-0.106759071350098,-0.024273633956909,-0.007247580215335));
res += mul(Get(s0,0,dy), float4x4(-0.142579182982445,0.031600654125214,0.015216686762869,-0.043252557516098,0.074421174824238,-0.023449163883924,-0.025359194725752,-0.100461304187775,-0.013337980955839,-0.017012195661664,0.019280800595880,0.018906911835074,0.000051215349231,0.042705275118351,-0.031853750348091,0.065239183604717));
res += mul(Get(s0,dx,-dy), float4x4(-0.014000615105033,0.039219684898853,0.014217827469110,-0.003324522171170,0.148674324154854,0.000944881699979,0.009290650486946,-0.096731387078762,0.056241661310196,0.014566204510629,-0.029615104198456,-0.026812490075827,-0.053426209837198,-0.012153394520283,0.052474774420261,-0.021072637289762));
res += mul(Get(s0,dx,0), float4x4(0.008073935285211,0.000154841109179,0.009807845577598,-0.025988910347223,0.181502714753151,0.024973180145025,-0.036934100091457,-0.126400187611580,0.005051118787378,0.091156028211117,-0.013112789951265,-0.014967170543969,0.172929063439369,0.165946558117867,0.056809153407812,-0.084717534482479));
res += mul(Get(s0,dx,dy), float4x4(-0.124438546597958,0.040147177875042,-0.019538573920727,-0.060655955225229,0.048595245927572,-0.016915317624807,0.018256690353155,-0.067237161099911,0.016160810366273,0.002413636073470,0.036790564656258,-0.010627311654389,-0.000657388591208,-0.106965184211731,0.029968608170748,-0.051109779626131));
res += mul(Get(s1,-dx,-dy), float4x4(0.027973715215921,-0.007237039972097,-0.001462166896090,-0.058231554925442,0.019928658381104,0.033962000161409,0.016719480976462,0.020771002396941,-0.039425492286682,0.043201819062233,0.027568697929382,0.047559764236212,0.002354930853471,-0.011278220452368,0.031692776829004,0.080745995044708));
res += mul(Get(s1,-dx,0), float4x4(0.133616700768471,0.013276248238981,-0.000620331033133,-0.029925337061286,-0.031636167317629,-0.075191117823124,0.056931365281343,0.115151926875114,-0.185762673616409,-0.039348471909761,0.046037022024393,0.039836861193180,-0.004665880464017,-0.010164828971028,-0.068038061261177,0.074630632996559));
res += mul(Get(s1,-dx,dy), float4x4(-0.003229684429243,-0.047754291445017,0.043530523777008,0.037422608584166,-0.006749231833965,-0.070428088307381,0.014215350151062,0.037726972252131,-0.046537727117538,-0.107550904154778,0.003171881893650,0.078483857214451,0.021144881844521,-0.019127415493131,0.007997887209058,0.005183725617826));
res += mul(Get(s1,0,-dy), float4x4(0.088696129620075,0.047076560556889,0.049350045621395,-0.015790924429893,0.040899395942688,0.044005285948515,-0.018356943503022,0.087528362870216,0.031223254278302,0.032434135675430,-0.005715247709304,0.093219518661499,-0.081648439168930,-0.019801979884505,-0.002224992960691,0.106932066380978));
res += mul(Get(s1,0,0), float4x4(0.110211819410324,0.023001056164503,0.028754463419318,-0.004068637266755,-0.178327351808548,-0.025623990222812,0.052094224840403,0.137684062123299,0.031181057915092,-0.019054232165217,-0.003198322374374,-0.014989208430052,0.208440735936165,-0.010493052192032,-0.054122671484947,0.069424845278263));
res += mul(Get(s1,0,dy), float4x4(0.013042247854173,-0.040723882615566,0.033207841217518,0.015546976588666,0.000749367813114,-0.045444343239069,-0.032335173338652,0.008256518281996,0.024307541549206,0.011084443889558,-0.008210297673941,0.015336165204644,0.054402098059654,0.021844150498509,0.125527843832970,0.039484947919846));
res += mul(Get(s1,dx,-dy), float4x4(-0.043726906180382,-0.040081046521664,0.015999201685190,0.002910374663770,0.008337606675923,0.049938742071390,-0.013742143288255,-0.001225136802532,0.000864544708747,0.093357034027576,-0.025740480050445,0.103575870394707,-0.102569729089737,0.077863737940788,-0.039825093001127,-0.029761496931314));
res += mul(Get(s1,dx,0), float4x4(-0.054394926875830,-0.034148141741753,-0.019533349201083,0.001748455921188,-0.009413402527571,0.020420588552952,0.003529279725626,0.032151818275452,0.144774526357651,0.005745598580688,-0.014626047573984,0.024966744706035,0.046142924576998,0.044474504888058,-0.025454731658101,-0.044265724718571));
res += mul(Get(s1,dx,dy), float4x4(-0.000349359645043,-0.073362715542316,0.006195090245456,-0.006131569389254,0.041205421090126,0.005332798231393,0.017054909840226,0.020661011338234,0.087834209203720,-0.005504737608135,-0.022770663723350,-0.042796812951565,-0.036884684115648,0.006087978836149,0.088108956813812,-0.077338755130768));
res += mul(Get(s2,-dx,-dy), float4x4(0.144854962825775,0.010162669233978,0.067399121820927,-0.022344876080751,-0.020117502659559,0.023700162768364,0.046208247542381,-0.012466681189835,-0.030901661142707,-0.010874253697693,0.033809393644333,0.004649762995541,-0.007719981018454,0.041422527283430,0.066474288702011,-0.040926948189735));
res += mul(Get(s2,-dx,0), float4x4(0.116669163107872,0.049050647765398,0.007790970616043,0.013742754235864,-0.109563536942005,-0.007693747989833,-0.024007430300117,-0.029718717560172,0.026217721402645,-0.056825939565897,0.014169896021485,0.028842223808169,-0.038998480886221,0.021620212122798,0.045875888317823,-0.016265382990241));
res += mul(Get(s2,-dx,dy), float4x4(0.020376140251756,0.041065078228712,-0.005091827828437,0.045031603425741,-0.159406870603561,-0.026939224451780,-0.063683494925499,-0.032004941254854,0.031887635588646,-0.069510549306870,0.033946633338928,0.005331913940609,-0.026033543050289,0.027123497799039,0.013440157286823,-0.030879504978657));
res += mul(Get(s2,0,-dy), float4x4(0.072847619652748,-0.009127940982580,0.055068276822567,-0.028536386787891,-0.027046553790569,0.052953608334064,0.093628227710724,0.070999301970005,0.047548338770866,0.006388616748154,0.022971296682954,0.048617530614138,-0.137910500168800,-0.045075654983521,0.135578334331512,-0.006511480081826));
res += mul(Get(s2,0,0), float4x4(0.144521564245224,-0.014301868155599,-0.057227794080973,-0.021581966429949,0.016509812325239,-0.027403419837356,-0.015573159791529,0.014351177029312,-0.015598717145622,0.040915220975876,-0.046188026666641,0.138109207153320,-0.042590219527483,-0.048778839409351,0.032457791268826,-0.027060350403190));
res += mul(Get(s2,0,dy), float4x4(0.002477256115526,0.011848884634674,-0.047797698527575,0.061377737671137,-0.058765362948179,0.017809573560953,-0.121862836182117,-0.016242252662778,0.004466840997338,-0.018521456047893,0.013444007374346,0.050858490169048,-0.018568338826299,-0.003017221577466,-0.011190559715033,0.036000974476337));
res += mul(Get(s2,dx,-dy), float4x4(-0.102125726640224,-0.052161682397127,0.061895921826363,-0.051738653331995,-0.028795946389437,0.068606875836849,0.018425825983286,0.053400553762913,0.025618119165301,0.024526955559850,0.058948531746864,-0.009602899663150,-0.156039416790009,-0.121086075901985,0.085768721997738,0.086905136704445));
res += mul(Get(s2,dx,0), float4x4(0.062454916536808,-0.074990704655647,-0.044231437146664,0.008671616204083,0.050973515957594,-0.003047096077353,-0.009333111345768,0.068062268197536,0.094547115266323,-0.025612439960241,-0.035081602632999,0.017998389899731,-0.052230887115002,-0.002159839728847,0.033550802618265,0.101527191698551));
res += mul(Get(s2,dx,dy), float4x4(-0.063325546681881,-0.062034405767918,-0.031638599932194,0.057597171515226,-0.044894628226757,0.043761588633060,-0.067531257867813,0.054827693849802,0.059734713286161,0.040154524147511,0.058807995170355,0.068282894790173,-0.029701801016927,0.024685235694051,0.003587927436456,0.112987071275711));
res += mul(Get(s3,-dx,-dy), float4x4(-0.035789575427771,-0.051075745373964,-0.018267601728439,-0.033012725412846,0.091776199638844,-0.003003155812621,-0.015838835388422,-0.018207298591733,0.014925119467080,0.014071715064347,-0.051672570407391,0.010565821081400,0.004233900923282,-0.089456096291542,-0.071787111461163,-0.046198543161154));
res += mul(Get(s3,-dx,0), float4x4(-0.006685633212328,-0.049501191824675,-0.030207537114620,0.036071173846722,0.041842807084322,-0.023430312052369,-0.001841912511736,-0.063245527446270,-0.002558009466156,-0.040460865944624,-0.014460128732026,0.040865954011679,0.027412597090006,-0.058262202888727,-0.060602430254221,-0.049524269998074));
res += mul(Get(s3,-dx,dy), float4x4(0.027103358879685,-0.086985424160957,-0.034838050603867,-0.006819646805525,0.064199015498161,-0.007970555685461,-0.066155545413494,-0.108979418873787,0.015354894101620,-0.031907871365547,0.093744136393070,-0.034765813499689,-0.019856458529830,-0.030047429725528,0.029870105907321,0.005871963221580));
res += mul(Get(s3,0,-dy), float4x4(-0.085650406777859,-0.068305596709251,0.019489496946335,-0.009826769120991,0.044539440423250,0.006926831323653,0.029070297256112,-0.000560320273507,0.038544882088900,-0.073391698300838,-0.050156451761723,0.043332867324352,-0.033073075115681,0.040581006556749,-0.026959307491779,0.005308077670634));
res += mul(Get(s3,0,0), float4x4(-0.086180657148361,-0.060300599783659,-0.006163864396513,0.039924539625645,0.096905574202538,-0.047881253063679,-0.000783961848356,-0.033061146736145,0.016904620453715,0.195563450455666,-0.009595677256584,0.023269591853023,0.061335932463408,0.002906268229708,0.001497347839177,-0.040245987474918));
res += mul(Get(s3,0,dy), float4x4(-0.036442399024963,-0.086709789931774,-0.020161440595984,-0.054033212363720,0.046114657074213,-0.014666220173240,-0.102568686008453,-0.057822808623314,-0.018591726198792,-0.108527533710003,0.150413066148758,-0.031837761402130,0.030580360442400,0.005625196732581,-0.000884831009898,-0.010577843524516));
res += mul(Get(s3,dx,-dy), float4x4(-0.064229689538479,-0.021634414792061,0.041294153779745,-0.001358673558570,-0.037752181291580,0.063810057938099,0.041159853339195,0.089145414531231,0.078376151621342,0.169344440102577,-0.008687227033079,0.014548447914422,-0.171136826276779,0.053465709090233,0.027291348204017,0.028757411986589));
res += mul(Get(s3,dx,0), float4x4(-0.049091033637524,-0.064471825957298,0.012001161463559,0.018648341298103,0.012917753309011,0.018883578479290,0.057093951851130,0.043977882713079,-0.178154677152634,-0.163576737046242,-0.062298983335495,-0.004812033846974,-0.093837574124336,-0.000029091490433,0.061049684882164,-0.035004954785109));
res += mul(Get(s3,dx,dy), float4x4(-0.045298118144274,-0.051812406629324,-0.019641302525997,-0.035377178341150,0.014831888489425,-0.019812973216176,-0.023183200508356,-0.007780904415995,0.004717526491731,0.064242824912071,-0.000756626948714,-0.032590180635452,0.076221063733101,-0.029142936691642,-0.025581706315279,-0.023563712835312));
return max(float4(0,0,0,0), res);
}
