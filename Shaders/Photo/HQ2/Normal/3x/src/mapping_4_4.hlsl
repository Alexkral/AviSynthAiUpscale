sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.046741358935833,-0.042176943272352,0.047521702945232,-0.020304115489125,0.061536572873592,0.028395088389516,-0.005389558617026,-0.010213699191809,-0.006601830013096,-0.039719518274069,0.018938696011901,0.018990172073245,0.066022500395775,-0.090254217386246,0.029914746060967,-0.015714194625616));
res += mul(Get(s0,-dx,0), float4x4(0.034010685980320,-0.041251886636019,0.021690517663956,-0.016982212662697,0.073241308331490,0.037641011178493,-0.012571414932609,-0.023435411974788,-0.036304481327534,-0.026339136064053,0.027338871732354,-0.038128126412630,-0.114414118230343,-0.091055080294609,0.014656624756753,0.043503101915121));
res += mul(Get(s0,-dx,dy), float4x4(0.069119803607464,-0.006385303568095,-0.010335954837501,-0.088977470993996,0.013693017885089,0.115753300487995,-0.021671943366528,0.014010844752192,-0.050731651484966,0.004807759076357,-0.065246306359768,0.036591500043869,-0.126728877425194,-0.099883206188679,-0.044413037598133,0.018696393817663));
res += mul(Get(s0,0,-dy), float4x4(-0.047211103141308,0.003304558340460,0.026556387543678,0.021372776478529,0.007117106113583,-0.021948408335447,-0.003644525771961,-0.012945435941219,-0.012585446238518,-0.036718275398016,0.009663023054600,0.010368619114161,0.127199620008469,0.032474476844072,0.097246751189232,-0.025209665298462));
res += mul(Get(s0,0,0), float4x4(-0.057047236710787,0.003662680741400,0.045221053063869,-0.012017822824419,0.031028069555759,-0.003363236319274,0.055800866335630,-0.001256585703231,-0.029472811147571,-0.030449517071247,0.043424390256405,-0.121668078005314,-0.061397690325975,-0.037008129060268,-0.071681097149849,-0.035838600248098));
res += mul(Get(s0,0,dy), float4x4(0.017706617712975,0.005003905855119,-0.000835427024867,0.004976077936590,-0.006371160037816,0.050556689500809,-0.019643630832434,0.011788247153163,-0.043411400169134,-0.017088904976845,0.001696130842902,-0.054768897593021,-0.128908127546310,-0.038211513310671,-0.024256793782115,0.033472198992968));
res += mul(Get(s0,dx,-dy), float4x4(-0.070456601679325,0.007567001972347,-0.009598628617823,0.076904773712158,-0.023777807131410,0.002084152773023,-0.006493424531072,0.013943101279438,0.065722212195396,0.003892439184710,-0.055139556527138,0.050026219338179,0.168547838926315,0.100721165537834,0.060769662261009,0.017932726070285));
res += mul(Get(s0,dx,0), float4x4(-0.041890509426594,0.011194106191397,-0.002313293749467,0.061414856463671,0.001369723235257,-0.003876704256982,-0.003944474272430,-0.043627597391605,0.035404633730650,-0.032384891062975,-0.006255942862481,0.028153834864497,0.143788084387779,0.004272825550288,-0.020281514152884,0.014874635264277));
res += mul(Get(s0,dx,dy), float4x4(0.006018840242177,-0.019864600151777,0.036157693713903,0.042901616543531,-0.005693485960364,-0.015937734395266,-0.024504302069545,-0.034851208329201,-0.023610860109329,-0.062040414661169,0.005738710984588,0.018149465322495,-0.001452421769500,-0.048891432583332,0.043056137859821,0.069887124001980));
res += mul(Get(s1,-dx,-dy), float4x4(-0.035882268100977,-0.015787459909916,0.027744932100177,0.035925224423409,0.011684246361256,-0.037586744874716,-0.044409215450287,0.032938536256552,-0.042959641665220,0.060210965573788,-0.019836695864797,-0.034091863781214,0.035648714751005,-0.011568018235266,0.025754243135452,0.019298128783703));
res += mul(Get(s1,-dx,0), float4x4(-0.032974548637867,-0.085448592901230,0.002584265777841,0.015183102339506,-0.002796319546178,-0.050693906843662,0.112980671226978,0.071550421416759,-0.080019325017929,-0.001178773585707,-0.062188476324081,0.042619828134775,-0.068237252533436,0.036025349050760,-0.004701757337898,0.056227687746286));
res += mul(Get(s1,-dx,dy), float4x4(0.027254320681095,-0.108812958002090,-0.045629132539034,0.014731043949723,0.023917784914374,0.017659265547991,-0.034765370190144,0.033046752214432,-0.056425429880619,-0.078762516379356,0.028100499883294,0.101942248642445,-0.025927275419235,0.018638450652361,-0.045405544340611,0.067315697669983));
res += mul(Get(s1,0,-dy), float4x4(-0.024648969992995,-0.003398681525141,-0.027921020984650,0.045299023389816,-0.013935423456132,-0.051595374941826,0.266929030418396,0.003529794281349,0.003987268544734,0.064507201313972,0.009438572451472,-0.053140301257372,0.052293520420790,-0.017460454255342,0.049940790981054,-0.025320090353489));
res += mul(Get(s1,0,0), float4x4(-0.121294081211090,-0.078961804509163,0.097276896238327,0.072993606328964,0.006085121072829,-0.052950114011765,-0.324806600809097,-0.052431501448154,-0.100508116185665,0.026694662868977,0.069037333130836,0.004909701645374,-0.038973748683929,0.003414403181523,0.072608046233654,-0.017764257267118));
res += mul(Get(s1,0,dy), float4x4(-0.052932955324650,-0.093275673687458,-0.049801170825958,0.023167099803686,-0.061951883137226,-0.081972979009151,0.335161119699478,-0.002659888472408,-0.048705991357565,-0.032023910433054,-0.018953794613481,0.020996348932385,-0.008739963173866,-0.003708221018314,-0.047370139509439,0.067570663988590));
res += mul(Get(s1,dx,-dy), float4x4(0.073539756238461,-0.022480888292193,0.027947882190347,-0.076659664511681,0.043084595352411,-0.024900605902076,-0.017621809616685,-0.055601477622986,0.099695190787315,0.024771997705102,0.035511422902346,-0.103307001292706,0.041405744850636,0.005805985070765,0.049075800925493,-0.104518614709377));
res += mul(Get(s1,dx,0), float4x4(-0.011791584081948,-0.064083471894264,-0.021172976121306,-0.040784701704979,-0.003147609531879,-0.009418334811926,0.005456056911498,-0.019012134522200,0.004607512615621,-0.048160910606384,-0.070919968187809,-0.073303177952766,0.006264316383749,-0.023060798645020,0.010662239044905,-0.158258914947510));
res += mul(Get(s1,dx,dy), float4x4(-0.034108486026525,-0.084042131900787,0.012379850260913,-0.031068634241819,-0.107497498393059,-0.035757858306170,0.090133465826511,-0.037835303694010,-0.006209323182702,-0.031998019665480,-0.014546226710081,-0.071188017725945,0.032536640763283,-0.037756510078907,-0.003158439183608,-0.087162084877491));
res += mul(Get(s2,-dx,-dy), float4x4(-0.002165281213820,0.023104414343834,0.059850905090570,0.001802535611205,0.040971770882607,-0.023250959813595,0.138387903571129,0.037754431366920,-0.031581889837980,0.000636066775769,0.026826018467546,0.005023186560720,-0.048084367066622,0.048348259180784,0.059595279395580,0.043617434799671));
res += mul(Get(s2,-dx,0), float4x4(-0.070389255881310,0.112602598965168,0.081916339695454,0.071384966373444,0.017406135797501,0.030563957989216,-0.081193514168262,0.038892615586519,-0.053204514086246,-0.006060316693038,0.004119007848203,0.026303211227059,0.039893098175526,-0.029738519340754,-0.092958867549896,0.045930817723274));
res += mul(Get(s2,-dx,dy), float4x4(-0.059226244688034,0.090025857090950,-0.090720571577549,0.086792103946209,-0.003487387206405,0.015017529018223,-0.064219765365124,-0.039748214185238,-0.018705409020185,-0.049344573169947,0.030299857258797,0.037688840180635,-0.021318253129721,-0.043527960777283,0.011593231931329,0.097419835627079));
res += mul(Get(s2,0,-dy), float4x4(0.031838368624449,-0.006984918843955,-0.040249623358250,0.039945729076862,-0.000419603282353,-0.001205971348099,0.086326912045479,0.009253191761672,0.020086498931050,-0.012782555073500,-0.014621694572270,-0.043896649032831,-0.041080702096224,-0.005771592259407,-0.008408674970269,0.067424833774567));
res += mul(Get(s2,0,0), float4x4(-0.070705182850361,0.048991389572620,0.135587349534035,-0.041295908391476,0.040090147405863,0.053160697221756,-0.096236042678356,0.005994304548949,-0.028782611712813,0.041959941387177,-0.013907657004893,0.034229036420584,0.008160877972841,-0.071423895657063,0.193615704774857,0.094227470457554));
res += mul(Get(s2,0,dy), float4x4(-0.038089618086815,0.110681362450123,0.004757886286825,0.000098526623333,0.065073654055595,0.015516608022153,-0.056619718670845,0.030454011633992,-0.018859595060349,0.013293223455548,-0.043259616941214,-0.006350042298436,0.030185783281922,-0.039274916052818,0.045603651553392,0.060913089662790));
res += mul(Get(s2,dx,-dy), float4x4(0.030819570645690,0.037686053663492,0.096874184906483,0.053056124597788,-0.039691820740700,-0.025453662499785,-0.021051082760096,-0.016207110136747,-0.004067605827004,-0.028605483472347,0.104055225849152,-0.053320735692978,0.034702301025391,-0.044890236109495,0.024178726598620,-0.009064418263733));
res += mul(Get(s2,dx,0), float4x4(-0.003268419299275,0.029211752116680,-0.064706735312939,-0.040713794529438,0.013869671151042,-0.003532214555889,0.003527225460857,0.011904550716281,-0.044227387756109,0.078228250145912,-0.010617463849485,0.056925330311060,0.041823204606771,-0.046661552041769,-0.046301685273647,-0.059160545468330));
res += mul(Get(s2,dx,dy), float4x4(-0.000603392138146,0.029920570552349,-0.040033172816038,-0.094905674457550,0.091710284352303,-0.011410955339670,-0.014638675376773,-0.031758304685354,-0.038480840623379,0.068002246320248,-0.044130768626928,0.037801537662745,0.019507888704538,-0.025264203548431,0.062402136623859,-0.070899948477745));
res += mul(Get(s3,-dx,-dy), float4x4(-0.003521766979247,-0.010401186533272,-0.038489710539579,0.026735659688711,-0.114708118140697,0.022710811346769,0.002262845635414,-0.034950103610754,0.001748971757479,0.008628686890006,-0.041222952306271,0.027598699554801,-0.081341683864594,0.053565103560686,-0.023729749023914,-0.001492229639553));
res += mul(Get(s3,-dx,0), float4x4(-0.025108702480793,-0.029180228710175,-0.016528155654669,-0.021151900291443,-0.175160035490990,-0.044498160481453,0.053667023777962,0.040170829743147,-0.031900580972433,-0.050610344856977,-0.046406894922256,0.005894354544580,-0.112072691321373,0.011828411370516,0.016708418726921,-0.009978328831494));
res += mul(Get(s3,-dx,dy), float4x4(-0.015434920787811,-0.060532990843058,0.025530481711030,0.015425942838192,-0.096245571970940,-0.051575131714344,-0.018976196646690,0.054512981325388,-0.016334228217602,-0.026856506243348,-0.070615231990814,0.042924139648676,-0.033089928328991,-0.034277148544788,-0.036844443529844,-0.030150149017572));
res += mul(Get(s3,0,-dy), float4x4(0.001492595882155,0.028718462213874,-0.056539654731750,0.043330635875463,-0.023634066805243,0.041522439569235,0.044949680566788,-0.051712151616812,-0.019909976050258,0.027160411700606,0.018120797351003,-0.012368991039693,0.018134696409106,0.039700593799353,-0.047800727188587,-0.082950398325920));
res += mul(Get(s3,0,0), float4x4(-0.039805319160223,0.032577369362116,-0.025593429803848,-0.049081172794104,-0.080146089196205,-0.044016987085342,0.045492533594370,-0.040169071406126,-0.050650030374527,0.008104592561722,-0.011396594345570,0.005737775936723,0.010589404031634,0.040167324244976,-0.007731324527413,-0.081200681626797));
res += mul(Get(s3,0,dy), float4x4(-0.009126451797783,0.000221292721108,-0.021057575941086,0.048869341611862,-0.102997452020645,-0.075210690498352,-0.077630326151848,-0.013962669298053,-0.029908269643784,0.006997508462518,0.041567780077457,-0.000850641052239,0.028365701436996,0.059867754578590,0.048146385699511,-0.060434803366661));
res += mul(Get(s3,dx,-dy), float4x4(0.081413857638836,0.025884741917253,-0.004556438419968,0.022997649386525,0.058803614228964,0.048665903508663,0.011775846593082,-0.052490688860416,0.062773354351521,0.012072799727321,-0.032177709043026,-0.042820155620575,-0.030958531424403,0.012308604083955,-0.005578283220530,-0.108428768813610));
res += mul(Get(s3,dx,0), float4x4(0.003954152576625,-0.002445543417707,-0.057924687862396,-0.009176100604236,-0.048053886741400,0.021022679284215,0.019042788073421,-0.072682201862335,0.033155467361212,0.010966653935611,-0.041304025799036,0.012620902620256,0.048202104866505,0.015642751008272,-0.013250731863081,-0.024952376261353));
res += mul(Get(s3,dx,dy), float4x4(0.036622341722250,-0.012354726903141,-0.018019217997789,-0.021984813734889,-0.063124120235443,-0.015000832267106,-0.018390206620097,-0.075328588485718,0.035560615360737,-0.010791144333780,-0.006819649133831,0.016447464004159,0.020683901384473,0.052187532186508,0.065655648708344,0.025462446734309));
return max(float4(0,0,0,0), res);
}
