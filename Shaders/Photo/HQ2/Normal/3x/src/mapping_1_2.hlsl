sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.007981830276549,0.022524388507009,0.031007593497634,0.023023799061775,-0.002024852670729,-0.005257165525109,-0.010318454355001,0.005832496564835,0.002220368711278,0.009900894947350,0.009575805626810,0.000847312505357,0.038574572652578,-0.042215276509523,-0.040644537657499,-0.017763841897249));
res += mul(Get(s0,-dx,0), float4x4(-0.020551817491651,-0.005315702874213,0.008932797238231,-0.006610512733459,0.003918223548681,0.009328198619187,-0.008148819208145,-0.002851607976481,0.004367274232209,-0.008962266147137,0.006096833851188,-0.005431110039353,0.010339976288378,0.014543578028679,0.006637142039835,0.009303767234087));
res += mul(Get(s0,-dx,dy), float4x4(0.003764154156670,0.011610599234700,0.022340219467878,-0.004836064297706,-0.000075830248534,0.001000555348583,-0.003948841709644,-0.000126724989968,-0.006575655657798,0.001713702222332,0.008591817691922,-0.005614141002297,0.023231070488691,0.038732744753361,-0.067476078867912,-0.014943840913475));
res += mul(Get(s0,0,-dy), float4x4(0.011117289774120,0.022804809734225,0.021117951720953,0.011001118458807,0.005810965783894,-0.001943213865161,0.004573874641210,0.001946577569470,-0.004481551703066,-0.001594769884832,-0.005934700369835,0.006091505289078,0.009603616781533,-0.071354180574417,-0.027018800377846,-0.003713967278600));
res += mul(Get(s0,0,0), float4x4(0.005516042467207,0.008043792098761,-0.010970616713166,-0.008154622279108,0.012335450388491,0.002495842752978,0.002080207457766,-0.001801344566047,0.001005034777336,-0.000355569703970,0.000939802150242,-0.010698674246669,-0.035516630858183,0.004644035827368,0.047134511172771,-0.006731211207807));
res += mul(Get(s0,0,dy), float4x4(-0.009200267493725,0.011137354187667,0.007738860324025,-0.003616440342739,0.003120538545772,0.001460574916564,-0.005578082986176,-0.002094384282827,-0.002219748450443,-0.000763285905123,-0.002638378879055,0.018884863704443,0.067004375159740,0.054334167391062,0.151878550648689,0.095040149986744));
res += mul(Get(s0,dx,-dy), float4x4(0.009405188262463,0.007299735676497,-0.004155929200351,0.007701312191784,0.001255377894267,-0.003683216404170,0.001225708401762,-0.002473171101883,0.001628502970561,-0.001150037860498,-0.005529006011784,0.004248293116689,0.032030280679464,-0.042922567576170,0.094212785363197,0.052687231451273));
res += mul(Get(s0,dx,0), float4x4(-0.015154223889112,0.004854721482843,0.001241555088200,-0.017149178311229,0.002420824253932,-0.008078581653535,0.002714331727475,0.000249814620474,-0.003132670652121,-0.003959758672863,-0.006505145225674,-0.000745252007619,-0.036004573106766,0.018468320369720,-0.116124220192432,-0.040861252695322));
res += mul(Get(s0,dx,dy), float4x4(0.000631411152426,0.003196485107765,0.024036744609475,-0.004989468026906,0.008857472799718,0.001413529389538,-0.005197749473155,0.006481704767793,-0.001803360064514,0.010268947109580,-0.007516350131482,-0.009262282401323,-0.047522880136967,0.030437212437391,-0.052814796566963,-0.014854889363050));
res += mul(Get(s1,-dx,-dy), float4x4(-0.026202289387584,-0.012453964911401,0.021397355943918,0.002465560566634,-0.005218858830631,0.008375519886613,0.000742240110412,-0.001142252469435,-0.006289422977716,0.011444129981101,0.005761791020632,0.023268818855286,0.154389962553978,-0.067381978034973,0.051268182694912,0.096101120114326));
res += mul(Get(s1,-dx,0), float4x4(0.039415404200554,-0.007006214465946,0.039002314209938,0.017472501844168,0.016388060525060,-0.001181894564070,-0.014921109192073,-0.017701463773847,0.005184769164771,0.005006366409361,0.001110431039706,-0.003617281559855,-0.099178232252598,0.002385604195297,-0.223919019103050,-0.182709962129593));
res += mul(Get(s1,-dx,dy), float4x4(0.016512712463737,0.043916407972574,-0.008582862094045,-0.015471014194191,0.004998577758670,-0.006127513013780,0.010916889645159,-0.009224175475538,0.009518924169242,0.004089353606105,0.012966832146049,0.003543769707903,0.027684688568115,0.025204176083207,0.143537580966949,0.101954311132431));
res += mul(Get(s1,0,-dy), float4x4(-0.028374388813972,-0.032401476055384,-0.075789920985699,-0.021014546975493,-0.044133517891169,0.011388086713850,0.006213725078851,-0.029849765822291,-0.026779048144817,0.010929636657238,0.003759456099942,-0.015040395781398,0.069824434816837,-0.068834766745567,0.045043516904116,0.069522604346275));
res += mul(Get(s1,0,0), float4x4(0.021095605567098,-0.020133856683969,0.092000760138035,0.056592658162117,-0.004257496912032,-0.001946556731127,0.046085402369499,-0.007960613816977,-0.022642081603408,0.000332444702508,0.021077128127217,-0.012991582043469,0.001515122596174,0.023295117542148,0.108156062662601,-0.010629887692630));
res += mul(Get(s1,0,dy), float4x4(0.009353922680020,0.049327742308378,-0.035195738077164,-0.032775476574898,0.012430124916136,0.012344557791948,0.035353817045689,0.007222803309560,-0.008124493993819,-0.002524754032493,-0.000716945738532,-0.011311786249280,0.068052522838116,0.068082511425018,0.004969558678567,0.101639993488789));
res += mul(Get(s1,dx,-dy), float4x4(0.015765078365803,-0.011057752184570,0.064501076936722,0.029263187199831,-0.006000704597682,-0.014051374047995,-0.003392964834347,-0.003296230686828,0.000984224490821,-0.011656364426017,-0.006305628456175,-0.011509965173900,-0.063575483858585,-0.030934710055590,-0.040766067802906,0.002007343573496));
res += mul(Get(s1,dx,0), float4x4(-0.034194219857454,-0.018494421616197,-0.092991776764393,-0.034198880195618,0.005592484492809,-0.000278097984847,0.021538915112615,0.001001222524792,-0.000643958454020,-0.009851340204477,0.003081578528509,0.000047553025070,-0.037734471261501,0.032978460192680,-0.036295223981142,-0.013136362656951));
res += mul(Get(s1,dx,dy), float4x4(-0.008487619459629,0.013933585956693,0.047981623560190,-0.015365258790553,0.003138534491882,0.013162281364202,-0.006027714349329,-0.000444693141617,0.015330893918872,-0.009198858402669,-0.024253536015749,0.002673909068108,-0.050156287848949,0.043149288743734,-0.032862670719624,-0.024983055889606));
res += mul(Get(s2,-dx,-dy), float4x4(-0.059398435056210,-0.148013517260551,0.021819584071636,0.100307099521160,-0.048475746065378,-0.100120671093464,0.023310134187341,0.032630156725645,0.026529710739851,0.040517982095480,0.044389158487320,0.018783556297421,0.204463213682175,-0.075034677982330,0.072820290923119,0.139195740222931));
res += mul(Get(s2,-dx,0), float4x4(0.167922198772430,-0.105045124888420,-0.099517233669758,-0.026283986866474,0.127389162778854,-0.030476832762361,0.054387878626585,0.045890718698502,-0.006844196934253,0.018245421350002,0.000277930521406,-0.017996039241552,-0.078952737152576,0.021020961925387,-0.157869920134544,-0.105861827731133));
res += mul(Get(s2,-dx,dy), float4x4(0.019882146269083,0.149133279919624,0.031782548874617,-0.012685920111835,-0.001282721175812,0.165847644209862,0.037158977240324,-0.039475027471781,-0.005134377628565,0.026114845648408,0.022392051294446,-0.003511938266456,-0.016207819804549,0.056056085973978,0.028396323323250,0.088930018246174));
res += mul(Get(s2,0,-dy), float4x4(-0.163171663880348,-0.203701540827751,-0.102322392165661,-0.053513161838055,0.006630452815443,-0.115642756223679,0.031734980642796,0.086353406310081,-0.000475322915008,0.029623879119754,0.019099364057183,0.004387891385704,0.168372347950935,-0.074834600090981,0.049760751426220,0.112274825572968));
res += mul(Get(s2,0,0), float4x4(0.296596914529800,-0.021096039563417,0.713555753231049,0.381591230630875,0.138891130685806,0.031230757012963,0.159541249275208,0.117820866405964,-0.020655740052462,0.018609659746289,-0.001170802977867,-0.033652588725090,-0.124875545501709,0.001780737657100,-0.191255122423172,-0.201008200645447));
res += mul(Get(s2,0,dy), float4x4(0.115607962012291,0.351715385913849,-0.286825835704803,-0.156382501125336,0.012203357182443,0.230304807424545,-0.110875830054283,-0.155080765485764,-0.010847686789930,0.012301142327487,0.008267433382571,0.004173394758254,-0.003414913080633,0.025053653866053,0.137723684310913,0.152682602405548));
res += mul(Get(s2,dx,-dy), float4x4(-0.075754240155220,-0.149425670504570,0.034011315554380,0.077607713639736,-0.002644258085638,-0.104894265532494,0.002175759524107,0.090288765728474,0.018186673521996,0.015570476651192,0.018011376261711,0.005435144528747,0.047620482742786,-0.052589509636164,0.002279287669808,0.030129056423903));
res += mul(Get(s2,dx,0), float4x4(-0.145059853792191,-0.090787187218666,-0.376855134963989,-0.066044598817825,-0.152870818972588,-0.065695598721504,-0.194183826446533,-0.115728139877319,-0.029320992529392,-0.009369237348437,0.001429057330824,-0.021948259323835,-0.023534009233117,0.011217365972698,0.064716517925262,-0.049167249351740));
res += mul(Get(s2,dx,dy), float4x4(-0.085707642138004,0.182838812470436,0.154888868331909,-0.128293737769127,-0.046536743640900,0.082303792238235,0.201995342969894,-0.070666015148163,0.001765669672750,0.020101558417082,0.000353838200681,0.003659493988380,0.013735219836235,0.074760518968105,-0.054477255791426,0.079529583454132));
res += mul(Get(s3,-dx,-dy), float4x4(-0.010077510029078,0.006426431704313,0.005750011652708,0.000527328928001,-0.052250511944294,-0.026088805869222,-0.033199544996023,0.079811073839664,-0.010271685197949,-0.057662539184093,0.064555868506432,0.015966370701790,0.038757652044296,-0.014846924692392,-0.013808058574796,0.036379516124725));
res += mul(Get(s3,-dx,0), float4x4(0.001173909055069,-0.005005812272429,-0.001004422432743,-0.005490847397596,0.020760726183653,-0.085524596273899,0.011285575106740,0.007823136635125,0.053504433482885,0.012373679317534,0.107691116631031,0.031169282272458,-0.064593143761158,-0.005566722247750,0.035849105566740,-0.071025654673576));
res += mul(Get(s3,-dx,dy), float4x4(0.005105788353831,-0.000271378958132,0.001434177509509,-0.001950022298843,0.051016636192799,0.009728183969855,-0.041710931807756,-0.030078683048487,0.039405938237906,0.097232863306999,-0.011942280456424,-0.027698846533895,0.004915359895676,-0.004464937839657,0.033122994005680,0.068020366132259));
res += mul(Get(s3,0,-dy), float4x4(0.007840364240110,-0.003952105995268,0.002067189896479,-0.001261230092496,-0.115030080080032,-0.016955170780420,0.059572611004114,-0.041409317404032,-0.058119926601648,-0.040666457265615,-0.159495308995247,-0.056073565036058,0.035985734313726,-0.054237402975559,0.003971606492996,0.029912233352661));
res += mul(Get(s3,0,0), float4x4(-0.005606027320027,0.008529483340681,-0.014279752038419,0.001314135384746,-0.009400934912264,-0.052084233611822,0.059242442250252,-0.052243292331696,-0.065396636724472,-0.023133931681514,-0.107903964817524,-0.069932512938976,-0.087462589144707,-0.040188159793615,0.008380740880966,-0.069716624915600));
res += mul(Get(s3,0,dy), float4x4(0.005546452477574,-0.003264112165198,0.003177212318406,0.014090280048549,-0.042030230164528,0.045582830905914,-0.004207293968648,-0.040232341736555,-0.012694091536105,0.068097956478596,0.022154914215207,-0.016800992190838,0.005266881547868,-0.036510229110718,0.069625899195671,0.133600801229477));
res += mul(Get(s3,dx,-dy), float4x4(-0.007100678514689,-0.001607789658010,-0.004613497294486,0.002938770456240,0.034988161176443,-0.025419451296329,0.076350793242455,0.024207042530179,0.003278989577666,-0.026522723957896,0.239434450864792,0.048398569226265,-0.003984765149653,0.000123579986393,-0.000752207357436,0.006151146721095));
res += mul(Get(s3,dx,0), float4x4(0.005714186467230,-0.001566934632137,-0.006040342152119,-0.003991873003542,0.131341472268105,0.003988360054791,0.094360023736954,0.067646697163582,0.035287529230118,-0.015662202611566,0.176868632435799,0.058693233877420,-0.066442415118217,-0.006080925930291,-0.010769354179502,-0.062057711184025));
res += mul(Get(s3,dx,dy), float4x4(-0.002995252842084,0.005407997872680,0.003061092691496,0.004377059172839,0.015625247731805,0.062712021172047,0.039465922862291,-0.044038832187653,0.021512940526009,0.088259927928448,-0.028315231204033,-0.060085199773312,-0.009302416816354,-0.005749701987952,0.029393084347248,0.073851391673088));
return max(float4(0,0,0,0), res);
}
