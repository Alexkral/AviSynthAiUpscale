sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.052696961909533,0.000921568658669,-0.000783498748206,-0.005576608236879) * Get(-dx,-dy);
res += float4(0.034525945782661,-0.001614722888917,0.001410368015058,-0.162600755691528) * Get(-dx,0);
res += float4(0.066106736660004,0.000876378675457,-0.002653959905729,0.081808909773827) * Get(-dx,dy);
res += float4(-0.056650292128325,-0.000157338465215,-0.001667775213718,0.261067122220993) * Get(0,-dy);
res += float4(0.009610252454877,-0.002444177633151,-0.000868349103257,0.039809081703424) * Get(0,0);
res += float4(0.041765604168177,-0.000321196130244,-0.000621058221441,-0.042224202305079) * Get(0,dy);
res += float4(-0.035224575549364,-0.000653395953123,0.000087450913270,-0.109458543360233) * Get(dx,-dy);
res += float4(-0.001707175746560,0.000015448549675,-0.001233138842508,-0.001178307109512) * Get(dx,0);
res += float4(-0.001059009111486,-0.001302359742112,0.001239645644091,0.016735445708036) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
