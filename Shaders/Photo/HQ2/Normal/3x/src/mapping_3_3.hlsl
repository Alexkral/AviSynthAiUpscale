sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.049581930041313,-0.044505760073662,0.114579468965530,0.043461870402098,0.018344160169363,-0.012519731186330,0.022505003958941,0.090624481439590,-0.011149620637298,0.009149982593954,0.024833463132381,0.000769031175878,-0.046602383255959,-0.020180480554700,0.027102107182145,0.002482532523572));
res += mul(Get(s0,-dx,0), float4x4(0.024461634457111,-0.000991762382910,0.155375987291336,0.005570192355663,0.019659133628011,-0.020144730806351,0.028477840125561,0.031363479793072,0.012350315228105,-0.010314341634512,0.015074841678143,0.000121970319015,-0.059465307742357,-0.013980091549456,0.015129302628338,-0.019107691943645));
res += mul(Get(s0,-dx,dy), float4x4(0.000973822141532,0.014700151979923,0.101786307990551,-0.017986051738262,-0.029842071235180,0.002777032321319,0.053204402327538,-0.043438289314508,0.021562682464719,0.034743189811707,0.014742829836905,0.009605064056814,-0.052973836660385,0.019566353410482,-0.007885809987783,-0.014755765907466));
res += mul(Get(s0,0,-dy), float4x4(0.119491077959538,-0.138904601335526,0.049030520021915,-0.019636247307062,-0.003225043648854,-0.066932201385498,0.048750869929790,-0.002138164825737,0.002842230955139,0.009623453952372,0.008650900796056,-0.015715701505542,0.017754955217242,0.041292354464531,0.003713281126693,-0.050299715250731));
res += mul(Get(s0,0,0), float4x4(0.089030705392361,-0.066485986113548,0.025725793093443,-0.053947653621435,0.053976256400347,-0.084728911519051,0.081811122596264,0.016421945765615,-0.000801191665232,-0.006463680416346,0.010487637482584,0.006231172010303,-0.020620204508305,0.023531492799520,-0.034408245235682,0.034790046513081));
res += mul(Get(s0,0,dy), float4x4(0.011545525863767,0.017495544627309,-0.081586241722107,-0.094681657850742,0.052091300487518,-0.036863967776299,0.040821645408869,-0.017691094428301,0.025074908509851,0.001643993193284,-0.004933480173349,0.043612029403448,-0.090611338615417,0.014136502519250,-0.059854079037905,0.063222631812096));
res += mul(Get(s0,dx,-dy), float4x4(0.079278960824013,-0.074688643217087,-0.039893787354231,-0.067590802907944,-0.025858702138066,-0.054904371500015,0.026064587756991,0.026662094518542,0.016999933868647,0.001781749306247,-0.017121618613601,-0.012217801064253,0.014409625902772,0.017721468582749,-0.002930055605248,-0.051885921508074));
res += mul(Get(s0,dx,0), float4x4(0.024962563067675,-0.029542705044150,-0.086463399231434,-0.078951433300972,-0.054116588085890,0.027157329022884,0.024229159578681,-0.037677522748709,-0.017017628997564,-0.016134578734636,0.012518689036369,0.019661420956254,-0.094796791672707,0.062130760401487,-0.020203268155456,-0.077018074691296));
res += mul(Get(s0,dx,dy), float4x4(0.046714361757040,0.015447127632797,-0.102197602391243,-0.090276874601841,0.022055469453335,0.052510082721710,-0.001915928674862,-0.017621401697397,0.033619329333305,-0.003798852907494,-0.008193111047149,0.035381902009249,-0.040637094527483,0.025937458500266,-0.007451395038515,-0.029758339747787));
res += mul(Get(s1,-dx,-dy), float4x4(-0.065486617386341,0.012537313625216,0.023550784215331,-0.044848784804344,0.034538228064775,0.025418996810913,-0.042608696967363,0.104001358151436,-0.032882302999496,-0.046312928199768,-0.032206725329161,-0.060669589787722,0.082397088408470,-0.089096188545227,0.044571414589882,0.006436232477427));
res += mul(Get(s1,-dx,0), float4x4(0.029089923948050,-0.000212861952605,-0.032040100544691,-0.033241540193558,0.024225126951933,-0.038086041808128,-0.015029856003821,0.130399852991104,-0.002014177385718,-0.040791936218739,-0.009102731011808,-0.043836776167154,0.051452320069075,-0.123138763010502,-0.048786617815495,0.008657295256853));
res += mul(Get(s1,-dx,dy), float4x4(-0.044669169932604,0.035447310656309,0.085588693618774,-0.045539353042841,0.062933236360550,-0.057535514235497,-0.003450419055298,0.028785243630409,0.010427633300424,-0.018627848476171,0.015346873551607,0.012931969948113,-0.020481558516622,-0.013080636039376,-0.042163729667664,-0.009708855301142));
res += mul(Get(s1,0,-dy), float4x4(-0.031283341348171,0.012228216975927,0.006637495942414,-0.022094625979662,-0.026336120441556,0.038345508277416,0.006310856435448,-0.024233836680651,-0.012163368985057,-0.052764739841223,-0.027793280780315,-0.045146156102419,0.011277837678790,-0.005744011141360,-0.037378214299679,0.038985997438431));
res += mul(Get(s1,0,0), float4x4(-0.011965906247497,0.000977845862508,-0.093516677618027,0.023471329361200,0.031761638820171,-0.024133669212461,0.010887689888477,-0.014124112203717,0.112203404307365,-0.045485761016607,-0.019913023337722,-0.020894106477499,-0.015135345980525,-0.111425966024399,-0.063905790448189,0.037394817918539));
res += mul(Get(s1,0,dy), float4x4(0.036270387470722,0.057749968022108,0.013782819733024,-0.057878494262695,0.053025152534246,0.020968684926629,0.014842018485069,-0.121279619634151,0.098727330565453,0.013057486154139,0.021503919735551,0.019081724807620,-0.013532327488065,-0.006768316496164,-0.035911928862333,-0.016202641651034));
res += mul(Get(s1,dx,-dy), float4x4(0.036249306052923,-0.003954550717026,-0.028128923848271,-0.060094565153122,-0.002979079028592,0.082966133952141,-0.004911815747619,0.032832704484463,-0.049198217689991,-0.016582276672125,0.007610129192472,-0.026233946904540,0.005582660902292,-0.004373157862574,-0.071016915142536,0.067436255514622));
res += mul(Get(s1,dx,0), float4x4(-0.016572173684835,0.004342084284872,-0.045037254691124,-0.037615180015564,-0.003377456683666,0.035742394626141,-0.015005923807621,0.028767101466656,0.004413686227053,-0.018681239336729,0.002604522509500,0.047380745410919,-0.013130443170667,-0.075236886739731,-0.104448080062866,0.020169001072645));
res += mul(Get(s1,dx,dy), float4x4(-0.022072622552514,0.138242796063423,-0.034478683024645,0.010460990481079,0.057686090469360,0.087359599769115,-0.047352567315102,-0.050879649817944,0.024431973695755,0.027817832306027,0.026376714929938,0.066124580800533,0.010816341266036,0.036135263741016,-0.024167437106371,0.035117376595736));
res += mul(Get(s2,-dx,-dy), float4x4(0.074293784797192,0.015798278152943,0.031425986438990,0.028869528323412,0.009486582130194,0.013874205760658,-0.013805611990392,0.062856703996658,-0.042651765048504,0.059534512460232,-0.007107240613550,0.050337485969067,-0.022309260442853,-0.060576796531677,-0.032232265919447,-0.018574075773358));
res += mul(Get(s2,-dx,0), float4x4(-0.040009815245867,0.102961890399456,0.048610575497150,-0.039534874260426,0.052037097513676,-0.028965046629310,0.040293470025063,-0.000723872857634,-0.092383287847042,0.132863223552704,0.039591521024704,-0.044303644448519,-0.024233747273684,-0.020216854289174,-0.009819759987295,-0.012876849621534));
res += mul(Get(s2,-dx,dy), float4x4(0.046891495585442,-0.037696372717619,0.099527068436146,0.030464675277472,0.054259795695543,-0.033412851393223,0.010170943103731,-0.031458761543036,0.019700953736901,-0.026384109631181,0.106872551143169,0.101337403059006,-0.010234626941383,0.030006116256118,-0.013061731122434,-0.054688155651093));
res += mul(Get(s2,0,-dy), float4x4(0.094689749181271,0.104705840349197,-0.119027756154537,-0.017577320337296,-0.009503053501248,-0.017079774290323,0.004533175844699,0.047286845743656,0.227551981806755,-0.061970472335815,-0.057632576674223,0.193235322833061,-0.007588949054480,-0.049534711986780,-0.019748128950596,0.002990866545588));
res += mul(Get(s2,0,0), float4x4(-0.076966688036919,0.064978212118149,-0.094032190740108,0.105918496847153,0.022678902372718,-0.034646943211555,0.014893620274961,-0.097147449851036,0.199516654014587,-0.057349167764187,0.060275722295046,0.328285366296768,-0.012019244953990,-0.041430205106735,-0.020098410546780,-0.032375432550907));
res += mul(Get(s2,0,dy), float4x4(-0.018049668520689,-0.001406485447660,0.028749711811543,0.121825538575649,0.033346712589264,-0.086370915174484,-0.004444605670869,-0.034547548741102,-0.174500986933708,0.100528396666050,0.052125550806522,-0.114491067826748,-0.001561657991260,0.014671368524432,-0.006422824226320,-0.019304716959596));
res += mul(Get(s2,dx,-dy), float4x4(0.013449518010020,-0.004742933902889,-0.165067166090012,-0.024671003222466,0.005322678480297,-0.040452279150486,-0.035421375185251,0.026970729231834,-0.110356673598289,-0.116734132170677,0.008724718354642,-0.043943855911493,-0.013631999492645,-0.034976791590452,-0.049459781497717,0.000453350687167));
res += mul(Get(s2,dx,0), float4x4(-0.004784554243088,-0.075976572930813,-0.184721365571022,0.056040242314339,-0.046349473297596,-0.069153547286987,-0.017779683694243,-0.043717082589865,0.123077966272831,0.055399615317583,0.005720439832658,-0.245497480034828,-0.023030027747154,-0.054405648261309,-0.033563293516636,-0.039624504745007));
res += mul(Get(s2,dx,dy), float4x4(-0.073752544820309,-0.016261767596006,-0.021499715745449,0.001383482245728,-0.022578312084079,-0.073378533124924,-0.033479060977697,-0.010248499922454,-0.031283449381590,0.216429263353348,0.054272018373013,0.000552868936211,-0.014420848339796,-0.006268488243222,0.004374696873128,0.035295110195875));
res += mul(Get(s3,-dx,-dy), float4x4(0.033603746443987,0.016299506649375,-0.004035421181470,-0.015173439867795,-0.070567183196545,0.012735247612000,0.009289891459048,-0.028427403420210,-0.025826828554273,-0.005320236086845,-0.016605993732810,-0.021271290257573,-0.001482903608121,-0.085342347621918,-0.035425864160061,-0.055468551814556));
res += mul(Get(s3,-dx,0), float4x4(0.019838454201818,0.007309230044484,0.002511419821531,-0.028430014848709,-0.038220766931772,-0.002046335255727,-0.036435183137655,-0.012270130217075,0.006451490335166,-0.015311792492867,-0.020899988710880,-0.011750053614378,0.040675502270460,-0.063602596521378,0.015378068201244,-0.045660622417927));
res += mul(Get(s3,-dx,dy), float4x4(0.004281874280423,0.005358187947422,0.009246745146811,-0.013546321541071,-0.038748290389776,-0.030984830111265,-0.030492387712002,-0.010056281462312,-0.000188431688002,0.001428952091374,0.001439823303372,-0.007272786926478,0.032392542809248,-0.065648026764393,0.032400097697973,-0.043345201760530));
res += mul(Get(s3,0,-dy), float4x4(0.016770958900452,0.002125022467226,-0.008331911638379,-0.003207952249795,-0.042304728180170,0.051573332399130,0.006318344268948,0.005070622079074,-0.035986844450235,-0.019893437623978,-0.013877184130251,-0.037513297051191,-0.018520787358284,-0.021615536883473,-0.063745081424713,-0.022267168387771));
res += mul(Get(s3,0,0), float4x4(0.114977151155472,-0.006037060171366,0.005293115507811,0.019298866391182,-0.066676437854767,0.013314059935510,-0.024926826357841,0.021836506202817,0.007492118049413,-0.044754516333342,-0.023708837106824,-0.012920674867928,0.147788643836975,-0.024488303810358,-0.021866131573915,0.031412687152624));
res += mul(Get(s3,0,dy), float4x4(0.027009468525648,0.002401550533250,0.018552681431174,-0.008885449729860,-0.024365669116378,-0.042073406279087,-0.024977669119835,0.005935160908848,0.013515750877559,0.009549581445754,0.029905803501606,0.006169512867928,0.053583987057209,-0.002230635145679,0.026415346190333,0.028434805572033));
res += mul(Get(s3,dx,-dy), float4x4(-0.041359439492226,0.008367802016437,0.015158688649535,0.012355592101812,-0.018370039761066,0.018235372379422,0.003280336037278,0.011137624271214,-0.029812306165695,-0.030644062906504,-0.013098926283419,-0.032894846051931,-0.037848610430956,-0.026884883642197,-0.063739344477654,0.034562941640615));
res += mul(Get(s3,dx,0), float4x4(0.026668708771467,0.007153417449445,0.017819110304117,-0.015883518382907,-0.014821281656623,-0.005103224888444,-0.004978158976883,0.026343645527959,-0.011545768938959,-0.038054253906012,-0.023525672033429,0.000749648199417,0.101846851408482,0.084678277373314,-0.006651824805886,0.030320050194860));
res += mul(Get(s3,dx,dy), float4x4(0.023817157372832,0.020428786054254,0.023059260100126,-0.020719900727272,0.004674122668803,-0.050158768892288,-0.003292298642918,-0.006121208891273,-0.024963958188891,0.010546740144491,0.021944623440504,0.026397610083222,0.039776872843504,0.101032026112080,0.110580787062645,-0.013149648904800));
return max(float4(0,0,0,0), res);
}
