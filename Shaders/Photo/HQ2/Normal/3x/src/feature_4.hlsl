sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.002482461044565,0.131379067897797,-0.029046088457108,0.238662809133530) * Get(-dx,-dy);
res += float4(-0.000057037745137,0.493756324052811,0.076600819826126,-0.169998228549957) * Get(-dx,0);
res += float4(0.005176936741918,0.274249643087387,0.112168081104755,-0.149158194661140) * Get(-dx,dy);
res += float4(-0.003007384249941,-0.102173969149590,-0.035346206277609,0.430801153182983) * Get(0,-dy);
res += float4(-0.004222683608532,-0.057327523827553,-0.255692690610886,-0.081808924674988) * Get(0,0);
res += float4(-0.002084928099066,-0.148535162210464,-0.316431611776352,-0.169076576828957) * Get(0,dy);
res += float4(0.005116513464600,-0.114047951996326,0.049290526658297,0.197170674800873) * Get(dx,-dy);
res += float4(-0.000102877696918,-0.213189840316772,0.355541706085205,-0.082638509571552) * Get(dx,0);
res += float4(-0.002171817701310,-0.160128176212311,0.209362328052521,-0.138107523322105) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
