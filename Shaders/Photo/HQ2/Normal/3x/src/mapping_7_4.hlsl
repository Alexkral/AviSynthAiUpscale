sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.084785223007202,-0.006046790163964,0.048149924725294,0.030077053233981,0.034775108098984,0.048799879848957,0.013882887549698,-0.034850537776947,0.029062824323773,0.004062216728926,-0.031557053327560,-0.006984032690525,0.086661733686924,0.016610030084848,-0.075353182852268,0.040128756314516));
res += mul(Get(s0,-dx,0), float4x4(-0.122338749468327,-0.004012084566057,0.093142099678516,0.064054675400257,0.151764035224915,-0.013401021249592,-0.033786572515965,-0.053218089044094,0.018857315182686,-0.053050473332405,-0.007582685444504,0.002233526902273,0.137663871049881,0.033919528126717,-0.070292286574841,0.013099521398544));
res += mul(Get(s0,-dx,dy), float4x4(0.019398299977183,-0.022366618737578,0.011211665347219,-0.002167789731175,0.050952494144440,-0.078855708241463,-0.022089442238212,-0.071353115141392,-0.042926140129566,-0.006088870577514,-0.013251363299787,0.046824023127556,0.056570012122393,0.019508702680469,-0.028047138825059,0.029954658821225));
res += mul(Get(s0,0,-dy), float4x4(-0.011211542412639,-0.019971368834376,0.067724198102951,-0.066103219985962,0.039956133812666,0.121130764484406,0.024546058848500,0.060700867325068,-0.051779672503471,0.042589329183102,0.019571812823415,0.038854867219925,0.050475571304560,0.004799915011972,-0.038848519325256,0.031988602131605));
res += mul(Get(s0,0,0), float4x4(0.021157585084438,-0.004584196023643,0.016981521621346,-0.040252771228552,-0.143967807292938,0.076867230236530,0.139373853802681,0.096541158854961,0.099336989223957,-0.050604142248631,0.036462273448706,-0.029244156554341,0.013883461244404,0.014078422449529,-0.009721868671477,0.079732388257980));
res += mul(Get(s0,0,dy), float4x4(0.002125256927684,0.028739770874381,0.019077122211456,0.066198348999023,0.195083811879158,-0.068890050053596,0.034681003540754,-0.116458781063557,0.127351865172386,-0.007754871156067,-0.091365672647953,-0.018654685467482,0.025181733071804,0.010031526908278,-0.007493932731450,0.045565649867058));
res += mul(Get(s0,dx,-dy), float4x4(0.015187136828899,-0.021894674748182,0.014527448453009,-0.028148170560598,0.045843273401260,0.010689006187022,0.019541328772902,-0.002762958873063,0.014585896395147,0.014215580187738,-0.012364132329822,-0.004026103299111,-0.023683859035373,-0.009808911941946,-0.024402115494013,-0.004749665502459));
res += mul(Get(s0,dx,0), float4x4(0.034220665693283,-0.024890616536140,0.015094402246177,-0.015390145592391,0.084399141371250,0.000294083380140,0.036238577216864,-0.004365759436041,0.086339429020882,-0.041671730577946,-0.043901678174734,-0.007116494700313,-0.010174632072449,-0.005100330803543,-0.001413806225173,0.007604687940329));
res += mul(Get(s0,dx,dy), float4x4(0.012175359763205,-0.002515089232475,0.037131484597921,0.011105416342616,-0.000730628264137,-0.056498233228922,0.034474354237318,-0.067286990582943,-0.028024334460497,0.014091680757701,-0.074529647827148,-0.004012173507363,-0.032210893929005,0.018140118569136,-0.019435431808233,0.053124304860830));
res += mul(Get(s1,-dx,-dy), float4x4(0.067144744098186,0.009131341241300,0.005507112480700,0.043493758887053,-0.066782034933567,0.015061889775097,-0.029721820726991,-0.020047631114721,0.063588567078114,0.009859451092780,0.047867730259895,0.069277085363865,0.034828286617994,-0.014275847002864,0.040639672428370,-0.005191361997277));
res += mul(Get(s1,-dx,0), float4x4(0.091120995581150,0.054998811334372,-0.040910258889198,-0.016833454370499,-0.019894702360034,0.002619483042508,-0.021281905472279,-0.022386092692614,0.029348760843277,0.003113466780633,0.000348844565451,0.053707752376795,-0.004625479225069,-0.011713600717485,0.023017073050141,0.035401053726673));
res += mul(Get(s1,-dx,dy), float4x4(0.004343594424427,0.111783437430859,0.001347460551187,-0.039574719965458,0.029316009953618,0.059197250753641,-0.005759809166193,0.001047184690833,0.014152522198856,0.023576430976391,-0.006466566585004,-0.017842620611191,0.046077296137810,-0.000482905743411,-0.011385077610612,0.005729492288083));
res += mul(Get(s1,0,-dy), float4x4(0.084664680063725,0.007175342645496,-0.038791004568338,0.016297636553645,0.068215996026993,-0.002669814508408,-0.027953131124377,-0.034898806363344,0.056138675659895,0.018854290246964,0.038884811103344,0.068597540259361,-0.018512653186917,0.055506173521280,0.057975381612778,0.012742087244987));
res += mul(Get(s1,0,0), float4x4(0.079011850059032,0.049557272344828,-0.035328466445208,0.009435700252652,0.077487587928772,0.000194539868971,-0.027528425678611,-0.005805016029626,0.215263783931732,-0.022616427391768,0.004346267320216,0.067544795572758,0.021452533081174,0.012541969306767,0.109918907284737,0.022410431876779));
res += mul(Get(s1,0,dy), float4x4(-0.044051174074411,0.102867551147938,0.006969489157200,0.001414925791323,-0.067091874778271,0.053749732673168,0.073911778628826,0.097912937402725,0.049171756953001,0.036308050155640,-0.032421771436930,0.022536650300026,0.151281327009201,0.017316898331046,-0.012468188069761,0.025556169450283));
res += mul(Get(s1,dx,-dy), float4x4(-0.074642963707447,-0.018773313611746,-0.007446286268532,0.053520925343037,0.010079809464514,-0.003620122326538,-0.041299652308226,0.003224092535675,0.025620821863413,-0.040165994316339,0.028528483584523,0.115715943276882,-0.021358706057072,0.027399752289057,0.006821614690125,-0.040501479059458));
res += mul(Get(s1,dx,0), float4x4(-0.027836743742228,0.013918068259954,-0.028772614896297,0.050168097019196,-0.044103283435106,0.014952478930354,0.029977789148688,-0.024773342534900,0.043279200792313,-0.018502818420529,-0.022747375071049,0.077845588326454,0.066017158329487,0.012325572781265,-0.028351077809930,-0.002396745141596));
res += mul(Get(s1,dx,dy), float4x4(-0.050656508654356,0.058478884398937,-0.033949341624975,-0.043833568692207,-0.046287696808577,0.024030596017838,0.057259649038315,0.036517858505249,0.017600640654564,0.029756609350443,-0.034505870193243,0.039814446121454,-0.026313975453377,0.007518405560404,-0.008051205426455,0.048743627965450));
res += mul(Get(s2,-dx,-dy), float4x4(0.015231535769999,0.020232679322362,0.018508020788431,0.018026916310191,-0.126614823937416,-0.004346083849669,0.084889851510525,-0.011867221444845,-0.012222332879901,0.005595135502517,0.003177603473887,0.039629675447941,-0.014541948214173,0.031469881534576,0.024081598967314,0.042137924581766));
res += mul(Get(s2,-dx,0), float4x4(0.021937821060419,-0.025757892057300,0.029987707734108,0.021759588271379,-0.073415450751781,-0.033272940665483,0.015643738210201,-0.043272811919451,-0.079701311886311,0.016766794025898,0.011190071702003,0.138128742575645,-0.052359804511070,-0.008790903724730,0.079252742230892,0.112600654363632));
res += mul(Get(s2,-dx,dy), float4x4(-0.051292512565851,-0.052442535758018,-0.001745243440382,-0.018846731632948,-0.035999160259962,0.003770698327571,-0.014343573711812,0.021024208515882,0.016356995329261,-0.013734116218984,0.020044289529324,0.092546060681343,0.021476797759533,-0.073522724211216,0.016906512901187,0.014269838109612));
res += mul(Get(s2,0,-dy), float4x4(-0.036128364503384,0.031408976763487,0.044000662863255,0.040719393640757,0.156057074666023,-0.041742675006390,0.033194445073605,-0.062791563570499,0.047268576920033,-0.005518352147192,-0.039292801171541,0.009430500678718,-0.051607299596071,0.032689150422812,0.046989824622869,0.002437979215756));
res += mul(Get(s2,0,0), float4x4(0.169126346707344,-0.030016131699085,-0.005421217065305,-0.020728874951601,0.071205109357834,-0.016500113531947,-0.048263326287270,-0.044534511864185,0.003521225415170,0.006910235621035,-0.018105179071426,0.000433200650150,-0.083352744579315,0.022672252729535,0.115255676209927,0.074588797986507));
res += mul(Get(s2,0,dy), float4x4(0.003968218807131,-0.029526691883802,-0.041481640189886,-0.050884507596493,0.068232841789722,0.001555222785100,-0.007627743296325,-0.003335362998769,-0.071215219795704,0.005546330008656,0.041633866727352,0.092111907899380,0.049586892127991,-0.029723178595304,0.019255951046944,0.017877474427223));
res += mul(Get(s2,dx,-dy), float4x4(0.003877505660057,0.013725951313972,0.020703624933958,0.022472269833088,0.033799577504396,-0.025028657168150,-0.025977779179811,-0.006593281868845,-0.023000348359346,0.029623119160533,-0.036220017820597,0.074976377189159,0.025025766342878,0.058451414108276,0.024139722809196,-0.036331452429295));
res += mul(Get(s2,dx,0), float4x4(0.062565773725510,-0.006593765690923,0.003955415450037,0.021411502733827,-0.003949183970690,-0.038169521838427,0.013484212569892,-0.005406897980720,0.091017149388790,-0.007277986500412,-0.066806569695473,0.031497225165367,0.077587902545929,0.032087896019220,0.034532513469458,-0.000040957231249));
res += mul(Get(s2,dx,dy), float4x4(0.002173201646656,-0.013617306016386,-0.011228512972593,-0.045870862901211,0.058574303984642,-0.017508938908577,-0.006225784309208,-0.024308593943715,-0.012278721667826,0.004987990483642,-0.041809123009443,0.037539958953857,0.012260047718883,0.002818976296112,0.012043502181768,0.026075905188918));
res += mul(Get(s3,-dx,-dy), float4x4(0.116677880287170,0.013739945366979,-0.095660775899887,0.012807250022888,-0.002210711594671,-0.006399869453162,-0.005686006974429,-0.012337653897703,-0.014447275549173,0.013617618009448,-0.037033017724752,0.020216332748532,0.018670389428735,0.020764699205756,-0.005100651644170,-0.008907633833587));
res += mul(Get(s3,-dx,0), float4x4(0.029169278219342,0.028692221269011,-0.025500487536192,0.075642421841621,-0.030519198626280,-0.006207654252648,-0.006924970075488,0.037429913878441,-0.087924256920815,0.060739524662495,0.078819125890732,0.093423321843147,0.050991009920835,0.001187957357615,-0.015224806033075,-0.019287068396807));
res += mul(Get(s3,-dx,dy), float4x4(0.002854153746739,-0.003215945092961,0.008969133719802,0.027755837887526,0.028117487207055,-0.002578623360023,-0.018214207142591,-0.009982363320887,-0.071131430566311,-0.048122543841600,0.032732520252466,-0.007277220953256,0.074356138706207,0.007310587912798,-0.018935805186629,0.001404571346939));
res += mul(Get(s3,0,-dy), float4x4(-0.061669841408730,-0.010769495740533,-0.049246948212385,0.006008266005665,0.075765840709209,0.010334706865251,0.033250439912081,-0.026589609682560,-0.012360067106783,0.048726759850979,-0.008555303327739,-0.047905009239912,-0.001245427643880,-0.007416735868901,0.049095407128334,-0.034158594906330));
res += mul(Get(s3,0,0), float4x4(-0.123468570411205,0.005922694690526,0.078452795743942,0.074716970324516,-0.044959310442209,0.045155700296164,0.018287420272827,0.005064928438514,0.009221524931490,0.073490187525749,0.064183734357357,0.015484967269003,0.117427602410316,-0.050517853349447,-0.023122483864427,-0.044475469738245));
res += mul(Get(s3,0,dy), float4x4(-0.050207186490297,-0.007622540928423,0.011488810181618,0.020478760823607,-0.017056252807379,0.023930137977004,0.053264454007149,0.023976190015674,0.008291006088257,-0.026882797479630,0.044726561754942,-0.014670402742922,-0.022875266149640,-0.000627508561593,-0.010062266141176,-0.016481695696712));
res += mul(Get(s3,dx,-dy), float4x4(-0.038225803524256,0.001961492467672,-0.034864224493504,-0.030244315043092,0.084977485239506,-0.028633447363973,0.010044179856777,-0.028357842937112,0.050390392541885,0.078768007457256,-0.030077358707786,-0.012813076376915,-0.022441793233156,-0.029436232522130,0.006299680098891,-0.078094355762005));
res += mul(Get(s3,dx,0), float4x4(-0.022118141874671,0.028668042272329,0.022639198228717,-0.006363856140524,0.144878789782524,0.002130998065695,-0.055478304624557,-0.045239582657814,0.069575563073158,0.087650485336781,-0.000469527789392,-0.039076834917068,-0.097224324941635,-0.047897942364216,0.035751972347498,-0.043724026530981));
res += mul(Get(s3,dx,dy), float4x4(0.002431344706565,0.000963358848821,-0.012753820046782,0.008230163715780,0.035900637507439,-0.011268454603851,0.007023063488305,-0.026549682021141,0.030702365562320,-0.018516911193728,0.016446072608232,-0.006992025300860,-0.022675419226289,-0.022876823320985,-0.016179610043764,-0.064853064715862));
return max(float4(0,0,0,0), res);
}
