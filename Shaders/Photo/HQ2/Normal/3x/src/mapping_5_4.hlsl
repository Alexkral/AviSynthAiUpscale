sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.049349792301655,0.011836268939078,0.010453112423420,0.011328163556755,0.062293626368046,-0.095225557684898,0.068359903991222,0.022242834791541,-0.014680510386825,-0.005705863237381,0.019220372661948,-0.010069807060063,-0.004413131158799,-0.233677089214325,0.034528542309999,-0.008665328845382));
res += mul(Get(s0,-dx,0), float4x4(0.000213449588045,0.004144806880504,0.011331457644701,0.056511484086514,0.028589069843292,0.002272111596540,-0.029444914311171,0.028373418375850,-0.013686055317521,-0.006487244740129,0.025753729045391,0.028212253004313,-0.033884860575199,0.167284443974495,-0.003020888427272,0.009960968978703));
res += mul(Get(s0,-dx,dy), float4x4(-0.017444364726543,0.016893023625016,-0.056436315178871,0.050644163042307,-0.004433076828718,0.057743329554796,-0.085635185241699,0.027500238269567,-0.014337451197207,-0.004347885493189,0.029345152899623,-0.017842171713710,0.041772697120905,-0.036137800663710,-0.024727005511522,-0.019351247698069));
res += mul(Get(s0,0,-dy), float4x4(0.015231027267873,-0.052022777497768,0.015376918017864,0.012675517238677,0.043290849775076,0.000832528166939,0.065263889729977,-0.017656169831753,0.017375914379954,-0.046939030289650,0.004280732478946,0.041227724403143,-0.015816794708371,0.112039417028427,0.044015787541866,0.070477634668350));
res += mul(Get(s0,0,0), float4x4(0.018696958199143,0.013562397100031,-0.006597476545721,0.170822426676750,-0.015881737694144,-0.010181465186179,0.008203960955143,-0.004277762491256,-0.051447696983814,0.092162437736988,0.036680974066257,0.037081532180309,0.110464096069336,-0.179878592491150,0.075964421033859,0.032739248126745));
res += mul(Get(s0,0,dy), float4x4(0.003423286136240,0.094332031905651,-0.069580502808094,0.185341909527779,0.016230663284659,0.040245011448860,-0.112906865775585,0.026000136509538,-0.014317922294140,0.005744945257902,0.017192339524627,-0.054362300783396,0.030117027461529,0.119249798357487,0.033447451889515,0.006345095112920));
res += mul(Get(s0,dx,-dy), float4x4(0.016589345410466,0.019436908885837,0.055460352450609,0.025027466937900,0.014558103866875,0.028742723166943,-0.025789443403482,-0.057366110384464,-0.007471480406821,-0.013990943320096,0.009772654622793,0.043408937752247,0.005317693576217,-0.061527300626040,-0.027122287079692,-0.101204127073288));
res += mul(Get(s0,dx,0), float4x4(0.005769337527454,-0.027312284335494,-0.029581584036350,0.058825779706240,-0.007402266841382,0.005435783416033,-0.019843870773911,0.023201538249850,-0.033039417117834,-0.037767410278320,0.014873033389449,0.033373415470123,-0.030928788706660,0.161014303565025,0.002079355297610,-0.001945855678059));
res += mul(Get(s0,dx,dy), float4x4(0.030006436631083,0.034315671771765,-0.057679351419210,0.066854238510132,-0.001738484366797,0.024131370708346,-0.097340390086174,0.029305931180716,-0.013907564803958,0.005314683075994,0.009470511227846,-0.051808606833220,0.091031834483147,-0.018675656989217,0.043872963637114,-0.012481204234064));
res += mul(Get(s1,-dx,-dy), float4x4(-0.022273400798440,0.020289933308959,-0.056765452027321,-0.077736757695675,-0.059951685369015,-0.031666170805693,0.015209938399494,-0.031236097216606,0.062817037105560,-0.017832227051258,-0.020708085969090,0.026295201852918,-0.010156144388020,0.031590104103088,-0.008072881028056,0.043020989745855));
res += mul(Get(s1,-dx,0), float4x4(-0.028408370912075,-0.021769490092993,-0.033828128129244,-0.020307442173362,-0.006119074765593,-0.086567625403404,0.007933347485960,0.016536822542548,-0.033813375979662,0.156738594174385,-0.076413355767727,-0.021118393167853,-0.034452799707651,0.045002467930317,-0.053921904414892,-0.003360243979841));
res += mul(Get(s1,-dx,dy), float4x4(0.006338634062558,-0.042284332215786,-0.033315163105726,0.034455712884665,-0.000440943113063,-0.000938434968702,0.046135228127241,-0.021452011540532,-0.043962802737951,0.090698517858982,-0.107339739799500,-0.049830783158541,-0.032743778079748,-0.038853343576193,-0.065104193985462,0.000966560735833));
res += mul(Get(s1,0,-dy), float4x4(-0.026196541264653,0.041929505765438,-0.039098702371120,0.001694535603747,-0.040112067013979,-0.074103578925133,0.092546887695789,-0.040320005267859,0.007507469505072,0.031425818800926,0.035422053188086,-0.013762402348220,-0.007535593584180,0.120736248791218,0.052013587206602,-0.010749891400337));
res += mul(Get(s1,0,0), float4x4(-0.021541109308600,0.081164687871933,-0.018002267926931,0.036246642470360,-0.014267606660724,0.002752593252808,0.076370008289814,0.001924888463691,-0.048595540225506,-0.009283017367125,-0.051711931824684,-0.000902313506231,-0.068556003272533,0.052641954272985,-0.017991725355387,0.014828257262707));
res += mul(Get(s1,0,dy), float4x4(-0.065321750938892,-0.003012049477547,0.019178003072739,-0.047300081700087,-0.018244553357363,0.051152601838112,0.034755397588015,-0.049399860203266,-0.034441165626049,-0.048075322061777,-0.088655479252338,0.044082205742598,-0.058898337185383,-0.044051986187696,-0.043120853602886,0.028072400018573));
res += mul(Get(s1,dx,-dy), float4x4(-0.022347403690219,0.035399653017521,0.001890399609692,-0.024340689182281,-0.024049153551459,-0.051074068993330,-0.021930465474725,-0.059584356844425,0.002003170549870,0.025157935917377,0.007622074801475,-0.016335718333721,-0.024960802868009,0.052962936460972,0.128912106156349,-0.034645926207304));
res += mul(Get(s1,dx,0), float4x4(0.040997907519341,0.025219108909369,0.016611633822322,-0.050657294690609,-0.000132298097014,-0.054684981703758,-0.029230499640107,-0.011725201271474,-0.015132516622543,-0.041770659387112,-0.057044383138418,-0.060871634632349,0.008675546385348,0.043048959225416,0.067460849881172,-0.029337886720896));
res += mul(Get(s1,dx,dy), float4x4(0.007341020274907,-0.010135808028281,0.030407760292292,-0.075617797672749,0.002804099349305,-0.023734673857689,0.028604349121451,-0.035099696367979,-0.027458319440484,0.005857036914676,-0.081397503614426,0.046502728015184,-0.037181012332439,0.026449058204889,-0.023764427751303,0.001678608590737));
res += mul(Get(s2,-dx,-dy), float4x4(0.126990035176277,-0.004463217221200,0.024443848058581,0.017241403460503,0.003304179757833,0.046374421566725,0.026199648156762,0.006360841449350,-0.047213621437550,-0.079754687845707,0.037489704787731,-0.028252849355340,0.031356669962406,0.017311139032245,0.000814212835394,-0.086832746863365));
res += mul(Get(s2,-dx,0), float4x4(0.060625188052654,-0.020934222266078,-0.002575032878667,0.000112103036372,-0.081966258585453,-0.106899723410606,0.060777913779020,-0.001843079575337,-0.014383948408067,-0.079743087291718,-0.024419499561191,0.013060665689409,-0.020986795425415,0.038639657199383,0.074322730302811,-0.017685124650598));
res += mul(Get(s2,-dx,dy), float4x4(0.065841734409332,0.054219685494900,0.006261696107686,-0.006693134550005,0.032169584184885,-0.065029628574848,0.073848254978657,-0.021450400352478,-0.018185624852777,0.028064565733075,-0.002407015534118,-0.030793955549598,0.000916766817681,0.031512331217527,0.127298846840858,-0.026340086013079));
res += mul(Get(s2,0,-dy), float4x4(-0.005517027340829,0.020349677652121,0.086754404008389,0.019265964627266,-0.022513702511787,0.066301867365837,-0.030807645991445,-0.007308625150472,-0.056938651949167,-0.080268427729607,0.118497364223003,-0.013053399510682,0.011731769889593,0.075730599462986,-0.063126698136330,-0.072586342692375));
res += mul(Get(s2,0,0), float4x4(-0.022363919764757,0.000537338259164,0.048661753535271,-0.055610369890928,-0.122187003493309,0.010566898621619,-0.068903677165508,-0.077852301299572,-0.060091968625784,-0.042846020311117,0.040611516684294,-0.026875754818320,0.031191505491734,-0.075076341629028,-0.023911934345961,0.049291133880615));
res += mul(Get(s2,0,dy), float4x4(0.050104763358831,0.024358227849007,0.029688525944948,-0.020668467506766,0.040867958217859,-0.063678711652756,0.024160815402865,-0.018058234825730,-0.012240514159203,-0.041192159056664,0.034791819751263,-0.048405136913061,0.063208729028702,-0.055512350052595,0.021526908501983,0.102596953511238));
res += mul(Get(s2,dx,-dy), float4x4(-0.001553319394588,0.026799527928233,0.067953839898109,0.046215955168009,0.008857944980264,0.009915909729898,-0.016908438876271,0.010725179687142,-0.054836954921484,-0.024181909859180,0.094209246337414,-0.017466822639108,0.035346027463675,-0.016829842701554,-0.093231223523617,-0.110770568251610));
res += mul(Get(s2,dx,0), float4x4(0.046665623784065,-0.074401162564754,0.005943192169070,-0.041076984256506,-0.011653468944132,-0.070539236068726,-0.031698618084192,-0.000353539449861,-0.016932560130954,-0.079525254666805,0.025760492309928,-0.062401972711086,0.007305625826120,-0.029432946816087,-0.047231804579496,0.016349406912923));
res += mul(Get(s2,dx,dy), float4x4(0.084584638476372,0.032418359071016,-0.013344283215702,-0.025747306644917,0.004983292426914,-0.002556746127084,0.062836602330208,0.023612765595317,0.022056439891458,-0.038114257156849,0.044803075492382,-0.011999668553472,0.029130486771464,0.028356466442347,-0.022515814751387,0.095767006278038));
res += mul(Get(s3,-dx,-dy), float4x4(-0.046627648174763,-0.007785898167640,0.034723728895187,-0.006084802560508,0.011625618673861,-0.012959787622094,-0.006494015920907,0.006718500982970,0.021323611959815,0.085345365107059,0.008425690233707,0.024345614016056,0.068770200014114,0.021948235109448,0.011303965002298,0.040444955229759));
res += mul(Get(s3,-dx,0), float4x4(0.000626093067694,0.021132888272405,0.055260732769966,-0.006837381981313,-0.002897389698774,0.035761315375566,-0.028981663286686,-0.013501844368875,-0.017068251967430,-0.129525408148766,0.014088851399720,0.055534355342388,0.111182108521461,-0.024981383234262,-0.047240521758795,0.030620258301497));
res += mul(Get(s3,-dx,dy), float4x4(-0.065634772181511,0.020915567874908,0.025911474600434,-0.034912168979645,-0.031616352498531,0.024851782247424,-0.061843484640121,-0.031901210546494,0.019611436873674,0.051572121679783,-0.007587341126055,-0.031695969402790,0.053760375827551,0.068639241158962,-0.058929719030857,-0.006110887974501));
res += mul(Get(s3,0,-dy), float4x4(0.002187501173466,0.010316235013306,0.014628389850259,-0.010077865794301,-0.017232980579138,-0.009853722527623,-0.039070263504982,0.013861284591258,0.141429767012596,-0.232096269726753,0.081578575074673,0.008542525582016,0.001687612966634,-0.046051353216171,-0.071469262242317,-0.005478447303176));
res += mul(Get(s3,0,0), float4x4(0.038843609392643,0.013863442465663,0.106420300900936,-0.019034136086702,-0.040042549371719,-0.023532843217254,-0.059787668287754,-0.003285508835688,-0.117432482540607,0.284731805324554,-0.072926394641399,0.040841355919838,-0.005028808489442,-0.022023322060704,-0.055054858326912,-0.021560531109571));
res += mul(Get(s3,0,dy), float4x4(0.003525752341375,0.071895956993103,0.009663097560406,-0.043992467224598,0.028836602345109,-0.081003114581108,-0.075106911361217,0.027800522744656,0.081036485731602,-0.071456760168076,0.059303689748049,-0.027182787656784,0.072965137660503,-0.032330919057131,-0.046700578182936,0.016477942466736));
res += mul(Get(s3,dx,-dy), float4x4(0.028512170538306,-0.005693343002349,0.024879869073629,-0.000599735300057,0.028134400025010,-0.048752348870039,0.000892812735401,0.019143853336573,0.062576167285442,0.008504834026098,0.124456793069839,0.095434457063675,-0.048675771802664,0.052055798470974,-0.007403433322906,0.117842480540276));
res += mul(Get(s3,dx,0), float4x4(0.034272208809853,-0.050019677728415,0.046225544065237,-0.032020267099142,-0.064215734601021,0.029998855665326,-0.025757050141692,-0.032566368579865,0.038609717041254,-0.101761147379875,-0.049411796033382,-0.071782141923904,-0.111551150679588,0.054221201688051,-0.028561312705278,-0.014224483631551));
res += mul(Get(s3,dx,dy), float4x4(0.041842486709356,-0.052409462630749,0.018200712278485,-0.044532775878906,-0.024420566856861,-0.025912063196301,-0.019633382558823,0.025743970647454,-0.041740670800209,-0.016613971441984,-0.004657569807023,-0.042280610650778,0.013961610384285,-0.034023940563202,-0.033635657280684,-0.039013881236315));
return max(float4(0,0,0,0), res);
}
