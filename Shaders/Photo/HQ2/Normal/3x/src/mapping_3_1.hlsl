sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.088609948754311,0.086175680160522,-0.058255352079868,-0.079055801033974,-0.043468073010445,0.095135442912579,0.022207990288734,0.050408955663443,0.015032919123769,0.002423597034067,-0.010368308052421,-0.022328179329634,0.021421549841762,0.013944269157946,0.003511345479637,0.025325421243906));
res += mul(Get(s0,-dx,0), float4x4(-0.034826926887035,0.024518540129066,-0.026345090940595,-0.054567787796259,-0.022304369136691,0.153999894857407,0.048230204731226,0.037414707243443,0.012110156007111,0.006345112342387,0.018891058862209,0.065816305577755,0.036616902798414,0.000939390680287,-0.006957111880183,0.039783578366041));
res += mul(Get(s0,-dx,dy), float4x4(-0.016827499493957,-0.046957321465015,0.002853406593204,-0.058535996824503,-0.052999507635832,0.099614195525646,0.079716466367245,-0.089822538197041,0.030965274199843,-0.006386995315552,0.012098176404834,0.026222234591842,0.036169335246086,0.027791833505034,0.027295596897602,-0.010033774189651));
res += mul(Get(s0,0,-dy), float4x4(-0.114175647497177,0.116260014474392,-0.101663246750832,0.041846983134747,-0.074713565409184,-0.024801040068269,-0.015841435641050,0.041402630507946,0.017180984839797,0.009664043784142,-0.022957792505622,0.002364889718592,0.019870070740581,-0.058857306838036,-0.025937497615814,-0.039319872856140));
res += mul(Get(s0,0,0), float4x4(-0.038984362035990,-0.108969219028950,-0.054730698466301,0.093375876545906,-0.036830991506577,-0.102383792400360,0.028749136254191,0.163327634334564,0.006408971268684,-0.016813321039081,0.009543532505631,0.014038247056305,0.039044123142958,-0.053946122527122,0.016016090288758,0.029649307951331));
res += mul(Get(s0,0,dy), float4x4(-0.057476952672005,-0.083939798176289,-0.046391636133194,0.000768918660469,-0.070619300007820,-0.108432739973068,0.115914642810822,-0.033349495381117,0.039140719920397,-0.011017497628927,0.014401255175471,0.010737851262093,0.041790552437305,-0.047486618161201,0.067747823894024,0.042341265827417));
res += mul(Get(s0,dx,-dy), float4x4(-0.131359785795212,0.113230906426907,-0.151244550943375,0.035311669111252,-0.120031133294106,-0.114451617002487,-0.039120703935623,0.068450182676315,0.007943592034280,0.007524427026510,-0.007702441420406,-0.000135623500682,0.034460339695215,-0.027007946744561,0.005440565757453,-0.027458578348160));
res += mul(Get(s0,dx,0), float4x4(-0.044349703937769,-0.105075560510159,-0.103174917399883,0.040643475949764,-0.079810284078121,-0.141667768359184,-0.025011425837874,0.122009359300137,0.004425744060427,-0.017084715887904,0.011618820950389,-0.035923928022385,0.014840600080788,-0.039471913129091,0.015321667306125,-0.035309556871653));
res += mul(Get(s0,dx,dy), float4x4(-0.028814310207963,-0.080255500972271,-0.054098561406136,-0.068636208772659,-0.006026926450431,-0.117472872138023,0.074404790997505,0.022953782230616,0.038884822279215,-0.008177051320672,0.011901777237654,0.000246626615990,0.023568805307150,-0.018733600154519,0.031157286837697,0.006218588910997));
res += mul(Get(s1,-dx,-dy), float4x4(-0.054199066013098,0.010257072746754,0.029512621462345,-0.000436566449935,-0.023898649960756,0.047577347606421,0.025972815230489,-0.027424281463027,-0.000773723353632,0.032552964985371,-0.027938127517700,-0.015747971832752,0.078760497272015,-0.052568878978491,0.166407525539398,0.086543865501881));
res += mul(Get(s1,-dx,0), float4x4(-0.061058610677719,0.151137888431549,0.075083121657372,-0.009133607149124,0.030533907935023,-0.010949977673590,0.040617588907480,-0.025239875540137,-0.004340899642557,0.016991455107927,0.000707732979208,-0.009135846979916,0.017355997115374,-0.026232047006488,0.221540048718452,-0.111449465155602));
res += mul(Get(s1,-dx,dy), float4x4(-0.083455570042133,0.128917947411537,0.003897709539160,0.044721327722073,0.042682897299528,-0.095918975770473,0.018669323995709,-0.045880477875471,-0.005777388811111,0.026273772120476,0.018693450838327,-0.027160450816154,-0.071929790079594,-0.046535275876522,0.069526582956314,-0.100622415542603));
res += mul(Get(s1,0,-dy), float4x4(-0.076530009508133,-0.089220814406872,-0.025362046435475,0.128436058759689,-0.072644777595997,0.082702927291393,0.012833966873586,-0.003059632144868,-0.002441436052322,0.019241364672780,-0.020908351987600,-0.032204769551754,-0.042245198041201,-0.035027161240578,0.037099976092577,0.149607062339783));
res += mul(Get(s1,0,0), float4x4(-0.036663044244051,-0.076795265078545,0.055610969662666,-0.000265033682808,0.036803424358368,0.037337977439165,0.020820118486881,0.025078520178795,-0.001929389778525,0.074150018393993,-0.014128228649497,-0.081239536404610,-0.012636918574572,-0.091090463101864,0.092157587409019,-0.045860443264246));
res += mul(Get(s1,0,dy), float4x4(-0.071393199265003,0.008931521326303,0.031224168837070,0.077634952962399,0.085901767015457,-0.110713750123978,-0.021161241456866,0.052842300385237,0.002508885925636,0.095880538225174,-0.002553174505010,-0.042430277913809,-0.078439325094223,-0.050560530275106,0.025102013722062,-0.018545709550381));
res += mul(Get(s1,dx,-dy), float4x4(-0.137587040662766,-0.085909530520439,-0.143376663327217,0.134812697768211,-0.036947913467884,0.113441184163094,0.021113552153111,-0.036989852786064,0.009847328998148,-0.000906359113287,-0.048159081488848,0.042779114097357,-0.094569243490696,-0.068332053720951,-0.072238743305206,0.101546615362167));
res += mul(Get(s1,dx,0), float4x4(-0.077817969024181,-0.081036597490311,-0.064842849969864,0.088661156594753,0.080774635076523,0.071020498871803,0.026261584833264,0.015718400478363,0.003892417298630,0.085838951170444,-0.000876236066688,-0.025628719478846,-0.036050833761692,-0.100389100611210,-0.097597777843475,0.018497578799725));
res += mul(Get(s1,dx,dy), float4x4(-0.071378991007805,-0.008355106227100,0.007719025947154,0.071440227329731,0.130415171384811,-0.046959336847067,0.029537724331021,0.031079236418009,0.005216389428824,0.130245029926300,0.000879279861692,0.001088738092221,-0.102296955883503,-0.023381672799587,-0.056767009198666,-0.006109561305493));
res += mul(Get(s2,-dx,-dy), float4x4(0.054463211447001,-0.032368499785662,-0.006056264974177,0.078683644533157,-0.000423116027378,0.126751184463501,0.013308768160641,-0.028426988050342,-0.035971991717815,0.025935420766473,0.048511255532503,0.084613315761089,-0.021233344450593,-0.002257844200358,0.042520288378000,0.092191666364670));
res += mul(Get(s2,-dx,0), float4x4(0.049677684903145,-0.040413606911898,-0.021730067208409,-0.029714720323682,-0.006426599342376,0.135591179132462,0.032079882919788,-0.023611374199390,0.007461560424417,0.108322434127331,-0.002728100167587,-0.135702908039093,-0.012184658087790,-0.002516944427043,0.046156249940395,0.007653884589672));
res += mul(Get(s2,-dx,dy), float4x4(0.032250434160233,-0.020261095836759,0.052469898015261,-0.044038146734238,-0.013227869756520,0.065191470086575,0.028072129935026,0.029421959072351,-0.009271780028939,-0.005670186597854,0.116964630782604,0.113168239593506,-0.010061841458082,0.043557740747929,-0.000792076927610,0.019337929785252));
res += mul(Get(s2,0,-dy), float4x4(0.033957723528147,0.003367243800312,-0.038881190121174,0.080990456044674,-0.002523604314774,0.168102130293846,0.003153809579089,-0.037455070763826,0.135654777288437,-0.002390272216871,0.005246917717159,-0.114316321909428,-0.015666861087084,-0.006023159250617,0.011387537233531,0.077792741358280));
res += mul(Get(s2,0,0), float4x4(-0.068291418254375,-0.021332241594791,-0.129087433218956,-0.029969092458487,-0.010057525709271,0.004753714427352,-0.000458167080069,0.083180040121078,0.218875437974930,-0.109111666679382,-0.070780910551548,-0.107054010033607,-0.003223605686799,-0.020322401076555,0.010132845491171,0.021253939718008));
res += mul(Get(s2,0,dy), float4x4(-0.082802131772041,-0.012095433659852,-0.075284220278263,-0.073372386395931,-0.023769613355398,-0.035389211028814,0.004088501445949,-0.001557321636938,-0.001706291572191,0.004019545391202,-0.074396707117558,0.058713819831610,-0.007021714467555,0.070605657994747,0.006131017114967,-0.002260024426505));
res += mul(Get(s2,dx,-dy), float4x4(-0.067889072000980,-0.057518109679222,-0.029464611783624,0.072978481650352,-0.008207701146603,0.085144236683846,-0.014367759227753,0.026353096589446,0.025145266205072,-0.019884534180164,-0.015182821080089,0.049175743013620,-0.009843437932432,-0.022530205547810,-0.011287974193692,0.036458458751440));
res += mul(Get(s2,dx,0), float4x4(-0.105556651949883,-0.104706816375256,-0.098629429936409,-0.048539903014898,-0.021208044141531,-0.040583115071058,0.011726129800081,0.047273512929678,0.165885701775551,-0.102546282112598,0.004126789048314,0.095352604985237,-0.006427458953112,-0.011940652504563,-0.010722770355642,0.002826266689226));
res += mul(Get(s2,dx,dy), float4x4(-0.123961582779884,-0.080754183232784,-0.089177608489990,-0.031884334981441,0.001624032738619,-0.031665608286858,0.003039299277589,-0.057070255279541,0.008376866579056,0.037307552993298,0.016859998926520,-0.042551055550575,-0.007694835774601,0.074670806527138,0.001626270939596,-0.014376479201019));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000918622652534,0.045912716537714,0.017530102282763,-0.010360042564571,0.028497591614723,-0.011199771426618,0.051843523979187,0.037647694349289,-0.008765937760472,-0.006112582981586,-0.008828473277390,0.011093368753791,-0.076656363904476,-0.079448647797108,0.014435647055507,0.091026142239571));
res += mul(Get(s3,-dx,0), float4x4(-0.001560518518090,0.048320271074772,-0.002865695627406,-0.039157204329967,0.047349315136671,0.006256011314690,0.035904519259930,0.016942307353020,-0.000950047862716,0.000107325555291,-0.008431010879576,-0.027846833691001,-0.074053026735783,-0.112574763596058,-0.036837726831436,-0.056038867682219));
res += mul(Get(s3,-dx,dy), float4x4(0.003814949421212,0.014763488434255,-0.002109210472554,-0.015665724873543,0.028624081984162,0.009100012481213,0.014532899484038,0.002897033467889,-0.002861243905500,0.036250617355108,-0.018275260925293,-0.028179408982396,-0.117296949028969,-0.089960515499115,-0.007718050386757,-0.035844877362251));
res += mul(Get(s3,0,-dy), float4x4(0.000905699853320,0.047607135027647,0.014065281488001,-0.047751970589161,0.042987149208784,-0.024851288646460,0.034937042742968,0.034631468355656,-0.004001528490335,-0.036624461412430,-0.023585004732013,0.036071855574846,-0.052287191152573,-0.047175813466311,-0.037799499928951,0.039433356374502));
res += mul(Get(s3,0,0), float4x4(0.000984160695225,0.095266938209534,0.005637696944177,-0.069548994302750,0.068274840712547,-0.014125076122582,0.028934311121702,0.035620611160994,-0.005168628878891,-0.005220224149525,-0.013919217512012,-0.015900805592537,-0.032021585851908,-0.117941893637180,-0.094340234994888,-0.073288105428219));
res += mul(Get(s3,0,dy), float4x4(-0.000331211194862,0.036655567586422,-0.012023855000734,-0.027944738045335,0.055830910801888,-0.022374609485269,0.029697706922889,-0.016421383246779,-0.003822360886261,0.048707880079746,-0.019559528678656,-0.003769180737436,-0.110414892435074,-0.057206701487303,-0.034755267202854,-0.062390375882387));
res += mul(Get(s3,dx,-dy), float4x4(0.006190030369908,0.018752843141556,-0.005143979098648,0.026113418862224,0.002285882364959,-0.030849935486913,0.020861875265837,-0.000910365779418,-0.002678775228560,-0.022447073832154,-0.035875439643860,0.059074856340885,-0.042121566832066,0.006624062545598,-0.058743145316839,-0.020110661163926));
res += mul(Get(s3,dx,0), float4x4(0.003214452415705,0.056250788271427,-0.003459530649707,0.004045176785439,0.024285256862640,-0.015095092356205,0.006978663150221,0.030270172283053,0.001990258460864,-0.003469055984169,-0.012720338068902,0.037165302783251,-0.033786598592997,0.025146873667836,-0.113422110676765,-0.013929818756878));
res += mul(Get(s3,dx,dy), float4x4(-0.001020711497404,-0.003664469812065,-0.011211702600121,0.023421214893460,0.012381796725094,-0.011073850095272,0.003582641249523,-0.015362504869699,0.003385067917407,0.041909780353308,-0.010617522522807,0.015729503706098,-0.077373005449772,0.040247596800327,-0.056833934038877,0.015524410642684));
return max(float4(0,0,0,0), res);
}
