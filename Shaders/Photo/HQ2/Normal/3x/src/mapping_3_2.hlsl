sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.033038739115000,0.055512640625238,0.004229468293488,-0.082030192017555,-0.015478680841625,0.017180705443025,-0.148296147584915,0.037168797105551,0.004598880186677,-0.019175123423338,0.039926968514919,-0.008591494522989,-0.008730057626963,-0.012068775482476,-0.000600383151323,-0.012646121904254));
res += mul(Get(s0,-dx,0), float4x4(0.006441314704716,-0.002343540079892,0.004080227110535,-0.080164879560471,-0.001456725294702,0.012246215716004,0.053560812026262,0.061779674142599,0.030353618785739,0.018342616036534,0.063615739345551,-0.010001268237829,-0.010765783488750,0.013714722357690,0.014990928582847,-0.021312220022082));
res += mul(Get(s0,-dx,dy), float4x4(0.003905225545168,0.083261363208294,0.001716200495139,0.013205915689468,0.017499886453152,0.049775894731283,0.006497755181044,0.049672830849886,0.024789780378342,-0.066206082701683,0.003418572014198,0.028912186622620,0.013375629670918,0.036413054913282,-0.011270957067609,-0.029258774593472));
res += mul(Get(s0,0,-dy), float4x4(0.015106473118067,0.032608371227980,0.022902490571141,0.014140022918582,-0.064488217234612,-0.051539715379477,0.047760918736458,-0.097167000174522,0.008808883838356,-0.020448047667742,0.011582925915718,0.021517384797335,-0.030728911980987,0.018460422754288,0.025729160755873,-0.001504192943685));
res += mul(Get(s0,0,0), float4x4(0.036062914878130,-0.037020210176706,0.081455066800117,0.018531721085310,-0.033249307423830,-0.042506653815508,0.190768748521805,-0.043120659887791,0.038413595408201,0.025542020797729,0.082025215029716,-0.000306085712509,-0.008213373832405,-0.018485179170966,-0.000419625546783,0.007347684353590));
res += mul(Get(s0,0,dy), float4x4(0.125636979937553,0.124653078615665,0.006322841625661,-0.015459225513041,0.024350602179766,0.074301123619080,0.036799129098654,-0.035565927624702,0.057452447712421,-0.128819748759270,-0.003267040709034,0.028725394979119,0.071049399673939,0.054933603852987,0.016549037769437,0.007440532092005));
res += mul(Get(s0,dx,-dy), float4x4(0.048325810581446,0.046995263546705,0.001349826226942,0.029165428131819,-0.055267155170441,-0.073426418006420,-0.052347209304571,0.002156560774893,0.022251984104514,0.003971592057496,-0.003175940131769,0.018922261893749,-0.038029979914427,-0.035975158214569,0.009677883237600,0.003182795364410));
res += mul(Get(s0,dx,0), float4x4(0.053344506770372,-0.050079662352800,0.073045000433922,0.096903569996357,-0.099646806716919,-0.024019420146942,-0.010239131748676,-0.035655088722706,0.061259832233191,-0.023743679746985,0.101448014378548,0.000901186256669,-0.064383529126644,0.019580064341426,-0.029819743707776,-0.041456256061792));
res += mul(Get(s0,dx,dy), float4x4(0.094450846314430,0.026930065825582,0.087953962385654,0.021000906825066,-0.058942463248968,0.020514260977507,-0.100240387022495,-0.099892556667328,0.034539271146059,-0.026831975206733,0.010337623767555,0.025877794250846,-0.044632624834776,-0.002576684579253,-0.051917351782322,-0.034115910530090));
res += mul(Get(s1,-dx,-dy), float4x4(-0.040493540465832,0.016239719465375,0.027285885065794,0.111747354269028,0.002404960803688,-0.000891618314199,0.000971889472567,0.002690280787647,-0.004737514536828,-0.018829692155123,-0.010220662690699,0.009038091637194,-0.010050510987639,0.012864637188613,0.050898641347885,-0.029406439512968));
res += mul(Get(s1,-dx,0), float4x4(-0.035069309175014,0.025413651019335,-0.007283792831004,0.047270674258471,0.051026329398155,0.029773537069559,0.115197017788887,0.023742649704218,-0.040773507207632,-0.027162265032530,-0.002339529339224,0.024463530629873,-0.050089038908482,-0.032223153859377,0.018109105527401,0.000874638790265));
res += mul(Get(s1,-dx,dy), float4x4(-0.011200172826648,0.059649251401424,0.013701015152037,-0.055609695613384,0.040187139064074,0.058531530201435,0.090218327939510,-0.000199186892132,-0.012374373152852,-0.014960971660912,-0.031747993081808,0.019130587577820,-0.013914383016527,0.002915591001511,-0.036255959421396,-0.007205973844975));
res += mul(Get(s1,0,-dy), float4x4(-0.006776129361242,0.054551370441914,0.113608352839947,-0.018957866355777,-0.030656969174743,-0.008105644024909,-0.021419273689389,-0.028274253010750,0.019270021468401,-0.008910410106182,0.003803122090176,0.043090231716633,-0.014290399849415,0.038272596895695,-0.065384268760681,0.000053425115766));
res += mul(Get(s1,0,0), float4x4(0.063501589000225,0.037327084690332,0.096827633678913,-0.013656591065228,-0.013033818453550,-0.002323270775378,0.013931144960225,-0.003327479120344,0.013875692151487,-0.093574218451977,0.033548586070538,0.030574362725019,0.108511790633202,-0.012987056747079,0.049908775836229,0.043308362364769));
res += mul(Get(s1,0,dy), float4x4(0.041081849485636,0.071549937129021,-0.008346673101187,-0.047301106154919,0.001933595398441,0.035412427037954,-0.004773969762027,0.005554552655667,0.001777564175427,-0.030716817826033,-0.004983739461750,0.035811174660921,0.170424148440361,0.034792698919773,-0.003202953375876,0.032991047948599));
res += mul(Get(s1,dx,-dy), float4x4(0.034341573715210,-0.001305353711359,0.006218596827239,-0.012443274259567,-0.026743330061436,-0.018855661153793,-0.075172744691372,0.004590343218297,0.025427017360926,0.010246373713017,-0.001513873809017,0.024540431797504,-0.005855148192495,-0.002167786471546,-0.074205525219440,0.019017491489649));
res += mul(Get(s1,dx,0), float4x4(0.089179374277592,0.030482158064842,0.038302689790726,-0.032588962465525,-0.067706711590290,0.019183333963156,-0.081370972096920,-0.014164999127388,-0.028838209807873,0.001481675310060,0.006120500154793,-0.010417337529361,0.087007015943527,-0.013110093772411,0.034494370222092,0.031987246125937));
res += mul(Get(s1,dx,dy), float4x4(0.164169520139694,0.002805298659950,-0.000530945777427,-0.064572341740131,-0.019500985741615,-0.033311825245619,-0.060210231691599,0.010461362078786,-0.037820067256689,-0.017221521586180,-0.083958737552166,0.030283667147160,0.138024970889091,0.012260737828910,0.000582627311815,0.051540847867727));
res += mul(Get(s2,-dx,-dy), float4x4(-0.055285096168518,-0.006349137984216,-0.123499520123005,0.054043155163527,0.025320436805487,-0.008858215063810,-0.032858297228813,-0.008762084878981,-0.013303456827998,-0.022133592516184,-0.127454608678818,0.037294607609510,-0.010932287201285,0.005177116952837,0.005408529657871,-0.002166668651626));
res += mul(Get(s2,-dx,0), float4x4(-0.062976405024529,0.015486068092287,-0.090793281793594,-0.126310810446739,0.000345941865817,-0.014705589972436,0.053835693746805,-0.020557403564453,-0.092006623744965,-0.002847436582670,-0.153535574674606,-0.104684196412563,0.035846903920174,-0.005034679546952,0.033882305026054,0.017168745398521));
res += mul(Get(s2,-dx,dy), float4x4(0.006327593699098,0.009722035378218,-0.089764036238194,-0.119446404278278,0.009614286012948,-0.011571027338505,0.052989277988672,0.004667836241424,0.066162168979645,-0.017740229144692,-0.003999379463494,0.002603784203529,0.010325737297535,0.061497930437326,-0.002065476961434,0.020647868514061));
res += mul(Get(s2,0,-dy), float4x4(-0.084673032164574,-0.013993944041431,-0.038220956921577,0.121699325740337,-0.017084240913391,-0.026730647310615,-0.036291614174843,-0.028537854552269,-0.043387316167355,0.218962311744690,0.030231118202209,0.098304420709610,-0.001553191337734,-0.044607900083065,-0.026524761691689,0.030822429805994));
res += mul(Get(s2,0,0), float4x4(-0.083310574293137,0.036745619028807,0.025835059583187,-0.077698498964310,-0.044243529438972,0.038480218499899,-0.000376020325348,0.011004952713847,0.155223920941353,-0.424457162618637,0.254681617021561,0.101900450885296,0.097746044397354,-0.006586391944438,0.042202707380056,0.008354021236300));
res += mul(Get(s2,0,dy), float4x4(0.041437115520239,0.028867861256003,-0.051694583147764,-0.117893427610397,0.054533004760742,-0.013283258304000,0.004486908670515,-0.022982968017459,0.010660183615983,0.365064650774002,-0.032523296773434,-0.029109049588442,0.058021962642670,0.066278532147408,0.029790220782161,0.001548529486172));
res += mul(Get(s2,dx,-dy), float4x4(-0.061806812882423,-0.003203678876162,0.017655506730080,0.150448039174080,0.008617741055787,0.015407171100378,-0.060122098773718,-0.005261330865324,0.009029898792505,-0.086817175149918,-0.016512351110578,-0.027443960309029,-0.010517657734454,-0.044130168855190,-0.024029508233070,0.023785222321749));
res += mul(Get(s2,dx,0), float4x4(-0.009408189915121,0.011850549839437,0.172021239995956,0.083199240267277,0.020100399851799,-0.048338387161493,0.002714856993407,0.041312154382467,0.006021971348673,0.196320950984955,-0.003682702779770,0.009100162424147,0.067283220589161,0.014356631785631,0.050043180584908,0.000290257972665));
res += mul(Get(s2,dx,dy), float4x4(0.155881211161613,0.051379259675741,0.056550357490778,-0.042582638561726,0.048329502344131,-0.050080846995115,0.036187920719385,-0.004148349631578,-0.008583392947912,-0.038290284574032,-0.002411240711808,0.018707972019911,0.018214836716652,0.001425365335308,-0.005803762003779,0.012951998971403));
res += mul(Get(s3,-dx,-dy), float4x4(0.004672129172832,-0.029592538252473,0.002453120658174,0.017461704090238,0.003000252880156,-0.007845829240978,-0.015800619497895,0.005606170278043,0.000393498397898,0.038661327213049,-0.023019051179290,0.009588744491339,-0.071180075407028,-0.021430214866996,0.018914630636573,0.076543122529984));
res += mul(Get(s3,-dx,0), float4x4(0.017044562846422,-0.048592928797007,0.031660515815020,-0.008736936375499,0.007178565952927,0.033282890915871,0.006542997434735,-0.000382400350645,0.008302822709084,-0.041736882179976,-0.014319774694741,0.008528675884008,-0.067936152219772,-0.067556045949459,0.020699003711343,-0.025355732068419));
res += mul(Get(s3,-dx,dy), float4x4(0.016840681433678,0.051297366619110,0.036783553659916,-0.027212670072913,-0.001590056810528,0.013731380924582,-0.014483702369034,-0.003227361710742,0.009508866816759,0.021232699975371,-0.005695462226868,-0.006328979507089,-0.022459700703621,-0.028740320354700,-0.007546293549240,-0.019140984863043));
res += mul(Get(s3,0,-dy), float4x4(-0.012084511108696,0.042366854846478,0.009392338804901,-0.022741278633475,-0.009566906839609,-0.016836609691381,-0.023741638287902,-0.011969812214375,0.013378445059061,0.040462784469128,0.007924521341920,0.006405316758901,-0.062738016247749,0.014228318817914,-0.016799768432975,0.063246920704842));
res += mul(Get(s3,0,0), float4x4(0.032992463558912,-0.099006906151772,0.027477679774165,0.006968617439270,-0.001696191844530,0.056716203689575,0.004671935923398,0.001545065082610,0.024822928011417,-0.011838160455227,0.002933134324849,-0.011578079313040,-0.012641049921513,-0.095029205083847,0.100695438683033,-0.000998528907076));
res += mul(Get(s3,0,dy), float4x4(-0.005499537568539,0.061108030378819,0.080175064504147,-0.018650045618415,0.026345955207944,0.024241782724857,0.011385221034288,-0.004159055184573,-0.013927124440670,0.022902105003595,-0.032228726893663,-0.001188317546621,-0.063214562833309,-0.006834578700364,0.064772002398968,-0.060649685561657));
res += mul(Get(s3,dx,-dy), float4x4(-0.030537035316229,-0.008949395269156,-0.007387924008071,-0.027725817635655,-0.006127997767180,-0.013393329456449,-0.036258090287447,0.000082777412899,0.005047217011452,0.010849052108824,0.006937570404261,0.003359329188243,0.016717690974474,0.044176325201988,0.001590926898643,-0.047134406864643));
res += mul(Get(s3,dx,0), float4x4(-0.012349213473499,-0.000636133132502,-0.034874703735113,-0.037049457430840,0.015374170616269,-0.002314780140296,-0.019113516435027,0.002915971213952,0.009512071497738,0.015237703919411,-0.022907057777047,-0.014370998367667,0.013198133558035,-0.008813221007586,-0.041242785751820,-0.032288134098053));
res += mul(Get(s3,dx,dy), float4x4(-0.017620602622628,0.024874327704310,0.011451874859631,-0.020529132336378,0.006911534816027,0.012542314827442,-0.001740158186294,-0.009162832051516,0.014513674192131,0.007541377563030,-0.056716606020927,0.001278724521399,-0.041165884584188,0.020232325419784,-0.015009015798569,-0.039482772350311));
return max(float4(0,0,0,0), res);
}
