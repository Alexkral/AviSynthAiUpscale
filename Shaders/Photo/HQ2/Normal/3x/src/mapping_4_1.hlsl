sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.051228173077106,0.029604209586978,0.019630707800388,-0.002723057754338,-0.055202644318342,-0.003217737190425,0.034435853362083,0.004362836945802,-0.037363369017839,0.049848299473524,-0.022437388077378,0.009835048578680,-0.049429260194302,-0.023810075595975,0.005109830759466,0.029844174161553));
res += mul(Get(s0,-dx,0), float4x4(0.005286805331707,0.056641232222319,-0.010136804543436,0.020185772329569,-0.035504486411810,-0.036497335880995,-0.023702766746283,-0.027630755677819,-0.012351803481579,0.079787164926529,0.011503252200782,-0.054675042629242,-0.116352230310440,0.045372512191534,-0.091729581356049,-0.069646663963795));
res += mul(Get(s0,-dx,dy), float4x4(-0.045692335814238,-0.027769621461630,0.007492978591472,0.067228280007839,-0.030950639396906,0.057818673551083,-0.014311812818050,0.017322288826108,0.020315481349826,0.028216876089573,-0.013445034623146,0.046174876391888,0.062182664871216,0.058947291225195,0.019154172390699,-0.058201927691698));
res += mul(Get(s0,0,-dy), float4x4(0.050291713327169,0.053230661898851,-0.001247709500603,-0.025923611596227,-0.038153968751431,0.040777198970318,0.028268061578274,0.031955979764462,-0.104819059371948,0.036818832159042,-0.050426136702299,0.065342649817467,0.013701792806387,-0.024177987128496,0.006450344342738,-0.021009648218751));
res += mul(Get(s0,0,0), float4x4(-0.005195884965360,-0.027026796713471,-0.034452073276043,-0.068121477961540,-0.044223949313164,0.009790950454772,-0.014058103784919,-0.038207370787859,-0.046179983764887,0.064861707389355,-0.003988784737885,0.029712438583374,0.017941109836102,0.067649237811565,-0.055014848709106,-0.019268551841378));
res += mul(Get(s0,0,dy), float4x4(-0.070518508553505,-0.133737996220589,0.010352985002100,-0.019311467185616,-0.020779864862561,0.051928311586380,-0.015731863677502,-0.022150876000524,-0.017951047047973,0.024108415469527,0.045441519469023,0.016385333612561,0.028526978567243,0.029353154823184,-0.011925525963306,0.014455717056990));
res += mul(Get(s0,dx,-dy), float4x4(0.024413269013166,-0.058731164783239,-0.005430646706372,-0.027022002264857,-0.064988270401955,0.063861973583698,0.002376332180575,0.058641988784075,-0.139935776591301,-0.002396640600637,-0.043217141181231,0.020858963951468,0.021161118522286,0.025256495922804,-0.003071352373809,-0.009155631065369));
res += mul(Get(s0,dx,0), float4x4(0.007227133959532,-0.121384903788567,-0.024122951552272,-0.010874379426241,-0.020059904083610,0.085985124111176,-0.024094991385937,0.048398487269878,-0.045250471681356,-0.000708926352672,-0.026847803965211,0.054111301898956,0.027684133499861,0.063263587653637,0.021456373855472,-0.010946800000966));
res += mul(Get(s0,dx,dy), float4x4(-0.084952227771282,-0.143134698271751,0.028184169903398,-0.032405782490969,-0.021762765944004,0.050439089536667,0.003360107773915,-0.020397063344717,-0.012562472373247,-0.059932027012110,0.034512925893068,0.025957239791751,-0.019594836980104,-0.020315950736403,0.027089679613709,-0.059681452810764));
res += mul(Get(s1,-dx,-dy), float4x4(-0.099590748548508,-0.068680137395859,-0.024168075993657,0.004738523624837,-0.047289256006479,-0.050647515803576,-0.010464194230735,0.085808217525482,-0.057836778461933,0.031332179903984,-0.071255803108215,-0.020283026620746,0.035246711224318,0.111961767077446,-0.031082807108760,-0.060125671327114));
res += mul(Get(s1,-dx,0), float4x4(0.009309308603406,0.018151585012674,0.048253737390041,0.001664832001552,0.021490605548024,-0.042313292622566,-0.001027177437209,-0.123023882508278,0.093018919229507,-0.079066991806030,-0.016644058749080,0.039559751749039,0.030867816880345,0.101022846996784,-0.049233891069889,-0.048314772546291));
res += mul(Get(s1,-dx,dy), float4x4(0.036293674260378,0.026858836412430,0.057115741074085,0.070579476654530,-0.114749178290367,0.054508011788130,-0.000673666014336,0.097812272608280,-0.011846651323140,-0.127901792526245,-0.000221482594498,0.015840796753764,0.036176621913910,0.003095117397606,-0.004156018141657,-0.016770567744970));
res += mul(Get(s1,0,-dy), float4x4(-0.015663016587496,-0.102325983345509,0.000480759888887,-0.032556891441345,0.047058355063200,-0.007986875250936,0.045514848083258,-0.116789646446705,-0.066272914409637,-0.092993445694447,-0.065789148211479,0.054711859673262,0.023763980716467,0.024721566587687,-0.021760197356343,-0.029348112642765));
res += mul(Get(s1,0,0), float4x4(0.084361329674721,-0.054610054939985,0.092466704547405,-0.090795151889324,0.041599921882153,0.093880996108055,0.043100941926241,0.230099439620972,0.160377994179726,-0.034009143710136,-0.022041145712137,0.022161450237036,0.008588580414653,0.056974224746227,0.007093644700944,-0.062211666256189));
res += mul(Get(s1,0,dy), float4x4(0.031194409355521,0.034800391644239,0.075318656861782,0.027347853407264,-0.039115358144045,0.018335392698646,0.002431590342894,-0.134071961045265,0.034233298152685,0.046192146837711,0.093271985650063,0.012683530338109,0.083077616989613,-0.077388122677803,0.000960111967288,-0.058257926255465));
res += mul(Get(s1,dx,-dy), float4x4(-0.047957129776478,-0.025474974885583,0.046512071043253,-0.004446269012988,-0.030815359205008,0.021821925416589,0.012197360396385,0.088122576475143,-0.012388391420245,-0.005825257860124,-0.042609937489033,0.057608731091022,0.022668851539493,0.011178759858012,-0.033886708319187,0.006771415472031));
res += mul(Get(s1,dx,0), float4x4(0.013919274322689,0.083760544657707,0.032024487853050,0.105835504829884,0.098742380738258,0.050846029073000,0.055024001747370,-0.134434074163437,0.082586333155632,0.105569921433926,-0.045440163463354,0.096180029213428,-0.014808936975896,0.089702047407627,0.016195124015212,0.051932394504547));
res += mul(Get(s1,dx,dy), float4x4(0.009627581574023,0.055122476071119,0.028281541541219,-0.009911256842315,-0.065982043743134,-0.080654546618462,-0.024109704419971,0.084705777466297,0.008255288936198,0.108218379318714,0.018928255885839,0.051648423075676,-0.083380617201328,0.006491296458989,-0.003859098302200,-0.024223713204265));
res += mul(Get(s2,-dx,-dy), float4x4(0.009690340608358,0.040387518703938,-0.087434910237789,0.008803341537714,0.048374842852354,0.009679372422397,0.009473970159888,-0.073398828506470,-0.014029635116458,-0.013430700637400,0.014620748348534,0.002616029465571,0.014791558496654,0.027593983337283,-0.018188212066889,0.076518908143044));
res += mul(Get(s2,-dx,0), float4x4(0.115412935614586,-0.079928435385227,-0.054351363331079,-0.080543480813503,0.049782518297434,0.086258172988892,0.034434042870998,0.034524694085121,0.063098512589931,0.017685428261757,-0.014349455945194,0.084860242903233,-0.093826986849308,-0.010410214774311,-0.037383317947388,0.140023753046989));
res += mul(Get(s2,-dx,dy), float4x4(0.008971127681434,-0.046274553984404,0.042109493166208,0.119754470884800,-0.029513953253627,0.015050307847559,-0.011988776735961,0.051637094467878,0.008312495425344,0.028483312577009,-0.005477284546942,0.006690983194858,-0.094452925026417,-0.059390116482973,-0.040034200996161,0.092416040599346));
res += mul(Get(s2,0,-dy), float4x4(-0.029717743396759,0.020754726603627,-0.079195529222488,0.073923356831074,0.039315775036812,0.109672307968140,0.015684094280005,-0.040877822786570,0.009461945854127,0.059202749282122,-0.031178547069430,0.001477741287090,-0.041526015847921,-0.051031857728958,-0.005542281549424,0.105815038084984));
res += mul(Get(s2,0,0), float4x4(0.085525661706924,0.020627627149224,-0.075888052582741,-0.126797571778297,-0.000512768107001,0.119297638535500,0.019726214930415,0.095683827996254,0.063351102173328,0.148309960961342,-0.045001067221165,0.013033119961619,-0.061422359198332,-0.105975009500980,-0.004228020086884,-0.142309799790382));
res += mul(Get(s2,0,dy), float4x4(0.145003229379654,0.059683777391911,0.110202476382256,-0.198954105377197,-0.004140385892242,-0.014293070882559,-0.017449388280511,0.045073382556438,0.043739363551140,0.065584592521191,-0.015649180859327,0.061863500624895,-0.068475492298603,-0.025108486413956,0.005786731373519,0.007563149090856));
res += mul(Get(s2,dx,-dy), float4x4(-0.052567772567272,-0.114402867853642,-0.075308851897717,0.069590106606483,0.000285222020466,0.035712178796530,0.010596023872495,0.034421060234308,0.147043779492378,0.050609193742275,-0.075429037213326,0.003210095688701,-0.015065903775394,-0.017982034012675,0.031977873295546,0.034461356699467));
res += mul(Get(s2,dx,0), float4x4(0.012838214635849,0.000980401411653,-0.074985459446907,0.107151187956333,0.056500788778067,-0.036035787314177,0.055446799844503,-0.050822887569666,0.038169406354427,0.080070041120052,-0.015401063486934,0.022501921281219,-0.065195783972740,0.009948392398655,-0.053208418190479,0.069121003150940));
res += mul(Get(s2,dx,dy), float4x4(-0.007826443761587,0.066398441791534,0.021194659173489,0.071646578609943,-0.015267862007022,-0.063668593764305,0.042638733983040,0.051213510334492,-0.075087979435921,-0.041120540350676,-0.043744217604399,0.028385970741510,-0.053532533347607,0.145297542214394,-0.047621559351683,0.070487365126610));
res += mul(Get(s3,-dx,-dy), float4x4(-0.031945593655109,0.007648638449609,-0.048099439591169,-0.004736026283354,0.066254943609238,-0.073348358273506,-0.029750237241387,0.003106882562861,-0.006230076774955,-0.082430683076382,-0.039851721376181,0.024685841053724,-0.010551893152297,0.050997823476791,-0.044686585664749,0.078007139265537));
res += mul(Get(s3,-dx,0), float4x4(0.027192687615752,0.023469550535083,0.014229146763682,-0.013284162618220,0.005188669078052,-0.076196171343327,0.051373150199652,0.030292464420199,0.057280730456114,0.044913738965988,0.019925490021706,0.000245675735641,-0.003584332996979,0.024631500244141,-0.061535663902760,-0.013254861347377));
res += mul(Get(s3,-dx,dy), float4x4(-0.044024314731359,-0.107785426080227,-0.010917156934738,-0.041342474520206,-0.088368892669678,-0.072344355285168,-0.045456316322088,-0.031486228108406,0.099645234644413,0.000813440536149,0.118719324469566,0.043723247945309,-0.066320419311523,-0.089761465787888,-0.021077729761600,-0.115435056388378));
res += mul(Get(s3,0,-dy), float4x4(-0.000519016466569,-0.052182815968990,-0.078463859856129,0.018129644915462,0.046789672225714,0.018733048811555,-0.057003844529390,0.053088761866093,0.113100938498974,-0.013326539658010,-0.030458820983768,0.011187263764441,-0.060271576046944,0.024047221988440,-0.058227777481079,0.080457821488380));
res += mul(Get(s3,0,0), float4x4(0.071599334478378,-0.070073187351227,-0.009302539750934,-0.031967401504517,0.077167496085167,0.125853598117828,0.072843939065933,0.042209461331367,0.168148994445801,-0.028818665072322,0.080092392861843,0.006275310181081,0.005761407781392,0.006921089254320,-0.040507610887289,0.046647552400827));
res += mul(Get(s3,0,dy), float4x4(-0.060066089034081,-0.061399843543768,0.025542162358761,-0.070166565477848,-0.104823857545853,0.074182130396366,0.063166096806526,-0.010147230699658,0.056857604533434,-0.106160722672939,0.081564292311668,0.080350436270237,-0.121298745274544,-0.074527941644192,-0.014464814215899,-0.006757562048733));
res += mul(Get(s3,dx,-dy), float4x4(-0.024279238656163,-0.034199509769678,-0.039400454610586,-0.044694252312183,-0.089827813208103,-0.044779635965824,-0.058139193803072,0.006912399083376,0.069948948919773,0.015360495075583,0.014036791399121,0.075916342437267,-0.005362619180232,0.063873149454594,-0.048177998512983,0.006711021531373));
res += mul(Get(s3,dx,0), float4x4(-0.003332098480314,-0.070877045392990,-0.012314331717789,0.026192350313067,0.094185665249825,-0.013990942388773,-0.025294240564108,-0.005713206715882,0.025628719478846,-0.074030034244061,0.043176151812077,0.045444108545780,0.031746320426464,0.012401238083839,-0.032861441373825,0.047812260687351));
res += mul(Get(s3,dx,dy), float4x4(-0.092591583728790,0.000117641713587,-0.002489038277417,-0.036030925810337,0.022987492382526,0.094138972461224,0.067586243152618,-0.019297104328871,-0.012049237266183,-0.021274529397488,-0.014758603647351,-0.032836936414242,-0.093341760337353,-0.023026583716273,-0.016242474317551,-0.002714723814279));
return max(float4(0,0,0,0), res);
}
