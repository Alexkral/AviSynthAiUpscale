sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.046540357172489,-0.048956423997879,0.002650026232004,-0.002144229365513,-0.017809581011534,-0.052119515836239,0.016714569181204,0.000891959993169,0.058934997767210,-0.023048710078001,0.040670078247786,0.002814825624228,-0.011732202954590,0.032452173531055,0.075205042958260,-0.003482729196548));
res += mul(Get(s0,-dx,0), float4x4(0.033451557159424,-0.058214552700520,0.009225670248270,-0.004416158422828,-0.032130632549524,-0.033341690897942,-0.018044389784336,0.000540828506928,0.084286272525787,-0.023976290598512,0.038305532187223,-0.011629885993898,-0.009278612211347,-0.008357358165085,0.155413359403610,0.001369648380205));
res += mul(Get(s0,-dx,dy), float4x4(-0.018123492598534,-0.050817217677832,0.006568271666765,-0.005900187417865,-0.027561955153942,-0.026826405897737,0.019112743437290,0.008977524936199,0.005621067713946,-0.059077631682158,0.005594880320132,-0.002359612612054,-0.029059763997793,-0.019257256761193,0.065487489104271,0.022297913208604));
res += mul(Get(s0,0,-dy), float4x4(0.108075864613056,-0.018565122038126,-0.022972503677011,0.000361433805665,-0.003963492810726,-0.002068215748295,0.040245022624731,0.009723552502692,0.057478271424770,0.006295691244304,0.030411466956139,-0.010294433683157,0.006217677611858,0.013800077140331,-0.088423930108547,-0.017980434000492));
res += mul(Get(s0,0,0), float4x4(0.098086632788181,-0.024439925327897,-0.009603775106370,-0.003857913659886,-0.016540667042136,0.102805398404598,0.028823370113969,-0.014994926750660,0.093912407755852,-0.007044634781778,0.005366575904191,-0.021136477589607,-0.019056601449847,0.018807359039783,-0.101961709558964,0.007436489220709));
res += mul(Get(s0,0,dy), float4x4(0.052137844264507,-0.015402209945023,0.000681741745211,-0.004823732655495,-0.007211805321276,0.050950765609741,-0.014339265413582,0.001952863531187,0.002324684988707,-0.022572018206120,-0.016589576378465,0.013249426148832,-0.017812913283706,-0.011736015789211,-0.021420996636152,0.013626113533974));
res += mul(Get(s0,dx,-dy), float4x4(0.093786530196667,-0.037486765533686,0.023250225931406,0.006580332759768,0.016767207533121,0.031089553609490,0.014025168493390,-0.001218797173351,0.028189057484269,0.020660283043981,0.009384772740304,-0.000946297892369,0.010154936462641,0.174775674939156,0.031429097056389,-0.001448647468351));
res += mul(Get(s0,dx,0), float4x4(0.087336823344231,-0.019389994442463,0.002006820170209,0.001634722342715,-0.017552241683006,-0.031578727066517,0.011101785115898,0.007282066624612,0.070422962307930,-0.023683963343501,-0.010386690497398,0.004430612549186,-0.023769143968821,0.321415454149246,-0.042786706238985,-0.007099594455212));
res += mul(Get(s0,dx,dy), float4x4(0.023040005937219,-0.019463580101728,-0.007674925960600,-0.009203962981701,0.011986187659204,-0.034257888793945,-0.037480141967535,-0.003108539152890,0.007285228930414,-0.048428792506456,0.001903094118461,0.005505554378033,-0.018970016390085,0.212252661585808,0.052594564855099,0.017724860459566));
res += mul(Get(s1,-dx,-dy), float4x4(-0.006943356711417,-0.025986317545176,-0.054139714688063,-0.002798392204568,-0.000180270522833,0.090076260268688,-0.008596219122410,0.002841172274202,0.011854317039251,-0.012231507338583,-0.002694789553061,-0.004409657325596,0.036421224474907,0.041946280747652,-0.036821648478508,-0.011643056757748));
res += mul(Get(s1,-dx,0), float4x4(-0.075419388711452,0.008985452353954,-0.022585198283195,-0.011289640329778,-0.039049275219440,0.068873263895512,0.046924676746130,-0.000022914828151,0.002601404441521,0.001210435060784,0.010058022104204,-0.001805526553653,-0.098294831812382,-0.075675971806049,-0.037012126296759,-0.000745528494008));
res += mul(Get(s1,-dx,dy), float4x4(-0.096242502331734,-0.015532276593149,0.059304911643267,0.004064946901053,-0.031752277165651,0.016233965754509,0.090809047222137,-0.005311220418662,-0.004764770157635,-0.007360560353845,0.003933597356081,-0.003336489433423,-0.066659972071648,-0.008070191368461,0.118919603526592,-0.001679512788542));
res += mul(Get(s1,0,-dy), float4x4(0.040350764989853,0.080541484057903,-0.022516189143062,-0.000078184901213,0.002213429193944,0.021287687122822,-0.026539400219917,0.002633048221469,-0.007891479879618,0.006320310756564,0.001783039770089,0.007193553261459,0.093477442860603,-0.006286357529461,0.011298635974526,0.008629258722067));
res += mul(Get(s1,0,0), float4x4(-0.002606193302199,0.087337352335453,0.037170562893152,-0.002932052593678,-0.020961234346032,0.029960323125124,0.028883207589388,-0.018577070906758,-0.003760314080864,0.013725314289331,-0.000354175688699,-0.005570649635047,-0.070701375603676,0.122225686907768,-0.068951979279518,-0.022070838138461));
res += mul(Get(s1,0,dy), float4x4(-0.030519433319569,0.077499926090240,0.002268658019602,0.003354614833370,-0.012842340394855,0.041150432080030,0.075866751372814,0.011626442894340,0.017369359731674,0.000670675246511,0.002822407986969,-0.006452710367739,-0.094543799757957,0.089641369879246,0.025245204567909,-0.000763578107581));
res += mul(Get(s1,dx,-dy), float4x4(0.105398856103420,0.011431877501309,-0.063193418085575,0.002852319972590,0.061039373278618,0.022010659798980,-0.011304480955005,0.004232554230839,0.000589094008319,-0.017437426373363,0.002072603208944,0.014808210544288,0.076852552592754,-0.072336673736572,-0.028173025697470,0.014331412501633));
res += mul(Get(s1,dx,0), float4x4(0.122342906892300,-0.019962413236499,-0.005655616521835,0.004578892607242,0.017474757507443,-0.014279602095485,0.001393586513586,0.003557165386155,-0.011247643269598,-0.002368830144405,-0.008966352790594,-0.011498668231070,0.017070412635803,-0.064023494720459,-0.024071456864476,-0.004806243348867));
res += mul(Get(s1,dx,dy), float4x4(0.060728881508112,0.040106717497110,-0.049982529133558,-0.010566106997430,-0.000317492784234,0.019004056230187,0.030926890671253,-0.000498816312756,0.005185376852751,-0.005439302418381,0.015602322295308,-0.006443829741329,-0.007766889408231,-0.030184088274837,-0.021520363166928,0.004419246222824));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001354169566184,0.028496973216534,-0.178326055407524,0.012904557399452,-0.022457025945187,0.023364301770926,0.013644479215145,-0.003685802221298,-0.020727915689349,0.019681138917804,-0.066162578761578,-0.008990332484245,-0.008075094781816,0.099096283316612,0.032185140997171,0.015369920060039));
res += mul(Get(s2,-dx,0), float4x4(0.014501779340208,0.067971974611282,0.002696313662454,0.011530758813024,-0.004752722568810,0.003381308866665,0.007404034025967,-0.007889222353697,-0.060558069497347,-0.057667542248964,0.057668592780828,-0.015097981318831,-0.092845432460308,0.054587472230196,0.032833293080330,-0.011112591251731));
res += mul(Get(s2,-dx,dy), float4x4(-0.009498782455921,-0.090986482799053,0.089191854000092,0.041629616171122,0.001517280703411,0.000336913362844,0.015216721221805,0.010401836596429,-0.026793550699949,0.106868341565132,0.159791126847267,-0.003686027834192,-0.116067282855511,0.022752379998565,0.141606837511063,-0.018057016655803));
res += mul(Get(s2,0,-dy), float4x4(-0.008292555809021,0.023300958797336,-0.202697843313217,-0.013770545832813,0.018398007377982,-0.028738690540195,-0.032775200903416,-0.002959511941299,-0.005139944143593,0.029293160885572,-0.053451247513294,-0.009508317336440,0.075921028852463,0.038410939276218,-0.011687201447785,-0.001299135386944));
res += mul(Get(s2,0,0), float4x4(0.009724888019264,0.083969518542290,-0.045849446207285,-0.013005170039833,0.002756136469543,-0.050366006791592,-0.025628926232457,0.007122620940208,-0.090684451162815,0.276043862104416,-0.011277768760920,-0.027125900611281,0.045715153217316,-0.025357488542795,-0.006487345788628,-0.002683491213247));
res += mul(Get(s2,0,dy), float4x4(-0.001607218757272,-0.013282996602356,0.028761710971594,0.018073020502925,-0.008062451146543,-0.048970472067595,-0.017439672723413,0.007163614500314,-0.099733836948872,0.013405614532530,0.148870885372162,0.008024762384593,-0.044688262045383,-0.017047168686986,0.023534500971437,-0.001366165000945));
res += mul(Get(s2,dx,-dy), float4x4(-0.025688141584396,-0.066098220646381,-0.105495102703571,-0.007971282117069,0.020277740433812,0.010180797427893,-0.035586699843407,0.000361760758096,0.042497567832470,-0.109239809215069,-0.046006269752979,0.018738901242614,0.083155974745750,-0.112979531288147,-0.005794558674097,0.015535596758127));
res += mul(Get(s2,dx,0), float4x4(0.007106468547136,0.059485029429197,-0.037528187036514,-0.003665126627311,0.025036090984941,-0.003779856022447,-0.036067392677069,0.007552883122116,-0.006707912310958,-0.155173942446709,0.083792507648468,-0.008188441395760,0.109036482870579,-0.110907204449177,-0.020054077729583,-0.007332137785852));
res += mul(Get(s2,dx,dy), float4x4(0.008126933127642,0.059222199022770,-0.043340649455786,0.003694665152580,0.005523426458240,-0.004050577990711,-0.021313568577170,-0.018093453720212,-0.067364841699600,-0.038903344422579,-0.007886598818004,-0.000329323200276,0.017272090539336,-0.065252169966698,-0.035344857722521,0.005129924509674));
res += mul(Get(s3,-dx,-dy), float4x4(-0.025628535076976,-0.067016579210758,0.008517292328179,-0.005577495321631,0.000006652002412,-0.048177294433117,0.079717412590981,0.013337775133550,0.028755825012922,-0.007146342191845,-0.008257153443992,-0.004457364324480,0.077795684337616,-0.015943851321936,-0.066543392837048,-0.017517577856779));
res += mul(Get(s3,-dx,0), float4x4(-0.010731298476458,0.097154252231121,0.054890740662813,0.018498223274946,-0.001392376143485,-0.023170925676823,0.061879690736532,0.007106629665941,-0.004468876402825,0.005609291605651,-0.001717662322335,-0.004491518251598,-0.022264901548624,0.002678300021216,-0.063029542565346,-0.015423800796270));
res += mul(Get(s3,-dx,dy), float4x4(-0.041669379919767,0.034749142825603,0.075676359236240,0.001382671529427,0.043123900890350,-0.003958014771342,0.020583195611835,-0.004651228897274,0.011354915797710,0.008222429081798,-0.009651406668127,0.003350153565407,-0.067754745483398,-0.050371516495943,0.062195878475904,-0.003967886790633));
res += mul(Get(s3,0,-dy), float4x4(-0.056041553616524,0.130924046039581,-0.065519362688065,0.001880394644104,0.001253124210052,0.002644510706887,0.126139283180237,0.015426026657224,-0.004491752944887,0.010093424469233,-0.002255424624309,0.003153019119054,0.074670232832432,0.002139160409570,-0.142792120575905,0.002292454242706));
res += mul(Get(s3,0,0), float4x4(-0.033856377005577,-0.021779667586088,0.128606840968132,-0.004730033688247,0.007264686282724,-0.021828569471836,0.110436916351318,0.022417789325118,0.001152410404757,-0.006226656027138,0.019291013479233,0.006918387953192,0.029223138466477,-0.061240371316671,-0.120758883655071,0.000836548046209));
res += mul(Get(s3,0,dy), float4x4(-0.004565186332911,-0.186370328068733,0.059883702546358,0.007820885628462,0.051392454653978,0.018523555248976,0.054700180888176,-0.008498292416334,0.001480449689552,0.001745518180542,0.005148753523827,0.006244002375752,-0.083720684051514,-0.113368339836597,0.015902599319816,-0.002126112813130));
res += mul(Get(s3,dx,-dy), float4x4(0.000765656586736,0.007922484539449,-0.035968430340290,-0.001019370742142,0.013306764885783,0.032340951263905,0.061009872704744,0.008957824669778,0.013818514533341,0.006455557420850,-0.014415027573705,-0.004305127076805,0.045605357736349,0.000773670617491,-0.128638759255409,-0.010791392996907));
res += mul(Get(s3,dx,0), float4x4(-0.006887639872730,-0.009824774228036,0.065841622650623,-0.001467141672038,-0.023318687453866,0.047429740428925,0.041363295167685,0.010940248146653,0.006873969454318,-0.001975902123377,-0.018158929422498,0.000117341471196,0.057620428502560,0.058966055512428,-0.100269474089146,0.008497319184244));
res += mul(Get(s3,dx,dy), float4x4(-0.004650515969843,0.013426270335913,-0.045830089598894,0.005907594226301,-0.027636827901006,0.022264130413532,-0.028891123831272,-0.008237804286182,0.000198358902708,0.001441966393031,0.002743805292994,-0.000789773941506,-0.030501015484333,0.023264979943633,0.028463650494814,-0.006529062520713));
res = max(float4(0,0,0,0), res);
return res;
}
