sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.090831600129604,-0.002663325984031,0.004194256383926,-0.070286028087139,-0.118361331522465,-0.067982725799084,-0.057004261761904,0.031878858804703,-0.070307500660419,-0.044256638735533,-0.064236998558044,-0.078877076506615,-0.127976343035698,-0.063812606036663,0.021040035411716,0.043048180639744));
res += mul(Get(s0,-dx,0), float4x4(0.101811304688454,0.137581408023834,0.012005538679659,0.008418774232268,0.042094729840755,-0.047454144805670,0.026839032769203,0.026764094829559,-0.041968971490860,0.067543998360634,-0.057849016040564,0.012548983097076,0.110763363540173,0.059689849615097,-0.025383800268173,0.032777257263660));
res += mul(Get(s0,-dx,dy), float4x4(0.049800314009190,-0.003586551174521,0.098873332142830,-0.028233349323273,0.013053429313004,-0.029877830296755,-0.052270922809839,0.028194004669785,0.002943302271888,-0.015741389244795,-0.049998603761196,-0.043492693454027,0.027742907404900,-0.061813268810511,-0.105679422616959,-0.023906109854579));
res += mul(Get(s0,0,-dy), float4x4(0.065889820456505,-0.019401291385293,0.034803889691830,-0.015731921419501,-0.035630501806736,0.016770161688328,0.019081518054008,0.034025408327579,-0.040291130542755,0.105163671076298,-0.020669164136052,-0.075444892048836,0.146535485982895,-0.102072902023792,0.178526178002357,-0.086260385811329));
res += mul(Get(s0,0,0), float4x4(0.086017832159996,0.075962483882904,0.160325497388840,0.010354828089476,0.014751198701560,-0.044521182775497,-0.007563290186226,0.056012649089098,0.043429583311081,-0.072471588850021,0.035335920751095,-0.042491696774960,-0.032237190753222,0.015597089193761,-0.023467207327485,0.011782664805651));
res += mul(Get(s0,0,dy), float4x4(0.009272644296288,0.005142185837030,0.042189680039883,-0.112826019525528,-0.066509842872620,-0.027597773820162,-0.071950711309910,0.011909179389477,-0.011813778430223,0.029530486091971,-0.047000057995319,-0.026154741644859,-0.153749033808708,-0.031991124153137,-0.105520434677601,0.065880291163921));
res += mul(Get(s0,dx,-dy), float4x4(0.046120822429657,-0.032997928559780,0.156093046069145,-0.014072371646762,0.012474682182074,-0.031097102910280,0.032803747802973,0.028546918183565,-0.023828705772758,0.106919057667255,0.020450614392757,-0.052267156541348,-0.020358702167869,-0.025118255987763,0.120420269668102,-0.064547896385193));
res += mul(Get(s0,dx,0), float4x4(-0.009479594416916,-0.038686793297529,0.006538975052536,0.007024137303233,0.032371211796999,0.012196714058518,-0.032528497278690,0.135974943637848,-0.009170860052109,0.039831470698118,0.078500762581825,-0.057871241122484,-0.171720027923584,-0.044078595936298,-0.008902965113521,-0.007697621826082));
res += mul(Get(s0,dx,dy), float4x4(0.025480566546321,-0.024017920717597,0.028715586289763,0.006197725888342,0.106001920998096,-0.054503999650478,-0.000412748020608,0.079612545669079,-0.028024110943079,-0.036618027836084,-0.018408810719848,-0.024198682978749,-0.104915849864483,-0.007344694808125,-0.074434675276279,0.047906462103128));
res += mul(Get(s1,-dx,-dy), float4x4(0.046853013336658,-0.006235633976758,0.016795916482806,-0.041073076426983,-0.033273071050644,0.003113376908004,0.000244880211540,0.014691312797368,-0.072664245963097,-0.103630378842354,0.021634137257934,-0.060879666358232,-0.078026801347733,-0.048817869275808,-0.043277122080326,0.001103929942474));
res += mul(Get(s1,-dx,0), float4x4(0.208974719047546,0.004761855583638,0.017975838854909,-0.113435290753841,0.127405211329460,-0.090191110968590,-0.038390710949898,-0.042467582970858,-0.049155786633492,0.026209758594632,-0.184394806623459,0.069450438022614,-0.108809992671013,-0.005425458308309,0.006919260602444,0.026206878945231));
res += mul(Get(s1,-dx,dy), float4x4(0.176095783710480,-0.012896725907922,-0.044945765286684,-0.004468707367778,0.049294684082270,-0.024205921217799,-0.037918638437986,-0.009581384249032,0.021489297971129,-0.030849991366267,0.070203177630901,0.017328834161162,0.038535941392183,-0.012838894501328,-0.000205214804737,0.070841826498508));
res += mul(Get(s1,0,-dy), float4x4(0.085820615291595,0.017889976501465,0.068290531635284,-0.011902958154678,0.063473470509052,0.137954577803612,0.014350947923958,0.034878641366959,-0.039067164063454,0.018638277426362,0.014660080894828,-0.043189298361540,-0.088258221745491,0.029192633926868,-0.103563241660595,0.060195978730917));
res += mul(Get(s1,0,0), float4x4(-0.036439917981625,-0.019053194671869,-0.007503305096179,-0.033539101481438,-0.061165578663349,0.093935251235962,0.062230870127678,0.084839187562466,0.048644367605448,0.076449356973171,-0.162385419011116,-0.022757109254599,0.064125001430511,-0.023415034636855,0.094733670353889,0.026901125907898));
res += mul(Get(s1,0,dy), float4x4(-0.090429395437241,-0.068400613963604,-0.052740525454283,-0.067492425441742,-0.023947317153215,-0.047270745038986,-0.091518349945545,0.050069928169250,0.029286246746778,0.045338626950979,0.051368806511164,-0.012825375422835,0.097931534051895,-0.031200813129544,0.011513349600136,-0.036198709160089));
res += mul(Get(s1,dx,-dy), float4x4(0.024398818612099,-0.049778509885073,0.027991954237223,-0.003839702345431,-0.003066939767450,-0.079429619014263,0.038708690553904,0.040551427751780,-0.010664742439985,-0.019620256498456,0.047833111137152,0.047111414372921,0.017874184995890,-0.071411319077015,-0.085405431687832,-0.079666860401630));
res += mul(Get(s1,dx,0), float4x4(-0.085652187466621,0.062684863805771,-0.073977999389172,0.043569266796112,0.001237416290678,0.021200422197580,-0.067010864615440,0.176892235875130,0.035604357719421,0.098219759762287,-0.096319139003754,0.109421648085117,0.026900507509708,0.034381713718176,-0.002336131408811,0.020028935745358));
res += mul(Get(s1,dx,dy), float4x4(-0.063709735870361,-0.046233929693699,0.014429004862905,-0.041161764413118,-0.015915339812636,-0.080403283238411,-0.062829971313477,0.095766797661781,-0.023931557312608,0.068195678293705,0.038834575563669,0.012774447910488,-0.084079608321190,-0.060382049530745,0.006743672769517,-0.069551147520542));
res += mul(Get(s2,-dx,-dy), float4x4(-0.056262478232384,0.040574174374342,0.016827104613185,-0.058540754020214,-0.023836217820644,-0.003033808432519,0.014485781081021,-0.001132131204940,-0.045260768383741,-0.062858693301678,-0.038906060159206,-0.056428726762533,-0.041118565946817,-0.127315253019333,-0.087898895144463,-0.033547502011061));
res += mul(Get(s2,-dx,0), float4x4(-0.023664202541113,-0.008887617848814,-0.010544437915087,-0.018627494573593,-0.027634194120765,0.085344828665257,0.015319583006203,0.027857691049576,0.034758742898703,-0.006141420919448,0.061790842562914,-0.044616147875786,-0.035372119396925,0.034497797489166,-0.053162898868322,-0.045205097645521));
res += mul(Get(s2,-dx,dy), float4x4(-0.053789623081684,-0.043747510761023,-0.047681771218777,-0.012219529598951,-0.049330580979586,0.066462323069572,-0.108398862183094,0.004320392850786,-0.006202850956470,-0.001939247129485,-0.039982438087463,0.011648202314973,-0.037839829921722,-0.090313732624054,-0.057132225483656,-0.034522149711847));
res += mul(Get(s2,0,-dy), float4x4(-0.061509545892477,0.128517538309097,0.015705594792962,-0.028171610087156,-0.022245312109590,-0.067293882369995,0.024259984493256,-0.012120651081204,-0.005685264710337,-0.007889807224274,-0.036004047840834,-0.022256519645452,-0.049906354397535,-0.093476042151451,-0.003900412237272,-0.000281374144834));
res += mul(Get(s2,0,0), float4x4(-0.056259844452143,-0.030998419970274,0.087516814470291,0.001551054301672,-0.032975759357214,-0.017733667045832,0.024860335513949,0.018142791464925,-0.030847240239382,0.138051897287369,0.075426429510117,0.095706388354301,-0.040436226874590,-0.011560806073248,0.000360625243047,-0.020516626536846));
res += mul(Get(s2,0,dy), float4x4(-0.021712146699429,-0.018053261563182,-0.029619241133332,0.008883811533451,-0.039675604552031,0.130567282438278,-0.018888771533966,0.044860839843750,0.002825188683346,0.077038519084454,0.005819060839713,0.039513949304819,-0.038713179528713,-0.044527024030685,-0.053497355431318,-0.048151161521673));
res += mul(Get(s2,dx,-dy), float4x4(-0.047391887754202,0.067904189229012,-0.033351212739944,-0.059679359197617,-0.044147051870823,-0.068075999617577,0.019022917374969,-0.041762616485357,0.040840074419975,-0.027909001335502,0.069607958197594,-0.038546264171600,-0.051014572381973,-0.084709517657757,-0.025063700973988,-0.068517841398716));
res += mul(Get(s2,dx,0), float4x4(-0.040909357368946,0.083584353327751,0.079966597259045,-0.066916950047016,-0.053316254168749,-0.044799480587244,0.066491223871708,0.036069519817829,0.052510309964418,0.013549709692597,0.076919160783291,-0.008232850581408,-0.036146480590105,-0.050933081656694,-0.038528386503458,-0.021239500492811));
res += mul(Get(s2,dx,dy), float4x4(-0.021925665438175,0.042490515857935,-0.007726585492492,-0.028398120775819,-0.005166234914213,0.111689105629921,0.032722365111113,0.021090533584356,0.058042623102665,0.043764390051365,0.028138460591435,-0.023436656221747,-0.044387053698301,-0.023169975727797,-0.077291108667850,-0.035652399063110));
res += mul(Get(s3,-dx,-dy), float4x4(-0.079892896115780,-0.083542443811893,-0.054559428244829,-0.032197423279285,0.128082931041718,-0.025675136595964,-0.083783850073814,0.030459294095635,-0.035903025418520,0.148754194378853,0.053445033729076,0.055614858865738,0.031586479395628,-0.040215775370598,-0.028529152274132,0.061915770173073));
res += mul(Get(s3,-dx,0), float4x4(-0.103994525969028,0.025569068267941,-0.015453823842108,-0.009264104999602,0.033599175512791,0.006962839979678,-0.092591203749180,0.025574989616871,-0.033622886985540,0.008004180155694,0.053563624620438,0.071731202304363,-0.060125596821308,0.009098081849515,-0.027568135410547,0.073733896017075));
res += mul(Get(s3,-dx,dy), float4x4(-0.108169525861740,0.099506780505180,-0.017240252345800,-0.023657066747546,-0.078032821416855,0.092461414635181,-0.101767167448997,0.018813954666257,-0.033514685928822,-0.002750088460743,-0.028264656662941,0.041832283139229,-0.011525963433087,-0.091061063110828,0.058659520000219,-0.028890673071146));
res += mul(Get(s3,0,-dy), float4x4(-0.044214598834515,-0.062042701989412,0.036688759922981,0.005913333036005,0.067153312265873,-0.007562622427940,0.116491459310055,0.042070262134075,-0.059055294841528,0.112782359123230,0.001537934527732,0.000950365327299,0.032919567078352,-0.059706963598728,-0.033068072050810,-0.034094929695129));
res += mul(Get(s3,0,0), float4x4(-0.025436563417315,-0.112292677164078,-0.006769416853786,-0.004649117123336,-0.025905782356858,-0.018652804195881,-0.047695461660624,-0.018901545554399,-0.041909173130989,0.077126756310463,0.025309314951301,-0.003845274215564,-0.014981690794230,0.019731288775802,-0.046735476702452,0.092994697391987));
res += mul(Get(s3,0,dy), float4x4(0.039544891566038,0.020766997709870,-0.025732306763530,-0.035846058279276,0.015798844397068,0.019427491351962,-0.043131850659847,-0.128591403365135,-0.012820653617382,0.071967899799347,0.031288236379623,-0.025421170517802,0.007267430890352,-0.024962099269032,0.080321528017521,-0.035744287073612));
res += mul(Get(s3,dx,-dy), float4x4(-0.085698030889034,-0.033458855003119,0.000922622566577,0.030531700700521,-0.004934050142765,-0.069252394139767,0.137211814522743,0.076850473880768,-0.069696694612503,-0.064670771360397,0.007195866666734,0.017390312626958,-0.012231600470841,-0.084764420986176,-0.015698043629527,-0.099641963839531));
res += mul(Get(s3,dx,0), float4x4(-0.017876721918583,-0.096146069467068,-0.014734226278961,0.035870503634214,-0.011819954030216,-0.001867171726190,0.078418001532555,0.030203979462385,-0.050804536789656,0.035772390663624,-0.006920951884240,-0.005480379331857,0.027963865548372,-0.054746035486460,-0.047881502658129,0.047825664281845));
res += mul(Get(s3,dx,dy), float4x4(0.035274688154459,-0.074204146862030,-0.051311090588570,-0.027799030765891,-0.012410918250680,0.016039442270994,-0.022163597866893,0.049456618726254,0.001142551889643,0.085379101336002,0.086968682706356,-0.019882019609213,0.008903368376195,0.025761606171727,0.068203404545784,0.018729856237769));
res = max(float4(0,0,0,0), res);
return res;
}
