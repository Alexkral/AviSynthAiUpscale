sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020107867196202,-0.018072638660669,-0.006305703893304,0.023702912032604,-0.033951468765736,-0.043162882328033,-0.067733131349087,-0.020034065470099,-0.005872827954590,0.005673824343830,0.111364863812923,-0.012422320432961,-0.012832032516599,0.006774931680411,0.077594056725502,-0.019902637228370));
res += mul(Get(s0,-dx,0), float4x4(-0.028849937021732,-0.017938612028956,0.012244259938598,-0.014986544847488,0.065532729029655,-0.060643013566732,0.038878425955772,0.012626064009964,0.030658531934023,-0.075235605239868,-0.050204996019602,-0.019773801788688,-0.040591392666101,-0.027210865169764,0.017669264227152,0.032439719885588));
res += mul(Get(s0,-dx,dy), float4x4(-0.036355260759592,-0.029382973909378,0.018619317561388,-0.026013478636742,-0.064842939376831,-0.018616750836372,-0.016199158504605,-0.047642633318901,0.023012548685074,-0.057235598564148,0.015204544179142,0.105154320597649,-0.051740884780884,0.058868788182735,0.021070096641779,0.058341819792986));
res += mul(Get(s0,0,-dy), float4x4(-0.025048924610019,-0.044956371188164,0.036777440458536,-0.012244120240211,-0.017959056422114,-0.073827601969242,-0.012153508141637,0.025615848600864,-0.025150530040264,0.026026075705886,0.034258000552654,-0.011667173355818,0.045921154320240,-0.000774227431975,0.011534345336258,-0.053679585456848));
res += mul(Get(s0,0,0), float4x4(-0.014444545842707,-0.058732498437166,-0.007783859968185,-0.046863332390785,0.061791010200977,-0.047068204730749,0.011591955088079,0.025345211848617,0.010267102159560,-0.028069812804461,-0.062645167112350,-0.012188755907118,-0.021301705390215,-0.051939684897661,0.039192501455545,-0.019686091691256));
res += mul(Get(s0,0,dy), float4x4(-0.039692986756563,-0.032026294618845,0.084824182093143,-0.009523390792310,-0.033150032162666,-0.015392764471471,-0.017603807151318,-0.033137425780296,-0.012954594567418,-0.042116664350033,0.023920025676489,0.137084677815437,-0.061588320881128,0.015819486230612,0.022897696122527,0.028494575992227));
res += mul(Get(s0,dx,-dy), float4x4(-0.008960406295955,-0.046002838760614,-0.022799804806709,-0.060203351080418,-0.034619629383087,-0.028036504983902,-0.047224391251802,0.048349011689425,-0.007198787294328,0.005877836607397,0.012527045793831,-0.001963367452845,0.043278533965349,0.029232682660222,0.040406361222267,-0.044906150549650));
res += mul(Get(s0,dx,0), float4x4(0.020384106785059,-0.068309575319290,-0.027102382853627,-0.042804364115000,0.064147926867008,-0.043302632868290,-0.013132307678461,0.086426034569740,0.016615204513073,-0.019414741545916,-0.025962606072426,0.013987329788506,0.081240028142929,-0.011420418508351,-0.012400031089783,-0.000916978402529));
res += mul(Get(s0,dx,dy), float4x4(0.006977437064052,0.006948820315301,-0.022534366697073,-0.046448122709990,0.002332724165171,-0.022811433300376,-0.002398445503786,0.009132863022387,-0.049988735467196,-0.044749673455954,0.008578386157751,0.056688331067562,0.056662555783987,-0.009911905974150,0.016427198424935,0.011494966223836));
res += mul(Get(s1,-dx,-dy), float4x4(0.029899252578616,-0.010882048867643,-0.004763334989548,0.029829172417521,0.072427079081535,0.022328704595566,-0.011768485419452,0.002516671549529,-0.010268737562001,-0.003654216416180,-0.031716763973236,0.048170626163483,-0.071500413119793,0.008795490488410,0.106559082865715,0.017835635691881));
res += mul(Get(s1,-dx,0), float4x4(0.035909596830606,0.002121264114976,-0.022124595940113,0.030283078551292,0.004894302226603,-0.072565205395222,-0.003791369032115,0.010077010840178,0.050582859665155,0.091763183474541,0.030478607863188,0.016575437039137,-0.000613344833255,0.020771952345967,-0.034794110804796,-0.008988553658128));
res += mul(Get(s1,-dx,dy), float4x4(0.027390204370022,0.017336588352919,0.005917616654187,0.012723958119750,0.031035706400871,-0.026860227808356,0.125214308500290,0.004266690462828,0.008061141707003,0.045545954257250,-0.047777786850929,-0.006465731654316,-0.045191820710897,-0.024972843006253,-0.045644119381905,-0.015735900029540));
res += mul(Get(s1,0,-dy), float4x4(0.031583055853844,-0.033931605517864,-0.009234562516212,0.041909273713827,0.094412334263325,0.076131455600262,0.114258036017418,-0.044672880321741,0.022230871021748,-0.023786442354321,0.028706764802337,0.086625061929226,-0.078569710254669,0.063909769058228,0.085809171199799,-0.035856295377016));
res += mul(Get(s1,0,0), float4x4(-0.056531671434641,-0.012407493777573,-0.017141720280051,0.040194842964411,0.085210837423801,-0.040615689009428,-0.020547607913613,0.004585187882185,-0.016924545168877,0.161142289638519,0.162787541747093,0.013748069293797,-0.027730774134398,-0.028693102300167,0.006875942461193,-0.061342399567366));
res += mul(Get(s1,0,dy), float4x4(-0.060443375259638,0.040958203375340,-0.003646920435131,-0.019744355231524,0.062510840594769,-0.038852289319038,0.092030555009842,0.116854876279831,0.004368439316750,0.106572702527046,0.045443877577782,-0.073361240327358,-0.060630034655333,-0.011967078782618,-0.049951966851950,-0.099272981286049));
res += mul(Get(s1,dx,-dy), float4x4(-0.005011344328523,-0.026483563706279,0.006259306333959,0.029400171712041,0.015133301727474,0.042173743247986,-0.030433326959610,-0.057288791984320,0.059562843292952,0.011948162689805,-0.061819206923246,0.098809055984020,0.012658322229981,0.084913581609726,0.018943430855870,-0.027367027476430));
res += mul(Get(s1,dx,0), float4x4(-0.024682069197297,-0.001727702794597,-0.007366453297436,0.056142516434193,0.012306905351579,-0.034454647451639,-0.042428266257048,0.014574362896383,-0.049848049879074,0.063705198466778,0.018823156133294,0.013773865066469,0.020077615976334,-0.009690466336906,0.037214845418930,-0.005644074641168));
res += mul(Get(s1,dx,dy), float4x4(-0.049865026026964,0.032087419182062,-0.010999137535691,-0.010518508031964,0.034396752715111,-0.028513938188553,0.060037091374397,0.123315431177616,-0.037074204534292,0.121199131011963,-0.060900531709194,-0.086835965514183,0.018305249512196,0.003132433397695,-0.061164595186710,-0.008499435149133));
res += mul(Get(s2,-dx,-dy), float4x4(0.071032434701920,-0.053127482533455,-0.055195339024067,0.014817638322711,-0.020991887897253,-0.004112262278795,0.044439647346735,-0.022790009155869,0.028818106278777,-0.026104833930731,0.041703786700964,0.030421387404203,0.018561556935310,-0.033774435520172,-0.079510703682899,-0.037904947996140));
res += mul(Get(s2,-dx,0), float4x4(0.038474854081869,0.048749551177025,-0.059863213449717,0.139010041952133,-0.042158961296082,-0.046177290380001,-0.003709946991876,-0.033129241317511,0.004370774142444,-0.033920444548130,0.002901417203248,-0.051677878946066,0.014439112506807,0.066665574908257,0.046646799892187,-0.038084611296654));
res += mul(Get(s2,-dx,dy), float4x4(-0.057140581309795,0.061544746160507,0.026973899453878,0.165625765919685,0.004188014194369,0.026982510462403,-0.011563693173230,-0.041905950754881,0.025318026542664,-0.008759961463511,-0.034915603697300,-0.084284074604511,0.024787703529000,-0.053085178136826,0.018881777301431,-0.032678790390491));
res += mul(Get(s2,0,-dy), float4x4(0.025794772431254,-0.039084341377020,0.021281173452735,-0.001926124910824,-0.024137590080500,0.001428110641427,0.047449637204409,-0.033412523567677,0.086464524269104,-0.018286848440766,-0.005724618211389,0.055010721087456,-0.038110688328743,0.025276761502028,-0.043381761759520,0.044922340661287));
res += mul(Get(s2,0,0), float4x4(0.030110627412796,0.051997549831867,0.079313665628433,0.044286280870438,-0.023102145642042,-0.052511345595121,0.033091440796852,-0.034164786338806,0.107643589377403,-0.035866793245077,-0.024428941309452,0.031712643802166,-0.048228818923235,0.077454805374146,0.157996401190758,-0.005669228732586));
res += mul(Get(s2,0,dy), float4x4(0.003904323326424,0.027775716036558,0.084028869867325,0.037061199545860,0.054929062724113,-0.027038468047976,0.016104796901345,-0.046309541910887,0.029011072590947,0.033516995608807,0.007212365977466,-0.002268435899168,0.018815685063601,-0.083031259477139,0.021936649456620,-0.046982228755951));
res += mul(Get(s2,dx,-dy), float4x4(-0.057101894170046,-0.018041709437966,-0.026395428925753,-0.016201928257942,-0.038705311715603,0.007760095410049,0.001794542768039,0.007226353045553,-0.000648626184557,0.037410806864500,-0.008889581076801,0.074714593589306,-0.046546548604965,0.026803001761436,-0.063587352633476,0.050205767154694));
res += mul(Get(s2,dx,0), float4x4(-0.047262419015169,-0.029618984088302,0.007561904378235,-0.051494177430868,0.009921956807375,0.000689303153194,-0.012588193640113,-0.010282330214977,0.029390368610620,-0.035561535507441,-0.021563585847616,0.224213451147079,-0.058530896902084,0.014257697388530,0.091874979436398,-0.057980004698038));
res += mul(Get(s2,dx,dy), float4x4(-0.010326826013625,-0.050480671226978,-0.049444362521172,0.001553611597046,0.089984655380249,-0.033494722098112,0.022131195291877,-0.001919007743709,0.013585664331913,0.018414989113808,-0.018187845125794,0.079828016459942,-0.016421584412456,-0.076716996729374,0.002654660260305,-0.057091146707535));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011851573362947,-0.025553138926625,0.003116899635643,-0.029298242181540,-0.026010707020760,0.076251044869423,-0.049771834164858,0.034185107797384,0.036625757813454,-0.024476116523147,0.057110246270895,-0.074447467923164,0.186884060502052,0.041792634874582,-0.078347481787205,-0.028538938611746));
res += mul(Get(s3,-dx,0), float4x4(0.019572764635086,-0.062708973884583,0.030346134677529,0.059877052903175,-0.190694898366928,-0.118891224265099,0.032727837562561,-0.024263655766845,0.017335562035441,-0.131270572543144,-0.067103244364262,-0.046395923942327,-0.003262368030846,0.010817410424352,-0.092636570334435,-0.062790349125862));
res += mul(Get(s3,-dx,dy), float4x4(-0.003646001219749,-0.065345175564289,-0.016273939982057,0.078410468995571,0.069251418113708,-0.216888263821602,0.018689299002290,-0.026905721053481,0.041568171232939,-0.051808692514896,0.007241416256875,-0.047115255147219,-0.108383715152740,-0.107938706874847,0.060544896870852,-0.013656737282872));
res += mul(Get(s3,0,-dy), float4x4(-0.031230384483933,0.013340313918889,0.001862564939074,0.010826371610165,0.118627980351448,0.126057386398315,-0.061311215162277,0.069288320839405,-0.065551519393921,0.117884561419487,0.133519366383553,-0.045377455651760,0.017618330195546,-0.107926763594151,-0.032807279378176,-0.087072432041168));
res += mul(Get(s3,0,0), float4x4(0.030781866982579,-0.004019810818136,0.038133133202791,0.037311755120754,-0.101426281034946,0.143899038434029,0.121200777590275,-0.059586651623249,-0.003679773304611,-0.116123333573341,0.004595834761858,-0.054190587252378,0.143440872430801,-0.011855896562338,-0.125946849584579,-0.029698392376304));
res += mul(Get(s3,0,dy), float4x4(0.008018649183214,0.034700449556112,-0.037755902856588,0.080168522894382,-0.096688568592072,-0.227495148777962,-0.007565679959953,-0.078099638223648,-0.005487888585776,-0.072633035480976,-0.051011905074120,0.004632627591491,-0.069166414439678,0.038485530763865,0.124510750174522,0.067743383347988));
res += mul(Get(s3,dx,-dy), float4x4(-0.002404741011560,-0.009841707535088,-0.017585715278983,-0.005330440588295,-0.059869762510061,-0.050294291228056,-0.154267013072968,-0.036213815212250,0.021837785840034,0.150538921356201,0.009026340208948,-0.026349319145083,-0.174888208508492,0.029116770252585,-0.081389546394348,-0.098250672221184));
res += mul(Get(s3,dx,0), float4x4(-0.057741470634937,0.009209449402988,0.044643100351095,0.002340953564271,0.056151300668716,0.091732434928417,-0.106295041739941,0.006924502085894,0.103088490664959,-0.018594484776258,-0.018673580139875,-0.063032470643520,0.042747668921947,-0.100382335484028,-0.022692557424307,-0.035852562636137));
res += mul(Get(s3,dx,dy), float4x4(-0.131387352943420,0.025398135185242,-0.032653208822012,0.019494412466884,-0.039296466857195,-0.035073436796665,-0.111620567739010,0.031502190977335,0.030204789713025,-0.038022410124540,-0.046727165579796,0.097966104745865,0.006283114664257,0.058300990611315,0.036907445639372,0.069377318024635));
res = max(float4(0,0,0,0), res);
return res;
}
