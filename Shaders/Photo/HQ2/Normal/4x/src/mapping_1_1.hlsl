sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.011100599542260,-0.146526128053665,-0.011023133993149,0.055464994162321,-0.000704123522155,-0.072416596114635,0.077081024646759,-0.020135760307312,0.016443222761154,-0.017530085518956,0.180620044469833,0.012532065622509,0.002628681482747,-0.018653601408005,0.034280877560377,-0.008914578706026));
res += mul(Get(s0,-dx,0), float4x4(0.018177250400186,-0.107973046600819,-0.351531624794006,0.131658524274826,-0.011664125137031,-0.009631856344640,0.023366712033749,-0.019100612029433,0.000617502315436,0.042964648455381,-0.026278706267476,-0.012447981163859,-0.000610626069829,-0.003448890987784,0.085866086184978,0.006830288562924));
res += mul(Get(s0,-dx,dy), float4x4(-0.011512388475239,0.142681464552879,0.128800153732300,0.071501851081848,-0.001435863203369,0.009646750986576,0.220503702759743,0.011173197999597,0.003843696089461,0.084098160266876,0.114473722875118,0.012756953015924,0.004845435731113,0.008911734446883,0.088096648454666,-0.001929425285198));
res += mul(Get(s0,0,-dy), float4x4(0.007312818896025,-0.143153339624405,-0.197440490126610,-0.038450013846159,-0.008805426768959,-0.075263671576977,0.126451104879379,-0.047977272421122,-0.010749812237918,-0.024466266855597,0.205298990011215,-0.032207399606705,-0.003369570244104,-0.002072614384815,-0.050349369645119,-0.008758036419749));
res += mul(Get(s0,0,0), float4x4(0.075787782669067,-0.090712063014507,0.918013036251068,0.058977946639061,0.008720797486603,-0.033719416707754,-0.116961918771267,-0.028323441743851,-0.005709720309824,0.049737818539143,-0.329181432723999,-0.026971794664860,-0.001981499604881,-0.007628577761352,-0.038629088550806,-0.014028756879270));
res += mul(Get(s0,0,dy), float4x4(0.036020092666149,0.285776138305664,-0.180641666054726,0.018192129209638,-0.008788390085101,0.019848270341754,0.144076511263847,-0.021160624921322,-0.018251715227962,0.074598848819733,-0.081203281879425,-0.011343768797815,0.003818619996309,0.003426908981055,-0.009685457684100,-0.007380066905171));
res += mul(Get(s0,dx,-dy), float4x4(-0.013489324599504,-0.088666826486588,0.025968890637159,-0.154703602194786,-0.015932725742459,-0.015694426372647,0.064350113272667,-0.077515609562397,-0.004602787550539,-0.027317745611072,-0.036399364471436,-0.072118811309338,0.004384533502162,0.011526443995535,0.013688325881958,0.013676045462489));
res += mul(Get(s0,dx,0), float4x4(-0.022487271577120,-0.079711847007275,-0.133554190397263,-0.119902722537518,0.001996146515012,0.002058023354039,-0.145895659923553,-0.061340689659119,-0.027658881619573,0.012700129300356,0.095074743032455,-0.019724212586880,-0.009241069667041,-0.008399067446589,0.038733024150133,-0.016530022025108));
res += mul(Get(s0,dx,dy), float4x4(-0.038351528346539,0.205762788653374,0.000657871365547,-0.074870169162750,-0.004197891335934,0.016504181548953,0.048068862408400,-0.043639939278364,-0.005685934796929,0.035255629569292,0.076571866869926,-0.007702529430389,-0.008188638836145,0.006933404132724,0.028878655284643,-0.020143074914813));
res += mul(Get(s1,-dx,-dy), float4x4(-0.016310134902596,-0.010438392870128,-0.002372280228883,-0.011717357672751,-0.018501967191696,-0.084412835538387,0.138932794332504,-0.002421531593427,-0.007519352249801,-0.003733012126759,0.020680470392108,0.004762443248183,0.005223574116826,-0.004696716088802,0.027229474857450,-0.004767012782395));
res += mul(Get(s1,-dx,0), float4x4(-0.015543389134109,-0.001912628533319,-0.000652781047393,0.010356158949435,0.031832713633776,-0.072782166302204,0.147100821137428,0.075053758919239,0.011058337055147,0.012231558561325,-0.010646103881299,0.009670622646809,0.000764505879488,0.015051392838359,0.010877775959671,0.009230800904334));
res += mul(Get(s1,-dx,dy), float4x4(0.002923360560089,-0.001300667878240,0.010207563638687,-0.015353164635599,0.001450036303140,0.134725689888000,-0.196662768721581,0.048682309687138,0.008001213893294,0.011664337478578,0.005452836863697,-0.019871072843671,-0.006935510318726,0.008481336757541,0.005879760254174,0.006174245849252));
res += mul(Get(s1,0,-dy), float4x4(0.002909257309511,-0.000545444840100,0.001445482135750,-0.004761073738337,-0.021757630631328,-0.057812590152025,-0.375710457563400,-0.082796894013882,0.007063822355121,0.015971148386598,-0.005788441747427,0.006805625278503,-0.010471935383976,-0.007363850716501,-0.006343989633024,-0.005352644249797));
res += mul(Get(s1,0,0), float4x4(0.000492209277581,-0.004454706329852,0.003768729045987,0.009316796436906,-0.005528365261853,-0.092296205461025,0.290813088417053,-0.016978880390525,-0.009129731915891,0.016984498128295,-0.015572567470372,0.011292934417725,0.013831799849868,-0.002608071547002,0.014940615743399,-0.001061509246938));
res += mul(Get(s1,0,dy), float4x4(0.002274160040542,0.006545373238623,0.003905435791239,0.002342208521441,-0.007641292177141,0.164709001779556,0.153495520353317,0.011769009754062,0.005088680889457,0.010181475430727,0.008070805110037,0.007998911663890,0.002433446003124,0.006099343765527,0.011896178126335,-0.020253811031580));
res += mul(Get(s1,dx,-dy), float4x4(0.001665801624767,0.001803105231375,0.011855048127472,0.006807949859649,0.010239616036415,-0.060698214918375,0.073887899518013,-0.084066934883595,0.006686739157885,0.010202215053141,0.001217833836563,-0.002054833108559,0.016435682773590,-0.004074445925653,0.004060992039740,0.001327943406068));
res += mul(Get(s1,dx,0), float4x4(-0.017070604488254,0.006840918678790,0.007556034717709,-0.000283818662865,-0.017842667177320,-0.049667444080114,0.028754040598869,-0.049181550741196,0.000124242927996,0.001003095647320,0.018195189535618,0.002139662159607,-0.005134051665664,-0.004989507608116,0.003852508496493,0.013792144134641));
res += mul(Get(s1,dx,dy), float4x4(-0.005693050101399,-0.005998530890793,-0.005978723056614,0.014091944321990,-0.012896860018373,0.134569898247719,-0.059804402291775,-0.055812690407038,-0.000597742910031,0.026980934664607,0.021067967638373,0.026274859905243,0.000511577411089,0.003669513156638,-0.004384522791952,-0.005628437269479));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004245005082339,0.001515379641205,0.007805931847543,-0.008124890737236,0.001552505069412,-0.010904105380177,0.036553800106049,-0.005276903510094,-0.005683179944754,-0.036337845027447,0.094277232885361,0.032349001616240,-0.009431423619390,-0.002702654572204,0.005024019163102,0.005880480166525));
res += mul(Get(s2,-dx,0), float4x4(-0.001000274554826,0.002332381205633,-0.011271679773927,-0.005990681704134,-0.010747848078609,0.002077362732962,0.048780709505081,0.002109610009938,-0.013034567236900,-0.068448252975941,-0.006555596366525,0.037223599851131,0.013431610539556,0.005489553324878,-0.009064447134733,0.005636753514409));
res += mul(Get(s2,-dx,dy), float4x4(0.004925870336592,0.001070187892765,-0.000594324723352,-0.005486531648785,0.004376701544970,0.009974814951420,0.015056040138006,-0.007316487841308,-0.022458638995886,0.055985059589148,0.184335038065910,-0.013157588429749,0.012343394570053,-0.005440257489681,-0.004798057954758,-0.011830336414278));
res += mul(Get(s2,0,-dy), float4x4(-0.003267153399065,-0.012851589359343,-0.013293687254190,-0.002615181729198,0.000580644584261,-0.002272032666951,0.005217658821493,-0.006344173569232,-0.013715989887714,-0.041255831718445,-0.132480978965759,0.054473839700222,0.009714633226395,0.004767423495650,-0.002364016370848,-0.000739674898796));
res += mul(Get(s2,0,0), float4x4(-0.005458717234433,-0.007947685196996,0.007367022801191,-0.000891648232937,0.013037984259427,-0.012921156361699,0.008085225708783,-0.006496136542410,-0.001186140580103,-0.031539741903543,-0.147401154041290,0.103366270661354,0.001142857130617,0.011179532855749,0.012624022550881,0.000682176731061));
res += mul(Get(s2,0,dy), float4x4(0.005207315552980,-0.008303622715175,-0.002428047358990,-0.004085180815309,0.004907379858196,0.026824550703168,-0.005411654245108,-0.003953946754336,-0.023714086040854,0.115732274949551,-0.250062674283981,0.011073359288275,-0.001611138693988,0.003678202629089,-0.019641725346446,0.003159959567711));
res += mul(Get(s2,dx,-dy), float4x4(-0.014541261829436,0.014612892642617,-0.001769026974216,0.004697718657553,-0.005771643947810,0.003077963134274,0.012214394286275,0.014539149589837,-0.006697932258248,-0.066761970520020,0.065151408314705,-0.087859965860844,-0.004297320265323,0.010473683476448,0.004100427962840,-0.006338073406368));
res += mul(Get(s2,dx,0), float4x4(0.002577849198133,-0.004342813976109,-0.006715095136315,0.003025205107406,-0.017085909843445,-0.016598474234343,0.004729968495667,0.003227829234675,-0.027497632429004,-0.043337568640709,0.384267419576645,-0.013233263976872,-0.000300602929201,0.011271790601313,0.008945172652602,0.007168482989073));
res += mul(Get(s2,dx,dy), float4x4(-0.001226884080097,0.001367909833789,0.013205025345087,0.016935754567385,-0.014571683481336,0.002704779617488,-0.003620971925557,0.003718795720488,-0.029737060889602,0.129022032022476,0.010410320945084,-0.042143259197474,0.002468330552801,-0.006403542589396,-0.005813937634230,0.018518194556236));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000618618505541,-0.001473309472203,0.048396021127701,0.049387693405151,0.006957205478102,-0.008530194871128,-0.002819518325850,0.003504972904921,0.002817589323968,0.016313806176186,0.047295022755861,0.040185514837503,-0.013463618233800,-0.086077436804771,0.074820734560490,0.036769244819880));
res += mul(Get(s3,-dx,0), float4x4(0.003613759297878,-0.016603723168373,-0.079682290554047,0.029010364785790,-0.009390976279974,-0.036396447569132,-0.009664994664490,0.016039665788412,-0.014457422308624,-0.003088279627264,0.020396927371621,0.023044694215059,-0.011591060087085,-0.013574323616922,-0.167541235685349,0.081414788961411));
res += mul(Get(s3,-dx,dy), float4x4(0.003287369385362,0.075529471039772,0.006810726597905,0.011110179126263,-0.002792152343318,0.011586440727115,-0.003982273396105,-0.001991471741349,-0.013714497908950,0.004220052156597,0.086898200213909,0.005158135201782,-0.016080571338534,0.045016936957836,-0.041127510368824,0.089363180100918));
res += mul(Get(s3,0,-dy), float4x4(0.012610476464033,0.010170696303248,0.170884072780609,0.029767135158181,-0.007517964579165,-0.015194084495306,0.015835165977478,-0.000893053424079,0.022518051788211,0.001260402495973,-0.022113034501672,0.101183034479618,0.007685146294534,-0.109177909791470,-0.077325619757175,-0.003830268280581));
res += mul(Get(s3,0,0), float4x4(0.021234706044197,0.098193839192390,0.021418441087008,0.037750866264105,-0.009142720140517,-0.036737360060215,-0.004836099222302,0.017255302518606,0.002768146572635,-0.011484533548355,-0.020579850301147,0.088867679238319,0.031151428818703,-0.022740632295609,0.294223338365555,0.027390249073505));
res += mul(Get(s3,0,dy), float4x4(0.026912590488791,0.145687118172646,0.042123984545469,0.007051039487123,0.004045767709613,-0.003874885616824,-0.010047143325210,0.002601296873763,0.021697457879782,0.026350919157267,-0.012002661824226,0.056189205497503,0.037017792463303,0.097033701837063,0.144750848412514,0.054007299244404));
res += mul(Get(s3,dx,-dy), float4x4(0.009380960837007,-0.008435192517936,0.047665607184172,-0.058969125151634,0.007039486896247,-0.012007676996291,0.054652102291584,-0.005934764631093,0.000610623857938,-0.005453686229885,0.035540264099836,0.004346145316958,-0.027370184659958,-0.078949145972729,-0.059021063148975,-0.091074734926224));
res += mul(Get(s3,dx,0), float4x4(-0.022112647071481,0.038037836551666,-0.076814956963062,-0.007963939569890,0.005838212557137,-0.027405733242631,0.005689734593034,0.006713315378875,-0.005260009318590,0.004369007889181,0.020376570522785,0.034439682960510,-0.015308765694499,-0.013517862185836,-0.078035593032837,-0.082457020878792));
res += mul(Get(s3,dx,dy), float4x4(-0.020613154396415,0.117196068167686,-0.018564369529486,-0.007371248211712,0.000754630425945,-0.001066359924152,-0.000978008960374,0.001971056219190,-0.007762995548546,0.032320696860552,0.027812428772449,0.019802706316113,-0.028601674363017,0.062849596142769,0.093024916946888,-0.082952357828617));
res = max(float4(0,0,0,0), res);
return res;
}
