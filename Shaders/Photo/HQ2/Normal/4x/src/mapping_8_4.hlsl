sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.036439716815948,0.053979754447937,-0.107598029077053,-0.038810651749372,-0.003510407870635,-0.086708702147007,-0.039875224232674,-0.070796176791191,-0.121087104082108,-0.106747835874557,-0.025178942829370,-0.004130329005420,0.009030068293214,-0.055637944489717,-0.027812989428639,-0.036151330918074));
res += mul(Get(s0,-dx,0), float4x4(-0.034015018492937,-0.000812188605778,-0.046505838632584,0.054887965321541,-0.045092299580574,-0.093884177505970,-0.046869136393070,-0.014169673435390,-0.036294065415859,-0.121697135269642,-0.136101678013802,0.002603002358228,-0.009253551252186,-0.046916820108891,-0.007723266258836,-0.023952571675181));
res += mul(Get(s0,-dx,dy), float4x4(-0.043970651924610,-0.045607477426529,-0.013359769247472,0.018541168421507,-0.032262343913317,-0.027742194011807,-0.066463336348534,-0.020467061549425,-0.075237974524498,-0.100220486521721,0.041759666055441,0.002265911782160,-0.036549609154463,-0.070940323174000,0.017091736197472,-0.060492157936096));
res += mul(Get(s0,0,-dy), float4x4(0.016766076907516,0.036529686301947,-0.033800706267357,-0.032287359237671,0.051814779639244,0.012141496874392,-0.047829035669565,-0.032273456454277,-0.007429835852236,-0.060882274061441,-0.164252474904060,-0.004261842928827,-0.036823727190495,-0.070921838283539,-0.029381407424808,0.018918596208096));
res += mul(Get(s0,0,0), float4x4(0.003420175984502,-0.052117954939604,-0.004571281373501,-0.031001439318061,0.025191716849804,-0.027265116572380,-0.046995818614960,-0.004713840782642,0.078383505344391,-0.020100960507989,-0.032428290694952,-0.023536739870906,0.014605158008635,-0.018730679526925,-0.035767979919910,0.006137385498732));
res += mul(Get(s0,0,dy), float4x4(0.093060359358788,0.011747917160392,0.048290092498064,0.018538080155849,0.017692534253001,-0.047864619642496,-0.007029694970697,0.012196504510939,0.029375908896327,-0.021296702325344,0.050122544169426,-0.064415559172630,-0.050649464130402,-0.038448084145784,0.019876187667251,0.011153039522469));
res += mul(Get(s0,dx,-dy), float4x4(0.021519063040614,0.071785584092140,0.045271180570126,-0.053773257881403,-0.041702382266521,0.041864544153214,-0.036254845559597,-0.057633932679892,0.083300203084946,0.040087502449751,0.055676460266113,0.049929767847061,0.009169938974082,0.073993109166622,-0.056849990040064,0.040317356586456));
res += mul(Get(s0,dx,0), float4x4(0.039015900343657,0.115734227001667,0.108481228351593,0.022093795239925,-0.064328901469707,0.076065421104431,-0.023748040199280,-0.023334963247180,0.031071832403541,0.068924106657505,0.112838275730610,-0.039143867790699,0.023679554462433,-0.006469333544374,-0.026699451729655,0.014927106909454));
res += mul(Get(s0,dx,dy), float4x4(-0.022472821176052,-0.030822468921542,-0.003154558362439,0.043072193861008,-0.017030511051416,0.035021845251322,-0.010776648297906,-0.027376886457205,-0.040731817483902,0.026748396456242,0.039569772779942,-0.116186596453190,0.006687940564007,0.003881766228005,0.005043596494943,-0.011967533268034));
res += mul(Get(s1,-dx,-dy), float4x4(0.007847473956645,-0.053419254720211,0.089349903166294,-0.026891523972154,0.027765603736043,0.093358241021633,-0.007859907113016,0.071701608598232,-0.016595447435975,-0.012609284371138,0.013217409141362,-0.001130575081334,0.019534152001143,-0.041805785149336,-0.070981442928314,0.049605581909418));
res += mul(Get(s1,-dx,0), float4x4(-0.006325263530016,-0.044036071747541,0.048779200762510,0.026464154943824,0.051768720149994,-0.038063071668148,-0.028198253363371,0.068745672702789,-0.023186398670077,-0.064791917800903,-0.014556856825948,0.045686837285757,0.054136760532856,0.051414288580418,-0.057990759611130,0.023989638313651));
res += mul(Get(s1,-dx,dy), float4x4(0.054907158017159,-0.022991525009274,0.106093138456345,0.024036303162575,-0.008366770111024,-0.104524970054626,-0.053999252617359,0.031108373776078,0.008323303423822,-0.034831505268812,0.039081450551748,-0.026665471494198,0.047616302967072,-0.004293379373848,-0.054270289838314,-0.033059887588024));
res += mul(Get(s1,0,-dy), float4x4(-0.067189216613770,-0.057040616869926,0.001862230710685,0.069878689944744,-0.042864337563515,-0.000132967034006,0.024458594620228,-0.000748947728425,-0.004573529586196,0.057515878230333,-0.004742512479424,0.007353188935667,-0.003045249031857,0.034479718655348,0.020260978490114,0.001039755297825));
res += mul(Get(s1,0,0), float4x4(-0.050384331494570,-0.052337944507599,-0.015820235013962,0.017827058210969,-0.039178509265184,0.141496106982231,0.014054096303880,-0.004429038148373,-0.030055144801736,-0.036306187510490,0.024896403774619,0.011143970303237,0.024519870057702,0.049907408654690,0.006008621305227,0.036966025829315));
res += mul(Get(s1,0,dy), float4x4(0.067228518426418,-0.008178659714758,0.086201131343842,0.028075737878680,0.039687372744083,0.004722806159407,0.007437210530043,0.022124903276563,0.014080768451095,0.007343895267695,0.043519441038370,-0.014508769847453,-0.013510636053979,-0.018545759841800,-0.069840900599957,-0.027849201112986));
res += mul(Get(s1,dx,-dy), float4x4(0.053508322685957,-0.000207056509680,0.031845442950726,0.027860604226589,-0.029099233448505,-0.012555067427456,0.022824063897133,0.007301851641387,-0.011082880198956,0.017155310139060,0.053458087146282,0.024153137579560,-0.044861480593681,-0.031010963022709,0.020082207396626,0.032409124076366));
res += mul(Get(s1,dx,0), float4x4(0.096786148846149,0.053119037300348,0.076686121523380,-0.031959116458893,-0.007012904155999,0.015977324917912,-0.040358241647482,-0.006236964836717,-0.039700016379356,0.048429351300001,0.021240094676614,0.076123811304569,-0.057778332382441,-0.096922129392624,-0.039292134344578,0.100786887109280));
res += mul(Get(s1,dx,dy), float4x4(0.009753305464983,0.066739752888680,0.072969369590282,-0.046157263219357,-0.005917621310800,0.096998982131481,0.014565062709153,-0.073857404291630,-0.006727479863912,0.027816696092486,-0.004255841951817,-0.000878833117895,-0.026656890287995,-0.091491401195526,-0.082526601850986,0.048358336091042));
res += mul(Get(s2,-dx,-dy), float4x4(-0.015791131183505,-0.056201815605164,-0.073626697063446,-0.005480379331857,0.061923485249281,0.026348596438766,0.003529550507665,-0.026372002437711,0.048835970461369,0.011215368285775,0.046018790453672,-0.017636258155107,0.059070456773043,-0.051261361688375,0.078377880156040,-0.015746202319860));
res += mul(Get(s2,-dx,0), float4x4(-0.046006094664335,-0.041580617427826,-0.045166283845901,0.103564627468586,0.136514231562614,0.070345498621464,0.056289572268724,-0.052086770534515,0.027799520641565,0.029960136860609,0.052492089569569,-0.020841645076871,0.088644757866859,-0.003347938181832,-0.008858936838806,-0.074382491409779));
res += mul(Get(s2,-dx,dy), float4x4(-0.023280531167984,-0.083516843616962,0.060126543045044,0.038570016622543,0.051775429397821,0.007672297768295,0.036433346569538,-0.056330051273108,0.007131839171052,-0.000164819852216,-0.007312172092497,0.055802110582590,0.049099255353212,-0.010174927301705,-0.024102330207825,-0.020177602767944));
res += mul(Get(s2,0,-dy), float4x4(-0.035062301903963,-0.030531041324139,-0.051625899970531,0.021781874820590,-0.000246185314609,0.001295298105106,0.017757924273610,0.000083552542492,-0.045654907822609,-0.046190146356821,0.075931601226330,0.023497492074966,-0.001159561099485,-0.051186356693506,0.041622012853622,0.026082571595907));
res += mul(Get(s2,0,0), float4x4(0.046712979674339,-0.024286966770887,-0.025503378361464,0.031831838190556,-0.050666309893131,-0.024631917476654,0.034572333097458,-0.041731815785170,-0.087717071175575,-0.042086970061064,-0.064040198922157,-0.058401100337505,-0.048817906528711,0.015880230814219,0.038328416645527,-0.028199333697557));
res += mul(Get(s2,0,dy), float4x4(0.033847194164991,-0.019608879461884,0.064707748591900,0.008095106109977,-0.025548065081239,-0.006102305836976,0.017264181748033,-0.069376200437546,-0.053868658840656,-0.037524819374084,-0.038450974971056,0.054394375532866,-0.050414219498634,0.047332264482975,-0.037182182073593,-0.020339582115412));
res += mul(Get(s2,dx,-dy), float4x4(-0.008242194540799,0.051930155605078,-0.061857700347900,0.000175046778168,-0.034453339874744,-0.068998292088509,-0.011698855087161,0.049016173928976,-0.070477373898029,-0.100528731942177,-0.008465855382383,0.036245513707399,-0.005005910061300,-0.071252077817917,0.004531055688858,0.075903363525867));
res += mul(Get(s2,dx,0), float4x4(0.096906267106533,0.034900542348623,-0.006795895285904,-0.015341652557254,-0.050151389092207,-0.105201207101345,0.011790873482823,0.000101072451798,-0.058324746787548,-0.012744640000165,-0.018190052360296,-0.049679730087519,-0.046888228505850,-0.072979345917702,-0.037456173449755,-0.004249770194292));
res += mul(Get(s2,dx,dy), float4x4(-0.016805611550808,0.035852793604136,0.016824271529913,-0.038567356765270,-0.023810591548681,-0.056739866733551,0.000511124730110,-0.092710167169571,-0.048284649848938,-0.002765122568235,-0.052864752709866,0.075201340019703,-0.040034297853708,0.010120642371476,-0.075582124292850,0.009533458389342));
res += mul(Get(s3,-dx,-dy), float4x4(-0.027188401669264,-0.089291602373123,0.004868914373219,0.011579384095967,0.045260436832905,0.036114867776632,-0.064788371324539,0.022643677890301,0.044345356523991,0.016681326553226,-0.008529221639037,0.019673710688949,-0.016869613900781,-0.075140133500099,0.054573547095060,0.033459775149822));
res += mul(Get(s3,-dx,0), float4x4(-0.033587682992220,-0.059469789266586,0.000384091050364,0.025270657613873,0.076015867292881,0.075471609830856,0.007977603003383,-0.017301974818110,0.033093653619289,0.036606989800930,0.039914134889841,0.026755869388580,0.051410041749477,-0.040294934064150,0.007735243532807,0.017864495515823));
res += mul(Get(s3,-dx,dy), float4x4(-0.081708826124668,-0.032159991562366,-0.003890072228387,0.006046186201274,0.032802987843752,0.060902234166861,0.007864456623793,-0.000939953199122,-0.015841219574213,0.027645135298371,0.001202255021781,-0.000970477936789,0.011200358159840,-0.036450389772654,-0.023158436641097,0.035880710929632));
res += mul(Get(s3,0,-dy), float4x4(0.053509265184402,0.042147647589445,-0.001017541857436,0.020206786692142,-0.040046352893114,-0.073349565267563,-0.019371781498194,-0.004785507917404,0.044653389602900,0.094775192439556,0.032270357012749,0.014411726966500,0.035482943058014,-0.053646594285965,-0.029263554140925,-0.054389324039221));
res += mul(Get(s3,0,0), float4x4(0.039381943643093,-0.021652489900589,-0.025559170171618,0.025432411581278,-0.085926175117493,0.037273593246937,-0.014872143976390,0.007392438128591,-0.014326877892017,0.005191558040679,-0.032187193632126,0.037807039916515,-0.037711475044489,0.014251304790378,0.008966648951173,-0.070675641298294));
res += mul(Get(s3,0,dy), float4x4(-0.024309886619449,-0.003569077467546,0.031591955572367,0.021937206387520,-0.091441147029400,0.062864974141121,-0.048965640366077,0.026014102622867,0.005757350940257,0.009492876939476,-0.036690197885036,0.070611529052258,-0.022686321288347,0.069560118019581,-0.006446390412748,-0.003932822961360));
res += mul(Get(s3,dx,-dy), float4x4(-0.039608322083950,0.101043783128262,-0.071939744055271,-0.035902753472328,-0.053422208875418,-0.115879364311695,0.015299841761589,-0.013779575005174,0.140800327062607,0.191052377223969,-0.021851751953363,0.026165340095758,0.065397061407566,-0.075646877288818,-0.020855741575360,0.001039356226102));
res += mul(Get(s3,dx,0), float4x4(0.031572781503201,0.089965797960758,0.009577782824636,0.001554201357067,-0.088038504123688,-0.010663795284927,-0.020747546106577,0.039365015923977,0.061206702142954,0.143198698759079,-0.059460893273354,0.006415118463337,0.026082135736942,0.024283278733492,0.052704557776451,-0.024707308039069));
res += mul(Get(s3,dx,dy), float4x4(0.041980903595686,0.101702034473419,0.047568090260029,-0.076029196381569,-0.054784595966339,-0.008671555668116,-0.091273888945580,0.081735588610172,-0.002341612707824,0.144450649619102,-0.028581822291017,0.061323124915361,-0.043716203421354,0.026486285030842,-0.044111009687185,0.038364898413420));
res = max(float4(0,0,0,0), res);
return res;
}
