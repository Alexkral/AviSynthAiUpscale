sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.068740263581276,-0.111204706132412,-0.083830915391445,0.036253176629543,-0.085913494229317,-0.033271886408329,0.017244575545192,0.092240571975708,-0.144852533936501,-0.042030584067106,0.034910120069981,0.044288836419582,0.036780495196581,-0.051247466355562,-0.019327435642481,0.020344594493508));
res += mul(Get(s0,-dx,0), float4x4(0.018029782921076,0.004214929882437,-0.036038357764482,0.026867875829339,-0.015070449560881,0.027065040543675,-0.063767194747925,0.090178012847900,-0.048105757683516,0.062248304486275,0.028624208644032,-0.033259194344282,0.073020815849304,-0.018943132832646,-0.055679641664028,0.020810248330235));
res += mul(Get(s0,-dx,dy), float4x4(0.050729248672724,0.067761421203613,0.005238434299827,0.013886283151805,-0.000668506312650,0.020441310480237,-0.063579186797142,0.067666411399841,0.016297847032547,0.024729605764151,-0.008012060075998,-0.024499151855707,0.098806768655777,-0.006171969696879,-0.036594104021788,0.052374687045813));
res += mul(Get(s0,0,-dy), float4x4(-0.066622503101826,0.001692351652309,0.006366842892021,0.046472270041704,-0.020904101431370,-0.014639141969383,-0.001823222264647,-0.028090387582779,-0.160214900970459,-0.064399644732475,0.065887741744518,-0.022797562181950,0.012023089453578,-0.046240374445915,-0.059426493942738,0.000283384550130));
res += mul(Get(s0,0,0), float4x4(-0.019725749269128,0.005790622439235,0.055034786462784,0.014113986864686,-0.008642337284982,-0.024446478113532,-0.021739786490798,-0.037915606051683,0.033783264458179,-0.101121112704277,-0.074199840426445,-0.003053027438000,0.088271528482437,-0.046072140336037,0.015382800251245,-0.003075205255300));
res += mul(Get(s0,0,dy), float4x4(0.132082626223564,0.036325071007013,0.006619654595852,0.032129399478436,0.023956891149282,0.027171112596989,-0.003605349920690,-0.021381448954344,0.080500937998295,0.028290743008256,0.047120779752731,-0.063110210001469,0.051768451929092,-0.009982994757593,-0.045644164085388,0.062993049621582));
res += mul(Get(s0,dx,-dy), float4x4(-0.033919237554073,-0.034749358892441,0.025613939389586,0.104217544198036,0.014450736343861,-0.029545985162258,-0.037247125059366,-0.022609896957874,-0.002221335191280,0.000416094437242,-0.007009041029960,-0.019463390111923,0.009650464169681,-0.044291291385889,-0.037035930901766,-0.000859479187056));
res += mul(Get(s0,dx,0), float4x4(0.013256258331239,-0.013719419948757,0.073466874659061,0.042351227253675,-0.000219972323976,-0.047064077109098,-0.001613840810023,0.017197502776980,0.010366178117692,-0.070086486637592,-0.020431352779269,-0.015320032835007,0.034998938441277,-0.043188665062189,-0.065248489379883,-0.017405495047569));
res += mul(Get(s0,dx,dy), float4x4(-0.013069447129965,-0.012571459636092,0.060996871441603,0.053685721009970,-0.011230686679482,-0.008767543360591,0.002768069971353,0.031651411205530,0.066521927714348,-0.048028208315372,-0.005344563163817,-0.020598754286766,0.011630805209279,-0.043671499937773,-0.019015083089471,0.067994549870491));
res += mul(Get(s1,-dx,-dy), float4x4(-0.081136077642441,-0.010196101851761,0.054726310074329,0.029215320944786,0.041707552969456,0.113368764519691,0.095382891595364,-0.021445371210575,0.010637744329870,-0.015207791700959,0.032520744949579,-0.064890973269939,-0.026479216292500,-0.028996743261814,-0.006887287832797,-0.006362566258758));
res += mul(Get(s1,-dx,0), float4x4(-0.054884184151888,-0.006933108903468,0.076364561915398,0.026075111702085,-0.045272249728441,-0.005094796419144,0.026869200170040,0.031434804201126,0.074142672121525,0.026119420304894,0.050026632845402,-0.024643776938319,-0.069823347032070,-0.033078245818615,0.018882701173425,0.013504149392247));
res += mul(Get(s1,-dx,dy), float4x4(0.033701762557030,-0.024486444890499,0.044006735086441,-0.020579412579536,-0.035496171563864,-0.091942831873894,-0.008864142000675,-0.013870455324650,0.054941348731518,0.058206241577864,0.003722203662619,-0.002029972849414,-0.059122573584318,-0.056803259998560,0.017852768301964,0.001507045817561));
res += mul(Get(s1,0,-dy), float4x4(-0.029581209644675,-0.034649357199669,0.075536206364632,0.000136734946864,0.057100184261799,0.146053463220596,0.001869702013209,0.060446638613939,0.036116778850555,0.017317838966846,0.080559454858303,-0.052556589245796,0.043772198259830,0.029766837134957,0.012288945727050,-0.047070048749447));
res += mul(Get(s1,0,0), float4x4(-0.076926924288273,-0.032264724373817,-0.028062975034118,-0.021897844970226,-0.046717744320631,0.033285804092884,0.095048986375332,0.007442451547831,0.027081774547696,0.014759033918381,-0.009775147773325,0.014206320047379,-0.052184961736202,0.100971601903439,0.043266147375107,-0.049368541687727));
res += mul(Get(s1,0,dy), float4x4(0.062526002526283,-0.004688269924372,0.020133813843131,-0.009380197152495,-0.007863006554544,-0.019546307623386,-0.014893283136189,0.055127274245024,0.084895372390747,0.054815810173750,0.080834031105042,0.021108826622367,-0.064172305166721,0.032468803226948,0.034842461347580,-0.000093837719760));
res += mul(Get(s1,dx,-dy), float4x4(-0.014396281912923,-0.037386871874332,-0.014487504027784,-0.067603923380375,0.043292872607708,0.014029486104846,-0.027653187513351,0.074659317731857,0.022578183561563,-0.010125112719834,0.055896956473589,-0.027801372110844,0.054669886827469,-0.082399524748325,0.042520251125097,-0.052074778825045));
res += mul(Get(s1,dx,0), float4x4(0.029290717095137,-0.052042208611965,-0.079525686800480,-0.027161814272404,0.007459185086191,0.138677626848221,-0.003053427673876,0.031295113265514,0.041068568825722,0.006000799126923,0.125311523675919,0.075992837548256,0.003392512910068,0.088011018931866,0.009249161928892,0.007822323590517));
res += mul(Get(s1,dx,dy), float4x4(0.004461505915970,-0.052871994674206,-0.087631843984127,-0.022085810080171,0.063540711998940,0.056942857801914,0.005439638160169,0.061989441514015,0.076986685395241,0.034274570643902,0.051639731973410,0.052701398730278,-0.060228504240513,0.054885685443878,0.038004465401173,0.050517786294222));
res += mul(Get(s2,-dx,-dy), float4x4(-0.100575193762779,-0.028944889083505,-0.024946872144938,0.068199895322323,-0.033869899809361,0.022501111030579,0.049805637449026,-0.067168556153774,0.089048184454441,0.027989851310849,-0.058981589972973,-0.035189382731915,-0.054617244750261,-0.069802254438400,0.021049844101071,0.030067263171077));
res += mul(Get(s2,-dx,0), float4x4(-0.014595571905375,-0.047806665301323,-0.025754859670997,0.014322848990560,0.080958336591721,0.069094203412533,0.000037128629629,-0.062085527926683,0.000714648456778,-0.030444543808699,-0.049232404679060,0.021390806883574,-0.041630469262600,-0.014547483064234,0.046739276498556,-0.029903085902333));
res += mul(Get(s2,-dx,dy), float4x4(0.069655716419220,-0.062417026609182,-0.098013490438461,-0.020194148644805,0.013194114901125,0.055385448038578,-0.032064542174339,-0.021832752972841,-0.032695084810257,-0.019920710474253,0.036641292273998,-0.022082513198256,-0.049271021038294,-0.045458689332008,0.001136873965152,-0.079876966774464));
res += mul(Get(s2,0,-dy), float4x4(-0.061779513955116,0.041988283395767,-0.039124350994825,0.007556912954897,0.003190279472619,0.023041790351272,0.090735174715519,0.026528866961598,0.131334602832794,0.073044426739216,-0.073578536510468,-0.071115218102932,-0.005173368379474,-0.011321501806378,0.006559908855706,0.000928266090341));
res += mul(Get(s2,0,0), float4x4(-0.003068306017667,0.004928261972964,-0.025643926113844,-0.019596857950091,0.026894299313426,0.024601014330983,-0.056739889085293,0.063470631837845,-0.028263941407204,-0.023504067212343,0.016949255019426,0.048675559461117,-0.016023473814130,0.019853793084621,-0.040396369993687,-0.032290879637003));
res += mul(Get(s2,0,dy), float4x4(0.132349953055382,-0.003664833493531,-0.063668601214886,-0.018147667869925,0.001815996714868,0.056427683681250,-0.001496718614362,0.056366741657257,-0.029158459976315,-0.040550138801336,0.088214151561260,-0.023495776578784,-0.000375801173504,-0.017436021938920,0.076021172106266,-0.070628494024277));
res += mul(Get(s2,dx,-dy), float4x4(-0.076567605137825,-0.005295367445797,-0.064948223531246,-0.058811213821173,-0.010942085646093,-0.010855999775231,0.027935991063714,-0.034437421709299,0.113427229225636,-0.012278001755476,-0.060241498053074,0.019169311970472,0.009568080306053,-0.127461433410645,-0.000427816499723,-0.048369843512774));
res += mul(Get(s2,dx,0), float4x4(-0.008306564763188,0.000108016909508,-0.042724233120680,-0.031071225181222,0.051826141774654,-0.042519945651293,-0.027782125398517,0.066624149680138,0.060930315405130,0.009524484165013,-0.052126344293356,0.010451206937432,0.024650441482663,-0.071808867156506,-0.063322715461254,-0.027127016335726));
res += mul(Get(s2,dx,dy), float4x4(0.034883640706539,-0.044491838663816,-0.128499001264572,-0.038372460752726,-0.022335387766361,-0.016844861209393,0.018018653616309,-0.000234201856074,-0.011581088416278,-0.027692288160324,0.050670213997364,-0.058771684765816,-0.003396840300411,-0.043274365365505,0.039018251001835,-0.046888083219528));
res += mul(Get(s3,-dx,-dy), float4x4(-0.036217812448740,-0.074319601058960,-0.042517818510532,-0.007995653897524,-0.020091876387596,-0.030369082465768,-0.050614606589079,-0.120598696172237,0.055851124227047,0.116231046617031,-0.011535103432834,0.021578036248684,0.012853427790105,0.013801720924675,-0.038750488311052,-0.012026894837618));
res += mul(Get(s3,-dx,0), float4x4(0.022114513441920,-0.027940314263105,-0.055663906037807,0.035101085901260,-0.034459467977285,-0.105728104710579,-0.011913529597223,-0.125565811991692,-0.004076574929059,0.129487439990044,-0.012460972182453,0.061813272535801,-0.007678426802158,0.072963066399097,0.075591519474983,0.026958176866174));
res += mul(Get(s3,-dx,dy), float4x4(0.034851655364037,0.000142834120197,-0.024055827409029,0.037459671497345,-0.051165144890547,-0.091955401003361,0.037040021270514,-0.073309376835823,-0.083088450133801,0.001792587107047,-0.019080176949501,0.043098561465740,-0.099732823669910,0.027577130123973,0.082450658082962,0.005377741530538));
res += mul(Get(s3,0,-dy), float4x4(0.004364726133645,-0.001910598017275,-0.016596201807261,-0.023310665041208,0.110982604324818,0.051852867007256,-0.004880692344159,-0.059825532138348,-0.020088445395231,0.026493359357119,-0.016810435801744,-0.043282739818096,-0.079820595681667,-0.106396272778511,-0.029555320739746,-0.008912670426071));
res += mul(Get(s3,0,0), float4x4(-0.015880761668086,-0.066068425774574,-0.014341569505632,-0.000663875252940,0.008070462383330,0.064937569200993,0.095466263592243,-0.063610307872295,0.036930348724127,0.048868417739868,-0.000066187523771,0.041961893439293,-0.034204803407192,-0.083637043833733,0.009931274689734,0.056631237268448));
res += mul(Get(s3,0,dy), float4x4(0.072146646678448,-0.011968275532126,0.002138556446880,0.002677255775779,-0.077982045710087,0.009139270521700,0.065000362694263,0.045671723783016,-0.014571934938431,0.058051932603121,0.036278437823057,0.067242994904518,-0.046188909560442,-0.001779976417311,0.081189796328545,0.058415591716766));
res += mul(Get(s3,dx,-dy), float4x4(-0.054950863122940,0.032918661832809,-0.010121950879693,-0.007377543020993,0.046437580138445,-0.010654754005373,-0.006967503577471,-0.071725897490978,-0.057396505028009,0.041208777576685,0.034911643713713,-0.005908347666264,-0.031099122017622,-0.062504693865776,-0.053125832229853,0.014584952034056));
res += mul(Get(s3,dx,0), float4x4(-0.034209731966257,-0.033542413264513,-0.018101198598742,-0.039977066218853,0.025959080085158,0.055591728538275,0.001968163996935,-0.025771336629987,-0.105361118912697,-0.036217510700226,-0.037768397480249,0.093239523470402,-0.031124066561460,-0.013383827172220,0.071671567857265,0.075018994510174));
res += mul(Get(s3,dx,dy), float4x4(0.040867950767279,-0.065876334905624,-0.036146752536297,-0.020244296640158,-0.066885881125927,0.048223666846752,0.094121024012566,0.052698846906424,-0.013182290829718,0.082649841904640,-0.011590983718634,0.111668817698956,-0.063193507492542,0.006259213201702,0.087459675967693,0.045530747622252));
res = max(float4(0,0,0,0), res);
return res;
}
