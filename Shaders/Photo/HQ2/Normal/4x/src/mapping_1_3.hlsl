sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.162725180387497,0.049862351268530,0.133954063057899,0.035854727029800,-0.052337624132633,-0.005654951557517,0.124206244945526,0.025581099092960,-0.023914739489555,-0.015376039780676,-0.032767884433270,0.001536553027108,-0.003558196593076,-0.000205803196877,0.004209573846310,0.023771729320288));
res += mul(Get(s0,-dx,0), float4x4(-0.169201478362083,0.044291213154793,-0.000094640556199,-0.279081344604492,-0.034493260085583,-0.013567772693932,0.042863409966230,-0.006135710980743,-0.005348078906536,-0.014646511524916,-0.016773473471403,0.051056012511253,0.010294216684997,-0.008158367127180,-0.019260764122009,0.046155977994204));
res += mul(Get(s0,-dx,dy), float4x4(-0.131084695458412,-0.028591766953468,-0.084521837532520,0.018766412511468,-0.050498597323895,-0.010850543156266,-0.176237985491753,0.036784980446100,-0.053339712321758,-0.019652310758829,-0.088478684425354,0.047708891332150,0.016290936619043,0.003886241000146,-0.016598958522081,0.032719757407904));
res += mul(Get(s0,0,-dy), float4x4(-0.037657696753740,-0.008121616207063,0.223368972539902,-0.037439651787281,-0.010695021599531,-0.019637597724795,0.180717393755913,0.069598138332367,0.067467018961906,-0.020078623667359,-0.002739293966442,0.039031174033880,0.012945975176990,-0.013035377487540,0.039622776210308,-0.013590297661722));
res += mul(Get(s0,0,0), float4x4(0.005152087658644,-0.026039984077215,-0.129328459501266,0.149820268154144,0.075650922954082,-0.018066613003612,0.094579219818115,-0.030895113945007,0.033112265169621,-0.014990516006947,0.058876305818558,-0.079138860106468,0.042133029550314,-0.001629687147215,-0.003527335124090,-0.017081482335925));
res += mul(Get(s0,0,dy), float4x4(-0.030057286843657,-0.036331240087748,-0.090170510113239,0.007473824545741,0.043663132935762,0.004757634364069,-0.146908402442932,0.116967663168907,-0.007741515524685,-0.019510315731168,-0.053842160850763,-0.031217241659760,0.012623696587980,0.003421676112339,-0.024362655356526,0.021259577944875));
res += mul(Get(s0,dx,-dy), float4x4(0.190006777644157,-0.024096259847283,0.105973646044731,0.024988161399961,0.002829285105690,-0.011920290067792,0.132501989603043,0.034917201846838,0.082250967621803,-0.010824713855982,0.043258376419544,-0.048599135130644,-0.008836024440825,-0.000854159065057,0.033620703965425,-0.029142931103706));
res += mul(Get(s0,dx,0), float4x4(0.248484522104263,-0.040066629648209,-0.161002293229103,0.106247618794441,0.072428807616234,-0.015717126429081,0.084495864808559,-0.145754486322403,0.048757698386908,-0.016416285187006,0.054001215845346,-0.054493743926287,0.015912933275104,0.000502218434121,0.021084710955620,-0.015363262966275));
res += mul(Get(s0,dx,dy), float4x4(0.120168700814247,-0.032300222665071,-0.108148574829102,0.033823560923338,0.095276340842247,-0.012936282902956,-0.121461287140846,-0.005580617580563,0.014909958466887,0.004972093738616,-0.017860868945718,-0.040697894990444,0.010920027270913,0.005525464657694,0.019295800477266,-0.032801207154989));
res += mul(Get(s1,-dx,-dy), float4x4(-0.001377930282615,0.000241011890466,-0.014559182338417,0.005122424568981,-0.050518106669188,-0.002855256665498,0.045790735632181,0.091451212763786,0.009148292243481,0.003427081275731,-0.011832240037620,-0.000010255466805,0.005170857533813,-0.006702054291964,0.005586997605860,0.001592835295014));
res += mul(Get(s1,-dx,0), float4x4(0.003807676024735,0.006241717375815,0.002186721190810,-0.002418933669105,-0.088079318404198,0.033063050359488,-0.068698801100254,-0.019088111817837,0.002482850570232,0.002085237996653,-0.008628279902041,-0.008209326304495,-0.000650592264719,0.009442399255931,-0.019830571487546,0.003550379537046));
res += mul(Get(s1,-dx,dy), float4x4(0.000781798211392,0.000214253755985,0.002749853767455,0.009993970394135,-0.065164744853973,-0.009061181917787,-0.033710867166519,-0.077529847621918,0.005333219654858,-0.010152188129723,0.003740787506104,-0.001816176227294,0.002414003713056,-0.001169664436020,0.004951894748956,-0.003993901424110));
res += mul(Get(s1,0,-dy), float4x4(-0.006731931120157,-0.008270902559161,0.005188169423491,0.011723416857421,0.038590285927057,0.007030697539449,0.140985056757927,-0.057630367577076,0.003971823491156,0.000922157021705,0.005164046771824,0.007622528821230,0.018939293920994,-0.004779579117894,0.003254099981859,-0.000900677579921));
res += mul(Get(s1,0,0), float4x4(0.000781952228863,-0.006546576973051,-0.002839942928404,-0.002855140250176,0.017687669023871,-0.005997329484671,-0.074697315692902,0.119975611567497,0.006238267291337,-0.007070371881127,-0.008069382049143,-0.021599372848868,0.007480161264539,-0.003084518248215,-0.002721900586039,0.014084802940488));
res += mul(Get(s1,0,dy), float4x4(0.008882189169526,-0.015415090136230,0.007398103363812,-0.000967105093878,-0.025884410366416,-0.033881742507219,-0.067702077329159,0.053819373250008,-0.012049778364599,-0.002958252560347,0.005005901213735,0.005561881233007,-0.006891787517816,-0.013860685750842,0.000380791112548,-0.010941823013127));
res += mul(Get(s1,dx,-dy), float4x4(-0.019093742594123,-0.010785397142172,0.006688312627375,0.011318111792207,0.123691417276859,-0.011953149922192,0.081572569906712,-0.063783891499043,0.007439232897013,-0.007036141585559,-0.007131980732083,0.004723883699626,-0.016197450459003,-0.006289429031312,0.007595576345921,-0.002647349843755));
res += mul(Get(s1,dx,0), float4x4(-0.009125940501690,-0.002841097768396,-0.019987730309367,0.000905077380594,0.129141420125961,-0.043229065835476,-0.074538402259350,0.070266686379910,0.002690760418773,0.005031552165747,-0.007284683175385,0.009118020534515,0.003294907277450,0.011958259157836,0.014412942342460,-0.002027688082308));
res += mul(Get(s1,dx,dy), float4x4(0.000730638101231,-0.007960777729750,-0.008247938007116,0.004296523053199,0.038587011396885,-0.030442530289292,-0.077999174594879,0.050236783921719,-0.014007197692990,-0.002736967289820,-0.009323259815574,0.000713026267476,-0.003906387370080,-0.003987121395767,-0.011643838137388,-0.008305661380291));
res += mul(Get(s2,-dx,-dy), float4x4(0.012812701053917,-0.016017323359847,0.000400369754061,-0.003763057990000,0.009285875596106,-0.007939280942082,0.017634298652411,0.041996296495199,-0.091575384140015,0.041775390505791,0.063534408807755,0.108898065984249,-0.004230438731611,0.013531743548810,-0.007199777290225,-0.005168673582375));
res += mul(Get(s2,-dx,0), float4x4(-0.006567802280188,0.006090158596635,-0.012913751415908,0.009625320322812,0.012656127102673,-0.006792144849896,-0.000069339861511,0.019805844873190,-0.048038285225630,0.023928809911013,0.021212136372924,0.086079940199852,-0.005015901755542,0.001363208750263,-0.015576588921249,0.010145019739866));
res += mul(Get(s2,-dx,dy), float4x4(0.003038797061890,0.002809235360473,-0.001150535535999,-0.003145211376250,-0.009607165120542,-0.003309850115329,0.005158595275134,0.013807436451316,-0.024743810296059,-0.004037478938699,-0.044671073555946,0.187620118260384,0.002263188362122,0.002033704891801,-0.001914822612889,-0.016101954504848));
res += mul(Get(s2,0,-dy), float4x4(0.012660361826420,0.003553409595042,0.005002088844776,-0.003707855241373,0.037562116980553,0.007685919292271,0.021435488015413,0.006234021857381,-0.024263542145491,0.038738079369068,0.073631860315800,-0.094756409525871,-0.003653434338048,-0.008420410566032,-0.000490696518682,0.007045112550259));
res += mul(Get(s2,0,0), float4x4(-0.001372755621560,-0.000875117839314,-0.002915337681770,0.001833490328863,0.003964550327510,-0.012385273352265,-0.008676281198859,0.009894180111587,-0.018370563164353,0.025196304544806,-0.021030673757195,-0.186179041862488,0.000557746388949,0.004364242311567,-0.010350394994020,-0.010637895204127));
res += mul(Get(s2,0,dy), float4x4(0.010367703624070,-0.014750562608242,-0.001622604322620,-0.000056384324125,-0.000005483998393,0.007990051992238,0.005597359500825,-0.005234417971224,0.027573473751545,0.003931886516511,-0.033880610018969,-0.111624248325825,-0.008631591685116,-0.000107231157017,0.010847283527255,0.002414340153337));
res += mul(Get(s2,dx,-dy), float4x4(-0.013231771066785,0.004609676543623,0.000496566295624,0.000424905767431,0.006421102210879,0.004607148002833,0.018346458673477,-0.012523742392659,0.027282875031233,-0.008289870806038,0.026281571015716,0.034478135406971,0.002545187948272,0.011189103126526,-0.008090954273939,-0.012097043916583));
res += mul(Get(s2,dx,0), float4x4(0.004677270073444,-0.005674012005329,-0.006091309245676,0.004918445833027,0.014154754579067,0.000542966066860,0.007737187203020,-0.008508203551173,0.034844867885113,-0.005517696961761,-0.071553647518158,0.091569408774376,0.000419127434725,-0.004902684595436,0.003917693160474,0.008116170763969));
res += mul(Get(s2,dx,dy), float4x4(0.002882849657908,-0.009252855554223,0.002355917589739,0.018148420378566,-0.012972356751561,-0.009057371877134,0.001896703266539,0.003057720605284,0.034036707133055,-0.018450964242220,-0.059000346809626,-0.000604289234616,-0.001548993750475,-0.005860255565494,-0.007462881039828,0.002755380701274));
res += mul(Get(s3,-dx,-dy), float4x4(-0.075947448611259,0.029712853953242,-0.017009036615491,-0.007191442884505,0.000295048230328,0.020523969084024,0.012653867714107,0.006874301936477,-0.016776286065578,0.018307918682694,0.007722899783403,0.020442424342036,-0.103091798722744,-0.012222069315612,0.120294108986855,-0.017437847331166));
res += mul(Get(s3,-dx,0), float4x4(-0.021755332127213,-0.004937079735100,-0.022787790745497,-0.057084914296865,0.013855435885489,0.002097969176248,-0.017650458961725,0.001441562431864,-0.010241407901049,0.013639735989273,0.011280890554190,0.017644442617893,-0.136030554771423,0.051413167268038,0.024141008034348,-0.119148306548595));
res += mul(Get(s3,-dx,dy), float4x4(-0.094663932919502,-0.001983620459214,-0.039654206484556,-0.057812806218863,-0.010191094130278,0.003325551981106,-0.005682743154466,0.011633268557489,-0.003458532039076,0.002853435231373,0.032450765371323,0.050724267959595,-0.087013758718967,0.005745007190853,-0.070143543183804,-0.029250495135784));
res += mul(Get(s3,0,-dy), float4x4(-0.020916018635035,0.007779833860695,-0.003863281337544,-0.026411259546876,0.003550930414349,0.000787763332482,0.020870268344879,0.020480245351791,-0.004108014516532,0.039219357073307,0.025737559422851,-0.056559186428785,-0.034800544381142,-0.015057923272252,0.180081143975258,-0.005870837252587));
res += mul(Get(s3,0,0), float4x4(-0.008819558657706,-0.010445008985698,-0.059023100882769,-0.018381673842669,0.007339696399868,-0.010515599511564,-0.003790440503508,-0.005478164181113,-0.005357736721635,0.019814055413008,0.011845873668790,-0.061651378870010,-0.044974893331528,0.005532557144761,0.012402581050992,0.060417838394642));
res += mul(Get(s3,0,dy), float4x4(-0.052508365362883,-0.021324969828129,-0.062391135841608,0.010131664574146,0.009394324384630,0.011665361002088,-0.007762435823679,-0.004619549028575,-0.004164397250861,0.019324515014887,0.020411582663655,-0.039756566286087,-0.006851231679320,-0.036573585122824,-0.104805573821068,0.028983153402805));
res += mul(Get(s3,dx,-dy), float4x4(0.092578887939453,-0.003870669752359,-0.000526443182025,0.002228256082162,0.027497878298163,0.005428185686469,0.021348698064685,0.043410483747721,-0.011523639783263,0.019647601991892,0.032743901014328,-0.047108158469200,0.082277290523052,-0.007657976821065,0.132267326116562,0.003431044984609));
res += mul(Get(s3,dx,0), float4x4(0.070668071508408,-0.015472195111215,-0.044686753302813,0.004962052218616,0.002533915219828,0.009264907799661,-0.022930858656764,-0.001265896018595,-0.013338578864932,-0.006693725939840,0.012650022283196,-0.077703766524792,0.140852779150009,-0.019459629431367,-0.031802896410227,0.051889974623919));
res += mul(Get(s3,dx,dy), float4x4(0.010211776942015,-0.011850882321596,-0.052866157144308,0.022993102669716,0.002106035593897,0.001418488216586,0.003160479944199,0.006204506382346,-0.002076485659927,-0.006481204181910,0.002152431756258,-0.048380367457867,0.112495250999928,-0.025272067636251,-0.134143263101578,0.097593896090984));
res = max(float4(0,0,0,0), res);
return res;
}
