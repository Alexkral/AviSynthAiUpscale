sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.006860338151455,-0.054895337671041,0.036641046404839,0.004873668774962) * Get(-dx,-dy);
res += float4(-0.008829916827381,-0.028002295643091,0.660712778568268,-0.004900028463453) * Get(-dx,0);
res += float4(-0.006156152114272,-0.063466340303421,0.148048087954521,0.001169252442196) * Get(-dx,dy);
res += float4(-0.002021748339757,-0.001507296576165,-0.299701452255249,-0.001376316417009) * Get(0,-dy);
res += float4(-0.003301322925836,0.068457342684269,-0.268969118595123,-0.006633887067437) * Get(0,0);
res += float4(-0.003302428638563,0.013828908093274,-0.180298581719398,0.000616078148596) * Get(0,dy);
res += float4(0.003870330983773,-0.012735715135932,0.195959851145744,0.001171673531644) * Get(dx,-dy);
res += float4(-0.001318071736023,0.095933325588703,-0.084312476217747,-0.008650714531541) * Get(dx,0);
res += float4(-0.001061911461875,0.032054342329502,0.017535574734211,-0.010331721045077) * Get(dx,dy);
res = max(float4(0,0,0,0), res);
return res;
}
