sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.037714511156082,0.106008455157280,-0.055624023079872,-0.049373790621758,-0.034746043384075,-0.008160766214132,0.021547822281718,-0.005419482942671,-0.027285968884826,0.044655878096819,-0.018683314323425,0.005956245120615,0.018141865730286,0.024276604875922,0.084313973784447,-0.085950046777725));
res += mul(Get(s0,-dx,0), float4x4(0.003382432041690,0.083581656217575,0.017585929483175,-0.157084181904793,-0.010861591435969,0.029586957767606,0.022536670789123,-0.006996970623732,0.011214724741876,0.012221258133650,0.042821317911148,-0.021312011405826,-0.009876586496830,0.096058763563633,0.003971143625677,0.092489041388035));
res += mul(Get(s0,-dx,dy), float4x4(0.057290077209473,0.101493887603283,0.039716824889183,-0.034534722566605,-0.017299091443419,0.024881623685360,0.050727900117636,-0.055018860846758,0.003727469826117,0.048039101064205,0.012089993804693,0.022186202928424,-0.029460666701198,0.041302252560854,0.008549434132874,0.017714835703373));
res += mul(Get(s0,0,-dy), float4x4(-0.007104986347258,0.028329379856586,-0.060898814350367,0.072388716042042,-0.007459632586688,-0.048264183104038,-0.000285693327896,0.007197579834610,-0.011476648971438,0.044711828231812,-0.024660669267178,0.081692375242710,-0.011028186418116,0.024144588038325,0.074988663196564,-0.179119244217873));
res += mul(Get(s0,0,0), float4x4(0.072081625461578,0.011141475290060,0.042045999318361,-0.007845911197364,0.001878514885902,-0.033449642360210,-0.038161247968674,0.004414013121277,0.046352934092283,0.116615921258926,0.068229705095291,-0.055116333067417,0.000841302622575,-0.016386210918427,0.014815595932305,0.043991260230541));
res += mul(Get(s0,0,dy), float4x4(0.110911153256893,0.068081013858318,0.138664364814758,0.026802454143763,-0.011153660714626,0.008336800150573,-0.047884989529848,-0.019738892093301,-0.032505784183741,0.121862933039665,0.081074237823486,-0.023798622190952,0.015777705237269,0.027321087196469,-0.001156297512352,0.052620459347963));
res += mul(Get(s0,dx,-dy), float4x4(-0.050859905779362,-0.044467445462942,-0.084673963487148,0.073055565357208,0.025248682126403,-0.018855739384890,0.009202443994582,0.001273547764868,0.012539695017040,0.098350517451763,0.063435390591621,0.067323304712772,0.005284010898322,0.080114468932152,-0.030104238539934,-0.077144548296928));
res += mul(Get(s0,dx,0), float4x4(0.032615482807159,-0.065865218639374,-0.050780288875103,-0.007207551039755,0.009841682389379,-0.057718612253666,0.012641930021346,0.004971579648554,0.021284002810717,0.098158471286297,0.101968221366405,-0.097884513437748,0.072105087339878,0.032204192131758,-0.038253691047430,0.047359574586153));
res += mul(Get(s0,dx,dy), float4x4(0.113858416676521,-0.027983972802758,-0.088128253817558,0.004209132865071,0.001682623522356,-0.001069528516382,-0.009510352276266,0.033212512731552,-0.030957518145442,0.049590487033129,0.085579760372639,-0.065235227346420,0.018272783607244,0.017724243924022,0.016270916908979,-0.025872029364109));
res += mul(Get(s1,-dx,-dy), float4x4(-0.031130423769355,-0.139781564474106,-0.066556841135025,0.060738727450371,-0.005390869453549,-0.085085563361645,-0.037268564105034,-0.059013772755861,-0.031957481056452,-0.004290885757655,0.004000411834568,-0.057967975735664,0.087528236210346,0.031348541378975,-0.035859640687704,0.022927677258849));
res += mul(Get(s1,-dx,0), float4x4(0.009366621263325,0.003826005849987,-0.101166032254696,0.062626220285892,0.057591494172812,-0.072567485272884,0.024276092648506,0.006901176180691,-0.024664595723152,0.005223996937275,0.017596311867237,-0.000752526160795,-0.281405240297318,0.242519453167915,0.147506728768349,-0.025845613330603));
res += mul(Get(s1,-dx,dy), float4x4(0.024114595726132,0.109484910964966,-0.046930592507124,-0.039102025330067,-0.043493583798409,-0.014791175723076,-0.042908702045679,-0.011794304475188,0.015306171961129,-0.015014150179923,0.050133325159550,-0.008458858355880,-0.004772473126650,-0.172238603234291,-0.122086234390736,0.030742116272449));
res += mul(Get(s1,0,-dy), float4x4(-0.016134748235345,-0.034589137881994,0.070731014013290,-0.047783337533474,-0.060941912233829,0.015406768769026,0.000355451047653,-0.031341541558504,0.010118327103555,-0.093861684203148,-0.044363658875227,0.009743862785399,0.031787667423487,-0.053847339004278,-0.038497537374496,-0.251313656568527));
res += mul(Get(s1,0,0), float4x4(-0.062173575162888,-0.064940944314003,0.081170529127121,-0.011749558150768,-0.018549023196101,0.082193896174431,0.067984923720360,-0.044440153986216,0.022455429658294,-0.096427679061890,-0.113067097961903,0.088838659226894,0.027170073240995,-0.317656546831131,0.002119538374245,0.415169209241867));
res += mul(Get(s1,0,dy), float4x4(-0.050801061093807,0.045428749173880,0.051778893917799,0.040681716054678,-0.053629077970982,-0.020009636878967,-0.012185773812234,-0.006338252220303,0.006228458136320,0.004476029891521,-0.080568924546242,0.049987744539976,0.229761838912964,0.411076962947845,0.037141986191273,0.177644848823547));
res += mul(Get(s1,dx,-dy), float4x4(-0.016231916844845,-0.119942240417004,-0.026100939139724,-0.072620190680027,-0.077593587338924,-0.014982314780354,-0.114594429731369,0.039697449654341,0.036938671022654,-0.012830401770771,0.017358874902129,-0.025472370907664,-0.082473896443844,0.004173446912318,-0.028897304087877,-0.083115570247173));
res += mul(Get(s1,dx,0), float4x4(-0.026736902073026,-0.065521344542503,0.135505005717278,-0.007508350536227,-0.080810599029064,0.059166751801968,-0.095413111150265,-0.004686978179961,-0.008451503701508,-0.068539485335350,0.003239432116970,0.018860427662730,0.103241756558418,-0.072209574282169,0.030318284407258,0.050164133310318));
res += mul(Get(s1,dx,dy), float4x4(-0.021344980224967,0.004088412970304,0.117795005440712,0.095201753079891,-0.060489855706692,-0.065384551882744,-0.143889114260674,-0.055915724486113,0.010701461695135,-0.011961008422077,-0.023997142910957,0.038829196244478,0.034739263355732,0.064238779246807,0.011365423910320,0.121309645473957));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029028508812189,0.027122702449560,-0.059093661606312,0.026247810572386,-0.075585402548313,0.017095690593123,-0.082012094557285,0.033756170421839,0.018007451668382,0.004255556035787,0.011154470965266,0.068217612802982,0.003211621660739,-0.002907535759732,0.001349380821921,0.004085024353117));
res += mul(Get(s2,-dx,0), float4x4(-0.030485024675727,0.061578985303640,-0.010671365074813,-0.053858488798141,0.014350841753185,0.071727409958839,-0.039062995463610,0.051443953067064,0.029820088297129,-0.027939159423113,-0.016163745895028,0.037997219711542,-0.016084117814898,-0.005549809895456,-0.005345589946955,0.005449518561363));
res += mul(Get(s2,-dx,dy), float4x4(-0.021682199090719,-0.079935513436794,-0.059380166232586,0.046257730573416,0.062158733606339,0.086905293166637,-0.044934213161469,-0.056344348937273,0.050192397087812,0.057702306658030,-0.000725570193026,0.036655642092228,0.005359138827771,0.003918084315956,0.004714894574136,-0.005443846341223));
res += mul(Get(s2,0,-dy), float4x4(-0.071721650660038,0.123915396630764,0.051802560687065,-0.014572618529201,-0.056788180023432,0.069826304912567,-0.032062802463770,0.067337892949581,0.003114069812000,-0.052004311233759,0.024164274334908,0.133556351065636,0.014660991728306,0.007723587565124,-0.000886158726644,-0.007011096458882));
res += mul(Get(s2,0,0), float4x4(-0.080148696899414,0.202469691634178,0.100065842270851,-0.118957951664925,-0.078252501785755,-0.130536735057831,-0.074646875262260,0.102262154221535,-0.011887563392520,0.025163758546114,0.016821067780256,0.079776071012020,-0.005468964111060,-0.012231882661581,0.003376431996003,-0.011655747890472));
res += mul(Get(s2,0,dy), float4x4(-0.028111882507801,0.003135330742225,0.018295504152775,-0.026968387886882,-0.042419441044331,0.054114442318678,-0.138514086604118,-0.004599793814123,0.026586223393679,-0.023619649931788,0.006585024762899,-0.008381777442992,-0.001516484655440,0.001634126412682,-0.006031763274223,0.003586782608181));
res += mul(Get(s2,dx,-dy), float4x4(-0.085223294794559,0.044533874839544,-0.012942708097398,-0.064665064215660,-0.036421392112970,0.015803147107363,0.104881860315800,-0.034356471151114,-0.011709369719028,-0.040075331926346,0.060104928910732,0.047848355025053,0.000015086878193,0.001709429896437,0.001832580775954,-0.008703117258847));
res += mul(Get(s2,dx,0), float4x4(-0.108057320117950,0.110455155372620,-0.045006588101387,0.068357445299625,-0.033317640423775,-0.004397916141897,0.132744982838631,-0.036476060748100,-0.058888345956802,0.018539227545261,0.015908775851130,-0.008541638031602,-0.008310398086905,-0.001945230294950,-0.002775420434773,0.000784412957728));
res += mul(Get(s2,dx,dy), float4x4(0.019965326413512,-0.027785489335656,-0.048104252666235,0.079255752265453,-0.072798654437065,0.077864922583103,0.010505670681596,0.030666567385197,-0.011989839375019,-0.014173901639879,-0.004641203675419,-0.029212838038802,-0.008065834641457,-0.000916466815397,0.006940108723938,-0.003357797395438));
res += mul(Get(s3,-dx,-dy), float4x4(0.000902977713849,-0.069019801914692,0.039809279143810,-0.007392855826765,0.029051123186946,0.022913126274943,0.000149092811625,0.038696076720953,-0.037929780781269,-0.013823415152729,0.036997992545366,-0.030205439776182,-0.092242255806923,0.028960969299078,0.071523420512676,-0.118115901947021));
res += mul(Get(s3,-dx,0), float4x4(0.019034115597606,-0.061420705169439,-0.064904227852821,0.088998310267925,0.003145593451336,0.007608883082867,0.035070825368166,-0.026236880570650,-0.068603992462158,0.057674560695887,0.033846970647573,0.057986307889223,-0.054539576172829,0.074738770723343,0.214925095438957,-0.043659914284945));
res += mul(Get(s3,-dx,dy), float4x4(0.045218925923109,-0.009650218300521,-0.073132693767548,-0.027765765786171,-0.009173315018415,-0.002463939832523,0.020109698176384,0.060009900480509,-0.068424366414547,0.048312764614820,-0.043178096413612,-0.034195072948933,-0.036996424198151,0.012878619134426,0.080294862389565,-0.046087525784969));
res += mul(Get(s3,0,-dy), float4x4(-0.023078579455614,0.019109204411507,0.045873366296291,-0.059173844754696,-0.015484008006752,0.044796928763390,0.013735022395849,-0.000243797388976,-0.022593699395657,0.036318026483059,0.015968129038811,-0.216291531920433,-0.060279119759798,0.079758398234844,0.048656947910786,-0.223804846405983));
res += mul(Get(s3,0,0), float4x4(0.001789676607586,-0.121107548475266,0.073974020779133,0.053013179451227,-0.043251864612103,0.053536299616098,0.042651861906052,-0.029900547116995,-0.003463421715423,-0.060996007174253,0.097582355141640,-0.083173111081123,-0.032136209309101,0.001796020660549,0.009753299877048,0.007375926710665));
res += mul(Get(s3,0,dy), float4x4(0.015568322502077,0.048099897801876,-0.013552992604673,0.045516677200794,-0.046918343752623,-0.079619891941547,0.070477865636349,0.015308506786823,-0.010580015368760,-0.197538942098618,-0.046379040926695,0.047644816339016,-0.029118822887540,-0.020655067637563,-0.095088019967079,0.079221598803997));
res += mul(Get(s3,dx,-dy), float4x4(-0.072260573506355,0.063027560710907,-0.021745359525084,-0.095877490937710,-0.034272428601980,-0.072853520512581,0.026029506698251,-0.022304294630885,0.083138108253479,0.005092102102935,-0.166711315512657,-0.023494981229305,-0.028948348015547,0.045540887862444,-0.016651222482324,-0.046307731419802));
res += mul(Get(s3,dx,0), float4x4(-0.004859616979957,0.002643995219842,0.102123104035854,-0.072594270110130,-0.059004239737988,-0.009354089386761,0.008290231227875,-0.042991582304239,0.151446908712387,0.070277534425259,-0.101103007793427,0.025667902082205,-0.048290811479092,0.003148573683575,0.000954010873102,0.064398199319839));
res += mul(Get(s3,dx,dy), float4x4(-0.007511080242693,0.008695914410055,0.067180447280407,-0.041318714618683,-0.036784391850233,-0.054724916815758,0.026454338803887,-0.029007729142904,0.031716331839561,-0.059868760406971,-0.036510929465294,0.027956187725067,-0.060190763324499,-0.040717419236898,-0.011381286196411,0.005789045244455));
res = max(float4(0,0,0,0), res);
return res;
}
