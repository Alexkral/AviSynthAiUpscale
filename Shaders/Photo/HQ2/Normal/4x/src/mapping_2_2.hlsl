sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006475330796093,0.006742682773620,0.007861599326134,-0.008123401552439,0.002532026497647,-0.060267999768257,0.001846343162470,0.025384224951267,-0.089037850499153,-0.035079576075077,-0.012227406725287,0.029934234917164,-0.006842683069408,0.005291650071740,0.002328666159883,-0.001586314640008));
res += mul(Get(s0,-dx,0), float4x4(-0.001200688071549,0.013009252958000,0.008049239404500,-0.003151536220685,0.046950638294220,-0.036404356360435,-0.017419192939997,-0.012735930271447,-0.184916019439697,-0.080092675983906,-0.009278562851250,-0.037155743688345,-0.021359117701650,0.006456794217229,0.000451108993730,0.035766337066889));
res += mul(Get(s0,-dx,dy), float4x4(-0.005332668311894,0.003642077324912,-0.011244754306972,0.007761873770505,-0.018203251063824,-0.027214614674449,-0.001237854710780,0.112920224666595,-0.102456234395504,-0.160199940204620,-0.013122588396072,-0.043930880725384,-0.001371035701595,0.002590087940916,-0.015410284511745,0.080833964049816));
res += mul(Get(s0,0,-dy), float4x4(-0.004945372231305,0.000483780080685,0.008702996186912,-0.017511496320367,-0.010454445146024,-0.006862181238830,-0.014628895558417,0.022517129778862,-0.040630295872688,0.047935362905264,0.014354820363224,0.086264602839947,-0.008083648048341,-0.005311994347721,-0.012913581915200,-0.016626011580229));
res += mul(Get(s0,0,0), float4x4(-0.003463259199634,-0.017932876944542,0.010085928253829,-0.005684342700988,0.000325378496200,-0.043867282569408,-0.016596319153905,-0.031873464584351,-0.017729626968503,0.155261039733887,0.005821015685797,0.452679693698883,-0.034490600228310,-0.015232284553349,0.000151230677147,-0.018585223704576));
res += mul(Get(s0,0,dy), float4x4(-0.010876675136387,0.001365057891235,-0.010703273117542,-0.023010633885860,-0.010699697770178,-0.041033219546080,0.001985329668969,0.114546522498131,-0.076300986111164,0.107745856046677,-0.013468910939991,-0.326306760311127,0.003236082149670,0.007837517186999,0.027868840843439,-0.050075821578503));
res += mul(Get(s0,dx,-dy), float4x4(-0.027761714532971,-0.007215013727546,0.001690550358035,0.028356736525893,0.009803858585656,0.046892896294594,0.009423182345927,0.066504269838333,0.100404232740402,-0.071218542754650,-0.006283998023719,-0.074810229241848,-0.041700448840857,-0.007757144980133,-0.002539966953918,-0.032274350523949));
res += mul(Get(s0,dx,0), float4x4(-0.005951842293143,-0.009329630993307,-0.007631818298250,-0.018339127302170,-0.025799114257097,-0.015506672672927,-0.004746542777866,-0.039660360664129,0.288548797369003,-0.032057717442513,-0.012395963072777,0.056570600718260,-0.065209120512009,-0.004064545966685,0.005904190707952,-0.002682166639715));
res += mul(Get(s0,dx,dy), float4x4(-0.017994893714786,0.006634172052145,0.006771776825190,0.013430173508823,-0.018542904406786,-0.051992926746607,0.002425209153444,0.065352611243725,0.080380246043205,-0.001273872563615,0.021312709897757,-0.069285303354263,-0.035295832902193,-0.007069366052747,-0.011088784784079,0.009178355336189));
res += mul(Get(s1,-dx,-dy), float4x4(-0.007263462059200,0.006919646635652,0.000083760525740,0.004856406245381,-0.096514999866486,-0.035315409302711,0.014565450139344,0.031942058354616,-0.167814552783966,-0.059127923101187,0.013549978844821,0.075814135372639,0.007654536515474,-0.005314196925610,-0.000788546749391,0.020232841372490));
res += mul(Get(s1,-dx,0), float4x4(0.008398722857237,-0.013523226603866,0.007998543791473,0.001284321187995,-0.109819166362286,-0.121600754559040,-0.008291838690639,0.064414165914059,-0.159360185265541,-0.077764064073563,0.002501329639927,-0.012735704891384,0.006811534054577,-0.007691375445575,0.005141624249518,0.011910260654986));
res += mul(Get(s1,-dx,dy), float4x4(0.009879113174975,0.007606834638864,0.014550615102053,-0.001805032952689,-0.052189853042364,-0.144736945629120,-0.000740002433304,0.009481240063906,-0.158282935619354,-0.078651063144207,-0.010368854738772,0.022736147046089,-0.016166755929589,0.026111705228686,0.024728026241064,0.005559068173170));
res += mul(Get(s1,0,-dy), float4x4(0.001479404978454,-0.001802560407668,-0.008367084898055,-0.001355786109343,-0.035743400454521,0.028143949806690,-0.014640859328210,0.005569817032665,-0.096324712038040,-0.065626889467239,-0.018191289156675,0.072064802050591,-0.004457748029381,0.014649603515863,-0.008721305988729,-0.046414643526077));
res += mul(Get(s1,0,0), float4x4(-0.002633252413943,0.013684849254787,0.004135198891163,-0.007353686261922,0.007177740801126,0.044693067669868,-0.003876351052895,0.194560527801514,-0.142437994480133,-0.094991527497768,0.001616298104636,-0.061403065919876,-0.011963997036219,-0.020112967118621,-0.023451957851648,0.002498556161299));
res += mul(Get(s1,0,dy), float4x4(-0.007167242933065,0.003847498446703,-0.006399323232472,-0.004211077466607,-0.016866099089384,-0.006498933304101,-0.005012758076191,-0.208477288484573,-0.074395462870598,-0.094547271728516,-0.002606210764498,-0.085286341607571,-0.001428348827176,0.004850766155869,-0.000186699282494,-0.012705960310996));
res += mul(Get(s1,dx,-dy), float4x4(0.022687995806336,-0.021005634218454,0.019352296367288,0.000668334716465,0.059995662420988,0.041623525321484,-0.019336933270097,0.020408624783158,-0.067359603941441,0.078758679330349,-0.020437248051167,0.020162502303720,-0.004827259108424,-0.006736277602613,-0.008938864804804,0.006569568999112));
res += mul(Get(s1,dx,0), float4x4(0.010238910093904,-0.012963388115168,-0.011885038577020,-0.023405566811562,0.208526417613029,0.068186677992344,-0.010722788982093,0.083953052759171,-0.149041071534157,0.066462576389313,-0.015027297660708,0.032319199293852,-0.013604730367661,0.019179340451956,-0.005624013952911,-0.032578144222498));
res += mul(Get(s1,dx,dy), float4x4(-0.006461387034506,0.000620596809313,-0.000734032131732,-0.007005876395851,0.076849170029163,0.045725647360086,-0.021292043849826,-0.022718172520399,-0.052137546241283,0.035104464739561,-0.010812451131642,0.016849236562848,0.012037223204970,0.024988016113639,-0.008963339030743,-0.007139163557440));
res += mul(Get(s2,-dx,-dy), float4x4(0.058850608766079,0.033031832426786,-0.018212199211121,0.039463810622692,0.000160699346452,0.001996846869588,0.008749687112868,-0.018419835716486,-0.059494860470295,-0.033363819122314,-0.003730023745447,-0.018595766276121,-0.017787171527743,-0.024890353903174,0.004946896340698,0.043001506477594));
res += mul(Get(s2,-dx,0), float4x4(0.086501099169254,0.099865198135376,-0.009335100650787,0.060543470084667,-0.001081908587366,-0.015376670286059,0.000636074459180,0.002201229566708,0.012403024360538,-0.038496337831020,0.018392300233245,0.017242208123207,-0.021325912326574,0.003185227513313,-0.004659701604396,0.000997524242848));
res += mul(Get(s2,-dx,dy), float4x4(0.046486750245094,0.136733472347260,-0.023421954363585,-0.017882946878672,0.004777835216373,-0.002452813787386,0.004778387024999,0.021257923915982,-0.010448774322867,0.038917496800423,0.007590386085212,-0.096433535218239,-0.033328898251057,-0.016286347061396,0.000160859475727,-0.105984330177307));
res += mul(Get(s2,0,-dy), float4x4(0.000408564577810,-0.007535896264017,0.002928972244263,0.046938158571720,-0.003076488617808,-0.004403566010296,-0.013115951791406,-0.017356527969241,-0.047100603580475,-0.002618118654937,0.003102520713583,-0.008386620320380,-0.037004448473454,-0.011983339674771,-0.013683255761862,0.075501725077629));
res += mul(Get(s2,0,0), float4x4(0.065348669886589,0.039382010698318,-0.001452500582673,-0.004708032123744,-0.021976867690682,-0.007719627115875,0.003227687673643,-0.031220044940710,-0.017888406291604,-0.034556765109301,-0.018297990784049,-0.003563166363165,0.005618067458272,0.059008225798607,-0.003923851530999,0.128213733434677));
res += mul(Get(s2,0,dy), float4x4(0.026598919183016,0.057256992906332,-0.002659136429429,-0.076418161392212,0.002164844889194,-0.015208293683827,-0.012736450880766,0.011115221306682,-0.035491537302732,0.002632356481627,-0.005815889686346,-0.030555082485080,-0.066274091601372,0.051492724567652,0.020342761650681,-0.132803484797478));
res += mul(Get(s2,dx,-dy), float4x4(0.063614696264267,-0.094425924122334,0.007710209116340,0.028331611305475,0.019204985350370,0.004036310594529,-0.005168473348022,0.005138834938407,-0.022108105942607,0.031430568546057,-0.011127641424537,0.008971404284239,0.038918156176805,-0.104965947568417,0.000537839310709,-0.031400956213474));
res += mul(Get(s2,dx,0), float4x4(0.082985453307629,-0.120248585939407,0.005797400139272,0.016681239008904,0.000634854368400,0.001139674102888,-0.021646691486239,-0.030148727819324,-0.033748574554920,0.043764442205429,0.007764474488795,0.015485852025449,0.097664989531040,-0.063200362026691,-0.002934786956757,-0.017543265596032));
res += mul(Get(s2,dx,dy), float4x4(0.062820591032505,-0.091632537543774,-0.024835094809532,0.002917202888057,0.011945676989853,-0.006042751949281,-0.003352052066475,-0.012987323105335,-0.011149094440043,0.037186171859503,0.017100837081671,-0.047322336584330,0.036971628665924,-0.027383215725422,0.003371496219188,-0.001784310443327));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000968929904047,-0.000114764705359,-0.015107097104192,-0.010547080077231,0.020476540550590,-0.005547740962356,-0.006742557510734,0.010306200943887,0.004412957001477,0.031947012990713,-0.007456700783223,0.055215142667294,0.008708327077329,0.002041307976469,-0.013777924701571,-0.019799746572971));
res += mul(Get(s3,-dx,0), float4x4(-0.006404643412679,-0.011338581331074,-0.011024083942175,0.010545155033469,0.003594718873501,0.008527182042599,-0.015424321405590,-0.004881783854216,-0.010969036258757,0.035539124161005,0.023905931040645,0.029944041743875,0.027587760239840,0.004673582967371,-0.011893304064870,0.028230514377356));
res += mul(Get(s3,-dx,dy), float4x4(0.010659549385309,0.001168068265542,-0.013097486458719,-0.005733350757509,0.020211223512888,-0.013525830581784,0.001698274514638,-0.001741982530802,-0.005794390104711,0.035756327211857,0.026694236323237,-0.000283008499537,0.010738107375801,-0.013459639623761,0.014222394675016,-0.000142418895848));
res += mul(Get(s3,0,-dy), float4x4(0.021640600636601,0.021144350990653,-0.004911143798381,0.004830668680370,0.019211102277040,0.022025059908628,0.003217562334612,-0.028811266645789,-0.051547300070524,0.058005701750517,0.002808035118505,-0.047203164547682,0.000767021323554,-0.013622723519802,-0.006288626231253,-0.032172668725252));
res += mul(Get(s3,0,0), float4x4(0.002160543110222,0.003526652697474,-0.007791684474796,-0.018727133050561,-0.004799023270607,0.010408525355160,-0.000923583167605,-0.005142296198756,-0.027116283774376,0.067021191120148,-0.017563644796610,0.000196211374714,0.016064666211605,-0.001135612372309,-0.014866524375975,-0.025591563433409));
res += mul(Get(s3,0,dy), float4x4(-0.005299455020577,-0.004696792922914,0.002215148881078,0.001167212729342,0.001792623428628,-0.013111119158566,-0.014474716968834,0.003268183441833,-0.030442753806710,0.049886040389538,-0.001535970019177,-0.023014428094029,0.004510348662734,-0.006175845861435,-0.000119798729429,-0.030346769839525));
res += mul(Get(s3,dx,-dy), float4x4(-0.013427660800517,0.020737944170833,-0.009001804515719,-0.021230079233646,0.021047601476312,0.023030359297991,-0.010008742101490,-0.036848276853561,0.010615426115692,0.002294958801940,-0.010185997001827,0.023256955668330,0.003728218842298,-0.002393122296780,-0.006766831967980,-0.030192313715816));
res += mul(Get(s3,dx,0), float4x4(-0.004306700080633,0.014077525585890,0.026383513584733,0.021093226969242,0.001288575120270,0.015007369220257,-0.003272781381384,-0.021212663501501,0.018611839041114,0.006476734299213,-0.019067516550422,0.007406418677419,-0.015604554675519,-0.005678086075932,-0.010651464574039,-0.004095216281712));
res += mul(Get(s3,dx,dy), float4x4(-0.008512622676790,-0.011650482192636,0.005812567658722,0.005009543616325,0.022813355550170,-0.010844448581338,0.003855698276311,0.000632036360912,0.004937421530485,-0.011394047178328,0.009298497810960,0.001746130059473,-0.010193353518844,-0.011786989867687,0.015041194856167,0.052981358021498));
res = max(float4(0,0,0,0), res);
return res;
}
