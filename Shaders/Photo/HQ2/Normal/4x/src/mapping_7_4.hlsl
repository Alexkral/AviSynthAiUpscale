sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.049798890948296,-0.071269445121288,0.007493560202420,0.004455910529941,0.027759915217757,0.030120564624667,-0.001083277049474,-0.009866931475699,0.030949734151363,-0.006183425895870,-0.014988544397056,-0.010326420888305,-0.000218937580939,-0.040907017886639,0.072445347905159,-0.096879482269287));
res += mul(Get(s0,-dx,0), float4x4(0.090751774609089,-0.081878006458282,0.050876040011644,-0.002560234162956,0.039472140371799,0.081377342343330,-0.014294113032520,0.024174075573683,0.041655447334051,0.025471167638898,0.096267938613892,0.004788377787918,0.065646983683109,-0.018665781244636,-0.050425719469786,0.001248062122613));
res += mul(Get(s0,-dx,dy), float4x4(0.072384007275105,-0.069718576967716,-0.009492360986769,-0.017229555174708,-0.004684505984187,0.047861095517874,-0.043792273849249,0.034602083265781,0.027842091396451,-0.059566605836153,0.100048460066319,0.059374459087849,0.003904011799023,-0.003528453409672,-0.072418421506882,0.032170612365007));
res += mul(Get(s0,0,-dy), float4x4(0.176651477813721,-0.046629961580038,-0.009855838492513,0.002148396335542,0.039971180260181,-0.006797239650041,-0.018747355788946,0.096892625093460,0.019388660788536,0.107439383864403,-0.104885160923004,-0.007673038169742,0.080237798392773,-0.132950589060783,0.072519056499004,0.120765157043934));
res += mul(Get(s0,0,0), float4x4(0.027254341170192,0.086029566824436,0.057951655238867,-0.038542900234461,0.051895204931498,-0.028995834290981,-0.065115794539452,0.106639988720417,0.026828249916434,0.001071970677003,-0.045691881328821,0.018483992666006,-0.000634650816210,0.015709640458226,0.096370108425617,-0.002535175066441));
res += mul(Get(s0,0,dy), float4x4(0.190648436546326,-0.072375051677227,-0.079915486276150,-0.013893071562052,-0.021268336102366,-0.011248168535531,0.000304396962747,0.063709348440170,0.069708414375782,0.025940585881472,-0.055691070854664,-0.025197887793183,0.039107967168093,0.025201566517353,-0.008421572856605,0.040748991072178));
res += mul(Get(s0,dx,-dy), float4x4(0.128860980272293,-0.102583914995193,0.009629987180233,-0.043787084519863,-0.074257768690586,-0.020486237481236,0.034198682755232,0.005311858374625,0.038252141326666,0.021372389048338,-0.083239421248436,-0.019882192835212,0.011086663231254,-0.034995906054974,-0.147839337587357,-0.135267570614815));
res += mul(Get(s0,dx,0), float4x4(0.154830321669579,-0.042640276253223,0.027228206396103,-0.066216953098774,-0.105854235589504,0.030061082914472,-0.009412016719580,-0.017567642033100,-0.030292615294456,0.012024302966893,-0.078735969960690,-0.062635861337185,-0.056811217218637,-0.035164352506399,-0.025190476328135,-0.006612730212510));
res += mul(Get(s0,dx,dy), float4x4(0.110647439956665,-0.026239899918437,-0.012560256756842,-0.046968135982752,-0.075731858611107,0.023406567052007,-0.040930137038231,0.001341330120340,-0.019508885219693,0.043605081737041,-0.053017992526293,-0.004860454238951,-0.011670760810375,-0.025003716349602,0.003550775116310,0.020702280104160));
res += mul(Get(s1,-dx,-dy), float4x4(-0.035139787942171,-0.044083353132010,0.102127194404602,0.064430050551891,0.025078799575567,-0.018758593127131,0.049088779836893,-0.018499286845326,0.071481600403786,-0.080483168363571,0.029182039201260,0.002551078563556,-0.064175061881542,0.076834484934807,-0.032622687518597,0.028459366410971));
res += mul(Get(s1,-dx,0), float4x4(0.038042455911636,-0.023425506427884,0.215012505650520,0.071837849915028,0.154052466154099,-0.027567323297262,0.075773745775223,0.027441237121820,0.068707764148712,0.068083010613918,0.193472117185593,-0.052233483642340,-0.026308923959732,0.089257121086121,0.068974524736404,-0.041339922696352));
res += mul(Get(s1,-dx,dy), float4x4(0.048221498727798,0.044495910406113,0.104423850774765,0.015222015790641,0.000969829678070,-0.057215873152018,0.038582973182201,-0.021209493279457,-0.015667229890823,0.053635105490685,0.088685512542725,-0.044820982962847,0.020472249016166,0.051262974739075,-0.000644692336209,-0.076099239289761));
res += mul(Get(s1,0,-dy), float4x4(-0.103422716259956,0.072372660040855,-0.162753403186798,-0.007129820995033,-0.037695594131947,0.012324501760304,-0.124160282313824,-0.003629863262177,-0.062661379575729,-0.029003620147705,-0.163074910640717,0.015926716849208,-0.057053457945585,0.092020161449909,-0.080893248319626,0.007090111263096));
res += mul(Get(s1,0,0), float4x4(-0.029057793319225,-0.059915345162153,-0.068334452807903,0.116148293018341,-0.033700264990330,-0.074695013463497,-0.101097479462624,0.048469949513674,0.024348750710487,-0.074917890131474,-0.075689122080803,0.100653976202011,-0.015405815094709,0.002940814942122,-0.021934978663921,0.080476149916649));
res += mul(Get(s1,0,dy), float4x4(-0.054062459617853,-0.001182566978969,-0.025586500763893,0.045902352780104,0.023077240213752,0.141540214419365,-0.055404219776392,0.004881366156042,0.017111325636506,-0.020309304818511,-0.090815722942352,0.071977578103542,0.035748332738876,0.000865287845954,-0.010454717092216,-0.031530655920506));
res += mul(Get(s1,dx,-dy), float4x4(-0.068341940641403,-0.036495372653008,-0.053625762462616,0.010539917275310,-0.151406064629555,-0.039717450737953,0.027047630399466,0.006222141906619,-0.089374370872974,0.022967232391238,-0.022954471409321,-0.010200479999185,-0.034717652946711,0.018999114632607,-0.083925984799862,0.020739788189530));
res += mul(Get(s1,dx,0), float4x4(0.036499932408333,0.013762520626187,-0.039132170379162,-0.032140906900167,-0.065262801945210,0.058908145874739,0.018068224191666,-0.010839520953596,-0.044953111559153,0.094795323908329,0.007357018999755,-0.037570498883724,0.047577951103449,0.011296266689897,-0.018234141170979,-0.032933827489614));
res += mul(Get(s1,dx,dy), float4x4(-0.056525792926550,-0.110970221459866,-0.039254497736692,0.099618211388588,-0.013046682812274,0.015088697895408,0.038556449115276,0.043991371989250,0.003369401209056,0.033123180270195,-0.067237034440041,-0.005218036938459,0.091501735150814,-0.103311479091644,-0.055283758789301,-0.078093059360981));
res += mul(Get(s2,-dx,-dy), float4x4(-0.043550565838814,0.046811591833830,0.057884130626917,-0.079455815255642,-0.040057364851236,0.032510202378035,0.087302885949612,-0.023347239941359,-0.015366282314062,-0.044178072363138,0.025656921789050,-0.037799999117851,0.017235929146409,-0.095991887152195,-0.064668968319893,-0.050501562654972));
res += mul(Get(s2,-dx,0), float4x4(0.014753115363419,-0.009285979904234,0.046693183481693,-0.067509092390537,0.024279721081257,0.048923898488283,-0.032261341810226,0.080476194620132,-0.007272211834788,-0.032178997993469,-0.010084044188261,0.000603064196184,0.006996766198426,-0.103335089981556,-0.033249009400606,-0.060045462101698));
res += mul(Get(s2,-dx,dy), float4x4(0.026266800239682,-0.026263268664479,-0.018225105479360,0.009346729144454,0.001735356403515,-0.014118091203272,-0.033453386276960,0.080912828445435,-0.024673640727997,-0.024099981412292,0.004164610989392,-0.014918892644346,-0.037077013403177,-0.022588621824980,-0.019311442971230,-0.027874996885657));
res += mul(Get(s2,0,-dy), float4x4(-0.096089176833630,0.065431386232376,-0.015654318034649,-0.055658690631390,0.023404369130731,-0.049607973545790,0.037985440343618,0.022470667958260,0.013397157192230,-0.049933187663555,0.017838120460510,-0.006861460860819,0.021850673481822,-0.067313112318516,-0.028334174305201,-0.060171235352755));
res += mul(Get(s2,0,0), float4x4(-0.006131168454885,-0.023731943219900,0.062645874917507,0.005910277366638,-0.001463546417654,0.062793344259262,0.075391381978989,0.083089061081409,-0.074443846940994,0.101568728685379,-0.047685284167528,-0.085562057793140,0.068666599690914,-0.029118947684765,-0.019832614809275,-0.076347999274731));
res += mul(Get(s2,0,dy), float4x4(0.024415435269475,-0.041569687426090,0.037484858185053,-0.005413313861936,-0.012347586452961,0.061729032546282,-0.001308430451900,0.045572403818369,0.004349695984274,-0.018459992483258,-0.027521634474397,-0.037025783210993,-0.003115368541330,0.035654820501804,-0.048438895493746,0.018593881279230));
res += mul(Get(s2,dx,-dy), float4x4(-0.009453652426600,-0.055597532540560,-0.039457686245441,-0.034477882087231,-0.069461904466152,-0.043346013873816,-0.030209720134735,-0.018082290887833,-0.025958966463804,-0.064738899469376,0.005154564045370,-0.044551696628332,-0.002963642589748,-0.018129846081138,-0.038320854306221,-0.005607106257230));
res += mul(Get(s2,dx,0), float4x4(-0.007894675247371,-0.023058848455548,-0.023383023217320,-0.052686531096697,-0.046766109764576,0.052832007408142,0.021756591275334,0.103950746357441,-0.069312587380409,0.029049238190055,0.097748018801212,-0.040643170475960,0.046328648924828,0.010967249050736,-0.022699752822518,-0.012100075371563));
res += mul(Get(s2,dx,dy), float4x4(0.058823049068451,-0.044741120189428,0.038817703723907,-0.003247150219977,-0.033264528959990,0.009047946892679,0.037181735038757,-0.011256868951023,-0.045460220426321,-0.069770134985447,0.052013952285051,-0.052558124065399,0.021212086081505,0.093572460114956,-0.046640336513519,0.021761437878013));
res += mul(Get(s3,-dx,-dy), float4x4(-0.014738060534000,0.060015212744474,-0.006577867083251,-0.012808749452233,-0.076923534274101,-0.050682064145803,-0.045760523527861,-0.037951562553644,0.047315780073404,-0.011929479427636,0.015662524849176,0.019245374947786,-0.004982840735465,-0.037076365202665,-0.026770196855068,0.055790800601244));
res += mul(Get(s3,-dx,0), float4x4(-0.096595354378223,0.056894894689322,0.010889622382820,-0.007372559513897,-0.005786233581603,-0.031169660389423,-0.060318894684315,-0.025095576420426,0.123728133738041,-0.040767401456833,0.120540522038937,0.037370387464762,-0.042971473187208,-0.011448058299720,0.059486933052540,0.010587725788355));
res += mul(Get(s3,-dx,dy), float4x4(-0.031672466546297,0.072350487112999,-0.052876684814692,0.006363133434206,-0.046155493706465,0.085987523198128,-0.032797522842884,-0.049666006118059,0.151813790202141,-0.016039811074734,0.070672281086445,-0.020447179675102,0.012517839670181,-0.017070509493351,-0.006513873115182,0.048319350928068));
res += mul(Get(s3,0,-dy), float4x4(-0.035506643354893,-0.071969792246819,-0.053756907582283,0.060190770775080,-0.098021872341633,0.035353992134333,0.005176163278520,-0.094306729733944,0.043845999985933,0.022785337641835,-0.014869350008667,0.033864509314299,0.019627822563052,-0.045519083738327,-0.056684054434299,0.042914900928736));
res += mul(Get(s3,0,0), float4x4(0.002670900663361,-0.014396301470697,0.066092662513256,0.071818798780441,0.026924395933747,0.021593734622002,0.011659606359899,-0.076543867588043,0.038148514926434,0.083215072751045,0.014226806350052,-0.004977982491255,-0.008993173949420,0.033258929848671,-0.020280275493860,0.010480702854693));
res += mul(Get(s3,0,dy), float4x4(-0.004195436835289,0.160875275731087,0.042583264410496,0.012995928525925,0.000836122548208,0.048070758581161,0.060159977525473,-0.039399713277817,0.053623452782631,0.008073529228568,0.091281816363335,-0.000894113618415,0.019133133813739,0.041518509387970,-0.010915224440396,0.083168126642704));
res += mul(Get(s3,dx,-dy), float4x4(-0.111448846757412,-0.020850090309978,0.004318135790527,0.008205858059227,-0.139617502689362,0.097182214260101,0.008676570840180,-0.051541849970818,-0.072675272822380,0.032888870686293,0.010276220738888,0.022500736638904,0.019650164991617,-0.022385355085135,-0.042382456362247,0.039029568433762));
res += mul(Get(s3,dx,0), float4x4(-0.038065601140261,-0.042346525937319,0.026820998638868,-0.045622125267982,-0.075588285923004,-0.018978711217642,0.006993597373366,-0.018115485087037,-0.020219616591930,0.045673895627260,0.033669132739305,0.056577719748020,-0.009186185896397,0.086308754980564,0.025690915063024,-0.056134909391403));
res += mul(Get(s3,dx,dy), float4x4(-0.010431834496558,-0.036539588123560,0.026959491893649,-0.017562706023455,-0.040876623243093,-0.062899641692638,0.009786590933800,-0.051029898226261,-0.035196311771870,0.040365409106016,0.039521362632513,-0.000965317303780,0.009056750684977,0.044690452516079,-0.028102241456509,0.069244496524334));
res = max(float4(0,0,0,0), res);
return res;
}
