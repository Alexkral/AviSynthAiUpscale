sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.030644863843918,0.088138453662395,-0.041004016995430,-0.012670918367803,0.073152080178261,-0.031433872878551,-0.014900083653629,0.009666437283158,-0.056770835071802,-0.024330686777830,-0.005543088074774,-0.026442101225257,-0.030737373977900,-0.082462765276432,-0.010273023508489,0.006154644768685));
res += mul(Get(s0,-dx,0), float4x4(0.022448366507888,0.060822304338217,-0.010309414006770,-0.018254460766912,0.094216294586658,-0.059889033436775,-0.007327276282012,-0.028439957648516,-0.010179220698774,0.012573798187077,-0.035793289542198,-0.038181319832802,0.041641350835562,0.024223558604717,-0.007285842671990,-0.010443349368870));
res += mul(Get(s0,-dx,dy), float4x4(-0.043860819190741,0.018725669011474,-0.014163034036756,-0.027994835749269,-0.065765582025051,-0.017387732863426,-0.019165238365531,0.036583136767149,-0.020797945559025,-0.014687680639327,-0.020743345841765,-0.024312727153301,0.040803600102663,0.070119567215443,0.013845547102392,0.041046608239412));
res += mul(Get(s0,0,-dy), float4x4(-0.009486010298133,0.061822135001421,-0.013769248500466,0.036415275186300,0.047348942607641,-0.037358473986387,-0.018425654619932,0.036656305193901,0.002013655612245,-0.026915438473225,-0.022047165781260,-0.037558816373348,0.005445895716548,-0.023821834474802,0.034461840987206,-0.020231032744050));
res += mul(Get(s0,0,0), float4x4(0.037759650498629,0.092000462114811,0.001567621598952,0.020864889025688,0.036647725850344,-0.084118574857712,0.008691986091435,-0.030794337391853,0.007621421013027,-0.007061032578349,-0.025891231372952,-0.044258065521717,0.079646944999695,-0.016316600143909,0.036186028271914,-0.061672024428844));
res += mul(Get(s0,0,dy), float4x4(-0.026842717081308,0.073337189853191,-0.020573671907187,0.040399450808764,-0.023398701101542,-0.058206617832184,0.006780195515603,0.042715858668089,0.016837183386087,0.008467252366245,-0.037802670150995,-0.013704393059015,0.081655167043209,0.015625759959221,-0.008873057551682,0.020347520709038));
res += mul(Get(s0,dx,-dy), float4x4(-0.037853896617889,-0.048210538923740,0.003091328777373,0.045291855931282,0.074929356575012,-0.016267020255327,0.011264881119132,-0.001802717917599,-0.023701835423708,-0.024012951180339,0.003109095385298,-0.016971597447991,-0.016319515183568,0.000469602964586,0.016913434490561,-0.015222435817122));
res += mul(Get(s0,dx,0), float4x4(0.002366130473092,-0.023687336593866,-0.001970147015527,0.036438085138798,0.037209495902061,-0.048826735466719,-0.016720145940781,-0.022175738587976,0.016082089394331,0.001142823486589,-0.027505027130246,-0.005740636494011,0.011342042125762,-0.032532986253500,0.014311023987830,-0.101742610335350));
res += mul(Get(s0,dx,dy), float4x4(-0.019336987286806,-0.011923965997994,-0.002592880278826,0.041717808693647,-0.020453220233321,-0.030863409861922,0.012821136042476,0.031100433319807,-0.002444163197652,0.016265388578176,-0.044694688171148,-0.009927690029144,0.109543032944202,-0.048418857157230,-0.004272824618965,-0.029587708413601));
res += mul(Get(s1,-dx,-dy), float4x4(0.084117047488689,-0.002244309056550,-0.014941220171750,-0.050764784216881,-0.102704815566540,-0.031006874516606,0.029936287552118,-0.044424407184124,-0.009893330745399,0.000117993869935,0.006937748752534,0.022097524255514,-0.069236986339092,-0.060918990522623,0.040050987154245,-0.080968528985977));
res += mul(Get(s1,-dx,0), float4x4(-0.039040878415108,0.066904716193676,0.022779466584325,-0.123647190630436,-0.094705656170845,-0.021073237061501,0.011092259548604,-0.009689885191619,-0.003629452083260,-0.001307802274823,-0.000905393331777,-0.012339161708951,0.254355490207672,-0.097493156790733,0.100409917533398,-0.017414364963770));
res += mul(Get(s1,-dx,dy), float4x4(-0.000279783445876,0.102487407624722,0.029972780495882,-0.030202848836780,0.039988674223423,0.002026248723269,-0.001449764124118,0.017831094563007,0.015095169655979,-0.022657800465822,-0.004069549497217,-0.002979957498610,-0.007449215278029,-0.047200322151184,-0.049351286143064,0.057557895779610));
res += mul(Get(s1,0,-dy), float4x4(0.071214035153389,0.101758830249310,0.014434051699936,-0.059916116297245,-0.020654089748859,-0.098098658025265,0.016648896038532,-0.056022685021162,0.017085155472159,0.007410514634103,-0.010185074061155,0.006304650567472,-0.154194697737694,-0.072565719485283,0.025222236290574,-0.045517999678850));
res += mul(Get(s1,0,0), float4x4(-0.032144207507372,0.198978811502457,0.036139428615570,-0.055260110646486,-0.041237752884626,-0.097453683614731,0.041472107172012,-0.044114455580711,-0.002670020796359,0.007239069323987,-0.016667338088155,-0.011201222427189,0.043722577393055,-0.055287763476372,0.122261025011539,-0.090545497834682));
res += mul(Get(s1,0,dy), float4x4(-0.002089754445478,0.082298882305622,0.028251139447093,0.096478484570980,-0.035121127963066,-0.070529215037823,0.021698798984289,0.029925735667348,-0.011879151687026,-0.012580646201968,-0.003858599346131,-0.014381731860340,0.040517088025808,-0.010294727981091,-0.019111886620522,0.023646714165807));
res += mul(Get(s1,dx,-dy), float4x4(0.133013308048248,0.086172752082348,-0.018055874854326,-0.017371136695147,0.009178766049445,0.064868837594986,-0.004767393227667,-0.039724912494421,0.002312641590834,0.006640337873250,-0.004857592284679,0.000595454766881,-0.037927344441414,0.028363179415464,-0.003506050212309,-0.090758226811886));
res += mul(Get(s1,dx,0), float4x4(0.045636340975761,0.142229020595551,-0.019709385931492,-0.016754332929850,-0.009374100714922,0.094459772109985,-0.008855557069182,0.000110679000500,0.006589182652533,-0.000648131477647,-0.012469330802560,0.015818538144231,-0.178888887166977,0.148182898759842,0.020048769190907,-0.003651797072962));
res += mul(Get(s1,dx,dy), float4x4(-0.040407918393612,0.038965076208115,-0.030301319435239,0.116721630096436,-0.019033532589674,0.070312842726707,0.018675319850445,0.021551704034209,-0.001709471107461,-0.000572063610889,-0.005334421526641,0.010180541314185,0.041121814399958,0.093739770352840,-0.047777377068996,0.100224941968918));
res += mul(Get(s2,-dx,-dy), float4x4(0.075527861714363,-0.026861300691962,-0.064197860658169,-0.039414133876562,-0.008167782798409,-0.016529634594917,0.004778772126883,-0.005267071537673,0.022652432322502,-0.086229711771011,0.007906898856163,-0.054748341441154,-0.089328266680241,-0.020900394767523,-0.003057925729081,-0.094313308596611));
res += mul(Get(s2,-dx,0), float4x4(0.005153349600732,-0.083903506398201,-0.070079714059830,-0.044661123305559,-0.010160489939153,-0.011996304616332,-0.001548671862110,0.016281314194202,0.115332752466202,-0.127754256129265,-0.013410543091595,-0.061105825006962,-0.023286050185561,0.026593377813697,0.026451868936419,-0.074511162936687));
res += mul(Get(s2,-dx,dy), float4x4(-0.014762417413294,0.022035544738173,-0.022445615381002,0.070752918720245,0.002459757262841,0.017474163323641,-0.001057424698956,0.027150277048349,0.028305806219578,-0.106963582336903,-0.014389509335160,0.073474146425724,0.004827501252294,0.012806255370378,-0.016947042196989,0.031954530626535));
res += mul(Get(s2,0,-dy), float4x4(-0.049384769052267,-0.029704375192523,-0.099872700870037,-0.092174455523491,-0.007607290055603,-0.022589471191168,-0.008949190378189,0.001038655173033,-0.102354057133198,-0.033657100051641,0.016542339697480,-0.036769293248653,-0.160646244883537,0.090405702590942,-0.006047204136848,-0.060525320470333));
res += mul(Get(s2,0,0), float4x4(-0.027311872690916,-0.002678945194930,-0.035741720348597,-0.132316172122955,-0.001175578450784,-0.001448412076570,-0.009624096564949,0.024349493905902,-0.035472244024277,-0.066961042582989,0.048723936080933,-0.173876672983170,-0.046924326568842,0.165844753384590,0.017537349835038,0.024955907836556));
res += mul(Get(s2,0,dy), float4x4(0.108078844845295,0.016523014754057,-0.017479971051216,0.176609843969345,0.041507028043270,0.004905607551336,-0.009232190437615,0.054326903074980,0.188049942255020,-0.020347006618977,-0.005465800873935,0.185302868485451,0.137856781482697,0.087375931441784,0.004716828931123,0.149242505431175));
res += mul(Get(s2,dx,-dy), float4x4(-0.075793594121933,0.105791971087456,-0.122710905969143,-0.082753196358681,-0.007263102568686,-0.014799056574702,0.029353737831116,-0.030560068786144,-0.088457427918911,0.121054500341415,-0.017462778836489,-0.070887893438339,0.030703725293279,0.021753335371614,0.038361631333828,-0.027751993387938));
res += mul(Get(s2,dx,0), float4x4(-0.066293209791183,0.111348763108253,-0.029727661982179,-0.056528743356466,0.030008312314749,-0.001657414250076,0.022231683135033,0.002898958511651,-0.116615951061249,0.222742930054665,-0.022534314543009,-0.002772826934233,-0.041805550456047,0.082470424473286,0.019331369549036,-0.008527199737728));
res += mul(Get(s2,dx,dy), float4x4(-0.029094014316797,0.021176103502512,-0.012133621610701,0.203648298978806,0.048294588923454,0.018843516707420,0.009458557702601,0.040214266628027,0.192035853862762,0.014665205031633,0.017125211656094,0.184057533740997,0.028894541785121,0.001582774566486,0.002961772261187,0.022514868527651));
res += mul(Get(s3,-dx,-dy), float4x4(0.058266010135412,-0.090837024152279,0.043129194527864,-0.065154947340488,-0.002933277282864,-0.031826440244913,0.029847117140889,0.109315343201160,0.005456259474158,-0.006244164425880,-0.005494312848896,-0.008473187685013,0.160970419645309,-0.021817468106747,-0.020990815013647,0.022718111053109));
res += mul(Get(s3,-dx,0), float4x4(-0.101747296750546,-0.086371295154095,0.000827939598821,-0.093356877565384,-0.066666416823864,-0.032092779874802,0.042584117501974,0.062360361218452,0.005267185624689,-0.009268918074667,0.001244003186002,-0.006578340195119,0.241313710808754,-0.090511672198772,0.022478638216853,-0.065414883196354));
res += mul(Get(s3,-dx,dy), float4x4(0.012306024320424,-0.077512130141258,0.028301626443863,0.039819315075874,-0.016176365315914,-0.013264248147607,0.040259674191475,0.026596009731293,0.016669074073434,0.002774141728878,0.005388998426497,-0.005081682465971,0.156219363212585,-0.045123126357794,-0.126505956053734,-0.099816128611565));
res += mul(Get(s3,0,-dy), float4x4(0.085267879068851,-0.022691961377859,0.046614065766335,-0.164552122354507,-0.035826992243528,-0.050123583525419,-0.016697747632861,0.141484230756760,-0.000980484299362,0.003952221944928,-0.003444816451520,-0.007132078055292,-0.011314256116748,0.015463106334209,-0.025687284767628,-0.094762496650219));
res += mul(Get(s3,0,0), float4x4(-0.076704338192940,0.055874463170767,-0.006332607939839,-0.051945634186268,-0.080446474254131,-0.064594551920891,0.014710607007146,0.125970482826233,0.001038126065396,-0.003908098209649,0.002405440900475,-0.017177255824208,0.061013806611300,-0.050228241831064,0.042789369821548,-0.112505622208118));
res += mul(Get(s3,0,dy), float4x4(0.109901949763298,-0.019706591963768,0.035288389772177,0.210173547267914,-0.078504495322704,-0.068524844944477,0.024225242435932,0.062653198838234,0.004070049617440,-0.009897591546178,-0.008960543200374,-0.001573966816068,-0.012030886486173,-0.024260755628347,-0.111963585019112,-0.047621373087168));
res += mul(Get(s3,dx,-dy), float4x4(-0.038684386759996,0.071269124746323,-0.019184892997146,-0.036288030445576,-0.023858355358243,-0.040986381471157,-0.015418014489114,0.065343871712685,-0.005494860932231,-0.000680820725393,-0.001494637457654,-0.008886616677046,-0.132935911417007,0.063718169927597,-0.022447234019637,-0.094065882265568));
res += mul(Get(s3,dx,0), float4x4(0.114454351365566,0.077281504869461,0.010310717858374,0.112053751945496,-0.030915314331651,-0.021697856485844,0.010928038507700,0.027946773916483,-0.020409975200891,-0.013893257826567,-0.006732514128089,0.006922410801053,-0.185115754604340,-0.013065107166767,0.069214366376400,-0.101098969578743));
res += mul(Get(s3,dx,dy), float4x4(-0.013267875649035,-0.009174168109894,0.016280137002468,0.184662282466888,-0.020447583869100,-0.053114272654057,0.042880237102509,0.011139187030494,0.005496568046510,-0.001310743973590,-0.008873829618096,-0.002844101982191,-0.152902200818062,-0.009189698845148,-0.048908647149801,-0.040914829820395));
res = max(float4(0,0,0,0), res);
return res;
}
