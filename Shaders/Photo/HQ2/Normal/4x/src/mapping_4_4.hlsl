sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.055072154849768,0.026239285245538,-0.036992773413658,-0.184085935354233,-0.022601837292314,0.002219608752057,0.005026270169765,-0.125244513154030,0.010995233431458,-0.009806624613702,0.000174534856342,-0.000256503641140,-0.023300893604755,-0.001200426602736,0.008318278007209,-0.094546705484390));
res += mul(Get(s0,-dx,0), float4x4(0.180212184786797,0.013456563465297,0.029523879289627,-0.003959376364946,-0.031504735350609,-0.022399237379432,-0.044855155050755,-0.078339815139771,0.038088206201792,-0.020139485597610,-0.007390296552330,0.021962825208902,0.041428841650486,-0.010727988556027,0.127632647752762,0.022436186671257));
res += mul(Get(s0,-dx,dy), float4x4(0.051875747740269,0.024154057726264,-0.102350629866123,-0.038961596786976,-0.041061241179705,-0.054383959621191,-0.017707096412778,-0.040439609438181,0.041583057492971,0.000849711184856,-0.026552166789770,0.014254719018936,0.032240685075521,0.000077278702520,-0.000239752873313,-0.016459833830595));
res += mul(Get(s0,0,-dy), float4x4(-0.051105137914419,0.000512156053446,-0.103115983307362,-0.084161065518856,-0.005282161757350,0.053699780255556,0.003796512493864,-0.142231479287148,-0.001394720748067,-0.008728601969779,-0.015899749472737,-0.006051111966372,-0.038285933434963,0.002687393920496,0.079805783927441,0.077481642365456));
res += mul(Get(s0,0,0), float4x4(-0.038139611482620,0.058366887271404,0.052883267402649,0.156600818037987,-0.033949017524719,0.031116584315896,0.032969441264868,0.016576690599322,-0.014107394963503,-0.013857476413250,-0.025894453749061,0.001441619475372,0.052186179906130,-0.013765915296972,0.196944981813431,0.273093253374100));
res += mul(Get(s0,0,dy), float4x4(-0.006716079544276,0.095733612775803,0.044164974242449,0.048214267939329,-0.058279156684875,0.000661945785396,0.091886281967163,0.153400123119354,-0.000534584105480,-0.005811831913888,-0.027823042124510,-0.009932927787304,0.074833087623119,-0.021019089967012,0.006092986557633,0.068430922925472));
res += mul(Get(s0,dx,-dy), float4x4(-0.069080010056496,-0.026310738176107,-0.071650765836239,0.011145413853228,-0.130324199795723,0.008495563641191,-0.111106477677822,-0.100142128765583,0.022606600075960,0.003550207940862,0.016760777682066,0.022287789732218,-0.068116500973701,-0.013791013509035,-0.000926306005567,0.066100917756557));
res += mul(Get(s0,dx,0), float4x4(-0.105316027998924,-0.007716072723269,0.011965083889663,0.128739625215530,-0.115801341831684,0.010175052098930,-0.087435618042946,0.027787022292614,0.012744408100843,-0.001174294739030,0.012667247094214,0.003185381880030,0.043814007192850,-0.017044689506292,0.116933338344097,0.123976528644562));
res += mul(Get(s0,dx,dy), float4x4(-0.055659003555775,0.045292612165213,0.066202193498611,-0.020335478708148,-0.099169082939625,-0.019463252276182,-0.045516692101955,0.095574654638767,0.002398984972388,0.007523557636887,-0.014763691462576,-0.011329637840390,0.102169588208199,-0.012075045146048,-0.000377696705982,-0.048937663435936));
res += mul(Get(s1,-dx,-dy), float4x4(0.051097236573696,0.016637690365314,-0.066308818757534,-0.056853238493204,-0.003778871148825,0.000534752383828,-0.020228259265423,-0.007179189939052,-0.008093810640275,-0.000456103822216,-0.044633172452450,0.013634387403727,-0.001393379992805,-0.016336258500814,0.019854957237840,-0.057300064712763));
res += mul(Get(s1,-dx,0), float4x4(0.113807186484337,-0.018435273319483,-0.005013077519834,-0.146021738648415,0.024631030857563,-0.000073914532550,-0.018801409751177,-0.007497212849557,-0.008158205077052,-0.024957038462162,-0.042007591575384,-0.007705852389336,-0.003516894998029,-0.020870501175523,0.005295614246279,-0.079774089157581));
res += mul(Get(s1,-dx,dy), float4x4(0.063945509493351,-0.029852673411369,0.026361254975200,-0.069774523377419,0.017458539456129,-0.025960419327021,-0.026455383747816,0.013406428508461,-0.006016042549163,-0.004010059870780,-0.063557900488377,-0.032196495682001,-0.007115731947124,-0.034051302820444,0.032290205359459,-0.057824783027172));
res += mul(Get(s1,0,-dy), float4x4(-0.134242892265320,-0.007103859912604,-0.061646908521652,-0.081690631806850,-0.003683429444209,0.030682150274515,-0.023526754230261,-0.003180945292115,-0.038128934800625,0.004152724053711,-0.018188076093793,0.006619878113270,-0.020222786813974,0.019560350105166,-0.026660863310099,-0.077881358563900));
res += mul(Get(s1,0,0), float4x4(0.033157084137201,-0.042261075228453,0.027595464140177,-0.025868473574519,-0.010211189277470,0.008095295168459,-0.020452190190554,0.026164425536990,-0.016929982230067,-0.004222540184855,-0.000214294341276,-0.005339001771063,-0.058322012424469,-0.001603182638064,-0.011008612811565,-0.055761188268661));
res += mul(Get(s1,0,dy), float4x4(-0.000501522503328,-0.023052755743265,0.076778598129749,0.002665516920388,0.006153468042612,0.007041257340461,-0.017584374174476,0.008787824772298,-0.031044926494360,-0.007695487700403,-0.005339962430298,0.059303257614374,-0.049418229609728,-0.003301045391709,0.025629427284002,-0.016570311039686));
res += mul(Get(s1,dx,-dy), float4x4(-0.096466004848480,-0.010403937660158,-0.045964103192091,-0.011801118031144,-0.023530084639788,-0.001746681635268,-0.014598245732486,0.007800601888448,-0.029740488156676,0.004556308500469,-0.030796293169260,0.006391756236553,-0.018625134602189,0.015469308011234,-0.016563257202506,-0.082617007195950));
res += mul(Get(s1,dx,0), float4x4(0.019637234508991,-0.014183876104653,0.012780338525772,0.193999245762825,-0.018693534657359,-0.003450749441981,-0.063313230872154,-0.014385141432285,-0.013882438652217,-0.009464441798627,0.011120281182230,0.014604816213250,-0.005105849821121,0.018982341513038,-0.054357007145882,-0.047776523977518));
res += mul(Get(s1,dx,dy), float4x4(0.045132335275412,-0.029628925025463,0.126719713211060,0.096223339438438,-0.039315834641457,-0.010521602816880,-0.084250301122665,-0.055317312479019,-0.025330612435937,-0.000995282549411,-0.009033619426191,0.070582248270512,-0.028460327535868,-0.002783346455544,-0.003342944197357,0.005988934542984));
res += mul(Get(s2,-dx,-dy), float4x4(0.074368424713612,-0.020825030282140,0.080002859234810,-0.029208891093731,0.067211285233498,-0.001133682322688,0.000465028511826,-0.024630943313241,-0.004217723384500,0.058074004948139,-0.073543272912502,-0.133340045809746,0.005144479218870,-0.012055045925081,0.096858642995358,-0.018196692690253));
res += mul(Get(s2,-dx,0), float4x4(0.030387641862035,-0.020398844033480,0.086451478302479,0.049926832318306,0.034121699631214,0.013430982828140,0.069321922957897,0.115894109010696,0.061348650604486,-0.020761020481586,0.052382789552212,-0.221869945526123,-0.005580237135291,-0.019169507548213,-0.072845868766308,0.042245157063007));
res += mul(Get(s2,-dx,dy), float4x4(-0.032243736088276,0.005192142445594,0.021595552563667,-0.014990851283073,0.029715942218900,0.034479327499866,0.039512697607279,0.034557018429041,0.059924017637968,-0.088388673961163,0.101460188627243,-0.092210419476032,-0.036317575722933,0.015731828287244,-0.191077455878258,-0.069080494344234));
res += mul(Get(s2,0,-dy), float4x4(-0.000622437568381,0.011374909430742,0.082061693072319,0.107311598956585,-0.075647145509720,0.018282741308212,0.029079088941216,0.111296124756336,-0.125530600547791,0.016494613140821,-0.113024279475212,-0.144660815596581,-0.068469822406769,-0.060690741986036,-0.035847388207912,0.096532002091408));
res += mul(Get(s2,0,0), float4x4(-0.026158979162574,0.020532425493002,0.154080435633659,0.087144657969475,-0.105966158211231,0.027192968875170,0.025116367265582,0.159598499536514,-0.075977221131325,-0.014095162972808,0.027791257947683,-0.089239984750748,-0.114851593971252,-0.077293820679188,0.023030076175928,-0.026768185198307));
res += mul(Get(s2,0,dy), float4x4(-0.101765073835850,-0.008761468343437,0.063202947378159,-0.030303286388516,-0.039623506367207,0.010473814792931,-0.040135562419891,0.040263075381517,-0.061705935746431,-0.084184639155865,0.155899047851563,0.024393606930971,-0.125705957412720,-0.055871624499559,-0.002011773409322,-0.050681062042713));
res += mul(Get(s2,dx,-dy), float4x4(-0.059091072529554,0.021955568343401,0.053364433348179,0.107323698699474,-0.030357697978616,0.010999442078173,-0.012098589912057,0.016196565702558,-0.056143879890442,0.004840493667871,-0.068951942026615,-0.024666642770171,-0.054506085813046,-0.047996740788221,0.027686605229974,0.007808240596205));
res += mul(Get(s2,dx,0), float4x4(0.055963534861803,0.040066350251436,0.063797436654568,-0.037931144237518,-0.049437463283539,0.003643727628514,-0.002178243128583,0.008641004562378,-0.051532134413719,0.014847422018647,0.019053239375353,0.104720540344715,-0.070413284003735,-0.072628468275070,-0.029577672481537,-0.042266815900803));
res += mul(Get(s2,dx,dy), float4x4(-0.014139910228550,-0.012639935128391,0.012459600344300,-0.093331709504128,-0.036520387977362,-0.000537500774954,-0.055261936038733,0.000107325729914,-0.057389199733734,-0.020152175799012,0.098371602594852,0.094208955764771,-0.118903353810310,-0.039757296442986,-0.026101751253009,-0.029562115669250));
res += mul(Get(s3,-dx,-dy), float4x4(-0.016379948705435,0.002667663851753,0.021833591163158,-0.002372945658863,-0.006727522239089,0.087892346084118,-0.007496951147914,0.028526499867439,0.066518522799015,0.029245710000396,-0.057028949260712,-0.079949155449867,0.012170467525721,0.012886717915535,0.001771227922291,-0.003179958090186));
res += mul(Get(s3,-dx,0), float4x4(-0.001432981458493,0.020424891263247,0.128199636936188,-0.015507900156081,0.044608179479837,0.118889614939690,-0.077664785087109,0.013956593349576,0.017521278932691,-0.028114205226302,0.026976274326444,-0.095949061214924,0.006126971449703,-0.000031120980566,0.003512542927638,-0.003578718053177));
res += mul(Get(s3,-dx,dy), float4x4(-0.014532563276589,-0.010710189118981,0.042686104774475,0.060114085674286,0.163690179586411,0.040049534291029,0.025705613195896,-0.098279371857643,-0.026290012523532,-0.025894587859511,-0.001088064163923,-0.036764491349459,0.000725577236153,-0.006833763793111,0.008971495553851,-0.010358250699937));
res += mul(Get(s3,0,-dy), float4x4(-0.002430279972032,-0.008254234679043,-0.031700804829597,0.010226428508759,-0.079947382211685,0.019930003210902,-0.032333057373762,0.091052129864693,0.080434158444405,0.011047108098865,-0.083400301635265,-0.058480747044086,-0.009972764179111,0.016222938895226,0.000493384490255,-0.003541013924405));
res += mul(Get(s3,0,0), float4x4(0.012469257228076,0.045869555324316,0.080421917140484,-0.010165483690798,-0.131931170821190,0.052541505545378,-0.110470436513424,-0.037469390779734,0.112602569162846,-0.021677710115910,-0.005455674137920,-0.007497096434236,0.031706750392914,0.003019222756848,0.003644026815891,-0.006723599508405));
res += mul(Get(s3,0,dy), float4x4(-0.018557680770755,0.004570236429572,0.087907195091248,0.093830592930317,-0.014926128089428,0.011251684278250,0.054948352277279,-0.063188284635544,0.000383743841667,-0.048545986413956,0.011523148976266,0.037872735410929,0.011851577088237,-0.004802416078746,0.012722401879728,0.005134759005159));
res += mul(Get(s3,dx,-dy), float4x4(0.022815590724349,-0.022636545822024,-0.020583784207702,-0.021268725395203,-0.040137875825167,-0.028582856059074,0.069651216268539,-0.096329502761364,0.074912697076797,0.020683702081442,-0.134734436869621,-0.033798176795244,-0.003236470278352,0.003889471990988,-0.013486891053617,-0.021682854741812));
res += mul(Get(s3,dx,0), float4x4(0.005627077072859,0.000894494005479,0.042868211865425,-0.045649368315935,-0.091792523860931,-0.024090414866805,-0.125434339046478,-0.152908712625504,0.118289649486542,0.010157012380660,-0.039662305265665,0.055977866053581,0.000272018281976,0.009228239767253,0.002025251276791,0.003442375920713));
res += mul(Get(s3,dx,dy), float4x4(-0.034320529550314,0.005030375905335,0.061843212693930,0.031745020300150,-0.095014318823814,0.001662717433646,-0.080995805561543,-0.042346470057964,0.106892667710781,-0.024335624650121,0.029910329729319,0.110307931900024,0.009655330330133,-0.004985477309674,0.008164111524820,-0.012378439307213));
res = max(float4(0,0,0,0), res);
return res;
}
