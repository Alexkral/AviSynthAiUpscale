sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020127875730395,-0.134543225169182,0.014898248948157,-0.015561593696475,0.143736645579338,-0.019938400015235,-0.151271417737007,-0.001452276366763,-0.003135604783893,0.018433032557368,0.003418986918405,0.004664870910347,0.018059521913528,-0.022816164419055,0.011329436674714,-0.004013004247099));
res += mul(Get(s0,-dx,0), float4x4(-0.122159413993359,-0.016598664224148,0.036673232913017,-0.000969934393652,0.066691890358925,0.087619587779045,-0.111056320369244,-0.009210903197527,0.021770562976599,0.012987815774977,0.040999479591846,0.006361721549183,0.103510327637196,-0.036110345274210,0.012804325670004,-0.000543374451809));
res += mul(Get(s0,-dx,dy), float4x4(-0.169712781906128,0.082380369305611,-0.062127225100994,-0.005423227790743,-0.131311833858490,0.049824640154839,0.044312749058008,0.007216244935989,-0.003238475881517,-0.032281342893839,0.025014588609338,-0.003212459851056,-0.029682952910662,-0.059684243053198,0.004776940215379,-0.001996167004108));
res += mul(Get(s0,0,-dy), float4x4(0.023907305672765,0.013493898324668,-0.043001595884562,0.001692371792160,0.035432927310467,-0.024655569344759,-0.071350857615471,0.010098167695105,-0.015886528417468,0.038073778152466,0.003394205356017,-0.002983478363603,0.048084136098623,-0.093708828091621,0.003896966809407,-0.004542150069028));
res += mul(Get(s0,0,0), float4x4(-0.165618106722832,0.091151893138885,0.093397393822670,0.002051865914837,-0.025820635259151,0.025026628747582,-0.061749521642923,0.001330533530563,0.018952105194330,0.026875706389546,0.027274910360575,0.007776928134263,0.067205727100372,-0.070039279758930,0.009430349804461,-0.010551957413554));
res += mul(Get(s0,0,dy), float4x4(-0.073461256921291,0.124604195356369,-0.063486292958260,-0.005928788799793,-0.171884387731552,0.047854948788881,0.045476786792278,-0.006236594170332,0.023166932165623,-0.031726092100143,0.026375168934464,-0.003117646323517,-0.002094468101859,-0.066561497747898,0.008933949284256,0.007690071128309));
res += mul(Get(s0,dx,-dy), float4x4(0.053998369723558,0.086279839277267,-0.047299489378929,-0.000405358325224,-0.024630786851048,-0.049788340926170,-0.058658398687840,-0.003920748364180,-0.043647445738316,0.028838183730841,-0.000566525442991,0.003586613805965,0.023098023608327,-0.058436598628759,-0.011580105870962,0.009105864912271));
res += mul(Get(s0,dx,0), float4x4(-0.134838476777077,0.003126590047032,0.070590510964394,-0.001393015612848,-0.008782217279077,-0.031671326607466,-0.038615029305220,-0.003929546102881,-0.006589652039111,0.021822800859809,0.009005138650537,0.002345507964492,-0.004480961244553,-0.061240050941706,-0.002409515203908,-0.004596652928740));
res += mul(Get(s0,dx,dy), float4x4(-0.023611806333065,0.055847626179457,-0.070325590670109,-0.013399416580796,-0.082254536449909,0.008576060645282,-0.005375892855227,0.007000669371337,-0.020472282543778,-0.001814851537347,0.026695648208261,0.005805785302073,-0.047220159322023,-0.035973384976387,-0.010096609592438,-0.004910313989967));
res += mul(Get(s1,-dx,-dy), float4x4(0.030252490192652,-0.003216265933588,0.014696860685945,-0.010345784947276,-0.011912649497390,0.012337774038315,0.030326023697853,-0.011376732029021,0.014969095587730,-0.018466718494892,0.032932642847300,0.003784809960052,0.041703846305609,0.047364752739668,-0.004102256614715,-0.006502061150968));
res += mul(Get(s1,-dx,0), float4x4(0.027726532891393,-0.036572232842445,-0.066604383289814,0.001876351889223,-0.013675498776138,0.002408230677247,0.021674716845155,-0.014101975597441,0.030635608360171,0.002063653664663,0.055824469774961,0.008140617981553,0.056527048349380,0.019540557637811,0.038014363497496,0.003920170478523));
res += mul(Get(s1,-dx,dy), float4x4(0.011816471815109,0.141503855586052,-0.085192389786243,-0.000331862189341,-0.018474668264389,0.001187263987958,0.013805028051138,-0.001191851682961,-0.032658278942108,0.001600406831130,-0.007029460743070,-0.014817650429904,0.077131748199463,-0.033301576972008,0.067520067095757,-0.013059115968645));
res += mul(Get(s1,0,-dy), float4x4(0.038655247539282,-0.035938687622547,0.132978275418282,-0.002679175464436,-0.022903217002749,0.016766201704741,0.012413379736245,-0.006114352494478,0.041193723678589,-0.027492485940456,0.028809636831284,-0.009551458992064,0.021441871300340,0.056489385664463,-0.021130196750164,-0.003664150135592));
res += mul(Get(s1,0,0), float4x4(0.024836869910359,0.025231858715415,-0.072317205369473,-0.005800340790302,-0.040695451200008,-0.033994518220425,0.038938824087381,0.006601768545806,0.103642143309116,-0.061445407569408,0.023523541167378,-0.002376940799877,0.029890745878220,-0.005677419714630,-0.013945571146905,0.000626678869594));
res += mul(Get(s1,0,dy), float4x4(-0.019556827843189,-0.080424554646015,-0.110837176442146,-0.002660761820152,-0.024085212498903,-0.050602804869413,0.016090080142021,-0.012935151346028,0.005286684725434,-0.055090259760618,-0.006219759583473,0.001310163992457,0.056623317301273,-0.014685159549117,0.075172685086727,-0.001630310784094));
res += mul(Get(s1,dx,-dy), float4x4(0.032732110470533,-0.026702247560024,0.067962951958179,-0.000091478475952,0.048440765589476,0.036775842308998,-0.000488437304739,0.002630148082972,0.034712046384811,-0.017053728923202,0.019169347360730,0.003688700962812,0.034344833344221,0.017392383888364,-0.016836930066347,0.000847453484312));
res += mul(Get(s1,dx,0), float4x4(-0.021598547697067,-0.025471333414316,-0.028641695156693,0.008709635585546,0.045928586274385,0.034948084503412,0.032865911722183,0.008820641785860,0.153045624494553,-0.093950882554054,-0.026019927114248,-0.007774322293699,0.094390176236629,-0.008820429444313,-0.008167082443833,0.000947356282268));
res += mul(Get(s1,dx,dy), float4x4(0.079448670148849,-0.111070379614830,-0.089739285409451,-0.005881425924599,0.025931935757399,0.007060623262078,0.029098058119416,0.003435404505581,0.000722795724869,-0.077098324894905,-0.002461548196152,0.009480303153396,0.046634111553431,-0.063037514686584,0.076401859521866,-0.004639110527933));
res += mul(Get(s2,-dx,-dy), float4x4(-0.110730931162834,-0.061880450695753,-0.125407338142395,0.004834081046283,-0.001379982917570,-0.062010005116463,-0.015822317451239,-0.000799930014182,0.157228901982307,0.053323034197092,-0.065949492156506,-0.004078417550772,-0.097867906093597,0.060461960732937,0.005122842732817,0.005634336732328));
res += mul(Get(s2,-dx,0), float4x4(-0.104359477758408,0.001132160890847,-0.006599072832614,-0.009959646500647,-0.023333452641964,-0.003000736702234,0.028959555551410,-0.008601218461990,0.102522656321526,-0.025354562327266,-0.027456410229206,0.006752647925168,-0.068410262465477,0.088887557387352,0.037833683192730,-0.006873891688883));
res += mul(Get(s2,-dx,dy), float4x4(0.000294474593829,0.045528676360846,0.103255294263363,-0.002078038873151,0.013341908343136,-0.031673658639193,0.028747037053108,-0.002006552414969,0.088656075298786,0.084946975111961,0.003413678612560,-0.003483527805656,0.016741650179029,-0.106031879782677,-0.033069740980864,-0.003918742295355));
res += mul(Get(s2,0,-dy), float4x4(0.003612371161580,-0.098255380988121,-0.106554016470909,0.002196632325649,-0.019805535674095,0.071350648999214,0.033791113644838,0.002400491852313,0.055609833449125,-0.062328148633242,-0.093248724937439,-0.010195413604379,-0.054642539471388,0.082960702478886,0.039457377046347,-0.005608858074993));
res += mul(Get(s2,0,0), float4x4(-0.012337042018771,0.030575115233660,0.009025002829731,0.007495522033423,-0.011728721670806,0.085318706929684,0.046838775277138,0.005319425370544,0.000305269641103,-0.020571259781718,-0.050833724439144,-0.010301066562533,0.052996266633272,0.033700350672007,0.074062541127205,-0.002662746002898));
res += mul(Get(s2,0,dy), float4x4(-0.005954043939710,0.145130708813667,0.121259741485119,0.004539600107819,-0.015985351055861,-0.042549312114716,0.035553563386202,-0.002707659965381,-0.062398467212915,0.003727348288521,-0.049236435443163,0.010811690241098,0.087099984288216,0.013305918313563,-0.047595247626305,-0.008479517884552));
res += mul(Get(s2,dx,-dy), float4x4(-0.021894671022892,0.082519203424454,-0.085702404379845,0.004020374733955,-0.016078736633062,0.015012452378869,0.081721104681492,0.007416081149131,-0.071284063160419,-0.140022516250610,-0.058392811566591,0.000267641240498,0.094649501144886,-0.042865246534348,-0.015279260464013,-0.014706705696881));
res += mul(Get(s2,dx,0), float4x4(0.101695984601974,0.133753955364227,-0.029363783076406,-0.018586456775665,0.064052507281303,-0.000762157724239,0.058286085724831,0.002416003495455,-0.101089112460613,-0.054126530885696,-0.035485684871674,-0.006532758940011,0.114619925618172,-0.029829280450940,-0.044186051934958,0.001295352238230));
res += mul(Get(s2,dx,dy), float4x4(0.018812330439687,0.060020487755537,0.016771275550127,-0.010652479715645,0.027755694463849,-0.116662852466106,0.030508294701576,0.003825877560303,-0.117303393781185,0.026342894881964,-0.054176114499569,-0.002597985090688,0.057036466896534,-0.009435872547328,-0.060033846646547,0.008055298589170));
res += mul(Get(s3,-dx,-dy), float4x4(-0.029325928539038,-0.044034171849489,-0.010900389403105,0.006403686013073,-0.018226766958833,-0.012494195252657,-0.078435592353344,-0.007056691218168,-0.006609451491386,0.040455590933561,0.122493699193001,0.000141678188811,-0.006342640612274,-0.000181720810360,-0.005704114679247,0.004588343668729));
res += mul(Get(s3,-dx,0), float4x4(-0.076313681900501,-0.051500134170055,-0.018275508657098,-0.002002505818382,0.037159252911806,-0.009754983708262,-0.012365463189781,-0.010107127018273,0.080200091004372,0.069620728492737,0.003063699230552,0.002338227583095,0.004372428636998,-0.005630733445287,0.003924615681171,-0.001441516797058));
res += mul(Get(s3,-dx,dy), float4x4(-0.078211113810539,0.013154476881027,0.041227545589209,-0.002700913930312,-0.019723499193788,0.021226242184639,-0.022611338645220,-0.007529034744948,0.048067402094603,0.044384554028511,-0.034323390573263,-0.003247337182984,-0.010487163439393,0.006427926011384,-0.006017392966896,0.012815475463867));
res += mul(Get(s3,0,-dy), float4x4(0.022965859621763,-0.024133829399943,-0.003236957127228,0.001613480038941,-0.056034117937088,0.141817733645439,-0.056645501405001,-0.006471259053797,-0.048380117863417,-0.109062939882278,0.176017776131630,0.003175609512255,-0.000137569921208,-0.001833987655118,-0.004675619769841,-0.008572659455240));
res += mul(Get(s3,0,0), float4x4(0.008231739513576,-0.058332413434982,-0.002012744313106,-0.001653359737247,-0.034849088639021,0.197167038917542,0.000714861031156,-0.006782028358430,0.003595991292968,-0.082299008965492,0.031236352398992,-0.001461833715439,0.000717201852240,0.011149144731462,-0.007271810434759,0.011627650819719));
res += mul(Get(s3,0,dy), float4x4(-0.022239057347178,-0.009069389663637,0.014125043526292,0.002054894110188,-0.079834558069706,0.146152764558792,-0.052946798503399,-0.004613378550857,-0.099829390645027,-0.004172699525952,-0.018787968903780,0.004567248746753,-0.002950912108645,0.001810766290873,-0.002685776678845,0.004209565930068));
res += mul(Get(s3,dx,-dy), float4x4(-0.032873135060072,-0.018465232104063,0.003897208021954,-0.002346777589992,0.044995125383139,-0.068132713437080,-0.018413541838527,-0.004174205008894,-0.023063499480486,-0.072018392384052,0.088694021105766,-0.004684839863330,0.003265053732321,-0.000288300856482,-0.004066392313689,0.000305260997266));
res += mul(Get(s3,dx,0), float4x4(-0.015837650746107,-0.057445641607046,-0.011718773283064,-0.006783234421164,0.038439933210611,0.052268460392952,-0.025928599759936,-0.009358316659927,-0.002956067211926,-0.093725919723511,0.056289248168468,0.009691523388028,0.013292628340423,-0.005456493236125,0.001943830517121,0.005765303038061));
res += mul(Get(s3,dx,dy), float4x4(0.000390093511669,-0.033293288201094,0.002983140526339,-0.004109246190637,-0.012652001343668,0.060823332518339,-0.032250270247459,-0.001030332408845,-0.040948141366243,-0.026247890666127,-0.010897264815867,-0.003114171326160,0.005944202654064,0.002629104536027,-0.005413473583758,-0.001829837681726));
res = max(float4(0,0,0,0), res);
return res;
}
