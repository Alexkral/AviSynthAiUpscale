sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.109835907816887,0.014952897094190,-0.198736503720284,-0.021033007651567,0.001646280405112,0.003181419568136,-0.003739510895684,0.001415218925104,-0.004932335112244,0.035046931356192,-0.082726761698723,-0.089318893849850,-0.047765828669071,-0.002115371637046,-0.079297788441181,-0.000624844979029));
res += mul(Get(s0,-dx,0), float4x4(0.067842744290829,-0.012567363679409,-0.089972466230392,0.048594508320093,-0.006432152353227,-0.011027934029698,0.005606832448393,0.001358829671517,0.020370230078697,-0.029975892975926,-0.022926984354854,0.034107957035303,-0.017569804564118,0.041955273598433,-0.116451933979988,0.033715631812811));
res += mul(Get(s0,-dx,dy), float4x4(-0.023927522823215,0.068447940051556,-0.016835369169712,0.057957295328379,0.000878125836607,-0.008970922790468,-0.001670891069807,0.003896978450939,0.004670157097280,-0.062188625335693,-0.063293747603893,0.044370211660862,-0.057800203561783,0.051483448594809,-0.004317923448980,0.059733055531979));
res += mul(Get(s0,0,-dy), float4x4(0.068627297878265,-0.023406699299812,-0.172541692852974,-0.033110231161118,0.001820049830712,0.009345503523946,0.001126822666265,0.002513028215617,0.006540723610669,0.045468207448721,-0.117969676852226,-0.025520648807287,-0.012135832570493,-0.041888695210218,-0.096111312508583,-0.017296403646469));
res += mul(Get(s0,0,0), float4x4(-0.062608107924461,-0.081088609993458,-0.125193521380424,-0.014526397921145,0.006023388355970,0.007771598175168,-0.002887106966227,-0.007134853862226,-0.007789907511324,-0.045384205877781,0.000557093415409,-0.003107821801677,-0.011909276247025,0.072353251278400,-0.167091518640518,-0.026829333975911));
res += mul(Get(s0,0,dy), float4x4(-0.033756427466869,-0.038678929209709,0.068480178713799,-0.015974108129740,0.003357061184943,-0.011687933467329,0.010864555835724,-0.004686584696174,-0.034983787685633,0.012487879022956,-0.015506126917899,0.001069642370567,-0.064807228744030,0.021531146019697,-0.067237980663776,0.030401490628719));
res += mul(Get(s0,dx,-dy), float4x4(0.026374429464340,-0.072383664548397,-0.002042574808002,-0.115729294717312,-0.003358840011060,-0.012190824374557,0.022394150495529,-0.000681911129504,-0.010801579803228,0.032099798321724,-0.051647283136845,0.025212217122316,-0.008868640288711,0.037145707756281,-0.049045138061047,-0.016799546778202));
res += mul(Get(s0,dx,0), float4x4(-0.088517583906651,-0.108109973371029,-0.052108999341726,-0.021325498819351,0.003337346017361,-0.005950223188847,0.007156832143664,0.003141170833260,-0.026120085269213,-0.009040254168212,0.051631677895784,0.013571580871940,-0.021384768188000,0.066154092550278,-0.084254302084446,0.025614965707064));
res += mul(Get(s0,dx,dy), float4x4(-0.063140965998173,-0.009986060671508,0.144177824258804,0.022136358544230,-0.009043464437127,-0.027845019474626,0.010557247325778,-0.007089423481375,-0.050924878567457,0.076023742556572,0.054152399301529,-0.014536146074533,-0.061857599765062,-0.001740785897709,-0.030346963554621,0.050204928964376));
res += mul(Get(s1,-dx,-dy), float4x4(0.019188500940800,0.048153277486563,-0.148965358734131,-0.007152425125241,-0.039188005030155,0.049240700900555,0.005659576971084,-0.048785369843245,0.000891798059456,0.005025813821703,-0.025286687538028,-0.002891239477322,0.056653190404177,-0.136208787560463,0.049884807318449,-0.009388144128025));
res += mul(Get(s1,-dx,0), float4x4(0.064971312880516,-0.058462332934141,-0.124088048934937,0.061432272195816,-0.028311796486378,0.093158125877380,-0.071536973118782,-0.024277949705720,0.017766341567039,-0.006880077999085,0.007174412719905,-0.008597088977695,0.060930721461773,-0.059472396969795,0.054361712187529,0.089758947491646));
res += mul(Get(s1,-dx,dy), float4x4(0.070830240845680,-0.171200618147850,-0.011830775998533,0.101071581244469,0.081382349133492,-0.035963006317616,-0.028586536645889,-0.028191810473800,-0.003278893185779,0.010532543063164,-0.002517733024433,0.007629896514118,-0.055325869470835,0.200924873352051,-0.036369916051626,0.033952116966248));
res += mul(Get(s1,0,-dy), float4x4(-0.044383559376001,0.023727351799607,-0.132211700081825,-0.081883631646633,-0.002670702524483,-0.040627740323544,0.064850218594074,-0.004636720754206,0.013857745565474,0.022391451522708,0.014474912546575,0.003987601492554,-0.038570385426283,-0.070213839411736,-0.046519014984369,-0.011715614236891));
res += mul(Get(s1,0,0), float4x4(-0.067942865192890,-0.021311996504664,-0.101033851504326,0.000461207964690,0.040692903101444,-0.076186060905457,-0.003094516927376,0.036457017064095,0.013605409301817,0.024328252300620,0.052922137081623,-0.009014253504574,-0.124541535973549,0.400285392999649,0.144946753978729,-0.184325188398361));
res += mul(Get(s1,0,dy), float4x4(-0.046646568924189,-0.081419631838799,-0.041193649172783,0.067038588225842,0.060003548860550,0.007624648977071,0.025403011590242,-0.065942578017712,-0.016826402395964,0.000175791908987,0.025614207610488,0.008799375966191,-0.077752649784088,-0.509921193122864,-0.097845420241356,-0.085296683013439));
res += mul(Get(s1,dx,-dy), float4x4(-0.019404195249081,0.019313685595989,-0.049295518547297,-0.060932882130146,0.098032332956791,-0.060389686375856,-0.022991526871920,0.017915947362781,-0.010914638638496,0.002068028319627,0.049206901341677,0.000471409002785,-0.114543765783310,-0.016517652198672,0.017171984538436,-0.020513270050287));
res += mul(Get(s1,dx,0), float4x4(-0.083940446376801,-0.008461616933346,-0.055778756737709,-0.047249071300030,0.141266316175461,-0.020460408180952,-0.018216533586383,0.144005700945854,-0.030406959354877,0.009343986399472,0.055496118962765,0.004766180180013,-0.052194479852915,0.121121793985367,0.006549573037773,0.092295132577419));
res += mul(Get(s1,dx,dy), float4x4(-0.001861170982011,0.049008302390575,-0.034984890371561,-0.008302115835249,0.043070301413536,0.041980635374784,0.055767655372620,0.067974776029587,-0.080490723252296,0.015980837866664,0.029173454269767,0.016117572784424,-0.015709465369582,-0.222192227840424,-0.056613922119141,0.036400824785233));
res += mul(Get(s2,-dx,-dy), float4x4(0.063143610954285,0.058569710701704,0.026925731450319,-0.002474197885022,0.035917561501265,0.065712004899979,-0.152181193232536,-0.032028958201408,0.030265048146248,0.003207032568753,-0.012963732704520,0.062075823545456,-0.010417461395264,0.003517056582496,-0.004716229625046,0.001453676144592));
res += mul(Get(s2,-dx,0), float4x4(0.027075476944447,-0.046979229897261,0.015834178775549,0.020237486809492,0.074423879384995,0.066771522164345,-0.136886075139046,-0.019923698157072,-0.029446786269546,-0.015252642333508,0.056291431188583,0.058618556708097,-0.005468193907291,0.004542877897620,-0.001114041777328,0.003325026482344));
res += mul(Get(s2,-dx,dy), float4x4(0.048621527850628,-0.001600422081538,0.012423726730049,-0.064355231821537,-0.063186660408974,0.089742295444012,-0.073775142431259,0.021510837599635,-0.021407580003142,-0.013969254679978,0.037044797092676,0.031435050070286,-0.005640453193337,0.003833885770291,0.005477082915604,0.001742251100950));
res += mul(Get(s2,0,-dy), float4x4(0.055237963795662,0.041729617863894,-0.018634976819158,0.026731457561255,0.157538369297981,0.000302743894281,-0.106356628239155,-0.127275139093399,0.020455034449697,0.023244487121701,-0.035241350531578,0.053914703428745,-0.003871018067002,-0.001638029236346,0.004055100493133,-0.003641932504252));
res += mul(Get(s2,0,0), float4x4(0.095631390810013,-0.057969201356173,0.047306105494499,0.022015437483788,0.066512010991573,0.122498117387295,-0.100459866225719,-0.022569863125682,-0.055690981447697,-0.067862607538700,0.031562104821205,0.098419301211834,-0.010335068218410,0.001836069626734,0.007754245772958,0.007429094519466));
res += mul(Get(s2,0,dy), float4x4(0.079511031508446,-0.076105333864689,0.069141961634159,-0.024758612737060,-0.101384676992893,-0.016047894954681,-0.026148002594709,0.114356875419617,-0.027067041024566,-0.072434470057487,0.065808549523354,0.027765091508627,0.005587373860180,0.008009171113372,-0.010189957916737,-0.001536348951049));
res += mul(Get(s2,dx,-dy), float4x4(0.070108294487000,0.056721024215221,-0.006369524635375,-0.039937790483236,-0.041106790304184,0.072504758834839,0.197211876511574,-0.137202560901642,-0.009281303733587,-0.008703858591616,-0.022667797282338,0.062004711478949,0.000489420315716,0.003984987735748,-0.004995068069547,-0.000338728859788));
res += mul(Get(s2,dx,0), float4x4(0.111668966710567,0.027151564136147,-0.002285991562530,-0.062909953296185,-0.088064648211002,-0.022161683067679,0.168216407299042,-0.017353154718876,-0.040593724697828,-0.110795624554157,0.054581359028816,0.113750137388706,0.005413044244051,0.007582957856357,0.011053151451051,-0.001602182979695));
res += mul(Get(s2,dx,dy), float4x4(0.055121347308159,-0.025005728006363,0.034686934202909,-0.009611543267965,-0.178178548812866,-0.009647344239056,0.108454234898090,0.037558946758509,-0.018503399565816,-0.058025732636452,0.088150225579739,0.069673143327236,0.005371812731028,-0.007764277048409,0.000518521759659,-0.003777976846322));
res += mul(Get(s3,-dx,-dy), float4x4(-0.077220983803272,0.008231603540480,0.045103445649147,-0.016947463154793,-0.031624462455511,0.007578631862998,0.001010068575852,0.011915932409465,-0.007231427356601,0.019893318414688,0.047484304755926,-0.039812471717596,0.002253116108477,-0.031884238123894,0.010036892257631,0.019222484901547));
res += mul(Get(s3,-dx,0), float4x4(-0.031299587339163,0.019922200590372,0.051686812192202,-0.005055263172835,-0.016050906851888,0.011951572261751,-0.000601199979428,0.006827984470874,0.019592544063926,-0.021522458642721,0.036638379096985,0.009044222533703,-0.012380765751004,0.013387524522841,0.053303916007280,-0.054554559290409));
res += mul(Get(s3,-dx,dy), float4x4(-0.015818366780877,-0.003329176688567,-0.033483035862446,0.045375294983387,0.007826935499907,0.015435751527548,0.005079862661660,0.002277369843796,0.052748635411263,0.049164783209562,0.052400123327971,0.055008344352245,0.031633328646421,-0.011372502893209,-0.031852655112743,0.001557759125717));
res += mul(Get(s3,0,-dy), float4x4(-0.069278582930565,-0.020527167245746,0.065797366201878,0.010250052437186,0.006648910697550,0.018437774851918,0.006490654777735,-0.009879400022328,-0.019457800313830,-0.033133830875158,0.132621839642525,0.010808492079377,0.006183674558997,0.003961353562772,0.079656153917313,-0.005763859953731));
res += mul(Get(s3,0,0), float4x4(-0.051598012447357,-0.017232110723853,0.076645120978355,0.010301170870662,0.008408334106207,-0.006965759210289,-0.010554037056863,0.003832706948742,0.013870569877326,-0.005650241393596,0.066432744264603,0.013940671458840,0.066823571920395,0.016854656860232,0.138096943497658,-0.078650556504726));
res += mul(Get(s3,0,dy), float4x4(-0.018375387415290,-0.005784985143691,-0.028430748730898,0.052591536194086,-0.004957525990903,-0.005320033058524,0.009853153489530,0.006964407861233,0.019796758890152,0.127760261297226,-0.009582553058863,0.105036228895187,0.086601741611958,-0.026637993752956,0.044514566659927,0.041535198688507));
res += mul(Get(s3,dx,-dy), float4x4(0.028862657025456,0.005009812768549,0.025289408862591,0.039309367537498,0.055800847709179,0.008044632151723,0.106292046606541,-0.040571071207523,-0.016197137534618,0.013664536178112,0.033815689384937,-0.004148589912802,0.095433846116066,-0.028802389279008,0.110854282975197,-0.017563948407769));
res += mul(Get(s3,dx,0), float4x4(0.004508361220360,-0.034614145755768,0.087591692805290,0.081481494009495,-0.004523732699454,-0.003240299643949,0.026307547464967,-0.024456880986691,0.028503714129329,-0.044863384217024,0.045316088944674,0.019052937626839,0.160738453269005,-0.018894607201219,0.154025331139565,-0.017041666433215));
res += mul(Get(s3,dx,dy), float4x4(-0.013404612429440,0.005646966397762,0.017825901508331,0.113599963486195,-0.031905606389046,-0.046093489974737,0.020130889490247,0.017466470599174,-0.061758205294609,0.034947134554386,0.055537458509207,0.136495932936668,-0.041028287261724,0.021205704659224,0.095152787864208,0.098419465124607));
res = max(float4(0,0,0,0), res);
return res;
}
