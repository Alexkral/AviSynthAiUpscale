sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.068590067327023,0.054294869303703,-0.044566776603460,-0.031058844178915,0.041272636502981,0.038278046995401,0.052782770246267,0.086966432631016,-0.032183595001698,0.038457728922367,0.063889674842358,0.038454294204712,0.055036298930645,-0.013259384781122,-0.101595528423786,-0.036905676126480));
res += mul(Get(s0,-dx,0), float4x4(0.091104872524738,0.069309219717979,-0.022835902869701,-0.029139466583729,0.043074578046799,-0.002974058035761,-0.000124886020785,0.088609419763088,-0.114364288747311,-0.002574794925749,0.054185688495636,0.068793497979641,0.010339399799705,0.006204682402313,-0.069262810051441,-0.008881472982466));
res += mul(Get(s0,-dx,dy), float4x4(0.113861367106438,-0.009603195823729,-0.002337804064155,-0.019639547914267,-0.017100017517805,-0.016055773943663,-0.017697868868709,0.007273729890585,-0.027753772214055,-0.023365063592792,0.006132131908089,0.041502807289362,-0.047601204365492,-0.046186536550522,0.019406037405133,0.022840285673738));
res += mul(Get(s0,0,-dy), float4x4(0.082658037543297,0.055771932005882,0.005439640022814,0.003129748627543,-0.063780933618546,0.054071541875601,0.087015517055988,0.075584314763546,0.067184276878834,0.070766441524029,0.124707840383053,-0.084297291934490,0.024704383686185,0.044569700956345,-0.012719227001071,-0.032474789768457));
res += mul(Get(s0,0,0), float4x4(0.107057794928551,0.018246892839670,0.023582942783833,-0.034848455339670,0.054556325078011,0.020853118970990,0.063214980065823,-0.014414127916098,0.052701376378536,0.074354991316795,0.010376441292465,0.070342309772968,0.018045566976070,-0.014172614552081,-0.105399392545223,-0.076188296079636));
res += mul(Get(s0,0,dy), float4x4(0.094967760145664,0.026058964431286,-0.000976401381195,-0.033786240965128,-0.090065494179726,0.004094323143363,-0.044415075331926,-0.012588333338499,-0.113457940518856,0.061917588114738,-0.031966689974070,-0.018225271254778,-0.046410638839006,-0.053258124738932,0.200462549924850,-0.030095379799604));
res += mul(Get(s0,dx,-dy), float4x4(0.008127079345286,0.005417518783361,0.022194314748049,-0.019802290946245,-0.127716377377510,0.040455825626850,0.031003179028630,0.067074254155159,0.111162267625332,-0.081636019051075,0.055689387023449,-0.022841719910502,0.063088715076447,0.010082876309752,-0.073978237807751,-0.047885186970234));
res += mul(Get(s0,dx,0), float4x4(0.065587259829044,-0.013522682711482,0.008532026782632,0.017760543152690,-0.050345737487078,-0.013610884547234,-0.009422142989933,-0.029594643041492,0.043326199054718,-0.091221727430820,0.007923196069896,-0.097719751298428,0.017759891226888,0.013296889141202,-0.008064848370850,-0.045100525021553));
res += mul(Get(s0,dx,dy), float4x4(0.032511822879314,-0.005024409387261,-0.003796892473474,-0.003611176041886,-0.154612481594086,-0.000519689521752,-0.040117148309946,0.052225779742002,-0.111151024699211,-0.011484840884805,-0.096845887601376,-0.021218350157142,-0.037150323390961,-0.119004152715206,0.104144297540188,0.051990084350109));
res += mul(Get(s1,-dx,-dy), float4x4(0.022416224703193,-0.028725100681186,-0.015225746668875,0.006301724817604,-0.003141346620396,-0.066521972417831,-0.067178130149841,-0.095802441239357,-0.034003853797913,-0.045383892953396,0.044611267745495,0.091923378407955,0.024287886917591,-0.012480570003390,-0.054900050163269,0.065144479274750));
res += mul(Get(s1,-dx,0), float4x4(-0.039367206394672,0.014843462966383,-0.048959847539663,0.010314379818738,0.057867996394634,0.030406478792429,0.052078772336245,-0.025223391130567,-0.030229339376092,-0.021909153088927,-0.120263308286667,-0.021310653537512,0.013711581006646,0.050360687077045,0.018546033650637,0.045522507280111));
res += mul(Get(s1,-dx,dy), float4x4(-0.087260141968727,-0.084565214812756,-0.031282395124435,-0.096323467791080,-0.081516854465008,-0.091668769717216,-0.062070302665234,0.056175269186497,-0.059943653643131,0.001437926199287,-0.104020059108734,0.046529371291399,0.022702118381858,0.022040396928787,-0.008829818107188,0.043399099260569));
res += mul(Get(s1,0,-dy), float4x4(0.033364698290825,0.036430142819881,-0.024980464950204,0.124481745064259,0.123061269521713,-0.008560881949961,-0.053124696016312,-0.039152968674898,-0.100399710237980,-0.043682835996151,0.072370439767838,0.022636633366346,0.039828520268202,0.013671869412065,-0.089357696473598,0.077755808830261));
res += mul(Get(s1,0,0), float4x4(-0.032505992799997,0.024064842611551,-0.050882555544376,-0.034627977758646,0.065291687846184,-0.039614822715521,0.056496106088161,-0.005825081374496,-0.024576360359788,-0.007183962035924,-0.106752105057240,-0.025828251615167,0.013733011670411,0.049774736166000,0.010601228103042,0.018769742920995));
res += mul(Get(s1,0,dy), float4x4(-0.063494347035885,0.020408317446709,0.028454937040806,-0.030748991295695,-0.096730761229992,-0.057435847818851,-0.003873642534018,0.016764350235462,-0.023892391473055,0.010145268402994,-0.085780277848244,-0.026974139735103,0.049032092094421,0.026893340051174,-0.046754784882069,0.005171571858227));
res += mul(Get(s1,dx,-dy), float4x4(0.013968459330499,0.086012326180935,-0.049381546676159,0.080066040158272,0.074632115662098,-0.044623423367739,0.020423991605639,0.005624227691442,-0.086730755865574,-0.012146898545325,0.021183064207435,0.056727956980467,-0.018978500738740,0.008064160123467,-0.058255881071091,0.109938189387321));
res += mul(Get(s1,dx,0), float4x4(0.029309144243598,0.008930902928114,-0.062145151197910,-0.019025972113013,-0.046166438609362,-0.038088697940111,-0.010249277576804,0.041310716420412,-0.051461867988110,-0.007055808324367,-0.039779275655746,-0.031689658761024,-0.056102715432644,-0.020517798140645,-0.008529172278941,-0.004809553734958));
res += mul(Get(s1,dx,dy), float4x4(0.007837491109967,-0.019363747909665,-0.000959634780884,0.019215021282434,-0.072708331048489,-0.099893309175968,0.061103798449039,0.015031369403005,-0.003890305757523,-0.062070380896330,-0.057503603398800,-0.021386317908764,0.073486670851707,-0.016787447035313,-0.024400701746345,-0.021581897512078));
res += mul(Get(s2,-dx,-dy), float4x4(-0.011145778931677,0.085529863834381,-0.024403588846326,-0.010883887298405,0.015658663585782,0.039809644222260,0.008138136006892,-0.063995718955994,-0.009762356057763,0.030113885179162,0.022467138245702,0.053231410682201,0.039058689028025,-0.020711442455649,-0.064898274838924,0.018421690911055));
res += mul(Get(s2,-dx,0), float4x4(-0.042063206434250,0.124136947095394,-0.008255972526968,-0.000372723443434,0.044472608715296,0.043691355735064,-0.020275661721826,-0.036523368209600,0.026458783075213,0.007523875217885,0.009918193332851,-0.015898533165455,0.107252955436707,-0.040613066405058,-0.003535085823387,0.028894193470478));
res += mul(Get(s2,-dx,dy), float4x4(0.011386306025088,0.055591713637114,0.029333043843508,-0.028787264600396,-0.009402760304511,-0.025284668430686,0.033715073019266,0.016558703035116,0.024234998971224,0.018994104117155,0.073108680546284,0.030505020171404,0.062228504568338,-0.022207219153643,-0.072389192879200,0.024039257317781));
res += mul(Get(s2,0,-dy), float4x4(0.009190998971462,0.031408805400133,0.004050995223224,0.037956368178129,0.082059018313885,0.030126061290503,-0.019491495564580,-0.006534113083035,0.020195808261633,0.053346484899521,0.008794035762548,-0.001162671949714,0.013664825819433,-0.002308819210157,-0.055946126580238,-0.007477888371795));
res += mul(Get(s2,0,0), float4x4(0.120589330792427,0.094896525144577,-0.022330084815621,0.020125567913055,0.016182972118258,-0.003327500075102,-0.102738663554192,-0.082575365900993,-0.065205611288548,0.048231329768896,0.029489772394300,-0.101243644952774,0.111650772392750,-0.050201416015625,0.033729646354914,-0.021045444533229));
res += mul(Get(s2,0,dy), float4x4(0.087327748537064,-0.018630499020219,0.008927579037845,-0.064504280686378,-0.047708876430988,-0.044050872325897,0.021014496684074,0.022232601419091,-0.000347966182744,0.077944986522198,0.151963606476784,0.056778762489557,0.010650721378624,-0.035201061517000,-0.069944448769093,0.038757503032684));
res += mul(Get(s2,dx,-dy), float4x4(0.019081635400653,-0.003748313523829,-0.036082405596972,-0.009041184559464,0.028394564986229,-0.006758589763194,-0.039430350065231,0.017618577927351,-0.007078172173351,0.080825880169868,0.000532965292223,-0.025052240118384,0.014887782745063,-0.033929735422134,0.011664860881865,0.016901679337025));
res += mul(Get(s2,dx,0), float4x4(0.061146892607212,-0.035403989255428,-0.039050035178661,-0.042300157248974,0.036634180694818,0.003783791791648,-0.130312785506248,-0.060718506574631,-0.071920000016689,0.045824944972992,0.035030961036682,-0.060748368501663,-0.008455195464194,-0.048168625682592,0.053577698767185,0.041975721716881));
res += mul(Get(s2,dx,dy), float4x4(0.045975044369698,-0.001231377013028,-0.001144453650340,-0.071670532226563,0.007731138728559,-0.078514404594898,-0.069757960736752,0.001745939720422,-0.015289325267076,0.047137059271336,0.076027609407902,0.024440856650472,0.038613662123680,-0.070323683321476,-0.042602296918631,0.039507620036602));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006399229634553,0.110304325819016,0.005848694592714,-0.008493745699525,-0.050955854356289,0.022046349942684,-0.054054506123066,0.015282088890672,0.085471309721470,-0.018658241257071,-0.038716230541468,0.026070805266500,0.001736526028253,-0.013523948378861,0.018723506480455,0.063068784773350));
res += mul(Get(s3,-dx,0), float4x4(-0.075007319450378,0.106406576931477,-0.006032687611878,0.011012635193765,-0.007077052257955,0.054643601179123,-0.024071078747511,-0.055105112493038,0.125105306506157,-0.025482788681984,-0.054782565683126,-0.006726984865963,-0.015117153525352,-0.055995289236307,0.051327485591173,0.042074475437403));
res += mul(Get(s3,-dx,dy), float4x4(0.018709622323513,0.038012586534023,-0.066373616456985,-0.005415677092969,-0.018700197339058,-0.002667533000931,0.018690880388021,0.069635450839996,0.073536008596420,-0.047814730554819,-0.051606301218271,-0.059777058660984,0.011261159554124,-0.023542633280158,0.001706607639790,0.049148328602314));
res += mul(Get(s3,0,-dy), float4x4(0.052530832588673,-0.011521486565471,0.055292095988989,0.004894719459116,-0.028841381892562,0.079368956387043,0.034366022795439,0.040872871875763,0.018216941505671,-0.046085227280855,-0.011146480217576,0.060830984264612,0.041842147707939,0.036921851336956,0.003656030166894,0.035729799419641));
res += mul(Get(s3,0,0), float4x4(0.030172597616911,0.030146466568112,-0.003747765906155,-0.011151974089444,-0.064078569412231,0.071538485586643,0.081629849970341,-0.026891417801380,0.118147671222687,-0.029873298481107,-0.034256674349308,-0.076445966959000,-0.033221114426851,-0.031557310372591,-0.007964951917529,0.020525265485048));
res += mul(Get(s3,0,dy), float4x4(0.007514174561948,-0.015410403721035,0.000134025598527,-0.061191137880087,-0.030507521703839,-0.020356711000204,0.078839965164661,0.003555010072887,0.022304801270366,0.012972098775208,-0.040573094040155,-0.019382933154702,0.015439996495843,-0.001872517983429,0.085038363933563,-0.002092694398016));
res += mul(Get(s3,dx,-dy), float4x4(0.007010256871581,-0.050798039883375,0.018540842458606,0.038818489760160,0.005980475805700,0.026869179680943,0.048612542450428,0.055417992174625,0.031767304986715,-0.010815017856658,-0.036656904965639,0.048625111579895,-0.000627358211204,0.051199655979872,-0.062985144555569,-0.013142335228622));
res += mul(Get(s3,dx,0), float4x4(0.085232794284821,-0.001847866340540,-0.028237676247954,-0.023830899968743,0.077890589833260,-0.045240931212902,0.037050619721413,-0.051974639296532,0.016027146950364,0.005167728289962,-0.032775852829218,0.042802873998880,-0.026581030339003,-0.010118227452040,-0.026250019669533,0.036174748092890));
res += mul(Get(s3,dx,dy), float4x4(-0.027443030849099,-0.022263033315539,0.028716776520014,-0.012598520144820,0.033980585634708,-0.063672475516796,0.053783308714628,-0.042327877134085,-0.029970159754157,0.023659273982048,-0.060451284050941,-0.002822053385898,-0.012492033652961,0.010528268292546,0.101741574704647,0.038481131196022));
res = max(float4(0,0,0,0), res);
return res;
}
