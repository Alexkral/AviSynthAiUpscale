sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002396219177172,-0.003762397449464,-0.058442045003176,-0.039625424891710,0.000796390464529,-0.003501522820443,-0.038178026676178,-0.010452286340296,0.009898263029754,-0.020549029111862,-0.020957872271538,-0.013020327314734,-0.002758320886642,0.006578464061022,-0.001556321163662,-0.006468497216702));
res += mul(Get(s0,-dx,0), float4x4(-0.010143376886845,-0.030566807836294,-0.048514604568481,-0.001598205883056,0.004985424689949,-0.012780561111867,-0.052250314503908,-0.028955599293113,-0.001297912909649,-0.006465602200478,-0.039578992873430,0.025240464136004,-0.004375894088298,-0.004604462534189,-0.002970464527607,-0.012312867678702));
res += mul(Get(s0,-dx,dy), float4x4(0.005559485871345,-0.026391468942165,-0.056444782763720,0.096022740006447,-0.005007338244468,-0.017185134813190,-0.014128115028143,-0.024647867307067,-0.006311282049865,-0.000809851509985,-0.036649942398071,0.015047214925289,-0.000257933948888,-0.003407179843634,-0.002626925706863,-0.005793732125312));
res += mul(Get(s0,0,-dy), float4x4(0.002907883143052,-0.023465560749173,0.029969798400998,-0.115196041762829,-0.007464068941772,0.022245626896620,0.002345400163904,-0.022676531225443,-0.000960917619523,-0.000049227841373,0.012563258409500,-0.022033793851733,-0.003679237095639,0.020652705803514,0.007684794720262,0.001463051070459));
res += mul(Get(s0,0,0), float4x4(0.003618209622800,-0.069874770939350,0.130008697509766,-0.066951140761375,0.006156468763947,0.011659566313028,0.024062043055892,-0.024109052494168,0.001252452144399,0.011846670880914,-0.046586945652962,0.015871357172728,-0.017419524490833,0.014798241667449,0.017920937389135,0.004095029085875));
res += mul(Get(s0,0,dy), float4x4(-0.017189837992191,-0.064781412482262,0.073962569236755,0.045558448880911,-0.015348639339209,-0.022878972813487,0.087166674435139,-0.034128680825233,-0.006800937000662,0.032273568212986,-0.040865391492844,0.010263930074871,-0.008779744617641,0.012770818546414,-0.012921251356602,0.004636293277144));
res += mul(Get(s0,dx,-dy), float4x4(0.003917585592717,0.017922375351191,0.026406280696392,-0.085298374295235,0.001838202821091,0.040453914552927,-0.013240111991763,-0.044155526906252,0.017714966088533,0.019907232373953,-0.001580693293363,-0.028463006019592,-0.001611192827113,0.029515381902456,0.010041505098343,0.016704138368368));
res += mul(Get(s0,dx,0), float4x4(0.000534981954843,-0.035358626395464,0.036144994199276,-0.102205075323582,0.000019190745661,0.055195279419422,-0.027720551937819,-0.028861662372947,-0.000235386047279,0.049059353768826,-0.042265262454748,-0.023310296237469,-0.005986290052533,0.024859931319952,-0.004785553086549,-0.014077923260629));
res += mul(Get(s0,dx,dy), float4x4(0.003262938233092,-0.026205699890852,-0.038261137902737,-0.006761071737856,0.004585164133459,0.044137656688690,0.004942194093019,-0.030010007321835,-0.010108854621649,0.041357345879078,-0.026227641850710,-0.011212753131986,-0.003823870792985,0.011008611880243,0.001322135562077,0.006376246456057));
res += mul(Get(s1,-dx,-dy), float4x4(0.005570558831096,-0.001883363234811,0.017073983326554,-0.000832655001432,-0.008741836994886,-0.023612245917320,-0.053822241723537,-0.066660702228546,-0.004064000677317,0.007608518470079,0.021672666072845,0.002250047633424,-0.000816006911919,-0.004790490027517,0.010501061566174,0.005448664538562));
res += mul(Get(s1,-dx,0), float4x4(0.003245343687013,-0.000892913725693,0.000394736969611,0.000077490978583,-0.011759195476770,-0.029822371900082,-0.030099298804998,-0.013228085823357,-0.009794468991458,-0.000756100052968,-0.012007935903966,0.012346857227385,-0.005112985614687,-0.005031725391746,0.014218604192138,-0.003740585641935));
res += mul(Get(s1,-dx,dy), float4x4(-0.002530199009925,-0.015166036784649,-0.011370272375643,-0.001479976228438,0.002474530832842,-0.023210769519210,-0.047050479799509,0.069566480815411,-0.005847977939993,-0.007793452590704,0.019763721153140,0.019425675272942,0.005029000807554,0.000624737644102,0.005546272732317,-0.006486685015261));
res += mul(Get(s1,0,-dy), float4x4(-0.007044825702906,-0.008477580733597,0.005721617490053,0.000453944783658,-0.001908843638375,0.006146996282041,0.001288614701480,-0.066132761538029,-0.011930996552110,0.005423568189144,0.005843092221767,-0.004520676098764,-0.005192031152546,-0.002565814182162,0.004103745799512,0.009198637679219));
res += mul(Get(s1,0,0), float4x4(-0.009174489416182,-0.000088861903350,-0.009884905070066,-0.008936308324337,-0.013799430802464,-0.014423363842070,0.020866349339485,-0.088035136461258,-0.000873943557963,0.010456478223205,-0.016409730538726,0.015298195183277,-0.013902778737247,0.000527468451764,0.006996770389378,-0.007380451541394));
res += mul(Get(s1,0,dy), float4x4(0.004625382833183,0.000435431516962,0.004115450661629,0.000285499991151,0.003350539365783,-0.010335656814277,-0.004828704521060,0.002612415235490,0.000258114247117,0.007669011130929,-0.009741358458996,0.020326798781753,0.006737864576280,0.007809788454324,-0.001196309458464,-0.005891360808164));
res += mul(Get(s1,dx,-dy), float4x4(-0.000978025374934,-0.004891061224043,-0.014406081289053,0.007612238638103,-0.001126415212639,0.029369644820690,-0.000012838005205,-0.054038647562265,-0.002048765774816,0.022287731990218,0.001156272133812,0.003907356411219,0.001386245829053,0.009371339343488,0.005527163390070,-0.005516554228961));
res += mul(Get(s1,dx,0), float4x4(-0.000962708611041,0.004403092898428,0.018883498385549,-0.014621767215431,-0.003959176596254,-0.003276341129094,0.047479800879955,-0.090613760054111,-0.003355421358719,0.012735962867737,-0.006693933159113,0.017283458262682,0.000447739264928,-0.001546266139485,0.003565301652998,0.011823697946966));
res += mul(Get(s1,dx,dy), float4x4(-0.014577485620975,0.000594946730416,0.002073912415653,-0.004320573527366,0.008762228302658,0.010845685377717,-0.004992104601115,-0.020816765725613,-0.003566112834960,-0.009424913674593,-0.002794338390231,-0.002439524745569,0.000806872674730,0.004963670857251,0.011972997337580,0.003241999074817));
res += mul(Get(s2,-dx,-dy), float4x4(-0.005651129875332,-0.003030654508621,0.014009267091751,0.001402139081620,0.005607665516436,0.009288746863604,-0.000345614709659,-0.001126348390244,0.002812433056533,0.002037612954155,-0.032364446669817,0.038596779108047,-0.016168078407645,0.010737213306129,0.002558067906648,0.005217191763222));
res += mul(Get(s2,-dx,0), float4x4(-0.000178341855644,-0.008270368911326,-0.006561947520822,-0.002164481906220,-0.011238130740821,-0.000289000745397,0.001069796038792,0.004031401593238,-0.014231408014894,0.001444783527404,-0.015869781374931,0.027577228844166,0.010786416009068,0.002171703148633,0.001323597971350,-0.010932812467217));
res += mul(Get(s2,-dx,dy), float4x4(-0.004551958758384,-0.000602473155595,-0.005957044195384,-0.003917348105460,-0.005311217624694,-0.004631666932255,-0.003014484187588,0.011398607864976,-0.009176192805171,0.005749478936195,-0.018431870266795,0.018668999895453,-0.023626783862710,-0.000271025026450,0.003199549857527,-0.013414709828794));
res += mul(Get(s2,0,-dy), float4x4(0.005263220518827,0.005896690301597,0.014355440624058,-0.002517841523513,-0.001403021859005,0.001869748695754,0.026851659640670,-0.000846049922984,-0.003387216012925,-0.002773931715637,-0.045962285250425,0.006016874685884,0.006596593186259,0.010188786312938,0.000260057626292,-0.006944604218006));
res += mul(Get(s2,0,0), float4x4(-0.009236808866262,0.005232512019575,0.007205287925899,0.000871530617587,-0.007237125653774,0.009250317700207,0.022136712446809,-0.008429424837232,-0.005097574554384,-0.006844592746347,-0.016229376196861,0.053557854145765,-0.000518486718647,0.011539110913873,0.009916267357767,0.004129957407713));
res += mul(Get(s2,0,dy), float4x4(0.004266607575119,-0.004372957162559,0.004662166349590,-0.004010407254100,0.004081688821316,-0.001366783981211,0.013104075565934,0.002390652662143,-0.009309325367212,-0.000434928137111,-0.027083616703749,0.065224304795265,0.006487710867077,0.007472806144506,-0.013334932737052,0.010390054434538));
res += mul(Get(s2,dx,-dy), float4x4(-0.010797919705510,0.006235518958420,0.007959965616465,0.008936950005591,-0.000967452593613,0.005416136700660,-0.001911254366860,-0.000515206076670,-0.004896616563201,-0.011882822029293,0.012034688144922,-0.101846478879452,-0.001335727283731,0.004699472337961,0.006264391820878,-0.007471969351172));
res += mul(Get(s2,dx,0), float4x4(-0.005607444792986,-0.000925387605093,0.002912620082498,-0.003926560282707,0.001409890828654,0.002947771456093,0.022139379754663,-0.014660867862403,-0.006039948202670,-0.011188635602593,0.012437643483281,-0.069204784929752,-0.001248329761438,-0.006252082996070,-0.007947077043355,-0.007176573853940));
res += mul(Get(s2,dx,dy), float4x4(0.012223767116666,0.001382542774081,-0.008040428161621,-0.000504421128426,-0.006763328332454,-0.000998430303298,0.009321874938905,-0.002614694414660,0.003839729120955,-0.014542010612786,-0.000654394039884,-0.041145466268063,-0.024845521897078,0.006551331840456,0.005581595934927,-0.011919641867280));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005268145352602,-0.002462872304022,-0.012274496257305,0.016868412494659,-0.017220249399543,0.011930547654629,-0.011951181106269,0.012389349751174,-0.003228881629184,-0.007563146762550,0.000220983667532,0.074541494250298,0.004476543050259,-0.005322332959622,-0.054444581270218,-0.036056041717529));
res += mul(Get(s3,-dx,0), float4x4(-0.013518583029509,0.000273069628747,-0.026635343208909,0.085267990827560,0.013600567355752,0.024549383670092,0.001282432465814,0.003515630494803,0.003889173502102,-0.006064236629754,0.016573991626501,0.046961449086666,-0.002308254130185,-0.005498312879354,-0.063475921750069,-0.007609042804688));
res += mul(Get(s3,-dx,dy), float4x4(0.004735825117677,0.004910112824291,-0.026291530579329,0.035140108317137,0.000617290439550,0.002302036387846,-0.012696434743702,0.012873331084847,-0.002194308908656,0.004097487311810,0.010010207071900,-0.001706697745249,-0.006321518216282,-0.019809167832136,-0.043972935527563,0.046956431120634));
res += mul(Get(s3,0,-dy), float4x4(0.009067244827747,-0.023254267871380,0.045216020196676,-0.017164424061775,0.012593643739820,-0.000812693499029,0.001653182436712,-0.002053341129795,0.001778529840522,-0.007073838263750,0.002780949929729,0.041558247059584,0.007322445511818,-0.019573442637920,-0.023425713181496,-0.071113705635071));
res += mul(Get(s3,0,0), float4x4(-0.009040359407663,-0.017611181363463,0.029895335435867,0.048176422715187,-0.009577987715602,-0.005760791711509,-0.006142135243863,0.001966425683349,0.003291116561741,0.005554703995585,0.006560473702848,0.056511349976063,0.002763716503978,-0.027684977278113,0.036243200302124,-0.067136771976948));
res += mul(Get(s3,0,dy), float4x4(0.000985483056866,0.016264036297798,0.008246695622802,0.056527119129896,0.003216044045985,-0.001641537644900,0.007266315631568,0.012138826772571,0.002098212949932,-0.003258730983362,0.019683200865984,0.064348667860031,0.013766353018582,-0.031495533883572,0.033022522926331,0.003129353979602));
res += mul(Get(s3,dx,-dy), float4x4(-0.002948283217847,-0.003274866146967,0.020985348150134,-0.030677318572998,0.009908166714013,0.036979082971811,0.015504603274167,-0.005724721122533,-0.005088052246720,-0.006666274741292,-0.004460761323571,0.001423095469363,-0.013245951384306,0.015757625922561,-0.003839970566332,-0.060240935534239));
res += mul(Get(s3,dx,0), float4x4(-0.001127694384195,-0.003499435726553,-0.031238187104464,0.021971862763166,-0.010023946873844,-0.008187065832317,0.001983804162592,0.007025824394077,-0.000618370366283,-0.002774481195956,-0.010060970671475,0.030243307352066,-0.003066007979214,-0.013585521839559,0.018378932029009,-0.068735472857952));
res += mul(Get(s3,dx,dy), float4x4(-0.013044627383351,0.039202217012644,-0.043550863862038,0.031023748219013,0.004561048466712,0.018066598102450,-0.007679568137974,0.014593204483390,0.007371328771114,0.006152404472232,-0.026333360001445,0.031990334391594,-0.006799954921007,-0.022882143035531,0.012625770643353,-0.042065192013979));
res = max(float4(0,0,0,0), res);
return res;
}
