sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.047204814851284,0.021310983225703,-0.022027168422937,0.018557583913207,-0.009002541191876,-0.042603168636560,0.070718005299568,-0.059494044631720,-0.059759266674519,0.027370873838663,0.036108076572418,0.021907148882747,-0.069979444146156,-0.044339455664158,-0.033401668071747,-0.057350378483534));
res += mul(Get(s0,-dx,0), float4x4(-0.019229333847761,-0.028717441484332,-0.017627330496907,-0.003422644920647,-0.015920568257570,0.036157425493002,-0.054582174867392,0.066297486424446,-0.011114085093141,-0.019729074090719,-0.006486709695309,0.050883684307337,0.002738853218034,-0.024912910535932,0.008962919004261,-0.087413214147091));
res += mul(Get(s0,-dx,dy), float4x4(-0.029610926285386,0.000868407718372,-0.019241848960519,-0.042712640017271,-0.057979974895716,0.037887740880251,-0.003505601780489,-0.059253595769405,-0.012779584154487,-0.002862215274945,0.003823583945632,-0.058374922722578,0.041349682956934,0.000648248067591,-0.023499019443989,-0.020696859806776));
res += mul(Get(s0,0,-dy), float4x4(-0.014799703843892,-0.018008142709732,0.021800545975566,0.011931834742427,-0.000856870028656,-0.017735179513693,-0.004412709735334,0.042405735701323,-0.021400485187769,0.179564982652664,-0.028278874233365,0.019609114155173,-0.092319495975971,-0.040974657982588,-0.048931859433651,-0.038177032023668));
res += mul(Get(s0,0,0), float4x4(0.023877110332251,-0.017077190801501,-0.024780388921499,0.025291893631220,-0.017964057624340,0.040546350181103,0.093706883490086,0.079979479312897,-0.072427898645401,0.050053924322128,-0.025929121300578,0.001981436973438,-0.026742238551378,0.072893850505352,0.088558249175549,-0.076955907046795));
res += mul(Get(s0,0,dy), float4x4(0.003517363220453,-0.027537025511265,-0.023320108652115,0.009237219579518,-0.031887065619230,0.060279145836830,-0.045549396425486,-0.000058615394664,-0.087173126637936,0.031356979161501,-0.014514857903123,-0.027451233938336,0.049170453101397,0.014199357479811,-0.012801963835955,-0.056226145476103));
res += mul(Get(s0,dx,-dy), float4x4(0.005557999480516,-0.010022973641753,-0.010509386658669,0.009204694069922,-0.054513245820999,0.007524267304689,-0.058905072510242,0.073305159807205,0.011371278204024,0.104786694049835,0.016136640682817,0.024619383737445,-0.039236627519131,0.076063290238380,-0.059486929327250,-0.028206571936607));
res += mul(Get(s0,dx,0), float4x4(0.020712433382869,-0.025494564324617,0.024471994489431,0.013260494917631,-0.042949944734573,0.015612287446856,0.012093479745090,0.042551368474960,0.042717859148979,0.068868495523930,-0.023192694410682,-0.009072577580810,-0.032510362565517,0.120204262435436,-0.034412194043398,-0.030583182349801));
res += mul(Get(s0,dx,dy), float4x4(-0.025376843288541,0.072003744542599,-0.009613635949790,-0.012400717474520,-0.048584431409836,-0.001312133739702,0.023612905293703,0.053841765969992,-0.006813752464950,0.074203096330166,-0.019747454673052,0.000092652830062,0.052740152925253,0.009196619503200,-0.051154199987650,-0.074357546865940));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000666499254294,-0.031412255018950,-0.002265078248456,-0.001681701163761,-0.048059951514006,-0.008191236294806,-0.042394254356623,-0.078603439033031,0.035562504082918,-0.023800525814295,0.031459253281355,-0.010271891951561,-0.007692716084421,0.004603416658938,0.055607061833143,0.054210722446442));
res += mul(Get(s1,-dx,0), float4x4(-0.011217880994081,-0.048924695700407,0.006936735473573,0.006825358606875,-0.002813643310219,-0.048817005008459,0.078070051968098,-0.072799064218998,0.031497504562140,-0.017770161852241,-0.028919180855155,-0.067826099693775,0.049226645380259,-0.053297940641642,-0.026203775778413,-0.070275537669659));
res += mul(Get(s1,-dx,dy), float4x4(-0.029027575626969,-0.053008828312159,-0.028411066159606,0.055971533060074,-0.023691380396485,-0.062326952815056,0.026755433529615,-0.065700314939022,-0.049954108893871,0.015131975524127,-0.059139214456081,-0.038791459053755,-0.047421004623175,-0.015066567808390,-0.085167750716209,0.054657835513353));
res += mul(Get(s1,0,-dy), float4x4(-0.012170761823654,-0.012876082211733,-0.004351379349828,-0.002845718991011,0.025215225294232,0.016998855397105,-0.053434863686562,-0.068403862416744,0.006638434715569,-0.027207052335143,0.000243144429987,0.038260441273451,-0.032937783747911,0.018646735697985,0.020356772467494,0.041074249893427));
res += mul(Get(s1,0,0), float4x4(0.012869918718934,-0.023009303957224,0.033735021948814,0.025779170915484,0.047428436577320,0.007997194305062,-0.079677782952785,-0.034566368907690,0.076982803642750,-0.050278805196285,-0.018201783299446,-0.012664695270360,0.027418166399002,0.059253759682178,0.103425018489361,-0.078023299574852));
res += mul(Get(s1,0,dy), float4x4(-0.015501206740737,-0.022517677396536,0.066953420639038,0.066593475639820,0.002645905595273,-0.010329906828701,0.060616608709097,-0.065445147454739,0.047295790165663,-0.013536772690713,-0.031940635293722,0.022268470376730,-0.016249891370535,0.012694038450718,0.025166541337967,0.000512424798217));
res += mul(Get(s1,dx,-dy), float4x4(-0.041793569922447,-0.034661062061787,0.027171509340405,0.003880308242515,0.003969908691943,-0.020940711721778,-0.000135542039061,-0.055727384984493,-0.038936924189329,-0.053588751703501,0.001066138502210,0.099525779485703,-0.030733667314053,0.012186174280941,-0.102951347827911,0.028603032231331));
res += mul(Get(s1,dx,0), float4x4(0.002995983231813,0.008397709578276,-0.036023762077093,0.017983753234148,-0.045477949082851,-0.007886243984103,-0.113259732723236,-0.054753344506025,0.040315937250853,0.011732576414943,0.032485466450453,0.009353401139379,-0.012748095206916,0.049280989915133,-0.126833483576775,-0.040212567895651));
res += mul(Get(s1,dx,dy), float4x4(0.022492449730635,0.003159779589623,-0.006847246550024,0.041920788586140,-0.060080841183662,-0.009086726233363,-0.028161734342575,-0.033904213458300,0.065066196024418,0.033101644366980,0.014519427902997,-0.002220347290859,-0.015451997518539,0.012298230081797,-0.138815134763718,-0.032149117439985));
res += mul(Get(s2,-dx,-dy), float4x4(-0.016743790358305,-0.007090338971466,0.014752229675651,-0.045932978391647,-0.066806249320507,0.028903663158417,-0.031765617430210,0.005790138617158,-0.050505433231592,0.138868331909180,-0.000356370524969,-0.029093416407704,-0.007717675529420,0.014507870189846,-0.029794756323099,0.009523510932922));
res += mul(Get(s2,-dx,0), float4x4(0.003055833280087,0.009961566887796,-0.006592217832804,0.015929194167256,-0.002384840510786,0.038165088742971,-0.001368229277432,-0.057229463011026,0.156912222504616,0.096430942416191,-0.030153963714838,-0.004807479679585,-0.011902269907296,-0.005715111736208,0.005498858634382,0.025970550253987));
res += mul(Get(s2,-dx,dy), float4x4(0.002530175726861,0.017465015873313,-0.024872455745935,0.098949998617172,-0.034656461328268,-0.066188976168633,-0.084610581398010,0.011723843403161,0.115307696163654,-0.040331296622753,0.029120730236173,-0.004226616118103,-0.035170149058104,-0.023847362026572,0.004114389419556,0.022552995011210));
res += mul(Get(s2,0,-dy), float4x4(-0.048150930553675,-0.027867436408997,0.019170431420207,-0.025734368711710,-0.015158261172473,0.058414816856384,0.038228593766689,-0.024315789341927,-0.049908827990294,-0.007796458899975,0.017598217353225,-0.015622743405402,-0.024016413837671,-0.041935753077269,0.017643129453063,0.016676930710673));
res += mul(Get(s2,0,0), float4x4(0.008244054391980,-0.032013293355703,0.007446754723787,0.019829994067550,-0.018427649512887,0.023616695776582,0.057407286018133,0.006648448295891,0.063272938132286,-0.070185355842113,-0.011548887938261,-0.013993697240949,-0.026840129867196,-0.022442698478699,0.006160335149616,0.013902788050473));
res += mul(Get(s2,0,dy), float4x4(0.026500670239329,0.005406979471445,-0.015414729714394,0.044714462012053,0.055683508515358,0.014708157628775,-0.052659604698420,0.034152295440435,0.075426317751408,-0.030186491087079,-0.014733828604221,-0.020239956676960,-0.035792395472527,-0.002616949612275,0.021767601370811,-0.009907778352499));
res += mul(Get(s2,dx,-dy), float4x4(-0.046642478555441,0.018722854554653,0.001688908436336,-0.012225049547851,-0.002204619580880,-0.020477749407291,-0.008882965892553,-0.018435757607222,0.037229321897030,0.045262549072504,-0.048145279288292,0.068094171583652,-0.044320400804281,0.024669196456671,0.015958476811647,-0.012788849882782));
res += mul(Get(s2,dx,0), float4x4(-0.046986736357212,0.067685112357140,0.015501127578318,-0.005841850768775,0.008083480410278,-0.003280095756054,0.035473678261042,0.019386516883969,-0.031683579087257,0.002177571412176,-0.002124011283740,0.006065905094147,-0.027922967448831,0.029800642281771,0.018681652843952,-0.001522982260212));
res += mul(Get(s2,dx,dy), float4x4(0.093581601977348,0.063005402684212,-0.030987987294793,0.010319116525352,0.057277768850327,-0.009885740466416,0.014028300531209,0.020846903324127,-0.006584114860743,0.040708109736443,-0.034649416804314,0.021230332553387,-0.054096218198538,0.038596976548433,0.010253285057843,0.050593499094248));
res += mul(Get(s3,-dx,-dy), float4x4(-0.017062418162823,-0.008209441788495,-0.083205528557301,-0.065532274544239,-0.120455637574196,-0.045692052692175,-0.060815162956715,-0.062161609530449,-0.019846068695188,-0.124432556331158,0.007015900686383,-0.045788679271936,0.089452907443047,-0.016537034884095,-0.044044770300388,-0.073631435632706));
res += mul(Get(s3,-dx,0), float4x4(0.070479854941368,-0.014414315111935,-0.047825649380684,0.081964313983917,-0.124421596527100,-0.011027210392058,0.161101847887039,0.095765210688114,-0.071045912802219,-0.076894551515579,0.081632867455482,0.048186663538218,0.059706192463636,-0.021674171090126,-0.106518179178238,-0.041094146668911));
res += mul(Get(s3,-dx,dy), float4x4(0.019144242629409,-0.019756501540542,0.003299483098090,-0.002913490403444,-0.118652515113354,-0.054713048040867,0.083066985011101,0.061283193528652,0.021194709464908,-0.064896538853645,0.020503809675574,0.022928994148970,0.182082161307335,-0.042657375335693,-0.040864594280720,0.101076349616051));
res += mul(Get(s3,0,-dy), float4x4(0.053591262549162,-0.018794344738126,-0.112600207328796,-0.032716359943151,0.028840389102697,0.028201874345541,-0.169256731867790,-0.050714418292046,-0.037059951573610,0.027432801201940,-0.087651833891869,-0.088784411549568,-0.030724333599210,-0.038724541664124,0.092995896935463,-0.091971412301064));
res += mul(Get(s3,0,0), float4x4(0.083533495664597,0.008795858360827,-0.008951731026173,0.072709232568741,0.047540061175823,0.074910908937454,-0.183435201644897,0.007066608872265,-0.066003024578094,0.004031290765852,-0.055209498852491,0.049125321209431,0.069733709096909,-0.105286724865437,-0.059256821870804,0.045719083398581));
res += mul(Get(s3,0,dy), float4x4(-0.030621953308582,-0.001228198991157,-0.038248505443335,-0.068608477711678,-0.054051589220762,-0.095284715294838,0.087730973958969,0.030607519671321,-0.010985011234879,-0.061653334647417,0.040346350520849,0.061917163431644,-0.054879080504179,-0.060438364744186,-0.143160030245781,0.078062653541565));
res += mul(Get(s3,dx,-dy), float4x4(0.016659980639815,-0.041828196495771,-0.006615875754505,-0.005091034807265,0.107164256274700,0.139372020959854,0.237376585602760,-0.002588683040813,0.084643751382828,0.097749076783657,0.028150912374258,-0.048731002956629,-0.007211658637971,0.079563647508621,0.012881538830698,-0.049564652144909));
res += mul(Get(s3,dx,0), float4x4(-0.007972989231348,0.055967580527067,0.070679411292076,0.093943841755390,0.080777689814568,0.073222719132900,-0.035801775753498,-0.019460648298264,0.077869608998299,-0.042452923953533,0.033869136124849,-0.033552329987288,0.090045422315598,0.076488040387630,0.152150258421898,0.006441110279411));
res += mul(Get(s3,dx,dy), float4x4(0.005213042255491,0.096220016479492,0.027083948254585,0.013553818687797,0.027458125725389,-0.027481179684401,-0.151120990514755,0.048606000840664,0.013325595296919,-0.110113583505154,-0.042577624320984,-0.001770685892552,-0.088709950447083,-0.003755310783163,0.046598114073277,0.096442535519600));
res = max(float4(0,0,0,0), res);
return res;
}
