sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.009602494537830,0.004671597853303,-0.026376925408840,0.000275949481875,-0.049046788364649,0.031426936388016,-0.007664531469345,0.030150292441249,-0.048202279955149,0.046242903918028,-0.061729133129120,-0.008932030759752,-0.038936171680689,0.072801314294338,0.032983679324389,0.029754238203168));
res += mul(Get(s0,-dx,0), float4x4(0.080115832388401,-0.055303808301687,0.001101868110709,-0.039263132959604,-0.112875990569592,0.045195437967777,0.021616574376822,0.070778988301754,-0.001397775835358,-0.060480672866106,-0.006484412588179,0.026276290416718,-0.031748630106449,-0.012245464138687,0.049510005861521,-0.033111475408077));
res += mul(Get(s0,-dx,dy), float4x4(-0.035450771450996,-0.114424377679825,0.006933092605323,-0.086644865572453,-0.014360026456416,-0.096386924386024,0.006989199668169,-0.038451056927443,-0.054911084473133,-0.058029629290104,0.027878873050213,-0.009740641340613,0.009867170825601,-0.066277466714382,0.029334731400013,-0.045503504574299));
res += mul(Get(s0,0,-dy), float4x4(0.010364441201091,0.069196566939354,-0.018634978681803,0.013361478224397,0.058811131864786,0.071361109614372,-0.068929381668568,0.056991230696440,0.022678127512336,0.080953486263752,-0.061719782650471,0.033249642699957,-0.050396528095007,0.056962396949530,-0.023401154205203,0.035684429109097));
res += mul(Get(s0,0,0), float4x4(-0.045801293104887,-0.038732264190912,0.029229024425149,-0.046462830156088,0.035309117287397,0.002931743394583,-0.036313347518444,-0.032138627022505,-0.037324663251638,-0.018531847745180,0.109374217689037,-0.051981385797262,0.045742761343718,-0.064466439187527,-0.038641411811113,-0.029299564659595));
res += mul(Get(s0,0,dy), float4x4(-0.021735582500696,-0.025914229452610,0.034590344876051,-0.026549393311143,0.035843629390001,-0.094619140028954,-0.025430904701352,-0.054860904812813,0.017738645896316,-0.083649575710297,0.011894852854311,-0.106822386384010,-0.049942739307880,-0.063198745250702,0.019733572378755,-0.009757271036506));
res += mul(Get(s0,dx,-dy), float4x4(-0.049417819827795,0.020953267812729,-0.039401289075613,0.041338417679071,0.037572853267193,0.025237195193768,-0.041559595614672,-0.018752293661237,0.000691907247528,0.047559641301632,0.005988222546875,-0.021979976445436,-0.042492818087339,0.055786997079849,-0.021040014922619,0.008361515589058));
res += mul(Get(s0,dx,0), float4x4(0.021736748516560,-0.006681834813207,0.020022056996822,0.023692481219769,-0.005893060471863,-0.034818254411221,0.011564065702260,-0.057163234800100,0.039434660226107,-0.053255639970303,0.010916600935161,-0.080767631530762,-0.076595149934292,-0.044869527220726,0.010177591815591,-0.021177621558309));
res += mul(Get(s0,dx,dy), float4x4(0.016774006187916,-0.014144921675324,0.011777741834521,0.002955238800496,-0.035015646368265,-0.087426640093327,-0.010620740242302,-0.083863466978073,0.032094385474920,-0.037545692175627,-0.005776063539088,-0.040491942316294,-0.042700592428446,-0.100095562636852,0.011378323659301,-0.058113481849432));
res += mul(Get(s1,-dx,-dy), float4x4(-0.013814512640238,-0.089139297604561,-0.022327641025186,-0.014337505213916,-0.007161309011281,0.098557047545910,0.059650111943483,-0.000156717054779,-0.017475184053183,0.081833258271217,0.019181534647942,-0.032976113259792,-0.007051203399897,-0.032605808228254,-0.047461044043303,-0.020663103088737));
res += mul(Get(s1,-dx,0), float4x4(-0.041957523673773,0.092415474355221,0.007409950252622,0.095147006213665,0.007464466616511,0.130315721035004,0.010608227923512,-0.032095938920975,0.013426091521978,0.103556200861931,0.053721718490124,0.067369602620602,-0.000695799244568,-0.062539957463741,-0.005906893871725,-0.020106462761760));
res += mul(Get(s1,-dx,dy), float4x4(0.014263586141169,0.082680307328701,0.007490559015423,0.128700286149979,-0.040229454636574,-0.036434464156628,-0.000171228501131,-0.033720880746841,-0.002842711983249,0.050898861140013,0.029982015490532,0.021783521398902,0.016709342598915,-0.058128464967012,-0.068383157253265,-0.022849339991808));
res += mul(Get(s1,0,-dy), float4x4(-0.029279794543982,0.075240515172482,-0.021446187049150,0.143295198678970,0.029785534366965,-0.009718322195113,0.050827205181122,-0.020207412540913,0.044919736683369,0.135376691818237,0.049980308860540,-0.020083444193006,-0.037070970982313,-0.028151301667094,-0.017031636089087,-0.000547975243535));
res += mul(Get(s1,0,0), float4x4(-0.085820347070694,0.053507309406996,0.042855408042669,0.099809952080250,0.103301942348480,0.049990691244602,-0.055427987128496,-0.027300335466862,-0.027906415984035,0.111632511019707,0.115524515509605,0.043911829590797,0.112160414457321,-0.019680501893163,-0.035905316472054,0.101242169737816));
res += mul(Get(s1,0,dy), float4x4(-0.026236593723297,-0.039415717124939,0.007382547948509,0.046916678547859,-0.017489586025476,0.080728664994240,-0.013589288108051,-0.003256034804508,0.011808402836323,0.009957131929696,0.060415055602789,0.012165166437626,-0.012985182926059,0.012253998778760,-0.061753798276186,0.045511655509472));
res += mul(Get(s1,dx,-dy), float4x4(-0.033268094062805,0.056546200066805,0.034340050071478,0.124260447919369,0.020452385768294,0.004382417537272,0.006838255096227,0.022951312363148,-0.032876111567020,0.082171596586704,-0.000584146473557,0.022232785820961,0.018664197996259,0.044933702796698,0.003527595195919,0.069026201963425));
res += mul(Get(s1,dx,0), float4x4(0.017161875963211,-0.062465563416481,0.079129792749882,-0.044155187904835,0.057073604315519,0.005481761880219,-0.000379052245989,0.036119125783443,-0.007186090573668,0.159529238939285,0.013932482339442,0.008093380369246,0.078885793685913,0.069272011518478,-0.032069656997919,0.117037519812584));
res += mul(Get(s1,dx,dy), float4x4(0.044171687215567,-0.032618962228298,0.015431480482221,0.006713759619743,0.089059248566628,0.044742736965418,0.012247212231159,-0.012244626879692,-0.018804017454386,0.091208219528198,0.031957849860191,0.009580498561263,-0.033180829137564,-0.031737022101879,-0.062616512179375,-0.068212553858757));
res += mul(Get(s2,-dx,-dy), float4x4(-0.055650811642408,0.075510114431381,0.007449102122337,0.043509997427464,0.067970514297485,0.062302466481924,0.033083468675613,0.006894538644701,0.050729028880596,-0.041446760296822,-0.020297426730394,-0.052153944969177,0.046553455293179,-0.008494545705616,-0.004765521734953,-0.056505400687456));
res += mul(Get(s2,-dx,0), float4x4(-0.012533264234662,0.010184802114964,0.060510694980621,0.039696153253317,0.105595916509628,0.024520020931959,0.059552423655987,-0.012242779135704,0.046066280454397,0.055464942008257,-0.038032442331314,-0.009791209362447,-0.000439464580268,0.089741908013821,-0.044354282319546,-0.007791764568537));
res += mul(Get(s2,-dx,dy), float4x4(-0.045716568827629,-0.062860555946827,0.043719880282879,-0.019388100132346,0.096917204558849,-0.023867344483733,0.011656955815852,-0.026741109788418,0.032235331833363,0.087809421122074,-0.044026631861925,0.010740645229816,0.067563213407993,0.084022156894207,-0.106445752084255,-0.005274774506688));
res += mul(Get(s2,0,-dy), float4x4(-0.039655439555645,0.058820459991693,0.058033872395754,-0.034760095179081,0.045439265668392,0.048538062721491,-0.000268724543275,0.044596400111914,0.163554832339287,-0.084748551249504,-0.048987239599228,-0.037592921406031,0.044813927263021,-0.031140699982643,-0.059957776218653,0.032740399241447));
res += mul(Get(s2,0,0), float4x4(-0.022787693887949,-0.038683358579874,0.088949285447598,-0.020644258707762,0.046823993325233,0.008487272076309,0.030594287440181,0.031213080510497,0.014965473674238,0.077300414443016,-0.047473970800638,0.031173771247268,0.009431244805455,0.088471032679081,-0.038018513470888,0.070999875664711));
res += mul(Get(s2,0,dy), float4x4(0.008826647885144,-0.007365796249360,0.096958681941032,-0.029036380350590,0.032055243849754,0.032482910901308,-0.030455589294434,0.007989523932338,-0.015895845368505,0.116771139204502,-0.009587870910764,0.028407484292984,0.087271466851234,-0.015007301233709,-0.068732947111130,-0.027012599632144));
res += mul(Get(s2,dx,-dy), float4x4(-0.030152449384332,-0.011517211794853,-0.003916202113032,-0.041783660650253,0.020943399518728,-0.017954139038920,-0.019747423008084,0.016844008117914,0.045549303293228,-0.027137355878949,-0.008024938404560,0.004704148042947,0.039575375616550,-0.037410084158182,-0.040420822799206,0.075349830091000));
res += mul(Get(s2,dx,0), float4x4(0.003534924006090,0.013983692973852,0.001483412925154,-0.006790295243263,-0.019122870638967,0.022616920992732,0.018546136096120,0.032819084823132,-0.004450293257833,0.050209667533636,-0.024339599534869,0.009237620979548,-0.019017325714231,0.019089199602604,-0.070528641343117,0.008972793817520));
res += mul(Get(s2,dx,dy), float4x4(0.013763657771051,-0.057078003883362,0.032244205474854,-0.031335256993771,-0.028083873912692,-0.024410491809249,-0.039023295044899,-0.050172910094261,-0.025292158126831,0.064953528344631,-0.044268526136875,0.012167776003480,-0.001427222392522,-0.062967665493488,-0.090273298323154,-0.033620569854975));
res += mul(Get(s3,-dx,-dy), float4x4(-0.057396650314331,-0.002692234935239,0.000349678477505,-0.010083656758070,0.103098526597023,-0.003196384990588,-0.065444096922874,-0.029808655381203,-0.006001972593367,-0.072770364582539,0.066808573901653,-0.074356995522976,0.030740717425942,-0.093623153865337,-0.069560982286930,-0.049447696655989));
res += mul(Get(s3,-dx,0), float4x4(-0.046917732805014,-0.060830373317003,0.066937834024429,0.014204842969775,0.055628839880228,0.008666865527630,-0.018221396952868,-0.051391344517469,0.023856168612838,-0.091462105512619,-0.004312619566917,-0.009061472490430,0.003039737930521,-0.056247245520353,-0.023207319900393,-0.001329723047093));
res += mul(Get(s3,-dx,dy), float4x4(-0.081084415316582,-0.063157215714455,0.047226477414370,0.025307124480605,0.026415953412652,-0.009434652514756,-0.051402412354946,0.007420774549246,0.005852581467479,-0.011525337584317,-0.031002858653665,-0.024123657494783,0.017821304500103,0.037821851670742,-0.030593719333410,0.034860368818045));
res += mul(Get(s3,0,-dy), float4x4(0.038511283695698,0.085592217743397,-0.013593202456832,0.017338287085295,0.043591033667326,-0.055065359920263,0.027907311916351,-0.034255146980286,0.027383495122194,-0.030451765283942,0.085141785442829,0.002859751693904,0.061380617320538,-0.105494357645512,-0.062662079930305,-0.050354946404696));
res += mul(Get(s3,0,0), float4x4(0.010269125923514,-0.007341744378209,0.049802284687757,-0.004510069731623,0.087560966610909,0.022980282083154,-0.023030987009406,0.066292725503445,-0.010882172733545,-0.066655062139034,0.075140103697777,0.025078985840082,-0.042373236268759,-0.050471529364586,0.068846724927425,-0.034136563539505));
res += mul(Get(s3,0,dy), float4x4(-0.014733918942511,-0.020741410553455,0.067398346960545,0.012692077085376,-0.006327805574983,0.058921955525875,-0.041985519230366,0.066441640257835,-0.021597685292363,-0.009032224304974,-0.037821382284164,-0.019277838990092,0.063283741474152,0.023769292980433,-0.030978146940470,-0.025975501164794));
res += mul(Get(s3,dx,-dy), float4x4(0.011315474286675,0.041007760912180,-0.006406136788428,-0.057387825101614,0.008921018801630,-0.027153480798006,-0.056914020329714,-0.012857650406659,0.077354773879051,-0.002274317201227,0.021123506128788,0.020083395764232,0.042826451361179,-0.111197166144848,-0.072162762284279,-0.032036274671555));
res += mul(Get(s3,dx,0), float4x4(-0.024614369496703,0.042857646942139,-0.007377579808235,-0.038175407797098,-0.021349584683776,-0.012912402860820,-0.006083121523261,-0.048583671450615,-0.037181336432695,-0.054848961532116,0.109677724540234,-0.011282787658274,0.038317091763020,-0.057541429996490,-0.012679746374488,0.026939086616039));
res += mul(Get(s3,dx,dy), float4x4(-0.042396221309900,-0.066046111285686,0.063735067844391,-0.038468584418297,-0.027029734104872,-0.011192587204278,-0.083448775112629,-0.093067131936550,-0.029691584408283,-0.070982150733471,0.015424070879817,-0.049185816198587,0.023907134309411,0.031901460140944,-0.059561312198639,0.045569632202387));
res = max(float4(0,0,0,0), res);
return res;
}
