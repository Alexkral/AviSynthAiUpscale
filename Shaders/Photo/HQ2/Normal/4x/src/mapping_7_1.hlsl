sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.003784859552979,0.057287015020847,0.106300614774227,0.010434929281473,-0.065336883068085,0.028100522235036,0.110069297254086,0.065896160900593,-0.117101013660431,-0.105998687446117,-0.112240806221962,0.020914975553751,0.004069522023201,0.003823732957244,-0.003539816243574,-0.011356059461832));
res += mul(Get(s0,-dx,0), float4x4(0.051200751215219,-0.041028290987015,-0.056906852871180,0.002684393431991,-0.015446715988219,0.023289328441024,0.000813413760625,-0.010833605192602,-0.114671617746353,-0.110864713788033,-0.142224162817001,0.014852118678391,0.002920727478340,0.009222205728292,0.018078677356243,0.002268638228998));
res += mul(Get(s0,-dx,dy), float4x4(0.015112835913897,0.017684262245893,-0.034814611077309,0.028924357146025,0.074477978050709,0.015761001035571,-0.025114353746176,0.040656112134457,-0.043138079345226,0.058363094925880,-0.004316078033298,-0.021788422018290,0.024759514257312,0.027841903269291,-0.054815396666527,0.003087909892201));
res += mul(Get(s0,0,-dy), float4x4(0.088765867054462,-0.017696687951684,-0.042921219021082,0.061833325773478,-0.106155671179295,-0.009552181698382,-0.025852996855974,0.051962096244097,0.003234880045056,-0.060042973607779,0.039139285683632,0.016837060451508,0.020755389705300,-0.065636292099953,0.083805985748768,0.010095386765897));
res += mul(Get(s0,0,0), float4x4(0.048069488257170,-0.041689198464155,0.136886522173882,-0.009196626953781,0.016239574179053,0.042136643081903,-0.083238452672958,-0.040472913533449,-0.005382257513702,0.029285652562976,0.126352757215500,-0.133329570293427,-0.058562632650137,-0.011966369114816,0.113340236246586,0.009520655497909));
res += mul(Get(s0,0,dy), float4x4(0.067504271864891,0.046886011958122,-0.103886798024178,0.075828097760677,0.064727038145065,0.007219101302326,-0.063658267259598,-0.026481665670872,-0.026924103498459,0.048888515681028,0.025438698008657,0.067305184900761,0.028330946341157,0.019718037918210,0.037383113056421,0.018435306847095));
res += mul(Get(s0,dx,-dy), float4x4(0.127446129918098,-0.039984412491322,-0.012690646573901,-0.011159382760525,-0.065790563821793,-0.008929091505706,-0.072504691779613,0.054103836417198,0.006188213825226,0.048103693872690,-0.089835003018379,0.015366530977190,0.129093319177628,0.000671923975460,0.055458068847656,0.055593490600586));
res += mul(Get(s0,dx,0), float4x4(-0.005858550313860,-0.023026831448078,-0.041497632861137,0.051805946975946,0.000385533232475,-0.071462534368038,-0.105391636490822,0.060601957142353,-0.037365514785051,0.126377403736115,-0.036527425050735,0.055261839181185,0.038535714149475,0.035884361714125,0.088333636522293,0.014323936775327));
res += mul(Get(s0,dx,dy), float4x4(0.055118218064308,-0.043409835547209,0.047118697315454,0.018143823370337,0.084586702287197,-0.030913392081857,-0.029195077717304,-0.011326978914440,-0.059155240654945,0.033008247613907,-0.001425706082955,0.067538529634476,0.047845065593719,0.042002677917480,0.023599373176694,-0.009500755928457));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002243518130854,0.007425738964230,-0.021473936736584,-0.034876115620136,-0.008362929336727,-0.017440132796764,-0.069019146263599,0.002106583444402,-0.122820571064949,0.004583698231727,0.015853250399232,-0.040286112576723,-0.000568337738514,-0.005927286576480,-0.018055776134133,-0.053913198411465));
res += mul(Get(s1,-dx,0), float4x4(0.008098311722279,0.068355917930603,0.024319166317582,0.056230489164591,-0.008556572720408,-0.042671568691730,-0.004026276059449,0.041345477104187,-0.083986423909664,-0.001883727381937,-0.052481610327959,0.059221912175417,0.009191498160362,0.054312467575073,0.021731536835432,0.012621605768800));
res += mul(Get(s1,-dx,dy), float4x4(0.040553126484156,0.045290574431419,0.031607780605555,0.063318751752377,0.072163484990597,-0.072695307433605,0.046284474432468,0.069561265408993,-0.056669671088457,0.029642459005117,-0.005661829840392,-0.020837591961026,-0.002308665309101,0.019247312098742,0.010082428343594,0.090337738394737));
res += mul(Get(s1,0,-dy), float4x4(0.031469937413931,0.004167078994215,0.054597906768322,-0.047241419553757,0.136616140604019,-0.122584111988544,-0.070796452462673,-0.070506535470486,0.020525800064206,-0.007660740986466,0.006359173916280,-0.028399515897036,0.044617276638746,-0.064428359270096,-0.026243802160025,0.038781229406595));
res += mul(Get(s1,0,0), float4x4(0.096762858331203,0.061192281544209,0.048860084265471,0.036148723214865,0.050254680216312,-0.010163103230298,0.141873374581337,-0.033029284328222,0.066833503544331,-0.018091076985002,0.124685205519199,-0.036459587514400,0.011093132197857,-0.001777917845175,0.052346523851156,-0.008442565798759));
res += mul(Get(s1,0,dy), float4x4(0.038177046924829,0.026280499994755,-0.045696862041950,-0.000053664320149,-0.082846753299236,-0.098303914070129,-0.034233219921589,-0.026634812355042,-0.090029142796993,-0.009593561291695,0.064904302358627,-0.012130139395595,-0.024037126451731,-0.031794678419828,0.041688103228807,0.043242137879133));
res += mul(Get(s1,dx,-dy), float4x4(-0.018702987581491,0.032820958644152,0.021577795967460,0.032942865043879,0.075106479227543,-0.027150796726346,0.036232344806194,-0.084156304597855,-0.011726087890565,0.040059722959995,-0.034488048404455,-0.016410246491432,0.019406506791711,-0.006866238545626,0.036419648677111,0.010771922767162));
res += mul(Get(s1,dx,0), float4x4(0.029702264815569,-0.052851110696793,-0.116242386400700,0.016026031225920,-0.073139689862728,-0.066549919545650,-0.117304511368275,-0.000672165770084,-0.001112045720220,0.054922912269831,0.041595075279474,0.009123903699219,-0.029839616268873,0.076894193887711,0.000551820266992,0.046893879771233));
res += mul(Get(s1,dx,dy), float4x4(0.088778942823410,0.062491100281477,-0.061950776726007,-0.039459336549044,-0.022355394437909,-0.062131177634001,-0.071490384638309,-0.076854296028614,-0.010119169019163,0.003814503783360,0.023196335881948,0.023024074733257,-0.000915236712899,0.060295023024082,0.006349958945066,0.032183408737183));
res += mul(Get(s2,-dx,-dy), float4x4(-0.020540518686175,0.008968313224614,-0.026229307055473,-0.034141413867474,-0.054730273783207,0.028176089748740,0.033879376947880,0.015244062989950,0.005755360703915,0.012814112007618,-0.017530450597405,0.074923254549503,0.080261886119843,0.096493296325207,-0.041982058435678,0.049271088093519));
res += mul(Get(s2,-dx,0), float4x4(-0.064695104956627,-0.013418858870864,-0.007765378803015,0.045531831681728,-0.080904997885227,-0.012076572515070,0.050292000174522,0.071133457124233,0.019407488405704,-0.001365732518025,0.013579043559730,-0.009161831811070,-0.048371613025665,0.102201990783215,-0.057057496160269,0.070596747100353));
res += mul(Get(s2,-dx,dy), float4x4(-0.005280320532620,-0.000927463697735,-0.051437459886074,0.020949101075530,-0.056123699992895,-0.036851782351732,-0.049470733851194,-0.070998921990395,-0.023296084254980,0.006084072403610,0.005193523596972,0.044014267623425,-0.037459690123796,0.036879390478134,-0.000044316369895,-0.030125936493278));
res += mul(Get(s2,0,-dy), float4x4(-0.005512054543942,-0.000037789548514,-0.031244749203324,-0.068305447697639,0.008134948089719,0.007526206783950,0.051748231053352,-0.008124720305204,0.039506103843451,-0.010528274811804,0.103057391941547,0.056818950921297,0.115071900188923,0.040067054331303,0.034083288162947,-0.016094980761409));
res += mul(Get(s2,0,0), float4x4(0.000293094344670,0.053765967488289,0.019018089398742,-0.026630548760295,-0.109239451587200,-0.040751922875643,0.049851093441248,0.004411838948727,0.034635383635759,0.005991408601403,-0.008752482011914,-0.012968759052455,0.023752449080348,0.000382263067877,0.025999875739217,0.074664995074272));
res += mul(Get(s2,0,dy), float4x4(0.001732740085572,-0.029218943789601,-0.076724849641323,0.085062175989151,-0.062978275120258,-0.016800917685032,-0.120149306952953,-0.067227505147457,0.008780298754573,0.019886476919055,0.060695122927427,-0.014893456362188,0.004115530755371,-0.031448058784008,0.006867114920169,-0.030510252341628));
res += mul(Get(s2,dx,-dy), float4x4(-0.000719179108273,0.007715697865933,0.000987132196315,-0.052790813148022,0.010175496339798,0.024444963783026,-0.015033874660730,0.008712527342141,0.039305631071329,-0.003148446558043,0.032990340143442,0.095567442476749,0.040606450289488,0.009255467914045,-0.019589312374592,0.013882099650800));
res += mul(Get(s2,dx,0), float4x4(0.066758133471012,0.031075073406100,0.015363830141723,-0.045111544430256,-0.000657253316604,0.018249262124300,0.066852681338787,-0.021309966221452,-0.054724715650082,-0.035530615597963,0.039531163871288,0.054999090731144,-0.050688572227955,-0.003892916254699,-0.019855173304677,0.019520856440067));
res += mul(Get(s2,dx,dy), float4x4(0.016874078661203,-0.037861019372940,0.067132540047169,0.026685273274779,-0.022778537124395,-0.010184364393353,-0.048842154443264,-0.099160790443420,-0.023939896374941,-0.003121010493487,0.013472479768097,0.052817124873400,0.015296808443964,-0.013899095356464,-0.027211060747504,-0.015166453085840));
res += mul(Get(s3,-dx,-dy), float4x4(0.100090481340885,-0.120164267718792,-0.046945061534643,-0.062730744481087,-0.030665652826428,0.088419288396835,0.020968157798052,-0.004840580746531,0.015461148694158,0.067869290709496,0.045128919184208,-0.026359967887402,-0.051470927894115,0.002545101335272,-0.014295322820544,-0.022596975788474));
res += mul(Get(s3,-dx,0), float4x4(0.044498585164547,-0.105129018425941,-0.001581621239893,-0.019080072641373,-0.000916475255508,0.093969687819481,0.022958645597100,0.032199177891016,-0.028008852154016,0.001790361246094,0.048705928027630,-0.062286771833897,-0.008814047090709,-0.024007430300117,0.028120590373874,-0.002671791706234));
res += mul(Get(s3,-dx,dy), float4x4(0.011333724483848,-0.101303331553936,-0.060409825295210,-0.074287153780460,0.021792398765683,0.020043238997459,-0.082099720835686,-0.007456800434738,-0.046594686806202,-0.020810123533010,-0.031047001481056,0.003096089465544,0.037858981639147,0.038213577121496,0.002740038326010,-0.065756507217884));
res += mul(Get(s3,0,-dy), float4x4(0.041619189083576,-0.033696934580803,-0.001921023242176,-0.036505706608295,-0.069985598325729,0.044382113963366,0.038003794848919,0.015099830925465,-0.017098192125559,-0.000034087388485,-0.071151047945023,0.010591104626656,-0.047880712896585,-0.002379266079515,0.062541402876377,0.013721114024520));
res += mul(Get(s3,0,0), float4x4(-0.014781490899622,-0.016589242964983,0.111432716250420,-0.038007907569408,-0.057670783251524,-0.037268888205290,-0.043118715286255,0.022365666925907,0.031529102474451,0.021320439875126,0.002695766277611,-0.045504435896873,-0.090877786278725,-0.025975709781051,0.033482108265162,-0.014730744995177));
res += mul(Get(s3,0,dy), float4x4(0.017058396711946,-0.038058377802372,-0.043256051838398,-0.047837413847446,0.055898949503899,-0.031402584165335,0.009502132423222,-0.001017178175971,-0.023497352376580,0.045717623084784,0.025439674034715,-0.072517342865467,0.000267600291409,0.043811719864607,0.045688513666391,-0.021284243091941));
res += mul(Get(s3,dx,-dy), float4x4(-0.009406771510839,0.058748338371515,0.010080129839480,-0.039661776274443,-0.007609469816089,-0.008203339762986,0.020567126572132,-0.067273803055286,0.035188708454370,0.011095292866230,-0.018705306574702,-0.051204189658165,-0.041162174195051,0.019445884972811,0.130928218364716,-0.001265530707315));
res += mul(Get(s3,dx,0), float4x4(0.070689566433430,0.106690347194672,0.072346009314060,-0.035296581685543,0.065237231552601,0.021916460245848,0.034865837544203,-0.054586824029684,0.042524535208941,0.023607136681676,-0.023256868124008,-0.030897248536348,-0.124352708458900,-0.017963863909245,0.016371471807361,-0.008938977494836));
res += mul(Get(s3,dx,dy), float4x4(0.019036009907722,0.037882249802351,0.017523735761642,-0.054488785564899,0.058371353894472,0.068922743201256,0.063788175582886,0.004581177607179,0.020967090502381,0.026890041306615,0.005588305648416,-0.040937691926956,-0.055246010422707,0.029534270986915,-0.032925285398960,-0.022163411602378));
res = max(float4(0,0,0,0), res);
return res;
}
