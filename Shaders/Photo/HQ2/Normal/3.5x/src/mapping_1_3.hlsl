sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.018744030967355,-0.012020830996335,0.014942086301744,0.014181999489665,0.132023334503174,-0.076171495020390,-0.085344359278679,0.007040878757834,-0.008252765983343,-0.003216139040887,0.007703923154622,0.003928801976144,-0.033858440816402,-0.039950739592314,-0.016172507777810,0.013281178660691));
res += mul(Get(s0,-dx,0), float4x4(-0.019584305584431,-0.013925772160292,0.001994779100642,0.018699700012803,0.147977769374847,-0.082060053944588,-0.010490060783923,0.005172389559448,-0.021800450980663,0.000032715051930,0.016525976359844,0.016567137092352,0.114330612123013,-0.022235661745071,-0.024532821029425,0.016553310677409));
res += mul(Get(s0,-dx,dy), float4x4(0.014750728383660,0.005000448785722,0.012115529738367,0.011334571056068,0.041380528360605,-0.063692159950733,0.085968382656574,0.051927227526903,0.007855402305722,0.010787446983159,0.009865172207355,0.013642157427967,0.075857818126678,-0.079939268529415,0.009491045027971,-0.009266140870750));
res += mul(Get(s0,0,-dy), float4x4(0.018165033310652,0.004726843908429,-0.010137785226107,0.023704094812274,0.018450755625963,0.007724693976343,-0.110863678157330,-0.025660086423159,0.013527834787965,-0.012264588847756,0.019209433346987,0.009989594109356,0.035629630088806,-0.033286947757006,-0.006188487168401,0.019846646115184));
res += mul(Get(s0,0,0), float4x4(-0.020351862534881,-0.018400136381388,0.001611970830709,0.017399640753865,0.012862821109593,-0.059586860239506,0.013193925842643,-0.013102720491588,-0.042143955826759,-0.008953037671745,0.004576931241900,-0.011728835292161,0.039267446845770,0.048168443143368,-0.006784571334720,-0.025712860748172));
res += mul(Get(s0,0,dy), float4x4(0.023452373221517,-0.012111646123230,0.006624721921980,-0.009287945926189,-0.028313977643847,-0.006273975130171,0.061312716454268,0.044539287686348,-0.015007602050900,0.022099075838923,0.045253321528435,0.011304971762002,-0.024985065683722,0.008187359198928,0.025048211216927,-0.024390416219831));
res += mul(Get(s0,dx,-dy), float4x4(0.029090244323015,-0.014827878214419,-0.003452335251495,0.018469030037522,-0.145207509398460,0.111616902053356,-0.100473746657372,-0.047544337809086,0.009304939769208,0.016667459160089,0.030132910236716,0.003858312265947,-0.001867830869742,0.000801797024906,0.002176975132897,0.015810701996088));
res += mul(Get(s0,dx,0), float4x4(-0.005030058324337,0.002942810067907,-0.001771444804035,0.012869592756033,-0.130007550120354,0.040649354457855,0.019535552710295,-0.018830807879567,-0.016951307654381,-0.008487702347338,0.015739165246487,0.016158968210220,-0.129682809114456,0.104511745274067,0.016154972836375,-0.031787756830454));
res += mul(Get(s0,dx,dy), float4x4(-0.010609916411340,0.023805137723684,0.014126319438219,-0.000039832153561,-0.078770391643047,0.054600510746241,0.008182374760509,0.027831602841616,0.003461086656898,0.035839039832354,0.042241431772709,0.002966076135635,-0.096794016659260,0.038503736257553,0.073373422026634,-0.019529534503818));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015595735982060,0.007025777827948,0.009781593456864,-0.001108204945922,0.002389353234321,0.011257226578891,0.006293051410466,0.003900414099917,0.000094915769296,-0.000421837059548,0.018720321357250,0.000890052062459,-0.013246207498014,-0.000046744658903,0.006098854355514,0.002015070524067));
res += mul(Get(s1,-dx,0), float4x4(-0.010991337709129,0.003939163405448,0.005502427928150,0.002505771582946,0.001085176598281,-0.022719455882907,0.006661728024483,0.000530203338712,-0.000132366330945,0.002281905850396,0.006064593326300,0.003273357870057,0.008907591924071,-0.015303876250982,0.011368696577847,0.002644169609994));
res += mul(Get(s1,-dx,dy), float4x4(-0.007252099458128,0.009880681522191,0.012206032872200,0.001746267662384,-0.010038432665169,-0.016694756224751,-0.005614442285150,-0.008892716839910,0.016495125368237,0.016674656420946,0.002856894861907,0.005029376130551,-0.001285955891944,-0.008795258589089,0.018011134117842,-0.006107485387474));
res += mul(Get(s1,0,-dy), float4x4(-0.000272704783129,-0.011194899678230,-0.007892260327935,0.007024534046650,-0.005002553574741,0.009970703162253,0.011275275610387,-0.009582152590156,-0.018068391829729,0.001444797380827,-0.000835082726553,-0.003151428420097,-0.001191358081996,0.010930363088846,-0.004997729323804,0.000882933847606));
res += mul(Get(s1,0,0), float4x4(0.005855007562786,-0.010551736690104,0.000172864005435,0.002895113080740,0.005917591508478,-0.012439786456525,-0.006871781777591,0.002108012093231,0.006988033186644,-0.015941606834531,-0.009362521581352,-0.007788897957653,-0.000510695506819,0.001209065550938,0.010996364988387,0.001546315033920));
res += mul(Get(s1,0,dy), float4x4(0.009923700243235,-0.002200534800068,-0.005541086196899,-0.004463715478778,0.007344784215093,0.003165626199916,-0.012444180436432,0.009195885621011,-0.009481174871325,-0.016319727525115,0.001358313136734,-0.001112346420996,0.010024563409388,0.005039470735937,0.002692548790947,-0.011513197794557));
res += mul(Get(s1,dx,-dy), float4x4(0.012981063686311,0.021586844697595,0.007751754485071,-0.025793753564358,0.011045416817069,0.001730042975396,-0.009144238196313,0.003338383976370,-0.002361780731007,0.015678677707911,0.006381325889379,-0.000515543797519,-0.013624547980726,0.011776419356465,0.006222027353942,0.001246364554390));
res += mul(Get(s1,dx,0), float4x4(0.010249401442707,-0.008244788274169,-0.007079597096890,-0.006207380443811,0.026190683245659,-0.005600395146757,0.006410277448595,0.014101958833635,-0.007725528907031,0.002482017269358,-0.005516230594367,0.007171364501119,0.000368052598787,-0.009108362719417,0.003675524145365,0.007039425894618));
res += mul(Get(s1,dx,dy), float4x4(-0.007167756091803,-0.003593265311792,-0.004883776884526,0.005426924675703,0.021347282454371,-0.025702672079206,0.012486653402448,-0.003233253723010,-0.024162665009499,-0.003437877399847,0.000087195039669,-0.011078728362918,-0.010334905236959,0.006342061795294,-0.004845524206758,-0.008747151121497));
res += mul(Get(s2,-dx,-dy), float4x4(0.007487800903618,-0.008473785594106,-0.003197995712981,0.003658760106191,-0.008109429851174,-0.001797910430469,0.004700215067714,0.009883952327073,-0.001321733812802,0.005065117962658,0.008548796176910,-0.000689053849783,0.001085109077394,-0.002008581999689,0.000692877452821,-0.008709941059351));
res += mul(Get(s2,-dx,0), float4x4(-0.000210589147173,0.000971012341324,-0.000029253280445,0.006996862124652,0.009178383275867,-0.001259252545424,0.016851678490639,0.003791796276346,-0.000338257319527,-0.018632000312209,0.004648314788938,0.004496783483773,-0.003262073500082,-0.008700187318027,0.017517820000648,0.007120964117348));
res += mul(Get(s2,-dx,dy), float4x4(0.016809197142720,0.019820788875222,-0.003028634237126,-0.011195310391486,0.002465092111379,-0.013573517091572,-0.006932131480426,0.000499654968735,-0.014173880219460,-0.008433819748461,-0.000797768821940,-0.000126316852402,-0.006846407428384,0.010524427518249,0.028515616431832,0.009308051317930));
res += mul(Get(s2,0,-dy), float4x4(0.005641013849527,-0.003759171580896,-0.003627798752859,-0.001454235869460,-0.004161152057350,-0.005865081213415,0.012805381789804,0.013642254285514,0.012821461074054,-0.017458749935031,0.006296922452748,0.003675765823573,-0.009405073709786,-0.016202220693231,0.017978088930249,-0.006952867843211));
res += mul(Get(s2,0,0), float4x4(-0.012640370987356,-0.006355965975672,0.003153180005029,-0.003467792645097,0.001410976517946,0.000115458882647,-0.010417619720101,0.002059963997453,-0.025273373350501,0.008944600820541,0.008292534388602,0.008098084479570,-0.011040824465454,-0.020661242306232,0.016749508678913,-0.009361653588712));
res += mul(Get(s2,0,dy), float4x4(-0.000882987922523,0.010237864218652,0.006026088260114,0.002402985468507,0.010088073089719,0.005362563766539,-0.003825885709375,0.003087771125138,-0.008105958811939,0.002578122308478,0.000231843107031,-0.010310704819858,0.003561632009223,-0.016811536625028,0.006683639716357,0.004717193543911));
res += mul(Get(s2,dx,-dy), float4x4(-0.002409689594060,0.011707394383848,0.010178950615227,0.020689465105534,0.005162804387510,0.004002375528216,-0.007499989122152,0.004484999924898,0.016645820811391,0.001786306034774,0.001633992302231,0.005645261611789,-0.003746130503714,0.009687018580735,0.012252940796316,0.004195315763354));
res += mul(Get(s2,dx,0), float4x4(-0.007895596325397,0.000479879061459,0.000570615637116,-0.002494986169040,0.005882191471756,0.012079381383955,-0.006748402025551,0.007552692200989,-0.008858609944582,-0.001122525776736,0.007238309364766,-0.009693777188659,-0.021332552656531,0.013893406838179,0.027851618826389,0.009366738609970));
res += mul(Get(s2,dx,dy), float4x4(0.001007265760563,0.000954561925028,-0.018525881692767,-0.002924336120486,-0.003939561545849,-0.000309612834826,0.008872427046299,-0.015047522261739,0.000602530606557,-0.001572109526023,0.015072651207447,-0.002384987426922,-0.004869787022471,0.010352203622460,0.008129286579788,0.006250648759305));
res += mul(Get(s3,-dx,-dy), float4x4(-0.015244227834046,0.012369632720947,0.010341634042561,0.001497459132224,0.009509710595012,-0.007694051600993,0.025550648570061,0.023174952715635,0.103765077888966,-0.161995515227318,-0.097153924405575,0.101083815097809,-0.001726067275740,0.002122553065419,-0.001297591603361,0.002419571159407));
res += mul(Get(s3,-dx,0), float4x4(-0.011850385926664,-0.009692237712443,0.003557746298611,0.013896798714995,-0.000665094295982,-0.014715070836246,-0.019964540377259,-0.010557663626969,0.462441205978394,-0.165893420577049,-0.140374362468719,0.050172384828329,-0.001328338054009,-0.006712981034070,-0.000509392993990,-0.003906982019544));
res += mul(Get(s3,-dx,dy), float4x4(-0.006057399325073,-0.006925092078745,-0.004473985638469,-0.005380779504776,0.050473473966122,0.014943545684218,-0.036035053431988,-0.031894940882921,0.311027675867081,-0.136258155107498,-0.017057649791241,0.022760866209865,0.004550118930638,0.000140876712976,0.013430272229016,0.013530466705561));
res += mul(Get(s3,0,-dy), float4x4(0.010226596146822,-0.005772321950644,0.002650032751262,-0.001415086211637,0.064402155578136,-0.040794715285301,0.071665078401566,0.039742920547724,-0.122738607227802,0.020906468853354,-0.121924944221973,-0.020061315968633,-0.010839080438018,-0.006269097793847,0.005174416583031,-0.010138881392777));
res += mul(Get(s3,0,0), float4x4(-0.004969621542841,-0.005304759368300,0.019288452342153,0.003602897282690,0.057959068566561,-0.057906262576580,0.023537941277027,0.011997762136161,-0.048418615013361,0.061045024544001,-0.116950094699860,-0.089084833860397,0.007806300651282,0.016377486288548,0.014271613210440,0.002124858088791));
res += mul(Get(s3,0,dy), float4x4(-0.007372047752142,0.001497464836575,0.005678162910044,-0.014711948111653,0.064182937145233,0.073044419288635,0.037962026894093,0.001680347602814,-0.179779693484306,0.006037219893187,0.017766080796719,-0.068823620676994,0.019029065966606,-0.001468024565838,-0.008871643804014,0.005056145135313));
res += mul(Get(s3,dx,-dy), float4x4(0.001134221907705,-0.011024900712073,-0.011933302506804,-0.001279735472053,-0.067771032452583,0.004864274989814,0.084547854959965,0.040087684988976,-0.035201948136091,0.079599462449551,-0.020033037289977,-0.057219188660383,0.026388581842184,-0.021408822387457,-0.010245333425701,0.004037779290229));
res += mul(Get(s3,dx,0), float4x4(0.002276815706864,0.001718536019325,0.004790441598743,0.013110271655023,-0.074729479849339,-0.009351127780974,0.078536123037338,0.047446046024561,-0.198276102542877,0.288963288068771,0.040379364043474,-0.090736977756023,0.031255684792995,-0.019343329593539,0.012718222104013,-0.010032181628048));
res += mul(Get(s3,dx,dy), float4x4(-0.000949281733483,0.000329835718730,-0.007525062188506,-0.016725072637200,-0.115563742816448,0.107283808290958,0.084301583468914,0.010863824747503,-0.216550081968307,0.104076758027077,0.141354575753212,-0.076491534709930,0.042126115411520,-0.042796283960342,-0.006032876204699,-0.002368598245084));
res = max(float4(0,0,0,0), res);
return res;
}
