sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.017936332151294,-0.001814441173337,0.008166358806193,-0.061337895691395) * Get(-dx,-dy);
res += float4(-0.022684575989842,-0.000576500722673,-0.000778809480835,-0.064605988562107) * Get(-dx,0);
res += float4(-0.010910543613136,-0.000613820680883,-0.000661410158500,-0.036383025348186) * Get(-dx,dy);
res += float4(0.021610451862216,0.001015484798700,0.001430594245903,-0.038527816534042) * Get(0,-dy);
res += float4(0.001108653959818,-0.000719310075510,-0.005292742978781,0.010232008993626) * Get(0,0);
res += float4(-0.005583179183304,-0.001523600192741,-0.004584749229252,0.051621265709400) * Get(0,dy);
res += float4(0.016731301322579,0.001343076815829,-0.003711924422532,-0.012308078818023) * Get(dx,-dy);
res += float4(-0.001150754978880,-0.001792776165530,-0.003890128806233,0.082545369863510) * Get(dx,0);
res += float4(-0.011290084570646,-0.000371016707504,-0.000103266582300,0.112666606903076) * Get(dx,dy);
res = max(float4(0,0,0,0), res);
return res;
}
