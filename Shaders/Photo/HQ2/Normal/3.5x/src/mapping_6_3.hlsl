sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.024374354630709,-0.025595640763640,0.021421594545245,0.025439528748393,0.015619304031134,0.010740622878075,-0.041120331734419,-0.040592759847641,0.065459556877613,0.016237702220678,-0.002292924327776,-0.005297531373799,-0.042098976671696,-0.028990808874369,-0.041847307235003,-0.065448112785816));
res += mul(Get(s0,-dx,0), float4x4(-0.035520896315575,-0.067408323287964,0.034201197326183,-0.038475446403027,0.007015602663159,-0.023880243301392,0.036259721964598,-0.044994935393333,0.010224603116512,-0.021773576736450,0.047971636056900,0.015098669566214,-0.095594190061092,-0.040068436414003,-0.030030427500606,-0.022542621940374));
res += mul(Get(s0,-dx,dy), float4x4(0.000204283307539,-0.026970105245709,0.006796285044402,-0.045105859637260,0.063190937042236,0.065554030239582,0.046176288276911,-0.036129660904408,0.016360269859433,-0.042733352631330,0.050176255404949,-0.032706804573536,-0.044226080179214,-0.024865321815014,-0.076787427067757,-0.000200748923817));
res += mul(Get(s0,0,-dy), float4x4(0.016763614490628,0.005460609681904,0.016835294663906,-0.038111928850412,0.013033902272582,0.072309337556362,-0.014932406134903,-0.023142660036683,0.158010423183441,0.023129038512707,0.022498808801174,0.051685925573111,-0.041798733174801,0.003502692328766,-0.067046731710434,0.005759059451520));
res += mul(Get(s0,0,0), float4x4(-0.035707019269466,0.008815942332149,0.126433834433556,-0.031574402004480,0.103956729173660,0.109373301267624,0.028046566992998,0.036040499806404,-0.007785654161125,-0.034941658377647,0.003577323164791,0.020708125084639,0.003563079517335,-0.067051365971565,-0.046774998307228,-0.044258274137974));
res += mul(Get(s0,0,dy), float4x4(0.036767806857824,-0.000653076451272,0.084596745669842,-0.020319378003478,0.141924992203712,0.045759674161673,0.001753498800099,-0.070443913340569,-0.061635758727789,-0.038358502089977,0.043796848505735,-0.007100927177817,-0.053645201027393,-0.083376608788967,-0.078079842031002,-0.030810892581940));
res += mul(Get(s0,dx,-dy), float4x4(-0.010886210948229,-0.045513689517975,0.031976532191038,-0.031105706468225,0.046021036803722,0.024277893826365,0.005662888754159,-0.037610329687595,0.051023855805397,0.030507324263453,0.051772754639387,0.008146835491061,-0.015171295031905,0.001322430325672,0.014806347899139,-0.054571937769651));
res += mul(Get(s0,dx,0), float4x4(-0.021139545366168,-0.052838232368231,0.061805613338947,0.011862381361425,0.030421851202846,0.038372002542019,-0.000208016208489,-0.010928700678051,0.066822312772274,-0.017440570518374,-0.042002934962511,0.027091968804598,-0.013839624822140,0.011365428566933,-0.033738937228918,-0.066008448600769));
res += mul(Get(s0,dx,dy), float4x4(0.015654254704714,-0.047360077500343,0.085864372551441,-0.079621709883213,0.040744330734015,0.072487570345402,-0.085040435194969,-0.079281605780125,-0.045687533915043,-0.036139827221632,-0.021788392215967,-0.010714335367084,-0.049334719777107,0.039812844246626,-0.025260057300329,-0.011472429148853));
res += mul(Get(s1,-dx,-dy), float4x4(0.060440942645073,-0.075131483376026,-0.046672929078341,-0.012692846357822,-0.083814837038517,-0.038518272340298,-0.030803931877017,-0.062141895294189,-0.021726557984948,0.071206808090210,0.091919869184494,-0.016895018517971,-0.040777657181025,-0.019810559228063,-0.026226667687297,-0.046711105853319));
res += mul(Get(s1,-dx,0), float4x4(-0.009110951796174,-0.022791069000959,0.016381422057748,0.040681581944227,-0.006443864200264,0.016698831692338,-0.067323930561543,-0.018144914880395,-0.040385495871305,0.070563480257988,0.053478311747313,-0.004393069539219,-0.037272710353136,-0.015535982325673,-0.052427623420954,-0.006611916702241));
res += mul(Get(s1,-dx,dy), float4x4(0.125432431697845,-0.034833718091249,0.016935415565968,0.078986831009388,-0.027577636763453,0.045496936887503,0.026450052857399,-0.011900266632438,-0.075320862233639,0.123975381255150,0.026920817792416,-0.004593420773745,-0.033163797110319,-0.014231588691473,-0.029525011777878,-0.025450125336647));
res += mul(Get(s1,0,-dy), float4x4(0.025541787967086,0.001104170223698,-0.004952936433256,-0.035160619765520,-0.033393140882254,-0.082992464303970,0.066129542887211,-0.053093269467354,0.007842355407774,0.023329697549343,0.037427224218845,-0.011718464083970,0.015799408778548,-0.019614519551396,0.011511805467308,-0.042059239000082));
res += mul(Get(s1,0,0), float4x4(-0.046411469578743,-0.014696175232530,-0.050133042037487,0.024772152304649,0.038329236209393,-0.014875344000757,0.037209674715996,0.006368755828589,0.002703818259761,-0.033780720084906,0.012304053641856,-0.013941057026386,-0.057929307222366,0.054096236824989,-0.008736114017665,0.013679941184819));
res += mul(Get(s1,0,dy), float4x4(0.139398574829102,-0.067745804786682,-0.010332286357880,0.031415175646544,-0.018774222582579,0.007486729882658,0.037160962820053,0.037074998021126,-0.079305633902550,0.031258601695299,0.044004339724779,0.008995669893920,-0.008612071163952,0.036181047558784,-0.020247198641300,-0.012381267733872));
res += mul(Get(s1,dx,-dy), float4x4(0.116983115673065,0.032387644052505,-0.004543337970972,-0.048294983804226,-0.060920335352421,-0.041811149567366,0.001900380244479,-0.057236846536398,-0.010917328298092,0.065303623676300,0.047652792185545,-0.020297445356846,-0.010892362333834,0.016159115359187,0.019040619954467,-0.047290977090597));
res += mul(Get(s1,dx,0), float4x4(0.046281937509775,-0.019274817779660,-0.042075142264366,0.006582857109606,-0.006597425322980,-0.001132626901381,0.037135634571314,-0.023928485810757,-0.004907763097435,-0.013456856831908,0.033457137644291,-0.041933946311474,-0.025268910452724,0.067508205771446,-0.045534104108810,-0.037567559629679));
res += mul(Get(s1,dx,dy), float4x4(0.123236745595932,-0.060692962259054,0.002342552412301,0.008157584816217,-0.049674659967422,-0.036147795617580,0.037258196622133,0.003395373700187,-0.043682280927896,0.011982793919742,0.061258900910616,-0.018795631825924,0.004868698772043,-0.005275943782181,-0.076837457716465,-0.021658806130290));
res += mul(Get(s2,-dx,-dy), float4x4(-0.042101584374905,0.041321095079184,0.007095711305737,-0.062602810561657,-0.020055335015059,0.045254811644554,0.005658389534801,-0.053064662963152,0.008435785770416,-0.087245717644691,-0.036268863826990,-0.003432643599808,0.006391406524926,-0.022064926102757,0.014395722188056,0.006578016560525));
res += mul(Get(s2,-dx,0), float4x4(0.027567433193326,0.048885717988014,0.046021915972233,-0.015683531761169,-0.037247411906719,0.054300010204315,0.034151390194893,0.044521369040012,-0.010235222056508,-0.011606394313276,0.010463167913258,-0.016331329941750,0.054743465036154,-0.010012084618211,0.025407955050468,0.040370922535658));
res += mul(Get(s2,-dx,dy), float4x4(0.008605570532382,0.042518977075815,0.019213790073991,0.060369070619345,-0.081543400883675,-0.024325508624315,0.004974978975952,-0.013940125703812,0.067856855690479,0.032489590346813,0.006696020718664,0.040596529841423,0.040535025298595,0.016156934201717,-0.016594767570496,-0.008425458334386));
res += mul(Get(s2,0,-dy), float4x4(-0.073370844125748,-0.049626041203737,-0.031055318191648,-0.160901710391045,0.013614580966532,0.037652086466551,-0.024729842320085,0.020605180412531,-0.018582412973046,-0.050170965492725,0.041083227843046,0.016597285866737,-0.033255659043789,0.005662670824677,-0.020931424573064,0.000666863110382));
res += mul(Get(s2,0,0), float4x4(-0.004071120172739,0.023678811267018,0.004136704839766,0.190666913986206,0.030915511772037,-0.080178894102573,-0.081542402505875,-0.046071842312813,0.060478270053864,-0.024465935304761,0.044408660382032,0.032996654510498,0.032793529331684,0.003047332167625,0.046615418046713,0.021177941933274));
res += mul(Get(s2,0,dy), float4x4(0.117924869060516,-0.051499661058187,0.013854077085853,0.022974409162998,-0.105813249945641,0.038916934281588,-0.006272925995290,-0.050796769559383,0.060774385929108,-0.034734245389700,-0.004691812209785,-0.013766959309578,0.054112084209919,0.029833775013685,0.025898497551680,-0.004575044382364));
res += mul(Get(s2,dx,-dy), float4x4(-0.040254183113575,-0.031862631440163,-0.017234480008483,-0.046030923724174,-0.012703527696431,0.000321627012454,-0.085152477025986,-0.086202427744865,0.019565448164940,0.010528740473092,0.030290555208921,0.038076084107161,-0.007531780749559,-0.064935103058815,-0.060961905866861,-0.024004276841879));
res += mul(Get(s2,dx,0), float4x4(-0.032751910388470,-0.070789381861687,-0.047517463564873,0.052112318575382,-0.010173729620874,0.082611367106438,-0.152355536818504,-0.018160240724683,0.052501149475574,-0.015819460153580,-0.013217623345554,-0.007133690174669,0.001358289970085,-0.028079468756914,-0.015220088884234,0.014681391417980));
res += mul(Get(s2,dx,dy), float4x4(0.018148506060243,-0.106900468468666,-0.012762938626111,-0.048439994454384,-0.045530762523413,0.105067864060402,-0.099596351385117,-0.021643145009875,-0.010266702622175,-0.027047745883465,-0.026144111528993,-0.055982366204262,0.037715516984463,0.009143747389317,0.011050039902329,-0.028428653255105));
res += mul(Get(s3,-dx,-dy), float4x4(-0.049640420824289,0.059482794255018,0.004168495070189,-0.016435449942946,0.053075775504112,-0.010998740792274,-0.035327479243279,-0.074599303305149,0.025899719446898,-0.022281356155872,0.039497744292021,-0.041839223355055,-0.041293263435364,-0.047188147902489,0.019525939598680,-0.088393688201904));
res += mul(Get(s3,-dx,0), float4x4(-0.023577203974128,0.017208356410265,-0.059147443622351,0.046334471553564,0.009231300093234,0.025149513036013,-0.082469820976257,0.002390477806330,-0.057954151183367,0.047798153012991,0.050369851291180,0.021955177187920,0.033568974584341,-0.079474225640297,0.010470986366272,0.055182587355375));
res += mul(Get(s3,-dx,dy), float4x4(0.031512752175331,0.124262593686581,0.003855776507407,0.056935422122478,0.033386319875717,0.006358026526868,-0.042820911854506,0.003406689967960,-0.065368972718716,0.080516606569290,0.027635328471661,0.025066120550036,0.012737371958792,-0.018130684271455,-0.030112486332655,0.033770918846130));
res += mul(Get(s3,0,-dy), float4x4(-0.035234667360783,-0.059116754680872,0.014571184292436,-0.005368323996663,-0.028393011540174,0.021219929680228,-0.051956608891487,-0.002973131369799,0.162395641207695,-0.083121694624424,0.019562138244510,-0.163727939128876,0.015447862446308,-0.019114427268505,0.019439429044724,-0.053818169981241));
res += mul(Get(s3,0,0), float4x4(0.011918380856514,0.094032794237137,0.027844293043017,0.063101284205914,-0.035913195461035,-0.055598244071007,-0.107152618467808,0.024435015395284,-0.133386656641960,-0.043959066271782,-0.000072673312388,0.093609444797039,-0.000723845208995,0.046468537300825,-0.008606247603893,0.104709558188915));
res += mul(Get(s3,0,dy), float4x4(0.052627373486757,0.059134367853403,0.098834261298180,0.097049012780190,0.027743270620704,0.017845595255494,-0.071460768580437,0.046541702002287,-0.006846358999610,0.025837216526270,0.052126687020063,0.137665122747421,-0.024228854104877,-0.003310504602268,-0.021877087652683,0.069947645068169));
res += mul(Get(s3,dx,-dy), float4x4(-0.087276756763458,-0.076376564800739,0.029845627024770,-0.075034551322460,0.001114942366257,-0.009365229867399,-0.088380075991154,0.001764155109413,0.106639109551907,-0.021906074136496,0.056327894330025,-0.045995127409697,-0.021800899878144,-0.004275710321963,-0.034944314509630,0.001526352018118));
res += mul(Get(s3,dx,0), float4x4(0.029978068545461,-0.062665119767189,0.016470225527883,0.014484961517155,0.043378524482250,-0.045140970498323,-0.057445432990789,0.057380840182304,-0.107918858528137,-0.025242108851671,0.094721168279648,0.080518431961536,-0.038060985505581,0.037142556160688,-0.036890149116516,0.085365116596222));
res += mul(Get(s3,dx,dy), float4x4(0.026172839105129,-0.020381299778819,0.093302816152573,0.067498102784157,0.091626085340977,0.048486687242985,-0.017963150516152,0.045355435460806,-0.001181531930342,-0.052936561405659,0.109144069254398,0.071962334215641,0.006729814223945,-0.061533186584711,-0.042512450367212,0.029526319354773));
res = max(float4(0,0,0,0), res);
return res;
}
