sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.132409766316414,0.074234038591385,-0.077451385557652,0.166377723217010,0.037181574851274,0.049051240086555,-0.036591485142708,0.023624112829566,0.011619909666479,0.024162203073502,0.018226232379675,-0.010064688511193,-0.002092333277687,-0.047016687691212,0.017179349437356,-0.035333368927240));
res += mul(Get(s0,-dx,0), float4x4(0.014535430818796,0.017498219385743,-0.058766845613718,0.170536935329437,0.075657561421394,0.064913250505924,-0.015450677834451,0.083218410611153,-0.039042148739100,0.039805565029383,-0.014863602817059,0.002034172415733,0.008352348580956,-0.026447424665093,-0.056331466883421,-0.061955347657204));
res += mul(Get(s0,-dx,dy), float4x4(0.008650666102767,0.017783433198929,-0.023098057135940,0.047232836484909,0.080008991062641,-0.021099427714944,-0.008275446482003,0.016637938097119,-0.002130240900442,0.076080955564976,-0.029411185532808,-0.011230824515224,-0.030356761068106,-0.005202408879995,-0.034634102135897,0.027458630502224));
res += mul(Get(s0,0,-dy), float4x4(-0.086314752697945,0.117654874920845,-0.019699316471815,0.172970950603485,-0.041182480752468,0.018780466169119,-0.042108938097954,-0.040533207356930,-0.064807742834091,0.014011190272868,0.012384650297463,0.021850695833564,-0.013254217803478,-0.017208119854331,0.064969278872013,-0.017160782590508));
res += mul(Get(s0,0,0), float4x4(0.053766340017319,0.024557782337070,0.048608239740133,0.073104768991470,0.040506843477488,0.027501951903105,-0.040504585951567,0.027612531557679,-0.034333024173975,-0.007078197319061,0.005508829839528,0.002122990321368,0.006893832236528,-0.033107269555330,-0.097543261945248,-0.048022583127022));
res += mul(Get(s0,0,dy), float4x4(-0.026375859975815,0.058412116020918,0.036705844104290,-0.031422585248947,0.104562453925610,-0.016504781320691,-0.020240778103471,-0.012685049325228,0.001856477581896,-0.055968776345253,-0.009293352253735,-0.022252859547734,-0.036557763814926,-0.035035803914070,-0.038030531257391,0.039743032306433));
res += mul(Get(s0,dx,-dy), float4x4(-0.015612377785146,0.036054536700249,-0.030646275728941,0.073620595037937,-0.090388856828213,0.002169224666432,0.017901485785842,-0.051371645182371,-0.062360715121031,-0.051267925649881,-0.056935895234346,-0.016237029805779,-0.003700725035742,0.042981117963791,0.152201026678085,-0.048840556293726));
res += mul(Get(s0,dx,0), float4x4(-0.035035908222198,-0.036935996264219,0.063470706343651,-0.022824551910162,-0.047942910343409,0.015228035859764,-0.012143083848059,-0.008824069984257,-0.008309092372656,-0.075523033738136,-0.027541106566787,-0.038299985229969,0.008312785066664,0.021060084924102,-0.036296784877777,-0.004878734238446));
res += mul(Get(s0,dx,dy), float4x4(-0.099870100617409,0.051757827401161,0.072010703384876,-0.074034221470356,-0.009161088615656,-0.040090221911669,-0.005890502594411,-0.025949159637094,0.009579736739397,-0.065001189708710,-0.039662279188633,0.013907876797020,-0.036574028432369,-0.017978312447667,-0.048091717064381,-0.011322122998536));
res += mul(Get(s1,-dx,-dy), float4x4(0.024048609659076,-0.007214240264148,-0.038774926215410,-0.076656423509121,0.019872639328241,0.035745479166508,-0.018925720825791,-0.024896573275328,-0.061505686491728,-0.027981789782643,0.066918604075909,-0.074289478361607,-0.059555336833000,-0.018098128959537,-0.024882834404707,-0.015046920627356));
res += mul(Get(s1,-dx,0), float4x4(-0.034209229052067,-0.024027947336435,-0.062219373881817,-0.097074687480927,0.032139770686626,0.029742185026407,-0.039835926145315,0.027663128450513,-0.038479104638100,0.049808744341135,0.016664221882820,-0.012908934615552,-0.073112607002258,0.007805256173015,-0.030619220808148,0.013507600873709));
res += mul(Get(s1,-dx,dy), float4x4(-0.036302249878645,0.014656214974821,-0.023785028606653,-0.001831677276641,0.065897047519684,0.016257973387837,-0.009878220967948,-0.002967094536871,-0.076339825987816,0.024097323417664,0.042668957263231,-0.031734481453896,-0.048609264194965,-0.056115370243788,0.009624754078686,0.012489378452301));
res += mul(Get(s1,0,-dy), float4x4(0.013714434579015,0.029835557565093,0.037517629563808,-0.081574857234955,-0.007852965965867,0.045904528349638,-0.022458698600531,-0.033018585294485,-0.004638918675482,-0.065878443419933,0.037597630172968,-0.139555230736732,0.041393395513296,-0.028745617717505,-0.049855377525091,-0.039840888231993));
res += mul(Get(s1,0,0), float4x4(-0.006881881039590,0.045179855078459,-0.072226732969284,-0.030524427071214,-0.025391489267349,0.036064479500055,-0.022702442482114,0.044807627797127,-0.019913399592042,0.021524513140321,-0.070875525474548,-0.005522964056581,-0.072227708995342,0.004694310948253,0.016943817958236,0.072836749255657));
res += mul(Get(s1,0,dy), float4x4(-0.044730544090271,0.088883996009827,-0.011223649606109,0.051934443414211,0.072371378540993,0.030747937038541,-0.003398817731068,0.012799273245037,-0.079028889536858,0.075675614178181,0.074325025081635,0.049993246793747,-0.073949679732323,-0.057514902204275,0.001443183515221,0.010488822124898));
res += mul(Get(s1,dx,-dy), float4x4(-0.065674982964993,-0.011995242908597,0.133232146501541,0.030501477420330,-0.032151732593775,0.045288939028978,-0.025771528482437,0.001387383206747,0.043711669743061,-0.075376510620117,0.040803145617247,-0.052750527858734,0.097568064928055,-0.037803858518600,-0.006247234530747,0.015774322673678));
res += mul(Get(s1,dx,0), float4x4(-0.022553185001016,0.044623404741287,0.102921456098557,0.122501909732819,0.006608239840716,-0.005790127441287,-0.022940099239349,0.026520824059844,0.059033073484898,-0.077661506831646,-0.056791838258505,0.038378834724426,0.058654196560383,-0.053436070680618,0.064526967704296,0.090962134301662));
res += mul(Get(s1,dx,dy), float4x4(-0.034218017011881,-0.000211521415622,0.079712562263012,0.020312149077654,0.117960587143898,0.001950047328137,-0.023208247497678,-0.024902056902647,-0.032852809876204,-0.051926814019680,0.022821510210633,-0.000506017473526,-0.009028874337673,-0.175919428467751,0.026523793116212,-0.016950609162450));
res += mul(Get(s2,-dx,-dy), float4x4(0.037916790693998,-0.006894033867866,-0.050061877816916,0.008208918385208,-0.012071096338332,-0.042283669114113,0.051084268838167,-0.009596573188901,-0.064635962247849,0.085376605391502,0.075236424803734,0.079537451267242,0.072869114577770,0.021678488701582,-0.010894967243075,-0.009589600376785));
res += mul(Get(s2,-dx,0), float4x4(-0.031056974083185,-0.010100351646543,-0.070946313440800,0.000517156382557,0.052802603691816,-0.008009176701307,0.029025936499238,-0.005074476357549,-0.036432515829802,-0.015938932076097,0.090691864490509,0.012982655316591,0.032869569957256,-0.003127777017653,-0.014643930830061,-0.011347421444952));
res += mul(Get(s2,-dx,dy), float4x4(-0.026040049269795,0.005599956028163,-0.026232214644551,-0.008049611002207,0.034954726696014,-0.012375546619296,-0.030021000653505,-0.049771029502153,-0.086575210094452,0.092241354286671,0.155770346522331,-0.006026735529304,-0.027942027896643,0.046900827437639,0.015235902741551,0.018860913813114));
res += mul(Get(s2,0,-dy), float4x4(0.001092305290513,0.073762275278568,0.011398371309042,0.095530800521374,-0.060063730925322,-0.033814005553722,0.049128614366055,-0.038902185857296,-0.040817130357027,0.099714010953903,0.039594847708941,0.059935662895441,0.088082641363144,0.016059802845120,-0.029324520379305,-0.011660924181342));
res += mul(Get(s2,0,0), float4x4(-0.025200463831425,0.048881050199270,-0.002458019414917,0.065554864704609,0.067397467792034,0.031039373949170,0.041354596614838,-0.076056815683842,-0.011384473182261,0.032251156866550,0.063420727849007,0.032773595303297,0.092731267213821,-0.016170479357243,-0.045735806226730,-0.040436498820782));
res += mul(Get(s2,0,dy), float4x4(-0.019935788586736,-0.044927686452866,-0.039616987109184,-0.036213714629412,0.033384971320629,-0.000540959183127,-0.057010024785995,-0.087066665291786,-0.061881698668003,0.004282675217837,0.097547084093094,-0.054230690002441,-0.028332540765405,0.071975059807301,-0.026277199387550,0.016381246969104));
res += mul(Get(s2,dx,-dy), float4x4(0.001076105982065,0.042210794985294,-0.015964543446898,-0.027298519387841,-0.019111961126328,-0.067842058837414,0.020499572157860,-0.071444161236286,-0.078071258962154,0.106029920279980,-0.030491286888719,0.038057137280703,0.033211082220078,0.050552837550640,-0.020711313933134,0.005604544654489));
res += mul(Get(s2,dx,0), float4x4(-0.027533909305930,0.037385657429695,-0.000292243552394,-0.030135447159410,0.063279695808887,-0.035812135785818,-0.011398194357753,-0.075567774474621,-0.017126962542534,0.097194612026215,-0.045422099530697,0.023077828809619,0.072692811489105,-0.018735246732831,0.003260119119659,-0.011729137971997));
res += mul(Get(s2,dx,dy), float4x4(-0.018195984885097,-0.023514082655311,-0.037236709147692,-0.012058350257576,0.015073513612151,-0.016302518546581,-0.034249771386385,-0.087433919310570,-0.063004612922668,0.101658977568150,0.057524796575308,-0.068976826965809,0.078220896422863,0.003934293519706,-0.008996345102787,0.003720008768141));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011648898944259,-0.003842389676720,0.113250292837620,0.064218364655972,-0.009922292083502,0.056300807744265,-0.082537107169628,-0.034569084644318,0.044820860028267,-0.034473605453968,-0.043322090059519,-0.004598964937031,0.003967537544668,0.011334896087646,0.017120886594057,0.007873790338635));
res += mul(Get(s3,-dx,0), float4x4(0.087792508304119,0.057164434343576,0.077076710760593,0.049212954938412,-0.053007550537586,0.025120921432972,-0.042953521013260,-0.064547486603260,0.106759384274483,0.038036346435547,-0.040425624698400,-0.054782476276159,0.002092924201861,0.002206118311733,-0.000671722227708,-0.011074874550104));
res += mul(Get(s3,-dx,dy), float4x4(0.070352092385292,-0.008491572923958,0.075268425047398,-0.003180921077728,-0.133816435933113,0.051802217960358,-0.084274232387543,0.009589269757271,0.044003032147884,0.036697357892990,-0.077923983335495,0.019834058359265,-0.003698548302054,-0.006808164063841,-0.016258066520095,-0.009818961843848));
res += mul(Get(s3,0,-dy), float4x4(-0.032519239932299,-0.003446320071816,0.126831814646721,0.072460062801838,0.033157378435135,-0.007741955574602,-0.025925306603312,-0.039978772401810,0.107314765453339,-0.121657930314541,-0.026814481243491,-0.119963712990284,0.013249728828669,-0.006018545478582,-0.004175347741693,-0.003421711502597));
res += mul(Get(s3,0,0), float4x4(0.096040248870850,0.038706943392754,0.030872689560056,-0.000880837265868,0.036078236997128,-0.071718744933605,0.029919756576419,0.122672773897648,-0.021881163120270,-0.035202965140343,-0.030009856447577,-0.058589804917574,0.003958919551224,-0.007659113034606,-0.004541690461338,0.003063374198973));
res += mul(Get(s3,0,dy), float4x4(0.107661902904510,-0.022544683888555,-0.022574193775654,-0.006739255040884,-0.035583250224590,-0.044688619673252,-0.020115355029702,0.056423734873533,-0.044003129005432,0.205255270004272,0.002062981016934,0.083114281296730,-0.004615236539394,0.010525703430176,0.000421706005000,0.020889440551400));
res += mul(Get(s3,dx,-dy), float4x4(-0.045897375792265,-0.024977609515190,0.069457225501537,0.018539424985647,-0.063906297087669,0.051847279071808,0.025566300377250,0.063868179917336,0.091859057545662,-0.060767032206059,-0.014031182974577,-0.015246252529323,0.011170723475516,-0.003524592146277,-0.004007658921182,0.012655106373131));
res += mul(Get(s3,dx,0), float4x4(0.054369457066059,-0.005199588835239,-0.011487941257656,-0.021543312817812,0.112295530736446,-0.047359261661768,0.030831580981612,0.025321202352643,0.038023609668016,0.022115861997008,0.010436118580401,0.068014606833458,0.001745795016177,-0.001197860343382,0.002342376159504,0.023487150669098));
res += mul(Get(s3,dx,dy), float4x4(0.058616496622562,-0.009496201761067,-0.034147370606661,-0.049643967300653,0.011099492199719,-0.069158762693405,-0.060706622898579,-0.005595272406936,-0.005398959387094,0.126898333430290,0.000477325811516,0.036232527345419,0.004222793970257,0.002714193193242,0.008055618032813,0.020535223186016));
res = max(float4(0,0,0,0), res);
return res;
}
