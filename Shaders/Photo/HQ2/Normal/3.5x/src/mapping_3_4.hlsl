sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.013747191056609,-0.114891618490219,0.043693110346794,0.001142128603533,0.010877256281674,0.049930293112993,-0.051686048507690,-0.117014646530151,-0.049030553549528,-0.143893420696259,-0.049428571015596,0.003818576689810,-0.093298070132732,-0.100525319576263,-0.014215180650353,-0.019891556352377));
res += mul(Get(s0,-dx,0), float4x4(-0.021138936281204,-0.138755768537521,0.058001860976219,0.069648608565331,-0.001894802087918,0.014958585612476,0.014365429058671,-0.059895899146795,-0.034431423991919,0.019180817529559,-0.008168986998498,-0.225865527987480,-0.064862601459026,0.044331602752209,0.004670004360378,-0.013254925608635));
res += mul(Get(s0,-dx,dy), float4x4(-0.014538850635290,-0.003752392716706,-0.036884333938360,0.027540493756533,0.006167910527438,0.066458299756050,0.063673757016659,0.042180679738522,-0.128783255815506,0.057970058172941,0.043851174414158,-0.137719795107841,-0.025730272755027,0.057234186679125,-0.011308833956718,0.000448129721917));
res += mul(Get(s0,0,-dy), float4x4(-0.098448716104031,-0.119891121983528,-0.008023557253182,-0.011565464548767,0.000091968788183,0.046690642833710,0.007615439593792,-0.039203520864248,-0.017732797190547,-0.100000895559788,0.029092321172357,-0.031311310827732,0.014102104119956,0.052139203995466,-0.030631667003036,0.001679753302597));
res += mul(Get(s0,0,0), float4x4(-0.060583323240280,-0.049240324646235,-0.026243641972542,-0.021244283765554,-0.012478508055210,0.002001217566431,0.130862042307854,-0.062530636787415,-0.013508219271898,0.065474472939968,0.007855025120080,-0.250198096036911,0.065831087529659,0.143828868865967,0.017404936254025,0.049989629536867));
res += mul(Get(s0,0,dy), float4x4(-0.021182101219893,0.121854305267334,0.026882112026215,-0.012758497148752,-0.015901777893305,0.045678906142712,0.093579828739166,0.054984401911497,-0.078539855778217,0.022358207032084,0.042017266154289,-0.114156588912010,-0.000972273759544,0.030102578923106,-0.049460228532553,0.075085774064064));
res += mul(Get(s0,dx,-dy), float4x4(0.066357605159283,0.035266209393740,-0.083530634641647,-0.025752294808626,-0.027684118598700,0.015912957489491,0.044377408921719,-0.009967735037208,0.259037256240845,0.059556733816862,0.004251119215041,0.003565155668184,0.042825076729059,-0.013085023500025,-0.038586132228374,-0.005136469379067));
res += mul(Get(s0,dx,0), float4x4(0.090670689940453,0.125128522515297,-0.042781099677086,0.008031484670937,-0.036403376609087,0.022622652351856,0.069784693419933,-0.064213760197163,0.254677176475525,0.157237201929092,0.047407645732164,-0.041796572506428,0.098354123532772,-0.014023968949914,-0.021653531119227,-0.021507311612368));
res += mul(Get(s0,dx,dy), float4x4(0.015021528117359,0.044041823595762,-0.014884510077536,0.015811435878277,-0.033036738634109,0.053646884858608,-0.035829521715641,0.026000436395407,0.076900526881218,-0.017499702051282,0.090965904295444,0.035635210573673,0.027642661705613,-0.072722487151623,-0.089548327028751,0.014928480610251));
res += mul(Get(s1,-dx,-dy), float4x4(-0.140810847282410,-0.100321009755135,0.022645151242614,-0.027005990967155,-0.022119753062725,-0.124386757612228,0.032245151698589,-0.028621004894376,-0.029507432132959,0.003525084583089,0.075894236564636,0.017638208344579,-0.031377404928207,-0.086464144289494,-0.011446328833699,0.065992362797260));
res += mul(Get(s1,-dx,0), float4x4(-0.143240317702293,-0.014643915928900,-0.013209786266088,-0.120889715850353,-0.040581922978163,-0.043982751667500,0.014705371111631,-0.038458153605461,-0.028519125655293,-0.008381227962673,0.085449904203415,0.119772203266621,-0.063402421772480,-0.015270897187293,-0.011885793879628,-0.038174860179424));
res += mul(Get(s1,-dx,dy), float4x4(-0.118416517972946,0.010176284238696,0.048916727304459,-0.107430987060070,-0.042574025690556,-0.037398368120193,0.033324405550957,0.041636534035206,-0.043787267059088,-0.072212867438793,-0.020486278459430,0.095941074192524,-0.054337266832590,-0.004260184708983,0.040617246180773,0.006345866248012));
res += mul(Get(s1,0,-dy), float4x4(0.057755548506975,0.017448911443353,-0.034275941550732,0.040616292506456,-0.078188911080360,-0.033836968243122,0.115801334381104,-0.032261747866869,-0.076052293181419,-0.044954765588045,0.099970847368240,-0.000577097351197,0.018448628485203,-0.033285059034824,-0.026309676468372,-0.015276981517673));
res += mul(Get(s1,0,0), float4x4(0.117383711040020,0.106071874499321,-0.039577737450600,0.051080163568258,-0.059607651084661,0.070436127483845,-0.058279093354940,-0.005048976279795,-0.070988625288010,-0.058120008558035,0.028180208057165,-0.020590491592884,-0.025581233203411,0.064873546361923,0.027716660872102,-0.026428680866957));
res += mul(Get(s1,0,dy), float4x4(0.035129766911268,0.027341760694981,0.022728573530912,0.056490838527679,-0.081910714507103,-0.038291215896606,-0.078078784048557,0.030311681330204,0.000492132501677,-0.043341889977455,-0.007776669692248,-0.022658517584205,-0.000496924330946,-0.003443076508120,0.061871331185102,0.025648061186075));
res += mul(Get(s1,dx,-dy), float4x4(0.054024837911129,-0.062555417418480,-0.026784146204591,0.045167982578278,0.043555647134781,0.018235133960843,-0.080012269318104,-0.015570454299450,-0.012419011443853,-0.018675837665796,-0.041977312415838,0.058458488434553,0.088062644004822,-0.056329037994146,-0.030114270746708,-0.025344470515847));
res += mul(Get(s1,dx,0), float4x4(0.158664777874947,-0.043654754757881,-0.044346883893013,0.122643999755383,0.148284256458282,0.099132560193539,-0.193741664290428,0.052646312862635,-0.079867362976074,-0.011544882319868,-0.131688803434372,-0.003228473244235,0.054680291563272,0.015640482306480,0.000263129855739,0.025627555325627));
res += mul(Get(s1,dx,dy), float4x4(0.094998024404049,-0.061735872179270,-0.038735438138247,0.129317045211792,0.135312825441360,-0.000727497390471,-0.140284523367882,-0.006284989416599,0.011972527019680,0.029869411140680,-0.091562144458294,0.000306064408505,0.067005202174187,-0.020897172391415,0.009313113056123,0.033941674977541));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004681147634983,-0.027507137507200,0.035566374659538,0.013174303807318,-0.080660238862038,0.001715358346701,-0.095472753047943,0.112857878208160,-0.003396173240617,0.006177480798215,-0.022320628166199,-0.012843577191234,-0.026945907622576,0.033127505332232,0.016835115849972,-0.007891837507486));
res += mul(Get(s2,-dx,0), float4x4(-0.012775047682226,0.015292569063604,0.030863979831338,0.013514650054276,0.010434934869409,-0.008444341830909,-0.023904714733362,0.031706750392914,-0.012738416902721,0.012066984549165,0.060595683753490,0.041785694658756,-0.023371234536171,0.113661624491215,0.040892604738474,-0.031058991327882));
res += mul(Get(s2,-dx,dy), float4x4(-0.001534731360152,-0.005997676402330,0.000556160113774,-0.006531634368002,0.026971671730280,-0.012624073773623,0.007879767566919,0.036335058510303,0.009195331484079,0.005860128905624,0.044044941663742,0.008860572241247,-0.027414465323091,0.104996979236603,-0.002078639110550,-0.044657457619905));
res += mul(Get(s2,0,-dy), float4x4(-0.004493203014135,-0.007960042916238,0.039225645363331,-0.000675529590808,-0.002907654736191,0.001274805516005,0.037522517144680,-0.067208200693130,0.013874727301300,0.022759905084968,0.042046319693327,0.060602515935898,-0.006972714792937,0.137001335620880,0.014725490473211,-0.038799129426479));
res += mul(Get(s2,0,0), float4x4(-0.000133679437567,0.013425726443529,0.030815383419394,0.000268149131443,0.016691556200385,0.019025499001145,0.001615746528842,-0.086200162768364,-0.031134190037847,0.026337476447225,0.050720211118460,0.022801492363214,0.023293206468225,0.218304455280304,0.096616566181183,-0.023409117013216));
res += mul(Get(s2,0,dy), float4x4(0.012097118422389,0.017350172623992,0.006729638669640,0.001658100634813,-0.051023706793785,0.074839897453785,-0.050798002630472,-0.051373448222876,-0.051342222839594,-0.013770576566458,-0.014245473779738,-0.028752062469721,0.029431972652674,0.133164227008820,0.013186900876462,-0.034429643303156));
res += mul(Get(s2,dx,-dy), float4x4(0.004083481617272,-0.002223495393991,0.026541570201516,-0.008611813187599,0.055230110883713,-0.014509147033095,0.100968949496746,-0.060910858213902,0.010241982527077,0.026090502738953,0.071348585188389,0.019448988139629,-0.026879759505391,0.011444390751421,-0.037144765257835,-0.027674196287990));
res += mul(Get(s2,dx,0), float4x4(0.002071579219773,0.025206906720996,0.013485008850694,0.012131637893617,0.049729276448488,0.032375719398260,0.016078229993582,-0.061748754233122,-0.040274467319250,0.033031027764082,-0.030354583635926,-0.033001419156790,0.005615617148578,0.056250173598528,-0.020523142069578,0.036905087530613));
res += mul(Get(s2,dx,dy), float4x4(0.008527513593435,0.005429161712527,0.005606317892671,0.008003701455891,-0.007284231018275,0.072912700474262,-0.051898259669542,-0.007918288931251,-0.099990412592888,-0.029767578467727,-0.092865951359272,-0.006632963661104,0.059605311602354,0.048712141811848,-0.034603256732225,0.024594767019153));
res += mul(Get(s3,-dx,-dy), float4x4(-0.015354030765593,-0.009406299330294,0.002171868691221,0.046436194330454,-0.018300538882613,-0.044175099581480,-0.010456001386046,0.034403666853905,-0.052864030003548,-0.079992115497589,0.019607098773122,-0.017971111461520,-0.008996479213238,0.026219025254250,0.004230426158756,0.012649179436266));
res += mul(Get(s3,-dx,0), float4x4(-0.007123182062060,0.007671480998397,-0.051403425633907,-0.030062992125750,-0.039971154183149,-0.049318555742502,0.066970631480217,0.071574211120605,-0.027340274304152,0.014063175767660,0.018076099455357,0.023499896749854,0.003208030248061,0.008109115995467,-0.020908553153276,-0.003897807328030));
res += mul(Get(s3,-dx,dy), float4x4(-0.048648118972778,-0.006304117850959,-0.040070820599794,-0.015613622032106,0.007683640811592,-0.051641274243593,0.026544054970145,0.036475323140621,-0.002679180121049,-0.027544563636184,-0.046787116676569,-0.002308520954102,0.019603414461017,-0.023739021271467,0.005484174471349,0.013334940187633));
res += mul(Get(s3,0,-dy), float4x4(-0.013679355382919,0.040077220648527,0.043492823839188,0.058729626238346,-0.059200838208199,-0.080320097506046,0.051036622375250,0.028914127498865,0.035737000405788,-0.027708034962416,0.066983826458454,-0.017489086836576,-0.003661232069135,-0.030641395598650,-0.029731750488281,-0.026807196438313));
res += mul(Get(s3,0,0), float4x4(-0.000098308897577,0.077966734766960,-0.015935614705086,-0.006803613156080,-0.057697631418705,-0.083031140267849,0.058850605040789,0.057402208447456,0.007372801657766,0.046426121145487,0.056310418993235,0.006424157880247,-0.027237741276622,-0.044130023568869,0.003763754386455,-0.002928426256403));
res += mul(Get(s3,0,dy), float4x4(-0.038994375616312,0.043637897819281,-0.035547062754631,-0.067952260375023,-0.008549875579774,-0.021181255578995,0.000934627256356,0.030196042731404,-0.032541420310736,0.011851331219077,-0.017531670629978,0.006927703507245,-0.021574351936579,-0.038588766008615,0.054119881242514,0.001752014388330));
res += mul(Get(s3,dx,-dy), float4x4(-0.019961759448051,-0.014971647411585,0.020240128040314,0.027695123106241,0.006014422979206,-0.046983182430267,-0.040861938148737,0.015045077539980,0.019196303561330,0.006953295320272,-0.053472295403481,0.057081878185272,0.003809185000136,-0.019884569570422,0.026983078569174,-0.037431821227074));
res += mul(Get(s3,dx,0), float4x4(0.036252819001675,0.018085556104779,-0.018240898847580,0.015189898200333,-0.019968183711171,-0.009423980489373,-0.101264581084251,0.024881562218070,-0.010688880458474,0.009766668081284,-0.016578830778599,-0.007686485070735,-0.008160413242877,0.009504077956080,0.121101632714272,-0.075613923370838));
res += mul(Get(s3,dx,dy), float4x4(0.024009063839912,-0.009361402131617,-0.019121332094073,-0.020689999684691,0.046513680368662,0.040302991867065,-0.081331379711628,0.028421904891729,-0.044804465025663,-0.014739333651960,0.021588115021586,-0.006513435393572,-0.022305410355330,0.009427553042769,0.065427459776402,-0.068033821880817));
res = max(float4(0,0,0,0), res);
return res;
}
