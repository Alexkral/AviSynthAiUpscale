sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.002681061159819,0.009324805811048,-0.000730011728592,-0.024846948683262) * Get(-dx,-dy);
res += float4(-0.002475455170497,0.038052368909121,0.003589025465772,-0.045953296124935) * Get(-dx,0);
res += float4(-0.001874029985629,0.005479900166392,-0.006948022637516,-0.028881555423141) * Get(-dx,dy);
res += float4(0.001129347598180,0.011289215646684,0.001376627595164,-0.042288478463888) * Get(0,-dy);
res += float4(-0.003467639908195,0.031979821622372,0.001119674183428,-0.000091826019343) * Get(0,0);
res += float4(-0.001636673230678,0.001765373395756,-0.006399560719728,0.027842862531543) * Get(0,dy);
res += float4(0.001437484752387,-0.055531032383442,-0.004734848160297,-0.038797710090876) * Get(dx,-dy);
res += float4(-0.002352443989366,-0.048287395387888,-0.008212503977120,0.011674063280225) * Get(dx,0);
res += float4(-0.001296104630455,-0.052822172641754,-0.001520941383205,0.036234613507986) * Get(dx,dy);
res = max(float4(0,0,0,0), res);
return res;
}
