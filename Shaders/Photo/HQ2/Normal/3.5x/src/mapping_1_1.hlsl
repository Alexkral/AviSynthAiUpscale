sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002024764195085,-0.002776652574539,0.025774968788028,-0.004358369391412,0.034400317817926,0.003753613913432,-0.003301479388028,-0.023465912789106,0.009335817769170,0.001921000075527,0.010821162723005,-0.004540304653347,0.087213352322578,-0.034110788255930,0.014976697973907,0.003695337567478));
res += mul(Get(s0,-dx,0), float4x4(-0.045454252511263,0.014051091857255,0.023207528516650,-0.006393800955266,0.014377636834979,0.002339090919122,0.008899876847863,0.011837967671454,-0.042259894311428,0.014779906719923,0.026278475299478,-0.004175612237304,-0.107739351689816,0.018828071653843,0.008803782053292,0.006628217641264));
res += mul(Get(s0,-dx,dy), float4x4(0.089479438960552,-0.012569196522236,0.014133426360786,0.022528730332851,-0.101153522729874,-0.026206022128463,0.017572725191712,0.026849078014493,0.101227998733521,-0.007877483032644,0.003345264820382,0.008131141774356,-0.066386625170708,-0.017705788835883,-0.006677539553493,0.001304817735218));
res += mul(Get(s0,0,-dy), float4x4(-0.003113213693723,-0.011508092284203,0.010227820836008,-0.001560311764479,0.083026997745037,0.023829044774175,0.027423197403550,-0.027974905446172,0.006685598753393,0.006076508201659,0.006786225363612,0.010177031159401,0.189464315772057,-0.020265780389309,-0.014930400066078,0.014332442544401));
res += mul(Get(s0,0,0), float4x4(-0.039711430668831,0.032114166766405,0.027046276256442,-0.001676735817455,-0.048025123775005,-0.031269017606974,0.025705059990287,0.013413794338703,-0.015614316798747,0.023108528926969,0.032429430633783,-0.001724126399495,0.001739396713674,0.074302516877651,0.014068651944399,-0.005697892978787));
res += mul(Get(s0,0,dy), float4x4(0.081635966897011,0.000605153327342,0.024549778550863,0.005627200938761,-0.180314555764198,-0.023502439260483,0.015820596367121,0.029116703197360,0.103858739137650,0.001126165851019,0.015610697679222,-0.003494353732094,-0.005856068804860,-0.017125394195318,-0.018708948045969,-0.002789877122268));
res += mul(Get(s0,dx,-dy), float4x4(-0.001406303024851,-0.012187196873128,0.000179107344593,-0.016370389610529,0.154536247253418,0.005808749236166,-0.070509620010853,-0.039985712617636,0.024219486862421,-0.015678429976106,0.005821489263326,0.004985263571143,0.067577451467514,-0.015349811874330,-0.011585434898734,-0.004607928451151));
res += mul(Get(s0,dx,0), float4x4(-0.026272933930159,0.025818424299359,0.018533715978265,0.003118841676041,0.042242016643286,-0.030191723257303,-0.079382121562958,-0.031928855925798,-0.035292141139507,0.043316733092070,0.019369944930077,0.006672656163573,-0.113255634903908,0.041134685277939,-0.008532569743693,0.014727563597262));
res += mul(Get(s0,dx,dy), float4x4(0.087126500904560,0.000407516519772,0.010900366120040,0.006108510307968,-0.104072533547878,-0.036146480590105,-0.085212826728821,0.010873659513891,0.112039633095264,-0.014176654629409,0.025682922452688,0.007322858553380,-0.036041282117367,-0.023698544129729,-0.020063476637006,-0.019620003178716));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002292582998052,-0.008844016119838,-0.004246426280588,-0.005579158663750,-0.000550780096091,-0.011914633214474,0.000106423445686,-0.014553276821971,-0.006144330371171,0.002353986492380,-0.008502240292728,0.005989846773446,-0.004996992181987,-0.003058842616156,0.008093501441181,0.012675758451223));
res += mul(Get(s1,-dx,0), float4x4(-0.001149442512542,0.001266228151508,0.000510984275024,0.008927182294428,-0.013328714296222,0.001205584383570,0.005338987335563,0.008709336631000,-0.002127715153620,0.011817511171103,-0.004329559393227,0.000936905387789,0.007325601298362,-0.001102024223655,0.006519183982164,0.003670794190839));
res += mul(Get(s1,-dx,dy), float4x4(0.008300897665322,-0.000578900682740,0.004100151825696,0.005686315242201,-0.013474991545081,0.003808168694377,-0.005340788979083,0.020191382616758,-0.004414475988597,0.001288845553063,-0.007999119348824,-0.004623250570148,0.001305878744461,0.008995701558888,0.000647857086733,-0.010582834482193));
res += mul(Get(s1,0,-dy), float4x4(0.002457210328430,-0.020887305960059,-0.004183059558272,0.007226385641843,-0.000542367924936,0.001172320218757,0.015270637348294,0.003188146045431,0.005799777805805,-0.010771984234452,0.011116945184767,0.002685762941837,-0.009639994241297,0.002108277985826,-0.008276379667222,-0.009800434112549));
res += mul(Get(s1,0,0), float4x4(-0.005850114393979,0.006105791777372,0.003167038783431,0.017689183354378,0.007308340165764,0.010413079522550,0.015979360789061,-0.017153687775135,-0.005565735511482,-0.005301702767611,0.007524589542300,-0.005986325442791,-0.014239658601582,0.002957829041407,-0.002194302855060,-0.010232090950012));
res += mul(Get(s1,0,dy), float4x4(-0.008010663092136,0.002420390257612,-0.006378611084074,0.001300797099248,0.004969416651875,0.007204943336546,0.010453389026225,0.002115397481248,-0.002613211516291,-0.003140481654555,-0.011257825419307,0.010557205416262,0.007010226137936,-0.002025856636465,-0.000654207135085,0.002385941334069));
res += mul(Get(s1,dx,-dy), float4x4(-0.003174968995154,0.000672505819239,-0.001094448613003,0.002369159366935,0.013351252302527,-0.000663460290525,0.006075878627598,0.005265633109957,0.004396253265440,-0.009350330568850,0.000662531936541,-0.000902160711121,0.000770318729337,-0.002793592866510,-0.001856028451584,0.008992954157293));
res += mul(Get(s1,dx,0), float4x4(0.016114879399538,-0.008729561232030,-0.008801053278148,-0.009814978577197,0.001643887371756,-0.013251821510494,-0.005295761395246,-0.013135403394699,0.000053562238463,-0.000399530341383,-0.001590628642589,0.003090452868491,0.005407722666860,0.008504778146744,0.007125456351787,-0.001079769805074));
res += mul(Get(s1,dx,dy), float4x4(-0.010187202133238,0.002115438226610,0.009163613431156,-0.006952156778425,-0.002092488575727,0.017169777303934,0.001550151850097,-0.007574963849038,-0.002437015529722,-0.000555207370780,0.007395576220006,-0.003302029566839,-0.003282107179984,0.020174955949187,-0.002873065648600,-0.008860216476023));
res += mul(Get(s2,-dx,-dy), float4x4(0.022158309817314,0.001324338372797,-0.001471072435379,-0.000856559141539,0.012044985778630,-0.002825644100085,0.013695822097361,0.010242586024106,0.003868938889354,-0.004230930004269,0.006373486015946,0.004101286176592,-0.012400490231812,-0.001103411777876,0.020746529102325,-0.006178504787385));
res += mul(Get(s2,-dx,0), float4x4(0.001579825766385,0.006167625077069,0.016355838626623,0.006358450278640,0.001411754987203,-0.003570530796424,-0.011228795163333,-0.002862202003598,-0.007993996143341,-0.020248621702194,0.012585667893291,-0.008297794498503,0.007250357884914,-0.009671675041318,0.002500392263755,0.007460685446858));
res += mul(Get(s2,-dx,dy), float4x4(-0.004492249339819,0.003953918348998,0.008192085660994,-0.004967748187482,-0.003640742972493,-0.006566102616489,0.007155216298997,-0.016945101320744,-0.008536188863218,-0.005546639673412,-0.012037557549775,0.010873216204345,-0.013267438858747,-0.003928989171982,-0.001663967617787,0.006965531967580));
res += mul(Get(s2,0,-dy), float4x4(0.008680218830705,0.012552086263895,-0.003041723510250,-0.011394847184420,-0.008028023876250,0.004114804789424,-0.006835086271167,-0.002647369168699,-0.000377390679205,-0.006284986156970,-0.002005028538406,-0.003307744162157,-0.015603167936206,0.010430290363729,-0.005779141560197,0.005586802959442));
res += mul(Get(s2,0,0), float4x4(0.011009323410690,0.010577397421002,0.016783474013209,0.010632039979100,-0.004357124213129,0.001392541918904,0.012911633588374,0.000882257358171,-0.001764904358424,0.000925725325942,-0.001348892692477,-0.012152181006968,-0.003784671192989,-0.006027687340975,-0.005923608783633,0.002436473034322));
res += mul(Get(s2,0,dy), float4x4(-0.007069238927215,-0.006687576416880,0.005067312158644,0.014996332116425,0.000724302022718,0.004946796689183,-0.011503146961331,-0.007243919651955,0.008229665458202,-0.002849139738828,0.004221995361149,0.004240073263645,-0.006721792742610,-0.000340584403602,0.001220975420438,0.015897966921329));
res += mul(Get(s2,dx,-dy), float4x4(0.018687509000301,0.013870382681489,0.004776197951287,-0.001194306882098,-0.009300767444074,-0.005226645153016,0.004075763747096,-0.006876449100673,0.012205482460558,-0.000576709746383,-0.011137982830405,0.006770063191652,0.009518360719085,-0.003595859277993,-0.001881329924800,-0.006086724344641));
res += mul(Get(s2,dx,0), float4x4(-0.012952334247530,-0.005579008720815,0.002569537144154,-0.010192399844527,-0.011777039617300,0.010816039517522,-0.006321855355054,-0.005077541805804,0.000457663583802,-0.003942461684346,-0.008106756955385,0.007728734519333,0.009648147039115,0.009282710030675,-0.001235507195815,0.008184870705009));
res += mul(Get(s2,dx,dy), float4x4(-0.001141143147834,-0.006107199937105,-0.018484042957425,0.017338626086712,-0.006471056025475,-0.004551954101771,0.008747189305723,-0.001553492504172,-0.010284719988704,-0.009499663487077,-0.001328851678409,-0.006190845277160,0.006700582802296,0.002840753644705,0.000257384032011,-0.017899114638567));
res += mul(Get(s3,-dx,-dy), float4x4(0.011306294240057,-0.010773175396025,-0.002775216009468,-0.001070701284334,0.098315082490444,0.032446250319481,0.071691863238811,-0.019768299534917,0.340543657541275,-0.059502366930246,-0.041625510901213,0.007634637411684,-0.008957060985267,0.004673972725868,0.000484766933369,0.004537763074040));
res += mul(Get(s3,-dx,0), float4x4(0.006303439382464,0.008705104701221,0.000565248134080,-0.001128005096689,0.133567020297050,-0.026293866336346,0.063832402229309,-0.012045809067786,-0.143423303961754,0.028628133237362,-0.023448450490832,0.081079885363579,-0.000821363530122,-0.002110846806318,0.010278489440680,0.000426446902566));
res += mul(Get(s3,-dx,dy), float4x4(0.011567120440304,0.004202624782920,-0.001278749899939,0.013555470854044,-0.113727331161499,-0.061300195753574,0.038794320076704,-0.006831579841673,-0.191252961754799,-0.041298944503069,-0.050743203610182,0.034072775393724,0.018528031185269,-0.017744578421116,0.002160341711715,0.006192061118782));
res += mul(Get(s3,0,-dy), float4x4(-0.002616985933855,-0.000288795738015,0.008446926251054,-0.009838125668466,-0.012856442481279,0.033608000725508,-0.000567385985050,0.006709093227983,0.623702406883240,0.009941016323864,0.094048418104649,0.019139243289828,0.029807681217790,0.009510705247521,0.019433951005340,0.018383307382464));
res += mul(Get(s3,0,0), float4x4(-0.011176147498190,0.014537738636136,-0.003424332709983,-0.004094269126654,0.072944708168507,-0.006518579088151,0.021686473861337,-0.008335600607097,-0.118347667157650,0.091038174927235,0.127285242080688,-0.038416102528572,0.013028467074037,0.020297098904848,0.000713621499017,-0.012500595301390));
res += mul(Get(s3,0,dy), float4x4(0.006942864973098,-0.006710829678923,0.002162297256291,0.006827674340457,-0.066112399101257,-0.038508150726557,-0.015126510523260,0.002054166048765,-0.372507303953171,-0.076986908912659,0.017657535150647,-0.017468560487032,0.000814185070340,0.004077270161361,0.027789689600468,0.005994356703013));
res += mul(Get(s3,dx,-dy), float4x4(-0.005914558190852,0.014894040301442,0.010045967996120,0.001563855563290,0.050066176801920,0.033624552190304,-0.008113763295114,-0.018175544217229,0.250274747610092,-0.005931314080954,-0.024003483355045,-0.022454699501395,0.016658801585436,0.002153133507818,0.012977059930563,0.001957830507308));
res += mul(Get(s3,dx,0), float4x4(0.002714825328439,-0.009234378114343,-0.009530168958008,0.006867675110698,0.048012658953667,-0.014641074463725,0.003909066785127,-0.017764452844858,-0.176798954606056,0.080590836703777,-0.059262957423925,0.008140699937940,0.006208893377334,0.004318549763411,-0.003384318901226,0.007704011164606));
res += mul(Get(s3,dx,dy), float4x4(0.009859092533588,0.001445521367714,-0.002619289793074,0.001433565863408,-0.070841766893864,-0.049620803445578,-0.033307198435068,-0.013097709044814,-0.132454112172127,-0.077904231846333,-0.120511487126350,-0.048998553305864,-0.009816963225603,0.002970489906147,-0.002173743909225,0.009349042549729));
res = max(float4(0,0,0,0), res);
return res;
}
