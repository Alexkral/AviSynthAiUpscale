sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.024920629337430,-0.004780792631209,-0.063515178859234,-0.051520060747862,-0.010150926187634,0.076141960918903,-0.006237223278731,0.025112977251410,-0.023579072207212,0.005669634323567,0.006977705284953,0.000532894511707,-0.011648654006422,-0.066352948546410,-0.069221191108227,0.066194653511047));
res += mul(Get(s0,-dx,0), float4x4(-0.067851722240448,0.020966330543160,-0.078152634203434,-0.014218021184206,-0.006360665895045,0.025811821222305,0.025030100718141,0.039922244846821,0.002237140433863,-0.015143978409469,0.011343959718943,0.004422806669027,-0.067456245422363,-0.025561489164829,-0.075189515948296,0.062043499201536));
res += mul(Get(s0,-dx,dy), float4x4(-0.010072496719658,0.048680704087019,-0.072113908827305,-0.006126718595624,-0.002209713682532,-0.030844980850816,-0.009068989194930,0.049499515444040,0.030038431286812,-0.030928594991565,0.027919095009565,0.000171313149622,-0.097544655203819,-0.021801857277751,-0.030445057898760,-0.062131881713867));
res += mul(Get(s0,0,-dy), float4x4(-0.014517775736749,-0.026668345555663,-0.065794184803963,-0.053534220904112,0.046836003661156,0.059396758675575,-0.006733867805451,0.042111929506063,-0.040300793945789,-0.004488481208682,0.018331360071898,-0.004508154932410,-0.068531855940819,-0.075703717768192,-0.030941706150770,0.008938320912421));
res += mul(Get(s0,0,0), float4x4(-0.017368989065289,0.019491773098707,-0.044945407658815,-0.044190894812346,0.044081948697567,0.068235114216805,0.005389433819801,0.031677149236202,-0.017007183283567,0.006343769375235,0.021595017984509,-0.001146950526163,-0.056139878928661,-0.066836021840572,-0.039213046431541,0.159763604402542));
res += mul(Get(s0,0,dy), float4x4(0.079800188541412,0.047420375049114,-0.041227739304304,0.003182294080034,-0.011890501715243,0.020117852836847,-0.005460378248245,0.032503426074982,0.009932158514857,0.005715623963624,0.017563482746482,0.015109682455659,-0.060404032468796,-0.002146403770894,-0.056724235415459,0.013194007799029));
res += mul(Get(s0,dx,-dy), float4x4(-0.076946452260017,-0.026384631171823,-0.036717079579830,-0.039896436035633,0.062924548983574,0.007757031358778,0.013914767652750,0.035279151052237,-0.061773572117090,-0.005445931106806,0.022310486063361,-0.027357053011656,-0.160322129726410,-0.048467822372913,-0.050513058900833,-0.041105188429356));
res += mul(Get(s0,dx,0), float4x4(-0.043663483113050,0.023149527609348,-0.012759436853230,-0.023660058155656,0.013442349620163,0.026665320619941,0.029999401420355,0.007449386175722,-0.017590558156371,-0.002208504127339,-0.024799576029181,-0.017401725053787,-0.017214285209775,-0.070472583174706,-0.046858675777912,-0.019723245874047));
res += mul(Get(s0,dx,dy), float4x4(0.084646888077259,0.020846888422966,-0.011343659833074,-0.027280572801828,-0.037770137190819,0.034679483622313,-0.017780506983399,-0.013022305443883,0.013472677208483,-0.011917602270842,-0.026394767686725,0.000732725078706,0.054259270429611,-0.005402034148574,-0.027063846588135,-0.092268161475658));
res += mul(Get(s1,-dx,-dy), float4x4(0.036848545074463,-0.046565335243940,0.017319809645414,-0.034098308533430,-0.066815353929996,-0.016288626939058,-0.000527277530637,0.039425507187843,0.068582713603973,0.049536507576704,0.047310397028923,-0.049735236912966,-0.090855136513710,-0.030044803395867,0.201418817043304,-0.062198892235756));
res += mul(Get(s1,-dx,0), float4x4(0.033354450017214,-0.039527889341116,-0.029863862320781,-0.002501702634618,-0.113899551331997,-0.013404143042862,-0.047699015587568,0.128874555230141,0.069747932255268,0.007191692478955,-0.039878286421299,-0.078528523445129,-0.108694158494473,-0.048400733619928,0.142154455184937,-0.073835320770741));
res += mul(Get(s1,-dx,dy), float4x4(-0.089596696197987,-0.032372262328863,0.025592014193535,0.031745459884405,-0.101347893476486,-0.010588712058961,-0.015334464609623,0.006433982402086,0.050257217139006,0.015201084315777,0.001585496589541,-0.031225256621838,-0.024002308025956,-0.066116154193878,-0.050475571304560,-0.070912450551987));
res += mul(Get(s1,0,-dy), float4x4(-0.019891941919923,-0.029850896447897,-0.002712827874348,-0.031187031418085,-0.080371566116810,0.012314103543758,0.039105080068111,-0.073978401720524,0.108093731105328,0.083261303603649,0.038418050855398,-0.006815982516855,-0.092882268130779,0.033456508070230,0.125757947564125,-0.020210113376379));
res += mul(Get(s1,0,0), float4x4(-0.048444751650095,-0.074853181838989,-0.082741610705853,-0.005676488392055,-0.020240196958184,0.006304768845439,0.014259570278227,0.088404744863510,0.039719834923744,0.106667608022690,0.046762205660343,-0.045644238591194,-0.093051627278328,0.109854042530060,-0.020369965583086,-0.014659412205219));
res += mul(Get(s1,0,dy), float4x4(0.076041564345360,-0.067441940307617,0.027198912575841,0.136010721325874,-0.007694226223975,0.010643557645380,-0.033792823553085,0.100124351680279,0.003353996668011,0.137808293104172,0.044260054826736,-0.016292570158839,0.062030766159296,0.063527934253216,-0.130420759320259,-0.057664453983307));
res += mul(Get(s1,dx,-dy), float4x4(-0.159173607826233,0.108936615288258,-0.076897934079170,-0.019955487921834,-0.071722269058228,0.032253742218018,-0.094231039285660,-0.005795645061880,0.082199797034264,-0.002776114037260,0.022195445373654,0.059277832508087,0.037026897072792,0.016164775937796,-0.001118091167882,-0.034790612757206));
res += mul(Get(s1,dx,0), float4x4(0.073950454592705,0.051115117967129,-0.137443691492081,-0.103994801640511,-0.060568936169147,0.012734766118228,-0.099177859723568,-0.020813848823309,0.011096805334091,0.019309522584081,-0.006126171909273,0.023367300629616,0.039594274014235,0.033205464482307,-0.102177821099758,0.028525605797768));
res += mul(Get(s1,dx,dy), float4x4(0.106329090893269,-0.041142106056213,-0.060905799269676,-0.044953133910894,-0.007563605904579,0.012653296813369,-0.072953030467033,0.007724190130830,-0.046511996537447,0.067883260548115,0.027887972071767,0.024279000237584,0.133257210254669,0.032710649073124,-0.182153865695000,-0.005126689095050));
res += mul(Get(s2,-dx,-dy), float4x4(0.008409177884459,0.006439634598792,-0.038322933018208,0.025476302951574,-0.017116585746408,0.003711331868544,-0.018586618825793,-0.024038983508945,-0.111096851527691,-0.042261969298124,0.068347327411175,0.037871100008488,0.007689861580729,-0.007407187018543,-0.030377320945263,-0.033116754144430));
res += mul(Get(s2,-dx,0), float4x4(0.075128339231014,0.011927573010325,-0.086424395442009,0.010966616682708,-0.090387560427189,-0.020835898816586,-0.033766716718674,0.000289017916657,0.096194684505463,-0.167776182293892,0.103848561644554,-0.039545841515064,-0.023709055036306,-0.008225131779909,0.005315891001374,0.018185535445809));
res += mul(Get(s2,-dx,dy), float4x4(0.055824931710958,0.036943424493074,-0.046422753483057,-0.009121452458203,-0.107425004243851,-0.010139956139028,-0.051432661712170,0.030307477340102,0.061315260827541,-0.198787182569504,0.060348100960255,-0.025055730715394,-0.029583733528852,-0.004413885064423,0.068322658538818,-0.043664950877428));
res += mul(Get(s2,0,-dy), float4x4(-0.017322104424238,0.026651620864868,0.010345840826631,0.006806182675064,-0.068126887083054,0.005546258762479,0.039845865219831,-0.025402540341020,-0.036857761442661,0.038947973400354,0.013795605860651,0.047157980501652,0.031977839767933,-0.003185814013705,-0.062155421823263,-0.036140553653240));
res += mul(Get(s2,0,0), float4x4(0.058345157653093,0.007083145901561,0.011832555755973,-0.006706310901791,-0.088635727763176,0.002916178898886,0.026088958606124,-0.033463492989540,0.137806192040443,-0.020268077030778,0.093199431896210,-0.113907128572464,-0.005050893872976,-0.009996638633311,-0.055849477648735,0.101765006780624));
res += mul(Get(s2,0,dy), float4x4(0.017703194171190,0.002203586278483,-0.020238487049937,-0.019662419334054,-0.058451637625694,-0.000621338782366,0.007651337888092,0.017734410241246,0.014522635377944,-0.077358476817608,0.012961017899215,-0.095322847366333,-0.073361329734325,-0.000489526137244,-0.014571387320757,0.012254821136594));
res += mul(Get(s2,dx,-dy), float4x4(-0.012864838354290,0.002346300520003,0.019828092306852,0.036451578140259,-0.036636523902416,-0.011636461131275,-0.044072106480598,-0.022864373400807,-0.015722461044788,0.056887026876211,-0.106919124722481,-0.022128585726023,0.085922852158546,-0.000682502752170,-0.024687958881259,-0.036774680018425));
res += mul(Get(s2,dx,0), float4x4(0.013929253444076,0.003611013060436,0.054011598229408,-0.024288164451718,-0.087422475218773,0.016275046393275,-0.009342045523226,-0.019564958289266,0.004609265830368,0.048696398735046,-0.081943511962891,-0.033129479736090,0.027360312640667,-0.018565228208899,-0.016707742586732,0.063723988831043));
res += mul(Get(s2,dx,dy), float4x4(-0.008092836476862,0.009615408256650,0.053065687417984,-0.018407149240375,-0.008327190764248,0.044318433851004,-0.038865916430950,-0.029977183789015,-0.013643898069859,0.063732653856277,-0.030422626063228,-0.032794743776321,-0.059141367673874,-0.002602835884318,-0.039894320070744,-0.036391459405422));
res += mul(Get(s3,-dx,-dy), float4x4(-0.043717186897993,-0.045201331377029,0.041826482862234,-0.005485408473760,-0.044630218297243,-0.045904345810413,0.104440152645111,0.038351777940989,-0.017265008762479,-0.053271718323231,-0.015992224216461,-0.066328480839729,-0.070665344595909,-0.000052489529480,-0.095314145088196,0.046053078025579));
res += mul(Get(s3,-dx,0), float4x4(-0.078746631741524,-0.023646393790841,-0.000237939006183,-0.037409603595734,-0.098335549235344,-0.024526694789529,0.109823822975159,-0.003369457088411,-0.063740015029907,-0.036658696830273,-0.004328615032136,0.033725135028362,-0.033399920910597,-0.038428176194429,-0.096419923007488,0.057662516832352));
res += mul(Get(s3,-dx,dy), float4x4(-0.105587482452393,0.016615118831396,0.082480162382126,-0.073801532387733,-0.005607558880001,-0.021241072565317,0.069467887282372,-0.041032135486603,-0.123195528984070,-0.032041896134615,0.032927840948105,0.014824868179858,-0.078480601310730,-0.048250962048769,-0.005788985174149,0.010108357295394));
res += mul(Get(s3,0,-dy), float4x4(-0.002008241135627,-0.015862742438912,-0.039505660533905,-0.001242849626578,-0.071899190545082,-0.050719857215881,-0.028102766722441,0.046386111527681,0.009855900891125,-0.002597681712359,0.049239467829466,0.031832996755838,0.033713273704052,-0.030060514807701,-0.046712409704924,-0.016837723553181));
res += mul(Get(s3,0,0), float4x4(-0.006513916421682,-0.041188046336174,-0.081014491617680,0.133029311895370,-0.124738335609436,-0.030435079708695,-0.025038897991180,0.085151322185993,-0.027496550232172,-0.005063986871392,0.065133690834045,0.093714430928230,0.070662431418896,-0.078063867986202,-0.048171721398830,0.062877997756004));
res += mul(Get(s3,0,dy), float4x4(-0.009588601998985,-0.029510783031583,-0.023673642426729,0.112053357064724,0.019004693254828,-0.001941788010299,-0.016701882705092,0.048219271004200,-0.033809237182140,-0.052250105887651,0.068621762096882,-0.001198284211569,-0.010951219126582,-0.111471362411976,0.054751843214035,0.070031419396400));
res += mul(Get(s3,dx,-dy), float4x4(0.054696653038263,-0.021539308130741,-0.094216495752335,-0.000321078376146,0.014658213593066,-0.030132822692394,-0.036294072866440,-0.028123943135142,0.009966516867280,-0.024656327441335,-0.019233576953411,0.009809631854296,0.064079225063324,0.055659290403128,-0.106916919350624,-0.017393203452229));
res += mul(Get(s3,dx,0), float4x4(0.046156547963619,-0.038356896489859,-0.105208680033684,-0.027467979118228,0.043840639293194,0.013215764425695,-0.000352049741196,-0.008741558529437,0.062784448266029,-0.032878659665585,-0.004252469632775,0.048132587224245,0.051863763481379,0.026658078655601,-0.072564467787743,-0.040061522275209));
res += mul(Get(s3,dx,dy), float4x4(0.019953584298491,-0.024908969178796,-0.085175380110741,-0.051300745457411,0.114248283207417,0.003463120898232,-0.009164538234472,-0.008571147918701,0.055730313062668,-0.074570097029209,0.012349287979305,-0.012096928432584,0.024610737338662,0.005147196352482,0.029019584879279,0.021167680621147));
res = max(float4(0,0,0,0), res);
return res;
}
