sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.013072438538074,-0.006442847196013,-0.054889708757401,0.008438441902399,-0.064616374671459,-0.048447046428919,-0.017954638227820,-0.090111747384071,-0.001098349341191,0.000410724926041,0.002194797387347,0.002253332408145,-0.036925736814737,0.041216816753149,0.058269407600164,-0.130805432796478));
res += mul(Get(s0,-dx,0), float4x4(0.010772068984807,-0.030670501291752,-0.038015089929104,0.066850334405899,-0.036741815507412,-0.031132245436311,-0.052057210355997,-0.054691046476364,-0.002830750541762,0.001820469275117,0.004494420718402,-0.001598390401341,-0.007784729823470,0.076541624963284,0.104727558791637,-0.069175861775875));
res += mul(Get(s0,-dx,dy), float4x4(0.082830853760242,-0.046900495886803,-0.073739729821682,0.029941562563181,-0.035508070141077,-0.013525318354368,-0.061871234327555,0.016616776585579,-0.002815597923473,0.003623956348747,0.001330213621259,-0.000714567664545,-0.075109697878361,0.047118406742811,-0.041501633822918,-0.051390949636698));
res += mul(Get(s0,0,-dy), float4x4(0.045715399086475,0.020757893100381,-0.014309439808130,0.001035208581015,-0.036677647382021,0.041904922574759,0.041091844439507,0.001900303061120,0.001039282535203,0.001503597712144,0.004011929035187,0.005268844310194,-0.030783748254180,-0.009142761118710,0.050180297344923,-0.054120156913996));
res += mul(Get(s0,0,0), float4x4(0.181459903717041,-0.041805408895016,-0.032359853386879,0.176348090171814,-0.013877842575312,0.045627944171429,0.008332083001733,0.028937397524714,0.002379815559834,0.003132918849587,0.004547371994704,0.008236782625318,0.038121018558741,-0.018724597990513,-0.049395695328712,-0.054411683231592));
res += mul(Get(s0,0,dy), float4x4(0.027441406622529,-0.021691635251045,0.035181388258934,0.063600979745388,0.010008769109845,0.006732551846653,-0.023656284436584,0.077315174043179,0.005682360380888,0.002510984428227,0.000797747808974,0.005998183041811,-0.029544003307819,-0.077290132641792,-0.073765113949776,-0.053922396153212));
res += mul(Get(s0,dx,-dy), float4x4(0.000652762595564,0.041751779615879,0.029643151909113,-0.018795063719153,0.022968575358391,-0.025451229885221,-0.032202158123255,-0.019482206553221,-0.001764727290720,-0.000325967645040,-0.000257806212176,-0.002342640422285,-0.019219886511564,-0.008141271770000,0.027585485950112,-0.065996035933495));
res += mul(Get(s0,dx,0), float4x4(-0.055377434939146,0.050357710570097,0.009081978350878,0.004916694015265,0.051977682858706,-0.020993996411562,-0.042414955794811,0.079819969832897,-0.000235639556195,-0.002080932026729,-0.000532415928319,0.000923441315535,0.046612270176411,-0.027162237092853,-0.042221378535032,-0.054190509021282));
res += mul(Get(s0,dx,dy), float4x4(0.044060423970222,0.028585774824023,-0.016324114054441,0.048200927674770,0.027035238221288,-0.018679883331060,0.009004871360958,0.090497761964798,0.003204697743058,-0.000933616713155,0.000688748841640,0.003305257763714,-0.023114949464798,-0.031699523329735,-0.019023071974516,-0.053580407053232));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009130818769336,-0.009506637230515,0.014221071265638,0.051691684871912,-0.026232860982418,0.022386677563190,0.027853563427925,-0.084151297807693,0.013410038314760,0.016625946387649,0.018712600693107,0.031372811645269,-0.047914337366819,-0.060737453401089,-0.027057027444243,-0.041194424033165));
res += mul(Get(s1,-dx,0), float4x4(0.076371215283871,-0.034406367689371,-0.022283747792244,0.018384814262390,-0.029037728905678,-0.006950108800083,-0.029583139345050,-0.066950269043446,-0.025568397715688,0.044715434312820,0.040372136980295,-0.013815429061651,0.054904893040657,-0.047987874597311,0.004356819204986,0.041598353534937));
res += mul(Get(s1,-dx,dy), float4x4(0.053196631371975,-0.040679324418306,0.009071817621589,0.009184197522700,-0.052429527044296,-0.067217051982880,-0.061719406396151,-0.061678700149059,-0.027071692049503,0.044452913105488,0.012038410641253,0.026093166321516,0.019632648676634,-0.050376478582621,0.034726496785879,-0.028653116896749));
res += mul(Get(s1,0,-dy), float4x4(0.042435307055712,0.071850612759590,0.027119349688292,0.098002858459949,-0.042827878147364,0.044239308685064,0.103679552674294,-0.034950826317072,0.002048376016319,0.016289802268147,0.081725485622883,0.059806033968925,0.025422791019082,0.029870331287384,0.007182613015175,-0.046883989125490));
res += mul(Get(s1,0,0), float4x4(-0.040772423148155,0.090712949633598,0.122031219303608,-0.087829545140266,0.017565164715052,0.032755009829998,0.032287117093801,0.000916346558370,-0.047318235039711,0.064509324729443,0.053825531154871,-0.036567166447639,0.090497687458992,0.013138064183295,0.074516072869301,0.033143933862448));
res += mul(Get(s1,0,dy), float4x4(0.025529719889164,0.076634831726551,0.036854907870293,-0.047523289918900,-0.019395120441914,-0.023243790492415,-0.060909446328878,-0.041219912469387,0.007365168072283,0.035377983003855,-0.006026520393789,0.055095415562391,0.050101689994335,-0.030527234077454,0.009118113666773,-0.023388806730509));
res += mul(Get(s1,dx,-dy), float4x4(0.033301103860140,0.021513223648071,-0.016773309558630,0.034597564488649,0.005594173446298,-0.029456362128258,0.017446562647820,-0.061395734548569,0.021131081506610,-0.035812322050333,0.039605326950550,0.041584793478251,-0.038600645959377,0.041465532034636,0.004916269332170,-0.107379376888275));
res += mul(Get(s1,dx,0), float4x4(0.083730340003967,-0.013558771461248,-0.010077269747853,0.065496489405632,0.083261571824551,-0.055600404739380,-0.017339328303933,-0.006612373981625,0.051818944513798,-0.021029192954302,0.025898076593876,0.023079935461283,-0.008327911607921,0.070780128240585,0.038850169628859,-0.069748267531395));
res += mul(Get(s1,dx,dy), float4x4(0.053032044321299,-0.004353313706815,0.026420425623655,0.006032446399331,0.002159961033612,-0.071498230099678,-0.067791372537613,-0.030668647959828,-0.027801938354969,0.009291371330619,-0.002990170614794,0.014032328501344,0.007427772507071,0.013820291496813,-0.014633771963418,-0.092226505279541));
res += mul(Get(s2,-dx,-dy), float4x4(-0.096359081566334,-0.007304969709367,-0.001534106442705,-0.008964921347797,-0.028062159195542,0.068334475159645,-0.041532449424267,-0.029926035553217,-0.033441394567490,0.005047728307545,-0.094487965106964,0.031280297785997,-0.039044529199600,0.000302810542053,-0.002298941835761,0.018164042383432));
res += mul(Get(s2,-dx,0), float4x4(-0.031652290374041,-0.031067943200469,-0.000989800202660,-0.008811061270535,-0.017438381910324,0.038622844964266,-0.018149606883526,-0.048112232238054,0.011749370023608,-0.032814096659422,-0.070692472159863,0.023445112630725,0.064928822219372,0.022677745670080,0.035174649208784,0.043805137276649));
res += mul(Get(s2,-dx,dy), float4x4(-0.024310957640409,-0.045510377734900,-0.039228327572346,0.032431568950415,-0.017590356990695,0.004718952346593,-0.033580187708139,-0.043990544974804,-0.014315442182124,-0.060639966279268,-0.041120298206806,-0.019884865731001,0.022454312071204,-0.017717730253935,0.055263042449951,0.007702704519033));
res += mul(Get(s2,0,-dy), float4x4(-0.053003240376711,-0.044437546283007,0.001568802981637,0.048591721802950,0.128776654601097,-0.032167762517929,-0.041548557579517,0.042416024953127,-0.005558060016483,0.005261153448373,-0.042696271091700,0.067536868155003,0.005725306458771,-0.019461484625936,-0.006217010784894,0.041948460042477));
res += mul(Get(s2,0,0), float4x4(-0.050056356936693,-0.026700707152486,0.060471568256617,-0.052053309977055,0.111592635512352,-0.042280446738005,-0.038427840918303,0.074284963309765,-0.038320224732161,0.003566027386114,-0.016238143667579,-0.018419299274683,0.017759075388312,-0.006756221875548,0.061713084578514,0.030885539948940));
res += mul(Get(s2,0,dy), float4x4(-0.049105912446976,-0.037106622010469,-0.028008412569761,0.010104648768902,-0.064790166914463,-0.039716575294733,0.007467458024621,-0.003826261032373,-0.040411870926619,-0.016326716169715,-0.031352981925011,0.017027715221047,-0.054229255765676,-0.002834697952494,0.097180984914303,-0.051423642784357));
res += mul(Get(s2,dx,-dy), float4x4(-0.031461086124182,-0.012234517373145,0.020021133124828,0.039856456220150,0.042259652167559,-0.049842368811369,-0.069086745381355,-0.023707324638963,-0.026850320398808,0.034646976739168,-0.012368071824312,0.065311111509800,0.000833621306811,0.000106978128315,0.019602147862315,0.010338118299842));
res += mul(Get(s2,dx,0), float4x4(0.004927138797939,-0.026803888380527,-0.006917345337570,-0.026298705488443,-0.044670537114143,-0.045844662934542,-0.063604280352592,-0.001440272317268,-0.080404028296471,0.038515068590641,0.021050719544291,-0.098132900893688,-0.009751506149769,0.028219791129231,0.082583904266357,-0.002517074346542));
res += mul(Get(s2,dx,dy), float4x4(0.025748487561941,-0.034709088504314,0.032443549484015,0.019921768456697,-0.004238828551024,-0.055768240243196,-0.027227928861976,-0.012664166279137,-0.036711484193802,0.003273068461567,-0.024755777791142,-0.121148921549320,-0.048328083008528,-0.021647853776813,0.014559074304998,-0.039261359721422));
res += mul(Get(s3,-dx,-dy), float4x4(-0.014251127839088,0.017349751666188,-0.088870637118816,-0.043994884938002,-0.002075027907267,-0.067951612174511,-0.005755252204835,-0.056033726781607,0.046653419733047,-0.036738675087690,-0.125007286667824,0.062920905649662,-0.006553052458912,0.064426489174366,-0.029178697615862,0.017037659883499));
res += mul(Get(s3,-dx,0), float4x4(-0.056614860892296,0.070754036307335,-0.035279735922813,0.051180213689804,0.027337754145265,-0.060772545635700,0.040223214775324,-0.035794898867607,0.114548571407795,-0.061474900692701,-0.071673311293125,0.146645873785019,-0.036023870110512,0.122649088501930,0.068898513913155,0.002793268067762));
res += mul(Get(s3,-dx,dy), float4x4(-0.069112792611122,-0.001706427312456,0.023092931136489,-0.041587706655264,-0.047068234533072,-0.007509032730013,-0.033355489373207,0.008702538907528,-0.002241039648652,-0.034919578582048,-0.028736954554915,0.067432485520840,0.009926641359925,0.035297516733408,-0.010144260711968,0.022109750658274));
res += mul(Get(s3,0,-dy), float4x4(-0.005134389735758,-0.106062911450863,-0.101688683032990,-0.037642959505320,-0.047142300754786,-0.009612945839763,0.135641440749168,-0.016861066222191,0.010366640053689,0.037001576274633,-0.007483956404030,-0.016797551885247,0.002015315461904,-0.027116591110826,-0.018267273902893,0.033800318837166));
res += mul(Get(s3,0,0), float4x4(0.139472484588623,-0.139287143945694,-0.113939419388771,0.161646589636803,-0.023377705365419,0.047689933329821,0.085987947881222,-0.057360306382179,0.044436153024435,0.020207157358527,-0.015425013378263,0.114561527967453,0.099298045039177,-0.055975075811148,-0.032043907791376,0.135316908359528));
res += mul(Get(s3,0,dy), float4x4(-0.064079597592354,-0.119587250053883,0.101135216653347,0.034527923911810,0.014766215346754,-0.039661042392254,-0.077685691416264,0.078011281788349,0.011483332142234,0.015376016497612,0.009923924691975,0.164389312267303,0.020665651187301,-0.030642045661807,0.059871435165405,-0.009121237322688));
res += mul(Get(s3,dx,-dy), float4x4(-0.013033245690167,0.036837562918663,-0.018998187035322,-0.101145647466183,-0.082359515130520,-0.048863686621189,0.075397267937660,0.050866559147835,-0.063428133726120,0.061470679938793,0.016478735953569,-0.099632561206818,-0.031186725944281,-0.022223211824894,-0.044027920812368,-0.040964268147945));
res += mul(Get(s3,dx,0), float4x4(-0.040716614574194,0.023587230592966,0.069498918950558,0.043735474348068,-0.012609601020813,-0.033673383295536,-0.000484826596221,0.001394347054884,-0.057747628539801,0.040729038417339,0.062386147677898,-0.035182692110538,0.053519666194916,-0.021027255803347,-0.058822803199291,0.107053466141224));
res += mul(Get(s3,dx,dy), float4x4(-0.040375102311373,0.003696574131027,0.048577617853880,0.007886774837971,-0.030200989916921,-0.020723255351186,-0.009512074291706,0.028703153133392,-0.030173487961292,0.040683500468731,0.088704004883766,0.112955138087273,0.058879286050797,-0.019697248935699,0.045044466853142,0.039905201643705));
res = max(float4(0,0,0,0), res);
return res;
}
