sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020428262650967,0.032216314226389,-0.023977464064956,-0.015756314620376,-0.066495299339294,0.016893075779080,-0.045915819704533,-0.011776334606111,0.005769958253950,-0.000262531248154,-0.001116442843340,0.000852221448440,-0.010413743555546,-0.043610550463200,0.062426079064608,0.025184497237206));
res += mul(Get(s0,-dx,0), float4x4(-0.049303598701954,0.017462139949203,-0.001126088434830,0.041244283318520,-0.009645974263549,0.032534547150135,-0.053478594869375,-0.051976893097162,0.009773723781109,-0.001518499222584,-0.003554722061381,0.001034058514051,0.036682654172182,-0.043162722140551,-0.001214716816321,-0.028496926650405));
res += mul(Get(s0,-dx,dy), float4x4(-0.003298983909190,-0.000146668447996,0.004903671331704,0.032721407711506,0.037152327597141,0.018639087677002,-0.006728820968419,-0.030001189559698,0.004438984207809,0.000097481934063,-0.009550767950714,0.000358982710168,-0.020932404324412,-0.009891540743411,-0.092362940311432,-0.046480584889650));
res += mul(Get(s0,0,-dy), float4x4(-0.037592317909002,0.033940725028515,-0.038462352007627,-0.033587943762541,0.017632242292166,-0.022278841584921,0.054176572710276,-0.017930192872882,0.004180424381047,0.000011219926819,0.006104331929237,-0.001401432673447,0.011054382659495,-0.025035064667463,0.041901718825102,-0.006302114576101));
res += mul(Get(s0,0,0), float4x4(-0.019118934869766,0.043536994606256,-0.008528634905815,0.007914784364402,0.025265648961067,-0.018017305061221,0.040856175124645,-0.007470139302313,0.004270721226931,-0.002902595093474,0.003418690524995,-0.000351090391632,0.081414990127087,-0.018203763291240,0.009948839433491,0.044136576354504));
res += mul(Get(s0,0,dy), float4x4(-0.013898911885917,0.011102012358606,0.025955881923437,0.002209682483226,0.029175003990531,-0.023883126676083,0.019496135413647,0.001394303981215,-0.000263080641162,-0.001331872656010,-0.000444889155915,-0.000626274850219,0.052032086998224,-0.016639871522784,-0.015952417626977,0.008127723820508));
res += mul(Get(s0,dx,-dy), float4x4(-0.025792004540563,0.054330673068762,-0.049771383404732,-0.045292951166630,0.033117983490229,0.007110248319805,0.023144617676735,0.060970775783062,0.002238175133243,0.000044993812480,-0.002322124550119,-0.000219658119022,-0.076012678444386,0.008907021023333,0.001600441639312,-0.017693478614092));
res += mul(Get(s0,dx,0), float4x4(-0.000113189780677,0.065871179103851,-0.038837160915136,-0.035054013133049,0.052007976919413,-0.003468500450253,0.051449678838253,0.056312415748835,0.002559843473136,-0.003247861051932,-0.001873051282018,0.001162513857707,-0.054670691490173,0.014577710069716,-0.022365635260940,0.004639102146029));
res += mul(Get(s0,dx,dy), float4x4(-0.003513824893162,0.056633591651917,-0.004365298431367,0.029166374355555,0.024252198636532,-0.039391893893480,0.073548622429371,0.061759725213051,0.001423101988621,-0.002960065379739,-0.003525926265866,-0.000293269025860,-0.012728993780911,-0.020927643403411,-0.010229228064418,0.007677969057113));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000590179872233,-0.018218806013465,0.046957910060883,0.037760060280561,0.033788770437241,-0.001790699199773,0.055058185011148,0.015458522364497,0.024304499849677,-0.018290800973773,0.009727722965181,0.013469657860696,-0.061852455139160,-0.004251373000443,-0.025625005364418,0.062895104289055));
res += mul(Get(s1,-dx,0), float4x4(0.049651823937893,0.009973070584238,-0.053986668586731,0.037210766226053,0.033429503440857,0.027455260977149,-0.051715008914471,-0.018408387899399,0.018619021400809,-0.001003248733468,-0.013460488058627,-0.017439812421799,-0.023818956688046,-0.020146679133177,0.012159343808889,0.111128956079483));
res += mul(Get(s1,-dx,dy), float4x4(0.061961811035872,-0.023805163800716,-0.001721182605252,0.037091959267855,-0.021065728738904,-0.003734519239515,0.063955590128899,-0.050649177283049,-0.005317257251590,0.021261719986796,-0.018712341785431,-0.017000140622258,0.035130687057972,-0.026359949260950,-0.010546797886491,0.069977886974812));
res += mul(Get(s1,0,-dy), float4x4(-0.063758552074432,0.003996524959803,0.036818087100983,0.055287543684244,0.032552391290665,0.012409827671945,0.074692204594612,0.010995103977621,0.040518511086702,-0.049754228442907,0.060680769383907,0.015707949176431,-0.031516339629889,-0.030949244275689,0.029903547838330,0.029995458200574));
res += mul(Get(s1,0,0), float4x4(0.015528536401689,-0.006433846894652,-0.049137208610773,0.072783641517162,0.000007330236258,0.028457714244723,-0.011699491180480,0.005335067398846,0.056508690118790,-0.042481150478125,0.007570127956569,0.003994713071734,-0.061690345406532,-0.011291160248220,0.036948218941689,0.017767483368516));
res += mul(Get(s1,0,dy), float4x4(0.045225184410810,-0.003388177137822,-0.025806713849306,0.089734822511673,-0.075719743967056,0.023349333554506,0.049654252827168,-0.032286506146193,0.016951214522123,0.018860649317503,0.008465122431517,-0.007563749328256,0.095898851752281,0.000113886155304,-0.011103837750852,-0.003046581987292));
res += mul(Get(s1,dx,-dy), float4x4(0.016430351883173,0.001521705067717,-0.034943155944347,0.063801944255829,-0.022409290075302,-0.030590280890465,0.093223392963409,0.044725131243467,-0.051189325749874,-0.000802402908448,-0.046953488141298,-0.017013387754560,0.061294358223677,0.022677872329950,-0.059969518333673,-0.083151303231716));
res += mul(Get(s1,dx,0), float4x4(0.088242881000042,-0.013393376953900,-0.011282865889370,0.128434211015701,-0.031931519508362,-0.024478569626808,0.116103209555149,0.087686382234097,-0.023365831002593,0.005463689099997,-0.010185239836574,0.004219081718475,0.059958804398775,0.017183348536491,-0.045846570283175,-0.050294265151024));
res += mul(Get(s1,dx,dy), float4x4(0.033410299569368,0.011389599181712,-0.047617439180613,0.110210321843624,-0.089359365403652,-0.013398197479546,0.083006098866463,0.035821456462145,-0.016977464780211,0.050691086798906,-0.021736234426498,-0.032252717763186,0.052188284695148,0.018531773239374,-0.012412171810865,-0.053745500743389));
res += mul(Get(s2,-dx,-dy), float4x4(0.030225325375795,-0.000066062530095,-0.048413153737783,-0.007130067329854,0.041605114936829,-0.011711488477886,-0.046401657164097,-0.074993953108788,0.016244266182184,0.013177351094782,-0.042940068989992,-0.020979208871722,0.008540036156774,0.001632807077840,-0.011242798529565,-0.029189322143793));
res += mul(Get(s2,-dx,0), float4x4(-0.026515245437622,-0.015114956535399,-0.061122413724661,-0.030791748315096,0.074575461447239,-0.018334286287427,-0.062150228768587,-0.030471058562398,-0.031566157937050,0.017233919352293,0.030460501089692,-0.008835331536829,0.022659346461296,0.013531299307942,-0.003397487569600,-0.004436022602022));
res += mul(Get(s2,-dx,dy), float4x4(-0.028285492211580,-0.013929804787040,-0.069709084928036,-0.018833702430129,0.064861379563808,-0.016880821436644,-0.065440312027931,-0.075154818594456,-0.003795078024268,0.007236764766276,0.053290091454983,-0.012510199099779,0.016226053237915,-0.005118096712977,0.025038387626410,-0.044803537428379));
res += mul(Get(s2,0,-dy), float4x4(0.007099895272404,0.009493950754404,0.004813046660274,-0.039077822118998,-0.043091498315334,0.024570388719440,-0.047456689178944,0.013200688175857,-0.046799544245005,0.021456260234118,0.058707688003778,-0.009306922554970,0.003757022321224,0.016373269259930,-0.010706041939557,-0.013328883796930));
res += mul(Get(s2,0,0), float4x4(0.030954768881202,-0.005499973427504,-0.025087609887123,-0.036461506038904,0.019064592197537,0.002335136523470,-0.024304786697030,0.023875907063484,-0.043043486773968,0.033945497125387,0.011840613558888,-0.073080420494080,0.007038439624012,0.015912435948849,0.014921588823199,-0.050157014280558));
res += mul(Get(s2,0,dy), float4x4(-0.047527913004160,-0.035805352032185,-0.068453274667263,0.020184556022286,0.093470185995102,-0.012811552733183,-0.037169910967350,-0.061095256358385,-0.002050099894404,0.003722121939063,-0.027581650763750,-0.046476736664772,0.067443110048771,0.000065679058025,0.013145374134183,-0.045909583568573));
res += mul(Get(s2,dx,-dy), float4x4(-0.056899074465036,0.021303659304976,0.006613543722779,0.006685137748718,-0.006324664223939,-0.017847178503871,0.011309515684843,-0.017318313941360,-0.023595876991749,0.058427516371012,-0.017436977475882,-0.008424235507846,0.010036540217698,0.006521266419441,-0.008762774989009,-0.027834476903081));
res += mul(Get(s2,dx,0), float4x4(-0.020446090027690,0.020025238394737,-0.017293296754360,0.054293427616358,0.001931396778673,-0.031298555433750,0.058724947273731,-0.032201349735260,0.010267212055624,0.024616472423077,-0.059157632291317,0.016626784577966,0.044880840927362,0.013587508350611,0.000006752103218,0.000066370172135));
res += mul(Get(s2,dx,dy), float4x4(-0.025157622992992,-0.020182911306620,-0.011019854806364,0.031305335462093,0.048967417329550,-0.028068251907825,-0.019876163452864,-0.014254223555326,0.004515005275607,0.016897652298212,-0.130899593234062,0.040882725268602,0.031299106776714,-0.003931406885386,0.032061450183392,-0.003347669960931));
res += mul(Get(s3,-dx,-dy), float4x4(0.079094424843788,0.007492242846638,-0.028070179745555,-0.007378832902759,-0.072384774684906,-0.015494925901294,0.065508730709553,0.071502692997456,-0.083360411226749,-0.019499631598592,0.053026471287012,0.045202411711216,0.142152085900307,-0.017216604202986,0.009499767795205,0.064532220363617));
res += mul(Get(s3,-dx,0), float4x4(0.107746198773384,-0.009787087328732,0.075371451675892,0.053994067013264,-0.060809642076492,0.004701089113951,0.029366098344326,-0.011830482631922,-0.112853109836578,-0.029720149934292,0.031382452696562,0.036407534033060,0.144303411245346,-0.015201844274998,-0.029557857662439,0.019278936088085));
res += mul(Get(s3,-dx,dy), float4x4(0.005336661357433,0.003755494253710,0.055022239685059,-0.009832606650889,-0.044808011502028,0.002159132389352,-0.001653161714785,-0.021500168368220,0.018254961818457,-0.015084288083017,-0.023348772898316,0.027815317735076,0.058737650513649,-0.020816184580326,-0.034257482737303,-0.020722800865769));
res += mul(Get(s3,0,-dy), float4x4(-0.083205550909042,0.039755038917065,-0.037404816597700,-0.023165913298726,0.033851623535156,-0.021229289472103,0.168923124670982,-0.014728759415448,0.018090616911650,-0.018810492008924,-0.030539145693183,-0.080405041575432,-0.007524293847382,-0.003892758861184,0.063527032732964,0.024774583056569));
res += mul(Get(s3,0,0), float4x4(-0.062847867608070,0.007581235375255,0.044793643057346,0.053359329700470,-0.022270936518908,0.024763563647866,-0.009107990190387,-0.057721707969904,-0.028515171259642,-0.042928185313940,0.014506307430565,-0.051254406571388,0.065526746213436,-0.031199902296066,0.020796345546842,0.094559676945210));
res += mul(Get(s3,0,dy), float4x4(-0.042209472507238,-0.010954117402434,0.144620507955551,-0.028304552659392,-0.054621048271656,0.035056762397289,0.009192221798003,-0.067713171243668,-0.066451467573643,-0.029528884217143,-0.022546295076609,-0.004964151885360,0.089188925921917,-0.011852751486003,0.080384552478790,0.033209729939699));
res += mul(Get(s3,dx,-dy), float4x4(0.012296985834837,0.023388734087348,-0.023157525807619,0.022370284423232,-0.023015787824988,-0.017745090648532,0.093346983194351,-0.041038345545530,0.066041566431522,0.039383102208376,-0.108522720634937,-0.052551891654730,-0.019652293995023,-0.003286828752607,0.006085157394409,-0.022506507113576));
res += mul(Get(s3,dx,0), float4x4(-0.054180957376957,0.005066899582744,0.049171790480614,-0.101659804582596,0.018950521945953,0.022243760526180,0.005445596296340,-0.013517296873033,0.082598902285099,0.013707527890801,-0.069272726774216,0.003525269217789,-0.036637671291828,0.001371312187985,0.004678071476519,-0.054149407893419));
res += mul(Get(s3,dx,dy), float4x4(-0.019246395677328,-0.015143170021474,0.043234538286924,-0.146212667226791,-0.034642186015844,0.040507849305868,0.018676575273275,0.005691077560186,-0.044302906841040,-0.024529447779059,-0.048373699188232,-0.053850919008255,0.049553088843822,-0.011598326265812,0.061094492673874,-0.043734896928072));
res = max(float4(0,0,0,0), res);
return res;
}
