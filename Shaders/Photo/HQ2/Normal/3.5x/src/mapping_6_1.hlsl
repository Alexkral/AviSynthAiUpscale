sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.077937655150890,-0.049364712089300,0.001416240935214,-0.039289347827435,-0.077178090810776,0.021076375618577,-0.001464953296818,0.003335805144161,-0.000870451272931,-0.005451040808111,0.002187922596931,-0.002895155223086,-0.043245747685432,-0.087452068924904,-0.004590816795826,-0.052341844886541));
res += mul(Get(s0,-dx,0), float4x4(-0.032273817807436,0.016695771366358,0.000635665492155,-0.024175059050322,-0.083588056266308,0.020898124203086,0.002209456171840,0.090576656162739,0.021032759919763,-0.030642056837678,0.001312450389378,-0.037868861109018,-0.042276613414288,-0.036226410418749,-0.004446890670806,-0.125488638877869));
res += mul(Get(s0,-dx,dy), float4x4(-0.021256698295474,0.011231116019189,0.000874499673955,-0.033293668180704,-0.058226320892572,-0.016294406726956,0.001096707303077,0.055345524102449,0.022550160065293,-0.016357081010938,-0.001264347112738,-0.035353064537048,-0.023410947993398,-0.033921487629414,-0.001636875094846,-0.062018919736147));
res += mul(Get(s0,0,-dy), float4x4(-0.030715864151716,-0.008705943822861,-0.000901323917788,-0.001080570160411,0.054327793419361,-0.009194874204695,-0.004986810032278,0.045550860464573,0.001024807221256,0.036935664713383,0.004191310144961,-0.013344133272767,-0.051523335278034,-0.036579623818398,-0.000260734494077,-0.040375333279371));
res += mul(Get(s0,0,0), float4x4(-0.080347202718258,-0.022423619404435,0.003072232706472,0.026423659175634,-0.038096725940704,-0.000773337145802,-0.004555008839816,0.030196668580174,-0.050262451171875,0.007038876879960,0.003941018600017,-0.004347876179963,-0.062900781631470,-0.001624252763577,0.003350692568347,-0.023463567718863));
res += mul(Get(s0,0,dy), float4x4(-0.035661168396473,-0.063493922352791,0.003699313616380,0.034619659185410,-0.097634382545948,0.004390311893076,-0.001102285343222,0.026471406221390,0.033609393984079,0.063480585813522,0.004326943773776,-0.080945990979671,-0.019190130755305,0.020122418180108,0.005649462807924,0.020252734422684));
res += mul(Get(s0,dx,-dy), float4x4(-0.001891125459224,-0.030200337991118,-0.005156283266842,-0.018594851717353,0.125578597187996,-0.047245278954506,-0.006310135126114,0.046263504773378,0.045978233218193,0.043278150260448,-0.001339702634141,0.009310951456428,-0.049252778291702,-0.011964676901698,-0.000811284757219,0.010116266086698));
res += mul(Get(s0,dx,0), float4x4(-0.048130068928003,-0.012273753061891,-0.005609237123281,-0.034597676247358,0.031070677563548,-0.013720701448619,-0.003426229348406,-0.028443558141589,0.017615737393498,0.013307299464941,0.003438905812800,0.033513106405735,-0.089791715145111,0.002421804703772,0.002078799530864,0.080141790211201));
res += mul(Get(s0,dx,dy), float4x4(-0.011938184499741,0.006200554315001,0.002043709391728,-0.014171320013702,-0.070972546935081,0.003697995329276,-0.002059616381302,-0.027663663029671,0.020590590313077,0.050125628709793,0.004105311818421,-0.032229986041784,-0.026015941053629,0.002261892659590,0.001101885107346,0.049963608384132));
res += mul(Get(s1,-dx,-dy), float4x4(-0.087749138474464,-0.078436091542244,-0.002973926020786,-0.035083364695311,0.029357185587287,-0.041309028863907,0.009349421598017,-0.017266592010856,0.033353313803673,-0.034877508878708,0.001554519287311,0.010896581225097,0.023210037499666,-0.026450635865331,0.002585305832326,0.090024933218956));
res += mul(Get(s1,-dx,0), float4x4(-0.031617037951946,-0.082529768347740,-0.001606373465620,-0.112891934812069,-0.014593444764614,-0.023028967902064,0.005027980078012,0.066176079213619,0.056482814252377,-0.037621635943651,0.004673085641116,-0.056891150772572,-0.059182714670897,-0.024220559746027,0.003113647922873,0.115918219089508));
res += mul(Get(s1,-dx,dy), float4x4(-0.012147068977356,-0.070128604769707,-0.001114573446102,0.013639409095049,-0.024333573877811,0.010045721195638,0.005593735724688,-0.044913493096828,0.087121471762657,-0.043412163853645,0.010471193119884,-0.053501505404711,0.007659138180315,-0.010082274675369,0.000332166586304,0.055538844317198));
res += mul(Get(s1,0,-dy), float4x4(-0.062805205583572,-0.019248172640800,-0.004286625888199,0.021675897762179,-0.011260375380516,-0.043814513832331,0.002615303033963,0.001806719228625,0.025790261104703,0.004014845006168,0.001066899159923,0.007035429123789,-0.010856808163226,-0.011646226979792,0.000498013512697,0.096903994679451));
res += mul(Get(s1,0,0), float4x4(-0.048313770443201,0.049544174224138,-0.000090721798188,-0.085058212280273,0.090450167655945,-0.030801393091679,-0.002409288194031,0.046366285532713,0.082536183297634,-0.004181066993624,-0.000852787226904,-0.018178040161729,-0.002908777678385,0.010300064459443,-0.001601707888767,0.042119283229113));
res += mul(Get(s1,0,dy), float4x4(-0.089396290481091,0.067365311086178,-0.004548322409391,-0.010960087180138,0.091759502887726,0.019560335204005,0.001359264482744,-0.033251591026783,0.073023758828640,-0.025415591895580,0.005189573857933,-0.076127342879772,0.080812193453312,-0.008095109835267,-0.003794872900471,0.031761337071657));
res += mul(Get(s1,dx,-dy), float4x4(-0.009791702032089,0.101653084158897,0.002658835379407,0.090594716370106,-0.019762417301536,0.002385631203651,-0.002525574993342,-0.036225594580173,0.006003259215504,-0.011230316944420,-0.001391094876453,0.036967735737562,0.026837700977921,-0.022466780617833,-0.000741423282307,0.048031602054834));
res += mul(Get(s1,dx,0), float4x4(-0.017122335731983,0.072734914720058,0.004373105242848,0.078986354172230,0.001329168560915,0.010141419246793,-0.004920359700918,0.015344398096204,0.066676937043667,-0.027029115706682,-0.004035640973598,0.004993394482881,0.053342271596193,0.008995305746794,-0.001834287424572,0.012011189013720));
res += mul(Get(s1,dx,dy), float4x4(-0.016350373625755,0.073887914419174,-0.003219551406801,-0.029833238571882,0.074172429740429,0.025312187150121,-0.001580344163813,-0.045800440013409,0.076139010488987,-0.040802232921124,-0.001786050037481,-0.055286038666964,0.073641046881676,-0.008507926948369,-0.004367588553578,0.094447627663612));
res += mul(Get(s2,-dx,-dy), float4x4(-0.087137207388878,0.007807172834873,0.001636712695472,0.048774093389511,0.068745955824852,-0.111487597227097,-0.002497437410057,-0.065295740962029,-0.055484965443611,-0.034593708813190,-0.001241661608219,0.039409987628460,-0.027927342802286,-0.039086326956749,0.003443576162681,-0.021397510543466));
res += mul(Get(s2,-dx,0), float4x4(-0.068430460989475,0.046095743775368,0.004290517885238,0.066189579665661,0.040079403668642,-0.168826922774315,0.000692042056471,-0.079953864216805,0.036782018840313,-0.035905741155148,0.000211220307392,0.005931452848017,-0.014633489772677,-0.017665579915047,0.002234926214442,0.020605908706784));
res += mul(Get(s2,-dx,dy), float4x4(-0.029185377061367,0.003794609103352,0.011166325770319,0.097834281623363,0.011677213013172,-0.127699971199036,0.000390449014958,-0.073451615869999,0.102654352784157,-0.039976738393307,-0.001356615684927,-0.014278856106102,-0.020139243453741,0.010143504478037,0.001670615980402,0.038857236504555));
res += mul(Get(s2,0,-dy), float4x4(0.038538619875908,-0.018155254423618,-0.001105004921556,0.055974438786507,-0.025233831256628,-0.007693454157561,-0.004111160524189,-0.123239792883396,0.007324756588787,-0.012474631890655,-0.001356535707600,0.039884798228741,-0.028789421543479,0.007719705812633,0.002134579466656,-0.011511402204633));
res += mul(Get(s2,0,0), float4x4(0.052649658173323,0.027632256969810,-0.003184652421623,0.071863204240799,-0.203123196959496,0.142227426171303,-0.000073136798164,-0.038286671042442,0.040921945124865,-0.011991539038718,-0.000572301505599,0.024214215576649,-0.033147681504488,0.030976936221123,0.003391212085262,0.036101080477238));
res += mul(Get(s2,0,dy), float4x4(0.033876556903124,0.037091240286827,-0.000975475879386,0.011996896937490,-0.032951798290014,0.097974151372910,0.010934180580080,-0.035122919827700,0.019190074875951,-0.000523619353771,-0.002899608807638,0.010251674801111,0.003581448690966,0.019809516146779,0.000919003272429,0.024470733478665));
res += mul(Get(s2,dx,-dy), float4x4(0.073828242719173,0.035901982337236,-0.007229360286146,-0.031559724360704,0.012232211418450,0.024710852652788,-0.003645483171567,-0.034815620630980,-0.034027777612209,0.028252083808184,-0.000143463432323,0.005500027444214,0.009371460415423,0.031687986105680,0.002891726559028,-0.045255023986101));
res += mul(Get(s2,dx,0), float4x4(-0.005034290719777,0.118767455220222,-0.005082521587610,-0.113814137876034,0.174016118049622,0.031915761530399,-0.000898378086276,0.126678198575974,0.015414282679558,0.038279604166746,-0.001045808894560,0.064662471413612,-0.021037995815277,0.017880395054817,0.001530005712993,-0.004756496287882));
res += mul(Get(s2,dx,dy), float4x4(0.047890711575747,0.044833552092314,-0.003079639747739,0.021245483309031,0.002763227792457,0.061097495257854,-0.001157261547633,0.035215847194195,0.037526085972786,0.054050400853157,-0.001228619366884,0.029418280348182,-0.012198930606246,0.057229474186897,-0.002084900159389,0.011268114671111));
res += mul(Get(s3,-dx,-dy), float4x4(0.021893519908190,-0.039165798574686,0.012564159929752,-0.065185919404030,0.005948660895228,-0.024680705741048,-0.004651820287108,0.022574128583074,-0.079219244420528,-0.001325027667917,0.000630050140899,0.037667073309422,-0.025348581373692,-0.019454553723335,0.000375111558242,-0.007166823372245));
res += mul(Get(s3,-dx,0), float4x4(-0.046875044703484,-0.027618080377579,0.008886134251952,-0.098205991089344,-0.006224290467799,-0.036746930330992,-0.001560502103530,-0.016907466575503,-0.090477868914604,-0.025800634175539,0.003338882699609,0.003640086157247,-0.042177654802799,-0.034774448722601,0.001066535245627,0.028595987707376));
res += mul(Get(s3,-dx,dy), float4x4(-0.053761988878250,-0.084145575761795,0.013812746852636,-0.014879035763443,0.013865029439330,-0.076734825968742,0.002780256094411,0.026766709983349,-0.021253375336528,-0.015902461484075,0.008120433427393,-0.013571400195360,0.019660037010908,-0.010738649405539,-0.000529878423549,0.007179587148130));
res += mul(Get(s3,0,-dy), float4x4(-0.065165549516678,-0.014964095316827,0.000444985198556,-0.041429299861193,-0.004730233456939,-0.002308178925887,-0.002224263269454,-0.026244241744280,0.002463567303494,0.056848328560591,-0.001326778437942,-0.022140357643366,-0.011330267414451,0.000563007488381,0.000849907053635,0.022583918645978));
res += mul(Get(s3,0,0), float4x4(0.265610843896866,-0.044630520045757,-0.000872300122865,-0.074055388569832,0.015537234954536,-0.050032939761877,-0.005492185708135,-0.050202853977680,0.065734662115574,0.036560080945492,0.002725230064243,0.029758997261524,0.015127982944250,-0.013854933902621,0.002447537146509,0.041970252990723));
res += mul(Get(s3,0,dy), float4x4(-0.037544399499893,-0.040448751300573,-0.004311109893024,-0.069399155676365,-0.007731490768492,-0.073415108025074,-0.001640498638153,-0.013965127989650,-0.021114643663168,-0.030555143952370,-0.010547786951065,-0.042554564774036,-0.001894622226246,-0.023560453206301,0.002269323915243,0.000368911278201));
res += mul(Get(s3,dx,-dy), float4x4(0.129206612706184,0.085843265056610,-0.005434115417302,-0.135227054357529,0.016598384827375,-0.053380087018013,0.003218877594918,0.055405553430319,0.005673485342413,0.026215536519885,-0.004207483492792,0.103653870522976,0.058447659015656,0.002582655753940,-0.002642848296091,-0.029193015769124));
res += mul(Get(s3,dx,0), float4x4(-0.053883887827396,0.036844547837973,-0.007247723173350,0.001386854681186,0.047600753605366,-0.068251788616180,0.004241619724780,0.120040729641914,0.024127565324306,0.064487405121326,-0.000581231724937,-0.105056159198284,-0.022590337321162,-0.053209789097309,-0.001967026386410,0.029696373268962));
res += mul(Get(s3,dx,dy), float4x4(-0.019668202847242,0.063656799495220,-0.002753995358944,-0.094739094376564,0.067367874085903,-0.034454625099897,-0.001964025897905,0.058321140706539,-0.046391434967518,0.012713393196464,-0.004650573711842,0.122664161026478,0.000703094759956,-0.077538676559925,-0.003281946759671,0.015724850818515));
res = max(float4(0,0,0,0), res);
return res;
}
