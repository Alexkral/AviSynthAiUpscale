sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.089569702744484,0.075084730982780,-0.011152841150761,-0.034677792340517,-0.049922037869692,-0.007857182994485,-0.009277662262321,0.072855718433857,-0.033602125942707,-0.123567551374435,0.027622463181615,0.046007394790649,0.002068592002615,-0.026541270315647,-0.009074267931283,-0.021006384864450));
res += mul(Get(s0,-dx,0), float4x4(-0.083321437239647,0.062249105423689,-0.002231673570350,-0.024362975731492,-0.068694904446602,-0.057068757712841,-0.011861851438880,0.031135316938162,0.008103399537504,-0.067518249154091,0.054193913936615,-0.001179382670671,0.020350588485599,-0.005106330383569,0.005806941539049,-0.027626486495137));
res += mul(Get(s0,-dx,dy), float4x4(0.181444957852364,-0.089654996991158,0.022598130628467,-0.045370798557997,-0.036267388612032,-0.056417513638735,-0.006417213007808,0.023312170058489,0.021730402484536,-0.086706668138504,0.064102537930012,-0.023923465982080,0.059298299252987,0.016902677714825,0.001818808377720,-0.048991389572620));
res += mul(Get(s0,0,-dy), float4x4(-0.141557127237320,0.071312569081783,0.005313793662935,-0.034025538712740,-0.046213887631893,-0.009839215315878,-0.019527636468410,0.126331970095634,-0.034339807927608,-0.062979288399220,0.010928550735116,0.116298750042915,0.046945337206125,-0.038144640624523,-0.012481162324548,0.058291718363762));
res += mul(Get(s0,0,0), float4x4(-0.118238627910614,0.126471728086472,0.012672310695052,-0.020325306802988,-0.001277795759961,-0.100420117378235,-0.024009935557842,0.092062495648861,0.022246550768614,-0.097163222730160,0.021877242252231,-0.023733088746667,0.086650967597961,-0.054726954549551,-0.011144160293043,0.069833032786846));
res += mul(Get(s0,0,dy), float4x4(0.178369626402855,-0.113505512475967,0.021793143823743,0.031239068135619,0.036033462733030,-0.048284705728292,-0.042337734252214,-0.020202739164233,0.081176288425922,-0.036448244005442,0.007302556186914,-0.050152350217104,0.107973411679268,0.054915308952332,-0.003340847557411,-0.082048244774342));
res += mul(Get(s0,dx,-dy), float4x4(-0.109372302889824,-0.034932114183903,-0.004778843373060,0.036046214401722,-0.071495920419693,0.006909623276442,-0.038424648344517,0.095414899289608,-0.042504850775003,0.014249785803258,0.002858203835785,-0.044333245605230,-0.005946733523160,-0.031120141968131,0.020518967881799,0.002372121438384));
res += mul(Get(s0,dx,0), float4x4(-0.098740614950657,0.004462056793272,-0.001221290440299,0.103368133306503,-0.051793154329062,-0.066489383578300,-0.045265391469002,0.010273428633809,-0.062845848500729,0.015892576426268,0.000660558755044,-0.080525025725365,0.018967822194099,-0.034012764692307,-0.002127124695107,-0.027650747448206));
res += mul(Get(s0,dx,dy), float4x4(0.114354856312275,-0.019357092678547,0.027050666511059,-0.049865387380123,0.010832092724741,-0.050334535539150,-0.062203727662563,-0.091062486171722,0.047385297715664,0.015449212864041,-0.014793446287513,-0.016250196844339,0.035472210496664,-0.004197338130325,-0.015532914549112,-0.057573076337576));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066783562302589,-0.074249327182770,-0.034243021160364,-0.013526828028262,0.013200306333601,-0.001318983035162,0.018292896449566,0.112047299742699,-0.076302349567413,0.012159548699856,-0.028134867548943,0.086819671094418,-0.043142016977072,-0.031128475442529,-0.006181735545397,0.051297631114721));
res += mul(Get(s1,-dx,0), float4x4(-0.034971829503775,0.024205079302192,-0.020204979926348,-0.084473296999931,-0.031436339020729,-0.038002472370863,0.020728249102831,-0.083250261843204,-0.022508760914207,-0.042685505002737,-0.034780494868755,0.049416616559029,-0.038657229393721,-0.003745650406927,0.023725360631943,-0.008034053258598));
res += mul(Get(s1,-dx,dy), float4x4(0.074571006000042,0.005949449725449,-0.028188969939947,-0.019471861422062,-0.053835652768612,-0.031318530440331,-0.053210210055113,-0.099798426032066,0.092487812042236,-0.040746483951807,-0.005270141176879,-0.014110151678324,0.029070502147079,-0.037706814706326,0.005514582153410,0.053459346294403));
res += mul(Get(s1,0,-dy), float4x4(-0.056742120534182,-0.035283010452986,-0.018624925985932,0.077728010714054,0.012636156752706,0.094610847532749,-0.008892168290913,0.184932962059975,-0.124358862638474,-0.012928081676364,-0.003860161639750,0.034041974693537,-0.024358946830034,0.064166538417339,0.002808922901750,0.021293384954333));
res += mul(Get(s1,0,0), float4x4(-0.046729929745197,-0.015694083645940,-0.013354285620153,0.070222228765488,-0.035810817033052,-0.040569383651018,0.017904784530401,0.046205185353756,-0.117192350327969,0.118751272559166,-0.022381700575352,-0.104436777532101,-0.029188076034188,-0.071861520409584,0.021128084510565,0.097995072603226));
res += mul(Get(s1,0,dy), float4x4(0.037359531968832,0.024159582331777,-0.007332979701459,0.015445422381163,-0.044072713702917,0.049818139523268,-0.046667501330376,-0.088610716164112,0.030891824513674,-0.037470519542694,0.032587591558695,-0.024020886048675,0.021217156201601,-0.029373472556472,0.008785155601799,0.007640309631824));
res += mul(Get(s1,dx,-dy), float4x4(-0.057855457067490,0.055456396192312,-0.037955980747938,-0.042973555624485,0.064530417323112,0.124697178602219,-0.015218188986182,0.081825383007526,-0.069516144692898,-0.070465877652168,-0.010454146191478,0.021762333810329,-0.022837422788143,0.086390763521194,-0.009646878577769,-0.009823949076235));
res += mul(Get(s1,dx,0), float4x4(-0.065714493393898,0.063551403582096,-0.043935488909483,0.010835134424269,-0.011644534766674,-0.037486582994461,0.002541716210544,0.098421841859818,-0.092255875468254,0.092252917587757,-0.016639338806272,-0.004923546686769,-0.026416094973683,-0.013365576975048,0.018242923542857,0.018789295107126));
res += mul(Get(s1,dx,dy), float4x4(0.027780270203948,0.018575452268124,-0.039435960352421,0.017192019149661,-0.066952258348465,0.011719306930900,-0.025165911763906,0.054791167378426,-0.014703588560224,0.044791877269745,0.053004529327154,-0.082556560635567,0.012817236594856,-0.061336651444435,0.013163289986551,0.002105422085151));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007503892760724,0.007938222028315,-0.004682347178459,0.040402784943581,-0.034011419862509,-0.016645211726427,-0.037677846848965,0.002783170901239,0.009979210793972,0.051643274724483,-0.001351159415208,-0.011012052185833,-0.052210159599781,0.035934444516897,-0.014481794089079,-0.009457404725254));
res += mul(Get(s2,-dx,0), float4x4(0.003715304657817,-0.015580520033836,0.004339783918113,0.017680482938886,0.008736239746213,0.013238565996289,0.025774717330933,-0.065649338066578,-0.026029175147414,0.014614270068705,0.007522202562541,-0.037331067025661,0.025555603206158,-0.035867188125849,-0.011536600999534,-0.048786003142595));
res += mul(Get(s2,-dx,dy), float4x4(0.036413565278053,0.006986800581217,-0.003854928538203,-0.008407611399889,0.085408926010132,-0.042182043194771,0.100313931703568,-0.046266794204712,-0.009623366408050,0.009348705410957,0.002453863155097,-0.022737486287951,0.013709535822272,0.023213019594550,-0.003289288608357,-0.054419957101345));
res += mul(Get(s2,0,-dy), float4x4(-0.007636907976121,0.000924037070945,-0.000681214383803,0.023578599095345,-0.036088220775127,0.006903584580868,-0.053906153887510,0.002797950757667,0.012332387268543,0.002917697886005,-0.015287959948182,0.067075759172440,-0.026234332472086,0.098118394613266,-0.004154914524406,0.031977213919163));
res += mul(Get(s2,0,0), float4x4(0.009209127165377,0.011486126109958,0.008376862853765,0.004763504490256,-0.058285243809223,0.030739860609174,0.023016296327114,-0.127673745155334,-0.039394088089466,0.012378037907183,0.001066318945959,-0.085577517747879,0.054930049926043,-0.024257348850369,0.002455031033605,0.058282215148211));
res += mul(Get(s2,0,dy), float4x4(0.026528041809797,0.010620501823723,-0.005613405257463,-0.000739165639970,0.056759096682072,0.021978132426739,0.080538019537926,-0.172842755913734,-0.018677141517401,0.070827916264534,0.003963152877986,-0.056398548185825,0.048773996531963,0.081193551421165,0.002118185395375,-0.056524813175201));
res += mul(Get(s2,dx,-dy), float4x4(-0.014762364327908,-0.001362331211567,-0.000197090412257,0.017387213185430,-0.045919705182314,-0.020223274827003,-0.044529400765896,0.064759805798531,-0.015206751413643,-0.020259460434318,-0.002083372091874,0.066903345286846,0.007044236641377,0.123368896543980,0.002258449560031,-0.058622494339943));
res += mul(Get(s2,dx,0), float4x4(-0.000913880998269,0.012349363416433,0.000015805495423,0.002300090389326,-0.063474990427494,0.032076194882393,-0.009247093461454,-0.011946667917073,-0.056475512683392,-0.026394385844469,0.000527042429894,-0.085375785827637,0.008098843507469,0.028800684958696,-0.000839527870994,0.005133478436619));
res += mul(Get(s2,dx,dy), float4x4(0.025086948648095,0.004636995960027,-0.001529036555439,-0.004456964787096,0.030383350327611,0.006022829562426,0.036759421229362,-0.005522233899683,-0.025431439280510,0.076730690896511,0.002566993469372,-0.039967879652977,0.006741806399077,0.072979845106602,0.002063538646325,-0.026398239657283));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020220287144184,-0.004465647507459,-0.001134466379881,0.040285114198923,-0.035141151398420,0.073050037026405,-0.003666235599667,0.044095624238253,-0.081220090389252,-0.000201310933335,-0.036014452576637,0.070968255400658,0.037353828549385,0.084646917879581,-0.014957494102418,0.020110458135605));
res += mul(Get(s3,-dx,0), float4x4(-0.014330297708511,-0.003204195294529,0.008845690637827,-0.104179292917252,0.016105124726892,-0.049605123698711,-0.004106120672077,0.008629024960101,0.041601087898016,-0.048590179532766,0.001982228364795,-0.004975562915206,0.056009780615568,0.115308992564678,-0.006890676449984,0.000833140336908));
res += mul(Get(s3,-dx,dy), float4x4(-0.019027203321457,0.020590910688043,0.005289359483868,-0.069948568940163,0.031786166131496,-0.027510657906532,-0.041452080011368,-0.025953009724617,0.152711525559425,-0.051513794809580,0.025181209668517,-0.148162230849266,0.055903695523739,0.066286504268646,0.001262594712898,0.043202709406614));
res += mul(Get(s3,0,-dy), float4x4(-0.019782852381468,0.046661213040352,-0.009579675272107,0.094058841466904,-0.053567890077829,0.105690464377403,-0.012967160902917,0.033203251659870,-0.059218589216471,0.062110759317875,-0.028213692829013,0.048542000353336,0.101461187005043,0.057716440409422,-0.018830213695765,-0.002588969422504));
res += mul(Get(s3,0,0), float4x4(-0.007603467907757,-0.017311980947852,-0.002904871013016,-0.022670835256577,-0.017181398347020,-0.015080866403878,0.007476296741515,0.000303230510326,0.030269682407379,0.060864869505167,0.011538930237293,-0.006301767192781,0.104230687022209,0.062733381986618,-0.009504362009466,0.045322220772505));
res += mul(Get(s3,0,dy), float4x4(-0.007848206907511,0.040590655058622,-0.004501543939114,-0.059443868696690,0.074916876852512,-0.068558551371098,-0.015812333673239,-0.012212892994285,0.187795892357826,-0.018285665661097,0.034481376409531,-0.138167321681976,0.058394074440002,0.049407690763474,0.007102055940777,0.041000124067068));
res += mul(Get(s3,dx,-dy), float4x4(0.000332186056767,0.088465116918087,-0.008307533338666,0.034939259290695,-0.023072494193912,0.057674165815115,-0.003302995814011,0.031936023384333,-0.068889029324055,-0.022943751886487,-0.009646235965192,-0.009632968343794,0.043921101838350,0.028304448351264,-0.009462762624025,0.003332148538902));
res += mul(Get(s3,dx,0), float4x4(-0.022984752431512,-0.004193883389235,0.001046783174388,-0.017743702977896,-0.008417319506407,-0.001856330898590,0.000991225359030,-0.007267086766660,-0.006581537891179,0.084543533623219,0.030830025672913,0.011755504645407,0.090300381183624,0.003869702573866,-0.007304517086595,0.045718818902969));
res += mul(Get(s3,dx,dy), float4x4(-0.014903130941093,0.006432744674385,0.005702072754502,-0.015896406024694,0.073508895933628,-0.080274984240532,-0.015733884647489,0.020551262423396,0.066990174353123,-0.021895406767726,0.069765880703926,-0.058235745877028,0.075514599680901,0.002033754717559,-0.006832509767264,-0.006209700368345));
res = max(float4(0,0,0,0), res);
return res;
}
