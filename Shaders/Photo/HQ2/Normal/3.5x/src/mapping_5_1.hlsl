sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.028098218142986,0.050606507807970,0.001835494418629,-0.035576865077019,0.021348739042878,0.009100753813982,-0.010076685808599,0.107025504112244,0.127355858683586,-0.008417785167694,-0.046571291983128,-0.099011428654194,-0.013208993710577,-0.082193143665791,0.029710412025452,0.108361840248108));
res += mul(Get(s0,-dx,0), float4x4(0.027553839609027,0.039612017571926,-0.047777645289898,0.015500828623772,-0.012105470523238,-0.064230255782604,-0.005239152815193,0.036533147096634,0.069408036768436,0.055689632892609,-0.099979087710381,-0.160662919282913,-0.018728431314230,0.019571209326386,0.124105714261532,0.066362284123898));
res += mul(Get(s0,-dx,dy), float4x4(0.015437709167600,0.067487128078938,-0.034213136881590,0.026178171858191,-0.062120974063873,-0.089471153914928,-0.012927714735270,-0.023586621508002,0.016379022970796,0.035712376236916,-0.114850774407387,-0.102128423750401,0.025083564221859,-0.043906636536121,0.094619639217854,-0.043983872979879));
res += mul(Get(s0,0,-dy), float4x4(0.083858065307140,0.010919721797109,0.042229976505041,0.019838206470013,0.002246469492093,0.016706615686417,0.052107434719801,0.068884000182152,-0.133964911103249,0.150110721588135,0.096066012978554,-0.048693645745516,-0.071778200566769,0.025612233206630,-0.087786346673965,-0.049713373184204));
res += mul(Get(s0,0,0), float4x4(0.067335978150368,0.010566217824817,0.002778933616355,0.047642238438129,-0.021727792918682,-0.032239817082882,0.047945216298103,0.036550693213940,-0.146864101290703,0.069869369268417,0.037356272339821,-0.049608070403337,0.007957867346704,0.146443381905556,0.006736400071532,0.025692954659462));
res += mul(Get(s0,0,dy), float4x4(0.016456307843328,0.054803587496281,-0.034566693007946,-0.033116675913334,-0.079698383808136,-0.086557015776634,0.036590307950974,0.019943052902818,-0.068706028163433,-0.009121010079980,-0.017313426360488,-0.101922407746315,0.010233132168651,-0.059515178203583,0.148656949400902,0.012970197014511));
res += mul(Get(s0,dx,-dy), float4x4(0.074353531002998,0.066284462809563,-0.030584651976824,0.015298718586564,0.052906826138496,0.050379883497953,-0.005316763650626,0.032276257872581,-0.030328657478094,0.073079749941826,-0.038368780165911,-0.003442891407758,-0.035236664116383,-0.126291245222092,-0.040871985256672,-0.040818233042955));
res += mul(Get(s0,dx,0), float4x4(0.041493389755487,0.004622006788850,0.003621574258432,0.007533974479884,0.049559831619263,-0.015806397423148,-0.043936867266893,0.048564825206995,-0.052512645721436,-0.030933223664761,0.020100384950638,0.033079657703638,-0.016555409878492,-0.031000515446067,0.012557337991893,-0.092589616775513));
res += mul(Get(s0,dx,dy), float4x4(0.085101231932640,0.100876122713089,-0.034095942974091,-0.012052022852004,-0.033111952245235,-0.075895428657532,0.018993727862835,0.061864558607340,-0.055097043514252,-0.055232584476471,-0.021754387766123,0.011598710902035,0.003331574611366,-0.081956960260868,0.073127761483192,-0.046540528535843));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015643522143364,0.057484615594149,0.026737527921796,0.089867815375328,0.027463143691421,0.036563113331795,-0.059130445122719,-0.009513104334474,0.033997066318989,0.012378757819533,-0.001593667664565,-0.095155350863934,0.083353631198406,-0.013483462855220,-0.016523202881217,-0.036954600363970));
res += mul(Get(s1,-dx,0), float4x4(-0.035558234900236,0.010605366900563,-0.010261402465403,0.069816999137402,0.021687392145395,-0.010664264671504,0.004409301094711,-0.023888899013400,0.078803710639477,0.062765359878540,0.000258884712821,-0.088901117444038,-0.010904460214078,-0.056572929024696,0.001016992726363,0.000441654439783));
res += mul(Get(s1,-dx,dy), float4x4(-0.062107127159834,-0.041391983628273,-0.008665206842124,0.076431445777416,-0.037983499467373,-0.068716689944267,-0.072280123829842,-0.006481215823442,-0.017394367605448,-0.061065990477800,0.004595563281327,-0.067684270441532,0.004220954142511,0.008921008557081,0.024276424199343,0.004008787684143));
res += mul(Get(s1,0,-dy), float4x4(-0.021213598549366,-0.001129826065153,0.031627081334591,0.066401116549969,-0.012177647091448,0.089834466576576,0.001698462874629,-0.021381212398410,0.107000231742859,-0.025410879403353,-0.036125507205725,-0.032857686281204,0.011021357029676,-0.039839383214712,-0.105481892824173,-0.033650603145361));
res += mul(Get(s1,0,0), float4x4(-0.044330697506666,0.058561034500599,-0.020024437457323,0.115951128304005,-0.057067256420851,-0.011957818642259,0.069281004369259,-0.037387412041426,0.137485399842262,0.036771304905415,0.077282391488552,0.010824729688466,-0.088686846196651,-0.039031893014908,0.034613814204931,-0.077508538961411));
res += mul(Get(s1,0,dy), float4x4(-0.038149479776621,0.027306396514177,-0.033015154302120,0.109257236123085,-0.004636510740966,-0.105857208371162,-0.033193476498127,-0.018607433885336,-0.067490413784981,-0.053117021918297,0.025195883587003,0.099944278597832,-0.036645065993071,0.030490405857563,-0.049304343760014,-0.014793640002608));
res += mul(Get(s1,dx,-dy), float4x4(-0.031125897541642,0.042007949203253,-0.008100126869977,0.078248940408230,-0.042820457369089,0.049832329154015,0.013163661584258,-0.068860091269016,0.015583013184369,0.115312501788139,-0.106331199407578,-0.025884117931128,-0.033261515200138,0.075354397296906,0.023604264482856,0.099960833787918));
res += mul(Get(s1,dx,0), float4x4(-0.068637467920780,0.065087124705315,-0.028236363083124,0.008746577426791,-0.018571186810732,-0.043245133012533,0.055866200476885,-0.041679363697767,-0.019578721374273,0.030742991715670,0.117866583168507,-0.015311855822802,-0.074667088687420,0.024878885596991,0.025608550757170,0.022752042859793));
res += mul(Get(s1,dx,dy), float4x4(-0.058803293853998,0.114587783813477,-0.040987901389599,-0.003595877904445,0.022849656641483,-0.047398008406162,-0.021223828196526,-0.043233737349510,-0.063713483512402,-0.066781677305698,0.052636276930571,0.066323474049568,-0.013281023129821,0.019334938377142,-0.077565193176270,0.017100766301155));
res += mul(Get(s2,-dx,-dy), float4x4(0.051818508654833,0.009164561517537,-0.061907157301903,0.051702890545130,0.072233058512211,-0.067219875752926,-0.016868123784661,0.057072903960943,0.017204158008099,-0.007953753694892,-0.053459577262402,0.003680275985971,-0.031784798949957,-0.041897326707840,0.047933466732502,-0.015216522850096));
res += mul(Get(s2,-dx,0), float4x4(0.033927209675312,0.059193056076765,-0.016124701127410,0.042085569351912,0.062418449670076,-0.117450304329395,0.074912540614605,0.017511989921331,0.026483420282602,0.011941467411816,-0.004075203556567,0.060917478054762,0.056253287941217,-0.054465893656015,0.104065373539925,-0.020989350974560));
res += mul(Get(s2,-dx,dy), float4x4(0.056460175663233,0.025393899530172,0.024458350613713,-0.003665862604976,-0.030123377218843,0.070512503385544,-0.176524966955185,-0.060019075870514,0.069908671081066,-0.006119179073721,-0.037709761410952,0.029162906110287,-0.028967369347811,-0.043505679816008,0.005353765562177,-0.027434160932899));
res += mul(Get(s2,0,-dy), float4x4(-0.013257288374007,-0.043532416224480,-0.049680039286613,-0.029492182657123,-0.029869811609387,0.042571522295475,-0.076110325753689,0.084378764033318,-0.059151705354452,-0.028307469561696,-0.014993319287896,-0.022995799779892,-0.048858352005482,-0.003757203463465,0.038948912173510,0.019187480211258));
res += mul(Get(s2,0,0), float4x4(-0.058344773948193,0.050221189856529,-0.038426525890827,-0.068029411137104,0.038355194032192,-0.123007059097290,0.128413215279579,0.035273477435112,-0.060132484883070,-0.008027728646994,-0.000025257973903,0.024196766316891,-0.006372219417244,-0.042920254170895,0.090457975864410,0.030333708971739));
res += mul(Get(s2,0,dy), float4x4(0.010369403287768,0.083836637437344,0.012413120828569,-0.012153697200119,0.045616790652275,0.011984764598310,-0.080366998910904,-0.106661625206470,0.016330650076270,-0.003352812957019,0.010700458660722,0.033901549875736,-0.004163235891610,-0.014729071408510,0.017239520326257,-0.002946814289317));
res += mul(Get(s2,dx,-dy), float4x4(-0.013405616395175,-0.021032825112343,-0.022363955155015,0.001555500086397,0.069328583776951,0.063327841460705,-0.011764520779252,0.077848702669144,0.106284484267235,-0.042058840394020,-0.002071889350191,-0.020528428256512,-0.038528066128492,0.011144664138556,-0.007319311611354,0.011435150168836));
res += mul(Get(s2,dx,0), float4x4(-0.052161939442158,-0.013567631132901,-0.004984103143215,-0.020771408453584,0.063532307744026,0.035531289875507,-0.020091015845537,0.059747550636530,0.067994832992554,0.041676349937916,0.014880471862853,-0.004073981661350,-0.052944403141737,-0.057830478996038,0.154428020119667,0.007243179250509));
res += mul(Get(s2,dx,dy), float4x4(-0.011079041287303,0.019391542300582,0.005033693742007,-0.008411905728281,0.066420041024685,0.070006348192692,-0.038254983723164,0.002287549665198,0.047818403691053,0.034824684262276,0.016370425000787,0.013455342501402,-0.010502655059099,-0.029107876121998,0.026173308491707,-0.010901850648224));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020182093605399,0.073233082890511,-0.019636310636997,0.009681467898190,-0.032182484865189,0.018272206187248,-0.036892637610435,-0.003157398430631,0.149323418736458,-0.104382075369358,-0.028164859861135,0.028028298169374,-0.005094926804304,-0.004134421702474,-0.002778535475954,-0.005470080766827));
res += mul(Get(s3,-dx,0), float4x4(0.006508053746074,0.056376166641712,-0.015182611532509,-0.005302934441715,0.013201345689595,0.008323836140335,-0.204253882169724,0.016996078193188,-0.079501092433929,-0.084228329360485,-0.031162068247795,-0.004204840399325,0.003864692756906,0.008238336071372,-0.001210637972690,-0.009445361793041));
res += mul(Get(s3,-dx,dy), float4x4(-0.044832587242126,0.041678398847580,-0.057628653943539,0.009360037744045,-0.010507420636714,0.039400562644005,0.129016101360321,0.041602078825235,0.046475451439619,-0.084592796862125,0.037130035459995,-0.062043379992247,0.002476481720805,0.009967769496143,-0.000173698295839,-0.008477786555886));
res += mul(Get(s3,0,-dy), float4x4(-0.027418978512287,0.018316116183996,0.015111176297069,-0.001077795051970,-0.009702201001346,-0.015404463745654,0.213618278503418,-0.067090854048729,0.091725014150143,-0.124260842800140,-0.086812198162079,0.075848907232285,-0.027427388355136,0.009278400801122,-0.008517763577402,-0.000106048959424));
res += mul(Get(s3,0,0), float4x4(-0.001570959459059,0.070046164095402,0.033750001341105,-0.038053389638662,-0.015063339844346,0.008718734607100,-0.134423390030861,-0.090983048081398,-0.039638899266720,-0.099348060786724,0.018681278452277,-0.023609701544046,-0.025191552937031,0.011268530972302,0.006826820783317,-0.005590902175754));
res += mul(Get(s3,0,dy), float4x4(-0.038442347198725,0.093049690127373,-0.071248389780521,-0.013491413556039,0.015422574244440,0.023770431056619,-0.068109437823296,-0.051169488579035,-0.016415994614363,-0.086511671543121,-0.062674492597580,-0.077579818665981,-0.025181448087096,0.004869544878602,0.012892615981400,-0.008851111866534));
res += mul(Get(s3,dx,-dy), float4x4(0.035609465092421,0.040470421314240,-0.000511360703968,-0.026853309944272,-0.078257068991661,0.071397364139557,0.026748966425657,-0.031045654788613,-0.005432241596282,-0.092409342527390,0.022257057949901,-0.002184808254242,0.010480780154467,-0.007982176728547,0.013645738363266,-0.000783030234743));
res += mul(Get(s3,dx,0), float4x4(0.060609247535467,0.051765471696854,0.036410517990589,-0.009115531109273,-0.102697670459747,-0.041451640427113,0.029067333787680,0.019020576030016,-0.102730378508568,-0.055231910198927,0.019088139757514,-0.043253708630800,0.010272547602654,-0.014585609547794,0.008578343316913,-0.002994376001880));
res += mul(Get(s3,dx,dy), float4x4(0.001799019519240,0.052079144865274,-0.011258602142334,-0.039140619337559,0.009559032507241,-0.026842297986150,-0.010810691863298,-0.014703758992255,-0.046868279576302,-0.102464154362679,-0.021412910893559,-0.027480794116855,0.002622966887429,-0.027747254818678,0.000303078646539,0.003924851771444));
res = max(float4(0,0,0,0), res);
return res;
}
