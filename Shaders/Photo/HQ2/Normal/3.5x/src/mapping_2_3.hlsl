sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.027450080960989,0.042005855590105,-0.009257542900741,0.000709522108082,-0.003102082060650,-0.010810402221978,-0.002750328043476,0.025357788428664,-0.000445347570349,0.001915952889249,0.000580337073188,0.020426312461495,-0.000240897483309,0.002050322946161,0.009226447902620,-0.000239359142142));
res += mul(Get(s0,-dx,0), float4x4(-0.038879293948412,0.000969249405898,0.059363823384047,0.016834432259202,0.028327833861113,0.004121586214751,0.012205577455461,0.009451736696064,-0.004396805074066,-0.009919846430421,0.025407841429114,0.003267392516136,0.006681814324111,0.004106055945158,0.028926983475685,-0.003003834746778));
res += mul(Get(s0,-dx,dy), float4x4(0.049925714731216,0.033704109489918,0.125676080584526,-0.121869012713432,-0.001379428780638,0.000816573097836,0.000022671531042,0.002808548510075,0.004842487629503,-0.001212133793160,0.040685269981623,-0.015270479023457,-0.001346801756881,0.000349194509909,-0.009264255873859,-0.004697431810200));
res += mul(Get(s0,0,-dy), float4x4(-0.019007634371519,-0.170451223850250,-0.004205765668303,0.023754023015499,0.004004599060863,0.008732828311622,0.001529045170173,0.019330812618136,0.004028978291899,-0.010789874009788,-0.004453805740923,0.031996585428715,-0.008354942314327,-0.018244400620461,-0.004961842671037,0.003477011341602));
res += mul(Get(s0,0,0), float4x4(-0.052426729351282,-0.367997139692307,0.082397006452084,0.124903149902821,0.000619368220214,-0.018142720684409,0.004411815200001,0.015795893967152,0.002268535085022,-0.000085981839220,0.004518965724856,0.026964530348778,0.019313080236316,-0.006698883138597,0.014826890081167,0.002007552655414));
res += mul(Get(s0,0,dy), float4x4(0.022182911634445,-0.145467951893806,0.134545251727104,-0.071353025734425,-0.003460967447609,0.011932021938264,0.010344700887799,0.035192169249058,0.004200940951705,0.024227352812886,0.031366430222988,0.007113755214959,-0.007323075551540,0.004958425648510,-0.012083983980119,-0.002766518387944));
res += mul(Get(s0,dx,-dy), float4x4(-0.009395989589393,0.001185028580949,0.077061064541340,0.009221943095326,0.001689280150458,-0.005616186186671,0.004565229639411,0.013823973946273,-0.005616858135909,-0.013379517011344,0.017473535612226,0.034167263656855,0.004057349171489,-0.010328975506127,0.009404161013663,-0.002197400433943));
res += mul(Get(s0,dx,0), float4x4(-0.027812434360385,-0.276267975568771,0.009976121596992,0.163045898079872,-0.002146558370441,-0.010297246277332,-0.013113562017679,0.030520753934979,-0.002430551918224,-0.012337787076831,-0.000773986510467,0.049537386745214,-0.002316495403647,-0.011453695595264,0.007202019914985,-0.014042652212083));
res += mul(Get(s0,dx,dy), float4x4(0.007304569706321,-0.087219022214413,0.032577626407146,-0.001812846050598,0.006510307081044,0.016033058986068,0.001994465012103,0.053864561021328,-0.001052203937434,-0.019133467227221,0.028271066024899,0.032479643821716,-0.011857398785651,0.008271173574030,-0.010101985186338,-0.000395942595787));
res += mul(Get(s1,-dx,-dy), float4x4(0.000936425349209,-0.002974966308102,-0.010452564805746,0.006230261176825,0.016624787822366,-0.008659024722874,-0.022510057315230,-0.009948718361557,0.000378461350920,-0.000514629879035,0.023214921355247,0.035019967705011,0.007339313160628,0.000362770369975,-0.080936975777149,-0.069057069718838));
res += mul(Get(s1,-dx,0), float4x4(-0.001466767862439,0.003168944036588,0.007336929906160,0.008650651201606,0.016495270654559,-0.020617868751287,-0.008354972116649,0.026747159659863,0.042058311402798,-0.040264394134283,0.059565484523773,-0.037345491349697,-0.019373454153538,-0.029622238129377,-0.056847847998142,0.006571048405021));
res += mul(Get(s1,-dx,dy), float4x4(-0.000573546567466,0.003803920699283,0.001791303395294,-0.002508287550882,0.005193342920393,-0.040727213025093,-0.014199147932231,0.049185916781425,0.011617479845881,-0.010093363001943,-0.023950662463903,-0.009357625618577,0.004494978580624,-0.017727265134454,0.091493420302868,-0.081090584397316));
res += mul(Get(s1,0,-dy), float4x4(0.003683032933623,0.003972130827606,-0.004378644749522,0.000336706638336,0.008496657945216,-0.024497445672750,-0.011439417488873,0.008532973937690,-0.008677992038429,-0.002251364290714,0.059907514601946,0.050990082323551,0.018209572881460,0.030217804014683,-0.096629835665226,-0.067103832960129));
res += mul(Get(s1,0,0), float4x4(-0.002650976413861,0.000596688303631,-0.003776162397116,0.012967783957720,-0.001719041843899,-0.055832605808973,-0.008061028085649,0.078647367656231,0.027343444526196,-0.029872084036469,0.036526016891003,-0.022563599050045,0.001668259268627,-0.022406306117773,-0.038989927619696,0.052998390048742));
res += mul(Get(s1,0,dy), float4x4(0.007061542943120,-0.008967625908554,-0.002163396216929,0.008655210025609,-0.005565089639276,-0.029676707461476,0.008545182645321,0.081825360655785,-0.003984929062426,0.010292328894138,-0.032657884061337,0.016518406569958,0.012951536104083,0.032044224441051,0.120885692536831,-0.063435427844524));
res += mul(Get(s1,dx,-dy), float4x4(-0.003339016111568,-0.003403085283935,0.010331293568015,0.005135856568813,0.015099999494851,0.010494486428797,-0.020543109625578,0.005871931090951,0.012522952631116,-0.006881542969495,0.032793011516333,0.038402691483498,0.005047084297985,0.075541093945503,-0.066870607435703,0.010284440591931));
res += mul(Get(s1,dx,0), float4x4(-0.000990087515675,-0.004069594200701,-0.003083323827013,0.002866375260055,-0.007194807287306,-0.006908094976097,-0.013516189530492,0.047458797693253,0.007786897476763,-0.013299393467605,-0.007509124465287,0.017906775698066,-0.012802409008145,0.003099407069385,-0.002510152757168,0.066462039947510));
res += mul(Get(s1,dx,dy), float4x4(0.002966917352751,0.001821080339141,0.014533128589392,0.000200299124117,-0.013147044926882,0.038254279643297,0.015454063192010,0.009021267294884,-0.012058441527188,0.020652852952480,-0.014144730754197,0.042035240679979,0.002787632867694,-0.013546892441809,0.095921106636524,-0.028969874605536));
res += mul(Get(s2,-dx,-dy), float4x4(-0.011863579973578,0.010802000761032,-0.024082308635116,0.032301560044289,-0.017000148072839,-0.044935692101717,-0.036533687263727,-0.074986621737480,-0.001500408863649,-0.015761764720082,-0.015003182925284,0.015723088756204,0.000164521959960,-0.009212964214385,-0.002838297281414,0.005960622802377));
res += mul(Get(s2,-dx,0), float4x4(0.036349844187498,0.033742751926184,0.067286595702171,-0.053106978535652,0.014849749393761,0.061301793903112,0.029865933582187,-0.133649542927742,-0.007517679594457,-0.017071371898055,-0.000316247751471,0.027927463874221,-0.000375462725060,-0.002720315707847,-0.006496612448245,0.018831666558981));
res += mul(Get(s2,-dx,dy), float4x4(0.015746595337987,0.043682966381311,-0.029667746275663,-0.000409669417422,0.002941924612969,0.064743809401989,-0.023845575749874,-0.093745835125446,-0.000380576704629,0.008985022082925,-0.004202167037874,0.033225271850824,0.004563125316054,-0.015611873939633,0.013666454702616,0.015093891881406));
res += mul(Get(s2,0,-dy), float4x4(-0.027376042678952,-0.100523047149181,0.014130420051515,0.008440201170743,-0.006672488525510,-0.081822045147419,0.007300706114620,0.053002212196589,-0.000254301819950,-0.034233860671520,-0.011893532238901,0.054236508905888,0.001029849052429,0.004434985108674,0.012792916037142,-0.005966723896563));
res += mul(Get(s2,0,0), float4x4(0.057447537779808,-0.060831677168608,0.064142361283302,-0.050156231969595,-0.014778616838157,0.004251955077052,0.084608815610409,0.033897995948792,0.007399172056466,-0.003485772293061,0.003127901349217,0.088899463415146,-0.003420226508752,0.002562993671745,0.007391222752631,0.015265875495970));
res += mul(Get(s2,0,dy), float4x4(0.010433217510581,0.084279403090477,-0.056891568005085,-0.025660259649158,-0.023558130487800,0.099335692822933,-0.009980595670640,0.000368145178072,-0.001440475811251,0.002161068376154,-0.003251279937103,0.068357028067112,-0.007171400357038,-0.006404589861631,0.005035308189690,0.002193122170866));
res += mul(Get(s2,dx,-dy), float4x4(-0.011247828602791,-0.123134799301624,0.035107150673866,-0.001340425340459,-0.003499327693135,-0.003033884800971,-0.037361517548561,0.031222747638822,-0.009320500306785,-0.000558501284104,-0.011127851903439,0.048817057162523,-0.001966542331502,-0.008344037458301,0.006435768213123,-0.005744752939790));
res += mul(Get(s2,dx,0), float4x4(0.028438098728657,-0.016975065693259,0.005762919783592,-0.060381624847651,-0.011116248555481,0.008275533095002,-0.007670744787902,0.077197909355164,-0.005067895632237,0.028955943882465,-0.001166044850834,0.069808356463909,-0.000458664319012,-0.010251254774630,0.011474220082164,0.004753139801323));
res += mul(Get(s2,dx,dy), float4x4(-0.010427796281874,0.145424813032150,-0.089656926691532,-0.007691253907979,-0.013370867818594,0.048496101051569,-0.048551697283983,0.043708685785532,-0.004142600111663,0.017044769600034,-0.018266115337610,0.036013085395098,0.004490305669606,-0.007566813379526,0.004926682449877,0.002697849180549));
res += mul(Get(s3,-dx,-dy), float4x4(0.042438641190529,-0.007298523094505,-0.023112609982491,-0.078444346785545,-0.032134521752596,-0.017705790698528,-0.037617687135935,-0.093026153743267,-0.005334830377251,-0.005568814929575,0.011937033385038,0.006914105266333,0.005671705584973,0.006748603656888,-0.029974373057485,-0.061026785522699));
res += mul(Get(s3,-dx,0), float4x4(0.004592590499669,-0.095772393047810,0.074369765818119,0.015075977891684,0.060958389192820,0.006676864810288,0.045452501624823,-0.206972569227219,0.003266424406320,-0.003208745038137,0.005290708504617,0.003827811451629,-0.008972710929811,0.040445130318403,-0.015591111034155,-0.015759048983455));
res += mul(Get(s3,-dx,dy), float4x4(0.010245782323182,-0.102288581430912,-0.008641212247312,-0.009961159899831,-0.027626123279333,0.068707093596458,-0.139935955405235,-0.094241052865982,0.003206656780094,0.007592917885631,0.017054984346032,0.000270990130957,-0.012718636542559,-0.010592182166874,-0.023436760529876,-0.003030707128346));
res += mul(Get(s3,0,-dy), float4x4(0.013444251380861,-0.046020284295082,-0.026604562997818,0.005666110664606,-0.023277778178453,-0.072968967258930,-0.017915558069944,-0.038697294890881,-0.010839070193470,-0.000405025726650,-0.018747527152300,-0.006760177668184,-0.000775254156906,-0.001501711551100,-0.028721394017339,-0.039913240820169));
res += mul(Get(s3,0,0), float4x4(-0.026145316660404,-0.207064226269722,0.061942234635353,0.122736223042011,0.015619696117938,0.140030860900879,-0.002761780284345,-0.229485005140305,-0.001823402126320,0.001156002632342,0.011676992289722,-0.008567024022341,0.003928438760340,0.019547922536731,0.048139948397875,0.013508923351765));
res += mul(Get(s3,0,dy), float4x4(-0.002752705477178,-0.176081821322441,0.028794456273317,0.027298951521516,-0.016957277432084,0.157901391386986,-0.130943819880486,-0.108711943030357,-0.003105516079813,-0.000304714281810,0.004772488493472,-0.009498638100922,-0.017731310799718,0.042810790240765,0.053318288177252,-0.015450299717486));
res += mul(Get(s3,dx,-dy), float4x4(-0.005503003951162,0.064703986048698,-0.003928621765226,0.014331949874759,-0.009213113225996,-0.061181701719761,-0.089537397027016,0.112243115901947,-0.000812977785245,-0.007392614148557,-0.004128542728722,-0.008861333131790,-0.015765078365803,0.015814004465938,-0.038104392588139,-0.025486860424280));
res += mul(Get(s3,dx,0), float4x4(-0.033631600439548,-0.052614342421293,0.026487456634641,0.118319511413574,-0.024742962792516,0.082676745951176,-0.005126628093421,0.102932967245579,-0.002285075606778,-0.000235985455220,-0.006450369954109,-0.005901660304517,-0.016614284366369,-0.017688380554318,0.009458014741540,0.029953682795167));
res += mul(Get(s3,dx,dy), float4x4(-0.013598794117570,-0.082587391138077,0.019430665299296,-0.008975729346275,-0.033727951347828,0.057930320501328,-0.033166844397783,0.074152559041977,0.003834882285446,0.004144742153585,-0.004383662249893,0.004459074698389,-0.009523754939437,0.048247344791889,0.033526219427586,-0.018871067091823));
res = max(float4(0,0,0,0), res);
return res;
}
