sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001892713014968,-0.000538159394637,0.034633602946997,0.002434699563310,0.075629398226738,-0.054855715483427,0.009581624530256,-0.002500506350771,0.005889596417546,0.032658949494362,0.022108616307378,0.001071403268725,0.119149878621101,-0.007403333671391,-0.016243085265160,-0.005268292035908));
res += mul(Get(s0,-dx,0), float4x4(-0.068481877446175,-0.063702188432217,0.046070706099272,0.010396422818303,0.046461094170809,0.136550113558769,0.007868551649153,-0.003268960863352,-0.011069516651332,0.086921520531178,0.048782046884298,0.002277997089550,0.072603657841682,-0.079340495169163,-0.014338070526719,-0.005067520309240));
res += mul(Get(s0,-dx,dy), float4x4(0.012495238333941,0.005348337348551,0.057982999831438,-0.010775335133076,0.008222018368542,0.065538719296455,0.044252384454012,0.002969378605485,-0.022374149411917,0.054586000740528,0.009244956076145,0.000876964069903,-0.016562417149544,-0.023751050233841,-0.083159506320953,0.004878447391093));
res += mul(Get(s0,0,-dy), float4x4(-0.004143448546529,0.002034126548097,-0.048704028129578,0.012053968384862,-0.000453079963336,-0.039291240274906,0.047611724585295,-0.000313221971737,0.007631303276867,-0.014877947047353,0.002496226690710,0.008008909411728,0.260192275047302,-0.106252424418926,0.045531548559666,0.016380710527301));
res += mul(Get(s0,0,0), float4x4(-0.106559030711651,-0.099667206406593,0.070067897439003,0.015283371321857,0.093470647931099,-0.033135894685984,-0.024076612666249,-0.010012225247920,-0.006972815375775,0.060280863195658,0.026850182563066,0.012738239020109,0.013025157153606,0.067356601357460,-0.040864668786526,0.021342361345887));
res += mul(Get(s0,0,dy), float4x4(0.036842092871666,-0.058121509850025,0.002056005410850,-0.006718942895532,-0.013499375432730,0.096524082124233,0.006724995560944,-0.005255660507828,-0.009353611618280,-0.004653201438487,0.017622195184231,0.008407145738602,-0.146808341145515,-0.094440609216690,-0.057188581675291,0.036721490323544));
res += mul(Get(s0,dx,-dy), float4x4(-0.030933253467083,-0.022955458611250,-0.078632637858391,-0.000676851253957,-0.018823487684131,-0.012613934464753,0.016988271847367,-0.003968683071434,0.000942626502365,0.006277690641582,-0.011895024217665,-0.008420823141932,0.068032421171665,-0.028453048318624,0.028321476653218,-0.011115254834294));
res += mul(Get(s0,dx,0), float4x4(-0.101574510335922,0.009310268796980,0.003993040416390,0.003013492561877,0.050467122346163,-0.079744398593903,0.006088497117162,-0.015670228749514,-0.004018983803689,0.092626072466373,0.009333051741123,0.002895254874602,-0.052238054573536,0.060374289751053,-0.068828999996185,-0.013921493664384));
res += mul(Get(s0,dx,dy), float4x4(0.010666965506971,-0.056490670889616,0.066013537347317,-0.018542172387242,0.011613613925874,0.024550825357437,-0.045994732528925,-0.008710247464478,-0.010627360083163,0.071680605411530,-0.013587811961770,-0.002847839146852,-0.137012958526611,0.037431135773659,-0.026734162122011,-0.004291331395507));
res += mul(Get(s1,-dx,-dy), float4x4(0.078194983303547,-0.040543671697378,0.017241196706891,-0.042358096688986,0.048394486308098,0.004742099437863,0.040686566382647,-0.004328981973231,0.053250204771757,-0.001806290238164,-0.043833568692207,0.020622141659260,0.022563597187400,-0.021907890215516,0.063473671674728,-0.011664421297610));
res += mul(Get(s1,-dx,0), float4x4(0.000105498766061,-0.196514323353767,-0.021249093115330,-0.031619612127542,-0.044723324477673,-0.124692484736443,0.050087202340364,0.005185875575989,0.023986376821995,0.079510413110256,0.032541926950216,0.023932537063956,0.045848593115807,0.007333030924201,0.038559917360544,0.005910510662943));
res += mul(Get(s1,-dx,dy), float4x4(-0.114658392965794,-0.063235901296139,-0.046220611780882,-0.005506849847734,-0.037081461399794,0.007293030619621,-0.079503104090691,-0.006747337523848,0.007756649050862,0.038615599274635,0.002282518194988,0.009312406182289,-0.138579905033112,0.119517505168915,0.187401607632637,0.010941200889647));
res += mul(Get(s1,0,-dy), float4x4(0.223870992660522,-0.264592260122299,0.074024580419064,0.016173500567675,0.093278422951698,0.090717531740665,-0.004177675582469,0.001829636748880,-0.010149361565709,-0.023020293563604,-0.068160489201546,-0.005251446273178,0.032289549708366,0.107357449829578,-0.077060461044312,-0.005293852649629));
res += mul(Get(s1,0,0), float4x4(-0.070974566042423,0.503926038742065,0.098539754748344,0.032467190176249,-0.041282858699560,-0.075854174792767,0.116355694830418,0.006007095798850,-0.050341807305813,-0.113452270627022,0.075743697583675,-0.016562448814511,-0.011768734082580,0.074967756867409,0.018223093822598,-0.011345881968737));
res += mul(Get(s1,0,dy), float4x4(-0.065981604158878,-0.015062412247062,-0.094599701464176,0.025155991315842,-0.027044635266066,-0.043265793472528,-0.018959086388350,0.009657214395702,-0.038827825337648,-0.122025020420551,0.059770613908768,-0.013548439368606,-0.105447694659233,-0.095527715981007,0.100159361958504,0.007476088590920));
res += mul(Get(s1,dx,-dy), float4x4(0.028316322714090,0.015425940044224,-0.013283886946738,-0.035155016928911,0.029200425371528,0.081814117729664,-0.076812773942947,0.001852740766481,0.045665603131056,-0.011841412633657,-0.031900431960821,-0.015500113368034,0.041101712733507,0.061692461371422,-0.093171045184135,0.007102580741048));
res += mul(Get(s1,dx,0), float4x4(-0.088912501931190,-0.095843262970448,-0.020092019811273,-0.007057540118694,-0.064149841666222,0.014431879855692,0.013218727894127,-0.009084290824831,0.004602620843798,0.089540928602219,0.021097464486957,-0.014519449323416,-0.034616749733686,0.063649952411652,-0.102929063141346,0.005836877040565));
res += mul(Get(s1,dx,dy), float4x4(-0.069503620266914,0.125719204545021,0.082671500742435,-0.030891457572579,-0.065938785672188,-0.004173556808382,-0.030387828126550,-0.000850633776281,-0.049581751227379,0.041602462530136,-0.022910645231605,-0.023647749796510,-0.061687584966421,-0.041245270520449,-0.068880371749401,-0.004400681704283));
res += mul(Get(s2,-dx,-dy), float4x4(0.024367379024625,-0.040656644850969,-0.007103736978024,0.017268462106586,0.054396390914917,0.037337254732847,0.045311536639929,-0.030447244644165,0.026281286031008,0.095233529806137,-0.160052284598351,0.021457862108946,-0.047820683568716,-0.057782888412476,0.033044300973415,-0.003879796480760));
res += mul(Get(s2,-dx,0), float4x4(-0.039439544081688,-0.079372562468052,0.117614634335041,0.021012060344219,0.031486161053181,-0.153987288475037,0.046073667705059,-0.018898904323578,-0.041395980864763,0.061468608677387,-0.047629252076149,0.017935542389750,-0.099318593740463,-0.040300365537405,0.001955500803888,0.003657825058326));
res += mul(Get(s2,-dx,dy), float4x4(-0.013606043532491,-0.087326489388943,0.034089457243681,0.008851624093950,-0.011304428800941,-0.042331263422966,-0.048029839992523,-0.014345698058605,-0.014235466718674,-0.114158481359482,0.103139974176884,0.000299786712276,-0.073286518454552,0.006403767969459,-0.013765509240329,0.001952547463588));
res += mul(Get(s2,0,-dy), float4x4(0.008490243926644,0.107923835515976,-0.015563974156976,0.005081153940409,-0.007156919222325,0.066233433783054,-0.039470758289099,0.001913103740662,-0.003016299800947,0.171821445226669,-0.231025919318199,-0.035588644444942,-0.007417121436447,0.002657314529642,0.073895297944546,-0.005424319766462));
res += mul(Get(s2,0,0), float4x4(-0.029944034293294,0.144115045666695,0.054143726825714,-0.000811923528090,-0.038150120526552,-0.088036492466927,0.089338891208172,0.030488302931190,0.087539017200470,-0.080373078584671,-0.081854052841663,-0.043404679745436,-0.030401855707169,0.020467815920711,-0.024710083380342,0.003455240977928));
res += mul(Get(s2,0,dy), float4x4(0.008989843539894,-0.090026393532753,0.086546465754509,0.010822211392224,-0.029255211353302,-0.034080617129803,0.018183743581176,0.031428690999746,0.003890970954672,0.179974794387817,0.284470975399017,-0.011717270128429,-0.023503804579377,-0.012524777092040,-0.017390845343471,0.011745554395020));
res += mul(Get(s2,dx,-dy), float4x4(0.008693189360201,0.020630290731788,-0.025015225633979,-0.000003774996003,-0.098468787968159,0.027725905179977,-0.064786806702614,-0.030896324664354,0.059466622769833,-0.081521242856979,-0.072457157075405,-0.057433787733316,0.025006545707583,-0.019499797374010,0.044941894710064,0.003328918479383));
res += mul(Get(s2,dx,0), float4x4(-0.041678585112095,0.099889211356640,0.007957064546645,-0.006480315234512,-0.049123521894217,0.017838824540377,-0.005621785763651,-0.018073759973049,0.005733620375395,0.122463554143906,0.019138662144542,-0.035818886011839,0.050055474042892,-0.093172430992126,-0.057256169617176,0.019485173746943));
res += mul(Get(s2,dx,dy), float4x4(-0.009071892127395,-0.016463030129671,-0.023531693965197,0.007726133335382,-0.055178847163916,-0.051576755940914,0.048956036567688,-0.016280131414533,-0.063064031302929,-0.041390925645828,-0.011199449189007,0.000437866663560,-0.006880696862936,0.002858692780137,-0.011169263161719,0.011654477566481));
res += mul(Get(s3,-dx,-dy), float4x4(-0.049669433385134,0.026086024940014,-0.045763302594423,-0.006023019086570,0.014503694139421,0.035975329577923,-0.091488443315029,0.007977744564414,0.169256731867790,0.065070427954197,0.013754761777818,-0.013801369816065,0.040019936859608,0.139068409800529,-0.131869480013847,-0.023365722969174));
res += mul(Get(s3,-dx,0), float4x4(-0.046906348317862,-0.101775713264942,0.040473822504282,-0.009483565576375,-0.021034626290202,0.056582678109407,-0.010063403286040,0.014602176845074,0.050824578851461,-0.121863722801208,0.011062614619732,0.003908111713827,0.016319487243891,0.130895838141441,-0.020857205614448,-0.016985945403576));
res += mul(Get(s3,-dx,dy), float4x4(-0.060174211859703,-0.046739343553782,0.039294626563787,-0.016374554485083,-0.055321559309959,0.031365890055895,0.081313654780388,0.017633821815252,-0.020093936473131,-0.043987296521664,0.003705975366756,0.030404375866055,-0.032350100576878,-0.038052089512348,0.137458980083466,-0.019171943888068));
res += mul(Get(s3,0,-dy), float4x4(-0.015639603137970,0.105931930243969,0.001049963408150,-0.014305940829217,0.050252903252840,-0.134886041283607,0.011185169219971,-0.001121190725826,0.089499153196812,0.002831707242876,-0.033960022032261,0.045319013297558,0.016386130824685,0.005237324628979,-0.129119485616684,0.009743827395141));
res += mul(Get(s3,0,0), float4x4(-0.082652755081654,-0.032880589365959,0.029303712770343,-0.004433511290699,-0.038400452584028,-0.088755875825882,0.077900610864162,0.000216641230509,-0.030439300462604,0.059884000569582,-0.059160813689232,0.055182468146086,-0.009167057462037,0.063499405980110,-0.025768738240004,0.013013916090131));
res += mul(Get(s3,0,dy), float4x4(-0.029575454071164,0.050944566726685,0.031691774725914,-0.000292920827633,0.002869443036616,-0.017390143126249,0.017865931615233,-0.021230174228549,-0.040208704769611,-0.013878545723855,0.032432708889246,0.034108430147171,-0.037869371473789,0.028061630204320,0.099585361778736,0.010495305992663));
res += mul(Get(s3,dx,-dy), float4x4(-0.050017252564430,0.125710338354111,-0.038982175290585,-0.005202860571444,-0.052690505981445,-0.048781871795654,-0.023188315331936,0.008366781286895,-0.038874410092831,0.023104026913643,-0.040022537112236,0.011844893917441,-0.001830375404097,-0.085611052811146,-0.090874247252941,-0.010804379358888));
res += mul(Get(s3,dx,0), float4x4(-0.063312925398350,-0.109178185462952,0.028803346678615,0.019672071561217,-0.029781281948090,-0.000405655911891,-0.000563036708627,0.014306858181953,-0.073046505451202,0.064006909728050,-0.028018120676279,0.002152124186978,-0.018618023023009,-0.055373284965754,0.074806205928326,-0.013743555173278));
res += mul(Get(s3,dx,dy), float4x4(0.032591566443443,-0.038945291191339,0.078573003411293,0.017550440505147,0.082303829491138,0.023284595459700,-0.071137279272079,0.018590167164803,-0.044743780046701,-0.047492220997810,0.100371107459068,-0.005715281702578,-0.014980578795075,0.109396286308765,0.045921724289656,-0.015310843475163));
res = max(float4(0,0,0,0), res);
return res;
}
