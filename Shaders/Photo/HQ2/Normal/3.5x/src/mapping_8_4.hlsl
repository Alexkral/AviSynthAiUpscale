sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.001642209361307,-0.044750969856977,0.033959716558456,-0.020974982529879,0.044236995279789,-0.017736582085490,0.037065979093313,0.018762046471238,-0.000861301319674,-0.018535736948252,0.010083946399391,-0.018872266635299,-0.026029173284769,-0.065483957529068,0.053667612373829,-0.012244999408722));
res += mul(Get(s0,-dx,0), float4x4(-0.004207390826195,-0.017464751377702,0.001790293259546,-0.023488350212574,0.060865454375744,-0.021805485710502,0.055401772260666,0.009135204367340,0.021656036376953,0.052947085350752,0.036050695925951,0.040053617209196,-0.050598043948412,-0.022067809477448,0.002977256197482,-0.036545127630234));
res += mul(Get(s0,-dx,dy), float4x4(0.014261348173022,0.024352036416531,-0.021184181794524,-0.006734533701092,0.044363509863615,0.005579451099038,0.016697943210602,0.011464571580291,0.022524192929268,0.023092243820429,0.037106659263372,-0.008965989574790,-0.034647315740585,0.024832012131810,-0.003486549481750,0.036602452397346));
res += mul(Get(s0,0,-dy), float4x4(-0.004970064852387,-0.044232998043299,0.040368098765612,-0.038152854889631,0.023447763174772,0.005024746991694,-0.007635280955583,0.030478680506349,0.022782655432820,0.040730219334364,-0.023193471133709,-0.010367196984589,0.019661793485284,-0.055018980056047,0.086673766374588,-0.001436384976842));
res += mul(Get(s0,0,0), float4x4(0.013817944563925,-0.008311533369124,0.033867485821247,-0.021499000489712,0.027268866077065,0.015838678926229,-0.019190547987819,0.036688651889563,0.045264828950167,0.134277194738388,-0.033317480236292,0.078939266502857,-0.013976583257318,-0.039804320782423,0.060734245926142,-0.039516728371382));
res += mul(Get(s0,0,dy), float4x4(0.024314815178514,0.040301281958818,-0.012709690257907,0.005596044007689,0.023262780159712,0.027253452688456,-0.017553098499775,0.015694640576839,0.021524108946323,0.033343415707350,0.023637607693672,0.034651868045330,-0.043408416211605,0.081226147711277,0.001918734051287,0.033536277711391));
res += mul(Get(s0,dx,-dy), float4x4(0.027013469487429,-0.030414834618568,0.055914558470249,0.014482289552689,0.018367910757661,-0.006059549748898,-0.016019860282540,0.000911057519261,0.032574262470007,0.030977213755250,-0.043758854269981,-0.000264215865172,0.005327547900379,0.001484817243181,0.031438238918781,0.030866064131260));
res += mul(Get(s0,dx,0), float4x4(0.077915556728840,-0.002014650264755,0.035729497671127,0.039590336382389,0.007908727042377,-0.022115670144558,0.003279838711023,-0.014616746455431,-0.018058450892568,0.071052476763725,-0.038904000073671,0.019233006983995,0.057063028216362,-0.015921950340271,0.037153672426939,0.064035736024380));
res += mul(Get(s0,dx,dy), float4x4(0.028753561899066,0.011488752439618,-0.000144380741403,0.024326177313924,0.007040551863611,-0.009492946788669,-0.009130557067692,-0.013302285224199,-0.029616735875607,0.024420788511634,0.004809122066945,0.008902882225811,0.039728529751301,0.052211709320545,0.029268866404891,0.053248543292284));
res += mul(Get(s1,-dx,-dy), float4x4(0.047997988760471,0.037357904016972,-0.009331126697361,0.007800625637174,-0.017966875806451,-0.031476825475693,0.024509640410542,-0.014153259806335,-0.036453738808632,-0.028450177982450,-0.005475965328515,-0.059878021478653,-0.023859219625592,0.013786160387099,-0.002534237690270,0.031832605600357));
res += mul(Get(s1,-dx,0), float4x4(0.097090490162373,0.067380219697952,-0.005013310350478,0.083424471318722,-0.022419443354011,-0.018931869417429,0.005561701953411,-0.027557548135519,-0.033651825040579,0.013594429939985,-0.032600153237581,0.016423942521214,-0.033825434744358,-0.049317881464958,0.022422442212701,0.028595672920346));
res += mul(Get(s1,-dx,dy), float4x4(0.101566784083843,0.047488499432802,0.010680289007723,0.064988411962986,-0.026759454980493,0.003077357076108,-0.030928891152143,-0.022637501358986,-0.033458705991507,-0.017964011058211,0.001972722122446,-0.039989709854126,-0.020574074238539,-0.056069776415825,0.034091670066118,-0.000272813456831));
res += mul(Get(s1,0,-dy), float4x4(0.011972530744970,0.017934957519174,-0.044880282133818,-0.014813364483416,-0.021458404138684,-0.019642844796181,0.044821221381426,0.013931202702224,-0.012077325955033,0.008452535606921,0.017149098217487,-0.038798261433840,-0.032520335167646,0.000291643576929,-0.013084775768220,-0.015784993767738));
res += mul(Get(s1,0,0), float4x4(0.029244277626276,0.044576056301594,-0.034750014543533,0.000233182145166,-0.019050169736147,-0.005349444691092,0.038633178919554,-0.000696730741765,-0.009265462867916,0.090181715786457,-0.040045455098152,0.004759982228279,-0.043771665543318,-0.051381491124630,0.036828804761171,-0.042120344936848));
res += mul(Get(s1,0,dy), float4x4(0.047859586775303,0.005979408044368,0.002370075788349,0.031118955463171,-0.025395853444934,0.007884511724114,-0.011668210849166,-0.009633212350309,-0.061536837369204,0.028784230351448,-0.034645084291697,-0.008112763054669,0.020373066887259,-0.018139759078622,0.033127538859844,0.019309461116791));
res += mul(Get(s1,dx,-dy), float4x4(0.042061176151037,-0.007001736667007,-0.029052790254354,-0.032216466963291,-0.024615174159408,0.015322746708989,0.007009394932538,0.002383124316111,0.067749232053757,-0.028433229774237,0.074969783425331,0.057162128388882,0.041946776211262,0.004918655846268,0.020124783739448,0.031368523836136));
res += mul(Get(s1,dx,0), float4x4(0.009329712949693,-0.017761196941137,-0.030919523909688,-0.029000936076045,-0.031886894255877,0.018630774691701,0.003018506802619,-0.015930002555251,0.026430731639266,-0.033041328191757,0.073858752846718,0.042794596403837,0.058884225785732,-0.017048744484782,0.058354850858450,0.037278529256582));
res += mul(Get(s1,dx,dy), float4x4(0.025718187913299,-0.015642950311303,-0.021524121984839,-0.008150730282068,-0.024316040799022,0.009849586524069,-0.008494204841554,-0.019953237846494,-0.037356037646532,-0.029389176517725,0.034510180354118,-0.013491483405232,0.063914142549038,-0.014471601694822,0.048739314079285,0.038318943232298));
res += mul(Get(s2,-dx,-dy), float4x4(0.016654832288623,-0.003713262034580,0.028050694614649,0.028925653547049,0.022253619506955,0.025916945189238,-0.019041964784265,-0.017778662964702,0.050073452293873,0.085584715008736,-0.063021190464497,0.012884631752968,-0.022055871784687,-0.089186139404774,0.031824860721827,0.004504213109612));
res += mul(Get(s2,-dx,0), float4x4(0.001458851154894,-0.000267428782536,0.015982581302524,0.034671831876040,0.018956756219268,-0.000309928873321,0.009595384821296,-0.028243049979210,0.100655801594257,0.017804674804211,-0.025783102959394,0.076616518199444,-0.036607030779123,0.019776118919253,-0.015053044073284,-0.043258704245090));
res += mul(Get(s2,-dx,dy), float4x4(-0.017497401684523,-0.010348895564675,0.012622977606952,0.015490194782615,0.031739819794893,-0.012859024107456,0.001959916669875,0.027817863970995,0.046637259423733,-0.009603206068277,-0.034443855285645,-0.051473222672939,-0.066682539880276,0.036168105900288,-0.013352171517909,-0.014600872062147));
res += mul(Get(s2,0,-dy), float4x4(-0.018294814974070,-0.000463995238533,-0.018423618748784,0.011276546865702,0.041835956275463,0.041536211967468,-0.011183983646333,0.019032092764974,-0.031117029488087,0.114488773047924,-0.059349127113819,0.020721511915326,-0.023478748276830,-0.057617526501417,0.081632487475872,0.009274942800403));
res += mul(Get(s2,0,0), float4x4(-0.030203413218260,-0.014400132931769,-0.016587974503636,-0.009302789345384,0.060565754771233,0.007987583056092,0.044229451566935,0.040643736720085,-0.019445361569524,0.052000764757395,-0.055576313287020,0.075957052409649,-0.011020441539586,-0.003902647877112,0.072323933243752,-0.042579993605614));
res += mul(Get(s2,0,dy), float4x4(-0.013308535329998,-0.001877536880784,0.000101748373709,-0.008941957727075,0.035240937024355,-0.031420711427927,0.020355818793178,0.028999341651797,-0.036426540464163,-0.057542402297258,0.025952743366361,-0.028917184099555,-0.021644223481417,0.041953999549150,0.060910586267710,-0.011565384455025));
res += mul(Get(s2,dx,-dy), float4x4(0.016215296462178,-0.017799604684114,0.026308981701732,0.007560006342828,0.022226156666875,0.036035474389791,-0.017668388783932,0.048869337886572,-0.029510159045458,0.046059180051088,-0.064800173044205,-0.031514801084995,0.005281750578433,-0.029838185757399,0.048370297998190,-0.014875532127917));
res += mul(Get(s2,dx,0), float4x4(0.028475271537900,-0.015593294054270,0.047546472400427,0.006698968354613,0.031680352985859,-0.029233099892735,0.020949728786945,0.066261038184166,-0.048287149518728,-0.008471366949379,-0.038368377834558,-0.053866587579250,0.025377310812473,0.020416563376784,0.008713426999748,-0.000496245513204));
res += mul(Get(s2,dx,dy), float4x4(0.050316102802753,0.020501529797912,0.033987645059824,0.034963052719831,0.020491126924753,-0.076532259583473,0.041934881359339,0.014573413878679,-0.026466868817806,-0.017737165093422,0.005230267997831,-0.024816159158945,0.027940681204200,0.048638526350260,-0.012007762677968,-0.008979021571577));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002386878943071,0.000936337106396,-0.003251561429352,0.025593213737011,-0.061720877885818,0.003524236381054,0.022994823753834,-0.000595966819674,-0.000798325287178,0.027370698750019,-0.009629473090172,-0.012270744889975,-0.048409007489681,0.013782256282866,-0.039316736161709,-0.057032905519009));
res += mul(Get(s3,-dx,0), float4x4(0.008839253336191,-0.020464196801186,0.040921576321125,0.026605123654008,-0.054498780518770,-0.016850035637617,0.072286166250706,-0.010908121243119,-0.002955680480227,0.025466574355960,0.001154751284048,-0.002399086719379,-0.055891361087561,0.018581375479698,-0.057779625058174,-0.056487448513508));
res += mul(Get(s3,-dx,dy), float4x4(-0.028194738551974,-0.003680370748043,-0.007866835221648,-0.016033982858062,-0.006736622657627,0.012060766108334,0.053359363228083,0.009276498109102,-0.010045439936221,0.008673406206071,0.005422003567219,-0.005368652753532,-0.057881724089384,-0.034711536020041,-0.027682576328516,-0.071643933653831));
res += mul(Get(s3,0,-dy), float4x4(-0.034568894654512,0.065800428390503,-0.034863598644733,0.053470533341169,-0.001383491791785,0.048329751938581,-0.030369935557246,-0.011704183183610,-0.015498426742852,0.033438257873058,-0.016090039163828,-0.016684725880623,0.016383232548833,0.046354461461306,-0.028828915208578,-0.022811790928245));
res += mul(Get(s3,0,0), float4x4(-0.026483511552215,0.000333974778187,-0.001226508291438,0.081796251237392,0.007770488038659,0.039336111396551,-0.008197773247957,0.009645183570683,-0.022831261157990,0.056556694209576,-0.026802184060216,0.014075938612223,-0.001871005864814,0.056708995252848,-0.027671094983816,-0.008122203871608));
res += mul(Get(s3,0,dy), float4x4(-0.026510791853070,-0.042522665113211,0.063054159283638,-0.021361613646150,0.000218080123886,0.060668818652630,-0.019800717011094,-0.001933365711011,-0.018769189715385,0.006606304086745,0.021671982482076,0.003701267531142,0.012945008464158,-0.018260437995195,0.016093691810966,-0.017946345731616));
res += mul(Get(s3,dx,-dy), float4x4(-0.024244949221611,-0.009580844081938,-0.015517659485340,0.035575639456511,-0.035789642482996,-0.016670690849423,-0.068060748279095,-0.049641780555248,0.000171055624378,-0.002953429706395,0.006911014672369,-0.026990367099643,0.025782557204366,0.030180158093572,-0.010906090959907,0.018393740057945));
res += mul(Get(s3,dx,0), float4x4(-0.039263118058443,-0.020608507096767,-0.000588240800425,0.007310871966183,-0.030290462076664,-0.032712392508984,-0.040979228913784,-0.047130964696407,-0.019811710342765,0.065074518322945,-0.046456325799227,-0.021644541993737,-0.004602761007845,0.031035831198096,0.019235102459788,0.051803763955832));
res += mul(Get(s3,dx,dy), float4x4(-0.002846626332030,0.014715864323080,-0.002708683721721,0.029192391782999,-0.045966178178787,-0.003046057885513,-0.041268795728683,-0.048748925328255,-0.006679942365736,0.042731136083603,-0.004747532308102,-0.002076568314806,0.026502534747124,-0.017059737816453,0.052204921841621,0.019100351259112));
res = max(float4(0,0,0,0), res);
return res;
}
