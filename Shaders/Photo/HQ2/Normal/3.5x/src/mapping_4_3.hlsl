sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.057057809084654,-0.048436813056469,-0.051037736237049,0.067718125879765,0.062169063836336,0.004527109209448,0.070433482527733,-0.015508886426687,-0.007565634790808,-0.004529474303126,-0.036312662065029,-0.008869838900864,0.052078086882830,-0.007175954058766,0.012994876131415,-0.027477094903588));
res += mul(Get(s0,-dx,0), float4x4(0.037996601313353,-0.061448521912098,0.038677603006363,-0.057636402547359,0.055589035153389,-0.031744755804539,0.021063206717372,0.017201911658049,-0.003057384863496,-0.009586142376065,-0.019112495705485,-0.008540127426386,-0.018339909613132,0.050042293965816,0.025500608608127,-0.016098683699965));
res += mul(Get(s0,-dx,dy), float4x4(0.093561261892319,0.012471960857511,0.145693555474281,-0.039800737053156,0.053979903459549,-0.035374280065298,0.015338246710598,-0.008406455628574,0.003992706071585,-0.023447442799807,0.009986842051148,-0.022756440564990,-0.018554158508778,0.027376612648368,0.133697196841240,0.069102704524994));
res += mul(Get(s0,0,-dy), float4x4(-0.084002777934074,-0.120678350329399,-0.104833312332630,0.170452535152435,0.055488329380751,-0.036771837621927,0.068918593227863,-0.036238681524992,-0.003809058805928,-0.000178201109520,-0.016685854643583,-0.000163855744177,0.069178648293018,0.007158264052123,0.009919629432261,-0.020404275506735));
res += mul(Get(s0,0,0), float4x4(0.010954330675304,-0.089079633355141,-0.045569982379675,0.012607552111149,0.080371618270874,0.012875906191766,0.041700679808855,-0.001241187332198,-0.002919582650065,-0.006351926364005,-0.022745694965124,-0.008047480136156,-0.024019982665777,-0.080409660935402,-0.157560661435127,-0.009034612216055));
res += mul(Get(s0,0,dy), float4x4(0.126836299896240,0.002355228178203,0.193643018603325,-0.037815120071173,0.078454546630383,-0.031581927090883,-0.003989443648607,0.050450913608074,0.004544115159661,-0.029391808435321,0.009869861416519,-0.024095056578517,-0.078734897077084,-0.009311870671809,-0.052090462297201,0.105974167585373));
res += mul(Get(s0,dx,-dy), float4x4(-0.083516359329224,-0.113131642341614,-0.092489928007126,0.101306721568108,0.045126151293516,-0.010980783961713,0.060469146817923,-0.023349843919277,-0.010776759125292,0.012135026976466,-0.020675063133240,-0.000236895313719,-0.059368353337049,0.080647327005863,-0.014167626388371,-0.005826669745147));
res += mul(Get(s0,dx,0), float4x4(-0.003152746474370,-0.112292163074017,-0.067380018532276,0.075323395431042,0.023229412734509,-0.036036517471075,0.055684939026833,-0.015539521351457,-0.007833460345864,0.001788441790268,-0.012440787628293,-0.001559432246722,-0.052767068147659,-0.065953232347965,-0.135217875242233,-0.036590583622456));
res += mul(Get(s0,dx,dy), float4x4(0.062026068568230,-0.045939587056637,0.160123661160469,0.017835134640336,0.044206488877535,-0.014195195399225,0.003252595895901,0.028025008738041,0.004918949678540,-0.047338128089905,0.011015196330845,-0.022812681272626,-0.041764244437218,-0.016185903921723,-0.059429548680782,0.005513975396752));
res += mul(Get(s1,-dx,-dy), float4x4(-0.026869578287005,0.000879592844285,0.090552955865860,-0.068917095661163,-0.016753004863858,0.076610200107098,-0.032868329435587,0.018589876592159,0.003106080228463,0.055601034313440,0.011284839361906,-0.019899694249034,-0.088672526180744,-0.044326193630695,-0.068189695477486,-0.057114865630865));
res += mul(Get(s1,-dx,0), float4x4(0.026777701452374,-0.075508177280426,0.131496638059616,-0.111350513994694,-0.038364693522453,0.035596795380116,-0.096649654209614,-0.048861261457205,0.000067678396590,-0.022181315347552,-0.033951420336962,-0.014156781136990,-0.104672521352768,0.076924279332161,-0.038783643394709,-0.027760311961174));
res += mul(Get(s1,-dx,dy), float4x4(0.045164577662945,-0.017530422657728,0.132594257593155,-0.033818893134594,-0.000571952201426,0.083855822682381,0.056145373731852,0.085935346782207,0.020923988893628,-0.027050038799644,-0.015343256294727,0.001822941936553,-0.070087194442749,-0.006566559430212,0.041254386305809,-0.086495533585548));
res += mul(Get(s1,0,-dy), float4x4(-0.031034376472235,0.273767858743668,-0.048143252730370,0.138554453849792,0.031761460006237,0.046346236020327,0.016155902296305,0.097984366118908,-0.030487094074488,0.047422401607037,-0.016856627538800,-0.000886249472387,-0.047149382531643,0.014065057970583,-0.074965879321098,-0.061775393784046));
res += mul(Get(s1,0,0), float4x4(-0.039542574435472,-0.174929976463318,-0.157131686806679,0.000496660941280,0.026990825310349,0.004700387362391,-0.124486446380615,0.027295839041471,-0.037161976099014,0.025891302153468,-0.062142319977283,-0.001570289954543,-0.098097346723080,0.050691209733486,-0.049158290028572,0.010016332380474));
res += mul(Get(s1,0,dy), float4x4(-0.008512784726918,-0.051475804299116,0.104519024491310,0.016458110883832,-0.009939616546035,0.006861022673547,-0.015206321142614,0.085947044193745,-0.016165941953659,0.063980758190155,-0.046254191547632,0.000315323268296,-0.011050530709326,0.025425629690289,-0.000961788813584,-0.022175459191203));
res += mul(Get(s1,dx,-dy), float4x4(-0.111547768115997,0.174827292561531,0.016398457810283,0.048402022570372,-0.030126346275210,-0.042546179145575,0.049687698483467,0.008798784576356,-0.020094983279705,0.058612883090973,-0.005974163766950,-0.000145964295371,-0.043362945318222,0.011820795945823,-0.005936165805906,-0.053943496197462));
res += mul(Get(s1,dx,0), float4x4(-0.023762417957187,0.139619261026382,-0.074179157614708,-0.042665742337704,0.035683978348970,-0.043295089155436,-0.044002369046211,0.041292097419500,-0.017273180186749,0.027014324441552,0.022796791046858,-0.024201268330216,-0.036617808043957,-0.000383620557841,-0.010172143578529,0.016517395153642));
res += mul(Get(s1,dx,dy), float4x4(-0.112547643482685,-0.033411648124456,-0.023809924721718,-0.045450732111931,0.013134737499058,-0.085255086421967,0.007691989187151,0.101723998785019,0.011913103051484,0.008459595963359,0.024374712258577,0.003449032315984,0.019974613562226,0.003017657436430,0.028003362938762,0.012051925063133));
res += mul(Get(s2,-dx,-dy), float4x4(-0.002276819432154,-0.050213780254126,-0.015244906768203,0.037877187132835,0.060578782111406,0.050625719130039,0.088010437786579,0.012256362475455,-0.009758684784174,-0.009877160191536,-0.009002738632262,0.019593756645918,-0.023920215666294,-0.011734807863832,-0.040830329060555,-0.022014487534761));
res += mul(Get(s2,-dx,0), float4x4(-0.017916597425938,0.011119081638753,-0.005276905838400,0.025309985503554,0.091096661984921,0.008574716746807,0.151705414056778,-0.020526681095362,-0.036431971937418,0.009648808278143,0.087918877601624,0.049833796918392,-0.015352765098214,-0.009393422864377,-0.082388453185558,-0.023226412013173));
res += mul(Get(s2,-dx,dy), float4x4(0.023214893415570,-0.023241447284818,0.005046379752457,-0.004405613988638,0.114412233233452,0.005590799264610,0.159951359033585,-0.013647987507284,-0.032313320785761,0.055540360510349,0.026177832856774,-0.078700624406338,-0.032427079975605,0.034483551979065,-0.043441452085972,-0.027704140171409));
res += mul(Get(s2,0,-dy), float4x4(-0.001740207080729,-0.044472750276327,-0.017283404245973,-0.003025516401976,-0.018862226977944,0.002458657370880,-0.087933488190174,0.123952455818653,-0.033678781241179,-0.185036465525627,-0.075524233281612,-0.117136456072330,0.061810370534658,-0.026611361652613,0.024739444255829,-0.035429514944553));
res += mul(Get(s2,0,0), float4x4(-0.034532770514488,-0.019768087193370,-0.008793468587101,0.035340350121260,-0.006838695146143,-0.003412878140807,-0.072145566344261,0.076283089816570,-0.047695722430944,0.168277472257614,0.115855276584625,0.065742745995522,0.087960839271545,-0.025735095143318,-0.052916195243597,-0.038259197026491));
res += mul(Get(s2,0,dy), float4x4(0.005209342110902,-0.020418925210834,0.029875766485929,0.000256818835624,0.055006437003613,-0.041760705411434,0.007607641164213,0.015939163044095,-0.034000344574451,0.026398450136185,-0.077968403697014,0.006939866580069,-0.001347854500636,0.003011183347553,-0.018651351332664,0.028010215610266));
res += mul(Get(s2,dx,-dy), float4x4(0.012848225422204,-0.046492613852024,-0.025564903393388,-0.005056991707534,-0.042632933706045,-0.066962413489819,-0.035679779946804,-0.038218874484301,0.020170802250504,-0.062803171575069,-0.115884557366371,-0.227335855364799,0.046676393598318,-0.051701340824366,0.078914225101471,-0.005240040365607));
res += mul(Get(s2,dx,0), float4x4(-0.028638180345297,-0.020308453589678,-0.011052717454731,0.017952218651772,-0.043202150613070,-0.010548654012382,-0.057797443121672,0.014274805784225,-0.075667761266232,-0.034240320324898,0.063896588981152,-0.023459902033210,0.080391302704811,-0.002111795125529,0.011163924820721,-0.014944900758564));
res += mul(Get(s2,dx,dy), float4x4(0.007754954975098,-0.000332246156177,0.007883819751441,-0.007275473792106,-0.050766855478287,-0.030508674681187,-0.050550442188978,-0.010431853123009,0.009164494462311,0.037387304008007,-0.001389920711517,0.050199687480927,-0.045795347541571,-0.013787151314318,0.007899770513177,0.042729761451483));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051225755363703,0.074004016816616,-0.095731735229492,-0.079366028308868,0.009142178110778,0.021437689661980,-0.036114733666182,0.060948453843594,0.056944895535707,0.022328540682793,0.123396828770638,0.029788756743073,-0.008480167947710,0.034586332738400,0.047535128891468,-0.032699752599001));
res += mul(Get(s3,-dx,0), float4x4(-0.060120791196823,-0.026809323579073,-0.079404301941395,-0.058390263468027,-0.025846390053630,-0.030481642112136,-0.059028796851635,0.006468730513006,0.051685225218534,0.011675616726279,0.042283151298761,-0.014712210744619,0.006127244792879,-0.010879396460950,0.073763281106949,-0.029607485979795));
res += mul(Get(s3,-dx,dy), float4x4(-0.054201457649469,-0.045880660414696,-0.060004446655512,-0.025163551792502,-0.015664696693420,-0.036425817757845,-0.038610063493252,-0.010479465126991,-0.012349617667496,0.012132611125708,0.012967765331268,-0.062795758247375,0.007612123154104,0.040335040539503,-0.002452512504533,-0.040049437433481));
res += mul(Get(s3,0,-dy), float4x4(0.019992500543594,0.052970100194216,-0.126685425639153,0.026716956868768,0.053492307662964,0.036959450691938,-0.020642427727580,0.093244701623917,0.060089211910963,0.009605871513486,-0.026617571711540,0.044189590960741,-0.013342482969165,0.017060205340385,0.005559780634940,-0.018517933785915));
res += mul(Get(s3,0,0), float4x4(0.012568314559758,-0.045876197516918,-0.173901751637459,0.057925220578909,0.020747233182192,-0.081461980938911,-0.086056552827358,0.061480328440666,-0.000207324483199,-0.030343607068062,-0.092915222048759,0.040182545781136,0.010955067351460,-0.012144402600825,0.006611051503569,-0.013082406483591));
res += mul(Get(s3,0,dy), float4x4(-0.014127286151052,-0.071495845913887,-0.147121816873550,0.086704760789871,0.082132525742054,0.015839509665966,0.008491056971252,0.023677982389927,-0.036466892808676,0.007196825928986,-0.075147338211536,0.036806158721447,-0.012333445250988,0.023236164823174,-0.013623369857669,-0.028962764889002));
res += mul(Get(s3,dx,-dy), float4x4(0.053714018315077,0.025585668161511,0.046118821948767,0.004786623641849,0.034268047660589,-0.025108924135566,-0.046217124909163,0.022802172228694,0.011176173575222,-0.010550551116467,-0.039193842560053,-0.040118668228388,-0.040394272655249,0.107457190752029,0.029762694612145,-0.014163287356496));
res += mul(Get(s3,dx,0), float4x4(0.113547943532467,0.000790504040197,0.046946063637733,-0.002583121880889,0.093687504529953,-0.055248796939850,-0.061151273548603,-0.039042826741934,0.001223164959811,-0.049130726605654,-0.060640066862106,-0.029541390016675,-0.030333423987031,-0.008405225351453,0.009593124501407,0.005537227261811));
res += mul(Get(s3,dx,dy), float4x4(0.036369733512402,0.020917527377605,0.011587886139750,0.007139048073441,0.122953079640865,0.004833586979657,0.063122838735580,-0.053619220852852,-0.021032966673374,0.014199046418071,-0.073707811534405,-0.000100915320218,-0.023483198136091,0.013596627861261,0.007457477506250,-0.030584072694182));
res = max(float4(0,0,0,0), res);
return res;
}
