sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.041936919093132,0.016933072358370,-0.022112280130386,-0.021291572600603,-0.044956076890230,0.014181322418153,0.102867849171162,0.053270652890205,0.054698184132576,-0.070575453341007,0.078008487820625,0.002818096894771,-0.045077551156282,0.003190523246303,-0.053526170551777,-0.036332484334707));
res += mul(Get(s0,-dx,0), float4x4(0.055423963814974,0.071303628385067,-0.006999651901424,-0.010081683285534,-0.034583788365126,-0.015273371711373,0.041088197380304,0.053708273917437,0.038160882890224,-0.025499625131488,-0.015265797264874,-0.030921066179872,-0.042191341519356,-0.024578757584095,0.087106294929981,0.007126778364182));
res += mul(Get(s0,-dx,dy), float4x4(-0.076912686228752,0.043580695986748,0.016343595460057,-0.035881988704205,-0.037401661276817,-0.025878192856908,0.087356209754944,0.032279334962368,-0.030715815722942,0.005742153618485,0.021508667618036,0.010304400697351,0.001228919485584,-0.008152476511896,-0.012073353864253,0.080533221364021));
res += mul(Get(s0,0,-dy), float4x4(-0.036934785544872,-0.061342522501945,0.027161594480276,0.019828481599689,-0.058151252567768,0.012760271318257,0.037686690688133,0.048193357884884,0.010304419323802,-0.057381309568882,0.092180386185646,-0.062413424253464,-0.006107524037361,0.035749211907387,-0.016466336324811,-0.069604262709618));
res += mul(Get(s0,0,0), float4x4(0.131244346499443,-0.099242538213730,0.242561340332031,-0.060534283518791,-0.017936769872904,0.132941648364067,-0.022122511640191,-0.017321644350886,0.084125041961670,-0.049492500722408,-0.043515566736460,-0.025007735937834,-0.019004572182894,0.033922750502825,-0.187725067138672,0.025538701564074));
res += mul(Get(s0,0,dy), float4x4(0.039623949676752,-0.054761931300163,-0.175118684768677,-0.012965291738510,-0.021469548344612,0.116452075541019,0.030951583757997,-0.046307258307934,0.081595420837402,-0.042717732489109,0.054714620113373,0.045988123863935,-0.003747218754143,0.018926596269011,0.045623980462551,0.040725044906139));
res += mul(Get(s0,dx,-dy), float4x4(-0.070768430829048,-0.035749178379774,0.056709691882133,-0.024195985868573,-0.061065550893545,-0.065634362399578,0.052968561649323,-0.037559401243925,-0.084324158728123,-0.047706063836813,0.101006910204887,0.017319329082966,0.016280537471175,-0.069661028683186,-0.029439663514495,-0.088636539876461));
res += mul(Get(s0,dx,0), float4x4(-0.048543334007263,-0.086829282343388,-0.109298467636108,-0.033054236322641,0.000404985912610,0.024580370634794,0.103339485824108,-0.074399806559086,-0.088827587664127,-0.052529141306877,0.044922746717930,0.125892072916031,0.023990493267775,-0.039278112351894,0.054303564131260,-0.003737849649042));
res += mul(Get(s0,dx,dy), float4x4(-0.039122276008129,-0.058360375463963,0.021842179819942,-0.016254719346762,0.013862469233572,0.064532011747360,0.065846733748913,-0.067391127347946,-0.064472675323486,-0.004695634357631,0.054745003581047,0.102183789014816,0.032748188823462,-0.043453007936478,0.108033485710621,0.000806456315331));
res += mul(Get(s1,-dx,-dy), float4x4(-0.047413323074579,0.011222949251533,-0.021872695535421,-0.003586057340726,-0.041070409119129,0.005516578443348,0.026344776153564,0.138265281915665,-0.013618942350149,0.029591901227832,0.052195955067873,0.013615796342492,-0.015960790216923,0.003804402193055,-0.067191056907177,-0.001835783245042));
res += mul(Get(s1,-dx,0), float4x4(-0.020270483568311,-0.052985936403275,0.190954476594925,-0.060240492224693,0.092437759041786,-0.026079123839736,0.109991088509560,0.038058813661337,0.042483624070883,0.215036019682884,-0.179650947451591,-0.004650262650102,-0.032535653561354,-0.045714147388935,0.142974123358727,-0.051120992749929));
res += mul(Get(s1,-dx,dy), float4x4(-0.063923813402653,-0.038224730640650,-0.024456400424242,-0.020816434174776,0.013947621919215,-0.080951370298862,-0.008595532737672,-0.028188845142722,-0.135877504944801,0.166436195373535,-0.062467489391565,-0.061118442565203,-0.028812168166041,-0.011635217815638,0.003898123977706,0.044207647442818));
res += mul(Get(s1,0,-dy), float4x4(-0.022693935781717,0.071365125477314,-0.016043743118644,0.016663240268826,-0.083055719733238,-0.033378545194864,-0.072722524404526,0.055960793048143,0.004622399806976,-0.134923413395882,-0.124653369188309,0.013421167619526,0.019675802439451,0.023382818326354,0.253555446863174,-0.010907112620771));
res += mul(Get(s1,0,0), float4x4(-0.008776850998402,0.009103238582611,-0.043732680380344,0.009135233238339,0.102369427680969,-0.063570074737072,0.124517597258091,-0.040166750550270,0.133172675967216,-0.055352296680212,0.154489502310753,-0.046491924673319,-0.042987514287233,-0.079414121806622,-0.168366491794586,0.013459561392665));
res += mul(Get(s1,0,dy), float4x4(-0.053513206541538,-0.008835009299219,-0.107082754373550,0.045680958777666,0.025720475241542,-0.125765323638916,0.112181909382343,-0.085996352136135,-0.038598719984293,-0.038682796061039,0.056383922696114,-0.072382412850857,-0.022505294531584,-0.013369471766055,-0.085290394723415,0.049840446561575));
res += mul(Get(s1,dx,-dy), float4x4(0.006756171584129,0.038597244769335,0.001951638609171,-0.010692201554775,-0.077846862375736,0.028699290007353,0.028429487720132,0.024658536538482,-0.051864624023438,-0.082839794456959,-0.042564645409584,0.012059322558343,0.037828531116247,-0.014719475992024,0.155732974410057,0.011889769695699));
res += mul(Get(s1,dx,0), float4x4(-0.009628398343921,0.011619706638157,-0.040681529790163,0.002875006059185,0.001237858086824,0.027699004858732,0.087583065032959,0.008612981997430,0.026176309213042,-0.039473876357079,0.038135554641485,-0.029862968251109,-0.021608475595713,-0.096192888915539,-0.209715276956558,0.049597550183535));
res += mul(Get(s1,dx,dy), float4x4(-0.022284114733338,-0.005695590283722,0.015589694492519,-0.019445778802037,-0.026250148192048,0.024166205897927,0.007939826697111,0.000662743579596,-0.058962468057871,-0.063313357532024,0.075074963271618,-0.041842337697744,-0.036855388432741,-0.018744947388768,-0.024386784061790,0.036890696734190));
res += mul(Get(s2,-dx,-dy), float4x4(-0.002361934864894,0.013116776943207,0.001040857518092,0.009816403500736,-0.027975730597973,0.057859838008881,0.033931236714125,-0.033655598759651,-0.022407781332731,-0.007518423721194,0.038818649947643,0.065282531082630,-0.000754839275032,-0.011257945559919,-0.036112863570452,0.031966701149940));
res += mul(Get(s2,-dx,0), float4x4(0.028332250192761,0.031578108668327,0.030677061527967,0.003699799999595,-0.034833624958992,0.110994778573513,0.097980543971062,-0.048408295959234,0.044785555452108,0.018899323418736,-0.032923679798841,0.036750063300133,-0.004758034367114,0.015603503212333,0.027025870978832,0.055436287075281));
res += mul(Get(s2,-dx,dy), float4x4(-0.019828161224723,0.017838042229414,0.008887355215847,-0.001140183769166,-0.030579686164856,0.053669594228268,0.150214672088623,-0.011027501896024,0.002889108145609,-0.018478348851204,0.004269479308277,-0.006195921450853,0.064403787255287,0.000586834794376,0.043454360216856,0.035907417535782));
res += mul(Get(s2,0,-dy), float4x4(-0.015248025767505,0.012794612906873,0.008824335411191,0.007143153809011,-0.049540724605322,0.044749144464731,-0.084244847297668,-0.004599306266755,-0.033635169267654,0.019969116896391,0.003862458746880,0.040693584829569,0.004754495341331,-0.002012615324929,-0.001013661734760,-0.012621080502868));
res += mul(Get(s2,0,0), float4x4(0.026068288832903,0.006993860937655,0.018535120412707,-0.000879272352904,-0.044423863291740,-0.006756818853319,-0.061012066900730,-0.014312044717371,0.034855306148529,0.026918238028884,-0.007504237350076,-0.021590741351247,-0.010536643676460,0.010265999473631,-0.022972304373980,0.065410152077675));
res += mul(Get(s2,0,dy), float4x4(0.006714136339724,0.027822848409414,0.009235208854079,0.000322052976117,-0.001692044781521,-0.100924901664257,0.113773114979267,0.016298716887832,0.020738115534186,-0.058108087629080,0.011155752465129,-0.033971708267927,0.016483334824443,-0.001130517921411,0.082298308610916,0.028035556897521));
res += mul(Get(s2,dx,-dy), float4x4(0.001036178669892,0.012779870070517,0.018225060775876,0.007309490814805,0.011279037222266,-0.039619207382202,-0.054778609424829,-0.007060941308737,-0.016354652121663,0.005823999177665,0.041803505271673,-0.007695691194385,0.009260014630854,-0.019006287679076,0.023803312331438,0.028162736445665));
res += mul(Get(s2,dx,0), float4x4(0.013497559353709,-0.000447318772785,0.021715793758631,0.004346686881036,-0.038113273680210,-0.042897082865238,-0.059431474655867,0.001943768351339,0.032742820680141,-0.017817223444581,-0.002194753382355,-0.038096271455288,0.012451806105673,-0.002967784414068,-0.038017231971025,0.093827173113823));
res += mul(Get(s2,dx,dy), float4x4(-0.006992170121521,0.007101324852556,0.007977327331901,-0.005389383062720,-0.036568365991116,-0.074416883289814,-0.123808890581131,0.038707517087460,0.026555456221104,-0.071308575570583,-0.106453455984592,-0.034473311156034,0.015811866149306,-0.016244253143668,-0.001204347237945,0.057790040969849));
res += mul(Get(s3,-dx,-dy), float4x4(-0.030771698802710,-0.010708628222346,0.004327165894210,0.054239824414253,-0.025837382301688,-0.002991891931742,0.005567003972828,0.022283472120762,-0.027727318927646,0.143488764762878,0.055836677551270,-0.061884839087725,0.016251329332590,0.021349901333451,-0.019196385517716,-0.012819346971810));
res += mul(Get(s3,-dx,0), float4x4(0.014035613276064,-0.003974768333137,0.005870340391994,-0.007990100421011,-0.003420691471547,0.074097469449043,-0.120460972189903,-0.005042563658208,0.004613175522536,0.170596241950989,0.134492814540863,-0.063924990594387,0.011699699796736,-0.016597768291831,-0.056900791823864,0.066595517098904));
res += mul(Get(s3,-dx,dy), float4x4(0.034559603780508,-0.013740594498813,0.011615277267992,-0.025901241227984,-0.042306344956160,-0.003593381727114,-0.045386813580990,-0.000119853721117,-0.003686763811857,0.090899847447872,0.106150835752487,0.048989929258823,0.011410964652896,0.007113414816558,-0.065520294010639,0.087958835065365));
res += mul(Get(s3,0,-dy), float4x4(-0.032103411853313,-0.003475190140307,-0.074171803891659,0.031299676746130,-0.029050463810563,-0.068520575761795,-0.017657382413745,0.013886621221900,-0.001979158958420,0.052270870655775,0.032305687665939,-0.103097185492516,0.028900543227792,0.054866675287485,-0.043859925121069,-0.008898318745196));
res += mul(Get(s3,0,0), float4x4(0.006995322648436,0.010409359820187,-0.085017107427120,-0.002448785817251,0.045108065009117,-0.021440038457513,0.018159955739975,-0.043386802077293,0.032637577503920,0.015005181543529,-0.020466195419431,-0.069451279938221,0.018556978553534,0.043746318668127,-0.115797825157642,0.035811208188534));
res += mul(Get(s3,0,dy), float4x4(0.022990081459284,-0.001129127223976,-0.030930843204260,-0.039335835725069,-0.022540640085936,-0.026330379769206,0.034397132694721,-0.044055670499802,0.039858508855104,0.020112248137593,0.012228591367602,-0.011742837727070,-0.001032171072438,0.024954242631793,-0.030596779659390,0.033394146710634));
res += mul(Get(s3,dx,-dy), float4x4(-0.016254320740700,-0.000030151813917,-0.056625816971064,0.043582294136286,-0.057961564511061,-0.036281827837229,0.018827410414815,0.000354089657776,0.008310596458614,-0.067804880440235,0.013351871632040,-0.143301159143448,0.022277753800154,0.060894362628460,-0.017971465364099,-0.050149671733379));
res += mul(Get(s3,dx,0), float4x4(-0.007318210322410,0.002653972245753,-0.030911043286324,0.042685851454735,0.038206778466702,-0.029537437483668,0.067523680627346,-0.047855071723461,0.005144234281033,-0.059891965240240,-0.047298550605774,-0.049551442265511,0.021856641396880,0.102484226226807,-0.027218719944358,-0.033401701599360));
res += mul(Get(s3,dx,dy), float4x4(0.022880483418703,0.012047314085066,-0.046045992523432,0.012654408812523,-0.011219578795135,-0.009078374132514,-0.002594573656097,-0.009446791373193,0.028411570936441,-0.016610573977232,0.030357163399458,-0.028416881337762,0.018127763643861,0.048282526433468,-0.024201558902860,-0.029580174013972));
res = max(float4(0,0,0,0), res);
return res;
}
