sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.011331419460475,-0.002077504526824,0.026724712923169,0.043980356305838,0.004593219142407,-0.001031783060171,0.007878887467086,0.002226348966360,0.016362637281418,-0.011060214601457,0.027978854253888,0.001510808942840,0.002525076502934,0.012232604436576,0.006918226368725,0.020348269492388));
res += mul(Get(s0,-dx,0), float4x4(0.004938123747706,-0.064120426774025,-0.092451922595501,-0.003986676223576,-0.019770517945290,-0.018939714878798,0.014376792125404,-0.008140606805682,-0.018109135329723,-0.039605930447578,0.012642421759665,-0.001957200001925,-0.021735785529017,-0.000154747467604,0.022958314046264,-0.009335403330624));
res += mul(Get(s0,-dx,dy), float4x4(0.036328144371510,-0.001065551303327,-0.023684287443757,0.013394826091826,-0.012763773091137,-0.004054550081491,0.008528441190720,-0.112121492624283,-0.000157402915647,-0.003351392457262,-0.013457965105772,-0.032343193888664,-0.004357548896223,-0.012010592035949,0.004997473210096,-0.002849563723430));
res += mul(Get(s0,0,-dy), float4x4(-0.006075757555664,0.055024981498718,0.066678658127785,0.018503641709685,-0.002049588365480,-0.008575139567256,0.010090424679220,-0.010197808034718,0.000609371461906,0.023507935926318,0.022803168743849,0.042339310050011,0.008524371311069,-0.002684428123757,0.002891921438277,-0.003897710237652));
res += mul(Get(s0,0,0), float4x4(0.016814690083265,0.131084606051445,-0.103306353092194,-0.033217146992683,-0.016233094036579,0.008030891418457,-0.020139820873737,0.019519932568073,-0.013453437946737,0.003941644448787,0.007280515506864,0.033446870744228,0.013294307515025,-0.000096754039987,-0.018733246251941,0.021329406648874));
res += mul(Get(s0,0,dy), float4x4(0.014032539911568,0.236870259046555,0.101386830210686,-0.015265814960003,-0.011128850281239,0.019005669280887,0.012140977196395,-0.112694516777992,-0.022239102050662,-0.009642103686929,-0.007636468391865,-0.015586981549859,-0.002149216597900,0.006091318093240,0.030856249853969,-0.014718298800290));
res += mul(Get(s0,dx,-dy), float4x4(-0.027224972844124,0.031591325998306,0.070573836565018,0.073422618210316,0.002564184600487,-0.014130697585642,0.013228884898126,-0.005377276334912,-0.108989328145981,0.007628916297108,0.022792520001531,-0.048730555921793,-0.006051987409592,-0.014983900822699,-0.004301351495087,-0.000675689720083));
res += mul(Get(s0,dx,0), float4x4(0.030048783868551,0.096758946776390,-0.049561847001314,-0.025030082091689,0.005148359574378,-0.028708253055811,-0.042313713580370,0.042170856148005,-0.077369093894958,-0.022978736087680,-0.003704644739628,-0.010407955385745,-0.026901550590992,-0.009422293864191,0.009231101721525,0.002062843646854));
res += mul(Get(s0,dx,dy), float4x4(0.095833733677864,0.177398458123207,0.052721157670021,-0.011853438802063,0.006387914065272,-0.011732790619135,-0.011864077299833,-0.070728197693825,-0.108456708490849,-0.029648577794433,0.014267026446760,-0.077426217496395,-0.001855945913121,-0.008477935567498,-0.009008442051709,0.002440329641104));
res += mul(Get(s1,-dx,-dy), float4x4(0.010411792434752,0.005265886429697,0.013436089269817,0.003934710286558,-0.012146520428360,-0.004359465092421,0.049038663506508,-0.043366625905037,-0.007234703283757,-0.007406038232148,-0.008732056245208,0.013956150971353,0.059432938694954,0.004399415105581,0.015275330282748,0.051006712019444));
res += mul(Get(s1,-dx,0), float4x4(-0.003029204439372,-0.000386544619687,0.000376111100195,0.001167222042568,0.017762340605259,-0.014104934409261,0.011329350993037,-0.097657181322575,-0.036890644580126,0.015106091275811,0.058635417371988,0.035273805260658,0.024905089288950,0.050095792859793,-0.076032899320126,0.204390391707420));
res += mul(Get(s1,-dx,dy), float4x4(0.013650602661073,-0.001320398063399,0.008638780564070,-0.009006487205625,0.001485544606112,-0.008060393854976,-0.011768122203648,0.012433442287147,-0.006317141465843,-0.015023436397314,0.022091375663877,-0.140495002269745,-0.086773224174976,0.008877074345946,0.180108323693275,-0.258877336978912));
res += mul(Get(s1,0,-dy), float4x4(0.002139907563105,0.001710991607979,0.005732038989663,-0.005340662784874,-0.069724790751934,0.008506735786796,0.003313133027405,-0.041797973215580,-0.022395899519324,0.004205869045109,0.020234152674675,0.010746133513749,-0.049501139670610,0.005060450173914,0.146943628787994,-0.078036040067673));
res += mul(Get(s1,0,0), float4x4(-0.005562279373407,0.010713621042669,-0.003105204785243,-0.003740843618289,0.004137607757002,0.006791528780013,-0.005863816011697,-0.093481779098511,-0.021113710477948,0.005209152121097,-0.003850719425827,0.079554237425327,-0.052774135023355,-0.045282088220119,-0.118000030517578,0.242495641112328));
res += mul(Get(s1,0,dy), float4x4(-0.006771001499146,-0.001490141032264,0.000559819454793,-0.008341526612639,0.030509702861309,-0.010389408096671,-0.016156010329723,0.026143856346607,-0.025570778176188,-0.034029580652714,0.017468348145485,-0.138307124376297,0.013654729351401,0.016175070777535,0.054323770105839,-0.184138819575310));
res += mul(Get(s1,dx,-dy), float4x4(0.011802796274424,0.008275973610580,0.000249419244938,-0.001400466309860,-0.036972884088755,0.026098763570189,-0.046578183770180,-0.027860015630722,-0.004409861285239,-0.012511981651187,0.011533958837390,0.023158323019743,0.140969097614288,0.013903913088143,-0.069111324846745,0.098490007221699));
res += mul(Get(s1,dx,0), float4x4(0.011248840950429,-0.005324877798557,-0.001886650687084,-0.000209749225178,0.010971586219966,-0.004535940941423,-0.021035796031356,-0.033602677285671,0.008886625990272,-0.003053886350244,-0.055298946797848,0.067288450896740,-0.012151848524809,-0.002289818134159,-0.033709380775690,0.049525193870068));
res += mul(Get(s1,dx,dy), float4x4(0.014886253513396,0.008755088783801,-0.004271266981959,-0.000451662112027,0.000423081102781,-0.026066731661558,0.002463736571372,0.000289761577733,-0.032260984182358,-0.053714059293270,-0.016364201903343,-0.088478542864323,0.064410209655762,0.034147284924984,-0.021675815805793,-0.110441721975803));
res += mul(Get(s2,-dx,-dy), float4x4(0.035207003355026,0.008133515715599,-0.019381133839488,0.039057198911905,-0.000822360860184,0.084273546934128,0.016247261315584,0.012719458900392,0.012985661625862,0.033102318644524,-0.008763684891164,-0.014151683077216,0.003044388722628,-0.012601628899574,-0.024641348049045,0.000166170750163));
res += mul(Get(s2,-dx,0), float4x4(0.009615534916520,-0.042670220136642,0.070611178874969,-0.042388442903757,-0.122055865824223,0.042007364332676,0.087397992610931,-0.025238921865821,-0.038417842239141,-0.003993025980890,-0.008562464267015,-0.031583875417709,0.003838198492303,-0.015354626812041,-0.039237078279257,0.022123172879219));
res += mul(Get(s2,-dx,dy), float4x4(0.071562670171261,-0.012449904344976,0.006897681858391,0.010269106365740,-0.051661346107721,-0.065244078636169,-0.016807127743959,0.007784144487232,-0.038170062005520,-0.000653448980302,-0.013212224468589,-0.002547949785367,0.005990725476295,-0.000657328986563,-0.029543306678534,-0.005774730350822));
res += mul(Get(s2,0,-dy), float4x4(-0.034368030726910,0.013194616883993,-0.046236015856266,0.000350974441972,-0.012562051415443,0.115998201072216,-0.024167336523533,-0.023332966491580,0.017146345227957,0.005793787539005,-0.029886486008763,0.002972499700263,0.025106133893132,-0.010177506133914,-0.007986155338585,-0.009957082569599));
res += mul(Get(s2,0,0), float4x4(-0.015762554481626,-0.020577212795615,0.045141920447350,0.003439759137109,-0.021301826462150,0.049431778490543,-0.032506309449673,0.016101306304336,-0.002442753873765,-0.052560795098543,-0.020227372646332,0.009862705133855,-0.015055555850267,-0.011438046582043,-0.019711853936315,-0.016508407890797));
res += mul(Get(s2,0,dy), float4x4(0.035586167126894,0.001710465643555,-0.046218853443861,0.047006774693727,-0.049393709748983,-0.107126861810684,-0.031357970088720,0.005996219348162,-0.021184118464589,-0.044636636972427,0.001371155260131,0.023101387545466,-0.022117991000414,-0.005806703586131,0.004857873078436,-0.012537043541670));
res += mul(Get(s2,dx,-dy), float4x4(-0.086793489754200,-0.004593118093908,0.041978500783443,-0.003180705010891,0.051800210028887,0.005491998977959,0.032459314912558,0.050225980579853,0.033391278237104,0.013085117563605,-0.004145595710725,-0.014741182327271,-0.006302196532488,-0.006766038015485,0.013845744542778,-0.007808813359588));
res += mul(Get(s2,dx,0), float4x4(-0.131925940513611,-0.037863072007895,0.161937698721886,-0.000151919331984,0.158990621566772,0.016587734222412,0.001418256899342,-0.012297811917961,0.026499733328819,-0.030302835628390,0.007715940475464,0.045581690967083,-0.006371806375682,-0.016831178218126,0.037238623946905,-0.007698019035161));
res += mul(Get(s2,dx,dy), float4x4(-0.055646948516369,-0.062713645398617,0.029317585751414,0.025544309988618,0.086178697645664,-0.016656281426549,0.024264592677355,0.037193536758423,0.016575424000621,-0.041383918374777,0.014165597967803,0.022614507004619,0.005517577286810,-0.001385977026075,0.010995814576745,0.017537377774715));
res += mul(Get(s3,-dx,-dy), float4x4(0.101368106901646,-0.029229510575533,0.069659113883972,-0.080092385411263,0.099936693906784,-0.082866884768009,0.095314361155033,0.048542104661465,-0.007722363807261,0.001025037374347,-0.001534317270853,-0.008847251534462,0.079698048532009,0.040027979761362,0.061918430030346,-0.004376628901809));
res += mul(Get(s3,-dx,0), float4x4(-0.001632402651012,0.021432716399431,0.006843230687082,-0.054254375398159,0.045581549406052,-0.022597897797823,0.101176902651787,-0.116405107080936,-0.000917791738175,0.000335749675287,0.003743066918105,-0.001461929874495,0.084969520568848,-0.027919692918658,-0.034316565841436,0.044472035020590));
res += mul(Get(s3,-dx,dy), float4x4(0.007938721217215,-0.009725958108902,0.001639273948967,0.014004454948008,0.145399048924446,-0.066955521702766,-0.064189910888672,0.072038188576698,-0.003247743472457,-0.011004794389009,0.002342328894883,0.007910028100014,0.035149335861206,-0.032121043652296,0.020424636080861,0.020185984671116));
res += mul(Get(s3,0,-dy), float4x4(-0.006860563065857,-0.070096492767334,0.047898255288601,-0.022151336073875,-0.122416324913502,0.227450743317604,0.069051377475262,0.122564323246479,-0.003371090162545,0.002803792711347,-0.000447071477538,-0.001532294554636,0.058243475854397,-0.021571934223175,-0.025252908468246,0.007523988373578));
res += mul(Get(s3,0,0), float4x4(-0.007586164399981,-0.018785480409861,-0.034019589424133,-0.038603007793427,-0.293319761753082,0.101847328245640,0.349463194608688,-0.287738889455795,0.007397990208119,0.001087357639335,0.005561050027609,-0.003874684916809,-0.006211396772414,-0.062376532703638,-0.046606570482254,0.000319287355524));
res += mul(Get(s3,0,dy), float4x4(0.008628587238491,-0.031410705298185,-0.018452530726790,0.038146402686834,-0.124602437019348,-0.295666694641113,-0.156212985515594,0.203425183892250,0.007745315786451,-0.002374857664108,-0.004339426755905,0.011206577531993,-0.022089170292020,-0.026910033077002,-0.075270004570484,0.007227734196931));
res += mul(Get(s3,dx,-dy), float4x4(-0.011779003776610,-0.040255334228277,0.026704607531428,0.040250193327665,0.043343424797058,0.096498213708401,-0.047551672905684,-0.012870520353317,0.001332101295702,0.009796893224120,0.001389164128341,0.006867577787489,-0.044792052358389,-0.059270925819874,0.131832942366600,0.021838484331965));
res += mul(Get(s3,dx,0), float4x4(0.027190823107958,-0.036767005920410,0.017525644972920,0.008891538716853,0.375717878341675,0.109280459582806,-0.351293414831161,0.286186486482620,0.003072695573792,-0.008087213151157,-0.015940818935633,0.009849837981164,-0.127666071057320,-0.096009150147438,0.100090980529785,-0.008207645267248));
res += mul(Get(s3,dx,dy), float4x4(-0.000425493577495,-0.049266517162323,0.030567461624742,0.039508979767561,0.001136772683822,-0.131258234381676,0.068330712616444,-0.152191251516342,-0.004725393373519,-0.009909230284393,0.002081888960674,0.009731395170093,-0.050708685070276,-0.067360334098339,-0.039899904280901,-0.024570779874921));
res = max(float4(0,0,0,0), res);
return res;
}
