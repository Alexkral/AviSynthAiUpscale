sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.083983242511749,-0.034561421722174,0.109038770198822,-0.050910703837872,-0.049909982830286,0.093642935156822,-0.047998819500208,-0.052631415426731,-0.066165797412395,-0.089620448648930,-0.072981223464012,-0.023418530821800,-0.055159568786621,0.037696275860071,-0.025489140301943,0.038652930408716));
res += mul(Get(s0,-dx,0), float4x4(-0.057942368090153,-0.017524380236864,0.085859782993793,0.053515341132879,-0.027127556502819,0.052592333406210,0.068204507231712,-0.033199902623892,-0.081371776759624,-0.105914466083050,-0.139264747500420,-0.036866296082735,-0.054259847849607,0.034026939421892,0.006728101521730,0.060914877802134));
res += mul(Get(s0,-dx,dy), float4x4(-0.058089748024940,0.078099220991135,-0.019986227154732,0.021310666576028,-0.008882148191333,0.049443278461695,0.068901382386684,0.018957206979394,-0.014890677295625,-0.040868878364563,0.000092309725005,0.036831080913544,-0.001845964696258,-0.000146675229189,-0.037262190133333,0.047899439930916));
res += mul(Get(s0,0,-dy), float4x4(-0.044173609465361,0.094425588846207,0.092376627027988,-0.001848889514804,-0.019209144636989,-0.007566815242171,0.010539836250246,-0.003071897197515,-0.020417828112841,-0.003756274469197,0.008519969880581,0.091568768024445,0.111570663750172,0.015996651723981,-0.042357947677374,0.010223251767457));
res += mul(Get(s0,0,0), float4x4(0.047324903309345,0.109092362225056,-0.026943283155560,-0.070286482572556,-0.030224924907088,0.036118015646935,0.080871328711510,0.025603499263525,-0.007329348009080,0.038998860865831,0.073199488222599,0.100673951208591,-0.009516118094325,-0.070978961884975,-0.049367811530828,0.043091159313917));
res += mul(Get(s0,0,dy), float4x4(-0.024990390986204,0.095956981182098,-0.026767466217279,-0.072179615497589,-0.006032073870301,0.078084461390972,0.101370029151440,0.030688891187310,-0.036009415984154,0.093560695648193,0.091784469783306,0.061407387256622,-0.109380945563316,-0.087499439716339,0.029066232964396,0.033296771347523));
res += mul(Get(s0,dx,-dy), float4x4(-0.054213024675846,0.093690671026707,-0.012705304659903,-0.000139485113323,0.051663413643837,-0.087707608938217,0.044827502220869,-0.010468018241227,-0.029452627524734,0.042311843484640,0.019072417169809,0.075794696807861,0.032349385321140,0.056885965168476,-0.034315332770348,-0.085536025464535));
res += mul(Get(s0,dx,0), float4x4(-0.020559860393405,0.074633456766605,-0.046282920986414,-0.000230791600188,0.062103759497404,-0.075043432414532,0.002920112106949,-0.001769117196091,-0.002038179663941,0.045080970972776,0.069235809147358,0.010922815650702,0.035541485995054,0.026542495936155,-0.064538091421127,-0.033541131764650));
res += mul(Get(s0,dx,dy), float4x4(-0.018973344936967,0.019935989752412,0.032044067978859,0.006881156470627,0.014406962320209,-0.035243500024080,0.021883090957999,-0.004510929808021,0.019908307120204,0.019937705248594,-0.045983772724867,-0.025626948103309,-0.069511562585831,0.007369157858193,0.020146457478404,-0.015347479842603));
res += mul(Get(s1,-dx,-dy), float4x4(0.059114128351212,-0.005434351507574,-0.052310399711132,-0.013911674730480,0.015283126384020,0.041445650160313,-0.027258425951004,-0.022085059434175,-0.026915265247226,-0.007323523983359,-0.020827176049352,-0.077335834503174,-0.017890047281981,0.081733025610447,-0.080006413161755,0.012294464744627));
res += mul(Get(s1,-dx,0), float4x4(0.010710381902754,0.035228811204433,-0.073331259191036,0.035094421356916,-0.044524475932121,0.015534318983555,-0.011114970780909,0.002775238361210,0.010769582353532,-0.060264244675636,0.048449996858835,0.007963556796312,0.066839918494225,0.065046802163124,-0.024228401482105,0.052143611013889));
res += mul(Get(s1,-dx,dy), float4x4(0.037364356219769,0.044131137430668,-0.105021163821220,0.018368436023593,-0.052540261298418,-0.003787987632677,0.068929702043533,0.074660137295723,-0.002038144273683,-0.107371896505356,0.007476207800210,-0.035294741392136,0.019544983282685,-0.000039990452933,0.009518879465759,0.058975085616112));
res += mul(Get(s1,0,-dy), float4x4(0.025547619909048,0.113769911229610,0.010863677598536,-0.021990427747369,-0.028791822493076,-0.012350023724139,-0.088165640830994,-0.055297862738371,0.127070248126984,-0.071622967720032,0.069815240800381,-0.063002370297909,-0.013259829953313,0.034858539700508,-0.116364181041718,-0.103177867829800));
res += mul(Get(s1,0,0), float4x4(0.082326039671898,0.000700728676748,-0.004952287301421,0.034974869340658,-0.043622624129057,-0.016000336036086,0.060809846967459,0.082603894174099,0.035713840276003,-0.081695474684238,0.073615863919258,-0.037156380712986,-0.106793411076069,-0.024665217846632,-0.218310296535492,0.016561666503549));
res += mul(Get(s1,0,dy), float4x4(0.100355044007301,-0.056856110692024,-0.011759336106479,0.046871624886990,-0.061108049005270,0.031823437660933,0.092946097254753,0.109094254672527,-0.055883131921291,-0.028743648901582,-0.006901331245899,-0.061290320008993,0.215376421809196,-0.035825297236443,0.109018146991730,0.073601916432381));
res += mul(Get(s1,dx,-dy), float4x4(-0.041612524539232,0.023546833544970,-0.022338809445500,0.020927553996444,-0.009220223873854,-0.006831236183643,-0.019331853836775,-0.009472830221057,-0.021092958748341,-0.019790371879935,-0.053880088031292,0.005729660391808,-0.000876959995367,-0.002219574293122,-0.057035248726606,-0.077335894107819));
res += mul(Get(s1,dx,0), float4x4(0.024475822225213,0.038979478180408,0.041896950453520,0.068815536797047,-0.050421793013811,0.039715033024549,0.160978153347969,0.069621607661247,-0.255769640207291,0.118955232203007,-0.117518790066242,0.076817102730274,0.036746062338352,0.052830915898085,0.087982490658760,0.035149373114109));
res += mul(Get(s1,dx,dy), float4x4(0.020841727033257,0.046226877719164,-0.025645548477769,0.037124417722225,-0.045039586722851,0.055479101836681,0.009263383224607,0.007315544877201,-0.026350131258368,0.040679562836885,0.086816750466824,0.021000867709517,0.008949864655733,0.056456107646227,0.073162965476513,0.047035872936249));
res += mul(Get(s2,-dx,-dy), float4x4(-0.064239680767059,0.044673457741737,-0.049507744610310,-0.011178548447788,-0.104731835424900,-0.105237372219563,-0.024206003174186,0.014712750911713,0.105170242488384,-0.007505010347813,-0.017562188208103,0.005451664328575,-0.026217145845294,-0.003506152657792,0.049233265221119,0.037294991314411));
res += mul(Get(s2,-dx,0), float4x4(0.007471778430045,-0.077903956174850,-0.016824364662170,0.050201695412397,-0.052132107317448,-0.088858932256699,-0.030058782547712,-0.044084142893553,0.052893240004778,-0.016801174730062,0.019155602902174,-0.030380379408598,-0.034633461385965,0.020752230659127,0.090864516794682,0.031998854130507));
res += mul(Get(s2,-dx,dy), float4x4(-0.008376541547477,-0.028928391635418,-0.038518469780684,0.008105590008199,0.000760704628192,-0.004163548350334,0.036926835775375,0.017024271190166,0.098385855555534,-0.002899775747210,0.027586558833718,-0.038495626300573,0.033419117331505,0.077348217368126,0.015188582241535,0.007768002804369));
res += mul(Get(s2,0,-dy), float4x4(0.028649143874645,0.056500945240259,0.062089834362268,0.060822829604149,-0.018975514918566,-0.021573076024652,0.001601432450116,0.004730978049338,0.156369045376778,0.010420366190374,0.080533452332020,0.015369445085526,0.014243033714592,0.021048210561275,0.046213038265705,0.050201673060656));
res += mul(Get(s2,0,0), float4x4(0.138047665357590,0.056258406490088,0.095468997955322,0.087182268500328,-0.174901440739632,0.058571085333824,-0.048571508377790,-0.021625729277730,0.067421026527882,0.020805390551686,0.055239863693714,0.019141970202327,-0.041511099785566,-0.013217100873590,0.043069768697023,-0.005767534952611));
res += mul(Get(s2,0,dy), float4x4(-0.001663232920691,0.050523120909929,0.004951940383762,0.033672299236059,0.103539578616619,-0.007176126819104,0.222815260291100,0.033149290829897,0.039213746786118,-0.019658187404275,0.032924786210060,0.021733961999416,0.056272845715284,-0.016980834305286,-0.038607243448496,-0.030158024281263));
res += mul(Get(s2,dx,-dy), float4x4(0.046782925724983,-0.012757066637278,-0.007152696605772,-0.015254903584719,0.112494193017483,-0.032494563609362,0.063094474375248,-0.066859185695648,0.063536547124386,-0.038079846650362,-0.013428864069283,-0.048283085227013,-0.021626459434628,0.020007867366076,-0.046491008251905,0.042478747665882));
res += mul(Get(s2,dx,0), float4x4(0.113362982869148,0.010075571015477,0.011614221148193,-0.025614688172936,0.005800769198686,0.005363821052015,0.064359992742538,-0.037127859890461,0.086341194808483,-0.030290029942989,-0.010844863019884,-0.032969534397125,-0.018452713266015,0.040351886302233,0.058407973498106,0.041409429162741));
res += mul(Get(s2,dx,dy), float4x4(0.035920124500990,0.003985652234405,-0.034426111727953,0.019529292359948,-0.023702533915639,-0.025255477055907,-0.022486990317702,-0.008055872283876,0.101721055805683,-0.014203969389200,-0.060156643390656,-0.036848571151495,-0.043121442198753,0.046757563948631,-0.033671811223030,0.025320686399937));
res += mul(Get(s3,-dx,-dy), float4x4(0.059593822807074,-0.022258982062340,0.026557926088572,-0.030746826902032,0.015436866320670,-0.010763173922896,0.033363770693541,-0.108683213591576,-0.052730418741703,-0.105490744113922,-0.017852932214737,0.024531295523047,0.022957552224398,0.033235613256693,0.024505387991667,0.027790000662208));
res += mul(Get(s3,-dx,0), float4x4(0.070568434894085,0.010774221271276,-0.004014585632831,-0.017892869189382,-0.170979231595993,-0.044544193893671,-0.061011835932732,0.077295236289501,-0.010545330122113,0.137954756617546,0.015049173496664,0.088196992874146,0.028141140937805,0.018772372975945,0.003891707630828,0.015212811529636));
res += mul(Get(s3,-dx,dy), float4x4(0.046199683099985,0.029901636764407,-0.122449733316898,0.002451591193676,-0.012495969422162,-0.131687521934509,0.012471714057028,0.040635429322720,-0.037724729627371,0.054160583764315,0.008082867600024,0.047018405050039,-0.009349692612886,0.008204590529203,-0.015310607850552,0.006934423930943));
res += mul(Get(s3,0,-dy), float4x4(0.019458649680018,-0.023397369310260,-0.013442726805806,-0.015113555826247,-0.104731738567352,-0.056341003626585,0.015225219540298,-0.100995868444443,-0.148693054914474,0.036001153290272,-0.061927437782288,-0.086909003555775,0.027060478925705,0.015588755719364,-0.028005670756102,0.004277316853404));
res += mul(Get(s3,0,0), float4x4(0.146795064210892,0.045314960181713,0.044782172888517,0.018487140536308,0.283765256404877,-0.165738463401794,0.346799045801163,0.125761762261391,-0.027448894456029,0.092334717512131,-0.002226748969406,0.004849303979427,0.010656882077456,0.009185149334371,-0.034996125847101,-0.004312880337238));
res += mul(Get(s3,0,dy), float4x4(0.089560873806477,-0.026659218594432,0.016675030812621,-0.025635253638029,-0.080025926232338,-0.041191481053829,-0.184517711400986,-0.016308357939124,0.061830535531044,-0.018905282020569,-0.082501150667667,0.046536356210709,0.023909164592624,0.008142686448991,0.002920024329796,0.009028389118612));
res += mul(Get(s3,dx,-dy), float4x4(0.059742745012045,-0.005011835601181,-0.121920064091682,-0.021439403295517,-0.023021219298244,-0.023674376308918,0.045965872704983,0.015069229528308,-0.078037425875664,-0.031808450818062,-0.005072514526546,-0.119360603392124,-0.011609651148319,0.019797591492534,0.016647184267640,0.038886789232492));
res += mul(Get(s3,dx,0), float4x4(0.077074147760868,0.016063168644905,0.045617990195751,-0.003563349833712,-0.040430288761854,0.119817756116390,-0.045872814953327,0.026117864996195,-0.018968362361193,-0.039272524416447,0.071118898689747,0.055360969156027,-0.009683234617114,0.030997548252344,0.006430912297219,0.053406722843647));
res += mul(Get(s3,dx,dy), float4x4(-0.008595636114478,-0.023844212293625,-0.061184268444777,-0.017086733132601,0.022713379934430,0.059507440775633,0.023309092968702,-0.016823453828692,0.010994587093592,-0.044674374163151,0.015250509604812,-0.051025558263063,0.002145987469703,0.040365986526012,0.016360411420465,0.033314220607281));
res = max(float4(0,0,0,0), res);
return res;
}
