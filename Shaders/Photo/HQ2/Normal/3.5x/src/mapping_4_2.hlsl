sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.087018281221390,0.058867041021585,-0.023659735918045,0.017550205811858,0.045372433960438,0.035313792526722,-0.061750870198011,-0.031395755708218,-0.010257983580232,-0.000599693041295,0.014572946354747,-0.030486155301332,0.030802933499217,-0.032671343535185,0.107969515025616,-0.005833235103637));
res += mul(Get(s0,-dx,0), float4x4(-0.025883050635457,-0.025485195219517,-0.034334111958742,-0.081501603126526,0.087610192596912,0.039220429956913,-0.013046393170953,-0.032198190689087,-0.006610261742026,-0.013986956328154,0.023642892017961,-0.021516561508179,-0.105249181389809,-0.066717505455017,0.016788439825177,0.004538173321635));
res += mul(Get(s0,-dx,dy), float4x4(0.050555057823658,-0.032406225800514,-0.011947798542678,-0.041766092181206,0.004011903889477,-0.039033923298120,-0.005821589846164,0.015791401267052,-0.010607856325805,-0.007837290875614,0.036296941339970,-0.010443669743836,-0.127666801214218,0.018701348453760,-0.020601289346814,0.011251186951995));
res += mul(Get(s0,0,-dy), float4x4(-0.023610094562173,0.052396517246962,0.049272768199444,-0.028524328023195,0.012218021787703,0.024700095877051,-0.008022065274417,-0.028281578794122,-0.003988152369857,0.017178416252136,0.024997765198350,-0.035022106021643,-0.004519213456661,-0.069514021277428,-0.012063031084836,0.010881292633712));
res += mul(Get(s0,0,0), float4x4(0.039471331983805,-0.022783365100622,0.043449174612761,0.014196742326021,0.019607683643699,0.008046634495258,0.003491885494441,-0.071452282369137,0.013875422067940,0.002857615472749,-0.005497442558408,-0.018326835706830,0.021218679845333,-0.068596862256527,0.118754327297211,-0.042207419872284));
res += mul(Get(s0,0,dy), float4x4(0.005265290848911,0.005324141588062,0.032761733978987,-0.032995793968439,0.037591341882944,-0.027069896459579,-0.036460202187300,-0.078553915023804,-0.009895448572934,-0.004190566018224,-0.000308490183670,-0.008733126334846,-0.082456961274147,0.039709534496069,0.072214469313622,0.034969020634890));
res += mul(Get(s0,dx,-dy), float4x4(0.038301389664412,0.078442864120007,-0.006527877878398,-0.072335205972195,0.034370560199022,-0.024788282811642,0.044182963669300,-0.025058783590794,0.001642422634177,0.017721310257912,0.013147548772395,-0.034057568758726,0.012051548808813,-0.030987201258540,0.069987989962101,0.068746991455555));
res += mul(Get(s0,dx,0), float4x4(0.058977335691452,-0.013490376062691,0.065464764833450,0.013191148638725,0.017471631988883,-0.003858872456476,0.045301839709282,-0.098225742578506,0.022682765498757,-0.003607715014368,0.008196135051548,-0.024594672024250,0.081101007759571,0.053596667945385,0.036377429962158,0.079925045371056));
res += mul(Get(s0,dx,dy), float4x4(-0.001522291451693,0.038503050804138,0.044531095772982,0.033381238579750,0.074075549840927,-0.014461121521890,-0.035527292639017,-0.067196413874626,0.011705730110407,-0.015206596814096,0.020960230380297,-0.001857568044215,0.054162163287401,-0.010200389660895,-0.065153814852238,-0.015915635973215));
res += mul(Get(s1,-dx,-dy), float4x4(-0.115602709352970,0.039329420775175,0.067278794944286,-0.069565027952194,0.066795662045479,-0.049781519919634,-0.009699251502752,-0.018355946987867,-0.019393606111407,-0.073293931782246,0.116501525044441,-0.016959039494395,-0.001966634066775,0.084641441702843,0.046743057668209,-0.098835267126560));
res += mul(Get(s1,-dx,0), float4x4(-0.109788767993450,-0.022576766088605,-0.133421629667282,-0.031643263995647,-0.007038504816592,-0.025936594232917,0.077014058828354,-0.033251967281103,-0.008584131486714,-0.052483741194010,0.168190255761147,-0.011873715557158,-0.038001246750355,-0.000244158873102,0.030921816825867,-0.032731361687183));
res += mul(Get(s1,-dx,dy), float4x4(-0.076167784631252,-0.122380301356316,0.082186788320541,-0.020580945536494,-0.056193888187408,-0.082533508539200,0.007615147624165,-0.061850760132074,0.018560741096735,-0.038043748587370,0.084465384483337,-0.111090444028378,-0.024038778617978,-0.145806208252907,0.004234540276229,-0.059734333306551));
res += mul(Get(s1,0,-dy), float4x4(0.009768666699529,0.054483875632286,-0.000663774437271,0.180364772677422,0.063042841851711,-0.038798134773970,0.016844633966684,-0.029232220724225,-0.034740544855595,-0.012093763798475,0.029137618839741,0.011100174859166,0.011198512278497,0.140883162617683,0.021463330835104,-0.041056983172894));
res += mul(Get(s1,0,0), float4x4(0.051853444427252,-0.008191443048418,0.065935187041759,-0.045937057584524,0.073963627219200,-0.038158770650625,0.057670816779137,0.091582097113132,-0.012132641859353,0.025690007954836,-0.055865924805403,0.004326099064201,0.002950044581667,-0.012185022234917,-0.029439935460687,-0.022986173629761));
res += mul(Get(s1,0,dy), float4x4(-0.140409588813782,-0.029559008777142,-0.004307384137064,0.046870991587639,-0.058092210441828,-0.081310175359249,0.028929498046637,0.045079670846462,-0.024863570928574,0.016932474449277,-0.045558340847492,-0.036152977496386,0.009496763348579,-0.137433931231499,0.055706568062305,0.064620077610016));
res += mul(Get(s1,dx,-dy), float4x4(0.000350841117324,0.035521242767572,0.015785945579410,-0.016110029071569,-0.029240017756820,-0.037935022264719,0.039669074118137,-0.081037230789661,0.060353789478540,0.060084346681833,-0.019526887685061,0.017449818551540,-0.052129622548819,0.066894344985485,-0.010432339273393,0.020841965451837));
res += mul(Get(s1,dx,0), float4x4(0.035294499248266,0.042484387755394,-0.055870216339827,0.105016544461250,0.056734632700682,-0.008642074652016,0.062369938939810,-0.033569052815437,0.053093936294317,0.057245355099440,-0.064933374524117,-0.049696780741215,0.054297544062138,-0.096550799906254,-0.018826603889465,-0.000694829854183));
res += mul(Get(s1,dx,dy), float4x4(-0.048636969178915,-0.065842717885971,-0.021069232374430,-0.096320658922195,-0.023507988080382,-0.053172327578068,0.052422646433115,-0.052267871797085,0.020252427086234,0.047981537878513,-0.052573878318071,-0.076154395937920,0.041956719011068,-0.147167563438416,0.071198813617229,0.157987311482430));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001230912865140,0.007995441555977,-0.015553827397525,-0.000367881671991,-0.128662332892418,-0.041963785886765,-0.031422764062881,0.062721230089664,-0.018007285892963,0.062821134924889,0.055930472910404,-0.031865205615759,0.042342614382505,0.022456755861640,-0.057261928915977,-0.006274397019297));
res += mul(Get(s2,-dx,0), float4x4(-0.001536456053145,-0.018865462392569,0.082298152148724,0.002170986263081,-0.117079652845860,-0.030644604936242,0.075728230178356,0.013364327140152,-0.069487646222115,0.067266672849655,0.308258265256882,0.037536781281233,0.007936672307551,-0.004067075438797,-0.089911766350269,0.028199175372720));
res += mul(Get(s2,-dx,dy), float4x4(0.005901976022869,0.025761678814888,0.008593925274909,-0.023872679099441,-0.027691500261426,-0.025915466248989,-0.005469189491123,0.029336243867874,-0.022303204983473,-0.055150233209133,-0.016422215849161,-0.024897107854486,-0.037968605756760,0.008103869855404,-0.027493225410581,0.064067378640175));
res += mul(Get(s2,0,-dy), float4x4(-0.008904248476028,0.006296063307673,0.037907838821411,0.026402916759253,-0.038608733564615,-0.009961945936084,-0.005370380822569,-0.004005626775324,-0.045146375894547,0.178809061646461,0.042336303740740,-0.134718000888824,0.023846045136452,0.018534794449806,-0.164269208908081,-0.029391529038548));
res += mul(Get(s2,0,0), float4x4(-0.007952337153256,-0.011830460280180,0.038644127547741,-0.052002023905516,-0.050720632076263,0.000039604823542,0.097902655601501,0.121579617261887,-0.110190294682980,0.051470041275024,-0.139474302530289,0.080046802759171,-0.027822690084577,0.001346038538031,-0.101657457649708,-0.046089556068182));
res += mul(Get(s2,0,dy), float4x4(0.007460961118340,0.015200274065137,0.018665567040443,-0.015332890674472,-0.063419312238693,-0.030845811590552,-0.001071543432772,0.080135248601437,0.035995461046696,-0.232235684990883,-0.141508236527443,-0.093238011002541,-0.032400842756033,0.037812557071447,0.029426047578454,0.025207458063960));
res += mul(Get(s2,dx,-dy), float4x4(-0.003802453633398,-0.016062136739492,0.011481501162052,0.019735809415579,-0.007015777751803,-0.007251502480358,-0.103200890123844,0.017874345183372,0.076150692999363,0.109951026737690,-0.029108269140124,-0.015592586249113,-0.026734191924334,-0.002512219827622,-0.090057365596294,-0.085703238844872));
res += mul(Get(s2,dx,0), float4x4(-0.026290936395526,-0.018101841211319,0.055614396929741,-0.070542268455029,0.011037081480026,-0.033561795949936,-0.044766891747713,0.072127230465412,-0.006565029732883,-0.141157314181328,0.007538969628513,-0.093055598437786,-0.027902105823159,0.002783643081784,-0.047357670962811,-0.042392626404762));
res += mul(Get(s2,dx,dy), float4x4(0.009864110499620,0.006707499735057,0.011032074689865,-0.019616868346930,-0.023486481979489,-0.092882268130779,0.023753317072988,0.067421182990074,0.009329770691693,-0.218254610896111,0.022607836872339,0.007434329483658,0.041100766509771,-0.027514521032572,0.022171905264258,-0.020053343847394));
res += mul(Get(s3,-dx,-dy), float4x4(0.118466071784496,0.001520547550172,0.007013121619821,-0.031785134226084,-0.055183261632919,0.100922927260399,-0.061973202973604,-0.004190147388726,-0.051714941859245,0.007233508862555,-0.008379004895687,0.090922288596630,-0.015869103372097,0.071279786527157,-0.114265784621239,0.027865732088685));
res += mul(Get(s3,-dx,0), float4x4(0.029017388820648,-0.048435218632221,0.101851463317871,0.012539088726044,-0.092720858752728,0.046789608895779,-0.000856170139741,-0.047735814005136,-0.039430361241102,-0.027642862871289,0.101550415158272,-0.037329874932766,-0.048404522240162,-0.002341789659113,-0.087342374026775,0.050569217652082));
res += mul(Get(s3,-dx,dy), float4x4(0.042477764189243,-0.071001753211021,0.028336677700281,0.007265033666044,-0.032099056988955,-0.019767491146922,-0.041100595146418,-0.006721481680870,-0.052765984088182,0.049524590373039,0.078276284039021,0.017409915104508,-0.019518768414855,-0.025283491238952,0.054420351982117,0.036717630922794));
res += mul(Get(s3,0,-dy), float4x4(0.135861217975616,0.032105848193169,-0.004884907510132,0.022232484072447,0.002917880192399,0.033675633370876,-0.039214815944433,0.036271069198847,-0.008099454455078,0.031465891748667,-0.027104051783681,0.004837025888264,-0.043662000447512,-0.002876411424950,-0.045441307127476,-0.011683301068842));
res += mul(Get(s3,0,0), float4x4(0.167855694890022,-0.027211807668209,0.075359709560871,0.064811632037163,0.091034151613712,0.014392704702914,-0.003690337296575,0.059944398701191,-0.007327900268137,0.067108750343323,-0.019570944830775,0.079849191009998,-0.039939586073160,-0.031791042536497,0.024612676352262,0.029346613213420));
res += mul(Get(s3,0,dy), float4x4(0.031481172889471,-0.031251166015863,0.056295454502106,0.009980535134673,-0.001599883427843,-0.018958000466228,-0.054750375449657,0.108199261128902,0.015564609318972,0.059884186834097,-0.069537155330181,0.036878071725368,-0.011888838373125,-0.005243917927146,0.046757269650698,0.040714498609304));
res += mul(Get(s3,dx,-dy), float4x4(-0.006852924358100,-0.003910697996616,0.031007708981633,0.037264164537191,0.050521560013294,-0.001571477623656,-0.034603420644999,0.035175863653421,-0.039660654962063,0.023900482803583,0.042213615030050,0.061670687049627,-0.034539323300123,-0.037221670150757,0.048873357474804,-0.005812871735543));
res += mul(Get(s3,dx,0), float4x4(0.051794674247503,-0.027883715927601,0.052744012326002,0.142419427633286,0.068824037909508,0.016351049765944,-0.005798349156976,0.110836416482925,-0.041616946458817,0.090092539787292,-0.069937750697136,0.095527231693268,0.033755298703909,0.014394490979612,0.123448558151722,0.050037696957588));
res += mul(Get(s3,dx,dy), float4x4(0.087436661124229,-0.061576455831528,0.063469745218754,0.112028919160366,-0.025423232465982,0.003931892570108,-0.070229567587376,-0.004638234619051,-0.009444071911275,-0.047875609248877,-0.097965694963932,-0.013887169770896,0.066977523267269,0.031551528722048,-0.031497173011303,0.040790095925331));
res = max(float4(0,0,0,0), res);
return res;
}
