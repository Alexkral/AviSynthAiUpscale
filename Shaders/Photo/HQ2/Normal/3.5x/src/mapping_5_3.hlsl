sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.003714904654771,-0.085453189909458,-0.033774066716433,-0.035911552608013,-0.013584817759693,0.015523084439337,0.008469551801682,-0.029004877433181,0.004171106964350,-0.015297795645893,0.058282285928726,0.038706626743078,-0.062694199383259,0.056709349155426,0.025928011164069,-0.033857177942991));
res += mul(Get(s0,-dx,0), float4x4(-0.019307537004352,-0.055997587740421,-0.085640877485275,0.033262345939875,-0.041516840457916,-0.036150511354208,-0.039674855768681,-0.005383877549320,0.028582647442818,-0.072816967964172,0.105684995651245,-0.025618506595492,-0.021460901945829,-0.000869287934620,0.034699775278568,-0.002944455714896));
res += mul(Get(s0,-dx,dy), float4x4(0.028714848682284,0.040859058499336,-0.046946875751019,-0.001779980142601,0.006362516898662,-0.040436055511236,-0.051363248378038,-0.036522205919027,0.005300733726472,-0.073875658214092,0.166072875261307,-0.032649353146553,0.093252100050449,-0.037516210228205,0.020607590675354,0.035189580172300));
res += mul(Get(s0,0,-dy), float4x4(-0.020051013678312,0.018803950399160,0.013409383594990,-0.007826156914234,0.055751252919436,0.011555666103959,0.026677664369345,-0.042023010551929,0.065923735499382,-0.018573267385364,-0.023946553468704,-0.065068371593952,-0.063141591846943,0.033831700682640,-0.008717690594494,0.002788958605379));
res += mul(Get(s0,0,0), float4x4(0.017720689997077,-0.055340427905321,-0.041132479906082,0.065585568547249,0.039966337382793,-0.001866002916358,-0.004516049288213,-0.002495984779671,0.035036738961935,-0.008769811131060,-0.014239436015487,-0.040809120982885,-0.050537724047899,0.017050150781870,-0.006020985078067,0.035267859697342));
res += mul(Get(s0,0,dy), float4x4(0.033362437039614,-0.008466074243188,0.062929250299931,-0.034334156662226,0.020791627466679,-0.032373640686274,-0.035366550087929,-0.025423092767596,0.051376163959503,-0.028175432235003,0.059401623904705,0.026353837922215,0.017581526190042,-0.007468052674085,-0.031305029988289,0.009959025308490));
res += mul(Get(s0,dx,-dy), float4x4(0.010754713788629,0.026521790772676,-0.030754568055272,0.012514277361333,0.090669929981232,0.009358536452055,-0.048488080501556,-0.015947330743074,0.039048332720995,0.011287564411759,-0.020873552188277,-0.040045581758022,-0.005055119283497,0.025460090488195,0.032951265573502,0.024444587528706));
res += mul(Get(s0,dx,0), float4x4(0.018075760453939,0.047836255282164,-0.051875792443752,0.083253324031830,0.103600226342678,-0.032088674604893,-0.022574495524168,-0.008495018817484,0.047306634485722,-0.030512684956193,-0.051938213407993,-0.068873256444931,-0.026972001418471,-0.016738232225180,-0.015057075768709,0.017537379637361));
res += mul(Get(s0,dx,dy), float4x4(0.069930680096149,0.024024212732911,0.005951617378742,-0.074775040149689,0.010854135267437,-0.024660892784595,-0.036491386592388,-0.044555876404047,0.075660258531570,0.012024127878249,0.006594084203243,-0.012592952698469,0.005004349630326,-0.027963260188699,-0.049964286386967,0.037992559373379));
res += mul(Get(s1,-dx,-dy), float4x4(0.000219328736421,-0.022909006103873,-0.008362912572920,-0.008782184682786,0.007377733476460,-0.058888550847769,0.069273419678211,-0.014408727176487,0.002258609049022,0.049746040254831,-0.040006477385759,-0.009781865403056,-0.057505369186401,0.074052974581718,0.063748493790627,-0.045642349869013));
res += mul(Get(s1,-dx,0), float4x4(-0.025973208248615,0.059125669300556,0.012391506694257,-0.006617898121476,0.020780490711331,0.017189731821418,0.109733760356903,0.007709075231105,-0.062940366566181,0.025006216019392,-0.022971663624048,-0.019045040011406,-0.047724843025208,0.006743138656020,0.068468317389488,-0.001924952724949));
res += mul(Get(s1,-dx,dy), float4x4(-0.081886298954487,0.014438994228840,-0.039874769747257,-0.021641256287694,-0.059127740561962,0.007008451968431,0.022954501211643,-0.038992334157228,0.036826338618994,-0.016864046454430,-0.030699227005243,-0.026412991806865,0.013917057774961,0.059372961521149,0.058223702013493,-0.034342143684626));
res += mul(Get(s1,0,-dy), float4x4(-0.013498205691576,0.007979530841112,-0.027700550854206,0.013752010650933,0.013112862594426,-0.034560035914183,0.091188438236713,-0.018034582957625,0.036886032670736,-0.005899233277887,0.018364530056715,-0.007223086897284,0.019503107294440,0.006269196979702,0.090229719877243,-0.030910287052393));
res += mul(Get(s1,0,0), float4x4(0.051925178617239,0.047314923256636,-0.036608897149563,0.039290409535170,-0.041240915656090,0.093097209930420,0.036824017763138,0.006291685160249,0.018341455608606,-0.126219540834427,0.041040096431971,0.013847889378667,-0.112285509705544,0.124521061778069,0.034428667277098,0.050062842667103));
res += mul(Get(s1,0,dy), float4x4(-0.011935146525502,-0.005395177286118,-0.060520615428686,0.054987087845802,0.043101780116558,0.002586418297142,-0.021809557452798,-0.017488824203610,0.022979740053415,0.041554916650057,-0.046250786632299,-0.021708367392421,-0.013676951639354,0.046977464109659,-0.031239552423358,0.027727726846933));
res += mul(Get(s1,dx,-dy), float4x4(-0.037565518170595,0.013489538803697,0.000269794487394,-0.010085303336382,0.037669017910957,-0.009714746847749,0.027428682893515,-0.005448722746223,0.107171438634396,0.036156810820103,0.047110371291637,-0.080334022641182,-0.002523905597627,0.056068312376738,0.011004350148141,-0.095755532383919));
res += mul(Get(s1,dx,0), float4x4(-0.028452735394239,-0.063696198165417,-0.007357673719525,-0.003837861819193,-0.017843585461378,0.021994054317474,-0.005611347500235,0.023076072335243,-0.133722350001335,0.323275238275528,-0.039031889289618,-0.011294673196971,0.003609707346186,0.071123242378235,-0.051700554788113,-0.060355961322784));
res += mul(Get(s1,dx,dy), float4x4(-0.037634272128344,-0.106869563460350,0.003339419839904,0.029164850711823,0.046689268201590,-0.061567056924105,0.018377656117082,0.036306049674749,0.024682553485036,0.124789454042912,-0.095326237380505,0.035485632717609,0.010805670171976,0.027915703132749,-0.046122074127197,-0.006872260943055));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004894559737295,0.026069328188896,0.056670416146517,-0.008383355103433,0.050551421940327,-0.051324348896742,-0.059859871864319,0.047668490558863,-0.099695265293121,0.059450943022966,-0.065441116690636,-0.081893593072891,0.008397779427469,-0.025760389864445,-0.007300524041057,-0.001525443396531));
res += mul(Get(s2,-dx,0), float4x4(0.016188126057386,0.056305311620235,0.042867224663496,-0.006137500982732,-0.063126705586910,-0.080912202596664,-0.043319620192051,0.095573604106903,-0.038022052496672,0.024585332721472,-0.026355678215623,-0.029150286689401,0.035986214876175,-0.062638945877552,-0.012304049916565,0.041151214390993));
res += mul(Get(s2,-dx,dy), float4x4(-0.020113058388233,-0.031363580375910,0.014373269863427,-0.009859837591648,-0.006600269582123,0.053799252957106,0.026932051405311,-0.033803816884756,0.014700180850923,0.096526131033897,0.001963997492567,0.035164363682270,0.050897751003504,-0.047385960817337,-0.030207568779588,0.027379358187318));
res += mul(Get(s2,0,-dy), float4x4(-0.020194632932544,-0.028942592442036,0.014452994801104,0.003238942474127,0.090776249766350,0.022883100435138,-0.002399631310254,-0.004106103442609,-0.014479709789157,-0.024182425811887,-0.093444697558880,-0.074329003691673,-0.003100136760622,-0.024884929880500,0.056762479245663,-0.051276959478855));
res += mul(Get(s2,0,0), float4x4(0.035464894026518,-0.121748670935631,-0.007270395755768,-0.032935135066509,-0.180658638477325,0.133684694766998,-0.005642591509968,0.142753675580025,-0.008102288469672,-0.018269786611199,-0.084329493343830,-0.013314181938767,-0.038499787449837,-0.022197432816029,0.059533171355724,0.012721498496830));
res += mul(Get(s2,0,dy), float4x4(0.001904617180116,-0.029222102835774,0.023563496768475,0.023319898173213,0.091612011194229,-0.136430352926254,0.076498612761497,0.064720474183559,0.038682598620653,0.057346008718014,-0.037504091858864,0.026024404913187,-0.052080124616623,-0.009452314116061,0.006674660369754,0.089420281350613));
res += mul(Get(s2,dx,-dy), float4x4(-0.032857745885849,-0.031115282326937,0.047141607850790,-0.035367656499147,0.111215040087700,0.047063339501619,-0.083173282444477,-0.049355629831553,-0.073243521153927,-0.040006559342146,-0.038476169109344,-0.072815351188183,-0.026507096365094,-0.016474563628435,0.064780630171299,-0.055872470140457));
res += mul(Get(s2,dx,0), float4x4(0.040990822017193,-0.031788479536772,0.023064991459250,-0.047938119620085,0.022451950237155,0.042406555265188,0.003150930162519,0.016205476596951,0.044072892516851,-0.099313922226429,-0.034894980490208,-0.006281664595008,-0.049103207886219,-0.038074444979429,0.025044947862625,-0.032359879463911));
res += mul(Get(s2,dx,dy), float4x4(0.026760701090097,0.027933381497860,0.011698020622134,-0.012857987545431,0.015232002362609,-0.003222817787901,0.071083500981331,0.052216041833162,-0.025525739416480,-0.000565745052882,-0.026817420497537,0.005228526424617,-0.027744287624955,-0.029267836362123,-0.037556037306786,0.063584715127945));
res += mul(Get(s3,-dx,-dy), float4x4(0.027425581589341,0.029952969402075,-0.006581069901586,-0.041941590607166,-0.026100214570761,-0.043736740946770,-0.011638849973679,-0.082898303866386,-0.005284693092108,-0.093905881047249,0.063244976103306,0.079791642725468,0.013727118261158,-0.024358866736293,0.012667730450630,-0.000036455581721));
res += mul(Get(s3,-dx,0), float4x4(-0.066901437938213,-0.005364152137190,-0.007016029208899,0.001368292490952,0.010266222991049,0.101050741970539,-0.001654175808653,0.060742937028408,0.016153540462255,0.024616172537208,0.021330973133445,0.024306656792760,0.007733851671219,0.003956773784012,0.007026475388557,0.008049115538597));
res += mul(Get(s3,-dx,dy), float4x4(-0.013333558104932,0.059950608760118,-0.064928412437439,-0.025077728554606,0.058136850595474,-0.025025997310877,-0.001812764327042,-0.012336121872067,0.084844492375851,0.063036777079105,0.001213578507304,-0.032403595745564,-0.000485513621243,0.012139542959630,0.002400685101748,0.004126065876335));
res += mul(Get(s3,0,-dy), float4x4(0.045958653092384,0.001240227255039,-0.009387111291289,-0.050615452229977,-0.162135586142540,-0.007130947429687,-0.059869661927223,-0.089862883090973,-0.148778975009918,0.071510247886181,-0.002230750396848,0.119254730641842,-0.002944318577647,-0.011034753173590,0.058528631925583,0.018298426643014));
res += mul(Get(s3,0,0), float4x4(-0.072363711893559,-0.058428607881069,0.003051873994991,0.014383196830750,0.267168492078781,-0.135050952434540,-0.053933382034302,-0.006320869084448,-0.034249652177095,-0.048672784119844,0.035085536539555,0.116708904504776,-0.028967112302780,0.012586715631187,0.034864094108343,0.021214434877038));
res += mul(Get(s3,0,dy), float4x4(0.100849203765392,-0.081283181905746,-0.006541938520968,-0.005419589579105,0.094119943678379,-0.054495763033628,-0.088801726698875,-0.057562805712223,0.030746528878808,0.023161618039012,0.058477926999331,-0.045411281287670,-0.008850029669702,0.005593288224190,0.008448807522655,0.000975192291662));
res += mul(Get(s3,dx,-dy), float4x4(-0.003584889462218,-0.005863976664841,-0.004510264378041,-0.023912476375699,-0.027291016653180,-0.002339630387723,0.234018415212631,-0.185806408524513,0.061600636690855,0.065256997942924,-0.072684146463871,-0.002782504074275,0.021302090957761,0.009730983525515,0.004351289942861,0.004566275514662));
res += mul(Get(s3,dx,0), float4x4(-0.052539952099323,-0.049919862300158,0.088089399039745,-0.004468172322959,-0.071632958948612,0.080304980278015,0.086645610630512,-0.081231772899628,0.052598740905523,0.081367783248425,0.027101848274469,0.135220676660538,0.023341137915850,0.001946099335328,-0.012802392244339,0.006014627404511));
res += mul(Get(s3,dx,dy), float4x4(0.000233328653849,-0.075162902474403,0.052859485149384,-0.017511295154691,-0.007417868822813,-0.002085488988087,-0.058150585740805,-0.100210733711720,0.089842706918716,0.076145827770233,-0.007063489872962,0.031518846750259,0.009813217446208,-0.021840790286660,-0.007887710817158,0.004169741645455));
res = max(float4(0,0,0,0), res);
return res;
}
