sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.094259403645992,-0.012131376191974,0.024176709353924,0.014807983301580,0.009784230962396,0.046648625284433,-0.018606830388308,0.008673291653395,0.063108250498772,0.003845608793199,0.104793928563595,-0.009837611578405,0.046921882778406,0.047333721071482,0.080221578478813,0.014095061458647));
res += mul(Get(s0,-dx,0), float4x4(0.055127333849669,-0.028728818520904,-0.008855034597218,0.007918016053736,0.017721911892295,0.068238668143749,0.003370404709131,-0.018099306151271,0.001754707307555,0.055983271449804,0.011727987788618,-0.009300369769335,0.032958615571260,-0.010547908954322,-0.047347016632557,0.038844380527735));
res += mul(Get(s0,-dx,dy), float4x4(0.016702417284250,-0.010503668338060,-0.021387655287981,-0.006260148249567,0.017131298780441,0.027211476117373,-0.027047866955400,-0.000532600388397,0.036717779934406,0.048756614327431,0.015195921063423,0.022896727547050,0.014168057590723,-0.022647550329566,-0.017377601936460,0.051585186272860));
res += mul(Get(s0,0,-dy), float4x4(0.044280745089054,-0.001738104736432,0.033967901021242,-0.010089246556163,0.043268896639347,-0.003120791167021,-0.017565265297890,0.051934961229563,0.021426936611533,0.028105080127716,0.055808842182159,-0.011346639133990,0.025425687432289,0.062135983258486,0.099843636155128,0.010591560043395));
res += mul(Get(s0,0,0), float4x4(-0.018590856343508,0.066550709307194,0.014282354153693,-0.033099785447121,0.039822921156883,-0.019180307164788,-0.021672168746591,0.070305399596691,-0.006252364255488,-0.026542128995061,-0.042125433683395,0.077226825058460,-0.059846617281437,0.128903001546860,0.030960574746132,-0.030823063105345));
res += mul(Get(s0,0,dy), float4x4(-0.002211792394519,-0.001691707060672,-0.047437436878681,0.009591781534255,0.000170854851604,-0.004565484821796,-0.005189288407564,0.019828731194139,0.044565703719854,0.008690060116351,0.035696320235729,0.036496482789516,-0.029267629608512,0.018189148977399,-0.047791782766581,0.088685669004917));
res += mul(Get(s0,dx,-dy), float4x4(0.030426852405071,0.011423352174461,-0.013349805958569,-0.030585926026106,0.055740293115377,0.005240291822702,-0.018496667966247,0.025941373780370,0.013108648359776,-0.007569220382720,0.039138413965702,-0.003285940038040,0.026429984718561,-0.008217838592827,0.013602539896965,-0.016981299966574));
res += mul(Get(s0,dx,0), float4x4(-0.017865376546979,0.004254524596035,-0.022802371531725,-0.010174979455769,0.036073207855225,0.023325823247433,-0.002188490936533,0.000142091565067,0.007909919135273,-0.020067144185305,-0.025888407602906,0.002422144403681,-0.039468035101891,0.043171159923077,0.011428071185946,0.012754593044519));
res += mul(Get(s0,dx,dy), float4x4(0.009275140240788,-0.008372357115149,-0.014137053862214,-0.006604898255318,0.014674592763186,0.016384266316891,-0.023322029039264,-0.001897098263726,0.029318468645215,0.005299609154463,0.024854376912117,0.027496995404363,-0.009125964716077,0.058766942471266,0.010123739019036,0.051708336919546));
res += mul(Get(s1,-dx,-dy), float4x4(-0.005762184504420,0.013614238239825,-0.048660468310118,-0.017210442572832,0.025962196290493,-0.013597055338323,-0.038119215518236,-0.008823662064970,0.049463223665953,-0.020067822188139,0.081896461546421,-0.016280261799693,0.012232682667673,-0.010315869934857,-0.022574985399842,0.045931953936815));
res += mul(Get(s1,-dx,0), float4x4(0.009791741147637,0.030220525339246,-0.024470549076796,0.028457045555115,-0.001672450336628,-0.015047817490995,-0.007518790196627,-0.034628797322512,0.036776997148991,-0.049095693975687,-0.083417341113091,0.018552180379629,0.049022585153580,-0.009642959572375,0.008489072322845,0.059735093265772));
res += mul(Get(s1,-dx,dy), float4x4(0.041544470936060,0.028476336970925,0.050615385174751,0.020433375611901,-0.021663986146450,-0.039574116468430,-0.036731135100126,-0.037868332117796,0.025810774415731,-0.026386316865683,-0.049513649195433,-0.008667250163853,0.039978154003620,0.014401616528630,0.001148777781054,0.015333210118115));
res += mul(Get(s1,0,-dy), float4x4(0.020063329488039,-0.006854253821075,-0.029481360688806,-0.017828956246376,0.033871810883284,0.005011415109038,-0.018617546185851,0.005643301643431,-0.013364723883569,0.058129962533712,0.126079097390175,-0.080972261726856,0.033819675445557,0.027150440961123,-0.000544767477550,0.035548903048038));
res += mul(Get(s1,0,0), float4x4(0.040927752852440,-0.017383888363838,-0.042430687695742,0.033999416977167,-0.006186036393046,0.016943039372563,0.019192893058062,-0.019699759781361,-0.036797925829887,-0.019060909748077,-0.091906145215034,-0.011300250887871,0.055062610656023,0.041852686554193,0.004023704677820,0.012990309856832));
res += mul(Get(s1,0,dy), float4x4(0.085738159716129,0.001599441631697,0.026913467794657,0.038754671812057,-0.019926642999053,-0.013926329091191,-0.009523909538984,-0.028299964964390,0.014464939013124,-0.053535070270300,-0.051868185400963,0.020839886739850,0.039367496967316,0.042529799044132,-0.046114373952150,0.008655610494316));
res += mul(Get(s1,dx,-dy), float4x4(-0.021654309704900,-0.027751084417105,-0.042176097631454,-0.043598350137472,0.058613281697035,0.002560269087553,-0.015046449378133,0.031068168580532,-0.049302913248539,0.025488795712590,0.053480062633753,-0.010448459535837,0.027015622705221,0.050753470510244,0.037745866924524,0.003235969226807));
res += mul(Get(s1,dx,0), float4x4(0.002782200928777,0.020913511514664,-0.020423308014870,-0.041234303265810,0.037970837205648,-0.000672953319736,0.022838145494461,0.017784636467695,-0.080309823155403,0.025915591046214,-0.055922564119101,-0.019524727016687,-0.009039744734764,0.071644514799118,0.001288091298193,-0.015181125141680));
res += mul(Get(s1,dx,dy), float4x4(0.011983888223767,-0.006081268191338,-0.008054025471210,-0.029958311468363,0.016477681696415,-0.013214119710028,0.006212484091520,-0.011087135411799,-0.036485027521849,0.002625956432894,-0.027571579441428,-0.014889492653310,0.010019449517131,0.046507339924574,-0.021727889776230,0.011328835040331));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017339929938316,0.012222097255290,-0.001464913366362,-0.009908533655107,0.035928197205067,0.009399291127920,0.007776656653732,0.021747916936874,-0.062217377126217,-0.059719040989876,-0.056509237736464,-0.049977492541075,0.067460425198078,-0.031470973044634,-0.029266372323036,0.008080931380391));
res += mul(Get(s2,-dx,0), float4x4(-0.020282918587327,0.009177603758872,-0.014976778067648,0.015732837840915,0.038245618343353,0.009250470437109,-0.003132043406367,0.003554213559255,-0.070398218929768,0.017275635153055,-0.040250629186630,-0.021483551710844,0.026569178327918,-0.037183329463005,-0.020242532715201,-0.012825848534703));
res += mul(Get(s2,-dx,dy), float4x4(0.013362669385970,0.000732653192244,-0.002450135070831,0.028415156528354,0.032427929341793,0.009600128047168,-0.041185554116964,0.006037212908268,-0.036778792738914,-0.038898907601833,0.042546298354864,-0.056716974824667,0.018441768363118,-0.089243620634079,-0.044349558651447,-0.006689732894301));
res += mul(Get(s2,0,-dy), float4x4(0.017424581572413,-0.007092567160726,-0.007026630453765,0.034474372863770,0.017307993024588,0.007743969094008,0.008086013607681,-0.018680002540350,-0.076779834926128,-0.031742960214615,-0.061927270144224,-0.021772649139166,0.044714435935020,-0.019672524183989,-0.031209059059620,0.033427149057388));
res += mul(Get(s2,0,0), float4x4(0.043104946613312,-0.006546874530613,0.007843184284866,0.033926915377378,-0.010314371436834,0.057898182421923,-0.032059960067272,-0.026538152247667,-0.005122020840645,-0.062894687056541,-0.023675361648202,0.173476710915565,0.009009223431349,0.023706583306193,0.095744788646698,-0.032208658754826));
res += mul(Get(s2,0,dy), float4x4(0.022872244939208,0.022275213152170,-0.016292123124003,0.008919777348638,0.030707266181707,0.003851828165352,-0.045163374394178,0.056362226605415,0.007092275656760,-0.004047195892781,0.145435035228729,-0.065975680947304,-0.034825265407562,0.001971039921045,-0.030803870409727,-0.043479043990374));
res += mul(Get(s2,dx,-dy), float4x4(0.018575917929411,0.051421318203211,0.020884327590466,0.012338263913989,0.017923543229699,-0.001678593456745,-0.021915270015597,0.022082880139351,-0.075865797698498,-0.020855469629169,-0.030252207070589,-0.009231097064912,0.030603598803282,-0.020524704828858,-0.025238187983632,-0.020194688811898));
res += mul(Get(s2,dx,0), float4x4(-0.005401890259236,0.073884122073650,0.012185504660010,-0.019997069612145,-0.004157021641731,-0.023108124732971,-0.022846773266792,0.071020781993866,-0.018453216180205,-0.013237377628684,-0.032081112265587,-0.009520109742880,-0.023228988051414,-0.022747930139303,-0.006840533111244,-0.051489729434252));
res += mul(Get(s2,dx,dy), float4x4(-0.010196289978921,0.046383369714022,-0.020851084962487,-0.002211999846622,0.042676538228989,0.004885616246611,-0.000003057226422,0.013116615824401,-0.020399590954185,-0.023043993860483,0.043191004544497,-0.050137493759394,-0.055090885609388,-0.032476231455803,-0.068751841783524,-0.014042096212506));
res += mul(Get(s3,-dx,-dy), float4x4(-0.003304671961814,0.003684723516926,0.010359918698668,0.036089770495892,0.063960961997509,0.003380282782018,0.026899829506874,0.037628624588251,-0.008376355282962,-0.007584959268570,-0.008825125172734,-0.018888432532549,0.017579678446054,-0.034236107021570,0.014761015772820,-0.027750097215176));
res += mul(Get(s3,-dx,0), float4x4(0.008747965097427,0.063149347901344,0.089527785778046,0.010675430297852,0.087451599538326,0.033598709851503,0.079708330333233,0.019315073266625,-0.012927774339914,0.000342643819749,-0.008903216570616,-0.011765339411795,0.041557036340237,-0.021181326359510,0.022194372490048,0.001505615655333));
res += mul(Get(s3,-dx,dy), float4x4(0.005001737736166,-0.010469046421349,0.024806765839458,0.020281920209527,0.073580406606197,-0.014284582808614,0.046916622668505,0.021470885723829,0.003443628083915,-0.002693122485653,0.019332278519869,-0.005899722687900,0.089729264378548,-0.014807383529842,0.027073169127107,-0.013308068737388));
res += mul(Get(s3,0,-dy), float4x4(-0.009508350864053,-0.011444117873907,-0.018075259402394,0.031573332846165,0.021483737975359,-0.027633128687739,-0.001334714237601,0.010735766962171,-0.007928070612252,0.004955656360835,0.002373611088842,-0.010626660659909,-0.030476069077849,0.008276198059320,0.009274922311306,-0.046075567603111));
res += mul(Get(s3,0,0), float4x4(0.063908770680428,-0.023324560374022,0.056186385452747,0.145770356059074,0.019010519608855,-0.010246316902339,0.030028058215976,0.021099640056491,0.005692753475159,-0.012921345420182,-0.017678210511804,0.022372107952833,-0.027025086805224,-0.028372684493661,0.004376236349344,-0.036743875592947));
res += mul(Get(s3,0,dy), float4x4(-0.004693317227066,0.081616431474686,0.117541350424290,-0.016557803377509,0.023035256192088,-0.037274871021509,0.042617347091436,0.021772332489491,0.006634820718318,0.012821564450860,0.034809876233339,-0.002478287322447,0.044286467134953,0.023753799498081,0.075091004371643,-0.033606730401516));
res += mul(Get(s3,dx,-dy), float4x4(-0.009672476910055,0.008742607198656,-0.003734817262739,0.034952100366354,-0.011776654049754,-0.051046602427959,-0.075717099010944,-0.052914556115866,-0.006770000793040,0.037159636616707,0.044278059154749,-0.027288157492876,-0.029451834037900,-0.016470190137625,-0.003430911106989,-0.025804564356804));
res += mul(Get(s3,dx,0), float4x4(0.032210931181908,0.019503964111209,0.047487515956163,0.021013721823692,0.001124792732298,-0.033211495727301,-0.059360835701227,-0.029373072087765,0.010055578313768,0.008498160168529,-0.018559856340289,0.002175820758566,-0.043257664889097,-0.023705037310719,0.017214013263583,-0.026503220200539));
res += mul(Get(s3,dx,dy), float4x4(-0.004416238050908,0.024541793391109,0.018207048997283,0.026450699195266,-0.011085374280810,-0.052077166736126,-0.040400240570307,-0.056177761405706,0.020501574501395,0.006668225396425,0.015573536977172,-0.004321758635342,0.010723353363574,0.010646464303136,0.043568283319473,-0.012563164345920));
res = max(float4(0,0,0,0), res);
return res;
}
