sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042655494064093,-0.085958555340767,0.041943360120058,0.072255924344063,0.008917653001845,0.008888741023839,-0.008777804672718,0.024220075458288,0.005722965113819,-0.006269568111748,-0.009219465777278,0.043591085821390,-0.000531403115019,-0.008935047313571,-0.008323187008500,0.024661423638463));
res += mul(Get(s0,-dx,0), float4x4(-0.016067421063781,-0.038081906735897,0.061756096780300,0.120661810040474,0.020620189607143,0.008069910109043,0.044741105288267,0.030288858339190,0.005123655777425,0.005592722445726,-0.004978830926120,0.030568283051252,-0.006744441110641,-0.003723102621734,-0.000667276268359,0.023401537910104));
res += mul(Get(s0,-dx,dy), float4x4(0.036891732364893,-0.001943592913449,0.065393164753914,-0.061860229820013,-0.014904853887856,-0.024119893088937,-0.019526394084096,0.026209739968181,0.001301244948991,-0.000858749845065,-0.016634723171592,0.003967787604779,-0.018637983128428,-0.002571022836491,-0.003581529017538,0.011828258633614));
res += mul(Get(s0,0,-dy), float4x4(0.032180070877075,0.080350548028946,-0.082660585641861,0.042527724057436,0.016585879027843,0.019647317007184,0.015441323630512,0.005223571788520,0.017557445913553,0.023654604330659,-0.008979161269963,0.013732509687543,0.001059326925315,-0.005722485482693,-0.007439667358994,0.022406201809645));
res += mul(Get(s0,0,0), float4x4(0.047819502651691,0.116612873971462,-0.113177709281445,0.004216178786010,0.016490131616592,0.024135304614902,0.043675158172846,0.027602696791291,0.034472815692425,0.006080749444664,0.021863937377930,-0.008762571029365,-0.001057493733242,-0.004971433896571,-0.017285317182541,0.010093293152750));
res += mul(Get(s0,0,dy), float4x4(0.092740774154663,0.059791099280119,-0.032518044114113,-0.129279389977455,-0.015033299103379,-0.014530708082020,-0.036110855638981,0.011668156832457,0.005682412534952,-0.029001085087657,-0.006799647118896,-0.012641035020351,-0.003305606776848,-0.007519587408751,-0.002011264208704,-0.002159060677513));
res += mul(Get(s0,dx,-dy), float4x4(0.034283388406038,0.060684621334076,-0.175217479467392,0.084040038287640,0.005354173481464,0.002745203673840,-0.001576509210281,0.014407796785235,0.002997996751219,-0.011368056759238,0.011840196326375,0.048432324081659,-0.000322653097101,0.011446117423475,0.026923511177301,-0.002492909319699));
res += mul(Get(s0,dx,0), float4x4(0.071968860924244,0.049046237021685,-0.191241189837456,-0.020677996799350,0.016149643808603,0.000067873654189,0.004861214663833,-0.001569960964844,0.008801438845694,-0.013344078324735,0.018506968393922,0.015459080226719,0.003672258462757,0.011045369319618,0.006591021548957,0.003195446450263));
res += mul(Get(s0,dx,dy), float4x4(0.142591908574104,-0.012167421169579,-0.113603129982948,-0.108504399657249,-0.014065402559936,-0.029745427891612,-0.036348093301058,0.005623398348689,-0.005153783597052,-0.020189492031932,-0.007255455944687,-0.013467118144035,-0.013236279599369,-0.019240982830524,0.012744668871164,0.013266016729176));
res += mul(Get(s1,-dx,-dy), float4x4(0.000886088935658,0.010824694298208,0.008542746305466,0.004610512405634,-0.004808980971575,0.041841559112072,-0.022808937355876,-0.007079492788762,-0.004665811080486,0.000827271491289,-0.020220901817083,0.059310365468264,-0.033200852572918,0.049862653017044,0.016808433458209,-0.006617916747928));
res += mul(Get(s1,-dx,0), float4x4(0.005968772806227,0.003275798400864,-0.004130488261580,-0.006884859409183,0.011907361447811,0.018958380445838,-0.000044117034122,0.009929823689163,0.020637689158320,0.042385581880808,0.100186847150326,0.047054581344128,-0.018209915608168,-0.007766925729811,0.007026510778815,0.049053914844990));
res += mul(Get(s1,-dx,dy), float4x4(-0.000978744472377,0.004805272910744,-0.004836850799620,0.009291760623455,0.001503090490587,-0.002550928853452,0.024799313396215,0.043222926557064,-0.033689897507429,-0.018667273223400,0.002914096694440,0.037728909403086,-0.002717877039686,-0.020983224734664,-0.002465745666996,0.003980882931501));
res += mul(Get(s1,0,-dy), float4x4(-0.001912791747600,-0.008136016316712,-0.000518270477187,-0.001594721805304,-0.002280609682202,0.059963300824165,-0.051689911633730,-0.007344986777753,-0.002885722089559,-0.004850197583437,-0.001240617479198,0.015249860472977,-0.038120672106743,0.062808305025101,0.049888405948877,-0.035118173807859));
res += mul(Get(s1,0,0), float4x4(0.004054154735059,0.003065541386604,-0.012886036187410,0.003331481711939,0.002249521901831,0.026833504438400,0.008548882789910,0.017411110922694,0.016631662845612,0.017599470913410,0.105232052505016,0.021442722529173,-0.022389316931367,-0.005817955825478,0.032615907490253,-0.010089701041579));
res += mul(Get(s1,0,dy), float4x4(0.003383258124813,0.006878615822643,0.005533077288419,0.006773888599128,-0.011078375391662,0.000933481846005,0.054133355617523,0.060255240648985,-0.037952426820993,0.005668302532285,-0.022178769111633,0.022521749138832,0.002955379430205,-0.077193520963192,-0.048319723457098,-0.040287904441357));
res += mul(Get(s1,dx,-dy), float4x4(0.000935705029406,0.005573333241045,0.012488591484725,0.004877200815827,-0.006000515539199,0.031235437840223,-0.061119675636292,-0.011955775320530,0.008351189084351,-0.010876024141908,0.005250944290310,0.009486962109804,-0.006997965741903,-0.016931433230639,0.014536130242050,-0.011011742986739));
res += mul(Get(s1,dx,0), float4x4(0.014479253441095,0.000748182879761,0.001957388129085,0.000709319952875,-0.004856749903411,-0.008727231062949,0.003014872083440,0.024206053465605,0.024681590497494,-0.040528837591410,0.053028844296932,-0.011174259707332,-0.005744942929596,0.004364948719740,-0.014381283894181,-0.033425595611334));
res += mul(Get(s1,dx,dy), float4x4(-0.002186636906117,-0.004752468317747,0.004374277777970,0.002188084879890,-0.003773129545152,-0.010412960313261,0.025353949517012,0.072119906544685,-0.035387463867664,-0.001549458131194,-0.069551214575768,0.004502713214606,0.016436779871583,-0.026670558378100,-0.037892285734415,-0.057086192071438));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046199638396502,-0.004590614698827,0.004454794339836,0.129730775952339,-0.010877018794417,-0.025458121672273,0.005631031468511,0.023465935140848,-0.001102220732719,-0.020445808768272,0.021738890558481,0.000641346152406,-0.006142735946923,-0.006491861306131,-0.015597070567310,0.036952782422304));
res += mul(Get(s2,-dx,0), float4x4(-0.063277728855610,0.005240809172392,0.050465844571590,0.140532985329628,-0.015914896503091,-0.037182901054621,-0.014210015535355,0.021878039464355,0.011376313865185,-0.036444399505854,-0.007322253659368,0.007619527168572,-0.004548442550004,-0.005480095278472,-0.019839707762003,0.080668061971664));
res += mul(Get(s2,-dx,dy), float4x4(-0.087934717535973,-0.031172690913081,0.054667849093676,0.075826041400433,-0.045067429542542,-0.033649198710918,-0.039602298289537,0.011424176394939,0.022337811067700,-0.043112803250551,-0.013080854900181,0.012419721111655,0.002563250716776,0.008725266903639,-0.025671513751149,0.063315048813820));
res += mul(Get(s2,0,-dy), float4x4(-0.039325106889009,-0.049152761697769,-0.063955076038837,0.037114806473255,0.021808696910739,0.032341018319130,-0.070298418402672,-0.002935203490779,0.010868481360376,-0.005489955190569,-0.001630359562114,0.010067549534142,-0.000575787678827,-0.017367787659168,-0.007583990693092,0.067452147603035));
res += mul(Get(s2,0,0), float4x4(0.009639361873269,0.006779956165701,0.044656969606876,0.022669563069940,0.025134669616818,-0.022696139290929,-0.045374233275652,-0.029062226414680,0.028428200632334,-0.021230781450868,-0.018011301755905,0.028703987598419,-0.002114681061357,-0.016734724864364,-0.028547665104270,0.075809776782990));
res += mul(Get(s2,0,dy), float4x4(-0.043401438742876,-0.063960261642933,0.006985376589000,0.046597696840763,-0.054313339293003,-0.028090747073293,0.054039072245359,-0.007537140045315,0.036665759980679,-0.015506416559219,-0.004166239406914,0.035920780152082,0.016959249973297,0.000898764294107,-0.024583665654063,0.043725036084652));
res += mul(Get(s2,dx,-dy), float4x4(-0.032775446772575,-0.020159102976322,0.051266334950924,-0.085587173700333,0.071405559778214,0.006401335354894,-0.074248313903809,-0.016632139682770,0.022671427577734,0.023441573604941,0.019304074347019,0.020642228424549,-0.004916850477457,-0.014433467760682,0.012487620115280,0.040018174797297));
res += mul(Get(s2,dx,0), float4x4(-0.008847363293171,0.009249479509890,0.179569885134697,-0.112080611288548,0.096926234662533,0.001177936210297,-0.091580808162689,-0.060878030955791,0.006031497381628,-0.008940681815147,0.011076586320996,0.071996912360191,0.008727828972042,-0.007084643933922,-0.000633727759123,0.039101876318455));
res += mul(Get(s2,dx,dy), float4x4(-0.070523485541344,-0.065319396555424,0.056627113372087,-0.032301869243383,0.041270226240158,0.007749981712550,0.056121949106455,-0.025083292275667,0.007237357553095,0.019891787320375,0.004555668681860,0.062899447977543,0.003023609053344,0.000799898756668,0.000433078239439,0.014854743145406));
res += mul(Get(s3,-dx,-dy), float4x4(-0.032357085496187,0.046364739537239,0.139336124062538,-0.017088804394007,-0.045207411050797,-0.069329783320427,0.000461697753053,-0.006107200402766,-0.000874590245076,-0.005945679731667,0.004052792675793,0.005737963132560,-0.011091393418610,0.045969005674124,-0.006962112616748,0.059963893145323));
res += mul(Get(s3,-dx,0), float4x4(-0.034076672047377,0.077662296593189,-0.014862944371998,0.060146503150463,-0.051105149090290,0.165883824229240,0.094293802976608,-0.059782743453979,0.004996381700039,0.006254071369767,0.005869081243873,-0.005584579892457,-0.065912708640099,0.000618975551333,-0.026718743145466,0.101817339658737));
res += mul(Get(s3,-dx,dy), float4x4(-0.014773034490645,-0.008812508545816,0.177769958972931,0.073714733123779,-0.072064533829689,0.073865510523319,0.047659836709499,0.003678734414279,-0.002108113141730,-0.000028267437301,-0.002097129356116,0.001062113558874,-0.060132060199976,0.062201060354710,-0.003804967273027,0.071867287158966));
res += mul(Get(s3,0,-dy), float4x4(-0.035387739539146,0.047270126640797,0.069180034101009,-0.060817655175924,-0.014721727930009,0.047328144311905,-0.077372021973133,-0.109375931322575,0.001193027012050,0.001464645960368,0.003846934530884,-0.001255771843717,-0.024910409003496,0.000262004556134,0.101486347615719,-0.001148690120317));
res += mul(Get(s3,0,0), float4x4(-0.012232363224030,0.091366469860077,-0.025419911369681,0.008854517713189,-0.026416132226586,0.053525991737843,0.077851668000221,-0.134800702333450,0.004741090815514,0.007120697293431,-0.008942697197199,-0.011938342824578,-0.039847396314144,-0.007765660528094,0.037089198827744,0.058781925588846));
res += mul(Get(s3,0,dy), float4x4(-0.013200371526182,0.007707388140261,0.118967674672604,0.048218701034784,-0.131006717681885,0.000405285623856,0.199383988976479,-0.105480663478374,-0.005535394884646,0.002788470126688,0.016187792643905,0.002818793524057,-0.066694706678391,-0.004061633255333,-0.012389161624014,0.066396854817867));
res += mul(Get(s3,dx,-dy), float4x4(-0.019313374534249,-0.019478846341372,0.012349439784884,-0.058170769363642,0.087693713605404,-0.003532627830282,-0.219920516014099,-0.082185186445713,-0.004219488240778,0.001094694947824,0.007535563316196,0.003581833327189,-0.045788940042257,-0.009118553251028,0.098579868674278,-0.125699564814568));
res += mul(Get(s3,dx,0), float4x4(-0.017540251836181,0.039510376751423,-0.051781944930553,-0.017834488302469,0.088647089898586,-0.130475610494614,-0.084756113588810,-0.102562159299850,0.003386696567759,-0.007510279770941,0.007664133328944,-0.008042723871768,-0.020479541271925,-0.008133376017213,0.052420929074287,-0.107041701674461));
res += mul(Get(s3,dx,dy), float4x4(-0.007437027990818,0.027156215161085,0.074499987065792,0.016552161425352,-0.038304992020130,0.033317919820547,0.089846238493919,-0.103626914322376,0.009535422548652,0.002509730868042,-0.009093238040805,-0.008331891149282,-0.054728418588638,-0.077837109565735,0.023983528837562,-0.059949506074190));
res = max(float4(0,0,0,0), res);
return res;
}
