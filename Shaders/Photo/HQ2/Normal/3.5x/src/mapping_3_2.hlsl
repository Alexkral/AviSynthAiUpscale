sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.019057095050812,-0.023446312174201,-0.000548420473933,0.010193507187068,0.063160575926304,-0.029939755797386,-0.028021210804582,0.093689225614071,-0.022807350382209,0.033969670534134,-0.013601963408291,-0.006353314034641,0.057580973953009,0.022105015814304,0.096109874546528,0.018940469250083));
res += mul(Get(s0,-dx,0), float4x4(0.185236155986786,0.044405203312635,0.038522146642208,0.026434151455760,0.025126583874226,-0.088845834136009,-0.061443589627743,-0.050487134605646,-0.065589271485806,-0.043904006481171,-0.018887691199780,-0.004332796204835,-0.116188779473305,-0.030936291441321,0.084951967000961,0.041861049830914));
res += mul(Get(s0,-dx,dy), float4x4(-0.038975164294243,0.041659697890282,0.024524347856641,0.098644047975540,0.045950163155794,-0.055709734559059,-0.037135876715183,0.000194067411940,0.035656079649925,-0.033902328461409,-0.041853193193674,-0.014322334900498,0.022356856614351,-0.041714366525412,0.017910614609718,0.060353904962540));
res += mul(Get(s0,0,-dy), float4x4(0.019051760435104,-0.033636067062616,0.020981365814805,-0.034886796027422,0.000700784148648,-0.051876485347748,-0.026236165314913,0.040336221456528,0.033436361700296,0.054665736854076,0.008342966437340,-0.089016489684582,-0.008383744396269,0.044312469661236,-0.109054505825043,-0.013708228245378));
res += mul(Get(s0,0,0), float4x4(-0.328203886747360,-0.053857449442148,-0.016766101121902,0.056203812360764,0.145922318100929,-0.028384570032358,-0.062711797654629,0.014204374514520,0.005404254421592,-0.055184904485941,-0.006626962684095,0.130716711282730,0.185772538185120,-0.009791593998671,-0.100304193794727,0.026570914313197));
res += mul(Get(s0,0,dy), float4x4(0.203627616167068,0.060617577284575,0.023224566131830,0.032336287200451,0.023922124877572,-0.042282905429602,-0.071318387985229,0.054277740418911,0.068165302276611,-0.068381808698177,-0.050747744739056,0.002683874685317,-0.149019569158554,-0.081338480114937,-0.033540610224009,0.041175551712513));
res += mul(Get(s0,dx,-dy), float4x4(0.052490055561066,0.001701890490949,-0.045171573758125,-0.048035729676485,0.032863009721041,-0.071876525878906,0.034456457942724,0.001737852930091,0.042064543813467,0.099153317511082,-0.008870160207152,0.000215273554204,-0.039341341704130,-0.005911874584854,0.096034236252308,0.093276612460613));
res += mul(Get(s0,dx,0), float4x4(0.065576255321503,-0.113749720156193,-0.001782168284990,0.119580432772636,0.043122164905071,0.015746437013149,0.055178716778755,0.018415467813611,0.022965887561440,-0.046157464385033,-0.051150206476450,0.151766061782837,-0.081268280744553,0.008231789804995,0.070059627294540,-0.017690328881145));
res += mul(Get(s0,dx,dy), float4x4(-0.021547997370362,-0.087610140442848,0.007663816679269,-0.046993132680655,-0.092555411159992,-0.010990189388394,-0.032724697142839,-0.080627225339413,0.013734793290496,-0.100675106048584,-0.064105026423931,0.175299972295761,0.030979465693235,-0.089939862489700,-0.005596369970590,0.010697491466999));
res += mul(Get(s1,-dx,-dy), float4x4(0.003760249819607,-0.002993614412844,0.182524636387825,-0.003070097649470,0.028344810009003,0.029544673860073,0.022346835583448,0.089242354035378,-0.081113517284393,-0.070617206394672,0.020503409206867,0.016364162787795,0.047353222966194,0.055233940482140,0.042554505169392,-0.030281411483884));
res += mul(Get(s1,-dx,0), float4x4(-0.146538048982620,-0.069637425243855,0.227081254124641,0.112078718841076,0.050330258905888,-0.071928575634956,0.061325423419476,0.186004370450974,0.183550432324409,0.053863346576691,-0.083377011120319,-0.119604565203190,-0.101693786680698,-0.043665919452906,0.070442192256451,-0.019038030877709));
res += mul(Get(s1,-dx,dy), float4x4(0.092840269207954,-0.085664063692093,0.101607389748096,0.013448073528707,-0.028188528493047,-0.071873031556606,0.007530397735536,0.013646227307618,0.079942896962166,0.050259832292795,-0.032928060740232,-0.005859031807631,0.061641372740269,-0.023885332047939,0.051656246185303,-0.002888991264626));
res += mul(Get(s1,0,-dy), float4x4(-0.003003216814250,0.139963224530220,-0.140386760234833,-0.144324883818626,0.045743245631456,0.162021934986115,-0.079603612422943,-0.017805801704526,0.067952089011669,-0.109920866787434,0.068144269287586,0.032565526664257,-0.142857491970062,0.058375455439091,0.019464394077659,-0.060468245297670));
res += mul(Get(s1,0,0), float4x4(0.083537936210632,-0.022360237315297,-0.125161498785019,-0.022594425827265,0.012593496590853,-0.008988468907773,-0.041242863982916,0.028781263157725,-0.162551164627075,-0.032993629574776,0.006979651283473,-0.108371272683144,0.308354467153549,-0.005195356439799,-0.011290093883872,-0.039385650306940));
res += mul(Get(s1,0,dy), float4x4(0.013404321856797,-0.100812308490276,-0.021860759705305,0.003631527535617,-0.034863922744989,-0.078094385564327,-0.021053520962596,-0.046928353607655,0.152983367443085,0.086220189929008,0.056116897612810,0.005580655299127,-0.095612972974777,-0.009714123792946,-0.017853219062090,-0.019063265994191));
res += mul(Get(s1,dx,-dy), float4x4(-0.077544659376144,0.090697169303894,0.007155749481171,-0.045088417828083,0.096194237470627,0.189982026815414,-0.006492150947452,-0.039955284446478,0.026806542649865,-0.022684782743454,0.099086351692677,-0.068142630159855,-0.141093254089355,-0.006241107359529,0.048102624714375,0.076089546084404));
res += mul(Get(s1,dx,0), float4x4(0.006823820993304,0.008259581401944,0.004737200681120,-0.039374206215143,0.006568295415491,0.081174828112125,-0.020268946886063,-0.039554718881845,-0.046260774135590,-0.035364288836718,0.002767831087112,-0.059767179191113,0.154320627450943,0.012205980718136,0.071767032146454,-0.117001868784428));
res += mul(Get(s1,dx,dy), float4x4(-0.007086029741913,-0.102110408246517,-0.002880926709622,0.006607671733946,0.022380042821169,0.015668874606490,-0.005993939470500,0.031074400991201,0.002398501615971,0.014729066751897,0.087304458022118,0.099669478833675,-0.040673803538084,0.039714947342873,0.006476829759777,0.018460396677256));
res += mul(Get(s2,-dx,-dy), float4x4(0.002321986248717,0.000223160124733,-0.012091232463717,-0.015409825369716,-0.033875264227390,-0.020875180140138,0.034809906035662,-0.131215393543243,-0.071280561387539,0.031041264533997,-0.019528675824404,-0.023104650899768,-0.009199712425470,0.000342519808328,-0.012081263586879,0.003131696488708));
res += mul(Get(s2,-dx,0), float4x4(0.025907820090652,0.017212988808751,-0.016351366415620,0.001647901022807,0.015831587836146,0.047109521925449,-0.021645771339536,-0.120050072669983,0.026056449860334,-0.070028886198997,-0.031775586307049,-0.081045158207417,-0.069970540702343,0.032075151801109,-0.058940507471561,-0.027750398963690));
res += mul(Get(s2,-dx,dy), float4x4(0.005355412606150,-0.002180309733376,-0.017057230696082,0.011607644148171,0.121125496923923,0.091193020343781,0.029788337647915,-0.093825750052929,-0.029360791668296,-0.013665120117366,0.024630472064018,0.007867782376707,-0.020357694476843,-0.039945773780346,-0.038580227643251,-0.037631493061781));
res += mul(Get(s2,0,-dy), float4x4(-0.002038182225078,0.008046200498939,-0.030002616345882,-0.012627996504307,0.027537070214748,-0.037020336836576,0.114531323313713,-0.100109711289406,-0.129680112004280,0.036502271890640,-0.007994283922017,-0.081229746341705,-0.067258924245834,0.032001633197069,-0.009012193419039,0.047796882688999));
res += mul(Get(s2,0,0), float4x4(0.057145137339830,0.007575781084597,-0.032172180712223,0.009153217077255,0.111214049160480,0.020014280453324,-0.001537528820336,-0.008554827421904,0.060509815812111,-0.082259230315685,0.038755647838116,-0.092495508491993,-0.126041755080223,0.082489207386971,-0.068230740725994,-0.016225522384048));
res += mul(Get(s2,0,dy), float4x4(0.001853391528130,0.006247600074857,-0.013769825920463,0.000883028027602,0.138978466391563,0.111944377422333,-0.077847845852375,0.066627316176891,0.046054895967245,-0.041282627731562,0.021052015945315,-0.041002407670021,-0.030874513089657,-0.019232813268900,-0.033715251833200,-0.029093118384480));
res += mul(Get(s2,dx,-dy), float4x4(-0.017068210989237,0.007657360751182,-0.013942077755928,0.004489249549806,-0.048271380364895,-0.076048865914345,-0.033843893557787,0.101767808198929,-0.033836837857962,0.045837458223104,0.044921390712261,-0.034084051847458,-0.029488345608115,-0.039402920752764,-0.016424871981144,0.026075823232532));
res += mul(Get(s2,dx,0), float4x4(0.008142477832735,0.005099988076836,0.004753958433867,-0.003801397280768,-0.053119014948606,-0.049686882644892,-0.014008514583111,0.153189226984978,0.045170828700066,-0.082687772810459,0.107603244483471,-0.046298481523991,-0.053657896816730,0.080202244222164,-0.024879362434149,-0.044090345501900));
res += mul(Get(s2,dx,dy), float4x4(-0.005727695301175,0.005509688518941,-0.003312674583867,-0.001381769310683,0.001040353439748,0.009200597181916,-0.012390969321132,0.207265734672546,0.041279193013906,-0.054417707026005,-0.001037006848492,-0.032548762857914,0.000053494011809,0.024224944412708,0.006816774606705,-0.015908930450678));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024091444909573,0.063239827752113,0.012395041063428,-0.051717244088650,-0.069215923547745,0.007955410517752,0.102036543190479,0.017136087641120,-0.017141610383987,0.045259192585945,-0.057625725865364,0.023299865424633,0.048084132373333,-0.036045365035534,0.017424106597900,-0.057488594204187));
res += mul(Get(s3,-dx,0), float4x4(-0.020369503647089,-0.024504764005542,-0.007026724517345,-0.067746169865131,0.046494144946337,0.032586049288511,0.041486535221338,0.026927793398499,0.149556413292885,0.107783123850822,0.016472635790706,0.038143493235111,0.011292588897049,-0.010825180448592,-0.004465188831091,-0.060827147215605));
res += mul(Get(s3,-dx,dy), float4x4(0.015979256480932,-0.043002855032682,-0.019284406676888,-0.115931645035744,0.019188456237316,-0.034628883004189,0.033461336046457,-0.006504147313535,0.124493673443794,0.061037957668304,-0.071143217384815,-0.017589149996638,-0.061597030609846,0.024023056030273,-0.010869711637497,-0.059504002332687));
res += mul(Get(s3,0,-dy), float4x4(-0.055907804518938,0.074269235134125,0.056922275573015,-0.012744921259582,0.030894450843334,-0.022366734221578,-0.055551469326019,0.021085569635034,-0.060664758086205,-0.060245886445045,-0.052683405578136,0.110567629337311,-0.054989520460367,-0.017448036000133,-0.023528968915343,-0.040316253900528));
res += mul(Get(s3,0,0), float4x4(-0.031790044158697,0.027719549834728,0.023903578519821,-0.006496672518551,0.046955596655607,0.015924427658319,-0.029007809236646,0.040575854480267,0.080832123756409,-0.003016889328137,-0.022058932110667,0.052207663655281,0.004403625614941,-0.023835835978389,-0.047664660960436,-0.079515136778355));
res += mul(Get(s3,0,dy), float4x4(-0.016887435689569,-0.025609271600842,0.018134066835046,-0.013760062865913,-0.061493735760450,0.000193940810277,-0.005335962399840,-0.014945885166526,0.059369791299105,0.132960557937622,-0.035794537514448,-0.004103810526431,-0.059610743075609,-0.007603601552546,-0.019112473353744,-0.024566115811467));
res += mul(Get(s3,dx,-dy), float4x4(-0.053152907639742,0.001230472349562,0.022729594260454,0.027733586728573,-0.037487927824259,-0.046930920332670,0.021601192653179,-0.018288021907210,-0.004006726667285,-0.107711344957352,0.057743888348341,0.075939260423183,-0.027926588431001,-0.029041880741715,0.059489209204912,-0.047218378633261));
res += mul(Get(s3,dx,0), float4x4(0.041722506284714,0.017346218228340,-0.008604208938777,0.019180910661817,-0.040592357516289,-0.006682937499136,0.037309683859348,-0.001940241199918,-0.002411847468466,-0.096917644143105,0.022700460627675,-0.021311126649380,0.017722390592098,0.015526039525867,0.034782052040100,-0.067178331315517));
res += mul(Get(s3,dx,dy), float4x4(0.033346235752106,0.023530799895525,-0.009076488204300,0.045906871557236,0.047555085271597,0.015450122766197,0.023327557370067,-0.038547195494175,0.012667821720243,0.065776817500591,0.014719671569765,0.028954258188605,-0.027420496568084,-0.005472495220602,0.016384102404118,-0.000895279983524));
res = max(float4(0,0,0,0), res);
return res;
}
