sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.036966379731894,-0.046797271817923,0.106617771089077,0.021768059581518,-0.019714733585715,0.022007562220097,0.049737364053726,-0.045984435826540,-0.001148412236944,0.066166557371616,0.109958074986935,0.014920962974429,0.037019111216068,-0.058249436318874,0.107463292777538,0.070717260241508));
res += mul(Get(s0,-dx,0), float4x4(-0.030731761828065,0.005682245362550,-0.014832057990134,0.005173133686185,-0.015700915828347,-0.083332434296608,-0.010749250650406,-0.038755044341087,0.068687804043293,0.041886679828167,-0.000021241881768,0.140523582696915,-0.008467708714306,0.006489614956081,0.093098327517509,0.006827919278294));
res += mul(Get(s0,-dx,dy), float4x4(-0.097145885229111,0.060893122106791,-0.038261163979769,-0.022728610783815,-0.064948253333569,-0.072782248258591,0.051730584353209,-0.108987271785736,-0.073538608849049,0.049082532525063,0.009679240174592,0.042536497116089,0.010241591371596,0.013405923731625,0.064395077526569,0.106801919639111));
res += mul(Get(s0,0,-dy), float4x4(0.066846981644630,-0.064661800861359,0.090069018304348,0.057186964899302,0.083533927798271,0.040511574596167,0.040447276085615,0.028443863615394,-0.071376197040081,0.054725494235754,0.107459351420403,0.025366034358740,0.038311276584864,-0.040452789515257,0.052667338401079,0.042651906609535));
res += mul(Get(s0,0,0), float4x4(0.052067507058382,-0.014152229763567,-0.057460971176624,0.038134686648846,0.043261919170618,-0.112110167741776,-0.009288222528994,0.064980655908585,0.066135853528976,0.097271367907524,0.121648132801056,0.050889611244202,-0.082650884985924,0.037590742111206,0.064430661499500,-0.100924432277679));
res += mul(Get(s0,0,dy), float4x4(0.065333105623722,-0.060299880802631,-0.052658613771200,0.058139409869909,-0.125146850943565,0.063436724245548,0.049520060420036,-0.123939916491508,0.097754418849945,0.007397864945233,0.068278789520264,0.071682944893837,-0.023306438699365,0.038649041205645,0.034560043364763,-0.004554527811706));
res += mul(Get(s0,dx,-dy), float4x4(0.024117965251207,-0.047700401395559,0.005905298050493,-0.008319452404976,0.013911189511418,0.006658224854618,0.008706153370440,-0.079618327319622,-0.061666414141655,0.043977484107018,0.024011742323637,0.076692268252373,0.045997671782970,0.046702049672604,0.000956680334639,-0.015462124720216));
res += mul(Get(s0,dx,0), float4x4(-0.095558434724808,0.029981432482600,-0.105376869440079,-0.059217594563961,0.011037495918572,-0.101254366338253,0.008091852068901,-0.010064587928355,-0.006084866821766,0.073604136705399,0.070252299308777,0.028173705562949,-0.003202968509868,-0.006289920769632,0.008639614097774,0.002915022661909));
res += mul(Get(s0,dx,dy), float4x4(-0.108129777014256,0.028754757717252,-0.046449109911919,-0.139047354459763,0.011216554790735,-0.037760205566883,-0.056393176317215,-0.096143946051598,-0.019719943404198,0.046565856784582,0.141309693455696,0.031219402328134,0.061417236924171,-0.002958991797641,-0.002394815208390,0.026440549641848));
res += mul(Get(s1,-dx,-dy), float4x4(0.032932832837105,-0.115578703582287,0.035293575376272,0.121933043003082,-0.026493366807699,0.053635291755199,-0.065493784844875,-0.040354993194342,-0.062594152987003,-0.010840338654816,-0.026239790022373,-0.038374461233616,-0.073082573711872,0.120526842772961,0.078312031924725,-0.001371220452711));
res += mul(Get(s1,-dx,0), float4x4(0.075845733284950,-0.025939993560314,-0.087033160030842,0.100189737975597,-0.047913327813148,0.004399312660098,-0.060307223349810,-0.010577241890132,0.047937337309122,-0.008823218755424,-0.032236814498901,0.040224015712738,-0.013857456855476,0.015532590448856,-0.000134118192364,0.078472010791302));
res += mul(Get(s1,-dx,dy), float4x4(-0.079422220587730,0.016417616978288,0.003616113215685,-0.030322235077620,0.024893812835217,0.024097749963403,-0.075874395668507,0.018848223611712,0.001570995314978,-0.000292999728117,-0.082135617733002,0.068336077034473,0.004007934592664,-0.072699472308159,-0.100389488041401,0.001760025974363));
res += mul(Get(s1,0,-dy), float4x4(0.071099810302258,-0.175021305680275,0.058905247598886,-0.011412543244660,-0.067426659166813,0.176282986998558,-0.019099662080407,-0.040875378996134,-0.037603899836540,-0.002242129994556,-0.028159044682980,-0.032128419727087,0.005024821963161,0.157690584659576,0.071194119751453,-0.005468974355608));
res += mul(Get(s1,0,0), float4x4(0.064940929412842,-0.086010493338108,-0.143217116594315,0.097224973142147,0.028502725064754,0.002744760131463,-0.030501600354910,-0.057779021561146,0.014570812694728,0.023678679019213,0.005107450764626,-0.070141166448593,0.193051412701607,-0.046614296734333,-0.059087187051773,0.049870647490025));
res += mul(Get(s1,0,dy), float4x4(-0.044814459979534,-0.009528181515634,-0.052462890744209,0.078054547309875,0.031704332679510,0.024692974984646,-0.041283141821623,-0.042467277497053,0.008623952046037,0.020164344459772,0.023775735870004,-0.021079530939460,-0.010735583491623,-0.020306857302785,-0.047284334897995,-0.059928454458714));
res += mul(Get(s1,dx,-dy), float4x4(-0.000747457495891,-0.100315593183041,0.019932715222239,-0.069833405315876,-0.060171827673912,0.073732286691666,-0.121857240796089,-0.024730172008276,-0.038777817040682,-0.024666914716363,-0.046079538762569,-0.033122792840004,-0.042567655444145,0.094181694090366,0.000490971433464,-0.067333504557610));
res += mul(Get(s1,dx,0), float4x4(-0.069736257195473,-0.005799737758934,0.033449966460466,-0.008881415240467,-0.128582581877708,0.062913455069065,-0.057312004268169,-0.062189519405365,0.038819476962090,-0.002403694903478,-0.066800035536289,-0.038994900882244,0.004294069483876,0.078521847724915,-0.007078682072461,-0.030901726335287));
res += mul(Get(s1,dx,dy), float4x4(-0.024946559220552,-0.065891362726688,0.035283207893372,0.039761312305927,-0.001953728962690,0.051208388060331,-0.090086027979851,-0.050093658268452,-0.021886445581913,-0.004877121187747,-0.029102064669132,-0.039471779018641,-0.022244196385145,0.045178156346083,-0.020272271707654,-0.048430606722832));
res += mul(Get(s2,-dx,-dy), float4x4(-0.016070242971182,-0.014945715665817,0.083313040435314,0.018408490344882,-0.009953117929399,0.037985552102327,-0.030701238662004,-0.006360555067658,0.040553241968155,0.007564972620457,0.043634701520205,0.012628193944693,0.069070219993591,-0.043492075055838,0.023398820310831,0.050571974366903));
res += mul(Get(s2,-dx,0), float4x4(-0.000939933175687,0.022119401022792,-0.058867100626230,-0.002315239747986,0.041569236665964,0.021258369088173,0.016615513712168,-0.029072571545839,0.017233379185200,0.013742802664638,0.022251982241869,0.004528267309070,-0.039838362485170,0.048100285232067,0.027564525604248,0.013222368434072));
res += mul(Get(s2,-dx,dy), float4x4(-0.032863505184650,0.049703631550074,-0.082349531352520,0.000608744681813,0.011139152571559,0.028685137629509,0.074597537517548,-0.016202116385102,0.060417205095291,0.001580470940098,-0.006124222185463,0.011453330516815,-0.017243202775717,0.003048160579056,0.005214422475547,0.010462942533195));
res += mul(Get(s2,0,-dy), float4x4(0.013451650738716,0.017749866470695,0.033134125173092,-0.060246359556913,0.043075706809759,-0.043694820255041,-0.035001300275326,0.087115809321404,-0.002302883891389,0.038005992770195,0.068637773394585,0.005900162272155,0.170406624674797,-0.080602176487446,0.028281426057220,0.028133332729340));
res += mul(Get(s2,0,0), float4x4(0.201263040304184,-0.086007311940193,-0.031114213168621,0.048475861549377,-0.106920816004276,0.109775833785534,0.039554636925459,-0.089194923639297,-0.080668330192566,0.027765583246946,0.061518058180809,0.014870894141495,-0.055729139596224,0.061507817357779,-0.033314917236567,0.002093947725371));
res += mul(Get(s2,0,dy), float4x4(0.008735356852412,0.087501704692841,0.139040336012840,-0.104221828281879,0.058411132544279,0.043211836367846,-0.041346628218889,-0.006260716356337,-0.067605920135975,-0.003080778988078,0.032320398837328,-0.044126726686954,-0.000771371764131,0.011726257391274,-0.026778941974044,0.008868447504938));
res += mul(Get(s2,dx,-dy), float4x4(0.020827405154705,0.010228306986392,-0.022710815072060,-0.106428921222687,-0.060336697846651,-0.013798121362925,0.033648096024990,-0.038865800946951,-0.043633341789246,0.065894357860088,-0.028359087184072,-0.000904140411876,0.170499488711357,-0.087851673364639,0.144429802894592,-0.036180201917887));
res += mul(Get(s2,dx,0), float4x4(0.063449822366238,-0.011443526484072,0.044424552470446,-0.134256109595299,0.153231889009476,-0.001380671281368,-0.046337783336639,0.191443085670471,0.042665857821703,0.031936850398779,0.002036748453975,0.062909074127674,0.041988655924797,-0.011348318308592,0.003551516681910,-0.011699553579092));
res += mul(Get(s2,dx,dy), float4x4(0.049355518072844,0.035937618464231,0.149969682097435,-0.075170449912548,-0.046464845538139,0.015695018693805,0.047026820480824,-0.023582315072417,0.037906199693680,-0.047667529433966,-0.020540403202176,-0.055318664759398,-0.026115622371435,0.008150069043040,-0.028959659859538,-0.024341594427824));
res += mul(Get(s3,-dx,-dy), float4x4(0.045249685645103,-0.033529803156853,-0.011583860963583,0.051014419645071,0.013143271207809,-0.056960601359606,0.004616363439709,0.097944132983685,0.014386464841664,0.003121280809864,-0.049195457249880,-0.001075674081221,-0.045032184571028,-0.016444914042950,0.004660487640649,-0.037022460252047));
res += mul(Get(s3,-dx,0), float4x4(0.037929642945528,-0.006045600865036,-0.012192067690194,0.092881612479687,0.040153436362743,-0.056659325957298,-0.085248172283173,0.124035909771919,0.019318839535117,-0.021314505487680,0.063575968146324,0.187132731080055,-0.057616308331490,0.005396524444222,0.046412639319897,-0.025335352867842));
res += mul(Get(s3,-dx,dy), float4x4(-0.047059047967196,-0.041449267417192,0.005859793163836,-0.010078792460263,0.020543653517962,0.015944309532642,-0.095420651137829,0.049325440078974,0.003896236419678,0.011646058410406,-0.188290894031525,0.034610096365213,0.001877489848994,-0.036795813590288,-0.061677530407906,-0.073437616229057));
res += mul(Get(s3,0,-dy), float4x4(-0.063809253275394,-0.012444606050849,0.036962341517210,-0.085206396877766,0.088743999600410,-0.038399711251259,-0.023209825158119,-0.008990408852696,-0.000820081564598,0.056706160306931,0.043779596686363,-0.114492356777191,-0.037190519273281,-0.008297959342599,0.023287875577807,0.017968896776438));
res += mul(Get(s3,0,0), float4x4(0.207960262894630,0.043625481426716,-0.040146216750145,0.135641857981682,0.024915520101786,0.011319832876325,-0.001925643649884,-0.068691283464432,0.173364207148552,-0.031972136348486,-0.065361179411411,0.069223470985889,0.152518406510353,-0.027306510135531,0.044244904071093,0.082564644515514));
res += mul(Get(s3,0,dy), float4x4(-0.113177768886089,-0.035138376057148,-0.041400369256735,-0.062157195061445,-0.015915075317025,0.031774055212736,-0.072271890938282,0.018263006582856,0.016956245526671,0.065512679517269,-0.067336991429329,0.073369078338146,-0.013327816501260,-0.035576734691858,0.004120507743210,-0.050995007157326));
res += mul(Get(s3,dx,-dy), float4x4(0.000944534549490,-0.064478777348995,-0.065918423235416,0.051931690424681,-0.021134292706847,0.113781511783600,-0.028993180021644,-0.025738969445229,0.032229643315077,-0.019769182428718,0.011425332166255,-0.013709831982851,-0.000672567402944,-0.071016207337379,-0.022163199260831,0.013264181092381));
res += mul(Get(s3,dx,0), float4x4(-0.037873264402151,-0.063658617436886,0.060331478714943,-0.045828465372324,-0.038388814777136,0.126605838537216,0.045635685324669,-0.055420376360416,-0.000581096799579,0.074028931558132,0.063759461045265,-0.131759703159332,0.010068872943521,-0.030872812494636,0.063567221164703,0.083309881389141));
res += mul(Get(s3,dx,dy), float4x4(-0.032224491238594,-0.087911024689674,0.020024811848998,0.046401441097260,0.008982971310616,-0.050708990544081,0.023254992440343,-0.048207398504019,-0.014491306617856,0.040276229381561,0.039385948330164,0.017325367778540,-0.089419335126877,0.000467426521936,0.021199328824878,-0.023971289396286));
res = max(float4(0,0,0,0), res);
return res;
}
