sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000010065497918,0.000064609324909,-0.032790381461382,-0.013805311173201,0.000042294872401,-0.000083708022430,0.042718324810266,-0.014873893000185,0.000015375584553,-0.000025371951779,-0.013809381052852,0.078143537044525,-0.000017228219804,0.000009675836736,-0.035602830350399,-0.081856928765774));
res += mul(Get(s0,-dx,0), float4x4(-0.000099701181171,0.000132832632517,-0.012664328329265,0.001665367977694,0.000008217639333,0.000041845876694,0.074049234390259,-0.009509090334177,-0.000076911303040,-0.000118838688650,0.092684075236320,0.079764999449253,0.000072085858847,-0.000058659621573,-0.010890221223235,-0.012614379636943));
res += mul(Get(s0,-dx,dy), float4x4(-0.000000937126117,0.000022477186576,0.039516407996416,0.034036982804537,0.000056937806221,0.000044676715333,0.055668842047453,-0.016882663592696,-0.000020269255401,0.000027624220820,0.016165183857083,0.024720821529627,-0.000007420900147,0.000087205000455,0.039102390408516,-0.049297161400318));
res += mul(Get(s0,0,-dy), float4x4(0.000071363749157,0.000003511803925,-0.017655033618212,-0.049323949962854,0.000038852907892,0.000192358813365,-0.039660952985287,-0.004937942139804,-0.000019000390239,0.000084892853920,0.034443203359842,0.148552641272545,-0.000028352387744,-0.000102251608041,-0.008990192785859,-0.069666944444180));
res += mul(Get(s0,0,0), float4x4(-0.000010738125638,-0.000062522449298,0.079065360128880,0.098092220723629,-0.000050745555200,0.000232629608945,-0.070292085409164,-0.020451258867979,-0.000054122778238,0.000192619627342,0.046702232211828,-0.004165678750724,-0.000024840077458,0.000041280993173,0.078961312770844,0.100928120315075));
res += mul(Get(s0,0,dy), float4x4(0.000072775699664,0.000188536258065,0.040426142513752,-0.014309201389551,0.000104468228528,0.000141989658005,-0.023139845579863,-0.014224928803742,-0.000038406884414,0.000083794242528,0.017530586570501,-0.010045639239252,-0.000025156990887,0.000124301484902,0.059809222817421,-0.024870982393622));
res += mul(Get(s0,dx,-dy), float4x4(0.000051381612138,0.000002553423201,0.039057318121195,0.001368587720208,-0.000003346623544,-0.000002701277936,-0.042741049081087,-0.010410296730697,0.000052982970374,-0.000122298559290,-0.032080829143524,0.103445142507553,0.000078266733908,-0.000131011343910,-0.030865615233779,-0.049756437540054));
res += mul(Get(s0,dx,0), float4x4(0.000110818691610,-0.000003069589184,0.075552433729172,-0.024480156600475,-0.000039591403038,-0.000073305447586,-0.034848075360060,0.001462992280722,0.000016200699974,-0.000024012504582,-0.013094167225063,0.009654883295298,-0.000062738785346,0.000089868677605,0.029226403683424,0.027039080858231));
res += mul(Get(s0,dx,dy), float4x4(0.000023130951377,-0.000039104106691,0.055337917059660,-0.002612571464851,-0.000007195407761,0.000042696170567,-0.029943199828267,-0.005211654119194,0.000039181675675,-0.000085328792920,-0.040608126670122,0.007905167527497,0.000016825120838,0.000036543660826,0.090183764696121,0.024352822452784));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000048697453167,-0.000094526294561,-0.005397983826697,-0.025915294885635,0.000057578228734,-0.000086245236162,-0.012782197445631,-0.023865740746260,-0.000010043373550,-0.000016737350961,-0.012232146225870,-0.006206750404090,0.000059717403929,0.000188023375813,-0.007408729288727,-0.008936793543398));
res += mul(Get(s1,-dx,0), float4x4(-0.000130529966555,0.000041180279368,0.034120567142963,-0.038406137377024,0.000034681212128,-0.000012579740542,-0.002091086469591,-0.010373397730291,-0.000017583797671,-0.000072072922194,0.022102784365416,0.009969766251743,-0.000053235016821,0.000218751636567,-0.057333685457706,-0.038686651736498));
res += mul(Get(s1,-dx,dy), float4x4(0.000022626110876,0.000155439629452,0.020730830729008,-0.041375409811735,-0.000040286053263,0.000027507539926,-0.023634266108274,-0.013865028508008,-0.000025641458706,-0.000173281179741,-0.014072637073696,-0.040382560342550,0.000032501149690,0.000151785090566,-0.000970806635451,0.040647469460964));
res += mul(Get(s1,0,-dy), float4x4(0.000051536073443,0.000120846074424,0.004320895764977,-0.022907577455044,-0.000016991880329,0.000042587427743,0.003138691885397,-0.005806209519506,-0.000022306492610,-0.000115584225568,0.069534525275230,0.100277699530125,-0.000119788157463,0.000089362576546,-0.014018495567143,-0.026335008442402));
res += mul(Get(s1,0,0), float4x4(-0.000002100877964,0.000064132393163,-0.006960581988096,-0.037216577678919,-0.000084264749603,-0.000043833704694,0.029617957770824,0.000535154133104,-0.000159391420311,-0.000176696892595,0.006382220424712,0.003248275490478,0.000025708077374,-0.000013286650756,-0.029460189864039,0.032760571688414));
res += mul(Get(s1,0,dy), float4x4(-0.000062110011640,0.000015574531062,-0.024187527596951,-0.028416773304343,-0.000013511673387,0.000074774747191,-0.005482886917889,0.005934257525951,-0.000000822770062,-0.000019417620933,-0.040735192596912,-0.060136634856462,-0.000067807995947,0.000033589898521,0.013992358930409,0.019802495837212));
res += mul(Get(s1,dx,-dy), float4x4(0.000068563029345,-0.000089582536020,-0.015918133780360,-0.067911155521870,-0.000042855106585,0.000000115788268,-0.018155051395297,-0.000522549380548,-0.000024006154490,0.000034577031329,0.108157396316528,0.035635273903608,-0.000023793201763,-0.000097391181043,0.049537412822247,0.035300374031067));
res += mul(Get(s1,dx,0), float4x4(-0.000011614984942,-0.000088056418463,-0.039627514779568,-0.005810708738863,-0.000108589556476,0.000022334261303,-0.036288637667894,-0.008295332081616,0.000082376849605,-0.000108035863377,0.111216731369495,-0.057119462639093,0.000000633275704,0.000066240514570,0.081721022725105,0.034499187022448));
res += mul(Get(s1,dx,dy), float4x4(0.000049556369049,-0.000011389630345,-0.093682296574116,-0.028336398303509,-0.000104927195935,0.000005409826827,-0.033550061285496,0.011005388572812,-0.000107143663627,0.000032210351492,0.033116940408945,-0.074173152446747,-0.000067170622060,0.000017802203729,0.033570162951946,-0.026131629943848));
res += mul(Get(s2,-dx,-dy), float4x4(-0.000070311099989,0.000065549837018,0.038388721644878,0.001347361132503,-0.000013844049136,0.000045843597036,0.036111678928137,-0.013235934078693,-0.000008192852874,-0.000182950025192,0.024388125166297,0.001417500432581,-0.000017367799956,0.000090973684564,-0.011052345857024,-0.083313509821892));
res += mul(Get(s2,-dx,0), float4x4(0.000076276308391,0.000071119604399,0.019571257755160,-0.009676606394351,0.000029312746847,-0.000061103230109,0.035072315484285,0.025162590667605,0.000011584465938,-0.000118476345961,0.070385798811913,-0.052387870848179,-0.000001750524234,-0.000117468094686,-0.029327161610126,-0.058767769485712));
res += mul(Get(s2,-dx,dy), float4x4(-0.000002420478722,0.000097684685898,-0.000356032891432,-0.010439328849316,0.000076564450865,0.000021240477508,-0.000542670837604,-0.005227881483734,0.000030865005101,-0.000077203178080,-0.009984489530325,-0.031099490821362,-0.000043983323849,-0.000089329761977,0.006240223068744,-0.013375497423112));
res += mul(Get(s2,0,-dy), float4x4(0.000085325104010,0.000072334725701,-0.035572238266468,-0.004106214735657,-0.000011061887562,-0.000113811969641,0.068981252610683,0.020346466451883,-0.000040312803321,0.000170965911821,0.078638575971127,0.022343965247273,-0.000109128937765,-0.000000079517534,0.004029466770589,-0.077786885201931));
res += mul(Get(s2,0,0), float4x4(0.000065248852479,-0.000014661126443,-0.060905601829290,-0.011774370446801,-0.000034343414882,0.000060656857386,0.109103724360466,0.019917087629437,-0.000022358814022,0.000097754840681,-0.066491454839706,-0.061346668750048,-0.000061481427110,-0.000136079557706,0.014272068627179,0.000649300054647));
res += mul(Get(s2,0,dy), float4x4(-0.000003159909511,0.000076852411439,0.017290223389864,0.042494140565395,-0.000117274954391,-0.000008842741408,-0.025618119165301,-0.034688662737608,-0.000058901536249,0.000006503688383,-0.021308900788426,0.012632091529667,-0.000075502022810,-0.000008202090612,0.135070100426674,0.095546454191208));
res += mul(Get(s2,dx,-dy), float4x4(0.000023432328817,-0.000022113452360,0.028738504275680,0.011805566027761,-0.000073237359175,0.000114528469567,0.085926771163940,0.016248086467385,0.000026423871532,-0.000135182795930,-0.005344551987946,-0.023417532444000,-0.000034146385588,-0.000053896888858,0.002194933593273,-0.061327118426561));
res += mul(Get(s2,dx,0), float4x4(-0.000026695959605,0.000023571419661,0.085188150405884,0.056775603443384,0.000003868463864,0.000001482577773,0.014365174807608,-0.019756635650992,-0.000029434417229,-0.000010833722627,-0.024680905044079,-0.035349115729332,-0.000087020765932,-0.000137365452247,-0.015496506355703,-0.006372706033289));
res += mul(Get(s2,dx,dy), float4x4(-0.000093564420240,0.000050475249736,0.093628913164139,0.008700070902705,-0.000005535058335,0.000036442375858,-0.032007411122322,-0.027429770678282,0.000028061107514,-0.000079072211520,-0.032660059630871,0.039673611521721,-0.000001048939907,-0.000007941774129,0.035743508487940,0.022011050954461));
res += mul(Get(s3,-dx,-dy), float4x4(0.000055361317209,-0.000032627838664,-0.005843352060765,0.074875086545944,-0.000023977381716,0.000058446930780,-0.000826477189548,-0.004365274216980,-0.000021562722395,-0.000082342521637,-0.002112708752975,-0.006558781024069,0.000065622756665,-0.000189067330211,-0.043953720480204,0.018653707578778));
res += mul(Get(s3,-dx,0), float4x4(0.000024249671696,-0.000007480220575,0.046662736684084,0.019424000754952,-0.000001929796781,-0.000121276723803,0.050747547298670,0.062360707670450,0.000010654141988,-0.000022517206162,0.018978543579578,-0.008747575804591,-0.000051934093790,-0.000002652603598,-0.067888759076595,0.029195971786976));
res += mul(Get(s3,-dx,dy), float4x4(0.000084410792624,-0.000104206264950,0.015873176977038,0.074890218675137,0.000069707559305,0.000075651347288,-0.010477663949132,0.012554896064103,-0.000050439797633,0.000149799321662,-0.001705348957330,0.000073070928920,-0.000023816783141,0.000103281199699,-0.059216190129519,0.029313892126083));
res += mul(Get(s3,0,-dy), float4x4(0.000036509871279,0.000236425621551,0.042477976530790,0.078226715326309,-0.000034429809602,-0.000012152891941,-0.008579852059484,-0.010145439766347,0.000006916834081,-0.000039122016460,-0.019176159054041,0.008155747316778,-0.000025473444111,-0.000031974268495,0.061370272189379,0.076319403946400));
res += mul(Get(s3,0,0), float4x4(0.000072118302342,0.000089479028247,-0.083717718720436,-0.028392007574439,0.000020612687877,0.000012110008356,0.033330503851175,0.010550491511822,-0.000010414376447,0.000076638709288,-0.027379384264350,-0.006520146504045,-0.000008329468983,-0.000027532416425,0.018352923914790,-0.011344905011356));
res += mul(Get(s3,0,dy), float4x4(-0.000004846879619,-0.000042731426220,0.009677431546152,0.107168227434158,-0.000037474968849,-0.000012369266187,-0.031559102237225,-0.030707441270351,-0.000051999028074,-0.000042617240979,-0.001713291509077,0.002425978193060,-0.000016690097254,-0.000111451285193,-0.004771087318659,0.047283947467804));
res += mul(Get(s3,dx,-dy), float4x4(0.000025291883503,0.000060222802858,0.015284476801753,0.059606611728668,-0.000064225234382,0.000059401303588,-0.048570342361927,-0.083355933427811,0.000074719471741,0.000029806995371,-0.009929264895618,0.017810849472880,0.000022836746211,-0.000048851030442,0.084876567125320,0.043471813201904));
res += mul(Get(s3,dx,0), float4x4(0.000002541586355,0.000044928932766,-0.035943705588579,0.040519651025534,0.000065294480009,-0.000098317679658,-0.011583016254008,-0.071010589599609,-0.000019154955226,-0.000012154622709,-0.039647538214922,0.011528545990586,0.000001705433874,0.000041984763811,0.121791161596775,0.006748524960130));
res += mul(Get(s3,dx,dy), float4x4(-0.000000141046939,-0.000081590966147,-0.050177033990622,0.088155679404736,-0.000029065664421,-0.000071077483881,-0.015432788059115,-0.061289213597775,0.000008445168532,-0.000056108667195,-0.023743515834212,0.007835639640689,0.000015759182133,-0.000024254153686,0.045720186084509,0.033491238951683));
res = max(float4(0,0,0,0), res);
return res;
}
