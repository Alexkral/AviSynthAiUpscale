sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.043092880398035,-0.092905864119530,0.217623531818390,0.049277238547802,0.040688067674637,-0.175014391541481,0.012610479258001,0.056430496275425,0.058374743908644,0.038961678743362,0.005772328004241,-0.012571034021676,-0.042400106787682,0.045154225081205,-0.088966064155102,-0.054335217922926));
res += mul(Get(s0,-dx,0), float4x4(0.045425083488226,-0.110125727951527,0.033443238586187,-0.195234969258308,-0.038624621927738,-0.004918931983411,-0.046674776822329,-0.013602873310447,-0.110423013567924,-0.011427152901888,0.011661744676530,-0.037839032709599,0.078205905854702,-0.072860166430473,-0.034557122737169,-0.054843522608280));
res += mul(Get(s0,-dx,dy), float4x4(-0.063701517879963,-0.048729073256254,-0.071663253009319,-0.019313927739859,0.053751692175865,0.018551211804152,-0.024212488904595,-0.000132097222377,-0.031130205839872,0.008368728682399,0.040099337697029,-0.072204448282719,-0.109730482101440,0.083877176046371,-0.076092220842838,-0.123405493795872));
res += mul(Get(s0,0,-dy), float4x4(0.002823352115229,-0.011344597674906,-0.036657534539700,0.181192576885223,-0.021547699347138,0.066350556910038,-0.054585393518209,-0.035355512052774,-0.030736738815904,0.004715303424746,-0.000571619137190,0.124774023890495,-0.025115575641394,-0.027808349579573,-0.038786020129919,-0.014119422063231));
res += mul(Get(s0,0,0), float4x4(0.016394907608628,0.042202163487673,0.060853045433760,0.034277938306332,-0.079183943569660,-0.044748108834028,-0.052285667508841,-0.022380147129297,-0.074836373329163,-0.076453961431980,-0.039188481867313,0.011588279157877,0.020611898973584,-0.049500852823257,-0.054047904908657,0.146974369883537));
res += mul(Get(s0,0,dy), float4x4(-0.005785428453237,-0.079962804913521,0.037928033620119,-0.068481504917145,-0.075575143098831,-0.068081356585026,-0.043635152280331,-0.002470107981935,0.073483489453793,-0.079299911856651,-0.010874985717237,-0.010753338225186,0.075904160737991,0.063269183039665,0.096401982009411,-0.224788844585419));
res += mul(Get(s0,dx,-dy), float4x4(-0.172967985272408,0.118559971451759,0.065837912261486,-0.030715491622686,0.111300021409988,0.057682726532221,-0.194902360439301,0.053043127059937,0.005615950096399,0.012749445624650,-0.047746885567904,0.171177878975868,0.028924949467182,-0.033050246536732,0.067447461187840,0.034683935344219));
res += mul(Get(s0,dx,0), float4x4(0.048849802464247,0.076315604150295,0.163271844387054,0.088133551180363,-0.056903664022684,0.077762372791767,-0.041299887001514,0.088956244289875,0.054192282259464,0.033095665276051,0.043594818562269,0.018195297569036,-0.093338742852211,-0.001736065954901,-0.091133415699005,0.070369936525822));
res += mul(Get(s0,dx,dy), float4x4(0.031791146844625,-0.033924128860235,-0.110298238694668,-0.026858823373914,-0.062642000615597,-0.040881317108870,-0.090297937393188,-0.059457447379827,-0.078413642942905,-0.103520721197128,0.091631494462490,-0.007512903306633,-0.133567973971367,-0.172505393624306,0.077142328023911,0.089392915368080));
res += mul(Get(s1,-dx,-dy), float4x4(0.035531062632799,-0.123898454010487,0.040376242250204,0.043977841734886,-0.061873275786638,0.065732948482037,0.022852063179016,-0.109406054019928,-0.006019104737788,-0.032983709126711,0.030198132619262,-0.050998151302338,0.001538097625598,-0.049625780433416,-0.081240013241768,0.043088849633932));
res += mul(Get(s1,-dx,0), float4x4(-0.045853868126869,0.026365837082267,-0.105731554329395,0.011141473427415,-0.006286530755460,-0.099134027957916,-0.142787858843803,-0.015947675332427,-0.156625971198082,0.063542328774929,0.057965502142906,-0.182416602969170,-0.095332369208336,-0.054258879274130,-0.021401548758149,-0.111179403960705));
res += mul(Get(s1,-dx,dy), float4x4(0.012741002254188,-0.070400103926659,0.063480667769909,0.084602318704128,-0.039326176047325,0.107029318809509,-0.008417567238212,0.019266732037067,-0.036367967724800,-0.053184948861599,-0.009066216647625,0.149305045604706,-0.055371493101120,-0.087875083088875,0.078956961631775,0.055735658854246));
res += mul(Get(s1,0,-dy), float4x4(0.111613988876343,0.024603411555290,-0.148443877696991,-0.038638703525066,0.041519548743963,-0.017384570091963,-0.129036903381348,0.054670665413141,0.060898482799530,-0.068175218999386,0.132876113057137,0.065550528466702,-0.008971272967756,0.113421343266964,-0.021144265308976,-0.047930032014847));
res += mul(Get(s1,0,0), float4x4(-0.016620919108391,0.030879808589816,0.014519403688610,-0.248828500509262,0.069033980369568,-0.160188585519791,-0.005726004019380,0.026580497622490,0.146818771958351,0.096748784184456,-0.102322481572628,0.008819515816867,0.061416935175657,-0.030982229858637,-0.208997443318367,-0.123017199337482));
res += mul(Get(s1,0,dy), float4x4(-0.012581515125930,-0.157235458493233,0.131907746195793,0.001603250158951,-0.109159931540489,-0.118416093289852,-0.007129792124033,0.064889810979366,0.034278649836779,-0.040581148117781,0.132455378770828,-0.037577468901873,-0.034293565899134,-0.107913821935654,0.013583024963737,-0.172899365425110));
res += mul(Get(s1,dx,-dy), float4x4(0.100048877298832,0.063499338924885,-0.119113527238369,-0.033532675355673,-0.023859720677137,-0.052132461220026,0.020393911749125,-0.004790291655809,-0.125615000724792,0.011231835931540,0.009223987348378,0.013830848038197,-0.055430099368095,0.065550297498703,-0.048040624707937,0.036469280719757));
res += mul(Get(s1,dx,0), float4x4(0.089041151106358,0.041530039161444,-0.071717321872711,0.102665551006794,0.019184613600373,0.031186453998089,0.006238674279302,-0.010181085206568,0.037295565009117,0.017545245587826,-0.098467901349068,0.085956782102585,0.072426319122314,0.027622472494841,0.001548695960082,0.056354172527790));
res += mul(Get(s1,dx,dy), float4x4(0.041406292468309,-0.045746270567179,-0.107918709516525,-0.151168212294579,0.020914848893881,-0.099060893058777,-0.123924322426319,0.056743159890175,0.074756532907486,0.023361576721072,0.002148399362341,0.085245311260223,0.060787748545408,-0.092299275100231,-0.024881284683943,-0.227000132203102));
res += mul(Get(s2,-dx,-dy), float4x4(0.035631764680147,-0.136402785778046,0.051710102707148,-0.107574172317982,0.052773863077164,-0.072455756366253,-0.010650794021785,-0.041286241263151,-0.107921622693539,-0.057398092001677,-0.103938773274422,0.111851349473000,0.052808988839388,-0.021478412672877,0.007147114723921,0.173260644078255));
res += mul(Get(s2,-dx,0), float4x4(-0.091386511921883,0.032838046550751,0.057341299951077,0.148733362555504,-0.083911262452602,-0.070507489144802,0.003264758270234,0.119833506643772,0.093193940818310,0.080575816333294,0.007585878018290,-0.081517145037651,-0.078420229256153,0.026945475488901,0.109220378100872,-0.135721802711487));
res += mul(Get(s2,-dx,dy), float4x4(-0.038242608308792,0.024199279025197,-0.029047427698970,-0.046947650611401,0.104096911847591,-0.121729940176010,-0.047091037034988,-0.001611306215636,0.011817319318652,-0.049990106374025,-0.050270710140467,0.009400770068169,-0.024996941909194,0.055717855691910,-0.007449589204043,0.125373184680939));
res += mul(Get(s2,0,-dy), float4x4(0.054740812629461,0.017639353871346,-0.006676987279207,0.094756685197353,-0.040847461670637,0.127344489097595,0.052316304296255,-0.038883771747351,0.053923998028040,-0.047267090529203,0.006434270646423,0.070369705557823,0.121270395815372,0.036532837897539,0.136282667517662,0.132458329200745));
res += mul(Get(s2,0,0), float4x4(0.084110215306282,-0.182300522923470,-0.003968393895775,-0.061656910926104,-0.045078724622726,-0.036769043654203,-0.114251203835011,0.036179699003696,-0.098442912101746,-0.032480668276548,0.057790331542492,0.187760099768639,0.124164305627346,-0.084245182573795,-0.019905131310225,0.090996496379375));
res += mul(Get(s2,0,dy), float4x4(0.047244764864445,0.046840749680996,-0.008612647652626,0.091964751482010,-0.033070575445890,-0.070201806724072,-0.011757105588913,0.187405407428741,-0.051876723766327,-0.110265426337719,0.080343127250671,0.031319592148066,-0.091035708785057,0.063291817903519,-0.038968779146671,0.020851500332355));
res += mul(Get(s2,dx,-dy), float4x4(-0.037908859550953,0.039140552282333,0.066875055432320,-0.056204315274954,0.139480233192444,-0.138469457626343,-0.075715482234955,-0.108154729008675,0.029580235481262,-0.074228420853615,0.004213610664010,-0.053264174610376,0.041864611208439,0.051416207104921,-0.127735570073128,0.079668261110783));
res += mul(Get(s2,dx,0), float4x4(0.021744158118963,0.098176322877407,0.042239405214787,0.039466872811317,0.027408530935645,0.100070022046566,-0.004984481725842,-0.153682023286819,-0.152808427810669,-0.000910093425773,0.007097596302629,0.017528923228383,0.013078412972391,0.011391746811569,0.043136503547430,-0.135236769914627));
res += mul(Get(s2,dx,dy), float4x4(-0.114097356796265,0.024083191528916,-0.051160659641027,-0.097091875970364,-0.126107499003410,0.067040853202343,-0.041548922657967,-0.041061021387577,-0.001194121199660,-0.031471431255341,0.018887946382165,0.022260708734393,-0.103596575558186,0.173034608364105,-0.016552893444896,-0.072014167904854));
res += mul(Get(s3,-dx,-dy), float4x4(0.077419109642506,0.204328596591949,0.036401532590389,0.082145519554615,-0.062932051718235,-0.019763307645917,-0.115077346563339,-0.101179681718349,-0.032024722546339,0.125892475247383,-0.002709805732593,0.004757917951792,0.069516353309155,-0.011412079446018,0.024775976315141,0.063772730529308));
res += mul(Get(s3,-dx,0), float4x4(-0.044060871005058,0.117963589727879,-0.076057061553001,0.111475273966789,-0.086337350308895,-0.089249484241009,-0.007616494782269,0.037227950990200,-0.027098540216684,0.091072030365467,-0.053641688078642,0.033684577792883,0.074924007058144,-0.012015362270176,-0.088726006448269,0.071180209517479));
res += mul(Get(s3,-dx,dy), float4x4(0.043183930218220,-0.094413101673126,0.127920329570770,-0.082356624305248,0.011134436354041,-0.063768766820431,0.109183534979820,0.151900753378868,0.075850717723370,-0.090957753360271,-0.001161035615951,0.044968649744987,0.067849420011044,-0.036198794841766,-0.053222857415676,0.048896625638008));
res += mul(Get(s3,0,-dy), float4x4(-0.107040517032146,0.029611309990287,0.068465754389763,0.047394569963217,0.065049521625042,-0.035452838987112,0.168543413281441,0.019912451505661,-0.046874251216650,0.042481355369091,0.057128291577101,-0.064134739339352,-0.021799705922604,-0.145844712853432,-0.068614095449448,0.028831431642175));
res += mul(Get(s3,0,0), float4x4(0.001332861953415,0.075626000761986,0.030248371884227,-0.050750866532326,0.059220857918262,-0.038735792040825,0.014480431564152,0.134388223290443,-0.069891773164272,0.060493148863316,0.073425553739071,0.010046713985503,-0.231536850333214,-0.077218852937222,-0.043280526995659,-0.065688386559486));
res += mul(Get(s3,0,dy), float4x4(0.062180694192648,0.072779759764671,-0.030452089384198,-0.132529005408287,-0.075902551412582,0.072429500520229,0.044820301234722,-0.057776030153036,0.017349364235997,-0.041467171162367,-0.112980388104916,-0.050539296120405,0.093629896640778,-0.039884205907583,0.073394320905209,0.173725277185440));
res += mul(Get(s3,dx,-dy), float4x4(0.038868408650160,-0.018222056329250,0.029391027987003,0.122417688369751,0.066547259688377,-0.007559559773654,0.003353914013132,0.042112264782190,0.031239757314324,-0.098008625209332,-0.048487264662981,0.049650877714157,-0.045434907078743,-0.058911420404911,0.008803769946098,0.121318019926548));
res += mul(Get(s3,dx,0), float4x4(-0.037441581487656,0.207611545920372,-0.021298311650753,-0.044209051877260,0.031611453741789,0.003135760780424,-0.118402332067490,-0.023447696119547,-0.018962269648910,-0.013299976475537,-0.034883588552475,-0.033506717532873,0.163471579551697,-0.136708498001099,-0.051749929785728,0.194555893540382));
res += mul(Get(s3,dx,dy), float4x4(0.047036990523338,-0.073098085820675,0.102114923298359,0.072419129312038,0.020091980695724,-0.009016346186399,-0.068061001598835,0.070548929274082,0.131213024258614,-0.017763216048479,0.101165778934956,0.017135174944997,0.020563263446093,-0.024351993575692,0.047827281057835,-0.126720264554024));
return max(float4(0,0,0,0), res);
}
