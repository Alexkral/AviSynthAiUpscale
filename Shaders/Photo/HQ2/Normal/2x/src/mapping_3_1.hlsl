sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.084643073379993,-0.069941774010658,-0.126781046390533,0.086491912603378,0.194000750780106,-0.098797276616096,-0.122674874961376,0.025875024497509,0.031787693500519,0.029164452105761,0.012248422019184,0.068046182394028,0.136244177818298,-0.012653147801757,0.101380743086338,-0.041641660034657));
res += mul(Get(s0,-dx,0), float4x4(-0.046324227005243,0.048068661242723,-0.066581778228283,0.020287638530135,0.010857204906642,-0.002767468336970,0.033633165061474,-0.093045108020306,0.148849561810493,-0.007055862341076,0.027504067867994,-0.065646968781948,0.115017615258694,0.019494960084558,0.197300449013710,0.034280922263861));
res += mul(Get(s0,-dx,dy), float4x4(0.023144150152802,-0.171546295285225,0.087539039552212,-0.011389683932066,-0.026487793773413,0.136416226625443,-0.070243299007416,-0.026679726317525,0.040543913841248,-0.065332725644112,0.076561242341995,0.096647202968597,-0.102372758090496,0.024048419669271,-0.217338979244232,0.067372560501099));
res += mul(Get(s0,0,-dy), float4x4(0.154329642653465,-0.099707834422588,-0.017442118376493,-0.035904854536057,0.016360532492399,-0.037837807089090,-0.040148358792067,-0.016585126519203,0.005208320450038,-0.066856175661087,0.082042656838894,-0.074949629604816,0.150478631258011,0.035652615129948,-0.027564939111471,0.021404478698969));
res += mul(Get(s0,0,0), float4x4(0.017752399668097,0.061030060052872,0.018760122358799,0.113583534955978,-0.016595298424363,-0.106558933854103,-0.111016124486923,-0.054991275072098,-0.072339721024036,-0.087943583726883,-0.112029515206814,0.000554507598281,-0.074898473918438,0.099079795181751,-0.026844676584005,-0.029630515724421));
res += mul(Get(s0,0,dy), float4x4(0.095899559557438,0.037795234471560,0.044219579547644,0.079052090644836,-0.184598460793495,0.016528934240341,-0.048955913633108,-0.043485660105944,0.023863943293691,-0.036773260682821,-0.002204519929364,0.176274374127388,0.209224179387093,-0.023566424846649,-0.116398110985756,0.028451012447476));
res += mul(Get(s0,dx,-dy), float4x4(0.062014587223530,-0.107366017997265,-0.089790001511574,-0.027575353160501,-0.017645975574851,-0.046041175723076,0.036379430443048,-0.026104217395186,0.027147689834237,0.158424586057663,0.067123897373676,-0.024558063596487,0.002902981126681,0.027832543477416,-0.042494967579842,0.050620898604393));
res += mul(Get(s0,dx,0), float4x4(0.055206146091223,0.044529154896736,0.010434858500957,-0.104771256446838,0.007536213379353,-0.027588184922934,0.131451904773712,-0.053224641829729,0.006217746529728,0.010621003806591,0.012343521229923,-0.017967348918319,-0.048598207533360,-0.051391087472439,0.122616581618786,-0.036120489239693));
res += mul(Get(s0,dx,dy), float4x4(0.102831304073334,0.039224773645401,-0.040632460266352,-0.069397665560246,-0.036154478788376,0.037894353270531,-0.094145737588406,-0.110018461942673,0.048862695693970,-0.015810551121831,0.094166100025177,-0.028781361877918,-0.179409638047218,-0.156514644622803,0.009716471657157,0.118092082440853));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034038975834846,-0.047937456518412,0.080463625490665,-0.031117051839828,0.072101034224033,-0.054920472204685,-0.078778229653835,0.020958067849278,-0.053141038864851,0.096928201615810,0.194197639822960,-0.109632737934589,0.072096064686775,0.049770049750805,-0.073376692831516,0.075026258826256));
res += mul(Get(s1,-dx,0), float4x4(0.128181412816048,0.119674049317837,0.136864691972733,0.074456550180912,-0.035998221486807,-0.059353891760111,-0.110299833118916,-0.063993997871876,-0.099715106189251,-0.024760978296399,0.070774026215076,-0.014349924400449,0.005842809099704,0.246576339006424,0.039002668112516,-0.015315966680646));
res += mul(Get(s1,-dx,dy), float4x4(-0.033851269632578,-0.029276374727488,-0.023842109367251,0.082230240106583,0.059653751552105,0.055258106440306,-0.030825648456812,-0.079527385532856,-0.036378193646669,0.009508770890534,0.057804230600595,0.005648098886013,0.159890159964561,-0.064740158617496,-0.082522459328175,-0.141144648194313));
res += mul(Get(s1,0,-dy), float4x4(-0.037320949137211,0.084624037146568,-0.034235037863255,0.004050075076520,-0.025276541709900,0.103371813893318,-0.016431892290711,-0.241945460438728,-0.059217821806669,-0.124565944075584,0.000760859402362,0.072297312319279,0.112804740667343,0.070392854511738,-0.130053699016571,0.051676016300917));
res += mul(Get(s1,0,0), float4x4(-0.110207989811897,0.050080098211765,-0.110274210572243,-0.007708047516644,-0.056686244904995,-0.025815458968282,-0.088593609631062,0.036310102790594,-0.026771008968353,0.027420477941632,0.015277663245797,0.034385085105896,0.086287960410118,-0.045578289777040,-0.124013148248196,-0.112083002924919));
res += mul(Get(s1,0,dy), float4x4(-0.099476762115955,-0.050067141652107,-0.022626774385571,0.073307558894157,0.018751764670014,0.125713005661964,0.020794766023755,0.115505822002888,-0.041658893227577,0.007705526892096,0.050955820828676,-0.060295496135950,-0.061177648603916,-0.086118288338184,0.011996304616332,0.140112519264221));
res += mul(Get(s1,dx,-dy), float4x4(-0.047184724360704,0.159437328577042,-0.058845460414886,-0.149916037917137,0.072771131992340,-0.001822765683755,-0.035518895834684,-0.059880875051022,-0.044244121760130,0.052907310426235,-0.044852595776320,-0.121028229594231,-0.120610579848289,-0.096425160765648,0.141217052936554,0.023394070565701));
res += mul(Get(s1,dx,0), float4x4(0.033467069268227,0.071629375219345,-0.017493873834610,0.003217130666599,0.223434403538704,0.048334833234549,-0.031589340418577,0.186921864748001,0.010037292726338,0.025413386523724,-0.116315513849258,-0.026644337922335,-0.027888596057892,0.042142953723669,-0.004474846180528,0.014445888809860));
res += mul(Get(s1,dx,dy), float4x4(-0.170466691255569,0.074713438749313,-0.018194833770394,0.005860907491297,-0.050094041973352,-0.017820091918111,0.063621483743191,-0.046752240508795,0.024834152311087,-0.054037366062403,0.038088612258434,-0.120373316109180,0.056407861411572,0.006824568379670,0.025533715263009,-0.033999878913164));
res += mul(Get(s2,-dx,-dy), float4x4(-0.166303545236588,0.066477328538895,0.010245432145894,0.033878896385431,-0.050352502614260,-0.056673694401979,0.043436966836452,0.079770594835281,0.055907607078552,-0.085048630833626,0.028675129637122,0.018732810392976,0.193640232086182,0.030564961954951,0.090083844959736,0.017166556790471));
res += mul(Get(s2,-dx,0), float4x4(-0.155751794576645,-0.012784318998456,0.017558680847287,0.020749989897013,-0.070658557116985,0.000030993018299,-0.079752959311008,-0.027747280895710,-0.048389054834843,0.029860319569707,-0.063401676714420,0.116679146885872,0.110202699899673,0.100688166916370,-0.097505189478397,-0.041633315384388));
res += mul(Get(s2,-dx,dy), float4x4(0.000630282680504,-0.106251925230026,0.199682727456093,0.042477164417505,0.088664457201958,0.050194814801216,0.009997323155403,0.018874123692513,0.172093987464905,0.217475846409798,-0.014367160387337,-0.199630811810493,-0.116636767983437,0.004009053111076,0.107313312590122,-0.042456038296223));
res += mul(Get(s2,0,-dy), float4x4(0.116999059915543,-0.009654019959271,-0.062285725027323,-0.006759092211723,-0.104636415839195,-0.009822551161051,-0.014818900264800,-0.025077410042286,-0.099152140319347,0.070654012262821,-0.094540469348431,-0.138504877686501,0.012703657150269,-0.031063765287399,-0.078550793230534,-0.018974196165800));
res += mul(Get(s2,0,0), float4x4(0.147457003593445,-0.019898438826203,-0.002835348481312,0.060391739010811,-0.058837771415710,0.042122326791286,0.108773343265057,0.111067287623882,0.022422913461924,0.042910553514957,0.001944420044310,0.148751363158226,0.081818349659443,0.110732585191727,-0.132122874259949,0.064662076532841));
res += mul(Get(s2,0,dy), float4x4(-0.097707964479923,0.046702269464731,-0.052531063556671,-0.198482736945152,0.032496612519026,0.096969626843929,0.032371025532484,0.059404920786619,0.202548682689667,-0.069745354354382,0.008202804252505,0.165245488286018,-0.129289701581001,-0.040176484733820,0.267250448465347,-0.013345076702535));
res += mul(Get(s2,dx,-dy), float4x4(0.008501703850925,-0.081938780844212,0.057941600680351,0.020136836916208,0.122569404542446,0.108418516814709,-0.036744888871908,0.159601777791977,0.110164873301983,-0.106761969625950,0.105531476438046,-0.016945965588093,0.023298140615225,-0.049466878175735,0.028109636157751,0.174574971199036));
res += mul(Get(s2,dx,0), float4x4(0.080286592245102,-0.145675703883171,0.027782751247287,0.113741502165794,-0.022229250520468,0.000841724919155,-0.146157279610634,0.009955997578800,0.029698122292757,-0.031059820204973,0.122727014124393,0.117737002670765,-0.012215656228364,0.078546658158302,-0.054259058088064,-0.026482943445444));
res += mul(Get(s2,dx,dy), float4x4(0.001500933431089,0.026214662939310,-0.027293102815747,-0.001424973830581,-0.168592363595963,-0.026182942092419,-0.147971108555794,-0.019727384671569,0.021900588646531,-0.289834082126617,0.064968876540661,0.152813628315926,0.024240178987384,0.000359407451469,0.002023503649980,-0.055091064423323));
res += mul(Get(s3,-dx,-dy), float4x4(-0.047012202441692,-0.066645741462708,-0.005062014330178,0.055147290229797,0.060659788548946,0.021856013685465,-0.161332085728645,0.078850500285625,-0.009442321024835,0.012004457414150,-0.013886129483581,-0.182739317417145,-0.127043962478638,-0.093600831925869,-0.084450498223305,-0.052852649241686));
res += mul(Get(s3,-dx,0), float4x4(-0.138918295502663,0.091152101755142,-0.168258875608444,0.040645983070135,0.058930933475494,0.072162590920925,0.010430842638016,0.047440443187952,0.047385845333338,-0.053196381777525,-0.093857415020466,-0.115170337259769,-0.081796333193779,0.222516879439354,-0.157575204968452,-0.056282643228769));
res += mul(Get(s3,-dx,dy), float4x4(-0.069239079952240,-0.032923359423876,-0.058467645198107,0.051288869231939,-0.061536759138107,0.103822298347950,0.131238132715225,0.077520042657852,0.147228300571442,-0.111379988491535,-0.007195216603577,-0.072043977677822,0.092058926820755,0.034499820321798,-0.118587650358677,-0.034584160894156));
res += mul(Get(s3,0,-dy), float4x4(0.178666308522224,0.112071856856346,0.038700122386217,-0.110609985888004,0.111487179994583,-0.014424139633775,-0.142284467816353,0.026493785902858,-0.044706240296364,0.030170263722539,-0.045392382889986,0.026366109028459,-0.027744855731726,-0.062047135084867,0.027406750246882,0.077439874410629));
res += mul(Get(s3,0,0), float4x4(-0.000297796796076,-0.053121738135815,0.001860184129328,-0.011779181659222,-0.027614468708634,0.087322890758514,0.027343794703484,-0.012355680577457,-0.103200167417526,0.028188046067953,-0.052645619958639,-0.048118680715561,-0.017637956887484,0.033914942294359,-0.022926254197955,-0.047101907432079));
res += mul(Get(s3,0,dy), float4x4(-0.150004521012306,-0.070425681769848,-0.146605253219604,-0.175131753087044,0.106307424604893,0.005163995549083,0.113722272217274,0.077630378305912,0.142915412783623,0.072379902005196,0.129117235541344,0.007741683162749,0.003893332323059,0.106151081621647,0.065285801887512,0.051878362894058));
res += mul(Get(s3,dx,-dy), float4x4(0.179882362484932,-0.053983345627785,-0.051603663712740,0.068311810493469,-0.067762307822704,0.190850719809532,0.019505586475134,0.105182372033596,-0.024804629385471,-0.067822732031345,-0.009244224987924,0.023308882489800,0.093849465250969,0.059914056211710,-0.029243156313896,0.043897051364183));
res += mul(Get(s3,dx,0), float4x4(0.152883350849152,0.035975284874439,-0.013189087621868,0.073735758662224,-0.020618593320251,0.028142364695668,0.037801474332809,-0.047369733452797,0.025434719398618,-0.066117800772190,0.054696887731552,-0.114578567445278,0.023696385324001,0.080642610788345,-0.108146160840988,0.020889276638627));
res += mul(Get(s3,dx,dy), float4x4(-0.044550258666277,0.088235966861248,0.005550266709179,0.084362924098969,0.068997494876385,-0.065032035112381,-0.042581189423800,-0.152227312326431,-0.070885866880417,-0.024390945211053,0.035360038280487,-0.083118483424187,-0.015467929653823,0.038631621748209,0.011656363494694,0.072280786931515));
return max(float4(0,0,0,0), res);
}
