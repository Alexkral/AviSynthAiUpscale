sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.040563926100731,0.002979423385113,-0.002243819879368,0.070667937397957,0.034201547503471,0.064791500568390,0.122747436165810,0.020501041784883,0.037863273173571,-0.038080796599388,-0.081131860613823,0.007362858392298,0.167481452226639,-0.085439115762711,0.054722730070353,0.019052276387811));
res += mul(Get(s0,-dx,0), float4x4(-0.104375429451466,-0.028200173750520,0.032853141427040,-0.165142208337784,0.008166160434484,-0.019225234165788,-0.063567914068699,-0.084348246455193,-0.022668629884720,-0.071726828813553,0.084861770272255,0.099726878106594,-0.186243340373039,0.069875188171864,0.019432323053479,-0.238290995359421));
res += mul(Get(s0,-dx,dy), float4x4(0.034552346915007,-0.076015941798687,-0.024640146642923,0.170297428965569,-0.022279320284724,0.017832329496741,-0.099981799721718,0.063251815736294,0.073385521769524,-0.067339912056923,-0.083726301789284,-0.022007251158357,0.003245092462748,-0.003885617479682,-0.057979330420494,-0.053526356816292));
res += mul(Get(s0,0,-dy), float4x4(-0.106061458587646,-0.231210663914680,0.036358680576086,-0.042638059705496,-0.073356792330742,0.001734799705446,-0.057366929948330,-0.062143925577402,-0.020408883690834,-0.145819425582886,0.124305009841919,0.038863439112902,0.036108382046223,-0.009184707887471,-0.182167410850525,-0.102674722671509));
res += mul(Get(s0,0,0), float4x4(-0.025023469701409,-0.043297089636326,0.055880781263113,-0.131263911724091,0.000634479452856,0.014401502907276,-0.062022637575865,-0.090189039707184,0.062827408313751,0.097690284252167,-0.029390370473266,-0.140572741627693,0.015513483434916,0.043651893734932,-0.068676330149174,0.027086591348052));
res += mul(Get(s0,0,dy), float4x4(0.022162502631545,0.019657576456666,0.052560824900866,-0.118132904171944,0.026531469076872,0.063559383153915,-0.110469460487366,0.163694038987160,0.077632553875446,-0.002632305491716,-0.067354328930378,-0.110673390328884,-0.022133948281407,0.079053975641727,0.053474057465792,-0.012952214106917));
res += mul(Get(s0,dx,-dy), float4x4(0.137679412961006,-0.031818553805351,-0.023615555837750,-0.020836334675550,-0.112533614039421,-0.031825944781303,-0.111667729914188,0.004606903530657,0.017556820064783,-0.015124453231692,0.107865624129772,0.059000767767429,0.056720841675997,-0.080547802150249,0.085514098405838,-0.140074461698532));
res += mul(Get(s0,dx,0), float4x4(0.088732913136482,-0.137610211968422,0.014816709794104,0.104979395866394,0.047401685267687,0.133060783147812,0.142064005136490,0.089535541832447,-0.052012439817190,0.005078395828605,-0.051235020160675,-0.034907277673483,-0.007981317117810,-0.061689477413893,0.016539990901947,-0.013287732377648));
res += mul(Get(s0,dx,dy), float4x4(0.168776467442513,0.065270103514194,-0.054147351533175,-0.096818357706070,0.017119266092777,-0.117870487272739,0.002551804529503,0.064527876675129,0.013392790220678,-0.065106786787510,-0.002091987291351,-0.040756430476904,0.045079004019499,0.036778379231691,0.071746245026588,-0.026411851868033));
res += mul(Get(s1,-dx,-dy), float4x4(0.101262211799622,-0.079664885997772,0.025717496871948,0.044167168438435,0.119410149753094,-0.053402282297611,-0.006196524016559,-0.070772588253021,-0.091167733073235,-0.002136718248948,0.036752238869667,0.121082089841366,0.053326226770878,-0.024215146899223,-0.033934671431780,-0.033218111842871));
res += mul(Get(s1,-dx,0), float4x4(-0.010691654868424,0.099765218794346,0.120304934680462,-0.052346661686897,0.044479068368673,-0.037574153393507,-0.118779070675373,0.024870365858078,0.048392169177532,-0.145997002720833,-0.083285607397556,-0.037889823317528,-0.087944284081459,0.045294776558876,0.069637097418308,0.060971651226282));
res += mul(Get(s1,-dx,dy), float4x4(-0.108220644295216,-0.088559016585350,0.124449364840984,-0.114297106862068,0.021219406276941,0.074892543256283,-0.049201898276806,-0.014488043263555,0.205759853124619,-0.014586612582207,0.016637092456222,-0.156592994928360,-0.078901946544647,-0.040007326751947,-0.045177608728409,0.061061203479767));
res += mul(Get(s1,0,-dy), float4x4(-0.006770034320652,0.091766573488712,-0.050289783626795,-0.005304966121912,0.120877303183079,-0.096654146909714,-0.077786140143871,0.011456000618637,-0.006373166572303,0.064243227243423,0.205827578902245,-0.032617606222630,0.027839588001370,-0.037205126136541,0.145187005400658,-0.010688680224121));
res += mul(Get(s1,0,0), float4x4(0.040928713977337,0.137116119265556,0.000155613088282,0.042417306452990,0.038589227944613,-0.067627482116222,0.007677607238293,0.054729964584112,-0.028315721079707,0.056915163993835,-0.035750385373831,0.011992427520454,-0.012502354569733,0.124182686209679,0.099929310381413,-0.048688489943743));
res += mul(Get(s1,0,dy), float4x4(-0.028176143765450,-0.101862460374832,0.049333661794662,0.027240669354796,-0.037159759551287,0.261259824037552,-0.024425499141216,0.021657558158040,0.146428659558296,0.136662244796753,0.016508275642991,-0.166524469852448,-0.140173211693764,-0.011734436266124,-0.057880759239197,0.021400302648544));
res += mul(Get(s1,dx,-dy), float4x4(0.127385735511780,0.099412195384502,0.106536731123924,0.055055338889360,0.078733019530773,0.096271440386772,0.090629570186138,-0.030689578503370,-0.078767821192741,0.103273198008537,0.096299037337303,0.108073078095913,-0.143567517399788,-0.132949382066727,0.153649479150772,0.156738907098770));
res += mul(Get(s1,dx,0), float4x4(-0.038247276097536,0.043847687542439,0.010596755892038,-0.080110177397728,0.001458717510104,0.082426786422729,0.008736747317016,-0.004781755618751,-0.043883964419365,0.038716815412045,-0.084190160036087,0.117680281400681,-0.141913935542107,-0.184684664011002,-0.023810511454940,-0.121372528374195));
res += mul(Get(s1,dx,dy), float4x4(-0.028010684996843,0.017947662621737,-0.044756654649973,-0.074522569775581,-0.003251232905313,0.074690625071526,-0.099937558174133,0.166246399283409,-0.017869357019663,-0.043841440230608,0.104465097188950,-0.002527798293158,0.000653921801131,0.020387740805745,0.067428790032864,0.144372478127480));
res += mul(Get(s2,-dx,-dy), float4x4(0.052269078791142,-0.040429033339024,0.013287673704326,-0.157073870301247,0.148924589157104,0.003475326579064,-0.125566542148590,-0.045153044164181,-0.142279744148254,0.007758867461234,-0.100061424076557,0.000339091347996,-0.126676008105278,0.082682110369205,0.180754318833351,-0.000345182168530));
res += mul(Get(s2,-dx,0), float4x4(0.047753795981407,-0.033917713910341,-0.002159606199712,-0.073388099670410,0.027314692735672,0.000081258171122,-0.003988072741777,-0.005629503168166,-0.144220158457756,-0.120994701981544,-0.096706673502922,-0.008746837265790,0.084216371178627,0.035443920642138,0.099252633750439,-0.015133950859308));
res += mul(Get(s2,-dx,dy), float4x4(-0.092730253934860,-0.012295987457037,0.169742316007614,0.044533234089613,0.037286840379238,0.104085579514503,-0.051052939146757,0.159794807434082,-0.025849757716060,-0.109860397875309,0.004799952730536,0.063351839780807,0.007896983064711,-0.114847064018250,0.039929628372192,-0.017619920894504));
res += mul(Get(s2,0,-dy), float4x4(-0.161771535873413,0.002494882326573,-0.129714161157608,0.090928576886654,-0.178144156932831,0.121443130075932,0.078178666532040,0.023548491299152,-0.066290050745010,-0.031134124845266,-0.166612520813942,0.015716830268502,-0.053985390812159,0.003490185132250,0.067012161016464,-0.024783220142126));
res += mul(Get(s2,0,0), float4x4(0.059722833335400,-0.086545020341873,-0.127519443631172,-0.074717357754707,-0.148282721638680,0.029026586562395,-0.053859695792198,-0.014446396380663,-0.078396938741207,0.043970040977001,0.077042400836945,-0.047032617032528,-0.011424807831645,0.055679559707642,0.108126215636730,0.113921768963337));
res += mul(Get(s2,0,dy), float4x4(-0.002953738206998,-0.001407282892615,0.068332031369209,-0.018700469285250,-0.053951863199472,-0.067017070949078,0.067564189434052,0.057316377758980,0.079199597239494,-0.050455618649721,0.124240115284920,-0.102368667721748,0.041268534958363,-0.062459040433168,0.010887046344578,0.089359477162361));
res += mul(Get(s2,dx,-dy), float4x4(-0.001405867980793,-0.185254245996475,-0.182535320520401,-0.070637561380863,0.017435112968087,0.028230125084519,-0.063517957925797,0.013442989438772,-0.036787353456020,-0.133228376507759,0.055310286581516,0.055077385157347,0.098967649042606,-0.059084009379148,-0.015965085476637,-0.036907121539116));
res += mul(Get(s2,dx,0), float4x4(-0.034514099359512,-0.079283177852631,0.068710073828697,-0.131332308053970,0.028843494132161,0.094759441912174,0.092006415128708,-0.108892127871513,0.039227522909641,0.107885390520096,-0.096496365964413,0.067349500954151,0.013816657476127,0.025379447266459,-0.028494995087385,0.056586328893900));
res += mul(Get(s2,dx,dy), float4x4(-0.025950958952308,-0.033601906150579,0.109277054667473,0.093452647328377,0.191270738840103,0.087165229022503,0.032178469002247,0.063508160412312,0.015991508960724,-0.039014346897602,0.019849933683872,0.016821034252644,-0.142826527357101,-0.089436039328575,0.007784830406308,-0.054504986852407));
res += mul(Get(s3,-dx,-dy), float4x4(0.006348305847496,-0.068099424242973,-0.024435339495540,-0.071459054946899,-0.032998878508806,-0.042775966227055,-0.033473849296570,0.004821944981813,0.088192418217659,-0.062530748546124,0.091396301984787,0.085426427423954,-0.059366904199123,0.006987284868956,0.064176686108112,0.041235983371735));
res += mul(Get(s3,-dx,0), float4x4(-0.000493351195473,0.101426497101784,-0.069449067115784,-0.017495516687632,0.091642998158932,0.085740856826305,0.050105854868889,-0.000916440563742,-0.001426908769645,0.017589356750250,-0.035749413073063,-0.085906572639942,-0.164729669690132,0.055513232946396,0.056283764541149,-0.065213620662689));
res += mul(Get(s3,-dx,dy), float4x4(0.203657433390617,-0.016127729788423,-0.083228915929794,0.006088816095144,-0.059067070484161,-0.170756131410599,0.098794430494308,0.027923818677664,-0.060333132743835,0.101614259183407,-0.036932092159986,0.158429279923439,-0.126806050539017,-0.052637185901403,0.044134031981230,0.034332044422626));
res += mul(Get(s3,0,-dy), float4x4(0.044615957885981,0.019977634772658,0.046114217489958,-0.061922941356897,-0.000143339304486,0.033415820449591,-0.025796601548791,0.043369650840759,0.161358341574669,-0.127473473548889,0.055018927901983,-0.062610693275928,-0.002452416112646,-0.085891507565975,0.084185868501663,-0.085412107408047));
res += mul(Get(s3,0,0), float4x4(0.109290055930614,-0.043921958655119,-0.052800457924604,-0.135005131363869,0.139766097068787,-0.043619133532047,0.058988954871893,-0.050755504518747,0.195404797792435,-0.240687727928162,-0.002838616259396,-0.016272626817226,-0.054999761283398,-0.020008519291878,-0.018989589065313,0.022013269364834));
res += mul(Get(s3,0,dy), float4x4(0.004380177240819,-0.107203617691994,-0.084287337958813,0.052084267139435,-0.028848532587290,0.081595145165920,0.240878731012344,0.028439804911613,-0.038381576538086,0.014203256927431,-0.058700110763311,0.079544551670551,0.108490914106369,-0.149742528796196,0.030766457319260,-0.049453485757113));
res += mul(Get(s3,dx,-dy), float4x4(-0.082211941480637,-0.065135367214680,-0.120073817670345,-0.053126446902752,-0.007282767444849,0.002485306933522,-0.031674161553383,0.048232346773148,-0.077997222542763,-0.010791385546327,-0.182039245963097,-0.122371919453144,-0.155480697751045,0.041913509368896,-0.007077812217176,0.013776066713035));
res += mul(Get(s3,dx,0), float4x4(-0.004505464807153,-0.046990368515253,-0.120367966592312,-0.016072627156973,0.042547632008791,0.133795306086540,0.035911288112402,0.026337074115872,-0.074649795889854,0.118278786540031,-0.118282645940781,0.023838562890887,-0.080024704337120,-0.087584465742111,0.035790953785181,-0.070673823356628));
res += mul(Get(s3,dx,dy), float4x4(-0.044224459677935,0.036690123379230,0.052629135549068,0.035108782351017,0.014438270591199,-0.036318100988865,-0.029143905267119,-0.131477504968643,-0.053837817162275,0.008656185120344,-0.046368099749088,0.039399188011885,0.040747083723545,-0.131066039204597,-0.016935003921390,0.032955680042505));
return max(float4(0,0,0,0), res);
}
