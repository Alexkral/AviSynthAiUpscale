sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.026352383196354,-0.026170508936048,0.091641403734684,0.017277462407947,0.094642810523510,0.062846355140209,-0.153281718492508,0.073306336998940,-0.114193715155125,0.009555343538523,-0.053952883929014,0.059894450008869,0.046154253184795,0.085438378155231,-0.103752329945564,-0.004659948404878));
res += mul(Get(s0,-dx,0), float4x4(-0.005534191150218,-0.028109490871429,-0.143314674496651,0.020627791061997,-0.125924870371819,-0.069608829915524,-0.120507314801216,0.188958883285522,0.193742483854294,-0.023155612871051,-0.017715176567435,0.042725063860416,-0.015309968031943,0.070027254521847,-0.093264393508434,-0.095664054155350));
res += mul(Get(s0,-dx,dy), float4x4(0.070858404040337,0.017562363296747,-0.063412398099899,-0.099192328751087,-0.045505456626415,0.113799124956131,0.032559469342232,-0.063282944262028,-0.018482415005565,-0.125152379274368,-0.032024953514338,-0.229735851287842,0.027823345735669,-0.075222171843052,-0.192949533462524,-0.095404848456383));
res += mul(Get(s0,0,-dy), float4x4(-0.024319574236870,0.043532729148865,-0.196605041623116,0.057637255638838,0.035395164042711,0.003683748887852,0.033391136676073,-0.062505610287189,0.039852723479271,0.041910719126463,-0.151481628417969,-0.040648166090250,0.169885918498039,0.041663497686386,0.076373748481274,-0.127511635422707));
res += mul(Get(s0,0,0), float4x4(-0.170477718114853,-0.056483529508114,0.014665613882244,-0.210108846426010,0.054568264633417,0.019687023013830,0.094024710357189,0.197743788361549,0.048864822834730,0.051986232399940,-0.070417165756226,-0.033316172659397,-0.053744792938232,-0.066800065338612,-0.105790428817272,0.072911083698273));
res += mul(Get(s0,0,dy), float4x4(0.060119304805994,0.032374024391174,-0.010480835102499,-0.051479548215866,0.014992175623775,0.019812602549791,0.048843421041965,0.038037650287151,0.070104673504829,0.052786126732826,-0.092338092625141,-0.069013461470604,-0.219063758850098,0.000136281247251,-0.209515318274498,-0.164296567440033));
res += mul(Get(s0,dx,-dy), float4x4(-0.092705942690372,-0.131320714950562,-0.057728126645088,0.050303924828768,-0.040775038301945,0.005564013496041,-0.011976961977780,0.098335437476635,-0.042016573250294,0.058453630656004,0.028416531160474,-0.058669388294220,-0.039829727262259,-0.006113638170063,-0.054700363427401,0.068871811032295));
res += mul(Get(s0,dx,0), float4x4(0.035471130162477,-0.051373790949583,-0.074998177587986,0.170513823628426,-0.093815080821514,0.177506327629089,-0.028840344399214,0.027126440778375,0.140608102083206,0.094438619911671,-0.005332219880074,-0.036475274711847,-0.182514622807503,0.155835539102554,0.022480258718133,0.002145320875570));
res += mul(Get(s0,dx,dy), float4x4(-0.040723856538534,0.138666301965714,-0.072078667581081,-0.032477770000696,0.024683220311999,0.006105117499828,-0.108524508774281,0.072038717567921,0.018219908699393,-0.056833989918232,-0.045095186680555,-0.095090992748737,-0.159682720899582,-0.006959996651858,-0.083616048097610,0.074879080057144));
res += mul(Get(s1,-dx,-dy), float4x4(0.013386820442975,-0.013287869282067,-0.022099819034338,-0.041920207440853,0.136771589517593,0.031963240355253,-0.100252017378807,-0.151235729455948,-0.004353837575763,0.086416400969028,0.022767486050725,-0.034234017133713,-0.048050466924906,-0.157617166638374,0.006734021939337,-0.044982753694057));
res += mul(Get(s1,-dx,0), float4x4(-0.033737890422344,-0.060617666691542,0.017534270882607,0.043626189231873,0.020253779366612,-0.064887844026089,-0.038948100060225,0.081507749855518,-0.047349032014608,0.111866042017937,0.043809719383717,-0.130818307399750,0.165969654917717,-0.003278546500951,-0.007377882953733,-0.062407363206148));
res += mul(Get(s1,-dx,dy), float4x4(0.144612908363342,-0.148039445281029,0.002478880807757,0.083860740065575,0.155351251363754,-0.008182381279767,-0.038747802376747,-0.061427403241396,0.034246265888214,0.072508305311203,-0.087774790823460,-0.037309102714062,0.094165302813053,0.033619616180658,0.029596332460642,0.053375560790300));
res += mul(Get(s1,0,-dy), float4x4(0.016118595376611,0.040077332407236,0.086161725223064,0.018647164106369,0.102987989783287,0.102339558303356,0.027184592559934,-0.020002102479339,-0.065889343619347,0.225144237279892,0.052263423800468,-0.004577320534736,0.064248941838741,-0.150842264294624,-0.010201387107372,0.068349637091160));
res += mul(Get(s1,0,0), float4x4(-0.025756301358342,-0.108087413012981,-0.127298593521118,0.040175374597311,0.029565650969744,0.006561581511050,0.078463390469551,-0.019119823351502,-0.018926404416561,-0.120975837111473,-0.012795831076801,0.218783393502235,0.075450323522091,-0.063222877681255,-0.013071455061436,0.082551866769791));
res += mul(Get(s1,0,dy), float4x4(0.032906338572502,0.026061207056046,0.109165191650391,0.030766054987907,-0.019815353676677,0.028246400877833,0.080343224108219,0.045483238995075,0.003133681835607,-0.079584777355194,-0.140356749296188,-0.106303296983242,-0.069180019199848,-0.144999757409096,0.089303113520145,-0.054294627159834));
res += mul(Get(s1,dx,-dy), float4x4(0.066587500274181,-0.058483213186264,0.114345595240593,-0.017769671976566,-0.077195920050144,0.103702306747437,0.083607435226440,0.116297520697117,0.020143235102296,0.025633243843913,-0.051797948777676,0.154768705368042,0.063700236380100,-0.079978615045547,0.008009613491595,0.042499825358391));
res += mul(Get(s1,dx,0), float4x4(0.032882254570723,0.083703093230724,0.043153278529644,0.013643651269376,0.123856648802757,-0.036283764988184,-0.002248793374747,-0.189822047948837,0.006823577918112,-0.047773886471987,0.007022417616099,0.005945863667876,0.032868977636099,0.057304553687572,-0.017035098746419,-0.024328120052814));
res += mul(Get(s1,dx,dy), float4x4(-0.049790509045124,-0.035457331687212,-0.068955138325691,-0.045506685972214,0.111405923962593,0.041583180427551,-0.013349817134440,0.015075807459652,0.092266939580441,0.031336728483438,0.041719447821379,0.075184240937233,-0.066138535737991,0.138399228453636,-0.113056451082230,0.107213653624058));
res += mul(Get(s2,-dx,-dy), float4x4(0.054206278175116,0.104628443717957,0.069143749773502,0.007100494578481,0.045453820377588,-0.027874434366822,0.062673315405846,-0.072929225862026,0.055645681917667,-0.018031667917967,0.110149823129177,-0.073071993887424,0.094452448189259,0.088752560317516,0.042026847600937,-0.048824012279510));
res += mul(Get(s2,-dx,0), float4x4(0.057765975594521,0.020668005570769,-0.062479741871357,-0.023117287084460,-0.052431084215641,-0.019661821424961,0.153671339154243,-0.117941029369831,0.170444041490555,-0.106696344912052,0.020321859046817,-0.081936396658421,-0.018446296453476,0.058504752814770,0.087036661803722,-0.066035039722919));
res += mul(Get(s2,-dx,dy), float4x4(0.173390164971352,-0.054413847625256,0.071767039597034,-0.142219513654709,-0.053195234388113,0.058422282338142,0.033107984811068,0.186032354831696,0.037467762827873,0.027593024075031,0.004659356083721,0.113137997686863,0.065253220498562,-0.151439890265465,-0.114087305963039,0.085967376828194));
res += mul(Get(s2,0,-dy), float4x4(0.017679151147604,-0.120767608284950,-0.106554754078388,0.186770945787430,-0.111705802381039,0.006423589307815,-0.148771911859512,0.059954077005386,0.117466054856777,-0.024334397166967,0.158927485346794,-0.068185754120350,-0.052557043731213,-0.008201437070966,0.115480020642281,0.163711890578270));
res += mul(Get(s2,0,0), float4x4(-0.131711319088936,0.065196923911572,0.019088087603450,0.058471720665693,0.039337165653706,0.172014936804771,-0.055954627692699,-0.024230170994997,0.062331650406122,-0.022499224171042,-0.096453823149204,-0.141442030668259,0.133209392428398,0.158245623111725,-0.154982164502144,0.048741091042757));
res += mul(Get(s2,0,dy), float4x4(-0.131049603223801,0.028611069545150,-0.032853040844202,-0.035084601491690,-0.005366543773562,0.060681100934744,0.024866027757525,-0.013124079443514,0.001588500454091,0.072387598454952,-0.041431564837694,-0.129627555608749,0.096071265637875,0.054012641310692,0.048474181443453,0.054282262921333));
res += mul(Get(s2,dx,-dy), float4x4(-0.102898091077805,-0.049895688891411,-0.008445330895483,0.017347987741232,0.007090843282640,0.041212435811758,-0.062515638768673,0.100195147097111,0.188275665044785,-0.109706193208694,-0.128673449158669,-0.032997358590364,-0.045607879757881,-0.027221623808146,-0.164591044187546,-0.053770672529936));
res += mul(Get(s2,dx,0), float4x4(-0.106252297759056,-0.021854963153601,-0.116929613053799,-0.024784432724118,0.000959397060797,0.176704436540604,0.178876966238022,-0.144013077020645,-0.142267704010010,-0.213370621204376,0.029952060431242,0.066424183547497,-0.009798238985240,-0.049660503864288,0.069113709032536,-0.067595399916172));
res += mul(Get(s2,dx,dy), float4x4(-0.047022055834532,0.002946336055174,-0.046232879161835,-0.050233233720064,-0.044896483421326,0.027923591434956,0.003650606842712,-0.218333810567856,-0.044189535081387,0.156412720680237,0.039289299398661,-0.216250881552696,-0.062897458672523,-0.033635988831520,0.030512867495418,-0.015432075597346));
res += mul(Get(s3,-dx,-dy), float4x4(0.076196327805519,-0.027695760130882,0.089874833822250,0.075968563556671,-0.091195985674858,-0.075524367392063,-0.008557953871787,0.041133262217045,0.133188217878342,0.076488949358463,0.020914444699883,-0.070047527551651,0.063403077423573,0.025771776214242,0.029029035940766,-0.065270319581032));
res += mul(Get(s3,-dx,0), float4x4(-0.194726943969727,-0.079687505960464,0.053406715393066,0.204860270023346,0.098362527787685,0.074867814779282,-0.105227962136269,0.075709670782089,-0.084876388311386,-0.024217374622822,-0.053428839892149,0.117194585502148,-0.109240055084229,0.068136267364025,0.032556809484959,-0.037168029695749));
res += mul(Get(s3,-dx,dy), float4x4(0.072684317827225,0.165586471557617,0.104122020304203,0.030982531607151,-0.047583203762770,-0.016089344397187,-0.006757207680494,-0.005534012801945,0.157237917184830,-0.117682397365570,0.244181141257286,-0.015414653345942,-0.101684823632240,-0.043221093714237,-0.046442851424217,0.009484705515206));
res += mul(Get(s3,0,-dy), float4x4(-0.122142113745213,0.078011676669121,-0.045967299491167,-0.080709338188171,-0.189962223172188,0.089591398835182,-0.018958615139127,0.009157385677099,-0.013055213727057,0.054461006075144,-0.034465510398149,0.008774043060839,-0.058682065457106,0.133454248309135,-0.106492482125759,0.088989466428757));
res += mul(Get(s3,0,0), float4x4(-0.173586606979370,0.049600902944803,-0.129593566060066,-0.077611692249775,0.126775145530701,0.050032813102007,0.046868640929461,0.094926491379738,0.014134967699647,0.102400146424770,0.015468148514628,0.227954968810081,-0.041404429823160,0.084812417626381,-0.116819307208061,0.013112553395331));
res += mul(Get(s3,0,dy), float4x4(-0.023799719288945,0.130195528268814,-0.170607879757881,-0.085512489080429,-0.096474118530750,-0.066674254834652,-0.047314006835222,-0.031715340912342,0.043595299124718,0.125128254294395,0.191390648484230,-0.001864745980129,0.113838545978069,0.108587555587292,-0.093621909618378,-0.019933776929975));
res += mul(Get(s3,dx,-dy), float4x4(0.114650130271912,-0.077781617641449,0.178248211741447,0.050243362784386,-0.067705675959587,0.089003063738346,0.220718726515770,-0.225955888628960,0.138272851705551,-0.073983028531075,0.174767255783081,-0.112730480730534,-0.122923836112022,-0.208603739738464,-0.059496399015188,0.021229190751910));
res += mul(Get(s3,dx,0), float4x4(0.143378555774689,0.017168657854199,0.100684829056263,0.028331721201539,-0.127328127622604,0.110830597579479,-0.089685909450054,-0.060711950063705,-0.075174212455750,-0.013247472234070,-0.116869173943996,0.006010330747813,0.240037173032761,-0.076959945261478,-0.085981652140617,-0.082970701158047));
res += mul(Get(s3,dx,dy), float4x4(0.116025850176811,0.014462490566075,0.064127564430237,0.012381933629513,-0.036233603954315,0.098555073142052,0.064819999039173,-0.088656216859818,0.145258396863937,0.102589927613735,0.090378217399120,-0.107233062386513,-0.245205894112587,0.119494922459126,0.096469730138779,0.017706587910652));
return max(float4(0,0,0,0), res);
}
