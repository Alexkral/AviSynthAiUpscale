sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.057083610445261,0.011561599560082,0.033798649907112,-0.080452248454094,0.009503424167633,0.116815440356731,-0.089078135788441,0.061132278293371,0.058589175343513,-0.157568827271461,0.119580432772636,-0.117946043610573,0.072471462190151,-0.103679649531841,-0.109205834567547,-0.112814329564571));
res += mul(Get(s0,-dx,0), float4x4(0.114619933068752,-0.084204494953156,-0.080048434436321,-0.044762901961803,0.118833035230637,-0.015577572397888,0.088476918637753,0.062663756310940,-0.037572126835585,0.013102180324495,0.176029384136200,-0.098998300731182,-0.067808218300343,-0.085940495133400,0.102280199527740,0.006222637835890));
res += mul(Get(s0,-dx,dy), float4x4(-0.015698892995715,0.058696296066046,0.018348945304751,-0.040216714143753,-0.101368717849255,-0.036167819052935,-0.084743030369282,0.033845074474812,0.175303682684898,-0.028364032506943,0.076082490384579,-0.086467944085598,0.058395683765411,-0.166549980640411,-0.031189257279038,0.012741151265800));
res += mul(Get(s0,0,-dy), float4x4(-0.043046135455370,-0.014084484428167,-0.005680905655026,-0.052591491490602,0.086858399212360,0.014949462376535,0.013208126649261,0.027006093412638,-0.068033650517464,-0.064113073050976,0.011405460536480,-0.025921776890755,0.041086848825216,-0.011776822619140,-0.119014367461205,0.037049122154713));
res += mul(Get(s0,0,0), float4x4(0.019792683422565,0.034037731587887,-0.017772981896996,0.188409581780434,-0.021625930443406,-0.039121162146330,0.021935869008303,-0.008141101337969,-0.032682947814465,-0.005554099567235,0.020833930000663,0.003332012565807,0.000889532093424,0.047757178544998,0.019652886316180,0.236072346568108));
res += mul(Get(s0,0,dy), float4x4(-0.037326034158468,-0.031463719904423,0.128302976489067,0.009012853726745,-0.061321970075369,0.030265392735600,0.007492200005800,0.107257641851902,0.071898370981216,-0.026236547157168,0.020044023171067,0.070506200194359,0.141391456127167,0.151803061366081,-0.043269801884890,0.013317694887519));
res += mul(Get(s0,dx,-dy), float4x4(-0.060635078698397,-0.079928256571293,0.160377427935600,0.009276883676648,-0.099747695028782,-0.068198621273041,0.041219182312489,0.034707617014647,-0.181271016597748,0.110001437366009,0.078000999987125,0.126194611191750,-0.051351830363274,0.146991878747940,-0.096645288169384,0.026766482740641));
res += mul(Get(s0,dx,0), float4x4(0.110867701470852,0.077623181045055,0.011645103804767,-0.076772212982178,0.045691218227148,-0.007967837154865,0.020646546036005,0.222844153642654,-0.087616585195065,-0.030057543888688,-0.021773930639029,0.037894889712334,-0.004626323468983,0.123046748340130,-0.047645695507526,-0.081444635987282));
res += mul(Get(s0,dx,dy), float4x4(-0.085484012961388,0.096901796758175,0.033272873610258,-0.052096571773291,0.253599613904953,-0.119829587638378,0.199292391538620,0.069083884358406,0.010586091317236,0.102124452590942,0.026108704507351,0.020291199907660,-0.064064517617226,0.044747136533260,0.040744710713625,0.142591685056686));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066578708589077,0.077459953725338,0.033569656312466,0.293474793434143,-0.004069050308317,0.000863797555212,0.035621114075184,0.093017153441906,-0.071129180490971,0.082590483129025,-0.140074580907822,-0.066094867885113,0.080523855984211,-0.133928745985031,0.097390688955784,-0.090430065989494));
res += mul(Get(s1,-dx,0), float4x4(0.018121898174286,0.046830359846354,-0.080616995692253,0.151691630482674,-0.042382963001728,0.005937238689512,0.138179808855057,0.031744647771120,-0.072133556008339,0.080004766583443,0.022579416632652,-0.064643204212189,0.004580175969750,0.057114146649837,0.069075353443623,-0.028938135132194));
res += mul(Get(s1,-dx,dy), float4x4(-0.326839834451675,0.003034616122022,0.110633462667465,-0.088717959821224,0.135107129812241,0.031781155616045,-0.058100912719965,-0.209610924124718,0.092708922922611,0.057215902954340,0.004125783685595,0.018395584076643,-0.037190582603216,-0.075177036225796,-0.103889197111130,-0.089939773082733));
res += mul(Get(s1,0,-dy), float4x4(-0.034669123589993,-0.025880109518766,0.073533840477467,-0.013838202692568,-0.018903151154518,-0.067631207406521,-0.177181094884872,0.099058173596859,0.005704916082323,-0.028953263536096,0.065702058374882,0.046959578990936,0.073996700346470,0.024917488917708,0.127543553709984,0.115294031798840));
res += mul(Get(s1,0,0), float4x4(-0.057241424918175,0.088483363389969,0.160012289881706,0.037904273718596,-0.081280842423439,-0.074194177985191,-0.161914452910423,0.072834283113480,0.204502642154694,0.012875529006124,-0.035081371665001,-0.026140524074435,-0.013286242261529,-0.019712494686246,0.048293884843588,0.031179495155811));
res += mul(Get(s1,0,dy), float4x4(0.016537336632609,0.045971319079399,-0.079441696405411,-0.045224085450172,0.128113254904747,0.115711167454720,-0.004172322805971,-0.094791837036610,-0.046047363430262,0.168492391705513,0.137490510940552,-0.115753978490829,-0.071879826486111,0.008822345174849,-0.016518210992217,0.033457428216934));
res += mul(Get(s1,dx,-dy), float4x4(0.004847115837038,-0.103885747492313,-0.004667425062507,-0.072852738201618,-0.151095703244209,0.076100006699562,0.111184880137444,-0.059106308966875,-0.025144653394818,0.032765612006187,0.013018417172134,-0.041257616132498,-0.024542978033423,-0.121167585253716,-0.058968670666218,-0.017328763380647));
res += mul(Get(s1,dx,0), float4x4(0.084197357296944,0.028958860784769,0.137202516198158,-0.160638049244881,-0.053727120161057,0.088085345923901,-0.025857957080007,0.033387906849384,-0.027029994875193,-0.132670745253563,-0.094440445303917,-0.082431830465794,0.166128739714622,-0.126387029886246,-0.043485313653946,0.007376737426966));
res += mul(Get(s1,dx,dy), float4x4(-0.047866508364677,0.064082890748978,-0.088752873241901,-0.021355127915740,-0.086705423891544,-0.060298521071672,-0.022312512621284,-0.098818600177765,0.080338388681412,-0.020668394863605,0.006893588695675,0.128549993038177,0.112713165581226,-0.121439114212990,-0.089739747345448,0.076572015881538));
res += mul(Get(s2,-dx,-dy), float4x4(-0.033335778862238,-0.047560680657625,-0.091176286339760,-0.229522109031677,0.017870809882879,0.083809927105904,0.099446363747120,-0.058753997087479,0.011650217697024,-0.032146491110325,0.078176304697990,-0.111528180539608,-0.036925245076418,0.053071070462465,-0.048593692481518,0.082779660820961));
res += mul(Get(s2,-dx,0), float4x4(-0.025578858330846,0.158924981951714,0.090979419648647,-0.167561933398247,-0.074957095086575,0.003709752578288,0.132332146167755,-0.051425818353891,0.136746495962143,-0.087343484163284,0.088963925838470,0.131154760718346,0.027094528079033,0.076618105173111,0.099686257541180,0.049210481345654));
res += mul(Get(s2,-dx,dy), float4x4(0.040118698030710,0.021131182089448,-0.012474473565817,-0.043099708855152,-0.195436045527458,0.072202578186989,0.059205386787653,-0.031718019396067,-0.046724449843168,-0.033842511475086,0.123870767652988,-0.050394933670759,0.042203020304441,-0.060053575783968,0.089085608720779,-0.017945541068912));
res += mul(Get(s2,0,-dy), float4x4(-0.075615361332893,-0.126472532749176,0.071606390178204,0.098678454756737,0.094319857656956,-0.016290137544274,0.003264586208388,-0.053263548761606,-0.046713102608919,-0.020460834726691,0.055528819561005,0.035075910389423,-0.033127244561911,0.043825019150972,-0.038248583674431,0.143324524164200));
res += mul(Get(s2,0,0), float4x4(-0.020256411284208,0.052539233118296,0.042273089289665,0.035349521785975,-0.032586164772511,-0.033897489309311,-0.032290961593390,-0.012442851439118,-0.142335101962090,0.063143052160740,0.101136639714241,-0.092372275888920,-0.160311698913574,-0.029095610603690,-0.059887338429689,0.140745446085930));
res += mul(Get(s2,0,dy), float4x4(-0.093492485582829,-0.031499527394772,0.003532915608957,-0.086269624531269,-0.051923338323832,-0.003725694725290,-0.069432586431503,-0.078759804368019,0.087889656424522,0.005353883840144,-0.160746440291405,0.161467075347900,-0.077946729958057,0.013459526002407,-0.009943115524948,0.009705029428005));
res += mul(Get(s2,dx,-dy), float4x4(-0.156543537974358,0.072282440960407,0.029870804399252,0.049740139394999,0.093410544097424,-0.011457603424788,-0.019999410957098,-0.048789680004120,0.048693023622036,0.072693668305874,0.025657232850790,0.175992012023926,0.011422007344663,-0.033706352114677,-0.014152278192341,0.045750934630632));
res += mul(Get(s2,dx,0), float4x4(-0.034446746110916,-0.035494953393936,-0.081185467541218,-0.058472175151110,0.035806126892567,0.029255066066980,-0.060154825448990,0.089769646525383,0.037458408623934,-0.063822887837887,-0.210378870368004,0.044648248702288,-0.008640750311315,0.087296463549137,0.040181271731853,0.002592834644020));
res += mul(Get(s2,dx,dy), float4x4(-0.010714033618569,0.002812644699588,0.038852445781231,-0.096899867057800,0.017142863944173,0.060996465384960,-0.051868271082640,0.000530779070687,-0.084269806742668,0.043052893131971,0.094143807888031,-0.033293247222900,0.112619325518608,-0.127914354205132,-0.025471143424511,0.060101758688688));
res += mul(Get(s3,-dx,-dy), float4x4(-0.149417042732239,0.007594377733767,0.048535943031311,0.056985426694155,-0.008199223317206,-0.191316872835159,0.051746305078268,0.025750214233994,-0.083457708358765,-0.010558894835413,0.020321222022176,0.135056421160698,-0.175875335931778,-0.043731540441513,-0.070300772786140,-0.046706482768059));
res += mul(Get(s3,-dx,0), float4x4(-0.121318638324738,-0.022931480780244,-0.082125864923000,0.106610186398029,-0.004309671930969,0.065191917121410,0.021878374740481,-0.088040784001350,-0.099796555936337,-0.090590633451939,-0.105734743177891,-0.030554533004761,-0.083005733788013,0.023609196767211,-0.042165927588940,-0.000835903629195));
res += mul(Get(s3,-dx,dy), float4x4(0.014470890164375,-0.074247881770134,-0.011521705426276,-0.034653339534998,-0.089536145329475,0.113180339336395,0.042132511734962,0.102727442979813,-0.043263040482998,-0.169721201062202,0.192481800913811,0.057654555886984,-0.207496389746666,0.017663296312094,0.100848726928234,0.032570138573647));
res += mul(Get(s3,0,-dy), float4x4(-0.108815826475620,0.003853733185679,-0.007597809657454,-0.016195748001337,-0.004958570003510,0.052024882286787,0.031578101217747,-0.029228534549475,-0.056446660310030,-0.072861455380917,-0.018984699621797,-0.094348333775997,-0.043335195630789,0.072710208594799,-0.027967095375061,0.098561041057110));
res += mul(Get(s3,0,0), float4x4(0.075046665966511,-0.037277221679688,0.000305660534650,0.057882696390152,0.127740874886513,0.113690458238125,0.026533570140600,0.099535420536995,0.067086048424244,-0.051934808492661,0.130311533808708,-0.012970253825188,0.054840650409460,-0.103092476725578,0.009528215043247,-0.034227218478918));
res += mul(Get(s3,0,dy), float4x4(0.036839190870523,0.097639337182045,-0.039535880088806,-0.093345962464809,0.098600745201111,0.046008761972189,0.028373021632433,0.015550180338323,-0.085788562893867,0.030423495918512,0.270474135875702,-0.065625414252281,0.108034737408161,-0.069463960826397,-0.005728553980589,0.087852478027344));
res += mul(Get(s3,dx,-dy), float4x4(-0.016224065795541,-0.164668202400208,-0.038118697702885,-0.014200513251126,0.029906582087278,-0.171779975295067,0.010936181060970,-0.072368510067463,0.134422436356544,0.056601367890835,-0.056597758084536,0.023473234847188,-0.115566432476044,-0.017447739839554,0.049852047115564,-0.028988379985094));
res += mul(Get(s3,dx,0), float4x4(-0.117828272283077,0.015157049521804,0.010786468163133,-0.049706097692251,-0.125133827328682,-0.089846126735210,-0.206863120198250,0.020070051774383,-0.014825769700110,0.125510767102242,0.016201235353947,0.135224536061287,-0.176085054874420,0.000901870254893,0.241718530654907,0.040625840425491));
res += mul(Get(s3,dx,dy), float4x4(0.000944898289163,0.044563401490450,0.029508143663406,-0.020156770944595,-0.208757862448692,0.105921566486359,0.108011104166508,0.035562124103308,0.000726258847862,0.078379161655903,-0.211553201079369,-0.013178138993680,0.014652317389846,0.153602421283722,-0.029217919334769,0.094359859824181));
return max(float4(0,0,0,0), res);
}
