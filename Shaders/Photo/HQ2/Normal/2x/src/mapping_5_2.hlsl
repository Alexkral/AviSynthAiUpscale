sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.084156580269337,-0.228270292282104,0.153173774480820,0.015966700389981,0.084068857133389,-0.075735136866570,0.088878393173218,0.048195451498032,0.027622375637293,-0.020702281966805,0.116821646690369,0.012741927988827,0.053709696978331,-0.046878915280104,-0.022379977628589,-0.052314456552267));
res += mul(Get(s0,-dx,0), float4x4(-0.130571186542511,0.129458457231522,-0.111194804310799,-0.113589584827423,-0.095893234014511,0.176433056592941,-0.057381633669138,0.078673914074898,0.041226122528315,0.071755170822144,0.035541880875826,0.032205808907747,0.020320720970631,-0.168774634599686,-0.181086584925652,0.052965525537729));
res += mul(Get(s0,-dx,dy), float4x4(0.018893551081419,-0.064094975590706,-0.042357668280602,0.066270485520363,-0.038410682231188,-0.026044392958283,-0.030171670019627,-0.014647349715233,-0.014417965896428,0.133439376950264,-0.027748446911573,0.058463439345360,0.052109170705080,-0.082032009959221,0.030679339542985,0.032510232180357));
res += mul(Get(s0,0,-dy), float4x4(0.062116082757711,-0.078389920294285,0.042197369039059,0.078813545405865,-0.078660853207111,-0.042987260967493,-0.036237649619579,-0.044403731822968,-0.019895324483514,-0.014387554489076,-0.033530868589878,-0.043792914599180,0.022204536944628,0.018084861338139,0.059770680963993,0.004202072508633));
res += mul(Get(s0,0,0), float4x4(-0.039458472281694,0.055696800351143,0.061482198536396,0.019053826108575,-0.068689368665218,-0.088205508887768,-0.007232005707920,0.142547011375427,-0.104920879006386,-0.071612708270550,0.035713989287615,-0.018898839130998,0.012977683916688,0.107843600213528,0.001325638266280,0.031799130141735));
res += mul(Get(s0,0,dy), float4x4(0.018294239416718,-0.039735656231642,0.099919311702251,-0.028731310740113,-0.015969833359122,-0.026111533865333,-0.103029958903790,0.144097149372101,0.025774199515581,0.025023283436894,0.079475708305836,-0.027928523719311,0.137194156646729,0.094806581735611,-0.146209031343460,0.152145877480507));
res += mul(Get(s0,dx,-dy), float4x4(0.002419434254989,-0.088678359985352,0.017474941909313,-0.060461238026619,0.011059538461268,0.126417428255081,0.101889722049236,0.199148133397102,0.138763487339020,-0.099514327943325,0.064557306468487,-0.170291349291801,0.020933624356985,-0.134717419743538,-0.171008408069611,-0.043277721852064));
res += mul(Get(s0,dx,0), float4x4(0.001163372304291,0.038344155997038,-0.152914419770241,-0.144972741603851,0.017274247482419,0.065375909209251,-0.081207536160946,-0.087060704827309,0.060565542429686,0.072739310562611,0.151679724454880,-0.072627305984497,0.057119667530060,-0.020306861028075,0.151890963315964,0.205751731991768));
res += mul(Get(s0,dx,dy), float4x4(-0.087854482233524,-0.045543245971203,0.056711077690125,-0.006307562347502,-0.070436276495457,-0.082665756344795,-0.051630087196827,-0.116112574934959,-0.011616955511272,-0.081474922597408,-0.082909598946571,0.003308165119961,0.064977332949638,-0.000084059189248,-0.106919810175896,0.135518893599510));
res += mul(Get(s1,-dx,-dy), float4x4(0.125971466302872,0.024495016783476,0.057995326817036,0.101384505629539,0.171032473444939,-0.047038726508617,-0.018525302410126,-0.161392375826836,0.021432397887111,0.072402648627758,-0.026897290721536,0.083764575421810,0.008363087661564,0.029832253232598,0.015104902908206,-0.126488626003265));
res += mul(Get(s1,-dx,0), float4x4(-0.021859178319573,0.076149620115757,-0.017494250088930,-0.175470456480980,-0.054711487144232,-0.103487469255924,0.025630839169025,-0.066308476030827,0.009104204364121,0.145207390189171,0.127495750784874,-0.007615081965923,-0.164983972907066,0.155097499489784,0.136522918939590,-0.050814621150494));
res += mul(Get(s1,-dx,dy), float4x4(0.062238585203886,0.063154876232147,-0.018704390153289,-0.054319728165865,-0.047181375324726,0.093554370105267,0.048759292811155,-0.024390788748860,-0.053812105208635,0.115959070622921,-0.106785453855991,0.094425939023495,-0.008218527771533,0.077089518308640,0.112739890813828,-0.022616077214479));
res += mul(Get(s1,0,-dy), float4x4(-0.046035788953304,-0.044636316597462,-0.065682269632816,-0.116862684488297,0.036250825971365,-0.109463401138783,-0.197431430220604,0.052676301449537,0.015898404642940,0.136958047747612,-0.122138999402523,-0.032661519944668,-0.067008294165134,0.021070880815387,0.010188366286457,0.114362485706806));
res += mul(Get(s1,0,0), float4x4(-0.085433244705200,-0.017175097018480,0.049379952251911,0.012671411037445,0.063538022339344,-0.161310225725174,-0.068444564938545,0.005728650838137,-0.054870791733265,-0.044843636453152,0.039965316653252,0.083017624914646,0.200115680694580,0.082873508334160,0.071062617003918,-0.087529137730598));
res += mul(Get(s1,0,dy), float4x4(-0.037909653037786,-0.033744066953659,-0.016804337501526,-0.093388870358467,0.130846440792084,-0.087221577763557,-0.004880054853857,-0.030540820211172,0.073641128838062,0.100743331015110,0.084099739789963,-0.120623022317886,0.007847968488932,-0.043070528656244,0.094100423157215,0.087172113358974));
res += mul(Get(s1,dx,-dy), float4x4(-0.011900279670954,-0.069079577922821,-0.055776581168175,-0.039941884577274,-0.037782404571772,0.027693813666701,0.077671907842159,0.012858644127846,0.040104523301125,-0.017295058816671,0.096553213894367,-0.000016089255951,0.030290013179183,-0.111957438290119,0.129392802715302,-0.023349555209279));
res += mul(Get(s1,dx,0), float4x4(-0.078510269522667,0.056342750787735,0.031192623078823,0.124540194869041,0.152494326233864,0.201020479202271,0.060647889971733,-0.101965971291065,0.156503051519394,-0.124315850436687,0.049595773220062,0.045118026435375,0.030731629580259,-0.059246469289064,-0.008435393683612,-0.053815934807062));
res += mul(Get(s1,dx,dy), float4x4(0.114903874695301,-0.118845477700233,0.006506817415357,-0.106613568961620,-0.023866849020123,-0.014948107302189,0.021977892145514,0.024938361719251,0.108935825526714,-0.017098043113947,0.071758911013603,-0.092697203159332,-0.011302848346531,-0.100831925868988,0.109973438084126,-0.030712720006704));
res += mul(Get(s2,-dx,-dy), float4x4(-0.155836597084999,0.086676113307476,0.093245625495911,0.178833618760109,-0.127971708774567,-0.031643901020288,0.016174864023924,-0.041653577238321,-0.041655994951725,-0.101101912558079,0.028913836926222,0.020910399034619,0.039851602166891,0.058573778718710,0.044903114438057,-0.018345395103097));
res += mul(Get(s2,-dx,0), float4x4(0.180340379476547,-0.011963424272835,0.080524429678917,-0.055755566805601,-0.061721358448267,0.032889068126678,0.032970752567053,0.179670706391335,-0.049261786043644,-0.045860096812248,-0.115013055503368,-0.078322552144527,-0.113022133708000,0.103573821485043,0.018734125420451,0.203418418765068));
res += mul(Get(s2,-dx,dy), float4x4(0.032570075243711,-0.101178772747517,0.098038539290428,0.125720292329788,-0.071424454450607,0.010604560375214,-0.008777204900980,0.006680037360638,-0.005553469993174,0.145882219076157,0.043545477092266,0.097857967019081,-0.128291457891464,0.077680766582489,-0.048854455351830,0.069362752139568));
res += mul(Get(s2,0,-dy), float4x4(-0.065356515347958,-0.017861735075712,-0.011785548180342,0.003673373721540,0.008540494367480,-0.043445821851492,-0.074518933892250,0.065580822527409,0.066325254738331,-0.019268101081252,0.113098770380020,-0.007403711322695,0.091451220214367,-0.098165407776833,0.008927278220654,0.046064443886280));
res += mul(Get(s2,0,0), float4x4(-0.016291433945298,-0.072500869631767,0.053735520690680,-0.046211186796427,0.013529708608985,0.082939401268959,0.035988997668028,0.083266720175743,0.046358898282051,0.013858006335795,0.015840642154217,0.075130194425583,-0.002981354948133,-0.024087516590953,0.093668416142464,0.044949289411306));
res += mul(Get(s2,0,dy), float4x4(0.137416914105415,-0.026328172534704,0.090525470674038,0.056657399982214,-0.010842099785805,-0.121867477893829,0.068077892065048,-0.083168938755989,0.094405971467495,0.023490855470300,-0.041944529861212,0.006987082306296,-0.016780477017164,-0.138415187597275,-0.003413483733311,0.201278463006020));
res += mul(Get(s2,dx,-dy), float4x4(0.014996495097876,0.121302902698517,-0.036212999373674,0.006831576116383,0.060881655663252,0.217616707086563,0.022492522373796,0.119069553911686,-0.039764173328876,0.046973049640656,0.072990216314793,0.020087467506528,0.033137854188681,0.048801451921463,0.061277970671654,0.036371212452650));
res += mul(Get(s2,dx,0), float4x4(0.019273975864053,0.126214280724525,-0.111123345792294,-0.010171790607274,-0.029894242063165,-0.033886961638927,-0.019312433898449,0.077136993408203,-0.078565008938313,0.165537640452385,0.135122761130333,-0.046056121587753,-0.008485133759677,0.161579400300980,-0.005957575049251,0.053826991468668));
res += mul(Get(s2,dx,dy), float4x4(-0.028985150158405,-0.063736207783222,0.051372829824686,0.038447104394436,0.026531487703323,0.033636733889580,-0.018303211778402,-0.070870123803616,0.075627043843269,0.049906570464373,0.025394378229976,-0.038445334881544,0.015805991366506,0.134431183338165,0.052534218877554,-0.054454009979963));
res += mul(Get(s3,-dx,-dy), float4x4(0.038376636803150,0.074684716761112,-0.068639710545540,-0.002751610474661,-0.026286395266652,0.091265939176083,0.162614911794662,0.061941020190716,0.035868454724550,0.071721285581589,-0.016919370740652,-0.021426064893603,-0.030461935326457,0.042937684804201,-0.073514521121979,-0.031837034970522));
res += mul(Get(s3,-dx,0), float4x4(-0.146945595741272,-0.080912083387375,-0.087807863950729,-0.089989013969898,0.009184335358441,0.041630566120148,0.074103191494942,0.062342304736376,-0.205418467521667,0.111660733819008,0.088558964431286,-0.099009774625301,0.033091012388468,-0.077263571321964,0.061017781496048,0.050196219235659));
res += mul(Get(s3,-dx,dy), float4x4(0.029793512076139,-0.061973113566637,-0.228314235806465,0.045440804213285,0.083380155265331,-0.141813859343529,-0.014637555927038,-0.019464550539851,-0.025887869298458,-0.054521262645721,0.077413417398930,-0.118378207087517,0.003779117017984,-0.040174625813961,-0.011618662625551,-0.084724508225918));
res += mul(Get(s3,0,-dy), float4x4(-0.015491378493607,0.016034707427025,0.054623372852802,-0.057979952543974,0.040934830904007,-0.071088686585426,-0.041513178497553,0.167080745100975,0.027677478268743,0.040964931249619,0.033644702285528,-0.171770289540291,-0.157196372747421,-0.057066082954407,0.021473262459040,0.039203163236380));
res += mul(Get(s3,0,0), float4x4(0.011123435571790,-0.015270942822099,0.035917699337006,0.115869298577309,0.020888037979603,-0.062946610152721,-0.034427076578140,0.038456965237856,-0.143317103385925,0.147899031639099,-0.106551140546799,0.119840018451214,0.033395498991013,-0.043287243694067,0.024749204516411,-0.118780918419361));
res += mul(Get(s3,0,dy), float4x4(0.026724532246590,0.077237650752068,0.065241552889347,0.083265319466591,-0.120463728904724,-0.111388199031353,0.023523224517703,0.039691157639027,0.073489800095558,-0.048655938357115,0.007946838624775,-0.189977854490280,0.035458561033010,-0.026129763573408,0.065125443041325,-0.022323548793793));
res += mul(Get(s3,dx,-dy), float4x4(-0.113313734531403,0.115186095237732,0.051549479365349,-0.005628668237478,0.008951072581112,-0.018128603696823,0.016760883852839,-0.007391429506242,0.016783220693469,0.066651642322540,0.077523730695248,0.187936171889305,0.039620969444513,-0.072247646749020,0.078075282275677,0.098742529749870));
res += mul(Get(s3,dx,0), float4x4(0.012216782197356,-0.023495504632592,-0.140578955411911,-0.030132086947560,0.095458604395390,0.011811102740467,-0.075751140713692,0.056937530636787,0.082944661378860,0.117233313620090,-0.010550192557275,0.051320202648640,0.011045053601265,-0.052628010511398,0.036184772849083,-0.001473895274103));
res += mul(Get(s3,dx,dy), float4x4(-0.065668918192387,-0.003484674496576,0.009838540107012,-0.117239087820053,-0.181393325328827,0.119708202779293,-0.035675581544638,-0.072188161313534,0.038668058812618,-0.076873436570168,-0.108537025749683,-0.195450484752655,-0.005697613116354,0.043037448078394,0.046034403145313,0.071559824049473));
return max(float4(0,0,0,0), res);
}
