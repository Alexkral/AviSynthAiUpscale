sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.021894762292504,-0.001462659914978,-0.036511376500130,-0.189294666051865) * Get(-dx,-dy);
res += float4(0.062037799507380,0.084389694035053,0.027678390964866,0.059274852275848) * Get(-dx,0);
res += float4(-0.082509517669678,0.193625479936600,-0.014881129376590,-0.060106433928013) * Get(-dx,dy);
res += float4(-0.127472937107086,-0.137233719229698,0.246182039380074,-0.005943201016635) * Get(0,-dy);
res += float4(-0.143042922019958,0.108363509178162,-0.057360120117664,-0.054928295314312) * Get(0,0);
res += float4(0.017378954216838,0.092698283493519,-0.055584892630577,0.043326180428267) * Get(0,dy);
res += float4(-0.018670655786991,-0.061918575316668,0.017074270173907,-0.019803596660495) * Get(dx,-dy);
res += float4(-0.041519757360220,0.047268569469452,-0.168180808424950,0.071168139576912) * Get(dx,0);
res += float4(0.090317286550999,-0.169231489300728,-0.061900753527880,0.055417373776436) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
