sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.185533076524734,0.026437081396580,-0.042143635451794,-0.001813725451939,0.054263133555651,0.067802295088768,-0.044879075139761,-0.038674861192703,0.075932942330837,0.129134267568588,-0.049445163458586,-0.226774826645851,-0.030751764774323,-0.013013138435781,0.073361806571484,0.105467654764652));
res += mul(Get(s0,-dx,0), float4x4(-0.014534150250256,-0.117872059345245,-0.098163530230522,0.104414664208889,0.077094689011574,0.000349117559381,0.040848363190889,0.149967566132545,0.150797232985497,-0.081482708454132,-0.103577248752117,-0.078277751803398,0.040026322007179,-0.077227346599102,-0.176828384399414,0.124002754688263));
res += mul(Get(s0,-dx,dy), float4x4(-0.040806237608194,-0.045068819075823,0.034003719687462,0.142723903059959,0.077272318303585,0.032258652150631,0.027451451867819,-0.092886708676815,-0.042091153562069,0.015217706561089,0.020964235067368,-0.121789537370205,0.061867348849773,-0.094211012125015,-0.108135223388672,-0.033259563148022));
res += mul(Get(s0,0,-dy), float4x4(0.047227513045073,0.082860901951790,-0.051001183688641,0.066556796431541,0.010198385454714,-0.047107271850109,0.023521088063717,-0.033795543015003,-0.023676129058003,-0.107656918466091,-0.108044669032097,0.050217516720295,0.101504765450954,-0.104490749537945,-0.053778588771820,-0.054602261632681));
res += mul(Get(s0,0,0), float4x4(-0.111463032662868,-0.096545182168484,0.118146844208241,-0.133680492639542,-0.123974435031414,-0.010693697258830,-0.031267810612917,-0.098595514893532,0.089669302105904,0.067607611417770,0.150572597980499,0.088933132588863,0.033284228295088,0.030620975419879,-0.022779200226068,-0.085986688733101));
res += mul(Get(s0,0,dy), float4x4(-0.037989810109138,-0.014524163678288,-0.011028527282178,0.123059347271919,-0.145789787173271,0.072525709867477,0.000166265745065,0.045425128191710,-0.081841126084328,0.017737064510584,0.125711798667908,-0.173711627721786,-0.079509913921356,0.027370709925890,-0.110771492123604,0.045791566371918));
res += mul(Get(s0,dx,-dy), float4x4(-0.043903890997171,-0.080063283443451,-0.122943103313446,0.089758820831776,0.008212502114475,-0.108030043542385,-0.014731700532138,0.030503224581480,0.166571184992790,-0.098714940249920,-0.069668971002102,-0.150711730122566,0.017972035333514,-0.060981620103121,0.059280540794134,0.064201779663563));
res += mul(Get(s0,dx,0), float4x4(0.107424013316631,-0.081335581839085,0.009209504351020,0.021158710122108,0.139910072088242,-0.063625067472458,-0.008886487223208,-0.054366197437048,0.041653342545033,0.034964077174664,0.177497446537018,-0.039887439459562,-0.119913771748543,0.066617757081985,-0.032431073486805,-0.128109410405159));
res += mul(Get(s0,dx,dy), float4x4(0.054845031350851,-0.077972836792469,0.058986850082874,0.203561857342720,0.071767710149288,0.085221663117409,-0.107414208352566,-0.117949396371841,-0.053270548582077,0.095525033771992,0.108916953206062,0.072880797088146,0.058357290923595,-0.086388833820820,-0.000837131461594,-0.012364376336336));
res += mul(Get(s1,-dx,-dy), float4x4(0.048001144081354,0.124435238540173,-0.047832187265158,-0.044658020138741,0.018925435841084,0.052913840860128,0.070410922169685,-0.073518887162209,-0.056302007287741,0.059214971959591,0.060858424752951,-0.016100030392408,-0.134049013257027,-0.080443523824215,0.079602770507336,-0.027299525216222));
res += mul(Get(s1,-dx,0), float4x4(0.012907687574625,-0.178012564778328,-0.008484398946166,0.049931488931179,0.040450058877468,0.096669629216194,-0.093649066984653,-0.161036357283592,-0.087841860949993,0.057449948042631,0.060586635023355,0.191280916333199,0.021335827186704,0.004765363875777,0.062286708503962,-0.110393442213535));
res += mul(Get(s1,-dx,dy), float4x4(-0.077330879867077,-0.022642945870757,0.116041444242001,0.095662012696266,0.064622454345226,-0.021729441359639,0.099827826023102,-0.066878862679005,0.092726640403271,-0.120974235236645,-0.015003990381956,0.088676735758781,0.127426967024803,0.035877346992493,0.044762782752514,0.177891075611115));
res += mul(Get(s1,0,-dy), float4x4(0.106133259832859,0.063169479370117,-0.154063448309898,0.100621052086353,0.000879152445123,0.107013650238514,0.048625860363245,0.119252279400826,0.056857753545046,-0.129013165831566,0.136245936155319,-0.208234161138535,-0.047553688287735,-0.003385228104889,-0.108392357826233,-0.024175425991416));
res += mul(Get(s1,0,0), float4x4(0.083367064595222,0.001241856603883,-0.081146687269211,0.040729638189077,0.164074614644051,0.021659700199962,0.077849894762039,0.019769625738263,0.200358897447586,0.107822507619858,0.023354968056083,-0.078760489821434,-0.030309321358800,0.029072590172291,-0.073203109204769,0.188205599784851));
res += mul(Get(s1,0,dy), float4x4(-0.058156490325928,0.004599254112691,-0.039606440812349,-0.035072270780802,0.034531142562628,-0.130059733986855,0.029679926112294,-0.033070079982281,-0.016044583171606,0.063701547682285,-0.043039280921221,-0.002739734947681,0.032597091048956,0.039042651653290,0.072776272892952,-0.080770395696163));
res += mul(Get(s1,dx,-dy), float4x4(-0.112313002347946,-0.043271843343973,0.044677753001451,-0.040054731070995,-0.063557617366314,-0.051000077277422,-0.096138358116150,0.012886472046375,0.060653105378151,0.044103711843491,0.004624918568879,0.039189916104078,-0.198237657546997,0.070942133665085,0.035362970083952,-0.023827254772186));
res += mul(Get(s1,dx,0), float4x4(0.084618628025055,0.164478406310081,-0.086785800755024,-0.098380275070667,-0.069149285554886,-0.025735143572092,-0.124974027276039,0.031896602362394,-0.007528896443546,0.135954648256302,-0.043811220675707,-0.024159668013453,0.108907394111156,-0.229939192533493,0.100227713584900,-0.110683090984821));
res += mul(Get(s1,dx,dy), float4x4(0.051219061017036,-0.038364950567484,-0.045085165649652,0.097554944455624,0.106021173298359,0.045011289417744,0.050396934151649,0.033948071300983,0.048138841986656,0.161494240164757,0.046158127486706,-0.004566359333694,0.024331329390407,0.001037428388372,0.063696756958961,-0.074635066092014));
res += mul(Get(s2,-dx,-dy), float4x4(0.037398830056190,-0.027888022363186,-0.111536510288715,0.076118454337120,-0.068344056606293,-0.018016427755356,-0.021933814510703,0.023452639579773,-0.038190823048353,-0.004660125821829,-0.126255229115486,0.024605641141534,-0.070816397666931,-0.049378048628569,0.012462420389056,-0.073453336954117));
res += mul(Get(s2,-dx,0), float4x4(0.066397801041603,-0.043640084564686,0.062624618411064,0.063286378979683,0.045871891081333,-0.089847244322300,-0.077758848667145,-0.126403942704201,-0.018178833648562,-0.028790157288313,0.126983404159546,-0.010710478760302,-0.012128178030252,-0.041663613170385,-0.121797397732735,-0.078578993678093));
res += mul(Get(s2,-dx,dy), float4x4(0.040953926742077,0.014638017863035,0.065051302313805,-0.072799481451511,0.113621816039085,-0.109092734754086,-0.099635213613510,-0.061876896768808,0.188533008098602,0.039268977940083,-0.055300150066614,0.052408698946238,0.062792263925076,0.149389117956161,-0.002643319778144,0.038818933069706));
res += mul(Get(s2,0,-dy), float4x4(0.080542914569378,0.053771570324898,0.168797388672829,0.005857990588993,-0.124973729252815,0.050296396017075,0.046240661293268,-0.094934403896332,0.037865005433559,0.071428328752518,0.061084643006325,0.091885767877102,0.166433662176132,0.036612015217543,0.015147836878896,0.131740078330040));
res += mul(Get(s2,0,0), float4x4(-0.080614507198334,-0.018110439181328,0.003039998933673,-0.044363386929035,-0.033768594264984,0.013165388256311,-0.053848695009947,0.120829984545708,0.042673468589783,-0.015777699649334,0.005061034578830,-0.080590389668941,-0.035712298005819,0.030200017616153,-0.023546637967229,-0.028263762593269));
res += mul(Get(s2,0,dy), float4x4(0.015601457096636,0.014335826039314,-0.013546824455261,0.064442202448845,-0.113650627434254,0.123865179717541,0.143112704157829,-0.022127315402031,0.021155502647161,0.000218346918700,0.043782267719507,-0.087380573153496,0.047228313982487,0.024459760636091,0.031304147094488,0.094072081148624));
res += mul(Get(s2,dx,-dy), float4x4(0.079652063548565,-0.138950824737549,-0.109742164611816,-0.062830448150635,-0.114118792116642,0.035976517945528,0.277742385864258,0.028453106060624,0.031582769006491,-0.070179902017117,0.020180951803923,0.032293159514666,-0.035908471792936,0.032252881675959,0.073760762810707,0.115891955792904));
res += mul(Get(s2,dx,0), float4x4(-0.005355173721910,-0.099267743527889,-0.007329013198614,0.129525944590569,0.030419249087572,-0.118003010749817,0.060353927314281,-0.125965967774391,-0.101823613047600,0.092782102525234,0.029695140197873,-0.016493506729603,0.008419954217970,0.034492261707783,-0.131361886858940,0.090686015784740));
res += mul(Get(s2,dx,dy), float4x4(0.045979984104633,-0.040357068181038,-0.111303903162479,-0.129927560687065,0.086195714771748,-0.189461529254913,-0.024753270670772,-0.085071846842766,0.065842926502228,-0.002294495934620,-0.096601493656635,-0.008455866016448,0.233141109347343,-0.003542715217918,-0.117718741297722,0.128411397337914));
res += mul(Get(s3,-dx,-dy), float4x4(0.025105472654104,0.142516329884529,-0.013488884083927,0.030591661110520,-0.042334079742432,-0.168078228831291,0.077875755727291,0.026770824566483,-0.088712394237518,0.044145978987217,0.121318124234676,0.022984998300672,-0.070865809917450,0.012853031978011,-0.003848198568448,-0.141946747899055));
res += mul(Get(s3,-dx,0), float4x4(-0.043642170727253,-0.024783479049802,0.000179582755663,-0.134760171175003,0.034213121980429,0.072543576359749,0.070974364876747,0.158023715019226,0.061583336442709,-0.021205162629485,-0.083812937140465,-0.055178955197334,-0.000043223000830,-0.258371502161026,-0.041498076170683,0.012283605523407));
res += mul(Get(s3,-dx,dy), float4x4(0.116653107106686,-0.061776660382748,-0.001221543760039,-0.068842038512230,0.070257537066936,-0.005417970940471,-0.004360255319625,-0.016961852088571,-0.019274035468698,-0.134399756789207,-0.045212097465992,0.047820400446653,-0.063828647136688,-0.076235905289650,0.034237410873175,0.067934080958366));
res += mul(Get(s3,0,-dy), float4x4(0.066336333751678,-0.045557692646980,0.020635344088078,-0.009537713602185,-0.056833505630493,-0.011578587815166,0.128847330808640,0.050296764820814,0.005717446561903,-0.045492369681597,0.013838778249919,-0.059742793440819,-0.011658336035907,-0.121661163866520,0.029589094221592,-0.086726352572441));
res += mul(Get(s3,0,0), float4x4(-0.112200900912285,0.073776967823505,0.024397859349847,-0.120569370687008,0.084433317184448,0.083054937422276,-0.043910712003708,-0.106593303382397,-0.030965941026807,0.240760341286659,-0.032350547611713,0.021701132878661,0.086932644248009,-0.018412781879306,-0.170660063624382,-0.017309295013547));
res += mul(Get(s3,0,dy), float4x4(-0.010659022256732,0.059031751006842,0.150869846343994,-0.044061254709959,-0.028698610141873,-0.011082231998444,0.015452802181244,-0.076315909624100,0.062029875814915,0.043397143483162,-0.030686836689711,0.027326017618179,0.008788396604359,0.094375863671303,-0.037012044340372,0.103418618440628));
res += mul(Get(s3,dx,-dy), float4x4(-0.038648471236229,0.097259670495987,-0.061628699302673,0.105330795049667,0.047129437327385,0.021822914481163,0.085624642670155,0.026841832324862,0.147982925176620,0.016112772747874,0.058404266834259,0.119773820042610,0.100420154631138,0.044065639376640,-0.090435557067394,0.139696478843689));
res += mul(Get(s3,dx,0), float4x4(-0.011793468147516,-0.026888510212302,-0.076822884380817,-0.069463104009628,-0.031973451375961,-0.065619818866253,0.065634429454803,0.041867502033710,0.067070655524731,-0.040176972746849,-0.052436873316765,-0.091055989265442,-0.040764857083559,-0.039192602038383,0.003479374572635,-0.000184651056770));
res += mul(Get(s3,dx,dy), float4x4(0.024113288149238,0.011804600246251,-0.157765686511993,0.013614580035210,0.082747660577297,-0.041274167597294,0.048217993229628,-0.040829140692949,0.016327060759068,-0.150583222508430,0.030400328338146,0.016045214608312,0.032270532101393,-0.137293562293053,-0.069432370364666,0.124940730631351));
return max(float4(0,0,0,0), res);
}
