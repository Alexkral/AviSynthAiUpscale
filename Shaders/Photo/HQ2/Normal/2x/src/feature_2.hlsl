sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.023068107664585,-0.044413968920708,-0.059396520256996,0.118351764976978) * Get(-dx,-dy);
res += float4(-0.080244824290276,-0.006391505710781,0.113586954772472,0.390403687953949) * Get(-dx,0);
res += float4(0.095945447683334,0.111804246902466,-0.113131426274776,0.023265849798918) * Get(-dx,dy);
res += float4(-0.154172986745834,0.077999666333199,-0.019130758941174,-0.240002959966660) * Get(0,-dy);
res += float4(-0.017898540943861,0.138860702514648,-0.035728927701712,0.010051005519927) * Get(0,0);
res += float4(-0.039154063910246,-0.062602020800114,0.042789250612259,-0.072413593530655) * Get(0,dy);
res += float4(0.023140465840697,0.008716640062630,-0.110389091074467,0.107952959835529) * Get(dx,-dy);
res += float4(0.020182769745588,-0.065165132284164,0.009167221374810,-0.098886854946613) * Get(dx,0);
res += float4(-0.083837583661079,-0.036400903016329,0.002166737103835,0.019538162276149) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
