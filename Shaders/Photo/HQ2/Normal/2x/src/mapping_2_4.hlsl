sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.011905219405890,0.210522979497910,0.100950188934803,0.119167082011700,-0.106711536645889,-0.029598049819469,-0.086830139160156,-0.063456438481808,-0.056077994406223,-0.053535647690296,0.069239750504494,0.026073182001710,-0.088003955781460,0.100880660116673,0.086312338709831,0.006085753906518));
res += mul(Get(s0,-dx,0), float4x4(0.188282996416092,-0.031484983861446,-0.085289135575294,-0.026051100343466,0.039740398526192,-0.119061708450317,0.034392878413200,-0.088699221611023,0.097054287791252,0.150125205516815,0.035879626870155,0.044855736196041,0.005694522056729,0.037280716001987,0.043303791433573,0.083224572241306));
res += mul(Get(s0,-dx,dy), float4x4(-0.000798982626293,-0.039809763431549,-0.015852531418204,0.076408796012402,0.081401817500591,0.143175885081291,-0.058793421834707,0.080806165933609,0.019905958324671,0.004283453337848,-0.070967435836792,-0.073107860982418,-0.029618043452501,-0.080148808658123,0.105606935918331,0.056074440479279));
res += mul(Get(s0,0,-dy), float4x4(-0.035924885421991,0.140757083892822,-0.002254805993289,-0.094004295766354,0.093617416918278,0.017686065286398,-0.097034603357315,0.000078936725913,-0.129575103521347,-0.089879684150219,0.089018613100052,0.002395783551037,-0.017405789345503,-0.009831096045673,-0.171341434121132,-0.026440741494298));
res += mul(Get(s0,0,0), float4x4(-0.053732655942440,-0.066128320991993,-0.046627391129732,0.018902931362391,0.185090303421021,-0.044079340994358,-0.019031750038266,-0.090372264385223,0.102848477661610,-0.015799308195710,-0.084350079298019,-0.053214170038700,0.025847960263491,-0.051218822598457,-0.027172844856977,0.077401608228683));
res += mul(Get(s0,0,dy), float4x4(-0.062753893435001,-0.154365271329880,-0.083070561289787,0.094345398247242,-0.094670213758945,0.035081937909126,-0.070572718977928,-0.064795970916748,0.086453124880791,0.043986722826958,-0.165586411952972,0.104298859834671,-0.018621355295181,0.059022296220064,-0.031840585172176,-0.096989661455154));
res += mul(Get(s0,dx,-dy), float4x4(0.023508258163929,0.012299355119467,0.105569943785667,-0.050470136106014,0.120886035263538,0.071572929620743,0.069630883634090,0.030367275699973,0.019320264458656,0.167429924011230,-0.086964458227158,-0.065669775009155,-0.140668258070946,0.128650605678558,-0.005063409451395,0.114205174148083));
res += mul(Get(s0,dx,0), float4x4(-0.060967244207859,0.035085074603558,0.055962838232517,0.008722950704396,0.012184764258564,-0.086919836699963,0.188749268651009,0.022964123636484,-0.090896628797054,0.013340727426112,0.046481505036354,0.156934171915054,-0.047194670885801,-0.004560028202832,0.089768126606941,0.096078529953957));
res += mul(Get(s0,dx,dy), float4x4(-0.154802501201630,-0.029126450419426,-0.076237469911575,0.138000011444092,-0.034590523689985,0.014842665754259,-0.145696148276329,-0.025227421894670,-0.075875677168369,0.059406470507383,0.017830880358815,-0.055881001055241,-0.038577567785978,0.081946894526482,-0.055969931185246,0.000676533032674));
res += mul(Get(s1,-dx,-dy), float4x4(-0.142765685915947,-0.058282796293497,0.021215606480837,0.033652525395155,-0.075299113988876,-0.067339338362217,0.063317783176899,-0.032171040773392,-0.043957177549601,0.120827600359917,0.074929386377335,0.009457387030125,0.015897184610367,-0.034492939710617,0.040118500590324,0.060014054179192));
res += mul(Get(s1,-dx,0), float4x4(0.074044741690159,0.013455655425787,-0.159889847040176,0.081705540418625,0.092124700546265,-0.113462656736374,0.000161135132657,-0.065963789820671,0.026923218742013,-0.043851565569639,-0.009411388076842,0.061348255723715,0.058075945824385,0.060422942042351,0.045374795794487,0.044922858476639));
res += mul(Get(s1,-dx,dy), float4x4(-0.181284308433533,-0.014730657450855,-0.076559439301491,-0.027422849088907,0.080938197672367,-0.024954171851277,0.105120912194252,-0.007563943974674,0.062914066016674,-0.125681206583977,-0.047570571303368,-0.086067296564579,0.021271931007504,0.066232562065125,-0.115830026566982,0.110274501144886));
res += mul(Get(s1,0,-dy), float4x4(0.034806668758392,0.135235056281090,0.078731425106525,0.045543193817139,0.057143371552229,0.133825525641441,-0.045728489756584,0.031524106860161,-0.061228737235069,-0.079972520470619,0.030534276738763,0.127590969204903,0.002587638329715,0.107894897460938,0.084703832864761,0.009351293556392));
res += mul(Get(s1,0,0), float4x4(-0.026469629257917,0.024906311184168,-0.145111054182053,0.056767292320728,0.043197438120842,-0.033959474414587,-0.061488296836615,0.069317020475864,-0.011402461677790,0.009874700568616,0.054196324199438,-0.063974693417549,-0.111253775656223,0.083906538784504,0.006377877201885,0.056071083992720));
res += mul(Get(s1,0,dy), float4x4(-0.031082592904568,0.063775509595871,0.118798561394215,0.031143326312304,0.056983720511198,0.019312841817737,-0.063139759004116,-0.011857325211167,-0.046006292104721,-0.035021606832743,-0.070973657071590,-0.092528469860554,-0.004891780670732,0.069414377212524,-0.024965560063720,-0.132020249962807));
res += mul(Get(s1,dx,-dy), float4x4(0.058859419077635,-0.028590423986316,-0.041685160249472,-0.117998443543911,0.059813786298037,-0.050079315900803,0.165084689855576,0.002233203500509,0.099834784865379,0.070818684995174,-0.002121157478541,0.042514402419329,0.258553266525269,0.149083256721497,-0.152229934930801,0.142092272639275));
res += mul(Get(s1,dx,0), float4x4(-0.021095532923937,-0.055731166154146,0.042917624115944,-0.028012068942189,0.037412017583847,-0.171942576766014,-0.028392193838954,0.084500849246979,0.034976933151484,-0.006171110551804,-0.041013162583113,-0.006479133386165,0.054908405989408,0.105737157166004,-0.030542222782969,0.199698939919472));
res += mul(Get(s1,dx,dy), float4x4(-0.016629429534078,0.032502774149179,-0.099221527576447,-0.164753794670105,0.057172406464815,0.000252070283750,-0.135119110345840,0.109003558754921,0.081673018634319,-0.198358014225960,-0.057415951043367,-0.147292450070381,0.003233739407733,-0.057076402008533,-0.012017099186778,-0.065187238156796));
res += mul(Get(s2,-dx,-dy), float4x4(0.124415390193462,-0.073027998209000,-0.016750769689679,-0.053362265229225,0.092905059456825,-0.058966848999262,-0.000689894193783,-0.147041097283363,0.121951036155224,0.135088011622429,-0.062837272882462,-0.036048531532288,-0.107743635773659,-0.049273647367954,0.016239842399955,-0.029949180781841));
res += mul(Get(s2,-dx,0), float4x4(-0.046322066336870,-0.020734036341310,-0.053808290511370,0.070140071213245,0.057438220828772,0.074685633182526,-0.050214216113091,-0.008788082748652,-0.015207587741315,-0.006048568990082,0.108416214585304,0.022007748484612,-0.165153250098228,0.008725400082767,0.079405017197132,-0.133584186434746));
res += mul(Get(s2,-dx,dy), float4x4(0.108055762946606,0.036642745137215,0.061991974711418,-0.083343356847763,0.121968045830727,-0.015568694099784,0.002370008965954,0.055983364582062,0.062176674604416,0.142880156636238,0.000145931087900,0.087390922009945,-0.112899944186211,0.050128679722548,-0.066427923738956,-0.117462269961834));
res += mul(Get(s2,0,-dy), float4x4(-0.101729594171047,0.133307248353958,0.113513894379139,0.039519555866718,-0.111785493791103,0.148263946175575,0.133992373943329,-0.107101798057556,-0.003111711470410,0.143300831317902,0.021503785625100,0.031858403235674,-0.234296679496765,0.058244701474905,0.008027242496610,0.029413653537631));
res += mul(Get(s2,0,0), float4x4(0.086709119379520,-0.015114933252335,0.077125728130341,-0.037830088287592,0.005767371971160,0.003375875530764,-0.014452553354204,-0.016294501721859,-0.063750781118870,-0.050058502703905,0.022928783670068,0.042775258421898,0.048164535313845,0.009333680383861,0.014845368452370,0.030039584264159));
res += mul(Get(s2,0,dy), float4x4(0.077173188328743,0.121103033423424,-0.050383273512125,0.076095923781395,-0.110270924866199,0.154138028621674,-0.065050378441811,0.016828468069434,-0.054819203913212,-0.097564302384853,-0.054954655468464,0.055189259350300,0.000519640394486,-0.076523520052433,-0.049802981317043,0.077561631798744));
res += mul(Get(s2,dx,-dy), float4x4(0.008206656202674,-0.045962631702423,0.019010066986084,-0.121355295181274,0.010611062869430,-0.211557298898697,0.116427719593048,-0.045505836606026,-0.104730062186718,0.061906345188618,0.095528572797775,0.070514596998692,-0.084415189921856,-0.070186696946621,0.058814175426960,0.032455805689096));
res += mul(Get(s2,dx,0), float4x4(-0.096752226352692,-0.054916534572840,0.000162728028954,-0.008894550614059,0.051701080054045,0.033796072006226,0.080569379031658,0.142821386456490,0.125291213393211,-0.042191524058580,0.200248211622238,-0.095718614757061,-0.108457654714584,0.024609843268991,0.101004272699356,-0.063231267035007));
res += mul(Get(s2,dx,dy), float4x4(0.014710303395987,0.027510827407241,-0.083489105105400,0.008476832881570,-0.068366274237633,0.024783117696643,-0.046687953174114,0.064329855144024,-0.224910601973534,-0.005334753543139,-0.212497666478157,-0.055582165718079,-0.109904222190380,-0.182619303464890,0.018509849905968,0.000106069594040));
res += mul(Get(s3,-dx,-dy), float4x4(-0.032232891768217,-0.096932776272297,0.032131254673004,-0.058616936206818,0.022474076598883,0.100373953580856,-0.038179259747267,-0.141179561614990,-0.072487622499466,-0.052030969411135,-0.022844493389130,-0.058781310915947,0.118680365383625,-0.112736068665981,-0.081827059388161,0.000816254760139));
res += mul(Get(s3,-dx,0), float4x4(-0.174105897545815,-0.132347688078880,-0.046178147196770,0.071993552148342,0.001488418085501,-0.039434954524040,-0.129401281476021,0.031823746860027,0.002667010063305,-0.008716157637537,0.134152308106422,0.038355834782124,-0.061649385839701,-0.032300788909197,-0.128606811165810,0.000607559806667));
res += mul(Get(s3,-dx,dy), float4x4(0.032653886824846,-0.026780035346746,0.093793980777264,-0.125975847244263,0.133449733257294,-0.058118030428886,0.017967024818063,0.023948810994625,-0.106106206774712,-0.094949260354042,-0.036122765392065,-0.074658036231995,-0.096349790692329,0.188079833984375,0.027845486998558,-0.160352364182472));
res += mul(Get(s3,0,-dy), float4x4(-0.004748512990773,0.042314026504755,-0.005671798717231,0.074524559080601,0.033457789570093,0.122624039649963,-0.119183756411076,-0.065376132726669,0.036169741302729,0.040324945002794,0.092344298958778,0.000049791033234,-0.017642524093390,0.131641298532486,-0.081238985061646,0.079535908997059));
res += mul(Get(s3,0,0), float4x4(-0.034560412168503,0.197616741061211,0.041508831083775,0.040945451706648,-0.011654800735414,0.010226469486952,-0.043788168579340,0.083118081092834,-0.128218591213226,0.010644478723407,0.090689443051815,-0.039838492870331,-0.011734909377992,0.064278952777386,-0.054798863828182,0.011483105830848));
res += mul(Get(s3,0,dy), float4x4(0.050209254026413,-0.001784926163964,0.100334227085114,0.066185109317303,-0.048131223767996,-0.007199325133115,-0.141656875610352,-0.183335795998573,-0.205731853842735,0.029322803020477,-0.046322178095579,-0.012400801293552,0.125773340463638,0.024580651894212,0.025122426450253,-0.031685572117567));
res += mul(Get(s3,dx,-dy), float4x4(0.037682201713324,-0.089528329670429,-0.025109373033047,-0.047218840569258,-0.088439285755157,-0.006795378401875,0.086046494543552,-0.017423190176487,-0.020695716142654,-0.006159540731460,0.033158946782351,0.153905853629112,-0.033277153968811,0.061651881784201,-0.108822964131832,-0.004841613583267));
res += mul(Get(s3,dx,0), float4x4(-0.020689291879535,-0.040605194866657,-0.024072002619505,0.016784481704235,-0.012580920010805,-0.032571904361248,-0.013633011840284,-0.045598030090332,-0.083310805261135,-0.069180406630039,0.008135731332004,-0.050081603229046,0.090966425836086,0.021181002259254,0.082648232579231,-0.018837910145521));
res += mul(Get(s3,dx,dy), float4x4(0.008485087193549,0.038926277309656,0.006474696565419,0.001222460996360,-0.024346902966499,0.093710653483868,0.011604602448642,-0.093363061547279,0.126756519079208,-0.013556205667555,0.175099983811378,0.070379391312599,0.110490910708904,0.079661577939987,0.032887972891331,0.151328548789024));
return max(float4(0,0,0,0), res);
}
