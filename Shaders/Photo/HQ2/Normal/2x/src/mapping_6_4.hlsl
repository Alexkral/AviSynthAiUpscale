sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.032125227153301,-0.091130614280701,-0.134857684373856,0.043055113404989,-0.066324070096016,-0.091398850083351,0.066232927143574,0.071252830326557,-0.122003540396690,-0.134565949440002,0.048399504274130,0.121270745992661,-0.030846208333969,0.050859902054071,0.024202559143305,0.099338755011559));
res += mul(Get(s0,-dx,0), float4x4(-0.132573723793030,0.064850784838200,-0.224150866270065,-0.164353102445602,-0.045169617980719,-0.014266269281507,-0.064814090728760,0.095636337995529,-0.087185800075531,-0.027544492855668,-0.093585871160030,-0.081488788127899,0.007032587192953,-0.032485298812389,0.090534627437592,-0.066935651004314));
res += mul(Get(s0,-dx,dy), float4x4(-0.009908576495945,0.087214410305023,-0.038228034973145,-0.097052372992039,-0.100286126136780,0.094348683953285,-0.080846406519413,0.135803699493408,-0.137207627296448,0.078778527677059,0.129969626665115,0.055120773613453,-0.014439953491092,-0.058749854564667,-0.151270836591721,-0.105221457779408));
res += mul(Get(s0,0,-dy), float4x4(0.037379588931799,-0.018747508525848,0.059800181537867,0.099423892796040,-0.027336370199919,-0.021644020453095,0.070036232471466,0.066267140209675,0.004889869131148,-0.034726660698652,0.126879006624222,-0.127786904573441,-0.115298978984356,-0.243102550506592,0.097950242459774,0.046809498220682));
res += mul(Get(s0,0,0), float4x4(0.130582600831985,-0.194308027625084,-0.002680414123461,0.009451955556870,0.018607478588820,-0.025433477014303,-0.026562092825770,-0.022153871133924,0.029268970713019,0.075288549065590,0.106183342635632,-0.026942543685436,0.038718853145838,-0.117372982203960,-0.043984934687614,0.159605801105499));
res += mul(Get(s0,0,dy), float4x4(0.045771013945341,0.040444605052471,-0.023231759667397,0.120892569422722,0.083114825189114,0.054931659251451,-0.059258073568344,-0.121434427797794,-0.085986293852329,-0.070256955921650,0.008906988427043,-0.006746367085725,0.064956657588482,0.095262654125690,-0.146678328514099,0.110009372234344));
res += mul(Get(s0,dx,-dy), float4x4(0.022653356194496,0.122335180640221,-0.017278451472521,0.094931796193123,-0.035805247724056,-0.062327183783054,-0.099426567554474,-0.065477393567562,-0.021583624184132,-0.009518980979919,-0.036382351070642,-0.048920042812824,0.019263364374638,0.176889777183533,-0.023208884522319,0.083117827773094));
res += mul(Get(s0,dx,0), float4x4(-0.001788439811207,0.029923994094133,0.028577335178852,0.057430971413851,-0.077673763036728,-0.043789889663458,-0.088535510003567,-0.087803192436695,0.052933551371098,-0.066707052290440,0.089802220463753,0.084324866533279,0.025384226813912,0.033861663192511,-0.078380092978477,0.051139749586582));
res += mul(Get(s0,dx,dy), float4x4(-0.017329847440124,-0.057424154132605,0.031941395252943,0.061557833105326,0.043967258185148,-0.099440544843674,-0.031992856413126,-0.051649760454893,0.019500678405166,0.036897785961628,0.001936931512319,-0.030293971300125,0.029778309166431,0.011456427164376,-0.074502356350422,0.130502343177795));
res += mul(Get(s1,-dx,-dy), float4x4(0.020921638235450,0.031129460781813,-0.081547252833843,0.114111281931400,0.018933048471808,-0.005325833801180,-0.051121257245541,0.064447447657585,0.018341226503253,-0.014870528131723,0.109609104692936,0.017242189496756,-0.076596878468990,0.099595598876476,-0.025041131302714,-0.197705253958702));
res += mul(Get(s1,-dx,0), float4x4(-0.037301968783140,-0.121798977255821,0.052227415144444,-0.039244405925274,-0.078407846391201,-0.009248840622604,0.060485359281301,0.093308292329311,-0.011827509850264,-0.087018273770809,-0.081243105232716,-0.060508817434311,0.091781057417393,-0.050737276673317,0.041151206940413,0.087959863245487));
res += mul(Get(s1,-dx,dy), float4x4(0.026240408420563,0.102702505886555,-0.063355349004269,-0.008122749626637,-0.025209503248334,0.132118448615074,0.034560266882181,0.010688762180507,0.115149505436420,0.077410973608494,-0.122049696743488,-0.035519536584616,0.037844967097044,0.054259061813354,-0.131403252482414,-0.024870730936527));
res += mul(Get(s1,0,-dy), float4x4(0.024175258353353,-0.030968530103564,-0.048156701028347,-0.071945630013943,0.066706672310829,-0.211850792169571,0.049260608851910,0.070382460951805,-0.011437810026109,0.062440376728773,-0.030682763084769,0.016624078154564,-0.043862707912922,0.106734529137611,-0.122221015393734,0.063990429043770));
res += mul(Get(s1,0,0), float4x4(0.127638205885887,-0.081395581364632,0.012224517762661,-0.009686476550996,0.110784500837326,0.018006516620517,-0.042003504931927,0.031289070844650,-0.121941976249218,-0.095649756491184,0.174271002411842,0.055499505251646,-0.096729189157486,0.058374181389809,-0.303163319826126,0.033510308712721));
res += mul(Get(s1,0,dy), float4x4(-0.136843889951706,0.011025186628103,-0.117596685886383,0.078136034309864,0.088598012924194,-0.097960390150547,0.159467145800591,0.053208611905575,0.021969152614474,0.051150701940060,-0.021300112828612,-0.084234967827797,-0.147115781903267,0.095378018915653,0.006913348101079,-0.036743793636560));
res += mul(Get(s1,dx,-dy), float4x4(-0.140324681997299,-0.005013919435441,0.075791597366333,0.035097975283861,-0.132765889167786,0.037752944976091,-0.041308581829071,-0.025269461795688,0.015920102596283,0.107352860271931,-0.064949713647366,0.028166797012091,0.072837576270103,-0.056467261165380,0.123209901154041,0.077456682920456));
res += mul(Get(s1,dx,0), float4x4(0.061599154025316,0.016267487779260,-0.225234314799309,-0.088150128722191,0.032025907188654,0.162629798054695,-0.000946143292822,-0.027623666450381,-0.154985412955284,-0.011999040842056,-0.001241922029294,-0.016173757612705,0.108786903321743,0.055461719632149,0.020549647510052,0.078085377812386));
res += mul(Get(s1,dx,dy), float4x4(0.093158088624477,0.112667962908745,-0.034309580922127,0.116554565727711,-0.165560066699982,-0.150103315711021,-0.059644460678101,-0.112969540059566,0.024131502956152,-0.039327889680862,0.017840612679720,-0.136144146323204,0.018161494284868,0.105801708996296,0.010661110281944,0.021078448742628));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007120095193386,0.085106924176216,0.072432003915310,0.105455152690411,0.087004445493221,-0.061105456203222,-0.016977977007627,0.042615480720997,-0.021206051111221,0.014416040852666,-0.108133561909199,0.080997891724110,-0.050579633563757,-0.037230722606182,0.008516206406057,-0.019271405413747));
res += mul(Get(s2,-dx,0), float4x4(0.031255163252354,0.108969800174236,-0.027901021763682,0.093443915247917,-0.054237537086010,0.033844854682684,-0.064593739807606,0.066800780594349,0.066243670880795,0.018310828134418,0.062796220183372,0.128815069794655,0.074416451156139,0.092488385736942,-0.021357826888561,0.111790753901005));
res += mul(Get(s2,-dx,dy), float4x4(-0.022380046546459,-0.222821578383446,-0.051568794995546,0.124966830015182,-0.156162932515144,0.059886831790209,0.036418695002794,-0.052498079836369,-0.035239435732365,-0.151425510644913,-0.051926884800196,-0.041243840008974,0.002677644370124,-0.150091260671616,-0.265152484178543,0.129964068531990));
res += mul(Get(s2,0,-dy), float4x4(0.028514066711068,0.088073939085007,0.020048115402460,-0.029148455709219,0.052311662584543,0.013522930443287,0.038301870226860,0.061217047274113,-0.021262729540467,-0.007266671862453,-0.057001829147339,0.169280543923378,0.131948962807655,0.135127887129784,-0.053266607224941,-0.112411886453629));
res += mul(Get(s2,0,0), float4x4(0.105967596173286,0.033251233398914,0.056376647204161,0.139500111341476,0.044857237488031,-0.033502195030451,0.083891764283180,0.063461914658546,-0.047125197947025,0.055830121040344,-0.050214894115925,-0.071213364601135,-0.064845331013203,0.217456087470055,0.027562718838453,-0.021203454583883));
res += mul(Get(s2,0,dy), float4x4(-0.054758526384830,0.004031367134303,0.088912211358547,-0.143048092722893,0.043799094855785,0.077123247087002,0.113963849842548,-0.011876042000949,0.165478929877281,0.083137549459934,-0.078394249081612,-0.091718502342701,-0.138068109750748,0.039794918149710,0.027699247002602,0.074087083339691));
res += mul(Get(s2,dx,-dy), float4x4(-0.001405268674716,0.098061800003052,-0.095382250845432,-0.022509170696139,0.074192695319653,0.148616075515747,0.125450894236565,0.084266766905785,-0.019029689952731,-0.135561570525169,-0.033121805638075,0.049910269677639,0.100929990410805,-0.013510955497622,0.024119133129716,0.045682780444622));
res += mul(Get(s2,dx,0), float4x4(-0.104145348072052,0.007957306690514,-0.021152779459953,0.000630228896625,-0.049581825733185,0.062443096190691,-0.170687824487686,-0.007227886002511,0.051957339048386,0.023662833496928,0.091362744569778,-0.152531936764717,0.053021904081106,0.040851145982742,-0.094210237264633,0.236570596694946));
res += mul(Get(s2,dx,dy), float4x4(-0.067430637776852,0.086615554988384,-0.161590889096260,-0.044994492083788,0.024488255381584,-0.076144687831402,0.002294612117112,-0.102900043129921,0.038748558610678,0.102607570588589,0.064328923821449,-0.109063930809498,-0.047782897949219,-0.064284086227417,-0.013344140723348,0.064957477152348));
res += mul(Get(s3,-dx,-dy), float4x4(0.079730436205864,-0.054633852094412,-0.061956211924553,0.069063536822796,0.060645423829556,-0.114309065043926,-0.032702509313822,0.117747582495213,-0.050864785909653,-0.008508710190654,-0.041468866169453,0.052971038967371,0.077036343514919,-0.046310484409332,-0.097507923841476,0.018795002251863));
res += mul(Get(s3,-dx,0), float4x4(0.001844556303695,0.034060504287481,0.102351836860180,-0.034121833741665,0.089803688228130,-0.016594167798758,0.054045740514994,-0.043308328837156,0.065446197986603,0.083407163619995,0.064689703285694,-0.142482399940491,-0.115484900772572,-0.064126700162888,-0.018163183704019,-0.015432541258633));
res += mul(Get(s3,-dx,dy), float4x4(-0.014903251081705,-0.012467145919800,0.118624329566956,-0.080275461077690,-0.015009769238532,0.147402659058571,-0.006054088007659,-0.110706217586994,0.083216495811939,-0.030198169872165,-0.091313123703003,-0.043500851839781,-0.001127147348598,0.042427167296410,0.108737774193287,0.104757525026798));
res += mul(Get(s3,0,-dy), float4x4(-0.093792036175728,-0.005045717582107,0.075317040085793,0.011763627640903,-0.092967756092548,-0.028427774086595,0.051463503390551,-0.106980092823505,0.044062647968531,-0.043502252548933,0.053448565304279,-0.017241455614567,-0.002327008638531,0.068070285022259,0.005520645994693,-0.072404660284519));
res += mul(Get(s3,0,0), float4x4(0.002398232696578,0.053332220762968,-0.011630155146122,0.024450464174151,-0.037684936076403,-0.112574689090252,-0.059456765651703,0.038812916725874,-0.056497264653444,-0.124597787857056,-0.078246936202049,0.133260115981102,0.074542373418808,0.062560796737671,-0.086997300386429,0.177107751369476));
res += mul(Get(s3,0,dy), float4x4(0.042518980801105,0.028502233326435,0.054460775107145,-0.065956503152847,-0.070741601288319,0.002343495609239,0.020886231213808,-0.024971170350909,-0.049982439726591,-0.040214594453573,0.090101540088654,0.017105678096414,0.125335276126862,0.017859358340502,0.072621665894985,-0.039180647581816));
res += mul(Get(s3,dx,-dy), float4x4(0.102918960154057,0.004186065401882,-0.075348347425461,0.096601366996765,-0.005562703125179,-0.051599912345409,-0.058136835694313,0.041889548301697,-0.146021991968155,0.120511546730995,0.007381793577224,-0.133660852909088,-0.008571392856538,0.003208549693227,-0.008354541845620,-0.101931720972061));
res += mul(Get(s3,dx,0), float4x4(-0.067095667123795,0.067205309867859,0.119391009211540,0.118491411209106,-0.142762497067451,0.057833060622215,-0.114040799438953,0.093574337661266,0.112473182380199,0.023111291229725,-0.012349697761238,0.140092149376869,0.122210748493671,-0.131965726613998,0.073982022702694,-0.117410175502300));
res += mul(Get(s3,dx,dy), float4x4(0.035561561584473,-0.011678386479616,0.065838508307934,0.033570524305105,-0.060234300792217,0.088148608803749,-0.058413177728653,0.049413487315178,-0.157517269253731,-0.056858971714973,-0.102570533752441,0.042627267539501,-0.112815491855145,0.111396417021751,-0.048308115452528,-0.047628827393055));
return max(float4(0,0,0,0), res);
}
