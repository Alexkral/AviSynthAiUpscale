sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003559784963727,-0.125137060880661,-0.005739607848227,0.057145059108734,0.081804379820824,0.015180151909590,0.098868928849697,0.069732062518597,0.105396144092083,-0.036673024296761,-0.082446619868279,-0.132382348179817,0.015210184268653,-0.000554872385692,0.208875417709351,0.002818714361638));
res += mul(Get(s0,-dx,0), float4x4(-0.047383341938257,0.024554172530770,-0.089253865182400,-0.020610809326172,-0.091322652995586,-0.109998017549515,0.051316834986210,-0.003224508604035,0.058635052293539,-0.041463136672974,0.005221761297435,-0.095796748995781,-0.111953698098660,0.052418280392885,0.105089791119099,0.115930102765560));
res += mul(Get(s0,-dx,dy), float4x4(-0.067289233207703,-0.070855878293514,0.042769152671099,0.126871675252914,-0.077787853777409,0.098886594176292,-0.036840643733740,0.147751629352570,-0.008522389456630,-0.093792445957661,0.024031296372414,0.010278171859682,-0.148327499628067,-0.031692363321781,0.055634189397097,0.146043509244919));
res += mul(Get(s0,0,-dy), float4x4(0.032510574907064,0.004050433170050,0.067652426660061,0.005489079281688,0.090357437729836,-0.006376032251865,-0.081921465694904,0.109857901930809,-0.047554150223732,0.087837092578411,-0.013001639395952,-0.109381936490536,0.087205909192562,-0.149921059608459,0.002562904264778,-0.031491916626692));
res += mul(Get(s0,0,0), float4x4(-0.085654467344284,-0.022507125511765,0.070091634988785,-0.036221034824848,0.142414584755898,0.082176901400089,-0.094794422388077,-0.104143887758255,-0.112734459340572,0.078944779932499,-0.148328796029091,-0.126897111535072,0.011752717196941,-0.000102641781268,-0.009377093985677,0.164274856448174));
res += mul(Get(s0,0,dy), float4x4(0.011491417884827,-0.048999182879925,0.052024126052856,-0.053701989352703,-0.043924387544394,0.031842455267906,-0.078734748065472,0.049868192523718,-0.052061077207327,0.075015380978584,-0.132165417075157,0.132481768727303,0.231883838772774,-0.020767841488123,0.179242193698883,-0.145541444420815));
res += mul(Get(s0,dx,-dy), float4x4(-0.030525803565979,0.078255347907543,-0.085100866854191,-0.003175600199029,0.015019574202597,0.102286197245121,-0.025015834718943,-0.086960941553116,0.118828170001507,-0.158276766538620,0.034720342606306,0.067273974418640,-0.017213841900229,0.222827747464180,-0.079543784260750,-0.144178733229637));
res += mul(Get(s0,dx,0), float4x4(0.043755568563938,-0.022573992609978,-0.132630109786987,0.063576549291611,-0.103260315954685,-0.056087162345648,-0.040601264685392,-0.089897356927395,-0.024645835161209,-0.136944264173508,-0.015084437094629,0.107783935964108,0.050191756337881,-0.086705528199673,0.081498786807060,-0.057066023349762));
res += mul(Get(s0,dx,dy), float4x4(-0.147500619292259,0.007797384634614,-0.022092245519161,-0.153699383139610,-0.139134556055069,-0.143402278423309,-0.072393856942654,-0.027206819504499,0.049744717776775,0.136687859892845,-0.086766079068184,0.059971895068884,0.008194127120078,-0.030518023297191,0.047452218830585,-0.042419295758009));
res += mul(Get(s1,-dx,-dy), float4x4(-0.060154106467962,-0.077183715999126,0.044140826910734,0.015547494404018,-0.166582360863686,-0.081199958920479,0.100608758628368,-0.008937623351812,-0.098990380764008,-0.054266225546598,0.027399921789765,-0.152351766824722,-0.128045186400414,0.082843139767647,-0.025260461494327,0.026515541598201));
res += mul(Get(s1,-dx,0), float4x4(-0.064000956714153,0.172778412699699,0.002889008726925,0.053106691688299,-0.108793929219246,0.018020218238235,0.001748560345732,0.083326712250710,0.167645424604416,0.170713588595390,0.048433315008879,0.257049709558487,0.021287180483341,0.016807170584798,-0.000443621887825,0.016271753236651));
res += mul(Get(s1,-dx,dy), float4x4(-0.085352763533592,0.063271708786488,0.173128977417946,-0.052770204842091,-0.008503627032042,-0.050986226648092,0.128443390130997,0.173175096511841,-0.031526532024145,-0.056503988802433,0.085341677069664,0.103318445384502,-0.009703096933663,0.028041692450643,-0.151304915547371,0.027565162628889));
res += mul(Get(s1,0,-dy), float4x4(0.086897350847721,-0.101251885294914,0.105816483497620,0.074171431362629,-0.092317171394825,-0.068644970655441,-0.099441640079021,-0.067668102681637,0.023029193282127,-0.042452335357666,0.127681210637093,0.036315619945526,0.066110037267208,0.031040377914906,-0.062743723392487,-0.003412680933252));
res += mul(Get(s1,0,0), float4x4(-0.042751792818308,0.022850571200252,-0.122286513447762,0.075081206858158,-0.072497583925724,-0.070979520678520,-0.050658378750086,-0.051034629344940,0.007034949492663,0.109224200248718,0.068567842245102,0.049470435827971,-0.045481711626053,0.024583639577031,0.085478305816650,0.033088225871325));
res += mul(Get(s1,0,dy), float4x4(-0.086459837853909,-0.108128286898136,0.025932280346751,-0.097596369683743,0.137892276048660,0.019909588620067,-0.007579507771879,0.015311580151320,0.080476887524128,-0.096363998949528,-0.151354014873505,-0.073857001960278,0.037930782884359,-0.071594394743443,-0.091512434184551,-0.089231625199318));
res += mul(Get(s1,dx,-dy), float4x4(-0.010888619348407,-0.025426324456930,0.048547707498074,0.044677976518869,0.086482018232346,0.058040920644999,0.011679307557642,-0.000290733849397,-0.077326051890850,0.091399937868118,-0.075643226504326,0.066892072558403,0.064598955214024,-0.097165875136852,0.148994699120522,0.041559685021639));
res += mul(Get(s1,dx,0), float4x4(-0.064989246428013,0.259217292070389,-0.015100521035492,0.103065870702267,-0.031720675528049,-0.006012187805027,0.029787635430694,-0.028146924450994,-0.061483178287745,-0.034658156335354,-0.172646254301071,0.070775315165520,0.164949297904968,0.049712684005499,-0.123566485941410,0.015985753387213));
res += mul(Get(s1,dx,dy), float4x4(-0.018543986603618,0.034950878471136,0.021058533340693,-0.091483123600483,-0.121847294270992,-0.096417523920536,0.088834606111050,-0.083041891455650,-0.146793723106384,-0.075299300253391,0.140126392245293,-0.192134708166122,-0.007089410908520,-0.045011200010777,-0.105969183146954,-0.029352534562349));
res += mul(Get(s2,-dx,-dy), float4x4(-0.015477362088859,0.143404632806778,0.037441357970238,0.039454009383917,-0.082714423537254,0.095487080514431,0.005110001657158,0.204712435603142,0.028079634532332,0.060421202331781,-0.177640274167061,-0.044764198362827,0.064785555005074,-0.102268353104591,-0.020501056686044,-0.078388035297394));
res += mul(Get(s2,-dx,0), float4x4(0.006906140595675,-0.024560904130340,-0.129406645894051,-0.048818800598383,-0.096879757940769,-0.019659152254462,0.025356717407703,0.032015156000853,-0.018076313659549,-0.067776352167130,-0.018744848668575,-0.098476171493530,-0.062106732279062,0.119953371584415,0.085317395627499,0.015593281015754));
res += mul(Get(s2,-dx,dy), float4x4(0.004801234230399,0.032646488398314,-0.209458485245705,-0.038690593093634,-0.041106134653091,-0.137936517596245,-0.165439322590828,-0.123271696269512,-0.036881562322378,0.028166713193059,-0.150639221072197,0.109055459499359,-0.054360032081604,0.129820525646210,0.069758214056492,-0.049199782311916));
res += mul(Get(s2,0,-dy), float4x4(-0.014812801964581,0.159623354673386,0.043623976409435,0.033183559775352,0.011063761077821,0.007054374087602,-0.042838949710131,-0.029578398913145,-0.147029474377632,-0.095286145806313,-0.052538413554430,-0.035075113177299,-0.069492623209953,0.035918816924095,0.012163458392024,0.059986833482981));
res += mul(Get(s2,0,0), float4x4(0.160686135292053,-0.003598499810323,-0.102190703153610,-0.037949733436108,-0.003099858993664,0.120820589363575,0.011841081082821,-0.011006779037416,0.015914099290967,0.010541399009526,-0.042350377887487,-0.017072871327400,-0.149214342236519,0.042715419083834,0.164563119411469,-0.072636999189854));
res += mul(Get(s2,0,dy), float4x4(0.105854548513889,0.031333573162556,-0.041668742895126,-0.127798765897751,-0.026037057861686,0.074434235692024,-0.035935733467340,0.177677601575851,0.029479596763849,0.136592552065849,-0.029337091371417,-0.074118874967098,0.004606756847352,0.024543140083551,-0.016409860923886,-0.060217466205359));
res += mul(Get(s2,dx,-dy), float4x4(-0.044363889843225,-0.015893280506134,-0.040408093482256,-0.140164375305176,0.010594054125249,-0.018022635951638,-0.061432499438524,0.146320015192032,-0.118857041001320,0.011143363080919,0.022390378639102,0.057644207030535,0.026906142011285,-0.114844597876072,0.035399768501520,-0.088338024914265));
res += mul(Get(s2,dx,0), float4x4(0.070922978222370,0.132386669516563,0.108833551406860,-0.069537460803986,-0.090564668178558,0.000487837707624,0.011490991339087,-0.053871642798185,-0.018231907859445,0.036194063723087,0.004858450032771,-0.075597755610943,-0.067949391901493,0.009535287506878,0.001938444795087,-0.000080670957686));
res += mul(Get(s2,dx,dy), float4x4(0.105416670441628,0.021509382873774,0.011742898263037,0.160215184092522,-0.075224854052067,-0.079456627368927,-0.206086605787277,-0.116534516215324,-0.003314662259072,-0.021152190864086,0.067143380641937,0.063586682081223,-0.083570152521133,0.058115359395742,0.104442656040192,-0.044900920242071));
res += mul(Get(s3,-dx,-dy), float4x4(-0.115078836679459,-0.092702731490135,-0.109812125563622,-0.058384325355291,0.104476422071457,-0.010008838027716,0.055625822395086,0.080154716968536,-0.034286379814148,0.014530121348798,-0.051440592855215,-0.004170435480773,-0.008032265119255,-0.154344186186790,-0.002567258896306,0.076411135494709));
res += mul(Get(s3,-dx,0), float4x4(-0.027015283703804,0.102997705340385,-0.079323478043079,0.075081877410412,-0.004611753858626,0.015031429007649,-0.178000703454018,0.044535711407661,-0.048283800482750,-0.030434796586633,0.158247038722038,0.041996557265520,0.007509381975979,0.062205579131842,0.110153041779995,0.067314960062504));
res += mul(Get(s3,-dx,dy), float4x4(0.087088324129581,-0.073200248181820,-0.019297497346997,0.139238581061363,0.059076812118292,-0.035346295684576,0.036013744771481,0.186236172914505,-0.123511224985123,-0.008115607313812,0.091400891542435,-0.065079368650913,0.071993842720985,-0.055089853703976,-0.021750206127763,0.000641589052975));
res += mul(Get(s3,0,-dy), float4x4(-0.240666478872299,-0.006051179487258,-0.016900327056646,-0.012119945138693,-0.007639469113201,0.119195394217968,0.004634473472834,0.026931863278151,-0.045960757881403,-0.254143536090851,0.016073539853096,-0.084596596658230,0.064933098852634,-0.037860646843910,-0.134717941284180,0.122909173369408));
res += mul(Get(s3,0,0), float4x4(-0.192593365907669,-0.060586251318455,-0.007140567060560,0.168582379817963,0.015330020338297,0.149271562695503,0.066109523177147,0.066409058868885,-0.050818409770727,-0.018817560747266,0.002313065342605,0.057244926691055,0.077044062316418,0.076630130410194,-0.084595315158367,-0.020467247813940));
res += mul(Get(s3,0,dy), float4x4(0.076693855226040,-0.013941595330834,-0.026775101199746,0.079418234527111,-0.057228948920965,0.001033871201798,-0.071603104472160,-0.008481090888381,-0.031998865306377,-0.038992661982775,-0.080670401453972,0.024232115596533,-0.003273625858128,-0.004922557156533,0.123517312109470,-0.064704455435276));
res += mul(Get(s3,dx,-dy), float4x4(-0.062207505106926,0.068969085812569,-0.069434754550457,0.139204382896423,-0.131183132529259,-0.179503828287125,-0.001080663641915,-0.014462045393884,0.140147700905800,-0.033106535673141,0.051711853593588,-0.149620249867439,0.022233523428440,0.062110383063555,0.036929622292519,-0.002141751116142));
res += mul(Get(s3,dx,0), float4x4(-0.006077786441892,-0.082003667950630,-0.130114272236824,-0.081793114542961,0.030875461176038,0.010003453120589,-0.002765903715044,0.072888724505901,0.029912253841758,-0.005122882314026,0.046381033957005,-0.063300989568233,0.072003535926342,0.023069230839610,-0.120599843561649,0.048822775483131));
res += mul(Get(s3,dx,dy), float4x4(0.084416851401329,0.032611548900604,-0.133217275142670,-0.061218358576298,0.007757307030261,0.132605493068695,0.081390418112278,0.007607014849782,-0.034369107335806,-0.117730572819710,0.072350427508354,-0.170154854655266,-0.007576881907880,-0.008082292042673,-0.017513386905193,-0.031270369887352));
return max(float4(0,0,0,0), res);
}
