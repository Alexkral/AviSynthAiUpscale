sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.030190262943506,-0.077365599572659,-0.016237685456872,0.073538780212402,0.118828140199184,-0.026309087872505,-0.188791930675507,0.054162748157978,0.001168425194919,0.076851539313793,0.103958286345005,-0.186175525188446,0.083216808736324,0.017600640654564,0.037990879267454,-0.013906168751419));
res += mul(Get(s0,-dx,0), float4x4(0.073120407760143,0.032434344291687,-0.043707832694054,-0.053423393517733,0.070755481719971,-0.024993604049087,-0.079826906323433,-0.007152090780437,0.039262723177671,0.018498497083783,0.005363918375224,0.111741364002228,-0.046077761799097,0.098548427224159,0.149526387453079,0.070295810699463));
res += mul(Get(s0,-dx,dy), float4x4(0.017258869484067,0.024664679542184,0.112981319427490,-0.012865677475929,-0.091192640364170,-0.050453860312700,-0.120143800973892,0.016750650480390,0.142869547009468,-0.023172676563263,0.140472024679184,0.138512015342712,-0.078108161687851,0.083296179771423,-0.071410879492760,0.039306372404099));
res += mul(Get(s0,0,-dy), float4x4(-0.000704382953700,-0.013713357038796,0.210469797253609,-0.002413943875581,0.025489075109363,-0.118145816028118,0.019376114010811,0.004532874096185,-0.043042112141848,-0.032703734934330,0.080898314714432,0.050376076251268,-0.044683858752251,-0.051002077758312,-0.087982609868050,-0.199044331908226));
res += mul(Get(s0,0,0), float4x4(0.029372973367572,0.020134493708611,-0.032579377293587,-0.048312395811081,0.046019457280636,0.090447075664997,-0.040949586778879,0.162231177091599,-0.083661064505577,-0.017560265958309,-0.016984254121780,0.013905391097069,-0.048272408545017,0.018981048837304,0.031915590167046,-0.009550786577165));
res += mul(Get(s0,0,dy), float4x4(-0.088099032640457,0.164904817938805,-0.070904679596424,-0.145762860774994,0.006116048898548,-0.162615373730659,0.027381364256144,-0.024199530482292,0.003969130571932,0.034006740897894,0.163659617304802,0.039889048784971,0.104380272328854,-0.112153038382530,0.034946084022522,-0.043772183358669));
res += mul(Get(s0,dx,-dy), float4x4(-0.101376004517078,0.135913804173470,-0.023707354441285,-0.026776980608702,-0.044887807220221,-0.007453863508999,0.066192127764225,-0.028486168012023,-0.191033229231834,-0.134409815073013,0.118433043360710,-0.058674089610577,-0.028955252841115,0.017058538272977,0.060811825096607,-0.027550583705306));
res += mul(Get(s0,dx,0), float4x4(0.052860703319311,-0.076738700270653,-0.164091721177101,-0.081547178328037,0.074326485395432,0.007262586615980,0.090681195259094,0.118541754782200,-0.084494672715664,0.059521988034248,0.055141881108284,0.046825937926769,-0.081749841570854,0.107865370810032,0.064298786222935,-0.016771528869867));
res += mul(Get(s0,dx,dy), float4x4(-0.042769137769938,0.051105860620737,-0.028846468776464,-0.156934157013893,0.239510148763657,-0.157174482941628,-0.089911632239819,0.094599358737469,-0.082338757812977,-0.121600449085236,-0.038582120090723,-0.110519424080849,0.059057120233774,-0.162691801786423,-0.084257520735264,-0.051945630460978));
res += mul(Get(s1,-dx,-dy), float4x4(0.026647763326764,0.149926826357841,0.206379994750023,-0.023107882589102,-0.015788896009326,-0.068294599652290,-0.178485915064812,0.045910213142633,-0.047770470380783,0.032162282615900,-0.101352095603943,0.016196774318814,0.012651321478188,-0.077750429511070,-0.059544216841459,-0.100923374295235));
res += mul(Get(s1,-dx,0), float4x4(0.061364322900772,0.063176147639751,0.074066810309887,-0.045852132141590,-0.045736812055111,-0.109150715172291,-0.122402429580688,0.044091120362282,-0.139709502458572,0.021230908110738,0.040844283998013,0.099428236484528,-0.040851000696421,0.160796612501144,-0.080551713705063,-0.008664701133966));
res += mul(Get(s1,-dx,dy), float4x4(-0.049960233271122,-0.106949038803577,0.034870766103268,-0.015735395252705,-0.040537416934967,0.028659837320447,-0.041003949940205,-0.040730655193329,-0.073276802897453,0.045531839132309,0.092914819717407,0.114791512489319,-0.107995510101318,-0.039338342845440,0.055466558784246,-0.047630980610847));
res += mul(Get(s1,0,-dy), float4x4(-0.125899687409401,0.146568879485130,0.042062379419804,0.079935841262341,-0.223548993468285,-0.041310828179121,0.092637643218040,0.083418376743793,-0.107222303748131,-0.014486304484308,-0.158892735838890,-0.037038423120975,0.085162803530693,-0.189172104001045,0.094492174685001,0.087986238300800));
res += mul(Get(s1,0,0), float4x4(0.020785316824913,0.061681676656008,0.043587751686573,0.030406337231398,0.070308640599251,-0.092752993106842,0.090865842998028,-0.256888031959534,0.019864555448294,-0.072430327534676,-0.130352154374123,0.043614100664854,0.166452914476395,-0.027502568438649,-0.100202456116676,0.024646615609527));
res += mul(Get(s1,0,dy), float4x4(-0.006674320902675,0.069154679775238,0.075671717524529,-0.015637939795852,0.054153945297003,0.017329122871161,0.051179923117161,-0.102414876222610,0.005292436107993,0.046850387006998,-0.163263186812401,0.118615806102753,0.072800107300282,-0.103295914828777,-0.062375143170357,-0.110201768577099));
res += mul(Get(s1,dx,-dy), float4x4(-0.012189206667244,0.014793994836509,0.046419616788626,0.020125186070800,-0.024354977533221,0.081839516758919,0.131761565804482,0.000127620834974,0.131861954927444,0.032436590641737,-0.015192440710962,0.012367520481348,0.053374432027340,-0.062106687575579,-0.052207879722118,0.053589928895235));
res += mul(Get(s1,dx,0), float4x4(-0.040428671985865,0.004819219466299,-0.024603465572000,0.086126737296581,0.165628641843796,0.084482699632645,0.092273116111755,0.080899968743324,-0.098350025713444,-0.001396012143232,-0.068533308804035,-0.036800954490900,-0.110117755830288,0.030540177598596,-0.026477923616767,0.015957722440362));
res += mul(Get(s1,dx,dy), float4x4(0.029535811394453,0.115811794996262,-0.044836279004812,0.057586971670389,0.092335313558578,0.098797082901001,-0.014553395099938,-0.011499642394483,0.014300961978734,-0.192669183015823,0.162889316678047,0.017437363043427,0.048923444002867,0.116748079657555,-0.009406134486198,0.044119223952293));
res += mul(Get(s2,-dx,-dy), float4x4(0.126765936613083,0.099929474294186,-0.020298002287745,-0.055037800222635,-0.074150733649731,0.189472779631615,-0.145944297313690,-0.014867459423840,0.245171710848808,0.145096808671951,-0.031743362545967,-0.083285830914974,-0.263033986091614,0.078636072576046,-0.034187734127045,-0.201250150799751));
res += mul(Get(s2,-dx,0), float4x4(0.070643238723278,-0.148578584194183,-0.004817313980311,-0.073682084679604,0.094702988862991,0.030688477680087,0.024709913879633,-0.045164294540882,0.170111522078514,0.148914754390717,0.053264278918505,-0.094169706106186,-0.049803402274847,0.020477961748838,-0.055023699998856,-0.015451551415026));
res += mul(Get(s2,-dx,dy), float4x4(0.012526241131127,0.148391231894493,0.019921381026506,0.057655047625303,-0.026855392381549,0.205993235111237,-0.063613288104534,0.109755836427212,0.126708447933197,-0.083268448710442,-0.020185256376863,0.217141702771187,-0.183910727500916,0.031939443200827,-0.043357189744711,-0.033056348562241));
res += mul(Get(s2,0,-dy), float4x4(-0.025940299034119,-0.140756100416183,0.005936601664871,0.008915968239307,0.061939753592014,-0.030836187303066,0.010196391493082,-0.079599462449551,-0.037212252616882,-0.023955492302775,-0.162658900022507,0.074526451528072,-0.115214474499226,0.109355069696903,0.214318200945854,0.143632903695107));
res += mul(Get(s2,0,0), float4x4(0.044511854648590,0.141120046377182,0.005116851534694,-0.026678735390306,-0.200704380869865,-0.078183412551880,-0.042175054550171,0.060788981616497,-0.230506494641304,-0.109592847526073,0.102342315018177,-0.067330248653889,0.022429034113884,-0.018813390284777,-0.001765888067894,-0.060041695833206));
res += mul(Get(s2,0,dy), float4x4(-0.086954213678837,-0.077998004853725,0.066619090735912,-0.102086678147316,-0.068873956799507,-0.214730605483055,0.107286967337132,-0.021970041096210,0.050324592739344,0.081402406096458,-0.029446221888065,0.134998470544815,0.075240969657898,-0.187249630689621,-0.035517092794180,0.117753066122532));
res += mul(Get(s2,dx,-dy), float4x4(-0.119246765971184,-0.020078910514712,-0.043011587113142,-0.077017240226269,-0.088500633835793,0.108943790197372,-0.046402011066675,0.018278483301401,-0.006364503409714,-0.024335645139217,-0.001397545565851,0.155932202935219,-0.029931357130408,0.076121374964714,-0.045690976083279,-0.137671902775764));
res += mul(Get(s2,dx,0), float4x4(-0.148934811353683,0.221788704395294,0.017554029822350,0.084511533379555,0.059268277138472,0.061303898692131,-0.039141740649939,-0.018081694841385,-0.024902988225222,0.028951695188880,-0.043458212167025,-0.036262199282646,-0.076938681304455,0.040553648024797,0.045623324811459,-0.012456530705094));
res += mul(Get(s2,dx,dy), float4x4(-0.024859303608537,0.051088146865368,0.006110158283263,0.003465722780675,0.024595847353339,-0.021761421114206,-0.022837730124593,-0.134525552392006,0.142802238464355,-0.039383675903082,0.034063838422298,-0.059608761221170,0.130112841725349,0.059028871357441,-0.008181530982256,-0.027432855218649));
res += mul(Get(s3,-dx,-dy), float4x4(0.032870478928089,0.020803460851312,0.026735698804259,0.022117603570223,-0.023442389443517,0.075815133750439,0.089906141161919,0.012151978909969,-0.082440435886383,-0.038603704422712,-0.113215588033199,0.010024141520262,0.046876709908247,0.051476657390594,0.066397018730640,-0.062121313065290));
res += mul(Get(s3,-dx,0), float4x4(0.075984992086887,0.078103579580784,0.028971849009395,0.015696898102760,-0.018334532156587,-0.025305969640613,0.093110248446465,-0.090202726423740,0.050447542220354,-0.021386910229921,0.147646456956863,0.006275143474340,-0.036465421319008,-0.161144360899925,0.085857912898064,-0.197901830077171));
res += mul(Get(s3,-dx,dy), float4x4(0.100489743053913,0.115355886518955,-0.017278758808970,-0.115222096443176,0.002857734682038,0.061253149062395,-0.053220219910145,-0.155284300446510,0.098753884434700,0.026393653824925,0.066676519811153,0.052836410701275,0.019388930872083,-0.069144539535046,-0.180770844221115,0.104981601238251));
res += mul(Get(s3,0,-dy), float4x4(0.100430890917778,0.019320236518979,-0.058590367436409,-0.060429651290178,-0.222489088773727,0.013396141119301,0.131952181458473,-0.036498107016087,0.048891156911850,0.044909387826920,0.027261346578598,0.078425891697407,0.023955682292581,-0.016812723129988,-0.229382097721100,0.097156584262848));
res += mul(Get(s3,0,0), float4x4(0.212224677205086,-0.029306717216969,0.083431564271450,0.059390507638454,0.088892363011837,0.163134247064590,0.091504961252213,-0.052149992436171,-0.025500867515802,-0.093114137649536,-0.143462911248207,-0.023843795061111,-0.119869194924831,-0.069753959774971,-0.074793286621571,0.131984442472458));
res += mul(Get(s3,0,dy), float4x4(0.066938981413841,0.143272534012794,0.087045840919018,-0.065438844263554,0.060646038502455,-0.030674898996949,-0.003943563438952,0.000003650784492,-0.131997004151344,-0.045650780200958,0.109249845147133,0.074265725910664,-0.048315513879061,-0.026729103177786,0.041467778384686,0.025496758520603));
res += mul(Get(s3,dx,-dy), float4x4(0.041247565299273,-0.035556670278311,-0.024024682119489,-0.088897533714771,-0.007215882651508,0.005910180974752,-0.002358076628298,0.071178548038006,0.078637056052685,-0.137177616357803,-0.012678313069046,-0.061235707253218,-0.051594257354736,-0.016518631950021,-0.106506332755089,0.029723538085818));
res += mul(Get(s3,dx,0), float4x4(0.018148049712181,-0.083190813660622,-0.099354378879070,0.106898546218872,0.048313926905394,-0.002692404203117,-0.051536194980145,0.096050806343555,0.050150424242020,-0.066646419465542,0.028897786512971,-0.029882201924920,-0.052342232316732,-0.018080651760101,-0.002464410848916,-0.046525973826647));
res += mul(Get(s3,dx,dy), float4x4(0.048215575516224,0.076968103647232,0.162143006920815,0.072921805083752,-0.051308140158653,0.203305020928383,0.002988429972902,0.075397908687592,0.115977153182030,-0.012881328351796,0.094186231493950,0.027928199619055,-0.051645424216986,-0.035320915281773,0.049743644893169,-0.005130443256348));
return max(float4(0,0,0,0), res);
}
