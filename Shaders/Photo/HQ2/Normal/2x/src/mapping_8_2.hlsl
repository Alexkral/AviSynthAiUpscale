sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.018488822504878,-0.028059303760529,-0.069832831621170,0.174302473664284,-0.099197238683701,0.060888689011335,0.197985783219337,-0.088893011212349,-0.044610835611820,-0.040690403431654,0.121826507151127,0.015053293667734,0.049091182649136,0.050678111612797,0.028365999460220,-0.093254186213017));
res += mul(Get(s0,-dx,0), float4x4(-0.030424267053604,-0.191909044981003,0.098248772323132,0.081495165824890,0.021240783855319,0.073199748992920,-0.018200894817710,-0.021467009559274,-0.030022371560335,-0.051410309970379,-0.079562105238438,-0.049297973513603,-0.066815055906773,-0.130402088165283,0.035045854747295,0.103618219494820));
res += mul(Get(s0,-dx,dy), float4x4(-0.053000397980213,-0.089075073599815,0.117946647107601,-0.011049335822463,0.005339243914932,-0.016638705506921,-0.009482179768384,-0.059505607932806,0.083510585129261,-0.038712453097105,0.130918338894844,0.062942191958427,0.029714636504650,-0.158037334680557,0.023560658097267,-0.069275110960007));
res += mul(Get(s0,0,-dy), float4x4(0.115846432745457,-0.154255196452141,-0.021399989724159,-0.132239639759064,-0.014273184351623,-0.015253759920597,0.051344648003578,0.083953782916069,-0.021558318287134,0.011587620712817,-0.074688017368317,-0.073284059762955,-0.053765930235386,-0.078781016170979,0.067611023783684,0.083477735519409));
res += mul(Get(s0,0,0), float4x4(0.017066912725568,-0.030899384990335,-0.047675948590040,-0.027302538976073,0.047147259116173,-0.010456943884492,0.014561200514436,0.191009745001793,0.126809313893318,-0.051253393292427,0.114611014723778,0.027786184102297,0.015673009678721,0.151847764849663,0.002659976482391,0.032528296113014));
res += mul(Get(s0,0,dy), float4x4(-0.162955984473228,-0.077947393059731,-0.043601542711258,0.170892149209976,-0.043846197426319,0.056922275573015,0.199203237891197,0.106284074485302,0.058927059173584,0.073154844343662,-0.093252085149288,0.131042897701263,0.118576496839523,0.112728595733643,-0.116919256746769,0.067018933594227));
res += mul(Get(s0,dx,-dy), float4x4(0.060470271855593,-0.037638630717993,-0.103050336241722,0.038658119738102,0.015552090480924,0.008615726605058,0.028851905837655,-0.120411686599255,-0.029189245775342,-0.025723738595843,0.228412538766861,-0.090533994138241,0.034249950200319,0.053554259240627,0.003765615168959,-0.129305183887482));
res += mul(Get(s0,dx,0), float4x4(-0.090060696005821,0.022763483226299,0.028687670826912,0.034071300178766,0.173902451992035,-0.062393542379141,0.154169306159019,0.098059669137001,0.073593154549599,0.033266857266426,0.065474927425385,0.121894076466560,0.001031212508678,-0.024843083694577,-0.046052899211645,-0.069561064243317));
res += mul(Get(s0,dx,dy), float4x4(0.127423524856567,-0.115301221609116,0.054244063794613,0.144976362586021,0.086744450032711,-0.067808158695698,0.092696405947208,-0.034228190779686,-0.126422584056854,-0.031939473003149,0.021734613925219,-0.097738444805145,-0.099483191967010,-0.045577265322208,-0.061581127345562,0.124341666698456));
res += mul(Get(s1,-dx,-dy), float4x4(-0.017664732411504,-0.017785368487239,-0.038489598780870,0.019180312752724,-0.065799139440060,0.016031909734011,0.091966673731804,0.071590110659599,-0.179592743515968,-0.120633944869041,-0.034935634583235,0.079784013330936,0.043086297810078,-0.095375061035156,-0.139872401952744,0.097239308059216));
res += mul(Get(s1,-dx,0), float4x4(0.092745676636696,0.031462896615267,0.073590412735939,-0.135032027959824,0.033335499465466,-0.116063065826893,-0.074765406548977,0.188042461872101,-0.075131252408028,-0.133358061313629,0.071029998362064,0.086290940642357,0.144995704293251,-0.057965341955423,-0.028191462159157,-0.232698008418083));
res += mul(Get(s1,-dx,dy), float4x4(0.017622904852033,0.135130599141121,0.124384850263596,-0.107400931417942,-0.037031840533018,0.033735819160938,0.152025729417801,-0.144466415047646,-0.093153059482574,0.114073678851128,0.029102781787515,0.159227669239044,-0.090030536055565,0.074759483337402,-0.066228687763214,0.055134057998657));
res += mul(Get(s1,0,-dy), float4x4(0.071060247719288,0.051932696253061,-0.038262594491243,-0.159477651119232,0.080101102590561,-0.041716471314430,-0.136903941631317,-0.003220467595384,-0.010948256589472,-0.020861249417067,-0.004563201684505,-0.054230250418186,0.007619298063219,0.047160550951958,-0.120423048734665,-0.066820658743382));
res += mul(Get(s1,0,0), float4x4(0.137973979115486,0.122747451066971,-0.124359130859375,-0.033084083348513,0.040427353233099,0.027560520917177,0.054523460566998,-0.054892722517252,-0.045856747776270,0.017372610047460,0.076153345406055,0.092451140284538,0.170977517962456,-0.004856036975980,0.004343582782894,-0.081857226788998));
res += mul(Get(s1,0,dy), float4x4(0.133660241961479,-0.082258425652981,0.165660396218300,0.190063565969467,-0.014217690564692,-0.014464704319835,0.098014242947102,-0.041665542870760,-0.164875149726868,-0.042150933295488,-0.026379689574242,-0.139848813414574,-0.024142228066921,-0.094501659274101,0.130055800080299,-0.105770394206047));
res += mul(Get(s1,dx,-dy), float4x4(-0.024999964982271,-0.193132996559143,0.019961781799793,-0.121583677828312,0.087083600461483,0.117216929793358,-0.018970040604472,0.115331746637821,-0.029627365991473,0.021374501287937,-0.062432378530502,0.032734990119934,0.111867807805538,0.020911267027259,0.094247922301292,-0.076616451144218));
res += mul(Get(s1,dx,0), float4x4(-0.044036284089088,-0.039863608777523,-0.045243930071592,0.038695834577084,0.074520297348499,-0.091540209949017,-0.125761196017265,-0.051428616046906,-0.118109792470932,-0.022822787985206,-0.026328729465604,0.024859482422471,-0.016087437048554,-0.175634548068047,0.045688763260841,-0.058783289045095));
res += mul(Get(s1,dx,dy), float4x4(0.122457601130009,-0.101100042462349,0.193467006087303,0.162978053092957,0.013729272410274,-0.027257058769464,-0.051120840013027,0.021415093913674,-0.009277565404773,0.007620404940099,-0.102060310542583,-0.054785419255495,-0.189490646123886,0.091305352747440,0.050207391381264,-0.132177680730820));
res += mul(Get(s2,-dx,-dy), float4x4(-0.041730035096407,-0.026558764278889,-0.057917989790440,0.061174951493740,-0.052095387130976,-0.036001227796078,-0.084612779319286,-0.028344562277198,0.050797920674086,-0.086082018911839,0.069781295955181,0.004471755586565,0.073221035301685,-0.005844948813319,0.064544104039669,0.000855865713675));
res += mul(Get(s2,-dx,0), float4x4(0.091554716229439,-0.001018361770548,-0.080756947398186,0.002464496996254,0.094842538237572,-0.022470535710454,0.072227895259857,-0.038391344249249,0.096068382263184,0.035297848284245,0.030290266498923,0.056786932051182,-0.032878071069717,-0.056444045156240,0.014844675548375,0.161989018321037));
res += mul(Get(s2,-dx,dy), float4x4(-0.041557699441910,0.173241168260574,-0.056308187544346,0.098316192626953,-0.048695888370275,-0.157560363411903,-0.061388406902552,-0.090284816920757,0.032851420342922,-0.012468718923628,0.075739935040474,-0.007810194510967,0.008101351559162,0.064449429512024,0.053458146750927,-0.000101754936622));
res += mul(Get(s2,0,-dy), float4x4(0.123959310352802,0.047002512961626,0.098704785108566,-0.083325333893299,0.085546456277370,0.010551440529525,0.021680528298020,-0.018173824995756,-0.021850515156984,0.048625219613314,0.110739588737488,-0.133281990885735,-0.064125135540962,-0.103761844336987,-0.012042057700455,-0.042022913694382));
res += mul(Get(s2,0,0), float4x4(-0.052014347165823,0.092263951897621,0.083885192871094,0.073583357036114,-0.052220199257135,-0.012649752199650,0.037434402853251,0.280026584863663,0.117379501461983,0.061485547572374,-0.005316377617419,0.060987930744886,-0.021397924050689,-0.056189686059952,0.021132640540600,0.144136339426041));
res += mul(Get(s2,0,dy), float4x4(-0.033989604562521,0.077003866434097,0.071224413812160,0.016629219055176,-0.008569915778935,-0.133767455816269,0.131667271256447,0.076376251876354,-0.146270126104355,-0.095959447324276,0.105906903743744,-0.104686878621578,0.009063653647900,0.134848445653915,0.005410258658230,-0.068962626159191));
res += mul(Get(s2,dx,-dy), float4x4(0.015148779377341,-0.028149552643299,-0.029493350535631,-0.014227855019271,-0.131972163915634,-0.038943640887737,-0.075177013874054,0.027817118912935,-0.039849393069744,-0.014333722181618,0.014943824149668,0.008185977116227,0.064973033964634,0.063675068318844,0.023445427417755,0.117513366043568));
res += mul(Get(s2,dx,0), float4x4(0.072487346827984,-0.006527717225254,0.085467167198658,0.088076069951057,0.050584968179464,-0.103783257305622,0.089995056390762,0.072948493063450,0.107620187103748,-0.142062768340111,0.102308519184589,0.048598039895296,-0.133510485291481,-0.162825360894203,-0.003231728682294,0.171240717172623));
res += mul(Get(s2,dx,dy), float4x4(0.090920813381672,0.000344168453012,0.003918680362403,-0.133338689804077,-0.011133281514049,0.014422572217882,0.077126316726208,0.031238371506333,-0.065340057015419,-0.072237275540829,0.118902482092381,-0.037997264415026,0.045465305447578,-0.002600225154310,0.164268091320992,0.032207820564508));
res += mul(Get(s3,-dx,-dy), float4x4(-0.099393874406815,0.005839988589287,0.034374941140413,0.040304262191057,0.037640962749720,-0.094287917017937,0.023437544703484,-0.026983447372913,-0.048023562878370,-0.008085919544101,0.129087060689926,0.126264229416847,-0.040406953543425,-0.127863913774490,0.023881487548351,0.014436454512179));
res += mul(Get(s3,-dx,0), float4x4(-0.021431190893054,-0.103762298822403,-0.133425474166870,-0.100442886352539,-0.048316359519958,-0.098538145422935,-0.041104927659035,0.073274128139019,0.055917020887136,-0.066354982554913,0.025175612419844,-0.016685588285327,-0.045060832053423,-0.006083594635129,-0.060628902167082,-0.056071493774652));
res += mul(Get(s3,-dx,dy), float4x4(-0.010373653843999,0.154910609126091,-0.084458857774734,-0.017211960628629,0.119349561631680,-0.028959695249796,-0.082041509449482,0.023866891860962,0.086235009133816,0.096364229917526,0.073256976902485,-0.144434660673141,0.014611370861530,-0.120175361633301,0.071525208652020,0.149231553077698));
res += mul(Get(s3,0,-dy), float4x4(0.124300412833691,-0.058099925518036,0.045807208865881,0.136683687567711,-0.070810563862324,-0.192905679345131,0.049896202981472,-0.028940331190825,0.024160778149962,-0.029334921389818,-0.020914234220982,0.091265045106411,0.041327394545078,0.007304981350899,0.100209534168243,0.146189227700233));
res += mul(Get(s3,0,0), float4x4(-0.090425543487072,0.058076120913029,-0.083960503339767,0.012957769446075,0.038288198411465,-0.037766303867102,0.118838980793953,0.040389899164438,0.028693512082100,0.026278261095285,-0.026914237067103,-0.056197814643383,0.027571121230721,0.049738015979528,0.063097685575485,0.163223803043365));
res += mul(Get(s3,0,dy), float4x4(-0.026284893974662,0.078368410468102,-0.039905719459057,-0.010048596188426,0.036593925207853,0.207137182354927,-0.152471974492073,-0.047972537577152,0.011045377701521,-0.074459061026573,-0.125830471515656,0.023354165256023,0.006598173175007,0.047299280762672,-0.035661578178406,-0.009544271044433));
res += mul(Get(s3,dx,-dy), float4x4(0.107695981860161,0.042865317314863,0.110975302755833,0.147933870553970,-0.005825412459671,0.032529339194298,0.069097228348255,0.110204569995403,0.155564367771149,-0.073785014450550,0.101798266172409,0.001465386827476,-0.084617204964161,0.076106540858746,-0.102763578295708,0.092417269945145));
res += mul(Get(s3,dx,0), float4x4(-0.098305106163025,0.010502625256777,0.073219813406467,-0.041914764791727,-0.019116416573524,0.023202685639262,-0.092132389545441,-0.219318300485611,-0.070883244276047,-0.053519871085882,0.007538745179772,0.041607081890106,0.063217356801033,0.148271217942238,0.106954768300056,-0.027715496718884));
res += mul(Get(s3,dx,dy), float4x4(-0.154698103666306,0.043319780379534,-0.031341169029474,-0.005848071072251,-0.116463005542755,-0.020142026245594,0.042992997914553,0.008336002938449,-0.033430017530918,-0.057627473026514,0.073821671307087,-0.006309483200312,-0.029463598504663,-0.081788197159767,0.060580909252167,0.123484320938587));
return max(float4(0,0,0,0), res);
}
