sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.011315763927996,0.064654037356377,-0.005814329255372,-0.130465090274811,-0.008498203940690,0.127628743648529,0.056674685329199,-0.146936729550362,-0.015050888992846,0.122875459492207,0.017072709277272,0.046714022755623,0.066216044127941,0.027288563549519,-0.017936982214451,-0.047334335744381));
res += mul(Get(s0,-dx,0), float4x4(-0.143603429198265,-0.090256512165070,0.024505004286766,-0.084619954228401,-0.054225277155638,-0.064451992511749,-0.030474226921797,0.114671908318996,-0.038749556988478,0.070526942610741,-0.059776287525892,0.037880651652813,0.034301120787859,0.087724156677723,0.165503039956093,0.024248562753201));
res += mul(Get(s0,-dx,dy), float4x4(0.065510004758835,0.009272662922740,-0.041373927146196,-0.009771993383765,-0.009747060947120,-0.078511722385883,0.065291635692120,-0.018245162442327,-0.029589401558042,-0.005972498562187,-0.091215334832668,-0.027931191027164,-0.044669467955828,0.134797990322113,0.002445837482810,-0.119726717472076));
res += mul(Get(s0,0,-dy), float4x4(-0.011381846852601,0.080102592706680,0.146102309226990,-0.035004653036594,-0.058960217982531,0.012834991328418,-0.050396818667650,0.033091165125370,0.089869856834412,-0.032329328358173,-0.079954385757446,0.071442216634750,0.096628271043301,-0.144597545266151,-0.105792656540871,-0.117449373006821));
res += mul(Get(s0,0,0), float4x4(-0.096437007188797,0.048855241388083,-0.012507704086602,0.020115062594414,0.009623501449823,0.016998397186399,-0.034804850816727,0.166368514299393,-0.052201069891453,-0.088000826537609,0.149075314402580,-0.060616519302130,0.026869745925069,-0.024478815495968,-0.074928358197212,0.058605391532183));
res += mul(Get(s0,0,dy), float4x4(-0.104553759098053,-0.076374433934689,0.052047226577997,-0.078023761510849,0.125434219837189,0.015195814892650,-0.058968108147383,-0.000799959350843,0.015802836045623,0.076148234307766,0.022040037438273,-0.077054545283318,-0.037543617188931,-0.010422855615616,-0.075868457555771,-0.087553314864635));
res += mul(Get(s0,dx,-dy), float4x4(-0.084829375147820,-0.019530830904841,-0.175126001238823,0.040508367121220,0.068520344793797,-0.090191140770912,-0.137409850955009,0.091387599706650,0.045840602368116,0.071693480014801,-0.083576828241348,0.100792236626148,-0.040753990411758,-0.103030428290367,0.107136137783527,0.006867526099086));
res += mul(Get(s0,dx,0), float4x4(-0.073430567979813,-0.010316489264369,0.084642216563225,-0.003974033053964,-0.044944707304239,-0.110124960541725,0.033116377890110,-0.028727745637298,-0.092038154602051,-0.031072754412889,-0.091737501323223,0.051715292036533,-0.046221651136875,-0.024460939690471,0.162472948431969,-0.131398648023605));
res += mul(Get(s0,dx,dy), float4x4(-0.014867438003421,0.084927037358284,-0.041818790137768,0.029246473684907,0.003175290534273,-0.006603361573070,0.100524984300137,0.080401830375195,-0.130711823701859,0.004084560554475,-0.063250951468945,0.045781962573528,-0.096615381538868,0.062913432717323,0.134106561541557,-0.040320400148630));
res += mul(Get(s1,-dx,-dy), float4x4(0.228325888514519,-0.058293309062719,-0.031445376574993,-0.082733482122421,0.029077164828777,0.034776046872139,-0.014664623886347,0.008588295429945,-0.016778897494078,0.032233070582151,0.028232479467988,0.029926083981991,-0.079831540584564,-0.017875120043755,0.080172240734100,-0.108698166906834));
res += mul(Get(s1,-dx,0), float4x4(-0.198234677314758,-0.177764624357224,0.092340961098671,0.039992995560169,0.127664640545845,-0.156072467565536,-0.115643024444580,-0.089016638696194,-0.051035661250353,0.194189682602882,0.144147947430611,-0.016539527103305,-0.135337695479393,0.059405885636806,-0.034818459302187,0.084012687206268));
res += mul(Get(s1,-dx,dy), float4x4(0.021472100168467,-0.083232559263706,-0.015755956992507,0.033330753445625,-0.031400237232447,0.128117561340332,0.050061151385307,-0.144657984375954,-0.047779548913240,0.103387363255024,0.073234327137470,-0.116838783025742,-0.021379912272096,0.030242428183556,-0.063989721238613,0.082016199827194));
res += mul(Get(s1,0,-dy), float4x4(-0.000635070202406,0.027373507618904,-0.007465266622603,0.020079763606191,-0.066869728267193,0.017760261893272,-0.104812540113926,0.094384230673313,-0.111060932278633,-0.054971724748611,-0.140747725963593,0.006119940895587,0.050695326179266,-0.001579923322424,-0.064197413623333,0.076215445995331));
res += mul(Get(s1,0,0), float4x4(-0.111074037849903,-0.060338854789734,-0.101158104836941,-0.072395935654640,-0.141119688749313,-0.007584416773170,0.056065246462822,0.007705885916948,0.050016000866890,0.002655769232661,-0.057381175458431,0.009990032762289,0.087157242000103,-0.175857588648796,0.041221152991056,-0.129469633102417));
res += mul(Get(s1,0,dy), float4x4(-0.014387429691851,0.087645433843136,-0.029771279543638,-0.064534917473793,0.052908547222614,-0.119260139763355,-0.053884971886873,-0.138474971055984,-0.036464739590883,-0.002516383305192,0.121270179748535,-0.015306925401092,0.104793131351471,-0.123272456228733,0.044005498290062,0.035744749009609));
res += mul(Get(s1,dx,-dy), float4x4(0.027995232492685,-0.039408575743437,-0.067979753017426,-0.100129209458828,-0.057201944291592,0.006595090497285,-0.081717967987061,0.144251033663750,0.051131173968315,-0.004527850542217,0.033269546926022,-0.050963852554560,-0.034582618623972,0.115993268787861,-0.040714681148529,-0.088788583874702));
res += mul(Get(s1,dx,0), float4x4(0.081132359802723,0.004989221692085,-0.026503149420023,0.108114235103130,0.106328345835209,0.034342825412750,-0.163935825228691,-0.178087815642357,-0.147802546620369,-0.223585069179535,-0.068328306078911,0.058084458112717,-0.083397291600704,0.016172902658582,-0.132186755537987,0.078654348850250));
res += mul(Get(s1,dx,dy), float4x4(0.005708019249141,-0.061729419976473,-0.053403176367283,0.058095168322325,-0.013577758334577,-0.044183559715748,-0.033807035535574,0.005471771582961,0.028306772932410,-0.096779428422451,0.008088815025985,-0.050674293190241,0.258977681398392,0.002057324629277,0.009703493677080,0.081511966884136));
res += mul(Get(s2,-dx,-dy), float4x4(-0.048069141805172,-0.028717489913106,-0.022370181977749,0.092278368771076,0.010638184845448,0.033950775861740,-0.135409384965897,0.019065428525209,-0.013560626655817,-0.087126143276691,-0.044422399252653,0.107497125864029,0.017602812498808,-0.082811258733273,-0.107327826321125,-0.014675381593406));
res += mul(Get(s2,-dx,0), float4x4(-0.060642715543509,0.249394208192825,0.008845499716699,0.154850631952286,-0.067557893693447,-0.090338289737701,-0.018303567543626,0.096544995903969,-0.174919500946999,-0.161998406052589,-0.157525584101677,0.004689603578299,0.034571114927530,0.097676783800125,0.094632484018803,-0.136031672358513));
res += mul(Get(s2,-dx,dy), float4x4(0.040696293115616,-0.059851408004761,0.121557086706161,-0.123745001852512,-0.040325857698917,0.071858495473862,0.004361818078905,-0.092896305024624,0.016193171963096,0.145402595400810,-0.193865120410919,0.022371130064130,0.030169367790222,0.195728942751884,0.030615525320172,-0.094075895845890));
res += mul(Get(s2,0,-dy), float4x4(-0.093133933842182,-0.012391631491482,0.031643629074097,0.039100181311369,-0.056686792522669,0.025215521454811,0.164177060127258,-0.061116162687540,0.081256732344627,0.024198763072491,0.029379444196820,-0.075117699801922,0.042475622147322,-0.020782345905900,-0.028496813029051,-0.102822668850422));
res += mul(Get(s2,0,0), float4x4(-0.057500232011080,0.043661035597324,-0.071426302194595,0.133143499493599,0.006715067662299,0.119354985654354,0.103186078369617,0.008260119706392,0.107655473053455,0.060371764004230,0.037555761635303,-0.140651911497116,0.064934603869915,-0.060396678745747,-0.090499967336655,-0.203218996524811));
res += mul(Get(s2,0,dy), float4x4(-0.131107404828072,0.111681640148163,0.183191895484924,0.004188488703221,-0.063660778105259,-0.098553672432899,0.041179776191711,0.003959618974477,0.018397195264697,0.021868526935577,-0.031284134835005,-0.196044579148293,0.082196831703186,0.034410625696182,0.014213817194104,0.067491918802261));
res += mul(Get(s2,dx,-dy), float4x4(-0.018001342192292,-0.009551282040775,-0.052216880023479,0.007572975475341,0.015432032756507,0.001468243892305,-0.105273209512234,-0.084211081266403,0.125297859311104,0.091495908796787,0.051254138350487,0.170226305723190,-0.087441563606262,-0.074678242206573,0.019008547067642,-0.084427617490292));
res += mul(Get(s2,dx,0), float4x4(-0.096900932490826,0.082916088402271,-0.039732418954372,-0.063479244709015,-0.080343723297119,-0.060079172253609,0.031342510133982,0.018849151208997,0.058562405407429,0.122587390244007,0.024683006107807,0.050754703581333,-0.116900704801083,-0.072440005838871,-0.158841937780380,0.027838230133057));
res += mul(Get(s2,dx,dy), float4x4(0.032926607877016,0.083620943129063,0.046862922608852,0.097526468336582,0.043388016521931,-0.166999667882919,-0.034593798220158,-0.053907610476017,0.178791001439095,-0.039374090731144,-0.119169309735298,0.125757098197937,0.103923991322517,0.055324878543615,0.077890373766422,0.014366243965924));
res += mul(Get(s3,-dx,-dy), float4x4(0.078402854502201,0.014441030099988,0.017734756693244,-0.063994102180004,-0.035910557955503,0.095370806753635,0.065805725753307,0.014939605258405,0.106463782489300,0.060495108366013,0.093494072556496,0.030591536313295,0.074753835797310,0.126923620700836,0.065636120736599,-0.133527427911758));
res += mul(Get(s3,-dx,0), float4x4(-0.075697861611843,0.072946034371853,0.045189324766397,0.093079887330532,0.062578991055489,-0.144331902265549,0.002803575014696,0.027894347906113,0.067987121641636,-0.088638693094254,0.035969085991383,-0.020353121683002,-0.147484347224236,0.147036075592041,-0.062504529953003,0.111822940409184));
res += mul(Get(s3,-dx,dy), float4x4(-0.007255580741912,-0.032649960368872,-0.125909164547920,0.012726397253573,-0.028187090530992,-0.223219156265259,-0.017353162169456,0.148963972926140,0.002619310980663,-0.066225931048393,0.069453336298466,-0.178955584764481,-0.029313983395696,0.025481335818768,-0.057694669812918,0.096390053629875));
res += mul(Get(s3,0,-dy), float4x4(0.152688041329384,0.021414982154965,0.141359552741051,-0.135305956006050,0.086124964058399,0.111102022230625,0.053266834467649,0.117185764014721,-0.075716987252235,0.077995613217354,-0.057244934141636,0.004974395502359,-0.175026446580887,0.023346785455942,-0.013873167335987,-0.121818810701370));
res += mul(Get(s3,0,0), float4x4(-0.101703092455864,0.040644910186529,0.071793340146542,-0.006079253274947,0.079114943742752,-0.066634245216846,-0.102686256170273,-0.004607041832060,-0.109635181725025,0.113041840493679,0.066627517342567,-0.104010678827763,0.028727613389492,0.011766435578465,-0.112624280154705,0.079834379255772));
res += mul(Get(s3,0,dy), float4x4(0.023722207173705,0.038175903260708,-0.074669435620308,0.037667565047741,-0.041154302656651,-0.169235080480576,0.024532608687878,0.144233658909798,0.093878403306007,0.095829062163830,-0.063807934522629,-0.051941782236099,-0.006786759011447,-0.060446787625551,0.107603661715984,0.205104798078537));
res += mul(Get(s3,dx,-dy), float4x4(-0.120547585189342,0.092522419989109,-0.023666452616453,-0.037102099508047,0.008839809335768,0.025987664237618,-0.079901888966560,-0.135050579905510,0.170617014169693,0.047543931752443,-0.031732164323330,0.070743218064308,0.022023189812899,0.028945187106729,0.050150841474533,-0.212048575282097));
res += mul(Get(s3,dx,0), float4x4(0.011736947111785,0.082594081759453,-0.064554058015347,0.046030905097723,0.003065011231229,0.177495405077934,0.046826299279928,0.014370237477124,0.023041635751724,-0.086826428771019,-0.022929415106773,-0.072241760790348,-0.042554862797260,-0.033777855336666,0.044553369283676,-0.015922714024782));
res += mul(Get(s3,dx,dy), float4x4(0.022223789244890,-0.141025274991989,0.020519845187664,0.122544795274734,0.064009062945843,0.089220345020294,-0.112713932991028,0.041870821267366,-0.005985373631120,-0.015919284895062,0.043380055576563,0.071963794529438,-0.163476824760437,0.006392463110387,-0.052671764045954,-0.116859488189220));
return max(float4(0,0,0,0), res);
}
