sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.095800027251244,0.037978544831276,-0.056196458637714,-0.070861689746380,0.007596428506076,0.021944405511022,-0.088182263076305,-0.011776037514210,0.158581137657166,-0.044004894793034,0.054817512631416,-0.133136048913002,-0.066368989646435,-0.091707162559032,0.092509776353836,-0.012805286794901));
res += mul(Get(s0,-dx,0), float4x4(0.097099699079990,0.019060717895627,0.025407385081053,-0.042165964841843,-0.049917161464691,-0.048381309956312,-0.035228934139013,-0.006713778711855,0.145416721701622,0.039465505629778,-0.054188974201679,-0.012657165527344,-0.030844133347273,-0.059761457145214,0.027156688272953,0.098276883363724));
res += mul(Get(s0,-dx,dy), float4x4(-0.098300978541374,-0.011260323226452,0.168128505349159,0.065351784229279,-0.021514816209674,-0.054105915129185,-0.046264946460724,0.095983989536762,-0.120989888906479,0.002072543837130,-0.002252457197756,-0.096363820135593,0.009908709675074,-0.025492284446955,0.001272263471037,-0.015374926850200));
res += mul(Get(s0,0,-dy), float4x4(-0.085767023265362,0.169438809156418,-0.053816702216864,0.016378473490477,0.209286615252495,0.015379967167974,0.002646026900038,0.007072180043906,0.023062227293849,-0.060809310525656,0.046557072550058,-0.055424459278584,0.014761083759367,-0.101446978747845,-0.098411075770855,-0.019768260419369));
res += mul(Get(s0,0,0), float4x4(-0.008036520332098,0.026827964931726,-0.064908631145954,0.077744461596012,-0.062904335558414,0.164675697684288,-0.012294343672693,-0.028424996882677,0.027476523071527,-0.041744869202375,-0.050971299409866,0.021359065547585,-0.018255172297359,-0.001604996738024,0.041835688054562,-0.088466182351112));
res += mul(Get(s0,0,dy), float4x4(0.024073848500848,-0.011998367495835,-0.017222616821527,0.008692278526723,0.010704921558499,-0.018385373055935,-0.110998354852200,-0.023256886750460,-0.085401631891727,-0.109158754348755,0.008021637797356,-0.098702065646648,-0.013002479448915,0.028784222900867,-0.102790892124176,0.133820399641991));
res += mul(Get(s0,dx,-dy), float4x4(-0.120795495808125,0.047018349170685,0.056556768715382,0.208727002143860,0.068961128592491,-0.099753379821777,0.081755802035332,0.062591657042503,-0.044162154197693,-0.070517733693123,0.058336082845926,-0.084154754877090,0.002870657946914,-0.081405624747276,0.134444743394852,-0.021082548424602));
res += mul(Get(s0,dx,0), float4x4(0.128266900777817,-0.005929220002145,0.053509235382080,-0.141929402947426,-0.094392299652100,-0.029410576447845,-0.144364178180695,-0.060457456856966,-0.035290177911520,-0.126668497920036,-0.052748046815395,-0.130669578909874,0.038725819438696,0.094170331954956,0.044490415602922,0.109360717236996));
res += mul(Get(s0,dx,dy), float4x4(0.074193157255650,0.010817314498127,-0.044013895094395,-0.034146342426538,0.079481013119221,-0.046151161193848,0.043664988130331,0.033712476491928,-0.009439609944820,-0.043322142213583,0.080959253013134,-0.190888941287994,0.108243718743324,-0.134061023592949,0.022392136976123,0.030591806396842));
res += mul(Get(s1,-dx,-dy), float4x4(0.052402827888727,-0.033091094344854,-0.033020563423634,-0.022263906896114,-0.076370999217033,0.177466750144958,0.084746047854424,0.028483450412750,-0.050215270370245,-0.105219699442387,0.004951093811542,-0.123546630144119,0.092129841446877,0.016360843554139,-0.064392656087875,-0.153039649128914));
res += mul(Get(s1,-dx,0), float4x4(-0.024142852053046,-0.125405102968216,-0.183899044990540,0.091375470161438,0.000827959971502,0.188601419329643,-0.019015837460756,0.067304648458958,-0.025944804772735,-0.161474362015724,0.068013414740562,-0.105526112020016,0.048389326781034,0.022411733865738,0.026454759761691,-0.050559122115374));
res += mul(Get(s1,-dx,dy), float4x4(0.050936859101057,-0.029075749218464,-0.101040259003639,0.082936339080334,-0.070517577230930,-0.039552934467793,0.154856979846954,-0.023111080750823,-0.008148267865181,0.200691297650337,0.088967747986317,-0.013607705011964,-0.114071287214756,-0.041897177696228,0.155132636427879,0.076130032539368));
res += mul(Get(s1,0,-dy), float4x4(-0.020957853645086,-0.111877210438251,0.030943946912885,-0.009336029179394,-0.044935088604689,0.005906543228775,-0.103515163064003,0.053183894604445,-0.150344535708427,-0.021532217040658,0.066390283405781,-0.136890262365341,-0.129974707961082,0.045564025640488,0.038664478808641,-0.016399452462792));
res += mul(Get(s1,0,0), float4x4(-0.151055157184601,-0.048619158565998,0.203887611627579,0.109343171119690,0.077495530247688,-0.034314826130867,-0.034027118235826,0.082757472991943,-0.010861405171454,0.032994098961353,-0.039405986666679,0.190098538994789,0.074288882315159,-0.086893118917942,-0.053099256008863,-0.009164708666503));
res += mul(Get(s1,0,dy), float4x4(-0.198478057980537,-0.062566384673119,0.062429267913103,0.150344789028168,0.084849163889885,0.015249139629304,-0.007565470878035,0.006279793567955,0.069663092494011,0.100918337702751,-0.005536605138332,0.062566369771957,-0.028721587732434,-0.062972471117973,-0.046084873378277,-0.093703210353851));
res += mul(Get(s1,dx,-dy), float4x4(-0.143839567899704,-0.100166849792004,0.025966485962272,-0.005543586332351,0.202763840556145,-0.077622868120670,-0.167014703154564,0.014057771302760,-0.053373835980892,-0.143393933773041,0.031856574118137,-0.174752920866013,-0.027059698477387,0.033583432435989,0.174921646714211,-0.044009402394295));
res += mul(Get(s1,dx,0), float4x4(-0.020632494240999,-0.174508914351463,-0.045749876648188,-0.021607173606753,0.007050629705191,-0.158855974674225,0.049634885042906,-0.104775592684746,0.046513278037310,0.035106174647808,-0.104202076792717,-0.097539044916630,0.120448581874371,0.110518686473370,0.247747063636780,-0.113190412521362));
res += mul(Get(s1,dx,dy), float4x4(-0.053159236907959,0.047748669981956,0.010324938222766,0.034174397587776,-0.021538477391005,-0.000071068621764,0.014446652494371,-0.098891265690327,0.079270750284195,0.042920276522636,-0.086930654942989,-0.009272521361709,0.123243942856789,-0.037380672991276,0.017903147265315,0.029740592464805));
res += mul(Get(s2,-dx,-dy), float4x4(0.013445474207401,-0.042646821588278,-0.040852278470993,-0.038205597549677,-0.013452145271003,-0.108954638242722,-0.053025037050247,-0.032678298652172,-0.009204823523760,-0.071501873433590,0.026051655411720,-0.033010948449373,-0.072468779981136,0.066368833184242,-0.006660640239716,0.044040888547897));
res += mul(Get(s2,-dx,0), float4x4(-0.065819270908833,0.034604895859957,-0.119298137724400,0.066079974174500,0.025651870295405,0.012929195538163,0.000736113055609,-0.025476565584540,-0.036371331661940,0.013856524601579,-0.139739140868187,-0.071092806756496,-0.043185200542212,-0.108061611652374,-0.026989981532097,-0.084665820002556));
res += mul(Get(s2,-dx,dy), float4x4(-0.014635414816439,0.090948812663555,0.082628920674324,0.104072742164135,-0.133567258715630,0.122084200382233,-0.060308992862701,0.031574774533510,0.038568932563066,-0.051578115671873,-0.157784745097160,0.023684505373240,0.025981271639466,-0.049455337226391,0.110495314002037,-0.022019166499376));
res += mul(Get(s2,0,-dy), float4x4(-0.019850490614772,0.081760682165623,0.024026328697801,0.091077238321304,0.082448333501816,-0.051918778568506,0.086728461086750,0.066359713673592,0.064991004765034,-0.019245395436883,-0.015068769454956,0.029257604852319,-0.014429764822125,-0.050660461187363,-0.065929599106312,0.085158176720142));
res += mul(Get(s2,0,0), float4x4(0.074429623782635,0.022975066676736,0.098936185240746,-0.002795387525111,0.140399768948555,-0.050334475934505,0.040491722524166,-0.133879885077477,-0.040963683277369,-0.064722456037998,0.041226133704185,-0.024677703157067,-0.125400975346565,0.046445615589619,0.017690213397145,0.004433951340616));
res += mul(Get(s2,0,dy), float4x4(0.036596346646547,-0.053445041179657,-0.076569423079491,-0.042737752199173,-0.060207501053810,-0.063190527260303,-0.104154378175735,-0.014015439897776,0.068280562758446,-0.018502665683627,-0.006066182162613,0.062357295304537,-0.122054018080235,0.041365370154381,0.038355626165867,-0.037164229899645));
res += mul(Get(s2,dx,-dy), float4x4(0.044389288872480,0.053093846887350,0.019645525142550,-0.103371746838093,0.200071901082993,-0.039500545710325,-0.009870404377580,0.016971377655864,0.142054915428162,0.297557443380356,-0.134548321366310,-0.128829956054688,0.067098699510098,0.008949426002800,0.068874500691891,-0.071900822222233));
res += mul(Get(s2,dx,0), float4x4(0.011259695515037,-0.006593387108296,-0.055005397647619,0.010023739188910,0.087271504104137,-0.025213880464435,-0.067247755825520,-0.013389257714152,0.062636978924274,0.284825503826141,-0.138005837798119,-0.090806283056736,-0.057591989636421,-0.028794171288610,-0.073560386896133,-0.020247170701623));
res += mul(Get(s2,dx,dy), float4x4(-0.031055357307196,0.116563230752945,0.107550799846649,0.080850377678871,-0.030002703890204,0.010112551040947,0.066017270088196,0.072585746645927,0.045357320457697,0.096896842122078,0.078282997012138,-0.258764505386353,0.177202329039574,-0.078604198992252,0.027773495763540,0.050793807953596));
res += mul(Get(s3,-dx,-dy), float4x4(-0.192657083272934,0.000654952891637,0.232182726264000,-0.128197580575943,-0.169905275106430,-0.172468692064285,0.044639479368925,0.068425774574280,0.029461564496160,-0.080333374440670,-0.093545556068420,0.014606100507081,-0.083507351577282,0.044512297958136,0.018435094505548,-0.069224901497364));
res += mul(Get(s3,-dx,0), float4x4(0.012290122918785,0.095045402646065,-0.123023688793182,-0.005688767414540,-0.024574335664511,-0.112574160099030,-0.046016756445169,0.048820577561855,-0.046429071575403,0.098948054015636,0.022970542311668,0.083719365298748,-0.147227317094803,0.057831741869450,-0.064578898251057,-0.011684380471706));
res += mul(Get(s3,-dx,dy), float4x4(0.011148924939334,0.037175305187702,0.035549309104681,0.066122427582741,0.086730979382992,-0.027157252654433,0.168061718344688,0.063514783978462,0.011014916934073,0.147233724594116,0.133306369185448,0.125766456127167,0.001958281733096,0.058090511709452,-0.001124519156292,0.021372735500336));
res += mul(Get(s3,0,-dy), float4x4(-0.064449526369572,0.016245981678367,-0.019977632910013,-0.120172388851643,0.043503340333700,0.088521800935268,0.037465691566467,-0.103444337844849,-0.158203795552254,-0.031330622732639,-0.107410393655300,-0.096272721886635,0.036636099219322,0.059815924614668,0.003614056156948,0.265612423419952));
res += mul(Get(s3,0,0), float4x4(0.014832447282970,0.050506733357906,-0.063933528959751,0.057706095278263,0.034926205873489,-0.005958919413388,-0.020254189148545,0.046384550631046,0.099628984928131,0.100841373205185,-0.026628941297531,0.054026566445827,0.089834898710251,-0.023692982271314,0.076647303998470,0.099243670701981));
res += mul(Get(s3,0,dy), float4x4(-0.072508491575718,0.049420617520809,-0.070257216691971,0.057856213301420,0.085546083748341,0.031579446047544,0.042432889342308,-0.051227729767561,0.027448898181319,0.080749593675137,0.081744380295277,-0.002004838315770,-0.086229994893074,0.033934414386749,0.054315209388733,0.189233556389809));
res += mul(Get(s3,dx,-dy), float4x4(0.073598220944405,-0.134632572531700,0.037959333509207,-0.074778571724892,-0.140282556414604,-0.076545529067516,-0.001936263986863,-0.047605291008949,0.161515921354294,-0.119739755988121,-0.162340030074120,0.077032767236233,0.064800523221493,-0.190436303615570,-0.030535794794559,0.035041455179453));
res += mul(Get(s3,dx,0), float4x4(-0.012582077644765,0.000099409269751,0.199010163545609,-0.126394480466843,0.080552011728287,-0.181814357638359,0.093437418341637,-0.131571412086487,0.091848440468311,-0.003142790636048,0.057314425706863,0.093530200421810,0.001936290995218,-0.100304692983627,0.137884438037872,0.017903912812471));
res += mul(Get(s3,dx,dy), float4x4(-0.138158470392227,-0.038461387157440,-0.059551324695349,0.036802604794502,-0.122693680226803,0.006806549150497,-0.015315043739974,0.092959463596344,-0.011381057091057,0.021638642996550,0.067552275955677,0.069090828299522,-0.055030364543200,0.100652545690536,0.000491033482831,0.051524356007576));
return max(float4(0,0,0,0), res);
}
