sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.179678678512573,0.105648934841156,0.032674629241228,0.091653093695641,0.113617829978466,-0.111482001841068,-0.149127557873726,-0.031175097450614,-0.130991995334625,-0.005485975649208,-0.077100627124310,0.027934268116951,-0.089501455426216,-0.063895583152771,-0.095900841057301,0.097593434154987));
res += mul(Get(s0,-dx,0), float4x4(0.124008595943451,-0.151591375470161,0.048874735832214,-0.051213830709457,-0.038028836250305,0.063847720623016,0.001785265863873,-0.050250340253115,-0.052710060030222,0.164022877812386,-0.034407950937748,-0.108231164515018,0.008092057891190,-0.193743348121643,0.041331242769957,0.101939171552658));
res += mul(Get(s0,-dx,dy), float4x4(-0.133437946438789,-0.012863620184362,-0.041099119931459,-0.107449203729630,0.225526109337807,-0.095486298203468,0.026834381744266,-0.071105010807514,-0.099096484482288,0.171477973461151,-0.057076595723629,0.112927310168743,-0.040536306798458,-0.016964718699455,0.030231263488531,0.021876797080040));
res += mul(Get(s0,0,-dy), float4x4(0.045382522046566,0.007879614830017,-0.057637903839350,-0.035138502717018,0.032837286591530,-0.070193693041801,-0.080154709517956,0.065219178795815,0.012122199870646,-0.073717035353184,-0.074086457490921,0.016041012480855,0.002420360222459,-0.086211077868938,-0.096072189509869,-0.141806930303574));
res += mul(Get(s0,0,0), float4x4(-0.104205608367920,-0.057520043104887,-0.040392354130745,-0.057293254882097,0.084305301308632,0.124986462295055,0.044775128364563,-0.010993635281920,0.142075031995773,0.003065656404942,0.145375356078148,0.009854444302619,0.062633685767651,-0.008895240724087,0.094948798418045,0.092283606529236));
res += mul(Get(s0,0,dy), float4x4(-0.168787509202957,0.015466311946511,-0.093134582042694,0.020867852494121,-0.013450814411044,0.083043493330479,0.104522146284580,-0.130329072475433,0.172981396317482,0.093212775886059,-0.026621891185641,0.128815785050392,-0.077780805528164,0.202902689576149,-0.005438073072582,-0.005600611679256));
res += mul(Get(s0,dx,-dy), float4x4(-0.101648017764091,0.137483194470406,-0.044776007533073,-0.019646625965834,-0.023490319028497,-0.068948753178120,0.056773290038109,0.181218296289444,-0.144021853804588,0.040518898516893,-0.009547529742122,0.003942348528653,-0.012284686788917,-0.006728081032634,0.014333941973746,0.016367932781577));
res += mul(Get(s0,dx,0), float4x4(-0.182825043797493,-0.081949003040791,0.059380203485489,-0.125070109963417,-0.064979642629623,0.083422645926476,-0.132553279399872,-0.028583310544491,0.043016225099564,0.009905017912388,0.010079194791615,-0.149536222219467,-0.143272891640663,0.125876367092133,0.010546563193202,0.104650765657425));
res += mul(Get(s0,dx,dy), float4x4(-0.094840407371521,-0.021313708275557,-0.189182966947556,0.047072868794203,0.014275365509093,-0.048361275345087,-0.062891900539398,0.022948298603296,-0.056629393249750,0.016802029684186,-0.144189521670341,0.012779498472810,-0.032646063715219,-0.093329794704914,-0.046056501567364,0.031810190528631));
res += mul(Get(s1,-dx,-dy), float4x4(0.082894966006279,0.106700666248798,-0.153359532356262,-0.311991602182388,-0.022729186341166,-0.067698881030083,0.013355665840209,-0.031694266945124,0.079299941658974,-0.078151956200600,-0.022490587085485,0.034019596874714,-0.074974127113819,-0.043084912002087,0.037953767925501,-0.116034761071205));
res += mul(Get(s1,-dx,0), float4x4(-0.146078586578369,-0.140904322266579,-0.010991815477610,-0.139456450939178,0.007914970628917,-0.055116362869740,0.050842262804508,-0.059685699641705,-0.032120004296303,-0.100253388285637,-0.047767948359251,-0.040797527879477,0.038359168916941,-0.034841559827328,-0.032193284481764,-0.030541595071554));
res += mul(Get(s1,-dx,dy), float4x4(0.032785143703222,-0.022263491526246,-0.131119310855865,-0.069364197552204,-0.030577540397644,-0.089373469352722,0.129267066717148,-0.073554098606110,0.070467025041580,-0.161797285079956,-0.045881878584623,0.037846770137548,0.034473065286875,0.094877190887928,0.010210737586021,0.089369870722294));
res += mul(Get(s1,0,-dy), float4x4(-0.112520650029182,0.023586319759488,-0.014119115658104,-0.108229264616966,-0.054997950792313,0.106476143002510,-0.169373989105225,-0.000607923720963,0.016256356611848,0.082140132784843,0.051122289150953,0.014469612389803,-0.027898062020540,-0.099146649241447,0.083730071783066,0.018577063456178));
res += mul(Get(s1,0,0), float4x4(0.018654022365808,0.050522483885288,0.017814561724663,0.012895343825221,0.112743504345417,0.018943563103676,0.072009503841400,-0.118361033499241,-0.049772448837757,-0.072414092719555,0.045917671173811,-0.025780472904444,0.072371371090412,-0.046758498996496,-0.048962462693453,0.034626085311174));
res += mul(Get(s1,0,dy), float4x4(-0.037615619599819,-0.010461265221238,0.016654079779983,0.012666508555412,-0.029419878497720,-0.020238747820258,-0.018670668825507,-0.020347725600004,-0.071043275296688,-0.010314849205315,0.093132920563221,-0.000671873393003,-0.036000516265631,0.111923806369305,-0.042006060481071,-0.031594920903444));
res += mul(Get(s1,dx,-dy), float4x4(-0.022683136165142,-0.089582949876785,-0.116418719291687,-0.058142557740211,-0.061544395983219,-0.071457520127296,-0.008068970404565,0.062227323651314,0.014644187875092,0.005346380174160,0.035764712840319,0.052408400923014,-0.007170509546995,0.044290024787188,-0.017004387453198,-0.071888118982315));
res += mul(Get(s1,dx,0), float4x4(-0.134064793586731,-0.100937366485596,0.030550645664334,0.098069548606873,-0.061538480222225,0.066082783043385,-0.057979717850685,0.069537393748760,-0.008655676618218,0.038076065480709,-0.003973520826548,0.063161559402943,0.109999559819698,-0.148831099271774,0.010704107582569,0.173345208168030));
res += mul(Get(s1,dx,dy), float4x4(-0.076353460550308,-0.059877466410398,-0.101516984403133,-0.066047556698322,-0.013156663626432,0.049007292836905,0.015525062568486,-0.153320044279099,-0.075236149132252,-0.054945241659880,-0.095069348812103,-0.062163107097149,-0.047543365508318,0.086459450423717,0.171831130981445,-0.003664885880426));
res += mul(Get(s2,-dx,-dy), float4x4(-0.167345374822617,-0.215316772460938,-0.073628298938274,-0.006472904235125,0.103373102843761,-0.032502919435501,0.076967895030975,-0.000608292757533,0.006984035950154,-0.026436226442456,-0.051498152315617,-0.152707278728485,0.127343684434891,-0.052030771970749,0.040246546268463,0.006967977155000));
res += mul(Get(s2,-dx,0), float4x4(-0.108031183481216,-0.055434346199036,0.107577845454216,-0.022979371249676,0.051026076078415,0.144784197211266,-0.067767001688480,0.085804082453251,-0.039038732647896,0.017371123656631,-0.088186971843243,-0.099248558282852,0.084880620241165,-0.025147138163447,0.045686334371567,-0.051259774714708));
res += mul(Get(s2,-dx,dy), float4x4(0.019163088873029,0.132373780012131,-0.020782841369510,0.003029732732102,0.112896658480167,-0.041919793933630,-0.110601201653481,0.157697290182114,-0.014959667809308,0.073420964181423,-0.157355025410652,-0.043774437159300,0.109076648950577,0.188340514898300,-0.005062091164291,0.070585034787655));
res += mul(Get(s2,0,-dy), float4x4(-0.008514966815710,0.089199274778366,0.073711574077606,-0.030741689726710,0.064436145126820,-0.020516060292721,0.018630634993315,-0.129517048597336,0.045979723334312,-0.018667243421078,-0.049872122704983,-0.027512570843101,0.016512094065547,-0.120208792388439,0.163770094513893,0.136096432805061));
res += mul(Get(s2,0,0), float4x4(0.233780175447464,0.074398256838322,0.004897551611066,-0.081847749650478,-0.302316606044769,0.029011191800237,0.027691904455423,0.010207595303655,0.094225101172924,0.061945173889399,0.004995795898139,0.100352384150028,-0.070463217794895,-0.002481510629877,-0.108086183667183,0.039851676672697));
res += mul(Get(s2,0,dy), float4x4(-0.125943124294281,-0.025896152481437,-0.050695914775133,0.040011182427406,-0.084224827587605,-0.026046870276332,-0.208720266819000,-0.032878711819649,-0.089796297252178,-0.001724343048409,-0.088279597461224,-0.037999492138624,0.052985157817602,-0.029863238334656,0.022022141143680,0.025822913274169));
res += mul(Get(s2,dx,-dy), float4x4(-0.013625157997012,-0.023892248049378,-0.036234181374311,0.117796428501606,0.037542488425970,0.159893244504929,-0.013636424206197,0.031217230483890,-0.045917354524136,0.060522809624672,0.001690693898126,0.020690705627203,0.140176460146904,0.029978016391397,-0.078042022883892,0.019573330879211));
res += mul(Get(s2,dx,0), float4x4(0.011066656559706,0.078263618052006,0.077963441610336,0.023930601775646,-0.060273602604866,-0.121163472533226,0.176505580544472,0.018920291215181,-0.050445672124624,-0.070823468267918,0.044248949736357,0.078706115484238,0.038322720676661,0.142833217978477,-0.062227986752987,0.086605548858643));
res += mul(Get(s2,dx,dy), float4x4(-0.116171792149544,0.168427199125290,0.102735102176666,-0.053630646318197,0.022909317165613,-0.203886091709137,-0.011488764546812,-0.045542597770691,0.070088870823383,-0.017879115417600,-0.053658585995436,0.032388176769018,0.073261559009552,0.073229014873505,0.036307118833065,-0.027555318549275));
res += mul(Get(s3,-dx,-dy), float4x4(-0.119667068123817,-0.028866985812783,0.104080766439438,-0.046231038868427,0.030808169394732,-0.020691262558103,0.150128930807114,0.057380124926567,0.066440641880035,0.153470337390900,0.007840755395591,0.098104834556580,0.023940511047840,0.055955458432436,0.088599182665348,-0.032912489026785));
res += mul(Get(s3,-dx,0), float4x4(0.037966411560774,-0.137369602918625,0.019031736999750,0.040118701756001,0.088164180517197,0.027049399912357,0.033203043043613,-0.120092764496803,0.127098605036736,-0.051615301519632,-0.114300116896629,0.005617470014840,-0.025395145639777,0.190781772136688,0.063900060951710,-0.152452886104584));
res += mul(Get(s3,-dx,dy), float4x4(-0.021916439756751,0.060877945274115,0.106757350265980,-0.029592135921121,-0.038797169923782,0.055014602839947,0.106070466339588,-0.085603937506676,-0.016815433278680,0.054018650203943,-0.016612978652120,0.145323753356934,0.065024569630623,0.070017486810684,-0.205751210451126,-0.075522482395172));
res += mul(Get(s3,0,-dy), float4x4(0.053806766867638,-0.042915645986795,-0.072768941521645,0.070789411664009,-0.075468800961971,0.032387178391218,0.004709026776254,0.132514566183090,-0.077020630240440,0.161314055323601,-0.135159119963646,-0.121571399271488,-0.003900971263647,-0.008632850833237,-0.149530887603760,-0.046709518879652));
res += mul(Get(s3,0,0), float4x4(0.103788822889328,-0.098890461027622,0.031084241345525,-0.122057549655437,0.115168698132038,0.063507355749607,-0.111425906419754,-0.084767386317253,0.108641304075718,-0.030946191400290,-0.057510480284691,-0.026264427229762,-0.011596049182117,-0.170337423682213,-0.063858382403851,-0.140119850635529));
res += mul(Get(s3,0,dy), float4x4(-0.057018410414457,-0.024314334616065,-0.048442479223013,0.105777762830257,0.020976318046451,0.019986847415566,-0.079810649156570,-0.053720720112324,-0.045707516372204,0.070204123854637,0.062787845730782,-0.071928106248379,-0.143119573593140,0.009592228569090,-0.073582679033279,0.046269152313471));
res += mul(Get(s3,dx,-dy), float4x4(0.133240029215813,-0.062744282186031,-0.078543379902840,-0.065229631960392,-0.155414387583733,0.097419835627079,-0.074922285974026,-0.004027667921036,-0.068212233483791,0.031427223235369,0.147664844989777,0.030715476721525,-0.062774449586868,0.019286179915071,-0.132781893014908,0.024773493409157));
res += mul(Get(s3,dx,0), float4x4(-0.078162930905819,0.156357154250145,-0.222667276859283,0.028459239751101,0.029910422861576,0.004757130052894,0.085798434913158,-0.070136763155460,-0.100346401333809,-0.028898946940899,0.043144438415766,-0.108285859227180,0.016929194331169,-0.060603972524405,-0.051301907747984,-0.053005598485470));
res += mul(Get(s3,dx,dy), float4x4(-0.001036476227455,-0.001501128892414,0.061144992709160,-0.035774972289801,-0.145305275917053,-0.012817585840821,-0.042573302984238,0.018024241551757,-0.121932022273540,-0.000616960693151,0.007317209616303,-0.147611841559410,-0.034742426127195,0.084632009267807,-0.077674694359303,-0.116332516074181));
return max(float4(0,0,0,0), res);
}
