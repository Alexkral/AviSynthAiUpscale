sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.042887806892395,0.052638720721006,0.120204962790012,-0.051041793078184,0.083440579473972,-0.045392137020826,-0.016036683693528,-0.105318143963814,0.052451927214861,-0.152210280299187,0.005131097044796,-0.160880431532860,-0.060303159058094,-0.060611322522163,0.213700979948044,0.101037472486496));
res += mul(Get(s0,-dx,0), float4x4(0.072127282619476,-0.112125948071480,-0.030200183391571,0.056012824177742,0.068856105208397,0.081409007310867,-0.006318484898657,-0.060317613184452,-0.009958563372493,0.184445008635521,-0.035229779779911,0.106288708746433,0.106483966112137,-0.187946721911430,-0.015666905790567,0.030872896313667));
res += mul(Get(s0,-dx,dy), float4x4(0.022271953523159,-0.000025465349609,-0.026177454739809,0.172786489129066,-0.002486909739673,-0.015999615192413,-0.017837392166257,0.127233862876892,0.099408514797688,-0.066752806305885,-0.013336356729269,0.091392308473587,0.107017233967781,-0.018819507211447,0.000003730228855,0.040128603577614));
res += mul(Get(s0,0,-dy), float4x4(-0.069776065647602,0.049223601818085,-0.020437739789486,-0.137333706021309,-0.014068836346269,-0.022077225148678,-0.121851056814194,0.010432600975037,0.041626416146755,0.051311369985342,0.113199576735497,0.052850771695375,-0.104107357561588,0.011619112454355,-0.126788944005966,-0.039714839309454));
res += mul(Get(s0,0,0), float4x4(0.050174754112959,-0.025136642158031,-0.048542562872171,0.079991318285465,0.036471247673035,-0.064059481024742,-0.103444553911686,0.066537857055664,0.149288564920425,0.139459818601608,0.050165899097919,0.083739280700684,0.122208729386330,0.127350151538849,0.088388346135616,-0.081837184727192));
res += mul(Get(s0,0,dy), float4x4(0.062424127012491,0.056839168071747,0.127890214323997,0.233240932226181,0.107293337583542,0.095119275152683,0.022978229448199,-0.098018497228622,-0.023072015494108,0.013239812105894,0.052665267139673,-0.010587093420327,0.062469992786646,0.058686964213848,0.042358841747046,0.026013584807515));
res += mul(Get(s0,dx,-dy), float4x4(-0.126746132969856,0.059633560478687,-0.071417585015297,0.028836628422141,0.066353984177113,0.058577328920364,-0.034433968365192,-0.143331810832024,-0.036399122327566,-0.003014280227944,0.060335516929626,-0.153869360685349,0.106655605137348,0.086286291480064,0.015825420618057,-0.034245371818542));
res += mul(Get(s0,dx,0), float4x4(-0.138497993350029,0.200952246785164,0.093742109835148,0.064499653875828,0.000411752902437,0.067389734089375,0.003317921888083,-0.142318964004517,0.185489937663078,0.062548041343689,0.060037154704332,-0.003153927158564,0.102670930325985,-0.018430909141898,0.053240854293108,0.133117616176605));
res += mul(Get(s0,dx,dy), float4x4(-0.059879988431931,-0.120205052196980,-0.032938912510872,0.011098946444690,-0.013516702689230,0.012167914770544,0.046589836478233,0.032299049198627,-0.126527577638626,-0.028184475377202,-0.079546809196472,-0.053587093949318,0.019234474748373,0.119870498776436,0.064486980438232,-0.016318755224347));
res += mul(Get(s1,-dx,-dy), float4x4(-0.065188460052013,0.076877385377884,0.024641389027238,-0.059972237795591,0.052315622568130,-0.054172586649656,0.014811818487942,-0.017960920929909,-0.106489181518555,-0.105577640235424,0.062421645969152,-0.085693135857582,-0.047134246677160,0.253148466348648,-0.168484255671501,-0.021708268672228));
res += mul(Get(s1,-dx,0), float4x4(0.102656938135624,-0.032367613166571,-0.218656122684479,-0.006944784894586,-0.063726454973221,-0.007833230309188,-0.031289007514715,-0.051518473774195,-0.048219092190266,-0.056562501937151,-0.012509755790234,-0.019920615479350,0.065836645662785,0.018056577071548,0.060045238584280,-0.080303452908993));
res += mul(Get(s1,-dx,dy), float4x4(0.073843590915203,0.009179112501442,-0.013939610682428,0.091843046247959,0.033470325171947,-0.095037229359150,0.029624372720718,0.011689346283674,-0.113412231206894,0.055674243718386,-0.120826527476311,0.024794520810246,-0.059780593961477,0.126675650477409,0.166088879108429,-0.026301218196750));
res += mul(Get(s1,0,-dy), float4x4(-0.085460178554058,-0.124618232250214,-0.019114337861538,-0.032363399863243,0.040797207504511,0.068437330424786,-0.059451647102833,0.170736744999886,0.128875985741615,-0.008796517737210,0.025099236518145,0.023415802046657,0.075139611959457,0.227847844362259,-0.003725826507434,0.028509477153420));
res += mul(Get(s1,0,0), float4x4(0.046261928975582,-0.075475893914700,0.030231093987823,-0.019531136378646,-0.108794279396534,0.043332699686289,0.115766204893589,0.054266922175884,-0.030782628804445,-0.087564699351788,-0.080497473478317,0.041742686182261,0.189754530787468,0.104943178594112,-0.014350421726704,-0.032574776560068));
res += mul(Get(s1,0,dy), float4x4(-0.029205705970526,0.032492931932211,-0.031523682177067,-0.118821263313293,-0.012852343730628,-0.138570666313171,-0.101611904799938,0.139918804168701,-0.025130426511168,-0.012397455982864,-0.191518396139145,-0.028765220195055,-0.033554632216692,-0.010342148132622,0.050828196108341,-0.042423851788044));
res += mul(Get(s1,dx,-dy), float4x4(-0.104199379682541,-0.070304460823536,0.005646681413054,0.017938552424312,-0.037641759961843,-0.075107336044312,-0.044727563858032,0.104499727487564,-0.054969541728497,0.069714672863483,-0.060140077024698,-0.067323267459869,-0.066480048000813,-0.172087013721466,-0.070169657468796,-0.033123157918453));
res += mul(Get(s1,dx,0), float4x4(-0.020009594038129,-0.017423937097192,0.008917527273297,-0.038675483316183,-0.052485086023808,-0.061367403715849,-0.161676526069641,-0.008217249065638,0.206988617777824,0.003365387208760,0.173706680536270,0.025204015895724,-0.090073816478252,-0.129877969622612,0.024088950827718,0.108079783618450));
res += mul(Get(s1,dx,dy), float4x4(0.009320748969913,0.107748150825500,-0.017351286485791,-0.040459543466568,-0.096997685730457,-0.234071090817451,-0.087435260415077,-0.047897562384605,0.133087947964668,-0.104630298912525,0.022090770304203,0.197021365165710,0.093742825090885,-0.040116559714079,0.215540602803230,0.062513396143913));
res += mul(Get(s2,-dx,-dy), float4x4(0.057612210512161,0.014036418870091,-0.076077714562416,-0.061789952218533,0.097772695124149,-0.092282176017761,-0.030945010483265,0.024446319788694,-0.038139641284943,-0.072578676044941,0.021305145695806,0.016033515334129,-0.013028535991907,0.199699342250824,-0.121493220329285,0.259971410036087));
res += mul(Get(s2,-dx,0), float4x4(0.073407940566540,0.155588448047638,0.006852263119072,-0.060702472925186,-0.017743635922670,0.023345619440079,0.161486715078354,-0.030283253639936,-0.027240689843893,0.140311837196350,0.014089366421103,0.041271492838860,-0.101883284747601,0.107254050672054,-0.099892966449261,-0.035492807626724));
res += mul(Get(s2,-dx,dy), float4x4(-0.021360781043768,0.204398274421692,0.034777034074068,-0.144617214798927,0.058897420763969,-0.041835378855467,-0.073012195527554,-0.205427065491676,0.112022705376148,0.040281929075718,0.051495414227247,-0.076136365532875,0.049954652786255,0.138696223497391,0.077051103115082,-0.078556716442108));
res += mul(Get(s2,0,-dy), float4x4(-0.068185105919838,0.075511008501053,0.036254279315472,0.097464650869370,-0.069029629230499,0.026304038241506,0.018975526094437,-0.101093083620071,0.047334086149931,-0.080171607434750,-0.015766164287925,0.088927268981934,-0.073107853531837,0.038680177181959,0.073842793703079,0.187245175242424));
res += mul(Get(s2,0,0), float4x4(-0.044958092272282,-0.107333257794380,0.074309535324574,-0.000063642175519,0.176693081855774,0.091063834726810,0.026023721322417,0.014370557852089,-0.000056423628848,0.105182603001595,-0.100376114249229,-0.146695300936699,0.071651056408882,-0.036742020398378,0.066527575254440,-0.001011887216009));
res += mul(Get(s2,0,dy), float4x4(-0.053610011935234,-0.016558969393373,-0.018434314057231,-0.020148819312453,0.019105331972241,0.148177459836006,0.006191428750753,0.096028968691826,-0.089315146207809,0.078785769641399,-0.065837472677231,-0.006166895851493,-0.199169009923935,0.096711955964565,0.086160674691200,-0.031182233244181));
res += mul(Get(s2,dx,-dy), float4x4(-0.066547170281410,0.191896781325340,-0.064889922738075,0.015866516157985,0.010713294148445,-0.010995220392942,0.004981837235391,-0.005123903043568,-0.146304920315742,0.049775306135416,0.059528596699238,-0.021839320659637,0.034692201763391,-0.121492296457291,-0.001933434512466,0.009891618974507));
res += mul(Get(s2,dx,0), float4x4(-0.000367496861145,0.001443069777451,-0.006014429964125,-0.104762755334377,-0.034500963985920,0.205915167927742,-0.065735220909119,0.032402530312538,0.149930253624916,0.008957552723587,0.092601470649242,0.138633683323860,0.012508446350694,0.036904092878103,0.013304719701409,-0.080769665539265));
res += mul(Get(s2,dx,dy), float4x4(-0.020720453932881,-0.005525656044483,-0.165213406085968,-0.081749290227890,-0.015165114775300,0.149020239710808,0.002935051452368,-0.001511577167548,-0.017849370837212,-0.090773202478886,-0.054639682173729,-0.029522441327572,0.048607334494591,-0.065184503793716,0.060678221285343,-0.121995925903320));
res += mul(Get(s3,-dx,-dy), float4x4(-0.022326936945319,0.007685888558626,0.068011306226254,-0.052628949284554,-0.061621900647879,0.054906845092773,0.003085910575464,-0.021636053919792,0.018492745235562,-0.067460909485817,0.019384717568755,0.090394400060177,0.045408643782139,0.059284310787916,-0.086391367018223,0.106079988181591));
res += mul(Get(s3,-dx,0), float4x4(-0.212615966796875,0.058486212044954,0.216398045420647,-0.004822664894164,-0.201424673199654,-0.107133015990257,-0.071882359683514,0.138663575053215,-0.011798538267612,0.104521624743938,0.131838634610176,-0.030480019748211,0.024271734058857,-0.016943078488111,-0.017648980021477,0.090051099658012));
res += mul(Get(s3,-dx,dy), float4x4(-0.076570980250835,0.077308878302574,-0.088416896760464,0.045637290924788,0.093306072056293,-0.037490949034691,-0.022319797426462,-0.063983842730522,-0.014531103894114,0.170347318053246,-0.134052500128746,0.027091687545180,0.068413801491261,0.088151775300503,-0.035085197538137,0.029613677412271));
res += mul(Get(s3,0,-dy), float4x4(0.243641003966331,-0.026272568851709,0.008595553226769,0.124168388545513,0.048086427152157,-0.168392553925514,0.008961929008365,-0.022898994386196,-0.084848903119564,-0.066533528268337,-0.060777865350246,0.048470228910446,-0.043005373328924,-0.075490787625313,-0.070756308734417,0.056961823254824));
res += mul(Get(s3,0,0), float4x4(0.068231388926506,-0.024817967787385,0.042957786470652,0.011946526356041,0.060448583215475,-0.134426563978195,-0.182960480451584,-0.031701840460300,0.011670109815896,0.025577699765563,-0.067285373806953,-0.070924364030361,-0.067160844802856,-0.034174919128418,0.111450061202049,-0.167566657066345));
res += mul(Get(s3,0,dy), float4x4(-0.081983692944050,-0.212836533784866,-0.094128593802452,0.049444463104010,0.206920057535172,-0.127351373434067,0.062721036374569,-0.048053942620754,-0.111236572265625,-0.013992026448250,0.134147420525551,-0.028092473745346,0.132063716650009,0.051689743995667,-0.091035142540932,0.109984561800957));
res += mul(Get(s3,dx,-dy), float4x4(0.080080501735210,-0.124489597976208,-0.133532449603081,0.218169659376144,0.008509522303939,-0.162402302026749,-0.173622861504555,0.194931596517563,0.022609859704971,-0.100477553904057,0.114414930343628,0.164962872862816,-0.200000315904617,-0.005309215746820,0.068079836666584,-0.277196228504181));
res += mul(Get(s3,dx,0), float4x4(0.056316167116165,0.178618669509888,0.022762065753341,0.018402285873890,-0.127307340502739,-0.116476394236088,0.019907182082534,-0.011043211445212,0.052527364343405,-0.087299525737762,0.061392679810524,0.011902785860002,-0.110516533255577,0.134549230337143,0.189405903220177,-0.154780358076096));
res += mul(Get(s3,dx,dy), float4x4(-0.219671905040741,0.033041663467884,-0.052818905562162,0.046175900846720,-0.021759642288089,-0.100281469523907,-0.015110917389393,-0.005646370351315,0.057975098490715,-0.160169243812561,-0.135230779647827,0.078314699232578,-0.033639829605818,-0.072957068681717,0.117126189172268,0.008010959252715));
return max(float4(0,0,0,0), res);
}
