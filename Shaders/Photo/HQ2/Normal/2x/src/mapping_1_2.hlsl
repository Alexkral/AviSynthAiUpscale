sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.031017122790217,-0.054840959608555,0.003263501217589,0.026291865855455,-0.073856152594090,0.051989279687405,-0.012669183313847,-0.045492015779018,-0.029131427407265,-0.096496902406216,0.230290979146957,0.005385106429458,0.034163661301136,0.161602795124054,0.019219892099500,-0.096903316676617));
res += mul(Get(s0,-dx,0), float4x4(0.023645302280784,-0.106534466147423,0.030290892347693,-0.126863136887550,-0.016063077375293,0.003350614570081,0.056359216570854,-0.052335862070322,0.160527765750885,0.043840751051903,-0.153101414442062,-0.151766791939735,-0.059211086481810,-0.033036064356565,0.092818379402161,0.046741142868996));
res += mul(Get(s0,-dx,dy), float4x4(0.026630086824298,-0.026275418698788,-0.019169459119439,-0.053693853318691,-0.103708460927010,-0.126939266920090,0.024826388806105,-0.029346682131290,-0.050368029624224,0.129925772547722,0.033389419317245,0.044061992317438,-0.137800708413124,0.034582447260618,0.012431339360774,-0.090980954468250));
res += mul(Get(s0,0,-dy), float4x4(-0.061740297824144,-0.081483818590641,0.068573638796806,0.032212894409895,-0.029322110116482,-0.138865396380424,-0.009262408129871,0.119169302284718,-0.021374093368649,-0.143520116806030,-0.114026904106140,0.006721050478518,0.123394019901752,-0.096541680395603,0.193963199853897,0.087083324790001));
res += mul(Get(s0,0,0), float4x4(0.023418840020895,-0.031363546848297,-0.196726143360138,0.128071486949921,-0.273746162652969,-0.170602753758430,-0.005024694371969,0.025678306818008,-0.133258670568466,-0.042282778769732,0.131937399506569,-0.011807926930487,0.173247262835503,-0.052816588431597,0.232566133141518,0.027674151584506));
res += mul(Get(s0,0,dy), float4x4(-0.045114472508430,-0.047799710184336,-0.001748334267177,0.047656435519457,-0.092951685190201,0.213215753436089,-0.003539010416716,0.031709171831608,-0.040944989770651,-0.012061628513038,0.109707996249199,0.235375747084618,0.010183749720454,-0.098777398467064,0.011758096516132,0.055193353444338));
res += mul(Get(s0,dx,-dy), float4x4(-0.076007664203644,-0.043771699070930,0.130166187882423,-0.052786566317081,-0.120541989803314,0.075961008667946,0.000486274569994,-0.124184213578701,-0.113175511360168,-0.171561703085899,-0.154608666896820,-0.116222754120827,-0.083658963441849,0.033178031444550,-0.161167770624161,-0.023574410006404));
res += mul(Get(s0,dx,0), float4x4(-0.101644337177277,-0.049883615225554,0.051030959933996,-0.035710003226995,-0.085948430001736,0.012519053183496,0.003587552811950,0.165278911590576,0.003073923289776,0.064147353172302,0.166839733719826,0.025267846882343,0.101225048303604,0.110021412372589,-0.030878769233823,0.020638195797801));
res += mul(Get(s0,dx,dy), float4x4(0.087195575237274,0.095657505095005,0.079651877284050,-0.013703825883567,-0.018088046461344,-0.091529667377472,0.069146402180195,-0.077973499894142,0.071584008634090,-0.042582854628563,-0.138165503740311,0.205840304493904,-0.050083246082067,-0.050167351961136,-0.071713030338287,0.124455220997334));
res += mul(Get(s1,-dx,-dy), float4x4(-0.039718866348267,0.036972153931856,-0.064666762948036,-0.191982463002205,0.081187605857849,-0.073185980319977,0.072833634912968,-0.061304830014706,-0.067053772509098,0.044512581080198,0.023178195580840,0.068893328309059,-0.111922852694988,-0.123853974044323,-0.015392019413412,-0.021987769752741));
res += mul(Get(s1,-dx,0), float4x4(0.074912190437317,-0.042594086378813,-0.094777636229992,-0.137697204947472,-0.049026291817427,0.014773570932448,0.068489350378513,-0.023203663527966,-0.131430044770241,0.126620724797249,0.083662562072277,0.084978230297565,0.036321185529232,0.046606279909611,0.182236880064011,0.024705257266760));
res += mul(Get(s1,-dx,dy), float4x4(-0.117074631154537,0.008603088557720,0.006138792727143,0.034103620797396,0.068245030939579,0.106776088476181,-0.029092868790030,-0.079796239733696,0.014399277046323,0.150140568614006,0.028487768024206,0.019092902541161,0.233232229948044,-0.007820916362107,0.058634385466576,0.201093271374702));
res += mul(Get(s1,0,-dy), float4x4(-0.165359765291214,0.101096265017986,0.177846193313599,-0.056318815797567,0.012541077099741,-0.023461423814297,0.042967937886715,0.117533236742020,-0.005451038014144,-0.010198821313679,0.019182166084647,0.026804331690073,0.059779893606901,-0.066162586212158,0.028533190488815,0.063507854938507));
res += mul(Get(s1,0,0), float4x4(0.035541914403439,0.010202581994236,-0.059705626219511,-0.023711722344160,-0.045272234827280,-0.018490368500352,-0.022216651588678,-0.077229477465153,0.100037775933743,-0.029534298926592,0.018487690016627,0.046909734606743,-0.069492094218731,-0.060518641024828,-0.123992554843426,-0.241652294993401));
res += mul(Get(s1,0,dy), float4x4(0.033869840204716,-0.087711557745934,-0.022899756208062,-0.125832512974739,-0.101379320025444,-0.186019018292427,-0.057940404862165,0.137511759996414,0.067654289305210,0.067229494452477,-0.002711959648877,-0.122506551444530,0.069399610161781,0.104728668928146,-0.061851698905230,0.151573926210403));
res += mul(Get(s1,dx,-dy), float4x4(0.008040674962103,-0.072432748973370,0.098055496811867,-0.077920272946358,0.054673809558153,-0.066205248236656,0.061695776879787,-0.023570507764816,0.089016608893871,0.041045296937227,-0.060319468379021,-0.038865797221661,-0.095340661704540,-0.079334713518620,-0.075470723211765,0.177601903676987));
res += mul(Get(s1,dx,0), float4x4(0.041974101215601,-0.014416390098631,0.101958103477955,-0.035582710057497,-0.029861781746149,-0.117953494191170,0.011545979417861,-0.110601484775543,-0.063318952918053,0.062004480510950,0.070442304015160,-0.141785621643066,-0.120737791061401,-0.112078115344048,0.002747312188148,-0.012074472382665));
res += mul(Get(s1,dx,dy), float4x4(0.091463916003704,-0.016183797270060,0.040858332067728,-0.061238262802362,0.003880417905748,-0.032756086438894,0.005246213171631,-0.034942973405123,-0.079147234559059,0.063170053064823,0.119043491780758,-0.037773612886667,0.060409221798182,0.010868232697248,0.142194777727127,-0.018517132848501));
res += mul(Get(s2,-dx,-dy), float4x4(-0.065734863281250,0.169946715235710,0.042627938091755,0.065424591302872,-0.131818532943726,0.033131428062916,0.087136171758175,0.039610538631678,0.072250306606293,0.065196268260479,-0.120878495275974,-0.088080085813999,-0.022689223289490,-0.058708772063255,-0.078818880021572,0.140804812312126));
res += mul(Get(s2,-dx,0), float4x4(0.026626816019416,0.001501536695287,0.077366925776005,0.034639760851860,-0.020254148170352,-0.098132461309433,0.004339366219938,-0.034094903618097,-0.156634271144867,0.146522358059883,-0.128740757703781,0.028381071984768,-0.035250216722488,-0.040477678179741,-0.094507053494453,0.090585134923458));
res += mul(Get(s2,-dx,dy), float4x4(0.118872031569481,0.026003986597061,0.112173199653625,0.056775081902742,-0.043623786419630,0.003357458859682,0.057312071323395,-0.084886863827705,-0.017544602975249,-0.098702818155289,-0.001600693445653,-0.022359909489751,-0.060160916298628,0.074505910277367,-0.002644121646881,0.019788637757301));
res += mul(Get(s2,0,-dy), float4x4(0.033899914473295,-0.079216204583645,-0.208437860012054,-0.008749422617257,0.029344080016017,-0.039102740585804,-0.060787122696638,-0.018005264922976,0.020938184112310,0.196915715932846,-0.054644394665956,0.087101601064205,0.005188242532313,0.036874152719975,-0.137846976518631,0.072520591318607));
res += mul(Get(s2,0,0), float4x4(0.078562423586845,0.140994444489479,-0.013408739119768,-0.001137713086791,0.031665354967117,0.005982331465930,-0.165167644619942,-0.065632186830044,-0.056733705103397,0.124650709331036,0.119353421032429,0.145227730274200,-0.155937701463699,0.074080333113670,0.014713580720127,0.018127247691154));
res += mul(Get(s2,0,dy), float4x4(-0.135711371898651,0.010699972510338,0.027732551097870,0.005355083383620,0.032710622996092,-0.024394350126386,0.083957619965076,0.137049302458763,0.039926636964083,0.014154608361423,-0.101646259427071,-0.039666544646025,-0.033663045614958,0.041984099894762,0.070615746080875,-0.038863342255354));
res += mul(Get(s2,dx,-dy), float4x4(0.055907204747200,0.044849526137114,0.061014059931040,-0.062900558114052,-0.030854625627398,-0.019035756587982,0.107009030878544,0.074369981884956,-0.006146824453026,-0.026194099336863,-0.139130532741547,0.058816216886044,-0.045935165137053,-0.033842291682959,0.023552751168609,0.038160420954227));
res += mul(Get(s2,dx,0), float4x4(0.180811956524849,-0.080581560730934,-0.110163740813732,0.120775245130062,-0.050487834960222,-0.093393214046955,0.173468276858330,0.071695819497108,-0.079353123903275,-0.059393700212240,-0.003614767687395,0.111991934478283,-0.076797306537628,-0.044299766421318,-0.149110704660416,0.007090222090483));
res += mul(Get(s2,dx,dy), float4x4(0.045693967491388,0.072054676711559,-0.085532635450363,-0.000612332427409,-0.050088092684746,-0.032184522598982,-0.139338269829750,-0.098805636167526,0.013634070754051,0.070573896169662,0.105364993214607,0.043618973344564,0.055116292089224,0.067322961986065,-0.044330660253763,-0.033971682190895));
res += mul(Get(s3,-dx,-dy), float4x4(-0.062067732214928,-0.056514225900173,-0.024440713226795,0.145242765545845,0.093890056014061,0.159896090626717,0.090006783604622,0.050718411803246,0.052968367934227,-0.035745091736317,0.040658716112375,0.052802942693233,-0.186236932873726,-0.096888199448586,0.038602575659752,0.016051042824984));
res += mul(Get(s3,-dx,0), float4x4(0.043598324060440,0.100313343107700,0.147565782070160,0.025859851390123,-0.083633646368980,0.049129236489534,0.071650631725788,-0.116922564804554,-0.025273298844695,-0.089150018990040,0.079272702336311,0.182451367378235,-0.048339031636715,0.056958496570587,-0.010088184848428,-0.052004598081112));
res += mul(Get(s3,-dx,dy), float4x4(0.081862643361092,0.066805072128773,0.085548326373100,0.222670197486877,-0.154571011662483,-0.058049555867910,-0.029243396595120,-0.019511226564646,-0.016749549657106,0.054958622902632,-0.074451297521591,0.016826285049319,0.018102509900928,-0.056389063596725,-0.002537412801757,0.132587939500809));
res += mul(Get(s3,0,-dy), float4x4(-0.013255186378956,0.024451809003949,-0.010741948150098,-0.036783713847399,0.114670395851135,0.209268867969513,0.090788535773754,0.017276465892792,0.034293249249458,-0.026998830959201,0.013061976991594,-0.044657006859779,0.079044513404369,-0.033446904271841,0.036758940666914,-0.024218380451202));
res += mul(Get(s3,0,0), float4x4(0.021574692800641,0.000276324281003,0.100366227328777,0.051597531884909,-0.008169497363269,0.038081839680672,-0.049404926598072,0.140946328639984,-0.120223730802536,0.149107545614243,0.150441274046898,-0.019076718017459,0.007625400554389,-0.056825127452612,0.113853603601456,-0.039992623031139));
res += mul(Get(s3,0,dy), float4x4(0.053567629307508,0.030793461948633,-0.073508821427822,0.124406732618809,0.035891860723495,0.019953524693847,0.063085831701756,0.146918490529060,-0.061690356582403,0.127483144402504,0.015474423766136,0.065653719007969,-0.095047317445278,0.048480626195669,0.043336238712072,0.192268714308739));
res += mul(Get(s3,dx,-dy), float4x4(-0.006834276486188,0.298322886228561,-0.031910687685013,0.223230361938477,-0.030723912641406,-0.065722495317459,0.023765044286847,-0.013744235970080,0.096969552338123,0.013827316462994,-0.032003402709961,0.107759252190590,0.025873983278871,-0.065753765404224,0.150299638509750,0.077837415039539));
res += mul(Get(s3,dx,0), float4x4(0.045709148049355,-0.009801122359931,0.113433107733727,0.027231415733695,-0.086260922253132,-0.089988268911839,0.095087021589279,0.085279114544392,0.050272863358259,-0.023925872519612,0.034204751253128,0.198835521936417,-0.099079757928848,-0.089891038835049,-0.173045948147774,0.053005266934633));
res += mul(Get(s3,dx,dy), float4x4(-0.106627263128757,-0.131819620728493,0.141786932945251,-0.082298368215561,-0.259693086147308,-0.149371281266212,-0.027086226269603,-0.001903494819999,-0.108298785984516,0.097391098737717,-0.035472083836794,-0.001409660908394,-0.081212356686592,0.046821489930153,-0.052018944174051,-0.089840151369572));
return max(float4(0,0,0,0), res);
}
