sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.066408760845661,-0.042394202202559,0.010366273112595,-0.043303400278091,0.028241552412510,0.096298865973949,-0.080379642546177,-0.026468226686120,-0.013338994234800,-0.082955025136471,0.155694648623466,0.067988038063049,0.030358616262674,0.043222714215517,0.066329829394817,0.050757970660925));
res += mul(Get(s0,-dx,0), float4x4(-0.019251437857747,0.173348113894463,-0.002638363512233,0.017126485705376,0.175886586308479,0.054567985236645,0.035791285336018,-0.033959016203880,-0.061953715980053,0.040566291660070,0.044372696429491,0.001926628756337,0.112666539847851,0.041620898991823,0.043296825140715,-0.015070041641593));
res += mul(Get(s0,-dx,dy), float4x4(0.028198057785630,-0.110495790839195,0.026332557201385,0.033505551517010,-0.020435268059373,-0.066884003579617,-0.133906096220016,0.078130312263966,-0.134340107440948,0.070670068264008,-0.073005475103855,-0.031702432781458,0.077934265136719,0.055776413530111,-0.025365294888616,-0.000460881943582));
res += mul(Get(s0,0,-dy), float4x4(0.022463442757726,0.001922805677168,0.046024598181248,-0.027446610853076,0.044662330299616,-0.103143155574799,0.099845081567764,0.027891175821424,0.022109782323241,0.119302019476891,0.070930816233158,0.011494001373649,-0.063295342028141,-0.040188409388065,0.109171867370605,-0.153076529502869));
res += mul(Get(s0,0,0), float4x4(0.151422291994095,-0.045209899544716,-0.013892021961510,0.139692679047585,0.156095460057259,-0.042724289000034,-0.054057940840721,-0.026473594829440,0.017543293535709,0.036193955689669,0.022594917565584,-0.133807703852654,-0.160798996686935,0.096803285181522,-0.030490463599563,0.012068812735379));
res += mul(Get(s0,0,dy), float4x4(-0.075348943471909,0.012473985552788,-0.010973264463246,0.043998051434755,-0.009356955066323,0.045140042901039,-0.067700490355492,-0.038165550678968,0.052681569010019,0.031566884368658,-0.035486325621605,0.143549397587776,-0.071368403732777,0.081939786672592,0.055878017097712,0.016566120088100));
res += mul(Get(s0,dx,-dy), float4x4(-0.095247589051723,-0.157340556383133,-0.008335919119418,0.022238824516535,0.072257764637470,-0.097389221191406,0.018775507807732,0.100328460335732,0.079288862645626,-0.082967668771744,-0.033324494957924,0.076433539390564,0.067072302103043,-0.026016481220722,-0.090365417301655,0.031872026622295));
res += mul(Get(s0,dx,0), float4x4(-0.129552736878395,0.081711493432522,-0.255803823471069,0.128649920225143,-0.096924446523190,-0.025143116712570,0.199358955025673,0.104966454207897,-0.077659979462624,-0.168538734316826,-0.171046018600464,-0.157431259751320,-0.003588890889660,-0.052169695496559,-0.025543199852109,-0.124636329710484));
res += mul(Get(s0,dx,dy), float4x4(0.224029406905174,0.005212865769863,0.055533524602652,-0.071241214871407,-0.017078189179301,-0.184664338827133,-0.105647385120392,0.033789575099945,0.022380165755749,0.085229426622391,-0.009137192741036,-0.112256206572056,-0.015514710918069,-0.003560006618500,0.031714275479317,0.084740005433559));
res += mul(Get(s1,-dx,-dy), float4x4(-0.085991486907005,0.098745249211788,0.031355485320091,-0.027150556445122,-0.101057916879654,0.017440369352698,0.023827083408833,-0.071742579340935,-0.027283513918519,-0.036966733634472,0.078895151615143,-0.096722245216370,-0.023120639845729,0.057545747607946,-0.047912683337927,0.022211099043489));
res += mul(Get(s1,-dx,0), float4x4(0.034032370895147,0.154425516724586,-0.014844516292214,0.086626544594765,0.000865782552864,0.019881941378117,0.097579985857010,0.043153535574675,-0.071704171597958,0.057082202285528,-0.042201377451420,-0.136406809091568,-0.068742029368877,0.080571942031384,-0.032452821731567,-0.024167319759727));
res += mul(Get(s1,-dx,dy), float4x4(0.065897218883038,0.107935391366482,0.078044392168522,0.124241359531879,0.011716438457370,0.108462475240231,0.024799080565572,0.229299724102020,-0.061802417039871,0.000141066018841,-0.023821305483580,-0.037472493946552,0.062658242881298,0.067546404898167,0.012232487089932,0.112834803760052));
res += mul(Get(s1,0,-dy), float4x4(0.120969921350479,-0.147105291485786,0.087466992437840,0.138620346784592,-0.136229842901230,0.048956058919430,-0.073383711278439,0.057496421039104,0.036315999925137,-0.059951003640890,-0.044957373291254,0.030357014387846,-0.023930165916681,-0.086109362542629,0.016128761693835,0.009195132181048));
res += mul(Get(s1,0,0), float4x4(0.204330191016197,0.019622169435024,0.177251979708672,0.065016351640224,0.074938952922821,0.106351636350155,-0.005266935564578,0.123476952314377,0.175521358847618,0.064431905746460,-0.147212475538254,0.200225457549095,-0.273660510778427,-0.008451699279249,-0.025491157546639,0.104050338268280));
res += mul(Get(s1,0,dy), float4x4(0.088409639894962,-0.301516920328140,-0.003236067947000,0.100710541009903,0.030429204925895,-0.011014629155397,-0.086849585175514,0.060968324542046,0.062058217823505,-0.048168070614338,0.056287664920092,-0.060186650604010,0.166119039058685,0.036180503666401,-0.019458962604403,0.031708858907223));
res += mul(Get(s1,dx,-dy), float4x4(0.052750434726477,-0.127164170145988,-0.004423077683896,-0.103733010590076,0.113090053200722,-0.045503783971071,-0.000831102253869,-0.104346923530102,0.059036567807198,0.077166438102722,-0.086339451372623,0.000802650116384,-0.025186950340867,-0.097249798476696,-0.031248860061169,0.065141297876835));
res += mul(Get(s1,dx,0), float4x4(-0.050204660743475,-0.072539098560810,0.098351657390594,0.076664067804813,0.061264183372259,-0.069781236350536,0.145849451422691,-0.182768419384956,0.026254603639245,0.117248296737671,-0.111176013946533,0.195976942777634,0.034469261765480,-0.018663750961423,-0.015421127900481,-0.145242542028427));
res += mul(Get(s1,dx,dy), float4x4(-0.019422011449933,-0.007656177505851,-0.019686033949256,0.095571763813496,0.035024117678404,0.092028476297855,-0.035452242940664,0.055612701922655,0.025183236226439,0.146612629294395,0.008454821072519,-0.098468862473965,-0.039440240710974,-0.120695933699608,-0.073105581104755,-0.063113525509834));
res += mul(Get(s2,-dx,-dy), float4x4(0.013680266216397,-0.022550040856004,-0.110427193343639,-0.114096604287624,0.260925054550171,0.009872776456177,-0.020280137658119,-0.064489260315895,0.117042407393456,0.036165799945593,-0.127072796225548,-0.034592486917973,-0.029446654021740,0.040829494595528,0.013420999981463,-0.034332677721977));
res += mul(Get(s2,-dx,0), float4x4(-0.023141408339143,0.019542314112186,-0.095402643084526,-0.134308233857155,-0.058115333318710,0.081324517726898,0.061651535332203,-0.029331754893064,0.117117300629616,-0.017887463793159,0.015829505398870,0.048465158790350,-0.002863542176783,-0.004165104124695,-0.092718049883842,0.070136293768883));
res += mul(Get(s2,-dx,dy), float4x4(-0.006106483750045,0.027152178809047,0.043440122157335,0.080151505768299,-0.074892036616802,-0.005667898803949,0.128918156027794,0.070152513682842,-0.120347730815411,-0.011008067056537,0.029088634997606,-0.073376730084419,-0.031059863045812,-0.047606248408556,-0.006500826217234,-0.080727979540825));
res += mul(Get(s2,0,-dy), float4x4(-0.034957893192768,0.056955449283123,0.004638881888241,0.090136595070362,-0.089770965278149,-0.061802819371223,0.005172254052013,0.009980917908251,-0.040030986070633,0.013696979731321,0.126112759113312,-0.051948867738247,-0.017647722736001,-0.063861325383186,-0.027273355051875,0.072251364588737));
res += mul(Get(s2,0,0), float4x4(-0.096711285412312,0.083937756717205,0.076884739100933,-0.014393903315067,-0.074933998286724,-0.041269607841969,-0.038253642618656,0.093655578792095,-0.047551214694977,-0.149982124567032,0.067256495356560,-0.143115118145943,0.017448104918003,-0.116552785038948,-0.032972969114780,0.080021463334560));
res += mul(Get(s2,0,dy), float4x4(-0.043575279414654,-0.016917722299695,0.094413354992867,-0.082347795367241,-0.008976520970464,-0.054106146097183,0.015445059165359,-0.069465920329094,-0.051132671535015,-0.074865609407425,0.138541683554649,-0.066597513854504,-0.057359736412764,-0.066194482147694,-0.029809143394232,0.058435514569283));
res += mul(Get(s2,dx,-dy), float4x4(0.022935643792152,0.081771925091743,-0.066905297338963,0.087766222655773,0.030901061370969,-0.091847226023674,-0.070579223334789,0.134702473878860,-0.086661137640476,-0.082976423203945,-0.017781114205718,-0.068970188498497,0.116976045072079,-0.052014447748661,-0.021813131868839,0.029877034947276));
res += mul(Get(s2,dx,0), float4x4(-0.017454009503126,0.089528158307076,-0.092968039214611,0.153910934925079,0.015238426625729,0.107066646218300,0.005498389247805,-0.024666227400303,-0.134860843420029,0.034479949623346,-0.006736490875483,-0.105817660689354,0.054654661566019,-0.007817978039384,0.000049995163863,-0.153640970587730));
res += mul(Get(s2,dx,dy), float4x4(0.136746421456337,-0.011407257057726,-0.156976729631424,0.062581345438957,-0.112164117395878,-0.177571088075638,-0.010633236728609,-0.048956990242004,-0.019063953310251,-0.041948821395636,0.016911767423153,0.162683442234993,-0.232832252979279,0.035779181867838,0.114626526832581,-0.013283042237163));
res += mul(Get(s3,-dx,-dy), float4x4(-0.057431329041719,0.024744164198637,-0.029220869764686,0.075473070144653,0.124964073300362,-0.037028890103102,-0.096274264156818,0.051603183150291,-0.015329270623624,0.014127945527434,0.059864733368158,-0.117446891963482,-0.071661353111267,-0.143543019890785,0.013907701708376,-0.158182293176651));
res += mul(Get(s3,-dx,0), float4x4(0.068399749696255,0.089716777205467,-0.000608860864304,-0.139431968331337,-0.188937515020370,-0.013023658655584,0.075067326426506,-0.119805037975311,0.064167737960815,0.001212113420479,-0.076047532260418,0.002892436459661,-0.078532673418522,-0.019855068996549,0.120395265519619,0.161348670721054));
res += mul(Get(s3,-dx,dy), float4x4(0.080529853701591,0.002454731613398,-0.118584007024765,-0.042785685509443,-0.066024519503117,-0.075083345174789,-0.076245725154877,-0.123374275863171,0.039664655923843,0.010132684372365,-0.103587500751019,0.037236709147692,-0.094708755612373,0.100626476109028,0.113663703203201,-0.024354835972190));
res += mul(Get(s3,0,-dy), float4x4(-0.106974989175797,0.088315494358540,0.021018352359533,0.139713630080223,0.027127733454108,-0.015129852108657,0.012166105210781,0.034431483596563,0.002829103963450,-0.175373807549477,-0.018683660775423,-0.081349737942219,0.062910020351410,-0.132760554552078,-0.099255591630936,-0.075907111167908));
res += mul(Get(s3,0,0), float4x4(0.209444209933281,-0.007212544791400,0.043594870716333,0.018688309937716,0.062744177877903,0.017110617831349,0.016556289047003,-0.030687153339386,0.068273052573204,0.110337644815445,-0.056690953671932,0.099244751036167,-0.098545625805855,-0.148377567529678,0.077432610094547,0.025063995271921));
res += mul(Get(s3,0,dy), float4x4(0.006624017842114,-0.029639577493072,-0.006727412808686,0.115880638360977,-0.138009607791901,0.135954469442368,0.068110495805740,-0.156147494912148,-0.046751108020544,0.050751924514771,0.063654229044914,-0.034231487661600,0.001102830399759,-0.001555553055368,0.038926821202040,-0.046918760985136));
res += mul(Get(s3,dx,-dy), float4x4(-0.123510226607323,0.069513447582722,0.032926529645920,-0.022935459390283,0.113857962191105,-0.036900851875544,0.065475642681122,-0.047526568174362,0.131814986467361,-0.033790998160839,0.084903217852116,-0.172928020358086,-0.013384769670665,-0.115101367235184,-0.011238817125559,0.076468117535114));
res += mul(Get(s3,dx,0), float4x4(-0.008810246363282,0.034171815961599,-0.012060793116689,0.091805242002010,-0.118078112602234,-0.035415779799223,-0.110822111368179,-0.032296709716320,-0.001530200242996,-0.052306652069092,-0.002378363627940,-0.012462604790926,-0.068139396607876,-0.023668095469475,0.076060235500336,0.118599705398083));
res += mul(Get(s3,dx,dy), float4x4(-0.069789536297321,0.008460753597319,-0.004760755691677,0.022076386958361,-0.073754854500294,0.019176632165909,0.115687683224678,-0.073995597660542,-0.161834254860878,-0.052704267203808,0.064906790852547,0.061314322054386,0.011565704829991,-0.062910906970501,-0.022597240284085,0.032762914896011));
return max(float4(0,0,0,0), res);
}
