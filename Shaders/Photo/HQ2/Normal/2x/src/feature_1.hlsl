sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.013450017198920,0.146014377474785,0.021305743604898,-0.027135748416185) * Get(-dx,-dy);
res += float4(0.159018322825432,-0.221048325300217,0.036860689520836,0.025665543973446) * Get(-dx,0);
res += float4(-0.243493869900703,0.216755434870720,-0.100103594362736,-0.069573871791363) * Get(-dx,dy);
res += float4(0.020355047658086,0.034267045557499,-0.272605776786804,0.077391646802425) * Get(0,-dy);
res += float4(0.053693909198046,0.017355982214212,0.111763723194599,-0.101084448397160) * Get(0,0);
res += float4(-0.190799877047539,0.133494108915329,0.127174019813538,-0.094288021326065) * Get(0,dy);
res += float4(-0.100908346474171,-0.109462179243565,-0.033001214265823,-0.071369677782059) * Get(dx,-dy);
res += float4(0.070782370865345,-0.124675370752811,0.260663181543350,-0.259343087673187) * Get(dx,0);
res += float4(0.362990409135818,0.078000076115131,0.033573437482119,0.126197800040245) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
