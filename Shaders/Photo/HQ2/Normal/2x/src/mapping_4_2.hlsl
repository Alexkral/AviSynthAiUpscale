sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.101248711347580,0.021426703780890,0.043290950357914,0.175115823745728,-0.045475695282221,-0.062085408717394,-0.084362700581551,-0.002878369996324,-0.098343461751938,0.053857281804085,0.007453882135451,-0.118797197937965,0.054738316684961,-0.121569834649563,0.056977212429047,0.098121516406536));
res += mul(Get(s0,-dx,0), float4x4(-0.110557183623314,0.119952730834484,-0.160769030451775,0.021568076685071,-0.049054887145758,0.065009243786335,0.099713779985905,-0.115982338786125,0.059414260089397,-0.049708936363459,0.038422968238592,0.019111512228847,0.015526412054896,0.098654277622700,0.010552444495261,-0.074028573930264));
res += mul(Get(s0,-dx,dy), float4x4(-0.212154313921928,0.133032858371735,-0.006655772216618,-0.103423729538918,0.063391499221325,0.042175486683846,0.025675414130092,-0.109371453523636,-0.062990471720695,-0.133253887295723,-0.071766614913940,0.032465461641550,-0.000358306162525,0.045194771140814,-0.217348322272301,-0.057447578758001));
res += mul(Get(s0,0,-dy), float4x4(0.136292785406113,0.140339225530624,0.117423661053181,0.162759810686111,-0.112521529197693,-0.102425344288349,0.132005244493484,-0.148033306002617,0.124277904629707,-0.111459203064442,-0.002236071042717,0.037624776363373,0.034682031720877,0.168817028403282,0.184545844793320,-0.049020819365978));
res += mul(Get(s0,0,0), float4x4(0.205462217330933,-0.211016342043877,-0.123223453760147,-0.100929401814938,0.025243496522307,0.025844153016806,0.077432945370674,0.059118364006281,0.009839888662100,0.078230708837509,0.141431212425232,-0.052937068045139,-0.002562742680311,0.016425829380751,0.095490455627441,0.077865704894066));
res += mul(Get(s0,0,dy), float4x4(-0.061936322599649,0.062397412955761,-0.002657375996932,-0.063107885420322,0.008424867875874,-0.138448417186737,0.072819411754608,-0.077188409864902,0.092272050678730,0.003614302026108,-0.043611668050289,-0.031104572117329,0.099645130336285,-0.156181737780571,0.079154036939144,-0.038186959922314));
res += mul(Get(s0,dx,-dy), float4x4(0.175326868891716,-0.019614404067397,-0.070146992802620,0.058108408004045,0.001693075289950,0.149001091718674,0.003536588978022,-0.154024466872215,0.163929849863052,0.101924449205399,0.001969995442778,-0.039232477545738,0.001138294930570,0.181115403771400,0.050219114869833,0.052765052765608));
res += mul(Get(s0,dx,0), float4x4(0.017441837117076,-0.123039260506630,0.054200593382120,0.004493719432503,0.053503748029470,-0.042738702148199,-0.120161220431328,0.034986075013876,-0.016930153593421,-0.031276874244213,0.011775625869632,0.013131638988853,0.120428860187531,0.068924777209759,-0.044468920677900,-0.077772147953510));
res += mul(Get(s0,dx,dy), float4x4(-0.001517604221590,-0.023865800350904,-0.113915190100670,0.003212445415556,-0.056739617139101,0.086057901382446,-0.011495673097670,-0.022711785510182,-0.028582284227014,-0.225156143307686,-0.077165156602859,0.042259842157364,-0.000927011889871,-0.106803447008133,-0.126436963677406,-0.074816547334194));
res += mul(Get(s1,-dx,-dy), float4x4(0.115936234593391,0.017574395984411,-0.037869833409786,0.151483863592148,-0.041283916682005,0.190564543008804,0.195019736886024,-0.055358499288559,-0.115263596177101,0.070817664265633,0.081743575632572,0.003241585334763,0.002616221550852,0.048847503960133,-0.071503885090351,-0.073943570256233));
res += mul(Get(s1,-dx,0), float4x4(0.021918646991253,-0.007005923427641,0.051090907305479,0.068769790232182,-0.049670599400997,0.040106590837240,-0.102695420384407,0.112845219671726,-0.026413125917315,0.171893820166588,-0.048906311392784,-0.068398602306843,-0.041279632598162,-0.131145343184471,0.071579717099667,-0.070811770856380));
res += mul(Get(s1,-dx,dy), float4x4(-0.261331737041473,-0.054342214018106,0.155764445662498,0.046804767102003,0.045486960560083,0.070873886346817,-0.074545666575432,0.026568807661533,-0.100987233221531,0.069676361978054,0.098841600120068,-0.046672031283379,-0.155115962028503,-0.099243253469467,-0.021713657304645,-0.056813593953848));
res += mul(Get(s1,0,-dy), float4x4(-0.022317616268992,-0.148950576782227,-0.080373838543892,-0.000762735784519,0.074404649436474,-0.053635735064745,-0.030986923724413,0.087259627878666,0.005916751455516,-0.026078874245286,-0.017404269427061,-0.065592817962170,0.225154519081116,-0.083384320139885,0.122431047260761,-0.077582679688931));
res += mul(Get(s1,0,0), float4x4(0.109573625028133,-0.081078700721264,0.171269178390503,-0.055143531411886,0.040868107229471,-0.161894783377647,-0.005520351696759,-0.057199370115995,-0.188825771212578,0.035229995846748,-0.023208407685161,0.040061574429274,0.029092041775584,0.089825242757797,-0.044024601578712,-0.059654537588358));
res += mul(Get(s1,0,dy), float4x4(-0.023684028536081,0.023592205718160,-0.085759378969669,0.097076103091240,0.058398816734552,-0.104403093457222,0.010381356813014,0.035174876451492,-0.030198952183127,0.084682032465935,0.051262907683849,-0.087892323732376,0.090371303260326,-0.001983887050301,0.052760012447834,-0.054149959236383));
res += mul(Get(s1,dx,-dy), float4x4(-0.043599560856819,-0.035445038229227,0.067391380667686,0.094020597636700,0.079592466354370,0.086305573582649,-0.000892989453860,-0.063608601689339,0.087368503212929,0.007651614490896,-0.098665423691273,0.049601186066866,0.048677422106266,0.160313144326210,0.041513025760651,-0.127939239144325));
res += mul(Get(s1,dx,0), float4x4(0.059798073023558,-0.068713240325451,-0.001377356122248,-0.150212049484253,0.114702031016350,0.018784752115607,0.181912928819656,-0.161130368709564,0.033180415630341,0.129237934947014,-0.198796376585960,-0.029706459492445,-0.028609704226255,-0.010332072153687,0.033450029790401,-0.146849527955055));
res += mul(Get(s1,dx,dy), float4x4(0.132006615400314,-0.000746924139094,-0.160669803619385,-0.097576774656773,0.062121719121933,-0.003739638486877,0.097642570734024,0.023851944133639,0.114451073110104,0.109645038843155,-0.035030204802752,-0.020300317555666,-0.025567453354597,-0.000987350125797,-0.081013321876526,-0.263170391321182));
res += mul(Get(s2,-dx,-dy), float4x4(-0.197661742568016,-0.004506889730692,0.007866567000747,0.045472063124180,-0.012662588618696,0.123916760087013,-0.025432258844376,-0.042019013315439,0.078697286546230,0.010381245054305,-0.184876963496208,-0.019277432933450,0.016816468909383,-0.007626597303897,0.070244163274765,0.116650372743607));
res += mul(Get(s2,-dx,0), float4x4(-0.074166186153889,0.133630111813545,-0.011649407446384,-0.082089424133301,0.032733812928200,0.077760644257069,0.107136175036430,-0.086253263056278,-0.034331507980824,-0.010465155355632,0.030412154272199,-0.023464977741241,0.025937089696527,0.019740656018257,-0.087581507861614,-0.152090415358543));
res += mul(Get(s2,-dx,dy), float4x4(-0.027077164500952,0.099752023816109,-0.046644348651171,0.018197769299150,0.056049957871437,-0.072701953351498,-0.037871047854424,-0.146195247769356,0.032991908490658,-0.035098545253277,0.188828051090240,0.052565880119801,-0.033726036548615,0.093358919024467,0.010542129166424,0.025482904165983));
res += mul(Get(s2,0,-dy), float4x4(-0.039574254304171,0.028442122042179,-0.026186525821686,-0.033787880092859,-0.014891028404236,0.103970922529697,0.124341830611229,-0.124688372015953,0.056152295321226,0.101878732442856,-0.008792623877525,-0.027102172374725,-0.003337593749166,-0.007069738116115,-0.027941180393100,0.127742201089859));
res += mul(Get(s2,0,0), float4x4(0.074401602149010,-0.040611464530230,-0.044129312038422,0.069792889058590,0.125535875558853,0.066308327019215,-0.117380224168301,0.140368491411209,0.279567629098892,0.119235418736935,0.048203106969595,0.019599443301558,-0.011854832060635,0.052936241030693,-0.068975083529949,-0.000926143547986));
res += mul(Get(s2,0,dy), float4x4(0.040770038962364,-0.028705298900604,-0.029120499268174,0.031702443957329,0.056958109140396,-0.085574835538864,0.163900583982468,-0.110652282834053,-0.060458052903414,0.044244125485420,0.058116585016251,0.118354588747025,-0.023645494133234,-0.002232866827399,0.007098041009158,0.015566082671285));
res += mul(Get(s2,dx,-dy), float4x4(-0.042417094111443,-0.029466532170773,-0.072701215744019,0.123848885297775,0.035873033106327,-0.018451340496540,0.005004927981645,0.031958539038897,-0.021010840311646,0.011005138978362,-0.031822044402361,0.051907233893871,-0.076358757913113,0.019508512690663,-0.126150235533714,0.079394876956940));
res += mul(Get(s2,dx,0), float4x4(-0.100454263389111,0.058324892073870,-0.103081271052361,0.019664349034429,-0.064079418778419,-0.028167583048344,-0.190447196364403,-0.001232937909663,-0.039306610822678,0.123295992612839,0.068982750177383,-0.050210662186146,-0.064322948455811,-0.164003342390060,-0.139431402087212,0.192381411790848));
res += mul(Get(s2,dx,dy), float4x4(0.065818734467030,0.086606584489346,-0.054856151342392,0.045072507113218,-0.039343535900116,0.003946051001549,0.047955270856619,0.056946408003569,-0.128959774971008,-0.029789919033647,-0.031499736011028,-0.023274656385183,-0.076756022870541,0.121331065893173,-0.123111486434937,0.079246088862419));
res += mul(Get(s3,-dx,-dy), float4x4(0.048162482678890,0.084996178746223,-0.091379389166832,-0.055889908224344,0.017651654779911,0.044463019818068,0.117030605673790,0.041051659733057,0.089609436690807,-0.077495872974396,-0.077879533171654,-0.053552784025669,-0.050237961113453,-0.069321855902672,-0.218963876366615,-0.093772746622562));
res += mul(Get(s3,-dx,0), float4x4(-0.004734660498798,-0.065048977732658,0.066508695483208,-0.005689508281648,0.006768743507564,-0.142798393964767,-0.059979781508446,0.010424692183733,0.158209890127182,0.090181648731232,0.049425020813942,-0.046357937157154,0.009778388775885,-0.058232951909304,-0.144169092178345,0.065430641174316));
res += mul(Get(s3,-dx,dy), float4x4(0.013296329416335,-0.178453907370567,-0.011676516383886,-0.059804379940033,0.013916975818574,0.061400569975376,0.129314959049225,0.085065893828869,0.017566435039043,0.007284458726645,-0.073264896869659,-0.049097716808319,0.092843122780323,0.046965956687927,0.074610054492950,0.022100213915110));
res += mul(Get(s3,0,-dy), float4x4(-0.069556124508381,0.120369955897331,0.099322423338890,-0.010025423020124,0.015009516850114,-0.013450178317726,0.025106156244874,0.015026008710265,0.000640195677988,0.070690818130970,0.036945611238480,-0.201990559697151,0.048018041998148,0.028376942500472,0.135793700814247,0.010862228460610));
res += mul(Get(s3,0,0), float4x4(-0.161944329738617,0.038415562361479,0.093235246837139,-0.212603837251663,0.171960666775703,-0.004918005783111,0.042668838053942,-0.085328757762909,-0.123568594455719,0.111775919795036,0.084331437945366,-0.122430562973022,-0.005624594166875,0.049129102379084,-0.054483558982611,0.063761249184608));
res += mul(Get(s3,0,dy), float4x4(0.011443505994976,0.068379633128643,-0.051751110702753,-0.087456494569778,-0.089333228766918,0.010187845677137,-0.061667088419199,-0.076828509569168,0.059239547699690,-0.078937850892544,-0.176203265786171,-0.036759596318007,-0.068621732294559,0.062110725790262,-0.040669120848179,0.070979364216328));
res += mul(Get(s3,dx,-dy), float4x4(0.086076818406582,0.080683402717113,-0.134310364723206,0.036217372864485,0.021761441603303,0.022108104079962,-0.089336678385735,-0.105771541595459,0.065385386347771,-0.065710261464119,-0.072227291762829,0.006571296136826,0.005270199850202,0.089993968605995,0.015064280480146,-0.053444162011147));
res += mul(Get(s3,dx,0), float4x4(0.185291618108749,0.059591270983219,-0.006266840733588,0.035078853368759,0.031172199174762,-0.046666450798512,-0.021129958331585,0.015162919647992,-0.090409792959690,0.021548427641392,-0.035182762891054,-0.087472110986710,0.046366028487682,-0.144227072596550,0.066955596208572,-0.146428406238556));
res += mul(Get(s3,dx,dy), float4x4(-0.111430257558823,0.046430286020041,-0.043438173830509,-0.113312713801861,-0.160358250141144,-0.039869114756584,-0.001543114543892,0.069240398705006,-0.078505948185921,0.023716261610389,-0.201049193739891,-0.103507041931152,-0.058804240077734,0.014284625649452,0.072612769901752,-0.123667396605015));
return max(float4(0,0,0,0), res);
}
