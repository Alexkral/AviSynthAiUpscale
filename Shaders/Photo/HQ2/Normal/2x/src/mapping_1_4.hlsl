sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.051925972104073,0.144660785794258,-0.112770602107048,-0.043776895850897,-0.074371635913849,-0.115932188928127,-0.066088743507862,0.045993711799383,0.054591860622168,-0.051385741680861,-0.052180673927069,-0.031610559672117,-0.056188132613897,0.162942662835121,0.016995422542095,-0.067740783095360));
res += mul(Get(s0,-dx,0), float4x4(0.112854927778244,0.280062854290009,0.039769265800714,0.048434481024742,-0.016300948336720,-0.046314727514982,-0.090770706534386,0.050916295498610,-0.052448421716690,0.185719639062881,-0.050458025187254,-0.003966625779867,0.122774161398411,0.056599974632263,-0.085081599652767,-0.156598374247551));
res += mul(Get(s0,-dx,dy), float4x4(-0.011138944886625,-0.063996538519859,0.074722841382027,-0.106707282364368,-0.030447663739324,-0.023601418361068,0.070221044123173,0.070570148527622,0.049510546028614,0.143999934196472,-0.034708075225353,0.171961426734924,0.116613917052746,-0.009284692816436,-0.051822882145643,0.004497201647609));
res += mul(Get(s0,0,-dy), float4x4(-0.114821352064610,0.010996286757290,0.125243097543716,-0.066723972558975,-0.023072656244040,-0.021516256034374,0.028614260256290,-0.036037508398294,0.046736650168896,-0.009974683634937,-0.110409408807755,-0.012532936409116,0.008039542473853,0.031318254768848,-0.055675052106380,-0.036874920129776));
res += mul(Get(s0,0,0), float4x4(0.087479516863823,-0.108447164297104,-0.063076108694077,0.007372584659606,0.016928328201175,0.173703491687775,-0.003297520568594,-0.032054889947176,0.097194045782089,0.011001395061612,0.025073999539018,0.013356470502913,-0.036121007055044,0.092677928507328,-0.070417538285255,0.023650849238038));
res += mul(Get(s0,0,dy), float4x4(-0.139624595642090,-0.028723347932100,-0.153279483318329,0.076089031994343,-0.094713583588600,0.151780501008034,-0.010352652519941,-0.036590065807104,0.090231314301491,-0.131483301520348,0.093782253563404,-0.101621150970459,0.043158434331417,-0.033603440970182,0.031960833817720,0.007144147995859));
res += mul(Get(s0,dx,-dy), float4x4(-0.154585763812065,-0.021618172526360,0.103551127016544,-0.162141919136047,-0.098249405622482,-0.061250612139702,-0.094615302979946,-0.074490636587143,-0.056199923157692,0.030572678893805,0.169282630085945,-0.064540334045887,-0.055463001132011,-0.007233680225909,-0.094258971512318,0.061606556177139));
res += mul(Get(s0,dx,0), float4x4(0.037660896778107,-0.047733668237925,-0.003072041785344,0.146362438797951,-0.174094453454018,-0.046156670898199,0.059308212250471,-0.021465597674251,-0.054329808801413,0.080593332648277,0.011599121615291,-0.076262891292572,-0.010555273853242,0.200579762458801,0.056390456855297,0.076119743287563));
res += mul(Get(s0,dx,dy), float4x4(-0.079406395554543,0.117768429219723,-0.114223897457123,-0.100586697459221,-0.029071493074298,0.016391182318330,-0.006268856581300,-0.002217626897618,0.003877145471051,-0.007588759064674,-0.094047449529171,-0.006839322857559,-0.044831153005362,-0.040054146200418,0.067215330898762,-0.112028136849403));
res += mul(Get(s1,-dx,-dy), float4x4(0.008930821903050,0.080150790512562,0.087508358061314,-0.129340708255768,0.109033651649952,0.107493825256824,0.207202151417732,0.123713478446007,0.075002521276474,-0.037568777799606,0.047949485480785,-0.096921369433403,0.028938662260771,0.004279698245227,-0.054202884435654,-0.020614229142666));
res += mul(Get(s1,-dx,0), float4x4(0.095382936298847,0.069355435669422,-0.001838069292717,0.042316514998674,0.094546057283878,0.028437539935112,-0.039648737758398,-0.023136518895626,0.012455782853067,0.044252570718527,0.003407520009205,0.073012612760067,0.068946160376072,-0.134974852204323,0.011899366974831,-0.080343447625637));
res += mul(Get(s1,-dx,dy), float4x4(0.062742717564106,0.134377464652061,0.052397374063730,0.025779619812965,0.054445404559374,0.005796502344310,-0.046494603157043,-0.146888539195061,-0.032894428819418,-0.059897728264332,0.052342053502798,-0.123041063547134,0.083953917026520,0.110584110021591,0.071235641837120,-0.091001875698566));
res += mul(Get(s1,0,-dy), float4x4(0.096631415188313,0.044578541070223,0.152248799800873,-0.079227678477764,-0.048032846301794,-0.121275119483471,-0.101452663540840,0.088743098080158,0.010608757846057,-0.102212741971016,-0.112636275589466,0.055332519114017,-0.127323091030121,-0.043131653219461,-0.174753591418266,-0.062661960721016));
res += mul(Get(s1,0,0), float4x4(-0.077316820621490,-0.207886710762978,0.004377313889563,0.104480676352978,-0.044334389269352,0.163723602890968,0.068317189812660,-0.060540266335011,0.135440140962601,-0.145432934165001,0.011823948472738,0.034804567694664,0.047280780971050,0.002474389038980,-0.173225477337837,0.164933949708939));
res += mul(Get(s1,0,dy), float4x4(0.015194931998849,-0.071741148829460,-0.014963652007282,0.002709009917453,-0.176209077239037,0.023265540599823,-0.178104117512703,0.122883006930351,0.112052470445633,-0.023198669776320,-0.137755200266838,-0.013333212584257,-0.067761287093163,-0.043208796530962,-0.175089359283447,-0.042947262525558));
res += mul(Get(s1,dx,-dy), float4x4(-0.083119541406631,0.042947400361300,0.149725809693336,0.010743796825409,-0.036048721522093,-0.141800865530968,-0.067794360220432,-0.047841921448708,-0.037896540015936,-0.051755663007498,0.061339687556028,-0.030461749061942,-0.028248373419046,0.118262737989426,0.059444420039654,-0.064346708357334));
res += mul(Get(s1,dx,0), float4x4(0.032534200698137,0.020492408424616,-0.212280884385109,0.023262308910489,-0.129922181367874,0.034382697194815,0.043513957411051,0.128253579139709,0.015140195377171,0.038313478231430,-0.033275701105595,0.166523516178131,0.069663807749748,-0.055547814816236,0.016106082126498,-0.054512467235327));
res += mul(Get(s1,dx,dy), float4x4(0.027524463832378,0.165123894810677,-0.038635604083538,0.064548373222351,0.080505281686783,-0.005454703234136,-0.005244167521596,-0.073407001793385,-0.094673648476601,-0.128324598073959,0.049139201641083,-0.037214413285255,0.027766026556492,0.099374428391457,-0.077896237373352,0.026126408949494));
res += mul(Get(s2,-dx,-dy), float4x4(-0.014024378731847,0.127047896385193,0.126531422138214,-0.111551754176617,-0.173983022570610,-0.009788327850401,-0.080752998590469,-0.000585248228163,-0.019530231133103,0.044097580015659,-0.089502699673176,-0.004149031359702,0.031285326927900,-0.126025527715683,0.019128981977701,-0.061548430472612));
res += mul(Get(s2,-dx,0), float4x4(0.051665309816599,-0.173165619373322,0.010186813771725,0.050543792545795,0.031449090689421,-0.104870527982712,0.052650257945061,0.087388537824154,-0.044806450605392,0.119071081280708,-0.090215377509594,-0.073184326291084,-0.027716770768166,0.074277475476265,-0.018619583919644,-0.130926683545113));
res += mul(Get(s2,-dx,dy), float4x4(0.138227552175522,-0.016309602186084,-0.133492022752762,-0.113408729434013,-0.057629704475403,0.009085120633245,0.025035787373781,-0.014162347652018,0.094947867095470,-0.064852543175220,0.073411434888840,-0.013745174743235,0.059098508208990,0.002255315426737,-0.046646460890770,0.012576818466187));
res += mul(Get(s2,0,-dy), float4x4(-0.052634660154581,-0.052148107439280,-0.085366100072861,-0.010908888652921,0.090784318745136,-0.059106312692165,0.015523117966950,0.107965990900993,0.039232470095158,-0.072401076555252,0.084512025117874,0.111563310027122,0.074260920286179,-0.090455606579781,0.054386336356401,-0.025543833151460));
res += mul(Get(s2,0,0), float4x4(-0.113761365413666,0.011145559139550,-0.117382116615772,-0.156123429536819,-0.069821730256081,-0.073025517165661,0.015454440377653,0.006984689738601,0.150234922766685,-0.018594875931740,-0.147822707891464,-0.027638010680676,0.090559460222721,-0.016191026195884,0.067185781896114,0.021413449198008));
res += mul(Get(s2,0,dy), float4x4(-0.098232723772526,-0.070828765630722,0.080680184066296,0.044505760073662,0.004847747739404,0.015821967273951,-0.011326462030411,-0.068539805710316,-0.028129355981946,0.109409511089325,-0.013753972947598,-0.038207799196243,0.035185709595680,-0.156914696097374,0.040294121950865,-0.122602872550488));
res += mul(Get(s2,dx,-dy), float4x4(-0.079804003238678,0.025075469166040,-0.050257738679647,0.059156756848097,-0.074892222881317,0.003087741322815,-0.095663726329803,-0.010132414288819,0.090409837663174,0.090388484299183,0.020243098959327,0.085786916315556,0.050807856023312,0.046131033450365,-0.023169202730060,0.112857617437840));
res += mul(Get(s2,dx,0), float4x4(-0.056717410683632,0.049083810299635,-0.099728807806969,-0.059911813586950,-0.046856008470058,0.069672606885433,0.020060364156961,-0.060175310820341,-0.176799923181534,-0.039969198405743,-0.053442817181349,0.019805667921901,-0.054525118321180,0.001906692981720,0.075589813292027,0.035852685570717));
res += mul(Get(s2,dx,dy), float4x4(0.048736173659563,0.021104399114847,-0.048754449933767,0.026030633598566,-0.017017068341374,0.043080534785986,-0.085294969379902,0.036429263651371,0.053046148270369,-0.064079239964485,0.056136298924685,-0.022267727181315,-0.092545770108700,0.138653069734573,-0.076697647571564,-0.132779985666275));
res += mul(Get(s3,-dx,-dy), float4x4(-0.022472001612186,-0.117928035557270,0.012090079486370,0.088013149797916,-0.046454600989819,-0.109308086335659,0.038551475852728,0.035533823072910,-0.009969077073038,0.096350744366646,0.076341956853867,-0.077095121145248,0.096085019409657,-0.091659955680370,-0.063251033425331,0.006436416413635));
res += mul(Get(s3,-dx,0), float4x4(0.017009703442454,0.095652639865875,0.116053298115730,-0.043225318193436,-0.007774156518281,-0.111222185194492,-0.000783258641604,-0.055572815239429,0.030450345948339,0.048287272453308,-0.002493492327631,0.018874455243349,-0.057973917573690,0.017530141398311,-0.016862915828824,-0.048792272806168));
res += mul(Get(s3,-dx,dy), float4x4(0.078330725431442,0.030853735283017,-0.017222164198756,0.025254772976041,-0.016584109514952,-0.019907832145691,0.026270519942045,0.060305487364531,0.025635926052928,0.060415964573622,-0.027365239337087,0.054546378552914,0.039885412901640,0.066549189388752,-0.031367070972919,0.042511869221926));
res += mul(Get(s3,0,-dy), float4x4(-0.066812545061111,0.002859182422981,-0.070540256798267,0.017654426395893,0.032609246671200,-0.110789753496647,0.100080393254757,0.022423757240176,0.101674482226372,-0.082375794649124,0.040748968720436,0.071270808577538,0.023199180141091,0.046374347060919,-0.071649186313152,-0.030256414785981));
res += mul(Get(s3,0,0), float4x4(-0.039985340088606,0.077132821083069,0.161614283919334,-0.068703517317772,0.107174821197987,-0.006134619936347,-0.120070189237595,-0.070104070007801,0.097231984138489,0.015264686197042,0.086726300418377,-0.005587090272456,0.116234526038170,-0.045898199081421,0.113054856657982,0.025083564221859));
res += mul(Get(s3,0,dy), float4x4(0.249130770564079,0.132619008421898,-0.022290617227554,-0.241657763719559,-0.146162971854210,0.000492403865792,0.014531482942402,0.083277590572834,-0.030252318829298,0.062696240842342,0.001339523703791,-0.021637747064233,-0.114186875522137,0.189268842339516,-0.136489823460579,0.063750542700291));
res += mul(Get(s3,dx,-dy), float4x4(-0.052617762237787,-0.087212383747101,0.037200964987278,0.044455505907536,0.171629726886749,-0.022298710420728,-0.169283390045166,0.052275300025940,-0.010862407274544,0.072433479130268,0.132310301065445,0.057309765368700,0.000442644115537,0.009293459355831,-0.041611544787884,0.071970462799072));
res += mul(Get(s3,dx,0), float4x4(0.165179371833801,0.133381381630898,-0.069594256579876,-0.029290793463588,0.066421382129192,0.002924351021647,0.000486125500174,0.119614750146866,0.066520512104034,-0.020163761451840,-0.069602876901627,0.161863058805466,0.004581416025758,0.062753818929195,-0.082076571881771,0.047509137541056));
res += mul(Get(s3,dx,dy), float4x4(0.080751977860928,-0.074172563850880,0.023624800145626,-0.051487915217876,-0.046583794057369,-0.141939640045166,0.159401133656502,-0.063401520252228,0.010044096969068,-0.185152500867844,-0.168832123279572,0.079872176051140,-0.198047861456871,-0.043901789933443,-0.040630742907524,0.120184555649757));
return max(float4(0,0,0,0), res);
}
