sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001287006423809,0.064751401543617,-0.122209489345551,0.068486735224724,0.025515042245388,0.059040304273367,-0.017560342326760,0.024596970528364,0.055778276175261,0.031822014600039,0.063697747886181,-0.011981877498329,0.047808360308409,0.084533900022507,-0.065342031419277,-0.034621868282557));
res += mul(Get(s0,-dx,0), float4x4(-0.145406410098076,-0.133877709507942,0.004735940601677,-0.145721524953842,0.015641655772924,-0.034134835004807,-0.052307147532701,0.004140020813793,-0.070012725889683,-0.056117966771126,0.013639123179018,0.016221605241299,-0.006770715117455,-0.011384673416615,0.022000640630722,-0.079712808132172));
res += mul(Get(s0,-dx,dy), float4x4(-0.066457919776440,-0.017693858593702,-0.142000600695610,-0.068098835647106,0.010109576396644,-0.113853022456169,-0.150920674204826,-0.046772915869951,0.054548557847738,-0.066623821854591,-0.197268903255463,-0.084474153816700,0.111070401966572,-0.014989502727985,-0.111422754824162,0.023902706801891));
res += mul(Get(s0,0,-dy), float4x4(0.001111391000450,0.011071403510869,-0.014597262255847,-0.022977132350206,0.208753243088722,0.047985978424549,-0.033761259168386,0.018987199291587,0.046843517571688,-0.018374111503363,-0.090215414762497,-0.132901772856712,0.058953084051609,0.069242402911186,-0.061501290649176,-0.116479471325874));
res += mul(Get(s0,0,0), float4x4(-0.171392977237701,-0.006542555987835,-0.083462893962860,0.096071720123291,0.056758169084787,-0.072935074567795,0.091587044298649,-0.027328217402101,0.042209912091494,-0.110868319869041,0.137598231434822,-0.090740419924259,0.015086974017322,0.129354342818260,-0.056986842304468,-0.117182880640030));
res += mul(Get(s0,0,dy), float4x4(-0.091393165290356,-0.060910642147064,0.100936688482761,0.078258641064167,-0.058153238147497,-0.020759604871273,0.034524578601122,-0.104048267006874,-0.007197463884950,0.158954992890358,-0.015211470425129,0.050852421671152,0.109425947070122,0.078847847878933,0.012966136448085,-0.033426251262426));
res += mul(Get(s0,dx,-dy), float4x4(0.010925291106105,-0.164035126566887,-0.059538356959820,0.067399255931377,0.003047637641430,0.105352140963078,-0.099098518490791,-0.034977003931999,-0.020330375060439,0.043072909116745,-0.051786437630653,0.073706820607185,0.068454295396805,0.015766361728311,0.160459473729134,-0.199498072266579));
res += mul(Get(s0,dx,0), float4x4(-0.107724152505398,0.087280996143818,-0.019082384184003,0.115617334842682,0.097077213227749,0.081526331603527,0.078178800642490,-0.076111197471619,0.005710846744478,-0.064824149012566,0.024180581793189,-0.121464729309082,0.023555677384138,0.048705264925957,0.046717315912247,-0.068491578102112));
res += mul(Get(s0,dx,dy), float4x4(-0.067358717322350,0.063983090221882,0.032176893204451,-0.119833007454872,0.152901947498322,-0.029653569683433,-0.012948264367878,-0.079049825668335,-0.053706005215645,-0.000801446498372,0.049819592386484,0.029184544458985,-0.082752600312233,0.006024268921465,-0.080955952405930,-0.113483853638172));
res += mul(Get(s1,-dx,-dy), float4x4(0.117245376110077,-0.040409177541733,-0.143186524510384,-0.184485912322998,-0.024875488132238,-0.079422228038311,-0.001725262962282,-0.081068038940430,0.014088674448431,-0.022469198331237,0.088143326342106,-0.065858207643032,-0.043185681104660,0.004941232968122,-0.025909151881933,0.062342043966055));
res += mul(Get(s1,-dx,0), float4x4(-0.007101060356945,-0.062266279011965,-0.071794144809246,-0.122035212814808,-0.107481896877289,0.006739357486367,-0.059496521949768,-0.020002122968435,-0.102254204452038,0.082862995564938,-0.125544250011444,0.020531861111522,0.028549483045936,0.014991061761975,0.064001008868217,-0.178309917449951));
res += mul(Get(s1,-dx,dy), float4x4(-0.029630361124873,-0.079004585742950,0.115969412028790,-0.046500418335199,0.027804354205728,0.070098303258419,-0.067565709352493,-0.145693928003311,0.002109394175932,0.008186855353415,0.062420208007097,0.151270046830177,0.104444600641727,0.134019330143929,0.026536390185356,0.095392696559429));
res += mul(Get(s1,0,-dy), float4x4(0.001176384161226,-0.077094726264477,0.045044768601656,0.000937791017350,-0.032211828976870,-0.144715815782547,-0.063167572021484,-0.047051686793566,-0.078106321394444,-0.042090360075235,-0.022101126611233,-0.046327419579029,0.063796058297157,-0.102727472782135,0.108857333660126,-0.006012062542140));
res += mul(Get(s1,0,0), float4x4(0.090198658406734,-0.006601144094020,-0.096818998456001,0.207704812288284,-0.078062273561954,-0.068048901855946,0.174544990062714,0.007272578310221,0.073670729994774,0.022744331508875,-0.088304206728935,-0.016590755432844,-0.039243318140507,0.072996728122234,0.121578939259052,-0.053075332194567));
res += mul(Get(s1,0,dy), float4x4(0.008177090436220,-0.142245963215828,0.102386534214020,-0.030079884454608,-0.053473763167858,-0.073103122413158,-0.173482164740562,0.225032120943069,0.047383617609739,0.038855813443661,-0.003594114910811,-0.139784574508667,-0.162593275308609,-0.026415504515171,-0.041679546236992,-0.040333740413189));
res += mul(Get(s1,dx,-dy), float4x4(-0.097323276102543,-0.017443181946874,-0.071929797530174,-0.049349326640368,0.105170398950577,-0.039653949439526,0.087656706571579,0.039013680070639,-0.010496406815946,-0.153599292039871,-0.007803272455931,0.113287054002285,-0.063557669520378,0.020950213074684,-0.023535419255495,0.091084174811840));
res += mul(Get(s1,dx,0), float4x4(-0.024437259882689,-0.136807695031166,-0.003581578144804,0.109471343457699,-0.104685209691525,-0.017678491771221,-0.039445191621780,-0.114358261227608,-0.084820747375488,-0.019937099888921,0.026097822934389,0.069374725222588,0.029132878407836,0.051300082355738,0.091357491910458,0.160509109497070));
res += mul(Get(s1,dx,dy), float4x4(-0.070776060223579,-0.031053401529789,-0.062093339860439,0.096910752356052,0.036246936768293,-0.085400752723217,0.040735837072134,-0.108566053211689,-0.046380881220102,0.160776302218437,0.034022193402052,0.089569889008999,-0.091935262084007,-0.017964210361242,0.173388019204140,0.084355555474758));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001990673132241,-0.053454726934433,0.111115977168083,0.154420986771584,0.017636917531490,0.112043723464012,-0.045095738023520,-0.008427527733147,0.097896680235863,-0.116654552519321,0.017790364101529,0.109172381460667,0.079779207706451,-0.113698206841946,0.020195655524731,-0.157286375761032));
res += mul(Get(s2,-dx,0), float4x4(0.124478437006474,0.055420551449060,-0.000488879333716,-0.046385813504457,0.044933509081602,-0.052326481789351,0.004507099743932,0.011376512236893,-0.086400255560875,-0.038702461868525,0.056133843958378,0.113988846540451,-0.061191037297249,0.168335586786270,0.018507927656174,0.042085945606232));
res += mul(Get(s2,-dx,dy), float4x4(0.138091504573822,-0.010288544930518,0.018393775448203,-0.129728347063065,0.101192533969879,0.043192863464355,0.027478840202093,-0.067439503967762,0.026817204430699,0.128396481275558,0.037342563271523,-0.121599942445755,0.026242239400744,0.081283867359161,0.069967061281204,0.004867384210229));
res += mul(Get(s2,0,-dy), float4x4(0.013831329531968,0.009439810179174,0.137673109769821,-0.030797988176346,-0.219281941652298,0.120756886899471,-0.034220736473799,-0.023369802162051,-0.164373531937599,0.000611707568169,0.001164803281426,0.015962775796652,0.002738555660471,0.015428954735398,0.028207812458277,0.082055017352104));
res += mul(Get(s2,0,0), float4x4(0.150025263428688,0.050750393420458,-0.096352770924568,-0.092304922640324,-0.072909899055958,-0.006575973238796,-0.087183266878128,-0.002256233943626,0.003371309256181,0.115906275808811,-0.058760017156601,-0.072273962199688,-0.015259646810591,0.000769548409153,-0.120136238634586,0.023818990215659));
res += mul(Get(s2,0,dy), float4x4(0.047755241394043,0.076998934149742,-0.020858405157924,-0.094628684222698,0.117735631763935,0.028739154338837,-0.028319725766778,-0.027569198980927,-0.003261988982558,-0.093359313905239,-0.144925653934479,0.066786177456379,-0.042596153914928,0.090561933815479,0.066469855606556,0.053913831710815));
res += mul(Get(s2,dx,-dy), float4x4(0.059874538332224,-0.020873066037893,-0.067939922213554,-0.031352516263723,0.054311051964760,-0.009328075684607,-0.028231682255864,0.059776943176985,0.104041837155819,-0.061580456793308,-0.085616655647755,-0.153993859887123,-0.058139782398939,0.052162438631058,-0.093641035258770,-0.087653145194054));
res += mul(Get(s2,dx,0), float4x4(0.046871185302734,-0.082901619374752,0.118573710322380,-0.124330304563046,0.016946420073509,-0.078338958323002,-0.101632788777351,-0.078914478421211,-0.070618629455566,0.129517361521721,-0.059796802699566,-0.166097491979599,-0.100477911531925,0.062298860400915,-0.041837334632874,0.071314722299576));
res += mul(Get(s2,dx,dy), float4x4(-0.042773041874170,0.036238607019186,-0.106921702623367,-0.076491169631481,0.042276311665773,-0.066710114479065,-0.114599049091339,0.042012471705675,0.033393200486898,-0.130573809146881,-0.031686570495367,-0.079643137753010,-0.039937846362591,0.119233213365078,-0.064223967492580,-0.004892483819276));
res += mul(Get(s3,-dx,-dy), float4x4(-0.079420536756516,0.109573334455490,0.052863083779812,-0.052883569151163,-0.015063203871250,0.013699176721275,0.096057228744030,-0.034078683704138,-0.017636649310589,0.173674389719963,-0.070724807679653,-0.022278551012278,-0.040285877883434,0.180075570940971,0.130485698580742,-0.096499331295490));
res += mul(Get(s3,-dx,0), float4x4(-0.003828349756077,0.020429890602827,-0.151745662093163,0.091577671468258,-0.106043390929699,0.119469448924065,-0.020426822826266,0.029171470552683,-0.036753021180630,0.033943638205528,-0.056370578706264,0.142986193299294,-0.011176539584994,0.175221577286720,-0.063380457460880,0.119186311960220));
res += mul(Get(s3,-dx,dy), float4x4(0.133363798260689,-0.115344867110252,0.049117367714643,0.064817816019058,0.171477943658829,0.029385514557362,-0.094762995839119,-0.043154597282410,0.100804641842842,0.072692163288593,-0.043909929692745,0.017821606248617,-0.043350808322430,-0.085917837917805,0.066131107509136,0.038082059472799));
res += mul(Get(s3,0,-dy), float4x4(-0.026167508214712,0.116760767996311,-0.065191112458706,0.010717235505581,-0.124291054904461,-0.022275116294622,0.095969147980213,-0.030176028609276,0.045150484889746,-0.039533507078886,0.041899055242538,0.005631321575493,0.028113087639213,0.109890691936016,0.040693186223507,-0.028983436524868));
res += mul(Get(s3,0,0), float4x4(0.082512117922306,-0.085532255470753,-0.075986139476299,0.046570617705584,-0.012878056615591,0.010581192560494,0.046909444034100,0.139921337366104,0.130325406789780,-0.077150002121925,0.073026649653912,-0.100650399923325,0.084628507494926,-0.018659790977836,0.025285720825195,-0.088347159326077));
res += mul(Get(s3,0,dy), float4x4(0.042076930403709,-0.212877139449120,-0.117092616856098,-0.015101515688002,-0.033517658710480,-0.140994966030121,0.027607951313257,-0.197793126106262,0.091921396553516,0.054531246423721,-0.175222828984261,-0.090067759156227,-0.059107676148415,-0.045551437884569,0.070979326963425,-0.060424517840147));
res += mul(Get(s3,dx,-dy), float4x4(0.115296021103859,0.032164435833693,-0.074200950562954,-0.066972292959690,0.004806130658835,-0.125679418444633,-0.051984470337629,-0.065530084073544,-0.057584792375565,0.021528784185648,-0.042338017374277,0.000907772220671,-0.052101749926805,-0.083859287202358,0.057630885392427,-0.057402715086937));
res += mul(Get(s3,dx,0), float4x4(-0.000507472956087,0.012363677844405,-0.108657270669937,0.014842293225229,-0.123584561049938,-0.090148679912090,0.052302256226540,-0.109553433954716,-0.036688271909952,-0.049562107771635,-0.126992881298065,-0.050344370305538,0.071944236755371,-0.032138224691153,0.013237892650068,-0.114069588482380));
res += mul(Get(s3,dx,dy), float4x4(-0.008678307756782,-0.050491116940975,-0.081078737974167,-0.010110978037119,0.065057374536991,-0.097106367349625,-0.060535915195942,0.171049028635025,0.088009148836136,-0.164609149098396,0.097973853349686,0.175108730792999,0.136447891592979,0.020618069916964,-0.069543398916721,0.129591420292854));
return max(float4(0,0,0,0), res);
}
