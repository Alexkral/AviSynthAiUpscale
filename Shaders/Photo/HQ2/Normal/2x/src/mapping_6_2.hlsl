sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.104019083082676,0.052344858646393,0.142074599862099,0.115553364157677,0.143460437655449,-0.047528441995382,-0.120365016162395,0.028609113767743,-0.146718129515648,0.154354423284531,0.123853266239166,-0.026809031143785,0.092698164284229,0.069008380174637,0.219755321741104,0.026469938457012));
res += mul(Get(s0,-dx,0), float4x4(-0.051339220255613,0.069920659065247,-0.051343735307455,0.024264192208648,-0.055666841566563,0.059243608266115,-0.136733710765839,-0.033038835972548,0.017569718882442,0.007896914146841,-0.032424762845039,0.073430031538010,0.091466739773750,0.025614982470870,-0.092281565070152,-0.170903518795967));
res += mul(Get(s0,-dx,dy), float4x4(-0.116188973188400,0.108367562294006,0.031652636826038,-0.063796482980251,-0.112077042460442,-0.082956276834011,-0.007698795292526,-0.136953145265579,0.138856738805771,0.208029136061668,0.011641423217952,0.041588924825191,0.013096857815981,-0.057237431406975,-0.200308248400688,-0.065188869833946));
res += mul(Get(s0,0,-dy), float4x4(-0.037393931299448,0.029739165678620,-0.010614697821438,-0.040551230311394,-0.100896477699280,0.099095962941647,-0.017453422769904,-0.063787214457989,-0.101574808359146,-0.052790917456150,-0.000942083890550,0.037676852196455,0.011099201627076,-0.031518902629614,-0.023283395916224,0.110846675932407));
res += mul(Get(s0,0,0), float4x4(-0.125768452882767,-0.102441295981407,0.171364843845367,0.048714168369770,0.037809025496244,-0.029410477727652,-0.023826254531741,-0.059835121035576,0.085507199168205,-0.075479924678802,0.015739873051643,-0.013883099891245,-0.048030883073807,-0.080976717174053,-0.069029837846756,0.141137972474098));
res += mul(Get(s0,0,dy), float4x4(0.120029233396053,0.024543723091483,0.014670259319246,0.142038226127625,0.009225881658494,-0.053245894610882,0.045281752943993,-0.091100648045540,0.117519535124302,-0.113452427089214,-0.093979753553867,0.041367921978235,0.019911343231797,0.014272415079176,0.148219034075737,0.131459653377533));
res += mul(Get(s0,dx,-dy), float4x4(0.045106127858162,-0.045087292790413,-0.079781629145145,0.056480649858713,0.014394730329514,0.082316860556602,0.026819663122296,-0.042192704975605,-0.072455339133739,-0.105989605188370,0.059351168572903,-0.060126636177301,-0.151749432086945,-0.006069587543607,0.037325102835894,-0.093565106391907));
res += mul(Get(s0,dx,0), float4x4(0.061668794602156,-0.109024688601494,0.125561326742172,-0.037347469478846,0.010462342761457,-0.001535758026876,0.092647902667522,0.008979365229607,-0.003034429391846,0.036008521914482,-0.049621954560280,-0.010434503667057,0.040674373507500,0.069550849497318,0.030702050775290,-0.065732836723328));
res += mul(Get(s0,dx,dy), float4x4(0.050239741802216,0.146995395421982,0.090669155120850,-0.015507165342569,-0.028988115489483,0.161611184477806,0.034732744097710,-0.080435715615749,0.020886434242129,-0.033022832125425,-0.080680951476097,-0.194782093167305,0.195886597037315,-0.252892255783081,-0.037666305899620,-0.013142570853233));
res += mul(Get(s1,-dx,-dy), float4x4(0.090284921228886,0.158136725425720,-0.013745971024036,0.001470741000958,0.078202426433563,-0.105794861912727,0.104853168129921,0.067770935595036,0.038614831864834,-0.074378482997417,0.035551182925701,-0.104970313608646,-0.051176100969315,0.003595447633415,-0.057331256568432,-0.026652842760086));
res += mul(Get(s1,-dx,0), float4x4(-0.121923774480820,-0.083454877138138,-0.165554434061050,-0.006170341279358,-0.077574223279953,-0.028210204094648,-0.034554764628410,0.101040519773960,-0.094331026077271,0.123359255492687,-0.107517890632153,-0.070458158850670,0.111455075442791,0.158227965235710,0.006331061013043,-0.155487611889839));
res += mul(Get(s1,-dx,dy), float4x4(0.119029060006142,0.058326922357082,-0.056197050958872,0.061640094965696,-0.099093489348888,0.031089790165424,0.178637236356735,0.033659085631371,0.007179849315435,0.019234742969275,-0.008467598818243,-0.042142048478127,0.046351693570614,-0.002930181566626,-0.100524865090847,0.027527287602425));
res += mul(Get(s1,0,-dy), float4x4(-0.147860154509544,-0.122867539525032,0.103204593062401,-0.003945468924940,-0.064561657607555,-0.003521179547533,0.018231334164739,-0.137268215417862,0.012298420071602,0.112694717943668,-0.168902412056923,0.022575981914997,0.166750773787498,0.007387974299490,0.058173246681690,-0.080925635993481));
res += mul(Get(s1,0,0), float4x4(0.110988229513168,0.077331140637398,-0.106014668941498,0.075843140482903,0.052532549947500,-0.014256612397730,0.115177713334560,0.149612963199615,-0.046562921255827,-0.096157044172287,0.089074663817883,-0.102559849619865,-0.036133691668510,0.079967774450779,0.083616435527802,0.057037975639105));
res += mul(Get(s1,0,dy), float4x4(0.015080129727721,-0.102417893707752,-0.053815796971321,0.020784867927432,0.070953123271465,-0.110588982701302,0.016875255852938,-0.060851898044348,-0.038107186555862,0.146338477730751,0.119413137435913,0.066270239651203,-0.021386727690697,0.055809658020735,-0.000378602824640,-0.020414579659700));
res += mul(Get(s1,dx,-dy), float4x4(-0.113018795847893,0.178434804081917,0.061493590474129,0.018785966560245,0.006344275083393,-0.100551389157772,0.044068790972233,0.057758715003729,0.064541257917881,-0.003640391631052,-0.054411157965660,-0.174857378005981,-0.023733729496598,-0.007250050082803,-0.043778412044048,0.070289470255375));
res += mul(Get(s1,dx,0), float4x4(-0.097684912383556,0.009903759695590,0.049588490277529,-0.050611563026905,0.121150568127632,0.033523593097925,-0.098324321210384,-0.242772564291954,0.085425630211830,0.020844554528594,0.034248419106007,-0.012696295045316,-0.020992029458284,0.024989759549499,0.172476112842560,0.060718271881342));
res += mul(Get(s1,dx,dy), float4x4(0.020426155999303,-0.001158921397291,0.068547300994396,0.036020636558533,-0.007769057061523,0.021551724523306,0.045969642698765,0.205383256077766,-0.102199897170067,-0.108378298580647,0.022063381969929,-0.004434756468982,0.091053843498230,0.061424251645803,-0.145519584417343,0.021876506507397));
res += mul(Get(s2,-dx,-dy), float4x4(0.101717323064804,-0.002835148246959,0.156619131565094,0.016596598550677,-0.034575976431370,0.042491849511862,-0.165884241461754,0.043354023247957,-0.035757418721914,-0.031394634395838,-0.011315557174385,-0.086454495787621,-0.199261486530304,0.112486243247986,0.039726413786411,-0.125843197107315));
res += mul(Get(s2,-dx,0), float4x4(0.355667293071747,-0.089196965098381,0.186396688222885,-0.039445433765650,-0.150352865457535,0.075090982019901,-0.080641493201256,0.118117205798626,-0.105987094342709,0.009471110999584,0.160778343677521,-0.000313068565447,-0.018351228907704,0.047767542302608,-0.064967840909958,-0.070712275803089));
res += mul(Get(s2,-dx,dy), float4x4(0.090037524700165,0.139097779989243,0.138236954808235,0.051248449832201,0.017164673656225,-0.124859280884266,0.031639661639929,0.084945283830166,-0.041975166648626,-0.046845320612192,0.029395371675491,0.075382083654404,0.001338044879958,-0.004934668075293,0.158554896712303,-0.094635456800461));
res += mul(Get(s2,0,-dy), float4x4(-0.171235427260399,-0.025225235149264,0.151638060808182,-0.079065740108490,-0.075193233788013,0.149593815207481,0.010493023321033,-0.113322325050831,0.023897066712379,0.005846315063536,-0.007277304306626,-0.010775155387819,-0.011753726750612,0.097854204475880,0.051967203617096,-0.207001477479935));
res += mul(Get(s2,0,0), float4x4(-0.062225580215454,0.021437576040626,-0.186989709734917,-0.014915110543370,0.035738676786423,-0.036128602921963,0.094541497528553,0.005013549700379,-0.098497338593006,-0.018288915976882,-0.018979437649250,0.097379148006439,0.286195963621140,-0.050933569669724,-0.010563586838543,-0.026399161666632));
res += mul(Get(s2,0,dy), float4x4(-0.003634803462774,0.194729089736938,0.044129751622677,0.001841798890382,-0.205931589007378,-0.175931870937347,0.085907168686390,0.025915047153831,-0.118967935442924,0.040910035371780,0.019954938441515,0.048966057598591,0.068161614239216,0.032706521451473,0.068655826151371,0.011038735508919));
res += mul(Get(s2,dx,-dy), float4x4(-0.077269598841667,-0.130974963307381,0.046359006315470,-0.037101544439793,0.009323962964118,-0.128849968314171,-0.114385284483433,-0.073822289705276,-0.012536971829832,0.069241806864738,-0.076438836753368,-0.060412682592869,0.048180993646383,0.020395632833242,0.045182555913925,0.025251895189285));
res += mul(Get(s2,dx,0), float4x4(-0.028412327170372,0.109086796641350,0.008565308526158,-0.030901961028576,-0.018659709021449,0.141809388995171,-0.002932331990451,-0.011634274385870,-0.131253719329834,0.013105849735439,-0.188308045268059,0.115382954478264,-0.007519292645156,0.054996058344841,-0.040504790842533,0.011783413589001));
res += mul(Get(s2,dx,dy), float4x4(0.009006809443235,0.019557425752282,-0.080102778971195,-0.060246791690588,0.031414013355970,0.052714329212904,0.042048625648022,0.063162535429001,-0.137565702199936,0.076891817152500,0.003198345890269,0.003818196477368,-0.113710053265095,-0.025206616148353,-0.078886240720749,0.021673606708646));
res += mul(Get(s3,-dx,-dy), float4x4(0.106758326292038,0.014260692521930,-0.031813476234674,-0.066783793270588,-0.080097906291485,0.027196358889341,0.105035983026028,-0.216783046722412,0.014636663720012,0.010453459806740,0.039079174399376,-0.075470328330994,0.000184127566172,0.094151310622692,-0.030222374945879,0.058553498238325));
res += mul(Get(s3,-dx,0), float4x4(0.094416238367558,-0.003626551246271,0.032553154975176,-0.094923749566078,-0.027195518836379,-0.001622636686079,0.029150633141398,-0.034355282783508,-0.043269414454699,-0.057222452014685,-0.169189542531967,0.045973919332027,-0.078970819711685,0.057937059551477,0.081292472779751,-0.085454188287258));
res += mul(Get(s3,-dx,dy), float4x4(0.033987864851952,-0.102832101285458,-0.083186805248260,0.027279924601316,-0.039783824235201,0.012534387409687,-0.173129126429558,0.014770388603210,-0.052568908780813,-0.004115559160709,0.045291382819414,-0.049372505396605,-0.026578437536955,-0.056762471795082,0.192192584276199,-0.040184114128351));
res += mul(Get(s3,0,-dy), float4x4(-0.179516196250916,-0.083389692008495,-0.083511635661125,-0.055915731936693,0.092046268284321,0.103067539632320,0.078388869762421,0.092985995113850,0.100195392966270,-0.128910720348358,-0.202675893902779,0.008828381076455,-0.031430423259735,0.126438513398170,-0.032229971140623,-0.030130200088024));
res += mul(Get(s3,0,0), float4x4(0.052550666034222,-0.041162781417370,0.118476852774620,0.011067386716604,0.190969303250313,0.016391370445490,0.008728923276067,-0.030487375333905,0.055248491466045,-0.058361522853374,0.027786858379841,0.111018680036068,0.000274647871265,-0.009609919972718,-0.047297630459070,-0.075643323361874));
res += mul(Get(s3,0,dy), float4x4(0.023081937804818,0.087363414466381,0.061288982629776,-0.048995286226273,-0.107427135109901,0.083533272147179,0.089460350573063,-0.002553620142862,-0.062618523836136,-0.068029142916203,0.000467824778752,-0.042954020202160,-0.000646243977826,-0.075748525559902,-0.101153671741486,0.056305002421141));
res += mul(Get(s3,dx,-dy), float4x4(0.175704747438431,0.059744656085968,0.064691081643105,-0.019631268456578,-0.019310295581818,-0.008926886133850,-0.145373031497002,0.041506193578243,0.073299624025822,-0.018530931323767,0.005033263470978,0.130802690982819,0.163044869899750,-0.071031667292118,0.156951278448105,0.079440563917160));
res += mul(Get(s3,dx,0), float4x4(-0.000503389979713,0.112372979521751,-0.182087466120720,0.091846846044064,-0.021566942334175,-0.180227711796761,0.077848657965660,0.049633201211691,-0.031977914273739,0.039850294589996,0.072323523461819,-0.002770786872134,0.082642853260040,-0.088215254247189,0.073074802756310,-0.061197217553854));
res += mul(Get(s3,dx,dy), float4x4(-0.064538128674030,0.074732698500156,-0.045650515705347,-0.051133297383785,-0.155509918928146,-0.029066849499941,-0.036740757524967,0.093148455023766,-0.053322389721870,0.048599954694510,-0.034354891628027,-0.049079675227404,-0.018840365111828,-0.095200568437576,0.049907211214304,0.059959400445223));
return max(float4(0,0,0,0), res);
}
