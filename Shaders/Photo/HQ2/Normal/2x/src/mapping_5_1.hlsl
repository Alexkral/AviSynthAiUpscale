sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.151509910821915,-0.008795673027635,-0.174869135022163,0.011365565471351,-0.059311173856258,0.065363422036171,0.018248096108437,-0.074035488069057,-0.057443480938673,0.066288113594055,-0.045322675257921,-0.051716465502977,-0.035494506359100,0.115123577415943,-0.044400766491890,-0.021658889949322));
res += mul(Get(s0,-dx,0), float4x4(0.023933531716466,0.004827954806387,-0.119166113436222,-0.010546424426138,0.023761874064803,-0.092518441379070,-0.139078110456467,-0.051526159048080,-0.221016377210617,-0.005140407010913,0.029910553246737,0.047286972403526,0.053541913628578,0.049782268702984,-0.054316043853760,0.029264917597175));
res += mul(Get(s0,-dx,dy), float4x4(-0.090173624455929,0.040711566805840,0.038115158677101,-0.088212966918945,-0.027460049837828,0.016502896323800,-0.046523924916983,-0.052699707448483,-0.115753933787346,0.002614005003124,-0.148880630731583,0.103739090263844,0.123345650732517,-0.034960471093655,0.057686533778906,-0.039176970720291));
res += mul(Get(s0,0,-dy), float4x4(-0.145521625876427,0.017677001655102,-0.042833343148232,0.021293338388205,0.010619033128023,-0.150456070899963,0.007645657286048,0.016854394227266,0.101565122604370,0.105900093913078,0.041068382561207,0.078650727868080,-0.071690134704113,0.087811201810837,0.111812286078930,-0.054276559501886));
res += mul(Get(s0,0,0), float4x4(0.072435759007931,-0.137463837862015,-0.027705071493983,-0.080595493316650,0.070351108908653,0.027832409366965,0.176025107502937,0.005685018841177,0.057182922959328,0.156403064727783,-0.096769161522388,0.024937570095062,0.082443095743656,0.052403911948204,0.014676789753139,-0.083968557417393));
res += mul(Get(s0,0,dy), float4x4(0.257667601108551,-0.031405258923769,-0.097511358559132,0.044958744198084,0.096265748143196,0.071764580905437,0.024713609367609,-0.173338159918785,0.003465708112344,-0.074153736233711,-0.018145438283682,0.084827587008476,0.004314276389778,-0.010836383327842,-0.090044088661671,-0.065280213952065));
res += mul(Get(s0,dx,-dy), float4x4(-0.043606251478195,-0.029368113726377,0.155691459774971,0.056348469108343,-0.167502269148827,0.097930572926998,0.025907199829817,-0.084325306117535,0.061464376747608,-0.039835784584284,0.017379859462380,0.092653729021549,0.120822221040726,0.052847482264042,0.087667383253574,-0.109496913850307));
res += mul(Get(s0,dx,0), float4x4(-0.109010450541973,-0.200872316956520,-0.024112548679113,-0.052509739995003,-0.013748649507761,-0.036831289529800,0.064128682017326,-0.039661243557930,-0.116784855723381,0.008635316975415,-0.072463259100914,0.037915054708719,0.075145043432713,0.020683610811830,-0.065140970051289,-0.026270953938365));
res += mul(Get(s0,dx,dy), float4x4(-0.223955839872360,-0.121740214526653,-0.076645210385323,0.002165748970583,-0.079417124390602,-0.084236584603786,0.087890416383743,-0.018723115324974,-0.015280355699360,0.057198237627745,0.103757463395596,0.162432521581650,-0.079918853938580,0.159000992774963,-0.173119395971298,-0.060634952038527));
res += mul(Get(s1,-dx,-dy), float4x4(0.165038287639618,-0.023328807204962,-0.087121829390526,0.136337846517563,-0.064641527831554,0.016903096809983,-0.062528446316719,0.061313234269619,0.083116747438908,-0.011531514115632,0.135541319847107,0.043972428888083,0.078110180795193,-0.075055524706841,0.092856168746948,0.116426482796669));
res += mul(Get(s1,-dx,0), float4x4(-0.106438346207142,0.111949607729912,0.124517634510994,0.030036535114050,0.063934259116650,-0.196257576346397,-0.039296902716160,-0.074209354817867,0.078770659863949,-0.013516287319362,-0.029880978167057,0.093572191894054,-0.103498272597790,-0.009802646003664,-0.014096373692155,-0.138594791293144));
res += mul(Get(s1,-dx,dy), float4x4(-0.011959278024733,0.096663154661655,0.162602737545967,-0.169857472181320,0.184567272663116,-0.136169224977493,-0.046341683715582,-0.024058293551207,-0.064962059259415,0.078341841697693,0.040111139416695,0.144344761967659,0.109156146645546,0.033412639051676,-0.030595138669014,-0.043363872915506));
res += mul(Get(s1,0,-dy), float4x4(0.109124436974525,-0.065280392765999,0.016586627811193,0.118948742747307,0.153418436646461,-0.144645750522614,-0.004898935090750,-0.003525062464178,-0.113722562789917,0.099515847861767,-0.037098549306393,0.196860641241074,0.006259511224926,-0.118848361074924,-0.048418045043945,-0.083378978073597));
res += mul(Get(s1,0,0), float4x4(-0.150897771120071,0.039012156426907,0.004303974099457,-0.045040104538202,0.134055897593498,0.067464701831341,-0.090202733874321,-0.030232135206461,-0.104446731507778,0.131942331790924,0.146293044090271,-0.102048642933369,0.106124714016914,-0.032933555543423,-0.016962528228760,0.089566260576248));
res += mul(Get(s1,0,dy), float4x4(-0.013381046243012,0.062020808458328,-0.158342942595482,-0.137497529387474,0.020989770069718,-0.072218030691147,0.007567727006972,0.050908580422401,-0.023560617119074,0.111904993653297,-0.044280368834734,-0.065102271735668,0.051290385425091,-0.034324310719967,-0.039014194160700,0.162728667259216));
res += mul(Get(s1,dx,-dy), float4x4(-0.060379609465599,0.128903865814209,-0.151328995823860,0.044133514165878,-0.038776338100433,0.256952255964279,0.028186472132802,-0.082796968519688,0.076007641851902,0.093834161758423,0.079986013472080,0.173930928111076,-0.057649943977594,0.008677754551172,-0.161273077130318,0.059492394328117));
res += mul(Get(s1,dx,0), float4x4(0.029459265992045,-0.119141444563866,0.064297243952751,0.094563283026218,0.023848662152886,0.077488586306572,0.072942115366459,-0.031858745962381,0.121053807437420,0.002193804131821,-0.032546382397413,0.028436429798603,-0.086639292538166,-0.025229880586267,-0.023387523368001,0.121010445058346));
res += mul(Get(s1,dx,dy), float4x4(0.062925174832344,-0.083235956728458,-0.025136094540358,0.002139638876542,0.034986294806004,0.066695988178253,-0.053412187844515,-0.039221942424774,0.006836282555014,-0.005740277934819,0.075232423841953,-0.050025284290314,-0.199102565646172,-0.026506017893553,0.022876711562276,0.128219708800316));
res += mul(Get(s2,-dx,-dy), float4x4(-0.008924898691475,-0.110977776348591,-0.064342640340328,0.059279605746269,0.046669341623783,0.017281705513597,-0.100054800510406,-0.065126560628414,-0.134391635656357,0.004154034424573,0.063093908131123,-0.040140278637409,-0.008643562905490,-0.066833429038525,0.059772383421659,0.043320029973984));
res += mul(Get(s2,-dx,0), float4x4(-0.013478910550475,-0.097152136266232,-0.052794143557549,-0.044329524040222,-0.039421226829290,0.074478141963482,0.168596997857094,0.043425977230072,-0.108995534479618,-0.213324144482613,-0.052861046046019,-0.161986753344536,0.012475315481424,0.087945878505707,0.091805487871170,0.120008923113346));
res += mul(Get(s2,-dx,dy), float4x4(-0.037080377340317,-0.108800657093525,-0.051639087498188,0.077010005712509,-0.121228694915771,-0.115597784519196,0.000847017741762,-0.085043296217918,0.044137336313725,-0.109065338969231,-0.052006486803293,0.005539501551539,0.006154857575893,-0.046692892909050,-0.091016590595245,0.019030148163438));
res += mul(Get(s2,0,-dy), float4x4(0.076951652765274,0.027647454291582,-0.003545470302925,0.028060099110007,0.081733264029026,-0.056209784001112,0.098940312862396,-0.108427114784718,0.326558232307434,-0.000873016309924,-0.023229077458382,0.160361886024475,0.139115363359451,-0.071139849722385,-0.162198066711426,-0.026187188923359));
res += mul(Get(s2,0,0), float4x4(0.001359423506074,0.038855027407408,-0.067509904503822,-0.096300795674324,0.201430186629295,-0.113459736108780,0.066255316138268,0.016455916687846,0.236071720719337,0.021473938599229,0.058426629751921,0.044110819697380,0.006589497439563,0.017644265666604,-0.134199678897858,-0.087477982044220));
res += mul(Get(s2,0,dy), float4x4(0.058132752776146,-0.157410010695457,-0.106133148074150,-0.047928251326084,-0.074957452714443,0.007335112895817,-0.001057359040715,-0.077241130173206,0.055299606174231,-0.006751083768904,-0.087205648422241,-0.080930083990097,0.137801438570023,0.057953201234341,-0.102045059204102,0.005149741191417));
res += mul(Get(s2,dx,-dy), float4x4(0.066552512347698,-0.094897225499153,0.131502538919449,0.128501415252686,-0.000332826719387,-0.068073101341724,0.026385037228465,0.109890528023243,0.084323078393936,-0.148039832711220,-0.091961346566677,-0.006225328892469,0.064436621963978,0.040643867105246,-0.109894029796124,-0.086515493690968));
res += mul(Get(s2,dx,0), float4x4(0.025131959468126,-0.030017791315913,-0.045326735824347,-0.098644420504570,0.105622328817844,0.069985739886761,-0.051682759076357,0.040658265352249,0.001345086260699,0.036431733518839,-0.027960119768977,0.072356641292572,0.064847350120544,0.027005672454834,-0.007830574177206,-0.029230058193207));
res += mul(Get(s2,dx,dy), float4x4(-0.078560948371887,0.048156913369894,0.046380329877138,0.027262007817626,-0.192808255553246,-0.141996562480927,0.009343894198537,-0.031322482973337,-0.178665161132813,0.057152129709721,-0.028279554098845,-0.100084796547890,-0.122767783701420,0.052042827010155,-0.035396717488766,-0.036917213350534));
res += mul(Get(s3,-dx,-dy), float4x4(0.074996575713158,-0.026869755238295,0.137252390384674,-0.003736634040251,0.046547513455153,0.084285706281662,0.139800146222115,0.074014067649841,-0.053068622946739,-0.001080949441530,0.120778128504753,-0.056644394993782,0.158409669995308,0.021161548793316,0.130905345082283,-0.019023245200515));
res += mul(Get(s3,-dx,0), float4x4(0.089911997318268,0.062012948095798,0.064113259315491,0.025268033146858,-0.005105658899993,-0.101997010409832,-0.047128256410360,-0.069354012608528,-0.029974011704326,0.000788766366895,-0.016728123649955,0.017123434692621,-0.105795107781887,0.084352873265743,-0.137419685721397,-0.087195605039597));
res += mul(Get(s3,-dx,dy), float4x4(-0.042580913752317,0.051442030817270,-0.001240784884430,-0.040776610374451,0.076880455017090,0.070971198379993,0.000492048333399,0.001687566749752,0.006726505234838,0.018912240862846,-0.014080793596804,0.050152041018009,-0.100084982812405,-0.093191713094711,-0.073699295520782,-0.102584041655064));
res += mul(Get(s3,0,-dy), float4x4(0.027334026992321,-0.128595530986786,-0.105280898511410,0.005118597764522,-0.049615576863289,0.073528394103050,0.063659884035587,-0.053687263280153,0.067505076527596,0.018453108146787,-0.058725759387016,-0.033451762050390,0.103294208645821,0.098578326404095,-0.038819104433060,-0.068714000284672));
res += mul(Get(s3,0,0), float4x4(0.045181475579739,-0.042635280638933,0.013736009597778,-0.152928501367569,0.085635401308537,0.050378009676933,0.001551819848828,-0.095317810773849,0.066382527351379,0.090755335986614,0.203537911176682,0.158415555953979,-0.016939429566264,-0.047815449535847,-0.093690820038319,-0.015941778197885));
res += mul(Get(s3,0,dy), float4x4(0.083617478609085,0.078979760408401,0.029232533648610,0.085407584905624,-0.106392510235310,-0.050955288112164,-0.068546727299690,-0.004104545339942,0.004018271341920,0.044787995517254,0.134275078773499,-0.096074953675270,0.040278926491737,-0.027428438887000,-0.104917407035828,-0.039650265127420));
res += mul(Get(s3,dx,-dy), float4x4(0.063826136291027,-0.030248427763581,0.037594221532345,-0.086480207741261,0.076958961784840,-0.093464657664299,0.144698441028595,-0.018874989822507,0.097451247274876,-0.009816086851060,-0.010780596174300,-0.126856103539467,0.134846642613411,0.062842547893524,0.058816093951464,0.072156548500061));
res += mul(Get(s3,dx,0), float4x4(0.100634701550007,-0.050252269953489,-0.031369656324387,-0.023715030401945,-0.015567131340504,0.082397952675819,-0.238854557275772,-0.006908677052706,0.021146269515157,0.065295375883579,-0.028159953653812,0.126811146736145,-0.055076967924833,-0.030106607824564,-0.007274637930095,-0.037917487323284));
res += mul(Get(s3,dx,dy), float4x4(0.016728045418859,-0.022671580314636,-0.085283882915974,0.010441126301885,0.024651350453496,0.038029015064240,0.036975894123316,-0.089148528873920,0.090258702635765,0.146899089217186,-0.076982729136944,-0.090653657913208,-0.083281509578228,-0.180923670530319,-0.043076802045107,0.106254212558270));
return max(float4(0,0,0,0), res);
}
