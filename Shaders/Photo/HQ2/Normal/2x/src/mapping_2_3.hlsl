sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.029651092365384,-0.090765625238419,-0.099629014730453,0.004076735116541,-0.000521633250173,-0.106387197971344,-0.101609662175179,0.039089772850275,0.150959253311157,-0.043729722499847,-0.012003641575575,-0.033741310238838,0.088516741991043,0.039078120142221,-0.035760655999184,-0.062504552304745));
res += mul(Get(s0,-dx,0), float4x4(-0.024081809446216,0.151981845498085,0.008291083388031,0.056022576987743,-0.049376927316189,0.094717644155025,-0.094525419175625,-0.000939405697864,0.008016515523195,-0.005049753002822,0.106696769595146,0.054237443953753,-0.069604218006134,0.089208498597145,0.137949571013451,0.059945818036795));
res += mul(Get(s0,-dx,dy), float4x4(0.014848074875772,-0.101081348955631,-0.034743934869766,-0.052779361605644,0.052265636622906,-0.003278751159087,-0.002384560182691,-0.031826894730330,-0.005420323926955,0.073934860527515,-0.098313011229038,0.072362579405308,-0.098279349505901,0.012977298349142,0.027612762525678,-0.000663344108034));
res += mul(Get(s0,0,-dy), float4x4(0.047311488538980,0.015138885006309,-0.133335843682289,-0.009711908176541,-0.042070675641298,0.034684702754021,-0.047995932400227,-0.035559933632612,0.056829616427422,0.120895467698574,0.155510425567627,0.045303523540497,-0.113338947296143,0.018170079216361,-0.123416632413864,0.100453697144985));
res += mul(Get(s0,0,0), float4x4(0.027814177796245,-0.029737016186118,0.048544067889452,0.020245349034667,0.047458376735449,-0.072987444698811,0.158838137984276,-0.143866971135139,0.118944138288498,-0.172493785619736,0.088057830929756,0.060755137354136,0.175969123840332,0.073796793818474,-0.063822083175182,-0.086922846734524));
res += mul(Get(s0,0,dy), float4x4(-0.056555137038231,-0.094561785459518,0.047803469002247,-0.031556785106659,0.130708411335945,-0.006968234665692,-0.002785051707178,0.090871073305607,0.042861714959145,-0.037337969988585,-0.078012004494667,0.143263712525368,-0.063445918262005,0.042478732764721,0.088300399482250,-0.071433626115322));
res += mul(Get(s0,dx,-dy), float4x4(-0.032561998814344,-0.100094236433506,-0.056523334234953,0.023632133379579,0.081282645463943,0.025047784671187,0.045657154172659,0.054169230163097,0.050340764224529,-0.036786712706089,0.063358634710312,-0.143489271402359,0.085886768996716,-0.111415386199951,0.154770493507385,0.035869263112545));
res += mul(Get(s0,dx,0), float4x4(-0.088159136474133,0.057890873402357,0.039996068924665,-0.148573055863380,-0.008273390121758,0.016221413388848,0.048146646469831,-0.090548090636730,0.010268631391227,0.024942010641098,0.111259505152702,0.033715222030878,0.048191457986832,0.015350465662777,-0.092569351196289,-0.074874520301819));
res += mul(Get(s0,dx,dy), float4x4(0.084340922534466,-0.117551222443581,-0.109683260321617,0.038359489291906,-0.005513942800462,0.133442297577858,0.029912518337369,-0.124173693358898,0.185292392969131,0.052687663584948,0.136230543255806,-0.011312693357468,-0.128568232059479,-0.131544947624207,-0.011600722558796,0.009883529506624));
res += mul(Get(s1,-dx,-dy), float4x4(0.169875264167786,0.093004018068314,-0.054341591894627,-0.033667985349894,-0.003369323443621,-0.097683921456337,0.027215581387281,-0.017988858744502,-0.021037887781858,-0.093260116875172,0.032195873558521,-0.018682222813368,-0.028342999517918,0.116641283035278,0.038401380181313,-0.044628385454416));
res += mul(Get(s1,-dx,0), float4x4(0.046261403709650,-0.176019459962845,0.157625421881676,0.091803051531315,0.012609598226845,0.048740655183792,0.035950634628534,0.127129763364792,-0.078252084553242,0.179694503545761,0.117607273161411,-0.127980798482895,-0.039625812321901,-0.040268342941999,-0.011465355753899,-0.108782842755318));
res += mul(Get(s1,-dx,dy), float4x4(0.152412429451942,-0.045950796455145,-0.074989475309849,0.036565776914358,-0.061584722250700,0.019838258624077,-0.068395532667637,-0.144954934716225,0.047587543725967,-0.030675463378429,-0.124091885983944,0.004473834298551,0.089538969099522,-0.109404340386391,0.038708563894033,0.018433960154653));
res += mul(Get(s1,0,-dy), float4x4(0.029038242995739,0.010345525108278,0.111362211406231,-0.034044601023197,0.033473823219538,-0.031406369060278,-0.082639351487160,0.091332592070103,0.042047798633575,0.217707410454750,0.065607190132141,0.037702679634094,-0.048057857900858,0.121177747845650,-0.012133355252445,0.010929035954177));
res += mul(Get(s1,0,0), float4x4(0.015142502263188,-0.003875609021634,-0.053422231227160,-0.053458135575056,-0.101409643888474,-0.049244847148657,0.049666795879602,-0.059713039547205,0.031105922535062,-0.028083771467209,0.008146230131388,0.039265677332878,-0.059335500001907,-0.076172836124897,0.048064239323139,0.117474734783173));
res += mul(Get(s1,0,dy), float4x4(-0.085255764424801,0.158481061458588,0.063605844974518,-0.033863898366690,-0.048443231731653,-0.098718315362930,-0.085691437125206,-0.022583041340113,0.033183529973030,0.009421321563423,-0.049856528639793,-0.061919290572405,0.087835878133774,-0.177244603633881,0.007582447025925,-0.138475015759468));
res += mul(Get(s1,dx,-dy), float4x4(0.006400233134627,0.003771435003728,-0.110032521188259,0.200343713164330,0.010191729292274,-0.160819843411446,-0.004523622803390,0.054184604436159,0.084158793091774,0.089655891060829,-0.042250875383615,-0.010409764945507,0.119032792747021,-0.051052942872047,-0.187730714678764,-0.042719975113869));
res += mul(Get(s1,dx,0), float4x4(0.013304669409990,-0.053786188364029,0.126037180423737,-0.004149642772973,-0.047571666538715,-0.037860628217459,-0.235888600349426,-0.078270554542542,0.045969378203154,0.091815195977688,0.176268771290779,0.039370212703943,-0.028946086764336,0.144665017724037,-0.014654302969575,0.029272107407451));
res += mul(Get(s1,dx,dy), float4x4(-0.125747218728065,0.046020548790693,-0.184903174638748,-0.016963459551334,0.037183221429586,0.065059848129749,-0.172374501824379,0.035636354237795,-0.039906438440084,-0.014403846114874,-0.090309210121632,0.031503640115261,-0.037785276770592,0.123984731733799,0.066362336277962,-0.014322219416499));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007188019808382,-0.115065731108189,-0.007208076771349,0.155960515141487,-0.080378130078316,-0.115046262741089,0.050394922494888,0.154826864600182,0.000532892532647,0.049981635063887,-0.012886373326182,0.029945887625217,-0.033984158188105,-0.012339332140982,0.052574709057808,0.010207027196884));
res += mul(Get(s2,-dx,0), float4x4(0.028037076815963,-0.003200843464583,0.088575452566147,-0.049274567514658,-0.057823818176985,0.098343215882778,0.029099062085152,0.026390470564365,-0.097337983548641,-0.037586823105812,0.078071273863316,-0.136571243405342,-0.139330059289932,-0.109847739338875,-0.113938279449940,-0.043091777712107));
res += mul(Get(s2,-dx,dy), float4x4(-0.192418545484543,0.117875896394253,0.186665058135986,-0.204738393425941,-0.157755300402641,0.141367971897125,-0.125822037458420,-0.042168088257313,0.014989235438406,0.057020820677280,-0.028462778776884,0.012152261100709,-0.059935037046671,-0.196000754833221,0.051092054694891,-0.028452139347792));
res += mul(Get(s2,0,-dy), float4x4(-0.008918027393520,0.041925687342882,-0.107211425900459,0.038916699588299,-0.004316710866988,-0.169612750411034,0.070184558629990,-0.058520905673504,0.133551925420761,0.078043967485428,-0.078711874783039,-0.041900821030140,-0.088395178318024,-0.073976546525955,-0.018750311806798,-0.090471029281616));
res += mul(Get(s2,0,0), float4x4(0.097567997872829,0.125793099403381,0.115072064101696,-0.142993971705437,-0.046889290213585,0.071788676083088,0.018021468073130,-0.013729988597333,0.020176514983177,-0.098879098892212,-0.036562159657478,-0.036718063056469,-0.040360581129789,0.094089783728123,0.177257016301155,-0.058727186173201));
res += mul(Get(s2,0,dy), float4x4(0.248844325542450,0.207329079508781,-0.028659207746387,0.091613374650478,0.041492629796267,-0.039386171847582,0.167164221405983,0.102974921464920,0.072772771120071,-0.086885847151279,-0.030219862237573,-0.014266331680119,0.029301997274160,-0.043705098330975,-0.051859825849533,-0.049306046217680));
res += mul(Get(s2,dx,-dy), float4x4(-0.143207728862762,0.090396650135517,0.007574453949928,0.015256946906447,0.003644317621365,-0.040001854300499,-0.097901135683060,0.159337818622589,-0.096336804330349,0.020399266853929,0.065693788230419,-0.242931380867958,0.070306263864040,0.023493904620409,0.033410169184208,-0.015493855811656));
res += mul(Get(s2,dx,0), float4x4(-0.075844645500183,-0.117502391338348,-0.064619891345501,-0.053822241723537,0.087624743580818,-0.073818430304527,-0.066056944429874,0.003076497698203,0.122416079044342,0.129794612526894,0.019835114479065,-0.061496540904045,0.012087131850421,0.017099916934967,0.012122616171837,0.049262009561062));
res += mul(Get(s2,dx,dy), float4x4(-0.058664098381996,0.008450721390545,-0.027571484446526,-0.101702526211739,0.127028912305832,0.096001066267490,-0.138227656483650,0.035133123397827,0.010043174028397,0.107103548943996,-0.038009144365788,0.061349201947451,0.008047164417803,-0.183412611484528,-0.087715551257133,-0.001697425148450));
res += mul(Get(s3,-dx,-dy), float4x4(0.026672149077058,0.112765736877918,0.078849725425243,-0.005242942832410,0.049845129251480,-0.112888477742672,-0.003041883697733,0.012449054047465,-0.014301455579698,0.076914489269257,-0.112025789916515,-0.049597799777985,-0.061337012797594,0.076392851769924,0.054117035120726,0.070320151746273));
res += mul(Get(s3,-dx,0), float4x4(0.218917623162270,0.167217344045639,-0.184139743447304,-0.070066004991531,0.097620822489262,0.019749855622649,0.158675298094749,0.030135134235024,0.079357989132404,0.043083440512419,-0.046535942703485,0.059307873249054,0.057553235441446,-0.075983442366123,0.008543271571398,-0.157209515571594));
res += mul(Get(s3,-dx,dy), float4x4(0.028043104335666,-0.002627190668136,-0.161650866270065,0.082064189016819,0.046231899410486,-0.000141103970236,-0.075317911803722,-0.027918696403503,0.021794097498059,-0.024627605453134,-0.062597930431366,-0.014274638146162,-0.053375832736492,-0.074722327291965,-0.016448898240924,-0.108895964920521));
res += mul(Get(s3,0,-dy), float4x4(0.013079842552543,0.093801878392696,-0.111096672713757,0.021181087940931,-0.129342824220657,0.057119745761156,0.169942766427994,0.116817064583302,0.053205873817205,-0.133494287729263,-0.040877774357796,-0.076906777918339,0.109819501638412,0.096986956894398,-0.041024088859558,0.038585375994444));
res += mul(Get(s3,0,0), float4x4(0.129158422350883,-0.056679878383875,0.107109934091568,0.046432442963123,-0.219498574733734,0.111976288259029,-0.073354482650757,-0.118513613939285,-0.164978265762329,-0.084372401237488,-0.062307965010405,0.130817651748657,0.006315542850643,-0.140348583459854,-0.090261183679104,-0.017951501533389));
res += mul(Get(s3,0,dy), float4x4(0.009051322005689,0.053561899811029,0.079382635653019,0.018052343279123,-0.066313691437244,0.043174382299185,-0.067741893231869,-0.079098209738731,-0.018263736739755,0.056358452886343,0.045751571655273,0.065237022936344,0.079534471035004,0.044357847422361,-0.004813271109015,-0.016512781381607));
res += mul(Get(s3,dx,-dy), float4x4(-0.048822700977325,0.170017629861832,-0.108467072248459,0.068422816693783,0.140823543071747,0.178408235311508,0.040271159261465,-0.035194560885429,-0.002813515020534,0.052133269608021,0.083361923694611,0.116168119013309,0.175377056002617,0.100202888250351,0.032680235803127,0.077195361256599));
res += mul(Get(s3,dx,0), float4x4(0.087082616984844,0.101051270961761,-0.015771502628922,0.126251697540283,-0.043050780892372,-0.024612233042717,0.056583974510431,-0.036100059747696,-0.065608337521553,-0.118205241858959,-0.023572390899062,-0.012145536020398,0.002730068285018,-0.145806506276131,-0.005781712476164,0.131688505411148));
res += mul(Get(s3,dx,dy), float4x4(-0.026177238672972,-0.066376961767673,-0.060354627668858,-0.036068864166737,-0.038566563278437,-0.018162518739700,0.046900913119316,-0.055391144007444,-0.000970889464952,0.017023095861077,0.047144565731287,0.150773525238037,0.139508619904518,-0.010951234027743,0.034184455871582,0.026078343391418));
return max(float4(0,0,0,0), res);
}
