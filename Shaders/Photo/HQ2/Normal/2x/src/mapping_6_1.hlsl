sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.060478121042252,0.069811128079891,-0.098036810755730,0.102962762117386,0.078025072813034,0.094046391546726,-0.096758827567101,-0.133793741464615,0.025546489283442,-0.081813067197800,0.085427150130272,0.067998148500919,0.032405387610197,0.027050919830799,-0.090201817452908,0.086760506033897));
res += mul(Get(s0,-dx,0), float4x4(-0.087440125644207,-0.005478743463755,0.132531031966209,0.008572989143431,-0.124371849000454,0.044734511524439,-0.079885505139828,-0.043613992631435,-0.063390843570232,-0.046722657978535,-0.003202996449545,-0.019865032285452,-0.044938385486603,-0.004770272877067,0.023008786141872,-0.052582435309887));
res += mul(Get(s0,-dx,dy), float4x4(0.050054583698511,-0.083750657737255,0.054403532296419,0.026521636173129,-0.032772939652205,-0.101835325360298,0.055521681904793,-0.212111741304398,-0.031652946025133,-0.058515548706055,0.017731385305524,-0.049612227827311,-0.072699725627899,0.001394553459249,-0.055712699890137,0.003997079562396));
res += mul(Get(s0,0,-dy), float4x4(0.028875909745693,0.181694447994232,-0.085799723863602,0.010778195224702,-0.000153924775077,-0.098986946046352,-0.032578609883785,0.031215885654092,-0.123140402138233,0.108452096581459,-0.066453531384468,-0.092849455773830,0.079620130360126,-0.089799880981445,-0.000925199652556,0.038658458739519));
res += mul(Get(s0,0,0), float4x4(-0.111267641186714,-0.031948834657669,0.006848980206996,0.025145471096039,-0.214188009500504,0.077487356960773,-0.016338668763638,0.085888139903545,-0.090273953974247,0.067194439470768,-0.040929369628429,0.008570896461606,0.166258826851845,0.049783490598202,0.011041466146708,0.001836584531702));
res += mul(Get(s0,0,dy), float4x4(-0.024131596088409,-0.048813145607710,0.050622165203094,0.017383942380548,0.026620723307133,-0.059288032352924,0.004433951806277,-0.127002373337746,0.116109251976013,0.015072937123477,-0.035487394779921,0.024566812440753,0.012684850022197,0.037756856530905,-0.182030618190765,0.027311185374856));
res += mul(Get(s0,dx,-dy), float4x4(0.077838748693466,-0.044708166271448,-0.060498077422380,-0.048851370811462,-0.044663645327091,0.094430439174175,-0.074665829539299,-0.011197568848729,0.169662445783615,0.111014656722546,0.043964363634586,0.009148798882961,0.086177259683609,-0.122269742190838,-0.021389039233327,-0.088073678314686));
res += mul(Get(s0,dx,0), float4x4(0.140514299273491,-0.211396351456642,0.044124186038971,-0.207980275154114,-0.091902092099190,-0.102661296725273,-0.032992281019688,-0.040950547903776,0.061542864888906,-0.080727435648441,-0.020710937678814,0.030373038724065,-0.060310244560242,-0.015878193080425,-0.060449581593275,0.051088057458401));
res += mul(Get(s0,dx,dy), float4x4(-0.022770607843995,0.066581390798092,-0.017539627850056,-0.089370146393776,0.095320604741573,0.046710707247257,0.066450245678425,-0.037398837506771,-0.066563077270985,-0.144699513912201,0.096345372498035,0.064101979136467,-0.036026880145073,0.098112888634205,0.174332335591316,-0.042788878083229));
res += mul(Get(s1,-dx,-dy), float4x4(-0.042259261012077,-0.023753153160214,0.085121355950832,-0.027419881895185,-0.053333468735218,-0.001666797092184,0.099425137042999,-0.067308202385902,0.041452270001173,0.024141773581505,-0.010202121920884,-0.075773581862450,-0.158539369702339,0.028039427474141,-0.078613720834255,0.062197417020798));
res += mul(Get(s1,-dx,0), float4x4(0.114012070000172,0.138728335499763,-0.025491559877992,0.145464673638344,0.071129202842712,0.020731460303068,-0.010924301110208,-0.164699226617813,0.060708742588758,0.123460024595261,0.086113415658474,-0.084644384682178,-0.020673204213381,0.032115247100592,-0.072894446551800,0.093466326594353));
res += mul(Get(s1,-dx,dy), float4x4(-0.043344479054213,-0.001382336602546,-0.054516140371561,-0.028055388480425,-0.004645585548133,0.018699498847127,-0.093040332198143,-0.118658065795898,-0.032308991998434,0.125928863883018,-0.004329119343311,0.027208544313908,0.087360180914402,-0.020188350230455,0.081145450472832,0.059535022825003));
res += mul(Get(s1,0,-dy), float4x4(0.020686017349362,-0.026075303554535,-0.011830225586891,0.021873861551285,0.053772218525410,0.047589022666216,0.113481797277927,-0.008102601394057,0.028809955343604,-0.114530645310879,-0.089240431785583,0.026093665510416,0.049555677920580,-0.039627570658922,0.032010521739721,-0.177325740456581));
res += mul(Get(s1,0,0), float4x4(0.061934456229210,-0.138467743992805,0.006967185065150,-0.212156474590302,-0.129385426640511,0.142657637596130,0.113249018788338,0.018465567380190,0.071743547916412,-0.013497784733772,-0.016148788854480,-0.007747017778456,0.216617658734322,-0.031209314242005,0.023725507780910,0.090087480843067));
res += mul(Get(s1,0,dy), float4x4(-0.058567441999912,-0.011595470830798,0.075429663062096,0.074888110160828,0.009926729835570,0.060584139078856,-0.034350905567408,0.073132283985615,0.054398197680712,-0.039640255272388,0.112210683524609,0.017327647656202,-0.005483937449753,-0.191226035356522,-0.124502889811993,-0.045780438929796));
res += mul(Get(s1,dx,-dy), float4x4(-0.041537206619978,0.025826489552855,0.013719809241593,0.115603163838387,-0.091739088296890,-0.042335238307714,-0.041973225772381,-0.029175588861108,0.027963599190116,-0.033298168331385,-0.067475214600563,-0.078385315835476,0.068756118416786,-0.099935017526150,0.102885134518147,0.007094626314938));
res += mul(Get(s1,dx,0), float4x4(0.002230658195913,0.141517415642738,0.069283396005630,-0.098596855998039,-0.002439883770421,0.201472550630569,0.131486073136330,-0.022374588996172,-0.103439159691334,-0.025772210210562,0.087712906301022,0.102616526186466,0.017321662977338,-0.078859999775887,-0.010052406229079,0.012855129316449));
res += mul(Get(s1,dx,dy), float4x4(-0.060097578912973,-0.075062036514282,-0.028861209750175,-0.018783910200000,-0.111008718609810,-0.038655854761600,-0.021902721375227,0.149160012602806,-0.037440434098244,-0.080923229455948,-0.011355807073414,0.024698870256543,-0.069496631622314,0.012103749439120,0.037226390093565,-0.146486431360245));
res += mul(Get(s2,-dx,-dy), float4x4(0.037312634289265,-0.029564803466201,0.065700292587280,0.115556560456753,-0.013500170782208,0.099227227270603,0.036321371793747,-0.097440384328365,0.067847505211830,0.152750968933105,-0.184473603963852,0.046310134232044,0.046132445335388,-0.040955714881420,-0.079472601413727,-0.069956980645657));
res += mul(Get(s2,-dx,0), float4x4(-0.026379097253084,-0.053400777280331,-0.151458427309990,0.026986371725798,0.077154077589512,-0.036202389746904,-0.062716133892536,0.039527438580990,-0.170365512371063,0.129543006420135,-0.030721932649612,0.019183194264770,-0.152433022856712,-0.025996036827564,-0.048931039869785,-0.046815801411867));
res += mul(Get(s2,-dx,dy), float4x4(-0.062726460397243,0.065803326666355,0.002044361084700,0.107188582420349,-0.113010041415691,0.051197815686464,0.050784625113010,-0.078599981963634,-0.022821314632893,0.005910565610975,0.040194366127253,0.008217731490731,0.036744937300682,0.099750272929668,-0.093853987753391,0.111942008137703));
res += mul(Get(s2,0,-dy), float4x4(-0.056277319788933,-0.008802241645753,-0.146686866879463,-0.030190266668797,-0.239717185497284,-0.032340526580811,-0.077241890132427,-0.038937889039516,0.063927069306374,-0.109539940953255,0.090412065386772,-0.191356346011162,0.044880989938974,-0.079469591379166,-0.031031198799610,-0.155541941523552));
res += mul(Get(s2,0,0), float4x4(-0.030348261818290,0.055106729269028,-0.163271635770798,0.041529186069965,-0.029804479330778,0.029611714184284,0.028351960703731,-0.018603026866913,0.055216118693352,-0.052195258438587,-0.041847534477711,-0.094917900860310,0.146207109093666,-0.014199856668711,0.020135423168540,0.094510458409786));
res += mul(Get(s2,0,dy), float4x4(0.236490219831467,-0.008222064003348,0.126341447234154,-0.007449262309819,0.063025914132595,-0.066171079874039,0.244267866015434,0.131930559873581,0.051910631358624,-0.062013007700443,0.025733236223459,0.018939707428217,-0.045865442603827,-0.078235693275928,0.043157253414392,0.019923703745008));
res += mul(Get(s2,dx,-dy), float4x4(-0.071684658527374,-0.015505200251937,0.006010877899826,-0.047760244458914,-0.192500606179237,0.063596487045288,0.073922097682953,0.009186684153974,0.072007372975349,0.033158127218485,0.052317984402180,-0.165100038051605,0.037688553333282,0.021412381902337,0.018657656386495,-0.052527070045471));
res += mul(Get(s2,dx,0), float4x4(-0.045488897711039,0.031892221421003,0.072751984000206,0.098406329751015,0.085898779332638,-0.203551933169365,-0.029446102678776,-0.094692230224609,0.134935230016708,0.113853387534618,0.035270471125841,-0.040239844471216,0.149964466691017,-0.125033065676689,0.045392304658890,0.075150132179260));
res += mul(Get(s2,dx,dy), float4x4(-0.013415209017694,-0.026830736547709,-0.060514762997627,-0.007209276780486,0.136320725083351,-0.050029203295708,-0.008651255629957,-0.024895282462239,-0.097017370164394,-0.033081173896790,-0.046585042029619,-0.039924986660480,0.072963647544384,0.048691216856241,0.091151975095272,0.069118082523346));
res += mul(Get(s3,-dx,-dy), float4x4(0.076020762324333,-0.082640580832958,-0.046749345958233,0.265526622533798,-0.082182481884956,-0.018289962783456,-0.065106056630611,0.027702277526259,0.062715791165829,0.066274978220463,-0.025379238650203,-0.063705444335938,0.049429714679718,0.005847319029272,0.004573967307806,-0.038169458508492));
res += mul(Get(s3,-dx,0), float4x4(0.009763403795660,0.260573625564575,0.034733977168798,-0.119478836655617,0.054800048470497,-0.083980150520802,-0.027460213750601,0.074044205248356,-0.044541433453560,-0.064583279192448,0.025536788627505,0.063487656414509,-0.083948031067848,0.125191554427147,0.068520538508892,-0.236117348074913));
res += mul(Get(s3,-dx,dy), float4x4(-0.037049219012260,0.015515910461545,0.046304952353239,0.067173801362514,0.046458777040243,0.113154709339142,0.123774468898773,-0.031185196712613,-0.090274192392826,0.034602206200361,-0.052310135215521,0.006305635906756,-0.077196650207043,-0.008081042207778,0.014235122129321,0.122019387781620));
res += mul(Get(s3,0,-dy), float4x4(0.096483916044235,-0.070139862596989,-0.019043864682317,0.092865824699402,0.138182789087296,0.014264730736613,-0.150259077548981,0.000807932461612,-0.015770662575960,-0.009911317378283,-0.004041431937367,-0.185075968503952,0.128330484032631,-0.067864298820496,-0.237673431634903,-0.036597553640604));
res += mul(Get(s3,0,0), float4x4(0.061761975288391,-0.021138034760952,-0.017959792166948,0.058066222816706,0.174472585320473,-0.093988314270973,0.046544469892979,-0.010809599421918,-0.008774654008448,-0.017500421032310,-0.116155952215195,0.118709608912468,0.077470339834690,0.035689849406481,-0.035808801651001,0.073311753571033));
res += mul(Get(s3,0,dy), float4x4(0.103723987936974,0.104070164263248,0.001444740453735,0.017565358430147,0.118928976356983,0.135862410068512,0.072762139141560,-0.126377388834953,-0.115194059908390,-0.088497377932072,-0.030747307464480,-0.064226254820824,0.021934764459729,0.079253748059273,0.112139619886875,0.085496485233307));
res += mul(Get(s3,dx,-dy), float4x4(-0.029641140252352,0.000755780551117,-0.063709720969200,0.052570775151253,-0.090924136340618,0.096471197903156,0.064028538763523,0.136730179190636,0.003041663672775,0.114890433847904,-0.067469120025635,-0.123167932033539,0.003153875702992,-0.042455680668354,0.088595099747181,0.031708333641291));
res += mul(Get(s3,dx,0), float4x4(0.014530936256051,-0.136170357465744,0.125532448291779,-0.237300187349319,-0.132770866155624,-0.112127780914307,-0.115880817174911,-0.176031604409218,-0.091400101780891,0.040961213409901,-0.023433994501829,-0.065852724015713,-0.086288861930370,-0.107224471867085,0.176696076989174,-0.001112576457672));
res += mul(Get(s3,dx,dy), float4x4(0.099943421781063,0.065218336880207,0.000893789459951,0.067491218447685,-0.106702849268913,0.015794508159161,0.151742011308670,0.003339400514960,-0.070314623415470,-0.003505271859467,0.029212620109320,0.051459718495607,-0.050400163978338,-0.142687425017357,-0.041735649108887,0.113709382712841));
return max(float4(0,0,0,0), res);
}
