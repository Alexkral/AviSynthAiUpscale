sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.019166683778167,0.001340723945759,0.209549620747566,-0.226160436868668,-0.003777571022511,-0.065007880330086,0.033798139542341,0.179091408848763,0.012337114661932,-0.051366619765759,-0.086361013352871,-0.055546533316374,-0.054042354226112,0.119079113006592,0.005694215185940,0.020467137917876));
res += mul(Get(s0,-dx,0), float4x4(-0.061759140342474,0.089623957872391,-0.005689398851246,0.012478477321565,-0.050529286265373,-0.050347413867712,-0.059479482471943,0.015698065981269,-0.049199551343918,0.027103675529361,0.061377555131912,-0.167316138744354,-0.136149868369102,0.011747217737138,0.041461732238531,-0.031963579356670));
res += mul(Get(s0,-dx,dy), float4x4(-0.065325461328030,-0.002591201104224,0.022799657657743,-0.104159176349640,-0.134133368730545,-0.085492037236691,-0.050170660018921,0.023355353623629,0.068066067993641,0.096048995852470,0.028503194451332,-0.079663738608360,-0.099900878965855,-0.014033459126949,-0.018515422940254,-0.013543252833188));
res += mul(Get(s0,0,-dy), float4x4(0.031209772452712,-0.023132106289268,0.083775423467159,0.032908335328102,-0.054601069539785,-0.118287354707718,-0.039357762783766,0.102367460727692,-0.050398830324411,-0.023427341133356,0.032259929925203,0.012134277261794,0.051830507814884,0.021159555763006,-0.021562194451690,0.057969998568296));
res += mul(Get(s0,0,0), float4x4(-0.085823804140091,-0.098273180425167,-0.185518011450768,0.019965108484030,-0.050700273364782,0.009309872053564,-0.000743459968362,-0.095152571797371,-0.065466232597828,0.008838500827551,-0.028600737452507,0.033809330314398,0.178181961178780,-0.126133352518082,-0.070848830044270,-0.044512391090393));
res += mul(Get(s0,0,dy), float4x4(-0.092403873801231,-0.080730900168419,0.142578065395355,0.063225157558918,0.109428279101849,-0.039776045829058,-0.048348579555750,0.239699199795723,0.044884983450174,-0.226436346769333,-0.027305072173476,0.018766330555081,-0.083358436822891,-0.050734177231789,0.090904124081135,0.056210175156593));
res += mul(Get(s0,dx,-dy), float4x4(0.023090625181794,-0.022816330194473,0.053487002849579,0.030534865334630,0.090315133333206,0.097127169370651,0.042399276047945,-0.112599477171898,-0.039258752018213,-0.046111144125462,-0.131687775254250,-0.040353141725063,0.081338666379452,0.022315716370940,-0.118785277009010,-0.088981695473194));
res += mul(Get(s0,dx,0), float4x4(0.034295871853828,0.040408264845610,-0.120280563831329,0.038285735994577,0.045838266611099,-0.054388053715229,0.016919864341617,0.107704892754555,-0.084480755031109,0.010290579870343,0.076860174536705,-0.009973024949431,0.161768406629562,-0.035597309470177,0.069802239537239,-0.076228842139244));
res += mul(Get(s0,dx,dy), float4x4(-0.043764337897301,0.070733793079853,-0.042508948594332,-0.036517053842545,0.086910426616669,0.056673381477594,0.132368534803391,0.098155848681927,-0.065408095717430,0.005103073548526,-0.037339057773352,0.146894142031670,-0.023006610572338,-0.210332274436951,0.069161161780357,-0.077011272311211));
res += mul(Get(s1,-dx,-dy), float4x4(-0.031707271933556,0.061043225228786,0.121671035885811,-0.151420071721077,0.057899620383978,0.016156407073140,-0.029018573462963,0.067897424101830,-0.108402006328106,0.000655123440083,0.036011453717947,-0.079921424388885,0.136861741542816,0.072084210813046,0.060892924666405,-0.016650747507811));
res += mul(Get(s1,-dx,0), float4x4(0.016089404001832,-0.115121521055698,0.025963872671127,0.120897419750690,-0.010037930682302,-0.024450134485960,-0.026486519724131,0.017145769670606,-0.112662106752396,0.005618915893137,0.001486324123107,-0.034153796732426,0.097211986780167,-0.098712600767612,0.017314516007900,-0.028587568551302));
res += mul(Get(s1,-dx,dy), float4x4(0.016976546496153,-0.106319949030876,0.122566021978855,0.105358101427555,0.048819039016962,-0.126485899090767,-0.172494858503342,-0.017063947394490,-0.087009079754353,0.025876695290208,0.145390093326569,-0.021348088979721,-0.040864322334528,-0.038279775530100,-0.075843438506126,0.042522404342890));
res += mul(Get(s1,0,-dy), float4x4(-0.069144748151302,0.035778574645519,-0.006969654001296,-0.056220684200525,0.103812292218208,-0.035147067159414,-0.030301325023174,0.075674548745155,0.010556567460299,0.089600265026093,0.064319573342800,0.015718594193459,0.186485067009926,-0.042475417256355,-0.139837756752968,-0.069349199533463));
res += mul(Get(s1,0,0), float4x4(0.011491701938212,-0.020212383940816,-0.011702833697200,0.045479957014322,-0.015786373987794,0.225023403763771,-0.153134733438492,-0.105777218937874,-0.003212515264750,0.023919517174363,-0.004430244676769,0.012570328079164,0.080995649099350,0.151310279965401,-0.074905477464199,0.147105231881142));
res += mul(Get(s1,0,dy), float4x4(-0.051313493400812,-0.065782681107521,-0.036205831915140,0.115196280181408,-0.050475429743528,0.001995426369831,0.038550805300474,-0.098966613411903,-0.019610663875937,0.097635641694069,0.058864772319794,0.018504351377487,0.019207850098610,-0.085022412240505,-0.007623659912497,-0.065985687077045));
res += mul(Get(s1,dx,-dy), float4x4(-0.092706166207790,-0.132147580385208,0.035557318478823,-0.072031140327454,0.060993786901236,0.017404740676284,0.047439005225897,-0.011379093863070,0.078442133963108,-0.008376901969314,0.053975459188223,-0.065102204680443,-0.090040065348148,-0.104190573096275,0.034046616405249,0.001748961512931));
res += mul(Get(s1,dx,0), float4x4(0.015928426757455,-0.051850587129593,-0.036663994193077,-0.082700937986374,-0.002365558408201,0.118288107216358,-0.070938713848591,0.018841365352273,-0.013535441830754,0.068781927227974,0.139786183834076,0.045149598270655,0.143372759222984,0.022718051448464,0.057133510708809,-0.065939359366894));
res += mul(Get(s1,dx,dy), float4x4(0.074679240584373,-0.183563068509102,-0.007001060061157,-0.035939566791058,0.143368244171143,0.021682359278202,0.056737668812275,0.018192036077380,0.043099313974380,-0.044645257294178,-0.117054678499699,0.086561784148216,-0.009314106777310,-0.101421140134335,-0.026359338313341,-0.037883657962084));
res += mul(Get(s2,-dx,-dy), float4x4(-0.014357161708176,-0.090892411768436,-0.020927486941218,-0.013646537438035,-0.034523203969002,-0.179609864950180,-0.028926495462656,-0.126223132014275,0.154382511973381,0.001623550197110,0.097004331648350,-0.010198836214840,-0.078127101063728,-0.080544896423817,0.094064004719257,0.063503958284855));
res += mul(Get(s2,-dx,0), float4x4(-0.005980720743537,0.036824248731136,0.055965378880501,0.084893189370632,-0.047919090837240,-0.056366574019194,-0.030498938634992,0.000622581748758,0.011225623078644,-0.030972408130765,-0.015153704211116,-0.059706736356020,0.067107014358044,0.001193486386910,-0.007988354191184,-0.011297303251922));
res += mul(Get(s2,-dx,dy), float4x4(0.013978713192046,0.020870681852102,0.071621030569077,-0.036236576735973,-0.031168198212981,-0.023674728348851,-0.006261022761464,-0.008647209033370,0.042031344026327,0.105921834707260,0.013912404887378,0.154995575547218,0.016178848221898,-0.064446568489075,0.053076777607203,-0.001071575330570));
res += mul(Get(s2,0,-dy), float4x4(0.198398172855377,0.107334919273853,0.102579429745674,-0.004989501088858,-0.008769146166742,0.006037520244718,-0.042002059519291,-0.006902956403792,-0.058508262038231,0.045291431248188,-0.038445368409157,-0.031866744160652,-0.105736948549747,0.096257336437702,-0.002219311427325,-0.002325262641534));
res += mul(Get(s2,0,0), float4x4(0.131181225180626,0.027682136744261,-0.159064978361130,-0.016530532389879,0.078024253249168,-0.047072347253561,0.070216871798038,0.045538466423750,0.019286127761006,0.067648760974407,0.065072745084763,0.088180191814899,-0.168298810720444,-0.030653232708573,0.037559766322374,-0.037734929472208));
res += mul(Get(s2,0,dy), float4x4(-0.004783106502146,0.117216058075428,-0.103347785770893,0.099307067692280,-0.053202893584967,0.040959399193525,-0.127585813403130,-0.010588481090963,-0.066599324345589,-0.009119127877057,0.026869630441070,0.071955740451813,-0.126673415303230,-0.100003793835640,0.011078479699790,-0.101377524435520));
res += mul(Get(s2,dx,-dy), float4x4(0.133389294147491,0.065138459205627,0.024792363867164,-0.168431282043457,0.088475055992603,0.011681678704917,0.164850011467934,0.052462756633759,-0.014484788291156,0.077070340514183,0.019272461533546,0.055791724473238,-0.078137181699276,0.001451864722185,0.043117452412844,-0.031273998320103));
res += mul(Get(s2,dx,0), float4x4(-0.029843036085367,0.134549051523209,0.090001299977303,0.048501141369343,-0.023816788569093,0.156101346015930,-0.107788465917110,0.135688066482544,-0.059372760355473,0.128332912921906,0.071260347962379,0.032424557954073,-0.001269361353479,-0.071542605757713,-0.040275353938341,0.108194552361965));
res += mul(Get(s2,dx,dy), float4x4(-0.089816384017467,0.008257376961410,-0.073186181485653,0.006637002807111,0.032252058386803,-0.109695725142956,0.087064199149609,0.048367634415627,0.007877415977418,-0.057676088064909,-0.007495415396988,-0.048318523913622,0.032122135162354,-0.128865927457809,0.095677390694618,0.172519996762276));
res += mul(Get(s3,-dx,-dy), float4x4(-0.090567447245121,0.022899372503161,-0.043088678270578,-0.016391057521105,-0.081341795623302,-0.005139207933098,0.032299589365721,0.008234472014010,-0.058766901493073,-0.121169835329056,-0.049027711153030,-0.028437448665500,0.138723805546761,0.048035677522421,-0.066908627748489,0.071289449930191));
res += mul(Get(s3,-dx,0), float4x4(-0.156703114509583,-0.056285031139851,0.037131279706955,0.040050268173218,0.149551853537560,-0.006923704873770,0.054598547518253,-0.090783670544624,-0.074848301708698,0.004117988515645,-0.019965274259448,-0.094275794923306,-0.044344961643219,0.016003612428904,0.158637493848801,-0.111316516995430));
res += mul(Get(s3,-dx,dy), float4x4(-0.053323559463024,0.028093909844756,-0.110156595706940,0.025391761213541,0.007796155288815,-0.087710671126842,-0.048451963812113,0.059702940285206,0.098947905004025,-0.020639384165406,-0.062980286777020,-0.050521135330200,-0.068889543414116,-0.062911145389080,0.014317649416625,0.052922859787941));
res += mul(Get(s3,0,-dy), float4x4(-0.143178090453148,0.079454295337200,0.099056012928486,-0.146531492471695,-0.022197818383574,-0.010506728664041,-0.002489946084097,0.039854694157839,0.079132601618767,-0.001047755824402,-0.091259129345417,-0.016614519059658,0.026758186519146,-0.001874679815955,-0.055938754230738,0.013570989482105));
res += mul(Get(s3,0,0), float4x4(-0.032812811434269,-0.018509717658162,0.077255100011826,0.006206079851836,-0.102607443928719,-0.002557851141319,-0.021605744957924,-0.028325852006674,0.142226740717888,-0.205364137887955,-0.028992123901844,-0.004069668706506,-0.104117952287197,-0.083325743675232,0.055574428290129,0.110341630876064));
res += mul(Get(s3,0,dy), float4x4(-0.100419364869595,-0.062872514128685,-0.042572576552629,-0.091335691511631,0.028367964550853,0.050384901463985,-0.055659826844931,0.046468771994114,-0.228851094841957,0.049097932875156,-0.053293928503990,-0.140645250678062,0.134592488408089,-0.068305216729641,0.034680269658566,0.017285630106926));
res += mul(Get(s3,dx,-dy), float4x4(0.019683120772243,0.007586483377963,-0.092661485075951,-0.141732513904572,-0.091578103601933,0.063423044979572,0.063864938914776,-0.024398531764746,-0.018854891881347,0.007659981958568,-0.051221691071987,0.007516421843320,0.084699586033821,0.126933544874191,-0.044893302023411,-0.061126995831728));
res += mul(Get(s3,dx,0), float4x4(-0.060380358248949,0.058023530989885,-0.028356697410345,-0.072196640074253,-0.095925211906433,0.015238305553794,0.023064846172929,-0.107396200299263,0.004306425806135,-0.021969644352794,0.007468529511243,-0.028399005532265,0.195844963192940,-0.159113094210625,0.011351102963090,-0.170467123389244));
res += mul(Get(s3,dx,dy), float4x4(0.008490598760545,0.027458852156997,0.012007866986096,0.121088892221451,-0.059200968593359,-0.071374908089638,-0.031955488026142,-0.105534359812737,-0.029231226071715,-0.040214523673058,0.121667370200157,0.037141360342503,0.046683855354786,-0.104873344302177,-0.119667828083038,-0.083959393203259));
return max(float4(0,0,0,0), res);
}
