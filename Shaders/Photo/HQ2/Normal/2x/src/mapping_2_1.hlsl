sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.154441878199577,-0.063760228455067,-0.000342355109751,0.064845338463783,-0.057845696806908,0.032912347465754,-0.079372249543667,0.171184986829758,0.013394606299698,-0.032345242798328,-0.092255823314190,0.000557497492991,-0.003811795031652,-0.013804373331368,0.007656990550458,0.052511390298605));
res += mul(Get(s0,-dx,0), float4x4(-0.158797353506088,0.034333378076553,0.000193575266167,-0.020660260692239,-0.068484693765640,0.162897258996964,0.070671431720257,-0.030661638826132,-0.026350548490882,-0.043936606496572,0.085377886891365,-0.048944167792797,-0.038121007382870,-0.009205672889948,0.112116560339928,0.108792059123516));
res += mul(Get(s0,-dx,dy), float4x4(-0.148872628808022,-0.066245019435883,0.078274719417095,-0.075619548559189,0.066820509731770,-0.077367454767227,0.040113799273968,-0.082665175199509,-0.012418376281857,-0.052789214998484,0.020068308338523,-0.054728742688894,0.048757724463940,0.103206656873226,0.118067093193531,0.085088245570660));
res += mul(Get(s0,0,-dy), float4x4(-0.069152109324932,0.013427447527647,-0.005353869870305,-0.041012074798346,-0.032321184873581,-0.057738993316889,-0.015114628709853,0.099165566265583,0.032598264515400,-0.097090251743793,0.125591605901718,0.090653918683529,-0.009507799521089,0.124508202075958,-0.120349816977978,-0.177164852619171));
res += mul(Get(s0,0,0), float4x4(-0.166205853223801,0.166179627180099,-0.220413029193878,0.027207810431719,-0.115322999656200,0.168397143483162,0.002737755188718,0.073608323931694,-0.039395503699780,-0.021276332437992,-0.091102905571461,0.006822501309216,0.067549005150795,0.002912540221587,0.133109688758850,0.057512089610100));
res += mul(Get(s0,0,dy), float4x4(-0.029736543074250,0.066608391702175,-0.039653319865465,-0.198995277285576,0.000728781393263,0.036518335342407,0.009644021280110,-0.013017934747040,-0.090078376233578,-0.058583062142134,-0.009483318775892,0.129025146365166,-0.007288357708603,0.142618104815483,0.062093976885080,0.000862700806465));
res += mul(Get(s0,dx,-dy), float4x4(-0.028529012575746,0.086693853139877,0.000872213451657,0.055428743362427,0.017094764858484,-0.002378191100433,0.013649148866534,-0.049748819321394,-0.017590193077922,0.118013709783554,0.120361968874931,-0.087156169116497,-0.000442427117378,0.040696073323488,0.016097294166684,0.027974070981145));
res += mul(Get(s0,dx,0), float4x4(0.020922742784023,0.197815597057343,0.078870512545109,0.025328552350402,-0.033875249326229,0.042537361383438,0.021133700385690,0.017430463805795,0.004774609114975,0.007649833802134,0.114727482199669,0.018493562936783,-0.007628421764821,0.033055681735277,-0.021387394517660,-0.045809872448444));
res += mul(Get(s0,dx,dy), float4x4(0.023984424769878,0.098313413560390,0.116155281662941,0.069163195788860,0.056426130235195,-0.023524941876531,-0.046108409762383,-0.096889317035675,0.039447553455830,0.075710505247116,-0.066463112831116,-0.084486708045006,-0.076731026172638,0.186038658022881,-0.080028414726257,-0.138225764036179));
res += mul(Get(s1,-dx,-dy), float4x4(-0.077947735786438,0.128524929285049,0.007668221369386,0.074905946850777,-0.029587881639600,0.012385534122586,0.007316365838051,-0.174948006868362,0.081543922424316,-0.021191256120801,0.183818742632866,-0.085061602294445,-0.121496260166168,-0.122224226593971,-0.019247356802225,-0.041434533894062));
res += mul(Get(s1,-dx,0), float4x4(-0.080430738627911,0.076007969677448,-0.021423792466521,-0.042484570294619,0.074182383716106,-0.149445563554764,0.093931823968887,0.104054272174835,0.018127810209990,-0.077684342861176,0.009465215727687,0.094472646713257,-0.128083869814873,0.087190143764019,-0.037815310060978,0.056632492691278));
res += mul(Get(s1,-dx,dy), float4x4(0.149420022964478,0.033707570284605,0.193385377526283,-0.027604881674051,0.023701174184680,0.043378796428442,0.001519869547337,-0.026607792824507,0.019756468012929,0.006770802661777,0.015003698877990,0.029035739600658,0.035959437489510,0.202975511550903,0.046994518488646,-0.009266919456422));
res += mul(Get(s1,0,-dy), float4x4(-0.015153055079281,-0.045074533671141,0.016182752326131,0.013027322478592,0.188409507274628,0.060985770076513,-0.008706316351891,0.115157626569271,-0.020325869321823,0.149470344185829,-0.102303937077522,-0.195647284388542,-0.132561579346657,-0.130306169390678,0.033422693610191,-0.000441443233285));
res += mul(Get(s1,0,0), float4x4(0.078731991350651,-0.009529064409435,-0.014752009883523,0.211641594767570,-0.004115601535887,-0.078276932239532,-0.046998739242554,-0.073776088654995,-0.013962822034955,0.032723285257816,0.056733425706625,-0.086408153176308,-0.142395973205566,-0.177620768547058,-0.119995594024658,-0.006736646406353));
res += mul(Get(s1,0,dy), float4x4(0.029183739796281,0.152496725320816,-0.001077940571122,0.191180869936943,-0.130004063248634,-0.021450126543641,-0.047380510717630,-0.077692106366158,-0.012989039532840,0.036123074591160,-0.110542982816696,0.244372501969337,0.048999458551407,-0.006004080642015,-0.051029618829489,-0.080267451703548));
res += mul(Get(s1,dx,-dy), float4x4(0.155030891299248,-0.169228002429008,-0.054160285741091,-0.110015437006950,0.035602882504463,-0.101683750748634,0.132716178894043,0.192632392048836,-0.242467001080513,-0.096499338746071,-0.078588858246803,-0.007154799997807,-0.062534421682358,0.070283435285091,-0.147878244519234,0.080646708607674));
res += mul(Get(s1,dx,0), float4x4(0.077556453645229,-0.052994109690189,0.172181963920593,-0.039657052606344,-0.076485075056553,0.136102691292763,0.062561348080635,0.049133788794279,0.023883381858468,0.017631964758039,0.102498888969421,-0.169968873262405,0.096873663365841,-0.002896513091400,0.031581010669470,-0.032579693943262));
res += mul(Get(s1,dx,dy), float4x4(-0.102692969143391,-0.015839885920286,0.052803337574005,0.082527182996273,0.004063566215336,0.031401395797729,0.006859222892672,-0.026043420657516,0.077347382903099,0.073874838650227,0.040521636605263,-0.072605922818184,-0.121030300855637,-0.010546801611781,-0.099426850676537,-0.037700764834881));
res += mul(Get(s2,-dx,-dy), float4x4(-0.070873551070690,-0.021671297028661,0.068713627755642,0.006802211981267,0.034841254353523,0.061928678303957,0.148682847619057,-0.132445603609085,0.286446392536163,0.108369067311287,0.029732150956988,0.032450575381517,-0.004705085419118,0.053364485502243,0.065068371593952,0.025403562933207));
res += mul(Get(s2,-dx,0), float4x4(-0.006713204085827,-0.106393694877625,-0.057506017386913,0.009580165147781,0.090932227671146,-0.072014667093754,0.062710411846638,0.147713080048561,-0.024893024936318,-0.028367068618536,0.165044158697128,0.070446707308292,0.212075561285019,0.159206315875053,-0.067972086369991,-0.093211784958839));
res += mul(Get(s2,-dx,dy), float4x4(0.034712035208941,-0.141052290797234,-0.057802572846413,-0.020426195114851,-0.188881278038025,-0.029865980148315,0.013186078518629,0.014384703710675,0.034954603761435,-0.066384218633175,0.045565690845251,-0.062647923827171,0.036759234964848,-0.097876742482185,0.002457166323438,-0.026599884033203));
res += mul(Get(s2,0,-dy), float4x4(0.015869267284870,0.099417954683304,0.202477946877480,0.001212362665683,0.150793313980103,0.003301051212475,-0.032188661396503,-0.097349829971790,0.021529933437705,0.010198909789324,-0.068647742271423,-0.121507242321968,0.037207577377558,-0.029423059895635,0.056424997746944,0.070119485259056));
res += mul(Get(s2,0,0), float4x4(-0.009101088158786,0.007226477377117,0.151626303792000,0.179567545652390,-0.052628215402365,0.161189481616020,0.137245327234268,0.006154163274914,0.098541118204594,-0.014744012616575,0.029121741652489,-0.010469337925315,-0.070150665938854,-0.141227707266808,0.107628554105759,0.202507272362709));
res += mul(Get(s2,0,dy), float4x4(-0.022913351655006,-0.104938216507435,-0.093539744615555,0.057529721409082,0.109781652688980,0.035224232822657,0.072391204535961,-0.123577326536179,0.082633279263973,0.060612399131060,-0.098708666861057,-0.065329864621162,-0.109859190881252,0.076427742838860,-0.073536306619644,-0.029877377673984));
res += mul(Get(s2,dx,-dy), float4x4(-0.061970338225365,0.085157722234726,0.106791459023952,-0.064444467425346,0.129620611667633,-0.032626755535603,-0.056941557675600,0.048239827156067,-0.083379924297333,0.070426069200039,0.196098163723946,0.034059222787619,0.066403657197952,0.001112111029215,-0.014408650808036,0.116636045277119));
res += mul(Get(s2,dx,0), float4x4(0.021262494847178,-0.117925815284252,0.171666264533997,-0.094035677611828,-0.122374109923840,-0.020167805254459,0.035208713263273,-0.017854539677501,-0.040562376379967,0.082809180021286,-0.113817930221558,-0.154300406575203,-0.016554765403271,-0.024678800255060,-0.037756603211164,-0.071977518498898));
res += mul(Get(s2,dx,dy), float4x4(-0.045201417058706,-0.014677499420941,-0.068917401134968,-0.022237574681640,0.014876368455589,-0.025567201897502,-0.052848469465971,0.002766725374386,0.023075582459569,0.050976194441319,-0.049467910081148,0.074592061340809,0.054235972464085,-0.143771693110466,-0.006620382424444,0.016701143234968));
res += mul(Get(s3,-dx,-dy), float4x4(-0.068544358015060,0.015224765054882,0.042544424533844,-0.016948435455561,0.074828751385212,-0.036752734333277,-0.045494928956032,0.045115098357201,0.057923261076212,-0.009489255957305,-0.114620245993137,-0.119470469653606,-0.072111286222935,-0.104202531278133,-0.175881773233414,-0.009873645380139));
res += mul(Get(s3,-dx,0), float4x4(0.075154408812523,-0.021676501259208,-0.049341529607773,0.028114115819335,-0.111039295792580,-0.055555533617735,-0.049290131777525,-0.050340522080660,-0.043816037476063,0.061912827193737,0.013939749449492,-0.011552285403013,-0.155072122812271,-0.042092539370060,0.096267849206924,0.030669769272208));
res += mul(Get(s3,-dx,dy), float4x4(-0.151627838611603,-0.113331124186516,0.066527977585793,-0.041802339255810,0.083472631871700,0.029926599934697,0.060858279466629,-0.012626564130187,0.008753725327551,0.054887745529413,0.018644897267222,-0.009827479720116,-0.044136881828308,0.027551935985684,-0.279242277145386,-0.004652622155845));
res += mul(Get(s3,0,-dy), float4x4(0.131225436925888,-0.096829667687416,0.042104505002499,-0.118905134499073,0.208552226424217,0.087417803704739,-0.064143493771553,0.067369490861893,-0.019802851602435,0.031928762793541,0.136007592082024,-0.026435395702720,0.012129457667470,-0.093543447554111,0.004244022537023,-0.045814782381058));
res += mul(Get(s3,0,0), float4x4(0.070775277912617,-0.063663162291050,-0.039395511150360,-0.020568670704961,-0.068569593131542,-0.039971355348825,-0.032491922378540,0.025977179408073,-0.123390749096870,0.066262856125832,0.047747597098351,-0.070075795054436,-0.091352656483650,0.040126964449883,-0.128418773412704,0.080664962530136));
res += mul(Get(s3,0,dy), float4x4(0.008900970220566,-0.020910544320941,0.023850543424487,0.032805293798447,0.007168984506279,-0.038081515580416,0.088061735033989,-0.106949165463448,-0.241576537489891,0.125260576605797,-0.019599860534072,-0.138679832220078,0.040668711066246,0.026432178914547,-0.017890229821205,-0.097747214138508));
res += mul(Get(s3,dx,-dy), float4x4(-0.096893280744553,-0.138044744729996,0.081409737467766,-0.043207321316004,-0.081270635128021,-0.113281585276127,0.123204149305820,0.113660797476768,-0.004866382107139,0.048030458390713,0.048843551427126,0.252426773309708,-0.022588470950723,0.007379237096757,0.114058941602707,0.162122145295143));
res += mul(Get(s3,dx,0), float4x4(-0.032590046525002,-0.012933888472617,0.080615028738976,-0.017899194732308,-0.173458263278008,-0.085918344557285,0.097784884274006,-0.056011755019426,-0.039774466305971,0.037864428013563,0.058284901082516,0.126130193471909,-0.007282002829015,0.024456588551402,-0.049242977052927,-0.148983135819435));
res += mul(Get(s3,dx,dy), float4x4(0.021609894931316,0.051450870931149,0.057196974754333,0.030325500294566,0.088129028677940,0.050212152302265,0.169784709811211,-0.057487122714520,-0.049067448824644,-0.002325968816876,0.022649969905615,-0.029198599979281,-0.115289323031902,0.000800011272077,0.157442390918732,-0.025373574346304));
return max(float4(0,0,0,0), res);
}
