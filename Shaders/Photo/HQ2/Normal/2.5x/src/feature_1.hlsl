sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.114773690700531,0.069176025688648,-0.131370693445206,-0.010229981504381) * Get(-dx,-dy);
res += float4(-0.183048069477081,0.170019283890724,-0.126447707414627,0.181044965982437) * Get(-dx,0);
res += float4(-0.156713724136353,0.063089698553085,0.072506763041019,-0.022036353126168) * Get(-dx,dy);
res += float4(-0.009429822675884,-0.078876145184040,-0.099202290177345,-0.054582983255386) * Get(0,-dy);
res += float4(0.026381893083453,-0.182297602295876,-0.078462496399879,0.266254127025604) * Get(0,0);
res += float4(-0.043158296495676,-0.027622275054455,0.140867084264755,0.052346341311932) * Get(0,dy);
res += float4(0.139796271920204,0.041416533291340,-0.022839605808258,-0.037579011172056) * Get(dx,-dy);
res += float4(0.294091820716858,0.012503703124821,0.014075072482228,-0.008882282301784) * Get(dx,0);
res += float4(0.111918918788433,0.033323474228382,0.157245844602585,-0.108125269412994) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
