sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.023909945040941,0.023750409483910,0.044473052024841,0.180930763483047) * Get(-dx,-dy);
res += float4(-0.035524506121874,0.171115443110466,0.130010694265366,-0.246804535388947) * Get(-dx,0);
res += float4(-0.089049570262432,-0.009041424840689,0.019574798643589,0.062801845371723) * Get(-dx,dy);
res += float4(-0.136847853660583,-0.200078040361404,-0.021230395883322,0.441422820091248) * Get(0,-dy);
res += float4(0.455381661653519,-0.273160904645920,0.003835671581328,-0.246508568525314) * Get(0,0);
res += float4(0.302779704332352,-0.171736240386963,-0.068887107074261,-0.012820711359382) * Get(0,dy);
res += float4(-0.053331919014454,0.162234142422676,-0.065857358276844,0.118877977132797) * Get(dx,-dy);
res += float4(0.037019513547421,0.411291301250458,-0.071367129683495,-0.154427185654640) * Get(dx,0);
res += float4(-0.143393427133560,0.131842449307442,-0.075395397841930,0.016488751396537) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
