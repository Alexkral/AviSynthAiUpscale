sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.004029726143926,0.051041357219219,0.020682770758867,0.000141527212691,0.015914356335998,-0.000416971684899,-0.001234240946360,0.057087626308203,-0.000483874260681,0.000490433594678,0.000545732793398,-0.000997395487502,0.004797921981663,0.042257480323315,0.017825730144978,-0.012998180463910));
res += mul(Get(s0,-dx,0), float4x4(-0.001454974873923,0.005965917836875,-0.004559756256640,-0.019567267969251,0.001738013001159,0.034619282931089,-0.019486803561449,0.032399516552687,0.000472734769573,-0.000815132108983,-0.000311295792926,0.000129302119603,0.005894429516047,0.004528533667326,-0.018133331090212,-0.005835430696607));
res += mul(Get(s0,-dx,dy), float4x4(0.006893523968756,0.023304929956794,-0.064943678677082,-0.015395715832710,-0.008161664940417,0.007146713323891,-0.022073939442635,0.030285013839602,0.001308303908445,0.000920942344237,0.000505836389493,0.000268653122475,0.010766871273518,-0.027862440794706,0.010942900553346,-0.005735549610108));
res += mul(Get(s0,0,-dy), float4x4(0.010363828390837,-0.027744051069021,0.053513400256634,-0.013360355980694,0.011954075656831,0.073093734681606,-0.012884261086583,0.089804463088512,0.000912159972358,0.000018737406208,-0.000052329898608,0.000055119406170,0.007729386910796,0.028152279555798,0.018001860007644,-0.018522793427110));
res += mul(Get(s0,0,0), float4x4(-0.005953852552921,-0.024782693013549,0.004470745567232,-0.038559537380934,-0.001828364911489,0.059090204536915,0.065189898014069,0.018060803413391,0.001221359008923,0.000039381997340,-0.000456002162537,0.000834392500110,0.005030862987041,0.014574365690351,-0.028530761599541,-0.006975938100368));
res += mul(Get(s0,0,dy), float4x4(-0.000600403465796,-0.026246618479490,-0.067137598991394,-0.023358687758446,-0.013301777653396,0.026092922315001,0.018501568585634,0.004695614334196,0.000437506765593,-0.000928455905523,0.000741070020013,-0.000547721923795,0.007895416580141,0.009280780330300,-0.021766548976302,-0.002674007555470));
res += mul(Get(s0,dx,-dy), float4x4(0.008951717056334,0.041016921401024,0.025401555001736,0.009047558531165,0.007515996694565,0.050889611244202,0.000708026578650,0.011812766082585,-0.000314990844345,-0.000570808420889,0.000412935158238,0.000629894086160,0.003495407523587,-0.001110693439841,0.051416870206594,-0.013292197138071));
res += mul(Get(s0,dx,0), float4x4(-0.000782632327173,-0.005410700105131,-0.016155641525984,-0.010836868546903,-0.003629066515714,0.087528049945831,0.042022161185741,-0.012112558819354,0.000076984986663,0.000710129679646,0.000964350998402,-0.000133524401463,-0.002704447600991,0.024676773697138,-0.004820204339921,-0.020066360011697));
res += mul(Get(s0,dx,dy), float4x4(0.000532730016857,0.012033819220960,-0.022614123299718,-0.022302892059088,-0.008982600644231,-0.008848692290485,0.003416111692786,0.011172967031598,-0.000755120185204,0.000569335126784,-0.000198081979761,0.000118982410640,-0.001256354502402,-0.009706149809062,0.001535881543532,-0.016650110483170));
res += mul(Get(s1,-dx,-dy), float4x4(0.000748115940951,-0.003392413025722,-0.001743848551996,-0.003167330287397,0.004623405169696,0.023626040667295,-0.009417766705155,-0.010413158684969,-0.010249450802803,0.013616209849715,0.026326732710004,-0.033458147197962,-0.020451972261071,-0.053590640425682,0.063871152698994,-0.088405959308147));
res += mul(Get(s1,-dx,0), float4x4(0.041061464697123,0.007640377618372,-0.017305910587311,0.017894066870213,-0.000601706386078,-0.009096472524107,-0.064393639564514,-0.012769536115229,0.012520874850452,0.022749671712518,-0.023980733007193,-0.016106545925140,0.009608139283955,-0.047992713749409,0.019751260057092,-0.048440806567669));
res += mul(Get(s1,-dx,dy), float4x4(0.009490655735135,0.052761863917112,0.026773877441883,0.005753649398685,0.035269010812044,-0.038699410855770,0.009015758521855,-0.018786812201142,-0.014667725190520,-0.044762019068003,-0.021671328693628,0.004259114153683,-0.044662322849035,0.022042905911803,0.001300171250477,0.042404275387526));
res += mul(Get(s1,0,-dy), float4x4(0.000727478414774,0.003157611005008,-0.003294043708593,-0.002136653056368,0.011116363108158,0.064388893544674,-0.001149413059466,0.004732297733426,0.002911192132160,0.088243216276169,0.090134054422379,-0.028899602591991,0.009685310535133,0.150181919336319,0.057262837886810,-0.056842993944883));
res += mul(Get(s1,0,0), float4x4(0.051742471754551,0.012582187540829,-0.013995919376612,0.019741656258702,0.002533905673772,-0.033907160162926,-0.055031664669514,-0.003473853226751,0.023024659603834,0.118664309382439,0.012538200244308,-0.008237506262958,0.026576885953546,0.214419662952423,-0.074665419757366,-0.006540803238750));
res += mul(Get(s1,0,dy), float4x4(0.006624418310821,0.088464230298996,0.004334217868745,0.007699011359364,0.025325402617455,-0.022620111703873,0.006799545139074,-0.011471092700958,-0.014775645919144,-0.053626976907253,-0.016935113817453,0.032142579555511,-0.033324472606182,0.000844057183713,-0.056787520647049,0.064650520682335));
res += mul(Get(s1,dx,-dy), float4x4(0.000236308187596,-0.000028306318200,-0.006784688215703,-0.002789179095998,0.008616817183793,0.022816374897957,0.035894837230444,-0.000032613083022,0.000822642003186,-0.004992326255888,-0.026631938293576,0.009977122768760,0.005052765365690,-0.035424973815680,-0.038651913404465,0.054053395986557));
res += mul(Get(s1,dx,0), float4x4(0.045142382383347,-0.000169252918568,-0.020669890567660,0.023226212710142,0.007085172925144,-0.003054340137169,-0.035999201238155,0.006204152014107,0.008584566414356,-0.072850205004215,-0.019946593791246,0.001691770972684,0.005210334900767,-0.132002741098404,0.003471364732832,-0.000020708248485));
res += mul(Get(s1,dx,dy), float4x4(0.005597455427051,0.070150509476662,0.008267032913864,0.007188152987510,0.004388483706862,-0.017722899094224,0.053451642394066,-0.019648855552077,-0.012703433632851,0.023217005655169,-0.012732332572341,-0.019360706210136,-0.039252746850252,0.002148565370589,0.050852924585342,-0.032354190945625));
res += mul(Get(s2,-dx,-dy), float4x4(0.002336066449061,0.060164775699377,-0.004745984915644,-0.005576645955443,-0.063841037452221,0.039606250822544,0.112429074943066,-0.127103328704834,0.012045958079398,-0.024701908230782,0.012496802024543,-0.019548187032342,0.013960300944746,0.040462940931320,-0.004838601686060,0.015792386606336));
res += mul(Get(s2,-dx,0), float4x4(0.021417209878564,0.027202200144529,-0.000994704547338,-0.029175665229559,0.068630948662758,-0.136358544230461,-0.041844744235277,-0.095467261970043,0.043475624173880,0.016042159870267,-0.014626065269113,-0.056086368858814,0.040561150759459,-0.019939569756389,0.025836592540145,-0.016480166465044));
res += mul(Get(s2,-dx,dy), float4x4(0.001481886487454,0.019066067412496,0.003291260218248,0.014517211355269,-0.064827352762222,0.056695889681578,-0.016717007383704,0.094985008239746,0.009457336738706,-0.024300787597895,0.030556591227651,-0.023167869076133,0.014502091333270,0.010426985099912,0.033163122832775,-0.017028206959367));
res += mul(Get(s2,0,-dy), float4x4(0.003614043118432,0.056327167898417,-0.018762186169624,-0.015147265978158,-0.029433058574796,-0.096351869404316,0.328498095273972,-0.217739105224609,0.000414668815210,0.008849812671542,0.105215802788734,-0.009549093432724,-0.006684354040772,-0.072578094899654,0.017332552000880,0.003844758030027));
res += mul(Get(s2,0,0), float4x4(0.023901259526610,0.006306919734925,-0.002357113873586,-0.042903210967779,0.111922621726990,0.614244699478149,-0.044153701514006,-0.107553236186504,0.027880620211363,-0.032114978879690,0.003830054309219,-0.002875339472666,0.026285905390978,-0.061945166438818,-0.012231061235070,0.003026131540537));
res += mul(Get(s2,0,dy), float4x4(0.000690255255904,-0.001984806731343,0.007314450573176,0.003933597821742,-0.080175146460533,-0.227107182145119,-0.107728838920593,0.196523651480675,-0.011224292218685,0.002589631127194,0.018527965992689,0.037325188517570,-0.000755848246627,-0.040183454751968,0.005002316087484,-0.002807964337990));
res += mul(Get(s2,dx,-dy), float4x4(0.005410824902356,0.026451896876097,-0.028551856055856,-0.012225349433720,-0.020874693989754,0.015780886635184,-0.023211332038045,-0.015733359381557,0.011558429338038,0.063602760434151,0.048473276197910,-0.029666582122445,-0.003944170195609,0.057046275585890,0.039728201925755,-0.015423417091370));
res += mul(Get(s2,dx,0), float4x4(0.021515730768442,-0.010254033841193,-0.000745405966882,-0.041647490113974,0.051275685429573,-0.204666167497635,-0.032553970813751,-0.031508922576904,0.018476437777281,0.103754594922066,-0.029384454712272,-0.009934091009200,0.019689317792654,0.174134641885757,-0.004551280755550,0.012111932039261));
res += mul(Get(s2,dx,dy), float4x4(0.001989459386095,0.002465497935191,0.002289448631927,0.008460539393127,-0.095587298274040,0.107060514390469,0.057696707546711,-0.022776840254664,-0.012921038083732,0.000039063219447,-0.039264064282179,0.030536040663719,-0.008201062679291,0.082334361970425,-0.070462338626385,0.052227411419153));
res += mul(Get(s3,-dx,-dy), float4x4(0.000126640166854,0.036607235670090,0.010517307557166,0.001041154609993,0.024110747501254,0.031325690448284,-0.013295879587531,0.053090531378984,0.008702769875526,-0.025052092969418,0.010912983678281,0.005582165438682,0.057529352605343,0.036165069788694,-0.170252740383148,0.097944229841232));
res += mul(Get(s3,-dx,0), float4x4(0.002235364867374,0.002252043457702,0.005498552229255,-0.004860817920417,0.022144131362438,0.082134447991848,0.038498405367136,-0.010031994432211,-0.000650625152048,0.002400559373200,-0.004602973815054,0.009715197607875,-0.008522220887244,0.003419493092224,-0.113608710467815,0.083158865571022));
res += mul(Get(s3,-dx,dy), float4x4(0.007010153960437,-0.004700326826423,-0.003702707123011,-0.003452676348388,0.010587845928967,0.018212692812085,0.017956405878067,0.000226601958275,-0.000185389639228,-0.014084985479712,0.012506178580225,0.017260814085603,-0.013397179543972,0.020033588632941,0.051190499216318,0.064524799585342));
res += mul(Get(s3,0,-dy), float4x4(0.001466804649681,-0.080040432512760,0.021618094295263,-0.018985051661730,0.010168120265007,0.029007671400905,-0.032649837434292,0.044849287718534,0.008977768011391,0.001590431667864,0.006974534131587,0.020060550421476,0.039223719388247,0.020610010251403,-0.257757127285004,0.147791057825089));
res += mul(Get(s3,0,0), float4x4(0.002168286126107,-0.024658693000674,0.011197533458471,-0.021850029006600,0.008538201451302,0.039965454488993,-0.019012873992324,0.006927985697985,0.000184517353773,0.017417194321752,0.006814876105636,0.003014818066731,-0.041392289102077,-0.021790992468596,-0.211732119321823,0.125128015875816));
res += mul(Get(s3,0,dy), float4x4(0.009789071977139,-0.012572582811117,0.002067301888019,-0.008819234557450,-0.006453706882894,0.024403650313616,0.018463488668203,-0.019574463367462,-0.000419836957008,0.000404317455832,0.017235275357962,-0.002983201062307,-0.020591145381331,0.036983095109463,0.006406907457858,0.060924999415874));
res += mul(Get(s3,dx,-dy), float4x4(-0.000517610053066,0.013113319873810,0.007982763461769,0.006473512388766,0.010301072150469,-0.023843042552471,-0.041190214455128,0.003119053784758,0.005089911166579,0.009502366185188,-0.014585283584893,0.008896759711206,0.008369941264391,0.024281881749630,-0.015652151778340,0.028583770617843));
res += mul(Get(s3,dx,0), float4x4(0.002742673503235,-0.009916602633893,-0.015741357579827,-0.003631737316027,0.008928776718676,-0.036248240619898,-0.016536019742489,0.031938679516315,0.001022728509270,0.025870487093925,0.003717908635736,-0.002097220392898,-0.044230125844479,-0.037745334208012,0.035527259111404,-0.040035001933575));
res += mul(Get(s3,dx,dy), float4x4(0.009752211160958,-0.021799135953188,0.004333951976150,-0.004598468076438,-0.007264916319400,-0.033200629055500,-0.007119946647435,0.037535063922405,-0.000570922798943,-0.000003687564458,0.003390318481252,0.004590043798089,-0.028414543718100,0.024859910830855,0.048204470425844,0.066474661231041));
return max(float4(0,0,0,0), res);
}
