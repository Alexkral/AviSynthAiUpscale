sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020166732370853,0.009387921541929,0.005113025661558,-0.042221955955029,-0.005056451540440,0.042726434767246,0.008102263323963,0.011601014062762,-0.016300886869431,0.032568860799074,0.019766585901380,-0.018745327368379,-0.014985932968557,-0.049013018608093,0.022701019421220,0.081510253250599));
res += mul(Get(s0,-dx,0), float4x4(0.002914795884863,0.101245887577534,0.051518004387617,-0.043952394276857,-0.001136372680776,0.045171275734901,0.007206395734102,-0.001486619585194,0.000838548061438,-0.009883970022202,0.013743246905506,-0.028873436152935,0.021043431013823,0.005005888175219,0.058978851884604,0.104649387300014));
res += mul(Get(s0,-dx,dy), float4x4(0.000488743884489,0.037137310951948,0.068736985325813,-0.012296499684453,0.005062969867140,0.072899870574474,0.010600010864437,-0.002035360317677,-0.009230010211468,-0.001153986086138,0.029739042744040,-0.000025887269658,-0.007102762814611,-0.022650087252259,0.016625862568617,0.030780708417296));
res += mul(Get(s0,0,-dy), float4x4(-0.018609024584293,-0.026380492374301,-0.047303307801485,-0.030858002603054,-0.004030817653984,0.015808202326298,0.011643070727587,0.043637547641993,-0.016215646639466,0.017972605302930,-0.011566084809601,-0.016534483060241,-0.022518459707499,0.020586322993040,-0.016491640359163,-0.013513371348381));
res += mul(Get(s0,0,0), float4x4(0.015031799674034,-0.023355612531304,-0.056699000298977,-0.049122598022223,-0.002049654955044,-0.105317793786526,0.014878366142511,0.063447743654251,0.003753328695893,-0.003006640588865,-0.030636698007584,-0.018124513328075,0.033557496964931,0.113130860030651,0.038705307990313,0.000422483746661));
res += mul(Get(s0,0,dy), float4x4(0.015243524685502,-0.014111846685410,-0.032834082841873,-0.002122190780938,0.003952901344746,-0.016859842464328,0.005837589967996,0.030502498149872,-0.007183990441263,0.045489769428968,0.003651725361124,0.028818769380450,-0.006590600591153,-0.054554454982281,0.002582064596936,-0.007311257533729));
res += mul(Get(s0,dx,-dy), float4x4(0.011097837239504,0.021072128787637,-0.046560831367970,0.022587474435568,-0.006549109239131,-0.010115350596607,-0.010051771067083,-0.036883287131786,0.002378107514232,-0.010996544733644,-0.016174649819732,0.021600071340799,-0.034847408533096,-0.020837428048253,-0.042452901601791,-0.018149038776755));
res += mul(Get(s0,dx,0), float4x4(0.042630612850189,0.029915707185864,-0.063301406800747,0.005138834007084,-0.005631151143461,0.090799488127232,-0.005292043555528,-0.021538371220231,0.017615988850594,0.005848908796906,-0.031424358487129,0.018090907484293,0.028369417414069,0.074743650853634,-0.028491375967860,-0.050884041935205));
res += mul(Get(s0,dx,dy), float4x4(0.042586948722601,0.014433975331485,-0.027420492842793,0.006592126563191,-0.002796618267894,-0.006627159193158,-0.008858627639711,-0.026647457852960,0.001795088872313,0.066464796662331,0.011568317189813,0.038995601236820,-0.012127397581935,0.008038234896958,-0.042412653565407,-0.021075852215290));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023462859913707,-0.070330031216145,0.057810485363007,0.120944201946259,-0.026716642081738,0.015616641379893,0.020572340115905,-0.017059452831745,-0.002336246194318,0.033989954739809,0.011743802577257,0.011349957436323,-0.001019759802148,0.068359650671482,0.059096511453390,0.035159673541784));
res += mul(Get(s1,-dx,0), float4x4(0.024620953947306,0.016722114756703,0.101469926536083,0.115613102912903,0.017592819407582,0.152221456170082,0.059103280305862,-0.015774685889482,0.002242797520012,0.008280913345516,0.028737468644977,0.023969095200300,-0.009912963956594,-0.067744128406048,0.003531233640388,0.017284093424678));
res += mul(Get(s1,-dx,dy), float4x4(-0.015333467163146,-0.021129287779331,0.045560691505671,0.051632896065712,-0.003299024654552,0.018627729266882,0.053584333509207,-0.001457759761252,0.000800463894848,0.009142994880676,0.009431253187358,0.002642796142027,0.035894822329283,0.052662041038275,0.037941489368677,0.026261515915394));
res += mul(Get(s1,0,-dy), float4x4(-0.041367895901203,0.135701298713684,-0.015169016085565,-0.066411904990673,-0.017184358090162,-0.043566506356001,-0.020402822643518,0.077275574207306,-0.002787032863125,-0.028636217117310,-0.008244440890849,-0.018883427605033,-0.004174494184554,0.038080967962742,0.005375991109759,-0.023860206827521));
res += mul(Get(s1,0,0), float4x4(0.036121211946011,0.226222902536392,0.016322517767549,-0.067953884601593,0.038192961364985,-0.151957690715790,0.013321362435818,0.082958064973354,0.002684406936169,-0.000925197731704,0.010536165907979,0.008720605634153,-0.020637823268771,-0.108559601008892,-0.052649632096291,-0.046495776623487));
res += mul(Get(s1,0,dy), float4x4(-0.015433900058270,-0.137949496507645,-0.003767048241571,-0.020114265382290,0.011519297026098,-0.089146360754967,0.015882378444076,0.059164460748434,0.004200353752822,-0.000102647049061,0.002084085950628,0.001494343508966,0.045049134641886,0.250763952732086,0.002609468298033,-0.036934096366167));
res += mul(Get(s1,dx,-dy), float4x4(-0.037680819630623,-0.042670086026192,-0.051748108118773,-0.001941514434293,-0.006447062361985,-0.000999319599941,-0.089903734624386,-0.021639529615641,-0.002133149653673,0.006668113172054,-0.004843785427511,0.000560081680305,-0.005025045946240,0.101607695221901,-0.041198994964361,0.003211885457858));
res += mul(Get(s1,dx,0), float4x4(0.041500158607960,-0.054175738245249,-0.056944210082293,-0.034966528415680,0.051103703677654,0.169490829110146,-0.073383241891861,-0.049281481653452,0.005650246981531,0.045610435307026,0.008439104072750,0.001066535362042,-0.019952962175012,-0.075238265097141,-0.063789598643780,0.008060118183494));
res += mul(Get(s1,dx,dy), float4x4(-0.010032557882369,0.069149367511272,-0.053192205727100,-0.030095027759671,0.024998307228088,0.015204026363790,-0.045114938169718,-0.043326959013939,0.004219339694828,0.038725212216377,0.007710106670856,0.011929969303310,0.044389482587576,0.095235317945480,-0.021618114784360,-0.018845601007342));
res += mul(Get(s2,-dx,-dy), float4x4(0.000257774285274,-0.000034084096114,0.000079464953160,0.000077012904512,0.000550239637960,-0.003062441013753,0.003033782122657,0.002397793112323,-0.007110692560673,-0.030726071447134,0.030243119224906,0.030886456370354,-0.021417627111077,0.034009650349617,0.021030450239778,0.026463706046343));
res += mul(Get(s2,-dx,0), float4x4(-0.000048675465223,0.000284684181679,-0.000822256493848,0.000267435476417,-0.000081212201621,0.004618563223630,0.001094877137803,-0.000512948317919,0.001446482492611,0.047105580568314,0.035747427493334,0.047661278396845,-0.020316857844591,-0.050483211874962,0.016455112025142,0.007977903820574));
res += mul(Get(s2,-dx,dy), float4x4(0.000001882945526,0.000176775356522,0.000086098014435,0.000376452982891,0.000733082881197,-0.001448082621209,0.000215478896280,-0.001186740817502,0.003269766923040,-0.081715486943722,0.030426619574428,0.044970426708460,0.000506782031152,0.125715404748917,0.022348167374730,0.038831278681755));
res += mul(Get(s2,0,-dy), float4x4(-0.000562068307772,-0.000428877567174,-0.000235459054238,0.000008338106454,-0.000583567190915,0.001184652443044,0.002293719444424,0.000625875953119,-0.011390832252800,0.059656444936991,-0.023882662877440,-0.053735829889774,-0.023823115974665,0.187964946031570,0.022574525326490,0.008371117524803));
res += mul(Get(s2,0,0), float4x4(0.000192377628991,0.000062712279032,0.000112207300845,-0.000442604505224,-0.000312659249175,0.001626864774153,-0.000908299058210,-0.000351072172634,-0.001190502429381,-0.101103000342846,0.005155156832188,-0.025987779721618,-0.026562722399831,-0.175505846738815,0.007778266910464,0.025897508487105));
res += mul(Get(s2,0,dy), float4x4(0.000643736450002,0.000220774702029,0.000044715510739,-0.000062198880187,0.000947073625866,-0.002659565536305,0.000544760492630,-0.000414539710619,0.006462946999818,0.174432396888733,-0.000739566399716,-0.040319997817278,-0.001086201635189,0.061440218240023,-0.009268361143768,0.011735952459276));
res += mul(Get(s2,dx,-dy), float4x4(-0.000096571951872,0.000584502122365,-0.000122691752040,-0.000945012783632,-0.001045182114467,0.003731182077900,0.001051047001965,0.000562442117371,-0.010894335806370,-0.043547242879868,-0.035597231239080,0.003933571744710,-0.019073082134128,0.023921007290483,-0.006079567596316,-0.042402926832438));
res += mul(Get(s2,dx,0), float4x4(0.000860654632561,0.000312513468089,0.000118914111226,0.000068591667514,0.000020668405341,-0.001252065296285,-0.000709377054591,0.000321695988532,-0.000090616151283,0.103730455040932,-0.018551256507635,0.006076440215111,-0.023869806900620,-0.060983244329691,-0.012037537060678,0.007068890612572));
res += mul(Get(s2,dx,dy), float4x4(-0.000169987033587,0.000215700798435,0.000120389180665,0.000501487229485,0.000395507784560,-0.000010049965567,0.000820607529022,0.000737358175684,0.005324481520802,-0.066172778606415,-0.008508008904755,-0.007080982904881,-0.007103821728379,0.091365344822407,-0.034919846802950,-0.061353869736195));
res += mul(Get(s3,-dx,-dy), float4x4(-0.004757787100971,0.012512604705989,0.023131115362048,-0.012318655848503,0.000061302242102,0.000083800608991,0.002537715248764,0.003017558483407,-0.000031663734262,-0.000162934666150,-0.000920294784009,0.000626923225354,-0.030855184420943,0.093173436820507,0.064379341900349,0.152179837226868));
res += mul(Get(s3,-dx,0), float4x4(-0.011161199770868,0.002950451103970,0.027779221534729,0.015755249187350,-0.000476059096400,-0.001560395234264,0.001927979174070,0.000113457128464,0.000090526351414,0.000105017657916,-0.000334842421580,-0.000223393828492,0.036685604602098,-0.293296486139297,0.180220648646355,0.283938795328140));
res += mul(Get(s3,-dx,dy), float4x4(0.020432043820620,0.067167587578297,0.050610475242138,0.015639930963516,0.000277297425782,0.002331490628421,0.000817956693936,0.001128129544668,0.000085971529188,-0.000104369144537,-0.000008995729331,-0.000631822447758,-0.017396910116076,0.120580263435841,0.060511510819197,0.057568151503801));
res += mul(Get(s3,0,-dy), float4x4(-0.010277597233653,0.039857011288404,-0.023589851334691,-0.037719998508692,0.000162040334544,0.008384366519749,0.000841588713229,-0.001862663542852,-0.000342396786436,-0.000679221644532,-0.000288916606223,-0.000148163060658,-0.055005427449942,-0.183635458350182,-0.055819354951382,-0.107242882251740));
res += mul(Get(s3,0,0), float4x4(-0.018968727439642,-0.010316974483430,-0.045169360935688,-0.046707425266504,-0.000717612449080,-0.010593806393445,-0.000048163441534,-0.000998310861178,-0.000415110902395,-0.000011293510397,-0.000130103086121,0.000008866197277,0.059174124151468,0.717010080814362,0.061650194227695,-0.045164171606302));
res += mul(Get(s3,0,dy), float4x4(0.027535751461983,0.102126844227314,-0.010498288087547,-0.031171020120382,0.001052042935044,0.009992081671953,-0.000253857171629,-0.001581979566254,0.000634436553810,-0.000098118332971,-0.000199868329219,0.000266550370725,-0.018748199567199,-0.246073529124260,0.014967203140259,-0.079641893506050));
res += mul(Get(s3,dx,-dy), float4x4(-0.001682442263700,0.028980381786823,-0.022417351603508,0.031888853758574,-0.000441332551418,0.004949176218361,-0.000072862210800,0.000114760063298,-0.000138637900818,0.000295481062494,-0.000282236316707,-0.000259874126641,-0.060554523020983,-0.030475445091724,-0.126654773950577,-0.039755728095770));
res += mul(Get(s3,dx,0), float4x4(-0.003661518683657,-0.001037631882355,-0.052837681025267,0.002986236708239,-0.000275526836049,-0.000419057090767,-0.001325539080426,0.001295189489610,0.000113219510240,0.000742799486034,0.000326153065544,0.000927417713683,0.067179135978222,0.041815783828497,-0.070216886699200,-0.108403176069260));
res += mul(Get(s3,dx,dy), float4x4(0.039182629436255,0.026400590315461,-0.037454441189766,0.006863047368824,0.000847791146953,0.004493189509958,0.000494446721859,-0.000427152321208,0.000273674930213,-0.000417753675720,-0.000495120708365,-0.000280062435195,-0.013593478128314,-0.010960846208036,-0.084334835410118,-0.006643805652857));
return max(float4(0,0,0,0), res);
}
