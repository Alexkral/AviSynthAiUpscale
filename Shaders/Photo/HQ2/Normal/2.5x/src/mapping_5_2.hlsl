sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000373588554794,0.032323691993952,-0.046567577868700,-0.035672701895237,0.013077845796943,-0.053737610578537,-0.075365133583546,-0.001961618661880,0.029217394068837,0.028095295652747,-0.004626660142094,-0.000979973934591,-0.028078382834792,0.003322542412207,0.025292078033090,0.000542601861525));
res += mul(Get(s0,-dx,0), float4x4(0.002022624947131,-0.023731939494610,-0.037055991590023,-0.034674603492022,0.019067334011197,0.039496213197708,-0.156271159648895,-0.051474332809448,0.006520636379719,-0.021306959912181,-0.031434442847967,0.009455076418817,-0.047867339104414,-0.039811685681343,0.039901729673147,-0.018886364996433));
res += mul(Get(s0,-dx,dy), float4x4(0.019168350845575,0.002106886822730,-0.017220394685864,-0.044366817921400,-0.026434278115630,0.006511746440083,0.034595742821693,-0.069799505174160,-0.014753326773643,0.012670878320932,-0.009855353273451,-0.046556077897549,0.010906421579421,0.005043142940849,0.025095118209720,-0.016841867938638));
res += mul(Get(s0,0,-dy), float4x4(-0.009853037074208,0.008456675335765,0.000288716692012,-0.028903758153319,0.004846980795264,-0.017738254740834,0.040236990898848,0.025585079565644,0.063335612416267,0.012456787750125,-0.036849159747362,-0.002659389516339,-0.002270647091791,-0.014111896976829,0.020777635276318,-0.018990663811564));
res += mul(Get(s0,0,0), float4x4(-0.021321464329958,-0.023438503965735,-0.073128663003445,-0.007299176417291,-0.030251702293754,-0.049999170005322,0.050790920853615,0.029576992616057,-0.059956021606922,-0.007008967921138,0.006022910587490,-0.002305663423613,0.127996891736984,0.002904187422246,-0.000343970255926,-0.029173493385315));
res += mul(Get(s0,0,dy), float4x4(0.039422456175089,0.024471685290337,-0.065385326743126,-0.003532518399879,0.010725765489042,-0.034526560455561,-0.061742320656776,-0.019913397729397,-0.022541610524058,-0.003225051099434,-0.024916522204876,-0.030528422445059,0.025291249155998,0.045639075338840,0.039530705660582,-0.012712139636278));
res += mul(Get(s0,dx,-dy), float4x4(-0.019832452759147,0.016314297914505,0.056713994592428,-0.002952927723527,-0.049097500741482,0.008778634481132,0.024532586336136,-0.010365271009505,0.032343011349440,0.008923001587391,-0.005099721252918,-0.004640573170036,0.010888439603150,-0.021750645712018,0.014195703901350,0.030812453478575));
res += mul(Get(s0,dx,0), float4x4(-0.056783415377140,-0.033088095486164,-0.027158824726939,-0.012127262540162,0.026887860149145,0.011399531736970,0.042815536260605,0.037828519940376,-0.038568552583456,-0.006100522819906,0.022739101201296,0.015334586612880,-0.017671715468168,0.015014755539596,0.035038217902184,0.047801401466131));
res += mul(Get(s0,dx,dy), float4x4(-0.055170409381390,0.018337188288569,-0.036703683435917,-0.000965349550825,0.066063597798347,-0.034541949629784,0.013922610320151,0.003884893143550,-0.032897397875786,-0.013452075421810,0.004078052472323,-0.038930591195822,-0.049040272831917,-0.006170963868499,-0.030995899811387,0.100234322249889));
res += mul(Get(s1,-dx,-dy), float4x4(-0.013651499524713,-0.023885751143098,-0.039556045085192,-0.088382944464684,-0.027902361005545,-0.044525690376759,-0.085328914225101,-0.020825145766139,0.034593090415001,-0.025458902120590,-0.010613936930895,-0.033863477408886,0.030438028275967,0.018985085189342,0.091334879398346,-0.024228563532233));
res += mul(Get(s1,-dx,0), float4x4(-0.013070660643280,-0.002790795173496,-0.061111066490412,-0.129026055335999,-0.074902459979057,0.081577740609646,0.028336802497506,-0.060411322861910,0.082253091037273,-0.041872993111610,-0.031057510524988,0.003065706929192,0.007520229090005,-0.062790267169476,-0.024914564564824,-0.069745294749737));
res += mul(Get(s1,-dx,dy), float4x4(0.009797391481698,-0.038580559194088,0.023083778098226,-0.076883524656296,-0.025874234735966,-0.003058153204620,0.089472331106663,-0.088294938206673,-0.035282555967569,-0.042782574892044,0.014908359386027,-0.021586518734694,0.058458685874939,0.082330144941807,0.029458511620760,-0.128792941570282));
res += mul(Get(s1,0,-dy), float4x4(0.023684378713369,-0.003461734391749,0.041814319789410,-0.065250150859356,0.028100293129683,-0.092324234545231,-0.043858326971531,-0.034056879580021,0.013632474467158,-0.000609416689258,-0.054287992417812,-0.010736211203039,0.055153418332338,0.008707237429917,0.045669544488192,-0.038185689598322));
res += mul(Get(s1,0,0), float4x4(0.031770382076502,-0.014701353386045,0.042746398597956,-0.112949967384338,0.017066780477762,-0.003267558757216,-0.010270440950990,0.042625907808542,-0.032334201037884,-0.040680740028620,-0.009084291756153,0.010477713309228,0.096372343599796,-0.045104429125786,-0.032515510916710,-0.076094791293144));
res += mul(Get(s1,0,dy), float4x4(-0.031679321080446,-0.032336566597223,0.025088494643569,-0.086798325181007,0.009485051035881,0.014531819149852,0.059179313480854,0.013961916789412,-0.038605120033026,-0.035391453653574,-0.022547082975507,-0.015299869701266,0.075313739478588,0.087358251214027,0.107083395123482,-0.094287224113941));
res += mul(Get(s1,dx,-dy), float4x4(0.098751440644264,-0.010338443331420,0.073546878993511,-0.031386367976665,0.043041277676821,-0.101356580853462,0.038656655699015,-0.046108447015285,-0.054487090557814,-0.012034413404763,-0.025334252044559,0.032331388443708,-0.019498713314533,-0.091099314391613,0.106813110411167,0.029954180121422));
res += mul(Get(s1,dx,0), float4x4(0.080751277506351,-0.006410370115191,0.011976782232523,-0.018666898831725,0.065561458468437,-0.067584954202175,0.010882740840316,0.033576399087906,-0.107956856489182,-0.061500951647758,-0.031400959938765,0.007034590467811,0.059643194079399,-0.068517647683620,0.095211565494537,0.048065934330225));
res += mul(Get(s1,dx,dy), float4x4(-0.004734451882541,-0.009608853608370,-0.052249304950237,-0.025509053841233,0.011494007892907,0.023279644548893,0.020345605909824,0.042455684393644,-0.068263553082943,-0.033952377736568,-0.002588645555079,-0.039079710841179,0.081098534166813,0.034748665988445,0.055745668709278,0.066266618669033));
res += mul(Get(s2,-dx,-dy), float4x4(-0.033826988190413,-0.087815649807453,-0.110955335199833,0.033134058117867,0.086316816508770,0.019023666158319,-0.080669082701206,0.139243140816689,0.003571690060198,0.019938655197620,0.007168683689088,-0.034229170531034,-0.010020813904703,-0.018131863325834,0.098534770309925,0.005002268590033));
res += mul(Get(s2,-dx,0), float4x4(0.031617656350136,0.043019525706768,-0.158902287483215,-0.009737016633153,0.020976116880774,0.017314024269581,-0.000084170904302,-0.067778520286083,0.006149973254651,0.006849420256913,-0.049172576516867,-0.099790401756763,-0.002756615867838,0.013475198298693,-0.009249472059309,0.057574842125177));
res += mul(Get(s2,-dx,dy), float4x4(-0.010518793947995,0.007661130744964,-0.049808982759714,0.000435816415120,0.037899285554886,-0.047758098691702,0.016453729942441,-0.163799867033958,-0.031910452991724,0.046159081161022,0.044570315629244,0.050285808742046,-0.048734333366156,-0.038832481950521,-0.006636423990130,-0.046007763594389));
res += mul(Get(s2,0,-dy), float4x4(0.010528675280511,-0.124966494739056,-0.072356261312962,0.070686981081963,0.015333835966885,0.079378038644791,-0.006771676708013,0.134928494691849,0.018535409122705,0.043400052934885,-0.008999543264508,-0.006920550949872,-0.005712082609534,0.023620944470167,0.041003737598658,0.015881910920143));
res += mul(Get(s2,0,0), float4x4(0.038280028849840,0.043847877532244,-0.035332936793566,0.038212578743696,0.027872573584318,0.014459386467934,0.000919771322515,-0.035878151655197,-0.047384425997734,0.060171630233526,0.028893768787384,-0.100082285702229,-0.025418980047107,0.036351580172777,-0.063948266208172,0.019413314759731));
res += mul(Get(s2,0,dy), float4x4(-0.004126389510930,0.011423933319747,-0.024873638525605,0.014275982044637,0.062680520117283,-0.010436945594847,0.046046614646912,-0.126132860779762,-0.075822249054909,-0.012345384806395,0.009520030580461,0.023374505341053,0.010881905443966,-0.039710175246000,-0.073204852640629,-0.115496285259724));
res += mul(Get(s2,dx,-dy), float4x4(-0.128122448921204,-0.041834373027086,-0.048902809619904,0.046609710901976,-0.022668281570077,0.097324281930923,0.077464953064919,0.062159750610590,-0.055888567119837,0.086736537516117,-0.015225732699037,-0.008393817581236,-0.033477224409580,0.065722241997719,0.063940554857254,-0.008358619175851));
res += mul(Get(s2,dx,0), float4x4(-0.063666939735413,0.039631664752960,-0.003072355641052,0.081535287201405,0.018454432487488,-0.004459365736693,-0.034202840179205,0.112802393734455,-0.041424211114645,0.015987429767847,0.009404351003468,-0.016260379925370,0.005265237297863,0.056054681539536,-0.012129236012697,-0.053104318678379));
res += mul(Get(s2,dx,dy), float4x4(0.065890692174435,0.070859707891941,-0.000080695739598,0.036962330341339,0.027138510718942,-0.066163234412670,0.027490394189954,0.028565714135766,-0.054966226220131,0.016378454864025,-0.013183445669711,0.004613622091711,0.051366016268730,-0.041325934231281,-0.031455349177122,-0.160501986742020));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020090268924832,0.064556330442429,-0.027813205495477,0.004530609119684,-0.025541711598635,-0.065828599035740,0.015509461984038,0.091323807835579,0.079705365002155,0.051920589059591,-0.047238789498806,0.108619369566441,-0.026550889015198,0.003199615050107,-0.029940584674478,0.010782888159156));
res += mul(Get(s3,-dx,0), float4x4(0.026795500889421,0.028074450790882,0.073386922478676,0.009528706781566,-0.122445881366730,-0.029608046635985,0.026845620945096,-0.085595861077309,0.034401547163725,-0.002293982310221,-0.002270749537274,0.080092832446098,-0.016826465725899,0.007747766096145,0.018322268500924,-0.034836921840906));
res += mul(Get(s3,-dx,dy), float4x4(-0.033428650349379,-0.074858181178570,0.019687131047249,0.000332514406182,-0.091030575335026,-0.044906873255968,0.079712882637978,-0.066474325954914,0.002274425700307,-0.023895239457488,0.032450877130032,0.077035106718540,-0.015666600316763,0.051601290702820,-0.067609503865242,0.012172440998256));
res += mul(Get(s3,0,-dy), float4x4(-0.050014264881611,0.088542811572552,0.032070960849524,0.033049959689379,-0.002198599511757,-0.008613768965006,0.018759993836284,0.135379225015640,0.020408397540450,0.023254653438926,0.018131818622351,0.040760502219200,0.027599994093180,0.002485520904884,-0.053184043616056,0.000427820952609));
res += mul(Get(s3,0,0), float4x4(0.044588528573513,-0.015222134999931,-0.036020137369633,-0.009104986675084,-0.039740927517414,-0.004611794836819,0.013727116398513,-0.099386930465698,0.084679536521435,-0.005716884508729,0.000592006719671,-0.083415627479553,0.071882277727127,0.015885967761278,0.004277150612324,-0.019751358777285));
res += mul(Get(s3,0,dy), float4x4(-0.061734210699797,-0.109468460083008,0.017181972041726,0.021105131134391,0.025325994938612,0.003736758837476,-0.014608376659453,-0.137055024504662,0.042780231684446,0.017585190013051,0.023194761946797,-0.036052580922842,0.047099586576223,0.053167026489973,-0.029205702245235,0.004972398281097));
res += mul(Get(s3,dx,-dy), float4x4(0.006821175105870,0.045131739228964,0.037960905581713,0.052163515239954,-0.013247296214104,-0.010728390887380,0.000952609523665,0.016295757144690,-0.014620882458985,0.003504347987473,0.008811430074275,0.071555487811565,0.009336383081973,-0.019671458750963,-0.037696897983551,-0.008217509835958));
res += mul(Get(s3,dx,0), float4x4(0.008801896125078,-0.017323445528746,-0.038643915206194,0.010439086705446,0.089975476264954,-0.054477788507938,-0.065834626555443,-0.062082521617413,0.041634619235992,-0.000461702729808,-0.032005310058594,-0.007265155203640,0.031048290431499,0.011897080577910,0.001413130201399,-0.030764058232307));
res += mul(Get(s3,dx,dy), float4x4(-0.085674650967121,-0.065756775438786,0.020300686359406,-0.008711443282664,0.020880749449134,0.050223995000124,-0.040435288101435,-0.095187023282051,0.020067198202014,0.007799492217600,0.020470155403018,-0.069551385939121,0.002840527566150,0.081386245787144,0.018595235422254,-0.001422861241736));
return max(float4(0,0,0,0), res);
}
