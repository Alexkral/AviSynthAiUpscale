sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.049746979027987,0.032828379422426,0.036533806473017,-0.021605586633086,0.022571006789804,-0.102342396974564,-0.009030279703438,0.057321853935719,0.063651382923126,-0.002038376638666,0.006519372109324,-0.027372729033232,-0.016704710200429,0.059773065149784,-0.024721914902329,-0.007630696520209));
res += mul(Get(s0,-dx,0), float4x4(0.089279711246490,-0.034549169242382,0.042713798582554,-0.025585733354092,0.108800917863846,-0.050799347460270,0.017246041446924,0.009000493213534,-0.002469364786521,0.027550632134080,-0.003401270136237,-0.003989514429122,-0.001563969883136,0.025683183223009,0.000546757131815,0.025624224916101));
res += mul(Get(s0,-dx,dy), float4x4(0.015214399434626,-0.025285055860877,-0.020496562123299,0.009673170745373,0.061664640903473,-0.019514949992299,0.042809963226318,-0.017589827999473,-0.018738716840744,-0.031195892021060,0.027920609340072,-0.014922168105841,-0.045252647250891,0.061341937631369,0.061860527843237,0.048023071140051));
res += mul(Get(s0,0,-dy), float4x4(0.045752234756947,-0.020969675853848,0.004623013548553,0.008205821737647,-0.037176556885242,-0.031808249652386,-0.154066056013107,0.084196127951145,0.033489912748337,0.024061119183898,0.030711969360709,0.023618714883924,0.053183209151030,0.020171966403723,0.043169181793928,-0.030688880011439));
res += mul(Get(s0,0,0), float4x4(0.002813231665641,0.083038948476315,0.008928461000323,-0.036644823849201,-0.109839007258415,0.222867920994759,-0.011748645454645,0.071348607540131,0.065519466996193,0.008719969540834,-0.004997399635613,0.016020702198148,0.036164950579405,0.044166743755341,0.004664440173656,-0.000782439776231));
res += mul(Get(s0,0,dy), float4x4(0.039846599102020,0.000960364413913,-0.021867409348488,-0.014859645627439,-0.023919140920043,-0.015685940161347,0.097849316895008,-0.013596336357296,0.028843728825450,0.045430380851030,0.012742867693305,0.026697058230639,0.047899860888720,0.052129913121462,0.096555382013321,-0.005244277417660));
res += mul(Get(s0,dx,-dy), float4x4(-0.004212194122374,0.051139038056135,-0.009654391556978,0.027728281915188,0.025411043316126,-0.046772938221693,-0.138903781771660,-0.000135163238156,-0.004930384457111,0.020847365260124,0.007774397265166,0.012304946780205,-0.004372298251837,-0.022658644244075,0.022935153916478,-0.026538562029600));
res += mul(Get(s0,dx,0), float4x4(0.005439094733447,0.004014567937702,0.004523757845163,-0.005045908037573,0.041900973767042,-0.004431416746229,-0.016594497486949,-0.021370770409703,-0.034192562103271,0.048889435827732,-0.009964379481971,0.014499592594802,0.004929609596729,0.061474684625864,-0.000785665935837,-0.002884969115257));
res += mul(Get(s0,dx,dy), float4x4(0.006815272383392,-0.030128665268421,-0.006394405383617,-0.013257150538266,0.011859105899930,-0.051722824573517,0.044279035180807,-0.100807577371597,-0.020068628713489,0.026601307094097,0.011088146828115,0.045460350811481,0.029744438827038,0.010572337545455,0.067640461027622,-0.009456407278776));
res += mul(Get(s1,-dx,-dy), float4x4(0.018944978713989,-0.046094737946987,-0.030836502090096,-0.010750021785498,-0.002466116100550,0.003071432234719,-0.101016849279404,0.005002481397241,-0.000544534588698,0.002609966555610,-0.016119301319122,0.003133632708341,0.022804904729128,-0.009540676139295,-0.011071002110839,0.003985907416791));
res += mul(Get(s1,-dx,0), float4x4(0.006864235270768,-0.037062808871269,0.004316676408052,-0.005636551417410,-0.023514164611697,0.056037340313196,0.024697132408619,-0.019952511414886,0.003031613305211,0.045932065695524,-0.009522190317512,0.008474616333842,0.013479425571859,-0.027764398604631,-0.008401508443058,0.016947457566857));
res += mul(Get(s1,-dx,dy), float4x4(0.026794590055943,0.008571665734053,-0.001254952745512,-0.046151425689459,-0.013315465301275,-0.026247210800648,0.023753166198730,-0.031997378915548,0.015803966671228,0.021011738106608,0.007764716167003,-0.013592081144452,0.014605796895921,-0.004993643611670,-0.006527964957058,0.002412050496787));
res += mul(Get(s1,0,-dy), float4x4(0.044985793530941,-0.017470506951213,-0.018455179408193,0.023823536932468,-0.039413634687662,0.070886589586735,-0.097448229789734,0.016648707911372,-0.019808325916529,0.033104989677668,-0.013899384997785,-0.008709798566997,-0.011834842152894,-0.009587418287992,-0.011574240401387,0.004933738149703));
res += mul(Get(s1,0,0), float4x4(-0.014712147414684,0.063662521541119,-0.019247353076935,0.059359844774008,-0.043959010392427,0.033321201801300,0.003222837112844,0.003524959553033,0.054587118327618,-0.028652263805270,0.001580152660608,0.016770295798779,0.000366796593880,-0.007630301639438,-0.016392180696130,0.036120794713497));
res += mul(Get(s1,0,dy), float4x4(-0.073046214878559,0.026976073160768,-0.011611107736826,-0.001410754164681,-0.020209988579154,-0.013102988712490,-0.000642266299110,-0.035734988749027,0.002042008796707,0.068148232996464,-0.008097158744931,0.015403131954372,-0.068727076053619,0.110000908374786,0.008116120472550,0.008499780669808));
res += mul(Get(s1,dx,-dy), float4x4(-0.018721006810665,-0.016339113935828,-0.040680915117264,0.021167593076825,0.021528175100684,-0.013171497732401,-0.007578714750707,-0.016866879537702,0.007075617555529,0.011158254928887,-0.021370531991124,0.000520435336512,-0.038428023457527,0.045737367123365,-0.024214532226324,0.021159177646041));
res += mul(Get(s1,dx,0), float4x4(-0.018111051991582,-0.010155384428799,-0.045156624168158,0.009128854610026,0.040552698075771,-0.023693440482020,0.010674313642085,-0.024234438315034,0.011335728690028,0.054066982120275,-0.020248336717486,0.052289910614491,-0.076305516064167,0.115540720522404,-0.016212526708841,0.041278433054686));
res += mul(Get(s1,dx,dy), float4x4(-0.003985573537648,-0.055338371545076,-0.070625938475132,-0.026897797361016,0.019049741327763,-0.000961634854320,0.025226317346096,-0.009152671322227,-0.074306525290012,0.106406301259995,-0.004345009103417,0.052362635731697,-0.026941196992993,-0.003586780279875,0.023077899590135,-0.006890663877130));
res += mul(Get(s2,-dx,-dy), float4x4(0.008976498618722,0.104312583804131,0.038905501365662,-0.020269528031349,0.001479347120039,0.010566413402557,0.046876925975084,0.009111729450524,0.022962914779782,-0.011809773743153,-0.000456789246527,0.029955213889480,0.011336888186634,-0.016310805454850,0.008027903735638,-0.000654166971799));
res += mul(Get(s2,-dx,0), float4x4(0.034186553210020,-0.044425956904888,-0.002527663018554,-0.008635325357318,-0.017930014058948,-0.018629899248481,0.038240212947130,0.023664915934205,0.092634230852127,-0.005553300026804,0.011040725745261,-0.000972209731117,-0.000974855385721,-0.001896479283459,-0.007375736255199,0.023518441244960));
res += mul(Get(s2,-dx,dy), float4x4(-0.003009169362485,-0.000932037713937,0.027537677437067,0.012408536858857,-0.001681794878095,-0.000917494238820,0.048582378774881,0.028971379622817,0.022753009572625,-0.088032960891724,0.030388154089451,0.020337138324976,0.007390008307993,-0.017119852825999,0.039478894323111,-0.005639120005071));
res += mul(Get(s2,0,-dy), float4x4(0.066040903329849,-0.051729619503021,0.032390724867582,-0.018496394157410,0.051924239844084,-0.057727772742510,0.060969468206167,-0.017519773915410,0.067450203001499,-0.042460199445486,-0.057921737432480,0.045176610350609,-0.019153647124767,0.020653266459703,0.034793093800545,0.011707334779203));
res += mul(Get(s2,0,0), float4x4(-0.011552213691175,0.060550808906555,-0.049413889646530,-0.004563419613987,0.022562727332115,-0.004633009433746,-0.030515633523464,0.031084239482880,-0.070014841854572,0.043336611241102,-0.029053902253509,-0.004173861350864,-0.014960430562496,-0.001605584053323,0.020407507196069,0.002432234119624));
res += mul(Get(s2,0,dy), float4x4(0.040540829300880,0.012999177910388,0.042193006724119,-0.003422439098358,-0.024933909997344,0.070069223642349,0.022116901353002,0.034599136561155,0.131710991263390,-0.068372227251530,0.058730989694595,-0.038852188736200,-0.012798249721527,-0.009418639354408,0.027818672358990,0.011397304944694));
res += mul(Get(s2,dx,-dy), float4x4(-0.019034327939153,0.026577355340123,0.009073602966964,-0.017238434404135,-0.033695343881845,-0.009661034680903,0.018133355304599,0.003106391523033,0.032362725585699,-0.074521221220493,-0.043267503380775,-0.008621327579021,-0.073628254234791,0.055125705897808,-0.042992647737265,0.023299943655729));
res += mul(Get(s2,dx,0), float4x4(-0.025434082373977,0.025928867980838,-0.025715496391058,-0.015426570549607,-0.032883916050196,0.005133493337780,-0.025887235999107,0.043872024863958,0.105647496879101,-0.027019122615457,0.013268155045807,-0.064221605658531,-0.013520510867238,-0.004337485879660,0.035266131162643,-0.026962349191308));
res += mul(Get(s2,dx,dy), float4x4(0.016473224386573,-0.021091379225254,0.014184677973390,0.006982332095504,-0.002996266121045,-0.013882985338569,0.005446350201964,0.043087646365166,0.043423783034086,-0.013838334009051,0.014147992245853,-0.043452072888613,-0.037483282387257,0.009753524325788,-0.028791513293982,0.038522783666849));
res += mul(Get(s3,-dx,-dy), float4x4(-0.013497919775546,0.011359974741936,0.016499271616340,0.021641375496984,-0.024317864328623,-0.008570626378059,-0.025176372379065,-0.036534860730171,-0.036431923508644,-0.029637007042766,0.037006381899118,-0.017379591241479,-0.005531711038202,0.008288053795695,0.002460373798385,0.019163744524121));
res += mul(Get(s3,-dx,0), float4x4(0.003022293094546,0.002545487368479,0.007836365140975,0.014478727243841,0.012943297624588,0.001643960014917,-0.062420815229416,-0.043669011443853,-0.051410991698503,0.014942073263228,-0.024575697258115,-0.000122141893371,-0.052264846861362,0.029111471027136,0.016498290002346,0.022877341136336));
res += mul(Get(s3,-dx,dy), float4x4(-0.024851774796844,-0.018569087609649,-0.005064527504146,0.002212021267042,0.016085665673018,-0.041076768189669,-0.034729260951281,-0.026889765635133,-0.027095317840576,-0.059363421052694,-0.014941693283617,0.015126558020711,-0.022166883572936,-0.030468292534351,0.048248421400785,0.006903548724949));
res += mul(Get(s3,0,-dy), float4x4(0.026153251528740,0.045581258833408,-0.005815740674734,-0.001463372725993,0.006881596986204,0.032109349966049,-0.049973502755165,-0.025149658322334,-0.008237348869443,0.041407797485590,0.069961592555046,-0.059812627732754,-0.003082310780883,0.084457047283649,0.038147676736116,0.008165350183845));
res += mul(Get(s3,0,0), float4x4(-0.035887282341719,0.081150330603123,-0.036542616784573,0.011675404384732,-0.026512619107962,0.013153970241547,-0.071903482079506,-0.007958178408444,0.019526686519384,-0.027158416807652,0.008308713324368,-0.049141578376293,0.109284281730652,0.000332950090524,0.038656160235405,-0.020325971767306));
res += mul(Get(s3,0,dy), float4x4(0.038252707570791,0.012189932167530,0.015971539542079,-0.008712594397366,0.051743451505899,-0.002316199941561,-0.013513577170670,-0.010294030420482,0.015549410134554,-0.000705119105987,0.003632794832811,-0.017609952017665,-0.005663165822625,0.060298129916191,0.020349100232124,0.038093093782663));
res += mul(Get(s3,dx,-dy), float4x4(0.053403068333864,0.018101928755641,0.074284128844738,-0.044526938349009,0.074741654098034,-0.019925655797124,0.018312819302082,-0.013031493872404,0.063765563070774,-0.040612980723381,0.076307445764542,0.004991256166250,0.015861690044403,0.000190010003280,0.034887239336967,0.022137496620417));
res += mul(Get(s3,dx,0), float4x4(0.113699249923229,-0.029667213559151,0.002495829481632,-0.031440008431673,0.011659451760352,0.012154201976955,-0.066953398287296,0.013278949074447,-0.006901844870299,-0.035824671387672,0.021909255534410,0.022710146382451,0.029100418090820,-0.017291521653533,0.037508569657803,0.007308352738619));
res += mul(Get(s3,dx,dy), float4x4(0.019309321418405,0.053626753389835,-0.000761392817367,-0.009249825961888,-0.017684213817120,0.023125266656280,-0.010314553044736,-0.013019862584770,-0.000132205517730,-0.067465342581272,0.043510362505913,0.037275370210409,0.024552632123232,0.009888126514852,0.051140528172255,0.026307152584195));
return max(float4(0,0,0,0), res);
}
