sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022926753386855,-0.004330620169640,-0.005357081536204,-0.000898530124687,-0.065062291920185,-0.020240964367986,-0.005935250781476,0.016388902440667,0.017914801836014,0.041722171008587,-0.051471415907145,0.060475282371044,0.064544998109341,-0.021875519305468,0.018126305192709,0.043312638998032));
res += mul(Get(s0,-dx,0), float4x4(0.000975674018264,-0.019938172772527,0.011779987253249,0.018414149060845,-0.137928828597069,-0.051842644810677,0.056243687868118,0.149076551198959,0.052918575704098,0.007817005738616,-0.008830291219056,0.031546160578728,0.039897337555885,-0.013475802727044,0.029788224026561,-0.006877459120005));
res += mul(Get(s0,-dx,dy), float4x4(0.001566874212585,-0.001523029641248,0.019235335290432,-0.007707271259278,-0.096425369381905,-0.040722984820604,0.121737465262413,0.063797317445278,-0.050222747027874,-0.068755619227886,0.060861188918352,-0.026930313557386,0.060580100864172,-0.031643871217966,0.014062956906855,-0.032002348452806));
res += mul(Get(s0,0,-dy), float4x4(0.003553765825927,-0.007225425448269,-0.010857854969800,0.002990853507072,0.056747268885374,0.118226870894432,-0.018446333706379,-0.067147158086300,0.005253750830889,0.095941506326199,0.002029051072896,-0.037828050553799,-0.013581264764071,0.005473919678479,-0.020124282687902,0.002575595164672));
res += mul(Get(s0,0,0), float4x4(0.010360553860664,-0.019124135375023,0.003291500965133,-0.001053673215210,-0.149589478969574,0.018416572362185,-0.111044496297836,-0.121027015149593,-0.021881269291043,0.104850500822067,-0.018572403118014,0.017234247177839,-0.049618173390627,-0.000547482224647,0.026971627026796,0.060951381921768));
res += mul(Get(s0,0,dy), float4x4(-0.009968644939363,-0.003415939165279,0.012714211829007,-0.002163636032492,-0.047825984656811,0.006273563951254,0.024169927462935,-0.059548001736403,-0.043276920914650,-0.018966069445014,-0.068406522274017,0.030312567949295,0.081017918884754,-0.004177528899163,0.017194820567966,0.005739103071392));
res += mul(Get(s0,dx,-dy), float4x4(-0.016513647511601,-0.007316642906517,-0.020929239690304,-0.000403758080211,0.115286044776440,-0.019877884536982,-0.025625357404351,-0.050910767167807,-0.030320482328534,0.063155375421047,0.026667501777411,-0.077067770063877,-0.041581921279430,-0.012475905939937,0.032681569457054,-0.077572651207447));
res += mul(Get(s0,dx,0), float4x4(0.053271818906069,-0.022286914288998,-0.001888988306746,-0.002598730148748,0.227903544902802,-0.072469234466553,-0.036926008760929,-0.088705763220787,-0.035272009670734,0.044614702463150,0.033381182700396,-0.056745991110802,-0.094841785728931,-0.010012370534241,0.090614996850491,0.000938478973694));
res += mul(Get(s0,dx,dy), float4x4(0.004727043677121,-0.001227723085321,0.007855392992496,0.000034895325371,0.127825960516930,-0.038187790662050,0.084919944405556,-0.060366261750460,0.028222728520632,-0.023569073528051,-0.032735884189606,0.017508335411549,-0.039031982421875,-0.004305598791689,0.039954777806997,0.042411785572767));
res += mul(Get(s1,-dx,-dy), float4x4(0.039615135639906,0.001523678307422,-0.000148991937749,-0.005080462433398,-0.088738925755024,-0.063695855438709,-0.070245333015919,0.058844566345215,0.017954181879759,0.001790331210941,0.009881763719022,0.000048406393034,-0.000442763208412,0.001289971289225,0.001820131670684,-0.000671791378409));
res += mul(Get(s1,-dx,0), float4x4(0.089146614074707,-0.008166011422873,0.016148621216416,-0.020027475431561,-0.011849006637931,0.006875837221742,0.039196893572807,0.024934830144048,0.088404476642609,-0.003341435920447,0.014732809737325,-0.011670517735183,-0.000772967876401,-0.000329992733896,-0.000305854569888,0.000435614521848));
res += mul(Get(s1,-dx,dy), float4x4(0.045903760939837,-0.000628075213172,0.009215573780239,-0.013126134872437,0.039349120110273,-0.000310473376885,-0.026144441217184,-0.021994007751346,0.030606603249907,-0.004280756693333,-0.028225732967257,-0.011020617559552,0.001076157088391,-0.000956984004006,-0.000373677990865,-0.000261279317783));
res += mul(Get(s1,0,-dy), float4x4(0.005120635498315,-0.007552656810731,0.067934587597847,0.008866839110851,-0.059468034654856,-0.056751206517220,-0.081098817288876,-0.052361939102411,0.007242491003126,-0.002647692337632,0.024035053327680,0.016429971903563,-0.000795226485934,0.000034884727938,-0.000334621785441,0.000827962707262));
res += mul(Get(s1,0,0), float4x4(0.016448225826025,-0.000602565472946,0.103252589702606,-0.044681902974844,-0.017648823559284,0.003991418052465,0.104919791221619,-0.011609720997512,0.076831616461277,-0.007663442287594,0.084636114537716,-0.036414839327335,-0.000546115392353,-0.000368975801393,-0.001806246349588,0.000991874956526));
res += mul(Get(s1,0,dy), float4x4(0.005079776048660,0.003737626364455,0.014400859363377,0.006374076008797,0.047630645334721,-0.006578748580068,0.111958637833595,-0.048229068517685,0.019681671634316,-0.002513593761250,-0.003726700786501,-0.016676289960742,0.000512745988090,0.000661860394757,-0.000766609446146,-0.000375320320018));
res += mul(Get(s1,dx,-dy), float4x4(-0.065411709249020,-0.001483948901296,0.027857528999448,0.091014660894871,0.116622053086758,-0.023143304511905,-0.032625816762447,-0.048892799764872,-0.007600073236972,-0.002529432298616,0.029017003253102,0.036965899169445,0.000897480349522,0.000722414930351,-0.000011204526345,-0.000129919804749));
res += mul(Get(s1,dx,0), float4x4(-0.052799727767706,0.002028422895819,0.014869547449052,0.087658405303955,0.039542432874441,0.015973316505551,0.022238641977310,-0.024779815226793,0.010260026901960,0.000192097286345,0.068602219223976,0.019371576607227,-0.000041935578338,0.000449103390565,0.000087555832579,-0.000137440307299));
res += mul(Get(s1,dx,dy), float4x4(-0.030279994010925,0.001503950683400,-0.011110995896161,0.043971009552479,0.052971582859755,-0.012180263176560,-0.026553999632597,-0.035160377621651,-0.008409386500716,0.000781779061072,0.019561761990190,0.001646184944548,-0.000503087823745,0.000620831910055,-0.000371480156900,0.001028146478347));
res += mul(Get(s2,-dx,-dy), float4x4(0.046285055577755,0.048871342092752,0.005118562374264,0.050095465034246,-0.032540027052164,0.106420800089836,-0.011303294450045,0.025832731276751,-0.040669932961464,-0.000441972864792,0.062127280980349,0.002868785290048,0.010362716391683,-0.027729477733374,0.021211275830865,-0.022366128861904));
res += mul(Get(s2,-dx,0), float4x4(0.055475797504187,0.002201676135883,-0.024913361296058,0.043233886361122,0.011547087691724,0.030489470809698,-0.050349913537502,-0.024833910167217,-0.028888661414385,-0.004171012900770,0.034423850476742,0.018045915290713,0.009164983406663,-0.031987540423870,-0.000465488003101,-0.005914270877838));
res += mul(Get(s2,-dx,dy), float4x4(0.054208781570196,0.000917933939490,0.000828043790534,0.046822186559439,0.027005953714252,-0.012239702045918,-0.006814845371991,-0.024460673332214,-0.023147014901042,-0.006885168608278,0.010310068726540,0.008756483905017,0.097998172044754,-0.022648578509688,-0.036926493048668,0.012997009791434));
res += mul(Get(s2,0,-dy), float4x4(-0.031102752313018,0.008700548671186,0.056195572018623,0.000403807876864,-0.087962962687016,0.032582033425570,0.059746209532022,-0.033087741583586,-0.067723043262959,0.008470179513097,-0.016172094270587,0.011139397509396,-0.121940016746521,-0.018193090334535,0.053035505115986,0.042330637574196));
res += mul(Get(s2,0,0), float4x4(-0.038320261985064,-0.016261480748653,0.056067019701004,0.004688882734627,0.103313401341438,-0.023506237193942,-0.011164063587785,-0.017359957098961,-0.097034148871899,-0.014265635050833,-0.063289903104305,0.037221405655146,-0.191239625215530,-0.038853291422129,-0.017598461359739,0.088362783193588));
res += mul(Get(s2,0,dy), float4x4(0.016173012554646,0.001507108798251,0.033774502575397,0.003117094980553,0.034501362591982,-0.035874441266060,0.029345052316785,0.002402776386589,-0.102076448500156,-0.013894224539399,-0.042241197079420,0.007071488071233,0.020656846463680,-0.012944975867867,-0.046402312815189,0.031142966821790));
res += mul(Get(s2,dx,-dy), float4x4(0.047005943953991,-0.029528791084886,0.010212656110525,0.033831853419542,-0.003345824778080,-0.022714909166098,0.031393729150295,-0.018380394205451,-0.120109319686890,0.001343980315141,-0.037149660289288,0.004679600708187,-0.164385274052620,0.056394994258881,0.015158863738179,-0.005320382304490));
res += mul(Get(s2,dx,0), float4x4(0.086701966822147,-0.016027232632041,-0.018686803057790,0.047867182642221,0.110010907053947,-0.065447323024273,0.019902355968952,0.003397912019864,-0.074763387441635,-0.034419555217028,-0.059327747672796,0.026633173227310,-0.165503188967705,0.006190955638885,-0.089409299194813,0.048809181898832));
res += mul(Get(s2,dx,dy), float4x4(0.095728069543839,-0.039999466389418,-0.069959089159966,0.042118031531572,0.003554103896022,-0.057696674019098,0.038949884474277,0.010709301568568,-0.119130790233612,-0.016861451789737,-0.036376755684614,0.002306240145117,0.057518851011992,0.010319855995476,-0.000634353491478,0.008694319985807));
res += mul(Get(s3,-dx,-dy), float4x4(0.018705837428570,0.018969355151057,0.045442391186953,0.004446208942682,0.049006510525942,0.013699560426176,-0.016402771696448,-0.032664731144905,-0.029784422367811,0.003180642845109,0.014485727064312,0.055133584886789,0.060061927884817,0.055285498499870,-0.005504998378456,-0.027378326281905));
res += mul(Get(s3,-dx,0), float4x4(0.026894140988588,0.007572408765554,0.032612122595310,0.000404793594498,0.021944524720311,-0.005464829970151,-0.025548579171300,-0.011053716763854,-0.016845481470227,0.007170417346060,0.029897585511208,0.006842344999313,0.048798233270645,-0.039794433861971,-0.052927609533072,0.021700497716665));
res += mul(Get(s3,-dx,dy), float4x4(0.044414550065994,0.005159136839211,-0.002916136058047,0.007722079753876,-0.009207818657160,0.005224838852882,-0.056467030197382,0.030796965584159,-0.040129218250513,0.001110970508307,0.037647582590580,0.018481791019440,0.060064274817705,-0.026295898482203,-0.036208741366863,0.004178815521300));
res += mul(Get(s3,0,-dy), float4x4(0.056309435516596,-0.020192757248878,0.028591852635145,-0.024179430678487,0.066604509949684,-0.009848115034401,0.021748440340161,-0.030404154211283,-0.047702971845865,-0.004610949195921,0.016711123287678,0.058923676609993,0.036678750067949,0.099380649626255,0.020084524527192,0.023949839174747));
res += mul(Get(s3,0,0), float4x4(0.108516968786716,-0.030053636059165,-0.024982016533613,-0.021566452458501,0.017043545842171,-0.038485635071993,-0.005927370861173,0.006170712411404,-0.037142865359783,-0.002209780737758,0.026204217225313,0.060309980064631,-0.088361203670502,0.013611809350550,-0.043838586658239,0.004056413657963));
res += mul(Get(s3,0,dy), float4x4(0.075723469257355,-0.023478537797928,-0.059853576123714,-0.010255021043122,-0.027123507112265,-0.030524663627148,-0.062718741595745,0.024767171591520,-0.061168998479843,-0.002499517984688,0.020019117742777,0.028250696137547,-0.042789723724127,0.026440329849720,-0.045416865497828,-0.003738061524928));
res += mul(Get(s3,dx,-dy), float4x4(0.062343589961529,-0.013217404484749,0.049696963280439,-0.010105480439961,0.032825574278831,0.020129544660449,-0.011894299648702,0.029997896403074,-0.039994895458221,-0.015024819411337,0.028055481612682,0.013690039515495,-0.011853285133839,0.053381886333227,-0.029737718403339,-0.009691602550447));
res += mul(Get(s3,dx,0), float4x4(0.082965455949306,-0.011560117825866,0.039659939706326,-0.025325391441584,-0.020985508337617,-0.022123169153929,-0.016298502683640,0.029206115752459,-0.047991391271353,-0.009994583204389,0.003864046884701,0.051071669906378,0.065530456602573,-0.050749786198139,-0.075117319822311,-0.057958729565144));
res += mul(Get(s3,dx,dy), float4x4(0.095591396093369,-0.013122464530170,0.004342736676335,-0.021614179015160,0.001472728792578,-0.012586646713316,-0.068368680775166,0.012676560319960,-0.067027464509010,-0.009185745380819,0.001666233758442,0.023174669593573,0.027864256873727,0.007260312326252,-0.069769553840160,-0.068788222968578));
return max(float4(0,0,0,0), res);
}
