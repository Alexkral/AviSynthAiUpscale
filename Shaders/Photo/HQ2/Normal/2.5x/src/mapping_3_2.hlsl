sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001989168114960,-0.010082675144076,0.071007743477821,0.002339841332287,0.115333475172520,-0.080902509391308,0.073539532721043,0.015546455048025,0.061147116124630,-0.190068081021309,-0.050356153398752,-0.059760410338640,0.068211831152439,-0.034678913652897,-0.062014590948820,-0.003917169291526));
res += mul(Get(s0,-dx,0), float4x4(0.040102809667587,0.015461717732251,0.042956911027431,-0.017853248864412,0.168950051069260,0.083337016403675,0.025700232014060,-0.059190515428782,0.146092057228088,-0.113496169447899,-0.032620873302221,-0.021500321105123,0.077601529657841,-0.021384488791227,-0.041127104312181,0.003327056765556));
res += mul(Get(s0,-dx,dy), float4x4(0.002580044791102,0.004994485061616,0.027328917756677,-0.069926276803017,-0.046503245830536,-0.029770173132420,-0.050333589315414,-0.128484010696411,0.148920774459839,0.028356164693832,-0.021257435902953,0.002567721530795,0.029335036873817,-0.033403988927603,0.046960916370153,-0.013184739276767));
res += mul(Get(s0,0,-dy), float4x4(-0.009144376032054,-0.011492397636175,0.064621791243553,0.005606601480395,-0.042822379618883,0.108602307736874,-0.008105126209557,0.037903852760792,-0.058646626770496,-0.029261007905006,0.009508399292827,0.004314169753343,-0.000288453564281,-0.006476527079940,-0.107501961290836,-0.005740260705352));
res += mul(Get(s0,0,0), float4x4(0.015658518299460,0.010578767396510,0.015798976644874,-0.008090658113360,-0.080107495188713,0.098137177526951,-0.044821023941040,0.078344479203224,0.019962163642049,0.084709115326405,0.019920177757740,0.033139325678349,0.054211553186178,-0.014357420615852,-0.107545137405396,0.005920992232859));
res += mul(Get(s0,0,dy), float4x4(0.004238298162818,-0.007621035445482,0.011175840161741,-0.065258108079433,-0.033040903508663,-0.145879462361336,0.046494528651237,-0.042298663407564,0.079397931694984,0.084554657340050,0.006744422949851,0.082164846360683,0.032626476138830,-0.003821773687378,-0.060053039342165,-0.034345708787441));
res += mul(Get(s0,dx,-dy), float4x4(-0.020173123106360,-0.004037324339151,0.042637381702662,0.018681488931179,-0.014849417842925,0.036914557218552,0.026219598948956,0.059565071016550,-0.075111426413059,0.053939860314131,0.035974871367216,-0.048871461302042,-0.116131633520126,-0.041743434965611,-0.071546919643879,-0.039279151707888));
res += mul(Get(s0,dx,0), float4x4(-0.003685336560011,-0.014276495203376,0.002034343080595,0.001867958228104,-0.012437369674444,-0.058362796902657,-0.031575947999954,0.013452043756843,-0.142720103263855,0.052619870752096,0.059097088873386,-0.017671126872301,-0.100849911570549,-0.033776275813580,-0.086898021399975,-0.004712929017842));
res += mul(Get(s0,dx,dy), float4x4(-0.007444202434272,-0.004055334720761,-0.000415295682615,-0.045718785375357,-0.015500693581998,-0.046029008924961,0.017406109720469,0.055550932884216,-0.065655000507832,-0.029225343838334,0.036703616380692,0.055299744009972,-0.036759063601494,0.007163965143263,-0.082916304469109,-0.007690525613725));
res += mul(Get(s1,-dx,-dy), float4x4(0.015733234584332,0.000296363286907,0.022091027349234,-0.008899361826479,0.040877934545279,0.094860836863518,0.028239732608199,0.009669190272689,0.011826639063656,0.004550949204713,-0.022538354620337,0.004176906775683,0.000110706183477,-0.000374319235561,-0.000562483910471,-0.000785609474406));
res += mul(Get(s1,-dx,0), float4x4(-0.017387557774782,-0.011731528677046,0.066021531820297,-0.022677719593048,-0.000802849594038,-0.036128722131252,0.020844750106335,-0.048033338040113,-0.008815820328891,-0.001253623049706,-0.000862920365762,-0.007588131353259,0.000661144789774,0.002037025056779,-0.001094439183362,0.000721529184375));
res += mul(Get(s1,-dx,dy), float4x4(-0.033137813210487,-0.036494325846434,0.073667667806149,-0.011375995352864,-0.024735249578953,-0.065569199621677,0.007540985476226,-0.046461779624224,-0.011759749613702,-0.020574087277055,0.006354702170938,-0.000790110672824,0.000239338856773,0.000078390716226,-0.000304581917590,-0.000052018789575));
res += mul(Get(s1,0,-dy), float4x4(-0.007493946235627,0.003863854100928,0.029910776764154,-0.002454527188092,-0.016434974968433,-0.031073786318302,0.009066315367818,0.048975486308336,0.013298364356160,-0.007812610827386,0.002363223116845,-0.002725185360759,0.000954162329435,-0.000579047540668,0.000558537896723,-0.000333688367391));
res += mul(Get(s1,0,0), float4x4(-0.023180693387985,-0.018578097224236,0.143344804644585,-0.001482073101215,0.024410046637058,-0.095375828444958,0.015717511996627,0.011467657051980,-0.015917878597975,-0.003838802222162,0.050482768565416,-0.004108822438866,-0.001575958100148,0.000426830811193,0.000831270648632,-0.001151966862381));
res += mul(Get(s1,0,dy), float4x4(0.004888488445431,-0.039751946926117,0.137386322021484,-0.007038110401481,-0.047175344079733,-0.066637560725212,-0.095230706036091,-0.073536418378353,0.002061971230432,-0.031589079648256,0.077378503978252,-0.014103125780821,-0.000592032854911,-0.002184021286666,-0.001375265186653,-0.000246294570388));
res += mul(Get(s1,dx,-dy), float4x4(0.005380785558373,0.013234318234026,-0.007374052889645,-0.001176721067168,-0.017216539010406,0.002637380268425,-0.045674521476030,0.023562466725707,0.007157301530242,-0.004937405698001,0.004648939706385,-0.002926778281108,-0.000093104936241,-0.000380900921300,0.000529472308699,-0.001108825090341));
res += mul(Get(s1,dx,0), float4x4(0.029388761147857,0.003617633599788,0.061031296849251,-0.003762444714084,-0.022268420085311,0.060273729264736,-0.055414423346519,0.092496208846569,0.023013010621071,-0.003514778101817,0.042904872447252,-0.002423947909847,-0.000951921916567,0.000637068354990,-0.000803932722192,0.001397996675223));
res += mul(Get(s1,dx,dy), float4x4(0.014016125351191,0.001846033264883,0.083496831357479,0.007915877737105,-0.044764973223209,0.049343254417181,-0.033998958766460,0.007473681122065,0.016619181260467,-0.023016864433885,0.096791915595531,-0.006660190876573,-0.000753343047109,0.000116768205771,-0.001589103252627,-0.001883541699499));
res += mul(Get(s2,-dx,-dy), float4x4(-0.057595737278461,0.006758085917681,0.010980650782585,0.048353619873524,-0.017135238274932,0.124082937836647,-0.027238570153713,-0.009716904722154,0.024068217724562,-0.016890024766326,0.034556321799755,-0.018658373504877,0.070124126970768,-0.052707485854626,-0.038959741592407,0.024820484220982));
res += mul(Get(s2,-dx,0), float4x4(-0.031726658344269,0.036771945655346,-0.023441322147846,0.086180806159973,-0.042788103222847,0.078752964735031,0.001621838659048,0.067667059600353,0.013868427835405,0.034427352249622,0.097686313092709,-0.028389761224389,0.086243301630020,0.044050902128220,0.082228884100914,-0.039733614772558));
res += mul(Get(s2,-dx,dy), float4x4(-0.042762771248817,-0.055955000221729,-0.017595920711756,0.000918647332583,-0.052759997546673,-0.014776657335460,0.009513545781374,0.038150116801262,-0.000392423535232,0.023605281487107,0.094253607094288,-0.019120479002595,-0.035929303616285,-0.020444702357054,0.074462763965130,-0.027216784656048));
res += mul(Get(s2,0,-dy), float4x4(-0.005843734368682,0.060512658208609,0.040836609899998,-0.008631912060082,-0.057963155210018,0.087947554886341,0.046512238681316,-0.105573534965515,-0.011269419454038,-0.007799943443388,-0.000091497611720,-0.004068869631737,0.084598854184151,0.010748938657343,-0.011561520397663,0.006344091612846));
res += mul(Get(s2,0,0), float4x4(0.010657121427357,0.041251484304667,-0.047932192683220,0.019764965400100,-0.062587827444077,-0.008951784111559,-0.017761368304491,0.024758115410805,-0.012120166793466,0.024739222601056,-0.022585311904550,-0.000267675233772,0.054216809570789,0.052372206002474,0.012421941384673,-0.069498091936111));
res += mul(Get(s2,0,dy), float4x4(-0.009542047977448,-0.054783165454865,-0.023868814110756,-0.004095949232578,-0.038023851811886,-0.046464025974274,-0.020411862060428,0.095969848334789,-0.034384660422802,-0.046907201409340,-0.015659362077713,-0.030216097831726,-0.083296537399292,-0.065386950969696,0.035595037043095,-0.063925869762897));
res += mul(Get(s2,dx,-dy), float4x4(0.031754437834024,-0.009081198833883,0.003853954374790,-0.003401502734050,0.018125172704458,0.013434791006148,-0.006445055827498,-0.151016384363174,0.013644449412823,0.024946134537458,-0.019265903159976,-0.039569489657879,0.041257366538048,0.062273785471916,-0.041732113808393,0.012163667008281));
res += mul(Get(s2,dx,0), float4x4(0.043270103633404,0.007326509803534,-0.103722497820854,-0.034321129322052,-0.015293679200113,-0.071428611874580,-0.018483351916075,-0.082037404179573,0.023432267829776,0.019928492605686,-0.065747104585171,-0.001274065114558,-0.006503529381007,0.045597773045301,-0.103186562657356,-0.037058468908072));
res += mul(Get(s2,dx,dy), float4x4(-0.019795490428805,0.040630977600813,-0.132773831486702,-0.018606688827276,0.030021324753761,-0.072162397205830,-0.039367850869894,0.008154548704624,0.027844028547406,-0.037065792828798,-0.068857297301292,-0.014168766327202,-0.081421449780464,-0.045322112739086,-0.111974008381367,-0.020638650283217));
res += mul(Get(s3,-dx,-dy), float4x4(0.018121937289834,0.021858602762222,-0.062499325722456,-0.021239560097456,-0.008647592738271,-0.017446259036660,0.060836784541607,-0.031464837491512,0.024637738242745,-0.005607036408037,-0.002066433429718,0.000071374233812,0.098399162292480,-0.126479849219322,0.045164439827204,0.003634900087491));
res += mul(Get(s3,-dx,0), float4x4(-0.005795412231237,-0.005099109373987,-0.058500666171312,-0.003134324215353,0.011215264908969,-0.029264457523823,0.053836029022932,-0.004019678104669,-0.026719613000751,-0.009360418654978,0.034173455089331,-0.004367107991129,0.152598887681961,-0.026521777734160,0.019997881725430,0.032388716936111));
res += mul(Get(s3,-dx,dy), float4x4(-0.035129286348820,-0.054474525153637,-0.032527420669794,-0.004359464626759,0.014844422228634,-0.017555825412273,0.037605397403240,0.032161988317966,-0.042498830705881,-0.035128027200699,0.058007795363665,-0.006643384229392,0.092119239270687,0.016560321673751,-0.042046967893839,-0.002268941607326));
res += mul(Get(s3,0,-dy), float4x4(-0.004357531666756,-0.000363131432096,0.033807516098022,-0.024338385090232,-0.019465003162622,-0.037144370377064,0.097067907452583,-0.016412872821093,-0.012760655023158,-0.000811640929896,-0.058106757700443,-0.005225862376392,-0.024730788543820,-0.031064342707396,0.072757013142109,-0.082131177186966));
res += mul(Get(s3,0,0), float4x4(-0.012744504027069,-0.010459708049893,0.011288910172880,-0.057279281318188,-0.009839668869972,-0.042533978819847,0.085045367479324,-0.013089989311993,-0.036600694060326,0.009468309581280,-0.027284270152450,-0.001506278291345,-0.077897585928440,0.058169867843390,-0.120408020913601,-0.009238064289093));
res += mul(Get(s3,0,dy), float4x4(-0.037851925939322,-0.021988412365317,0.016887722536922,-0.034459415823221,0.004466327372938,-0.010019543580711,-0.000115157803521,-0.005240715574473,-0.046569097787142,-0.007076654583216,0.038829784840345,-0.000883887056261,-0.015810428187251,0.015716608613729,-0.117019504308701,0.085091650485992));
res += mul(Get(s3,dx,-dy), float4x4(0.005469559226185,-0.031258348375559,0.053543761372566,-0.013908954337239,0.007642374373972,-0.011798581108451,0.063116520643234,-0.018107283860445,-0.036007910966873,-0.042956981807947,-0.059971194714308,-0.044524393975735,-0.115272432565689,0.060266211628914,0.081310607492924,-0.071910187602043));
res += mul(Get(s3,dx,0), float4x4(-0.019791791215539,-0.052695192396641,0.079446114599705,-0.025150043889880,-0.024474373087287,-0.009779117070138,0.039091050624847,-0.000474822678370,-0.035643745213747,-0.021404996514320,-0.054631389677525,-0.025020180270076,-0.136531412601471,-0.026433885097504,-0.104855127632618,-0.037553429603577));
res += mul(Get(s3,dx,dy), float4x4(-0.025228444486856,-0.022468123584986,0.059052616357803,-0.035274546593428,-0.018769191578031,0.000765500648413,-0.036799382418394,0.010407810099423,-0.026448763906956,-0.009477446787059,-0.017486466094851,-0.019482610747218,-0.056570474058390,-0.049919150769711,-0.098899170756340,0.068803884088993));
return max(float4(0,0,0,0), res);
}
