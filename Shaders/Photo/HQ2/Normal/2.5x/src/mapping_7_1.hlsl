sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.038121592253447,0.021840918809175,0.048539273440838,0.001166936825030,0.031999856233597,-0.029135249555111,0.082561738789082,0.018039051443338,-0.027567232027650,0.006089477799833,0.026869699358940,-0.037521567195654,0.032704450190067,-0.008170963265002,0.035024523735046,0.038648363202810));
res += mul(Get(s0,-dx,0), float4x4(-0.001869572442956,0.055985093116760,-0.001271587330848,0.057028748095036,-0.022363523021340,0.038416367024183,0.012937209568918,-0.043834667652845,0.045914866030216,-0.021626310423017,0.045584689825773,0.049878064543009,0.076821155846119,0.035232849419117,0.026429144665599,0.026974977925420));
res += mul(Get(s0,-dx,dy), float4x4(0.034628082066774,0.000103159356513,-0.025911686941981,0.029983414337039,-0.091793388128281,-0.008234303444624,-0.015274045988917,0.017337927594781,0.036094430834055,0.019780268892646,0.036734353750944,0.013722211122513,0.096819199621677,0.049018807709217,0.049015037715435,-0.023405842483044));
res += mul(Get(s0,0,-dy), float4x4(-0.008160260505974,0.004920136183500,0.000949969922658,-0.027011148631573,0.117059983313084,-0.028647171333432,0.011182521469891,0.063753090798855,-0.052742101252079,0.104241870343685,0.005341835785657,-0.044712383300066,0.021147185936570,0.052507285028696,0.020128289237618,0.037516005337238));
res += mul(Get(s0,0,0), float4x4(-0.101342938840389,-0.051319018006325,0.007268875837326,-0.021963130682707,-0.027993556112051,-0.072725579142570,0.016971549019217,-0.037369526922703,0.044128090143204,0.093168169260025,-0.011943411082029,0.050430174916983,0.109670892357826,-0.017179736867547,0.015308512374759,0.026093013584614));
res += mul(Get(s0,0,dy), float4x4(-0.000911094422918,0.015920663252473,0.008254168555140,0.058753799647093,-0.063781403005123,0.047083444893360,-0.024183453992009,0.051217261701822,0.028126789256930,0.036494765430689,-0.012174852192402,0.020269403234124,-0.004064020235091,0.033800270408392,0.034043382853270,0.012883549556136));
res += mul(Get(s0,dx,-dy), float4x4(0.017381375655532,-0.008381674997509,0.014014526270330,-0.018341941758990,0.084150679409504,-0.070208117365837,-0.003626511897892,0.055935107171535,-0.040134418755770,0.073627009987831,-0.010904917493463,-0.001955522922799,0.000140628791996,0.063840068876743,-0.038169089704752,-0.038398191332817));
res += mul(Get(s0,dx,0), float4x4(0.011310495436192,0.025070706382394,-0.018779767677188,0.022626146674156,0.074106626212597,-0.052544299513102,0.011124020442367,0.051683932542801,-0.020608983933926,0.025290969759226,-0.017938677221537,0.027933254837990,0.026956947520375,0.008809377439320,-0.006894197780639,-0.032392609864473));
res += mul(Get(s0,dx,dy), float4x4(0.018682193011045,0.009063464589417,0.003344304626808,0.031396135687828,-0.040337622165680,-0.086346767842770,-0.080630771815777,0.065446831285954,0.006412870716304,0.017128715291619,-0.005271074362099,-0.006233462598175,0.015711193904281,0.016521897166967,0.020142262801528,-0.022049276158214));
res += mul(Get(s1,-dx,-dy), float4x4(0.052468962967396,-0.028162326663733,-0.000776725704782,0.036085348576307,0.133129701018333,0.016466945409775,-0.005698821041733,-0.048362117260695,-0.009976522065699,-0.010242352262139,0.018420968204737,-0.013716845773160,-0.024717545136809,-0.022292703390121,0.001525807543658,-0.000866746297106));
res += mul(Get(s1,-dx,0), float4x4(0.023567482829094,-0.003034006571397,-0.007280063349754,-0.039201889187098,-0.075509048998356,0.002277584513649,-0.012804004363716,-0.111967504024506,0.012964902445674,-0.002942482242361,0.018735699355602,-0.009263695217669,0.012243096716702,-0.019361995160580,0.007334452122450,-0.011510389856994));
res += mul(Get(s1,-dx,dy), float4x4(-0.074627727270126,-0.007891157642007,-0.036440584808588,-0.035657741129398,-0.019757617264986,0.032022457569838,-0.031682856380939,0.004889281000942,0.026589272543788,-0.014266269281507,0.006125716958195,-0.009616812691092,-0.036034669727087,-0.016737513244152,0.018243966624141,-0.008419360034168));
res += mul(Get(s1,0,-dy), float4x4(-0.011332244612277,-0.000904069864191,0.008766608312726,-0.017496882006526,0.078512415289879,-0.022252624854445,0.009296418167651,0.036199882626534,-0.047966547310352,-0.048131898045540,0.011444986797869,-0.016183136031032,-0.015903573483229,0.036521118134260,-0.021857783198357,-0.017479823902249));
res += mul(Get(s1,0,0), float4x4(-0.001408914453350,-0.014599259942770,0.031163621693850,-0.059666007757187,-0.015792932361364,0.001448180177249,0.028991051018238,0.004701865371317,0.049059167504311,0.074884392321110,-0.018477346748114,0.008360550738871,0.046751674264669,0.084485642611980,0.004055438097566,-0.027627728879452));
res += mul(Get(s1,0,dy), float4x4(-0.066690891981125,-0.034416049718857,-0.009948862716556,-0.034423314034939,0.001904689823277,-0.003109827637672,-0.011338031850755,0.044832095503807,0.031587369740009,-0.015969604253769,-0.001207044348121,-0.070094943046570,-0.087768696248531,-0.016488272696733,0.037467114627361,-0.022106103599072));
res += mul(Get(s1,dx,-dy), float4x4(0.053633846342564,-0.013806080445647,0.027720576152205,0.028684090822935,0.034747634083033,-0.027042536064982,-0.016979863867164,0.044291492551565,-0.014435033313930,-0.004188888706267,-0.022004952654243,-0.007173707243055,-0.030627043917775,-0.006144364830106,0.022557426244020,0.024349842220545));
res += mul(Get(s1,dx,0), float4x4(0.019400784745812,-0.031144428998232,0.055159449577332,0.042222812771797,-0.002735142363235,0.004086535423994,-0.014307144097984,0.030242169275880,0.055385161191225,0.056607592850924,0.007275135256350,-0.004214575048536,-0.027916077524424,-0.041346255689859,0.089314647018909,0.016374099999666));
res += mul(Get(s1,dx,dy), float4x4(0.053426578640938,-0.029445741325617,0.004364233464003,0.052926570177078,-0.004728283267468,-0.013829370960593,-0.041628599166870,0.019923238083720,-0.025530498474836,-0.051913183182478,0.046867165714502,-0.063743837177753,-0.053970888257027,-0.027584362775087,0.025213712826371,0.053480990231037));
res += mul(Get(s2,-dx,-dy), float4x4(0.019919337704778,0.064283341169357,0.028895268216729,0.063074722886086,0.017298333346844,0.013346751220524,0.019129645079374,0.057277683168650,0.066081069409847,0.065443582832813,0.062819056212902,-0.009900323115289,0.006887762807310,0.028069494292140,0.001718798768707,0.005709954071790));
res += mul(Get(s2,-dx,0), float4x4(0.112571761012077,0.038096170872450,0.003825264750049,0.056242227554321,0.025060232728720,-0.005303369835019,0.009832794778049,0.040498051792383,0.034569300711155,0.082246512174606,0.006405993364751,-0.024560334160924,0.026448076590896,-0.024178888648748,0.024038458243012,-0.013453041203320));
res += mul(Get(s2,-dx,dy), float4x4(0.041464358568192,0.022964492440224,0.007745969109237,0.026995973661542,0.047634277492762,-0.002906482899562,-0.009957219474018,0.026967871934175,0.019184483215213,0.022894583642483,0.001142263063230,-0.020042521879077,-0.038203425705433,-0.022929217666388,0.023575568571687,-0.004408598411828));
res += mul(Get(s2,0,-dy), float4x4(0.022277573123574,0.101318120956421,-0.028337672352791,0.064791955053806,-0.078416287899017,0.030333289876580,-0.022251687943935,0.026804845780134,0.136524125933647,0.104000657796860,0.010601061396301,0.009950155392289,-0.063506558537483,0.066972166299820,0.002562520792708,-0.071004487574100));
res += mul(Get(s2,0,0), float4x4(0.011143257841468,-0.090529046952724,-0.027394581586123,-0.027323413640261,0.074037879705429,0.018157009035349,0.012261040508747,0.047319829463959,-0.049626991152763,-0.173866286873817,-0.007999422959983,-0.059015415608883,-0.034356161952019,0.077694132924080,0.023581435903907,-0.013340768404305));
res += mul(Get(s2,0,dy), float4x4(-0.069893747568130,0.015273366123438,-0.019134409725666,-0.007585581857711,0.049133155494928,0.001333721331321,0.026317134499550,0.011791010387242,-0.001364925876260,0.120480522513390,-0.029426297172904,0.025141242891550,-0.001708761323243,0.041810210794210,-0.004784202668816,0.003852606518194));
res += mul(Get(s2,dx,-dy), float4x4(0.030227284878492,0.002643843414262,-0.026206411421299,0.048027627170086,-0.049598012119532,0.047078981995583,-0.017791656777263,0.021110570058227,0.059336870908737,0.019453054293990,-0.011537775397301,-0.015208161436021,-0.031616747379303,-0.094927571713924,0.020884716883302,-0.003246117383242));
res += mul(Get(s2,dx,0), float4x4(0.025646306574345,-0.031900115311146,-0.039838612079620,0.018487023189664,0.018417006358504,0.038784962147474,0.045769076794386,0.013718103989959,0.099680699408054,0.108619071543217,-0.082197383046150,-0.020943924784660,-0.114758275449276,0.037721596658230,0.007169717922807,0.029317099601030));
res += mul(Get(s2,dx,dy), float4x4(0.027157893404365,0.024683708325028,-0.011184294708073,0.014565246179700,0.046760473400354,0.050955012440681,0.026789166033268,0.010864439420402,0.118863925337791,0.071297854185104,-0.080310940742493,-0.026462640613317,0.056193057447672,-0.003688970347866,0.006607738789171,0.043660245835781));
res += mul(Get(s3,-dx,-dy), float4x4(0.014012738130987,0.019932949915528,-0.005878874566406,0.019043007865548,0.002015213482082,0.030937869101763,0.001740530133247,-0.000558666128200,-0.031364671885967,0.057311568409204,-0.029854828491807,-0.044012900441885,0.028350697830319,0.039787009358406,-0.005082418210804,0.008231026120484));
res += mul(Get(s3,-dx,0), float4x4(-0.002422865247354,0.035011835396290,0.005033906549215,-0.009508543647826,0.001737283193506,0.029475316405296,0.025971762835979,-0.016166510060430,0.079063244163990,0.048998087644577,0.013102904893458,0.041743546724319,0.032653048634529,-0.025648841634393,0.013246789574623,0.042859740555286));
res += mul(Get(s3,-dx,dy), float4x4(0.028310995548964,-0.004999532829970,0.006921342574060,0.023917602375150,0.057092349976301,0.035861928015947,0.035571746528149,0.033755484968424,0.132769346237183,0.066235296428204,0.012161572463810,0.022012775763869,0.021990038454533,-0.023143159225583,0.002641682280228,0.008595165796578));
res += mul(Get(s3,0,-dy), float4x4(-0.000084369952674,0.013458662666380,0.038502167910337,0.066653996706009,0.042399503290653,0.020117243751884,0.012342638336122,0.049611318856478,-0.034471657127142,0.003208119422197,-0.034222085028887,0.003529273672029,-0.050085417926311,-0.013079468160868,0.004433280788362,-0.019842814654112));
res += mul(Get(s3,0,0), float4x4(0.019604405388236,-0.101679772138596,0.031603123992682,0.051822993904352,-0.012603725306690,-0.061005879193544,-0.006638418883085,-0.042140468955040,0.037416618317366,-0.001615361310542,-0.015315760858357,0.040534470230341,0.048048332333565,0.113752231001854,-0.026887476444244,0.097111470997334));
res += mul(Get(s3,0,dy), float4x4(-0.004143988713622,-0.010906187817454,0.000366678927094,0.012611370533705,-0.047901548445225,0.059345383197069,0.030483772978187,-0.042652770876884,0.001911347382702,-0.014509738422930,0.019711030647159,-0.009431282989681,0.099021151661873,-0.073353566229343,-0.028551692143083,0.043572347611189));
res += mul(Get(s3,dx,-dy), float4x4(-0.032614808529615,0.078954532742500,-0.040120329707861,-0.045870333909988,0.006756797432899,0.058130059391260,0.009173966012895,0.030257085338235,-0.014723732136190,0.070603452622890,-0.046233832836151,-0.041183739900589,-0.032697245478630,0.025589484721422,-0.025672508403659,-0.032722156494856));
res += mul(Get(s3,dx,0), float4x4(0.113376714289188,0.111835457384586,-0.036115054041147,0.035709407180548,0.112550660967827,-0.029979035258293,0.012313465587795,0.009142855182290,0.004591054748744,-0.001619954127818,-0.010491802357137,-0.044853728264570,-0.042452320456505,0.064186640083790,-0.072721078991890,-0.039432212710381));
res += mul(Get(s3,dx,dy), float4x4(0.021842025220394,-0.008014554157853,-0.008411043323576,-0.013580028899014,-0.017969843000174,0.001264799502678,0.027373455464840,-0.033056728541851,0.011376419104636,0.029178213328123,0.011687229387462,-0.038991916924715,-0.012541444040835,0.051142510026693,-0.020364342257380,-0.027344804257154));
return max(float4(0,0,0,0), res);
}
