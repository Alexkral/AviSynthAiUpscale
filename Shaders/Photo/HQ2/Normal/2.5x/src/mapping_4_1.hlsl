sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.025562264025211,0.063091523945332,-0.042037997394800,-0.026030488312244,0.020003857091069,0.019780205562711,-0.004143027123064,-0.033024914562702,0.039502613246441,0.001620385912247,-0.026564856991172,-0.043219164013863,-0.000403172220103,-0.014884164556861,0.012994851917028,0.043037082999945));
res += mul(Get(s0,-dx,0), float4x4(-0.008188585750759,0.007475631777197,-0.083507724106312,0.050758142024279,0.059662688523531,-0.015430659055710,-0.017258329316974,-0.006556126289070,0.065739400684834,0.050720915198326,-0.036207895725965,0.023990120738745,0.045070245862007,-0.012910165823996,0.006825340911746,0.004861798603088));
res += mul(Get(s0,-dx,dy), float4x4(-0.026634052395821,0.003468580311164,0.022098973393440,0.009231451898813,0.007097361609340,-0.024652397260070,-0.017632545903325,-0.006347662769258,0.028030140325427,0.055621411651373,0.036640580743551,-0.010690229944885,0.036099553108215,0.009705363772810,0.005202295258641,0.020941289141774));
res += mul(Get(s0,0,-dy), float4x4(0.069725133478642,0.016454162076116,-0.042409747838974,0.022430323064327,-0.014918678440154,0.004192677792162,0.002226103562862,-0.015511292032897,-0.022890150547028,-0.085267730057240,-0.023294746875763,-0.032655224204063,-0.045716289430857,-0.042951557785273,-0.003056159242988,0.030664298683405));
res += mul(Get(s0,0,0), float4x4(-0.020429514348507,-0.004857649561018,-0.042703017592430,0.129954397678375,0.015635073184967,-0.012866521254182,-0.018440132960677,0.015909137204289,0.062285795807838,-0.058660127222538,-0.038335159420967,0.019067252054811,-0.067346923053265,0.032022170722485,-0.019542902708054,0.086733356118202));
res += mul(Get(s0,0,dy), float4x4(-0.065011769533157,0.021152645349503,0.048812996596098,-0.000322451000102,-0.002614015480503,0.027202919125557,-0.001573381945491,0.018543291836977,0.052526030689478,-0.007350889965892,0.038669846951962,-0.047766182571650,0.003240756923333,-0.029787177219987,-0.012018774636090,0.093252956867218));
res += mul(Get(s0,dx,-dy), float4x4(0.078255280852318,0.000955597381108,0.002523339819163,-0.018542105332017,-0.001417711842805,-0.004443726968020,-0.029394259676337,-0.053098745644093,-0.041402209550142,0.046264968812466,-0.001836470211856,-0.018213190138340,-0.002796773333102,-0.016378760337830,-0.007011529058218,0.018841059878469));
res += mul(Get(s0,dx,0), float4x4(-0.024555440992117,0.018040750175714,0.029187891632318,0.006020555272698,0.000549387652427,-0.011197855696082,-0.016125617548823,-0.014276614412665,0.014201851561666,0.036847814917564,-0.038852035999298,0.010839845985174,-0.059514652937651,-0.065068699419498,-0.008651684038341,0.023976003751159));
res += mul(Get(s0,dx,dy), float4x4(-0.060834582895041,0.013194344937801,-0.003110158955678,-0.087847128510475,0.010294345207512,-0.043365754187107,0.013800597749650,0.003212935989723,0.056932877749205,-0.000697478186339,0.035552497953176,0.069259785115719,-0.021481234580278,-0.006227648351341,-0.017279189080000,-0.015545041300356));
res += mul(Get(s1,-dx,-dy), float4x4(-0.037307068705559,0.009854394011199,-0.012675201520324,0.002001813147217,-0.018119921907783,0.064654394984245,-0.025125907734036,-0.011586085893214,0.000570391654037,0.035988509654999,0.039393942803144,0.053188741207123,0.008157122880220,0.031764600425959,0.006964057683945,-0.002211253857240));
res += mul(Get(s1,-dx,0), float4x4(0.019584963098168,0.050553951412439,0.005401277914643,-0.023243520408869,-0.044769149273634,0.029873115941882,0.022176707163453,0.012828547507524,-0.030891675502062,0.027200687676668,0.013142534531653,-0.027802348136902,-0.012064527720213,-0.046823825687170,0.002713282592595,-0.068002261221409));
res += mul(Get(s1,-dx,dy), float4x4(0.059874825179577,0.095733709633350,-0.036287017166615,-0.003457524580881,0.006022104062140,0.015976117923856,0.048898197710514,0.011871762573719,-0.016181344166398,0.007845911197364,0.004721267614514,0.001182047184557,-0.022257138043642,0.026678714901209,0.003550163470209,-0.047515127807856));
res += mul(Get(s1,0,-dy), float4x4(-0.061496622860432,-0.002936837961897,-0.009621310979128,0.004393723327667,-0.015714379027486,-0.011011286638677,-0.069261297583580,0.046396858990192,0.036333229392767,-0.044490344822407,0.035283789038658,0.047549545764923,-0.017256353050470,-0.037359733134508,-0.006063722539693,-0.022721208631992));
res += mul(Get(s1,0,0), float4x4(-0.020783398300409,-0.006538730114698,-0.023371424525976,0.051633846014738,-0.035305399447680,0.014462317340076,0.029770404100418,0.093064561486244,-0.010611627250910,-0.057974401861429,-0.023007784038782,-0.033743407577276,-0.011521028354764,-0.006435486953706,0.027199855074286,-0.032031890004873));
res += mul(Get(s1,0,dy), float4x4(0.026060404255986,0.009923433884978,-0.022518003359437,0.114945404231548,0.000698171206750,0.038976103067398,0.043546572327614,-0.012265179306269,-0.011008877307177,-0.009125986136496,-0.016109487041831,-0.014205744490027,-0.002159572439268,0.019083116203547,0.001826541498303,-0.077769249677658));
res += mul(Get(s1,dx,-dy), float4x4(-0.013466915115714,0.029675377532840,-0.032836839556694,0.011360744014382,-0.017305033281446,0.002817219821736,-0.076192229986191,0.021425599232316,-0.028165448457003,0.052439339458942,-0.007117090746760,0.046260140836239,-0.015344708226621,-0.004395512398332,-0.039100497961044,0.002248731441796));
res += mul(Get(s1,dx,0), float4x4(-0.021515710279346,0.016974071040750,-0.054471913725138,0.043533448129892,-0.021622944623232,-0.012651677243412,0.062879920005798,0.005924250930548,-0.006255900487304,0.038559231907129,-0.005967510398477,0.111044615507126,0.017913052812219,-0.086053572595119,0.008588094264269,0.010334871709347));
res += mul(Get(s1,dx,dy), float4x4(-0.011391718871891,-0.021282771602273,-0.035188894718885,0.004610548261553,-0.035620234906673,-0.005186712834984,-0.003774466458708,0.029672658070922,0.031224993988872,-0.033571697771549,-0.011942754499614,0.076092116534710,0.006397169549018,-0.027398550882936,0.006287105381489,-0.021618125960231));
res += mul(Get(s2,-dx,-dy), float4x4(-0.026302505284548,0.173375517129898,-0.005427775438875,-0.058895807713270,0.006925445050001,0.003258553799242,-0.022058654576540,-0.047769822180271,0.083401501178741,0.141186892986298,-0.093392327427864,-0.066436916589737,-0.001703080139123,0.016777249053121,-0.045761015266180,-0.050001278519630));
res += mul(Get(s2,-dx,0), float4x4(-0.038999173790216,0.185930594801903,-0.016470797359943,-0.060896117240191,-0.019389836117625,-0.023917317390442,0.074444256722927,-0.038113251328468,-0.003068462712690,-0.007908321917057,-0.013072263449430,-0.008769364096224,0.103544145822525,0.028932301327586,-0.043873824179173,-0.026573065668344));
res += mul(Get(s2,-dx,dy), float4x4(-0.023024477064610,0.009099767543375,-0.003781574545428,-0.000226562464377,-0.000872277014423,-0.095365449786186,0.012220580130816,-0.018816774711013,0.005095812492073,0.029543127864599,0.022071758285165,-0.020554495975375,0.053040198981762,0.047995302826166,-0.000183658630704,-0.020736560225487));
res += mul(Get(s2,0,-dy), float4x4(-0.053353954106569,-0.093312814831734,-0.012201289646327,-0.022467471659184,-0.015246370807290,-0.009176405146718,-0.049607880413532,0.016373362392187,0.081691630184650,-0.218765750527382,-0.138170540332794,0.034836377948523,-0.074170365929604,0.004870151169598,-0.063181474804878,-0.030385781079531));
res += mul(Get(s2,0,0), float4x4(-0.068358406424522,-0.189277455210686,-0.053916610777378,0.036730740219355,-0.013397703878582,0.063321672379971,0.049368504434824,0.105025105178356,0.030045660212636,0.170326396822929,0.115968815982342,-0.005102777853608,-0.012686986476183,0.032027624547482,-0.040870897471905,0.014203170314431));
res += mul(Get(s2,0,dy), float4x4(0.003532276721671,-0.000226993361139,0.018190164119005,0.029954815283418,0.031169617548585,0.002556201769039,0.001427669543773,0.076968826353550,-0.008796563372016,0.002157434588298,0.052865114063025,-0.078321747481823,0.134860992431641,0.019616553559899,-0.009174820967019,0.015003585256636));
res += mul(Get(s2,dx,-dy), float4x4(-0.023103237152100,0.060657702386379,-0.023461833596230,-0.035273257642984,-0.011372067034245,-0.049809042364359,-0.040245532989502,0.013212369754910,-0.003115632804111,0.034098114818335,-0.048153184354305,-0.020191982388496,-0.056850723922253,0.020742274820805,-0.097834929823875,-0.020252261310816));
res += mul(Get(s2,dx,0), float4x4(-0.043358869850636,0.108224481344223,-0.017700571566820,0.012152957729995,-0.009642109274864,-0.016747623682022,0.063369534909725,0.017153527587652,0.047408271580935,-0.143978744745255,0.044529788196087,-0.102807767689228,-0.064541198313236,0.030305454507470,-0.032340902835131,-0.034359823912382));
res += mul(Get(s2,dx,dy), float4x4(-0.006338927894831,0.016123773530126,-0.013157534413040,-0.053451381623745,0.033861193805933,0.005978176370263,-0.017925567924976,0.046194858849049,0.012230343185365,0.028299808502197,-0.003624013625085,-0.007477229461074,0.077112965285778,-0.014064861461520,-0.028982661664486,-0.000902694300748));
res += mul(Get(s3,-dx,-dy), float4x4(-0.070202603936195,0.045940261334181,0.100773692131042,-0.024941358715296,-0.014153779484332,-0.035573910921812,0.003654270898551,-0.035780631005764,-0.052659332752228,0.012011020444334,-0.037268642336130,0.003504510968924,-0.019469106569886,-0.015756569802761,-0.005060791037977,-0.018747286871076));
res += mul(Get(s3,-dx,0), float4x4(-0.041311357170343,-0.019517038017511,-0.031609464436769,-0.001040378236212,-0.007038044277579,-0.016767673194408,0.010616891086102,0.055309478193521,0.013997592963278,0.054461337625980,-0.079101979732513,-0.036681853234768,-0.001301409211010,0.015734331682324,-0.041386399418116,-0.000128918080009));
res += mul(Get(s3,-dx,dy), float4x4(-0.028255598619580,-0.001154330675490,-0.032622303813696,-0.002949482062832,0.040495071560144,0.006519225891680,0.069137230515480,0.011852998286486,0.025938719511032,0.027605447918177,0.064342670142651,0.040651440620422,0.088495761156082,0.014537123963237,0.044373922049999,-0.018677018582821));
res += mul(Get(s3,0,-dy), float4x4(-0.067845635116100,0.058413706719875,0.143608510494232,-0.068733058869839,-0.026252320036292,0.013127546757460,-0.034654766321182,0.045199792832136,-0.045522227883339,-0.000338152400218,-0.014714662916958,0.031021652743220,-0.054763481020927,0.058738827705383,-0.007241810671985,-0.027110969647765));
res += mul(Get(s3,0,0), float4x4(-0.016082348302007,0.026810579001904,-0.075625091791153,-0.011095118708909,-0.009095980785787,-0.027142077684402,0.033031597733498,0.073896341025829,0.068240255117416,-0.029402446001768,-0.090699583292007,0.134604766964912,-0.028580550104380,0.032953344285488,-0.054963957518339,-0.069232024252415));
res += mul(Get(s3,0,dy), float4x4(-0.039821874350309,0.040950320661068,-0.044277988374233,0.024596923962235,0.028371984139085,0.033830270171165,0.070296205580235,-0.050703532993793,0.013533409684896,0.000129864420160,0.117626033723354,0.068446934223175,0.088381879031658,-0.005740285385400,0.021846067160368,0.032060157507658));
res += mul(Get(s3,dx,-dy), float4x4(-0.012696080841124,0.009077674709260,0.108872786164284,-0.023173885419965,-0.034970108419657,0.009876420721412,0.021506212651730,0.011017984710634,-0.052443683147430,0.009289236739278,-0.024047326296568,-0.017988257110119,-0.050154909491539,0.005638685077429,-0.012403817847371,-0.055074926465750));
res += mul(Get(s3,dx,0), float4x4(-0.011960744857788,-0.038479894399643,-0.036446459591389,-0.037862036377192,-0.017121754586697,0.033777043223381,0.023480299860239,-0.034047201275826,0.000922023667954,0.029321262612939,-0.016880072653294,0.027016567066312,-0.031721979379654,-0.014499580487609,-0.061495803296566,-0.047027196735144));
res += mul(Get(s3,dx,dy), float4x4(-0.031677387654781,-0.032829035073519,-0.040752440690994,-0.050251409411430,0.008891187608242,0.007392842322588,0.063291765749454,0.026160152629018,0.001143902773038,0.029763557016850,0.064219750463963,0.002965214196593,0.030586624518037,-0.027344701811671,0.006376369390637,-0.061381246894598));
return max(float4(0,0,0,0), res);
}
