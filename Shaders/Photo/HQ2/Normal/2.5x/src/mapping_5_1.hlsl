sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.038226298987865,-0.058767158538103,-0.032396670430899,0.017701577395201,-0.040835481137037,0.035576742142439,0.014894563704729,0.024788374081254,-0.003037882968783,-0.009202494286001,-0.018007377162576,-0.061838023364544,0.075044184923172,-0.000806611264125,-0.018116366118193,0.052761893719435));
res += mul(Get(s0,-dx,0), float4x4(0.013673437759280,-0.038076896220446,-0.035859577357769,0.009556638076901,-0.004004888702184,0.126493021845818,0.106207206845284,0.047008410096169,0.053467608988285,0.008826551958919,-0.068115442991257,0.002812719903886,-0.044188152998686,-0.002764798700809,0.120118118822575,0.070085927844048));
res += mul(Get(s0,-dx,dy), float4x4(0.014909582212567,-0.008620197884738,-0.015930803492665,-0.024304632097483,-0.000082837563241,0.051018834114075,0.218248307704926,0.041002616286278,-0.037180978804827,0.040276788175106,-0.016372626647353,-0.029238581657410,-0.036609467118979,-0.020286666229367,0.037397690117359,0.029572943225503));
res += mul(Get(s0,0,-dy), float4x4(-0.118184745311737,-0.028347143903375,0.033910933881998,-0.025093896314502,0.045579247176647,-0.065177217125893,0.004333733581007,0.008384080603719,0.117741212248802,-0.002892857184634,-0.097066074609756,-0.019078221172094,-0.098615638911724,-0.043453600257635,0.041975580155849,0.008462103083730));
res += mul(Get(s0,0,0), float4x4(-0.022919589653611,-0.079567939043045,-0.003698874497786,-0.048642612993717,-0.115042023360729,-0.078256823122501,-0.054929889738560,-0.023337513208389,0.012835572473705,-0.005019585136324,0.011441596783698,0.023972885683179,0.075989954173565,-0.013088110834360,-0.049190640449524,0.051045998930931));
res += mul(Get(s0,0,dy), float4x4(0.046366415917873,-0.042656980454922,0.004666544031352,-0.034137789160013,0.040804035961628,-0.008832111954689,-0.176136925816536,0.034153383225203,-0.035697285085917,0.013536393642426,-0.020980063825846,0.014210914261639,-0.063065133988857,0.020516717806458,-0.012777645140886,0.026858102530241));
res += mul(Get(s0,dx,-dy), float4x4(-0.084469482302666,0.009770236909389,0.037368167191744,-0.039848305284977,0.048911787569523,-0.039763495326042,-0.014848269522190,0.047596085816622,0.052078384906054,-0.019210422411561,-0.045386131852865,0.005953403655440,0.031362254172564,0.043382316827774,-0.006913632154465,-0.011177439242601));
res += mul(Get(s0,dx,0), float4x4(-0.066259615123272,-0.032890591770411,-0.019777728244662,-0.072933934628963,0.135257497429848,-0.057356957346201,0.000312355841743,0.048560529947281,0.014833851717412,-0.028105719015002,0.006219110917300,0.042741853743792,0.056861076503992,0.060441378504038,-0.040153440088034,0.078404113650322));
res += mul(Get(s0,dx,dy), float4x4(-0.001406454131939,-0.048516135662794,0.021681234240532,-0.075727187097073,-0.042124241590500,-0.047123175114393,0.040011338889599,-0.084101811051369,-0.063341654837132,-0.000923155224882,0.024325190111995,0.052496716380119,-0.099257670342922,-0.009284803643823,0.029413063079119,-0.009682154282928));
res += mul(Get(s1,-dx,-dy), float4x4(-0.017034182325006,-0.016463553532958,-0.008049095980823,-0.056538108736277,0.014740168116987,-0.009171757847071,-0.044904533773661,-0.012647096067667,0.069086305797100,0.038090441375971,-0.011678113602102,-0.031792450696230,-0.051116067916155,-0.085156127810478,0.021662512794137,0.019080212339759));
res += mul(Get(s1,-dx,0), float4x4(-0.054605722427368,-0.043918788433075,-0.014876127243042,-0.065754942595959,0.004259323235601,0.012967062182724,0.111777730286121,0.020583078265190,0.048285380005836,0.088457837700844,-0.046560466289520,-0.022712975740433,0.024804001674056,-0.097803629934788,-0.008827845565975,0.062997803092003));
res += mul(Get(s1,-dx,dy), float4x4(0.015381277538836,-0.093078568577766,0.010522220283747,-0.061678629368544,0.017622835934162,-0.014798432588577,0.103043451905251,0.003999795299023,-0.012464373372495,0.053276170045137,0.052196025848389,0.031487043946981,-0.004423250909895,-0.118359014391899,-0.046965409070253,0.032156366854906));
res += mul(Get(s1,0,-dy), float4x4(0.022672969847918,0.035191882401705,0.086786344647408,-0.032951988279819,-0.017511576414108,-0.024498611688614,-0.054573059082031,-0.016927234828472,0.024035897105932,-0.061841651797295,-0.026552196592093,0.036453284323215,0.003749660449103,0.040836293250322,-0.012648092582822,0.045039650052786));
res += mul(Get(s1,0,0), float4x4(0.003652589628473,0.071238391101360,0.025371313095093,-0.036229081451893,-0.015188026241958,-0.002572467550635,0.057280473411083,-0.044400744140148,0.074194319546223,-0.071400165557861,0.029945433139801,0.012414573691785,0.075871966779232,0.014610881917179,-0.008254485204816,0.008104238659143));
res += mul(Get(s1,0,dy), float4x4(0.041347611695528,0.016723895445466,-0.012241687625647,-0.081587158143520,0.039819568395615,0.027807053178549,0.011786787770689,0.012062757275999,-0.053285941481590,-0.039492465555668,0.117617256939411,0.102573879063129,0.084099136292934,-0.044984631240368,-0.067186944186687,-0.011019986122847));
res += mul(Get(s1,dx,-dy), float4x4(0.057741466909647,-0.009979912079871,0.059526197612286,0.024404246360064,-0.022373234853148,-0.030295334756374,0.017320206388831,-0.030326828360558,0.001324833719991,-0.058263584971428,-0.035744655877352,0.041364863514900,-0.000851226504892,0.041492562741041,0.006717364769429,0.056592471897602));
res += mul(Get(s1,dx,0), float4x4(0.119615390896797,0.035543013364077,0.026125429198146,0.066796436905861,0.066473990678787,-0.011034817434847,-0.044748377054930,0.017087930813432,-0.055297967046499,-0.035625178366899,-0.017187319695950,0.048031613230705,-0.001642859308049,0.099284142255783,0.000978082651272,0.023367132991552));
res += mul(Get(s1,dx,dy), float4x4(0.076026216149330,0.001456423779018,0.018805852159858,-0.023455491289496,0.081891857087612,0.021065915003419,-0.014339191839099,0.037127576768398,-0.001630889368244,0.022082611918449,0.074726708233356,0.013193231076002,-0.008960077539086,-0.020918373018503,0.013353967107832,-0.021802417933941));
res += mul(Get(s2,-dx,-dy), float4x4(0.020721955224872,0.027319671586156,0.012081772089005,0.010478288866580,-0.019931808114052,-0.038900867104530,0.007751564495265,-0.049083173274994,0.047843772917986,-0.009897927753627,0.036756105720997,-0.031270455569029,0.077998884022236,-0.039212267845869,-0.000059289450292,-0.052417479455471));
res += mul(Get(s2,-dx,0), float4x4(0.074801295995712,-0.003686638316140,-0.021919345483184,-0.002618278143927,0.023793481290340,-0.055118747055531,-0.007253197953105,0.020223110914230,0.057789087295532,0.011353244073689,-0.024806531146169,-0.008624550886452,0.137263625860214,0.013931093737483,-0.032955527305603,-0.000121962861158));
res += mul(Get(s2,-dx,dy), float4x4(0.056043893098831,0.013530203141272,-0.010782572440803,0.022399783134460,0.026304675266147,-0.041353426873684,0.005823432467878,-0.006178467534482,0.031996764242649,-0.026720862835646,-0.024212889373302,-0.000220834728680,0.032557196915150,0.030858783051372,0.027023971080780,0.032215792685747));
res += mul(Get(s2,0,-dy), float4x4(0.161523699760437,0.095302402973175,-0.022766258567572,0.022114127874374,0.037866432219744,0.039978042244911,0.055188719183207,0.034881275147200,0.055804528295994,-0.034237604588270,0.013932027854025,-0.022451646625996,0.059246174991131,0.001449323259294,-0.024484531953931,-0.005957859568298));
res += mul(Get(s2,0,0), float4x4(-0.009466911666095,0.069066949188709,-0.050059810280800,-0.007931052707136,0.018260160461068,0.068499825894833,0.042380910366774,-0.000180008893949,0.086427688598633,-0.025992250069976,-0.008499900810421,0.048721883445978,0.049050059169531,0.005027473904192,-0.024706769734621,-0.015955964103341));
res += mul(Get(s2,0,dy), float4x4(-0.100688368082047,0.037497881799936,-0.004822792019695,-0.103579051792622,0.020513830706477,0.050301983952522,0.062995709478855,-0.078517027199268,-0.025343999266624,-0.000632698414847,0.049579925835133,-0.009970814920962,0.074863970279694,0.030389156192541,0.011470372788608,0.097068272531033));
res += mul(Get(s2,dx,-dy), float4x4(0.054463244974613,-0.054949060082436,-0.007504110690206,0.038785491138697,0.035419225692749,-0.057242061942816,0.059117197990417,-0.044522102922201,-0.022838328033686,-0.007464883383363,0.060576006770134,-0.020526017993689,0.003289774060249,-0.007501865271479,0.073156304657459,-0.027490587905049));
res += mul(Get(s2,dx,0), float4x4(-0.075196765363216,-0.001008259947412,0.061087843030691,-0.011156001128256,0.024496221914887,-0.074647203087807,0.024243187159300,-0.145343884825706,-0.069140277802944,-0.072478897869587,0.023432848975062,-0.016680913046002,-0.021366368979216,-0.002792328828946,0.001474380609579,-0.070403859019279));
res += mul(Get(s2,dx,dy), float4x4(-0.084484018385410,0.043055456131697,0.043880719691515,-0.137852564454079,0.022720936685801,-0.004103320650756,0.011036212556064,-0.053479157388210,0.010278593748808,-0.057423688471317,-0.009645276702940,-0.027966370806098,-0.002773207612336,0.026422198861837,-0.021532386541367,-0.040092501789331));
res += mul(Get(s3,-dx,-dy), float4x4(-0.004638875834644,-0.070088952779770,0.009324306622148,0.012639692984521,0.023374777287245,-0.085564732551575,-0.022882403805852,0.019504817202687,-0.025187926366925,0.035213187336922,-0.054240271449089,-0.046436484903097,0.026666114106774,-0.016164606437087,-0.008418661542237,0.000198658730369));
res += mul(Get(s3,-dx,0), float4x4(0.036447208374739,-0.097429767251015,0.001410196535289,0.012394003570080,0.046610582619905,-0.029820324853063,0.058496743440628,0.120246693491936,-0.051952384412289,-0.035473406314850,-0.044871650636196,0.012306923046708,-0.007404095027596,-0.018762823194265,0.032014820724726,0.107946887612343));
res += mul(Get(s3,-dx,dy), float4x4(0.039523422718048,-0.068669028580189,-0.030491601675749,0.014183783903718,-0.037213053554296,-0.050650250166655,0.038688924163580,0.098608881235123,0.004064033739269,-0.022501176223159,0.000378807948437,0.036305267363787,-0.079573765397072,-0.041739854961634,0.004466769751161,-0.008310696110129));
res += mul(Get(s3,0,-dy), float4x4(-0.134965151548386,0.000763998425100,0.073120921850204,0.007425577845424,-0.013263319619000,-0.046156495809555,-0.042539637535810,0.066119827330112,0.022654859349132,0.067123062908649,-0.019471148028970,0.045381605625153,0.036439616233110,-0.020533835515380,0.007857181131840,-0.021691016852856));
res += mul(Get(s3,0,0), float4x4(0.241786316037178,0.010061550885439,-0.070665210485458,0.057850483804941,0.007433016318828,-0.071947306394577,-0.016820853576064,0.112191326916218,-0.043865207582712,0.115099020302296,0.071649171411991,0.003077017376199,0.030864257365465,-0.025012630969286,0.018769757822156,0.016175361350179));
res += mul(Get(s3,0,dy), float4x4(-0.051313180476427,-0.046541586518288,0.148615181446075,-0.027457002550364,0.030665429309011,-0.071368478238583,0.013599645346403,0.005423352587968,-0.018686335533857,0.016817092895508,-0.016644760966301,0.011971440166235,-0.058690890669823,-0.059230934828520,0.028043990954757,-0.054992195218801));
res += mul(Get(s3,dx,-dy), float4x4(-0.023123115301132,0.031420826911926,0.073367945849895,0.060202986001968,-0.044498220086098,0.048175394535065,-0.053178545087576,0.113073818385601,-0.086652360856533,0.004968223627657,-0.009544858708978,0.071146182715893,0.030364798381925,-0.037330154329538,-0.029002550989389,-0.018980143591762));
res += mul(Get(s3,dx,0), float4x4(-0.020449858158827,0.008842920884490,0.003819422330707,-0.089179575443268,-0.030695369467139,0.097571007907391,0.003052673535421,0.007601599209011,-0.049556896090508,0.029930224642158,0.009479323402047,-0.025728350505233,0.029007399454713,0.017845558002591,0.020959395915270,0.002767409430817));
res += mul(Get(s3,dx,dy), float4x4(0.044498439878225,0.019947413355112,0.047654561698437,0.004571818746626,0.021225148811936,0.042440075427294,0.066628567874432,-0.017619119957089,0.027905179187655,0.075381979346275,0.023940850049257,0.001019155606627,0.005119833629578,-0.001608089078218,0.067831389605999,0.004587767180055));
return max(float4(0,0,0,0), res);
}
