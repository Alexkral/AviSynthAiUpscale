sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.008049046620727,0.012468873523176,0.002507770434022,-0.032309837639332,0.011684644035995,0.019971430301666,-0.003400076180696,-0.002044300781563,-0.001541460864246,0.018348261713982,0.000559869513381,0.014467576518655,0.023567898198962,0.061911456286907,-0.014736247248948,0.020913582295179));
res += mul(Get(s0,-dx,0), float4x4(-0.005732126068324,0.009926004335284,0.013042564503849,-0.021772259846330,0.025112926959991,0.028914971277118,-0.005018449854106,0.010792341083288,0.001287211547606,0.023670868948102,0.008125293068588,0.019592005759478,0.018806152045727,0.093243882060051,-0.019590342417359,-0.074893869459629));
res += mul(Get(s0,-dx,dy), float4x4(-0.011251788586378,0.016692355275154,0.022030640393496,0.047395106405020,0.027796080335975,0.022139376029372,-0.006872926838696,0.012372853234410,0.017551587894559,0.042887862771749,0.010670904070139,0.074289180338383,0.002809586469084,0.067147023975849,-0.017124142497778,0.051756843924522));
res += mul(Get(s0,0,-dy), float4x4(0.013947277329862,-0.011700238101184,0.002983449725434,0.022683154791594,0.009494567289948,0.026417247951031,-0.002472970169038,0.029144143685699,-0.002512261737138,-0.009566796943545,0.009363776072860,0.023885309696198,0.004605756606907,-0.017004497349262,-0.015401613898575,-0.046023856848478));
res += mul(Get(s0,0,0), float4x4(0.006089987698942,-0.017533764243126,0.015505803748965,-0.006951303221285,0.016644963994622,0.049450982362032,-0.003998966421932,0.036690030246973,0.003580277785659,0.003843411803246,0.017675498500466,0.011302928440273,-0.025091024115682,-0.002037012716755,-0.012046174146235,-0.059546642005444));
res += mul(Get(s0,0,dy), float4x4(0.001328736310825,-0.009931812062860,0.020022412762046,0.045260015875101,0.017412813380361,0.038644228130579,-0.005993289873004,-0.001982794608921,0.028058595955372,0.040814258158207,0.013280924409628,0.047331508249044,-0.033833771944046,-0.006441363133490,-0.002749385545030,0.163168504834175));
res += mul(Get(s0,dx,-dy), float4x4(0.021948076784611,-0.018505418673158,0.000195481203264,0.026892054826021,-0.006533459294587,0.001005690312013,-0.005377248860896,-0.035993892699480,0.011303748004138,-0.015866773203015,0.013483501970768,0.032701984047890,-0.007903381250799,-0.022063346579671,-0.004448398947716,-0.058979496359825));
res += mul(Get(s0,dx,0), float4x4(0.052653551101685,-0.032754313200712,0.007991787977517,-0.024669252336025,-0.012630517594516,0.016980746760964,-0.006545174401253,0.001426490256563,0.030247511342168,-0.001773873809725,0.014226229861379,-0.005679099354893,-0.032221511006355,-0.039476457983255,0.007974723353982,-0.071964472532272));
res += mul(Get(s0,dx,dy), float4x4(0.052444666624069,-0.031127922236919,0.007176457438618,-0.013881459832191,-0.016059385612607,0.014394734986126,-0.007891937159002,0.028388874605298,0.046641692519188,0.039090156555176,0.009246415458620,0.038224406540394,-0.037522334605455,-0.029129983857274,0.019105598330498,0.119521707296371));
res += mul(Get(s1,-dx,-dy), float4x4(0.008156094700098,0.063693188130856,-0.018435509875417,-0.026530373841524,-0.031424652785063,-0.047128755599260,-0.006522759795189,-0.106543317437172,0.018523951992393,0.032997686415911,0.000093174909125,0.033637169748545,0.006759093608707,0.023806791752577,-0.004966867621988,0.001706603914499));
res += mul(Get(s1,-dx,0), float4x4(-0.016724491491914,0.091382272541523,-0.013704540207982,-0.087716691195965,-0.046847388148308,-0.061315640807152,0.005261525511742,-0.080491505563259,0.030447097495198,0.049837063997984,-0.001580586191267,0.015912348404527,0.024147303774953,0.016908841207623,-0.009124929085374,0.043926402926445));
res += mul(Get(s1,-dx,dy), float4x4(-0.013190512545407,0.067991390824318,-0.006849524565041,0.081297606229782,-0.059095449745655,-0.047049198299646,0.013080507516861,0.106796160340309,0.026363048702478,0.044421747326851,-0.002768378704786,0.002273558173329,0.000871055526659,0.019496582448483,-0.006085641216487,0.008072103373706));
res += mul(Get(s1,0,-dy), float4x4(-0.021494513377547,-0.076689824461937,-0.014881554059684,-0.107060134410858,0.008728767745197,-0.007659417577088,0.000576132268179,0.043220743536949,0.018363066017628,0.017283242195845,-0.000577878905460,0.022867631167173,0.017934001982212,0.014751102775335,-0.004833653569221,-0.018637210130692));
res += mul(Get(s1,0,0), float4x4(-0.057991340756416,-0.066129453480244,-0.002169372281060,0.013803824782372,0.016974097117782,-0.027844320982695,0.014073567464948,-0.015343265607953,0.011444001458585,0.036140009760857,-0.001082316390239,-0.008003926835954,0.030487813055515,-0.006503643933684,-0.011915807612240,-0.027527585625648));
res += mul(Get(s1,0,dy), float4x4(-0.050471808761358,-0.034508146345615,0.007112786639482,0.288501530885696,0.012749277986586,-0.018594983965158,0.019906647503376,0.072578050196171,0.003244162071496,0.030670622363687,-0.000760304741561,0.001115019083954,-0.008136691525578,-0.021016649901867,-0.004993900656700,-0.064057894051075));
res += mul(Get(s1,dx,-dy), float4x4(-0.007177705410868,-0.067214123904705,0.010028309188783,-0.067464724183083,0.012077599763870,-0.016698544844985,-0.009044079110026,-0.038091588765383,0.009167765267193,0.018400857225060,-0.000342080806149,-0.005983022972941,0.008188138715923,0.045548293739557,-0.003096283413470,0.021660435944796));
res += mul(Get(s1,dx,0), float4x4(-0.019447712227702,-0.080202937126160,0.029006307944655,-0.076772838830948,0.037260718643665,-0.029248792678118,-0.005105513148010,-0.073492452502251,0.000579560990445,0.017243564128876,0.000756402907427,-0.019373841583729,0.017036793753505,0.018689569085836,-0.007623055018485,0.019075334072113));
res += mul(Get(s1,dx,dy), float4x4(-0.014043916016817,-0.032721959054470,0.032414127141237,0.075066156685352,0.033505797386169,-0.027750769630075,-0.003549196757376,0.089632108807564,-0.003462369088084,0.010941637679935,0.002932684496045,0.021943798288703,-0.004014532547444,-0.021742777898908,-0.000024804485292,-0.059796895831823));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001289007137530,0.000011733264728,0.000305041437969,-0.000846392882522,0.002570741577074,0.003114364342764,0.000221379203140,0.000449988059700,0.003791865427047,0.009940224699676,-0.004708366468549,-0.005044447723776,-0.004409659653902,0.027351183816791,-0.006721776910126,-0.072781160473824));
res += mul(Get(s2,-dx,0), float4x4(0.000381690188078,0.000078527853475,0.000018355663997,-0.000107374195068,0.003416087012738,0.002100119600073,-0.000467988371383,0.000390770583181,0.004378519486636,0.027990965172648,-0.004281160887331,0.015972146764398,0.000259123829892,0.035671826452017,-0.002331132069230,0.041061948984861));
res += mul(Get(s2,-dx,dy), float4x4(0.000542846100871,-0.000014859173461,0.000625612621661,0.000615662080236,0.002049768809229,0.003076404100284,0.000804232142400,-0.001105196890421,-0.003104502335191,0.031808514147997,-0.004609645344317,0.020972359925508,0.030830927193165,0.034532859921455,-0.000192655221326,0.023424671962857));
res += mul(Get(s2,0,-dy), float4x4(0.000305261783069,0.000387890409911,0.000017909553208,0.000606475747190,0.002808492863551,0.004031642340124,0.000294006807962,0.002357390709221,0.005844650790095,-0.029987575486302,-0.006415310315788,-0.034092653542757,-0.013905144296587,-0.017506161704659,0.001130921882577,-0.019464075565338));
res += mul(Get(s2,0,0), float4x4(-0.000249683420407,-0.000834178877994,0.000430551648606,-0.000106284707726,0.003535067196935,0.003605515696108,0.000014143904082,-0.000039351838495,-0.003318466013297,-0.030161490663886,-0.004775760695338,-0.011746522970498,-0.010118806734681,0.018839487805963,0.010539300739765,0.178284570574760));
res += mul(Get(s2,0,dy), float4x4(-0.000239171669818,0.000046366636525,0.000644160143565,-0.000048869176680,0.002375789219514,0.001077020773664,-0.000439024006482,-0.001311456202529,-0.016825690865517,-0.024750795215368,-0.004867260809988,0.036818340420723,0.032850302755833,0.038366593420506,0.002884485991672,0.048461478203535));
res += mul(Get(s2,dx,-dy), float4x4(0.000104308128357,-0.000462420983240,0.000500567315612,-0.000211708975257,0.001524164574221,0.005025948863477,0.000334089563694,0.000833298719954,0.001493244431913,-0.001432632561773,0.001399844419211,-0.022789167240262,-0.014310259371996,-0.043935094028711,0.010882291011512,-0.062070291489363));
res += mul(Get(s2,dx,0), float4x4(-0.000031720381230,0.000103798854980,0.000655470066704,-0.000561380700674,0.001651370432228,0.003040785901248,0.000343221850926,-0.000087396852905,-0.001393051003106,-0.015375778079033,0.004180400632322,-0.019413555040956,-0.004304424859583,-0.001429354888387,0.015298090875149,0.091116100549698));
res += mul(Get(s2,dx,dy), float4x4(0.000226391974138,-0.000205932607059,0.000154171168106,-0.000662282400299,0.000134247122332,0.000592067197431,0.000816658837721,-0.000693458423484,-0.012065953575075,-0.023828115314245,0.011144861578941,0.021886918693781,0.024902189150453,0.050494231283665,0.006912891753018,0.028499653562903));
res += mul(Get(s3,-dx,-dy), float4x4(0.024618953466415,0.016611976549029,-0.007385852281004,-0.016932208091021,0.000088677821623,0.001609903527424,0.000224752831855,0.001055127242580,0.000181254901690,0.000261242530541,0.000324346154230,-0.000195208514924,0.033660586923361,0.095676310360432,-0.028462622314692,0.027149844914675));
res += mul(Get(s3,-dx,0), float4x4(0.037123784422874,0.022059282287955,-0.005875239614397,-0.025050425902009,0.000611948256847,0.001815613708459,0.000079413577623,0.002034634584561,-0.000233835991821,-0.000584147463087,0.000142658609548,0.000528510834556,0.009745638817549,0.182255163788795,-0.032085999846458,-0.098097808659077));
res += mul(Get(s3,-dx,dy), float4x4(0.007233846001327,0.033716615289450,-0.000314750184771,-0.035897187888622,0.002320834901184,0.001522467471659,0.000312422984280,-0.000291609234409,-0.000527107797097,-0.000074112642324,-0.000425958714914,0.000056574295741,-0.022906906902790,0.148912608623505,-0.027566179633141,0.080957725644112));
res += mul(Get(s3,0,-dy), float4x4(0.022514153271914,0.005977998021990,-0.011356168426573,-0.023130640387535,0.000346273474861,-0.001151066273451,0.000346505898051,0.000827599142212,-0.000372443522792,-0.000004075988272,0.000145733487443,0.000358599529136,0.006505381781608,-0.086393482983112,-0.029010867699981,-0.196694731712341));
res += mul(Get(s3,0,0), float4x4(0.026811027899384,-0.003694670740515,-0.005618332419544,-0.060189709067345,0.001177273457870,-0.000233460639720,-0.000177953479579,0.004103929270059,0.000387027364923,-0.000775632855948,-0.000251542136539,-0.000654238101561,-0.076173894107342,-0.064942829310894,-0.019394913688302,-0.140248849987984));
res += mul(Get(s3,0,dy), float4x4(-0.007288127671927,-0.004217965062708,0.004353127907962,-0.045326247811317,0.001696300343610,0.000365931162378,0.000147623752127,-0.000290470081381,-0.000288643903332,0.000729459046852,-0.000105223894934,0.000158925118740,-0.105480223894119,-0.042674429714680,0.002190776402131,0.430366218090057));
res += mul(Get(s3,dx,-dy), float4x4(0.011519901454449,0.018671205267310,-0.007076293695718,0.034627016633749,0.000661658297759,0.000498797395267,0.000528994190972,-0.000198811205337,-0.000131844251882,0.000160366616910,0.000268664502073,-0.000117563620734,0.001228567678481,-0.069920510053635,-0.004789867904037,-0.130480915307999));
res += mul(Get(s3,dx,0), float4x4(0.024478029459715,0.001975337043405,-0.001080021611415,0.006485882680863,0.001196616212837,0.001904042670503,0.001198038808070,0.001434273202904,-0.000012075963241,0.000374658935471,0.000734250119422,0.000275583559414,-0.050610784441233,-0.121007204055786,0.026953682303429,-0.159504503011703));
res += mul(Get(s3,dx,dy), float4x4(0.012967002578080,-0.012249253690243,0.011498435400426,-0.045640040189028,0.001414254656993,0.000777325592935,0.000494360749144,-0.002964828396216,-0.000655612733681,0.000088535649411,0.000326934852637,0.000331501389155,-0.075752779841423,-0.094926521182060,0.054348185658455,0.253977447748184));
return max(float4(0,0,0,0), res);
}
