sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.074844315648079,0.000021226034733,-0.081034675240517,-0.014548852108419,0.045275922864676,-0.000004676441222,0.003987292759120,0.039862696081400,0.004618640523404,-0.000001891945431,0.022982703521848,0.029313566163182,0.005620114505291,-0.000040337359678,-0.026648074388504,-0.006146413739771));
res += mul(Get(s0,-dx,0), float4x4(0.070444315671921,0.000021763018594,-0.023613782599568,-0.011863665655255,0.012935525737703,0.000007535299574,0.035756919533014,-0.024633664637804,-0.005900599528104,0.000000135414510,0.035038765519857,0.008055310696363,0.033282451331615,-0.000012989570678,-0.043321143835783,-0.003331594401971));
res += mul(Get(s0,-dx,dy), float4x4(0.061141580343246,0.000023691736715,-0.027400474995375,0.027681136503816,0.031013565137982,-0.000006363351531,-0.009682757779956,-0.003421494271606,0.051672283560038,-0.000006291001682,-0.071684531867504,0.017536558210850,-0.012591929174960,-0.000054102572904,0.002378066536039,-0.015490647405386));
res += mul(Get(s0,0,-dy), float4x4(-0.026185221970081,-0.000004417881883,0.019559362903237,-0.015921970829368,0.088344529271126,0.000026766827432,-0.041747290641069,0.072829477488995,0.018827406689525,-0.000000291787813,-0.009412823244929,-0.003961631562561,0.020208608359098,-0.000010993959222,-0.038489796221256,-0.016008853912354));
res += mul(Get(s0,0,0), float4x4(-0.063312277197838,0.000035073724575,0.183753162622452,0.025595758110285,-0.094385050237179,-0.000022304384402,0.143485963344574,-0.024907646700740,0.018506659194827,0.000004630974217,0.002220607129857,-0.002887827111408,-0.050576210021973,-0.000045304692321,0.082727819681168,-0.041432954370975));
res += mul(Get(s0,0,dy), float4x4(0.123027175664902,0.000042817617214,-0.113150462508202,0.067284889519215,0.033371347934008,0.000031441966712,0.045609660446644,0.079769037663937,0.028222829103470,0.000000662551258,-0.031039705500007,0.004246469121426,-0.013264573179185,-0.000010305136129,0.051747255027294,-0.008585280738771));
res += mul(Get(s0,dx,-dy), float4x4(0.017459927126765,0.000006407771252,-0.025419773533940,-0.008455830626190,0.033053319901228,0.000037407407945,0.029174139723182,-0.013079931959510,-0.010228214785457,-0.000011204434486,0.007343111094087,-0.015417117625475,-0.002709192456678,-0.000037235357013,-0.021733816713095,0.019267978146672));
res += mul(Get(s0,dx,0), float4x4(0.019673770293593,-0.000022281688871,0.022782118991017,0.032993622124195,0.051240954548120,0.000053808933444,-0.019965287297964,-0.049823958426714,-0.022513007745147,-0.000013178230802,0.019543694332242,0.002373104682192,-0.016540193930268,-0.000017103595383,0.014319894835353,0.032213579863310));
res += mul(Get(s0,dx,dy), float4x4(0.097977846860886,-0.000006807593763,-0.111834213137627,0.078493237495422,0.037864528596401,0.000000676869661,-0.005947977770120,-0.029378477483988,-0.007230858784169,-0.000015011706637,-0.002245877869427,0.035521414130926,-0.007940418086946,-0.000008835716471,0.029333010315895,0.026084441691637));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002237941836938,0.000006472808309,0.009749652817845,-0.002713601803407,0.024849392473698,0.000013828397641,-0.025926740840077,0.022781997919083,0.005112509243190,0.000003876984920,0.041235927492380,0.021105837076902,0.016457747668028,-0.000021899373678,-0.010093527846038,0.006533975247294));
res += mul(Get(s1,-dx,0), float4x4(-0.000175090463017,0.000019117742340,0.002865898655728,-0.002652682131156,-0.001402455265634,0.000012535137103,0.012736301869154,-0.009099656715989,-0.023833747953176,0.000013442608179,0.086999051272869,-0.018515150994062,0.057830553501844,-0.000005572363079,-0.075790844857693,0.007594875991344));
res += mul(Get(s1,-dx,dy), float4x4(0.004786653909832,0.000004691977210,-0.007395686581731,-0.000775973428972,-0.000271778524620,0.000000037435207,-0.000007754686521,0.000410198757891,-0.015139839611948,-0.000023537802917,0.021321294829249,-0.000823967158794,-0.022633213549852,-0.000018095193809,0.057769745588303,-0.033855360001326));
res += mul(Get(s1,0,-dy), float4x4(0.000595981546212,0.000006952450349,0.011312042362988,0.000209769146750,0.056321561336517,-0.000022016432922,-0.080577239394188,0.034178201109171,0.086924016475677,0.000003702473350,-0.088582143187523,0.040092978626490,0.030800087377429,0.000025546962206,0.045614589005709,0.028799802064896));
res += mul(Get(s1,0,0), float4x4(0.005940644070506,0.000011213571270,0.006825588643551,-0.004417770542204,-0.050742112100124,-0.000006426675100,0.043474696576595,-0.019080765545368,-0.111268162727356,-0.000036666257074,0.184694930911064,-0.013280506245792,0.039614286273718,-0.000002696816864,-0.039655584841967,-0.007530042901635));
res += mul(Get(s1,0,dy), float4x4(0.008111665956676,0.000011131272913,-0.001345395226963,-0.003615293651819,-0.011103519238532,0.000013202059563,0.034389771521091,0.023502329364419,0.009599580429494,0.000006254304481,0.066511437296867,0.057869143784046,-0.066051542758942,0.000024296828997,0.143885329365730,-0.038910597562790));
res += mul(Get(s1,dx,-dy), float4x4(0.003175514051691,0.000003926715181,-0.007729974109679,0.023501107469201,0.011506235226989,0.000006081006177,0.001313550514169,-0.008351879194379,0.004217742476612,-0.000011757295397,0.012982811778784,-0.033464457839727,0.002761398209259,-0.000014154633391,0.050682637840509,0.055439945310354));
res += mul(Get(s1,dx,0), float4x4(-0.009009244851768,0.000010514732821,0.018044155091047,0.021137714385986,0.010969079099596,0.000005626176971,-0.042910587042570,-0.032630167901516,0.061194460839033,0.000024157061489,-0.029893824830651,-0.019923618063331,0.025138333439827,-0.000014964742149,-0.011458989232779,0.055183116346598));
res += mul(Get(s1,dx,dy), float4x4(-0.000098162228824,0.000012460583093,0.012078962288797,0.017041785642505,-0.004708075430244,-0.000002638463457,0.006145944353193,0.001531233312562,-0.006683017592877,-0.000015413344954,0.064078800380230,-0.028363702818751,0.003097753738984,0.000011922981685,0.037849709391594,0.004437325522304));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001014782697894,-0.000003989731795,-0.001996038714424,0.003564782673493,0.029165528714657,-0.000006264925105,-0.014747724868357,0.011058418080211,0.005762383807451,0.000009323704944,0.002044653287157,-0.006207777652889,-0.011874951422215,0.000008932694982,0.024111380800605,-0.016910079866648));
res += mul(Get(s2,-dx,0), float4x4(-0.001134320977144,-0.000001570654263,0.008715759962797,0.026129603385925,0.065965831279755,-0.000007547293990,-0.069971770048141,-0.010462824255228,0.034753717482090,0.000020869825676,-0.028548538684845,0.008856392465532,0.028783902525902,-0.000012845908714,-0.048912230879068,-0.024966681376100));
res += mul(Get(s2,-dx,dy), float4x4(0.008295134641230,0.000007330174867,0.001729755196720,0.026627931743860,0.028794931247830,-0.000018778055164,-0.040655065327883,-0.016358651220798,-0.030398335307837,0.000010058084627,0.045319527387619,-0.036231417208910,0.053926549851894,-0.000015038875063,-0.106798477470875,-0.004345973487943));
res += mul(Get(s2,0,-dy), float4x4(-0.011178335174918,-0.000013863682398,0.019036808982491,-0.017431609332561,0.021155506372452,0.000013123769349,0.007437598891556,0.031182374805212,0.029142757877707,0.000035492903407,-0.008218349888921,0.005254978314042,-0.012349861674011,-0.000007207123872,0.033275343477726,0.002684001345187));
res += mul(Get(s2,0,0), float4x4(0.048561692237854,-0.000012204125596,-0.050057873129845,0.016827134415507,-0.053088296204805,-0.000018451222786,0.062531299889088,-0.032598339021206,0.045367393642664,0.000039488546463,-0.035225335508585,-0.004927688743919,-0.067370280623436,-0.000000434956689,0.112285859882832,-0.019671818241477));
res += mul(Get(s2,0,dy), float4x4(0.048258900642395,0.000007070340871,-0.051101136952639,0.007836141623557,-0.003705176990479,-0.000006023391506,0.002019410487264,0.008798926137388,-0.068735033273697,0.000050491267757,0.125630125403404,-0.054555248469114,0.022707030177116,-0.000008318216715,-0.028579670935869,0.029438747093081));
res += mul(Get(s2,dx,-dy), float4x4(-0.020830135792494,0.000015547117073,0.050470694899559,-0.005579669028521,0.020878972485662,-0.000002311722938,-0.023449746891856,0.007156199775636,0.003767640795559,-0.000004836856078,0.004493200220168,0.044871181249619,0.004207577556372,-0.000006349779596,-0.001886433223262,0.003258181503043));
res += mul(Get(s2,dx,0), float4x4(0.024006808176637,-0.000016739308194,-0.005582194309682,0.015157585032284,-0.009903289377689,-0.000009290701200,0.011877511627972,-0.019745199009776,-0.012000579386950,0.000004601273304,0.025367282330990,0.051879350095987,-0.021512661129236,-0.000002128463166,0.036264039576054,-0.003258477663621));
res += mul(Get(s2,dx,dy), float4x4(0.017934091389179,0.000008819914910,-0.023547278717160,-0.006930842529982,0.002910561161116,-0.000011578675185,0.002898069331422,-0.011025268584490,-0.024947661906481,0.000035115182982,0.083568945527077,0.037208426743746,-0.002221679082140,-0.000020094579668,0.016077965497971,0.017672279849648));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005115670617670,0.000021395557269,0.057375390082598,0.013089756481349,-0.033129539340734,-0.000007484125945,0.032596420496702,-0.010032441467047,0.013017073273659,-0.000007583617389,0.021693212911487,0.035405393689871,0.006718737073243,-0.000007117336736,0.008188258856535,0.014851418323815));
res += mul(Get(s3,-dx,0), float4x4(-0.011400282382965,0.000034496224544,0.054683960974216,-0.016875475645065,-0.015020764432847,0.000003143745289,0.041618496179581,0.035395495593548,0.006918494589627,-0.000012512441572,-0.033045817166567,-0.002420656383038,-0.013435199856758,-0.000023472141038,0.020300084725022,0.006471809931099));
res += mul(Get(s3,-dx,dy), float4x4(-0.001978912157938,0.000005613804205,0.012729925103486,-0.005015055648983,0.041031420230865,-0.000001280633796,-0.038023773580790,0.031392004340887,-0.014487826265395,-0.000012894563042,0.010831947438419,-0.013318097218871,0.030900195240974,-0.000018877233742,-0.047398366034031,0.033324968069792));
res += mul(Get(s3,0,-dy), float4x4(0.065209612250328,0.000013281218344,-0.024477522820234,0.061534546315670,-0.029324347153306,-0.000016926804165,0.079178392887115,-0.011972104199231,0.046986274421215,0.000004749325399,0.009230636991560,0.077546454966068,-0.013647790998220,-0.000024689172278,0.018818560987711,-0.016769044101238));
res += mul(Get(s3,0,0), float4x4(-0.069558918476105,-0.000000635022161,0.118661947548389,0.000283555244096,0.126501411199570,0.000043840176659,-0.088896572589874,0.050635684281588,0.006233305204660,-0.000032458319765,-0.052800279110670,0.000047862744395,0.002536783693358,-0.000003236959856,0.027861790731549,0.001813854905777));
res += mul(Get(s3,0,dy), float4x4(0.012335489504039,0.000031814921385,0.036872170865536,0.042586710304022,-0.016055207699537,-0.000002087449957,0.012612682767212,-0.049232970923185,-0.031110048294067,-0.000004346792139,0.039877280592918,0.008932418189943,0.061133250594139,-0.000026522338885,-0.086843192577362,0.017596200108528));
res += mul(Get(s3,dx,-dy), float4x4(0.004153455141932,-0.000025561030270,0.024474592879415,0.021176280453801,0.037034314125776,0.000008193928807,-0.022493911907077,0.016879476606846,0.016794566065073,-0.000019549011995,0.015028558671474,0.023770261555910,-0.004595777485520,-0.000006562158433,0.003689527511597,-0.032242074608803));
res += mul(Get(s3,dx,0), float4x4(0.060851030051708,0.000019106200853,-0.052263144403696,0.037678528577089,-0.018189892172813,0.000007424764135,0.025670619681478,-0.013253872282803,0.020116996020079,-0.000022817344870,-0.043122153729200,-0.019664546474814,-0.008675679564476,-0.000015185773918,0.031698230654001,-0.032566815614700));
res += mul(Get(s3,dx,dy), float4x4(0.033862322568893,-0.000002172613222,-0.017627639696002,0.012621078640223,-0.048003561794758,-0.000002159627002,0.074025243520737,-0.004314910154790,0.004280988592654,-0.000006342593679,-0.014538887888193,-0.024006137624383,0.006718713324517,-0.000014213029317,-0.015029693022370,-0.016751173883677));
return max(float4(0,0,0,0), res);
}
