sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.020768726244569,-0.013244071975350,0.067711241543293,0.015420207753778,0.067167520523071,0.032921608537436,-0.016605250537395,0.044514510780573,-0.004567319061607,0.061082620173693,-0.022653948515654,0.057791639119387,-0.001518372097053,0.046734593808651,0.017699815332890,0.023363770917058));
res += mul(Get(s0,-dx,0), float4x4(-0.009586310945451,0.051835466176271,0.048601947724819,0.039886273443699,0.053899798542261,0.021870894357562,-0.020625054836273,0.090133182704449,0.057628247886896,-0.030253868550062,0.059164021164179,0.011265411973000,0.005459075327963,0.041609197854996,0.005495233926922,0.011309972964227));
res += mul(Get(s0,-dx,dy), float4x4(-0.027634732425213,0.039594516158104,0.025544907897711,0.033212296664715,-0.006038934923708,-0.004214377608150,0.026580495759845,0.047341246157885,-0.011810691095889,-0.030993478372693,0.036592077463865,0.052176609635353,0.045385092496872,-0.003038257360458,-0.009023973718286,0.014337213709950));
res += mul(Get(s0,0,-dy), float4x4(-0.044983383268118,-0.036670185625553,-0.037167258560658,-0.024835901334882,0.014380974695086,0.054183565080166,0.011126198805869,0.051032844930887,-0.004909739363939,0.010328761301935,-0.008569629862905,0.074464514851570,-0.033742111176252,-0.026496682316065,-0.024216750636697,-0.011629415675998));
res += mul(Get(s0,0,0), float4x4(0.007880953140557,-0.024293033406138,0.034939069300890,0.158444479107857,-0.042106132954359,-0.072542935609818,0.071682117879391,-0.062842212617397,0.017482034862041,-0.051592446863651,0.083843275904655,-0.011695538647473,-0.064863763749599,0.021748496219516,0.016972118988633,0.005386952776462));
res += mul(Get(s0,0,dy), float4x4(-0.013943990692496,0.003131974022835,0.039486259222031,0.012814373709261,0.043604642152786,-0.002140106866136,-0.001417896128260,0.046619866043329,-0.001620637485757,-0.032552000135183,0.032946966588497,0.091092370450497,-0.002581027336419,-0.032857947051525,-0.026259057223797,-0.005285622086376));
res += mul(Get(s0,dx,-dy), float4x4(-0.054524976760149,-0.007613181136549,-0.020433250814676,-0.102772429585457,-0.035495407879353,-0.053496424108744,0.054524917155504,-0.008334691636264,-0.020829748362303,-0.054459847509861,0.010062630288303,0.059362959116697,-0.018711181357503,0.024492451921105,0.000046476703574,0.001408919459209));
res += mul(Get(s0,dx,0), float4x4(-0.025215223431587,-0.033601179718971,0.012861452065408,0.098965801298618,0.048781171441078,0.069975033402443,0.008404197171330,-0.009171044453979,0.001330033992417,-0.009270126931369,0.087598830461502,0.010387979447842,0.023542739450932,0.014077926985919,-0.012644818052649,0.047743037343025));
res += mul(Get(s0,dx,dy), float4x4(-0.005674297455698,0.049139648675919,0.039231825619936,0.064737617969513,0.027835650369525,-0.020877009257674,0.010726680979133,-0.009128134697676,0.012531992979348,-0.031000828370452,0.012883374467492,0.052663341164589,0.000918803794775,-0.020323352888227,0.004740725737065,0.089809954166412));
res += mul(Get(s1,-dx,-dy), float4x4(0.076095812022686,0.007321740966290,-0.021172124892473,-0.091051042079926,0.080456554889679,-0.064893461763859,0.032321389764547,0.018736593425274,-0.027490774169564,-0.018214903771877,0.033943444490433,0.013342898339033,0.090446613729000,-0.055317129939795,0.078978247940540,-0.062131270766258));
res += mul(Get(s1,-dx,0), float4x4(0.042508568614721,0.038005512207747,-0.004278093576431,0.029940117150545,0.078801222145557,-0.036070130765438,0.069479711353779,-0.070748224854469,-0.030237406492233,-0.096681721508503,0.063963212072849,0.022193470969796,0.072409361600876,0.008076908998191,0.050108566880226,-0.016661759465933));
res += mul(Get(s1,-dx,dy), float4x4(0.023169463500381,0.111060008406639,-0.039632298052311,0.086653187870979,-0.008514731191099,0.009678284637630,0.089062467217445,-0.011867404915392,-0.029249500483274,-0.046326648443937,0.046962257474661,0.022505750879645,0.077298954129219,-0.069028727710247,0.031066292896867,-0.011846817098558));
res += mul(Get(s1,0,-dy), float4x4(0.008424820378423,0.049988355487585,-0.006597966421396,-0.121553435921669,0.053118754178286,-0.044875968247652,-0.135417535901070,0.034851580858231,-0.038478907197714,0.035294704139233,0.073484845459461,-0.019793422892690,0.038848824799061,-0.143067151308060,-0.003564905608073,-0.138164073228836));
res += mul(Get(s1,0,0), float4x4(-0.036342550069094,0.022604554891586,-0.020305668935180,-0.036257605999708,0.053775321692228,0.007793657947332,-0.054664973169565,0.036843057721853,-0.034958261996508,-0.041497968137264,0.139326468110085,0.009063924662769,-0.027442291378975,0.001144848647527,-0.067619942128658,-0.017198171466589));
res += mul(Get(s1,0,dy), float4x4(-0.050472114235163,-0.048476450145245,-0.041870508342981,0.056296087801456,-0.022414570674300,0.029441569000483,0.016793988645077,-0.021430583670735,-0.006790908053517,-0.050950963050127,0.075491584837437,-0.057233594357967,-0.049379106611013,-0.029130553826690,-0.065239787101746,-0.018770042806864));
res += mul(Get(s1,dx,-dy), float4x4(-0.071064688265324,-0.051892004907131,0.042636811733246,-0.161811113357544,-0.087832897901535,-0.087571948766708,-0.076384671032429,0.004523937590420,-0.010197035968304,0.009027512744069,-0.000161226358614,-0.071183755993843,-0.028072712942958,0.030188415199518,-0.023296095430851,-0.116053335368633));
res += mul(Get(s1,dx,0), float4x4(-0.058307167142630,0.051420420408249,-0.075648382306099,-0.058957573026419,-0.041893947869539,-0.053641248494387,0.007307607680559,0.090737879276276,0.000072613765951,0.022411428391933,-0.021853789687157,0.038297150284052,-0.051896568387747,-0.033370956778526,-0.074401721358299,-0.066411532461643));
res += mul(Get(s1,dx,dy), float4x4(-0.057172160595655,-0.032112713903189,-0.079971611499786,-0.020523358136415,-0.015960145741701,0.026913736015558,0.058030460029840,0.030231522396207,-0.011260520666838,-0.038190115243196,0.017744952812791,0.002567052142695,-0.039451524615288,-0.025522718206048,-0.099163666367531,0.058307621628046));
res += mul(Get(s2,-dx,-dy), float4x4(0.074363872408867,0.076224625110626,-0.019839227199554,0.027720648795366,0.098802655935287,-0.049577809870243,0.039937891066074,-0.103430695831776,0.052312251180410,0.052367642521858,-0.005736882798374,-0.081247933208942,-0.073001556098461,-0.031928528100252,0.003460485953838,0.027146924287081));
res += mul(Get(s2,-dx,0), float4x4(0.031117664650083,0.024271005764604,-0.025588138028979,0.021393710747361,0.042056784033775,0.025588983669877,0.046088960021734,-0.045014526695013,0.089965656399727,-0.050481714308262,-0.019666414707899,0.033053752034903,-0.053928066045046,-0.082988165318966,0.009969816543162,-0.004629332106560));
res += mul(Get(s2,-dx,dy), float4x4(0.033177163451910,0.026268249377608,-0.002586541930214,0.084347426891327,-0.014854717999697,0.066998779773712,-0.001642684219405,-0.008873846381903,0.026130506768823,0.027091404423118,0.030731037259102,0.081528879702091,-0.015505822375417,-0.103017844259739,0.060539960861206,-0.013687124475837));
res += mul(Get(s2,0,-dy), float4x4(0.019531467929482,0.070353657007217,-0.009472513571382,0.024340273812413,0.023979663848877,-0.016368798911572,0.011111577972770,-0.128767475485802,0.025606635957956,0.068439722061157,-0.031642694026232,-0.042275965213776,-0.066086426377296,-0.127611145377159,-0.012210631743073,0.065933816134930));
res += mul(Get(s2,0,0), float4x4(0.005430297926068,0.083079583942890,-0.047633551061153,-0.093077778816223,-0.020964294672012,-0.018167588859797,-0.042822629213333,-0.139953792095184,0.038920383900404,0.116022333502769,-0.013287772424519,-0.014582986012101,-0.079235956072807,-0.081591881811619,-0.038793325424194,0.071169786155224));
res += mul(Get(s2,0,dy), float4x4(-0.005114924628288,0.079637177288532,-0.125799760222435,-0.026922026649117,-0.037796769291162,0.008291529491544,-0.040860030800104,0.051285225898027,0.014747395180166,-0.016520420089364,0.006786891724914,0.088065862655640,-0.015390374697745,-0.047423165291548,0.015682039782405,0.001332236803137));
res += mul(Get(s2,dx,-dy), float4x4(-0.020834097638726,0.114188991487026,0.029396273195744,0.026962555944920,0.018098197877407,0.069752052426338,0.022264022380114,-0.038206152617931,-0.014909083954990,-0.034285176545382,0.017503188923001,-0.024314479902387,-0.043498564511538,0.028250718489289,0.135560169816017,-0.008699496276677));
res += mul(Get(s2,dx,0), float4x4(0.013312337920070,0.058183234184980,-0.031550426036119,-0.049757089465857,-0.008175946772099,0.070094563066959,-0.037830024957657,-0.076803050935268,-0.031180219724774,0.074930623173714,-0.014771092683077,0.022030029445887,-0.032463178038597,0.007027238141745,0.009099344722927,-0.004856823943555));
res += mul(Get(s2,dx,dy), float4x4(-0.000824876828119,0.038747832179070,-0.056004766374826,-0.055952917784452,-0.042982712388039,0.035244800150394,-0.054809659719467,-0.053074348717928,-0.007777540478855,-0.005092730280012,-0.006900263018906,0.055217828601599,0.015730865299702,-0.002468556864187,-0.024945175275207,0.012692954391241));
res += mul(Get(s3,-dx,-dy), float4x4(0.046024918556213,-0.063188046216965,0.051309756934643,0.022169066593051,0.024618323892355,0.026770094409585,0.041773825883865,0.102898031473160,0.089702889323235,-0.068970642983913,-0.038870926946402,0.099386192858219,0.123343981802464,-0.015421569347382,0.021681776270270,-0.040215183049440));
res += mul(Get(s3,-dx,0), float4x4(0.047325316816568,-0.010654626414180,0.070755697786808,0.010455908253789,-0.091889873147011,-0.003816006472334,0.016507206484675,0.000980506534688,0.061131168156862,-0.007132919039577,-0.004694798029959,0.085675656795502,0.074462495744228,0.035494700074196,0.021710213273764,-0.005421559326351));
res += mul(Get(s3,-dx,dy), float4x4(0.018904654309154,0.050468698143959,0.055790659040213,0.019240548834205,-0.039089001715183,-0.054385080933571,0.039146974682808,0.038189750164747,0.050859935581684,0.022169543430209,0.058245114982128,0.055964387953281,0.057161204516888,0.035744849592447,-0.027679178863764,0.020554682239890));
res += mul(Get(s3,0,-dy), float4x4(0.018828323110938,-0.087773725390434,0.028945624828339,-0.050790298730135,-0.031358521431684,-0.029058394953609,0.035344045609236,-0.038377735763788,0.007495531346649,0.048150975257158,-0.054727174341679,-0.007753939367831,0.046448040753603,0.002379991346970,0.035603538155556,-0.069543361663818));
res += mul(Get(s3,0,0), float4x4(0.016060126945376,0.065288618206978,-0.009635728783906,0.061170481145382,-0.096855700016022,0.136781558394432,-0.058121960610151,-0.175870448350906,-0.054238878190517,-0.004009440075606,-0.061139479279518,-0.073941811919212,-0.005174388177693,-0.007547701708972,0.001589520019479,-0.026703877374530));
res += mul(Get(s3,0,dy), float4x4(-0.020026311278343,-0.027087891474366,0.034060847014189,0.046420149505138,-0.088337317109108,0.036630932241678,-0.037825696170330,-0.041075229644775,-0.049392756074667,0.047079235315323,-0.013528139330447,0.035494070500135,-0.033533435314894,-0.007789110764861,-0.018625617027283,-0.028159173205495));
res += mul(Get(s3,dx,-dy), float4x4(0.029025338590145,0.030579295009375,-0.006636864971370,0.013943789526820,-0.032942041754723,-0.095470927655697,-0.037820097059011,-0.028735604137182,0.008608244359493,0.009041698649526,0.015917666256428,0.046491969376802,0.021281022578478,0.003897564020008,0.039540793746710,-0.057459104806185));
res += mul(Get(s3,dx,0), float4x4(-0.012006830424070,-0.026889849454165,0.018249146640301,0.004609462339431,-0.030216600745916,-0.030543193221092,-0.119401901960373,-0.067497186362743,-0.028324298560619,0.050931319594383,-0.033910434693098,-0.035443864762783,-0.045301992446184,-0.049180660396814,0.027831109240651,-0.043532472103834));
res += mul(Get(s3,dx,dy), float4x4(-0.012585017830133,-0.074818745255470,0.026687541976571,0.044056199491024,-0.067803531885147,0.009204994887114,-0.092472627758980,-0.083963252604008,-0.026078755035996,0.053752154111862,-0.032531037926674,0.005516097880900,-0.021249255165458,-0.040895663201809,-0.002825320465490,-0.024423655122519));
return max(float4(0,0,0,0), res);
}
