sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.004771422594786,-0.023307675495744,0.003070141887292,0.021783243864775,-0.003711443627253,-0.013445029035211,0.082028299570084,-0.032482966780663,-0.019955536350608,-0.102741234004498,0.001708277268335,0.053151067346334,-0.005408983677626,-0.000596413156018,0.002441009739414,0.018709644675255));
res += mul(Get(s0,-dx,0), float4x4(-0.006617039442062,0.018046492710710,0.124764218926430,0.044264703989029,-0.011618684045970,0.055065419524908,0.102674774825573,-0.043517380952835,-0.006030054297298,-0.025111796334386,-0.016807701438665,0.033452093601227,0.007350950036198,-0.029542278498411,0.002431283472106,-0.001637949957512));
res += mul(Get(s0,-dx,dy), float4x4(-0.008609850890934,-0.036226782947779,0.068372964859009,-0.017158126458526,0.013382986187935,-0.018767936155200,0.098580673336983,0.013899572193623,-0.013231649063528,0.048094298690557,-0.047247558832169,0.033719312399626,0.000613758689724,0.003662581788376,-0.078998863697052,-0.007167738396674));
res += mul(Get(s0,0,-dy), float4x4(-0.012520682998002,-0.034988380968571,0.012619345448911,-0.015741560608149,-0.010671598836780,-0.056441895663738,0.018045235425234,-0.038291271775961,-0.021199101582170,-0.038374286144972,0.034153927117586,0.026291422545910,-0.026974728330970,0.060105890035629,0.091992996633053,0.027996892109513));
res += mul(Get(s0,0,0), float4x4(-0.006613238714635,-0.043943252414465,-0.008805615827441,0.027153860777617,-0.006118763703853,-0.068429313600063,-0.184289276599884,0.035036183893681,-0.012389716692269,0.040350936353207,0.136544331908226,-0.006062445230782,-0.009333070367575,0.015637811273336,0.027092160657048,-0.019591234624386));
res += mul(Get(s0,0,dy), float4x4(-0.001950922771357,-0.020306944847107,0.085810802876949,-0.006831954233348,0.001273691188544,0.049426406621933,0.041694726794958,0.083605684340000,-0.012752946466208,0.084635339677334,0.043447673320770,-0.001580752199516,0.007386542391032,0.046071793884039,-0.021208710968494,0.031377166509628));
res += mul(Get(s0,dx,-dy), float4x4(-0.013322426006198,-0.031941879540682,-0.051827669143677,-0.013922094367445,-0.019005410373211,-0.042244050651789,0.012403304688632,-0.005066906102002,-0.003522070823237,-0.079434961080551,-0.040347211062908,0.091102421283722,-0.013761375099421,0.004747292492539,0.061397936195135,-0.033184669911861));
res += mul(Get(s0,dx,0), float4x4(-0.008744897320867,-0.020483506843448,-0.006592046469450,0.040200747549534,0.008817696943879,-0.031568180769682,-0.065057680010796,0.057421624660492,-0.008973466232419,-0.032246604561806,0.046639040112495,-0.004068639129400,-0.016860757023096,0.024806207045913,0.032204546034336,-0.062981843948364));
res += mul(Get(s0,dx,dy), float4x4(-0.006174243520945,-0.018067765980959,0.019398860633373,0.032632827758789,0.018337618559599,-0.021087564527988,-0.012994338758290,0.106404557824135,-0.018861243501306,0.020831374451518,0.072862774133682,-0.051288131624460,-0.012327146716416,0.043912947177887,-0.004139649216086,-0.017078151926398));
res += mul(Get(s1,-dx,-dy), float4x4(0.004252622835338,-0.017156973481178,-0.019836002960801,-0.001029839506373,0.008951483294368,-0.032280560582876,0.028804965317249,-0.129584729671478,-0.003513529663906,-0.016962675377727,0.010064885020256,-0.008487275801599,0.002240610308945,-0.030909027904272,0.029910936951637,-0.005083631724119));
res += mul(Get(s1,-dx,0), float4x4(-0.010706568136811,0.005372678395361,-0.024744661524892,0.005074133630842,0.003025800921023,-0.057040866464376,-0.077721737325191,0.012378473766148,-0.000031470925023,-0.012205100618303,-0.004625054076314,-0.004268898162991,0.000304392044200,-0.018906354904175,-0.005710059311241,-0.013573763892055));
res += mul(Get(s1,-dx,dy), float4x4(-0.013850600458682,0.028386585414410,0.048315931111574,0.051452368497849,0.007711933460087,0.067391619086266,0.004475303459913,0.037293523550034,-0.000707078259438,0.007505088113248,-0.009853929281235,0.025138001888990,-0.004428605083376,-0.009370631538332,0.001346806995571,0.020963005721569));
res += mul(Get(s1,0,-dy), float4x4(0.009349328465760,-0.033570796251297,0.051880188286304,-0.037024579942226,0.018876550719142,-0.007011113222688,-0.028571266680956,-0.048507437109947,0.004056940320879,-0.008954168297350,-0.013924705795944,0.023500002920628,-0.002518467605114,0.000198548266781,0.023709639906883,-0.014707180671394));
res += mul(Get(s1,0,0), float4x4(-0.000891299510840,-0.049448370933533,-0.022083945572376,-0.037148568779230,0.016319319605827,-0.018457273021340,-0.078725166618824,0.036099076271057,-0.001367172808386,0.009206806309521,0.089605785906315,-0.028660912066698,-0.011453958228230,0.008678427897394,0.032628752291203,-0.061480779200792));
res += mul(Get(s1,0,dy), float4x4(-0.002494073705748,0.003492320887744,-0.068794779479504,0.067912533879280,0.004069458693266,0.061379175633192,-0.030756874009967,0.058683417737484,-0.008627814240754,-0.010406079702079,-0.021660644561052,-0.015818178653717,-0.001897686859593,0.002633470343426,-0.060112476348877,0.030312769114971));
res += mul(Get(s1,dx,-dy), float4x4(0.005883855279535,-0.019857484847307,-0.015841288492084,0.001833037706092,0.012153607793152,0.008663639426231,-0.005710147321224,0.027720900252461,0.004345571622252,-0.014517461881042,0.028940342366695,0.020845288410783,0.017497647553682,-0.025926301255822,-0.015719389542937,0.006112836766988));
res += mul(Get(s1,dx,0), float4x4(0.017698017880321,-0.034385275095701,-0.041623432189226,0.027518311515450,0.011609279550612,0.006694654002786,0.042186271399260,0.024568343535066,0.002483847783878,-0.011682317592204,0.051770295947790,-0.062350861728191,0.028269661590457,-0.010419658385217,-0.089891962707043,-0.007819160819054));
res += mul(Get(s1,dx,dy), float4x4(0.017909111455083,-0.016097923740745,-0.022435653954744,0.065547510981560,0.003029139712453,0.005982527509332,0.019465299323201,0.006758464034647,0.000057990484493,-0.008787584491074,-0.094707109034061,-0.022982418537140,0.027440654113889,0.017545474693179,-0.017258262261748,0.078401833772659));
res += mul(Get(s2,-dx,-dy), float4x4(-0.013825607486069,0.065329730510712,0.018452992662787,0.034501884132624,0.022059187293053,0.015098028816283,-0.024672215804458,0.044197063893080,-0.018128942698240,-0.008357146754861,0.052876371890306,-0.027299990877509,-0.004868280142546,0.026178728789091,0.021472070366144,0.015263130888343));
res += mul(Get(s2,-dx,0), float4x4(-0.006637742742896,0.038247432559729,0.059184480458498,0.011829067952931,0.011456125415862,0.012852736748755,-0.007001104298979,0.032346449792385,-0.011461426503956,-0.008896047249436,0.137399792671204,0.001936748740263,0.001218960969709,-0.022435247898102,-0.001597355003469,-0.033332813531160));
res += mul(Get(s2,-dx,dy), float4x4(-0.011553287506104,0.030809076502919,-0.018314672634006,0.023974016308784,-0.007597343530506,0.041636310517788,0.031260769814253,-0.023551287129521,0.012877059169114,-0.021429738029838,0.034745022654533,0.016617298126221,-0.003122898284346,-0.000097184980405,-0.002084645675495,0.005293983500451));
res += mul(Get(s2,0,-dy), float4x4(-0.011653218418360,0.094011403620243,0.155165120959282,-0.014179711230099,0.010308659635484,0.041168492287397,0.057600080966949,0.028128182515502,-0.008256592787802,0.007857848890126,0.121374286711216,-0.048500590026379,-0.005832499358803,0.025689613074064,-0.011299128644168,0.015459098853171));
res += mul(Get(s2,0,0), float4x4(-0.003418376669288,-0.024352639913559,0.015598189085722,-0.077957443892956,0.005963277071714,0.008405225351453,0.051726765930653,-0.028708089143038,0.015596655197442,-0.062320623546839,-0.120513252913952,0.060100357979536,-0.008944101631641,0.066131666302681,0.046716850250959,-0.013724646531045));
res += mul(Get(s2,0,dy), float4x4(-0.001778963836841,0.018061269074678,0.031797740608454,0.004321537911892,-0.005648271180689,-0.006585119757801,-0.057573087513447,0.012990329414606,0.007373518310487,-0.008091389201581,0.128842905163765,0.072878196835518,-0.003473998745903,0.006862275768071,0.059859327971935,-0.030641045421362));
res += mul(Get(s2,dx,-dy), float4x4(-0.007268307730556,0.056335523724556,0.014763141050935,-0.004413691814989,0.011549588292837,-0.001551527646370,0.030376693233848,-0.023588865995407,-0.002611380070448,-0.050253164023161,0.002061601728201,0.020670205354691,0.037511117756367,-0.048514075577259,-0.141175389289856,0.048425819724798));
res += mul(Get(s2,dx,0), float4x4(0.000503285322338,-0.007433567196131,-0.009596372954547,-0.013171715661883,0.011481276713312,0.009637383744121,0.039428479969501,-0.049800809472799,-0.002778889611363,-0.025825366377831,0.108167864382267,0.065098561346531,0.024912016466260,0.024083301424980,-0.001772703137249,0.086237244307995));
res += mul(Get(s2,dx,dy), float4x4(-0.001300938311033,0.016583267599344,0.015441378578544,0.007094176486135,-0.001376989879645,0.010200357995927,0.012312413193285,-0.012073582969606,0.016035983338952,0.022906495258212,0.032829243689775,0.001499269274063,0.016899272799492,-0.002267190953717,0.031045043841004,-0.044211979955435));
res += mul(Get(s3,-dx,-dy), float4x4(0.011182118207216,0.048726774752140,0.001415170729160,-0.011786374263465,-0.021052358672023,-0.010575172491372,-0.003237846773118,-0.025757342576981,-0.013603814877570,-0.003492905758321,-0.049617629498243,0.044789899140596,-0.002178050111979,0.008733020164073,-0.018011936917901,0.028466945514083));
res += mul(Get(s3,-dx,0), float4x4(-0.000246404903010,0.028302095830441,0.024130316451192,-0.012947899289429,-0.023636233061552,-0.009007568471134,0.031248178333044,0.011515007354319,0.000442723045126,0.005927568767220,-0.029079208150506,0.022014833986759,0.004367268644273,0.003531178925186,-0.049373570829630,0.033022530376911));
res += mul(Get(s3,-dx,dy), float4x4(0.002818452427164,0.010318465530872,-0.017322693020105,0.018511040136218,-0.013250968419015,0.044053927063942,0.026773598045111,0.028772471472621,0.003020967356861,0.006662640254945,-0.041913192719221,-0.001200863975100,-0.010321351699531,-0.001269410364330,-0.016946706920862,0.018079375848174));
res += mul(Get(s3,0,-dy), float4x4(0.018189642578363,0.071902349591255,0.028091568499804,0.027890121564269,0.013983816839755,-0.008567212149501,0.010018712840974,-0.013500448316336,-0.014145086519420,0.004090945702046,-0.054760325700045,0.069227911531925,0.002392920665443,0.004937603604048,-0.030849821865559,0.060595892369747));
res += mul(Get(s3,0,0), float4x4(0.041016086935997,-0.037784602493048,-0.080984890460968,0.020676840096712,0.019301502034068,-0.054872412234545,-0.032418638467789,-0.002408530330285,-0.011005097068846,0.038625542074442,0.037894245237112,0.009614885784686,-0.001325418590568,0.079361863434315,0.155494630336761,0.035118035972118));
res += mul(Get(s3,0,dy), float4x4(0.024483410641551,-0.022755244746804,0.013087177649140,0.026695922017097,0.011953121051192,0.003974746447057,0.072793319821358,0.003639523871243,-0.014704553410411,0.028484679758549,-0.009812481701374,-0.019197547808290,0.000216276850551,-0.015707230195403,-0.008066250942647,-0.017996836453676));
res += mul(Get(s3,dx,-dy), float4x4(-0.014674947597086,0.075961217284203,0.042843148112297,0.052046321332455,0.013453131541610,0.034305475652218,0.055530354380608,0.017624575644732,-0.005313160363585,-0.019638692960143,0.060043428093195,0.011972494423389,0.005313293542713,-0.014186485670507,0.056270919740200,-0.005218739621341));
res += mul(Get(s3,dx,0), float4x4(-0.012157825753093,0.105183884501457,0.152346655726433,-0.022659525275230,0.027412425726652,-0.020757237449288,-0.005616212263703,-0.026931053027511,-0.014481521211565,-0.021802032366395,0.023298559710383,-0.036259759217501,-0.004615386016667,0.034807052463293,0.077042795717716,-0.022962579503655));
res += mul(Get(s3,dx,dy), float4x4(0.000555385486223,-0.003137515857816,0.001292129745707,-0.008154071867466,0.034597158432007,-0.018237855285406,-0.042516089975834,0.044493276625872,-0.030826186761260,0.008143549785018,0.015887897461653,-0.022126905620098,-0.020672017708421,0.014757033437490,0.050193332135677,-0.026326255872846));
return max(float4(0,0,0,0), res);
}
