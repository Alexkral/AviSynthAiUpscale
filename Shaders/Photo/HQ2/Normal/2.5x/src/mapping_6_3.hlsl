sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.032497741281986,-0.005796890240163,0.035645239055157,0.001094397855923,-0.010681471787393,0.021404815837741,-0.017642823979259,-0.020101357251406,-0.092015944421291,0.029354739934206,0.077941045165062,0.018393272534013,-0.055396128445864,0.083404392004013,-0.006994955241680,0.024608058854938));
res += mul(Get(s0,-dx,0), float4x4(0.053172908723354,-0.036108907312155,0.087642520666122,0.034183286130428,-0.007463881280273,-0.019993051886559,0.057009194046259,-0.026074033230543,-0.034583963453770,-0.021644871681929,0.047389883548021,0.036527000367641,-0.043990481644869,0.007696951739490,0.000516639440320,-0.013735388405621));
res += mul(Get(s0,-dx,dy), float4x4(-0.048545200377703,0.031782273203135,-0.042568560689688,0.050097994506359,-0.002876642160118,0.013762473128736,-0.011901367455721,0.031580865383148,-0.006945191416889,-0.022131424397230,0.029339082539082,0.030709166079760,0.004932525567710,0.008956201374531,-0.021305080503225,-0.008423196151853));
res += mul(Get(s0,0,-dy), float4x4(0.013666653074324,-0.160081341862679,0.230484217405319,-0.053803734481335,-0.012269036844373,0.043339829891920,-0.044520907104015,0.007933820597827,-0.077149987220764,0.021066604182124,-0.174016147851944,-0.024116003885865,-0.052088435739279,-0.010565920732915,0.015854934230447,0.006648534908891));
res += mul(Get(s0,0,0), float4x4(-0.028457360342145,0.012729150243104,-0.134865611791611,-0.010158728808165,-0.024042686447501,0.053591944277287,-0.074721343815327,-0.000680472468957,0.009587673470378,0.006482100114226,0.068851798772812,0.017685230821371,0.040891654789448,0.032436266541481,-0.034401200711727,-0.052691701799631));
res += mul(Get(s0,0,dy), float4x4(-0.053545381873846,0.082649014890194,0.038307163864374,-0.017870269715786,0.011678908951581,0.007198644801974,0.008348190225661,-0.038087222725153,-0.012654373422265,-0.037443760782480,0.067248314619064,-0.000418227369664,0.025149917230010,0.002546280622482,0.020450761541724,-0.071952350437641));
res += mul(Get(s0,dx,-dy), float4x4(-0.010186895728111,-0.111524932086468,0.100330643355846,-0.070175014436245,0.100683569908142,0.028187233954668,0.027479745447636,-0.013904795981944,-0.038350395858288,-0.011547140777111,0.118945688009262,-0.047626707702875,-0.017907191067934,-0.022887961938977,-0.012570975348353,-0.013458587229252));
res += mul(Get(s0,dx,0), float4x4(0.039034482091665,0.047153905034065,0.009253062307835,-0.075902625918388,0.073552958667278,0.007747739087790,-0.010335269384086,-0.009518492966890,0.050098653882742,0.011948700994253,0.092083089053631,-0.095070034265518,0.069797039031982,-0.014911566860974,-0.036794114857912,-0.065883301198483));
res += mul(Get(s0,dx,dy), float4x4(-0.050094302743673,0.051325730979443,-0.004472494591027,-0.057609736919403,0.048780828714371,0.030883349478245,-0.010348012670875,-0.015849096700549,0.091788053512573,0.030293390154839,0.027118360623717,0.005125334952027,-0.004811631049961,-0.005879333708435,0.000619531318080,-0.049038171768188));
res += mul(Get(s1,-dx,-dy), float4x4(-0.003743496956304,0.054592043161392,0.033087812364101,0.065388292074203,-0.013597754761577,-0.021766262128949,0.036697756499052,-0.028669912368059,-0.051238693296909,-0.024955676868558,-0.033262532204390,-0.018537003546953,-0.018655957654119,0.035284951329231,0.010855057276785,-0.007570874411613));
res += mul(Get(s1,-dx,0), float4x4(0.029123926535249,0.026076655834913,0.023291876539588,0.034549117088318,0.006095124874264,0.009871575050056,0.002566047478467,-0.032066144049168,-0.019149502739310,-0.078398756682873,-0.019500868394971,-0.003554524155334,-0.019741764292121,0.028627609834075,0.026180410757661,-0.006982375402004));
res += mul(Get(s1,-dx,dy), float4x4(0.039027683436871,0.018744913861156,0.015957783907652,0.018339795991778,0.065486826002598,-0.003417139407247,-0.003355826251209,0.020134681835771,0.038075361400843,-0.035243090242147,-0.013922544196248,0.000314073404297,-0.026746392250061,0.037071794271469,-0.011166134849191,-0.017941109836102));
res += mul(Get(s1,0,-dy), float4x4(0.019258605316281,0.048174187541008,0.069850519299507,-0.025473779067397,-0.058072283864021,-0.061530753970146,0.028762923553586,-0.039067711681128,-0.059230852872133,0.014853362925351,-0.023079546168447,0.018943719565868,0.054717656224966,0.010968876071274,-0.049797326326370,-0.005717246327549));
res += mul(Get(s1,0,0), float4x4(-0.043723687529564,-0.027399361133575,0.021009217947721,-0.062953725457191,0.034018673002720,0.045133534818888,-0.106952294707298,0.029996141791344,0.078388966619968,0.006720740813762,-0.003102667862549,0.015346664004028,0.015001260675490,-0.066605724394321,0.033531088382006,0.067800067365170));
res += mul(Get(s1,0,dy), float4x4(0.034809641540051,0.059636138379574,0.049037054181099,-0.052076760679483,0.072821266949177,0.078945443034172,-0.042610675096512,0.014759595505893,0.027734788134694,0.026838470250368,-0.052719093859196,-0.033885903656483,0.020027805119753,0.043387871235609,-0.044264011085033,-0.012345363385975));
res += mul(Get(s1,dx,-dy), float4x4(-0.022229017689824,0.030472258105874,0.028237454593182,-0.106877744197845,-0.018851483240724,-0.040982116013765,0.013816840946674,-0.013069112785161,0.040305074304342,0.055512681603432,-0.000535773462616,0.011452814564109,0.006140541285276,0.016446536406875,-0.043162863701582,0.017249740660191));
res += mul(Get(s1,dx,0), float4x4(-0.026081519201398,-0.023118812590837,-0.019152155146003,-0.041063137352467,0.064592808485031,-0.013461294583976,-0.035798981785774,0.038116440176964,0.054994184523821,0.042046450078487,-0.073295742273331,0.009768605232239,-0.007036955561489,-0.057230010628700,0.015671493485570,0.057869572192430));
res += mul(Get(s1,dx,dy), float4x4(0.018304545432329,-0.001663306495175,0.000389399996493,-0.066442102193832,0.039287045598030,0.064978279173374,-0.025871241465211,0.019152909517288,-0.043700225651264,0.039806228131056,-0.061982311308384,-0.043891809880733,-0.011032084003091,0.042798310518265,-0.031635958701372,-0.005177311599255));
res += mul(Get(s2,-dx,-dy), float4x4(-0.022000795230269,0.034653257578611,-0.014259653165936,0.017183076590300,0.016137421131134,0.021363526582718,0.021406477317214,-0.009713772684336,-0.045890379697084,-0.019282817840576,-0.001724004861899,0.031700417399406,0.066150426864624,-0.011561283841729,-0.083599686622620,-0.025857592001557));
res += mul(Get(s2,-dx,0), float4x4(-0.002176217734814,0.033754065632820,0.013984061777592,0.002269430784509,0.029635107144713,-0.035415876656771,0.031470391899347,-0.019576834514737,-0.013680223375559,-0.026276154443622,-0.017067143693566,0.035539790987968,0.138898730278015,0.038522489368916,0.027551937848330,-0.073822155594826));
res += mul(Get(s2,-dx,dy), float4x4(0.004684638231993,-0.018402155488729,-0.013486145995557,0.048181138932705,0.038553290069103,0.066364496946335,-0.033702507615089,0.048343226313591,0.019828351214528,0.004216294735670,-0.003687888383865,0.059851966798306,0.069405212998390,0.015559739433229,-0.000955304072704,-0.008438197895885));
res += mul(Get(s2,0,-dy), float4x4(-0.029748151078820,0.035440772771835,0.037741892039776,0.001391510828398,0.023471802473068,0.029138065874577,-0.012360639870167,0.013677880167961,-0.075569830834866,-0.037330716848373,-0.045670010149479,0.023686818778515,0.147221863269806,0.033475913107395,-0.006637240294367,0.004452813416719));
res += mul(Get(s2,0,0), float4x4(0.015218017622828,0.085470788180828,-0.063804171979427,0.054651118814945,0.042322725057602,-0.024497002363205,0.138380944728851,-0.007588196080178,0.083801880478859,0.005943397060037,0.080407187342644,0.044472318142653,0.070379935204983,-0.007127854041755,0.103063121438026,-0.028522033244371));
res += mul(Get(s2,0,dy), float4x4(0.012244611047208,0.010215998627245,0.032168351113796,0.025274042040110,0.007517784833908,-0.022996591404080,0.045378353446722,0.013433686457574,0.053284242749214,0.005537996068597,0.017129499465227,0.043368216603994,0.003682565409690,-0.004705923143774,0.028823059052229,0.007186319679022));
res += mul(Get(s2,dx,-dy), float4x4(-0.024888310581446,0.055214166641235,0.021025907248259,0.027567634359002,-0.001844362122938,0.016401665285230,0.013196855783463,-0.004926865920424,-0.095168210566044,-0.038970228284597,0.017537321895361,0.006244225893170,0.053416725248098,0.020901804789901,-0.018572855740786,0.002275859238580));
res += mul(Get(s2,dx,0), float4x4(0.002897722879425,0.019783060997725,-0.058529056608677,0.041059572249651,-0.011421491391957,-0.003517766715959,-0.004204245284200,0.001940228859894,0.005388746038079,0.001976748229936,-0.003839007345960,0.002621367573738,-0.048579484224319,-0.021690342575312,-0.005576015450060,0.000104234160972));
res += mul(Get(s2,dx,dy), float4x4(-0.006380392238498,0.005187669768929,-0.020404327660799,0.019054492935538,-0.002768651582301,0.007105242460966,0.029981138184667,0.024955268949270,0.000823782233056,-0.006914737634361,0.045021962374449,-0.012495652772486,0.024534778669477,0.014945501461625,0.032521668821573,0.027285275980830));
res += mul(Get(s3,-dx,-dy), float4x4(-0.044426131993532,0.024732390418649,-0.002246433170512,0.020909193903208,-0.047834761440754,0.048490907996893,-0.007523685693741,0.008415141142905,-0.060124401003122,0.004704385530204,-0.042782604694366,0.029492331668735,0.102158024907112,0.025259513407946,0.031418737024069,-0.027020467445254));
res += mul(Get(s3,-dx,0), float4x4(-0.032986667007208,0.027086718007922,0.036406982690096,-0.004384398926049,-0.041918735951185,0.057015612721443,-0.002142478246242,0.085593394935131,-0.009904851205647,-0.025644199922681,0.026247903704643,-0.015324358828366,0.009300091303885,0.032862890511751,0.017995674163103,0.026605529710650));
res += mul(Get(s3,-dx,dy), float4x4(0.023496093228459,0.025586383417249,-0.007034475915134,-0.025283776223660,0.039046205580235,0.081170022487640,0.013268335722387,-0.008703088387847,-0.031819161027670,-0.013666194863617,0.051425803452730,-0.041690461337566,0.003442008281127,0.021781001240015,-0.002013483550400,0.007047868333757));
res += mul(Get(s3,0,-dy), float4x4(-0.029392950236797,0.047549843788147,-0.009656408801675,0.029928490519524,-0.034070119261742,0.046642400324345,0.034796237945557,-0.069608882069588,-0.076176829636097,-0.026651073247194,-0.018851172178984,0.061303362250328,0.120212092995644,0.027286106720567,0.091492004692554,-0.072522848844528));
res += mul(Get(s3,0,0), float4x4(-0.014359302818775,0.022086517885327,-0.015346640720963,0.034930717200041,-0.047834560275078,0.070440888404846,-0.069730371236801,0.053422585129738,-0.023269250988960,0.014386844821274,0.021249223500490,0.088477447628975,-0.076563611626625,-0.085982613265514,-0.028005857020617,-0.028423737734556));
res += mul(Get(s3,0,dy), float4x4(0.006120197009295,-0.012157229706645,0.005360830575228,0.090834558010101,0.044916924089193,0.113236829638481,-0.030956238508224,-0.006293446756899,-0.028783710673451,0.043643794953823,-0.017889745533466,-0.085347227752209,-0.051900751888752,-0.012331525795162,0.004601449705660,0.019699221476912));
res += mul(Get(s3,dx,-dy), float4x4(0.000500242866110,0.058041177690029,-0.011594743467867,-0.028401236981153,-0.029963726177812,0.042070060968399,0.010995237156749,-0.039416555315256,-0.057138521224260,-0.038616515696049,0.010968423448503,0.082863979041576,0.082446724176407,0.015896441414952,0.050098322331905,0.036490935832262));
res += mul(Get(s3,dx,0), float4x4(-0.019734410569072,-0.019595706835389,0.082306377589703,0.008729523047805,-0.045908939093351,0.038457144051790,-0.002517241984606,-0.020766524598002,-0.037669304758310,0.013133074156940,-0.045776344835758,0.155236408114433,-0.035514820367098,-0.015899104997516,0.051588237285614,0.006339240353554));
res += mul(Get(s3,dx,dy), float4x4(-0.061441767960787,-0.001953558064997,0.005350723862648,0.070605508983135,0.007269696798176,0.039044536650181,-0.020210674032569,0.055144883692265,-0.042948294430971,0.033680744469166,-0.041712317615747,0.044286597520113,-0.041496038436890,0.029023226350546,0.004963732324541,-0.011561525054276));
return max(float4(0,0,0,0), res);
}
