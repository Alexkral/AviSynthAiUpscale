sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.067248381674290,-0.000542499066796,-0.055461231619120,0.029917206615210,0.019903870299459,0.042627740651369,-0.023641554638743,-0.034807089716196,0.001348360790871,-0.046179629862309,-0.062366139143705,-0.026439189910889,0.011108805425465,-0.045740526169538,0.091850802302361,0.086065433919430));
res += mul(Get(s0,-dx,0), float4x4(0.050281271338463,0.061915796250105,-0.100585751235485,0.093950070440769,0.069074377417564,0.124297618865967,-0.037447296082973,-0.044558476656675,-0.027471251785755,0.012423449195921,-0.062056787312031,-0.018882125616074,-0.066944748163223,-0.080114446580410,0.046726539731026,0.064346872270107));
res += mul(Get(s0,-dx,dy), float4x4(0.006232342217118,-0.008547001518309,-0.073313958942890,0.044029977172613,0.029529633000493,0.071993894875050,-0.011768780648708,-0.024023441597819,0.025561494752765,0.017804039642215,-0.082606941461563,0.027190063148737,-0.022239459678531,-0.011434971354902,0.011259132064879,0.070450015366077));
res += mul(Get(s0,0,-dy), float4x4(0.060331471264362,0.131847366690636,0.004234395455569,-0.014084267430007,-0.004532629158348,-0.034261211752892,0.007963475771248,-0.002794438274577,-0.059263631701469,-0.082049161195755,0.076948180794716,-0.077747888863087,0.007953598164022,-0.088048435747623,0.095711544156075,-0.027112765237689));
res += mul(Get(s0,0,0), float4x4(-0.038893636316061,-0.120967246592045,0.083021812140942,0.006445448845625,-0.050646167248487,-0.002670659683645,0.001345311524346,0.013793304562569,-0.071323253214359,0.053467679768801,0.068987503647804,0.066675476729870,-0.017769461497664,-0.068812586367130,0.096686191856861,0.043079212307930));
res += mul(Get(s0,0,dy), float4x4(-0.017332792282104,0.019937761127949,-0.010317578911781,0.065913215279579,-0.033163093030453,0.096781425178051,-0.029164589941502,0.044171273708344,-0.026357183232903,0.031777780503035,-0.019845943897963,0.004799074493349,0.012388003058732,0.006925253663212,0.038835857063532,0.048534549772739));
res += mul(Get(s0,dx,-dy), float4x4(-0.039690766483545,0.070494525134563,0.039136521518230,-0.067273244261742,0.037169974297285,-0.061356149613857,0.010448739863932,0.002043835585937,0.030451193451881,0.117902860045433,0.003203863278031,-0.072178825736046,0.017904207110405,0.011520631611347,0.062828041613102,-0.030317515134811));
res += mul(Get(s0,dx,0), float4x4(0.039999332278967,0.021629290655255,0.114451624453068,-0.019147515296936,0.064315795898438,-0.082399487495422,0.032461713999510,-0.021867308765650,-0.091577738523483,0.073363453149796,0.075117692351341,-0.059837356209755,0.068957179784775,0.105314441025257,0.032773803919554,0.015955567359924));
res += mul(Get(s0,dx,dy), float4x4(-0.032493118196726,0.032004412263632,0.016477536410093,-0.056451823562384,0.040570244193077,-0.025041894987226,0.033106267452240,-0.017734263092279,-0.012670036405325,0.041672497987747,0.029841599985957,0.020554300397635,0.010848880745471,0.049721915274858,-0.023060070350766,-0.025854863226414));
res += mul(Get(s1,-dx,-dy), float4x4(-0.011058001779020,0.014937204308808,-0.011514785699546,0.029338121414185,0.000408581487136,0.003884156234562,-0.012465141713619,0.014176785945892,-0.013800466433167,0.029473049566150,0.004474930930883,0.007705757394433,0.011130684055388,-0.104299671947956,0.038363926112652,0.026524957269430));
res += mul(Get(s1,-dx,0), float4x4(0.092701219022274,0.066572502255440,-0.013447171077132,-0.001024722820148,0.030555713921785,-0.061718657612801,-0.002362070605159,-0.039087116718292,-0.020562252029777,0.016245616599917,-0.045083731412888,-0.013017928227782,0.035328060388565,-0.037568859755993,0.042613551020622,0.035344913601875));
res += mul(Get(s1,-dx,dy), float4x4(0.012635374441743,-0.007568548433483,0.042981076985598,0.036509674042463,-0.010838164947927,0.005993521306664,-0.033566359430552,0.046797599643469,0.028549917042255,-0.035780195146799,-0.014364616014063,0.047589499503374,0.019434817135334,-0.040126640349627,0.049257390201092,0.030342744663358));
res += mul(Get(s1,0,-dy), float4x4(0.070308178663254,0.101979680359364,-0.005543952807784,-0.000226272386499,-0.005040454678237,-0.037342663854361,0.032937806099653,-0.019245943054557,-0.019743079319596,-0.042497139424086,0.060733851045370,0.052068330347538,0.035982877016068,-0.072939358651638,-0.038133431226015,0.025087092071772));
res += mul(Get(s1,0,0), float4x4(0.028703041374683,0.156912118196487,-0.021635748445988,-0.085020720958710,-0.019024200737476,-0.125662386417389,0.085229597985744,0.024740898981690,-0.044044878333807,-0.019630365073681,0.006466127000749,0.091285869479179,0.085386417806149,-0.015128736384213,-0.006656672805548,-0.004128229804337));
res += mul(Get(s1,0,dy), float4x4(0.022070324048400,0.044616684317589,0.053008116781712,0.064840964972973,-0.048380438238382,-0.029884818941355,0.012161638587713,0.060204029083252,0.033260803669691,0.043983872979879,-0.056546326726675,0.051019471138716,0.010223760269582,-0.092332206666470,0.086664780974388,0.002748265163973));
res += mul(Get(s1,dx,-dy), float4x4(0.015351111069322,-0.086014844477177,0.022517109289765,0.036232903599739,-0.006353417877108,0.044613081961870,0.012400105595589,-0.019802829250693,0.085586741566658,-0.033691268414259,0.059781506657600,0.016351837664843,-0.024276645854115,-0.106773868203163,-0.027588592842221,0.038181345909834));
res += mul(Get(s1,dx,0), float4x4(0.058195084333420,-0.107605814933777,0.011265878565609,0.037335060536861,0.000564822461456,-0.024731704965234,0.053477045148611,0.033595323562622,0.058055199682713,-0.084367223083973,0.057655200362206,0.061102069914341,-0.018249943852425,-0.098674342036247,-0.020341146737337,-0.045894201844931));
res += mul(Get(s1,dx,dy), float4x4(0.058176603168249,-0.026786701753736,0.018176529556513,-0.006810626946390,-0.022257933393121,-0.008434922434390,0.063380412757397,0.014921015128493,-0.006988426670432,-0.011772400699556,-0.003772106720135,0.055542007088661,0.042131885886192,-0.097949169576168,0.047848992049694,-0.021018065512180));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003194565651938,-0.068060562014580,0.026747161522508,-0.005199514329433,0.013087891973555,-0.006357592064887,0.006011764984578,-0.003499908372760,-0.008011472411454,0.046930547803640,-0.009710879996419,0.049264188855886,-0.023155897855759,-0.106498435139656,0.030649157240987,-0.042654752731323));
res += mul(Get(s2,-dx,0), float4x4(0.022778211161494,0.046963948756456,-0.001338812289760,0.009826476685703,0.051407948136330,0.034016415476799,0.044990353286266,-0.014457222074270,-0.018129199743271,0.044399753212929,0.020281758159399,0.056365642696619,0.046944994479418,-0.108787864446640,0.044198341667652,0.015558389946818));
res += mul(Get(s2,-dx,dy), float4x4(-0.020607575774193,0.100634798407555,-0.027625691145658,0.032541848719120,0.030326653271914,-0.102699555456638,0.100164487957954,-0.003122544847429,-0.017578257247806,0.115714028477669,0.004761680494994,0.128368213772774,0.026852048933506,-0.104420915246010,0.014511249959469,-0.014072878286242));
res += mul(Get(s2,0,-dy), float4x4(0.040168631821871,-0.088982254266739,0.022312359884381,-0.003464576788247,0.000511923572049,0.012234924361110,-0.009826280176640,-0.005923918448389,-0.076258942484856,-0.112733535468578,0.036353290081024,-0.040894191712141,0.031416352838278,-0.095513120293617,-0.009566572494805,0.015303625725210));
res += mul(Get(s2,0,0), float4x4(-0.041323892772198,-0.039598107337952,0.036034274846315,-0.016114849597216,0.066214375197887,0.145692065358162,-0.039917696267366,-0.013841301202774,0.019464462995529,0.043021369725466,0.022062800824642,0.023019071668386,0.060771688818932,-0.092785991728306,-0.042410783469677,-0.024411464110017));
res += mul(Get(s2,0,dy), float4x4(-0.047459516674280,0.116256378591061,-0.013573707081378,0.001722158398479,0.103483542799950,0.017605112865567,0.029484087601304,-0.013528601266444,-0.009745394811034,0.118861787021160,0.018331240862608,-0.020607126876712,0.017229935154319,-0.079605929553509,0.005991912912577,-0.045618049800396));
res += mul(Get(s2,dx,-dy), float4x4(0.006558137014508,-0.031607300043106,0.016571098938584,0.000633319490589,-0.006323270965368,-0.007234880700707,-0.006574164610356,0.009681531228125,-0.042985461652279,-0.006249477155507,0.024089913815260,-0.034763302654028,-0.015919372439384,-0.096245713531971,-0.022213576361537,0.021150248125196));
res += mul(Get(s2,dx,0), float4x4(0.008346352726221,0.014758123084903,0.020741794258356,-0.014539519324899,-0.027220090851188,0.017890080809593,0.032166987657547,-0.014688203111291,0.038401067256927,0.031739540398121,-0.008015821687877,-0.068713217973709,-0.030660532414913,-0.058731745928526,-0.001803393824957,-0.008108933456242));
res += mul(Get(s2,dx,dy), float4x4(-0.043674841523170,0.040456872433424,0.033618297427893,-0.062377732247114,0.010987658984959,-0.012332681566477,0.004294984508306,-0.015247642062604,-0.050200521945953,0.121944107115269,-0.011924931779504,-0.083798632025719,0.015661908313632,-0.075549826025963,0.015990266576409,0.005057407077402));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002141151810065,0.153087139129639,-0.035092394798994,-0.027752934023738,-0.049329951405525,0.028322638943791,-0.051064331084490,-0.029939536005259,-0.008934222161770,0.013267792761326,0.014563899487257,-0.024078169837594,0.006283874157816,-0.021906601265073,-0.037650328129530,0.039027988910675));
res += mul(Get(s3,-dx,0), float4x4(0.017383437603712,0.049838669598103,0.013459404930472,-0.036844015121460,-0.064940951764584,-0.103542447090149,0.006909597199410,0.008064798079431,-0.013405533507466,0.030310880392790,-0.022682763636112,0.030850082635880,0.035138402134180,-0.057432852685452,0.017550526186824,0.012336186133325));
res += mul(Get(s3,-dx,dy), float4x4(-0.037051048129797,0.023414319381118,0.036597050726414,0.035056419670582,-0.076206117868423,-0.106136053800583,0.043341431766748,0.021142110228539,0.000870063784532,-0.024032305926085,-0.016151882708073,-0.013420132920146,0.037321127951145,-0.008060233667493,0.005805230699480,0.010557922534645));
res += mul(Get(s3,0,-dy), float4x4(0.005320391152054,0.040314421057701,-0.021875953301787,0.010545279830694,0.022692127153277,0.064041323959827,-0.006102736573666,-0.021031793206930,0.004961760714650,-0.006888892501593,-0.011675049550831,-0.078022830188274,-0.007671575061977,-0.009992999956012,-0.084870539605618,0.028679449111223));
res += mul(Get(s3,0,0), float4x4(0.006422171369195,0.004616772290319,0.022657910361886,-0.010848160833120,0.002114985603839,-0.034547142684460,0.036409113556147,-0.028526201844215,-0.054417844861746,-0.062736593186855,0.041465137153864,0.020447855815291,-0.005133912432939,-0.112363822758198,-0.046184573322535,-0.072830870747566));
res += mul(Get(s3,0,dy), float4x4(-0.010877775959671,0.043560300022364,0.037911497056484,0.033042050898075,0.002699115313590,-0.062066491693258,0.006502512842417,0.026453463360667,-0.025542020797729,-0.049450062215328,-0.007678110152483,0.017186375334859,-0.017324004322290,-0.036024477332830,-0.014914367347956,-0.042214695364237));
res += mul(Get(s3,dx,-dy), float4x4(-0.006130969617516,0.003327746642753,-0.032113451510668,0.009308772161603,0.027070380747318,-0.016744224354625,0.005064122378826,-0.103061363101006,-0.018216352909803,0.030430845916271,-0.017984241247177,-0.097000479698181,-0.066391743719578,-0.103590376675129,-0.144501894712448,0.069623693823814));
res += mul(Get(s3,dx,0), float4x4(-0.033508818596601,-0.012472809292376,-0.036151167005301,-0.049864992499352,0.037836175411940,0.052915684878826,0.000673860136885,-0.120594680309296,-0.025167034938931,-0.080372929573059,0.068381875753403,-0.028583345934749,-0.061458203941584,-0.051396224647760,-0.090937316417694,0.033296737819910));
res += mul(Get(s3,dx,dy), float4x4(-0.134879752993584,-0.063381224870682,-0.001583983656019,-0.005538828205317,0.061133977025747,0.013558370992541,-0.024092959240079,0.003192739561200,-0.039437294006348,-0.056740205734968,-0.016834001988173,-0.001626222743653,-0.023577000945807,-0.073952414095402,-0.019527669996023,0.015149026177824));
return max(float4(0,0,0,0), res);
}
