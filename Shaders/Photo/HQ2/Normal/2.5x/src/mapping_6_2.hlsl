sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.113981090486050,-0.039977192878723,-0.006255475338548,-0.037480257451534,0.038072653114796,-0.008678049780428,-0.001881176140159,-0.027505196630955,-0.021766155958176,-0.012245953083038,-0.013777500949800,0.062258023768663,0.096928261220455,-0.036601293832064,-0.064465634524822,0.081521078944206));
res += mul(Get(s0,-dx,0), float4x4(0.048944517970085,-0.062929779291153,-0.013351124711335,-0.003085971111432,0.036265168339014,-0.016499817371368,-0.015429068356752,-0.020705435425043,-0.049399379640818,0.004304793663323,-0.018985589966178,0.080171994864941,0.063311174511909,0.042755413800478,0.050027597695589,0.027559315785766));
res += mul(Get(s0,-dx,dy), float4x4(-0.007798404432833,-0.007231553550810,-0.030911248177290,-0.023494364693761,0.005376792047173,-0.015166743658483,0.002925863256678,0.022913174703717,-0.010621556080878,-0.000931097019929,-0.036436550319195,0.008871574886143,0.000071034650318,-0.022360485047102,0.007198873441666,0.023103320971131));
res += mul(Get(s0,0,-dy), float4x4(0.006279922090471,0.016059260815382,0.044411748647690,-0.087712943553925,0.009334417060018,-0.002451904816553,0.017069153487682,-0.018125228583813,0.033682130277157,-0.096361994743347,-0.011407767422497,0.032389950007200,-0.022340787574649,0.020654052495956,-0.013424498960376,-0.033714067190886));
res += mul(Get(s0,0,0), float4x4(-0.021369513124228,0.029351541772485,0.039807602763176,-0.051506176590919,0.036895010620356,0.038600206375122,0.026888988912106,-0.024711269885302,0.044386774301529,-0.026556279510260,-0.012069350108504,-0.030901405960321,-0.049267359077930,0.073178268969059,0.084422945976257,0.060196757316589));
res += mul(Get(s0,0,dy), float4x4(-0.034353293478489,0.031727641820908,-0.049308124929667,-0.010837471112609,0.028551319614053,0.020463207736611,0.001035074703395,-0.011328360065818,-0.010377774015069,0.041135050356388,-0.011698903515935,-0.042343940585852,-0.065604463219643,0.006201803218573,-0.009353710338473,0.015214459970593));
res += mul(Get(s0,dx,-dy), float4x4(-0.024809887632728,0.067184321582317,0.056100603193045,-0.054473079741001,0.022977808490396,0.029801309108734,-0.000834960490465,-0.001160194049589,0.075154893100262,-0.050695497542620,-0.018386570736766,-0.077509328722954,-0.074048727750778,0.043392863124609,0.013686072081327,0.007886912673712));
res += mul(Get(s0,dx,0), float4x4(-0.020267242565751,0.040826197713614,-0.033884238451719,-0.025977099314332,0.005422045942396,-0.005397992208600,0.017392462119460,-0.004139070864767,0.088014364242554,-0.026307221502066,-0.012051897123456,-0.077466726303101,-0.044071301817894,-0.023827470839024,0.004316820763052,0.050073225051165));
res += mul(Get(s0,dx,dy), float4x4(0.031285952776670,-0.021513039246202,-0.072828486561775,-0.002660099882632,0.041014786809683,0.014708626084030,0.005488179624081,-0.009548653848469,0.041253175586462,0.017065661028028,-0.032697040587664,-0.036321658641100,-0.007109093945473,-0.054748024791479,-0.038876600563526,0.015675378963351));
res += mul(Get(s1,-dx,-dy), float4x4(-0.016091996803880,0.001417442806996,0.032069247215986,-0.021178530529141,-0.006858651526272,-0.035306792706251,-0.019214583560824,0.002146229846403,-0.057417150586843,-0.042504057288170,-0.026760524138808,0.022653670981526,0.068459421396255,-0.004570801276714,-0.004209515638649,-0.009215592406690));
res += mul(Get(s1,-dx,0), float4x4(0.002748499624431,-0.012816300615668,0.017136910930276,0.057123776525259,0.013209400698543,0.042265545576811,-0.010917374864221,-0.037633795291185,-0.008378680795431,-0.024699740111828,-0.022390296682715,-0.001185481087305,0.036056123673916,-0.043995279818773,0.024351032450795,-0.025166261941195));
res += mul(Get(s1,-dx,dy), float4x4(-0.057706546038389,-0.017179599031806,-0.033424381166697,-0.013148914091289,0.023352209478617,0.049266483634710,-0.011434390209615,0.000549481541384,-0.061385080218315,-0.007539945188910,-0.051991920918226,-0.028612401336432,0.021261880174279,-0.044038474559784,0.088397398591042,-0.018163353204727));
res += mul(Get(s1,0,-dy), float4x4(-0.050304591655731,-0.043219849467278,0.002445961348712,0.000659675511997,0.010154698044062,-0.043981622904539,-0.012520180083811,-0.035461980849504,-0.033064220100641,-0.087348870933056,-0.012817341834307,-0.049585912376642,0.103885546326637,0.044613234698772,-0.012088806368411,0.084391668438911));
res += mul(Get(s1,0,0), float4x4(0.014129289425910,-0.046427935361862,-0.037357561290264,-0.049842875450850,-0.031866773962975,0.033401288092136,0.005195332225412,-0.019198907539248,0.019126446917653,0.004567304626107,0.015072232112288,-0.031895279884338,0.026372473686934,0.019327592104673,0.020404564216733,-0.019685896113515));
res += mul(Get(s1,0,dy), float4x4(-0.037782855331898,0.013218648731709,-0.068284593522549,-0.077530182898045,0.022630805149674,0.063532732427120,-0.014879787340760,-0.002824609866366,0.024476725608110,0.060960832983255,-0.034524630755186,-0.013279781676829,0.014664671383798,-0.004173465073109,0.116747997701168,0.017647242173553));
res += mul(Get(s1,dx,-dy), float4x4(-0.020983524620533,-0.030710145831108,-0.020809911191463,-0.042167242616415,0.036451928317547,-0.011960449628532,0.005675610154867,-0.012837998569012,-0.016729123890400,-0.071932956576347,-0.008905686438084,0.027136668562889,0.102879233658314,0.096998378634453,-0.006371144670993,0.054905105382204));
res += mul(Get(s1,dx,0), float4x4(0.001493412186392,-0.038530241698027,-0.014648503623903,-0.117319278419018,-0.023820972070098,0.015265143476427,0.034627120941877,0.006693937350065,-0.013182524591684,0.001019410439767,0.006242731586099,0.009428030811250,-0.019971998408437,0.118395753204823,0.032669492065907,0.024660030379891));
res += mul(Get(s1,dx,dy), float4x4(-0.005770476534963,0.046910211443901,-0.060498517006636,-0.104810394346714,0.002606345806271,0.085271418094635,-0.020608622580767,0.006269402801991,-0.004890844691545,0.119959592819214,-0.057467088103294,-0.030765173956752,-0.034738965332508,0.021029237657785,0.075914867222309,0.031321067363024));
res += mul(Get(s2,-dx,-dy), float4x4(0.033999908715487,-0.002821495523676,-0.019551783800125,-0.006303547881544,0.030521091073751,-0.059937067329884,0.048461884260178,0.051717627793550,-0.030711159110069,-0.038848422467709,0.008003429509699,0.036098554730415,-0.032753769308329,-0.023873161524534,0.012668084353209,-0.067399896681309));
res += mul(Get(s2,-dx,0), float4x4(0.026637509465218,-0.036580219864845,0.072143681347370,-0.026108603924513,-0.070281751453876,-0.051570624113083,-0.010022718459368,0.033313028514385,-0.005101601593196,-0.029926743358374,0.073543034493923,-0.000247415358899,0.004662091378123,-0.074997767806053,0.025715483352542,-0.037137631326914));
res += mul(Get(s2,-dx,dy), float4x4(-0.005991199053824,-0.036564845591784,0.057449519634247,0.018348289653659,-0.011272310279310,-0.051992326974869,-0.008316478691995,0.004542856011540,-0.088371574878693,-0.021590577438474,-0.019063761457801,-0.026283992454410,0.023433532565832,-0.024081069976091,0.011063581332564,-0.027245489880443));
res += mul(Get(s2,0,-dy), float4x4(0.013135986402631,0.024955453351140,-0.042632315307856,-0.021521423012018,0.033945292234421,-0.034499891102314,0.049480855464935,0.053954463452101,0.045209158211946,0.049319226294756,0.006101698148996,-0.026212064549327,-0.032727610319853,-0.050579708069563,0.005520757287741,-0.018428634852171));
res += mul(Get(s2,0,0), float4x4(0.009031385183334,0.031132305040956,0.107020482420921,0.014097918756306,-0.006023755762726,-0.046715542674065,-0.029945416375995,0.007486331742257,-0.045723695307970,0.045433048158884,0.009845717810094,0.019397867843509,0.007451039273292,-0.010610554367304,0.029253663495183,-0.004761339165270));
res += mul(Get(s2,0,dy), float4x4(0.055915363132954,0.006515651475638,0.020994132384658,0.048095393925905,-0.048990834504366,-0.034055158495903,0.003284304402769,-0.035000845789909,-0.085960760712624,-0.030913200229406,-0.050211478024721,-0.012160487473011,0.006255653686821,0.015096851624548,0.023021632805467,-0.000903674284928));
res += mul(Get(s2,dx,-dy), float4x4(0.050259310752153,0.066524557769299,-0.011202498339117,0.013168113306165,0.039344292134047,0.031267531216145,-0.005183719564229,0.020283294841647,-0.005252178292722,0.147839590907097,-0.026032708585262,-0.041092608124018,-0.000909294583835,-0.028575586155057,-0.015436978079379,-0.009160835295916));
res += mul(Get(s2,dx,0), float4x4(-0.002238418208435,0.057757835835218,0.053218819200993,0.067749701440334,0.027671260759234,0.018143640831113,0.013891843147576,-0.014983264729381,-0.010004475712776,0.085313983261585,-0.036487575620413,-0.026888556778431,-0.005211041774601,0.063497819006443,0.012733527459204,-0.002528745215386));
res += mul(Get(s2,dx,dy), float4x4(0.073465608060360,0.025292469188571,0.010060561820865,0.037446077913046,-0.016162121668458,0.023305252194405,0.022329015657306,-0.019289011135697,-0.077589824795723,-0.039933141320944,-0.115388959646225,-0.046251576393843,0.009303159080446,-0.009741120971739,0.026175780221820,-0.008456847630441));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023697568103671,-0.127222329378128,-0.031030610203743,0.016855206340551,0.029920676723123,0.032720759510994,-0.044739581644535,-0.016801871359348,0.003776039229706,-0.021495843306184,-0.017916563898325,0.008989060297608,0.007155142724514,0.116387255489826,-0.020427143201232,-0.027803383767605));
res += mul(Get(s3,-dx,0), float4x4(-0.054229315370321,-0.153992891311646,0.027787929400802,-0.007872017100453,0.005213774740696,0.073940917849541,-0.024886120110750,-0.031021300703287,0.044576108455658,0.000210083089769,-0.022988939657807,-0.041981704533100,0.031270619481802,0.020027248188853,-0.000949335284531,0.017650241032243));
res += mul(Get(s3,-dx,dy), float4x4(-0.024949496611953,-0.082348443567753,0.009405178017914,0.035655751824379,0.016164477914572,0.024377517402172,-0.026973884552717,0.006647016853094,-0.032501149922609,-0.001970542594790,0.030790632590652,-0.023329541087151,0.046056650578976,0.021593013778329,-0.015286718495190,0.008741237223148));
res += mul(Get(s3,0,-dy), float4x4(0.021076785400510,-0.113293983042240,-0.019910678267479,-0.000669831526466,0.034856520593166,-0.032060276716948,-0.000951636291575,0.025576103478670,0.016344632953405,-0.029148770496249,-0.037122674286366,-0.027780815958977,0.007333252578974,0.057691350579262,-0.025646492838860,-0.016779059544206));
res += mul(Get(s3,0,0), float4x4(0.002942133462057,-0.079024516046047,0.006630214396864,0.089107364416122,-0.021632775664330,0.010938194580376,-0.029267683625221,0.037764023989439,-0.028520701453090,0.014429754577577,0.052405115216970,-0.078035518527031,0.049354143440723,0.035995312035084,-0.005966267082840,0.010783634148538));
res += mul(Get(s3,0,dy), float4x4(0.027858488261700,-0.104994282126427,0.046952590346336,0.069760471582413,0.021955922245979,0.000200117428903,-0.041364423930645,0.050539616495371,-0.040031060576439,0.004572613630444,0.083282940089703,0.003205778542906,0.049519333988428,0.038047414273024,-0.039631690829992,-0.000848931435030));
res += mul(Get(s3,dx,-dy), float4x4(-0.042474608868361,-0.075935326516628,-0.057707071304321,0.027899844571948,0.067091420292854,0.013933128677309,0.017359627410769,-0.022805316373706,-0.029141565784812,0.046086743474007,0.011138170957565,0.065766669809818,-0.022069092839956,0.042642787098885,0.022198449820280,0.004409732297063));
res += mul(Get(s3,dx,0), float4x4(-0.022158144041896,0.013882250525057,-0.005734255537391,0.036143090575933,0.066247157752514,0.092728987336159,-0.037798609584570,-0.013637322932482,-0.023420860990882,-0.040103744715452,0.076279975473881,0.100136995315552,-0.021900983527303,0.091793194413185,-0.003432279685512,-0.001532921451144));
res += mul(Get(s3,dx,dy), float4x4(0.038166724145412,-0.037943542003632,0.056574948132038,0.055862296372652,0.059136006981134,0.031992025673389,-0.037880603224039,0.021444316953421,0.004111578222364,-0.038015276193619,0.076134391129017,0.092075794935226,0.007582889404148,0.004915297962725,-0.012222549878061,0.021414050832391));
return max(float4(0,0,0,0), res);
}
