sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.013006073422730,0.040538959205151,-0.067619487643242,0.018087875097990,0.005924442782998,0.004345793742687,0.031058011576533,-0.002789322054014,0.004973100498319,-0.020312385633588,-0.017018338665366,-0.015205029398203,-0.018650609999895,0.045382674783468,0.037487458437681,-0.035265948623419));
res += mul(Get(s0,-dx,0), float4x4(0.023108830675483,-0.018404889851809,-0.072283215820789,0.102687098085880,-0.003121452173218,0.002904231892899,0.056023929268122,0.026580311357975,-0.001782000181265,-0.012185906060040,-0.033806882798672,-0.017476215958595,0.033778548240662,-0.003817028598860,0.034536737948656,-0.070068567991257));
res += mul(Get(s0,-dx,dy), float4x4(-0.011295964941382,-0.030254311859608,-0.079506337642670,0.082139708101749,-0.017630154266953,0.000949638138991,0.056382630020380,0.031449161469936,-0.000102839861938,-0.045285355299711,-0.029045235365629,-0.006979434750974,-0.030992383137345,-0.001886885613203,0.050482288002968,-0.028209233656526));
res += mul(Get(s0,0,-dy), float4x4(0.007136976346374,0.034290514886379,-0.017660809680820,-0.038276292383671,0.004737680312246,-0.001927799661644,-0.025230908766389,-0.018948394805193,0.002282614819705,-0.031241282820702,-0.023944521322846,-0.020159961655736,-0.009127949364483,0.071238636970520,0.007409447804093,0.006108222994953));
res += mul(Get(s0,0,0), float4x4(0.017606075853109,0.002611775649711,-0.018491866067052,-0.018637049943209,-0.002822577953339,0.007495116442442,-0.054862838238478,-0.067230872809887,-0.002768169390038,-0.009308408945799,-0.006809300277382,-0.027436790987849,0.047048524022102,-0.053637001663446,0.026461549103260,0.061327069997787));
res += mul(Get(s0,0,dy), float4x4(-0.018490588292480,0.010377288796008,-0.007349744904786,-0.042813863605261,-0.013571480289102,0.007541195955127,-0.040088120847940,-0.045877039432526,-0.000275789323496,-0.025295391678810,-0.013649874366820,-0.025148116052151,-0.029526744037867,-0.062800779938698,-0.016990853473544,0.006927180103958));
res += mul(Get(s0,dx,-dy), float4x4(0.005852417089045,-0.011828776448965,-0.029793405905366,0.020388040691614,-0.000145867015817,0.023085454478860,0.005474488716573,-0.005111513193697,-0.001092692138627,-0.030878765508533,-0.040065530687571,-0.015273802913725,-0.012215565890074,0.071423076093197,0.011104955337942,-0.001887001679279));
res += mul(Get(s0,dx,0), float4x4(0.016796162351966,-0.031158067286015,-0.034452646970749,0.011181001551449,-0.005721060559154,-0.001883569872007,0.017506802454591,0.023239886388183,-0.000722940487321,-0.006439003627747,-0.029774429276586,-0.023433454334736,0.038734313100576,-0.053049802780151,0.012576406821609,0.035144586116076));
res += mul(Get(s0,dx,dy), float4x4(-0.019018409773707,0.007815523073077,-0.016819044947624,0.009562517516315,-0.010872392915189,-0.022366795688868,0.001169509370811,0.024458447471261,0.000299421517411,-0.022691952064633,-0.014095761813223,0.006550110410899,-0.026915192604065,-0.065008066594601,-0.022319784387946,-0.009040937758982));
res += mul(Get(s1,-dx,-dy), float4x4(0.000908935850020,0.063090488314629,-0.051445566117764,-0.080773904919624,-0.020241020247340,0.061301060020924,0.071611970663071,0.073837399482727,-0.001007973565720,0.012649110518396,0.016252843663096,-0.009253275580704,0.033353559672832,0.039157412946224,0.041696492582560,0.032119419425726));
res += mul(Get(s1,-dx,0), float4x4(0.019258899614215,-0.010064213536680,-0.043769061565399,-0.045577015727758,0.016062472015619,-0.032086882740259,0.113109469413757,0.161590069532394,0.017203262075782,0.004023660905659,0.015525719150901,-0.025203758850694,-0.032130029052496,0.021415127441287,-0.033573046326637,-0.037630584090948));
res += mul(Get(s1,-dx,dy), float4x4(-0.036185991019011,-0.044054962694645,-0.003777340753004,-0.011386898346245,-0.036034759134054,-0.062710829079151,0.070143014192581,0.118027865886688,-0.006469196639955,0.018176805227995,0.019922679290175,-0.020462505519390,-0.054508477449417,-0.007427488919348,-0.024138659238815,-0.027883464470506));
res += mul(Get(s1,0,-dy), float4x4(0.008982002735138,0.076331585645676,0.058108065277338,0.044166669249535,-0.002370804548264,0.038282647728920,-0.058454874902964,-0.022200163453817,-0.001024853321724,0.015254628844559,-0.012559833005071,-0.014402398839593,0.042622905224562,0.039955511689186,0.065124675631523,0.061089914292097));
res += mul(Get(s1,0,0), float4x4(0.022280571982265,-0.073341511189938,0.096442244946957,0.155066370964050,0.027906145900488,-0.021639809012413,-0.090641655027866,-0.084610953927040,0.022086948156357,0.001159257837571,-0.011242914013565,-0.019420377910137,-0.037261806428432,0.087357878684998,-0.025020694360137,-0.070604480803013));
res += mul(Get(s1,0,dy), float4x4(-0.040829796344042,-0.104629337787628,-0.016002612188458,-0.010063148103654,-0.035994589328766,0.001269944361411,-0.080929972231388,-0.086553812026978,-0.005186935886741,0.009810617193580,-0.010978514328599,-0.010588863864541,-0.058305308222771,0.029339006170630,0.058459460735321,0.022660994902253));
res += mul(Get(s1,dx,-dy), float4x4(-0.000185215452802,0.050518762320280,-0.008033863268793,0.010274427011609,0.006664416752756,0.047239724546671,-0.020366912707686,0.056303542107344,-0.000914064294193,0.029303358867764,-0.002502581803128,-0.014264705590904,0.036073088645935,0.027170447632670,0.033711936324835,0.057453073561192));
res += mul(Get(s1,dx,0), float4x4(0.010080730542541,-0.022650970146060,-0.033385101705790,-0.024112397804856,0.031931508332491,-0.023773087188601,0.000647579319775,0.141041859984398,0.019247511401772,-0.010180233046412,0.010369291529059,-0.005265754181892,-0.036872956901789,0.051257167011499,-0.033447828143835,-0.050937782973051));
res += mul(Get(s1,dx,dy), float4x4(-0.038611300289631,-0.056692238897085,-0.032256457954645,0.018721105530858,-0.037872087210417,-0.004595953971148,0.001640488160774,0.105826064944267,-0.002883204491809,-0.013605421409011,0.006472671870142,-0.012694742530584,-0.057412341237068,0.021321505308151,0.017957018688321,-0.023416131734848));
res += mul(Get(s2,-dx,-dy), float4x4(0.000081607227912,-0.000385681720218,-0.000061840393755,0.000007123717296,0.000091863796115,0.001114688813686,0.000778785382863,-0.001046406803653,0.004383579362184,0.014737692661583,-0.020085895434022,-0.028895337134600,0.034030523151159,0.017483780160546,0.000739818846341,-0.068966642022133));
res += mul(Get(s2,-dx,0), float4x4(0.000380230660085,-0.000510754121933,-0.000148684048327,-0.000148870676639,0.000098930642707,-0.000017746058802,-0.000695672875736,-0.000228548058658,0.012335694395006,-0.017221190035343,-0.009093692526221,0.003255671588704,-0.010456529445946,0.004586429335177,0.028595708310604,-0.013368634507060));
res += mul(Get(s2,-dx,dy), float4x4(0.000097671982076,-0.000139381474582,0.000090129746241,0.000677180825733,-0.000152898021042,0.003062700852752,0.001699262182228,-0.000479421112686,-0.018400263041258,-0.007399821653962,-0.031688325107098,-0.046211197972298,-0.019209332764149,-0.044626336544752,0.035733308643103,0.018252965062857));
res += mul(Get(s2,0,-dy), float4x4(-0.000322758452967,-0.000121598888654,-0.000803242379334,-0.000034577358747,0.000124064055854,0.001183388289064,0.001231978298165,-0.000538260501344,0.006187736522406,0.035854499787092,0.038446497172117,0.038153536617756,0.043700754642487,-0.031260907649994,-0.001437858561985,-0.001010344247334));
res += mul(Get(s2,0,0), float4x4(-0.000064498613938,0.000005270827842,0.000386906787753,0.000385025487049,0.001505597145297,0.002423784229904,0.000309372117044,0.000264054309810,0.013828904367983,0.003134033642709,0.006625513080508,-0.019880987703800,-0.010920742526650,-0.028167914599180,-0.027863383293152,-0.030113833025098));
res += mul(Get(s2,0,dy), float4x4(-0.000453972257674,-0.000201023212867,0.000184253745829,0.000729468767531,-0.000439388968516,0.003674047300592,0.000027662918001,-0.002580351196229,-0.020305236801505,-0.019731357693672,0.041112825274467,0.047798618674278,-0.018264532089233,-0.045771609991789,-0.034444570541382,-0.014516778290272));
res += mul(Get(s2,dx,-dy), float4x4(-0.000134279252961,-0.000294944649795,0.000227936834563,-0.000055877040722,-0.000640048354398,0.002393008442596,0.001010910375044,-0.000971456640400,0.002087828936055,0.033251814544201,-0.013999085873365,-0.009883006103337,0.035939980298281,-0.000890343275387,-0.017317106947303,-0.019749458879232));
res += mul(Get(s2,dx,0), float4x4(-0.000664349354338,-0.000132841625600,-0.000492458988447,-0.000461325922515,0.000539566972293,0.002377612981945,0.000031886611396,-0.001450187759474,0.010185383260250,-0.007857957854867,-0.001184558961540,0.014633278362453,-0.011078021489084,-0.006536133587360,-0.023146267980337,-0.035935092717409));
res += mul(Get(s2,dx,dy), float4x4(0.000426938786404,0.000147965285578,0.000817530264612,-0.000456753972685,-0.000002231915005,0.003015192225575,-0.001042439136654,-0.002445831196383,-0.019779866561294,-0.010646585375071,-0.003555738832802,-0.006654562894255,-0.017705071717501,-0.035236615687609,-0.010682607069612,0.056167151778936));
res += mul(Get(s3,-dx,-dy), float4x4(0.000908757967409,0.048244502395391,-0.010424817912281,0.013832706026733,0.002009400865063,0.001939966343343,-0.000744474236853,-0.001759388018399,0.000352922012098,0.000203402567422,-0.000196039909497,0.001229074434377,-0.019286327064037,0.066598206758499,0.040460176765919,0.019167730584741));
res += mul(Get(s3,-dx,0), float4x4(0.036072067916393,-0.010014782659709,-0.057514645159245,-0.021084155887365,-0.000022780675863,0.000236240084632,-0.001440527383238,0.000178130881977,-0.000563950394280,0.000002335371846,0.000064510866650,-0.000190133388969,0.072877742350101,-0.023906368762255,-0.080602720379829,-0.219124928116798));
res += mul(Get(s3,-dx,dy), float4x4(-0.029966400936246,0.010624459944665,-0.042280152440071,0.012724754400551,-0.001105641713366,-0.000461373623693,-0.000924925319850,-0.000843602232635,-0.000268471514573,0.000138510426041,0.000009236033293,0.000195045329747,-0.066752478480339,-0.024226346984506,0.018765687942505,-0.026709703728557));
res += mul(Get(s3,0,-dy), float4x4(-0.004709843080491,0.085182592272758,0.033010773360729,-0.010987307876348,0.001939253881574,0.000841285625938,0.002326984424144,0.004627776332200,0.001036837464198,0.000322215491906,0.000463529868284,-0.000251153687714,-0.013596941716969,0.205557420849800,0.013659439049661,-0.051114469766617));
res += mul(Get(s3,0,0), float4x4(0.034837350249290,0.043431315571070,-0.000229494180530,-0.052245892584324,-0.001604768913239,0.001797627657652,-0.000643141684122,-0.001849382300861,0.000115161885333,-0.000314495060593,0.000008214456102,-0.000536316423677,0.098477587103844,-0.111893184483051,0.154559999704361,0.238505631685257));
res += mul(Get(s3,0,dy), float4x4(-0.034141756594181,0.041435386985540,0.052471656352282,-0.007068518549204,-0.002035455079749,-0.000183957701665,0.001277346629649,-0.000343580555636,-0.000443146127509,-0.000116258350317,-0.000439543538960,-0.000427651451901,-0.066879324615002,-0.151070088148117,0.017670985311270,0.089514322578907));
res += mul(Get(s3,dx,-dy), float4x4(-0.010782854631543,0.039402954280376,0.011068866588175,0.020284799858928,0.001290196552873,0.001728874165565,0.000253431993769,0.001823835074902,0.000299355655443,0.000414212670876,0.000446198537247,0.000033696102037,-0.025921782478690,0.159208223223686,-0.010806659236550,0.023888166993856));
res += mul(Get(s3,dx,0), float4x4(0.030128840357065,-0.008827440440655,-0.034215658903122,-0.021997079253197,-0.000841509492602,0.001459399820305,-0.000719793664757,-0.001344569958746,0.000463890261017,-0.000018594300855,-0.000371886650100,0.000057222012401,0.070231981575489,-0.084872655570507,0.018925538286567,0.068724572658539));
res += mul(Get(s3,dx,dy), float4x4(-0.035544414073229,0.035893280059099,-0.020684238523245,-0.049881488084793,-0.001264915219508,0.001200510072522,0.000305061548715,0.000453450309578,-0.000319395679981,-0.000386318482924,-0.000234067294514,0.000063067673182,-0.064178764820099,-0.116470873355865,-0.061415124684572,-0.057042770087719));
return max(float4(0,0,0,0), res);
}
