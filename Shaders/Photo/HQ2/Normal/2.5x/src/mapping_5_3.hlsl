sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.055555537343025,-0.011542201042175,0.034238878637552,-0.020735878497362,-0.056724708527327,-0.033087000250816,0.064601570367813,-0.051927957683802,0.017413528636098,0.007772226352245,-0.045401301234961,-0.029737422242761,0.034059476107359,0.011343622580171,-0.040847137570381,-0.020089507102966));
res += mul(Get(s0,-dx,0), float4x4(-0.021663706749678,-0.011737590655684,0.010751708410680,-0.024757983162999,0.015459016896784,-0.094833388924599,-0.023401411250234,-0.082115814089775,0.008232532069087,-0.001599107636139,0.005680277012289,0.057734075933695,-0.001222881372087,0.026202006265521,0.009463774040341,-0.023702453821898));
res += mul(Get(s0,-dx,dy), float4x4(0.001674931263551,-0.080774135887623,0.055686403065920,-0.011537066660821,-0.042915988713503,-0.040991999208927,0.043683692812920,-0.016701560467482,0.027451045811176,0.001478772377595,-0.006657857447863,0.092550009489059,-0.014502131380141,0.002414567861706,0.005037055350840,-0.021112797781825));
res += mul(Get(s0,0,-dy), float4x4(0.041635502129793,0.032247971743345,0.050083294510841,-0.026290461421013,-0.026530273258686,0.090268686413765,-0.004231726285070,0.023822825402021,0.023261150345206,0.000401255558245,-0.098477885127068,-0.050496596843004,-0.007651641964912,0.121303208172321,-0.024882115423679,-0.018691986799240));
res += mul(Get(s0,0,0), float4x4(-0.047080487012863,0.042945943772793,-0.034351937472820,-0.023149460554123,-0.017262160778046,-0.045164562761784,0.132367119193077,0.053439557552338,-0.007249989546835,-0.004090203437954,0.048972375690937,0.034448020160198,0.003464612178504,0.012434702366590,-0.035001199692488,-0.040569767355919));
res += mul(Get(s0,0,dy), float4x4(0.017602033913136,-0.079568803310394,0.079606771469116,-0.001283278339542,0.005390507169068,-0.072066403925419,-0.028397008776665,0.046217761933804,0.022674966603518,0.012808260507882,-0.012657327577472,0.089343309402466,-0.012787454761565,-0.011613218113780,0.052232701331377,-0.004237336106598));
res += mul(Get(s0,dx,-dy), float4x4(0.038494117558002,0.008467282168567,0.044235028326511,-0.025478586554527,0.005880449432880,0.065570086240768,-0.007910639978945,0.037182595580816,0.028978284448385,0.008860534988344,-0.046463150531054,-0.056558713316917,-0.010847589001060,0.006911030039191,-0.039023876190186,0.008772811852396));
res += mul(Get(s0,dx,0), float4x4(-0.034500118345022,0.066204406321049,-0.017531862482429,-0.027692364528775,-0.033453900367022,0.047031160444021,-0.043627604842186,0.085564956068993,-0.000956581672654,-0.014948397874832,0.027801813557744,0.022420717403293,0.025065129622817,-0.031884010881186,0.014856258407235,0.033459935337305));
res += mul(Get(s0,dx,dy), float4x4(-0.001274850335903,-0.029774259775877,0.077569685876369,0.018352963030338,-0.036520868539810,0.005865573883057,0.002742345444858,0.024713685736060,0.010703332722187,0.009611438959837,-0.022882267832756,0.030810728669167,0.037488721311092,-0.007517556194216,0.009361493401229,0.089090578258038));
res += mul(Get(s1,-dx,-dy), float4x4(-0.027147812768817,0.057632632553577,-0.082585997879505,-0.077942751348019,-0.010335953906178,-0.049579054117203,-0.043525829911232,-0.055937774479389,-0.036149591207504,-0.052393853664398,-0.042160730808973,-0.009393095038831,0.012756577692926,-0.065708011388779,-0.005936729256064,-0.062750697135925));
res += mul(Get(s1,-dx,0), float4x4(-0.033316824585199,0.003766382113099,-0.069438800215721,-0.057649515569210,0.062384594231844,-0.109288491308689,0.050556730479002,-0.081513829529285,-0.008998120203614,-0.051489353179932,-0.039128780364990,0.026577610522509,-0.099701665341854,-0.098696373403072,-0.040368765592575,-0.065698161721230));
res += mul(Get(s1,-dx,dy), float4x4(-0.087523780763149,-0.079620987176895,0.035341676324606,-0.067415438592434,-0.021129742264748,-0.041683286428452,0.012292777188122,-0.024275690317154,0.039632715284824,-0.092062316834927,-0.016108535230160,0.048028141260147,-0.010976104065776,-0.152452826499939,0.015527333132923,-0.016088828444481));
res += mul(Get(s1,0,-dy), float4x4(-0.000711560365744,0.057974793016911,-0.029001582413912,-0.098518975079060,-0.026199018582702,0.033622357994318,-0.031210256740451,0.000266829767497,-0.035318940877914,-0.052894212305546,-0.039695873856544,0.010514019988477,0.101189538836479,0.059744149446487,-0.008905668742955,-0.109113939106464));
res += mul(Get(s1,0,0), float4x4(-0.030991302803159,0.022704385221004,-0.022046383470297,-0.005122744012624,-0.022958857938647,-0.025240821763873,0.010291837155819,0.012820665724576,-0.050936657935381,-0.076841220259666,-0.049765143543482,0.011780397035182,-0.063934370875359,0.059989489614964,-0.073779255151749,-0.155050948262215));
res += mul(Get(s1,0,dy), float4x4(-0.047764193266630,-0.054403949528933,0.045794047415257,-0.023061752319336,-0.025607706978917,-0.035400845110416,-0.000710480497219,0.025924863293767,0.107257075607777,-0.067318052053452,-0.006418101955205,0.065923340618610,-0.048843927681446,-0.056202743202448,0.020981408655643,0.002934339456260));
res += mul(Get(s1,dx,-dy), float4x4(-0.016995647922158,0.042545668780804,-0.014884033240378,0.011702048592269,-0.010793617926538,0.053164355456829,0.011829230934381,0.060900408774614,-0.044763345271349,0.027217568829656,0.001924556796439,0.048950381577015,0.052641157060862,-0.018299078568816,-0.015115507878363,-0.031165350228548));
res += mul(Get(s1,dx,0), float4x4(-0.037948187440634,0.003640453564003,-0.000938930897973,0.063925653696060,-0.039946641772985,0.028233114629984,-0.013052220456302,0.093033395707607,-0.031933180987835,-0.006510460283607,-0.069327354431152,0.063164234161377,0.023566996678710,0.001879508141428,0.004306136630476,-0.036406818777323));
res += mul(Get(s1,dx,dy), float4x4(-0.042611695826054,-0.023569410666823,0.004184379242361,0.029036426916718,-0.079090796411037,-0.021629624068737,0.053268294781446,0.100665539503098,0.019427830353379,-0.015799734741449,-0.014050288125873,0.011088773608208,-0.067840501666069,-0.024261761456728,0.019099943339825,0.075002245604992));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031792648136616,0.032464995980263,-0.004498407244682,-0.035483378916979,0.051576219499111,-0.039702992886305,0.024782374501228,-0.086230553686619,0.030040193349123,0.004534590989351,-0.053716242313385,-0.013466775417328,-0.070575326681137,0.029343379661441,-0.015110374428332,0.051301289349794));
res += mul(Get(s2,-dx,0), float4x4(0.016461666673422,-0.044183231890202,-0.011667815037072,-0.086008317768574,0.063728362321854,-0.021464560180902,0.054495532065630,-0.078798584640026,0.078833408653736,-0.002026525791734,0.004766545724124,0.025220500305295,-0.061607088893652,-0.029368219897151,-0.004737060982734,0.018547475337982));
res += mul(Get(s2,-dx,dy), float4x4(0.026211138814688,-0.085608437657356,0.008755300194025,-0.008648967370391,-0.025707231834531,-0.056199796497822,0.164426788687706,-0.059542734175920,-0.027094760909677,-0.005933481734246,0.059392835944891,0.045911051332951,0.029094517230988,-0.063798367977142,0.061554141342640,-0.004121485166252));
res += mul(Get(s2,0,-dy), float4x4(-0.042345743626356,0.004832047503442,-0.046341907233000,-0.037850003689528,0.055621720850468,-0.010613077320158,0.127007678151131,-0.093054980039597,0.024317402392626,0.040657661855221,-0.079775057733059,-0.016561675816774,-0.044433332979679,0.062842257320881,0.016553441062570,0.016910951584578));
res += mul(Get(s2,0,0), float4x4(0.013972882181406,-0.017989980056882,-0.020858129486442,-0.078162260353565,0.076887249946594,-0.055767565965652,0.066706180572510,-0.124782502651215,0.073800496757030,-0.055424455553293,0.020504307001829,0.002725069643930,-0.041604924947023,-0.007707431912422,0.048146147280931,-0.019674530252814));
res += mul(Get(s2,0,dy), float4x4(-0.008166289888322,-0.021270031109452,-0.003635661443695,-0.018181851133704,0.001692654681392,0.066327601671219,0.110083714127541,-0.076721668243408,0.008569385856390,0.002671040827408,0.126118570566177,0.027660699561238,0.064110696315765,-0.064038470387459,-0.007668549194932,0.009907843545079));
res += mul(Get(s2,dx,-dy), float4x4(0.001778741832823,-0.002106938045472,0.009484227746725,0.015270690433681,0.021501101553440,0.101534791290760,0.035579770803452,0.008121557533741,0.089014403522015,0.063579231500626,-0.035490803420544,-0.012322247959673,-0.001824107137509,0.035573918372393,-0.029793137684464,-0.004527881275862));
res += mul(Get(s2,dx,0), float4x4(0.017376653850079,0.016785709187388,-0.033167269080877,0.080916605889797,0.043054040521383,0.004081148654222,0.061773743480444,0.038837127387524,0.014489464461803,0.009813687764108,0.011274125427008,0.017253825441003,0.021962052211165,0.024142054840922,0.012284740805626,0.025891980156302));
res += mul(Get(s2,dx,dy), float4x4(0.003646841971204,0.063118174672127,-0.064241766929626,0.053734153509140,0.007321299519390,0.017896773293614,0.080264337360859,0.037618324160576,0.029884351417422,-0.005580550990999,0.049137622117996,-0.020485235378146,0.046489790081978,-0.017175272107124,0.003196512116119,-0.023354399949312));
res += mul(Get(s3,-dx,-dy), float4x4(0.077093906700611,0.053350586444139,0.013141275383532,0.014387818984687,-0.075571395456791,-0.022147493436933,-0.072928205132484,-0.123205117881298,0.051180772483349,0.035656400024891,0.038949046283960,0.003774704178795,0.003002523211762,0.025140834972262,-0.000547804054804,-0.018788870424032));
res += mul(Get(s3,-dx,0), float4x4(0.017031459137797,0.058571159839630,-0.026405839249492,0.066754311323166,0.005538002587855,-0.083306513726711,0.069857947528362,-0.131592288613319,-0.038544163107872,0.032831504940987,0.051595780998468,-0.010550590232015,0.049142468720675,0.043914236128330,-0.030060693621635,0.009830852039158));
res += mul(Get(s3,-dx,dy), float4x4(-0.034942820668221,-0.025314763188362,-0.027455668896437,0.051618140190840,-0.118446700274944,-0.076544858515263,0.032707426697016,-0.070684768259525,-0.010817915201187,-0.034173551946878,0.039350613951683,0.010740338824689,-0.033655956387520,0.032155748456717,-0.001554532325827,-0.002664756728336));
res += mul(Get(s3,0,-dy), float4x4(0.071202136576176,-0.040788020938635,0.090321063995361,0.043703828006983,0.048793375492096,0.038753096014261,-0.064585968852043,-0.085193723440170,0.094559669494629,0.003637400222942,0.022452984005213,-0.009856104850769,0.063650675117970,0.001030887942761,0.020405137911439,-0.014704641886055));
res += mul(Get(s3,0,0), float4x4(0.097069695591927,-0.008875541388988,-0.077206015586853,0.045093566179276,-0.003574082395062,-0.067351832985878,0.042785555124283,-0.086485162377357,0.033129010349512,0.066137045621872,0.053223848342896,-0.017420517280698,0.052618850022554,0.023697964847088,-0.040961034595966,0.009866908192635));
res += mul(Get(s3,0,dy), float4x4(-0.058929122984409,0.062530010938644,0.027703490108252,0.021129755303264,-0.065303243696690,-0.037234436720610,0.015188134275377,-0.062964133918285,-0.050828021019697,0.006254784297198,0.060246974229813,0.016002330929041,-0.081026285886765,0.072253800928593,-0.033435665071011,-0.014168279245496));
res += mul(Get(s3,dx,-dy), float4x4(0.019991066306829,-0.030709708109498,0.013340620324016,0.049543950706720,0.049526464194059,0.034822922199965,0.027939014136791,-0.061118066310883,0.064052134752274,0.064381249248981,-0.039765607565641,0.039303600788116,0.053399719297886,-0.011562600731850,-0.016385972499847,-0.038106415420771));
res += mul(Get(s3,dx,0), float4x4(0.024166753515601,-0.060714080929756,-0.026500310748816,-0.030158217996359,-0.037851218134165,0.015496845357120,0.012764033861458,-0.064631037414074,0.066736094653606,0.060026932507753,0.022372987121344,0.016586296260357,0.077080436050892,-0.049754254519939,-0.019870460033417,-0.046937335282564));
res += mul(Get(s3,dx,dy), float4x4(-0.009891521185637,-0.019951466470957,-0.023542931303382,-0.050878126174212,-0.022478722035885,-0.001478916383348,0.033722706139088,-0.049906630069017,-0.000335735123372,-0.013452813960612,0.030209077522159,0.011877904646099,-0.051599584519863,0.036232046782970,-0.021254234015942,-0.030752863734961));
return max(float4(0,0,0,0), res);
}
