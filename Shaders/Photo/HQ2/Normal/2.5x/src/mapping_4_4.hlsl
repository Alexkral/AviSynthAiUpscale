sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.052935443818569,0.082611098885536,0.060803186148405,0.102962248027325,0.024777878075838,0.036265939474106,0.051629643887281,0.020536301657557,0.042950239032507,0.016733370721340,0.056515455245972,-0.023546472191811,0.029875289648771,-0.029404310509562,0.037690602242947,-0.012679621577263));
res += mul(Get(s0,-dx,0), float4x4(-0.005174806807190,0.209205821156502,0.096571356058121,0.046458691358566,0.032981641590595,0.008371803909540,0.038571365177631,0.023536974564195,0.006656793411821,0.009290724061430,0.062156356871128,0.031627640128136,0.028808543458581,-0.006180761381984,-0.002409192267805,-0.012014727108181));
res += mul(Get(s0,-dx,dy), float4x4(-0.035984355956316,0.062982328236103,0.102379232645035,-0.047008834779263,0.004478875081986,-0.019076321274042,0.003570670029148,-0.018819332122803,-0.067903794348240,-0.032170306891203,0.004091537557542,0.003392773913220,0.006638165097684,-0.001749239163473,-0.014432257041335,0.014711964875460));
res += mul(Get(s0,0,-dy), float4x4(0.031639952212572,0.060073204338551,0.017203252762556,0.009268722496927,0.022101629525423,0.022110842168331,0.033044230192900,0.038977593183517,0.053977806121111,0.073051571846008,0.049256008118391,-0.026754625141621,0.016487618908286,0.063222639262676,0.035604372620583,0.022111006081104));
res += mul(Get(s0,0,0), float4x4(0.017851520329714,0.137792736291885,-0.028882959857583,0.059947066009045,0.016584541648626,-0.039323028177023,0.057952411472797,0.069973416626453,0.114031106233597,0.062631368637085,0.028748488053679,0.014218805357814,-0.038092810660601,0.029289577156305,0.050175387412310,0.018517067655921));
res += mul(Get(s0,0,dy), float4x4(-0.016249233856797,0.041055977344513,-0.061661172658205,-0.011064839549363,-0.001160594867542,-0.016316009685397,0.060045242309570,0.010737679898739,-0.034737884998322,-0.030461931601167,-0.040922526270151,-0.008152090944350,-0.008861687965691,0.007011744659394,-0.034453131258488,0.003524947213009));
res += mul(Get(s0,dx,-dy), float4x4(0.008142708800733,-0.016954623162746,-0.026170747354627,-0.005826856009662,0.000628988258541,-0.036483153700829,0.002442257246003,0.007701911497861,0.020848767831922,-0.006675752811134,-0.003673084545881,-0.009522198699415,0.002032905351371,-0.011942562647164,-0.056163717061281,-0.019858188927174));
res += mul(Get(s0,dx,0), float4x4(0.016314500942826,0.043401341885328,-0.064434640109539,-0.033783536404371,-0.014832202345133,-0.039039898663759,0.020186297595501,0.020271845161915,-0.017522402107716,-0.027386786416173,0.018057588487864,0.006957997102290,0.001963331829756,-0.009371344931424,0.022835293784738,-0.041076913475990));
res += mul(Get(s0,dx,dy), float4x4(0.020901449024677,0.018490310758352,-0.064566582441330,-0.017861591652036,0.029341263696551,-0.036834977567196,-0.021684465929866,-0.020775139331818,-0.030647054314613,-0.078605845570564,-0.032457046210766,-0.016594748944044,-0.008328924886882,-0.035264320671558,0.037971969693899,-0.052792865782976));
res += mul(Get(s1,-dx,-dy), float4x4(0.000609935959801,-0.050214022397995,0.031452141702175,0.012050630524755,0.006886065006256,0.048878271132708,0.045017533004284,0.024434814229608,0.028064191341400,-0.107607416808605,-0.033352244645357,0.045923650264740,-0.011430547572672,0.032938923686743,0.043097689747810,0.073327653110027));
res += mul(Get(s1,-dx,0), float4x4(0.018724970519543,0.021726394072175,0.032690607011318,-0.025535432621837,-0.002639265265316,0.014342378824949,0.069717727601528,-0.025313697755337,0.014573523774743,-0.057881299406290,-0.011010208167136,0.081474639475346,0.028604516759515,-0.026335040107369,0.007164907176048,-0.015577161684632));
res += mul(Get(s1,-dx,dy), float4x4(0.016598800197244,0.029688365757465,-0.020471751689911,-0.044381134212017,0.009354787878692,0.027039706707001,0.026566045358777,0.017341434955597,0.004696764517576,0.055224344134331,0.020439503714442,0.032442331314087,-0.010158028453588,-0.027219042181969,-0.061056181788445,-0.020257771015167));
res += mul(Get(s1,0,-dy), float4x4(-0.007640063297004,0.075919561088085,0.052646845579147,0.047158110886812,0.003728559007868,-0.031733334064484,0.030513957142830,0.055352374911308,0.060480244457722,-0.090066410601139,-0.054867386817932,0.017819365486503,0.005985670723021,0.056080371141434,-0.004404128994793,0.058434877544641));
res += mul(Get(s1,0,0), float4x4(-0.009591504000127,0.068735830485821,0.078674554824829,0.000094892515335,-0.007450789678842,0.036311589181423,0.018321050330997,-0.007921950891614,0.044691283255816,-0.015607766807079,-0.007259496953338,0.023146135732532,0.004405768588185,-0.031377721577883,-0.007501848042011,-0.012843681499362));
res += mul(Get(s1,0,dy), float4x4(0.045286614447832,0.034337554126978,-0.004169297404587,0.013384084217250,-0.017729176208377,0.007805292028934,-0.023014578968287,0.006396360695362,-0.018415350466967,-0.005483237560838,-0.007998237386346,-0.040321007370949,0.011044544167817,-0.014546873979270,0.035081695765257,-0.035275362432003));
res += mul(Get(s1,dx,-dy), float4x4(0.015978027135134,0.025460708886385,-0.062354709953070,0.063513346016407,0.032139055430889,0.000100144745375,-0.023360164836049,0.038197882473469,0.023014320060611,-0.024840153753757,-0.006040222477168,0.048939481377602,-0.013138785026968,-0.001296329777688,-0.030959468334913,-0.020012725144625));
res += mul(Get(s1,dx,0), float4x4(-0.004003618378192,-0.067094057798386,0.027091497555375,0.006365345790982,0.007128385361284,0.021260749548674,-0.034749515354633,0.006118303630501,-0.015068114735186,-0.037633739411831,-0.019071469083428,0.052748452872038,0.011094212532043,0.078522719442844,-0.077656731009483,-0.049128811806440));
res += mul(Get(s1,dx,dy), float4x4(0.019700055941939,-0.126592218875885,0.012811929918826,0.003030573017895,0.040345828980207,-0.009762570261955,-0.016048580408096,-0.040478091686964,0.006223006173968,-0.064456872642040,-0.036410186439753,-0.038970779627562,0.022696150466800,0.058639794588089,-0.037748113274574,-0.060415189713240));
res += mul(Get(s2,-dx,-dy), float4x4(-0.040133267641068,0.001315592322499,-0.011898111552000,0.041594889014959,0.019319552928209,-0.064064897596836,0.060346219688654,0.015697680413723,0.001234043389559,-0.049803446978331,-0.055584192276001,0.113687872886658,0.004754925612360,0.028326353058219,0.038673177361488,-0.014745373278856));
res += mul(Get(s2,-dx,0), float4x4(-0.011680449359119,0.106559216976166,-0.013580714352429,0.000043423784518,-0.008293200284243,-0.016265396028757,0.082670114934444,-0.049105245620012,-0.031296163797379,-0.071873791515827,0.050631146878004,-0.065521962940693,-0.038431968539953,0.036015998572111,0.026640890166163,0.016050497069955));
res += mul(Get(s2,-dx,dy), float4x4(0.035639017820358,0.005944438744336,0.041185736656189,-0.036153450608253,0.010482046753168,-0.023022826761007,0.033422537147999,-0.022805204614997,0.054380569607019,-0.047796916216612,0.006113132461905,-0.036287780851126,-0.003853123169392,0.069394163787365,0.024164803326130,-0.031544595956802));
res += mul(Get(s2,0,-dy), float4x4(0.041983943432570,-0.034964401274920,-0.017022363841534,0.045991107821465,0.074766531586647,-0.018340257927775,0.057589564472437,0.065659336745739,0.148075208067894,-0.077012337744236,-0.051237486302853,0.153326526284218,0.030075799673796,0.072286009788513,0.038088925182819,-0.041532684117556));
res += mul(Get(s2,0,0), float4x4(-0.010330979712307,0.023552939295769,-0.054436340928078,0.021479761227965,-0.081161938607693,0.076230347156525,0.010156713426113,-0.003501455299556,-0.270280212163925,-0.016506889835000,-0.091310545802116,-0.039147019386292,0.031840048730373,0.013906974345446,0.093676939606667,0.014164817519486));
res += mul(Get(s2,0,dy), float4x4(-0.010533215478063,-0.002034359611571,-0.075688250362873,-0.031227771192789,-0.063632026314735,0.066563904285431,-0.006351443473250,-0.024068394675851,0.200795322656631,0.020128462463617,0.051915843039751,-0.037792280316353,0.010430175811052,-0.010487250983715,-0.053043056279421,-0.041833821684122));
res += mul(Get(s2,dx,-dy), float4x4(0.009722935967147,-0.122002646327019,-0.036159075796604,0.052892960608006,0.051059547811747,0.018241127952933,0.026946632191539,0.028321325778961,-0.029225979000330,-0.068459242582321,-0.020329549908638,0.067954532802105,-0.003872040892020,0.028571499511600,-0.066049925982952,-0.024983711540699));
res += mul(Get(s2,dx,0), float4x4(-0.097521148622036,-0.098615184426308,0.002621468622237,-0.025842832401395,-0.010737526230514,-0.024830542504787,0.004994781687856,-0.039089925587177,0.011255650781095,0.004109727684408,-0.111509010195732,-0.011368063278496,-0.046599622815847,-0.026823487132788,0.120920896530151,0.004846462979913));
res += mul(Get(s2,dx,dy), float4x4(0.082145676016808,-0.042380318045616,-0.031020840629935,-0.062450014054775,-0.041326902806759,0.007550733163953,-0.032044079154730,-0.060389216989279,0.023333426564932,-0.009423745796084,-0.044939782470465,-0.050172984600067,-0.033144168555737,-0.103043124079704,0.029177235439420,-0.042793210595846));
res += mul(Get(s3,-dx,-dy), float4x4(-0.008561485446990,-0.038946360349655,-0.023558719083667,-0.012936646118760,-0.001200555823743,0.013406080193818,0.015541098080575,0.012345157563686,-0.011542356573045,0.027332402765751,0.049294926226139,-0.011823256500065,0.009421044960618,0.025282390415668,-0.061092205345631,-0.048071827739477));
res += mul(Get(s3,-dx,0), float4x4(0.056502029299736,0.008682872168720,-0.031233599409461,-0.024348130449653,-0.069637954235077,-0.076034866273403,0.029906777665019,-0.019123081117868,0.005705120507628,0.100296452641487,0.094732202589512,-0.012690944597125,0.001756213721819,0.013346647843719,-0.062447883188725,-0.020936690270901));
res += mul(Get(s3,-dx,dy), float4x4(0.030860552564263,-0.062786340713501,-0.031424377113581,-0.010585084557533,-0.035573747009039,-0.064331978559494,-0.016542891040444,-0.014042588882148,-0.002511013299227,-0.008606200106442,0.051497139036655,-0.037561010569334,-0.041247166693211,0.008883058093488,-0.027577893808484,0.013769071549177));
res += mul(Get(s3,0,-dy), float4x4(-0.002091952366754,-0.001823079772294,-0.003804121399298,0.006039653904736,-0.061567939817905,0.006101787555963,0.038110762834549,-0.006251434329897,-0.014010903425515,0.088536545634270,0.020011954009533,0.067887090146542,0.035589247941971,-0.002859533065930,-0.018687402829528,-0.061317980289459));
res += mul(Get(s3,0,0), float4x4(0.038469504565001,-0.008376617915928,-0.063015930354595,-0.012939316220582,-0.016580209136009,0.022297885268927,0.024237079545856,-0.012531088665128,-0.002684320323169,0.004748628940433,0.068107299506664,0.017175907269120,0.075867943465710,0.090585745871067,0.076464407145977,-0.024999661371112));
res += mul(Get(s3,0,dy), float4x4(0.021463694050908,-0.017569195479155,-0.039196845144033,0.017879119142890,-0.085812054574490,-0.071359165012836,0.066858671605587,-0.023177403956652,-0.011638212017715,0.023215185850859,-0.008007074706256,0.013604025356472,-0.036674492061138,-0.000244853261393,0.053237717598677,0.004759429022670));
res += mul(Get(s3,dx,-dy), float4x4(-0.048108574002981,0.046875804662704,-0.033858224749565,-0.010391524992883,0.002852537203580,-0.022448306903243,0.016828453168273,-0.019224945455790,-0.014000241644681,0.047777306288481,0.016348108649254,0.019240386784077,0.023795004934072,0.055392656475306,-0.051097165793180,-0.002248751930892));
res += mul(Get(s3,dx,0), float4x4(0.042378608137369,0.025060329586267,-0.008214599452913,-0.027052296325564,-0.027261752635241,0.053873095661402,-0.018409579992294,-0.006075314246118,-0.030282774940133,-0.027238897979259,0.008673093281686,-0.026703102514148,0.022384811192751,0.069318868219852,0.002032859716564,0.021625518798828));
res += mul(Get(s3,dx,dy), float4x4(0.026628989726305,0.030328031629324,-0.000274280318990,0.025216715410352,-0.022744238376617,-0.075533017516136,0.017495119944215,-0.028871208429337,-0.010966670699418,0.019848382100463,-0.025806160643697,-0.008571532554924,-0.023974590003490,-0.051829170435667,-0.006012425757945,0.032759193331003));
return max(float4(0,0,0,0), res);
}
