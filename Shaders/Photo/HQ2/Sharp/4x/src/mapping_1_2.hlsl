sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.023584401234984,0.001341731287539,0.160465851426125,0.025096736848354,-0.074372112751007,-0.094316378235817,0.126210540533066,0.030889874324203,0.034585401415825,-0.016729312017560,-0.071910776197910,-0.021785967051983,-0.010400461032987,-0.035741537809372,0.160471573472023,0.053965535014868));
res += mul(Get(s0,-dx,0), float4x4(-0.091156788170338,-0.014416773803532,-0.039323188364506,0.219119101762772,-0.103867970407009,-0.046785891056061,0.056784503161907,-0.016760645434260,0.158779531717300,0.002598698250949,0.080571688711643,0.104352153837681,0.117497563362122,-0.034894496202469,0.065016858279705,0.152970895171165));
res += mul(Get(s0,-dx,dy), float4x4(0.037931837141514,0.087634727358818,-0.024269226938486,0.043938882648945,-0.042077410966158,-0.100128963589668,-0.003333898494020,-0.069267883896828,0.027771046385169,-0.074307300150394,0.078147456049919,-0.073548085987568,0.002832460915670,0.103000141680241,-0.062863186001778,0.092968560755253));
res += mul(Get(s0,0,-dy), float4x4(-0.053211372345686,-0.018920825794339,0.072779387235641,-0.012793614529073,0.054344139993191,0.060885306447744,-0.128329738974571,-0.079818002879620,0.177803069353104,-0.051281798630953,-0.065020672976971,0.029450882226229,-0.024464385583997,0.006898385938257,-0.009061988443136,0.041832029819489));
res += mul(Get(s0,0,0), float4x4(0.073428615927696,-0.022432019934058,0.059164717793465,-0.013818577863276,0.128725811839104,-0.139791131019592,-0.243328258395195,-0.051744353026152,-0.040477436035872,-0.034023802727461,0.034581366926432,0.001206697430462,-0.022639119997621,0.185782104730606,-0.002035282552242,0.024542814120650));
res += mul(Get(s0,0,dy), float4x4(0.068149104714394,0.070591740310192,0.105535157024860,0.189330250024796,0.125307098031044,-0.044770039618015,-0.128400787711143,-0.035112872719765,-0.081142470240593,0.022935403510928,-0.079986013472080,-0.000878020131495,-0.074199058115482,0.064180225133896,0.016142481938004,-0.017763609066606));
res += mul(Get(s0,dx,-dy), float4x4(0.032250154763460,-0.121039792895317,-0.000244178256253,-0.086950302124023,0.036541175097227,-0.143643751740456,0.196866258978844,-0.054369695484638,0.003204084467143,-0.030630715191364,0.043808143585920,0.071625500917435,-0.052424009889364,-0.116248182952404,0.122794575989246,0.164423540234566));
res += mul(Get(s0,dx,0), float4x4(0.128527373075485,-0.033398810774088,0.014568096958101,-0.035238735377789,-0.063421934843063,-0.026018895208836,0.206320643424988,-0.023617276921868,0.159388646483421,0.079361006617546,-0.057721849530935,-0.052904978394508,0.033486943691969,-0.023715721443295,-0.047821279615164,0.064680442214012));
res += mul(Get(s0,dx,dy), float4x4(0.053080450743437,0.060276914387941,-0.187626615166664,-0.015981199219823,-0.061945412307978,-0.030712435021996,0.227043583989143,0.033744122833014,0.020490266382694,0.108325503766537,0.030765168368816,0.049043722450733,-0.008240952156484,-0.006413182709366,0.001498199417256,-0.015388214029372));
res += mul(Get(s1,-dx,-dy), float4x4(0.015169589780271,-0.055797543376684,-0.000770283164456,0.028070803731680,-0.111673988401890,-0.013816724531353,-0.032821808010340,0.022273890674114,0.156783536076546,-0.017707590013742,-0.006150539033115,-0.093526430428028,0.065217599272728,-0.082314245402813,0.121390238404274,0.000163280754350));
res += mul(Get(s1,-dx,0), float4x4(0.024325577542186,-0.071429699659348,-0.001318263821304,0.084353871643543,0.008172821253538,0.047835446894169,0.063163086771965,-0.103255361318588,0.060833599418402,-0.052504733204842,-0.027895452454686,-0.031906388700008,-0.053515505045652,0.007006845436990,-0.051998250186443,0.104256369173527));
res += mul(Get(s1,-dx,dy), float4x4(-0.167482212185860,-0.046596273779869,-0.146694660186768,0.038185618817806,-0.160891056060791,-0.037369664758444,0.080665633082390,-0.050803463906050,-0.133731976151466,0.020608261227608,-0.092871680855751,-0.041322726756334,-0.081272728741169,0.159647643566132,-0.106172665953636,0.090896718204021));
res += mul(Get(s1,0,-dy), float4x4(-0.041980560868979,0.019451107829809,-0.058873515576124,0.017962751910090,0.003301768098027,0.002458999166265,-0.067971453070641,-0.037406094372272,0.048525888472795,0.017203606665134,-0.050096981227398,-0.052198007702827,-0.086672566831112,0.012786068953574,0.172034576535225,0.049879517406225));
res += mul(Get(s1,0,0), float4x4(0.010702604427934,0.065653808414936,-0.026192799210548,-0.017481911927462,-0.027735440060496,0.075525872409344,0.011303219944239,0.085766509175301,-0.060425784438848,0.023907335475087,0.011741990223527,0.018207000568509,-0.095380023121834,0.081190884113312,0.012997438199818,0.111678577959538));
res += mul(Get(s1,0,dy), float4x4(0.004087144043297,-0.107104726135731,0.073991067707539,-0.017498703673482,0.043567392975092,0.046466480940580,0.016139991581440,0.037076964974403,0.038175076246262,-0.051628120243549,0.092926897108555,0.096954137086868,0.035137951374054,0.026015602052212,0.031707663089037,-0.050805035978556));
res += mul(Get(s1,dx,-dy), float4x4(0.036732792854309,-0.007457189261913,0.055401306599379,-0.093297824263573,-0.108937576413155,-0.050700247287750,0.161504641175270,-0.141289129853249,-0.045017365366220,-0.069014228880405,0.103353731334209,0.006951296702027,-0.076090060174465,-0.115393206477165,-0.064713314175606,-0.008101494051516));
res += mul(Get(s1,dx,0), float4x4(-0.032615490257740,-0.044759500771761,-0.019528502598405,-0.001837075920776,0.026723710820079,-0.058017507195473,-0.032337661832571,0.021414384245872,-0.068397767841816,-0.023453498259187,-0.042092971503735,0.020796939730644,-0.028081322088838,-0.073091842234135,0.048698011785746,-0.016830403357744));
res += mul(Get(s1,dx,dy), float4x4(0.069165423512459,-0.002367134205997,-0.052858628332615,-0.003621969139203,0.042026989161968,0.108919635415077,0.011736669577658,-0.085601888597012,0.074640922248363,-0.011379376053810,0.005602866411209,-0.094840481877327,0.058789499104023,-0.002912423107773,-0.075089603662491,0.025770360603929));
res += mul(Get(s2,-dx,-dy), float4x4(-0.121832124888897,0.026928309351206,0.102686464786530,0.070030711591244,0.057110399007797,-0.106795281171799,0.028614873066545,-0.004983119200915,0.007038740906864,-0.112276948988438,0.059681303799152,0.090792037546635,-0.051036126911640,0.005322898738086,-0.081598863005638,-0.019046278670430));
res += mul(Get(s2,-dx,0), float4x4(-0.026414157822728,-0.076998002827168,0.014513706788421,0.139448285102844,0.027160620316863,0.105081960558891,-0.115854017436504,0.034729942679405,0.015697555616498,-0.060036487877369,0.163500353693962,0.008581814356148,-0.009010982699692,0.050458706915379,0.083422996103764,-0.076197989284992));
res += mul(Get(s2,-dx,dy), float4x4(-0.082879081368446,0.016595195978880,0.090608544647694,0.032601147890091,0.093205034732819,-0.017631042748690,-0.075879923999310,-0.091474249958992,-0.001946592703462,0.034529633820057,-0.164852231740952,-0.013212000019848,0.105158276855946,-0.044434789568186,0.024018775671721,0.031834408640862));
res += mul(Get(s2,0,-dy), float4x4(0.035755004733801,-0.077698297798634,-0.123650714755058,0.017208511009812,-0.088141411542892,-0.003757643979043,-0.024516986683011,-0.011585138738155,0.030949320644140,0.065319955348969,-0.118587248027325,-0.069228030741215,0.150510907173157,0.033293612301350,0.134900763630867,0.079539105296135));
res += mul(Get(s2,0,0), float4x4(0.038951553404331,-0.017007850110531,-0.108073800802231,0.065987713634968,0.015781344845891,0.066010974347591,0.105372153222561,-0.016079284250736,0.136324986815453,-0.108253315091133,-0.039006184786558,-0.140510961413383,0.022369073703885,-0.123274669051170,-0.040682785212994,-0.054164376109838));
res += mul(Get(s2,0,dy), float4x4(0.049961127340794,0.089214369654655,-0.043604400008917,0.015574669465423,-0.117493137717247,0.126965865492821,0.018653297796845,0.064751803874969,-0.001446448266506,0.132321476936340,0.129407688975334,0.033947322517633,-0.074352629482746,0.052287146449089,0.025474004447460,-0.066089868545532));
res += mul(Get(s2,dx,-dy), float4x4(-0.107618659734726,0.003055939916521,0.145381629467010,0.045653626322746,0.131510242819786,0.002221974078566,-0.051041100174189,0.049458447843790,0.028753487393260,-0.115280710160732,0.000567732320633,0.129161268472672,-0.064842723309994,0.063830710947514,0.051939968019724,0.033117491751909));
res += mul(Get(s2,dx,0), float4x4(-0.009870503097773,0.069256722927094,0.038702983409166,-0.014385185204446,-0.103041604161263,0.065213635563850,0.134364798665047,-0.003732971614227,0.088993594050407,0.070561379194260,-0.138627156615257,-0.099150553345680,-0.015200446359813,-0.123970061540604,0.042005963623524,-0.076865538954735));
res += mul(Get(s2,dx,dy), float4x4(-0.033331442624331,-0.079326272010803,-0.039048563688993,-0.030961444601417,0.098112598061562,0.046766031533480,-0.054139342159033,-0.003561875317246,-0.083397626876831,0.045367702841759,0.084294334053993,0.008436954580247,-0.031452808529139,0.121575906872749,0.010636380873621,-0.078227423131466));
res += mul(Get(s3,-dx,-dy), float4x4(0.033013578504324,-0.167287722229958,-0.017813712358475,-0.031991533935070,0.119051136076450,0.069166131317616,-0.025723177939653,-0.046541161835194,0.068422973155975,0.083398528397083,0.037907090038061,-0.104375630617142,0.017354888841510,-0.078563749790192,0.063186414539814,0.015801686793566));
res += mul(Get(s3,-dx,0), float4x4(-0.261964678764343,-0.084219947457314,0.170542508363724,0.126070007681847,0.167734533548355,0.100513361394405,0.022532457485795,0.143151819705963,0.075039632618427,0.068572640419006,-0.085250400006771,-0.081205226480961,-0.170201569795609,-0.051306344568729,-0.045857753604650,0.069876521825790));
res += mul(Get(s3,-dx,dy), float4x4(-0.266776591539383,-0.038823030889034,0.051994755864143,0.083030417561531,-0.007109094411135,0.050997391343117,-0.069105893373489,0.010949944145977,-0.054722517728806,-0.116210944950581,-0.109220206737518,-0.045828036963940,0.067599855363369,0.089103385806084,0.015076528303325,0.003546338295564));
res += mul(Get(s3,0,-dy), float4x4(0.114162229001522,-0.046252779662609,0.115893065929413,0.002743719145656,-0.044690623879433,0.070803031325340,-0.008250165730715,-0.098071031272411,-0.132837176322937,0.002697747433558,0.225891187787056,-0.038326632231474,-0.089220061898232,-0.080876201391220,0.044172178953886,0.057698938995600));
res += mul(Get(s3,0,0), float4x4(0.051701545715332,0.065008178353310,-0.041471865028143,0.031169285997748,0.011900001205504,0.195505484938622,0.054330479353666,0.041177667677402,-0.064078435301781,-0.033105671405792,0.370239764451981,-0.140950888395309,0.103827945888042,-0.035577375441790,0.003236375283450,-0.004630206152797));
res += mul(Get(s3,0,dy), float4x4(-0.100733339786530,-0.017766656354070,0.080200977623463,0.000801282818429,0.012000623159111,0.041998043656349,0.033833757042885,-0.032131783664227,0.129948392510414,-0.005184446927160,-0.053171616047621,-0.059008635580540,0.020341586321592,-0.027447843924165,0.048001419752836,0.037450179457664));
res += mul(Get(s3,dx,-dy), float4x4(0.134830519556999,-0.030507560819387,0.225801080465317,0.017662474885583,0.028416542336345,-0.157138586044312,-0.031677093356848,0.017208993434906,-0.024189636111259,0.007952389307320,-0.292756080627441,-0.087277956306934,-0.012299331836402,0.018169537186623,0.102772250771523,-0.013540302403271));
res += mul(Get(s3,dx,0), float4x4(0.081749767065048,-0.146390929818153,-0.113364450633526,0.005922504700720,0.041607476770878,-0.120377108454704,0.126687243580818,-0.043923668563366,-0.015940368175507,-0.025042302906513,0.158460274338722,-0.025236940011382,-0.011598567478359,-0.031260456889868,-0.097460418939590,-0.137375175952911));
res += mul(Get(s3,dx,dy), float4x4(0.153204441070557,0.039359062910080,-0.259546101093292,0.013363181613386,0.089229628443718,-0.103121750056744,-0.089874215424061,0.098004400730133,-0.066486708819866,0.076100811362267,0.054436050355434,-0.120279595255852,0.088247016072273,-0.035922270268202,0.029738165438175,-0.146433740854263));
res = max(float4(0,0,0,0), res);
return res;
}
