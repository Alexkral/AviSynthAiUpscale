sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.088852658867836,0.195536836981773,-0.113764569163322,-0.002243973081931,0.097238235175610,-0.027520453557372,0.048929326236248,-0.023843022063375,0.123162068426609,0.169839322566986,-0.110399000346661,-0.063411690294743,-0.035385511815548,-0.042841404676437,-0.028955930843949,0.039521869271994));
res += mul(Get(s0,-dx,0), float4x4(-0.241345435380936,0.160090997815132,-0.035597439855337,-0.027801023796201,0.078683815896511,0.089621961116791,-0.185087323188782,-0.035435505211353,-0.039523985236883,0.149126112461090,0.147056519985199,0.116189412772655,0.008459595032036,0.108965255320072,0.081608198583126,-0.126747265458107));
res += mul(Get(s0,-dx,dy), float4x4(0.003055960638449,-0.013225436210632,0.057992424815893,-0.038760811090469,-0.032235454767942,0.023082058876753,-0.066204741597176,0.072763167321682,-0.006877402309328,0.038665063679218,0.038135290145874,-0.044445604085922,0.052316106855869,0.074666135013103,0.095851846039295,0.000343901512679));
res += mul(Get(s0,0,-dy), float4x4(-0.021378478035331,0.119442142546177,-0.068906851112843,-0.148773804306984,0.102617643773556,-0.150257423520088,0.014973045326769,0.153135463595390,0.054111838340759,0.220886632800102,0.044882003217936,-0.117856197059155,0.072974115610123,-0.047921579331160,0.037733566015959,-0.031150842085481));
res += mul(Get(s0,0,0), float4x4(-0.006760641001165,-0.108293078839779,-0.102404437959194,-0.023929744958878,-0.090647950768471,-0.065201461315155,-0.085105866193771,0.159222751855850,-0.150937959551811,-0.045722119510174,0.063059084117413,-0.032530598342419,0.184425339102745,0.066894240677357,-0.009712973609567,-0.050965160131454));
res += mul(Get(s0,0,dy), float4x4(-0.098334439098835,-0.073657251894474,-0.009007458575070,0.011371581815183,-0.009011232294142,-0.077476367354393,-0.236373618245125,-0.023905977606773,-0.076402433216572,-0.030897604301572,-0.013655394315720,-0.018960982561111,-0.029494130983949,0.016201054677367,0.032294992357492,-0.056104734539986));
res += mul(Get(s0,dx,-dy), float4x4(-0.125746920704842,-0.001431245240383,-0.079795062541962,-0.030956968665123,0.004309043288231,-0.015578191727400,0.147338002920151,0.208409368991852,0.008696631528437,-0.109827890992165,0.086780235171318,0.026059191673994,0.004535911139101,-0.066783852875233,-0.070690207183361,0.002950223162770));
res += mul(Get(s0,dx,0), float4x4(-0.093942075967789,0.065724216401577,0.018115367740393,-0.100841894745827,-0.010598464868963,-0.079082310199738,-0.092318378388882,0.095008671283722,-0.019923675805330,0.110189221799374,-0.075152292847633,-0.012131555005908,-0.050307340919971,0.026475768536329,-0.060365490615368,-0.090653672814369));
res += mul(Get(s0,dx,dy), float4x4(0.142050459980965,0.032103016972542,-0.001845864811912,0.046587329357862,-0.078605748713017,-0.119070366024971,-0.085012532770634,-0.059459149837494,-0.073029138147831,0.048560690134764,-0.014027123339474,0.137017890810966,0.242820143699646,-0.113167405128479,0.063579842448235,0.055840507149696));
res += mul(Get(s1,-dx,-dy), float4x4(0.107875861227512,-0.029157938435674,-0.006533142644912,-0.006021098233759,-0.061964269727468,0.001289017149247,-0.008467340841889,-0.021957283839583,-0.016469841822982,-0.085613444447517,-0.116381004452705,0.053603701293468,0.025106092914939,0.039119213819504,-0.030337601900101,0.048272546380758));
res += mul(Get(s1,-dx,0), float4x4(-0.129113614559174,-0.009895928204060,-0.036014538258314,0.011094094254076,0.029460621997714,-0.014759614132345,0.047618109732866,-0.013749116100371,0.055625382810831,-0.040568828582764,-0.045210279524326,0.075283139944077,0.121495850384235,0.154446989297867,0.029264997690916,-0.066928915679455));
res += mul(Get(s1,-dx,dy), float4x4(0.012946294620633,0.073239490389824,0.023982729762793,0.071679569780827,0.024216637015343,-0.196830719709396,-0.140380650758743,-0.098132438957691,-0.057611398398876,0.025516221299767,0.115213014185429,0.047419253736734,-0.041802018880844,-0.065715394914150,0.007505458779633,-0.021776136010885));
res += mul(Get(s1,0,-dy), float4x4(0.100021846592426,0.084794141352177,0.049524348229170,-0.012869991362095,-0.051644731312990,0.136943772435188,0.059547740966082,-0.167261525988579,-0.017833191901445,0.109550349414349,-0.067578025162220,-0.096506029367447,-0.086479015648365,-0.079418778419495,0.125587835907936,0.009421240538359));
res += mul(Get(s1,0,0), float4x4(-0.011235119774938,-0.018373390659690,-0.031679928302765,-0.030538814142346,-0.032464150339365,0.127970993518829,0.002381431870162,-0.075129739940166,0.038149487227201,0.139117226004601,-0.048472471535206,0.171887546777725,0.052461504936218,0.153943076729774,0.070604220032692,0.128891989588737));
res += mul(Get(s1,0,dy), float4x4(0.036714006215334,0.073362626135349,0.038986653089523,-0.041498944163322,0.037215515971184,0.058878913521767,0.090889103710651,-0.038837157189846,0.057902615517378,0.022771826013923,-0.002662667306140,-0.024705437943339,0.024342490360141,0.037625622004271,0.000013014448996,0.203104272484779));
res += mul(Get(s1,dx,-dy), float4x4(-0.110660254955292,0.006914643105119,-0.044377055019140,0.008125566877425,0.136028677225113,-0.107975855469704,0.015959488227963,-0.043817989528179,0.039218243211508,-0.037460014224052,0.011610600166023,0.024924846366048,0.123296797275543,0.009686284698546,0.038284856826067,-0.060918115079403));
res += mul(Get(s1,dx,0), float4x4(-0.030797868967056,0.036211736500263,-0.014727723784745,0.067078843712807,0.075732648372650,0.000075906653365,0.039967101067305,0.034771945327520,0.075060673058033,0.028149286285043,-0.044300105422735,-0.013947528786957,0.003647679928690,0.195748984813690,0.148912802338600,-0.030536962673068));
res += mul(Get(s1,dx,dy), float4x4(-0.002381675643846,-0.126457691192627,0.174693450331688,-0.114181764423847,-0.033335149288177,0.120941080152988,0.144016325473785,-0.082609921693802,-0.056294504553080,0.024550380185246,-0.067980222404003,-0.032156374305487,0.023045681416988,0.024722222238779,0.057308163493872,-0.011386164464056));
res += mul(Get(s2,-dx,-dy), float4x4(0.002249997109175,0.023179218173027,0.023942453786731,-0.016527039930224,-0.150498628616333,-0.068641074001789,-0.111458227038383,-0.064555317163467,0.081404373049736,-0.147846117615700,0.001338754198514,0.080844812095165,-0.042541917413473,0.047063037753105,0.091921418905258,0.029739821329713));
res += mul(Get(s2,-dx,0), float4x4(-0.071246989071369,0.096120297908783,0.043874867260456,-0.218945398926735,-0.063039951026440,0.064283803105354,-0.152880460023880,-0.029013970866799,-0.079717993736267,-0.202494636178017,-0.021192243322730,0.004388030618429,-0.094899341464043,-0.002479688730091,0.007888671010733,-0.010994363576174));
res += mul(Get(s2,-dx,dy), float4x4(-0.040155101567507,0.067946285009384,-0.064932346343994,0.043853927403688,0.036727257072926,-0.098498210310936,-0.012622698210180,0.083042733371258,-0.002260868204758,-0.172619864344597,0.080987304449081,-0.084731504321098,-0.013208945281804,0.165062829852104,0.085786685347557,-0.044545717537403));
res += mul(Get(s2,0,-dy), float4x4(-0.062496069818735,-0.166792079806328,-0.030408002436161,0.101656056940556,0.086152553558350,-0.048658799380064,0.044179614633322,0.089307673275471,-0.090724088251591,0.094500295817852,0.173452511429787,0.161006242036819,-0.001624003751203,0.100935675203800,-0.002355856588110,0.097727805376053));
res += mul(Get(s2,0,0), float4x4(0.015354705974460,-0.011901872232556,-0.057769492268562,0.043779700994492,-0.109894104301929,-0.047729980200529,0.043218214064837,-0.018440660089254,-0.069549851119518,-0.029598809778690,0.138326480984688,-0.003837560070679,-0.038399733603001,0.039870280772448,-0.031415827572346,-0.133860528469086));
res += mul(Get(s2,0,dy), float4x4(-0.075084127485752,0.028519472107291,-0.085907861590385,-0.050163555890322,-0.063951045274734,-0.028891166672111,-0.178448602557182,-0.251438528299332,0.131079360842705,0.083076842129230,0.038801368325949,0.074891537427902,0.046091224998236,-0.048329826444387,0.054199259728193,0.101072058081627));
res += mul(Get(s2,dx,-dy), float4x4(-0.088022023439407,-0.139213979244232,0.040221631526947,0.000742556003388,-0.025364588946104,-0.004880801308900,0.162236467003822,0.157037600874901,-0.105409853160381,0.068973846733570,0.036988139152527,0.008871243335307,-0.019299281761050,0.028001395985484,-0.055380355566740,-0.067120060324669));
res += mul(Get(s2,dx,0), float4x4(-0.105090804398060,-0.032409496605396,-0.176901265978813,-0.129175290465355,-0.039737712591887,0.055198483169079,0.097761072218418,0.174401357769966,-0.091710001230240,-0.027296191081405,0.019086942076683,0.070533566176891,-0.028560331091285,0.057965055108070,0.021387999877334,0.019924223423004));
res += mul(Get(s2,dx,dy), float4x4(0.026387479156256,-0.011582061648369,-0.005471685435623,-0.018130244687200,-0.162307620048523,0.040902674198151,-0.101488232612610,-0.047855596989393,-0.114794068038464,-0.163170024752617,-0.004213841632009,0.080061897635460,0.009926639497280,-0.132750064134598,0.052951931953430,0.168103277683258));
res += mul(Get(s3,-dx,-dy), float4x4(-0.123744048178196,-0.058757510036230,-0.015296738594770,0.023428576067090,-0.051328670233488,0.109338477253914,0.027017483487725,-0.035453081130981,0.082769744098186,-0.201117768883705,0.017494887113571,-0.048456165939569,0.147216632962227,-0.098519325256348,0.003029353218153,-0.063091740012169));
res += mul(Get(s3,-dx,0), float4x4(-0.036887545138597,-0.017660778015852,-0.049050673842430,0.089321263134480,0.164918109774590,0.186168670654297,0.125088393688202,-0.007478353101760,-0.030383225530386,0.022438511252403,0.093133330345154,0.188457950949669,-0.064900271594524,-0.075241945683956,-0.117963455617428,0.052096806466579));
res += mul(Get(s3,-dx,dy), float4x4(0.091599844396114,-0.078699670732021,0.005110641010106,-0.063398800790310,0.000661665573716,0.066739752888680,-0.030959915369749,-0.051931302994490,-0.019524972885847,0.017382597550750,-0.151036292314529,-0.053980350494385,0.018284916877747,-0.061462607234716,-0.194713801145554,0.067916058003902));
res += mul(Get(s3,0,-dy), float4x4(-0.045290451496840,-0.041444782167673,0.084441050887108,-0.063977889716625,0.014988861978054,-0.036070071160793,-0.123822376132011,-0.023654760792851,0.046472977846861,-0.108797043561935,-0.040058821439743,0.018856586888433,0.034321725368500,-0.047089923173189,0.201536342501640,0.141047507524490));
res += mul(Get(s3,0,0), float4x4(0.056057613343000,-0.039991155266762,-0.177915140986443,0.130418598651886,0.030172239989042,-0.004306680522859,0.005616852547973,-0.117079034447670,-0.104783445596695,0.122835427522659,-0.035051386803389,0.031031826511025,-0.076408229768276,-0.040365397930145,-0.133944168686867,-0.017060926184058));
res += mul(Get(s3,0,dy), float4x4(-0.001281656906940,0.012138613499701,-0.026539500802755,0.088865473866463,0.064362384378910,0.052387434989214,0.098473489284515,-0.053424675017595,0.047065030783415,0.136267706751823,-0.073533661663532,-0.120170623064041,-0.072298943996429,-0.145455896854401,-0.090138241648674,-0.031059367582202));
res += mul(Get(s3,dx,-dy), float4x4(0.084267400205135,0.029106104746461,0.008738045580685,-0.017299482598901,-0.045934375375509,-0.094784021377563,-0.019768683239818,-0.044363185763359,0.047459039837122,-0.086938552558422,0.122615776956081,0.134210512042046,-0.087731137871742,-0.025629317387938,0.196123257279396,0.258809179067612));
res += mul(Get(s3,dx,0), float4x4(0.156423881649971,0.046561866998672,0.031772047281265,-0.043597370386124,0.085022740066051,0.040833126753569,0.138084828853607,0.060105446726084,-0.082849517464638,0.119229786098003,0.050386149436235,0.130916222929955,0.052979987114668,0.028587168082595,0.040782526135445,-0.100815281271935));
res += mul(Get(s3,dx,dy), float4x4(0.165981605648994,-0.011828448623419,-0.072096273303032,-0.131345331668854,-0.131422668695450,0.073097899556160,0.018793428316712,0.056663945317268,-0.141309916973114,0.114213049411774,0.001616093912162,0.073668450117111,0.080490127205849,0.047581579536200,-0.046283479779959,0.121409751474857));
res = max(float4(0,0,0,0), res);
return res;
}
