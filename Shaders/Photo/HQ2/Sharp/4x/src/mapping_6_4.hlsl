sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022786688059568,-0.007821121253073,0.038823518902063,-0.008250255137682,-0.080948598682880,0.079155474901199,0.000946821586695,-0.035771034657955,-0.000261443317868,-0.049834299832582,0.089069187641144,0.013929513283074,-0.006291996687651,0.070423029363155,0.038744468241930,-0.059038668870926));
res += mul(Get(s0,-dx,0), float4x4(0.054016511887312,-0.094952002167702,-0.052421689033508,0.028681654483080,0.088245145976543,-0.009770679287612,0.088739715516567,-0.050379555672407,0.067311860620975,0.044114831835032,-0.049894247204065,-0.043097466230392,0.044295147061348,-0.015084920451045,0.063649982213974,-0.008447412401438));
res += mul(Get(s0,-dx,dy), float4x4(-0.102579839527607,-0.094477146863937,-0.005640052724630,0.036573603749275,-0.046707298606634,0.064362876117229,-0.016145007684827,0.053939182311296,0.038059774786234,-0.091455779969692,-0.009367124177516,0.169862374663353,-0.017870839685202,-0.016331793740392,-0.089657999575138,-0.025373298674822));
res += mul(Get(s0,0,-dy), float4x4(-0.021605012938380,0.007652062457055,0.066205985844135,0.022223465144634,-0.078744500875473,0.081808157265186,-0.025411728769541,-0.133853480219841,-0.145944222807884,0.017786983400583,-0.028508361428976,0.077645011246204,-0.076977893710136,0.053002510219812,-0.016911834478378,-0.010653288103640));
res += mul(Get(s0,0,0), float4x4(0.009020749479532,-0.021623341366649,-0.112283386290073,0.088447526097298,-0.010644560679793,0.065228596329689,0.033914219588041,0.018579440191388,0.072522059082985,-0.077304162085056,-0.019257489591837,0.054689902812243,0.075604282319546,0.002790136262774,0.124662011861801,0.034019745886326));
res += mul(Get(s0,0,dy), float4x4(0.020394964143634,-0.075474262237549,0.068876244127750,0.026393029838800,0.068582952022552,-0.050059497356415,0.002560825087130,0.065393000841141,0.071139797568321,-0.055906597524881,-0.032234266400337,0.093590311706066,-0.073505945503712,-0.057108193635941,0.065962500870228,0.001351288636215));
res += mul(Get(s0,dx,-dy), float4x4(0.041811108589172,0.044833626598120,0.119616433978081,-0.005789214745164,0.040815446525812,0.018921921029687,0.059685751795769,0.038109879940748,-0.003137413412333,0.062816075980663,0.000925640226342,-0.022538969293237,0.059015363454819,-0.036020182073116,-0.112789571285248,-0.057065106928349));
res += mul(Get(s0,dx,0), float4x4(-0.028287518769503,0.060612257570028,-0.043988924473524,0.086333528161049,-0.080373331904411,-0.031035477295518,-0.014573125168681,0.043841883540154,0.001552628702484,0.040115218609571,-0.038146365433931,-0.086780972778797,-0.028216091915965,0.094493933022022,-0.017754822969437,0.044135313481092));
res += mul(Get(s0,dx,dy), float4x4(0.092693753540516,-0.068209186196327,-0.041904676705599,0.056775312870741,0.053227424621582,0.009069014340639,-0.018717629835010,-0.085832744836807,0.040843766182661,0.053059168159962,-0.036988291889429,0.130405202507973,0.014833607710898,0.054586336016655,0.064894482493401,0.027174549177289));
res += mul(Get(s1,-dx,-dy), float4x4(-0.013493052683771,0.076662302017212,-0.022399511188269,-0.112328179180622,0.161087855696678,0.015334491617978,-0.086543120443821,0.005182217806578,-0.036545462906361,-0.119050264358521,0.015944886952639,-0.006134548690170,-0.068832345306873,-0.016088778153062,0.015453323721886,0.043896559625864));
res += mul(Get(s1,-dx,0), float4x4(-0.110877022147179,0.084947220981121,0.030580880120397,0.025710834190249,0.194801330566406,0.067186675965786,0.052473731338978,-0.014245717786252,0.050861816853285,-0.075683571398258,-0.016244204714894,-0.011918097734451,0.019047996029258,0.077376298606396,-0.015257439576089,-0.159515067934990));
res += mul(Get(s1,-dx,dy), float4x4(-0.067595645785332,-0.014610682614148,-0.081656739115715,-0.056191213428974,-0.028196554630995,0.067476861178875,-0.090235061943531,0.125641331076622,0.034472215920687,0.021272206678987,0.036830846220255,-0.016921311616898,-0.057691697031260,-0.082131117582321,0.000478480447782,-0.023085448890924));
res += mul(Get(s1,0,-dy), float4x4(0.073972426354885,0.018693970516324,-0.017242029309273,-0.028388597071171,0.099837869405746,0.037961788475513,0.043533645570278,0.047539979219437,0.038139943033457,-0.035003814846277,0.008406840264797,0.009181232191622,-0.155733510851860,0.069555409252644,0.003609240986407,-0.039958752691746));
res += mul(Get(s1,0,0), float4x4(-0.077237702906132,-0.125484094023705,0.054468434303999,-0.038138829171658,0.204649150371552,0.114408075809479,-0.127126619219780,0.134592801332474,-0.050558030605316,-0.043899722397327,0.035949327051640,-0.040593061596155,-0.060672111809254,0.102085880935192,0.012352143414319,-0.081289283931255));
res += mul(Get(s1,0,dy), float4x4(-0.089238740503788,0.048948902636766,-0.046503443270922,0.060020517557859,-0.032154422253370,0.011011503636837,0.031079445034266,0.028882566839457,0.046360425651073,0.060743913054466,0.043751891702414,0.009827621281147,-0.040020149201155,0.127581819891930,0.021077979356050,0.079897649586201));
res += mul(Get(s1,dx,-dy), float4x4(0.014407358132303,-0.022724561393261,0.079805307090282,-0.063217505812645,-0.023880010470748,0.017860418185592,-0.001299157389440,0.018713843077421,0.021467247977853,-0.083980642259121,-0.023188622668386,0.018257427960634,-0.042074106633663,0.042438961565495,0.027990326285362,0.006186465267092));
res += mul(Get(s1,dx,0), float4x4(-0.117760650813580,-0.109410271048546,-0.011673924513161,0.060611538589001,-0.088392443954945,0.178996428847313,-0.024959700182080,0.063434273004532,0.030889671295881,-0.008194349706173,-0.034981299191713,-0.000982406549156,-0.023522932082415,0.065778546035290,-0.013904230669141,0.052796825766563));
res += mul(Get(s1,dx,dy), float4x4(0.183221906423569,-0.019196817651391,-0.071325823664665,0.044882752001286,-0.186424791812897,-0.004048991482705,-0.002993380650878,-0.024717178195715,0.033447492867708,0.137582525610924,-0.044020324945450,-0.077679924666882,0.056063394993544,0.008512581698596,0.082544371485710,-0.026746591553092));
res += mul(Get(s2,-dx,-dy), float4x4(0.078105397522449,0.031762190163136,-0.049771055579185,-0.019324537366629,-0.093281358480453,-0.029102027416229,-0.043834280222654,-0.024460723623633,-0.035173319280148,-0.022018827497959,-0.015340952202678,0.048154264688492,0.074938669800758,-0.075423710048199,-0.072283983230591,0.022156653925776));
res += mul(Get(s2,-dx,0), float4x4(0.009538092650473,0.098474130034447,0.062661416828632,0.001634367974475,0.027644896879792,-0.049545377492905,0.041179426014423,-0.000467243924504,-0.129191592335701,0.021462863311172,0.013203675858676,0.081910125911236,0.008075763471425,-0.111107692122459,0.063061185181141,0.082530438899994));
res += mul(Get(s2,-dx,dy), float4x4(-0.059096235781908,0.001006500329822,-0.013079590164125,-0.031186679378152,0.009649906307459,-0.096877649426460,-0.032210808247328,-0.046607483178377,-0.068688511848450,-0.019564989954233,0.097647987306118,-0.056961208581924,-0.127890616655350,-0.022341594099998,-0.034468561410904,0.176090583205223));
res += mul(Get(s2,0,-dy), float4x4(0.038890890777111,0.010798665694892,-0.034984756261110,-0.050794411450624,-0.006704148370773,-0.000674183131196,0.099069289863110,-0.005685464013368,0.048181369900703,-0.059083543717861,-0.058966290205717,-0.021790621802211,0.208868041634560,-0.099467448890209,0.021861257031560,-0.123098164796829));
res += mul(Get(s2,0,0), float4x4(-0.079784393310547,-0.057623516768217,0.016762236133218,-0.170541167259216,-0.005288770422339,0.245483353734016,-0.144586578011513,-0.047716274857521,-0.056722991168499,0.062373973429203,0.060758832842112,-0.077608518302441,0.155414178967476,-0.064777269959450,-0.159107327461243,0.012819047085941));
res += mul(Get(s2,0,dy), float4x4(-0.025004297494888,-0.039389070123434,-0.079380095005035,-0.047386467456818,0.009106052108109,0.012129135429859,-0.011865260079503,-0.033133003860712,-0.065201304852962,-0.056260738521814,0.053504120558500,0.046791747212410,-0.147179991006851,-0.022311521694064,0.042735151946545,-0.097413539886475));
res += mul(Get(s2,dx,-dy), float4x4(-0.014361843466759,0.033012505620718,0.020296195521951,0.048031069338322,0.000989926746115,0.062580801546574,0.105134919285774,-0.005032542627305,0.012879501096904,-0.015258897095919,-0.039837934076786,-0.030483383685350,0.015541928820312,-0.092889077961445,-0.032235376536846,-0.084179811179638));
res += mul(Get(s2,dx,0), float4x4(-0.167321726679802,0.031628817319870,0.061943806707859,-0.001192585215904,-0.085706166923046,0.177370965480804,0.041989207267761,0.032711543142796,-0.021063312888145,0.097465068101883,-0.042169351130724,0.022832298651338,0.073338970541954,-0.027017416432500,0.024062400683761,-0.039915606379509));
res += mul(Get(s2,dx,dy), float4x4(-0.017545985057950,-0.026227382943034,-0.033207822591066,0.020097687840462,0.040770452469587,-0.011797010898590,-0.001964963506907,0.128091394901276,-0.111023470759392,-0.089347660541534,-0.003484473796561,-0.105293191969395,-0.089643873274326,-0.078871294856071,-0.036404605954885,-0.112073183059692));
res += mul(Get(s3,-dx,-dy), float4x4(0.098025493323803,0.148492559790611,0.121420159935951,0.005014057271183,0.116721287369728,-0.078675538301468,0.007817364297807,-0.102806076407433,0.055655784904957,-0.108821794390678,0.033801838755608,-0.024863485246897,-0.011844162829220,0.019124491140246,-0.082183599472046,0.012147324159741));
res += mul(Get(s3,-dx,0), float4x4(0.053887967020273,0.053347054868937,0.161565452814102,0.011757875792682,-0.094747357070446,-0.140917807817459,0.022400375455618,-0.045866683125496,0.129427790641785,-0.078637599945068,0.048636175692081,-0.029391385614872,-0.037710528820753,0.103754498064518,0.097039654850960,-0.099005438387394));
res += mul(Get(s3,-dx,dy), float4x4(0.098617628216743,0.029865832999349,0.066653840243816,0.048895087093115,0.005835475400090,0.039971143007278,-0.009529417380691,0.003590181237087,0.163047194480896,-0.005883008707315,-0.005791925825179,-0.087744317948818,0.003611348336563,0.016659418120980,-0.013757733628154,-0.046737298369408));
res += mul(Get(s3,0,-dy), float4x4(0.075036279857159,0.012735329568386,0.057988718152046,-0.173405274748802,0.167328476905823,0.095915146172047,0.023143902420998,-0.076761394739151,-0.005980459041893,0.012390865013003,-0.127074509859085,-0.030464382842183,0.045355428010225,-0.038637239485979,0.094487600028515,-0.016277322545648));
res += mul(Get(s3,0,0), float4x4(-0.023780003190041,-0.013241861946881,0.055668819695711,0.055677264928818,0.022214664146304,-0.009151672013104,0.062582559883595,-0.066812247037888,-0.029562145471573,0.031034613028169,0.042805038392544,0.006095319055021,-0.050208467990160,0.050701990723610,-0.079771131277084,0.075701385736465));
res += mul(Get(s3,0,dy), float4x4(0.018397781997919,0.092773690819740,-0.118016883730888,-0.083514019846916,-0.029257759451866,0.046986564993858,0.043995998799801,-0.095468699932098,0.039062418043613,0.020093314349651,-0.067182250320911,-0.035945869982243,0.024584461003542,0.117852106690407,0.031800881028175,-0.111816175282001));
res += mul(Get(s3,dx,-dy), float4x4(0.074668921530247,0.064685963094234,-0.007186079397798,-0.114502087235451,0.089333519339561,0.006666153203696,-0.008944625966251,-0.025875274091959,0.052236780524254,-0.103456676006317,0.038160108029842,0.030776897445321,-0.034896980971098,-0.107081755995750,-0.044051088392735,0.047667548060417));
res += mul(Get(s3,dx,0), float4x4(0.036908183246851,0.057525519281626,-0.013633692637086,0.080559633672237,0.026945836842060,-0.019630348309875,-0.100457765161991,-0.086924023926258,-0.106638304889202,0.079449176788330,0.021454093977809,0.193077966570854,0.011704064905643,0.160987079143524,0.054184231907129,-0.020963365212083));
res += mul(Get(s3,dx,dy), float4x4(-0.023001408204436,-0.023108946159482,-0.077814079821110,0.068552188575268,-0.051429953426123,-0.062862373888493,-0.008800625801086,-0.080071523785591,0.029976205900311,0.033214908093214,-0.029350886121392,0.014407431706786,0.086188331246376,-0.108754508197308,-0.059878937900066,-0.073499865829945));
res = max(float4(0,0,0,0), res);
return res;
}
