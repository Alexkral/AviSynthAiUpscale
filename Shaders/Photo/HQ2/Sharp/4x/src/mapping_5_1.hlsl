sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.018702862784266,-0.127673119306564,-0.002827162388712,0.052366256713867,-0.027755212038755,0.069537252187729,-0.012334807775915,-0.011266713030636,-0.055645100772381,-0.046402867883444,-0.107528105378151,-0.027879336848855,0.029863692820072,-0.065608419477940,-0.000009682327800,0.057233117520809));
res += mul(Get(s0,-dx,0), float4x4(-0.126485243439674,-0.112021848559380,-0.070204302668571,-0.101276718080044,0.065103746950626,-0.079578399658203,0.007516250014305,0.010038044303656,-0.034522276371717,-0.009217168204486,0.061416052281857,0.078668899834156,0.111568033695221,0.033345498144627,-0.021287858486176,-0.015241465531290));
res += mul(Get(s0,-dx,dy), float4x4(0.132097378373146,-0.002651017392054,-0.033442761749029,0.104091733694077,-0.007656490895897,0.023381996899843,0.094640560448170,-0.095377884805202,-0.044000156223774,0.021761752665043,0.120898224413395,0.042246583849192,-0.162087097764015,0.063598930835724,0.112860821187496,-0.090780258178711));
res += mul(Get(s0,0,-dy), float4x4(0.088097386062145,0.087483242154121,-0.062210470438004,-0.040586076676846,-0.038968063890934,0.104479715228081,0.050870172679424,-0.037653680890799,-0.042646545916796,-0.032672163099051,-0.054743729531765,0.030499063432217,-0.088765032589436,-0.040446542203426,-0.078432105481625,0.007788049988449));
res += mul(Get(s0,0,0), float4x4(-0.213015139102936,0.047808941453695,-0.112497888505459,0.012560035102069,-0.109070561826229,0.003585988422856,0.068292573094368,0.086603336036205,0.030120126903057,-0.027128499001265,0.051624648272991,-0.035551730543375,-0.018049336969852,-0.020022872835398,-0.050965584814548,-0.026305744424462));
res += mul(Get(s0,0,dy), float4x4(-0.116304799914360,0.017156548798084,0.060732707381248,0.087993204593658,0.025310207158327,0.077023439109325,0.023701220750809,0.088484816253185,-0.072791032493114,0.049816127866507,-0.055143963545561,-0.023813052102923,0.068649910390377,-0.025948204100132,-0.117282740771770,0.089510641992092));
res += mul(Get(s0,dx,-dy), float4x4(0.040723070502281,0.047215580940247,0.086976714432240,0.051563974469900,-0.025880204513669,-0.018048724159598,-0.140901520848274,-0.099021792411804,0.032477550208569,-0.165962278842926,-0.011037982068956,0.019419375807047,0.031779844313860,0.068876259028912,-0.151261419057846,-0.014582114294171));
res += mul(Get(s0,dx,0), float4x4(-0.050486326217651,0.028200436383486,0.010815870948136,0.090133637189865,-0.053694855421782,0.022476565092802,0.067882001399994,-0.058856431394815,-0.028908018022776,-0.074341624975204,-0.060401763767004,-0.007199894636869,-0.049885191023350,-0.156424313783646,0.094952262938023,0.016296822577715));
res += mul(Get(s0,dx,dy), float4x4(-0.023218713700771,0.049193024635315,0.021847672760487,-0.156488329172134,0.120536945760250,0.009248001500964,0.024686902761459,-0.020879400894046,-0.069382227957249,0.087735295295715,0.069233208894730,-0.058326095342636,0.030399471521378,0.068476296961308,-0.026382911950350,0.013602382503450));
res += mul(Get(s1,-dx,-dy), float4x4(0.086209371685982,0.011368141509593,0.059243500232697,0.049570649862289,0.094551771879196,-0.032855380326509,0.042856439948082,-0.056492172181606,0.001181663828902,0.000993549823761,0.027582367882133,0.080993510782719,-0.025110621005297,0.123127281665802,-0.060943897813559,-0.029719062149525));
res += mul(Get(s1,-dx,0), float4x4(-0.118373043835163,0.054011296480894,-0.099117942154408,-0.008396029472351,-0.052921269088984,0.019368750974536,-0.108301602303982,-0.109994366765022,-0.051513589918613,-0.078090488910675,0.009696664288640,0.104580447077751,-0.148841708898544,-0.002310653217137,-0.045654349029064,-0.132767260074615));
res += mul(Get(s1,-dx,dy), float4x4(-0.097906932234764,0.019510390236974,0.097343176603317,-0.023167893290520,0.010376541875303,0.001217236043885,0.007756422739476,0.075529985129833,-0.029628418385983,0.026776676997542,0.022953880950809,-0.021877570077777,-0.034537661820650,-0.041328445076942,-0.012299849651754,0.104131236672401));
res += mul(Get(s1,0,-dy), float4x4(-0.010274313390255,-0.036211971193552,0.104034446179867,0.063469648361206,-0.092406801879406,0.093149587512016,-0.051880065351725,-0.015924839302897,-0.078041367232800,-0.029635706916451,0.004529923200607,0.079361200332642,0.022416651248932,0.103550776839256,0.044016398489475,0.056635513901711));
res += mul(Get(s1,0,0), float4x4(0.086261607706547,0.054552644491196,-0.036675129085779,-0.033736303448677,-0.018848812207580,-0.007451006211340,0.030338568612933,0.010510439053178,0.054701980203390,0.129984974861145,-0.007089976221323,-0.022461131215096,-0.069199942052364,-0.041217185556889,-0.044738214462996,0.015969371423125));
res += mul(Get(s1,0,dy), float4x4(0.112285420298576,0.058838162571192,-0.000638078548945,-0.019820977002382,0.018022507429123,0.118313394486904,0.078542955219746,-0.029541039839387,0.037957057356834,0.039105925709009,0.007883866317570,-0.064226336777210,-0.009927297011018,-0.079720422625542,0.060820829123259,-0.006778547074646));
res += mul(Get(s1,dx,-dy), float4x4(-0.044266849756241,0.038582440465689,0.027466580271721,-0.024684177711606,0.040276903659105,0.021285410970449,0.001960249384865,0.004923512693495,0.047808974981308,0.073852241039276,-0.080163776874542,-0.081421494483948,-0.024244813248515,-0.005509681999683,-0.086242869496346,-0.047007244080305));
res += mul(Get(s1,dx,0), float4x4(-0.123898185789585,0.061306267976761,0.068192578852177,-0.045560173690319,-0.135609567165375,0.044561307877302,-0.019463680684566,-0.019418844953179,0.093856170773506,-0.002345745451748,0.047715347260237,0.117484554648399,-0.081776946783066,0.046776939183474,-0.023195706307888,0.147012054920197));
res += mul(Get(s1,dx,dy), float4x4(0.033014614135027,-0.036585774272680,0.014726016670465,0.147282078862190,0.042125292122364,0.150990203022957,0.021606618538499,0.082945682108402,0.062893681228161,0.008988427929580,-0.006946998182684,-0.054983958601952,-0.019988687708974,0.141539111733437,0.117194160819054,0.114327363669872));
res += mul(Get(s2,-dx,-dy), float4x4(-0.040667999535799,-0.079156272113323,-0.001512889750302,0.021010896191001,-0.214387401938438,-0.071453511714935,-0.008300348185003,-0.122995160520077,-0.054155446588993,0.004684138111770,-0.081228688359261,-0.054654356092215,-0.016824038699269,0.080679610371590,-0.032839056104422,-0.007659426890314));
res += mul(Get(s2,-dx,0), float4x4(0.022045094519854,-0.004230936057866,0.013020520098507,-0.056504715234041,-0.089484930038452,-0.100967466831207,0.023543072864413,-0.090036571025848,0.012479596771300,-0.090988896787167,-0.070649668574333,-0.019600562751293,0.000584923080169,-0.044529259204865,-0.008609540760517,-0.070091985166073));
res += mul(Get(s2,-dx,dy), float4x4(0.073400355875492,-0.132069438695908,-0.024626642465591,0.026594366878271,-0.130748540163040,-0.074916742742062,-0.106306746602058,-0.027924604713917,-0.049821559339762,0.049224771559238,-0.025221006944776,-0.011864999309182,-0.074094869196415,-0.019246710464358,-0.000645092688501,-0.073767386376858));
res += mul(Get(s2,0,-dy), float4x4(0.049981165677309,-0.077293284237385,0.022431289777160,0.073768988251686,-0.084808349609375,0.042163670063019,0.001484605716541,-0.094441115856171,0.025735110044479,-0.036475308239460,-0.020614629611373,0.023587759584188,0.021021170541644,0.120019473135471,-0.077357083559036,0.046649202704430));
res += mul(Get(s2,0,0), float4x4(-0.058287236839533,0.045293174684048,-0.022077817469835,-0.150543749332428,-0.071338169276714,0.048519466072321,-0.000306304253172,-0.046833049505949,-0.166568845510483,-0.011600096710026,-0.076945714652538,-0.006799183320254,0.055567365139723,-0.135566934943199,0.012403928674757,0.086506329476833));
res += mul(Get(s2,0,dy), float4x4(0.061612702906132,-0.033487699925900,-0.050619274377823,-0.006822301074862,-0.008462258614600,0.103148095309734,-0.076409913599491,0.043431248515844,0.074660167098045,0.051892943680286,-0.096409969031811,0.015154537744820,0.049670182168484,0.027453778311610,-0.021247906610370,0.029071426019073));
res += mul(Get(s2,dx,-dy), float4x4(0.063042134046555,0.115083411335945,-0.053146585822105,0.076415650546551,0.067530028522015,0.052606094628572,0.034334391355515,0.066474996507168,0.028114544227719,-0.051645930856466,-0.029705567285419,0.083040684461594,0.147328183054924,-0.040723063051701,0.055511444807053,-0.027369668707252));
res += mul(Get(s2,dx,0), float4x4(-0.041631147265434,-0.045445058494806,0.104633979499340,0.023642042651772,-0.027753185480833,-0.046658162027597,-0.009033276699483,-0.115851074457169,0.061348952353001,0.087381660938263,-0.047986667603254,-0.134370192885399,-0.132601231336594,-0.080864615738392,-0.082002416253090,-0.081175260245800));
res += mul(Get(s2,dx,dy), float4x4(-0.171413302421570,0.139623790979385,0.003161390777677,-0.054710160940886,-0.023768946528435,0.060170624405146,-0.044220909476280,-0.016375115141273,0.022796377539635,-0.031075980514288,-0.161735743284225,0.016894832253456,0.058265917003155,-0.083664722740650,-0.027118492871523,-0.081386983394623));
res += mul(Get(s3,-dx,-dy), float4x4(-0.054585345089436,-0.054717555642128,-0.044267497956753,0.035080242902040,0.036874625831842,-0.049918901175261,-0.075427852571011,-0.033156242221594,-0.014035636559129,0.029591714963317,-0.086292289197445,-0.107691042125225,0.018093997612596,-0.153394624590874,-0.077768482267857,0.079276733100414));
res += mul(Get(s3,-dx,0), float4x4(-0.009269574657083,-0.041106835007668,0.061985034495592,-0.043240323662758,0.090814493596554,-0.073202975094318,0.069480687379837,-0.031407978385687,0.103379510343075,0.018388578668237,-0.088299944996834,-0.043104264885187,0.020483242347836,-0.083032943308353,-0.007625972386450,0.020501341670752));
res += mul(Get(s3,-dx,dy), float4x4(0.112559750676155,0.075094595551491,-0.089889928698540,0.062802530825138,0.083821579813957,-0.129216358065605,-0.003252839436755,-0.096426792442799,-0.039541494101286,-0.090389713644981,-0.032942742109299,-0.036842405796051,-0.042618274688721,0.060200367122889,-0.036846932023764,0.050997816026211));
res += mul(Get(s3,0,-dy), float4x4(0.030541686341166,-0.029440481215715,-0.007087170612067,-0.095390953123569,-0.083966843783855,0.087629459798336,-0.054029192775488,-0.008030804805458,0.108131475746632,-0.087189495563507,0.044505309313536,0.049582134932280,-0.016499962657690,-0.072086878120899,0.041979145258665,-0.016511442139745));
res += mul(Get(s3,0,0), float4x4(-0.024272486567497,0.037463009357452,-0.011015668511391,-0.114410676062107,-0.036863245069981,0.046483621001244,-0.023210708051920,-0.107577212154865,0.009214956313372,-0.058656830340624,-0.019215982407331,-0.134433090686798,-0.105002127587795,-0.060008727014065,-0.108210466802120,0.136686310172081));
res += mul(Get(s3,0,dy), float4x4(0.068277880549431,-0.004701740574092,-0.042248427867889,-0.040854033082724,-0.030586607754230,0.016921736299992,0.018103042617440,0.046871751546860,-0.047053765505552,-0.149831116199493,-0.015247855335474,0.030898660421371,0.021805569529533,-0.040609240531921,0.019399121403694,-0.127557560801506));
res += mul(Get(s3,dx,-dy), float4x4(0.109615005552769,0.062331702560186,-0.040248330682516,0.050348032265902,-0.065266236662865,-0.063178978860378,0.064684808254242,-0.075106017291546,-0.122597053647041,0.011766129173338,0.056960202753544,-0.073565058410168,0.040945835411549,-0.044913370162249,0.044432107359171,0.019794963300228));
res += mul(Get(s3,dx,0), float4x4(0.200856029987335,-0.051695320755243,0.015409452840686,0.005669882521033,0.113203532993793,-0.141166061162949,-0.007454046048224,-0.052784718573093,0.008439068682492,0.112810187041759,0.003251594724134,0.053287621587515,0.008814913220704,0.038882274180651,-0.018414391204715,0.049869000911713));
res += mul(Get(s3,dx,dy), float4x4(-0.022282980382442,0.079973988234997,0.066646926105022,-0.096088550984859,0.022902276366949,-0.001472396659665,0.090601228177547,-0.130931958556175,-0.002114397007972,-0.078707717359066,-0.039393629878759,-0.084592342376709,0.098765298724174,-0.083190061151981,-0.071460589766502,0.002204653341323));
res = max(float4(0,0,0,0), res);
return res;
}
