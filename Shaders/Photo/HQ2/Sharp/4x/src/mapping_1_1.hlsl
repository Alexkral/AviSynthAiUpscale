sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.024903355166316,0.043527428060770,0.097495771944523,-0.034164518117905,-0.009633868001401,-0.080219566822052,-0.005285600665957,0.147307366132736,-0.051484894007444,0.064570724964142,-0.013421198353171,-0.004872635006905,-0.024385018274188,0.023375442251563,-0.040720801800489,0.066554240882397));
res += mul(Get(s0,-dx,0), float4x4(0.189466118812561,0.006870861165226,0.132673978805542,-0.041305273771286,-0.178705930709839,0.165773347020149,-0.001954987412319,0.225617468357086,-0.065226696431637,-0.016594171524048,0.038950923830271,-0.095180183649063,-0.078285560011864,-0.142678588628769,0.049343213438988,-0.076234847307205));
res += mul(Get(s0,-dx,dy), float4x4(-0.015400111675262,0.055776849389076,-0.032963871955872,0.077970884740353,-0.024280499666929,-0.028740596026182,-0.073526702821255,0.078899122774601,0.035924419760704,0.045624893158674,0.143575832247734,-0.025087824091315,0.069268874824047,0.047620359808207,0.030530670657754,-0.003039692761377));
res += mul(Get(s0,0,-dy), float4x4(0.009456566534936,-0.088039025664330,-0.002361131832004,0.010646873153746,0.052684225142002,0.052874356508255,-0.120117731392384,-0.142050117254257,-0.036849558353424,-0.026925673708320,0.070175491273403,-0.143496781587601,0.004367155488580,0.054173365235329,0.077026270329952,-0.046639379113913));
res += mul(Get(s0,0,0), float4x4(-0.171292215585709,0.089015454053879,-0.009927660226822,-0.127396509051323,-0.137073263525963,0.067223697900772,0.087181352078915,0.028280181810260,-0.019473783671856,-0.035812407732010,0.021239683032036,-0.111219607293606,0.024278800934553,-0.035995639860630,0.028753368183970,0.076605446636677));
res += mul(Get(s0,0,dy), float4x4(0.042262773960829,0.030320556834340,-0.118965432047844,0.007656503468752,0.100885219871998,-0.088206954300404,-0.059733763337135,-0.105237722396851,0.065521024167538,-0.085397489368916,-0.020614665001631,0.051345437765121,-0.122389979660511,-0.040394473820925,-0.108554370701313,-0.004956474062055));
res += mul(Get(s0,dx,-dy), float4x4(0.141823291778564,-0.052054896950722,0.069159910082817,-0.054653208702803,0.107104107737541,0.100418917834759,0.024897053837776,0.149907335639000,0.006601141300052,-0.096380949020386,-0.035342451184988,-0.095481850206852,-0.026070604100823,-0.000138139264891,0.080230295658112,0.077569112181664));
res += mul(Get(s0,dx,0), float4x4(0.054558817297220,0.001181848696433,-0.009667227044702,0.039540398865938,0.019054375588894,0.026698136702180,0.103443600237370,0.155875623226166,-0.031209247186780,0.016462743282318,0.115935795009136,0.101548463106155,0.104662187397480,-0.115662895143032,0.040276549756527,0.064801715314388));
res += mul(Get(s0,dx,dy), float4x4(-0.037388540804386,-0.106404058635235,0.030380599200726,-0.020549375563860,0.009779858402908,0.169474810361862,0.090416990220547,0.031218074262142,-0.076247625052929,0.021191138774157,-0.020871952176094,-0.002869337098673,-0.023092497140169,-0.031724125146866,-0.031172996386886,-0.057498704642057));
res += mul(Get(s1,-dx,-dy), float4x4(-0.021276718005538,-0.045568652451038,0.004874709993601,-0.118248403072357,-0.003354800166562,0.051204666495323,-0.102234534919262,0.090253978967667,0.134868577122688,-0.011948389932513,-0.076839372515678,0.084038883447647,0.056896932423115,-0.094305373728275,0.042767301201820,-0.188655242323875));
res += mul(Get(s1,-dx,0), float4x4(0.064545005559921,0.068564690649509,-0.001251055044122,0.080480538308620,0.194846630096436,0.005256519187242,-0.085031270980835,-0.010352442972362,-0.002994322218001,-0.093886174261570,0.013224611058831,-0.155477866530418,0.084269620478153,-0.105033144354820,0.066202364861965,-0.077616751194000));
res += mul(Get(s1,-dx,dy), float4x4(-0.026485618203878,0.100764989852905,-0.004071628674865,-0.133924901485443,0.000399715034291,0.022701982408762,0.172246873378754,0.014499651268125,0.046398498117924,0.057451024651527,0.112634405493736,0.038436371833086,-0.073956124484539,0.073094628751278,0.025925165042281,-0.075258150696754));
res += mul(Get(s1,0,-dy), float4x4(-0.095138862729073,0.032755348831415,-0.038339350372553,-0.087140917778015,-0.005671145860106,-0.033627510070801,-0.025886872783303,-0.062428817152977,0.055529203265905,-0.080276511609554,-0.011904582381248,-0.068445980548859,0.103834599256516,-0.034102108329535,0.091528639197350,0.011421998962760));
res += mul(Get(s1,0,0), float4x4(0.062914453446865,0.118146970868111,0.011467142030597,0.079125665128231,0.021478518843651,-0.021114461123943,0.004483335651457,-0.052798781543970,0.095770582556725,0.022013314068317,0.049144648015499,0.081128790974617,0.033357974141836,-0.133051529526711,0.038421873003244,-0.019675619900227));
res += mul(Get(s1,0,dy), float4x4(0.035461872816086,0.062916122376919,0.092961855232716,-0.006479731295258,-0.091354802250862,-0.081214822828770,-0.020373210310936,0.103527620434761,-0.007445418741554,-0.191113024950027,-0.002487609162927,0.130020350217819,0.081625774502754,-0.024416903033853,0.004942578263581,-0.087505415081978));
res += mul(Get(s1,dx,-dy), float4x4(0.153724879026413,-0.017035877332091,0.069887541234493,0.170238628983498,0.038535345345736,-0.066994950175285,0.010004092939198,0.046454641968012,0.096860095858574,0.178644329309464,0.084381207823753,0.123010523617268,-0.045080643147230,0.087096042931080,0.058676190674305,0.135684162378311));
res += mul(Get(s1,dx,0), float4x4(0.050508290529251,-0.030611826106906,-0.034693311899900,-0.143542006611824,-0.043050713837147,0.076249644160271,0.007271037437022,-0.020194932818413,-0.059251863509417,-0.064904354512691,-0.067240841686726,-0.001953531056643,-0.058738805353642,-0.122641198337078,0.014230353757739,-0.083669111132622));
res += mul(Get(s1,dx,dy), float4x4(-0.034468747675419,-0.043837208300829,0.096179768443108,0.023578744381666,-0.070316113531590,-0.006999846082181,-0.028024343773723,-0.003198063699529,-0.032620143145323,-0.065386921167374,0.119641974568367,-0.060661032795906,0.062372028827667,-0.009270106442273,-0.079044520854950,0.140678584575653));
res += mul(Get(s2,-dx,-dy), float4x4(0.100949086248875,-0.007314592599869,-0.140718042850494,-0.034551139920950,0.087727740406990,-0.066979005932808,-0.016020733863115,-0.022406382486224,0.008877742104232,-0.017974443733692,0.130336850881577,-0.055148240178823,0.035298246890306,0.076485201716423,-0.024709463119507,0.055737059563398));
res += mul(Get(s2,-dx,0), float4x4(0.080958172678947,-0.024588832631707,0.042329981923103,-0.038032077252865,0.035582847893238,0.081807859241962,0.069103442132473,-0.057254165410995,-0.135092347860336,-0.078002974390984,-0.050482675433159,-0.006906465161592,0.055965941399336,-0.022898159921169,-0.066498950123787,0.032811850309372));
res += mul(Get(s2,-dx,dy), float4x4(-0.047964442521334,-0.033298186957836,0.025434197857976,0.032993189990520,0.088003315031528,0.024610808119178,-0.010859258472919,0.015481970272958,-0.062510304152966,0.110572263598442,0.035412590950727,0.098640479147434,-0.040425520390272,-0.117351256310940,-0.062909565865993,-0.073490872979164));
res += mul(Get(s2,0,-dy), float4x4(0.076698139309883,0.085970669984818,0.035293526947498,0.021986845880747,-0.021126253530383,0.001569470739923,-0.012905134819448,-0.029576357454062,0.002628923160955,0.015592069365084,0.101223334670067,-0.001910404535010,-0.100580051541328,-0.082171209156513,-0.079898543655872,0.041837990283966));
res += mul(Get(s2,0,0), float4x4(-0.074491754174232,-0.050296820700169,-0.008735347539186,-0.066951937973499,-0.055220112204552,0.033586617559195,0.010829084552824,0.047035638242960,0.013362803496420,-0.006932177115232,-0.067019373178482,-0.033762924373150,0.045584231615067,-0.134112402796745,0.050697218626738,0.009376971982419));
res += mul(Get(s2,0,dy), float4x4(0.030660837888718,-0.008114067837596,0.053327508270741,-0.134768888354301,-0.170625925064087,-0.040970221161842,-0.036698512732983,0.148211494088173,-0.000476465793326,0.153845712542534,0.041833810508251,-0.044899672269821,0.108970455825329,-0.096692062914371,-0.056279793381691,0.036596283316612));
res += mul(Get(s2,dx,-dy), float4x4(-0.024769142270088,0.069517858326435,-0.091283559799194,0.109704963862896,-0.148612648248672,-0.009298831224442,0.061062980443239,-0.062234975397587,0.015537504106760,-0.080550380051136,-0.059755012392998,0.044798843562603,0.063974685966969,0.002401825971901,-0.069271564483643,0.058604925870895));
res += mul(Get(s2,dx,0), float4x4(0.060930848121643,-0.024620156735182,-0.005595279857516,0.019495105370879,-0.013005949556828,0.026865124702454,0.059738691896200,0.038309428840876,0.055836323648691,-0.074255853891373,0.067297734320164,0.079469166696072,0.044750742614269,0.087548792362213,0.003762105479836,-0.196658596396446));
res += mul(Get(s2,dx,dy), float4x4(-0.144458249211311,-0.090257272124290,0.033015213906765,0.021448729559779,0.094202540814877,0.080531992018223,0.097461447119713,-0.003467276925221,0.082284018397331,-0.060539226979017,-0.026132520288229,-0.085218854248524,0.123549349606037,-0.092698834836483,-0.107435911893845,0.012173019349575));
res += mul(Get(s3,-dx,-dy), float4x4(-0.078433603048325,0.000525682524312,-0.001670690136962,-0.138866499066353,-0.108713932335377,-0.040798813104630,-0.046019490808249,0.061419505625963,-0.113305285573006,-0.049627494066954,-0.105421297252178,0.040630988776684,0.117829553782940,-0.002353661227971,0.004627738147974,-0.096101142466068));
res += mul(Get(s3,-dx,0), float4x4(0.042825341224670,-0.098755747079849,0.001241973601282,0.051957260817289,-0.081407822668552,0.001904494478367,0.107162646949291,-0.173047199845314,0.044704359024763,0.062284573912621,-0.028644254431129,-0.017347363755107,-0.119370438158512,0.047519851475954,-0.055698219686747,-0.016146492213011));
res += mul(Get(s3,-dx,dy), float4x4(-0.093474641442299,-0.020303737372160,0.054207626730204,0.133541569113731,0.069807097315788,-0.003041178686544,0.003890724154189,-0.042773272842169,0.149043872952461,0.038530915975571,-0.074990332126617,0.138277187943459,-0.022676018998027,0.015592701733112,-0.222141742706299,0.030808148905635));
res += mul(Get(s3,0,-dy), float4x4(0.221411198377609,-0.095930889248848,-0.170537859201431,0.093631170690060,0.038630727678537,-0.068022310733795,0.076504245400429,0.065983578562737,-0.067530639469624,-0.069862231612206,-0.019069550558925,0.151890620589256,-0.067819230258465,0.204301938414574,0.093799203634262,0.032809924334288));
res += mul(Get(s3,0,0), float4x4(0.065425343811512,-0.212973654270172,-0.106615215539932,0.022530402988195,-0.113525830209255,0.082838587462902,0.107479922473431,-0.113128840923309,-0.012533216737211,0.060103200376034,-0.045151181519032,0.007010987959802,0.064776621758938,-0.065409362316132,-0.034922406077385,0.163687333464622));
res += mul(Get(s3,0,dy), float4x4(0.032469257712364,-0.082333646714687,-0.026640487834811,0.099104389548302,-0.038015414029360,0.012252015061677,0.012235292233527,-0.007426117546856,0.006686988286674,-0.128186240792274,-0.010105640627444,-0.133931130170822,0.081166177988052,-0.003657362656668,-0.043438937515020,-0.088879086077213));
res += mul(Get(s3,dx,-dy), float4x4(-0.146685153245926,-0.046146739274263,-0.009905313141644,-0.004550340585411,0.110487677156925,0.021492486819625,0.056269749999046,-0.021380042657256,-0.030062671750784,-0.090011037886143,-0.019919190555811,-0.076451294124126,-0.015997214242816,-0.131031632423401,-0.084089554846287,-0.073102585971355));
res += mul(Get(s3,dx,0), float4x4(0.029683655127883,-0.013219863176346,-0.123995050787926,-0.096196740865707,-0.082353353500366,-0.103744484484196,-0.005378999747336,0.093842782080173,0.169975757598877,-0.001835276954807,-0.087237223982811,-0.035916272550821,-0.046479977667332,-0.146712824702263,-0.023067936301231,-0.018140273168683));
res += mul(Get(s3,dx,dy), float4x4(0.000378747994546,-0.026913693174720,-0.001125527778640,-0.033970311284065,-0.061659451574087,-0.015196744352579,-0.034404084086418,-0.044185474514961,-0.078912377357483,-0.133563414216042,-0.077984660863876,0.037798058241606,0.077954426407814,-0.004705036524683,-0.081817068159580,0.009345279075205));
res = max(float4(0,0,0,0), res);
return res;
}
