sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.043183520436287,-0.020388031378388,-0.050640288740396,0.011511621996760,0.133713364601135,0.053455155342817,0.071580454707146,-0.027108795940876,-0.064600832760334,0.047961916774511,0.049762886017561,0.023188127204776,-0.038488402962685,-0.095996834337711,-0.016619911417365,-0.085767313838005));
res += mul(Get(s0,-dx,0), float4x4(-0.009282920509577,-0.006263991817832,0.033972892910242,0.026580158621073,0.041715674102306,0.039917875081301,0.069538414478302,-0.018608732149005,0.005343921948224,0.068307675421238,0.077511131763458,-0.016401480883360,-0.150066271424294,0.149865940213203,-0.097776293754578,-0.082260586321354));
res += mul(Get(s0,-dx,dy), float4x4(-0.010039955377579,0.077423684298992,0.076073504984379,0.064714543521404,-0.028010074049234,-0.076441086828709,0.093489594757557,-0.021995564922690,0.016899274662137,0.001117278123274,0.065381161868572,-0.090493418276310,0.000144004705362,0.130218654870987,-0.119157053530216,-0.042765248566866));
res += mul(Get(s0,0,-dy), float4x4(-0.090338952839375,-0.023350665345788,-0.040862128138542,-0.052707269787788,0.083034873008728,-0.068562142550945,0.018312418833375,0.069137036800385,-0.051923327147961,0.072735682129860,0.020260592922568,0.108379364013672,-0.018765470013022,0.061029374599457,-0.009020566008985,0.088466376066208));
res += mul(Get(s0,0,0), float4x4(-0.016060313209891,0.007719491608441,0.049429785460234,0.082447513937950,0.020999848842621,-0.089740209281445,-0.042584963142872,0.177205234766006,-0.001967055490240,-0.018410691991448,0.013915430754423,-0.093679048120975,0.046195030212402,0.109888717532158,0.065834507346153,0.111642219126225));
res += mul(Get(s0,0,dy), float4x4(0.069936007261276,-0.018364600837231,-0.046969734132290,-0.010264000855386,-0.079242326319218,0.048554584383965,-0.019585203379393,0.021296426653862,-0.132576599717140,0.170109242200851,-0.009798168204725,-0.086065307259560,-0.025019334629178,0.013057937845588,-0.210906341671944,0.073686994612217));
res += mul(Get(s0,dx,-dy), float4x4(0.052704274654388,0.108534201979637,-0.073345519602299,-0.060215204954147,-0.010528705082834,-0.012837838381529,-0.082817584276199,-0.022974209859967,0.012631782330573,-0.020716983824968,0.030497744679451,-0.014524881727993,-0.066730357706547,-0.084220044314861,0.030959693714976,0.037664148956537));
res += mul(Get(s0,dx,0), float4x4(-0.002367256674916,0.027745224535465,0.030889526009560,0.005897349212319,-0.045721374452114,-0.073200531303883,0.004619474057108,0.010739994235337,0.124058954417706,0.059051778167486,0.010379524901509,-0.004235933534801,0.133775711059570,-0.054383270442486,0.102356940507889,-0.082620061933994));
res += mul(Get(s0,dx,dy), float4x4(0.044481370598078,-0.066681481897831,0.020009467378259,-0.023331189528108,0.053595706820488,0.033479332923889,0.081321492791176,0.055329330265522,0.051778111606836,0.086421184241772,0.023930355906487,-0.076469004154205,-0.052042346447706,0.009826239198446,0.017093233764172,0.112808980047703));
res += mul(Get(s1,-dx,-dy), float4x4(-0.093533970415592,-0.012838275171816,-0.129287123680115,-0.028367640450597,0.069737099111080,0.003528103232384,0.056094843894243,-0.011737225577235,-0.035311419516802,-0.030447587370872,-0.062537722289562,-0.065959684550762,0.112157441675663,0.020250858739018,-0.022704631090164,-0.005636342801154));
res += mul(Get(s1,-dx,0), float4x4(0.039095979183912,0.053588472306728,0.078168772161007,0.029988799244165,0.036878652870655,-0.004797921050340,0.030891198664904,0.033436272293329,0.045486353337765,0.027532482519746,-0.005498088430613,0.004866373259574,0.109100401401520,0.060870442539454,0.041970256716013,0.065683417022228));
res += mul(Get(s1,-dx,dy), float4x4(-0.059562940150499,0.145707756280899,0.004706838633865,-0.174056977033615,-0.014390646480024,0.103188037872314,-0.011058612726629,0.060347482562065,0.093724608421326,-0.021422116085887,-0.031163247302175,-0.033288363367319,-0.020744198933244,0.022306501865387,0.006938407663256,0.017693709582090));
res += mul(Get(s1,0,-dy), float4x4(-0.008430034853518,0.098604202270508,-0.008036490529776,0.043646100908518,-0.062822945415974,0.027823520824313,0.033895540982485,0.065183281898499,-0.041395086795092,0.029378887265921,-0.061057187616825,0.059346780180931,0.065164297819138,-0.067925877869129,0.041839621961117,-0.005841017235070));
res += mul(Get(s1,0,0), float4x4(-0.094341456890106,0.099187985062599,-0.012036656029522,-0.045379210263491,-0.085860416293144,-0.036610092967749,0.041131142526865,-0.015291420742869,0.003285787068307,0.006355689372867,0.050324786454439,-0.003353563603014,0.055288646370173,0.147828459739685,0.036246638745070,-0.078259877860546));
res += mul(Get(s1,0,dy), float4x4(-0.075534142553806,0.118198059499264,0.023456864058971,0.093650095164776,0.069371938705444,-0.017432807013392,-0.125513821840286,-0.061929624527693,0.052467580884695,0.120241522789001,-0.025099640712142,0.030324455350637,-0.003664169926196,0.016587503254414,-0.052485171705484,0.035398148000240));
res += mul(Get(s1,dx,-dy), float4x4(-0.056328155100346,0.015229382552207,-0.016959082335234,0.009989283978939,0.007016594521701,0.021642981097102,-0.025460695847869,-0.065162606537342,-0.070194102823734,-0.033432386815548,0.045713897794485,-0.028266431763768,0.002504286356270,0.008916044607759,-0.061442568898201,0.022999113425612));
res += mul(Get(s1,dx,0), float4x4(0.126570209860802,0.191592782735825,0.166851043701172,0.001899193157442,-0.052184797823429,-0.101312339305878,0.117395505309105,-0.024116123095155,-0.025891400873661,0.011298007331789,0.061863150447607,-0.036569193005562,0.025555949658155,0.032741859555244,-0.061673756688833,-0.079990439116955));
res += mul(Get(s1,dx,dy), float4x4(-0.012344148941338,0.153863012790680,0.041039600968361,0.010884390212595,0.004368504509330,0.002020336454734,0.004855133127421,0.056654542684555,0.051452152431011,0.056436821818352,-0.049637753516436,0.045137695968151,0.033193275332451,-0.012096898630261,-0.108415685594082,0.024826467037201));
res += mul(Get(s2,-dx,-dy), float4x4(-0.084853515028954,0.084703505039215,-0.012267659418285,-0.090600185096264,-0.134805873036385,0.057581238448620,-0.015195927582681,-0.028522018343210,0.081394635140896,-0.019256696105003,-0.035668686032295,-0.081113614141941,0.056402765214443,0.023943234235048,-0.036679740995169,0.021908298134804));
res += mul(Get(s2,-dx,0), float4x4(-0.044321596622467,-0.076584964990616,-0.019205205142498,0.068637371063232,-0.033249381929636,-0.127229675650597,-0.182238593697548,-0.072242774069309,-0.088672354817390,0.063554219901562,0.099456407129765,-0.060867361724377,0.123078912496567,-0.049822598695755,-0.020727470517159,0.035211473703384));
res += mul(Get(s2,-dx,dy), float4x4(-0.144422531127930,-0.089149557054043,-0.114316567778587,-0.034110173583031,-0.060835797339678,0.021098751574755,-0.164427936077118,-0.104871354997158,-0.017708893865347,-0.080553196370602,0.069958887994289,0.044647324830294,-0.004378879908472,0.126359820365906,-0.085631944239140,0.119380481541157));
res += mul(Get(s2,0,-dy), float4x4(-0.031790468841791,-0.007940566167235,-0.001365826348774,-0.020122908055782,-0.012413097545505,0.090370833873749,0.004195492714643,-0.003306699451059,-0.026833971962333,0.167211636900902,0.074849791824818,-0.046388272196054,-0.037956681102514,0.018539393320680,-0.040827464312315,-0.003715483471751));
res += mul(Get(s2,0,0), float4x4(-0.024251414462924,-0.085781067609787,-0.084612108767033,0.001664123148657,-0.066726401448250,-0.046150680631399,0.092533499002457,0.077535904943943,-0.070881903171539,-0.155565053224564,0.157173737883568,-0.030305674299598,-0.030120428651571,0.022968322038651,-0.135340601205826,0.029872849583626));
res += mul(Get(s2,0,dy), float4x4(-0.086802430450916,-0.017277300357819,-0.046784453094006,0.002449273364618,-0.010008277371526,-0.048279441893101,0.046945288777351,-0.058395221829414,0.089581839740276,-0.054916575551033,0.084214270114899,0.064948312938213,0.100594051182270,-0.088900297880173,-0.050736509263515,0.082985065877438));
res += mul(Get(s2,dx,-dy), float4x4(0.081512324512005,0.055689275264740,-0.063595041632652,0.012955439276993,-0.033878929913044,0.070465318858624,-0.005585702136159,-0.043562065809965,0.110875852406025,0.106327235698700,-0.039999943226576,-0.057395402342081,0.067202746868134,-0.031911071389914,-0.010666635818779,0.015183552168310));
res += mul(Get(s2,dx,0), float4x4(0.083023957908154,0.068420320749283,-0.025849560275674,-0.080297879874706,-0.011794451624155,0.046763680875301,0.013526053167880,-0.042916566133499,-0.010588844306767,-0.052359890192747,-0.161894246935844,-0.024160349741578,-0.015022420324385,-0.019530840218067,-0.016244318336248,0.029267251491547));
res += mul(Get(s2,dx,dy), float4x4(0.063037127256393,-0.001950160600245,0.058165747672319,-0.093054801225662,0.099623486399651,-0.065262295305729,-0.060731809586287,0.008980098180473,-0.073465324938297,0.001699792337604,-0.140475779771805,-0.127289935946465,-0.033702194690704,-0.006028813309968,0.035972241312265,-0.073324844241142));
res += mul(Get(s3,-dx,-dy), float4x4(0.025466945022345,0.021700665354729,0.086127161979675,0.010141635313630,0.004744846373796,0.017184548079967,-0.033174283802509,-0.012080553919077,-0.017273686826229,-0.169017896056175,0.147399052977562,-0.047816384583712,0.068911366164684,0.004179891198874,-0.016304867342114,0.014500385150313));
res += mul(Get(s3,-dx,0), float4x4(0.016301061958075,-0.112500213086605,-0.031290166079998,0.089528329670429,0.020141916349530,0.006503082811832,0.043540116399527,-0.126137584447861,-0.018211752176285,-0.012660138309002,0.093621753156185,0.038404293358326,0.021098041906953,0.053224239498377,0.096912354230881,0.025646695867181));
res += mul(Get(s3,-dx,dy), float4x4(0.068061277270317,-0.062671884894371,0.021224278956652,-0.091601021587849,0.012576229870319,0.044513348490000,0.137497156858444,0.108033783733845,-0.001552751753479,-0.024491548538208,0.060776911675930,0.064183406531811,0.025390073657036,0.014165249653161,-0.065729893743992,0.142175897955894));
res += mul(Get(s3,0,-dy), float4x4(0.060177270323038,0.070277273654938,0.014594176784158,0.022464232519269,0.011992129497230,-0.018957195803523,-0.026678862050176,0.010982187464833,0.024131864309311,-0.170422196388245,-0.001099388464354,-0.014656336046755,0.048182178288698,-0.003811536822468,0.033443462103605,0.036948233842850));
res += mul(Get(s3,0,0), float4x4(-0.036018099635839,0.088982783257961,0.007280223071575,-0.068225547671318,-0.004052800126374,-0.039967417716980,-0.025386482477188,-0.019109182059765,-0.077885806560516,-0.105338193476200,-0.152492538094521,0.008743491955101,-0.044357750564814,0.188036441802979,-0.033814433962107,0.128060489892960));
res += mul(Get(s3,0,dy), float4x4(0.042227484285831,0.020327728241682,-0.106990724802017,-0.050501022487879,-0.018891101703048,0.025045935064554,-0.081908889114857,0.099219605326653,-0.140153244137764,-0.081356339156628,-0.034007776528597,0.078134551644325,0.048200007528067,0.004590099211782,-0.086728774011135,0.067603290081024));
res += mul(Get(s3,dx,-dy), float4x4(0.013606382533908,-0.025700643658638,-0.008813822641969,0.099275991320610,-0.119686685502529,0.003677210537717,-0.054001893848181,-0.033928267657757,0.063339300453663,0.075272567570210,-0.056345324963331,-0.110049724578857,0.110721446573734,0.111523196101189,0.041223444044590,0.016781741753221));
res += mul(Get(s3,dx,0), float4x4(0.116950929164886,0.094561956822872,0.017684713006020,0.010623482987285,0.083031684160233,-0.016480788588524,0.015747161582112,0.054814651608467,0.026209855452180,0.144904509186745,-0.058395817875862,0.023920349776745,0.038399271667004,-0.007865962572396,-0.059502590447664,-0.011448727920651));
res += mul(Get(s3,dx,dy), float4x4(-0.044728443026543,-0.086437322199345,-0.029518440365791,0.074533410370350,-0.034028142690659,0.052948329597712,-0.013566480018198,-0.024995381012559,0.122240088880062,0.089814998209476,-0.134976252913475,-0.039462704211473,0.064146488904953,0.018229736015201,-0.058324202895164,-0.010864106006920));
res = max(float4(0,0,0,0), res);
return res;
}
