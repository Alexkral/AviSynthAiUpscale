sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.062522143125534,-0.044804286211729,-0.136678785085678,-0.044178463518620,0.017699273303151,-0.095005303621292,0.027835639193654,-0.097560934722424,0.008800081908703,0.068481557071209,-0.003454403718933,-0.081240825355053,-0.062672063708305,-0.060242388397455,0.102666407823563,0.009994437918067));
res += mul(Get(s0,-dx,0), float4x4(0.063847556710243,-0.124873310327530,-0.115474425256252,-0.074155233800411,-0.004846553783864,0.184726342558861,0.009626483544707,0.128492847084999,0.046161517500877,-0.128819182515144,-0.048058323562145,-0.028971709311008,-0.043517585843801,-0.046263150870800,-0.044800851494074,0.093652412295341));
res += mul(Get(s0,-dx,dy), float4x4(-0.152793794870377,0.016790842637420,-0.197925120592117,0.066464520990849,0.014605344273150,-0.068827658891678,0.018819388002157,-0.001466919202358,0.119386501610279,-0.090995535254478,0.016110509634018,-0.054837491363287,0.134562671184540,-0.020784443244338,0.057282339781523,-0.052315548062325));
res += mul(Get(s0,0,-dy), float4x4(0.103186920285225,-0.092869125306606,0.019059585407376,-0.033447723835707,0.095768675208092,0.116610534489155,0.014011346735060,-0.004623596090823,-0.001707018818706,-0.044089782983065,0.155170843005180,0.100667499005795,0.060900248587132,0.025947429239750,-0.148597612977028,0.081256970763206));
res += mul(Get(s0,0,0), float4x4(0.052094090729952,0.053738184273243,0.097609281539917,-0.037098389118910,0.104261197149754,-0.020148180425167,-0.116141945123672,-0.104177728295326,0.014295043423772,-0.029189651831985,-0.040375415235758,0.073740750551224,0.114663667976856,-0.000778660527430,0.049866236746311,-0.069246776401997));
res += mul(Get(s0,0,dy), float4x4(0.010760498233140,0.000534642545972,0.125901058316231,0.088158972561359,0.121375530958176,-0.112110838294029,-0.009532594121993,0.141925141215324,0.005327690858394,0.095809638500214,-0.027120610699058,0.001954274717718,0.077490605413914,0.050877206027508,0.094666615128517,-0.065872877836227));
res += mul(Get(s0,dx,-dy), float4x4(-0.070379175245762,0.115786492824554,0.001029264181852,-0.169299706816673,0.002766678342596,0.012944309972227,0.061082508414984,-0.059590924531221,-0.008894744329154,-0.132769867777824,0.173633471131325,-0.081236042082310,-0.030577389523387,-0.052448656409979,-0.087807029485703,0.028219541534781));
res += mul(Get(s0,dx,0), float4x4(-0.136109814047813,-0.066482551395893,-0.080483913421631,-0.095418930053711,0.088474154472351,0.018657868728042,-0.000848961761221,-0.103432752192020,0.057501528412104,0.106560647487640,-0.120979338884354,0.222856521606445,0.002252600621432,0.053479965776205,-0.055491715669632,0.006948325317353));
res += mul(Get(s0,dx,dy), float4x4(0.077504031360149,0.071350075304508,0.029159458354115,0.114544071257114,0.015254329890013,0.058302633464336,-0.087481535971165,-0.025143038481474,-0.057323615998030,0.039981000125408,-0.097524844110012,-0.053682003170252,-0.109989687800407,0.041442528367043,-0.064763315021992,0.095647864043713));
res += mul(Get(s1,-dx,-dy), float4x4(0.011269763112068,-0.042703177779913,0.038428612053394,-0.091939903795719,0.112195119261742,0.045085355639458,0.176661267876625,0.083459213376045,-0.158137202262878,-0.053605597466230,-0.096643239259720,-0.008130151778460,-0.068911664187908,0.017978666350245,-0.011261653155088,0.018341520801187));
res += mul(Get(s1,-dx,0), float4x4(0.030142456293106,0.143067345023155,0.023356560617685,0.112880386412144,-0.052353188395500,0.146302968263626,-0.108768232166767,-0.090567491948605,-0.032074864953756,0.003365465672687,-0.100289843976498,0.098998658359051,0.117033511400223,-0.110505953431129,-0.035307537764311,-0.055110551416874));
res += mul(Get(s1,-dx,dy), float4x4(-0.119139455258846,-0.155374407768250,0.019101817160845,0.053181115537882,-0.047411646693945,-0.128266185522079,0.061350904405117,-0.070780202746391,0.275334298610687,0.014765008352697,0.078461065888405,-0.103280670940876,-0.009950030595064,-0.067032486200333,-0.020823137834668,0.058324351906776));
res += mul(Get(s1,0,-dy), float4x4(0.083976276218891,-0.110243260860443,-0.021548256278038,0.077079333364964,-0.066288158297539,-0.050306051969528,0.064867444336414,-0.170606002211571,0.076033823192120,0.089817866683006,0.079420529305935,-0.016767442226410,-0.045626897364855,-0.024462439119816,0.090391188859940,0.069267004728317));
res += mul(Get(s1,0,0), float4x4(0.056785579770803,0.059517290443182,0.074820965528488,-0.128372699022293,-0.060660883784294,0.069359704852104,-0.194378226995468,-0.092081889510155,-0.288401573896408,-0.065393082797527,0.015539766289294,0.139488801360130,-0.029405510053039,0.090545833110809,-0.111455962061882,0.076294369995594));
res += mul(Get(s1,0,dy), float4x4(0.133266240358353,-0.132268756628036,-0.048455938696861,0.053057000041008,-0.049911320209503,0.028872637078166,0.158507719635963,-0.077206805348396,0.079485356807709,-0.196328952908516,0.061353024095297,0.012712201103568,-0.025994721800089,0.009947769343853,0.056575246155262,-0.002908698050305));
res += mul(Get(s1,dx,-dy), float4x4(-0.105268262326717,-0.099222034215927,-0.044982869178057,-0.057847578078508,0.041425958275795,0.012811533175409,0.020834350958467,0.008435623720288,0.123578943312168,0.026598269119859,-0.050292011350393,-0.122422419488430,0.021512405946851,-0.052959263324738,-0.065517902374268,0.015515213832259));
res += mul(Get(s1,dx,0), float4x4(-0.084108807146549,0.084227450191975,0.054258603602648,0.080247990787029,-0.026254978030920,0.115010604262352,0.023462546989322,-0.085834644734859,0.162602573633194,-0.015970913693309,-0.070932596921921,0.024827266111970,0.030667679384351,0.011004335246980,0.004414749331772,-0.014387851580977));
res += mul(Get(s1,dx,dy), float4x4(0.074694886803627,0.002679597353563,-0.038516938686371,0.070548936724663,0.039472829550505,0.061869785189629,-0.053473278880119,-0.107815206050873,-0.093049958348274,-0.070721730589867,-0.087011002004147,-0.050863523036242,-0.013738910667598,0.040969826281071,0.063968338072300,-0.165830597281456));
res += mul(Get(s2,-dx,-dy), float4x4(0.024498896673322,-0.066862188279629,-0.067712955176830,-0.024105872958899,-0.013910847716033,0.031858567148447,-0.172976046800613,0.157326817512512,-0.018855497241020,-0.023833712562919,-0.042239770293236,-0.021109268069267,0.177194342017174,0.036327116191387,0.036673665046692,-0.004994660150260));
res += mul(Get(s2,-dx,0), float4x4(0.071563303470612,0.143362611532211,-0.022978413850069,0.062349624931812,0.141970038414001,0.065805941820145,0.000382940546842,-0.024091778323054,-0.153162345290184,-0.027719125151634,0.129610896110535,-0.015651088207960,0.099817104637623,-0.014265054836869,-0.062931150197983,0.025011146441102));
res += mul(Get(s2,-dx,dy), float4x4(-0.061458908021450,-0.096765883266926,-0.001220804871991,0.011490563862026,-0.031318634748459,0.022326746955514,-0.115917891263962,0.002849574433640,0.063992202281952,0.021127864718437,0.142089530825615,-0.008839716203511,-0.068572632968426,-0.075368277728558,-0.041225168853998,0.041926324367523));
res += mul(Get(s2,0,-dy), float4x4(0.076205343008041,0.020313277840614,-0.004685736726969,-0.047170642763376,-0.076440624892712,0.014787135645747,0.224730700254440,0.102605119347572,0.028228363022208,-0.006470513995737,-0.008727921172976,-0.108739264309406,0.119777999818325,0.099140822887421,-0.020769132301211,-0.155098438262939));
res += mul(Get(s2,0,0), float4x4(-0.038734991103411,-0.079313203692436,0.050257269293070,-0.227362200617790,0.011663694866002,0.029412962496281,-0.042800132185221,0.147138804197311,-0.128377065062523,-0.125475108623505,0.121538870036602,0.136328160762787,0.027588253840804,0.004891987890005,0.053369663655758,-0.031829498708248));
res += mul(Get(s2,0,dy), float4x4(0.074709281325340,-0.004333505406976,0.009430072270334,0.002722375094891,-0.178440272808075,-0.040361426770687,-0.015255817212164,0.001178532023914,0.129004329442978,0.059024840593338,0.188195556402206,0.072995454072952,-0.039613496512175,0.009848960675299,-0.013765917159617,-0.084931544959545));
res += mul(Get(s2,dx,-dy), float4x4(-0.006189947482198,0.023261485621333,0.063728660345078,-0.079491734504700,0.218326538801193,-0.004624182824045,0.091614261269569,-0.138215914368629,0.010913964360952,-0.053344778716564,0.040181741118431,-0.070961467921734,0.093519739806652,0.040132388472557,0.005833712872118,0.104015000164509));
res += mul(Get(s2,dx,0), float4x4(0.057017397135496,-0.051740802824497,-0.251562535762787,-0.007917257957160,-0.134028792381287,0.022659618407488,-0.035189021378756,-0.099220417439938,0.255500793457031,0.032361451536417,-0.032350361347198,0.096996478736401,0.082156628370285,-0.009224802255630,-0.080891743302345,-0.110911406576633));
res += mul(Get(s2,dx,dy), float4x4(0.057426065206528,-0.012223823927343,-0.064298227429390,-0.064540006220341,0.219593718647957,0.137118831276894,0.046807572245598,-0.070684820413589,0.195888549089432,-0.010533287189901,0.091387107968330,-0.119181536138058,-0.041139204055071,0.072392240166664,0.027028828859329,-0.023789733648300));
res += mul(Get(s3,-dx,-dy), float4x4(-0.052396465092897,-0.052919369190931,-0.055645767599344,-0.039064534008503,0.128771170973778,0.051405452191830,-0.025492604821920,-0.143367528915405,0.037561900913715,-0.043538361787796,-0.147444009780884,-0.085047297179699,-0.089347966015339,-0.104277707636356,-0.013853829354048,-0.063996993005276));
res += mul(Get(s3,-dx,0), float4x4(0.040766306221485,0.055534858256578,-0.141211852431297,0.025339243933558,-0.028417447581887,-0.064977332949638,0.098921075463295,0.066733144223690,0.126304879784584,-0.090803124010563,-0.030200993642211,-0.034043248742819,0.126088097691536,0.030358429998159,-0.015594471246004,-0.107408948242664));
res += mul(Get(s3,-dx,dy), float4x4(-0.067441768944263,-0.029904494062066,-0.083494812250137,-0.009757811203599,0.040700666606426,0.022716535255313,0.030549626797438,0.092612855136395,0.020393326878548,-0.024078456684947,0.113729692995548,-0.003870703279972,-0.071884065866470,0.003716499311849,-0.074973434209824,-0.140107989311218));
res += mul(Get(s3,0,-dy), float4x4(0.069545291364193,-0.006750073749572,0.043014537543058,0.041893336921930,0.042515698820353,-0.013310947455466,-0.034945994615555,0.002185283228755,0.180826991796494,-0.084022507071495,-0.129023268818855,0.109031639993191,-0.042266327887774,-0.081850357353687,-0.056823063641787,-0.091852478682995));
res += mul(Get(s3,0,0), float4x4(-0.013470742851496,-0.106713891029358,-0.116496704518795,0.126584067940712,0.045720934867859,-0.001540210796520,0.155276551842690,0.001910098828375,0.179489493370056,0.053276211023331,-0.062284335494041,-0.054577913135290,-0.071939192712307,-0.176951318979263,0.025047840550542,-0.025407023727894));
res += mul(Get(s3,0,dy), float4x4(-0.101493313908577,0.061489284038544,0.008078700862825,0.111499942839146,-0.004972229711711,0.144989743828773,-0.078450985252857,0.103744491934776,-0.132703870534897,-0.091204971075058,-0.043487746268511,-0.149654641747475,0.070963136851788,-0.198465451598167,0.046910293400288,0.081422612071037));
res += mul(Get(s3,dx,-dy), float4x4(0.048275426030159,0.220833510160446,0.188293248414993,0.066845163702965,-0.007907749153674,0.037167008966208,0.036194656044245,0.015419389121234,-0.093246594071388,0.005565010476857,-0.011370263993740,-0.007475160527974,0.158319503068924,-0.005580811295658,0.129485204815865,-0.057726323604584));
res += mul(Get(s3,dx,0), float4x4(0.140551030635834,0.037475828081369,-0.011095951311290,-0.066929779946804,0.028099350631237,-0.118663668632507,0.109642766416073,0.013792301528156,-0.128490030765533,-0.130618423223495,-0.114693738520145,-0.019076189026237,-0.111341051757336,0.014734602533281,-0.025138100609183,-0.138163477182388));
res += mul(Get(s3,dx,dy), float4x4(0.001312520587817,0.059726987034082,0.086450234055519,0.018850214779377,0.017070805653930,-0.056908141821623,-0.061593692749739,0.008500084280968,-0.108257129788399,-0.045137580484152,0.091343477368355,-0.001777168363333,-0.080692559480667,-0.105298742651939,0.042987093329430,0.071119800209999));
res = max(float4(0,0,0,0), res);
return res;
}
