sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.029675716534257,-0.076298020780087,0.151492491364479,-0.065246768295765,-0.061802193522453,0.080421365797520,0.120235890150070,-0.188984945416451,-0.059859439730644,-0.081177026033401,-0.078226484358311,0.007955320179462,0.035351715981960,0.083638340234756,-0.034974906593561,-0.082171425223351));
res += mul(Get(s0,-dx,0), float4x4(-0.136319428682327,-0.096062131226063,0.090541929006577,0.064277566969395,-0.044944345951080,-0.045275203883648,-0.091739043593407,0.028355926275253,-0.077799417078495,-0.092989690601826,0.045470125973225,0.055296044796705,0.030005576089025,-0.007796172052622,-0.007794972974807,0.073011778295040));
res += mul(Get(s0,-dx,dy), float4x4(-0.169625982642174,-0.155664995312691,0.084458544850349,0.064661823213100,-0.045065913349390,0.082353927195072,-0.046070039272308,-0.122588247060776,0.178983747959137,-0.037057377398014,-0.082659967243671,0.149251922965050,0.043810401111841,0.018717098981142,0.006688209716231,0.195065483450890));
res += mul(Get(s0,0,-dy), float4x4(-0.021082382649183,0.077958665788174,0.062013637274504,-0.079601183533669,-0.058630008250475,-0.098836071789265,-0.066799521446228,-0.055177532136440,0.033938232809305,0.015328736044466,0.128678664565086,0.132181257009506,-0.060340557247400,0.008108245208859,0.034257106482983,0.013004434294999));
res += mul(Get(s0,0,0), float4x4(-0.085724927484989,0.051879178732634,-0.161675527691841,-0.053281310945749,-0.072034493088722,-0.067402370274067,-0.009094024077058,0.003550006076694,-0.113409735262394,-0.119379259645939,0.025635788217187,0.023829584941268,-0.074399232864380,0.008002312853932,0.169521033763885,-0.108708746731281));
res += mul(Get(s0,0,dy), float4x4(-0.095816634595394,0.075253680348396,-0.099538490176201,-0.074835389852524,0.079171635210514,0.009263057261705,0.103791914880276,-0.079020634293556,0.089036792516708,0.029392901808023,0.080684453248978,0.050217930227518,0.050115428864956,0.070373684167862,-0.007898496463895,0.186015248298645));
res += mul(Get(s0,dx,-dy), float4x4(-0.069103218615055,-0.014302260242403,0.073329783976078,0.067335322499275,0.028178740292788,0.038295395672321,0.173670500516891,-0.047883935272694,-0.033377990126610,0.038097526878119,-0.013572945259511,0.059588033705950,0.090459428727627,-0.028725983574986,-0.038520369678736,0.034836769104004));
res += mul(Get(s0,dx,0), float4x4(-0.027984466403723,0.094260595738888,-0.039571970701218,0.014140931889415,-0.026040822267532,-0.066697455942631,-0.089353449642658,0.035205818712711,0.014356825500727,-0.029353037476540,-0.025619724765420,-0.165811195969582,0.051170598715544,-0.054225072264671,0.070977918803692,0.068623438477516));
res += mul(Get(s0,dx,dy), float4x4(-0.013785033486784,0.080024324357510,0.039289761334658,-0.047405470162630,0.018704041838646,-0.064592070877552,-0.010888981632888,-0.122774533927441,0.046993602067232,-0.105646967887878,-0.080157853662968,0.037480153143406,0.061756435781717,0.034486759454012,-0.048789132386446,-0.061377912759781));
res += mul(Get(s1,-dx,-dy), float4x4(0.012971233576536,0.045927558094263,0.018001656979322,0.008798023685813,-0.003667246317491,0.029956104233861,-0.064200900495052,-0.112997770309448,0.052907753735781,-0.057900659739971,0.029504226520658,0.066869862377644,-0.023208472877741,-0.027616662904620,0.006424777675420,0.096124820411205));
res += mul(Get(s1,-dx,0), float4x4(-0.007056021131575,-0.051374528557062,0.004958612378687,0.122737087309361,-0.077133685350418,-0.037777345627546,-0.004868440795690,-0.024535857141018,0.049770746380091,0.041913345456123,0.052233766764402,0.004511465784162,-0.007121391128749,0.068081498146057,-0.030421670526266,0.051594287157059));
res += mul(Get(s1,-dx,dy), float4x4(-0.013364292681217,-0.004476163070649,-0.067965298891068,0.121125645935535,0.047714956104755,0.020754193887115,-0.010547954589128,-0.022784652188420,0.140803024172783,-0.037622325122356,-0.010222123935819,-0.065279126167297,-0.024998061358929,0.021619638428092,0.063976764678955,-0.068484634160995));
res += mul(Get(s1,0,-dy), float4x4(0.070813387632370,0.125553652644157,-0.039594225585461,-0.069612331688404,-0.022339936345816,-0.080007076263428,-0.012564907781780,-0.062178619205952,-0.034350022673607,-0.065796151757240,-0.100346423685551,-0.112349361181259,0.090237937867641,-0.093546375632286,-0.051629286259413,0.015276144258678));
res += mul(Get(s1,0,0), float4x4(0.105418533086777,0.040465775877237,0.035869751125574,0.090624079108238,-0.087535895407200,-0.065481245517731,0.031178468838334,0.038213726133108,0.057558216154575,0.042554125189781,0.152467876672745,0.032289996743202,-0.021889900788665,-0.005473869852722,0.055087417364120,0.008365924470127));
res += mul(Get(s1,0,dy), float4x4(0.018799981102347,-0.010679943487048,-0.065030828118324,0.119525223970413,-0.041817057877779,0.107001833617687,0.000919121142942,-0.016475142911077,-0.091502480208874,-0.016333015635610,0.057627804577351,0.048748828470707,-0.031451806426048,0.099906191229820,0.072108186781406,-0.066734679043293));
res += mul(Get(s1,dx,-dy), float4x4(-0.048989798873663,0.120112948119640,0.054400276392698,0.045010134577751,-0.035284724086523,-0.061629254370928,-0.073400132358074,0.049750588834286,0.009912826120853,0.069011636078358,-0.161151826381683,-0.011186021380126,-0.103038854897022,0.035346735268831,-0.003744159359485,0.011048281565309));
res += mul(Get(s1,dx,0), float4x4(0.074129678308964,-0.086407780647278,0.231258571147919,0.046006187796593,-0.030259523540735,0.053377464413643,-0.005862977355719,-0.017388744279742,0.035484842956066,0.069981008768082,0.070681586861610,-0.141748592257500,0.032430905848742,0.110999599099159,-0.066937625408173,-0.107227653264999));
res += mul(Get(s1,dx,dy), float4x4(-0.060007940977812,-0.059712916612625,0.077644430100918,0.049315005540848,-0.044647809118032,0.038234096020460,-0.005562697537243,-0.011290540918708,0.004872379824519,0.067821525037289,-0.027632754296064,-0.073441460728645,-0.035240825265646,0.038193963468075,-0.088396094739437,0.038868952542543));
res += mul(Get(s2,-dx,-dy), float4x4(0.010889796540141,-0.007807277608663,0.129912868142128,-0.060892309993505,-0.073143899440765,-0.046637553721666,-0.038775816559792,-0.095272742211819,0.071153052151203,-0.144756361842155,0.083922095596790,-0.088726617395878,0.092568442225456,0.000537632091437,-0.018055396154523,0.003293336136267));
res += mul(Get(s2,-dx,0), float4x4(0.045896604657173,0.062535002827644,0.053635943681002,-0.015858588740230,0.069121219217777,0.019612498581409,-0.015525572933257,-0.071129299700260,-0.034259282052517,0.121328696608543,0.107517465949059,0.075838908553123,0.017690695822239,-0.110744372010231,0.081048876047134,0.074394300580025));
res += mul(Get(s2,-dx,dy), float4x4(0.042610000818968,0.063044093549252,-0.011962858960032,-0.018119214102626,0.058401510119438,-0.006493561901152,0.095401398837566,0.030034324154258,-0.006507923360914,0.064796306192875,-0.023342870175838,-0.108413375914097,-0.042938347905874,-0.147274509072304,0.094196617603302,-0.035545438528061));
res += mul(Get(s2,0,-dy), float4x4(0.019799666479230,-0.082490950822830,0.041234727948904,-0.074163980782032,-0.052418112754822,-0.025251815095544,-0.033349480479956,-0.007916345261037,0.008033132180572,-0.171600326895714,0.041828434914351,-0.016543693840504,-0.009408400394022,-0.052127905189991,-0.050060581415892,-0.009587611071765));
res += mul(Get(s2,0,0), float4x4(0.086027659475803,-0.011474307626486,0.030471200123429,-0.110510006546974,0.016907492652535,-0.003607476362959,-0.123695448040962,-0.041113521903753,-0.068621061742306,0.051749408245087,0.062344826757908,-0.040828317403793,0.001399470143951,0.031188819557428,0.046035800129175,0.023183854296803));
res += mul(Get(s2,0,dy), float4x4(-0.016459729522467,0.042251732200384,0.022164994850755,-0.053885120898485,0.020134296268225,-0.097237296402454,-0.141535684466362,0.018198018893600,0.033786781132221,0.094963937997818,-0.070607244968414,0.025270529091358,0.006804740522057,0.101368479430676,0.018409095704556,-0.081566482782364));
res += mul(Get(s2,dx,-dy), float4x4(-0.066174767911434,0.040695331990719,0.072828866541386,-0.050760801881552,-0.064466841518879,0.112528026103973,-0.018914677202702,0.130662500858307,0.126492395997047,-0.041115459054708,0.135788649320602,0.149411737918854,0.001066010096110,-0.058003935962915,0.045565880835056,-0.029796792194247));
res += mul(Get(s2,dx,0), float4x4(-0.050902657210827,-0.010894037783146,0.040835853666067,-0.130458518862724,-0.039277277886868,0.150753393769264,-0.044706366956234,-0.029173979535699,0.053860362619162,-0.144966587424278,-0.117814138531685,0.005214525852352,0.018464153632522,0.064608678221703,0.133450821042061,-0.019826866686344));
res += mul(Get(s2,dx,dy), float4x4(0.062324583530426,0.010440950281918,0.109643824398518,0.014036987908185,-0.076765187084675,-0.068908281624317,-0.036545913666487,-0.008022113703191,-0.068358235061169,0.040848188102245,0.005052709951997,0.033211886882782,0.031835261732340,0.078334562480450,-0.109719172120094,0.013573971576989));
res += mul(Get(s3,-dx,-dy), float4x4(0.081836573779583,0.086287662386894,0.149195700883865,-0.077001452445984,0.077312462031841,-0.087855488061905,-0.012973781675100,0.064599364995956,0.068852923810482,-0.062524296343327,0.023062806576490,-0.078422270715237,-0.048228885978460,0.041248686611652,0.136835202574730,0.105940811336040));
res += mul(Get(s3,-dx,0), float4x4(0.002104206010699,0.031634621322155,0.093055315315723,0.014954792335629,-0.072813808917999,0.027573805302382,0.098824754357338,0.032374974340200,-0.050090219825506,0.040527690201998,-0.025985395535827,-0.000845775299240,0.048480506986380,-0.107959292829037,0.067067779600620,0.045667089521885));
res += mul(Get(s3,-dx,dy), float4x4(-0.070058815181255,0.119886629283428,0.091372385621071,0.073068603873253,-0.048853848129511,0.044976357370615,-0.005069327540696,0.194104671478271,0.010785483755171,-0.083774797618389,-0.010594746097922,-0.174223139882088,0.040435515344143,-0.034978888928890,0.044643685221672,-0.091372810304165));
res += mul(Get(s3,0,-dy), float4x4(0.008856823667884,-0.080409012734890,-0.034256439656019,0.138313099741936,0.116967089474201,0.034437336027622,-0.047806669026613,0.035669311881065,-0.134294912219048,-0.043877396732569,0.187543049454689,0.084604300558567,0.149605065584183,0.074938453733921,-0.040263399481773,0.055187366902828));
res += mul(Get(s3,0,0), float4x4(0.020676173269749,0.013344353996217,0.098520345985889,0.103361159563065,0.073320500552654,0.088903330266476,-0.150523960590363,-0.098723694682121,0.111756399273872,0.101339660584927,0.055731087923050,-0.040073063224554,0.113875105977058,0.093229852616787,0.103347949683666,-0.004803751595318));
res += mul(Get(s3,0,dy), float4x4(0.000103470621980,-0.029645446687937,-0.109009794890881,0.116764016449451,-0.114201769232750,0.026542652398348,-0.006602562032640,-0.012071100994945,-0.002110866596922,0.076466716825962,-0.106670536100864,-0.039848748594522,0.113574229180813,-0.004501088988036,-0.006100531201810,0.033934071660042));
res += mul(Get(s3,dx,-dy), float4x4(-0.030865289270878,0.140386387705803,0.031663138419390,-0.026356207206845,0.017206517979503,-0.034103747457266,0.021822841838002,0.034242141991854,0.023726131767035,-0.006322610657662,0.012912033125758,0.000189755446627,0.033614821732044,-0.011685898527503,0.078350454568863,-0.023752709850669));
res += mul(Get(s3,dx,0), float4x4(0.043688878417015,0.026985608041286,-0.038980092853308,0.044508881866932,-0.089287228882313,0.128815159201622,0.065791890025139,0.142122909426689,0.062784895300865,0.141219750046730,-0.037778891623020,0.064735658466816,-0.004504289478064,-0.104513205587864,-0.047948852181435,-0.049799047410488));
res += mul(Get(s3,dx,dy), float4x4(0.031852260231972,0.027268042787910,0.048376020044088,-0.044976104050875,-0.001422335160896,0.013641810044646,-0.076301939785480,0.002049433533102,0.113175250589848,-0.015561829321086,-0.034815933555365,-0.071465648710728,0.108385257422924,0.126647591590881,0.043089304119349,0.049612458795309));
res = max(float4(0,0,0,0), res);
return res;
}
