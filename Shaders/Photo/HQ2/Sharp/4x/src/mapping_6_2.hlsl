sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.051096245646477,0.003170880489051,0.057694487273693,0.000014914238818,0.046666007488966,-0.046374723315239,0.035995744168758,-0.051229283213615,0.046013552695513,0.099210403859615,-0.029665397480130,-0.022056903690100,-0.033503308892250,-0.071302250027657,0.073533616960049,-0.036345485597849));
res += mul(Get(s0,-dx,0), float4x4(0.059443544596434,0.053126771003008,0.072649553418159,-0.010610380209982,-0.026280786842108,0.016572888940573,-0.040092796087265,0.012094045057893,0.017035951837897,-0.017275976017118,0.006498973350972,0.111782893538475,-0.026389686390758,0.043208319693804,-0.075670547783375,-0.014758527278900));
res += mul(Get(s0,-dx,dy), float4x4(0.093700878322124,0.039227619767189,0.087744280695915,-0.007101698312908,-0.015216962434351,-0.113867603242397,0.128243237733841,-0.061358470469713,0.040981326252222,0.003545243293047,-0.052760004997253,0.123562440276146,-0.036040537059307,0.061350021511316,0.075314447283745,0.020960059016943));
res += mul(Get(s0,0,-dy), float4x4(0.002599590923637,-0.145514905452728,-0.101775877177715,0.085275039076805,-0.031800657510757,-0.004276516847312,0.020729718729854,0.064859405159950,0.041539009660482,-0.015871262177825,0.029895357787609,-0.028600467368960,-0.031058963388205,-0.072622828185558,-0.066849328577518,-0.027400564402342));
res += mul(Get(s0,0,0), float4x4(0.037269756197929,-0.142815396189690,0.039363488554955,-0.075021460652351,-0.053636960685253,0.003079548012465,0.108059860765934,0.081048987805843,0.085954844951630,0.037755250930786,0.040747608989477,-0.023354154080153,0.080353468656540,-0.063897721469402,-0.006796308327466,0.079936958849430));
res += mul(Get(s0,0,dy), float4x4(0.018839685246348,0.070601858198643,-0.000612499483395,0.040989279747009,-0.046544145792723,0.097570799291134,0.052220348268747,0.028956884518266,0.028030000627041,0.011047904379666,-0.121163584291935,-0.011047687381506,0.072292648255825,-0.035995617508888,-0.014210929162800,0.012975995428860));
res += mul(Get(s0,dx,-dy), float4x4(-0.004535827320069,0.035835690796375,0.039382345974445,-0.011016373522580,0.042733509093523,0.001776235993020,0.121135227382183,-0.089712694287300,0.093536496162415,-0.035369835793972,-0.017118234187365,-0.079062528908253,0.013514014892280,-0.064905822277069,-0.040061108767986,0.005156971514225));
res += mul(Get(s0,dx,0), float4x4(0.094525106251240,0.064367890357971,0.067179895937443,-0.038724027574062,-0.143265515565872,0.033323246985674,-0.093201249837875,0.095866285264492,-0.157746791839600,-0.049611568450928,0.022453758865595,0.054579436779022,-0.004146327264607,-0.025821574032307,-0.053392540663481,0.025862634181976));
res += mul(Get(s0,dx,dy), float4x4(-0.012520472519100,-0.078997142612934,-0.055528793483973,-0.012454219162464,0.100677885115147,-0.159087955951691,0.014874830842018,-0.075560763478279,0.113107115030289,-0.085419230163097,0.141839146614075,-0.047060538083315,0.040480557829142,0.012008924968541,0.019048508256674,0.011579357087612));
res += mul(Get(s1,-dx,-dy), float4x4(-0.022427780553699,-0.038038332015276,0.184358596801758,0.049777038395405,-0.052777953445911,-0.107463240623474,-0.124323114752769,-0.016671193763614,-0.003829639637843,-0.049367964267731,-0.019408848136663,0.006679033860564,0.013824977912009,0.049054339528084,-0.034685175865889,0.096995592117310));
res += mul(Get(s1,-dx,0), float4x4(0.095106974244118,-0.095090337097645,-0.012624217197299,-0.066647090017796,0.034797910600901,-0.006239632610232,-0.063026100397110,-0.023930329829454,-0.142671912908554,0.021411644294858,-0.117735020816326,-0.004891560412943,-0.122511006891727,-0.023524625226855,0.031186770647764,0.074915342032909));
res += mul(Get(s1,-dx,dy), float4x4(-0.168880462646484,-0.092796459794044,0.001591761130840,-0.061471264809370,0.079098679125309,0.050127763301134,-0.179326072335243,-0.019848503172398,-0.009249547496438,0.060289461165667,-0.077241912484169,-0.003363967640325,0.064015686511993,-0.020541016012430,-0.081116482615471,-0.003026338992640));
res += mul(Get(s1,0,-dy), float4x4(0.072045378386974,0.130228549242020,0.096519723534584,0.049436457455158,-0.030136330053210,-0.081612899899483,0.097741574048996,0.008347121998668,-0.003875808790326,-0.169293150305748,0.129215031862259,0.001675459439866,0.013380463235080,-0.060230318456888,0.009487424045801,-0.083133332431316));
res += mul(Get(s1,0,0), float4x4(0.007412048522383,0.067384921014309,-0.047057449817657,-0.090354509651661,-0.079662017524242,0.040667437016964,-0.057721167802811,0.001330633647740,0.001759259146638,0.020189687609673,0.099061876535416,0.013509348966181,-0.004754685796797,0.011799368076026,0.030821556225419,-0.008698662742972));
res += mul(Get(s1,0,dy), float4x4(0.054174032062292,-0.016327288001776,0.085516124963760,0.002906290814281,0.117375664412975,0.084603637456894,-0.122943617403507,0.020896868780255,0.055405709892511,-0.128995031118393,-0.029610723257065,0.026061348617077,0.004193502478302,0.049433507025242,0.044367339462042,0.052246645092964));
res += mul(Get(s1,dx,-dy), float4x4(0.008225878700614,-0.100616298615932,-0.044037099927664,-0.003283553058282,-0.085216365754604,0.073999658226967,0.002061105333269,-0.083022072911263,0.042664472013712,0.036563500761986,-0.115923814475536,0.006086219567806,-0.001821932499297,-0.028257301077247,0.011419197544456,0.038967728614807));
res += mul(Get(s1,dx,0), float4x4(-0.015946293249726,0.032657358795404,-0.010096960701048,0.042595025151968,-0.139232844114304,0.032225936651230,-0.158570498228073,0.004366557113826,0.071848303079605,0.101427868008614,0.082573093473911,-0.037941753864288,-0.070022620260715,-0.104301609098911,-0.133150279521942,-0.086124017834663));
res += mul(Get(s1,dx,dy), float4x4(0.120433971285820,0.038129650056362,-0.086818210780621,-0.111648030579090,0.013135024346411,-0.089810155332088,-0.127258524298668,-0.012215300463140,0.026033610105515,-0.009447802789509,0.002158307936043,-0.057997565716505,0.032798375934362,0.066287823021412,0.071416258811951,0.077177464962006));
res += mul(Get(s2,-dx,-dy), float4x4(0.056890588253736,-0.077684372663498,-0.055406004190445,-0.142038285732269,0.092412143945694,0.151016846299171,-0.009499227628112,0.015020010061562,0.059708837419748,-0.012800956144929,0.042345535010099,-0.077491618692875,-0.152741402387619,0.041108965873718,-0.099327594041824,-0.087249107658863));
res += mul(Get(s2,-dx,0), float4x4(-0.050745401531458,0.015214609913528,0.015670109540224,0.082243703305721,0.050986867398024,0.044259697198868,0.222754299640656,-0.062549188733101,0.127218633890152,0.072856016457081,0.012570844031870,-0.022028522565961,-0.019305545836687,-0.161740466952324,-0.157921820878983,0.009290779009461));
res += mul(Get(s2,-dx,dy), float4x4(-0.028390247374773,0.044228404760361,0.168249115347862,-0.116440333425999,0.036512143909931,-0.132691860198975,-0.006852971855551,0.111057244241238,-0.063117101788521,-0.109025433659554,0.088546931743622,-0.061065468937159,-0.056114058941603,-0.085873544216156,-0.104462310671806,-0.061514806002378));
res += mul(Get(s2,0,-dy), float4x4(-0.061428077518940,0.024501392617822,0.044984232634306,0.011438519693911,-0.055126685649157,0.027911966666579,-0.026584183797240,0.013207272626460,0.009650626219809,0.160082191228867,0.055809248238802,-0.036344233900309,-0.012413513846695,-0.017038200050592,-0.052804850041866,-0.079713284969330));
res += mul(Get(s2,0,0), float4x4(-0.037240780889988,-0.017259027808905,0.007491073571146,-0.070767454802990,-0.020764002576470,-0.012855081818998,0.109508953988552,0.047638241201639,-0.073711022734642,-0.031156310811639,0.091407328844070,0.010409802198410,-0.018879346549511,-0.019072381779552,0.081196300685406,0.098699025809765));
res += mul(Get(s2,0,dy), float4x4(0.026857852935791,-0.047207187861204,-0.028719885274768,-0.076509989798069,-0.055389363318682,0.011160087771714,0.097306720912457,-0.126725882291794,0.072437457740307,0.105631127953529,0.056214816868305,0.086756043136120,-0.019946988672018,0.117817744612694,0.046402387320995,-0.098369367420673));
res += mul(Get(s2,dx,-dy), float4x4(0.079581946134567,0.043620184063911,0.057656493037939,0.036219321191311,-0.059697326272726,-0.091995351016521,-0.013863208703697,0.016705421730876,-0.069509468972683,0.077910684049129,-0.148289114236832,0.031360123306513,0.139841541647911,0.094118788838387,-0.033990550786257,0.042950421571732));
res += mul(Get(s2,dx,0), float4x4(0.038236718624830,0.026217808946967,-0.011162340641022,0.032977547496557,-0.018349729478359,0.029200114309788,-0.063175007700920,-0.105043336749077,-0.056299217045307,0.025100991129875,-0.134011417627335,0.036829978227615,-0.054194826632738,0.058140791952610,0.018686899915338,-0.046399552375078));
res += mul(Get(s2,dx,dy), float4x4(-0.011648390442133,-0.024989951401949,-0.063349314033985,-0.031670577824116,-0.125917896628380,0.044628776609898,0.021751344203949,-0.101762823760509,-0.067461654543877,0.042349573224783,0.053596351295710,-0.017892433330417,-0.016686826944351,0.003607626305893,0.041839573532343,-0.045041121542454));
res += mul(Get(s3,-dx,-dy), float4x4(0.001476167002693,0.032891172915697,-0.065653882920742,-0.085736624896526,-0.000966264167801,0.003382789203897,0.096835233271122,0.116416983306408,0.005462662782520,0.093269973993301,0.062821112573147,-0.031878344714642,0.035135917365551,-0.111421220004559,0.038021989166737,0.023258585482836));
res += mul(Get(s3,-dx,0), float4x4(0.091992504894733,0.007711112499237,0.107316419482231,0.027375223115087,-0.002487616613507,-0.075721763074398,0.037373412400484,0.072444498538971,0.087146043777466,-0.137133017182350,-0.120833456516266,-0.016508881002665,-0.023926971480250,0.132774293422699,0.011244772002101,0.121054314076900));
res += mul(Get(s3,-dx,dy), float4x4(-0.082647323608398,0.050913292914629,0.100175961852074,-0.015336998738348,-0.043330032378435,-0.085907772183418,0.036039955914021,0.069779254496098,0.055369667708874,0.007781507447362,-0.011438491754234,-0.062909126281738,0.109757244586945,-0.013470449484885,-0.040259446948767,-0.024610970169306));
res += mul(Get(s3,0,-dy), float4x4(-0.014051192440093,-0.018023889511824,0.101385876536369,0.034688998013735,-0.039665225893259,-0.028541717678308,0.096182845532894,-0.064202725887299,0.015962786972523,-0.047980558127165,-0.017098601907492,-0.076625846326351,-0.036254346370697,0.010942578315735,-0.061094835400581,-0.036740820854902));
res += mul(Get(s3,0,0), float4x4(0.019051112234592,0.033112101256847,0.057975485920906,-0.002906501060352,0.085774041712284,-0.068311631679535,0.157652929425240,0.017955102026463,-0.006622965447605,-0.036503646522760,0.163112223148346,-0.040437091141939,-0.028732314705849,0.015710800886154,0.043576054275036,-0.102366514503956));
res += mul(Get(s3,0,dy), float4x4(-0.004687339533120,-0.075488984584808,0.026691410690546,-0.022068735212088,-0.037564191967249,-0.051983959972858,0.112970009446144,0.005149606615305,-0.098919004201889,-0.016671678051353,-0.022506162524223,-0.059567693620920,-0.008967955596745,-0.027465093880892,-0.061949223279953,-0.011498312465847));
res += mul(Get(s3,dx,-dy), float4x4(0.002379410900176,-0.040881779044867,-0.115394495427608,-0.085885070264339,-0.065186768770218,-0.065078340470791,0.078160420060158,0.022580426186323,0.003966543357819,0.006839876528829,-0.042591467499733,0.090136885643005,0.072918176651001,0.008778286166489,-0.102316685020924,-0.092529870569706));
res += mul(Get(s3,dx,0), float4x4(-0.110927894711494,-0.018014965578914,-0.030165977776051,-0.086988709867001,-0.058627970516682,0.069655627012253,-0.000544696871657,-0.031631626188755,-0.040972836315632,0.024800973013043,0.051868483424187,0.048588447272778,-0.010327786207199,-0.038725495338440,-0.088431917130947,-0.032741159200668));
res += mul(Get(s3,dx,dy), float4x4(0.023444665595889,-0.087330095469952,-0.028020663186908,-0.005662532988936,0.093330979347229,0.012118012644351,0.162605211138725,-0.021280534565449,0.024169649928808,-0.066750429570675,-0.133588969707489,-0.062630884349346,0.009546633809805,-0.019401751458645,0.036439672112465,0.125811070203781));
res = max(float4(0,0,0,0), res);
return res;
}
