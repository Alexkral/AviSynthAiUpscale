sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.013013943098485,0.209185004234314,-0.272540569305420,-0.070369072258472) * Get(-dx,-dy);
res += float4(-0.090224489569664,0.551736593246460,-0.091160140931606,-0.233901157975197) * Get(-dx,0);
res += float4(-0.013850129209459,0.163578748703003,0.016783777624369,-0.000957093492616) * Get(-dx,dy);
res += float4(0.086238525807858,-0.299142152070999,-0.194347709417343,0.014045990072191) * Get(0,-dy);
res += float4(-0.019965326413512,-0.092223592102528,-0.043317183852196,0.034370001405478) * Get(0,0);
res += float4(-0.001229964313097,-0.337213933467865,0.234748110175133,-0.085901603102684) * Get(0,dy);
res += float4(-0.091006010770798,-0.186753079295158,-0.056779172271490,-0.055112000554800) * Get(dx,-dy);
res += float4(-0.001877620583400,0.339548885822296,0.088245421648026,-0.089587450027466) * Get(dx,0);
res += float4(0.013775402680039,-0.075762718915939,0.253086417913437,0.100264996290207) * Get(dx,dy);
res = max(float4(0,0,0,0), res);
return res;
}
