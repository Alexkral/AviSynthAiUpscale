sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.171138763427734,-0.056771565228701,0.066660165786743,0.087844468653202,-0.152959078550339,-0.013242505490780,-0.009284340776503,-0.072695761919022,-0.182245478034019,0.096077971160412,-0.027338961139321,-0.072932191193104,-0.123520851135254,0.078943490982056,-0.122284829616547,0.101035751402378));
res += mul(Get(s0,-dx,0), float4x4(-0.123304292559624,-0.033374186605215,0.007188201881945,0.007258514408022,0.012217015959322,0.148436740040779,0.030725533142686,-0.094630986452103,-0.009491440840065,0.050386402755976,0.021915191784501,0.050029519945383,-0.065524317324162,0.065919347107410,-0.021669540554285,0.041526414453983));
res += mul(Get(s0,-dx,dy), float4x4(0.092886462807655,-0.045407384634018,-0.002151362365112,-0.088464677333832,-0.082013525068760,0.067576840519905,0.024947168305516,-0.022816427052021,-0.036594551056623,0.038684811443090,-0.118743807077408,-0.027592103928328,0.092273160815239,-0.097500190138817,-0.009839753620327,0.111759811639786));
res += mul(Get(s0,0,-dy), float4x4(-0.026554105803370,-0.093867510557175,0.121358841657639,-0.023552607744932,0.096102602779865,0.051357738673687,0.053741723299026,0.030521279200912,0.027114739641547,-0.043638877570629,0.040209565311670,0.000708101433702,-0.037714805454016,-0.136037096381187,0.036643840372562,-0.092600688338280));
res += mul(Get(s0,0,0), float4x4(0.024618780240417,-0.065681315958500,-0.041657496243715,0.074795149266720,-0.000157224174473,-0.087635718286037,-0.107231922447681,-0.120893470942974,-0.115256167948246,-0.072715051472187,-0.061339609324932,-0.140584155917168,0.053839225322008,-0.252626746892929,-0.056202974170446,0.089903816580772));
res += mul(Get(s0,0,dy), float4x4(-0.018578598275781,-0.016347784548998,-0.088984772562981,0.152285024523735,-0.088917493820190,-0.038966245949268,-0.066585302352905,0.055666152387857,0.036183834075928,0.083782091736794,0.126580744981766,-0.042942225933075,0.031993281096220,0.063535504043102,-0.027968896552920,0.003569538705051));
res += mul(Get(s0,dx,-dy), float4x4(-0.035296417772770,0.151698857545853,-0.028426401317120,0.134072706103325,-0.114613354206085,0.045096836984158,-0.142876371741295,0.067790150642395,0.020115042105317,0.057831995189190,-0.041770223528147,-0.235439196228981,-0.009615322574973,0.106252916157246,-0.124180085957050,-0.022571381181479));
res += mul(Get(s0,dx,0), float4x4(-0.128862157464027,-0.043682511895895,-0.080395258963108,-0.145974516868591,0.167681261897087,-0.040390644222498,0.025626799091697,-0.111620381474495,-0.047816138714552,0.041825983673334,0.107727691531181,-0.088425502181053,0.255886256694794,0.123897291719913,-0.116598963737488,-0.022677170112729));
res += mul(Get(s0,dx,dy), float4x4(-0.054021190851927,-0.008329082280397,-0.000048848032748,0.075482688844204,0.030350383371115,0.027676045894623,-0.101535707712173,-0.118545383214951,0.072536580264568,0.080819986760616,-0.029102919623256,0.011881919577718,0.061143040657043,0.007166426163167,-0.044290099292994,-0.009834174066782));
res += mul(Get(s1,-dx,-dy), float4x4(-0.169734820723534,-0.235607460141182,-0.175218075513840,0.012031659483910,-0.014799134805799,-0.004517738241702,0.043956298381090,0.093673706054688,0.035724297165871,0.036629378795624,-0.009743936359882,0.069537542760372,-0.027756111696362,0.097587905824184,0.000913744326681,-0.069856762886047));
res += mul(Get(s1,-dx,0), float4x4(-0.066450394690037,0.069800816476345,-0.184829205274582,-0.028628392145038,-0.033431950956583,0.044746808707714,0.000891633215360,0.109274767339230,-0.120969481766224,-0.036644600331783,0.029193522408605,-0.015776455402374,0.123743444681168,0.015912182629108,0.028010755777359,-0.014251972548664));
res += mul(Get(s1,-dx,dy), float4x4(0.066869661211967,0.005048472899944,0.364468663930893,0.006676391232759,0.065439358353615,-0.081670999526978,-0.043773405253887,0.035193905234337,0.021688850596547,0.062821388244629,-0.076503857970238,0.046270009130239,0.056623313575983,0.018107622861862,0.017937581986189,0.008935432881117));
res += mul(Get(s1,0,-dy), float4x4(-0.077410474419594,-0.054380897432566,-0.053558126091957,-0.124590076506138,-0.117198027670383,-0.048392336815596,-0.033831723034382,0.092948563396931,0.068937666714191,0.076376050710678,-0.003507988760248,0.047804184257984,-0.015957042574883,0.070721402764320,-0.005456742364913,0.053227242082357));
res += mul(Get(s1,0,0), float4x4(0.000041348805098,-0.203844130039215,-0.060558632016182,-0.115880697965622,-0.095027707517147,0.005925061646849,-0.007664848119020,0.115945398807526,0.042867340147495,0.037314523011446,0.021413294598460,-0.026776330545545,0.033497486263514,0.033115215599537,-0.063750244677067,0.002364451996982));
res += mul(Get(s1,0,dy), float4x4(0.155419915914536,0.171718627214432,0.078558251261711,-0.109469346702099,0.123409189283848,0.061689969152212,0.117871820926666,0.020121835172176,-0.049080185592175,-0.114501878619194,-0.095545038580894,-0.124412931501865,-0.151196926832199,-0.006649122107774,0.024261170998216,0.081319808959961));
res += mul(Get(s1,dx,-dy), float4x4(-0.009139521978796,-0.070973381400108,0.074161864817142,0.069582782685757,-0.051780544221401,-0.074121765792370,-0.158948078751564,-0.106545619666576,-0.077820599079132,-0.060785990208387,0.063071057200432,-0.175260812044144,-0.120298922061920,0.030885832384229,-0.062714181840420,0.048447214066982));
res += mul(Get(s1,dx,0), float4x4(-0.024249279871583,0.199524492025375,-0.011676704511046,-0.108903385698795,-0.039533387869596,0.032784756273031,-0.045982562005520,0.099312864243984,-0.005844183731824,0.078582733869553,0.139232322573662,0.043074872344732,0.004816718865186,0.002511790720746,-0.048055607825518,0.064317196607590));
res += mul(Get(s1,dx,dy), float4x4(-0.006960431113839,-0.035724375396967,-0.111876882612705,0.185964792966843,0.009552333503962,-0.038922239094973,-0.029771050438285,-0.032903566956520,-0.171738296747208,0.026424309238791,0.043816830962896,-0.054666131734848,-0.073996722698212,0.120282642543316,0.007936852984130,-0.063560806214809));
res += mul(Get(s2,-dx,-dy), float4x4(-0.062348496168852,0.172691538929939,-0.028298621997237,-0.014879903756082,-0.054391663521528,0.080988630652428,-0.028729448094964,0.049484301358461,0.084645308554173,-0.105638213455677,0.028794134035707,-0.048222087323666,0.114193953573704,-0.077125109732151,-0.041107583791018,-0.002647824352607));
res += mul(Get(s2,-dx,0), float4x4(0.109527006745338,-0.019209582358599,0.046061091125011,0.007090964820236,-0.103238046169281,0.086122035980225,-0.021932769566774,-0.087211914360523,-0.118638843297958,0.032875664532185,-0.082405887544155,0.025961771607399,0.237295299768448,0.011965750716627,-0.053028829395771,0.045359183102846));
res += mul(Get(s2,-dx,dy), float4x4(0.048791065812111,0.101937241852283,-0.025094322860241,0.036941658705473,-0.105636373162270,0.006850867997855,-0.026869412511587,-0.093901485204697,0.057448372244835,-0.046598855406046,-0.011755849234760,0.102286189794540,0.013744129799306,0.045164249837399,0.060761816799641,-0.123476333916187));
res += mul(Get(s2,0,-dy), float4x4(0.150831297039986,0.003246860811487,-0.030510559678078,-0.065138220787048,-0.097226321697235,0.007616623770446,0.046735946089029,-0.080036543309689,-0.101196639239788,0.002810865174979,-0.001803010702133,-0.038014736026525,0.089042842388153,-0.015262737870216,0.147349879145622,-0.076069489121437));
res += mul(Get(s2,0,0), float4x4(0.118738077580929,0.011812349781394,-0.063098929822445,0.091670684516430,0.185905843973160,0.013627477921546,0.103623710572720,-0.017678471282125,-0.034120008349419,0.065605200827122,-0.074217177927494,0.035274349153042,0.022694934159517,0.098404601216316,-0.016904516145587,0.120472416281700));
res += mul(Get(s2,0,dy), float4x4(0.057735234498978,0.030398387461901,-0.043013680726290,0.058535173535347,-0.001209036214277,-0.030220547690988,0.114017769694328,-0.022955982014537,-0.159247785806656,0.076972626149654,0.156590729951859,-0.039537180215120,0.132142409682274,0.085915617644787,-0.033332835882902,-0.000458023045212));
res += mul(Get(s2,dx,-dy), float4x4(-0.087084703147411,-0.011531879194081,0.023584594950080,0.013683185912669,-0.179192826151848,0.014314381405711,-0.076729871332645,-0.044549625366926,0.137515321373940,0.074622094631195,-0.031818199902773,0.040395282208920,0.032297324389219,0.014717168174684,0.117359407246113,0.075749866664410));
res += mul(Get(s2,dx,0), float4x4(-0.049768298864365,0.121928371489048,-0.002920266240835,0.005707971286029,0.104404233396053,0.066075488924980,0.068291336297989,-0.052226956933737,-0.058899875730276,-0.097834132611752,-0.017527742311358,-0.172374173998833,-0.109507396817207,-0.073508344590664,-0.082459114491940,-0.081017054617405));
res += mul(Get(s2,dx,dy), float4x4(-0.105726748704910,0.015068914741278,0.005543813109398,0.010229861363769,-0.211637511849403,-0.029090844094753,-0.074218638241291,-0.024497499689460,0.067615948617458,0.016484411433339,0.020702147856355,-0.153789520263672,0.039140570908785,0.064045049250126,-0.028786074370146,-0.046143490821123));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020759148523211,0.099021121859550,-0.037727165967226,-0.270416885614395,-0.024112725630403,0.074180684983730,-0.075424470007420,0.000892126117833,-0.074411876499653,-0.036901310086250,-0.040132716298103,0.008514431305230,-0.194947823882103,-0.086928538978100,-0.106532134115696,0.032720141112804));
res += mul(Get(s3,-dx,0), float4x4(-0.224687114357948,-0.042617682367563,-0.048474006354809,0.031652368605137,-0.102127581834793,-0.028485642746091,0.122442826628685,-0.031828701496124,0.040265616029501,0.025748958811164,-0.023511404171586,-0.173862889409065,0.069303646683693,-0.135522156953812,0.170277148485184,0.092423006892204));
res += mul(Get(s3,-dx,dy), float4x4(-0.085395932197571,-0.009137407876551,0.033053703606129,0.022910734638572,-0.129698321223259,0.307810544967651,0.156129702925682,-0.097755603492260,0.041540481150150,0.034571297466755,-0.031503442674875,-0.161882296204567,0.137396484613419,0.040483240038157,-0.100224003195763,-0.038939803838730));
res += mul(Get(s3,0,-dy), float4x4(0.045261360704899,-0.028182011097670,-0.016773246228695,0.008270677179098,-0.059266932308674,-0.095507651567459,-0.005983459763229,-0.023089414462447,-0.026599681004882,-0.088883064687252,-0.031079990789294,-0.158418044447899,-0.058418896049261,-0.105275362730026,0.079569101333618,0.088307164609432));
res += mul(Get(s3,0,0), float4x4(-0.076561793684959,-0.011645445600152,-0.051117125898600,-0.023717056959867,0.074267074465752,-0.169095739722252,0.006060067564249,-0.052986804395914,0.007410175167024,-0.003824605373666,-0.093856774270535,0.061313614249229,0.119675904512405,0.023990452289581,0.159136474132538,-0.071432970464230));
res += mul(Get(s3,0,dy), float4x4(-0.123764485120773,-0.135730087757111,0.242608696222305,0.097231484949589,0.023455191403627,-0.020340656861663,0.173754483461380,-0.032560192048550,0.058941632509232,-0.080141134560108,0.050310812890530,-0.068500861525536,0.036841437220573,0.144182413816452,-0.159155741333961,-0.051704023033381));
res += mul(Get(s3,dx,-dy), float4x4(-0.166663765907288,-0.003563953796402,-0.015363115817308,0.005028411280364,0.086732700467110,0.080994099378586,0.093617804348469,-0.046034727245569,0.095100335776806,0.042941574007273,0.019258713349700,-0.004126381129026,0.069382943212986,-0.059451114386320,-0.153958916664124,-0.078416533768177));
res += mul(Get(s3,dx,0), float4x4(0.078985951840878,0.102801650762558,0.197595089673996,0.052750941365957,-0.131651803851128,-0.096820481121540,0.022907314822078,0.042024198919535,0.001932111103088,0.017955750226974,0.009930859319866,0.057032108306885,0.003294298192486,0.116198338568211,-0.013079053722322,-0.184130474925041));
res += mul(Get(s3,dx,dy), float4x4(0.079303197562695,0.044186394661665,0.118043981492519,-0.068414144217968,0.258840113878250,0.102761186659336,-0.098843239247799,0.063027419149876,0.000852861441672,-0.103915013372898,-0.041542451828718,0.023813156411052,-0.080308802425861,0.090569034218788,0.007089784368873,-0.038390427827835));
res = max(float4(0,0,0,0), res);
return res;
}
