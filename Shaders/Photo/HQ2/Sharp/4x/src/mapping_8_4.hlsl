sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.014842428267002,-0.021066503599286,-0.029624901711941,0.030087342485785,-0.080698296427727,0.007524855434895,-0.132494151592255,0.069656953215599,-0.008965111337602,-0.077559195458889,-0.035854559391737,-0.012780650518835,0.087083138525486,0.090749301016331,-0.009786061942577,-0.056705843657255));
res += mul(Get(s0,-dx,0), float4x4(0.065255850553513,0.031339395791292,0.110925085842609,0.100714743137360,0.035308439284563,0.069693133234978,-0.114424310624599,0.035949941724539,0.018532825633883,0.012458874844015,-0.026652425527573,0.040779586881399,0.131467059254646,-0.040381863713264,-0.098675712943077,-0.001722509274259));
res += mul(Get(s0,-dx,dy), float4x4(0.052134685218334,-0.039159148931503,-0.101924426853657,0.066320061683655,0.113046675920486,0.058617059141397,-0.047267276793718,0.056270431727171,-0.055234473198652,-0.084193825721741,-0.020122073590755,-0.068434968590736,-0.054933208972216,-0.195219680666924,0.067910827696323,0.100157059729099));
res += mul(Get(s0,0,-dy), float4x4(0.062435936182737,-0.051211100071669,0.014067520387471,0.068166837096214,-0.004663551691920,-0.030044695362449,-0.074656456708908,0.045963801443577,0.039406519383192,0.047306977212429,-0.017229394987226,0.088288456201553,-0.007878081873059,-0.029760215431452,-0.014412580989301,-0.051808521151543));
res += mul(Get(s0,0,0), float4x4(0.015568052418530,0.087435208261013,-0.016413001343608,-0.082494325935841,0.051362209022045,0.063518017530441,0.036763686686754,0.077067889273167,-0.004632132127881,0.146044865250587,0.151499733328819,0.085926190018654,-0.044634658843279,-0.005786453373730,-0.123546667397022,-0.065922304987907));
res += mul(Get(s0,0,dy), float4x4(-0.020952556282282,0.061850111931562,0.063506953418255,-0.146534785628319,0.064115047454834,0.207441225647926,-0.038302492350340,-0.034065019339323,0.027305090799928,-0.064195558428764,-0.022071227431297,-0.100857093930244,-0.064552776515484,-0.090607821941376,-0.002585254143924,0.047840613871813));
res += mul(Get(s0,dx,-dy), float4x4(0.022786509245634,-0.018437890335917,0.020924430340528,-0.001897744834423,-0.020303322002292,-0.074924580752850,-0.115046039223671,0.004130813758820,0.072070799767971,-0.017331898212433,-0.000675044022501,0.005810142029077,-0.029004862532020,-0.041675426065922,-0.004837488289922,-0.046582970768213));
res += mul(Get(s0,dx,0), float4x4(0.087689809501171,-0.016831411048770,0.023035855963826,0.012305337004364,-0.110274113714695,0.029594209045172,-0.069068707525730,0.080740563571453,0.019833873957396,-0.051301702857018,-0.008768850937486,-0.089958354830742,0.037697654217482,-0.077118813991547,-0.058515038341284,-0.073196031153202));
res += mul(Get(s0,dx,dy), float4x4(0.020383536815643,-0.018579404801130,0.004506776574999,-0.033580433577299,0.008724233135581,0.022836841642857,-0.055578202009201,0.025231866165996,-0.049384791404009,-0.057484276592731,-0.040335051715374,0.006811675149947,-0.064744129776955,-0.083056367933750,0.163661494851112,-0.050655722618103));
res += mul(Get(s1,-dx,-dy), float4x4(-0.001625640899874,0.043855547904968,0.061056513339281,0.090731211006641,0.076613284647465,-0.001270691282116,-0.031356878578663,-0.004128247033805,0.010634062811732,0.026520570740104,0.002661158097908,0.101447321474552,0.018376611173153,-0.000310576491756,0.049771077930927,0.008209991268814));
res += mul(Get(s1,-dx,0), float4x4(0.001721084816381,0.063461773097515,0.007637110538781,0.097764164209366,-0.043820023536682,0.075739040970802,-0.070255897939205,0.007801780477166,0.008839830756187,0.043599866330624,0.006172631401569,-0.002883036620915,-0.034324102103710,-0.022693490609527,0.031725399196148,-0.006234423257411));
res += mul(Get(s1,-dx,dy), float4x4(-0.018402352929115,0.097830899059772,0.063307240605354,-0.012443522922695,-0.098325610160828,-0.124784424901009,-0.040864132344723,-0.100117161870003,0.014495505020022,-0.086458891630173,0.038645394146442,0.055870849639177,-0.021287387236953,0.056156825274229,-0.020899938419461,-0.031311254948378));
res += mul(Get(s1,0,-dy), float4x4(0.076305344700813,0.148225784301758,-0.019227983430028,0.015359874814749,-0.088406220078468,-0.033444128930569,-0.094889126718044,-0.047950796782970,0.096401177346706,0.000078994926298,0.042930055409670,0.077941745519638,0.006936724297702,0.074895724654198,-0.029512157663703,0.035437703132629));
res += mul(Get(s1,0,0), float4x4(0.126457810401917,0.086221724748611,0.028675047680736,-0.038893669843674,0.127900555729866,0.012343647889793,0.101894997060299,-0.005272955168039,-0.087799899280071,0.119622975587845,-0.039962433278561,-0.064867302775383,-0.201616004109383,-0.010179830715060,0.019310692325234,-0.003698911517859));
res += mul(Get(s1,0,dy), float4x4(-0.059640381485224,-0.011549867689610,0.025274561718106,-0.012868424877524,-0.160619273781776,-0.065049119293690,-0.090843901038170,-0.065432645380497,-0.046466991305351,-0.059363279491663,-0.035530824214220,-0.139206245541573,-0.008239869959652,-0.021654000505805,0.036052424460649,0.007750012446195));
res += mul(Get(s1,dx,-dy), float4x4(-0.018653267994523,0.111773692071438,-0.010644511319697,0.043329540640116,-0.007896050810814,-0.079097166657448,-0.059541441500187,0.007824071682990,0.063283078372478,0.060203835368156,-0.027476903051138,0.046913579106331,0.059978235512972,0.137015432119370,-0.003981686197221,-0.045990437269211));
res += mul(Get(s1,dx,0), float4x4(-0.057530518621206,-0.018170960247517,-0.062018331140280,-0.061903476715088,-0.009645750746131,-0.142537057399750,-0.085539855062962,-0.061187785118818,-0.083553873002529,0.026728307828307,-0.009096830151975,0.010026222094893,0.030983386561275,0.001915517379530,0.019927104935050,0.028774661943316));
res += mul(Get(s1,dx,dy), float4x4(-0.064381070435047,0.087055079638958,0.027449959889054,-0.051293123513460,0.055120225995779,0.025620387867093,0.076759800314903,0.038571249693632,-0.038292631506920,-0.000227977594477,-0.004507708828896,-0.040623951703310,-0.053147476166487,-0.020677484571934,0.084506519138813,-0.056895367801189));
res += mul(Get(s2,-dx,-dy), float4x4(0.067458905279636,-0.099201411008835,-0.041420936584473,0.044394966214895,-0.024681428447366,-0.059142448008060,-0.018115548416972,-0.085122793912888,0.084924131631851,0.152056455612183,0.051292635500431,-0.026619015261531,-0.056936081498861,0.000399287237087,-0.023302646353841,0.025855630636215));
res += mul(Get(s2,-dx,0), float4x4(0.155513182282448,0.003230160335079,-0.058528810739517,0.055211931467056,0.045331381261349,0.018543565645814,0.111590258777142,-0.051883969455957,-0.044448252767324,0.005851218011230,0.077026933431625,-0.057179011404514,0.095117233693600,0.121706344187260,0.013485933654010,-0.133290156722069));
res += mul(Get(s2,-dx,dy), float4x4(0.049355827271938,-0.088401660323143,-0.075243733823299,0.086160346865654,-0.066871426999569,-0.018967308104038,0.047054067254066,-0.104808785021305,0.068855784833431,0.034080740064383,0.055360376834869,-0.081520065665245,0.076547116041183,0.062107175588608,-0.036330867558718,-0.039826195687056));
res += mul(Get(s2,0,-dy), float4x4(0.036980051547289,-0.073322311043739,-0.013789818622172,-0.038865759968758,-0.032496143132448,-0.013281551189721,0.062385372817516,-0.008895953185856,-0.071570649743080,0.005706430878490,-0.032350368797779,-0.020550521090627,-0.057827241718769,-0.026950931176543,-0.058354139328003,-0.009261683560908));
res += mul(Get(s2,0,0), float4x4(0.078239738941193,0.112803034484386,-0.008703354746103,-0.076559036970139,0.084972433745861,-0.083431147038937,-0.044031027704477,0.101341724395752,-0.119242750108242,-0.114205084741116,-0.148274213075638,0.141469225287437,0.035637579858303,0.063947886228561,-0.009302505291998,0.006414294242859));
res += mul(Get(s2,0,dy), float4x4(-0.068632908165455,-0.148884326219559,-0.003560780547559,0.063432723283768,0.049590900540352,0.040362216532230,0.001767851179466,0.065854355692863,-0.002468976425007,0.106045678257942,0.115798421204090,0.037757325917482,0.026956493034959,0.094383165240288,-0.005590533837676,0.047307748347521));
res += mul(Get(s2,dx,-dy), float4x4(-0.113469734787941,-0.074204944074154,-0.181955531239510,0.106310166418552,0.019691415131092,0.035818371921778,-0.078160017728806,0.001091508078389,-0.011653346009552,0.005208943504840,0.030256105586886,0.024739099666476,-0.021017909049988,-0.039325542747974,0.062057156115770,0.032983426004648));
res += mul(Get(s2,dx,0), float4x4(-0.021530283614993,-0.055994868278503,-0.118708424270153,-0.067371271550655,-0.024474011734128,-0.051276933401823,0.033661104738712,0.103619456291199,0.078297138214111,-0.076582521200180,-0.034898091107607,0.017982603982091,0.028354225680232,0.063241526484489,-0.018694447353482,0.013899852521718));
res += mul(Get(s2,dx,dy), float4x4(-0.072437107563019,-0.131401106715202,-0.085594139993191,0.104421816766262,0.062553025782108,0.129586979746819,0.125396713614464,-0.082520738244057,0.019411521032453,0.127880528569221,0.023864725604653,0.005928102415055,-0.048463083803654,0.098816178739071,-0.078056573867798,0.015443558804691));
res += mul(Get(s3,-dx,-dy), float4x4(-0.035349067300558,-0.018204886466265,-0.023562660440803,-0.026395983994007,-0.004831302911043,-0.021754221990705,-0.016615433618426,0.016435621306300,0.091228283941746,0.025756530463696,-0.013358318246901,-0.019084570929408,0.007474404759705,0.024364560842514,0.050949677824974,-0.027238739654422));
res += mul(Get(s3,-dx,0), float4x4(0.024542791768909,-0.085856586694717,-0.025180272758007,0.107056051492691,0.026741473004222,-0.039789389818907,0.095346689224243,0.090031780302525,0.071428142488003,-0.025615761056542,0.035547647625208,0.080082334578037,0.025598192587495,-0.000557786202990,-0.079542376101017,0.040777515619993));
res += mul(Get(s3,-dx,dy), float4x4(0.046197764575481,-0.125332757830620,0.011307424865663,0.051290143281221,-0.017163403332233,0.096203766763210,0.045048937201500,0.013027325272560,0.049093149602413,0.018505753949285,0.064849294722080,0.039255198091269,-0.015921782702208,-0.081423170864582,-0.018841141834855,0.081846974790096));
res += mul(Get(s3,0,-dy), float4x4(0.049249630421400,0.030349299311638,0.007524266839027,-0.080986216664314,0.093133091926575,0.082050196826458,0.056137721985579,0.094750620424747,-0.042524654418230,-0.000676172843669,0.023156825453043,-0.045623961836100,0.002704589394853,0.065846689045429,-0.086313270032406,0.006228656973690));
res += mul(Get(s3,0,0), float4x4(0.005466028116643,-0.010595125146210,-0.010943001136184,-0.007484379690140,0.087138809263706,0.060881439596415,0.030449535697699,-0.033320751041174,-0.075857095420361,0.011265899054706,-0.039151828736067,0.063636980950832,-0.000866690126713,0.038023028522730,-0.044821720570326,-0.018676035106182));
res += mul(Get(s3,0,dy), float4x4(0.015536569990218,-0.053539644926786,-0.035322807729244,-0.033510550856590,0.072038203477859,0.069223076105118,-0.111195020377636,-0.016934087499976,-0.022536998614669,0.103699684143066,-0.036426793783903,0.039321403950453,-0.063372872769833,-0.059649232774973,-0.064560458064079,0.073671758174896));
res += mul(Get(s3,dx,-dy), float4x4(-0.018221164122224,0.010695567354560,-0.002510303864256,0.039925377815962,0.093371622264385,-0.026382975280285,0.082591578364372,0.110244154930115,-0.017538825049996,0.160978347063065,0.045127239078283,-0.087883584201336,-0.054112453013659,-0.063102506101131,-0.064022950828075,-0.032930251210928));
res += mul(Get(s3,dx,0), float4x4(-0.071985721588135,-0.031854733824730,0.019397066906095,0.065972901880741,0.062646590173244,0.091102764010429,-0.077568307518959,-0.037432853132486,0.076701574027538,-0.034256130456924,-0.073592647910118,-0.006152755115181,0.041325539350510,-0.080517351627350,-0.115479052066803,-0.018448838964105));
res += mul(Get(s3,dx,dy), float4x4(0.028920747339725,0.035821828991175,0.026180217042565,0.027622351422906,-0.002257174812257,0.121608711779118,0.070854477584362,0.069728001952171,0.081197552382946,-0.014460578560829,-0.087711445987225,-0.003647606121376,-0.021510183811188,-0.009825034067035,-0.086871333420277,-0.030373293906450));
res = max(float4(0,0,0,0), res);
return res;
}
