sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.020424813032150,0.175220131874084,0.049111183732748,0.059311635792255,0.059596508741379,-0.109191626310349,-0.099403984844685,-0.081360958516598,0.018694996833801,-0.021183455362916,0.055767942219973,0.004796346649528,0.011014053598046,0.008782700635493,0.083164125680923,-0.001093759434298));
res += mul(Get(s0,-dx,0), float4x4(-0.139786645770073,0.033463507890701,-0.051281925290823,0.009664624929428,0.001387411612086,-0.088693924248219,-0.043599888682365,0.065776601433754,-0.019019672647119,0.148757606744766,0.114017561078072,0.010346419177949,0.000549644057173,0.119498573243618,0.028375625610352,0.046657249331474));
res += mul(Get(s0,-dx,dy), float4x4(0.009075310081244,0.011196339502931,-0.077505655586720,0.057709258049726,-0.000226915930398,-0.022204183042049,0.012724368833005,-0.029347807168961,-0.073438167572021,-0.050488244742155,0.017521612346172,-0.084694229066372,-0.084265358746052,0.125751018524170,-0.062438938766718,-0.079456351697445));
res += mul(Get(s0,0,-dy), float4x4(-0.093157790601254,-0.064991630613804,0.037821065634489,-0.026301676407456,-0.063101574778557,-0.023761177435517,0.030536789447069,0.160812929272652,-0.022944508120418,0.109906956553459,0.025593027472496,-0.025143373757601,-0.062223952263594,-0.051259644329548,0.036197070032358,0.017177082598209));
res += mul(Get(s0,0,0), float4x4(-0.028502535074949,-0.119430184364319,0.065072976052761,-0.013060439378023,0.042713735252619,0.096618242561817,-0.048406660556793,0.046369805932045,0.018152402713895,-0.109869249165058,-0.047211848199368,-0.035496540367603,0.011160472407937,-0.150312662124634,0.038249392062426,-0.137239873409271));
res += mul(Get(s0,0,dy), float4x4(0.001231277943589,-0.041691623628139,0.099129617214203,-0.017743706703186,-0.018759196624160,0.008753857575357,-0.059765763580799,-0.117597199976444,-0.024672329425812,0.034970037639141,0.022925637662411,-0.052890185266733,0.016972979530692,-0.024820862337947,0.006223518401384,-0.092080987989902));
res += mul(Get(s0,dx,-dy), float4x4(-0.084951952099800,-0.000185944925761,-0.057346060872078,0.043871115893126,0.015037030912936,0.002173280576244,-0.025843976065516,-0.193746134638786,-0.115798801183701,-0.055491395294666,-0.101283185184002,-0.034513231366873,-0.024501966312528,-0.013982824049890,0.121372744441032,-0.067559331655502));
res += mul(Get(s0,dx,0), float4x4(0.118445001542568,0.006903314497322,0.045749023556709,0.017295895144343,-0.131460145115852,0.016388719901443,-0.157756894826889,-0.148948699235916,-0.017263516783714,-0.007392602041364,0.018582070246339,-0.080811791121960,-0.009486002847552,-0.031119426712394,-0.006885198876262,-0.058227956295013));
res += mul(Get(s0,dx,dy), float4x4(0.021514464169741,0.010711497627199,-0.054802116006613,0.095825828611851,-0.056365486234426,-0.001820152625442,0.115335784852505,0.110476329922676,-0.070167295634747,-0.051936101168394,-0.187032654881477,-0.069955766201019,0.109416104853153,-0.040930006653070,-0.069750249385834,-0.063076928257942));
res += mul(Get(s1,-dx,-dy), float4x4(-0.049342017620802,0.056824039667845,-0.081776723265648,0.075635276734829,0.025698266923428,-0.035024348646402,0.063090577721596,-0.109828077256680,-0.027549222111702,0.018523709848523,-0.009934660978615,-0.119569420814514,0.099593222141266,-0.088707908987999,0.013024763204157,-0.003783395979553));
res += mul(Get(s1,-dx,0), float4x4(0.111479200422764,-0.016461944207549,0.081216521561146,0.114407487213612,0.095662854611874,-0.025766195729375,0.069912582635880,0.049211781471968,-0.013300533406436,0.089208357036114,-0.043946154415607,0.004675971809775,-0.015145932324231,-0.033018775284290,-0.098581254482269,0.042661476880312));
res += mul(Get(s1,-dx,dy), float4x4(0.032037582248449,-0.052072554826736,-0.013678517192602,-0.027311293408275,-0.003924195189029,0.177801549434662,-0.154678553342819,0.042732201516628,-0.153206780552864,-0.060033112764359,-0.056767065078020,0.010674014687538,0.050134032964706,-0.107919096946716,0.041065912693739,0.007117884233594));
res += mul(Get(s1,0,-dy), float4x4(0.015092203393579,-0.013155560009181,-0.055537614971399,-0.066033326089382,-0.006714309565723,-0.019945619627833,0.025002291426063,-0.065047241747379,-0.129350572824478,0.069157570600510,0.088178277015686,-0.015064473263919,-0.091177068650723,0.043049626052380,0.008169023320079,0.003464413573965));
res += mul(Get(s1,0,0), float4x4(0.135964170098305,0.205645918846130,-0.005254133604467,0.031102381646633,-0.070135332643986,-0.015195460990071,0.092512063682079,0.051135715097189,-0.004264765884727,0.079277239739895,0.037299159914255,-0.107207790017128,-0.040265522897243,0.095787867903709,0.036711480468512,0.014466048218310));
res += mul(Get(s1,0,dy), float4x4(-0.022431809455156,-0.066931262612343,-0.067771814763546,0.028572026640177,-0.077723026275635,0.116726979613304,-0.024590238928795,-0.104463487863541,-0.090615227818489,-0.040449697524309,0.050937607884407,-0.100923277437687,0.050391037017107,-0.014520440250635,0.099463462829590,0.033937789499760));
res += mul(Get(s1,dx,-dy), float4x4(0.126307860016823,0.011542384512722,-0.106123685836792,-0.069954276084900,-0.060803316533566,0.016591066494584,-0.086920209228992,0.089560806751251,-0.050081290304661,-0.050290424376726,0.029280005022883,-0.038847632706165,0.107270218431950,-0.082653656601906,-0.078626029193401,-0.053716935217381));
res += mul(Get(s1,dx,0), float4x4(0.041240453720093,0.167561098933220,0.074063487350941,-0.052803408354521,0.008585873991251,0.057737518101931,-0.079598747193813,-0.023945679888129,-0.077688679099083,0.013406071811914,-0.155395030975342,0.020558709278703,0.009800318628550,-0.092986352741718,0.047712579369545,0.076937831938267));
res += mul(Get(s1,dx,dy), float4x4(0.059302866458893,-0.183379143476486,-0.003168395487592,0.105149880051613,-0.027673911303282,0.030517619103193,-0.000971434987150,0.067045710980892,0.058932766318321,0.144086197018623,-0.027727650478482,0.009678618051112,-0.099655710160732,0.035637874156237,-0.099659428000450,0.008655943907797));
res += mul(Get(s2,-dx,-dy), float4x4(0.061912398785353,-0.100133083760738,0.100719958543777,-0.010478976182640,0.057939358055592,0.073400169610977,-0.041996601969004,0.102833941578865,-0.039903093129396,0.051497548818588,0.089739888906479,0.030990445986390,0.117026768624783,-0.097441382706165,-0.012871463783085,0.031884338706732));
res += mul(Get(s2,-dx,0), float4x4(0.137946113944054,0.018449729308486,0.007041107397527,-0.078774265944958,-0.031540110707283,0.031502075493336,-0.108307793736458,0.019908331334591,-0.049510300159454,0.036888405680656,0.085870698094368,0.110159091651440,-0.086225792765617,0.152697339653969,0.159041330218315,0.033535610884428));
res += mul(Get(s2,-dx,dy), float4x4(0.020938150584698,0.030619990080595,0.165695041418076,0.032605674117804,-0.043594352900982,0.026601377874613,0.013336404226720,0.022176066413522,-0.010316188447177,0.054925955832005,0.024188479408622,-0.089740231633186,0.019459431990981,0.305201709270477,-0.075944252312183,0.096381776034832));
res += mul(Get(s2,0,-dy), float4x4(-0.031484249979258,0.087586477398872,0.021908311173320,0.034125603735447,0.059769622981548,-0.080190725624561,-0.009812234900892,0.203358158469200,-0.035757310688496,0.063878536224365,-0.057586442679167,-0.075573772192001,0.034526657313108,0.139422237873077,-0.046375289559364,-0.184722006320953));
res += mul(Get(s2,0,0), float4x4(-0.073633842170238,-0.088164471089840,0.026889754459262,-0.015669446438551,-0.032659742981195,-0.057837046682835,0.078147232532501,-0.005852827802300,-0.046088747680187,0.133131384849548,-0.077271461486816,0.056105382740498,-0.101893015205860,-0.140616074204445,-0.123946018517017,-0.055682376027107));
res += mul(Get(s2,0,dy), float4x4(-0.076341502368450,0.084810152649879,0.016900958493352,-0.033855207264423,0.023002466186881,-0.065733902156353,-0.114973418414593,0.012894202023745,0.009634151123464,0.081088982522488,0.118208296597004,0.052854664623737,0.017620479688048,-0.004054115153849,0.121457494795322,0.176453903317451));
res += mul(Get(s2,dx,-dy), float4x4(0.071109667420387,-0.132807612419128,-0.048344478011131,-0.004136185161769,-0.056101649999619,-0.066719919443130,0.083584271371365,0.182961776852608,0.038620475679636,-0.077793851494789,-0.042942810803652,-0.057924881577492,-0.168112486600876,0.033394094556570,0.026180077344179,-0.166689038276672));
res += mul(Get(s2,dx,0), float4x4(-0.113267570734024,0.098334677517414,0.046052619814873,-0.102203130722046,-0.118366308510303,0.016982730478048,-0.017863029614091,-0.053124301135540,-0.012293419800699,0.040061898529530,-0.010130707174540,0.043335858732462,-0.079840086400509,0.054629601538181,-0.072102658450603,-0.140281349420547));
res += mul(Get(s2,dx,dy), float4x4(-0.157079800963402,-0.019023554399610,-0.005028178449720,-0.065533921122551,0.042637430131435,0.153002589941025,-0.053827833384275,-0.104244433343410,0.057746924459934,-0.009547408670187,0.104658409953117,0.072625905275345,-0.033360511064529,-0.056803621351719,0.077350579202175,-0.067324526607990));
res += mul(Get(s3,-dx,-dy), float4x4(0.089222081005573,0.044286970049143,-0.004270681180060,0.069389246404171,-0.044085372239351,-0.067283235490322,-0.008529387414455,-0.057502806186676,-0.029167158529162,-0.111782759428024,-0.028240606188774,-0.064071036875248,-0.004077438265085,-0.038451541215181,-0.001694339211099,-0.175578653812408));
res += mul(Get(s3,-dx,0), float4x4(-0.030170667916536,0.094061359763145,-0.041082657873631,-0.023298310115933,0.013212717138231,-0.015464926138520,-0.013416713103652,-0.007304964121431,-0.055426008999348,-0.029016472399235,0.009462229907513,-0.014965319074690,-0.029700083658099,0.077754303812981,0.103019922971725,0.030866086483002));
res += mul(Get(s3,-dx,dy), float4x4(-0.027020005509257,-0.079433530569077,0.016553547233343,0.022200543433428,-0.080553449690342,-0.121981896460056,0.003697672626004,0.041763368993998,0.103358961641788,-0.031624622642994,0.025361120700836,0.038293749094009,0.051878191530704,-0.044189635664225,0.034216292202473,0.019870175048709));
res += mul(Get(s3,0,-dy), float4x4(-0.075502805411816,-0.037519738078117,0.062652982771397,-0.026685489341617,-0.103970043361187,-0.029211379587650,-0.225112661719322,-0.093579322099686,0.061263158917427,-0.039816651493311,0.076744817197323,-0.014829266816378,0.094725415110588,0.133795261383057,0.010587706230581,0.073124662041664));
res += mul(Get(s3,0,0), float4x4(0.032934371381998,-0.038814228028059,-0.022302169352770,-0.009546305984259,-0.019294455647469,-0.174923747777939,0.005418382119387,-0.024310711771250,0.087946526706219,-0.075021721422672,0.093319788575172,-0.041371647268534,0.003121579298750,0.017836101353168,-0.076498158276081,0.035013183951378));
res += mul(Get(s3,0,dy), float4x4(0.019417766481638,-0.032712168991566,0.025551214814186,0.068980798125267,-0.034907456487417,-0.155388996005058,0.142558097839355,0.053577411919832,-0.023332480341196,0.032960511744022,-0.013587823137641,-0.072683550417423,-0.001615856541321,-0.014876487664878,-0.142285913228989,-0.041295167058706));
res += mul(Get(s3,dx,-dy), float4x4(0.103854387998581,0.088047690689564,-0.021952822804451,-0.025500748306513,0.000684768019710,0.007695214822888,-0.012305438518524,-0.065284043550491,-0.055282022804022,0.037003830075264,-0.049469579011202,-0.047459367662668,0.023057555779815,0.019954912364483,-0.051998913288116,-0.013734618201852));
res += mul(Get(s3,dx,0), float4x4(0.152312591671944,-0.017780385911465,0.027513345703483,0.081468045711517,0.027440939098597,-0.017893053591251,0.044281393289566,0.026744328439236,-0.000906774366740,-0.009353589266539,0.087237887084484,0.096160911023617,-0.041376266628504,0.014991642907262,-0.028720185160637,0.047826744616032));
res += mul(Get(s3,dx,dy), float4x4(-0.023162657395005,-0.038901265710592,-0.124111101031303,0.037436753511429,-0.001393779879436,0.034441754221916,-0.072981171309948,0.064635053277016,0.053579136729240,0.125606790184975,-0.099340721964836,0.036735314875841,0.016074189916253,0.108535885810852,0.098860070109367,-0.092238090932369));
res = max(float4(0,0,0,0), res);
return res;
}
