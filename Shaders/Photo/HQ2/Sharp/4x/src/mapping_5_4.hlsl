sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008043079636991,-0.114866077899933,0.013449687510729,0.083274081349373,-0.013061105273664,-0.088634692132473,0.090339161455631,-0.043782990425825,0.034475501626730,0.107165805995464,-0.097453571856022,-0.043310057371855,0.031705394387245,0.004144545644522,-0.120440371334553,-0.022998018190265));
res += mul(Get(s0,-dx,0), float4x4(-0.030006721615791,-0.092051096260548,-0.022255387157202,-0.064432226121426,-0.084799557924271,-0.082862883806229,0.033814676105976,-0.047869186848402,0.079163983464241,0.076534248888493,0.055208895355463,-0.062548488378525,-0.061215259134769,0.041721109300852,0.070612646639347,0.090946637094021));
res += mul(Get(s0,-dx,dy), float4x4(-0.021775774657726,-0.092236064374447,0.109071314334869,0.071151994168758,-0.109467014670372,0.015330873429775,-0.072673372924328,-0.030844172462821,0.146925821900368,0.204609140753746,-0.038334030658007,0.093860805034637,0.011486065573990,0.018429461866617,-0.107940658926964,-0.088806860148907));
res += mul(Get(s0,0,-dy), float4x4(0.124674730002880,-0.026231842115521,0.009357915259898,0.181617826223373,0.047612428665161,0.065190151333809,-0.050660450011492,-0.025694651529193,-0.034942504018545,-0.041326154023409,0.101566880941391,0.105723209679127,0.009105938486755,0.213317498564720,0.020587950944901,-0.002625861670822));
res += mul(Get(s0,0,0), float4x4(0.018664870411158,0.105219997465611,-0.096802152693272,-0.134187579154968,0.063615448772907,-0.173597931861877,0.057820346206427,-0.096084654331207,-0.000374418974388,-0.214656546711922,-0.058943938463926,-0.018396174535155,-0.003164841560647,0.051544602960348,0.154097884893417,0.091596633195877));
res += mul(Get(s0,0,dy), float4x4(0.132045224308968,0.079773999750614,0.091112747788429,-0.043530855327845,0.074998758733273,0.074941091239452,-0.013840594328940,-0.090727545320988,-0.050583381205797,-0.066054366528988,-0.068043388426304,-0.028661500662565,0.052069675177336,0.004355475772172,0.073939397931099,0.094922989606857));
res += mul(Get(s0,dx,-dy), float4x4(0.145558819174767,0.050322849303484,-0.063666269183159,-0.127932205796242,-0.091927677392960,0.071225404739380,-0.036412648856640,-0.116071052849293,-0.095246568322182,0.030093548819423,0.003163742134348,-0.019967542961240,0.055258519947529,-0.060232199728489,0.106102965772152,0.102222353219986));
res += mul(Get(s0,dx,0), float4x4(-0.030044373124838,0.056338265538216,0.000373813760234,0.060006033629179,-0.056323666125536,0.207178354263306,-0.083211831748486,-0.043765913695097,-0.002117098076269,0.102993480861187,0.030720457434654,-0.044457349926233,0.105290733277798,0.027512250468135,0.104701593518257,-0.078807279467583));
res += mul(Get(s0,dx,dy), float4x4(0.113212689757347,0.032326053828001,0.077666103839874,-0.014292273670435,0.094792559742928,0.174324885010719,0.029778383672237,-0.148559510707855,-0.089227013289928,-0.003684951690957,0.103231519460678,0.057936836034060,0.018274132162333,0.093155823647976,-0.023425292223692,0.087991371750832));
res += mul(Get(s1,-dx,-dy), float4x4(0.010047831572592,-0.023667544126511,0.170731142163277,0.016509626060724,-0.004299119580537,0.026581110432744,0.092848628759384,0.116544365882874,0.009434074163437,-0.138183012604713,0.011828690767288,0.065994687378407,-0.017003323882818,0.183855429291725,-0.130295947194099,0.069682717323303));
res += mul(Get(s1,-dx,0), float4x4(-0.063336282968521,-0.034939255565405,0.060626234859228,0.086437769234180,-0.033359460532665,-0.021500699222088,-0.003512962488458,-0.099631093442440,0.011853185482323,-0.027730369940400,0.001632594736293,-0.029343632981181,0.035667039453983,0.032974909991026,-0.155676811933517,0.064875081181526));
res += mul(Get(s1,-dx,dy), float4x4(0.072511576116085,0.052939489483833,-0.077018305659294,0.004352864809334,0.123664945363998,0.001741849468090,0.013710754923522,0.061700031161308,0.038797881454229,-0.083557449281216,0.027732484042645,-0.004669518675655,0.058326020836830,-0.081844277679920,0.045315567404032,-0.048893235623837));
res += mul(Get(s1,0,-dy), float4x4(0.053727947175503,0.019317053258419,-0.062244523316622,0.072498127818108,0.014930109493434,0.047025609761477,0.111110135912895,0.018366599455476,0.039050329476595,0.003992216195911,-0.030497431755066,0.055115960538387,0.023385036736727,0.000793786195572,-0.096693843603134,-0.072204783558846));
res += mul(Get(s1,0,0), float4x4(-0.019074739888310,-0.148109093308449,0.028262220323086,0.023651063442230,0.104278579354286,-0.201323300600052,0.069697074592113,-0.016521167010069,-0.082072325050831,-0.011664594523609,0.125608876347542,0.078032717108727,0.166560053825378,0.127439334988594,-0.035092193633318,-0.070146441459656));
res += mul(Get(s1,0,dy), float4x4(-0.061828698962927,-0.009205709211528,0.062070861458778,0.039636138826609,0.107729807496071,-0.057553861290216,0.053640365600586,0.064044266939163,-0.099253304302692,0.015276922844350,0.115979373455048,0.001659155939706,0.135328441858292,0.156826332211494,-0.040799725800753,-0.031812604516745));
res += mul(Get(s1,dx,-dy), float4x4(0.043495226651430,-0.189281240105629,0.019383758306503,0.052267570048571,-0.105329655110836,0.071414329111576,-0.019855529069901,0.019140511751175,-0.021717831492424,-0.120912656188011,0.002761931158602,0.019368972629309,-0.012627635151148,0.136267602443695,-0.041348680853844,-0.024713343009353));
res += mul(Get(s1,dx,0), float4x4(0.084046490490437,-0.072887301445007,-0.114895083010197,0.098823063075542,0.104552097618580,0.076507754623890,-0.046416092664003,0.091043464839458,0.072875611484051,-0.056612081825733,-0.016571357846260,-0.051861975342035,0.010138223879039,-0.042480360716581,-0.215730398893356,0.000133582667331));
res += mul(Get(s1,dx,dy), float4x4(-0.013653567992151,0.118979454040527,-0.021544478833675,-0.008883102796972,-0.029094139114022,0.041950281709433,0.030898923054338,-0.009530643932521,-0.048099864274263,0.097289636731148,-0.016424518078566,0.027570253238082,0.019331112504005,-0.093721546232700,0.060572557151318,-0.011891308240592));
res += mul(Get(s2,-dx,-dy), float4x4(-0.081204041838646,-0.028538998216391,-0.043409343808889,0.047597490251064,-0.153573110699654,0.069182351231575,0.263078629970551,0.030591405928135,-0.107489570975304,0.043210644274950,0.016536397859454,0.081709347665310,-0.010459850542247,-0.047942914068699,0.087188243865967,0.025882422924042));
res += mul(Get(s2,-dx,0), float4x4(-0.045862756669521,-0.003451600205153,0.113145910203457,0.140711992979050,-0.058302223682404,-0.000051573559176,0.121054820716381,0.096880920231342,0.097950272262096,0.002966704778373,-0.022551054134965,0.087242744863033,0.038016133010387,0.008446870371699,0.171233400702477,-0.041112452745438));
res += mul(Get(s2,-dx,dy), float4x4(-0.020273493602872,-0.033230040222406,0.070766419172287,0.036149952560663,-0.075010992586613,-0.056387931108475,0.127373874187469,-0.082408085465431,0.077569447457790,0.042319837957621,0.038341440260410,-0.019658209756017,0.007982433773577,-0.060649868100882,-0.093956492841244,0.034287098795176));
res += mul(Get(s2,0,-dy), float4x4(-0.088840380311012,-0.076375350356102,-0.013353564776480,0.005369463935494,0.096805401146412,-0.130852118134499,-0.051919881254435,-0.050320383161306,-0.082556962966919,-0.013060929253697,0.032779622823000,-0.108878992497921,0.051522478461266,-0.052243638783693,0.015162770636380,0.088403373956680));
res += mul(Get(s2,0,0), float4x4(0.012155098840594,-0.077091433107853,-0.055797472596169,0.034417856484652,0.234802961349487,-0.115046471357346,0.065263599157333,0.080089628696442,-0.007186728063971,0.002893605036661,-0.063318744301796,-0.018874822184443,0.045282375067472,-0.012523641809821,-0.001902592252009,0.029921319335699));
res += mul(Get(s2,0,dy), float4x4(-0.007130489218980,-0.087191805243492,-0.277730375528336,-0.074027463793755,0.026543021202087,-0.062418956309557,-0.092403598129749,-0.053043529391289,0.110346481204033,0.065754726529121,0.060318749397993,-0.214016348123550,0.084700509905815,0.104530297219753,0.092253200709820,-0.034496586769819));
res += mul(Get(s2,dx,-dy), float4x4(0.051591910421848,-0.001491697970778,0.100798554718494,0.063890978693962,-0.110639207065105,0.000142828823300,-0.015013121068478,-0.007856719195843,-0.075518272817135,-0.022131960839033,-0.009764198213816,0.051368113607168,-0.118644602596760,-0.006405991036445,-0.114012233912945,0.124848701059818));
res += mul(Get(s2,dx,0), float4x4(0.150320932269096,-0.024162093177438,-0.075185380876064,-0.145926177501678,0.101693771779537,0.147679626941681,0.003837780794129,0.019120424985886,0.030935131013393,0.226410090923309,0.042155832052231,-0.036258608102798,-0.069732435047626,-0.017550030723214,-0.025270361453295,0.019093673676252));
res += mul(Get(s2,dx,dy), float4x4(0.083218961954117,-0.031798653304577,-0.063372880220413,-0.044289279729128,0.108964540064335,0.056905962526798,-0.014383238740265,-0.020966324955225,0.030307404696941,0.127454176545143,-0.048603650182486,-0.023415233939886,-0.057359874248505,-0.072595387697220,0.111560761928558,-0.011223570443690));
res += mul(Get(s3,-dx,-dy), float4x4(-0.057465955615044,0.036380849778652,-0.088224664330482,0.045229822397232,-0.098370343446732,-0.083891816437244,-0.087722085416317,0.154404267668724,-0.046531267464161,0.129086405038834,-0.074703007936478,0.053805302828550,-0.131053179502487,-0.118160270154476,0.049989115446806,-0.081216685473919));
res += mul(Get(s3,-dx,0), float4x4(-0.100185379385948,-0.075612425804138,0.046883109956980,-0.016561172902584,0.081186376512051,-0.090217716991901,0.098788820207119,-0.051685810089111,-0.111495368182659,-0.063165687024593,-0.037138544023037,0.081298604607582,0.003482426749542,-0.180596500635147,-0.176429837942123,0.001240841229446));
res += mul(Get(s3,-dx,dy), float4x4(-0.106837153434753,-0.090284757316113,0.042352132499218,-0.087455093860626,0.003651243168861,0.077289536595345,-0.041907124221325,-0.029481098055840,0.066636271774769,-0.006951993331313,-0.031519018113613,-0.008634843863547,-0.082185551524162,-0.035717602819204,-0.054079998284578,-0.091563723981380));
res += mul(Get(s3,0,-dy), float4x4(-0.040925145149231,0.073343820869923,0.051549427211285,0.000667895190418,0.021870259195566,-0.002333010314032,0.064775027334690,0.017660384997725,-0.090906679630280,-0.075403302907944,-0.052097100764513,-0.111813172698021,-0.058681465685368,-0.029743345454335,-0.011773012578487,-0.025062879547477));
res += mul(Get(s3,0,0), float4x4(-0.125977441668510,-0.011739008128643,0.037019353359938,0.109522059559822,-0.022129984572530,-0.117296293377876,0.028333898633718,-0.008810926228762,-0.169210806488991,0.195476710796356,0.043047282844782,0.138002350926399,-0.097391352057457,0.048083767294884,-0.084390819072723,-0.114409655332565));
res += mul(Get(s3,0,dy), float4x4(-0.129081130027771,-0.064581736922264,-0.048991028219461,-0.072855912148952,0.041813153773546,0.037022836506367,-0.166437387466431,0.019679170101881,-0.082613766193390,0.047295156866312,-0.094687916338444,0.005741356406361,-0.080880880355835,-0.161912173032761,0.008367421105504,-0.024671865627170));
res += mul(Get(s3,dx,-dy), float4x4(0.009823881089687,0.105640120804310,0.035328581929207,-0.091554731130600,-0.077946707606316,0.132288709282875,0.027506774291396,0.042462751269341,-0.015290088020265,0.038357902318239,0.191185295581818,-0.076923288404942,-0.009561931714416,0.148940175771713,-0.125576853752136,0.081334963440895));
res += mul(Get(s3,dx,0), float4x4(-0.086392208933830,0.073973208665848,0.140664398670197,0.066335052251816,0.071674890816212,0.044793993234634,-0.035094469785690,-0.049065619707108,0.032739501446486,0.036029245704412,0.023365195840597,-0.162587866187096,-0.135507777333260,0.043857827782631,-0.042562507092953,-0.020067080855370));
res += mul(Get(s3,dx,dy), float4x4(0.156103730201721,0.053875960409641,-0.045950330793858,-0.097645223140717,0.203303575515747,0.005667977966368,-0.052798401564360,0.056249085813761,0.101385802030563,-0.079111099243164,-0.046146631240845,-0.152998194098473,0.044058196246624,0.081148214638233,-0.008588269352913,-0.007738261017948));
res = max(float4(0,0,0,0), res);
return res;
}
