sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.021939195692539,0.023165190592408,0.069371908903122,0.077656418085098,-0.042455706745386,0.021403575316072,0.072624161839485,-0.095577158033848,-0.050799980759621,0.041654221713543,-0.042509082704782,-0.054223254323006,0.116884604096413,-0.025054108351469,-0.024904156103730,0.036455940455198));
res += mul(Get(s0,-dx,0), float4x4(0.049560610204935,0.010592545382679,-0.071122623980045,0.017418747767806,-0.055192351341248,0.091381810605526,-0.035491917282343,0.019903006032109,-0.028375571593642,0.024296693503857,-0.084106259047985,-0.049407839775085,0.098858408629894,-0.010839495807886,0.120376743376255,-0.125795841217041));
res += mul(Get(s0,-dx,dy), float4x4(0.038607958704233,0.038500700145960,0.054988302290440,-0.012534002773464,-0.069177553057671,-0.034250460565090,0.046793092042208,-0.081363759934902,-0.016437986865640,0.007033923175186,0.150113403797150,0.063128732144833,0.024233536794782,0.010813254863024,-0.082026876509190,0.005647830665112));
res += mul(Get(s0,0,-dy), float4x4(0.048581980168819,0.111177295446396,0.000982586061582,0.036320343613625,0.082436025142670,0.007398298941553,0.192948669195175,-0.054620176553726,-0.010893952101469,0.088856168091297,-0.047518409788609,-0.036393903195858,0.068124338984489,-0.099175415933132,0.112376190721989,0.076385505497456));
res += mul(Get(s0,0,0), float4x4(-0.050209101289511,0.002772086299956,-0.012493393383920,-0.069210030138493,-0.053479205816984,0.013219369575381,-0.020163852721453,0.019592195749283,0.020518835633993,0.002479294314981,0.025976292788982,-0.051187857985497,0.017834382131696,-0.082562401890755,0.006064603105187,-0.136005714535713));
res += mul(Get(s0,0,dy), float4x4(0.064247913658619,0.120233274996281,-0.029240319505334,0.024548282846808,-0.023364353924990,0.115961872041225,0.027160936966538,-0.056897785514593,0.049933899194002,0.009399329312146,0.086350798606873,-0.052067760378122,0.067185543477535,0.024748614057899,-0.018310246989131,-0.055931262671947));
res += mul(Get(s0,dx,-dy), float4x4(0.092870868742466,0.023600082844496,-0.096517302095890,0.016563907265663,-0.000320893479511,-0.014897411689162,0.249843165278435,0.007407652679831,-0.081425309181213,0.011212114244699,0.096078768372536,-0.058126863092184,0.092134147882462,-0.045886084437370,0.095337681472301,0.090987786650658));
res += mul(Get(s0,dx,0), float4x4(-0.026601260527968,0.035214018076658,-0.020175557583570,0.020782275125384,0.057634618133307,0.029765760526061,-0.074081480503082,0.025112029165030,0.032467842102051,-0.092668563127518,0.061574231833220,0.092072412371635,-0.054585419595242,-0.018831970170140,-0.042771507054567,0.057825826108456));
res += mul(Get(s0,dx,dy), float4x4(0.127739414572716,-0.015852989628911,0.010298589244485,0.007691190578043,-0.124998480081558,-0.050107080489397,0.051692087203264,-0.039140503853559,0.052230037748814,0.102742739021778,-0.003358359448612,0.039726458489895,-0.049582086503506,-0.059745628386736,-0.102196648716927,0.023455386981368));
res += mul(Get(s1,-dx,-dy), float4x4(-0.106195747852325,0.044275667518377,-0.077160052955151,0.044151078909636,-0.018489468842745,0.074833117425442,-0.008336685597897,0.014494868926704,0.000152482301928,-0.097585611045361,-0.068196594715118,-0.068083517253399,0.089738316833973,0.062054269015789,-0.040930688381195,0.089027620851994));
res += mul(Get(s1,-dx,0), float4x4(0.079932421445847,0.163783833384514,-0.043318044394255,-0.029294069856405,0.063081368803978,-0.052211485803127,-0.007089422084391,0.042375046759844,-0.000673034694046,0.157109439373016,0.009254976175725,0.139503195881844,0.000446905818535,-0.040606480091810,0.014203809201717,-0.014586372300982));
res += mul(Get(s1,-dx,dy), float4x4(-0.047420490533113,0.191425353288651,-0.091305516660213,-0.042761851102114,-0.023620609194040,0.077621653676033,0.006013162434101,0.027833925560117,-0.036127556115389,-0.095389850437641,-0.023894939571619,0.099456295371056,0.065612688660622,-0.054200187325478,-0.005101655609906,-0.084082983434200));
res += mul(Get(s1,0,-dy), float4x4(-0.004727909341455,0.045381594449282,0.009457197040319,-0.021955346688628,0.034711252897978,-0.067901037633419,-0.045507159084082,-0.026361634954810,0.099238581955433,-0.075405366718769,-0.016000978648663,-0.008226810954511,-0.058932714164257,0.006878627929837,0.022227054461837,-0.025768123567104));
res += mul(Get(s1,0,0), float4x4(-0.001356302294880,0.081880055367947,-0.024752266705036,-0.023780783638358,0.024305587634444,-0.022958111017942,0.086453706026077,0.045684352517128,-0.047383073717356,0.027476867660880,-0.112911731004715,0.044505350291729,-0.053289197385311,-0.040894187986851,-0.027316261082888,-0.044017303735018));
res += mul(Get(s1,0,dy), float4x4(0.079318270087242,0.015141060575843,-0.065990269184113,-0.040848545730114,0.072873063385487,-0.057319134473801,0.014567529782653,0.074898555874825,0.089136905968189,-0.085125476121902,0.018103254958987,-0.055682424455881,0.013729980215430,0.045501235872507,-0.031073952093720,0.013050020672381));
res += mul(Get(s1,dx,-dy), float4x4(0.051163773983717,0.046226475387812,-0.028904518112540,-0.068481825292110,0.019887959584594,-0.022509826347232,0.058508776128292,-0.034569453448057,-0.003307543462142,-0.041576873511076,-0.086701326072216,-0.087161242961884,0.007102031726390,-0.035341285169125,0.075073309242725,0.024409666657448));
res += mul(Get(s1,dx,0), float4x4(0.017858663573861,-0.012707877904177,-0.113253764808178,-0.063129186630249,-0.032995261251926,-0.047305565327406,-0.016310635954142,0.082306578755379,0.008935320191085,-0.041353330016136,-0.088740579783916,-0.071654714643955,-0.128711268305779,0.020463367924094,0.161095976829529,0.077461108565331));
res += mul(Get(s1,dx,dy), float4x4(-0.144948288798332,0.014888056553900,-0.055154897272587,-0.139738976955414,-0.084896206855774,-0.057713635265827,0.061742082238197,0.123364552855492,-0.052544426172972,0.007994495332241,-0.007740736939013,-0.128130644559860,-0.060601636767387,-0.043558154255152,0.091973818838596,0.050673294812441));
res += mul(Get(s2,-dx,-dy), float4x4(0.042554140090942,-0.002350748283789,0.061396438628435,0.014827933162451,0.081146582961082,-0.010916328988969,0.110307134687901,0.012756897136569,0.019704073667526,-0.011080401949584,0.014005393721163,0.020380774512887,-0.056413892656565,-0.060671273618937,0.052001155912876,-0.008844080381095));
res += mul(Get(s2,-dx,0), float4x4(-0.019339779391885,0.037513878196478,-0.000668561260682,0.099010013043880,-0.092052437365055,0.104728102684021,0.079157136380672,-0.033094972372055,-0.048735298216343,-0.013670440763235,-0.018275575712323,0.067725785076618,0.105232506990433,0.011965853162110,-0.051326986402273,0.006908125244081));
res += mul(Get(s2,-dx,dy), float4x4(-0.010900544002652,-0.031210472807288,-0.085142031311989,0.048889201134443,-0.056866507977247,0.082398705184460,-0.053775191307068,0.006648819427937,0.030740369111300,0.034138228744268,0.018595723435283,-0.063323803246021,0.062720142304897,-0.075680710375309,0.077759467065334,-0.022083526477218));
res += mul(Get(s2,0,-dy), float4x4(-0.066574610769749,-0.037123035639524,-0.063004165887833,-0.055280022323132,0.044655445963144,-0.041618049144745,-0.018233133479953,-0.015473593026400,0.020024420693517,0.031693302094936,-0.053111985325813,0.028506776317954,0.000941408739891,-0.039763320237398,-0.006259198300540,0.064549975097179));
res += mul(Get(s2,0,0), float4x4(0.084178403019905,0.035161010921001,-0.006461065262556,-0.086852125823498,-0.131277665495872,0.022025626152754,0.005581954494119,-0.126081556081772,0.024023426696658,0.029518086463213,0.035457294434309,-0.041910782456398,-0.041949253529310,-0.050075180828571,-0.103214770555496,-0.041623834520578));
res += mul(Get(s2,0,dy), float4x4(0.024675328284502,-0.149834737181664,0.060670077800751,-0.032219987362623,-0.038175281137228,-0.059896994382143,-0.057787254452705,0.023067969828844,-0.036289107054472,0.026969943195581,0.084633260965347,0.006406090222299,0.042404860258102,-0.086721256375313,-0.023388694971800,0.008471738547087));
res += mul(Get(s2,dx,-dy), float4x4(-0.051221374422312,-0.017374282702804,-0.028157161548734,-0.000594800862018,-0.227150857448578,0.058032725006342,0.155449584126472,-0.035315714776516,-0.005476260557771,0.046155538409948,-0.011881571263075,-0.051548745483160,0.106572508811951,-0.021824842318892,0.023356346413493,0.002736820373684));
res += mul(Get(s2,dx,0), float4x4(0.066242992877960,-0.037030890583992,-0.019982222467661,0.025426497682929,-0.013278366997838,0.083951964974403,0.154206454753876,-0.011780711822212,-0.085728071630001,0.116261914372444,0.276369601488113,-0.006843473762274,-0.034122135490179,-0.005521815735847,0.040648255497217,0.009480470791459));
res += mul(Get(s2,dx,dy), float4x4(-0.068818643689156,-0.140305131673813,0.025655955076218,0.003452081698924,-0.081193648278713,-0.004095930140465,0.004874017555267,0.075204007327557,-0.007656465750188,-0.187295019626617,-0.024714842438698,-0.041656102985144,-0.135306090116501,-0.096697039902210,-0.042578496038914,0.005295804701746));
res += mul(Get(s3,-dx,-dy), float4x4(0.014585106633604,0.006138806231320,-0.080478012561798,0.015595817938447,-0.069459654390812,0.055949151515961,0.001098721520975,0.023620974272490,-0.109967201948166,-0.063029125332832,0.009623181074858,-0.053169447928667,0.006850334350020,0.028778312727809,0.102680735290051,-0.024485994130373));
res += mul(Get(s3,-dx,0), float4x4(-0.122982367873192,-0.037139274179935,0.050495963543653,-0.061242740601301,0.054062686860561,0.023579297587276,-0.066076576709747,0.038138806819916,-0.002776196226478,-0.095988340675831,-0.146416857838631,-0.013573200441897,-0.042782180011272,-0.016941133886576,0.011016263626516,-0.104629501700401));
res += mul(Get(s3,-dx,dy), float4x4(0.026274610310793,0.060808226466179,0.106204703450203,-0.078542008996010,0.056968919932842,-0.059542503207922,0.101551525294781,0.103751808404922,-0.041160501539707,-0.050500128418207,0.043025031685829,-0.080861963331699,-0.033968701958656,-0.120002008974552,0.002652255585417,-0.076613806188107));
res += mul(Get(s3,0,-dy), float4x4(0.056443449109793,0.003270915010944,0.056246694177389,-0.045338571071625,0.005799302831292,-0.051695078611374,-0.027043541893363,-0.060065340250731,-0.108694791793823,-0.019614199176431,0.009927798993886,-0.024938642978668,0.059481628239155,0.015721905976534,0.031055314466357,-0.101724244654179));
res += mul(Get(s3,0,0), float4x4(0.012878596782684,0.056405335664749,-0.144677326083183,-0.045228838920593,0.012544912286103,-0.055193614214659,0.036923073232174,0.028134578838944,-0.119484417140484,0.015244413167238,0.090428628027439,0.057147696614265,0.096487268805504,0.012049658223987,-0.050399851053953,-0.003352764528245));
res += mul(Get(s3,0,dy), float4x4(-0.070466428995132,-0.049226775765419,0.037727300077677,0.026833401992917,0.086213439702988,0.000640502490569,-0.071151196956635,0.063284449279308,0.010656936094165,0.018769754096866,-0.088766336441040,-0.001391028752550,0.031757168471813,-0.002259940607473,0.013108757324517,0.054319705814123));
res += mul(Get(s3,dx,-dy), float4x4(0.071222290396690,-0.014251961372793,-0.116006620228291,0.001987235154957,0.042728170752525,-0.007665361743420,-0.043237932026386,0.023764481768012,0.139108225703239,0.120489925146103,0.038423787802458,-0.028554949909449,-0.016047280281782,0.065892003476620,-0.098816506564617,0.129629835486412));
res += mul(Get(s3,dx,0), float4x4(0.037296894937754,-0.048185583204031,-0.072839044034481,-0.122417233884335,-0.091747663915157,-0.013786626048386,0.102892674505711,0.075369901955128,-0.011375368572772,0.061028469353914,-0.008518717251718,-0.079683728516102,0.050951208919287,-0.003659638809040,-0.030005719512701,-0.054496705532074));
res += mul(Get(s3,dx,dy), float4x4(0.004480697214603,0.022028513252735,-0.086492873728275,-0.011244294233620,-0.029717633500695,0.070345275104046,-0.029788646847010,0.072697319090366,0.065488092601299,-0.070408888161182,0.015183290466666,-0.066327020525932,0.023491937667131,-0.096163786947727,0.054474249482155,-0.015575713478029));
res = max(float4(0,0,0,0), res);
return res;
}
