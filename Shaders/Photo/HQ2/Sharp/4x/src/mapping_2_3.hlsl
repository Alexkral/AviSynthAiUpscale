sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.036440286785364,0.064926154911518,-0.016177359968424,-0.045317497104406,0.132157057523727,0.139348641037941,-0.043940566480160,-0.114379957318306,0.005664088763297,0.013452809303999,0.085311539471149,-0.098834477365017,-0.108659461140633,0.090531773865223,-0.103095263242722,0.054728999733925));
res += mul(Get(s0,-dx,0), float4x4(0.044917959719896,-0.035923954099417,-0.095689944922924,-0.142924621701241,-0.075634248554707,-0.008702691644430,-0.030022392049432,0.032357402145863,0.003386248601601,0.130998209118843,0.066628783941269,-0.066914565861225,-0.119336076080799,0.140438437461853,-0.064285263419151,-0.171578377485275));
res += mul(Get(s0,-dx,dy), float4x4(-0.042370364069939,0.026624947786331,0.116146020591259,0.097084075212479,-0.019898710772395,-0.088710345327854,-0.029215816408396,0.124150663614273,-0.122372061014175,0.086831375956535,0.123414084315300,-0.050362650305033,0.062185790389776,0.077794425189495,-0.104206867516041,-0.182460263371468));
res += mul(Get(s0,0,-dy), float4x4(0.005630237981677,-0.000270428921795,0.082030504941940,0.137063205242157,0.015573387034237,0.019344126805663,-0.093978710472584,0.225867822766304,-0.112112797796726,-0.102247312664986,-0.091675199568272,0.081524409353733,0.026166202500463,-0.038832858204842,0.035171598196030,0.094678632915020));
res += mul(Get(s0,0,0), float4x4(-0.006700783036649,-0.051764328032732,0.107964262366295,-0.064324684441090,0.009015750139952,-0.068513773381710,-0.026706265285611,-0.014932982623577,-0.012071607634425,-0.042371116578579,0.082293935120106,0.085021443665028,-0.054748393595219,0.068053521215916,-0.009952175430954,-0.117613762617111));
res += mul(Get(s0,0,dy), float4x4(-0.000172299944097,-0.060959249734879,0.028773397207260,-0.025912355631590,-0.116963230073452,-0.054382927715778,-0.155811190605164,-0.032504126429558,-0.024262253195047,0.039304040372372,-0.124965295195580,-0.109763607382774,-0.022875299677253,0.117028415203094,0.054590318351984,-0.044158484786749));
res += mul(Get(s0,dx,-dy), float4x4(-0.012492322362959,-0.044557280838490,-0.016830397769809,0.106046766042709,-0.080674707889557,0.097790516912937,0.105183184146881,-0.130404040217400,-0.036729559302330,0.056674532592297,0.031904369592667,0.135446757078171,-0.023138683289289,-0.130803823471069,-0.005695878062397,0.065856702625751));
res += mul(Get(s0,dx,0), float4x4(0.076108604669571,0.025533040985465,0.030369814485312,0.011755607090890,0.081137672066689,-0.057697534561157,0.102949731051922,-0.040901757776737,0.110430076718330,-0.019648754969239,-0.013547704555094,-0.078316234052181,-0.025711430236697,-0.046189989894629,-0.055089838802814,-0.058938562870026));
res += mul(Get(s0,dx,dy), float4x4(0.026275184005499,-0.004978214390576,-0.139753147959709,-0.061846531927586,-0.046351529657841,-0.022812303155661,-0.055666539818048,0.055594090372324,-0.109597004950047,-0.046666100621223,0.094180673360825,-0.026357231661677,0.071306474506855,0.001928612240590,-0.089839935302734,0.004461310338229));
res += mul(Get(s1,-dx,-dy), float4x4(0.009652169421315,-0.071383066475391,-0.038369614630938,0.050932962447405,-0.195381373167038,0.049127418547869,-0.080630809068680,-0.021865498274565,-0.077669069170952,-0.121193930506706,-0.019060445949435,0.051111038774252,-0.031443506479263,0.112782478332520,0.003778868587688,0.101566277444363));
res += mul(Get(s1,-dx,0), float4x4(0.069737739861012,0.102422446012497,-0.110460937023163,0.115419350564480,-0.031844247132540,0.025393443182111,-0.091341920197010,0.000937038159464,0.087421923875809,-0.045720096677542,0.091797545552254,-0.005369656719267,0.079617246985435,0.150075793266296,-0.096750326454639,0.023384802043438));
res += mul(Get(s1,-dx,dy), float4x4(-0.108618304133415,0.102151528000832,-0.022100148722529,0.103025175631046,0.032340396195650,0.060531593859196,0.036187257617712,0.145431026816368,-0.017921071499586,0.112430654466152,-0.001335338572972,0.031237334012985,-0.064673863351345,-0.020074529573321,0.034498572349548,-0.125516280531883));
res += mul(Get(s1,0,-dy), float4x4(0.001809284556657,-0.024556038901210,0.092617645859718,0.066546648740768,-0.043505460023880,-0.016973368823528,0.079158663749695,-0.136784896254539,-0.057603046298027,0.010891937650740,0.205689996480942,-0.098070174455643,0.041317727416754,0.054647658020258,-0.058824844658375,0.143450841307640));
res += mul(Get(s1,0,0), float4x4(0.051215931773186,-0.048732183873653,0.012308728881180,0.118637636303902,-0.024755952879786,-0.035970598459244,0.072105370461941,0.034265086054802,-0.026533642783761,-0.173909500241280,-0.055725667625666,-0.167449057102203,-0.098880149424076,-0.058706808835268,-0.083059355616570,0.058291051536798));
res += mul(Get(s1,0,dy), float4x4(-0.053767509758472,-0.092131108045578,-0.071563981473446,0.180274486541748,-0.017593102529645,-0.012306887656450,0.002645542612299,0.011028049513698,0.200582563877106,0.012434177100658,0.082486040890217,-0.118031568825245,0.088403441011906,0.213910028338432,0.019791891798377,0.036046940833330));
res += mul(Get(s1,dx,-dy), float4x4(0.002219324233010,0.071012087166309,-0.035288270562887,-0.060019530355930,-0.045936197042465,-0.055304821580648,-0.007367181591690,-0.142154619097710,-0.198652982711792,0.030552363023162,0.027329510077834,0.047173898667097,0.007663373835385,-0.081404738128185,-0.014456728473306,0.176247060298920));
res += mul(Get(s1,dx,0), float4x4(0.046330463141203,-0.132977709174156,0.103530548512936,0.020910646766424,-0.014151805080473,-0.161187887191772,-0.046522468328476,0.016112098470330,-0.032262627035379,0.047673292458057,0.009107556194067,0.036454889923334,-0.033658914268017,-0.042801693081856,-0.009181647561491,0.026453156024218));
res += mul(Get(s1,dx,dy), float4x4(0.067390888929367,0.105060435831547,0.025914186611772,-0.008830226026475,-0.091883741319180,0.129484906792641,0.142184957861900,0.085970014333725,0.018912481144071,-0.053698182106018,0.009566448628902,0.068934760987759,0.015159148722887,-0.163949549198151,-0.074548609554768,-0.041134439408779));
res += mul(Get(s2,-dx,-dy), float4x4(-0.050912503153086,-0.019686240702868,-0.056722451001406,0.110863439738750,-0.040411490947008,-0.013771465048194,-0.178509205579758,-0.053605746477842,0.033020414412022,0.180161729454994,-0.155593097209930,0.047181423753500,0.070306256413460,-0.113829992711544,-0.039750032126904,0.116327382624149));
res += mul(Get(s2,-dx,0), float4x4(-0.083772167563438,-0.046995464712381,0.071016184985638,-0.043961279094219,0.044494844973087,-0.103646822273731,0.043159544467926,-0.045605540275574,0.066595993936062,0.208677351474762,-0.012390675023198,0.103701718151569,0.003304982557893,0.039037182927132,0.095639288425446,-0.139697954058647));
res += mul(Get(s2,-dx,dy), float4x4(0.047004915773869,-0.045837357640266,0.106103360652924,0.009777857922018,-0.002948168199509,-0.066148146986961,-0.114563494920731,-0.119599692523479,-0.105088725686073,0.088933698832989,-0.063520088791847,0.112058937549591,-0.035292394459248,0.088980153203011,-0.150284722447395,-0.097958922386169));
res += mul(Get(s2,0,-dy), float4x4(-0.021492118015885,-0.003643080592155,0.177945196628571,-0.169934570789337,-0.019171852618456,-0.037209648638964,0.132265299558640,0.294285714626312,-0.080596655607224,0.041782081127167,0.103635117411613,-0.138344600796700,0.139125451445580,0.058626431971788,0.030794011428952,-0.038593817502260));
res += mul(Get(s2,0,0), float4x4(-0.003160108346492,-0.069133557379246,-0.016920704394579,0.048087678849697,-0.021678406745195,-0.090115860104561,0.008277016691864,-0.051992274820805,0.023427076637745,0.003254363546148,-0.050512131303549,0.147161543369293,0.137827694416046,0.009170940145850,0.022210706025362,0.112092182040215));
res += mul(Get(s2,0,dy), float4x4(0.106043487787247,0.035330351442099,-0.069806024432182,0.088661156594753,-0.062646143138409,-0.001985761104152,-0.029733957722783,-0.124225981533527,-0.136069849133492,-0.025186965242028,0.094429180026054,0.067541621625423,0.093256048858166,0.038432512432337,-0.063489042222500,-0.015105609782040));
res += mul(Get(s2,dx,-dy), float4x4(-0.021001055836678,-0.046261306852102,0.010877185501158,0.140993937849998,-0.093261398375034,-0.053277701139450,0.158285379409790,0.005575826391578,-0.151868537068367,0.033314459025860,0.024285163730383,-0.029683873057365,-0.118956960737705,0.113554038107395,-0.095326095819473,0.074042908847332));
res += mul(Get(s2,dx,0), float4x4(-0.030734552070498,0.041149809956551,-0.072702489793301,0.035549830645323,-0.079709604382515,0.063783757388592,0.135069206357002,0.097822710871696,0.010729588568211,0.012592650949955,0.110908240079880,-0.030991867184639,0.089925378561020,0.038432262837887,-0.018480062484741,0.027789024636149));
res += mul(Get(s2,dx,dy), float4x4(0.039582859724760,-0.030003096908331,-0.061072800308466,0.120374538004398,-0.092006124556065,-0.092959761619568,0.077720455825329,-0.084089778363705,0.086380131542683,-0.071863301098347,0.016686394810677,0.130740091204643,-0.010233581997454,-0.021986937150359,-0.056844163686037,-0.012351040728390));
res += mul(Get(s3,-dx,-dy), float4x4(-0.034255847334862,-0.007232840172946,-0.131571426987648,-0.079161524772644,0.011644531041384,0.110866658389568,-0.009130141697824,-0.067346833646297,-0.126710265874863,0.025457564741373,-0.069683030247688,0.018735775724053,-0.113073006272316,-0.181494310498238,-0.193811744451523,-0.060992445796728));
res += mul(Get(s3,-dx,0), float4x4(0.076213382184505,-0.053046628832817,-0.097400911152363,-0.135937064886093,0.141764760017395,-0.028173446655273,0.100736401975155,0.067673683166504,-0.109272450208664,0.086189545691013,-0.080329596996307,-0.001858574920334,0.035403016954660,-0.035747010260820,0.129691243171692,-0.027676004916430));
res += mul(Get(s3,-dx,dy), float4x4(-0.053704608231783,0.056623108685017,0.127183794975281,0.069296933710575,-0.034591887146235,0.046448554843664,0.085297524929047,0.042328283190727,0.018621034920216,0.108699358999729,-0.093615256249905,-0.150588601827621,0.063416883349419,0.029116617515683,-0.026012629270554,-0.011511474847794));
res += mul(Get(s3,0,-dy), float4x4(0.070742115378380,0.002054181881249,0.141857847571373,0.010343909263611,0.116474598646164,0.073310352861881,0.107725068926811,0.033336456865072,-0.034484434872866,-0.047808963805437,-0.048785980790854,0.078464478254318,-0.160538882017136,-0.019077632576227,0.039520341902971,-0.148553639650345));
res += mul(Get(s3,0,0), float4x4(0.004911706782877,-0.018507901579142,0.005109321326017,-0.107641771435738,0.000007285086213,0.022614920511842,0.034084871411324,0.017439348623157,-0.115635477006435,-0.010860138572752,0.005082293879241,0.017952553927898,0.117743134498596,-0.051384091377258,-0.023108383640647,0.021040521562099));
res += mul(Get(s3,0,dy), float4x4(0.084121659398079,-0.087329193949699,0.047050967812538,0.114123985171318,0.016283201053739,-0.041625037789345,0.011978530324996,0.127128973603249,0.158195689320564,0.042377408593893,-0.012935421429574,0.012593159452081,-0.072822414338589,-0.035725980997086,-0.204309403896332,0.027408182621002));
res += mul(Get(s3,dx,-dy), float4x4(-0.051269005984068,0.054916691035032,0.037255343049765,0.156068250536919,0.172347962856293,0.000098404227174,-0.022112920880318,-0.067749701440334,-0.064399756491184,0.003786842571571,0.015302605926991,0.183898702263832,0.071258291602135,0.042079959064722,-0.010116192512214,-0.093899227678776));
res += mul(Get(s3,dx,0), float4x4(0.115008875727654,0.043029181659222,-0.035680674016476,0.068089194595814,-0.078058123588562,0.082435578107834,0.025996753945947,0.080936565995216,-0.105084970593452,-0.055556043982506,-0.127524614334106,-0.009077904745936,0.057322394102812,-0.079347357153893,0.022787200286984,-0.038017366081476));
res += mul(Get(s3,dx,dy), float4x4(-0.023438425734639,0.158664911985397,0.051500946283340,-0.063862353563309,-0.017693914473057,-0.088195078074932,0.026889093220234,-0.058557700365782,-0.134578600525856,-0.064132295548916,0.020579358562827,-0.069709300994873,0.080112412571907,0.047641497105360,0.034070841968060,-0.036295637488365));
res = max(float4(0,0,0,0), res);
return res;
}
