sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.186250656843185,0.102659873664379,0.156041458249092,-0.080825477838516) * Get(-dx,-dy);
res += float4(-0.301542311906815,-0.030813524499536,-0.320960849523544,-0.011333370581269) * Get(-dx,0);
res += float4(0.155653595924377,0.014115824364126,0.025092473253608,0.059682257473469) * Get(-dx,dy);
res += float4(0.361049801111221,0.138577997684479,-0.138691157102585,-0.130858287215233) * Get(0,-dy);
res += float4(0.001079385168850,0.014525431208313,-0.031226407736540,0.099235579371452) * Get(0,0);
res += float4(-0.025686858221889,-0.240299165248871,0.806434333324432,0.018693948164582) * Get(0,dy);
res += float4(0.391662120819092,0.065255470573902,-0.152302697300911,-0.095790028572083) * Get(dx,-dy);
res += float4(0.087847068905830,-0.024730950593948,-0.281191259622574,0.051018077880144) * Get(dx,0);
res += float4(-0.173955753445625,-0.177644550800323,0.315200269222260,0.038375392556190) * Get(dx,dy);
res = max(float4(0,0,0,0), res);
return res;
}
