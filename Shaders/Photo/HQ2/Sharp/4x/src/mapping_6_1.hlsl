sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.088490545749664,-0.096911147236824,0.023752640932798,0.073342375457287,-0.080401659011841,0.047371886670589,-0.051478613168001,0.004626590292901,-0.005178367253393,-0.053943362087011,0.082507312297821,0.158525303006172,-0.051082629710436,-0.005513473413885,-0.007830470800400,0.016094760969281));
res += mul(Get(s0,-dx,0), float4x4(0.017740773037076,-0.056390445679426,0.081282503902912,-0.051283188164234,0.028443045914173,-0.008034298196435,0.019224843010306,0.132913663983345,-0.127487465739250,-0.067681871354580,-0.059946171939373,0.073553264141083,-0.025516055524349,-0.030322073027492,-0.002827593358234,0.040851756930351));
res += mul(Get(s0,-dx,dy), float4x4(-0.029128985479474,0.024500722065568,-0.057393513619900,-0.110067315399647,-0.045154113322496,-0.105296090245247,0.054800968617201,0.064251944422722,0.044051785022020,0.107635095715523,0.038207624107599,-0.008770219050348,0.004946019966155,0.128231480717659,0.049121834337711,-0.132499337196350));
res += mul(Get(s0,0,-dy), float4x4(0.029180414974689,-0.124710261821747,-0.045300960540771,0.016918843612075,0.040186855942011,-0.118387877941132,-0.050114043056965,0.018365191295743,-0.040548302233219,0.035277247428894,-0.045781228691339,-0.029173050075769,-0.008938060142100,-0.055503491312265,-0.077066406607628,0.084842249751091));
res += mul(Get(s0,0,0), float4x4(0.007707098498940,-0.062751986086369,0.076133906841278,0.073049284517765,-0.012492305599153,0.049628116190434,0.110551476478577,0.046510510146618,0.018738836050034,-0.018462570384145,0.019232181832194,-0.010678992606699,0.037863526493311,0.024007661268115,0.070060305297375,0.027533652260900));
res += mul(Get(s0,0,dy), float4x4(-0.144738212227821,-0.033455014228821,0.078877329826355,-0.035596795380116,0.090152345597744,-0.041108284145594,-0.111824214458466,0.050840523093939,0.018841890618205,-0.111295610666275,0.101578772068024,0.017648218199611,-0.004459285642952,-0.040592614561319,-0.025377437472343,0.017547031864524));
res += mul(Get(s0,dx,-dy), float4x4(-0.179414764046669,-0.012541634961963,0.081825345754623,0.042975526303053,0.021000748500228,-0.044455129653215,0.028995707631111,-0.026648441329598,-0.039322312921286,0.040879946202040,0.046331129968166,0.123016357421875,-0.057284403592348,-0.011141343042254,0.025428168475628,-0.049807023257017));
res += mul(Get(s0,dx,0), float4x4(0.019375562667847,0.062847986817360,0.052093558013439,0.040608294308186,0.046794116497040,-0.018331477418542,0.046515621244907,-0.102335773408413,0.053861238062382,0.099771350622177,0.130094423890114,0.096885494887829,0.095034793019295,0.138165965676308,0.029105873778462,0.012338579632342));
res += mul(Get(s0,dx,dy), float4x4(-0.014107346534729,0.049968224018812,-0.046971142292023,0.014930123463273,0.150820374488831,-0.095202855765820,-0.073575854301453,-0.061258304864168,0.050907894968987,0.042348425835371,0.125246405601501,0.042957175523043,-0.180496171116829,0.037931747734547,-0.045210979878902,-0.044858429580927));
res += mul(Get(s1,-dx,-dy), float4x4(-0.158442825078964,-0.033444330096245,-0.058712102472782,-0.020906150341034,-0.047388844192028,0.083966180682182,-0.047457043081522,0.035041730850935,0.040393743664026,0.018132470548153,0.027590956538916,0.092024922370911,0.054521486163139,0.088342137634754,0.059924747794867,-0.102894760668278));
res += mul(Get(s1,-dx,0), float4x4(0.059118133038282,0.002189542166889,-0.024367196485400,-0.074386969208717,0.066255204379559,0.136512055993080,-0.020112073048949,0.115485385060310,0.170071929693222,0.040970798581839,-0.000049126436352,-0.154527068138123,0.043315123766661,0.038035489618778,0.073543339967728,-0.035286847501993));
res += mul(Get(s1,-dx,dy), float4x4(0.016519851982594,-0.032101862132549,0.043365847319365,0.072402566671371,-0.043042615056038,0.021981040015817,-0.062528833746910,-0.082787998020649,0.049625605344772,0.041274622082710,-0.022001720964909,0.077845841646194,0.153006806969643,0.016140829771757,0.039058949798346,0.052148737013340));
res += mul(Get(s1,0,-dy), float4x4(-0.106630004942417,-0.074619956314564,-0.057284526526928,-0.088729962706566,-0.027432644739747,-0.218615859746933,-0.107414193451405,0.075540482997894,-0.036379490047693,-0.098640099167824,-0.064243361353874,-0.154087945818901,-0.034483451396227,-0.002939955564216,-0.015810465440154,0.094232484698296));
res += mul(Get(s1,0,0), float4x4(0.025454437360168,-0.012563927099109,0.119917951524258,0.127522513270378,-0.037689454853535,-0.070736832916737,-0.146476060152054,-0.032024435698986,0.064389422535896,-0.009957794100046,-0.006646256893873,-0.026722345501184,-0.024539450183511,0.039246104657650,0.042022302746773,0.143193230032921));
res += mul(Get(s1,0,dy), float4x4(-0.053359135985374,-0.050129629671574,-0.085517190396786,0.046803802251816,0.013404728844762,0.057930599898100,0.006470817606896,0.069623239338398,0.007454663049430,-0.055631257593632,-0.085263945162296,0.049217179417610,-0.075023226439953,0.064003892242908,0.019269136711955,-0.022998616099358));
res += mul(Get(s1,dx,-dy), float4x4(-0.050094250589609,0.004073999822140,-0.075068153440952,0.042775742709637,-0.073780342936516,-0.099790647625923,0.009536996483803,-0.026650100946426,0.069365814328194,0.063307166099548,0.186055719852448,-0.101851284503937,0.027210153639317,-0.040261041373014,0.000226467702305,-0.006783751770854));
res += mul(Get(s1,dx,0), float4x4(0.066882185637951,0.048298895359039,0.094847634434700,-0.073507696390152,-0.057996980845928,0.270219177007675,-0.055244512856007,-0.024203697219491,-0.105479948222637,-0.000236562482314,0.029242085292935,-0.087998136878014,0.029151108115911,-0.027858057990670,0.000447514059488,-0.185815647244453));
res += mul(Get(s1,dx,dy), float4x4(0.057208504527807,-0.066404722630978,-0.039878424257040,-0.078590728342533,-0.047224167734385,-0.026291240006685,0.029080815613270,-0.070774815976620,-0.055998109281063,-0.005407432094216,0.036217723041773,0.020840678364038,0.048352833837271,-0.008915510959923,-0.015949102118611,0.026274263858795));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024355169385672,0.001934017054737,-0.144898578524590,0.009215187281370,-0.074537627398968,0.013291750103235,0.060705550014973,0.020989920943975,-0.085229828953743,-0.127298131585121,-0.095753565430641,0.057515580207109,0.099789209663868,0.197172507643700,-0.022679962217808,0.141479253768921));
res += mul(Get(s2,-dx,0), float4x4(0.004922796506435,-0.060382813215256,-0.077514715492725,0.026280697435141,-0.086249016225338,-0.040778823196888,0.176401346921921,-0.159424036741257,-0.082009926438332,-0.018036551773548,0.119052797555923,0.005426310468465,0.043490484356880,-0.163441777229309,0.025555483996868,-0.013608051463962));
res += mul(Get(s2,-dx,dy), float4x4(-0.042837083339691,-0.071526646614075,0.120586201548576,-0.090036123991013,0.022846765816212,-0.072068534791470,0.179821059107780,0.017228137701750,-0.000248431548243,-0.064742662012577,-0.077034965157509,0.052835218608379,0.016387317329645,-0.122797846794128,0.040980909019709,-0.020125621929765));
res += mul(Get(s2,0,-dy), float4x4(0.000872001459356,-0.078097715973854,-0.052388478070498,0.139388456940651,-0.082897037267685,-0.064674079418182,0.066978335380554,0.084754511713982,0.004670687019825,-0.069038443267345,-0.018891764804721,-0.097107477486134,-0.108843192458153,-0.067816987633705,0.141015589237213,0.012665727175772));
res += mul(Get(s2,0,0), float4x4(0.044575534760952,-0.039381425827742,0.040115952491760,-0.032177351415157,-0.058551829308271,-0.020815193653107,-0.023175681009889,0.105364359915257,-0.071725748479366,-0.086021378636360,0.214359700679779,-0.001163950772025,-0.081417210400105,0.132098808884621,0.188595905900002,0.043981734663248));
res += mul(Get(s2,0,dy), float4x4(0.051369730383158,0.006907222792506,0.107554189860821,-0.033640649169683,0.013037586584687,0.010145423002541,-0.069616839289665,-0.013245966285467,-0.171196967363358,0.023545254021883,0.098989039659500,-0.035402636975050,-0.098251737654209,0.234347119927406,0.170835107564926,-0.003970349673182));
res += mul(Get(s2,dx,-dy), float4x4(-0.007729097269475,-0.029489487409592,0.010610060766339,0.031788405030966,0.143070936203003,-0.050116229802370,-0.073210582137108,-0.070866808295250,-0.012572120875120,-0.029682334512472,-0.181685835123062,-0.090918473899364,0.022301390767097,0.022850593551993,0.106142677366734,-0.104915469884872));
res += mul(Get(s2,dx,0), float4x4(-0.001023024669848,0.070239976048470,0.063177637755871,-0.164202436804771,0.257472991943359,-0.062599122524261,-0.119113892316818,0.068148389458656,0.098076574504375,-0.022373581305146,-0.063143357634544,-0.041720751672983,0.235622927546501,0.167574420571327,-0.133528172969818,-0.073964834213257));
res += mul(Get(s2,dx,dy), float4x4(-0.042541138827801,-0.042258527129889,0.176615118980408,0.013101615011692,0.017824105918407,-0.072082094848156,0.062140326946974,0.040942668914795,-0.025265285745263,-0.037720609456301,0.139620199799538,-0.025321351364255,-0.076794683933258,0.100041784346104,-0.049118842929602,-0.084488607943058));
res += mul(Get(s3,-dx,-dy), float4x4(-0.126548752188683,-0.128175571560860,-0.100464805960655,0.070921033620834,-0.006578671280295,-0.076335377991199,-0.053273778408766,-0.107072055339813,-0.012084149755538,0.073117680847645,0.160617306828499,-0.111592151224613,0.004392370115966,-0.022674646228552,0.097814813256264,-0.050886768847704));
res += mul(Get(s3,-dx,0), float4x4(0.010663197375834,0.018335128203034,-0.005423143971711,0.063152961432934,0.050329532474279,0.001648771460168,0.134247988462448,-0.092613637447357,0.012071399949491,0.093284122645855,-0.005901060067117,-0.019986951723695,-0.109467819333076,0.052319288253784,0.041849974542856,0.123106881976128));
res += mul(Get(s3,-dx,dy), float4x4(-0.050831522792578,0.002630618866533,-0.011442947201431,-0.059154570102692,0.107706032693386,0.007237690966576,-0.033066440373659,0.032449733465910,0.039127457886934,0.054263416677713,-0.101697474718094,0.012561046518385,-0.025484465062618,0.050045527517796,-0.024130947887897,0.080958217382431));
res += mul(Get(s3,0,-dy), float4x4(-0.012451990507543,-0.014111257158220,-0.001442345324904,-0.074526809155941,0.069034114480019,0.209315225481987,0.014452624134719,-0.019951406866312,-0.002336561214179,0.086559802293777,0.109295673668385,0.126910120248795,0.053196232765913,-0.047399725764990,-0.005927182734013,0.097937040030956));
res += mul(Get(s3,0,0), float4x4(0.134277477860451,0.018219662830234,-0.051842629909515,-0.101144894957542,-0.000269803276751,0.105241000652313,0.054771911352873,-0.025960277765989,0.160372167825699,-0.074788995087147,-0.046671818941832,0.008441618643701,0.048378013074398,0.002851969795302,-0.065507344901562,0.234772890806198));
res += mul(Get(s3,0,dy), float4x4(0.047589842230082,-0.060866944491863,0.035061281174421,-0.027793129906058,0.000999985495582,0.075538322329521,0.036732688546181,-0.039517451077700,-0.040075208991766,-0.043847519904375,-0.014269351959229,0.061857048422098,0.113569341599941,-0.128100559115410,0.007733976468444,0.020783586427569));
res += mul(Get(s3,dx,-dy), float4x4(-0.077275499701500,-0.136066913604736,-0.009969895705581,-0.076961904764175,0.049828413873911,0.118597373366356,0.004125984385610,-0.077199190855026,0.017838219180703,0.009192856959999,-0.009192896075547,0.137811511754990,0.012446145527065,0.071145303547382,0.060569941997528,0.070045843720436));
res += mul(Get(s3,dx,0), float4x4(0.072206109762192,-0.035071108490229,0.090581245720387,0.024377865716815,-0.075381070375443,-0.078266642987728,0.043104212731123,0.057550635188818,-0.018949320539832,-0.091634213924408,-0.056784290820360,0.137245878577232,0.001887685270049,-0.102453060448170,-0.020542137324810,0.007738919463009));
res += mul(Get(s3,dx,dy), float4x4(-0.022527188062668,0.036648806184530,-0.036054871976376,0.019686378538609,-0.049360603094101,0.082681447267532,-0.007992020808160,-0.037203334271908,-0.019902486354113,-0.071522362530231,0.113418467342854,0.006054510828108,0.022855589166284,-0.001543042133562,-0.047369953244925,-0.125152781605721));
res = max(float4(0,0,0,0), res);
return res;
}
