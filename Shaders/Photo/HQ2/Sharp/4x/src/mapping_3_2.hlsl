sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.029508601874113,0.026220563799143,-0.191260322928429,0.015057382173836,-0.039148930460215,-0.037735275924206,-0.037947766482830,0.094030395150185,-0.027596477419138,0.085423536598682,-0.073520384728909,0.048275589942932,0.040621861815453,0.075346879661083,0.044077277183533,-0.068809501826763));
res += mul(Get(s0,-dx,0), float4x4(-0.120464012026787,0.148515731096268,0.059486463665962,0.024033186957240,0.000993049587123,-0.042151980102062,-0.038935374468565,-0.065030440688133,-0.094833992421627,0.049692910164595,-0.164517536759377,-0.015311768278480,-0.091800071299076,-0.145977124571800,0.057762287557125,-0.168367132544518));
res += mul(Get(s0,-dx,dy), float4x4(0.067238107323647,0.002866813680157,-0.111588805913925,-0.000374910945538,-0.039519160985947,0.063424289226532,0.018214486539364,0.042967759072781,0.036773186177015,-0.018234400078654,-0.040552847087383,-0.068339578807354,-0.086934067308903,-0.131276354193687,0.028559884056449,-0.039022143930197));
res += mul(Get(s0,0,-dy), float4x4(0.158707126975060,-0.033175513148308,-0.081123821437359,-0.137881904840469,-0.069494605064392,-0.034669797867537,0.084782689809799,0.089994102716446,-0.005727905314416,-0.084337979555130,-0.004091799259186,-0.092598631978035,0.015001310035586,0.100997902452946,0.001737189013511,0.105221092700958));
res += mul(Get(s0,0,0), float4x4(0.139788091182709,-0.040132872760296,-0.030996194109321,-0.057587780058384,-0.005705321673304,0.066603668034077,-0.005059197545052,0.149641990661621,-0.005867550149560,-0.033039234578609,-0.018121967092156,-0.196574643254280,-0.152272224426270,0.010466564446688,0.066479623317719,0.033079043030739));
res += mul(Get(s0,0,dy), float4x4(-0.174905344843864,0.099048793315887,0.107045419514179,0.061626039445400,0.034529637545347,0.018100101500750,-0.002422592369840,-0.025072427466512,-0.082408189773560,-0.041833266615868,0.005830146372318,-0.020887788385153,0.025786884129047,-0.082915939390659,0.059855218976736,0.044433087110519));
res += mul(Get(s0,dx,-dy), float4x4(-0.019388595595956,-0.015345960855484,-0.146264642477036,-0.031657706946135,-0.014922641217709,-0.064913935959339,0.047392968088388,-0.090297073125839,-0.071349479258060,-0.027461651712656,-0.030699824914336,0.012001203373075,0.058935061097145,0.091468416154385,-0.050063371658325,0.008851989172399));
res += mul(Get(s0,dx,0), float4x4(0.009493333287537,0.110340796411037,-0.006190576590598,0.101780779659748,0.069714732468128,-0.023927476257086,-0.112451940774918,-0.068207085132599,-0.098936714231968,-0.066455967724323,0.042673833668232,0.034118268638849,-0.033333230763674,0.162705942988396,-0.112397246062756,-0.087540194392204));
res += mul(Get(s0,dx,dy), float4x4(-0.096721537411213,0.036774676293135,0.045884177088737,0.004427917301655,-0.055303543806076,0.031778875738382,-0.021523121744394,0.074337020516396,0.034338586032391,-0.062927857041359,-0.081203646957874,-0.111019134521484,-0.061285808682442,0.010232515633106,0.006904526147991,-0.127457529306412));
res += mul(Get(s1,-dx,-dy), float4x4(0.044446520507336,0.083721622824669,0.139213144779205,0.110310859978199,-0.089362695813179,0.032806314527988,-0.107102088630199,-0.061267439275980,0.047858189791441,0.030739450827241,0.010817388072610,0.087765000760555,0.061993584036827,-0.104181438684464,-0.022094324231148,0.049520179629326));
res += mul(Get(s1,-dx,0), float4x4(0.191999033093452,-0.064814560115337,0.159645929932594,0.117255941033363,-0.057565703988075,-0.002686243969947,-0.012460262514651,-0.074037432670593,0.059658925980330,-0.016217119991779,-0.073391258716583,0.118290364742279,-0.017863480374217,-0.013732205145061,-0.068564720451832,0.114993102848530));
res += mul(Get(s1,-dx,dy), float4x4(0.052181631326675,-0.015399228781462,-0.038730997592211,-0.058257456868887,-0.025605464354157,-0.017465671524405,-0.091891460120678,0.125907614827156,-0.023265095427632,-0.145099967718124,0.056826420128345,0.016828998923302,0.116666957736015,-0.064948990941048,0.051907617598772,-0.132418408989906));
res += mul(Get(s1,0,-dy), float4x4(0.064562521874905,-0.123393453657627,0.059491008520126,0.049860022962093,-0.074125647544861,0.106578394770622,-0.023494146764278,0.059191271662712,-0.098634257912636,0.109606832265854,0.041506800800562,-0.022998366504908,0.002982177073136,0.049882099032402,-0.052306510508060,0.124209165573120));
res += mul(Get(s1,0,0), float4x4(-0.089384302496910,-0.063838191330433,-0.003597235074267,0.061892304569483,0.018381563946605,-0.041471846401691,0.079254917800426,-0.030694041401148,-0.212098538875580,-0.056342419236898,-0.013704606331885,0.114740066230297,-0.009136136621237,0.013640991412103,0.167836278676987,-0.024576902389526));
res += mul(Get(s1,0,dy), float4x4(-0.086071908473969,-0.085613131523132,-0.168583616614342,-0.096520870923996,-0.009469228796661,-0.077349305152893,-0.080557510256767,0.061312995851040,-0.177788987755775,-0.013895113021135,0.109569706022739,0.026900352910161,0.023178242146969,-0.045284412801266,0.036740645766258,0.055136445909739));
res += mul(Get(s1,dx,-dy), float4x4(-0.048543676733971,-0.095074310898781,-0.108791939914227,-0.050048347562551,0.067528292536736,-0.003073413157836,-0.003555645700544,0.140142142772675,-0.001897378824651,-0.016192849725485,0.015845755115151,-0.115088745951653,0.014808852225542,-0.070281103253365,0.027724834159017,-0.007905887439847));
res += mul(Get(s1,dx,0), float4x4(-0.003845714963973,-0.003513751551509,-0.057122856378555,0.031647667288780,0.032277096062899,-0.042752411216497,-0.012840178795159,-0.059744540601969,-0.096546247601509,0.109339088201523,0.052156586199999,0.103728421032429,-0.019785704091191,-0.023828223347664,0.023094560950994,0.008383866399527));
res += mul(Get(s1,dx,dy), float4x4(-0.021313661709428,0.017461538314819,-0.015071950852871,-0.060879986733198,-0.010578517802060,-0.064982235431671,-0.013200128450990,0.025122599676251,0.055000267922878,0.029328770935535,0.033728711307049,0.071504130959511,-0.021457320079207,-0.076782830059528,-0.177368849515915,-0.087919570505619));
res += mul(Get(s2,-dx,-dy), float4x4(0.029649870470166,-0.060264822095633,0.086052156984806,-0.140646532177925,-0.161597043275833,-0.027882263064384,-0.044388737529516,0.111027196049690,-0.012014786712825,0.126621112227440,0.031245196238160,0.019583493471146,0.042582385241985,0.011901717633009,0.053499579429626,-0.062671147286892));
res += mul(Get(s2,-dx,0), float4x4(-0.030659720301628,0.091282926499844,-0.074491046369076,-0.040501020848751,0.046467546373606,-0.014240089803934,0.068864740431309,-0.013361359946430,0.040800504386425,0.067416086792946,0.214749589562416,0.096522264182568,0.090570747852325,-0.013954104855657,0.047112725675106,-0.075864270329475));
res += mul(Get(s2,-dx,dy), float4x4(-0.082430832087994,0.108303852379322,0.000486543111037,-0.029770016670227,0.031014963984489,-0.080821834504604,-0.086523912847042,-0.004611890297383,0.007796500343829,-0.115983262658119,-0.003098027780652,-0.100273907184601,0.158557772636414,0.030360992997885,0.029895717278123,-0.039239667356014));
res += mul(Get(s2,0,-dy), float4x4(-0.005177853628993,-0.023126816377044,-0.086538001894951,0.016291849315166,-0.047515641897917,-0.038180164992809,0.114226251840591,0.000316900404869,-0.135808020830154,-0.067813336849213,-0.097155004739761,-0.025486327707767,0.086352609097958,0.073272615671158,0.046797104179859,0.053930208086967));
res += mul(Get(s2,0,0), float4x4(0.020027337595820,0.087049134075642,0.140118300914764,0.214952588081360,0.055513884872198,-0.036316152662039,-0.070727758109570,-0.053499814122915,-0.059779234230518,-0.089074440300465,-0.027645388618112,0.075890891253948,-0.041184876114130,0.040800441056490,0.084187373518944,0.019400086253881));
res += mul(Get(s2,0,dy), float4x4(-0.027830643579364,-0.020279217511415,-0.071807019412518,-0.089501403272152,0.030662471428514,-0.128807246685028,0.065561756491661,-0.021562095731497,-0.005269222427160,-0.023758931085467,0.078575856983662,0.170653656125069,0.136899858713150,-0.007939654402435,-0.064061850309372,0.141592875123024));
res += mul(Get(s2,dx,-dy), float4x4(0.190591558814049,-0.049970000982285,-0.056324366480112,0.058031495660543,-0.059179764240980,0.060532838106155,-0.070086300373077,0.150008842349052,0.071655303239822,0.032097898423672,0.011414838023484,-0.121859274804592,0.040851831436157,0.168739005923271,0.065487354993820,-0.060845300555229));
res += mul(Get(s2,dx,0), float4x4(-0.003701741807163,-0.063291117548943,0.053219065070152,-0.033271268010139,-0.190132796764374,0.002205787459388,0.125765442848206,0.092279374599457,0.011440898291767,0.088623233139515,0.063437923789024,-0.011264923028648,-0.032183814793825,0.092952676117420,0.068811416625977,0.142131790518761));
res += mul(Get(s2,dx,dy), float4x4(-0.171677768230438,0.016439283266664,-0.063230648636818,-0.030914504081011,-0.085418432950974,0.003626344026998,0.075299166142941,0.060729041695595,0.008561545051634,0.039118219166994,-0.136931911110878,0.113497793674469,-0.069338418543339,-0.007276833988726,-0.102960892021656,0.002571604680270));
res += mul(Get(s3,-dx,-dy), float4x4(-0.012376386672258,-0.047035519033670,-0.140925869345665,-0.044577669352293,-0.068029142916203,-0.063308253884315,0.118211686611176,-0.031597312539816,0.023276491090655,-0.082054987549782,-0.156163185834885,-0.005250476300716,0.114204823970795,-0.075351513922215,0.069008857011795,-0.040329057723284));
res += mul(Get(s3,-dx,0), float4x4(0.022463113069534,0.035600211471319,-0.113101199269295,0.001357837114483,0.077027358114719,-0.063673950731754,0.025639310479164,-0.012709289789200,-0.008355385623872,-0.083376288414001,-0.083549335598946,-0.004156032111496,0.107232652604580,-0.051555871963501,0.014258112758398,-0.155745282769203));
res += mul(Get(s3,-dx,dy), float4x4(-0.121365979313850,-0.065330266952515,-0.041161037981510,-0.080205731093884,0.054832376539707,0.100951455533504,-0.005981416907161,0.129989534616470,0.034760221838951,0.069842576980591,-0.061396688222885,-0.049666374921799,-0.021693930029869,-0.000287320843199,-0.101533733308315,-0.020005095750093));
res += mul(Get(s3,0,-dy), float4x4(-0.056133549660444,-0.100573025643826,0.032077368348837,0.153057426214218,0.039626874029636,0.025251353159547,0.053083926439285,0.023715564981103,0.034735586494207,-0.018067689612508,0.014473170042038,0.066152244806290,-0.131351813673973,-0.018662931397557,-0.069465734064579,-0.068907894194126));
res += mul(Get(s3,0,0), float4x4(-0.026885289698839,-0.034121636301279,0.125784531235695,-0.044753894209862,0.243711024522781,-0.057977896183729,0.074052892625332,-0.065208591520786,0.036871712654829,-0.014082176610827,-0.125344589352608,-0.010018002241850,-0.200882107019424,-0.031582672148943,0.142365440726280,0.018653754144907));
res += mul(Get(s3,0,dy), float4x4(-0.034955717623234,-0.017827160656452,-0.110830523073673,-0.033899012953043,0.166169613599777,-0.074071437120438,-0.052509665489197,-0.153120279312134,0.040570110082626,-0.020028539001942,-0.018384985625744,0.011262461543083,-0.089842386543751,0.089440397918224,0.041014745831490,-0.012545025907457));
res += mul(Get(s3,dx,-dy), float4x4(0.217403396964073,-0.038802657276392,-0.168755039572716,-0.223175927996635,-0.064975433051586,0.050644710659981,-0.066335409879684,0.088754855096340,0.087858609855175,-0.090902231633663,-0.133614972233772,0.060357060283422,0.064764283597469,0.146161481738091,0.080444201827049,0.064446836709976));
res += mul(Get(s3,dx,0), float4x4(0.026567157357931,0.165605261921883,-0.024245457723737,-0.083921201527119,-0.042964536696672,-0.019561519846320,-0.097644038498402,0.041312832385302,0.050475999712944,-0.121903568506241,-0.007019784301519,0.053252220153809,0.051634002476931,0.050764363259077,-0.028988227248192,0.070111855864525));
res += mul(Get(s3,dx,dy), float4x4(0.024642715230584,0.012385354377329,-0.225902765989304,0.118779279291630,-0.030859902501106,-0.045186799019575,-0.168062865734100,0.017443189397454,-0.045605327934027,0.048349242657423,-0.019149517640471,0.080754600465298,-0.054520707577467,-0.014522237703204,-0.068488731980324,0.056868821382523));
res = max(float4(0,0,0,0), res);
return res;
}
