sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.060049921274185,0.035500325262547,-0.023607764393091,0.120923288166523,-0.015939585864544,-0.039149947464466,0.001172611489892,-0.087644554674625,-0.031353194266558,-0.013535458594561,0.005277324467897,-0.007778954692185,-0.166769817471504,-0.096932992339134,0.034937154501677,-0.099986404180527));
res += mul(Get(s0,-dx,0), float4x4(-0.092887930572033,0.012428727932274,-0.062239706516266,0.107804603874683,-0.070064529776573,-0.098048470914364,0.002473894506693,-0.065008863806725,0.056723162531853,0.025676319375634,0.045862205326557,0.065335296094418,0.117456927895546,-0.107095748186111,-0.067390985786915,0.182809233665466));
res += mul(Get(s0,-dx,dy), float4x4(0.081824675202370,0.031219042837620,-0.022050822153687,-0.095663085579872,0.036501027643681,0.076981171965599,0.062861084938049,0.062281023710966,0.105794847011566,-0.029906691983342,0.138375833630562,-0.037783168256283,0.302992671728134,-0.119008891284466,-0.096365034580231,0.013148120604455));
res += mul(Get(s0,0,-dy), float4x4(0.027441993355751,-0.038228072226048,0.039857022464275,0.061996378004551,0.133750885725021,0.097830623388290,-0.039441429078579,0.059670340269804,0.047216501086950,0.132421985268593,-0.056941524147987,0.070150114595890,0.048952661454678,0.205274820327759,0.049157276749611,-0.194455236196518));
res += mul(Get(s0,0,0), float4x4(0.082285799086094,-0.065197698771954,-0.034055102616549,-0.041248574852943,0.121710740029812,-0.112096838653088,0.000617909012362,-0.028226230293512,0.077757835388184,0.029998870566487,0.020928591489792,0.052750263363123,0.036089841276407,-0.098813176155090,-0.098827362060547,-0.062730655074120));
res += mul(Get(s0,0,dy), float4x4(-0.069247424602509,0.074389934539795,0.119458034634590,-0.179741472005844,-0.075200721621513,0.023858902975917,-0.144056543707848,0.006851888727397,0.017005637288094,0.111796662211418,0.102563709020615,-0.011689450591803,0.010983214713633,0.025768658146262,0.076781511306763,-0.005589186679572));
res += mul(Get(s0,dx,-dy), float4x4(0.022915393114090,-0.007360510993749,-0.175007402896881,0.030178055167198,-0.047681707888842,0.078240059316158,-0.137227147817612,0.110556006431580,-0.141789674758911,0.048282574862242,0.001525712199509,-0.027992725372314,0.070829071104527,-0.006538431625813,0.089269503951073,0.126351878046989));
res += mul(Get(s0,dx,0), float4x4(-0.130223676562309,-0.037273734807968,0.084659844636917,0.042159531265497,0.045145381242037,-0.025716166943312,-0.031749416142702,-0.073437795042992,0.135083004832268,0.036858603358269,-0.079692333936691,0.094177231192589,-0.059948932379484,0.100519977509975,0.004266995470971,-0.070111222565174));
res += mul(Get(s0,dx,dy), float4x4(0.001295013236813,0.047138109803200,0.105908483266830,0.028881436213851,0.051983319222927,0.086623333394527,0.027762835845351,0.080092005431652,0.222367078065872,-0.077780552208424,0.091880924999714,-0.028849093243480,-0.079167671501637,0.037214685231447,-0.049533471465111,0.209989830851555));
res += mul(Get(s1,-dx,-dy), float4x4(0.018918145447969,-0.020436637103558,0.057193804532290,0.026383148506284,0.000677747710142,-0.099062457680702,-0.097423322498798,0.146083116531372,0.068649061024189,-0.187820658087730,-0.103300698101521,0.022980073466897,0.033545505255461,0.095513403415680,0.003688527503982,-0.079622462391853));
res += mul(Get(s1,-dx,0), float4x4(-0.045936666429043,0.081410609185696,0.125968933105469,0.031561885029078,0.006432532798499,0.114781022071838,-0.067335471510887,0.058236919343472,0.175968483090401,-0.250535190105438,-0.072613522410393,0.179969608783722,-0.091758057475090,0.077664196491241,-0.131346866488457,0.003564323065802));
res += mul(Get(s1,-dx,dy), float4x4(-0.040575724095106,-0.037803497165442,0.041304618120193,-0.008814935572445,-0.011143886484206,0.039555579423904,-0.059851523488760,-0.085408806800842,0.160558462142944,0.128020778298378,0.079178109765053,-0.205682963132858,0.066480368375778,0.031342335045338,-0.008274485357106,0.007523634470999));
res += mul(Get(s1,0,-dy), float4x4(-0.029309935867786,-0.089590907096863,-0.021173285320401,0.097333103418350,-0.075752854347229,-0.053626853972673,-0.086972489953041,0.058200780302286,0.015976270660758,0.038319092243910,-0.074463814496994,-0.122367672622204,0.167624786496162,0.009996749460697,-0.016425736248493,-0.140723630785942));
res += mul(Get(s1,0,0), float4x4(-0.067235894501209,-0.093307733535767,-0.004654581658542,0.139905616641045,0.064795702695847,0.113887421786785,-0.070901766419411,0.124301582574844,-0.060966480523348,0.048025552183390,0.019659059122205,0.004607540555298,-0.006579869892448,-0.068104252219200,-0.090931452810764,-0.017208768054843));
res += mul(Get(s1,0,dy), float4x4(-0.024871166795492,-0.225955605506897,0.066363640129566,0.042616114020348,-0.111589856445789,-0.110975317656994,0.019644226878881,0.004182144999504,0.063541710376740,0.029038244858384,0.108406543731689,-0.066015951335430,0.051986485719681,0.067002832889557,-0.046674169600010,-0.012573207728565));
res += mul(Get(s1,dx,-dy), float4x4(-0.002180849900469,0.033061135560274,0.062664590775967,-0.033715158700943,-0.030306022614241,0.067756175994873,0.118902847170830,-0.104918912053108,-0.113879837095737,0.093360394239426,0.050546064972878,0.080828726291656,-0.107455238699913,-0.139028578996658,0.066393718123436,-0.024337779730558));
res += mul(Get(s1,dx,0), float4x4(0.085663788020611,0.162548720836639,-0.084357030689716,-0.007087423931807,0.008534790948033,0.120831757783890,0.022229932248592,-0.037834990769625,-0.037662487477064,0.103239588439465,-0.056404478847980,0.324468374252319,-0.075052984058857,0.047292239964008,0.056313399225473,0.155117884278297));
res += mul(Get(s1,dx,dy), float4x4(0.047747209668159,0.025568529963493,-0.107652507722378,0.045761179178953,0.114605069160461,-0.014535470865667,-0.011451931670308,-0.069861382246017,-0.122579105198383,0.103029757738113,0.024202264845371,0.120849229395390,0.027618262916803,0.022878250107169,0.070195570588112,-0.024661915376782));
res += mul(Get(s2,-dx,-dy), float4x4(-0.104813359677792,0.043597210198641,-0.052238468080759,0.036009442061186,-0.038040865212679,-0.067010603845119,-0.026255931705236,0.043535377830267,-0.047844242304564,0.027787815779448,-0.094467014074326,0.097317583858967,-0.068157061934471,0.000345509091858,0.032764989882708,-0.059831690043211));
res += mul(Get(s2,-dx,0), float4x4(-0.033792927861214,-0.201379641890526,0.030792292207479,0.067821256816387,0.004582859110087,0.146834313869476,0.014655217528343,0.156537979841232,0.109214209020138,-0.024227732792497,0.010362953878939,0.000726678874344,-0.018461920320988,-0.036884900182486,0.003706289222464,0.025124803185463));
res += mul(Get(s2,-dx,dy), float4x4(-0.086557261645794,0.048976548016071,-0.024684118106961,-0.026159832254052,0.194317013025284,-0.030526500195265,0.130186453461647,-0.069738164544106,-0.165571942925453,0.003582456149161,-0.143496602773666,-0.102427005767822,0.174834728240967,0.081732742488384,0.069527670741081,-0.047108370810747));
res += mul(Get(s2,0,-dy), float4x4(0.014766342006624,-0.144534453749657,-0.118281513452530,0.237464532256126,0.071406282484531,0.067562952637672,0.005682809278369,-0.072811111807823,0.051768973469734,0.050232481211424,-0.091578744351864,-0.159877508878708,-0.113265223801136,-0.041436616331339,-0.077094271779060,0.203049704432487));
res += mul(Get(s2,0,0), float4x4(0.037518557161093,-0.176119551062584,0.015133536420763,0.150944188237190,0.085538208484650,0.112476646900177,0.119827292859554,-0.021744146943092,-0.250022560358047,-0.031695943325758,-0.087206713855267,-0.095394164323807,-0.062278728932142,-0.023175507783890,-0.059931073337793,0.081288218498230));
res += mul(Get(s2,0,dy), float4x4(0.014614298008382,-0.058831326663494,-0.060525540262461,-0.061725690960884,0.015137436799705,0.078089050948620,-0.026063596829772,-0.057048715651035,0.057523887604475,-0.064463540911674,-0.030777797102928,0.031166231259704,0.078067012131214,-0.080714844167233,-0.054014146327972,0.061049737036228));
res += mul(Get(s2,dx,-dy), float4x4(0.003787453286350,0.141306385397911,0.029503414407372,0.019436024129391,0.065035060048103,-0.064398854970932,-0.075853690505028,-0.008891747333109,0.033921524882317,-0.039291381835938,-0.001454605720937,-0.114551812410355,0.010117917321622,-0.031781889498234,-0.020892132073641,0.056918390095234));
res += mul(Get(s2,dx,0), float4x4(-0.004418740049005,-0.025542663410306,-0.035434663295746,0.012630784884095,-0.166513755917549,0.042958319187164,-0.027860203757882,0.104956232011318,-0.032744109630585,0.124498322606087,0.030086848884821,0.004936906509101,-0.049672853201628,0.146202355623245,-0.062427271157503,0.016960956156254));
res += mul(Get(s2,dx,dy), float4x4(-0.009309836663306,-0.006266742944717,-0.013604701496661,-0.036662939935923,-0.115692861378193,0.168623611330986,-0.026274789124727,-0.100534558296204,0.017427852377295,-0.008420742116868,0.060687411576509,0.041466392576694,0.025173787027597,-0.015388783998787,0.046665079891682,0.014166229404509));
res += mul(Get(s3,-dx,-dy), float4x4(-0.028467319905758,0.102669395506382,-0.063602991402149,0.117061115801334,0.125777304172516,-0.124064922332764,-0.144062399864197,-0.099976100027561,-0.046163436025381,0.353141188621521,0.072437718510628,-0.122039221227169,0.091565139591694,0.026520924642682,0.083368137478828,-0.153660416603088));
res += mul(Get(s3,-dx,0), float4x4(-0.049404792487621,0.071724593639374,0.000564812449738,0.069182060658932,-0.055790122598410,0.022397840395570,0.072247520089149,0.025303311645985,0.167404189705849,0.087550513446331,-0.021523252129555,0.015875501558185,0.208691745996475,-0.036536727100611,-0.085366219282150,0.007654395885766));
res += mul(Get(s3,-dx,dy), float4x4(-0.045389305800200,-0.026247719302773,-0.035296499729156,-0.109578289091587,-0.053514458239079,0.105308502912521,0.069982506334782,-0.112862408161163,-0.017895476892591,-0.054197911173105,-0.053791169077158,0.041908655315638,-0.044227469712496,-0.019316347315907,-0.065650321543217,0.068798884749413));
res += mul(Get(s3,0,-dy), float4x4(-0.181451082229614,-0.016339726746082,-0.014395227655768,-0.070086777210236,-0.146129563450813,0.037642523646355,-0.055509064346552,0.105278536677361,-0.004086320288479,0.113188691437244,-0.132530823349953,-0.006622093729675,0.286772370338440,0.079469390213490,-0.158535510301590,-0.163944348692894));
res += mul(Get(s3,0,0), float4x4(-0.061065115034580,0.086425408720970,0.066011413931847,-0.026653910055757,-0.005144236143678,0.067417077720165,0.028628652915359,0.040247019380331,-0.096127249300480,-0.066032327711582,0.092072717845440,0.178405165672302,0.063869409263134,-0.042333986610174,-0.139570683240891,-0.143152147531509));
res += mul(Get(s3,0,dy), float4x4(0.064385481178761,-0.042549818754196,-0.021966995671391,-0.001639428082854,-0.095808610320091,-0.057562377303839,0.095901206135750,0.085208877921104,0.036481980234385,-0.085757225751877,-0.019288169220090,0.169656828045845,-0.003581140888855,-0.041283983737230,-0.038459356874228,0.089879959821701));
res += mul(Get(s3,dx,-dy), float4x4(-0.128512725234032,0.042155526578426,0.043208766728640,-0.016602659597993,0.063717566430569,0.067739598453045,0.014330036006868,-0.065492257475853,-0.073933973908424,-0.006060019135475,-0.100079312920570,0.070703223347664,-0.055148694664240,-0.004983400460333,-0.092250905930996,-0.087189197540283));
res += mul(Get(s3,dx,0), float4x4(-0.013442037627101,0.019787760451436,-0.056997600942850,0.055566262453794,0.036840606480837,-0.026560092344880,-0.140911683440208,0.161789059638977,0.074423216283321,-0.015869118273258,-0.067505374550819,0.007909384556115,-0.212866485118866,-0.033168368041515,-0.082962647080421,0.217797607183456));
res += mul(Get(s3,dx,dy), float4x4(-0.098991915583611,0.014222653582692,-0.042372833937407,-0.026123370975256,-0.009241448715329,0.059282999485731,-0.085798971354961,-0.080587305128574,0.081795759499073,-0.012110203504562,-0.099393188953400,-0.101455189287663,0.004132485017180,0.089058250188828,0.038081705570221,0.012458836659789));
res = max(float4(0,0,0,0), res);
return res;
}
