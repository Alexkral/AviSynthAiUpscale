sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.028197232633829,0.096348792314529,-0.021330928429961,-0.042759839445353,0.050102937966585,0.075318291783333,-0.113073877990246,0.005517391022295,-0.033716324716806,-0.047016195952892,0.081416144967079,-0.017754564061761,-0.045344352722168,-0.038414917886257,-0.043654423207045,0.001325735356659));
res += mul(Get(s0,-dx,0), float4x4(0.056218128651381,0.083602100610733,-0.003106591757387,-0.001421098830178,-0.022071065381169,0.068174459040165,-0.024180037900805,0.041785053908825,0.175371691584587,0.170683920383453,0.032661367207766,-0.018418718129396,-0.007123393006623,0.021999903023243,0.106704168021679,-0.010859892703593));
res += mul(Get(s0,-dx,dy), float4x4(0.041473791003227,-0.141558542847633,-0.207781836390495,0.041811473667622,-0.100130483508110,-0.082157835364342,-0.026532696560025,-0.068345881998539,-0.026282999664545,0.018537988886237,0.009515593759716,-0.008865639567375,-0.058665178716183,-0.127176985144615,-0.052717514336109,0.056628581136465));
res += mul(Get(s0,0,-dy), float4x4(-0.007054316345602,-0.088008455932140,-0.106349870562553,0.062342338263988,-0.018822066485882,-0.006527801975608,0.012479645200074,-0.024652555584908,-0.126730397343636,0.019043158739805,0.089404948055744,-0.068804368376732,-0.085456945002079,0.119951650500298,-0.021649286150932,0.121744342148304));
res += mul(Get(s0,0,0), float4x4(0.057199776172638,-0.106797613203526,-0.197924315929413,0.029742555692792,0.010059021413326,0.080955855548382,0.049498591572046,-0.053332604467869,0.067209921777248,0.183380886912346,0.210215970873833,0.018875068053603,0.029681131243706,-0.058980152010918,-0.110270582139492,0.077129520475864));
res += mul(Get(s0,0,dy), float4x4(-0.103313721716404,-0.007855650968850,-0.009541602805257,0.081437572836876,0.061214819550514,-0.096197821199894,-0.079532772302628,0.066798239946365,-0.056133206933737,-0.013330994173884,-0.084360226988792,-0.065385594964027,0.055234540253878,-0.011931556276977,0.127846896648407,-0.042638428509235));
res += mul(Get(s0,dx,-dy), float4x4(-0.001379036926664,0.062287449836731,0.066488496959209,-0.031097020953894,-0.002851855242625,-0.052461113780737,0.056760322302580,0.099543996155262,-0.213831514120102,-0.068768925964832,-0.035310372710228,-0.062130805104971,-0.000286189460894,-0.007308369036764,0.074280276894569,0.007558501325548));
res += mul(Get(s0,dx,0), float4x4(-0.122962728142738,-0.038178261369467,0.156836882233620,0.020645873621106,-0.044655323028564,-0.017320999875665,0.041844770312309,0.039079364389181,0.031949888914824,-0.074894115328789,0.115789510309696,0.064468860626221,-0.074215739965439,0.062773428857327,0.091135919094086,0.042057026177645));
res += mul(Get(s0,dx,dy), float4x4(-0.007815533317626,-0.061681613326073,-0.006121297832578,-0.063817054033279,0.041548121720552,-0.059332534670830,-0.025917213410139,-0.000865053094458,0.075018562376499,0.106963671743870,-0.085208840668201,0.065529450774193,0.048433888703585,0.056165866553783,0.013870914466679,0.064295321702957));
res += mul(Get(s1,-dx,-dy), float4x4(0.010509551502764,0.092019148170948,-0.014457549899817,-0.095177382230759,0.025157971307635,-0.036867059767246,-0.126267850399017,0.057487469166517,0.078235544264317,0.038521584123373,-0.002662169979885,-0.083403550088406,0.036645691841841,-0.019012724980712,-0.019697315990925,0.084758616983891));
res += mul(Get(s1,-dx,0), float4x4(-0.067716218531132,0.144060224294662,0.084987081587315,-0.066545404493809,-0.022717891260982,-0.004138528369367,-0.105226397514343,-0.000839079846628,0.066845215857029,-0.056347250938416,0.032102610915899,0.118461035192013,0.065097317099571,-0.098838292062283,0.059209760278463,0.003366756485775));
res += mul(Get(s1,-dx,dy), float4x4(0.027783976867795,0.104597389698029,0.007521895691752,0.001356836524792,-0.039822027087212,0.042644612491131,-0.064035244286060,-0.087176501750946,0.041831124573946,-0.068351089954376,-0.007104815449566,-0.027982367202640,-0.067466944456100,0.047079406678677,0.058276824653149,-0.030725408345461));
res += mul(Get(s1,0,-dy), float4x4(0.113332785665989,-0.088195040822029,0.059260122478008,-0.016216916963458,-0.073416210711002,-0.018695598468184,0.009938225150108,-0.001720856060274,-0.071769356727600,0.003227548673749,0.053100489079952,0.063679777085781,0.108798004686832,0.042569246143103,0.148955374956131,-0.034920316189528));
res += mul(Get(s1,0,0), float4x4(-0.069908894598484,0.007507184054703,-0.015578866004944,-0.110422402620316,-0.014592082239687,0.074026368558407,-0.014874806627631,0.031675018370152,-0.007908348925412,-0.014662825502455,0.003394642844796,0.040840804576874,-0.093349978327751,0.063369646668434,0.005233672447503,-0.039894424378872));
res += mul(Get(s1,0,dy), float4x4(-0.071340106427670,-0.174061626195908,-0.058444164693356,-0.002402909332886,-0.033734276890755,0.006764974910766,0.052596788853407,0.076833099126816,0.014545078389347,0.038471292704344,-0.085147440433502,-0.068240933120251,-0.044191438704729,-0.036076199263334,0.044948413968086,0.081454232335091));
res += mul(Get(s1,dx,-dy), float4x4(-0.017700336873531,0.036855798214674,-0.050365354865789,-0.092623814940453,-0.035382617264986,0.093863680958748,-0.048212934285402,-0.066517397761345,-0.132022589445114,0.153708502650261,0.056407682597637,-0.032882727682590,-0.024159165099263,-0.034324739128351,0.021056441590190,0.011348250322044));
res += mul(Get(s1,dx,0), float4x4(-0.053619753569365,0.049284975975752,0.089465804398060,-0.124479271471500,-0.162616744637489,0.102367796003819,0.072982892394066,0.085586205124855,-0.161700710654259,0.117100499570370,-0.122822225093842,0.031131422147155,-0.046494808048010,0.117397904396057,0.067895263433456,0.145978808403015));
res += mul(Get(s1,dx,dy), float4x4(-0.090455904603004,0.030686806887388,0.075153417885303,0.116153500974178,-0.111399009823799,-0.033600147813559,-0.020128639414907,0.005923100747168,-0.034190420061350,0.048076681792736,0.121454991400242,-0.133258894085884,0.045615922659636,0.057603921741247,-0.059902839362621,0.072555370628834));
res += mul(Get(s2,-dx,-dy), float4x4(0.103912800550461,-0.084567092359066,-0.019965305924416,-0.081355512142181,0.033692073076963,0.090834431350231,0.006573260296136,-0.078671477735043,-0.049951784312725,-0.020381534472108,-0.157229781150818,-0.058687284588814,-0.114372275769711,0.062658101320267,-0.062044776976109,-0.096483826637268));
res += mul(Get(s2,-dx,0), float4x4(0.010801325552166,-0.088057406246662,0.082415953278542,-0.012860218994319,-0.086813516914845,-0.011403835378587,-0.015466597862542,-0.091373942792416,-0.016703253611922,-0.020101977512240,-0.075099088251591,0.007744018919766,-0.083808012306690,0.068330720067024,-0.022991666570306,-0.024961970746517));
res += mul(Get(s2,-dx,dy), float4x4(0.038172382861376,-0.017461001873016,0.043334349989891,0.088513940572739,-0.048262383788824,-0.053293734788895,-0.020201245322824,0.018764132633805,-0.017961157485843,-0.081889972090721,0.027066657319665,0.003722711000592,-0.008782479912043,-0.003502022009343,-0.042395427823067,-0.095377184450626));
res += mul(Get(s2,0,-dy), float4x4(0.064930409193039,-0.046444609761238,-0.027093559503555,0.085118576884270,-0.077899225056171,0.037502143532038,-0.093185596168041,-0.072064101696014,0.078619040548801,0.051587279886007,-0.006549617275596,-0.039794839918613,0.032851077616215,0.035900030285120,0.017286026850343,-0.011097170412540));
res += mul(Get(s2,0,0), float4x4(-0.036645807325840,0.020419102162123,-0.122107632458210,-0.012517363764346,0.030278986319900,0.185456961393356,-0.092451207339764,0.043701861053705,0.144279822707176,0.047717064619064,0.092668600380421,-0.031158164143562,0.055024199187756,0.062263824045658,-0.032403215765953,0.004847982432693));
res += mul(Get(s2,0,dy), float4x4(0.021170420572162,0.087636940181255,0.057484705001116,0.027753671631217,0.017673239111900,0.117070280015469,-0.050465278327465,0.124350838363171,0.054789699614048,0.099041275680065,-0.042985279113054,-0.016654781997204,0.048971015959978,0.007885796949267,-0.043256599456072,0.258134037256241));
res += mul(Get(s2,dx,-dy), float4x4(0.166377320885658,-0.011673636734486,0.003296649083495,0.034864068031311,0.137026190757751,-0.075705237686634,0.056474763900042,0.011193611659110,-0.064890541136265,-0.044305730611086,0.001070459373295,0.113154664635658,-0.066893860697746,-0.012276746332645,-0.027719030156732,0.038386791944504));
res += mul(Get(s2,dx,0), float4x4(0.007691135630012,0.017262537032366,-0.171544164419174,-0.091446734964848,-0.025987748056650,0.032187473028898,-0.164395883679390,0.084437869489193,0.066821008920670,0.013747110031545,0.013737248256803,0.058474451303482,0.109754398465157,0.089637026190758,0.009715164080262,-0.083492115139961));
res += mul(Get(s2,dx,dy), float4x4(-0.030441822484136,-0.060116238892078,0.087547622621059,0.006262912414968,0.010399765335023,-0.110827259719372,-0.075371488928795,-0.004422978963703,0.021105686202645,0.115347459912300,-0.079117603600025,-0.045161206275225,-0.003205343615264,-0.035853315144777,0.128668949007988,0.136796966195107));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001694678911008,-0.044102106243372,0.053184174001217,-0.041317719966173,0.024635976180434,-0.096451506018639,0.059324994683266,-0.142718181014061,0.036941070109606,0.060306772589684,0.015221305191517,0.040227204561234,-0.124774247407913,-0.010698816739023,0.170221805572510,0.034599430859089));
res += mul(Get(s3,-dx,0), float4x4(0.023458031937480,-0.005446527153254,0.013131340965629,0.060020379722118,0.099422909319401,0.044633131474257,0.040784362703562,-0.184447675943375,0.145640358328819,-0.014277017675340,0.057010211050510,-0.137889906764030,-0.000836996652652,-0.000327262008796,0.001157713239081,-0.116357699036598));
res += mul(Get(s3,-dx,dy), float4x4(-0.010984435677528,-0.008790954947472,0.069171987473965,0.005165605340153,-0.056419633328915,0.040865752846003,-0.003655675798655,-0.069344863295555,0.050018265843391,0.077521264553070,0.069815218448639,0.062035012990236,-0.000403691112297,-0.031621370464563,-0.009908222593367,-0.125565215945244));
res += mul(Get(s3,0,-dy), float4x4(0.055831432342529,-0.037964466959238,0.035091988742352,-0.153513431549072,-0.036143004894257,-0.000479229842313,-0.031832925975323,-0.026072232052684,-0.168994307518005,0.029896359890699,-0.021395187824965,-0.115781798958778,0.093981802463531,-0.064740516245365,-0.050917956978083,0.064125157892704));
res += mul(Get(s3,0,0), float4x4(-0.101034402847290,-0.090822704136372,-0.049703326076269,0.017608311027288,-0.069147825241089,-0.023436591029167,-0.028354773297906,0.001274244394153,0.135840043425560,-0.130320787429810,0.033660259097815,0.014526654966176,0.053297188133001,0.054421752691269,-0.008498840965331,0.042285267263651));
res += mul(Get(s3,0,dy), float4x4(-0.040308017283678,-0.012679600156844,0.009495235048234,0.009331820532680,0.170252874493599,-0.042632345110178,-0.122037090361118,0.002356005134061,0.074556231498718,0.004846822470427,-0.007235204800963,0.118091635406017,0.070721335709095,0.041157551109791,-0.052937064319849,0.075440838932991));
res += mul(Get(s3,dx,-dy), float4x4(0.003478206694126,-0.000711271946784,0.103341348469257,-0.057995241135359,0.097568213939667,-0.080898359417915,0.186075821518898,0.033986195921898,0.001230400172062,0.040470045059919,-0.021187681704760,-0.125079810619354,-0.012394974939525,-0.004473385866731,0.038923338055611,-0.001059934846126));
res += mul(Get(s3,dx,0), float4x4(0.032510217279196,-0.019900165498257,-0.055883556604385,0.013672396540642,-0.017734812572598,0.084100119769573,0.112960308790207,-0.155451357364655,0.077498212456703,0.067457608878613,0.149527058005333,-0.061885833740234,0.027178226038814,0.025267846882343,-0.019519237801433,-0.090769805014133));
res += mul(Get(s3,dx,dy), float4x4(0.004215809516609,0.012648714706302,-0.111768126487732,-0.059995997697115,-0.151330754160881,-0.099787078797817,0.066964387893677,0.114736258983612,0.043569575995207,-0.009256323799491,0.002733898814768,-0.067587718367577,-0.001507092616521,-0.092409349977970,-0.084868423640728,0.007532204966992));
res = max(float4(0,0,0,0), res);
return res;
}
