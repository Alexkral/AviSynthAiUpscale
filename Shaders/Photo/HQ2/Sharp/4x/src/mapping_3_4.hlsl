sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.027940213680267,-0.035204697400331,-0.022884165868163,0.020328864455223,-0.041331924498081,-0.119825422763824,-0.009349802508950,0.116276040673256,-0.034288436174393,0.058710534125566,-0.068351514637470,-0.075204119086266,0.096778400242329,-0.054594535380602,-0.189956024289131,-0.004190125502646));
res += mul(Get(s0,-dx,0), float4x4(-0.005742337554693,0.216194748878479,-0.002345418324694,-0.025165529921651,0.022995837032795,0.067922025918961,0.071322806179523,-0.010389037430286,0.006117614917457,0.000041916602640,0.016444426029921,-0.087977670133114,-0.060204789042473,-0.034457553178072,0.051967862993479,0.002625009510666));
res += mul(Get(s0,-dx,dy), float4x4(-0.084859505295753,-0.046345930546522,-0.062516592442989,-0.025253051891923,-0.015090920962393,-0.069053135812283,-0.059636034071445,0.016067972406745,0.099826186895370,0.115749008953571,0.007287499960512,0.014078057371080,-0.005445837974548,-0.015224128961563,0.042134415358305,0.007452886085957));
res += mul(Get(s0,0,-dy), float4x4(0.070944041013718,0.018465919420123,-0.058328054845333,0.040443204343319,0.020088890567422,0.049616809934378,-0.104656778275967,-0.032302618026733,0.091690614819527,-0.024546466767788,-0.065058015286922,0.095947101712227,-0.028418982401490,0.078627377748489,-0.044573690742254,0.197495594620705));
res += mul(Get(s0,0,0), float4x4(-0.130875512957573,-0.031752649694681,0.019624724984169,0.137207075953484,-0.040053155273199,-0.126468822360039,-0.052518215030432,-0.106640346348286,-0.076691187918186,0.046053230762482,-0.149051696062088,0.106443457305431,0.038843113929033,0.123212382197380,-0.010052915662527,0.089125223457813));
res += mul(Get(s0,0,dy), float4x4(-0.115862943232059,-0.120250314474106,0.065946683287621,0.013973556458950,-0.085122264921665,0.029753092676401,-0.041538607329130,0.125305384397507,0.082629904150963,0.000669620989356,0.083440057933331,0.123613566160202,0.014369746670127,0.120509520173073,0.070643559098244,0.047000762075186));
res += mul(Get(s0,dx,-dy), float4x4(0.071428462862968,-0.069315925240517,0.067763619124889,-0.033589016646147,0.023394552990794,-0.073302842676640,0.018081750720739,-0.052764762192965,0.009072295390069,0.128225058317184,-0.115288890898228,0.080828592181206,-0.028719551861286,0.032717760652304,-0.035224165767431,-0.104172147810459));
res += mul(Get(s0,dx,0), float4x4(-0.053900249302387,-0.008329188451171,-0.014272735454142,-0.044695060700178,0.113356173038483,-0.076028175652027,0.149204775691032,-0.048422478139400,-0.027571711689234,-0.095858246088028,0.014712001197040,0.027728701010346,0.002479582093656,-0.018103092908859,-0.111727520823479,0.010324651375413));
res += mul(Get(s0,dx,dy), float4x4(0.033388163894415,-0.057387039065361,0.158671855926514,-0.067097619175911,-0.055095750838518,-0.205524161458015,0.024572730064392,-0.060067705810070,-0.020209154114127,-0.031095355749130,0.012846795842052,-0.001211719820276,-0.046857602894306,0.053837947547436,-0.050380539149046,-0.016860932111740));
res += mul(Get(s1,-dx,-dy), float4x4(-0.048029460012913,0.029007196426392,0.026125149801373,0.222605586051941,-0.018654191866517,-0.028349347412586,-0.101629547774792,0.037170130759478,0.094095751643181,-0.034097861498594,-0.037940785288811,-0.003181130392477,0.074399933218956,0.047595243901014,-0.014704592525959,0.115856930613518));
res += mul(Get(s1,-dx,0), float4x4(0.133309334516525,0.094236925244331,-0.026493771001697,0.045548416674137,-0.087387345731258,0.006229682825506,-0.093415759503841,-0.033151879906654,-0.008530685678124,0.071322053670883,0.162863075733185,-0.024518011137843,0.107519067823887,0.094617694616318,-0.044192396104336,0.114626869559288));
res += mul(Get(s1,-dx,dy), float4x4(-0.042676832526922,0.037138964980841,-0.038548588752747,-0.117786303162575,-0.055359926074743,0.080189853906631,-0.137048482894897,-0.100051119923592,-0.049749273806810,0.045917998999357,-0.044713377952576,0.059713646769524,0.104768723249435,0.074227526783943,-0.052714399993420,-0.083866760134697));
res += mul(Get(s1,0,-dy), float4x4(0.115872755646706,0.050789617002010,-0.030704159289598,-0.018440693616867,0.182361006736755,-0.008470785804093,0.047712612897158,0.051231224089861,-0.073187850415707,0.070452205836773,0.082069270312786,0.090967074036598,0.105755895376205,0.001517194439657,0.155277147889137,-0.022595958784223));
res += mul(Get(s1,0,0), float4x4(-0.107313729822636,0.129105016589165,-0.005354329477996,-0.101075127720833,-0.041951898485422,-0.143012046813965,-0.001851719105616,0.029870714992285,-0.091904036700726,-0.081659197807312,0.004147677682340,0.080309838056564,0.093013219535351,0.051503691822290,-0.003771506948397,-0.021178616210818));
res += mul(Get(s1,0,dy), float4x4(-0.080452762544155,0.139734372496605,-0.024030871689320,-0.067599371075630,0.015336251817644,0.052624229341745,-0.067686006426811,-0.070892415940762,-0.042209703475237,0.084513276815414,-0.177889555692673,0.024713141843677,-0.100243873894215,0.092335462570190,-0.022190470248461,-0.045111436396837));
res += mul(Get(s1,dx,-dy), float4x4(-0.055998254567385,-0.005237397272140,0.014288248494267,0.078963033854961,-0.011322424747050,-0.003272695932537,0.173136949539185,0.076571077108383,0.119916714727879,0.015017488040030,0.148110896348953,0.042491834610701,-0.112397417426109,0.157277151942253,0.022140054032207,0.044573236256838));
res += mul(Get(s1,dx,0), float4x4(0.032229881733656,-0.222489207983017,0.028198445215821,-0.057663738727570,0.034012034535408,-0.002077462850139,-0.110324956476688,0.080151714384556,0.003781217616051,-0.012546516023576,-0.149317622184753,-0.147067174315453,-0.062125913798809,0.019143560901284,-0.035121086984873,-0.028569577261806));
res += mul(Get(s1,dx,dy), float4x4(-0.148751929402351,-0.093187429010868,-0.082940995693207,-0.213785558938980,-0.027843184769154,-0.001017602044158,0.092202283442020,0.008115553297102,-0.198169901967049,0.006317604798824,0.045556746423244,0.053176466375589,-0.037818457931280,-0.018705615773797,-0.040542915463448,0.108979970216751));
res += mul(Get(s2,-dx,-dy), float4x4(0.121614187955856,-0.014222749508917,-0.028893411159515,-0.076290160417557,-0.097816161811352,-0.069049023091793,0.023482479155064,0.059673793613911,0.064774140715599,0.013295410200953,0.095974624156952,0.027033951133490,0.018775830045342,0.042944680899382,0.119009166955948,0.065100498497486));
res += mul(Get(s2,-dx,0), float4x4(-0.096426323056221,0.063478849828243,-0.005707069765776,-0.006475219037384,0.097371324896812,0.003385358490050,0.170893251895905,-0.092979915440083,-0.105432286858559,-0.024221260100603,-0.050073795020580,-0.067359052598476,-0.097773104906082,0.079280547797680,-0.023952033370733,0.018531819805503));
res += mul(Get(s2,-dx,dy), float4x4(-0.057581178843975,-0.006077749654651,-0.021418971940875,-0.214510992169380,0.024682002142072,-0.096908204257488,0.116790793836117,0.049809984862804,-0.014674448408186,0.043839246034622,0.090701222419739,0.023723233491182,-0.007945857942104,-0.039903100579977,-0.150110721588135,0.083816297352314));
res += mul(Get(s2,0,-dy), float4x4(0.051602933555841,-0.028999596834183,0.006238125264645,-0.018144821748137,-0.069843515753746,0.035814676433802,-0.075418271124363,-0.052995458245277,0.026433516293764,-0.025260036811233,0.026518225669861,-0.002342309337109,0.002513237064704,-0.039070479571819,0.044569842517376,0.031632203608751));
res += mul(Get(s2,0,0), float4x4(-0.015799053013325,-0.105939254164696,0.030006071552634,-0.065182246267796,0.029671637341380,-0.076796740293503,-0.036200009286404,0.149638041853905,-0.146507278084755,0.015402903780341,0.005517625249922,0.135635077953339,0.006657632067800,0.227953076362610,0.086088955402374,-0.010584298521280));
res += mul(Get(s2,0,dy), float4x4(0.152955800294876,0.061795037239790,-0.224764436483383,0.097054488956928,0.000741068157367,0.015837455168366,0.066584989428520,0.026104373857379,-0.080720752477646,0.005488318391144,-0.162873223423958,-0.038268543779850,-0.114775680005550,0.068583399057388,-0.055397938936949,0.026637466624379));
res += mul(Get(s2,dx,-dy), float4x4(0.125631079077721,-0.022269176319242,-0.027419218793511,0.138455003499985,0.027470413595438,-0.004519073292613,0.020147599279881,-0.034815020859241,-0.146029278635979,-0.026670267805457,-0.018593767657876,-0.015065338462591,0.019497500732541,-0.011525148525834,-0.012993713840842,0.019806990399957));
res += mul(Get(s2,dx,0), float4x4(0.050761256366968,-0.064749389886856,0.002470250474289,-0.023128896951675,-0.070944018661976,-0.075645893812180,-0.089243158698082,-0.004190168343484,-0.057405434548855,0.025352073833346,-0.072546020150185,0.024914896115661,-0.036102738231421,0.103868134319782,-0.056850619614124,-0.040679141879082));
res += mul(Get(s2,dx,dy), float4x4(-0.045991122722626,-0.028989579528570,0.062997296452522,-0.038855373859406,0.092999026179314,0.132116034626961,-0.043130196630955,0.086859211325645,-0.062191758304834,0.089891552925110,-0.034678056836128,0.049415096640587,0.046123225241899,0.075320698320866,0.031362541019917,-0.015603777952492));
res += mul(Get(s3,-dx,-dy), float4x4(0.045165732502937,-0.038339510560036,0.032097060233355,0.143773868680000,-0.074065074324608,-0.056090928614140,0.117929741740227,0.051676973700523,-0.050258394330740,0.146844223141670,-0.039377845823765,-0.066190101206303,-0.013554621487856,0.151732668280602,-0.009110402315855,-0.053953178226948));
res += mul(Get(s3,-dx,0), float4x4(-0.063953101634979,-0.061465680599213,-0.041609797626734,0.019581699743867,-0.026166006922722,-0.090981192886829,-0.256574630737305,0.100154407322407,0.070907123386860,0.134691625833511,-0.107516236603260,0.003205052576959,-0.012446791864932,0.061467986553907,0.142015546560287,-0.061479628086090));
res += mul(Get(s3,-dx,dy), float4x4(-0.014306033030152,0.031779747456312,0.179843172430992,-0.000625655171461,0.048678390681744,-0.022206673398614,-0.004227834288031,-0.050096418708563,-0.031534500420094,-0.029517102986574,0.066727615892887,-0.018934298306704,-0.053035266697407,-0.080706171691418,-0.105145849287510,0.111471280455589));
res += mul(Get(s3,0,-dy), float4x4(0.007441470865160,0.216267973184586,-0.032740004360676,-0.036261077970266,-0.016801316291094,0.094266258180141,0.033402565866709,0.016413049772382,-0.068648576736450,-0.004132736008614,-0.049410633742809,-0.021965686231852,0.052971914410591,-0.102128744125366,0.097504161298275,0.129790991544724));
res += mul(Get(s3,0,0), float4x4(-0.017493549734354,0.106280609965324,-0.029069375246763,0.023274453356862,-0.018712993711233,0.123195372521877,-0.073331110179424,0.037492927163839,-0.033039011061192,-0.121111556887627,0.109075665473938,-0.024243321269751,0.063770554959774,0.007472778670490,0.175380349159241,-0.089191086590290));
res += mul(Get(s3,0,dy), float4x4(-0.001073513762094,0.057434264570475,0.020259551703930,-0.109203420579433,0.043943408876657,-0.077338285744190,0.047741472721100,-0.043513633310795,-0.037939619272947,0.052997991442680,0.009191798046231,0.045411169528961,-0.024514758959413,0.108418703079224,0.101816825568676,-0.152911424636841));
res += mul(Get(s3,dx,-dy), float4x4(-0.044065427035093,0.149322837591171,-0.002600705716759,0.078251510858536,-0.039624530822039,-0.004244167823344,-0.079551868140697,-0.068064212799072,0.069613300263882,0.027526134625077,-0.009370316751301,-0.150040894746780,0.006591127254069,0.093007825314999,-0.107962563633919,0.099231690168381));
res += mul(Get(s3,dx,0), float4x4(-0.099002547562122,-0.100218713283539,0.127547055482864,-0.058041375130415,-0.097126409411430,-0.076927497982979,0.051738813519478,-0.174232646822929,-0.012116057798266,0.026231253519654,0.027037391439080,-0.006811094935983,0.060258097946644,-0.030215134844184,-0.049060791730881,-0.024385457858443));
res += mul(Get(s3,dx,dy), float4x4(0.065667733550072,-0.157802164554596,0.202456548810005,-0.037399757653475,0.038257062435150,0.009149866178632,0.052072104066610,0.013730865903199,0.063607603311539,0.089340858161449,-0.011857983656228,-0.012290498241782,-0.003377019893378,-0.196425959467888,-0.020079322159290,-0.019406750798225));
res = max(float4(0,0,0,0), res);
return res;
}
