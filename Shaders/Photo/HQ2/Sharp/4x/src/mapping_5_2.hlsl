sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.052050959318876,-0.057696036994457,-0.110367447137833,0.049958921968937,0.170421406626701,0.029360800981522,0.024126417934895,0.030403049662709,0.135420069098473,0.039569512009621,-0.022593412548304,0.031830191612244,-0.027074910700321,-0.076861716806889,-0.045535907149315,0.046585712581873));
res += mul(Get(s0,-dx,0), float4x4(-0.060265406966209,0.073624685406685,-0.018310831859708,-0.077404409646988,0.154493510723114,0.159527286887169,0.095261305570602,-0.057115372270346,0.068040430545807,0.061431068927050,0.018673248589039,-0.102148085832596,0.093057006597519,-0.016971878707409,-0.029574282467365,0.007625259924680));
res += mul(Get(s0,-dx,dy), float4x4(-0.008337418548763,-0.056803267449141,0.009331660345197,0.087434120476246,-0.025845285505056,0.141455635428429,0.044325206428766,0.105490989983082,0.023905817419291,-0.057556539773941,-0.104999035596848,-0.074289306998253,0.070568129420280,0.147794783115387,-0.107995457947254,0.001952041056938));
res += mul(Get(s0,0,-dy), float4x4(-0.161540701985359,-0.075155794620514,0.060996137559414,-0.087018311023712,0.079703539609909,-0.081950619816780,-0.062377158552408,-0.145768389105797,-0.008748813532293,0.024571700021625,-0.033707544207573,-0.033483196049929,0.051694396883249,-0.142106696963310,0.029046000912786,-0.098959453403950));
res += mul(Get(s0,0,0), float4x4(-0.037065692245960,0.052114978432655,-0.003878686111420,-0.089515417814255,0.097898356616497,0.177075430750847,0.062466867268085,0.102085903286934,-0.072794444859028,-0.011164275929332,-0.010314725339413,0.066638953983784,0.013095322065055,0.107398770749569,0.082072705030441,-0.110028147697449));
res += mul(Get(s0,0,dy), float4x4(0.033995255827904,-0.036011084914207,0.003931549843401,-0.082780994474888,-0.117765091359615,-0.062099419534206,-0.059789262712002,-0.114562444388866,0.016210775822401,0.022487714886665,0.044889423996210,0.005418238695711,-0.080025181174278,0.042705379426479,-0.041772503405809,-0.104952000081539));
res += mul(Get(s0,dx,-dy), float4x4(0.088490672409534,-0.132245033979416,-0.025281991809607,0.145994618535042,0.114317938685417,-0.069564007222652,0.065632380545139,-0.032354928553104,0.015242923982441,-0.003858425654471,0.003520312719047,-0.033775046467781,0.017719240859151,0.028288977220654,0.031979598104954,0.002152290195227));
res += mul(Get(s0,dx,0), float4x4(0.083126120269299,-0.045257456600666,0.104024484753609,0.101982496678829,-0.005398613866419,0.015645528212190,0.024668104946613,0.107804559171200,0.039416104555130,-0.085627570748329,0.102265238761902,-0.150099098682404,0.113929815590382,-0.136616930365562,0.172937721014023,-0.043035209178925));
res += mul(Get(s0,dx,dy), float4x4(0.030648691579700,0.081841833889484,0.197282955050468,-0.036812867969275,-0.022681009024382,0.022183712571859,0.085042111575603,0.002573487814516,-0.056748449802399,0.074489690363407,0.091827720403671,-0.075885035097599,-0.013846462592483,-0.080773264169693,0.030442090705037,0.033680807799101));
res += mul(Get(s1,-dx,-dy), float4x4(0.001674529514275,-0.106997847557068,0.078530319035053,-0.057673387229443,-0.022422146052122,0.058780223131180,-0.009976197965443,-0.090904615819454,-0.044747937470675,0.034504886716604,-0.085845477879047,0.046927001327276,0.002132189460099,-0.009409003891051,-0.050700232386589,0.091762788593769));
res += mul(Get(s1,-dx,0), float4x4(-0.002872760174796,-0.052950989454985,-0.039104957133532,0.044108599424362,0.025103839114308,0.080581791698933,0.001006034668535,-0.015153203159571,0.026872763410211,-0.139572381973267,0.067060284316540,-0.047754906117916,-0.042912505567074,0.027804475277662,0.089785635471344,-0.108399115502834));
res += mul(Get(s1,-dx,dy), float4x4(-0.018012825399637,0.043321978300810,-0.035066068172455,-0.102272853255272,0.091944769024849,0.012255374342203,-0.001065545948222,0.031145440414548,0.034132901579142,0.027832392603159,-0.101392224431038,-0.059517756104469,0.012057145126164,0.005701193120331,-0.049825228750706,0.005227413959801));
res += mul(Get(s1,0,-dy), float4x4(-0.048368491232395,0.045671004801989,0.012559760361910,0.007743281312287,-0.057086240500212,0.031851597130299,-0.027014778926969,-0.046642433851957,-0.051481403410435,-0.057781465351582,-0.007167322095484,0.132088318467140,0.139470577239990,0.001320525538176,-0.068552777171135,0.065332889556885));
res += mul(Get(s1,0,0), float4x4(0.054379664361477,-0.176709413528442,0.121284939348698,0.083477571606636,0.031981505453587,-0.011496916413307,-0.193386912345886,0.096869289875031,0.024748491123319,-0.009074868634343,-0.006701363250613,0.021917300298810,0.004418313503265,-0.011571109294891,-0.004992798436433,-0.107286840677261));
res += mul(Get(s1,0,dy), float4x4(-0.054250214248896,-0.158713907003403,0.011856731958687,0.075010575354099,0.004769672639668,-0.072897031903267,0.047457143664360,-0.086072579026222,-0.066601760685444,0.019397245720029,0.014121571555734,0.070407904684544,0.035486802458763,0.077274739742279,-0.002602509222925,-0.004369391128421));
res += mul(Get(s1,dx,-dy), float4x4(-0.083055056631565,0.058218579739332,-0.007454898208380,0.013066003099084,0.063208363950253,0.073813155293465,-0.029427679255605,0.113597720861435,0.064510799944401,-0.072541803121567,-0.040710046887398,-0.051920477300882,0.107888601720333,0.055121194571257,-0.105485536158085,-0.024082167074084));
res += mul(Get(s1,dx,0), float4x4(-0.026474438607693,0.018281204625964,0.041365474462509,-0.115750744938850,0.020953942090273,-0.116304583847523,-0.036439225077629,0.075507707893848,-0.014730351045728,-0.139303103089333,0.038288306444883,0.077855959534645,-0.128662228584290,0.090727813541889,-0.180786862969398,0.029676286503673));
res += mul(Get(s1,dx,dy), float4x4(0.073091678321362,-0.008926049806178,-0.104238629341125,0.083015084266663,0.139777973294258,-0.019364854320884,-0.060343042016029,0.148743346333504,-0.133253291249275,-0.131407096982002,-0.037092659622431,-0.016519974917173,-0.067947015166283,0.085401296615601,0.071610771119595,0.071442298591137));
res += mul(Get(s2,-dx,-dy), float4x4(0.036599408835173,-0.019356664270163,-0.010598430410028,-0.106064990162849,-0.088584937155247,0.101051174104214,0.032217137515545,-0.027663240209222,-0.007359634619206,0.135962352156639,0.070597857236862,-0.100521907210350,-0.015962315723300,0.006570299621671,0.126384794712067,0.011222759261727));
res += mul(Get(s2,-dx,0), float4x4(-0.051223792135715,0.038368627429008,-0.065407782793045,-0.007322105579078,-0.019462754949927,0.088643692433834,0.012003840878606,0.031486190855503,-0.018047640100121,-0.070519588887691,0.078835010528564,0.015525256283581,0.092293873429298,-0.025796899572015,-0.046286024153233,0.015728924423456));
res += mul(Get(s2,-dx,dy), float4x4(-0.072837419807911,0.230723291635513,-0.021458316594362,-0.014516416005790,-0.036160096526146,0.026058737188578,-0.101995423436165,-0.100117839872837,-0.199655637145042,0.178432852029800,0.008402477018535,-0.074613817036152,0.064316354691982,0.160446152091026,0.002834736835212,0.112518623471260));
res += mul(Get(s2,0,-dy), float4x4(-0.047786977142096,0.015532476827502,-0.208161994814873,0.017967633903027,0.019607704132795,0.117485895752907,0.065286785364151,-0.109277255833149,0.124817296862602,0.060403276234865,0.063763633370399,0.046098601073027,-0.028499463573098,0.091899536550045,0.002309171948582,0.052638672292233));
res += mul(Get(s2,0,0), float4x4(-0.039896354079247,-0.276272058486938,-0.041054386645555,-0.007127123884857,-0.034009821712971,-0.061802085489035,0.020207976922393,-0.059737224131823,-0.062931410968304,-0.083700314164162,-0.014770674519241,0.011896286159754,0.117307998239994,0.056945297867060,-0.001252777641639,0.026193963363767));
res += mul(Get(s2,0,dy), float4x4(0.018521472811699,0.178447335958481,0.040387637913227,0.036998089402914,-0.065781839191914,-0.032790038734674,-0.017380995675921,0.025953277945518,-0.066749840974808,0.076978243887424,0.040630608797073,0.003024131990969,0.135534286499023,-0.018474016338587,-0.028383648023009,0.062470197677612));
res += mul(Get(s2,dx,-dy), float4x4(0.083011195063591,0.008670526556671,0.024940587580204,0.049287237226963,-0.116765663027763,0.047034040093422,-0.124530620872974,0.065977185964584,-0.070430517196655,0.048306304961443,0.012955796904862,0.036658912897110,0.091681435704231,0.008728433400393,0.012430168688297,0.014994602650404));
res += mul(Get(s2,dx,0), float4x4(-0.113291449844837,-0.045238353312016,-0.035896521061659,0.028018634766340,-0.016848035156727,-0.044813554733992,-0.198784425854683,0.004724524449557,-0.072678007185459,0.043339185416698,-0.028265200555325,-0.008741525933146,0.041419912129641,-0.123137399554253,0.073601253330708,0.027807408943772));
res += mul(Get(s2,dx,dy), float4x4(-0.020225968211889,-0.023573040962219,-0.062986522912979,-0.096107773482800,-0.135821148753166,-0.045195359736681,0.035560317337513,0.012970102019608,-0.060647282749414,-0.014825575053692,0.108837507665157,0.042337007820606,0.110943354666233,-0.050642352551222,0.074530981481075,-0.047184657305479));
res += mul(Get(s3,-dx,-dy), float4x4(0.027697272598743,-0.040676634758711,0.013459432870150,0.019576083868742,-0.100970961153507,-0.080043599009514,-0.097440287470818,0.035981908440590,-0.049623057246208,-0.024590486660600,-0.041693828999996,-0.076043181121349,0.136296376585960,0.054189622402191,-0.113358870148659,0.013801068067551));
res += mul(Get(s3,-dx,0), float4x4(0.027775017544627,0.108077459037304,0.034120716154575,0.010144840925932,0.065039902925491,0.030521223321557,-0.157412230968475,0.076283946633339,0.015569485723972,-0.043761480599642,0.041418623179197,0.036915332078934,0.107657589018345,0.101996853947639,-0.014136674813926,-0.094410702586174));
res += mul(Get(s3,-dx,dy), float4x4(-0.059238515794277,-0.069435462355614,0.008620769716799,0.066557049751282,-0.072234898805618,0.043013960123062,-0.039728362113237,0.054003812372684,0.147686004638672,0.144463047385216,0.012628168798983,-0.123528465628624,-0.153780192136765,-0.026089552789927,0.087438911199570,0.054767109453678));
res += mul(Get(s3,0,-dy), float4x4(-0.137077763676643,0.032225728034973,-0.024306213483214,-0.039196904748678,-0.049034819006920,0.017803302034736,0.078278064727783,0.061028283089399,0.038002364337444,-0.025546763092279,-0.101728983223438,0.030946077778935,-0.034230735152960,0.053669776767492,-0.056028887629509,0.009362504817545));
res += mul(Get(s3,0,0), float4x4(0.020193025469780,-0.021346101537347,0.017203623428941,0.007581348065287,0.018754769116640,0.040333893150091,0.013252786360681,-0.020715886726975,0.053949017077684,-0.007664239499718,-0.020700849592686,-0.062731370329857,0.092959247529507,0.049509257078171,0.098265856504440,0.015238020569086));
res += mul(Get(s3,0,dy), float4x4(-0.069194078445435,0.097879104316235,-0.017229581251740,-0.115793503820896,-0.096734747290611,0.148606732487679,-0.001656541135162,0.041412107646465,-0.009043090976775,0.101033322513103,0.034522335976362,0.070897340774536,-0.025085762143135,-0.138484224677086,-0.045246385037899,0.042724173516035));
res += mul(Get(s3,dx,-dy), float4x4(-0.055130749940872,-0.178792849183083,0.036580156534910,-0.001155395875685,-0.083888858556747,0.084593504667282,-0.104778990149498,-0.137318775057793,0.011919139884412,0.092155583202839,0.100136905908585,-0.084053218364716,0.012429308146238,-0.019328938797116,-0.041758991777897,0.063164390623569));
res += mul(Get(s3,dx,0), float4x4(0.014453727751970,-0.047198034822941,0.060279179364443,-0.023775389418006,-0.070465207099915,0.008474436588585,0.041041504591703,-0.051260858774185,0.040278267115355,0.059067621827126,-0.039656300097704,-0.129499793052673,-0.007756453938782,-0.117378376424313,0.004350225906819,-0.057268142700195));
res += mul(Get(s3,dx,dy), float4x4(-0.108545131981373,0.145699545741081,-0.003752499353141,-0.003733318764716,-0.008689767681062,0.020082619041204,-0.010378319770098,-0.016417700797319,0.115499325096607,-0.004685723688453,-0.159561142325401,0.003040906973183,-0.133352905511856,-0.102153085172176,-0.033519387245178,-0.031224727630615));
res = max(float4(0,0,0,0), res);
return res;
}
