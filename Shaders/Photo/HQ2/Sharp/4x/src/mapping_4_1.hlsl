sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.097837910056114,0.025727109983563,-0.010390988551080,-0.050587624311447,0.076331794261932,0.007915039546788,-0.002602252177894,-0.025169255211949,-0.118902064859867,0.154918208718300,-0.083468876779079,0.169933184981346,0.065526701509953,-0.007941955700517,-0.014650725759566,0.002910062437877));
res += mul(Get(s0,-dx,0), float4x4(0.008531842380762,-0.187781020998955,0.016563786193728,-0.070183597505093,0.119421847164631,-0.019647218286991,0.057907063513994,0.031265810132027,-0.041569951921701,0.117329567670822,0.016558768227696,-0.027060503140092,0.059944894164801,-0.039602145552635,0.026273734867573,0.031779117882252));
res += mul(Get(s0,-dx,dy), float4x4(-0.019342603161931,0.024597372859716,0.005895988084376,0.038936994969845,0.063444599509239,0.008854931220412,0.112243734300137,0.051284823566675,0.190301060676575,-0.057985559105873,-0.036209631711245,-0.108927950263023,-0.026729106903076,0.152397006750107,-0.051964469254017,0.123967766761780));
res += mul(Get(s0,0,-dy), float4x4(0.080399386584759,-0.076828181743622,0.172208920121193,0.040983777493238,0.025185687467456,-0.055984195321798,0.060779586434364,0.008588853292167,0.142132818698883,0.201032370328903,-0.048660803586245,-0.074183098971844,0.009439287707210,0.115753881633282,0.013067043386400,0.036899115890265));
res += mul(Get(s0,0,0), float4x4(0.069134637713432,-0.033403553068638,0.110009886324406,-0.048823483288288,-0.075271181762218,0.004536209162325,0.067621394991875,0.011746693402529,-0.100522376596928,-0.084931083023548,-0.038971539586782,-0.079724937677383,-0.041103430092335,-0.031729042530060,-0.132980406284332,-0.105318427085876));
res += mul(Get(s0,0,dy), float4x4(0.074282743036747,0.100880183279514,0.018890129402280,0.048261977732182,0.108500018715858,0.122397519648075,-0.123347640037537,-0.015269888564944,0.089189015328884,-0.052737768739462,-0.032631717622280,-0.149667873978615,-0.052952904254198,0.018986215814948,-0.070948496460915,-0.175782114267349));
res += mul(Get(s0,dx,-dy), float4x4(-0.035148654133081,-0.004641732200980,-0.040605459362268,-0.012614065781236,0.065092861652374,-0.004737677052617,0.127734139561653,-0.092242270708084,0.087714396417141,0.010993640869856,0.141549497842789,-0.063062444329262,0.032070308923721,0.042569253593683,0.010013726539910,-0.039627689868212));
res += mul(Get(s0,dx,0), float4x4(-0.022610912099481,0.152595609426498,0.050015833228827,0.008266240358353,-0.028425404801965,-0.036459010094404,-0.146442979574203,-0.131003499031067,0.117394313216209,-0.145435303449631,0.044404491782188,-0.133969873189926,0.023258835077286,0.127610340714455,0.016609812155366,0.014138572849333));
res += mul(Get(s0,dx,dy), float4x4(-0.023365767672658,0.065371222794056,-0.091536208987236,0.044108457863331,-0.086348436772823,-0.009941500611603,0.070180423557758,-0.001966527197510,0.013552440330386,0.159639939665794,-0.005244437605143,-0.122554443776608,-0.169352486729622,0.085042633116245,0.019336706027389,0.100165218114853));
res += mul(Get(s1,-dx,-dy), float4x4(-0.100203849375248,-0.043737217783928,0.048783462494612,-0.064476713538170,0.028238987550139,-0.016044270247221,0.037253651767969,0.006288172211498,-0.045365143567324,-0.015317637473345,-0.121539585292339,0.020661920309067,0.103126674890518,0.061005473136902,0.069327689707279,0.080215536057949));
res += mul(Get(s1,-dx,0), float4x4(-0.009558063000441,0.092412233352661,0.122704282402992,-0.046290453523397,0.119465917348862,-0.012983620166779,0.063020080327988,0.008273934014142,0.017223704606295,0.069921277463436,-0.087465219199657,0.103834837675095,0.045737791806459,-0.119402617216110,0.013885958120227,0.025543604046106));
res += mul(Get(s1,-dx,dy), float4x4(-0.073515310883522,0.039510130882263,0.062092326581478,-0.094763576984406,0.070396043360233,0.016156513243914,0.020521672442555,0.011673580855131,-0.010614234022796,-0.122550129890442,0.094332955777645,0.145328074693680,0.145965084433556,0.052693832665682,0.031951025128365,0.035363536328077));
res += mul(Get(s1,0,-dy), float4x4(0.075475417077541,-0.074546165764332,-0.030680214986205,-0.063559032976627,0.035615719854832,0.025045970454812,0.093394890427589,0.003774974960834,0.049917895346880,-0.050618551671505,0.079180546104908,0.177237644791603,0.037982922047377,0.012627463787794,0.013902506791055,-0.055138524621725));
res += mul(Get(s1,0,0), float4x4(-0.044642001390457,0.068051092326641,0.031579397618771,0.001913687679917,0.012290835380554,0.037358831614256,-0.040243733674288,-0.001823020051233,-0.097926802933216,-0.081426531076431,-0.081179782748222,0.053935989737511,0.069027177989483,0.055866975337267,-0.013431006111205,0.047633707523346));
res += mul(Get(s1,0,dy), float4x4(-0.095130205154419,-0.040769312530756,-0.029941713437438,-0.004964793566614,0.115276277065277,0.128624215722084,-0.026753384619951,0.074127987027168,0.003684343071654,-0.001049759332091,0.037867631763220,-0.045210804790258,-0.111916497349739,-0.031196109950542,-0.003868765430525,-0.037184342741966));
res += mul(Get(s1,dx,-dy), float4x4(0.005051181185991,-0.076011531054974,0.037077404558659,0.102495767176151,-0.017775997519493,-0.038830775767565,-0.013877703808248,0.016461161896586,-0.006271500140429,0.041285309940577,-0.084545522928238,0.001464545377530,-0.122105464339256,-0.005442915484309,0.015120987780392,0.076106727123260));
res += mul(Get(s1,dx,0), float4x4(-0.076316729187965,-0.132827296853065,0.135507538914680,-0.094601191580296,0.022834191098809,0.040176399052143,0.057694446295500,-0.001033225562423,0.039848901331425,-0.020238157361746,-0.062170904129744,0.056686140596867,0.058689206838608,0.061127644032240,-0.040811311453581,0.062817610800266));
res += mul(Get(s1,dx,dy), float4x4(0.030555985867977,-0.149527728557587,0.003603233722970,-0.003973596263677,0.034367397427559,0.105387836694717,-0.044262312352657,0.194956004619598,0.017383107915521,-0.058797094970942,0.063375055789948,0.060847349464893,0.033672612160444,0.020827939733863,-0.031606931239367,-0.010634524747729));
res += mul(Get(s2,-dx,-dy), float4x4(-0.071422040462494,-0.015823179855943,-0.006432407069951,0.008736613206565,0.003645821241662,-0.056974332779646,0.035823877900839,-0.122186817228794,-0.052151061594486,0.222143784165382,0.078710593283176,0.145380809903145,0.027327122166753,0.019114345312119,0.044933199882507,0.093509256839752));
res += mul(Get(s2,-dx,0), float4x4(0.102428615093231,-0.050567694008350,0.021080154925585,-0.035510320216417,0.053645379841328,-0.170213013887405,-0.045329015702009,-0.051813289523125,-0.039669521152973,-0.141124531626701,0.148847982287407,0.018264822661877,-0.030640227720141,-0.118775501847267,-0.101813279092312,0.041076596826315));
res += mul(Get(s2,-dx,dy), float4x4(0.027534328401089,0.017527751624584,-0.015140675939620,0.067862085998058,-0.081522069871426,-0.053100269287825,0.118969254195690,-0.016707055270672,-0.023474195972085,-0.172965377569199,0.055118847638369,0.026887491345406,-0.001175958197564,-0.012703922577202,0.067171968519688,-0.077155016362667));
res += mul(Get(s2,0,-dy), float4x4(0.056414220482111,0.041586369276047,-0.109161153435707,-0.031236678361893,0.076014034450054,-0.082941181957722,0.041377715766430,0.029543817043304,-0.064705722033978,0.229631140828133,0.019386446103454,0.023708883672953,0.016041094437242,-0.029235811904073,0.032628200948238,0.118285387754440));
res += mul(Get(s2,0,0), float4x4(0.055094979703426,-0.018859608098865,0.082044720649719,-0.010148221626878,0.117271833121777,-0.046416830271482,0.128224968910217,0.070681869983673,-0.095437578856945,0.054164253175259,-0.074504435062408,0.026909034699202,-0.032297857105732,-0.092381484806538,0.007201278116554,0.051387455314398));
res += mul(Get(s2,0,dy), float4x4(0.031563423573971,0.110181108117104,-0.014863324351609,0.041443381458521,-0.019571030512452,0.037184759974480,-0.023410508409142,0.017661631107330,0.170867502689362,-0.000137897382956,-0.036891140043736,-0.097727335989475,-0.034750800579786,0.067598581314087,-0.013235461898148,0.022330323234200));
res += mul(Get(s2,dx,-dy), float4x4(-0.064011506736279,-0.025440735742450,0.023975869640708,-0.124826982617378,-0.004475235939026,-0.101817347109318,-0.036946106702089,0.157155394554138,0.021680433303118,0.036701515316963,-0.052780590951443,-0.057624503970146,-0.046263191848993,0.010356893762946,0.046782854944468,-0.091250844299793));
res += mul(Get(s2,dx,0), float4x4(-0.010083881206810,-0.039124589413404,0.000451844913187,-0.078816756606102,-0.036056675016880,-0.021786287426949,0.033256683498621,-0.021934695541859,0.023323811590672,0.070167236030102,-0.009481783956289,-0.037040181457996,-0.116161204874516,-0.014365366660058,-0.007143469527364,0.079327203333378));
res += mul(Get(s2,dx,dy), float4x4(-0.109159454703331,-0.080864414572716,-0.003761414904147,-0.051833394914865,-0.137521222233772,-0.110954754054546,-0.003558490192518,-0.156782791018486,0.091356620192528,-0.065059900283813,-0.144573032855988,-0.004269028082490,0.058933347463608,-0.021334420889616,0.100126527249813,0.093192458152771));
res += mul(Get(s3,-dx,-dy), float4x4(-0.072928197681904,0.040393333882093,0.008963225409389,-0.016406113281846,-0.014011862687767,-0.054320119321346,-0.080008521676064,0.044613935053349,-0.054917201399803,0.218545094132423,-0.150765031576157,0.018472397699952,-0.098561391234398,-0.019119577482343,0.026720503345132,0.060127336531878));
res += mul(Get(s3,-dx,0), float4x4(0.039783276617527,0.037159070372581,0.095391891896725,0.030625935643911,-0.167520791292191,-0.096124887466431,-0.197344914078712,0.081580370664597,0.028590340167284,0.048749003559351,0.070839531719685,-0.087890923023224,-0.006000564899296,-0.025472715497017,-0.072805866599083,0.080446220934391));
res += mul(Get(s3,-dx,dy), float4x4(0.047549109905958,-0.052255149930716,-0.060286749154329,0.021510075777769,-0.201629623770714,-0.012032735161483,0.033517859876156,-0.061951197683811,0.082561038434505,0.017190283164382,-0.087516672909260,-0.016743777319789,0.063150338828564,-0.007845702581108,0.008364673703909,0.057693794369698));
res += mul(Get(s3,0,-dy), float4x4(-0.038921345025301,-0.090102314949036,-0.120170868933201,-0.022143913432956,-0.068139232695103,0.053505256772041,0.129900977015495,0.138402104377747,-0.063271053135395,0.196720302104950,-0.023550005629659,-0.006053805816919,0.076685890555382,0.133545577526093,0.002258699852973,0.179669335484505));
res += mul(Get(s3,0,0), float4x4(-0.064114518463612,0.004045539535582,-0.110290817916393,-0.015190145932138,-0.111099123954773,0.114085555076599,0.041459243744612,0.156191393733025,-0.111835226416588,-0.069900102913380,0.097687691450119,-0.024892294779420,0.008402879349887,0.040700253099203,-0.094766341149807,0.043751172721386));
res += mul(Get(s3,0,dy), float4x4(0.098990917205811,0.034090314060450,0.005824531894177,-0.044700942933559,-0.011806668713689,-0.034487929195166,0.105618558824062,-0.235431104898453,0.313761591911316,-0.068605266511440,-0.025781132280827,0.061146315187216,0.019189393147826,0.035719890147448,-0.083033606410027,-0.069471061229706));
res += mul(Get(s3,dx,-dy), float4x4(0.080117300152779,-0.077983468770981,-0.083390608429909,0.036995306611061,0.060082223266363,0.083418488502502,-0.034366738051176,0.104658275842667,-0.134602457284927,0.088320881128311,0.131777226924896,0.200180038809776,0.044993091374636,-0.065103076398373,0.032915558665991,0.036644496023655));
res += mul(Get(s3,dx,0), float4x4(0.060724221169949,-0.035727895796299,-0.097733125090599,0.006190055981278,0.149923324584961,0.079631865024567,0.040608946233988,-0.003609972074628,-0.022244412451982,-0.055539768189192,-0.061294894665480,-0.031426958739758,0.069406464695930,-0.061820302158594,0.048170890659094,0.071521341800690));
res += mul(Get(s3,dx,dy), float4x4(-0.131511196494102,0.104312114417553,0.004447737708688,-0.014027557335794,0.017916353419423,-0.030056536197662,0.020373210310936,0.018998429179192,0.096302591264248,-0.007267373614013,-0.054466791450977,0.095108143985271,0.039389356970787,0.025321830064058,0.083056084811687,-0.036708269268274));
res = max(float4(0,0,0,0), res);
return res;
}
