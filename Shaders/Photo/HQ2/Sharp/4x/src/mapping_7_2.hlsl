sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.081386476755142,0.102309077978134,-0.077826172113419,-0.048728819936514,0.069672234356403,0.032246518880129,-0.130700543522835,-0.042461436241865,0.146459981799126,0.035944253206253,-0.034404061734676,0.011238350532949,-0.117488659918308,0.004561298526824,0.057467833161354,0.032923009246588));
res += mul(Get(s0,-dx,0), float4x4(-0.108412124216557,0.011401488445699,-0.012040708214045,0.057949200272560,0.014412011019886,0.008288516663015,-0.041602190583944,0.056514374911785,-0.100370839238167,-0.098721779882908,-0.090806841850281,0.026689693331718,-0.064222626388073,0.052816003561020,0.019177908077836,0.074189692735672));
res += mul(Get(s0,-dx,dy), float4x4(0.099286712706089,0.079808980226517,-0.020657464861870,-0.145201802253723,-0.188006848096848,-0.046354252845049,-0.035858061164618,-0.098877765238285,-0.143380343914032,0.015516755171120,-0.136294350028038,-0.122453235089779,-0.016657773405313,-0.044309601187706,-0.022480074316263,-0.062364932149649));
res += mul(Get(s0,0,-dy), float4x4(-0.038030177354813,-0.183383256196976,-0.082077018916607,-0.060407452285290,0.053999457508326,-0.002759718336165,0.005039309617132,-0.037388928234577,0.093822620809078,-0.076672360301018,-0.006413531955332,-0.029350258409977,0.048046231269836,0.098882421851158,0.052694737911224,-0.104445978999138));
res += mul(Get(s0,0,0), float4x4(-0.032827343791723,-0.026712348684669,0.070572532713413,0.054389387369156,-0.171962171792984,-0.088671155273914,-0.054696235805750,0.051832400262356,0.103310421109200,-0.065798230469227,-0.019617557525635,-0.048183541744947,-0.054864987730980,0.107735618948936,-0.040386080741882,-0.032845359295607));
res += mul(Get(s0,0,dy), float4x4(-0.012133365496993,-0.018134061247110,-0.011268024332821,0.044077496975660,-0.053329963237047,-0.089970454573631,-0.197550743818283,-0.028838651254773,-0.164520189166069,-0.114147849380970,-0.056878305971622,-0.046564765274525,0.209063008427620,0.043843626976013,-0.182208493351936,0.041535969823599));
res += mul(Get(s0,dx,-dy), float4x4(-0.006427892018110,0.055394139140844,-0.039423245936632,0.045235633850098,0.026285359635949,0.029533458873630,-0.004933154676110,0.109239630401134,0.074632421135902,-0.161512196063995,0.062271326780319,-0.008021113462746,0.065072491765022,0.117681816220284,0.001230301335454,-0.082681991159916));
res += mul(Get(s0,dx,0), float4x4(-0.160415932536125,0.073747783899307,0.004474657587707,-0.043082010000944,-0.125542283058167,-0.076429657638073,0.011988099664450,-0.069304861128330,0.057030681520700,-0.074301324784756,-0.158430203795433,0.046187132596970,-0.000547365925740,0.121448531746864,0.034252349287271,-0.042510051280260));
res += mul(Get(s0,dx,dy), float4x4(-0.079745627939701,-0.069135710597038,0.015380872413516,-0.011058078147471,-0.072802662849426,-0.110704891383648,-0.048504400998354,0.048657778650522,-0.239115029573441,-0.046179108321667,-0.095355167984962,-0.046394180506468,0.039849005639553,0.084226347506046,-0.025404082611203,-0.159620210528374));
res += mul(Get(s1,-dx,-dy), float4x4(-0.062536120414734,-0.008542204275727,-0.033452905714512,-0.042783956974745,-0.015902757644653,0.028871279209852,-0.006996623706073,0.048035264015198,-0.000676719937474,0.097747653722763,-0.063212208449841,-0.008792659267783,0.082851894199848,0.070449203252792,-0.009789626114070,-0.035778861492872));
res += mul(Get(s1,-dx,0), float4x4(-0.046787034720182,-0.076536759734154,0.063376396894455,0.002229393227026,-0.110767297446728,-0.008643822744489,-0.023685133084655,0.005848016124219,0.004608519840986,0.071305006742477,0.028835149481893,0.011168850585818,-0.010646354407072,0.000267118739430,-0.094529770314693,-0.017541695386171));
res += mul(Get(s1,-dx,dy), float4x4(0.025593047961593,0.038716364651918,-0.027893623337150,-0.139369964599609,-0.009274358861148,0.051609296351671,0.016811573877931,-0.074684001505375,0.163960143923759,0.037419602274895,-0.003555833362043,-0.064998216927052,0.018512632697821,-0.112551003694534,-0.020160194486380,-0.042193602770567));
res += mul(Get(s1,0,-dy), float4x4(-0.032679315656424,-0.101264901459217,0.042233522981405,-0.095096156001091,-0.083796001970768,0.077912688255310,0.064761005342007,-0.146230950951576,0.058109745383263,0.014740359969437,-0.038406230509281,0.049240697175264,-0.048916667699814,0.043376397341490,0.091126032173634,-0.047112628817558));
res += mul(Get(s1,0,0), float4x4(-0.038770265877247,-0.022491497918963,-0.131674498319626,0.143441975116730,0.063203930854797,0.055154629051685,-0.025490611791611,0.014623720198870,0.124089278280735,-0.062971740961075,0.025607945397496,0.019063053652644,-0.006855643354356,-0.044342655688524,-0.113337889313698,0.116339966654778));
res += mul(Get(s1,0,dy), float4x4(-0.037693679332733,0.036536559462547,0.009033770300448,-0.071949705481529,0.068749360740185,-0.060107123106718,-0.000530767545570,-0.080147765576839,-0.011375965550542,-0.014126604422927,-0.007778693456203,-0.044781431555748,-0.100972622632980,0.023873051628470,-0.008640555664897,0.015515444800258));
res += mul(Get(s1,dx,-dy), float4x4(0.019388681277633,0.017777461558580,-0.014632654376328,0.064123116433620,-0.063029386103153,-0.041347723454237,0.055503230541945,-0.007142922375351,-0.041339810937643,0.073373652994633,-0.008676690980792,-0.098265692591667,-0.001832196954638,-0.059011090546846,0.065288543701172,-0.064319863915443));
res += mul(Get(s1,dx,0), float4x4(0.086401909589767,-0.119827158749104,0.008319809101522,0.119459629058838,0.019114714115858,-0.013742432929575,0.041774835437536,0.032762140035629,-0.007628926075995,-0.013562228530645,-0.041017767041922,0.055794831365347,-0.090125299990177,0.043485745787621,-0.107922531664371,0.039107132703066));
res += mul(Get(s1,dx,dy), float4x4(0.122889548540115,0.104912258684635,0.028588593006134,0.079355552792549,-0.064287222921848,0.041939973831177,-0.044087499380112,-0.006402307190001,0.048436131328344,0.000036355100747,-0.044929932802916,-0.139817968010902,0.006913022138178,0.062709942460060,0.038565680384636,-0.019198261201382));
res += mul(Get(s2,-dx,-dy), float4x4(-0.080986678600311,-0.060635711997747,-0.118122011423111,-0.034039042890072,0.127957254648209,-0.028293101117015,-0.052300628274679,0.022597456350923,-0.033421993255615,0.034051991999149,-0.036417070776224,-0.016664227470756,-0.022695863619447,0.064937710762024,-0.093545004725456,0.026471568271518));
res += mul(Get(s2,-dx,0), float4x4(0.026981538161635,0.015141845680773,0.033292099833488,-0.037975355982780,-0.059153970330954,0.001062503200956,-0.043605312705040,-0.019886136054993,-0.002903198124841,0.110294692218304,0.054818574339151,0.010826325044036,-0.037341073155403,0.049412388354540,0.046734608709812,0.000801464775577));
res += mul(Get(s2,-dx,dy), float4x4(0.010434878058732,0.031341798603535,-0.078049741685390,0.138334274291992,-0.105580493807793,0.082870975136757,0.003960998728871,-0.045816067606211,0.126882404088974,0.139801338315010,0.011735939420760,0.074828423559666,-0.088962152600288,0.120348975062370,-0.041891749948263,0.099780932068825));
res += mul(Get(s2,0,-dy), float4x4(0.034908916801214,-0.041076049208641,-0.002193031134084,0.002032400574535,0.090715356171131,0.130416378378868,0.082086101174355,-0.019155245274305,0.081771820783615,-0.065437488257885,-0.041924942284822,-0.007404366508126,0.114014953374863,0.011127075180411,-0.069101378321648,-0.064028523862362));
res += mul(Get(s2,0,0), float4x4(0.102848708629608,0.055739913135767,-0.009486667811871,-0.074223406612873,-0.036534298211336,0.038495145738125,-0.014286890625954,-0.011170020326972,0.041963867843151,0.045734096318483,0.049330897629261,-0.038245223462582,-0.011479617096484,-0.052723065018654,0.126527339220047,-0.090005487203598));
res += mul(Get(s2,0,dy), float4x4(0.055195745080709,-0.017504794523120,-0.026312617585063,0.004137641750276,0.008513784036040,0.092639036476612,0.136750593781471,-0.125454604625702,0.003905568737537,0.048191033303738,-0.054677505046129,-0.023712458088994,0.050164654850960,0.000884543289430,0.097709603607655,0.074947081506252));
res += mul(Get(s2,dx,-dy), float4x4(0.099482499063015,-0.068295888602734,0.011054365895689,0.055193722248077,0.031468741595745,-0.073766939342022,0.088911592960358,0.015998717397451,-0.078945435583591,-0.043507922440767,0.030961660668254,-0.008780712261796,0.052945308387280,-0.058090474456549,-0.003726835362613,-0.109994173049927));
res += mul(Get(s2,dx,0), float4x4(0.083590961992741,-0.032934162765741,-0.009007681161165,-0.027726655825973,0.008886329829693,0.022850075736642,0.057039689272642,-0.007029120810330,0.117281012237072,-0.046100031584501,0.049249276518822,-0.006528323981911,-0.012431435286999,0.026416428387165,0.080684304237366,-0.003832746064290));
res += mul(Get(s2,dx,dy), float4x4(-0.116250582039356,0.046390295028687,0.029897509142756,-0.071912154555321,0.004913568962365,0.042050097137690,-0.041891843080521,-0.043670970946550,0.015046308748424,0.019210297614336,0.013901678845286,0.044725608080626,-0.031103949993849,0.063189372420311,-0.006377959158272,0.094177305698395));
res += mul(Get(s3,-dx,-dy), float4x4(0.166475251317024,0.026772076264024,0.116624459624290,0.008750364184380,0.000495937769301,-0.024538457393646,-0.042035724967718,-0.011934502050281,0.041161511093378,0.007067625876516,0.042034454643726,0.011230247095227,-0.086473889648914,0.038754381239414,-0.087672173976898,-0.062738232314587));
res += mul(Get(s3,-dx,0), float4x4(-0.027702419087291,-0.119116105139256,0.044039599597454,-0.073487535119057,0.002349566901103,-0.089856430888176,0.050199944525957,0.081903211772442,0.167763873934746,0.069275133311749,-0.058891709893942,-0.025689298287034,-0.156891524791718,0.148355200886726,-0.007155624218285,-0.045791875571012));
res += mul(Get(s3,-dx,dy), float4x4(-0.045802213251591,-0.116384111344814,-0.048810467123985,-0.014860864728689,-0.085227951407433,-0.022807197645307,0.072996363043785,0.133412346243858,0.023204997181892,-0.041152000427246,-0.000683728721924,0.023401062935591,0.046142708510160,0.146533995866776,-0.014736734330654,0.117450907826424));
res += mul(Get(s3,0,-dy), float4x4(0.073271065950394,-0.075289703905582,0.054002288728952,0.080386020243168,-0.040042307227850,-0.006669047288597,0.120607301592827,0.073226973414421,0.020290529355407,-0.174441441893578,0.005225518718362,-0.020753683522344,-0.070090994238853,0.186412453651428,-0.102726243436337,-0.134358465671539));
res += mul(Get(s3,0,0), float4x4(0.028659582138062,0.061459463089705,-0.031401041895151,0.098575487732887,0.089990720152855,-0.070736646652222,0.224581137299538,0.005483714397997,-0.019529826939106,0.093418821692467,-0.008888630196452,0.041100580245256,-0.029237406328321,0.049377709627151,-0.008491798304021,0.003589888801798));
res += mul(Get(s3,0,dy), float4x4(0.153043076395988,0.077185407280922,-0.045543540269136,0.030137266963720,0.035040345042944,-0.011290350928903,0.001580248470418,0.069516576826572,-0.080042853951454,-0.015881642699242,-0.098644584417343,0.114980913698673,-0.007815252058208,0.045747000724077,0.079529859125614,0.066592104732990));
res += mul(Get(s3,dx,-dy), float4x4(0.066684573888779,0.034128520637751,0.004350404720753,0.054919671267271,-0.002281091874465,0.012034696526825,-0.033808004111052,-0.081371188163757,-0.012594915926456,-0.005829070229083,-0.037713371217251,-0.099564313888550,0.040151868015528,0.023575585335493,-0.022196944802999,0.084497816860676));
res += mul(Get(s3,dx,0), float4x4(-0.037997364997864,-0.105561129748821,-0.009347077459097,0.080101139843464,0.037595570087433,0.062412489205599,0.112287484109402,0.033705338835716,-0.000096422045317,0.016723811626434,-0.004571584053338,-0.000865641166456,-0.050979740917683,0.082254193723202,0.031070474535227,-0.032525874674320));
res += mul(Get(s3,dx,dy), float4x4(0.007897222414613,-0.003923085052520,0.098017789423466,-0.007594179362059,-0.046549092978239,0.022106168791652,0.031816016882658,0.018829962238669,0.081143721938133,-0.042645372450352,-0.015643374994397,0.050540968775749,-0.004291191697121,0.074544236063957,0.006294577382505,-0.023028325289488));
res = max(float4(0,0,0,0), res);
return res;
}
