sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.073107540607452,-0.169292315840721,0.067049220204353,-0.089534200727940,0.032652251422405,-0.015257881022990,-0.081895500421524,0.000944555969909,0.037434097379446,0.031794175505638,-0.075947336852551,-0.007005194202065,-0.020694473758340,0.042684972286224,0.005787277128547,0.004984393250197));
res += mul(Get(s0,-dx,0), float4x4(-0.025227610021830,-0.088669784367085,0.015142851509154,-0.080213464796543,0.192683771252632,-0.029022727161646,0.135979071259499,-0.169029995799065,-0.016838772222400,0.021398674696684,-0.090873703360558,0.073158800601959,-0.007645971607417,0.041898887604475,-0.053540822118521,-0.182331681251526));
res += mul(Get(s0,-dx,dy), float4x4(-0.034120656549931,-0.095228396356106,0.068096980452538,-0.042732398957014,0.029832018539310,-0.005689115263522,-0.122488722205162,-0.010539656504989,0.173714473843575,-0.113225385546684,-0.092207677662373,-0.054647475481033,0.064795568585396,0.163638681173325,0.090291604399681,0.101221404969692));
res += mul(Get(s0,0,-dy), float4x4(-0.009063437581062,-0.042027264833450,-0.041065052151680,0.083692699670792,-0.035181887447834,-0.116742379963398,0.105190731585026,-0.094982974231243,0.047523081302643,0.005666835699230,0.007678205613047,0.037535957992077,-0.008343384601176,0.091171234846115,0.061748541891575,0.065519988536835));
res += mul(Get(s0,0,0), float4x4(-0.031946435570717,0.086422659456730,-0.064261056482792,-0.074633739888668,-0.019578002393246,-0.055842127650976,0.267731100320816,0.010120523162186,0.033262182027102,0.164486944675446,-0.011185282841325,0.049696672707796,-0.056765273213387,-0.118171930313110,0.071593746542931,0.075987413525581));
res += mul(Get(s0,0,dy), float4x4(-0.041976511478424,-0.024077784270048,0.146237120032310,0.067770816385746,-0.119066759943962,-0.112013623118401,-0.109345480799675,-0.016707200556993,0.001294843386859,0.008835468441248,0.055631663650274,0.064697526395321,0.058144170790911,0.092028938233852,-0.056248832494020,-0.004502472002059));
res += mul(Get(s0,dx,-dy), float4x4(0.055253285914660,0.029473178088665,0.057800870388746,-0.006577996537089,-0.181252866983414,-0.152698516845703,-0.158554181456566,-0.073911853134632,0.026039989665151,0.010357787832618,0.065733648836613,0.004013278987259,0.158448293805122,-0.036055237054825,-0.014745052903891,-0.148248285055161));
res += mul(Get(s0,dx,0), float4x4(-0.027440343052149,-0.033611677587032,0.141374513506889,-0.033913712948561,0.037450589239597,0.027849026024342,0.015142004936934,0.086752980947495,-0.101494796574116,-0.025194255635142,0.012463031336665,-0.074320927262306,0.152657046914101,-0.084260590374470,-0.026586402207613,0.093698680400848));
res += mul(Get(s0,dx,dy), float4x4(0.033869560807943,-0.071057431399822,0.042697511613369,0.085767783224583,-0.075410783290863,-0.044310372322798,-0.166504800319672,0.197615638375282,-0.015095567330718,0.059060327708721,-0.008718619123101,-0.064158849418163,0.052270337939262,-0.043356221169233,0.178168103098869,-0.042975280433893));
res += mul(Get(s1,-dx,-dy), float4x4(0.028873121365905,0.019763410091400,-0.001901751034893,-0.039239037781954,-0.010694598779082,-0.091380275785923,0.111246958374977,-0.035945907235146,0.037181720137596,-0.025852730497718,-0.068188175559044,-0.051634058356285,-0.034258335828781,-0.068195678293705,0.007763701956719,-0.107864528894424));
res += mul(Get(s1,-dx,0), float4x4(0.008378262631595,0.060881074517965,0.156447470188141,0.013833095319569,-0.014492033049464,0.111571878194809,-0.015693861991167,0.038564920425415,-0.025443762540817,-0.013098527677357,-0.191979736089706,0.050208225846291,0.137603238224983,0.120754607021809,-0.043433327227831,0.077621214091778));
res += mul(Get(s1,-dx,dy), float4x4(0.074886023998260,-0.093281015753746,-0.097876384854317,0.085270144045353,0.031806856393814,-0.017064442858100,0.067893616855145,-0.005123830866069,0.046437174081802,-0.094020418822765,0.039450898766518,-0.159584730863571,-0.088120833039284,0.054614290595055,-0.001377661712468,0.069575659930706));
res += mul(Get(s1,0,-dy), float4x4(-0.032134164124727,-0.048398323357105,-0.119778320193291,-0.099952720105648,-0.071394622325897,0.072059728205204,0.049301885068417,-0.067535676062107,0.063779503107071,0.145528107881546,-0.003950776997954,0.027884768322110,-0.024608552455902,0.082524195313454,0.082896582782269,0.008201055228710));
res += mul(Get(s1,0,0), float4x4(0.063621737062931,0.060533955693245,0.043789282441139,-0.022951724007726,-0.012462948448956,-0.018849221989512,0.030522076413035,-0.092105954885483,0.012221239507198,-0.031220132485032,0.000019038485334,0.103990383446217,-0.013801545836031,-0.007036985363811,0.008176232688129,-0.077808819711208));
res += mul(Get(s1,0,dy), float4x4(0.076541095972061,-0.016058754175901,-0.105976901948452,0.088980704545975,-0.114074617624283,0.034567274153233,0.037710469216108,0.129453375935555,0.001672441256233,0.014247055165470,-0.000702233228367,-0.029665583744645,0.002812996739522,0.084002733230591,0.109654076397419,0.033286787569523));
res += mul(Get(s1,dx,-dy), float4x4(0.014898487366736,0.005723119713366,-0.036002635955811,0.000887832604349,-0.121186748147011,-0.008922283537686,-0.134088590741158,0.003741427790374,-0.091905362904072,-0.049052447080612,0.021000906825066,-0.018689580261707,-0.119513668119907,-0.012640475295484,0.057769242674112,-0.099001199007034));
res += mul(Get(s1,dx,0), float4x4(0.069702751934528,-0.004710588604212,-0.028208378702402,0.230804204940796,0.023686485365033,0.075023576617241,0.071221791207790,-0.162114754319191,-0.029984924942255,0.063216030597687,0.004494343884289,0.139462813735008,-0.044679801911116,0.077887386083603,-0.100210435688496,0.001775093725882));
res += mul(Get(s1,dx,dy), float4x4(-0.014159160666168,-0.006296629551798,-0.106666304171085,-0.057698354125023,-0.061945699155331,-0.060151737183332,0.027066465467215,0.049764294177294,0.046776507049799,-0.050375517457724,0.066267609596252,0.020265514031053,0.002555054146796,-0.031827863305807,-0.011421537958086,0.088443718850613));
res += mul(Get(s2,-dx,-dy), float4x4(-0.022886205464602,-0.104277297854424,-0.007358346600085,-0.032188076525927,-0.060558028519154,0.059220835566521,-0.086083844304085,0.090470738708973,-0.103511750698090,-0.116377003490925,-0.100064516067505,-0.035725381225348,-0.079948343336582,0.026847058907151,-0.069339402019978,0.105071067810059));
res += mul(Get(s2,-dx,0), float4x4(0.096262581646442,-0.080777347087860,0.061046428978443,-0.139227956533432,-0.131365925073624,0.033906683325768,-0.042147304862738,0.053634211421013,0.030825020745397,0.034688916057348,-0.029850514605641,0.118903748691082,0.030530501157045,-0.009592051617801,0.000577448925469,-0.079029947519302));
res += mul(Get(s2,-dx,dy), float4x4(-0.045128922909498,-0.022915773093700,0.080680519342422,0.091985650360584,0.134650930762291,-0.009982897900045,-0.107829913496971,-0.107015043497086,0.056506097316742,-0.135765612125397,-0.073176071047783,-0.036806527525187,-0.065299630165100,0.051096711307764,0.020766258239746,-0.037818420678377));
res += mul(Get(s2,0,-dy), float4x4(-0.050761222839355,0.075548350811005,-0.041597094386816,-0.033243831247091,0.123703718185425,-0.000545056595001,-0.029111132025719,-0.049985881894827,-0.065804496407509,-0.029488030821085,0.160348236560822,0.138543590903282,-0.111630082130432,-0.032714989036322,-0.016629379242659,-0.187897294759750));
res += mul(Get(s2,0,0), float4x4(0.026034582406282,0.063595131039619,0.187475055456161,-0.054822664707899,-0.004160061012954,-0.111858151853085,0.089133337140083,-0.027455871924758,-0.115136921405792,-0.146843194961548,-0.115099377930164,0.018200321123004,-0.065287008881569,-0.022884702309966,0.030927265062928,-0.120380088686943));
res += mul(Get(s2,0,dy), float4x4(-0.071129992604256,-0.003380618058145,-0.013911831192672,-0.022481737658381,0.069001637399197,-0.044166643172503,0.110920697450638,-0.003266765736043,-0.063830815255642,-0.126756861805916,0.115910515189171,0.176157921552658,-0.070418551564217,0.085582368075848,0.117747753858566,0.040642458945513));
res += mul(Get(s2,dx,-dy), float4x4(-0.046961843967438,0.016758019104600,0.064264476299286,0.029759222641587,-0.089791819453239,-0.034529011696577,-0.002053310628980,0.027667168527842,-0.027970934286714,0.136132150888443,0.021241823211312,0.056802701205015,0.075420558452606,0.099972411990166,0.064118869602680,-0.004797702189535));
res += mul(Get(s2,dx,0), float4x4(0.080719776451588,0.011131598614156,-0.211717948317528,0.137233078479767,-0.057321768254042,0.047567002475262,0.104041405022144,-0.066884770989418,-0.119381107389927,-0.060031015425920,-0.052558679133654,0.009676363319159,-0.047289174050093,-0.139091551303864,-0.081244193017483,-0.044289216399193));
res += mul(Get(s2,dx,dy), float4x4(-0.030927658081055,0.006932351272553,-0.044434316456318,-0.067229904234409,-0.034452848136425,0.070687986910343,0.138181865215302,0.001482908031903,0.064638420939445,-0.025063788518310,-0.125165313482285,-0.044563207775354,0.014116123318672,-0.029239287599921,-0.020566308870912,0.057433452457190));
res += mul(Get(s3,-dx,-dy), float4x4(0.074544556438923,-0.074304848909378,0.030766900628805,-0.126363739371300,0.017718957737088,-0.233185857534409,-0.135858148336411,-0.025877164676785,-0.004874029662460,0.015767095610499,-0.041756030172110,-0.014017949812114,0.005622278433293,0.055253926664591,0.012341914698482,0.075596570968628));
res += mul(Get(s3,-dx,0), float4x4(0.083062812685966,0.015562146902084,-0.089422218501568,0.144943997263908,-0.084633521735668,-0.088679775595665,0.016353730112314,0.087509661912918,-0.022316882386804,0.080281920731068,-0.006021978799254,0.382961809635162,0.011279026977718,0.084374010562897,-0.026035571470857,-0.012743511237204));
res += mul(Get(s3,-dx,dy), float4x4(0.028665067628026,0.006662007886916,0.035430237650871,0.074778959155083,0.046110741794109,-0.047958262264729,-0.041844557970762,0.022497897967696,0.018858691677451,0.009069629013538,0.059881217777729,-0.203847527503967,0.050259366631508,-0.072858825325966,-0.031198328360915,-0.037957970052958));
res += mul(Get(s3,0,-dy), float4x4(-0.035572040826082,0.012700244784355,-0.121644288301468,0.048625912517309,0.094343587756157,0.030214365571737,-0.012709567323327,0.026673136278987,-0.087124451994896,-0.007713639643043,0.110067524015903,0.336064130067825,-0.095359742641449,-0.025293383747339,0.028477547690272,-0.066980376839638));
res += mul(Get(s3,0,0), float4x4(0.032945744693279,-0.043198861181736,-0.127412185072899,-0.033157169818878,0.016693495213985,-0.022939948365092,-0.023476345464587,0.053432062268257,-0.089773595333099,-0.042015731334686,0.008811529725790,0.323287099599838,0.005098235327750,-0.025689145550132,0.070732571184635,0.024595905095339));
res += mul(Get(s3,0,dy), float4x4(0.012169533409178,-0.180590823292732,0.209529146552086,-0.009597580879927,-0.037377491593361,0.015874333679676,0.050553847104311,0.020015787333250,-0.034920983016491,-0.133835315704346,-0.159305840730667,-0.070983633399010,0.135129332542419,0.262582033872604,0.014408295974135,-0.004714642651379));
res += mul(Get(s3,dx,-dy), float4x4(-0.067449741065502,0.064218737185001,0.119851991534233,0.075161524116993,0.036649461835623,0.012793213129044,-0.042582411319017,-0.071780830621719,-0.062328234314919,-0.004168786574155,0.330462574958801,0.013656167313457,-0.007059697527438,-0.139306008815765,-0.030829314142466,-0.000637034827378));
res += mul(Get(s3,dx,0), float4x4(-0.079383634030819,0.054824866354465,0.077566787600517,-0.162968233227730,-0.067039936780930,0.013642091304064,0.079487740993500,-0.019050117582083,0.064498797059059,0.055025834590197,0.030341623350978,-0.141482278704643,-0.103790171444416,0.060614414513111,-0.011987583711743,-0.003761094296351));
res += mul(Get(s3,dx,dy), float4x4(0.034082327038050,-0.096168510615826,0.207549110054970,-0.120720021426678,-0.038503158837557,0.089434631168842,-0.032399293035269,-0.059913367033005,-0.067492850124836,-0.002211106475443,-0.084214419126511,-0.007250704336911,0.102728806436062,-0.012483585625887,0.014957832172513,-0.156245768070221));
res = max(float4(0,0,0,0), res);
return res;
}
