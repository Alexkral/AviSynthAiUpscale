sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.018527656793594,-0.058794703334570,0.010424329899251,-0.167764067649841,-0.022114835679531,-0.013789300806820,-0.113836027681828,0.075068719685078,-0.045143444091082,0.005516926757991,-0.001007135724649,0.069006651639938,-0.119114071130753,0.112363047897816,0.288715183734894,-0.064220771193504));
res += mul(Get(s0,-dx,0), float4x4(0.039312355220318,0.003165353322402,0.054859321564436,-0.012461951933801,-0.037267129868269,0.129515349864960,0.061723504215479,0.162943989038467,0.159987658262253,0.046211238950491,0.078173056244850,-0.235074117779732,0.009406106546521,-0.014308706857264,0.061618853360415,-0.018013469874859));
res += mul(Get(s0,-dx,dy), float4x4(0.030271934345365,-0.018135815858841,0.144294410943985,0.033948458731174,-0.198123589158058,0.005189817398787,-0.034331347793341,-0.063349299132824,-0.027215555310249,0.127505809068680,-0.080927468836308,-0.146417424082756,-0.038062542676926,0.097980335354805,0.108958452939987,-0.043755102902651));
res += mul(Get(s0,0,-dy), float4x4(0.026751490309834,0.088726289570332,-0.002339043421671,-0.074632540345192,0.034349914640188,0.099475011229515,0.116831354796886,0.048647772520781,-0.030754532665014,-0.037511579692364,-0.007306743413210,0.041931401938200,-0.061504106968641,-0.214061543345451,0.097352862358093,-0.010537623427808));
res += mul(Get(s0,0,0), float4x4(-0.162202462553978,-0.012590140104294,-0.003023399738595,-0.081833384931087,0.019161527976394,0.010612008161843,0.001234554685652,0.140716329216957,-0.051469989120960,0.059132788330317,0.009738182649016,0.051637310534716,-0.147096380591393,0.234127178788185,-0.085102938115597,-0.004356001503766));
res += mul(Get(s0,0,dy), float4x4(-0.166376724839211,0.025359129533172,-0.034582730382681,-0.009262848645449,0.040638480335474,0.166609764099121,0.094844073057175,-0.007375110872090,0.071514271199703,0.045498818159103,-0.035778839141130,-0.028137084096670,-0.053105767816305,0.118913859128952,0.087879002094269,-0.038879774510860));
res += mul(Get(s0,dx,-dy), float4x4(0.042275290936232,-0.073636397719383,0.161885589361191,-0.139767646789551,-0.006327395793051,0.125430017709732,-0.161094099283218,-0.125778466463089,0.145798757672310,-0.219879135489464,0.029280401766300,-0.057133618742228,-0.111542217433453,0.047558326274157,-0.067614778876305,0.095005385577679));
res += mul(Get(s0,dx,0), float4x4(-0.123970083892345,0.007348276209086,0.014389206655324,-0.021306436508894,-0.189153417944908,-0.009764946997166,0.035562161356211,0.003426192095503,-0.049601495265961,0.022749070078135,-0.146670535206795,0.135073259472847,0.043875478208065,0.022870795801282,-0.059521969407797,0.135216340422630));
res += mul(Get(s0,dx,dy), float4x4(0.030706113204360,0.048514734953642,-0.149107575416565,-0.214883580803871,-0.005583019461483,0.011778192594647,0.048119131475687,0.126084953546524,0.042719643563032,-0.127261966466904,0.061360616236925,0.033827900886536,0.076435156166553,0.126569777727127,0.123573400080204,0.057170417159796));
res += mul(Get(s1,-dx,-dy), float4x4(0.007584895938635,0.098460927605629,-0.047424215823412,0.159263253211975,-0.042189188301563,-0.053005866706371,-0.080701462924480,0.015696622431278,0.053755216300488,0.103609979152679,-0.151501700282097,-0.016345262527466,-0.138703152537346,-0.002309385687113,-0.003040592884645,-0.045490853488445));
res += mul(Get(s1,-dx,0), float4x4(0.047482565045357,0.147982150316238,-0.091876596212387,0.021451793611050,0.046402674168348,-0.078986532986164,0.108002312481403,-0.104202516376972,0.127721086144447,-0.010284494608641,0.000123393358081,0.112175166606903,0.022476566955447,-0.163653075695038,-0.030713468790054,-0.099067345261574));
res += mul(Get(s1,-dx,dy), float4x4(-0.110601373016834,0.065376035869122,0.135441690683365,-0.067940227687359,-0.145859107375145,0.084933578968048,-0.000079007339082,0.099447846412659,-0.045924104750156,0.018001426011324,-0.070225268602371,-0.028308561071754,0.065659135580063,0.116473853588104,-0.066838726401329,0.072127647697926));
res += mul(Get(s1,0,-dy), float4x4(0.017964236438274,-0.044083088636398,-0.086828492581844,-0.072687052190304,0.140779256820679,-0.010156490840018,0.093366511166096,0.101050846278667,0.048855163156986,-0.077693097293377,0.073735676705837,0.129011735320091,-0.169828876852989,-0.013065489009023,-0.078333050012589,0.034069374203682));
res += mul(Get(s1,0,0), float4x4(0.035661406815052,-0.054171476513147,0.067925170063972,-0.029012661427259,0.024433290585876,0.045277543365955,0.140125259757042,-0.010499857366085,0.047848679125309,0.019684918224812,0.004089115653187,0.051355868577957,-0.146716624498367,0.076399877667427,0.082136094570160,0.108158975839615));
res += mul(Get(s1,0,dy), float4x4(-0.067018963396549,-0.054524898529053,0.008095138706267,0.055568937212229,0.062333583831787,0.092636942863464,-0.003211792558432,0.002411300083622,0.020370600745082,-0.081337705254555,0.244784891605377,-0.138382598757744,-0.088440515100956,0.145406186580658,-0.042201600968838,-0.010566277429461));
res += mul(Get(s1,dx,-dy), float4x4(0.186579287052155,0.066732667386532,0.068661972880363,0.173276007175446,0.019108267500997,-0.031185735017061,0.103157423436642,-0.141246601939201,0.011585972271860,0.077147990465164,-0.115901075303555,-0.060084372758865,0.057628944516182,0.083042800426483,-0.037971347570419,0.001571016618982));
res += mul(Get(s1,dx,0), float4x4(0.036852467805147,-0.078773729503155,-0.175365328788757,0.088698729872704,0.085686109960079,0.029211994260550,-0.056978788226843,-0.208952933549881,0.068525969982147,0.087238781154156,0.062014319002628,0.023064678534865,0.048267040401697,-0.030433077365160,-0.055877149105072,-0.011053884401917));
res += mul(Get(s1,dx,dy), float4x4(0.071882024407387,-0.043670292943716,0.016777411103249,0.036714665591717,0.034322801977396,-0.084918439388275,-0.130551040172577,0.110379286110401,0.189191848039627,0.039372850209475,0.079680263996124,0.018156036734581,0.051063776016235,-0.097712643444538,-0.004562538582832,0.050369631499052));
res += mul(Get(s2,-dx,-dy), float4x4(-0.131067484617233,0.143125265836716,-0.095102198421955,0.203016117215157,-0.052357736974955,-0.115133225917816,-0.104610808193684,-0.025580048561096,0.035289674997330,0.054493803530931,0.097735419869423,-0.109267190098763,0.085878513753414,0.102851040661335,-0.221269235014915,0.017139201983809));
res += mul(Get(s2,-dx,0), float4x4(0.006332044024020,0.001926344237290,-0.058053556829691,-0.012348094023764,-0.121085651218891,-0.049546271562576,-0.144121453166008,-0.044437590986490,-0.037637427449226,-0.041478957980871,-0.082112744450569,-0.077633447945118,0.088445760309696,0.090243391692638,-0.133238822221756,0.001819209894165));
res += mul(Get(s2,-dx,dy), float4x4(0.124095708131790,-0.056490227580070,0.242310911417007,-0.070017740130424,0.031440529972315,0.070517763495445,0.183629766106606,0.011144609190524,-0.087641626596451,0.112892791628838,0.037598468363285,-0.034225415438414,0.054167848080397,-0.196633741259575,0.062757059931755,0.006207131315023));
res += mul(Get(s2,0,-dy), float4x4(-0.048376735299826,0.072425305843353,0.082429446280003,0.098419472575188,-0.172112584114075,0.074606798589230,0.203799441456795,0.198994770646095,0.098958238959312,0.102875210344791,0.274863332509995,-0.088206224143505,0.169338017702103,-0.014057286083698,-0.051552828401327,0.104058884084225));
res += mul(Get(s2,0,0), float4x4(0.025502754375339,-0.054005827754736,-0.041794832795858,-0.084611222147942,-0.134835422039032,0.116115845739841,-0.139473736286163,0.062468841671944,-0.025508722290397,0.108667887747288,-0.124609187245369,-0.024083627387881,-0.085392832756042,-0.054626878350973,-0.018104694783688,-0.053224429488182));
res += mul(Get(s2,0,dy), float4x4(-0.166425570845604,-0.093695841729641,0.202798113226891,-0.005528681911528,0.053767353296280,0.043429307639599,0.111663140356541,-0.108290575444698,0.032200217247009,-0.151456713676453,-0.109100125730038,-0.045754842460155,0.101286508142948,-0.131968885660172,0.170362398028374,-0.043365012854338));
res += mul(Get(s2,dx,-dy), float4x4(0.076237060129642,-0.118190601468086,-0.049686297774315,0.097649134695530,0.053790453821421,0.073888070881367,0.005112154874951,-0.046278741210699,-0.160217702388763,0.067680075764656,-0.116417147219181,-0.054213494062424,0.054744794964790,0.009977673180401,0.030621929094195,-0.118276059627533));
res += mul(Get(s2,dx,0), float4x4(-0.044716119766235,-0.122328966856003,-0.110233798623085,0.053592935204506,0.034843388944864,-0.026856489479542,0.085824824869633,0.222016513347626,-0.205385297536850,0.054477203637362,0.029479177668691,-0.069188371300697,-0.013749756850302,-0.034195601940155,-0.041918631643057,-0.084032997488976));
res += mul(Get(s2,dx,dy), float4x4(0.010462725535035,0.001147703500465,0.106013983488083,-0.001149704679847,0.168004497885704,0.014596788212657,-0.137660518288612,0.062450177967548,-0.011519756168127,-0.091922938823700,-0.018360225483775,-0.142294049263000,-0.082754440605640,-0.017883243039250,-0.013204070739448,-0.132542639970779));
res += mul(Get(s3,-dx,-dy), float4x4(-0.017592387273908,0.005299184937030,0.072080917656422,-0.009666734375060,0.046394035220146,-0.116526186466217,0.038061596453190,-0.067952632904053,-0.156274184584618,-0.161792650818825,0.170197457075119,-0.066782779991627,0.011802220717072,-0.041187915951014,0.071257129311562,0.043939579278231));
res += mul(Get(s3,-dx,0), float4x4(-0.089157104492188,0.131419360637665,-0.039111815392971,0.202702850103378,-0.008971285074949,0.053269229829311,0.102123886346817,0.000733433407731,-0.064979709684849,0.134420171380043,-0.245857805013657,-0.039278656244278,0.002907178830355,0.198133006691933,-0.100235261023045,0.041851773858070));
res += mul(Get(s3,-dx,dy), float4x4(-0.003439980093390,-0.037289030849934,0.027446735650301,-0.030607083812356,0.059099622070789,-0.013457314111292,0.060333278030157,-0.239216059446335,0.031816359609365,0.006282683461905,0.089017122983932,0.034495335072279,0.298144936561584,-0.056894358247519,0.051234234124422,0.055313512682915));
res += mul(Get(s3,0,-dy), float4x4(-0.046126648783684,-0.092637322843075,0.012498637661338,0.123851589858532,0.042526658624411,-0.141325622797012,0.103464439511299,0.033486943691969,0.115622714161873,0.040041044354439,-0.186618253588676,0.105455078184605,0.039916776120663,0.187120661139488,0.141090795397758,0.079253725707531));
res += mul(Get(s3,0,0), float4x4(0.019201621413231,0.042154349386692,0.011348994448781,-0.022651387378573,0.097944140434265,-0.052429813891649,0.071927845478058,0.071086302399635,0.015096792019904,-0.138138815760612,-0.096889890730381,-0.016943357884884,0.172843456268311,0.095257245004177,-0.078577145934105,0.048612494021654));
res += mul(Get(s3,0,dy), float4x4(0.252383112907410,0.016713613644242,0.022110138088465,0.042576216161251,0.016342278569937,-0.126392096281052,-0.092819906771183,-0.077907674014568,-0.247979655861855,-0.073492072522640,0.032858606427908,-0.096577204763889,-0.051962994039059,0.050853721797466,0.137540653347969,0.174396499991417));
res += mul(Get(s3,dx,-dy), float4x4(0.054370943456888,0.192213997244835,-0.008123523555696,0.121655464172363,-0.039599325507879,0.066221110522747,0.013094361871481,0.168470978736877,-0.038947407156229,0.106547050178051,0.031852208077908,-0.063666842877865,0.039754014462233,0.147853791713715,0.016349742189050,-0.194983720779419));
res += mul(Get(s3,dx,0), float4x4(-0.188071280717850,0.005703571718186,-0.128259509801865,-0.059693887829781,0.000782029237598,0.002763909520581,-0.008357969112694,0.000252423167694,-0.224573299288750,-0.294731020927429,0.139271333813667,-0.072435908019543,0.066655389964581,-0.051367819309235,-0.281251430511475,0.109792597591877));
res += mul(Get(s3,dx,dy), float4x4(-0.110312372446060,-0.023041022941470,-0.088551856577396,-0.085117682814598,-0.081516757607460,-0.039419326931238,-0.084278896450996,-0.108951307833195,0.051864597946405,0.046010620892048,0.038988430052996,-0.003826832631603,-0.038062591105700,0.053641587495804,0.072859041392803,-0.137444257736206));
res = max(float4(0,0,0,0), res);
return res;
}
