sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020163178443909,-0.209909200668335,0.049625001847744,0.135784193873405,0.088765323162079,-0.008203031495214,-0.016591403633356,-0.248350381851196,-0.012059140950441,0.075207211077213,0.141738921403885,-0.038190033286810,-0.064036168158054,-0.010921940207481,-0.004096242599189,-0.002504629781470));
res += mul(Get(s0,-dx,0), float4x4(-0.175390332937241,-0.098281912505627,-0.069054380059242,-0.039396081119776,-0.068666569888592,-0.022820632904768,-0.062904678285122,0.065087951719761,-0.026589624583721,0.139475867152214,-0.055298760533333,0.091760315001011,-0.066036321222782,0.075572341680527,0.051205668598413,-0.030448148027062));
res += mul(Get(s0,-dx,dy), float4x4(-0.131911471486092,-0.024646721780300,-0.030492346733809,0.053781900554895,-0.037751596421003,0.083427600562572,0.177298665046692,0.037517130374908,-0.038070451468229,-0.112202577292919,-0.078407555818558,0.081449672579765,0.078417599201202,-0.047656707465649,0.007592737209052,-0.035203952342272));
res += mul(Get(s0,0,-dy), float4x4(-0.037415821105242,0.064151220023632,0.001239295350388,-0.039112005382776,0.017389837652445,0.054765135049820,0.120444573462009,-0.084032692015171,0.042602859437466,-0.079303912818432,-0.010984911583364,0.045724000781775,-0.107970565557480,-0.040714889764786,-0.066474199295044,0.031802445650101));
res += mul(Get(s0,0,0), float4x4(-0.002334438962862,-0.123584441840649,0.092655986547470,0.100423775613308,0.010849302634597,0.031426396220922,-0.006197980605066,-0.230050936341286,0.059187699109316,-0.037886250764132,-0.079418778419495,0.035312093794346,0.022547001019120,0.096047542989254,0.002288739429787,0.037585485726595));
res += mul(Get(s0,0,dy), float4x4(0.044721461832523,0.001924931071699,0.034806132316589,-0.103950925171375,0.006478826049715,0.059662055224180,0.013770847581327,-0.047331735491753,0.108375534415245,0.016935938969254,-0.170194014906883,0.048783782869577,-0.115730762481689,-0.021116266027093,0.023693311959505,-0.041935440152884));
res += mul(Get(s0,dx,-dy), float4x4(-0.132400527596474,0.041803665459156,-0.024573804810643,0.095054656267166,0.060221090912819,0.012650029733777,0.196502640843391,0.107587188482285,0.148240685462952,-0.199681505560875,0.032793235033751,0.136277481913567,0.049564380198717,-0.094085834920406,-0.067033439874649,0.075453206896782));
res += mul(Get(s0,dx,0), float4x4(-0.055480573326349,0.120126187801361,0.188041597604752,0.096862390637398,-0.155433252453804,0.122908420860767,0.100300490856171,0.126792520284653,0.105262145400047,-0.009272824972868,0.141925171017647,-0.130127578973770,-0.140677660703659,-0.086395360529423,-0.123497553169727,-0.039089538156986));
res += mul(Get(s0,dx,dy), float4x4(-0.041838925331831,0.249156296253204,0.003700226079673,0.095634043216705,-0.045129887759686,-0.028972234576941,-0.175147309899330,-0.067674122750759,-0.024422153830528,0.050872266292572,0.178693756461143,-0.099321067333221,0.004645936656743,0.090579777956009,-0.095642752945423,0.046584133058786));
res += mul(Get(s1,-dx,-dy), float4x4(0.058134756982327,-0.050121236592531,0.033356238156557,-0.063657321035862,0.029758390039206,-0.044242598116398,-0.030313484370708,0.007168432697654,-0.162619248032570,-0.160085886716843,-0.031487882137299,-0.168392062187195,-0.133826971054077,0.138162925839424,-0.022598169744015,-0.093787401914597));
res += mul(Get(s1,-dx,0), float4x4(0.043559961020947,0.154050409793854,0.203980535268784,0.100580103695393,-0.074339620769024,0.049124088138342,-0.134084254503250,-0.039070904254913,-0.186482220888138,0.113353267312050,-0.065599210560322,0.001193246687762,0.005039933603257,0.015291651710868,0.005436202045530,0.117580242455006));
res += mul(Get(s1,-dx,dy), float4x4(-0.072286300361156,0.038792487233877,-0.026167225092649,-0.003726768773049,0.149606734514236,-0.066523641347885,0.098839044570923,-0.026668123900890,-0.069171957671642,0.183163538575172,0.123939715325832,-0.059488639235497,0.094394654035568,-0.015667991712689,0.087304137647152,0.157840937376022));
res += mul(Get(s1,0,-dy), float4x4(-0.023053647950292,0.015566828660667,-0.037654634565115,0.125917941331863,-0.095532663166523,-0.135772004723549,-0.126733288168907,0.088617183268070,-0.133572548627853,-0.124358326196671,-0.112004511058331,-0.034017607569695,0.128777801990509,0.051227685064077,-0.004311880562454,-0.144636839628220));
res += mul(Get(s1,0,0), float4x4(0.037006482481956,0.026696769520640,-0.065252982079983,-0.007575585972518,0.139788821339607,0.013658981770277,0.019543156027794,0.019152253866196,-0.087774932384491,-0.025519490242004,0.001437021186575,0.025076199322939,-0.004054725635797,0.139147937297821,-0.054432995617390,0.142509877681732));
res += mul(Get(s1,0,dy), float4x4(-0.135109931230545,0.025664675980806,0.065925315022469,0.046751216053963,-0.041526008397341,-0.095749564468861,-0.226133704185486,-0.009444424882531,0.130826547741890,0.246319606900215,0.209610760211945,0.010545312426984,-0.002487768651918,0.019588287919760,-0.037743631750345,0.007616034243256));
res += mul(Get(s1,dx,-dy), float4x4(-0.157309919595718,0.008316727355123,-0.019872950389981,0.034597754478455,0.041026566177607,0.053694389760494,-0.046944059431553,0.012971949763596,0.055603086948395,0.159025430679321,0.035872936248779,-0.021843142807484,-0.130213335156441,-0.044049020856619,0.109980165958405,-0.173720374703407));
res += mul(Get(s1,dx,0), float4x4(0.057128287851810,-0.079913832247257,-0.015917535871267,-0.007889085449278,0.085251703858376,0.177271485328674,0.012152587994933,0.115819327533245,0.172679111361504,0.012642472051084,-0.029018046334386,-0.010360913351178,-0.041990455240011,-0.069588944315910,-0.009658074006438,0.167312785983086));
res += mul(Get(s1,dx,dy), float4x4(-0.032643590122461,-0.047106195241213,-0.057021673768759,0.118291601538658,0.035677161067724,0.058103337883949,-0.090066723525524,-0.058728288859129,0.003765659639612,0.292474001646042,0.024506226181984,-0.004906461108476,-0.023692304268479,0.031472638249397,-0.216182321310043,-0.098058782517910));
res += mul(Get(s2,-dx,-dy), float4x4(0.106496818363667,-0.034850515425205,0.082112401723862,0.085486114025116,-0.088555678725243,0.112722188234329,-0.076850391924381,-0.189088076353073,0.014059277251363,-0.194109871983528,-0.104557931423187,0.027859715744853,-0.205570250749588,-0.064276963472366,0.153267085552216,0.040074795484543));
res += mul(Get(s2,-dx,0), float4x4(-0.113241128623486,-0.101423382759094,-0.182771459221840,-0.018017131835222,0.002884397981688,-0.020591432228684,0.012485305778682,-0.210229352116585,-0.004813466221094,0.045502644032240,0.088761657476425,-0.228039234876633,0.044997211545706,-0.203363284468651,0.056411810219288,0.197941556572914));
res += mul(Get(s2,-dx,dy), float4x4(0.018672617152333,0.034856580197811,0.062881775200367,-0.036618448793888,-0.006104959174991,0.185802042484283,0.144183680415154,-0.168514072895050,-0.092270389199257,-0.157767757773399,-0.121627084910870,-0.044460572302341,-0.089869000017643,0.030765019357204,-0.062716998159885,-0.049293544143438));
res += mul(Get(s2,0,-dy), float4x4(0.055671196430922,0.054773651063442,-0.001523724291474,-0.085772626101971,-0.010969619266689,0.117190524935722,-0.023839157074690,0.114713899791241,0.166157230734825,-0.109504975378513,-0.084982179105282,-0.119001202285290,-0.143284216523170,0.013893542811275,-0.060773462057114,-0.117537200450897));
res += mul(Get(s2,0,0), float4x4(-0.117196336388588,0.080754257738590,0.197620838880539,0.060126714408398,-0.089816346764565,0.118457645177841,-0.065495744347572,-0.133254289627075,0.055642563849688,0.025921126827598,-0.126510679721832,0.019539711996913,-0.130623862147331,-0.056943804025650,-0.034335657954216,-0.002532656304538));
res += mul(Get(s2,0,dy), float4x4(0.012238908559084,-0.131955772638321,0.136103898286819,0.041405756026506,0.229204654693604,-0.059452932327986,-0.090381085872650,-0.132871240377426,0.039432186633348,-0.059579517692327,0.109387211501598,-0.020886844024062,0.098233647644520,-0.046250108629465,-0.072137787938118,0.067072086036205));
res += mul(Get(s2,dx,-dy), float4x4(0.064695119857788,0.166838839650154,0.081536062061787,-0.012354976497591,-0.121468201279640,0.054426319897175,0.038483470678329,-0.036321241408587,-0.095204167068005,0.026526130735874,0.088598586618900,-0.099398836493492,-0.101232074201107,0.021012112498283,0.056108541786671,0.026807352900505));
res += mul(Get(s2,dx,0), float4x4(0.076458662748337,0.036228619515896,-0.128616794943810,-0.094161190092564,0.016233548521996,-0.008098436519504,-0.007663934491575,-0.231224790215492,0.151104152202606,0.070475749671459,0.020940171554685,0.093279950320721,-0.128555729985237,0.031218862161040,0.101777628064156,-0.039888773113489));
res += mul(Get(s2,dx,dy), float4x4(0.085686959326267,-0.233119279146194,-0.064123049378395,-0.013620948418975,0.015276598744094,-0.050045695155859,0.182109519839287,0.034475654363632,0.158214583992958,0.043208990246058,0.079501040279865,-0.040473926812410,0.210204929113388,-0.074550047516823,-0.031583797186613,-0.070268310606480));
res += mul(Get(s3,-dx,-dy), float4x4(0.000583821209148,0.020028442144394,-0.041766941547394,-0.017744362354279,0.017883531749249,0.010461475700140,0.060120139271021,0.025799781084061,-0.109480045735836,0.066061079502106,-0.017054285854101,-0.060302309691906,0.016695529222488,-0.194208055734634,0.181884676218033,-0.052080459892750));
res += mul(Get(s3,-dx,0), float4x4(0.134981513023376,0.020933395251632,-0.110910251736641,-0.030378744006157,0.054620362818241,-0.073011435568333,0.045171812176704,-0.184523969888687,-0.119375854730606,-0.039286572486162,-0.126014366745949,0.026953661814332,0.078002221882343,-0.096792288124561,0.018075322732329,-0.114890217781067));
res += mul(Get(s3,-dx,dy), float4x4(-0.103164821863174,-0.125872537493706,-0.062365319579840,-0.002773855812848,-0.091810613870621,0.034280989319086,-0.116533897817135,-0.094619348645210,-0.210804313421249,0.127841517329216,-0.176714450120926,0.093778632581234,-0.162258043885231,-0.156510666012764,0.037583444267511,0.008457955904305));
res += mul(Get(s3,0,-dy), float4x4(-0.051260922104120,-0.113762259483337,0.061149101704359,0.033969603478909,-0.002030718605965,0.124593824148178,0.022942952811718,0.033379469066858,0.020522713661194,0.097499758005142,0.046399090439081,-0.002025498310104,-0.119917549192905,-0.224926054477692,-0.116282708942890,0.061448995023966));
res += mul(Get(s3,0,0), float4x4(-0.121302045881748,-0.122624717652798,-0.074295520782471,0.046160772442818,-0.104349784553051,0.084632322192192,0.006050281226635,0.040411576628685,-0.130547910928726,-0.152701392769814,0.069621331989765,-0.147143751382828,-0.145775675773621,0.042020987719297,-0.029129169881344,-0.160240426659584));
res += mul(Get(s3,0,dy), float4x4(-0.078191593289375,-0.128422275185585,-0.094759695231915,-0.202490538358688,-0.031001178547740,0.057194471359253,-0.009288837201893,0.221147730946541,0.003567826468498,-0.082817934453487,0.033086050301790,0.054251700639725,0.038202092051506,-0.009667898528278,0.117098383605480,0.181050613522530));
res += mul(Get(s3,dx,-dy), float4x4(-0.127412185072899,0.181589156389236,-0.015634361654520,-0.054306946694851,0.014853345230222,-0.097162410616875,0.054024383425713,-0.063139669597149,-0.032846737653017,-0.000735244946554,-0.000510099926032,-0.117263421416283,-0.101897604763508,0.072034180164337,0.159967675805092,-0.091775953769684));
res += mul(Get(s3,dx,0), float4x4(0.001397591666318,0.216720834374428,-0.113468244671822,-0.092743709683418,0.057549912482500,-0.056862447410822,-0.095617756247520,-0.013719789683819,-0.011937152594328,0.077248625457287,-0.055981796234846,0.047040428966284,0.085802763700485,-0.002625788794830,-0.063606508076191,-0.118937797844410));
res += mul(Get(s3,dx,dy), float4x4(0.052305638790131,0.033000674098730,-0.119187049567699,0.067380577325821,0.094949394464493,-0.031661897897720,-0.031893793493509,0.014619043096900,0.107976607978344,-0.008918265812099,0.017954220995307,-0.006231452804059,-0.054910015314817,0.039734359830618,0.040244732052088,-0.053071849048138));
res = max(float4(0,0,0,0), res);
return res;
}
