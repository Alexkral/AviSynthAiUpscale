sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.087467581033707,-0.074219606816769,0.048569135367870,0.173140600323677,-0.033348325639963,0.075858354568481,0.025809518992901,-0.197033420205116,0.008168371394277,-0.121805198490620,0.050865780562162,-0.076882295310497,-0.076010666787624,-0.017406987026334,0.002134381094947,0.049136854708195));
res += mul(Get(s0,-dx,0), float4x4(-0.093976415693760,-0.093109443783760,-0.019432708621025,-0.265945702791214,-0.030228609219193,0.145563259720802,0.067241288721561,-0.112597264349461,0.146422892808914,-0.095401644706726,0.046310853213072,-0.037089161574841,-0.044754892587662,-0.044318299740553,-0.111236065626144,0.161493182182312));
res += mul(Get(s0,-dx,dy), float4x4(0.024762680754066,-0.024891525506973,-0.079739920794964,-0.036866884678602,0.055526506155729,-0.092425473034382,0.063413463532925,-0.118915356695652,0.069161087274551,-0.115954332053661,0.055532913655043,0.079516187310219,-0.047853417694569,-0.003242412814870,0.090271353721619,0.207681149244308));
res += mul(Get(s0,0,-dy), float4x4(-0.015527901239693,0.141237720847130,-0.007961980998516,0.032828394323587,-0.009179682470858,-0.063821464776993,0.123306453227997,-0.137951940298080,-0.127841308712959,-0.092580780386925,0.041324861347675,0.152223512530327,-0.045660510659218,0.196143701672554,-0.097332805395126,-0.095587536692619));
res += mul(Get(s0,0,0), float4x4(-0.047617644071579,-0.038038935512304,0.163869574666023,0.084062315523624,-0.073255017399788,0.030026502907276,-0.114310920238495,0.083743363618851,-0.001804384402931,0.014567558653653,0.069876365363598,-0.040179956704378,-0.053946234285831,-0.001112757483497,0.044493362307549,-0.031313821673393));
res += mul(Get(s0,0,dy), float4x4(-0.104794345796108,0.032673258334398,0.031508650630713,-0.036985069513321,0.063068628311157,0.163193419575691,0.085374757647514,-0.014275572262704,-0.185493573546410,-0.005065765231848,-0.108391813933849,0.046045366674662,-0.007714525796473,0.068996548652649,0.169655442237854,-0.002566066570580));
res += mul(Get(s0,dx,-dy), float4x4(-0.128990009427071,-0.210211023688316,-0.094625763595104,0.153888955712318,0.054068744182587,0.020232917740941,-0.121852703392506,0.094472281634808,-0.091943435370922,-0.050163477659225,-0.106499187648296,-0.195776641368866,-0.147008866071701,0.065876379609108,-0.057223044335842,-0.052881050854921));
res += mul(Get(s0,dx,0), float4x4(-0.027923343703151,-0.028363449499011,0.042653117328882,0.245778456330299,-0.009391474537551,-0.046306002885103,0.242354974150658,0.111889339983463,-0.223371624946594,0.006169728934765,-0.121765293180943,0.233975619077682,-0.006510263774544,-0.096323810517788,0.059833638370037,-0.190403148531914));
res += mul(Get(s0,dx,dy), float4x4(0.134717658162117,0.055031269788742,0.203742101788521,0.113340981304646,-0.067842870950699,0.147514715790749,-0.012697649188340,-0.061834856867790,-0.153792396187782,0.070958845317364,0.049509413540363,0.097481839358807,0.004895928781480,0.012889033183455,0.025034941732883,-0.095440179109573));
res += mul(Get(s1,-dx,-dy), float4x4(-0.099513575434685,0.089640870690346,-0.004664446227252,-0.128795713186264,-0.003685221308842,0.265553742647171,0.114153094589710,-0.144364461302757,0.049756109714508,-0.032057698816061,0.105455368757248,0.076866723597050,0.011771973222494,0.145279034972191,0.006048185285181,-0.073066145181656));
res += mul(Get(s1,-dx,0), float4x4(-0.154066503047943,-0.122949771583080,0.101838357746601,0.091691330075264,-0.023323008790612,0.141198143362999,0.004178300034255,-0.059744559228420,0.241435527801514,0.073470853269100,-0.054009545594454,0.004647203255445,-0.004077809862792,-0.205389842391014,0.178873002529144,0.059191636741161));
res += mul(Get(s1,-dx,dy), float4x4(0.164083093404770,0.099454239010811,-0.122176110744476,0.045044671744108,-0.035487566143274,0.134153202176094,0.068970263004303,-0.149778932332993,-0.103383250534534,-0.092645645141602,-0.059707388281822,0.075768895447254,-0.141253501176834,0.047241840511560,-0.062199413776398,-0.016362816095352));
res += mul(Get(s1,0,-dy), float4x4(-0.129492968320847,-0.118082091212273,-0.093717530369759,0.138382866978645,0.047952532768250,-0.020182751119137,0.092450328171253,0.018172118812799,-0.044767525047064,-0.063104078173637,0.025895278900862,0.056424871087074,0.123751662671566,-0.073083989322186,-0.158311724662781,-0.163949862122536));
res += mul(Get(s1,0,0), float4x4(-0.026615090668201,0.095496781170368,0.079356223344803,0.157982006669044,0.056257616728544,0.067629925906658,-0.137008234858513,-0.007238078396767,-0.096574507653713,0.183165639638901,0.308927029371262,0.026180502027273,0.032261781394482,-0.024900078773499,0.049799934029579,-0.095889106392860));
res += mul(Get(s1,0,dy), float4x4(-0.136362284421921,-0.122745133936405,-0.068594507873058,-0.004480495117605,0.044747110456228,-0.028442155569792,-0.009926433674991,0.049375653266907,0.097538828849792,-0.159607172012329,0.021562505513430,0.100115448236465,0.061900567263365,-0.086809165775776,0.024920118972659,-0.089334763586521));
res += mul(Get(s1,dx,-dy), float4x4(-0.019630677998066,-0.055546086281538,0.156092569231987,0.001893474720418,0.159501045942307,-0.083290286362171,0.134507387876511,-0.031915448606014,-0.044336687773466,-0.016494739800692,-0.040045764297247,0.018872048705816,0.037668775767088,-0.072761178016663,0.078144811093807,0.170077621936798));
res += mul(Get(s1,dx,0), float4x4(0.075475201010704,0.114392071962357,0.114731565117836,-0.011615861207247,-0.051323115825653,0.059306170791388,0.134650439023972,-0.039160903543234,0.034467931836843,-0.086677841842175,0.041503868997097,0.007535655982792,-0.093040831387043,0.145938247442245,-0.016448788344860,-0.095477364957333));
res += mul(Get(s1,dx,dy), float4x4(0.117263428866863,0.020526288077235,0.112672701478004,-0.020913843065500,0.065671339631081,0.086443744599819,-0.070758305490017,-0.024944387376308,0.161089897155762,-0.130527168512344,0.003421120811254,0.097380422055721,-0.122921399772167,-0.110815003514290,0.108898617327213,0.078103214502335));
res += mul(Get(s2,-dx,-dy), float4x4(-0.160923391580582,-0.191848993301392,-0.003939779940993,-0.040205519646406,0.079238213598728,-0.031109072268009,0.026057513430715,-0.005912538152188,0.291847705841064,-0.115028984844685,0.175591394305229,0.143329054117203,-0.100076459348202,-0.069769836962223,0.101215332746506,0.150455728173256));
res += mul(Get(s2,-dx,0), float4x4(0.115909039974213,-0.093936085700989,-0.153983384370804,-0.062800690531731,0.063857689499855,0.068304851651192,0.067840285599232,-0.069597505033016,0.134530872106552,0.201268494129181,0.045793581753969,0.035277891904116,-0.251764595508575,-0.057231143116951,0.031473308801651,0.036949470639229));
res += mul(Get(s2,-dx,dy), float4x4(0.114152245223522,-0.071114122867584,0.176006734371185,-0.117444850504398,-0.074054978787899,-0.064830914139748,0.058904320001602,-0.105658970773220,0.201608583331108,-0.173000156879425,0.053136192262173,0.093676522374153,0.231002017855644,-0.089876830577850,0.103753075003624,-0.092442840337753));
res += mul(Get(s2,0,-dy), float4x4(0.085411056876183,-0.120175734162331,0.001024721423164,0.030871015042067,0.065383411943913,-0.050931923091412,0.183430641889572,0.043182637542486,0.070703841745853,-0.010331792756915,0.012393878772855,0.186219736933708,0.195100069046021,-0.125128999352455,0.031045300886035,-0.079242251813412));
res += mul(Get(s2,0,0), float4x4(0.148179069161415,0.089995943009853,-0.139991983771324,-0.160319685935974,-0.107108898460865,0.155775323510170,0.091674447059631,-0.054015267640352,-0.186456352472305,0.071038581430912,0.031488761305809,-0.135003596544266,0.078656718134880,-0.085173517465591,-0.041506472975016,-0.012698249891400));
res += mul(Get(s2,0,dy), float4x4(-0.029636634513736,0.027727436274290,-0.015196938067675,0.065184377133846,-0.089068748056889,-0.083739042282104,-0.010615546256304,0.069911442697048,-0.209442079067230,0.095915749669075,-0.066459670662880,0.016694746911526,0.092446081340313,-0.083448715507984,-0.075051091611385,0.016138989478350));
res += mul(Get(s2,dx,-dy), float4x4(0.053743388503790,-0.071441382169724,-0.100934177637100,0.024971561506391,-0.133990004658699,-0.148279622197151,-0.112705178558826,-0.093764573335648,0.021431872621179,0.019238563254476,0.105195216834545,0.040561735630035,0.026506265625358,-0.005185125861317,0.048866253346205,-0.127567932009697));
res += mul(Get(s2,dx,0), float4x4(0.151270985603333,-0.050873022526503,0.003462175372988,0.079771794378757,-0.116864718496799,-0.179946675896645,-0.065934054553509,-0.133938327431679,0.137139499187469,-0.170417949557304,-0.046851161867380,0.029346209019423,-0.126177728176117,0.171045511960983,-0.063397601246834,-0.080693118274212));
res += mul(Get(s2,dx,dy), float4x4(0.016228271648288,0.044417060911655,-0.018046448007226,-0.063799925148487,0.050481054931879,-0.075157880783081,0.050274435430765,0.110301569104195,-0.012875355780125,-0.008128369227052,-0.044306494295597,0.063003100454807,0.070956334471703,-0.019710198044777,-0.080671831965446,-0.006288680247962));
res += mul(Get(s3,-dx,-dy), float4x4(0.079624935984612,0.115216910839081,-0.156107515096664,-0.077370926737785,0.055162440985441,0.054880615323782,0.066739849746227,-0.105933181941509,-0.138028830289841,-0.035492114722729,0.043980665504932,-0.007839223369956,-0.103724904358387,-0.002521510701627,0.137983366847038,-0.028945883736014));
res += mul(Get(s3,-dx,0), float4x4(-0.088332444429398,0.037195168435574,-0.046077080070972,0.171531662344933,-0.137841209769249,-0.139807909727097,-0.010902049951255,0.031309474259615,0.003479508217424,-0.012912639416754,-0.021911080926657,-0.100451022386551,0.011677022092044,0.070369563996792,0.043433949351311,-0.041474878787994));
res += mul(Get(s3,-dx,dy), float4x4(0.001054347842000,0.085793778300285,0.073491021990776,-0.076588533818722,-0.092768892645836,-0.010214020498097,-0.018628938123584,0.029267743229866,-0.052273444831371,-0.101788401603699,0.144217222929001,0.015859032049775,-0.043081607669592,0.259241163730621,-0.068473674356937,-0.003077249275520));
res += mul(Get(s3,0,-dy), float4x4(-0.009778282605112,0.016407232731581,-0.022618157789111,0.015650760382414,-0.059144444763660,0.170336142182350,-0.130093976855278,-0.076450586318970,0.050723899155855,-0.033623524010181,0.039308350533247,-0.098035424947739,-0.028728455305099,0.146413266658783,0.044193621724844,0.003333344589919));
res += mul(Get(s3,0,0), float4x4(-0.039445661008358,0.062106497585773,-0.116588711738586,-0.022704396396875,0.113014072179794,-0.029529271647334,0.204643279314041,0.064448483288288,0.066731527447701,0.016859112307429,0.145781010389328,-0.003291511675343,-0.036311302334070,0.088633269071579,0.174497157335281,0.061206799000502));
res += mul(Get(s3,0,dy), float4x4(0.009095476940274,-0.013373201712966,-0.026544479653239,-0.025198675692081,0.104034356772900,-0.029871108010411,0.006010007578880,-0.004497336689383,-0.131674870848656,0.005381149705499,0.044453527778387,0.199187025427818,0.086213201284409,-0.004325638990849,-0.128829613327980,0.038667932152748));
res += mul(Get(s3,dx,-dy), float4x4(-0.102268546819687,-0.009605671279132,-0.036635059863329,-0.162860676646233,-0.232308775186539,-0.265780746936798,0.172196239233017,-0.139258742332458,0.057288903743029,0.025216672569513,-0.016388081014156,0.153623268008232,-0.042458761483431,0.093071006238461,-0.124622799456120,0.116997100412846));
res += mul(Get(s3,dx,0), float4x4(-0.117018073797226,-0.085699580609798,-0.160685837268829,-0.005481805652380,-0.137475267052650,-0.088925302028656,-0.173268601298332,0.082465223968029,-0.063560970127583,0.012027575634420,0.142658770084381,-0.048568677157164,-0.008365991525352,-0.000446945836302,-0.117467589676380,0.071865670382977));
res += mul(Get(s3,dx,dy), float4x4(0.071002289652824,-0.024895962327719,0.061280947178602,-0.063146926462650,0.135899648070335,-0.014799814671278,-0.017964417114854,-0.066926099359989,0.016441645100713,0.098223768174648,-0.011304901912808,-0.164083406329155,-0.062932699918747,-0.057032082229853,0.049496494233608,-0.092416316270828));
res = max(float4(0,0,0,0), res);
return res;
}
