sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.030873581767082,0.094120077788830,0.080506116151810,0.070737056434155,-0.100286699831486,-0.058921169489622,0.142601177096367,-0.007933876477182,0.007668830920011,-0.037755623459816,-0.068376287817955,-0.079951576888561,-0.010582568123937,-0.201506838202477,0.015025963075459,-0.140300661325455));
res += mul(Get(s0,-dx,0), float4x4(-0.163211435079575,-0.099471874535084,0.036866880953312,-0.043768271803856,-0.068956054747105,0.044627286493778,-0.123918235301971,-0.054101623594761,0.013598480261862,0.066996030509472,0.129868209362030,-0.073304750025272,0.064950793981552,-0.114663496613503,0.017045645043254,0.007247070781887));
res += mul(Get(s0,-dx,dy), float4x4(-0.130920886993408,-0.101817466318607,-0.011462229304016,-0.043656989932060,0.012906927615404,-0.012289412319660,-0.015268819406629,-0.159623876214027,0.012747619301081,0.071420222520828,0.084961563348770,-0.020780194550753,-0.008396710269153,-0.160428225994110,0.058820229023695,-0.021551188081503));
res += mul(Get(s0,0,-dy), float4x4(0.094130016863346,-0.145585596561432,0.179224610328674,0.098518833518028,0.104247361421585,0.146862477064133,-0.172720864415169,-0.169484958052635,-0.064648970961571,-0.101625107228756,-0.042013030499220,0.001868678838946,-0.122497878968716,-0.114472188055515,0.060961868613958,-0.217271566390991));
res += mul(Get(s0,0,0), float4x4(-0.107882224023342,-0.091352030634880,0.058047849684954,0.072803884744644,-0.114605441689491,-0.033684432506561,-0.160653784871101,-0.132494136691093,-0.029242575168610,-0.064018473029137,0.057796474546194,-0.188155844807625,0.044722914695740,0.020172340795398,0.131128966808319,0.032889939844608));
res += mul(Get(s0,0,dy), float4x4(0.081043615937233,-0.094108566641808,0.030651412904263,-0.003206739434972,0.005990669596940,0.058318626135588,0.046716459095478,-0.005768003873527,-0.186127498745918,0.171908751130104,-0.043805986642838,-0.156653314828873,0.163181096315384,-0.005535813514143,0.085268855094910,-0.223931297659874));
res += mul(Get(s0,dx,-dy), float4x4(-0.061632212251425,0.251586019992828,0.068562939763069,-0.088600762188435,-0.154988855123520,0.091180950403214,0.085087761282921,0.080679640173912,0.138181865215302,0.000628467299975,0.021268671378493,0.029943469911814,0.069910205900669,-0.150332674384117,0.169755294919014,-0.192301407456398));
res += mul(Get(s0,dx,0), float4x4(-0.123345687985420,-0.091873362660408,-0.118059575557709,0.051965512335300,0.005544304847717,-0.059162374585867,-0.216343671083450,-0.067426696419716,0.097604699432850,0.035430926829576,0.086661621928215,-0.029932497069240,0.139036744832993,0.101245313882828,-0.061355371028185,0.096980370581150));
res += mul(Get(s0,dx,dy), float4x4(-0.078058741986752,-0.053981553763151,0.146230205893517,0.003733430756256,-0.199595361948013,0.097959779202938,-0.041243925690651,0.073525741696358,-0.146836176514626,-0.016379052773118,0.024019148200750,-0.057836607098579,-0.080586209893227,-0.087176695466042,-0.070110663771629,-0.139854252338409));
res += mul(Get(s1,-dx,-dy), float4x4(-0.068848580121994,-0.018496302887797,-0.015034553594887,-0.062975235283375,-0.047889970242977,0.013273825868964,0.042185693979263,-0.103372089564800,0.037659492343664,-0.081603445112705,0.003471925389022,0.193030357360840,-0.118095472455025,0.025573091581464,-0.062485471367836,-0.051878299564123));
res += mul(Get(s1,-dx,0), float4x4(-0.030133105814457,0.012878370471299,-0.075674168765545,-0.082086421549320,-0.083571426570415,0.032227527350187,0.059175498783588,0.048284869641066,0.093918628990650,0.070238769054413,-0.149288490414619,-0.034859646111727,-0.107961960136890,0.035418078303337,0.140418782830238,-0.064212664961815));
res += mul(Get(s1,-dx,dy), float4x4(-0.066185027360916,0.057024251669645,-0.162402570247650,-0.143712073564529,-0.078637361526489,-0.000075119904068,-0.141418218612671,0.054294280707836,-0.117940329015255,0.088319458067417,0.106808945536613,-0.128410428762436,-0.059744462370872,-0.003565350547433,-0.148338243365288,-0.012117187492549));
res += mul(Get(s1,0,-dy), float4x4(-0.042742252349854,0.027686445042491,0.062060739845037,-0.197530224919319,-0.050083223730326,-0.105626843869686,-0.003372698556632,0.141101449728012,0.054434712976217,0.037626348435879,0.024329178035259,0.103219404816628,0.152161329984665,-0.071793861687183,-0.072203435003757,0.130644693970680));
res += mul(Get(s1,0,0), float4x4(-0.082319669425488,-0.022196860983968,-0.128996729850769,0.155292555689812,-0.068661786615849,-0.171187266707420,-0.020268542692065,-0.191528603434563,-0.027990119531751,0.019934855401516,-0.032046575099230,-0.009821222163737,0.141354918479919,-0.073279522359371,-0.143771648406982,-0.125900536775589));
res += mul(Get(s1,0,dy), float4x4(0.039004113525152,-0.051172554492950,0.088974460959435,0.159149691462517,0.075620964169502,0.156363204121590,-0.165365010499954,0.066978059709072,-0.102305494248867,-0.182141542434692,0.033271044492722,0.059038028120995,0.027803353965282,-0.138319253921509,-0.043098784983158,-0.033939983695745));
res += mul(Get(s1,dx,-dy), float4x4(-0.110211960971355,-0.106587529182434,0.126313239336014,0.091109320521355,-0.073170065879822,-0.010505816899240,0.106977954506874,0.054401885718107,0.011364159174263,-0.147473067045212,-0.080655299127102,0.088776223361492,-0.038714304566383,-0.242712855339050,0.055150844156742,-0.075471736490726));
res += mul(Get(s1,dx,0), float4x4(-0.165221139788628,0.019697256386280,-0.137781023979187,0.301264703273773,-0.062133539468050,-0.019704354926944,0.040345132350922,-0.117947213351727,-0.001969783101231,-0.027687486261129,0.018460055813193,0.183549717068672,0.179227784276009,0.201217815279961,0.041819691658020,-0.238011404871941));
res += mul(Get(s1,dx,dy), float4x4(-0.078823819756508,0.035277772694826,-0.180417075753212,-0.097461648285389,0.041884794831276,-0.111100874841213,0.083837121725082,-0.180807173252106,0.020762754604220,-0.061167560517788,-0.088067799806595,-0.197504103183746,-0.248690083622932,0.046337757259607,0.080673031508923,0.095308959484100));
res += mul(Get(s2,-dx,-dy), float4x4(0.053412109613419,0.019883524626493,0.080140165984631,0.001179119572043,-0.083893619477749,0.320423126220703,-0.040544960647821,-0.010758784599602,-0.033274643123150,-0.004394351039082,0.083655960857868,-0.147392481565475,-0.038028974086046,0.134746104478836,0.071870028972626,0.040508281439543));
res += mul(Get(s2,-dx,0), float4x4(0.008307097479701,0.204527929425240,0.012344437651336,0.064521364867687,-0.032461017370224,0.087696038186550,-0.015772122889757,0.076384469866753,-0.091993466019630,-0.054406464099884,-0.121319487690926,-0.076551586389542,0.086337953805923,0.181363373994827,-0.017707360908389,0.080326050519943));
res += mul(Get(s2,-dx,dy), float4x4(0.006301916670054,0.044156551361084,0.023386240005493,0.007363623008132,-0.076539106667042,0.097292177379131,-0.167115539312363,-0.075051061809063,-0.193011865019798,0.026509582996368,0.068033643066883,-0.035651143640280,0.144109964370728,-0.004186461679637,0.025234026834369,0.104060687124729));
res += mul(Get(s2,0,-dy), float4x4(-0.081331230700016,0.066337220370770,0.009593858383596,0.121884480118752,0.232203736901283,-0.001255342620425,0.060480061918497,0.082403928041458,0.128988146781921,0.017368879169226,-0.119790986180305,0.036093425005674,-0.032373722642660,-0.145153149962425,-0.144519388675690,0.031528662890196));
res += mul(Get(s2,0,0), float4x4(-0.017032707110047,-0.076890893280506,-0.047082763165236,-0.079827390611172,-0.119144365191460,-0.051359005272388,-0.086923398077488,-0.058186016976833,0.106012828648090,0.168562933802605,0.143290698528290,0.004876732826233,0.013123535551131,-0.027113772928715,-0.038418952375650,0.014417524449527));
res += mul(Get(s2,0,dy), float4x4(0.115788228809834,-0.079765737056732,0.039106182754040,0.182016491889954,0.042383529245853,0.017191337421536,0.006841741036624,0.083913631737232,-0.046442996710539,0.265569061040878,-0.181463256478310,0.144964277744293,0.037018999457359,-0.075617671012878,0.016796424984932,0.143825158476830));
res += mul(Get(s2,dx,-dy), float4x4(-0.119661033153534,0.012329237535596,-0.061304822564125,-0.131985634565353,0.006806815043092,-0.029697393998504,-0.104678452014923,-0.080772504210472,-0.082457713782787,0.065542809665203,0.135024398565292,-0.139754578471184,-0.144336000084877,-0.028694530948997,0.096984490752220,0.005511095747352));
res += mul(Get(s2,dx,0), float4x4(-0.096649467945099,-0.017907604575157,-0.234532147645950,0.121343336999416,0.097237572073936,0.004357845522463,-0.060946520417929,0.123585745692253,-0.025172064080834,0.150467216968536,-0.058673083782196,-0.182707071304321,-0.086198717355728,-0.041485823690891,-0.188591852784157,0.317144215106964));
res += mul(Get(s2,dx,dy), float4x4(-0.195602715015411,-0.074987463653088,0.106007650494576,0.122114665806293,0.171003237366676,0.071477837860584,0.088096670806408,0.093069456517696,0.124326035380363,-0.139431387186050,0.120594255626202,-0.239914193749428,0.069638006389141,0.283530771732330,-0.187766969203949,-0.113622054457664));
res += mul(Get(s3,-dx,-dy), float4x4(-0.010486084967852,0.041875712573528,0.022376077249646,0.135788157582283,-0.157360419631004,-0.153056979179382,-0.055812261998653,-0.147406890988350,0.065774723887444,-0.095726341009140,0.128955155611038,0.031660351902246,-0.142383009195328,0.079517409205437,-0.067673638463020,-0.089399963617325));
res += mul(Get(s3,-dx,0), float4x4(0.129056677222252,0.067305468022823,-0.156712293624878,-0.097965531051159,0.041019193828106,-0.111842922866344,-0.009660197421908,-0.099230393767357,0.047154530882835,-0.032619159668684,0.024362836033106,-0.138548463582993,-0.103648267686367,0.093404673039913,0.010475783608854,-0.082548700273037));
res += mul(Get(s3,-dx,dy), float4x4(-0.176610201597214,-0.313268065452576,0.130149096250534,-0.116313777863979,0.163320958614349,0.208917751908302,-0.188902482390404,-0.066406615078449,-0.075191237032413,-0.001829518470913,-0.013182824477553,0.108514748513699,0.039021648466587,-0.073535971343517,0.077144138514996,0.059201348572969));
res += mul(Get(s3,0,-dy), float4x4(-0.004048963077366,0.006617293693125,0.019413724541664,-0.029044471681118,-0.104948766529560,0.120368331670761,0.014034915715456,0.032626040279865,0.023890927433968,0.069557517766953,-0.072954557836056,0.015643011778593,-0.119541108608246,0.026243925094604,-0.046035006642342,0.116536796092987));
res += mul(Get(s3,0,0), float4x4(-0.000321040541166,-0.036036934703588,0.004383682273328,0.036000616848469,-0.249637573957443,0.160218641161919,0.036642380058765,0.071610555052757,0.028899459168315,0.034371916204691,-0.178719356656075,-0.006886681541800,0.057698369026184,0.057800076901913,-0.059773113578558,0.164719030261040));
res += mul(Get(s3,0,dy), float4x4(-0.117720253765583,-0.042530070990324,-0.094625152647495,0.144001722335815,0.093218520283699,0.134720802307129,0.038171570748091,-0.062467850744724,0.001468660193495,-0.117865942418575,-0.226850986480713,0.151405975222588,0.099185422062874,0.034764226526022,0.078250408172607,0.021841857582331));
res += mul(Get(s3,dx,-dy), float4x4(0.088210806250572,-0.185037925839424,-0.038658242672682,-0.032908946275711,0.074908368289471,-0.105707168579102,-0.028769640251994,0.056113980710506,0.103835791349411,0.059034172445536,-0.085600547492504,0.007690215948969,0.022701630368829,0.060583487153053,0.056993164122105,0.063659332692623));
res += mul(Get(s3,dx,0), float4x4(0.008564799092710,-0.053133312612772,0.081096082925797,0.095552891492844,0.081059850752354,-0.038716163486242,0.129978895187378,-0.127891942858696,-0.008743235841393,0.097501903772354,0.085302762687206,-0.015847155824304,0.132938370108604,-0.081874817609787,0.172071158885956,0.086228959262371));
res += mul(Get(s3,dx,dy), float4x4(-0.173131838440895,-0.008162447251379,-0.153610870242119,-0.088255204260349,-0.029235225170851,0.084682628512383,-0.088091976940632,0.067388296127319,0.117048785090446,-0.124721758067608,0.027355223894119,0.035083450376987,-0.040084060281515,-0.086444020271301,0.072200067341328,0.108199298381805));
res = max(float4(0,0,0,0), res);
return res;
}
