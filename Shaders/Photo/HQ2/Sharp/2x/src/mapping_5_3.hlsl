sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.097923777997494,0.122560948133469,-0.024136481806636,-0.023514226078987,-0.049497172236443,-0.177155181765556,-0.003388080047444,0.107768647372723,-0.009353105910122,-0.035706609487534,-0.188144654035568,-0.081119701266289,-0.153851866722107,-0.030750947073102,0.149460658431053,0.205748707056046));
res += mul(Get(s0,-dx,0), float4x4(0.002008437179029,0.071215301752090,0.091442942619324,0.117317378520966,0.042958229780197,-0.019307674840093,-0.021591423079371,-0.062226369976997,-0.150069445371628,-0.151699945330620,-0.041556946933270,-0.034181777387857,0.123025737702847,-0.095450185239315,-0.007488930132240,-0.013801222667098));
res += mul(Get(s0,-dx,dy), float4x4(0.066129460930824,0.020406225696206,0.022910311818123,0.064712874591351,-0.064245782792568,0.119914941489697,-0.015666604042053,-0.131807759404182,-0.101607710123062,-0.151360243558884,0.007139297667891,-0.028384868055582,-0.088871665298939,-0.011964336968958,0.097186416387558,-0.240057259798050));
res += mul(Get(s0,0,-dy), float4x4(0.053720608353615,0.107741326093674,-0.125646114349365,-0.005140534136444,-0.062399722635746,0.094387218356133,-0.065659679472446,-0.072759136557579,-0.061280276626348,-0.048922702670097,0.026696648448706,-0.138645976781845,0.019540874287486,-0.005370276514441,0.018744371831417,-0.048266887664795));
res += mul(Get(s0,0,0), float4x4(0.009824750944972,-0.152160301804543,-0.026525234803557,-0.028500048443675,-0.091455832123756,-0.034859549254179,-0.035249028354883,-0.015766626223922,0.176045104861259,-0.064703024923801,-0.037240568548441,0.007989522069693,-0.039862431585789,0.113652728497982,-0.052258916199207,0.116137668490410));
res += mul(Get(s0,0,dy), float4x4(0.021147949621081,0.117036849260330,-0.229565382003784,0.136172637343407,0.036279369145632,0.062012404203415,0.136005088686943,0.071697220206261,0.038488917052746,-0.028795255348086,-0.101956285536289,0.009133342653513,-0.004019437357783,-0.180982649326324,0.073045320808887,-0.022299597039819));
res += mul(Get(s0,dx,-dy), float4x4(0.019390709698200,-0.100966125726700,-0.085628621280193,-0.018670737743378,0.093203850090504,-0.108476035296917,0.029806960374117,-0.044220119714737,0.140626117587090,0.037816200405359,-0.123664304614067,-0.064714521169662,0.020305991172791,-0.022753298282623,-0.031097674742341,-0.059929270297289));
res += mul(Get(s0,dx,0), float4x4(0.006858351174742,-0.051220428198576,-0.062162339687347,0.109192304313183,-0.086535334587097,-0.287370204925537,0.158288791775703,0.011174973100424,0.068063490092754,0.071948453783989,-0.021526709198952,-0.089015610516071,0.048791091889143,-0.104125574231148,-0.013459526002407,-0.020783562213182));
res += mul(Get(s0,dx,dy), float4x4(0.000063585473981,-0.093985229730606,0.085321806371212,-0.071662433445454,0.118326820433140,-0.086567543447018,0.106647759675980,-0.122244417667389,0.109185576438904,-0.086417049169540,-0.100370578467846,0.066728152334690,-0.046627651900053,0.008044515736401,0.083843357861042,0.004099751822650));
res += mul(Get(s1,-dx,-dy), float4x4(0.010361509397626,-0.033054623752832,0.138316318392754,-0.146463006734848,-0.034135982394218,0.009075995534658,0.202745050191879,0.069927908480167,0.050558041781187,-0.021842908114195,0.025797404348850,0.088554605841637,-0.124523825943470,-0.250317215919495,0.047993551939726,-0.029582425951958));
res += mul(Get(s1,-dx,0), float4x4(-0.010862269438803,0.087763980031013,0.016869470477104,0.173597171902657,-0.012207869440317,0.199235290288925,0.021142499521375,0.003428001422435,-0.055394068360329,-0.016594445332885,0.047648768872023,0.081218950450420,-0.146555066108704,-0.123548872768879,0.062839113175869,-0.095301575958729));
res += mul(Get(s1,-dx,dy), float4x4(-0.097242139279842,-0.120168842375278,0.144337877631187,0.069101683795452,0.159722194075584,-0.074501320719719,0.102792158722878,-0.056632049381733,0.169302836060524,0.000939254299738,0.202239647507668,0.036702368408442,0.060798685997725,-0.024107055738568,-0.006994380149990,-0.181879296898842));
res += mul(Get(s1,0,-dy), float4x4(-0.009152913466096,0.055344123393297,0.010281512513757,-0.042289119213820,0.092723682522774,-0.023592263460159,-0.096344873309135,-0.094772748649120,-0.158825814723969,0.094418175518513,0.102676399052143,-0.206728905439377,-0.058362450450659,0.106721535325050,0.145167782902718,-0.129626572132111));
res += mul(Get(s1,0,0), float4x4(0.074767403304577,-0.028942536562681,-0.105743065476418,-0.197847768664360,0.149500578641891,0.050600938498974,-0.041232232004404,0.102099940180779,-0.149828955531120,0.022696373984218,0.067363113164902,-0.101733401417732,-0.034402661025524,-0.041618466377258,0.045383267104626,-0.088080734014511));
res += mul(Get(s1,0,dy), float4x4(-0.016552563756704,-0.021316651254892,0.165968149900436,-0.099545836448669,-0.059762574732304,-0.105824224650860,0.081259846687317,-0.103688843548298,0.075786374509335,0.148939952254295,-0.105158075690269,-0.019421627745032,-0.167833641171455,-0.045114263892174,-0.042865432798862,-0.048569250851870));
res += mul(Get(s1,dx,-dy), float4x4(-0.031823482364416,0.051872197538614,-0.074222333729267,-0.008872980251908,0.223413094878197,-0.072959244251251,0.037933856248856,0.058757629245520,-0.005912920925766,-0.083160877227783,-0.018544536083937,-0.053553406149149,-0.081730261445045,0.034622050821781,-0.016771322116256,-0.020527450367808));
res += mul(Get(s1,dx,0), float4x4(-0.125960066914558,-0.098822616040707,0.085986174643040,0.128582298755646,-0.012033294886351,-0.004319953732193,-0.051284465938807,-0.035449817776680,0.071455568075180,0.068577937781811,-0.097398921847343,-0.008011958561838,-0.046371959149837,0.074115663766861,-0.126808911561966,-0.004720115102828));
res += mul(Get(s1,dx,dy), float4x4(0.116982825100422,0.298745334148407,-0.046997252851725,0.054962962865829,-0.020609723404050,0.079010985791683,-0.194103017449379,-0.017937073484063,0.091770194470882,0.119003273546696,0.168378680944443,-0.037820912897587,-0.029726404696703,-0.115351177752018,-0.042509924620390,-0.138865381479263));
res += mul(Get(s2,-dx,-dy), float4x4(0.012761291116476,0.033344637602568,-0.118197433650494,0.118136651813984,-0.021895850077271,-0.139887511730194,-0.106491707265377,-0.128677099943161,-0.105829238891602,0.010404445230961,0.079716913402081,0.021672856062651,-0.016321115195751,0.134189397096634,0.095608882606030,0.055606253445148));
res += mul(Get(s2,-dx,0), float4x4(0.281202852725983,0.026989484205842,-0.013795207254589,0.038659572601318,0.012151512317359,-0.021298589184880,-0.079481735825539,-0.078238576650620,-0.006786201149225,0.121832683682442,0.090788334608078,0.109264045953751,0.034884780645370,0.009485128335655,0.093907475471497,-0.131468534469604));
res += mul(Get(s2,-dx,dy), float4x4(-0.267636895179749,-0.124596767127514,0.075266249477863,-0.008060114458203,-0.107200324535370,-0.079862996935844,-0.108662031590939,-0.070199504494667,-0.118914924561977,0.133986368775368,-0.189812093973160,0.008491451852024,0.048316299915314,0.184425085783005,-0.004510154481977,0.097000032663345));
res += mul(Get(s2,0,-dy), float4x4(0.122219741344452,0.085717208683491,-0.062927827239037,0.037932194769382,-0.000241128669586,0.016177054494619,-0.070241548120975,0.088672786951065,0.086817927658558,-0.012797238305211,0.027218185365200,0.168704777956009,0.015791503712535,-0.202440664172173,-0.045345943421125,0.068295106291771));
res += mul(Get(s2,0,0), float4x4(0.009865814819932,-0.123597443103790,-0.079087279736996,-0.061364460736513,0.163240894675255,0.063408389687538,0.146111071109772,-0.006867941003293,0.033480651676655,-0.104263730347157,-0.080695375800133,0.025415569543839,-0.129489883780479,0.013146652840078,0.096186250448227,0.074774563312531));
res += mul(Get(s2,0,dy), float4x4(0.004833410494030,-0.106648102402687,0.107095517218113,-0.022719454020262,0.200650110840797,-0.074053220450878,0.089306369423866,0.123653277754784,-0.139584809541702,0.026630159467459,-0.011148700490594,-0.058981750160456,0.144979640841484,-0.038426741957664,-0.189544081687927,-0.169065564870834));
res += mul(Get(s2,dx,-dy), float4x4(-0.102039188146591,-0.107678815722466,-0.024703785777092,-0.010247113183141,-0.102695010602474,-0.008049608208239,0.007340752519667,-0.100593924522400,0.007227539084852,-0.064562730491161,0.021742040291429,-0.019506707787514,-0.062153317034245,-0.085927762091160,-0.151472300291061,-0.030436731874943));
res += mul(Get(s2,dx,0), float4x4(0.077054433524609,-0.090600781142712,-0.057819209992886,-0.094442322850227,0.072168819606304,0.095376655459404,0.067320950329304,-0.176058590412140,0.068761058151722,-0.238937094807625,-0.204567492008209,-0.156934022903442,-0.042383562773466,0.001018297043629,0.067089535295963,0.002945890184492));
res += mul(Get(s2,dx,dy), float4x4(0.016200248152018,0.060755599290133,-0.094482645392418,-0.198313802480698,-0.050176057964563,-0.014550101943314,-0.089121609926224,-0.044719241559505,-0.140157327055931,-0.014082076959312,0.044583193957806,-0.191437676548958,0.167687356472015,-0.014531329274178,-0.040390774607658,0.045843373984098));
res += mul(Get(s3,-dx,-dy), float4x4(-0.081568375229836,-0.086219072341919,0.029219660907984,0.121970318257809,-0.079552508890629,0.102315992116928,-0.118306450545788,0.082312472164631,0.118109770119190,0.015392432920635,0.092718169093132,-0.127537786960602,-0.046278726309538,-0.037536453455687,-0.103120036423206,-0.007803503889591));
res += mul(Get(s3,-dx,0), float4x4(0.190384984016418,0.035672176629305,-0.132767632603645,-0.005241750739515,-0.190561577677727,-0.001169796916656,0.028021601960063,0.126403063535690,-0.130707770586014,0.158811956644058,0.098278939723969,0.079145081341267,0.012109325267375,0.110481597483158,-0.047246243804693,-0.007113605737686));
res += mul(Get(s3,-dx,dy), float4x4(0.086513996124268,0.112911887466908,0.035698324441910,-0.033347897231579,-0.037918727844954,0.020691715180874,-0.057134382426739,0.011234628036618,-0.115958422422409,0.166256487369537,0.120147928595543,0.066429995000362,-0.026850908994675,-0.154381871223450,-0.043004777282476,0.223815828561783));
res += mul(Get(s3,0,-dy), float4x4(0.003568282118067,-0.006531848572195,-0.017404971644282,0.083693414926529,0.096726350486279,-0.020037470385432,-0.079313121736050,-0.012627432122827,0.160854965448380,0.025497714057565,0.129894524812698,-0.018450429663062,-0.027689632028341,-0.024517728015780,-0.060191661119461,-0.074185959994793));
res += mul(Get(s3,0,0), float4x4(0.049878247082233,-0.084918849170208,0.206563875079155,-0.061075884848833,-0.090432554483414,-0.069397389888763,-0.012982593849301,0.007084463723004,0.004304521717131,0.135884672403336,-0.091129429638386,-0.030191252008080,0.102515950798988,-0.095375388860703,-0.017163783311844,-0.102720528841019));
res += mul(Get(s3,0,dy), float4x4(-0.090335354208946,-0.094555869698524,0.078058548271656,0.106804832816124,-0.060660507529974,-0.025511324405670,-0.086299724876881,0.109408609569073,-0.079522989690304,0.081694349646568,-0.084690846502781,0.042354125529528,-0.050094410777092,0.021630365401506,0.079651944339275,-0.096141673624516));
res += mul(Get(s3,dx,-dy), float4x4(0.048683010041714,-0.053737748414278,0.024505021050572,-0.130799397826195,0.048994041979313,-0.017458487302065,0.151065751910210,0.010940673761070,-0.195775195956230,-0.042183011770248,0.113561980426311,-0.075405344367027,0.050085898488760,0.110378615558147,-0.030845269560814,-0.023900536820292));
res += mul(Get(s3,dx,0), float4x4(0.191619649529457,0.006572423037142,0.025924408808351,-0.151876345276833,-0.004509579390287,0.184542745351791,0.034439884126186,-0.242057099938393,-0.005675356369466,-0.008930400945246,0.071529999375343,-0.008929132483900,0.028507195413113,-0.062734596431255,0.048653431236744,0.089981578290462));
res += mul(Get(s3,dx,dy), float4x4(-0.050237286835909,0.112590193748474,-0.161908924579620,-0.046967893838882,-0.127106562256813,-0.132442995905876,0.108089268207550,0.036080468446016,-0.022347241640091,0.111864127218723,-0.115625686943531,0.033042758703232,-0.068102173507214,0.052616335451603,-0.074819259345531,0.122609809041023));
res = max(float4(0,0,0,0), res);
return res;
}
