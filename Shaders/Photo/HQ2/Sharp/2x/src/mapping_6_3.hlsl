sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.062280304729939,-0.022979239001870,0.045437138527632,-0.051916297525167,0.011811874806881,-0.012882019393146,0.027088182047009,0.093263156712055,-0.027547864243388,-0.146336227655411,0.005910226609558,-0.043658047914505,-0.216221019625664,0.095596186816692,0.180950790643692,-0.083125136792660));
res += mul(Get(s0,-dx,0), float4x4(-0.100432075560093,-0.073017664253712,-0.102465420961380,-0.056320317089558,0.064587518572807,-0.039823722094297,-0.061560481786728,0.021766422316432,0.306713730096817,-0.070808410644531,-0.017565298825502,-0.218974903225899,-0.115539513528347,0.082005061209202,-0.063996888697147,-0.058056991547346));
res += mul(Get(s0,-dx,dy), float4x4(-0.145134180784225,-0.187666073441505,0.004884911235422,-0.072367407381535,-0.066810749471188,-0.159081444144249,-0.071870990097523,0.030112134292722,-0.026023969054222,0.067127890884876,0.060142759233713,0.035625588148832,0.128890186548233,0.115232415497303,0.044589992612600,-0.012264482676983));
res += mul(Get(s0,0,-dy), float4x4(-0.086493268609047,0.001072046463378,-0.222148761153221,-0.087316982448101,0.014348356984556,-0.018581055104733,0.082279846072197,0.234827846288681,0.091134138405323,-0.076062135398388,-0.114239513874054,-0.032349348068237,-0.023264633491635,-0.068030916154385,-0.010597963817418,-0.027364438399673));
res += mul(Get(s0,0,0), float4x4(-0.110203959047794,-0.008296892046928,0.182672530412674,0.104454778134823,-0.023075424134731,0.055200494825840,-0.083336375653744,0.051593292504549,-0.016605472192168,0.016928341239691,-0.012527566403151,-0.085444502532482,-0.136578977108002,-0.137623846530914,-0.058230843394995,-0.140592247247696));
res += mul(Get(s0,0,dy), float4x4(0.088872656226158,0.067543692886829,-0.039779882878065,0.058127243071795,0.075980484485626,-0.126552492380142,0.217331618070602,0.127186581492424,-0.160912841558456,0.055281143635511,0.127815812826157,0.004191381391138,-0.099049039185047,-0.166738107800484,0.057288005948067,0.161363646388054));
res += mul(Get(s0,dx,-dy), float4x4(0.093091472983360,-0.060954999178648,-0.050892814993858,-0.197464004158974,-0.115838855504990,0.037231400609016,0.184738412499428,0.011316478252411,-0.038819286972284,-0.012796175666153,0.089661270380020,-0.036734763532877,-0.103817902505398,0.071880333125591,-0.078855112195015,-0.148821994662285));
res += mul(Get(s0,dx,0), float4x4(-0.087731823325157,0.058424957096577,-0.074065476655960,-0.119056649506092,-0.094603642821312,0.023928428068757,-0.097466789186001,-0.066411770880222,0.202355742454529,-0.017908932641149,0.004231422208250,-0.097196601331234,-0.115044355392456,0.034295998513699,0.073216848075390,0.032517280429602));
res += mul(Get(s0,dx,dy), float4x4(0.179866567254066,-0.088199272751808,0.198463067412376,-0.173391550779343,0.141165047883987,-0.054367806762457,-0.273968935012817,0.142234712839127,0.050201769918203,0.150487959384918,0.152280822396278,-0.120432466268539,-0.155018195509911,-0.096883513033390,0.043532874435186,0.085843361914158));
res += mul(Get(s1,-dx,-dy), float4x4(-0.229713797569275,-0.115975528955460,0.012016465887427,-0.068520933389664,-0.052354045212269,-0.067273505032063,0.292172074317932,-0.042119085788727,0.017412126064301,-0.022620644420385,0.199290901422501,-0.144274830818176,0.008079637773335,0.050393611192703,-0.046184934675694,0.086562186479568));
res += mul(Get(s1,-dx,0), float4x4(0.144427806138992,-0.061060484498739,0.012704635038972,-0.028951279819012,0.116230018436909,0.068479493260384,-0.087170511484146,0.141217947006226,-0.221749320626259,-0.171743586659431,-0.106125377118587,0.006677704397589,0.012920415028930,-0.222025766968727,0.043613735586405,0.164875879883766));
res += mul(Get(s1,-dx,dy), float4x4(-0.130938008427620,-0.045498590916395,0.108404822647572,0.063133299350739,0.026036050170660,-0.078403599560261,-0.027799203991890,-0.103738553822041,-0.031424541026354,0.096559025347233,-0.039991728961468,-0.055744517594576,0.041511040180922,0.055020675063133,-0.016094397753477,-0.139246493577957));
res += mul(Get(s1,0,-dy), float4x4(-0.011418558657169,0.034983556717634,0.108573764562607,-0.121909119188786,0.051199126988649,-0.063284546136856,-0.053922764956951,-0.041873380541801,-0.147882372140884,0.001208378933370,-0.008715003728867,0.103486165404320,-0.060740225017071,-0.050442561507225,-0.020862739533186,0.169226154685020));
res += mul(Get(s1,0,0), float4x4(0.069599367678165,0.051266167312860,-0.075248785316944,0.075821682810783,-0.187808200716972,-0.064201787114143,-0.028711916878819,-0.234957456588745,0.083375371992588,-0.107936076819897,-0.104209810495377,-0.054157026112080,-0.045141898095608,0.072480529546738,-0.024225737899542,0.199502691626549));
res += mul(Get(s1,0,dy), float4x4(-0.167204797267914,-0.136864826083183,0.056439712643623,0.091092102229595,0.019742690026760,0.001006945851259,-0.075103096663952,-0.075920969247818,-0.024524997919798,0.113662935793400,0.082020409405231,0.010481602512300,0.158698946237564,0.020241010934114,0.135360702872276,-0.033245045691729));
res += mul(Get(s1,dx,-dy), float4x4(-0.134573057293892,0.043286979198456,-0.018029963597655,0.133488357067108,-0.162967652082443,0.062611341476440,-0.132919073104858,0.071372434496880,0.071203365921974,0.049491923302412,-0.074755713343620,-0.033390104770660,0.084708064794540,-0.037882495671511,-0.129681721329689,0.025601129978895));
res += mul(Get(s1,dx,0), float4x4(0.012196816504002,-0.003732766024768,-0.016788469627500,0.091010227799416,0.055566579103470,-0.113265231251717,0.176166668534279,0.063289083540440,0.270093351602554,0.031835541129112,-0.128076881170273,-0.018474036827683,0.050225574523211,0.021849690005183,0.122585654258728,0.055524528026581));
res += mul(Get(s1,dx,dy), float4x4(-0.106216669082642,-0.082083158195019,0.016131768003106,-0.036002002656460,0.025040036067367,-0.144164130091667,0.116668716073036,0.143156170845032,-0.021605785936117,-0.078059934079647,-0.118489794433117,0.073267497122288,0.094855681061745,0.025596881285310,0.192111983895302,0.022327244281769));
res += mul(Get(s2,-dx,-dy), float4x4(-0.074883773922920,0.104812473058701,-0.178178250789642,-0.106059275567532,-0.034905578941107,-0.089917771518230,-0.034353625029325,-0.017051743343472,0.021472243592143,-0.038113310933113,0.111372180283070,-0.101334586739540,0.071550101041794,-0.008510676212609,0.049217287451029,-0.101518072187901));
res += mul(Get(s2,-dx,0), float4x4(-0.032260783016682,0.096960477530956,0.055270306766033,0.082656972110271,-0.056549429893494,-0.053442742675543,-0.143467009067535,0.002263159956783,0.126898229122162,0.052472032606602,0.031938578933477,-0.118874587118626,-0.060628212988377,0.174342572689056,-0.025029435753822,-0.160030543804169));
res += mul(Get(s2,-dx,dy), float4x4(-0.069608673453331,0.013279143720865,0.074127666652203,-0.100515633821487,-0.078332096338272,0.037939578294754,0.078451082110405,-0.071083314716816,-0.014708593487740,0.110680937767029,0.008082942105830,-0.113512173295021,-0.027146251872182,0.067209221422672,-0.075503572821617,0.020490642637014));
res += mul(Get(s2,0,-dy), float4x4(0.069757401943207,-0.050943136215210,-0.003858641488478,-0.168655276298523,0.008217621594667,-0.046525795012712,0.104676268994808,-0.051297526806593,0.009070364758372,-0.125220045447350,-0.081014364957809,0.042909920215607,-0.132458940148354,0.102921634912491,0.048752918839455,0.013426581397653));
res += mul(Get(s2,0,0), float4x4(-0.018533535301685,-0.104249738156796,0.026057519018650,0.157961443066597,0.064322665333748,-0.057057581841946,0.182187676429749,-0.012488574720919,0.135351210832596,0.032407630234957,-0.156211256980896,-0.102613814175129,-0.118555337190628,-0.035528481006622,-0.065224796533585,0.070574358105659));
res += mul(Get(s2,0,dy), float4x4(0.045448992401361,0.028449300676584,0.035224065184593,-0.079249195754528,-0.036033585667610,0.077171742916107,-0.081122420728207,-0.073810592293739,-0.020699616521597,-0.026810111477971,-0.148188993334770,0.113228648900986,-0.050198193639517,-0.002297335769981,-0.227306321263313,0.207170665264130));
res += mul(Get(s2,dx,-dy), float4x4(0.057463679462671,0.011660212650895,0.203971430659294,-0.056154359132051,-0.142135351896286,-0.063538320362568,0.047261293977499,0.043472651392221,0.010654730722308,-0.066502049565315,0.054367613047361,0.044798597693443,0.034955311566591,0.023254781961441,-0.014363029971719,-0.047597616910934));
res += mul(Get(s2,dx,0), float4x4(-0.126838997006416,0.043321073055267,-0.049264568835497,-0.087470322847366,-0.008544665761292,0.051524627953768,-0.076037384569645,0.221036136150360,-0.130933880805969,0.026076335459948,-0.016450071707368,0.161367326974869,-0.161954164505005,-0.054252695292234,0.056798465549946,0.010145275853574));
res += mul(Get(s2,dx,dy), float4x4(0.156358346343040,-0.038643855601549,-0.152629792690277,0.007633493747562,-0.006406771950424,-0.137713134288788,0.023294964805245,0.028357772156596,0.026731228455901,-0.084244310855865,-0.026295596733689,0.088548853993416,0.016289081424475,-0.056983664631844,-0.001739259576425,-0.079565703868866));
res += mul(Get(s3,-dx,-dy), float4x4(0.081694684922695,-0.145320430397987,-0.112370446324348,-0.036048937588930,-0.021601309999824,-0.196765720844269,-0.010560792870820,-0.165852606296539,0.002639385173097,0.113361187279224,0.001433394732885,0.019679022952914,-0.001663985196501,0.120397165417671,0.067391552031040,0.107326552271843));
res += mul(Get(s3,-dx,0), float4x4(0.055468469858170,-0.130228683352470,0.109921596944332,-0.187072306871414,-0.071196004748344,0.132732957601547,-0.002475085901096,0.010805075988173,0.043946996331215,0.007203525397927,0.065683260560036,0.212066859006882,-0.123697385191917,0.147386386990547,0.017423182725906,0.111684337258339));
res += mul(Get(s3,-dx,dy), float4x4(-0.095092438161373,0.139250427484512,0.091723486781120,-0.097523927688599,0.008836672641337,0.170326188206673,0.037501566112041,0.074777491390705,-0.055936254560947,0.167125508189201,0.098244331777096,0.030356209725142,0.046549767255783,-0.126114353537560,0.006811816245317,0.007203640416265));
res += mul(Get(s3,0,-dy), float4x4(-0.075949870049953,0.137932553887367,-0.018165592104197,-0.029647663235664,-0.150284692645073,0.012652724049985,0.012937947176397,0.053777411580086,0.043761614710093,0.055585440248251,0.013952908106148,0.066117361187935,0.012205839157104,0.122392453253269,-0.055505782365799,0.054014932364225));
res += mul(Get(s3,0,0), float4x4(-0.012640871107578,-0.057226486504078,0.012978692539036,0.090862460434437,-0.081379428505898,0.257655262947083,-0.015821292996407,0.103312708437443,-0.050207000225782,0.015167496167123,0.105094380676746,-0.138152256608009,0.166657418012619,-0.055945873260498,0.003890541149303,0.047519888728857));
res += mul(Get(s3,0,dy), float4x4(0.011595064774156,-0.099948234856129,0.123777993023396,0.051102362573147,-0.001546353218146,-0.124360062181950,-0.058313347399235,-0.081160344183445,0.053884405642748,0.101455889642239,0.165301129221916,-0.187439382076263,-0.030730815604329,-0.098089434206486,-0.008585770614445,0.026910053566098));
res += mul(Get(s3,dx,-dy), float4x4(0.186770692467690,-0.053229909390211,-0.066516391932964,-0.076894380152225,-0.032155603170395,-0.040282677859068,0.067551113665104,0.252874851226807,0.223120078444481,-0.064568527042866,0.078278481960297,-0.113657809793949,-0.168569356203079,0.020698267966509,0.116943702101707,-0.034685917198658));
res += mul(Get(s3,dx,0), float4x4(-0.057462297379971,0.097523808479309,0.006604873575270,0.197975039482117,0.163370013237000,0.094986230134964,-0.073297455906868,-0.199724659323692,-0.193323791027069,0.029409712180495,-0.116990193724632,0.143546596169472,-0.020464442670345,0.140043526887894,0.155283659696579,-0.023627975955606));
res += mul(Get(s3,dx,dy), float4x4(-0.115167871117592,-0.098445944488049,-0.037198614329100,-0.193902552127838,0.131061494350433,-0.132284671068192,0.106556013226509,0.043580364435911,-0.042535241693258,0.029113715514541,0.050873532891273,0.156730547547340,0.010381272062659,-0.058979284018278,-0.025027286261320,-0.049070991575718));
res = max(float4(0,0,0,0), res);
return res;
}
