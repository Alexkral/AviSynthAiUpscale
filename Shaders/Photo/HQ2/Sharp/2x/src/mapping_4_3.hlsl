sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.078317314386368,0.001791363582015,0.071096345782280,0.032262805849314,-0.154265284538269,0.170740336179733,0.115842752158642,0.043332241475582,-0.018097031861544,-0.142568022012711,-0.034235861152411,-0.140519767999649,0.016057070344687,0.066263742744923,0.215680316090584,-0.047454528510571));
res += mul(Get(s0,-dx,0), float4x4(0.031815048307180,0.195583865046501,-0.110725425183773,-0.030507780611515,-0.084092900156975,0.074089817702770,-0.076714687049389,0.125367969274521,0.157520353794098,0.026564519852400,0.098898075520992,0.102341443300247,0.059173677116632,-0.121714375913143,0.029540160670877,0.038604188710451));
res += mul(Get(s0,-dx,dy), float4x4(0.076511152088642,0.040250509977341,0.020011812448502,0.108637474477291,0.049174319952726,-0.006866184528917,-0.041396819055080,-0.032589357346296,-0.060918573290110,-0.118548206984997,-0.043439112603664,-0.015368876047432,0.062539458274841,-0.015616969205439,-0.015419880859554,0.160770773887634));
res += mul(Get(s0,0,-dy), float4x4(0.078924320638180,-0.145797416567802,-0.148224189877510,0.036198727786541,-0.075513251125813,-0.082831375300884,-0.090149961411953,-0.194453820586205,-0.034803949296474,0.116373091936111,0.132556274533272,-0.111066989600658,0.048503492027521,-0.052398417145014,-0.039690680801868,0.199334353208542));
res += mul(Get(s0,0,0), float4x4(-0.056743845343590,0.095502533018589,0.031430006027222,0.044013135135174,0.093459427356720,0.048138361424208,0.126118093729019,0.001896356116049,-0.001831597182900,-0.042131800204515,-0.012449605390429,-0.021194871515036,0.129551678895950,-0.032681562006474,0.085427962243557,-0.036898791790009));
res += mul(Get(s0,0,dy), float4x4(-0.116065859794617,-0.047528948634863,-0.146532952785492,0.009662601165473,0.078210152685642,0.029792295768857,0.029708480462432,-0.187198340892792,-0.030515011399984,0.140308439731598,-0.079831495881081,-0.116255789995193,0.126830428838730,-0.052290577441454,0.113695204257965,-0.027662398293614));
res += mul(Get(s0,dx,-dy), float4x4(0.116731196641922,-0.058842949569225,0.012583278119564,-0.027267720550299,0.038619708269835,0.051049135625362,0.103077881038189,-0.017622068524361,0.031316924840212,0.116814248263836,0.069119624793530,0.101754210889339,0.100139908492565,-0.022067168727517,-0.164030328392982,0.020950494334102));
res += mul(Get(s0,dx,0), float4x4(-0.092587731778622,-0.118485569953918,0.000905424065422,0.049104347825050,0.176470190286636,-0.043787196278572,-0.013624379411340,0.102060794830322,-0.135881811380386,0.063306450843811,-0.037284106016159,0.037777844816446,-0.083049029111862,-0.057197600603104,0.089164458215237,0.142481520771980));
res += mul(Get(s0,dx,dy), float4x4(0.124539554119110,-0.053575370460749,0.078418754041195,0.034031506627798,-0.133526444435120,-0.117119826376438,0.037612304091454,-0.001552160480060,-0.061640352010727,-0.102077402174473,-0.081648997962475,0.018335811793804,0.018598359078169,-0.137068510055542,0.181316599249840,-0.042064458131790));
res += mul(Get(s1,-dx,-dy), float4x4(0.041624799370766,-0.188621252775192,0.114947669208050,-0.128450408577919,-0.009525628760457,0.073319628834724,-0.214576497673988,0.064563252031803,-0.168371081352234,-0.122906483709812,-0.080509506165981,-0.122916817665100,-0.103767774999142,0.107048220932484,0.095880158245564,0.090847074985504));
res += mul(Get(s1,-dx,0), float4x4(-0.029149543493986,0.011397231370211,-0.048691269010305,0.089313678443432,0.014386161230505,0.118385851383209,0.058381631970406,-0.028150338679552,0.023649446666241,-0.083773314952850,-0.073233366012573,0.135708838701248,-0.031219836324453,-0.056941792368889,0.142874181270599,0.195065692067146));
res += mul(Get(s1,-dx,dy), float4x4(0.035892203450203,0.040564037859440,-0.123226068913937,0.008367222733796,0.043731924146414,0.010746818967164,-0.085148669779301,0.126320406794548,-0.103687427937984,0.074133031070232,-0.014244203455746,0.037498798221350,0.033822603523731,-0.022506892681122,0.188996151089668,-0.081829689443111));
res += mul(Get(s1,0,-dy), float4x4(0.079517923295498,0.208690151572227,-0.008842129260302,-0.011337830685079,0.016124714165926,-0.049678150564432,0.032870069146156,0.009101070463657,0.018263351172209,-0.138778582215309,0.142900362610817,-0.018967390060425,-0.035593301057816,-0.041191939264536,-0.078539527952671,0.050301317125559));
res += mul(Get(s1,0,0), float4x4(-0.009720448404551,-0.136036157608032,0.200780898332596,0.126409411430359,-0.098312161862850,-0.075360365211964,0.008547985926270,-0.020078865811229,0.053587768226862,-0.082401163876057,0.007896798662841,0.042782638221979,-0.101682938635349,0.064738176763058,0.033832985907793,0.088817693293095));
res += mul(Get(s1,0,dy), float4x4(-0.008587343618274,-0.126939684152603,0.022095659747720,-0.231104359030724,-0.097352415323257,0.084700897336006,-0.033683586865664,-0.057995568960905,-0.163393348455429,-0.029121084138751,-0.106576032936573,0.194491550326347,-0.201782420277596,0.031402353197336,0.158639729022980,-0.055811900645494));
res += mul(Get(s1,dx,-dy), float4x4(0.027375526726246,0.041005030274391,0.061698190867901,0.030764412134886,0.015367289073765,-0.048782598227262,-0.223836511373520,-0.043800532817841,-0.216600343585014,-0.087971381843090,-0.086406528949738,-0.107945360243320,-0.037294592708349,0.080409519374371,0.085224643349648,0.076132059097290));
res += mul(Get(s1,dx,0), float4x4(0.027483027428389,0.035456925630569,0.042185656726360,0.005876403301954,-0.025380387902260,0.166022971272469,0.034644577652216,-0.065969027578831,0.089763075113297,-0.017945816740394,-0.050217933952808,0.116413742303848,0.127303466200829,-0.018346669152379,-0.201739668846130,0.161604225635529));
res += mul(Get(s1,dx,dy), float4x4(0.135523438453674,0.011397430673242,0.036482360213995,-0.016616832464933,0.031805180013180,-0.099323831498623,-0.042112171649933,0.063307814300060,0.215224862098694,0.163858607411385,0.000378810829716,0.017360765486956,-0.004005277063698,0.066571742296219,0.091138012707233,-0.094261117279530));
res += mul(Get(s2,-dx,-dy), float4x4(-0.101241745054722,0.013581366278231,0.122747391462326,0.084440611302853,-0.008118650875986,0.120991557836533,-0.020009301602840,-0.072695426642895,-0.017354786396027,-0.270909518003464,0.131179064512253,0.132878795266151,-0.046374849975109,0.046858716756105,0.164224058389664,-0.006333442870528));
res += mul(Get(s2,-dx,0), float4x4(-0.043999604880810,-0.003538531949744,-0.148546040058136,-0.020908327773213,0.013631259091198,-0.097667716443539,0.008207902312279,0.051950730383396,-0.154222339391708,-0.199475944042206,0.041602887213230,-0.165000632405281,-0.068255759775639,0.128358393907547,-0.039030231535435,-0.033185396343470));
res += mul(Get(s2,-dx,dy), float4x4(-0.113825082778931,-0.099753111600876,-0.057658445090055,0.039400644600391,0.142949163913727,0.001327675417997,0.006857053376734,0.020549334585667,-0.150152534246445,-0.042990852147341,-0.037016898393631,-0.235551744699478,0.064583234488964,0.063073582947254,0.001448647235520,0.063646450638771));
res += mul(Get(s2,0,-dy), float4x4(-0.058745026588440,-0.166185542941093,0.126597076654434,0.002012153156102,0.096473462879658,0.010147133842111,-0.092544198036194,0.078076824545860,0.060237511992455,-0.126266717910767,-0.067194543778896,-0.036259602755308,-0.179683342576027,0.058849692344666,-0.103717826306820,0.079807810485363));
res += mul(Get(s2,0,0), float4x4(-0.005590201355517,-0.125649064779282,0.016642171889544,-0.155084401369095,0.012374611571431,-0.196092143654823,0.065345041453838,0.097260847687721,0.119948700070381,-0.060374513268471,-0.115288801491261,0.006687503773719,-0.050761062651873,0.222441196441650,-0.037362612783909,0.065876036882401));
res += mul(Get(s2,0,dy), float4x4(0.066466704010963,0.057327482849360,-0.075555212795734,-0.084718577563763,-0.092592105269432,0.261186063289642,-0.022503545507789,-0.053575538098812,0.158559963107109,0.057497959583998,0.026287635788321,0.141909778118134,-0.145588323473930,-0.026874843984842,-0.028650904074311,0.180223345756531));
res += mul(Get(s2,dx,-dy), float4x4(-0.053484693169594,0.008998557925224,-0.026320548728108,0.040049642324448,0.136075466871262,0.117931917309761,-0.114577114582062,0.002061193343252,-0.180052042007446,0.161292448639870,-0.040297992527485,-0.139148190617561,-0.104461677372456,0.048057395964861,-0.124116629362106,-0.113078095018864));
res += mul(Get(s2,dx,0), float4x4(-0.002752507105470,0.057393081486225,0.153437077999115,0.073058173060417,0.070338010787964,-0.073288850486279,0.072987645864487,0.080192781984806,0.004647698719054,0.173538178205490,0.061814974993467,0.137215033173561,0.167399361729622,-0.083742961287498,0.076034553349018,0.072009839117527));
res += mul(Get(s2,dx,dy), float4x4(0.098597079515457,-0.121972791850567,-0.014922469854355,-0.067355193197727,-0.088515825569630,-0.102343581616879,-0.016577132046223,-0.075685210525990,0.074413806200027,0.121852360665798,0.004383371211588,-0.032973330467939,0.112653926014900,0.041737057268620,-0.113361343741417,-0.033302478492260));
res += mul(Get(s3,-dx,-dy), float4x4(0.000499688147102,-0.159251824021339,-0.036797441542149,0.037453103810549,0.031054140999913,-0.171666771173477,0.064494259655476,0.116252154111862,-0.037529177963734,-0.079261444509029,0.075155116617680,0.042440246790648,-0.026476938277483,-0.005002203397453,-0.052967768162489,-0.108180843293667));
res += mul(Get(s3,-dx,0), float4x4(-0.007966992445290,-0.133858829736710,-0.020214309915900,-0.228598102927208,-0.131536424160004,0.127020806074142,-0.143389165401459,-0.163447514176369,-0.013089605607092,0.052262753248215,-0.230809494853020,-0.106697626411915,-0.010118142701685,0.079300493001938,-0.043942566961050,-0.004242944996804));
res += mul(Get(s3,-dx,dy), float4x4(-0.036377221345901,0.079923249781132,0.104919895529747,-0.041499957442284,-0.068137340247631,0.057430673390627,-0.081388972699642,-0.044880054891109,-0.012317462824285,0.118501037359238,0.039208635687828,-0.071721248328686,0.065096057951450,-0.227862983942032,0.169682264328003,-0.087408691644669));
res += mul(Get(s3,0,-dy), float4x4(0.010760405100882,-0.059338919818401,-0.055237159132957,0.057597033679485,-0.023268481716514,0.132131591439247,0.053190741688013,-0.045193813741207,0.068565726280212,-0.011214087717235,0.004713975824416,0.121279284358025,-0.093445457518101,0.008553036488593,-0.108504272997379,0.039888899773359));
res += mul(Get(s3,0,0), float4x4(0.101558841764927,-0.014743040315807,0.248451158404350,0.052959103137255,0.023606985807419,-0.075839005410671,-0.065817102789879,0.053176395595074,-0.073674097657204,0.020275318995118,-0.136523306369781,0.008658763021231,0.106523633003235,0.072162367403507,-0.136624380946159,-0.165780514478683));
res += mul(Get(s3,0,dy), float4x4(-0.044817563146353,-0.098514154553413,0.075330145657063,0.034598995000124,-0.038605496287346,-0.066646188497543,-0.029260421171784,-0.023220147937536,-0.051477976143360,0.131548881530762,0.047594610601664,0.257967859506607,-0.077366195619106,0.141046807169914,-0.011084313504398,-0.107703253626823));
res += mul(Get(s3,dx,-dy), float4x4(-0.060421250760555,0.041577931493521,-0.077751740813255,-0.059624012559652,-0.074396789073944,-0.090689003467560,-0.118337959051132,0.047518756240606,0.010053708218038,-0.012749945744872,-0.034346740692854,-0.005210400093347,-0.020663484930992,-0.159002155065536,0.015994377434254,-0.020282069221139));
res += mul(Get(s3,dx,0), float4x4(-0.060979980975389,0.064289972186089,0.259350299835205,0.013944429345429,0.038737263530493,0.099954470992088,0.030660381540656,-0.372734248638153,-0.069408506155014,0.102304361760616,-0.158943474292755,0.090576462447643,-0.079305782914162,0.037818748503923,-0.083361685276031,0.045811086893082));
res += mul(Get(s3,dx,dy), float4x4(-0.058161061257124,-0.107639372348785,0.056519605219364,-0.009175237268209,-0.052280198782682,0.045889973640442,0.032505527138710,0.023934431374073,-0.155052885413170,-0.006103553343564,0.063491992652416,-0.019109973683953,-0.069953806698322,-0.008661499246955,-0.031330741941929,0.185205072164536));
res = max(float4(0,0,0,0), res);
return res;
}
