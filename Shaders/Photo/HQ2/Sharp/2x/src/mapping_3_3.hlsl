sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.075645387172699,0.115705847740173,-0.136346727609634,0.041696388274431,-0.038850583136082,0.029702801257372,0.095682606101036,0.045090481638908,0.071107983589172,0.005947405938059,0.022646686062217,-0.107593677937984,0.056973390281200,-0.012680275365710,0.149644926190376,0.054999954998493));
res += mul(Get(s0,-dx,0), float4x4(-0.112497642636299,-0.004572948440909,-0.191591769456863,-0.016895938664675,0.069828055799007,-0.135738894343376,-0.111551031470299,-0.066393934190273,-0.063377909362316,0.157167702913284,0.045510753989220,0.043165083974600,0.030671136453748,-0.137004598975182,0.061970170587301,-0.019987596198916));
res += mul(Get(s0,-dx,dy), float4x4(-0.208671137690544,0.033083502203226,-0.155536457896233,-0.115174829959869,-0.063433200120926,-0.050696019083261,-0.153662279248238,-0.037832658737898,-0.024677656590939,0.126163452863693,0.149340525269508,0.067591503262520,0.071924984455109,0.020103063434362,0.069591253995895,-0.049856189638376));
res += mul(Get(s0,0,-dy), float4x4(0.064664371311665,0.007135554682463,0.026327390223742,-0.154846802353859,-0.183647885918617,0.060468945652246,-0.150608405470848,0.083689056336880,0.114737883210182,-0.124698564410210,0.022051336243749,-0.118692703545094,-0.093987599015236,0.109764084219933,-0.062392648309469,0.170960694551468));
res += mul(Get(s0,0,0), float4x4(0.059238418936729,0.056471358984709,0.078484714031219,0.040354903787374,-0.085666254162788,-0.047785989940166,0.100500673055649,0.049736715853214,0.210145890712738,0.054298359900713,-0.043919131159782,-0.036857608705759,-0.159701764583588,0.156518682837486,0.053661238402128,-0.204481571912766));
res += mul(Get(s0,0,dy), float4x4(-0.159891933202744,0.118646442890167,-0.014952031895518,-0.169599354267120,0.086045295000076,0.054445654153824,0.059591665863991,-0.161323979496956,-0.013482199981809,0.131417736411095,0.061738390475512,-0.047787662595510,-0.136114358901978,-0.033645164221525,-0.186794415116310,-0.049504052847624));
res += mul(Get(s0,dx,-dy), float4x4(0.009794319048524,0.034673713147640,0.151804879307747,-0.212878897786140,0.075523838400841,-0.024417672306299,-0.072989217936993,-0.009417952969670,0.077163934707642,0.094922117888927,0.051890950649977,0.076504796743393,-0.011888617649674,0.238086730241776,-0.039358403533697,0.070389948785305));
res += mul(Get(s0,dx,0), float4x4(-0.061186924576759,0.010713635943830,0.137270227074623,0.079783439636230,0.098955325782299,0.136989220976830,0.154681906104088,-0.004718948155642,-0.055380843579769,0.065367221832275,-0.046501234173775,-0.025230890139937,0.057898182421923,0.081778690218925,0.088950365781784,-0.022370882332325));
res += mul(Get(s0,dx,dy), float4x4(0.108217366039753,0.058231096714735,-0.020847806707025,0.069389171898365,-0.055895473808050,-0.154520586133003,-0.091927252709866,0.015924206003547,-0.033890288323164,-0.156386107206345,-0.095457278192043,0.124610438942909,0.068387389183044,0.179453477263451,0.161574631929398,0.001794187817723));
res += mul(Get(s1,-dx,-dy), float4x4(0.090896189212799,0.085715845227242,-0.025095457211137,0.095836706459522,0.000977674499154,0.098496504127979,-0.000864670553710,0.103381067514420,0.125622525811195,0.115464664995670,0.015832109376788,0.018367525190115,-0.141463980078697,-0.054925683885813,0.113945446908474,-0.059562511742115));
res += mul(Get(s1,-dx,0), float4x4(-0.140127450227737,-0.023780852556229,0.144381225109100,-0.019563557580113,0.063362106680870,0.032195828855038,-0.084100931882858,0.037580281496048,0.056856188923120,-0.100197352468967,0.028920032083988,0.023755211383104,0.252365022897720,0.013075107708573,0.054376780986786,-0.104162193834782));
res += mul(Get(s1,-dx,dy), float4x4(-0.074177548289299,-0.036903902888298,-0.169985011219978,0.033161614090204,0.038216978311539,0.010918481275439,0.071199804544449,-0.283218204975128,-0.051216758787632,-0.148428648710251,0.067194007337093,-0.070571400225163,0.087752230465412,-0.033541556447744,0.050211727619171,0.303159564733505));
res += mul(Get(s1,0,-dy), float4x4(-0.135965287685394,-0.075830146670341,-0.062691278755665,-0.186977714300156,0.050100807100534,0.008250584825873,0.006680847611278,-0.067328296601772,-0.058577645570040,0.057051431387663,-0.010036433115602,-0.017262239009142,0.069636322557926,-0.057244356721640,-0.073720991611481,-0.076267763972282));
res += mul(Get(s1,0,0), float4x4(0.114767804741859,-0.131796717643738,0.119294315576553,-0.113849982619286,-0.019684825092554,0.052947636693716,0.124300688505173,-0.075067289173603,0.047068946063519,0.051330760121346,0.053538855165243,0.001937002409250,0.115578681230545,0.026748616248369,0.043675959110260,-0.131940513849258));
res += mul(Get(s1,0,dy), float4x4(-0.008180084638298,0.171374067664146,-0.004850726108998,0.121501877903938,-0.055911425501108,0.094551526010036,-0.083527147769928,0.063596352934837,0.072848297655582,-0.054994285106659,0.023233273997903,-0.232793509960175,-0.123741969466209,-0.039631202816963,0.068428270518780,-0.064501084387302));
res += mul(Get(s1,dx,-dy), float4x4(-0.072140842676163,-0.015980774536729,0.083745099604130,0.105449229478836,0.088556319475174,-0.078033506870270,-0.013687064871192,0.086705714464188,-0.157329633831978,0.154389053583145,0.085808768868446,-0.018018446862698,-0.166664391756058,0.122156478464603,0.110799945890903,-0.130467399954796));
res += mul(Get(s1,dx,0), float4x4(-0.110455706715584,0.112667255103588,-0.039850022643805,-0.002971557434648,-0.203354761004448,0.019396414980292,-0.003294948721305,0.066908992826939,-0.099383048713207,0.156966552138329,-0.017404261976480,-0.025174638256431,0.021432986482978,-0.006700044497848,-0.014819126576185,0.045912262052298));
res += mul(Get(s1,dx,dy), float4x4(-0.024053715169430,-0.000352917326381,-0.025674084201455,0.138983145356178,-0.056373972445726,0.079010680317879,-0.016661789268255,0.071204766631126,-0.114864498376846,0.158125713467598,0.062686301767826,0.172821670770645,-0.041303467005491,0.001530733192340,0.043486598879099,0.104333631694317));
res += mul(Get(s2,-dx,-dy), float4x4(0.082590691745281,-0.159570708870888,0.052149474620819,-0.054382905364037,-0.055864695459604,-0.013813995756209,0.261063665151596,0.113376550376415,0.043134272098541,0.054395832121372,-0.070812605321407,0.069913201034069,-0.106335878372192,-0.091431453824043,0.027474686503410,-0.014125569723547));
res += mul(Get(s2,-dx,0), float4x4(-0.021235164254904,-0.017166625708342,-0.153714910149574,0.197846233844757,-0.053595151752234,-0.207559555768967,0.084689252078533,-0.017837537452579,0.191995143890381,-0.101676292717457,0.082070112228394,-0.024986026808619,-0.109654091298580,-0.060931220650673,0.061859000474215,-0.089573763310909));
res += mul(Get(s2,-dx,dy), float4x4(0.076554358005524,0.020784489810467,-0.067375965416431,0.002179853385314,0.015552455559373,0.027298338711262,0.018687317147851,0.084478922188282,0.013854129239917,-0.050820831209421,-0.104652091860771,-0.004303043242544,-0.128149256110191,-0.065963558852673,-0.090942144393921,0.092568844556808));
res += mul(Get(s2,0,-dy), float4x4(-0.063810601830482,0.140176519751549,-0.062793016433716,0.063519470393658,0.051044385880232,0.006843384820968,0.064980976283550,-0.096024923026562,-0.188232496380806,-0.034372411668301,-0.184131339192390,-0.099600292742252,0.018960701301694,0.069687090814114,0.276017963886261,-0.014811859466136));
res += mul(Get(s2,0,0), float4x4(0.006315432488918,0.048584733158350,-0.060542039573193,-0.033806383609772,-0.063438616693020,-0.161364257335663,0.044553205370903,-0.044093716889620,0.143086403608322,-0.042111046612263,0.070398584008217,-0.020438982173800,0.114941157400608,-0.145459979772568,0.251197248697281,0.035610832273960));
res += mul(Get(s2,0,dy), float4x4(-0.017949968576431,-0.029151527211070,0.194287449121475,0.065013132989407,0.122789956629276,0.070009671151638,-0.157916545867920,-0.072553120553493,0.137317419052124,0.118840187788010,0.235258147120476,-0.038545407354832,-0.043989300727844,-0.021391885355115,0.216614559292793,-0.096890427172184));
res += mul(Get(s2,dx,-dy), float4x4(-0.049273300915956,0.073016896843910,0.126165270805359,-0.127472653985023,0.021497445181012,0.011078000068665,0.028179733082652,0.050781279802322,0.026728026568890,-0.132563799619675,-0.087092466652393,-0.055083662271500,-0.090603671967983,-0.070248052477837,0.090816654264927,-0.036571163684130));
res += mul(Get(s2,dx,0), float4x4(0.033890850841999,-0.097307309508324,-0.104363709688187,-0.052696131169796,0.018720291554928,0.003890075720847,-0.068325057625771,-0.100970007479191,0.106726266443729,0.132837533950806,-0.020722940564156,0.151407867670059,0.139353558421135,0.295045733451843,0.140603631734848,-0.181343019008636));
res += mul(Get(s2,dx,dy), float4x4(0.035492241382599,-0.159930884838104,-0.012063850648701,-0.061704441905022,-0.019451448693871,0.010519637726247,-0.039089918136597,-0.037343163043261,0.139286428689957,0.020315166562796,-0.095801889896393,0.198317497968674,0.189085394144058,-0.115114435553551,0.099466726183891,0.097209110856056));
res += mul(Get(s3,-dx,-dy), float4x4(-0.026495693251491,-0.062094584107399,0.125453695654869,-0.037160255014896,0.030869629234076,0.134955227375031,-0.082430779933929,-0.050665095448494,-0.149829536676407,-0.026004144921899,-0.041476115584373,0.009130400605500,-0.114367410540581,-0.086790576577187,0.018712708726525,0.210513383150101));
res += mul(Get(s3,-dx,0), float4x4(-0.039295714348555,-0.051163546741009,0.033138182014227,0.076184749603271,-0.132462903857231,0.050110708922148,-0.153042897582054,0.078259497880936,0.073967501521111,0.134956449270248,-0.042337913066149,0.126472219824791,-0.145998567342758,-0.200381159782410,-0.035658881068230,-0.170666903257370));
res += mul(Get(s3,-dx,dy), float4x4(-0.019897552207112,-0.034080930054188,-0.057041238993406,0.014988329261541,-0.017006367444992,-0.001245948951691,0.051182940602303,0.137353137135506,0.057204436510801,0.134137332439423,-0.013578333891928,-0.131661206483841,0.097128346562386,-0.105210781097412,0.009433267638087,0.094717860221863));
res += mul(Get(s3,0,-dy), float4x4(-0.011091054417193,0.122390963137150,0.120416320860386,-0.000959880882874,-0.033047907054424,0.035372156649828,-0.011193471029401,-0.176527872681618,-0.004911854863167,0.012362523004413,-0.010430889204144,-0.169159904122353,-0.025901660323143,-0.127043575048447,0.040101889520884,-0.122920766472816));
res += mul(Get(s3,0,0), float4x4(0.009801618754864,0.051670204848051,-0.147939652204514,-0.121415600180626,-0.072963401675224,0.066890619695187,-0.017295666038990,-0.171872213482857,-0.019421631470323,0.152953580021858,0.062986731529236,0.067596383392811,0.166691482067108,-0.084717802703381,0.017271174117923,0.068993054330349));
res += mul(Get(s3,0,dy), float4x4(-0.089573852717876,-0.097522817552090,0.017331253737211,0.183676436543465,0.056838724762201,0.155801355838776,0.031697839498520,-0.133292317390442,-0.113721378147602,-0.085256017744541,-0.141603633761406,-0.062001425772905,0.006401909980923,-0.070811033248901,-0.004248223733157,0.066076509654522));
res += mul(Get(s3,dx,-dy), float4x4(-0.001331213978119,0.205935344099998,-0.024987770244479,-0.116005338728428,0.136154621839523,-0.091093808412552,-0.148434981703758,-0.009394820779562,-0.026446036994457,-0.004012386314571,0.045452617108822,-0.058981094509363,0.048900898545980,-0.043075248599052,0.051657639443874,-0.086896046996117));
res += mul(Get(s3,dx,0), float4x4(-0.189241826534271,-0.028589002788067,-0.117736347019672,0.066606953740120,0.044196899980307,-0.135014310479164,0.061921354383230,-0.086081519722939,-0.022772474214435,-0.139903873205185,-0.326767891645432,-0.140350848436356,0.133900508284569,-0.004438284784555,0.050884570926428,-0.042463552206755));
res += mul(Get(s3,dx,dy), float4x4(0.079138338565826,-0.043256271630526,-0.029402097687125,0.014052898623049,-0.017249668017030,-0.089572496712208,0.042124766856432,-0.000470734230476,0.011377236805856,0.057623293250799,-0.045305758714676,0.038963653147221,-0.036417771130800,0.061746437102556,-0.071386396884918,0.088842384517193));
res = max(float4(0,0,0,0), res);
return res;
}
