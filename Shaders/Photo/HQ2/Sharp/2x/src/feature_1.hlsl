sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.050233945250511,0.020295299589634,0.009283551946282,-0.092147834599018) * Get(-dx,-dy);
res += float4(0.029149617999792,-0.012352352030575,0.035009361803532,-0.078699924051762) * Get(-dx,0);
res += float4(0.266158998012543,0.097474962472916,0.011445952579379,-0.005899990443140) * Get(-dx,dy);
res += float4(0.008009708486497,0.114278435707092,0.018303204327822,0.060002334415913) * Get(0,-dy);
res += float4(0.074427850544453,-0.211328104138374,-0.012388466857374,0.000610490678810) * Get(0,0);
res += float4(-0.032355487346649,0.059725005179644,0.086336538195610,-0.094132170081139) * Get(0,dy);
res += float4(-0.021320434287190,-0.119454845786095,-0.122590020298958,0.003363990457729) * Get(dx,-dy);
res += float4(-0.044812623411417,-0.039442040026188,-0.105531178414822,-0.098511859774590) * Get(dx,0);
res += float4(-0.109254583716393,-0.135909557342529,-0.185129463672638,-0.143300309777260) * Get(dx,dy);
res = max(float4(0,0,0,0), res);
return res;
}
