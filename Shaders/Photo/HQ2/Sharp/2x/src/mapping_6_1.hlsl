sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.156882271170616,-0.122629418969154,0.009506338275969,-0.022419739514589,-0.027213139459491,0.101292237639427,-0.040067095309496,-0.019659996032715,0.015317329205573,-0.031459402292967,-0.070272766053677,0.009632358327508,0.049919217824936,0.127657055854797,0.054702959954739,0.061454497277737));
res += mul(Get(s0,-dx,0), float4x4(-0.048102814704180,-0.159127563238144,-0.102145954966545,0.120803602039814,0.002525582443923,-0.025836478918791,0.052030149847269,0.007462745532393,-0.026921061798930,0.024879354983568,-0.029409708455205,-0.104177966713905,-0.107287220656872,0.008873797953129,-0.096216946840286,0.034314520657063));
res += mul(Get(s0,-dx,dy), float4x4(0.062772169709206,0.090112246572971,0.004982501268387,-0.057218313217163,-0.045513290911913,0.096885882318020,-0.104252628982067,-0.082650624215603,0.000056512490119,0.021371476352215,-0.003670629113913,0.297710984945297,-0.136352092027664,-0.034179154783487,0.042947959154844,0.104410067200661));
res += mul(Get(s0,0,-dy), float4x4(0.028592625632882,-0.023609545081854,0.053027503192425,0.043219964951277,-0.067606277763844,-0.041951037943363,0.075329244136810,-0.023184303194284,0.001379516092129,-0.047767978161573,-0.010210263542831,-0.025888754054904,0.290783375501633,-0.002581017790362,-0.134568288922310,-0.039234042167664));
res += mul(Get(s0,0,0), float4x4(-0.095009200274944,0.128038793802261,-0.009843284264207,0.059559792280197,-0.022517532110214,0.058759033679962,0.125566378235817,0.014256588183343,0.032481916248798,-0.047281980514526,0.133388772606850,0.126606047153473,-0.136306002736092,0.032816205173731,0.050061501562595,-0.029300592839718));
res += mul(Get(s0,0,dy), float4x4(-0.142718777060509,-0.179343253374100,-0.013281328603625,-0.038072086870670,-0.040512345731258,-0.165626823902130,-0.041237156838179,0.104678675532341,-0.015080006793141,0.079503767192364,0.083900563418865,-0.080320663750172,0.156505212187767,0.052078913897276,-0.076354801654816,0.062583297491074));
res += mul(Get(s0,dx,-dy), float4x4(-0.015902739018202,0.005584098398685,-0.110044933855534,0.144272148609161,0.109926566481590,0.048947021365166,-0.176149830222130,0.131920233368874,-0.056034486740828,0.095377758145332,-0.007015084847808,0.017277291044593,0.051100250333548,0.061128862202168,0.178465038537979,0.138642400503159));
res += mul(Get(s0,dx,0), float4x4(0.111815288662910,0.042422618716955,-0.063873611390591,0.141912460327148,-0.092003338038921,-0.024135902523994,-0.221476435661316,0.034336011856794,0.060572590678930,-0.073705069720745,-0.035876825451851,-0.129757061600685,-0.126127362251282,-0.093814335763454,-0.154132440686226,-0.189249664545059));
res += mul(Get(s0,dx,dy), float4x4(0.025992738083005,0.100503340363503,-0.039599340409040,0.000992454937659,0.007079266011715,-0.026967765763402,-0.010006166063249,0.008351140655577,0.013324366882443,0.041465125977993,-0.117918007075787,0.039980087429285,-0.085213050246239,0.021038033068180,0.130973473191261,-0.097715169191360));
res += mul(Get(s1,-dx,-dy), float4x4(0.096836082637310,-0.044861666858196,-0.101787768304348,0.008128575980663,-0.073235325515270,-0.032667309045792,0.160561755299568,0.031636055558920,-0.142239227890968,-0.095201514661312,-0.004941416438669,-0.045165654271841,-0.156488582491875,-0.040724352002144,-0.176861599087715,-0.029340818524361));
res += mul(Get(s1,-dx,0), float4x4(-0.149705916643143,0.214072719216347,-0.238715827465057,0.000313060998451,-0.204814404249191,-0.014736151322722,0.007481558248401,0.036874067038298,-0.094627976417542,0.193630293011665,-0.009634866379201,0.140456750988960,0.073002368211746,-0.029514785856009,0.125439748167992,-0.215208843350410));
res += mul(Get(s1,-dx,dy), float4x4(-0.045068938285112,-0.050242900848389,-0.011595898307860,0.041089687496424,0.179914578795433,-0.138453140854836,-0.066431395709515,-0.080549970269203,-0.001142525230534,-0.030441764742136,0.072231635451317,0.041921254247427,0.075751215219498,0.166264608502388,-0.072309277951717,-0.118630960583687));
res += mul(Get(s1,0,-dy), float4x4(0.119318164885044,-0.040552392601967,-0.024588873609900,-0.036015875637531,-0.081484816968441,0.056364286690950,-0.055955782532692,-0.002374978968874,-0.130142360925674,-0.025519032031298,0.136576041579247,-0.093552112579346,-0.024740964174271,-0.082775764167309,-0.126302450895309,0.122846171259880));
res += mul(Get(s1,0,0), float4x4(0.087975129485130,0.109189346432686,0.020338010042906,-0.082013934850693,-0.169977486133575,0.158386483788490,0.034478124231100,0.034414634108543,-0.105255588889122,0.007913283072412,0.026696966961026,0.080339789390564,-0.021459920331836,0.009400455281138,0.050215072929859,-0.055946126580238));
res += mul(Get(s1,0,dy), float4x4(-0.118016764521599,0.044240426272154,-0.082871995866299,-0.094088904559612,0.045318618416786,-0.005340653005987,-0.057019583880901,-0.084459282457829,-0.166618257761002,0.026011662557721,-0.047846488654613,-0.103477537631989,-0.053186114877462,-0.030816528946161,-0.010317405685782,0.054160349071026));
res += mul(Get(s1,dx,-dy), float4x4(-0.053047757595778,-0.123694293200970,-0.015357765369117,0.112358048558235,0.012515751644969,0.053587030619383,0.116849802434444,0.185516223311424,-0.152976050972939,-0.063111655414104,-0.092564389109612,0.096031986176968,-0.020460387691855,-0.060527760535479,0.008714022114873,0.144551649689674));
res += mul(Get(s1,dx,0), float4x4(0.043713722378016,0.037586148828268,0.051664255559444,0.076913259923458,-0.035259962081909,0.239660814404488,0.112481668591499,-0.096814349293709,-0.047674562782049,-0.027753945440054,-0.064631052315235,-0.027482191100717,0.076889298856258,0.009700926020741,0.208107098937035,0.059942822903395));
res += mul(Get(s1,dx,dy), float4x4(0.032188661396503,0.027753455564380,-0.148366287350655,-0.013281345367432,-0.072207719087601,0.046800471842289,-0.113718904554844,-0.043999217450619,-0.047868091613054,-0.034913379698992,-0.053229533135891,-0.159085258841515,0.088418640196323,0.094176873564720,0.178991794586182,-0.038182508200407));
res += mul(Get(s2,-dx,-dy), float4x4(-0.104988850653172,-0.077100344002247,0.040782339870930,0.021795826032758,-0.068443469703197,-0.066204622387886,0.028085364028811,0.006277253851295,-0.042963735759258,0.007385740987957,0.055385764688253,-0.032588567584753,0.020365161821246,0.044477690011263,-0.006564217153937,0.180375441908836));
res += mul(Get(s2,-dx,0), float4x4(0.048607669770718,0.017490079626441,-0.091581590473652,0.104850873351097,0.119496896862984,-0.051223415881395,0.088792882859707,0.090158477425575,-0.034913238137960,-0.167274400591850,-0.096673920750618,0.067289367318153,-0.119083084166050,0.090206727385521,0.020968532189727,-0.045557521283627));
res += mul(Get(s2,-dx,dy), float4x4(0.048761680722237,0.098707422614098,-0.058911964297295,-0.018331246450543,0.132129162549973,0.114518903195858,-0.038070295006037,0.075280830264091,0.136585637927055,0.151442706584930,0.138422638177872,0.037219170480967,0.094066612422466,-0.004411124624312,0.115225352346897,0.046526834368706));
res += mul(Get(s2,0,-dy), float4x4(0.170928165316582,0.034001994878054,0.249403372406960,-0.008132870309055,0.040605984628201,-0.132519513368607,0.037294391542673,-0.097413778305054,0.027797386050224,-0.086508333683014,0.106304138898849,-0.056877285242081,-0.126009553670883,-0.057810522615910,-0.028980316594243,0.003578856587410));
res += mul(Get(s2,0,0), float4x4(-0.032630193978548,-0.033745449036360,0.015661153942347,0.044254399836063,0.004396315198392,0.044821240007877,0.104500442743301,-0.021190881729126,0.103674151003361,-0.058301918208599,-0.105293683707714,0.237118035554886,-0.116907805204391,-0.026980577036738,-0.006155683193356,-0.077824153006077));
res += mul(Get(s2,0,dy), float4x4(-0.050136942416430,-0.025198673829436,-0.131231114268303,0.046202357858419,0.095440626144409,0.002055158838630,-0.250058472156525,0.020402293652296,-0.042992107570171,0.026025310158730,-0.064756415784359,-0.110097311437130,-0.031615979969501,-0.122160360217094,0.035686984658241,-0.064199194312096));
res += mul(Get(s2,dx,-dy), float4x4(-0.000894648721442,-0.167674914002419,-0.022959960624576,0.006459082942456,0.080068074166775,0.025079594925046,-0.185736715793610,-0.185635477304459,0.089243046939373,0.000592921511270,-0.038920287042856,0.021817188709974,-0.056555479764938,-0.165198296308517,-0.096949934959412,-0.032633144408464));
res += mul(Get(s2,dx,0), float4x4(-0.073548570275307,0.013393894769251,-0.146724462509155,-0.089393436908722,0.026912599802017,-0.154904276132584,-0.057285856455564,-0.077653981745243,0.068535029888153,0.024816185235977,0.140659809112549,0.126979410648346,-0.029719591140747,0.003755093086511,-0.039883065968752,-0.150271669030190));
res += mul(Get(s2,dx,dy), float4x4(0.046943087130785,0.019457155838609,-0.105141364037991,0.082311242818832,0.182616814970970,-0.042958721518517,0.053381316363811,0.136761963367462,-0.027792036533356,0.003233966184780,0.125533103942871,0.069821059703827,-0.088638991117477,0.064185209572315,-0.058207150548697,0.100168988108635));
res += mul(Get(s3,-dx,-dy), float4x4(-0.153169959783554,-0.027415424585342,0.019211158156395,0.062997072935104,0.028264628723264,0.069324441254139,-0.169492691755295,-0.167031317949295,0.086404301226139,-0.117826491594315,0.122820749878883,-0.033169209957123,0.020523121580482,0.024910412728786,-0.021383112296462,0.005050104577094));
res += mul(Get(s3,-dx,0), float4x4(0.002647618530318,0.125045374035835,-0.023038960993290,-0.009664640761912,0.200118139386177,-0.267967283725739,0.064498469233513,-0.018444059416652,-0.045426316559315,0.064970165491104,0.051155712455511,0.062123086303473,-0.095867902040482,-0.007342929020524,-0.193242251873016,0.287042319774628));
res += mul(Get(s3,-dx,dy), float4x4(-0.132290378212929,0.108676433563232,0.154649510979652,0.063580445945263,-0.140750929713249,-0.018534947186708,-0.013045888394117,-0.063254192471504,-0.012033944018185,-0.175383388996124,-0.046064954251051,0.064306467771530,-0.084293507039547,0.010880257003009,-0.058565523475409,-0.059800174087286));
res += mul(Get(s3,0,-dy), float4x4(0.002779243281111,-0.070188030600548,0.091062374413013,-0.050207637250423,-0.157049477100372,0.005462385714054,-0.127368479967117,0.154682591557503,0.061089158058167,0.109278477728367,0.036007177084684,0.037374932318926,-0.089580737054348,-0.138828426599503,0.021440092474222,0.003859437303618));
res += mul(Get(s3,0,0), float4x4(0.003437552135438,-0.067569613456726,-0.085702531039715,0.036306619644165,0.062483411282301,-0.075181685388088,-0.026058686897159,0.007430371362716,-0.103751912713051,-0.112059839069843,0.002367397770286,-0.097480431199074,-0.070206649601460,0.062507763504982,0.030398998409510,0.068440407514572));
res += mul(Get(s3,0,dy), float4x4(0.120816491544247,0.039872530847788,-0.158020853996277,0.154281109571457,-0.047881606966257,0.026102775707841,0.018016759306192,-0.090457960963249,-0.016811957582831,-0.061231520026922,-0.019247705116868,-0.056742846965790,0.035387288779020,-0.080819137394428,-0.127300083637238,0.005653969012201));
res += mul(Get(s3,dx,-dy), float4x4(0.104854896664619,-0.101869918406010,-0.023705037310719,-0.257568001747131,-0.048987805843353,0.173783302307129,-0.021987097337842,0.040155168622732,-0.169569298624992,0.015142890624702,-0.024490963667631,-0.003873094683513,0.018765980377793,0.115952156484127,-0.138518452644348,-0.096691973507404));
res += mul(Get(s3,dx,0), float4x4(-0.053924135863781,0.027749918401241,-0.022853568196297,0.100559771060944,0.018277853727341,-0.097948253154755,0.035684634000063,-0.158163547515869,-0.045970339328051,-0.097649559378624,-0.087653711438179,-0.230039060115814,-0.033358346670866,0.002262379974127,0.081514127552509,-0.038450900465250));
res += mul(Get(s3,dx,dy), float4x4(-0.055674776434898,0.025143263861537,0.089628964662552,0.015925290063024,-0.062941916286945,0.056448444724083,0.111235126852989,0.104666315019131,0.063282765448093,-0.067123211920261,0.092185817658901,0.015483245253563,-0.014158892445266,0.078914694488049,0.048350535333157,0.207215175032616));
res = max(float4(0,0,0,0), res);
return res;
}
