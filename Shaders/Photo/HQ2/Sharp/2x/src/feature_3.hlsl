sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.005527614150196,0.085220992565155,-0.048150129616261,0.105414099991322) * Get(-dx,-dy);
res += float4(-0.082815386354923,0.009483683854342,0.117469199001789,-0.154728561639786) * Get(-dx,0);
res += float4(0.048073291778564,-0.064985841512680,0.175086215138435,0.149354249238968) * Get(-dx,dy);
res += float4(0.060666538774967,-0.064398452639580,0.063673086464405,-0.051349703222513) * Get(0,-dy);
res += float4(0.046994186937809,-0.018091710284352,-0.131409838795662,0.120902903378010) * Get(0,0);
res += float4(0.067626006901264,-0.143545895814896,-0.101503983139992,-0.084021143615246) * Get(0,dy);
res += float4(0.147138789296150,-0.096683047711849,0.028253741562366,-0.034269705414772) * Get(dx,-dy);
res += float4(-0.119898498058319,-0.012880333699286,-0.003959461115301,0.215107157826424) * Get(dx,0);
res += float4(-0.068581759929657,-0.030525809153914,0.047331694513559,-0.026642678305507) * Get(dx,dy);
res = max(float4(0,0,0,0), res);
return res;
}
