sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.099794827401638,0.051637805998325,0.024676207453012,-0.151501595973969,0.038696050643921,-0.044784646481276,-0.004779651761055,-0.027445627376437,0.175079971551895,0.166365772485733,0.086915493011475,-0.068405479192734,0.151809528470039,0.154118224978447,0.025149840861559,-0.134871140122414));
res += mul(Get(s0,-dx,0), float4x4(0.140093430876732,-0.094186268746853,0.038886923342943,-0.058852408081293,-0.056380081921816,0.052044428884983,-0.188001066446304,-0.155873030424118,0.126825988292694,-0.009155764244497,-0.054260663688183,-0.010222665965557,0.197712182998657,-0.052322555333376,0.030861947685480,-0.100403934717178));
res += mul(Get(s0,-dx,dy), float4x4(-0.028548704460263,0.079485289752483,-0.121151573956013,-0.149616360664368,0.093912281095982,-0.054784189909697,0.027742860838771,0.000941438542213,-0.007204771973193,-0.144368067383766,0.078602761030197,-0.117056116461754,-0.050854619592428,0.103559598326683,0.140305295586586,0.126421675086021));
res += mul(Get(s0,0,-dy), float4x4(0.077503919601440,-0.077155530452728,-0.036092691123486,0.044836755841970,0.091961093246937,0.080953732132912,0.061969012022018,-0.024688409641385,-0.148455083370209,-0.117914468050003,-0.107757553458214,0.087319977581501,-0.130431964993477,0.102690033614635,0.070285692811012,-0.062003247439861));
res += mul(Get(s0,0,0), float4x4(-0.042343787848949,0.072708524763584,-0.031636450439692,0.032625827938318,-0.048486392945051,0.076010406017303,0.043151389807463,-0.105680331587791,0.062869250774384,0.054682835936546,-0.087411358952522,-0.092850230634212,0.117303252220154,-0.008066804148257,0.000512141559739,-0.081722214818001));
res += mul(Get(s0,0,dy), float4x4(0.089624926447868,-0.223282188177109,0.037985567003489,0.061712719500065,-0.184247404336929,-0.051194991916418,-0.021940279752016,0.117340289056301,0.124970249831676,0.180324479937553,0.138219118118286,-0.117853008210659,0.098769068717957,0.020936775952578,0.033829007297754,-0.158250406384468));
res += mul(Get(s0,dx,-dy), float4x4(-0.080565974116325,0.012195985764265,0.023630673065782,-0.044641118496656,-0.123251691460609,-0.044174309819937,-0.043183758854866,-0.087755791842937,0.014965933747590,0.081478580832481,0.006819220259786,0.236030921339989,-0.038123235106468,-0.054687153548002,0.126667439937592,-0.089543327689171));
res += mul(Get(s0,dx,0), float4x4(-0.105515092611313,0.099318243563175,-0.017588054761291,0.048550475388765,-0.021265698596835,0.016080571338534,0.108531385660172,0.129713714122772,0.105700328946114,-0.031726814806461,-0.032895609736443,0.063682451844215,0.028509257361293,-0.015200568363070,0.111937962472439,0.269677519798279));
res += mul(Get(s0,dx,dy), float4x4(-0.033481806516647,0.056237962096930,-0.058449644595385,0.148565798997879,-0.071178928017616,0.064779572188854,0.058848667889833,-0.044041216373444,-0.024833695963025,0.040751524269581,-0.055357564240694,-0.095515258610249,-0.105686984956264,-0.033675096929073,-0.004865850787610,-0.099476888775826));
res += mul(Get(s1,-dx,-dy), float4x4(0.098805025219917,-0.004830271936953,0.136310413479805,0.036219503730536,0.097552359104156,0.059915795922279,-0.027348013594747,0.132474720478058,0.030378900468349,0.083522751927376,-0.002016897778958,-0.107279509305954,-0.118963755667210,-0.015534294769168,-0.172973185777664,-0.037959344685078));
res += mul(Get(s1,-dx,0), float4x4(0.037248086184263,0.081856191158295,0.082042075693607,0.023129966109991,0.041381537914276,0.016181861981750,-0.098672844469547,-0.086020983755589,0.043898452073336,-0.094826124608517,-0.011892110109329,0.034870967268944,0.158098131418228,-0.030775228515267,-0.010225787758827,-0.142376825213432));
res += mul(Get(s1,-dx,dy), float4x4(0.106454901397228,-0.000069006535341,0.008545614778996,0.089547805488110,-0.198467895388603,-0.101218365132809,-0.241730302572250,-0.204048946499825,-0.155123710632324,0.124742187559605,-0.085361205041409,-0.094390034675598,-0.057707376778126,0.027797479182482,-0.092064686119556,0.151421815156937));
res += mul(Get(s1,0,-dy), float4x4(0.110684223473072,0.034059975296259,0.161025956273079,-0.074703313410282,0.054544467478991,0.041901085525751,0.030870985239744,-0.120822370052338,0.104235045611858,0.064594246447086,-0.012240599840879,-0.043227579444647,-0.066845588386059,-0.062583498656750,0.236513912677765,-0.071084320545197));
res += mul(Get(s1,0,0), float4x4(0.067478008568287,0.014311408624053,0.340953379869461,0.064186424016953,-0.124055273830891,0.055026829242706,-0.061460219323635,0.150909781455994,0.014647026546299,0.186338931322098,0.006426033098251,0.052136197686195,0.120724245905876,0.022407215088606,-0.003559346543625,-0.142988711595535));
res += mul(Get(s1,0,dy), float4x4(-0.015389724634588,-0.033080782741308,0.095286279916763,-0.072405576705933,0.068143770098686,0.020767511799932,0.006161002907902,-0.033554252237082,-0.090055994689465,0.172823771834373,0.007191656157374,-0.043145153671503,-0.165557175874710,-0.110724352300167,-0.022791486233473,0.022119048982859));
res += mul(Get(s1,dx,-dy), float4x4(0.070874355733395,0.055559840053320,0.040846411138773,0.035449653863907,-0.034889731556177,-0.002132573164999,0.162277758121490,-0.045370679348707,-0.061252195388079,0.058905430138111,0.115869760513306,-0.031599435955286,-0.109023384749889,-0.018142422661185,0.108314760029316,-0.029528398066759));
res += mul(Get(s1,dx,0), float4x4(0.083881832659245,0.032636523246765,0.119915172457695,0.022373011335731,0.032130703330040,0.173936247825623,0.026299674063921,-0.092310175299644,0.046462435275316,-0.022673927247524,-0.109610863029957,0.152739435434341,-0.096244663000107,-0.147624135017395,-0.001742930384353,0.009080028161407));
res += mul(Get(s1,dx,dy), float4x4(-0.080650180578232,-0.020025068894029,0.086600460112095,-0.137672111392021,-0.128495037555695,0.088022165000439,0.015138901770115,-0.003642816562206,-0.039066236466169,0.015585825778544,-0.139506250619888,-0.004163349978626,0.025083517655730,0.095760151743889,-0.000126121885842,-0.068114608526230));
res += mul(Get(s2,-dx,-dy), float4x4(-0.026240145787597,-0.164133444428444,0.085718728601933,0.070053391158581,-0.055050879716873,0.051736928522587,0.035772521048784,-0.168902844190598,-0.099425971508026,-0.069160096347332,0.022780008614063,0.208904638886452,-0.077602393925190,-0.028856659308076,-0.014478688128293,-0.159153446555138));
res += mul(Get(s2,-dx,0), float4x4(-0.143240660429001,0.033131357282400,-0.029071088880301,-0.085317187011242,-0.109677821397781,-0.108648218214512,0.029884630814195,-0.111546851694584,0.059192787855864,-0.144104957580566,-0.022910466417670,-0.184654474258423,-0.096866779029369,-0.009549250826240,-0.052679210901260,0.008274768479168));
res += mul(Get(s2,-dx,dy), float4x4(-0.068109884858131,0.029422171413898,-0.051547754555941,-0.136652931571007,0.013577940873802,0.079993680119514,0.045131292194128,0.113399505615234,-0.089777313172817,-0.032422609627247,0.025260971859097,-0.113593466579914,0.145809471607208,0.040893364697695,0.015074227936566,0.018476786091924));
res += mul(Get(s2,0,-dy), float4x4(0.042689092457294,-0.074214018881321,0.027227785438299,0.070445097982883,0.061222869902849,0.180509164929390,0.126960009336472,0.070213347673416,0.081995427608490,-0.051707718521357,0.045558232814074,-0.137188613414764,0.097326055169106,0.028716750442982,-0.008630907163024,0.124457918107510));
res += mul(Get(s2,0,0), float4x4(-0.047867916524410,0.025220606476068,0.128822132945061,-0.020795045420527,0.083261720836163,-0.045542187988758,-0.058652374893427,0.229921579360962,0.108081445097923,-0.105568438768387,-0.075105763971806,0.016352288424969,0.096713796257973,-0.003908884711564,0.061282556504011,0.043673232197762));
res += mul(Get(s2,0,dy), float4x4(0.045778065919876,0.007171073928475,0.029548656195402,-0.059319157153368,0.062145959585905,0.072549469769001,0.061946280300617,-0.096070416271687,-0.017608894035220,0.110425241291523,-0.005604093894362,0.009980689734221,-0.005580211058259,-0.088859766721725,-0.104500696063042,0.087092258036137));
res += mul(Get(s2,dx,-dy), float4x4(-0.022182814776897,0.023318041115999,-0.149362504482269,0.039728824049234,0.008697918616235,0.011573857627809,0.022034725174308,-0.083419859409332,-0.022227782756090,0.118956960737705,-0.022981176152825,0.017637226730585,0.058744404464960,-0.032788638025522,0.070606358349323,-0.022762749344110));
res += mul(Get(s2,dx,0), float4x4(-0.118454366922379,0.048922937363386,0.000123873644043,0.116620011627674,0.121544726192951,-0.072936177253723,0.010819016024470,0.082907587289810,0.026275871321559,-0.032008856534958,0.224881350994110,-0.007906585000455,0.033157568424940,-0.005173346027732,-0.110321171581745,0.132955253124237));
res += mul(Get(s2,dx,dy), float4x4(0.010390892624855,0.057626545429230,0.154115647077560,0.072296008467674,0.092003613710403,0.060820203274488,0.050861582159996,0.020944783464074,-0.036996565759182,0.034829504787922,0.009771558456123,-0.024119518697262,0.190654918551445,-0.056419555097818,0.051990751177073,0.006605818867683));
res += mul(Get(s3,-dx,-dy), float4x4(-0.036911007016897,-0.108489997684956,0.048515822738409,-0.164697900414467,0.103857383131981,-0.068680942058563,0.153540521860123,-0.066563330590725,0.232951223850250,-0.104023903608322,-0.077937439084053,-0.096555486321449,0.007002187427133,-0.142891645431519,0.028195187449455,0.122769333422184));
res += mul(Get(s3,-dx,0), float4x4(0.096060194075108,0.113842256367207,-0.006129855290055,-0.014693180099130,-0.105397835373878,-0.064075157046318,-0.082371897995472,0.012282609939575,0.113697528839111,-0.126319378614426,-0.102914251387119,-0.071064412593842,-0.165484115481377,0.143866315484047,-0.004714690614492,0.010926040820777));
res += mul(Get(s3,-dx,dy), float4x4(0.024039164185524,0.106247335672379,-0.043676603585482,-0.024942804127932,-0.060176104307175,0.072414562106133,0.133431047201157,0.073048993945122,0.144136413931847,0.026393989101052,-0.141758397221565,0.173195913434029,-0.037220600992441,0.034096252173185,0.155779317021370,-0.106281206011772));
res += mul(Get(s3,0,-dy), float4x4(0.028612939640880,-0.041276343166828,-0.060869906097651,0.066376708447933,0.007257200777531,0.073447428643703,-0.057715903967619,0.051217079162598,0.081842347979546,-0.013458688743412,-0.217989727854729,0.120894141495228,-0.009076174348593,-0.107485823333263,0.083548359572887,0.180588081479073));
res += mul(Get(s3,0,0), float4x4(-0.085133031010628,-0.037120442837477,0.012715963646770,0.198308348655701,-0.041876468807459,0.058535341173410,0.014325554482639,-0.010791082866490,-0.177253156900406,-0.101364575326443,-0.050830777734518,-0.141806632280350,-0.074070170521736,-0.160367324948311,0.007912767119706,-0.061131499707699));
res += mul(Get(s3,0,dy), float4x4(-0.226105928421021,-0.086796469986439,-0.038401026278734,0.061015147715807,0.072329625487328,0.047440841794014,0.018187534064054,0.024009969085455,0.108393676578999,0.012367825023830,0.094505906105042,-0.211454018950462,0.040052432566881,-0.015558103099465,-0.005111358128488,0.013763559050858));
res += mul(Get(s3,dx,-dy), float4x4(-0.007026270031929,-0.105287387967110,0.238373652100563,-0.012572842650115,-0.054215386509895,0.043538164347410,-0.226738929748535,0.164564102888107,0.046640083193779,0.074900880455971,-0.090128704905510,-0.078176997601986,-0.069188088178635,0.048220571130514,0.075772367417812,0.079024910926819));
res += mul(Get(s3,dx,0), float4x4(0.155247583985329,0.078656323254108,-0.100575827062130,-0.071942135691643,-0.116087093949318,-0.111582994461060,-0.002555558923632,-0.142308637499809,0.027497213333845,0.088991574943066,-0.144602373242378,0.021968554705381,0.169444814324379,0.101852297782898,-0.040569458156824,-0.013554731383920));
res += mul(Get(s3,dx,dy), float4x4(0.094848774373531,-0.096222043037415,0.103974580764771,-0.046365290880203,0.053055513650179,0.046995554119349,0.120559290051460,-0.215852797031403,-0.105690747499466,-0.089070975780487,-0.083822496235371,-0.053233362734318,0.099776104092598,0.071946538984776,-0.187202557921410,0.043156079947948));
res = max(float4(0,0,0,0), res);
return res;
}
