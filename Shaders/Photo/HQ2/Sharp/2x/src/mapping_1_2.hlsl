sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.087612964212894,0.059195540845394,0.049994658678770,0.085083514451981,0.061981856822968,0.087338492274284,-0.001854156143963,0.042539723217487,-0.046363048255444,-0.106730446219444,0.118306301534176,-0.111403323709965,0.017843127250671,-0.007303358986974,-0.133316025137901,0.002553063444793));
res += mul(Get(s0,-dx,0), float4x4(0.062256105244160,-0.020366137847304,0.022519065067172,-0.051806565374136,-0.201916277408600,0.162285700440407,0.070831798017025,-0.248602196574211,-0.180713832378387,-0.012004077434540,0.004721709061414,0.200291335582733,-0.236707910895348,-0.111108198761940,0.068297483026981,0.026014555245638));
res += mul(Get(s0,-dx,dy), float4x4(0.137767463922501,-0.057784207165241,0.018858594819903,-0.177917718887329,0.057780496776104,-0.011407375335693,-0.023002704605460,-0.008380999788642,0.034274771809578,0.116829462349415,0.019186519086361,-0.067833416163921,0.037628646939993,0.021487414836884,-0.009018994867802,0.031156986951828));
res += mul(Get(s0,0,-dy), float4x4(0.134282812476158,-0.049774598330259,-0.143974646925926,-0.044455073773861,0.078532516956329,-0.021086517721415,-0.112825572490692,0.207248017191887,-0.133296519517899,0.131430447101593,0.111432716250420,0.100125059485435,0.010786155238748,-0.078859828412533,-0.106912642717361,-0.041871499270201));
res += mul(Get(s0,0,0), float4x4(0.009422483853996,-0.011456681415439,-0.016962459310889,0.014787924475968,0.095111556351185,0.008826274424791,0.007506769150496,0.103203944861889,-0.016865726560354,0.025703473016620,0.032904036343098,0.054439879953861,0.272945225238800,0.181597545742989,0.074101254343987,-0.055615600198507));
res += mul(Get(s0,0,dy), float4x4(-0.000393565831473,0.124390490353107,-0.055007796734571,0.071502991020679,0.050975281745195,-0.000727342150640,0.109280563890934,0.004561993293464,-0.062105327844620,0.037141721695662,-0.088236540555954,0.128405839204788,-0.163419425487518,-0.044642530381680,-0.021244706586003,0.000573554832954));
res += mul(Get(s0,dx,-dy), float4x4(-0.044189561158419,-0.082767263054848,0.053462356328964,0.044048793613911,-0.118446797132492,0.040981575846672,-0.169787675142288,-0.158684641122818,-0.019646035507321,-0.116778209805489,-0.122863456606865,0.021466929465532,0.096773400902748,-0.032343097031116,0.023915695026517,-0.078500173985958));
res += mul(Get(s0,dx,0), float4x4(-0.024461964145303,-0.045009791851044,-0.041624903678894,0.267939716577530,0.085950374603271,0.023690633475780,-0.171042695641518,0.114028349518776,0.071907982230186,0.001358903828077,-0.053778734058142,0.102863743901253,0.084629595279694,0.011637665331364,-0.118892468512058,0.073522701859474));
res += mul(Get(s0,dx,dy), float4x4(0.008205487392843,0.108085036277771,0.087155885994434,0.087665915489197,0.118285402655602,0.039883781224489,0.045844227075577,0.069192796945572,-0.071920827031136,0.141368016600609,-0.069059036672115,-0.045297395437956,0.057503744959831,0.016977688297629,-0.076601371169090,0.055082246661186));
res += mul(Get(s1,-dx,-dy), float4x4(0.056537918746471,0.053005721420050,0.181197956204414,-0.054747603833675,-0.141789659857750,-0.166055813431740,-0.044567935168743,0.099244847893715,-0.035022523254156,0.194928601384163,0.055961851030588,0.024679830297828,-0.056852351874113,0.042369943112135,-0.005205835215747,-0.060896698385477));
res += mul(Get(s1,-dx,0), float4x4(0.064780324697495,-0.226664930582047,0.022347742691636,0.012479845434427,0.147119373083115,-0.132978036999702,-0.031413003802299,-0.054515257477760,0.110379278659821,0.037067241966724,0.133123576641083,0.070712864398956,0.023007666692138,0.032107505947351,-0.078479804098606,0.025706790387630));
res += mul(Get(s1,-dx,dy), float4x4(0.154616832733154,0.069791369140148,-0.005089093931019,0.107637502253056,-0.106711246073246,0.075316011905670,-0.071302942931652,0.090345457196236,-0.074384510517120,0.178127855062485,0.007960196584463,0.021980814635754,0.133757084608078,-0.081988036632538,0.016196005046368,0.159797549247742));
res += mul(Get(s1,0,-dy), float4x4(-0.169983670115471,0.012643658556044,0.129235059022903,0.095796935260296,-0.110496230423450,0.114510245621204,0.146068751811981,0.066622085869312,0.063709139823914,-0.097273200750351,-0.010260115377605,0.255465924739838,0.097039982676506,-0.024621658027172,0.102791778743267,-0.018612191081047));
res += mul(Get(s1,0,0), float4x4(0.098394192755222,0.017076719552279,0.007184890564531,0.068062536418438,-0.058718178421259,0.023696761578321,-0.022652441635728,0.040981583297253,-0.109103761613369,-0.011173604987562,0.036729879677296,0.059554789215326,0.163640618324280,0.070043183863163,-0.165035560727119,-0.026769215241075));
res += mul(Get(s1,0,dy), float4x4(0.203906089067459,-0.048565898090601,0.049726236611605,0.077526345849037,-0.015510993078351,0.014009731821716,-0.122200272977352,0.111183725297451,-0.166019007563591,0.035103719681501,0.016211153939366,-0.108294323086739,-0.003659035544842,-0.046333223581314,-0.022348737344146,-0.059298641979694));
res += mul(Get(s1,dx,-dy), float4x4(0.042318161576986,0.004873983561993,0.089599728584290,0.011721896938980,-0.070462577044964,0.029870945960283,0.055145945400000,-0.014071170240641,0.048345904797316,-0.008137227967381,-0.136880695819855,0.037426508963108,-0.067965552210808,0.174618393182755,0.009517449885607,0.021329279989004));
res += mul(Get(s1,dx,0), float4x4(0.051011074334383,-0.022951314225793,0.000039129110519,-0.053063441067934,-0.050490397959948,-0.071893729269505,-0.006030662450939,0.116448692977428,-0.038683187216520,-0.193391591310501,0.039097622036934,0.082830786705017,-0.047344312071800,0.003750916570425,-0.149407938122749,0.073903150856495));
res += mul(Get(s1,dx,dy), float4x4(-0.055789258331060,0.002033741679043,-0.150085434317589,0.161612764000893,0.075533941388130,0.288228839635849,-0.111564196646214,0.063430353999138,0.061872646212578,-0.052552323788404,0.003324056509882,0.246519222855568,-0.050512883812189,0.071064472198486,0.106177240610123,0.071062535047531));
res += mul(Get(s2,-dx,-dy), float4x4(-0.249899461865425,0.008411003276706,-0.021957213059068,0.136057794094086,0.104088686406612,0.039162822067738,-0.067133352160454,-0.129843100905418,-0.077436693012714,-0.084445804357529,-0.014114555902779,-0.010892494581640,0.135692089796066,0.028459463268518,0.085951432585716,0.013418152928352));
res += mul(Get(s2,-dx,0), float4x4(0.035338640213013,-0.060723453760147,-0.089392751455307,0.039711114019156,-0.023448212072253,0.113035418093204,-0.004206017125398,-0.089806728065014,0.142059266567230,-0.176007941365242,0.226520210504532,-0.044715192168951,-0.007007170468569,0.017321556806564,-0.024624824523926,-0.191530227661133));
res += mul(Get(s2,-dx,dy), float4x4(0.082641355693340,0.057205419987440,-0.063103228807449,-0.055237054824829,0.022719020023942,0.167616009712219,0.085260264575481,0.150427177548409,-0.014154348522425,-0.020708404481411,-0.035222429782152,-0.064980827271938,0.029426343739033,0.071262136101723,-0.003236957825720,0.266987174749374));
res += mul(Get(s2,0,-dy), float4x4(0.065354622900486,0.007295949850231,-0.203081145882607,-0.098740711808205,-0.011333539150655,0.214847803115845,0.091678485274315,0.105021134018898,0.028479393571615,-0.080144561827183,-0.038380250334740,0.147597700357437,-0.007841980084777,-0.019561950117350,0.093449391424656,-0.053856797516346));
res += mul(Get(s2,0,0), float4x4(0.083167903125286,-0.098006844520569,0.092606544494629,0.129638403654099,-0.040732640773058,0.068879663944244,0.108508080244064,-0.164693608880043,-0.189310997724533,-0.122391968965530,-0.052483830600977,-0.073451437056065,-0.016059573739767,-0.026426702737808,0.154438376426697,0.072602450847626));
res += mul(Get(s2,0,dy), float4x4(-0.128796204924583,0.059935033321381,0.085740126669407,0.056799557060003,-0.129847005009651,-0.162827730178833,-0.067395456135273,-0.052363824099302,-0.089619457721710,-0.198734104633331,0.061561424285173,-0.185282036662102,-0.147964432835579,0.143991321325302,0.001563868834637,-0.019224768504500));
res += mul(Get(s2,dx,-dy), float4x4(0.000862823391799,-0.078322492539883,0.045486014336348,-0.039672501385212,-0.118852838873863,-0.118311516940594,0.218627572059631,-0.088873900473118,-0.077706009149551,0.044899377971888,-0.005919677671045,-0.102850325405598,0.101864181458950,-0.115303479135036,-0.126933425664902,0.076405607163906));
res += mul(Get(s2,dx,0), float4x4(0.057249341160059,0.189396917819977,-0.006761294789612,0.055358354002237,-0.023730248212814,0.063886895775795,-0.173398241400719,-0.034940876066685,0.008357702754438,-0.004490042570978,0.094155833125114,0.053532164543867,0.006140690296888,-0.084640212357044,-0.017465993762016,0.018080873414874));
res += mul(Get(s2,dx,dy), float4x4(-0.034037224948406,-0.116835981607437,-0.166182711720467,0.040820024907589,0.124746739864349,-0.112791903316975,0.019434995949268,-0.177284389734268,-0.021999418735504,-0.150871321558952,-0.132943987846375,0.114666678011417,-0.096466116607189,-0.040351919829845,-0.072712510824203,0.013989254832268));
res += mul(Get(s3,-dx,-dy), float4x4(-0.032141271978617,0.001331464853138,-0.072634108364582,0.122661240398884,0.145223811268806,0.042908862233162,-0.084985613822937,-0.039944328367710,0.172390699386597,-0.035375352948904,-0.109600037336349,-0.208561033010483,-0.031483326107264,0.108431637287140,-0.157863661646843,-0.015001653693616));
res += mul(Get(s3,-dx,0), float4x4(-0.032392501831055,0.073942042887211,-0.178064882755280,-0.048854716122150,-0.055057924240828,0.051862988620996,-0.007506160065532,0.068683095276356,0.115882456302643,0.217435404658318,0.076885513961315,0.016848914325237,-0.066384434700012,-0.032998397946358,-0.062291491776705,-0.080622389912605));
res += mul(Get(s3,-dx,dy), float4x4(0.015483522787690,-0.208975270390511,-0.008754980750382,-0.181720986962318,-0.218301862478256,-0.119465813040733,0.007462918758392,-0.009512500837445,-0.020262910053134,0.101677715778351,-0.099157720804214,-0.165725618600845,-0.089078716933727,-0.165160924196243,0.054479993879795,0.039469774812460));
res += mul(Get(s3,0,-dy), float4x4(-0.130099177360535,-0.017816402018070,0.088028699159622,0.010044870898128,-0.097681201994419,-0.208482459187508,0.126782223582268,0.132360562682152,0.166438341140747,-0.081757083535194,0.025751341134310,-0.148672133684158,-0.019806485623121,-0.035687878727913,0.064166925847530,-0.079508729279041));
res += mul(Get(s3,0,0), float4x4(0.123821556568146,0.039262495934963,-0.011802427470684,-0.162619516253471,0.214383289217949,-0.221821397542953,0.095364309847355,-0.022963799536228,-0.034122932702303,-0.017622109502554,-0.292454898357391,-0.036826293915510,0.090280205011368,0.032994270324707,0.009497833438218,0.074030384421349));
res += mul(Get(s3,0,dy), float4x4(-0.006682565435767,-0.125325173139572,0.033937361091375,-0.070201970636845,-0.153537690639496,-0.109434731304646,0.090324468910694,-0.150489702820778,-0.001797839184292,0.198885098099709,-0.158644914627075,-0.093640603125095,0.016062641516328,-0.121950857341290,-0.085311211645603,-0.133899152278900));
res += mul(Get(s3,dx,-dy), float4x4(-0.003074707929045,-0.062790028750896,0.056079130619764,0.064925789833069,0.112468093633652,-0.042582213878632,-0.073833368718624,-0.004419751930982,0.030360734090209,-0.028034530580044,-0.181652769446373,0.060568988323212,-0.069844737648964,0.015202768146992,-0.016777887940407,-0.027454575523734));
res += mul(Get(s3,dx,0), float4x4(-0.154659941792488,0.048507425934076,-0.037874754518270,0.016066867858171,-0.017833590507507,0.043283522129059,-0.033739827573299,-0.043369676917791,-0.038915626704693,0.083154611289501,-0.047753743827343,0.013475346378982,-0.029395297169685,0.129429414868355,0.073324166238308,-0.020968699827790));
res += mul(Get(s3,dx,dy), float4x4(0.019909964874387,0.004432981368154,-0.136074915528297,-0.003363820258528,0.130800440907478,0.017604913562536,0.185092821717262,-0.016773389652371,-0.003643946023658,-0.024977853521705,0.080364137887955,0.145544812083244,0.024036562070251,-0.223127141594887,0.000485454802401,-0.034624442458153));
res = max(float4(0,0,0,0), res);
return res;
}
