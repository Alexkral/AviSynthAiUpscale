sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.024945614859462,0.039809856563807,-0.067091576755047,0.011369127780199,0.033769831061363,-0.014408500865102,-0.038096703588963,-0.039392303675413,0.176600396633148,0.097211174666882,-0.062093451619148,0.166343584656715,-0.045005213469267,0.377243697643280,0.123425640165806,-0.015325047075748));
res += mul(Get(s0,-dx,0), float4x4(-0.054352004081011,0.028454780578613,0.129151776432991,0.135924533009529,-0.069990307092667,0.137952670454979,-0.068583600223064,-0.041629564017057,0.022008016705513,-0.037109833210707,-0.069804735481739,0.005530238617212,0.003703087102622,-0.101714245975018,0.052236400544643,0.084614962339401));
res += mul(Get(s0,-dx,dy), float4x4(-0.151232779026031,0.027946410700679,0.109639696776867,-0.017518859356642,-0.020039845257998,0.254708021879196,-0.010210600681603,0.029629681259394,0.166419029235840,-0.064658485352993,-0.018471958115697,0.160549968481064,-0.076902844011784,-0.021114189177752,-0.146595403552055,0.135490894317627));
res += mul(Get(s0,0,-dy), float4x4(0.018764963373542,-0.067943416535854,-0.026636222377419,0.008813953958452,-0.026770889759064,-0.078647993505001,-0.049568187445402,-0.041261088103056,0.020593293011189,0.120915137231350,-0.134038612246513,-0.014863700605929,0.029102709144354,0.073116615414619,-0.013133871369064,-0.156817555427551));
res += mul(Get(s0,0,0), float4x4(-0.073337458074093,0.188200399279594,0.140719279646873,0.044783260673285,0.093350388109684,-0.172379270195961,-0.062205977737904,0.011430862359703,-0.112608686089516,-0.047896161675453,-0.057705037295818,-0.027359930798411,0.098556265234947,-0.086467869579792,0.060609806329012,-0.053348172456026));
res += mul(Get(s0,0,dy), float4x4(-0.201119124889374,-0.002212917199358,0.049975916743279,-0.004511519800872,0.029393307864666,-0.092609673738480,0.151735588908195,-0.049401447176933,-0.026155715808272,0.000210747239180,0.007093796506524,-0.073311433196068,0.175075307488441,-0.001494523137808,-0.036428596824408,-0.007827157154679));
res += mul(Get(s0,dx,-dy), float4x4(-0.184639632701874,0.015426272526383,0.048627562820911,-0.008054954931140,-0.141734734177589,-0.062727056443691,0.067609295248985,-0.028204182162881,0.056773591786623,0.045839928090572,-0.105094656348228,-0.053889427334070,-0.139633119106293,0.012444391846657,-0.086643241345882,0.010395649820566));
res += mul(Get(s0,dx,0), float4x4(-0.145938977599144,0.070428662002087,0.143549874424934,0.102518245577812,-0.040351882576942,-0.093629442155361,-0.018236853182316,0.004280425142497,-0.007589161861688,0.119512759149075,0.063688851892948,-0.142727017402649,-0.030580196529627,-0.095664784312248,-0.038037564605474,0.106500849127769));
res += mul(Get(s0,dx,dy), float4x4(0.018775124102831,0.124318063259125,0.021237496286631,-0.027496716007590,0.110225223004818,0.161360874772072,0.156634807586670,0.122407317161560,0.095644421875477,-0.126911014318466,-0.029967105016112,0.148681238293648,-0.084452547132969,0.076778873801231,-0.000276500883047,-0.040837019681931));
res += mul(Get(s1,-dx,-dy), float4x4(0.101515352725983,-0.339315474033356,-0.034530196338892,0.060064971446991,-0.101486571133137,-0.058739852160215,-0.091485962271690,0.031638503074646,0.180721417069435,-0.103709518909454,0.052062522619963,0.095645919442177,-0.020380157977343,-0.116306059062481,0.092198252677917,0.063533805310726));
res += mul(Get(s1,-dx,0), float4x4(-0.039494015276432,0.011151060461998,0.009980246424675,0.109294526278973,-0.118088781833649,0.035737797617912,0.012755347415805,-0.087513394653797,-0.015813594684005,-0.023300740867853,0.043665964156389,0.031901068985462,-0.050114791840315,-0.072158768773079,0.093062438070774,0.008539436385036));
res += mul(Get(s1,-dx,dy), float4x4(-0.083608977496624,0.106377065181732,-0.004317788872868,-0.030962880700827,0.048724893480539,0.061201289296150,0.103381313383579,-0.077031753957272,0.027234291657805,-0.051649365574121,0.106583654880524,-0.016485871747136,-0.004438409581780,-0.069109737873077,-0.030320944264531,0.123298674821854));
res += mul(Get(s1,0,-dy), float4x4(-0.133816033601761,0.046913255006075,-0.031457692384720,-0.006355950608850,0.002933666342869,-0.020874960348010,0.022316716611385,-0.112410947680473,0.184196770191193,0.021390503272414,0.062460865825415,-0.032335311174393,0.037281226366758,0.061376377940178,-0.011700969189405,-0.213175132870674));
res += mul(Get(s1,0,0), float4x4(0.000027351838071,0.176820829510689,-0.282952219247818,0.059657450765371,-0.150024965405464,-0.069399394094944,-0.093438796699047,0.094684138894081,0.028243442997336,0.047232747077942,-0.017357965931296,-0.182859912514687,0.024292297661304,-0.165270656347275,0.007705795578659,-0.016295274719596));
res += mul(Get(s1,0,dy), float4x4(-0.073291450738907,-0.059004627168179,0.018386747688055,-0.026250682771206,-0.013376798480749,-0.005248979199678,0.040171038359404,-0.013820029795170,0.003604217665270,0.152830094099045,-0.015328517183661,0.037209387868643,-0.105097107589245,0.169738262891769,-0.076107554137707,-0.041546013206244));
res += mul(Get(s1,dx,-dy), float4x4(-0.128834858536720,0.078053094446659,-0.110296443104744,0.033203691244125,0.205300793051720,0.015169559046626,0.041814763098955,0.171410709619522,0.005658275447786,-0.143687918782234,0.064175352454185,0.082508139312267,0.091632321476936,0.191182658076286,0.132488936185837,-0.034171603620052));
res += mul(Get(s1,dx,0), float4x4(0.100421003997326,0.096148982644081,-0.026613632217050,0.130950465798378,0.015998946502805,-0.095350094139576,0.033888466656208,-0.046280536800623,0.010537368245423,-0.025792138651013,-0.080539219081402,0.051439065486193,-0.018403604626656,-0.075973339378834,-0.006238371133804,0.018593307584524));
res += mul(Get(s1,dx,dy), float4x4(-0.039904680103064,0.048584595322609,-0.016407947987318,0.038088347762823,0.071680858731270,-0.191646963357925,0.066230803728104,0.150591999292374,-0.022297738119960,-0.117056511342525,0.128800779581070,0.027493234723806,-0.045963086187840,0.048532877117395,-0.068829074501991,-0.009254029951990));
res += mul(Get(s2,-dx,-dy), float4x4(0.004557495005429,0.106513440608978,0.071007229387760,0.021266987547278,-0.061862450093031,-0.046460013836622,0.082130596041679,0.030161421746016,0.010441183112562,0.030341098085046,0.108182504773140,0.008915072306991,0.187468454241753,0.054579861462116,-0.083531074225903,-0.020536491647363));
res += mul(Get(s2,-dx,0), float4x4(-0.115262940526009,-0.009265337139368,0.118233181536198,0.122626326978207,0.055353436619043,0.002351672388613,0.219701036810875,0.040232699364424,0.019084485247731,-0.073546022176743,-0.096462771296501,0.018313603475690,-0.176926612854004,0.090624511241913,-0.030336186289787,0.058761447668076));
res += mul(Get(s2,-dx,dy), float4x4(-0.160169988870621,-0.157421514391899,0.211983740329742,0.210725486278534,0.116472773253918,0.016032014042139,0.082187816500664,-0.006269866600633,-0.032731819897890,0.101091913878918,0.072390832006931,0.042159739881754,-0.061804290860891,0.071424812078476,-0.052245091646910,-0.231688871979713));
res += mul(Get(s2,0,-dy), float4x4(0.105271115899086,0.100497581064701,-0.129436433315277,0.001495004747994,0.005561208352447,0.112717032432556,-0.051954410970211,0.097831293940544,0.235977202653885,0.112485520541668,-0.086123116314411,0.012880853377283,-0.152481943368912,-0.018658043816686,-0.190067142248154,0.172158941626549));
res += mul(Get(s2,0,0), float4x4(-0.027156604453921,-0.045023996382952,0.019885623827577,0.021773694083095,-0.003619156079367,0.112143866717815,0.070494204759598,0.026502117514610,0.188681319355965,0.034590207040310,-0.017692478373647,-0.163060292601585,-0.092998608946800,0.079736307263374,-0.078047372400761,0.039338789880276));
res += mul(Get(s2,0,dy), float4x4(0.001665846211836,0.115419968962669,-0.040610413998365,0.057724889367819,0.155513480305672,0.061805319041014,0.112296961247921,-0.129683524370193,-0.118701182305813,0.007122583221644,-0.188459381461143,0.058605309575796,-0.056663528084755,0.054480209946632,-0.184675678610802,-0.079901516437531));
res += mul(Get(s2,dx,-dy), float4x4(-0.011979016475379,0.055338848382235,0.059787105768919,-0.103085510432720,0.048607334494591,0.039638832211494,-0.008378936909139,-0.096390619874001,0.063814714550972,0.191173762083054,-0.045076847076416,0.107866242527962,0.149857044219971,-0.057251174002886,-0.031779099255800,-0.111356139183044));
res += mul(Get(s2,dx,0), float4x4(-0.036909602582455,0.083504721522331,0.156015455722809,0.073815762996674,-0.000481140916236,0.181109666824341,-0.041228953748941,0.277860611677170,-0.043303430080414,-0.149375453591347,-0.060400851070881,-0.017386367544532,0.119774036109447,-0.043213788419962,0.024753727018833,0.029186304658651));
res += mul(Get(s2,dx,dy), float4x4(-0.111017517745495,0.030063699930906,0.004947765730321,-0.064073570072651,-0.063951283693314,0.008916897699237,0.254405349493027,0.111800268292427,0.070827111601830,-0.068993829190731,0.014401393011212,-0.043600320816040,-0.214909479022026,-0.101523950695992,0.089808046817780,0.003945744130760));
res += mul(Get(s3,-dx,-dy), float4x4(-0.081608362495899,-0.002727027051151,-0.054187986999750,-0.098253130912781,0.124077178537846,0.182079955935478,0.082740746438503,0.075132735073566,-0.009074581786990,-0.125606119632721,-0.107111304998398,0.022784732282162,0.030864786356688,0.260041832923889,0.057327788323164,0.036363951861858));
res += mul(Get(s3,-dx,0), float4x4(0.021847117692232,0.092754259705544,0.040609605610371,0.018109053373337,-0.004668880719692,-0.120171293616295,-0.060970645397902,-0.062430035322905,-0.030506782233715,-0.015959195792675,-0.005869829561561,-0.005881763529032,-0.004675801377743,-0.031714186072350,0.099424026906490,0.055364385247231));
res += mul(Get(s3,-dx,dy), float4x4(0.019868692383170,-0.050836522132158,0.040847137570381,0.021305151283741,-0.168785244226456,0.118063703179359,0.094672158360481,0.012252924963832,-0.040347483009100,0.017440794035792,0.024987427517772,0.054381821304560,-0.072291605174541,-0.073679469525814,0.057397473603487,-0.025148795917630));
res += mul(Get(s3,0,-dy), float4x4(0.241993263363838,0.009127168916166,-0.072531782090664,0.069498337805271,0.010097216814756,-0.054928712546825,-0.176820665597916,0.100338257849216,-0.078239098191261,0.167084351181984,-0.093732759356499,-0.002921810140833,-0.062999226152897,0.027397934347391,-0.062410552054644,0.018261816352606));
res += mul(Get(s3,0,0), float4x4(-0.057010188698769,0.007695409469306,-0.151543557643890,-0.069620139896870,-0.130830034613609,0.006287826225162,0.012438527308404,-0.011598033830523,-0.046188551932573,-0.027189617976546,-0.033343501389027,-0.122515119612217,0.114824309945107,-0.020759312435985,0.019364429637790,-0.056470695883036));
res += mul(Get(s3,0,dy), float4x4(0.032664503902197,0.109324194490910,0.159046038985252,-0.003224682761356,0.151669889688492,-0.171389862895012,-0.078749239444733,-0.073299989104271,0.143462032079697,0.179138332605362,0.009362626820803,-0.060501858592033,0.035922259092331,-0.012088283896446,-0.199138522148132,0.055533766746521));
res += mul(Get(s3,dx,-dy), float4x4(-0.048946831375360,0.030613953247666,0.044582370668650,-0.087191447615623,0.074054203927517,0.042254138737917,0.066769383847713,-0.183082193136215,0.030969342216849,0.142702296376228,-0.126317113637924,0.087690547108650,-0.083411008119583,-0.189523175358772,-0.065551228821278,-0.008640496991575));
res += mul(Get(s3,dx,0), float4x4(-0.104344770312309,-0.014381744898856,-0.007521205116063,0.156609654426575,0.095455847680569,0.068868368864059,-0.018997484818101,0.195841863751411,0.001287612016313,-0.118561618030071,0.170202344655991,0.081439815461636,-0.016385000199080,-0.114302903413773,0.045907199382782,-0.135991662740707));
res += mul(Get(s3,dx,dy), float4x4(0.038145065307617,0.072650149464607,-0.285878866910934,-0.071462377905846,0.009515212848783,-0.026010831817985,-0.069379232823849,0.073849871754646,-0.186730816960335,0.024947637692094,-0.002415491966531,-0.147288426756859,-0.020477006211877,0.179358348250389,-0.101836919784546,0.102810747921467));
res = max(float4(0,0,0,0), res);
return res;
}
