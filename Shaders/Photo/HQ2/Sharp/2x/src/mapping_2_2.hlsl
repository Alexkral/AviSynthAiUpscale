sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.037823311984539,-0.114503435790539,-0.003604777622968,0.036823242902756,0.074363887310028,-0.065565958619118,0.074922472238541,-0.148107856512070,0.056477025151253,-0.035027414560318,0.064564399421215,0.056420374661684,0.195056945085526,-0.130411714315414,-0.237224668264389,-0.174228861927986));
res += mul(Get(s0,-dx,0), float4x4(-0.071113459765911,-0.097004748880863,-0.078937716782093,0.095266327261925,-0.142309546470642,-0.012678610160947,-0.086787834763527,-0.082751505076885,-0.030546577647328,0.182694733142853,-0.014756935648620,-0.001653854036704,-0.174265787005424,0.059941265732050,-0.103161841630936,-0.066918246448040));
res += mul(Get(s0,-dx,dy), float4x4(-0.048945970833302,-0.188810259103775,-0.255610287189484,-0.158175721764565,0.081857584416866,-0.154741466045380,0.041380729526281,-0.027466427534819,-0.069705441594124,-0.134245231747627,-0.059239584952593,0.074065133929253,-0.050080444663763,0.102405324578285,0.008417163044214,-0.034918583929539));
res += mul(Get(s0,0,-dy), float4x4(-0.166115880012512,0.009940622374415,-0.119063124060631,0.029712146148086,-0.059471402317286,0.157993599772453,0.063240170478821,0.050570689141750,0.055873665958643,-0.015119493007660,-0.032838020473719,0.134279832243919,0.146612614393234,0.072904422879219,-0.037295863032341,0.068449757993221));
res += mul(Get(s0,0,0), float4x4(0.038177598267794,-0.069921158254147,0.033648703247309,0.012140518985689,0.101622067391872,-0.012149430811405,0.002863549627364,0.082881972193718,-0.073979794979095,-0.202912315726280,0.211332067847252,-0.074765495955944,0.099484644830227,-0.064001284539700,-0.081122323870659,0.099904470145702));
res += mul(Get(s0,0,dy), float4x4(-0.015448655001819,0.057854086160660,-0.114837989211082,0.056723419576883,-0.087037310004234,-0.174724623560905,0.044816590845585,-0.144442558288574,0.011813212186098,-0.282546341419220,-0.101562693715096,-0.057334128767252,0.175935521721840,0.018592739477754,0.003251695074141,-0.019206900149584));
res += mul(Get(s0,dx,-dy), float4x4(-0.144489690661430,0.076176196336746,-0.065889500081539,0.065850943326950,-0.036589592695236,0.025294609367847,0.097902975976467,0.001844389480539,0.088332004845142,0.018511168658733,0.204428032040596,-0.117720052599907,-0.079812414944172,-0.024842806160450,0.014983876608312,0.098321452736855));
res += mul(Get(s0,dx,0), float4x4(-0.007856344804168,0.018247587606311,0.107986196875572,-0.092636823654175,-0.009279859252274,-0.025984136387706,0.044097334146500,0.105421915650368,-0.161648407578468,0.054148595780134,0.029614973813295,0.109162546694279,0.016767574474216,0.053514908999205,0.012226746417582,-0.101359218358994));
res += mul(Get(s0,dx,dy), float4x4(0.008906932547688,-0.160592034459114,0.113185726106167,-0.083015859127045,-0.090341024100780,-0.049368437379599,0.182038694620132,-0.098028667271137,-0.046791050583124,0.016211539506912,0.110055990517139,-0.175216406583786,-0.036404173821211,-0.090258769690990,0.009385634213686,-0.023438652977347));
res += mul(Get(s1,-dx,-dy), float4x4(-0.136846154928207,0.000007234159057,-0.043305631726980,0.041910145431757,-0.043466079980135,0.289657384157181,0.009426399134099,-0.152835085988045,-0.026437301188707,-0.046540692448616,-0.055489681661129,-0.007266238331795,0.073470234870911,-0.127669528126717,-0.001925603137352,-0.196685448288918));
res += mul(Get(s1,-dx,0), float4x4(0.135733872652054,-0.113164141774178,-0.062433164566755,0.143003284931183,0.018911421298981,0.111675247550011,-0.016647407785058,0.069683201611042,0.017742730677128,-0.210046336054802,-0.086981207132339,-0.084671318531036,-0.101587511599064,0.194491907954216,-0.036534752696753,-0.238695546984673));
res += mul(Get(s1,-dx,dy), float4x4(0.071858309209347,-0.057503767311573,-0.038633812218904,-0.012838612310588,0.092124037444592,-0.058107063174248,0.011280203238130,-0.081321932375431,-0.131000950932503,-0.042403511703014,-0.006717962678522,0.095026627182961,0.188246995210648,-0.146300494670868,-0.029361972585320,0.036031249910593));
res += mul(Get(s1,0,-dy), float4x4(0.012443793006241,0.077278949320316,0.057844519615173,-0.129112392663956,-0.021830745041370,-0.019885918125510,-0.050342287868261,-0.170995384454727,0.101004719734192,0.071955598890781,-0.168544545769691,0.188514396548271,-0.098321206867695,-0.028423421084881,-0.082502275705338,-0.019070032984018));
res += mul(Get(s1,0,0), float4x4(0.078681230545044,-0.107357390224934,0.039620395749807,-0.013923523947597,0.051037102937698,-0.085310250520706,0.207518830895424,-0.337566196918488,0.189825937151909,-0.045893751084805,0.092439733445644,0.062427736818790,0.182547256350517,0.004520900547504,-0.219156101346016,0.063651390373707));
res += mul(Get(s1,0,dy), float4x4(0.118391536176205,-0.022876605391502,0.082525350153446,0.104099653661251,-0.072906836867332,-0.132325291633606,0.080644451081753,-0.051718246191740,0.094331912696362,-0.015236921608448,-0.059133380651474,-0.021696871146560,-0.061570845544338,-0.003707965137437,-0.055757917463779,0.018760697916150));
res += mul(Get(s1,dx,-dy), float4x4(0.013471139594913,-0.047349639236927,-0.026085052639246,0.099311441183090,-0.217289432883263,-0.094735711812973,-0.051586773246527,-0.054776508361101,-0.054717659950256,-0.000808682234492,0.167941913008690,0.047700736671686,-0.086264804005623,0.085909016430378,0.008375112898648,-0.071727074682713));
res += mul(Get(s1,dx,0), float4x4(0.120397165417671,0.034916009753942,-0.085162065923214,-0.080141022801399,-0.131503924727440,0.168036013841629,-0.028289984911680,0.004737732466310,0.062464978545904,-0.089142858982086,-0.047455836087465,-0.103181481361389,0.043970551341772,-0.159938246011734,0.009237536229193,-0.036738235503435));
res += mul(Get(s1,dx,dy), float4x4(0.029821058735251,-0.050688602030277,-0.103163287043571,-0.087223619222641,-0.081005416810513,0.004891899880022,0.094325713813305,0.043179951608181,0.048344649374485,0.031745512038469,0.005200590472668,0.188184559345245,0.010633101686835,-0.024623660370708,0.214726939797401,-0.073412530124187));
res += mul(Get(s2,-dx,-dy), float4x4(-0.059794209897518,-0.090328201651573,-0.042796488851309,0.008326502516866,0.197818204760551,0.143835663795471,-0.070005461573601,-0.048797640949488,-0.073719017207623,-0.038228843361139,0.093411818146706,-0.038630839437246,-0.021926697343588,0.060243032872677,-0.013561493717134,0.175603330135345));
res += mul(Get(s2,-dx,0), float4x4(0.008707330562174,-0.051346987485886,0.136578619480133,0.002595001598820,-0.052817337214947,0.028018120676279,-0.138152465224266,-0.115581266582012,0.146974503993988,0.086555555462837,0.054159253835678,-0.198281243443489,0.115717731416225,-0.039975654333830,0.040866725146770,-0.082230001688004));
res += mul(Get(s2,-dx,dy), float4x4(-0.017032777890563,-0.186401888728142,-0.008505707606673,-0.043136239051819,0.068662174046040,0.065240591764450,-0.028594257310033,-0.038733404129744,0.069439142942429,0.186046242713928,0.109589390456676,0.063185371458530,0.002292242599651,0.101001963019371,0.160461738705635,-0.129431203007698));
res += mul(Get(s2,0,-dy), float4x4(0.100559502840042,0.112761951982975,-0.100066319108009,0.115837499499321,0.036749221384525,0.033671345561743,-0.073840349912643,-0.029846470803022,0.088983505964279,-0.078414388000965,-0.124146290123463,-0.048245158046484,-0.064465247094631,-0.102226309478283,0.032893206924200,-0.200293138623238));
res += mul(Get(s2,0,0), float4x4(0.080263949930668,-0.036158956587315,0.044514179229736,-0.136995822191238,-0.053095370531082,0.072071880102158,0.104166969656944,0.081358894705772,0.181487783789635,-0.050737801939249,0.074633173644543,-0.075362667441368,0.137710347771645,0.114118948578835,-0.146883949637413,0.078687757253647));
res += mul(Get(s2,0,dy), float4x4(0.013969017192721,0.122867867350578,-0.108268126845360,0.012033981271088,-0.105570241808891,-0.022280041128397,-0.176650017499924,-0.051165055483580,0.127475783228874,-0.127413541078568,0.046973925083876,-0.111260436475277,0.080483131110668,-0.071375139057636,-0.063120052218437,0.207826748490334));
res += mul(Get(s2,dx,-dy), float4x4(0.004141070879996,-0.040135569870472,0.075464755296707,-0.057318095117807,0.092546254396439,0.068599104881287,-0.002168628852814,-0.026435874402523,0.069077871739864,-0.119542315602303,-0.067333020269871,0.056024868041277,-0.050286967307329,0.025376250967383,-0.104434080421925,0.133385956287384));
res += mul(Get(s2,dx,0), float4x4(-0.168951362371445,-0.106006659567356,-0.163246735930443,0.016050729900599,-0.146393418312073,0.162859290838242,0.269991964101791,-0.074974730610847,0.226811811327934,-0.049313742667437,0.032615303993225,0.064800314605236,-0.000190968989045,-0.029084879904985,0.059666186571121,-0.004581047687680));
res += mul(Get(s2,dx,dy), float4x4(-0.090629681944847,0.046726569533348,0.072857096791267,-0.062452815473080,-0.076564066112041,-0.001318875583820,-0.095458626747131,0.041407871991396,-0.157476693391800,-0.226062223315239,0.013389762490988,0.089223690330982,-0.054425552487373,0.071153029799461,0.058727774769068,0.149777904152870));
res += mul(Get(s3,-dx,-dy), float4x4(-0.022585367783904,0.353037565946579,-0.037618227303028,-0.016271000728011,0.000717456394341,-0.115729026496410,0.160330414772034,-0.071082450449467,-0.068406291306019,-0.043767791241407,0.009948501363397,-0.004738933406770,0.056537095457315,0.169799983501434,-0.132978424429893,-0.117795884609222));
res += mul(Get(s3,-dx,0), float4x4(0.022814732044935,-0.060941856354475,0.059339433908463,-0.047699712216854,-0.060889150947332,-0.190551757812500,0.073743596673012,0.128005832433701,0.088473811745644,0.189992815256119,0.034084305167198,-0.058456573635340,-0.099009327590466,-0.019798051565886,-0.146213114261627,0.006392518058419));
res += mul(Get(s3,-dx,dy), float4x4(-0.016359889879823,0.077101558446884,0.046141944825649,-0.026380257681012,0.189217984676361,-0.049955159425735,0.008114202879369,0.085190005600452,0.070871524512768,0.038879420608282,-0.039271533489227,0.019941588863730,-0.004988064989448,-0.091692388057709,-0.136828944087029,0.027096467092633));
res += mul(Get(s3,0,-dy), float4x4(0.044461138546467,0.032485146075487,0.129879802465439,0.032609131187201,0.046159707009792,0.016833920031786,-0.059100899845362,-0.061538219451904,-0.208204254508018,0.032884381711483,0.155317872762680,-0.019081898033619,-0.032734878361225,0.081653423607349,-0.159199699759483,-0.014845788478851));
res += mul(Get(s3,0,0), float4x4(-0.190884843468666,0.032402493059635,-0.054226037114859,0.127793908119202,-0.046996895223856,-0.065353550016880,-0.089243784546852,-0.052726674824953,-0.095856115221977,0.043023824691772,-0.137307435274124,-0.007032284978777,-0.058883596211672,-0.181890964508057,-0.046991635113955,0.054068591445684));
res += mul(Get(s3,0,dy), float4x4(0.048702962696552,-0.150125026702881,-0.028185060247779,0.112096913158894,0.203563570976257,-0.083443492650986,-0.053457681089640,-0.062779448926449,-0.055166106671095,-0.085882686078548,-0.064648747444153,-0.135865539312363,-0.012129805982113,-0.061147358268499,-0.032315373420715,0.070772089064121));
res += mul(Get(s3,dx,-dy), float4x4(-0.020454049110413,-0.005743548739702,-0.100487098097801,0.058127846568823,-0.008911738172174,-0.103768631815910,0.082187190651894,0.092930711805820,0.009677583351731,-0.049395419657230,-0.168799042701721,0.007611529435962,0.061643779277802,0.042621538043022,0.055483866482973,-0.078530140221119));
res += mul(Get(s3,dx,0), float4x4(0.006050139199942,-0.016432913020253,0.039742048829794,-0.012734135612845,-0.034959334880114,-0.071263127028942,0.034155130386353,0.006099559366703,0.038422431796789,-0.058811057358980,-0.228855550289154,-0.030168753117323,-0.069964028894901,0.045150477439165,-0.068225115537643,0.161646708846092));
res += mul(Get(s3,dx,dy), float4x4(0.087406612932682,0.070927150547504,0.085850402712822,-0.081617817282677,-0.058965735137463,0.047922767698765,0.024052359163761,-0.027765594422817,0.129172444343567,0.074133530259132,0.137325733900070,-0.040395461022854,0.070950917899609,-0.218140214681625,0.028650073334575,0.080191306769848));
res = max(float4(0,0,0,0), res);
return res;
}
