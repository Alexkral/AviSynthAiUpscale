sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.115677200257778,-0.109586566686630,-0.209245234727859,-0.000026756815714,0.023464024066925,0.069852538406849,-0.125297874212265,-0.012408393435180,-0.105547748506069,0.146686553955078,-0.176305741071701,-0.061944119632244,-0.002950283233076,-0.027810169383883,0.069404497742653,0.026522099971771));
res += mul(Get(s0,-dx,0), float4x4(0.142235785722733,0.252587258815765,-0.044174142181873,-0.089051224291325,-0.029473964124918,0.038991808891296,-0.022340772673488,0.066025622189045,0.017286306247115,-0.165530443191528,-0.007538378238678,0.069864362478256,-0.023874821141362,0.063584052026272,-0.114266075193882,-0.069721296429634));
res += mul(Get(s0,-dx,dy), float4x4(0.023289306089282,-0.142118901014328,0.087218783795834,-0.118290610611439,0.099301263689995,0.142171174287796,-0.123583018779755,-0.047970548272133,-0.084024503827095,0.007667596451938,0.210465729236603,-0.105339802801609,-0.033142734318972,-0.179129213094711,-0.033574718981981,0.019532591104507));
res += mul(Get(s0,0,-dy), float4x4(0.040430966764688,0.000696452683769,-0.000740203598980,0.004986699204892,0.060749609023333,0.068009085953236,0.111317284405231,-0.109522089362144,-0.003052735235542,-0.046250738203526,0.065811775624752,-0.059988494962454,0.094926789402962,0.009513581171632,0.048217132687569,0.005894860252738));
res += mul(Get(s0,0,0), float4x4(-0.153967782855034,0.012032173573971,-0.019281184300780,0.103345513343811,-0.074369676411152,-0.006627498660237,0.003823682432994,0.002620348474011,-0.038014411926270,0.020746368914843,-0.075504198670387,-0.105290204286575,0.013295927084982,-0.031226590275764,-0.067215099930763,0.065667249262333));
res += mul(Get(s0,0,dy), float4x4(0.052579324692488,-0.077113240957260,-0.049667004495859,-0.171551525592804,0.227381691336632,0.075652696192265,-0.135735020041466,0.134812712669373,0.062945134937763,-0.109984599053860,-0.120745196938515,-0.167932122945786,-0.053113002330065,-0.013395788148046,0.087792478501797,-0.041492633521557));
res += mul(Get(s0,dx,-dy), float4x4(0.007624814752489,-0.058947913348675,-0.018549894914031,0.050308275967836,0.043879792094231,-0.009278822690248,0.033011768013239,0.009058454073966,-0.063450701534748,-0.001830339781009,0.031453333795071,-0.016233159229159,0.072544649243355,-0.128048807382584,-0.056417442858219,-0.131992071866989));
res += mul(Get(s0,dx,0), float4x4(0.105772055685520,0.077834732830524,-0.209489956498146,0.175180375576019,0.009144814684987,0.001581297721714,0.019873535260558,-0.229713186621666,0.157434031367302,-0.092697069048882,-0.011327031068504,-0.024470485746861,-0.065894514322281,0.137986660003662,0.104823403060436,0.024889592081308));
res += mul(Get(s0,dx,dy), float4x4(0.050788599997759,0.076914101839066,-0.168653994798660,-0.173468992114067,0.015458840876818,0.133326441049576,0.082401521503925,0.027857238426805,0.021493175998330,0.048097386956215,0.061136171221733,-0.062509313225746,0.168407201766968,-0.171514466404915,-0.022826546803117,0.026655960828066));
res += mul(Get(s1,-dx,-dy), float4x4(0.005372152663767,0.020759414881468,-0.051306903362274,0.044110801070929,0.178012162446976,-0.013161147944629,-0.123656883835793,0.081028394401073,0.095816537737846,-0.209082633256912,-0.147300273180008,-0.039505638182163,-0.003299078438431,-0.007765647955239,0.160945564508438,-0.204463854432106));
res += mul(Get(s1,-dx,0), float4x4(-0.034402769058943,0.008252304978669,0.023932268843055,-0.040747318416834,0.118505962193012,0.119090057909489,0.028971701860428,-0.024988913908601,-0.124796196818352,0.016184944659472,0.014597921632230,-0.082866907119751,0.069547317922115,-0.078761771321297,0.012164329178631,-0.191525161266327));
res += mul(Get(s1,-dx,dy), float4x4(0.073146089911461,-0.014547793194652,-0.108114227652550,0.045139458030462,-0.069421678781509,-0.005875681992620,-0.043709482997656,-0.093873202800751,-0.048067826777697,-0.132879212498665,0.213863596320152,-0.079536460340023,-0.131271794438362,-0.152798280119896,-0.091561786830425,0.032671712338924));
res += mul(Get(s1,0,-dy), float4x4(0.218973726034164,-0.147275373339653,-0.045310012996197,-0.069228626787663,-0.046467319130898,-0.074752412736416,-0.041210740804672,-0.148534312844276,0.024475401267409,0.048360943794250,0.044228963553905,0.029026174917817,-0.075436621904373,0.231368497014046,0.039130747318268,0.162383496761322));
res += mul(Get(s1,0,0), float4x4(-0.038692962378263,-0.116804033517838,-0.127880424261093,-0.158737286925316,-0.116367079317570,0.059505540877581,-0.054906807839870,0.051447432488203,-0.152867525815964,0.193161249160767,0.168961733579636,-0.129618600010872,0.139409944415092,-0.001346023287624,-0.033325418829918,-0.078893922269344));
res += mul(Get(s1,0,dy), float4x4(0.027762031182647,0.207633733749390,-0.052721001207829,-0.068569138646126,0.023063227534294,-0.028013199567795,-0.123123653233051,-0.129389867186546,-0.080244623124599,0.163721427321434,-0.010900754481554,0.147923022508621,0.151877924799919,-0.004241973627359,0.165060251951218,-0.069640398025513));
res += mul(Get(s1,dx,-dy), float4x4(-0.016487170010805,0.122074142098427,-0.003579970449209,0.007925595156848,-0.076923154294491,0.017702315002680,0.004447488114238,0.138355657458305,-0.023058341816068,-0.082565672695637,-0.013598307967186,0.021191863343120,-0.029749786481261,-0.185503706336021,-0.012544114142656,0.074885487556458));
res += mul(Get(s1,dx,0), float4x4(0.119136020541191,-0.005453753285110,-0.005924324505031,-0.055499497801065,-0.002525066258386,0.003589683212340,-0.014298865571618,0.026532985270023,-0.033100016415119,0.002262145280838,-0.005092854611576,0.149694085121155,0.004009680822492,-0.033696398139000,0.206064835190773,0.044528093189001));
res += mul(Get(s1,dx,dy), float4x4(0.064572319388390,0.005487059243023,0.085670158267021,-0.019244190305471,0.005683055613190,0.241129055619240,0.097305417060852,0.112850099802017,0.022356247529387,-0.133805960416794,0.054402306675911,0.072930365800858,0.120805971324444,0.030070276930928,-0.033632654696703,-0.118702657520771));
res += mul(Get(s2,-dx,-dy), float4x4(-0.099185630679131,-0.066346272826195,-0.103988856077194,-0.089644499123096,-0.069689944386482,0.144724547863007,0.115876525640488,-0.006442244164646,-0.002593142911792,-0.026558287441730,-0.048973459750414,0.032457001507282,-0.002185352379456,0.011565879918635,0.014895969070494,-0.060449346899986));
res += mul(Get(s2,-dx,0), float4x4(-0.007445590570569,-0.250257343053818,-0.064881771802902,-0.025575490668416,-0.027493365108967,0.015193277038634,-0.023027012124658,-0.061481334269047,-0.004045598674566,0.166658461093903,0.074868418276310,-0.024660419672728,-0.027807341888547,-0.115480504930019,0.084561213850975,-0.036304563283920));
res += mul(Get(s2,-dx,dy), float4x4(-0.126842811703682,-0.097401790320873,0.044642802327871,0.098441645503044,0.022965574637055,-0.012869726866484,-0.090773470699787,0.026175541803241,-0.131096392869949,-0.155532404780388,-0.011445756070316,-0.097269676625729,0.006863641552627,0.154245793819427,-0.021766018122435,0.041308730840683));
res += mul(Get(s2,0,-dy), float4x4(0.111768625676632,0.046085633337498,0.058539461344481,0.178535461425781,0.002723975107074,0.114087715744972,0.042857922613621,-0.111012831330299,-0.063473477959633,0.045056574046612,-0.024023821577430,0.040011275559664,-0.013198471628129,0.000767796707805,-0.011410907842219,-0.032328844070435));
res += mul(Get(s2,0,0), float4x4(-0.218890875577927,0.032828599214554,-0.064038127660751,0.025900859385729,0.056999381631613,-0.044847954064608,-0.183045595884323,0.016597231850028,-0.013752258382738,-0.110955409705639,-0.022375471889973,-0.006363749969751,0.062085058540106,-0.081644728779793,0.071866348385811,0.083440668880939));
res += mul(Get(s2,0,dy), float4x4(-0.038361731916666,0.043152004480362,-0.098207190632820,-0.063107423484325,-0.015557739883661,-0.016901846975088,-0.103560395538807,0.118625722825527,-0.120881371200085,0.022651663050056,-0.063742592930794,-0.066989682614803,-0.129055783152580,-0.077930130064487,-0.096498616039753,-0.041510105133057));
res += mul(Get(s2,dx,-dy), float4x4(0.169909968972206,-0.131941035389900,-0.050769388675690,0.176144003868103,0.008051186800003,-0.069329246878624,-0.030844999477267,0.034007109701633,-0.067561022937298,-0.101770579814911,0.090031869709492,-0.066456533968449,-0.090840846300125,-0.219703584909439,-0.069845758378506,-0.105230040848255));
res += mul(Get(s2,dx,0), float4x4(-0.075074456632137,-0.083986669778824,0.161455437541008,0.247781887650490,-0.001085309893824,0.194585666060448,0.103140361607075,-0.043706260621548,0.049069575965405,0.052512511610985,-0.011575565673411,-0.152792423963547,-0.045318592339754,0.150308355689049,-0.036759987473488,0.008483667857945));
res += mul(Get(s2,dx,dy), float4x4(0.234954088926315,-0.182375296950340,-0.160667344927788,-0.105002857744694,0.042466290295124,0.088770881295204,-0.016247255727649,0.080261588096619,-0.367619872093201,-0.020042050629854,-0.027128998190165,-0.011749278753996,-0.169646203517914,0.167823314666748,0.161347374320030,0.026494655758142));
res += mul(Get(s3,-dx,-dy), float4x4(-0.133527278900146,-0.055242277681828,-0.000073404793511,-0.041804101318121,0.064269334077835,-0.065221354365349,-0.109685845673084,-0.071916013956070,0.091574221849442,-0.170415699481964,-0.033736910670996,-0.153259724378586,-0.200853466987610,0.111048519611359,-0.226578935980797,-0.035210005939007));
res += mul(Get(s3,-dx,0), float4x4(0.044901590794325,-0.024366771802306,0.102177388966084,-0.126617133617401,0.006432763766497,0.067565746605396,0.033622667193413,0.073513761162758,-0.025022655725479,-0.015285342000425,-0.007737560197711,0.093866288661957,-0.146123886108398,-0.183527022600174,-0.143031924962997,-0.146594822406769));
res += mul(Get(s3,-dx,dy), float4x4(0.053504381328821,-0.118882559239864,-0.195495367050171,0.007549699861556,-0.108397103846073,-0.075016915798187,-0.055256459861994,0.017563780769706,-0.152356848120689,0.034911993891001,0.104431718587875,0.051836963742971,-0.000941893144045,-0.012313754297793,0.005185317713767,-0.036763705313206));
res += mul(Get(s3,0,-dy), float4x4(-0.069056354463100,0.178891211748123,-0.004180205054581,-0.004502777475864,-0.062810987234116,-0.071854420006275,0.155879408121109,-0.003726496361196,-0.052353084087372,-0.138135209679604,-0.089357241988182,0.154178977012634,0.232899710536003,0.057143822312355,-0.074370801448822,-0.072431549429893));
res += mul(Get(s3,0,0), float4x4(0.062398560345173,0.004276682622731,-0.100537478923798,0.112770944833755,0.019263356924057,-0.106772929430008,-0.001384242787026,0.145844489336014,-0.209374576807022,-0.145251110196114,0.045472711324692,-0.053716711699963,0.001271635526791,0.180695012211800,0.097603484988213,0.012212472967803));
res += mul(Get(s3,0,dy), float4x4(-0.122505269944668,0.069164812564850,0.144904434680939,-0.059604905545712,-0.043367452919483,-0.084354899823666,-0.032459519803524,-0.004556802101433,0.036664035171270,0.228421598672867,-0.081784345209599,0.036159664392471,-0.106701172888279,-0.052903238683939,-0.224026232957840,-0.173641666769981));
res += mul(Get(s3,dx,-dy), float4x4(0.045723639428616,-0.191862717270851,0.042678222060204,0.110471285879612,0.053752176463604,0.108362376689911,0.312562108039856,-0.001302881748416,-0.014420920051634,0.051655843853951,0.085228420794010,-0.015995439141989,0.196976408362389,-0.063217982649803,0.087525844573975,-0.063187442719936));
res += mul(Get(s3,dx,0), float4x4(0.023567758500576,-0.002649747300893,0.002604061970487,0.152706801891327,-0.042239159345627,-0.079866357147694,0.028843177482486,0.071865677833557,-0.017870023846626,-0.035032976418734,-0.194309756159782,0.013676589354873,-0.138174101710320,-0.072345450520515,0.096227034926414,-0.060367640107870));
res += mul(Get(s3,dx,dy), float4x4(0.136023551225662,-0.002922114217654,0.158088862895966,0.111931912600994,0.072293311357498,-0.154747262597084,-0.140540719032288,0.068880692124367,-0.043882418423891,-0.089087925851345,-0.086115173995495,-0.031725160777569,-0.137253299355507,0.058991666883230,0.116503953933716,0.128113150596619));
res = max(float4(0,0,0,0), res);
return res;
}
