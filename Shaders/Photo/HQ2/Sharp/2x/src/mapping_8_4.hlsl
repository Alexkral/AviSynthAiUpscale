sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.096177451312542,-0.019422210752964,0.012718586251140,0.061811935156584,0.120608210563660,-0.001185456058010,0.041267089545727,0.072749689221382,0.021432228386402,-0.029752876609564,0.039796829223633,0.190046966075897,-0.247499540448189,0.044805780053139,0.138991490006447,-0.005871383938938));
res += mul(Get(s0,-dx,0), float4x4(-0.095367126166821,0.179191559553146,0.046714909374714,-0.055401712656021,-0.069086231291294,0.055726695805788,0.066721543669701,0.075255043804646,0.007251773960888,0.120180286467075,-0.015414147637784,-0.038184072822332,-0.032682262361050,-0.212977111339569,-0.116336435079575,0.057868789881468));
res += mul(Get(s0,-dx,dy), float4x4(-0.156735882163048,0.164921864867210,-0.223382383584976,0.141290530562401,0.013715950772166,-0.142098590731621,-0.025259930640459,0.172773361206055,0.080279752612114,-0.000191619285033,-0.014773921109736,0.027001937851310,0.036163229495287,0.011035315692425,0.021660849452019,-0.168172374367714));
res += mul(Get(s0,0,-dy), float4x4(0.083255752921104,-0.039354849606752,-0.083347149193287,0.099569447338581,0.145606279373169,0.094785585999489,0.096968337893486,0.028824038803577,0.098259791731834,-0.186867192387581,0.139505922794342,0.154496356844902,-0.148925572633743,0.084790311753750,-0.067560374736786,0.034715227782726));
res += mul(Get(s0,0,0), float4x4(0.032445382326841,0.006480561569333,0.079188808798790,-0.071052551269531,0.006359857041389,0.078078858554363,-0.028990870341659,-0.003606878919527,-0.076067835092545,-0.036676447838545,-0.017163887619972,0.062274526804686,-0.050957098603249,0.016539936885238,-0.005339993629605,-0.005698571912944));
res += mul(Get(s0,0,dy), float4x4(-0.095137320458889,-0.171656221151352,0.111541271209717,-0.056069362908602,-0.174718096852303,0.073386348783970,0.051742278039455,-0.085929080843925,-0.033772334456444,0.014652318321168,-0.043197441846132,0.170677915215492,-0.133944526314735,0.069171831011772,0.011582231149077,-0.119354479014874));
res += mul(Get(s0,dx,-dy), float4x4(-0.090908788144588,-0.039279524236917,0.110956743359566,-0.132327049970627,-0.056591659784317,-0.068146541714668,0.010899950750172,0.060894910246134,0.060411628335714,0.129363387823105,-0.061639644205570,0.147222772240639,0.149306550621986,0.118642337620258,-0.207525715231895,0.064136765897274));
res += mul(Get(s0,dx,0), float4x4(-0.129519775509834,0.004003084264696,0.078209877014160,-0.090377025306225,-0.124830164015293,0.243684038519859,-0.073822639882565,-0.141346082091331,-0.022091664373875,-0.045133702456951,-0.019552994519472,0.115497045218945,-0.163847386837006,0.034579712897539,0.006866527721286,-0.010096920654178));
res += mul(Get(s0,dx,dy), float4x4(-0.179417252540588,-0.083888150751591,0.159039437770844,-0.019876513630152,0.084610775113106,-0.040361646562815,0.198499634861946,-0.093987204134464,-0.284996718168259,-0.001982804620638,-0.028679346665740,0.130489021539688,-0.061404101550579,0.176736146211624,-0.061602108180523,0.054344814270735));
res += mul(Get(s1,-dx,-dy), float4x4(-0.113616690039635,0.110231392085552,-0.064337782561779,-0.041446398943663,-0.100620158016682,0.006671520881355,-0.083513118326664,0.064058974385262,-0.171822592616081,-0.012090658769011,-0.036762308329344,0.004167602397501,-0.003016928443685,0.022359646856785,0.069286681711674,-0.012867360375822));
res += mul(Get(s1,-dx,0), float4x4(-0.237110808491707,0.019850615411997,0.108834616839886,0.108755439519882,0.099864698946476,0.097869396209717,0.019142683595419,0.121199592947960,-0.109893150627613,-0.055760446935892,-0.040779702365398,0.058836217969656,0.005323905963451,-0.158686280250549,-0.041620973497629,-0.043515987694263));
res += mul(Get(s1,-dx,dy), float4x4(-0.006669443100691,0.060318954288960,0.040548469871283,-0.113429591059685,-0.053624413907528,0.011191810481250,-0.079802140593529,0.053808432072401,-0.041999567300081,-0.051839258521795,-0.103144973516464,-0.065387904644012,0.183301761746407,0.148881196975708,-0.056790862232447,0.091315694153309));
res += mul(Get(s1,0,-dy), float4x4(0.010205368511379,0.111279197037220,-0.075278162956238,0.063319861888885,0.082111850380898,0.158014744520187,-0.001437088823877,0.195942640304565,0.110235691070557,0.022691424936056,-0.054186414927244,0.018994925543666,0.096522033214569,-0.003083533141762,0.124976851046085,0.115529417991638));
res += mul(Get(s1,0,0), float4x4(0.120113417506218,-0.138675078749657,-0.171739488840103,0.176098525524139,0.036055471748114,0.169157534837723,0.249028220772743,0.069432333111763,0.067689284682274,-0.142670199275017,0.117878653109074,-0.105111710727215,0.066347710788250,-0.105477318167686,0.199616432189941,-0.208224415779114));
res += mul(Get(s1,0,dy), float4x4(-0.158940330147743,-0.010662767104805,0.136367425322533,-0.203457266092300,0.032969795167446,-0.088288590312004,-0.015960421413183,-0.082567468285561,-0.070661030709743,0.002087385160848,0.205280482769012,-0.019458798691630,0.104575723409653,-0.247617930173874,-0.037775997072458,-0.101594567298889));
res += mul(Get(s1,dx,-dy), float4x4(0.071093723177910,0.087269879877567,-0.020639415830374,-0.125096172094345,-0.045139174908400,0.118375495076180,-0.079752944409847,-0.021864939481020,-0.069191657006741,-0.075994931161404,-0.078421093523502,0.012607419863343,-0.007437777239829,-0.108779646456242,0.093147218227386,0.006501788739115));
res += mul(Get(s1,dx,0), float4x4(-0.111853584647179,-0.026152821257710,-0.044800259172916,0.152626276016235,0.170195877552032,-0.064209155738354,0.000633911404293,0.064870670437813,0.002478912472725,-0.106672100722790,-0.050303164869547,-0.022022025659680,-0.184480354189873,0.132967829704285,0.118789963424206,-0.029353169724345));
res += mul(Get(s1,dx,dy), float4x4(0.080173373222351,0.087765276432037,-0.030172932893038,0.130667433142662,-0.000817188352812,-0.071183636784554,-0.085435949265957,-0.147446885704994,-0.046529263257980,-0.131751462817192,0.072881974279881,0.066212788224220,0.040327165275812,-0.033384487032890,-0.107811100780964,0.249902188777924));
res += mul(Get(s2,-dx,-dy), float4x4(-0.052631277590990,0.058428138494492,-0.116254247725010,0.044998507946730,0.107773065567017,0.012768981046975,0.037161216139793,0.084609307348728,0.151574701070786,0.047040645033121,-0.077247723937035,0.079729139804840,-0.028803294524550,0.006284283939749,-0.089697748422623,0.142998099327087));
res += mul(Get(s2,-dx,0), float4x4(0.030885880813003,0.002970034256577,0.010378628969193,-0.037711095064878,0.004540349356830,-0.089380480349064,0.011102596297860,-0.045132424682379,-0.243297740817070,0.025397304445505,0.034433875232935,-0.055308874696493,-0.020823303610086,-0.183217093348503,0.031728833913803,0.009380682371557));
res += mul(Get(s2,-dx,dy), float4x4(0.018776999786496,-0.134148418903351,0.139216929674149,0.084617339074612,-0.076382957398891,-0.229562327265739,-0.100914575159550,0.051097378134727,0.110050044953823,0.111982621252537,-0.211691781878471,0.019851708784699,-0.025039866566658,0.152011930942535,0.223525717854500,-0.139196276664734));
res += mul(Get(s2,0,-dy), float4x4(-0.073891058564186,0.080570511519909,-0.097471743822098,0.099230445921421,-0.024232748895884,-0.169686093926430,-0.125105589628220,0.154553741216660,0.053352925926447,-0.067718654870987,-0.036614000797272,-0.126090615987778,-0.148916706442833,-0.167389526963234,-0.047185480594635,-0.095434322953224));
res += mul(Get(s2,0,0), float4x4(-0.135452285408974,0.051093582063913,0.060007389634848,0.022730022668839,0.005181625019759,0.085083641111851,-0.184188649058342,0.073487803339958,-0.129008159041405,-0.065715931355953,0.101633563637733,0.095712870359421,-0.072546727955341,-0.146606817841530,-0.047652218490839,-0.078785046935081));
res += mul(Get(s2,0,dy), float4x4(-0.190387204289436,-0.087414830923080,0.036251269280910,0.127025783061981,-0.111882261931896,0.107236944139004,0.068195432424545,0.004716449417174,-0.081041805446148,-0.093287654221058,0.065498091280460,0.170383110642433,0.058481346815825,-0.090186268091202,-0.179251179099083,-0.048093251883984));
res += mul(Get(s2,dx,-dy), float4x4(-0.068321645259857,-0.003838305827230,-0.050817050039768,-0.025268346071243,-0.101457901299000,0.043162014335394,-0.025796251371503,0.023894958198071,0.025462403893471,0.116208717226982,0.077330671250820,-0.010649790056050,0.091599509119987,0.068239629268646,0.090689025819302,-0.059333804994822));
res += mul(Get(s2,dx,0), float4x4(0.196475431323051,0.041266605257988,-0.063167132437229,-0.079991742968559,0.107139110565186,0.013087301515043,0.007835897617042,-0.122849002480507,0.129840463399887,0.029337780550122,0.085910268127918,-0.159897014498711,0.102894052863121,-0.258906275033951,0.042394217103720,0.007455614395440));
res += mul(Get(s2,dx,dy), float4x4(0.074406139552593,-0.065593801438808,0.009669900871813,0.131203904747963,0.090378127992153,-0.016437660902739,0.062224034219980,0.029491284862161,0.074666820466518,-0.022076278924942,-0.067500591278076,0.053765248507261,-0.236268728971481,-0.120843954384327,0.053119305521250,0.103094324469566));
res += mul(Get(s3,-dx,-dy), float4x4(-0.149572342634201,0.070977367460728,0.144164279103279,0.252890557050705,0.053651768714190,0.120296545326710,-0.013885674998164,-0.137649759650230,-0.005835708230734,-0.009677522815764,-0.062375005334616,-0.006322401110083,0.182489752769470,0.075790159404278,0.072117805480957,0.017158726230264));
res += mul(Get(s3,-dx,0), float4x4(0.133677825331688,0.008670791052282,-0.080905646085739,-0.019198164343834,0.044909454882145,0.059972032904625,-0.059486050158739,-0.050124209374189,-0.014907745644450,0.076971597969532,-0.202955961227417,0.005731740500778,-0.090857014060020,0.003935842309147,-0.011102260090411,-0.091346435248852));
res += mul(Get(s3,-dx,dy), float4x4(-0.135799676179886,0.036103881895542,-0.094588272273540,-0.010299988090992,-0.110523097217083,-0.018302511423826,-0.084699988365173,-0.089949175715446,-0.057046908885241,-0.011012740433216,-0.022615095600486,-0.105608105659485,-0.277756422758102,0.140661448240280,-0.132975697517395,0.116681165993214));
res += mul(Get(s3,0,-dy), float4x4(-0.050917904824018,-0.207296252250671,0.083980441093445,0.048756726086140,0.000060331556597,-0.168370395898819,0.055207174271345,0.091668471693993,0.068979404866695,-0.101313561201096,-0.182210087776184,0.034628137946129,0.215167909860611,0.112395688891411,0.094313807785511,0.043157026171684));
res += mul(Get(s3,0,0), float4x4(0.165749311447144,-0.017713349312544,-0.117584414780140,-0.184677436947823,-0.154502093791962,0.129647642374039,-0.015139869414270,0.010524344630539,-0.077603742480278,0.158699378371239,0.066561840474606,0.040631894022226,-0.038836326450109,0.007551013492048,-0.023448778316379,-0.070852816104889));
res += mul(Get(s3,0,dy), float4x4(0.032363705337048,0.161098703742027,-0.190413370728493,0.002675030147657,0.039825547486544,-0.092583283782005,-0.055837579071522,0.215075194835663,0.010747317224741,0.036205839365721,-0.161983639001846,0.005681608337909,0.079793438315392,-0.056778680533171,-0.147875785827637,0.033360995352268));
res += mul(Get(s3,dx,-dy), float4x4(-0.061091881245375,-0.057056751102209,-0.193349584937096,0.044376831501722,-0.147908106446266,-0.010831012390554,0.133865326642990,0.056032560765743,-0.067390501499176,0.035070840269327,-0.045490127056837,0.297184854745865,-0.041631683707237,0.049477901309729,-0.079358749091625,-0.027700923383236));
res += mul(Get(s3,dx,0), float4x4(0.036290287971497,0.010767662897706,-0.042446177452803,-0.105287224054337,-0.185544803738594,-0.226493999361992,0.027325594797730,-0.070620045065880,0.186758220195770,0.120737999677658,-0.066487520933151,0.025641430169344,0.078261114656925,-0.037170592695475,-0.121201731264591,0.073888950049877));
res += mul(Get(s3,dx,dy), float4x4(0.151021927595139,-0.049112379550934,-0.060239180922508,0.053843941539526,-0.001791611430235,0.088134549558163,0.256833136081696,0.141808614134789,-0.179471299052238,-0.116297669708729,0.090555012226105,0.058953333646059,-0.034321859478951,0.028975434601307,0.142462372779846,0.228279963135719));
res = max(float4(0,0,0,0), res);
return res;
}
