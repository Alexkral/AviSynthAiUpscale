sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.247515097260475,0.004563621245325,0.013111855834723,0.054654628038406,-0.124945960938931,0.073214545845985,-0.084943771362305,-0.035506892949343,-0.132516801357269,0.092882513999939,0.033921591937542,-0.069191172719002,0.125728502869606,0.046806659549475,-0.034927673637867,-0.121919102966785));
res += mul(Get(s0,-dx,0), float4x4(0.088436461985111,0.245415955781937,-0.102164864540100,-0.144258126616478,0.028695017099380,0.008418921381235,-0.078910633921623,0.209561571478844,-0.012804473750293,-0.070060931146145,-0.085895337164402,0.126491859555244,0.077140204608440,0.089778788387775,0.150469169020653,-0.032228231430054));
res += mul(Get(s0,-dx,dy), float4x4(-0.014306277036667,0.090167723596096,-0.052722819149494,0.127851143479347,-0.100732855498791,0.000760831288062,0.018016714602709,-0.118752151727676,0.081852905452251,-0.062947228550911,-0.120404243469238,0.062067899852991,-0.039114464074373,0.067716300487518,-0.044727750122547,0.179944649338722));
res += mul(Get(s0,0,-dy), float4x4(0.102705545723438,0.102732680737972,0.115625001490116,-0.007137142121792,-0.247922837734222,-0.255397230386734,-0.003298336407170,-0.216247126460075,-0.173558071255684,0.185675069689751,-0.104846827685833,0.003257947275415,0.089562341570854,-0.036354765295982,-0.182364940643311,0.073021605610847));
res += mul(Get(s0,0,0), float4x4(-0.046413488686085,-0.252124547958374,0.064895175397396,-0.120104685425758,0.031161531805992,0.063715703785419,0.161704257130623,-0.183492213487625,0.082116529345512,-0.268469154834747,-0.168494984507561,0.079963386058807,-0.131502136588097,-0.161465883255005,0.005835280753672,-0.005073017906398));
res += mul(Get(s0,0,dy), float4x4(-0.088974304497242,-0.091220557689667,0.023227848112583,-0.053820278495550,-0.038153078407049,0.148700028657913,-0.151351094245911,-0.015192011371255,0.110898382961750,0.184282734990120,0.022377409040928,-0.099605165421963,0.041130829602480,-0.059641718864441,0.227644503116608,0.123316727578640));
res += mul(Get(s0,dx,-dy), float4x4(0.060139358043671,0.087881028652191,-0.161836043000221,-0.050428781658411,-0.187875598669052,-0.010012346319854,0.015245035290718,0.064184956252575,0.033815406262875,0.010905579663813,0.002655110554770,-0.052835270762444,0.051137477159500,-0.015044867061079,-0.045058552175760,0.155555382370949));
res += mul(Get(s0,dx,0), float4x4(-0.049543641507626,0.085662268102169,0.061298236250877,0.037480596452951,-0.085868023335934,-0.055352747440338,0.177319005131721,0.078500963747501,0.052823234349489,0.069286547601223,0.245615378022194,-0.022158255800605,-0.091768778860569,-0.072647616267204,-0.030863875523210,0.166771307587624));
res += mul(Get(s0,dx,dy), float4x4(0.091175682842731,0.038802538067102,0.049179483205080,-0.005699838511646,-0.004071040078998,0.219195976853371,-0.073394566774368,-0.092260569334030,-0.006234868429601,-0.056970566511154,-0.069986313581467,-0.060218550264835,-0.016512954607606,0.095521591603756,0.054090473800898,-0.087704345583916));
res += mul(Get(s1,-dx,-dy), float4x4(0.042335182428360,-0.037140391767025,-0.002706185448915,-0.005157145205885,0.123717084527016,0.068669266998768,0.096682436764240,-0.048025675117970,-0.019004756584764,-0.024743085727096,-0.070623926818371,0.083848074078560,-0.070844106376171,0.026160480454564,0.191999390721321,0.134005069732666));
res += mul(Get(s1,-dx,0), float4x4(0.060819961130619,0.054092969745398,-0.158307045698166,0.006891486234963,0.127077594399452,-0.041706763207912,0.011591849848628,-0.147357672452927,0.067354224622250,0.026721773669124,-0.082514196634293,-0.080958612263203,-0.053837273269892,0.012429652735591,0.077657237648964,0.188456997275352));
res += mul(Get(s1,-dx,dy), float4x4(0.113415785133839,-0.084249876439571,-0.001431599142961,0.012314518913627,0.100525885820389,0.078171364963055,-0.194781795144081,-0.134310036897659,0.004584806039929,0.046493969857693,0.049572687596083,0.095740519464016,0.221918493509293,0.050856858491898,0.110047735273838,0.012788422405720));
res += mul(Get(s1,0,-dy), float4x4(-0.199850276112556,-0.056099109351635,0.053032778203487,-0.094941027462482,-0.013278527185321,-0.037238832563162,0.024643043056130,-0.133265942335129,-0.005864868871868,0.165633529424667,-0.186194270849228,0.023710679262877,-0.026061473414302,0.046535391360521,0.073427453637123,-0.120804078876972));
res += mul(Get(s1,0,0), float4x4(-0.069762192666531,-0.192513138055801,-0.036769542843103,0.058100454509258,0.063207216560841,-0.108705207705498,-0.010527093894780,0.304417580366135,0.092522315680981,-0.108210727572441,0.028395585715771,0.007209852803499,0.093102373182774,-0.028804590925574,0.129427820444107,0.062702648341656));
res += mul(Get(s1,0,dy), float4x4(0.120350845158100,0.023655798286200,0.105103060603142,0.125371545553207,-0.005610054358840,0.107362024486065,-0.064284093677998,-0.102882400155067,0.135559201240540,-0.040238380432129,0.029996156692505,-0.066850185394287,0.095319308340549,-0.037513677030802,0.043646991252899,0.053035318851471));
res += mul(Get(s1,dx,-dy), float4x4(0.031096749007702,0.105761319398880,-0.129330635070801,-0.189631566405296,-0.001098885200918,0.017378464341164,-0.035867795348167,0.000442701944849,0.008395411074162,0.087721474468708,0.030344665050507,0.038312777876854,0.103585243225098,0.017348535358906,0.066129855811596,-0.121052101254463));
res += mul(Get(s1,dx,0), float4x4(0.043080497533083,-0.138685882091522,0.009515612386167,-0.171357944607735,0.075056381523609,-0.077124036848545,0.141324505209923,-0.143841117620468,-0.002747656311840,-0.261651128530502,0.082899980247021,0.033256616443396,0.038690946996212,0.018644005060196,-0.010969542898238,0.064025901257992));
res += mul(Get(s1,dx,dy), float4x4(-0.029751759022474,-0.021909490227699,-0.077621467411518,-0.098477587103844,0.012684378772974,-0.004067561123520,0.061557117849588,0.092618644237518,-0.004005802329630,-0.208807364106178,0.268235087394714,0.106996349990368,0.068830855190754,0.033918526023626,-0.058707039803267,0.059715691953897));
res += mul(Get(s2,-dx,-dy), float4x4(0.010940646752715,0.151968017220497,-0.031439132988453,0.048536140471697,-0.053094174712896,-0.086405344307423,-0.045838788151741,0.089996047317982,-0.135895580053329,-0.083925366401672,0.163385972380638,-0.038463968783617,0.009957308880985,0.054527983069420,-0.167603924870491,-0.060460742563009));
res += mul(Get(s2,-dx,0), float4x4(-0.158508449792862,0.117290183901787,0.126202374696732,0.121636874973774,-0.148925438523293,-0.082021236419678,0.045357406139374,0.096085302531719,-0.145382136106491,-0.051804039627314,-0.033268924802542,0.060889851301908,-0.067462585866451,-0.153584152460098,0.025837920606136,0.059842057526112));
res += mul(Get(s2,-dx,dy), float4x4(-0.029895696789026,-0.050774101167917,0.262232631444931,0.011067979037762,0.027735710144043,0.127179056406021,-0.244439959526062,-0.151953652501106,0.013886389322579,-0.076019652187824,0.073244519531727,-0.049113880842924,-0.086129672825336,0.040230225771666,-0.062169030308723,-0.054674316197634));
res += mul(Get(s2,0,-dy), float4x4(-0.068092189729214,0.229173466563225,-0.003109016688541,-0.006802139338106,-0.034206233918667,0.015615350566804,-0.042814526706934,-0.137947782874107,-0.084023743867874,0.010235235095024,-0.029490184038877,-0.022129990160465,0.061965126544237,0.081613548099995,-0.009581103920937,-0.101381778717041));
res += mul(Get(s2,0,0), float4x4(-0.110137291252613,0.209502905607224,0.022578405216336,-0.003058372996747,-0.168031811714172,0.013009488582611,-0.100189238786697,-0.056057892739773,-0.043996382504702,-0.291395217180252,-0.004574932623655,-0.040774982422590,-0.021487945690751,-0.114948712289333,-0.099089585244656,0.116974852979183));
res += mul(Get(s2,0,dy), float4x4(0.008147705346346,0.226922795176506,-0.039272613823414,-0.039425082504749,0.039785988628864,-0.012478694319725,-0.012248647399247,-0.043692152947187,0.081312291324139,0.057882566004992,-0.024550793692470,0.049615986645222,0.134221196174622,-0.127693340182304,-0.030534887686372,0.063564710319042));
res += mul(Get(s2,dx,-dy), float4x4(-0.015604767948389,-0.112084761261940,-0.057496801018715,-0.072039015591145,0.074301801621914,0.081820420920849,0.038117997348309,-0.136453226208687,-0.053251229226589,-0.014992714859545,-0.102598302066326,0.149572953581810,-0.080602973699570,0.082041971385479,0.053232990205288,0.092047296464443));
res += mul(Get(s2,dx,0), float4x4(0.115640722215176,-0.046759169548750,-0.048015266656876,0.088932484388351,0.281967908143997,-0.211581021547318,0.077693633735180,0.086123891174793,0.238714605569839,0.076147437095642,-0.120970427989960,0.034047294408083,-0.073472127318382,-0.067591540515423,0.069202698767185,0.069625385105610));
res += mul(Get(s2,dx,dy), float4x4(-0.064888954162598,-0.020302575081587,-0.091187790036201,-0.006843878887594,-0.062712639570236,0.010101146996021,0.016055347397923,-0.121298819780350,0.167660549283028,0.037110850214958,-0.217757642269135,0.088648408651352,-0.174321189522743,-0.082326933741570,-0.044786158949137,-0.104185171425343));
res += mul(Get(s3,-dx,-dy), float4x4(-0.123000830411911,0.017960714176297,0.042875744402409,-0.072533920407295,-0.058566864579916,0.287415742874146,-0.127926558256149,0.023103771731257,-0.031155174598098,0.048287291079760,0.007528273388743,-0.057579111307859,0.087061621248722,0.047834794968367,0.106860972940922,0.157606795430183));
res += mul(Get(s3,-dx,0), float4x4(-0.114516295492649,-0.126262262463570,-0.185483306646347,0.132310137152672,-0.166678026318550,0.026742707937956,0.037988696247339,0.079175189137459,0.070505656301975,0.066243909299374,0.097799025475979,-0.043929819017649,-0.191393479704857,0.201641693711281,0.003478258615360,-0.169526264071465));
res += mul(Get(s3,-dx,dy), float4x4(-0.092162586748600,0.037498187273741,-0.274019181728363,-0.082450523972511,0.222311779856682,0.026291931048036,-0.168650656938553,0.042647849768400,-0.205539911985397,-0.254270225763321,-0.116671353578568,-0.119674645364285,-0.017560346052051,-0.018069596961141,-0.088044658303261,0.073064312338829));
res += mul(Get(s3,0,-dy), float4x4(-0.005077056121081,-0.047731440514326,-0.063979804515839,-0.002805458148941,0.064686551690102,0.182626768946648,0.091151565313339,0.088654093444347,-0.049963288009167,-0.003145055612549,-0.025606432929635,0.084051080048084,-0.058006957173347,0.084138512611389,-0.024151656776667,0.112800337374210));
res += mul(Get(s3,0,0), float4x4(-0.000915640383027,-0.070011466741562,0.246183991432190,-0.044294379651546,-0.197171971201897,0.056932076811790,0.002411840716377,-0.094974823296070,-0.046453442424536,0.075288183987141,0.171737298369408,0.088465608656406,0.068658724427223,-0.069738492369652,0.111684694886208,0.118134096264839));
res += mul(Get(s3,0,dy), float4x4(-0.045342039316893,-0.042900361120701,0.076484352350235,0.029014250263572,0.062841698527336,0.028046621009707,-0.145870342850685,-0.211235404014587,0.107321038842201,-0.046525523066521,0.089932888746262,0.214014351367950,-0.169206276535988,0.160461649298668,-0.096274055540562,0.001747760223225));
res += mul(Get(s3,dx,-dy), float4x4(0.096853747963905,-0.072134718298912,0.059120774269104,-0.056352365761995,0.012918969616294,-0.080977708101273,0.072108276188374,-0.008773149922490,-0.120257943868637,-0.026646489277482,0.150189429521561,-0.022826632484794,-0.079603426158428,-0.043560829013586,-0.040123622864485,0.028643252328038));
res += mul(Get(s3,dx,0), float4x4(-0.022373778745532,0.190000951290131,0.133345037698746,0.055097926408052,0.108441136777401,-0.009715045802295,0.152171432971954,-0.205524697899818,-0.071675263345242,-0.087868772447109,0.195818990468979,0.126109585165977,-0.086085446178913,-0.063315458595753,0.053011719137430,-0.144060671329498));
res += mul(Get(s3,dx,dy), float4x4(0.110452860593796,0.085786186158657,0.090483479201794,0.018001789227128,0.023422418162227,-0.230342775583267,0.093341015279293,0.033900309354067,-0.078821465373039,-0.250862658023834,0.058203421533108,0.044421866536140,-0.076645471155643,0.115265645086765,0.138011962175369,0.071141391992569));
res = max(float4(0,0,0,0), res);
return res;
}
