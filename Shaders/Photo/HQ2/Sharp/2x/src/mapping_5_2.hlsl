sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.064238987863064,-0.145673990249634,-0.102430216968060,0.038864027708769,0.108881630003452,-0.146904081106186,-0.044536799192429,0.009088708087802,0.047734379768372,0.052928727120161,0.059251159429550,-0.323505640029907,0.133354768157005,0.012305116280913,-0.043339207768440,-0.003398668719456));
res += mul(Get(s0,-dx,0), float4x4(0.164830341935158,0.007207075133920,0.066640153527260,0.026709722355008,0.026685010641813,0.062478840351105,0.076696015894413,-0.201359316706657,-0.097916208207607,0.240834534168243,-0.028586028143764,-0.141394048929214,0.098461091518402,-0.022470589727163,-0.022879900410771,-0.050631601363420));
res += mul(Get(s0,-dx,dy), float4x4(-0.003095888765529,-0.186960786581039,-0.097107179462910,0.098520666360855,0.051515810191631,0.051087517291307,-0.042832482606173,0.068947717547417,0.226782381534576,0.224254369735718,-0.108556851744652,0.132187500596046,-0.055075179785490,-0.014838101342320,0.020324669778347,-0.024003814905882));
res += mul(Get(s0,0,-dy), float4x4(-0.008243980817497,-0.089594364166260,0.020671552047133,-0.090598315000534,0.078406751155853,-0.049071483314037,0.134585574269295,-0.060228735208511,0.054270748049021,0.047743186354637,0.033615417778492,0.024210847914219,-0.063007198274136,-0.074530869722366,0.062875069677830,0.011190638877451));
res += mul(Get(s0,0,0), float4x4(0.043739192187786,0.107837066054344,0.050073105841875,-0.125004604458809,0.112707249820232,-0.090792879462242,0.085714966058731,0.068937689065933,0.034250084310770,-0.035636551678181,-0.012819886207581,-0.024038188159466,0.021373527124524,-0.020055579021573,-0.064816884696484,-0.140445515513420));
res += mul(Get(s0,0,dy), float4x4(-0.026880100369453,0.177041262388229,0.014294388704002,0.138263985514641,0.232495129108429,-0.034740976989269,0.048177625983953,-0.029900997877121,0.064509257674217,0.034293133765459,-0.035613980144262,0.132360443472862,-0.181854933500290,-0.047622606158257,-0.085888765752316,0.038911182433367));
res += mul(Get(s0,dx,-dy), float4x4(0.041840225458145,0.021048400551081,-0.046037100255489,0.068521581590176,0.000006714370102,0.060754086822271,-0.124341920018196,0.097029961645603,-0.026122637093067,0.053386967629194,0.079113632440567,0.053372271358967,0.049336262047291,0.018722889944911,0.145504266023636,0.039523608982563));
res += mul(Get(s0,dx,0), float4x4(0.005928218364716,-0.075110711157322,-0.001402684603818,0.083526581525803,0.113883391022682,-0.120840892195702,-0.062144540250301,-0.001347607467324,0.108288735151291,-0.084446616470814,-0.016740536317229,-0.024834474548697,0.116345778107643,0.046703848987818,-0.059929601848125,-0.031574424356222));
res += mul(Get(s0,dx,dy), float4x4(0.034721244126558,-0.190554693341255,0.062443073838949,0.041497789323330,0.151165515184402,-0.089156724512577,0.007651983760297,0.048373796045780,-0.042386397719383,-0.038506526499987,0.114481307566166,0.023899136111140,-0.006610708776861,-0.007635192945600,-0.031466379761696,0.063540518283844));
res += mul(Get(s1,-dx,-dy), float4x4(0.075401328504086,0.078176051378250,-0.100637651979923,0.005484249442816,-0.121595777571201,0.057613726705313,0.006591836921871,-0.017975853756070,-0.099377952516079,0.114331729710102,0.148312255740166,0.063502490520477,0.031878083944321,-0.119116537272930,0.033334925770760,-0.106924593448639));
res += mul(Get(s1,-dx,0), float4x4(-0.005523182451725,-0.171871557831764,-0.201060339808464,0.083242550492287,0.248296260833740,0.129655033349991,-0.063571430742741,-0.006647127680480,0.019122179597616,-0.027394212782383,-0.004549920093268,-0.027878694236279,0.066755719482899,-0.081076577305794,-0.077020145952702,-0.061320140957832));
res += mul(Get(s1,-dx,dy), float4x4(-0.050345946103334,0.003426374401897,-0.035802010446787,-0.037246927618980,-0.096507906913757,-0.122688360512257,0.083340190351009,-0.075740054249763,-0.004238253459334,-0.073867343366146,-0.063079535961151,-0.053871355950832,-0.039277501404285,0.064982675015926,0.189975991845131,0.013109597377479));
res += mul(Get(s1,0,-dy), float4x4(-0.187661111354828,0.022583264857531,0.014267032966018,0.021373594179749,-0.033036600798368,-0.122456379234791,0.027631307020783,-0.200215682387352,0.060973480343819,-0.034823019057512,0.044614274054766,0.069325365126133,-0.082436643540859,0.162643849849701,-0.080968290567398,-0.106309249997139));
res += mul(Get(s1,0,0), float4x4(0.042663395404816,0.228138506412506,-0.069083780050278,0.105065137147903,0.083097167313099,0.054283991456032,0.091785691678524,-0.123165205121040,0.070010632276535,-0.029967859387398,-0.066076606512070,-0.113235577940941,0.097749009728432,-0.099072523415089,0.125750228762627,-0.068597830832005));
res += mul(Get(s1,0,dy), float4x4(-0.134581148624420,0.175983995199203,-0.096196144819260,-0.010812417604029,0.012961479835212,-0.104652009904385,0.098977379500866,-0.051204249262810,0.080117478966713,0.073543906211853,0.095869414508343,0.080029606819153,-0.072884321212769,-0.023549195379019,0.090385310351849,0.001483097439632));
res += mul(Get(s1,dx,-dy), float4x4(0.125936329364777,-0.083262205123901,0.016085451468825,0.071810334920883,0.100586220622063,-0.005926339887083,-0.098170831799507,0.107209473848343,-0.192498520016670,0.135302901268005,0.013730839826167,0.191367536783218,-0.110857121646404,0.189927235245705,-0.147995889186859,-0.071503661572933));
res += mul(Get(s1,dx,0), float4x4(-0.073260888457298,-0.164438113570213,0.068029753863811,0.071598723530769,0.024260636419058,0.003021185752004,-0.134198933839798,0.023448711261153,0.135524436831474,-0.030805269256234,0.224964618682861,-0.056285578757524,0.265406519174576,0.090899974107742,0.060647714883089,-0.039977349340916));
res += mul(Get(s1,dx,dy), float4x4(-0.066173635423183,0.077511303126812,-0.092071317136288,0.051802169531584,0.173878163099289,-0.136367037892342,0.039230115711689,-0.153828933835030,-0.203553840517998,-0.096606299281120,0.069513410329819,-0.139396533370018,0.004714312497526,-0.062500111758709,0.057470683008432,-0.318671464920044));
res += mul(Get(s2,-dx,-dy), float4x4(-0.138720706105232,0.166364729404449,-0.026617795228958,0.033227033913136,0.111546874046326,-0.189646229147911,0.047555200755596,0.123106040060520,0.059447158128023,-0.013387489132583,0.160849392414093,0.052492864429951,0.075220122933388,-0.060774572193623,0.017187308520079,-0.045226413756609));
res += mul(Get(s2,-dx,0), float4x4(0.097017638385296,0.005283441394567,0.013138653710485,-0.259151905775070,-0.035557359457016,0.066865257918835,-0.280928909778595,-0.180991634726524,-0.026757419109344,0.058386545628309,-0.102481268346310,0.014736289158463,0.137857571244240,0.041890751570463,0.031115576624870,0.158182859420776));
res += mul(Get(s2,-dx,dy), float4x4(-0.002960379933938,0.000537605897989,0.079427592456341,0.114724740386009,-0.087010502815247,0.006783685646951,-0.110728122293949,0.008404891006649,0.072098739445210,-0.098939798772335,0.049942873418331,-0.015304032713175,-0.030459864065051,0.070787936449051,-0.251054972410202,0.102825604379177));
res += mul(Get(s2,0,-dy), float4x4(0.046551700681448,0.094925895333290,0.045222688466311,0.128816485404968,0.123128771781921,-0.084060974419117,0.170053854584694,0.004680095240474,-0.057238798588514,-0.121970929205418,-0.006130063440651,0.209558889269829,-0.041005361825228,0.035942461341619,0.071907781064510,0.117481037974358));
res += mul(Get(s2,0,0), float4x4(0.010592137463391,0.051868598908186,-0.060713689774275,0.068830750882626,-0.014747600071132,0.079323410987854,-0.004676027223468,0.008990203030407,0.170691519975662,-0.080203451216221,-0.167884811758995,-0.189022168517113,0.082206979393959,-0.035745594650507,-0.058395214378834,0.141997992992401));
res += mul(Get(s2,0,dy), float4x4(-0.050387505441904,0.250405371189117,-0.093942195177078,0.001663508825004,-0.126754537224770,0.030530445277691,-0.088767439126968,-0.101735584437847,0.004514715634286,0.033380605280399,0.043694075196981,-0.033474788069725,0.012160461395979,0.127042323350906,-0.040246717631817,-0.157410472631454));
res += mul(Get(s2,dx,-dy), float4x4(-0.020883519202471,-0.050162684172392,-0.146914929151535,-0.070828422904015,-0.135644823312759,0.223490834236145,0.057061504572630,0.029018377885222,-0.178809478878975,0.095183230936527,-0.048810232430696,0.134681776165962,-0.027516795322299,-0.106462493538857,0.015160780400038,-0.060591939836740));
res += mul(Get(s2,dx,0), float4x4(0.113911189138889,0.037196442484856,0.117662690579891,0.172240093350410,0.211851492524147,-0.002113193506375,-0.031775094568729,-0.095774404704571,0.005115323234349,0.101135365664959,-0.052147991955280,0.177828282117844,-0.028895365074277,-0.006499749608338,0.123605236411095,-0.203718334436417));
res += mul(Get(s2,dx,dy), float4x4(0.023165389895439,0.048821311444044,0.192193418741226,0.105225630104542,-0.125625744462013,-0.032664228230715,-0.078787952661514,0.274186730384827,-0.043773707002401,-0.031797375530005,-0.164206936955452,-0.061091341078281,0.000399007141823,-0.050301600247622,0.177323430776596,-0.120057873427868));
res += mul(Get(s3,-dx,-dy), float4x4(0.059102840721607,-0.091098591685295,-0.063342027366161,-0.064659491181374,0.039111573249102,0.000844144495204,0.019220663234591,-0.042146567255259,-0.004091807175428,-0.051445513963699,0.066988252103329,-0.157717183232307,0.095515742897987,-0.043657906353474,-0.033308528363705,0.125048607587814));
res += mul(Get(s3,-dx,0), float4x4(0.001125410781242,-0.054360102862120,-0.139901354908943,0.012442391365767,0.048637118190527,0.018637452274561,-0.114240944385529,-0.103247784078121,0.000054531923524,-0.137745186686516,-0.015252993442118,-0.059474900364876,-0.034283403307199,-0.137489333748817,0.099461816251278,-0.213980689644814));
res += mul(Get(s3,-dx,dy), float4x4(-0.056897256523371,-0.048197820782661,0.122034236788750,-0.113952115178108,0.039286255836487,-0.204382359981537,-0.002325548091903,-0.100266538560390,-0.079550139605999,0.059734921902418,0.030407484620810,-0.011668520048261,0.044337220489979,-0.111256755888462,-0.176284819841385,-0.082202926278114));
res += mul(Get(s3,0,-dy), float4x4(-0.143978014588356,-0.168149784207344,0.040159188210964,-0.055459655821323,-0.053723745048046,-0.105180971324444,-0.003591138636693,0.021775489673018,-0.120217323303223,0.150566056370735,0.015548846684396,-0.124311290681362,-0.013781678862870,-0.028950924053788,-0.071410320699215,0.077131688594818));
res += mul(Get(s3,0,0), float4x4(0.062785968184471,0.027468610554934,-0.081460677087307,-0.022143457084894,-0.063901312649250,-0.092227801680565,0.152822867035866,0.112728804349899,-0.055444717407227,0.049701470881701,-0.114896804094315,-0.069973520934582,0.181175187230110,-0.014548394829035,0.177746906876564,0.142027914524078));
res += mul(Get(s3,0,dy), float4x4(0.065667025744915,0.071206338703632,-0.131813690066338,-0.083951495587826,-0.021912386640906,0.126982450485229,0.055805891752243,0.020447848364711,0.007254264317453,0.059886336326599,0.065184831619263,0.283344119787216,-0.122229963541031,-0.036564163863659,-0.160421043634415,-0.121240660548210));
res += mul(Get(s3,dx,-dy), float4x4(-0.019027197733521,0.032731872051954,-0.075523070991039,-0.140922084450722,0.015849702060223,0.025785444304347,-0.068210847675800,0.058138377964497,-0.000192138410057,-0.066042430698872,-0.092671044170856,0.046262294054031,0.013564574532211,0.121468365192413,0.164553090929985,-0.175645992159843));
res += mul(Get(s3,dx,0), float4x4(0.000522654503584,0.054696779698133,-0.017519142478704,0.080429054796696,-0.099293276667595,0.070128813385963,-0.029638305306435,-0.231694355607033,-0.056878242641687,-0.162786960601807,-0.045099686831236,0.134869739413261,0.077218435704708,-0.077304348349571,-0.154207199811935,-0.035938210785389));
res += mul(Get(s3,dx,dy), float4x4(0.113803632557392,0.083187587559223,-0.084712058305740,0.225539445877075,-0.009625337086618,-0.038228470832109,0.083576083183289,-0.016133408993483,0.160664573311806,0.117353267967701,0.015712764114141,-0.191159546375275,0.165471702814102,-0.029715437442064,0.070927083492279,0.130516722798347));
res = max(float4(0,0,0,0), res);
return res;
}
