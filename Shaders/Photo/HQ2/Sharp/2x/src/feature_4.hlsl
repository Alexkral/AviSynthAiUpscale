sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.225493401288986,0.232983827590942,-0.025795796886086,-0.190745070576668) * Get(-dx,-dy);
res += float4(-0.126219689846039,-0.165788859128952,-0.134971946477890,0.005882800556719) * Get(-dx,0);
res += float4(-0.113882042467594,-0.087061189115047,0.058667823672295,-0.032339371740818) * Get(-dx,dy);
res += float4(0.061844259500504,0.264987438917160,-0.031904552131891,-0.122175469994545) * Get(0,-dy);
res += float4(0.090406261384487,0.040655273944139,-0.075093239545822,0.153838083148003) * Get(0,0);
res += float4(0.014137191697955,0.085759386420250,-0.063522689044476,-0.032682877033949) * Get(0,dy);
res += float4(0.068836614489555,-0.043568253517151,-0.148358136415482,0.035774502903223) * Get(dx,-dy);
res += float4(-0.142284393310547,-0.174763634800911,-0.104315295815468,-0.129603773355484) * Get(dx,0);
res += float4(0.056252025067806,0.038673870265484,-0.109475970268250,0.062463682144880) * Get(dx,dy);
res = max(float4(0,0,0,0), res);
return res;
}
