sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.011481802910566,-0.007911246269941,0.076769500970840,-0.018294278532267,-0.020488915964961,-0.130802631378174,0.018780425190926,0.050460699945688,-0.040024552494287,0.053161241114140,0.074633121490479,-0.004967489745468,0.019129009917378,0.010447761043906,0.066848717629910,-0.054185952991247));
res += mul(Get(s0,-dx,0), float4x4(0.035964999347925,0.165772557258606,0.060792811214924,-0.090802274644375,-0.040691033005714,-0.016829654574394,-0.001517008407973,-0.039070442318916,0.169494450092316,-0.037465631961823,-0.036684475839138,-0.071229979395866,0.072138965129852,0.031681716442108,0.067013345658779,-0.031147295609117));
res += mul(Get(s0,-dx,dy), float4x4(-0.080640397965908,0.137164071202278,0.003335881279781,-0.082585565745831,0.109178327023983,-0.015299975872040,0.007924636825919,0.117242671549320,-0.154512971639633,-0.242012217640877,0.075121559202671,0.020147234201431,0.137725561857224,-0.054275497794151,-0.048034727573395,0.080992475152016));
res += mul(Get(s0,0,-dy), float4x4(-0.116207130253315,0.055918361991644,-0.152596727013588,-0.064756721258163,-0.053107086569071,0.076282329857349,-0.016640869900584,0.005259512923658,0.039182271808386,0.125176295638084,-0.098955675959587,0.002790601458400,0.006334677338600,0.063372097909451,0.055000003427267,0.025564927607775));
res += mul(Get(s0,0,0), float4x4(0.040402963757515,-0.033325515687466,0.054085373878479,-0.114414937794209,-0.198570802807808,0.075496457517147,0.218523666262627,0.100155629217625,-0.083086542785168,-0.104115694761276,0.004571750760078,-0.188155129551888,-0.061529863625765,0.152589067816734,-0.070639573037624,0.056368298828602));
res += mul(Get(s0,0,dy), float4x4(-0.095213137567043,0.074823766946793,0.148584231734276,0.262715846300125,-0.221983850002289,0.252354353666306,-0.038936670869589,-0.074007570743561,-0.106683351099491,-0.067804224789143,-0.138432249426842,-0.178669303655624,-0.000884235312697,-0.091655522584915,0.062832526862621,0.125663578510284));
res += mul(Get(s0,dx,-dy), float4x4(-0.068834319710732,0.008962073363364,-0.087321311235428,-0.071676246821880,-0.013685869053006,0.166296020150185,-0.001888804836199,-0.057125929743052,-0.051510356366634,-0.054246988147497,0.006751928012818,0.055574439466000,0.028648126870394,-0.318253755569458,-0.097701035439968,-0.029882231727242));
res += mul(Get(s0,dx,0), float4x4(0.175398513674736,0.113410614430904,0.055212404578924,0.034895069897175,-0.099891193211079,-0.089332051575184,0.005609814077616,0.014870772138238,-0.048060610890388,-0.159237027168274,0.045130912214518,0.041530430316925,-0.157762035727501,-0.081398904323578,0.095211669802666,0.023732291534543));
res += mul(Get(s0,dx,dy), float4x4(0.074111789464951,-0.035479072481394,0.052435368299484,0.113794267177582,-0.064111694693565,0.017808320000768,-0.009749973192811,-0.022536201402545,0.120802007615566,0.083327837288380,0.070721864700317,0.005286375526339,0.166242018342018,0.091860689222813,0.025690285488963,0.128245487809181));
res += mul(Get(s1,-dx,-dy), float4x4(0.020295009016991,-0.006094701122493,0.122661925852299,0.174490094184875,-0.046327382326126,0.116360887885094,-0.069154143333435,0.074048496782780,-0.306304961442947,-0.103773146867752,-0.054305627942085,-0.034314803779125,0.005234268493950,-0.004611152689904,0.030168348923326,0.039910055696964));
res += mul(Get(s1,-dx,0), float4x4(0.062085375189781,-0.155406832695007,0.082861401140690,0.031509585678577,0.097012341022491,0.164424970746040,0.143889129161835,-0.005031338427216,-0.034682806581259,-0.169648423790932,0.102915607392788,0.020651193335652,0.053480006754398,-0.115155674517155,-0.012294610962272,0.102775029838085));
res += mul(Get(s1,-dx,dy), float4x4(0.042395509779453,0.019068229943514,-0.216944500803947,-0.078179776668549,0.120294854044914,0.016059696674347,0.042412247508764,0.007871972396970,-0.033580791205168,-0.010228837840259,0.175521731376648,0.080332949757576,0.084316194057465,-0.027013389393687,-0.193155944347382,-0.042095322161913));
res += mul(Get(s1,0,-dy), float4x4(0.060853704810143,0.072194300591946,-0.070631973445415,-0.051978532224894,0.091022148728371,-0.054033316671848,0.065090790390968,0.103669226169586,-0.052182245999575,-0.015738284215331,-0.139337062835693,0.000130966771394,-0.024493344128132,0.110772259533405,0.056664574891329,-0.016437439247966));
res += mul(Get(s1,0,0), float4x4(0.039382245391607,0.035718031227589,-0.130102753639221,-0.058563042432070,-0.105689823627472,-0.065205775201321,-0.102371789515018,-0.008192969486117,0.187409207224846,0.132894158363342,-0.049937509000301,-0.164880782365799,-0.094014808535576,0.125915482640266,0.039458807557821,-0.166959062218666));
res += mul(Get(s1,0,dy), float4x4(0.083311744034290,-0.015072851441801,-0.089465834200382,-0.024016533046961,-0.044835686683655,0.045256663113832,-0.091639168560505,-0.109728015959263,-0.009312502108514,-0.117490284144878,-0.027538070455194,0.066764302551746,0.215966299176216,-0.029503146186471,0.163690909743309,0.023899415507913));
res += mul(Get(s1,dx,-dy), float4x4(-0.058344330638647,-0.165078535676003,0.016430787742138,-0.041893843561411,-0.034218534827232,0.128241524100304,0.063811026513577,-0.032631143927574,-0.144647508859634,-0.070423722267151,-0.066033907234669,0.022385587915778,-0.023775076493621,0.091440223157406,-0.085093386471272,-0.204106763005257));
res += mul(Get(s1,dx,0), float4x4(0.018675360828638,0.136080056428909,0.095278069376945,-0.034828029572964,0.003791463561356,0.077766314148903,-0.026315117254853,0.020501360297203,0.108517736196518,-0.020811472088099,0.218800783157349,-0.056783631443977,0.037018042057753,-0.131253913044930,0.075610160827637,-0.123883321881294));
res += mul(Get(s1,dx,dy), float4x4(0.082002736628056,-0.000679218908772,-0.063409700989723,0.001260616118088,-0.084381058812141,-0.113140575587749,-0.205513358116150,0.101170517504215,-0.025620928034186,0.021313965320587,0.105065785348415,-0.107775114476681,-0.083000645041466,-0.000892845389899,0.006409608758986,-0.080703586339951));
res += mul(Get(s2,-dx,-dy), float4x4(0.054051909595728,-0.097696945071220,0.043760456144810,0.246336385607719,-0.141416788101196,0.004123442340642,-0.014264992438257,0.067484766244888,0.147671252489090,-0.050876531749964,-0.036027677357197,0.054059434682131,-0.195712476968765,0.034601975232363,0.163086280226707,0.005692465230823));
res += mul(Get(s2,-dx,0), float4x4(-0.056610602885485,-0.041739091277122,-0.019293580204248,-0.012872258201241,-0.068600282073021,-0.124746531248093,0.058178927749395,-0.060647971928120,0.013022182509303,0.308002173900604,-0.038495637476444,0.133845373988152,-0.041372973471880,-0.026232674717903,-0.023474736139178,-0.006247092038393));
res += mul(Get(s2,-dx,dy), float4x4(0.186937510967255,-0.050529114902020,-0.166409716010094,-0.095324955880642,0.001171139301732,-0.053749557584524,-0.205962553620338,-0.009142744354904,-0.056265629827976,-0.022033043205738,0.058027066290379,-0.082592353224754,-0.135974749922752,0.040520936250687,0.059143476188183,-0.138990402221680));
res += mul(Get(s2,0,-dy), float4x4(0.141300797462463,0.015853326767683,-0.034557491540909,0.035065177828074,0.175547137856483,0.055292434990406,-0.048786371946335,-0.048331744968891,-0.008334011770785,0.067122884094715,-0.148094579577446,-0.161761298775673,0.003029946936294,0.046142611652613,-0.033290993422270,-0.067011773586273));
res += mul(Get(s2,0,0), float4x4(-0.066796027123928,-0.056504227221012,-0.012051790952682,-0.017617247998714,-0.032905463129282,0.064294531941414,0.081915974617004,-0.102966174483299,0.165143117308617,0.057606272399426,0.005656105000526,-0.063457056879997,0.046824708580971,0.064198650419712,0.012890154495835,-0.058363247662783));
res += mul(Get(s2,0,dy), float4x4(0.043708615005016,-0.158553913235664,-0.121605776250362,-0.063142009079456,0.005257591139525,0.084976047277451,-0.178953886032104,0.179719328880310,0.161861792206764,-0.000908612681087,-0.134660109877586,-0.021085882559419,0.149060025811195,0.010259599424899,-0.040408033877611,0.263181686401367));
res += mul(Get(s2,dx,-dy), float4x4(0.025637879967690,-0.012731613591313,0.055919460952282,-0.156953439116478,-0.081225238740444,0.056159906089306,0.047998365014791,-0.080805622041225,-0.060848020017147,0.186038002371788,-0.101124078035355,0.078982934355736,-0.054448205977678,0.077544577419758,0.135384798049927,-0.079578086733818));
res += mul(Get(s2,dx,0), float4x4(-0.010547909885645,0.039632841944695,-0.074963279068470,-0.015345685184002,-0.055012587457895,0.047753896564245,0.089962713420391,-0.086499698460102,0.004619323182851,-0.035222657024860,-0.086833834648132,-0.063705779612064,-0.034477606415749,0.158591672778130,-0.121465206146240,0.037661932408810));
res += mul(Get(s2,dx,dy), float4x4(0.054842535406351,-0.108203664422035,-0.082476757466793,-0.052517313510180,-0.083852395415306,-0.152463942766190,-0.072480812668800,-0.013050791807473,0.023496147245169,0.025877749547362,0.009625441394746,-0.014145490713418,0.134204298257828,0.081674896180630,0.036734759807587,-0.004131768364459));
res += mul(Get(s3,-dx,-dy), float4x4(-0.089041791856289,0.156684413552284,0.090682074427605,0.070078931748867,-0.021070417016745,0.054803654551506,0.014447101391852,-0.040247689932585,0.110084690153599,-0.090388230979443,-0.172396630048752,0.012618085369468,-0.178205788135529,-0.124909579753876,0.248955905437469,0.060501433908939));
res += mul(Get(s3,-dx,0), float4x4(-0.043839726597071,-0.134118586778641,-0.043994516134262,0.101539902389050,-0.067956648766994,0.066170364618301,0.099206380546093,0.006692348048091,0.232124969363213,0.062515273690224,-0.023116201162338,-0.095809377729893,0.103117942810059,-0.121282719075680,-0.097010977566242,0.052618891000748));
res += mul(Get(s3,-dx,dy), float4x4(-0.080974727869034,-0.275360465049744,-0.029346443712711,0.157676637172699,-0.058331813663244,-0.018087845295668,0.173119187355042,0.174250677227974,-0.014763072133064,0.051379282027483,0.110067263245583,0.169245824217796,0.068623326718807,-0.008571698330343,-0.045743729919195,-0.086056105792522));
res += mul(Get(s3,0,-dy), float4x4(0.100480064749718,-0.213713914155960,0.011157879605889,0.013651352375746,0.247808694839478,-0.075784042477608,-0.031384874135256,0.022708399221301,0.000904568238184,-0.076731905341148,-0.044679559767246,-0.112370550632477,0.045210711658001,-0.087802030146122,-0.098402865231037,0.071641787886620));
res += mul(Get(s3,0,0), float4x4(0.166109502315521,0.140122100710869,0.189633712172508,0.051459345966578,0.078555122017860,0.071455977857113,0.100048862397671,0.014088054187596,0.016270814463496,-0.076471582055092,-0.017423762008548,-0.055470291525126,0.095857888460159,0.011401266790926,-0.015383166261017,-0.111600637435913));
res += mul(Get(s3,0,dy), float4x4(0.056926928460598,-0.047206103801727,-0.034763604402542,-0.187990605831146,-0.122587248682976,-0.105039991438389,0.074097290635109,-0.111785486340523,0.123988710343838,-0.011531424708664,-0.034550797194242,0.188610821962357,0.055552013218403,0.129748091101646,-0.036212667822838,-0.111446090042591));
res += mul(Get(s3,dx,-dy), float4x4(-0.030725659802556,-0.100218862295151,0.118227504193783,0.076268546283245,0.104638278484344,0.040404785424471,-0.047522623091936,-0.068135306239128,0.152682229876518,0.196012079715729,-0.129458665847778,-0.105494447052479,0.249245658516884,-0.092318288981915,-0.002208416815847,0.030052879825234));
res += mul(Get(s3,dx,0), float4x4(-0.059228967875242,0.046117715537548,-0.196344211697578,-0.043665435165167,0.040772587060928,0.010515075176954,-0.021280417218804,0.015535959042609,0.029382634907961,-0.037353340536356,0.107114203274250,-0.170559749007225,-0.132664665579796,0.153268501162529,-0.006377961486578,-0.030736399814487));
res += mul(Get(s3,dx,dy), float4x4(0.019349796697497,-0.021998735144734,-0.007575649768114,0.077479638159275,-0.187167733907700,0.009046073071659,-0.030698789283633,-0.112581923604012,-0.113058529794216,0.055587191134691,-0.089678406715393,0.049715664237738,-0.124684847891331,0.107967734336853,-0.103863790631294,-0.078668728470802));
res = max(float4(0,0,0,0), res);
return res;
}
