sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.023664588108659,0.040223713964224,-0.079186856746674,-0.017298543825746,-0.025075739249587,-0.074719056487083,-0.066101178526878,-0.027942474931479,-0.011446954682469,-0.042830698192120,0.036274574697018,0.126434192061424,0.148404687643051,0.024011338129640,-0.142562329769135,-0.197504863142967));
res += mul(Get(s0,-dx,0), float4x4(0.083166934549809,-0.052933633327484,0.165843844413757,0.128427609801292,0.044016506522894,0.000236053267145,-0.123701311647892,-0.020155034959316,0.108951479196548,-0.106434971094131,0.010358487255871,-0.004212064202875,0.007953919470310,-0.097973048686981,-0.067956022918224,0.032485499978065));
res += mul(Get(s0,-dx,dy), float4x4(-0.119045011699200,0.321777164936066,-0.106579706072807,-0.067748643457890,0.062405683100224,0.075878299772739,-0.089410446584225,-0.077624425292015,0.001947287702933,-0.072208061814308,0.001222371007316,0.013845926150680,0.022163121029735,0.017217054963112,0.059584118425846,-0.018458643928170));
res += mul(Get(s0,0,-dy), float4x4(0.033460997045040,-0.030053965747356,-0.087446391582489,-0.072664842009544,-0.039692878723145,0.016650373116136,-0.001656622975133,-0.112956993281841,-0.107761517167091,-0.021305073052645,-0.137164384126663,-0.055582076311111,0.131925672292709,-0.050586227327585,0.046731591224670,0.021543884649873));
res += mul(Get(s0,0,0), float4x4(0.083592243492603,-0.127105206251144,0.065152898430824,0.055014189332724,-0.093109756708145,-0.024093363434076,0.139369875192642,-0.118417322635651,0.112988501787186,0.020265709608793,0.024917570874095,0.059642076492310,-0.122431285679340,0.129579424858093,-0.042816046625376,0.263654977083206));
res += mul(Get(s0,0,dy), float4x4(0.072852797806263,-0.010320183821023,-0.111394174396992,-0.121124804019928,0.046816669404507,-0.075913734734058,0.052900217473507,0.021076261997223,-0.080272026360035,0.089494474232197,-0.013907212764025,-0.078967258334160,-0.006847735494375,-0.055385634303093,-0.037620168179274,0.124656304717064));
res += mul(Get(s0,dx,-dy), float4x4(0.034015741199255,-0.020351601764560,-0.079616285860538,0.163721516728401,-0.132946237921715,-0.035880208015442,0.041505500674248,0.053955167531967,-0.139584183692932,0.074508227407932,0.048913162201643,0.065029844641685,-0.025424219667912,0.010227801278234,-0.142334878444672,0.006358130834997));
res += mul(Get(s0,dx,0), float4x4(-0.097194150090218,-0.064632043242455,-0.098687954246998,-0.079718627035618,-0.193499699234962,-0.165775552392006,-0.029510309919715,-0.069413438439369,0.050205066800117,-0.175896987318993,0.110659070312977,0.018676362931728,-0.002063255757093,-0.024184005334973,-0.020920744165778,-0.013563808053732));
res += mul(Get(s0,dx,dy), float4x4(-0.153541713953018,0.092185296118259,-0.061853703111410,0.056267093867064,0.040302254259586,0.105045087635517,-0.068095616996288,-0.077611297369003,0.043074406683445,0.053254961967468,-0.263640195131302,-0.000787505705375,0.105297282338142,-0.092128813266754,0.059734597802162,0.069014407694340));
res += mul(Get(s1,-dx,-dy), float4x4(-0.062268398702145,0.028168013319373,-0.119507141411304,0.042260255664587,-0.015088981017470,0.033698830753565,0.042866066098213,0.097362235188484,-0.042546294629574,0.070847496390343,0.110497951507568,0.013670979067683,0.036557245999575,0.165615990757942,0.017137832939625,-0.090832188725471));
res += mul(Get(s1,-dx,0), float4x4(0.114771530032158,-0.024015139788389,-0.064853511750698,-0.064135953783989,0.079748861491680,0.023159144446254,-0.112216614186764,0.122296892106533,-0.006603175774217,-0.116429954767227,-0.000218508910621,0.108719214797020,0.145025730133057,0.148099526762962,-0.083967566490173,-0.074902571737766));
res += mul(Get(s1,-dx,dy), float4x4(-0.116093866527081,0.002008363837376,0.129186660051346,0.060750249773264,-0.073371626436710,-0.049708165228367,0.069388546049595,-0.048816803842783,0.022907461971045,-0.166408598423004,-0.023704497143626,-0.003414276754484,-0.012465011328459,0.005090993363410,0.045311383903027,0.175424471497536));
res += mul(Get(s1,0,-dy), float4x4(-0.018314011394978,0.041722357273102,-0.032721109688282,-0.103981986641884,0.099278084933758,0.022483462467790,-0.035765048116446,0.051177185028791,0.108354791998863,-0.090415321290493,-0.104952603578568,0.045990824699402,0.129446953535080,0.138409629464149,-0.038646746426821,0.211011737585068));
res += mul(Get(s1,0,0), float4x4(-0.004258548375219,-0.103106006979942,-0.093019321560860,0.010687405243516,-0.108514025807381,0.095149368047714,-0.036166194826365,-0.051373500376940,-0.061974987387657,0.095120213925838,0.013984933495522,0.127248257398605,-0.054926160722971,-0.010701430030167,0.040044859051704,-0.033753324300051));
res += mul(Get(s1,0,dy), float4x4(-0.086709715425968,0.013630932196975,-0.129749491810799,0.015642523765564,0.035033617168665,0.069574937224388,-0.055539727210999,-0.030765585601330,-0.128516033291817,-0.043864503502846,-0.160800173878670,-0.047999732196331,0.132090017199516,-0.051093269139528,-0.052854239940643,0.095706224441528));
res += mul(Get(s1,dx,-dy), float4x4(-0.047487132251263,0.187704116106033,-0.147497937083244,0.027191607281566,-0.166061416268349,0.067457690834999,-0.033194083720446,-0.051690090447664,0.003668300807476,-0.082462906837463,-0.062030423432589,-0.154866576194763,-0.143245235085487,0.022057784721255,-0.054432731121778,-0.081234522163868));
res += mul(Get(s1,dx,0), float4x4(-0.014936596155167,-0.074813447892666,-0.034249674528837,0.009926845319569,0.098665408790112,-0.114605292677879,-0.045433990657330,0.106088906526566,-0.232574045658112,-0.098331995308399,-0.079299338161945,0.023283403366804,-0.008633420802653,0.129647374153137,-0.030140848830342,-0.014036733657122));
res += mul(Get(s1,dx,dy), float4x4(0.103209130465984,0.028077444061637,0.074765257537365,0.033285811543465,0.037428628653288,0.056282754987478,0.179887816309929,0.118135869503021,-0.053213313221931,0.051770240068436,-0.034777101129293,0.049147348850965,-0.096065424382687,0.022243572399020,-0.060987919569016,-0.153448492288589));
res += mul(Get(s2,-dx,-dy), float4x4(0.068277031183243,-0.021132621914148,0.032884038984776,-0.058789581060410,0.108520768582821,0.043044086545706,0.024838376790285,0.101521894335747,0.040293280035257,0.039897006005049,-0.040744654834270,0.031685009598732,-0.127396285533905,-0.089771665632725,-0.117749787867069,-0.199739560484886));
res += mul(Get(s2,-dx,0), float4x4(-0.052047651261091,-0.069008141756058,0.035678181797266,-0.008663008920848,-0.041750598698854,-0.379582792520523,0.128263860940933,-0.126316487789154,-0.034532714635134,-0.008692474104464,0.018591815605760,-0.135472208261490,-0.026338415220380,-0.103311665356159,-0.035510342568159,-0.069970808923244));
res += mul(Get(s2,-dx,dy), float4x4(-0.147671997547150,0.073067478835583,0.000162934942637,-0.088997676968575,-0.050745300948620,-0.090714097023010,-0.285160213708878,0.189832195639610,0.028118792921305,-0.142821550369263,-0.088955268263817,-0.015567366965115,-0.103151015937328,0.042401030659676,0.120139561593533,-0.002681612037122));
res += mul(Get(s2,0,-dy), float4x4(0.084288522601128,-0.058282501995564,-0.007067956961691,-0.000680099183228,-0.007273272145540,0.052584126591682,0.014465800486505,-0.036701407283545,0.049817867577076,-0.016322432085872,-0.092127569019794,0.002266514580697,-0.015063886530697,0.070359073579311,-0.101163052022457,0.043600238859653));
res += mul(Get(s2,0,0), float4x4(0.039030566811562,0.134636819362640,-0.054777964949608,0.039257645606995,-0.182104974985123,-0.055473249405622,-0.185214698314667,0.028634577989578,-0.044296301901340,0.039773955941200,-0.297664612531662,0.013720209710300,-0.063181750476360,-0.166418746113777,-0.123743109405041,-0.048000179231167));
res += mul(Get(s2,0,dy), float4x4(-0.031902126967907,-0.182442441582680,0.032099865376949,0.006681301165372,0.052156139165163,0.172696739435196,0.062809467315674,-0.074639387428761,-0.010004484094679,-0.001151489443146,0.118457704782486,0.261604398488998,0.163996145129204,-0.217329189181328,0.018606439232826,0.093735143542290));
res += mul(Get(s2,dx,-dy), float4x4(0.045464325696230,0.071183539927006,0.111822165548801,-0.043303892016411,0.021252820268273,-0.121099524199963,-0.044995855540037,0.067224554717541,0.096368387341499,0.134303167462349,0.161865144968033,-0.164293274283409,-0.065150514245033,0.223053246736526,0.031539276242256,0.013205063529313));
res += mul(Get(s2,dx,0), float4x4(-0.006253491621464,0.077471181750298,-0.033093724399805,-0.055473469197750,0.209616348147392,-0.013809522613883,-0.138919398188591,-0.028197450563312,0.019205896183848,0.074147850275040,0.111909627914429,0.218591839075089,0.147019788622856,0.056075334548950,-0.048805609345436,0.126566410064697));
res += mul(Get(s2,dx,dy), float4x4(0.204086184501648,0.027332263067365,-0.029239181429148,-0.054428067058325,-0.011581175029278,0.062020525336266,-0.179258570075035,0.108742877840996,0.038152962923050,-0.037353966385126,-0.019404646009207,0.072697550058365,-0.006345483008772,-0.006685246713459,0.091411367058754,-0.206519648432732));
res += mul(Get(s3,-dx,-dy), float4x4(0.033129349350929,0.123151458799839,0.144735485315323,0.249595701694489,-0.242235451936722,-0.043543159961700,-0.032473437488079,-0.006518708541989,-0.034559257328510,-0.109967254102230,0.066225700080395,-0.076416127383709,-0.043499257415533,-0.126718729734421,-0.122947148978710,-0.070984631776810));
res += mul(Get(s3,-dx,0), float4x4(0.012120196595788,-0.025797635316849,0.029422428458929,0.064337320625782,-0.006655847653747,-0.185039371252060,0.072625212371349,0.096042782068253,-0.057240862399340,0.005325231235474,-0.012467656284571,0.174591273069382,0.001899062306620,-0.189414024353027,-0.116772659122944,0.088462382555008));
res += mul(Get(s3,-dx,dy), float4x4(-0.012279481627047,0.056183017790318,0.079506352543831,0.040699873119593,-0.108956068754196,0.023171458393335,0.040440019220114,-0.094464845955372,-0.016442099586129,0.098259337246418,0.039022993296385,-0.040635444223881,0.079289287328720,0.198730900883675,-0.164547845721245,-0.146920606493950));
res += mul(Get(s3,0,-dy), float4x4(-0.281513750553131,-0.157939791679382,0.131810575723648,-0.107209056615829,-0.084789723157883,0.024746775627136,0.050057679414749,-0.008972398936749,-0.026922481134534,0.004768175072968,0.017207568511367,0.035557471215725,-0.107036270201206,-0.083125032484531,0.127533972263336,0.217580154538155));
res += mul(Get(s3,0,0), float4x4(0.007378731854260,0.060255229473114,-0.015350601635873,-0.063827238976955,-0.064417429268360,-0.169933274388313,0.005445474758744,0.112335905432701,0.089871875941753,0.221744954586029,0.088077828288078,0.187774300575256,0.174686580896378,-0.211349129676819,0.013829011470079,-0.141547933220863));
res += mul(Get(s3,0,dy), float4x4(-0.041538409888744,-0.063428394496441,0.026466608047485,-0.139715477824211,0.151253044605255,0.156269401311874,-0.200022295117378,-0.058679740875959,0.158098876476288,0.001523274695501,-0.002560154069215,-0.023546060547233,0.057871375232935,-0.025556335225701,-0.046799741685390,0.119971573352814));
res += mul(Get(s3,dx,-dy), float4x4(-0.098624087870121,0.065194815397263,0.036908328533173,-0.067577369511127,0.078058473765850,-0.176945284008980,-0.044712428003550,0.042064979672432,0.043671749532223,0.066284492611885,-0.045218914747238,-0.062928803265095,-0.003921245224774,-0.042582392692566,-0.166297733783722,-0.043921776115894));
res += mul(Get(s3,dx,0), float4x4(-0.006142399739474,0.026194265112281,0.011957096867263,0.072779014706612,-0.083879560232162,-0.101061910390854,-0.076929271221161,0.277059644460678,0.105102859437466,0.007445845752954,0.081801630556583,-0.135230600833893,0.025451747700572,0.104816235601902,0.006019067950547,-0.010295299813151));
res += mul(Get(s3,dx,dy), float4x4(0.019841367378831,0.084084264934063,0.012683756649494,-0.113524131476879,-0.086124934256077,0.068166457116604,-0.053135622292757,-0.005033605732024,-0.156177282333374,-0.107085533440113,-0.036447197198868,0.018639601767063,-0.037029303610325,0.037234652787447,0.023337285965681,-0.113482929766178));
res = max(float4(0,0,0,0), res);
return res;
}
