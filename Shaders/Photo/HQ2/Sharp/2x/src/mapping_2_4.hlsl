sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073269307613373,-0.070855721831322,-0.056841839104891,0.056957095861435,0.023785274475813,-0.053919885307550,0.015077672898769,-0.152212291955948,-0.123667098581791,-0.138728588819504,0.022073077037930,-0.074109397828579,0.030996201559901,0.005904085468501,0.031398460268974,0.000927191751543));
res += mul(Get(s0,-dx,0), float4x4(0.035188965499401,-0.156616330146790,0.038746520876884,0.063109688460827,0.045748267322779,0.139831736683846,0.033543620258570,-0.147070050239563,-0.093514621257782,0.098177962005138,-0.000952140893787,0.018080072477460,-0.080849356949329,-0.044037558138371,-0.070969305932522,-0.042229674756527));
res += mul(Get(s0,-dx,dy), float4x4(-0.020300056785345,0.202511593699455,-0.060471877455711,-0.088473603129387,-0.128344163298607,0.043136090040207,0.052948728203773,-0.129198893904686,0.089914627373219,-0.010124965570867,0.060270074754953,-0.069420911371708,0.009080093353987,0.115003347396851,-0.014252092689276,-0.005464346613735));
res += mul(Get(s0,0,-dy), float4x4(0.202382862567902,0.040155317634344,0.067290194332600,-0.050865180790424,0.133915483951569,0.015827501192689,0.057115294039249,-0.000193277810467,0.018144339323044,-0.060016859322786,0.050310317426920,-0.001283509889618,-0.011850304901600,0.024907313287258,-0.064528323709965,-0.081455200910568));
res += mul(Get(s0,0,0), float4x4(-0.086194820702076,0.177649736404419,0.208371430635452,-0.088306024670601,-0.040625963360071,-0.131420642137527,-0.026274902746081,-0.123166300356388,0.049663584679365,-0.062045749276876,0.034629836678505,0.068063698709011,0.146192431449890,0.146929264068604,-0.061642765998840,-0.080611161887646));
res += mul(Get(s0,0,dy), float4x4(-0.070478141307831,-0.059718288481236,-0.280614972114563,-0.057572629302740,-0.002811822807416,-0.178244844079018,0.051568835973740,0.008875922299922,0.067739740014076,0.117202028632164,0.013820519670844,0.029570559039712,0.036059528589249,-0.050485935062170,0.084645681083202,-0.021587302908301));
res += mul(Get(s0,dx,-dy), float4x4(-0.155020341277122,0.091613575816154,0.003268249798566,0.114171713590622,-0.063761986792088,0.024239139631391,0.091956876218319,-0.043503437191248,-0.189087793231010,-0.014868876896799,-0.008329559117556,0.049948405474424,-0.043262545019388,0.031413964927197,-0.044179320335388,-0.033178549259901));
res += mul(Get(s0,dx,0), float4x4(0.011418324895203,0.007434572558850,-0.168626248836517,0.096171416342258,0.123036526143551,0.078249081969261,0.019079161807895,0.030345521867275,-0.072928532958031,0.095390081405640,0.056907404214144,0.081628412008286,0.125940129160881,-0.031269982457161,0.033312723040581,0.091440558433533));
res += mul(Get(s0,dx,dy), float4x4(0.206880509853363,0.045936524868011,-0.078665412962437,0.024814521893859,-0.062070451676846,-0.162391588091850,-0.061221301555634,0.029693447053432,-0.096624009311199,-0.037470221519470,0.043218195438385,0.194938674569130,-0.067359693348408,0.170206904411316,0.075892291963100,-0.129532933235168));
res += mul(Get(s1,-dx,-dy), float4x4(-0.013894017785788,0.002869960619137,0.019411277025938,0.132098138332367,0.025041939690709,-0.205341070890427,-0.016399428248405,0.005482287146151,0.046827882528305,-0.107920207083225,-0.018667506054044,-0.136438414454460,0.187246978282928,0.101245485246181,-0.109339900314808,-0.099992714822292));
res += mul(Get(s1,-dx,0), float4x4(-0.113555796444416,0.053146451711655,0.122257113456726,0.035825703293085,0.054724197834730,-0.081766538321972,0.025544127449393,-0.017697393894196,0.094046734273434,0.040897376835346,0.096040606498718,-0.106435537338257,0.239613533020020,0.051259577274323,0.109038874506950,-0.228709831833839));
res += mul(Get(s1,-dx,dy), float4x4(-0.015519906766713,0.053009204566479,-0.127174288034439,-0.010693846270442,0.080768287181854,0.141591563820839,0.071423970162868,0.370527893304825,0.139704823493958,0.142970308661461,0.081053718924522,-0.057496342808008,-0.130460053682327,0.085033699870110,-0.049692258238792,0.047319713979959));
res += mul(Get(s1,0,-dy), float4x4(-0.001204786356539,0.118375509977341,0.107584632933140,0.005372303538024,0.058941446244717,0.078558020293713,-0.057550612837076,0.035750839859247,0.245415300130844,-0.003934471867979,-0.023152468726039,0.095696523785591,0.053810548037291,0.032317511737347,0.146751090884209,-0.097105324268341));
res += mul(Get(s1,0,0), float4x4(-0.209358006715775,-0.009913601912558,-0.062259174883366,0.082078911364079,-0.168966546654701,0.120556347072124,-0.004142204765230,0.163523167371750,0.039433829486370,0.011544345878065,-0.099739223718643,0.015786355361342,0.053441341966391,0.098564028739929,0.210449844598770,0.191395133733749));
res += mul(Get(s1,0,dy), float4x4(-0.074703283607960,-0.009105656296015,0.101914472877979,0.065977722406387,0.030997343361378,-0.008651660755277,-0.083549827337265,-0.026445828378201,0.027378519997001,0.052897538989782,0.182181417942047,0.002101085614413,-0.018654219806194,0.190460771322250,-0.227216556668282,0.070193946361542));
res += mul(Get(s1,dx,-dy), float4x4(0.059437651187181,0.017108265310526,0.005642365198582,-0.085626877844334,0.027627008035779,0.173625722527504,-0.144958242774010,-0.166938260197639,-0.204111337661743,-0.029613498598337,0.033092644065619,-0.013016000390053,0.040401607751846,-0.110996454954147,-0.023019434884191,0.003237501019612));
res += mul(Get(s1,dx,0), float4x4(0.071579150855541,0.049182943999767,0.030419617891312,-0.215674415230751,-0.004723005928099,-0.020481640473008,0.014721181243658,0.023652464151382,0.081664443016052,-0.034538500010967,-0.119473159313202,-0.056387942284346,-0.086467109620571,0.204996183514595,0.001081505557522,-0.058561444282532));
res += mul(Get(s1,dx,dy), float4x4(-0.030987108126283,-0.078500725328922,-0.010801738128066,0.047683719545603,0.183892697095871,-0.003071764716879,-0.085811324417591,-0.051997583359480,-0.010288931429386,-0.080820269882679,-0.004173222929239,0.092348322272301,0.277210801839828,-0.010998774319887,0.008630030788481,-0.033517763018608));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046835377812386,0.036338374018669,-0.036511156708002,-0.132766991853714,-0.003617428941652,0.017862487584352,0.067791536450386,-0.012991211377084,0.061189081519842,-0.111138224601746,0.146919175982475,-0.108014553785324,0.009510757401586,0.081550829112530,-0.165097132325172,-0.124106772243977));
res += mul(Get(s2,-dx,0), float4x4(0.049950398504734,-0.068554617464542,0.042418163269758,0.067225761711597,0.140707001090050,0.117644369602203,0.116146996617317,0.010014909319580,-0.006732702720910,-0.019276184961200,0.054383914917707,0.090477429330349,-0.027955306693912,-0.038392122834921,0.074347108602524,-0.051326148211956));
res += mul(Get(s2,-dx,dy), float4x4(-0.098461635410786,0.054550640285015,-0.036363489925861,0.037384994328022,0.117508225142956,-0.118312038481236,-0.044104091823101,0.073449730873108,-0.065659649670124,0.045670747756958,0.037242799997330,-0.022411780431867,0.062709711492062,-0.015566587448120,0.030327254906297,-0.018894864246249));
res += mul(Get(s2,0,-dy), float4x4(-0.148709490895271,0.072595410048962,0.083657786250114,-0.002045419532806,-0.053608089685440,0.064249709248543,-0.081792011857033,-0.047600612044334,-0.055994715541601,-0.149370029568672,0.016924871131778,0.191373944282532,0.045241810381413,0.203003033995628,-0.111823618412018,-0.110358417034149));
res += mul(Get(s2,0,0), float4x4(0.114581279456615,-0.094298370182514,-0.073083743453026,-0.092671535909176,-0.073039077222347,-0.127237856388092,0.008577039465308,0.153202593326569,0.008871277794242,0.211773157119751,0.039706986397505,0.053504660725594,-0.232192099094391,-0.231528609991074,-0.071057133376598,-0.093372747302055));
res += mul(Get(s2,0,dy), float4x4(-0.115325905382633,0.001503553707153,0.079299665987492,-0.185663670301437,-0.030232377350330,-0.053576029837132,-0.049733147025108,-0.173311173915863,0.017039682716131,0.072842150926590,0.083519980311394,-0.017722958698869,-0.004504852462560,-0.032930839806795,-0.134355783462524,0.099199101328850));
res += mul(Get(s2,dx,-dy), float4x4(-0.103936672210693,0.114516600966454,0.063551053404808,0.045456994324923,-0.067890733480453,-0.050059471279383,0.002344654407352,0.117676697671413,0.068732760846615,0.016016263514757,-0.078809618949890,0.187236353754997,0.021251276135445,0.024146050214767,0.062337122857571,0.008461664430797));
res += mul(Get(s2,dx,0), float4x4(-0.036276925355196,0.031701348721981,0.172195836901665,0.053639326244593,0.003900720505044,-0.115273587405682,-0.170826166868210,-0.109361998736858,-0.027963204309344,-0.010828967206180,0.096089765429497,0.162315279245377,-0.090432330965996,0.010194984264672,-0.052946787327528,0.145873129367828));
res += mul(Get(s2,dx,dy), float4x4(-0.091843262314796,0.076750002801418,-0.094839930534363,-0.059585999697447,0.090652123093605,-0.113993965089321,0.071934722363949,-0.075024798512459,-0.008379016071558,0.178393602371216,-0.142717078328133,0.008097566664219,0.027794413268566,0.073675595223904,-0.032250244170427,-0.077453233301640));
res += mul(Get(s3,-dx,-dy), float4x4(0.045051261782646,0.143561109900475,0.073914624750614,0.115020170807838,-0.035122521221638,0.033750753849745,-0.015819432213902,-0.174975246191025,0.103887967765331,-0.094372384250164,-0.005148438736796,-0.025054445490241,-0.071390882134438,-0.107344813644886,0.013024679385126,-0.011501378379762));
res += mul(Get(s3,-dx,0), float4x4(0.095663793385029,-0.037059724330902,-0.088101536035538,0.107233241200447,-0.034307073801756,-0.192048609256744,0.118884481489658,0.009077837690711,0.114898510277271,-0.067528642714024,0.170058161020279,-0.052324727177620,-0.091977588832378,0.028920665383339,0.127738371491432,-0.186863243579865));
res += mul(Get(s3,-dx,dy), float4x4(0.197937116026878,0.114801794290543,-0.049004778265953,0.106069721281528,-0.035097356885672,-0.026686085388064,0.077556602656841,-0.102865740656853,-0.041733250021935,-0.121015056967735,-0.062743000686169,0.075182989239693,0.134692087769508,-0.053587283939123,-0.058447580784559,-0.235581070184708));
res += mul(Get(s3,0,-dy), float4x4(-0.005286126863211,-0.109292790293694,-0.041078809648752,0.001826727879234,-0.166899248957634,0.164518311619759,0.022216860204935,-0.069605529308319,0.053418412804604,0.090589240193367,0.016604270786047,0.106711968779564,-0.085012406110764,0.141500130295753,0.043214555829763,0.009185007773340));
res += mul(Get(s3,0,0), float4x4(-0.057328164577484,0.082416325807571,-0.271991878747940,-0.071148253977299,-0.022343687713146,0.050100587308407,0.089355058968067,-0.006434821523726,0.032738804817200,0.013126350007951,0.105274923145771,0.205546915531158,0.032366562634706,0.094461798667908,0.128478288650513,0.241489559412003));
res += mul(Get(s3,0,dy), float4x4(-0.052834518253803,0.048406619578600,-0.062867969274521,0.090086624026299,0.146195411682129,0.086606934666634,-0.059979632496834,0.164161249995232,-0.095505163073540,-0.089189067482948,0.229270368814468,0.004934277385473,0.037123084068298,0.083410106599331,0.100919008255005,0.063834257423878));
res += mul(Get(s3,dx,-dy), float4x4(-0.036999676376581,-0.044843383133411,0.088544614613056,0.218802124261856,0.153643593192101,0.208498030900955,-0.116391383111477,-0.054910849779844,-0.312311738729477,-0.081477582454681,-0.082190349698067,0.084606952965260,0.047118823975325,0.124737352132797,0.016962930560112,0.100728765130043));
res += mul(Get(s3,dx,0), float4x4(0.004899745341390,-0.040882315486670,-0.021443147212267,-0.071949087083340,0.055009223520756,-0.072385162115097,-0.055875018239021,-0.053999941796064,-0.154158383607864,0.050904341042042,0.042236629873514,0.228134170174599,0.084536559879780,-0.102503068745136,-0.009817711077631,-0.014955260790884));
res += mul(Get(s3,dx,dy), float4x4(-0.257171303033829,0.112125627696514,-0.030732864513993,0.172944188117981,0.204148277640343,0.028917683288455,-0.030129682272673,-0.084762617945671,-0.227326199412346,0.080758742988110,-0.113242544233799,0.024274371564388,-0.028119921684265,-0.164663955569267,-0.198855280876160,0.013439452275634));
res = max(float4(0,0,0,0), res);
return res;
}
