sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.220079898834229,-0.008936813101172,0.036923810839653,0.172919869422913,-0.052856184542179,-0.152868181467056,-0.018606012687087,0.089459486305714,-0.046726219356060,0.098264023661613,0.149030998349190,-0.052132226526737,-0.064211882650852,-0.134786382317543,0.008644694462419,0.102525256574154));
res += mul(Get(s0,-dx,0), float4x4(-0.010850640013814,-0.014312816783786,0.171656608581543,0.017524318769574,-0.013731143437326,0.070164367556572,0.149694755673409,0.111343942582607,-0.059982728213072,0.076355688273907,-0.111739851534367,0.056011606007814,-0.096896640956402,0.138022869825363,-0.058822557330132,-0.120428182184696));
res += mul(Get(s0,-dx,dy), float4x4(-0.273547708988190,0.024553956463933,0.011251309886575,0.091657944023609,-0.137816339731216,0.075954325497150,-0.172576561570168,-0.012766782194376,-0.034816507250071,-0.019715612754226,0.054159242659807,0.068754650652409,-0.096848428249359,0.019036689773202,0.121832147240639,-0.176775395870209));
res += mul(Get(s0,0,-dy), float4x4(-0.094071157276630,-0.030150851234794,0.013706901110709,0.055679962038994,-0.217514470219612,-0.064507037401199,-0.146342083811760,0.153771668672562,0.125839963555336,0.003669992554933,-0.035428684204817,-0.107118874788284,0.038799703121185,-0.062185656279325,0.060823425650597,0.049435239285231));
res += mul(Get(s0,0,0), float4x4(0.245969027280807,0.037615675479174,0.239941984415054,-0.013635680079460,0.264999836683273,-0.061486840248108,0.123479336500168,-0.028762646019459,0.084994159638882,-0.146443545818329,-0.029550235718489,-0.058757551014423,-0.236641183495522,0.004306077025831,-0.024389324709773,0.156332150101662));
res += mul(Get(s0,0,dy), float4x4(0.041678328067064,-0.005476163700223,-0.025172151625156,-0.045491356402636,-0.032894134521484,-0.140550062060356,0.043856937438250,0.032215666025877,0.002222581300884,-0.028600327670574,-0.158400923013687,-0.157940730452538,-0.039876669645309,-0.027025440707803,0.092604637145996,-0.032637178897858));
res += mul(Get(s0,dx,-dy), float4x4(-0.041582886129618,-0.009551875293255,0.151536270976067,-0.145102053880692,-0.040461625903845,0.050105672329664,-0.015034903772175,0.003154588397592,0.121807932853699,0.035814784467220,-0.168831765651703,-0.060241762548685,0.049467068165541,-0.167889192700386,-0.054828301072121,-0.176217660307884));
res += mul(Get(s0,dx,0), float4x4(0.127955034375191,-0.006665990222245,-0.084078021347523,0.040046084672213,-0.032161988317966,0.187165439128876,-0.064869642257690,-0.028245156630874,0.039028845727444,0.113416232168674,-0.172324478626251,0.101954735815525,0.068750731647015,0.110098369419575,-0.020696198567748,0.111473947763443));
res += mul(Get(s0,dx,dy), float4x4(0.137301161885262,-0.012841400690377,0.089625678956509,0.034814435988665,-0.134186998009682,0.170289173722267,-0.021802442148328,0.186346575617790,0.097802534699440,0.068454258143902,-0.161036700010300,0.105810262262821,0.066140532493591,-0.007087336387485,-0.074035160243511,0.159968003630638));
res += mul(Get(s1,-dx,-dy), float4x4(-0.020997051149607,0.236481189727783,-0.060695987194777,0.077833101153374,0.092393323779106,-0.150009572505951,-0.055000334978104,-0.195265084505081,0.019062565639615,0.059411194175482,-0.081709988415241,-0.112269535660744,0.100494660437107,-0.085515514016151,-0.001345843891613,-0.088444501161575));
res += mul(Get(s1,-dx,0), float4x4(-0.030556816607714,0.150178506970406,0.195817291736603,0.023521931841969,0.062070950865746,0.038884509354830,0.110349692404270,0.103640630841255,0.026003304868937,0.140749335289001,0.156788960099220,0.202154248952866,0.171924844384193,-0.029840750619769,0.117110200226307,0.084666177630424));
res += mul(Get(s1,-dx,dy), float4x4(0.011435017921031,0.002151045016944,0.142250508069992,0.141736820340157,0.047927383333445,-0.134405091404915,-0.164828047156334,0.010036543011665,-0.090348213911057,-0.029655776917934,-0.177379429340363,-0.103142969310284,-0.078563876450062,-0.267987698316574,-0.180756390094757,-0.153581425547600));
res += mul(Get(s1,0,-dy), float4x4(-0.083396248519421,-0.039125829935074,-0.067853443324566,-0.160168290138245,0.110887922346592,0.008333117701113,0.079183533787727,-0.073077321052551,-0.064361520111561,0.067122586071491,0.087736107409000,-0.135582759976387,-0.026202920824289,0.126019135117531,-0.123797677457333,0.005031513515860));
res += mul(Get(s1,0,0), float4x4(0.190155833959579,-0.161489367485046,0.083746246993542,-0.108836822211742,0.076442882418633,-0.059014458209276,0.064278110861778,-0.175615847110748,-0.085640847682953,-0.068859308958054,0.243208363652229,0.057565636932850,0.076916731894016,-0.056006073951721,0.132261946797371,-0.033261109143496));
res += mul(Get(s1,0,dy), float4x4(0.134042859077454,0.060599088668823,0.071872994303703,0.066519163548946,0.003946068231016,0.014534887857735,-0.152308836579323,-0.050020627677441,-0.028209079056978,0.106446012854576,-0.065718784928322,0.042142625898123,0.146280601620674,-0.059552654623985,-0.007111925631762,-0.036769423633814));
res += mul(Get(s1,dx,-dy), float4x4(0.198756486177444,0.091399878263474,0.096230439841747,-0.063923843204975,0.197067603468895,-0.088607117533684,0.129615008831024,0.061204984784126,0.033475898206234,-0.131646320223808,-0.032926689833403,0.033495850861073,0.109242171049118,0.150624349713326,-0.008517717011273,0.038800280541182));
res += mul(Get(s1,dx,0), float4x4(-0.059516754001379,0.030681412667036,-0.158310964703560,-0.032000262290239,-0.127306252717972,-0.050017338246107,0.274556219577789,0.047442544251680,0.106930300593376,0.167969733476639,0.014521811157465,-0.115229099988937,0.004600353073329,-0.024988247081637,-0.012932638637722,0.082743696868420));
res += mul(Get(s1,dx,dy), float4x4(-0.046684280037880,0.026882715523243,0.009193416684866,-0.127991318702698,0.059871699661016,-0.004936521407217,0.159281328320503,-0.141420707106590,0.044475466012955,-0.125289872288704,-0.005127056036144,0.270354002714157,-0.059899322688580,-0.080645702779293,-0.108345709741116,0.008584037423134));
res += mul(Get(s2,-dx,-dy), float4x4(-0.206026375293732,0.126638785004616,0.165543422102928,0.151510998606682,0.017433168366551,-0.053553394973278,-0.064270414412022,0.026499429717660,-0.103274405002594,-0.028315052390099,0.136355653405190,0.037773743271828,-0.070225372910500,0.069871768355370,0.113581016659737,-0.080903485417366));
res += mul(Get(s2,-dx,0), float4x4(-0.163824349641800,-0.047350160777569,-0.138094142079353,-0.042142726480961,-0.028514862060547,-0.052333097904921,-0.030583553016186,-0.057004801928997,0.062582962214947,0.075392767786980,0.124228402972221,-0.085212536156178,0.057611033320427,0.119256496429443,0.019722687080503,0.200980708003044));
res += mul(Get(s2,-dx,dy), float4x4(-0.150636225938797,-0.137099012732506,-0.018171731382608,-0.047128025442362,0.078484162688255,-0.114865623414516,0.027411757037044,0.053880549967289,-0.010175852105021,0.157590046525002,-0.108937658369541,0.125770166516304,-0.095701269805431,-0.009860609658062,-0.020937466993928,0.103143110871315));
res += mul(Get(s2,0,-dy), float4x4(0.009954951703548,-0.087513856589794,0.086090557277203,-0.026258766651154,0.056948948651552,0.033811945468187,0.093239195644855,-0.036893390119076,-0.056786414235830,0.044905733317137,0.063393317162991,-0.149865612387657,-0.020157946273685,-0.063091613352299,0.023167612031102,0.076014712452888));
res += mul(Get(s2,0,0), float4x4(-0.055983107537031,0.104922607541084,-0.049494404345751,-0.042568601667881,-0.109161920845509,-0.036004040390253,-0.087944090366364,-0.077900245785713,0.093616068363190,-0.034962326288223,0.202917948365211,-0.023937543854117,-0.032257940620184,0.043782986700535,0.142951503396034,0.080518648028374));
res += mul(Get(s2,0,dy), float4x4(0.152215510606766,-0.026602067053318,0.097720503807068,0.060022279620171,0.069622226059437,-0.074890844523907,-0.003243101760745,0.141935184597969,-0.029337685555220,-0.040018960833549,-0.094481296837330,-0.065209724009037,-0.043882578611374,0.077739283442497,0.006446353159845,0.071180678904057));
res += mul(Get(s2,dx,-dy), float4x4(0.095030926167965,0.061301641166210,0.160652086138725,0.223346501588821,-0.064269863069057,-0.164035364985466,0.005573748145252,-0.002950411755592,0.046639930456877,-0.089393950998783,-0.072743549942970,0.058191642165184,-0.096162416040897,0.012821501120925,0.069222331047058,-0.070867814123631));
res += mul(Get(s2,dx,0), float4x4(0.036383517086506,-0.045865081250668,0.030931767076254,0.076483324170113,0.183490276336670,0.038266226649284,-0.012704402208328,0.045590050518513,0.006093373522162,-0.104620076715946,-0.007776651065797,-0.065472461283207,-0.104492276906967,-0.009092601947486,-0.000542267633136,-0.065606445074081));
res += mul(Get(s2,dx,dy), float4x4(-0.045702714473009,0.021395256742835,0.013135547749698,0.039868183434010,-0.060056593269110,-0.167122200131416,-0.126270279288292,-0.058922860771418,-0.018820490688086,0.053350370377302,0.060418672859669,0.152192175388336,-0.142051190137863,-0.076690264046192,0.005717655178159,0.120195530354977));
res += mul(Get(s3,-dx,-dy), float4x4(0.035354901105165,0.004688807763159,0.005188079550862,-0.072289355099201,-0.185549527406693,-0.220542937517166,0.130826324224472,-0.019895702600479,-0.065945386886597,0.255736231803894,0.054129984229803,-0.025166366249323,0.003409897675738,0.090844430029392,0.090365074574947,-0.089036859571934));
res += mul(Get(s3,-dx,0), float4x4(0.017384195700288,0.176232993602753,-0.013250696472824,0.065654948353767,0.137180298566818,0.094084426760674,-0.062540031969547,0.057417690753937,-0.167668044567108,0.190559059381485,-0.152631253004074,-0.019265091046691,-0.165144577622414,-0.044504117220640,-0.052450351417065,-0.028628325089812));
res += mul(Get(s3,-dx,dy), float4x4(0.103177934885025,0.163471117615700,0.195452183485031,-0.040410172194242,-0.004975281190127,0.069407738745213,-0.067873977124691,0.043040938675404,-0.110247105360031,0.058306518942118,-0.009894108399749,0.038832850754261,0.237743750214577,-0.046504288911819,-0.082169674336910,-0.055380877107382));
res += mul(Get(s3,0,-dy), float4x4(-0.156684517860413,0.016705725342035,0.076755471527576,-0.088430076837540,-0.043730564415455,-0.038763564080000,-0.013328481465578,0.055384546518326,0.133434191346169,0.073697328567505,0.147431761026382,-0.104568839073181,-0.015525446273386,-0.181565433740616,0.063443042337894,0.022607997059822));
res += mul(Get(s3,0,0), float4x4(-0.020833818241954,-0.003426091279835,-0.032390262931585,0.009925552643836,0.121251277625561,-0.047653403133154,-0.067543148994446,-0.034058559685946,-0.062700428068638,-0.037004247307777,-0.007351085543633,0.083521321415901,0.022919658571482,-0.150254890322685,0.079167053103447,0.035155870020390));
res += mul(Get(s3,0,dy), float4x4(-0.106784798204899,0.030447561293840,0.133889168500900,-0.035301268100739,-0.008724256418645,-0.055108722299337,0.213954865932465,-0.104340255260468,-0.065841220319271,-0.037427332252264,-0.074828974902630,-0.157083615660667,-0.046044796705246,0.032919213175774,-0.140386611223221,-0.099721476435661));
res += mul(Get(s3,dx,-dy), float4x4(0.062930859625340,0.042078539729118,0.080634959042072,-0.081581555306911,-0.128391683101654,-0.062277570366859,-0.064794115722179,-0.100953452289104,-0.118825681507587,0.010061713866889,0.111659392714500,-0.248590409755707,0.158137634396553,0.236525774002075,0.029090089723468,-0.110380746424198));
res += mul(Get(s3,dx,0), float4x4(-0.163562700152397,-0.028409371152520,0.162983104586601,0.371083766222000,-0.008813060820103,0.087934806942940,-0.019542867317796,0.120055973529816,-0.114497765898705,0.103094339370728,0.099668033421040,-0.129789203405380,0.052078492939472,0.043724071234465,0.081291548907757,-0.014771331101656));
res += mul(Get(s3,dx,dy), float4x4(-0.016483085229993,0.064217053353786,-0.203229963779449,-0.040905207395554,-0.018780721351504,-0.068725690245628,-0.037973083555698,-0.095794156193733,-0.009511706419289,0.128375455737114,0.033532556146383,-0.060437247157097,0.031499419361353,0.051412548869848,0.106604225933552,-0.080341391265392));
res = max(float4(0,0,0,0), res);
return res;
}
