sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000506265962031,-0.135203629732132,-0.036201182752848,0.036244880408049,0.068865098059177,0.033427506685257,0.116547696292400,0.030541036278009,0.092435225844383,-0.019720204174519,-0.125461891293526,-0.131648436188698,0.007219663821161,0.005110206082463,0.152316257357597,-0.016274342313409));
res += mul(Get(s0,-dx,0), float4x4(-0.028787286952138,-0.002703434322029,-0.074097841978073,-0.004851285368204,-0.085433825850487,-0.062627494335175,0.042510561645031,0.033994350582361,0.057531140744686,-0.027113974094391,-0.014930207282305,-0.095749579370022,-0.105911932885647,0.043585021048784,0.107216387987137,0.093444660305977));
res += mul(Get(s0,-dx,dy), float4x4(-0.055370915681124,-0.081025227904320,0.077802591025829,0.094680771231651,-0.064929358661175,0.145607501268387,-0.077085934579372,0.187803000211716,-0.006057787220925,-0.085509389638901,0.034656487405300,0.007795609533787,-0.132876396179199,-0.032861918210983,0.073650099337101,0.128709360957146));
res += mul(Get(s0,0,-dy), float4x4(0.039785858243704,0.008598541840911,0.059999357908964,-0.059785708785057,0.073137976229191,-0.002721391385421,-0.029969964176416,0.058692272752523,-0.039470568299294,0.095479965209961,-0.033206615597010,-0.125410020351410,0.080428481101990,-0.124945141375065,-0.001323375618085,-0.052751813083887));
res += mul(Get(s0,0,0), float4x4(-0.063757278025150,-0.023855738341808,0.052798137068748,-0.046989757567644,0.134469583630562,0.119889788329601,-0.080721713602543,-0.087356150150299,-0.097270317375660,0.074872665107250,-0.161438107490540,-0.118690997362137,0.014456138946116,0.024298012256622,-0.000721703574527,0.157398074865341));
res += mul(Get(s0,0,dy), float4x4(0.020259419456124,-0.009937104769051,0.070665560662746,-0.046641204506159,-0.033627700060606,0.046221192926168,-0.134866669774055,0.054111860692501,-0.045771315693855,0.066601440310478,-0.126884922385216,0.119436621665955,0.219942122697830,0.009277360513806,0.161471992731094,-0.111593171954155));
res += mul(Get(s0,dx,-dy), float4x4(-0.021830532699823,0.074797756969929,-0.051507718861103,-0.051572550088167,0.006842769216746,0.162667602300644,0.020200395956635,-0.113439500331879,0.117750145494938,-0.150567308068275,0.012522394768894,0.077683970332146,-0.015260173007846,0.233183205127716,-0.076846286654472,-0.135999411344528));
res += mul(Get(s0,dx,0), float4x4(0.047220245003700,-0.027923233807087,-0.136893913149834,-0.013655032031238,-0.099912390112877,0.019705662503839,-0.060597587376833,-0.146794274449348,-0.021155800670385,-0.145041450858116,-0.036387193948030,0.091365963220596,0.045639272779226,-0.054161760956049,0.065842568874359,-0.061602853238583));
res += mul(Get(s0,dx,dy), float4x4(-0.119800522923470,0.025124361738563,-0.038787201046944,-0.126042455434799,-0.131549283862114,-0.101023487746716,-0.155561581254005,-0.141343176364899,0.043758492916822,0.115164496004581,-0.077349685132504,0.054089568555355,0.008900009095669,-0.018493158742785,0.030068833380938,-0.042569190263748));
res += mul(Get(s1,-dx,-dy), float4x4(-0.052772007882595,-0.073715351521969,0.050799276679754,0.050981976091862,-0.151440188288689,-0.102417640388012,0.111831888556480,-0.091426342725754,-0.077756203711033,-0.081011697649956,-0.018750522285700,-0.052352536469698,-0.126896947622299,0.058305602520704,0.037841737270355,0.039547257125378));
res += mul(Get(s1,-dx,0), float4x4(-0.063811600208282,0.174399971961975,-0.028603509068489,0.042577244341373,-0.104612283408642,-0.022064540535212,-0.049562130123377,0.082497052848339,0.163537755608559,0.172279760241508,0.083476737141609,0.064967520534992,0.011269262991846,0.001681794645265,0.018039861693978,0.019175229594111));
res += mul(Get(s1,-dx,dy), float4x4(-0.078829936683178,0.062761835753918,0.144183039665222,-0.061866365373135,0.002931292401627,-0.095632165670395,0.061608344316483,0.165359392762184,-0.005113252438605,-0.046456981450319,0.037642989307642,0.052117872983217,-0.016486741602421,0.006441451143473,-0.154486253857613,0.014968086965382));
res += mul(Get(s1,0,-dy), float4x4(0.076721832156181,-0.094838887453079,0.086916133761406,0.047472391277552,-0.072465009987354,-0.077467709779739,-0.053618803620338,-0.113159038126469,0.017324065789580,-0.070788666605949,0.060151699930429,0.179694071412086,0.050874892622232,0.078661285340786,-0.035040132701397,0.003985129296780));
res += mul(Get(s1,0,0), float4x4(-0.044225249439478,0.045935761183500,-0.138466313481331,0.016288127750158,-0.068359501659870,-0.075679071247578,-0.028490869328380,-0.118878103792667,-0.007110954727978,0.088114224374294,0.194476827979088,0.020921340212226,-0.048947062343359,0.046326998621225,0.041546426713467,0.028122667223215));
res += mul(Get(s1,0,dy), float4x4(-0.076946452260017,-0.096930578351021,0.016335856169462,-0.114547312259674,0.137735024094582,-0.034595791250467,0.044495847076178,0.052295662462711,0.084510162472725,-0.179418131709099,-0.085009343922138,-0.058075290173292,0.028925424441695,-0.068694926798344,-0.118345305323601,-0.105333536863327));
res += mul(Get(s1,dx,-dy), float4x4(-0.014555572532117,-0.040819689631462,0.048335663974285,0.017374854534864,0.088576056063175,0.089293278753757,-0.013372556306422,-0.052705835551023,-0.070875391364098,0.016858194023371,-0.131813511252403,0.092830516397953,0.053940068930387,-0.086156047880650,0.175698623061180,0.008427683264017));
res += mul(Get(s1,dx,0), float4x4(-0.053415838629007,0.225227281451225,-0.030427653342485,0.053306013345718,-0.028030788525939,-0.008706891909242,0.003028204664588,-0.119572937488556,-0.072390422224998,-0.038762338459492,-0.075408965349197,0.116920270025730,0.145263642072678,0.037805486470461,-0.136888906359673,-0.046711094677448));
res += mul(Get(s1,dx,dy), float4x4(-0.009092380292714,0.013160245493054,0.009807144291699,-0.081144034862518,-0.102176420390606,-0.130483031272888,0.093424431979656,-0.049710579216480,-0.149095922708511,-0.067263253033161,0.165991663932800,-0.095772825181484,-0.009488458745182,-0.027481026947498,-0.119968257844448,-0.061100207269192));
res += mul(Get(s2,-dx,-dy), float4x4(-0.014219062402844,0.132868334650993,0.034989420324564,0.043756552040577,-0.070476472377777,0.119711160659790,-0.019015045836568,0.153373464941978,0.031751673668623,0.094074584543705,-0.140612527728081,-0.017611769959331,0.052918963134289,-0.068253464996815,0.036739960312843,-0.066823162138462));
res += mul(Get(s2,-dx,0), float4x4(0.006626124959439,-0.017369924113154,-0.117142759263515,-0.038324803113937,-0.074337340891361,0.007030253298581,-0.002734641544521,-0.018223132938147,-0.010746099986136,-0.045668497681618,0.005752221215516,-0.055283565074205,-0.049817409366369,0.126200437545776,0.082410678267479,0.048204559832811));
res += mul(Get(s2,-dx,dy), float4x4(0.005054575856775,0.031148267909884,-0.194555029273033,-0.036370556801558,-0.020539572462440,-0.102997660636902,-0.186074614524841,-0.082212068140507,-0.028885010629892,0.068666942417622,-0.108412288129330,0.105966903269291,-0.040716677904129,0.065635316073895,0.033015348017216,0.011634468100965));
res += mul(Get(s2,0,-dy), float4x4(-0.012789595872164,0.147251546382904,0.039207056164742,0.039114642888308,0.022344995290041,-0.004212909378111,-0.016138616949320,0.065804786980152,-0.136395126581192,-0.103447064757347,-0.005554845556617,-0.007711875718087,-0.068912468850613,0.116272538900375,0.108976975083351,0.007394890300930));
res += mul(Get(s2,0,0), float4x4(0.146586164832115,0.002351565519348,-0.092414297163486,-0.030822224915028,0.021065386012197,0.082014940679073,0.029505474492908,0.089397311210632,0.021429324522614,-0.011896723881364,-0.036474157124758,0.074767537415028,-0.141298815608025,0.075982183218002,0.187955737113953,-0.116648040711880));
res += mul(Get(s2,0,dy), float4x4(0.095460407435894,0.026427298784256,-0.040042273700237,-0.120583884418011,-0.002588188974187,0.014252428896725,-0.036696195602417,0.178100675344467,0.036678582429886,0.126926288008690,-0.047652199864388,0.000954754883423,-0.004653344862163,-0.030104355886579,0.006787458900362,-0.100826643407345));
res += mul(Get(s2,dx,-dy), float4x4(-0.040469978004694,-0.016574978828430,-0.039255734533072,-0.121304295957088,0.006314547266811,-0.031025484204292,0.000622946885414,0.178956598043442,-0.110528908669949,0.011847327463329,0.094487659633160,0.037259023636580,0.022558687254786,0.000799941131845,0.113899283111095,-0.101285010576248));
res += mul(Get(s2,dx,0), float4x4(0.065208829939365,0.119939103722572,0.097776539623737,-0.060896102339029,-0.082344479858875,0.032892581075430,0.051709067076445,0.000667608575895,-0.014382912777364,0.015069703571498,0.004174482543021,-0.062468402087688,-0.063878707587719,0.028626633808017,0.006067990325391,-0.089462362229824));
res += mul(Get(s2,dx,dy), float4x4(0.097010783851147,0.017251070588827,0.011847348883748,0.147864609956741,-0.071747504174709,-0.089755944907665,-0.194442331790924,-0.077011540532112,-0.000079968944192,-0.007097643800080,0.020932029932737,0.056683976203203,-0.076265215873718,0.033476579934359,0.103903859853745,-0.114034660160542));
res += mul(Get(s3,-dx,-dy), float4x4(-0.096310690045357,-0.112390406429768,-0.072825558483601,-0.033182777464390,0.113905221223831,-0.040984451770782,0.055985253304243,0.082501374185085,-0.031569514423609,0.011769711039960,-0.043619807809591,-0.000603409658652,0.016304045915604,-0.139202013611794,0.028676642104983,0.028181245550513));
res += mul(Get(s3,-dx,0), float4x4(-0.017064020037651,0.067197218537331,-0.022945443168283,0.076664634048939,0.003391180885956,0.025041097775102,-0.199205234646797,0.045510012656450,-0.044599860906601,-0.027910217642784,0.150223940610886,0.039123244583607,0.014626472257078,0.075711481273174,0.067457698285580,0.008859243243933));
res += mul(Get(s3,-dx,dy), float4x4(0.082107409834862,-0.095365419983864,-0.005184433422983,0.075700268149376,0.057370502501726,-0.013011731207371,0.023612307384610,0.093886293470860,-0.114064037799835,-0.006362877786160,0.086051978170872,-0.055874895304441,0.078513272106647,-0.074935682117939,-0.053295522928238,0.007395091000944));
res += mul(Get(s3,0,-dy), float4x4(-0.223429456353188,0.025288406759501,-0.009534529410303,-0.013107505626976,0.010486515238881,0.085186287760735,-0.026234952732921,-0.025358987972140,-0.041945304721594,-0.235154837369919,0.021227682009339,-0.076787240803242,0.061111181974411,-0.021010043099523,-0.105228193104267,0.015880525112152));
res += mul(Get(s3,0,0), float4x4(-0.177610427141190,-0.033728998154402,-0.003417195053771,0.146116480231285,0.039684157818556,0.155453130602837,0.020647419616580,0.004733684938401,-0.046895235776901,-0.019796267151833,0.012653662823141,0.057511497288942,0.072723783552647,0.084149353206158,-0.093323186039925,-0.057078354060650));
res += mul(Get(s3,0,dy), float4x4(0.081629373133183,-0.010911301709712,-0.013496301136911,0.024628387764096,-0.027822928503156,0.022933375090361,-0.088232114911079,-0.018867576494813,-0.028753286227584,-0.035589709877968,-0.070013992488384,0.026040278375149,0.008852439932525,-0.031924642622471,0.092068798840046,-0.051992833614349));
res += mul(Get(s3,dx,-dy), float4x4(-0.057991705834866,0.093037188053131,-0.063811540603638,0.140724599361420,-0.117373071610928,-0.167935475707054,-0.022204253822565,-0.076248005032539,0.129318982362747,-0.030942076817155,0.048315200954676,-0.138111263513565,0.031132051721215,0.067949637770653,0.111612118780613,-0.001072067534551));
res += mul(Get(s3,dx,0), float4x4(-0.006612328812480,-0.048216696828604,-0.116855993866920,-0.092533260583878,0.044034074991941,-0.016769850626588,-0.006680648773909,0.022620506584644,0.027695817872882,-0.004616002552211,0.044854138046503,-0.059476926922798,0.085583686828613,0.022367350757122,-0.046797547489405,0.049391958862543));
res += mul(Get(s3,dx,dy), float4x4(0.091899640858173,0.062353722751141,-0.129845008254051,-0.059498976916075,0.047067496925592,0.072663150727749,0.046680033206940,0.042505100369453,-0.031554657965899,-0.109265431761742,0.069451563060284,-0.158511206507683,0.007864018902183,-0.036139212548733,0.006706668063998,0.009299871511757));
res = max(float4(0,0,0,0), res);
return res;
}
