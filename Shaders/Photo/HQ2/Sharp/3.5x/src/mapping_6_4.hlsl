sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.046372912824154,-0.194257095456123,-0.132231250405312,-0.019239146262407,-0.059773504734039,-0.133889809250832,0.064687140285969,0.104653552174568,-0.115044392645359,-0.100648589432240,0.045147191733122,0.088779799640179,0.032214671373367,0.053215630352497,0.022314082831144,0.076687313616276));
res += mul(Get(s0,-dx,0), float4x4(-0.188520208001137,-0.021867023780942,-0.214740514755249,-0.099997624754906,-0.099899329245090,-0.034178491681814,-0.062717072665691,0.070561014115810,-0.093665435910225,0.000485320342705,-0.093409702181816,-0.109062708914280,0.037865120917559,-0.056844126433134,0.083321057260036,-0.064714945852757));
res += mul(Get(s0,-dx,dy), float4x4(-0.048462182283401,0.035841464996338,-0.036592159420252,-0.061423230916262,-0.142325878143311,0.086188100278378,-0.078532174229622,0.088295996189117,-0.114132173359394,0.068820983171463,0.124929845333099,0.058591283857822,0.031802479177713,-0.066501408815384,-0.145474106073380,-0.063915468752384));
res += mul(Get(s0,0,-dy), float4x4(0.046615876257420,-0.092901967465878,0.060201454907656,0.054763410240412,0.021855758503079,-0.031967099756002,0.064493656158447,0.159599557518959,0.007233835756779,-0.035228151828051,0.123673379421234,-0.108743377029896,-0.134819582104683,-0.272996872663498,0.094427362084389,-0.031896814703941));
res += mul(Get(s0,0,0), float4x4(0.115934371948242,-0.136287391185760,-0.004302162211388,0.063594184815884,-0.040843363851309,-0.018033716827631,-0.023570738732815,-0.006435409188271,0.019686194136739,0.066778130829334,0.101325340569019,-0.034727677702904,0.061101324856281,-0.136108428239822,-0.044411469250917,0.103950493037701));
res += mul(Get(s0,0,dy), float4x4(-0.001725025242195,0.083250313997269,-0.015920575708151,0.090608656406403,0.024707337841392,0.069685272872448,-0.056049279868603,-0.112016178667545,-0.086937308311462,-0.079913891851902,0.006638500839472,-0.006441738456488,0.146229341626167,0.075861252844334,-0.136656016111374,0.129180505871773));
res += mul(Get(s0,dx,-dy), float4x4(0.052391264587641,0.029297944158316,-0.008948737755418,-0.022952528670430,0.013763818889856,-0.103691659867764,-0.090316273272038,-0.037476185709238,0.005356891546398,-0.009977236390114,-0.039999946951866,-0.026832507923245,-0.029152717441320,0.142452418804169,-0.020661760121584,-0.006174014881253));
res += mul(Get(s0,dx,0), float4x4(0.045355707406998,0.004883653484285,0.036431785672903,-0.036747217178345,-0.113024130463600,-0.036934930831194,-0.078892290592194,-0.125010430812836,0.063010096549988,-0.055281870067120,0.086928822100163,0.107437402009964,0.019740169867873,0.032579511404037,-0.076125517487526,0.007372196763754));
res += mul(Get(s0,dx,dy), float4x4(-0.008513523265719,-0.021891154348850,0.042225521057844,0.025699183344841,-0.017596811056137,-0.041221551597118,-0.024521021172404,-0.087559238076210,0.020395833998919,0.043073136359453,0.000863754888996,-0.007357282564044,0.086965121328831,0.004355796612799,-0.069125920534134,0.156948715448380));
res += mul(Get(s1,-dx,-dy), float4x4(0.056618511676788,0.063458606600761,-0.077258631587029,0.036083742976189,0.024962617084384,0.005464597139508,-0.049406260251999,0.082954198122025,-0.027034785598516,-0.051034294068813,0.103278771042824,-0.013731571845710,-0.043795485049486,0.107911467552185,-0.024043511599302,-0.188510045409203));
res += mul(Get(s1,-dx,0), float4x4(0.033370792865753,-0.119212605059147,0.049365278333426,-0.042508620768785,-0.098237693309784,0.018339710310102,0.055855985730886,0.092767424881458,-0.069669626653194,-0.087428756058216,-0.078172862529755,-0.043027929961681,0.102826118469238,-0.061056848615408,0.038749024271965,0.078337192535400));
res += mul(Get(s1,-dx,dy), float4x4(0.125726982951164,0.103188149631023,-0.061445761471987,0.032445982098579,-0.052323207259178,0.130860075354576,0.032696936279535,0.021655406802893,0.007960490882397,0.057420466095209,-0.115664884448051,-0.050905954092741,0.034556608647108,0.024238392710686,-0.125341117382050,-0.021622262895107));
res += mul(Get(s1,0,-dy), float4x4(0.035562984645367,0.051526296883821,-0.046447351574898,-0.119890071451664,0.084640488028526,-0.186442986130714,0.050020031630993,0.075349919497967,-0.062555536627769,0.029396371915936,-0.019471945241094,-0.066071517765522,-0.019789252430201,0.120773985981941,-0.116661451756954,0.061942521482706));
res += mul(Get(s1,0,0), float4x4(0.095639728009701,-0.037386886775494,0.011125703342259,0.000663433864247,0.096467383205891,0.036319602280855,-0.042867720127106,0.053536452353001,-0.143238082528114,-0.043054711073637,0.172288239002228,0.026866316795349,-0.074066787958145,0.040056806057692,-0.289930582046509,0.039084266871214));
res += mul(Get(s1,0,dy), float4x4(-0.092674218118191,-0.001563810626976,-0.111893020570278,0.105831503868103,0.052060488611460,-0.118797421455383,0.153070434927940,0.060682479292154,-0.089988999068737,0.113927222788334,-0.019012376666069,-0.110948212444782,-0.141344740986824,0.064418762922287,0.007657017558813,-0.036684844642878));
res += mul(Get(s1,dx,-dy), float4x4(-0.110430911183357,0.020717751234770,0.070672102272511,0.029333004727960,-0.106689892709255,0.017884761095047,-0.036848831921816,0.001731796655804,-0.042493857443333,0.087037585675716,-0.057956706732512,-0.062644630670547,0.083574302494526,-0.042413368821144,0.118294768035412,0.070767313241959));
res += mul(Get(s1,dx,0), float4x4(0.050837531685829,-0.014141119085252,-0.214330688118935,-0.057899668812752,0.054899621754885,0.128290265798569,0.000685219536535,-0.014270188286901,-0.124939441680908,-0.029912093654275,0.005320440512151,-0.026300754398108,0.114042453467846,0.059889905154705,0.017653746530414,0.054171618074179));
res += mul(Get(s1,dx,dy), float4x4(0.116801381111145,0.067648306488991,-0.034787539392710,0.102378599345684,-0.155361816287041,-0.145753473043442,-0.054904311895370,-0.107613854110241,0.030311727896333,0.019704848527908,0.016157528385520,-0.159247443079948,0.019005302339792,0.085171677172184,0.009745120070875,0.002424695994705));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024257821962237,0.048042602837086,0.068241886794567,0.055286534130573,0.082764007151127,-0.070483200252056,-0.015730090439320,0.031246602535248,-0.004796303343028,-0.025430794805288,-0.104886792600155,0.043468456715345,-0.060110647231340,-0.087053008377552,0.007319475524127,-0.078972160816193));
res += mul(Get(s2,-dx,0), float4x4(0.020540038123727,0.125495180487633,-0.027789618819952,-0.015240712091327,-0.044881209731102,0.017746377736330,-0.062271688133478,0.042802944779396,0.033651705831289,-0.012992611154914,0.061689224094152,0.053585961461067,0.062308236956596,0.078173227608204,-0.020801542326808,0.089062824845314));
res += mul(Get(s2,-dx,dy), float4x4(-0.042536426335573,-0.156933367252350,-0.046881102025509,0.006034271791577,-0.151556372642517,0.046949196606874,0.034834317862988,-0.052185565233231,-0.092399761080742,-0.215841650962830,-0.048418812453747,-0.109166607260704,-0.007362926844507,-0.071848027408123,-0.253486752510071,0.080148026347160));
res += mul(Get(s2,0,-dy), float4x4(0.059293255209923,0.027987165376544,0.021480148658156,-0.097066201269627,0.041471157222986,0.004525674041361,0.037335686385632,0.064125873148441,0.045612294226885,-0.096098415553570,-0.053430728614330,0.132568687200546,0.070993259549141,0.129978746175766,-0.053043365478516,-0.132240369915962));
res += mul(Get(s2,0,0), float4x4(0.211503654718399,-0.001791366725229,0.058318119496107,0.057820182293653,0.045117497444153,-0.034049235284328,0.079743526875973,0.028500810265541,-0.017134776338935,0.017921643331647,-0.048156637698412,-0.079924523830414,-0.052874863147736,0.200030282139778,0.031768135726452,-0.084219329059124));
res += mul(Get(s2,0,dy), float4x4(-0.009152729995549,0.027800790965557,0.090487785637379,-0.163540422916412,0.040823251008987,0.079618439078331,0.108954884111881,0.003338147886097,0.123319230973721,0.012951293028891,-0.073095209896564,-0.089276291429996,-0.110975079238415,0.114236049354076,0.031724080443382,-0.042588818818331));
res += mul(Get(s2,dx,-dy), float4x4(-0.042321547865868,0.097484201192856,-0.088692389428616,-0.077818803489208,0.065308019518852,0.131080776453018,0.120649963617325,0.073768496513367,-0.061096582561731,-0.176138460636139,-0.023802559822798,-0.005205774679780,0.053760714828968,0.053786717355251,0.018102815374732,0.056997817009687));
res += mul(Get(s2,dx,0), float4x4(-0.084025435149670,0.017355635762215,-0.021837946027517,0.009012658149004,-0.053642753511667,0.038376785814762,-0.162693485617638,-0.010134181939065,0.011895498260856,-0.037636615335941,0.095386020839214,-0.219902396202087,0.068878211081028,0.054723288863897,-0.087727487087250,0.221632346510887));
res += mul(Get(s2,dx,dy), float4x4(-0.027847044169903,0.041880346834660,-0.150442734360695,-0.040281597524881,0.028927417472005,-0.099327623844147,0.003048964543268,-0.083780132234097,-0.017431372776628,0.059523150324821,0.070035845041275,-0.142424434423447,-0.009293209761381,-0.058162700384855,-0.010932496748865,-0.014275087043643));
res += mul(Get(s3,-dx,-dy), float4x4(0.066342473030090,-0.073983274400234,-0.058555342257023,0.042560592293739,0.057454515248537,-0.056632444262505,-0.031597923487425,0.121012464165688,-0.046932633966208,-0.007879678159952,-0.038733124732971,0.047067753970623,0.090373277664185,-0.093669004738331,-0.093226000666618,-0.018797390162945));
res += mul(Get(s3,-dx,0), float4x4(-0.003463179804385,0.038109447807074,0.096924506127834,-0.062462750822306,0.089954979717731,0.031552180647850,0.051544323563576,-0.005097488872707,0.064957670867443,0.077959120273590,0.061288163065910,-0.134106501936913,-0.112414777278900,-0.101798176765442,-0.018084120005369,-0.052534818649292));
res += mul(Get(s3,-dx,dy), float4x4(0.013947543688118,0.040720965713263,0.113080233335495,-0.101593203842640,-0.026062740013003,0.170020058751106,-0.005721670575440,-0.074580870568752,0.079214259982109,-0.037487890571356,-0.087165132164955,-0.042843606323004,-0.024577841162682,0.017768900841475,0.104779615998268,0.082517862319946));
res += mul(Get(s3,0,-dy), float4x4(-0.099752329289913,-0.013985049910843,0.073188222944736,0.000414576759795,-0.092427775263786,-0.027789536863565,0.049108847975731,-0.080999180674553,0.043684061616659,-0.035174030810595,0.051518682390451,-0.015529219061136,0.015280945226550,0.005139935296029,0.004650411196053,-0.109738379716873));
res += mul(Get(s3,0,0), float4x4(-0.011201107874513,0.067552484571934,-0.008751331828535,0.002901121508330,-0.045153886079788,-0.097948461771011,-0.057058196514845,0.065480008721352,-0.053150322288275,-0.114713497459888,-0.074312523007393,0.127672642469406,0.136376142501831,0.009371087886393,-0.081825144588947,0.135402768850327));
res += mul(Get(s3,0,dy), float4x4(0.043091591447592,0.078912347555161,0.046566411852837,-0.089926049113274,-0.080923102796078,-0.009742829017341,0.020490348339081,-0.016201058402658,-0.049134880304337,-0.043139319866896,0.083344168961048,0.008885999210179,0.163915097713470,0.014594867825508,0.072789862751961,-0.038779862225056));
res += mul(Get(s3,dx,-dy), float4x4(0.112327665090561,-0.001537742908113,-0.076518215239048,0.090970769524574,-0.004555057734251,-0.051364757120609,-0.054816853255033,0.044342853128910,-0.133643671870232,0.114584147930145,0.006803921423852,-0.127334833145142,-0.069178991019726,0.023403376340866,-0.008069981820881,-0.082977458834648));
res += mul(Get(s3,dx,0), float4x4(-0.068566977977753,0.056200429797173,0.113098964095116,0.107830300927162,-0.137125357985497,0.070609875023365,-0.110399201512337,0.079136870801449,0.109355993568897,0.022142389789224,-0.010026218369603,0.131191954016685,0.100441828370094,-0.111224174499512,0.072172082960606,-0.116565532982349));
res += mul(Get(s3,dx,dy), float4x4(0.044912602752447,-0.022596802562475,0.058276992291212,0.009497161954641,-0.051375452429056,0.070213384926319,-0.057062953710556,0.018836708739400,-0.150845646858215,-0.054172534495592,-0.097880326211452,0.035060517489910,-0.050538700073957,0.111387901008129,-0.043445438146591,-0.031456131488085));
res = max(float4(0,0,0,0), res);
return res;
}
