sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.083672650158405,-0.042104329913855,-0.146782442927361,0.090636938810349,-0.065623857080936,0.065679371356964,0.033364474773407,-0.095523074269295,-0.034275926649570,0.050032295286655,-0.039366092532873,-0.042119313031435,-0.060515351593494,0.107802927494049,-0.051920071244240,-0.020068556070328));
res += mul(Get(s0,-dx,0), float4x4(0.037548162043095,-0.008478947915137,-0.090050004422665,0.020066535100341,0.064804047346115,-0.089796066284180,-0.125564366579056,-0.009229451417923,-0.200997903943062,-0.010420563630760,0.031716577708721,0.059936307370663,0.037674412131310,0.044998049736023,-0.058144006878138,0.035487342625856));
res += mul(Get(s0,-dx,dy), float4x4(-0.086919248104095,-0.009004716761410,0.049965824931860,-0.119178965687752,0.046957664191723,-0.016631154343486,-0.053602594882250,-0.028421305119991,-0.111116006970406,0.001766191446222,-0.145342543721199,0.144806206226349,0.124633602797985,-0.044846393167973,0.054953414946795,-0.025118093937635));
res += mul(Get(s0,0,-dy), float4x4(-0.128895342350006,0.021226514130831,-0.052078638225794,-0.025851858779788,-0.025368506088853,-0.143835708498955,0.009971071965992,-0.005820298101753,0.084605403244495,0.105337828397751,0.040956571698189,0.070729546248913,-0.110304042696953,0.067992098629475,0.120243132114410,-0.048141602426767));
res += mul(Get(s0,0,0), float4x4(-0.019805032759905,-0.081583395600319,-0.026862656697631,-0.106744676828384,0.072295337915421,0.027163811028004,0.209230080246925,0.022530458867550,0.031806398183107,0.139112278819084,-0.090182565152645,0.048646345734596,0.089324943721294,0.000080705358414,0.004360457416624,-0.072845615446568));
res += mul(Get(s0,0,dy), float4x4(0.102142572402954,-0.046459063887596,-0.114031754434109,0.047798566520214,0.169313043355942,0.010080528445542,0.019594261422753,-0.141555428504944,-0.004284794442356,-0.088141582906246,-0.015837997198105,0.140241682529449,0.052439521998167,-0.026798062026501,-0.091635383665562,-0.031242605298758));
res += mul(Get(s0,dx,-dy), float4x4(-0.120161548256874,-0.038049753755331,0.134772330522537,0.007493092212826,-0.229081571102142,0.119356095790863,-0.001339028240182,-0.092574343085289,0.053344797343016,-0.040109511464834,0.008702117949724,0.103867091238499,0.060657806694508,0.074794925749302,0.113371685147285,-0.111236646771431));
res += mul(Get(s0,dx,0), float4x4(-0.228217229247093,-0.144514143466949,-0.019097339361906,-0.024081690236926,-0.027793858200312,0.001104589900933,0.086493544280529,-0.049761358648539,-0.099047601222992,0.000004347300091,-0.073189452290535,0.080414183437824,0.067577622830868,-0.027713293209672,-0.065639980137348,-0.026266720145941));
res += mul(Get(s0,dx,dy), float4x4(-0.267657756805420,-0.045035585761070,-0.077227048575878,0.076878592371941,-0.010352011770010,-0.118843860924244,0.100083395838737,-0.011636072769761,0.035743236541748,0.031895726919174,0.092360220849514,0.175848677754402,-0.026441233232617,0.122400522232056,-0.167035341262817,-0.018197879195213));
res += mul(Get(s1,-dx,-dy), float4x4(0.081050954759121,-0.083516046404839,-0.101800739765167,0.131781637668610,-0.063799768686295,-0.032810907810926,-0.078700453042984,0.103151172399521,0.050473731011152,-0.006239611189812,0.130591928958893,0.060092549771070,0.074687652289867,-0.075216561555862,0.090799085795879,0.118731357157230));
res += mul(Get(s1,-dx,0), float4x4(-0.055126566439867,0.097952909767628,0.141698762774467,-0.025321090593934,0.048682332038879,-0.169301837682724,-0.051383227109909,-0.050430469214916,0.062518551945686,-0.010518758557737,-0.021548662334681,0.096763357520103,-0.100736513733864,0.012396775186062,0.018023533746600,-0.108117327094078));
res += mul(Get(s1,-dx,dy), float4x4(0.058144688606262,0.120425947010517,0.207622244954109,-0.185455933213234,0.228238716721535,-0.101317599415779,-0.069438762962818,-0.025594178587198,-0.023421751335263,0.087720066308975,0.037317279726267,0.158134892582893,0.111677661538124,0.026307418942451,-0.018934592604637,-0.039167642593384));
res += mul(Get(s1,0,-dy), float4x4(0.093554720282555,-0.110917508602142,-0.036827906966209,0.259227365255356,0.082148879766464,-0.166236191987991,0.036195013672113,0.061952386051416,-0.122309759259224,0.091111078858376,-0.042136874049902,0.234177112579346,0.004724936559796,-0.116675436496735,-0.048564787954092,-0.078046865761280));
res += mul(Get(s1,0,0), float4x4(-0.069969624280930,0.050932478159666,-0.038966987282038,-0.051458712667227,0.144091784954071,0.120029330253601,-0.076944410800934,0.024029022082686,-0.088192328810692,0.139705806970596,0.146704390645027,-0.093210816383362,0.103541046380997,-0.010613986290991,0.002990139648318,0.110847428441048));
res += mul(Get(s1,0,dy), float4x4(-0.011045226827264,0.117962956428528,-0.150562554597855,-0.191469535231590,0.091433152556419,0.035558402538300,-0.021069556474686,0.099485933780670,-0.055355232208967,0.154172971844673,-0.047231286764145,-0.052784878760576,0.050429165363312,-0.032463494688272,-0.030435295775533,0.160749509930611));
res += mul(Get(s1,dx,-dy), float4x4(-0.138676211237907,0.067498728632927,-0.200209349393845,0.025037093088031,-0.043540410697460,0.154955014586449,0.072523474693298,-0.015923622995615,0.049884662032127,0.072983272373676,0.077049136161804,0.195287048816681,-0.058464042842388,0.008995335549116,-0.158620610833168,0.063671834766865));
res += mul(Get(s1,dx,0), float4x4(-0.045780438929796,-0.190291106700897,-0.007446610368788,0.039165098220110,0.017543641850352,0.083934359252453,0.113897144794464,-0.010961314663291,0.147849589586258,0.008823427371681,-0.036252867430449,-0.023842126131058,-0.084698714315891,-0.007872393354774,-0.014551244676113,0.134857326745987));
res += mul(Get(s1,dx,dy), float4x4(0.053232844918966,-0.119550049304962,-0.055903956294060,-0.013711635023355,0.031612012535334,0.081609115004539,-0.045860722661018,-0.036457095295191,-0.043184608221054,0.036344468593597,0.082537420094013,-0.037242833524942,-0.195847734808922,-0.031658649444580,0.025802984833717,0.127605184912682));
res += mul(Get(s2,-dx,-dy), float4x4(-0.042605377733707,-0.112530313432217,-0.033598471432924,0.060746055096388,0.019760301336646,0.020069625228643,-0.104939155280590,0.006419632118195,-0.169242501258850,-0.009544203989208,0.003282365389168,0.053999636322260,0.007503044791520,-0.059820692986250,0.093439809978008,0.011557335965335));
res += mul(Get(s2,-dx,0), float4x4(-0.028598481789231,-0.094753853976727,-0.027964884415269,-0.029330233111978,-0.044704612344503,0.106121093034744,0.185679763555527,0.111543275415897,0.006891818251461,-0.142245560884476,-0.085174173116684,-0.124629057943821,0.032369174063206,0.078401647508144,0.109848059713840,0.122115820646286));
res += mul(Get(s2,-dx,dy), float4x4(-0.026664422824979,-0.113004043698311,-0.042674433439970,0.089437395334244,-0.093955688178539,-0.104116186499596,0.000511864316650,-0.013654049485922,0.101044625043869,0.000608294038102,-0.053808592259884,-0.024249244481325,0.018683325499296,-0.053551856428385,-0.100102327764034,0.046700496226549));
res += mul(Get(s2,0,-dy), float4x4(0.069483585655689,0.018031716346741,0.013429159298539,0.027624024078250,-0.004277770407498,-0.092790462076664,0.084137767553329,-0.009405011311173,0.211680799722672,-0.025852836668491,-0.019737778231502,0.257041394710541,0.144480586051941,-0.056234560906887,-0.138311296701431,-0.001253375434317));
res += mul(Get(s2,0,0), float4x4(0.010683014988899,0.051184318959713,-0.033500384539366,-0.088615722954273,0.171911045908928,-0.074914194643497,0.076012976467609,0.080425843596458,0.249281093478203,0.080877453088760,0.051017165184021,0.081547871232033,0.044543322175741,0.053300619125366,-0.091694124042988,-0.049088522791862));
res += mul(Get(s2,0,dy), float4x4(0.044817123562098,-0.172373116016388,-0.081003963947296,-0.029552470892668,-0.089398063719273,0.053433120250702,0.002272555371746,-0.027748418971896,0.093767501413822,0.061777960509062,-0.101949669420719,-0.106243818998337,0.153779596090317,0.088724173605442,-0.069910317659378,0.027341827750206));
res += mul(Get(s2,dx,-dy), float4x4(0.020043756812811,-0.082177489995956,0.123325414955616,0.114265985786915,0.014904656447470,-0.138451665639877,0.063927806913853,0.167373597621918,0.099119022488594,-0.161680743098259,-0.069185659289360,0.084762349724770,0.058636385947466,0.003923616372049,-0.116345755755901,-0.048307299613953));
res += mul(Get(s2,dx,0), float4x4(0.005177083890885,-0.000210950849578,-0.028121624141932,-0.087889619171619,0.116416700184345,0.071988187730312,-0.032483018934727,0.057941328734159,-0.005536742042750,0.086340107023716,-0.028700863942504,0.027869015932083,0.049988508224487,0.020549466833472,-0.006633219309151,-0.001549756038003));
res += mul(Get(s2,dx,dy), float4x4(-0.104611359536648,0.052321113646030,0.054714661091566,0.026792693883181,-0.197300881147385,-0.101028248667717,0.019967937842011,0.021895078942180,-0.168193936347961,0.035628944635391,-0.062490273267031,-0.170059844851494,-0.157820329070091,0.071602113544941,-0.020822077989578,-0.012943075038493));
res += mul(Get(s3,-dx,-dy), float4x4(0.091854728758335,-0.023130945861340,0.151098251342773,0.004837570711970,0.039488095790148,0.149129226803780,0.147540077567101,0.061889324337244,-0.156782418489456,0.002056893194094,0.071881048381329,-0.046413809061050,0.159708604216576,-0.021217221394181,0.156900078058243,0.009120122529566));
res += mul(Get(s3,-dx,0), float4x4(0.067113526165485,0.079095549881458,0.099412694573402,0.028008688241243,-0.004928212612867,-0.086131185293198,-0.034242797642946,-0.068082414567471,-0.060046121478081,0.065909765660763,-0.009173198603094,0.053762521594763,-0.123281799256802,0.097472660243511,-0.101529411971569,-0.033392757177353));
res += mul(Get(s3,-dx,dy), float4x4(-0.054122488945723,0.046767272055149,0.032906994223595,-0.042501747608185,0.108568444848061,0.066197410225868,0.005617895163596,0.027453800663352,-0.044504787772894,0.123195886611938,-0.041922107338905,0.021921847015619,-0.130958691239357,-0.040349658578634,-0.046266172081232,-0.029491363093257));
res += mul(Get(s3,0,-dy), float4x4(0.012422523461282,-0.130658373236656,-0.103948667645454,0.055931650102139,-0.087952964007854,0.120100542902946,0.068432912230492,-0.043347995728254,-0.000833967758808,0.028538955375552,-0.107110485434532,-0.025335591286421,0.170404031872749,0.108106464147568,-0.035307902842760,0.013855164870620));
res += mul(Get(s3,0,0), float4x4(0.015087572857738,-0.018223749473691,0.016994601115584,-0.117604583501816,0.046487264335155,0.083946578204632,0.026433892548084,-0.085729584097862,0.055895265191793,0.136645749211311,0.221147552132607,0.135951146483421,-0.047901123762131,0.039716299623251,-0.092928700149059,0.004096148535609));
res += mul(Get(s3,0,dy), float4x4(0.033419851213694,0.083156317472458,0.031712617725134,0.075133606791496,-0.088267460465431,-0.041688706725836,-0.044659879058599,0.019803112372756,-0.012981032021344,0.070369228720665,0.131373539566994,-0.163965821266174,0.050975989550352,0.024343453347683,-0.110498398542404,-0.008318787440658));
res += mul(Get(s3,dx,-dy), float4x4(0.042699720710516,-0.034424860030413,0.034047856926918,-0.066041514277458,0.022720683366060,-0.074046209454536,0.120504975318909,-0.014126767404377,0.095253787934780,-0.023905029520392,-0.093827895820141,-0.085679374635220,0.139259397983551,0.037241179496050,0.047124981880188,0.017567243427038));
res += mul(Get(s3,dx,0), float4x4(0.070790223777294,-0.042995736002922,-0.032503392547369,0.005910869222134,-0.079269871115685,0.100597955286503,-0.231438085436821,-0.005129000637680,0.111052505671978,0.034205049276352,-0.081240087747574,0.139122799038887,-0.035863358527422,-0.080498576164246,-0.011829726397991,-0.060750883072615));
res += mul(Get(s3,dx,dy), float4x4(-0.008628485724330,-0.034768439829350,-0.086591325700283,0.022163366898894,0.001323206699453,0.049032811075449,0.040026668459177,-0.079827852547169,0.177732601761818,0.105326823890209,-0.110125526785851,-0.112117752432823,-0.041964959353209,-0.201046213507652,-0.044618055224419,0.107944823801517));
res = max(float4(0,0,0,0), res);
return res;
}
