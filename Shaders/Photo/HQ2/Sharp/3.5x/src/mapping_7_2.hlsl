sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.004757495131344,0.029815020039678,0.138715982437134,0.017286308109760,0.099250242114067,0.001480585196987,0.049883466213942,-0.059645045548677,0.061932470649481,-0.134222164750099,-0.038220327347517,-0.146982654929161,-0.041477750986814,-0.047818984836340,0.214197009801865,0.081778354942799));
res += mul(Get(s0,-dx,0), float4x4(0.070882871747017,-0.095370993018150,0.018844077363610,0.089282184839249,0.087101005017757,0.040335983037949,0.008733561262488,-0.078559018671513,-0.011627338826656,0.209680974483490,-0.067175969481468,0.087707281112671,0.054522387683392,-0.175714194774628,-0.003561052493751,0.024137945845723));
res += mul(Get(s0,-dx,dy), float4x4(-0.034192405641079,0.016528189182281,0.037297252565622,0.105645552277565,0.046168230473995,-0.023122470825911,0.015662588179111,0.039763193577528,0.088441610336304,-0.065880425274372,0.000896951882169,0.080859631299973,0.127679079771042,-0.042080171406269,-0.016984170302749,0.043109755963087));
res += mul(Get(s0,0,-dy), float4x4(-0.049309894442558,0.040776360780001,-0.033166501671076,0.004789968486875,-0.018160460516810,0.054970070719719,-0.028769040480256,0.060563273727894,0.029203288257122,0.032580561935902,0.081692777574062,0.054068490862846,-0.060141056776047,-0.001014960114844,-0.121002189815044,-0.032797362655401));
res += mul(Get(s0,0,0), float4x4(0.055654302239418,-0.010421891696751,-0.026132036000490,0.125434175133705,0.018701756373048,-0.019355317577720,-0.047127902507782,0.032356198877096,0.118434853851795,0.148548796772957,0.014631563797593,0.063958160579205,0.112015791237354,0.145553290843964,0.054882045835257,-0.076921157538891));
res += mul(Get(s0,0,dy), float4x4(0.029717411845922,0.092293180525303,0.122315488755703,0.132535606622696,0.114455014467239,0.086061120033264,0.115323074162006,-0.212179034948349,-0.036301437765360,-0.003493614261970,0.052810084074736,-0.009517390280962,0.101571924984455,0.055937618017197,0.022052964195609,0.026254765689373));
res += mul(Get(s0,dx,-dy), float4x4(-0.117210030555725,0.066749095916748,-0.060823857784271,0.099822551012039,0.060291230678558,0.133403748273849,-0.051679968833923,-0.109476231038570,-0.017839362844825,-0.019162056967616,0.096171706914902,-0.136364072561264,0.132136836647987,0.087985865771770,0.016456153243780,-0.053725317120552));
res += mul(Get(s0,dx,0), float4x4(-0.098381966352463,0.209707692265511,0.108783528208733,0.060801804065704,-0.052988041192293,0.096639186143875,0.057437006384134,-0.196731686592102,0.146989315748215,0.046378139406443,0.091495364904404,-0.032756559550762,0.066776014864445,-0.027185080572963,0.046859633177519,0.102856747806072));
res += mul(Get(s0,dx,dy), float4x4(-0.083648204803467,-0.150777637958527,0.012108216062188,-0.028288260102272,-0.038225162774324,-0.013636549934745,0.104986242949963,-0.071392834186554,-0.145498320460320,-0.065433673560619,-0.069548040628433,-0.051772054284811,0.039054084569216,0.078387923538685,0.081061646342278,-0.030504899099469));
res += mul(Get(s1,-dx,-dy), float4x4(-0.056405123323202,0.070984303951263,0.021498030051589,-0.050354454666376,-0.004466075915843,-0.164079710841179,0.117626756429672,-0.052699699997902,-0.070423744618893,-0.110438331961632,0.225400283932686,-0.156375184655190,-0.039179384708405,0.195290207862854,-0.185998708009720,-0.007725472562015));
res += mul(Get(s1,-dx,0), float4x4(0.106003835797310,-0.020091602578759,-0.193734496831894,-0.010647622868419,-0.067212596535683,-0.137151539325714,0.069229707121849,-0.053097907453775,-0.051252637058496,-0.078330405056477,0.020076129585505,-0.110961697995663,0.067354522645473,0.020323766395450,0.014600789174438,-0.103657469153404));
res += mul(Get(s1,-dx,dy), float4x4(0.039191707968712,0.001846550847404,0.003099309513345,0.062109202146530,-0.014785455539823,-0.083006992936134,0.046377327293158,-0.026029864326119,-0.099658846855164,0.022289961576462,-0.094693079590797,-0.018638059496880,-0.012531081214547,0.068337246775627,0.098208718001842,-0.055719543248415));
res += mul(Get(s1,0,-dy), float4x4(-0.062666177749634,-0.108250990509987,-0.050168577581644,-0.013568353839219,-0.044835206121206,-0.003697652369738,0.011997506022453,0.153522431850433,0.155575782060623,-0.026037404313684,0.094651423394680,-0.039046891033649,0.070906341075897,0.217008143663406,-0.033522475510836,0.064242869615555));
res += mul(Get(s1,0,0), float4x4(0.063399098813534,-0.030825134366751,0.013922125101089,0.000124333048007,-0.143151670694351,-0.048032060265541,0.096900917589664,0.056956004351377,-0.078514255583286,-0.119772918522358,-0.017414428293705,-0.004842783324420,0.157878071069717,0.125397011637688,-0.053623188287020,-0.028142949566245));
res += mul(Get(s1,0,dy), float4x4(-0.052115086466074,0.034047164022923,-0.011714680120349,-0.115762911736965,-0.033747173845768,-0.107205323874950,-0.098814807832241,0.146979391574860,-0.029790423810482,-0.068344138562679,-0.132142677903175,0.061159893870354,-0.025732550770044,-0.034915808588266,0.013290998525918,-0.040529586374760));
res += mul(Get(s1,dx,-dy), float4x4(-0.106069721281528,-0.071488186717033,0.025015207007527,0.028568143025041,-0.087779507040977,-0.025810521095991,0.030779825523496,0.116041302680969,-0.037818096578121,0.004666646011174,-0.042840037494898,-0.071234188973904,-0.078626111149788,-0.161611527204514,-0.005081006325781,-0.008277700282633));
res += mul(Get(s1,dx,0), float4x4(-0.030681721866131,0.012527663260698,0.027555860579014,-0.045818738639355,-0.127930864691734,-0.078615717589855,-0.166238665580750,0.035528618842363,0.085422225296497,-0.033615164458752,0.076647989451885,-0.058434098958969,-0.112358525395393,-0.107745364308357,0.017093345522881,0.084384188055992));
res += mul(Get(s1,dx,dy), float4x4(-0.028473734855652,0.094205528497696,0.026747124269605,-0.037514332681894,-0.075319536030293,-0.198168590664864,-0.139592081308365,0.030593400821090,0.132687851786613,-0.139170020818710,-0.015344382263720,0.139180079102516,0.073646530508995,-0.029956361278892,0.177162066102028,0.037065140902996));
res += mul(Get(s2,-dx,-dy), float4x4(0.045964740216732,0.018165728077292,-0.065455421805382,-0.051179755479097,0.130784302949905,-0.049031965434551,-0.000128016661620,0.087482415139675,-0.005188693758100,-0.006903379224241,-0.012606392614543,-0.008499029092491,0.031497284770012,0.142428800463676,-0.112757317721844,0.227660268545151));
res += mul(Get(s2,-dx,0), float4x4(0.062071930617094,0.144575104117393,0.005406410899013,-0.059531845152378,-0.086445532739162,0.051436528563499,0.145409241318703,0.007834712043405,-0.041434954851866,0.088160999119282,0.025553816929460,0.024017641320825,-0.029089326038957,0.111028559505939,-0.109054774045944,-0.016963068395853));
res += mul(Get(s2,-dx,dy), float4x4(-0.023264732211828,0.186757221817970,0.031649842858315,-0.136374339461327,0.009178168140352,-0.083926260471344,-0.009391388855875,-0.132029429078102,0.089863300323486,0.016659405082464,0.045602086931467,-0.102118067443371,0.035603642463684,0.141014665365219,0.041397962719202,-0.070205591619015));
res += mul(Get(s2,0,-dy), float4x4(-0.064591862261295,0.078481085598469,0.044093504548073,0.092004649341106,-0.030889242887497,0.045859351754189,-0.001198265235871,0.043537341058254,0.045939613133669,-0.070407122373581,-0.030866352841258,0.071631520986557,-0.064818300306797,0.052740655839443,0.092561900615692,0.159993529319763));
res += mul(Get(s2,0,0), float4x4(-0.052204810082912,-0.096068330109119,0.070947155356407,-0.009173821657896,0.148171797394753,0.217724427580833,-0.023859981447458,-0.008554677478969,-0.003610360203311,0.113348633050919,-0.112045653164387,-0.149010360240936,0.040401186794043,-0.028459494933486,0.148521572351456,-0.023301091045141));
res += mul(Get(s2,0,dy), float4x4(-0.054043844342232,-0.015765182673931,-0.013914453797042,-0.016388092190027,0.008017313666642,0.128471091389656,0.037270430475473,0.044977210462093,-0.028017049655318,0.137576356530190,-0.066421106457710,-0.047252554446459,-0.197169810533524,0.059298127889633,0.152608215808868,-0.057018198072910));
res += mul(Get(s2,dx,-dy), float4x4(-0.063409879803658,0.186979979276657,-0.053004361689091,0.011434124782681,0.048313975334167,-0.066645339131355,-0.037459392100573,0.094335973262787,-0.117102868855000,-0.007200214546174,0.084180779755116,-0.038255285471678,-0.024690691381693,-0.045741170644760,-0.045671988278627,-0.012978494167328));
res += mul(Get(s2,dx,0), float4x4(-0.006844101473689,-0.001590364030562,-0.003484226064757,-0.102742157876492,0.043016482144594,0.281068056821823,-0.130261629819870,-0.000941848033108,0.140656366944313,-0.041044026613235,0.086735241115093,0.105584017932415,-0.060693375766277,0.105964742600918,0.073580048978329,-0.154412701725960));
res += mul(Get(s2,dx,dy), float4x4(-0.027004910632968,-0.006861279252917,-0.148934066295624,-0.069680266082287,0.009439134038985,0.160979330539703,-0.016470111906528,-0.083973631262779,0.033134348690510,-0.056864745914936,-0.052765503525734,-0.078961737453938,-0.049261484295130,-0.104875169694424,0.109701029956341,-0.191862866282463));
res += mul(Get(s3,-dx,-dy), float4x4(-0.049069654196501,0.015979232266545,0.039042182266712,-0.063663005828857,0.026210393756628,0.037128802388906,-0.007829166948795,0.000168466620380,0.016697533428669,-0.065629132091999,0.013185371644795,0.076506689190865,0.039679594337940,0.043635241687298,-0.075416885316372,0.106264948844910));
res += mul(Get(s3,-dx,0), float4x4(-0.208100825548172,0.044950030744076,0.192379534244537,-0.012781971134245,-0.082557260990143,-0.070313498377800,-0.083614252507687,0.155768066644669,-0.014479316771030,0.094883576035500,0.110946714878082,-0.025451079010963,0.057180996984243,0.038916405290365,-0.004984445869923,0.025968113914132));
res += mul(Get(s3,-dx,dy), float4x4(-0.103085666894913,0.061365563422441,-0.108706176280975,0.080359183251858,0.102283641695976,0.010536541230977,0.008453306742013,-0.021128874272108,-0.010651136748493,0.159691974520683,-0.135288909077644,0.024742262437940,0.066112533211708,0.085499376058578,0.042881015688181,-0.032578259706497));
res += mul(Get(s3,0,-dy), float4x4(0.248834818601608,0.018545748665929,-0.019825458526611,0.087107419967651,0.135745584964752,-0.133593618869781,-0.038976904004812,-0.007797997444868,-0.081044025719166,-0.059739649295807,-0.052217260003090,0.038600225001574,0.025881502777338,-0.049958277493715,-0.106331318616867,0.123925253748894));
res += mul(Get(s3,0,0), float4x4(0.079507537186146,0.010176048614085,0.022409638389945,0.032443054020405,0.153687551617622,-0.059234298765659,-0.194600030779839,-0.025469752028584,-0.002162732649595,0.021764667704701,-0.064113952219486,-0.072859093546867,0.006841497030109,0.014647300355136,0.088322393596172,-0.113959640264511));
res += mul(Get(s3,0,dy), float4x4(-0.069704666733742,-0.196057036519051,-0.123567923903465,0.102426402270794,0.179842531681061,-0.077871590852737,0.073215194046497,-0.008791280910373,-0.109689444303513,-0.011070457287133,0.120527327060699,-0.029977573081851,0.141805842518806,0.028959816321731,-0.039091244339943,0.069901615381241));
res += mul(Get(s3,dx,-dy), float4x4(0.034023966640234,-0.090145625174046,-0.116848036646843,0.169207677245140,0.063926883041859,-0.138554006814957,-0.164081141352654,0.168908342719078,0.020447893068194,-0.091613546013832,0.102621048688889,0.149314790964127,-0.125709310173988,-0.011576036922634,0.058464195579290,-0.137569621205330));
res += mul(Get(s3,dx,0), float4x4(0.008640714921057,0.165634736418724,0.013980980031192,0.017912330105901,-0.046747580170631,-0.071966700255871,0.018772711977363,-0.022474160417914,0.048780716955662,-0.079158239066601,0.058927759528160,0.009833321906626,-0.069119848310947,0.134979933500290,0.179452314972878,-0.087633185088634));
res += mul(Get(s3,dx,dy), float4x4(-0.228449180722237,0.021119793877006,-0.063511595129967,0.062453407794237,0.009850868955255,-0.126459658145905,0.034939493983984,-0.028277404606342,0.049716539680958,-0.149520024657249,-0.124838419258595,0.073471575975418,-0.062354885041714,-0.086672902107239,0.136576026678085,-0.038804516196251));
res = max(float4(0,0,0,0), res);
return res;
}
