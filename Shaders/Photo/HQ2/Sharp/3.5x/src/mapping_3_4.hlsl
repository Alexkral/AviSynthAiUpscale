sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.192718997597694,0.029443893581629,-0.041435699909925,-0.000975157716312,0.056775376200676,0.074265219271183,-0.038220223039389,-0.047126643359661,0.072166226804256,0.141534730792046,0.037262342870235,-0.234673187136650,-0.021753679960966,-0.014988886192441,0.064174786210060,0.111572660505772));
res += mul(Get(s0,-dx,0), float4x4(-0.017985902726650,-0.122435994446278,-0.098224453628063,0.110535554587841,0.063718371093273,0.003583960002288,0.063208624720573,0.159999981522560,0.140634596347809,-0.082043595612049,-0.060567770153284,-0.080941975116730,0.063150465488434,-0.078694798052311,-0.145743384957314,0.137643083930016));
res += mul(Get(s0,-dx,dy), float4x4(-0.042090278118849,-0.046200349926949,0.043611742556095,0.147961527109146,0.066434428095818,0.034649848937988,0.058381311595440,-0.086916133761406,-0.057687386870384,0.034378662705421,0.069817602634430,-0.127273291349411,0.057485751807690,-0.097553998231888,-0.073120072484016,-0.036600012332201));
res += mul(Get(s0,0,-dy), float4x4(0.045923929661512,0.088415376842022,-0.048021201044321,0.070204526185989,0.027310706675053,-0.046658277511597,0.041368495672941,-0.041366189718246,-0.064182631671429,-0.118630960583687,-0.062277384102345,0.059856083244085,0.120004475116730,-0.105774119496346,-0.086508348584175,-0.042664565145969));
res += mul(Get(s0,0,0), float4x4(-0.115892179310322,-0.099584661424160,0.126940414309502,-0.137359172105789,-0.127362117171288,-0.011366653256118,-0.022339144721627,-0.100552909076214,0.087389819324017,0.045822396874428,0.175556212663651,0.099308528006077,0.039255574345589,0.036044117063284,-0.007752825040370,-0.077810280025005));
res += mul(Get(s0,0,dy), float4x4(-0.037415262311697,-0.014221295714378,-0.004373542033136,0.127654492855072,-0.160847187042236,0.071994990110397,0.013152326457202,0.061413720250130,-0.072784237563610,0.002151675987989,0.138950616121292,-0.172924742102623,-0.105883337557316,0.029489986598492,-0.084575578570366,0.042554005980492));
res += mul(Get(s0,dx,-dy), float4x4(-0.046989899128675,-0.083911210298538,-0.130585089325905,0.095762960612774,0.000128806947032,-0.112288109958172,0.002137448871508,0.028425080701709,0.146453768014908,-0.096392311155796,-0.021621957421303,-0.150353640317917,0.023701731115580,-0.069050990045071,0.019543591886759,0.074569992721081));
res += mul(Get(s0,dx,0), float4x4(0.116391770541668,-0.085801832377911,0.010973412543535,0.024323185905814,0.129775717854500,-0.070393256843090,-0.015474613755941,-0.056639343500137,0.032581597566605,0.029287969693542,0.198314040899277,-0.037679538130760,-0.130104675889015,0.063472457230091,-0.034851450473070,-0.131138339638710));
res += mul(Get(s0,dx,dy), float4x4(0.059909977018833,-0.080686263740063,0.068520933389664,0.211406797170639,0.048879049718380,0.087528668344021,-0.119366586208344,-0.110817015171051,-0.097800053656101,0.098187811672688,0.140660464763641,0.085330769419670,0.037969637662172,-0.093715891242027,0.010619298554957,-0.018496599048376));
res += mul(Get(s1,-dx,-dy), float4x4(0.074786849319935,0.137880846858025,-0.085394933819771,-0.039220459759235,0.001784355845302,0.056278746575117,0.061417106539011,-0.054076954722404,-0.062132261693478,0.065520592033863,0.052448228001595,-0.018671691417694,-0.143818855285645,-0.074489198625088,0.120243728160858,-0.038404099643230));
res += mul(Get(s1,-dx,0), float4x4(0.027933198958635,-0.178568974137306,-0.049699816852808,0.081186667084694,0.055967021733522,0.096248947083950,-0.070760011672974,-0.135873824357986,-0.106528706848621,0.062293320894241,0.061273902654648,0.199928268790245,-0.030267802998424,0.008056256920099,0.060245793312788,-0.135047227144241));
res += mul(Get(s1,-dx,dy), float4x4(-0.075309544801712,-0.021241581067443,0.105488933622837,0.127623066306114,0.077063977718353,-0.036991283297539,0.111139059066772,-0.056576006114483,0.086121603846550,-0.125174030661583,-0.002293312689289,0.098591178655624,-0.001519997138530,0.047659322619438,0.045451026409864,0.170110270380974));
res += mul(Get(s1,0,-dy), float4x4(0.162626907229424,0.065901763737202,-0.171850144863129,0.112544551491737,-0.017516978085041,0.112337470054626,0.041757304221392,0.147153839468956,0.048138178884983,-0.135036244988441,0.142890483140945,-0.209877490997314,-0.035191219300032,0.000929114758037,-0.179942980408669,-0.029718240723014));
res += mul(Get(s1,0,0), float4x4(0.135552465915680,0.001427180483006,-0.095354847609997,0.071295097470284,0.148581176996231,0.023014944046736,0.114970803260803,0.047781851142645,0.200274273753166,0.114032648503780,0.020220380276442,-0.073061555624008,-0.068460948765278,0.014397795312107,-0.117956578731537,0.184556961059570));
res += mul(Get(s1,0,dy), float4x4(-0.025347879156470,0.005415298044682,-0.035097572952509,-0.014320767484605,0.000296440848615,-0.138683423399925,0.037262864410877,-0.023601219058037,-0.030755095183849,0.069763459265232,-0.024750471115112,0.009565258398652,-0.021706044673920,0.019282046705484,0.079034239053726,-0.103334970772266));
res += mul(Get(s1,dx,-dy), float4x4(-0.106040529906750,-0.034100502729416,0.035971418023109,-0.021415838971734,-0.087659269571304,-0.050778832286596,-0.084592282772064,0.025490418076515,0.050377607345581,0.040805894881487,0.024062080308795,0.049455739557743,-0.223946303129196,0.088752850890160,-0.019172381609678,-0.037489771842957));
res += mul(Get(s1,dx,0), float4x4(0.075257703661919,0.183515205979347,-0.108521275222301,-0.072833888232708,-0.082406967878342,-0.026612937450409,-0.117899879813194,0.036450166255236,-0.017316902056336,0.138328433036804,-0.047733701765537,-0.025612853467464,0.049783252179623,-0.243102222681046,0.134350880980492,-0.133430331945419));
res += mul(Get(s1,dx,dy), float4x4(0.037787362933159,-0.029433285817504,-0.049169611185789,0.113089494407177,0.067010745406151,0.050735644996166,0.031886868178844,0.035744622349739,0.013634463772178,0.164610520005226,0.074611216783524,-0.004247857723385,0.009428827092052,-0.008850607089698,0.102657489478588,-0.099265135824680));
res += mul(Get(s2,-dx,-dy), float4x4(0.107553318142891,-0.011403690092266,-0.122530139982700,0.104907557368279,-0.146726563572884,-0.032885517925024,-0.014572302810848,0.034859336912632,0.075252979993820,-0.002936260309070,-0.153061836957932,0.069649294018745,-0.073770195245743,-0.051526289433241,0.013768175616860,-0.074567064642906));
res += mul(Get(s2,-dx,0), float4x4(0.080458678305149,-0.021722685545683,0.078083895146847,0.100873045623302,0.014989315532148,-0.104509629309177,0.009669156745076,-0.129642829298973,0.085444584488869,-0.035647280514240,0.108813926577568,-0.005723265931010,-0.011910097673535,-0.044231981039047,-0.125181853771210,-0.076765939593315));
res += mul(Get(s2,-dx,dy), float4x4(-0.017005600035191,0.032636150717735,0.035297527909279,-0.026830278337002,0.055954277515411,-0.106622606515884,-0.113656319677830,-0.087580420076847,0.207306221127510,0.046322848647833,-0.093783847987652,0.025148024782538,0.066732071340084,0.154774889349937,0.004386089742184,0.041811298578978));
res += mul(Get(s2,0,-dy), float4x4(0.192205443978310,0.043542630970478,0.180810719728470,0.034824263304472,-0.210608601570129,0.021776830777526,-0.022706296294928,-0.096931353211403,0.031919144093990,0.060297310352325,0.132311403751373,0.130348756909370,0.172626271843910,0.039285253733397,0.010430236347020,0.140188828110695));
res += mul(Get(s2,0,0), float4x4(-0.019610948860645,-0.015879234299064,0.020053863525391,-0.035541161894798,-0.045330747961998,-0.010873224586248,-0.022185966372490,0.134543463587761,0.050766073167324,-0.033283416181803,0.014347044751048,-0.076658442616463,-0.036869756877422,0.030594971030951,-0.027013020589948,-0.019875533878803));
res += mul(Get(s2,0,dy), float4x4(-0.008686198852956,0.023358197882771,0.048135664314032,0.079000100493431,-0.143569439649582,0.106153085827827,0.096784368157387,-0.022247927263379,-0.040386795997620,0.008105373010039,-0.043986625969410,-0.116054914891720,0.048875138163567,0.024664269760251,0.044686481356621,0.100582510232925));
res += mul(Get(s2,dx,-dy), float4x4(0.053210038691759,-0.132917657494545,-0.160438060760498,-0.039298307150602,-0.119133181869984,0.017931943759322,0.140560433268547,0.016101527959108,0.029980335384607,-0.090988777577877,0.046542245894670,0.037772364914417,-0.039957087486982,0.034177582710981,0.067663848400116,0.122768513858318));
res += mul(Get(s2,dx,0), float4x4(-0.012227504514158,-0.084780208766460,-0.068019062280655,0.146841078996658,0.025431100279093,-0.118390947580338,0.059551194310188,-0.123455829918385,-0.153326407074928,0.083042658865452,0.039103832095861,-0.029548827558756,0.006093004252762,0.034146897494793,-0.144800871610641,0.100833259522915));
res += mul(Get(s2,dx,dy), float4x4(0.021063279360533,-0.012891530059278,-0.175953850150108,-0.131230011582375,0.044250223785639,-0.193450018763542,0.086176127195358,-0.078863933682442,-0.052433192729950,-0.008479418233037,-0.084458306431770,-0.027329970151186,0.240263625979424,-0.005340727511793,-0.108560755848885,0.132705166935921));
res += mul(Get(s3,-dx,-dy), float4x4(0.011279749684036,0.145997479557991,-0.051874350756407,0.048466909676790,0.040455348789692,-0.172569662332535,0.043117359280586,0.049756478518248,-0.089505076408386,0.045726273208857,0.131057411432266,0.024235937744379,-0.060900609940290,0.011991376057267,-0.015524939633906,-0.146591573953629));
res += mul(Get(s3,-dx,0), float4x4(-0.066706128418446,-0.023623295128345,0.064926177263260,-0.119927398860455,0.135825172066689,0.068474009633064,0.071022033691406,0.161976292729378,0.066281691193581,-0.023787237703800,-0.070015743374825,-0.057664837688208,0.011219701729715,-0.267856478691101,-0.037960879504681,0.013531585223973));
res += mul(Get(s3,-dx,dy), float4x4(0.082427993416786,-0.074626490473747,0.007332271896303,-0.063932411372662,0.102514386177063,-0.011195090599358,-0.086437970399857,-0.036982111632824,-0.020522169768810,-0.137355446815491,-0.026731207966805,0.050563715398312,-0.083866342902184,-0.079685300588608,0.047058660537004,0.069610960781574));
res += mul(Get(s3,0,-dy), float4x4(0.108210638165474,-0.052626181393862,-0.029266335070133,-0.012166672386229,-0.146985575556755,0.001366458600387,0.109533376991749,0.092665381729603,-0.009248013608158,-0.048149984329939,0.036924235522747,-0.060060080140829,-0.003959588240832,-0.127477273344994,0.026972515508533,-0.089893713593483));
res += mul(Get(s3,0,0), float4x4(-0.117523998022079,0.088454328477383,0.069241970777512,-0.128440618515015,-0.077084042131901,0.082914657890797,-0.048521604388952,-0.097967557609081,-0.023178404197097,0.246692672371864,-0.019021918997169,0.023503724485636,0.085429556667805,-0.019479183480144,-0.170094147324562,-0.014903400093317));
res += mul(Get(s3,0,dy), float4x4(-0.051032878458500,0.060484036803246,0.211959823966026,-0.047790136188269,-0.200731128454208,-0.027053570374846,-0.068628102540970,-0.102806158363819,0.060733508318663,0.041710283607244,-0.030170142650604,0.034786574542522,-0.006481902208179,0.092661105096340,-0.019400198012590,0.108918309211731));
res += mul(Get(s3,dx,-dy), float4x4(-0.056956015527248,0.088644661009312,-0.065314650535583,0.113907426595688,0.030104322358966,0.008588071912527,0.064798302948475,0.001202694955282,0.141156449913979,0.018772274255753,0.067794345319271,0.125612899661064,0.102120652794838,0.043921306729317,-0.091799363493919,0.147647827863693));
res += mul(Get(s3,dx,0), float4x4(-0.031289320439100,-0.031702000647783,-0.063776604831219,-0.070703469216824,-0.111451745033264,-0.086451582610607,0.038693200796843,0.017321746796370,0.067972794175148,-0.041590102016926,-0.044962070882320,-0.095180623233318,-0.043246243149042,-0.039490312337875,0.010650052689016,0.004151805769652));
res += mul(Get(s3,dx,dy), float4x4(-0.015807976946235,0.010296477936208,-0.127181157469749,0.018841354176402,-0.019036019220948,-0.065427601337433,0.000059954836615,-0.069573342800140,-0.006782719865441,-0.159774184226990,0.043975152075291,0.020755803212523,0.037627015262842,-0.141916930675507,-0.052904918789864,0.131384745240211));
res = max(float4(0,0,0,0), res);
return res;
}
