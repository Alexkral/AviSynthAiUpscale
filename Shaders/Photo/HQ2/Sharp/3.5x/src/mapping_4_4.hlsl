sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.049047660082579,-0.026679439470172,0.258416324853897,-0.258260846138000,-0.018208593130112,-0.064122878015041,0.032052405178547,0.176858991384506,0.010227256454527,-0.044980984181166,-0.048951689153910,-0.074296101927757,-0.102961562573910,0.113574452698231,-0.052869476377964,0.076733306050301));
res += mul(Get(s0,-dx,0), float4x4(-0.038835011422634,0.083249554038048,-0.020497854799032,0.058597821742296,-0.066827952861786,-0.051906198263168,-0.062068749219179,-0.040355570614338,-0.042419817298651,0.036614138633013,0.089040622115135,-0.197560846805573,-0.159133389592171,0.025743404403329,0.013320412486792,0.035958498716354));
res += mul(Get(s0,-dx,dy), float4x4(-0.030585849657655,-0.039598222821951,0.062379412353039,-0.086634919047356,-0.138619840145111,-0.092846274375916,-0.005125524941832,-0.013932124711573,0.079500205814838,0.103991046547890,0.010751222260296,-0.110037267208099,-0.074710607528687,0.000612041505519,0.005306210368872,0.030931750312448));
res += mul(Get(s0,0,-dy), float4x4(-0.005751932971179,-0.036715425550938,0.122837409377098,0.033160511404276,-0.068529061973095,-0.118671543896198,-0.069461874663830,0.065681271255016,-0.054131474345922,-0.016674190759659,0.015228430740535,0.005414642859250,-0.021695800125599,0.040295951068401,-0.130496919155121,0.134981989860535));
res += mul(Get(s0,0,0), float4x4(-0.080437906086445,-0.087056599557400,-0.097352705895901,0.084580294787884,-0.052204176783562,0.016147049143910,0.035468652844429,-0.162916168570518,-0.052608005702496,0.015765173360705,-0.036911007016897,0.041533503681421,0.143779084086418,-0.103380002081394,-0.065959468483925,-0.011008151806891));
res += mul(Get(s0,0,dy), float4x4(-0.043237652629614,-0.069076344370842,0.205852538347244,0.117994830012321,0.129070997238159,-0.045111056417227,-0.046636804938316,0.252092957496643,0.060613650828600,-0.224747881293297,-0.041999801993370,0.027910262346268,-0.058072913438082,-0.032867833971977,0.173223704099655,0.110612466931343));
res += mul(Get(s0,dx,-dy), float4x4(0.005206913221627,-0.045959316194057,0.082323111593723,0.075195476412773,0.066458441317081,0.114171482622623,-0.009325522929430,-0.148825675249100,-0.037510830909014,-0.042179152369499,-0.143390178680420,-0.050600964576006,0.008377079851925,0.034573912620544,-0.129341110587120,-0.069646276533604));
res += mul(Get(s0,dx,0), float4x4(0.051102694123983,0.012698947452009,-0.001560806529596,0.051268663257360,0.049618657678366,-0.027219990268350,0.058053009212017,0.148407340049744,-0.076356291770935,0.011410593986511,0.077901855111122,0.008066236972809,0.141856029629707,-0.015245135873556,0.027384677901864,-0.125020042061806));
res += mul(Get(s0,dx,dy), float4x4(-0.013464405201375,0.060995377600193,-0.032626543194056,-0.033113405108452,0.121877111494541,0.087216004729271,0.112115830183029,0.134593307971954,-0.062657572329044,0.004382659681141,-0.037703096866608,0.153117254376411,-0.007223417051136,-0.221221894025803,0.026948928833008,-0.094699978828430));
res += mul(Get(s1,-dx,-dy), float4x4(-0.026695780456066,0.061141017824411,0.119787812232971,-0.150759875774384,0.058763328939676,0.032832175493240,0.029568826779723,0.014659160748124,-0.110277898609638,0.002905446337536,0.026524795219302,-0.059661675244570,0.147862046957016,0.067554153501987,0.058906212449074,-0.026276150718331));
res += mul(Get(s1,-dx,0), float4x4(0.019821103662252,-0.116994865238667,0.018605928868055,0.134193271398544,-0.001844088430516,-0.001645073760301,-0.009409618563950,0.011406796053052,-0.124947369098663,0.014411616139114,0.023284472525120,-0.023279495537281,0.096444383263588,-0.106294594705105,0.004118685610592,-0.020485827699304));
res += mul(Get(s1,-dx,dy), float4x4(0.018453607335687,-0.108224742114544,0.116960480809212,0.113903179764748,0.059099938720465,-0.121372267603874,-0.111915834248066,-0.039836481213570,-0.093756452202797,0.035862620919943,0.170962229371071,0.004124009050429,-0.041798837482929,-0.045219503343105,-0.075951851904392,0.046461641788483));
res += mul(Get(s1,0,-dy), float4x4(-0.066200770437717,0.034869834780693,-0.032640475779772,-0.070706225931644,0.102060385048389,-0.013896255753934,-0.032190315425396,0.029686756432056,0.010770644061267,0.084036104381084,0.083813346922398,0.003632287029177,0.203707039356232,-0.045086950063705,-0.152799993753433,-0.081458561122417));
res += mul(Get(s1,0,0), float4x4(0.009253976866603,-0.022001476958394,-0.028759192675352,0.031482659280300,-0.016617152839899,0.272147446870804,-0.187520816922188,-0.136122643947601,-0.003368861973286,0.019789675250649,0.039457835257053,-0.000241574787651,0.081944130361080,0.155642464756966,-0.106224104762077,0.137697249650955));
res += mul(Get(s1,0,dy), float4x4(-0.050807792693377,-0.067229598760605,-0.045145601034164,0.100493498146534,-0.027908677235246,0.028754623606801,0.026661694049835,-0.131453320384026,-0.021505376324058,0.094942644238472,0.111910454928875,0.025882080197334,0.020422615110874,-0.081024587154388,-0.025939807295799,-0.069584466516972));
res += mul(Get(s1,dx,-dy), float4x4(-0.100127294659615,-0.137724250555038,0.003687546821311,-0.067646495997906,0.070777408778667,0.014964217320085,0.036476999521255,-0.024444174021482,0.080372571945190,-0.013384665362537,0.057038944214582,-0.080848902463913,-0.085912980139256,-0.106784641742706,0.026637598872185,0.006851240992546));
res += mul(Get(s1,dx,0), float4x4(0.001334069995210,-0.056343853473663,-0.044929143041372,-0.086887866258621,-0.004788386169821,0.150744095444679,-0.082251273095608,0.020002841949463,-0.006979930680245,0.078394226729870,0.127757608890533,0.019453108310699,0.140303090214729,0.023354118689895,0.034077662974596,-0.074220739305019));
res += mul(Get(s1,dx,dy), float4x4(0.071137309074402,-0.187281697988510,-0.000083273815108,-0.040084403008223,0.154695376753807,0.049435324966908,0.040562290698290,0.008408169262111,0.050280611962080,-0.037279587239027,-0.115032240748405,0.085182748734951,-0.011616249568760,-0.102514348924160,-0.041988361626863,-0.044201377779245));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007090017199516,-0.097218818962574,0.027454163879156,-0.009079573675990,-0.014168995432556,-0.173335075378418,0.010513533838093,-0.154592663049698,0.159993678331375,0.008844466879964,0.141310796141624,-0.023162942379713,-0.075202219188213,-0.088626436889172,0.109622351825237,0.063318595290184));
res += mul(Get(s2,-dx,0), float4x4(0.004381193779409,0.034204643219709,0.095988608896732,0.092249318957329,-0.037022016942501,-0.051717717200518,-0.015952864661813,0.005963689647615,0.012010139413178,-0.027540583163500,0.008521967567503,-0.057522874325514,0.073007211089134,-0.010308697819710,0.013039154931903,-0.013773760758340));
res += mul(Get(s2,-dx,dy), float4x4(0.022084975615144,0.019991803914309,0.078163497149944,-0.027554184198380,-0.005243076942861,-0.023455709218979,0.015940001234412,0.002564341295511,0.045799206942320,0.105088226497173,0.020032700151205,0.154456436634064,0.020084045827389,-0.072787538170815,0.082420706748962,-0.016903368756175));
res += mul(Get(s2,0,-dy), float4x4(0.199694961309433,0.109891906380653,0.130319133400917,-0.000924795866013,0.031824409961700,0.014475821517408,-0.075251705944538,-0.042236227542162,-0.047844320535660,0.047284182161093,-0.028812242671847,-0.052761822938919,-0.103265531361103,0.099468827247620,0.008632418699563,-0.014039842411876));
res += mul(Get(s2,0,0), float4x4(0.122915215790272,0.026048105210066,-0.134013846516609,-0.005440034437925,0.084307774901390,-0.036623466759920,0.041028663516045,0.048522580415010,0.020316701382399,0.076361067593098,0.069735758006573,0.079544939100742,-0.156648024916649,-0.031936552375555,0.026631249114871,-0.046443585306406));
res += mul(Get(s2,0,dy), float4x4(-0.007853999733925,0.127854079008102,-0.091742925345898,0.105520226061344,-0.061337545514107,0.046346586197615,-0.164270713925362,0.015348042361438,-0.064667552709579,-0.004156120587140,0.005903239827603,0.051492869853973,-0.113231524825096,-0.101911775767803,0.001903932541609,-0.115907274186611));
res += mul(Get(s2,dx,-dy), float4x4(0.145258307456970,0.068171642720699,0.020938277244568,-0.166551411151886,0.127691581845284,0.009212502278388,0.092247828841209,0.031860694289207,0.011347036808729,0.074575081467628,0.005451411474496,0.058613125234842,-0.077214263379574,0.003621485317126,0.055765885859728,-0.034616284072399));
res += mul(Get(s2,dx,0), float4x4(-0.026505813002586,0.133438915014267,0.098065093159676,0.046892125159502,-0.013958926312625,0.161293238401413,-0.133995682001114,0.152799084782600,-0.052883956581354,0.127476960420609,0.080271378159523,0.040642324835062,0.006153609603643,-0.070956446230412,-0.044115941971540,0.116111256182194));
res += mul(Get(s2,dx,dy), float4x4(-0.092367149889469,0.011864021420479,-0.063612304627895,0.003200889332220,0.040467590093613,-0.106656983494759,0.074094310402870,0.065410129725933,0.005597678013146,-0.047304779291153,-0.010378373786807,-0.051972582936287,0.034482657909393,-0.130351364612579,0.085724033415318,0.172978579998016));
res += mul(Get(s3,-dx,-dy), float4x4(-0.099597573280334,0.045962393283844,0.033607263118029,0.012161271646619,-0.082796216011047,-0.003898290451616,0.019126230850816,0.013905555941164,-0.061385996639729,-0.123063325881958,-0.029369583353400,-0.020215930417180,0.139539495110512,0.048584874719381,-0.060172729194164,0.095601782202721));
res += mul(Get(s3,-dx,0), float4x4(-0.152787104249001,-0.035655867308378,0.032378375530243,0.072541154921055,0.147897958755493,-0.008433684706688,0.054986651986837,-0.090026505291462,-0.085350997745991,0.006182334385812,0.017449704930186,-0.053199179470539,-0.045679233968258,0.015744810923934,0.178399711847305,-0.087144620716572));
res += mul(Get(s3,-dx,dy), float4x4(-0.042325947433710,0.047359704971313,-0.110038526356220,0.037084132432938,0.005081287119538,-0.086722560226917,-0.043675493448973,0.061683040112257,0.118965588510036,-0.019146302714944,-0.022989328950644,-0.051874864846468,-0.070411562919617,-0.065495371818542,0.014169735834002,0.057989701628685));
res += mul(Get(s3,0,-dy), float4x4(-0.142848685383797,0.091604806482792,0.179674923419952,-0.158912852406502,-0.022851033136249,-0.007601575460285,-0.011834081262350,0.038360480219126,0.059106227010489,0.009252080693841,-0.120937325060368,0.011123381555080,0.027093162760139,0.002439170610160,-0.033852584660053,0.026890747249126));
res += mul(Get(s3,0,0), float4x4(-0.021063901484013,0.000418249110226,0.128040835261345,-0.008889527991414,-0.110530801117420,-0.004080156795681,-0.025617711246014,-0.024889580905437,0.098336420953274,-0.203436508774757,-0.032155435532331,0.010463868267834,-0.106294386088848,-0.082875363528728,0.071377642452717,0.120445959270000));
res += mul(Get(s3,0,dy), float4x4(-0.098985008895397,-0.044573277235031,-0.008145527914166,-0.090933330357075,0.030415354296565,0.051903042942286,-0.054711502045393,0.053631972521544,-0.241090282797813,0.048423115164042,-0.057341817766428,-0.144248008728027,0.140006393194199,-0.071925885975361,0.028622183948755,0.018293198198080));
res += mul(Get(s3,dx,-dy), float4x4(0.041752304881811,-0.000408932421124,-0.099983148276806,-0.147349625825882,-0.092969454824924,0.069010257720947,0.065662257373333,-0.022961314767599,-0.047051124274731,0.028896311298013,-0.090662211179733,0.106335714459419,0.086923375725746,0.128818228840828,-0.042945533990860,-0.051271412521601));
res += mul(Get(s3,dx,0), float4x4(-0.047693297266960,0.068426892161369,-0.032251387834549,-0.072507016360760,-0.099115401506424,0.019142588600516,0.025644050911069,-0.104857556521893,-0.039528027176857,-0.015079657547176,0.059552989900112,0.084272399544716,0.198781207203865,-0.153042390942574,-0.008269571699202,-0.171221047639847));
res += mul(Get(s3,dx,dy), float4x4(0.012566142715514,0.068092308938503,0.008776027709246,0.121553547680378,-0.061495821923018,-0.070256449282169,-0.027299236506224,-0.100387021899223,-0.044417530298233,-0.042858365923166,0.187323868274689,0.158656939864159,0.048361122608185,-0.099944703280926,-0.141479074954987,-0.084847219288349));
res = max(float4(0,0,0,0), res);
return res;
}
