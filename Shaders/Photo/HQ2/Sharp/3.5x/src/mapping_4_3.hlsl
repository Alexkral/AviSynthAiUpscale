sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.089391715824604,-0.038518756628036,-0.104954890906811,0.234178408980370,-0.031167445704341,0.002787647303194,0.003575721522793,-0.017202155664563,-0.052412778139114,-0.010498586110771,-0.002354484982789,0.002862345660105,0.049342870712280,0.011942295357585,-0.159856021404266,0.060717415064573));
res += mul(Get(s0,-dx,0), float4x4(0.033414594829082,0.030997954308987,0.042293421924114,-0.088694892823696,-0.101109519600868,0.048017900437117,-0.015544618479908,-0.010352070443332,-0.068240776658058,-0.098482809960842,-0.077768161892891,0.089228712022305,0.013791307806969,0.086367070674896,0.078504107892513,0.051175065338612));
res += mul(Get(s0,-dx,dy), float4x4(-0.142796739935875,-0.048311196267605,0.240383133292198,-0.062579266726971,-0.189078927040100,0.257186919450760,0.043340772390366,-0.008724558167160,0.037803798913956,0.052676316350698,0.220200330018997,-0.036519624292850,-0.089392885565758,-0.139416724443436,0.068775288760662,-0.019868044182658));
res += mul(Get(s0,0,-dy), float4x4(-0.064708352088928,0.128439426422119,0.027716770768166,0.009674129076302,-0.122417390346527,0.157415196299553,-0.108642004430294,0.045839916914701,0.015358866192400,-0.007891688495874,0.011056066490710,-0.072068616747856,-0.137727513909340,0.063843533396721,0.029049869626760,0.041993856430054));
res += mul(Get(s0,0,0), float4x4(0.006764892488718,-0.153487443923950,-0.116909340023994,0.045366477221251,0.206042766571045,-0.026262216269970,0.106618717312813,0.092280760407448,0.051775693893433,0.091440446674824,-0.017590032890439,0.105418719351292,-0.042676679790020,-0.089395642280579,0.168239995837212,-0.129668787121773));
res += mul(Get(s0,0,dy), float4x4(0.078116439282894,-0.068320237100124,0.186673313379288,0.001115880440921,-0.077863916754723,0.045329194515944,-0.112181074917316,0.008958549238741,-0.039343353360891,-0.085955299437046,-0.064316861331463,0.041731312870979,0.055261418223381,-0.166254058480263,-0.026555085554719,0.013765914365649));
res += mul(Get(s0,dx,-dy), float4x4(-0.022695591673255,0.149636819958687,0.267682671546936,-0.127408131957054,0.131435811519623,0.125641480088234,0.048291433602571,-0.021632235497236,0.054991886019707,0.093164004385471,-0.025021849200130,-0.077367708086967,-0.123568467795849,0.060154702514410,0.080146327614784,-0.219759270548820));
res += mul(Get(s0,dx,0), float4x4(-0.055318627506495,-0.121677242219448,-0.099773354828358,-0.129191115498543,-0.039361678063869,-0.035073969513178,0.007976400665939,-0.044452000409365,-0.060168679803610,-0.097049042582512,0.086859449744225,0.089302912354469,0.046173579990864,-0.011453188024461,0.022437980398536,-0.020039625465870));
res += mul(Get(s0,dx,dy), float4x4(0.174215584993362,-0.068412221968174,-0.090952113270760,-0.149407997727394,0.112656511366367,-0.244684532284737,-0.150008246302605,0.105178251862526,0.072993069887161,0.131276398897171,-0.136740595102310,-0.045006319880486,0.156339541077614,-0.036737211048603,0.113837063312531,-0.110472425818443));
res += mul(Get(s1,-dx,-dy), float4x4(-0.039072323590517,0.020733036100864,0.068612866103649,0.037830173969269,0.147352591156960,-0.033534444868565,-0.159985363483429,0.076064541935921,-0.067176692187786,0.060715336352587,-0.024149393662810,0.031455516815186,-0.121905475854874,0.106915697455406,-0.070485778152943,-0.046955764293671));
res += mul(Get(s1,-dx,0), float4x4(-0.012318458408117,-0.040072843432426,0.050781905651093,-0.088469676673412,-0.191882222890854,0.055472001433372,-0.079004764556885,-0.050357092171907,0.110524363815784,0.101617433130741,-0.097703903913498,0.033518671989441,-0.166906014084816,0.148923158645630,-0.026611220091581,-0.035381443798542));
res += mul(Get(s1,-dx,dy), float4x4(-0.086043760180473,-0.111970782279968,-0.081667043268681,0.073703333735466,-0.004747475031763,0.107320435345173,0.197892114520073,-0.005174524150789,-0.147456005215645,0.053691867738962,-0.010375058278441,0.011810421012342,0.064631201326847,0.078754924237728,-0.098562739789486,0.045316193252802));
res += mul(Get(s1,0,-dy), float4x4(-0.009696515277028,-0.167346060276031,-0.042141608893871,-0.064725778996944,0.034724894911051,-0.032102260738611,-0.056829433888197,-0.036252200603485,-0.022448908537626,-0.006267481949180,-0.173477187752724,0.130457147955894,-0.163273498415947,0.061247304081917,-0.205827638506889,0.047069311141968));
res += mul(Get(s1,0,0), float4x4(-0.082764022052288,-0.136697232723236,0.032736126333475,-0.071456894278526,-0.018346482887864,-0.086844362318516,-0.102250076830387,-0.009780178777874,0.113275066018105,0.044558070600033,0.047921478748322,0.000775160267949,0.042564809322357,0.126313492655754,-0.091671064496040,-0.011781244538724));
res += mul(Get(s1,0,dy), float4x4(0.083806358277798,-0.033271584659815,0.018850041553378,0.044360827654600,0.087385565042496,0.081933699548244,0.018500283360481,-0.054995831102133,0.042718887329102,0.184888765215874,0.108415178954601,-0.039615236222744,-0.145588979125023,-0.016027646139264,-0.116480298340321,0.024970730766654));
res += mul(Get(s1,dx,-dy), float4x4(0.076681479811668,0.057843364775181,-0.135100603103638,-0.034152362495661,-0.079130470752716,-0.058917231857777,0.032291851937771,0.023255908861756,-0.004220806993544,0.010639018379152,0.092480786144733,0.054223280400038,0.045717194676399,-0.015836697071791,-0.049908608198166,-0.075868725776672));
res += mul(Get(s1,dx,0), float4x4(0.024746367707849,-0.010812285356224,0.014211080968380,-0.046984679996967,-0.003478942904621,-0.192288443446159,-0.007026519626379,0.002664046594873,0.025028498843312,-0.004642066080123,0.115483216941357,0.003011174965650,0.023526936769485,-0.069365337491035,-0.069889388978481,-0.007569716777653));
res += mul(Get(s1,dx,dy), float4x4(-0.013404045253992,0.009178941138089,0.022113187238574,-0.053806379437447,0.134408995509148,0.043836578726768,-0.159269064664841,0.054116148501635,-0.071006737649441,0.131185188889503,0.149913832545280,-0.091946430504322,0.006731350906193,0.146594986319542,0.020845979452133,-0.027495518326759));
res += mul(Get(s2,-dx,-dy), float4x4(-0.044173579663038,0.211620897054672,-0.083996117115021,0.058854874223471,0.032513730227947,0.036396656185389,-0.145327091217041,-0.049435112625360,-0.117188356816769,-0.017932476475835,-0.085010677576065,0.028421234339476,-0.038205869495869,0.100088179111481,0.130647242069244,0.099130526185036));
res += mul(Get(s2,-dx,0), float4x4(0.102912358939648,0.084657378494740,0.016911748796701,0.067645102739334,0.026427371427417,-0.162820488214493,-0.065248169004917,-0.107107907533646,-0.080797806382179,-0.068300291895866,0.055024765431881,-0.067961409687996,0.014247327111661,0.121611803770065,0.009374666959047,0.028958588838577));
res += mul(Get(s2,-dx,dy), float4x4(0.068119131028652,-0.046942796558142,-0.002563737099990,-0.055348627269268,0.003691595979035,0.073275059461594,-0.206484362483025,0.042490225285292,0.055927339941263,0.051754567772150,-0.094421818852425,-0.003413690254092,-0.026414807885885,-0.033602848649025,0.049994658678770,0.026770764961839));
res += mul(Get(s2,0,-dy), float4x4(-0.115449152886868,-0.081975832581520,-0.121052391827106,-0.157302752137184,0.017460197210312,0.026353968307376,0.111899822950363,-0.003890702268109,-0.020515855401754,0.080719597637653,0.037302665412426,0.075587071478367,-0.051749352365732,0.066595345735550,0.010091820731759,-0.002435505157337));
res += mul(Get(s2,0,0), float4x4(-0.049378618597984,-0.077484153211117,-0.162741899490356,0.014055718667805,-0.145920321345329,-0.087629973888397,-0.083191789686680,-0.114593587815762,0.023541331291199,-0.146330848336220,0.007341174408793,-0.100634060800076,0.150200709700584,0.000544634764083,0.115813933312893,-0.064773678779602));
res += mul(Get(s2,0,dy), float4x4(0.037727087736130,0.009275425225496,-0.194682791829109,0.106251314282417,0.116185612976551,-0.053373243659735,0.016598841175437,0.053180921822786,0.083830907940865,0.106822364032269,-0.051123179495335,0.077403999865055,0.000635973643512,-0.020148122683167,-0.122859440743923,-0.034374065697193));
res += mul(Get(s2,dx,-dy), float4x4(-0.043512966483831,-0.099931046366692,-0.053842540830374,0.100925877690315,-0.009069669060409,-0.065233327448368,-0.181535303592682,0.103054106235504,-0.045891467481852,-0.094652488827705,0.117095485329628,0.103451400995255,-0.002335062250495,0.100921116769314,-0.094798892736435,0.040294028818607));
res += mul(Get(s2,dx,0), float4x4(0.083867453038692,-0.134921044111252,0.005256941542029,0.061163533478975,-0.148245185613632,-0.066208802163601,-0.043157130479813,0.007721333764493,0.066247671842575,-0.166531905531883,-0.167778402566910,-0.006997428834438,-0.040234550833702,0.022667072713375,-0.097968369722366,-0.079225897789001));
res += mul(Get(s2,dx,dy), float4x4(-0.109372347593307,-0.128120154142380,0.049253858625889,0.091409914195538,-0.105908572673798,0.083303794264793,0.089058004319668,0.016810631379485,-0.004825851414353,0.006483956240118,0.015459149144590,-0.006223154719919,-0.133293762803078,0.079522639513016,-0.092161938548088,-0.003028606297448));
res += mul(Get(s3,-dx,-dy), float4x4(0.147267699241638,0.042048990726471,0.145277366042137,-0.077935300767422,-0.016791241243482,-0.071884237229824,0.048808131366968,0.020433725789189,0.041754137724638,0.028499169275165,-0.097293235361576,0.106053352355957,0.092218138277531,-0.140154659748077,-0.027085788547993,-0.091722331941128));
res += mul(Get(s3,-dx,0), float4x4(-0.050010498613119,-0.040815152227879,0.113241754472256,-0.125559389591217,-0.129934117197990,0.167538300156593,-0.003874263959005,-0.000246100942604,0.227287977933884,0.045385114848614,0.080923825502396,-0.099834673106670,0.019118191674352,0.061085294932127,-0.090407058596611,-0.063261389732361));
res += mul(Get(s3,-dx,dy), float4x4(0.008555651642382,0.087035670876503,-0.018475580960512,0.135230094194412,0.085471123456955,-0.136513143777847,0.105254903435707,-0.004944229032844,-0.140031322836876,-0.163892596960068,-0.010239981114864,0.064191423356533,0.025714218616486,0.062680773437023,0.113233387470245,0.036291811615229));
res += mul(Get(s3,0,-dy), float4x4(0.010543921962380,-0.010697717778385,-0.027925832197070,0.087437637150288,-0.039099767804146,-0.132720693945885,-0.023481275886297,-0.062817752361298,-0.072520576417446,-0.148297816514969,-0.157059490680695,-0.140961468219757,-0.106084607541561,0.106063172221184,-0.063072703778744,0.027622763067484));
res += mul(Get(s3,0,0), float4x4(0.103193230926991,-0.096390128135681,-0.161996558308601,0.014763687737286,0.216178163886070,0.097642898559570,0.042702153325081,0.099014855921268,-0.074839226901531,0.021021127700806,-0.066439725458622,0.050013855099678,-0.050815761089325,-0.007834772579372,0.053136102855206,-0.000749265076593));
res += mul(Get(s3,0,dy), float4x4(-0.026704536750913,0.039037138223648,-0.072913870215416,0.117896243929863,-0.001072149374522,-0.064685665071011,0.170737907290459,-0.028051614761353,0.013334795832634,-0.175868526101112,0.121086746454239,0.133391395211220,0.011357940733433,-0.094028353691101,0.135448649525642,0.031653679907322));
res += mul(Get(s3,dx,-dy), float4x4(-0.098002731800079,0.027950197458267,-0.053207427263260,0.035158026963472,-0.020081870257854,-0.056022394448519,-0.100677683949471,-0.004053603857756,0.015737796202302,0.141788184642792,0.122929736971855,-0.035177662968636,-0.068021178245544,-0.042496159672737,0.111752569675446,0.040164686739445));
res += mul(Get(s3,dx,0), float4x4(-0.070629544556141,-0.029395621269941,0.035726502537727,0.069671466946602,0.007562437560409,-0.052468821406364,-0.027212779968977,-0.094690486788750,0.062714777886868,0.000126538536279,0.134051218628883,-0.148891434073448,0.067097254097462,-0.024134594947100,0.039323851466179,-0.006863544695079));
res += mul(Get(s3,dx,dy), float4x4(0.004622646607459,0.024342419579625,0.068517148494720,0.032315406948328,0.017482068389654,0.077401258051395,-0.087438538670540,-0.001367293647490,-0.098109006881714,0.082519628107548,-0.068879619240761,0.081398986279964,-0.058031037449837,-0.032066397368908,-0.142331838607788,0.013497265987098));
res = max(float4(0,0,0,0), res);
return res;
}
