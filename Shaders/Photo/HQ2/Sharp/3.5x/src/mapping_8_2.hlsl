sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.017181608825922,-0.023119295015931,-0.059314664453268,0.153217107057571,-0.036416102200747,0.048605620861053,0.182539775967598,-0.094787418842316,-0.065377436578274,-0.027649182826281,0.080159030854702,-0.022044394165277,0.167187407612801,0.008865009993315,-0.021306687965989,-0.158057719469070));
res += mul(Get(s0,-dx,0), float4x4(-0.020840661600232,-0.166091039776802,0.084349960088730,0.080709382891655,0.020243883132935,0.045604597777128,-0.029671810567379,-0.010964853689075,-0.058233968913555,-0.046450022608042,-0.066507212817669,-0.042982492595911,-0.020894818007946,-0.148679807782173,0.057550776749849,0.106963276863098));
res += mul(Get(s0,-dx,dy), float4x4(-0.051764223724604,-0.078496046364307,0.103923574090004,-0.009785623289645,-0.003112230449915,-0.018024932593107,-0.039100009948015,-0.091961920261383,0.107200920581818,-0.045457962900400,0.143033981323242,0.071838699281216,0.048930540680885,-0.118735305964947,0.079007230699062,-0.015487773343921));
res += mul(Get(s0,0,-dy), float4x4(0.104583717882633,-0.131432875990868,-0.035568181425333,-0.119058921933174,0.066760264337063,-0.015370347537100,0.061048451811075,0.049332685768604,-0.047724630683661,0.028633253648877,-0.091671235859394,-0.076861284673214,0.079223640263081,-0.071637064218521,-0.058835830539465,0.031794246286154));
res += mul(Get(s0,0,0), float4x4(0.041264589875937,-0.025208072736859,-0.047681190073490,-0.036638215184212,-0.043202750384808,-0.019569220021367,0.032312858849764,0.176383376121521,0.119935080409050,-0.065622821450233,0.080366089940071,0.033759813755751,0.076536975800991,0.049281742423773,-0.021303271874785,0.027890287339687));
res += mul(Get(s0,0,dy), float4x4(-0.137007847428322,-0.067674256861210,-0.034634396433830,0.141096085309982,-0.110854536294937,0.052596535533667,0.138145297765732,0.073410123586655,0.148979470133781,0.049015037715435,-0.064848326146603,0.040391582995653,0.231695130467415,0.053881160914898,-0.110434234142303,0.015603834763169));
res += mul(Get(s0,dx,-dy), float4x4(0.048441290855408,-0.033824682235718,-0.105593271553516,0.020989736542106,0.018472656607628,0.000209016026929,0.062547422945499,-0.134907424449921,0.024980667978525,-0.000714173947927,0.190156862139702,-0.093522369861603,-0.017376134172082,0.044485155493021,-0.088990919291973,-0.128041028976440));
res += mul(Get(s0,dx,0), float4x4(-0.064786210656166,0.018946759402752,0.021397793665528,0.021925443783402,0.070384457707405,-0.076270997524261,0.155959025025368,0.104880362749100,0.096384972333908,-0.003282160498202,0.046107001602650,0.063973851501942,-0.000705006765202,-0.010704919695854,0.010205738246441,-0.020420102402568));
res += mul(Get(s0,dx,dy), float4x4(0.116976045072079,-0.099658899009228,0.054520256817341,0.114825464785099,0.014418633654714,-0.057445086538792,0.045594554394484,-0.047508135437965,-0.044520411640406,-0.038565356284380,0.034940384328365,-0.143856480717659,-0.035072106868029,-0.026458604261279,-0.013531666249037,0.157359018921852));
res += mul(Get(s1,-dx,-dy), float4x4(0.027118992060423,-0.029687551781535,-0.041188683360815,0.018891001120210,0.019557561725378,-0.016097985208035,0.078360006213188,-0.002474534092471,-0.191308811306953,-0.116443261504173,0.001744613051414,0.114659942686558,0.021055858582258,-0.091300122439861,-0.098540097475052,0.130729138851166));
res += mul(Get(s1,-dx,0), float4x4(0.043910607695580,0.009803380817175,0.020766152068973,-0.078193470835686,0.060176350176334,-0.091238275170326,-0.112338177859783,0.152539983391762,-0.077904053032398,-0.161390736699104,0.060956485569477,0.061658959835768,0.115142442286015,-0.049648672342300,-0.021117411553860,-0.163031756877899));
res += mul(Get(s1,-dx,dy), float4x4(0.028209118172526,0.109220482409000,0.030683822929859,-0.105388917028904,0.066427730023861,0.114232145249844,0.010685502551496,-0.171676635742188,-0.097309753298759,0.053270693868399,-0.002358194440603,0.119974285364151,-0.047869395464659,0.096273653209209,-0.081902414560318,0.110672220587730));
res += mul(Get(s1,0,-dy), float4x4(0.110158041119576,0.022770285606384,-0.016695328056812,-0.100400306284428,0.136023432016373,-0.055666144937277,-0.072068363428116,-0.021065380424261,-0.078660495579243,0.016133816912770,0.038539320230484,-0.096815489232540,-0.066572949290276,0.029127417132258,-0.087265990674496,-0.041810087859631));
res += mul(Get(s1,0,0), float4x4(0.032034609466791,0.073662899434566,-0.090391643345356,0.026861771941185,0.009790242649615,0.009157824330032,0.030832005664706,0.062083549797535,-0.068864203989506,0.064458638429642,0.056565999984741,0.049982983618975,0.125531777739525,-0.007423671428114,-0.017665861174464,0.026651563122869));
res += mul(Get(s1,0,dy), float4x4(-0.005965305492282,-0.093588203191757,0.038337670266628,0.223209276795387,-0.006287878844887,0.051034819334745,-0.046810671687126,-0.015829531475902,-0.165438428521156,-0.031334407627583,-0.106936201453209,-0.135651692748070,0.070161916315556,-0.072373911738396,0.083581559360027,0.070720747113228));
res += mul(Get(s1,dx,-dy), float4x4(-0.015294815413654,-0.169036775827408,-0.026488445699215,-0.130022212862968,0.106664203107357,0.088103331625462,-0.014021307229996,0.035684470087290,-0.046833265572786,0.058192204684019,-0.039016269147396,-0.055433318018913,0.050365258008242,-0.047736655920744,0.109684735536575,-0.112244039773941));
res += mul(Get(s1,dx,0), float4x4(-0.070217937231064,-0.039752576500177,-0.052950885146856,-0.014662466943264,0.032788600772619,-0.093242935836315,-0.110620990395546,0.005312184337527,-0.103906765580177,0.016234179958701,-0.024289928376675,0.001106989220716,0.055313073098660,-0.195931956171989,0.107242561876774,-0.078851096332073));
res += mul(Get(s1,dx,dy), float4x4(0.025475952774286,-0.117117181420326,0.106004185974598,0.138541385531425,-0.033988296985626,0.011667669750750,-0.091941080987453,0.079169742763042,-0.005393993109465,-0.009618704207242,-0.141694426536560,-0.039359409362078,-0.022071978077292,0.027906103059649,0.069496735930443,-0.180164486169815));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034695908427238,-0.024866860359907,-0.056939132511616,0.037841521203518,-0.123232588171959,-0.024005124345422,-0.073462344706059,-0.017131652683020,0.128982529044151,-0.113694697618484,0.049451455473900,-0.026308864355087,0.036149047315121,-0.047096855938435,0.059434570372105,0.008027625270188));
res += mul(Get(s2,-dx,0), float4x4(0.095155380666256,-0.002795437118039,-0.079321339726448,-0.006600904278457,0.085515245795250,-0.031403332948685,0.094343625009060,0.033399876207113,0.087375849485397,0.021281268447638,0.037404704838991,0.046982675790787,-0.081435784697533,-0.071834862232208,-0.052572853863239,0.118654623627663));
res += mul(Get(s2,-dx,dy), float4x4(-0.020818838849664,0.139916837215424,-0.058628588914871,0.063923418521881,-0.016824560239911,-0.148503720760345,-0.043622814118862,-0.021238559857011,0.054926354438066,-0.021836744621396,0.008675784803927,-0.012816041707993,-0.005207564216107,0.029815373942256,-0.013870523311198,0.001329262973741));
res += mul(Get(s2,0,-dy), float4x4(0.093791425228119,0.037643168121576,0.083055719733238,-0.062328416854143,0.092000536620617,-0.005168285220861,-0.069165430963039,-0.001606394769624,-0.028662595897913,-0.007662809453905,0.075651712715626,-0.109373688697815,-0.073287814855576,-0.115086749196053,-0.002899056999013,0.039829559624195));
res += mul(Get(s2,0,0), float4x4(-0.051169116050005,0.078323610126972,0.063619375228882,0.052348192781210,-0.015043003484607,-0.024450287222862,-0.026402635499835,0.163661152124405,0.105771124362946,0.031254325062037,-0.017533138394356,0.044402554631233,-0.050380915403366,-0.052992425858974,-0.010019078850746,0.087987050414085));
res += mul(Get(s2,0,dy), float4x4(-0.030277639627457,0.058037739247084,0.057341333478689,0.014356355182827,0.000066408450948,-0.131190016865730,0.077747002243996,0.019480898976326,-0.058420680463314,-0.085676878690720,0.063325300812721,-0.099744759500027,-0.021386951208115,0.103553771972656,-0.079836264252663,-0.068384006619453));
res += mul(Get(s2,dx,-dy), float4x4(-0.007893545553088,-0.032454472035170,-0.020773990079761,0.011845648288727,-0.147467240691185,-0.048520848155022,-0.111231885850430,0.001629173988476,-0.066314995288849,-0.066424869000912,0.013634407892823,0.007033154834062,0.058143272995949,0.034141145646572,0.006484562531114,0.127841114997864));
res += mul(Get(s2,dx,0), float4x4(0.039714150130749,0.003949204459786,0.067485965788364,0.067283712327480,0.020072950050235,-0.120986200869083,0.043983515352011,0.033735960721970,0.071343608200550,-0.143313840031624,0.075572498142719,0.065470680594444,-0.121969558298588,-0.116743437945843,-0.019420990720391,0.136067360639572));
res += mul(Get(s2,dx,dy), float4x4(0.073058970272541,0.000266239076154,-0.006721537560225,-0.126016527414322,-0.045158956199884,-0.018370058387518,0.024444531649351,0.061902821063995,0.007077049463987,-0.058219149708748,0.077670067548752,-0.073296099901199,0.037261974066496,0.004042199812829,0.052758973091841,0.010482588782907));
res += mul(Get(s3,-dx,-dy), float4x4(-0.093787290155888,0.091515824198723,0.016345944255590,0.033106844872236,0.000500870693941,-0.054818402975798,0.032255046069622,-0.009295295923948,-0.113831326365471,0.032169103622437,0.104370191693306,0.166209518909454,-0.067488737404346,-0.083818778395653,0.018854357302189,0.031943835318089));
res += mul(Get(s3,-dx,0), float4x4(-0.069849379360676,0.041871111840010,-0.131951570510864,0.001469420734793,0.009757773019373,-0.068183444440365,-0.034458018839359,0.041844751685858,-0.007795676123351,-0.026126204058528,0.003846587846056,0.045702841132879,-0.089460134506226,0.002336609875783,-0.018778568133712,0.006974183488637));
res += mul(Get(s3,-dx,dy), float4x4(-0.033984534442425,0.142576321959496,-0.088000491261482,0.082509472966194,0.109778560698032,-0.003156362567097,-0.081620223820210,0.006380090955645,0.045548461377621,0.125772431492805,0.050303008407354,-0.085977785289288,-0.034084886312485,-0.059170585125685,0.078687861561775,0.096528939902782));
res += mul(Get(s3,0,-dy), float4x4(0.072813041508198,-0.039052195847034,-0.000789835525211,0.109710663557053,-0.066001653671265,-0.168424353003502,0.027328461408615,-0.054807245731354,-0.093706764280796,-0.001929382560775,-0.086038514971733,0.047970507293940,-0.060767956078053,0.012503094039857,0.033099193125963,0.069023430347443));
res += mul(Get(s3,0,0), float4x4(-0.120913200080395,0.105044119060040,-0.105993099510670,0.065312668681145,0.087594978511333,-0.040598724037409,0.084965139627457,0.012514275498688,-0.002534333616495,0.029967393726110,-0.102585598826408,-0.086328499019146,0.023398898541927,0.034870140254498,0.085221119225025,-0.002829843433574));
res += mul(Get(s3,0,dy), float4x4(-0.037781253457069,0.102546356618404,-0.052672654390335,0.009202723391354,-0.003109821584076,0.160933688282967,-0.153173729777336,-0.034787178039551,0.030058680102229,-0.062880180776119,-0.138466760516167,-0.017704781144857,-0.009957749396563,0.075520507991314,-0.027281658723950,-0.064744442701340));
res += mul(Get(s3,dx,-dy), float4x4(0.104034014046192,0.021779328584671,0.135675266385078,0.067927084863186,0.013195970095694,0.018131131306291,0.055627919733524,0.137586921453476,0.094239674508572,-0.072220385074615,0.072661601006985,0.001748918090016,-0.081272542476654,-0.007295000832528,-0.126047492027283,0.090947441756725));
res += mul(Get(s3,dx,0), float4x4(-0.099063903093338,0.028084831312299,0.087763912975788,-0.001502194907516,0.018020503222942,0.013729487545788,-0.066260330379009,-0.211688280105591,-0.016664922237396,-0.051855508238077,0.010021216236055,0.022221475839615,0.091222263872623,0.150179862976074,0.071386858820915,-0.081884697079659));
res += mul(Get(s3,dx,dy), float4x4(-0.134037569165230,0.089177139103413,-0.019399927929044,-0.038247790187597,-0.125519827008247,-0.017682865262032,0.039583317935467,-0.000001572372639,-0.020990546792746,-0.058937352150679,0.113184392452240,-0.078389123082161,-0.062123645097017,-0.002401671838015,-0.002933837473392,0.098048076033592));
res = max(float4(0,0,0,0), res);
return res;
}
