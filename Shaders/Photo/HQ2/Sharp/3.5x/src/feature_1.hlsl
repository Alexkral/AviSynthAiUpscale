sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.060307700186968,0.341526925563812,0.068272449076176,-0.028489982709289) * Get(-dx,-dy);
res += float4(0.094862334430218,-0.283485114574432,0.326912760734558,0.027677951380610) * Get(-dx,0);
res += float4(-0.345422118902206,0.075081184506416,-0.098216705024242,-0.074185997247696) * Get(-dx,dy);
res += float4(0.008709853515029,0.313355654478073,-0.314786314964294,0.083859056234360) * Get(0,-dy);
res += float4(-0.006990423891693,-0.042226675897837,0.339309632778168,-0.108016267418861) * Get(0,0);
res += float4(-0.186088472604752,0.002255236729980,0.022533107548952,-0.100717902183533) * Get(0,dy);
res += float4(-0.098395474255085,0.004425004590303,0.012066585011780,-0.076272651553154) * Get(dx,-dy);
res += float4(0.180573672056198,-0.174934417009354,0.148486077785492,-0.277415871620178) * Get(dx,0);
res += float4(0.553891658782959,-0.061078842729330,-0.190978974103928,0.135525524616241) * Get(dx,dy);
res = max(float4(0,0,0,0), res);
return res;
}
