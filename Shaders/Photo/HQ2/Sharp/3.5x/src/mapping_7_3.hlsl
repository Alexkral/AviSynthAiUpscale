sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.007750866934657,0.047466441988945,0.008070956915617,-0.121266171336174,-0.010800451040268,0.090971879661083,0.011995470151305,-0.062652453780174,-0.019334344193339,0.104071527719498,0.053464639931917,0.024447603151202,0.064675427973270,0.025082502514124,-0.020289197564125,-0.036171447485685));
res += mul(Get(s0,-dx,0), float4x4(-0.129489198327065,-0.044117979705334,0.035656969994307,-0.058314610272646,-0.060406565666199,-0.055750194936991,-0.068901255726814,0.110865339636803,-0.034921031445265,0.059956278651953,-0.036582257598639,0.001347080338746,0.032752759754658,0.052950114011765,0.131453663110733,-0.007350818719715));
res += mul(Get(s0,-dx,dy), float4x4(0.066022582352161,0.023303294554353,-0.063429333269596,0.041407972574234,-0.013557517901063,-0.071740090847015,0.057714980095625,-0.000494976527989,-0.025163089856505,-0.015402065590024,-0.080898635089397,-0.031829141080379,-0.041286118328571,0.102616265416145,-0.008917597122490,-0.129874199628830));
res += mul(Get(s0,0,-dy), float4x4(-0.008840692229569,0.063670068979263,0.170045703649521,-0.046389397233725,-0.072043187916279,-0.038541700690985,-0.096957407891750,0.114546716213226,0.080023758113384,-0.023741563782096,-0.045396734029055,0.028891373425722,0.094824343919754,-0.114299714565277,-0.107008486986160,-0.088876709342003));
res += mul(Get(s0,0,0), float4x4(-0.089226245880127,0.026279851794243,-0.010425464250147,0.042379986494780,-0.022501518949866,-0.032152947038412,-0.043437644839287,0.202461048960686,-0.046770196408033,-0.056645095348358,0.154697820544243,-0.058237139135599,0.031038081273437,0.001843696110882,-0.071041755378246,0.033732179552317));
res += mul(Get(s0,0,dy), float4x4(-0.089640386402607,-0.076158054172993,0.043124072253704,-0.033555734902620,0.072155617177486,0.017846990376711,-0.084823250770569,0.072057753801346,0.014905953779817,0.093821108341217,0.027459701523185,-0.075358144938946,-0.033979650586843,0.008354923687875,-0.072511292994022,-0.096710518002510));
res += mul(Get(s0,dx,-dy), float4x4(-0.080482408404350,0.029086897149682,-0.145254254341125,0.031950935721397,0.050577376037836,-0.066736981272697,-0.124159544706345,0.146730348467827,0.043736848980188,0.037500213831663,-0.065646193921566,0.058435998857021,-0.038803134113550,-0.074279293417931,0.103539422154427,0.016072455793619));
res += mul(Get(s0,dx,0), float4x4(-0.069352015852928,0.031994465738535,0.055450506508350,0.004383868072182,-0.063991278409958,-0.083009257912636,0.025223579257727,0.015406901948154,-0.087157972157001,-0.045182064175606,-0.070396021008492,0.051270678639412,-0.042049229145050,-0.008761007338762,0.172910720109940,-0.126648351550102));
res += mul(Get(s0,dx,dy), float4x4(-0.012251149863005,0.096595965325832,-0.040057387202978,0.042702201753855,-0.038881048560143,0.025974491611123,0.021549835801125,0.128597676753998,-0.122765183448792,-0.003876158269122,-0.033130735158920,0.018377084285021,-0.089421741664410,0.077231496572495,0.139832586050034,-0.047851923853159));
res += mul(Get(s1,-dx,-dy), float4x4(0.214946359395981,-0.071184985339642,-0.046434745192528,-0.062152232974768,0.005732492078096,-0.025752771645784,-0.066380828619003,0.021914465352893,-0.032595030963421,0.136097654700279,-0.055304907262325,-0.043249450623989,-0.078346744179726,-0.034141827374697,0.055119641125202,-0.068723857402802));
res += mul(Get(s1,-dx,0), float4x4(-0.179556399583817,-0.173110678792000,0.086173735558987,0.035257756710052,0.104926392436028,-0.227491065859795,-0.122819140553474,-0.086715608835220,-0.035181861370802,0.247009396553040,0.109972149133682,0.019399929791689,-0.125877395272255,0.011987419798970,-0.047365650534630,0.072362907230854));
res += mul(Get(s1,-dx,dy), float4x4(0.023095576092601,-0.095267221331596,-0.010650316253304,0.001268816413358,-0.020591191947460,0.055831570178270,0.095211215317249,-0.146910637617111,-0.025788815692067,0.131379142403603,0.138449549674988,-0.128823518753052,-0.032562062144279,0.012446620501578,-0.049961723387241,0.055783070623875));
res += mul(Get(s1,0,-dy), float4x4(-0.002869040938094,0.058147899806499,0.011538068763912,0.032087437808514,-0.095263488590717,-0.076307810842991,-0.147643670439720,0.128621965646744,-0.143656104803085,0.019482849165797,-0.160447329282761,-0.078549116849899,0.033119533210993,-0.011263011954725,-0.058311607688665,0.113910719752312));
res += mul(Get(s1,0,0), float4x4(-0.103785566985607,-0.036056835204363,-0.080272011458874,-0.073884278535843,-0.142437532544136,-0.077630802989006,0.066713303327560,0.027121027931571,0.034725200384855,0.041776981204748,-0.002398536074907,-0.025102624669671,0.060417782515287,-0.186503648757935,0.056988056749105,-0.092807151377201));
res += mul(Get(s1,0,dy), float4x4(-0.011950913816690,0.083774678409100,-0.045188371092081,-0.075461469590664,0.077661588788033,-0.234242752194405,0.103521399199963,-0.149717971682549,-0.015094134956598,-0.010797401890159,0.161285609006882,-0.049665052443743,0.066990852355957,-0.098192982375622,0.053235344588757,0.040761239826679));
res += mul(Get(s1,dx,-dy), float4x4(0.019994808360934,-0.009987002238631,-0.029821846634150,-0.096563912928104,-0.075813896954060,0.018661111593246,-0.117598280310631,0.096480228006840,0.005695589818060,0.028991661965847,-0.029806472361088,-0.129069000482559,-0.043666720390320,0.054752431809902,-0.050499100238085,-0.027670724317431));
res += mul(Get(s1,dx,0), float4x4(0.071382105350494,0.011667013168335,-0.004355472512543,0.087363965809345,0.070182964205742,-0.023975655436516,-0.092822812497616,-0.124174475669861,-0.145568817853928,-0.167479395866394,-0.031283348798752,0.028777068480849,-0.088321134448051,-0.003329578321427,-0.117894537746906,0.098548382520676));
res += mul(Get(s1,dx,dy), float4x4(0.003708801232278,-0.045964516699314,-0.048718556761742,0.061385218054056,0.001396292005666,-0.147985383868217,0.033296935260296,-0.033570766448975,0.044595353305340,-0.101909704506397,0.071969360113144,-0.097974590957165,0.213428720831871,-0.000025758286938,0.009450546465814,0.079987145960331));
res += mul(Get(s2,-dx,-dy), float4x4(-0.043874230235815,-0.027371708303690,-0.009523482061923,0.087210871279240,0.018641661852598,0.048626787960529,-0.017493361607194,-0.019643343985081,0.001811378751881,-0.015590108931065,-0.023421172052622,0.122335709631443,0.036108296364546,-0.057081386446953,-0.027001418173313,0.022800084203482));
res += mul(Get(s2,-dx,0), float4x4(-0.055774580687284,0.225743874907494,0.008729392662644,0.145624488592148,-0.073450289666653,-0.101610906422138,0.115041285753250,0.077061034739017,-0.155662328004837,-0.096426613628864,-0.176759406924248,-0.009796343743801,0.043392531573772,0.092021048069000,0.125320985913277,-0.078648425638676));
res += mul(Get(s2,-dx,dy), float4x4(0.036824271082878,-0.051576390862465,0.115754127502441,-0.110217630863190,-0.054873891174793,0.025382988154888,0.032618176192045,-0.078773997724056,0.002564238151535,0.133928671479225,-0.194255650043488,-0.001392910839058,0.014689582400024,0.161017984151840,0.059904411435127,-0.005792277865112));
res += mul(Get(s2,0,-dy), float4x4(-0.085757099092007,-0.013039221055806,0.031071679666638,0.037534475326538,-0.032254930585623,0.019338939338923,0.195184454321861,-0.098940707743168,0.094522103667259,0.045548275113106,0.029784113168716,-0.017376009374857,0.036013539880514,-0.023498248308897,0.021879661828279,-0.055344957858324));
res += mul(Get(s2,0,0), float4x4(-0.053069744259119,0.037944868206978,-0.065894290804863,0.131317675113678,0.006690533366054,0.126349180936813,0.102586053311825,-0.030975377187133,0.106465980410576,0.132222458720207,0.025264032185078,-0.117777489125729,0.058259855955839,-0.135614439845085,-0.089040525257587,-0.104218818247318));
res += mul(Get(s2,0,dy), float4x4(-0.121208295226097,0.100868478417397,0.172750502824783,0.004757066722959,-0.086817234754562,-0.068723671138287,0.024978514760733,-0.018967682495713,0.002658061450347,0.088326245546341,-0.021103909239173,-0.169237628579140,0.070086315274239,-0.060239434242249,0.027015812695026,0.144614130258560));
res += mul(Get(s2,dx,-dy), float4x4(-0.016426252201200,-0.010414844378829,-0.050642393529415,0.006957392208278,0.046732310205698,-0.000438623508671,-0.091989755630493,-0.099349699914455,0.125748261809349,0.049415580928326,0.039056647568941,0.180498346686363,-0.084403797984123,-0.053813211619854,0.068338669836521,-0.046379026025534));
res += mul(Get(s2,dx,0), float4x4(-0.089368328452110,0.074304759502411,-0.041054621338844,-0.048557635396719,-0.041162345558405,-0.022339427843690,0.050384767353535,-0.039746921509504,0.061754971742630,0.126011148095131,0.031901240348816,0.051813580095768,-0.112087450921535,-0.059254106134176,-0.161925062537193,0.092929460108280));
res += mul(Get(s2,dx,dy), float4x4(0.030599769204855,0.077319286763668,0.045191869139671,0.086909122765064,0.031704347580671,-0.058553323149681,-0.020788785070181,-0.083918079733849,0.162159264087677,0.041456557810307,-0.087794438004494,0.125026196241379,0.087685100734234,-0.012255675159395,0.088038057088852,0.048480123281479));
res += mul(Get(s3,-dx,-dy), float4x4(0.072161361575127,-0.023419043049216,0.028310228139162,-0.034220293164253,-0.024129962548614,0.097624666988850,0.053865738213062,0.062703855335712,0.100552529096603,0.056059032678604,0.088999606668949,0.023865884169936,0.073169104754925,0.102431483566761,0.126877501606941,-0.062774777412415));
res += mul(Get(s3,-dx,0), float4x4(-0.069251254200935,0.048990782350302,0.018192606046796,0.097803533077240,0.060518573969603,-0.095711372792721,0.066953040659428,0.102336637675762,0.063568294048309,-0.081832028925419,0.035488549619913,-0.020604072138667,-0.138714164495468,0.118348047137260,-0.012776274234056,0.157222181558609));
res += mul(Get(s3,-dx,dy), float4x4(-0.004346205852926,-0.034565396606922,-0.077684573829174,0.010362290777266,-0.021828936412930,-0.119299024343491,0.063773334026337,0.166410908102989,0.001193750416860,-0.059702113270760,0.065012447535992,-0.165525808930397,-0.043453354388475,0.033675249665976,0.004005100112408,0.091668598353863));
res += mul(Get(s3,0,-dy), float4x4(0.143485561013222,0.035795297473669,0.154244095087051,-0.084655463695526,0.088118821382523,0.079152740538120,0.057365003973246,0.119555637240410,-0.072020754218102,0.070885412395000,-0.054308004677296,0.000749289290980,-0.156852051615715,0.009775097481906,0.054172582924366,-0.089636214077473));
res += mul(Get(s3,0,0), float4x4(-0.096097916364670,0.020088296383619,0.055121392011642,0.037572447210550,0.076839864253998,-0.034102257341146,-0.010588703677058,0.039299711585045,-0.102404527366161,0.100692361593246,0.066049791872501,-0.098972909152508,0.029155381023884,0.021298488602042,-0.046208128333092,0.101188883185387));
res += mul(Get(s3,0,dy), float4x4(0.012167981825769,0.022554736584425,-0.054631024599075,0.038711864501238,-0.028131138533354,-0.119811758399010,0.089288182556629,0.126305013895035,0.086354225873947,0.086378261446953,-0.054574642330408,-0.050150766968727,-0.013909564353526,-0.043826233595610,0.120149411261082,0.180008932948112));
res += mul(Get(s3,dx,-dy), float4x4(-0.111512459814548,0.118504315614700,0.016015833243728,-0.015317107550800,0.006570397876203,0.041833914816380,-0.040663622319698,-0.117504864931107,0.157706782221794,0.043816708028316,-0.029041722416878,0.064247339963913,0.021085796877742,0.036904361099005,0.083768881857395,-0.174287736415863));
res += mul(Get(s3,dx,0), float4x4(0.009343108162284,0.096064805984497,-0.043863583356142,0.042981173843145,0.000194902604562,0.154400229454041,0.071137875318527,0.036204140633345,0.020957104861736,-0.080135546624660,-0.021769346669316,-0.066693104803562,-0.039584115147591,0.006481840275228,0.079566694796085,-0.002725193975493));
res += mul(Get(s3,dx,dy), float4x4(0.004972292575985,-0.121891833841801,0.020182734355330,0.108747921884060,0.064338691532612,0.053500588983297,-0.080668501555920,0.049841787666082,-0.004011452198029,-0.017279582098126,0.042991586029530,0.065857149660587,-0.155872881412506,-0.012589671649039,-0.020436502993107,-0.119521066546440));
res = max(float4(0,0,0,0), res);
return res;
}
