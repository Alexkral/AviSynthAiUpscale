sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.031453378498554,-0.064843609929085,-0.009769162163138,0.068779677152634,-0.076228514313698,0.051879812031984,0.016329819336534,-0.046815004199743,-0.030130930244923,-0.110311210155487,0.163402587175369,0.016794705763459,0.035471085458994,0.167782843112946,0.019901642575860,-0.100616030395031));
res += mul(Get(s0,-dx,0), float4x4(0.026600511744618,-0.127550750970840,0.040079157799482,0.026407616212964,-0.015748212113976,0.000842182314955,-0.011147158220410,-0.103992484509945,0.201132416725159,0.042315330356359,-0.170676618814468,-0.084039159119129,-0.061475347727537,-0.034299135208130,0.096424646675587,0.048522561788559));
res += mul(Get(s0,-dx,dy), float4x4(0.024664266034961,-0.046955328434706,-0.082237236201763,-0.176954656839371,-0.075086057186127,-0.125043973326683,0.044897835701704,0.013219277374446,-0.040631134063005,0.123692549765110,0.009115737862885,-0.054616332054138,-0.143071085214615,0.035903450101614,0.012914965860546,-0.094453170895576));
res += mul(Get(s0,0,-dy), float4x4(-0.060317903757095,-0.098183706402779,0.069775864481926,-0.058805078268051,-0.031100273132324,-0.160957768559456,0.063401460647583,0.149305820465088,-0.023574709892273,-0.160913765430450,-0.221256673336029,0.016537265852094,0.128108084201813,-0.100241631269455,0.201430723071098,0.090431347489357));
res += mul(Get(s0,0,0), float4x4(0.022664077579975,-0.056031800806522,-0.149197384715080,0.134125918149948,-0.287456601858139,-0.194668203592300,-0.184946283698082,-0.103346385061741,-0.115792565047741,-0.049333598464727,0.172069162130356,0.105880215764046,0.179879501461983,-0.054830495268106,0.241529360413551,0.028728052973747));
res += mul(Get(s0,0,dy), float4x4(-0.041669309139252,-0.064243085682392,0.033415269106627,0.023144276812673,-0.063245423138142,0.222813844680786,-0.006764788180590,0.164301186800003,-0.034507904201746,-0.017665304243565,0.060363255441189,0.146596819162369,0.010572061873972,-0.102549701929092,0.012131066061556,0.057193771004677));
res += mul(Get(s0,dx,-dy), float4x4(-0.077032260596752,-0.041699722409248,0.046482540667057,-0.044085051864386,-0.124407805502415,0.102285042405128,0.111817665398121,-0.062338497489691,-0.116585113108158,-0.168448820710182,-0.187326118350029,-0.095276258885860,-0.086858414113522,0.034446284174919,-0.167332157492638,-0.024467706680298));
res += mul(Get(s0,dx,0), float4x4(-0.116985842585564,-0.058048158884048,0.085398547351360,-0.101535208523273,-0.088245578110218,0.036705788224936,-0.163934066891670,0.059694305062294,0.000810037308838,0.065743073821068,0.269048720598221,0.111146301031113,0.105097688734531,0.114229403436184,-0.032011874020100,0.021512284874916));
res += mul(Get(s0,dx,dy), float4x4(0.087254166603088,0.086832270026207,0.178168803453445,0.060343138873577,-0.007231479510665,-0.079492174088955,0.136677488684654,-0.006513560656458,0.074468165636063,-0.036286424845457,-0.103435881435871,0.329008728265762,-0.052002303302288,-0.052088741213083,-0.074470110237598,0.129179820418358));
res += mul(Get(s1,-dx,-dy), float4x4(-0.041432056576014,0.038356147706509,-0.067833192646503,-0.201322287321091,0.084602676331997,-0.076164655387402,0.094316266477108,-0.083327971398830,-0.069775775074959,0.047589831054211,0.076892487704754,0.090829737484455,-0.114136539399624,-0.130226999521255,-0.025681871920824,0.025025336071849));
res += mul(Get(s1,-dx,0), float4x4(0.077478505671024,-0.044611923396587,-0.102296739816666,-0.145249500870705,-0.051125526428223,0.015271710231900,0.002193314023316,-0.057660885155201,-0.134605824947357,0.131084442138672,0.074546448886395,0.037629663944244,0.042175445705652,0.043313894420862,0.146498546004295,-0.021318072453141));
res += mul(Get(s1,-dx,dy), float4x4(-0.122221663594246,0.008706879802048,0.005262002348900,0.040326505899429,0.080692380666733,0.114410288631916,-0.046658273786306,-0.119483277201653,0.014658739790320,0.158009558916092,0.015085061080754,-0.034093651920557,0.267990887165070,-0.009400035254657,0.055963411927223,0.134069621562958));
res += mul(Get(s1,0,-dy), float4x4(-0.171672686934471,0.105073131620884,0.181919485330582,-0.059833392500877,0.012045663781464,-0.032977946102619,0.029047820717096,0.098899617791176,-0.004227925091982,-0.011173705570400,0.069371871650219,0.067083619534969,0.065031200647354,-0.069617636501789,-0.024075696244836,-0.033226750791073));
res += mul(Get(s1,0,0), float4x4(0.038337960839272,0.012077908031642,-0.067139327526093,-0.026921942830086,-0.046085212379694,-0.026483982801437,-0.085109815001488,-0.098719827830791,0.103895381093025,-0.035601288080215,0.011913749389350,0.044254604727030,-0.064032040536404,-0.065570831298828,-0.168696045875549,-0.273971229791641));
res += mul(Get(s1,0,dy), float4x4(0.034600671380758,-0.091028146445751,-0.028070708736777,-0.127939268946648,-0.089703544974327,-0.191410124301910,-0.071427896618843,0.177767515182495,0.073101535439491,0.075146481394768,-0.031830176711082,-0.156516820192337,0.093759126961231,0.114997163414955,-0.083363957703114,0.015103110112250));
res += mul(Get(s1,dx,-dy), float4x4(0.008347098715603,-0.075134046375751,0.099601350724697,-0.077633611857891,0.056984286755323,-0.067694962024689,0.070630230009556,0.015434495173395,0.093406990170479,0.042347211390734,-0.035382378846407,-0.037454865872860,-0.097268216311932,-0.056902334094048,-0.092031672596931,0.107157096266747));
res += mul(Get(s1,dx,0), float4x4(0.044724706560373,-0.014045985415578,0.102156043052673,-0.037778150290251,-0.031083917245269,-0.121519714593887,-0.018731029704213,-0.123126514256001,-0.069508001208305,0.058077037334442,0.052322898060083,-0.175729528069496,-0.120476767420769,-0.099575534462929,0.018144899979234,0.082210384309292));
res += mul(Get(s1,dx,dy), float4x4(0.095143772661686,-0.016654845327139,0.040804006159306,-0.060141108930111,0.008746705949306,-0.031960722059011,0.023972159251571,-0.083855934441090,-0.081749051809311,0.065815128386021,0.103183835744858,-0.046518739312887,0.076148383319378,0.019402785226703,0.183993846178055,0.128698140382767));
res += mul(Get(s2,-dx,-dy), float4x4(-0.068333588540554,0.177174791693687,0.062646716833115,0.055592868477106,-0.133851632475853,0.034853324294090,0.092314518988132,0.062165133655071,0.074901036918163,0.067178256809711,-0.112414799630642,-0.091736495494843,-0.023324295878410,-0.060856480151415,-0.054303035140038,0.152321904897690));
res += mul(Get(s2,-dx,0), float4x4(0.027285255491734,-0.002051981398836,0.068352043628693,0.015256987884641,0.009304691106081,-0.090097822248936,-0.033198140561581,-0.145346745848656,-0.162616059184074,0.152924314141273,-0.132405593991280,0.011984840966761,-0.029193608090281,-0.045264791697264,-0.121961511671543,0.082474805414677));
res += mul(Get(s2,-dx,dy), float4x4(0.123203068971634,0.027475694194436,0.110212385654449,0.053336523473263,-0.038856074213982,0.006450861226767,0.086726576089859,-0.096819601953030,-0.018049713224173,-0.101663157343864,-0.004069362301379,-0.024903742596507,-0.062419757246971,0.078043766319752,-0.012891601771116,0.015250490978360));
res += mul(Get(s2,0,-dy), float4x4(0.035680588334799,-0.082223877310753,-0.211713582277298,-0.028250185772777,0.034086991101503,-0.051112454384565,-0.072086907923222,0.039235230535269,0.021401757374406,0.203755319118500,-0.061546605080366,0.074735648930073,0.005685827229172,0.038000021129847,-0.131659016013145,0.084738805890083));
res += mul(Get(s2,0,0), float4x4(0.081813417375088,0.142386183142662,-0.026797231286764,-0.018921006470919,0.070477180182934,0.018107712268829,-0.189672619104385,-0.046331770718098,-0.058960914611816,0.129493132233620,0.100512504577637,0.074804209172726,-0.159736812114716,0.071734778583050,-0.013031459413469,0.005161284469068));
res += mul(Get(s2,0,dy), float4x4(-0.140711292624474,0.011217375285923,0.023256544023752,0.002240158617496,0.045461736619473,-0.023107206448913,0.050838787108660,0.054554477334023,0.044587567448616,0.011363301426172,-0.135032370686531,-0.067521020770073,-0.034910745918751,0.045419797301292,0.071232266724110,-0.036143839359283));
res += mul(Get(s2,dx,-dy), float4x4(0.058251909911633,0.046645149588585,0.064244128763676,-0.079772956669331,-0.031318452209234,-0.001186249312013,0.141893312335014,0.113806828856468,-0.006278127897531,-0.026341143995523,-0.134545207023621,0.068152129650116,-0.047469910234213,-0.035145178437233,0.032499242573977,0.050644952803850));
res += mul(Get(s2,dx,0), float4x4(0.187864840030670,-0.086635671555996,-0.124672085046768,0.116749070584774,-0.038048814982176,-0.074330590665340,0.141336411237717,0.060815460979939,-0.082281865179539,-0.061189208179712,0.026173230260611,0.088123619556427,-0.079153925180435,-0.052321992814541,-0.179412290453911,-0.004333175718784));
res += mul(Get(s2,dx,dy), float4x4(0.047506432980299,0.074962012469769,-0.091553263366222,-0.000534055870958,-0.044106684625149,-0.005701859015971,-0.160601198673248,-0.152672186493874,0.014006373472512,0.073379345238209,0.122955381870270,-0.005765649024397,0.057278424501419,0.069765396416187,-0.047485388815403,-0.031560778617859));
res += mul(Get(s3,-dx,-dy), float4x4(-0.064528033137321,-0.058767020702362,-0.018961280584335,0.150870114564896,0.096860930323601,0.161328047513962,0.097036719322205,0.104243300855160,0.054858464747667,-0.037090737372637,0.054835636168718,0.055388655513525,-0.193323686718941,-0.100600413978100,0.038883533328772,0.014299834147096));
res += mul(Get(s3,-dx,0), float4x4(0.047292303293943,0.105037003755569,0.159156233072281,0.010498427785933,-0.082753062248230,0.053411785513163,0.082706809043884,-0.088333889842033,-0.024799689650536,-0.092045404016972,0.069522969424725,0.167392864823341,-0.050123576074839,0.059112783521414,-0.011828309856355,-0.055517423897982));
res += mul(Get(s3,-dx,dy), float4x4(0.085571929812431,0.069433644413948,0.066201500594616,0.226286754012108,-0.157474905252457,-0.053361602127552,-0.016523933038116,-0.017928160727024,-0.017400931566954,0.056826531887054,-0.078859418630600,0.013624981977046,0.018776701763272,-0.058711338788271,-0.001609654864296,0.141438812017441));
res += mul(Get(s3,0,-dy), float4x4(-0.013705459423363,0.025095105171204,-0.008757946081460,-0.032288748770952,0.114808507263660,0.203841000795364,0.080147489905357,0.015813658013940,0.035572752356529,-0.027869077399373,0.012336857616901,-0.028746062889695,0.082683034241199,-0.034918487071991,0.040628165006638,-0.006816721055657));
res += mul(Get(s3,0,0), float4x4(0.024424683302641,-0.000039872895286,0.116906128823757,0.044325150549412,-0.001620047725737,0.027784623205662,-0.049611877650023,0.211796462535858,-0.124300591647625,0.155879855155945,0.139615699648857,-0.045236099511385,0.008205838501453,-0.058895312249660,0.119626775383949,-0.041461855173111));
res += mul(Get(s3,0,dy), float4x4(0.056260030716658,0.031901188194752,-0.105880387127399,0.124937973916531,0.051995556801558,0.007577246520668,0.074312806129456,0.202269405126572,-0.064021296799183,0.132524043321609,0.009703007526696,0.062727585434914,-0.098487786948681,0.050477620214224,0.039466086775064,0.191563799977303));
res += mul(Get(s3,dx,-dy), float4x4(-0.007105371914804,0.309485226869583,-0.031141227111220,0.236868813633919,-0.032002009451389,-0.069082275032997,0.016352623701096,-0.056701980531216,0.100687235593796,0.014394916594028,-0.028213931247592,0.117004252970219,0.026863871142268,-0.068270206451416,0.144662767648697,0.070304885506630));
res += mul(Get(s3,dx,0), float4x4(0.047457553446293,-0.009966631419957,0.124956138432026,0.025092229247093,-0.092662051320076,-0.093411870300770,0.097419880330563,0.006225833203644,0.052635788917542,-0.024156445637345,0.039274554699659,0.185293167829514,-0.102866135537624,-0.093321315944195,-0.177999556064606,0.062640175223351));
res += mul(Get(s3,dx,dy), float4x4(-0.110800221562386,-0.136507302522659,0.117270991206169,-0.078822620213032,-0.273304432630539,-0.155479848384857,-0.026833862066269,-0.090768389403820,-0.112404383718967,0.101107321679592,-0.024080740287900,0.005049283150584,-0.084322482347488,0.048517651855946,-0.039478354156017,-0.088132344186306));
res = max(float4(0,0,0,0), res);
return res;
}
