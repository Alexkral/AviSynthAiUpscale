sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.041849408298731,0.394796580076218,-0.107224881649017,-0.069482669234276,-0.086745351552963,-0.056096754968166,-0.088976979255676,0.053290203213692,0.050884328782558,-0.066912837326527,-0.077830776572227,-0.057739213109016,-0.058337066322565,0.169181182980537,0.017635446041822,-0.070330612361431));
res += mul(Get(s0,-dx,0), float4x4(0.129097715020180,0.344817429780960,0.046246051788330,0.018160138279200,-0.027658337727189,-0.062435928732157,-0.128121018409729,0.075372442603111,-0.062425341457129,0.090638585388660,-0.045057039707899,0.050817962735891,0.127469986677170,0.058844711631536,-0.088363014161587,-0.162586152553558));
res += mul(Get(s0,-dx,dy), float4x4(-0.003192862728611,-0.104191519320011,0.110515415668488,-0.091479487717152,-0.056880101561546,-0.051684003323317,0.067418016493320,0.101550176739693,0.032739546149969,0.122226729989052,-0.054653350263834,0.210783571004868,0.121073827147484,-0.009661627002060,-0.053802445530891,0.004669097252190));
res += mul(Get(s0,0,-dy), float4x4(-0.123147711157799,-0.017807852476835,0.205630585551262,-0.082636117935181,-0.021814027801156,-0.017962027341127,0.015294217504561,-0.074471160769463,0.040882512927055,0.019207749515772,-0.126501545310020,-0.040427051484585,0.008347779512405,0.032549347728491,-0.057820439338684,-0.038292124867439));
res += mul(Get(s0,0,0), float4x4(0.087627999484539,-0.034970492124557,0.010803421027958,-0.028218546882272,0.011602688580751,0.044925481081009,-0.027181953191757,-0.018766047433019,0.094264984130859,0.156428366899490,0.031051006168127,0.038800589740276,-0.037488475441933,0.096217729151249,-0.073111101984978,0.024570142850280));
res += mul(Get(s0,0,dy), float4x4(-0.133356675505638,-0.061184212565422,-0.055359937250614,0.115778945386410,-0.108635522425175,0.280456870794296,-0.020272638648748,-0.028765760362148,0.080124467611313,-0.245684653520584,0.095620274543762,-0.091577507555485,0.044814955443144,-0.034965232014656,0.033183086663485,0.007409557700157));
res += mul(Get(s0,dx,-dy), float4x4(-0.165063679218292,-0.166653737425804,0.199822545051575,-0.208246096968651,-0.103356257081032,0.015564040280879,-0.090232186019421,-0.055428657680750,-0.060093946754932,-0.021167330443859,0.190251514315605,-0.076978728175163,-0.057584293186665,-0.007497486658394,-0.097865082323551,0.063974447548389));
res += mul(Get(s0,dx,0), float4x4(0.031038653105497,-0.046212483197451,0.095724120736122,0.122203111648560,-0.182948410511017,-0.167802557349205,0.061162497848272,0.010672502219677,-0.065008632838726,0.245356544852257,0.038135256618261,-0.121219448745251,-0.010969458147883,0.208229497075081,0.058546721935272,0.079036071896553));
res += mul(Get(s0,dx,dy), float4x4(-0.076047129929066,0.178957656025887,-0.018689263612032,-0.080024830996990,-0.029514240100980,0.215778097510338,0.006812211591750,-0.030512742698193,0.005104782525450,0.017943549901247,-0.086120508611202,-0.023576110601425,-0.046545334160328,-0.041643179953098,0.069785661995411,-0.116323299705982));
res += mul(Get(s1,-dx,-dy), float4x4(0.009097281843424,0.079357445240021,0.090738348662853,-0.131391420960426,0.113282538950443,0.125089421868324,0.208861321210861,0.128973394632339,0.075793579220772,-0.003470045514405,0.048523336648941,-0.068592384457588,0.033450238406658,0.028160834684968,-0.038411363959312,0.009356706403196));
res += mul(Get(s1,-dx,0), float4x4(0.098917856812477,0.069842711091042,-0.001568144070916,0.046318557113409,0.096852451562881,-0.018380809575319,-0.050374776124954,0.007307632360607,0.012852994725108,-0.000650772009976,0.013814737088978,0.095995910465717,0.060448303818703,-0.148025766015053,0.018877085298300,-0.023193966597319));
res += mul(Get(s1,-dx,dy), float4x4(0.065118640661240,0.142822846770287,0.052538897842169,0.030056418851018,0.055287789553404,-0.020371502265334,-0.038098268210888,-0.120778039097786,-0.034456841647625,-0.105302684009075,0.067630402743816,-0.107892557978630,0.070760652422905,0.242876052856445,0.107174105942249,-0.022959496825933));
res += mul(Get(s1,0,-dy), float4x4(0.099264480173588,0.038395337760448,0.157186195254326,-0.076095081865788,-0.046367332339287,-0.123488657176495,-0.113392002880573,0.072031706571579,0.012188638560474,-0.033435888588428,-0.116553850471973,0.068925522267818,-0.133908465504646,-0.070093110203743,-0.177689105272293,-0.054045759141445));
res += mul(Get(s1,0,0), float4x4(-0.080444037914276,-0.216038420796394,0.003217934863642,0.112616278231144,-0.044823311269283,0.169094190001488,0.059333011507988,-0.042608767747879,0.142041027545929,-0.147686243057251,0.020199246704578,0.027354983612895,0.043160490691662,-0.111995212733746,-0.171099245548248,0.208150193095207));
res += mul(Get(s1,0,dy), float4x4(0.015621918253601,-0.072847470641136,-0.017285941168666,0.003987546078861,-0.184016153216362,0.072938591241837,-0.190555214881897,0.138845980167389,0.117838323116302,-0.047543603926897,-0.133880257606506,-0.014264584518969,-0.081351496279240,-0.111806713044643,-0.128268703818321,0.024115324020386));
res += mul(Get(s1,dx,-dy), float4x4(-0.086375281214714,0.040160112082958,0.154332578182220,0.013958374038339,-0.039001327008009,-0.071262292563915,-0.069159813225269,-0.050124011933804,-0.039647396653891,-0.009279130958021,0.064363539218903,-0.023309236392379,-0.027645817026496,0.111440643668175,0.078604169189930,-0.032179303467274));
res += mul(Get(s1,dx,0), float4x4(0.033684741705656,0.018955742940307,-0.221549645066261,0.027928994968534,-0.135451808571815,0.055969696491957,0.048611260950565,0.128239065408707,0.015899909660220,0.023863492533565,-0.024469001218677,0.162604525685310,0.073458530008793,0.018361425027251,0.015587831847370,0.026563609018922));
res += mul(Get(s1,dx,dy), float4x4(0.028489693999290,0.172940045595169,-0.041303388774395,0.070353120565414,0.080648668110371,0.048974234610796,-0.001290329964831,-0.108536355197430,-0.098352082073689,-0.127715900540352,0.059014786034822,-0.035156574100256,0.027808619663119,0.240398123860359,-0.079889371991158,0.095387622714043));
res += mul(Get(s2,-dx,-dy), float4x4(-0.014756286516786,0.144149959087372,0.133596703410149,-0.109496422111988,-0.186694115400314,0.004890361800790,-0.091891117393970,0.013534006662667,-0.020121384412050,0.046222645789385,-0.093081623315811,-0.004415394738317,0.029915206134319,-0.110232770442963,0.018628546968102,-0.062228672206402));
res += mul(Get(s2,-dx,0), float4x4(0.055359177291393,-0.203618109226227,0.016929857432842,0.050383701920509,0.013413440436125,-0.129291236400604,0.077185854315758,0.099538713693619,-0.046147204935551,0.108316913247108,-0.093939222395420,-0.073881752789021,-0.032370615750551,0.037957780063152,-0.011205370537937,-0.134072020649910));
res += mul(Get(s2,-dx,dy), float4x4(0.143326818943024,-0.026461195200682,-0.133923590183258,-0.119096979498863,-0.069371901452541,0.050940178334713,0.024944640696049,-0.012711367569864,0.098993390798569,-0.059152290225029,0.077090479433537,-0.010893432423472,0.061062641441822,-0.005095057189465,-0.047955382615328,0.013420778326690));
res += mul(Get(s2,0,-dy), float4x4(-0.054691653698683,-0.065800540149212,-0.083424471318722,-0.010852538049221,0.093702636659145,-0.008751920424402,0.011779377236962,0.140040695667267,0.046671681106091,-0.087086006999016,0.087055146694183,0.093550167977810,0.076729945838451,-0.086555466055870,0.058782432228327,-0.030226727947593));
res += mul(Get(s2,0,0), float4x4(-0.118019372224808,-0.012656930834055,-0.115169629454613,-0.166937604546547,-0.075862832367420,-0.119044877588749,0.037773083895445,0.057853009551764,0.160002961754799,-0.021528953686357,-0.155515447258949,-0.038170862942934,0.092111386358738,-0.053133856505156,0.080315157771111,0.020092884078622));
res += mul(Get(s2,0,dy), float4x4(-0.101997405290604,-0.081105254590511,0.085904464125633,0.043808497488499,0.000628530746326,-0.054374787956476,-0.011585799977183,-0.023206671699882,-0.025423806160688,0.136099383234978,-0.018006889149547,-0.051930695772171,0.036829788237810,-0.159919261932373,0.041336163878441,-0.127587109804153));
res += mul(Get(s2,dx,-dy), float4x4(-0.082819037139416,0.016984399408102,-0.050349179655313,0.060814671218395,-0.080492399632931,0.017444344237447,-0.102341249585152,-0.000461438234197,0.093808382749557,0.114982157945633,0.024180348962545,0.074390895664692,0.052648480981588,0.058434557169676,-0.021374274045229,0.116548098623753));
res += mul(Get(s2,dx,0), float4x4(-0.059159003198147,0.030215272679925,-0.099499061703682,-0.067501284182072,-0.055973190814257,0.019702993333340,0.033237855881453,-0.025153670459986,-0.184054225683212,-0.030672788619995,-0.050778653472662,-0.006300310138613,-0.057359710335732,-0.037994917482138,0.083314724266529,0.034973908215761));
res += mul(Get(s2,dx,dy), float4x4(0.050598260015249,0.019811188802123,-0.050210133194923,0.025015216320753,-0.020097363740206,0.010060857981443,-0.086471714079380,0.069752179086208,0.055897314101458,-0.053798452019691,0.072026841342449,-0.047321423888206,-0.096100330352783,0.142919704318047,-0.079582922160625,-0.137425824999809));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023395041003823,-0.124284975230694,0.012928554788232,0.090465560555458,-0.051408994942904,-0.075864039361477,0.003851736197248,0.058639287948608,-0.011061394587159,0.085391923785210,0.082421891391277,-0.077596768736839,0.099705927073956,-0.096239693462849,-0.065647289156914,0.007416449952871));
res += mul(Get(s3,-dx,0), float4x4(0.017318516969681,0.078144043684006,0.127138733863831,-0.053034257143736,-0.009491120465100,-0.116244077682495,-0.016206208616495,-0.027355538681149,0.026315378025174,0.008915972895920,-0.000586222682614,0.026777260005474,-0.060260456055403,0.019179798662663,-0.017485428601503,-0.050412274897099));
res += mul(Get(s3,-dx,dy), float4x4(0.083242021501064,0.005446326453239,-0.016854275017977,0.024584705010056,-0.017928320914507,-0.007066785823554,0.037530779838562,0.098845995962620,0.025995386764407,0.064011536538601,-0.029711307957768,0.058596644550562,0.041387468576431,0.069694600999355,-0.032709214836359,0.043846558779478));
res += mul(Get(s3,0,-dy), float4x4(-0.069365397095680,-0.000540468085092,-0.073692046105862,0.018554599955678,0.043341286480427,-0.000115893228212,0.067720279097557,-0.010986035689712,0.105377197265625,-0.089766256511211,0.046204905956984,0.073707379400730,0.025239603593946,0.040549423545599,-0.074539922177792,-0.042273938655853));
res += mul(Get(s3,0,0), float4x4(-0.042955622076988,0.067874126136303,0.169452637434006,-0.075211986899376,0.121957436203957,0.169662743806839,-0.169634297490120,-0.071498677134514,0.095598749816418,0.003199939848855,0.092934988439083,0.000140032600029,0.122110463678837,-0.053818851709366,0.117290638387203,0.020781937986612));
res += mul(Get(s3,0,dy), float4x4(0.260856956243515,0.099143952131271,-0.022645048797131,-0.253064244985580,-0.142645642161369,0.134051069617271,-0.025888493284583,0.100278556346893,-0.031471543014050,0.076968386769295,0.001294130343013,-0.020641848444939,-0.118028834462166,0.196854293346405,-0.141806125640869,0.068013787269592));
res += mul(Get(s3,dx,-dy), float4x4(-0.054628472775221,-0.092450037598610,0.037892509251833,0.045995261520147,0.177157655358315,0.005763309076428,-0.126851469278336,-0.014093188568950,-0.011394231580198,0.087113834917545,0.141353651881218,0.058858100324869,0.000062301471189,0.005572831258178,-0.043161768466234,0.081278689205647));
res += mul(Get(s3,dx,0), float4x4(0.168683424592018,0.118354126811028,-0.071540720760822,-0.031026506796479,0.069961041212082,0.013058426789939,0.049047145992517,0.039863839745522,0.064348302781582,-0.008426079526544,-0.071600995957851,0.172919303178787,0.004691820126027,0.075656577944756,-0.085027493536472,0.051620803773403));
res += mul(Get(s3,dx,dy), float4x4(0.084343455731869,-0.108834564685822,0.023451540619135,-0.054309684783220,-0.048257950693369,-0.121098041534424,0.209199339151382,-0.142634347081184,0.010558728128672,-0.162779778242111,-0.175288155674934,0.078284561634064,-0.205489426851273,-0.036529608070850,-0.041577585041523,0.120860368013382));
res = max(float4(0,0,0,0), res);
return res;
}
