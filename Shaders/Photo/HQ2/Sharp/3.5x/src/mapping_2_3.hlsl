sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.029501304030418,-0.094021439552307,-0.102437473833561,0.003969549667090,-0.001973812235519,-0.110965676605701,-0.133216977119446,0.038946509361267,0.162610709667206,-0.054688837379217,0.012848433107138,-0.034574680030346,0.094524413347244,0.030180418863893,-0.041687924414873,-0.062047887593508));
res += mul(Get(s0,-dx,0), float4x4(-0.027863793075085,0.157058909535408,0.006094188895077,0.057842243462801,-0.066173493862152,0.080376125872135,-0.139138683676720,0.000213811523281,-0.018889140337706,-0.012039313092828,0.103179976344109,0.057900864630938,-0.059085171669722,0.086232371628284,0.141291260719299,0.061920024454594));
res += mul(Get(s0,-dx,dy), float4x4(0.015102522447705,-0.104863427579403,-0.036221560090780,-0.054633501917124,0.070720165967941,0.019737305119634,0.020263750106096,-0.036111913621426,0.019401296973228,0.075882844626904,-0.092560686171055,0.069585219025612,-0.087611012160778,0.041236910969019,0.033924926072359,-0.000961751444265));
res += mul(Get(s0,0,-dy), float4x4(0.059494610875845,-0.005244181025773,-0.144164964556694,-0.010088404640555,-0.019481796771288,0.012530189007521,-0.071050152182579,-0.035296708345413,0.026832839474082,0.083724886178970,0.133420631289482,0.045079302042723,-0.131507813930511,0.020311078056693,-0.132919132709503,0.105750717222691));
res += mul(Get(s0,0,0), float4x4(0.032939724624157,-0.027691543102264,0.054249674081802,0.020806647837162,0.070963345468044,-0.105318769812584,0.172367528080940,-0.144113376736641,0.075080357491970,-0.166336148977280,0.051246631890535,0.064960032701492,0.171333700418472,0.065862491726875,-0.077279992401600,-0.089528143405914));
res += mul(Get(s0,0,dy), float4x4(-0.057290095835924,-0.098389454185963,0.052377704530954,-0.032777559012175,0.198194056749344,-0.014585074968636,-0.000764281372540,0.092020325362682,0.012793368659914,-0.026788536459208,-0.097329072654247,0.147928863763809,-0.075137652456760,0.035028040409088,0.094721518456936,-0.074012406170368));
res += mul(Get(s0,dx,-dy), float4x4(-0.034135319292545,-0.114593245089054,-0.056765809655190,0.024369683116674,0.075160406529903,0.032281715422869,0.041656028479338,0.055341538041830,0.036197554320097,-0.060105066746473,0.092228449881077,-0.147744402289391,0.076596841216087,-0.126366451382637,0.130627676844597,0.038842462003231));
res += mul(Get(s0,dx,0), float4x4(-0.082579955458641,0.055716156959534,0.046373777091503,-0.153467118740082,-0.014998463913798,0.006285174749792,0.065699815750122,-0.092769756913185,0.027857007458806,0.001280098920688,0.097991339862347,0.039853271096945,0.050717804580927,-0.007852310314775,-0.132106974720955,-0.077005378901958));
res += mul(Get(s0,dx,dy), float4x4(0.086216315627098,-0.120286919176579,-0.115941137075424,0.039473865181208,-0.005331282969564,0.149987384676933,0.036579042673111,-0.131098389625549,0.229145392775536,0.048148170113564,0.148274496197701,-0.006637037731707,-0.131745934486389,-0.126902759075165,0.008697546087205,0.008945075795054));
res += mul(Get(s1,-dx,-dy), float4x4(0.183935180306435,0.085606433451176,-0.061731126159430,-0.035145420581102,-0.012960843741894,-0.096743516623974,0.016350075602531,-0.018291873857379,-0.022393714636564,-0.093249015510082,-0.019959839060903,-0.028276592493057,-0.064717516303062,0.049317877739668,0.080448307096958,-0.046754330396652));
res += mul(Get(s1,-dx,0), float4x4(0.059453494846821,-0.179837986826897,0.161156982183456,0.094839878380299,0.006073503755033,0.052116058766842,0.030599659308791,0.131570547819138,-0.062968172132969,0.146300241351128,0.191387668251991,-0.136348530650139,0.115663118660450,-0.092254236340523,0.032337866723537,-0.112781137228012));
res += mul(Get(s1,-dx,dy), float4x4(0.160022929310799,-0.048252031207085,-0.075489938259125,0.037735063582659,-0.075319677591324,0.025814505293965,-0.069329462945461,-0.149700045585632,0.119320690631866,-0.113008379936218,-0.127840250730515,0.003210519440472,0.158863335847855,-0.108072765171528,0.043929044157267,0.026665117591619));
res += mul(Get(s1,0,-dy), float4x4(0.038978394120932,0.001934012514539,0.113271988928318,-0.035562939941883,0.037489078938961,-0.030930679291487,-0.083408147096634,0.094803228974342,-0.013888475485146,0.179619014263153,0.082312464714050,0.012474198825657,-0.109156735241413,0.123744271695614,0.095350258052349,0.011150925420225));
res += mul(Get(s1,0,0), float4x4(0.028205309063196,-0.002073831157759,-0.056940291076899,-0.055055104196072,-0.095948182046413,-0.048002790659666,0.050178427249193,-0.061993472278118,0.036575272679329,-0.088315419852734,0.050216630101204,0.026140984147787,-0.025253865867853,-0.134110376238823,0.057144839316607,0.122182637453079));
res += mul(Get(s1,0,dy), float4x4(-0.085764266550541,0.162048518657684,0.065835624933243,-0.034997534006834,-0.049965016543865,-0.095470726490021,-0.090979933738708,-0.023442313075066,0.094997502863407,-0.051616080105305,-0.112955950200558,-0.074699990451336,0.156741350889206,-0.210728213191032,-0.075319565832615,-0.134247347712517));
res += mul(Get(s1,dx,-dy), float4x4(0.014073592610657,-0.000628397567198,-0.109031543135643,0.206633090972900,0.012755301780999,-0.158857628703117,0.003611277090386,0.057446375489235,-0.069170296192169,0.129791885614395,0.021347885951400,-0.042939245700836,0.075584784150124,0.019722418859601,-0.163380637764931,-0.056087676435709));
res += mul(Get(s1,dx,0), float4x4(0.025931486859918,-0.050126947462559,0.131381914019585,-0.004284307360649,-0.044368926435709,-0.035694520920515,-0.246278330683708,-0.080866433680058,-0.008490651845932,0.097440429031849,0.153817862272263,0.022556455805898,-0.082014001905918,0.162439078092575,-0.012496860697865,0.015519407577813));
res += mul(Get(s1,dx,dy), float4x4(-0.129371255636215,0.050310421735048,-0.190471947193146,-0.017520003020763,0.037111092358828,0.064213953912258,-0.180030345916748,0.036803774535656,-0.056116715073586,-0.083852685987949,-0.072630815207958,0.015350253321230,-0.063678726553917,0.118044503033161,0.070205919444561,-0.015348023734987));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031520709395409,-0.117863155901432,-0.046263627707958,0.176485940814018,-0.084951214492321,-0.099549412727356,0.056879665702581,0.161178827285767,0.021862769499421,0.024505935609341,-0.010827710852027,0.027945362031460,-0.036245863884687,-0.010076520033181,0.054687194526196,0.010331736877561));
res += mul(Get(s2,-dx,0), float4x4(0.010905014351010,-0.004528843797743,-0.017230346798897,-0.054767835885286,-0.064618095755577,0.124019719660282,0.028060823678970,0.026746807619929,-0.100922621786594,-0.017661919817328,0.082369320094585,-0.143238931894302,-0.145265191793442,-0.114472731947899,-0.118444487452507,-0.044797457754612));
res += mul(Get(s2,-dx,dy), float4x4(-0.138796880841255,0.080736920237541,0.193241581320763,-0.222140014171600,-0.173441052436829,0.166157484054565,-0.130154311656952,-0.047725021839142,0.022355599328876,0.035501364618540,-0.029412059113383,0.010183112695813,-0.059875771403313,-0.201612725853920,0.051063168793917,-0.029852058738470));
res += mul(Get(s2,0,-dy), float4x4(-0.020024951547384,0.086189739406109,-0.104575268924236,0.052471000701189,-0.014959219843149,-0.165862187743187,0.066708520054817,-0.061508961021900,0.134597048163414,0.083887398242950,-0.054151225835085,-0.042715396732092,-0.088410340249538,-0.080233581364155,-0.018390925601125,-0.093501843512058));
res += mul(Get(s2,0,0), float4x4(0.079877577722073,0.138061940670013,0.133486032485962,-0.153886213898659,-0.048929139971733,0.083874776959419,0.001087666489184,-0.017818503081799,0.000100684308563,-0.077453531324863,-0.033810026943684,-0.037642229348421,-0.043191809207201,0.097702115774155,0.184166789054871,-0.060640189796686));
res += mul(Get(s2,0,dy), float4x4(0.326659470796585,0.087381429970264,0.012038105167449,0.088079467415810,0.039794888347387,-0.013791584409773,0.169355645775795,0.098237738013268,0.034330338239670,-0.064747363328934,-0.015473403967917,-0.017079597339034,0.029209338128567,-0.047399114817381,-0.056844238191843,-0.050865150988102));
res += mul(Get(s2,dx,-dy), float4x4(-0.168706089258194,0.123242028057575,0.032305337488651,0.011919418349862,-0.006197324953973,-0.037831995636225,-0.095208324491978,0.159951910376549,-0.073644399642944,0.049570169299841,0.081193633377552,-0.249233961105347,0.072712928056717,0.024597613140941,0.036113750189543,-0.016079405322671));
res += mul(Get(s2,dx,0), float4x4(-0.110378853976727,-0.110312469303608,-0.007757558487356,-0.069795534014702,0.086503453552723,-0.077219858765602,-0.079122766852379,-0.002833653939888,0.140416622161865,0.127870783209801,-0.009939349256456,-0.063281469047070,0.012560280971229,0.018946351483464,0.009960952214897,0.050701685249805));
res += mul(Get(s2,dx,dy), float4x4(-0.044590823352337,-0.033988635987043,-0.011584811843932,-0.117340311408043,0.134017214179039,0.112501487135887,-0.144671946763992,0.026030037552118,0.040070325136185,0.106182217597961,-0.047726493328810,0.063011288642883,0.006206336896867,-0.189905583858490,-0.093143999576569,-0.002069862792268));
res += mul(Get(s3,-dx,-dy), float4x4(0.030935587361455,0.112289771437645,0.077912986278534,-0.007012312766165,0.004555954132229,-0.106232151389122,-0.000643143604975,0.016948984935880,0.016520645469427,0.117390520870686,-0.109394393861294,-0.054237511008978,-0.072241485118866,0.044018220156431,-0.040218103677034,0.073067113757133));
res += mul(Get(s3,-dx,0), float4x4(0.225730881094933,0.174164727330208,-0.194486960768700,-0.072249576449394,0.169652268290520,-0.010840962640941,0.304161578416824,0.026917947456241,0.090665310621262,0.100179322063923,-0.021742776036263,0.055850043892860,0.103591546416283,-0.068868383765221,0.002193009248003,-0.159685701131821));
res += mul(Get(s3,-dx,dy), float4x4(0.029717298224568,-0.003619724186137,-0.168527841567993,0.084636613726616,0.227716118097305,-0.066653415560722,-0.095536217093468,-0.022345267236233,0.021271681413054,0.010736767202616,-0.079429656267166,-0.019332626834512,-0.033958598971367,-0.034428216516972,0.001833031303249,-0.109231315553188));
res += mul(Get(s3,0,-dy), float4x4(0.012068195268512,0.087649472057819,-0.124618053436279,0.020952625200152,-0.139055013656616,0.098054423928261,0.164723336696625,0.124425657093525,0.084639228880405,-0.115440823137760,-0.050656072795391,-0.090928427875042,0.072070345282555,0.122196130454540,-0.086579829454422,0.040466818958521));
res += mul(Get(s3,0,0), float4x4(0.131254374980927,-0.058695312589407,0.107533484697342,0.048849191516638,-0.265174359083176,0.146807283163071,0.132986366748810,-0.126918777823448,-0.152934268116951,-0.067092008888721,-0.071070991456509,0.120998948812485,0.045583717525005,-0.116888292133808,-0.098572649061680,-0.013766213320196));
res += mul(Get(s3,0,dy), float4x4(0.006892208009958,0.046825483441353,0.069826811552048,0.018583929166198,0.024953447282314,-0.134126961231232,-0.204087927937508,-0.070556916296482,-0.034861300140619,0.077078692615032,0.036653578281403,0.052583497017622,0.105260983109474,0.073551081120968,-0.022858116775751,-0.013641295954585));
res += mul(Get(s3,dx,-dy), float4x4(-0.056087832897902,0.178528100252151,-0.111938580870628,0.070051431655884,0.135897070169449,0.164898365736008,-0.116118811070919,-0.051651034504175,-0.006389530375600,0.053658876568079,0.112108469009399,0.099035903811455,0.135333821177483,0.101978786289692,-0.001904325559735,0.080168209969997));
res += mul(Get(s3,dx,0), float4x4(0.093012548983097,0.105022177100182,-0.034214552491903,0.130617141723633,-0.055084511637688,0.055562142282724,0.100711710751057,-0.052455130964518,-0.052917074412107,-0.122597470879555,-0.035911787301302,-0.036063343286514,0.007033907808363,-0.127944871783257,-0.015483550727367,0.141152590513229));
res += mul(Get(s3,dx,dy), float4x4(-0.027193581685424,-0.070938497781754,-0.070934772491455,-0.037429500371218,-0.066859379410744,-0.054823730140924,0.087665058672428,-0.057792272418737,0.007059757132083,0.037327468395233,0.036208331584930,0.132191717624664,0.114652670919895,0.011813594959676,0.007192286662757,0.029132010415196));
res = max(float4(0,0,0,0), res);
return res;
}
