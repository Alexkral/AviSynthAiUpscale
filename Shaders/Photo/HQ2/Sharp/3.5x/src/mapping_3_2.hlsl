sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.186346217989922,0.107930548489094,0.034071698784828,0.096137285232544,0.119640581309795,-0.102501630783081,-0.141589581966400,-0.033232469111681,-0.129728093743324,-0.026810199022293,-0.071828514337540,0.017922805622220,-0.096203483641148,-0.076029874384403,-0.092819117009640,0.110342219471931));
res += mul(Get(s0,-dx,0), float4x4(0.127762988209724,-0.157985433936119,0.052827969193459,-0.052974693477154,-0.037194054573774,0.082792043685913,0.004354772157967,-0.051779702305794,-0.073284260928631,0.130058780312538,-0.031170699745417,-0.120602302253246,0.007357160095125,-0.198301032185555,0.072678700089455,0.115793377161026));
res += mul(Get(s0,-dx,dy), float4x4(-0.137668222188950,-0.015728902071714,-0.041741319000721,-0.110652506351471,0.235288858413696,-0.097244344651699,0.040368568152189,-0.066834308207035,-0.085058800876141,0.182549253106117,-0.056679666042328,0.104197047650814,-0.044323585927486,-0.013934610411525,0.039439246058464,0.027914667502046));
res += mul(Get(s0,0,-dy), float4x4(0.044760510325432,0.007437132298946,-0.059733569622040,-0.034303355962038,0.035558450967073,-0.060451015830040,-0.064695157110691,0.067941665649414,0.021212669089437,-0.045422628521919,-0.068125806748867,0.024506850168109,0.000287123344606,-0.118228249251842,-0.085763871669769,-0.132055819034576));
res += mul(Get(s0,0,0), float4x4(-0.109028436243534,-0.060907166451216,-0.038613267242908,-0.058392800390720,0.095407813787460,0.156402140855789,0.051114879548550,-0.008491904474795,0.137679755687714,0.000998721923679,0.168069541454315,0.022669736295938,0.059621304273605,-0.024773515760899,0.123059824109077,0.111622683703899));
res += mul(Get(s0,0,dy), float4x4(-0.174925819039345,0.010184360668063,-0.095942579209805,0.024058306589723,-0.010332512669265,0.080945171415806,0.127718284726143,-0.131762072443962,0.195233687758446,0.105701021850109,-0.023597927764058,0.145725086331367,-0.083543516695499,0.219142511487007,-0.004184846766293,0.012272499501705));
res += mul(Get(s0,dx,-dy), float4x4(-0.105195067822933,0.142813026905060,-0.045606710016727,-0.019809814170003,-0.023091115057468,-0.061200946569443,0.071252860128880,0.207818433642387,-0.138686120510101,0.059826184064150,-0.009722208604217,0.009723037481308,-0.009433116763830,-0.005131498910487,0.029428139328957,0.018356140702963));
res += mul(Get(s0,dx,0), float4x4(-0.189420491456985,-0.088312432169914,0.065824143588543,-0.128769904375076,-0.060051918029785,0.118125513195992,-0.124610133469105,-0.019600642845035,0.041264727711678,-0.003073195461184,0.032292030751705,-0.150915980339050,-0.148499310016632,0.130219712853432,0.028417238965631,0.104483962059021));
res += mul(Get(s0,dx,dy), float4x4(-0.098470084369183,-0.029488816857338,-0.195650517940521,0.050328705459833,0.012994715012610,-0.049517698585987,-0.030676160007715,0.027564670890570,-0.049336045980453,-0.002505134791136,-0.140494063496590,0.007404751144350,-0.036132052540779,-0.099709682166576,-0.045263111591339,0.035700041800737));
res += mul(Get(s1,-dx,-dy), float4x4(0.089676015079021,0.135898739099503,-0.142754659056664,-0.324578583240509,-0.006615377496928,-0.059624239802361,-0.020308304578066,-0.014577249996364,0.083234742283821,-0.070101492106915,-0.018366169184446,0.033314816653728,-0.075932510197163,-0.034870184957981,0.028106441721320,-0.151882186532021));
res += mul(Get(s1,-dx,0), float4x4(-0.151858776807785,-0.135884851217270,0.031886398792267,-0.144709184765816,0.006248601246625,-0.039040353149176,0.056124482303858,-0.047207865864038,-0.032558821141720,-0.094459153711796,-0.047250494360924,-0.040422886610031,0.043867319822311,-0.011591905727983,-0.050148304551840,-0.069736190140247));
res += mul(Get(s1,-dx,dy), float4x4(0.034177195280790,-0.030559999868274,-0.103796981275082,-0.071287222206593,-0.028016759082675,-0.063922949135303,0.144328415393829,-0.069419026374817,0.077915586531162,-0.166530773043633,-0.041960578411818,0.040138937532902,0.066879808902740,0.139382049441338,-0.007838932797313,0.054532699286938));
res += mul(Get(s1,0,-dy), float4x4(-0.114542767405510,0.037907596677542,0.004956427495927,-0.112056076526642,-0.043936401605606,0.108194194734097,-0.209513053297997,0.018079839646816,0.022078994661570,0.083790346980095,0.067173518240452,0.013172580860555,-0.046844415366650,-0.133897095918655,0.052656542509794,0.009253070689738));
res += mul(Get(s1,0,0), float4x4(0.018105376511812,0.044417120516300,0.071485765278339,0.013503864407539,0.114740028977394,0.009813745506108,0.066376224160194,-0.112775959074497,-0.048741381615400,-0.085196949541569,0.057553939521313,-0.026718270033598,0.071458749473095,0.001808943809010,-0.074030034244061,0.015721078962088));
res += mul(Get(s1,0,dy), float4x4(-0.041429672390223,-0.037098761647940,0.055106077343225,0.014980119653046,-0.032881766557693,0.017553640529513,-0.026232417672873,-0.019983639940619,-0.072270527482033,-0.001790535636246,0.104626886546612,-0.000222595190280,-0.024327056482434,0.144076600670815,-0.057920511811972,-0.044555321335793));
res += mul(Get(s1,dx,-dy), float4x4(-0.023102330043912,-0.079695820808411,-0.101716130971909,-0.053803164511919,-0.071296781301498,-0.060343842953444,-0.034977078437805,0.059557098895311,0.015190201811492,0.016251519322395,0.036837693303823,0.053649898618460,-0.016537632793188,-0.049571357667446,-0.063550703227520,-0.058431994169950));
res += mul(Get(s1,dx,0), float4x4(-0.141644865274429,-0.098748490214348,0.064479745924473,0.107906103134155,-0.077760800719261,0.024892730638385,-0.062587499618530,0.051415834575891,-0.009723342955112,0.012529734522104,-0.009818389080465,0.062317777425051,0.129826903343201,-0.112041026353836,-0.043268378823996,0.191968083381653));
res += mul(Get(s1,dx,dy), float4x4(-0.081403605639935,-0.068651624023914,-0.087767623364925,-0.064928792417049,-0.021615976467729,0.025872819125652,-0.005182608962059,-0.183206304907799,-0.080534219741821,-0.051331922411919,-0.097877413034439,-0.069020546972752,-0.037338439375162,0.109023712575436,0.148962318897247,0.002322961809114));
res += mul(Get(s2,-dx,-dy), float4x4(-0.175751388072968,-0.173323050141335,-0.064332321286201,-0.010771372355521,0.096478238701820,-0.060447324067354,0.065594308078289,0.049181792885065,0.005396371241659,-0.017688874155283,0.013499059714377,-0.109663046896458,0.134611815214157,-0.054625958204269,0.042291164398193,0.007958232425153));
res += mul(Get(s2,-dx,0), float4x4(-0.105858452618122,-0.050209082663059,0.160627767443657,-0.027144735679030,0.054883774369955,0.113228693604469,-0.068502768874168,0.114797614514828,-0.058363292366266,0.052376683801413,-0.068691827356815,-0.118044681847095,0.085578195750713,-0.027307258918881,0.049062453210354,-0.053656544536352));
res += mul(Get(s2,-dx,dy), float4x4(0.031896855682135,0.060311764478683,-0.010303940623999,0.008021280169487,0.115623831748962,0.012902811169624,-0.133300319314003,0.147051095962524,0.002335504628718,0.185364067554474,-0.152760878205299,-0.095907390117645,0.112775795161724,0.194668009877205,0.000768675701693,0.075063310563564));
res += mul(Get(s2,0,-dy), float4x4(-0.034917771816254,0.077221892774105,0.076870597898960,-0.024285387247801,0.054415229707956,-0.067908905446529,0.008719451725483,-0.164089336991310,0.048660922795534,-0.049956791102886,0.030128005892038,0.031680945307016,0.018419690430164,-0.126942366361618,0.171461597084999,0.144222036004066));
res += mul(Get(s2,0,0), float4x4(0.223591029644012,0.097946800291538,0.047940209507942,-0.100562155246735,-0.318015366792679,-0.001976510277018,0.009109929203987,0.014601095579565,0.066006951034069,0.048866860568523,0.007199511397630,0.126651331782341,-0.077114045619965,-0.005196177866310,-0.109436430037022,0.043599601835012));
res += mul(Get(s2,0,dy), float4x4(-0.133650004863739,-0.047489665448666,-0.019190281629562,0.038879409432411,-0.083030357956886,-0.094546288251877,-0.255100339651108,-0.021226895973086,-0.086184561252594,0.085841611027718,-0.118439264595509,-0.064230270683765,0.054791320115328,-0.034745272248983,0.028672166168690,0.028278090059757));
res += mul(Get(s2,dx,-dy), float4x4(-0.044769681990147,-0.078631222248077,-0.058833681046963,0.128735065460205,0.035194266587496,0.049831338226795,-0.028060581535101,-0.001914647757076,-0.064914673566818,-0.028681695461273,0.069781593978405,-0.019738357514143,0.149234905838966,0.027513150125742,-0.079549632966518,0.021096857264638));
res += mul(Get(s2,dx,0), float4x4(-0.012073072604835,0.069503583014011,0.101233035326004,-0.000306747329887,-0.068612530827522,-0.218090966343880,0.166738137602806,-0.017236161977053,-0.103819750249386,-0.201973184943199,0.015848184004426,0.041578702628613,0.039122253656387,0.148144826292992,-0.060885787010193,0.089486211538315));
res += mul(Get(s2,dx,dy), float4x4(-0.139097258448601,0.212095722556114,0.121784888207912,-0.081738770008087,0.036260787397623,-0.262535899877548,-0.043437328189611,-0.028670089319348,0.067895777523518,-0.054426886141300,-0.114435814321041,0.013295337557793,0.076116219162941,0.073515042662621,0.042041756212711,-0.027867510914803));
res += mul(Get(s3,-dx,-dy), float4x4(-0.128981813788414,-0.015633810311556,0.073038220405579,-0.027082398533821,0.025664450600743,-0.044197574257851,0.159344956278801,0.087970569729805,0.069031395018101,0.149939835071564,0.010394885204732,0.104373589158058,0.023922210559249,0.050011914223433,0.096729680895805,-0.034370757639408));
res += mul(Get(s3,-dx,0), float4x4(0.048511844128370,-0.096410326659679,-0.008048395626247,0.066573105752468,0.070540286600590,0.046917151659727,0.065233752131462,-0.125994890928268,0.118348807096481,-0.068842403590679,-0.116161108016968,-0.000896032783203,-0.028691230341792,0.197709038853645,0.065866537392139,-0.159771159291267));
res += mul(Get(s3,-dx,dy), float4x4(-0.012923968955874,0.104486867785454,0.107139319181442,-0.006211727857590,-0.040921770036221,0.064958199858665,0.133580952882767,-0.105990335345268,-0.015321790240705,0.051653005182743,-0.014132938347757,0.150380507111549,0.070803098380566,0.072221599519253,-0.211305335164070,-0.078615352511406));
res += mul(Get(s3,0,-dy), float4x4(0.049584664404392,-0.042096231132746,-0.092100270092487,0.081287458539009,-0.070498563349247,-0.051412712782621,-0.023169750347733,0.185178682208061,-0.077931091189384,0.175845131278038,-0.140917807817459,-0.122182272374630,-0.004937137942761,-0.026437688618898,-0.151274681091309,-0.047777898609638));
res += mul(Get(s3,0,0), float4x4(0.106503471732140,-0.040272817015648,0.021612212061882,-0.127222836017609,0.111039452254772,0.077627629041672,-0.139749348163605,-0.040199570357800,0.105560220777988,-0.035196587443352,-0.062720164656639,-0.027368566021323,-0.018237005919218,-0.177346199750900,-0.070268712937832,-0.146792873740196));
res += mul(Get(s3,0,dy), float4x4(-0.067979447543621,0.041556987911463,-0.039590932428837,0.128055036067963,0.029950289055705,0.070133328437805,-0.113610178232193,-0.034071311354637,-0.044528014957905,0.051995605230331,0.068252116441727,-0.071278743445873,-0.147815749049187,0.015387130901217,-0.075204133987427,0.048486642539501));
res += mul(Get(s3,dx,-dy), float4x4(0.133155971765518,-0.144185408949852,-0.097312301397324,-0.082868643105030,-0.179244011640549,0.054533522576094,-0.117043152451515,-0.010951724834740,-0.070620149374008,0.027089657261968,0.146705746650696,0.032133158296347,-0.067309916019440,0.019437680020928,-0.136306568980217,0.027166659012437));
res += mul(Get(s3,dx,0), float4x4(-0.084373205900192,0.122396282851696,-0.250310957431793,-0.004209371749312,0.008449190296233,-0.051561444997787,0.042210675776005,-0.056591376662254,-0.109903842210770,-0.031439404934645,0.042647410184145,-0.112275913357735,0.009349654428661,-0.072213776409626,-0.056191682815552,-0.055189657956362));
res += mul(Get(s3,dx,dy), float4x4(-0.005829246714711,-0.020583467558026,0.068594299256802,-0.044084474444389,-0.152650579810143,-0.073684506118298,-0.100398063659668,0.033273279666901,-0.127305209636688,-0.005353080108762,0.009758087806404,-0.151572227478027,-0.034718252718449,0.084426604211330,-0.080537796020508,-0.121669746935368));
res = max(float4(0,0,0,0), res);
return res;
}
