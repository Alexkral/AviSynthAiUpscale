sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.070219181478024,0.200270786881447,0.152003407478333,-0.122623406350613,-0.149372830986977,-0.028430128470063,0.092094078660011,0.235836714506149,-0.096663191914558,0.149795532226563,-0.062451921403408,0.029206896200776,-0.064572185277939,0.035415511578321,-0.105501651763916,-0.050604090094566));
res += mul(Get(s0,-dx,0), float4x4(0.050154380500317,0.067199520766735,-0.020604664459825,-0.035917680710554,-0.026899617165327,0.010601921007037,0.009478575550020,-0.045414790511131,0.011637635529041,0.092211291193962,0.097102552652359,-0.186661347746849,-0.045472670346498,0.046127259731293,0.027612760663033,0.055072899907827));
res += mul(Get(s0,-dx,dy), float4x4(-0.080195389688015,0.082884408533573,-0.038226898759604,-0.101970277726650,-0.144391700625420,0.028745891526341,0.070166781544685,0.044564548879862,0.012512805871665,0.110886253416538,-0.037643127143383,0.161796256899834,0.011706195771694,-0.045495010912418,0.096300542354584,0.064417414367199));
res += mul(Get(s0,0,-dy), float4x4(-0.062948018312454,0.181046411395073,0.076094821095467,-0.064836159348488,-0.011720875278115,-0.056644991040230,-0.047489300370216,0.124461203813553,-0.056951023638248,-0.104237690567970,0.086936898529530,-0.050460752099752,-0.061830855906010,0.079797543585300,-0.004487613216043,-0.080474667251110));
res += mul(Get(s0,0,0), float4x4(0.087583079934120,-0.014001320116222,0.155243620276451,0.067543856799603,-0.196595698595047,-0.090258985757828,-0.027003901079297,-0.016210902482271,0.291580289602280,0.074693426489830,0.114034719765186,-0.088729962706566,0.017859023064375,-0.014254115521908,0.060768857598305,-0.057085059583187));
res += mul(Get(s0,0,dy), float4x4(-0.035421986132860,0.048516407608986,-0.091122150421143,-0.066169798374176,-0.062724865972996,0.059125240892172,0.113431468605995,0.069572657346725,0.096268601715565,0.128218576312065,0.129555746912956,-0.068774282932281,0.065262056887150,0.008217812515795,0.076781786978245,0.169822528958321));
res += mul(Get(s0,dx,-dy), float4x4(-0.094397269189358,-0.130821108818054,-0.106229215860367,0.200972065329552,-0.029840309172869,0.040872372686863,0.011974429711699,-0.134169295430183,0.074681714177132,0.085636369884014,0.003589082043618,0.047383420169353,-0.023474743589759,0.039935797452927,0.114477813243866,0.033160537481308));
res += mul(Get(s0,dx,0), float4x4(0.000363837199984,0.017722470685840,-0.089864097535610,0.066841967403889,-0.031109226867557,-0.105272799730301,-0.012815890833735,0.054415129125118,-0.000495107495226,0.065147623419762,0.058652166277170,-0.055076070129871,-0.107719711959362,0.024646088480949,-0.013507821597159,-0.055280495434999));
res += mul(Get(s0,dx,dy), float4x4(-0.087689362466335,-0.019232274964452,0.007320106495172,0.005387852899730,0.006673162337393,0.142380252480507,0.058815751224756,0.212654739618301,-0.152877479791641,0.046244360506535,0.022682685405016,0.259863704442978,0.013065008446574,0.117947362363338,-0.099549531936646,-0.009694635868073));
res += mul(Get(s1,-dx,-dy), float4x4(0.031012678518891,-0.088467828929424,-0.045513246208429,-0.079714342951775,-0.055232726037502,-0.085964977741241,-0.142995014786720,0.066597566008568,-0.054838184267282,0.042132489383221,0.146863460540771,0.035638645291328,-0.023013701662421,-0.188508167862892,-0.047328520566225,0.164522811770439));
res += mul(Get(s1,-dx,0), float4x4(-0.113287687301636,-0.022358456626534,0.150851726531982,0.052222125232220,0.023733355104923,-0.082800120115280,0.140978008508682,0.137342616915703,-0.023070767521858,0.198276653885841,0.029836948961020,-0.028941916301847,0.126673713326454,0.113748900592327,-0.003995615988970,-0.064554706215858));
res += mul(Get(s1,-dx,dy), float4x4(0.102409586310387,0.017260860651731,-0.158116355538368,0.081943720579147,-0.085368350148201,-0.053224511444569,0.021422786638141,-0.005417861975729,-0.009678277187049,0.093743532896042,0.028104480355978,-0.109307795763016,0.201861500740051,0.046547234058380,-0.048444181680679,-0.004137866664678));
res += mul(Get(s1,0,-dy), float4x4(0.000303431268549,-0.038153953850269,0.030060125514865,0.055579364299774,0.015469843521714,0.018934955820441,-0.000151815882418,-0.061533283442259,0.012938264757395,-0.010365434922278,0.173196732997894,-0.029339762404561,-0.048040013760328,0.064920917153358,0.178591817617416,0.057657368481159));
res += mul(Get(s1,0,0), float4x4(-0.051001433283091,0.049016356468201,0.000131981389131,0.151461839675903,0.275583058595657,0.027164593338966,-0.041676934808493,0.084663711488247,0.038489442318678,0.014462783001363,-0.063487336039543,0.004699710290879,0.017112769186497,-0.099602505564690,-0.041643228381872,0.058349907398224));
res += mul(Get(s1,0,dy), float4x4(-0.030369622632861,0.001732318429276,0.019612183794379,0.062684431672096,-0.006976729258895,-0.069946415722370,-0.075531922280788,0.081184707581997,0.007577525451779,0.002807259093970,-0.055635858327150,-0.024089064449072,0.044814068824053,0.012058290652931,-0.002269147895277,-0.066310070455074));
res += mul(Get(s1,dx,-dy), float4x4(0.077736131846905,0.162310168147087,-0.136921852827072,0.172043189406395,-0.053636923432350,-0.175678923726082,0.077997334301472,0.019109033048153,-0.078737482428551,-0.218208357691765,0.012878662906587,-0.186956703662872,0.109592914581299,0.022572036832571,-0.029841817915440,-0.018974153324962));
res += mul(Get(s1,dx,0), float4x4(0.006041829939932,0.005610485095531,-0.121780864894390,0.038426522165537,0.061814837157726,-0.088942229747772,-0.037677172571421,0.034421809017658,-0.033062245696783,0.087875977158546,-0.112718112766743,-0.080141350626945,0.019523765891790,0.180510222911835,0.029095418751240,-0.038031786680222));
res += mul(Get(s1,dx,dy), float4x4(-0.006319768726826,0.155799224972725,0.104369662702084,0.174811735749245,-0.059546273201704,0.043537046760321,0.006464735604823,0.043940253555775,-0.029149437323213,-0.024573100730777,0.071583345532417,-0.042147729545832,-0.009505806490779,0.045707430690527,-0.010511043481529,-0.006289124023169));
res += mul(Get(s2,-dx,-dy), float4x4(0.039378151297569,0.002964857034385,0.060297943651676,0.100828021764755,0.055116761475801,-0.061175156384706,-0.042106050997972,0.040258705615997,-0.007374728564173,0.012087733484805,-0.007267528679222,0.180628418922424,0.045188397169113,0.056411042809486,-0.129216670989990,-0.165417343378067));
res += mul(Get(s2,-dx,0), float4x4(-0.103484973311424,-0.082101449370384,-0.084719568490982,0.211822926998138,0.012248691171408,0.093807734549046,-0.010879851877689,0.017057057470083,-0.006533124484122,0.117934927344322,0.138461083173752,-0.075677633285522,-0.047947581857443,0.020694855600595,0.007308415137231,0.031886644661427));
res += mul(Get(s2,-dx,dy), float4x4(0.018264036625624,-0.106092318892479,-0.014398039318621,-0.119155250489712,-0.103397406637669,0.084216214716434,0.040030717849731,0.057493686676025,0.114565975964069,0.083426348865032,0.031025661155581,-0.012849073857069,-0.043660361319780,0.110694423317909,-0.099543236196041,-0.000687637017109));
res += mul(Get(s2,0,-dy), float4x4(-0.031527653336525,0.102628625929356,-0.153610154986382,0.091574005782604,-0.110678836703300,-0.001641494687647,-0.131368011236191,0.001045292825438,0.121890611946583,-0.060379665344954,-0.046882402151823,0.116324037313461,0.027997117489576,-0.058525688946247,-0.022498732432723,0.004287866875529));
res += mul(Get(s2,0,0), float4x4(-0.133632287383080,-0.132953509688377,0.004097878467292,0.052093740552664,0.067246831953526,0.102081820368767,-0.070464000105858,0.054319828748703,-0.061555646359921,0.052649218589067,0.089375495910645,-0.001738149090670,0.034032057970762,0.073756903409958,-0.059018660336733,0.017035800963640));
res += mul(Get(s2,0,dy), float4x4(-0.048913545906544,0.122520133852959,0.076077394187450,-0.036838840693235,0.052414298057556,0.022269329056144,-0.035879980772734,-0.004191957414150,0.058224048465490,-0.085750989615917,-0.149142712354660,0.076725669205189,0.055562909692526,0.028284961357713,-0.011261042207479,-0.104539893567562));
res += mul(Get(s2,dx,-dy), float4x4(-0.024861983954906,0.022937966510653,0.037841655313969,-0.069984763860703,-0.065110981464386,-0.110139936208725,0.014321560040116,0.165413945913315,0.077808961272240,0.076758846640587,0.121789991855621,-0.031528033316135,-0.120733216404915,-0.050185453146696,0.107851020991802,0.025493878871202));
res += mul(Get(s2,dx,0), float4x4(-0.004132658243179,-0.046750411391258,-0.063444115221500,-0.027582125738263,-0.082041293382645,-0.072665259242058,-0.021380053833127,-0.045745655894279,0.071554183959961,-0.155827537178993,-0.113721050322056,0.017760176211596,-0.054100677371025,0.099238231778145,-0.091755010187626,0.017805350944400));
res += mul(Get(s2,dx,dy), float4x4(-0.047965720295906,-0.123588867485523,0.043870002031326,-0.033914737403393,-0.020293116569519,-0.062068969011307,-0.013362962752581,0.066298656165600,0.048691619187593,-0.006559811998159,0.080093264579773,-0.070987984538078,0.032792173326015,0.002234857762232,0.119492150843143,-0.163736119866371));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000876050558873,-0.107321977615356,-0.057959653437138,-0.112399786710739,0.016774151474237,0.095369048416615,0.021784540265799,0.041606914252043,-0.093812033534050,0.008547138422728,-0.003821783466265,-0.131962954998016,-0.026453262194991,0.000733278575353,-0.003013310255483,-0.018634814769030));
res += mul(Get(s3,-dx,0), float4x4(-0.032167278230190,0.035198446363211,-0.000850910204463,-0.074057966470718,-0.023968873545527,0.024455346167088,0.091775096952915,0.141289517283440,0.041509736329317,-0.003161882050335,-0.129578396677971,0.028430635109544,-0.062859877943993,-0.026707587763667,0.029528759419918,0.011621993035078));
res += mul(Get(s3,-dx,dy), float4x4(-0.011754619888961,0.058887317776680,0.122657962143421,-0.011068308725953,0.074361480772495,0.052444111555815,-0.117269434034824,0.035882331430912,0.113591305911541,-0.010137712582946,-0.100677005946636,0.035279657691717,0.001177408266813,-0.126883670687675,0.106118641793728,0.017491884529591));
res += mul(Get(s3,0,-dy), float4x4(-0.074503429234028,-0.041110910475254,0.018564909696579,0.087798364460468,-0.111194446682930,0.047495439648628,-0.086202569305897,0.163217768073082,0.002850360004231,0.143922433257103,0.025367688387632,0.038250058889389,-0.022344982251525,0.003235228126869,0.137343987822533,-0.010562520474195));
res += mul(Get(s3,0,0), float4x4(0.083869770169258,-0.025274099782109,0.045176461338997,-0.079392589628696,-0.012181623838842,0.040331572294235,-0.105290867388248,0.202579468488693,-0.147428706288338,0.123198226094246,-0.122088700532913,-0.061599463224411,0.069622874259949,-0.066096790134907,-0.012409911490977,-0.056351680308580));
res += mul(Get(s3,0,dy), float4x4(-0.012415652163327,0.072834260761738,0.120330452919006,0.024065144360065,0.023457646369934,-0.016261182725430,-0.131622508168221,0.007429026532918,-0.028020098805428,0.184808462858200,0.124415643513203,-0.030509041622281,-0.028495701029897,-0.044205449521542,0.005517468322068,-0.062204517424107));
res += mul(Get(s3,dx,-dy), float4x4(-0.092075332999229,0.004749557934701,-0.089613594114780,0.112836346030235,-0.062987968325615,-0.109711691737175,0.060427740216255,-0.013184262439609,0.135727420449257,-0.029748121276498,-0.110176511108875,0.090316727757454,-0.112806394696236,-0.035680197179317,-0.003834439208731,-0.000860120286234));
res += mul(Get(s3,dx,0), float4x4(0.008858199231327,0.062378499656916,-0.032918963581324,0.097129300236702,-0.002639791928232,0.068292848765850,-0.019692672416568,0.061349112540483,-0.061763305217028,-0.147188052535057,-0.006335610523820,0.030353471636772,-0.031831689178944,-0.008821056224406,0.136973142623901,-0.011838257312775));
res += mul(Get(s3,dx,dy), float4x4(-0.074719130992889,0.164942115545273,0.067526862025261,0.016932275146246,0.045925617218018,-0.082254074513912,-0.080690957605839,-0.063058808445930,0.086373597383499,0.116471759974957,-0.050338584929705,-0.011430026032031,-0.095081761479378,0.118596777319908,0.082777500152588,0.015478395856917));
res = max(float4(0,0,0,0), res);
return res;
}
