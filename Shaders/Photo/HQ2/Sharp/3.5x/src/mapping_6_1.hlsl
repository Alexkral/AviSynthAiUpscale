sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.111438326537609,0.077527061104774,-0.134689748287201,0.185351774096489,0.037344273179770,0.088441886007786,-0.103145621716976,-0.073394410312176,0.010826176032424,-0.096402935683727,0.077132709324360,0.069623291492462,-0.017472844570875,0.064649485051632,-0.068887956440449,0.025603443384171));
res += mul(Get(s0,-dx,0), float4x4(-0.155200377106667,0.015769470483065,0.092057570815086,0.050473906099796,-0.142621278762817,0.053904324769974,-0.095145858824253,-0.031937893480062,-0.060979418456554,-0.049547702074051,-0.005469887517393,-0.012377676554024,-0.087044633924961,-0.001137491548434,0.025567421689630,-0.038065053522587));
res += mul(Get(s0,-dx,dy), float4x4(-0.021223504096270,-0.075812682509422,0.050662763416767,0.037921641021967,-0.005861474666744,-0.047033667564392,-0.016107702627778,-0.225217103958130,-0.014805832877755,-0.025580486282706,0.008390604518354,-0.048586163669825,-0.047052629292011,0.018104806542397,-0.058280091732740,0.026068227365613));
res += mul(Get(s0,0,-dy), float4x4(-0.048061057925224,0.322834521532059,-0.089091345667839,0.067582398653030,-0.008684957399964,-0.116595394909382,-0.042917683720589,0.029204435646534,-0.118282802402973,0.096839383244514,-0.067038528621197,-0.086636513471603,0.043681629002094,-0.029819183051586,0.004302507732064,-0.009637129493058));
res += mul(Get(s0,0,0), float4x4(-0.121337331831455,-0.005073590669781,-0.015363911166787,0.019281046465039,-0.230604186654091,-0.023199433460832,-0.076496772468090,0.075997486710548,-0.087766356766224,0.031312644481659,-0.049858517944813,0.011240934021771,0.169540718197823,0.094912186264992,0.001220715232193,0.028696898370981));
res += mul(Get(s0,0,dy), float4x4(-0.060938626527786,-0.098957046866417,0.016981028020382,-0.006104964297265,0.020669674500823,-0.116324745118618,-0.045771557837725,-0.130655840039253,0.107127726078033,0.010250221937895,-0.034300707280636,0.021957505494356,0.070871800184250,0.072896994650364,-0.178628161549568,0.055153097957373));
res += mul(Get(s0,dx,-dy), float4x4(0.011960350908339,0.107734329998493,-0.053821515291929,-0.046718284487724,-0.037081763148308,0.012818904593587,-0.083775937557220,-0.004916707053781,0.169882550835609,0.144560143351555,0.041727002710104,0.030975140631199,0.039895322173834,-0.044304389506578,-0.031363088637590,-0.100606776773930));
res += mul(Get(s0,dx,0), float4x4(0.133484661579132,-0.180709823966026,0.009943215176463,-0.219325453042984,-0.046964056789875,-0.145996659994125,-0.085484251379967,-0.034048795700073,0.064981617033482,-0.074489161372185,-0.018326800316572,0.031289231032133,-0.046695619821548,0.035259637981653,-0.075215876102448,0.059851858764887));
res += mul(Get(s0,dx,dy), float4x4(0.023435434326530,0.009714913554490,-0.064569622278214,-0.106933429837227,0.138535112142563,-0.011249630711973,0.030516184866428,-0.015240816399455,-0.062514267861843,-0.141322433948517,0.092235267162323,0.058217242360115,0.003618001472205,0.077129989862442,0.153271526098251,-0.059217520058155));
res += mul(Get(s1,-dx,-dy), float4x4(-0.056373562663794,-0.031526193022728,0.056779127568007,-0.045607365667820,-0.059414096176624,-0.050088249146938,0.092372111976147,-0.069687351584435,-0.015103082172573,0.027857808396220,0.022193528711796,-0.074401669204235,-0.149346128106117,0.022900959476829,-0.077601864933968,0.055578947067261));
res += mul(Get(s1,-dx,0), float4x4(0.130544051527977,0.137277528643608,-0.047906268388033,0.169942736625671,0.058814827352762,-0.041403237730265,-0.036921046674252,-0.166192755103111,0.048534587025642,0.169094011187553,0.085992351174355,-0.091510325670242,-0.037456169724464,0.038447454571724,-0.066065274178982,0.072199471294880));
res += mul(Get(s1,-dx,dy), float4x4(0.007105587981641,0.045901693403721,-0.072789043188095,0.005657182075083,-0.009575709700584,-0.007451794110239,-0.096163943409920,-0.104694187641144,-0.051490806043148,0.108486287295818,-0.018245121464133,0.012141945771873,0.067665182054043,-0.042314939200878,0.069740831851959,0.041569173336029));
res += mul(Get(s1,0,-dy), float4x4(0.040943522006273,-0.032009445130825,-0.039247810840607,0.007907119579613,0.053063679486513,-0.004995831754059,0.084706209599972,-0.010474273003638,0.001050408463925,-0.090287916362286,-0.072022445499897,0.006856857333332,0.051400240510702,-0.043986812233925,0.026683114469051,-0.173193186521530));
res += mul(Get(s1,0,0), float4x4(0.080110579729080,-0.121042698621750,0.013670151121914,-0.169352650642395,-0.119327865540981,0.084045253694057,0.069724470376968,0.007062490098178,0.048287790268660,-0.038709010928869,-0.032831393182278,-0.018265975639224,0.200282782316208,-0.003383478615433,0.026874898001552,0.069153435528278));
res += mul(Get(s1,0,dy), float4x4(-0.025212798267603,0.035454027354717,0.091212332248688,0.085081644356251,-0.008538067340851,0.035435501486063,-0.053675424307585,0.068618290126324,0.021211344748735,-0.095510818064213,0.089890867471695,-0.000396350602387,-0.019284073263407,-0.204432368278503,-0.126964822411537,-0.047338567674160));
res += mul(Get(s1,dx,-dy), float4x4(-0.070626057684422,0.058933332562447,-0.030660919845104,0.147075593471527,-0.105305805802345,-0.068488195538521,-0.056500915437937,-0.023599931970239,0.004020249005407,0.033134035766125,-0.044407401233912,-0.071788221597672,0.070093348622322,-0.098592892289162,0.089570954442024,0.008793404325843));
res += mul(Get(s1,dx,0), float4x4(-0.029523085802794,0.156637191772461,0.060495894402266,-0.084783472120762,-0.000124930549646,0.183206051588058,0.105982504785061,-0.016809809952974,-0.148721054196358,-0.034339819103479,0.101628527045250,0.107651956379414,0.007334121502936,-0.064580321311951,-0.014717889018357,0.009450370445848));
res += mul(Get(s1,dx,dy), float4x4(-0.060717709362507,-0.060915511101484,-0.026870574802160,-0.049095097929239,-0.097295716404915,-0.046089060604572,-0.037221886217594,0.136879146099091,-0.033984668552876,-0.087027624249458,0.003385154297575,0.051860112696886,-0.069966211915016,-0.014124948531389,0.019633254036307,-0.132840216159821));
res += mul(Get(s2,-dx,-dy), float4x4(-0.011027247644961,0.141908690333366,0.118301212787628,0.143924862146378,0.000196899767616,0.084879659116268,0.028436249122024,-0.087749853730202,-0.023030927404761,0.174500122666359,-0.142646804451942,0.138168111443520,0.045339226722717,0.038218013942242,-0.099671415984631,-0.058263055980206));
res += mul(Get(s2,-dx,0), float4x4(-0.047586850821972,0.009757544845343,-0.084895722568035,0.020901802927256,0.093323931097984,-0.050572253763676,-0.068442501127720,0.048661317676306,-0.206168815493584,0.073163375258446,0.001128519186750,0.009843359701335,-0.128327876329422,-0.068224623799324,-0.043027751147747,-0.106019325554371));
res += mul(Get(s2,-dx,dy), float4x4(-0.064386114478111,-0.016357818618417,0.018699819222093,0.032272525131702,-0.094873785972595,0.038069840520620,0.038750641047955,-0.062812954187393,-0.036269333213568,-0.040943823754787,0.080948606133461,-0.047930765897036,0.023146416991949,0.133977532386780,-0.077267870306969,0.020323170349002));
res += mul(Get(s2,0,-dy), float4x4(-0.048871893435717,0.112975917756557,-0.096547722816467,-0.035323638468981,-0.200158566236496,-0.017929006367922,-0.073974609375000,-0.049694955348969,0.042494829744101,-0.019512960687280,0.092997960746288,-0.120320595800877,0.064401954412460,0.000681108213030,-0.067582383751869,-0.130494818091393));
res += mul(Get(s2,0,0), float4x4(0.016936507076025,0.134759768843651,-0.153999447822571,0.016155984252691,-0.006401374936104,0.033173833042383,0.027009820565581,-0.045965217053890,0.072369843721390,-0.053698375821114,-0.040513291954994,-0.095827922224998,0.161962300539017,-0.029833737760782,0.045266550034285,0.075820937752724));
res += mul(Get(s2,0,dy), float4x4(0.232660666108131,-0.017475718632340,0.089452221989632,-0.023945244029164,0.080627836287022,-0.068753801286221,0.217023372650146,0.089680328965187,0.049350202083588,-0.085897482931614,0.022753782570362,-0.017719825729728,-0.066883973777294,-0.132783025503159,0.065586827695370,-0.012587537989020));
res += mul(Get(s2,dx,-dy), float4x4(-0.062877617776394,-0.007326034363359,0.009928830899298,-0.051957596093416,-0.197536334395409,0.062432263046503,0.066745884716511,0.012397723272443,0.073556236922741,0.105739094316959,0.032733645290136,-0.153071925044060,0.022910619154572,0.061499826610088,0.005614211782813,-0.002101406920701));
res += mul(Get(s2,dx,0), float4x4(-0.052863899618387,0.007580262608826,0.038514621555805,0.055295374244452,0.062358021736145,-0.196532830595970,-0.040056958794594,-0.090120896697044,0.106706395745277,0.074341602623463,0.006713988725096,-0.050384383648634,0.136719852685928,-0.081161715090275,0.090743616223335,0.070507183670998));
res += mul(Get(s2,dx,dy), float4x4(-0.037799444049597,-0.011633153073490,-0.076352015137672,-0.041511457413435,0.100534610450268,-0.055529598146677,-0.020245311781764,-0.027174605056643,-0.082444429397583,-0.076546572148800,-0.070869542658329,-0.035794630646706,0.013666688464582,0.006481859833002,0.152962997555733,-0.011851241812110));
res += mul(Get(s3,-dx,-dy), float4x4(0.038230702280998,-0.115288868546486,-0.057423684746027,0.252584069967270,-0.067423328757286,-0.013787730596960,-0.067571893334389,0.082204051315784,0.066813796758652,0.056784152984619,-0.028541037812829,-0.059555489569902,0.064482361078262,0.054580975323915,-0.007588453125209,-0.016975658014417));
res += mul(Get(s3,-dx,0), float4x4(-0.021049579605460,0.200378581881523,0.031845770776272,-0.120827279984951,0.038572441786528,-0.067238464951515,-0.018279777839780,0.108608134090900,-0.034124538302422,-0.063783071935177,0.020113652572036,0.063524246215820,-0.038593377918005,0.126070186495781,0.059544704854488,-0.228783860802650));
res += mul(Get(s3,-dx,dy), float4x4(-0.025875549763441,0.019069926813245,0.030300173908472,0.023443238809705,0.020075386390090,0.099937364459038,0.124790392816067,-0.025375030934811,-0.079252697527409,0.049774236977100,-0.050134509801865,0.005241200327873,-0.037164721637964,-0.023483056575060,-0.012438045814633,0.110642313957214));
res += mul(Get(s3,0,-dy), float4x4(0.088304303586483,-0.074844948947430,-0.029325326904655,0.097527131438255,0.118680566549301,0.010273287072778,-0.137383043766022,0.026627359911799,-0.008993818424642,-0.009637176059186,-0.003232504939660,-0.174807995557785,0.156091421842575,-0.065397486090660,-0.224973171949387,-0.036495294421911));
res += mul(Get(s3,0,0), float4x4(0.047931928187609,-0.044319957494736,-0.026887308806181,0.054263025522232,0.162364751100540,-0.113645434379578,0.049048613756895,-0.013958985917270,-0.005537397228181,-0.017733817920089,-0.108214735984802,0.115518510341644,0.105211585760117,0.018210409209132,-0.033882260322571,0.084218420088291));
res += mul(Get(s3,0,dy), float4x4(0.099655807018280,0.106541886925697,0.010536802932620,-0.004228234291077,0.111126609146595,0.107448443770409,0.056904446333647,-0.131465241312981,-0.111796498298645,-0.076737135648727,-0.025414925068617,-0.060588333755732,0.043318007141352,0.062341965734959,0.115813530981541,0.100639604032040));
res += mul(Get(s3,dx,-dy), float4x4(-0.023797431960702,-0.006243650335819,-0.072666600346565,0.067961208522320,-0.083874180912971,0.074342064559460,0.063109025359154,0.125904262065887,0.008572396822274,0.111392401158810,-0.065583251416683,-0.115132272243500,0.005631776992232,-0.015890609472990,0.072318129241467,0.039143271744251));
res += mul(Get(s3,dx,0), float4x4(0.005298064090312,-0.114929012954235,0.114751525223255,-0.213776588439941,-0.129926919937134,-0.132016688585281,-0.109409280121326,-0.164739221334457,-0.084643453359604,0.036238811910152,-0.023054135963321,-0.062484554946423,-0.100402437150478,-0.086594983935356,0.169463083148003,-0.024625508114696));
res += mul(Get(s3,dx,dy), float4x4(0.052341189235449,0.094942212104797,0.021823387593031,0.031814940273762,-0.106587789952755,0.013705465942621,0.138194113969803,0.007419853005558,-0.067186146974564,-0.001937499968335,0.025830876082182,0.046492565423250,-0.046245574951172,-0.116785041987896,-0.046372957527637,0.054036315530539));
res = max(float4(0,0,0,0), res);
return res;
}
