sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.160155579447746,-0.064416922628880,-0.002778984606266,0.066971614956856,-0.059763681143522,0.039082076400518,-0.084720380604267,0.181067883968353,0.019550086930394,-0.025477681308985,-0.091161809861660,0.004652853589505,0.000187061101315,-0.012805518694222,0.016580447554588,0.056883513927460));
res += mul(Get(s0,-dx,0), float4x4(-0.164061874151230,0.035962253808975,-0.001411588396877,-0.021543025970459,-0.070594854652882,0.177347779273987,0.061058890074492,-0.052048463374376,-0.018273185938597,-0.030791016295552,0.082253195345402,-0.055754132568836,-0.037503097206354,-0.009088443592191,0.116838328540325,0.122820965945721));
res += mul(Get(s0,-dx,dy), float4x4(-0.153791382908821,-0.067973367869854,0.079761922359467,-0.078209429979324,0.069443382322788,-0.068448595702648,0.029511217027903,-0.083591833710670,-0.002458587521687,-0.047323863953352,-0.018689930438995,-0.068777672946453,0.052236281335354,0.109156496822834,0.121278777718544,0.085515677928925));
res += mul(Get(s0,0,-dy), float4x4(-0.079319804906845,0.016104316338897,-0.008308016695082,-0.043625567108393,-0.032060079276562,-0.055358726531267,-0.014466277323663,0.100424826145172,0.039303932338953,-0.080805167555809,0.121351502835751,0.084528528153896,-0.009550850838423,0.127913802862167,-0.105291210114956,-0.180838182568550));
res += mul(Get(s0,0,0), float4x4(-0.172692954540253,0.170314878225327,-0.228101044893265,0.031673423945904,-0.117412917315960,0.185302570462227,-0.001161249703728,0.071986980736256,-0.038727924227715,-0.001870384439826,-0.080832101404667,0.002640350721776,0.070426486432552,0.003203215543181,0.145339414477348,0.068448692560196));
res += mul(Get(s0,0,dy), float4x4(-0.030887771397829,0.068159937858582,-0.042007699608803,-0.205101355910301,0.002616513986140,0.049935083836317,0.014286311343312,-0.015403174795210,-0.090440273284912,-0.049493562430143,-0.051390327513218,0.117073208093643,-0.007761303801090,0.152292355895042,0.067001119256020,0.001252072746865));
res += mul(Get(s0,dx,-dy), float4x4(-0.028403768315911,0.091661855578423,0.015875667333603,0.053376391530037,0.017453730106354,-0.001030045095831,0.029024941846728,-0.053995296359062,-0.013243355788291,0.126325309276581,0.124200791120529,-0.095591709017754,-0.000527484109625,0.036947183310986,0.032371986657381,0.029108863323927));
res += mul(Get(s0,dx,0), float4x4(0.021913111209869,0.204829365015030,0.083227045834064,0.023970138281584,-0.035462167114019,0.046154260635376,0.026528179645538,0.009498010389507,0.011226915754378,0.022334208711982,0.122639782726765,0.019180977717042,-0.007773925084621,0.026868505403399,-0.002425752347335,-0.041437111794949));
res += mul(Get(s0,dx,dy), float4x4(0.024687055498362,0.101988509297371,0.119704917073250,0.070722706615925,0.058433443307877,-0.014395967125893,-0.024607837200165,-0.097483418881893,0.045205082744360,0.088728718459606,-0.088051512837410,-0.090602666139603,-0.079815067350864,0.190303653478622,-0.060802903026342,-0.144480928778648));
res += mul(Get(s1,-dx,-dy), float4x4(-0.079395540058613,0.134321525692940,0.010830759070814,0.081079714000225,-0.028289834037423,0.014881641604006,0.006226066965610,-0.181959956884384,0.089543975889683,-0.054261278361082,0.142812043428421,-0.095251314342022,-0.116202257573605,-0.158053234219551,-0.111628405749798,-0.040795169770718));
res += mul(Get(s1,-dx,0), float4x4(-0.083095170557499,0.081364125013351,-0.021883318200707,-0.044098310172558,0.076961211860180,-0.153447210788727,0.097067907452583,0.106631822884083,0.016642229631543,-0.073934338986874,-0.012547104619443,0.064447596669197,-0.140098139643669,0.097356982529163,-0.073262169957161,0.063245408236980));
res += mul(Get(s1,-dx,dy), float4x4(0.154009908437729,0.036507196724415,0.199409618973732,-0.028618168085814,0.024498257786036,0.045545872300863,-0.003017245326191,-0.027570141479373,0.007585995830595,0.048836611211300,0.030845109373331,-0.019101062789559,0.036329317837954,0.213775411248207,-0.040632791817188,-0.018446460366249));
res += mul(Get(s1,0,-dy), float4x4(-0.016196807846427,-0.045062884688377,0.018446486443281,0.018511388450861,0.195505455136299,0.064936928451061,-0.007589051499963,0.116358414292336,-0.022029725834727,0.119100973010063,-0.131915643811226,-0.209265261888504,-0.131662666797638,-0.178715929389000,0.010392876341939,0.017892941832542));
res += mul(Get(s1,0,0), float4x4(0.081390134990215,-0.009872467257082,-0.014437475241721,0.219304129481316,-0.004079647362232,-0.080784581601620,-0.046021841466427,-0.080796658992767,-0.021902279928327,0.037716194987297,0.019560694694519,-0.106266565620899,-0.149683073163033,-0.201517984271049,-0.121936276555061,-0.009776767343283));
res += mul(Get(s1,0,dy), float4x4(0.029825503006577,0.158919289708138,-0.000907483801711,0.197759702801704,-0.133994609117508,-0.019959913566709,-0.048976812511683,-0.085646145045757,-0.024463368579745,0.083270125091076,-0.102031618356705,0.214206874370575,0.054340582340956,-0.021873949095607,-0.122664988040924,-0.113143831491470));
res += mul(Get(s1,dx,-dy), float4x4(0.161331474781036,-0.173474445939064,-0.050302203744650,-0.111366495490074,0.038100305944681,-0.105068691074848,0.140307649970055,0.197492331266403,-0.248040154576302,-0.120472319424152,-0.097139447927475,-0.009916649200022,-0.061826616525650,0.039150174707174,-0.125563338398933,0.083768099546432));
res += mul(Get(s1,dx,0), float4x4(0.080147914588451,-0.057158973067999,0.179685920476913,-0.041544914245605,-0.078919008374214,0.139952629804611,0.069968059659004,0.050267394632101,0.024301139637828,0.030718864873052,0.062003966420889,-0.180733934044838,0.100611068308353,-0.024762917309999,0.076212190091610,-0.043067421764135));
res += mul(Get(s1,dx,dy), float4x4(-0.106519788503647,-0.014631974510849,0.055917177349329,0.085372954607010,0.004091946408153,0.034921303391457,0.011170853860676,-0.027061320841312,0.070148855447769,0.102772682905197,0.050439942628145,-0.110304623842239,-0.125942572951317,-0.033954631537199,-0.135750040411949,-0.060339786112309));
res += mul(Get(s2,-dx,-dy), float4x4(-0.062740124762058,-0.003909340128303,0.048133861273527,0.033804330974817,0.035390786826611,0.066061705350876,0.168371498584747,-0.134484112262726,0.298879414796829,0.121194981038570,0.012225593440235,0.029011476784945,-0.005251121241599,0.055567264556885,0.066552430391312,0.026386056095362));
res += mul(Get(s2,-dx,0), float4x4(0.014691260643303,-0.086182370781898,-0.110205717384815,0.014937464147806,0.093561790883541,-0.066983364522457,0.097545772790909,0.160947144031525,-0.019958605989814,-0.017374394461513,0.131408050656319,0.073037199676037,0.219089120626450,0.164744988083839,-0.070613838732243,-0.096212595701218));
res += mul(Get(s2,-dx,dy), float4x4(0.038524504750967,-0.119811594486237,-0.142871066927910,-0.050776187330484,-0.194141730666161,-0.026820650324225,0.036407627165318,0.022111721336842,0.040888089686632,-0.066975399851799,0.045357041060925,-0.069649502635002,0.037923749536276,-0.100424453616142,0.002506492659450,-0.027488213032484));
res += mul(Get(s2,0,-dy), float4x4(0.031653810292482,0.138252317905426,0.118237182497978,0.034341681748629,0.154526621103287,0.005146679002792,0.001456087804399,-0.102800011634827,0.028479402884841,0.030778896063566,-0.065551504492760,-0.128799498081207,0.037744652479887,-0.028575638309121,0.056462835520506,0.072298057377338));
res += mul(Get(s2,0,0), float4x4(0.011718866415322,0.019573047757149,0.166011169552803,0.184926927089691,-0.054999686777592,0.173977151513100,0.182278931140900,0.010753538459539,0.109276086091995,0.005778170190752,0.030072221532464,-0.009114713408053,-0.072466343641281,-0.146309494972229,0.108539789915085,0.209445804357529));
res += mul(Get(s2,0,dy), float4x4(-0.025687377899885,-0.094918020069599,-0.100765429437160,0.026208046823740,0.114272616803646,0.041690107434988,0.103936724364758,-0.121646784245968,0.094085246324539,0.074816554784775,-0.059247523546219,-0.070009015500546,-0.113074168562889,0.079343542456627,-0.079989917576313,-0.030497586354613));
res += mul(Get(s2,dx,-dy), float4x4(-0.063064664602280,0.110224254429340,-0.056384887546301,-0.023788599297404,0.132415726780891,-0.031975254416466,-0.045437879860401,0.049250058829784,-0.081894271075726,0.084161452949047,0.176585078239441,0.037859458476305,0.068967781960964,0.003415759187192,-0.014784558676183,0.119382426142693));
res += mul(Get(s2,dx,0), float4x4(0.032535593956709,-0.114464841783047,0.148162528872490,-0.058519966900349,-0.127620413899422,-0.014329279772937,0.044577293097973,-0.019392414018512,-0.037949930876493,0.098123610019684,-0.152340352535248,-0.159447252750397,-0.017128506675363,-0.025580460205674,-0.040641263127327,-0.074894927442074));
res += mul(Get(s2,dx,dy), float4x4(-0.041598558425903,0.001797440112568,-0.075053513050079,-0.004322771448642,0.015624137595296,-0.022336041554809,-0.058172211050987,0.006504894699901,0.029669510200620,0.058027997612953,-0.054783534258604,0.074590466916561,0.056123763322830,-0.148781627416611,-0.009784565307200,0.017548803240061));
res += mul(Get(s3,-dx,-dy), float4x4(-0.071812197566032,0.015855770558119,0.032509993761778,-0.016852818429470,0.093078888952732,-0.080415874719620,-0.093817666172981,0.083374083042145,0.061749208718538,-0.026076968759298,-0.114187322556973,-0.103701412677765,-0.073067456483841,-0.094638369977474,-0.157285630702972,-0.016556324437261));
res += mul(Get(s3,-dx,0), float4x4(0.077458612620831,-0.022838398814201,-0.053008966147900,0.029128232970834,-0.107703797519207,-0.100904576480389,-0.177934914827347,-0.057570181787014,-0.044910002499819,0.037030670791864,0.039647873491049,-0.003611441003159,-0.158803671598434,-0.009650139138103,0.089975148439407,0.038952857255936));
res += mul(Get(s3,-dx,dy), float4x4(-0.156891867518425,-0.116813711822033,0.069179169833660,-0.043160635977983,0.083072438836098,0.014519292861223,-0.088206246495247,-0.053977951407433,0.008358217775822,0.038988608866930,0.048945132642984,-0.008718023076653,-0.048907779157162,0.057909183204174,-0.309599459171295,0.006149772554636));
res += mul(Get(s3,0,-dy), float4x4(0.135406091809273,-0.099949806928635,0.039064861834049,-0.120808161795139,0.229046046733856,0.041908029466867,-0.086350291967392,0.127533584833145,-0.020215395838022,0.019053136929870,0.159548982977867,-0.030783556401730,0.014550759457052,-0.096026510000229,0.025366775691509,-0.050676744431257));
res += mul(Get(s3,0,0), float4x4(0.072668403387070,-0.065079241991043,-0.039195794612169,-0.011476711370051,-0.059223324060440,-0.081848986446857,-0.095957837998867,0.040216494351625,-0.126548945903778,0.055382288992405,0.079038433730602,-0.072624854743481,-0.093573242425919,0.066449120640755,-0.135450348258018,0.072577022016048));
res += mul(Get(s3,0,dy), float4x4(0.008772321976721,-0.021168058738112,0.023935789242387,0.039556685835123,0.011816430836916,-0.021934561431408,0.000228056655033,-0.168615520000458,-0.249649509787560,0.135103315114975,0.025367146357894,-0.146897643804550,0.033319368958473,0.050878114998341,-0.034947436302900,-0.098498240113258));
res += mul(Get(s3,dx,-dy), float4x4(-0.100257679820061,-0.142150089144707,0.092704415321350,-0.044968280941248,-0.075233593583107,-0.159019082784653,0.154298231005669,0.132452726364136,-0.004373329691589,0.037214994430542,0.068889312446117,0.252815037965775,-0.024054739624262,-0.000594686716795,0.114312738180161,0.148695051670074));
res += mul(Get(s3,dx,0), float4x4(-0.033789608627558,-0.013911414891481,0.090935021638870,-0.032681193202734,-0.168467089533806,-0.122396863996983,0.102256134152412,-0.060623582452536,-0.040387142449617,0.039792306721210,0.082945197820663,0.111571699380875,-0.010792246088386,0.049972463399172,-0.068537674844265,-0.144087940454483));
res += mul(Get(s3,dx,dy), float4x4(0.022101234644651,0.054382577538490,0.066795699298382,0.030736379325390,0.096510671079159,0.065638780593872,0.189260125160217,-0.112149119377136,-0.050473909825087,0.017325691878796,0.058859717100859,-0.043583609163761,-0.128331482410431,0.034140806645155,0.139362648129463,-0.018861867487431));
res = max(float4(0,0,0,0), res);
return res;
}
