sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.022353233769536,-0.018526608124375,0.082628153264523,0.016081146895885,0.135988458991051,0.053256448358297,-0.157478734850883,0.065520904958248,-0.142177358269691,-0.001051438390277,-0.036739986389875,0.028937865048647,-0.032735306769609,0.091037698090076,-0.073058024048805,0.010111585259438));
res += mul(Get(s0,-dx,0), float4x4(-0.005226941313595,-0.023747285827994,-0.119318887591362,0.014873001724482,-0.088580586016178,-0.078286886215210,-0.098232701420784,0.145794585347176,0.118865497410297,-0.012567314319313,0.003393487306312,-0.003897475311533,-0.012552082538605,0.061564195901155,-0.083997242152691,-0.115287318825722));
res += mul(Get(s0,-dx,dy), float4x4(0.060080099850893,0.022997809574008,-0.053561143577099,-0.086561590433121,-0.028462355956435,0.082566969096661,0.016446111723781,-0.021877396851778,0.007890195585787,-0.022612301632762,-0.045721728354692,-0.208487525582314,0.079238258302212,0.019420430064201,-0.178096249699593,-0.083329841494560));
res += mul(Get(s0,0,-dy), float4x4(-0.021820669993758,0.027206890285015,-0.172108516097069,0.052818350493908,0.085947960615158,0.007967531681061,0.014272933825850,-0.063410371541977,0.012635024264455,0.057859189808369,-0.143300220370293,-0.014696631580591,0.096138581633568,0.027589442208409,0.103756941854954,-0.057762131094933));
res += mul(Get(s0,0,0), float4x4(-0.139432936906815,-0.060603212565184,0.015738354995847,-0.181756854057312,0.010731494054198,0.030997371301055,0.132498577237129,0.137939229607582,0.034970361739397,-0.037630192935467,-0.091097056865692,-0.011922249570489,0.028084866702557,-0.014251163229346,-0.078717939555645,-0.004775173962116));
res += mul(Get(s0,0,dy), float4x4(0.052942551672459,0.045417368412018,-0.004498970694840,-0.047618765383959,-0.013193961232901,0.006465141661465,0.036116708070040,0.026283593848348,0.078358113765717,-0.000870753894560,-0.095832325518131,-0.048531681299210,-0.082312539219856,-0.014281071722507,-0.189936459064484,-0.152873426675797));
res += mul(Get(s0,dx,-dy), float4x4(-0.082860715687275,-0.132975101470947,-0.051775727421045,0.044982880353928,-0.037693206220865,0.009814873337746,0.036037065088749,0.071482829749584,-0.015347050502896,0.073435351252556,0.023615274578333,-0.051182314753532,-0.106833629310131,-0.068020910024643,0.019210048019886,0.178063154220581));
res += mul(Get(s0,dx,0), float4x4(0.026410760357976,-0.078569352626801,-0.066779963672161,0.143266677856445,-0.116068363189697,0.203587561845779,-0.018791796639562,0.023487189784646,0.110356613993645,0.027377398684621,-0.024339221417904,-0.019009398296475,-0.112047441303730,0.155375540256500,0.057858411222696,0.019228106364608));
res += mul(Get(s0,dx,dy), float4x4(-0.037373729050159,0.108501523733139,-0.063550680875778,-0.031227102503181,0.019457282498479,-0.018521374091506,-0.125494569540024,0.071144253015518,0.016165934503078,-0.091444671154022,-0.057740606367588,-0.068377472460270,-0.087588049471378,-0.000957711250521,-0.017455819994211,0.001601251307875));
res += mul(Get(s1,-dx,-dy), float4x4(0.048756621778011,0.002159183612093,-0.070006825029850,-0.054462417960167,0.129563465714455,0.031370505690575,-0.112304598093033,-0.109052315354347,-0.026812126860023,0.069986253976822,0.067326232790947,-0.084963917732239,-0.112719208002090,-0.070829406380653,0.097634732723236,-0.108460433781147));
res += mul(Get(s1,-dx,0), float4x4(-0.049244597554207,-0.050877317786217,-0.052460175007582,0.030912565067410,-0.029164416715503,-0.043281901627779,-0.040847495198250,0.053820841014385,-0.107732445001602,0.084672339260578,0.090364865958691,-0.132811948657036,0.070748612284660,0.016588352620602,0.022731725126505,-0.107632294297218));
res += mul(Get(s1,-dx,dy), float4x4(0.062705926597118,-0.171473190188408,0.018809802830219,0.066451206803322,0.094694681465626,-0.066439464688301,-0.059320129454136,-0.078953243792057,0.024954425171018,0.096911087632179,-0.086208537220955,-0.063547112047672,0.093620017170906,0.039547011256218,0.019307967275381,0.013481654226780));
res += mul(Get(s1,0,-dy), float4x4(0.087030790746212,0.110117569565773,0.130926430225372,-0.011645060963929,0.173680797219276,0.166633620858192,0.096674054861069,-0.060359708964825,-0.116480782628059,0.078648753464222,0.050978939980268,0.016587315127254,0.001029566978104,-0.058756534010172,0.057294182479382,0.043841674923897));
res += mul(Get(s1,0,0), float4x4(-0.038915507495403,0.015210628509521,-0.056215476244688,-0.005636815913022,0.035437699407339,0.128538057208061,0.125572875142097,-0.084525346755981,-0.100480161607265,-0.140328645706177,-0.010871713049710,0.173538789153099,0.060071527957916,0.015424817800522,-0.049819864332676,0.062767915427685));
res += mul(Get(s1,0,dy), float4x4(-0.039417631924152,0.036309707909822,0.132099375128746,0.024986207485199,-0.043394882231951,-0.060376424342394,0.046371720731258,0.041412260383368,-0.036264818161726,-0.063412949442863,-0.176044091582298,-0.165194123983383,-0.015941124409437,-0.077313005924225,0.057099282741547,-0.011398229748011));
res += mul(Get(s1,dx,-dy), float4x4(0.065723977982998,-0.116572715342045,0.114859789609909,-0.022125784307718,0.028501624241471,0.059271402657032,0.097757630050182,0.072331659495831,-0.023476859554648,-0.026061628013849,-0.022617373615503,0.085870593786240,0.026744097471237,-0.024554245173931,0.061064802110195,0.073125354945660));
res += mul(Get(s1,dx,0), float4x4(0.013849651440978,0.111861899495125,0.060638025403023,0.010132152587175,0.121865808963776,0.001486212247983,0.047883529216051,-0.179181873798370,-0.067062355577946,-0.044630713760853,-0.046486787497997,-0.014823111705482,0.057954087853432,-0.000826572650112,-0.004511259496212,0.007138279266655));
res += mul(Get(s1,dx,dy), float4x4(-0.074427358806133,-0.042692467570305,-0.062248982489109,-0.012969604693353,0.073816686868668,0.056311503052711,-0.062301315367222,0.035994142293930,0.038649119436741,-0.001272537629120,-0.069576852023602,0.006108358502388,0.025541540235281,0.091672278940678,-0.064234107732773,0.101743936538696));
res += mul(Get(s2,-dx,-dy), float4x4(0.048357319086790,0.080067083239555,0.060620144009590,0.007305175997317,0.005188625305891,-0.017042623832822,0.053047657012939,-0.082808129489422,0.026486963033676,-0.018506489694118,0.114881269633770,-0.092525549232960,0.076259367167950,0.049690581858158,-0.027869535610080,-0.040574539452791));
res += mul(Get(s2,-dx,0), float4x4(0.067065075039864,0.010375910438597,-0.047755382955074,-0.019984710961580,-0.016965780407190,0.000255146529526,0.157057479023933,-0.111563585698605,0.136971831321716,-0.040047023445368,0.053534317761660,-0.104662194848061,-0.042054869234562,-0.001382482354529,0.024097142741084,-0.042650539427996));
res += mul(Get(s2,-dx,dy), float4x4(0.165285840630531,-0.061621274799109,0.058409690856934,-0.126554310321808,-0.027030179277062,0.044198114424944,0.032336574047804,0.129006668925285,0.025430159643292,0.074011556804180,-0.015553451143205,0.098148204386234,0.080259524285793,-0.115202084183693,-0.114922955632210,0.126762837171555));
res += mul(Get(s2,0,-dy), float4x4(0.007425074465573,-0.129090666770935,-0.070009022951126,0.159912824630737,-0.093235708773136,0.013919841498137,-0.119358204305172,0.063039928674698,0.071430034935474,-0.029451524838805,0.154759302735329,-0.069160893559456,-0.036039140075445,-0.037892583757639,0.045573223382235,0.108440279960632));
res += mul(Get(s2,0,0), float4x4(-0.117192909121513,0.041808277368546,0.026442799717188,0.045035071671009,0.081215113401413,0.147541910409927,-0.039669983088970,-0.010498684830964,0.071198143064976,0.009085574187338,-0.120576828718185,-0.146425873041153,0.077071428298950,0.080339081585407,-0.177693292498589,0.043787442147732));
res += mul(Get(s2,0,dy), float4x4(-0.101180672645569,0.037383593618870,-0.023347700014710,-0.034052409231663,0.042486783117056,0.060995925217867,0.026626180857420,-0.008914112113416,0.042220830917358,0.156647861003876,-0.046463645994663,-0.115381620824337,0.078287832438946,0.053529333323240,0.005439416039735,0.075746797025204));
res += mul(Get(s2,dx,-dy), float4x4(-0.099738083779812,-0.042818266898394,0.001292442437261,0.014424301683903,-0.051094617694616,0.072327524423599,-0.032886285334826,0.107640743255615,0.128698006272316,-0.121657252311707,-0.132571786642075,0.040762912482023,-0.033103156834841,-0.052910417318344,-0.154942467808723,-0.078820571303368));
res += mul(Get(s2,dx,0), float4x4(-0.089807450771332,-0.046665836125612,-0.108834274113178,-0.005791208241135,-0.009278709068894,0.199948638677597,0.145932719111443,-0.123509533703327,-0.115312092006207,-0.238398283720016,-0.046381678432226,0.071106046438217,-0.053849797695875,-0.071188397705555,0.011236426420510,-0.081297248601913));
res += mul(Get(s2,dx,dy), float4x4(-0.036632254719734,-0.010275200009346,-0.044867649674416,-0.032253220677376,-0.033242538571358,0.038104277104139,-0.022338105365634,-0.197368517518044,-0.042553350329399,0.104388557374477,0.020249828696251,-0.180588394403458,-0.053059618920088,-0.019423019140959,-0.040450457483530,-0.007931494154036));
res += mul(Get(s3,-dx,-dy), float4x4(0.061580576002598,-0.084712512791157,0.091462470591068,0.075793623924255,-0.095787793397903,-0.102969586849213,0.076032958924770,0.030837116762996,0.051439411938190,0.024058282375336,0.154344514012337,-0.063098050653934,0.007727692835033,-0.021554088220000,0.028878115117550,-0.104755334556103));
res += mul(Get(s3,-dx,0), float4x4(-0.209393560886383,-0.106238298118114,0.044759724289179,0.139498040080070,0.125670745968819,0.033138085156679,-0.119798496365547,0.012457389384508,-0.120770379900932,-0.079853966832161,0.043278865516186,0.070598766207695,-0.098480015993118,0.051167491823435,0.009039570577443,-0.025387099012733));
res += mul(Get(s3,-dx,dy), float4x4(0.043025858700275,0.189970329403877,0.122366167604923,-0.024457342922688,-0.023849338293076,-0.002137699630111,-0.016323549672961,0.005476759281009,0.139388233423233,-0.119688406586647,0.198128640651703,-0.050064325332642,-0.125858932733536,-0.047216210514307,-0.054469339549541,0.022479487583041));
res += mul(Get(s3,0,-dy), float4x4(-0.071271702647209,0.093777351081371,-0.045474410057068,-0.023876320570707,-0.160092025995255,0.078258246183395,-0.023578951135278,0.060214817523956,-0.071261502802372,0.029095303267241,0.033404435962439,0.015222547575831,-0.110842958092690,-0.040405578911304,-0.079827293753624,0.085786908864975));
res += mul(Get(s3,0,0), float4x4(-0.159043014049530,-0.051201608031988,-0.136380463838577,-0.003180829808116,0.139654323458672,0.062417861074209,0.021312298253179,0.066591404378414,0.018051985651255,0.033420134335756,-0.036768488585949,0.259457170963287,-0.084338210523129,-0.036695357412100,-0.095724016427994,0.064928643405437));
res += mul(Get(s3,0,dy), float4x4(0.009282773360610,0.080143965780735,-0.130631759762764,-0.023855021223426,-0.083108156919479,-0.033852525055408,-0.019014354795218,-0.049103472381830,0.069848686456680,0.059811666607857,0.159597262740135,0.063309974968433,0.090959094464779,0.086736992001534,-0.022355066612363,0.062812894582748));
res += mul(Get(s3,dx,-dy), float4x4(0.099079959094524,-0.029173232614994,0.168291047215462,0.061922080814838,-0.073519520461559,0.088642336428165,0.159857243299484,-0.160465985536575,0.072869189083576,-0.071082621812820,0.166578277945518,-0.049485258758068,-0.099735237658024,-0.136038869619370,-0.030474739149213,-0.024578062817454));
res += mul(Get(s3,dx,0), float4x4(0.109734110534191,0.026034582406282,0.079449944198132,0.044200327247381,-0.103792935609818,0.128518730401993,-0.078822977840900,-0.057173550128937,-0.032469604164362,-0.030747333541512,-0.083805888891220,0.027715893462300,0.170894742012024,-0.138627514243126,-0.054827429354191,-0.057601317763329));
res += mul(Get(s3,dx,dy), float4x4(0.145510688424110,-0.014647928066552,0.023472374305129,0.065722957253456,-0.019586613401771,0.092553839087486,0.034201193600893,-0.092296749353409,0.173753380775452,0.090565726161003,0.095425128936768,-0.103249236941338,-0.232858926057816,0.087633132934570,0.147938773036003,0.046056717634201));
res = max(float4(0,0,0,0), res);
return res;
}
