sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.138358697295189,-0.265253186225891,0.114710599184036,0.020827524363995,0.117626816034317,-0.097638100385666,0.072575137019157,0.045474957674742,0.014267725870013,-0.027842069044709,0.125805556774139,0.012847884558141,0.030390622094274,-0.054234035313129,-0.028844570741057,-0.055818520486355));
res += mul(Get(s0,-dx,0), float4x4(-0.161667197942734,0.063892811536789,-0.083424367010593,-0.101216323673725,-0.076939873397350,0.131970405578613,-0.074489012360573,0.092001304030418,0.024036824703217,0.066687904298306,0.056484419852495,0.035218965262175,-0.002229691017419,-0.167722195386887,-0.198934897780418,0.074882723391056));
res += mul(Get(s0,-dx,dy), float4x4(-0.028283376246691,-0.128564119338989,0.075806222856045,0.057674869894981,-0.045768279582262,-0.025525195524096,-0.023558007553220,-0.017813850194216,0.004978117533028,0.131831169128418,-0.023132396861911,0.050804886966944,0.056292999535799,-0.079952776432037,0.015107075683773,0.019546939060092));
res += mul(Get(s0,0,-dy), float4x4(0.093633204698563,-0.084139503538609,0.062553040683270,0.095875710248947,-0.009975073859096,-0.073372796177864,-0.042040113359690,-0.041354697197676,-0.029408778995275,-0.011646581813693,-0.019538294523954,-0.043980374932289,0.041224621236324,0.010288537479937,0.039425972849131,0.002489213598892));
res += mul(Get(s0,0,0), float4x4(0.025255199521780,0.022633550688624,-0.007947882637382,0.032031748443842,-0.017466513440013,-0.137974828481674,-0.028943715617061,0.155350342392921,-0.088986136019230,-0.066979758441448,0.039064433425665,-0.019823344424367,-0.017809031531215,0.095392845571041,-0.004723280668259,0.065000936388969));
res += mul(Get(s0,0,dy), float4x4(0.110718958079815,-0.076158590614796,0.012016130611300,-0.059672527015209,-0.036742027848959,-0.039765290915966,-0.076414510607719,0.143684089183807,0.076009035110474,0.029218919575214,0.062860190868378,-0.029556438326836,0.149373337626457,0.090536020696163,-0.157305389642715,0.139809370040894));
res += mul(Get(s0,dx,-dy), float4x4(0.049749344587326,-0.102603502571583,-0.026867415755987,-0.044683970510960,0.065612554550171,0.129224359989166,0.113176226615906,0.210558682680130,0.133168175816536,-0.092529669404030,0.046398483216763,-0.172154292464256,0.061825513839722,-0.145116001367569,-0.183877497911453,-0.053379721939564));
res += mul(Get(s0,dx,0), float4x4(0.054191570729017,0.030234860256314,-0.194255113601685,-0.122914403676987,0.038576185703278,0.029781809076667,-0.112287901341915,-0.069411210715771,0.100475825369358,0.078713014721870,0.136587947607040,-0.075349576771259,0.035481546074152,-0.037880077958107,0.161206215620041,0.215950921177864));
res += mul(Get(s0,dx,dy), float4x4(-0.041599996387959,-0.019190900027752,0.043388754129410,-0.013699096627533,-0.103355467319489,-0.109807617962360,-0.024663316085935,-0.107161730527878,0.038005430251360,-0.077602557837963,-0.087478846311569,0.001884495723061,0.044663533568382,-0.003103944938630,-0.100511692464352,0.126695990562439));
res += mul(Get(s1,-dx,-dy), float4x4(0.074107073247433,0.043275002390146,-0.035493057221174,0.113151758909225,0.132162272930145,0.016908301040530,-0.007023772224784,-0.201276272535324,0.035096451640129,0.078513510525227,-0.020384820178151,0.065797068178654,0.011636490002275,0.030514342710376,0.009125119075179,-0.125125944614410));
res += mul(Get(s1,-dx,0), float4x4(-0.119076646864414,-0.002030020114034,0.045311849564314,-0.151340812444687,-0.036478221416473,-0.072917938232422,0.020101308822632,-0.058214250952005,0.057550560683012,0.157184854149818,0.108829207718372,-0.008049832656980,-0.155462205410004,0.136979892849922,0.118186064064503,-0.047605995088816));
res += mul(Get(s1,-dx,dy), float4x4(0.001643419265747,-0.013419532217085,0.095330931246281,-0.052162226289511,-0.087966635823250,0.028963360935450,-0.001876020920463,-0.053324699401855,-0.071690730750561,0.104588851332664,-0.059212449938059,0.081590212881565,-0.019580045714974,0.075905032455921,0.096824169158936,-0.022358773276210));
res += mul(Get(s1,0,-dy), float4x4(-0.011473580263555,-0.033492173999548,-0.149752080440521,-0.096335910260677,0.096743971109390,-0.033793106675148,-0.183783933520317,0.016366202384233,0.034626387059689,0.142158940434456,-0.134426712989807,-0.052936527878046,-0.061811793595552,0.022336367517710,0.006072132848203,0.111088745296001));
res += mul(Get(s1,0,0), float4x4(-0.154356151819229,-0.010032112710178,0.109561316668987,0.031879015266895,0.107710115611553,-0.103498935699463,-0.123179972171783,0.031561903655529,0.006539829540998,-0.038443483412266,0.017455326393247,0.102563507854939,0.204628497362137,0.073752686381340,0.056907780468464,-0.080460250377655));
res += mul(Get(s1,0,dy), float4x4(-0.051726702600718,-0.057511683553457,0.033021230250597,-0.087071910500526,0.059683397412300,-0.078350685536861,-0.051126148551702,-0.037529535591602,0.075598113238811,0.087158471345901,0.064760670065880,-0.125134602189064,-0.003204480744898,-0.039015155285597,0.080099806189537,0.085445336997509));
res += mul(Get(s1,dx,-dy), float4x4(0.049651220440865,-0.120061971247196,-0.106694646179676,0.023304823786020,0.021978434175253,0.105473950505257,-0.035374145954847,-0.015931488946080,0.091190814971924,-0.012191695161164,0.070759676396847,-0.018486380577087,0.035123642534018,-0.109594978392124,0.125599533319473,-0.025024570524693));
res += mul(Get(s1,dx,0), float4x4(-0.106434300541878,0.016935985535383,-0.039201389998198,0.167170405387878,0.203338488936424,0.211813077330589,-0.042248796671629,-0.042135089635849,0.162632346153259,-0.127857655286789,0.032537266612053,0.080585703253746,0.036528009921312,-0.062067218124866,-0.015938013792038,-0.049658179283142));
res += mul(Get(s1,dx,dy), float4x4(0.089272849261761,-0.143824309110641,0.002244336996228,-0.105090722441673,-0.078704908490181,-0.003554669674486,-0.041519865393639,0.023278450593352,0.092943005263805,-0.030223205685616,0.037135612219572,-0.088104031980038,-0.018104085698724,-0.094888851046562,0.090620867908001,-0.029982769861817));
res += mul(Get(s2,-dx,-dy), float4x4(-0.150156661868095,0.061220590025187,0.112849988043308,0.174174576997757,-0.089253194630146,-0.014822264201939,0.023821584880352,-0.052037548273802,-0.135142832994461,-0.053971424698830,0.032308254390955,0.028995854780078,0.038236536085606,0.069359607994556,0.049566484987736,-0.026151303201914));
res += mul(Get(s2,-dx,0), float4x4(0.176935851573944,-0.020252941176295,0.070404440164566,-0.060340724885464,0.037074353545904,0.043651495128870,0.003873268840834,0.155590966343880,-0.126740410923958,-0.060953862965107,-0.196958303451538,-0.056250888854265,-0.117376402020454,0.114339880645275,0.026266586035490,0.187514945864677));
res += mul(Get(s2,-dx,dy), float4x4(0.029506271705031,-0.101595334708691,0.080617696046829,0.124127589166164,-0.027034439146519,-0.006772354710847,-0.001677997526713,-0.029262954369187,-0.118692055344582,0.089566320180893,0.105890803039074,0.081330001354218,-0.115006953477859,0.085025995969772,-0.029593298211694,0.067492172122002));
res += mul(Get(s2,0,-dy), float4x4(-0.052282590419054,-0.016244817525148,-0.023556403815746,0.007818687707186,0.014068304561079,-0.029044937342405,-0.053481608629227,0.047913122922182,0.054791949689388,-0.033145699650049,0.204848840832710,-0.026370979845524,0.100163832306862,-0.076392367482185,-0.006776588037610,0.051044173538685));
res += mul(Get(s2,0,0), float4x4(0.001830067834817,-0.081676669418812,0.028270468115807,-0.055125642567873,0.082501165568829,0.091041952371597,0.014304177835584,0.084385931491852,-0.033687930554152,-0.000432832224760,0.005721770226955,0.092665262520313,0.029408492147923,-0.015252877026796,0.089007742702961,0.039906878024340));
res += mul(Get(s2,0,dy), float4x4(0.153878688812256,-0.035323068499565,0.061061430722475,0.051720947027206,0.013116550631821,-0.123195134103298,0.020948499441147,-0.103324182331562,-0.066827498376369,0.007942738942802,-0.003879494033754,-0.001171370735392,0.025143975391984,-0.131620660424232,-0.007892344146967,0.188878312706947));
res += mul(Get(s2,dx,-dy), float4x4(0.046323303133249,0.132480263710022,-0.067382127046585,0.018504388630390,0.087998062372208,0.199340507388115,-0.004549395292997,0.090631037950516,-0.098073616623878,0.034139100462198,0.050664789974689,0.009572026319802,0.041496012359858,0.058238048106432,0.044497303664684,0.043412096798420));
res += mul(Get(s2,dx,0), float4x4(0.047913264483213,0.134726494550705,-0.125972136855125,-0.018613452091813,0.005609313957393,-0.040701948106289,-0.077414862811565,0.100871659815311,-0.103647969663143,0.113847099244595,0.090729705989361,-0.035447470843792,0.011175299063325,0.175133913755417,-0.031047483906150,0.058828081935644));
res += mul(Get(s2,dx,dy), float4x4(-0.007314229849726,-0.065545126795769,0.049450587481260,0.032767158001661,0.034602154046297,0.036562051624060,-0.078383356332779,-0.063566602766514,0.010914453305304,0.042666923254728,-0.023940853774548,-0.054152987897396,0.052514176815748,0.141400203108788,0.006485686637461,-0.051383327692747));
res += mul(Get(s3,-dx,-dy), float4x4(0.066855229437351,0.080572053790092,-0.051140587776899,0.003559979377314,0.018705595284700,0.100074179470539,0.151208579540253,0.053174015134573,0.031820654869080,0.066461101174355,0.071953386068344,0.001931746141054,0.033832330256701,0.038917340338230,-0.194373667240143,-0.027145102620125));
res += mul(Get(s3,-dx,0), float4x4(-0.127730831503868,-0.090593643486500,-0.112361535429955,-0.070994958281517,0.028444027528167,0.044955413788557,0.079370915889740,0.059525087475777,-0.162288933992386,0.105582870543003,0.130103349685669,-0.103070572018623,0.078549504280090,-0.053389940410852,0.009987149387598,0.033798281103373));
res += mul(Get(s3,-dx,dy), float4x4(0.003681905334815,-0.066033907234669,-0.209212690591812,0.043329454958439,0.081913456320763,-0.131287008523941,-0.016301283612847,-0.015276686288416,-0.051090173423290,-0.036982398480177,0.176699101924896,-0.109814286231995,0.055182501673698,-0.008588096126914,-0.059412263333797,-0.087278202176094));
res += mul(Get(s3,0,-dy), float4x4(0.028708964586258,0.019834542647004,0.049437176436186,-0.050891898572445,0.083713442087173,-0.048526484519243,-0.052400980144739,0.161623120307922,-0.014431846328080,0.068005807697773,0.075288705527782,-0.135958328843117,-0.140385165810585,-0.046511359512806,0.041737388819456,0.039906810969114));
res += mul(Get(s3,0,0), float4x4(0.051352627575397,-0.016424490138888,0.027989465743303,0.136635228991508,0.067247413098812,-0.046990789473057,-0.039829690009356,0.034557588398457,-0.111961126327515,0.174976050853729,-0.109771370887756,0.122653461992741,0.075955361127853,-0.018025539815426,0.089657649397850,-0.127320200204849));
res += mul(Get(s3,0,dy), float4x4(0.034773852676153,0.072176665067673,0.054615784436464,0.082194693386555,-0.111334845423698,-0.097381189465523,0.005218844395131,0.036610096693039,0.060884684324265,-0.027299178764224,0.060149997472763,-0.194935336709023,0.125650033354759,0.024663632735610,0.039668098092079,-0.024616694077849));
res += mul(Get(s3,dx,-dy), float4x4(-0.065732263028622,0.107749409973621,0.049025055021048,-0.004003411624581,0.031686656177044,-0.012657277286053,0.029857972636819,-0.006243549752980,-0.065505802631378,0.058535207062960,0.054162971675396,0.197749301791191,-0.024053659290075,-0.078253418207169,0.104551196098328,0.091054990887642));
res += mul(Get(s3,dx,0), float4x4(0.044853515923023,-0.030546529218554,-0.150452345609665,-0.021403575316072,0.123664245009422,0.021616041660309,-0.076372645795345,0.058216910809278,0.049193810671568,0.138508364558220,-0.042252801358700,0.054394070059061,-0.010847100056708,-0.077055364847183,0.052355952560902,-0.021963844075799));
res += mul(Get(s3,dx,dy), float4x4(-0.081604860723019,-0.007561526261270,0.003188756527379,-0.112964667379856,-0.163271605968475,0.125960052013397,-0.052117891609669,-0.065527617931366,0.019956231117249,-0.072438888251781,-0.103473730385303,-0.212567985057831,0.005883144214749,0.035009089857340,0.035709802061319,0.061112508177757));
res = max(float4(0,0,0,0), res);
return res;
}
