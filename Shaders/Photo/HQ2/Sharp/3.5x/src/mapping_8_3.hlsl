sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.051992226392031,0.009231967851520,0.023257346823812,-0.063955835998058,0.024986248463392,0.070682302117348,-0.045460831373930,0.020265119150281,0.081197924911976,-0.151020511984825,0.043987058103085,-0.100572891533375,0.097603343427181,-0.131024152040482,-0.074735440313816,-0.096318386495113));
res += mul(Get(s0,-dx,0), float4x4(0.100245006382465,-0.071440905332565,-0.074686743319035,-0.039362885057926,0.091695085167885,-0.020371444523335,0.101023465394974,-0.009553393349051,-0.055449198931456,0.052715431898832,0.103760115802288,-0.078924827277660,-0.091573566198349,-0.088583178818226,0.009398795664310,0.002741798758507));
res += mul(Get(s0,-dx,dy), float4x4(-0.012783109210432,0.041293047368526,0.007556946482509,-0.039520062506199,-0.071067243814468,-0.007851827889681,-0.041783966124058,0.048621933907270,0.164429351687431,-0.029219657182693,0.053226452320814,-0.058038264513016,0.065987452864647,-0.124713674187660,-0.062061928212643,0.058814931660891));
res += mul(Get(s0,0,-dy), float4x4(-0.027482865378261,-0.008723729290068,0.000096112991741,-0.042267113924026,0.091208219528198,0.010989480651915,0.007950623519719,0.000778714078479,-0.037783835083246,-0.058709952980280,-0.041621964424849,-0.050712816417217,0.067576348781586,0.015805628150702,-0.093539893627167,-0.010890470817685));
res += mul(Get(s0,0,0), float4x4(0.034997086971998,0.029138395562768,-0.012548979371786,0.154961198568344,-0.033974453806877,-0.004834677558392,0.012116545811296,-0.047582168132067,-0.027134556323290,0.018100390210748,0.044598042964935,-0.028906263411045,0.052701093256474,0.041973553597927,-0.012494876049459,0.071923993527889));
res += mul(Get(s0,0,dy), float4x4(-0.023159431293607,-0.030898353084922,0.097799681127071,0.000834076316096,-0.048214249312878,0.051630679517984,0.010926669463515,0.116920217871666,0.126876130700111,-0.029712511226535,0.037028454244137,0.091635510325432,0.131517291069031,0.126126930117607,-0.018732735887170,-0.059767365455627));
res += mul(Get(s0,dx,-dy), float4x4(-0.050930503755808,-0.062642492353916,0.143669709563255,0.010124247521162,-0.123340874910355,-0.052815813571215,0.006533525884151,0.012343417853117,-0.126592069864273,0.081753514707088,0.006596992723644,0.075426146388054,0.009415308944881,0.121882669627666,-0.105433315038681,0.030119001865387));
res += mul(Get(s0,dx,0), float4x4(0.102023281157017,0.066378466784954,0.009279567748308,-0.054705642163754,0.024480875581503,0.021725984290242,-0.020902683958411,0.184208333492279,-0.047521479427814,-0.019868994131684,-0.017414033412933,-0.002771538216621,0.044191356748343,0.079649500548840,-0.147700473666191,-0.102459862828255));
res += mul(Get(s0,dx,dy), float4x4(-0.065478540956974,0.073012642562389,0.015452517196536,-0.031800672411919,0.234169140458107,-0.082261681556702,0.163126721978188,0.093068227171898,0.072876922786236,0.078841209411621,0.002008670242503,0.034509494900703,-0.053720004856586,0.047140982002020,-0.041381485760212,0.124277964234352));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030919892713428,0.026086181402206,-0.007298490498215,0.144103273749352,-0.022319357842207,-0.066483326256275,0.065012760460377,0.039086103439331,-0.091631211340427,0.070189446210861,-0.131175056099892,-0.075189977884293,-0.068827174603939,-0.087409548461437,0.024574695155025,-0.146654859185219));
res += mul(Get(s1,-dx,0), float4x4(0.029708158224821,-0.014760983176529,-0.074006199836731,0.043814290314913,-0.056831933557987,-0.032827634364367,0.148582741618156,-0.020327134057879,-0.055863600224257,0.053563002496958,0.039355620741844,-0.056803666055202,0.081553347408772,0.046111624687910,0.018940957263112,-0.070826627314091));
res += mul(Get(s1,-dx,dy), float4x4(-0.246891498565674,0.019834203645587,0.102567628026009,-0.076610811054707,0.176130324602127,0.039884496480227,-0.031176283955574,-0.187107875943184,0.163758426904678,0.059429533779621,0.042332082986832,0.076347976922989,0.034806564450264,-0.033715140074492,-0.092378214001656,-0.075965337455273));
res += mul(Get(s1,0,-dy), float4x4(-0.013820996508002,-0.068766698241234,-0.005193199962378,0.003442226676270,0.007247047033161,-0.109245590865612,-0.214993983507156,0.096316754817963,-0.021950548514724,0.004937082994729,0.037143994122744,0.006047953385860,0.048303376883268,-0.030772320926189,0.077705770730972,0.064735986292362));
res += mul(Get(s1,0,0), float4x4(-0.074422910809517,0.021001253277063,0.047424949705601,-0.033892225474119,-0.092439390718937,-0.046284884214401,-0.154922530055046,0.047502461820841,0.124833002686501,0.017379591241479,0.001435134676285,-0.060362242162228,0.050396908074617,-0.001458305283450,0.083616778254509,0.017635637894273));
res += mul(Get(s1,0,dy), float4x4(-0.012731554917991,0.049425236880779,-0.076187960803509,-0.084425508975983,0.161526471376419,0.113971956074238,0.054861292243004,-0.104182474315166,0.030155289918184,0.127705171704292,0.197714090347290,-0.065366536378860,-0.024069458246231,0.013497139327228,0.064629241824150,-0.054179690778255));
res += mul(Get(s1,dx,-dy), float4x4(0.091372959315777,-0.056937906891108,-0.043169412761927,-0.054101943969727,-0.033636897802353,0.019689172506332,0.004600446205586,-0.052535198628902,-0.016418723389506,0.017819968983531,0.001606448786333,-0.034507460892200,-0.065967418253422,-0.101362884044647,-0.018327787518501,-0.038030866533518));
res += mul(Get(s1,dx,0), float4x4(0.114817358553410,0.054509747773409,0.014187995344400,-0.123431995511055,0.093835845589638,0.119655176997185,-0.060876172035933,0.045913156121969,-0.023912778124213,-0.142876088619232,-0.040669430047274,-0.099661394953728,0.111862257122993,-0.075668066740036,0.078749075531960,0.041296932846308));
res += mul(Get(s1,dx,dy), float4x4(-0.024374574422836,0.086265467107296,-0.060370828956366,-0.039529535919428,0.064392559230328,-0.032899551093578,0.075212009251118,-0.107012681663036,0.130074322223663,-0.052871342748404,0.071391336619854,0.080982923507690,0.114043503999710,-0.070800513029099,0.054718889296055,0.047717943787575));
res += mul(Get(s2,-dx,-dy), float4x4(-0.032787181437016,-0.031514719128609,-0.071326375007629,-0.197363033890724,-0.036190386861563,0.086555972695351,0.094809524714947,-0.008067729882896,0.035892583429813,-0.022532874718308,0.070581994950771,-0.107085429131985,-0.033903609961271,0.056772064417601,-0.035765327513218,0.077893428504467));
res += mul(Get(s2,-dx,0), float4x4(-0.011735836043954,0.139365047216415,0.068274870514870,-0.146209850907326,-0.065133586525917,0.007105656899512,0.135797470808029,-0.058280859142542,0.117166042327881,-0.089837916195393,0.071635074913502,0.131875947117805,-0.033635135740042,0.080026350915432,0.081095106899738,0.016325253993273));
res += mul(Get(s2,-dx,dy), float4x4(0.034667000174522,0.018709830939770,-0.000448719394626,-0.036724399775267,-0.145842090249062,0.067295648157597,0.116695046424866,-0.035744085907936,0.004901803564280,-0.012732933275402,0.163771003484726,-0.044585335999727,0.123409092426300,-0.066320694983006,0.091233290731907,-0.008398341946304));
res += mul(Get(s2,0,-dy), float4x4(-0.091563627123833,-0.089890725910664,0.063088320195675,0.086662836372852,-0.006335325073451,0.006018191576004,0.000299400882795,-0.077452205121517,-0.000739604176488,-0.013496315106750,0.016774134710431,-0.001833682414144,-0.048501409590244,0.036030780524015,-0.018391095101833,0.114089764654636));
res += mul(Get(s2,0,0), float4x4(-0.023113196715713,0.052709873765707,0.032236713916063,0.032861214131117,-0.046034909784794,0.005166737828404,-0.011736357584596,0.007917643524706,-0.081254109740257,0.085956871509552,0.063081242144108,-0.038571804761887,-0.134188592433929,-0.035485398024321,-0.024823304265738,0.078571744263172));
res += mul(Get(s2,0,dy), float4x4(-0.063374184072018,-0.010015462525189,-0.012329235672951,-0.069249279797077,-0.100634753704071,0.026076342910528,-0.005527911242098,-0.033263720571995,0.132432982325554,0.037718296051025,-0.160957694053650,0.174394756555557,0.025326741859317,-0.037018571048975,-0.006548099219799,0.016164842993021));
res += mul(Get(s2,dx,-dy), float4x4(-0.161067694425583,0.069315768778324,0.011115482077003,0.037624623626471,0.086156912147999,-0.013704765588045,-0.088504970073700,-0.088704429566860,0.075319789350033,0.059128347784281,-0.007270799949765,0.130478128790855,-0.014892183244228,-0.037403311580420,-0.026149265468121,0.059116072952747));
res += mul(Get(s2,dx,0), float4x4(-0.041771642863750,-0.028634853661060,-0.078952088952065,-0.055074825882912,0.025766016915441,0.029807558283210,-0.099160179495811,0.069435544312000,0.067773766815662,-0.021642489358783,-0.175464898347855,0.024814048781991,0.015221971087158,0.077403552830219,-0.004724057391286,-0.015134755522013));
res += mul(Get(s2,dx,dy), float4x4(-0.005184471141547,0.024076495319605,0.022411985322833,-0.080049909651279,-0.053481042385101,0.043762050569057,-0.030564663931727,0.033574961125851,0.007901855744421,0.089161671698093,0.056390263140202,-0.008311036042869,0.189120858907700,-0.144455835223198,-0.039831224828959,0.034355681389570));
res += mul(Get(s3,-dx,-dy), float4x4(-0.150224193930626,0.021445717662573,0.018724346533418,0.006079593673348,0.027396677061915,-0.146202594041824,0.020553732290864,0.003057857975364,-0.145131096243858,0.035739663988352,-0.043263785541058,0.065430313348770,-0.161775782704353,-0.016556210815907,-0.089789383113384,-0.075662419199944));
res += mul(Get(s3,-dx,0), float4x4(-0.146124467253685,0.039647027850151,-0.095238298177719,0.052455022931099,0.070485860109329,0.050793170928955,0.047573257237673,-0.080170400440693,-0.019571203738451,-0.047877650707960,-0.122841693460941,-0.094281934201717,-0.095898129045963,-0.013429583050311,-0.050940938293934,-0.027589377015829));
res += mul(Get(s3,-dx,dy), float4x4(0.008711278438568,-0.055605746805668,-0.007140488829464,-0.075008131563663,0.000171955398400,0.097077414393425,0.072741016745567,0.048471666872501,0.069237306714058,-0.123721010982990,0.143408313393593,0.023746531456709,-0.175706863403320,-0.082930482923985,0.063335597515106,0.027132825925946));
res += mul(Get(s3,0,-dy), float4x4(-0.133884862065315,-0.024429742246866,0.034126911312342,-0.035334620624781,-0.022071586921811,0.071216098964214,0.049496263265610,0.001375678693876,-0.109817810356617,-0.073860004544258,-0.028632061555982,-0.115596741437912,-0.125003665685654,0.087061315774918,-0.030878268182278,-0.002658531302586));
res += mul(Get(s3,0,0), float4x4(0.023110440000892,-0.013146079145372,0.047977223992348,-0.013701736927032,0.143696531653404,0.110150255262852,0.024927934631705,0.098402112722397,0.063433863222599,-0.045957315713167,0.127661764621735,0.007222243119031,0.175469443202019,-0.089344181120396,0.015071768313646,-0.043516416102648));
res += mul(Get(s3,0,dy), float4x4(0.022753588855267,0.063418485224247,0.023401709273458,-0.141282856464386,0.045899141579866,0.060665890574455,-0.003481775522232,0.012892340309918,-0.036950480192900,0.034748658537865,0.251548618078232,-0.097690463066101,0.122022494673729,-0.131964594125748,-0.129372045397758,0.064890034496784));
res += mul(Get(s3,dx,-dy), float4x4(-0.060745481401682,-0.132051587104797,-0.019162740558386,0.046666353940964,0.042620226740837,-0.124064698815346,0.048372082412243,0.004326143767685,0.056266028434038,0.066315211355686,-0.035882342606783,0.017803451046348,-0.196016609668732,-0.041235182434320,0.112144373357296,-0.079846337437630));
res += mul(Get(s3,dx,0), float4x4(-0.109701871871948,0.040609914809465,0.060005571693182,-0.041515775024891,-0.063963942229748,-0.080034486949444,-0.187301650643349,0.067524433135986,-0.014022579416633,0.146071866154671,0.068187423050404,0.119950577616692,-0.094087973237038,-0.038943078368902,0.230004027485847,-0.008239517919719));
res += mul(Get(s3,dx,dy), float4x4(0.064260788261890,0.015424408949912,0.065435245633125,-0.048196870833635,-0.198198840022087,0.101116314530373,0.047501977533102,0.056069172918797,-0.020646598190069,0.087083578109741,-0.181469172239304,0.050021965056658,-0.001114530605264,0.051827434450388,-0.111658178269863,0.035926766693592));
res = max(float4(0,0,0,0), res);
return res;
}
