sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.013500626198947,0.096148371696472,-0.114048607647419,0.195005491375923,0.041211482137442,0.088249005377293,-0.006563398987055,0.031765140593052,0.044354625046253,0.030851507559419,0.063005238771439,-0.006531693506986,0.042497083544731,0.103215441107750,-0.062794297933578,-0.013580848462880));
res += mul(Get(s0,-dx,0), float4x4(-0.111653782427311,-0.108478620648384,0.020957879722118,0.004917334299535,0.005111578851938,0.009960719384253,-0.047784332185984,0.004251509904861,-0.076090373098850,-0.054800305515528,0.012551137246192,0.029728248715401,-0.005805115215480,0.005831942427903,0.021001592278481,-0.052031707018614));
res += mul(Get(s0,-dx,dy), float4x4(-0.030870676040649,-0.004660301376134,-0.115445032715797,0.054779365658760,-0.006731187459081,-0.084826387465000,-0.153240934014320,-0.036049548536539,0.042645249515772,-0.067999847233295,-0.193369075655937,-0.064538061618805,0.119298495352268,-0.012128870934248,-0.109127968549728,0.044136337935925));
res += mul(Get(s0,0,-dy), float4x4(0.034165244549513,0.015279076993465,-0.002484604250640,0.031713508069515,0.229077532887459,0.065860100090504,-0.014004844240844,0.051639318466187,0.043149199336767,-0.021652445197105,-0.087822191417217,-0.121490724384785,0.059980347752571,0.073035009205341,-0.046216960996389,-0.097330003976822));
res += mul(Get(s0,0,0), float4x4(-0.156149253249168,-0.026985554024577,-0.055145196616650,0.180416330695152,0.041761629283428,-0.045215290039778,0.111878812313080,-0.000672488997225,0.039720747619867,-0.110759176313877,0.139023616909981,-0.079576306045055,0.007744216360152,0.163546964526176,-0.049545057117939,-0.099286325275898));
res += mul(Get(s0,0,dy), float4x4(-0.050045467913151,-0.090894207358360,0.131025299429893,0.145464420318604,-0.079086102545261,-0.008095820434391,0.045082628726959,-0.094409428536892,-0.010833438485861,0.153779402375221,-0.012652708217502,0.061022061854601,0.094974406063557,0.089277483522892,0.014649477787316,-0.022133244201541));
res += mul(Get(s0,dx,-dy), float4x4(0.027728358283639,-0.156491771340370,-0.052306633442640,0.066796578466892,-0.003032920416445,0.104250289499760,-0.091175638139248,-0.014460180886090,-0.018524620682001,0.040571011602879,-0.049608290195465,0.075858578085899,0.060901727527380,0.017729392275214,0.171846717596054,-0.185507178306580));
res += mul(Get(s0,dx,0), float4x4(-0.105061836540699,0.074798658490181,-0.018732210621238,0.110781162977219,0.054165858775377,0.087902307510376,0.082439728081226,-0.054870434105396,0.009487890638411,-0.061255514621735,0.026639038696885,-0.118427984416485,-0.004178596194834,0.073783345520496,0.061115387827158,-0.067319877445698));
res += mul(Get(s0,dx,dy), float4x4(-0.062646813690662,0.055491343140602,0.025881757959723,-0.093080222606659,0.110655650496483,-0.013196132145822,-0.007735693361610,-0.074974119663239,-0.046472437679768,0.006049682386220,0.049128260463476,0.031251981854439,-0.100527212023735,0.016371857374907,-0.080721586942673,-0.110567666590214));
res += mul(Get(s1,-dx,-dy), float4x4(0.068472228944302,-0.012115138582885,-0.145853921771049,-0.188938006758690,-0.033862613141537,-0.118449106812477,-0.008432180620730,-0.017362408339977,0.002588429022580,-0.021376475691795,0.081718020141125,-0.064633354544640,-0.042767282575369,0.004808251745999,-0.025388557463884,0.061279546469450));
res += mul(Get(s1,-dx,0), float4x4(-0.071036875247955,-0.038357086479664,-0.071773968636990,-0.138009041547775,-0.118591554462910,0.004685306921601,-0.066749125719070,0.038802403956652,-0.100173056125641,0.080263212323189,-0.123347349464893,0.021793324500322,0.027969192713499,0.014353346079588,0.063048265874386,-0.175168663263321));
res += mul(Get(s1,-dx,dy), float4x4(-0.045572284609079,-0.050593290477991,0.129975318908691,-0.051099553704262,-0.016753952950239,0.051573090255260,-0.068489380180836,-0.118428997695446,0.001519198995084,0.006525296717882,0.061754781752825,0.137986198067665,0.115425407886505,0.127416446805000,0.025399439036846,0.088024571537971));
res += mul(Get(s1,0,-dy), float4x4(-0.028949810191989,-0.049935147166252,0.052261047065258,0.050944179296494,-0.024595232680440,-0.146952092647552,-0.067862652242184,-0.017074255272746,-0.077882997691631,-0.046042419970036,-0.023288080468774,-0.040193699300289,0.062812402844429,-0.100750789046288,0.106831125915051,-0.005490418523550));
res += mul(Get(s1,0,0), float4x4(0.056345313787460,0.001105212257244,-0.081879779696465,0.245385691523552,-0.081246741116047,-0.064165242016315,0.163918793201447,0.030211085453629,0.070633105933666,0.027896424755454,-0.086301401257515,-0.003652311861515,-0.038901947438717,0.072526991367340,0.119668051600456,-0.052876666188240));
res += mul(Get(s1,0,dy), float4x4(0.057236425578594,-0.135174468159676,0.154074147343636,0.012445111759007,-0.086156584322453,-0.076835498213768,-0.174335286021233,0.205711439251900,0.045761879533529,0.037089664489031,-0.003607555059716,-0.134978666901588,-0.149511471390724,-0.027492469176650,-0.040377892553806,-0.045453820377588));
res += mul(Get(s1,dx,-dy), float4x4(-0.153808355331421,-0.016477311030030,-0.062097311019897,-0.013193942606449,0.127167820930481,-0.014669205993414,0.069008067250252,0.048246372491121,-0.009226236492395,-0.147830411791801,-0.008598023094237,0.097471922636032,-0.062069948762655,0.020865896716714,-0.023194584995508,0.090919137001038));
res += mul(Get(s1,dx,0), float4x4(-0.087739415466785,-0.140659302473068,0.010197111405432,0.121154956519604,-0.113791532814503,-0.002278329804540,-0.038211397826672,-0.084583222866058,-0.083635635674000,-0.010504133068025,0.025371333584189,0.046848185360432,0.028322638943791,0.051478937268257,0.089799098670483,0.157109469175339));
res += mul(Get(s1,dx,dy), float4x4(-0.057204086333513,-0.025870049372315,-0.034636575728655,0.061229128390551,-0.017248159274459,-0.073148086667061,0.047500032931566,-0.118280604481697,-0.049607574939728,0.155492618680000,0.032643906772137,0.069874711334705,-0.081970311701298,-0.018157536163926,0.170335158705711,0.075217217206955));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001781063852832,-0.056897155940533,0.112697042524815,0.162288695573807,-0.014543894678354,0.111163750290871,-0.049575980752707,-0.016578460112214,0.024677760899067,-0.073383465409279,0.013923864811659,0.077266089618206,0.089572235941887,-0.132642075419426,0.023301025852561,-0.127085909247398));
res += mul(Get(s2,-dx,0), float4x4(0.127336412668228,0.047274865210056,0.004250052850693,-0.030893933027983,0.033396068960428,-0.050600629299879,0.002151361433789,-0.021783975884318,-0.110234171152115,-0.014996655285358,0.042486127465963,0.053506232798100,-0.042186122387648,0.128932759165764,0.022904478013515,0.067462980747223));
res += mul(Get(s2,-dx,dy), float4x4(0.145961612462997,-0.001646959106438,0.020024826750159,-0.112916566431522,0.096712775528431,0.050488699227571,0.027716608718038,-0.116538673639297,0.044169947504997,0.148997336626053,0.021066134795547,-0.125273615121841,0.036666695028543,0.044693954288960,0.072948805987835,0.026587223634124));
res += mul(Get(s2,0,-dy), float4x4(0.020619314163923,0.013882828876376,0.134590253233910,-0.019016629084945,-0.225365549325943,0.110899895429611,-0.038213554769754,-0.016844855621457,-0.157585904002190,0.014721530489624,0.007259583566338,-0.000646871747449,-0.000551717996132,0.020869050174952,0.027327155694366,0.098637022078037));
res += mul(Get(s2,0,0), float4x4(0.166999831795692,0.049272894859314,-0.082111664116383,-0.069610193371773,-0.082414336502552,-0.004346134606749,-0.090366639196873,0.013988336548209,0.011728570796549,0.107850611209869,-0.057068571448326,-0.110405020415783,-0.012477752752602,0.004656494129449,-0.119165547192097,0.037673301994801));
res += mul(Get(s2,0,dy), float4x4(0.055938586592674,0.078808210790157,-0.012605278752744,-0.075270272791386,0.110742129385471,0.015817075967789,-0.029979081824422,-0.035903152078390,0.037455499172211,-0.091260999441147,-0.144697338342667,0.003952235449106,-0.020172547549009,0.088899180293083,0.069846965372562,0.066605977714062));
res += mul(Get(s2,dx,-dy), float4x4(0.054611358791590,-0.019869303330779,-0.070522665977478,-0.013709120452404,0.064720973372459,-0.001722861081362,-0.021701542660594,0.060097426176071,0.104093231260777,-0.066164448857307,-0.077970065176487,-0.198715969920158,-0.059583380818367,0.059992004185915,-0.091841824352741,-0.075249411165714));
res += mul(Get(s2,dx,0), float4x4(0.041652847081423,-0.087411709129810,0.120907992124557,-0.109880529344082,0.021574703976512,-0.059930425137281,-0.097830720245838,-0.064747557044029,-0.012329059652984,0.108194187283516,-0.033263716846704,-0.157178312540054,-0.101553574204445,0.066164940595627,-0.043705914169550,0.071246437728405));
res += mul(Get(s2,dx,dy), float4x4(-0.042625818401575,0.033374134451151,-0.103082418441772,-0.063111074268818,0.033378869295120,-0.067270949482918,-0.111987575888634,0.045913625508547,0.101547226309776,-0.131755858659744,-0.006116340402514,-0.077203504741192,-0.029160387814045,0.121349871158600,-0.062857963144779,-0.002809512428939));
res += mul(Get(s3,-dx,-dy), float4x4(-0.076030798256397,0.108997456729412,0.051965951919556,-0.045685037970543,0.004937193822116,-0.007088471204042,0.091563329100609,-0.025002479553223,-0.056114725768566,0.178678169846535,-0.089032284915447,-0.071454457938671,-0.052288919687271,0.197819888591766,0.120473600924015,-0.174329578876495));
res += mul(Get(s3,-dx,0), float4x4(0.005755685735494,0.018179522827268,-0.148774221539497,0.103177316486835,-0.089471705257893,0.111088037490845,-0.024411130696535,0.036433048546314,-0.030279271304607,0.013199061155319,-0.067165195941925,0.095125652849674,-0.046007879078388,0.202992007136345,-0.065690547227859,0.065006285905838));
res += mul(Get(s3,-dx,dy), float4x4(0.146280735731125,-0.113374523818493,0.053864818066359,0.070781409740448,0.179138615727425,0.026166925206780,-0.093151420354843,-0.035044979304075,0.116428710520267,0.060976762324572,-0.057942509651184,-0.035691335797310,-0.013906652107835,-0.062033768743277,0.071533128619194,0.011383449658751));
res += mul(Get(s3,0,-dy), float4x4(-0.026786504313350,0.114178493618965,-0.065184071660042,0.013296672143042,-0.106831163167953,-0.026361178606749,0.087215542793274,-0.024404652416706,0.006018415559083,-0.038236971944571,0.028547851368785,-0.046665675938129,0.037250705063343,0.101626001298428,0.039390936493874,-0.053736798465252));
res += mul(Get(s3,0,0), float4x4(0.088891305029392,-0.082741856575012,-0.073175698518753,0.052088636904955,-0.013168296776712,0.015664575621486,0.037252862006426,0.137979537248611,0.141177281737328,-0.084583215415478,0.084824763238430,-0.145305588841438,0.073264092206955,-0.012593381106853,0.043275266885757,-0.108374670147896));
res += mul(Get(s3,0,dy), float4x4(0.049743074923754,-0.204561576247215,-0.108086101710796,-0.016995016485453,-0.036336265504360,-0.135418012738228,0.026713054627180,-0.189713090658188,0.116803526878357,0.060257196426392,-0.167876377701759,-0.153688460588455,-0.030988834798336,-0.047203410416842,0.103963568806648,-0.077026940882206));
res += mul(Get(s3,dx,-dy), float4x4(0.109967753291130,0.032469615340233,-0.073280863463879,-0.040111858397722,0.020183717831969,-0.129248023033142,-0.053525093942881,-0.038344528526068,-0.090395301580429,0.006542659364641,-0.047676604241133,-0.053532663732767,-0.093296229839325,-0.097522102296352,0.055374633520842,-0.056806918233633));
res += mul(Get(s3,dx,0), float4x4(-0.000563599925954,0.015146620571613,-0.105541236698627,0.058278989046812,-0.113827742636204,-0.091336250305176,0.038015965372324,-0.092361263930798,-0.007672351785004,-0.058852456510067,-0.107629776000977,-0.112005636096001,0.016072850674391,-0.032850112766027,0.023508997634053,-0.135975584387779));
res += mul(Get(s3,dx,dy), float4x4(-0.014349902980030,-0.048429645597935,-0.080004669725895,0.009245925582945,0.067069858312607,-0.101156443357468,-0.063098914921284,0.179390579462051,0.119115881621838,-0.160455942153931,0.111907199025154,0.096469730138779,0.095608718693256,0.005853998009115,-0.056264713406563,0.072587393224239));
res = max(float4(0,0,0,0), res);
return res;
}
