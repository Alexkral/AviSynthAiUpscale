sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.110975392162800,0.040824770927429,0.102276906371117,0.094791539013386,0.109054587781429,-0.114864818751812,-0.056069221347570,0.000536955893040,-0.143852561712265,0.122511662542820,0.054093345999718,-0.037137944251299,0.073243200778961,0.113168895244598,0.244398340582848,0.050887595862150));
res += mul(Get(s0,-dx,0), float4x4(-0.076912611722946,-0.011392507702112,0.119215734302998,0.047252129763365,-0.090428292751312,0.003482264466584,-0.138568073511124,-0.031793728470802,0.020222384482622,-0.038494292646646,-0.116035178303719,0.048427548259497,0.069610968232155,0.045279122889042,-0.104124739766121,-0.110613249242306));
res += mul(Get(s0,-dx,dy), float4x4(-0.150376528501511,0.045121654868126,0.078028842806816,-0.079846210777760,-0.142246708273888,-0.060580752789974,-0.025511119514704,-0.159818679094315,0.139376729726791,0.210975974798203,-0.010674936696887,0.035316132009029,-0.017072670161724,-0.102882109582424,-0.258649557828903,-0.024205679073930));
res += mul(Get(s0,0,-dy), float4x4(-0.067088998854160,-0.105432882905006,0.007489849347621,0.019927045330405,-0.114580646157265,0.154213324189186,0.098982125520706,-0.025185756385326,-0.097560264170170,-0.029756180942059,-0.014563881792128,0.038379427045584,-0.009005702100694,-0.015146589837968,-0.003381530521438,0.081494651734829));
res += mul(Get(s0,0,0), float4x4(-0.133625328540802,-0.062127552926540,0.232650160789490,0.129163414239883,-0.006428363732994,0.044357769191265,0.056576486676931,-0.049701891839504,0.080611869692802,-0.089176431298256,-0.037025898694992,-0.005039875395596,-0.058350466191769,-0.067977093160152,-0.108409859240055,0.187943696975708));
res += mul(Get(s0,0,dy), float4x4(0.072240725159645,0.139472439885139,0.100003555417061,0.109017506241798,-0.013445401564240,-0.113969042897224,0.040455691516399,-0.096154265105724,0.115135841071606,-0.125009462237358,-0.157748207449913,0.043186958879232,0.002621920779347,-0.018047733232379,0.091356873512268,0.143665030598640));
res += mul(Get(s0,dx,-dy), float4x4(-0.002929468406364,-0.012430081143975,-0.039883658289909,0.102530442178249,0.001792505034246,0.182941421866417,0.025368357077241,0.004978701937944,-0.071289211511612,-0.043098997324705,0.095167629420757,-0.055790007114410,-0.135822027921677,-0.004818849265575,0.121460601687431,-0.123884849250317));
res += mul(Get(s0,dx,0), float4x4(0.047810722142458,0.011215267702937,0.028267802670598,0.012182336300611,-0.016549602150917,0.007672306150198,0.087465092539787,-0.019224235787988,-0.006741565186530,0.044164333492517,0.018617536872625,-0.005465419963002,0.042674824595451,0.061538089066744,0.015522847883403,-0.018013473600149));
res += mul(Get(s0,dx,dy), float4x4(0.046548079699278,0.128473356366158,-0.009824452921748,-0.034508258104324,-0.020041095092893,0.031763788312674,-0.020129259675741,-0.119046680629253,0.017672361806035,-0.072536498308182,-0.133713215589523,-0.164605960249901,0.183568477630615,-0.264734715223312,-0.066686019301414,-0.011156638152897));
res += mul(Get(s1,-dx,-dy), float4x4(0.107057191431522,0.184204280376434,-0.029881497845054,-0.061772275716066,0.073943257331848,-0.018645670264959,0.126373782753944,0.041716948151588,0.021773388609290,-0.071178317070007,-0.024047657847404,-0.055069044232368,-0.046366464346647,-0.015443654730916,-0.062076140195131,-0.018292468041182));
res += mul(Get(s1,-dx,0), float4x4(-0.091312423348427,-0.107983939349651,-0.184737697243690,-0.025584774091840,-0.063732840120792,-0.057353965938091,-0.013338166289032,0.067950159311295,-0.116760693490505,0.108211889863014,-0.113412290811539,-0.011154538020492,0.117686010897160,0.150505974888802,0.035204827785492,-0.138243049383163));
res += mul(Get(s1,-dx,dy), float4x4(0.134352147579193,0.031859334558249,-0.070685900747776,0.053596541285515,-0.095509022474289,-0.011729900725186,0.200165584683418,0.038813054561615,-0.013243964873254,0.055969253182411,0.047617815434933,-0.027359735220671,0.054407935589552,-0.006889834534377,-0.084898889064789,0.023361090570688));
res += mul(Get(s1,0,-dy), float4x4(-0.109903238713741,-0.114242054522038,0.070209875702858,-0.033149272203445,-0.054671276360750,-0.003469289746135,0.030819470062852,-0.142933100461960,-0.006205169018358,0.207969382405281,-0.175399944186211,0.034867994487286,0.154320046305656,-0.016353959217668,0.008269887417555,-0.066780880093575));
res += mul(Get(s1,0,0), float4x4(0.126290112733841,0.013902388513088,-0.121747821569443,0.090256862342358,0.058712948113680,-0.058436635881662,0.109674617648125,0.101120725274086,-0.066653124988079,-0.026987923309207,0.129859372973442,-0.056342847645283,-0.031156191602349,0.074305206537247,0.119344457983971,0.070935927331448));
res += mul(Get(s1,0,dy), float4x4(0.023152898997068,-0.099083691835403,-0.071006216108799,0.057233456522226,0.063900701701641,-0.146451398730278,0.038663573563099,-0.064830400049686,-0.061555456370115,0.167726963758469,0.099208004772663,0.086703926324844,-0.014857144095004,0.061619725078344,0.007664064411074,-0.016222065314651));
res += mul(Get(s1,dx,-dy), float4x4(-0.071013674139977,0.183579966425896,0.071007944643497,-0.004894496873021,0.006958580575883,-0.105535820126534,0.032847400754690,0.081507384777069,0.041153602302074,0.089883446693420,-0.108474723994732,-0.193374916911125,-0.018428821116686,-0.038333345204592,-0.073737010359764,0.060346156358719));
res += mul(Get(s1,dx,0), float4x4(-0.077598251402378,-0.023918421939015,0.062043488025665,-0.023339211940765,0.119620382785797,-0.008000454865396,-0.081781797111034,-0.226185172796249,0.069526731967926,0.012838179245591,0.045938678085804,0.013517004437745,0.001589238876477,0.015900451689959,0.182024553418159,0.051332913339138));
res += mul(Get(s1,dx,dy), float4x4(0.039208482950926,0.028469078242779,0.053849011659622,0.013378562405705,-0.018110791221261,0.014809031970799,0.087233789265156,0.185440376400948,-0.105559110641479,-0.129805177450180,0.006868795957416,0.017817799001932,0.120900854468346,0.086684487760067,-0.104850374162197,0.003940988797694));
res += mul(Get(s2,-dx,-dy), float4x4(0.077561289072037,-0.032107774168253,0.075354725122452,0.038025073707104,-0.036380201578140,0.039583988487720,-0.134353309869766,0.038256648927927,-0.051865138113499,0.028121335431933,-0.049001850187778,-0.005868199281394,-0.175640910863876,0.113383106887341,0.010172314941883,-0.153087615966797));
res += mul(Get(s2,-dx,0), float4x4(0.318721830844879,0.001005641184747,0.064019955694675,-0.008069084957242,-0.144550487399101,0.075890719890594,-0.082489989697933,0.113742358982563,-0.120907396078110,0.037463366985321,0.225905224680901,0.024101097136736,-0.016286240890622,0.065766714513302,-0.105110414326191,-0.068198069930077));
res += mul(Get(s2,-dx,dy), float4x4(0.082100726664066,0.154552802443504,0.119715370237827,-0.004286241251975,0.002195237204432,-0.128976806998253,0.029819935560226,0.088550932705402,-0.053766794502735,-0.049811393022537,0.134519681334496,0.017940033227205,0.003096750006080,-0.000891477044206,0.104563206434250,-0.080047495663166));
res += mul(Get(s2,0,-dy), float4x4(-0.178401067852974,-0.023091699928045,0.156266883015633,-0.006319358013570,-0.080671355128288,0.156034484505653,0.008422916755080,-0.101259559392929,0.003968183416873,-0.018985176458955,-0.055974304676056,0.068656794726849,0.001835395698436,0.051980234682560,0.025842379778624,-0.184899166226387));
res += mul(Get(s2,0,0), float4x4(-0.064011596143246,0.132615402340889,-0.240113273262978,0.047314964234829,0.026412688195705,-0.010911135934293,0.047301564365625,0.014101654291153,-0.102102607488632,-0.048315577208996,-0.044700574129820,0.139403149485588,0.269525587558746,-0.062455974519253,-0.026543557643890,-0.009776853956282));
res += mul(Get(s2,0,dy), float4x4(0.001860436750576,0.175755515694618,0.093950130045414,-0.009746304713190,-0.204957515001297,-0.182062268257141,0.061849735677242,0.032406345009804,-0.126114875078201,0.102976568043232,0.038116235285997,0.028377374634147,0.038847688585520,0.013303300365806,0.157659903168678,-0.006829024292529));
res += mul(Get(s2,dx,-dy), float4x4(-0.064176812767982,-0.224738195538521,0.065298296511173,0.005526907742023,0.011198670603335,-0.128209233283997,-0.091948874294758,-0.073505401611328,-0.039752826094627,0.155260071158409,0.052774921059608,-0.007993156090379,0.070912286639214,-0.082541696727276,0.017795151099563,0.071480505168438));
res += mul(Get(s2,dx,0), float4x4(-0.034914448857307,0.049461226910353,0.053429003804922,0.014991951175034,-0.012627256102860,0.107990086078644,-0.006950594950467,-0.018068699166179,-0.164117276668549,0.119132220745087,-0.086940810084343,0.175705567002296,0.027865216135979,-0.033283051103354,-0.026212483644485,0.066430695354939));
res += mul(Get(s2,dx,dy), float4x4(-0.010333763435483,-0.015743726864457,-0.049851831048727,-0.018577711656690,0.028650702908635,0.022043935954571,0.037766136229038,0.049849238246679,-0.175334602594376,0.117770776152611,0.055551342666149,0.043063107877970,-0.109213732182980,-0.013656336814165,0.034481901675463,0.021682733669877));
res += mul(Get(s3,-dx,-dy), float4x4(0.087352797389030,-0.020012995228171,-0.051997333765030,-0.095972508192062,-0.056924145668745,0.026991959661245,0.057381618767977,-0.196915388107300,0.016655901446939,-0.003846760606393,-0.005463192239404,-0.069446861743927,-0.002638871781528,0.068461269140244,-0.046832472085953,0.049717921763659));
res += mul(Get(s3,-dx,0), float4x4(0.053216565400362,-0.017267554998398,-0.031396724283695,-0.091039299964905,-0.016725586727262,0.002171072876081,0.026646474376321,-0.003224345156923,-0.037658795714378,-0.065665796399117,-0.182069763541222,0.043020009994507,-0.072065651416779,0.077654182910919,0.021424915641546,-0.116344369947910));
res += mul(Get(s3,-dx,dy), float4x4(0.030282502993941,-0.136598974466324,-0.155397877097130,0.021757170557976,-0.018049927428365,0.014269681647420,-0.151909247040749,0.050825461745262,-0.047313820570707,0.007010592613369,0.044709760695696,-0.046602558344603,-0.029076604172587,-0.024251684546471,0.101282507181168,-0.077764496207237));
res += mul(Get(s3,0,-dy), float4x4(-0.192029014229774,-0.050533860921860,-0.065303586423397,-0.062596581876278,0.085568934679031,0.082291707396507,0.062308371067047,0.109564676880836,0.099072523415089,-0.137644439935684,-0.194536969065666,0.006669169757515,-0.022438159212470,0.063209265470505,-0.103575564920902,-0.000607075751759));
res += mul(Get(s3,0,0), float4x4(0.007938515394926,-0.055025622248650,0.081231661140919,0.016320338472724,0.178357586264610,0.024658797308803,-0.010253195650876,-0.013724097050726,0.055504146963358,-0.072228267788887,0.012293828651309,0.108508557081223,0.003433103440329,-0.006312281358987,-0.054940685629845,-0.065476112067699));
res += mul(Get(s3,0,dy), float4x4(0.007870350964367,-0.019962087273598,-0.013591293245554,-0.061366856098175,-0.097976811230183,0.104926243424416,0.096470862627029,-0.014895205385983,-0.060674961656332,-0.066376686096191,-0.001975676743314,-0.043040920048952,0.013369265012443,-0.037033170461655,-0.051264382898808,0.006710219196975));
res += mul(Get(s3,dx,-dy), float4x4(0.151641964912415,0.095595344901085,0.012633655220270,-0.028128335252404,-0.024957347661257,-0.023282274603844,-0.190310120582581,0.029126852750778,0.074905581772327,-0.016444828361273,0.006203203462064,0.121313504874706,0.172184184193611,-0.133500501513481,0.155541956424713,0.071201972663403));
res += mul(Get(s3,dx,0), float4x4(-0.040283452719450,0.106780081987381,-0.226581767201424,0.095584273338318,-0.025610286742449,-0.182604491710663,0.025352489203215,0.025237554684281,-0.030683232471347,0.040325414389372,0.061149679124355,-0.004910150542855,0.098388887941837,-0.091949619352818,0.080915391445160,-0.022103598341346));
res += mul(Get(s3,dx,dy), float4x4(-0.094777174293995,0.033650219440460,-0.049052979797125,-0.052727520465851,-0.146163821220398,-0.032965283840895,-0.008166589774191,0.044950418174267,-0.050531782209873,0.051578070968390,-0.030972160398960,-0.047015357762575,0.009004944004118,-0.066320501267910,0.093412496149540,0.085947409272194));
res = max(float4(0,0,0,0), res);
return res;
}
