sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.077239260077477,-0.072319917380810,0.102970451116562,0.001250698231161,0.016668250784278,-0.041100129485130,0.113928899168968,0.087052233517170,-0.238741561770439,0.152629017829895,0.146761998534203,0.153970971703529,0.017552919685841,0.067935660481453,0.070618152618408,-0.065508931875229));
res += mul(Get(s0,-dx,0), float4x4(0.011427633464336,0.009401092305779,0.034213386476040,0.095876902341843,-0.007348875049502,-0.059212367981672,-0.110079124569893,-0.108127966523170,0.081776827573776,-0.065111219882965,-0.026734152808785,-0.164728894829750,-0.057944066822529,-0.096902288496494,-0.167413368821144,-0.002383508952335));
res += mul(Get(s0,-dx,dy), float4x4(-0.129335924983025,0.017839778214693,0.085502646863461,-0.021519429981709,-0.005602027755231,-0.087309330701828,-0.002034850418568,0.063063822686672,-0.042751520872116,-0.062503390014172,0.009987425059080,-0.094556748867035,0.111443012952805,0.010586734861135,-0.162858784198761,-0.009888385422528));
res += mul(Get(s0,0,-dy), float4x4(0.081858024001122,-0.040264226496220,0.055462498217821,0.043027374893427,-0.160883948206902,0.112888298928738,0.007838194258511,-0.089998111128807,-0.111905418336391,-0.092999167740345,-0.050333283841610,0.103851974010468,0.030704440549016,0.047868642956018,0.140286266803741,0.034539289772511));
res += mul(Get(s0,0,0), float4x4(0.016444128006697,-0.098160244524479,-0.065454147756100,0.012320667505264,0.036455057561398,0.018047951161861,0.017332265153527,-0.011740124784410,0.000306208385155,0.099743396043777,-0.005533191841096,-0.025751529261470,-0.113265767693520,0.163209110498428,-0.013162941671908,-0.011535198427737));
res += mul(Get(s0,0,dy), float4x4(-0.070496171712875,0.037236295640469,0.080987587571144,0.104199461638927,-0.168090820312500,-0.131841242313385,0.092505931854248,0.013596279546618,0.020096307620406,-0.049864932894707,0.062536031007767,-0.005376687739044,0.054906111210585,0.053482286632061,-0.169350489974022,0.107451595366001));
res += mul(Get(s0,dx,-dy), float4x4(0.037896938621998,0.005643688607961,-0.112131901085377,-0.012875243090093,-0.022307544946671,-0.042281612753868,0.061350636184216,0.071002617478371,-0.036606997251511,0.036306060850620,-0.106078021228313,0.081178806722164,-0.157081916928291,0.064375370740891,-0.147528067231178,-0.067292414605618));
res += mul(Get(s0,dx,0), float4x4(0.071829289197922,-0.031656164675951,0.074402771890163,0.023526335135102,-0.032556481659412,0.105316258966923,0.058055017143488,-0.031187066808343,-0.126735329627991,-0.140546783804893,0.016890387982130,0.189195722341537,-0.095977120101452,-0.027094641700387,-0.009021406061947,0.016803253442049));
res += mul(Get(s0,dx,dy), float4x4(0.191509410738945,-0.054567623883486,0.054583642631769,0.212521135807037,0.076374366879463,-0.042904634028673,0.020320117473602,0.075563713908195,0.104325778782368,-0.047115705907345,-0.063606776297092,-0.116872385144234,0.011532302014530,-0.046185087412596,0.027682282030582,0.067385315895081));
res += mul(Get(s1,-dx,-dy), float4x4(0.040668286383152,-0.005743679124862,0.030374014750123,0.039503581821918,0.028252547606826,0.093549661338329,-0.038776777684689,0.013877924531698,0.092737406492233,0.176929250359535,-0.032237906008959,-0.139522835612297,-0.007572106085718,0.014471751637757,-0.016294131055474,-0.114551410079002));
res += mul(Get(s1,-dx,0), float4x4(0.015099054202437,-0.078017331659794,0.099495135247707,-0.058435119688511,0.031694002449512,0.067536346614361,-0.120857469737530,-0.127600073814392,-0.115840122103691,-0.195052191615105,0.050523616373539,0.022797187790275,0.106876552104950,-0.054707601666451,0.186212658882141,0.015193182043731));
res += mul(Get(s1,-dx,dy), float4x4(-0.167233422398567,0.094447858631611,0.028049975633621,0.014301577582955,-0.058447305113077,0.081902809441090,-0.006067370064557,-0.138254120945930,-0.176654472947121,-0.000162118201843,0.055169351398945,0.063122458755970,0.183816015720367,0.108476877212524,0.013722239062190,0.034734822809696));
res += mul(Get(s1,0,-dy), float4x4(0.073544964194298,0.054366808384657,-0.005949114449322,-0.023639656603336,0.075956858694553,0.133959993720055,0.022454107180238,0.013704635202885,0.091453768312931,-0.042079813778400,-0.035284601151943,0.056166049093008,-0.019926656037569,0.117985680699348,-0.006531226448715,-0.089964501559734));
res += mul(Get(s1,0,0), float4x4(0.118693627417088,0.080799050629139,0.095685176551342,-0.055994737893343,0.076794505119324,0.030284740030766,0.014468036592007,-0.115940339863300,-0.014096010476351,-0.166791304945946,-0.169092297554016,0.075496755540371,-0.208991378545761,-0.072863258421421,-0.112018533051014,0.083881162106991));
res += mul(Get(s1,0,dy), float4x4(0.100143902003765,0.105364032089710,0.176783919334412,0.122180208563805,0.056749790906906,0.110018163919449,-0.096354730427265,-0.041332583874464,0.126903474330902,0.034750934690237,0.044283278286457,0.092521004378796,0.078588902950287,0.019512204453349,-0.098385378718376,0.074717149138451));
res += mul(Get(s1,dx,-dy), float4x4(-0.049525346606970,-0.011169311590493,0.001372024533339,-0.013263209722936,-0.072099320590496,-0.000499567948282,-0.052547924220562,0.068792514503002,0.078493632376194,-0.008236672729254,0.077055737376213,0.111248180270195,-0.011219167150557,0.070632420480251,-0.126620858907700,-0.061809420585632));
res += mul(Get(s1,dx,0), float4x4(-0.025087198242545,-0.051430631428957,-0.017084730789065,-0.058106899261475,-0.114157564938068,0.064943298697472,-0.058268897235394,0.088445730507374,-0.097247496247292,0.133630201220512,-0.035047303885221,0.024441426619887,-0.064748115837574,-0.111948929727077,0.056719008833170,0.047993484884501));
res += mul(Get(s1,dx,dy), float4x4(-0.087202578783035,0.041716277599335,0.090366974473000,-0.060791753232479,0.056364491581917,-0.122171625494957,0.082832582294941,0.137367829680443,-0.003825754625723,0.020552029833198,0.034691799432039,-0.052573140710592,-0.207455769181252,0.091405987739563,0.033377178013325,0.089015275239944));
res += mul(Get(s2,-dx,-dy), float4x4(0.092696316540241,-0.076516062021255,-0.071800924837589,0.060969285666943,-0.077023252844810,0.130855053663254,-0.092252716422081,0.051935404539108,0.088303558528423,0.044459521770477,-0.026633761823177,0.073840506374836,-0.007034993730485,-0.023783316835761,0.145086735486984,-0.126117199659348));
res += mul(Get(s2,-dx,0), float4x4(0.056031707674265,-0.011138627305627,0.248064115643501,-0.153996631503105,0.079867660999298,0.106838740408421,0.041520606726408,0.030791137367487,0.035514008253813,0.058680318295956,-0.137359246611595,0.051430761814117,0.106089428067207,-0.007811033166945,0.101502053439617,0.161412939429283));
res += mul(Get(s2,-dx,dy), float4x4(0.068553932011127,0.045297786593437,0.075962916016579,-0.110222510993481,0.000831669080071,-0.204306200146675,-0.197392106056213,-0.047457344830036,0.085105419158936,0.039499145001173,-0.020883161574602,-0.017748659476638,-0.045908458530903,0.000667837972287,-0.016228890046477,-0.185595169663429));
res += mul(Get(s2,0,-dy), float4x4(-0.069823883473873,0.110893756151199,0.020403617992997,0.028932809829712,0.004644828848541,0.023026727139950,0.011691479943693,-0.141367033123970,0.180774807929993,0.056546144187450,-0.052378434687853,-0.078294426202774,-0.024924909695983,0.217776730656624,0.007588049862534,-0.141075119376183));
res += mul(Get(s2,0,0), float4x4(-0.101123809814453,0.105998456478119,0.140616819262505,-0.125206038355827,0.082258842885494,-0.081952869892120,0.041609074920416,-0.071650356054306,0.108839944005013,0.019898252561688,-0.083129152655602,0.069060854613781,-0.019858149811625,-0.105814397335052,0.131063789129257,0.105865441262722));
res += mul(Get(s2,0,dy), float4x4(-0.125714927911758,-0.106242157518864,-0.242354154586792,0.219444781541824,0.060623023658991,-0.026984173804522,-0.003455943893641,-0.058160375803709,-0.093435935676098,-0.016306614503264,0.049860980361700,-0.019677022472024,0.058377686887980,-0.092541120946407,0.155455604195595,0.028383309021592));
res += mul(Get(s2,dx,-dy), float4x4(0.185348138213158,0.041232667863369,-0.024851644411683,-0.009370298124850,0.063743248581886,-0.058031808584929,0.034579612314701,0.046161040663719,-0.073236264288425,0.042331486940384,0.003458057064563,-0.075063839554787,0.089948259294033,0.020497826859355,0.095518372952938,-0.036942809820175));
res += mul(Get(s2,dx,0), float4x4(-0.100900068879128,-0.095126621425152,-0.028728792443871,-0.021046841517091,-0.185639992356300,0.137602925300598,-0.060885578393936,0.063997156918049,-0.011284802109003,-0.026696510612965,-0.021745473146439,0.022713564336300,-0.013023276813328,-0.004302144981921,-0.028149787336588,0.000540459586773));
res += mul(Get(s2,dx,dy), float4x4(-0.043690625578165,-0.072071254253387,0.008686734363437,0.138685807585716,0.020162694156170,0.114911682903767,0.051669839769602,-0.071708813309669,-0.056023083627224,-0.030467506498098,-0.046949606388807,0.035377692431211,-0.027697404846549,-0.062450896948576,-0.050372082740068,0.063216328620911));
res += mul(Get(s3,-dx,-dy), float4x4(0.080230213701725,0.028077606111765,0.064865492284298,-0.073753915727139,0.116312384605408,0.107089802622795,-0.084869183599949,-0.052652817219496,0.112034939229488,-0.142990455031395,-0.132591381669044,-0.080874823033810,0.090354830026627,-0.137485429644585,0.065064437687397,-0.010733386501670));
res += mul(Get(s3,-dx,0), float4x4(0.062652483582497,0.064752519130707,-0.074365384876728,0.084910921752453,0.160801097750664,0.034539155662060,0.107058301568031,-0.070667482912540,0.017480947077274,-0.052051238715649,-0.051437538117170,0.003678039647639,-0.012638897635043,-0.081273198127747,-0.044712662696838,-0.165662825107574));
res += mul(Get(s3,-dx,dy), float4x4(0.042614176869392,-0.100514553487301,-0.092116139829159,0.059132203459740,-0.000258308544289,0.144634142518044,0.053248953074217,0.002424363279715,0.004269646480680,0.062259055674076,-0.058609351515770,0.096064284443855,0.099395960569382,0.019272211939096,0.071840383112431,0.002530857222155));
res += mul(Get(s3,0,-dy), float4x4(0.279738277196884,-0.037776131182909,-0.032329689711332,0.003444936824962,-0.006075490266085,0.054737653583288,-0.038687724620104,-0.163111954927444,0.114280879497528,0.029149876907468,0.044116210192442,0.097585603594780,0.111574187874794,0.178402423858643,-0.086713016033173,0.007537182886153));
res += mul(Get(s3,0,0), float4x4(0.001739185769111,-0.112728364765644,0.086308039724827,0.018735462799668,-0.110041171312332,-0.136775970458984,-0.071296110749245,0.059492178261280,-0.153134703636169,-0.012084161862731,0.125396594405174,-0.171072527766228,-0.046217963099480,0.051612202078104,0.084921382367611,-0.036821700632572));
res += mul(Get(s3,0,dy), float4x4(0.026935670524836,-0.004182162228972,0.011010049842298,-0.051784161478281,-0.107756435871124,-0.060327943414450,-0.099697373807430,0.286142379045486,0.024784399196506,0.125882536172867,0.088015235960484,0.013566492125392,-0.057659927755594,-0.097574651241302,-0.054659243673086,0.083138406276703));
res += mul(Get(s3,dx,-dy), float4x4(-0.007323924917728,0.012022985145450,0.022167490795255,-0.068532086908817,-0.135314464569092,-0.176421731710434,-0.028398845344782,0.060130283236504,-0.108563132584095,-0.071220874786377,0.085841402411461,-0.039508104324341,-0.023930961266160,-0.013604257255793,-0.071526423096657,0.027724318206310));
res += mul(Get(s3,dx,0), float4x4(0.052260085940361,0.047723751515150,0.099229924380779,-0.037575349211693,-0.044702086597681,0.066660039126873,-0.092313632369041,0.017226202413440,-0.065871037542820,0.002671852242202,0.064731493592262,0.023424740880728,0.065521538257599,-0.040668677538633,-0.010752998292446,0.027460215613246));
res += mul(Get(s3,dx,dy), float4x4(-0.044885665178299,-0.091290801763535,0.021885937079787,0.078504405915737,-0.098327353596687,-0.000728961953428,-0.071071013808250,-0.064036823809147,0.009231167845428,-0.087533555924892,0.059380535036325,0.213608697056770,0.026974465698004,0.014246764592826,-0.088787414133549,-0.035273194313049));
res = max(float4(0,0,0,0), res);
return res;
}
