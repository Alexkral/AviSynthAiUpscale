sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.023795546963811,-0.002823950955644,0.028051119297743,-0.013536161743104,-0.066240683197975,0.069266505539417,0.101447321474552,0.052014481276274,0.020468402653933,0.004656454548240,0.052979879081249,0.009390744380653,-0.016585277393460,0.032132759690285,0.057019308209419,-0.116399601101875));
res += mul(Get(s0,-dx,0), float4x4(-0.014599502086639,0.013644403778017,-0.021744828671217,0.111613661050797,0.030711168423295,0.186691492795944,-0.068067945539951,-0.073275230824947,-0.187465816736221,0.091468296945095,0.095697209239006,0.037111446261406,0.288989722728729,0.081999160349369,0.080740563571453,-0.048545341938734));
res += mul(Get(s0,-dx,dy), float4x4(-0.188933730125427,0.027364997193217,-0.088751249015331,0.009439825080335,-0.126106753945351,0.110641822218895,-0.003384473966435,-0.053804818540812,-0.165759801864624,-0.091117523610592,0.028755154460669,-0.047678835690022,-0.027612917125225,-0.192652687430382,0.076836563646793,-0.142520934343338));
res += mul(Get(s0,0,-dy), float4x4(0.113819800317287,-0.064546011388302,-0.028109397739172,0.062061313539743,-0.021047145128250,0.225622698664665,-0.107158765196800,0.024029085412621,-0.085175879299641,0.008918188512325,0.070550918579102,0.179956421256065,0.084343813359737,-0.090913847088814,-0.042486514896154,0.060295760631561));
res += mul(Get(s0,0,0), float4x4(0.037554204463959,0.048215731978416,0.049829799681902,-0.010993189178407,0.001774003729224,0.064856581389904,-0.078581795096397,-0.050911407917738,0.011780986562371,-0.053252339363098,0.067105390131474,0.001837232266553,-0.007826007902622,-0.014008397236466,0.005580410826951,0.158058151602745));
res += mul(Get(s0,0,dy), float4x4(-0.152626946568489,-0.092212356626987,-0.013897240161896,-0.159074321389198,-0.037035349756479,0.095076389610767,-0.126289591193199,-0.106112912297249,0.016175139695406,-0.073078460991383,0.202392578125000,-0.081639215350151,-0.147751227021217,0.041891016066074,0.041531510651112,0.062279909849167));
res += mul(Get(s0,dx,-dy), float4x4(0.171901151537895,-0.166311323642731,0.123030818998814,-0.128148674964905,0.034365512430668,-0.003136172890663,-0.080552615225315,-0.049056421965361,-0.072491139173508,0.124219484627247,0.070834361016750,-0.122820928692818,0.163110002875328,0.098684281110764,0.017032414674759,-0.023799069225788));
res += mul(Get(s0,dx,0), float4x4(-0.013704806566238,0.014611893333495,-0.073647409677505,-0.065815590322018,-0.053653419017792,0.023176871240139,0.035145100206137,-0.062903583049774,0.105763114988804,0.032151836901903,-0.127040877938271,-0.002228218130767,-0.091853246092796,-0.053604897111654,0.175938874483109,0.111201293766499));
res += mul(Get(s0,dx,dy), float4x4(-0.128232464194298,0.017961701378226,0.021086065098643,-0.038653250783682,-0.023767255246639,-0.128001078963280,-0.022843964397907,0.059415582567453,0.091365285217762,0.080968089401722,0.026360498741269,-0.046876154839993,0.010729779489338,-0.039256472140551,-0.133240863680840,0.021939555183053));
res += mul(Get(s1,-dx,-dy), float4x4(0.177046552300453,-0.009735527448356,0.075611084699631,-0.193284839391708,-0.021215660497546,0.141588643193245,0.044393725693226,-0.031146436929703,-0.143973618745804,0.102993167936802,-0.040965162217617,-0.017873186618090,-0.015872523188591,-0.114618256688118,0.009127550758421,-0.101618528366089));
res += mul(Get(s1,-dx,0), float4x4(0.061606198549271,0.065103530883789,0.105844862759113,-0.013536972925067,-0.010768918320537,-0.096907354891300,-0.108928091824055,0.004828951321542,-0.086964011192322,0.054945897310972,-0.066513039171696,-0.238506346940994,0.032932937145233,-0.033330596983433,0.148385703563690,-0.029368896037340));
res += mul(Get(s1,-dx,dy), float4x4(0.039966844022274,0.000506980111822,-0.047932621091604,0.008871703408659,0.054211940616369,-0.029293879866600,-0.070478215813637,-0.090044528245926,-0.110640533268452,0.017599405720830,-0.068026475608349,-0.025568550452590,-0.089181348681450,0.023029532283545,0.153491020202637,-0.120130747556686));
res += mul(Get(s1,0,-dy), float4x4(0.003244812600315,0.120291933417320,0.049727462232113,0.047102779150009,0.002799708629027,-0.090740211308002,-0.126448169350624,-0.096677385270596,-0.226054430007935,0.109978899359703,-0.026046592742205,0.012582708150148,0.096010901033878,0.130267515778542,-0.042473293840885,0.114899128675461));
res += mul(Get(s1,0,0), float4x4(0.033693153411150,-0.044226910918951,0.004977633710951,-0.015518396161497,-0.084676690399647,0.097809210419655,-0.136285170912743,-0.021362001076341,0.191107705235481,0.024861853569746,0.106712847948074,0.000920951482840,0.116490736603737,0.092153981328011,0.103399425745010,0.056131146848202));
res += mul(Get(s1,0,dy), float4x4(0.178753718733788,0.053046230226755,-0.071077816188335,0.103029757738113,0.118465207517147,-0.035363897681236,-0.061662312597036,0.066961571574211,-0.061230018734932,0.021339314058423,0.000238222404732,-0.056994166225195,0.012689605355263,0.085411936044693,-0.120118103921413,0.016241345554590));
res += mul(Get(s1,dx,-dy), float4x4(-0.031693816184998,0.033101521432400,0.010737937875092,-0.108281612396240,-0.084486790001392,0.057893145829439,-0.098474018275738,0.072985015809536,0.067425690591335,-0.061511237174273,0.038877788931131,-0.111271768808365,0.045270591974258,0.054677903652191,-0.117055028676987,-0.019313925877213));
res += mul(Get(s1,dx,0), float4x4(-0.018598180264235,-0.140492945909500,0.155442878603935,0.225080728530884,-0.048655208200216,-0.145584434270859,-0.055062744766474,0.176669314503670,-0.004555875435472,0.016245856881142,0.143946334719658,-0.029228389263153,-0.107782721519470,0.132426097989082,-0.069255664944649,0.085278145968914));
res += mul(Get(s1,dx,dy), float4x4(-0.029092788696289,0.041327804327011,-0.011477971449494,0.132341802120209,-0.013401424512267,-0.121816784143448,-0.133755117654800,-0.040176801383495,-0.087052315473557,-0.082715436816216,0.065056823194027,0.195156544446945,0.058793857693672,0.082300029695034,-0.039453770965338,0.032610293477774));
res += mul(Get(s2,-dx,-dy), float4x4(0.011923741549253,0.033686593174934,-0.165885433554649,-0.008800940588117,-0.081176348030567,-0.023530170321465,0.139112100005150,-0.158292382955551,-0.198234170675278,-0.194165095686913,-0.008224662393332,-0.211845338344574,-0.133835256099701,-0.060764972120523,0.069947458803654,-0.038848422467709));
res += mul(Get(s2,-dx,0), float4x4(0.173557505011559,-0.007131429389119,-0.122056789696217,-0.005879770964384,-0.090889759361744,-0.100159212946892,-0.010838820599020,-0.088327579200268,-0.095934189856052,-0.074397012591362,0.074315570294857,0.050619315356016,0.152327954769135,0.009944137185812,-0.095018394291401,0.098954483866692));
res += mul(Get(s2,-dx,dy), float4x4(-0.072472818195820,0.063415043056011,-0.004301577806473,0.121165163815022,0.067144908010960,0.125641033053398,0.151624202728271,0.059478990733624,-0.068343348801136,0.018138606101274,-0.053206261247396,-0.075638242065907,0.111164651811123,-0.100672900676727,0.023612739518285,0.032633733004332));
res += mul(Get(s2,0,-dy), float4x4(0.170270681381226,-0.131458744406700,0.050081159919500,0.039944406598806,-0.033995565026999,-0.023188605904579,-0.073048323392868,-0.066685758531094,-0.070014767348766,-0.158348023891449,-0.062296770513058,0.024734653532505,0.006953480187804,0.018757602199912,0.091556973755360,0.038091275840998));
res += mul(Get(s2,0,0), float4x4(0.011246775276959,0.049696460366249,0.095550835132599,0.005502089858055,-0.071735389530659,-0.036357201635838,0.025572368875146,0.015595248900354,-0.114864453673363,0.047387894243002,-0.087561383843422,0.051036182790995,0.134912580251694,0.099238812923431,0.082328781485558,0.227775722742081));
res += mul(Get(s2,0,dy), float4x4(0.035909593105316,0.100420624017715,0.029251420870423,0.027195459231734,0.002906576730311,-0.097456522285938,0.022369071841240,-0.035458769649267,-0.015630207955837,0.128520533442497,-0.028273072093725,-0.104803428053856,0.020011583343148,-0.097513057291508,-0.140743732452393,0.041687976568937));
res += mul(Get(s2,dx,-dy), float4x4(0.121511049568653,-0.042439021170139,-0.043681211769581,0.004089720547199,0.088144622743130,-0.016883708536625,0.055651877075434,0.006973990704864,-0.073124408721924,0.024639733135700,-0.114522889256477,0.138385221362114,-0.090225122869015,-0.020277649164200,0.060616858303547,0.095491275191307));
res += mul(Get(s2,dx,0), float4x4(0.106212519109249,0.062086246907711,0.034181673079729,-0.078916907310486,-0.034284569323063,-0.105137884616852,-0.112004525959492,0.001356481690891,0.011879834346473,0.002731984248385,0.009046070277691,0.036794655025005,0.096192412078381,-0.127879053354263,-0.016713913530111,-0.008944597095251));
res += mul(Get(s2,dx,dy), float4x4(-0.080824948847294,0.037130981683731,0.195525288581848,0.032933764159679,0.002662925748155,-0.009389378130436,0.053170211613178,-0.088282458484173,0.141145154833794,0.051346603780985,0.003942706156522,0.004397439770401,0.192427784204483,0.051289916038513,0.118229351937771,0.150208935141563));
res += mul(Get(s3,-dx,-dy), float4x4(-0.064462952315807,0.091284461319447,0.070207990705967,-0.009520353749394,-0.037311512976885,-0.067833781242371,0.049177762120962,0.014668835327029,-0.097975641489029,0.021412817761302,-0.037498936057091,0.018382247537374,-0.153410121798515,0.011108062230051,-0.021147452294827,-0.083087839186192));
res += mul(Get(s3,-dx,0), float4x4(-0.090614676475525,0.080265983939171,-0.042158819735050,-0.099970832467079,0.079695932567120,0.028466634452343,-0.040567893534899,-0.093621946871281,0.069506257772446,0.078123219311237,-0.080131053924561,-0.155755534768105,0.147872120141983,0.033572237938643,0.046422328799963,-0.011594907380641));
res += mul(Get(s3,-dx,dy), float4x4(0.089002802968025,-0.094157807528973,0.020593706518412,-0.013825792819262,-0.097079999744892,0.028884837403893,0.117856301367283,-0.025997845456004,0.038380574434996,0.167989522218704,-0.037835773080587,-0.067669607698917,-0.021382614970207,0.071561202406883,0.016352189704776,0.005153240170330));
res += mul(Get(s3,0,-dy), float4x4(0.002381385071203,-0.061157822608948,0.039408236742020,-0.148121312260628,0.017118981108069,-0.298214256763458,-0.099717654287815,0.108530163764954,-0.032985411584377,-0.076280690729618,-0.140591338276863,-0.058641619980335,0.081429913640022,0.032692562788725,-0.208589911460876,0.149187654256821));
res += mul(Get(s3,0,0), float4x4(-0.115037038922310,0.006774038542062,-0.219721645116806,0.095330469310284,0.058333352208138,-0.043105773627758,0.096422627568245,-0.029658604413271,-0.129047200083733,0.186389729380608,-0.012507364153862,-0.115142442286015,-0.062647640705109,-0.087993644177914,-0.067814223468304,0.034308526664972));
res += mul(Get(s3,0,dy), float4x4(0.098403498530388,-0.024176634848118,-0.058307264000177,-0.119341708719730,-0.087499976158142,0.090648472309113,0.085895046591759,-0.064347490668297,0.112692534923553,0.019432580098510,-0.017777193337679,0.101437442004681,0.057905476540327,-0.060210682451725,-0.037732135504484,-0.056304268538952));
res += mul(Get(s3,dx,-dy), float4x4(-0.021039536222816,-0.040760688483715,-0.040718093514442,0.023554658517241,0.032379031181335,0.050511818379164,0.017156232148409,-0.073303610086441,0.011917431838810,-0.065392643213272,-0.072542823851109,0.090625606477261,0.073166705667973,-0.065811112523079,-0.048015888780355,0.072918839752674));
res += mul(Get(s3,dx,0), float4x4(-0.078025661408901,-0.191321104764938,-0.105189211666584,0.076100185513496,-0.147174254059792,-0.066443994641304,-0.116650462150574,0.052425015717745,0.144121631979942,-0.066289067268372,0.055620979517698,-0.139111995697021,0.088019922375679,-0.049981437623501,-0.117272861301899,0.076661683619022));
res += mul(Get(s3,dx,dy), float4x4(-0.070193901658058,0.083770528435707,-0.190584197640419,0.037338048219681,0.068848967552185,0.017040245234966,-0.056863963603973,-0.050605092197657,-0.002353578340262,0.013196101412177,-0.091669805347919,0.020628480240703,0.047788482159376,0.030470639467239,-0.005300282966346,0.012118918821216));
res = max(float4(0,0,0,0), res);
return res;
}
