sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.009576254524291,0.215741679072380,0.104144580662251,0.122963875532150,-0.126676648855209,-0.031628970056772,-0.089441537857056,-0.071174107491970,-0.040711551904678,-0.045758854597807,0.071978017687798,0.019022228196263,-0.107602618634701,0.108231514692307,0.086133427917957,-0.000338412151905));
res += mul(Get(s0,-dx,0), float4x4(0.192952096462250,-0.032739184796810,-0.088439702987671,-0.026919476687908,0.027516467496753,-0.116906262934208,0.041126210242510,-0.097022108733654,0.075753934681416,0.138260781764984,0.034264810383320,0.047826521098614,-0.002636313671246,0.039313565939665,0.039750006049871,0.082079105079174));
res += mul(Get(s0,-dx,dy), float4x4(-0.001022734446451,-0.039815235882998,-0.016623832285404,0.078935377299786,0.069001860916615,0.148386150598526,-0.059662319719791,0.076229780912399,0.051034606993198,0.015742275863886,-0.074727244675159,-0.064558379352093,-0.028515646234155,-0.090623930096626,0.108548521995544,0.062868550419807));
res += mul(Get(s0,0,-dy), float4x4(-0.039129745215178,0.134239435195923,-0.002286410657689,-0.096681378781796,0.118596613407135,0.004489363636822,-0.099911823868752,-0.002851722994819,-0.156569793820381,-0.103771030902863,0.081866227090359,-0.027949336916208,-0.034943703562021,0.005024429410696,-0.173655629158020,-0.029527273029089));
res += mul(Get(s0,0,0), float4x4(-0.051809605211020,-0.072246484458447,-0.047969039529562,0.021031055599451,0.218273937702179,-0.027386486530304,-0.012384294532239,-0.092671439051628,0.088562466204166,-0.011093055829406,-0.082414448261261,-0.063677094876766,0.019561979919672,-0.053661379963160,-0.023987771943212,0.076562471687794));
res += mul(Get(s0,0,dy), float4x4(-0.063940517604351,-0.158749267458916,-0.085947506129742,0.097163915634155,-0.072875313460827,0.024139394983649,-0.071052402257919,-0.079841531813145,0.069892473518848,0.045031379908323,-0.165471792221069,0.115019090473652,-0.034250531345606,0.063096575438976,-0.030956400558352,-0.102480314671993));
res += mul(Get(s0,dx,-dy), float4x4(0.013564584776759,0.004009006079286,0.109986379742622,-0.056987565010786,0.113774649798870,0.075515188276768,0.071699656546116,0.028969319537282,-0.013705487363040,0.175069063901901,-0.097659647464752,-0.110663466155529,-0.141162708401680,0.125881582498550,-0.006216489709914,0.121783219277859));
res += mul(Get(s0,dx,0), float4x4(-0.072367943823338,0.036275133490562,0.057753235101700,0.007231067400426,0.002380402991548,-0.064790956676006,0.208268284797668,0.021099476143718,-0.080404520034790,-0.003849927103147,0.047467745840549,0.139185711741447,-0.034462332725525,-0.021421167999506,0.091338217258453,0.102054633200169));
res += mul(Get(s0,dx,dy), float4x4(-0.160363435745239,-0.034439582377672,-0.078773632645607,0.141229137778282,-0.034751128405333,0.016264352947474,-0.149889841675758,-0.032228406518698,-0.065573215484619,0.043916083872318,0.034649968147278,-0.049354914575815,-0.027234897017479,0.084301851689816,-0.061259977519512,0.002935633528978));
res += mul(Get(s1,-dx,-dy), float4x4(-0.154871046543121,-0.060071043670177,0.021987244486809,0.034957408905029,-0.094337090849876,-0.063003614544868,0.065146163105965,-0.034745078533888,-0.024730158969760,0.104068756103516,0.043295230716467,-0.005513358395547,-0.001056150067598,-0.022042719647288,0.035831764340401,0.059617377817631));
res += mul(Get(s1,-dx,0), float4x4(0.077360324561596,0.009703693911433,-0.165217176079750,0.083118081092834,0.078061580657959,-0.113700397312641,-0.000588603317738,-0.070077098906040,-0.022955743595958,0.029879352077842,-0.038111723959446,0.047660935670137,0.059098079800606,-0.016816601157188,0.055001799017191,0.019628267735243));
res += mul(Get(s1,-dx,dy), float4x4(-0.187974810600281,-0.012200157158077,-0.079124823212624,-0.028307551518083,0.070554718375206,-0.020329073071480,0.108043298125267,-0.010200338438153,0.026507316157222,-0.145636633038521,-0.068893864750862,-0.082696400582790,-0.001445154892281,-0.028906296938658,-0.122586354613304,0.110699914395809));
res += mul(Get(s1,0,-dy), float4x4(0.025306154042482,0.144089907407761,0.081714674830437,0.047277063131332,0.056126471608877,0.132126003503799,-0.048270706087351,0.031948342919350,-0.036664005368948,-0.081863649189472,0.008016079664230,0.116437837481499,-0.034751486033201,0.180921763181686,0.141910642385483,-0.004122118465602));
res += mul(Get(s1,0,0), float4x4(-0.025016997009516,0.024852346628904,-0.150768369436264,0.057343881577253,0.044624123722315,-0.037602771073580,-0.065588727593422,0.070762097835541,0.002152465051040,0.064215138554573,0.048687841743231,-0.079568058252335,-0.165004014968872,0.151475384831429,0.033125817775726,0.025471931323409));
res += mul(Get(s1,0,dy), float4x4(-0.032295230776072,0.067928008735180,0.122467257082462,0.032221231609583,0.063819542527199,0.021716967225075,-0.067875117063522,-0.012379966676235,0.016514014452696,-0.100460462272167,-0.091937325894833,-0.081312708556652,0.030007312074304,0.076606005430222,0.000555373961106,-0.126910254359245));
res += mul(Get(s1,dx,-dy), float4x4(0.055055573582649,-0.023065777495503,-0.041846323758364,-0.122890129685402,0.056653175503016,-0.037598378956318,0.170865744352341,0.002612055046484,0.116126194596291,0.053710587322712,-0.011810001917183,0.029263328760862,0.300918787717819,0.101671107113361,-0.112525597214699,0.120705045759678));
res += mul(Get(s1,dx,0), float4x4(-0.025365181267262,-0.056276284158230,0.045970395207405,-0.031369227916002,0.029891794547439,-0.174727618694305,-0.028568753972650,0.086316980421543,0.056422073394060,-0.046953693032265,-0.051237463951111,-0.023515218868852,0.019285555928946,0.070318900048733,-0.021932767704129,0.160612478852272));
res += mul(Get(s1,dx,dy), float4x4(-0.020178634673357,0.032767388969660,-0.101703457534313,-0.170857787132263,0.056761130690575,-0.001304012839682,-0.139152765274048,0.112007014453411,0.100383408367634,-0.154074028134346,-0.083299301564693,-0.150826573371887,0.022893466055393,-0.047761060297489,-0.011445786803961,-0.066128738224506));
res += mul(Get(s2,-dx,-dy), float4x4(0.108398705720901,-0.108027905225754,-0.032634630799294,-0.075786031782627,0.058943882584572,-0.037064883857965,-0.004996838979423,-0.153624236583710,0.115110322833061,0.160777702927589,-0.062963999807835,-0.050141103565693,-0.110338009893894,-0.050047323107719,0.016799839213490,-0.030510229989886));
res += mul(Get(s2,-dx,0), float4x4(-0.097479782998562,-0.066890060901642,-0.072264999151230,0.065148629248142,0.025452820584178,0.089219883084297,-0.054590743035078,-0.015411630272865,-0.043640188872814,0.011486913077533,0.123377464711666,0.029599564149976,-0.171135157346725,0.008679649792612,0.081686496734619,-0.138141140341759));
res += mul(Get(s2,-dx,dy), float4x4(0.084694698452950,0.050164092332125,0.049204155802727,-0.119963079690933,0.091991350054741,-0.006742806173861,0.000893329561222,0.053552825003862,0.039775870740414,0.151964530348778,0.004629620816559,0.096334263682365,-0.115878492593765,0.051536589860916,-0.068970695137978,-0.121205069124699));
res += mul(Get(s2,0,-dy), float4x4(-0.034010820090771,0.087787993252277,0.110454127192497,-0.004177320748568,-0.120345480740070,0.163287371397018,0.125942245125771,-0.110132962465286,-0.027028655633330,0.165324434638023,0.016137974336743,0.021754425019026,-0.240785092115402,0.060743238776922,0.007707111071795,0.030901329591870));
res += mul(Get(s2,0,0), float4x4(0.046496663242579,0.031284686177969,0.087894022464752,-0.032264254987240,0.006137164309621,-0.005156361963600,-0.029619514942169,-0.026926819235086,-0.063498981297016,-0.053861167281866,0.026685338467360,0.048707801848650,0.052301131188869,0.011498789303005,0.014541652053595,0.031048964709044));
res += mul(Get(s2,0,dy), float4x4(0.018474230542779,0.133224278688431,-0.041593566536903,0.051015373319387,-0.108406566083431,0.149086326360703,-0.076634898781776,0.016626307740808,-0.066844023764133,-0.101215995848179,-0.055568132549524,0.054780155420303,0.003887578379363,-0.081992328166962,-0.052127331495285,0.079929761588573));
res += mul(Get(s2,dx,-dy), float4x4(0.005265695974231,-0.074206501245499,0.002241220790893,-0.186297580599785,0.015562251210213,-0.206617817282677,0.108867794275284,-0.045521907508373,-0.121810033917427,0.075384080410004,0.095499545335770,0.063448414206505,-0.088311232626438,-0.074557058513165,0.061150129884481,0.031618207693100));
res += mul(Get(s2,dx,0), float4x4(-0.056563328951597,-0.030785748735070,0.008410668000579,-0.004997119307518,0.065991632640362,0.024208379909396,0.062317162752151,0.134759277105331,0.138490542769432,-0.072094447910786,0.202471151947975,-0.114104919135571,-0.112733878195286,0.023718761280179,0.105270318686962,-0.066319935023785));
res += mul(Get(s2,dx,dy), float4x4(0.014395148493350,-0.078282624483109,-0.084479257464409,0.002232291270047,-0.038856625556946,0.015966309234500,-0.060213468968868,0.065965995192528,-0.204842939972878,-0.018320871517062,-0.214636638760567,-0.059079553931952,-0.114070840179920,-0.189664125442505,0.019244229421020,-0.001396058010869));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023903889581561,-0.099846541881561,0.031853489577770,-0.062002506107092,0.009635415859520,-0.000015720899682,-0.038708105683327,-0.163400053977966,-0.102547980844975,-0.040993668138981,-0.038476333022118,-0.062989331781864,0.059738274663687,-0.115491084754467,-0.084098093211651,-0.005901527591050));
res += mul(Get(s3,-dx,0), float4x4(-0.174621343612671,-0.133543252944946,-0.047136202454567,0.074842520058155,-0.075370401144028,0.007798771839589,-0.127453625202179,0.004076996818185,-0.022789692506194,0.011189489625394,0.115865632891655,0.035900097340345,-0.134082332253456,-0.043647985905409,-0.137253850698471,-0.008221189491451));
res += mul(Get(s3,-dx,dy), float4x4(0.035081688314676,-0.030694456771016,0.096694909036160,-0.130646243691444,0.148216351866722,-0.062790028750896,0.027333490550518,0.007043977733701,-0.129482984542847,-0.095800384879112,-0.049917697906494,-0.081890955567360,-0.125562533736229,0.191370204091072,0.026161538437009,-0.171040385961533));
res += mul(Get(s3,0,-dy), float4x4(-0.010776671580970,0.042738106101751,-0.007866674102843,0.074526347219944,0.046904642134905,0.122093327343464,-0.131891623139381,-0.094545975327492,0.043943386524916,0.018728116527200,0.072758801281452,-0.002433599904180,-0.086663737893105,0.130483537912369,-0.082272559404373,0.074310392141342));
res += mul(Get(s3,0,0), float4x4(-0.033628206700087,0.208129674196243,0.039321701973677,0.042798213660717,-0.167048975825310,0.205275058746338,-0.036499392241240,0.069781430065632,-0.117437474429607,-0.013918598182499,0.080933555960655,-0.045606352388859,-0.103683814406395,0.052779719233513,-0.050704117864370,-0.002370321191847));
res += mul(Get(s3,0,dy), float4x4(0.053302403539419,-0.011458447203040,0.101484201848507,0.066836610436440,-0.137590989470482,-0.015177802182734,-0.139612287282944,-0.182655721902847,-0.217879220843315,0.026097431778908,-0.067158557474613,-0.015293648466468,0.087390333414078,-0.018962625414133,0.030480928719044,-0.049144759774208));
res += mul(Get(s3,dx,-dy), float4x4(0.030457165092230,-0.098801665008068,-0.025959733873606,-0.052489884197712,0.004423653706908,-0.156785532832146,0.106892526149750,-0.066802710294724,-0.021412363275886,-0.003686920041218,0.010106403380632,0.158137142658234,-0.036754921078682,0.051665406674147,-0.109953805804253,-0.010298783890903));
res += mul(Get(s3,dx,0), float4x4(-0.016797197982669,-0.059827215969563,-0.015423076227307,0.013334089890122,0.086289517581463,-0.089250043034554,-0.006048223003745,-0.068512924015522,-0.056095842272043,-0.086633585393429,-0.019784836098552,-0.055484630167484,0.078192077577114,0.013446328230202,0.094208888709545,-0.024281822144985));
res += mul(Get(s3,dx,dy), float4x4(0.014969119802117,0.010362130589783,0.007815793156624,-0.005892496556044,-0.043959140777588,0.042106550186872,0.008143733255565,-0.088223636150360,0.176894709467888,-0.021809810772538,0.157012298703194,0.073710754513741,0.098233468830585,0.035272225737572,0.035944100469351,0.145374149084091));
res = max(float4(0,0,0,0), res);
return res;
}
