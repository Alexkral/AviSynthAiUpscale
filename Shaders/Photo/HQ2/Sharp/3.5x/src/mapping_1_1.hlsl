sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.075667910277843,0.096302896738052,0.025833448395133,-0.142138734459877,-0.067132323980331,0.015024554915726,0.028292639181018,-0.071640603244305,-0.091753058135509,0.041229322552681,-0.017788773402572,0.040353987365961,-0.204433083534241,-0.044274590909481,0.085546389222145,-0.004200270865113));
res += mul(Get(s0,-dx,0), float4x4(-0.088146306574345,-0.174920395016670,0.035160969942808,-0.026994874700904,0.095822267234325,-0.196900501847267,-0.106113053858280,0.045899536460638,0.226237952709198,0.013673806563020,-0.183318465948105,0.076707288622856,-0.127150252461433,-0.111487850546837,-0.056218661367893,0.149282455444336));
res += mul(Get(s0,-dx,dy), float4x4(-0.097418628633022,-0.052039954811335,-0.204428985714912,0.060526743531227,-0.005014534574002,-0.197775512933731,0.026557026430964,-0.017534263432026,0.160938754677773,0.067232057452202,-0.092057667672634,0.012551022693515,0.029263699427247,-0.033569633960724,0.158717513084412,-0.044724375009537));
res += mul(Get(s0,0,-dy), float4x4(-0.050128094851971,-0.179585084319115,-0.151842236518860,0.033320032060146,-0.062643580138683,-0.036673411726952,-0.099470712244511,-0.104655653238297,0.026202153414488,0.054571840912104,0.035271961241961,0.047488361597061,0.034339234232903,0.056916985660791,-0.094752334058285,-0.000250506418524));
res += mul(Get(s0,0,0), float4x4(-0.175988450646400,0.107620038092136,-0.149286746978760,0.001758900820278,0.117958828806877,-0.094679325819016,0.104754686355591,0.013182324357331,-0.113906383514404,0.114482507109642,-0.013269870541990,0.048185329884291,0.039632286876440,0.072414100170135,0.017477845773101,0.080713398754597));
res += mul(Get(s0,0,dy), float4x4(0.088525123894215,0.087780997157097,0.019917685538530,-0.070015206933022,-0.021729571744800,0.037845600396395,-0.022295344620943,-0.068105354905128,-0.068392433226109,-0.036940153688192,-0.104829989373684,0.077080719172955,-0.011432022787631,-0.089061394333839,-0.133460551500320,0.013144871219993));
res += mul(Get(s0,dx,-dy), float4x4(0.053574208170176,0.007943268865347,0.100414194166660,0.017928352579474,-0.050546258687973,0.059033591300249,0.093621365725994,-0.079178221523762,-0.014747119508684,0.005954337771982,-0.088436231017113,0.007626298349351,0.016117690131068,-0.041335172951221,-0.063493773341179,0.123274713754654));
res += mul(Get(s0,dx,0), float4x4(0.004772684071213,0.019448954612017,-0.055258836597204,-0.161896884441376,-0.025301100686193,0.091969370841980,-0.073149725794792,0.071468003094196,0.063663139939308,0.136283218860626,-0.000468138809083,0.079084455966949,-0.041779667139053,0.012023667804897,-0.052061110734940,0.090738952159882));
res += mul(Get(s0,dx,dy), float4x4(0.004475377034396,-0.233575344085693,0.054210856556892,-0.104186452925205,-0.075665622949600,-0.048901513218880,0.027722349390388,-0.006825856398791,-0.114757858216763,-0.198891371488571,-0.100734025239944,-0.087626412510872,0.075638063251972,-0.025608945637941,0.035212554037571,0.025583935901523));
res += mul(Get(s1,-dx,-dy), float4x4(-0.115707769989967,0.026347842067480,0.082693152129650,-0.069477692246437,-0.005514569580555,-0.143066495656967,0.063643805682659,0.024586850777268,-0.019772036001086,0.011758481152356,0.023359864950180,0.008874370716512,-0.065058946609497,-0.012252477928996,-0.068265169858932,-0.102405644953251));
res += mul(Get(s1,-dx,0), float4x4(0.042324509471655,0.035163983702660,0.026357702910900,0.049094583839178,-0.016151031479239,0.015422078780830,-0.061246342957020,0.061761010438204,0.050155028700829,0.064744547009468,-0.024291370064020,0.047739140689373,0.007056195754558,-0.084870859980583,-0.076965488493443,-0.082649432122707));
res += mul(Get(s1,-dx,dy), float4x4(-0.073056958615780,-0.081473544239998,-0.032802589237690,-0.121809475123882,-0.015192344784737,-0.044696863740683,-0.053874805569649,0.035463601350784,0.013196718879044,-0.025601372122765,0.016705581918359,-0.120257876813412,0.009768127463758,-0.153780341148376,-0.158789768815041,-0.107067137956619));
res += mul(Get(s1,0,-dy), float4x4(-0.028128046542406,-0.014653367921710,0.071709804236889,0.022155174985528,-0.026394320651889,0.166737720370293,0.003689077217132,-0.110854580998421,-0.091084793210030,0.137708291411400,0.029065828770399,0.018824961036444,-0.038288094103336,0.136237218976021,0.061232119798660,-0.154068171977997));
res += mul(Get(s1,0,0), float4x4(0.050347533077002,-0.186386018991470,0.070126056671143,0.070278048515320,0.000213418636122,0.122343190014362,-0.041180510073900,-0.024309739470482,0.080661304295063,-0.033029161393642,-0.060482233762741,-0.025493083521724,0.159433722496033,-0.051053743809462,0.061221003532410,0.025321342051029));
res += mul(Get(s1,0,dy), float4x4(0.093619689345360,0.100480161607265,0.010389595292509,0.018086338415742,0.004501299466938,-0.200933590531349,-0.018690850585699,0.101464554667473,0.024977667257190,0.035602174699306,0.018731297925115,-0.084779165685177,-0.063873656094074,-0.006745573598891,-0.014252884313464,-0.143839448690414));
res += mul(Get(s1,dx,-dy), float4x4(-0.098037593066692,-0.054390300065279,0.050079818814993,0.077080227434635,0.072898924350739,0.031099325045943,0.044312130659819,-0.005800011102110,0.012307291850448,0.057082399725914,0.043920472264290,-0.016337046399713,-0.039734493941069,0.068232685327530,0.039259411394596,0.007013344205916));
res += mul(Get(s1,dx,0), float4x4(0.110591493546963,-0.104829758405685,0.036179471760988,0.177089065313339,0.132464781403542,-0.099426500499249,0.083067715167999,0.074263654649258,0.044518530368805,0.009643071331084,0.002397017320618,-0.168931022286415,-0.060395866632462,0.055832304060459,-0.018602132797241,0.040938749909401));
res += mul(Get(s1,dx,dy), float4x4(0.058319929987192,-0.021728629246354,-0.086744703352451,0.080707997083664,0.041281338781118,-0.017783679068089,-0.019747233018279,-0.087089411914349,0.023271633312106,0.077250964939594,0.148147657513618,-0.188724860548973,-0.101125963032246,-0.063582383096218,0.007001572288573,-0.037080504000187));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017360784113407,-0.042256485670805,0.009233789518476,0.009360002353787,-0.022652534767985,-0.013011342845857,-0.018779046833515,0.025333506986499,-0.044120240956545,-0.168405443429947,0.077554658055305,0.012124399654567,-0.002265888731927,0.067978926002979,0.004449361003935,0.092950701713562));
res += mul(Get(s2,-dx,0), float4x4(-0.024821206927299,-0.011259299702942,0.038450364023447,-0.034052841365337,-0.001457874313928,-0.130532443523407,-0.021188346669078,-0.026680426672101,-0.027843950316310,0.088146045804024,-0.163739636540413,-0.062288790941238,0.014593805186450,-0.077706597745419,-0.053255006670952,0.097205609083176));
res += mul(Get(s2,-dx,dy), float4x4(0.134303644299507,0.129699483513832,0.008702633902431,-0.129918068647385,0.033828128129244,0.013997348025441,0.042784206569195,-0.101758703589439,0.001374058541842,0.212262332439423,0.003946593031287,0.068252168595791,-0.137326374650002,0.027243606746197,-0.107284232974052,0.004669696092606));
res += mul(Get(s2,0,-dy), float4x4(-0.021944900974631,-0.075656600296497,0.244628727436066,-0.004472321830690,-0.020934017375112,-0.068086393177509,0.020444242283702,0.186475157737732,-0.264653146266937,0.074453517794609,-0.003781636245549,0.058638188987970,-0.006957502104342,-0.047216422855854,0.025688981637359,-0.118618987500668));
res += mul(Get(s2,0,0), float4x4(-0.093613013625145,0.070570513606071,-0.102389656007290,0.083605669438839,0.040202874690294,-0.008656935766339,0.054856430739164,-0.206563457846642,-0.039174765348434,-0.025326764211059,0.185185223817825,0.069124870002270,0.140096575021744,-0.024498168379068,-0.119059577584267,-0.036918040364981));
res += mul(Get(s2,0,dy), float4x4(0.140916049480438,0.027628343552351,-0.162660554051399,0.152576088905334,0.040715985000134,0.019092453643680,0.141065359115601,-0.035171996802092,0.109649293124676,0.044158287346363,-0.014834184199572,-0.025839246809483,0.008639958687127,-0.048268377780914,-0.091529868543148,-0.066828273236752));
res += mul(Get(s2,dx,-dy), float4x4(0.108507037162781,-0.019450211897492,-0.100010246038437,-0.039711423218250,-0.109688468277454,-0.046166792511940,0.091607511043549,-0.118433140218258,-0.093618415296078,-0.092982009053230,-0.044911824166775,0.087526813149452,0.004106140695512,-0.085757471621037,0.116873733699322,-0.063370943069458));
res += mul(Get(s2,dx,0), float4x4(-0.020438745617867,-0.092535518109798,-0.095955938100815,-0.142765611410141,-0.086047276854515,0.003335393732414,-0.121474258601665,-0.066791072487831,0.082012400031090,0.164051711559296,0.020202696323395,0.066226013004780,-0.065114855766296,-0.074953392148018,-0.036796674132347,0.047347683459520));
res += mul(Get(s2,dx,dy), float4x4(-0.131815895438194,-0.024899508804083,-0.037988476455212,0.014579778537154,-0.065960057079792,0.054787341505289,-0.210751011967659,0.030265631154180,0.030878063291311,0.081892281770706,0.021235754713416,0.225971072912216,-0.002730517415330,-0.018399426713586,-0.012342081405222,-0.048854082822800));
res += mul(Get(s3,-dx,-dy), float4x4(0.020366793498397,-0.148898839950562,0.077686451375484,-0.078479163348675,-0.145284205675125,-0.001746748574078,-0.034850593656301,-0.010432966984808,0.028785279020667,0.013626432977617,0.015518068335950,0.092005871236324,-0.004815308377147,-0.005596385337412,0.061937224119902,0.005226980894804));
res += mul(Get(s3,-dx,0), float4x4(0.037374667823315,0.052051302045584,-0.028758961707354,-0.035954821854830,-0.050920132547617,0.086019501090050,-0.046814098954201,-0.103876717388630,0.095093615353107,0.071823462843895,0.085177876055241,-0.019894190132618,0.079946562647820,0.053641140460968,0.124234206974506,-0.036085031926632));
res += mul(Get(s3,-dx,dy), float4x4(-0.032805774360895,-0.010100815445185,0.089896775782108,-0.014121704734862,-0.022237863391638,-0.065312653779984,-0.041896797716618,-0.122531086206436,0.088372983038425,-0.025672923773527,-0.036323793232441,-0.014258816838264,0.052171383053064,0.009591354057193,-0.140787586569786,-0.032290775328875));
res += mul(Get(s3,0,-dy), float4x4(-0.020725462585688,0.062429644167423,-0.031559035181999,0.033127196133137,0.036992948502302,0.125838294625282,0.047822281718254,0.015442470088601,-0.057059392333031,-0.047453772276640,-0.038459360599518,0.060635883361101,0.030746452510357,0.159183561801910,0.090276546776295,-0.119412846863270));
res += mul(Get(s3,0,0), float4x4(0.177558034658432,0.027575828135014,0.085677735507488,-0.084391884505749,-0.147178485989571,0.081025883555412,-0.059490371495485,-0.044138431549072,0.022541787475348,-0.027087954804301,0.175781920552254,0.048809062689543,0.109794266521931,0.027410332113504,0.127812549471855,0.068402692675591));
res += mul(Get(s3,0,dy), float4x4(-0.198161438107491,0.044000852853060,0.054513107985258,0.027594683691859,0.042375952005386,0.155995219945908,0.074622869491577,0.036859288811684,-0.082805231213570,-0.096233859658241,0.083437949419022,-0.098296210169792,0.081618346273899,0.158269539475441,0.004060891922563,0.038556709885597));
res += mul(Get(s3,dx,-dy), float4x4(0.195540294051170,-0.129928335547447,-0.019281877204776,0.006792907603085,-0.107287406921387,0.006793278269470,-0.047315441071987,-0.074431426823139,-0.115938954055309,-0.043212406337261,-0.037887595593929,-0.134504780173302,0.021038914099336,-0.063455320894718,0.153222337365150,-0.007804476656020));
res += mul(Get(s3,dx,0), float4x4(0.029525805264711,-0.089224196970463,-0.079679898917675,0.116101101040840,0.004844642244279,-0.058718297630548,0.084941335022449,0.179795145988464,0.081082090735435,-0.015766970813274,0.056931950151920,-0.096331812441349,-0.060565162450075,0.046220850199461,0.013635111041367,0.089605897665024));
res += mul(Get(s3,dx,dy), float4x4(0.087715148925781,-0.039258100092411,-0.092293031513691,-0.018932556733489,0.057166267186403,-0.138649731874466,-0.046147003769875,0.014323447830975,0.000007811738215,0.004029179923236,-0.031601700931787,-0.124221593141556,-0.057155501097441,-0.022826211526990,-0.108561433851719,-0.076677553355694));
res = max(float4(0,0,0,0), res);
return res;
}
