sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.092605687677860,0.034568559378386,0.013616579584777,0.025940082967281,0.044839926064014,0.066273875534534,0.202622652053833,-0.006840595044196,0.033883839845657,-0.036834578961134,-0.079027414321899,0.014248997904360,0.073180422186852,-0.055891554802656,0.089460507035255,-0.000945594394580));
res += mul(Get(s0,-dx,0), float4x4(-0.162571847438812,-0.021072005853057,0.055224321782589,-0.150314629077911,0.064182370901108,-0.044075649231672,-0.042172614485025,-0.100771382451057,-0.025118289515376,-0.090861693024635,0.092690035700798,0.107232064008713,-0.228155031800270,0.050476644188166,0.015731271356344,-0.239718154072762));
res += mul(Get(s0,-dx,dy), float4x4(-0.042168218642473,0.006903860718012,-0.009591353125870,0.192525953054428,-0.025186859071255,-0.009554243646562,-0.103388093411922,0.064609497785568,0.100284494459629,-0.058334290981293,-0.079511173069477,-0.009227084927261,0.007859103381634,0.001972678350285,-0.073512181639671,-0.019427940249443));
res += mul(Get(s0,0,-dy), float4x4(-0.166887849569321,-0.274828284978867,0.020312827080488,-0.079899519681931,-0.128791660070419,-0.040500320494175,-0.004392137285322,-0.085286527872086,-0.041684783995152,-0.149276584386826,0.121927015483379,0.040728263556957,0.022475674748421,-0.002973598428071,-0.173098996281624,-0.144633114337921));
res += mul(Get(s0,0,0), float4x4(-0.157513529062271,-0.050441972911358,0.040636248886585,-0.114746324717999,-0.038027957081795,-0.016605224460363,-0.058981634676456,-0.089575916528702,0.036560524255037,0.073839031159878,-0.031027782708406,-0.144157484173775,0.036877151578665,0.007450382690877,-0.092595830559731,0.006874898448586));
res += mul(Get(s0,0,dy), float4x4(-0.098527833819389,0.190203145146370,0.049815170466900,-0.084243103861809,-0.004170012194663,0.076094694435596,-0.108348831534386,0.190246015787125,0.088451907038689,-0.002584451576695,-0.075293853878975,-0.109557338058949,-0.011718409135938,0.072414509952068,0.013729612343013,-0.000458641297882));
res += mul(Get(s0,dx,-dy), float4x4(0.235720530152321,-0.069115415215492,-0.048687580972910,-0.086044184863567,-0.152449756860733,-0.080381125211716,-0.105911307036877,-0.009326771833003,0.020876454189420,-0.010542307980359,0.104750141501427,0.069560863077641,0.098173834383488,-0.062878347933292,0.085342004895210,-0.156555324792862));
res += mul(Get(s0,dx,0), float4x4(0.181295976042747,-0.153841108083725,-0.032520342618227,0.094012461602688,0.014845095574856,0.095820911228657,0.132135778665543,0.099948920309544,-0.038096647709608,-0.014358820393682,-0.051756214350462,-0.030520008876920,0.135225176811218,-0.076320938766003,-0.006888261064887,-0.023084500804543));
res += mul(Get(s0,dx,dy), float4x4(0.179439678788185,0.178319290280342,-0.071570523083210,-0.073484331369400,-0.009396427311003,-0.078950442373753,0.003113959683105,0.093825139105320,0.058381151407957,-0.065197244286537,-0.007097076624632,-0.041302390396595,0.187007993459702,0.039956975728273,0.017379691824317,-0.003837434574962));
res += mul(Get(s1,-dx,-dy), float4x4(0.104641914367676,-0.082701519131660,0.027799801900983,0.043554481118917,0.081963539123535,-0.021930450573564,-0.009022135287523,-0.043283943086863,-0.057884134352207,0.024094002321362,0.047584023326635,0.148114204406738,0.076732821762562,-0.027415337041020,-0.031997378915548,-0.035873740911484));
res += mul(Get(s1,-dx,0), float4x4(0.011417579837143,0.098177604377270,0.124074466526508,-0.048378456383944,0.044448640197515,0.002847990021110,-0.120152547955513,0.053112506866455,0.059181645512581,-0.111106261610985,-0.078985989093781,-0.030199348926544,-0.051632177084684,0.054055992513895,0.064207009971142,0.068741604685783));
res += mul(Get(s1,-dx,dy), float4x4(-0.075052626430988,-0.089542254805565,0.131255403161049,-0.112233124673367,0.034264635294676,0.101259648799896,-0.056773412972689,-0.019781270995736,0.201620146632195,-0.003795453114435,0.021904995664954,-0.156578823924065,-0.068232670426369,-0.012039875611663,-0.044679775834084,0.074850305914879));
res += mul(Get(s1,0,-dy), float4x4(0.024853510782123,0.082796640694141,-0.036507554352283,-0.001243970589712,0.083818152546883,-0.081489108502865,-0.080401390790939,0.046110920608044,-0.007523536682129,0.059158921241760,0.225355297327042,-0.024032805114985,0.049467645585537,-0.046109754592180,0.156784579157829,-0.011517195962369));
res += mul(Get(s1,0,0), float4x4(0.065706804394722,0.134944111108780,0.007279839832336,0.048152714967728,-0.024035258218646,-0.035619113594294,0.019018728286028,0.079227171838284,-0.032162714749575,0.073689416050911,-0.025600237771869,0.012063132598996,0.040684573352337,0.127505570650101,0.091944418847561,-0.044246543198824));
res += mul(Get(s1,0,dy), float4x4(-0.011499783955514,-0.109651230275631,0.055402081459761,0.034360878169537,0.006615004502237,0.302208065986633,-0.029114533215761,0.012982959859073,0.132897049188614,0.136139497160912,0.023250937461853,-0.178416699171066,-0.136916577816010,-0.004246768075973,-0.060032863169909,0.025961047038436));
res += mul(Get(s1,dx,-dy), float4x4(0.151351884007454,0.089607693254948,0.106797829270363,0.060464307665825,0.043022885918617,0.079965472221375,0.061995089054108,-0.026032527908683,-0.082937747240067,0.106665708124638,0.101117521524429,0.116893231868744,-0.124742306768894,-0.135494813323021,0.163403555750847,0.153829455375671));
res += mul(Get(s1,dx,0), float4x4(-0.033529393374920,0.038637362420559,0.007602791301906,-0.075174525380135,-0.052195250988007,0.067551068961620,0.005093786399812,-0.003638679161668,-0.025480153039098,0.065772123634815,-0.085200130939484,0.120945535600185,-0.077634967863560,-0.175134196877480,-0.034024190157652,-0.128761634230614));
res += mul(Get(s1,dx,dy), float4x4(-0.053826011717319,0.003382127499208,-0.044396933168173,-0.062908977270126,0.029125953093171,0.093590214848518,-0.118344761431217,0.156492054462433,0.010106603614986,-0.028091236948967,0.102044880390167,-0.008052360266447,0.030404146760702,0.025233304128051,0.067191921174526,0.138326779007912));
res += mul(Get(s2,-dx,-dy), float4x4(0.024502744898200,-0.034477159380913,0.009765948168933,-0.154366984963417,0.130214974284172,0.003434025682509,-0.125263363122940,-0.005545566789806,-0.147183284163475,0.014124729670584,-0.100274540483952,0.002390659414232,-0.138442471623421,0.085446588695049,0.201719224452972,0.003154137171805));
res += mul(Get(s2,-dx,0), float4x4(0.033090133219957,-0.024587810039520,-0.002470086794347,-0.065816141664982,0.009918289259076,-0.018203863874078,-0.004396147094667,0.061030976474285,-0.128148391842842,-0.112842716276646,-0.098848827183247,-0.008265832439065,0.069225408136845,0.037253729999065,0.106078013777733,-0.015306210145354));
res += mul(Get(s2,-dx,dy), float4x4(-0.100340075790882,0.001328963320702,0.171123370528221,0.066767379641533,0.068373374640942,0.121161304414272,-0.055133298039436,0.217688471078873,-0.014739435166121,-0.095016159117222,0.003971327096224,0.067175909876823,-0.018007898703218,-0.111296676099300,0.043652165681124,-0.017360161989927));
res += mul(Get(s2,0,-dy), float4x4(-0.186084926128387,0.005660902708769,-0.132831543684006,0.097261399030685,-0.194216594099998,0.133614942431450,0.078573271632195,0.061442837119102,-0.063469342887402,-0.040375385433435,-0.168745383620262,0.026904258877039,-0.065316163003445,0.007170854602009,0.066038474440575,-0.025727525353432));
res += mul(Get(s2,0,0), float4x4(0.025385605171323,-0.083325237035751,-0.135625109076500,-0.070029132068157,-0.082786545157433,0.028486501425505,-0.063126631081104,0.056019499897957,-0.058219045400620,0.058558613061905,0.079735219478607,-0.033792551606894,-0.004769254941493,0.061471596360207,0.104592785239220,0.113590203225613));
res += mul(Get(s2,0,dy), float4x4(-0.024353126063943,0.009418538771570,0.062504358589649,-0.007831647992134,-0.042779400944710,-0.029282031580806,0.063268728554249,0.093569397926331,0.096313610672951,-0.009173693135381,0.128848746418953,-0.091468468308449,0.045407947152853,-0.046627357602119,-0.001734059187584,0.091234728693962));
res += mul(Get(s2,dx,-dy), float4x4(-0.006241439376026,-0.185418426990509,-0.184539005160332,-0.070397451519966,0.036444012075663,0.038147971034050,-0.080003388226032,0.031041951850057,-0.018514575436711,-0.143855214118958,0.043998163193464,0.058354735374451,0.094358757138252,-0.063559837639332,-0.015324656851590,-0.037740394473076));
res += mul(Get(s2,dx,0), float4x4(-0.038406841456890,-0.079734347760677,0.060786046087742,-0.133882641792297,0.084901586174965,0.102049402892590,0.057988367974758,-0.075256034731865,0.081783719360828,0.108983516693115,-0.107213735580444,0.083681583404541,0.027941927313805,0.021159758791327,-0.027905182912946,0.055424962192774));
res += mul(Get(s2,dx,dy), float4x4(-0.040858585387468,-0.035153977572918,0.105046041309834,0.098295852541924,0.199019759893417,0.130053073167801,0.007286769337952,0.065727144479752,0.009162720292807,-0.025804461911321,0.018088057637215,0.033338699489832,-0.116855271160603,-0.085109010338783,0.000863076944370,-0.054066758602858));
res += mul(Get(s3,-dx,-dy), float4x4(0.066779986023903,-0.007902388460934,-0.029576109722257,-0.048807621002197,-0.059833955019712,-0.043320998549461,-0.029372230172157,0.014695783145726,0.113829068839550,-0.019447544589639,0.147996827960014,0.075551122426987,-0.064546898007393,-0.004376104101539,0.076466500759125,0.035164821892977));
res += mul(Get(s3,-dx,0), float4x4(-0.011600837111473,0.158749610185623,-0.072934627532959,0.015594708733261,0.090587086975574,0.079562120139599,0.053856715559959,-0.000121957011288,0.056972719728947,0.053713612258434,-0.023365905508399,-0.111720629036427,-0.167355597019196,0.037001583725214,0.082039393484592,-0.067112624645233));
res += mul(Get(s3,-dx,dy), float4x4(0.171150401234627,0.001916287117638,-0.073376931250095,0.037904907017946,-0.053084086626768,-0.181811347603798,0.103212416172028,0.025752520188689,0.017039785161614,0.103474944829941,-0.047395799309015,0.145387649536133,-0.131225064396858,-0.064901761710644,0.061898395419121,0.034457080066204));
res += mul(Get(s3,0,-dy), float4x4(0.030837936326861,0.033382404595613,0.040029272437096,-0.052149873226881,-0.006300829350948,0.037488952279091,-0.025013105943799,0.050630852580070,0.173048034310341,-0.067571252584457,0.081946752965450,-0.030459715053439,0.000123219942907,-0.098086066544056,0.100338749587536,-0.089540608227253));
res += mul(Get(s3,0,0), float4x4(0.023013163357973,-0.040232013911009,-0.058649960905313,-0.129145279526711,0.125910609960556,-0.047315068542957,0.062786534428596,-0.049841102212667,0.198039293289185,-0.194946452975273,-0.000652858812828,-0.006143353413790,-0.053943898528814,-0.023047570139170,-0.001588983926922,0.027068017050624));
res += mul(Get(s3,0,dy), float4x4(-0.061766818165779,-0.119867593050003,-0.075997613370419,0.057604160159826,-0.041446022689342,0.075552895665169,0.248673126101494,0.029618205502629,-0.006185905076563,0.008354554884136,-0.064752228558064,0.088188126683235,0.104549452662468,-0.149271681904793,0.037007685750723,-0.048359703272581));
res += mul(Get(s3,dx,-dy), float4x4(-0.068021945655346,-0.059851866215467,-0.135419845581055,-0.031249754130840,-0.020959027111530,0.009007094427943,-0.030723590403795,0.053430154919624,-0.108803980052471,0.026461325585842,-0.164817690849304,-0.110388897359371,-0.164321199059486,0.028009222820401,0.006854258477688,0.017416534945369));
res += mul(Get(s3,dx,0), float4x4(-0.076171375811100,-0.059374283999205,-0.136275947093964,0.005090496502817,0.049710538238287,0.138098567724228,0.039137903600931,0.028826752677560,-0.067096449434757,0.126657724380493,-0.103069104254246,0.031712185591459,-0.087891735136509,-0.092237591743469,0.043039612472057,-0.066744245588779));
res += mul(Get(s3,dx,dy), float4x4(-0.119970537722111,0.027637295424938,0.056284889578819,0.037607874721289,0.015934336930513,-0.040250990539789,-0.025790313258767,-0.132916614413261,-0.026742039248347,-0.017731495201588,-0.041612640023232,0.042311429977417,0.024170845746994,-0.129192039370537,-0.015816237777472,0.032153978943825));
res = max(float4(0,0,0,0), res);
return res;
}
