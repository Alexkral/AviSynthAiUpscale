sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.107346728444099,-0.001043348922394,-0.018109396100044,-0.050612211227417,-0.006084252614528,-0.041606597602367,0.000179631198989,-0.134231686592102,0.056967072188854,-0.001218915451318,0.072806857526302,-0.104458905756474,0.044638093560934,-0.050704691559076,-0.059010777622461,-0.074991710484028));
res += mul(Get(s0,-dx,0), float4x4(-0.101946249604225,0.047167751938105,-0.071917042136192,-0.084420338273048,0.017320096492767,0.063032723963261,0.090980462729931,-0.048127744346857,-0.068210795521736,-0.104675479233265,-0.139931917190552,0.088469199836254,-0.056484527885914,0.014874134212732,0.078914120793343,0.063843809068203));
res += mul(Get(s0,-dx,dy), float4x4(0.053804364055395,0.089198589324951,-0.004785592202097,0.036334943026304,0.080441430211067,-0.000055556196457,0.073882631957531,-0.049513373523951,0.032592613250017,0.030771901831031,-0.067611090838909,-0.067797951400280,-0.190329685807228,-0.114520937204361,-0.102910228073597,-0.030163260176778));
res += mul(Get(s0,0,-dy), float4x4(-0.038289688527584,0.009318890981376,-0.105013951659203,-0.011813496239483,0.026242101565003,-0.055782105773687,-0.029276994988322,-0.056967724114656,-0.028479570522904,0.036487281322479,0.121368244290352,-0.039484389126301,-0.004356088116765,0.127790331840515,0.074178710579872,0.062071379274130));
res += mul(Get(s0,0,0), float4x4(0.017585704103112,0.000770550454035,0.051435098052025,0.004274629056454,0.037969861179590,-0.045779526233673,-0.061672251671553,0.106783382594585,-0.053671665489674,0.102148436009884,-0.084836594760418,-0.188311636447906,-0.049955271184444,0.111036486923695,-0.172299072146416,-0.116678714752197));
res += mul(Get(s0,0,dy), float4x4(0.066186815500259,-0.027174321934581,0.072495408356190,-0.015372991561890,0.049392435699701,-0.039015315473080,-0.052557203918695,0.086453229188919,0.089665770530701,-0.101258866488934,0.050103478133678,0.096527807414532,0.033212039619684,0.019422199577093,0.043801497668028,-0.015823053196073));
res += mul(Get(s0,dx,-dy), float4x4(-0.055402506142855,0.010650256648660,-0.007878651842475,-0.010401505045593,-0.000084481027443,-0.135100945830345,-0.038785684853792,-0.092180877923965,-0.028404906392097,-0.069229744374752,0.026911927387118,-0.142705395817757,-0.099211864173412,-0.063699699938297,-0.042312800884247,-0.172614425420761));
res += mul(Get(s0,dx,0), float4x4(0.039054129272699,-0.047612372785807,-0.030655851587653,0.150481104850769,-0.083860024809837,-0.029676023870707,0.095374219119549,0.150681018829346,-0.021204883232713,-0.071200892329216,-0.028955824673176,-0.120080791413784,0.019266564399004,-0.001028885948472,0.065188162028790,0.047380097210407));
res += mul(Get(s0,dx,dy), float4x4(-0.006765752565116,0.005888482090086,-0.114626266062260,0.125925555825233,-0.095488466322422,0.043116781860590,0.123763121664524,0.083657294511795,-0.077817574143410,-0.007110710255802,-0.016566587612033,0.054142855107784,0.070918284356594,-0.084600180387497,0.079419158399105,-0.007505362853408));
res += mul(Get(s1,-dx,-dy), float4x4(0.020076358690858,0.031347185373306,0.065510235726833,-0.122219018638134,0.035944949835539,0.078915007412434,-0.029519980773330,0.065840281546116,0.073521047830582,-0.025786262005568,0.021401708945632,0.105103507637978,-0.009710293263197,-0.096720121800900,0.032440777868032,0.138146728277206));
res += mul(Get(s1,-dx,0), float4x4(0.015698477625847,-0.003200138919055,0.066241353750229,-0.063521295785904,0.041652686893940,-0.040175221860409,-0.052695013582706,0.021817766129971,0.036106504499912,0.094616621732712,-0.001490323222242,0.011239288374782,-0.004769528750330,-0.000378512253519,-0.117988415062428,0.136046588420868));
res += mul(Get(s1,-dx,dy), float4x4(-0.086828544735909,-0.048157654702663,-0.002331305295229,0.129159912467003,0.147613570094109,-0.151845932006836,0.042975842952728,0.157417282462120,-0.016640763729811,0.160067692399025,-0.084605768322945,-0.181540369987488,-0.082704298198223,-0.029477719217539,0.070710070431232,-0.023001868277788));
res += mul(Get(s1,0,-dy), float4x4(0.093226477503777,0.047332007437944,-0.019424317404628,-0.056183416396379,0.064925640821457,0.048109117895365,-0.133303284645081,0.011404697783291,0.039559829980135,-0.050436481833458,-0.037793599069118,0.026247860863805,-0.002673181472346,-0.166225284337997,0.091287046670914,-0.030131474137306));
res += mul(Get(s1,0,0), float4x4(-0.084161058068275,0.055033378303051,0.095270060002804,-0.073210880160332,0.016394920647144,-0.081562481820583,0.176668807864189,0.266971886157990,-0.054751969873905,-0.118196465075016,-0.068930625915527,-0.076070845127106,0.121890559792519,-0.095761060714722,-0.036758244037628,0.035980455577374));
res += mul(Get(s1,0,dy), float4x4(-0.112727008759975,0.018230266869068,0.120740100741386,0.021435629576445,-0.055655244737864,0.030923143029213,0.125383228063583,-0.032576702535152,0.024822877719998,0.032406743615866,0.014384579844773,-0.024613216519356,-0.028976084664464,-0.151179820299149,0.070920296013355,-0.048755619674921));
res += mul(Get(s1,dx,-dy), float4x4(0.106247074902058,0.013707287609577,-0.087052054703236,-0.075157791376114,-0.062943607568741,0.050824820995331,-0.014176122844219,-0.026088137179613,-0.046400211751461,-0.153672024607658,-0.039248734712601,-0.010203674435616,-0.020448600873351,-0.021242285147309,0.110207162797451,-0.090077035129070));
res += mul(Get(s1,dx,0), float4x4(-0.078248292207718,0.028887076303363,0.029153384268284,-0.020412934944034,-0.049353353679180,0.064607590436935,-0.081830888986588,0.053447946906090,0.051829367876053,-0.091403037309647,-0.167727380990982,-0.014875825494528,-0.008135294541717,0.030346324667335,0.045314043760300,-0.076655671000481));
res += mul(Get(s1,dx,dy), float4x4(-0.026271963492036,0.133679300546646,0.083725206553936,0.180371508002281,-0.096827097237110,-0.049998808652163,-0.017613219097257,0.106577828526497,-0.104867741465569,-0.005746372044086,0.087619304656982,0.027422325685620,0.014845399186015,0.123268969357014,0.053636614233255,0.047367010265589));
res += mul(Get(s2,-dx,-dy), float4x4(0.049739822745323,0.014206505380571,0.029254734516144,-0.154562056064606,0.102790348231792,-0.016755620017648,0.005510244518518,0.044777151197195,-0.025493863970041,0.046015542000532,0.150018915534019,-0.094182088971138,-0.028821863234043,-0.032609347254038,-0.110956914722919,-0.031252041459084));
res += mul(Get(s2,-dx,0), float4x4(0.057321187108755,-0.017482521012425,-0.020304827019572,-0.033559925854206,0.002902025124058,-0.073608599603176,0.004943497013301,0.037570994347334,0.033922951668501,-0.101398542523384,-0.048052873462439,0.176714241504669,0.076850794255733,-0.033989340066910,-0.031474445015192,0.008680390194058));
res += mul(Get(s2,-dx,dy), float4x4(-0.119777493178844,-0.034300722181797,-0.002504666801542,0.013079626485705,0.096021413803101,-0.027854410931468,0.020094403997064,-0.037170168012381,-0.040102157741785,-0.073049820959568,0.004008785355836,-0.186229869723320,-0.058851297944784,-0.028135636821389,0.133473515510559,-0.071662768721581));
res += mul(Get(s2,0,-dy), float4x4(-0.010848158039153,0.123119406402111,0.043493855744600,0.062169581651688,-0.136411935091019,0.055964507162571,0.046964637935162,-0.079977780580521,0.020220082253218,-0.045161239802837,0.099633023142815,-0.087114721536636,-0.053457506000996,0.105700008571148,0.061616588383913,0.040160797536373));
res += mul(Get(s2,0,0), float4x4(0.047541167587042,0.044545978307724,-0.004530675709248,-0.145106539130211,-0.032456126064062,0.010035070590675,0.067360498011112,-0.029910948127508,0.043478365987539,-0.135621428489685,-0.013706106692553,0.111363157629967,0.000003460401558,0.107921607792377,-0.001263004029170,-0.043466176837683));
res += mul(Get(s2,0,dy), float4x4(0.120521940290928,0.103298239409924,0.044303402304649,-0.011538718827069,0.006358872167766,-0.058941651135683,0.101922012865543,0.028717037290335,0.002834490966052,-0.055956088006496,0.057065963745117,0.061737135052681,-0.008772352710366,-0.069080740213394,-0.091843254864216,-0.001140968059190));
res += mul(Get(s2,dx,-dy), float4x4(-0.062867715954781,-0.028002893552184,-0.011036866344512,-0.001603900920600,-0.039596442133188,-0.114205166697502,-0.077186524868011,0.062441319227219,-0.008208584971726,-0.108608342707157,-0.027151420712471,0.214364677667618,0.022235307842493,-0.060174558311701,-0.070953369140625,0.094313867390156));
res += mul(Get(s2,dx,0), float4x4(0.066525354981422,-0.015982253476977,0.033960264176130,0.023297376930714,0.082062065601349,0.055998474359512,-0.060988780111074,-0.108453392982483,-0.014829184859991,0.028965497389436,-0.071760714054108,-0.166184857487679,0.070076964795589,-0.048251602798700,0.177484348416328,-0.027456523850560));
res += mul(Get(s2,dx,dy), float4x4(-0.059295125305653,0.190976783633232,0.019974794238806,-0.034541428089142,0.006277081556618,-0.036908540874720,0.107107259333134,0.064315222203732,0.048959486186504,-0.037971880286932,-0.058348271995783,0.117986589670181,-0.081378772854805,-0.066815741360188,0.085359662771225,-0.126021429896355));
res += mul(Get(s3,-dx,-dy), float4x4(0.004136256407946,-0.013686871156096,-0.046724323183298,-0.006748178973794,0.080049633979797,0.126569017767906,0.012036950327456,0.062056250870228,0.036845609545708,0.061516247689724,0.003676550695673,0.012049458920956,-0.092915967106819,0.062090467661619,0.022100996226072,-0.085267938673496));
res += mul(Get(s3,-dx,0), float4x4(-0.048894342035055,0.061153423041105,0.016525307670236,0.039071526378393,0.026747833937407,-0.030126348137856,0.013278787024319,-0.066070802509785,-0.046658217906952,-0.016072630882263,0.009568038396537,0.116885423660278,-0.119715288281441,-0.074990682303905,-0.082216098904610,0.012954578734934));
res += mul(Get(s3,-dx,dy), float4x4(0.080766722559929,0.206886693835258,-0.013401052914560,-0.004003121517599,0.009089134633541,-0.028047354891896,-0.037101697176695,-0.015635032206774,-0.198803916573524,-0.034723736345768,-0.178200066089630,0.040765456855297,0.084027446806431,-0.074622362852097,-0.096377894282341,0.070481747388840));
res += mul(Get(s3,0,-dy), float4x4(0.034847263246775,0.069447048008442,0.014128955081105,0.115020923316479,-0.054873071610928,-0.104851216077805,0.033409263938665,0.059051055461168,-0.149491801857948,-0.032823648303747,0.084028840065002,-0.019465217366815,-0.003641325980425,-0.102044768631458,-0.135936185717583,-0.089992381632328));
res += mul(Get(s3,0,0), float4x4(0.041051924228668,-0.049965362995863,0.011099325492978,-0.012256841175258,0.049270298331976,0.051767278462648,-0.056670453399420,0.120432488620281,0.081697084009647,0.070093952119350,0.155180424451828,-0.017443535849452,-0.012177847325802,-0.141177102923393,0.145640671253204,0.073433265089989));
res += mul(Get(s3,0,dy), float4x4(0.130200043320656,0.017066450789571,-0.042097650468349,-0.199587866663933,0.009168595075607,0.044039070606232,0.033379424363375,-0.126302704215050,0.059903413057327,-0.016753612086177,0.082168586552143,-0.105294756591320,0.026673287153244,-0.072661243379116,0.171134412288666,0.061149116605520));
res += mul(Get(s3,dx,-dy), float4x4(-0.034989878535271,-0.030736725777388,0.033918820321560,0.219743609428406,0.039221338927746,0.015025678090751,0.039385892450809,-0.059311892837286,0.057236183434725,-0.085717901587486,-0.003227556589991,-0.124825552105904,-0.050377581268549,0.159096449613571,-0.064316175878048,-0.111029051244259));
res += mul(Get(s3,dx,0), float4x4(-0.084473326802254,0.006466048303992,-0.135580509901047,-0.004479547962546,0.127213358879089,0.135876193642616,0.052759230136871,-0.003374565625563,-0.029904408380389,-0.136770799756050,-0.036418586969376,0.065785251557827,0.020006077364087,-0.069234386086464,0.008677693083882,0.095699921250343));
res += mul(Get(s3,dx,dy), float4x4(0.049139302223921,0.006468678358942,0.033761173486710,-0.092781938612461,0.105532653629780,0.047618325799704,0.181167274713516,-0.049161065369844,-0.029342425987124,0.007368329912424,0.092873468995094,-0.063477903604507,0.063140831887722,-0.108828358352184,0.060592219233513,0.099353902041912));
res = max(float4(0,0,0,0), res);
return res;
}
