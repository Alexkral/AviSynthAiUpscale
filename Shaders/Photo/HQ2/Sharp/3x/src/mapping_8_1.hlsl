sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.037395447492599,0.019906060770154,-0.081547163426876,-0.002301715314388,-0.044912226498127,-0.057017341256142,0.006077118217945,0.038332629948854,-0.043078020215034,0.044098068028688,0.038718070834875,-0.054840143769979,0.155237719416618,-0.061883270740509,-0.069269776344299,-0.011760788038373));
res += mul(Get(s0,-dx,0), float4x4(0.018928382545710,-0.112321242690086,0.070738337934017,-0.007212411612272,-0.073677808046341,-0.007310036569834,0.116632543504238,0.093286283314228,-0.061279006302357,-0.062312010675669,0.062196783721447,-0.031244423240423,0.188432961702347,-0.110110342502594,0.096518240869045,0.000248692434980));
res += mul(Get(s0,-dx,dy), float4x4(-0.058513250201941,-0.015613808296621,-0.106618054211140,0.004785539582372,-0.028389357030392,0.100671820342541,-0.054468080401421,0.018075240775943,-0.087734825909138,-0.007692237384617,-0.057745214551687,-0.072692483663559,0.014637779444456,-0.032982248812914,-0.060274865478277,-0.047790106385946));
res += mul(Get(s0,0,-dy), float4x4(0.093401476740837,0.107067130506039,-0.182366803288460,-0.027891226112843,-0.008230288513005,0.045779936015606,0.077639713883400,0.076467253267765,-0.004975388757885,-0.134752348065376,-0.011910580098629,-0.006259724032134,0.035981725901365,0.156180799007416,0.109955713152885,0.103895835578442));
res += mul(Get(s0,0,0), float4x4(-0.081203542649746,0.104543834924698,-0.041194465011358,-0.040694415569305,-0.021476326510310,0.019539531320333,0.065058089792728,-0.104828126728535,0.119048491120338,0.039827287197113,-0.147395864129066,0.044466461986303,-0.147046148777008,0.097611926496029,-0.031955964863300,0.024642329663038));
res += mul(Get(s0,0,dy), float4x4(0.009997781366110,-0.032696682959795,-0.079175978899002,-0.057710044085979,-0.024066761136055,-0.032537378370762,0.037644691765308,0.074644058942795,0.002529513323680,0.105371043086052,-0.035720974206924,0.031797461211681,-0.011132714338601,0.023979043588042,-0.019314510747790,-0.063596040010452));
res += mul(Get(s0,dx,-dy), float4x4(0.100334905087948,-0.032101482152939,0.054906856268644,0.060294732451439,0.086952693760395,0.031959008425474,0.060913037508726,-0.100544989109039,-0.082764871418476,-0.106852360069752,-0.007035238668323,0.047089815139771,0.040793217718601,0.032464865595102,0.064777143299580,-0.032097417861223));
res += mul(Get(s0,dx,0), float4x4(0.003317158436403,-0.068347938358784,0.087139494717121,0.097820088267326,-0.030848836526275,-0.018258972093463,-0.034845814108849,-0.018923312425613,0.138274192810059,-0.003633399493992,0.003526077140123,0.003794413525611,-0.038419559597969,0.099205031991005,-0.014254359528422,0.091716185212135));
res += mul(Get(s0,dx,dy), float4x4(0.056649528443813,-0.044576480984688,-0.014431945979595,0.018124552443624,-0.132648095488548,0.032462529838085,0.020158424973488,-0.032752718776464,0.030733101069927,-0.039539247751236,0.131576284766197,0.040786139667034,0.020268226042390,0.056935258209705,0.059658780694008,-0.086023963987827));
res += mul(Get(s1,-dx,-dy), float4x4(0.033892706036568,-0.061261013150215,-0.044173263013363,-0.036895941942930,0.018334323540330,0.050451878458261,-0.116133436560631,-0.030361087992787,-0.051856718957424,0.185249567031860,0.012513200752437,-0.053965128958225,0.049580745398998,-0.074246235191822,0.039619036018848,-0.187750414013863));
res += mul(Get(s1,-dx,0), float4x4(0.052180785685778,-0.038514815270901,-0.009878198616207,0.025093708187342,0.043937537819147,0.009214485995471,0.031668014824390,-0.054219897836447,0.106925338506699,0.110223032534122,-0.099539801478386,-0.009066043421626,0.247902646660805,-0.032057911157608,0.130121782422066,0.010712088085711));
res += mul(Get(s1,-dx,dy), float4x4(0.130691245198250,-0.018369879573584,-0.136594608426094,0.000524309754837,-0.066360570490360,0.075370647013187,0.009370160289109,0.036875851452351,-0.044807400554419,0.051224004477262,0.010002375580370,-0.067899927496910,0.107303239405155,-0.129105433821678,-0.046996634453535,-0.108372457325459));
res += mul(Get(s1,0,-dy), float4x4(0.015392730943859,0.045928794890642,-0.013273514807224,0.028861578553915,-0.006477265153080,-0.053964722901583,0.059691689908504,-0.087370648980141,-0.051932696253061,-0.021473171189427,0.052685968577862,0.062903665006161,0.145659744739532,-0.029990332201123,0.017891274765134,0.012241440825164));
res += mul(Get(s1,0,0), float4x4(0.020314317196608,0.095351248979568,-0.017203884199262,0.028100816532969,0.115674845874310,-0.011051848530769,0.003256216645241,0.095241189002991,0.230524674057961,0.044882830232382,0.019930556416512,0.097331330180168,-0.085286140441895,-0.079169034957886,0.000195093089133,-0.110794804990292));
res += mul(Get(s1,0,dy), float4x4(0.090530358254910,0.034963823854923,0.073354937136173,-0.114196591079235,-0.053591415286064,0.068674281239510,-0.113037168979645,0.018659254536033,0.139647558331490,-0.032836340367794,-0.028276227414608,0.098823092877865,0.050499908626080,0.048658099025488,-0.045300576835871,0.100133627653122));
res += mul(Get(s1,dx,-dy), float4x4(0.108302414417267,0.005076345521957,0.004425929393619,-0.018047153949738,-0.017633561044931,0.031198794022202,-0.037749059498310,0.075108215212822,-0.095437265932560,-0.034957557916641,-0.002261754591018,-0.088021032512188,0.020012035965919,-0.013295643962920,-0.095115020871162,0.040235169231892));
res += mul(Get(s1,dx,0), float4x4(0.120985381305218,-0.041973233222961,-0.013477014377713,-0.105690889060497,0.053575981408358,0.081349670886993,0.091194927692413,0.059984076768160,-0.013578365556896,0.025195043534040,-0.062745504081249,0.080099299550056,-0.066040188074112,-0.028140218928456,0.050773445516825,-0.016319101676345));
res += mul(Get(s1,dx,dy), float4x4(-0.012969568371773,-0.001135985716246,0.001297918730415,-0.091293677687645,-0.011580405756831,0.022608241066337,-0.036282837390900,0.020344508811831,-0.116181924939156,-0.099168188869953,-0.072953000664711,0.096688479185104,0.061426319181919,-0.010865181684494,-0.072656668722630,-0.004511159379035));
res += mul(Get(s2,-dx,-dy), float4x4(-0.185970768332481,-0.108808934688568,0.075908243656158,-0.061091642826796,0.014313069172204,0.175024926662445,-0.132167994976044,0.061746869236231,0.083616107702255,-0.078745320439339,0.047596715390682,0.063474819064140,0.012738350778818,-0.070482075214386,0.138873070478439,-0.021599987521768));
res += mul(Get(s2,-dx,0), float4x4(-0.029025914147496,-0.036608640104532,-0.043909095227718,0.010939534753561,0.039080176502466,-0.055964753031731,0.033163402229548,-0.150239571928978,-0.063227839767933,0.029853124171495,0.002562097506598,-0.079917296767235,0.176007971167564,0.019098162651062,0.111920967698097,-0.051978379487991));
res += mul(Get(s2,-dx,dy), float4x4(0.114093214273453,0.090975381433964,-0.007003920618445,0.054616000503302,-0.040307700634003,0.080031171441078,-0.065148830413818,0.091574653983116,-0.118722885847092,-0.053329825401306,0.046934157609940,-0.057325370609760,0.100184753537178,0.054486934095621,-0.074733458459377,0.066412664949894));
res += mul(Get(s2,0,-dy), float4x4(-0.040334831923246,0.090978950262070,0.053561829030514,-0.110914357006550,-0.051116857677698,-0.031859058886766,-0.000648763903882,-0.026123039424419,0.033330749720335,-0.051189977675676,-0.075098805129528,-0.054223202168941,-0.134556323289871,-0.006766837090254,-0.057595435529947,-0.003284988226369));
res += mul(Get(s2,0,0), float4x4(-0.069849796593189,0.020837917923927,-0.035162497311831,-0.025166871026158,0.177765965461731,-0.036603011190891,0.026038303971291,-0.031457170844078,0.012549203820527,0.013864750042558,0.010649084113538,0.036437328904867,0.017188990488648,-0.003633154090494,0.038391198962927,0.025944836437702));
res += mul(Get(s2,0,dy), float4x4(0.245335325598717,-0.061370745301247,0.014988328330219,0.026285720989108,0.042232986539602,0.144537568092346,-0.105709157884121,0.022472681477666,0.113680601119995,0.113760702311993,-0.004067428410053,-0.117343239486217,-0.014754000119865,-0.003603063058108,-0.008960844017565,0.122408963739872));
res += mul(Get(s2,dx,-dy), float4x4(-0.040669433772564,0.068856365978718,-0.007091268431395,-0.000650451984257,-0.052291072905064,0.098394639790058,-0.008342795073986,-0.079762436449528,0.015426598489285,0.014533716253936,-0.017462940886617,-0.024425750598311,0.103335246443748,-0.071783557534218,0.031423039734364,0.074312150478363));
res += mul(Get(s2,dx,0), float4x4(0.068915098905563,-0.142629370093346,-0.028440639376640,0.012303641065955,0.061755008995533,0.052341327071190,0.007681276649237,-0.010154314339161,-0.056272175163031,0.023571686819196,-0.015177120454609,-0.007576136849821,-0.010382344014943,0.091924339532852,-0.065025761723518,-0.059681754559278));
res += mul(Get(s2,dx,dy), float4x4(-0.001903473399580,0.041723363101482,0.031567990779877,0.028283817693591,0.107507370412350,-0.012804060243070,0.160772055387497,-0.048441831022501,0.023632721975446,0.053646925836802,-0.036735866218805,-0.062923923134804,0.092781320214272,0.001402276917361,-0.078280076384544,-0.059075985103846));
res += mul(Get(s3,-dx,-dy), float4x4(-0.153395637869835,-0.035496171563864,-0.040631528943777,-0.035813007503748,-0.012686901725829,0.088220730423927,0.045221481472254,-0.020218424499035,0.017631499096751,-0.086758807301521,0.005242869257927,-0.034379895776510,0.060233678668737,0.062798552215099,-0.072660490870476,-0.009449144825339));
res += mul(Get(s3,-dx,0), float4x4(-0.007427576463670,-0.123840823769569,-0.103531852364540,0.050951309502125,-0.025142373517156,0.013147952966392,0.030028592795134,0.011844915337861,-0.028491469100118,-0.105603560805321,-0.045745544135571,-0.042406860738993,-0.055500108748674,-0.029327161610126,-0.030968939885497,0.185349434614182));
res += mul(Get(s3,-dx,dy), float4x4(0.000512124970555,-0.109986715018749,-0.106236808001995,-0.053577437996864,0.001637806068175,0.032768949866295,0.003795369295403,-0.078994765877724,-0.091496452689171,-0.012041012756526,0.070906251668930,0.066640362143517,0.041437231004238,0.060902617871761,0.093628995120525,0.146791085600853));
res += mul(Get(s3,0,-dy), float4x4(0.000225520925596,0.120818994939327,0.105894960463047,0.037319276481867,0.043629214167595,0.064567856490612,0.000692767906003,-0.001495331409387,0.062014784663916,-0.049861043691635,-0.131014049053192,0.009911569766700,0.007443992421031,0.011085132136941,-0.009953156113625,0.045911382883787));
res += mul(Get(s3,0,0), float4x4(-0.178182482719421,-0.027288081124425,0.082368321716785,-0.042493846267462,-0.024811632931232,0.030259689316154,0.075524784624577,-0.021321181207895,0.046793285757303,0.045893423259258,0.056055851280689,-0.004858124069870,-0.033202271908522,0.010096481069922,-0.028086351230741,-0.048972338438034));
res += mul(Get(s3,0,dy), float4x4(0.030705621466041,0.035381752997637,-0.178468212485313,-0.064063102006912,0.029603408649564,-0.015006190165877,-0.050307042896748,-0.026673585176468,-0.009307407774031,-0.014782734215260,-0.109439253807068,0.049429513514042,0.082498796284199,-0.023941148072481,0.034259304404259,0.063471600413322));
res += mul(Get(s3,dx,-dy), float4x4(0.022483641281724,0.019532665610313,0.025360753759742,0.014279905706644,0.006604877300560,-0.003629067912698,0.094107896089554,0.065284349024296,0.024385126307607,-0.138920024037361,-0.036492675542831,-0.005786119960248,0.023834297433496,-0.089254312217236,0.082718469202518,0.037368200719357));
res += mul(Get(s3,dx,0), float4x4(0.020101267844439,0.048255857080221,0.061322618275881,-0.228247851133347,0.003306126222014,0.060512583702803,0.114127524197102,-0.011386330239475,0.122789315879345,-0.001889475621283,-0.053816813975573,0.035369548946619,0.110478542745113,0.081769227981567,-0.014565390534699,0.047756973654032));
res += mul(Get(s3,dx,dy), float4x4(-0.010364564135671,0.071283504366875,-0.166466623544693,0.036319162696600,-0.028466936200857,-0.036811999976635,0.047256950289011,0.013373981229961,0.032279752194881,0.133022293448448,-0.011156187392771,0.014672505669296,0.052098404616117,-0.141549155116081,-0.054143693298101,0.017399648204446));
res = max(float4(0,0,0,0), res);
return res;
}
