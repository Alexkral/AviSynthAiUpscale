sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000127837993205,0.014470759779215,0.169292688369751,-0.026021504774690,-0.116912491619587,0.060057226568460,-0.077296830713749,-0.084947057068348,-0.052115462720394,-0.028272300958633,-0.012518144212663,0.039151962846518,0.029963795095682,-0.056119572371244,-0.026998976245522,0.087228827178478));
res += mul(Get(s0,-dx,0), float4x4(-0.070586234331131,-0.002281798049808,-0.025643471628428,0.071619674563408,-0.041161421686411,-0.068251349031925,0.024689819663763,-0.034336071461439,0.050555389374495,0.050621192902327,0.066455356776714,-0.072707936167717,-0.094869494438171,0.125296190381050,0.143721908330917,-0.038696642965078));
res += mul(Get(s0,-dx,dy), float4x4(0.083894297480583,-0.059283744543791,0.073289319872856,-0.019190577790141,-0.007419294212013,0.105961322784424,-0.015167304314673,0.006126922555268,-0.042137227952480,0.042557172477245,0.058691192418337,-0.050464708358049,-0.012406165711582,0.000380494457204,0.054369363933802,0.091376483440399));
res += mul(Get(s0,0,-dy), float4x4(-0.090632721781731,0.134187892079353,0.032733801752329,-0.053828068077564,-0.018896872177720,0.011805826798081,-0.001495302421972,-0.158565238118172,0.068787619471550,-0.052881911396980,0.014889177866280,0.107492849230766,0.029489867389202,-0.014332903549075,0.013109555467963,-0.097465224564075));
res += mul(Get(s0,0,0), float4x4(0.066611215472221,-0.063845932483673,0.065301522612572,-0.164219751954079,-0.063457220792770,-0.011574580334127,0.052110895514488,-0.054994124919176,-0.022142728790641,0.018109502270818,-0.002150951419026,0.065521538257599,-0.026067517697811,0.043309461325407,-0.091205596923828,-0.056766070425510));
res += mul(Get(s0,0,dy), float4x4(0.007282780017704,0.000094226750662,-0.030451370403171,-0.024066928774118,-0.036877319216728,-0.011835701763630,0.027933588251472,-0.018747493624687,0.044018138200045,-0.061545506119728,0.038528475910425,0.164153039455414,0.048683580011129,-0.024619001895189,0.027743401005864,0.012260239571333));
res += mul(Get(s0,dx,-dy), float4x4(-0.051570665091276,-0.176925212144852,-0.129707172513008,0.030586550012231,-0.059003267437220,-0.083299964666367,0.008924240246415,0.071886651217937,0.011238568462431,0.021863918751478,0.004919331520796,-0.101743005216122,0.063087180256844,-0.151664972305298,0.025178683921695,0.086438290774822));
res += mul(Get(s0,dx,0), float4x4(-0.090373151004314,-0.074406929314137,-0.209174424409866,0.121155947446823,-0.008371640928090,0.009499338455498,0.007506426423788,-0.065785229206085,0.079964935779572,0.083981007337570,0.021223200485110,-0.031290616840124,0.053158868104219,-0.132325589656830,0.012816289439797,0.020953783765435));
res += mul(Get(s0,dx,dy), float4x4(-0.008522197604179,-0.052864089608192,-0.023418191820383,0.141644328832626,0.053485527634621,-0.011505010537803,0.027357583865523,0.064816251397133,-0.012519063428044,0.038826558738947,-0.013915768824518,0.118594050407410,-0.027960883453488,0.131964266300201,0.075565397739410,-0.032773815095425));
res += mul(Get(s1,-dx,-dy), float4x4(0.083074256777763,0.066596999764442,0.084385834634304,-0.077328495681286,-0.113702170550823,0.079138927161694,0.005145282018930,-0.092887297272682,-0.003788685658947,-0.038743983954191,-0.004972269292921,0.071659751236439,0.019184097647667,-0.014170237816870,0.037697467952967,0.104908920824528));
res += mul(Get(s1,-dx,0), float4x4(0.165286198258400,-0.040674664080143,-0.021804660558701,-0.050543207675219,-0.109404794871807,0.118472471833229,-0.020859088748693,0.076967693865299,0.176480233669281,-0.024738414213061,0.040796484798193,0.157483771443367,0.108279250562191,0.035275943577290,0.123696073889732,0.074299402534962));
res += mul(Get(s1,-dx,dy), float4x4(-0.137005195021629,-0.064681857824326,0.034412078559399,-0.017355013638735,0.002756566973403,-0.060480084270239,0.104032501578331,0.164930447936058,0.022135578095913,0.031364690512419,0.059992231428623,0.003269609063864,-0.022373791784048,-0.069111600518227,0.123231843113899,0.148956909775734));
res += mul(Get(s1,0,-dy), float4x4(-0.039439298212528,0.078677505254745,-0.017250111326575,-0.045460902154446,0.138383567333221,0.125146389007568,0.064615465700626,-0.111544869840145,0.122424855828285,0.097958609461784,-0.019044885411859,0.058896493166685,-0.026484338566661,-0.108981885015965,0.002595168771222,0.135659292340279));
res += mul(Get(s1,0,0), float4x4(0.124116279184818,0.028997074812651,-0.033879484981298,-0.064348474144936,0.015280034393072,-0.070980273187160,-0.154471114277840,0.000077095668530,0.013406743295491,-0.016429649665952,0.010631846264005,0.072348169982433,0.210370376706123,0.024138959124684,0.053074542433023,-0.014115172438323));
res += mul(Get(s1,0,dy), float4x4(0.008779050782323,-0.042220748960972,0.062853813171387,-0.020103862509131,-0.027393480762839,-0.082739084959030,-0.104087814688683,0.092722453176975,-0.088980980217457,0.042737107723951,-0.008239748887718,0.033085022121668,-0.138181447982788,-0.045879434794188,-0.015741650015116,0.104132205247879));
res += mul(Get(s1,dx,-dy), float4x4(0.075603619217873,0.014073510654271,-0.003210124326870,-0.092684328556061,0.021142348647118,-0.039774060249329,-0.098827622830868,0.073570102453232,-0.053448013961315,0.048886213451624,0.082433715462685,-0.043223906308413,-0.013552407734096,0.092247262597084,-0.164863124489784,0.034016791731119));
res += mul(Get(s1,dx,0), float4x4(-0.028730355203152,0.077112674713135,-0.027144782245159,-0.158222764730453,0.037869036197662,0.001242258818820,0.020720053464174,-0.032053377479315,-0.114238664507866,0.110212929546833,-0.017591331154108,-0.022355277091265,-0.002522516064346,-0.011504009366035,-0.040950741618872,-0.156555041670799));
res += mul(Get(s1,dx,dy), float4x4(-0.008167714811862,0.105918817222118,-0.039595570415258,-0.121249169111252,0.075362540781498,-0.047747977077961,-0.148485735058784,-0.021186713129282,0.072457179427147,-0.011598744429648,-0.098726592957973,-0.006646799389273,-0.034738756716251,0.010577941313386,-0.160829529166222,-0.037318505346775));
res += mul(Get(s2,-dx,-dy), float4x4(-0.094559296965599,0.006106249988079,0.007324241101742,-0.072329178452492,-0.013181527145207,0.049844458699226,0.096535623073578,-0.059205047786236,0.034354265779257,-0.038984619081020,-0.088705018162727,-0.011863134801388,0.054064672440290,-0.066869467496872,-0.066204652190208,0.012488450855017));
res += mul(Get(s2,-dx,0), float4x4(-0.065784730017185,0.054839693009853,0.053211029618979,0.026049518957734,0.000654756964650,-0.112152829766273,0.101820252835751,-0.033371556550264,0.060012578964233,-0.046175364404917,-0.010263772681355,0.009228805080056,-0.169315740466118,0.087779879570007,-0.099192254245281,0.023699995130301));
res += mul(Get(s2,-dx,dy), float4x4(0.046862509101629,-0.112676545977592,0.030126238241792,0.024334989488125,0.021236596629024,0.014891783706844,-0.032640747725964,0.085911639034748,0.055701714009047,-0.098614215850830,-0.047379914671183,0.157456383109093,-0.103550940752029,0.225908547639847,-0.021779401227832,-0.072874680161476));
res += mul(Get(s2,0,-dy), float4x4(-0.079050220549107,-0.042912177741528,0.179978758096695,-0.045907989144325,0.008420896716416,0.020286278799176,0.090806499123573,0.036612812429667,-0.013127836398780,-0.045434989035130,-0.017505627125502,-0.003357270499691,-0.168419450521469,-0.058632500469685,-0.095634430646896,0.128057599067688));
res += mul(Get(s2,0,0), float4x4(0.054200481623411,-0.071292124688625,0.248034492135048,-0.143547847867012,0.065423078835011,-0.010767444968224,0.021239763125777,-0.039915267378092,-0.048940628767014,0.074496231973171,0.021260401234031,0.161815688014030,-0.040701221674681,-0.140244573354721,0.035676244646311,-0.019389815628529));
res += mul(Get(s2,0,dy), float4x4(-0.051845803856850,-0.049022402614355,0.012150771915913,-0.049425959587097,-0.070934481918812,-0.027218911796808,0.041965443640947,-0.025095434859395,0.022695163264871,-0.025995209813118,0.029853053390980,0.096643559634686,0.049934595823288,0.143460556864738,-0.123992338776588,-0.108573511242867));
res += mul(Get(s2,dx,-dy), float4x4(0.134414657950401,0.045558977872133,0.074401952326298,0.095056280493736,0.074062414467335,0.096588104963303,0.076759606599808,0.069499135017395,0.109875172376633,-0.030761012807488,-0.047584559768438,-0.057430848479271,0.025087062269449,-0.014004915021360,-0.076552234590054,0.118288986384869));
res += mul(Get(s2,dx,0), float4x4(0.093097999691963,-0.018667913973331,-0.010115659795702,0.150786668062210,-0.072020851075649,-0.085934527218342,0.027766099199653,-0.107505559921265,-0.008009838871658,-0.123382829129696,0.023414229974151,0.002123192884028,-0.031387601047754,-0.012594212777913,-0.042121652513742,-0.046646755188704));
res += mul(Get(s2,dx,dy), float4x4(0.028213843703270,-0.022692101076245,0.033313099294901,-0.020760584622622,-0.096245884895325,0.037091124802828,0.094108663499355,0.023805007338524,0.006096798460931,0.001663602655753,0.092012844979763,0.011714617721736,0.012715638615191,-0.097702816128731,0.008091495372355,0.087117910385132));
res += mul(Get(s3,-dx,-dy), float4x4(0.022580942139030,-0.016788456588984,0.016848448663950,-0.037732280790806,-0.014274078421295,-0.132538467645645,0.012720758095384,0.032743562012911,-0.003781062783673,-0.075501158833504,-0.059126742184162,-0.025700325146317,-0.043466281145811,-0.119337029755116,-0.006707221735269,-0.018159450963140));
res += mul(Get(s3,-dx,0), float4x4(0.018449302762747,0.028683025389910,-0.017169956117868,0.100400947034359,0.040353696793318,0.198293849825859,-0.023198291659355,-0.022475238889456,0.010456043295562,-0.004409201443195,-0.092187352478504,0.060369208455086,0.016528612002730,0.067190051078796,0.159272283315659,-0.027488384395838));
res += mul(Get(s3,-dx,dy), float4x4(-0.064240530133247,-0.035982236266136,-0.055693440139294,0.236016780138016,0.005069100297987,0.075145848095417,-0.038275528699160,0.055049091577530,-0.004916646983474,-0.097645841538906,-0.139231294393539,0.002002881374210,-0.014005061239004,-0.108049221336842,-0.021291542798281,-0.103293955326080));
res += mul(Get(s3,0,-dy), float4x4(0.066674828529358,-0.031820330768824,0.099613875150681,0.033898215740919,-0.045489743351936,-0.054691001772881,-0.038531415164471,0.009575686417520,0.017196252942085,0.080566413700581,0.043495792895555,-0.089970029890537,0.162059873342514,0.020592505112290,-0.035346407443285,-0.021165419369936));
res += mul(Get(s3,0,0), float4x4(0.026423487812281,0.068486183881760,0.014142074622214,0.028908204287291,-0.018413931131363,-0.007553427945822,0.092155456542969,-0.041196897625923,0.063122577965260,0.066924713551998,0.031940605491400,-0.105020068585873,-0.029723010957241,-0.008975751698017,-0.028212677687407,0.035440485924482));
res += mul(Get(s3,0,dy), float4x4(-0.050668757408857,-0.131346255540848,-0.005054262001067,-0.025346936658025,-0.004858259111643,-0.134740218520164,0.025641813874245,0.003205315209925,-0.030373195186257,-0.020865444093943,-0.009038574062288,-0.015072549693286,0.001972343074158,-0.110989205539227,-0.198802903294563,0.043988663703203));
res += mul(Get(s3,dx,-dy), float4x4(-0.048140160739422,-0.022995600476861,0.111208491027355,-0.005155538208783,0.057863347232342,0.120363399386406,-0.033263448625803,0.112099647521973,-0.007057416252792,-0.083745203912258,-0.090793289244175,-0.044991672039032,-0.028868202120066,-0.012249136343598,-0.026375547051430,-0.043222758919001));
res += mul(Get(s3,dx,0), float4x4(0.089364066720009,-0.044248770922422,0.147076547145844,-0.011947629041970,0.123228535056114,0.103605099022388,0.084509931504726,-0.030689941719174,-0.076252669095993,-0.060616388916969,-0.006608655676246,0.100950039923191,0.055949039757252,-0.104732543230057,-0.022050039842725,-0.025693399831653));
res += mul(Get(s3,dx,dy), float4x4(-0.139198914170265,0.009682043455541,-0.042266577482224,0.105907581746578,-0.040194071829319,0.032062120735645,-0.061889141798019,-0.068270653486252,-0.032858826220036,-0.109255343675613,0.045325014740229,0.063337199389935,-0.044219586998224,-0.046185895800591,0.032621540129185,-0.012912247329950));
res = max(float4(0,0,0,0), res);
return res;
}
