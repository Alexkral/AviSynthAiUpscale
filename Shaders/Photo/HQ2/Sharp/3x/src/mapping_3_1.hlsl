sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.138241678476334,0.054937645792961,0.014467904344201,-0.001443920889869,-0.070715382695198,-0.099497571587563,-0.055307794362307,-0.077097468078136,-0.039739362895489,0.050359807908535,-0.052409037947655,-0.025339733809233,-0.030144592747092,0.110341936349869,0.001520720776170,0.014146267436445));
res += mul(Get(s0,-dx,0), float4x4(-0.027667544782162,-0.002591980854049,-0.028495807200670,-0.070553824305534,-0.024679081514478,0.061230313032866,-0.030466934666038,0.022036558017135,0.031110737472773,-0.056286606937647,-0.072576798498631,0.029705025255680,0.021718198433518,-0.018366085365415,-0.017477808520198,0.012523206882179));
res += mul(Get(s0,-dx,dy), float4x4(-0.012547302991152,-0.107034854590893,0.002107789507136,-0.118317395448685,-0.062732771039009,-0.039344571530819,-0.078042268753052,-0.008410166017711,-0.038493424654007,0.004104611929506,0.035846099257469,-0.002305069938302,0.096028149127960,0.094130195677280,-0.185382679104805,-0.085339091718197));
res += mul(Get(s0,0,-dy), float4x4(0.010163360275328,0.058102730661631,-0.145959332585335,-0.127936631441116,-0.097125314176083,-0.060138352215290,0.097646810114384,0.112165980041027,0.016808209940791,0.048516031354666,-0.053486108779907,0.096180438995361,-0.029334207996726,0.041245959699154,-0.023937255144119,-0.044367112219334));
res += mul(Get(s0,0,0), float4x4(0.014289396815002,-0.040206592530012,0.058661688119173,-0.129082933068275,-0.070330806076527,-0.221730247139931,-0.040784813463688,0.034023363143206,0.044791530817747,0.247852027416229,0.147247716784477,0.117269486188889,0.015713935717940,-0.000045965662139,-0.040922243148088,0.138168573379517));
res += mul(Get(s0,0,dy), float4x4(-0.004407647531480,-0.031637523323298,-0.146242111921310,0.011951938271523,-0.096535474061966,-0.073253706097603,0.051182452589273,-0.045469399541616,-0.013763513416052,0.199906751513481,-0.019418949261308,0.009281283244491,0.060721836984158,0.029523352161050,-0.089640617370605,-0.120632611215115));
res += mul(Get(s0,dx,-dy), float4x4(-0.083981841802597,0.001421999419108,-0.098136320710182,0.048404935747385,0.008142560720444,0.002499100752175,0.100028775632381,0.010538377799094,-0.006286435294896,0.026878966018558,-0.104490295052528,-0.033912084996700,0.020851938053966,-0.004401000216603,-0.019972966983914,-0.057328790426254));
res += mul(Get(s0,dx,0), float4x4(-0.033946748822927,0.020361009985209,-0.032761167734861,0.118204161524773,-0.014499983750284,0.031076988205314,0.034737858921289,-0.026161672547460,0.039608430117369,-0.079467318952084,0.054749708622694,0.155541032552719,0.064382508397102,0.019332038238645,-0.003269954118878,-0.111244834959507));
res += mul(Get(s0,dx,dy), float4x4(-0.140229582786560,0.107131101191044,0.070297040045261,-0.126603871583939,-0.051043391227722,-0.033322557806969,0.045297142118216,0.020329130813479,-0.010829241946340,0.078946739435196,-0.041904818266630,-0.000617409532424,-0.078118719160557,0.041488513350487,-0.052794530987740,0.114892102777958));
res += mul(Get(s1,-dx,-dy), float4x4(-0.182210445404053,0.068573817610741,-0.015160642564297,0.061224650591612,-0.028969038277864,0.091356329619884,0.119655989110470,0.040358874946833,0.137470513582230,-0.002305325586349,-0.037303112447262,0.093466438353062,0.051145967096090,0.030272416770458,0.031924616545439,0.029559131711721));
res += mul(Get(s1,-dx,0), float4x4(0.023699667304754,-0.133088454604149,0.100589670240879,-0.039411451667547,-0.023997196927667,0.045604623854160,-0.046668443828821,-0.033528462052345,-0.053634215146303,-0.049333021044731,-0.019777383655310,-0.068990349769592,0.044418599456549,-0.040566209703684,-0.012649985961616,0.008228070102632));
res += mul(Get(s1,-dx,dy), float4x4(-0.121438823640347,0.017227983102202,0.011856838129461,-0.003009268315509,0.075085930526257,0.073969773948193,-0.045997593551874,0.017186563462019,0.000411346321926,-0.011578558012843,0.031272672116756,-0.004384469706565,-0.115746095776558,-0.220239073038101,0.032108053565025,-0.009654296562076));
res += mul(Get(s1,0,-dy), float4x4(0.003794306889176,0.153021186590195,0.017507068812847,0.140929594635963,-0.006674773059785,0.013209285214543,-0.119429863989353,-0.038504749536514,0.066548548638821,0.051106262952089,-0.063930161297321,0.023823780938983,0.085166774690151,0.121289126574993,-0.096963606774807,0.044188484549522));
res += mul(Get(s1,0,0), float4x4(-0.004373893607408,0.033733062446117,-0.058392845094204,-0.005381423514336,-0.129873737692833,0.021474957466125,0.002869347808883,0.010893125087023,-0.051439750939608,-0.030091127380729,0.053999789059162,-0.049396764487028,-0.088510990142822,0.159874200820923,0.004052279982716,0.155828922986984));
res += mul(Get(s1,0,dy), float4x4(-0.035215698182583,-0.021330855786800,-0.101184345781803,-0.038851331919432,0.058384533971548,0.036493074148893,0.127375498414040,0.029631029814482,0.049384444952011,-0.062381766736507,-0.061106123030186,0.021455137059093,0.070886567234993,0.011417021043599,-0.034074038267136,0.045847248286009));
res += mul(Get(s1,dx,-dy), float4x4(-0.049164108932018,-0.049002815037966,0.125209510326385,0.007267111912370,0.113106943666935,-0.067021995782852,0.134844675660133,0.053818073123693,-0.111974664032459,-0.088905081152916,-0.000125557999127,0.090462259948254,0.022871814668179,0.052841808646917,0.048960123211145,-0.026255697011948));
res += mul(Get(s1,dx,0), float4x4(0.027407703921199,0.023402132093906,0.118864722549915,-0.012101667001843,0.037725634872913,-0.047559119760990,-0.133865803480148,0.046746935695410,0.011400303803384,0.003749627619982,0.081554077565670,0.023432085290551,0.069463916122913,-0.071349561214447,0.088397704064846,-0.094083800911903));
res += mul(Get(s1,dx,dy), float4x4(0.021283375099301,-0.074237532913685,0.023647408932447,-0.028730804100633,0.022292742505670,0.046341065317392,0.062826126813889,-0.032635614275932,-0.006619177293032,-0.140468508005142,-0.186161294579506,-0.019130010157824,-0.114408858120441,0.118969649076462,-0.096808537840843,-0.071123503148556));
res += mul(Get(s2,-dx,-dy), float4x4(0.058468677103519,0.082413904368877,-0.108517274260521,-0.101355627179146,0.055978208780289,-0.037052791565657,0.112686172127724,0.040952518582344,0.110814742743969,0.047175049781799,-0.006238137371838,0.073372915387154,-0.030072011053562,-0.074556984007359,-0.092458836734295,0.139747887849808));
res += mul(Get(s2,-dx,0), float4x4(0.071812711656094,0.030476249754429,0.081414274871349,0.063953474164009,-0.130089983344078,-0.070043519139290,-0.008581179194152,-0.095100775361061,0.057153880596161,0.045810371637344,0.022550389170647,-0.013813749887049,-0.107840612530708,0.101684205234051,-0.026207726448774,-0.011549362912774));
res += mul(Get(s2,-dx,dy), float4x4(0.000677013886161,0.080055899918079,-0.042082678526640,0.102786898612976,0.078379541635513,-0.173511475324631,0.053741671144962,0.095536656677723,0.033931538462639,0.182503178715706,-0.045617960393429,0.022292412817478,-0.050419587641954,0.035259686410427,-0.014604227617383,0.046077985316515));
res += mul(Get(s2,0,-dy), float4x4(0.027294574305415,-0.051006257534027,-0.044755607843399,0.022460440173745,-0.028955593705177,-0.025810880586505,0.104125797748566,-0.003876078641042,0.001674542087130,0.122486785054207,-0.116071231663227,0.026502354070544,-0.082358822226524,-0.035914212465286,0.012209524400532,-0.203471213579178));
res += mul(Get(s2,0,0), float4x4(-0.012262009084225,-0.080536641180515,0.038071975111961,0.117825768887997,0.104080036282539,-0.060330308973789,-0.108146280050278,-0.018928594887257,-0.020325474441051,0.024960232898593,-0.022642977535725,-0.037905737757683,0.057668451219797,0.002627177862450,-0.071256972849369,-0.135987326502800));
res += mul(Get(s2,0,dy), float4x4(0.007915609516203,-0.060863725841045,0.058398336172104,0.057070348411798,0.011282702907920,0.222808673977852,0.113328687846661,0.062734864652157,-0.038924641907215,0.051205474883318,-0.117204234004021,0.023363666608930,-0.018164347857237,-0.057050634175539,-0.018114052712917,0.189179152250290));
res += mul(Get(s2,dx,-dy), float4x4(0.072214022278786,-0.078283436596394,0.015861539170146,-0.011462815105915,-0.118945501744747,-0.055589806288481,-0.256219476461411,0.009010343812406,-0.027207586914301,-0.121708549559116,0.044115595519543,0.060629107058048,-0.120449297130108,0.060759812593460,0.013324722647667,0.129580438137054));
res += mul(Get(s2,dx,0), float4x4(0.028189335018396,0.036652773618698,-0.070065654814243,-0.046876933425665,-0.043576914817095,-0.040152538567781,-0.089410223066807,0.045348651707172,0.045671217143536,-0.033239215612411,0.084213770925999,-0.085409395396709,0.034056235104799,0.027033951133490,0.044576853513718,0.027422482147813));
res += mul(Get(s2,dx,dy), float4x4(-0.025442847982049,-0.012994910590351,0.053110916167498,0.030683541670442,0.003525866195560,0.212157666683197,0.018080381676555,-0.074461355805397,-0.076372578740120,0.047705415636301,-0.098229527473450,-0.037008054554462,0.172482132911682,-0.067444220185280,-0.020038073882461,-0.018684608861804));
res += mul(Get(s3,-dx,-dy), float4x4(0.088456496596336,0.017226491123438,-0.067815475165844,0.021196069195867,0.068225711584091,0.043394207954407,-0.001445217756554,0.164307430386543,-0.048134930431843,0.013783290982246,0.062731333076954,0.134073182940483,-0.061553098261356,-0.002918706741184,-0.040738508105278,0.064271278679371));
res += mul(Get(s3,-dx,0), float4x4(0.040325757116079,-0.001626724144444,0.089101873338223,0.094177983701229,0.081702724099159,0.066049635410309,0.011480531655252,-0.067883305251598,-0.022916804999113,0.009414474479854,-0.031838778406382,-0.066013909876347,-0.052057586610317,0.123290620744228,-0.063161075115204,0.071663357317448));
res += mul(Get(s3,-dx,dy), float4x4(0.002278622239828,0.110604979097843,-0.022444898262620,-0.126206457614899,0.016461934894323,-0.049816522747278,-0.027113437652588,0.089926399290562,0.079543933272362,0.082943104207516,-0.035849619656801,0.018287716433406,-0.037230849266052,0.083379901945591,-0.029441114515066,0.059628143906593));
res += mul(Get(s3,0,-dy), float4x4(0.077412165701389,0.073027029633522,-0.060432601720095,0.070683814585209,-0.076980501413345,-0.064338088035583,-0.059591367840767,-0.009626518934965,0.002505463548005,0.068534515798092,-0.107019193470478,0.069814227521420,0.020948722958565,-0.007893057540059,-0.121967621147633,-0.145879447460175));
res += mul(Get(s3,0,0), float4x4(0.079278625547886,0.046915274113417,-0.062821038067341,0.072758495807648,-0.013327798806131,0.026338031515479,0.158734261989594,-0.000588783004787,0.086088545620441,-0.098549716174603,0.108962371945381,-0.057459551841021,-0.033750973641872,-0.068544402718544,0.022237246856093,-0.087762065231800));
res += mul(Get(s3,0,dy), float4x4(0.105834722518921,-0.008766659535468,0.054311659187078,0.095795944333076,-0.091156095266342,-0.005847696680576,0.104119382798672,0.073473587632179,-0.041221201419830,-0.015449615195394,-0.084839478135109,0.067608803510666,0.084131881594658,0.029441056773067,-0.033305637538433,0.044840171933174));
res += mul(Get(s3,dx,-dy), float4x4(0.078915759921074,-0.099162526428699,-0.041209250688553,0.026750193908811,0.054876428097486,-0.044638305902481,0.133590862154961,-0.060688797384501,-0.009551530703902,0.064319223165512,0.095720238983631,0.024412641301751,0.130495175719261,-0.003809496527538,-0.014141834340990,-0.029495945200324));
res += mul(Get(s3,dx,0), float4x4(0.017854895442724,0.066086314618587,-0.136954337358475,-0.023057587444782,0.084460303187370,-0.034234091639519,0.087402001023293,-0.078600294888020,-0.014150911010802,-0.065858155488968,-0.016026034951210,-0.023739758878946,-0.041278503835201,0.009020286612213,0.044684987515211,-0.110264569520950));
res += mul(Get(s3,dx,dy), float4x4(-0.009510703384876,-0.159784093499184,-0.173697397112846,0.099940963089466,0.010989182628691,-0.023501608520746,-0.040764342993498,-0.050542049109936,-0.080606788396835,-0.105305992066860,0.176356583833694,0.033662665635347,-0.002778991125524,-0.206851333379745,-0.043875955045223,0.012361266650259));
res = max(float4(0,0,0,0), res);
return res;
}
