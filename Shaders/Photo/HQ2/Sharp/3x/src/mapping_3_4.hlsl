sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.086375951766968,-0.041964523494244,-0.081372164189816,0.071415118873119,-0.010199869982898,0.010965048335493,0.119305893778801,-0.024092968553305,-0.020992295816541,0.159460633993149,0.083434484899044,-0.048232350498438,-0.135540440678596,0.064782299101353,-0.032746255397797,0.004851516336203));
res += mul(Get(s0,-dx,0), float4x4(0.099117182195187,-0.096757382154465,-0.013226797804236,0.026284560561180,-0.059903159737587,0.095442622900009,0.165617600083351,-0.127427905797958,-0.040817026048899,0.030238781124353,0.102405183017254,-0.079147599637508,0.015203942544758,-0.006875408813357,0.079906001687050,0.022416010499001));
res += mul(Get(s0,-dx,dy), float4x4(0.106908813118935,0.126526415348053,-0.143424063920975,-0.093428425490856,0.133246511220932,0.002775867236778,0.005111829843372,0.012183774262667,0.015269755385816,0.027010904625058,0.024341212585568,0.184021979570389,-0.053708259016275,-0.148502349853516,0.095310561358929,0.013803995214403));
res += mul(Get(s0,0,-dy), float4x4(-0.044603165239096,-0.024830317124724,-0.055972330272198,-0.090780816972256,-0.058447849005461,-0.007020276039839,0.159924089908600,-0.085372626781464,-0.006868899799883,-0.111147411167622,-0.061433531343937,-0.020007541403174,-0.032152518630028,0.076842613518238,0.081815220415592,0.016363529488444));
res += mul(Get(s0,0,0), float4x4(0.147415459156036,0.039412669837475,0.043668448925018,0.015671016648412,-0.000200599082746,-0.086483575403690,-0.067822054028511,0.102630764245987,0.117232032120228,-0.031932931393385,-0.062888905405998,0.093404285609722,-0.054558616131544,-0.016564927995205,-0.024963408708572,0.055643405765295));
res += mul(Get(s0,0,dy), float4x4(0.093891471624374,0.152758270502090,-0.004195283167064,-0.015858564525843,0.071772396564484,-0.027850652113557,-0.026526935398579,-0.053338278084993,0.090298883616924,0.054768461734056,-0.014778438955545,0.006867292802781,-0.025309462100267,0.034807220101357,0.171070203185081,-0.023420328274369));
res += mul(Get(s0,dx,-dy), float4x4(-0.072659358382225,0.081030838191509,0.117728419601917,0.035661280155182,-0.084388390183449,-0.004852029494941,-0.149357244372368,0.128473371267319,-0.014167593792081,-0.040246162563562,0.005052558146417,-0.020223371684551,0.103451311588287,-0.057458776980639,0.077538594603539,-0.049084383994341));
res += mul(Get(s0,dx,0), float4x4(-0.073791384696960,-0.030572036281228,0.049672082066536,0.049956705421209,-0.139980599284172,0.077165842056274,0.014185057953000,0.109203897416592,-0.026366738602519,-0.016466986387968,-0.049626596271992,-0.079279027879238,0.073984272778034,-0.018929118290544,0.053747959434986,-0.104315944015980));
res += mul(Get(s0,dx,dy), float4x4(0.220735937356949,-0.000257422827417,0.023635288700461,0.021796820685267,0.072307690978050,0.082026384770870,0.044449206441641,-0.065854988992214,0.117836818099022,-0.056449644267559,0.103919513523579,-0.045317552983761,0.072345800697803,0.008202780969441,-0.056996561586857,-0.074058517813683));
res += mul(Get(s1,-dx,-dy), float4x4(0.002965890802443,0.161514818668365,0.110456958413124,-0.139630630612373,-0.004988391418010,-0.092744901776314,-0.000365210260497,0.043993681669235,0.036191005259752,-0.079678237438202,-0.039828322827816,0.042794618755579,-0.091342449188232,-0.058436539024115,0.001029062084854,0.048425290733576));
res += mul(Get(s1,-dx,0), float4x4(-0.057888615876436,0.284256994724274,0.117152109742165,-0.116733953356743,-0.029569709673524,-0.002018637023866,-0.014992474578321,0.051945801824331,0.052441921085119,0.207906737923622,0.266973435878754,0.062226887792349,0.095097094774246,0.099909700453281,-0.022340176627040,0.064907066524029));
res += mul(Get(s1,-dx,dy), float4x4(0.154291704297066,-0.053400658071041,-0.197282329201698,-0.075815662741661,-0.051932223141193,-0.067368291318417,0.081126220524311,-0.046553678810596,0.010463754646480,-0.018673559650779,0.052651118487120,0.016923086717725,0.028815375640988,-0.071183487772942,-0.030516237020493,0.016417674720287));
res += mul(Get(s1,0,-dy), float4x4(0.104063726961613,-0.084560528397560,-0.095585681498051,-0.011565611697733,-0.058815356343985,-0.103018179535866,-0.039510432630777,0.042054582387209,0.130787208676338,0.120292276144028,0.013461082242429,-0.099756799638271,-0.183613836765289,0.007111206650734,0.020480562001467,-0.046396370977163));
res += mul(Get(s1,0,0), float4x4(-0.138853728771210,-0.156657800078392,0.301144868135452,0.238855004310608,0.112044148147106,0.142465576529503,-0.043737400323153,0.019765922799706,-0.063148804008961,0.087551183998585,0.066048733890057,0.030427288264036,-0.010520664975047,-0.001034246757627,-0.124806523323059,-0.056168012320995));
res += mul(Get(s1,0,dy), float4x4(0.115424484014511,-0.169438421726227,0.041834659874439,-0.039722774177790,0.048788797110319,0.032652746886015,-0.043133005499840,0.062881030142307,-0.032660510390997,-0.132921129465103,-0.033597100526094,0.137274265289307,-0.016106666997075,0.101679340004921,0.054956976324320,0.069053992629051));
res += mul(Get(s1,dx,-dy), float4x4(0.005847314838320,-0.056045752018690,-0.015392263419926,0.148867636919022,-0.036414999514818,-0.025414602831006,0.129517674446106,0.082854725420475,0.058482028543949,0.048965636640787,0.097710222005844,-0.054824110120535,-0.022747231647372,-0.057898692786694,0.029413633048534,0.073424950242043));
res += mul(Get(s1,dx,0), float4x4(-0.024828452616930,0.122888572514057,-0.179253011941910,0.140626132488251,0.043743133544922,0.139998808503151,-0.079273052513599,0.005691206082702,-0.163105994462967,-0.186873629689217,-0.031456269323826,0.004945885390043,0.069587290287018,-0.029869204387069,0.114742003381252,0.004364520311356));
res += mul(Get(s1,dx,dy), float4x4(-0.043809570372105,0.075925149023533,0.072250835597515,-0.014333132654428,-0.002242327434942,0.052477009594440,-0.044437132775784,-0.007151069119573,-0.118347734212875,0.023984635248780,-0.108145318925381,0.008442959748209,0.081751890480518,-0.008260251022875,-0.055128302425146,-0.004861067514867));
res += mul(Get(s2,-dx,-dy), float4x4(0.102590642869473,-0.090617768466473,-0.053545024245977,-0.006288281176239,0.108985900878906,0.022955199703574,-0.115076690912247,0.027272732928395,0.046414818614721,0.012714161537588,0.011650445871055,-0.030449710786343,0.039903059601784,-0.046973936259747,-0.030706880614161,0.039581965655088));
res += mul(Get(s2,-dx,0), float4x4(-0.007249183952808,-0.070341899991035,0.096854217350483,0.083123244345188,0.038019120693207,0.001938575180247,-0.045896239578724,0.122498162090778,-0.006707591004670,-0.050102487206459,-0.169166892766953,-0.020313076674938,0.007049660664052,0.079020991921425,-0.020590959116817,0.026444148272276));
res += mul(Get(s2,-dx,dy), float4x4(0.047376867383718,0.014632713049650,-0.067122511565685,-0.035773366689682,-0.033750046044588,0.034540027379990,-0.021711863577366,0.054330959916115,-0.057317983359098,-0.023312332108617,-0.090257458388805,0.008928595110774,-0.141960561275482,-0.011030195280910,0.136099055409431,0.055032201111317));
res += mul(Get(s2,0,-dy), float4x4(0.035123225301504,-0.121589146554470,-0.010804059915245,0.052052643150091,0.067882485687733,0.092549800872803,0.024569392204285,0.105756394565105,0.109555758535862,0.029673460870981,-0.001735069905408,0.050913102924824,0.040046449750662,0.019921701401472,-0.056201305240393,-0.121232978999615));
res += mul(Get(s2,0,0), float4x4(0.011017052456737,-0.049715518951416,-0.064015500247478,0.025478679686785,0.055887613445520,0.040990248322487,-0.043960738927126,-0.056130673736334,-0.047181874513626,0.060385685414076,0.096698462963104,0.053510539233685,-0.100004456937313,-0.098774269223213,-0.053919561207294,0.043527256697416));
res += mul(Get(s2,0,dy), float4x4(-0.032706752419472,0.047073319554329,0.049951747059822,0.063012018799782,-0.061698459088802,-0.089840069413185,0.039592292159796,-0.042960762977600,0.061470635235310,-0.037293162196875,0.079983443021774,-0.001758244819939,0.022328870370984,0.012950837612152,-0.008251344785094,-0.043771170079708));
res += mul(Get(s2,dx,-dy), float4x4(-0.130851536989212,0.043013107031584,-0.031215494498610,-0.053177077323198,0.081919409334660,0.048414822667837,-0.040108535438776,-0.026175992563367,-0.110737100243568,-0.045231603085995,0.048650078475475,0.063894234597683,0.031899515539408,0.097169525921345,-0.094956487417221,-0.055537756532431));
res += mul(Get(s2,dx,0), float4x4(-0.056711271405220,-0.040440261363983,0.109666861593723,-0.117369905114174,0.027043240144849,-0.058467835187912,0.019007883965969,-0.042715013027191,0.139956444501877,0.088569864630699,0.035740718245506,0.003272169036791,-0.071577273309231,-0.026350717991590,0.108653642237186,0.044908743351698));
res += mul(Get(s2,dx,dy), float4x4(0.032311659306288,-0.039442490786314,-0.033672790974379,-0.140042155981064,-0.024190587922931,0.045489355921745,-0.040954422205687,0.118147954344749,0.073706082999706,0.006531979423016,0.174450561404228,-0.076137736439705,0.057643402367830,0.052450131624937,0.017933694645762,-0.008929991163313));
res += mul(Get(s3,-dx,-dy), float4x4(-0.108063705265522,-0.089627198874950,0.123363159596920,-0.033231910318136,0.118605121970177,-0.007321923971176,-0.163262233138084,0.038016598671675,-0.016954984515905,-0.062750093638897,-0.039680112153292,-0.105661511421204,0.025107976049185,-0.026545306667686,-0.017613658681512,0.034686334431171));
res += mul(Get(s3,-dx,0), float4x4(-0.070641949772835,-0.014823365956545,-0.154757007956505,-0.045321937650442,0.144194692373276,-0.036294713616371,0.144737586379051,0.069983929395676,0.107698589563370,0.068422324955463,-0.075381346046925,0.047924488782883,0.104306660592556,-0.013005304150283,-0.041307356208563,0.100472733378410));
res += mul(Get(s3,-dx,dy), float4x4(-0.172245442867279,-0.010220696218312,0.038660477846861,-0.050180323421955,-0.051720015704632,-0.094737201929092,0.070986978709698,0.001201397739351,-0.022536851465702,0.124581374228001,-0.051426891237497,0.161691039800644,0.041533529758453,-0.116682976484299,0.061286687850952,0.091638319194317));
res += mul(Get(s3,0,-dy), float4x4(0.109160274267197,-0.070325799286366,-0.063304923474789,0.039173215627670,0.011735146865249,0.072716593742371,0.084471665322781,-0.070219829678535,-0.032462283968925,-0.079610385000706,0.084224119782448,0.024406375363469,-0.017227279022336,-0.008532182313502,-0.067207477986813,0.065817683935165));
res += mul(Get(s3,0,0), float4x4(-0.022549342364073,0.055181484669447,-0.043555233627558,-0.010988521389663,-0.022470915690064,-0.046053566038609,-0.178762748837471,-0.014332220889628,-0.096989780664444,0.113941952586174,0.026669850572944,-0.007208954542875,0.028136285021901,0.044695705175400,-0.008171188645065,0.022892447188497));
res += mul(Get(s3,0,dy), float4x4(0.049491062760353,0.041893888264894,-0.000997757422738,-0.019643411040306,-0.154126554727554,-0.074052684009075,0.036563336849213,-0.172614037990570,0.058070342987776,-0.112215556204319,0.032936412841082,-0.045444454997778,0.033012099564075,0.063258171081543,0.016737608239055,-0.060161866247654));
res += mul(Get(s3,dx,-dy), float4x4(-0.012844711542130,0.166809946298599,0.012298547662795,0.010257399640977,-0.011779389344156,0.059699527919292,0.081923924386501,-0.006331903859973,0.110354423522949,0.105671867728233,0.126727461814880,0.020412968471646,0.000469838443678,0.024832259863615,0.021616365760565,-0.020503070205450));
res += mul(Get(s3,dx,0), float4x4(0.056919857859612,-0.118980132043362,-0.074265465140343,0.046501345932484,0.044916279613972,-0.036222003400326,0.024031868204474,0.053484544157982,-0.056728351861238,-0.060831345617771,0.015081505291164,-0.020687038078904,0.076670229434967,-0.049230970442295,-0.066245205700397,0.028375253081322));
res += mul(Get(s3,dx,dy), float4x4(-0.016288446262479,0.002822995418683,0.085010111331940,-0.030297739431262,-0.053529608994722,0.091990798711777,-0.076539158821106,0.124090909957886,-0.033756848424673,0.104464747011662,-0.078831166028976,0.037898067384958,0.054901245981455,-0.045705366879702,-0.018336020410061,0.037239156663418));
res = max(float4(0,0,0,0), res);
return res;
}
