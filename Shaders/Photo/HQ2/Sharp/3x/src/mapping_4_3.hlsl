sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.062609083950520,-0.039495721459389,0.021098282188177,0.050445523113012,-0.000882631866261,-0.109611205756664,0.059062402695417,0.152594089508057,0.000177762616659,-0.048275593668222,-0.048794265836477,0.089876756072044,0.010951887816191,0.114779107272625,0.065973177552223,0.015980495139956));
res += mul(Get(s0,-dx,0), float4x4(0.005016028881073,0.049736179411411,-0.139297232031822,0.082109250128269,0.260852843523026,-0.094153694808483,0.037380605936050,-0.193986356258392,-0.080172359943390,0.093349210917950,0.017285048961639,0.100957088172436,-0.081782013177872,0.060262132436037,-0.022958151996136,0.109395399689674));
res += mul(Get(s0,-dx,dy), float4x4(0.029577642679214,-0.034951541572809,0.080071970820427,-0.028927631676197,0.080509178340435,0.014203296042979,0.015847356989980,-0.054448746144772,0.021108029410243,-0.014384253881872,0.058678481727839,-0.034140385687351,-0.027307471260428,-0.016512820497155,0.020991094410419,0.103010147809982));
res += mul(Get(s0,0,-dy), float4x4(0.054268464446068,0.118540294468403,-0.065592244267464,0.027124440297484,-0.011004296131432,-0.135739296674728,-0.063254334032536,-0.158714145421982,-0.084087625145912,-0.099540568888187,-0.054839052259922,-0.191045850515366,-0.064954064786434,0.060151312500238,0.048993267118931,-0.044754303991795));
res += mul(Get(s0,0,0), float4x4(0.026607254520059,0.080852560698986,-0.016033561900258,-0.006002762354910,-0.057828012853861,-0.069960199296474,-0.065178461372852,-0.097699210047722,-0.000662291131448,0.014980649575591,-0.094187788665295,0.055877126753330,0.052664075046778,0.022758796811104,-0.020351363345981,0.061481624841690));
res += mul(Get(s0,0,dy), float4x4(0.074088893830776,-0.080385014414787,0.019302550703287,0.016360273584723,-0.110625743865967,-0.001726720365696,0.003340054536238,0.017835007980466,0.059200778603554,-0.053750712424517,-0.039381802082062,0.099705889821053,0.024466646835208,0.008014848455787,0.089574575424194,0.055035553872585));
res += mul(Get(s0,dx,-dy), float4x4(0.032236453145742,0.034413672983646,0.126548722386360,-0.040653411298990,0.071018464863300,0.006532226689160,-0.051928561180830,0.145058900117874,0.134575128555298,0.163506060838699,0.045515585690737,0.076327353715897,0.017594540491700,-0.005220636259764,-0.101119272410870,0.039388131350279));
res += mul(Get(s0,dx,0), float4x4(0.109753929078579,0.125243797898293,0.058951277285814,-0.012099460698664,0.005745242349803,0.059011507779360,0.106456026434898,-0.007604044862092,-0.058349680155516,-0.053848866373301,-0.074680641293526,-0.055099219083786,-0.074006229639053,-0.054923623800278,0.149885699152946,-0.018992830067873));
res += mul(Get(s0,dx,dy), float4x4(0.238101124763489,0.057375147938728,0.211381494998932,-0.055896066129208,0.049512498080730,-0.045438382774591,0.074793122708797,-0.062011767178774,0.039906304329634,0.006485110148787,0.042162146419287,-0.037964381277561,0.060927715152502,-0.117045648396015,-0.032978001981974,0.070500448346138));
res += mul(Get(s1,-dx,-dy), float4x4(0.060394946485758,-0.069281063973904,0.069435738027096,-0.069487683475018,0.150040566921234,-0.012213353067636,-0.015921086072922,0.076124519109726,0.055049069225788,-0.037654615938663,0.028139146044850,-0.109650291502476,0.046497065573931,0.178573325276375,-0.016758941113949,0.103340707719326));
res += mul(Get(s1,-dx,0), float4x4(0.027168964967132,-0.097760103642941,0.026726176962256,-0.056660898029804,-0.070716537535191,0.080924808979034,0.027804443612695,0.053770925849676,-0.108483873307705,-0.052107065916061,-0.082563199102879,-0.053898256272078,0.109916187822819,-0.047660518437624,-0.116984739899635,-0.052967548370361));
res += mul(Get(s1,-dx,dy), float4x4(0.073668979108334,-0.066941559314728,-0.141455367207527,0.019312068820000,-0.011063598096371,0.013637391850352,-0.075456343591213,0.064106933772564,-0.072359539568424,-0.012818978168070,0.089773111045361,0.091508872807026,-0.061527702957392,0.060506645590067,0.073668688535690,0.019719680771232));
res += mul(Get(s1,0,-dy), float4x4(0.132010698318481,-0.048352837562561,-0.057902839034796,0.031271222978830,-0.016528829932213,-0.052970357239246,-0.021054724231362,-0.010066531598568,-0.142700493335724,0.049284975975752,-0.154553502798080,0.017875453457236,0.045969560742378,-0.040222380310297,-0.087067380547523,0.017539741471410));
res += mul(Get(s1,0,0), float4x4(0.076759822666645,-0.004841668531299,0.035732612013817,0.035703178495169,-0.077216573059559,0.037478327751160,-0.057868424803019,-0.071981489658356,-0.018996132537723,0.039713911712170,0.001499049365520,-0.029476614668965,-0.161558330059052,0.095456868410110,-0.072214983403683,0.027086673304439));
res += mul(Get(s1,0,dy), float4x4(0.044630914926529,0.005923165939748,-0.075251080095768,-0.029215712100267,0.002910045208409,-0.111665323376656,0.026311257854104,-0.130684331059456,-0.028879046440125,-0.041711751371622,0.097869165241718,-0.090850621461868,0.003822223283350,0.072716481983662,-0.019026855006814,0.011249382048845));
res += mul(Get(s1,dx,-dy), float4x4(0.099508784711361,-0.017948664724827,0.019757896661758,-0.050263270735741,0.027722520753741,-0.098014622926712,0.032775603234768,-0.158472105860710,-0.006881939712912,0.084309168159962,-0.020900821313262,0.032520111650229,0.026721356436610,0.037281699478626,-0.021596699953079,0.004337158985436));
res += mul(Get(s1,dx,0), float4x4(-0.008160146884620,-0.045553032308817,0.033498216420412,0.019523665308952,0.009918683208525,-0.024244811385870,-0.053087871521711,-0.045420553535223,0.043636072427034,-0.096883706748486,-0.118969015777111,0.100587897002697,0.134063631296158,0.057221699506044,-0.022715808823705,0.073627002537251));
res += mul(Get(s1,dx,dy), float4x4(0.004592875950038,0.114264689385891,0.025998050346971,-0.038808789104223,0.059027783572674,-0.015379403717816,0.083213910460472,-0.156617686152458,-0.081462666392326,0.055129501968622,-0.115921266376972,-0.030949043110013,0.048026427626610,0.044021412730217,-0.056732028722763,0.146808683872223));
res += mul(Get(s2,-dx,-dy), float4x4(-0.069606751203537,-0.024038266390562,0.046389468014240,-0.123220697045326,0.086603119969368,0.052080333232880,-0.053503710776567,0.031941287219524,-0.016003578901291,-0.007640004158020,0.034188918769360,-0.074833221733570,0.208663851022720,-0.071939907968044,0.041020471602678,0.056199610233307));
res += mul(Get(s2,-dx,0), float4x4(0.056076597422361,0.108748339116573,-0.047310270369053,-0.019198220223188,-0.069745108485222,-0.003383232513443,-0.064398445188999,-0.113959416747093,0.035177141427994,0.053252264857292,-0.003276382107288,0.234336316585541,-0.039198845624924,-0.024645833298564,0.208086609840393,0.064507707953453));
res += mul(Get(s2,-dx,dy), float4x4(-0.019426681101322,0.043566972017288,-0.030187798663974,0.175396695733070,0.044934455305338,-0.040231447666883,-0.099865719676018,0.138140067458153,-0.004973755218089,-0.121241785585880,-0.010910414159298,-0.099513553082943,-0.020190181210637,0.134352058172226,-0.107590824365616,-0.139274612069130));
res += mul(Get(s2,0,-dy), float4x4(-0.089857771992683,-0.027406904846430,0.055042061954737,-0.039621341973543,-0.150562897324562,0.066925592720509,-0.049949202686548,0.076536752283573,0.021032480522990,-0.076526001095772,-0.035827592015266,0.052606333047152,0.061688233166933,0.003996627405286,0.008998080156744,-0.096826352179050));
res += mul(Get(s2,0,0), float4x4(-0.119754433631897,-0.050496418029070,-0.017603669315577,-0.049542568624020,-0.057038079947233,-0.006870555225760,0.045930869877338,0.065013624727726,0.055542878806591,0.046646896749735,-0.016091106459498,0.025098100304604,-0.096240974962711,-0.056943137198687,-0.079299017786980,0.093698427081108));
res += mul(Get(s2,0,dy), float4x4(-0.131162077188492,-0.030753970146179,-0.066972672939301,0.088634453713894,0.116779029369354,0.020742807537317,-0.062528833746910,-0.011443938128650,0.091633446514606,-0.076524086296558,-0.042853936553001,-0.027623800560832,-0.064838774502277,0.020585095509887,0.113818287849426,0.087426662445068));
res += mul(Get(s2,dx,-dy), float4x4(-0.048491198569536,0.169194117188454,0.073051080107689,0.247360125184059,-0.005576036404818,0.025324603542686,-0.070750616490841,0.050069313496351,0.078008592128754,-0.055490080267191,-0.129586860537529,-0.026169771328568,0.030966011807323,0.077330604195595,-0.074624262750149,0.133284434676170));
res += mul(Get(s2,dx,0), float4x4(0.036158259958029,0.094392158091068,-0.009434424340725,0.059039898216724,-0.024334968999028,-0.018296906724572,-0.002440222306177,-0.034463480114937,-0.028785917907953,-0.015492044389248,-0.023568544536829,-0.100543312728405,0.010928941890597,-0.021984709426761,-0.134545370936394,0.001512658200227));
res += mul(Get(s2,dx,dy), float4x4(0.054670475423336,0.056904036551714,0.005690712947398,-0.045092117041349,-0.018769580870867,0.031516216695309,0.043840385973454,-0.029745979234576,-0.106180086731911,-0.181051418185234,0.057198032736778,-0.074880219995975,0.016735047101974,0.003302015597001,-0.053790353238583,0.078602731227875));
res += mul(Get(s3,-dx,-dy), float4x4(0.135141402482986,-0.007648991420865,0.115748047828674,-0.001315734349191,-0.126457989215851,0.035829164087772,-0.031085569411516,0.069304704666138,-0.069389745593071,0.018584847450256,-0.159380182623863,0.027410224080086,0.070967748761177,0.014441099949181,0.171791717410088,0.043467503041029));
res += mul(Get(s3,-dx,0), float4x4(-0.078128412365913,0.086923584342003,-0.031158495694399,-0.091787010431290,-0.138546869158745,-0.063731394708157,-0.078652195632458,0.089829713106155,-0.040712185204029,0.089401118457317,0.057501636445522,-0.036769650876522,-0.062639281153679,0.053791906684637,-0.019314108416438,0.014314560219646));
res += mul(Get(s3,-dx,dy), float4x4(-0.035122822970152,-0.034430727362633,0.043149884790182,0.006844125688076,0.017081666737795,0.032506842166185,0.002222842304036,0.004184405319393,0.078993968665600,0.202613130211830,0.025360146537423,0.106819361448288,-0.136330455541611,0.022498918697238,-0.017071852460504,0.105789870023727));
res += mul(Get(s3,0,-dy), float4x4(0.036516383290291,-0.002271428238600,0.049045622348785,-0.001413758611307,-0.028806531801820,-0.091673374176025,-0.043155100196600,-0.052237085998058,-0.091276027262211,-0.048992853611708,-0.108176946640015,0.164000988006592,0.027155654504895,0.006043771281838,0.011046014726162,-0.017924513667822));
res += mul(Get(s3,0,0), float4x4(-0.075152851641178,-0.049139685928822,-0.000325889559463,0.177950516343117,-0.037331093102694,0.128328531980515,0.029892610386014,0.161610499024391,0.000758232665248,0.136755555868149,0.100067667663097,0.055693775415421,-0.000041170351324,0.041870560497046,0.027892610058188,0.000669319473673));
res += mul(Get(s3,0,dy), float4x4(-0.054087683558464,0.050056021660566,0.069176085293293,-0.087548553943634,0.056361779570580,0.251969993114471,-0.097245700657368,0.039015766233206,-0.090853087604046,-0.087894074618816,-0.008403611369431,-0.030640481039882,0.009451871737838,0.039465442299843,-0.021841170266271,0.010025665163994));
res += mul(Get(s3,dx,-dy), float4x4(-0.010222340002656,0.088895745575428,-0.000345234380802,0.128182709217072,0.032894961535931,-0.008320009335876,-0.015527100302279,0.124712839722633,-0.081917874515057,0.052789010107517,0.041422881186008,-0.096250198781490,-0.089483022689819,-0.036646667867899,-0.118020310997963,-0.053917128592730));
res += mul(Get(s3,dx,0), float4x4(0.065057300031185,0.004625806119293,-0.117891095578671,-0.015243995003402,0.019715342670679,-0.061505842953920,-0.087949834764004,0.103548973798752,-0.034763056784868,0.033119313418865,0.033274028450251,-0.026621850207448,0.029702445492148,0.033096835017204,-0.031875196844339,-0.121897153556347));
res += mul(Get(s3,dx,dy), float4x4(0.123263299465179,0.147766873240471,-0.018569232895970,-0.101202093064785,0.003820686601102,-0.164047673344612,0.013250690884888,-0.078290686011314,-0.009952337481081,-0.190910026431084,0.097752571105957,0.040571436285973,0.074463352560997,0.139611423015594,0.123927757143974,-0.004677803255618));
res = max(float4(0,0,0,0), res);
return res;
}
