sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012482247315347,0.032186441123486,-0.044317491352558,0.045979551970959,-0.016795495525002,0.187152445316315,0.075452484190464,-0.109251298010349,0.116012379527092,-0.037918284535408,0.020156960934401,0.016783546656370,-0.148706331849098,0.172860652208328,0.115073710680008,-0.049752593040466));
res += mul(Get(s0,-dx,0), float4x4(-0.057499706745148,0.051177375018597,-0.078663773834705,-0.024266833439469,0.016738012433052,0.052841160446405,-0.141355007886887,-0.036469120532274,-0.005242195446044,-0.141326054930687,-0.061640270054340,0.003693330101669,-0.027696976438165,0.086210012435913,-0.043924082070589,0.014574001543224));
res += mul(Get(s0,-dx,dy), float4x4(-0.018655743449926,-0.047492850571871,-0.110376380383968,0.065554611384869,0.054344899952412,0.104699738323689,-0.072261229157448,-0.008449067361653,-0.044078025966883,-0.066510923206806,0.049219567328691,0.015977740287781,-0.094003021717072,0.018301021307707,0.054980181157589,0.035378031432629));
res += mul(Get(s0,0,-dy), float4x4(-0.164195045828819,0.022365240380168,-0.100545607507229,-0.093292810022831,0.035569846630096,-0.083692051470280,0.071574829518795,-0.063455954194069,0.101668082177639,-0.001285486621782,-0.030165702104568,0.084256850183010,0.088771119713783,-0.017969889566302,0.072411797940731,-0.071683101356030));
res += mul(Get(s0,0,0), float4x4(-0.073688283562660,-0.008895131759346,-0.039671625941992,-0.019525535404682,0.100262165069580,0.118390068411827,-0.019391285255551,-0.007903962396085,-0.006920031271875,0.146028801798820,-0.022867634892464,0.102600388228893,-0.049819927662611,-0.024741007015109,-0.019999407231808,-0.117241449654102));
res += mul(Get(s0,0,dy), float4x4(0.123349189758301,-0.000514853978530,-0.016315585002303,-0.050211757421494,-0.053295485675335,0.054676726460457,-0.015141809359193,0.022487461566925,-0.034405715763569,-0.004906713496894,0.033188227564096,0.015870327129960,0.114742398262024,0.107666887342930,0.037416461855173,0.044572893530130));
res += mul(Get(s0,dx,-dy), float4x4(-0.093246549367905,-0.228379815816879,-0.123975455760956,0.010277032852173,0.022264279425144,0.098257169127464,0.130861327052116,-0.107313558459282,0.077940568327904,0.096551969647408,-0.001231577713042,0.012982156127691,0.052600082010031,-0.026633726432920,-0.061649523675442,0.102510698139668));
res += mul(Get(s0,dx,0), float4x4(-0.087234310805798,-0.107167586684227,0.094037547707558,-0.109616249799728,-0.071647495031357,-0.004724126774818,-0.045516509562731,0.153030529618263,0.032540243119001,-0.000684046186507,-0.025889994576573,0.060476034879684,-0.016005501151085,0.053640000522137,0.129007026553154,-0.020525215193629));
res += mul(Get(s0,dx,dy), float4x4(0.092513822019100,-0.082186877727509,-0.042183998972178,-0.000358677032636,0.041590921580791,0.064409650862217,-0.218152105808258,0.047635976225138,-0.020973157137632,0.084307037293911,-0.057622283697128,-0.042839013040066,0.072842799127102,-0.011324172839522,-0.061479654163122,0.080004237592220));
res += mul(Get(s1,-dx,-dy), float4x4(0.089781060814857,-0.117868773639202,0.035097435116768,0.002522789873183,0.050596665591002,-0.042489968240261,-0.043001309037209,0.007894757203758,-0.011290697380900,0.032645743340254,-0.030959086492658,-0.107657894492149,0.057670731097460,0.020016094669700,0.071771673858166,-0.018566729500890));
res += mul(Get(s1,-dx,0), float4x4(-0.177499577403069,-0.049970850348473,0.054602835327387,-0.135224968194962,-0.045925606042147,0.093150526285172,0.193056687712669,-0.024158142507076,-0.083837844431400,-0.039884835481644,-0.124431736767292,-0.035984277725220,-0.022194635123014,0.053550764918327,0.045893721282482,-0.082717336714268));
res += mul(Get(s1,-dx,dy), float4x4(-0.031524889171124,0.028482355177402,0.044000860303640,-0.042794853448868,0.011761431582272,0.035017017275095,-0.089629508554935,0.000957324577030,0.021526897326112,-0.004586326889694,-0.107925459742546,-0.033346056938171,0.227102831006050,-0.000191241153516,-0.021387247368693,-0.053955342620611));
res += mul(Get(s1,0,-dy), float4x4(0.105997301638126,-0.029972292482853,-0.060934472829103,-0.035324070602655,-0.022222006693482,-0.022962005808949,-0.037001736462116,-0.072982184588909,-0.158854350447655,0.084017395973206,0.133499145507813,-0.059427846223116,0.020472016185522,0.003225800348446,-0.088242873549461,0.013004416599870));
res += mul(Get(s1,0,0), float4x4(0.047857210040092,-0.162402853369713,0.059100836515427,-0.050037160515785,-0.047122266143560,-0.070914469659328,-0.078171297907829,0.080527991056442,-0.023762043565512,0.070500344038010,0.065082982182503,0.086957372725010,0.066768951714039,-0.075084462761879,0.045496921986341,-0.001275027287193));
res += mul(Get(s1,0,dy), float4x4(0.187207549810410,-0.039628807455301,-0.005479013547301,0.051950525492430,0.010512673296034,0.013230543583632,0.115825630724430,0.030310479924083,0.021345892921090,0.026336988434196,0.025616154074669,-0.110155597329140,0.214494451880455,0.016203757375479,-0.140828937292099,-0.040988925844431));
res += mul(Get(s1,dx,-dy), float4x4(0.040955495089293,0.195639401674271,-0.001251501613297,0.052223898470402,0.007384336553514,0.050403352826834,0.115674242377281,-0.091108888387680,-0.031644891947508,-0.057753846049309,0.094799391925335,-0.035065811127424,0.109757192432880,-0.041943296790123,0.009675310924649,0.115340977907181));
res += mul(Get(s1,dx,0), float4x4(0.039020922034979,0.031950857490301,0.082391142845154,-0.074699163436890,-0.031150678172708,0.020876633003354,0.013099617324769,-0.110087819397449,0.019749721512198,0.078039117157459,-0.000520639645401,-0.008881710469723,-0.096798852086067,-0.042529094964266,0.036287553608418,-0.048974502831697));
res += mul(Get(s1,dx,dy), float4x4(0.023203436285257,0.020328408107162,0.047689240425825,0.102446340024471,0.010527998209000,0.049747176468372,-0.060656514018774,0.008900525979698,-0.090765781700611,-0.087520785629749,0.087945520877838,0.020713552832603,0.151793122291565,0.059522405266762,0.066699139773846,0.074245877563953));
res += mul(Get(s2,-dx,-dy), float4x4(-0.037136137485504,-0.036402072757483,0.003638438647613,0.073978841304779,-0.029272668063641,-0.055802077054977,0.051274228841066,-0.004166019614786,0.054642561823130,0.009375249035656,-0.059511337429285,0.070639759302139,-0.022370887920260,-0.188446581363678,0.051664233207703,0.111829251050949));
res += mul(Get(s2,-dx,0), float4x4(-0.039138335734606,0.070339269936085,0.140975564718246,-0.134945303201675,0.124984584748745,-0.084164351224899,0.087917588651180,-0.026261692866683,0.058045577257872,0.015590249560773,0.154368132352829,0.003609241917729,0.120461359620094,-0.092429935932159,-0.000731140142307,-0.002044909168035));
res += mul(Get(s2,-dx,dy), float4x4(0.085525840520859,0.014145071618259,-0.015736423432827,-0.099116578698158,0.147246807813644,-0.019676532596350,0.039275068789721,-0.057587120682001,-0.006813494488597,-0.071467846632004,0.043200131505728,0.063263386487961,0.140624865889549,0.008692111819983,0.088449664413929,-0.020809376612306));
res += mul(Get(s2,0,-dy), float4x4(0.105699077248573,-0.123222410678864,0.036323759704828,0.053933598101139,0.107581488788128,-0.115076385438442,0.054917074739933,0.030204163864255,-0.011632971465588,-0.054633647203445,-0.010699572972953,-0.027277231216431,-0.069206431508064,0.116535462439060,-0.127867057919502,0.026785762980580));
res += mul(Get(s2,0,0), float4x4(-0.092054076492786,-0.016202952712774,-0.007046434562653,-0.005472602788359,0.061412863433361,0.119790390133858,-0.064539432525635,-0.093335404992104,-0.002364889951423,0.028823453933001,0.064616702497005,-0.045438781380653,-0.057052735239267,0.081058956682682,-0.094576068222523,-0.018888926133513));
res += mul(Get(s2,0,dy), float4x4(-0.000815130188130,0.017483752220869,0.122154548764229,0.025044776499271,0.003562260419130,0.056724734604359,0.023705471307039,-0.004235826432705,0.021701829507947,0.095550037920475,0.019253997132182,-0.102277100086212,-0.020001962780952,-0.018559034913778,-0.132882058620453,-0.127385541796684));
res += mul(Get(s2,dx,-dy), float4x4(0.025642596185207,0.034840457141399,-0.006996501237154,0.021993573755026,0.029907736927271,0.172623455524445,0.101914741098881,-0.017351945862174,-0.010719561949372,-0.045074615627527,-0.017450738698244,0.048783831298351,0.012032493948936,-0.014054667204618,-0.026996135711670,0.089679181575775));
res += mul(Get(s2,dx,0), float4x4(-0.012926938943565,-0.035960275679827,-0.036147404462099,0.050400324165821,-0.091261789202690,0.099060103297234,-0.106280259788036,-0.091319926083088,0.027528805658221,0.082002729177475,-0.011802962049842,-0.056034795939922,-0.098394982516766,0.095649778842926,0.035777680575848,-0.093017883598804));
res += mul(Get(s2,dx,dy), float4x4(-0.109221942722797,-0.071742482483387,0.018897078931332,-0.092722758650780,0.006387088447809,0.083610378205776,-0.008161795325577,-0.026867255568504,0.032080490142107,-0.026408860459924,-0.093280464410782,0.062691375613213,-0.158750817179680,0.138332679867744,0.131221100687981,-0.027381787076592));
res += mul(Get(s3,-dx,-dy), float4x4(-0.074575662612915,-0.134085223078728,0.103856436908245,0.029143242165446,-0.072258397936821,0.003264612751082,-0.022453865036368,-0.097180336713791,0.074410334229469,0.007288254797459,-0.029618283733726,0.154820621013641,0.004515200387686,-0.030551534146070,0.018715735524893,-0.091804839670658));
res += mul(Get(s3,-dx,0), float4x4(-0.010807068087161,-0.040121704339981,-0.008587479591370,0.061697591096163,-0.087067127227783,-0.017675442621112,-0.030421260744333,0.018152162432671,-0.068003945052624,0.062754034996033,-0.057865247130394,-0.006202703807503,0.048645436763763,-0.015834178775549,-0.132707461714745,0.093329891562462));
res += mul(Get(s3,-dx,dy), float4x4(0.053616140037775,-0.026123387739062,-0.142791524529457,-0.147115886211395,0.070336416363716,0.078146524727345,-0.067624092102051,0.067898847162724,0.100085660815239,-0.015552057884634,-0.051201168447733,-0.059146605432034,-0.046756435185671,-0.009463948197663,-0.072702921926975,0.024062233045697));
res += mul(Get(s3,0,-dy), float4x4(-0.076903529465199,-0.042041819542646,0.002644537016749,0.012252496555448,-0.111978635191917,0.073466785252094,0.125627845525742,0.024438198655844,-0.078913226723671,-0.082470826804638,-0.028930477797985,-0.008339925669134,0.038764007389545,-0.104409173130989,0.041542008519173,-0.054874252527952));
res += mul(Get(s3,0,0), float4x4(0.003221409395337,-0.106559313833714,0.094142653048038,-0.147078245878220,-0.145173534750938,0.020397908985615,-0.171688944101334,-0.083491630852222,0.023973340168595,0.007372972089797,0.011883013881743,0.021696491166949,-0.075902178883553,-0.035358782857656,0.000499360903632,-0.021570244804025));
res += mul(Get(s3,0,dy), float4x4(-0.025076083838940,-0.146464020013809,-0.123651906847954,-0.014012022875249,-0.006521048489958,0.096437126398087,-0.043160952627659,-0.008416886441410,0.132463768124580,0.026211289688945,-0.044880881905556,-0.054877299815416,0.041937075555325,0.007413428276777,-0.050678834319115,0.084484547376633));
res += mul(Get(s3,dx,-dy), float4x4(-0.070590600371361,0.011485891416669,-0.040062025189400,-0.090277671813965,0.014844449236989,-0.030824454501271,0.009777048602700,-0.003489522961900,0.029285121709108,-0.103275395929813,-0.062598362565041,-0.058074407279491,-0.056406710296869,0.005111298523843,-0.016731461510062,0.040122956037521));
res += mul(Get(s3,dx,0), float4x4(-0.059535909444094,-0.002136021619663,0.216708913445473,-0.049498997628689,0.027117453515530,-0.000922244798858,0.116659827530384,0.055155202746391,0.027419257909060,-0.117301337420940,0.014621245674789,-0.054570510983467,0.100094355642796,-0.013565523549914,0.030446462333202,0.029229125007987));
res += mul(Get(s3,dx,dy), float4x4(0.006438128184527,-0.083708040416241,0.098259478807449,-0.102450802922249,0.060982089489698,-0.059632286429405,0.000280798354652,0.033744577318430,-0.074454240500927,-0.026137115433812,-0.023345354944468,-0.057193946093321,-0.163005575537682,0.126301318407059,-0.012464910745621,-0.016089696437120));
res = max(float4(0,0,0,0), res);
return res;
}
