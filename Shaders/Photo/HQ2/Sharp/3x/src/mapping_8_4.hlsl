sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000803721486591,-0.045434899628162,0.005404822062701,0.169191524386406,-0.067642621695995,0.120362877845764,-0.010218891315162,0.014922817237675,0.075575284659863,0.047209486365318,-0.081812612712383,-0.042019568383694,-0.031638182699680,0.056189090013504,0.067268237471581,0.105535425245762));
res += mul(Get(s0,-dx,0), float4x4(-0.029504589736462,0.052050925791264,0.062666237354279,-0.006218105554581,0.058671303093433,0.033940833061934,0.127354308962822,-0.118245430290699,-0.041484933346510,0.003893304150552,0.068469710648060,0.008411815389991,-0.046011827886105,-0.043986290693283,0.014078011736274,0.072494402527809));
res += mul(Get(s0,-dx,dy), float4x4(-0.050473023205996,-0.039446812123060,0.019885594025254,-0.005389911588281,0.089613504707813,0.042411569505930,-0.003470432478935,-0.002095568226650,-0.063118316233158,0.045165125280619,-0.027623711153865,0.099412657320499,0.017825715243816,-0.140598908066750,-0.067334689199924,-0.024170454591513));
res += mul(Get(s0,0,-dy), float4x4(0.004533243365586,-0.000616909877863,-0.169061601161957,0.130823135375977,-0.005382267758250,0.010144074447453,0.112174354493618,0.072597883641720,0.120691694319248,0.093764260411263,0.067185379564762,0.005161270964891,-0.018224213272333,-0.121350802481174,0.009989362210035,0.076157428324223));
res += mul(Get(s0,0,0), float4x4(0.068841598927975,-0.007438516244292,0.096568293869495,0.034130267798901,-0.050965875387192,0.053366590291262,-0.075017973780632,0.058015402406454,0.006115518510342,0.128104209899902,0.051811564713717,-0.015204163268209,-0.109409123659134,-0.006374872289598,0.032721504569054,-0.066534377634525));
res += mul(Get(s0,0,dy), float4x4(-0.111101351678371,0.103073351085186,-0.033226788043976,0.024078667163849,-0.003554619383067,-0.049809616059065,0.126628547906876,-0.002755406079814,0.018466683104634,0.018996236845851,0.066377326846123,0.034192699939013,-0.084267616271973,0.010533449240029,0.076221562922001,0.009881665930152));
res += mul(Get(s0,dx,-dy), float4x4(0.014672539196908,-0.064170710742474,-0.002094479510561,-0.026172934100032,0.002288105199113,-0.038137447088957,-0.017228027805686,-0.091902107000351,-0.036489937454462,0.049714047461748,0.070038810372353,0.096749670803547,0.018616771325469,0.019184829667211,-0.037460785359144,-0.017595777288079));
res += mul(Get(s0,dx,0), float4x4(0.049782283604145,-0.008214346133173,-0.119386442005634,-0.042244326323271,-0.111410506069660,0.022768523544073,0.029499281197786,0.099920101463795,0.030018694698811,0.031211342662573,0.035465613007545,0.146303161978722,-0.009252946823835,-0.137320637702942,0.041443213820457,0.087355859577656));
res += mul(Get(s0,dx,dy), float4x4(0.134619697928429,0.036282010376453,0.058980248868465,-0.097792439162731,0.002370309084654,0.053914815187454,0.015689229592681,-0.026272496208549,-0.006191064603627,0.042770836502314,-0.009452622383833,0.067642301321030,0.126923814415932,0.058032434433699,0.005261426325887,0.097652010619640));
res += mul(Get(s1,-dx,-dy), float4x4(0.069968707859516,-0.093138828873634,0.084138050675392,-0.145651012659073,0.024323435500264,-0.102715648710728,0.025253826752305,0.036626547574997,0.027882697060704,0.069282896816730,0.016442056745291,0.061948936432600,-0.144524365663528,-0.105034321546555,-0.053642459213734,0.077223941683769));
res += mul(Get(s1,-dx,0), float4x4(0.021014686673880,0.033295463770628,0.039583202451468,-0.082268826663494,0.024921795353293,-0.000495370943099,-0.006163458339870,0.108703352510929,-0.003561892779544,-0.020677814260125,0.028536159545183,-0.044217448681593,0.017170473933220,-0.012477123178542,0.138006716966629,-0.035247627645731));
res += mul(Get(s1,-dx,dy), float4x4(0.006713921204209,-0.003361593233421,0.067839629948139,0.006801893468946,-0.016711710020900,-0.066081956028938,0.014573587104678,0.101583607494831,-0.080946877598763,-0.035558156669140,0.025378977879882,-0.029991324990988,0.118182025849819,-0.103866137564182,0.018267849460244,0.019837485626340));
res += mul(Get(s1,0,-dy), float4x4(0.022984357550740,0.064844891428947,0.014200047589839,-0.037792500108480,-0.001159092993475,-0.081734500825405,0.075896367430687,-0.081540971994400,-0.080104470252991,-0.016871433705091,0.053555224090815,0.146487265825272,-0.173382788896561,0.002472496824339,-0.004202803596854,0.054452508687973));
res += mul(Get(s1,0,0), float4x4(0.024507878348231,0.026087561622262,-0.067272529006004,-0.016848416998982,-0.060595910996199,0.013273208402097,0.096055187284946,-0.095051437616348,0.045548837631941,0.083929948508739,-0.086303412914276,-0.049851324409246,-0.054872617125511,-0.075875975191593,0.023965343832970,0.030975138768554));
res += mul(Get(s1,0,dy), float4x4(-0.072084985673428,-0.065610945224762,-0.041228361427784,-0.065589688718319,-0.063500866293907,0.059745077043772,-0.037206348031759,0.142493069171906,-0.040274132043123,0.163031250238419,0.076813116669655,0.103021316230297,0.033682312816381,0.070259548723698,-0.040087934583426,-0.011193675920367));
res += mul(Get(s1,dx,-dy), float4x4(-0.026700463145971,0.006729508284479,0.008925528265536,-0.085553713142872,0.009367261081934,0.076930105686188,0.005178725812584,0.079406075179577,0.001033188425936,0.054051201790571,0.087675653398037,0.122476018965244,-0.043186075985432,-0.143812581896782,0.002621915424243,-0.134959936141968));
res += mul(Get(s1,dx,0), float4x4(-0.014192144386470,0.107584655284882,-0.083550132811069,-0.032244767993689,-0.004362699110061,-0.069738037884235,-0.014784735627472,0.012308916077018,-0.144537553191185,-0.086016006767750,-0.052692260593176,0.067250385880470,0.001358551904559,-0.163412064313889,0.191206946969032,-0.160357743501663));
res += mul(Get(s1,dx,dy), float4x4(0.018325172364712,0.001441009808332,-0.053137239068747,0.029428819194436,-0.040387492626905,-0.062405403703451,-0.106175780296326,0.015569866634905,0.051650971174240,0.023217145353556,-0.028247065842152,-0.000334140204359,-0.114076659083366,-0.102921701967716,0.051623314619064,-0.138674572110176));
res += mul(Get(s2,-dx,-dy), float4x4(-0.037168737500906,0.012635426595807,0.121650971472263,-0.071162290871143,0.049458526074886,0.016649547964334,0.149016171693802,-0.000995575101115,0.039677985012531,0.029089963063598,0.051267437636852,0.093885362148285,-0.092551827430725,0.061951003968716,0.025295345112681,0.002218172652647));
res += mul(Get(s2,-dx,0), float4x4(-0.024535266682506,-0.052331019192934,0.047218285501003,0.078958675265312,0.049280136823654,-0.148481443524361,0.137632369995117,0.070421770215034,-0.015086039900780,0.034310288727283,-0.100712813436985,-0.032304964959621,0.139727547764778,0.036286726593971,-0.178382679820061,0.002875874284655));
res += mul(Get(s2,-dx,dy), float4x4(-0.001127682044171,-0.076237887144089,0.004207612015307,0.079901181161404,0.000385119550629,-0.053259011358023,0.094350270926952,-0.124539509415627,-0.076487787067890,0.035233620554209,-0.090831488370895,0.006900338456035,-0.090995810925961,-0.009053654968739,0.127656087279320,-0.018389493227005));
res += mul(Get(s2,0,-dy), float4x4(0.021732680499554,-0.089173294603825,0.086204849183559,-0.149588823318481,-0.055858932435513,-0.027374323457479,-0.047774467617273,0.068456642329693,0.031968306750059,-0.080276459455490,0.145913809537888,-0.017778402194381,-0.048628721386194,0.032627914100885,0.142932221293449,-0.104026161134243));
res += mul(Get(s2,0,0), float4x4(0.009496103040874,0.057989425957203,-0.093906164169312,0.058930769562721,-0.023165430873632,0.039023380726576,-0.022787667810917,-0.015049527399242,-0.049575116485357,0.012908627279103,-0.035957984626293,-0.031331147998571,0.108762033283710,-0.139384329319000,-0.045124374330044,-0.079570293426514));
res += mul(Get(s2,0,dy), float4x4(-0.014767344109714,0.029341010376811,-0.138818025588989,0.149236887693405,0.010339680127800,-0.004187854006886,-0.060300961136818,0.030334878712893,-0.003343932563439,0.046454820781946,-0.034405682235956,0.007790089119226,-0.000999162322842,0.063863418996334,-0.008634773083031,-0.030300760641694));
res += mul(Get(s2,dx,-dy), float4x4(-0.067211501300335,-0.006167655810714,0.033770024776459,0.207693040370941,-0.029206136241555,0.022095831111073,-0.019188437610865,-0.081895560026169,0.001688797376119,0.121385619044304,-0.020573938265443,-0.006682815961540,-0.017311517149210,0.043557185679674,-0.101219676434994,0.040715128183365));
res += mul(Get(s2,dx,0), float4x4(-0.069451704621315,0.001411000383087,0.075068555772305,0.050658684223890,0.037064589560032,-0.009777222760022,0.027703253552318,-0.000280725682387,-0.055799070745707,-0.010007129050791,0.014265965670347,-0.044326025992632,-0.028635438531637,-0.106132350862026,0.115209929645061,-0.149141892790794));
res += mul(Get(s2,dx,dy), float4x4(-0.025485597550869,-0.018059896305203,-0.047837611287832,0.038246951997280,-0.001481965882704,0.144335687160492,0.116160050034523,0.038885440677404,0.003877636976540,-0.036851689219475,-0.183148190379143,0.000355636933818,0.037446752190590,-0.007547716610134,0.013428846374154,-0.083943448960781));
res += mul(Get(s3,-dx,-dy), float4x4(0.011509471572936,-0.103005111217499,0.131142079830170,-0.023793006315827,-0.110111840069294,-0.070496909320354,-0.010121588595212,-0.014287345111370,0.058270581066608,0.022157035768032,0.040778029710054,0.028358878567815,0.004414056427777,-0.012324645183980,-0.011910495348275,0.001876310212538));
res += mul(Get(s3,-dx,0), float4x4(0.013872077688575,-0.008679434657097,-0.091642871499062,-0.023687632754445,-0.148824781179428,-0.028176801279187,0.024497674778104,-0.025965740904212,0.104654848575592,-0.049878526479006,0.082367278635502,0.043264552950859,0.086815685033798,-0.072932168841362,-0.006594540085644,0.054631412029266));
res += mul(Get(s3,-dx,dy), float4x4(0.033011071383953,-0.065032579004765,0.060321487486362,0.042383939027786,0.067394793033600,0.009008140303195,0.130427047610283,0.002810666803271,0.009333984926343,0.014977363869548,-0.003159681800753,0.006874289829284,0.012727714143693,0.077609837055206,-0.053368061780930,-0.109622642397881));
res += mul(Get(s3,0,-dy), float4x4(-0.048143591731787,0.042898055166006,0.024290442466736,-0.067019470036030,0.009716464206576,-0.034817919135094,0.166647538542747,0.066064156591892,-0.017274837940931,0.114516936242580,-0.132993906736374,0.131415203213692,0.007835566997528,0.022101216018200,-0.145222678780556,-0.075867243111134));
res += mul(Get(s3,0,0), float4x4(0.041421305388212,-0.010748551227152,0.207781389355659,-0.073263876140118,0.023532327264547,-0.075458467006683,-0.059220489114523,0.007166376803070,0.064742244780064,-0.086719267070293,0.116823412477970,-0.101988077163696,0.033233609050512,-0.019410779699683,-0.059574294835329,0.074517332017422));
res += mul(Get(s3,0,dy), float4x4(-0.108835540711880,-0.027906153351068,-0.013389241881669,-0.070280961692333,-0.106956295669079,-0.042781788855791,0.017934726551175,0.019643604755402,0.010590496473014,0.034895155578852,0.008443851023912,-0.057798266410828,0.170025214552879,-0.069812685251236,-0.007019738201052,-0.124424375593662));
res += mul(Get(s3,dx,-dy), float4x4(-0.142312824726105,-0.020803451538086,0.102259956300259,-0.058861281722784,-0.016567803919315,0.082572773098946,0.007277960889041,-0.010390968993306,0.034844275563955,0.011869429610670,-0.066951453685760,0.097498662769794,-0.017052650451660,-0.083629906177521,-0.022332321852446,0.044021721929312));
res += mul(Get(s3,dx,0), float4x4(0.011176819913089,0.012102846987545,0.063573814928532,0.040379747748375,-0.005548053886741,-0.001977529143915,0.012852679938078,0.040199548006058,0.015285130590200,-0.015100653283298,-0.023140460252762,-0.039036825299263,0.015511096455157,0.060899697244167,0.034910563379526,0.029697649180889));
res += mul(Get(s3,dx,dy), float4x4(0.011689484119415,-0.020227612927556,-0.027728579938412,-0.026542820036411,-0.115889430046082,-0.017955070361495,0.122807398438454,-0.062593542039394,0.011442711576819,-0.031835272908211,-0.019518764689565,-0.065924450755119,-0.107422500848770,0.035251453518867,0.012549744918942,0.167971700429916));
res = max(float4(0,0,0,0), res);
return res;
}
