sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.089436896145344,-0.032832045108080,0.063145659863949,0.043764110654593,0.048955995589495,0.093909539282322,-0.058859191834927,-0.012196076102555,0.070524118840694,-0.012635034509003,0.067659884691238,-0.053063604980707,-0.002318405546248,0.004299976397306,0.069602213799953,-0.019173450767994));
res += mul(Get(s0,-dx,0), float4x4(-0.007896405644715,0.155556783080101,-0.054665464907885,0.023699052631855,0.033572342246771,0.056607425212860,-0.008578669279814,-0.054996717721224,-0.116841480135918,0.009403306059539,0.186366453766823,0.002124429680407,0.127058640122414,-0.126603633165359,-0.012610215693712,0.118339128792286));
res += mul(Get(s0,-dx,dy), float4x4(0.007317482028157,0.018053941428661,-0.025791194289923,-0.019721910357475,0.076702438294888,-0.014659117907286,-0.018037341535091,-0.134435117244720,-0.057503301650286,-0.026483019813895,-0.018406912684441,-0.116456255316734,0.005072042811662,-0.141991630196571,0.025217700749636,-0.115118719637394));
res += mul(Get(s0,0,-dy), float4x4(-0.006216360721737,-0.020946690812707,-0.005462927278131,-0.063194058835506,-0.076093770563602,-0.031096387654543,-0.039425447583199,-0.004679775796831,0.073738932609558,-0.030401637777686,-0.015766315162182,0.059778135269880,0.151975393295288,-0.038038149476051,-0.023765495046973,0.058897584676743));
res += mul(Get(s0,0,0), float4x4(0.039005711674690,0.113013736903667,0.018681740388274,0.038563590496778,-0.013216704130173,-0.017286259680986,-0.001321578631178,-0.050881259143353,0.079414062201977,0.088546589016914,-0.000473515305202,0.142449349164963,-0.150414139032364,-0.002630128525198,-0.041279941797256,-0.020989282056689));
res += mul(Get(s0,0,dy), float4x4(0.025444362312555,-0.061288867145777,0.132042780518532,0.013177242130041,0.007657339796424,0.080657042562962,0.169459566473961,0.007505674846470,-0.073589742183685,-0.035700660198927,-0.010435683652759,0.083099491894245,-0.023463007062674,-0.067584127187729,-0.084096632897854,-0.003240547142923));
res += mul(Get(s0,dx,-dy), float4x4(-0.084220074117184,0.104398123919964,-0.139107406139374,-0.025354554876685,0.126378163695335,-0.024552110582590,0.124003849923611,-0.091344915330410,0.136627107858658,0.020705822855234,-0.075568400323391,0.060224302113056,0.050955723971128,0.012115695513785,0.020008992403746,0.099182918667793));
res += mul(Get(s0,dx,0), float4x4(0.076494991779327,0.012522265315056,0.021206408739090,0.046846549957991,0.099487967789173,0.139858603477478,0.056743133813143,-0.026766814291477,0.107770547270775,0.027458034455776,-0.017865300178528,0.092852734029293,0.065998338162899,-0.023444004356861,-0.036510173231363,-0.080471299588680));
res += mul(Get(s0,dx,dy), float4x4(-0.055968996137381,0.043046887964010,0.032941482961178,0.071876846253872,-0.030678918585181,-0.092386886477470,-0.073291726410389,0.144026145339012,-0.024450916796923,0.019402140751481,0.127183228731155,0.054418209940195,0.096414476633072,0.112934067845345,-0.102984033524990,0.110498182475567));
res += mul(Get(s1,-dx,-dy), float4x4(-0.020077614113688,0.036327000707388,0.086512990295887,0.038889046758413,0.028643202036619,-0.127276018261909,0.013942778110504,-0.039185486733913,-0.104820936918259,0.064771629869938,0.004421890713274,0.020722767338157,-0.004072064068168,-0.030758431181312,-0.018226021900773,-0.150422900915146));
res += mul(Get(s1,-dx,0), float4x4(0.054372888058424,-0.028635565191507,0.048286926001310,0.030809838324785,0.100977033376694,0.047033026814461,0.024744611233473,0.084907665848732,0.047799210995436,0.072198539972305,0.047957912087440,-0.001748081413098,0.137599572539330,0.025185037404299,-0.005610298365355,-0.109999023377895));
res += mul(Get(s1,-dx,dy), float4x4(0.008067785762250,-0.034852717071772,-0.073813199996948,0.101489640772343,0.042902149260044,0.009881506673992,0.080408938229084,0.052393108606339,0.016124485060573,0.041662748903036,-0.046800702810287,-0.001391199999489,-0.111718654632568,-0.063023895025253,0.116224817931652,0.008160768076777));
res += mul(Get(s1,0,-dy), float4x4(-0.062318433076143,0.008432802744210,-0.016158612444997,0.023630384355783,-0.109512120485306,0.034072089940310,0.021433904767036,-0.112818628549576,-0.014914205297828,-0.049324113875628,-0.064076818525791,0.105462439358234,-0.022933073341846,-0.031525682657957,-0.013976412825286,-0.009256223216653));
res += mul(Get(s1,0,0), float4x4(-0.004606260452420,0.100346453487873,0.036656588315964,0.013210296630859,-0.035954628139734,0.030259512364864,0.119387596845627,-0.017441535368562,-0.105403095483780,0.015766916796565,-0.038133930414915,-0.030641164630651,0.197288438677788,0.081960141658783,0.004760825075209,0.083078399300575));
res += mul(Get(s1,0,dy), float4x4(0.009790185838938,0.089351303875446,-0.058503296226263,-0.079284094274044,0.044743746519089,-0.147721603512764,-0.159813091158867,0.005753464996815,-0.003353612963110,0.003791264956817,-0.115642897784710,0.134675472974777,-0.065937399864197,-0.069968760013580,0.026620145887136,0.043606031686068));
res += mul(Get(s1,dx,-dy), float4x4(0.043604865670204,-0.009617718867958,0.075692899525166,0.000200030975975,0.110601216554642,0.079475820064545,0.045956045389175,0.098385587334633,-0.016649920493364,0.019358424469829,0.099875509738922,-0.018973544239998,0.058365773409605,0.069979794323444,-0.085681341588497,-0.032510057091713));
res += mul(Get(s1,dx,0), float4x4(0.009594218805432,-0.007613150868565,-0.007596146315336,0.017859421670437,-0.083497233688831,0.021957043558359,-0.089025303721428,0.139743983745575,-0.048307966440916,-0.015366624109447,0.007626269478351,0.051355861127377,0.002823669230565,-0.071676544845104,-0.159194871783257,0.117547549307346));
res += mul(Get(s1,dx,dy), float4x4(0.003877298673615,0.069811783730984,0.081185430288315,-0.077192716300488,0.091472662985325,0.096791245043278,-0.099107928574085,0.017387038096786,-0.009772907011211,0.015516302548349,-0.057138171046972,-0.121601238846779,-0.080155238509178,0.018403988331556,0.125701650977135,-0.118919558823109));
res += mul(Get(s2,-dx,-dy), float4x4(-0.042910691350698,-0.064283080399036,-0.008782417513430,0.128301277756691,-0.067583322525024,-0.091885954141617,0.091882735490799,-0.171935051679611,0.030970560386777,0.030688703060150,0.099142350256443,-0.054477706551552,0.157634600996971,0.166807964444160,-0.051614694297314,-0.068667277693748));
res += mul(Get(s2,-dx,0), float4x4(-0.016435291618109,-0.094892658293247,0.040518209338188,-0.074428170919418,0.030526459217072,-0.090474382042885,-0.037974327802658,0.067456513643265,-0.029826205223799,0.151746869087219,0.054132625460625,0.093408495187759,0.159530371427536,0.161309063434601,0.041620098054409,0.000566775852349));
res += mul(Get(s2,-dx,dy), float4x4(-0.019205661490560,-0.046473607420921,0.091067939996719,-0.061763621866703,-0.030282277613878,0.023881053552032,0.074411436915398,-0.011401167139411,0.109530568122864,-0.090954914689064,0.020849557593465,-0.004206305835396,-0.027564857155085,0.008393030613661,0.011744817718863,-0.037593457847834));
res += mul(Get(s2,0,-dy), float4x4(0.038016844540834,0.073041088879108,0.081621207296848,-0.060045983642340,0.059977449476719,-0.013379991985857,0.065293684601784,0.008252444677055,-0.061812229454517,0.054258275777102,0.053516220301390,-0.057875290513039,0.023496609181166,-0.146837994456291,0.019821630790830,0.063166700303555));
res += mul(Get(s2,0,0), float4x4(0.161656305193901,0.037679914385080,-0.059766232967377,-0.081285186111927,-0.089171171188354,-0.129897654056549,-0.130679309368134,0.041821360588074,0.061221726238728,0.240179628133774,-0.050792913883924,0.001914934720844,-0.175289124250412,0.161382034420967,0.086633391678333,0.076155774295330));
res += mul(Get(s2,0,dy), float4x4(-0.014553925022483,-0.061267275363207,-0.004491239320487,0.112380087375641,0.101980410516262,0.028020894154906,0.066328331828117,0.046752393245697,-0.006081428844482,0.124140098690987,0.074603162705898,0.143085464835167,0.044091802090406,-0.036926280707121,0.086182668805122,-0.098438061773777));
res += mul(Get(s2,dx,-dy), float4x4(0.019951779395342,0.071653530001640,-0.048186872154474,-0.032682701945305,-0.028120892122388,-0.049639817327261,-0.004576981067657,-0.079547271132469,0.088771820068359,-0.073897898197174,-0.014842133969069,-0.133189097046852,0.119403094053268,-0.049715604633093,-0.020772645249963,-0.010610074736178));
res += mul(Get(s2,dx,0), float4x4(0.022014236077666,-0.104890838265419,-0.091348521411419,-0.135652363300323,-0.072656780481339,0.048216570168734,0.090840108692646,-0.030865568667650,-0.039780534803867,0.161680221557617,0.017048651352525,-0.007582125719637,0.158964455127716,0.006142743863165,-0.001585568883456,0.023376837372780));
res += mul(Get(s2,dx,dy), float4x4(0.009477115236223,-0.025001864880323,-0.054245818406343,-0.113952130079269,0.029959347099066,-0.032501999288797,0.002922550076619,-0.073470801115036,0.081243693828583,-0.005674243904650,0.080979607999325,-0.069017991423607,0.084641128778458,-0.052245099097490,0.123112805187702,0.025311462581158));
res += mul(Get(s3,-dx,-dy), float4x4(-0.128392428159714,0.053792551159859,-0.055560607463121,-0.176513224840164,-0.230339229106903,0.023214910179377,-0.127874687314034,0.090513475239277,-0.049713905900717,0.012093707919121,-0.132414445281029,-0.136215344071388,0.130557566881180,0.054666139185429,-0.034890711307526,0.055624146014452));
res += mul(Get(s3,-dx,0), float4x4(-0.039383020251989,-0.025832969695330,0.032896891236305,0.027051202952862,0.082206763327122,0.073228053748608,-0.028606018051505,0.017084352672100,0.139232888817787,0.031553100794554,-0.121809497475624,-0.091479264199734,-0.016174905002117,-0.059949662536383,0.022223806008697,-0.013351201079786));
res += mul(Get(s3,-dx,dy), float4x4(0.084654636681080,-0.058882102370262,-0.041586328297853,-0.082639373838902,-0.005086738150567,-0.126745745539665,-0.052796501666307,0.086525969207287,-0.022050844505429,-0.107937291264534,-0.033576335757971,-0.233061537146568,-0.127935498952866,0.010926660150290,-0.035424336791039,-0.000978712225333));
res += mul(Get(s3,0,-dy), float4x4(-0.004787559155375,0.006180426571518,-0.194751650094986,0.037237249314785,0.018002886325121,0.049362968653440,-0.019798353314400,0.014591992832720,0.003509767819196,0.075530014932156,-0.091479860246181,-0.083110436797142,-0.084694027900696,0.001647756202146,0.070551544427872,0.018224453553557));
res += mul(Get(s3,0,0), float4x4(-0.071134954690933,0.112303771078587,0.036253344267607,-0.131586059927940,0.193622097373009,-0.022893045097589,-0.046940565109253,-0.030650680884719,0.085758902132511,-0.074284113943577,-0.034848921000957,-0.095986187458038,0.100090630352497,0.076649054884911,-0.025309566408396,0.047524105757475));
res += mul(Get(s3,0,dy), float4x4(-0.054125946015120,-0.052954643964767,0.055285405367613,0.152678266167641,0.006343655753881,0.022463167086244,0.002318084472790,-0.064153015613556,0.011848700232804,-0.060241784900427,-0.082670137286186,-0.050094675272703,-0.036230418831110,-0.185973539948463,-0.180720031261444,0.160312548279762));
res += mul(Get(s3,dx,-dy), float4x4(-0.034933783113956,-0.043929934501648,0.010303677059710,-0.047829393297434,-0.008918973617256,-0.016782285645604,0.076849505305290,0.012106662616134,0.021734578534961,0.014537822455168,-0.126267686486244,0.037406716495752,-0.047829680144787,0.073422588407993,0.023257877677679,0.106625713407993));
res += mul(Get(s3,dx,0), float4x4(0.112799204885960,0.040832817554474,0.012912944890559,-0.046225666999817,-0.071819730103016,0.079142771661282,0.010625419206917,-0.045970812439919,0.149581849575043,-0.077249817550182,-0.029516441747546,0.019430009648204,0.323827058076859,-0.106500588357449,0.043547350913286,0.040704794228077));
res += mul(Get(s3,dx,dy), float4x4(-0.015978712588549,-0.166793763637543,-0.156970143318176,0.163110747933388,-0.123216569423676,-0.028869312256575,-0.088781148195267,0.034251883625984,-0.162211284041405,0.131463184952736,-0.091885335743427,-0.047542106360197,0.102052778005600,-0.090803720057011,-0.025395805016160,-0.096299052238464));
res = max(float4(0,0,0,0), res);
return res;
}
