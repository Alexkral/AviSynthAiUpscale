sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.012472087517381,-0.014439404010773,0.065851233899593,-0.009021501988173,-0.015859197825193,-0.177572697401047,-0.075251191854477,0.084058262407780,-0.063765570521355,-0.049227546900511,-0.082134477794170,-0.083033137023449,-0.016280982643366,0.027551373466849,0.069414801895618,0.069622606039047));
res += mul(Get(s0,-dx,0), float4x4(0.115274451673031,0.024809161201119,-0.002233561128378,-0.068682007491589,0.109583042562008,-0.130539387464523,0.014995943754911,0.079867690801620,-0.093281529843807,0.008759135380387,-0.021317539736629,0.070307202637196,0.180232807993889,0.114628210663795,0.055741902440786,-0.043863378465176));
res += mul(Get(s0,-dx,dy), float4x4(0.078501887619495,0.092804089188576,0.034492634236813,-0.089327938854694,-0.096685826778412,-0.076806798577309,0.006213601678610,-0.171730026602745,-0.035375282168388,-0.121203184127808,0.033014915883541,0.029136359691620,-0.073799304664135,0.039387926459312,0.077716551721096,0.007251587230712));
res += mul(Get(s0,0,-dy), float4x4(-0.089450977742672,-0.072401873767376,0.015143537893891,-0.028072668239474,0.004988911561668,0.141017168760300,0.018654020503163,0.045946463942528,-0.057286772876978,-0.002497927518561,0.155048593878746,0.065459802746773,0.037516467273235,0.011334419250488,0.067341893911362,0.009449175558984));
res += mul(Get(s0,0,0), float4x4(0.065893106162548,-0.013533427380025,0.096705779433250,-0.165107905864716,-0.010418605059385,0.074079357087612,0.029103526845574,-0.166403293609619,0.007058303803205,0.041721716523170,-0.045649629086256,0.118506982922554,-0.045273933559656,-0.036140866577625,-0.127157583832741,-0.054867837578058));
res += mul(Get(s0,0,dy), float4x4(0.228926196694374,-0.074395574629307,-0.024987809360027,0.104286395013332,0.070456922054291,-0.019562702625990,-0.005728221032768,-0.078481808304787,-0.016440469771624,0.050123371183872,-0.024597445502877,0.007905368693173,-0.063826054334641,-0.096552066504955,0.035906746983528,-0.019807683303952));
res += mul(Get(s0,dx,-dy), float4x4(-0.050535395741463,0.013990260660648,0.057740215212107,0.012633282691240,0.033973421901464,-0.123110242187977,-0.029031284153461,0.014190440997481,0.051780533045530,0.008172917179763,0.046388112008572,-0.058147881180048,-0.056413047015667,0.001056098612025,0.035758066922426,0.132420092821121));
res += mul(Get(s0,dx,0), float4x4(-0.030021136626601,-0.023491067811847,-0.064272709190845,-0.013703114353120,0.026630153879523,-0.009632906876504,0.015519187785685,-0.092589452862740,-0.083114221692085,-0.156824618577957,-0.025491613894701,-0.024773936718702,0.012376194819808,0.044561557471752,-0.027580415830016,-0.028052438050508));
res += mul(Get(s0,dx,dy), float4x4(0.052799902856350,0.119919210672379,0.077462643384933,0.031127557158470,-0.217751085758209,-0.083717420697212,0.016519214957952,-0.108437463641167,-0.093615360558033,0.029542885720730,-0.015542390756309,0.044330321252346,-0.029081104323268,-0.054922260344028,-0.031824871897697,-0.008099400438368));
res += mul(Get(s1,-dx,-dy), float4x4(-0.047781486064196,-0.084088802337646,0.062014255672693,0.047024983912706,-0.054448977112770,0.000181633848115,-0.011990715749562,0.009894614107907,-0.108985640108585,0.064313523471355,0.132175385951996,-0.123002462089062,0.049296740442514,0.143466204404831,-0.070042833685875,0.075881943106651));
res += mul(Get(s1,-dx,0), float4x4(-0.063269175589085,-0.044362049549818,0.060466151684523,-0.094359554350376,-0.003029513638467,0.001523379934952,0.132047921419144,-0.120004914700985,-0.094080932438374,0.018936539068818,0.061417352408171,-0.123259663581848,0.137092217803001,-0.116455361247063,-0.019590113312006,0.063745930790901));
res += mul(Get(s1,-dx,dy), float4x4(-0.008338568732142,-0.079577818512917,-0.161643296480179,0.055319771170616,-0.013982028700411,-0.008305632509291,0.003960844594985,0.013051603920758,-0.025537453591824,-0.040375147014856,0.080429866909981,-0.062052171677351,-0.171970143914223,0.038224175572395,0.002365893451497,-0.014436578378081));
res += mul(Get(s1,0,-dy), float4x4(0.036904741078615,-0.026473116129637,-0.109184801578522,0.003020430915058,0.175925463438034,-0.039590146392584,-0.043761741369963,0.004548838362098,-0.035633154213428,0.004306016024202,0.028673542663455,-0.054444607347250,-0.017922218888998,0.007994240149856,0.021663798019290,-0.020972548052669));
res += mul(Get(s1,0,0), float4x4(0.023134529590607,0.091719582676888,-0.157058104872704,0.059860236942768,-0.024770367890596,0.054519601166248,0.071801312267780,0.016652010381222,-0.066653497517109,0.027867255732417,0.035680837929249,-0.019908541813493,0.015985261648893,0.030383938923478,0.091750591993332,-0.005060770083219));
res += mul(Get(s1,0,dy), float4x4(-0.042549431324005,-0.165401265025139,0.015382737852633,0.004737110808492,-0.175320044159889,-0.047339852899313,0.131564095616341,0.029172813519835,-0.029276747256517,0.039886109530926,0.085762143135071,-0.205400153994560,-0.066664822399616,-0.056434161961079,-0.060396321117878,0.026442103087902));
res += mul(Get(s1,dx,-dy), float4x4(0.064306505024433,0.115791447460651,-0.039066944271326,0.016053719446063,0.090215533971786,0.118786036968231,-0.134802386164665,-0.078236036002636,0.154812932014465,-0.020949941128492,-0.027924427762628,-0.035128071904182,-0.110522776842117,0.129771456122398,-0.161512196063995,-0.121203504502773));
res += mul(Get(s1,dx,0), float4x4(0.022303262725472,0.139149099588394,0.063764713704586,-0.025568012148142,-0.082545019686222,0.044140174984932,-0.136496990919113,0.026578778401017,-0.051023464649916,0.049735024571419,0.050313267856836,0.044499251991510,0.047998122870922,0.030531328171492,-0.032451204955578,-0.120962232351303));
res += mul(Get(s1,dx,dy), float4x4(-0.080101557075977,0.115811549127102,-0.013070281594992,-0.000936482450925,-0.061605855822563,0.084490351378918,0.029628137126565,0.034907478839159,0.164420709013939,0.052471522241831,0.026618061587214,0.043550986796618,0.006813884712756,0.103566609323025,-0.039690010249615,-0.036971349269152));
res += mul(Get(s2,-dx,-dy), float4x4(-0.006675546988845,-0.077158063650131,-0.113612793385983,-0.055708285421133,-0.069057337939739,0.005368881393224,-0.003968893550336,-0.016717966645956,0.061869923025370,0.017944663763046,-0.209832042455673,-0.014894344843924,-0.002315456047654,-0.073626667261124,0.006330521777272,0.023775188252330));
res += mul(Get(s2,-dx,0), float4x4(-0.073765777051449,0.029982430860400,-0.220946431159973,0.059187475591898,-0.073794424533844,0.102917365729809,-0.037794101983309,0.044086396694183,0.065815970301628,-0.092355318367481,0.026871111243963,0.044156532734632,-0.051665764302015,-0.137525871396065,-0.113957613706589,-0.036476649343967));
res += mul(Get(s2,-dx,dy), float4x4(0.037924867123365,-0.018495075404644,-0.157726168632507,-0.045821778476238,0.150272756814957,0.072486169636250,0.018641041591763,0.064826294779778,-0.026804065331817,0.021125288680196,-0.107469223439693,0.008733570575714,-0.073766924440861,0.005452588666230,-0.064323753118515,0.017641048878431));
res += mul(Get(s2,0,-dy), float4x4(0.107816532254219,0.013671055436134,0.126670673489571,-0.086448326706886,-0.127358004450798,0.020384848117828,-0.122162416577339,-0.198294162750244,-0.092871405184269,0.147230386734009,-0.095333285629749,-0.005696121137589,0.039085309952497,-0.007835293188691,0.147386357188225,-0.163528010249138));
res += mul(Get(s2,0,0), float4x4(-0.096636325120926,0.007805649191141,0.129367440938950,0.062961407005787,0.029629345983267,0.056940406560898,0.044260300695896,0.044851318001747,-0.208487406373024,-0.132106393575668,0.021071778610349,-0.137881785631180,0.207866534590721,0.002990004606545,-0.062686644494534,0.121361315250397));
res += mul(Get(s2,0,dy), float4x4(0.041370701044798,-0.041073262691498,-0.165624454617500,-0.005650882143527,0.041885104030371,0.006438862066716,-0.021126260980964,0.019012825563550,-0.047220628708601,0.084896609187126,0.000650728354231,-0.016433347016573,0.145656839013100,-0.032872259616852,-0.003770607523620,0.054644603282213));
res += mul(Get(s2,dx,-dy), float4x4(0.106444574892521,-0.193315476179123,0.088503308594227,-0.072505317628384,-0.021110191941261,0.125745505094528,-0.004964658059180,0.135942324995995,0.099283941090107,0.043905083090067,0.067799441516399,-0.017775466665626,-0.009869672358036,-0.025274578481913,-0.182217702269554,0.014939685352147));
res += mul(Get(s2,dx,0), float4x4(0.080985300242901,-0.089847795665264,0.096671760082245,0.064989969134331,0.064836703240871,-0.038853101432323,0.038385163992643,-0.133340001106262,0.087260447442532,0.001693375292234,-0.071371786296368,-0.204478517174721,0.093486681580544,0.021395971998572,0.164592176675797,-0.095104709267616));
res += mul(Get(s2,dx,dy), float4x4(-0.011386228725314,-0.164435327053070,0.054840028285980,0.026845777407289,0.090411774814129,0.052436474710703,-0.038373753428459,0.054302416741848,0.032956615090370,0.011637295596302,0.028542036190629,-0.012778888456523,0.091936916112900,-0.084831796586514,-0.009440101683140,0.047691680490971));
res += mul(Get(s3,-dx,-dy), float4x4(0.072537578642368,0.039510007947683,-0.060960140079260,-0.014932579360902,-0.068205788731575,0.138205587863922,0.064688973128796,-0.093931004405022,0.000177142763278,-0.081793315708637,0.060662616044283,0.032858282327652,0.029728153720498,-0.012255841866136,0.010090521536767,0.061123397201300));
res += mul(Get(s3,-dx,0), float4x4(0.071886382997036,0.181510269641876,-0.001788748311810,-0.049764327704906,-0.065315127372742,-0.043280329555273,-0.039653006941080,-0.044343598186970,0.024941943585873,0.018074329942465,-0.045240201056004,-0.108723104000092,0.016488675028086,0.005206509027630,0.023562356829643,0.062248125672340));
res += mul(Get(s3,-dx,dy), float4x4(0.004171095322818,-0.111183717846870,-0.007767416071147,0.046905796974897,0.166187658905983,-0.012020297348499,-0.015208819881082,0.046656053513288,0.090746529400349,-0.052161131054163,-0.237471699714661,-0.180887714028358,-0.028000628575683,-0.057191386818886,-0.089059375226498,-0.049903776496649));
res += mul(Get(s3,0,-dy), float4x4(0.032359350472689,-0.040755495429039,0.123446330428123,-0.064298599958420,0.005402395967394,0.085029929876328,0.086931817233562,0.025529149919748,0.055756323039532,-0.155972719192505,0.106772460043430,0.059192873537540,-0.085749678313732,0.050325091928244,-0.020045803859830,0.146455168724060));
res += mul(Get(s3,0,0), float4x4(-0.061999786645174,0.108719505369663,-0.149450868368149,-0.057463701814413,-0.032336723059416,-0.110865823924541,0.067755743861198,-0.030759220942855,-0.076279751956463,0.032459922134876,-0.043255217373371,-0.080376610159874,-0.038467768579721,0.097886465489864,-0.070317625999451,-0.020982751622796));
res += mul(Get(s3,0,dy), float4x4(0.022300913929939,-0.075704716145992,0.012385487556458,-0.069962598383427,0.019656486809254,-0.068535655736923,0.138130843639374,-0.077639184892178,-0.037983275949955,-0.004725032951683,0.118568584322929,-0.032567590475082,-0.055073801428080,-0.109136179089546,-0.095785461366177,0.111859709024429));
res += mul(Get(s3,dx,-dy), float4x4(-0.082985401153564,-0.054916772991419,0.083340264856815,-0.010872423648834,-0.094521977007389,0.005193108227104,0.124980993568897,0.159492298960686,-0.128061041235924,0.011182279326022,0.062984839081764,0.048416946083307,0.010397186502814,-0.062784187495708,0.028706170618534,0.068751730024815));
res += mul(Get(s3,dx,0), float4x4(0.005360003095120,0.022862158715725,-0.143514782190323,-0.086950801312923,-0.026202622801065,-0.057915426790714,0.074649997055531,-0.020998699590564,-0.105914629995823,-0.011663889512420,-0.073983162641525,-0.125321239233017,-0.051982093602419,-0.033238243311644,0.077819690108299,-0.044296968728304));
res += mul(Get(s3,dx,dy), float4x4(0.048310492187738,0.120238341391087,-0.046933397650719,-0.058357812464237,-0.015806328505278,-0.018769532442093,-0.058458585292101,-0.136355072259903,0.005878722760826,0.067380465567112,0.026430703699589,0.018873339518905,0.080263666808605,-0.068465799093246,0.028973216190934,-0.008579789660871));
res = max(float4(0,0,0,0), res);
return res;
}
