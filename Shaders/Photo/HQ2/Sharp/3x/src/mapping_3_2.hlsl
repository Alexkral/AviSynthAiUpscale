sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.094607740640640,-0.098136603832245,0.059573628008366,-0.075783543288708,-0.047208014875650,-0.175653800368309,-0.081283219158649,0.043356843292713,0.086390070617199,0.019208719953895,-0.100823864340782,0.000068545399699,0.178064778447151,0.048649709671736,-0.028041861951351,-0.123703099787235));
res += mul(Get(s0,-dx,0), float4x4(-0.042346134781837,0.066951215267181,0.054470788687468,0.002730480395257,-0.012286783196032,-0.005367342382669,-0.053971312940121,0.080493576824665,0.123586766421795,0.006368627771735,0.091512136161327,0.032437745481730,-0.046960178762674,0.152560591697693,0.016407979652286,0.079967208206654));
res += mul(Get(s0,-dx,dy), float4x4(-0.055761389434338,0.159810572862625,0.026554765179753,-0.016609551385045,-0.132116049528122,-0.018539585173130,-0.060004606842995,-0.153829023241997,-0.096980154514313,0.143749162554741,0.169061020016670,-0.085865564644337,0.037736769765615,-0.004536217544228,-0.052568860352039,-0.057424835860729));
res += mul(Get(s0,0,-dy), float4x4(-0.046363167464733,0.065171889960766,0.032796826213598,0.054929096251726,0.053756024688482,-0.011848244816065,-0.016395621001720,0.011987541802227,-0.005990233272314,0.039211634546518,0.049751088023186,0.090550459921360,0.055365096777678,0.133452460169792,-0.031022798269987,0.108080059289932));
res += mul(Get(s0,0,0), float4x4(-0.059612326323986,-0.023698214441538,0.104695834219456,0.118405029177666,-0.029982428997755,0.132592588663101,-0.017805082723498,-0.066494867205620,0.066048733890057,-0.106088869273663,-0.004578703083098,-0.018606703728437,0.006358423735946,0.057987641543150,-0.021008718758821,0.004647444002330));
res += mul(Get(s0,0,dy), float4x4(0.004051192663610,-0.221298456192017,0.071614176034927,0.025382576510310,-0.031324241310358,0.046667438000441,-0.127324834465981,0.009086626581848,-0.040337417274714,-0.038007531315088,0.154870674014091,0.004302668385208,-0.040261741727591,0.030877633020282,-0.102994412183762,0.142820104956627));
res += mul(Get(s0,dx,-dy), float4x4(-0.062486112117767,-0.085159868001938,0.039068937301636,0.133678361773491,-0.023251086473465,0.133359298110008,0.037253633141518,0.094366841018200,0.069612607359886,0.160476624965668,-0.046406384557486,0.042174935340881,0.075062282383442,0.036736425012350,0.011826258152723,-0.101696237921715));
res += mul(Get(s0,dx,0), float4x4(-0.030027978122234,-0.027913499623537,-0.018180467188358,0.152672007679939,0.153428435325623,0.105651199817657,-0.006338796112686,-0.079118907451630,0.040161907672882,-0.098622582852840,-0.038323305547237,0.094496652483940,-0.023838335648179,0.027781922370195,-0.031048931181431,-0.038586568087339));
res += mul(Get(s0,dx,dy), float4x4(-0.021588407456875,-0.029628584161401,0.086753040552139,0.067485943436623,-0.086429335176945,0.117273740470409,-0.007324796169996,0.140514254570007,-0.021685184910893,-0.101350799202919,0.040456671267748,-0.046766865998507,0.096545085310936,-0.056393824517727,-0.092226177453995,-0.013629077002406));
res += mul(Get(s1,-dx,-dy), float4x4(-0.040294889360666,-0.203607678413391,-0.098358146846294,0.092675022780895,0.101412057876587,0.043197326362133,0.052194211632013,0.056236669421196,0.064604379236698,-0.027054727077484,-0.043588075786829,0.023616807535291,-0.022966790944338,-0.027357611805201,-0.026607178151608,-0.010099888779223));
res += mul(Get(s1,-dx,0), float4x4(0.038306824862957,-0.114741533994675,-0.015073843300343,0.154960349202156,-0.000477136520203,0.098926417529583,0.177868708968163,0.010079763829708,-0.021467233076692,-0.114173784852028,-0.008070996031165,0.179735705256462,-0.031587075442076,0.063475519418716,-0.007080045063049,0.042531423270702));
res += mul(Get(s1,-dx,dy), float4x4(-0.006053253076971,0.130944296717644,0.021798124536872,-0.206662312150002,0.049520149827003,0.189132809638977,-0.041875347495079,0.013036344200373,-0.154935196042061,-0.026490999385715,-0.012957351282239,-0.028490725904703,0.063301563262939,-0.173220410943031,-0.063253857195377,0.018069941550493));
res += mul(Get(s1,0,-dy), float4x4(0.052102956920862,-0.060863725841045,-0.152784913778305,-0.047822438180447,0.095270387828350,-0.036823537200689,0.052522417157888,0.029705399647355,0.059474233537912,-0.030494978651404,-0.050970450043678,0.123505286872387,0.063162706792355,-0.032353486865759,0.050751328468323,-0.017677314579487));
res += mul(Get(s1,0,0), float4x4(-0.016459364444017,0.160425499081612,-0.004120239522308,0.134539917111397,-0.023933980613947,-0.099438294768333,0.040536124259233,0.088786415755749,-0.011993720196187,0.063799679279327,-0.060442022979259,0.037033554166555,0.071842752397060,0.158322855830193,0.025377180427313,0.011713180691004));
res += mul(Get(s1,0,dy), float4x4(0.028055245056748,0.102869205176830,-0.030528347939253,-0.039288882166147,-0.034755844622850,0.002156951464713,-0.106513343751431,-0.024429982528090,-0.115517124533653,0.190049946308136,-0.044931638985872,-0.014437475241721,-0.001337324967608,0.087088167667389,-0.062576949596405,0.026760023087263));
res += mul(Get(s1,dx,-dy), float4x4(0.016215378418565,-0.016338821500540,0.063740827143192,0.005057595204562,-0.046859037131071,0.022952808067203,-0.051658637821674,-0.101195268332958,-0.047552563250065,0.040486056357622,-0.001876286347397,-0.069831706583500,-0.033410657197237,0.121898613870144,0.006719851866364,-0.057755012065172));
res += mul(Get(s1,dx,0), float4x4(0.010979668237269,0.002781036775559,0.014285564422607,-0.056668125092983,0.142443597316742,-0.000959927972872,0.041285745799541,0.065678052604198,-0.084404855966568,-0.047266051173210,-0.108782939612865,-0.149508848786354,0.146036535501480,0.010251541621983,-0.073027610778809,-0.171436607837677));
res += mul(Get(s1,dx,dy), float4x4(-0.086240142583847,0.077550224959850,-0.035324599593878,-0.003567690728232,0.115978866815567,-0.107314698398113,-0.056978613138199,0.156390622258186,0.052872292697430,0.002020136686042,0.016569990664721,-0.102357089519501,-0.028623346239328,-0.045238133519888,-0.105216369032860,0.110463395714760));
res += mul(Get(s2,-dx,-dy), float4x4(0.106730066239834,-0.023976551368833,0.029151577502489,0.024302493780851,-0.001197418430820,-0.008096287958324,-0.047380175441504,0.034347940236330,-0.059495486319065,-0.107511647045612,-0.026633290573955,-0.023206433281302,-0.027126712724566,-0.176443383097649,-0.037570383399725,0.060863133519888));
res += mul(Get(s2,-dx,0), float4x4(-0.015831029042602,0.097383774816990,0.088951565325260,0.058765579015017,-0.008687216788530,0.128857940435410,0.041336186230183,0.050321180373430,-0.100820533931255,0.113436467945576,0.075000770390034,0.049401100724936,0.126313120126724,0.079329907894135,-0.008137562312186,-0.045586623251438));
res += mul(Get(s2,-dx,dy), float4x4(0.002226755023003,0.028674101457000,0.087406620383263,0.003523400053382,0.018928768113256,0.030833890661597,-0.013102446682751,0.096128821372986,0.009745138697326,-0.025304654613137,-0.056048538535833,-0.108052738010883,-0.040586419403553,-0.012716644443572,-0.038103863596916,0.066080935299397));
res += mul(Get(s2,0,-dy), float4x4(-0.027984442189336,0.015356931835413,0.070410639047623,-0.083305239677429,0.079586982727051,0.128764614462852,-0.034019503742456,-0.148987889289856,-0.167187020182610,-0.021357232704759,-0.051696270704269,0.047721847891808,0.128710672259331,0.031908892095089,0.070890165865421,0.123272374272346));
res += mul(Get(s2,0,0), float4x4(0.062102917581797,0.078498996794224,-0.108042150735855,0.049651328474283,0.051616545766592,0.002250352874398,-0.052109424024820,-0.063381835818291,-0.006910982541740,-0.068011023104191,-0.031617000699043,0.018424682319164,0.171600177884102,0.069364473223686,0.010036377236247,-0.107816889882088));
res += mul(Get(s2,0,dy), float4x4(0.012131968513131,-0.105210885405540,0.053357265889645,-0.056557551026344,0.129538610577583,-0.038493920117617,0.010754989460111,-0.021886197850108,-0.023195527493954,-0.054285440593958,-0.001959564397112,0.076728545129299,-0.026339301839471,-0.149815648794174,0.039924606680870,-0.010911091230810));
res += mul(Get(s2,dx,-dy), float4x4(0.021612459793687,0.064150750637054,-0.089265801012516,0.051175650209188,0.115850582718849,0.039850879460573,0.048109497874975,-0.188214331865311,-0.028851440176368,0.047647874802351,-0.148136019706726,0.080412052571774,-0.049454189836979,-0.104230538010597,0.041882984340191,-0.002873127814382));
res += mul(Get(s2,dx,0), float4x4(0.061715729534626,0.078420951962471,-0.081597402691841,0.023537643253803,-0.033217269927263,-0.054356444627047,0.115100376307964,-0.161004334688187,-0.023009415715933,0.052098821848631,0.055995892733335,0.093115180730820,-0.029519259929657,-0.030311657115817,0.012621246278286,0.001877903006971));
res += mul(Get(s2,dx,dy), float4x4(-0.014741334132850,-0.010576074011624,0.031797662377357,-0.039259620010853,0.153690159320831,0.027981504797935,-0.092188708484173,0.005441783927381,0.093348965048790,-0.039942622184753,-0.003086688928306,-0.112929604947567,0.058122269809246,-0.069601856172085,-0.018231581896544,-0.035311866551638));
res += mul(Get(s3,-dx,-dy), float4x4(-0.084058515727520,0.165370583534241,0.123064182698727,-0.130757316946983,0.029014680534601,-0.090379863977432,-0.031127791851759,0.036774732172489,-0.024993097409606,-0.037194505333900,0.032165486365557,-0.062176957726479,-0.016410229727626,0.084565959870815,-0.027160869911313,0.091875880956650));
res += mul(Get(s3,-dx,0), float4x4(0.008961214683950,-0.002040506573394,-0.024705801159143,-0.101340919733047,-0.066347189247608,-0.063397020101547,-0.041062653064728,0.148533239960670,-0.072690300643444,-0.029450809583068,0.076899021863937,-0.010107301175594,-0.058707974851131,-0.073918201029301,0.092523567378521,0.121732376515865));
res += mul(Get(s3,-dx,dy), float4x4(-0.119199477136135,0.069092757999897,0.073238573968410,-0.058399859815836,0.036791577935219,0.029766347259283,-0.114865958690643,-0.019305590540171,-0.024675378575921,0.005662880372256,-0.067124105989933,0.110649809241295,0.072604037821293,0.131512150168419,0.056770015507936,-0.032587304711342));
res += mul(Get(s3,0,-dy), float4x4(-0.018518520519137,0.111934892833233,0.057688187807798,-0.006539144553244,-0.058679185807705,-0.077003911137581,0.021227087825537,-0.064957171678543,0.051103696227074,-0.011097565293312,-0.091586455702782,0.124889016151428,0.123528920114040,0.028727028518915,-0.074202977120876,-0.038120757788420));
res += mul(Get(s3,0,0), float4x4(0.046487368643284,0.211656749248505,-0.005794443190098,0.099922284483910,0.027390392497182,0.035578768700361,-0.045453447848558,0.141625508666039,-0.103949077427387,0.121622435748577,-0.002202416537330,0.030874403193593,0.003141974564642,-0.046157330274582,-0.034472085535526,0.066281095147133));
res += mul(Get(s3,0,dy), float4x4(-0.091302402317524,0.024181965738535,0.041152782738209,0.024995772168040,-0.090201348066330,-0.013370064087212,-0.011470792815089,-0.085330158472061,0.035550355911255,0.137061625719070,-0.051490996032953,-0.124016292393208,0.049882631748915,0.028957994654775,-0.048681952059269,-0.010163956321776));
res += mul(Get(s3,dx,-dy), float4x4(0.125395625829697,-0.028695229440928,0.087145671248436,0.014773316681385,0.006606405135244,0.097148753702641,-0.045114338397980,0.159166783094406,-0.011878126300871,-0.088641688227654,-0.037232391536236,0.075918897986412,0.124223925173283,0.012537714093924,0.003625716781244,0.050452735275030));
res += mul(Get(s3,dx,0), float4x4(0.076002791523933,-0.145804166793823,0.114674225449562,0.008931905031204,0.126185774803162,-0.018478693440557,0.052892811596394,-0.093697361648083,0.059494968503714,0.122362583875656,0.157644137740135,0.006502894219011,-0.157137811183929,-0.039198983460665,0.154200151562691,0.000509050209075));
res += mul(Get(s3,dx,dy), float4x4(-0.024192105978727,-0.030159933492541,0.066201493144035,-0.096372328698635,-0.088680297136307,0.035749528557062,0.043616674840450,-0.020574312657118,-0.014647495932877,0.038900803774595,-0.006755410693586,-0.043275643140078,-0.072599686682224,-0.113307662308216,0.064512684941292,0.025847174227238));
res = max(float4(0,0,0,0), res);
return res;
}
