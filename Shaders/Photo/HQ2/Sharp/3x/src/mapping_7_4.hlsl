sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020725183188915,-0.143602520227432,0.009856759570539,0.103003218770027,0.047789186239243,0.059840988367796,0.023045781999826,-0.078285366296768,0.038717150688171,0.033778026700020,-0.041420966386795,-0.026059007272124,-0.015346691012383,-0.015928084030747,-0.007365914992988,0.000116472365335));
res += mul(Get(s0,-dx,0), float4x4(-0.084997564554214,-0.064957439899445,0.026152003556490,-0.127530813217163,0.026467589661479,-0.079624406993389,0.049249947071075,-0.027202075347304,-0.121868766844273,-0.001177776022814,0.111775256693363,0.042132131755352,-0.003860392374918,0.037174973636866,0.076561219990253,-0.034896254539490));
res += mul(Get(s0,-dx,dy), float4x4(-0.034925892949104,0.047560717910528,0.057075738906860,-0.005661814473569,0.177741169929504,0.022412933409214,0.033292196691036,-0.058241821825504,0.020093636587262,0.130329325795174,0.024039201438427,-0.060040831565857,0.008142690174282,0.017562380060554,0.083942882716656,0.051355633884668));
res += mul(Get(s0,0,-dy), float4x4(-0.003563168458641,0.029345504939556,-0.191705152392387,-0.067596010863781,-0.117512308061123,-0.004362632520497,0.165025532245636,0.028614113107324,0.012248172424734,0.040978133678436,-0.049157459288836,0.040473431348801,-0.006998594384640,0.037771470844746,0.043969526886940,-0.122148111462593));
res += mul(Get(s0,0,0), float4x4(-0.052829105407000,-0.020893454551697,0.048272814601660,-0.035512033849955,0.031949680298567,0.044401112943888,-0.065803058445454,0.095185853540897,0.018842395395041,-0.031896818429232,0.069367654621601,-0.005037896335125,-0.125790223479271,-0.087445057928562,0.010969921015203,-0.065110243856907));
res += mul(Get(s0,0,dy), float4x4(0.018357133492827,0.025793207809329,-0.010468141175807,-0.028218846768141,0.100282937288284,0.142869368195534,0.057504329830408,0.005430882796645,-0.099163837730885,0.131053492426872,0.001499020261690,-0.026170058175921,0.153239250183105,0.053869854658842,0.019467078149319,0.060539793223143));
res += mul(Get(s0,dx,-dy), float4x4(0.047034993767738,-0.103825494647026,0.022313730791211,0.140746146440506,0.116666994988918,-0.013063401915133,0.014221052639186,-0.053510762751102,-0.045473363250494,0.150412574410439,0.152544364333153,0.118880853056908,0.066510125994682,-0.105217084288597,0.000733546155971,-0.028827873989940));
res += mul(Get(s0,dx,0), float4x4(0.072302997112274,-0.079258285462856,-0.172473505139351,-0.082709781825542,0.007007346954197,-0.144054770469666,0.041329972445965,0.064400471746922,0.055305115878582,0.120835587382317,0.074966311454773,-0.186438992619514,-0.129483684897423,0.002646625507623,-0.008560829795897,0.097421593964100));
res += mul(Get(s0,dx,dy), float4x4(-0.080200500786304,-0.007188692223281,-0.070570014417171,0.044254459440708,-0.038157857954502,0.123705103993416,-0.159868046641350,-0.038668494671583,-0.044251546263695,-0.066808253526688,-0.100139290094376,-0.132302537560463,-0.007001388818026,-0.056845966726542,0.022538231685758,0.022588672116399));
res += mul(Get(s1,-dx,-dy), float4x4(0.100764505565166,-0.052958186715841,-0.040425062179565,0.008985544554889,-0.031723059713840,0.031113021075726,-0.051942054182291,0.106751389801502,0.000514000072144,-0.079075686633587,0.014144917950034,-0.114542864263058,0.126048207283020,0.222435265779495,0.031589027494192,-0.054730363190174));
res += mul(Get(s1,-dx,0), float4x4(0.046780798584223,-0.009572333656251,0.017400892451406,-0.079810604453087,-0.035523731261492,0.080141164362431,-0.054330430924892,0.072848439216614,0.037057872861624,-0.077708512544632,0.041840828955173,0.150720104575157,-0.127250283956528,-0.027870563790202,-0.089123360812664,0.031274281442165));
res += mul(Get(s1,-dx,dy), float4x4(-0.008141413331032,0.030991291627288,0.161098554730415,-0.076356492936611,-0.014777401462197,-0.121155537664890,-0.002011378761381,-0.011435162276030,0.008490136824548,0.046467110514641,-0.169907614588737,-0.026524968445301,-0.007587919943035,-0.131014168262482,-0.007426525466144,-0.026867914944887));
res += mul(Get(s1,0,-dy), float4x4(-0.088599830865860,-0.089964665472507,-0.060035955160856,-0.051305346190929,-0.005882279016078,-0.001324208686128,-0.097796045243740,0.112850457429886,0.006348034832627,-0.029343444854021,-0.047825358808041,-0.099266231060028,0.230920821428299,0.098970122635365,-0.034316655248404,-0.051298111677170));
res += mul(Get(s1,0,0), float4x4(0.000799528032076,0.001644389005378,0.084382347762585,-0.050761252641678,0.061795026063919,-0.137260720133781,0.049579184502363,-0.004743951838464,0.078570410609245,0.024111736565828,-0.057696651667356,0.152964860200882,-0.047504380345345,0.036485817283392,-0.054040491580963,-0.080855846405029));
res += mul(Get(s1,0,dy), float4x4(0.010785519145429,-0.183477148413658,-0.025129003450274,-0.077975578606129,0.161681428551674,-0.103237882256508,-0.184551104903221,-0.047949749976397,0.002693094545975,-0.108341962099075,0.140959471464157,-0.009670061059296,-0.042164936661720,0.001577006070875,0.033194247633219,0.022519387304783));
res += mul(Get(s1,dx,-dy), float4x4(-0.080943189561367,-0.038350354880095,-0.100863285362720,-0.039937041699886,0.193713560700417,0.013515898026526,-0.009025350213051,-0.031321261078119,-0.047700550407171,-0.057772971689701,0.021408298984170,0.070164389908314,-0.119890563189983,0.052079167217016,0.009638342075050,-0.093020007014275));
res += mul(Get(s1,dx,0), float4x4(0.057605266571045,-0.019871070981026,0.024276293814182,0.076444007456303,-0.007874079048634,0.029417531564832,0.052577670663595,-0.150689378380775,0.045988660305738,0.043704342097044,-0.016301199793816,0.035803467035294,-0.004095379728824,-0.165851578116417,0.051205847412348,-0.068140476942062));
res += mul(Get(s1,dx,dy), float4x4(0.076733358204365,0.044034454971552,-0.076959595084190,-0.003965360578150,0.110736168920994,-0.027899553999305,-0.080334819853306,-0.045149523764849,0.103072196245193,-0.020168378949165,-0.097535625100136,0.055468130856752,-0.058548901230097,-0.037951417267323,-0.041870146989822,-0.058576770126820));
res += mul(Get(s2,-dx,-dy), float4x4(0.047069683670998,0.007876139134169,-0.128988206386566,-0.078308485448360,-0.053976822644472,0.007738234940916,-0.065552622079849,0.006482713855803,-0.071773439645767,-0.033281575888395,-0.079008713364601,-0.014357610605657,-0.101357445120811,0.016552716493607,0.088796265423298,-0.044253461062908));
res += mul(Get(s2,-dx,0), float4x4(0.121890977025032,0.007494350429624,0.010998056270182,-0.043471809476614,-0.032902989536524,0.027604388073087,0.109341159462929,-0.039957750588655,0.088205285370350,0.028836099430919,0.041376259177923,0.091755397617817,0.136316627264023,-0.156080946326256,-0.063248619437218,-0.088812716305256));
res += mul(Get(s2,-dx,dy), float4x4(-0.041582420468330,-0.038952782750130,0.006726087536663,0.046124998480082,-0.062578007578850,-0.049415033310652,-0.017231089994311,-0.041232820600271,0.067709468305111,-0.122451521456242,-0.086013250052929,-0.104951009154320,0.051758199930191,0.020516099408269,0.048925742506981,-0.064542353153229));
res += mul(Get(s2,0,-dy), float4x4(-0.131105035543442,-0.027827758342028,-0.056459493935108,-0.092931918799877,0.037126936018467,-0.038051936775446,0.079907521605492,0.013550524599850,0.036170441657305,-0.071917675435543,0.041590839624405,-0.062757775187492,0.127126932144165,0.033254835754633,0.138596236705780,0.071349345147610));
res += mul(Get(s2,0,0), float4x4(0.062962718307972,0.153364881873131,0.013409735634923,-0.057245370000601,0.018448645249009,0.054403819143772,-0.021217796951532,0.076320692896843,-0.008183180354536,0.014910327270627,0.075373120605946,0.126946240663528,0.128135472536087,-0.078324750065804,0.098101504147053,0.050584029406309));
res += mul(Get(s2,0,dy), float4x4(0.095124840736389,0.077927708625793,0.002337340964004,0.048489429056644,-0.075070999562740,0.007899057120085,0.060825813561678,-0.062197525054216,-0.052985705435276,0.046161435544491,0.002279126318172,0.057420372962952,0.053234186023474,0.036315731704235,-0.039392855018377,-0.032988674938679));
res += mul(Get(s2,dx,-dy), float4x4(-0.036486927419901,-0.020026646554470,-0.071969479322433,-0.083441942930222,-0.018183574080467,-0.048279434442520,-0.085975416004658,0.036345712840557,-0.002695036819205,-0.027895748615265,0.020060161128640,-0.011370511725545,-0.170412555336952,0.036792065948248,-0.043890181928873,0.016849439591169));
res += mul(Get(s2,dx,0), float4x4(-0.099463634192944,0.008403075858951,-0.067709371447563,-0.093002326786518,0.020456768572330,0.037896271795034,0.048008102923632,-0.048204816877842,0.060204718261957,-0.039586845785379,-0.093612216413021,0.028626266866922,-0.108851321041584,-0.011109225451946,0.068901292979717,-0.056230284273624));
res += mul(Get(s2,dx,dy), float4x4(-0.126988962292671,-0.103127531707287,0.066626630723476,0.053791046142578,0.076413460075855,0.016914896667004,0.086827166378498,0.071106642484665,-0.141684517264366,-0.081750616431236,0.100520566105843,-0.047834217548370,0.218284323811531,-0.035800967365503,-0.015454114414752,-0.085514366626740));
res += mul(Get(s3,-dx,-dy), float4x4(-0.119768463075161,-0.128720492124557,0.114450916647911,-0.060119941830635,0.054304905235767,0.062896959483624,0.155395954847336,0.078781977295876,0.169672951102257,0.033144187182188,0.069122791290283,0.097033709287643,0.067770324647427,-0.104894474148750,0.050584498792887,0.051365613937378));
res += mul(Get(s3,-dx,0), float4x4(0.043997261673212,-0.007270500995219,0.185846328735352,-0.023603450506926,0.144289821386337,-0.048088245093822,-0.009809389710426,-0.028388448059559,-0.021727362647653,-0.022548876702785,0.019808469340205,-0.038523260504007,0.010742297396064,0.043165493756533,-0.007212679833174,-0.029105676338077));
res += mul(Get(s3,-dx,dy), float4x4(0.069436475634575,0.044961512088776,-0.109080702066422,0.060897853225470,-0.042414356023073,-0.069992661476135,-0.054056297987700,0.092148162424564,0.004138721618801,0.094719536602497,-0.019553553313017,-0.094415597617626,0.039658706635237,0.008230394683778,0.032707575708628,-0.032737325876951));
res += mul(Get(s3,0,-dy), float4x4(-0.094677709043026,0.003384374547750,0.066176980733871,-0.097210504114628,0.120416745543480,0.067848674952984,-0.007503372151405,0.056688852608204,0.066300697624683,0.064681664109230,-0.162011295557022,0.015740629285574,0.018577966839075,0.031525455415249,-0.122342944145203,0.088078424334526));
res += mul(Get(s3,0,0), float4x4(0.204730361700058,-0.140802890062332,0.170690149068832,0.150033503770828,0.052218947559595,-0.062304358929396,0.056343935430050,0.090346030890942,-0.090592041611671,-0.038182161748409,-0.049837745726109,-0.095986627042294,-0.162906587123871,-0.049048170447350,0.070308975875378,-0.051451962441206));
res += mul(Get(s3,0,dy), float4x4(0.038979846984148,-0.094924435019493,-0.170556917786598,0.016769537702203,-0.167311847209930,0.029722552746534,0.016708733513951,-0.043166097253561,-0.061438497155905,-0.008742414414883,-0.143505990505219,-0.024211144074798,0.116003319621086,0.021937459707260,0.131819412112236,-0.065406717360020));
res += mul(Get(s3,dx,-dy), float4x4(-0.067571528255939,0.041502349078655,-0.038224458694458,-0.024163210764527,0.065487094223499,-0.019906803965569,0.054580375552177,0.047429006546736,0.171213880181313,0.046860780566931,0.114625647664070,0.015683861449361,-0.039710581302643,0.108891673386097,-0.038960423320532,-0.029134120792150));
res += mul(Get(s3,dx,0), float4x4(-0.102899238467216,0.025088170543313,0.058908771723509,-0.030463935807347,0.118457458913326,-0.028410486876965,-0.040071580559015,0.005575622897595,-0.068263970315456,0.042706385254860,-0.092550963163376,-0.011850178241730,0.008187339641154,-0.120820805430412,-0.026264952495694,-0.020514216274023));
res += mul(Get(s3,dx,dy), float4x4(-0.007367843762040,0.107804447412491,0.046531096100807,-0.039982587099075,0.044007387012243,-0.056630209088326,-0.058850489556789,-0.095741182565689,0.002861538901925,-0.004838018678129,0.032555419951677,-0.042422637343407,0.006807531695813,-0.022957572713494,0.092642456293106,0.010093560442328));
res = max(float4(0,0,0,0), res);
return res;
}
