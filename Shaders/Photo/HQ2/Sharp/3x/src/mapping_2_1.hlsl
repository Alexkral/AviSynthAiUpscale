sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.079578034579754,-0.039837349206209,-0.002581746084616,-0.004747476894408,-0.095586545765400,-0.081714592874050,-0.109464026987553,-0.180100277066231,0.018751772120595,-0.057697340846062,0.028171967715025,-0.128433361649513,-0.039141159504652,-0.082143813371658,-0.075819618999958,-0.035213612020016));
res += mul(Get(s0,-dx,0), float4x4(0.102330334484577,-0.002527101896703,0.079386942088604,0.084805302321911,-0.160405039787292,0.032010771334171,-0.072368174791336,0.019786767661572,-0.039897192269564,-0.041355360299349,0.123075701296329,0.050809055566788,0.121002040803432,0.015859609469771,0.130056738853455,0.003305154619738));
res += mul(Get(s0,-dx,dy), float4x4(-0.171409562230110,0.075015798211098,0.008513992652297,-0.006375995464623,0.021814020350575,-0.003577593015507,-0.071376502513885,-0.039077438414097,0.035717871040106,-0.008694260381162,0.084897622466087,0.074231214821339,-0.133538305759430,0.096423693001270,0.111942097544670,-0.101736418902874));
res += mul(Get(s0,0,-dy), float4x4(-0.011201118119061,0.025327537208796,-0.081198118627071,-0.146649628877640,0.008041189052165,-0.161603838205338,-0.123788908123970,0.051396656781435,0.065025582909584,0.072825498878956,-0.093450665473938,0.001591592212208,0.034866768866777,0.012512840330601,-0.004563106223941,0.129247859120369));
res += mul(Get(s0,0,0), float4x4(-0.045854471623898,0.011846458539367,0.040642399340868,-0.037311859428883,-0.040097054094076,0.164339572191238,0.076171904802322,-0.014943081885576,-0.090859904885292,-0.121884129941463,0.031301744282246,0.108991757035255,0.084614187479019,-0.091869503259659,0.100967511534691,-0.009749873541296));
res += mul(Get(s0,0,dy), float4x4(-0.028315199539065,-0.032821666449308,0.002828466007486,-0.111171014606953,0.063037306070328,0.123005665838718,-0.036884002387524,0.084632597863674,-0.123630352318287,0.048958446830511,-0.049011986702681,-0.008203543722630,0.072591498494148,-0.205690890550613,0.132865399122238,-0.100346513092518));
res += mul(Get(s0,dx,-dy), float4x4(0.102451711893082,0.001818962977268,0.110455431044102,0.060918189585209,-0.026644114404917,0.020398132503033,0.038581538945436,0.032218903303146,0.042034581303596,0.036551635712385,0.052940741181374,0.000121529024909,-0.189245656132698,0.015768865123391,-0.007643804419786,0.001054128981195));
res += mul(Get(s0,dx,0), float4x4(0.153992593288422,0.018825549632311,0.088300146162510,0.105073608458042,0.004694593604654,-0.056194085627794,0.062126673758030,-0.035660237073898,0.007120493799448,-0.030251966789365,0.030097685754299,-0.113499522209167,0.005123588722199,0.082625173032284,-0.016132621094584,-0.004204458557069));
res += mul(Get(s0,dx,dy), float4x4(-0.017004128545523,-0.005536977201700,0.116018645465374,-0.024122739210725,-0.065023623406887,-0.049442235380411,-0.009540224447846,-0.122262798249722,-0.022227929905057,-0.021198194473982,-0.125181287527084,0.003851811867207,0.059870585799217,0.030595399439335,0.008127747103572,-0.026243811473250));
res += mul(Get(s1,-dx,-dy), float4x4(0.064658679068089,-0.063729412853718,0.071002416312695,0.143820062279701,-0.060261812061071,0.082200028002262,0.128428593277931,-0.067018568515778,-0.036571227014065,0.034466486424208,0.197301194071770,-0.039366323500872,0.110834822058678,0.009952381253242,0.019468650221825,0.079943254590034));
res += mul(Get(s1,-dx,0), float4x4(0.014603703282773,0.040893401950598,0.058064248412848,0.026669735088944,0.030629005283117,0.007691667880863,0.140856668353081,0.022709490731359,-0.076515309512615,-0.008263207972050,0.027183337137103,-0.121084786951542,-0.023893635720015,0.031099244952202,0.044933363795280,-0.069607526063919));
res += mul(Get(s1,-dx,dy), float4x4(0.013957606628537,0.023255147039890,0.048025164753199,0.071166828274727,0.200984567403793,-0.023446947336197,0.090771429240704,0.064350306987762,-0.053033933043480,-0.106975629925728,-0.009396634995937,0.041755817830563,0.150765821337700,-0.104865588247776,0.037046037614346,0.038905356079340));
res += mul(Get(s1,0,-dy), float4x4(-0.007154374849051,-0.064041391015053,0.068289205431938,-0.075616225600243,-0.073664315044880,0.011041756719351,-0.040418732911348,-0.071576572954655,-0.025771779939532,-0.013252912089229,-0.051296580582857,0.107417024672031,-0.045518349856138,-0.100254453718662,-0.106716617941856,0.118755400180817));
res += mul(Get(s1,0,0), float4x4(-0.015773767605424,0.104081109166145,0.045502584427595,0.042550481855869,-0.093912348151207,0.037378888577223,-0.069405704736710,-0.039258368313313,0.137878015637398,-0.054889287799597,0.004888089373708,-0.004506928846240,-0.072790153324604,-0.001212695846334,0.027035584673285,0.122384190559387));
res += mul(Get(s1,0,dy), float4x4(0.069383412599564,-0.056473162025213,-0.066254980862141,-0.021205928176641,0.054473470896482,0.059682339429855,-0.018460460007191,0.011051627807319,0.093535110354424,-0.071136906743050,-0.034313276410103,0.007907151244581,0.004841959569603,0.006802441552281,0.018197055906057,0.027462773025036));
res += mul(Get(s1,dx,-dy), float4x4(0.053322698920965,0.037961777299643,0.053099572658539,-0.004590151831508,0.030921677127481,0.053576439619064,0.030878895893693,0.019033400341868,-0.040164664387703,-0.038732249289751,0.034507654607296,-0.048027850687504,-0.020821951329708,0.015212391503155,0.030043127015233,-0.015780363231897));
res += mul(Get(s1,dx,0), float4x4(-0.043591570109129,-0.042565688490868,-0.011034229770303,0.033857084810734,-0.073554009199142,0.062540888786316,0.048128202557564,0.041531577706337,-0.103819303214550,-0.161722317337990,-0.057889934629202,-0.064654581248760,0.004969236440957,0.026983533054590,-0.000636808108538,-0.036185164004564));
res += mul(Get(s1,dx,dy), float4x4(0.041009943932295,0.028555894270539,-0.022524178028107,0.067226245999336,-0.214228466153145,0.045791964977980,-0.063008666038513,0.058015428483486,-0.084830626845360,0.027439616620541,-0.071135558187962,-0.035610415041447,-0.036094482988119,0.018613131716847,0.121740810573101,0.078283920884132));
res += mul(Get(s2,-dx,-dy), float4x4(-0.148871868848801,-0.038314200937748,0.233924329280853,-0.153862312436104,-0.166859656572342,-0.004553936887532,0.069946244359016,0.095777407288551,0.044540796428919,0.018476428464055,-0.064298920333385,0.046285279095173,-0.193503409624100,-0.055720809847116,0.119130820035934,0.016297576949000));
res += mul(Get(s2,-dx,0), float4x4(-0.119932889938354,0.011609382927418,-0.106783740222454,-0.018532505258918,0.113649822771549,0.029378974810243,-0.063208378851414,-0.003638993483037,-0.065081126987934,-0.103646472096443,0.026042386889458,-0.007852068170905,0.037475138902664,-0.140426769852638,-0.055845193564892,-0.034361124038696));
res += mul(Get(s2,-dx,dy), float4x4(0.173427581787109,0.045966699719429,-0.012789105065167,-0.070608139038086,0.075904652476311,0.126868814229965,0.006283780094236,0.041728362441063,-0.030823018401861,-0.018998486921191,0.007318212185055,-0.012661795131862,0.018472572788596,0.148435428738594,-0.005570770706981,-0.045489534735680));
res += mul(Get(s2,0,-dy), float4x4(0.043104436248541,0.004527691286057,-0.074780635535717,-0.018110435456038,-0.088802680373192,-0.046381760388613,-0.059608221054077,-0.042264360934496,0.018660252913833,0.011211724951863,-0.144274741411209,0.051981285214424,-0.113866098225117,-0.071316272020340,0.014203184284270,-0.173537954688072));
res += mul(Get(s2,0,0), float4x4(-0.065273277461529,0.328172266483307,0.024196095764637,0.097707286477089,0.052537739276886,0.052507843822241,0.040488939732313,0.048080261796713,-0.039519734680653,0.018036631867290,0.051000803709030,-0.100524999201298,-0.016575114801526,0.119063228368759,0.018012369051576,0.018430210649967));
res += mul(Get(s2,0,dy), float4x4(-0.001939897774719,0.038830466568470,0.104819707572460,0.083788789808750,0.001345155294985,0.051394037902355,-0.000660344900098,0.150812253355980,0.074482485651970,-0.041032958775759,0.083015426993370,0.107803948223591,0.134230807423592,0.073933511972427,-0.025988439098001,0.018776535987854));
res += mul(Get(s2,dx,-dy), float4x4(0.109617449343204,-0.054684907197952,-0.023680668324232,0.142046794295311,0.082202374935150,0.015861434862018,0.026587300002575,0.065213590860367,0.095386780798435,-0.015252349898219,-0.066017962992191,-0.040328923612833,-0.145529389381409,0.112754426896572,-0.000635474803858,-0.091906979680061));
res += mul(Get(s2,dx,0), float4x4(-0.067783862352371,0.041601359844208,-0.045508231967688,0.045005682855844,-0.091603584587574,-0.064036704599857,0.045658290386200,-0.142231926321983,0.018838128075004,0.181352570652962,-0.066342853009701,0.052023150026798,-0.004249720834196,0.079381838440895,-0.080403536558151,-0.040870629251003));
res += mul(Get(s2,dx,dy), float4x4(0.057832542806864,-0.068603031337261,0.050638999789953,-0.110348463058472,0.170123562216759,0.006994008552283,0.022727955132723,0.024274656549096,0.114313781261444,-0.035176862031221,-0.077829524874687,0.084827594459057,0.108953684568405,-0.020649099722505,-0.134294852614403,0.115126229822636));
res += mul(Get(s3,-dx,-dy), float4x4(-0.066199339926243,-0.088816218078136,-0.001166678615846,0.113513924181461,-0.174319982528687,0.009635366499424,0.086076222360134,0.095603585243225,-0.015886997804046,-0.080296792089939,0.011098322458565,-0.004037177190185,-0.120149083435535,0.001453255652450,0.089807435870171,-0.138022229075432));
res += mul(Get(s3,-dx,0), float4x4(-0.061204019933939,-0.100704327225685,0.075192883610725,-0.091891944408417,0.035385888069868,0.065831378102303,0.033053401857615,-0.092455253005028,0.044474050402641,0.115522146224976,0.086998872458935,0.022881131619215,-0.005869985558093,-0.009265976957977,-0.040199864655733,-0.013393417932093));
res += mul(Get(s3,-dx,dy), float4x4(0.022652383893728,-0.047945853322744,0.028808776289225,0.106310479342937,-0.086997978389263,0.043225113302469,0.035313267260790,0.042791374027729,0.064553223550320,-0.083307370543480,0.079820998013020,-0.073265023529530,-0.055671237409115,-0.038456019014120,-0.029149092733860,-0.058279734104872));
res += mul(Get(s3,0,-dy), float4x4(0.111646294593811,0.013901363126934,0.070137299597263,0.102954551577568,-0.085199117660522,-0.093327455222607,-0.004478677175939,0.152187675237656,-0.011567300185561,0.034527223557234,-0.094945363700390,0.075827524065971,0.029078632593155,0.162216961383820,-0.102083139121532,0.065040960907936));
res += mul(Get(s3,0,0), float4x4(-0.052907984703779,-0.030445486307144,-0.078017756342888,-0.006415606942028,0.072592101991177,-0.007942246273160,-0.056229561567307,0.192203104496002,-0.130502879619598,0.014252306893468,0.008373339660466,0.018976638093591,0.156295150518417,-0.048137094825506,0.069275408983231,0.052985973656178));
res += mul(Get(s3,0,dy), float4x4(0.005024347919971,-0.132972747087479,-0.033869411796331,-0.035025488585234,0.078567460179329,-0.006322431378067,-0.090441919863224,-0.032724905759096,0.104499965906143,0.005948378704488,-0.173631250858307,-0.053218849003315,-0.071951068937778,0.042997386306524,0.030201025307178,0.016043668612838));
res += mul(Get(s3,dx,-dy), float4x4(-0.011524910107255,0.087873250246048,-0.014525581151247,0.080157689750195,0.014303265139461,-0.028039589524269,0.014580840244889,0.015852462500334,-0.015915963798761,0.038762502372265,-0.015141441486776,-0.034690495580435,0.085716292262077,0.007291508372873,-0.063203491270542,0.036740608513355));
res += mul(Get(s3,dx,0), float4x4(0.081473901867867,0.013567831367254,0.091019369661808,-0.073428481817245,0.097953826189041,-0.038996905088425,0.069339387118816,0.091352336108685,0.068491183221340,-0.082564614713192,0.021839588880539,0.101803302764893,0.025913804769516,0.077873684465885,-0.069569088518620,0.102303221821785));
res += mul(Get(s3,dx,dy), float4x4(0.082071274518967,-0.079882733523846,0.096566267311573,0.017359698191285,-0.002618689322844,-0.000018132668629,0.022500691935420,0.117337882518768,0.047869391739368,0.036053828895092,0.031485047191381,-0.079995624721050,-0.019454477354884,-0.052470017224550,-0.007809162139893,0.021440850570798));
res = max(float4(0,0,0,0), res);
return res;
}
