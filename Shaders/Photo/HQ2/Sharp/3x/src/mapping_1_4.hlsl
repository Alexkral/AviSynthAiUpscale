sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.027334239333868,0.033171180635691,0.000658450939227,-0.026221092790365,-0.041085239499807,0.004228156991303,-0.091767251491547,-0.095597289502621,-0.045681428164244,-0.053677622228861,0.012944195419550,0.049643255770206,0.057809837162495,-0.074592724442482,-0.039956536144018,0.020957650616765));
res += mul(Get(s0,-dx,0), float4x4(-0.083631932735443,-0.048080760985613,0.004136221483350,0.013280289247632,0.195656299591064,-0.002398482523859,0.039620611816645,0.065174877643585,0.047084633260965,-0.066342860460281,0.056031655520201,0.045599807053804,0.192347362637520,-0.064115844666958,0.091592259705067,-0.006511822808534));
res += mul(Get(s0,-dx,dy), float4x4(-0.155552744865417,0.105389825999737,-0.067850269377232,-0.015811162069440,0.015381224453449,-0.222177401185036,0.042606130242348,0.214156791567802,-0.009019272401929,0.043636921793222,0.031764436513186,-0.072174593806267,0.005997751373798,0.037380624562502,0.112025931477547,-0.032209716737270));
res += mul(Get(s0,0,-dy), float4x4(-0.058363452553749,-0.064306452870369,-0.069703333079815,-0.176099523901939,0.164702475070953,-0.088822558522224,-0.058849804103374,0.100976534187794,-0.012460164725780,0.011645798571408,-0.016864249482751,-0.102353170514107,0.095471493899822,-0.050071377307177,0.076813928782940,0.070234261453152));
res += mul(Get(s0,0,0), float4x4(0.039080627262592,-0.118872955441475,0.081814818084240,0.111581467092037,0.083648614585400,0.028428154066205,0.133427977561951,0.050418555736542,0.013393740169704,-0.033875212073326,-0.083520360291004,0.018445244058967,-0.215585261583328,-0.130700379610062,-0.037022333592176,-0.108973376452923));
res += mul(Get(s0,0,dy), float4x4(0.064316548407078,0.044693574309349,0.004082167986780,-0.091782942414284,-0.086800850927830,-0.046968709677458,-0.008820727467537,0.119323395192623,0.005158379208297,-0.120748892426491,0.059235669672489,0.091978877782822,0.005500034894794,-0.036001130938530,-0.089293219149113,0.044784981757402));
res += mul(Get(s0,dx,-dy), float4x4(-0.038351748138666,0.061436783522367,0.029909670352936,0.056783292442560,0.080895513296127,0.198252916336060,-0.006851182784885,-0.066903397440910,-0.070196546614170,0.000561014399864,-0.015901552513242,-0.104911617934704,0.007847171276808,0.032274663448334,-0.005461503751576,0.100306198000908));
res += mul(Get(s0,dx,0), float4x4(0.016413070261478,0.055852569639683,-0.000648177636322,-0.133040323853493,-0.021957026794553,0.202406600117683,-0.097598314285278,-0.056279622018337,-0.088441580533981,0.075194694101810,0.054445147514343,0.040371686220169,-0.021679995581508,0.032803863286972,-0.016221588477492,-0.097220413386822));
res += mul(Get(s0,dx,dy), float4x4(-0.104705750942230,0.032268963754177,-0.038697984069586,0.028544407337904,-0.073465026915073,-0.053434040397406,0.015978930518031,-0.006773759145290,-0.031787324696779,-0.051905773580074,-0.005907403305173,0.042394209653139,-0.082029081881046,0.080621287226677,0.006453755311668,0.053428310900927));
res += mul(Get(s1,-dx,-dy), float4x4(0.151909247040749,0.011067965999246,0.205533146858215,0.120454132556915,-0.029314273968339,-0.086769528687000,-0.057310376316309,-0.042648267000914,-0.053137354552746,0.049012266099453,-0.035357143729925,0.025878023356199,-0.059057611972094,0.005653550382704,-0.083050765097141,-0.010435183532536));
res += mul(Get(s1,-dx,0), float4x4(0.056962206959724,0.038929950445890,-0.098276093602180,-0.019010832533240,-0.078320309519768,-0.144696593284607,-0.101621642708778,0.023561930283904,0.017443528398871,0.078078933060169,0.196732297539711,0.072657525539398,-0.057854127138853,-0.078606039285660,0.103921838104725,0.078103423118591));
res += mul(Get(s1,-dx,dy), float4x4(-0.084317952394485,-0.082935571670532,0.044539324939251,-0.142179846763611,0.015996078029275,-0.000640015874524,-0.060269646346569,0.082683145999908,0.093793228268623,-0.162578672170639,0.146600261330605,0.090428285300732,0.064355418086052,-0.026517445221543,0.010330564342439,-0.059836957603693));
res += mul(Get(s1,0,-dy), float4x4(-0.008451856672764,0.019301185384393,-0.080292358994484,0.071431189775467,0.086816623806953,0.003607554128394,0.110280893743038,0.055452987551689,-0.043161861598492,-0.036885198205709,-0.075025029480457,0.005168149247766,0.027747156098485,-0.048848304897547,-0.090401887893677,-0.028378259390593));
res += mul(Get(s1,0,0), float4x4(0.049728937447071,-0.044733341783285,0.055029105395079,-0.051805440336466,0.120151810348034,-0.069303773343563,0.113795250654221,0.067606657743454,-0.035814501345158,0.104603812098503,0.042241115123034,-0.023742942139506,-0.038097560405731,-0.094028078019619,0.009882749058306,0.161936476826668));
res += mul(Get(s1,0,dy), float4x4(-0.068098261952400,0.055125728249550,0.089495927095413,0.068793408572674,-0.151013448834419,-0.019966457039118,0.023599406704307,-0.062293626368046,0.066342830657959,0.051322806626558,0.016772519797087,-0.063740260899067,-0.003065010532737,0.065419256687164,-0.001131486613303,-0.064854741096497));
res += mul(Get(s1,dx,-dy), float4x4(-0.099002890288830,-0.030662111938000,-0.039664063602686,0.149701356887817,-0.075617104768753,0.014209163375199,-0.072005778551102,-0.108467027544975,0.118640184402466,0.094376504421234,-0.020176358520985,-0.056063577532768,0.064825594425201,-0.095258489251137,0.012326673604548,-0.009189283475280));
res += mul(Get(s1,dx,0), float4x4(-0.163587272167206,0.058057706803083,0.026056552305818,0.038070533424616,-0.155349835753441,-0.019617207348347,0.066859059035778,-0.071394622325897,0.043755270540714,-0.031679935753345,0.079650953412056,0.031854994595051,-0.031363766640425,0.081796713173389,0.048329435288906,-0.045153740793467));
res += mul(Get(s1,dx,dy), float4x4(-0.007483157329261,0.054258927702904,-0.105567596852779,0.045955181121826,0.042176071554422,0.109964407980442,0.028874913230538,-0.024735074490309,0.000156821683049,-0.094449698925018,-0.104181475937366,0.033206213265657,-0.079650469124317,-0.067873127758503,0.008362043648958,0.021392861381173));
res += mul(Get(s2,-dx,-dy), float4x4(0.061027463525534,0.163020819425583,0.076104931533337,-0.068839624524117,0.129318580031395,-0.030435813590884,0.034680530428886,-0.055185101926327,0.000430748856161,-0.009455388411880,0.050445098429918,0.095975287258625,-0.075856402516365,0.123396329581738,-0.009090689010918,-0.199968025088310));
res += mul(Get(s2,-dx,0), float4x4(-0.014986117370427,-0.101681098341942,0.062083654105663,0.030634433031082,-0.078161060810089,-0.013640972785652,-0.160738512873650,0.100045949220657,-0.103103294968605,-0.009704995900393,-0.015762498602271,-0.022533139213920,0.068373553454876,0.093283049762249,-0.018806718289852,0.012074317783117));
res += mul(Get(s2,-dx,dy), float4x4(-0.109718285501003,0.048825383186340,0.078248709440231,0.032717905938625,-0.223874479532242,0.026004510000348,0.124182961881161,0.049737021327019,0.086769238114357,-0.022928638383746,-0.085691548883915,0.069637246429920,0.052268635481596,0.046671040356159,0.026510378345847,-0.108156874775887));
res += mul(Get(s2,0,-dy), float4x4(0.083938091993332,-0.097405910491943,-0.055640388280153,-0.037185221910477,0.039865721017122,-0.025978967547417,0.296028107404709,-0.117982797324657,0.000203659408726,0.068290509283543,0.128307789564133,-0.048342194408178,0.069983333349228,0.005539254751056,-0.017535736784339,-0.087858654558659));
res += mul(Get(s2,0,0), float4x4(0.057011440396309,0.037697609513998,-0.257379770278931,0.137048661708832,0.036433868110180,-0.051860060542822,-0.070374839007854,0.035777766257524,0.002772046020254,-0.001738953520544,0.058046922087669,-0.172061234712601,0.085710152983665,-0.001200370374136,-0.016686113551259,-0.011666546575725));
res += mul(Get(s2,0,dy), float4x4(-0.085528597235680,0.010797542519867,-0.137586951255798,0.016755510121584,-0.143432617187500,0.034928705543280,0.101139038801193,0.024809170514345,0.048053693026304,-0.061348780989647,-0.012009819038212,0.006515797693282,0.043768726289272,-0.022811770439148,-0.014234843663871,-0.027802051976323));
res += mul(Get(s2,dx,-dy), float4x4(-0.060338765382767,0.101016573607922,0.036903463304043,-0.016909645870328,0.185783460736275,-0.027086663991213,-0.130811765789986,-0.090895719826221,0.090490110218525,-0.019071392714977,-0.008326056413352,0.086229406297207,-0.101271569728851,0.031259194016457,0.023546574637294,-0.098761007189751));
res += mul(Get(s2,dx,0), float4x4(0.035986240953207,0.120040610432625,0.045894403010607,0.034928377717733,-0.206375151872635,0.001544276834466,0.042335022240877,-0.067170791327953,0.147516444325447,-0.042246680706739,0.012579278089106,0.021062448620796,-0.041640575975180,0.034117147326469,0.007487492635846,-0.042236153036356));
res += mul(Get(s2,dx,dy), float4x4(-0.035813860595226,0.032657317817211,0.045857302844524,-0.115212328732014,-0.056885559111834,0.102755226194859,0.034375306218863,0.152108728885651,0.038427155464888,0.053719777613878,0.032337531447411,-0.126371309161186,-0.089852869510651,0.051234863698483,-0.053000066429377,0.090010136365891));
res += mul(Get(s3,-dx,-dy), float4x4(0.007350980304182,-0.019126506522298,0.019177636131644,-0.057058881968260,0.101963646709919,0.000518412678503,0.007039101794362,-0.086055502295494,0.021250307559967,-0.070454217493534,0.075628429651260,0.072585634887218,0.097730264067650,0.014666328206658,0.073588006198406,-0.102298341691494));
res += mul(Get(s3,-dx,0), float4x4(-0.019872466102242,-0.055432725697756,0.206466272473335,-0.009442588314414,-0.038530118763447,0.015132983215153,0.098309308290482,0.056370701640844,0.058802224695683,0.015887977555394,0.105034366250038,0.065063253045082,0.052749071270227,-0.048009216785431,0.093237124383450,-0.034623198211193));
res += mul(Get(s3,-dx,dy), float4x4(0.033479940146208,0.010684741660953,-0.113316863775253,-0.139107272028923,-0.024684892967343,-0.022488934919238,0.008947843685746,-0.130485981702805,-0.027265662327409,0.027760675176978,-0.071301408112049,0.043933156877756,0.055860344320536,0.147296816110611,-0.013415750116110,-0.011511155404150));
res += mul(Get(s3,0,-dy), float4x4(-0.003154123667628,0.046533994376659,-0.097798176109791,-0.085831835865974,0.120537035167217,0.110330395400524,0.138873741030693,-0.108217671513557,0.024427799507976,0.114685215055943,0.075389713048935,0.114129953086376,-0.004571950063109,0.037685185670853,-0.041259579360485,0.161019012331963));
res += mul(Get(s3,0,0), float4x4(-0.156925171613693,-0.086790136992931,0.015609771013260,-0.071463607251644,-0.051689822226763,0.045413438230753,0.059471603482962,0.011163234710693,0.081438191235065,-0.021504236385226,0.064566269516945,0.034101348370314,-0.076176561415195,0.137478843331337,-0.123174913227558,-0.082854777574539));
res += mul(Get(s3,0,dy), float4x4(0.000214298532228,-0.170505240559578,-0.073460906744003,-0.116481542587280,0.015095406211913,0.022580178454518,-0.028953287750483,0.061549898236990,-0.033426340669394,0.052223730832338,0.122858054935932,0.066027142107487,-0.016478978097439,0.149953633546829,0.040280636399984,-0.122956901788712));
res += mul(Get(s3,dx,-dy), float4x4(-0.025463722646236,-0.065790638327599,0.053632009774446,0.018532602116466,-0.108170874416828,0.143581330776215,-0.014955231919885,0.009286887943745,0.085401602089405,-0.040420953184366,0.003049180842936,-0.044573120772839,0.028210382908583,0.115181542932987,0.010821895673871,-0.028554793447256));
res += mul(Get(s3,dx,0), float4x4(0.070094026625156,0.107609018683434,-0.011819098144770,0.097538329660892,0.063414111733437,0.027241908013821,0.090326488018036,-0.068902857601643,0.105287857353687,0.074248857796192,0.097358442842960,-0.131438538432121,-0.125064730644226,-0.063450083136559,0.060000684112310,-0.097294978797436));
res += mul(Get(s3,dx,dy), float4x4(-0.038195170462132,0.064878925681114,0.047923654317856,0.022806331515312,-0.027596728876233,0.094498813152313,0.161312386393547,0.121791467070580,-0.117418169975281,0.103430733084679,-0.168059408664703,0.091688714921474,0.016382955014706,-0.039029520004988,0.094187200069427,-0.044050116091967));
res = max(float4(0,0,0,0), res);
return res;
}
