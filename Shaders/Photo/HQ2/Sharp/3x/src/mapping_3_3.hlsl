sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.010279802605510,-0.012771808542311,-0.099249459803104,0.019735909998417,-0.097706407308578,0.094214126467705,0.106527052819729,-0.067941837012768,0.038290690630674,-0.118654437363148,0.159181803464890,0.052912980318069,0.008311584591866,-0.037801738828421,-0.079073436558247,0.050437249243259));
res += mul(Get(s0,-dx,0), float4x4(-0.055674884468317,-0.014749444089830,0.001910493010655,-0.037979166954756,0.035632833838463,-0.019255392253399,-0.008024639450014,-0.073871254920959,0.141409650444984,0.107775278389454,-0.026759942993522,-0.051422238349915,0.042677305638790,-0.043081782758236,-0.032495018094778,0.028056830167770));
res += mul(Get(s0,-dx,dy), float4x4(-0.041596110910177,0.014046493917704,0.006739498581737,-0.058668881654739,0.175479948520660,-0.169664412736893,-0.229824557900429,-0.064723171293736,-0.165250852704048,0.088054299354553,-0.035451181232929,0.044320192188025,-0.034766931086779,-0.112305581569672,-0.056025173515081,-0.070027776062489));
res += mul(Get(s0,0,-dy), float4x4(-0.027313183993101,-0.027190180495381,0.010323298163712,-0.045263748615980,0.052462812513113,0.067460298538208,0.160395056009293,-0.012492781504989,-0.051720473915339,0.024828160181642,0.021972242742777,-0.040747959166765,0.017952539026737,-0.124960593879223,0.078507862985134,-0.118606820702553));
res += mul(Get(s0,0,0), float4x4(0.058847680687904,0.024843065068126,-0.039953351020813,0.012933681719005,-0.113341145217419,-0.019559720531106,-0.074243299663067,-0.090815372765064,-0.031710907816887,-0.176158741116524,-0.092752411961555,-0.103358305990696,-0.089174292981625,0.101786024868488,-0.042352594435215,-0.067203730344772));
res += mul(Get(s0,0,dy), float4x4(0.142057865858078,0.035111803561449,0.075350634753704,0.010288835503161,-0.085124485194683,0.056632328778505,-0.034078035503626,0.076068185269833,0.150411948561668,-0.063295133411884,0.155312120914459,-0.089438714087009,0.035087566822767,0.082847334444523,0.060952506959438,-0.002796381711960));
res += mul(Get(s0,dx,-dy), float4x4(0.102076567709446,0.007524581626058,0.065413460135460,-0.082073353230953,-0.041851989924908,-0.091501601040363,-0.051767542958260,-0.185654744505882,-0.065934412181377,0.008751444518566,-0.109034776687622,0.018132550641894,0.030464127659798,0.015976527705789,0.141876623034477,0.074744455516338));
res += mul(Get(s0,dx,0), float4x4(-0.066743046045303,-0.009071263484657,-0.021245969459414,-0.011011976748705,-0.083448335528374,0.032894797623158,-0.000747227109969,0.068008787930012,0.141653209924698,0.053185950964689,0.109267964959145,0.032801944762468,0.051097862422466,0.097510583698750,-0.083558179438114,0.077918119728565));
res += mul(Get(s0,dx,dy), float4x4(0.023781254887581,0.010875807143748,-0.085314832627773,0.049531310796738,0.002200005576015,0.043409280478954,-0.091977052390575,-0.098278306424618,0.008799009025097,-0.079794824123383,0.007676047738642,0.049114804714918,0.008558513596654,0.041490849107504,0.039645403623581,0.146203845739365));
res += mul(Get(s1,-dx,-dy), float4x4(-0.217183351516724,-0.113250695168972,0.010301426984370,-0.032995507121086,-0.010453033261001,0.072195149958134,-0.114905968308449,0.047937944531441,-0.035411741584539,0.050974197685719,0.043534491211176,-0.065252125263214,0.096831448376179,0.013942448422313,0.052371226251125,0.037575114518404));
res += mul(Get(s1,-dx,0), float4x4(-0.062364146113396,-0.146185293793678,-0.029105337336659,-0.003761416766793,-0.044578831642866,-0.034443993121386,0.026213971897960,0.145004168152809,0.087773017585278,-0.010278996080160,-0.016414277255535,0.007701869122684,-0.118418283760548,0.026118783280253,0.042863637208939,0.013155564665794));
res += mul(Get(s1,-dx,dy), float4x4(0.036208264529705,0.019107779487967,-0.206829234957695,-0.010275245644152,0.016811626031995,0.039554800838232,-0.053314771503210,-0.068000584840775,0.101726569235325,0.148548305034637,-0.052486401051283,-0.094990789890289,0.086844034492970,-0.043017569929361,-0.108079381287098,-0.022321669384837));
res += mul(Get(s1,0,-dy), float4x4(-0.024905283004045,-0.024771226570010,0.198734685778618,-0.027473041787744,-0.020501529797912,-0.046796366572380,0.000431364373071,-0.010455004870892,-0.003268651897088,0.011687346734107,0.013584441505373,0.010647392831743,-0.017396660521626,-0.142669856548309,-0.128089264035225,0.050986807793379));
res += mul(Get(s1,0,0), float4x4(-0.137740343809128,-0.028026780113578,-0.023488549515605,-0.145556434988976,-0.087223201990128,0.038951966911554,-0.011775149963796,0.178857088088989,0.000959400960710,-0.030342075973749,0.138217374682426,0.040041219443083,-0.203708127140999,0.119474612176418,-0.069036915898323,0.093756161630154));
res += mul(Get(s1,0,dy), float4x4(0.011320165358484,0.029465643689036,-0.095093712210655,0.020890956744552,0.118403524160385,-0.026382511481643,0.083097934722900,0.015712156891823,0.014132693409920,-0.091535098850727,-0.145131915807724,-0.041855469346046,-0.073561526834965,0.022479439154267,-0.116626538336277,-0.003567941254005));
res += mul(Get(s1,dx,-dy), float4x4(0.108130015432835,0.096023589372635,0.078157424926758,0.035564955323935,-0.016941502690315,0.103705398738384,0.071168065071106,-0.022611262276769,-0.007664200384170,0.088190801441669,0.024361683055758,0.032001167535782,0.021568495780230,-0.015119889751077,-0.073948264122009,-0.088348731398582));
res += mul(Get(s1,dx,0), float4x4(0.071466930210590,-0.098399281501770,-0.027828048914671,-0.067969009280205,0.182277873158455,0.172990858554840,-0.040512386709452,0.101084344089031,0.062165327370167,0.010794172994792,0.008920446969569,0.137521684169769,-0.072616398334503,0.020948490127921,-0.058217085897923,0.121303938329220));
res += mul(Get(s1,dx,dy), float4x4(-0.089648477733135,-0.155382454395294,-0.106579899787903,-0.117187038064003,0.024230174720287,0.024557944387197,0.042748589068651,-0.016181403771043,0.017780851572752,0.064632959663868,-0.076832555234432,0.025870371609926,-0.052890304476023,-0.018302330747247,-0.132978245615959,0.033471636474133));
res += mul(Get(s2,-dx,-dy), float4x4(-0.117545410990715,-0.102399230003357,-0.070859037339687,0.070361636579037,0.080781161785126,0.085237890481949,-0.097777761518955,-0.091613315045834,0.000362186867278,-0.007353999186307,0.000155008732690,-0.074978820979595,-0.056511931121349,0.046640872955322,-0.030230429023504,0.075889632105827));
res += mul(Get(s2,-dx,0), float4x4(0.016163978725672,0.004949315916747,0.063130304217339,-0.074040248990059,0.000444877659902,0.038040231913328,0.030320800840855,0.104223608970642,-0.032894805073738,-0.006810091901571,-0.056790571659803,-0.016464537009597,-0.070232629776001,0.015350747853518,0.010158574208617,-0.178381726145744));
res += mul(Get(s2,-dx,dy), float4x4(-0.059451807290316,0.001596039044671,-0.104481570422649,-0.025951173156500,0.123698234558105,-0.191586211323738,0.102961860597134,0.150365784764290,-0.016254808753729,0.099144369363785,0.027255503460765,0.040907420217991,-0.093172229826450,0.011762363836169,0.007182915695012,0.027399430051446));
res += mul(Get(s2,0,-dy), float4x4(-0.083720847964287,-0.035483796149492,0.072135664522648,0.107243113219738,0.001355080399662,-0.110284306108952,-0.001751510659233,-0.090606488287449,-0.052247907966375,0.126646772027016,-0.065842449665070,-0.051615428179502,-0.001417953637429,-0.058296836912632,-0.132217496633530,-0.185699164867401));
res += mul(Get(s2,0,0), float4x4(0.009344629012048,0.035768300294876,-0.098405770957470,0.094448678195477,-0.012230695225298,0.006156303919852,0.078532464802265,0.069773413240910,0.147725567221642,0.111410446465015,-0.064235031604767,-0.059855014085770,0.115317344665527,-0.044026590883732,-0.052825920283794,-0.092771820724010));
res += mul(Get(s2,0,dy), float4x4(0.119793765246868,0.041833017021418,0.132991656661034,0.082634419202805,0.110773302614689,0.056017588824034,0.017819790169597,-0.087813563644886,-0.113821238279343,-0.159021466970444,0.019953025504947,-0.043172903358936,-0.013244975358248,-0.077750161290169,0.154960289597511,0.022752614691854));
res += mul(Get(s2,dx,-dy), float4x4(-0.095972605049610,0.122686699032784,0.049030441790819,0.030520046129823,-0.065719321370125,0.126440063118935,-0.062559381127357,-0.008006300777197,-0.013717865571380,0.047329917550087,0.048532679677010,0.052580885589123,-0.030877973884344,-0.098819710314274,-0.078597329556942,-0.008649220690131));
res += mul(Get(s2,dx,0), float4x4(0.130228608846664,0.047502655535936,-0.049002204090357,0.032619696110487,0.061492726206779,-0.049696221947670,-0.056413676589727,-0.011325229890645,-0.073957778513432,-0.096726536750793,-0.110665403306484,-0.065090574324131,-0.002537504304200,0.134645178914070,0.031697623431683,-0.002624860033393));
res += mul(Get(s2,dx,dy), float4x4(0.061720173805952,-0.045385647565126,0.072892412543297,0.005968966986984,-0.006918858271092,0.078022837638855,0.047064103186131,-0.050084512680769,0.041605494916439,-0.076268710196018,0.192772448062897,-0.122996851801872,-0.066002547740936,0.013499695807695,0.216666340827942,0.065261170268059));
res += mul(Get(s3,-dx,-dy), float4x4(-0.122675485908985,-0.077463783323765,0.019369710236788,0.032334070652723,-0.015085529536009,0.162230402231216,0.057572651654482,0.064437516033649,0.096393078565598,0.054692175239325,-0.077334575355053,0.134830251336098,0.060847006738186,-0.040269657969475,-0.047248046845198,0.112869538366795));
res += mul(Get(s3,-dx,0), float4x4(-0.046454343944788,-0.013782589696348,0.005090853199363,-0.084217451512814,-0.118805184960365,-0.010526412166655,0.063824899494648,-0.034529108554125,0.026112232357264,0.003233513562009,-0.042792931199074,0.066165380179882,0.011809150688350,-0.083641670644283,-0.044120658189058,0.008872658014297));
res += mul(Get(s3,-dx,dy), float4x4(0.139154180884361,0.124082773923874,-0.010111510753632,-0.184397697448730,-0.070543825626373,-0.044492024928331,-0.069483384490013,0.060695473104715,-0.035521384328604,-0.074654385447502,0.099605500698090,-0.007948935031891,0.003768562106416,-0.041314903646708,-0.108674436807632,0.067460410296917));
res += mul(Get(s3,0,-dy), float4x4(-0.049284581094980,-0.058267887681723,0.016107652336359,0.082637697458267,0.023301310837269,-0.024038288742304,0.024091590195894,-0.021455053240061,-0.206168025732040,0.024085851386189,0.002454889006913,-0.064612582325935,0.095924340188503,-0.036750432103872,0.028097204864025,0.063856534659863));
res += mul(Get(s3,0,0), float4x4(0.050090208649635,0.076313182711601,-0.074695169925690,-0.120706290006638,0.084373570978642,-0.028650622814894,0.039238095283508,0.171767681837082,0.120348438620567,0.086125709116459,0.121301732957363,0.049529120326042,0.143501132726669,-0.081747785210609,-0.042136728763580,0.027389898896217));
res += mul(Get(s3,0,dy), float4x4(-0.067453518509865,0.056855522096157,-0.167096838355064,0.045918732881546,-0.032759301364422,-0.092571847140789,0.097196891903877,-0.070276066660881,0.038639158010483,-0.008658004924655,0.037529550492764,0.097218297421932,0.044978454709053,0.071948915719986,0.102111645042896,-0.011370993219316));
res += mul(Get(s3,dx,-dy), float4x4(0.029147882014513,0.051967710256577,0.062508121132851,0.062016282230616,0.044655792415142,0.045663844794035,0.072037875652313,0.072975881397724,-0.077493049204350,-0.093000099062920,0.059297099709511,-0.057937789708376,-0.251232624053955,-0.042353909462690,0.003552799578756,-0.098640687763691));
res += mul(Get(s3,dx,0), float4x4(-0.035723388195038,0.041420497000217,-0.050210423767567,-0.120124064385891,0.037542954087257,-0.133904591202736,-0.031338628381491,-0.003140780143440,-0.019782066345215,0.040805149823427,0.030991654843092,-0.006426622625440,0.027873815968633,0.023074084892869,-0.028262823820114,-0.062750957906246));
res += mul(Get(s3,dx,dy), float4x4(0.025306640192866,0.174602344632149,-0.024072794243693,-0.006008959375322,0.032113466411829,0.016546655446291,-0.151129916310310,-0.095377475023270,0.037827465683222,0.032618559896946,0.182168453931808,-0.033720538020134,-0.004279598128051,-0.119237132370472,-0.035673066973686,-0.069200873374939));
res = max(float4(0,0,0,0), res);
return res;
}
