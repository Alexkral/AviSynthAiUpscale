sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.077755801379681,-0.151404500007629,0.053357385098934,-0.039149656891823,0.201360657811165,-0.008660441264510,-0.041367508471012,0.062960393726826,-0.004713846370578,-0.015287805348635,-0.027880717068911,-0.087208390235901,-0.023924091830850,-0.033647552132607,-0.038701020181179,0.074361279606819));
res += mul(Get(s0,-dx,0), float4x4(-0.150032669305801,-0.053222753107548,-0.106486283242702,-0.071201831102371,-0.186475142836571,0.014290113002062,-0.161206558346748,0.094895631074905,0.028025129809976,0.094851642847061,-0.015073773451149,0.033958874642849,-0.062333937734365,0.037060599774122,-0.122603058815002,0.082125894725323));
res += mul(Get(s0,-dx,dy), float4x4(-0.007062748074532,-0.000776566565037,0.015334649011493,-0.251321375370026,0.057958267629147,-0.157742276787758,-0.076450765132904,0.040147200226784,0.073204092681408,-0.001708469702862,-0.021350461989641,-0.057272568345070,0.015226817689836,0.110690005123615,-0.089028894901276,-0.082447580993176));
res += mul(Get(s0,0,-dy), float4x4(-0.082156762480736,-0.027068326249719,0.020495185628533,0.004408332984895,-0.113266870379448,0.212114527821541,0.000001402635462,0.098929546773434,-0.104572340846062,0.049154337495565,0.028867276385427,-0.097464308142662,0.056343268603086,0.073610551655293,0.057093963027000,0.077575325965881));
res += mul(Get(s0,0,0), float4x4(0.114676423370838,-0.026828285306692,-0.150490239262581,-0.029096696525812,-0.100430324673653,-0.055678486824036,0.032328162342310,0.252840518951416,-0.028569798916578,-0.016749829053879,-0.016365142539144,0.016953805461526,-0.045405436307192,-0.017797129228711,0.055663902312517,-0.134043276309967));
res += mul(Get(s0,0,dy), float4x4(-0.010624728165567,-0.075213626027107,0.015592689625919,-0.021741576492786,-0.041691392660141,-0.180452823638916,0.005194258876145,-0.074472486972809,0.000311545794830,-0.036205954849720,0.080707482993603,0.073641829192638,-0.042331878095865,0.013272353447974,-0.072754561901093,-0.078901246190071));
res += mul(Get(s0,dx,-dy), float4x4(-0.101858131587505,0.076503351330757,0.001044464763254,0.031167538836598,-0.041686661541462,-0.017196960747242,-0.133152812719345,0.001576223410666,-0.119097769260406,0.102167434990406,-0.033818561583757,-0.124043233692646,0.042358528822660,0.026320956647396,0.063560418784618,0.020565522834659));
res += mul(Get(s0,dx,0), float4x4(-0.024449221789837,-0.064748235046864,0.017586234956980,-0.061509992927313,-0.056408252567053,0.018923208117485,-0.071092627942562,0.045311402529478,0.030793240293860,0.030551016330719,0.102513380348682,-0.026848832145333,-0.058921191841364,0.034360118210316,-0.058318961411715,-0.025290969759226));
res += mul(Get(s0,dx,dy), float4x4(-0.037745635956526,-0.003186214948073,-0.125367686152458,-0.129165768623352,-0.025087008252740,-0.107756540179253,-0.142061010003090,-0.119166664779186,-0.066284358501434,0.013640892691910,-0.011771517805755,0.046560011804104,0.020954465493560,0.105096690356731,0.056510657072067,-0.062162775546312));
res += mul(Get(s1,-dx,-dy), float4x4(-0.126031741499901,0.032660301774740,0.016958171501756,0.015208031050861,-0.066621623933315,0.055244419723749,0.064617864787579,-0.104223012924194,0.123974457383156,0.203283995389938,0.118401072919369,0.035944171249866,0.064136117696762,0.029855696484447,0.016453968361020,0.068127468228340));
res += mul(Get(s1,-dx,0), float4x4(0.065619736909866,0.023772882297635,0.008904992602766,0.031521938741207,0.095101639628410,-0.052848648279905,-0.113929972052574,-0.040217477828264,0.048951957374811,0.077379457652569,-0.074346095323563,-0.004505991470069,-0.020359670743346,0.062367927283049,-0.007260165642947,0.020314244553447));
res += mul(Get(s1,-dx,dy), float4x4(0.075524218380451,0.070950336754322,-0.057095389813185,-0.009703557938337,-0.073460422456264,0.020674619823694,-0.003630988532677,-0.095389835536480,0.002104629995301,-0.093148127198219,-0.045191939920187,0.258916676044464,0.047638211399317,-0.025317696854472,-0.054847698658705,-0.000778938934673));
res += mul(Get(s1,0,-dy), float4x4(0.020643426105380,0.009076860733330,0.069487050175667,-0.124572336673737,0.024547178298235,0.008839413523674,-0.018466662615538,0.039562147110701,0.008753457106650,-0.008944586850703,-0.058683648705482,-0.036402489989996,-0.047595895826817,0.156538784503937,-0.030973147600889,0.192413598299026));
res += mul(Get(s1,0,0), float4x4(0.023885479196906,0.041490402072668,-0.097658939659595,0.060320626944304,0.039963532239199,0.023574551567435,0.013888350687921,0.017968542873859,-0.006288637407124,0.012918375432491,0.168882936239243,-0.029332149773836,0.113698035478592,0.022413542494178,0.185818314552307,0.120578698813915));
res += mul(Get(s1,0,dy), float4x4(0.022736851125956,0.046797242015600,0.057968609035015,-0.024601349607110,0.122706979513168,0.116081178188324,-0.025776978582144,-0.139332458376884,-0.041587099432945,-0.096703261137009,-0.039015777409077,0.016662225127220,0.039184082299471,-0.024269940331578,0.156827405095100,-0.002939046593383));
res += mul(Get(s1,dx,-dy), float4x4(-0.029394414275885,0.010481315664947,0.001566164544784,-0.026016131043434,-0.078900292515755,0.004986809566617,-0.060206543654203,0.054306007921696,0.015238462947309,-0.017970981076360,0.077849283814430,-0.087833434343338,0.054694861173630,0.120198264718056,-0.114869840443134,-0.093853592872620));
res += mul(Get(s1,dx,0), float4x4(-0.067060910165310,-0.011256535537541,0.054092954844236,-0.104023769497871,-0.001559042604640,-0.072788178920746,0.019803183153272,0.073761142790318,0.069319620728493,0.107491254806519,-0.002757674315944,-0.077828623354435,0.140251278877258,-0.026375494897366,0.058279689401388,0.081765763461590));
res += mul(Get(s1,dx,dy), float4x4(0.022126676514745,0.074151925742626,-0.033564336597919,-0.138266399502754,-0.063177168369293,-0.169602960348129,0.010781458579004,0.065569452941418,-0.053628452122211,0.134791240096092,0.024084601551294,-0.243794664740562,-0.002622024854645,-0.081104174256325,0.113653719425201,0.082061052322388));
res += mul(Get(s2,-dx,-dy), float4x4(-0.008506900630891,0.026055157184601,-0.070664726197720,-0.117998093366623,-0.130113050341606,0.101464264094830,0.057305376976728,-0.038607507944107,-0.142566248774529,0.041101146489382,0.169437572360039,-0.079162046313286,0.108901306986809,-0.013586192391813,0.038260258734226,-0.109966546297073));
res += mul(Get(s2,-dx,0), float4x4(-0.018453383818269,0.005009728949517,-0.009386963211000,0.040359891951084,0.069945991039276,-0.007555468939245,-0.095242254436016,0.092011578381062,-0.053997676819563,0.076814927160740,0.013209186494350,-0.035572655498981,-0.079720444977283,-0.139482334256172,-0.080306947231293,0.032499432563782));
res += mul(Get(s2,-dx,dy), float4x4(0.020303983241320,0.017198959365487,-0.082692258059978,0.015320931561291,-0.091480813920498,-0.065867885947227,-0.009673981927335,0.029195170849562,0.044284224510193,-0.046953935176134,-0.004244898445904,-0.219941675662994,-0.058211259543896,-0.005170933436602,0.049865767359734,-0.006897348444909));
res += mul(Get(s2,0,-dy), float4x4(-0.001485196757130,0.049513787031174,0.022027939558029,-0.083677820861340,-0.050222404301167,0.089128069579601,0.038464426994324,-0.141731560230255,-0.076302342116833,-0.066559247672558,0.076099663972855,0.025885075330734,0.061682283878326,0.187091574072838,-0.075382694602013,-0.102139137685299));
res += mul(Get(s2,0,0), float4x4(0.100288882851601,0.037343434989452,-0.020758388563991,-0.047722194343805,0.047395352274179,-0.177785813808441,-0.138318791985512,0.080322563648224,-0.042003933340311,0.022390756756067,0.040101371705532,-0.063770808279514,-0.055049512535334,-0.083028592169285,0.095211155712605,0.006474897265434));
res += mul(Get(s2,0,dy), float4x4(-0.055338997393847,0.162289887666702,-0.097768351435661,0.092168025672436,0.062852308154106,-0.096601597964764,-0.046689070761204,-0.049967788159847,-0.023241786286235,0.085785955190659,0.089772664010525,-0.118087403476238,0.018342571333051,-0.144574090838432,0.115982100367546,0.044918935745955));
res += mul(Get(s2,dx,-dy), float4x4(-0.061090786010027,0.022514650598168,0.110772848129272,-0.075407907366753,-0.069115035235882,-0.095869973301888,0.051135711371899,-0.022048890590668,0.091976404190063,0.079005606472492,0.001231853268109,0.032404337078333,-0.003072710707784,0.222912326455116,0.030828483402729,-0.066053710877895));
res += mul(Get(s2,dx,0), float4x4(-0.048522144556046,-0.101035833358765,0.008215429261327,0.038107838481665,-0.030473733320832,-0.101404137909412,-0.067662969231606,0.004350551869720,-0.035687256604433,0.070383481681347,-0.027833940461278,0.037951607257128,0.067686252295971,-0.121569514274597,-0.004306681454182,-0.019436286762357));
res += mul(Get(s2,dx,dy), float4x4(-0.121332190930843,0.039461836218834,-0.130301117897034,0.035602923482656,0.066454671323299,0.018073663115501,0.096801862120628,-0.208538934588432,0.068921700119972,-0.007677427027375,0.053797211498022,-0.030229331925511,-0.120222635567188,-0.006812124978751,0.049494035542011,-0.052472561597824));
res += mul(Get(s3,-dx,-dy), float4x4(0.093384228646755,0.094220496714115,-0.017240127548575,-0.160123243927956,-0.012337913736701,0.251268506050110,-0.055222317576408,-0.018447414040565,-0.025428555905819,-0.032220043241978,-0.001450402429327,-0.038135230541229,-0.073203131556511,-0.048985451459885,-0.037151325494051,-0.098935961723328));
res += mul(Get(s3,-dx,0), float4x4(-0.104731015861034,0.117748633027077,-0.102647207677364,0.098331108689308,0.007547333370894,0.021408909931779,-0.041528068482876,-0.088637210428715,-0.062475949525833,0.048413220793009,0.024584513157606,-0.118956938385963,0.009962006472051,-0.047200895845890,0.053380582481623,-0.054556358605623));
res += mul(Get(s3,-dx,dy), float4x4(-0.029643034562469,-0.092661052942276,-0.010222535580397,0.170848369598389,-0.019137009978294,0.062223877757788,0.102719128131866,0.094530344009399,-0.014818597584963,-0.129871100187302,0.021510979160666,0.068448722362518,0.108118154108524,-0.079310238361359,0.010524100624025,0.089032001793385));
res += mul(Get(s3,0,-dy), float4x4(0.087194703519344,0.140196591615677,0.069595478475094,0.155200451612473,-0.034750964492559,0.147847905755043,0.197734728455544,0.015067555010319,0.091021217405796,-0.077952839434147,-0.000392631249269,0.003671547630802,0.022745946422219,0.090874984860420,-0.027289927005768,0.041435778141022));
res += mul(Get(s3,0,0), float4x4(0.041920017451048,0.053373608738184,-0.029186829924583,0.044623360037804,-0.088311366736889,0.051596142351627,-0.162419199943542,0.026139639317989,-0.112018875777721,0.031686574220657,0.045410979539156,0.036813095211983,-0.038452602922916,-0.108960054814816,-0.086616583168507,-0.040406938642263));
res += mul(Get(s3,0,dy), float4x4(-0.001584626617841,-0.099594712257385,-0.136859267950058,-0.003197166603059,-0.066888250410557,-0.129930630326271,0.021485561504960,-0.014068650081754,-0.115824267268181,-0.034466106444597,0.028929080814123,-0.018269561231136,0.064915999770164,-0.107107825577259,0.062473569065332,0.113433845341206));
res += mul(Get(s3,dx,-dy), float4x4(-0.120649255812168,-0.003690331708640,-0.069288991391659,0.007457196712494,-0.047422230243683,0.120269663631916,-0.059455890208483,-0.033613666892052,0.006379475351423,-0.014600977301598,0.029304485768080,-0.010102076455951,-0.097460471093655,0.056141767650843,-0.177483350038528,-0.025728477165103));
res += mul(Get(s3,dx,0), float4x4(-0.110652767121792,0.000864597852342,0.031351175159216,0.070180207490921,0.046470835804939,0.045814577490091,0.007996775209904,0.082612730562687,0.080048389732838,-0.037536468356848,-0.023255143314600,-0.051442991942167,0.045268982648849,-0.035314522683620,0.039752691984177,0.011756215244532));
res += mul(Get(s3,dx,dy), float4x4(-0.007901166565716,-0.043294232338667,0.046686172485352,-0.186863511800766,-0.010249975137413,-0.048581272363663,-0.089391164481640,-0.067322753369808,0.169602587819099,0.028811907395720,-0.020633976906538,-0.057718742638826,0.055287368595600,-0.010712248273194,-0.013799280859530,-0.029606672003865));
res = max(float4(0,0,0,0), res);
return res;
}
