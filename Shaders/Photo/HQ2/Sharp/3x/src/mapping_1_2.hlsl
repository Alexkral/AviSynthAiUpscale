sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.132730454206467,-0.012485491111875,-0.050286699086428,0.008811051957309,0.091758340597153,-0.123999394476414,0.100245669484138,0.013626502826810,0.096309870481491,-0.074253953993320,-0.018054025247693,-0.092318691313267,0.057199798524380,-0.042483739554882,0.069953702390194,-0.012432728894055));
res += mul(Get(s0,-dx,0), float4x4(0.054015424102545,-0.074584700167179,-0.052461851388216,-0.052674539387226,0.026982922106981,0.021774340420961,0.001631950144656,0.047512058168650,-0.084420911967754,0.092153355479240,0.028632050380111,-0.052176780998707,0.153699442744255,0.059488117694855,-0.072170197963715,0.143906444311142));
res += mul(Get(s0,-dx,dy), float4x4(-0.016142260283232,0.058738917112350,-0.073745533823967,0.082425348460674,0.071294590830803,-0.042496670037508,-0.032268598675728,0.005942928604782,0.120695784687996,-0.035509146749973,0.033623877912760,-0.075589492917061,-0.151256203651428,0.020286103710532,-0.025810541585088,-0.027815433219075));
res += mul(Get(s0,0,-dy), float4x4(0.033511891961098,-0.062871485948563,0.119105324149132,0.102126434445381,-0.114465631544590,-0.049238346517086,-0.017967579886317,-0.109632864594460,0.036335829645395,-0.043766953051090,-0.113087490200996,0.017355924472213,-0.016221066936851,0.032608296722174,-0.123713918030262,0.082074485719204));
res += mul(Get(s0,0,0), float4x4(-0.095017537474632,0.158233821392059,-0.011211913079023,0.053246803581715,0.103734649717808,0.024771379306912,0.180832192301750,-0.166585072875023,0.138413786888123,-0.130000114440918,-0.096423640847206,0.008742351084948,-0.066778078675270,-0.003284533740953,-0.010450703091919,-0.050988115370274));
res += mul(Get(s0,0,dy), float4x4(0.015127147547901,-0.005236072931439,-0.023376787081361,-0.129337757825851,-0.104182101786137,-0.099443353712559,0.113060310482979,-0.015073353424668,-0.109744280576706,-0.074799619615078,0.055452689528465,-0.071070261299610,0.015603343956172,-0.057357233017683,0.078861191868782,-0.027046568691730));
res += mul(Get(s0,dx,-dy), float4x4(0.015342507511377,0.040592566132545,-0.057532411068678,0.078811474144459,-0.114520184695721,0.011697952635586,0.115759707987309,0.127599418163300,0.143493339419365,0.170010402798653,0.124233022332191,0.105832882225513,-0.002197387162596,-0.093259796500206,-0.020146476104856,-0.052560102194548));
res += mul(Get(s0,dx,0), float4x4(0.083963595330715,-0.033329214900732,0.003152120625600,0.009968152269721,-0.121506027877331,0.065214931964874,0.045763354748487,0.044546116143465,-0.116847045719624,0.144225686788559,-0.098334558308125,-0.045614279806614,0.067621044814587,0.019064895808697,-0.005072448868304,-0.085508882999420));
res += mul(Get(s0,dx,dy), float4x4(-0.014055668376386,-0.059621680527925,-0.038173012435436,0.012413965538144,0.109909288585186,-0.062460385262966,0.062841564416885,0.029813393950462,-0.058903485536575,0.090699315071106,0.025834549218416,-0.080292254686356,0.003943050280213,0.211894035339355,-0.043276812881231,-0.014995178207755));
res += mul(Get(s1,-dx,-dy), float4x4(0.032067053020000,-0.097862534224987,0.005597588140517,-0.019942734390497,-0.030501041561365,0.098377823829651,0.017417415976524,0.015670699998736,0.014495012350380,-0.017082320526242,-0.085649132728577,0.060113050043583,-0.021366264671087,0.138684988021851,0.015971805900335,-0.113292597234249));
res += mul(Get(s1,-dx,0), float4x4(0.072247967123985,0.082568444311619,0.112443514168262,-0.105003200471401,-0.111622616648674,0.006578930653632,-0.032264892011881,0.007071379106492,-0.058058973401785,0.004002700094134,0.043832179158926,0.046780709177256,0.024606987833977,-0.059816841036081,0.086076974868774,0.164633661508560));
res += mul(Get(s1,-dx,dy), float4x4(0.026293452829123,0.031679384410381,0.132425218820572,0.012044921517372,0.012236809358001,0.028979483991861,-0.012346956878901,-0.085081540048122,0.058879375457764,0.051936268806458,-0.083094656467438,0.084947660565376,-0.042226936668158,0.104595921933651,0.009410756640136,0.091335490345955));
res += mul(Get(s1,0,-dy), float4x4(-0.091596566140652,0.107147760689259,0.048291686922312,-0.025808349251747,0.127440452575684,0.100432254374027,-0.068267159163952,0.027593543753028,0.105409853160381,-0.028171151876450,0.233133897185326,-0.062404509633780,0.109988965094090,-0.110405147075653,0.008339644409716,-0.064868621528149));
res += mul(Get(s1,0,0), float4x4(0.073293641209602,-0.039856754243374,-0.087344698607922,-0.013915419578552,-0.110059708356857,-0.035317510366440,-0.060542978346348,0.068540200591087,0.016511091962457,0.038197353482246,0.278602421283722,-0.072300687432289,-0.056848499923944,-0.057334292680025,-0.031397737562656,-0.013497898355126));
res += mul(Get(s1,0,dy), float4x4(-0.008136294782162,0.020049754530191,0.085901036858559,-0.064883746206760,-0.156397238373756,0.279105037450790,-0.117728263139725,0.122149966657162,-0.093660816550255,-0.233544126152992,-0.017494674772024,-0.150672838091850,-0.074935398995876,0.016516592353582,0.080346032977104,-0.141467303037643));
res += mul(Get(s1,dx,-dy), float4x4(-0.061696793884039,-0.036705743521452,0.030077001079917,-0.120005384087563,-0.041021708399057,-0.089939184486866,0.012920223176479,-0.070058286190033,0.126297712326050,-0.004385968670249,0.040382616221905,0.009703288786113,0.015809824690223,0.046367559581995,-0.085188500583172,0.017272297292948));
res += mul(Get(s1,dx,0), float4x4(0.042597182095051,-0.055801365524530,0.007794045843184,0.029902536422014,-0.030392225831747,-0.258158981800079,0.039124000817537,0.043598972260952,-0.185119256377220,-0.017910592257977,-0.016643466427922,0.065697304904461,-0.006432986352593,-0.104739122092724,0.066748447716236,0.056828424334526));
res += mul(Get(s1,dx,dy), float4x4(0.038015391677618,0.143497332930565,-0.070391394197941,0.073236607015133,-0.019446361809969,0.087440147995949,-0.017763521522284,0.057206928730011,-0.081634350121021,0.056748852133751,0.013611922971904,-0.064850904047489,-0.120649896562099,0.014198426157236,-0.045931436121464,-0.099153168499470));
res += mul(Get(s2,-dx,-dy), float4x4(0.093422658741474,-0.037684783339500,-0.105579644441605,-0.003359511494637,0.062571376562119,0.162048980593681,-0.027538595721126,-0.035776473581791,0.035823192447424,0.021791422739625,-0.004553866572678,-0.061892800033092,0.022192064672709,-0.030675377696753,0.025301640853286,-0.013930689543486));
res += mul(Get(s2,-dx,0), float4x4(0.192958608269691,0.027542917057872,-0.104001104831696,-0.148965448141098,-0.043532066047192,0.052272561937571,-0.009265679866076,0.057720150798559,-0.063320279121399,0.088591992855072,-0.083812147378922,0.155192896723747,0.034974165260792,0.036495920270681,0.102188065648079,-0.033047910779715));
res += mul(Get(s2,-dx,dy), float4x4(0.046847097575665,-0.042977981269360,-0.005945119541138,0.098856918513775,-0.022422673180699,-0.025619406253099,-0.058978818356991,-0.140251189470291,0.011906492523849,0.044080078601837,0.019166244193912,-0.064284525811672,-0.037628192454576,-0.081256598234177,0.104931384325027,-0.025515297427773));
res += mul(Get(s2,0,-dy), float4x4(0.031930916011333,0.109580181539059,0.017909912392497,-0.073070935904980,-0.057097978889942,0.050956316292286,-0.068129941821098,0.162162095308304,-0.030532361939549,-0.043173324316740,-0.125658199191093,-0.077849984169006,0.092628896236420,0.153937429189682,-0.130032673478127,-0.067926384508610));
res += mul(Get(s2,0,0), float4x4(0.051150374114513,0.070235125720501,0.001297517330386,0.053216431289911,-0.071331731975079,0.083600662648678,-0.010970310308039,-0.122131347656250,-0.085244394838810,0.042778264731169,0.044475562870502,0.020666761323810,0.123514883220196,-0.148987174034119,-0.056964363902807,0.116988301277161));
res += mul(Get(s2,0,dy), float4x4(-0.015917122364044,-0.137475654482841,0.023124547675252,-0.123398102819920,-0.083353281021118,-0.031358402222395,-0.074541643261909,0.112999700009823,-0.052297312766314,-0.050626274198294,-0.052743796259165,-0.029904939234257,0.049715109169483,-0.057618603110313,-0.018094770610332,-0.030717182904482));
res += mul(Get(s2,dx,-dy), float4x4(-0.093348890542984,0.094802871346474,-0.132001191377640,-0.027675867080688,0.003485218621790,0.011826753616333,0.050387982279062,0.112600117921829,0.141539216041565,0.044392004609108,0.070752143859863,0.015211931429803,-0.003513421863317,0.015756247565150,-0.050880298018456,-0.012771126814187));
res += mul(Get(s2,dx,0), float4x4(-0.159044563770294,0.107840687036514,-0.009552888572216,0.232118159532547,0.012235575355589,-0.082225508987904,0.009105239063501,-0.135985523462296,0.106147430837154,0.023533508181572,-0.083214022219181,0.177512228488922,-0.006371333263814,0.041921421885490,0.086453206837177,-0.021379005163908));
res += mul(Get(s2,dx,dy), float4x4(-0.045293334871531,0.012268327176571,-0.060370262712240,0.051388684660196,-0.150532886385918,0.037186801433563,-0.053979564458132,-0.043431486934423,-0.042002286761999,-0.017553417012095,-0.122522912919521,0.126950621604919,-0.166658952832222,0.105679154396057,-0.042321830987930,0.023333873599768));
res += mul(Get(s3,-dx,-dy), float4x4(-0.054396230727434,0.080131649971008,-0.195000857114792,0.101041063666344,-0.091621413826942,-0.036390978842974,0.020931763574481,-0.025527236983180,0.008202559314668,0.045773349702358,-0.046999070793390,0.009208133444190,-0.142780497670174,0.017294969409704,0.032902263104916,0.090388737618923));
res += mul(Get(s3,-dx,0), float4x4(0.114280298352242,0.082797668874264,-0.011488296091557,-0.014209533110261,-0.009883309714496,0.055350247770548,-0.067054383456707,-0.045000363141298,-0.051356337964535,0.081276252865791,0.046252828091383,0.164228320121765,0.013091437518597,-0.093016728758812,-0.036828503012657,-0.014368426054716));
res += mul(Get(s3,-dx,dy), float4x4(-0.063718706369400,0.118004418909550,-0.013101473450661,0.111562930047512,-0.102214783430099,0.155076056718826,-0.038837831467390,0.005299654789269,-0.040062952786684,0.001255807932466,0.032306514680386,0.041305042803288,-0.009574312716722,-0.074923947453499,0.011973267421126,0.004339675419033));
res += mul(Get(s3,0,-dy), float4x4(-0.016452418640256,-0.125622987747192,0.083671145141125,0.049911931157112,0.091910250484943,0.072512112557888,0.083885848522186,0.027447927743196,0.050079874694347,-0.164877980947495,-0.080702126026154,0.091308191418648,-0.021478883922100,0.093157574534416,-0.030222933739424,-0.064141504466534));
res += mul(Get(s3,0,0), float4x4(-0.029125692322850,0.161212295293808,0.115646854043007,0.125687047839165,0.068981021642685,-0.099148072302341,0.041452780365944,0.070344813168049,0.046792596578598,0.089142039418221,0.157774582505226,0.053777672350407,0.066534519195557,0.022592520341277,0.036614507436752,0.115595236420631));
res += mul(Get(s3,0,dy), float4x4(-0.033877298235893,-0.057485867291689,-0.007088007405400,0.016307352110744,0.081461191177368,-0.018992945551872,-0.034430883824825,-0.089970640838146,0.078268535435200,0.019845807924867,0.073617979884148,-0.046960987150669,0.030192490667105,0.083830073475838,0.045880243182182,-0.006639461033046));
res += mul(Get(s3,dx,-dy), float4x4(-0.054820116609335,0.049959570169449,-0.021290082484484,-0.104777917265892,-0.054089091718197,0.018456377089024,-0.006211998872459,-0.049136038869619,-0.051117762923241,-0.066858068108559,-0.014538985677063,-0.038129612803459,0.089394778013229,0.056826978921890,0.059730269014835,0.123885937035084));
res += mul(Get(s3,dx,0), float4x4(-0.016040105372667,0.030745267868042,0.104181118309498,0.193836152553558,0.011347762309015,0.034295771270990,-0.027387706562877,0.027197698131204,0.027216253802180,-0.011039795354009,0.038542140275240,0.015358014963567,0.152805641293526,-0.052219673991203,-0.072755277156830,-0.037961829453707));
res += mul(Get(s3,dx,dy), float4x4(0.082179211080074,0.070713683962822,-0.015253336168826,-0.026885397732258,0.102625399827957,0.020307626575232,0.032647248357534,-0.160027265548706,0.047607727348804,0.007238045334816,-0.075445078313351,-0.095039345324039,0.181245788931847,-0.137373656034470,0.099388234317303,0.051470752805471));
res = max(float4(0,0,0,0), res);
return res;
}
