sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.077837854623795,0.029368424788117,0.125774487853050,0.087352357804775,0.074820831418037,-0.147821500897408,0.029585033655167,0.034850411117077,0.042924959212542,0.029114469885826,-0.014839203096926,0.003697777632624,-0.048032373189926,-0.199564963579178,0.018652975559235,0.052693076431751));
res += mul(Get(s0,-dx,0), float4x4(-0.019929233938456,0.064188227057457,-0.129552885890007,-0.076403103768826,-0.018618173897266,-0.083992302417755,-0.035819187760353,0.015460545197129,-0.083268433809280,0.000051819893997,-0.158760160207748,0.013561412692070,0.104253828525543,-0.189229533076286,0.109609901905060,-0.010982815176249));
res += mul(Get(s0,-dx,dy), float4x4(-0.082745581865311,0.122904360294342,0.035492710769176,0.013130676932633,-0.127974256873131,0.013622552156448,-0.013552259653807,0.006145386490971,0.029135247692466,-0.081236779689789,0.058060906827450,-0.040351066738367,-0.040945377200842,0.076615959405899,0.105199232697487,-0.056402951478958));
res += mul(Get(s0,0,-dy), float4x4(0.071436807513237,0.026820380240679,-0.043975416570902,-0.025734335184097,-0.052814278751612,0.096225611865520,0.041934516280890,-0.055869892239571,-0.053696393966675,0.065422639250755,0.030169999226928,0.075780488550663,0.123834453523159,0.040478713810444,-0.206538245081902,0.034103933721781));
res += mul(Get(s0,0,0), float4x4(0.109386660158634,0.062991067767143,-0.118312388658524,0.062930546700954,0.028309548273683,-0.027236185967922,-0.062556177377701,0.047259774059057,0.009166135452688,0.040971178561449,-0.023814536631107,0.210177421569824,-0.154616907238960,0.059938844293356,0.058780752122402,-0.060868021100760));
res += mul(Get(s0,0,dy), float4x4(-0.053912695497274,0.008746144361794,-0.062961034476757,0.134576857089996,-0.010180603712797,0.099179059267044,-0.038508266210556,0.106585949659348,-0.091538280248642,0.040621031075716,-0.047143504023552,-0.057640884071589,0.027382891625166,0.128698915243149,0.001271128887311,0.114718496799469));
res += mul(Get(s0,dx,-dy), float4x4(0.068464100360870,-0.049195226281881,-0.027398968115449,0.063846483826637,-0.103125452995300,-0.021774118766189,-0.057744625955820,0.091475248336792,-0.066125385463238,0.054642535746098,-0.021248055621982,-0.007763749919832,0.072894625365734,-0.060108404606581,0.111914418637753,0.009861536324024));
res += mul(Get(s0,dx,0), float4x4(0.090526416897774,-0.049669731408358,-0.023128569126129,-0.000720414507668,0.070468224585056,-0.036095760762691,-0.023082124069333,-0.129669666290283,-0.049522228538990,0.041463091969490,0.033314004540443,0.085323318839073,-0.050835967063904,0.129364192485809,0.008108456619084,-0.037748582661152));
res += mul(Get(s0,dx,dy), float4x4(0.130388602614403,-0.029560523107648,-0.051638469099998,-0.032433982938528,0.095034196972847,-0.087506696581841,-0.156313255429268,-0.119431942701340,0.102158814668655,0.065588243305683,-0.095911420881748,0.053767908364534,0.025827493518591,0.017756013199687,-0.004821192007512,-0.073021978139877));
res += mul(Get(s1,-dx,-dy), float4x4(-0.025390820577741,-0.033669825643301,0.040284752845764,0.107013963162899,-0.023793928325176,-0.127802893519402,-0.095914669334888,-0.089154735207558,0.006873720325530,-0.092634558677673,0.003365821903571,0.041657503694296,-0.137772843241692,-0.018615717068315,0.052117533981800,0.167067214846611));
res += mul(Get(s1,-dx,0), float4x4(0.070647813379765,0.006626859307289,0.204800829291344,-0.037883754819632,-0.099670611321926,-0.106044128537178,0.054942287504673,0.097223356366158,0.136315405368805,-0.110661670565605,0.055029392242432,-0.092526070773602,0.171002119779587,-0.068197414278984,-0.063383586704731,0.054298534989357));
res += mul(Get(s1,-dx,dy), float4x4(-0.077872909605503,-0.070947714149952,0.044777438044548,-0.025646628811955,0.087334103882313,0.031558770686388,0.106364734470844,0.019062133505940,0.004533698782325,-0.099594108760357,-0.125901132822037,-0.015842480584979,0.148984879255295,-0.138781607151031,0.075497753918171,0.101623050868511));
res += mul(Get(s1,0,-dy), float4x4(-0.132066637277603,-0.018620312213898,-0.095873393118382,0.030328799039125,-0.018899869173765,0.055994141846895,-0.015080234035850,-0.065363496541977,0.072163350880146,-0.100508719682693,-0.040025196969509,-0.107459299266338,0.018113190308213,0.054101374000311,-0.085667356848717,-0.042214449495077));
res += mul(Get(s1,0,0), float4x4(-0.041793551295996,-0.056496366858482,-0.096753835678101,0.172014832496643,0.130869045853615,-0.031904567033052,-0.016119886189699,-0.046606209129095,-0.040886618196964,0.032324843108654,-0.025254542008042,0.059914067387581,0.191379413008690,0.115225255489349,0.099651478230953,-0.102956585586071));
res += mul(Get(s1,0,dy), float4x4(0.051174491643906,0.107866227626801,-0.131343275308609,-0.131565004587173,-0.017946334555745,0.090548641979694,-0.093617334961891,0.011060514487326,-0.117627188563347,-0.017397440969944,-0.022283338010311,-0.004625677131116,-0.045726276934147,-0.005147987976670,0.075719162821770,-0.088450007140636));
res += mul(Get(s1,dx,-dy), float4x4(0.084039747714996,-0.084511466324329,-0.058784030377865,-0.030621126294136,0.027662200853229,-0.100920073688030,-0.096369065344334,-0.031124548986554,0.080361306667328,0.009226417168975,0.006027810741216,0.025253178551793,0.102999143302441,0.219799786806107,-0.003650776576251,-0.028156463056803));
res += mul(Get(s1,dx,0), float4x4(0.144298017024994,0.108224987983704,-0.023718055337667,-0.001909804879688,0.139270797371864,-0.024410931393504,0.025201708078384,-0.094598613679409,-0.031537476927042,-0.025580698624253,-0.006055954378098,0.187096059322357,-0.008865998126566,-0.004687389824539,-0.043250765651464,0.111673533916473));
res += mul(Get(s1,dx,dy), float4x4(-0.099773503839970,0.048319939523935,-0.062113042920828,0.002555583138019,0.035616301000118,-0.008110295981169,-0.092472173273563,0.020033877342939,-0.027336712926626,0.020911401137710,-0.050584211945534,-0.033171262592077,-0.008220993913710,0.001170248840936,0.068040497601032,0.013641458936036));
res += mul(Get(s2,-dx,-dy), float4x4(-0.136115297675133,-0.111182436347008,-0.075436614453793,-0.015171841718256,-0.074352078139782,0.060378745198250,-0.007513772696257,-0.054275672882795,0.082160748541355,-0.057120714336634,-0.064556658267975,-0.034730173647404,-0.245372250676155,0.049077108502388,0.015341475605965,-0.134937763214111));
res += mul(Get(s2,-dx,0), float4x4(-0.050509035587311,-0.125633105635643,-0.097667939960957,-0.013445489108562,-0.088702984154224,0.026765622198582,-0.063378974795341,-0.121605813503265,-0.112093515694141,-0.038137134164572,0.044501047581434,-0.074596449732780,0.048477079719305,-0.000073751391028,-0.019925607368350,-0.132112503051758));
res += mul(Get(s2,-dx,dy), float4x4(0.195552229881287,-0.075040608644485,-0.132780969142914,-0.098955847322941,0.038153123110533,0.124387837946415,-0.043136090040207,0.033716000616550,0.033871848136187,-0.023790085688233,-0.097876526415348,-0.071992799639702,0.035599973052740,-0.058229010552168,-0.054942689836025,0.178231343626976));
res += mul(Get(s2,0,-dy), float4x4(0.064482629299164,-0.118838869035244,0.061331696808338,-0.065477699041367,-0.011286043561995,-0.072098143398762,-0.070137143135071,0.177412018179893,0.047635857015848,-0.033453643321991,0.092312350869179,-0.011207038536668,-0.160077229142189,0.034776292741299,0.081193692982197,-0.098256230354309));
res += mul(Get(s2,0,0), float4x4(0.089074507355690,0.004769091960043,0.084120690822601,0.049423776566982,-0.111599184572697,-0.064678214490414,0.064214840531349,0.061653248965740,0.058956302702427,0.055064816027880,0.010150028392673,0.033220723271370,-0.124447166919708,-0.017528254538774,-0.025254607200623,0.075839422643185));
res += mul(Get(s2,0,dy), float4x4(0.185808554291725,-0.042523723095655,-0.077401719987392,-0.050136383622885,0.025216171517968,-0.102711245417595,-0.122967965900898,-0.036413047462702,0.144482195377350,-0.022306893020868,0.059431619942188,-0.057483691722155,0.051610253751278,-0.032779488712549,0.016485553234816,0.101938873529434));
res += mul(Get(s2,dx,-dy), float4x4(-0.011609685607255,-0.017411373555660,-0.012003626674414,-0.042302239686251,0.044975835829973,-0.070088081061840,0.071205966174603,-0.009069288149476,-0.084496818482876,0.011695318855345,0.024829410016537,-0.098660834133625,-0.050400495529175,0.095009155571461,0.069163933396339,0.002057802863419));
res += mul(Get(s2,dx,0), float4x4(-0.117406480014324,-0.157287538051605,-0.026331037282944,0.085951760411263,0.007140658330172,0.061669468879700,-0.106065221130848,0.081567794084549,-0.120783656835556,0.096754945814610,0.006243507377803,0.029618274420500,-0.125958129763603,0.024129657074809,0.017303176224232,0.077632836997509));
res += mul(Get(s2,dx,dy), float4x4(0.115407258272171,0.031830526888371,-0.083223357796669,0.090940780937672,0.030239587649703,0.025194313377142,-0.048791285604239,-0.050469182431698,0.096699580550194,0.037032350897789,-0.019973661750555,0.007447851821780,0.127551898360252,-0.055060800164938,-0.003683068091050,-0.041193511337042));
res += mul(Get(s3,-dx,-dy), float4x4(-0.092389538884163,0.015702676028013,-0.055806636810303,0.114728033542633,-0.054933656007051,0.012649613432586,-0.159775763750076,-0.064243167638779,-0.093509323894978,0.019057843834162,0.064141437411308,-0.031536772847176,-0.073680371046066,0.061482425779104,-0.158188059926033,-0.113002412021160));
res += mul(Get(s3,-dx,0), float4x4(0.193570047616959,0.021046489477158,0.093749672174454,0.123788051307201,0.051325526088476,-0.050478551536798,-0.005635250359774,-0.045333486050367,-0.063613459467888,-0.097400434315205,0.160748645663261,-0.106553032994270,0.160064756870270,-0.040703747421503,-0.086595870554447,0.159642159938812));
res += mul(Get(s3,-dx,dy), float4x4(-0.023080039769411,0.044038895517588,-0.017965536564589,0.074668355286121,0.031774986535311,-0.014478121884167,0.118965841829777,-0.018123172223568,0.037865664809942,0.014206564053893,0.005111505277455,-0.100490823388100,-0.128019869327545,0.078276805579662,-0.021854529157281,0.040318954735994));
res += mul(Get(s3,0,-dy), float4x4(0.032963469624519,0.008473628200591,-0.019112624228001,0.166530251502991,0.110504359006882,0.040466111153364,0.016862696036696,0.011921880766749,-0.047935865819454,-0.028183158487082,0.054163038730621,-0.050751194357872,-0.056814078241587,-0.042055692523718,-0.024004098027945,0.128513023257256));
res += mul(Get(s3,0,0), float4x4(0.064466916024685,-0.001532429130748,0.025335703045130,0.056128345429897,-0.006623541936278,-0.068128518760204,-0.058553140610456,-0.062318865209818,0.017599442973733,-0.111994974315166,0.003221912542358,-0.059028673917055,-0.053738400340080,0.003838799428195,-0.069678366184235,0.007213522680104));
res += mul(Get(s3,0,dy), float4x4(0.002882599830627,0.112897299230099,-0.054918892681599,0.100356467068195,0.111792169511318,-0.021129291504622,-0.033988051116467,-0.008590312674642,0.024382969364524,0.036914821714163,-0.070481322705746,0.100724667310715,0.083640605211258,0.014840133488178,-0.035012196749449,0.062190189957619));
res += mul(Get(s3,dx,-dy), float4x4(0.052742164582014,-0.053133428096771,-0.033273063600063,0.057324569672346,-0.052104972302914,-0.106966003775597,0.053241323679686,0.094722256064415,-0.035064559429884,-0.033883478492498,-0.062460940331221,-0.079351380467415,0.004093619063497,0.046565994620323,0.094254016876221,0.084960609674454));
res += mul(Get(s3,dx,0), float4x4(0.164731502532959,0.062318578362465,-0.017911216244102,0.006755521055311,-0.066843546926975,-0.106432199478149,0.038359731435776,-0.072895996272564,0.082517310976982,0.014147526584566,-0.037350025027990,0.012175501324236,-0.006517583038658,0.032465234398842,-0.024947281926870,-0.068744190037251));
res += mul(Get(s3,dx,dy), float4x4(-0.151224359869957,0.087612010538578,0.037974886596203,-0.117580279707909,-0.126273214817047,-0.079421170055866,-0.011722672730684,-0.039104279130697,-0.217125788331032,-0.018291223794222,-0.010722487233579,0.034530911594629,0.040112286806107,-0.072204783558846,0.123022831976414,-0.039415951818228));
res = max(float4(0,0,0,0), res);
return res;
}
