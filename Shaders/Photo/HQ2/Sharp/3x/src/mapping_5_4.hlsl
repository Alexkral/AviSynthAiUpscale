sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.115618333220482,0.081453211605549,0.025253059342504,0.064556941390038,-0.049732368439436,0.036483943462372,-0.070394128561020,-0.095227792859077,-0.000194255684619,0.050281837582588,-0.148176759481430,-0.122830629348755,-0.079444900155067,-0.095055542886257,-0.165285229682922,0.026951421052217));
res += mul(Get(s0,-dx,0), float4x4(-0.100087709724903,-0.105445504188538,-0.016710093244910,0.037069149315357,0.046952597796917,0.019923690706491,0.056804414838552,0.040358137339354,-0.103574484586716,-0.042395625263453,-0.115357376635075,-0.071813002228737,-0.075532183051109,-0.055256921797991,-0.086155511438847,-0.005602310411632));
res += mul(Get(s0,-dx,dy), float4x4(0.073967285454273,0.026423357427120,-0.118752367794514,-0.061772190034389,-0.018928501754999,-0.024115318432450,-0.047858014702797,0.074681945145130,-0.065951831638813,0.122997745871544,-0.138980656862259,-0.046007066965103,-0.004060287494212,0.023266149684787,-0.153373196721077,-0.023702310398221));
res += mul(Get(s0,0,-dy), float4x4(-0.124788001179695,-0.095185704529285,0.081675976514816,-0.081447981297970,-0.086561165750027,-0.039429649710655,0.089609496295452,-0.108494192361832,0.038914166390896,-0.015786528587341,0.032715488225222,0.054405357688665,-0.030054047703743,-0.025666775181890,0.060614384710789,-0.103594847023487));
res += mul(Get(s0,0,0), float4x4(-0.008445875719190,-0.060723528265953,0.150046199560165,0.069868072867393,-0.186717763543129,0.050809241831303,0.033198159188032,-0.066919773817062,0.053254097700119,0.092206686735153,0.123545199632645,-0.099381916224957,-0.088999174535275,0.036552235484123,0.015906054526567,0.103703491389751));
res += mul(Get(s0,0,dy), float4x4(0.258909553289413,-0.029315061867237,0.015316562727094,0.015841364860535,-0.034168947488070,-0.053706977516413,0.002535020699725,-0.110573224723339,0.010506775230169,-0.099281899631023,-0.024575592949986,-0.244083464145660,0.016344564035535,0.020179249346256,0.096995331346989,-0.054618202149868));
res += mul(Get(s0,dx,-dy), float4x4(0.019665693864226,-0.003677801229060,-0.054912168532610,0.065790697932243,-0.060800958424807,0.046113345772028,-0.004535325802863,-0.008344984613359,0.079144909977913,0.016461262479424,0.036713682115078,0.102172747254372,-0.096025720238686,-0.027381204068661,0.005421300884336,0.007055964786559));
res += mul(Get(s0,dx,0), float4x4(0.025217996910214,-0.003838342847303,0.106060497462749,0.095814831554890,-0.040759108960629,0.029499985277653,-0.039395127445459,0.059988670051098,0.056240588426590,-0.058278780430555,0.055462777614594,-0.101838201284409,0.015108107589185,-0.033030912280083,-0.053458545356989,0.032328896224499));
res += mul(Get(s0,dx,dy), float4x4(0.025308120995760,0.136842995882034,-0.090790100395679,-0.018392348662019,-0.000816486310214,-0.003890569554642,-0.023887597024441,-0.092961341142654,0.015625549480319,-0.063198260962963,0.060710109770298,-0.021271873265505,0.012427681125700,-0.002074592746794,0.029973929747939,-0.079248927533627));
res += mul(Get(s1,-dx,-dy), float4x4(0.102086171507835,-0.106877952814102,0.019643222913146,-0.063749611377716,0.048486176878214,0.024240678176284,-0.078835390508175,0.067709498107433,0.073969945311546,0.088887266814709,0.086634211242199,-0.142638191580772,0.086515486240387,0.023778259754181,-0.176716119050980,0.078138343989849));
res += mul(Get(s1,-dx,0), float4x4(-0.001742395921610,0.027771994471550,0.068249784410000,-0.048186540603638,-0.015277538448572,0.031313836574554,0.113996759057045,0.013927105814219,0.009570759721100,-0.217333614826202,-0.123688526451588,0.017843592911959,0.174924328923225,0.012882474809885,0.102406039834023,-0.074184924364090));
res += mul(Get(s1,-dx,dy), float4x4(0.206976249814034,0.083703510463238,0.104449898004532,0.142228886485100,-0.084128260612488,-0.057309038937092,0.005373146850616,0.071399606764317,0.123106047511101,0.017992725595832,0.146413743495941,-0.082361467182636,0.091553330421448,0.029359091073275,-0.037742570042610,-0.100062191486359));
res += mul(Get(s1,0,-dy), float4x4(0.056431345641613,0.086926862597466,0.028076140210032,-0.074844330549240,-0.040104810148478,0.013394454494119,0.038704380393028,0.015238617546856,-0.007601412944496,-0.073635935783386,0.045428976416588,0.013938065618277,-0.022042369470000,0.013003737665713,0.026299254968762,-0.019664732739329));
res += mul(Get(s1,0,0), float4x4(0.035006899386644,-0.035797554999590,-0.025874396786094,0.126888558268547,0.064354233443737,0.006342838052660,0.054885510355234,-0.037083029747009,0.057020772248507,0.036644496023655,-0.037555977702141,0.012799322605133,0.020287631079555,-0.014089465141296,-0.044481646269560,0.087474398314953));
res += mul(Get(s1,0,dy), float4x4(0.073839448392391,0.051027305424213,0.122318916022778,0.032458383589983,0.079626515507698,0.083049282431602,-0.063928261399269,-0.118507377803326,-0.057464230805635,-0.021948929876089,-0.072629876434803,-0.005092118866742,0.019710265100002,-0.041674081236124,0.073761105537415,0.005680222529918));
res += mul(Get(s1,dx,-dy), float4x4(0.091625511646271,0.107121646404266,0.072757355868816,0.002788379089907,-0.046662632375956,0.041849981993437,0.020287396386266,-0.015491667203605,0.095499262213707,-0.123929344117641,0.022846544161439,-0.080682948231697,-0.103268742561340,0.057338193058968,-0.053954821079969,-0.073075316846371));
res += mul(Get(s1,dx,0), float4x4(0.241981938481331,-0.009322269819677,0.036116417497396,-0.018259253352880,0.035747054964304,0.006982179358602,-0.049209784716368,-0.011134632863104,-0.091052398085594,-0.076234750449657,0.009131794795394,-0.120475679636002,0.069513261318207,0.079890318214893,0.037504184991121,0.034184701740742));
res += mul(Get(s1,dx,dy), float4x4(0.140362113714218,-0.030415507033467,0.081951700150967,0.069405630230904,-0.011556745506823,0.081433981657028,0.072267815470695,0.107215307652950,-0.076584912836552,-0.145411238074303,0.149579674005508,-0.066402882337570,0.021681785583496,-0.082488827407360,-0.070880405604839,0.020814320072532));
res += mul(Get(s2,-dx,-dy), float4x4(0.113873310387135,-0.077226743102074,0.022006288170815,-0.163061276078224,-0.050146367400885,-0.094272851943970,-0.045498896390200,0.073527276515961,0.036980431526899,-0.145214453339577,-0.034731261432171,0.082905836403370,-0.064283363521099,-0.072561629116535,0.136031895875931,0.051558677107096));
res += mul(Get(s2,-dx,0), float4x4(-0.068587303161621,0.056356970220804,0.087664261460304,0.066009745001793,-0.212280362844467,0.030673472210765,0.112415686249733,-0.049571078270674,0.121854327619076,-0.025665054097772,-0.066476359963417,-0.101639553904533,-0.059089537709951,0.075954481959343,0.032748110592365,-0.033896394073963));
res += mul(Get(s2,-dx,dy), float4x4(-0.050135258585215,-0.024579629302025,0.058088127523661,0.043845333158970,-0.057694423943758,-0.058659821748734,0.012355497106910,-0.118794627487659,0.060083579272032,0.114361412823200,0.071721836924553,0.077695347368717,0.036136008799076,0.071903511881828,-0.092216439545155,0.006332329474390));
res += mul(Get(s2,0,-dy), float4x4(0.018558073788881,0.099287949502468,-0.039566781371832,0.051021650433540,-0.086875386536121,0.043193209916353,0.019040366634727,0.126405373215675,0.086500175297260,0.034610599279404,-0.013696185313165,-0.135864436626434,-0.051726941019297,0.126813992857933,0.035513862967491,-0.009262242354453));
res += mul(Get(s2,0,0), float4x4(0.090208113193512,-0.083900824189186,-0.107511416077614,-0.100481115281582,-0.110402792692184,-0.095104306936264,-0.045828070491552,0.068878352642059,0.011887781322002,0.130115464329720,0.019294900819659,-0.078133814036846,-0.005186410155147,0.148379415273666,-0.081998951733112,-0.093629851937294));
res += mul(Get(s2,0,dy), float4x4(0.128272861242294,0.014691364951432,-0.133573368191719,0.027281029149890,0.002434955211356,-0.038881320506334,0.021157974377275,-0.013875900767744,-0.020879337564111,-0.112285919487476,-0.011314976960421,-0.015346001833677,-0.035076338797808,0.001436695340089,-0.085537433624268,-0.079729974269867));
res += mul(Get(s2,dx,-dy), float4x4(-0.024454310536385,0.012822516262531,-0.108360990881920,0.029008205980062,0.049398142844439,-0.048952821642160,0.131158873438835,0.125367864966393,-0.096660546958447,0.094815731048584,0.008817204274237,-0.095938712358475,0.002428966341540,-0.080663822591305,0.047766204923391,-0.028149051591754));
res += mul(Get(s2,dx,0), float4x4(-0.013676293194294,0.032511360943317,0.033071540296078,-0.072195358574390,0.051113788038492,0.058447863906622,-0.063790947198868,-0.023061571642756,0.045906409621239,-0.118467949330807,-0.131424054503441,-0.028172291815281,-0.071159265935421,-0.028684068471193,-0.043728977441788,0.012681418098509));
res += mul(Get(s2,dx,dy), float4x4(0.073914751410484,0.065384425222874,-0.044836804270744,-0.099327035248280,-0.014012495055795,-0.045362632721663,-0.125369310379028,-0.148107782006264,0.058235436677933,0.028788968920708,-0.144081890583038,0.049531668424606,0.052308905869722,0.027926439419389,-0.064378231763840,-0.005944730248302));
res += mul(Get(s3,-dx,-dy), float4x4(0.049289591610432,-0.014211381785572,-0.094020918011665,-0.095412924885750,-0.037156675010920,0.035598792135715,0.047380793839693,0.131894990801811,-0.031794387847185,0.002854902530089,-0.075061850249767,-0.054158709943295,-0.046649761497974,-0.078025959432125,-0.061801154166460,-0.071116879582405));
res += mul(Get(s3,-dx,0), float4x4(0.022272301837802,-0.047800924628973,0.102369025349617,0.135276973247528,-0.089880041778088,-0.072956733405590,-0.011169910430908,-0.036672614514828,-0.005649219732732,-0.084712393581867,0.125497370958328,0.026879936456680,0.046326190233231,0.062943972647190,-0.012527716346085,-0.075513422489166));
res += mul(Get(s3,-dx,dy), float4x4(-0.087266154587269,-0.088791824877262,0.217411294579506,0.016714708879590,0.115324273705482,0.038479406386614,-0.090616427361965,0.015265687368810,-0.068232849240303,0.040206044912338,0.094396539032459,-0.048591405153275,0.085407271981239,-0.058002136647701,0.096600785851479,-0.034151580184698));
res += mul(Get(s3,0,-dy), float4x4(-0.005685254465789,0.023737687617540,0.013857537880540,0.018652204424143,-0.022709630429745,0.010580350644886,-0.002027622656897,0.059205159544945,0.066242717206478,0.040074482560158,0.005584055092186,0.106337398290634,0.124532796442509,-0.030192896723747,-0.009932495653629,0.052362136542797));
res += mul(Get(s3,0,0), float4x4(-0.133345231413841,-0.223880276083946,0.025202412158251,-0.022426448762417,0.073671914637089,-0.002000047592446,-0.104841537773609,-0.062838420271873,0.020699998363853,-0.138584852218628,0.037430718541145,0.039113581180573,0.049587070941925,0.060647696256638,0.248641446232796,-0.074232563376427));
res += mul(Get(s3,0,dy), float4x4(-0.068240575492382,0.024349955841899,0.059499334543943,-0.120197676122189,0.003858825890347,0.013422116637230,-0.030990246683359,-0.010193572379649,0.124151639640331,0.036688905209303,-0.102939985692501,-0.118777684867382,0.003560012672096,-0.054514646530151,0.176722630858421,-0.034832265228033));
res += mul(Get(s3,dx,-dy), float4x4(-0.126763626933098,-0.028643595054746,0.046852726489305,0.014846747741103,0.009570493362844,-0.057086557149887,-0.002718062605709,0.039165038615465,0.035955663770437,0.039845898747444,-0.035327900201082,0.073045581579208,0.179590657353401,0.109409533441067,0.086679421365261,-0.087005183100700));
res += mul(Get(s3,dx,0), float4x4(-0.213714823126793,0.008395171724260,0.009790970943868,-0.029862578958273,0.181349933147430,0.057156294584274,-0.027068916708231,0.057373840361834,0.014133940450847,-0.162118598818779,-0.052911560982466,0.098937280476093,-0.096428699791431,0.003658408066258,0.054581407457590,-0.080832913517952));
res += mul(Get(s3,dx,dy), float4x4(0.113050863146782,-0.047622188925743,-0.060859132558107,-0.022502984851599,-0.018307531252503,-0.015728540718555,-0.070682033896446,0.033054471015930,0.000282193563180,0.053396522998810,0.099717259407043,0.079640842974186,0.090649336576462,0.001200548489578,-0.032540157437325,0.002226057928056));
res = max(float4(0,0,0,0), res);
return res;
}
