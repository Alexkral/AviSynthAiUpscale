sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.141748741269112,0.005037500988692,-0.119052648544312,0.001160942018032,-0.026278318837285,0.008703965693712,0.026525311172009,-0.029635403305292,0.026654915884137,-0.019910596311092,-0.036656424403191,0.082682006061077,0.104907751083374,-0.120184600353241,0.008579383604228,-0.086181543767452));
res += mul(Get(s0,-dx,0), float4x4(-0.057772196829319,-0.046002142131329,0.000638617784716,-0.046779897063971,-0.081832371652126,-0.099174626171589,-0.037575040012598,-0.216583028435707,0.140104517340660,0.170500606298447,0.054740082472563,0.003391032805666,0.051315631717443,-0.025094229727983,-0.001309171319008,-0.050380066037178));
res += mul(Get(s0,-dx,dy), float4x4(0.115753054618835,0.042062651365995,-0.140088409185410,0.017438679933548,-0.067967146635056,-0.055396411567926,0.081710018217564,-0.089426003396511,0.095361612737179,-0.072764664888382,0.075997732579708,-0.133986517786980,0.043556269258261,0.125871896743774,-0.021970720961690,0.022743958979845));
res += mul(Get(s0,0,-dy), float4x4(-0.028386043384671,0.065064370632172,-0.087723642587662,-0.055995162576437,0.030336793512106,0.016355954110622,-0.069011911749840,-0.003441627603024,-0.182383432984352,-0.107428833842278,-0.090109072625637,-0.010288997553289,-0.129402428865433,-0.006879795342684,0.067301407456398,0.000316636578646));
res += mul(Get(s0,0,0), float4x4(0.015942456200719,-0.200037345290184,-0.030167143791914,0.005326792597771,-0.061546698212624,-0.010142205283046,0.057584479451180,0.032161317765713,0.016654593870044,-0.046714838594198,-0.070944689214230,-0.023247517645359,-0.016349576413631,0.063616931438446,0.136360049247742,0.062612019479275));
res += mul(Get(s0,0,dy), float4x4(0.002539734821767,-0.109706491231918,0.047735933214426,0.010242039337754,-0.055654447525740,0.084369309246540,-0.041310794651508,0.103675067424774,-0.002000579144806,0.009601399302483,0.072110459208488,-0.018889745697379,-0.048397883772850,0.106955572962761,0.082691721618176,-0.009744071401656));
res += mul(Get(s0,dx,-dy), float4x4(-0.069683589041233,-0.131648823618889,0.039817702025175,-0.055474970489740,0.017226511612535,-0.058473818004131,0.056368347257376,0.024808615446091,0.022144695743918,0.062385670840740,-0.052417114377022,0.114813037216663,-0.041100099682808,0.004520897753537,0.067779958248138,-0.051142442971468));
res += mul(Get(s0,dx,0), float4x4(-0.018952881917357,-0.007249502465129,-0.006619698368013,-0.063165538012981,-0.089611150324345,0.015443296171725,-0.008344030939043,0.110806539654732,-0.040201798081398,0.105582356452942,0.053056325763464,0.058737076818943,0.064755983650684,0.016166817396879,0.008728242479265,0.072377599775791));
res += mul(Get(s0,dx,dy), float4x4(-0.013962260447443,0.103626765310764,-0.008093754760921,-0.088376604020596,0.096381202340126,-0.025418845936656,-0.077232003211975,0.004772124346346,-0.006401609629393,-0.004241287242621,-0.085304327309132,-0.022367699071765,-0.090728975832462,0.020682878792286,0.053499124944210,0.047983650118113));
res += mul(Get(s1,-dx,-dy), float4x4(-0.007518513593823,-0.001407264498994,-0.114949598908424,0.084958769381046,-0.016178304329515,-0.100751869380474,0.220848768949509,0.039867449551821,0.027094626799226,0.090340621769428,0.018856726586819,-0.144398555159569,0.050878826528788,0.072724215686321,0.011721323244274,-0.082604318857193));
res += mul(Get(s1,-dx,0), float4x4(-0.021677255630493,0.078645527362823,-0.029117040336132,-0.014667761512101,0.052345000207424,0.155006319284439,0.039172749966383,0.109990261495113,-0.058128237724304,0.004480093717575,0.002081851242110,0.063128158450127,0.156090840697289,-0.044029805809259,-0.021874422207475,-0.008581306785345));
res += mul(Get(s1,-dx,dy), float4x4(0.135671064257622,0.060727968811989,-0.041173942387104,-0.061224296689034,0.047332853078842,0.062560923397541,0.055432964116335,-0.036365725100040,-0.035140141844749,-0.150895386934280,0.007418244145811,0.031805895268917,0.063187934458256,-0.018504878506064,-0.002198599046096,0.114638425409794));
res += mul(Get(s1,0,-dy), float4x4(0.028528168797493,-0.006965184584260,-0.063933670520782,0.117543719708920,-0.050014786422253,-0.109735853970051,-0.136815041303635,-0.005820649210364,-0.046401347965002,-0.049359034746885,0.101735450327396,0.066020347177982,-0.044975992292166,-0.014694700948894,-0.039140649139881,-0.101632751524448));
res += mul(Get(s1,0,0), float4x4(0.072433114051819,0.076617144048214,0.154026120901108,-0.044595099985600,0.073881886899471,0.171483710408211,0.067968964576721,-0.095411233603954,0.014119382947683,-0.039250299334526,0.033078290522099,0.073938608169556,-0.031858749687672,-0.047146148979664,-0.008494693785906,0.130838260054588));
res += mul(Get(s1,0,dy), float4x4(0.022699868306518,0.142180562019348,0.042382381856441,0.130520477890968,-0.141483470797539,0.037533305585384,-0.056623082607985,-0.042980872094631,0.023983553051949,0.023155350238085,-0.037694107741117,-0.050366692245007,-0.012276894412935,0.101884528994560,-0.043388467282057,-0.056612621992826));
res += mul(Get(s1,dx,-dy), float4x4(0.063201807439327,0.000614052754827,-0.132699787616730,-0.004301555920392,0.139823332428932,0.036116853356361,-0.019703753292561,0.113859325647354,0.088593684136868,-0.107010386884212,-0.101960226893425,0.068199478089809,-0.058990065008402,0.034023247659206,0.002287565963343,-0.073835931718349));
res += mul(Get(s1,dx,0), float4x4(0.087998971343040,0.037952732294798,-0.089328788220882,-0.049101341515779,0.047647200524807,0.023207122460008,-0.128713324666023,-0.032924890518188,0.084072455763817,0.072146236896515,-0.035703010857105,0.048803202807903,-0.077203243970871,0.018842680379748,-0.169159144163132,0.058839827775955));
res += mul(Get(s1,dx,dy), float4x4(-0.068113617599010,0.086620286107063,-0.037921793758869,-0.038499336689711,-0.019653735682368,0.147097066044807,0.051758415997028,-0.029253154993057,0.104721531271935,-0.058641504496336,0.103333964943886,-0.020420216023922,-0.022896301001310,0.095222167670727,-0.058768641203642,0.053615510463715));
res += mul(Get(s2,-dx,-dy), float4x4(-0.086516283452511,0.027275016531348,-0.028744757175446,0.105898439884186,-0.052316445857286,-0.060295850038528,0.009714934043586,-0.123964369297028,0.049835667014122,0.023930218070745,-0.038903869688511,-0.311429917812347,-0.035962507128716,0.043561566621065,-0.219992145895958,0.145891621708870));
res += mul(Get(s2,-dx,0), float4x4(-0.009200772270560,-0.069305509328842,-0.147137433290482,0.191894844174385,-0.046195916831493,0.033383768051863,-0.058347389101982,-0.065653935074806,-0.069065488874912,-0.081649176776409,-0.081203036010265,-0.081289604306221,0.040139548480511,0.072210632264614,-0.181332677602768,-0.114392876625061));
res += mul(Get(s2,-dx,dy), float4x4(0.066432721912861,0.073898136615753,0.042879823595285,0.023905057460070,-0.079048611223698,-0.071379460394382,0.076554983854294,-0.007252362556756,-0.086696542799473,0.177601233124733,-0.095929659903049,-0.106595195829868,-0.021294763311744,-0.151150837540627,-0.175079107284546,0.059821508824825));
res += mul(Get(s2,0,-dy), float4x4(0.001879771356471,0.209842383861542,0.064312994480133,0.114779561758041,-0.008107178844512,-0.028277089819312,0.118733748793602,-0.087957531213760,0.027620911598206,0.220520853996277,-0.127826347947121,0.037643436342478,-0.099262110888958,0.119531460106373,0.093249611556530,0.178413197398186));
res += mul(Get(s2,0,0), float4x4(-0.000685459875967,0.068198256194592,0.001992210047320,0.057105552405119,-0.063668273389339,-0.034948926419020,0.029550706967711,-0.059435524046421,-0.032687172293663,-0.055835042148829,-0.143601134419441,-0.014620436355472,-0.137631654739380,0.044523552060127,-0.048638809472322,-0.047162767499685));
res += mul(Get(s2,0,dy), float4x4(0.059957507997751,-0.059283152222633,-0.041014175862074,0.137846693396568,-0.112597838044167,0.018469538539648,0.002842507092282,-0.107876494526863,-0.018840676173568,-0.121256753802299,0.006932027172297,0.129098594188690,-0.014864882454276,-0.034924320876598,-0.040018249303102,0.013745099306107));
res += mul(Get(s2,dx,-dy), float4x4(-0.049459252506495,-0.044786158949137,0.004790293984115,-0.119035266339779,-0.029845625162125,-0.064964391291142,0.009034029208124,-0.016090529039502,0.022632962092757,-0.050345126539469,-0.036909192800522,0.003929302096367,-0.024268748238683,0.011827760376036,-0.051613066345453,-0.005247205495834));
res += mul(Get(s2,dx,0), float4x4(-0.003559201722965,-0.083146646618843,0.081538766622543,-0.062557958066463,0.092367678880692,-0.009861769154668,-0.121450982987881,0.043163463473320,-0.039978276938200,-0.065933547914028,0.014943622983992,0.055486790835857,-0.058550849556923,0.053481627255678,0.134140402078629,0.025436002761126));
res += mul(Get(s2,dx,dy), float4x4(-0.052049919962883,-0.089211806654930,0.079549066722393,0.005831412039697,-0.146471247076988,0.004161426797509,-0.062390122562647,-0.048672776669264,0.060159202665091,-0.016599180176854,-0.122336417436600,-0.023301601409912,0.026058167219162,-0.007511049509048,-0.030209355056286,0.003200827632099));
res += mul(Get(s3,-dx,-dy), float4x4(-0.004326822236180,-0.151428684592247,0.032025728374720,-0.075461409986019,-0.078622497618198,-0.034279260784388,0.000425545556936,-0.125910386443138,-0.044541668146849,0.177424013614655,0.047723185271025,0.045772291719913,0.007473961450160,0.072665296494961,-0.034552294760942,-0.050765428692102));
res += mul(Get(s3,-dx,0), float4x4(0.055024527013302,0.007032885681838,0.041001066565514,-0.034939736127853,0.011676108464599,-0.030067909508944,-0.055900827050209,-0.084901206195354,0.036628901958466,0.005046382546425,0.213627889752388,-0.000676556723192,0.096417389810085,-0.062117740511894,-0.060463089495897,-0.007916274480522));
res += mul(Get(s3,-dx,dy), float4x4(-0.021234849467874,0.060236778110266,0.011981746181846,0.088993974030018,-0.004286317154765,0.087239705026150,0.115322776138783,0.039920389652252,-0.065955042839050,-0.029314881190658,0.023175060749054,-0.094576127827168,-0.016000172123313,-0.022066315636039,0.029534887522459,-0.027727546170354));
res += mul(Get(s3,0,-dy), float4x4(-0.042376045137644,0.157954320311546,0.057377167046070,0.036118693649769,0.023134376853704,-0.003687814576551,-0.063001841306686,0.000161719843163,-0.014730819500983,0.151004016399384,0.022296342998743,0.139661446213722,-0.100682571530342,0.091105155646801,-0.012348127551377,-0.050433672964573));
res += mul(Get(s3,0,0), float4x4(0.024249749258161,0.024410801008344,0.102107234299183,0.064425058662891,-0.032403577119112,-0.096926994621754,-0.034987606108189,0.026972420513630,-0.054388448596001,0.096039548516273,0.134025290608406,0.005691465456039,0.079431965947151,0.014750197529793,0.028304705396295,0.039214894175529));
res += mul(Get(s3,0,dy), float4x4(0.043494548648596,-0.032847099006176,0.050854098051786,0.112470567226410,-0.040274739265442,-0.060107477009296,0.039392542093992,0.047074880450964,0.080433040857315,-0.092861078679562,0.095780052244663,0.025395857170224,0.019676208496094,-0.041146766394377,0.106559790670872,0.000909316062462));
res += mul(Get(s3,dx,-dy), float4x4(0.065678916871548,0.051176141947508,-0.069790177047253,0.029677154496312,0.105285413563251,0.081906981766224,-0.010783239267766,0.011353501118720,-0.019305067136884,0.005400257185102,-0.020715147256851,0.082000099122524,0.177757859230042,-0.057069100439548,-0.038307961076498,-0.029173949733377));
res += mul(Get(s3,dx,0), float4x4(-0.179650306701660,0.049935076385736,-0.024382920935750,-0.076818779110909,-0.023935806006193,0.125026613473892,-0.066656798124313,-0.005318217910826,0.082073383033276,0.075137823820114,0.039572849869728,0.018260821700096,-0.033118754625320,0.075884111225605,0.069111891090870,0.011487443931401));
res += mul(Get(s3,dx,dy), float4x4(0.046469744294882,-0.033247511833906,-0.133048027753830,-0.087556034326553,-0.019692370668054,0.191539585590363,0.000254462793237,0.045805681496859,0.062762439250946,0.008170252665877,0.018033333122730,0.078644007444382,-0.007488224655390,0.119872130453587,-0.088760651648045,-0.009340608492494));
res = max(float4(0,0,0,0), res);
return res;
}
