sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.023714611306787,-0.106159746646881,0.012819605879486,0.010731339454651,-0.096300914883614,-0.034773793071508,-0.065377406775951,0.037170756608248,0.054325956851244,-0.052551161497831,-0.135625332593918,0.023249968886375,0.035490393638611,0.055197838693857,0.091190621256828,0.015368497930467));
res += mul(Get(s0,-dx,0), float4x4(-0.058807641267776,-0.037316594272852,0.013115308247507,-0.112183593213558,-0.018081596121192,0.011937812902033,-0.021292196586728,-0.020052494481206,0.076043955981731,0.024098195135593,0.143881529569626,0.024711631238461,-0.115715041756630,-0.041553940623999,0.015367873013020,-0.043927960097790));
res += mul(Get(s0,-dx,dy), float4x4(-0.148240700364113,-0.059400163590908,-0.046587865799665,0.092159993946552,0.104240484535694,0.005835648626089,0.007361938711256,-0.006569759920239,-0.106030859053135,0.134403035044670,-0.060281466692686,-0.074543029069901,0.003559007309377,0.005329082719982,-0.039418712258339,0.066707558929920));
res += mul(Get(s0,0,-dy), float4x4(-0.072909459471703,-0.112354345619678,0.067291714251041,-0.022992772981524,-0.033134337514639,-0.049781858921051,0.071577586233616,-0.006836923770607,0.020174123346806,0.061931286007166,-0.058079760521650,-0.044122267514467,0.036485128104687,0.083122387528419,-0.004180083982646,0.047968789935112));
res += mul(Get(s0,0,0), float4x4(-0.066122911870480,0.105124928057194,0.092447809875011,0.014301653951406,0.008493589237332,0.000447467784397,-0.007650226354599,-0.032543320208788,0.073201529681683,0.015385938808322,-0.128216147422791,-0.048679348081350,0.209707975387573,0.048914428800344,-0.042532909661531,0.090657576918602));
res += mul(Get(s0,0,dy), float4x4(-0.201946943998337,0.054218437522650,0.014319853857160,0.227751478552818,-0.076556481420994,-0.100133389234543,-0.087790496647358,-0.008676419965923,-0.080961346626282,0.110722325742245,0.087531350553036,0.072092585265636,-0.009495818987489,0.086630955338478,0.085966743528843,0.102406851947308));
res += mul(Get(s0,dx,-dy), float4x4(0.039760030806065,-0.071105681359768,-0.012700578197837,-0.008316734805703,0.051754783838987,-0.057991083711386,0.064179837703705,-0.071576073765755,0.080276504158974,0.141996055841446,-0.017252519726753,-0.040797863155603,-0.108693495392799,-0.164871603250504,-0.109901919960976,-0.043277975171804));
res += mul(Get(s0,dx,0), float4x4(-0.080786764621735,-0.013224328868091,0.040796782821417,-0.071028552949429,-0.079484753310680,-0.059367310255766,-0.019222984090447,0.035483252257109,0.215745165944099,-0.060271013528109,-0.024125993251801,-0.107518717646599,-0.052439302206039,-0.058143906295300,0.012033363804221,-0.065667986869812));
res += mul(Get(s0,dx,dy), float4x4(-0.090196184813976,0.151788830757141,0.128784731030464,0.038522418588400,0.021564379334450,0.027406036853790,-0.013829504139721,-0.063285201787949,-0.001029140548781,-0.032919365912676,0.059702843427658,-0.123722009360790,-0.081098489463329,-0.077378541231155,-0.005235807970166,-0.071235708892345));
res += mul(Get(s1,-dx,-dy), float4x4(-0.059163022786379,0.025660933926702,0.054466918110847,0.040965657681227,0.152931362390518,-0.010557191446424,-0.048473335802555,-0.003445349400863,0.018782071769238,-0.034660197794437,-0.016525920480490,-0.067086197435856,0.007284825667739,0.038523729890585,0.030367897823453,0.020952327176929));
res += mul(Get(s1,-dx,0), float4x4(-0.021546825766563,0.099789798259735,-0.009621964767575,0.041747234761715,0.148235321044922,-0.012656765989959,-0.078813135623932,-0.123418822884560,0.056985065340996,0.202006220817566,0.034525882452726,0.043028388172388,-0.001981036039069,-0.020409012213349,-0.116893894970417,-0.006634135264903));
res += mul(Get(s1,-dx,dy), float4x4(-0.014617374166846,0.035311903804541,0.061829023063183,-0.092434003949165,0.072721824049950,0.109124161303043,-0.003233358729631,0.025685356929898,-0.054411090910435,0.129799634218216,0.014000130817294,-0.010744391009212,-0.078115776181221,0.049071460962296,-0.079052366316319,0.140756890177727));
res += mul(Get(s1,0,-dy), float4x4(-0.017375148832798,0.031164156273007,0.014411812648177,0.017116451635957,-0.002239718334749,-0.018495580181479,0.053853955119848,0.061129823327065,-0.127673864364624,0.158630132675171,-0.116746984422207,-0.037136010825634,-0.011027721688151,0.008758303709328,0.018124964088202,-0.044630713760853));
res += mul(Get(s1,0,0), float4x4(0.013398882001638,-0.050936531275511,0.011916612274945,0.045541394501925,0.064106538891792,0.062248684465885,-0.070190779864788,-0.073545590043068,0.032813649624586,0.094348616898060,0.014235549606383,0.103076905012131,-0.051395215094090,0.071636170148849,0.008479316718876,0.058080445975065));
res += mul(Get(s1,0,dy), float4x4(-0.043919906020164,-0.063410460948944,-0.003695683088154,-0.088124640285969,0.129493907094002,-0.111625455319881,0.078797064721584,0.103509470820427,-0.023907728493214,0.057155169546604,0.011292788200080,0.057357661426067,-0.004142814315856,-0.151431456208229,0.047240231186152,0.073537133634090));
res += mul(Get(s1,dx,-dy), float4x4(0.019078684970737,-0.077960997819901,-0.023887287825346,-0.009861878119409,0.129889354109764,0.087573803961277,-0.059507980942726,0.154070422053337,-0.050900235772133,-0.056830760091543,-0.134848684072495,0.100591339170933,0.109054237604141,-0.090173594653606,-0.044730294495821,-0.079557411372662));
res += mul(Get(s1,dx,0), float4x4(-0.096989504992962,0.174106776714325,-0.147314399480820,-0.017571482807398,0.079281985759735,0.016096943989396,-0.031522173434496,-0.044060748070478,0.049527686089277,-0.019672140479088,-0.014990974217653,0.061835542321205,-0.087817750871181,-0.085562489926815,-0.026947839185596,0.011675128713250));
res += mul(Get(s1,dx,dy), float4x4(0.112859867513180,-0.103935509920120,-0.031300865113735,-0.003860327647999,0.235132664442062,0.018273672088981,-0.057250507175922,-0.188851758837700,0.080924227833748,0.122954346239567,0.039628535509109,0.015736265107989,0.032188028097153,-0.107136942446232,0.095899723470211,-0.121135041117668));
res += mul(Get(s2,-dx,-dy), float4x4(-0.093235865235329,-0.060303378850222,-0.065927252173424,-0.004318024031818,0.025855937972665,0.091811113059521,-0.013315430842340,-0.013351866044104,-0.019782571122050,-0.037473417818546,0.056118957698345,-0.000599043385591,-0.053693708032370,-0.140350624918938,0.183444097638130,-0.070130251348019));
res += mul(Get(s2,-dx,0), float4x4(0.114618346095085,-0.039861366152763,-0.127719074487686,0.090955704450607,-0.011463332921267,0.000947134802118,0.056909874081612,0.037480231374502,0.010157002136111,0.044889446347952,0.056357808411121,0.018163267523050,-0.101619042456150,-0.036082569509745,0.042662784457207,0.100388549268246));
res += mul(Get(s2,-dx,dy), float4x4(0.059814386069775,-0.039846021682024,0.044613972306252,-0.035615283995867,0.075508221983910,-0.037664029747248,0.079076506197453,0.007503624074161,0.014160682447255,0.028728352859616,-0.121695838868618,0.024682261049747,-0.067851074039936,-0.068367972970009,0.107015140354633,0.025096731260419));
res += mul(Get(s2,0,-dy), float4x4(-0.024185603484511,-0.107330627739429,-0.093979686498642,0.028355635702610,-0.058635175228119,0.017156464979053,-0.084731593728065,0.010656145401299,0.041353538632393,0.021598996594548,0.037356775254011,-0.001890773652121,-0.222910299897194,0.032807733863592,-0.062347106635571,-0.107277810573578));
res += mul(Get(s2,0,0), float4x4(0.031099226325750,0.117226436734200,-0.049863770604134,-0.073571644723415,0.046009141951799,0.019477657973766,0.071087919175625,-0.070207625627518,-0.014518701471388,0.194190055131912,0.067227706313133,0.051792889833450,-0.102800607681274,0.014992746524513,0.171346962451935,0.037913262844086));
res += mul(Get(s2,0,dy), float4x4(-0.027057103812695,0.113495253026485,0.073591530323029,-0.027161568403244,0.002856800798327,-0.041378922760487,-0.034663159400225,0.017445441335440,0.012603238224983,0.054186578840017,-0.014689150266349,-0.050232779234648,0.003152694785967,0.049019508063793,-0.017515320330858,0.094152525067329));
res += mul(Get(s2,dx,-dy), float4x4(0.053405553102493,-0.142381727695465,-0.002004736801609,0.079870440065861,-0.026751447468996,-0.076099596917629,-0.048865463584661,-0.081205382943153,0.005000240169466,0.049455184489489,-0.083641059696674,-0.075426496565342,-0.198139235377312,-0.034060418605804,0.199584335088730,-0.073777787387371));
res += mul(Get(s2,dx,0), float4x4(0.109481334686279,-0.085371121764183,0.018238976597786,-0.016897365450859,0.042393460869789,-0.007212025113404,-0.029021261259913,-0.037102635949850,-0.035646233707666,0.050498910248280,0.040164474397898,-0.063185922801495,-0.103310585021973,0.005532177165151,0.033409994095564,0.211121633648872));
res += mul(Get(s2,dx,dy), float4x4(-0.013017742894590,0.053876385092735,0.071502126753330,0.017787389457226,-0.005641561467201,-0.003614125307649,0.006272605620325,0.069501392543316,-0.130847841501236,0.003951043821871,-0.080391883850098,0.004838487599045,-0.027328498661518,0.008859313093126,-0.075327046215534,-0.015683475881815));
res += mul(Get(s3,-dx,-dy), float4x4(0.113165393471718,0.061607949435711,-0.126477718353271,0.088598355650902,-0.187834098935127,-0.024790788069367,0.098943069577217,-0.001746881986037,-0.019099889323115,0.020088002085686,-0.030776293948293,-0.018867122009397,-0.003611098276451,0.050284426659346,0.036123037338257,0.046825084835291));
res += mul(Get(s3,-dx,0), float4x4(-0.096057549118996,0.112281627953053,-0.040970720350742,0.039214104413986,0.010144826956093,-0.033928889781237,0.010006502270699,0.059353176504374,0.082621462643147,-0.007902901619673,-0.017098302021623,-0.100475803017616,-0.082958966493607,-0.117522262036800,-0.085027597844601,0.104298584163189));
res += mul(Get(s3,-dx,dy), float4x4(0.066037729382515,0.061707757413387,0.040532875806093,-0.088227018713951,-0.041840225458145,-0.023712716996670,0.060221165418625,-0.013280826620758,0.014282361604273,-0.012680992484093,0.106058560311794,-0.030843200162053,0.114381998777390,-0.145093843340874,0.095734871923923,0.189315184950829));
res += mul(Get(s3,0,-dy), float4x4(-0.110622234642506,-0.028010189533234,-0.014250946231186,0.133938476443291,-0.003460774663836,-0.030052244663239,-0.014722790569067,-0.037474330514669,-0.057043049484491,0.027873886749148,-0.035795267671347,-0.039030894637108,-0.044615443795919,0.043423693627119,0.059966035187244,-0.087171532213688));
res += mul(Get(s3,0,0), float4x4(0.072566457092762,0.076422698795795,-0.012470224872231,0.011453288607299,0.017905760556459,-0.048056837171316,0.008781888522208,-0.057665027678013,0.134446963667870,0.181320935487747,-0.055657830089331,-0.034962933510542,-0.028277434408665,0.018203092738986,-0.142742052674294,0.025856183841825));
res += mul(Get(s3,0,dy), float4x4(0.142609432339668,-0.033139448612928,-0.061822954565287,-0.060623183846474,-0.001280623371713,0.006264149211347,0.064154669642448,-0.078470692038536,-0.055040780454874,0.020951710641384,0.042428281158209,-0.021724114194512,0.000243836344453,-0.031050702556968,0.004603795707226,0.079293034970760));
res += mul(Get(s3,dx,-dy), float4x4(-0.052768789231777,0.043104629963636,0.017905421555042,0.062003239989281,0.067924141883850,-0.033570013940334,-0.085442677140236,-0.021417854353786,-0.058240797370672,-0.076040543615818,0.011656830087304,0.044558141380548,0.037154830992222,-0.008246017619967,0.070420406758785,-0.007123948540539));
res += mul(Get(s3,dx,0), float4x4(0.083985611796379,0.176833167672157,-0.064776800572872,0.028481248766184,0.019034732133150,-0.016924686729908,-0.041204147040844,0.070280589163303,-0.003625545417890,0.001434916397557,-0.068725891411304,-0.032240398228168,0.036501012742519,0.065159142017365,0.069266758859158,0.014446030370891));
res += mul(Get(s3,dx,dy), float4x4(-0.010162947699428,0.036370635032654,-0.011018368415534,-0.089686416089535,0.094666205346584,-0.061143372207880,-0.129081323742867,-0.117724657058716,-0.104589715600014,0.050945360213518,-0.020691595971584,-0.032293323427439,0.031615056097507,-0.078518271446228,0.094040200114250,-0.025208072736859));
res = max(float4(0,0,0,0), res);
return res;
}
