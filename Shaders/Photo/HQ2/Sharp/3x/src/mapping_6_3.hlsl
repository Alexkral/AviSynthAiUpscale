sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.029656205326319,0.029753707349300,-0.028257172554731,-0.052825774997473,-0.002110336674377,0.022103417664766,0.047918237745762,-0.046689569950104,0.078689806163311,-0.024336526170373,-0.016422560438514,0.093966074287891,0.084178030490875,-0.019624346867204,0.055455826222897,-0.025129450485110));
res += mul(Get(s0,-dx,0), float4x4(-0.059890970587730,-0.095576480031013,-0.019704477861524,0.028796624392271,0.107947573065758,-0.024788854643703,-0.036401905119419,-0.000077459480963,0.049334552139044,-0.026519406586885,-0.002708977321163,0.120968706905842,-0.055315982550383,-0.029737524688244,-0.141096815466881,-0.028935475274920));
res += mul(Get(s0,-dx,dy), float4x4(0.013382147066295,0.058261383324862,-0.107324548065662,-0.062586531043053,0.150001838803291,0.014575066044927,0.029117032885551,-0.034583836793900,-0.068326443433762,0.048790153115988,-0.051663484424353,0.031274612993002,-0.049977794289589,-0.019109601154923,-0.127290651202202,0.091815680265427));
res += mul(Get(s0,0,-dy), float4x4(-0.068213209509850,0.030223114416003,-0.043058894574642,-0.037206858396530,0.015950171276927,0.030674161389470,-0.052483487874269,0.072238542139530,-0.103591226041317,-0.031826410442591,0.062315784394741,0.025620207190514,-0.105474710464478,0.009014594368637,-0.032332617789507,0.007637383881956));
res += mul(Get(s0,0,0), float4x4(0.054095759987831,0.013189211487770,-0.084984950721264,-0.068306483328342,-0.063022404909134,0.012688092887402,-0.103569135069847,0.037322990596294,0.123520560562611,0.095345281064510,0.076077029109001,0.052486460655928,-0.022781137377024,0.033280655741692,-0.028610637411475,0.025601880624890));
res += mul(Get(s0,0,dy), float4x4(-0.040072441101074,-0.054696813225746,-0.202189803123474,0.068591997027397,0.038798946887255,0.003143648384139,-0.055680558085442,-0.047264892607927,-0.026700479909778,0.126919746398926,-0.115892179310322,0.084624573588371,0.092744186520576,-0.049500737339258,-0.034430380910635,-0.181907221674919));
res += mul(Get(s0,dx,-dy), float4x4(0.191529646515846,0.000382080092095,-0.085600651800632,-0.045037567615509,0.115659981966019,0.036086484789848,-0.046220969408751,0.003732380457222,-0.099935516715050,0.086499035358429,-0.029055781662464,0.025912117213011,0.025611080229282,-0.060580741614103,-0.007414003834128,0.064317889511585));
res += mul(Get(s0,dx,0), float4x4(-0.061934307217598,0.044202465564013,-0.051858235150576,-0.093366615474224,0.129220560193062,0.034552555531263,-0.012515874579549,0.064666636288166,-0.055691197514534,-0.071763120591640,-0.072566166520119,0.038913220167160,0.031343553215265,0.055694472044706,-0.009561662562191,-0.075749292969704));
res += mul(Get(s0,dx,dy), float4x4(-0.036984626203775,-0.067101165652275,0.144492104649544,-0.017919376492500,0.076346181333065,0.033982347697020,0.017971163615584,0.042182490229607,-0.127921745181084,-0.149345800280571,0.006931022275239,-0.048290409147739,-0.055216416716576,0.000836292922031,0.031499460339546,0.072714962065220));
res += mul(Get(s1,-dx,-dy), float4x4(-0.032833833247423,0.019569069147110,-0.104567497968674,0.083586342632771,-0.006734583992511,-0.054230470210314,0.032960753887892,-0.084637604653835,-0.088629849255085,0.148291140794754,-0.060206431895494,0.087389536201954,-0.019066762179136,0.077635362744331,0.067797534167767,0.017456874251366));
res += mul(Get(s1,-dx,0), float4x4(0.050717577338219,-0.047355957329273,-0.050149526447058,-0.022548938170075,0.068741910159588,-0.028732193633914,-0.031485792249441,0.018686875700951,-0.019977616146207,-0.123526781797409,-0.007829683832824,-0.000325957109453,0.003055246779695,0.045125316828489,0.127741843461990,-0.005818452220410));
res += mul(Get(s1,-dx,dy), float4x4(-0.135216280817986,0.103850230574608,-0.069610975682735,0.205300733447075,-0.136508285999298,0.008962821215391,0.035794973373413,-0.137977570295334,-0.101576372981071,0.110347092151642,-0.084798254072666,0.087263531982899,0.029729783535004,0.132124960422516,-0.053141422569752,0.010630363598466));
res += mul(Get(s1,0,-dy), float4x4(0.061741545796394,-0.126237869262695,-0.200843796133995,0.062874823808670,-0.028613451868296,-0.057912170886993,0.064239256083965,-0.009811261668801,0.031997017562389,-0.122421361505985,-0.003059006063268,-0.037460789084435,-0.246376097202301,-0.106723405420780,-0.127600207924843,-0.002144696423784));
res += mul(Get(s1,0,0), float4x4(-0.051300060003996,0.008647182025015,-0.095818743109703,0.039573267102242,0.090530835092068,-0.025870155543089,-0.081470601260662,0.129464566707611,0.043086934834719,0.053924664855003,0.099500112235546,-0.031206833198667,-0.041059564799070,0.005892112851143,-0.029220260679722,-0.100431852042675));
res += mul(Get(s1,0,dy), float4x4(-0.061640758067369,-0.027785144746304,0.069261237978935,0.078523725271225,0.162414431571960,-0.041820917278528,-0.003641178132966,0.126567557454109,0.086789712309837,-0.044512264430523,0.027347942814231,0.040574803948402,0.025274422019720,-0.039452284574509,-0.114577755331993,-0.063794560730457));
res += mul(Get(s1,dx,-dy), float4x4(0.052420169115067,-0.127174451947212,-0.098133586347103,-0.040958054363728,-0.049436029046774,0.074781760573387,-0.102874785661697,-0.022747375071049,-0.065385974943638,-0.025100357830524,0.038316931575537,0.019838664680719,0.266527324914932,0.018280891701579,-0.022419603541493,0.080167517066002));
res += mul(Get(s1,dx,0), float4x4(-0.046531654894352,-0.104281723499298,-0.065054535865784,-0.065891884267330,-0.017170997336507,0.087592594325542,-0.157220393419266,0.019341217353940,-0.041145700961351,-0.016401736065745,0.067771464586258,-0.096339076757431,0.161771297454834,0.025140538811684,0.041541475802660,-0.155488610267639));
res += mul(Get(s1,dx,dy), float4x4(0.086162358522415,-0.098551072180271,-0.021780909970403,0.047903433442116,0.059997141361237,-0.029138818383217,-0.084483571350574,0.065787091851234,0.023607095703483,0.002910350216553,-0.098312817513943,-0.052124969661236,-0.069776684045792,-0.018624981865287,-0.048990048468113,0.021410321816802));
res += mul(Get(s2,-dx,-dy), float4x4(0.125907897949219,0.044985681772232,-0.071997724473476,-0.139675065875053,0.051941361278296,-0.008437078446150,0.162906885147095,-0.005490342155099,0.186928957700729,0.098131194710732,0.085681706666946,0.209090113639832,-0.059506148099899,0.010690741240978,-0.063819043338299,-0.038767985999584));
res += mul(Get(s2,-dx,0), float4x4(-0.076401740312576,-0.020649600774050,0.006036581005901,0.031004974618554,0.039965182542801,0.070207349956036,-0.084289409220219,0.039572503417730,0.053849402815104,-0.004857808817178,0.121258690953255,0.044348176568747,0.077784948050976,-0.000597459671553,-0.000527302385308,-0.135817945003510));
res += mul(Get(s2,-dx,dy), float4x4(-0.039355162531137,0.075496159493923,0.004974961746484,0.348177194595337,0.024352105334401,-0.038533322513103,-0.022330777719617,0.057138018310070,-0.031088432297111,-0.023425798863173,0.018885210156441,0.052282743155956,-0.128410056233406,-0.033566121011972,0.009971315041184,0.118289209902287));
res += mul(Get(s2,0,-dy), float4x4(0.131884649395943,0.074304789304733,-0.067952781915665,0.001372127560899,-0.031371377408504,0.041411235928535,-0.074982836842537,-0.038773685693741,0.114217042922974,0.084652952849865,-0.012479158118367,-0.068251751363277,0.031945735216141,0.028625408187509,0.132950559258461,-0.131760790944099));
res += mul(Get(s2,0,0), float4x4(0.060401145368814,-0.175551816821098,-0.038157589733601,0.057694964110851,-0.226889789104462,-0.126688644289970,0.070933669805527,0.152985304594040,0.076197840273380,-0.087854094803333,-0.106381297111511,0.008410670794547,0.036521285772324,0.034057959914207,-0.174335330724716,-0.147369399666786));
res += mul(Get(s2,0,dy), float4x4(-0.129085049033165,-0.099621981382370,-0.018575303256512,-0.041213862597942,-0.113066479563713,-0.035967841744423,-0.013068538159132,0.053378671407700,0.035970199853182,0.096815317869186,0.032308530062437,0.029316047206521,0.015339783392847,-0.141775980591774,-0.038608159869909,0.135014355182648));
res += mul(Get(s2,dx,-dy), float4x4(-0.097081385552883,-0.030603211373091,-0.019810399040580,0.045917246490717,-0.173121213912964,-0.085513286292553,0.066635906696320,-0.013278983533382,0.069192640483379,-0.060923069715500,-0.023982727900147,0.052296683192253,0.026331365108490,0.002204177668318,-0.096584856510162,0.015226374380291));
res += mul(Get(s2,dx,0), float4x4(-0.011097962036729,-0.075078368186951,-0.086141549050808,-0.098863661289215,0.018185103312135,-0.021214514970779,0.092759802937508,-0.054761972278357,0.124803498387337,-0.023588562384248,-0.035485476255417,-0.036110311746597,-0.149097681045532,-0.039251785725355,-0.055076081305742,-0.025510504841805));
res += mul(Get(s2,dx,dy), float4x4(0.050747238099575,-0.023705527186394,-0.142701253294945,0.129693821072578,-0.022980146110058,-0.082304626703262,0.055184118449688,-0.041688490658998,-0.009673208929598,0.002284611575305,-0.004546733573079,-0.016358317807317,-0.146083980798721,-0.023000683635473,-0.061368543654680,0.098185010254383));
res += mul(Get(s3,-dx,-dy), float4x4(-0.061731725931168,0.049189526587725,-0.001975136110559,-0.075314335525036,-0.073349252343178,0.070694357156754,0.073090717196465,0.018262267112732,-0.064237326383591,-0.048040583729744,0.006492137908936,0.132878631353378,0.041980348527431,0.118043273687363,0.051450543105602,-0.105765245854855));
res += mul(Get(s3,-dx,0), float4x4(-0.002824958646670,0.033056009560823,-0.076534263789654,-0.037480629980564,0.032007742673159,-0.018331974744797,0.052362583577633,0.023317411541939,-0.095557570457458,0.104276865720749,-0.101279795169830,0.120513573288918,-0.024218447506428,-0.007135711610317,0.089792482554913,0.014448467642069));
res += mul(Get(s3,-dx,dy), float4x4(0.041108958423138,-0.065866693854332,-0.029422949999571,0.044412318617105,0.058286957442760,-0.052965421229601,0.044938340783119,-0.054579716175795,0.125180080533028,-0.037720564752817,0.028931761160493,-0.001146998140030,-0.032477419823408,-0.057402070611715,0.102465540170670,0.032974809408188));
res += mul(Get(s3,0,-dy), float4x4(0.045157074928284,-0.007383585441858,0.016297562047839,-0.108203858137131,0.024226766079664,0.167590454220772,-0.104049846529961,-0.015453943982720,0.105010651051998,-0.057061001658440,0.018092200160027,0.027776366099715,0.030103124678135,-0.062815830111504,-0.009286684915423,-0.082778990268707));
res += mul(Get(s3,0,0), float4x4(-0.166762858629227,0.093859501183033,0.016799112781882,0.008919890038669,-0.053036879748106,-0.065629340708256,0.061847351491451,-0.063444405794144,0.129578724503517,0.034509852528572,0.029591279104352,0.028312928974628,0.009474616497755,0.084973767399788,0.004349019844085,-0.013150058686733));
res += mul(Get(s3,0,dy), float4x4(-0.035152837634087,-0.082703858613968,0.029451726004481,-0.111168712377548,0.001992921112105,-0.198471337556839,0.056568756699562,-0.094319045543671,-0.063260369002819,0.032538976520300,0.025244224816561,0.002461263677105,-0.023904811590910,-0.083512239158154,-0.019410347566009,-0.044286169111729));
res += mul(Get(s3,dx,-dy), float4x4(-0.127237856388092,0.085217446088791,-0.189262062311172,-0.122249841690063,-0.038576547056437,0.150759965181351,-0.033982668071985,-0.094768002629280,-0.069471493363380,-0.114173091948032,-0.125397548079491,-0.050233453512192,0.103656254708767,0.073716342449188,0.063523560762405,0.121671058237553));
res += mul(Get(s3,dx,0), float4x4(-0.063869476318359,0.025130985304713,0.063819006085396,0.057993303984404,0.061242405325174,-0.071062535047531,0.059562288224697,0.111808985471725,0.111180059611797,0.039733525365591,-0.032507698982954,0.041771572083235,-0.046857360750437,0.042199812829494,0.084811471402645,0.052911024540663));
res += mul(Get(s3,dx,dy), float4x4(0.050752878189087,0.072942517697811,-0.099803693592548,-0.122488699853420,-0.025272702798247,0.030621206387877,0.018116381019354,0.062455814331770,0.059622257947922,-0.061232831329107,0.004872214514762,0.089591488242149,0.038692582398653,0.080793663859367,-0.018773134797812,-0.019335428252816));
res = max(float4(0,0,0,0), res);
return res;
}
