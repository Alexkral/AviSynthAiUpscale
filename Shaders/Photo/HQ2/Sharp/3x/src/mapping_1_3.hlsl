sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.018902726471424,0.066716134548187,-0.027747014537454,0.014862833544612,0.000237123866100,0.001948506920598,-0.017615167424083,-0.041630297899246,0.008534847758710,-0.070586703717709,-0.011988818645477,0.023902622982860,-0.128649935126305,-0.111418224871159,0.118952266871929,0.045787431299686));
res += mul(Get(s0,-dx,0), float4x4(-0.057690281420946,-0.097434006631374,0.117571629583836,0.082991324365139,0.225542053580284,0.069887273013592,-0.026452051475644,-0.072679124772549,0.098437316715717,-0.022076409310102,0.015808003023267,-0.019230186939240,-0.036746188998222,-0.081194110214710,-0.009148797951639,-0.093735635280609));
res += mul(Get(s0,-dx,dy), float4x4(-0.024016140028834,0.001646005315706,0.026581024751067,0.046313375234604,0.019044453278184,-0.062560476362705,-0.084814138710499,-0.002158843446523,-0.083581268787384,-0.051835302263498,-0.047303713858128,0.025679454207420,0.049640353769064,0.089002273976803,-0.028230652213097,0.000670558947604));
res += mul(Get(s0,0,-dy), float4x4(-0.175409510731697,0.075908973813057,-0.135917365550995,-0.087891750037670,-0.023328259587288,-0.071645520627499,-0.059061653912067,-0.043657988309860,-0.030787490308285,0.141552358865738,-0.039218083024025,0.046224348247051,-0.093272261321545,-0.084340929985046,0.047699756920338,0.097643144428730));
res += mul(Get(s0,0,0), float4x4(0.155803978443146,0.044274341315031,0.105627872049809,0.189231634140015,-0.064109489321709,0.023106645792723,-0.003108764300123,0.138054102659225,-0.082211598753929,-0.048319138586521,-0.052015602588654,-0.007814434356987,-0.004583093803376,-0.001267034444027,0.113121174275875,-0.019640300422907));
res += mul(Get(s0,0,dy), float4x4(0.083249457180500,-0.144170612096786,0.054753582924604,0.142418384552002,0.104081697762012,-0.016226416453719,-0.038638308644295,-0.111347369849682,-0.087398439645767,-0.063764840364456,-0.016970844939351,-0.029029149562120,0.059873614460230,-0.083070941269398,-0.036947581917048,-0.027645988389850));
res += mul(Get(s0,dx,-dy), float4x4(0.118383809924126,-0.052962765097618,-0.088122867047787,-0.094295598566532,-0.034589592367411,-0.154665276408195,-0.111596532166004,-0.094032458961010,0.285899311304092,-0.057040303945541,-0.122549600899220,0.239119753241539,-0.080414667725563,-0.048747476190329,0.280125260353088,0.031360656023026));
res += mul(Get(s0,dx,0), float4x4(0.138160407543182,0.114320434629917,-0.008584114722908,0.096351012587547,-0.003648729762062,0.020154235884547,-0.085972428321838,-0.128873363137245,-0.074108585715294,-0.001310922671109,-0.050424557179213,0.047628991305828,-0.039174828678370,0.114407941699028,0.033739078789949,0.015750398859382));
res += mul(Get(s0,dx,dy), float4x4(-0.107004903256893,0.175041988492012,0.048805732280016,-0.154499188065529,0.041929025202990,-0.112343877553940,0.050400588661432,-0.181664317846298,0.020703302696347,0.069710738956928,-0.085986346006393,0.039015378803015,-0.113698609173298,0.009045182727277,0.032669730484486,-0.113313183188438));
res += mul(Get(s1,-dx,-dy), float4x4(-0.072683073580265,0.020320648327470,0.052351865917444,-0.053160127252340,-0.155691653490067,-0.011905869469047,-0.092964611947536,0.005038471426815,0.035264734178782,0.058667805045843,0.150460258126259,-0.092872597277164,0.111513473093510,-0.039100196212530,0.000264594418695,0.106792517006397));
res += mul(Get(s1,-dx,0), float4x4(-0.040910888463259,-0.012801611796021,-0.171935185790062,-0.040197290480137,-0.084468230605125,0.085633687674999,0.102017953991890,-0.101374424993992,0.028528692200780,0.056756265461445,0.015894569456577,0.103736899793148,-0.043207928538322,-0.177460640668869,0.081173531711102,0.092660062015057));
res += mul(Get(s1,-dx,dy), float4x4(0.065474547445774,0.062670260667801,0.137156739830971,0.033064089715481,0.060228839516640,0.005680623929948,-0.182699218392372,-0.070450790226460,0.162049099802971,0.025251151993871,0.056076537817717,0.103843264281750,-0.065515331923962,0.014147841371596,0.071981832385063,-0.057049188762903));
res += mul(Get(s1,0,-dy), float4x4(0.024516221135855,0.220316872000694,0.047598790377378,0.078810453414917,0.025404861196876,-0.020977707579732,-0.108935199677944,0.061016142368317,0.080900318920612,-0.100505940616131,-0.091529667377472,0.009518437087536,0.004131827969104,-0.054540596902370,-0.077628940343857,0.131780102849007));
res += mul(Get(s1,0,0), float4x4(0.054415799677372,0.004467946011573,0.101175144314766,0.157066166400909,0.129449382424355,-0.092012248933315,-0.075290255248547,0.172797530889511,0.052763197571039,-0.008973866701126,0.173608407378197,0.000742107571568,0.029083032160997,-0.045264519751072,-0.086675696074963,-0.084721222519875));
res += mul(Get(s1,0,dy), float4x4(-0.175944104790688,-0.034311257302761,0.000454645109130,-0.121030613780022,0.098187789320946,-0.119469210505486,0.096203640103340,-0.031341921538115,-0.125308975577354,0.156460911035538,-0.048017419874668,0.054425027221441,0.040349230170250,0.076998859643936,-0.050381783396006,0.020331548526883));
res += mul(Get(s1,dx,-dy), float4x4(0.108183778822422,0.074035644531250,-0.104444079101086,0.012538528069854,0.004003904759884,0.100448668003082,0.022387292236090,-0.027371836826205,-0.101990818977356,0.041403189301491,-0.055334027856588,-0.089473530650139,0.170453041791916,0.016499347984791,-0.028026122599840,0.128861904144287));
res += mul(Get(s1,dx,0), float4x4(-0.122355252504349,-0.070851415395737,-0.014130237512290,0.049779798835516,-0.023534320294857,0.021226705983281,-0.019882110878825,0.121164210140705,0.010899367742240,-0.022859042510390,-0.103238947689533,0.153898715972900,0.026878602802753,-0.031845208257437,0.082637973129749,-0.092502988874912));
res += mul(Get(s1,dx,dy), float4x4(0.153056949377060,-0.071194544434547,-0.012213118374348,0.026401299983263,0.070574775338173,0.017971239984035,-0.066841632127762,0.017890090122819,0.099686674773693,-0.124399878084660,0.027177322655916,0.002250864868984,-0.070195004343987,-0.009961153380573,-0.034823562949896,-0.009852468967438));
res += mul(Get(s2,-dx,-dy), float4x4(0.099471099674702,-0.012347693555057,0.060044504702091,0.064980514347553,0.004579576198012,-0.072521537542343,0.018816279247403,-0.062456816434860,0.040206234902143,0.092737719416618,0.001438608858734,0.096679665148258,-0.039598129689693,-0.096176758408546,-0.107320547103882,-0.030320709571242));
res += mul(Get(s2,-dx,0), float4x4(0.005938454531133,-0.093928873538971,-0.098441727459431,0.101029768586159,-0.161584228277206,0.118210561573505,-0.042178787291050,-0.075508058071136,0.006345951929688,-0.087182499468327,0.053827743977308,-0.065828979015350,-0.014420408755541,0.053414918482304,0.016429396346211,0.134061932563782));
res += mul(Get(s2,-dx,dy), float4x4(-0.077863946557045,-0.022248361259699,0.024898489937186,-0.042833380401134,-0.008313930593431,-0.003329924540594,0.040901213884354,0.005859872791916,0.015314893797040,0.020490249618888,0.160406261682510,0.032378107309341,0.044779743999243,0.092727407813072,0.056866943836212,0.041130054742098));
res += mul(Get(s2,0,-dy), float4x4(-0.017821207642555,-0.075280405580997,0.138024851679802,-0.103383198380470,-0.107021525502205,-0.035228744149208,0.005405972246081,-0.032727092504501,-0.034158267080784,0.003389927558601,0.016800565645099,0.006910373456776,0.099577032029629,0.089571222662926,0.106723755598068,0.099991269409657));
res += mul(Get(s2,0,0), float4x4(-0.183246225118637,0.003112450940534,0.052246954292059,0.130893051624298,0.120736598968506,0.057288218289614,0.190676167607307,0.051985599100590,-0.003965845797211,0.189894065260887,-0.086325615644455,0.107372559607029,-0.088904321193695,0.072728484869003,0.032740283757448,0.018766745924950));
res += mul(Get(s2,0,dy), float4x4(-0.095129482448101,0.079012900590897,0.000274142570561,0.088095523416996,0.019521046429873,0.034382294863462,0.047651723027229,0.022403981536627,0.073026038706303,0.005009739194065,0.027992304414511,-0.027760980650783,-0.113987833261490,-0.004834112245589,0.007293717935681,0.023382628336549));
res += mul(Get(s2,dx,-dy), float4x4(0.152577802538872,-0.092651732265949,-0.113483332097530,0.048570405691862,-0.055704150348902,0.055333007127047,-0.066044993698597,0.008568095974624,0.126637801527977,-0.025305684655905,-0.035104896873236,-0.036952208727598,0.066655136644840,0.004462916869670,-0.040231972932816,0.070926234126091));
res += mul(Get(s2,dx,0), float4x4(0.022625477984548,-0.082538440823555,0.074294388294220,0.006248046644032,0.156340122222900,-0.063144139945507,-0.021098759025335,0.059674970805645,0.100670628249645,-0.028021693229675,-0.164451226592064,0.015851663425565,0.181047350168228,-0.099618144333363,-0.083772331476212,-0.004923997446895));
res += mul(Get(s2,dx,dy), float4x4(0.064254999160767,-0.137693390250206,0.090985320508480,0.004627121612430,-0.101890519261360,-0.015156549401581,-0.112709343433380,-0.107059821486473,0.082178346812725,-0.085114642977715,-0.106657765805721,0.090672574937344,-0.036253742873669,-0.057203251868486,0.114695258438587,0.031740155071020));
res += mul(Get(s3,-dx,-dy), float4x4(0.036419264972210,0.063754327595234,0.027288824319839,-0.029236460104585,0.097929775714874,0.081223964691162,0.012304092757404,-0.102273359894753,-0.030425859615207,-0.021756827831268,0.032632514834404,0.037526261061430,-0.140641063451767,0.123981177806854,0.117818802595139,-0.009476075880229));
res += mul(Get(s3,-dx,0), float4x4(0.061670560389757,-0.005714317783713,-0.071314528584480,-0.018349872902036,-0.094144120812416,0.005949861835688,-0.158704414963722,-0.030398987233639,0.134158477187157,-0.031016042456031,0.096084922552109,-0.086234226822853,0.081261202692986,0.027442157268524,-0.079794399440289,-0.019916795194149));
res += mul(Get(s3,-dx,dy), float4x4(-0.133836269378662,-0.039074260741472,0.012798705138266,0.007912568747997,-0.110277742147446,0.056580726057291,0.030235756188631,-0.004102168604732,0.033896733075380,0.053356114774942,-0.032366149127483,0.110670119524002,-0.095598608255386,0.022880703210831,0.040320079773664,0.014356156811118));
res += mul(Get(s3,0,-dy), float4x4(-0.091699890792370,-0.190224885940552,-0.089516602456570,-0.056961119174957,0.093943893909454,-0.092116609215736,-0.037759687751532,-0.045027989894152,0.022393900901079,-0.104787297546864,-0.113562516868114,0.026359746232629,-0.000482961942907,-0.003438694635406,0.089126095175743,-0.043256785720587));
res += mul(Get(s3,0,0), float4x4(-0.053154319524765,-0.026662968099117,-0.005522980820388,-0.004296737723053,-0.066422268748283,-0.113073661923409,-0.043615445494652,0.004738179501146,-0.057189960032701,0.042731761932373,0.058723699301481,-0.044764753431082,-0.014019303955138,0.021044176071882,-0.124946057796478,-0.030117424204946));
res += mul(Get(s3,0,dy), float4x4(0.203763961791992,-0.045577902346849,0.033382412046194,0.022031415253878,0.067759416997433,0.154911398887634,-0.088859453797340,-0.070405796170235,-0.054943539202213,0.065158292651176,0.062013912945986,-0.049945969134569,0.007213580422103,-0.053640656173229,-0.003902345662937,0.026536760851741));
res += mul(Get(s3,dx,-dy), float4x4(-0.115099102258682,0.023029288277030,0.036699831485748,-0.028467146679759,0.013811170123518,0.022205561399460,-0.059405580163002,0.084002986550331,-0.039552517235279,-0.087535575032234,0.055651489645243,0.052100934088230,-0.021749606356025,-0.011606915853918,0.035669486969709,-0.039203919470310));
res += mul(Get(s3,dx,0), float4x4(0.207154929637909,-0.049838975071907,0.101326823234558,0.087082795798779,-0.138298243284225,0.018285548314452,-0.032455701380968,0.081746757030487,-0.107364065945148,-0.093427836894989,0.038593355566263,0.029031880199909,-0.008699704892933,0.170812964439392,0.095058143138885,0.003041722113267));
res += mul(Get(s3,dx,dy), float4x4(0.067506290972233,0.006247237790376,-0.131504520773888,0.062492925673723,-0.088537342846394,-0.032105598598719,-0.064107626676559,-0.073755517601967,-0.020928660407662,-0.011746421456337,0.195289164781570,-0.023231668397784,0.163223639130592,0.027732035145164,0.094798147678375,0.018274765461683));
res = max(float4(0,0,0,0), res);
return res;
}
