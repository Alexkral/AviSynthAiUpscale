sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.049832422286272,0.037289261817932,0.111037276685238,-0.134960174560547,-0.125637069344521,0.035986293107271,0.045045685023069,0.036270130425692,-0.004998404067010,0.042913842946291,0.057922262698412,-0.109981507062912,0.032397810369730,-0.093261756002903,0.021385407075286,-0.010848330333829));
res += mul(Get(s0,-dx,0), float4x4(-0.016993839293718,-0.036914549767971,0.035160720348358,-0.054322797805071,0.282118439674377,0.168473452329636,0.035079453140497,-0.023048037663102,0.078339733183384,-0.036645665764809,0.030672766268253,-0.148804321885109,0.097630046308041,0.028240785002708,0.049319732934237,0.004870005417615));
res += mul(Get(s0,-dx,dy), float4x4(-0.011033347807825,0.030220421031117,0.082010388374329,0.047668509185314,0.023008449003100,-0.109106272459030,-0.109970681369305,0.088532157242298,0.074969805777073,0.007784264162183,-0.019902732223272,0.119150057435036,0.123129047453403,-0.075599610805511,0.007591984234750,0.015660341829062));
res += mul(Get(s0,0,-dy), float4x4(-0.090185955166817,-0.063552185893059,-0.014274393208325,0.068542584776878,-0.050957046449184,-0.050332054495811,-0.025874566286802,-0.114355586469173,0.086479164659977,0.098936527967453,0.028399808332324,-0.129356816411018,0.191481187939644,0.178733602166176,0.019508298486471,-0.073425777256489));
res += mul(Get(s0,0,0), float4x4(-0.007247274275869,0.035373557358980,0.033920194953680,-0.008039920590818,0.233631640672684,-0.054878760129213,0.136417314410210,0.170425072312355,0.033630494028330,0.052603688091040,-0.005353485234082,-0.072973020374775,-0.174041673541069,0.116835519671440,-0.089858673512936,-0.143474414944649));
res += mul(Get(s0,0,dy), float4x4(0.033936809748411,0.037136491388083,-0.002121285768226,-0.013257466256618,0.038920126855373,-0.053835637867451,-0.128934279084206,0.011762467212975,0.153483241796494,-0.034713044762611,-0.053956598043442,-0.038445387035608,-0.061041511595249,0.061938628554344,0.123900912702084,-0.128626912832260));
res += mul(Get(s0,dx,-dy), float4x4(0.033636379987001,0.007863759063184,-0.107027687132359,0.056441407650709,-0.008659501560032,-0.022051271051168,-0.092562645673752,-0.093489222228527,0.032099355012178,0.054956704378128,-0.033399626612663,-0.065781973302364,0.091490365564823,0.004423246253282,-0.003207090310752,0.060107547789812));
res += mul(Get(s0,dx,0), float4x4(0.031401336193085,-0.051567066460848,0.041987210512161,-0.010406541638076,-0.015441047959030,-0.053991571068764,0.021361574530602,0.047541681677103,-0.078518934547901,-0.029711622744799,-0.048546925187111,-0.117438636720181,0.044095531105995,0.038493491709232,0.035373598337173,0.094568423926830));
res += mul(Get(s0,dx,dy), float4x4(-0.121994495391846,-0.017682522535324,0.031296581029892,0.015975112095475,0.041440792381763,0.070250496268272,0.045986358076334,-0.007946979254484,-0.075381360948086,-0.033955186605453,0.035047478973866,0.057771466672421,-0.066107608377934,0.000008761388017,0.032795410603285,-0.028840215876698));
res += mul(Get(s1,-dx,-dy), float4x4(0.027051208540797,0.029545255005360,-0.074419260025024,0.013945329003036,-0.044716991484165,0.011731132864952,-0.069772846996784,-0.052258513867855,-0.005105770658702,0.013677283190191,-0.010477811098099,0.005117542576045,-0.050497435033321,-0.119197323918343,-0.123072966933250,0.019831165671349));
res += mul(Get(s1,-dx,0), float4x4(-0.003671445418149,0.120463319122791,-0.000920111837331,-0.074887797236443,-0.159628659486771,0.062286093831062,0.074137128889561,0.070141240954399,-0.006808022502810,-0.011398214846849,0.084492884576321,-0.098617419600487,-0.086850449442863,-0.074636623263359,-0.100124016404152,-0.050584599375725));
res += mul(Get(s1,-dx,dy), float4x4(0.083829574286938,0.064251825213432,-0.011561659164727,-0.002508000470698,-0.052267372608185,0.071172922849655,0.021595047786832,-0.125810608267784,0.052622191607952,0.014405304566026,-0.139847844839096,0.019981946796179,0.022280711680651,-0.040480274707079,0.106394626200199,0.053401377052069));
res += mul(Get(s1,0,-dy), float4x4(-0.067332834005356,0.051763564348221,-0.000746101897676,-0.023140717297792,-0.083501324057579,-0.156681880354881,-0.019362380728126,0.122413903474808,0.048923786729574,-0.089726366102695,-0.172345921397209,0.015296144410968,0.252731800079346,-0.106116980314255,0.073519915342331,0.010835982859135));
res += mul(Get(s1,0,0), float4x4(0.039354860782623,0.057949628680944,-0.067316286265850,-0.123420424759388,0.222492963075638,-0.041278731077909,0.204725965857506,0.015073849819601,-0.049344852566719,-0.047723215073347,-0.043435323983431,0.191820189356804,-0.091208368539810,-0.028764013200998,-0.039135634899139,-0.027497543022037));
res += mul(Get(s1,0,dy), float4x4(0.011399210430682,-0.019092191010714,-0.005565664265305,0.007545502390712,0.083445787429810,0.096291586756706,0.026425868272781,-0.134385794401169,0.048138927668333,0.022594861686230,-0.002926489803940,-0.022587191313505,0.133373647928238,-0.039152715355158,0.138435751199722,-0.051341962069273));
res += mul(Get(s1,dx,-dy), float4x4(0.050974536687136,-0.021832883358002,0.023020038381219,0.006051018834114,-0.017086280509830,0.017113953828812,0.060755990445614,-0.007705738767982,0.114347137510777,0.082062780857086,0.011566055938601,0.242561474442482,-0.104007519781590,0.030765069648623,-0.041189298033714,0.056627392768860));
res += mul(Get(s1,dx,0), float4x4(-0.046602763235569,-0.026017300784588,0.026080770418048,0.030351454392076,-0.002896725200117,-0.084418505430222,0.092887945473194,-0.038746360689402,0.017374409362674,0.008116689510643,-0.008153651840985,0.094796158373356,-0.057531092315912,-0.039792284369469,-0.073946326971054,-0.057142417877913));
res += mul(Get(s1,dx,dy), float4x4(-0.141561776399612,0.172413349151611,0.052835829555988,0.017647454515100,-0.040965214371681,0.033464379608631,0.006472924724221,-0.006948139984161,-0.038690473884344,-0.171271830797195,0.055213212966919,0.056720502674580,0.215591654181480,0.029537651687860,-0.063749842345715,-0.039290126413107));
res += mul(Get(s2,-dx,-dy), float4x4(-0.092960588634014,-0.064647018909454,-0.112835690379143,-0.036935921758413,0.123681411147118,0.057782154530287,-0.058736473321915,0.007209997158498,0.021076187491417,0.079381570219994,0.039782598614693,-0.093687608838081,0.073848128318787,-0.100326165556908,-0.115100316703320,-0.106813624501228));
res += mul(Get(s2,-dx,0), float4x4(-0.024327501654625,0.100429683923721,0.088666871190071,-0.020639644935727,0.027183273807168,0.046069923788309,0.053684838116169,-0.038707192987204,-0.049101255834103,0.002028465270996,0.050673779100180,-0.005462631583214,0.165776804089546,0.185948580503464,0.060761585831642,0.102259941399097));
res += mul(Get(s2,-dx,dy), float4x4(-0.063787557184696,0.020119387656450,0.104419328272343,0.082754656672478,0.141527280211449,0.082087732851505,-0.053444962948561,0.141802474856377,-0.031394898891449,-0.040675424039364,-0.050474390387535,-0.041937407106161,-0.108179576694965,-0.032490268349648,-0.034247778356075,0.164842382073402));
res += mul(Get(s2,0,-dy), float4x4(-0.099298700690269,-0.126627385616302,-0.056915391236544,0.049665138125420,0.034985721111298,0.037257302552462,-0.039067834615707,0.067683108150959,0.077423632144928,0.014562333002687,0.031482364982367,0.000691917259246,0.000686311686877,0.070880189538002,0.124009028077126,0.009400022216141));
res += mul(Get(s2,0,0), float4x4(0.273272126913071,-0.118792369961739,0.132152020931244,0.029434129595757,0.049879349768162,-0.054539669305086,0.001203711144626,-0.018990222364664,0.054922100156546,-0.012405888177454,0.064498484134674,0.044730018824339,0.175764754414558,0.034283205866814,0.116911344230175,0.165329456329346));
res += mul(Get(s2,0,dy), float4x4(0.073221616446972,-0.113075494766235,-0.169210076332092,-0.013412013649940,-0.057147346436977,-0.018771812319756,-0.072463378310204,0.086063191294670,-0.054528307169676,-0.059507206082344,-0.053926493972540,0.091662831604481,0.010220406576991,-0.053168371319771,0.088134124875069,-0.083819553256035));
res += mul(Get(s2,dx,-dy), float4x4(0.092184193432331,0.030845118686557,-0.046064946800470,-0.019696155562997,-0.108571268618107,0.044549353420734,-0.013334617950022,0.144608676433563,-0.085629388689995,-0.016226494684815,0.043090824037790,-0.031499948352575,-0.005786414723843,-0.072147563099861,0.010440926067531,-0.099624380469322));
res += mul(Get(s2,dx,0), float4x4(-0.060299701988697,0.005024913232774,-0.098586104810238,-0.059552624821663,0.113283738493919,-0.004856034182012,-0.097244389355183,-0.036768104881048,0.091916516423225,-0.030138289555907,-0.069201417267323,0.050021842122078,-0.191609323024750,-0.075143992900848,0.049086887389421,-0.084997348487377));
res += mul(Get(s2,dx,dy), float4x4(-0.141431078314781,-0.056783631443977,0.076075650751591,-0.015203165821731,0.009101373143494,-0.056520871818066,-0.015535188838840,-0.029464278370142,0.024586085230112,0.080511368811131,-0.089762784540653,0.073304384946823,-0.062339063733816,-0.009913708083332,-0.022501075640321,-0.082604713737965));
res += mul(Get(s3,-dx,-dy), float4x4(-0.010267700999975,-0.051389791071415,-0.016498344019055,-0.093662217259407,0.132804319262505,0.052153117954731,-0.109570138156414,0.008035008795559,0.002799488138407,-0.004576054401696,-0.064320251345634,0.023687304928899,0.050907857716084,0.053066827356815,0.067883990705013,-0.049606945365667));
res += mul(Get(s3,-dx,0), float4x4(0.100733794271946,-0.017293047159910,-0.050067275762558,-0.077539287507534,-0.084523431956768,0.027943626046181,-0.005584162194282,0.035539038479328,-0.046466905623674,0.029546229168773,0.036902159452438,0.003742479253560,-0.088629961013794,-0.068554341793060,0.002762184478343,0.156319245696068));
res += mul(Get(s3,-dx,dy), float4x4(0.058466196060181,0.076029963791370,0.069816574454308,0.031271561980247,0.128526628017426,-0.003391843987629,0.014512787573040,-0.016247551888227,-0.125111341476440,-0.056831747293472,0.085016429424286,-0.027059104293585,-0.010636434890330,-0.047123141586781,0.089110337197781,0.132376179099083));
res += mul(Get(s3,0,-dy), float4x4(-0.010008679702878,-0.064094923436642,-0.062257584184408,0.060126468539238,0.030474931001663,-0.110181711614132,-0.010934868827462,-0.045812927186489,0.026669230312109,-0.010371821001172,0.133707910776138,-0.007173424586654,0.102452397346497,0.030262695625424,-0.020810939371586,-0.046087343245745));
res += mul(Get(s3,0,0), float4x4(-0.031707741320133,0.100123494863510,0.021842962130904,-0.018369628116488,-0.143259927630424,0.000588198076002,0.029706973582506,0.072281382977962,0.122975885868073,0.059890497475863,0.014314730651677,0.153308361768723,0.045465771108866,-0.011712576262653,-0.128415375947952,0.025268625468016));
res += mul(Get(s3,0,dy), float4x4(-0.003925804514438,0.065531663596630,-0.083121143281460,-0.002764692762867,-0.002738902578130,-0.000989269698039,0.020395407453179,0.094862595200539,0.215816363692284,0.021329261362553,-0.098914012312889,0.062350783497095,0.139765292406082,0.012077219784260,-0.027308898046613,-0.006652276497334));
res += mul(Get(s3,dx,-dy), float4x4(0.045142583549023,0.044950317591429,0.026302849873900,0.082793049514294,0.008366508409381,-0.164249226450920,0.125194683670998,-0.076648771762848,0.065127290785313,-0.094136387109756,-0.198171272873878,-0.072802841663361,-0.012164503335953,-0.073801845312119,-0.048431098461151,0.104283049702644));
res += mul(Get(s3,dx,0), float4x4(-0.048296522349119,-0.087734885513783,-0.039757058024406,0.080643467605114,-0.060967061668634,-0.040871389210224,-0.078830324113369,0.008311261422932,-0.231199458241463,0.073671653866768,-0.079213097691536,0.073524199426174,0.011271739378572,-0.079454436898232,-0.011439473368227,-0.220507070422173));
res += mul(Get(s3,dx,dy), float4x4(0.006990675814450,-0.057193920016289,-0.049570839852095,-0.079940497875214,-0.036518294364214,0.025528969243169,-0.070458941161633,0.047832943499088,0.053411483764648,-0.026667451485991,0.108906678855419,-0.023808596655726,-0.019209308549762,-0.003331698011607,-0.069044612348080,0.088237062096596));
res = max(float4(0,0,0,0), res);
return res;
}
