sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.007975492626429,-0.072551898658276,0.066506356000900,-0.077399708330631,0.073142014443874,0.105121329426765,-0.093477562069893,-0.023667532950640,-0.016109868884087,-0.098976142704487,0.182090401649475,0.083951674401760,-0.006517524365336,0.062304854393005,0.102970160543919,0.029289292171597));
res += mul(Get(s0,-dx,0), float4x4(-0.065849430859089,0.179522439837456,-0.019162485376000,0.030261769890785,0.139011904597282,0.061615932732821,0.045307446271181,-0.005778925493360,-0.073852412402630,0.047478742897511,0.050954531878233,0.002298513660207,0.091384768486023,0.026271158829331,0.063765905797482,-0.032488044351339));
res += mul(Get(s0,-dx,dy), float4x4(0.032442383468151,-0.171221673488617,-0.009344211779535,-0.027096714824438,-0.056769073009491,-0.070681937038898,-0.127124324440956,0.070352837443352,-0.159521371126175,0.084385320544243,-0.084490790963173,-0.040053471922874,0.038039252161980,0.053153738379478,-0.013953318819404,-0.029549928382039));
res += mul(Get(s0,0,-dy), float4x4(-0.058202572166920,0.016418341547251,0.074046313762665,-0.022378366440535,0.044834606349468,-0.116247624158859,0.091480255126953,0.009967233054340,0.026045149192214,0.139778599143028,0.081979103386402,0.017363732680678,-0.105587877333164,-0.052042890340090,0.139244601130486,-0.176169782876968));
res += mul(Get(s0,0,0), float4x4(0.206029176712036,-0.067940086126328,0.029251836240292,0.114733383059502,0.118598304688931,-0.056926302611828,-0.087358646094799,-0.000944322324358,0.021988250315189,0.042026475071907,0.029064133763313,-0.158882781863213,-0.216869398951530,0.085389174520969,-0.046224139630795,0.014694201759994));
res += mul(Get(s0,0,dy), float4x4(-0.093719273805618,-0.031700327992439,0.009287085384130,-0.021242927759886,-0.055269934237003,0.044212900102139,-0.065502263605595,-0.062990337610245,0.062854468822479,0.037659496068954,-0.039907775819302,0.164372608065605,-0.146417111158371,0.078708231449127,0.047605026513338,0.009769324213266));
res += mul(Get(s0,dx,-dy), float4x4(-0.055085707455873,-0.175263583660126,-0.011162786744535,-0.000067472428782,0.053151313215494,-0.099714644253254,0.027143081650138,0.075765818357468,0.095701776444912,-0.098421275615692,-0.037883784621954,0.093727461993694,0.064210861921310,-0.024391101673245,-0.084307730197906,0.048650559037924));
res += mul(Get(s0,dx,0), float4x4(-0.120984084904194,0.066158398985863,-0.243407562375069,0.062061294913292,-0.156942382454872,-0.025015087798238,0.237160325050354,0.152999699115753,-0.090150676667690,-0.199424773454666,-0.198925957083702,-0.186602011322975,-0.037152577191591,-0.078906379640102,-0.021524602547288,-0.155370920896530));
res += mul(Get(s0,dx,dy), float4x4(0.171796336770058,0.013553799130023,0.010365094058216,-0.097062148153782,-0.048054553568363,-0.228222042322159,-0.091048046946526,0.056937485933304,0.026728143915534,0.100634999573231,-0.010559744201601,-0.131925284862518,-0.081488229334354,-0.017644101753831,0.019177697598934,0.098924539983273));
res += mul(Get(s1,-dx,-dy), float4x4(-0.038772199302912,0.080884493887424,0.023561913520098,-0.044663306325674,-0.094070568680763,-0.052203770726919,0.041010912507772,-0.074921496212482,0.013831363990903,-0.032430332154036,0.101670175790787,-0.086851619184017,-0.028893208131194,0.068195059895515,-0.054406143724918,0.027900230139494));
res += mul(Get(s1,-dx,0), float4x4(-0.050980467349291,0.164270192384720,-0.022849980741739,-0.023946696892381,0.112588152289391,-0.024864068254828,0.230188533663750,0.027606593444943,-0.113562934100628,0.072120130062103,0.000513318344019,-0.167927339673042,-0.081928841769695,0.094860032200813,-0.026734044775367,-0.035310640931129));
res += mul(Get(s1,-dx,dy), float4x4(0.014385500922799,0.115410372614861,0.085886374115944,0.085646517574787,0.065633624792099,0.123417757451534,0.121485151350498,0.275411516427994,-0.108144968748093,0.002273472491652,-0.077652886509895,-0.009964764118195,0.071704752743244,0.076986156404018,0.018673511222005,0.124744743108749));
res += mul(Get(s1,0,-dy), float4x4(0.087345831096172,-0.184660136699677,0.067639283835888,0.220319867134094,-0.113310217857361,-0.027465501800179,-0.069416530430317,0.074831195175648,0.020789271220565,-0.076914012432098,-0.059475485235453,0.077194131910801,-0.029927240684628,-0.100224606692791,0.018836405128241,0.011729246936738));
res += mul(Get(s1,0,0), float4x4(0.013949536718428,0.058161672204733,0.100015543401241,0.056286618113518,0.173964381217957,0.078657470643520,-0.008728645741940,0.141682103276253,0.132225960493088,0.059010770171881,-0.235662370920181,0.279522925615311,-0.324855148792267,-0.006581172812730,-0.025016225874424,0.117397092282772));
res += mul(Get(s1,0,dy), float4x4(-0.069199040532112,-0.285963952541351,-0.060505248606205,0.088811963796616,0.086507275700569,0.026635678485036,-0.124866485595703,0.080297715961933,0.000451631494798,-0.074728071689606,-0.034443538635969,-0.031152823939919,0.188273847103119,0.043323285877705,-0.019580781459808,0.026155587285757));
res += mul(Get(s1,dx,-dy), float4x4(0.086582556366920,-0.170974314212799,0.002659697784111,-0.103833273053169,0.150747105479240,-0.105668902397156,-0.048030193895102,-0.118517741560936,0.089715972542763,0.075205989181995,-0.102514103055000,0.000810486322735,-0.029098866507411,-0.113784901797771,-0.039409052580595,0.081980787217617));
res += mul(Get(s1,dx,0), float4x4(-0.078602276742458,-0.086257621645927,0.119059801101685,0.077891461551189,0.118254356086254,-0.128411561250687,0.069038078188896,-0.156428888440132,-0.038164492696524,0.124427013099194,-0.199413046240807,0.271348208189011,0.041449680924416,-0.018791049718857,-0.016438735648990,-0.172734409570694));
res += mul(Get(s1,dx,dy), float4x4(-0.085292838513851,0.008276656270027,-0.029801070690155,0.085620410740376,0.053381074219942,0.125717341899872,-0.141937315464020,0.042193096131086,-0.009699915535748,0.193758293986320,-0.006625023204833,-0.103477470576763,-0.055545419454575,-0.138812541961670,-0.085950627923012,-0.076805464923382));
res += mul(Get(s2,-dx,-dy), float4x4(0.016344334930182,-0.022420600056648,-0.125767201185226,-0.138106867671013,0.311103940010071,0.011408083140850,-0.020337359979749,-0.081734821200371,0.157401993870735,-0.009877526201308,-0.138900399208069,-0.119687840342522,-0.036826677620411,0.047456085681915,0.017427384853363,-0.045280069112778));
res += mul(Get(s2,-dx,0), float4x4(-0.027580136433244,0.022383524104953,-0.109388306736946,-0.151504456996918,-0.078484579920769,0.091686204075813,0.075478821992874,-0.047781486064196,0.100694812834263,0.013308556750417,-0.043285854160786,0.078987672924995,-0.012476704083383,-0.010139533318579,-0.108884923160076,0.075500704348087));
res += mul(Get(s2,-dx,dy), float4x4(-0.006801771931350,0.032973442226648,0.051524240523577,0.094252705574036,-0.087831363081932,-0.006965732201934,0.153114750981331,0.070201016962528,-0.097692213952541,0.022118896245956,0.034752339124680,-0.042375203222036,-0.045049354434013,-0.056185755878687,-0.009261370636523,-0.103550635278225));
res += mul(Get(s2,0,-dy), float4x4(-0.043385624885559,0.070135124027729,0.010396396741271,0.101474113762379,-0.105881139636040,-0.073104158043861,0.008506499230862,0.006836635526270,-0.019674466922879,-0.020974684506655,0.132949396967888,-0.028158137574792,-0.022173924371600,-0.075164258480072,-0.024377042427659,0.074926622211933));
res += mul(Get(s2,0,0), float4x4(-0.110614173114300,0.096373647451401,0.094119988381863,-0.010846520774066,-0.099399492144585,-0.050766751170158,-0.040333926677704,0.100124485790730,-0.046753004193306,-0.153034061193466,0.044356942176819,-0.042797490954399,0.009605918079615,-0.144125953316689,-0.041538890451193,0.078822918236256));
res += mul(Get(s2,0,dy), float4x4(-0.046439271420240,-0.021687285974622,0.117430038750172,-0.097615234553814,-0.013170709833503,-0.064670339226723,0.021883670240641,-0.097945600748062,-0.009736602194607,-0.053714666515589,0.177646949887276,-0.107318416237831,-0.075091861188412,-0.083750672638416,-0.039079170674086,0.064730353653431));
res += mul(Get(s2,dx,-dy), float4x4(0.029928129166365,0.096417136490345,-0.076669476926327,0.103683918714523,0.034948252141476,-0.109033502638340,-0.081721045076847,0.155671134591103,-0.062781430780888,-0.103365421295166,-0.077009424567223,-0.081497862935066,0.132532030344009,-0.061528205871582,-0.023336829617620,0.036093134433031));
res += mul(Get(s2,dx,0), float4x4(-0.017803614959121,0.103626981377602,-0.106830880045891,0.190541863441467,0.012050305493176,0.124038755893707,0.013027214445174,-0.029533065855503,-0.074093215167522,0.068776324391365,0.006459542550147,-0.022953614592552,0.050602685660124,-0.013855508528650,-0.006776214111596,-0.177745819091797));
res += mul(Get(s2,dx,dy), float4x4(0.159028291702271,-0.014268777333200,-0.181623056530952,0.068063244223595,-0.133924528956413,-0.209501653909683,-0.009932439774275,-0.070042319595814,0.015162034891546,-0.039309125393629,-0.035723753273487,0.211853757500648,-0.285566240549088,0.041273448616266,0.131141677498817,-0.006446962710470));
res += mul(Get(s3,-dx,-dy), float4x4(-0.067475095391273,0.024249074980617,-0.036520324647427,0.060197643935680,0.180790156126022,-0.039633169770241,-0.129793077707291,0.071270652115345,-0.043554760515690,0.019673949107528,0.054364509880543,-0.118291109800339,-0.082065217196941,-0.155980080366135,0.045432802289724,-0.189719244837761));
res += mul(Get(s3,-dx,0), float4x4(0.059129219502211,0.087351620197296,0.000058879744756,-0.177500784397125,-0.200330615043640,-0.003308671526611,0.082743473351002,-0.154285341501236,0.069603137671947,0.010834671556950,-0.085793949663639,0.013914903625846,-0.115122966468334,-0.024201247841120,0.175117015838623,0.174079939723015));
res += mul(Get(s3,-dx,dy), float4x4(0.094039477407932,0.005770202726126,-0.166076496243477,-0.038208182901144,-0.099688217043877,-0.093050569295883,-0.047264713793993,-0.128041669726372,0.042905159294605,0.009290613234043,-0.097739666700363,0.029915506020188,-0.167780801653862,0.106394790112972,0.159981861710548,-0.042481832206249));
res += mul(Get(s3,0,-dy), float4x4(-0.141613930463791,0.102879747748375,0.020374637097120,0.120775312185287,0.045840106904507,-0.010483323596418,-0.026987005025148,0.113268762826920,-0.009233210235834,-0.204714611172676,-0.041369207203388,-0.084663778543472,0.037742469459772,-0.143416926264763,-0.076037876307964,-0.097163319587708));
res += mul(Get(s3,0,0), float4x4(0.176104813814163,-0.017577107995749,0.010374704375863,0.006405257154256,0.062782682478428,0.047677230089903,0.005531006958336,-0.013509923592210,0.085050843656063,0.144513070583344,-0.047204095870256,0.114062890410423,-0.163719207048416,-0.185753032565117,0.138231441378593,0.014585510827601));
res += mul(Get(s3,0,dy), float4x4(-0.000739482056815,-0.028519900515676,-0.061314031481743,0.137483656406403,-0.209051236510277,0.163739934563637,0.102333322167397,-0.181275650858879,-0.060865521430969,0.065308466553688,0.102954655885696,-0.061835866421461,-0.058665186166763,-0.013097213581204,0.045496828854084,-0.033464673906565));
res += mul(Get(s3,dx,-dy), float4x4(-0.151330679655075,0.082026116549969,0.035330023616552,-0.034105688333511,0.134931281208992,-0.049268048256636,0.026050223037601,-0.010777113959193,0.140691295266151,-0.041088514029980,0.102583795785904,-0.188236400485039,-0.042499575763941,-0.119650736451149,0.019562114030123,0.064304426312447));
res += mul(Get(s3,dx,0), float4x4(-0.042411632835865,0.032996568828821,-0.030003327876329,0.127983435988426,-0.174057736992836,-0.034654174000025,-0.147632077336311,-0.008985740132630,0.009638040326536,-0.057317830622196,0.028502888977528,-0.002148630563170,-0.106087207794189,-0.036351371556520,0.107445053756237,0.111152149736881));
res += mul(Get(s3,dx,dy), float4x4(-0.062217805534601,0.014455881901085,-0.026633523404598,0.016866354271770,-0.144812569022179,0.028381358832121,0.134778290987015,-0.080455958843231,-0.190949425101280,-0.064984589815140,0.113950312137604,0.084175974130630,-0.009918131865561,-0.088432662189007,-0.037450529634953,0.046924103051424));
res = max(float4(0,0,0,0), res);
return res;
}
