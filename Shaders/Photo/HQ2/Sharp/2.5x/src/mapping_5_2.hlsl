sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.070044808089733,-0.265736818313599,0.143823727965355,0.037613250315189,0.152817204594612,-0.110524110496044,0.084384262561798,0.045483324676752,0.031351432204247,-0.024812061339617,0.136663317680359,0.014838105998933,0.080735683441162,-0.067881472408772,-0.023713968694210,-0.066526606678963));
res += mul(Get(s0,-dx,0), float4x4(-0.185863971710205,0.153194263577461,-0.173045456409454,-0.105739094316959,-0.111081928014755,0.165653035044670,-0.058086436241865,0.081945449113846,0.050787750631571,0.083670817315578,0.043293036520481,0.037253770977259,0.031383361667395,-0.206502407789230,-0.215338855981827,0.083804383873940));
res += mul(Get(s0,-dx,dy), float4x4(0.000958898628596,-0.100428730249405,-0.044753693044186,0.087682068347931,-0.034052696079016,-0.031817927956581,-0.032399199903011,-0.026486089453101,-0.011452487669885,0.157271757721901,-0.031393896788359,0.068002164363861,0.056579865515232,-0.103496864438057,0.032647594809532,0.055576421320438));
res += mul(Get(s0,0,-dy), float4x4(0.119589939713478,-0.063678555190563,0.026404077187181,0.093647159636021,-0.084439858794212,-0.077749967575073,-0.060294080525637,-0.068585380911827,-0.025139831006527,-0.016732497140765,-0.041123863309622,-0.051552701741457,0.027600107714534,0.022742995992303,0.075925379991531,-0.001963421702385));
res += mul(Get(s0,0,0), float4x4(-0.004461823496968,0.088622488081455,0.036102600395679,0.033643711358309,-0.067544460296631,-0.139185070991516,-0.014454665593803,0.151107966899872,-0.122920766472816,-0.084867872297764,0.042060416191816,-0.023251721635461,0.008896949701011,0.114520214498043,-0.003221963997930,0.056923255324364));
res += mul(Get(s0,0,dy), float4x4(0.145003959536552,-0.060865737497807,0.065720096230507,-0.027983056381345,-0.015375438146293,-0.034449514001608,-0.085997775197029,0.154205471277237,0.033211145550013,0.029775416478515,0.095605276525021,-0.034318808466196,0.157320499420166,0.101197570562363,-0.178508564829826,0.201592102646828));
res += mul(Get(s0,dx,-dy), float4x4(-0.031918805092573,-0.091349378228188,0.020866537466645,-0.058603435754776,0.020240029320121,0.155096799135208,0.117476530373096,0.224366500973701,0.160578384995461,-0.116331733763218,0.075686693191528,-0.200335621833801,0.031189791858196,-0.163538604974747,-0.201173618435860,-0.063385330140591));
res += mul(Get(s0,dx,0), float4x4(-0.034267049282789,0.073191851377487,-0.189067617058754,-0.155998855829239,0.026427850127220,0.057493556290865,-0.116628393530846,-0.108444757759571,0.070681519806385,0.085847683250904,0.181058660149574,-0.085086010396481,0.053936645388603,-0.038750536739826,0.173117771744728,0.252774149179459));
res += mul(Get(s0,dx,dy), float4x4(-0.067984431982040,-0.025761105120182,0.036515116691589,-0.011298655532300,-0.083365917205811,-0.107956849038601,-0.026812640950084,-0.139606416225433,-0.011751494370401,-0.095488034188747,-0.094924002885818,0.003574734320864,0.077853359282017,-0.005923097487539,-0.135681927204132,0.175964504480362));
res += mul(Get(s1,-dx,-dy), float4x4(0.108852267265320,0.006667332258075,0.059624429792166,0.099763773381710,0.184172078967094,-0.033491842448711,-0.041272699832916,-0.165140539407730,0.001527278102003,0.072909176349640,-0.064695850014687,0.087342262268066,0.010721028782427,0.033777680248022,0.016078826040030,-0.148540586233139));
res += mul(Get(s1,-dx,0), float4x4(-0.033655412495136,0.020930418744683,-0.044563841074705,-0.236321091651917,-0.056258700788021,-0.092788212001324,0.003460699226707,-0.089035086333752,0.041162967681885,0.169520229101181,0.108988113701344,-0.029506947845221,-0.196878179907799,0.188921228051186,0.159626752138138,-0.060569029301405));
res += mul(Get(s1,-dx,dy), float4x4(0.032086674124002,0.008915181271732,-0.025787454098463,-0.075125284492970,0.007083707489073,0.060022275894880,-0.008930568583310,-0.046301640570164,-0.110057681798935,0.114648804068565,-0.106920570135117,0.098122984170914,-0.008966718800366,0.090314045548439,0.136819407343864,-0.026486583054066));
res += mul(Get(s1,0,-dy), float4x4(-0.000078039593063,-0.040388088673353,-0.092601098120213,-0.164214447140694,0.032028518617153,-0.104837983846664,-0.269818931818008,0.083513602614403,0.010908339172602,0.159670054912567,-0.155290752649307,-0.055112253874540,-0.078122951090336,0.022898508235812,0.011962006799877,0.134301170706749));
res += mul(Get(s1,0,0), float4x4(-0.031951390206814,-0.020323475822806,0.036808565258980,-0.019665408879519,0.014601090922952,-0.153858169913292,-0.110615544021130,-0.025739477947354,0.001357509056106,-0.048777565360069,0.019866302609444,0.065611205995083,0.232293754816055,0.102098494768143,0.083341784775257,-0.105189815163612));
res += mul(Get(s1,0,dy), float4x4(-0.002681083511561,-0.079756163060665,-0.020246423780918,-0.134988576173782,0.165163651108742,-0.134909614920616,-0.054536569863558,-0.076990887522697,0.091836802661419,0.091129913926125,0.074322320520878,-0.161309033632278,0.008638417348266,-0.051598668098450,0.113526076078415,0.102499119937420));
res += mul(Get(s1,dx,-dy), float4x4(0.030715519562364,-0.061701163649559,-0.123652666807175,-0.083232760429382,-0.032989710569382,0.061987474560738,0.044949613511562,0.037552557885647,0.047255236655474,-0.019118286669254,0.099341444671154,-0.014250416308641,0.038973752409220,-0.132506147027016,0.150478333234787,-0.027102759107947));
res += mul(Get(s1,dx,0), float4x4(-0.102397114038467,0.100590810179710,-0.031856700778008,0.103935845196247,0.128869384527206,0.215171471238136,0.060769606381655,-0.161076590418816,0.204244300723076,-0.138458594679832,0.037307105958462,0.026469115167856,0.040017168968916,-0.065293408930302,-0.008522389456630,-0.064699880778790));
res += mul(Get(s1,dx,dy), float4x4(0.177528858184814,-0.121740251779556,-0.006527196615934,-0.143770381808281,-0.077067404985428,-0.062868736684322,0.035118266940117,-0.012636252678931,0.107016600668430,-0.039234180003405,0.063683152198792,-0.126648664474487,-0.001575586153194,-0.118856675922871,0.129765793681145,-0.035579271614552));
res += mul(Get(s2,-dx,-dy), float4x4(-0.183283448219299,0.097723588347435,0.107698075473309,0.208823695778847,-0.152725428342819,-0.037936486303806,0.019317524507642,-0.048877619206905,-0.092302523553371,-0.058491326868534,-0.023060182109475,0.026375366374850,0.034337162971497,0.066692844033241,0.043572891503572,-0.020203081890941));
res += mul(Get(s2,-dx,0), float4x4(0.204629614949226,-0.014186120592058,0.097486935555935,-0.066666141152382,-0.073740079998970,0.042386867105961,0.045039899647236,0.211644574999809,-0.102490179240704,-0.090797409415245,-0.138862520456314,-0.094725005328655,-0.148936420679092,0.123635403811932,0.015256733633578,0.235627740621567));
res += mul(Get(s2,-dx,dy), float4x4(0.042908389121294,-0.119736604392529,0.118119224905968,0.149563387036324,-0.080422535538673,0.010841260664165,-0.002919983118773,0.008494789712131,-0.033350855112076,0.123214341700077,0.021895537152886,0.123385317623615,-0.150450512766838,0.090685687959194,-0.061675075441599,0.075282588601112));
res += mul(Get(s2,0,-dy), float4x4(-0.071135334670544,-0.021573668345809,-0.011491693556309,0.002625748282298,0.007634348236024,-0.051436856389046,-0.087021209299564,0.076647147536278,0.079604193568230,0.018073983490467,0.098266668617725,-0.009270567446947,0.100780971348286,-0.116779066622257,0.009557615034282,0.053559280931950));
res += mul(Get(s2,0,0), float4x4(-0.025116067379713,-0.085851319134235,0.060040671378374,-0.054043963551521,0.008341384120286,0.101945601403713,0.047828875482082,0.097538597881794,0.021372670307755,0.034918580204248,0.002627260517329,0.088267683982849,-0.010421689599752,-0.026752768084407,0.109452128410339,0.047374408692122));
res += mul(Get(s2,0,dy), float4x4(0.153283894062042,-0.032715249806643,0.107975862920284,0.066813379526138,-0.014668087475002,-0.143040284514427,0.093022011220455,-0.098534315824509,0.030520129948854,0.019854301586747,-0.060358013957739,0.005793943069875,-0.027858868241310,-0.162158399820328,-0.007414132356644,0.226367861032486));
res += mul(Get(s2,dx,-dy), float4x4(0.017101092264056,0.143170297145844,-0.042908757925034,0.006595313083380,0.073365189135075,0.256443321704865,0.027641814202070,0.140631914138794,-0.081586696207523,0.085382074117661,0.060950279235840,0.020958028733730,0.031564753502607,0.058339823037386,0.067982368171215,0.047301750630140));
res += mul(Get(s2,dx,0), float4x4(0.024041475728154,0.151085346937180,-0.129588052630424,-0.009380243718624,-0.038213234394789,-0.036041587591171,-0.022187588736415,0.091612897813320,-0.076923169195652,0.184659838676453,0.118654087185860,-0.054006017744541,-0.007400766946375,0.190816864371300,-0.008186661638319,0.065201707184315));
res += mul(Get(s2,dx,dy), float4x4(-0.036416668444872,-0.076063521206379,0.065620280802250,0.047924593091011,0.025966854766011,0.040165811777115,-0.004844149574637,-0.083106227219105,0.057655818760395,0.073874868452549,0.038909483700991,-0.049528174102306,0.023187566548586,0.159978538751602,0.056753374636173,-0.068676084280014));
res += mul(Get(s3,-dx,-dy), float4x4(0.050103392452002,0.092086121439934,-0.062484283000231,-0.003982656635344,-0.060854129493237,0.101641640067101,0.171788036823273,0.049692440778017,0.046432033181190,0.080895639955997,-0.035992972552776,-0.025814989581704,-0.014764009974897,0.054007027298212,-0.091484144330025,-0.062760666012764));
res += mul(Get(s3,-dx,0), float4x4(-0.162890270352364,-0.094739638268948,-0.120584808290005,-0.107279896736145,-0.009958035312593,0.042561266571283,0.075482264161110,0.037229910492897,-0.246772259473801,0.134287238121033,0.110065035521984,-0.119060710072517,0.077576830983162,-0.095989853143692,0.056885596364737,0.052942290902138));
res += mul(Get(s3,-dx,dy), float4x4(0.003132940968499,-0.074681609869003,-0.245057448744774,0.052010931074619,0.116879023611546,-0.175048604607582,-0.020586526021361,-0.023578060790896,-0.021278308704495,-0.067726649343967,0.094573877751827,-0.140800625085831,0.013708776794374,-0.051103778183460,-0.025505673140287,-0.074667856097221));
res += mul(Get(s3,0,-dy), float4x4(0.000704640173353,0.018508084118366,0.073564037680626,-0.067789748311043,0.061068210750818,-0.090243212878704,-0.051830545067787,0.175335258245468,0.045968629419804,0.043689761310816,0.031063118949533,-0.204539358615875,-0.179713591933250,-0.071327231824398,0.046109907329082,0.017809970304370));
res += mul(Get(s3,0,0), float4x4(0.046109173446894,-0.012049004435539,0.035814195871353,0.135327607393265,0.033699426800013,-0.089003674685955,-0.039057765156031,0.005717922002077,-0.170015379786491,0.179975792765617,-0.124519027769566,0.133905872702599,0.036203447729349,-0.055851075798273,0.036756664514542,-0.154215767979622));
res += mul(Get(s3,0,dy), float4x4(0.027732610702515,0.086965985596180,0.074338339269161,0.097638428211212,-0.145583093166351,-0.144450590014458,0.035801924765110,0.030914010480046,0.067015476524830,-0.056669406592846,0.021102713420987,-0.228007227182388,0.056359466165304,-0.035670436918736,0.070815764367580,-0.004073061048985));
res += mul(Get(s3,dx,-dy), float4x4(-0.125417560338974,0.132196664810181,0.056653823703527,-0.005582158453763,-0.000988598912954,-0.026675794273615,0.007503015920520,-0.030630791559815,0.013486951589584,0.076216466724873,0.087508052587509,0.223295196890831,0.017277520149946,-0.088223837316036,0.113390691578388,0.092357158660889));
res += mul(Get(s3,dx,0), float4x4(0.014232680201530,-0.025068379938602,-0.179460406303406,-0.036156456917524,0.117141455411911,0.006311937235296,-0.091701947152615,0.035596020519733,0.111781276762486,0.135434225201607,-0.007966845296323,0.054290596395731,-0.000627492321655,-0.068168029189110,0.050988629460335,-0.004462250508368));
res += mul(Get(s3,dx,dy), float4x4(-0.100930772721767,-0.007493725977838,0.009780218824744,-0.138543039560318,-0.212354704737663,0.130509942770004,-0.040426321327686,-0.096615105867386,0.063040636479855,-0.101596780121326,-0.124974228441715,-0.229919284582138,0.006612895987928,0.043275091797113,0.051365252584219,0.107424162328243));
res = max(float4(0,0,0,0), res);
return res;
}
