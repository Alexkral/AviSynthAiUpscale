sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.015600685961545,0.078042477369308,-0.167340770363808,0.140695795416832,0.019599815830588,0.064602904021740,-0.005913120228797,0.034895431250334,0.064096793532372,0.037894848734140,0.076509371399879,-0.013426367193460,0.093208432197571,0.077985234558582,-0.089435011148453,-0.046521712094545));
res += mul(Get(s0,-dx,0), float4x4(-0.172706961631775,-0.146125346422195,0.001365054398775,-0.113012492656708,-0.013004339300096,-0.041440576314926,-0.059473410248756,-0.000858523999341,-0.083036176860332,-0.066333718597889,0.016621291637421,0.020099239423871,0.001246519503184,-0.021975396201015,0.013552412390709,-0.093148157000542));
res += mul(Get(s0,-dx,dy), float4x4(-0.069324500858784,-0.008572299033403,-0.152329564094543,-0.014887589961290,-0.008738005533814,-0.139106646180153,-0.194703608751297,-0.064160674810410,0.064097389578819,-0.078374236822128,-0.231717079877853,-0.099685147404671,0.108760043978691,-0.019959289580584,-0.124845758080482,0.028696477413177));
res += mul(Get(s0,0,-dy), float4x4(0.004633198957890,0.013762779533863,-0.011157812550664,-0.045294776558876,0.247756540775299,0.053099952638149,-0.020458480343223,0.016433591023088,0.055385366082191,-0.021223042160273,-0.106290780007839,-0.156592354178429,0.099429272115231,0.061033517122269,-0.083205118775368,-0.140063047409058));
res += mul(Get(s0,0,0), float4x4(-0.202087447047234,-0.004284779075533,-0.100992418825626,0.090726867318153,0.058594804257154,-0.092473119497299,0.123244516551495,-0.032649219036102,0.049557235091925,-0.131175830960274,0.162305906414986,-0.106636412441730,0.012997865676880,0.149832114577293,-0.077558852732182,-0.137523427605629));
res += mul(Get(s0,0,dy), float4x4(-0.098490275442600,-0.063652701675892,0.124631427228451,0.115557745099068,-0.090333566069603,-0.027753636240959,0.033843792974949,-0.124711193144321,-0.009774332866073,0.187872067093849,-0.020236065611243,0.060128286480904,0.132526963949203,0.087124474346638,0.024788146838546,-0.037561610341072));
res += mul(Get(s0,dx,-dy), float4x4(0.014240600168705,-0.194489359855652,-0.039480973035097,0.116175279021263,-0.002833166392520,0.120432093739510,-0.114694423973560,-0.080038897693157,-0.024075759574771,0.050620824098587,-0.060048308223486,0.086389996111393,0.097955733537674,0.001551294233650,0.199713945388794,-0.235352814197540));
res += mul(Get(s0,dx,0), float4x4(-0.123986214399338,0.103204086422920,-0.015346965752542,0.126104876399040,0.118504300713539,0.089831724762917,0.098620168864727,-0.096453070640564,0.006904338020831,-0.076664440333843,0.029940376058221,-0.143627151846886,0.012085979804397,0.058586046099663,0.044068954885006,-0.081949472427368));
res += mul(Get(s0,dx,dy), float4x4(-0.078733228147030,0.085107564926147,0.045215297490358,-0.152281135320663,0.161352470517159,-0.034142289310694,-0.009632321074605,-0.088965535163879,-0.063694767653942,-0.000693596899509,0.059520542621613,0.034198861569166,-0.100238628685474,0.001795073971152,-0.096471659839153,-0.135648816823959));
res += mul(Get(s1,-dx,-dy), float4x4(0.119761250913143,-0.050833411514759,-0.177553996443748,-0.183024108409882,-0.101926550269127,-0.078157909214497,-0.006155632901937,-0.096313625574112,-0.012450341135263,-0.036484785377979,0.086281068623066,-0.080087743699551,-0.050642818212509,0.005605273414403,-0.029608355835080,0.073267146945000));
res += mul(Get(s1,-dx,0), float4x4(0.030290724709630,-0.096405439078808,-0.061957500874996,-0.093862041831017,-0.137554138898849,0.020935423672199,-0.082651592791080,-0.014814544469118,-0.088185474276543,0.080723337829113,-0.128002956509590,0.028049446642399,0.034005422145128,0.016110843047500,0.079176098108292,-0.210754647850990));
res += mul(Get(s1,-dx,dy), float4x4(-0.007082363124937,-0.115100078284740,0.154252201318741,-0.002461442491040,0.071224376559258,0.088309243321419,-0.048354655504227,-0.122037105262280,0.021305704489350,-0.002619388280436,0.090450577437878,0.185301184654236,0.122594915330410,0.157600998878479,0.032228387892246,0.112184680998325));
res += mul(Get(s1,0,-dy), float4x4(-0.023172495886683,-0.096006900072098,0.033254463225603,-0.035954318940639,-0.092662915587425,-0.170756712555885,-0.036043882369995,-0.043621465563774,-0.118999160826206,-0.054405603557825,-0.048508450388908,-0.062788292765617,0.075170740485191,-0.121042348444462,0.129922196269035,-0.006818200461566));
res += mul(Get(s1,0,0), float4x4(0.125147297978401,-0.019958380609751,-0.123943276703358,0.215261772274971,-0.113858439028263,-0.082285679876804,0.210182413458824,-0.037177558988333,0.093852564692497,0.019314102828503,-0.113084651529789,-0.016595672816038,-0.046268504112959,0.085312455892563,0.146008461713791,-0.062701851129532));
res += mul(Get(s1,0,dy), float4x4(0.063136376440525,-0.182639256119728,0.138433173298836,-0.021555265411735,-0.051873385906219,-0.099930517375469,-0.194318607449532,0.205734997987747,0.117447853088379,0.026063008233905,-0.000315307406709,-0.157144933938980,-0.187058746814728,-0.034580521285534,-0.043936196714640,-0.047317191958427));
res += mul(Get(s1,dx,-dy), float4x4(-0.135099142789841,-0.024208633229136,-0.073653981089592,-0.085136480629444,0.117031954228878,-0.049519848078489,0.152157679200172,0.060725279152393,-0.038817625492811,-0.188407152891159,0.011715052649379,0.117971263825893,-0.075080722570419,0.024724802002311,-0.026153191924095,0.107488125562668));
res += mul(Get(s1,dx,0), float4x4(-0.057483620941639,-0.168223679065704,-0.013019067235291,0.076280876994133,-0.118643112480640,-0.027761248871684,-0.024344947189093,-0.125072732567787,-0.128913655877113,-0.032155033200979,0.014617438428104,0.056773681193590,0.034277491271496,0.060461223125458,0.106570154428482,0.187844827771187));
res += mul(Get(s1,dx,dy), float4x4(-0.073662348091602,-0.046505007892847,-0.100986473262310,0.065287560224533,0.039776913821697,-0.105332955718040,0.074901618063450,-0.150330811738968,-0.030361086130142,0.164155602455139,0.018294701352715,0.086517825722694,-0.103141941130161,-0.022008830681443,0.208316281437874,0.098833538591862));
res += mul(Get(s2,-dx,-dy), float4x4(0.001345332013443,-0.065202616155148,0.130332320928574,0.181692823767662,0.020747445523739,0.131916314363480,-0.052479624748230,-0.011546359397471,0.114084973931313,-0.132823288440704,0.020136253908277,0.148364186286926,0.093633361160755,-0.139293178915977,0.030531639233232,-0.188195854425430));
res += mul(Get(s2,-dx,0), float4x4(0.141721740365028,0.065740592777729,0.005013861227781,-0.054682046175003,0.052997685968876,-0.061698764562607,0.003774679265916,0.010413622483611,-0.101442128419876,-0.030726613476872,0.068931542336941,0.165017202496529,-0.071846298873425,0.193785995244980,0.032923977822065,0.050103586167097));
res += mul(Get(s2,-dx,dy), float4x4(0.158343523740768,-0.011433715932071,0.022367080673575,-0.153600096702576,0.117086701095104,0.050664842128754,0.032487142831087,-0.080205947160721,0.032349184155464,0.165812268853188,0.054257631301880,-0.057862650603056,0.030014071613550,0.092659980058670,0.089938566088676,0.005073945969343));
res += mul(Get(s2,0,-dy), float4x4(0.017337629571557,0.009531675837934,0.161541759967804,-0.040601357817650,-0.258280336856842,0.142565637826920,-0.040272701531649,-0.027303120121360,-0.196090713143349,0.006302502937615,0.001569617306814,0.045773237943649,0.003921926487237,0.016154671087861,0.033804800361395,0.092010147869587));
res += mul(Get(s2,0,0), float4x4(0.178488746285439,0.060480911284685,-0.110998570919037,-0.108882963657379,-0.085585534572601,-0.006947362329811,-0.102218449115753,-0.003397372318432,0.004751202650368,0.144454672932625,-0.063587695360184,-0.102540738880634,-0.012942022643983,0.000329260656144,-0.136570230126381,0.025261338800192));
res += mul(Get(s2,0,dy), float4x4(0.053916998207569,0.091128364205360,-0.018984481692314,-0.112474337220192,0.136421024799347,0.033934794366360,-0.031925056129694,-0.036808352917433,-0.001737546641380,-0.108127675950527,-0.166669979691505,0.040672302246094,-0.047900024801493,0.103396937251091,0.086935773491859,0.059136513620615));
res += mul(Get(s2,dx,-dy), float4x4(0.071704871952534,-0.025642940774560,-0.080372005701065,-0.038175471127033,0.064094565808773,-0.010654812678695,-0.033080335706472,0.070159569382668,0.122228696942329,-0.068980507552624,-0.099819593131542,-0.170673161745071,-0.069247640669346,0.061083007603884,-0.107417523860931,-0.107109360396862));
res += mul(Get(s2,dx,0), float4x4(0.055196441709995,-0.097985863685608,0.139509856700897,-0.151112303137779,0.020388241857290,-0.091846123337746,-0.119263723492622,-0.091578014194965,-0.084929578006268,0.155256092548370,-0.059523422271013,-0.174575492739677,-0.121627964079380,0.075923882424831,-0.049112446606159,0.079767353832722));
res += mul(Get(s2,dx,dy), float4x4(-0.048050537705421,0.043850801885128,-0.125635355710983,-0.091360673308372,0.048328697681427,-0.078782603144646,-0.132591828703880,0.045493762940168,0.040985252708197,-0.152498558163643,-0.028930621221662,-0.094340234994888,-0.045169733464718,0.139497175812721,-0.075272679328918,-0.010274939239025));
res += mul(Get(s3,-dx,-dy), float4x4(-0.094672076404095,0.129216462373734,0.066548876464367,-0.066285558044910,-0.012043304741383,0.012321026064456,0.143272191286087,-0.044264402240515,-0.019962729886174,0.202683612704277,-0.076839722692966,-0.029756793752313,-0.031289804726839,0.195489332079887,0.162805035710335,-0.117199420928955));
res += mul(Get(s3,-dx,0), float4x4(-0.004520012997091,0.024125933647156,-0.173150539398193,0.114467740058899,-0.097009889781475,0.127801373600960,0.014879175461829,0.032258752733469,-0.041692242026329,0.036354985088110,-0.059799063950777,0.160937160253525,-0.018223406746984,0.198225662112236,-0.083947360515594,0.138659581542015));
res += mul(Get(s3,-dx,dy), float4x4(0.155097901821136,-0.135663494467735,0.062138330191374,0.074888966977596,0.222887337207794,0.019263541325927,-0.118287213146687,-0.051321174949408,0.116440869867802,0.080163314938545,-0.049359962344170,0.013159132562578,-0.053768843412399,-0.102823436260223,0.075542367994785,0.043106567114592));
res += mul(Get(s3,0,-dy), float4x4(-0.029269630089402,0.137804329395294,-0.076648622751236,-0.019393580034375,-0.143255457282066,-0.032296847552061,0.107933647930622,-0.036422360688448,0.052678473293781,-0.047295451164246,0.057069618254900,0.003893758403137,0.071021579205990,0.115836054086685,0.064921483397484,-0.037545524537563));
res += mul(Get(s3,0,0), float4x4(0.098823770880699,-0.100797720253468,-0.087733127176762,0.027393704280257,0.035442419350147,-0.003183130640537,0.060599848628044,0.164360448718071,0.154078155755997,-0.093066409230232,0.096056461334229,-0.120090827345848,0.097961358726025,-0.024373600259423,0.045746050775051,-0.106197632849216));
res += mul(Get(s3,0,dy), float4x4(0.050459392368793,-0.250894337892532,-0.135310664772987,-0.038121119141579,0.003009318839759,-0.187596842646599,0.042153380811214,-0.231978297233582,0.114129014313221,0.059938669204712,-0.191325753927231,-0.110359504818916,-0.067135132849216,-0.049833331257105,0.089153751730919,-0.075779356062412));
res += mul(Get(s3,dx,-dy), float4x4(0.135599359869957,0.038275305181742,-0.086530752480030,-0.084375321865082,-0.024512913078070,-0.154496163129807,-0.086690813302994,-0.074842542409897,-0.063971541821957,0.025868400931358,-0.042254459112883,-0.009226691909134,-0.042821925133467,-0.107231698930264,0.073209233582020,-0.070125930011272));
res += mul(Get(s3,dx,0), float4x4(-0.000730818719603,0.014925503171980,-0.128709450364113,0.022251389920712,-0.141175284981728,-0.114986456930637,0.025894356891513,-0.126404047012329,-0.036510650068521,-0.058404386043549,-0.146522417664528,-0.065338172018528,0.087349064648151,-0.038353107869625,0.029940037056804,-0.136038452386856));
res += mul(Get(s3,dx,dy), float4x4(-0.010056089609861,-0.059195190668106,-0.095256023108959,-0.026634966954589,0.110786713659763,-0.127063408493996,-0.087284497916698,0.202896744012833,0.124125398695469,-0.194882482290268,0.125155568122864,0.205267101526260,0.162094786763191,0.024454174563289,-0.069514937698841,0.153461441397667));
res = max(float4(0,0,0,0), res);
return res;
}
