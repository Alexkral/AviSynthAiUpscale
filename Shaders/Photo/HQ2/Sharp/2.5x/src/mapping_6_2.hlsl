sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.154971525073051,0.056071761995554,0.121296584606171,0.139884725213051,0.154138520359993,-0.084893748164177,-0.161330282688141,0.065838254988194,-0.176973819732666,0.171938434243202,0.148364171385765,-0.029892114922404,0.108186118304729,0.090797692537308,0.263838201761246,0.029427729547024));
res += mul(Get(s0,-dx,0), float4x4(-0.079830363392830,0.033975485712290,-0.019219752401114,0.019582770764828,-0.080924488604069,0.011097548529506,-0.170572057366371,0.026793094351888,0.019744735211134,-0.001682241912931,-0.037143863737583,0.090209983289242,0.107681185007095,0.034132566303015,-0.106359846889973,-0.204608961939812));
res += mul(Get(s0,-dx,dy), float4x4(-0.140455678105354,0.036417033523321,0.119786016643047,-0.056002464145422,-0.148311078548431,-0.070446245372295,-0.029459647834301,-0.075944334268570,0.162939503788948,0.244193926453590,0.016002099961042,0.056435797363520,0.008759081363678,-0.086177535355091,-0.234476611018181,-0.079662606120110));
res += mul(Get(s0,0,-dy), float4x4(-0.062489863485098,-0.000682948157191,-0.073432371020317,-0.034408837556839,-0.138083919882774,0.182142958045006,-0.088021345436573,-0.108741827309132,-0.121856033802032,-0.060522869229317,-0.007026626262814,0.049983713775873,0.009598469361663,-0.042078651487827,-0.023246867582202,0.134821295738220));
res += mul(Get(s0,0,0), float4x4(-0.168909415602684,-0.168332532048225,0.136262878775597,0.078915208578110,0.042935479432344,-0.052366957068443,-0.083237305283546,-0.085579916834831,0.103256948292255,-0.090791322290897,0.012420710176229,-0.010530766099691,-0.060520060360432,-0.082938693463802,-0.093412101268768,0.171379432082176));
res += mul(Get(s0,0,dy), float4x4(0.124534964561462,0.009537634439766,0.035739805549383,0.205303654074669,0.017584782093763,-0.026277514174581,0.026698188856244,-0.101046450436115,0.140386819839478,-0.139830783009529,-0.112981051206589,0.055135238915682,0.012701913714409,0.002797910943627,0.182668790221214,0.154234245419502));
res += mul(Get(s0,dx,-dy), float4x4(0.002982649486512,0.006031027063727,-0.116697683930397,0.062072955071926,0.002141513163224,0.147459238767624,0.004984214901924,-0.080366007983685,-0.086863577365875,-0.126417085528374,0.071053169667721,-0.072685800492764,-0.185810983181000,-0.025300292298198,0.058180924504995,-0.108573697507381));
res += mul(Get(s0,dx,0), float4x4(0.042069103568792,-0.103726342320442,0.055067915469408,-0.038554579019547,0.008384971879423,-0.023820035159588,0.087693654000759,-0.019570806995034,-0.003321012016386,0.031245321035385,-0.066082954406738,-0.012353882193565,0.048740457743406,0.077242046594620,0.027888482436538,-0.078761398792267));
res += mul(Get(s0,dx,dy), float4x4(0.051347408443689,0.129287049174309,0.034550532698631,-0.034226551651955,-0.025828886777163,0.202504113316536,-0.003555915318429,-0.098434843122959,0.025154903531075,-0.051898539066315,-0.104293681681156,-0.234482169151306,0.228454098105431,-0.308452546596527,-0.043128848075867,-0.016922920942307));
res += mul(Get(s1,-dx,-dy), float4x4(0.106208220124245,0.195720836520195,-0.014430160634220,-0.004984747152776,0.098131082952023,-0.099511936306953,0.103852480649948,0.088268369436264,0.062372200191021,-0.095694571733475,-0.029656808823347,-0.120522022247314,-0.060106739401817,-0.000330669514369,-0.071847602725029,-0.026898244395852));
res += mul(Get(s1,-dx,0), float4x4(-0.165859609842300,-0.080277375876904,-0.192032903432846,-0.012930367141962,-0.080053746700287,-0.063659772276878,-0.027185864746571,0.136565804481506,-0.101372554898262,0.152319073677063,-0.149447351694107,-0.076478563249111,0.137103006243706,0.193911388516426,0.006142385303974,-0.189152196049690));
res += mul(Get(s1,-dx,dy), float4x4(0.126216709613800,0.071136496961117,-0.077833965420723,0.081825196743011,-0.118801206350327,-0.012006551027298,0.244708478450775,0.057364087551832,0.029501760378480,-0.009414013475180,0.023690238595009,-0.035950217396021,0.058009367436171,-0.011789939366281,-0.121994718909264,0.025288710370660));
res += mul(Get(s1,0,-dy), float4x4(-0.176065891981125,-0.197578653693199,0.088463835418224,0.008874647319317,-0.067778035998344,-0.009581929072738,-0.006934594362974,-0.165307968854904,0.019829357042909,0.145711719989777,-0.233088269829750,0.029535897076130,0.201583176851273,-0.000335862976499,0.067630931735039,-0.097518205642700));
res += mul(Get(s1,0,0), float4x4(0.120909869670868,0.131101861596107,-0.146722018718719,0.124571457505226,0.076003074645996,-0.031769931316376,0.094752982258797,0.185474157333374,-0.055087912827730,-0.098645389080048,0.040897510945797,-0.114475853741169,-0.041388783603907,0.117621332406998,0.097115829586983,0.065991252660751));
res += mul(Get(s1,0,dy), float4x4(0.001547134132124,-0.135165840387344,-0.091909311711788,0.041828613728285,0.090142637491226,-0.158157452940941,-0.016790000721812,-0.059713125228882,-0.038668662309647,0.127461969852448,0.094074450433254,0.101759850978851,-0.023983022198081,0.058160550892353,-0.002470155712217,-0.027590556070209));
res += mul(Get(s1,dx,-dy), float4x4(-0.154919728636742,0.163066014647484,0.020407095551491,0.012794670648873,0.007980575785041,-0.128167182207108,0.031727418303490,0.069166526198387,0.061391919851303,0.030570717528462,-0.061574164777994,-0.204901993274689,-0.027194086462259,-0.012105681933463,-0.055848307907581,0.085402354598045));
res += mul(Get(s1,dx,0), float4x4(-0.120886109769344,0.002232383470982,-0.016926327720284,-0.059570360928774,0.148604452610016,0.042740605771542,-0.144243285059929,-0.291959494352341,0.081788703799248,0.066043041646481,0.044524267315865,-0.005862575024366,-0.023615224286914,0.045487031340599,0.200023606419563,0.078687429428101));
res += mul(Get(s1,dx,dy), float4x4(0.017396256327629,-0.009164971299469,0.048524357378483,0.019600702449679,-0.017376812174916,0.024912741035223,0.038363344967365,0.246946737170219,-0.124622464179993,-0.145966246724129,0.026044176891446,0.010105434805155,0.113229572772980,0.063062950968742,-0.173474624752998,0.026627143844962));
res += mul(Get(s2,-dx,-dy), float4x4(0.103884853422642,-0.035672314465046,0.141076475381851,0.030460096895695,-0.045826651155949,0.054343581199646,-0.163461387157440,0.057811696082354,-0.059008970856667,-0.005116339772940,-0.076805114746094,-0.105066977441311,-0.204887449741364,0.092872031033039,0.003299152245745,-0.153204455971718));
res += mul(Get(s2,-dx,0), float4x4(0.410032093524933,-0.081314623355865,0.084951192140579,-0.019379060715437,-0.184782102704048,0.089406877756119,-0.101793237030506,0.160395994782448,-0.114137075841427,-0.007661907933652,0.147010222077370,-0.003708044765517,0.018554784357548,-0.042459357529879,-0.127340316772461,-0.100816309452057));
res += mul(Get(s2,-dx,dy), float4x4(0.130363509058952,0.111662603914738,0.117996908724308,0.058251246809959,0.001856041722931,-0.170279115438461,0.039735186845064,0.133896321058273,-0.018295321613550,-0.148423492908478,0.081268377602100,0.094823181629181,0.011367549188435,-0.056668214499950,0.119712024927139,-0.109091408550739));
res += mul(Get(s2,0,-dy), float4x4(-0.217743158340454,-0.056091733276844,0.124167397618294,-0.090404160320759,-0.100414916872978,0.201965376734734,0.004076728131622,-0.120768651366234,0.017907027155161,0.034443479031324,-0.028098810464144,-0.012614408507943,0.001210010959767,0.096990920603275,0.032878968864679,-0.236228257417679));
res += mul(Get(s2,0,0), float4x4(-0.073027007281780,0.032730057835579,-0.266194760799408,-0.012044063769281,0.032427094876766,0.002700640354306,0.055447231978178,0.023243587464094,-0.096031382679939,-0.101734511554241,0.014814764261246,0.104248858988285,0.324036151170731,-0.075309917330742,-0.015471148304641,-0.012554588727653));
res += mul(Get(s2,0,dy), float4x4(0.022864891216159,0.154783919453621,0.049168799072504,-0.024172587320209,-0.257647842168808,-0.237016066908836,0.078487314283848,0.051793757826090,-0.115985445678234,-0.022837474942207,0.061005715280771,0.051057670265436,0.048075050115585,0.011554450727999,0.054533246904612,0.029778778553009));
res += mul(Get(s2,dx,-dy), float4x4(-0.072139985859394,-0.235932826995850,-0.004631840623915,-0.037704460322857,0.017610710114241,-0.162961915135384,-0.118286520242691,-0.081199571490288,-0.048764776438475,0.123026870191097,-0.059692919254303,-0.058090537786484,0.064143508672714,0.038336757570505,-0.017182210460305,0.057186648249626));
res += mul(Get(s2,dx,0), float4x4(-0.038532618433237,0.134501099586487,-0.010141948238015,-0.032377991825342,-0.015626965090632,0.174490824341774,-0.008408593945205,-0.015595818869770,-0.174774348735809,0.023591021075845,-0.187185034155846,0.159972205758095,-0.020743060857058,0.090366542339325,-0.086905293166637,0.048894841223955));
res += mul(Get(s2,dx,dy), float4x4(-0.012288683094084,0.034278873354197,-0.078114740550518,-0.063621960580349,0.038143016397953,0.039697531610727,0.053086735308170,0.065512746572495,-0.187868610024452,0.124744586646557,0.042244389653206,0.035514324903488,-0.165978193283081,-0.057778097689152,-0.175313368439674,0.020074239000678));
res += mul(Get(s3,-dx,-dy), float4x4(0.123104907572269,-0.007757950574160,-0.040362492203712,-0.076552003622055,-0.095387071371078,0.028476675972342,0.132370039820671,-0.259332984685898,0.016970761120319,-0.000417846371420,0.039940688759089,-0.079924963414669,-0.000061145263317,0.099051289260387,-0.042560953646898,0.070211313664913));
res += mul(Get(s3,-dx,0), float4x4(0.111476518213749,-0.012823518365622,0.022364865988493,-0.094543419778347,-0.030508005991578,-0.009192304685712,0.040750108659267,-0.038059901446104,-0.053484879434109,-0.057831574231386,-0.210704416036606,0.066681869328022,-0.099849201738834,0.097514592111111,0.018571320921183,-0.102248802781105));
res += mul(Get(s3,-dx,dy), float4x4(0.040624313056469,-0.091405496001244,-0.104104146361351,0.048223014920950,-0.046515081077814,0.012898019514978,-0.205833911895752,0.019423883408308,-0.063682749867439,0.011793654412031,0.051447354257107,-0.056167114526033,-0.036841087043285,-0.048807874321938,0.141958698630333,-0.045772217214108));
res += mul(Get(s3,0,-dy), float4x4(-0.216215342283249,-0.074283212423325,-0.099836885929108,-0.071233943104744,0.109529010951519,0.115848891437054,0.097226560115814,0.117513135075569,0.119907468557358,-0.168550029397011,-0.246847197413445,0.010110990144312,-0.051127448678017,0.145866930484772,-0.047366019338369,-0.032898720353842));
res += mul(Get(s3,0,0), float4x4(0.064940340816975,-0.059639967978001,0.125025823712349,0.017236186191440,0.229596853256226,0.006285008043051,0.015740383416414,-0.027961427345872,0.066808708012104,-0.092834934592247,0.025041650980711,0.135514616966248,-0.026523094624281,-0.004860043991357,-0.071334958076477,-0.088110975921154));
res += mul(Get(s3,0,dy), float4x4(0.030508868396282,0.107886321842670,0.058571249246597,-0.054475970566273,-0.129390016198158,0.092762000858784,0.113783985376358,0.002321718493477,-0.074215404689312,-0.073410749435425,-0.011720908805728,-0.047460190951824,-0.009715024381876,-0.116325430572033,-0.145803287625313,0.066474169492722));
res += mul(Get(s3,dx,-dy), float4x4(0.211044713854790,0.107542626559734,0.079842396080494,-0.029619501903653,-0.021235104650259,-0.010885541327298,-0.176216587424278,0.054530326277018,0.087496973574162,-0.012223728932440,0.006462235469371,0.151333555579185,0.202787920832634,-0.106787942349911,0.165128320455551,0.099439434707165));
res += mul(Get(s3,dx,0), float4x4(0.001832906738855,0.163333490490913,-0.221466764807701,0.104410089552402,-0.025093754753470,-0.219550743699074,0.094220712780952,0.068818725645542,-0.036538120359182,0.029323471710086,0.082301981747150,-0.006597766187042,0.079551152884960,-0.110642395913601,0.074828624725342,-0.068504989147186));
res += mul(Get(s3,dx,dy), float4x4(-0.074245661497116,0.073055408895016,-0.064051255583763,-0.059912592172623,-0.186358228325844,-0.037366364151239,-0.043440662324429,0.122657664120197,-0.064976014196873,0.043047152459621,-0.054600838571787,-0.057532124221325,-0.048674184828997,-0.140561506152153,0.043706174939871,0.078251399099827));
res = max(float4(0,0,0,0), res);
return res;
}
