sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.062418173998594,-0.071565337479115,0.119378499686718,-0.021673316136003,0.106797404587269,0.098524868488312,-0.177092209458351,0.084276549518108,-0.126422971487045,0.015291296876967,-0.062459994107485,0.068515479564667,0.000334330601618,0.049068052321672,-0.105482436716557,-0.004201813135296));
res += mul(Get(s0,-dx,0), float4x4(-0.022384755313396,-0.043756816536188,-0.134794354438782,-0.008694142103195,-0.155501797795296,-0.104549899697304,-0.136013492941856,0.222303986549377,0.227959543466568,-0.027325743809342,-0.017381528392434,0.047774747014046,0.023353474214673,0.052228294312954,-0.096665866672993,-0.083865858614445));
res += mul(Get(s0,-dx,dy), float4x4(0.079573594033718,0.002733025932685,-0.090599849820137,-0.144111454486847,-0.068072564899921,0.147722914814949,0.049142841249704,-0.064585737884045,-0.027265289798379,-0.145051136612892,-0.035654783248901,-0.274340242147446,0.121830016374588,-0.049848455935717,-0.221416026353836,-0.080237954854965));
res += mul(Get(s0,0,-dy), float4x4(0.060101687908173,0.059151448309422,-0.221252828836441,0.049366381019354,0.045132633298635,-0.000029123082641,0.028360044583678,-0.071164332330227,0.061100170016289,0.036512337625027,-0.181487932801247,-0.047409985214472,0.118232995271683,0.013410286046565,0.157372072339058,-0.155659317970276));
res += mul(Get(s0,0,0), float4x4(-0.265135914087296,-0.040961675345898,0.057485695928335,-0.261759012937546,0.063684470951557,0.005031435750425,0.117178939282894,0.224671676754951,0.069464460015297,0.061904754489660,-0.081161662936211,-0.038756225258112,-0.024676011875272,-0.085335984826088,-0.082479365170002,0.081748284399509));
res += mul(Get(s0,0,dy), float4x4(0.121686972677708,0.031794559210539,-0.020100399851799,-0.057568646967411,-0.003148110583425,0.043405540287495,0.050865039229393,0.010636847466230,0.082516938447952,0.061527281999588,-0.106025978922844,-0.082444831728935,-0.207442492246628,0.023415012285113,-0.222440510988235,-0.185125768184662));
res += mul(Get(s0,dx,-dy), float4x4(-0.048130560666323,-0.202708572149277,-0.130121216177940,0.052536953240633,-0.048724580556154,0.029087336733937,0.004593375138938,0.111050434410572,-0.046786170452833,0.061148300766945,0.033168565481901,-0.068657480180264,-0.083593547344208,-0.039358265697956,-0.023972112685442,0.077912479639053));
res += mul(Get(s0,dx,0), float4x4(0.038945365697145,-0.069264054298401,-0.135565444827080,0.210164949297905,-0.108065202832222,0.237330377101898,-0.029160462319851,0.024288836866617,0.171881288290024,0.102563761174679,-0.005998011678457,-0.043734282255173,-0.176598265767097,0.179321929812431,0.088594123721123,-0.010918956249952));
res += mul(Get(s0,dx,dy), float4x4(-0.025129487738013,0.096225395798683,-0.103712968528271,-0.050087027251720,0.018939780071378,0.015404514968395,-0.131093189120293,0.071322374045849,0.024683378636837,-0.072010807693005,-0.054772425442934,-0.114469349384308,-0.138120770454407,0.039188601076603,-0.068690687417984,0.054912518709898));
res += mul(Get(s1,-dx,-dy), float4x4(0.006483569741249,-0.007961264811456,-0.030323646962643,-0.061450675129890,0.199676051735878,0.074108287692070,-0.102173976600170,-0.188796311616898,0.028429340571165,0.057740584015846,0.044316764920950,-0.091869533061981,-0.121877148747444,-0.155376881361008,0.070881336927414,0.001760552288033));
res += mul(Get(s1,-dx,0), float4x4(-0.073192439973354,-0.057408746331930,-0.025147030130029,0.067568086087704,-0.066341407597065,-0.075796097517014,-0.023181008175015,0.118720903992653,-0.076790064573288,0.035501353442669,0.057997789233923,-0.230198174715042,0.198884785175323,0.008527239784598,0.023291498422623,-0.015956144779921));
res += mul(Get(s1,-dx,dy), float4x4(0.124909281730652,-0.227692365646362,0.028264263644814,0.085615321993828,0.157600656151772,-0.046928510069847,-0.014970707707107,-0.082042768597603,0.133385956287384,0.091808997094631,-0.100589424371719,-0.128337129950523,0.110814049839973,0.074421420693398,0.123594842851162,0.124718002974987));
res += mul(Get(s1,0,-dy), float4x4(0.057428989559412,0.055791843682528,0.179145425558090,0.015948597341776,0.184067383408546,0.149523317813873,0.093075215816498,-0.055476646870375,-0.023081859573722,0.263834476470947,0.082434676587582,-0.033641450107098,0.057088155299425,-0.127530679106712,0.033934831619263,0.089497946202755));
res += mul(Get(s1,0,0), float4x4(-0.041910953819752,-0.020136436447501,-0.128982380032539,0.001414459664375,-0.020403845235705,0.070240020751953,0.128345206379890,-0.054610993713140,-0.090049803256989,-0.130929335951805,-0.071886464953423,0.290356308221817,0.102130807936192,0.011740144342184,0.021088916808367,0.088678143918514));
res += mul(Get(s1,0,dy), float4x4(0.013693122193217,0.039786193519831,0.128750383853912,-0.001217084936798,-0.049163106828928,0.007489697076380,0.086244300007820,0.016778497025371,0.018055263906717,-0.050825860351324,-0.222304925322533,-0.032567661255598,-0.112422198057175,-0.164046794176102,0.160072475671768,-0.053799916058779));
res += mul(Get(s1,dx,-dy), float4x4(0.054167386144400,-0.163979113101959,0.200047686696053,-0.006969768088311,-0.083637103438377,0.157317161560059,0.127366140484810,0.093274854123592,0.026458384469151,-0.015254250727594,-0.038165908306837,0.167761087417603,0.014189235866070,-0.105514265596867,0.010362067259848,0.078830964863300));
res += mul(Get(s1,dx,0), float4x4(0.054079808294773,0.122335650026798,0.119450218975544,0.020687764510512,0.088527113199234,0.033232837915421,0.061704516410828,-0.224186137318611,-0.062287338078022,-0.065287500619888,-0.041016779839993,0.063433572649956,0.069368474185467,0.049889829009771,0.051505304872990,-0.034862522035837));
res += mul(Get(s1,dx,dy), float4x4(-0.044042620807886,-0.005640940275043,-0.021215405315161,-0.034671105444431,0.019760780036449,0.039954558014870,-0.002686013933271,-0.015730084851384,0.096724912524223,0.031806170940399,0.006552975159138,0.180375948548317,0.065035149455070,0.176258057355881,-0.104902043938637,0.096057541668415));
res += mul(Get(s2,-dx,-dy), float4x4(0.061100754886866,0.124069698154926,0.083491668105125,0.012535654008389,0.111801326274872,-0.043495979160070,0.113448493182659,-0.085360258817673,0.032551843672991,-0.045169875025749,0.173288404941559,-0.092543892562389,0.160648092627525,0.140998214483261,0.040259189903736,-0.057110942900181));
res += mul(Get(s2,-dx,0), float4x4(0.070758059620857,0.018307426944375,-0.078175492584705,-0.026722954586148,-0.055043630301952,-0.056510668247938,0.220720440149307,-0.138844877481461,0.184040620923042,-0.132882520556450,0.050833933055401,-0.100477494299412,-0.064117483794689,0.070673219859600,0.113909892737865,-0.065870255231857));
res += mul(Get(s2,-dx,dy), float4x4(0.208163321018219,-0.064250424504280,0.087230063974857,-0.169675096869469,-0.093157358467579,-0.046443685889244,0.083220414817333,0.167443394660950,-0.005090898368508,0.024339495226741,0.010845487937331,0.129822283983231,0.079807952046394,-0.181586936116219,-0.127230986952782,0.111875630915165));
res += mul(Get(s2,0,-dy), float4x4(0.021749520674348,-0.142085120081902,-0.125012829899788,0.226250499486923,-0.161111727356911,-0.052628371864557,-0.161622628569603,0.082822270691395,0.078321285545826,-0.052918944507837,0.214113190770149,-0.095759995281696,-0.039928592741489,-0.020227968692780,0.183301687240601,0.201115757226944));
res += mul(Get(s2,0,0), float4x4(-0.157197922468185,0.073843941092491,0.020954247564077,0.069311179220676,0.022268733009696,0.188950866460800,0.013385974802077,-0.027874395251274,0.052511218935251,-0.062678746879101,-0.096877939999104,-0.170183569192886,0.133920013904572,0.235357284545898,-0.156715691089630,0.052735496312380));
res += mul(Get(s2,0,dy), float4x4(-0.158014729619026,0.033734090626240,-0.038091514259577,-0.042124930769205,-0.012690086849034,0.020494407042861,0.039674051105976,-0.042399868369102,-0.023606121540070,0.048947736620903,-0.052328467369080,-0.153165772557259,0.126013129949570,0.078693822026253,0.068572938442230,0.067892223596573));
res += mul(Get(s2,dx,-dy), float4x4(-0.123911127448082,-0.056403506547213,-0.007187771610916,0.021112542599440,-0.059944182634354,0.024331551045179,-0.058513514697552,0.099627532064915,0.177917167544365,-0.161424815654755,-0.162021353840828,-0.047320999205112,-0.070583097636700,-0.085777759552002,-0.153625339269638,-0.059425935149193));
res += mul(Get(s2,dx,0), float4x4(-0.126745566725731,-0.027347400784492,-0.139584660530090,-0.031898487359285,0.015644619241357,0.186416059732437,0.197338342666626,-0.183011323213577,-0.147879227995872,-0.269594937562943,0.026790104806423,0.056626003235579,-0.032802417874336,-0.059450875967741,0.108940370380878,-0.098967827856541));
res += mul(Get(s2,dx,dy), float4x4(-0.056283049285412,0.003117231186479,-0.055341124534607,-0.061227947473526,-0.028986608609557,-0.046107005327940,-0.005180969834328,-0.284131109714508,-0.064398348331451,0.162737950682640,0.055123515427113,-0.265170067548752,-0.044635653495789,-0.027354935184121,0.044157613068819,-0.009283869527280));
res += mul(Get(s3,-dx,-dy), float4x4(0.071766026318073,-0.029275257140398,0.117921777069569,0.079046256840229,-0.153422832489014,-0.076042309403419,0.060014206916094,0.056031472980976,0.102937392890453,0.076840989291668,0.063715957105160,-0.073277220129967,0.078475490212440,0.071716718375683,0.050811637192965,-0.073581591248512));
res += mul(Get(s3,-dx,0), float4x4(-0.236297234892845,-0.101490534842014,0.063256345689297,0.222955405712128,0.085640028119087,0.099615976214409,-0.106892757117748,0.015416287817061,-0.111237578094006,-0.042338740080595,-0.041687019169331,0.113240480422974,-0.129116714000702,0.105312280356884,0.082680650055408,-0.051255103200674));
res += mul(Get(s3,-dx,dy), float4x4(0.086688309907913,0.193293288350105,0.127219602465630,0.027934407815337,-0.043014597147703,-0.004720234312117,0.010778029449284,-0.014872175641358,0.206915184855461,-0.140408962965012,0.299795120954514,-0.060979463160038,-0.127366706728935,-0.069161444902420,-0.020713541656733,-0.000253205711488));
res += mul(Get(s3,0,-dy), float4x4(-0.158798217773438,0.102485373616219,-0.053963001817465,-0.097125403583050,-0.243260994553566,0.096072003245354,-0.041287507861853,0.087912209331989,-0.050628826022148,0.057423371821642,-0.043822798877954,0.004412704613060,-0.080313608050346,0.071394376456738,-0.103174522519112,0.128187671303749));
res += mul(Get(s3,0,0), float4x4(-0.209670200943947,0.042143352329731,-0.154450923204422,-0.097963586449623,0.146718516945839,0.047778896987438,0.041406508535147,0.108921281993389,-0.015341602265835,0.082493543624878,-0.015521369874477,0.297084033489227,-0.039339728653431,0.030532959848642,-0.116929352283478,0.015670189633965));
res += mul(Get(s3,0,dy), float4x4(-0.031597886234522,0.150083154439926,-0.196716725826263,-0.111244052648544,-0.109237134456635,-0.075224839150906,-0.036342158913612,-0.058415722101927,0.055547591298819,0.112349778413773,0.228664189577103,0.009391622617841,0.193603709340096,0.074067614972591,-0.096401520073414,-0.018946174532175));
res += mul(Get(s3,dx,-dy), float4x4(0.136448800563812,-0.094521731138229,0.204112499952316,0.063440397381783,-0.109802030026913,0.148230865597725,0.265995979309082,-0.224294677376747,0.149970054626465,-0.103643953800201,0.175971403717995,-0.099439725279808,-0.103396505117416,-0.270134598016739,-0.066079527139664,0.036254167556763));
res += mul(Get(s3,dx,0), float4x4(0.163477987051010,0.009745976887643,0.119177773594856,0.033503822982311,-0.149159714579582,0.139664918184280,-0.087987713515759,-0.069490633904934,-0.089107163250446,-0.060107436031103,-0.142600700259209,0.019798716530204,0.324961692094803,-0.110839374363422,-0.124332733452320,-0.090699233114719));
res += mul(Get(s3,dx,dy), float4x4(0.133866831660271,0.008305500261486,0.079926528036594,0.011599909514189,-0.016310418024659,0.111088700592518,0.102353990077972,-0.112699694931507,0.194811239838600,0.082178428769112,0.108078986406326,-0.144376754760742,-0.262519299983978,0.130544379353523,0.102835841476917,0.042203877121210));
res = max(float4(0,0,0,0), res);
return res;
}
