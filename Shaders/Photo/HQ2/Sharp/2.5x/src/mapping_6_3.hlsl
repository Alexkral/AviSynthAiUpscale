sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.106928758323193,0.149613499641418,0.171192988753319,-0.147919312119484,-0.188755944371223,-0.030040331184864,0.051866240799427,0.155123144388199,-0.123543992638588,0.198643997311592,-0.110747240483761,0.034286607056856,-0.087461471557617,0.057112019509077,-0.151474803686142,-0.096091009676456));
res += mul(Get(s0,-dx,0), float4x4(0.055226150900126,0.058836329728365,-0.085106432437897,-0.110844478011131,-0.033325593918562,-0.016879191622138,-0.095159851014614,-0.098464339971542,0.014451343566179,0.084220625460148,0.084927514195442,-0.221360638737679,-0.061242416501045,0.061934918165207,-0.062747240066528,0.089121222496033));
res += mul(Get(s0,-dx,dy), float4x4(-0.089419506490231,0.022382417693734,-0.058467339724302,-0.118115782737732,-0.178480103611946,0.058860179036856,0.024497708305717,-0.005924598779529,0.017796339467168,0.096441067755222,-0.077080562710762,0.191150709986687,0.025574581697583,-0.079085193574429,0.068857952952385,0.086171187460423));
res += mul(Get(s0,0,-dy), float4x4(-0.089379549026489,0.109277456998825,0.027180058881640,-0.073497146368027,-0.016425108537078,-0.040339417755604,-0.108445286750793,0.016791714355350,-0.072527833282948,-0.088579773902893,0.096929408609867,-0.133890584111214,-0.082273282110691,0.075969457626343,-0.052410475909710,-0.091295108199120));
res += mul(Get(s0,0,0), float4x4(0.105704300105572,0.004050230141729,0.028290966525674,0.061517912894487,-0.245403975248337,-0.123654827475548,-0.049059189856052,-0.100993894040585,0.366682767868042,0.079470187425613,0.089039750397205,-0.128158718347549,0.022452583536506,-0.028308859094977,0.006774738430977,-0.093738101422787));
res += mul(Get(s0,0,dy), float4x4(-0.042028810828924,-0.002421927172691,-0.196323931217194,-0.083480045199394,-0.077477872371674,0.057460177689791,0.175608128309250,0.024093855172396,0.121372029185295,0.055898532271385,0.135290592908859,-0.093445234000683,0.082455344498158,0.008252054452896,0.110737681388855,0.181108668446541));
res += mul(Get(s0,dx,-dy), float4x4(-0.120076410472393,-0.177352085709572,-0.105468161404133,0.206446811556816,-0.036205302923918,0.170298933982849,0.021971048787236,-0.208863914012909,0.094678483903408,0.133105456829071,0.043757747858763,-0.019513668492436,-0.032566409558058,0.089108042418957,0.158825665712357,0.064000591635704));
res += mul(Get(s0,dx,0), float4x4(0.004326886497438,0.113855063915253,-0.147264853119850,0.064818359911442,-0.034180764108896,-0.122297458350658,0.082626402378082,0.049308076500893,0.001454865792766,0.110289037227631,0.078812234103680,-0.134735539555550,-0.130386576056480,0.052433498203754,-0.009857363998890,-0.111201494932175));
res += mul(Get(s0,dx,dy), float4x4(-0.103151462972164,-0.025277553126216,0.025585168972611,-0.011727621778846,0.012714303098619,0.167514383792877,0.152129486203194,0.220323622226715,-0.190799921751022,-0.003055529901758,-0.041055429726839,0.310852020978928,0.015184455551207,0.132580041885376,-0.084552295506001,-0.031232403591275));
res += mul(Get(s1,-dx,-dy), float4x4(0.038550477474928,-0.043456744402647,-0.063211187720299,-0.080984264612198,-0.068449646234512,-0.063510328531265,-0.182663992047310,0.058064389973879,-0.063500188291073,0.072221197187901,0.091978915035725,0.036957480013371,-0.032395593822002,-0.235687196254730,-0.043561186641455,0.147841408848763));
res += mul(Get(s1,-dx,0), float4x4(-0.144809067249298,-0.118407189846039,0.204620435833931,0.065999343991280,0.031171113252640,-0.097707800567150,0.148286864161491,0.126417428255081,-0.026578364893794,0.178724929690361,0.033629041165113,-0.085358634591103,0.140021383762360,0.139238089323044,-0.028750844299793,-0.108573801815510));
res += mul(Get(s1,-dx,dy), float4x4(0.123429216444492,-0.047634419053793,-0.174912348389626,0.087425671517849,-0.106037646532059,-0.100989669561386,-0.034961730241776,-0.036305908113718,-0.013954283669591,0.085044354200363,-0.005774144083261,-0.144568666815758,0.243559852242470,0.017400851473212,-0.054663300514221,0.015258594416082));
res += mul(Get(s1,0,-dy), float4x4(-0.003102676942945,-0.005848877131939,0.022201064974070,0.060711599886417,0.020884869620204,0.056411720812321,-0.026819318532944,-0.089104689657688,0.021735189482570,0.078461170196533,0.126651659607887,0.026158949360251,-0.063379839062691,0.074308156967163,0.225537300109863,0.036379970610142));
res += mul(Get(s1,0,0), float4x4(-0.069080606102943,-0.027252638712525,-0.033365014940500,0.120861560106277,0.348908305168152,0.038638271391392,-0.043136548250914,0.032693661749363,0.050083506852388,-0.030962295830250,-0.122350893914700,0.010310600511730,0.006388965528458,-0.097801700234413,-0.056254837661982,0.046178385615349));
res += mul(Get(s1,0,dy), float4x4(-0.046907093375921,-0.077405057847500,-0.015307952649891,0.043800938874483,-0.007930130697787,-0.079136408865452,-0.096773788332939,0.040330495685339,0.009404107928276,-0.059840433299541,-0.101830840110779,0.053941790014505,0.042880665510893,-0.014271935448050,-0.002329810289666,-0.069961443543434));
res += mul(Get(s1,dx,-dy), float4x4(0.096120931208134,0.230439975857735,-0.176424711942673,0.202929630875587,-0.063988476991653,-0.201863884925842,0.069896817207336,0.040408667176962,-0.092701174318790,-0.189919993281364,-0.023122642189264,-0.168306335806847,0.136385872960091,0.020472731441259,-0.028224563226104,-0.061443537473679));
res += mul(Get(s1,dx,0), float4x4(0.001642095623538,0.064075581729412,-0.154152125120163,-0.052250705659389,0.082687243819237,-0.155052110552788,-0.040424387902021,0.001429204596207,-0.034399118274450,0.020989673212171,-0.192708835005760,-0.071783140301704,0.017534062266350,0.252445578575134,0.030195314437151,-0.037163376808167));
res += mul(Get(s1,dx,dy), float4x4(-0.013446953147650,0.191995516419411,0.152355149388313,0.221239238977432,-0.074521794915199,-0.003939995076507,0.036094248294830,0.061649315059185,-0.029529964551330,-0.127518251538277,0.058160588145256,0.015533849596977,-0.016830872744322,0.062124937772751,-0.000371367554180,0.027110083028674));
res += mul(Get(s2,-dx,-dy), float4x4(0.046451009809971,-0.064141832292080,0.071027308702469,0.064418599009514,0.068587072193623,-0.099329590797424,-0.048898935317993,0.062526300549507,-0.012406085617840,-0.054643701761961,-0.051029074937105,0.248331472277641,0.047354705631733,0.116136074066162,-0.178739756345749,-0.205501452088356));
res += mul(Get(s2,-dx,0), float4x4(-0.136233389377594,-0.006196172442287,-0.128213450312614,0.194953501224518,0.015763921663165,0.101860515773296,-0.013871794566512,0.030228346586227,0.007182856556028,0.032941740006208,0.189937472343445,-0.028674690052867,-0.033369924873114,0.059267535805702,-0.018657628446817,0.053970504552126));
res += mul(Get(s2,-dx,dy), float4x4(0.024930026382208,-0.087921895086765,-0.039372425526381,-0.204351022839546,-0.130144655704498,0.104682691395283,0.054889883846045,0.080173909664154,0.155556350946426,0.052758030593395,0.028011806309223,0.013401632197201,-0.066336393356323,0.183416530489922,-0.121652714908123,0.023772876709700));
res += mul(Get(s2,0,-dy), float4x4(-0.042129568755627,0.128131240606308,-0.183115124702454,0.156248137354851,-0.138668715953827,-0.001626279903576,-0.165418595075607,-0.000292204902507,0.145366206765175,-0.045005764812231,-0.095988966524601,0.059582993388176,0.028184486553073,-0.026255996897817,0.006581784226000,0.024894827976823));
res += mul(Get(s2,0,0), float4x4(-0.173952117562294,-0.011163801886141,0.020242659375072,0.120376162230968,0.084927357733250,0.105594612658024,-0.091228216886520,0.059648364782333,-0.075952492654324,0.055635321885347,0.046520892530680,0.015873858705163,0.065394930541515,0.027436312288046,-0.071350768208504,0.061505630612373));
res += mul(Get(s2,0,dy), float4x4(-0.063368760049343,0.115125268697739,0.092183694243431,-0.027079133316875,0.065375290811062,0.029663063585758,-0.040315549820662,-0.024197356775403,0.079488001763821,-0.077903278172016,-0.202223241329193,0.105807498097420,0.067284971475601,-0.034942094236612,-0.042094647884369,-0.135822623968124));
res += mul(Get(s2,dx,-dy), float4x4(-0.029838778078556,-0.024432746693492,0.045912977308035,-0.044283282011747,-0.081686079502106,-0.110703192651272,0.031212095171213,0.193310350179672,0.091829948127270,0.048355665057898,0.090417183935642,-0.006877464707941,-0.152823984622955,-0.019100246950984,0.139734476804733,0.041869223117828));
res += mul(Get(s2,dx,0), float4x4(-0.010456404648721,0.031002873554826,-0.086546204984188,-0.028389010578394,-0.102664098143578,-0.095690637826920,-0.021993888542056,-0.070404201745987,0.088928580284119,-0.186027631163597,-0.218431219458580,0.127811998128891,-0.044257745146751,0.075404979288578,-0.124733403325081,0.093736484646797));
res += mul(Get(s2,dx,dy), float4x4(-0.063929736614227,-0.097447142004967,0.053292550146580,-0.063305996358395,-0.026198770850897,-0.114341393113136,-0.009399296715856,0.077185325324535,0.065353512763977,0.000457159942016,0.080237142741680,-0.026688193902373,0.047163207083941,0.073806896805763,0.073510020971298,-0.203908354043961));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001658564317040,-0.148315712809563,-0.080869317054749,-0.122594624757767,0.021778715774417,0.105542860925198,0.025606563314795,0.052833210676908,-0.117923326790333,0.007704353891313,-0.023122202605009,-0.174990460276604,-0.036260850727558,0.047482177615166,-0.019758701324463,-0.060582336038351));
res += mul(Get(s3,-dx,0), float4x4(-0.038065552711487,0.057539191097021,-0.037725429981947,-0.081233754754066,-0.021192368119955,0.047768965363503,0.093798786401749,0.166056692600250,0.052217423915863,-0.003816147102043,-0.179757267236710,0.013437619432807,-0.081964842975140,0.019270082935691,0.039546765387058,-0.036629054695368));
res += mul(Get(s3,-dx,dy), float4x4(-0.024583436548710,0.069025635719299,0.143550768494606,-0.036685544997454,0.090254627168179,0.059760171920061,-0.179747730493546,0.019456604495645,0.138494282960892,-0.022560665383935,-0.122530676424503,0.039058383554220,0.005329652223736,-0.127829357981682,0.122109897434711,0.006893990095705));
res += mul(Get(s3,0,-dy), float4x4(-0.092645727097988,-0.057539463043213,0.043876156210899,0.079562865197659,-0.141163721680641,0.075160920619965,-0.094475924968719,0.164168775081635,0.003682322800159,0.166903510689735,0.034553568810225,0.022564191371202,-0.034321118146181,0.004732553381473,0.120449289679527,0.032548461109400));
res += mul(Get(s3,0,0), float4x4(0.109129212796688,-0.100306302309036,0.050870642066002,-0.110918730497360,-0.013132113963366,0.066223837435246,-0.129766792058945,0.180956631898880,-0.184991106390953,0.151680380105972,-0.176305964589119,-0.089695364236832,0.080913051962852,-0.090811848640442,-0.045832425355911,-0.070730201900005));
res += mul(Get(s3,0,dy), float4x4(-0.026021018624306,0.060555558651686,0.142124727368355,-0.000984234502539,0.023784121498466,-0.020766923204064,-0.157635122537613,-0.049957957118750,-0.038126956671476,0.227197080850601,0.147643312811852,-0.028812220320106,-0.033695340156555,-0.020573075860739,-0.021149771288037,-0.101166397333145));
res += mul(Get(s3,dx,-dy), float4x4(-0.113057136535645,0.105806954205036,-0.068433828651905,0.035733487457037,-0.080738171935081,-0.182966470718384,0.058064427226782,-0.049163300544024,0.171350255608559,-0.038059812039137,-0.134113132953644,0.095208741724491,-0.146057531237602,-0.072945982217789,0.022337952628732,0.004380660131574));
res += mul(Get(s3,dx,0), float4x4(0.015388601459563,0.071915037930012,-0.025352725759149,0.069992572069168,-0.001194264623336,0.003517650999129,-0.047029424458742,0.052228391170502,-0.076566301286221,-0.199428722262383,0.003188689239323,0.050836585462093,-0.042737931013107,-0.048395406454802,0.168314993381500,0.012091138400137));
res += mul(Get(s3,dx,dy), float4x4(-0.099838875234127,0.262854486703873,0.069178000092506,0.025398993864655,0.054986871778965,-0.141788780689240,-0.107703134417534,-0.082490533590317,0.106107108294964,0.138474330306053,-0.069385983049870,-0.002444579498842,-0.121576122939587,0.173046648502350,0.091626286506653,-0.002496040426195));
res = max(float4(0,0,0,0), res);
return res;
}
