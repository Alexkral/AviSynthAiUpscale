sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.035183571279049,-0.109204448759556,0.221929743885994,0.075508989393711,0.059550467878580,-0.209068536758423,0.014038577675819,0.057166036218405,0.071215227246284,0.046307690441608,0.007301581557840,-0.013837542384863,-0.023032432422042,0.055372033268213,-0.093738935887814,-0.048408936709166));
res += mul(Get(s0,-dx,0), float4x4(0.027390079572797,-0.123929657042027,0.018640400841832,-0.254620850086212,-0.044715952128172,-0.007529811467975,-0.055885847657919,-0.009353481233120,-0.128542006015778,-0.013019952923059,0.013923301361501,-0.045105908066034,0.095632322132587,-0.091096483170986,-0.025218231603503,-0.046068172901869));
res += mul(Get(s0,-dx,dy), float4x4(-0.093283496797085,-0.054851129651070,-0.087554097175598,-0.010955360718071,0.079194396734238,0.026419159024954,-0.030070213600993,0.001468720263802,-0.035917691886425,0.009866410866380,0.047226406633854,-0.087907969951630,-0.143140688538551,0.112584412097931,-0.068294405937195,-0.120220370590687));
res += mul(Get(s0,0,-dy), float4x4(0.009160401299596,-0.007819994352758,-0.064731843769550,0.244882121682167,-0.028077455237508,0.080424353480339,-0.065420962870121,-0.034289486706257,-0.045006129890680,0.005701845977455,0.000254888844211,0.153726086020470,0.000766249489971,-0.028815997764468,-0.030821872875094,0.002995637012646));
res += mul(Get(s0,0,0), float4x4(0.068825244903564,0.063930906355381,0.044604972004890,-0.000516173837241,-0.088837966322899,-0.052569523453712,-0.064455762505531,-0.037238489836454,-0.090036205947399,-0.090450577437878,-0.047842308878899,0.013966362923384,0.020333547145128,-0.063480243086815,-0.047580756247044,0.156484499573708));
res += mul(Get(s0,0,dy), float4x4(-0.024057414382696,-0.088482663035393,0.041022337973118,-0.067862406373024,-0.091187961399555,-0.078044146299362,-0.054862931370735,-0.008280180394650,0.092379473149776,-0.093834936618805,-0.011460092850029,-0.010719811543822,0.066667094826698,0.089574836194515,0.144678756594658,-0.265520006418228));
res += mul(Get(s0,dx,-dy), float4x4(-0.253870308399200,0.142897963523865,0.053823113441467,-0.036141209304333,0.121889829635620,0.069095060229301,-0.229363813996315,0.067356131970882,0.007798376493156,0.014099914580584,-0.056001659482718,0.205010220408440,0.037225000560284,-0.028492651879787,0.091041214764118,0.077062390744686));
res += mul(Get(s0,dx,0), float4x4(0.072104826569557,0.104872643947601,0.167917832732201,0.059203177690506,-0.060368053615093,0.089761085808277,-0.046660974621773,0.095757827162743,0.061808269470930,0.038579385727644,0.055858749896288,0.025514189153910,-0.113067969679832,-0.004561074078083,-0.091336593031883,0.054265551269054));
res += mul(Get(s0,dx,dy), float4x4(0.003884543897584,-0.029260683804750,-0.139582410454750,0.005776784848422,-0.065826244652271,-0.044785171747208,-0.105576232075691,-0.074354715645313,-0.093123972415924,-0.123883567750454,0.112268209457397,-0.006815095432103,-0.168629020452499,-0.188953936100006,0.109925180673599,0.117688618600368));
res += mul(Get(s1,-dx,-dy), float4x4(0.064854033291340,-0.150968745350838,0.047901175916195,0.031492702662945,0.002797411754727,0.062436349689960,0.003090857062489,-0.150935873389244,-0.001578788040206,-0.028554150834680,0.001531951827928,-0.042438298463821,-0.000489403551910,-0.053613808006048,-0.075210660696030,0.057188559323549));
res += mul(Get(s1,-dx,0), float4x4(-0.053769025951624,0.040813554078341,-0.095602735877037,0.014890108257532,0.121352769434452,-0.124844990670681,-0.185245573520660,0.049001421779394,-0.205060422420502,0.093558557331562,0.040321614593267,-0.181284293532372,-0.115538753569126,-0.061188906431198,0.002834741724655,-0.048439029604197));
res += mul(Get(s1,-dx,dy), float4x4(-0.012877113185823,-0.077799275517464,0.111842840909958,0.055593442171812,0.001453911885619,0.136278510093689,-0.052132558077574,0.053713079541922,-0.064311854541302,-0.049522861838341,-0.063178703188896,0.169963806867599,-0.132227659225464,-0.102759286761284,0.118270017206669,0.092866957187653));
res += mul(Get(s1,0,-dy), float4x4(0.097336225211620,0.021393744274974,-0.178664073348045,-0.095872655510902,0.033580485731363,-0.025216650217772,-0.182368814945221,0.000438143790234,0.103815227746964,-0.074045397341251,0.102234937250614,0.006740841083229,0.010593170300126,0.149927854537964,-0.027429006993771,-0.033372472971678));
res += mul(Get(s1,0,0), float4x4(0.048692438751459,0.039425682276487,0.020625296980143,-0.301043033599854,0.165343403816223,-0.190055087208748,-0.029167115688324,0.012339232489467,0.208724036812782,0.140635550022125,-0.149205952882767,0.032947592437267,0.117479726672173,-0.021433405578136,-0.242234557867050,-0.033967990428209));
res += mul(Get(s1,0,dy), float4x4(0.043200168758631,-0.184177502989769,0.178051009774208,0.000532304227818,-0.089613378047943,-0.128879994153976,-0.040284465998411,0.077047593891621,0.004216868430376,-0.022355938330293,0.112506978213787,-0.034259922802448,0.019371541216969,-0.126505449414253,0.040394689887762,-0.165897279977798));
res += mul(Get(s1,dx,-dy), float4x4(0.066915169358253,0.077224023640156,-0.131682768464088,-0.038855042308569,0.008070814423263,-0.056363582611084,-0.016241984441876,-0.018451502546668,-0.135651007294655,-0.000104852602817,-0.046049769967794,0.004353225696832,-0.004881474189460,0.116145022213459,-0.058798138052225,0.085593439638615));
res += mul(Get(s1,dx,0), float4x4(0.042705718427896,0.057828541845083,-0.083749763667583,0.099674813449383,0.045198168605566,0.043892592191696,-0.026925908401608,-0.048984643071890,0.078542657196522,0.021431554108858,-0.156209662556648,0.122616000473499,0.058344319462776,0.052208200097084,0.003834022209048,0.111584044992924));
res += mul(Get(s1,dx,dy), float4x4(0.095451779663563,-0.047652207314968,-0.124757923185825,-0.177581325173378,0.043480377644300,-0.101034529507160,-0.184081315994263,0.032629359513521,0.100424773991108,0.041462112218142,-0.031803909689188,0.168091073632240,0.099086478352547,-0.107251048088074,-0.031962621957064,-0.226625069975853));
res += mul(Get(s2,-dx,-dy), float4x4(0.044345654547215,-0.162491232156754,0.063326388597488,-0.126468434929848,0.111462011933327,-0.089072436094284,-0.013398326933384,-0.136718034744263,-0.137307658791542,-0.068401418626308,-0.125434666872025,0.114658676087856,0.050363656133413,-0.028244625777006,0.005421592853963,0.182202517986298));
res += mul(Get(s2,-dx,0), float4x4(-0.110146425664425,0.039902791380882,0.070198461413383,0.180285081267357,-0.012141234241426,-0.089543953537941,0.005503189750016,0.115770108997822,0.133925214409828,0.096343226730824,0.008239579387009,-0.102751538157463,-0.094411835074425,0.041740201413631,0.138232260942459,-0.155250191688538));
res += mul(Get(s2,-dx,dy), float4x4(-0.045911066234112,0.026820795610547,-0.036119859665632,-0.058615263551474,0.144734695553780,-0.139422506093979,-0.060122258961201,-0.011525135487318,0.043849483132362,-0.056423228234053,-0.063128821551800,0.031340740621090,-0.047787521034479,0.069846600294113,0.002255868399516,0.157800957560539));
res += mul(Get(s2,0,-dy), float4x4(0.068167604506016,0.020783402025700,-0.004811353515834,0.115165650844574,-0.080517567694187,0.157010853290558,0.070793166756630,-0.000227777185501,0.083837211132050,-0.052648678421974,0.005414017010480,0.076304271817207,0.136875987052917,0.039629843086004,0.172616183757782,0.115954488515854));
res += mul(Get(s2,0,0), float4x4(0.100326731801033,-0.216988816857338,-0.002170905470848,-0.071002900600433,-0.011628021486104,-0.044546604156494,-0.121004611253738,0.043239612132311,-0.096159376204014,-0.036754950881004,0.070951461791992,0.222015082836151,0.176551550626755,-0.091864325106144,-0.009869707748294,0.101842917501926));
res += mul(Get(s2,0,dy), float4x4(0.056792702525854,0.053660403937101,-0.010469225235283,0.105227924883366,0.006512752268463,-0.077168114483356,-0.001995868282393,0.196292877197266,-0.027986347675323,-0.128064990043640,0.099759727716446,0.041251078248024,-0.095921665430069,0.084146417677402,-0.034989800304174,0.050426065921783));
res += mul(Get(s2,dx,-dy), float4x4(-0.043728809803724,0.046323977410793,0.082376644015312,-0.066135197877884,0.188639938831329,-0.157201856374741,-0.064123995602131,-0.056649841368198,0.039311692118645,-0.086285702884197,-0.006529083009809,-0.075300842523575,0.011584001593292,0.064764849841595,-0.132879659533501,0.089544296264648));
res += mul(Get(s2,dx,0), float4x4(0.028101500123739,0.116536475718021,0.052879169583321,0.047137618064880,-0.000791997765191,0.120246842503548,0.021024357527494,-0.148266553878784,-0.179673999547958,0.001232811482623,0.007743861991912,0.024884780868888,-0.012153462506831,0.025865864008665,0.067213922739029,-0.161632880568504));
res += mul(Get(s2,dx,dy), float4x4(-0.133807107806206,0.025873944163322,-0.060844276100397,-0.117369301617146,-0.171801790595055,0.087627582252026,-0.013572546653450,-0.058885853737593,0.026818381622434,-0.032311823219061,0.033802088350058,0.009030659683049,-0.108209356665611,0.219326972961426,-0.009994678199291,-0.052488438785076));
res += mul(Get(s3,-dx,-dy), float4x4(0.095225356519222,0.246142059564590,0.046365663409233,0.103710353374481,-0.090441562235355,-0.024129072204232,-0.140006691217422,-0.225852608680725,-0.048038497567177,0.147612035274506,0.001707603340037,-0.027150984853506,0.071244679391384,-0.008311756886542,0.036718092858791,0.073632106184959));
res += mul(Get(s3,-dx,0), float4x4(-0.053170431405306,0.138235434889793,-0.088564164936543,0.128719791769981,-0.107358902692795,-0.108853161334991,-0.029629863798618,-0.042323380708694,-0.056503839790821,0.114180080592632,-0.059887822717428,0.035825446248055,0.125298783183098,-0.011221135966480,-0.098482415080070,0.076874934136868));
res += mul(Get(s3,-dx,dy), float4x4(0.056883070617914,-0.117930680513382,0.154116645455360,-0.100724160671234,0.010912230238318,-0.069881372153759,0.117995753884315,0.173213735222816,0.081164620816708,-0.106799602508545,-0.006073025055230,0.067187041044235,0.114963971078396,-0.042099095880985,-0.057076063007116,0.028706418350339));
res += mul(Get(s3,0,-dy), float4x4(-0.123023748397827,0.040904290974140,0.076035618782043,0.063992768526077,0.052467931061983,-0.044295679777861,0.210357710719109,0.016086669638753,-0.040136873722076,0.050690252333879,0.061046019196510,-0.072407610714436,-0.034397270530462,-0.169923558831215,-0.066659890115261,0.082611940801144));
res += mul(Get(s3,0,0), float4x4(0.006251928396523,0.089346677064896,0.030610116198659,-0.060611303895712,0.029959393665195,-0.045639973133802,0.016180211678147,0.131685465574265,-0.078617513179779,0.077118009328842,0.078366488218307,0.032850511372089,-0.304530233144760,-0.086268678307533,-0.039844583719969,-0.074886396527290));
res += mul(Get(s3,0,dy), float4x4(0.073102474212646,0.082274846732616,-0.045817974954844,-0.164882585406303,-0.101381488144398,0.097853116691113,0.043636299669743,-0.037579275667667,0.018471645191312,-0.049167484045029,-0.141552075743675,-0.058694835752249,0.103350110352039,-0.042543575167656,0.082864269614220,0.212350457906723));
res += mul(Get(s3,dx,-dy), float4x4(0.046928185969591,-0.017230110242963,0.033761315047741,0.155937150120735,0.070127539336681,-0.008975464850664,0.014330884441733,0.097414933145046,0.049829658120871,-0.111236728727818,-0.052655607461929,0.085001185536385,-0.063578300178051,-0.069577910006046,0.017843160778284,0.190769895911217));
res += mul(Get(s3,dx,0), float4x4(-0.045650932937860,0.248434767127037,-0.025677891448140,-0.047007761895657,0.042552601546049,0.003491580951959,-0.136078149080276,-0.039235267788172,-0.024076208472252,-0.010998181067407,-0.034415613859892,0.000778634275775,0.178001627326012,-0.151977971196175,-0.045963648706675,0.271556407213211));
res += mul(Get(s3,dx,dy), float4x4(0.057420600205660,-0.089042536914349,0.117107093334198,0.076442934572697,0.044269140809774,-0.004071943461895,-0.084400631487370,0.067385733127594,0.152906358242035,-0.020881246775389,0.126357465982437,0.021743996068835,0.017353009432554,-0.022735379636288,0.067619100213051,-0.155430391430855));
res = max(float4(0,0,0,0), res);
return res;
}
