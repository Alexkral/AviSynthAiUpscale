sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.017088366672397,-0.156389445066452,-0.013573112897575,0.029880875721574,0.090353883802891,-0.001940278569236,0.119154497981071,0.067745655775070,0.119877688586712,-0.050684135407209,-0.105520859360695,-0.152155250310898,0.009680432267487,0.007744578178972,0.241165012121201,-0.009517185389996));
res += mul(Get(s0,-dx,0), float4x4(-0.041428305208683,0.020770005881786,-0.099498249590397,-0.027460455894470,-0.102323509752750,-0.144723340868950,0.061678580939770,-0.011629624292254,0.056283246725798,-0.044736895710230,-0.008163931779563,-0.123688526451588,-0.134072974324226,0.052224952727556,0.110653519630432,0.130208104848862));
res += mul(Get(s0,-dx,dy), float4x4(-0.074042059481144,-0.096846215426922,0.062147364020348,0.155443251132965,-0.146089419722557,0.112199731171131,-0.040434155613184,0.168010458350182,0.004425858613104,-0.116692282259464,0.020764173939824,0.009373379871249,-0.172612994909286,-0.034658949822187,0.063382439315319,0.165308862924576));
res += mul(Get(s0,0,-dy), float4x4(0.047871805727482,-0.006558670662344,0.100170843303204,-0.011179044842720,0.127070412039757,-0.013357982039452,-0.097675316035748,0.116075277328491,-0.060444567352533,0.112490408122540,-0.014565360732377,-0.124001093208790,0.104685403406620,-0.171860665082932,-0.001579036819749,-0.052716415375471));
res += mul(Get(s0,0,0), float4x4(-0.086938232183456,-0.044555485248566,0.067219235002995,-0.041019074618816,0.165080174803734,0.088317096233368,-0.102606303989887,-0.111791498959064,-0.145967364311218,0.114759549498558,-0.187320157885551,-0.157996356487274,0.019788669422269,-0.005348923616111,-0.014601229690015,0.202186673879623));
res += mul(Get(s0,0,dy), float4x4(0.026454100385308,-0.069860562682152,0.036101233214140,-0.056731577962637,-0.098764650523663,0.019047452136874,-0.086519569158554,0.055264007300138,-0.049272254109383,0.090349026024342,-0.165883168578148,0.136966049671173,0.281437009572983,-0.026824103668332,0.209446996450424,-0.167392715811729));
res += mul(Get(s0,dx,-dy), float4x4(-0.036137063056231,0.115392424166203,-0.072952330112457,-0.049385976046324,0.038789927959442,0.131993144750595,-0.031297728419304,-0.097478836774826,0.147727429866791,-0.186501547694206,0.042809005826712,0.109647795557976,-0.016641264781356,0.269591480493546,-0.093769721686840,-0.159189000725746));
res += mul(Get(s0,dx,0), float4x4(0.061046320945024,-0.035799156874418,-0.168361410498619,-0.011312158778310,-0.135063782334328,-0.063498534262180,-0.047584269195795,-0.111856877803802,-0.033761959522963,-0.156208768486977,-0.038142956793308,0.111800514161587,0.062300566583872,-0.115700162947178,0.082146503031254,-0.056925065815449));
res += mul(Get(s0,dx,dy), float4x4(-0.146848648786545,0.002002086490393,-0.052221778780222,-0.206633746623993,-0.145775035023689,-0.186960056424141,-0.090579673647881,-0.048153139650822,0.066500015556812,0.164769649505615,-0.111317679286003,0.058730665594339,0.012902910821140,-0.038298066705465,0.051417745649815,-0.050624523311853));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066804818809032,-0.097588159143925,0.059159085154533,0.046320322901011,-0.126306757330894,-0.112083770334721,0.124196656048298,-0.118536718189716,-0.099587492644787,-0.075786381959915,0.058223217725754,-0.166627466678619,-0.154285013675690,0.095267392694950,-0.033324386924505,0.037219930440187));
res += mul(Get(s1,-dx,0), float4x4(-0.081342682242393,0.197481244802475,-0.009726170450449,0.067952737212181,-0.066533237695694,0.017438311129808,0.016538193449378,0.022511797025800,0.215107157826424,0.180166840553284,0.030586954206228,0.180413737893105,0.028081711381674,0.016345206648111,-0.008875545114279,0.019222937524319));
res += mul(Get(s1,-dx,dy), float4x4(-0.102681204676628,0.071938820183277,0.179742738604546,-0.072477057576180,0.056896690279245,-0.074216693639755,0.161634489893913,0.167232349514961,-0.017655288800597,-0.065188296139240,0.068872548639774,0.032631739974022,-0.003326382488012,0.034882601350546,-0.178248986601830,0.034148041158915));
res += mul(Get(s1,0,-dy), float4x4(0.099656999111176,-0.124371059238911,0.108919411897659,0.087484776973724,-0.063972294330597,-0.108391195535660,-0.106499105691910,-0.099940441548824,0.023967517539859,-0.045117989182472,0.132930085062981,0.025935312733054,0.066311508417130,0.035885084420443,-0.079673156142235,0.005782415159047));
res += mul(Get(s1,0,0), float4x4(-0.059201240539551,0.029433902353048,-0.153800308704376,0.065241992473602,-0.021956238895655,-0.096704639494419,-0.061897926032543,-0.087161831557751,0.002329304115847,0.129215255379677,0.079750105738640,0.022256612777710,-0.059619724750519,0.023533442988992,0.091969884932041,0.044424489140511));
res += mul(Get(s1,0,dy), float4x4(-0.097902841866016,-0.128601759672165,0.030347945168614,-0.144860744476318,0.186789214611053,0.013185751624405,-0.044412195682526,0.019735107198358,0.104874096810818,-0.130243703722954,-0.166298776865005,-0.084655649960041,0.041470639407635,-0.085396014153957,-0.109479852020741,-0.104684345424175));
res += mul(Get(s1,dx,-dy), float4x4(-0.018264548853040,-0.036548338830471,0.058412205427885,0.050753153860569,0.128078117966652,0.069189786911011,0.031655259430408,-0.056545432657003,-0.075864277780056,0.069218613207340,-0.088227368891239,0.058877110481262,0.080001696944237,-0.113315053284168,0.173715278506279,0.052571218460798));
res += mul(Get(s1,dx,0), float4x4(-0.070934444665909,0.297528803348541,-0.018179100006819,0.104113362729549,-0.025616640225053,-0.003927910234779,0.027708198875189,-0.110287055373192,-0.076774574816227,-0.045314472168684,-0.195268943905830,0.124621316790581,0.203738257288933,0.053842663764954,-0.150426492094994,0.021401809528470));
res += mul(Get(s1,dx,dy), float4x4(-0.008807539939880,0.032219123095274,0.018652638420463,-0.103256091475487,-0.123805157840252,-0.117177829146385,0.079221501946449,-0.140664488077164,-0.186263576149940,-0.072171784937382,0.186972960829735,-0.156849145889282,0.013527987524867,-0.054847229272127,-0.125130161643028,-0.033684622496367));
res += mul(Get(s2,-dx,-dy), float4x4(-0.019245035946369,0.168323799967766,0.043059803545475,0.048489954322577,-0.048559579998255,0.101755283772945,0.001859305775724,0.173086717724800,0.010836826637387,0.071457259356976,-0.210796386003494,-0.051362808793783,0.146520629525185,-0.133336812257767,-0.022504836320877,-0.107625655829906));
res += mul(Get(s2,-dx,0), float4x4(0.008427373133600,-0.029820179566741,-0.152815818786621,-0.054218783974648,-0.102320350706577,-0.036442011594772,0.013150575570762,-0.078757449984550,-0.041633177548647,-0.080279402434826,-0.025674451142550,-0.109597362577915,-0.095988713204861,0.122733041644096,0.104008160531521,0.046631954610348));
res += mul(Get(s2,-dx,dy), float4x4(0.007092281244695,0.037858776748180,-0.247947722673416,-0.048592276871204,0.051574889570475,-0.177274957299232,-0.206941619515419,-0.199690252542496,-0.078931413590908,0.031672839075327,-0.176208093762398,0.140151470899582,-0.097707927227020,0.157345518469810,0.076016761362553,-0.039886821061373));
res += mul(Get(s2,0,-dy), float4x4(-0.018116574734449,0.188816800713539,0.049949817359447,0.044521950185299,0.081165440380573,-0.006083983462304,-0.065877959132195,-0.052997566759586,-0.216628178954124,-0.112251095473766,-0.063776552677155,-0.037430532276630,0.018571978434920,0.044976845383644,0.012318680994213,0.062332518398762));
res += mul(Get(s2,0,0), float4x4(0.187478631734848,-0.004942798987031,-0.120334498584270,-0.044431142508984,-0.040240060538054,0.128955960273743,0.002945282030851,0.039665434509516,0.022563865408301,0.014235176146030,-0.052061993628740,-0.006549077108502,-0.217139214277267,0.048166103661060,0.182405158877373,-0.093443460762501));
res += mul(Get(s2,0,dy), float4x4(0.123976327478886,0.035058639943600,-0.050713963806629,-0.156368017196655,0.024409748613834,0.086360052227974,-0.035142324864864,0.229789078235626,0.025182912126184,0.158143669366837,-0.033622734248638,-0.095609605312347,0.057041157037020,0.022823859006166,-0.023675661534071,-0.082104824483395));
res += mul(Get(s2,dx,-dy), float4x4(-0.052432842552662,-0.018803909420967,-0.048726305365562,-0.160862267017365,0.083446413278580,-0.029352277517319,-0.081036925315857,0.147869855165482,-0.165555402636528,0.015760755166411,0.026878854259849,0.075233653187752,0.060643795877695,-0.115797623991966,0.045844327658415,-0.105272769927979));
res += mul(Get(s2,dx,0), float4x4(0.082250893115997,0.153463169932365,0.124189436435699,-0.079042129218578,-0.112595811486244,0.001825231476687,-0.001988198608160,-0.043205734342337,-0.016489509493113,0.050297997891903,0.004757495597005,-0.091944225132465,-0.073261097073555,0.014252369292080,0.005402061156929,-0.028405474498868));
res += mul(Get(s2,dx,dy), float4x4(0.124650225043297,0.025247165933251,0.015129272826016,0.186879605054855,-0.047503162175417,-0.084700517356396,-0.261796474456787,-0.123104050755501,-0.009996751323342,-0.028284756466746,0.079625166952610,0.073131166398525,0.004129092674702,0.059297386556864,0.124894917011261,-0.066749125719070));
res += mul(Get(s3,-dx,-dy), float4x4(-0.165372073650360,-0.130569502711296,-0.131906136870384,-0.072343252599239,0.151120275259018,-0.021014930680394,0.069054841995239,0.085852764546871,-0.040703859180212,0.015806932002306,-0.060684770345688,-0.003660929156467,-0.035306662321091,-0.173798054456711,0.011196878738701,0.097927913069725));
res += mul(Get(s3,-dx,0), float4x4(-0.079629808664322,0.106126688420773,-0.092132307589054,0.098111860454082,-0.002597500570118,0.021990807726979,-0.218946367502213,0.054874952882528,-0.056926939636469,-0.036275416612625,0.186660498380661,0.050328072160482,-0.069268591701984,0.072338886559010,0.100691258907318,0.071669459342957));
res += mul(Get(s3,-dx,dy), float4x4(0.096404798328876,-0.082180395722389,-0.030739089474082,0.121197767555714,0.063361443579197,-0.043904274702072,0.021143555641174,0.127552285790443,-0.146081238985062,-0.010112989693880,0.107375159859657,-0.075468517839909,0.081941574811935,-0.053365316241980,-0.054030239582062,0.023890687152743));
res += mul(Get(s3,0,-dy), float4x4(-0.308084338903427,-0.010376621037722,-0.013868569396436,-0.051138676702976,0.018452338874340,0.122123651206493,-0.001885575358756,0.029088243842125,-0.054217398166656,-0.301039427518845,0.018819252029061,-0.101005144417286,0.136089131236076,-0.046280436217785,-0.143084213137627,-0.021174246445298));
res += mul(Get(s3,0,0), float4x4(-0.254895597696304,-0.082929730415344,-0.017782345414162,0.173060819506645,0.042139451950788,0.154392629861832,0.037558436393738,0.027554837986827,-0.060071054846048,-0.022071179002523,0.002825383096933,0.066442847251892,0.150735884904861,0.065332479774952,-0.088324099779129,-0.136289045214653));
res += mul(Get(s3,0,dy), float4x4(0.071625344455242,-0.027017660439014,-0.048885088413954,0.065962843596935,-0.040966723114252,0.004751193337142,-0.116420716047287,-0.037526663392782,-0.037855044007301,-0.046587541699409,-0.095014639198780,0.028503309935331,0.051767952740192,-0.030811928212643,0.158506974577904,-0.089471176266670));
res += mul(Get(s3,dx,-dy), float4x4(-0.062626801431179,0.096574127674103,-0.086533151566982,0.157277569174767,-0.150649785995483,-0.193502470850945,0.016569415107369,-0.060273446142673,0.165385261178017,-0.039113782346249,0.061044808477163,-0.176431909203529,0.076966188848019,0.055752497166395,0.056923471391201,-0.075403980910778));
res += mul(Get(s3,dx,0), float4x4(-0.019647642970085,-0.094302743673325,-0.154467687010765,-0.115736484527588,0.054583072662354,0.005980921909213,-0.006974289659411,0.053888127207756,0.035327728837729,-0.006205479614437,0.054678142070770,-0.074704766273499,0.136028259992599,-0.003779140301049,-0.133502885699272,0.028839591890574));
res += mul(Get(s3,dx,dy), float4x4(0.069955110549927,0.041812248528004,-0.163102105259895,-0.065288595855236,0.058739878237247,0.136175453662872,0.074177660048008,0.009293923154473,-0.040538687258959,-0.139039844274521,0.085431218147278,-0.200892925262451,0.017122367396951,-0.039146173745394,-0.038853745907545,0.004231884144247));
res = max(float4(0,0,0,0), res);
return res;
}
