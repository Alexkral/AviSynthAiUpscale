sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.068685181438923,-0.091547980904579,-0.175173863768578,0.067807346582413,0.242699697613716,-0.112134553492069,-0.150537684559822,0.025800056755543,0.011191437952220,0.005124413408339,0.016268473118544,0.071955248713493,0.153176084160805,-0.013585018925369,0.116220548748970,-0.064434051513672));
res += mul(Get(s0,-dx,0), float4x4(-0.107971958816051,0.051114279776812,-0.078981772065163,0.001309460727498,0.002283465582877,-0.004803526215255,0.047672457993031,-0.115636646747589,0.180218905210495,-0.030094945803285,0.054590452462435,-0.089047223329544,0.108800433576107,0.024733096361160,0.222629919648170,0.030468562617898));
res += mul(Get(s0,-dx,dy), float4x4(0.007025045342743,-0.197386994957924,0.123389273881912,0.002667155815288,-0.028260942548513,0.158526793122292,-0.069383934140205,-0.034400094300508,0.052135426551104,-0.094515547156334,0.102732546627522,0.090989112854004,-0.107063122093678,0.029033334925771,-0.265638023614883,0.079578794538975));
res += mul(Get(s0,0,-dy), float4x4(0.215322107076645,-0.126130953431129,-0.046080522239208,-0.077175594866276,0.043434567749500,-0.050226286053658,-0.050751380622387,-0.009088580496609,0.040005445480347,-0.080935500562191,0.111520163714886,-0.065575338900089,0.190569177269936,0.031142221763730,-0.034132264554501,0.020811362192035));
res += mul(Get(s0,0,0), float4x4(-0.051657583564520,0.074953526258469,0.017153263092041,0.120708517730236,-0.037324536591768,-0.131280943751335,-0.128820329904556,-0.071131415665150,-0.059097532182932,-0.111650548875332,-0.095579542219639,-0.067765414714813,-0.108043260872364,0.108586400747299,-0.037549089640379,-0.046246938407421));
res += mul(Get(s0,0,dy), float4x4(0.128040924668312,0.053583595901728,0.078675612807274,0.127889186143875,-0.226893618702888,0.016756894066930,-0.056722708046436,-0.050887770950794,-0.020279949530959,-0.064161606132984,0.038327563554049,0.131888523697853,0.273607969284058,-0.031728297472000,-0.141113162040710,0.033169381320477));
res += mul(Get(s0,dx,-dy), float4x4(0.118482150137424,-0.119894511997700,-0.104977749288082,-0.041843794286251,0.009132049046457,-0.053789097815752,0.038233727216721,-0.018820330500603,0.018146783113480,0.184279426932335,0.080003567039967,0.022131297737360,0.043158099055290,0.033842112869024,-0.048304937779903,0.064244262874126));
res += mul(Get(s0,dx,0), float4x4(0.020186237990856,0.050034958869219,0.005635294131935,-0.144892707467079,0.016997359693050,-0.030985392630100,0.154778406023979,-0.056734073907137,-0.003066598903388,0.025365648791194,0.031234638765454,-0.052649199962616,-0.045970838516951,-0.066260054707527,0.144317999482155,-0.055740877985954));
res += mul(Get(s0,dx,dy), float4x4(0.113589525222778,0.042824994772673,-0.046640858054161,-0.073142960667610,-0.036141715943813,0.047578968107700,-0.113748840987682,-0.127306565642357,0.064647413790226,-0.048269908875227,0.116861574351788,-0.060151245445013,-0.202976107597351,-0.186853736639023,0.007589886896312,0.129788443446159));
res += mul(Get(s1,-dx,-dy), float4x4(-0.040284547954798,-0.054265294224024,0.095093019306660,-0.039645165205002,0.054633870720863,-0.097738422453403,-0.074852116405964,0.030294733121991,-0.055013503879309,0.112590886652470,0.229318588972092,-0.122043959796429,0.093932345509529,0.072309494018555,-0.065640784800053,0.066717296838760));
res += mul(Get(s1,-dx,0), float4x4(0.149017497897148,0.144356548786163,0.159500166773796,0.089230448007584,-0.054874692112207,-0.073114901781082,-0.113329648971558,-0.092779271304607,-0.146686613559723,-0.017076011747122,0.070231184363365,-0.017723809927702,-0.024878449738026,0.260988444089890,0.034262340515852,0.001016760943457));
res += mul(Get(s1,-dx,dy), float4x4(-0.044050656259060,-0.032338783144951,-0.030331796035171,0.097657248377800,0.073969334363937,0.053975213319063,-0.038063414394855,-0.143600389361382,-0.059915371239185,0.010350261814892,0.055881805717945,0.017059266567230,0.176534980535507,-0.057820260524750,-0.101510606706142,-0.163539841771126));
res += mul(Get(s1,0,-dy), float4x4(-0.046577505767345,0.096923857927322,-0.044561546295881,0.000152088949108,-0.004823527298868,0.110602349042892,-0.004440429154783,-0.258368045091629,-0.039005715399981,-0.151200741529465,0.001651798957027,0.065585449337959,0.116593345999718,0.092047058045864,-0.099760122597218,0.020733606070280));
res += mul(Get(s1,0,0), float4x4(-0.132678702473640,0.059259649366140,-0.133796364068985,-0.007897627539933,-0.047441285103559,-0.010130687616765,-0.094032570719719,0.056279484182596,-0.034993026405573,0.031646333634853,0.022639140486717,0.009055541828275,0.153905659914017,-0.064063854515553,-0.126456394791603,-0.106803365051746));
res += mul(Get(s1,0,dy), float4x4(-0.114787124097347,-0.058032266795635,-0.026094492524862,0.087696060538292,0.044136676937342,0.159602686762810,0.028441421687603,0.112724334001541,-0.038140494376421,0.009054704569280,0.054719753563404,-0.078781172633171,-0.072148509323597,-0.091449953615665,0.025517385452986,0.154267758131027));
res += mul(Get(s1,dx,-dy), float4x4(-0.050690650939941,0.183678925037384,-0.070248343050480,-0.176082864403725,0.046358529478312,-0.020019998773932,-0.013013619929552,-0.045486275106668,-0.045206453651190,0.051528997719288,-0.067338243126869,-0.128742307424545,-0.168022289872169,-0.117323532700539,0.180981412529945,-0.014718723483384));
res += mul(Get(s1,dx,0), float4x4(0.038805037736893,0.082476109266281,-0.027209788560867,0.004676741082221,0.196396008133888,0.062537223100662,-0.027250334620476,0.240255326032639,-0.010678125545382,0.026933938264847,-0.151299923658371,-0.046393960714340,0.023461399599910,0.062126152217388,-0.001428763032891,-0.001776147983037));
res += mul(Get(s1,dx,dy), float4x4(-0.193302646279335,0.086788184940815,-0.021979661658406,0.006556635256857,-0.122859977185726,-0.008072719909251,0.084804818034172,-0.052787225693464,0.036699745804071,-0.070372380316257,0.050686962902546,-0.136490464210510,0.041952274739742,0.014876277185977,0.019617145881057,-0.068368963897228));
res += mul(Get(s2,-dx,-dy), float4x4(-0.117891229689121,0.110664024949074,0.007541026454419,0.057175822556019,-0.140295147895813,-0.070330590009689,0.058825545012951,0.053966712206602,0.028614988550544,-0.111986249685287,0.042377907782793,0.007896418683231,0.227336615324020,0.047779209911823,0.096705637872219,0.028906963765621));
res += mul(Get(s2,-dx,0), float4x4(-0.145799636840820,0.002376495162025,0.009854869917035,0.008329142816365,-0.157937720417976,-0.024183906614780,-0.082861848175526,-0.049376945942640,-0.110903948545456,0.044178944081068,-0.073929339647293,0.136197760701180,0.116954132914543,0.129297032952309,-0.126467153429985,-0.036243431270123));
res += mul(Get(s2,-dx,dy), float4x4(0.062736116349697,-0.094312690198421,0.224472343921661,0.032010972499847,0.116865083575249,0.053668696433306,-0.002189225750044,0.007215798366815,0.158645302057266,0.213825970888138,-0.050935961306095,-0.255975186824799,-0.143344387412071,0.015521331690252,0.124714829027653,-0.039635606110096));
res += mul(Get(s2,0,-dy), float4x4(0.104873545467854,-0.011400523595512,-0.072094507515430,-0.027206435799599,-0.177682027220726,0.019900800660253,0.025087475776672,-0.014671039767563,-0.139024302363396,0.114167302846909,-0.088559247553349,-0.159295335412025,0.020876295864582,-0.033920485526323,-0.102840773761272,-0.031005747616291));
res += mul(Get(s2,0,0), float4x4(0.098518192768097,-0.002632175339386,-0.041053548455238,0.059164203703403,-0.003787247231230,0.025351805612445,0.166836813092232,0.136020421981812,-0.019563179463148,0.039192136377096,0.026157163083553,0.165260195732117,0.070827901363373,0.133167549967766,-0.165646851062775,0.086120843887329));
res += mul(Get(s2,0,dy), float4x4(-0.108625113964081,0.071430221199989,-0.095293350517750,-0.185914263129234,0.045130956918001,0.107319302856922,0.019579393789172,0.038316454738379,0.265288442373276,-0.120309360325336,-0.003654280677438,0.219605937600136,-0.164108410477638,-0.041840080171824,0.312663555145264,0.001663092873059));
res += mul(Get(s2,dx,-dy), float4x4(0.069960832595825,-0.123068615794182,0.045660872012377,-0.020892940461636,0.112390153110027,0.111729100346565,-0.018291458487511,0.151568949222565,0.026262834668159,-0.102206632494926,0.163517892360687,-0.051067966967821,0.054872911423445,-0.056110575795174,0.025413407012820,0.193774133920670));
res += mul(Get(s2,dx,0), float4x4(0.022293040528893,-0.180168002843857,-0.007686426863074,0.061166454106569,-0.006357255391777,0.002125616883859,-0.152017399668694,-0.044260341674089,-0.032446838915348,-0.045358788222075,0.175812423229218,0.093430459499359,-0.010999336838722,0.098981469869614,-0.065745674073696,-0.019231636077166));
res += mul(Get(s2,dx,dy), float4x4(-0.018179006874561,0.051374364644289,-0.059798210859299,-0.001311592408456,-0.161699950695038,-0.050161063671112,-0.169545248150826,-0.039754424244165,0.018289597705007,-0.383559405803680,0.067501589655876,0.203027665615082,0.042282298207283,-0.001100523630157,0.009075370617211,-0.047209173440933));
res += mul(Get(s3,-dx,-dy), float4x4(-0.072236947715282,-0.058659885078669,0.003236729651690,0.071733154356480,0.129803046584129,0.031805012375116,-0.160074129700661,0.070744812488556,-0.005680986680090,0.008866908960044,-0.018935872241855,-0.227596178650856,-0.154292792081833,-0.102815553545952,-0.101215109229088,-0.071041271090508));
res += mul(Get(s3,-dx,0), float4x4(-0.195360422134399,0.093479476869106,-0.215596050024033,0.018501769751310,0.089231640100479,0.072229318320751,0.005340662784874,0.024653967469931,0.055328778922558,-0.068342737853527,-0.104952618479729,-0.161980673670769,-0.093855269253254,0.263415992259979,-0.186596482992172,-0.074992634356022));
res += mul(Get(s3,-dx,dy), float4x4(-0.120617911219597,-0.040952887386084,-0.063799999654293,0.039673246443272,-0.138190552592278,0.118096247315407,0.131931081414223,0.087290547788143,0.179825291037560,-0.150230944156647,-0.018647952005267,-0.093686401844025,0.124670013785362,0.033290106803179,-0.139767259359360,-0.039443913847208));
res += mul(Get(s3,0,-dy), float4x4(0.190020903944969,0.148638576269150,0.044476069509983,-0.188581034541130,0.080090738832951,-0.031385749578476,-0.181117147207260,0.012482071295381,-0.036905847489834,0.034161794930696,-0.059779450297356,0.042754456400871,-0.039947673678398,-0.069757841527462,0.024998899549246,0.080147884786129));
res += mul(Get(s3,0,0), float4x4(0.001396272797137,-0.061743780970573,0.004892513155937,-0.009488007053733,-0.067100018262863,0.080677047371864,0.036386944353580,0.007923700846732,-0.104365840554237,0.027964003384113,-0.059055101126432,-0.086607120931149,-0.012353771366179,0.039442226290703,-0.032422322779894,-0.046425167471170));
res += mul(Get(s3,0,dy), float4x4(-0.097731962800026,-0.054003044962883,-0.160490557551384,-0.178535595536232,0.080635353922844,-0.028589824214578,0.158633843064308,0.124311737716198,0.152238667011261,0.065045163035393,0.137734591960907,-0.008225405588746,0.025695253163576,0.116762839257717,0.072166964411736,0.073933556675911));
res += mul(Get(s3,dx,-dy), float4x4(0.152280732989311,-0.070528924465179,-0.060549031943083,0.033587813377380,-0.093262262642384,0.175327792763710,0.013199152424932,0.110313594341278,-0.033806014806032,-0.082468822598457,-0.014354845508933,0.042306054383516,0.121300809085369,0.063027650117874,-0.037233952432871,0.034309469163418));
res += mul(Get(s3,dx,0), float4x4(0.117779396474361,0.028350071981549,-0.010264234617352,0.087968006730080,-0.047467410564423,-0.003952938131988,0.037827003747225,-0.043955307453871,0.038526292890310,-0.073756642639637,0.061610635370016,-0.141048640012741,0.019891133531928,0.085800901055336,-0.132770240306854,0.019496183842421));
res += mul(Get(s3,dx,dy), float4x4(-0.089251577854156,0.122798293828964,0.015848504379392,0.119814470410347,0.074453279376030,-0.083337076008320,-0.036288291215897,-0.145964235067368,-0.057754028588533,-0.045550424605608,0.033084046095610,-0.083976067602634,-0.025470370426774,0.041544921696186,0.006863255053759,0.098276622593403));
res = max(float4(0,0,0,0), res);
return res;
}
