sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.010817544534802,0.240851864218712,0.121670290827751,0.141481176018715,-0.126188263297081,-0.036687996238470,-0.103805042803288,-0.077937290072441,-0.028734877705574,-0.075022198259830,0.071044310927391,0.016158426180482,-0.120871022343636,0.118655093014240,0.098993800580502,-0.000311981595587));
res += mul(Get(s0,-dx,0), float4x4(0.214641749858856,-0.037161748856306,-0.099707700312138,-0.029055794700980,0.050777878612280,-0.127475664019585,0.057565644383430,-0.113834016025066,0.103224322199821,0.152990877628326,0.054910272359848,0.042624708265066,-0.003822684055194,0.050319302827120,0.048563327640295,0.094846561551094));
res += mul(Get(s0,-dx,dy), float4x4(-0.005122182425112,-0.045504443347454,-0.018242320045829,0.090845972299576,0.116908170282841,0.146080374717712,-0.068836405873299,0.092122666537762,0.098329842090607,-0.016689466312528,-0.086715176701546,-0.082944855093956,-0.038890596479177,-0.086553692817688,0.124652966856956,0.072944305837154));
res += mul(Get(s0,0,-dy), float4x4(-0.035218328237534,0.163006842136383,-0.001866503385827,-0.111386545002460,0.118811063468456,0.027171621099114,-0.116031266748905,-0.002756661269814,-0.169900253415108,-0.109952524304390,0.075380556285381,-0.038082059472799,-0.030776437371969,-0.014796723611653,-0.198116898536682,-0.033929791301489));
res += mul(Get(s0,0,0), float4x4(-0.058077253401279,-0.078416347503662,-0.054893724620342,0.022809810936451,0.234022051095963,-0.043551787734032,-0.005450753495097,-0.113164968788624,0.082117550075054,0.027174159884453,-0.078189708292484,-0.081162460148335,0.021996269002557,-0.062012370675802,-0.030448054894805,0.087682738900185));
res += mul(Get(s0,0,dy), float4x4(-0.078462086617947,-0.180353417992592,-0.098075315356255,0.111348830163479,-0.099468946456909,0.028627745807171,-0.083541065454483,-0.088561557233334,0.082093589007854,0.070435523986816,-0.188370227813721,0.122144475579262,-0.029519727453589,0.070501543581486,-0.036017056554556,-0.116867356002331));
res += mul(Get(s0,dx,-dy), float4x4(0.003361725015566,0.019469970837235,0.128811046481133,-0.064757592976093,0.134062021970749,0.085721731185913,0.082669399678707,0.033444099128246,-0.033059723675251,0.220575541257858,-0.128147095441818,-0.133077055215836,-0.168271973729134,0.151789531111717,-0.005804884713143,0.137029632925987));
res += mul(Get(s0,dx,0), float4x4(-0.080477140843868,0.055007942020893,0.067465558648109,0.008080402389169,0.009422541595995,-0.101944483816624,0.252017289400101,0.020808121189475,-0.116812475025654,0.022302526980639,0.063191026449203,0.151563405990601,-0.058791022747755,-0.001658613677137,0.105775304138660,0.115110360085964));
res += mul(Get(s0,dx,dy), float4x4(-0.178799077868462,-0.038090918213129,-0.090747602283955,0.162694841623306,-0.042380191385746,0.003908902872354,-0.171245738863945,-0.035524677485228,-0.109361410140991,0.057933732867241,0.026122296229005,-0.062666028738022,-0.051290154457092,0.104388386011124,-0.066789746284485,0.002066291170195));
res += mul(Get(s1,-dx,-dy), float4x4(-0.170105844736099,-0.067780591547489,0.025163896381855,0.039995428174734,-0.089774861931801,-0.091045729815960,0.078703656792641,-0.038581971079111,-0.151081487536430,0.203857347369194,0.086578838527203,0.005958773195744,0.052756790071726,-0.058450985699892,0.045277919620275,0.095484837889671));
res += mul(Get(s1,-dx,0), float4x4(0.091453775763512,0.015776837244630,-0.189123898744583,0.096753709018230,0.117950543761253,-0.137905329465866,-0.000227230586461,-0.079354792833328,-0.019500782713294,-0.048358552157879,-0.001871061162092,0.063804820179939,0.097662180662155,0.049096714705229,0.065876871347427,0.059418186545372));
res += mul(Get(s1,-dx,dy), float4x4(-0.214458569884300,-0.017468536272645,-0.090605840086937,-0.032440584152937,0.099113918840885,-0.026903435587883,0.124297812581062,-0.009513347409666,0.057016745209694,-0.157153517007828,-0.065716132521629,-0.079317428171635,-0.012775361537933,0.085624642670155,-0.140600368380547,0.154052793979645));
res += mul(Get(s1,0,-dy), float4x4(0.041313849389553,0.159743398427963,0.092983126640320,0.054147373884916,0.063406936824322,0.148567616939545,-0.049156818538904,0.036969285458326,-0.134543046355247,-0.024990146979690,0.046398505568504,0.146150767803192,0.008779971860349,0.102923035621643,0.105893760919571,0.015114003792405));
res += mul(Get(s1,0,0), float4x4(-0.030330058187246,0.028764734044671,-0.172561571002007,0.067119553685188,0.057288281619549,-0.041789393872023,-0.073152698576450,0.079992398619652,-0.036307897418737,0.023165373131633,0.085070788860321,-0.079132676124573,-0.066996261477470,0.074146844446659,0.004727512598038,0.057168595492840));
res += mul(Get(s1,0,dy), float4x4(-0.035978086292744,0.075340040028095,0.140043810009956,0.037039015442133,0.072685584425926,0.026573128998280,-0.073813728988171,-0.014147186651826,-0.023874215781689,-0.086352512240410,-0.097393155097961,-0.081440873444080,0.026336658746004,0.098557807505131,-0.030199263244867,-0.125032082200050));
res += mul(Get(s1,dx,-dy), float4x4(0.062975041568279,-0.030765973031521,-0.047826278954744,-0.141062632203102,0.062646403908730,-0.056144334375858,0.197027072310448,0.003811543108895,0.086533777415752,0.129769757390022,0.011033317074180,0.042078930884600,0.288138747215271,0.170043483376503,-0.167268767952919,0.164781808853149));
res += mul(Get(s1,dx,0), float4x4(-0.034265555441380,-0.063310354948044,0.051894269883633,-0.033648718148470,0.038002137094736,-0.203361704945564,-0.034231435507536,0.099334873259068,0.021562065929174,-0.020844768732786,-0.033963672816753,-0.017490347847342,-0.003052828134969,0.132240399718285,-0.039570473134518,0.216289967298508));
res += mul(Get(s1,dx,dy), float4x4(-0.022613849490881,0.038481324911118,-0.116649523377419,-0.195887103676796,0.062814898788929,-0.000289546558633,-0.160350486636162,0.128476485610008,0.101304344832897,-0.221270859241486,-0.091742232441902,-0.161442950367928,-0.016374865546823,0.008861160837114,-0.016707081347704,-0.054040540009737));
res += mul(Get(s2,-dx,-dy), float4x4(0.075567916035652,-0.090488739311695,-0.012300738133490,-0.072754509747028,0.110060282051563,-0.065340042114258,-0.003279782133177,-0.175230339169502,0.126113370060921,0.187485426664352,-0.073899373412132,-0.057369217276573,-0.127733528614044,-0.056499518454075,0.019643971696496,-0.034842710942030));
res += mul(Get(s2,-dx,0), float4x4(-0.157608062028885,-0.009658495895565,-0.057795654982328,0.092139735817909,0.066393658518791,0.086947977542877,-0.060876842588186,-0.015534749254584,-0.046888139098883,0.030060645192862,0.141384333372116,0.032429240643978,-0.196448460221291,0.010063272900879,0.093615874648094,-0.157948374748230));
res += mul(Get(s2,-dx,dy), float4x4(0.125273898243904,0.066544562578201,0.079139120876789,-0.117771938443184,0.137681111693382,-0.015971384942532,0.005817410070449,0.062183082103729,0.060793668031693,0.177311345934868,0.002936041913927,0.111641876399517,-0.132943242788315,0.059036925435066,-0.078768312931061,-0.138764694333076));
res += mul(Get(s2,0,-dy), float4x4(-0.100978717207909,0.123120859265327,0.123129278421402,0.010004971176386,-0.138906911015511,0.184227064251900,0.157988652586937,-0.126088827848434,-0.034959632903337,0.182550773024559,0.016469689086080,0.024433340877295,-0.276313781738281,0.069797419011593,0.008923121728003,0.035361554473639));
res += mul(Get(s2,0,0), float4x4(0.038418263196945,-0.019034424796700,0.107069075107574,-0.021284481510520,0.001552401343361,-0.000070215071901,-0.021622367203236,-0.029153265058994,-0.074198730289936,-0.058544330298901,0.036072786897421,0.055107865482569,0.059409085661173,0.013269568793476,0.016996474936604,0.035792093724012));
res += mul(Get(s2,0,dy), float4x4(0.015273998491466,0.139344900846481,-0.036740910261869,0.074671767652035,-0.133515134453773,0.188179582357407,-0.072742916643620,0.019636483862996,-0.073575943708420,-0.111882977187634,-0.060969572514296,0.064617209136486,0.003831836627796,-0.093642674386501,-0.059349704533815,0.091566227376461));
res += mul(Get(s2,dx,-dy), float4x4(-0.024615170434117,-0.033439900726080,0.003667859826237,-0.198609888553619,0.009090434759855,-0.239656120538712,0.136145308613777,-0.051421482115984,-0.143474146723747,0.078861959278584,0.104821108281612,0.072610251605511,-0.101989306509495,-0.083441361784935,0.069489732384682,0.036179807037115));
res += mul(Get(s2,dx,0), float4x4(-0.087738811969757,-0.040533211082220,0.020199151709676,0.007038722280413,0.053650960326195,0.037765838205814,0.083575136959553,0.155827641487122,0.151295214891434,-0.080410636961460,0.232193812727928,-0.131660789251328,-0.128560364246368,0.028772538527846,0.120245426893234,-0.076077997684479));
res += mul(Get(s2,dx,dy), float4x4(0.022006602957845,-0.022538989782333,-0.077907875180244,0.020845852792263,-0.075959064066410,0.034217234700918,-0.052135884761810,0.075784847140312,-0.242584854364395,-0.011758366599679,-0.245992541313171,-0.066991783678532,-0.130675122141838,-0.216404750943184,0.022092193365097,-0.001478616031818));
res += mul(Get(s3,-dx,-dy), float4x4(-0.027696546167135,-0.115871421992779,0.036580167710781,-0.070948518812656,-0.059135723859072,0.062409635633230,-0.003670048434287,-0.167763039469719,-0.087675385177135,-0.038542944937944,-0.029130276292562,-0.070073604583740,0.127452626824379,-0.137376591563225,-0.096332930028439,0.000769419595599));
res += mul(Get(s3,-dx,0), float4x4(-0.199815645813942,-0.154653519392014,-0.054320607334375,0.085323810577393,-0.033245999366045,-0.027170637622476,-0.126435607671738,0.019640665501356,0.007807137444615,-0.011812694370747,0.151952132582664,0.042485725134611,-0.066153876483440,-0.037756722420454,-0.156943783164024,-0.000530934485141));
res += mul(Get(s3,-dx,dy), float4x4(0.041223816573620,-0.031967032700777,0.110640875995159,-0.149458318948746,0.159954994916916,0.015779031440616,0.028586223721504,0.027702996507287,-0.121884435415268,-0.113634981215000,-0.045597176998854,-0.091772027313709,-0.101181939244270,0.221391856670380,0.030854521319270,-0.190212771296501));
res += mul(Get(s3,0,-dy), float4x4(-0.009918439202011,0.047475304454565,-0.009354938752949,0.084676772356033,0.050857178866863,0.131764069199562,-0.131332471966743,-0.091784477233887,0.026877826079726,0.076638676226139,0.115641281008720,0.002085915068164,-0.028086759150028,0.153235852718353,-0.096688941121101,0.096613980829716));
res += mul(Get(s3,0,0), float4x4(-0.034254871308804,0.233585506677628,0.043425902724266,0.047916516661644,-0.030567938461900,-0.023973941802979,-0.038001764565706,0.096602886915207,-0.160664632916451,0.029241833835840,0.112533375620842,-0.047990769147873,-0.033267132937908,0.074921704828739,-0.060673266649246,0.010995753109455));
res += mul(Get(s3,0,dy), float4x4(0.065121963620186,-0.007008990738541,0.116371259093285,0.076332576572895,-0.098222136497498,-0.005366097670048,-0.160301938652992,-0.192020699381828,-0.244031786918640,0.031698454171419,-0.060245417058468,-0.017939066514373,0.131421044468880,0.034372903406620,0.031428515911102,-0.046135921031237));
res += mul(Get(s3,dx,-dy), float4x4(0.033342644572258,-0.107336468994617,-0.031540498137474,-0.058292783796787,-0.149371221661568,-0.002971305046231,0.116982989013195,-0.060602188110352,-0.027316134423018,0.002545287134126,0.041313230991364,0.184717148542404,-0.039164494723082,0.072268456220627,-0.130323097109795,-0.002352406969294));
res += mul(Get(s3,dx,0), float4x4(-0.032186441123486,-0.048412986099720,-0.021831231191754,0.018935581669211,0.014366094022989,-0.104573518037796,-0.039559260010719,-0.059493236243725,-0.102025218307972,-0.058158747851849,0.006930339615792,-0.059662371873856,0.119575813412666,0.027968827635050,0.101475648581982,-0.017679793760180));
res += mul(Get(s3,dx,dy), float4x4(0.003085804637522,0.045546039938927,0.008199594914913,-0.004611556418240,-0.037834469228983,0.091780804097652,-0.009444520808756,-0.085656754672527,0.146700695157051,-0.003263777354732,0.205205947160721,0.082348734140396,0.119135215878487,0.083366282284260,0.038068059831858,0.175707161426544));
res = max(float4(0,0,0,0), res);
return res;
}
