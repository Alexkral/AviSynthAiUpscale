sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.039090510457754,-0.069243133068085,0.026551617309451,0.006895054597408,-0.087122075259686,0.060280576348305,0.005530146416277,-0.076150491833687,-0.034759871661663,-0.126893445849419,0.247112423181534,-0.019524775445461,0.041590861976147,0.196731418371201,0.023309459909797,-0.117943897843361));
res += mul(Get(s0,-dx,0), float4x4(0.038401253521442,-0.123415857553482,0.073342144489288,-0.114059299230576,-0.018066128715873,0.001778832869604,-0.005990874953568,-0.121461562812328,0.205791756510735,0.043977547436953,-0.111770808696747,-0.129780247807503,-0.072082757949829,-0.040216851979494,0.113046690821648,0.056905712932348));
res += mul(Get(s0,-dx,dy), float4x4(0.031910080462694,-0.044183444231749,-0.063528515398502,-0.145203039050102,-0.124489650130272,-0.157813712954521,0.003065166762099,-0.013616179116070,-0.061466068029404,0.136832475662231,-0.002954718656838,-0.010177881456912,-0.167755350470543,0.042097967118025,0.015145753510296,-0.110750004649162));
res += mul(Get(s0,0,-dy), float4x4(-0.074938386678696,-0.098271444439888,0.047150805592537,0.031042352318764,-0.032435897737741,-0.175484001636505,0.037286225706339,0.190795883536339,-0.025857005268335,-0.181934848427773,-0.128667950630188,-0.033706210553646,0.150211796164513,-0.117534115910530,0.236148491501808,0.106058262288570));
res += mul(Get(s0,0,0), float4x4(0.027528367936611,-0.035545006394386,-0.238594636321068,0.027575645595789,-0.334480017423630,-0.212636381387711,-0.167257592082024,-0.076365254819393,-0.158439457416534,-0.052470132708549,0.202945932745934,-0.055435203015804,0.210913598537445,-0.064289666712284,0.283190876245499,0.033670447766781));
res += mul(Get(s0,0,dy), float4x4(-0.060209974646568,-0.076629228889942,0.045565366744995,0.002923960564658,-0.104829303920269,0.269795060157776,-0.066002026200294,0.044803313910961,-0.053821220993996,-0.035690370947123,0.105953030288219,0.242607966065407,0.012393342331052,-0.120236925780773,0.014240838587284,0.067118078470230));
res += mul(Get(s0,dx,-dy), float4x4(-0.092186070978642,-0.048233274370432,0.118685588240623,-0.001980385510251,-0.146624132990837,0.087170653045177,0.021182658150792,-0.140717655420303,-0.137501686811447,-0.216105118393898,-0.158136531710625,-0.107379689812660,-0.101844243705273,0.040389128029346,-0.196212127804756,-0.028686888515949));
res += mul(Get(s0,dx,0), float4x4(-0.129589468240738,-0.053454689681530,0.093914531171322,-0.123306736350060,-0.104260466992855,0.013756773434579,-0.132758423686028,0.109921239316463,-0.004675514530391,0.069149479269981,0.251582056283951,-0.045420657843351,0.123230762779713,0.133936688303947,-0.037577349692583,0.025232372805476));
res += mul(Get(s0,dx,dy), float4x4(0.101838693022728,0.100436657667160,0.086055360734463,-0.073488719761372,-0.024208433926105,-0.112038090825081,0.088050127029419,-0.125465288758278,0.083282180130482,-0.075046114623547,-0.131216585636139,0.229488432407379,-0.060974627733231,-0.061076588928699,-0.087336793541908,0.151503160595894));
res += mul(Get(s1,-dx,-dy), float4x4(-0.048339795321226,0.044567327946424,-0.078435249626637,-0.234098315238953,0.099842831492424,-0.089122571051121,0.106682837009430,-0.090836003422737,-0.082668513059616,0.049502104520798,0.044055182486773,0.074361450970173,-0.131948977708817,-0.150206506252289,-0.067365936934948,0.065272420644760));
res += mul(Get(s1,-dx,0), float4x4(0.091249920427799,-0.052014783024788,-0.114117808640003,-0.168064415454865,-0.058493994176388,0.018581634387374,0.090279392898083,-0.043878704309464,-0.157461509108543,0.143197283148766,0.097301937639713,0.079296946525574,0.050275165587664,0.053715594112873,0.212006479501724,0.043118800967932));
res += mul(Get(s1,-dx,dy), float4x4(-0.142504781484604,0.010546877980232,0.008979680947959,0.042653139680624,0.083388060331345,0.130242675542831,-0.046037603169680,-0.096840783953667,0.018596332520247,0.163194820284843,0.025823138654232,-0.006603818386793,0.286613166332245,-0.015161233954132,0.016874922439456,0.208140611648560));
res += mul(Get(s1,0,-dy), float4x4(-0.201306045055389,0.123128697276115,0.216242849826813,-0.067181147634983,0.016693333163857,-0.027555594220757,0.039805598556995,0.137389674782753,-0.007638967130333,-0.020079463720322,0.036759775131941,0.012568307109177,0.074853867292404,-0.078460842370987,-0.038698680698872,0.000864426954649));
res += mul(Get(s1,0,0), float4x4(0.043165206909180,0.012470927089453,-0.074120394885540,-0.030485490337014,-0.051667150110006,-0.021733613684773,-0.033916428685188,-0.103703886270523,0.122609123587608,-0.049640037119389,0.046664580702782,0.048699639737606,-0.079287707805634,-0.072560727596283,-0.105463258922100,-0.245246380567551));
res += mul(Get(s1,0,dy), float4x4(0.041235137730837,-0.106694981455803,-0.027240080758929,-0.154009878635406,-0.120793417096138,-0.222832873463631,-0.094346635043621,0.188991069793701,0.084131620824337,0.061615880578756,0.000876428850461,-0.167318120598793,0.085949264466763,0.125733047723770,-0.097916327416897,0.144331678748131));
res += mul(Get(s1,dx,-dy), float4x4(0.009791601449251,-0.088086016476154,0.120787389576435,-0.092837288975716,0.066562451422215,-0.079779252409935,0.055317562073469,-0.035160671919584,0.108405068516731,0.041513454169035,-0.104120932519436,-0.082190833985806,-0.116071298718452,-0.092068351805210,-0.095994248986244,0.116023905575275));
res += mul(Get(s1,dx,0), float4x4(0.051208928227425,-0.017497235909104,0.122814290225506,-0.041752748191357,-0.036336380988359,-0.143421158194542,0.005408787634224,-0.145983949303627,-0.079264931380749,0.064708754420280,0.094978339970112,-0.204193592071533,-0.145592838525772,-0.135879144072533,0.034515336155891,-0.074154943227768));
res += mul(Get(s1,dx,dy), float4x4(0.111363552510738,-0.019776428118348,0.048632409423590,-0.074802331626415,0.004821744281799,-0.038898378610611,-0.011864245869219,-0.062778979539871,-0.098916232585907,0.056665528565645,0.161352425813675,-0.059822447597980,0.074875950813293,0.013937991112471,0.172829791903496,0.001138872466981));
res += mul(Get(s2,-dx,-dy), float4x4(-0.080006621778011,0.207599550485611,0.078517325222492,0.079070284962654,-0.158096969127655,0.032130055129528,0.085115924477577,0.046188954263926,0.087814159691334,0.078882873058319,-0.137079268693924,-0.100786358118057,-0.027618411928415,-0.071359813213348,-0.071174621582031,0.168517306447029));
res += mul(Get(s2,-dx,0), float4x4(0.029755808413029,0.002118998905644,0.090368740260601,0.038685694336891,-0.020367655903101,-0.143547520041466,0.010618475265801,-0.115462519228458,-0.190638273954391,0.179408848285675,-0.153417989611626,0.020995894446969,-0.040980856865644,-0.050637736916542,-0.122909076511860,0.108816318213940));
res += mul(Get(s2,-dx,dy), float4x4(0.144245579838753,0.031883783638477,0.135441750288010,0.071726329624653,-0.053376808762550,-0.015962775796652,0.058959431946278,-0.130733370780945,-0.021206820383668,-0.118045158684254,-0.012156764045358,-0.035486154258251,-0.073164448142052,0.090993680059910,-0.012992877513170,0.022098492830992));
res += mul(Get(s2,0,-dy), float4x4(0.041340351104736,-0.096699371933937,-0.233741447329521,-0.010121589526534,0.038895569741726,-0.058796010911465,-0.079787932336330,-0.019401973113418,0.026061179116368,0.238999381661415,-0.070174224674702,0.129216820001602,0.006322139408439,0.043940074741840,-0.158964499831200,0.090239055454731));
res += mul(Get(s2,0,0), float4x4(0.093308053910732,0.168815404176712,-0.030315846204758,-0.004879598040134,0.049934029579163,-0.001241104910150,-0.168181061744690,-0.042295038700104,-0.068944804370403,0.150620132684708,0.114990785717964,0.141745060682297,-0.189602658152580,0.090467974543571,-0.001119695953093,0.019333453848958));
res += mul(Get(s2,0,dy), float4x4(-0.165158703923225,0.012437378987670,0.036401983350515,0.007294623181224,0.044313300400972,-0.034397326409817,0.037209179252386,0.113616690039635,0.052431661635637,0.022288840264082,-0.166070327162743,-0.053197223693132,-0.040979266166687,0.051213018596172,0.081564418971539,-0.042185127735138));
res += mul(Get(s2,dx,-dy), float4x4(0.068099327385426,0.054410718381405,0.077647134661674,-0.080226697027683,-0.037117116153240,-0.025943959131837,0.222626879811287,0.061178483068943,-0.007336749229580,-0.031466916203499,-0.179250866174698,0.092073954641819,-0.055922046303749,-0.041349403560162,0.023711256682873,0.037386924028397));
res += mul(Get(s2,dx,0), float4x4(0.219038128852844,-0.100823566317558,-0.142060622572899,0.144341155886650,-0.065355069935322,-0.126901954412460,0.239201352000237,0.050205487757921,-0.096510104835033,-0.072285719215870,0.007575331255794,0.145945295691490,-0.093468829989433,-0.053540527820587,-0.200031951069832,0.003012533998117));
res += mul(Get(s2,dx,dy), float4x4(0.055695701390505,0.087360322475433,-0.099712945520878,-0.000032674030081,-0.064991280436516,-0.052626803517342,-0.148722633719444,-0.155329674482346,0.017035981640220,0.087190374732018,0.119355827569962,0.034226350486279,0.067151762545109,0.081679329276085,-0.055228117853403,-0.037590455263853));
res += mul(Get(s3,-dx,-dy), float4x4(-0.075555533170700,-0.069016575813293,-0.030074367299676,0.177903100848198,0.114245809614658,0.197030439972878,0.088647685945034,0.085090264678001,0.064426697790623,-0.043487098067999,0.065483435988426,0.067976325750351,-0.226675912737846,-0.117917746305466,0.045088775455952,0.016748715192080));
res += mul(Get(s3,-dx,0), float4x4(0.055615354329348,0.121929928660393,0.186465740203857,0.016025666147470,-0.101764120161533,0.063585750758648,0.060033217072487,-0.132816523313522,-0.029546326026320,-0.108397573232651,0.081399761140347,0.197112873196602,-0.058776348829269,0.069320082664490,-0.013798600062728,-0.065097607672215));
res += mul(Get(s3,-dx,dy), float4x4(0.100386910140514,0.081483960151672,0.090623840689659,0.278479218482971,-0.187993615865707,-0.062941484153271,-0.056964375078678,-0.025455359369516,-0.020313024520874,0.066675782203674,-0.092446066439152,0.016142951324582,0.022016789764166,-0.068839669227600,-0.001384000526741,0.165816128253937));
res += mul(Get(s3,0,-dy), float4x4(-0.016139343380928,0.029216330498457,-0.004616609774530,-0.034748408943415,0.138931691646576,0.258895397186279,0.069117389619350,0.024706242606044,0.041729990392923,-0.032700233161449,0.016158152371645,-0.030933206900954,0.096917457878590,-0.040885396301746,0.045786455273628,-0.009348951280117));
res += mul(Get(s3,0,0), float4x4(0.028576882556081,-0.000014699116946,0.134153693914413,0.051760721951723,-0.009328132495284,0.049271702766418,-0.087309412658215,0.157349318265915,-0.145982906222343,0.182179525494576,0.164668351411819,-0.051529534161091,0.009460637345910,-0.068559907376766,0.137629866600037,-0.048739567399025));
res += mul(Get(s3,0,dy), float4x4(0.065790534019470,0.037501450628042,-0.111927971243858,0.159983575344086,0.045319546014071,0.029006622731686,0.063926942646503,0.159173026680946,-0.075041756033897,0.155377462506294,0.011860973201692,0.073531426489353,-0.115612752735615,0.060057278722525,0.045285899192095,0.225957170128822));
res += mul(Get(s3,dx,-dy), float4x4(-0.008331280201674,0.362700611352921,-0.035006888210773,0.276856005191803,-0.037373241037130,-0.080080255866051,0.018443601205945,-0.000577708648052,0.118040822446346,0.016875285655260,-0.032596472650766,0.137587025761604,0.031512632966042,-0.080005437135696,0.174015998840332,0.083338677883148));
res += mul(Get(s3,dx,0), float4x4(0.055646479129791,-0.011817588470876,0.144384875893593,0.026762297376990,-0.104986563324928,-0.109455160796642,0.109162636101246,0.097267106175423,0.061553891748190,-0.029047714546323,0.046537324786186,0.218683481216431,-0.120602451264858,-0.109406657516956,-0.210468783974648,0.073717057704926));
res += mul(Get(s3,dx,dy), float4x4(-0.129893779754639,-0.159504443407059,0.151048734784126,-0.083875484764576,-0.316125035285950,-0.181263715028763,-0.047628324478865,-0.031110333278775,-0.131824761629105,0.118503004312515,-0.028747085481882,0.005626931320876,-0.098848283290863,0.056913178414106,-0.049264658242464,-0.103464804589748));
res = max(float4(0,0,0,0), res);
return res;
}
