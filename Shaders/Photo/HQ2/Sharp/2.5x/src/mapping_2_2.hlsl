sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.090219326317310,-0.081206701695919,0.123512104153633,0.008956479839981,-0.009275337681174,-0.053792741149664,0.116099596023560,0.124423548579216,-0.273124843835831,0.170579522848129,0.177363961935043,0.166648432612419,0.019246449694037,0.065037086606026,0.079689860343933,-0.090110294520855));
res += mul(Get(s0,-dx,0), float4x4(0.013438917696476,0.010333899408579,0.036351196467876,0.112269796431065,-0.025965897366405,-0.090047933161259,-0.130641326308250,-0.076326213777065,0.092522308230400,-0.080034151673317,-0.017536811530590,-0.193186119198799,-0.069979049265385,-0.126935362815857,-0.193450063467026,-0.006522733252496));
res += mul(Get(s0,-dx,dy), float4x4(-0.148222222924232,0.021273627877235,0.096266426146030,-0.035008069127798,-0.049537476152182,-0.102554701268673,-0.002547087846324,0.106049686670303,-0.062826022505760,-0.074701085686684,0.045013982802629,-0.111269682645798,0.120407953858376,0.004836585838348,-0.192633271217346,0.000992508139461));
res += mul(Get(s0,0,-dy), float4x4(0.088376976549625,-0.042847484350204,0.069888651371002,0.048561777919531,-0.190580487251282,0.122925110161304,0.005872777197510,-0.072417892515659,-0.141877844929695,-0.105569638311863,-0.064007021486759,0.146568208932877,0.036333527415991,0.054480727761984,0.160755887627602,0.011241284199059));
res += mul(Get(s0,0,0), float4x4(0.014636944048107,-0.115221023559570,-0.069988086819649,0.024636035785079,0.053626000881195,-0.021803313866258,0.018304161727428,0.031475979834795,-0.024848502129316,0.097990177571774,-0.029088241979480,-0.032189257442951,-0.125289559364319,0.175792768597603,-0.014541432261467,-0.030241275206208));
res += mul(Get(s0,0,dy), float4x4(-0.079932808876038,0.038089588284492,0.094661712646484,0.120816357433796,-0.203210338950157,-0.170364543795586,0.095707587897778,0.034192636609077,0.002791323466226,-0.075174041092396,0.067489363253117,-0.033583290874958,0.061498984694481,0.063028089702129,-0.193941175937653,0.122516259551048));
res += mul(Get(s0,dx,-dy), float4x4(0.037446983158588,0.003075286047533,-0.133796244859695,-0.017470946535468,-0.026620870456100,-0.047536119818687,0.069572463631630,0.086715131998062,-0.044500187039375,0.036304190754890,-0.110717773437500,0.066449321806431,-0.177670240402222,0.093566097319126,-0.167362585663795,-0.086911782622337));
res += mul(Get(s0,dx,0), float4x4(0.074994176626205,-0.036002300679684,0.093849875032902,0.030437210574746,-0.026067152619362,0.109228521585464,0.063542202115059,-0.019955512136221,-0.156733915209770,-0.179634213447571,0.016888046637177,0.223996564745903,-0.104800797998905,-0.035038717091084,-0.008932999335229,0.021504664793611));
res += mul(Get(s0,dx,dy), float4x4(0.216404825448990,-0.064634114503860,0.073298268020153,0.241962745785713,0.083306558430195,-0.051749546080828,0.016500011086464,0.051550868898630,0.107384182512760,-0.079561628401279,-0.080247081816196,-0.144135579466820,0.015133656561375,-0.057109337300062,0.030371055006981,0.098373346030712));
res += mul(Get(s1,-dx,-dy), float4x4(0.039855480194092,0.005788781680167,0.032787505537271,0.035517632961273,0.027370702475309,0.115729473531246,-0.046562340110540,0.023769898340106,0.133592739701271,0.148807048797607,-0.030625810846686,-0.178095027804375,-0.081945650279522,0.048841170966625,-0.037516165524721,-0.136733651161194));
res += mul(Get(s1,-dx,0), float4x4(0.007290921639651,-0.088333889842033,0.106328472495079,-0.060595963150263,0.025231067091227,0.083531953394413,-0.143752112984657,-0.144162356853485,-0.130840659141541,-0.183623254299164,0.068462781608105,0.006799953989685,0.018590398132801,0.018504921346903,0.177147269248962,-0.011870183981955));
res += mul(Get(s1,-dx,dy), float4x4(-0.191338390111923,0.111062645912170,0.032967034727335,0.011933344416320,-0.076400242745876,0.092890165746212,-0.010290225036442,-0.161177426576614,-0.218272298574448,0.012028328143060,0.094769328832626,0.018148921430111,0.116406269371510,0.138415783643723,0.003941494040191,0.034998752176762));
res += mul(Get(s1,0,-dy), float4x4(0.080419123172760,0.076876953244209,-0.007997935637832,-0.031709045171738,0.087745495140553,0.152786865830421,0.024520603939891,0.028657414019108,0.136779561638832,-0.028742307797074,-0.040649421513081,0.131601631641388,0.002860366133973,0.110369846224785,0.011224902234972,-0.067716807126999));
res += mul(Get(s1,0,0), float4x4(0.125379949808121,0.095297731459141,0.104201458394527,-0.058335304260254,0.084250301122665,0.029542693868279,0.016172181814909,-0.125996246933937,-0.000126031241962,-0.108898870646954,-0.203030988574028,-0.004409243818372,-0.211787760257721,0.002355837961659,-0.111949786543846,0.008785305544734));
res += mul(Get(s1,0,dy), float4x4(0.115780748426914,0.124823801219463,0.204048693180084,0.133835628628731,0.065118774771690,0.118666961789131,-0.109370812773705,-0.038068234920502,0.127441406250000,0.041339401155710,0.070465929806232,0.063339844346046,0.116016246378422,0.012204479426146,-0.087797731161118,-0.035971570760012));
res += mul(Get(s1,dx,-dy), float4x4(-0.057677820324898,-0.010689254850149,0.002351751551032,-0.019735600799322,-0.077400453388691,0.000296924292343,-0.058830678462982,0.091508321464062,0.099282085895538,0.049022607505322,0.044335447251797,0.116595655679703,0.000073234725278,0.166644737124443,-0.131723880767822,-0.055697187781334));
res += mul(Get(s1,dx,0), float4x4(-0.038860056549311,-0.056914262473583,-0.023406755179167,-0.055801603943110,-0.131952896714211,0.078297019004822,-0.066092327237129,0.092621572315693,-0.117946341633797,0.150509402155876,-0.087905637919903,-0.088463127613068,-0.045529015362263,-0.030622404068708,0.074085220694542,0.053270131349564));
res += mul(Get(s1,dx,dy), float4x4(-0.100713402032852,0.052075419574976,0.103018060326576,-0.074573270976543,0.065304830670357,-0.138657331466675,0.096557423472404,0.151761099696159,-0.032514639198780,0.034654553979635,0.007844567298889,-0.088172420859337,-0.210142403841019,0.074572533369064,0.062180943787098,0.067329838871956));
res += mul(Get(s2,-dx,-dy), float4x4(0.036992873996496,-0.086209520697594,-0.087417833507061,0.115101456642151,-0.088235773146152,0.166313573718071,-0.103248514235020,0.038079258054495,0.096021987497807,0.054309882223606,-0.035677492618561,0.083050705492496,-0.007773644756526,-0.026638211682439,0.165732249617577,-0.144457429647446));
res += mul(Get(s2,-dx,0), float4x4(0.013774130493402,-0.075110033154488,0.281717866659164,-0.114081636071205,0.090112775564194,0.142284646630287,0.051771193742752,0.013810316100717,0.035630229860544,0.067835770547390,-0.164033815264702,0.066101260483265,0.121693000197411,-0.008723107166588,0.116087593138218,0.184611558914185));
res += mul(Get(s2,-dx,dy), float4x4(0.021858852356672,0.079892106354237,0.100450314581394,-0.003449940588325,-0.001233229064383,-0.222831949591637,-0.219968348741531,-0.065230555832386,0.089420169591904,0.044652950018644,-0.030241170898080,-0.015478003770113,-0.052640359848738,0.000795954838395,-0.018813863396645,-0.212675526738167));
res += mul(Get(s2,0,-dy), float4x4(-0.112577691674232,0.055976230651140,0.033469099551439,0.064321488142014,0.007252155337483,0.033746279776096,0.010526020079851,-0.171828538179398,0.210269913077354,0.068066276609898,-0.059838738292456,-0.093153685331345,-0.027839763090014,0.250516444444656,0.008976141922176,-0.161441311240196));
res += mul(Get(s2,0,0), float4x4(-0.088270038366318,0.093470744788647,0.177628278732300,-0.118737958371639,0.093160718679428,-0.084675684571266,0.042760942131281,-0.090226180851460,0.122965440154076,0.024735251441598,-0.100840732455254,0.090807244181633,-0.022178748622537,-0.121280834078789,0.149681523442268,0.121211118996143));
res += mul(Get(s2,0,dy), float4x4(-0.097583055496216,-0.076400175690651,-0.245609983801842,0.197899699211121,0.066616259515285,-0.030992671847343,-0.004915019497275,-0.060633268207312,-0.111998856067657,-0.019113022834063,0.050633788108826,-0.012782913632691,0.066881708800793,-0.106038399040699,0.177201867103577,0.032002788037062));
res += mul(Get(s2,dx,-dy), float4x4(0.172450035810471,0.083059333264828,-0.017452321946621,0.036523949354887,0.077925905585289,-0.063238926231861,0.035748507827520,0.047940168529749,-0.081817753612995,0.050247576087713,0.004670393653214,-0.102117136120796,0.102786786854267,0.024668037891388,0.109683997929096,-0.042086075991392));
res += mul(Get(s2,dx,0), float4x4(-0.088891871273518,-0.004186298232526,-0.009252536110580,-0.006023510824889,-0.211023226380348,0.161817669868469,-0.076203979551792,0.066256485879421,-0.012942747212946,-0.030650440603495,-0.024890922009945,0.027263944968581,-0.014531876891851,-0.004948494024575,-0.031542059034109,0.001375932828523));
res += mul(Get(s2,dx,dy), float4x4(-0.019580855965614,-0.021952113136649,0.013905952684581,0.120090991258621,0.021018374711275,0.122375600039959,0.054276209324598,-0.073598884046078,-0.064254157245159,-0.039740372449160,-0.053640600293875,0.053360648453236,-0.031366471201181,-0.072405502200127,-0.057766132056713,0.072474695742130));
res += mul(Get(s3,-dx,-dy), float4x4(0.092329323291779,0.032355945557356,0.074323028326035,-0.085240438580513,0.066062465310097,-0.005258236546069,-0.119220741093159,-0.035875972360373,0.119656048715115,-0.165746346116066,-0.143451139330864,-0.035880949348211,0.091104462742805,-0.081061765551567,0.077612034976482,-0.069999486207962));
res += mul(Get(s3,-dx,0), float4x4(0.071839541196823,0.074725210666656,-0.085314892232418,0.092075750231743,0.161723524332047,-0.057914882898331,0.108670078217983,-0.048550117760897,0.014719705097377,-0.034551907330751,-0.048063039779663,0.046671725809574,-0.080233499407768,-0.038753572851419,-0.068215638399124,-0.168001040816307));
res += mul(Get(s3,-dx,dy), float4x4(0.048080544918776,-0.114188507199287,-0.104348450899124,0.069966956973076,0.003716509090737,0.082664735615253,0.124368846416473,-0.037591237574816,0.006478343158960,0.097180902957916,-0.067640155553818,0.089986637234688,0.055743221193552,0.061668828129768,0.083655841648579,0.015621323138475));
res += mul(Get(s3,0,-dy), float4x4(0.322692304849625,-0.038910165429115,-0.035532448440790,-0.002948178676888,-0.041430868208408,-0.003382867434993,-0.023676499724388,-0.095550082623959,0.136273041367531,0.056076254695654,0.057461548596621,0.102521404623985,0.148792281746864,0.198682576417923,-0.113839171826839,-0.015025856904685));
res += mul(Get(s3,0,0), float4x4(0.002796103013679,-0.125916630029678,0.098571337759495,0.018776927143335,-0.073061414062977,-0.096197068691254,-0.050811339169741,-0.020461937412620,-0.171188563108444,0.003979472909123,0.145682185888290,-0.204350501298904,-0.082860738039017,0.073174938559532,0.066316016018391,-0.045444104820490));
res += mul(Get(s3,0,dy), float4x4(0.032675936818123,0.009413179010153,0.017528746277094,-0.061977654695511,-0.044114422053099,-0.070636220276356,-0.015434916131198,0.127925217151642,0.033694781363010,0.161569163203239,0.101793095469475,-0.009911634959280,-0.096488811075687,-0.110192649066448,-0.078723348677158,0.079271897673607));
res += mul(Get(s3,dx,-dy), float4x4(-0.008235501125455,0.015396993607283,0.024680260568857,-0.087293796241283,-0.175599873065948,-0.077138893306255,-0.012866065837443,0.136820986866951,-0.104474976658821,-0.063614234328270,0.100759625434875,-0.073695801198483,-0.000169102044310,-0.025680368766189,-0.094412766396999,0.058432519435883));
res += mul(Get(s3,dx,0), float4x4(0.060622297227383,0.066442310810089,0.111264944076538,-0.040190696716309,-0.009496435523033,0.104395866394043,-0.084696538746357,0.041347362101078,-0.055967587977648,0.017766140401363,0.062875598669052,-0.039713870733976,0.061291627585888,-0.061215370893478,-0.041877306997776,0.031187474727631));
res += mul(Get(s3,dx,dy), float4x4(-0.052058819681406,-0.108937360346317,0.023355646058917,0.087734833359718,-0.083013474941254,-0.082649745047092,-0.039231121540070,-0.027107328176498,0.029354644939303,-0.090022347867489,0.051867272704840,0.164701938629150,0.000105219274701,-0.034112583845854,-0.125487193465233,-0.034628283232450));
res = max(float4(0,0,0,0), res);
return res;
}
