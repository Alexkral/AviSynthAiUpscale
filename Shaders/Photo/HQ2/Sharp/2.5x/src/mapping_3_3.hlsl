sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.030588105320930,0.038733176887035,0.048068411648273,-0.018277334049344,-0.094091176986694,0.048198953270912,0.130162611603737,0.067603692412376,0.006936955265701,0.077967353165150,0.030506761744618,0.064034819602966,-0.019134620204568,0.047387875616550,0.070553794503212,-0.120427675545216));
res += mul(Get(s0,-dx,0), float4x4(-0.019232582300901,-0.027185255661607,-0.010036425665021,0.104698210954666,0.019742775708437,0.177977770566940,-0.069142274558544,-0.081198491156101,-0.238655760884285,0.109066031873226,0.100368842482567,0.080530390143394,0.328363209962845,0.084922373294830,0.086349077522755,-0.041775062680244));
res += mul(Get(s0,-dx,dy), float4x4(-0.214865446090698,0.013800199143589,-0.094064980745316,-0.003777238540351,-0.146001338958740,0.122861564159393,-0.004251769743860,-0.063640840351582,-0.205555304884911,-0.116811878979206,0.041686564683914,-0.036896880716085,-0.036571849137545,-0.218094766139984,0.074285112321377,-0.161877572536469));
res += mul(Get(s0,0,-dy), float4x4(0.121193148195744,-0.049840070307255,-0.023046985268593,0.088537976145744,-0.053495369851589,0.190332815051079,-0.105601705610752,0.027234343811870,-0.109954640269279,0.031106032431126,0.102630935609341,0.255864590406418,0.096733227372169,-0.081160359084606,-0.058998886495829,0.079433180391788));
res += mul(Get(s0,0,0), float4x4(0.036177180707455,0.046115584671497,0.036271568387747,-0.012786954641342,-0.012390078976750,0.022552153095603,-0.082011833786964,-0.052142456173897,-0.003160351654515,-0.057694934308529,0.123293004930019,0.065170638263226,-0.003953218460083,0.008886014111340,-0.001254358678125,0.203029915690422));
res += mul(Get(s0,0,dy), float4x4(-0.175396800041199,-0.086585000157356,-0.035094361752272,-0.181386128067970,-0.041042957454920,0.094708919525146,-0.141169399023056,-0.122874863445759,0.004074397496879,-0.093336544930935,0.257884025573730,-0.046865683048964,-0.165350258350372,0.040470976382494,0.032964177429676,0.068457998335361));
res += mul(Get(s0,dx,-dy), float4x4(0.190966024994850,-0.167971387505531,0.133391156792641,-0.123626142740250,0.015997771173716,-0.053186092525721,-0.086454190313816,-0.051461044698954,-0.116804614663124,0.083360314369202,0.049075070768595,-0.128461092710495,0.186965212225914,0.111125983297825,0.023978305980563,-0.030147712677717));
res += mul(Get(s0,dx,0), float4x4(-0.011303167790174,0.044491920620203,-0.067108213901520,-0.055964756757021,-0.073418438434601,-0.017925271764398,0.039713464677334,-0.067189380526543,0.088365785777569,0.036824632436037,-0.150769725441933,0.031925328075886,-0.098311886191368,-0.051387947052717,0.220383554697037,0.147194609045982));
res += mul(Get(s0,dx,dy), float4x4(-0.140056699514389,0.032738033682108,0.039305903017521,-0.026518780738115,-0.026752036064863,-0.173218354582787,-0.020205711945891,0.066810682415962,0.071909658610821,0.094842121005058,0.036008186638355,-0.005302607547492,0.015952574089170,-0.057783108204603,-0.136357352137566,0.037600550800562));
res += mul(Get(s1,-dx,-dy), float4x4(0.188820376992226,-0.028636597096920,0.085984572768211,-0.219241097569466,-0.040425416082144,0.170871883630753,0.062231715768576,-0.029338827356696,-0.166801109910011,0.105984248220921,-0.040091425180435,-0.023125225678086,-0.010553643107414,-0.071868091821671,0.009603342041373,-0.076358780264854));
res += mul(Get(s1,-dx,0), float4x4(0.065168797969818,0.068637423217297,0.116556271910667,-0.012681000865996,-0.016992444172502,-0.119968406856060,-0.106232680380344,0.024055343121290,-0.100697129964828,0.053443592041731,-0.078889369964600,-0.270330637693405,0.027271253988147,-0.066184975206852,0.086152784526348,-0.013348177075386));
res += mul(Get(s1,-dx,dy), float4x4(0.037619329988956,0.012583584524691,-0.059717737138271,0.009327838197351,0.062336742877960,-0.062298845499754,-0.086257852613926,-0.091039001941681,-0.127965494990349,0.011342214420438,-0.089664660394192,-0.035207394510508,-0.123560935258865,-0.003063474781811,0.196689561009407,-0.138628274202347));
res += mul(Get(s1,0,-dy), float4x4(-0.014850084669888,0.105868175625801,0.052106257528067,0.055558569729328,0.009460113942623,-0.102331638336182,-0.122942924499512,-0.099196277558804,-0.263696163892746,0.080994084477425,-0.023183163255453,0.014883902855217,0.120783537626266,0.198781296610832,-0.059092734009027,0.117126405239105));
res += mul(Get(s1,0,0), float4x4(0.025173608213663,-0.080652505159378,-0.005876584444195,-0.019299719482660,-0.077069588005543,0.105128981173038,-0.139956727623940,0.001405346207321,0.211084231734276,0.019992562010884,0.125852301716805,0.004485051147640,0.133895948529243,0.046075899153948,0.102395333349705,0.082112245261669));
res += mul(Get(s1,0,dy), float4x4(0.188278406858444,0.043268021196127,-0.099798880517483,0.116073638200760,0.162438064813614,-0.058331709355116,-0.092070765793324,0.089500419795513,-0.072216019034386,0.011419125832617,0.003250652924180,-0.062840826809406,0.004432455636561,0.044027570635080,-0.059014651924372,0.019744750112295));
res += mul(Get(s1,dx,-dy), float4x4(-0.045775979757309,0.033764366060495,0.007523564621806,-0.130190417170525,-0.086292684078217,0.074698768556118,-0.085873313248158,0.083687342703342,0.085774436593056,-0.084796883165836,0.047271594405174,-0.121112465858459,0.025200534611940,0.044255971908569,-0.123638890683651,-0.016437025740743));
res += mul(Get(s1,dx,0), float4x4(-0.020959444344044,-0.164800927042961,0.163345143198967,0.243225798010826,-0.033922363072634,-0.162275552749634,-0.041973147541285,0.203805774450302,0.006326922215521,0.001533608650789,0.158642396330833,-0.042429506778717,-0.147031351923943,0.076701134443283,-0.069593586027622,0.132839977741241));
res += mul(Get(s1,dx,dy), float4x4(-0.044366009533405,0.026724459603429,-0.033780850470066,0.132216349244118,0.007350633852184,-0.177557572722435,-0.159911274909973,-0.040043946355581,-0.093304499983788,-0.109169915318489,0.063345037400723,0.211280167102814,0.030962700024247,0.049559865146875,-0.002197501948103,0.061342287808657));
res += mul(Get(s2,-dx,-dy), float4x4(-0.030813748016953,0.044477198272943,-0.189981609582901,-0.039671093225479,-0.096770748496056,0.011373645626009,0.191494807600975,-0.173604860901833,-0.237390026450157,-0.110433198511600,0.015347098000348,-0.256691664457321,-0.157686471939087,-0.049549657851458,0.075485773384571,-0.045372996479273));
res += mul(Get(s2,-dx,0), float4x4(0.139755681157112,-0.031368184834719,-0.153519228100777,-0.034465670585632,-0.099259585142136,-0.041861537843943,-0.032813109457493,-0.076780393719673,-0.073619045317173,0.008869567885995,0.046481788158417,0.037657827138901,0.167075812816620,0.020518034696579,-0.100131168961525,0.111548602581024));
res += mul(Get(s2,-dx,dy), float4x4(-0.113474249839783,0.064242981374264,0.001713779871352,0.123767487704754,0.088423125445843,0.151953488588333,0.124243840575218,0.102914363145828,-0.114600554108620,0.015850411728024,-0.041479948908091,-0.111876450479031,0.119188144803047,-0.111509747803211,0.028572985902429,0.037368487566710));
res += mul(Get(s2,0,-dy), float4x4(0.209276452660561,-0.103903777897358,0.073268063366413,0.005467555485666,-0.001118617248721,0.037668697535992,-0.079567126929760,-0.086428388953209,-0.052067849785089,-0.036364171653986,-0.031281750649214,0.025598527863622,0.004100607708097,0.020170494914055,0.107442751526833,0.044750947505236));
res += mul(Get(s2,0,0), float4x4(0.022618571296334,0.021370686590672,0.120395392179489,-0.014897711575031,-0.024810146540403,0.110112138092518,0.039554577320814,0.029940433800220,-0.058615844696760,0.233602583408356,-0.149126693606377,0.086234658956528,0.153228253126144,0.102035418152809,0.100169241428375,0.258895397186279));
res += mul(Get(s2,0,dy), float4x4(0.055252954363823,0.096416786313057,0.068425394594669,0.028621785342693,0.004578359890729,-0.103801861405373,0.041288565844297,-0.000115310729598,-0.038700420409441,0.136039197444916,-0.035186026245356,-0.120663471519947,0.018350232392550,-0.103584267199039,-0.162890344858170,0.044574256986380));
res += mul(Get(s2,dx,-dy), float4x4(0.103989951312542,-0.046348247677088,-0.045601736754179,-0.047898057848215,0.093382552266121,-0.038466665893793,0.064185090363026,0.000404350168537,-0.047065008431673,0.111707322299480,-0.116061016917229,0.092912241816521,-0.105694219470024,-0.028387958183885,0.065771721303463,0.110366672277451));
res += mul(Get(s2,dx,0), float4x4(0.080964200198650,0.011063743382692,0.035031430423260,-0.138656869530678,-0.020889807492495,-0.119816385209560,-0.109696619212627,0.021363984793425,0.087163284420967,0.141920879483223,-0.023386396467686,0.065481446683407,0.112100139260292,-0.128188550472260,-0.020536281168461,-0.012986763380468));
res += mul(Get(s2,dx,dy), float4x4(-0.105831533670425,0.011139192618430,0.230462357401848,0.015765434131026,0.001408891403116,-0.029278736561537,0.063680656254292,-0.030418399721384,0.124693661928177,0.051285918802023,0.067098133265972,0.021069165319204,0.220457121729851,0.099866807460785,0.139613583683968,0.173278898000717));
res += mul(Get(s3,-dx,-dy), float4x4(-0.077497228980064,0.113365374505520,0.080873750150204,-0.012746333144605,-0.050860483199358,-0.004641795530915,0.058905791491270,0.024878319352865,-0.111918143928051,0.032269969582558,-0.038787484169006,0.026589792221785,-0.174572825431824,0.011855201795697,-0.023370161652565,-0.094039164483547));
res += mul(Get(s3,-dx,0), float4x4(-0.099395640194416,0.111374884843826,-0.042766164988279,-0.099332123994827,0.097044646739960,0.094262331724167,-0.034592784941196,-0.102399267256260,0.077475480735302,0.109131909906864,-0.090214170515537,-0.166018888354301,0.167922154068947,0.042534567415714,0.051936838775873,-0.015181037597358));
res += mul(Get(s3,-dx,dy), float4x4(0.111784026026726,-0.114368550479412,0.018318595364690,-0.007491081021726,-0.108576968312263,0.010786826722324,0.109958402812481,-0.013495103456080,0.038634277880192,0.180809736251831,-0.041713971644640,-0.077552363276482,-0.028189878910780,0.083085469901562,0.022373052313924,0.006469129584730));
res += mul(Get(s3,0,-dy), float4x4(-0.001542688230984,-0.078020788729191,0.047983828932047,-0.170878201723099,0.052448611706495,-0.309981733560562,-0.105857916176319,0.079141698777676,-0.043352372944355,-0.095597125589848,-0.159808233380318,-0.069108471274376,0.092483580112457,0.037469580769539,-0.235536172986031,0.169863536953926));
res += mul(Get(s3,0,0), float4x4(-0.134732753038406,-0.001685338327661,-0.237854033708572,0.125730857253075,0.120662972331047,-0.024744696915150,0.102429635822773,-0.117731958627701,-0.143970370292664,0.221703469753265,-0.010914272628725,-0.122793339192867,-0.070058830082417,-0.100165463984013,-0.076394140720367,0.039676174521446));
res += mul(Get(s3,0,dy), float4x4(0.122722156345844,-0.043577149510384,-0.063803315162659,-0.119413919746876,-0.061574120074511,0.094581536948681,0.051698468625546,-0.137587517499924,0.127445384860039,0.020723219960928,-0.010886284522712,0.116737410426140,0.062355544418097,-0.066568970680237,-0.037478923797607,-0.063134752213955));
res += mul(Get(s3,dx,-dy), float4x4(-0.009014871902764,-0.042099390178919,-0.033165767788887,0.027111450210214,0.033823918551207,0.077079012989998,0.044512216001749,-0.071305483579636,0.014393144287169,-0.086585678160191,-0.084162719547749,0.102470308542252,0.083640389144421,-0.074065238237381,-0.052316356450319,0.085812531411648));
res += mul(Get(s3,dx,0), float4x4(-0.071310520172119,-0.247601822018623,-0.096895068883896,0.091683015227318,-0.152726903557777,-0.046417582780123,-0.095437459647655,0.059118542820215,0.165574356913567,-0.078552670776844,0.061408586800098,-0.157607838511467,0.100305385887623,-0.057188890874386,-0.130404993891716,0.089003406465054));
res += mul(Get(s3,dx,dy), float4x4(-0.049152925610542,0.056924857199192,-0.217051342129707,0.042575027793646,0.076890267431736,0.044131848961115,-0.027096699923277,-0.045184299349785,0.000126318394905,0.014131978154182,-0.108940020203590,0.025277156382799,0.050288125872612,0.034350320696831,-0.001260179560632,0.014986065216362));
res = max(float4(0,0,0,0), res);
return res;
}
