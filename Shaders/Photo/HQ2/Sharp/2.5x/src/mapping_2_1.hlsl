sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.194741636514664,-0.066460065543652,0.001820033066906,0.078021429479122,-0.067395597696304,0.032148357480764,-0.090780124068260,0.201718598604202,-0.003293252550066,-0.024602403864264,-0.153423324227333,-0.009193097241223,-0.001839295611717,-0.014024348929524,0.021256446838379,0.060097757726908));
res += mul(Get(s0,-dx,0), float4x4(-0.187582969665527,0.046148411929607,0.002639846643433,-0.025621570646763,-0.086174353957176,0.186974763870239,0.085234016180038,-0.042388435453176,-0.031027184799314,-0.038655068725348,0.035610884428024,-0.070993930101395,-0.042810175567865,-0.007897722534835,0.134842827916145,0.128587961196899));
res += mul(Get(s0,-dx,dy), float4x4(-0.180419921875000,-0.078407473862171,0.085547946393490,-0.089808776974678,0.073757618665695,-0.095409646630287,0.061789505183697,-0.106575645506382,0.052937570959330,-0.057037524878979,-0.008934930898249,-0.061649750918150,0.060368865728378,0.124474599957466,0.134722188115120,0.100594326853752));
res += mul(Get(s0,0,-dy), float4x4(-0.072651609778404,0.015820074826479,-0.016918702051044,-0.043700128793716,-0.036925457417965,-0.065525099635124,-0.002298105042428,0.123656310141087,0.059605639427900,-0.108587786555290,0.140144154429436,0.104658104479313,-0.011220516636968,0.146838828921318,-0.129695370793343,-0.207494631409645));
res += mul(Get(s0,0,0), float4x4(-0.172506928443909,0.201809570193291,-0.253262370824814,0.040364865213633,-0.144832268357277,0.208552479743958,0.011557366698980,0.093605950474739,-0.027463812381029,-0.013009619899094,-0.119235873222351,0.022328425198793,0.081081964075565,0.005361901130527,0.159010156989098,0.068984322249889));
res += mul(Get(s0,0,dy), float4x4(-0.033467147499323,0.085361249744892,-0.045700039714575,-0.233546286821365,-0.012771401554346,0.047549750655890,0.019641743972898,-0.005804300308228,-0.072432667016983,-0.071622245013714,-0.056907836347818,0.144177526235580,-0.007516571786255,0.167948529124260,0.065775513648987,0.001263974234462));
res += mul(Get(s0,dx,-dy), float4x4(-0.051537964493036,0.103542469441891,0.005095242988318,0.064526215195656,0.020197730511427,-0.000236076550209,0.023115979507565,-0.054082345217466,-0.017977677285671,0.118633836507797,0.086752228438854,-0.089787013828754,0.000093176910013,0.046394906938076,0.023624055087566,0.033292010426521));
res += mul(Get(s0,dx,0), float4x4(0.032592028379440,0.232868596911430,0.101384177803993,0.030326686799526,-0.041940409690142,0.051282349973917,0.047837238758802,0.027494002133608,0.062731295824051,-0.010168354958296,0.129448622465134,0.043583739548922,-0.008782186545432,0.035695884376764,-0.021862326189876,-0.054124042391777));
res += mul(Get(s0,dx,dy), float4x4(0.027329361066222,0.120768696069717,0.142974719405174,0.078703157603741,0.060272913426161,-0.026827471330762,-0.018167583271861,-0.108484365046024,0.054310560226440,0.086390301585197,-0.074380308389664,-0.084652625024319,-0.089087180793285,0.215427711606026,-0.094054743647575,-0.163018494844437));
res += mul(Get(s1,-dx,-dy), float4x4(-0.093385942280293,0.151993170380592,0.000807203003205,0.087797991931438,-0.029233282431960,0.013973653316498,-0.008656818419695,-0.205379545688629,0.095174185931683,-0.040617875754833,0.127672344446182,-0.111602127552032,-0.128016114234924,-0.137464538216591,-0.093046769499779,-0.046813324093819));
res += mul(Get(s1,-dx,0), float4x4(-0.094793543219566,0.089800678193569,-0.029507678002119,-0.051597233861685,0.088637366890907,-0.175609558820724,0.110233470797539,0.122145272791386,0.002269332297146,-0.109263800084591,0.013869485817850,0.108543649315834,-0.145848050713539,0.110340535640717,-0.026933381333947,0.068510405719280));
res += mul(Get(s1,-dx,dy), float4x4(0.176672205328941,0.039825037121773,0.228671371936798,-0.032631762325764,0.026073357090354,0.051549520343542,-0.001333024818450,-0.031114263460040,0.064589500427246,0.012825882062316,0.084271579980850,0.065196767449379,0.061935469508171,0.241577059030533,0.040710695087910,-0.019817352294922));
res += mul(Get(s1,0,-dy), float4x4(-0.018242556601763,-0.053403127938509,0.012973748147488,0.016454888507724,0.227339744567871,0.070593632757664,-0.026178454980254,0.134933784604073,0.035783428698778,0.145944625139236,-0.162480831146240,-0.222036242485046,-0.154354497790337,-0.148647516965866,0.025506157428026,0.009330974891782));
res += mul(Get(s1,0,0), float4x4(0.092815779149532,-0.011761762201786,-0.021693473681808,0.249147921800613,-0.001980781555176,-0.091722883284092,-0.063983500003815,-0.091358259320259,-0.023963453248143,0.030612343922257,0.091947622597218,-0.107198610901833,-0.168909668922424,-0.196240618824959,-0.158145695924759,-0.001997531391680));
res += mul(Get(s1,0,dy), float4x4(0.034731138497591,0.180387854576111,-0.001398147898726,0.226885348558426,-0.151780113577843,-0.024001242592931,-0.058594930917025,-0.093234993517399,0.043987970799208,0.056546591222286,-0.081672996282578,0.320853650569916,0.073847845196724,-0.004348881077021,-0.112239487469196,-0.088442370295525));
res += mul(Get(s1,dx,-dy), float4x4(0.187714546918869,-0.199966892600060,-0.063343808054924,-0.129595011472702,0.053230833262205,-0.120041482150555,0.147766843438148,0.230651915073395,-0.228423103690147,-0.144587442278862,-0.053003858774900,-0.020541783422232,-0.056171938776970,0.072105936706066,-0.190988361835480,0.109549991786480));
res += mul(Get(s1,dx,0), float4x4(0.091323174536228,-0.062095500528812,0.202054589986801,-0.048415310680866,-0.090187758207321,0.163916513323784,0.064850471913815,0.057974658906460,0.036404155194759,0.014044764451683,0.176291838288307,-0.234263092279434,0.132853209972382,-0.011681796982884,-0.032772712409496,-0.046849481761456));
res += mul(Get(s1,dx,dy), float4x4(-0.121475473046303,-0.018519485369325,0.061946921050549,0.097621478140354,0.006904026493430,0.037314884364605,0.000177521011210,-0.029183294624090,0.116886295378208,0.096132256090641,0.069308720529079,-0.080779865384102,-0.098133310675621,-0.024782763794065,-0.195467233657837,-0.052953135222197));
res += mul(Get(s2,-dx,-dy), float4x4(-0.080632761120796,0.001061768038198,0.069805577397346,0.010720810852945,0.041208013892174,0.072384521365166,0.165404021739960,-0.157692372798920,0.343329519033432,0.132484242320061,0.014871772378683,0.036976505070925,-0.005866890307516,0.062785051763058,0.076514348387718,0.030169876292348));
res += mul(Get(s2,-dx,0), float4x4(-0.013545927591622,-0.105494312942028,-0.163956031203270,-0.007627655752003,0.108743436634541,-0.084285803139210,0.081575892865658,0.178946882486343,-0.020603599026799,-0.025069521740079,0.150876343250275,0.085626453161240,0.250879883766174,0.188228651881218,-0.081341452896595,-0.110063731670380));
res += mul(Get(s2,-dx,dy), float4x4(0.072439990937710,-0.163691505789757,-0.134752660989761,-0.041352283209562,-0.221037209033966,-0.035466473549604,0.004310305230319,0.019662780687213,0.048376094549894,-0.077729001641273,0.053280644118786,-0.079546779394150,0.043611090630293,-0.114926405251026,0.001869378378615,-0.031394425779581));
res += mul(Get(s2,0,-dy), float4x4(0.089364767074585,0.145445019006729,0.158470377326012,0.027775462716818,0.177944153547287,0.001316217822023,-0.039790224283934,-0.115803882479668,0.034593831747770,0.023370269685984,-0.071775890886784,-0.145639851689339,0.044481508433819,-0.034155212342739,0.064928807318211,0.083088010549545));
res += mul(Get(s2,0,0), float4x4(0.020175481215119,0.032025113701820,0.157642185688019,0.219835862517357,-0.060791999101639,0.191471010446548,0.169751703739166,0.011685971170664,0.125300496816635,-0.004777016583830,0.034086372703314,-0.008805956691504,-0.082888364791870,-0.167573466897011,0.124656997621059,0.239969894289970));
res += mul(Get(s2,0,dy), float4x4(-0.013818062841892,-0.110032334923744,-0.100512906908989,0.049037087708712,0.133316650986671,0.043912764638662,0.071802064776421,-0.142555773258209,0.106514655053616,0.078595951199532,-0.070188879966736,-0.081769615411758,-0.129462569952011,0.090820133686066,-0.091988943517208,-0.034763064235449));
res += mul(Get(s2,dx,-dy), float4x4(-0.021977953612804,0.094462916254997,-0.028968494385481,-0.054357588291168,0.153117746114731,-0.039407067000866,-0.065685696899891,0.057013690471649,-0.093226656317711,0.094800032675266,0.196701049804688,0.042809776961803,0.079969368875027,0.002095804782584,-0.017389353364706,0.137269631028175));
res += mul(Get(s2,dx,0), float4x4(0.049265492707491,-0.132242560386658,0.212197542190552,-0.075608611106873,-0.143790796399117,-0.022245321422815,0.042193405330181,-0.017906218767166,-0.039416287094355,0.109915584325790,-0.178760588169098,-0.183421656489372,-0.018932435661554,-0.029262496158481,-0.046366680413485,-0.085124127566814));
res += mul(Get(s2,dx,dy), float4x4(-0.059704855084419,-0.010186935774982,-0.039515968412161,-0.020809926092625,0.022185891866684,-0.028351752087474,-0.084112733602524,0.004390508867800,0.035004843026400,0.067187435925007,-0.068822279572487,0.084413491189480,0.064373575150967,-0.170142725110054,-0.011105792596936,0.020618045702577));
res += mul(Get(s3,-dx,-dy), float4x4(-0.081720679998398,0.018154172226787,0.037056207656860,-0.020294161513448,0.075375430285931,-0.054919678717852,-0.019336989149451,0.084548011422157,0.085722014307976,-0.010768591426313,-0.151252150535583,-0.131848603487015,-0.077539540827274,-0.121321506798267,-0.193487495183945,-0.010701665654778));
res += mul(Get(s3,-dx,0), float4x4(0.088607616722584,-0.025417957454920,-0.061428405344486,0.033743400126696,-0.170101776719093,-0.081716328859329,-0.081357873976231,-0.031189201399684,-0.037529472261667,0.072460487484932,0.035632405430079,-0.005473648663610,-0.180032551288605,-0.049842361360788,0.108666293323040,0.036666836589575));
res += mul(Get(s3,-dx,dy), float4x4(-0.177837491035461,-0.134084209799767,0.080094352364540,-0.049389541149139,0.176744088530540,0.032008364796638,0.058475099503994,0.065876640379429,0.007309342268854,0.065611638128757,0.044912911951542,-0.005137566011399,-0.052138548344374,0.031605675816536,-0.340258210897446,-0.001431560725905));
res += mul(Get(s3,0,-dy), float4x4(0.155931740999222,-0.114561147987843,0.043333873152733,-0.142680376768112,0.310270875692368,0.066899068653584,-0.078644745051861,0.085648566484451,-0.018917962908745,0.043092358857393,0.145552188158035,-0.027300087735057,0.022765338420868,-0.110453516244888,0.010602913796902,-0.053790267556906));
res += mul(Get(s3,0,0), float4x4(0.082976490259171,-0.075049817562103,-0.047482784837484,-0.022653635591269,-0.147160813212395,-0.067458689212799,-0.056336652487516,0.017575848847628,-0.137538135051727,0.075125515460968,0.069877304136753,-0.081100702285767,-0.105296730995178,0.049273516982794,-0.151940435171127,0.089776724576950));
res += mul(Get(s3,0,dy), float4x4(0.009272000752389,-0.024769419804215,0.027100367471576,0.039970360696316,0.052927892655134,-0.047174304723740,0.074283339083195,-0.101856797933578,-0.277996540069580,0.143726691603661,0.008192351087928,-0.165583223104477,0.046300563961267,0.031397324055433,-0.029949951916933,-0.116412617266178));
res += mul(Get(s3,dx,-dy), float4x4(-0.112875528633595,-0.165464565157890,0.091023862361908,-0.050261873751879,-0.037772241979837,-0.173854425549507,0.140437915921211,0.132540121674538,-0.004216037690639,0.064942747354507,0.056103002279997,0.299055904150009,-0.026459369808435,0.008821398019791,0.137215033173561,0.195910245180130));
res += mul(Get(s3,dx,0), float4x4(-0.037866070866585,-0.013621042482555,0.091754928231239,-0.021529635414481,-0.215172275900841,-0.104163914918900,0.137790381908417,-0.101185329258442,-0.041224449872971,0.055558968335390,0.058100041002035,0.147703871130943,-0.010580248199403,0.027293059974909,-0.051645655184984,-0.174885287880898));
res += mul(Get(s3,dx,dy), float4x4(0.030073333531618,0.060068458318710,0.061557091772556,0.030144931748509,0.131173178553581,0.086382426321507,0.203334733843803,-0.043813530355692,-0.044913724064827,-0.001770907314494,0.028962424024940,-0.038576480001211,-0.141997337341309,0.000605815846939,0.187493413686752,-0.032969001680613));
res = max(float4(0,0,0,0), res);
return res;
}
