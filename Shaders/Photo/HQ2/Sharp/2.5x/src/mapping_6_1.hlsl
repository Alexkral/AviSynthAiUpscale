sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.072747699916363,0.065699353814125,-0.116184137761593,0.124524213373661,0.081607654690742,0.160245597362518,-0.149069935083389,-0.171950325369835,0.030460597947240,-0.100884087383747,0.103633180260658,0.081366226077080,0.035244204103947,0.034221626818180,-0.110668428242207,0.104225240647793));
res += mul(Get(s0,-dx,0), float4x4(-0.112422123551369,-0.004787816200405,0.171899959445000,-0.000913084135391,-0.170940831303596,0.092152230441570,-0.095742359757423,-0.057356830686331,-0.076608516275883,-0.053311869502068,0.000544068228919,-0.023425387218595,-0.058479100465775,-0.011565118096769,0.024762773886323,-0.062024317681789));
res += mul(Get(s0,-dx,dy), float4x4(0.018195929005742,-0.040632110089064,0.138488411903381,0.054990224540234,-0.024396320804954,-0.090266346931458,0.053848426789045,-0.254901289939880,-0.035750806331635,-0.065410733222961,0.029548462480307,-0.059837028384209,-0.071748226881027,0.019259918481112,-0.072341196238995,0.006042652297765));
res += mul(Get(s0,0,-dy), float4x4(0.009858858771622,0.252438575029373,-0.136051148176193,0.023946320638061,0.004645058885217,-0.153434514999390,-0.057189218699932,0.027890615165234,-0.147386908531189,0.133626967668533,-0.080393932759762,-0.113158896565437,0.100537985563278,-0.097623758018017,-0.002798574510962,0.045222908258438));
res += mul(Get(s0,0,0), float4x4(-0.138158097863197,-0.071855194866657,-0.012783000245690,0.032111641019583,-0.243443235754967,0.069409623742104,-0.017321195453405,0.096309125423431,-0.107500106096268,0.085711367428303,-0.050476301461458,0.010184909217060,0.200997650623322,0.062674336135387,0.008709611371160,0.003377976361662));
res += mul(Get(s0,0,dy), float4x4(-0.043041050434113,-0.056914784014225,0.080341413617134,0.014243599027395,0.054615337401628,-0.039328098297119,-0.002876776736230,-0.153814420104027,0.141009822487831,0.023075893521309,-0.042818557471037,0.029149213805795,0.027491673827171,0.054164726287127,-0.224115818738937,0.032002791762352));
res += mul(Get(s0,dx,-dy), float4x4(0.018363254144788,0.000292873533908,-0.101893752813339,-0.048634395003319,-0.060179412364960,0.053006540983915,-0.047293599694967,-0.015160781331360,0.203635782003403,0.132747605443001,0.051735673099756,0.010567023418844,0.099731646478176,-0.132583394646645,-0.023716123774648,-0.106696277856827));
res += mul(Get(s0,dx,0), float4x4(0.133606508374214,-0.272187560796738,0.027537200599909,-0.248122707009315,-0.089203208684921,-0.160346090793610,0.002629537833855,-0.053667820990086,0.076152965426445,-0.098596058785915,-0.026656795293093,0.035247400403023,-0.070584043860435,-0.008054670877755,-0.071797318756580,0.061766665428877));
res += mul(Get(s0,dx,dy), float4x4(-0.018848953768611,0.086013145744801,-0.043712221086025,-0.129976481199265,0.135792851448059,0.010345850139856,0.101257748901844,-0.050899758934975,-0.076408550143242,-0.170439288020134,0.117920920252800,0.073944874107838,-0.026632448658347,0.119272068142891,0.197888329625130,-0.052185576409101));
res += mul(Get(s1,-dx,-dy), float4x4(-0.027954839169979,0.019467132166028,0.101796433329582,-0.020986020565033,-0.060317531228065,-0.016285276040435,0.110381826758385,-0.080665253102779,0.032438285648823,0.031602215021849,0.021166600286961,-0.085268363356590,-0.194514557719231,0.025326091796160,-0.106679357588291,0.073623858392239));
res += mul(Get(s1,-dx,0), float4x4(0.141544505953789,0.176586985588074,-0.059803869575262,0.193971022963524,0.086680009961128,0.014034594409168,-0.050221528857946,-0.208790481090546,0.087085932493210,0.142880901694298,0.114594615995884,-0.092632725834846,-0.023595588281751,0.030478434637189,-0.088035218417645,0.112316548824310));
res += mul(Get(s1,-dx,dy), float4x4(-0.059920359402895,0.028317520394921,-0.067388221621513,-0.015636213123798,-0.010375879704952,0.036616578698158,-0.114452712237835,-0.143108323216438,-0.038176517933607,0.161578729748726,-0.002985680475831,0.042655218392611,0.101582638919353,-0.024413317441940,0.095972016453743,0.071068160235882));
res += mul(Get(s1,0,-dy), float4x4(0.007202778942883,0.024427337571979,-0.014940611086786,0.029262797906995,0.082399003207684,0.048569232225418,0.110097996890545,-0.008761031553149,0.013612945564091,-0.115965202450752,-0.098470240831375,0.048010736703873,0.052617441862822,-0.059143558144569,0.026786252856255,-0.213452652096748));
res += mul(Get(s1,0,0), float4x4(0.056167844682932,-0.181417495012283,0.004128128290176,-0.256109178066254,-0.139067679643631,0.157590091228485,0.089266486465931,-0.001537697855383,0.087020583450794,-0.032509930431843,-0.029296578839421,-0.012541048228741,0.251150906085968,-0.043386828154325,0.019688015803695,0.108573868870735));
res += mul(Get(s1,0,dy), float4x4(-0.059915635734797,-0.004761416930705,0.103853002190590,0.086925707757473,-0.008657319471240,0.079177342355251,-0.055966313928366,0.066179297864437,0.066856555640697,-0.080117985606194,0.116355977952480,-0.006173436995596,-0.008829267695546,-0.225930139422417,-0.149390220642090,-0.056418132036924));
res += mul(Get(s1,dx,-dy), float4x4(-0.099873088300228,0.080618694424629,-0.018742874264717,0.160955280065536,-0.126776114106178,-0.054369688034058,-0.068447701632977,-0.038115691393614,0.005219091661274,-0.021887958049774,-0.075898818671703,-0.077040821313858,0.073570281267166,-0.139886170625687,0.121151477098465,0.008984568528831));
res += mul(Get(s1,dx,0), float4x4(-0.030114287510514,0.152380049228668,0.055813923478127,-0.120655991137028,-0.000116134033306,0.243405953049660,0.133770406246185,-0.037414025515318,-0.167670354247093,-0.028406225144863,0.108397394418716,0.118339315056801,0.007432475686073,-0.097209542989731,-0.017020341008902,0.015685666352510));
res += mul(Get(s1,dx,dy), float4x4(-0.072338357567787,-0.073158077895641,-0.044236253947020,-0.025474054738879,-0.119339399039745,-0.055109947919846,-0.035729508846998,0.155592709779739,-0.046073533594608,-0.123678028583527,-0.026085237041116,0.014656282961369,-0.085763983428478,0.015626667067409,0.044417720288038,-0.176187321543694));
res += mul(Get(s2,-dx,-dy), float4x4(0.006789525970817,0.034154649823904,0.139838695526123,0.152352422475815,0.002095779404044,0.105956390500069,0.034441627562046,-0.112188860774040,0.013821844011545,0.202640622854233,-0.133176997303963,0.055459782481194,0.104977682232857,-0.014601215720177,-0.103011235594749,-0.077006183564663));
res += mul(Get(s2,-dx,0), float4x4(-0.054956551641226,-0.046087983995676,-0.115358069539070,0.026512585580349,0.114262729883194,-0.057310458272696,-0.070736475288868,0.057210542261600,-0.205812111496925,0.159697175025940,0.016366891562939,-0.021127076819539,-0.170799642801285,-0.001147380797192,-0.032686542719603,-0.106971882283688));
res += mul(Get(s2,-dx,dy), float4x4(-0.090660274028778,0.084328621625900,0.025803370401263,0.061585087329149,-0.121494226157665,0.051085576415062,0.056923426687717,-0.080043047666550,0.004015011712909,0.011937668547034,0.098685272037983,-0.050914689898491,-0.001884818309918,0.128944829106331,-0.044239047914743,0.072363756597042));
res += mul(Get(s2,0,-dy), float4x4(-0.055283658206463,0.052286718040705,-0.135093390941620,-0.016675285995007,-0.250695258378983,-0.019271351397038,-0.097663663327694,-0.064039781689644,0.055010702461004,-0.122622214257717,0.140608176589012,-0.223667398095131,0.048649154603481,0.008731500245631,-0.044028084725142,-0.176490917801857));
res += mul(Get(s2,0,0), float4x4(-0.014869837090373,0.089699089527130,-0.195199623703957,0.047301121056080,-0.006920516956598,0.048775244504213,0.035123668611050,-0.058156833052635,0.084150590002537,-0.073297880589962,-0.052554637193680,-0.123313166201115,0.122218929231167,0.064466059207916,0.033653497695923,0.064436815679073));
res += mul(Get(s2,0,dy), float4x4(0.274592638015747,0.006081547588110,0.116169452667236,-0.010852725245059,0.101414524018764,-0.068852841854095,0.276337891817093,0.112741462886333,0.072495996952057,-0.058910869061947,0.032982103526592,-0.002187182195485,-0.118508279323578,-0.098572485148907,0.063438370823860,-0.043289661407471));
res += mul(Get(s2,dx,-dy), float4x4(-0.051743824034929,0.022328775376081,0.007435843348503,-0.032978340983391,-0.245483055710793,0.088503055274487,0.076172441244125,0.014463178813457,0.076483085751534,0.088920637965202,0.052864383906126,-0.187397465109825,0.027413791045547,0.127402395009995,-0.024914519861341,-0.033551309257746));
res += mul(Get(s2,dx,0), float4x4(-0.064541101455688,0.050300858914852,0.047137051820755,0.100450754165649,0.085118435323238,-0.243402868509293,-0.053136520087719,-0.113869979977608,0.125066414475441,0.201260134577751,0.024539232254028,-0.051252271980047,0.141545221209526,-0.145704120397568,0.024941818788648,0.053468931466341));
res += mul(Get(s2,dx,dy), float4x4(-0.064761862158775,0.005181773100048,-0.110192313790321,-0.013713737949729,0.129115179181099,-0.061773508787155,-0.013596279546618,-0.034239534288645,-0.122608110308647,0.020776445046067,-0.065779231488705,-0.055210530757904,0.032494351267815,0.065872669219971,0.128703922033310,0.039101988077164));
res += mul(Get(s3,-dx,-dy), float4x4(0.088030733168125,-0.072417505085468,-0.016794035211205,0.313762784004211,-0.098434589803219,-0.026921993121505,-0.071156136691570,0.032644037157297,0.077021352946758,0.088657967746258,-0.027703877538443,-0.077016308903694,0.093006834387779,0.017542058601975,0.003981295041740,-0.041308876127005));
res += mul(Get(s3,-dx,0), float4x4(0.007270859088749,0.305877089500427,0.065161027014256,-0.143874704837799,0.065100528299809,-0.100977405905724,-0.032581660896540,0.090571478009224,-0.049951832741499,-0.071159027516842,0.035742681473494,0.076006218791008,-0.055571459233761,0.145842790603638,0.093027569353580,-0.292519867420197));
res += mul(Get(s3,-dx,dy), float4x4(-0.041592229157686,-0.007461399305612,0.027599316090345,0.080360166728497,0.056804995983839,0.137452244758606,0.146482825279236,-0.037761077284813,-0.098884925246239,0.039826828986406,-0.056352738291025,0.007441356312484,-0.072640269994736,-0.024476988241076,0.005585364531726,0.138844355940819));
res += mul(Get(s3,0,-dy), float4x4(0.111018866300583,-0.086286030709743,0.008955289609730,0.108182601630688,0.163984268903732,0.015547307208180,-0.175451010465622,-0.000589082483202,-0.018102305009961,-0.002386997919530,0.004123231861740,-0.222549602389336,0.151824325323105,-0.077945925295353,-0.281843334436417,-0.040456470102072));
res += mul(Get(s3,0,0), float4x4(0.066191539168358,-0.023867188021541,0.015873204916716,0.069494061172009,0.206517845392227,-0.110292747616768,0.054780140519142,-0.013212160207331,-0.007663097698241,0.001966348383576,-0.139980271458626,0.141312479972839,0.101388275623322,0.039435271173716,-0.053985726088285,0.092714302241802));
res += mul(Get(s3,0,dy), float4x4(0.123282074928284,0.125312879681587,-0.033543124794960,0.020694570615888,0.141651898622513,0.161340355873108,0.089233227074146,-0.154522120952606,-0.135749474167824,-0.106793612241745,-0.034559205174446,-0.077424034476280,0.039904065430164,0.089557223021984,0.109770372509956,0.100633822381496));
res += mul(Get(s3,dx,-dy), float4x4(-0.035197842866182,0.004794689361006,-0.039124645292759,0.061523705720901,-0.109679959714413,0.121081374585629,0.072224602103233,0.164435982704163,0.001114220242016,0.128152489662170,-0.075016036629677,-0.147869288921356,0.030882185325027,-0.040623735636473,0.108911730349064,0.038986902683973));
res += mul(Get(s3,dx,0), float4x4(0.014181323349476,-0.181906059384346,0.184742540121078,-0.285026371479034,-0.161213442683220,-0.126079082489014,-0.142423555254936,-0.210548684000969,-0.109739117324352,0.047813434153795,-0.024455266073346,-0.079020015895367,-0.096122317016125,-0.127571105957031,0.204658910632133,0.000272303761449));
res += mul(Get(s3,dx,dy), float4x4(0.111648574471474,0.067061848938465,-0.018858389928937,0.081065319478512,-0.127992346882820,0.025120025500655,0.179092794656754,0.003424338996410,-0.088364511728287,0.000591209740378,0.038920726627111,0.061490282416344,-0.073180221021175,-0.174075990915298,-0.075268402695656,0.136734083294868));
res = max(float4(0,0,0,0), res);
return res;
}
