sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000724785611965,0.034024141728878,-0.000741013907827,0.115601271390915,0.051300574094057,0.068758420646191,0.144255578517914,0.019544485956430,0.057418301701546,-0.034039113670588,-0.094341114163399,0.000694549526088,0.128668621182442,-0.042996559292078,0.067117407917976,0.014161053113639));
res += mul(Get(s0,-dx,0), float4x4(-0.074650228023529,-0.053544316440821,0.039132189005613,-0.154543802142143,0.049505684524775,-0.026436120271683,-0.075371757149696,-0.100164271891117,-0.021614301949739,-0.094076544046402,0.103759400546551,0.128599166870117,-0.165777146816254,0.085115142166615,0.025424119085073,-0.272055774927139));
res += mul(Get(s0,-dx,dy), float4x4(0.009522989392281,-0.090248949825764,-0.029453592374921,0.254849016666412,-0.011404456570745,0.018827237188816,-0.118061840534210,0.080431878566742,0.085539475083351,-0.089152596890926,-0.098106935620308,-0.030454384163022,0.047349732369184,-0.013929124921560,-0.069340631365776,-0.040056116878986));
res += mul(Get(s0,0,-dy), float4x4(-0.200926735997200,-0.242766067385674,0.040700152516365,-0.042467277497053,-0.075578205287457,-0.007108319085091,-0.066614061594009,-0.071490772068501,-0.044563930481672,-0.158258974552155,0.148664712905884,0.040570691227913,0.030101634562016,0.024920266121626,-0.221079111099243,-0.116511620581150));
res += mul(Get(s0,0,0), float4x4(-0.091675721108913,-0.066290624439716,0.059602890163660,-0.153215870261192,0.041493386030197,0.007476311177015,-0.072026245296001,-0.099716387689114,0.033203754574060,0.129945695400238,-0.033564109355211,-0.172783985733986,0.051563523709774,0.040173206478357,-0.087890543043613,0.051605951040983));
res += mul(Get(s0,0,dy), float4x4(-0.034366425126791,0.042946562170982,0.054906453937292,-0.047068696469069,-0.022949853911996,0.072281561791897,-0.130662903189659,0.197266355156898,0.055877801030874,0.010765486396849,-0.079541340470314,-0.114603467285633,-0.009221425279975,0.092817574739456,0.056894328445196,0.020024271681905));
res += mul(Get(s0,dx,-dy), float4x4(0.116666540503502,-0.030834244564176,-0.035161260515451,-0.034984502941370,-0.152958109974861,-0.047098591923714,-0.134313508868217,0.009411403909326,0.007290981709957,-0.008967377245426,0.122967079281807,0.068215601146221,0.071835942566395,-0.051347322762012,0.096158236265182,-0.164130344986916));
res += mul(Get(s0,dx,0), float4x4(0.033394023776054,-0.171981468796730,0.011592002585530,0.152374327182770,0.063147768378258,0.143938198685646,0.165841370820999,0.109099820256233,-0.063211053609848,0.013223491609097,-0.060918293893337,-0.040887523442507,-0.032597210258245,-0.094982199370861,0.013610482215881,-0.004873765166849));
res += mul(Get(s0,dx,dy), float4x4(0.198733642697334,0.111127562820911,-0.070449404418468,-0.031511384993792,-0.010217309929430,-0.115743115544319,0.000771206454374,0.072630308568478,0.020135063678026,-0.064752526581287,-0.003629982704297,-0.026377940550447,0.030620215460658,0.019396843388677,0.082644678652287,-0.007238932419568));
res += mul(Get(s1,-dx,-dy), float4x4(0.114850394427776,-0.092679142951965,0.030735569074750,0.051787517964840,0.216985508799553,-0.018760204315186,-0.010695923119783,-0.107398927211761,-0.115935280919075,-0.036096651107073,0.041026357561350,0.135796114802361,0.057862393558025,-0.028170188888907,-0.040356725454330,-0.037968076765537));
res += mul(Get(s1,-dx,0), float4x4(-0.010413160547614,0.120046168565750,0.142637193202972,-0.063008219003677,0.073293343186378,-0.033822670578957,-0.139322355389595,0.050482150167227,0.062070805579424,-0.191014811396599,-0.100588090717793,-0.053286213427782,-0.109407886862755,0.050615381449461,0.082216456532478,0.075616352260113));
res += mul(Get(s1,-dx,dy), float4x4(-0.106360018253326,-0.105724304914474,0.148236393928528,-0.134026542305946,0.078815184533596,0.080376394093037,-0.057158149778843,0.036439664661884,0.240472763776779,-0.025030219927430,0.020214827731252,-0.172079712152481,-0.096722975373268,-0.047948773950338,-0.053857732564211,0.073231250047684));
res += mul(Get(s1,0,-dy), float4x4(-0.010312902741134,0.110134333372116,-0.060173798352480,-0.006728686857969,0.137029379606247,-0.093938045203686,-0.099010616540909,0.022096591070294,-0.015516402199864,0.071904063224792,0.242176324129105,-0.039140477776527,0.028971023857594,-0.045082818716764,0.172575697302818,-0.012679403647780));
res += mul(Get(s1,0,0), float4x4(0.047105997800827,0.164096176624298,0.000244765367825,0.051385167986155,-0.064804628491402,-0.086149789392948,0.004507409874350,0.075556941330433,-0.025268256664276,0.064239412546158,-0.043088097125292,0.003073882311583,-0.016719801351428,0.143372073769569,0.119151085615158,-0.051094271242619));
res += mul(Get(s1,0,dy), float4x4(-0.025555402040482,-0.128180369734764,0.058449689298868,0.034808360040188,0.008820313028991,0.323009192943573,-0.034221239387989,0.065896295011044,0.178359404206276,0.160961791872978,0.019125178456306,-0.191048651933670,-0.164451405405998,-0.014424146153033,-0.068807512521744,0.029534403234720));
res += mul(Get(s1,dx,-dy), float4x4(0.165072157979012,0.116301931440830,0.125631272792816,0.065417513251305,0.124599702656269,0.103111512959003,0.091704562306404,-0.030869184061885,-0.105568535625935,0.099181137979031,0.111077912151814,0.121343865990639,-0.173751831054688,-0.157251104712486,0.182712376117706,0.187353089451790));
res += mul(Get(s1,dx,0), float4x4(-0.042303621768951,0.050248172134161,0.012624145485461,-0.093994252383709,-0.073409914970398,0.052795898169279,-0.000149881481775,0.002580971224234,-0.028609246015549,0.022649163380265,-0.100878149271011,0.128011643886566,-0.172991007566452,-0.218697309494019,-0.027984321117401,-0.141862377524376));
res += mul(Get(s1,dx,dy), float4x4(-0.040624432265759,0.010889963246882,-0.053096663206816,-0.086943209171295,0.034816388040781,0.092934973537922,-0.126880660653114,0.245338007807732,-0.001070254715160,-0.067972667515278,0.124308064579964,-0.000902856991161,0.003035911126062,0.025040492415428,0.080246806144714,0.174675613641739));
res += mul(Get(s2,-dx,-dy), float4x4(0.036456231027842,-0.052854053676128,0.017609661445022,-0.183942615985870,0.205664172768593,0.002462802454829,-0.147896170616150,-0.062337309122086,-0.143894255161285,0.006543559022248,-0.119177147746086,0.009219377301633,-0.146137982606888,0.098836399614811,0.216107204556465,-0.001010811771266));
res += mul(Get(s2,-dx,0), float4x4(0.065992034971714,-0.035293210297823,-0.001035227789544,-0.084102474153042,0.018414989113808,0.000844445603434,-0.003601224860176,0.013798526488245,-0.145117551088333,-0.142263218760490,-0.114914454519749,-0.000248532189289,0.076689593493938,0.049667298793793,0.120676182210445,-0.023792993277311));
res += mul(Get(s2,-dx,dy), float4x4(-0.110789433121681,-0.006932427641004,0.202281683683395,0.053367830812931,0.070185616612434,0.128791287541389,-0.059724885970354,0.217789202928543,-0.014026828110218,-0.114648438990116,0.005990952253342,0.115020386874676,-0.026521099731326,-0.124788120388985,0.050008561462164,-0.031919665634632));
res += mul(Get(s2,0,-dy), float4x4(-0.204958140850067,0.009826383553445,-0.156545251607895,0.116531521081924,-0.185490891337395,0.160896152257919,0.088848374783993,0.020884644240141,-0.071679390966892,-0.042328182607889,-0.202284410595894,0.008979327976704,-0.061208061873913,-0.000692459521815,0.073601588606834,-0.040173403918743));
res += mul(Get(s2,0,0), float4x4(0.052760079503059,-0.099094018340111,-0.154761463403702,-0.077188886702061,-0.117740273475647,0.036075729876757,-0.068809501826763,-0.008131028153002,-0.079387292265892,0.035227380692959,0.088503390550613,-0.036666993051767,-0.021839350461960,0.058283295482397,0.121133968234062,0.127898767590523));
res += mul(Get(s2,0,dy), float4x4(-0.015367783606052,-0.002483643591404,0.076710194349289,-0.010640666820109,-0.080437809228897,-0.092990629374981,0.074411563575268,0.104234218597412,0.110993608832359,-0.044179569929838,0.144828319549561,-0.086117304861546,0.050656776875257,-0.087332151830196,0.006853888742626,0.128276601433754));
res += mul(Get(s2,dx,-dy), float4x4(-0.002063042717054,-0.221148759126663,-0.216257497668266,-0.083387881517410,0.026801258325577,0.040382392704487,-0.081343203783035,-0.006315514445305,-0.049393769353628,-0.158752605319023,0.060601741075516,0.048882700502872,0.115367181599140,-0.053105890750885,-0.018738135695457,-0.049772426486015));
res += mul(Get(s2,dx,0), float4x4(-0.042173795402050,-0.091861695051193,0.081407733261585,-0.155811205506325,0.084772840142250,0.114647746086121,0.106041148304939,-0.124996736645699,0.019719583913684,0.126460388302803,-0.119058467447758,0.092490613460541,0.012354386039078,0.062205001711845,-0.032668717205524,0.061189014464617));
res += mul(Get(s2,dx,dy), float4x4(-0.036480702459812,-0.038818486034870,0.129777103662491,0.107660472393036,0.244499087333679,0.107587330043316,0.034639347344637,0.111390247941017,-0.019661929458380,-0.017094941809773,0.020421255379915,0.032700058072805,-0.156992807984352,-0.088697254657745,0.008691477589309,-0.065749816596508));
res += mul(Get(s3,-dx,-dy), float4x4(0.090965010225773,-0.069668881595135,-0.031442493200302,-0.080764196813107,-0.077323034405708,-0.048435468226671,-0.038856025785208,0.007865003310144,0.033492282032967,-0.043268591165543,0.108639523386955,0.118168666958809,-0.063472107052803,0.009895675815642,0.075047209858894,0.054434310644865));
res += mul(Get(s3,-dx,0), float4x4(-0.040454510599375,0.121553860604763,-0.084409758448601,0.006768361665308,0.120400883257389,0.103147394955158,0.059707712382078,0.000235440820688,-0.022098479792476,0.051178380846977,-0.041425447911024,-0.086641736328602,-0.199246242642403,0.064375817775726,0.065133057534695,-0.085082136094570));
res += mul(Get(s3,-dx,dy), float4x4(0.224259167909622,-0.028541058301926,-0.098365314304829,0.067973449826241,-0.055297058075666,-0.204139426350594,0.119455106556416,0.033446267247200,-0.019936783239245,0.118977583944798,-0.043012294918299,0.198292687535286,-0.139912828803062,-0.066235661506653,0.052490301430225,0.038809187710285));
res += mul(Get(s3,0,-dy), float4x4(0.040283404290676,0.064950317144394,0.057144921272993,-0.055219687521458,-0.005659704096615,0.036070525646210,-0.031061600893736,0.053242195397615,0.166700512170792,-0.135648608207703,0.056588921695948,-0.045504618436098,-0.000640122336335,-0.100605934858322,0.097268916666508,-0.103110842406750));
res += mul(Get(s3,0,0), float4x4(0.063858151435852,-0.023365501314402,-0.059850130230188,-0.135346397757530,0.155835166573524,-0.056778166443110,0.067785240709782,-0.059619106352329,0.223266720771790,-0.273746758699417,-0.010725351981819,0.019331745803356,-0.059124566614628,-0.026156719774008,-0.023227132856846,0.019986454397440));
res += mul(Get(s3,0,dy), float4x4(-0.012975965626538,-0.129254028201103,-0.097632497549057,0.113200657069683,-0.044864308089018,0.092878215014935,0.284992396831512,0.033762857317924,-0.017213258892298,-0.007953308522701,-0.075611442327499,0.106298938393593,0.142303541302681,-0.177611798048019,0.036558579653502,-0.059574287384748));
res += mul(Get(s3,dx,-dy), float4x4(-0.091976366937160,-0.078727029263973,-0.148415952920914,-0.057136654853821,-0.015733439475298,0.006189821287990,-0.036748051643372,0.058445926755667,-0.098412923514843,0.035647362470627,-0.216815620660782,-0.136824920773506,-0.180745974183083,0.052238784730434,-0.009070187807083,0.014903489500284));
res += mul(Get(s3,dx,0), float4x4(-0.055063743144274,-0.096173383295536,-0.146093562245369,-0.013269033282995,0.068794898688793,0.162005230784416,0.041932694613934,0.033939193934202,-0.007301054429263,0.183479174971581,-0.144233539700508,0.051220819354057,-0.089109972119331,-0.106274619698524,0.041547790169716,-0.088254511356354));
res += mul(Get(s3,dx,dy), float4x4(-0.105301566421986,-0.007478565443307,0.058660104870796,0.077918700873852,0.018327962607145,-0.041424494236708,-0.033506441861391,-0.155116915702820,-0.069513134658337,0.006177288945764,-0.056226059794426,0.058437578380108,0.052485048770905,-0.150014057755470,-0.020144982263446,0.032221373170614));
res = max(float4(0,0,0,0), res);
return res;
}
