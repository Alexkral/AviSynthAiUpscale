sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.082971394062042,0.111847527325153,0.085045009851456,-0.224638983607292,-0.067323274910450,0.043759714812040,0.028936862945557,-0.084894537925720,-0.107588581740856,0.042608898133039,0.049691408872604,0.040024109184742,-0.239704132080078,-0.051913175731897,0.100305199623108,-0.004925586283207));
res += mul(Get(s0,-dx,0), float4x4(-0.114329919219017,-0.180033236742020,0.114084035158157,-0.038989305496216,0.127661362290382,-0.233156874775887,-0.104846991598606,0.051146633923054,0.251515865325928,-0.000896199722774,-0.203077763319016,0.091651178896427,-0.149088010191917,-0.130723178386688,-0.065918341279030,0.175038799643517));
res += mul(Get(s0,-dx,dy), float4x4(-0.108762219548225,-0.022335398942232,-0.158803030848503,0.066439591348171,-0.004043503198773,-0.238838508725166,0.025439821183681,-0.002831681864336,0.192911922931671,0.069395139813423,-0.130178913474083,0.014396268874407,0.034312628209591,-0.039362885057926,0.186075240373611,-0.052440814673901));
res += mul(Get(s0,0,-dy), float4x4(-0.039578400552273,-0.243245825171471,-0.186534807085991,0.037553302943707,-0.073627732694149,0.003448465140536,-0.078726790845394,-0.118775762617588,0.042006537318230,0.045654829591513,0.113405562937260,0.055588625371456,0.040262661874294,0.066737279295921,-0.111100845038891,-0.000294651690638));
res += mul(Get(s0,0,0), float4x4(-0.210705518722534,0.115738108754158,-0.098059237003326,0.042675461620092,0.151163667440414,-0.094898268580437,0.191981032490730,-0.003281720913947,-0.139551803469658,0.100537694990635,0.079099945724010,0.069478303194046,0.046470183879137,0.084955476224422,0.020489318296313,0.094639956951141));
res += mul(Get(s0,0,dy), float4x4(0.096564702689648,0.114972561597824,0.098681025207043,-0.061383314430714,-0.021062832325697,0.052756313234568,0.071307010948658,-0.073728762567043,-0.072991825640202,-0.020126515999436,-0.081264168024063,0.115307837724686,-0.013404225930572,-0.104404717683792,-0.156451165676117,0.015412811189890));
res += mul(Get(s0,dx,-dy), float4x4(0.073478847742081,-0.001286023063585,0.109062619507313,0.020516300573945,-0.049807123839855,0.061776552349329,0.132021546363831,-0.069262817502022,-0.007926711812615,-0.025372505187988,-0.090231373906136,0.050831709057093,0.018899347633123,-0.048464100807905,-0.074455544352531,0.144543990492821));
res += mul(Get(s0,dx,0), float4x4(-0.000562717672437,0.023528181016445,-0.041395954787731,-0.168779447674751,-0.013920547440648,0.087164923548698,-0.066939048469067,0.087813057005405,0.077634282410145,0.124928608536720,0.083142921328545,0.144624844193459,-0.048985589295626,0.014060548506677,-0.061099566519260,0.106393560767174));
res += mul(Get(s0,dx,dy), float4x4(-0.012418039143085,-0.225509107112885,0.058851029723883,-0.079884111881256,-0.075087025761604,-0.071036309003830,0.093458220362663,0.008565204218030,-0.127819895744324,-0.201106563210487,-0.026898629963398,-0.002241463633254,0.088686466217041,-0.030022719874978,0.041288595646620,0.029997726902366));
res += mul(Get(s1,-dx,-dy), float4x4(-0.139054238796234,0.031056191772223,0.097016870975494,-0.080039508640766,-0.007002117112279,-0.147782981395721,0.073386788368225,0.027459191158414,-0.019713899120688,0.007677182555199,0.067888185381889,0.006410296540707,-0.086789108812809,-0.005202882457525,-0.081797488033772,-0.120866648852825));
res += mul(Get(s1,-dx,0), float4x4(0.047466807067394,0.041137665510178,0.031942714005709,0.058314330875874,-0.020264402031898,0.000368281995179,-0.061070870608091,0.066179141402245,0.059546276926994,0.066317513585091,-0.001360083580948,0.060950588434935,-0.005972438957542,-0.108428731560707,-0.100782312452793,-0.099371708929539));
res += mul(Get(s1,-dx,dy), float4x4(-0.087546356022358,-0.095658548176289,-0.038135185837746,-0.142248630523682,-0.022217378020287,-0.056987967342138,-0.062765739858150,0.043778464198112,0.027684845030308,-0.036956876516342,0.037077493965626,-0.142038881778717,-0.016011588275433,-0.190282091498375,-0.171502351760864,-0.118987329304218));
res += mul(Get(s1,0,-dy), float4x4(-0.034764759242535,-0.018264580518007,0.084617748856544,0.025150379166007,-0.032496999949217,0.222218692302704,0.025901984423399,-0.135236576199532,-0.101536042988300,0.145934835076332,0.049428109079599,0.037284519523382,-0.051790170371532,0.176140472292900,0.114777192473412,-0.178287744522095));
res += mul(Get(s1,0,0), float4x4(0.057607758790255,-0.219385549426079,0.081345185637474,0.083166748285294,0.002035511424765,0.115744523704052,-0.021949565038085,-0.043158177286386,0.090577036142349,-0.044357210397720,-0.017056088894606,-0.017900342121720,0.175519213080406,-0.064634367823601,0.135378733277321,0.031100193038583));
res += mul(Get(s1,0,dy), float4x4(0.107024438679218,0.117906235158443,0.011738147586584,0.021910762414336,0.002996334573254,-0.256390184164047,-0.006516640540212,0.126208528876305,0.031415570527315,0.042128480970860,0.056112270802259,-0.097975268959999,-0.093386605381966,0.012163935229182,0.002907563932240,-0.164313897490501));
res += mul(Get(s1,dx,-dy), float4x4(-0.114956349134445,-0.064334340393543,0.063336148858070,0.090396791696548,0.085753202438354,0.038042105734348,0.059479888528585,-0.005027881823480,0.026174565777183,0.045960351824760,-0.010510539636016,-0.000659547105897,-0.045285481959581,0.086724147200584,0.095263995230198,0.012363350018859));
res += mul(Get(s1,dx,0), float4x4(0.129853174090385,-0.123655632138252,0.043744467198849,0.209849566221237,0.157734408974648,-0.152496308088303,0.107017599046230,0.060143720358610,0.053056668490171,0.006632190197706,-0.031693361699581,-0.193305194377899,-0.070376150310040,0.042409826070070,0.093222886323929,0.080879107117653));
res += mul(Get(s1,dx,dy), float4x4(0.068325951695442,-0.026029728353024,-0.101369023323059,0.095022365450859,0.048373825848103,-0.031478013843298,-0.016952691599727,-0.103359773755074,0.027071336284280,0.092525936663151,0.158869087696075,-0.219093412160873,-0.121826320886612,-0.079952344298363,0.100125059485435,-0.003040244802833));
res += mul(Get(s2,-dx,-dy), float4x4(-0.019014976918697,-0.050141330808401,0.002638594945893,0.010340878739953,-0.033154208213091,-0.004612173885107,-0.007991943508387,0.037851702421904,-0.051582224667072,-0.190619647502899,0.077065691351891,0.014196174219251,-0.002882820321247,0.082158207893372,-0.005440169479698,0.109418526291847));
res += mul(Get(s2,-dx,0), float4x4(-0.027517706155777,-0.014612154103816,0.042879369109869,-0.038664057850838,-0.002990102861077,-0.151445552706718,-0.002407084684819,-0.023252766579390,-0.033185601234436,0.108153894543648,-0.193346485495567,-0.073266237974167,0.016064669936895,-0.090831942856312,-0.063671462237835,0.118950530886650));
res += mul(Get(s2,-dx,dy), float4x4(0.161331176757813,0.152442425489426,0.008191742934287,-0.153122574090958,0.055629339069128,0.016447350382805,0.014977307058871,-0.118295684456825,0.000530440069269,0.250713974237442,0.010511527769268,0.079919472336769,-0.161019742488861,0.032082960009575,-0.126658022403717,0.005439644213766));
res += mul(Get(s2,0,-dy), float4x4(-0.025367949157953,-0.088493146002293,0.284893721342087,-0.003914500586689,-0.029310671612620,-0.059839449822903,0.100639924407005,0.207611978054047,-0.318105876445770,0.099750779569149,0.004844481591135,0.064306765794754,-0.008862990885973,-0.060681212693453,0.013278406113386,-0.132564663887024));
res += mul(Get(s2,0,0), float4x4(-0.110375083982944,0.081155985593796,-0.118026845157146,0.098733246326447,0.041027724742889,-0.009181648492813,0.102038048207760,-0.244741320610046,-0.048932664096355,-0.030359497293830,0.225094765424728,0.066845908761024,0.162848040461540,-0.031750652939081,-0.139089465141296,-0.038185831159353));
res += mul(Get(s2,0,dy), float4x4(0.168074786663055,0.032720942050219,-0.195713639259338,0.178537443280220,0.061749730259180,0.020281743258238,0.178581267595291,-0.054781910032034,0.125384286046028,0.044310003519058,-0.008564975112677,-0.043834693729877,0.010156190954149,-0.056454550474882,-0.107421956956387,-0.077997706830502));
res += mul(Get(s2,dx,-dy), float4x4(0.126728266477585,-0.023276418447495,-0.116162545979023,-0.044661138206720,-0.121777817606926,-0.086286731064320,0.169519022107124,-0.138402283191681,-0.109112776815891,-0.119012229144573,-0.042133204638958,0.104866527020931,0.003870083484799,-0.105899281799793,0.118915393948555,-0.058178473263979));
res += mul(Get(s2,dx,0), float4x4(-0.025360675528646,-0.106927886605263,-0.107722938060760,-0.167480453848839,-0.096040137112141,-0.031432673335075,-0.078182764351368,-0.068346105515957,0.096625111997128,0.182083219289780,0.020423088222742,0.066861629486084,-0.077154695987701,-0.092122927308083,-0.043578725308180,0.057120874524117));
res += mul(Get(s2,dx,dy), float4x4(-0.154470652341843,-0.028112240135670,-0.045785546302795,0.017123987898231,-0.052902810275555,0.028275689110160,-0.178710073232651,0.028585074469447,0.037211500108242,0.084829218685627,0.027548193931580,0.257365256547928,-0.003222117200494,-0.021564656868577,-0.015092835761607,-0.057283174246550));
res += mul(Get(s3,-dx,-dy), float4x4(0.023886272683740,-0.175015255808830,0.091422162950039,-0.092087313532829,-0.171222656965256,0.019918378442526,-0.003387419972569,-0.013402313925326,0.033586658537388,0.016000315546989,0.017101321369410,0.107741676270962,-0.005421464797109,-0.006556741427630,0.072551831603050,0.006111222319305));
res += mul(Get(s3,-dx,0), float4x4(0.043846070766449,0.062872305512428,-0.034144707024097,-0.042067926377058,-0.060697603970766,0.122417196631432,-0.022744946181774,-0.120150320231915,0.111226521432400,0.084195129573345,0.099862053990364,-0.023348582908511,0.093934558331966,0.062920704483986,0.145876005291939,-0.042311217635870));
res += mul(Get(s3,-dx,dy), float4x4(-0.038312852382660,-0.012044764123857,0.107087604701519,-0.016530923545361,-0.028600474819541,-0.030685288831592,-0.026161435991526,-0.142546266317368,0.103340446949005,-0.030102420598269,-0.042611610144377,-0.016719153150916,0.060939528048038,0.011327541433275,-0.165117606520653,-0.037858527153730));
res += mul(Get(s3,0,-dy), float4x4(-0.024292871356010,0.071843601763248,-0.037267342209816,0.041960004717112,0.042215980589390,0.135732814669609,0.116364605724812,0.032220594584942,-0.067047320306301,-0.055653475224972,-0.046113226562738,0.070937708020210,0.035163044929504,0.185998484492302,0.104013696312904,-0.139975592494011));
res += mul(Get(s3,0,0), float4x4(0.208198383450508,0.028823526576161,0.101018786430359,-0.098101146519184,-0.171512588858604,0.052863106131554,-0.007524944376200,-0.026643697172403,0.026351829990745,-0.031745940446854,0.204804182052612,0.057184077799320,0.129051938652992,0.032200425863266,0.147090226411819,0.080209493637085));
res += mul(Get(s3,0,dy), float4x4(-0.232297942042351,0.050644155591726,0.065423458814621,0.032532423734665,0.048165798187256,0.132811829447746,0.148131638765335,0.050792913883924,-0.097293652594090,-0.112827077507973,0.096416108310223,-0.115255482494831,0.096186697483063,0.186157539486885,0.002495705382898,0.045213926583529));
res += mul(Get(s3,dx,-dy), float4x4(0.229530692100525,-0.152519583702087,-0.022486401721835,0.007950171828270,-0.124170303344727,0.006884026341140,-0.036652214825153,-0.094185024499893,-0.136085361242294,-0.050713784992695,-0.044017259031534,-0.157771110534668,0.024592274799943,-0.074652172625065,0.184517294168472,-0.009648261591792));
res += mul(Get(s3,dx,0), float4x4(0.034805826842785,-0.103692151606083,-0.091155312955379,0.136260062456131,0.007169398944825,-0.072108067572117,0.113260492682457,0.195502772927284,0.095268853008747,-0.018575705587864,0.066355325281620,-0.112954542040825,-0.070798113942146,0.053629938513041,0.016309194266796,0.104751519858837));
res += mul(Get(s3,dx,dy), float4x4(0.102939374744892,-0.046774286776781,-0.105761811137199,-0.021987173706293,0.067239165306091,-0.157120823860168,-0.043827593326569,0.012781187891960,0.000043179170461,0.004689258057624,-0.037396650761366,-0.145661562681198,-0.066708251833916,-0.027381066232920,-0.129728436470032,-0.090115062892437));
res = max(float4(0,0,0,0), res);
return res;
}
