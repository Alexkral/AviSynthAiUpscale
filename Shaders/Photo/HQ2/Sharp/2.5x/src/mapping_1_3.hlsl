sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.067638985812664,0.069915287196636,-0.075786292552948,-0.084082826972008,-0.068248257040977,0.036831129342318,-0.168197810649872,-0.009890539571643,0.165704891085625,-0.035118434578180,0.064809970557690,-0.161292910575867,-0.080703072249889,-0.111638449132442,0.112609714269638,-0.015589032322168));
res += mul(Get(s0,-dx,0), float4x4(-0.002333813346922,0.018640786409378,0.027637543156743,-0.042569160461426,-0.012251034379005,-0.065501116216183,-0.048195898532867,0.007879143580794,0.029024658724666,0.047652248293161,-0.088967174291611,-0.006392859388143,-0.037548441439867,-0.072754696011543,0.033044092357159,0.119626745581627));
res += mul(Get(s0,-dx,dy), float4x4(-0.177546381950378,-0.029643790796399,0.151426017284393,0.089093081653118,0.039715051651001,-0.085080243647099,-0.032701406627893,0.148189514875412,-0.126291528344154,-0.013304017484188,-0.005955862347037,-0.097209826111794,0.012053043581545,-0.031034471467137,0.001554857939482,-0.018719064071774));
res += mul(Get(s0,0,-dy), float4x4(-0.070538267493248,0.174830690026283,-0.103362098336220,0.019246149808168,0.042958617210388,0.025947758927941,-0.062079802155495,0.020629918202758,0.047429502010345,-0.065122686326504,0.021429399028420,-0.067303106188774,0.017933705821633,-0.123509399592876,-0.119806706905365,-0.024070534855127));
res += mul(Get(s0,0,0), float4x4(-0.080642215907574,0.042608287185431,-0.105514436960220,0.090413697063923,0.019045999273658,0.189048245549202,-0.036024618893862,-0.014235078357160,-0.060868632048368,-0.051345471292734,-0.069595709443092,0.030721161514521,-0.022189538925886,-0.002008969895542,0.050910737365484,-0.107691556215286));
res += mul(Get(s0,0,dy), float4x4(0.015214522369206,-0.028495656326413,-0.061937149614096,0.006252675317228,0.014659480191767,-0.036900736391544,-0.121502242982388,0.007754746824503,-0.074623636901379,-0.139916479587555,-0.003962952643633,-0.116691567003727,-0.015704024583101,0.035006292164326,-0.125088170170784,0.162895992398262));
res += mul(Get(s0,dx,-dy), float4x4(-0.162749350070953,0.012343227863312,0.022703191265464,0.254894107580185,-0.099704593420029,-0.124294944107533,0.046572934836149,0.077488519251347,-0.046022918075323,-0.099784269928932,0.031559303402901,-0.101939707994461,0.003464727662504,-0.099102944135666,0.163665324449539,-0.025660037994385));
res += mul(Get(s0,dx,0), float4x4(0.118226476013660,-0.010513593442738,-0.031721327453852,-0.172342911362648,-0.020527953281999,-0.039527643471956,-0.234695091843605,-0.071116350591183,-0.110720016062260,-0.158477500081062,-0.103801541030407,-0.156796008348465,0.047144293785095,0.114608809351921,0.054165463894606,0.133133068680763));
res += mul(Get(s0,dx,dy), float4x4(0.193686723709106,0.000909828755539,-0.109240226447582,-0.043217051774263,0.072654813528061,-0.067539706826210,0.005577151663601,0.045761357992887,-0.040206149220467,-0.066500805318356,0.080713324248791,-0.229392230510712,0.131812304258347,-0.163181707262993,0.027245379984379,0.037241704761982));
res += mul(Get(s1,-dx,-dy), float4x4(0.063699223101139,-0.040256027132273,-0.040488608181477,-0.027140099555254,-0.074053913354874,0.205200269818306,0.098738938570023,0.036104116588831,-0.049472395330667,-0.132090181112289,-0.002792731858790,-0.151099920272827,0.107547074556351,0.004591718781739,-0.053473096340895,-0.176517903804779));
res += mul(Get(s1,-dx,0), float4x4(-0.029500519856811,-0.152592256665230,-0.223867967724800,0.111172765493393,0.001650481717661,0.227587342262268,-0.025810368359089,0.082968205213547,-0.033688656985760,-0.200395271182060,0.072392627596855,-0.128004759550095,0.080520965158939,0.017531804740429,0.002439785283059,-0.048511851578951));
res += mul(Get(s1,-dx,dy), float4x4(0.061502207070589,-0.035499639809132,-0.123049423098564,0.101147823035717,-0.070088148117065,-0.051076363772154,0.194419741630554,-0.026375725865364,-0.006100696977228,0.239615499973297,0.099573604762554,-0.016587138175964,-0.226201638579369,-0.048940256237984,0.175473272800446,0.111628726124763));
res += mul(Get(s1,0,-dy), float4x4(-0.025915056467056,-0.136209070682526,0.037546746432781,-0.011504657566547,-0.071053192019463,-0.004102220293134,-0.124446354806423,0.072871953248978,-0.179984703660011,-0.034622892737389,0.068657487630844,-0.167272761464119,-0.089710593223572,0.069923743605614,0.063656106591225,-0.017096208408475));
res += mul(Get(s1,0,0), float4x4(-0.183165922760963,-0.059050370007753,0.248274549841881,0.133131787180901,0.057720921933651,-0.048431795090437,-0.038095813244581,0.107913330197334,-0.028438135981560,0.029956875368953,-0.058707408607006,0.230156913399696,0.045850176364183,-0.086470305919647,-0.058961667120457,-0.007562207523733));
res += mul(Get(s1,0,dy), float4x4(-0.241428449749947,-0.076171524822712,0.076213791966438,0.183078706264496,0.078763715922832,0.009254527278244,0.005739643238485,0.019431771710515,0.078513555228710,0.110256478190422,-0.015550704672933,0.076423078775406,-0.009221497923136,-0.077614895999432,-0.075913153588772,-0.104274705052376));
res += mul(Get(s1,dx,-dy), float4x4(-0.175896346569061,-0.121921904385090,0.031800884753466,-0.006752565968782,0.249779179692268,-0.092449873685837,-0.201214388012886,0.015777943655849,-0.046700514853001,-0.186346247792244,0.020651187747717,-0.212911456823349,-0.028566109016538,0.061989907175303,0.133895561099052,-0.056943167001009));
res += mul(Get(s1,dx,0), float4x4(-0.024706099182367,-0.212437197566032,-0.055689208209515,-0.026388516649604,0.026865795254707,-0.197582438588142,0.058500129729509,-0.129072681069374,0.083293877542019,0.026847938075662,-0.140671804547310,-0.119394257664680,0.019164899364114,0.165116101503372,0.258067935705185,-0.139009997248650));
res += mul(Get(s1,dx,dy), float4x4(-0.063977964222431,0.058115340769291,0.012666357681155,0.041767343878746,-0.002014570171013,-0.002644950756803,0.008004172705114,-0.120896607637405,0.122282207012177,0.033500961959362,-0.115790791809559,-0.011649539694190,0.066775918006897,-0.043976284563541,0.001549202599563,0.037080790847540));
res += mul(Get(s2,-dx,-dy), float4x4(0.020219691097736,-0.052035510540009,-0.049320165067911,-0.046522058546543,-0.012118570506573,-0.143530130386353,-0.059557609260082,-0.036175981163979,-0.016039304435253,-0.090539984405041,0.033868461847305,-0.037558086216450,-0.080809846520424,0.081154160201550,-0.015990711748600,0.053658071905375));
res += mul(Get(s2,-dx,0), float4x4(-0.076731547713280,0.041667751967907,-0.145431205630302,0.080628581345081,0.016131395474076,0.017010351642966,-0.013103204779327,-0.019516732543707,-0.030448844656348,0.008583867922425,-0.168430879712105,-0.085455775260925,-0.057589389383793,-0.131447061896324,-0.040502879768610,-0.101969629526138));
res += mul(Get(s2,-dx,dy), float4x4(-0.017869066447020,0.109987229108810,0.100905880331993,0.127204135060310,-0.131333410739899,0.132688596844673,-0.038331169635057,0.061495598405600,0.021494969725609,-0.062326814979315,-0.196430489420891,0.028072807937860,0.018962617963552,-0.060240212827921,0.135082796216011,-0.026081038638949));
res += mul(Get(s2,0,-dy), float4x4(-0.024314811453223,0.099728882312775,0.029817340895534,0.110810436308384,0.000827313459013,-0.051849223673344,0.100160725414753,0.087616533041000,0.061983466148376,-0.035761218518019,-0.003760452149436,0.046587225049734,-0.014113436453044,-0.065854452550411,-0.082275889813900,0.103831231594086));
res += mul(Get(s2,0,0), float4x4(0.092817984521389,0.028027364984155,0.120001576840878,-0.003843710990623,0.064094513654709,-0.063536144793034,0.042889390140772,-0.144394055008888,-0.038680844008923,-0.084194026887417,0.073751159012318,-0.023045716807246,-0.170326843857765,0.052870094776154,0.013860616832972,0.004892416298389));
res += mul(Get(s2,0,dy), float4x4(0.045726124197245,-0.065258421003819,-0.093012869358063,-0.051739532500505,-0.026664812117815,-0.097695149481297,-0.100645743310452,0.020318927243352,0.041995257139206,-0.027010280638933,0.019195837900043,0.083482801914215,-0.156952574849129,0.046891279518604,0.042800653725863,-0.045384682714939));
res += mul(Get(s2,dx,-dy), float4x4(0.060541309416294,0.065247029066086,0.024723591282964,-0.125981777906418,0.169665858149529,-0.036016128957272,-0.069914333522320,0.020262081176043,0.171006336808205,0.372637808322906,-0.158974394202232,-0.156122177839279,0.100997418165207,0.012168970890343,0.083953738212585,-0.087327487766743));
res += mul(Get(s2,dx,0), float4x4(0.022841660305858,-0.007854130119085,-0.067188382148743,0.012126748450100,0.032769069075584,-0.028691504150629,-0.110007517039776,-0.016304712742567,0.087932124733925,0.354527056217194,-0.160383701324463,-0.110553227365017,-0.079781226813793,-0.033941071480513,-0.087912946939468,-0.024749075993896));
res += mul(Get(s2,dx,dy), float4x4(-0.035067964345217,0.141084358096123,0.131591230630875,0.098683267831802,-0.064054146409035,0.003500934457406,0.050176154822111,0.091685086488724,0.079584747552872,0.121356397867203,0.088957786560059,-0.316390037536621,0.214416831731796,-0.094446428120136,0.036756332963705,0.061985470354557));
res += mul(Get(s3,-dx,-dy), float4x4(-0.228402167558670,0.000216622807784,0.282669425010681,-0.156012549996376,-0.251065880060196,-0.208802133798599,0.052317503839731,0.082699045538902,0.003790197195485,-0.097848564386368,-0.115354888141155,0.018008088693023,-0.096629880368710,0.053815741091967,0.021979693323374,-0.084208130836487));
res += mul(Get(s3,-dx,0), float4x4(0.042824402451515,0.116100922226906,-0.154151424765587,-0.007042013574392,-0.047482430934906,-0.136377677321434,-0.059526238590479,0.059124715626240,-0.037423942238092,0.120628438889980,0.025354601442814,0.103287599980831,-0.178894624114037,0.069726467132568,-0.079228766262531,-0.013184467330575));
res += mul(Get(s3,-dx,dy), float4x4(0.000630223716144,0.044511400163174,0.044647507369518,0.080471225082874,0.092481255531311,-0.032463073730469,0.202999293804169,0.078146368265152,0.015390714630485,0.178509801626205,0.160601377487183,0.155458793044090,0.001773681025952,0.069439880549908,-0.000732298824005,0.027176043018699));
res += mul(Get(s3,0,-dy), float4x4(-0.078240074217319,0.018247658386827,-0.023682184517384,-0.146243542432785,0.009556592442095,0.079016029834747,0.056850519031286,-0.121722571551800,-0.200252354145050,-0.038224231451750,-0.123121358454227,-0.117000937461853,0.022384956479073,0.069805540144444,0.009680607356131,0.324860423803329));
res += mul(Get(s3,0,0), float4x4(0.037899877876043,0.066244706511497,-0.083687946200371,0.068883597850800,-0.002839858643711,-0.029473483562469,-0.012527975253761,0.060639962553978,0.156616866588593,0.122732453048229,-0.024925986304879,0.066144265234470,0.107334904372692,-0.032006077468395,0.096489869058132,0.125877648591995));
res += mul(Get(s3,0,dy), float4x4(-0.081731036305428,0.061069358140230,-0.085696965456009,0.070276342332363,0.058614522218704,0.021367782726884,0.064890697598457,-0.058089569211006,0.056183084845543,0.098114162683487,0.103387363255024,-0.001333018415608,-0.098333716392517,0.039030507206917,0.068634405732155,0.238560169935226));
res += mul(Get(s3,dx,-dy), float4x4(0.088326811790466,-0.166039347648621,0.051107779145241,-0.090666383504868,-0.155360653996468,-0.089688658714294,-0.000544083130080,-0.057761006057262,0.206607371568680,-0.145573601126671,-0.197670504450798,0.094050891697407,0.079520806670189,-0.231404647231102,-0.036038570106030,0.042649559676647));
res += mul(Get(s3,dx,0), float4x4(0.002904606517404,-0.000175175009645,0.239397764205933,-0.154788136482239,0.131706818938255,-0.219986021518707,0.113942399621010,-0.160116806626320,0.145195752382278,-0.003432870842516,0.064349330961704,0.113952174782753,0.006089349742979,-0.119498603045940,0.166681244969368,0.021816696971655));
res += mul(Get(s3,dx,dy), float4x4(-0.169993072748184,-0.042785987257957,-0.081853792071342,0.044548012316227,-0.101837947964668,0.011558021418750,-0.019092947244644,0.112982824444771,0.000335028307745,0.026855718344450,0.077458277344704,0.084409274160862,-0.079350844025612,0.124372772872448,-0.005217157304287,0.063072368502617));
res = max(float4(0,0,0,0), res);
return res;
}
