sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.209531173110008,0.130229920148849,0.044784925878048,0.111539192497730,0.132469117641449,-0.159092262387276,-0.175645828247070,-0.036476783454418,-0.153110548853874,0.015016189776361,-0.084734968841076,0.026971753686666,-0.106283560395241,-0.091378405690193,-0.109133891761303,0.116930045187473));
res += mul(Get(s0,-dx,0), float4x4(0.151030436158180,-0.194956451654434,0.056845404207706,-0.060013249516487,-0.048222780227661,0.058369874954224,0.002636233810335,-0.059437382966280,-0.094114221632481,0.198680207133293,-0.056273270398378,-0.136697947978973,0.008853499777615,-0.242902040481567,0.049027185887098,0.119150072336197));
res += mul(Get(s0,-dx,dy), float4x4(-0.155351877212524,0.014676138758659,-0.058170102536678,-0.130610972642899,0.265306830406189,-0.118586033582687,0.033893894404173,-0.084477044641972,-0.107259012758732,0.215094089508057,-0.074846908450127,0.114952482283115,-0.046576116234064,-0.013566841371357,0.038817793130875,0.026801627129316));
res += mul(Get(s0,0,-dy), float4x4(0.053619664162397,0.008531381376088,-0.059085838496685,-0.037343889474869,0.036540009081364,-0.091109469532967,-0.091333642601967,0.080741673707962,0.015451285988092,-0.066197596490383,-0.070164345204830,0.011083314195275,0.003571331501007,-0.109782569110394,-0.107289418578148,-0.165289506316185));
res += mul(Get(s0,0,0), float4x4(-0.122892364859581,-0.083757489919662,-0.043466877192259,-0.065992034971714,0.097625195980072,0.128882721066475,0.050833459943533,-0.012937449850142,0.150443926453590,-0.022158054634929,0.190369442105293,0.001542705111206,0.072500385344028,-0.027017783373594,0.119455240666866,0.109174259006977));
res += mul(Get(s0,0,dy), float4x4(-0.200267851352692,0.071177959442139,-0.120081566274166,0.020401842892170,-0.015514839440584,0.085714273154736,0.124511323869228,-0.154482379555702,0.215971097350121,0.111270911991596,-0.019627522677183,0.129142701625824,-0.092726960778236,0.258434951305389,0.001609529717825,-0.008220272138715));
res += mul(Get(s0,dx,-dy), float4x4(-0.119165144860744,0.158956408500671,-0.047508891671896,-0.022076662629843,-0.027305407449603,-0.069666683673859,0.065873235464096,0.214267209172249,-0.170368358492851,0.084193043410778,-0.003431750927120,0.002589546144009,-0.015071562491357,0.015313836745918,0.018450524657965,0.019182229414582));
res += mul(Get(s0,dx,0), float4x4(-0.216186434030533,-0.146012201905251,0.090273842215538,-0.146782696247101,-0.077011093497276,0.093768268823624,-0.153781369328499,-0.035740982741117,0.035505004227161,-0.006248909514397,0.040851101279259,-0.181860551238060,-0.168219774961472,0.126155063509941,0.017356682568789,0.125199675559998));
res += mul(Get(s0,dx,dy), float4x4(-0.111582420766354,-0.010798264294863,-0.223004892468452,0.051804076880217,0.016453256830573,-0.059244457632303,-0.071269571781158,0.025725286453962,-0.062718786299229,0.032225284725428,-0.144753038883209,-0.006046719383448,-0.037911564111710,-0.124230057001114,-0.050104901194572,0.038506895303726));
res += mul(Get(s1,-dx,-dy), float4x4(0.097157709300518,0.121736206114292,-0.182660385966301,-0.367812097072601,-0.024533864110708,-0.110553361475468,0.022495677694678,-0.034176461398602,0.092420250177383,-0.096380122005939,-0.022212712094188,0.041397288441658,-0.084424629807472,-0.016976177692413,0.039372310042381,-0.134198233485222));
res += mul(Get(s1,-dx,0), float4x4(-0.172872632741928,-0.168679162859917,-0.013221466913819,-0.164464622735977,0.002777487970889,-0.064812056720257,0.059278629720211,-0.065235905349255,-0.040693145245314,-0.124551035463810,-0.062670044600964,-0.046145722270012,0.052542187273502,-0.007055400405079,-0.025289341807365,-0.046657312661409));
res += mul(Get(s1,-dx,dy), float4x4(0.038833767175674,-0.029523618519306,-0.154682591557503,-0.082042887806892,-0.022606346756220,-0.106993228197098,0.161542564630508,-0.088007867336273,0.085901856422424,-0.167424365878105,-0.056366205215454,0.044446941465139,0.053131882101297,0.150355696678162,0.030308242887259,0.096144095063210));
res += mul(Get(s1,0,-dy), float4x4(-0.133794143795967,0.024160725995898,-0.016698302701116,-0.128209531307220,-0.068310044705868,0.109615430235863,-0.206090331077576,0.005216828547418,0.022810755297542,0.102092735469341,0.060960814356804,0.018217327073216,-0.034135758876801,-0.104786843061447,0.099450804293156,0.027480725198984));
res += mul(Get(s1,0,0), float4x4(0.019756311550736,0.060561928898096,0.019357834011316,0.014965024776757,0.127483084797859,0.017637034878135,0.080925084650517,-0.137927368283272,-0.056909944862127,-0.120640590786934,0.046360202133656,-0.031894780695438,0.081657499074936,-0.027932554483414,-0.026037635281682,0.029918994754553));
res += mul(Get(s1,0,dy), float4x4(-0.044603232294321,-0.011962490156293,0.018903369084001,0.015149977989495,-0.022335601970553,0.018973799422383,-0.011393723078072,-0.031399302184582,-0.080556116998196,-0.001508682616986,0.104731127619743,-0.002364489482716,-0.027400340884924,0.096004009246826,-0.028812803328037,-0.048655238002539));
res += mul(Get(s1,dx,-dy), float4x4(-0.027242317795753,-0.108909755945206,-0.136207088828087,-0.068944692611694,-0.081699512898922,-0.101242236793041,-0.008975382894278,0.081948988139629,0.017140021547675,0.027613312005997,0.035782150924206,0.062071755528450,-0.010536351241171,0.070210829377174,-0.030781021341681,-0.082675173878670));
res += mul(Get(s1,dx,0), float4x4(-0.159950703382492,-0.113943725824356,0.035632438957691,0.114750385284424,-0.079803064465523,0.011388557031751,-0.052778750658035,0.079485997557640,-0.011216212064028,0.025761894881725,-0.012771682813764,0.072411701083183,0.127163484692574,-0.105125673115253,0.044434294104576,0.197903320193291));
res += mul(Get(s1,dx,dy), float4x4(-0.090368635952473,-0.065923556685448,-0.120534174144268,-0.078760676085949,-0.012589033693075,0.020899277180433,0.026305904611945,-0.193345770239830,-0.090278878808022,-0.065274089574814,-0.110184863209724,-0.074932135641575,-0.049282707273960,0.079150661826134,0.226819261908531,-0.018157422542572));
res += mul(Get(s2,-dx,-dy), float4x4(-0.205001115798950,-0.229886114597321,-0.074013926088810,-0.006971699185669,0.111573860049248,-0.023452386260033,0.121110543608665,0.003565385006368,-0.000337234116159,0.005939972121269,-0.025808768346906,-0.179786756634712,0.149000212550163,-0.058680314570665,0.052969004958868,0.006023207679391));
res += mul(Get(s2,-dx,0), float4x4(-0.128949001431465,-0.007374353706837,0.136768057942390,-0.032556597143412,0.067536994814873,0.184569150209427,-0.072381220757961,0.095281340181828,-0.054809991270304,0.098393768072128,-0.124678872525692,-0.122529678046703,0.100716881453991,-0.038538005203009,0.052898380905390,-0.061521444469690));
res += mul(Get(s2,-dx,dy), float4x4(0.028666280210018,0.215905055403709,-0.020871715620160,-0.000725377118215,0.143432870507240,0.014908282086253,-0.132231742143631,0.171396538615227,0.001008368912153,0.132326871156693,-0.175146371126175,-0.059194747358561,0.129082947969437,0.222473144531250,-0.010904888622463,0.083444088697433));
res += mul(Get(s2,0,-dy), float4x4(-0.022153131663799,0.051553390920162,0.092751406133175,-0.041346777230501,0.067355997860432,-0.055762808769941,0.047098185867071,-0.148380562663078,0.054967340081930,-0.023934204131365,0.003054773900658,-0.034477438777685,0.019840823486447,-0.157514065504074,0.207168921828270,0.158115625381470));
res += mul(Get(s2,0,0), float4x4(0.274103254079819,0.043260019272566,0.014878980815411,-0.113717600703239,-0.351574450731277,0.079441852867603,0.048836879432201,0.000925488129724,0.108329623937607,0.170892536640167,-0.001093392260373,0.105641461908817,-0.083376288414001,-0.021243160590529,-0.119696974754333,0.045755114406347));
res += mul(Get(s2,0,dy), float4x4(-0.135555028915405,0.000112215755507,-0.052682120352983,0.043493654578924,-0.094080962240696,-0.054525516927242,-0.249328657984734,-0.048522125929594,-0.094130836427212,0.079832889139652,-0.099799714982510,-0.059971857815981,0.058146983385086,-0.020484426990151,0.024528816342354,0.030827548354864));
res += mul(Get(s2,dx,-dy), float4x4(-0.023283500224352,-0.009132921695709,-0.054742809385061,0.125949814915657,0.027997611090541,0.104097165167332,-0.001793074305169,0.041288465261459,-0.056888639926910,0.031635235995054,0.062825217843056,0.020241042599082,0.164299055933952,0.026550332084298,-0.077379249036312,0.019394781440496));
res += mul(Get(s2,dx,0), float4x4(0.004155371803790,0.046578474342823,0.095034450292587,0.003755388315767,-0.079112797975540,-0.135140657424927,0.205857500433922,0.005209276452661,-0.074269004166126,-0.073839440941811,0.060153346508741,0.067663393914700,0.042558006942272,0.161510258913040,-0.064987137913704,0.099581405520439));
res += mul(Get(s2,dx,dy), float4x4(-0.136026114225388,0.235264733433723,0.121544077992439,-0.086386635899544,0.031813658773899,-0.209597274661064,-0.005964221898466,-0.061271138489246,0.084708169102669,0.026164071634412,-0.044935304671526,0.020024165511131,0.084217131137848,0.103205941617489,0.042594972997904,-0.033056404441595));
res += mul(Get(s3,-dx,-dy), float4x4(-0.151710689067841,-0.058910325169563,0.109783224761486,-0.048943631350994,0.026147382333875,-0.035935048013926,0.224811866879463,0.070296868681908,0.077872782945633,0.164921984076500,0.014772723428905,0.115616090595722,0.027748391032219,0.055754613131285,0.105342067778111,-0.039102166891098));
res += mul(Get(s3,-dx,0), float4x4(0.055541764944792,-0.152089223265648,0.015779247507453,0.050353828817606,0.104982130229473,0.007879920303822,0.057988490909338,-0.141592442989349,0.134828865528107,-0.083129510283470,-0.146060973405838,0.006563456263393,-0.032130476087332,0.224747359752655,0.071549095213413,-0.179631918668747));
res += mul(Get(s3,-dx,dy), float4x4(-0.015667933970690,0.091069467365742,0.125843971967697,-0.030983790755272,-0.037675332278013,0.072347342967987,0.131487190723419,-0.109520956873894,-0.018390990793705,0.071494676172733,-0.017836183309555,0.171943962574005,0.078193955123425,0.081648349761963,-0.241683661937714,-0.088659167289734));
res += mul(Get(s3,0,-dy), float4x4(0.054195038974285,-0.087706893682480,-0.094786398112774,0.088712170720100,-0.095929428935051,-0.026135271415114,0.047723263502121,0.158120006322861,-0.090178899466991,0.202711865305901,-0.158885970711708,-0.143426388502121,-0.005403187591583,-0.034426830708981,-0.177472636103630,-0.054321423172951));
res += mul(Get(s3,0,0), float4x4(0.126032575964928,-0.093854941427708,0.028810547664762,-0.144828245043755,0.132710814476013,0.067111037671566,-0.108264081180096,-0.101801291108131,0.120217025279999,-0.052136160433292,-0.076383002102375,-0.029420310631394,-0.020212505012751,-0.200403004884720,-0.081593297421932,-0.165371164679527));
res += mul(Get(s3,0,dy), float4x4(-0.063077725470066,0.031668938696384,-0.058837644755840,0.129743456840515,0.028519893065095,0.059848111122847,-0.080103181302547,-0.075991421937943,-0.050405327230692,0.066848292946815,0.075257889926434,-0.086230427026749,-0.169757887721062,0.016069345176220,-0.086719863116741,0.055675551295280));
res += mul(Get(s3,dx,-dy), float4x4(0.147731095552444,-0.141703039407730,-0.074896425008774,-0.070815302431583,-0.192855536937714,0.110842034220695,-0.049273509532213,-0.004743208643049,-0.080268375575542,0.036202006042004,0.166908547282219,0.035976622253656,-0.076141625642776,0.016073511913419,-0.157818391919136,0.029608618468046));
res += mul(Get(s3,dx,0), float4x4(-0.094179734587669,0.139681205153465,-0.260200172662735,0.025221187621355,0.026338011026382,0.005119066685438,0.115253724157810,-0.090763196349144,-0.125261604785919,-0.034189730882645,0.045090544968843,-0.126037776470184,0.010673328302801,-0.083785302937031,-0.064183771610260,-0.064277842640877));
res += mul(Get(s3,dx,dy), float4x4(0.002898073755205,-0.007904973812401,0.075837768614292,-0.047250404953957,-0.171597421169281,0.000368965294911,-0.041472636163235,0.000398838223191,-0.145210713148117,0.011743564158678,0.010376170277596,-0.173819318413734,-0.041839927434921,0.094779960811138,-0.091096393764019,-0.137715801596642));
res = max(float4(0,0,0,0), res);
return res;
}
