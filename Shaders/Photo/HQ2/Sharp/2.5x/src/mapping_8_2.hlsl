sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.036854013800621,-0.032495927065611,-0.095686934888363,0.240252390503883,-0.128583595156670,0.073987908661366,0.235189244151115,-0.085602395236492,-0.057523634284735,-0.048856124281883,0.146102070808411,0.021430833265185,0.138943031430244,0.065147548913956,-0.015114194713533,-0.134024813771248));
res += mul(Get(s0,-dx,0), float4x4(-0.015375004149973,-0.228497326374054,0.098456673324108,0.037803169339895,0.033872291445732,0.091057173907757,-0.036476455628872,-0.043697088956833,-0.039209373295307,-0.060024101287127,-0.098536625504494,-0.053798988461494,-0.030789345502853,-0.132161691784859,0.006716866511852,0.073028713464737));
res += mul(Get(s0,-dx,dy), float4x4(-0.060361884534359,-0.105922356247902,0.139523714780807,-0.027589676901698,-0.012186599895358,-0.017857035622001,-0.018006376922131,-0.115166954696178,0.096572317183018,-0.044844020158052,0.152518257498741,0.084541440010071,0.036993339657784,-0.158723264932632,0.012874581851065,-0.052349522709846));
res += mul(Get(s0,0,-dy), float4x4(0.135209828615189,-0.183593019843102,-0.058257743716240,-0.156007006764412,-0.019656166434288,-0.020241396501660,0.040477033704519,0.118016645312309,-0.019654465839267,0.014112162403762,-0.090344652533531,-0.101795174181461,-0.059158373624086,-0.079222157597542,0.014843569137156,0.150002717971802));
res += mul(Get(s0,0,0), float4x4(0.021692387759686,-0.034194637089968,-0.089259989559650,-0.074947297573090,0.060460370033979,-0.018418138846755,0.031348410993814,0.198806315660477,0.150750994682312,-0.061453901231289,0.132776409387589,0.036267787218094,0.029489833861589,0.218855619430542,0.039651352912188,0.057782810181379));
res += mul(Get(s0,0,dy), float4x4(-0.206225275993347,-0.092798247933388,-0.053281199187040,0.216397613286972,-0.093700349330902,0.058670673519373,0.225396707653999,0.112394735217094,0.071922592818737,0.083962008357048,-0.113906547427177,0.165875986218452,0.180491313338280,0.159630700945854,-0.103048138320446,0.084438011050224));
res += mul(Get(s0,dx,-dy), float4x4(0.070792242884636,-0.044516209512949,-0.159887909889221,0.016451802104712,0.009031690657139,0.008542622439563,0.036581430584192,-0.153309494256973,-0.031380545347929,-0.030510177835822,0.271796017885208,-0.102710157632828,-0.044380515813828,0.065242782235146,-0.035965900868177,-0.118561714887619));
res += mul(Get(s0,dx,0), float4x4(-0.102053321897984,0.028039352968335,0.009738009423018,0.072410926222801,0.196311756968498,-0.074529610574245,0.201430097222328,0.085376277565956,0.095786646008492,0.038207188248634,0.071084558963776,0.130213618278503,0.022330027073622,-0.024723865091801,0.049012355506420,-0.091468133032322));
res += mul(Get(s0,dx,dy), float4x4(0.169627338647842,-0.138724237680435,0.067767731845379,0.171620249748230,0.068341277539730,-0.079810582101345,0.086542040109634,-0.041628349572420,-0.152825787663460,-0.041936706751585,0.024882199242711,-0.129492431879044,-0.084510810673237,-0.053287640213966,0.003000951604918,0.204324409365654));
res += mul(Get(s1,-dx,-dy), float4x4(-0.008249718695879,-0.025936059653759,-0.052361704409122,0.080119647085667,-0.055286385118961,0.022279331460595,0.102250747382641,0.074552029371262,-0.220236375927925,-0.144718334078789,-0.051892839372158,0.106815852224827,-0.001823704573326,-0.102660857141018,-0.130685091018677,0.067631043493748));
res += mul(Get(s1,-dx,0), float4x4(0.041114322841167,0.025599244982004,0.069498918950558,-0.138591319322586,0.039505496621132,-0.136287167668343,-0.089025735855103,0.257363468408585,-0.087874732911587,-0.163886934518814,0.054247062653303,0.033084165304899,0.158624902367592,-0.046720087528229,-0.023593349382281,-0.233762085437775));
res += mul(Get(s1,-dx,dy), float4x4(0.020896274596453,0.154081448912621,0.077530153095722,-0.171822294592857,-0.067487418651581,0.046286128461361,0.123099140822887,-0.124065473675728,-0.128095194697380,0.134455069899559,-0.033922459930182,0.077418759465218,-0.153394684195518,0.133336082100868,-0.063263818621635,0.170404762029648));
res += mul(Get(s1,0,-dy), float4x4(0.109911002218723,0.062369473278522,-0.043469168245792,-0.159492433071136,0.116657830774784,-0.053332582116127,-0.177981063723564,-0.046789076179266,0.014388425275683,-0.031141944229603,-0.000905252760276,-0.057167310267687,-0.027375724166632,0.058107364922762,-0.094549953937531,-0.074571080505848));
res += mul(Get(s1,0,0), float4x4(0.136941581964493,0.141193151473999,-0.099923126399517,-0.000776718428824,0.048912979662418,0.028125651180744,0.071124657988548,-0.078406125307083,-0.067942768335342,0.008820574730635,0.078929968178272,0.086741581559181,0.140150427818298,0.004327227361500,-0.029399758204818,0.021431898698211));
res += mul(Get(s1,0,dy), float4x4(0.109960623085499,-0.118292741477489,0.104963615536690,0.276697278022766,-0.034752726554871,-0.018689615651965,0.079157426953316,-0.047698765993118,-0.237415954470634,-0.060672726482153,-0.087926022708416,-0.178652748465538,-0.044077370315790,-0.100104711949825,0.137763977050781,0.060717925429344));
res += mul(Get(s1,dx,-dy), float4x4(-0.029686352238059,-0.220251515507698,-0.033321328461170,-0.213687986135483,0.104054830968380,0.140401080250740,-0.035132225602865,0.085682831704617,-0.018748413771391,0.020670305937529,-0.105533383786678,-0.008795388042927,0.129497572779655,0.014839096926153,0.125775814056396,-0.143285006284714));
res += mul(Get(s1,dx,0), float4x4(-0.028173940256238,-0.035835467278957,-0.063344553112984,-0.022897906601429,0.086341731250286,-0.109915792942047,-0.154286861419678,-0.119078703224659,-0.142113640904427,-0.035241011530161,-0.047508198767900,0.023806471377611,0.002450257539749,-0.217967823147774,0.033459488302469,-0.063592523336411));
res += mul(Get(s1,dx,dy), float4x4(0.125278219580650,-0.122957549989223,0.176861166954041,0.191497385501862,-0.029508903622627,-0.034173101186752,-0.080719359219074,-0.006420210935175,-0.019103797152638,-0.003426417242736,-0.148586913943291,0.010181254707277,-0.121800616383553,0.089567631483078,0.019097506999969,-0.134836316108704));
res += mul(Get(s2,-dx,-dy), float4x4(-0.054107662290335,-0.031192008405924,-0.073472157120705,0.072461992502213,-0.057906225323677,-0.037462536245584,-0.105448953807354,-0.004337480291724,0.048477098345757,-0.105249136686325,0.070674367249012,0.033021345734596,0.098346292972565,0.000458113645436,0.083041258156300,0.020779101178050));
res += mul(Get(s2,-dx,0), float4x4(0.111154392361641,0.000467009958811,-0.099843129515648,0.004581286571920,0.154586091637611,-0.024140903726220,0.111952334642410,0.001311027910560,0.117340840399265,0.041766278445721,0.057196766138077,0.085552573204041,-0.067112296819687,-0.058555886149406,-0.037482533603907,0.153545007109642));
res += mul(Get(s2,-dx,dy), float4x4(-0.044506002217531,0.209243401885033,-0.064389444887638,0.114151611924171,-0.051076047122478,-0.187198042869568,-0.079174242913723,-0.110191911458969,0.027773421257734,-0.014464991167188,0.089705608785152,-0.027810081839561,-0.010360740125179,0.085697755217552,0.010840839706361,-0.006331894546747));
res += mul(Get(s2,0,-dy), float4x4(0.143880143761635,0.055117573589087,0.113581933081150,-0.100971862673759,0.097450032830238,0.006614828947932,-0.056099008768797,-0.065828844904900,-0.050495404750109,0.047274876385927,0.101079955697060,-0.130343496799469,-0.064601041376591,-0.121918514370918,0.002213306725025,-0.041749391704798));
res += mul(Get(s2,0,0), float4x4(-0.062400452792645,0.111186333000660,0.097202636301517,0.085689991712570,-0.052203875035048,-0.014170759357512,-0.056884128600359,0.226857274770737,0.141661927103996,0.070845752954483,-0.037275522947311,0.069551520049572,-0.064935281872749,-0.066822797060013,0.021614231169224,0.144341707229614));
res += mul(Get(s2,0,dy), float4x4(-0.036550559103489,0.094406709074974,0.087269328534603,0.018228581175208,-0.025083037093282,-0.159322828054428,0.111648537218571,0.098909147083759,-0.168668687343597,-0.112370386719704,0.104806706309319,-0.148422122001648,-0.039506141096354,0.150633707642555,-0.068083681166172,-0.076127916574478));
res += mul(Get(s2,dx,-dy), float4x4(0.014615265652537,-0.035315733402967,-0.036893449723721,-0.018209459260106,-0.229282051324844,-0.058142233639956,-0.120189577341080,0.014175289310515,-0.057295054197311,-0.016098853200674,0.007694866973907,0.049542695283890,0.072833389043808,0.076620459556580,0.001132557634264,0.114099390804768));
res += mul(Get(s2,dx,0), float4x4(0.085258699953556,-0.006631926167756,0.099385939538479,0.107936285436153,0.022377021610737,-0.133778393268585,0.028252344578505,-0.010352952405810,0.112140290439129,-0.169656813144684,0.123403236269951,0.085478231310844,-0.173299089074135,-0.191153973340988,-0.004863976966590,0.158971413969994));
res += mul(Get(s2,dx,dy), float4x4(0.114019982516766,0.002257345244288,0.004835741128772,-0.157355710864067,-0.041370026767254,0.016651051118970,0.006814698223025,-0.025100903585553,-0.080183729529381,-0.088271819055080,0.128199696540833,-0.068621776998043,0.020662028342485,-0.009232207201421,0.139397382736206,0.008010589517653));
res += mul(Get(s3,-dx,-dy), float4x4(-0.142564401030540,0.006847246550024,0.024470558390021,0.049556590616703,0.048439644277096,-0.102951563894749,0.074009478092194,-0.012452173046768,-0.053612630814314,-0.015482220798731,0.165151521563530,0.107521414756775,-0.119906559586525,-0.148575887084007,0.008984883315861,0.069550335407257));
res += mul(Get(s3,-dx,0), float4x4(-0.031854279339314,-0.123504690825939,-0.172642424702644,-0.106965363025665,-0.045049507170916,-0.105080299079418,-0.058463122695684,0.167116507887840,0.072539217770100,-0.076786659657955,0.022701583802700,0.007636428344995,-0.087376318871975,-0.006656600628048,-0.110912531614304,-0.079607747495174));
res += mul(Get(s3,-dx,dy), float4x4(-0.009338908828795,0.185635939240456,-0.090038396418095,-0.014378090389073,0.165057495236397,-0.035713739693165,-0.091330476105213,0.094247065484524,0.109476976096630,0.131828784942627,0.086909659206867,-0.127928540110588,0.011237030848861,-0.146642357110977,0.086712807416916,0.228516027331352));
res += mul(Get(s3,0,-dy), float4x4(0.123827867209911,-0.072640813887119,0.029356006532907,0.163004904985428,-0.098647408187389,-0.230568319559097,0.070334829390049,-0.031540621072054,0.010175462812185,-0.037455890327692,-0.058636989444494,0.091540478169918,0.049112237989902,0.009890614077449,0.054681412875652,0.131139695644379));
res += mul(Get(s3,0,0), float4x4(-0.111592791974545,0.068754859268665,-0.115562550723553,0.022939238697290,0.011005849577487,-0.043396200984716,0.100410304963589,0.080741986632347,0.035887155681849,0.031893793493509,-0.092820547521114,-0.055126719176769,0.052333932369947,0.048938255757093,0.015308043919504,0.072878092527390));
res += mul(Get(s3,0,dy), float4x4(-0.027298755943775,0.094566859304905,-0.030917719006538,-0.016233947128057,0.037274293601513,0.237118601799011,-0.185510993003845,-0.059888608753681,0.057791903614998,-0.090362422168255,-0.152273505926132,0.071053341031075,0.037139765918255,0.068671293556690,-0.081635259091854,-0.076218761503696));
res += mul(Get(s3,dx,-dy), float4x4(0.112747669219971,0.050224274396896,0.115965023636818,0.175551608204842,-0.000431553635281,0.027869591489434,0.078989878296852,0.184466317296028,0.195247575640678,-0.089527621865273,0.090957693755627,-0.024278378114104,-0.093581274151802,0.092932097613811,-0.126609548926353,0.112924613058567));
res += mul(Get(s3,dx,0), float4x4(-0.120818644762039,0.012397242709994,0.064142107963562,-0.048283062875271,-0.011356193572283,0.022079009562731,-0.147448822855949,-0.221408843994141,-0.062720164656639,-0.061055541038513,-0.045043166726828,0.058407280594110,0.061623465269804,0.176585257053375,0.106417343020439,-0.030309842899442));
res += mul(Get(s3,dx,dy), float4x4(-0.183758541941643,0.052996374666691,-0.036241851747036,-0.004879319574684,-0.109875485301018,-0.027197655290365,0.043243315070868,0.047995284199715,-0.013399582356215,-0.066733255982399,0.094197005033493,-0.019523682072759,-0.053876645863056,-0.083911061286926,0.083207048475742,0.179764211177826));
res = max(float4(0,0,0,0), res);
return res;
}
