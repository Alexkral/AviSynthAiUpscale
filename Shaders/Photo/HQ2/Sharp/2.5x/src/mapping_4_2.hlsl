sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.072992876172066,0.032192967832088,0.090213410556316,0.235654309391975,0.017523597925901,-0.067920312285423,-0.115577414631844,-0.003246766747907,-0.150285735726357,0.040510281920433,0.025660311803222,-0.130774527788162,0.123856201767921,-0.085880056023598,0.053175568580627,0.153471320867538));
res += mul(Get(s0,-dx,0), float4x4(-0.085516571998596,0.060325443744659,-0.155800759792328,0.030771888792515,-0.057328902184963,0.033795293420553,0.135782912373543,-0.134657382965088,0.025543227791786,-0.056536890566349,0.074094638228416,0.028727650642395,0.015528830699623,0.109912946820259,0.022254321724176,-0.066688783466816));
res += mul(Get(s0,-dx,dy), float4x4(-0.208823889493942,0.115026079118252,0.024831812828779,-0.121751688420773,0.065404780209064,0.007905267179012,0.036148376762867,-0.130453944206238,-0.073715776205063,-0.152562215924263,-0.084255062043667,0.039490811526775,-0.024312868714333,0.043572243303061,-0.246169298887253,-0.066963784396648));
res += mul(Get(s0,0,-dy), float4x4(0.090564697980881,0.141239732503891,0.124515578150749,0.218219429254532,-0.089758172631264,-0.088425010442734,0.135055139660835,-0.168798208236694,0.098141975700855,-0.118439294397831,0.003617688547820,0.051664851605892,0.043288126587868,0.206587657332420,0.231104075908661,-0.022288883104920));
res += mul(Get(s0,0,0), float4x4(0.233522117137909,-0.229193642735481,-0.147303223609924,-0.110036626458168,0.021733133122325,0.023665202781558,0.080609768629074,0.075072772800922,0.006407584995031,0.071007929742336,0.170665055513382,-0.058285474777222,-0.025877209380269,0.030335756018758,0.149699717760086,0.112908780574799));
res += mul(Get(s0,0,dy), float4x4(-0.061927735805511,0.127579733729362,0.021494610235095,-0.071746222674847,0.040687695145607,-0.163206964731216,0.048524048179388,-0.091841541230679,0.120857708156109,-0.036001801490784,-0.045977506786585,-0.039856214076281,0.119726367294788,-0.160943016409874,0.127727299928665,-0.045584179461002));
res += mul(Get(s0,dx,-dy), float4x4(0.209819570183754,-0.122717246413231,-0.051557004451752,0.102494031190872,0.022922674193978,0.195234924554825,0.009842828847468,-0.172296881675720,0.172442123293877,0.166019886732101,0.001953505910933,-0.046453464776278,-0.043935418128967,0.230433687567711,0.088289178907871,0.096918120980263));
res += mul(Get(s0,dx,0), float4x4(0.003722736146301,-0.161438107490540,0.100464299321175,0.017052292823792,0.025677686557174,-0.044912803918123,-0.134344398975372,0.049986749887466,-0.021181158721447,-0.049232345074415,0.023233728483319,0.018698485568166,0.112685985863209,0.054193127900362,-0.022012738510966,-0.069795936346054));
res += mul(Get(s0,dx,dy), float4x4(-0.082110412418842,0.006976573728025,-0.114981994032860,0.006509763188660,-0.042653724551201,0.095392398536205,-0.004903967026621,-0.027246881276369,-0.051251295953989,-0.291290134191513,-0.069651231169701,0.049062147736549,-0.040162593126297,-0.145127698779106,-0.090589389204979,-0.088883444666862));
res += mul(Get(s1,-dx,-dy), float4x4(0.144675552845001,0.022057879716158,-0.048244308680296,0.179548978805542,0.041621554642916,0.273399651050568,0.241203472018242,-0.046451654285192,-0.124989934265614,0.079077370464802,0.114647544920444,0.004000440239906,-0.003901663701981,0.061332188546658,-0.080923214554787,-0.087378233671188));
res += mul(Get(s1,-dx,0), float4x4(0.029619064182043,-0.003562205005437,0.046824757009745,0.084351390600204,-0.049506682902575,0.053727749735117,-0.104959018528461,0.143332809209824,-0.027578588575125,0.218597635626793,-0.059847179800272,-0.073539733886719,-0.052702974528074,-0.147155389189720,0.083729915320873,-0.083692476153374));
res += mul(Get(s1,-dx,dy), float4x4(-0.309289485216141,-0.079332314431667,0.188024982810020,0.055970173329115,-0.006749180611223,0.104046575725079,-0.071777530014515,0.037901367992163,-0.098572626709938,0.107473105192184,0.108881838619709,-0.058017011731863,-0.179641559720039,-0.108528085052967,-0.024555373936892,-0.066904500126839));
res += mul(Get(s1,0,-dy), float4x4(-0.016216995194554,-0.179523468017578,-0.103650219738483,0.000707777100615,0.039555590599775,-0.016166811808944,-0.011148238554597,0.126052439212799,0.017764527350664,-0.037746347486973,-0.019178433343768,-0.077274873852730,0.271425455808640,-0.103279449045658,0.149498522281647,-0.092424519360065));
res += mul(Get(s1,0,0), float4x4(0.124773785471916,-0.093369774520397,0.181745663285255,-0.059851486235857,0.014174342155457,-0.147220030426979,0.005229231901467,-0.064891152083874,-0.234096094965935,0.046536829322577,-0.048271048814058,0.059607580304146,0.030857238918543,0.104627490043640,-0.050163052976131,-0.069876186549664));
res += mul(Get(s1,0,dy), float4x4(-0.034351572394371,0.031925752758980,-0.105835504829884,0.116667814552784,0.048307999968529,-0.094934530556202,0.028747254982591,0.040991842746735,0.015687512233853,0.123750217258930,0.045204669237137,-0.105130799114704,0.103975310921669,-0.000496221589856,0.065120927989483,-0.064082905650139));
res += mul(Get(s1,dx,-dy), float4x4(-0.066731810569763,-0.051700506359339,0.081297986209393,0.112115889787674,0.009968570433557,0.073759973049164,0.067754179239273,-0.056158743798733,0.131535083055496,-0.006462094839662,-0.095001608133316,0.060349717736244,0.057064067572355,0.184448912739754,0.047638330608606,-0.151782512664795));
res += mul(Get(s1,dx,0), float4x4(0.040641307830811,-0.079888403415680,-0.002138427691534,-0.176463440060616,0.143758133053780,0.000333642412443,0.253682821989059,-0.189191535115242,0.028528908267617,0.151163414120674,-0.232749491930008,-0.024184361100197,-0.036859858781099,-0.015479861758649,0.039404429495335,-0.174252822995186));
res += mul(Get(s1,dx,dy), float4x4(0.148422762751579,0.009874835610390,-0.193197518587112,-0.115779004991055,0.085138775408268,0.010873326100409,0.150301948189735,0.024710500612855,0.133775785565376,0.138650253415108,-0.058776017278433,-0.024411419406533,-0.032232496887445,-0.000018626828023,-0.094946764409542,-0.312677741050720));
res += mul(Get(s2,-dx,-dy), float4x4(-0.238085523247719,-0.012358501553535,0.026903860270977,0.055086690932512,-0.019919384270906,0.120630845427513,0.009183801710606,-0.035408761352301,0.085550151765347,0.007780423387885,-0.186320438981056,-0.027596618980169,0.008482762612402,0.004148544277996,0.101366110146046,0.136760026216507));
res += mul(Get(s2,-dx,0), float4x4(-0.091757290065289,0.134724572300911,-0.002184207085520,-0.096944101154804,0.034087363630533,0.080227680504322,0.145566418766975,-0.091143667697906,-0.035465199500322,-0.030115865170956,0.050699613988400,-0.029807308688760,0.060831241309643,0.033774297684431,-0.103246331214905,-0.184768289327621));
res += mul(Get(s2,-dx,dy), float4x4(-0.038801562041044,0.113396473228931,-0.044654656201601,0.021612873300910,0.059335172176361,-0.131365686655045,-0.044396333396435,-0.176631376147270,0.003745740046725,-0.070768892765045,0.233503907918930,0.063412852585316,-0.033534560352564,0.109032765030861,-0.000323630054481,0.027111699804664));
res += mul(Get(s2,0,-dy), float4x4(-0.054926492273808,0.038277316838503,-0.031024513766170,-0.034303318709135,-0.011377300135791,0.112469680607319,0.148749127984047,-0.129788547754288,0.058137714862823,0.100593246519566,-0.039010562002659,-0.031413719058037,-0.004299381747842,0.007338748313487,-0.034302417188883,0.155225142836571));
res += mul(Get(s2,0,0), float4x4(0.080331139266491,-0.033804617822170,-0.045166905969381,0.087790414690971,0.114938445389271,0.004052933771163,-0.115104116499424,0.180478066205978,0.325170159339905,0.128449290990829,0.046399150043726,0.022481391206384,0.033668551594019,0.073045790195465,-0.082668200135231,0.004747240338475));
res += mul(Get(s2,0,dy), float4x4(0.055736947804689,-0.022144155576825,-0.018545972183347,0.038728345185518,0.084644131362438,-0.105594798922539,0.227528825402260,-0.132766038179398,-0.084148906171322,0.078384086489677,0.055575769394636,0.141169905662537,-0.003592796158046,-0.001063627889380,0.025767304003239,0.020898990333080));
res += mul(Get(s2,dx,-dy), float4x4(-0.053474448621273,-0.027771465480328,-0.083327732980251,0.148792564868927,0.025827104225755,-0.016220299527049,0.020449237897992,0.049436539411545,-0.024442793801427,-0.031408712267876,-0.030908647924662,0.078109756112099,-0.093185983598232,0.027807911857963,-0.154361218214035,0.098863616585732));
res += mul(Get(s2,dx,0), float4x4(-0.121689766645432,0.072940707206726,-0.121584460139275,0.024281051009893,-0.101970665156841,-0.031654831022024,-0.185995742678642,0.014527489431202,-0.053614359349012,0.143776386976242,0.095307610929012,-0.056917015463114,-0.078136399388313,-0.180331766605377,-0.190103068947792,0.238007202744484));
res += mul(Get(s2,dx,dy), float4x4(0.072537712752819,0.103985242545605,-0.064982183277607,0.053784996271133,0.001488577690907,-0.008008393459022,0.110275700688362,0.065613090991974,-0.137614905834198,-0.021896300837398,-0.044585667550564,-0.028457896783948,-0.101711548864841,0.146941095590591,-0.160055249929428,0.094641759991646));
res += mul(Get(s3,-dx,-dy), float4x4(0.055167391896248,0.062555387616158,-0.110379822552204,-0.064727313816547,0.029848139733076,0.047965507954359,0.117889076471329,0.050468038767576,0.080903649330139,-0.124477192759514,-0.128522500395775,-0.039169166237116,-0.054468378424644,-0.090240672230721,-0.250345319509506,-0.112558357417583));
res += mul(Get(s3,-dx,0), float4x4(-0.001384802861139,-0.127210289239883,0.038736775517464,-0.001228811219335,0.014805057086051,-0.167912319302559,-0.080151587724686,0.018609022721648,0.162982240319252,0.106624573469162,0.063912026584148,-0.036739502102137,0.014626557938755,-0.074103340506554,-0.171485826373100,0.077336490154266));
res += mul(Get(s3,-dx,dy), float4x4(0.019234569743276,-0.258159369230270,-0.010007713921368,-0.070453248918056,0.001034676679410,0.068484976887703,0.153635114431381,0.102853462100029,-0.030410801991820,0.025738446041942,-0.055586140602827,-0.061070732772350,0.106438204646111,0.053986284881830,0.093616999685764,0.025977935642004));
res += mul(Get(s3,0,-dy), float4x4(-0.069763518869877,0.192100152373314,0.075896807014942,-0.008267951197922,-0.011472015641630,-0.025619424879551,0.028182884678245,0.020084176212549,-0.011254906654358,0.019195156171918,0.056106708943844,-0.205791100859642,0.066261351108551,0.030845347791910,0.155841603875160,0.012013487517834));
res += mul(Get(s3,0,0), float4x4(-0.221689373254776,0.030090557411313,0.039756294339895,-0.247545480728149,0.193298816680908,0.023390149697661,0.051074206829071,-0.092818215489388,-0.151256591081619,0.126748457551003,0.148519948124886,-0.125248461961746,-0.012656833976507,0.062016155570745,-0.059318300336599,0.077077217400074));
res += mul(Get(s3,0,dy), float4x4(-0.003111395984888,0.112577296793461,-0.049149688333273,-0.100246444344521,-0.122975997626781,0.025883549824357,-0.070062138140202,-0.089728400111198,0.049411837011576,-0.097828425467014,-0.172211408615112,-0.046441048383713,-0.090771153569221,0.095812059938908,-0.042828205972910,0.085222460329533));
res += mul(Get(s3,dx,-dy), float4x4(0.105693817138672,0.037294268608093,-0.121413737535477,0.051109742373228,0.020653346553445,0.033091496676207,-0.101161733269691,-0.123376384377480,0.093641355633736,-0.088838718831539,-0.072015270590782,0.035561487078667,0.001677677733824,0.115159556269646,0.008459601551294,-0.061429269611835));
res += mul(Get(s3,dx,0), float4x4(0.146214842796326,0.006370279937983,0.021612931042910,0.049875561147928,0.039937321096659,-0.055564641952515,-0.018985848873854,0.026148358359933,-0.122947365045547,0.028661765158176,-0.002951328409836,-0.087575212121010,0.044638860970736,-0.152831971645355,0.078578121960163,-0.172163724899292));
res += mul(Get(s3,dx,dy), float4x4(-0.161356791853905,0.096590898931026,0.008480977267027,-0.131413668394089,-0.199917078018188,-0.054703146219254,-0.000711920903996,0.083431452512741,-0.135954082012177,0.086208716034889,-0.205550432205200,-0.125668361783028,-0.065707415342331,0.042632244527340,0.068407803773880,-0.146053358912468));
res = max(float4(0,0,0,0), res);
return res;
}
