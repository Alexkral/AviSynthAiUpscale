sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.035090364515781,-0.099120944738388,-0.120012909173965,0.009765163995326,0.017537260428071,-0.130893290042877,-0.107147887349129,0.053732804954052,0.180811494588852,0.006821821443737,0.008505298756063,-0.060072869062424,0.088755980134010,0.044195611029863,-0.044203057885170,-0.072992563247681));
res += mul(Get(s0,-dx,0), float4x4(-0.037681784480810,0.179692566394806,0.006900602951646,0.064889937639236,-0.040825523436069,0.088762849569321,-0.108460694551468,0.003514019772410,0.004473604261875,0.047818038612604,0.096622087061405,0.065215639770031,-0.083074718713760,0.112862333655357,0.159522399306297,0.071546122431755));
res += mul(Get(s0,-dx,dy), float4x4(0.006887788418680,-0.120809718966484,-0.048238970339298,-0.066188663244247,0.083140604197979,-0.017101300880313,-0.005774260498583,-0.025221526622772,0.082671426236629,0.139108359813690,-0.106612540781498,0.085527546703815,-0.118646457791328,0.043732784688473,0.027644393965602,-0.000653440423775));
res += mul(Get(s0,0,-dy), float4x4(0.072163216769695,-0.003969031386077,-0.167051270604134,-0.000095488670922,-0.064314000308514,0.041769556701183,-0.055802728980780,-0.039437230676413,0.000404388178140,0.125332847237587,0.179722905158997,0.031811021268368,-0.160858511924744,0.028612593188882,-0.146063625812531,0.118855699896812));
res += mul(Get(s0,0,0), float4x4(0.058835502713919,-0.025663154199719,0.062165558338165,0.034593559801579,0.023431308567524,-0.099839985370636,0.199688315391541,-0.167408108711243,0.062574915587902,-0.181596055626869,0.114222206175327,0.059864338487387,0.183601662516594,0.090935029089451,-0.079373970627785,-0.102511726319790));
res += mul(Get(s0,0,dy), float4x4(-0.063309028744698,-0.107698552310467,0.067963361740112,-0.035153586417437,0.130716025829315,-0.015622097998857,-0.006183770950884,0.111575931310654,0.013402953743935,-0.032296266406775,-0.049734883010387,0.132206305861473,-0.079701013863087,0.042777623981237,0.093192018568516,-0.084099516272545));
res += mul(Get(s0,dx,-dy), float4x4(-0.055671773850918,-0.127567604184151,-0.065835304558277,0.030318634584546,0.094595074653625,0.035998973995447,0.033101450651884,0.063152469694614,0.003099661553279,-0.057013709098101,0.016068601980805,-0.193975403904915,0.095813766121864,-0.131282761693001,0.181143864989281,0.042565751820803));
res += mul(Get(s0,dx,0), float4x4(-0.085766851902008,0.062096942216158,0.029600683599710,-0.169823184609413,-0.019002174958587,0.021213663741946,0.047395087778568,-0.108218833804131,-0.010162116028368,0.044925224035978,0.059171397238970,0.024774447083473,0.051414296030998,0.010648160241544,-0.115439280867577,-0.088240109384060));
res += mul(Get(s0,dx,dy), float4x4(0.114147171378136,-0.139021754264832,-0.146049082279205,0.055437684059143,-0.022557923570275,0.167728304862976,0.016470275819302,-0.145035788416862,0.220989242196083,0.100762635469437,0.170796588063240,-0.034586779773235,-0.151064500212669,-0.162673652172089,-0.008312768302858,0.011514817364514));
res += mul(Get(s1,-dx,-dy), float4x4(0.200227543711662,0.100953511893749,-0.068462081253529,-0.037625066936016,-0.009669523686171,-0.113491401076317,0.014559547416866,-0.023680489510298,-0.035789646208286,-0.143771663308144,0.008291472680867,-0.016919245943427,-0.031901203095913,0.074465595185757,0.048205200582743,-0.046860214322805));
res += mul(Get(s1,-dx,0), float4x4(0.056892886757851,-0.206487223505974,0.187582388520241,0.108531259000301,0.021390691399574,0.049291864037514,0.029174543917179,0.153178676962852,-0.088710740208626,0.115516193211079,0.123928055167198,-0.164982050657272,0.002419612137601,-0.111655116081238,0.009900469332933,-0.131719514727592));
res += mul(Get(s1,-dx,dy), float4x4(0.180166944861412,-0.054427798837423,-0.088698036968708,0.043223660439253,-0.071138620376587,0.022262388840318,-0.079807512462139,-0.167161315679550,0.095271721482277,-0.134314417839050,-0.144809931516647,-0.021482577547431,0.140585988759995,-0.161109969019890,0.047241251915693,0.023495722562075));
res += mul(Get(s1,0,-dy), float4x4(0.034867782145739,0.005253023933619,0.134329229593277,-0.037310261279345,0.028016125783324,-0.040705423802137,-0.099675700068474,0.102727733552456,0.033659242093563,0.261091023683548,0.123112656176090,0.020261503756046,-0.126262485980988,0.074151366949081,0.003754174103960,0.014769569970667));
res += mul(Get(s1,0,0), float4x4(0.018275652080774,-0.000144863442983,-0.058990262448788,-0.063185013830662,-0.113568089902401,-0.065411441028118,0.051939073950052,-0.071692682802677,0.018157534301281,-0.027649568393826,0.034490544348955,0.014732415787876,-0.058455087244511,-0.173110842704773,0.026281516999006,0.132355138659477));
res += mul(Get(s1,0,dy), float4x4(-0.100920714437962,0.186601325869560,0.075558356940746,-0.040038187056780,-0.056746315211058,-0.117313623428345,-0.104774154722691,-0.027792587876320,0.000507940421812,-0.005168276373297,-0.083651967346668,-0.115321099758148,0.106239639222622,-0.200668424367905,0.017102522775531,-0.165899947285652));
res += mul(Get(s1,dx,-dy), float4x4(0.009638356976211,0.004985690582544,-0.131564036011696,0.242264822125435,0.005387827754021,-0.180952340364456,0.007765077520162,0.055837821215391,0.066189758479595,0.093504384160042,-0.035383295267820,-0.045319005846977,0.090592525899410,-0.037148982286453,-0.142404660582542,-0.044568985700607));
res += mul(Get(s1,dx,0), float4x4(0.016003230586648,-0.055968809872866,0.152795121073723,-0.004904926288873,-0.045328717678785,-0.044948887079954,-0.274997383356094,-0.092935733497143,0.056087289005518,0.059080880135298,0.214263454079628,0.005481650587171,-0.028274599462748,0.118126064538956,-0.038696311414242,0.034204278141260));
res += mul(Get(s1,dx,dy), float4x4(-0.149568915367126,0.057586785405874,-0.219197541475296,-0.020045913755894,0.047568507492542,0.074442356824875,-0.209857612848282,0.042439620941877,-0.041312910616398,-0.110962912440300,-0.091414377093315,-0.009503014385700,0.017051683738828,0.125273272395134,0.058626215904951,-0.017112467437983));
res += mul(Get(s2,-dx,-dy), float4x4(-0.026965662837029,-0.159312427043915,0.004843908827752,0.191446527838707,-0.091945126652718,-0.137766450643539,0.065086789429188,0.183656647801399,0.012139449827373,0.035994078963995,-0.004528836347163,0.030688853934407,-0.041820645332336,-0.011217571794987,0.062953732907772,0.011873042210937));
res += mul(Get(s2,-dx,0), float4x4(-0.013113051652908,-0.016148474067450,0.063884034752846,-0.034073699265718,-0.064427599310875,0.120421931147575,0.038488127291203,0.027969451621175,-0.118375465273857,-0.017212621867657,0.096041768789291,-0.161190465092659,-0.165861293673515,-0.131734296679497,-0.134984657168388,-0.051185760647058));
res += mul(Get(s2,-dx,dy), float4x4(-0.178696557879448,0.062641225755215,0.165525183081627,-0.241069957613945,-0.188234806060791,0.172792688012123,-0.153378337621689,-0.044646926224232,0.029178591445088,0.044172614812851,-0.042331948876381,0.015063748694956,-0.068065859377384,-0.232012987136841,0.059122726321220,-0.033860601484776));
res += mul(Get(s2,0,-dy), float4x4(-0.013801919296384,0.087687939405441,-0.117856830358505,0.064687661826611,-0.014719000086188,-0.197794348001480,0.087975457310677,-0.069831587374210,0.133830294013023,0.101010635495186,-0.055380560457706,-0.050412200391293,-0.101019769906998,-0.091360598802567,-0.020890738815069,-0.106366150081158));
res += mul(Get(s2,0,0), float4x4(0.068697042763233,0.164625972509384,0.137919887900352,-0.157006964087486,-0.055076662451029,0.081336185336113,0.021000092849135,-0.022066975012422,-0.003999086096883,-0.088950507342815,-0.030838878825307,-0.043503124266863,-0.048474509268999,0.112045727670193,0.212134629487991,-0.069113165140152));
res += mul(Get(s2,0,dy), float4x4(0.272840946912766,0.102455489337444,-0.010370250791311,0.104696922004223,0.052998479455709,-0.032458521425724,0.194916039705276,0.127451315522194,0.047215119004250,-0.075066313147545,-0.014323315583169,-0.018158134073019,0.034173108637333,-0.054422356188297,-0.064058579504490,-0.057942036539316));
res += mul(Get(s2,dx,-dy), float4x4(-0.092697702348232,0.098552137613297,-0.022682782262564,0.030676191672683,0.003850954584777,-0.044611044228077,-0.111216440796852,0.188939616084099,-0.093981035053730,0.066876441240311,0.095868229866028,-0.285493075847626,0.082793645560741,0.027430677786469,0.040787588804960,-0.017580417916179));
res += mul(Get(s2,dx,0), float4x4(-0.049653977155685,-0.128055781126022,-0.046707678586245,-0.051420941948891,0.101096466183662,-0.087592758238316,-0.076788410544395,0.000281636952423,0.153249382972717,0.153942570090294,-0.002989134751260,-0.071476705372334,0.016215637326241,0.021826781332493,0.011674238368869,0.058457024395466));
res += mul(Get(s2,dx,dy), float4x4(-0.065986387431622,-0.035376131534576,-0.003504416439682,-0.119191519916058,0.162864550948143,0.126323655247688,-0.167325735092163,0.045315466821194,0.044517289847136,0.126505926251411,-0.046709034591913,0.072558343410492,0.008270230144262,-0.217819839715958,-0.106746345758438,-0.001950286095962));
res += mul(Get(s3,-dx,-dy), float4x4(0.037107881158590,0.124924950301647,0.087867550551891,-0.007601325400174,-0.022354330867529,-0.108085848391056,0.026679186150432,0.019460661336780,0.012293097563088,0.088989697396755,-0.148999080061913,-0.057545050978661,-0.064774781465530,0.052589792758226,0.063935473561287,0.083041027188301));
res += mul(Get(s3,-dx,0), float4x4(0.264304310083389,0.199482932686806,-0.222640171647072,-0.082549683749676,0.098555915057659,0.037569981068373,0.210869237780571,0.025733988732100,0.127145379781723,0.057934772223234,-0.048025969415903,0.064897544682026,0.082000523805618,-0.112425871193409,0.010291133075953,-0.184287637472153));
res += mul(Get(s3,-dx,dy), float4x4(0.035929761826992,-0.003876074682921,-0.193320140242577,0.097000859677792,0.128204509615898,0.001732039963827,-0.068993076682091,-0.048525307327509,0.026791218668222,-0.027321849018335,-0.044744167476892,-0.023957921192050,-0.059449970722198,-0.094722166657448,-0.028024081140757,-0.129683956503868));
res += mul(Get(s3,0,-dy), float4x4(0.013751917518675,0.099855564534664,-0.128979101777077,0.020710522308946,-0.128262177109718,0.032418280839920,0.306600064039230,0.151758760213852,0.068704105913639,-0.155221819877625,-0.064520344138145,-0.102013237774372,0.131179511547089,0.108794547617435,-0.061591483652592,0.046108692884445));
res += mul(Get(s3,0,0), float4x4(0.156339153647423,-0.074084080755711,0.128117039799690,0.054466292262077,-0.226889997720718,0.157313674688339,0.007197063416243,-0.160597980022430,-0.182596147060394,-0.100468508899212,-0.085913196206093,0.151479735970497,0.008270676247776,-0.175596058368683,-0.118764288723469,-0.015393844805658));
res += mul(Get(s3,0,dy), float4x4(0.009361337870359,0.063041090965271,0.086327865719795,0.018617641180754,-0.037739377468824,-0.046751193702221,-0.076226778328419,-0.118711873888969,-0.002071588067338,0.060068968683481,0.053469832986593,0.075756520032883,0.094476364552975,0.039605729281902,-0.025268463417888,-0.016809687018394));
res += mul(Get(s3,dx,-dy), float4x4(-0.060426127165556,0.208115786314011,-0.124387942254543,0.080018289387226,0.222949132323265,0.173925474286079,-0.028481150045991,-0.021795453503728,-0.010853923857212,0.047721412032843,0.100358910858631,0.128231808543205,0.227180659770966,0.090101078152657,0.018162628635764,0.087120905518532));
res += mul(Get(s3,dx,0), float4x4(0.107890732586384,0.121491767466068,-0.026725647971034,0.150282189249992,0.050231467932463,-0.014597357250750,0.019302394241095,-0.045920919626951,-0.068354792892933,-0.150296106934547,-0.021496005356312,-0.019131405279040,0.013731864280999,-0.183255672454834,-0.014988905750215,0.157409653067589));
res += mul(Get(s3,dx,dy), float4x4(-0.022876467555761,-0.082252718508244,-0.082612849771976,-0.042665939778090,-0.015663279220462,-0.096769496798515,0.056602384895086,-0.072497196495533,0.018472222611308,0.018009522929788,0.059008356183767,0.176566168665886,0.156110987067223,-0.016713403165340,0.025161417201161,0.033536642789841));
res = max(float4(0,0,0,0), res);
return res;
}
