sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.082114361226559,-0.087764658033848,-0.043741725385189,0.210599571466446,-0.057884529232979,0.019265694543719,0.046474426984787,-0.038723286241293,-0.061878506094217,-0.032974138855934,-0.032069623470306,-0.013779116794467,0.066917918622494,0.011130896396935,-0.090882398188114,-0.021691732108593));
res += mul(Get(s0,-dx,0), float4x4(0.041449245065451,0.043645482510328,0.002770326333120,-0.144930884242058,-0.108702987432480,0.027462054044008,-0.071676373481750,-0.030620517209172,-0.084794640541077,-0.131630539894104,-0.125425964593887,0.098669923841953,0.033172179013491,0.114078320562840,0.079090930521488,-0.013975995592773));
res += mul(Get(s0,-dx,dy), float4x4(-0.161189198493958,-0.092463530600071,0.194508090615273,-0.052169755101204,-0.210574954748154,0.285060018301010,-0.010218123905361,-0.022283148020506,0.026141701266170,0.057600561529398,0.263015031814575,-0.047572799026966,-0.103660143911839,-0.142433583736420,0.027338877320290,-0.022129200398922));
res += mul(Get(s0,0,-dy), float4x4(-0.061182897537947,0.083945550024509,-0.106512017548084,-0.027628039941192,-0.138132438063622,0.129340440034866,-0.013035214506090,-0.047563590109348,0.006897016894072,-0.011724230833352,-0.016233051195741,-0.075730688869953,-0.169835641980171,0.081776343286037,-0.036694418638945,0.020475327968597));
res += mul(Get(s0,0,0), float4x4(-0.012909082695842,-0.155757412314415,-0.083369009196758,0.032247092574835,0.258096933364868,-0.059644162654877,0.029093934223056,0.042708788067102,0.052561260759830,0.101146787405014,-0.034699261188507,0.127598717808723,-0.070867858827114,-0.063982598483562,0.114997617900372,-0.151948139071465));
res += mul(Get(s0,0,dy), float4x4(-0.000833402038552,-0.077522106468678,0.160883590579033,0.010319561697543,-0.079164937138557,0.059129375964403,-0.132586807012558,-0.014615399762988,-0.061115611344576,-0.103051319718361,-0.044289674609900,0.038958244025707,0.012554246000946,-0.153811290860176,-0.025240112096071,0.044085822999477));
res += mul(Get(s0,dx,-dy), float4x4(-0.023681970313191,0.192864701151848,0.225025817751884,-0.100285373628139,0.129696860909462,0.132737949490547,0.019336832687259,-0.061528716236353,0.046372007578611,0.113450877368450,-0.028352355584502,-0.049576159566641,-0.156565412878990,0.122797012329102,0.074594914913177,-0.248525455594063));
res += mul(Get(s0,dx,0), float4x4(-0.098944917321205,-0.088650375604630,-0.080423794686794,-0.128003716468811,-0.069029636681080,-0.014112874865532,-0.047281645238400,-0.034212537109852,-0.076836816966534,-0.120114102959633,0.104858241975307,0.141498848795891,0.042994506657124,0.036965392529964,-0.019951459020376,-0.010792372748256));
res += mul(Get(s0,dx,dy), float4x4(0.087992444634438,-0.050602324306965,-0.196918562054634,-0.146225169301033,0.083342917263508,-0.249802678823471,-0.151758223772049,0.162649124860764,0.074248611927032,0.147858515381813,-0.153698787093163,-0.021030195057392,0.153050854802132,-0.016788005828857,0.163828119635582,-0.118921883404255));
res += mul(Get(s1,-dx,-dy), float4x4(-0.048141542822123,0.023043788969517,0.083461001515388,0.044877819716930,0.158042818307877,-0.057707898318768,-0.197178885340691,0.054435495287180,-0.087653614580631,0.054687306284904,-0.055294550955296,0.035188160836697,-0.149551063776016,0.115333303809166,-0.081468224525452,-0.060637436807156));
res += mul(Get(s1,-dx,0), float4x4(-0.015269182622433,-0.048339609056711,0.065546281635761,-0.103245325386524,-0.224600434303284,0.028090083971620,-0.137841895222664,-0.062362365424633,0.129026710987091,0.065260976552963,-0.161878585815430,0.018386116251349,-0.208280116319656,0.170160308480263,-0.050705343484879,-0.056670419871807));
res += mul(Get(s1,-dx,dy), float4x4(-0.102878183126450,-0.135617896914482,-0.084718294441700,0.084658212959766,0.016038427129388,0.078649051487446,0.125880211591721,0.012271541170776,-0.175673618912697,0.037295285612345,-0.060071181505919,0.012777105905116,0.060218062251806,0.096590243279934,-0.138186678290367,0.045885272324085));
res += mul(Get(s1,0,-dy), float4x4(-0.006107166409492,-0.210749626159668,-0.043217025697231,-0.071535527706146,0.051463212817907,-0.086480677127838,-0.071679592132568,-0.086913272738457,-0.022616282105446,-0.011156446300447,-0.190318837761879,0.182606577873230,-0.192189991474152,0.055723287165165,-0.196924567222595,0.051485687494278));
res += mul(Get(s1,0,0), float4x4(-0.088512860238552,-0.171329811215401,0.038986641913652,-0.096329674124718,-0.017459567636251,-0.131617143750191,-0.131504461169243,-0.037475347518921,0.144244804978371,0.007967689074576,0.061932012438774,-0.010134613141418,0.038345534354448,0.139204412698746,-0.092934735119343,-0.022521480917931));
res += mul(Get(s1,0,dy), float4x4(0.102224782109261,-0.046336408704519,0.029722789302468,0.025754593312740,0.119947910308838,0.049392934888601,-0.057776357978582,-0.098182447254658,0.055890671908855,0.192836746573448,0.102215528488159,-0.041332408785820,-0.181169703602791,-0.016355916857719,-0.131036609411240,0.021939173340797));
res += mul(Get(s1,dx,-dy), float4x4(0.076926857233047,0.066717185080051,-0.144263312220573,-0.036300990730524,-0.096624881029129,-0.073586970567703,0.104967102408409,0.036879785358906,-0.000293096352834,0.001838462427258,0.081965200603008,0.053797602653503,0.049812387675047,-0.029012853279710,0.005202223081142,-0.090683586895466));
res += mul(Get(s1,dx,0), float4x4(0.022322842851281,-0.010854822583497,0.025205461308360,-0.052334167063236,-0.024537319317460,-0.226228654384613,0.026516400277615,0.018478298559785,0.025130936875939,-0.037767115980387,0.096068412065506,-0.030537014827132,0.026694368571043,-0.080258905887604,-0.037439852952957,-0.010559706017375));
res += mul(Get(s1,dx,dy), float4x4(-0.029457405209541,0.013357618823647,0.032812234014273,-0.055145993828773,0.110371321439743,0.018945286050439,-0.239471614360809,0.070687986910343,-0.090897813439369,0.137627094984055,0.122586622834206,-0.139057472348213,0.015426280908287,0.173352867364883,0.043443858623505,-0.030370909720659));
res += mul(Get(s2,-dx,-dy), float4x4(-0.040983010083437,0.227831482887268,-0.092909008264542,0.049687709659338,0.061289325356483,0.035148557275534,-0.107075527310371,-0.109543345868587,-0.146481141448021,-0.017942348495126,-0.130593910813332,-0.002389263128862,-0.035694040358067,0.108063936233521,0.177905768156052,0.112916328012943));
res += mul(Get(s2,-dx,0), float4x4(0.118926271796227,0.096182957291603,0.034190468490124,0.067463941872120,0.068377785384655,-0.208977490663528,-0.045481991022825,-0.129316002130508,-0.096375629305840,-0.085093438625336,0.041290987282991,-0.079765677452087,0.020176108926535,0.115905307233334,0.029512813314795,0.031634520739317));
res += mul(Get(s2,-dx,dy), float4x4(0.078773312270641,-0.060278020799160,0.019462317228317,-0.071459032595158,0.028797816485167,0.048305135220289,-0.227560445666313,0.048026863485575,0.054200291633606,0.050744473934174,-0.126182571053505,0.005458146799356,-0.029708120971918,-0.042020972818136,0.069282457232475,0.032274570316076));
res += mul(Get(s2,0,-dy), float4x4(-0.128453165292740,-0.121252514421940,-0.165494516491890,-0.195606663823128,0.028978928923607,0.034201223403215,0.168651998043060,-0.000285026006168,-0.032903298735619,0.093039803206921,0.053318828344345,0.056580960750580,-0.067875288426876,0.066654562950134,-0.019269099459052,-0.022611550986767));
res += mul(Get(s2,0,0), float4x4(-0.056935630738735,-0.091933727264404,-0.196550428867340,0.006211790721864,-0.140258297324181,-0.111548446118832,-0.088181398808956,-0.112076647579670,0.012910527177155,-0.173024430871010,0.041472796350718,-0.133361935615540,0.158202767372131,-0.015314305201173,0.084656737744808,-0.090245850384235));
res += mul(Get(s2,0,dy), float4x4(0.036365110427141,0.004890291020274,-0.233234763145447,0.113915458321571,0.161656618118286,-0.096285492181778,0.037791315466166,0.081964023411274,0.071200706064701,0.120242640376091,-0.020517541095614,0.089796729385853,-0.010159634985030,-0.021731667220592,-0.179266512393951,-0.048714071512222));
res += mul(Get(s2,dx,-dy), float4x4(-0.041905291378498,-0.129733622074127,-0.065247476100922,0.114831238985062,-0.015764279291034,-0.066868349909782,-0.176721081137657,0.165565520524979,-0.061784479767084,-0.106615304946899,0.170376107096672,0.117145687341690,-0.007091335486621,0.114504054188728,-0.108316726982594,0.060304470360279));
res += mul(Get(s2,dx,0), float4x4(0.102492541074753,-0.156162887811661,0.008516555652022,0.067189447581768,-0.122180886566639,-0.069530367851257,-0.063510976731777,0.032936956733465,0.067968584597111,-0.195384487509727,-0.164208203554153,-0.008678427897394,-0.049618888646364,0.021688194945455,-0.106761492788792,-0.075274549424648));
res += mul(Get(s2,dx,dy), float4x4(-0.130289375782013,-0.151554584503174,0.051091425120831,0.099223874509335,-0.099583625793457,0.081569157540798,0.088867269456387,0.047913655638695,-0.035082940012217,0.006762825418264,0.047819864004850,-0.011510394513607,-0.158825114369392,0.093483760952950,-0.111539676785469,0.007661132607609));
res += mul(Get(s3,-dx,-dy), float4x4(0.116259209811687,0.042922876775265,0.208090037107468,-0.090076565742493,-0.021362122148275,-0.084343276917934,0.062143955379725,0.026123026385903,0.063485622406006,0.003484570188448,-0.167457148432732,0.146079733967781,0.110251866281033,-0.178410887718201,-0.050774011760950,-0.098641239106655));
res += mul(Get(s3,-dx,0), float4x4(-0.107222206890583,-0.068355798721313,0.149659067392349,-0.148149281740189,-0.150729373097420,0.190288841724396,-0.002113243332133,-0.003324697492644,0.253042131662369,0.043605990707874,0.087942436337471,-0.108575217425823,0.024108452722430,0.050464954227209,-0.095089867711067,-0.068299651145935));
res += mul(Get(s3,-dx,dy), float4x4(-0.005957163870335,0.049997575581074,-0.078264586627483,0.175508752465248,0.100478909909725,-0.158939003944397,0.123800754547119,-0.006154488306493,-0.201309964060783,-0.186348050832748,-0.055462811142206,0.064498603343964,0.027738029137254,0.047740247100592,0.134151712059975,0.040553133934736));
res += mul(Get(s3,0,-dy), float4x4(-0.006905165500939,-0.021069077774882,0.030928559601307,0.067392133176327,-0.049255017191172,-0.153957813978195,-0.022402402013540,-0.072953216731548,-0.091394357383251,-0.184222906827927,-0.180961474776268,-0.140221729874611,-0.126788884401321,0.112485565245152,-0.066072791814804,0.038873609155416));
res += mul(Get(s3,0,0), float4x4(0.107799492776394,-0.127008542418480,-0.175246030092239,-0.044230464845896,0.248289585113525,0.105574898421764,0.059883616864681,0.117151625454426,-0.076147094368935,0.017480747774243,-0.111458189785480,0.064711116254330,-0.061247643083334,-0.036683682352304,0.086009517312050,-0.006941952276975));
res += mul(Get(s3,0,dy), float4x4(-0.039345014840364,0.016521083191037,-0.077742785215378,0.114997237920761,-0.003718352643773,-0.076630733907223,0.199258029460907,-0.030638666823506,0.019589468836784,-0.188868999481201,0.089644335210323,0.152174353599548,0.011514907702804,-0.137425139546394,0.170081347227097,0.024305479601026));
res += mul(Get(s3,dx,-dy), float4x4(-0.093252934515476,-0.006998923607171,-0.046131078153849,-0.016153261065483,-0.027559163048863,-0.063839264214039,-0.116693630814552,-0.005880387965590,-0.035150498151779,0.183220386505127,0.056511186063290,0.047692347317934,-0.077391922473907,-0.072607055306435,0.134758874773979,0.046190317720175));
res += mul(Get(s3,dx,0), float4x4(-0.062697052955627,-0.055768515914679,0.018748294562101,0.024517379701138,0.005637471564114,-0.062669210135937,-0.027625743299723,-0.108352176845074,0.050101678818464,0.026879947632551,0.003964326344430,-0.091395013034344,0.078798063099384,-0.053402092307806,0.063645824790001,-0.015175905078650));
res += mul(Get(s3,dx,dy), float4x4(0.000115398368507,0.007945083081722,0.109175503253937,0.034823689609766,0.019130362197757,0.089439347386360,-0.097048878669739,0.001815023366362,-0.144481927156448,0.127927452325821,-0.162288188934326,0.167382374405861,-0.066938690841198,-0.032792706042528,-0.127443984150887,0.026377705857158));
res = max(float4(0,0,0,0), res);
return res;
}
