sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.154889300465584,-0.037674423307180,0.095769256353378,-0.113765157759190,0.026787992566824,-0.001856611459516,0.043605677783489,-0.013844071887434,-0.067714221775532,0.005420591682196,-0.017691833898425,0.004094321746379,-0.090903162956238,0.054223399609327,0.109189674258232,0.048127416521311));
res += mul(Get(s0,-dx,0), float4x4(-0.033986326307058,-0.068611443042755,-0.095034748315811,-0.175243958830833,-0.081863164901733,0.074927844107151,0.085397943854332,-0.035530354827642,-0.010286761447787,0.050159353762865,-0.016016269102693,-0.033871639519930,-0.031579881906509,0.163222208619118,-0.036712516099215,0.000502998242155));
res += mul(Get(s0,-dx,dy), float4x4(-0.140781313180923,-0.089584656059742,-0.175699949264526,-0.187121003866196,-0.027589807286859,0.003347810124978,-0.060983274132013,0.038225233554840,0.149366244673729,-0.087396524846554,0.036888845264912,-0.103139698505402,0.039111711084843,-0.022418750450015,-0.114337384700775,0.082557022571564));
res += mul(Get(s0,0,-dy), float4x4(-0.038579706102610,0.131649211049080,0.074982099235058,-0.051417648792267,0.158982306718826,0.038663703948259,-0.042251393198967,-0.057482227683067,-0.064428254961967,-0.005241313949227,0.156259849667549,-0.004391212947667,-0.001119011081755,-0.070052951574326,0.044382505118847,-0.069708682596684));
res += mul(Get(s0,0,0), float4x4(-0.180532917380333,-0.152665361762047,-0.004150177817792,-0.001152539160103,-0.010323478840292,0.063229717314243,0.070538133382797,0.139192521572113,-0.046029519289732,0.054345920681953,-0.162023916840553,-0.047379616647959,0.009320231154561,-0.030389625579119,0.019482467323542,0.044597305357456));
res += mul(Get(s0,0,dy), float4x4(-0.051413584500551,-0.034612014889717,0.277186125516891,-0.053810432553291,0.116911299526691,0.004996149800718,-0.103199049830437,0.133677989244461,0.084693163633347,0.003674348117784,-0.074177652597427,-0.073297716677189,0.108736976981163,0.020516188815236,-0.048751838505268,0.090487472712994));
res += mul(Get(s0,dx,-dy), float4x4(0.197268351912498,0.059122640639544,0.051367875188589,0.055615913122892,0.028839729726315,-0.011331482790411,-0.059164077043533,-0.103806503117085,-0.097003579139709,-0.073776900768280,0.007114314474165,-0.058876000344753,-0.015373853035271,0.064071215689182,-0.002020641695708,0.031996488571167));
res += mul(Get(s0,dx,0), float4x4(-0.103728815913200,0.097783893346786,-0.008013185113668,0.256187736988068,0.133037671446800,-0.141510516405106,0.048792123794556,-0.011741043068469,-0.143040269613266,0.005093977320939,0.018116716295481,-0.056734874844551,0.040119659155607,0.092895708978176,-0.011879318393767,0.092037998139858));
res += mul(Get(s0,dx,dy), float4x4(-0.127690151333809,-0.017749592661858,0.010010873898864,0.094717197120190,0.033512186259031,0.056897979229689,-0.178588807582855,-0.003624242497608,-0.010177399031818,-0.031958967447281,0.030641846358776,0.069119192659855,0.066825911402702,0.039267700165510,-0.119589306414127,0.062802642583847));
res += mul(Get(s1,-dx,-dy), float4x4(0.011502669192851,-0.010578420013189,0.066001482307911,0.079537168145180,0.021682111546397,-0.017828529700637,0.018268130719662,-0.007916659116745,-0.061318498104811,0.114232920110226,-0.101604156196117,-0.122089385986328,-0.043249696493149,0.163021668791771,-0.011802061460912,0.032995384186506));
res += mul(Get(s1,-dx,0), float4x4(-0.124201327562332,0.107855729758739,0.050910484045744,-0.006466659251601,-0.042092654854059,-0.040097370743752,0.053043082356453,-0.016193151473999,-0.082111477851868,0.023074351251125,0.044082242995501,-0.114080697298050,0.125767379999161,-0.003941855859011,0.043562445789576,-0.013381339609623));
res += mul(Get(s1,-dx,dy), float4x4(-0.026127258315682,-0.042096238583326,-0.173066884279251,-0.064451470971107,0.071174897253513,0.009540842846036,-0.049719139933586,-0.084148198366165,0.002932059811428,0.043707069009542,0.020944893360138,-0.153127640485764,-0.062012214213610,-0.046129267662764,-0.032759491354227,0.008538734167814));
res += mul(Get(s1,0,-dy), float4x4(0.004744333680719,-0.047749377787113,-0.011433279141784,0.003801331389695,-0.032473132014275,-0.038384940475225,-0.008245130069554,-0.060167286545038,0.092533074319363,0.194313034415245,-0.019741956144571,-0.056356277316809,0.007877482101321,0.114407837390900,-0.009005459956825,-0.016945149749517));
res += mul(Get(s1,0,0), float4x4(0.087230585515499,-0.004976551048458,0.088258609175682,-0.015943448990583,0.028634238988161,0.138426989316940,0.005398688372225,-0.025921190157533,-0.059158451855183,-0.097369521856308,0.050585351884365,-0.046886149793863,0.093166716396809,-0.000575032958295,-0.001352321240120,-0.041595883667469));
res += mul(Get(s1,0,dy), float4x4(-0.064544901251793,-0.067629918456078,-0.124524526298046,0.129782930016518,0.066055655479431,0.070733435451984,-0.107259251177311,-0.142840594053268,-0.029371531680226,-0.035057440400124,-0.041021987795830,-0.052991844713688,-0.017753424122930,0.018624018877745,-0.009121223352849,0.019438931718469));
res += mul(Get(s1,dx,-dy), float4x4(0.018613560125232,-0.070340521633625,-0.123705528676510,0.138711780309677,-0.091884247958660,0.066916227340698,-0.006637927610427,-0.066534206271172,0.130106166005135,0.140536606311798,0.146554127335548,-0.119457088410854,-0.042239848524332,-0.024282539263368,-0.054636236280203,-0.003017626935616));
res += mul(Get(s1,dx,0), float4x4(-0.035578135401011,-0.095790132880211,-0.150185778737068,0.018608771264553,-0.072880789637566,0.180685237050056,0.013786125928164,-0.110823869705200,-0.025303954258561,-0.012257473543286,0.045127164572477,-0.096856862306595,-0.009601642377675,0.100276336073875,0.199352860450745,0.084782890975475));
res += mul(Get(s1,dx,dy), float4x4(0.135199517011642,-0.097146697342396,-0.202635332942009,0.121123410761356,-0.083358205854893,0.082089535892010,-0.022937016561627,-0.047236014157534,0.002354871714488,-0.048355374485254,-0.098881289362907,0.020083099603653,-0.047852139919996,-0.053922142833471,-0.156243935227394,-0.026043713092804));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034348476678133,-0.066915921866894,0.016165211796761,-0.017780361697078,-0.113209292292595,-0.009895956143737,-0.002554204082116,-0.015542965382338,0.116360306739807,0.039555471390486,-0.072026140987873,0.009847415611148,-0.103710681200027,-0.095442309975624,0.111708030104637,-0.052246794104576));
res += mul(Get(s2,-dx,0), float4x4(0.020861217752099,0.277813047170639,0.065527521073818,-0.035960536450148,0.016441494226456,-0.017868399620056,-0.008590330369771,-0.000400259130402,0.123147219419479,0.024915134534240,0.030248755589128,0.120312415063381,0.021645106375217,-0.067394688725471,0.074888974428177,0.034545909613371));
res += mul(Get(s2,-dx,dy), float4x4(-0.060866829007864,0.074284292757511,-0.133216798305511,-0.041758853942156,0.054373752325773,-0.092781864106655,-0.115232892334461,0.127675652503967,0.022224536165595,-0.144545286893845,0.057808931916952,0.030865956097841,0.057657767087221,-0.067187502980232,-0.014773363247514,0.075692988932133));
res += mul(Get(s2,0,-dy), float4x4(-0.044136188924313,0.018701910972595,-0.005377749446779,-0.116015911102295,-0.030936697497964,-0.085217982530594,-0.074081964790821,0.061661425977945,0.040738191455603,-0.000260846165475,0.020063694566488,0.096229545772076,-0.018032576888800,-0.076915696263313,0.123726673424244,-0.006515272893012));
res += mul(Get(s2,0,0), float4x4(0.004597861785442,-0.066610567271709,-0.106500491499901,-0.054371859878302,0.113390922546387,-0.002847455209121,-0.087441302835941,0.069994762539864,-0.092881858348846,-0.053019087761641,-0.026093414053321,-0.108754485845566,-0.064088135957718,0.053203325718641,0.043550599366426,-0.006530134472996));
res += mul(Get(s2,0,dy), float4x4(0.180943801999092,-0.019418034702539,-0.115095861256123,-0.100324757397175,0.052342347800732,-0.064524687826633,-0.103504993021488,0.121944062411785,0.002745494944975,-0.127516955137253,-0.032955221831799,0.013724202290177,0.034672889858484,0.029714930802584,-0.085285007953644,-0.056473527103662));
res += mul(Get(s2,dx,-dy), float4x4(0.009160829707980,0.030470410361886,-0.017176866531372,-0.059415176510811,-0.039056628942490,-0.119518950581551,-0.081173032522202,-0.031496781855822,0.052167221903801,0.136959299445152,-0.089560903608799,-0.083521522581577,-0.023426482453942,-0.048315305262804,0.142934709787369,-0.060935661196709));
res += mul(Get(s2,dx,0), float4x4(-0.120768688619137,0.041968423873186,0.061670105904341,-0.061184447258711,-0.038198333233595,0.067342676222324,-0.032072585076094,-0.062268387526274,-0.038333881646395,0.220674708485603,0.073673173785210,-0.040125709027052,-0.055470697581768,0.007427018601447,0.166125521063805,-0.108417131006718));
res += mul(Get(s2,dx,dy), float4x4(0.042609144002199,-0.006528623867780,-0.050210744142532,-0.131387457251549,0.054537683725357,-0.057359617203474,-0.077995464205742,-0.121308922767639,-0.093393646180630,-0.089298196136951,0.227590337395668,-0.040473833680153,-0.137958630919456,0.027848970144987,-0.067200459539890,-0.044189129024744));
res += mul(Get(s3,-dx,-dy), float4x4(0.011851700022817,0.121570445597172,0.091167792677879,-0.087659910321236,-0.019444858655334,0.049401588737965,0.016739381477237,-0.078212358057499,-0.014353507198393,0.030770346522331,-0.034172154963017,-0.162548571825027,0.072922877967358,0.055393077433109,0.066502533853054,-0.009239379316568));
res += mul(Get(s3,-dx,0), float4x4(-0.041718184947968,0.013082030229270,0.001201460137963,-0.065872967243195,-0.072356052696705,0.025130579248071,-0.003581471275538,-0.021274082362652,-0.056039121001959,0.073048301041126,-0.073922440409660,-0.104932114481926,0.021843563765287,0.086888037621975,0.028998214751482,0.033200405538082));
res += mul(Get(s3,-dx,dy), float4x4(0.023321652784944,-0.029966495931149,-0.196347668766975,0.163106352090836,-0.087095245718956,-0.115718647837639,0.070951990783215,0.043676309287548,0.083678022027016,0.084129370748997,-0.017989991232753,-0.065212510526180,-0.086537875235081,0.044611390680075,0.214205011725426,-0.053764950484037));
res += mul(Get(s3,0,-dy), float4x4(0.026769015938044,-0.018329150974751,0.100141711533070,-0.089428447186947,0.002348841866478,-0.005953988526016,0.150033831596375,0.011908845044672,-0.045060191303492,0.090608172118664,-0.015408785082400,-0.118484526872635,0.009751963429153,0.073143929243088,0.004277568776160,0.031816259026527));
res += mul(Get(s3,0,0), float4x4(-0.056545045226812,-0.093717992305756,0.066477879881859,0.083663523197174,-0.060207989066839,-0.137406036257744,0.150798395276070,0.035655837506056,0.035713221877813,-0.078002825379372,-0.034072075039148,0.044736769050360,-0.017552627250552,0.001064930460416,-0.008252589963377,-0.015969593077898));
res += mul(Get(s3,0,dy), float4x4(-0.006087321322411,0.022871127352118,-0.176978141069412,-0.038338150829077,-0.072171263396740,-0.135222271084785,0.210163667798042,0.066450372338295,-0.054481420665979,-0.119029499590397,0.055967476218939,0.082358464598656,-0.059068806469440,0.079530060291290,0.119210496544838,-0.074902027845383));
res += mul(Get(s3,dx,-dy), float4x4(0.069083862006664,0.021411085501313,-0.054054871201515,0.037556540220976,0.187848567962646,-0.056233171373606,-0.067821465432644,-0.074597746133804,-0.118723824620247,0.159297555685043,-0.079872258007526,0.018037632107735,0.087909393012524,-0.078964874148369,0.029686246067286,0.160426422953606));
res += mul(Get(s3,dx,0), float4x4(-0.034245822578669,0.017431447282434,-0.070401683449745,0.019833030179143,-0.017082745209336,-0.098473072052002,-0.019881000742316,0.065947674214840,0.006224332377315,0.069885216653347,-0.154305770993233,0.042534958571196,0.030279310420156,0.046337764710188,-0.048644687980413,0.077919282019138));
res += mul(Get(s3,dx,dy), float4x4(-0.068374544382095,0.115056566894054,-0.150961145758629,-0.150538474321365,0.038548145443201,-0.010585187934339,-0.008696743287146,0.166077807545662,0.020743979141116,-0.053570773452520,-0.035366162657738,-0.030215812847018,-0.036973796784878,0.008919675834477,0.189979404211044,0.378613501787186));
return max(float4(0,0,0,0), res);
}
