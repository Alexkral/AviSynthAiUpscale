sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.173491522669792,-0.002982876263559,-0.050479117780924,-0.083092331886292,0.019117053598166,-0.000086091975390,-0.116710387170315,-0.041525017470121,0.052950948476791,0.082839883863926,-0.006158240605146,0.073753006756306,-0.145079985260963,-0.155629426240921,0.145797774195671,0.193336993455887));
res += mul(Get(s0,-dx,0), float4x4(-0.201365754008293,0.152439445257187,-0.110692664980888,-0.025378169491887,-0.013421124778688,-0.042907439172268,-0.030868997797370,-0.039269171655178,-0.055430497974157,-0.044738475233316,-0.018367270007730,-0.139770656824112,-0.128860488533974,-0.038328230381012,0.075776591897011,-0.101827777922153));
res += mul(Get(s0,-dx,dy), float4x4(-0.025278603658080,-0.065367162227631,-0.053691860288382,-0.006125461775810,0.184110924601555,-0.032925058156252,0.087284877896309,-0.113917931914330,-0.124238736927509,-0.109877258539200,0.079053319990635,-0.139187157154083,0.013667498715222,-0.032099574804306,0.102979451417923,-0.157128408551216));
res += mul(Get(s0,0,-dy), float4x4(0.064444661140442,0.053759973496199,0.075388647615910,-0.092557899653912,0.082298785448074,-0.082857199013233,-0.059729121625423,0.011186214163899,0.004209375008941,-0.147087812423706,-0.092630997300148,0.182913810014725,-0.125998601317406,0.022280139848590,0.006948605645448,0.053905896842480));
res += mul(Get(s0,0,0), float4x4(-0.059482838958502,-0.014825530350208,-0.099859081208706,-0.150049373507500,0.214976936578751,0.041089303791523,-0.057770103216171,0.011109488084912,-0.028104495257139,-0.229721099138260,-0.058062069118023,0.140731185674667,-0.088974162936211,-0.052274622023106,0.034550834447145,-0.163900211453438));
res += mul(Get(s0,0,dy), float4x4(0.007611147593707,-0.095161765813828,-0.017218528315425,0.006585072260350,0.006766882725060,-0.017010929062963,0.196114525198936,-0.148775786161423,-0.140216350555420,0.222030445933342,-0.089888997375965,-0.157156020402908,0.205622375011444,0.105785712599754,0.015035334043205,0.002363553037867));
res += mul(Get(s0,dx,-dy), float4x4(-0.050514481961727,0.064347229897976,-0.029806673526764,0.082748368382454,-0.171371132135391,-0.004736357834190,-0.037837292999029,-0.266494959592819,0.035382349044085,-0.026426408439875,-0.126228049397469,0.015242435038090,-0.032956078648567,-0.009034382179379,0.094460718333721,0.055976007133722));
res += mul(Get(s0,dx,0), float4x4(0.060386553406715,0.104996472597122,0.132250085473061,0.016417447477579,0.280012130737305,-0.043204229325056,0.233923196792603,0.068772129714489,-0.107026048004627,-0.150844439864159,-0.130941435694695,0.086788572371006,-0.030100200325251,0.034494571387768,0.071750551462173,0.137812227010727));
res += mul(Get(s0,dx,dy), float4x4(-0.091537736356258,0.041315257549286,-0.116994760930538,0.246984973549843,0.107388794422150,-0.052261132746935,0.033051472157240,-0.057050444185734,-0.061146195977926,-0.121040478348732,-0.028795702382922,0.053788337856531,0.072782538831234,-0.136048138141632,0.074605055153370,0.058618694543839));
res += mul(Get(s1,-dx,-dy), float4x4(0.128761723637581,0.051971260458231,-0.249056503176689,-0.026790799573064,0.042370028793812,-0.015413957647979,0.078241899609566,0.029977248981595,-0.027600055560470,-0.133651375770569,-0.150508731603622,-0.039374671876431,0.112780153751373,-0.200005739927292,0.126201927661896,0.007294609211385));
res += mul(Get(s1,-dx,0), float4x4(-0.140980556607246,-0.055349975824356,0.058098733425140,-0.054247755557299,0.025029852986336,-0.091640308499336,-0.087056994438171,-0.004688418935984,0.040291760116816,0.009617558680475,0.077421315014362,0.065544091165066,-0.055436421185732,-0.055305533111095,-0.042663674801588,0.152862057089806));
res += mul(Get(s1,-dx,dy), float4x4(0.039561863988638,-0.011347217485309,-0.040960565209389,0.108770281076431,-0.014489322900772,0.083775840699673,0.017520379275084,-0.066024959087372,-0.021881146356463,0.096031524240971,0.082938894629478,0.125166475772858,-0.164078444242477,-0.040831517428160,0.114417217671871,-0.053641144186258));
res += mul(Get(s1,0,-dy), float4x4(-0.036950767040253,0.053589496761560,-0.039741665124893,-0.140146002173424,0.101366728544235,-0.058745831251144,0.009243715554476,-0.118021242320538,-0.060995269566774,-0.003756227670237,-0.214819729328156,0.125200331211090,0.168537899851799,-0.135569006204605,0.002154420362785,0.037490759044886));
res += mul(Get(s1,0,0), float4x4(0.067673064768314,-0.007917400449514,-0.044504266232252,0.030531769618392,0.075532332062721,0.077534027397633,-0.078158602118492,-0.009060025215149,-0.118871688842773,-0.038742691278458,0.019833065569401,0.040006306022406,0.253135412931442,0.016285171732306,-0.024084983393550,0.113409519195557));
res += mul(Get(s1,0,dy), float4x4(-0.116969510912895,-0.060999091714621,0.056156035512686,-0.118302389979362,-0.044695213437080,-0.154173716902733,0.009403193369508,0.073271863162518,0.017497422173619,-0.031458489596844,0.038292892277241,-0.027572819963098,-0.303936064243317,-0.035523068159819,-0.196213617920876,0.122302003204823));
res += mul(Get(s1,dx,-dy), float4x4(0.046616263687611,0.251364707946777,-0.146937847137451,-0.093402281403542,-0.040643181651831,0.143123909831047,0.038891356438398,0.047138798981905,-0.128380239009857,0.086073465645313,-0.017908470705152,-0.098733268678188,-0.022841250523925,-0.118352554738522,0.024599935859442,0.071152232587337));
res += mul(Get(s1,dx,0), float4x4(-0.131158322095871,0.126837760210037,0.167827919125557,-0.014977858401835,-0.040806453675032,-0.007284561637789,0.001173981116153,0.048547133803368,-0.080807395279408,-0.082352355122566,0.031545955687761,-0.016044659540057,-0.016638167202473,-0.052777964621782,0.074409119784832,0.096385918557644));
res += mul(Get(s1,dx,dy), float4x4(-0.101802222430706,0.039578787982464,0.009786479175091,-0.066069260239601,-0.009470436722040,0.044279243797064,-0.098950497806072,-0.024396164342761,-0.034078206866980,-0.093738257884979,-0.112269535660744,-0.242623284459114,0.076833635568619,0.056448265910149,-0.017768068239093,-0.031374882906675));
res += mul(Get(s2,-dx,-dy), float4x4(-0.212507933378220,-0.084536530077457,0.035437621176243,-0.148948878049850,-0.070401012897491,-0.202053636312485,-0.132511645555496,-0.002334159100428,-0.034213118255138,-0.040147047489882,-0.191168397665024,-0.049277655780315,0.092142663896084,-0.030904395505786,0.026402352377772,0.016338985413313));
res += mul(Get(s2,-dx,0), float4x4(-0.002565457252786,-0.003154752310365,-0.071872599422932,0.016508169472218,0.000864066299982,0.082756929099560,0.061996910721064,0.051108926534653,-0.063031718134880,0.074758164584637,-0.022101499140263,0.063489735126495,-0.004792809020728,0.072336472570896,-0.042005628347397,-0.141706138849258));
res += mul(Get(s2,-dx,dy), float4x4(-0.068214677274227,-0.070311665534973,-0.010900769382715,0.048999030143023,0.083072140812874,-0.133203685283661,-0.039661746472120,0.165912538766861,0.061264239251614,-0.106131911277771,-0.019510919228196,-0.000228797871387,-0.000818446860649,-0.121634386479855,-0.093663208186626,-0.189230814576149));
res += mul(Get(s2,0,-dy), float4x4(-0.004643375054002,-0.202932193875313,0.067332699894905,-0.166881382465363,0.202464476227760,0.102801188826561,0.032274432480335,0.028499478474259,0.014965320937335,-0.044927313923836,-0.163888409733772,0.121577925980091,0.083419866859913,-0.063429705798626,-0.092594847083092,0.053171951323748));
res += mul(Get(s2,0,0), float4x4(-0.218241378664970,0.037959158420563,0.110991515219212,-0.029724011197686,0.044552888721228,-0.025491245090961,0.072589568793774,-0.084161177277565,-0.120746038854122,-0.175875544548035,0.069749169051647,0.006719516590238,-0.046476941555738,-0.000458656111732,-0.108689695596695,0.006305528804660));
res += mul(Get(s2,0,dy), float4x4(0.138985380530357,-0.063422933220863,0.082564733922482,0.166454553604126,-0.019758349284530,-0.128786161541939,-0.149578437209129,-0.030940448865294,-0.027523936703801,0.153933435678482,0.036751288920641,-0.151861906051636,0.053895290941000,-0.070978328585625,-0.100866034626961,-0.130228370428085));
res += mul(Get(s2,dx,-dy), float4x4(-0.072591401636600,-0.023150136694312,0.127393901348114,-0.124767839908600,0.115927949547768,0.175401583313942,0.231248334050179,0.208270102739334,-0.089981168508530,-0.110871441662312,-0.007770025637001,0.168408617377281,-0.130647525191307,0.070880889892578,0.082612067461014,-0.087362460792065));
res += mul(Get(s2,dx,0), float4x4(0.128843590617180,-0.183915749192238,0.169390678405762,-0.036288231611252,-0.040272511541843,0.086800642311573,0.031134195625782,-0.037800043821335,-0.048526030033827,-0.084871537983418,-0.053277291357517,0.206119403243065,0.079736985266209,0.135752499103546,-0.148785397410393,-0.090677417814732));
res += mul(Get(s2,dx,dy), float4x4(0.028901651501656,-0.092610083520412,-0.013453064486384,-0.035330370068550,0.033024109899998,0.078590095043182,-0.045321490615606,0.001106187934056,0.090264245867729,-0.122047476470470,0.122892849147320,-0.075069241225719,0.020684545859694,0.036433398723602,-0.093943305313587,-0.130642086267471));
res += mul(Get(s3,-dx,-dy), float4x4(0.114905096590519,0.082649946212769,-0.118972443044186,0.079981319606304,0.057324521243572,0.056559674441814,-0.043791707605124,0.047436758875847,0.097829870879650,0.133037135004997,-0.095639616250992,0.026546444743872,-0.008373362012208,0.188067704439163,-0.047341924160719,-0.093194834887981));
res += mul(Get(s3,-dx,0), float4x4(0.134599268436432,-0.115330062806606,0.061153352260590,-0.035375032573938,-0.052181977778673,-0.111894354224205,0.078080952167511,0.162496745586395,0.024456351995468,-0.024918872863054,0.133071079850197,-0.014080113731325,0.114435315132141,-0.046735931187868,0.000377947930247,0.039302319288254));
res += mul(Get(s3,-dx,dy), float4x4(-0.026027543470263,-0.087092891335487,-0.168092831969261,-0.244447946548462,-0.026011636480689,0.058906503021717,0.095740161836147,0.074056237936020,-0.141775161027908,0.046750493347645,0.087917014956474,0.011756185442209,0.082212865352631,-0.003704929491505,-0.078032821416855,-0.078611299395561));
res += mul(Get(s3,0,-dy), float4x4(0.026234675198793,0.164599075913429,-0.088098421692848,0.109408110380173,0.288857221603394,-0.127747550606728,-0.002137546660379,0.137605458498001,0.023808671161532,-0.047344721853733,-0.105864576995373,0.138617500662804,-0.184719383716583,-0.110745057463646,-0.065094664692879,0.156775683164597));
res += mul(Get(s3,0,0), float4x4(-0.253288209438324,-0.037657618522644,-0.091152511537075,0.058026168495417,0.114851400256157,-0.089620560407639,-0.050606008619070,0.029965348541737,0.001940560876392,-0.087764248251915,0.153713926672935,0.159008204936981,0.029544558376074,0.051228988915682,-0.029562911018729,0.100216753780842));
res += mul(Get(s3,0,dy), float4x4(-0.045158606022596,0.036925144493580,-0.023719232529402,0.076021887362003,0.062908597290516,0.038952898234129,0.048387911170721,0.156418502330780,0.036158155649900,-0.053134489804506,-0.028491068631411,-0.043447162955999,0.004629002418369,-0.034840654581785,0.053777929395437,0.031756021082401));
res += mul(Get(s3,dx,-dy), float4x4(0.029064737260342,-0.006585542112589,-0.049349024891853,0.005185660440475,0.034718718379736,-0.211887091398239,-0.042995065450668,0.047356251627207,-0.026817748323083,0.004297442734241,0.019913990050554,-0.207868114113808,0.027207493782043,-0.060914035886526,-0.146598830819130,-0.007986204698682));
res += mul(Get(s3,dx,0), float4x4(-0.001993014942855,-0.025984611362219,0.131863370537758,-0.015558888204396,0.000252536323387,-0.071268782019615,-0.004690641537309,-0.050105463713408,0.068709194660187,-0.159018307924271,-0.195877239108086,0.109827890992165,-0.076587446033955,-0.186415389180183,0.119908303022385,-0.175946712493896));
res += mul(Get(s3,dx,dy), float4x4(-0.123209588229656,-0.041898798197508,0.096153765916824,-0.002204834483564,-0.025597682222724,0.128746420145035,0.004390443209559,0.157937467098236,-0.134196355938911,-0.245788872241974,0.038790468126535,0.076281264424324,-0.005352668929845,0.143724143505096,0.116395726799965,-0.069760687649250));
return max(float4(0,0,0,0), res);
}
