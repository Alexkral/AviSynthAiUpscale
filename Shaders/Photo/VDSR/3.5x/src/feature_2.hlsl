sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.045037839561701,0.049132660031319,-0.154515951871872,-0.042223021388054) * Get(-dx,-dy);
res += float4(-0.249029561877251,-0.026205694302917,-0.124269433319569,-0.138955906033516) * Get(-dx,0);
res += float4(-0.012183946557343,-0.064202040433884,0.043340895324945,-0.013312648981810) * Get(-dx,dy);
res += float4(-0.041377384215593,-0.092345975339413,-0.150988996028900,-0.094854526221752) * Get(0,-dy);
res += float4(-0.046801514923573,0.073305830359459,-0.075675666332245,0.011041885241866) * Get(0,0);
res += float4(0.073586955666542,-0.012951423414052,0.013011342845857,-0.005235170945525) * Get(0,dy);
res += float4(0.198259532451630,-0.018788473680615,0.038999665528536,-0.103085063397884) * Get(dx,-dy);
res += float4(0.255466312170029,-0.140305221080780,0.168503388762474,-0.175634428858757) * Get(dx,0);
res += float4(0.019548797979951,-0.075922615826130,0.245179563760757,0.028540665283799) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
