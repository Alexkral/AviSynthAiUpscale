sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.004722353536636,0.002851789584383,-0.001181600731798,-0.005783389788121) * Get(-dx,-dy);
res += float4(0.000579731364269,-0.004870926029980,-0.003344855038449,-0.004982986021787) * Get(-dx,0);
res += float4(0.002033909549937,-0.007198735140264,0.000378191325581,-0.001113348058425) * Get(-dx,dy);
res += float4(-0.000588290509768,0.001712959376164,-0.002108527813107,0.002333640586585) * Get(0,-dy);
res += float4(-0.003899682080373,-0.008652739226818,-0.006753349211067,-0.000381884368835) * Get(0,0);
res += float4(-0.000572766177356,-0.000677586707752,-0.000568100193050,-0.002182926284149) * Get(0,dy);
res += float4(-0.006624693050981,0.004268469754606,-0.001747480127960,0.000034606870031) * Get(dx,-dy);
res += float4(-0.004186447244138,-0.008163447491825,0.002057368634269,-0.003906344529241) * Get(dx,0);
res += float4(-0.005214999895543,-0.000367190892575,-0.009063486009836,-0.002723464043811) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
