sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.168865457177162,-0.064608372747898,-0.281084388494492,0.042716406285763,0.200248837471008,-0.009289545007050,0.174653470516205,-0.114074848592281,0.096877902746201,-0.320652186870575,-0.011327423155308,0.040610052645206,0.119921989738941,0.084139615297318,-0.000699402589817,-0.014143218286335));
res += mul(Get(s0,-dx,0), float4x4(-0.081119626760483,-0.118917182087898,-0.087617196142673,-0.082191452383995,0.026217171922326,0.126775994896889,0.097549512982368,0.055471591651440,0.096778504550457,-0.137995123863220,-0.161208271980286,0.002359938807786,0.007423602975905,0.050511773675680,0.062433131039143,-0.013805891387165));
res += mul(Get(s0,-dx,dy), float4x4(0.077241428196430,0.259462863206863,0.071846827864647,0.060566887259483,0.081499323248863,0.066785916686058,-0.155574619770050,-0.059232842177153,-0.015615844167769,0.064366497099400,-0.239682614803314,-0.100684158504009,0.055041529238224,-0.028345072641969,0.190608963370323,0.000882828608155));
res += mul(Get(s0,0,-dy), float4x4(0.158257380127907,-0.102758765220642,0.050180573016405,-0.074007466435432,-0.063359983265400,0.067267656326294,-0.157277345657349,0.090921811759472,-0.104608602821827,0.002427171217278,0.175909936428070,0.156934738159180,-0.058387793600559,-0.064327321946621,-0.050160430371761,-0.261857032775879));
res += mul(Get(s0,0,0), float4x4(-0.060467474162579,-0.183681473135948,-0.046927686780691,0.037469431757927,0.132928788661957,0.141348332166672,-0.170948252081871,-0.110938712954521,-0.016397044062614,-0.018389547243714,-0.296486139297485,-0.070698797702789,-0.101007744669914,0.013067454099655,0.087553568184376,-0.102661363780499));
res += mul(Get(s0,0,dy), float4x4(-0.032819941639900,0.136877030134201,-0.101889058947563,-0.035113416612148,0.147779464721680,-0.123164251446724,0.054104018956423,0.083743743598461,0.110566854476929,-0.026469662785530,0.062664046883583,-0.071687638759613,-0.199919432401657,-0.334712922573090,0.032651077955961,-0.016294535249472));
res += mul(Get(s0,dx,-dy), float4x4(-0.015683611854911,0.124600708484650,-0.041097197681665,0.205374941229820,-0.044935390353203,-0.106472641229630,0.073902942240238,-0.059818405658007,0.063827671110630,0.065401613712311,-0.067545719444752,0.143977195024490,0.032485846430063,-0.010976717807353,-0.032130055129528,-0.236270114779472));
res += mul(Get(s0,dx,0), float4x4(-0.099260076880455,0.171672686934471,-0.112319037318230,0.016810566186905,-0.081136152148247,-0.159261733293533,-0.074409462511539,-0.137160837650299,0.131838306784630,-0.081274755299091,0.003686851821840,-0.008363297209144,0.116598688066006,-0.164731517434120,0.048162415623665,0.040054425597191));
res += mul(Get(s0,dx,dy), float4x4(0.084156587719917,-0.071501582860947,0.094648666679859,-0.016569735482335,-0.060562085360289,-0.047752298414707,-0.206451177597046,0.076814420521259,-0.032238058745861,0.053379699587822,-0.014678936451674,-0.013083423487842,-0.148502945899963,-0.000176204368472,0.003971776459366,0.085693970322609));
res += mul(Get(s1,-dx,-dy), float4x4(-0.159719824790955,-0.008501335978508,0.013119701296091,0.126951411366463,0.099673092365265,-0.046812403947115,0.046449717134237,0.004244832787663,-0.081787966191769,-0.009653451852500,0.119993194937706,-0.087885588407516,0.087230563163757,0.217666000127792,-0.047319397330284,-0.124663181602955));
res += mul(Get(s1,-dx,0), float4x4(-0.100722700357437,-0.157191708683968,0.045789696276188,-0.053017210215330,-0.059892527759075,-0.013582209125161,-0.084589175879955,-0.072617851197720,0.054050117731094,-0.166276022791862,-0.130991205573082,-0.113509669899940,-0.252698898315430,-0.125221103429794,0.197964280843735,-0.021507410332561));
res += mul(Get(s1,-dx,dy), float4x4(-0.029601793736219,-0.024718120694160,0.124705657362938,0.003410617355257,0.030246697366238,-0.033369537442923,-0.269759297370911,-0.202985554933548,0.265502572059631,-0.087353199720383,-0.124273903667927,-0.035724539309740,-0.004452922381461,0.029149502515793,0.001332553918473,-0.075176745653152));
res += mul(Get(s1,0,-dy), float4x4(-0.154950156807899,-0.011348871514201,-0.218546748161316,-0.023262904956937,0.123039111495018,-0.227188497781754,-0.015849838033319,0.104092821478844,0.109887473285198,0.012491612695158,-0.050058450549841,0.034139972180128,0.080014534294605,-0.136434167623520,0.137367561459541,0.191039934754372));
res += mul(Get(s1,0,0), float4x4(-0.147213041782379,-0.148859575390816,-0.058789588510990,0.186677083373070,0.119605801999569,-0.007629091385752,0.087329983711243,0.148454234004021,0.015406673774123,0.156302511692047,0.126632213592529,-0.063150733709335,0.017964476719499,-0.125236183404922,-0.066986680030823,0.134207978844643));
res += mul(Get(s1,0,dy), float4x4(0.245507270097733,-0.072160646319389,-0.011567307636142,0.104023404419422,-0.095363572239876,0.062012504786253,0.041946731507778,-0.046825852245092,-0.056030642241240,0.067342385649681,-0.098982140421867,0.101907327771187,0.071358427405357,-0.063250273466110,0.162213429808617,-0.012584940530360));
res += mul(Get(s1,dx,-dy), float4x4(0.053366430103779,-0.108490929007530,0.190198257565498,0.111608989536762,0.000784993171692,-0.185673877596855,-0.087063975632191,0.083216458559036,0.006428810767829,0.026127507910132,-0.038383260369301,0.097322702407837,-0.056675069034100,0.012534436769783,-0.027557021006942,-0.161702707409859));
res += mul(Get(s1,dx,0), float4x4(-0.152387574315071,0.156869947910309,0.171569034457207,0.006739269942045,-0.018089044839144,-0.177347466349602,-0.006609587464482,-0.052435167133808,-0.132281064987183,0.064835742115974,0.031733624637127,-0.060166463255882,0.064505547285080,0.006119613535702,0.057076070457697,0.068743221461773));
res += mul(Get(s1,dx,dy), float4x4(0.037383046001196,-0.124564625322819,0.221103027462959,-0.063537240028381,0.016364051029086,-0.035045579075813,-0.165090277791023,0.082024782896042,0.028735969215631,-0.138478100299835,-0.134238436818123,-0.198172762989998,-0.078929871320724,0.061766751110554,-0.058228190988302,0.137749731540680));
res += mul(Get(s2,-dx,-dy), float4x4(-0.045031424611807,0.055335778743029,-0.035585932433605,0.005813884548843,0.076913997530937,-0.027442583814263,-0.171171009540558,-0.008532753214240,-0.047049861401320,-0.035588834434748,-0.163668960332870,0.097966238856316,0.087524428963661,-0.150732666254044,-0.048588488250971,-0.042948391288519));
res += mul(Get(s2,-dx,0), float4x4(0.292545408010483,0.092765867710114,0.037699636071920,0.102113246917725,-0.072601452469826,0.003514070529491,0.074320867657661,0.044795818626881,-0.049987725913525,-0.169088199734688,0.205561041831970,0.098779089748859,0.036223948001862,-0.046060629189014,-0.078675419092178,0.042071655392647));
res += mul(Get(s2,-dx,dy), float4x4(-0.259675741195679,-0.023988978937268,0.070771478116512,-0.025031631812453,0.183592960238457,-0.071583680808544,0.064892508089542,-0.124428674578667,-0.051855165511370,0.013991092331707,0.052718382328749,-0.078201830387115,0.021571841090918,0.063413292169571,-0.257920295000076,-0.139493510127068));
res += mul(Get(s2,0,-dy), float4x4(0.052162952721119,-0.113820523023605,-0.114507734775543,0.163662806153297,-0.099294789135456,-0.062938079237938,-0.254877984523773,0.113824538886547,0.043015126138926,0.243373975157738,-0.103576205670834,0.117325738072395,-0.071992911398411,-0.064468517899513,0.142513111233711,0.027724260464311));
res += mul(Get(s2,0,0), float4x4(0.115696825087070,0.111669734120369,-0.007492770906538,0.204494446516037,0.150475263595581,0.079448044300079,-0.028886413201690,0.041937958449125,0.057268194854259,0.042285531759262,0.087102442979813,0.041397746652365,0.133666113018990,0.091928005218506,-0.034506473690271,0.074913725256920));
res += mul(Get(s2,0,dy), float4x4(-0.011693580076098,0.037630546838045,0.040138173848391,-0.057961657643318,-0.016226720064878,0.022310731932521,-0.001934644649737,0.110049165785313,0.105452425777912,-0.042047437280416,0.208937957882881,-0.216795593500137,0.041456069797277,-0.074734315276146,0.137774392962456,-0.157682731747627));
res += mul(Get(s2,dx,-dy), float4x4(-0.039219647645950,0.039893649518490,-0.088538385927677,-0.126147359609604,0.000878224149346,0.062348302453756,0.029245242476463,0.128081381320953,-0.048452541232109,-0.037449955940247,-0.101225741207600,0.072374969720840,-0.005189267918468,0.075277000665665,-0.065015122294426,0.081366360187531));
res += mul(Get(s2,dx,0), float4x4(-0.058446489274502,-0.050261005759239,-0.088604405522346,0.104535989463329,0.045363292098045,-0.002628425369039,0.007832238450646,0.075676664710045,0.274740070104599,-0.083601921796799,0.020068785175681,-0.137962520122528,-0.211296066641808,-0.218140393495560,0.016064422205091,0.026583213359118));
res += mul(Get(s2,dx,dy), float4x4(-0.034713812172413,-0.021853432059288,0.103600017726421,0.085102170705795,0.327671974897385,-0.201472073793411,-0.020918283611536,-0.018960291519761,0.184913203120232,-0.055127151310444,-0.222383737564087,0.065829113125801,-0.179819718003273,0.070811986923218,-0.071668088436127,-0.073760345578194));
res += mul(Get(s3,-dx,-dy), float4x4(-0.078742116689682,-0.079040318727493,0.123387262225151,-0.073209248483181,-0.113380558788776,0.001971464371309,0.057332649827003,-0.094587653875351,0.010158628225327,-0.134129121899605,0.140042364597321,-0.025322988629341,0.191399529576302,-0.044735979288816,-0.119207575917244,0.013401369564235));
res += mul(Get(s3,-dx,0), float4x4(0.005065642297268,0.034590505063534,-0.010845893062651,0.027154106646776,-0.003020620904863,0.018468633294106,-0.025014000013471,-0.105403400957584,0.374020487070084,-0.045686099678278,0.066805712878704,-0.126327037811279,0.023611929267645,-0.044441584497690,-0.035391826182604,0.136203303933144));
res += mul(Get(s3,-dx,dy), float4x4(-0.273771286010742,0.014649053104222,-0.030888020992279,-0.031196717172861,0.250435203313828,0.302175283432007,-0.260822892189026,0.014386645518243,0.095062546432018,0.092427328228951,-0.078984014689922,0.013269806280732,0.105479061603546,-0.157024011015892,-0.009575422853231,0.104823485016823));
res += mul(Get(s3,0,-dy), float4x4(0.018195403739810,0.041097901761532,-0.029851581901312,-0.180609896779060,-0.032762225717306,-0.158963337540627,0.107472822070122,-0.053541343659163,0.044986724853516,-0.051681458950043,-0.129860967397690,-0.063778631389141,-0.072175778448582,-0.057248294353485,0.003317527472973,-0.119611859321594));
res += mul(Get(s3,0,0), float4x4(0.044494289904833,0.160684108734131,-0.065554872155190,0.144419267773628,-0.062715806066990,0.131185531616211,-0.101048864424229,-0.184834077954292,-0.060111641883850,0.024920348078012,0.126563936471939,-0.125253573060036,-0.076229676604271,-0.044278029352427,-0.016290843486786,0.062606900930405));
res += mul(Get(s3,0,dy), float4x4(0.009983764030039,-0.097954288125038,-0.164312675595284,-0.067610748112202,-0.019295319914818,0.045238036662340,-0.131463229656219,-0.115598626434803,-0.112446613609791,0.033424414694309,-0.268846899271011,0.010708961635828,0.125830650329590,-0.062453925609589,0.053430948406458,-0.102745093405247));
res += mul(Get(s3,dx,-dy), float4x4(0.225379601120949,0.179885163903236,0.085606373846531,-0.081657290458679,-0.016235824674368,-0.079820051789284,0.119091682136059,0.019815785810351,0.070267051458359,0.140234977006912,-0.181082263588905,0.061792805790901,0.236468017101288,-0.063811406493187,0.069986745715141,0.078091122210026));
res += mul(Get(s3,dx,0), float4x4(0.103369906544685,0.076744474470615,0.104769103229046,0.115677878260612,-0.128571882843971,-0.117778383195400,0.076611846685410,-0.065446712076664,0.116407439112663,-0.053775217384100,0.113859422504902,0.082619205117226,0.117887601256371,0.083373777568340,0.184083923697472,0.129022106528282));
res += mul(Get(s3,dx,dy), float4x4(-0.135925367474556,0.057567123323679,0.015292871743441,-0.162343591451645,0.117104187607765,-0.087345801293850,0.155213937163353,0.023602427914739,-0.092264011502266,0.169370874762535,-0.085806921124458,0.056141048669815,-0.072886526584625,0.199033379554749,0.166486948728561,-0.008903518319130));
return max(float4(0,0,0,0), res);
}
