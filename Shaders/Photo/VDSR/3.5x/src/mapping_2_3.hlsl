sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000664900639094,-0.002797823399305,0.004840088076890,0.005685525014997,-0.052413422614336,-0.352272927761078,0.153715893626213,-0.089220404624939,-0.063052199780941,-0.075141839683056,-0.172936677932739,0.006818390917033,-0.073913395404816,-0.197717428207397,-0.254836976528168,0.036000937223434));
res += mul(Get(s0,-dx,0), float4x4(-0.005228068679571,-0.002956625772640,0.000825043767691,0.008394390344620,0.029305672273040,-0.277854770421982,0.011830758303404,0.149130553007126,-0.109096430242062,0.030233694240451,-0.154287964105606,-0.067915141582489,0.040443114936352,-0.052735306322575,-0.169789746403694,-0.206813186407089));
res += mul(Get(s0,-dx,dy), float4x4(0.002212612424046,0.000820165616460,0.008617334999144,0.000130906890263,0.103016607463360,0.124696537852287,-0.253902256488800,0.175981223583221,-0.086110606789589,0.080525800585747,-0.185526937246323,0.136485695838928,0.000855247199070,-0.044771008193493,0.250723212957382,-0.151141807436943));
res += mul(Get(s0,0,-dy), float4x4(-0.001878908136860,0.004560150206089,-0.001378781860694,-0.003572405548766,0.047881644219160,-0.337405711412430,0.219855934381485,-0.054736603051424,-0.065781421959400,-0.006418150383979,-0.032142646610737,-0.131299331784248,-0.033873129636049,-0.292079597711563,-0.323299437761307,0.023401450365782));
res += mul(Get(s0,0,0), float4x4(0.001923214294948,0.002558424137533,-0.004284987226129,0.001944205607288,0.037759877741337,-0.221051454544067,0.021999396383762,0.196007922291756,-0.022617392241955,0.022281514480710,0.039371561259031,-0.198279693722725,-0.013934059999883,-0.090383023023605,-0.234559983015060,-0.215650498867035));
res += mul(Get(s0,0,dy), float4x4(0.006853038910776,0.000365431333194,0.002344498410821,0.006802120245993,0.219818994402885,0.227281764149666,-0.223899602890015,0.275208860635757,-0.038765706121922,0.014830935746431,0.090654805302620,-0.043737832456827,-0.001376549596898,0.169669061899185,0.055158790200949,-0.122334316372871));
res += mul(Get(s0,dx,-dy), float4x4(-0.000417504663346,-0.002014973433688,0.000750571663957,-0.001338546862826,-0.035722952336073,-0.210565239191055,-0.001995203783736,-0.038455661386251,-0.028883008286357,-0.013400828465819,-0.000957959913649,-0.037852145731449,0.009610805660486,-0.310308903455734,-0.412951827049255,-0.095123976469040));
res += mul(Get(s0,dx,0), float4x4(0.003458703868091,0.003142679575831,-0.007439718116075,-0.005326468497515,-0.093873605132103,-0.079811267554760,-0.105483599007130,-0.024339722469449,-0.017415337264538,0.044334910809994,0.039819311350584,-0.064906314015388,-0.037626188248396,-0.115053296089172,-0.216948047280312,-0.259490787982941));
res += mul(Get(s0,dx,dy), float4x4(0.005036451388150,0.001234701834619,-0.002539374632761,-0.000091078793048,0.161604866385460,0.233803555369377,-0.263130187988281,-0.024230040609837,-0.041174624115229,-0.002917461795732,0.059868194162846,-0.011140018701553,0.003688292577863,0.253908514976501,0.114958666265011,-0.146651595830917));
res += mul(Get(s1,-dx,-dy), float4x4(0.035272870212793,0.082332625985146,-0.021266020834446,-0.091734625399113,-0.034587845206261,-0.055340472608805,-0.002254418097436,0.003481167601421,0.077154383063316,-0.139144569635391,0.052483849227428,0.140359476208687,-0.000019606401111,-0.047335155308247,-0.086762130260468,-0.047518946230412));
res += mul(Get(s1,-dx,0), float4x4(-0.026493633165956,0.062761582434177,0.089960701763630,-0.012527811340988,-0.021069573238492,-0.005378499161452,0.046645428985357,0.014446771703660,-0.058156605809927,-0.111650027334690,-0.068951733410358,0.220343545079231,-0.040836106985807,-0.027752218768001,-0.075956732034683,-0.010669413954020));
res += mul(Get(s1,-dx,dy), float4x4(-0.030605195090175,-0.045483376830816,0.103845722973347,0.001654710038565,-0.005087727215141,-0.053978078067303,-0.032473042607307,0.010420923121274,-0.102448225021362,0.295126497745514,-0.238727182149887,0.011312401853502,-0.033872738480568,0.031116856262088,0.089003272354603,0.048798918724060));
res += mul(Get(s1,0,-dy), float4x4(-0.023953244090080,0.104700081050396,-0.031749647110701,-0.079919323325157,-0.019518837332726,-0.045499194413424,-0.023570777848363,0.006407359149307,0.067199245095253,-0.159812226891518,0.004068762995303,0.021311257034540,-0.006784888450056,-0.047939442098141,-0.119608327746391,-0.030845349654555));
res += mul(Get(s1,0,0), float4x4(-0.018758358433843,0.073134392499924,-0.022415984421968,-0.009848338551819,-0.014421365223825,-0.013382988981903,0.081797741353512,0.016308300197124,-0.062378305941820,-0.164496243000031,-0.001218917663209,0.001744972309098,-0.021342435851693,-0.031266156584024,-0.155950859189034,-0.023686485365033));
res += mul(Get(s1,0,dy), float4x4(0.013765245676041,-0.013460759073496,0.024003470316529,-0.025942737236619,0.018161214888096,-0.049231782555580,0.032976720482111,0.005182072520256,-0.123166702687740,0.235172227025032,-0.052038054913282,0.005680936854333,-0.016186397522688,-0.013253959827125,0.149865999817848,0.016372425481677));
res += mul(Get(s1,dx,-dy), float4x4(-0.027675563469529,0.078044757246971,-0.034125216305256,-0.088494129478931,-0.002629873575643,-0.056136634200811,-0.010680527426302,0.002698910189793,-0.023952556774020,-0.162306621670723,-0.060941208153963,0.090502768754959,0.001949986908585,-0.048968043178320,-0.058728311210871,-0.014968072995543));
res += mul(Get(s1,dx,0), float4x4(0.008015073835850,0.045204989612103,-0.006879298016429,-0.032189164310694,-0.010077092796564,-0.017485141754150,0.089318014681339,0.008684071712196,-0.089558310806751,-0.147329986095428,0.034384310245514,-0.083006285130978,0.028304249048233,-0.063159994781017,-0.096880696713924,-0.012870243750513));
res += mul(Get(s1,dx,dy), float4x4(0.033479526638985,0.013425297103822,0.085173584520817,-0.048547718673944,0.035257533192635,-0.047447923570871,0.062917038798332,0.009428793564439,-0.126734718680382,0.150714457035065,-0.015421192161739,0.061186194419861,0.032302826642990,-0.049937084317207,0.155040144920349,-0.008124221116304));
res += mul(Get(s2,-dx,-dy), float4x4(0.000552198733203,-0.012591551057994,0.324945360422134,-0.069941319525242,-0.031416956335306,-0.163072481751442,0.179763287305832,-0.297093719244003,-0.067485101521015,-0.039922028779984,-0.123400643467903,0.059752129018307,-0.183968558907509,0.200951009988785,0.088083170354366,-0.224031731486320));
res += mul(Get(s2,-dx,0), float4x4(0.013462513685226,-0.019231211394072,-0.223112612962723,-0.011875540949404,-0.150337979197502,0.077821038663387,0.054873917251825,-0.130869016051292,-0.038137193769217,0.002473960630596,-0.083999626338482,-0.005866217426956,-0.002069738460705,0.037067167460918,-0.083782449364662,-0.245509207248688));
res += mul(Get(s2,-dx,dy), float4x4(0.071738071739674,-0.028726324439049,-0.002452144864947,0.040888804942369,0.000212057930185,-0.143355444073677,-0.359559714794159,0.150797277688980,-0.015899492427707,0.023072926327586,-0.124215424060822,-0.009726717136800,-0.065643452107906,-0.181731015443802,0.048151805996895,-0.075295642018318));
res += mul(Get(s2,0,-dy), float4x4(-0.066291160881519,0.089398533105850,0.034612763673067,-0.007804977241904,-0.255041480064392,0.131922945380211,-0.355409264564514,-0.077215157449245,-0.042227976024151,-0.038984350860119,-0.043475925922394,-0.047718558460474,0.172921881079674,-0.135944426059723,-0.065170183777809,-0.186195299029350));
res += mul(Get(s2,0,0), float4x4(-0.026394046843052,-0.000236480365857,-0.153515383601189,0.038477778434753,-0.336524933576584,0.124592058360577,0.378346830606461,0.036135330796242,-0.062178969383240,-0.000214546002098,0.017036249861121,-0.115919671952724,0.234621584415436,-0.046996623277664,-0.118779025971889,-0.086101487278938));
res += mul(Get(s2,0,dy), float4x4(0.068010687828064,-0.020369531586766,0.140774264931679,0.087821155786514,-0.090990312397480,-0.181645929813385,0.136828601360321,0.147068634629250,-0.063972562551498,0.024774659425020,-0.013603164814413,-0.066747151315212,-0.139655426144600,-0.019586108624935,-0.067098096013069,0.159917697310448));
res += mul(Get(s2,dx,-dy), float4x4(0.020870709791780,0.139586254954338,-0.060145474970341,0.011005134321749,0.186764165759087,0.031379099935293,0.086771361529827,-0.048932474106550,0.009216438978910,-0.068918712437153,0.078158482909203,-0.094252884387970,0.013773701153696,-0.103899776935577,-0.449275821447372,-0.116526760160923));
res += mul(Get(s2,dx,0), float4x4(0.214467719197273,-0.117132268846035,-0.103610761463642,0.020768765360117,0.320070981979370,0.050421420484781,0.071765691041946,0.061864446848631,-0.011750486679375,-0.033926457166672,0.092138484120369,-0.107764944434166,-0.013240329921246,0.159761250019073,-0.306234985589981,0.091960869729519));
res += mul(Get(s2,dx,dy), float4x4(0.166306704282761,-0.044829197227955,0.011772457510233,0.065420582890511,0.444740355014801,-0.062493264675140,0.006535565946251,0.078897379338741,-0.045448664575815,-0.002412361092865,0.077149510383606,-0.059167105704546,0.003939696587622,0.355163574218750,-0.226641207933426,0.391915798187256));
res += mul(Get(s3,-dx,-dy), float4x4(-0.017172833904624,0.003272712230682,-0.018230205401778,0.012705566361547,-0.095495328307152,0.079060181975365,-0.053967189043760,-0.076204672455788,0.001882639364339,-0.115770623087883,0.046742614358664,0.050897829234600,0.009072210639715,-0.028606649488211,-0.212547406554222,0.264513164758682));
res += mul(Get(s3,-dx,0), float4x4(-0.001983187859878,0.023845473304391,-0.027411615476012,0.018514383584261,0.007356379181147,-0.024951906874776,-0.118154488503933,-0.022703891620040,-0.097746968269348,0.009298478253186,-0.066945202648640,0.054603092372417,-0.014386208727956,0.059895105659962,-0.210172355175018,-0.014267725870013));
res += mul(Get(s3,-dx,dy), float4x4(0.004303111229092,-0.008152198977768,-0.007500301580876,0.012296307832003,0.015899550169706,0.003481748281047,-0.105871714651585,-0.003356637898833,-0.035663418471813,-0.067100256681442,-0.125996246933937,0.088958732783794,-0.048005808144808,-0.043722592294216,-0.029999978840351,-0.044864039868116));
res += mul(Get(s3,0,-dy), float4x4(-0.005817087367177,-0.009120360016823,-0.018503708764911,-0.020219702273607,-0.108468741178513,0.078701168298721,-0.013940382748842,-0.086529627442360,0.051828663796186,-0.066610507667065,-0.017469976097345,0.032805707305670,0.025526141747832,-0.036692500114441,-0.087023250758648,0.063986666500568));
res += mul(Get(s3,0,0), float4x4(-0.007752932608128,0.046212073415518,-0.038764052093029,-0.005698109511286,-0.055633369833231,-0.066482163965702,0.000049329035392,-0.032110635191202,0.005100786685944,0.002401832723990,-0.034342836588621,0.002937380224466,-0.059100322425365,0.001511830836535,-0.025621674954891,-0.154201224446297));
res += mul(Get(s3,0,dy), float4x4(0.000108556865598,-0.038475487381220,-0.000699213880580,-0.004229352343827,-0.014863155782223,0.040020905435085,-0.042629417032003,-0.013416952453554,0.085254274308681,-0.065586023032665,0.024272365495563,0.025293940678239,-0.042679846286774,-0.086809918284416,-0.033661607652903,-0.082856491208076));
res += mul(Get(s3,dx,-dy), float4x4(-0.017979549244046,-0.004908306524158,0.054191015660763,-0.020895287394524,-0.136992737650871,0.032509326934814,0.043169155716896,-0.077954337000847,0.020760292187333,-0.047340899705887,-0.002004464622587,-0.003666852833703,0.021586395800114,0.019391791895032,-0.038362022489309,-0.108810976147652));
res += mul(Get(s3,dx,0), float4x4(-0.019442614167929,0.008617737330496,0.059924382716417,-0.007449681870639,-0.100716754794121,-0.125484555959702,0.128469765186310,-0.031804367899895,0.037060871720314,0.029802927747369,-0.021913770586252,-0.034761786460876,0.028860077261925,-0.025405049324036,0.001677690306678,-0.197951123118401));
res += mul(Get(s3,dx,dy), float4x4(0.011909322813153,-0.082539252936840,0.020689696073532,-0.004005441442132,-0.056747209280729,-0.006220674607903,0.211371138691902,-0.002515154890716,0.115549422800541,-0.035806190222502,0.054243594408035,-0.037444416433573,0.006778788752854,-0.035782910883427,-0.088635899126530,-0.077889822423458));
return max(float4(0,0,0,0), res);
}
