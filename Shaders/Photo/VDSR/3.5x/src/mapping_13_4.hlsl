sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.066043682396412,0.067160092294216,-0.012897455133498,-0.043194808065891,-0.042500659823418,0.096377782523632,-0.060763187706470,0.054307140409946,-0.193664968013763,0.054967474192381,-0.095157966017723,0.144283324480057,0.124053493142128,-0.075574629008770,-0.041216012090445,0.040718711912632));
res += mul(Get(s0,-dx,0), float4x4(-0.035060901194811,0.036718487739563,0.131168410181999,-0.075428165495396,0.196763738989830,-0.099230870604515,-0.072940766811371,-0.055821496993303,-0.028503779321909,0.056502167135477,-0.029564430937171,-0.003213787917048,-0.033985435962677,-0.129965618252754,-0.119429506361485,0.153897866606712));
res += mul(Get(s0,-dx,dy), float4x4(-0.086734965443611,0.129285350441933,-0.070417016744614,-0.126849234104156,0.171423032879829,-0.170019239187241,0.202649265527725,0.160711392760277,-0.130609408020973,0.089488968253136,-0.008491299115121,-0.089947193861008,-0.010443114675581,-0.007747717201710,0.025639746338129,0.065509684383869));
res += mul(Get(s0,0,-dy), float4x4(-0.028109751641750,0.054766539484262,0.003681252943352,-0.087068535387516,-0.129390925168991,0.003190291346982,-0.063099965453148,0.128282502293587,-0.159686625003815,0.048291523009539,0.077868223190308,0.058404337614775,-0.027258541435003,-0.265096038579941,-0.043647196143866,0.130831807851791));
res += mul(Get(s0,0,0), float4x4(0.061375688761473,-0.014381438493729,0.194437518715858,0.013385807164013,0.148504555225372,-0.040755603462458,-0.021970840170979,0.073048830032349,-0.148884028196335,0.063631743192673,-0.090763755142689,0.031019976362586,-0.054124806076288,-0.172551259398460,0.080565176904202,-0.010527116246521));
res += mul(Get(s0,0,dy), float4x4(-0.027929900214076,0.182711526751518,-0.098274387419224,-0.015856649726629,0.011688253842294,-0.050087552517653,0.055609982460737,0.114855073392391,-0.066234230995178,0.103091873228550,0.008414343930781,-0.002573678269982,-0.127281412482262,-0.000149259241880,-0.040277224034071,0.014394878409803));
res += mul(Get(s0,dx,-dy), float4x4(0.055831246078014,-0.069140881299973,0.072457671165466,-0.052655406296253,-0.037711396813393,0.027368266135454,-0.091784290969372,-0.116087645292282,0.054170783609152,0.026258809491992,0.085107125341892,-0.050460916012526,0.047494232654572,-0.158445134758949,-0.112868458032608,0.019646536558867));
res += mul(Get(s0,dx,0), float4x4(0.088001474738121,-0.007962371222675,-0.020483730360866,-0.054138351231813,0.017848486080766,-0.085336714982986,-0.017407549545169,-0.059949651360512,-0.029490957036614,0.001567500294186,0.158678889274597,-0.005769880954176,0.057748872786760,-0.085056029260159,-0.051440805196762,-0.051807217299938));
res += mul(Get(s0,dx,dy), float4x4(0.094489909708500,-0.020873274654150,-0.062806531786919,-0.055581517517567,0.010080543346703,-0.007203392684460,0.095202192664146,0.001641770824790,0.006412462331355,0.079161264002323,0.017858814448118,-0.007594923488796,-0.070441201329231,0.110755786299706,-0.051421552896500,-0.056196972727776));
res += mul(Get(s1,-dx,-dy), float4x4(-0.004694465547800,0.043961230665445,-0.122487574815750,0.074563011527061,0.145364552736282,-0.015053440816700,-0.002016843995079,0.231219798326492,0.065360084176064,0.053054299205542,0.010959057137370,0.100251220166683,-0.118942461907864,0.153338357806206,-0.209476411342621,0.017445249482989));
res += mul(Get(s1,-dx,0), float4x4(-0.061689585447311,0.090883426368237,-0.026539932936430,0.037519983947277,0.016424125060439,0.022655095905066,0.078231409192085,0.091011941432953,-0.138540595769882,-0.091112568974495,-0.056705206632614,-0.015712942928076,-0.080017842352390,0.037685289978981,-0.049207478761673,0.054248362779617));
res += mul(Get(s1,-dx,dy), float4x4(-0.087362386286259,0.028867533430457,-0.107078701257706,0.036349933594465,-0.038609746843576,0.103188909590244,-0.150347635149956,0.015363450162113,0.225427970290184,-0.093012936413288,0.014477006159723,0.021453889086843,0.019553024321795,0.040177717804909,-0.000466204539407,0.135726451873779));
res += mul(Get(s1,0,-dy), float4x4(0.047743361443281,-0.131240725517273,-0.145493775606155,0.046442069113255,-0.001483293715864,-0.138298243284225,-0.106216147542000,0.127090543508530,0.040837273001671,-0.076732933521271,0.033312495797873,-0.037353910505772,-0.044363569468260,-0.073599323630333,-0.122628271579742,-0.076163142919540));
res += mul(Get(s1,0,0), float4x4(0.123031891882420,0.184393391013145,-0.098495163023472,-0.071558117866516,-0.020956477150321,0.123450011014938,-0.009041003882885,-0.028455881401896,-0.050410382449627,-0.016878202557564,0.076521471142769,0.001877385540865,0.006240170449018,0.015120633877814,-0.054030735045671,-0.082572087645531));
res += mul(Get(s1,0,dy), float4x4(-0.020124359056354,-0.059491600841284,-0.076923884451389,-0.060242224484682,-0.014029817655683,0.031693033874035,-0.064492061734200,-0.009059516713023,0.116250380873680,-0.146345078945160,0.096516467630863,0.068519830703735,-0.028501624241471,-0.026513112708926,-0.112491935491562,-0.057786952704191));
res += mul(Get(s1,dx,-dy), float4x4(-0.062260646373034,-0.095194272696972,0.013850538060069,-0.038560725748539,-0.000478267844301,0.091839239001274,0.105688147246838,0.011042832396924,-0.033012516796589,0.017907470464706,-0.051001984626055,0.028812590986490,0.114312566816807,-0.083631530404091,-0.007764273323119,-0.160356447100639));
res += mul(Get(s1,dx,0), float4x4(0.009162068367004,0.054531138390303,-0.107313826680183,-0.150729790329933,-0.013229702599347,-0.110277585685253,0.113786801695824,-0.080725200474262,-0.102911613881588,-0.025729333981872,0.027241684496403,0.017291545867920,-0.018318967893720,0.036769367754459,-0.033073939383030,-0.078090615570545));
res += mul(Get(s1,dx,dy), float4x4(-0.000220842892304,0.000160773983225,-0.069300465285778,-0.077971667051315,-0.072916716337204,0.112777113914490,0.048212181776762,-0.020464457571507,0.168106287717819,0.028116744011641,0.081073351204395,-0.024335686117411,0.142487317323685,0.032090678811073,-0.025527181103826,-0.157302185893059));
res += mul(Get(s2,-dx,-dy), float4x4(-0.074664302170277,0.053961977362633,-0.079478628933430,-0.114802174270153,-0.065131403505802,0.071422234177589,0.050689537078142,0.030377717688680,0.119049347937107,0.105831973254681,0.119845233857632,-0.043740421533585,-0.033276688307524,-0.074098646640778,-0.013597090728581,0.067783735692501));
res += mul(Get(s2,-dx,0), float4x4(-0.060476090759039,0.110184714198112,0.002548048738390,0.012358039617538,0.044369358569384,-0.156418487429619,0.029534012079239,-0.025473993271589,-0.034144014120102,0.024274796247482,0.006027361843735,-0.024563442915678,0.113879099488258,0.047984436154366,0.048397671431303,0.058143317699432));
res += mul(Get(s2,-dx,dy), float4x4(0.053966417908669,-0.004614597652107,0.006797901820391,0.076371133327484,0.039984509348869,-0.175436139106750,0.094047002494335,-0.101456999778748,-0.072914764285088,-0.018240343779325,-0.032231811434031,0.064479127526283,0.019337536767125,0.093784779310226,0.062125924974680,0.011006550863385));
res += mul(Get(s2,0,-dy), float4x4(0.098546214401722,-0.069355502724648,0.008457668125629,0.033230498433113,-0.087472021579742,0.034180521965027,-0.052106581628323,0.007788180373609,0.032383654266596,-0.097046896815300,0.113246932625771,-0.025051448494196,-0.004153528716415,-0.047329630702734,-0.064838290214539,-0.043005347251892));
res += mul(Get(s2,0,0), float4x4(0.054009534418583,0.101523719727993,0.006626568734646,0.008368854410946,-0.010179305449128,-0.073214903473854,0.022230753675103,0.046373747289181,0.019978282973170,0.047482993453741,-0.019423255696893,-0.124464228749275,-0.045775573700666,0.016270369291306,0.051305554807186,-0.060047026723623));
res += mul(Get(s2,0,dy), float4x4(0.068365290760994,0.050659559667110,0.123107597231865,-0.073159635066986,-0.107667841017246,0.075937449932098,0.069727309048176,-0.140870258212090,0.014469067566097,0.034499343484640,0.005851306486875,-0.062578164041042,-0.105775363743305,0.070902623236179,0.014532894827425,-0.109263472259045));
res += mul(Get(s2,dx,-dy), float4x4(0.112335652112961,-0.063570059835911,0.003974404651672,-0.003170376643538,-0.106538459658623,0.148529350757599,0.121545635163784,-0.254637926816940,0.073893114924431,-0.157074093818665,0.070902436971664,0.126559615135193,0.023406837135553,0.047663640230894,-0.011845652014017,-0.116968929767609));
res += mul(Get(s2,dx,0), float4x4(-0.005841073114425,0.080950699746609,0.052560444921255,0.029781766235828,-0.070265598595142,0.247001156210899,0.071810193359852,-0.208064928650856,-0.142827481031418,-0.091774843633175,0.056811403483152,0.061586048454046,-0.002971882466227,-0.054628923535347,0.079994715750217,-0.094816654920578));
res += mul(Get(s2,dx,dy), float4x4(0.042852278798819,0.025781610980630,0.032300449907780,-0.021839192137122,-0.106173910200596,0.008884836919606,0.058873120695353,-0.158922821283340,0.022769575938582,-0.110690489411354,0.125870928168297,0.017226248979568,-0.047046467661858,-0.032026916742325,0.076822891831398,-0.131629124283791));
res += mul(Get(s3,-dx,-dy), float4x4(0.010749414563179,0.031207453459501,0.005863835103810,0.000116547133075,-0.008201367221773,0.095677711069584,0.130459651350975,-0.037458606064320,0.040215227752924,0.071828275918961,0.011372948996723,-0.039423666894436,-0.071721464395523,-0.015512019395828,-0.152045696973801,-0.088694989681244));
res += mul(Get(s3,-dx,0), float4x4(0.039199106395245,-0.024140201508999,0.017370382323861,0.135183945298195,-0.044328659772873,-0.155717045068741,0.035652901977301,-0.075558684766293,0.115385673940182,-0.126911729574203,-0.043986242264509,-0.028910720720887,-0.048339180648327,0.108899161219597,-0.077960409224033,-0.070407837629318));
res += mul(Get(s3,-dx,dy), float4x4(0.049206838011742,-0.099242180585861,0.044670309871435,-0.056069955229759,-0.022399518638849,0.064823344349861,0.058845907449722,-0.008548998273909,0.115873396396637,-0.097811192274094,-0.021515553817153,0.025795940309763,-0.065096989274025,0.027912365272641,0.031843122094870,-0.143496468663216));
res += mul(Get(s3,0,-dy), float4x4(0.023907203227282,-0.101170837879181,0.118344075977802,0.005860426463187,-0.003469486953691,0.034587580710649,0.081372886896133,0.128964900970459,0.076056703925133,-0.054154228419065,0.132491618394852,-0.112802460789680,-0.069930911064148,0.105285599827766,-0.111008130013943,-0.110520966351032));
res += mul(Get(s3,0,0), float4x4(-0.074179686605930,-0.087655253708363,-0.030863609164953,-0.065545253455639,0.025292469188571,-0.038963507860899,-0.101980082690716,0.153257414698601,0.104388535022736,-0.084423780441284,-0.054847873747349,0.025463277474046,-0.046545173972845,-0.009802325628698,-0.095687538385391,-0.062537863850594));
res += mul(Get(s3,0,dy), float4x4(-0.059113234281540,-0.083498165011406,-0.036421973258257,0.069966018199921,0.004276695195585,0.019683854654431,0.060990989208221,-0.104723885655403,0.038415648043156,-0.078897967934608,0.011151629500091,0.004535174462944,0.099221453070641,0.056526746600866,0.011527185328305,-0.106441967189312));
res += mul(Get(s3,dx,-dy), float4x4(0.153687641024590,-0.021073376759887,0.189387053251266,-0.041688334196806,0.036827411502600,-0.008223361335695,0.131700381636620,0.329954713582993,0.045583114027977,-0.053157560527325,0.071094624698162,-0.058670733124018,-0.007970552891493,0.005149573087692,-0.014619876630604,-0.147656708955765));
res += mul(Get(s3,dx,0), float4x4(-0.035336133092642,-0.031202875077724,0.044956039637327,0.025019422173500,0.102874353528023,-0.158749908208847,-0.217759951949120,0.158247664570808,-0.051401525735855,-0.030032407492399,-0.119809374213219,0.113231927156448,0.083355113863945,-0.075567141175270,-0.071543931961060,-0.132833242416382));
res += mul(Get(s3,dx,dy), float4x4(-0.017223931849003,0.038998290896416,0.143599838018417,0.022228440269828,-0.030668484047055,0.002575967926532,0.034604907035828,0.140707433223724,0.106925114989281,0.057751987129450,-0.025340622290969,-0.020503003150225,0.017925586551428,-0.073707446455956,-0.056554462760687,-0.100209146738052));
return max(float4(0,0,0,0), res);
}
