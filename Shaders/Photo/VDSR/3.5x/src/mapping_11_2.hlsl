sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.214831635355949,-0.016958272084594,-0.076701559126377,0.050888050347567,0.072612784802914,0.032783020287752,-0.041887413710356,-0.153838500380516,-0.159477755427361,-0.097199425101280,-0.060080502182245,0.067052699625492,0.249745339155197,-0.104801550507545,0.014293777756393,-0.020061431452632));
res += mul(Get(s0,-dx,0), float4x4(0.104772172868252,0.056360848248005,0.046963412314653,0.091498881578445,-0.098766244947910,0.054179418832064,-0.042734883725643,-0.071222551167011,-0.111419670283794,0.079524569213390,-0.063737057149410,0.120001599192619,0.133010119199753,0.079189471900463,0.004914093762636,-0.009531476534903));
res += mul(Get(s0,-dx,dy), float4x4(-0.042852241545916,0.111026309430599,-0.009748107753694,0.015729239210486,0.188872933387756,0.124718733131886,0.014482535421848,-0.093758866190910,0.089665509760380,-0.024810448288918,0.076929755508900,-0.074624344706535,-0.095617093145847,-0.146722123026848,-0.005874049384147,0.021925585344434));
res += mul(Get(s0,0,-dy), float4x4(0.159634858369827,-0.176981881260872,-0.049247704446316,0.082025445997715,0.164193391799927,-0.000566002971027,-0.038341812789440,0.042011100798845,0.002816043794155,-0.086440160870552,-0.056289557367563,-0.020828073844314,0.221270009875298,-0.138824358582497,-0.073950812220573,-0.059354517608881));
res += mul(Get(s0,0,0), float4x4(0.052149046212435,-0.106196261942387,0.051796775311232,0.043420296162367,-0.068917974829674,0.032286040484905,0.018186559900641,0.054700411856174,0.033732801675797,0.037682756781578,0.039506137371063,0.003906297497451,-0.016895487904549,0.125726923346519,-0.056978549808264,-0.028934415429831));
res += mul(Get(s0,0,dy), float4x4(-0.168378099799156,-0.104815296828747,-0.028001744300127,-0.077541738748550,0.147649422287941,0.075294099748135,0.110588893294334,-0.002596389036626,-0.080160483717918,0.075809992849827,0.125764578580856,-0.031395826488733,-0.106076270341873,-0.072338469326496,-0.069171264767647,0.067503489553928));
res += mul(Get(s0,dx,-dy), float4x4(-0.147709235548973,-0.009355821646750,-0.038313332945108,-0.000435024499893,0.161444067955017,-0.075163461267948,-0.087522596120834,0.031877696514130,-0.044989094138145,-0.055011793971062,-0.149559319019318,-0.066734358668327,0.229022920131683,-0.025069450959563,-0.140724584460258,0.097405567765236));
res += mul(Get(s0,dx,0), float4x4(-0.089212536811829,0.245205208659172,-0.031133146956563,-0.012791697867215,0.034064460545778,-0.007326207589358,-0.038787975907326,-0.020867481827736,0.047873262315989,0.006440433673561,-0.049501262605190,-0.005953869316727,0.026658434420824,0.070979736745358,-0.146674677729607,0.025367403402925));
res += mul(Get(s0,dx,dy), float4x4(-0.093017302453518,0.103835232555866,-0.009137191809714,0.021319065243006,0.040248189121485,0.036886893212795,-0.001539994729683,0.005859588738531,0.058989200741053,-0.084158383309841,0.043285135179758,-0.082737416028976,-0.131950795650482,-0.010049142874777,-0.110745780169964,-0.008629224263132));
res += mul(Get(s1,-dx,-dy), float4x4(0.123112283647060,-0.003500480204821,0.071868367493153,-0.198485881090164,-0.001880420953967,-0.044471077620983,0.051702518016100,-0.100880481302738,0.074117228388786,0.040529467165470,0.078569874167442,-0.062291391193867,-0.072550550103188,0.048427429050207,0.065342694520950,-0.074451468884945));
res += mul(Get(s1,-dx,0), float4x4(0.032090488821268,0.026066303253174,0.002896098885685,-0.055399361997843,0.028196549043059,0.082545466721058,0.014575208537281,0.241895243525505,0.153924658894539,-0.016577793285251,0.093098565936089,-0.026423163712025,-0.002757203299552,0.053034141659737,-0.009217693470418,-0.060143604874611));
res += mul(Get(s1,-dx,dy), float4x4(0.032730463892221,-0.074694938957691,-0.070623710751534,-0.133398666977882,-0.135697051882744,0.109175741672516,-0.057947207242250,-0.076140388846397,0.125621452927589,0.051206585019827,0.158245950937271,-0.048843760043383,0.006642562337220,0.061685342341661,-0.022073836997151,0.022664222866297));
res += mul(Get(s1,0,-dy), float4x4(-0.008857516571879,0.019274160265923,0.044965226203203,0.050732623785734,0.006542033050209,-0.044309601187706,0.101179175078869,0.000744979246520,0.043409235775471,-0.032188635319471,0.028567280620337,-0.077892988920212,0.263033628463745,-0.117447003722191,0.050151985138655,-0.067848056554794));
res += mul(Get(s1,0,0), float4x4(0.058071605861187,0.031548950821161,-0.007354807108641,0.145457074046135,0.062837876379490,-0.030975155532360,0.050358116626740,0.194133326411247,-0.028914760798216,-0.027127258479595,-0.045188337564468,-0.003595256013796,0.106115311384201,-0.014466666616499,0.030880898237228,0.029626537114382));
res += mul(Get(s1,0,dy), float4x4(-0.101026192307472,0.048623781651258,0.040009640157223,0.005976048298180,-0.075294867157936,-0.067019127309322,0.048366252332926,-0.175067856907845,-0.017524806782603,0.014784785918891,0.005646231584251,-0.059162419289351,-0.033782068639994,-0.064664952456951,0.005031244829297,0.035045441240072));
res += mul(Get(s1,dx,-dy), float4x4(0.033911436796188,-0.037493359297514,-0.075651265680790,-0.153713777661324,-0.080401524901390,-0.000364558363799,-0.005574339535087,-0.013645200058818,-0.099395424127579,0.107735857367516,-0.006257851142436,-0.002594502642751,-0.058865219354630,-0.064583234488964,-0.138336732983589,-0.030372638255358));
res += mul(Get(s1,dx,0), float4x4(0.108719684183598,-0.038537312299013,-0.035145457834005,-0.050940789282322,0.143127277493477,-0.016515914350748,0.034802541136742,0.133036345243454,-0.119444154202938,0.225021481513977,-0.104110300540924,0.002360803540796,-0.046976510435343,-0.065456278622150,0.064176373183727,-0.058520697057247));
res += mul(Get(s1,dx,dy), float4x4(-0.070278353989124,-0.030434662476182,-0.061852168291807,-0.140656396746635,0.063169077038765,0.000277642102446,-0.074476808309555,-0.133579641580582,-0.126674205064774,0.176408082246780,0.104349203407764,-0.169583871960640,-0.060398116707802,-0.141528651118279,0.041822426021099,-0.044998470693827));
res += mul(Get(s2,-dx,-dy), float4x4(0.078687168657780,0.102724671363831,-0.049353066831827,0.032346479594707,-0.080360680818558,0.010022005066276,0.204376906156540,-0.029746180400252,-0.112403832376003,-0.150682494044304,-0.018711121752858,0.048214577138424,0.253240793943405,0.022653471678495,-0.036916960030794,-0.002158731687814));
res += mul(Get(s2,-dx,0), float4x4(0.072994500398636,0.109017685055733,0.070850297808647,0.033055834472179,0.026716098189354,-0.086878038942814,-0.034633122384548,0.197705686092377,-0.103188097476959,0.019538655877113,-0.041342291980982,0.010186807252467,0.059507213532925,0.227519109845161,0.058015398681164,-0.001962685259059));
res += mul(Get(s2,-dx,dy), float4x4(-0.001313759014010,0.042675886303186,-0.135358035564423,-0.051633708178997,0.006164820399135,0.037823330610991,0.049917701631784,-0.103887788951397,0.012925283983350,-0.087403215467930,-0.034526616334915,0.079170227050781,-0.135272756218910,0.136589869856834,-0.045762706547976,-0.059260446578264));
res += mul(Get(s2,0,-dy), float4x4(-0.047427933663130,-0.091092154383659,0.163397893309593,-0.000686763436534,0.049583729356527,-0.043508943170309,-0.048019032925367,-0.074043892323971,0.044556248933077,0.008127932436764,-0.005127192474902,0.119563668966293,-0.028205335140228,0.040849924087524,-0.085665352642536,0.006110157817602));
res += mul(Get(s2,0,0), float4x4(0.023534819483757,-0.023256875574589,-0.054257430136204,0.118701837956905,0.045951057225466,0.013506001792848,-0.139697745442390,0.048622146248817,-0.008589997887611,0.029768068343401,-0.064971715211868,0.127013057470322,-0.018141720443964,-0.079813003540039,-0.020847368985415,-0.004412540234625));
res += mul(Get(s2,0,dy), float4x4(-0.064609929919243,-0.041901081800461,-0.055763177573681,-0.009394583292305,0.054222743958235,0.000184054704732,0.004382731858641,-0.006916529964656,-0.081436932086945,-0.066035144031048,-0.085763663053513,0.061940144747496,-0.110532067716122,-0.015992119908333,0.017229679971933,-0.028226135298610));
res += mul(Get(s2,dx,-dy), float4x4(-0.052797708660364,0.044206961989403,0.111573696136475,0.077595241367817,0.035962216556072,-0.028092162683606,0.059296011924744,-0.065000638365746,-0.060127366334200,0.150375291705132,0.123248830437660,0.112171456217766,-0.137826636433601,-0.005961121991277,-0.114970684051514,0.027397481724620));
res += mul(Get(s2,dx,0), float4x4(-0.020626297220588,0.065495036542416,-0.076208688318729,0.165439024567604,0.072255633771420,-0.018413580954075,-0.004392994567752,-0.000309683149680,-0.099631689488888,0.311273992061615,0.062062628567219,0.014159545302391,-0.004367620684206,-0.038909103721380,-0.060854189097881,0.040293309837580));
res += mul(Get(s2,dx,dy), float4x4(-0.015203675255179,-0.038862146437168,0.001016029389575,-0.099863767623901,0.049776200205088,-0.082157604396343,-0.001961535541341,-0.027508564293385,-0.043619185686111,0.224609538912773,0.025034904479980,-0.013938782736659,-0.133966282010078,-0.059909231960773,0.064303733408451,-0.029320655390620));
res += mul(Get(s3,-dx,-dy), float4x4(-0.046559356153011,-0.060865081846714,-0.065459676086903,0.123189538717270,0.134723007678986,0.002626655856147,-0.099731773138046,-0.098842091858387,-0.081835947930813,-0.027926854789257,0.274811923503876,-0.052832312881947,0.001207764958963,-0.072857238352299,-0.069748744368553,0.063386835157871));
res += mul(Get(s3,-dx,0), float4x4(-0.048799276351929,0.146588832139969,-0.067659676074982,-0.063867159187794,0.038308456540108,-0.065641984343529,-0.095553152263165,-0.064201697707176,-0.111538104712963,0.101161815226078,-0.076501011848450,-0.015427256934345,-0.047803789377213,0.036108683794737,-0.013929198496044,0.016427181661129));
res += mul(Get(s3,-dx,dy), float4x4(0.016539184376597,0.076950579881668,0.017536053434014,-0.080031737685204,-0.106891155242920,-0.055871311575174,-0.051995325833559,-0.156766071915627,-0.140897497534752,0.063876666128635,0.007243989035487,-0.123527184128761,-0.062796995043755,0.076596342027187,0.021977640688419,-0.030483961105347));
res += mul(Get(s3,0,-dy), float4x4(-0.114358246326447,-0.173020914196968,0.075837776064873,0.143129125237465,-0.030111558735371,-0.013229746371508,-0.060268893837929,0.048262052237988,-0.005274513736367,-0.056255850940943,0.081885404884815,0.015763079747558,-0.108463957905769,-0.097799554467201,0.028615580871701,0.136262491345406));
res += mul(Get(s3,0,0), float4x4(0.107010744512081,0.025511283427477,-0.041533235460520,-0.010673989541829,-0.001995101338252,-0.066190682351589,-0.040116336196661,0.022501895204186,-0.077243350446224,0.023248581215739,0.064660258591175,0.007018475793302,-0.023224176838994,-0.013171643018723,0.045360624790192,0.117946274578571));
res += mul(Get(s3,0,dy), float4x4(0.066229276359081,-0.033124148845673,0.109676286578178,-0.016087938100100,-0.039177466183901,0.078457742929459,-0.042602065950632,-0.058494765311480,0.066571354866028,-0.010163959115744,-0.077372193336487,0.059592597186565,-0.078041337430477,-0.051306277513504,0.010521116666496,-0.118955612182617));
res += mul(Get(s3,dx,-dy), float4x4(-0.108941391110420,-0.256521224975586,0.018921656534076,0.062480881810188,-0.086638323962688,-0.074148006737232,-0.042019762098789,-0.068908192217350,0.139448836445808,-0.091918535530567,-0.004703785758466,-0.029834806919098,-0.113446004688740,-0.016955779865384,0.124835431575775,0.098142981529236));
res += mul(Get(s3,dx,0), float4x4(-0.095317758619785,-0.050561737269163,0.053391098976135,-0.023313879966736,-0.098428688943386,-0.116927109658718,-0.054726749658585,0.158961027860641,-0.012201366946101,-0.086014203727245,-0.075796537101269,-0.038543913513422,-0.025421418249607,-0.000365753774531,0.158082708716393,-0.034908790141344));
res += mul(Get(s3,dx,dy), float4x4(-0.078858315944672,-0.152960300445557,0.099465951323509,-0.055107422173023,0.004459162708372,0.074485689401627,-0.047623097896576,0.109981462359428,0.149398267269135,-0.046893153339624,-0.128839865326881,0.016692535951734,-0.029258666560054,-0.152387395501137,0.122529715299606,-0.109655529260635));
return max(float4(0,0,0,0), res);
}
