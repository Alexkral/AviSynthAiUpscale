sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.208114907145500,-0.097564361989498,-0.027571093291044,0.050098225474358,-0.053353477269411,-0.008978300727904,-0.062832362949848,-0.018817372620106,-0.174661293625832,-0.035527896136045,0.162719070911407,-0.213926196098328,0.029729856178164,0.181905061006546,-0.067887432873249,0.130962938070297));
res += mul(Get(s0,-dx,0), float4x4(0.013728301972151,-0.040962588042021,0.020243026316166,-0.016906036064029,0.135774537920952,0.068388476967812,0.020381817594171,0.098799526691437,-0.060022179037333,0.051978111267090,0.275186181068420,0.170875921845436,-0.167361497879028,0.001050077611580,0.041003271937370,-0.036949008703232));
res += mul(Get(s0,-dx,dy), float4x4(-0.195251002907753,-0.070867836475372,-0.014309665188193,0.095915280282497,-0.147100761532784,-0.014119964092970,0.042415879666805,0.046093013137579,-0.146018937230110,0.053864367306232,-0.003647573990747,0.124563917517662,0.036490339785814,-0.054651450365782,-0.012387361377478,0.191462516784668));
res += mul(Get(s0,0,-dy), float4x4(0.044195100665092,0.035441115498543,-0.119252368807793,0.071861602365971,0.046577706933022,0.000067846471211,-0.068164207041264,0.013152609579265,-0.118747174739838,0.061673652380705,0.003223055042326,0.080757081508636,-0.057920303195715,0.004499018192291,0.042649436742067,0.013533403165638));
res += mul(Get(s0,0,0), float4x4(0.022551493719220,-0.149736896157265,0.157358422875404,0.137626856565475,0.135948285460472,0.009721656329930,-0.005476960912347,0.026309231296182,0.005360547453165,0.247046977281570,-0.044936202466488,0.067231245338917,-0.036910116672516,0.071234658360481,0.038277383893728,-0.035483319312334));
res += mul(Get(s0,0,dy), float4x4(-0.123519808053970,0.018163457512856,-0.108937717974186,-0.117270804941654,0.068195581436157,0.068715311586857,-0.224534437060356,-0.156346052885056,0.071434035897255,-0.034521080553532,-0.126750469207764,0.094602093100548,0.046429365873337,0.328313231468201,-0.187040105462074,0.119993060827255));
res += mul(Get(s0,dx,-dy), float4x4(0.101230092346668,0.064461648464203,0.143766984343529,0.077228717505932,0.070390783250332,-0.090891234576702,-0.005439719650894,-0.095409311354160,0.057986829429865,0.058332979679108,-0.065502934157848,-0.031660880893469,-0.007324834819883,0.140596613287926,0.060992069542408,0.094932302832603));
res += mul(Get(s0,dx,0), float4x4(0.082703463733196,-0.045520871877670,-0.035215418785810,-0.250186473131180,0.002570563694462,-0.155344396829605,-0.149062186479568,0.021329011768103,0.042218122631311,0.124793447554111,0.007764761801809,-0.034521955996752,-0.093233294785023,0.176336124539375,-0.093532517552376,0.120078794658184));
res += mul(Get(s0,dx,dy), float4x4(-0.077439442276955,-0.140367731451988,0.060028180480003,-0.115820363163948,0.078063756227493,-0.017828721553087,-0.017825171351433,-0.102375984191895,0.014421900734305,-0.060755744576454,0.016619348898530,0.008265318349004,0.012943634763360,-0.069426186382771,0.038066435605288,-0.113488994538784));
res += mul(Get(s1,-dx,-dy), float4x4(0.107774429023266,-0.110817581415176,0.115875832736492,-0.103693909943104,0.012753991410136,0.218685150146484,0.043424036353827,-0.078736178576946,0.085425704717636,-0.043767273426056,0.093559503555298,-0.098259918391705,0.076222993433475,-0.037726413458586,-0.004702478647232,-0.088363364338875));
res += mul(Get(s1,-dx,0), float4x4(-0.233543112874031,0.087101697921753,-0.140481099486351,-0.019636180251837,-0.204744875431061,-0.197284922003746,0.145129516720772,0.014051078818738,0.121130838990211,0.063020750880241,-0.086484543979168,0.008147983811796,0.155956536531448,-0.219398558139801,0.068986386060715,0.074315413832664));
res += mul(Get(s1,-dx,dy), float4x4(-0.002144745085388,0.018635211512446,-0.022012375295162,-0.068137824535370,0.044951472431421,-0.147167265415192,-0.000076819254900,-0.066329531371593,0.101035803556442,0.187683045864105,-0.121382147073746,-0.072593137621880,0.056587833911180,-0.005363843869418,0.134591892361641,0.156698897480965));
res += mul(Get(s1,0,-dy), float4x4(0.026239169761539,0.090381257236004,-0.018534241244197,-0.147084623575211,-0.041243519634008,0.067194476723671,-0.010712954215705,-0.071116365492344,0.070366457104683,0.007917336188257,0.016417395323515,0.004280963446945,0.032129194587469,0.118748046457767,0.039344992488623,-0.107507295906544));
res += mul(Get(s1,0,0), float4x4(0.111124858260155,0.033242419362068,0.050262048840523,0.070353485643864,-0.076125137507915,-0.063070915639400,0.147155761718750,-0.054479628801346,0.119097426533699,0.054106988012791,-0.055364292114973,-0.070907883346081,-0.005795462056994,0.066224850714207,-0.012862782925367,-0.178620308637619));
res += mul(Get(s1,0,dy), float4x4(-0.053654886782169,0.013585690408945,-0.064398564398289,-0.007473505567759,0.042899526655674,-0.310282617807388,0.020667675882578,-0.052187722176313,-0.021544534713030,0.137650519609451,0.047886416316032,-0.133794873952866,0.043884389102459,0.114970900118351,-0.086796574294567,0.165743172168732));
res += mul(Get(s1,dx,-dy), float4x4(-0.087996467947960,-0.013041344471276,0.009542481042445,-0.122991733253002,-0.078222170472145,0.011019394733012,-0.049981635063887,-0.072204016149044,-0.028909193351865,0.024392649531364,-0.243198052048683,0.115535348653793,-0.039468873292208,0.072257153689861,-0.114059478044510,0.123827166855335));
res += mul(Get(s1,dx,0), float4x4(-0.039491515606642,-0.061973020434380,0.072919853031635,0.071700863540173,0.078383840620518,-0.134008496999741,0.173020735383034,-0.011324463412166,-0.007156321313232,0.004559964407235,0.036700829863548,-0.108379542827606,0.016389241442084,0.026357199996710,-0.017349740490317,-0.000943369232118));
res += mul(Get(s1,dx,dy), float4x4(-0.120540469884872,0.033455554395914,0.004144581966102,-0.026648277416825,-0.039074223488569,0.028297845274210,-0.084749534726143,-0.158026322722435,0.027181748300791,0.004637204576284,0.083720654249191,-0.109004087746143,0.174214944243431,-0.046360243111849,0.043400432914495,0.050577696412802));
res += mul(Get(s2,-dx,-dy), float4x4(-0.100683122873306,0.022040747106075,-0.063623271882534,0.025767588987947,0.192090943455696,-0.240298226475716,-0.056061461567879,-0.135218709707260,0.215591579675674,0.142027124762535,0.062715917825699,0.137148752808571,-0.075294658541679,0.151169255375862,-0.003896842710674,-0.107492424547672));
res += mul(Get(s2,-dx,0), float4x4(-0.071360431611538,-0.089647367596626,0.091846711933613,0.254340171813965,-0.067289754748344,-0.054910235106945,0.004740188363940,0.054531548172235,-0.100794978439808,-0.014327744953334,0.111471749842167,-0.126241937279701,0.008113101124763,0.036202382296324,-0.132794648408890,0.021244993433356));
res += mul(Get(s2,-dx,dy), float4x4(-0.091116167604923,-0.090705387294292,-0.027563292533159,-0.099427662789822,0.175718650221825,0.071562469005585,0.101287446916103,-0.048921942710876,0.247210025787354,-0.128418058156967,0.039638888090849,-0.049113478511572,0.002011654200032,0.012612518854439,0.079517580568790,0.036410208791494));
res += mul(Get(s2,0,-dy), float4x4(-0.035905342549086,-0.023037465289235,0.270160675048828,-0.023925604298711,0.103418216109276,-0.030196446925402,-0.227824866771698,-0.052603762596846,0.127859905362129,0.071710616350174,0.053441762924194,-0.083270236849785,-0.050819210708141,-0.058272510766983,-0.093511201441288,-0.152593731880188));
res += mul(Get(s2,0,0), float4x4(0.234443098306656,0.119594894349575,0.073924370110035,0.082108274102211,-0.008032466284931,-0.032954126596451,-0.144391849637032,0.021427327767015,0.060399878770113,-0.039917629212141,-0.108037427067757,0.017092324793339,0.099111482501030,0.031488705426455,-0.115811862051487,0.063776843249798));
res += mul(Get(s2,0,dy), float4x4(-0.036160651594400,0.062497321516275,0.208253040909767,-0.032163389027119,-0.127369329333305,0.217653051018715,-0.020051879808307,0.111830145120621,0.131777867674828,-0.028518760576844,0.169359505176544,-0.009262675419450,0.004917162470520,0.000288184237434,0.004144993145019,0.076390288770199));
res += mul(Get(s2,dx,-dy), float4x4(-0.054454766213894,0.180840000510216,0.053815819323063,-0.043449420481920,0.091427624225616,-0.042006164789200,-0.031402528285980,-0.011570046655834,-0.080734983086586,0.009190613403916,0.081594258546829,0.158743768930435,-0.051347754895687,0.130081504583359,0.032930217683315,-0.121695831418037));
res += mul(Get(s2,dx,0), float4x4(0.033495269715786,0.077649310231209,0.112694151699543,-0.118714332580566,0.039103910326958,0.068765796720982,0.065580509603024,-0.044491190463305,-0.006123654078692,0.181935936212540,0.090120583772659,-0.087891921401024,-0.121536336839199,-0.155465587973595,-0.082193396985531,0.069144979119301));
res += mul(Get(s2,dx,dy), float4x4(-0.015028449706733,-0.013624058105052,0.008395857177675,0.033520631492138,0.084090836346149,-0.015004319138825,-0.123496875166893,-0.004423221573234,0.023326208814979,0.027145963162184,0.091640219092369,0.097160220146179,-0.230488434433937,-0.005454014986753,0.047546204179525,0.220940709114075));
res += mul(Get(s3,-dx,-dy), float4x4(0.067065872251987,-0.019160239025950,-0.024537365883589,-0.154395475983620,0.081504248082638,-0.100896991789341,-0.029723338782787,0.083801098167896,0.138216406106949,-0.077789552509785,0.005257453769445,0.016564927995205,-0.048904884606600,-0.078503698110580,-0.200213089585304,-0.032909568399191));
res += mul(Get(s3,-dx,0), float4x4(0.077333725988865,-0.099818460643291,0.085129134356976,-0.106187924742699,0.032692048698664,-0.095635138452053,0.105352193117142,0.165866628289223,0.005611276719719,0.068009205162525,-0.121297553181648,-0.066020108759403,-0.064506322145462,-0.017739836126566,0.081640467047691,0.064618967473507));
res += mul(Get(s3,-dx,dy), float4x4(-0.016436260193586,-0.025426644831896,-0.216537788510323,0.145620211958885,-0.076175175607204,-0.029667429625988,0.190070554614067,0.094277605414391,0.063656993210316,-0.142942249774933,-0.110657937824726,0.021287394687533,-0.126370966434479,0.007255773525685,0.109191149473190,0.001307501341216));
res += mul(Get(s3,0,-dy), float4x4(-0.156999677419662,0.037132952362299,-0.185021892189980,-0.000685898296069,-0.053008664399385,-0.015071535483003,0.016293603926897,-0.074768729507923,0.046222750097513,-0.177614882588387,-0.042195633053780,-0.102745458483696,-0.051582656800747,-0.046445596963167,0.003876596456394,0.033686388283968));
res += mul(Get(s3,0,0), float4x4(0.159134641289711,0.135488107800484,0.207403525710106,-0.030907938256860,-0.089426860213280,0.218249917030334,-0.144643113017082,0.059170801192522,0.068871833384037,0.169990897178650,-0.029343470931053,-0.102331347763538,0.124874986708164,-0.135712400078773,-0.174427658319473,-0.059306804090738));
res += mul(Get(s3,0,dy), float4x4(-0.070772796869278,-0.110992208123207,0.011269471608102,-0.046221692115068,0.250375926494598,0.128784030675888,-0.093939349055290,0.103527374565601,0.065331503748894,-0.117658093571663,-0.181426569819450,-0.020125214010477,0.037246387451887,-0.188450887799263,-0.016846412792802,0.012107499875128));
res += mul(Get(s3,dx,-dy), float4x4(0.196650251746178,-0.026009561493993,-0.099584519863129,-0.027099767699838,0.077597387135029,-0.081106856465340,0.177884697914124,0.018018681555986,-0.103098683059216,-0.001693980884738,-0.132264822721481,-0.050647456198931,-0.101188421249390,-0.026834174990654,0.006891644559801,0.202999845147133));
res += mul(Get(s3,dx,0), float4x4(0.041432876139879,-0.056745763868093,0.033672008663416,-0.004612389951944,0.051722612231970,-0.075171217322350,-0.116270720958710,0.109099872410297,0.056277297437191,0.047125443816185,0.110075548291206,-0.009438667446375,0.099331006407738,0.020881315693259,-0.137754529714584,0.092900373041630));
res += mul(Get(s3,dx,dy), float4x4(0.052246712148190,-0.018866110593081,-0.038846842944622,-0.036303307861090,0.157971620559692,-0.169168099761009,0.086832828819752,0.040984716266394,-0.032065801322460,0.078101642429829,0.083524465560913,-0.028691327199340,-0.009565948508680,-0.294185519218445,-0.027681440114975,0.043492034077644));
return max(float4(0,0,0,0), res);
}
