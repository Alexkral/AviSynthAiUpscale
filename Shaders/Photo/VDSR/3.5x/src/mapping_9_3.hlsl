sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.066553726792336,0.249129980802536,-0.104007497429848,0.099510990083218,-0.096081480383873,0.074933528900146,0.147398874163628,-0.000197008514078,-0.029276713728905,-0.114713445305824,0.156412899494171,0.069704018533230,0.075858555734158,0.162441208958626,-0.118805795907974,-0.058014854788780));
res += mul(Get(s0,-dx,0), float4x4(-0.020045397803187,-0.028689470142126,-0.069051682949066,-0.066165909171104,-0.124667428433895,0.149926096200943,-0.127390846610069,0.124680086970329,-0.035519436001778,0.104709930717945,-0.233261734247208,-0.025597482919693,0.030147377401590,0.056737273931503,-0.000013063748156,0.020777188241482));
res += mul(Get(s0,-dx,dy), float4x4(0.033907487988472,0.027484197169542,0.028895208612084,-0.030263088643551,-0.011033495888114,0.066269651055336,0.068093933165073,-0.068013139069080,0.032141800969839,0.013265129178762,-0.022827422246337,0.098745301365852,-0.108565762639046,0.097258754074574,0.029586315155029,-0.144874021410942));
res += mul(Get(s0,0,-dy), float4x4(-0.240938618779182,0.063625395298004,0.198670297861099,0.009803501889110,-0.126526534557343,0.181193798780441,0.129045471549034,0.153293877840042,-0.021920155733824,0.014990892261267,0.045724939554930,-0.048932388424873,0.008682960644364,0.007984534837306,-0.159441083669662,0.109658807516098));
res += mul(Get(s0,0,0), float4x4(-0.073689773678780,-0.026088690385222,-0.002736938185990,0.004986512940377,-0.124633446335793,-0.075502492487431,-0.085572816431522,0.250390797853470,-0.029565684497356,0.067000031471252,0.067758023738861,0.018290225416422,0.146446555852890,0.082285910844803,0.059479184448719,-0.085970975458622));
res += mul(Get(s0,0,dy), float4x4(-0.174299359321594,0.029270635917783,0.073526278138161,-0.146938413381577,-0.137690290808678,-0.202053368091583,0.002087062690407,0.122674688696861,-0.019120801240206,0.003850642358884,0.148500561714172,0.207324162125587,-0.031854871660471,0.124146692454815,0.208332598209381,0.061037357896566));
res += mul(Get(s0,dx,-dy), float4x4(-0.001488181529567,0.061662249267101,-0.006815447006375,-0.042868100106716,0.072403781116009,-0.164095833897591,0.054302189499140,0.038991253823042,0.223669305443764,-0.123670414090157,-0.014178249053657,0.014184538275003,0.033578239381313,0.095153212547302,-0.021728441119194,-0.070175670087337));
res += mul(Get(s0,dx,0), float4x4(0.021965224295855,0.059677284210920,0.022989271208644,-0.052182797342539,0.147560462355614,0.229152649641037,0.159212306141853,0.193324133753777,0.084255129098892,0.047758329659700,0.092359274625778,0.031166763976216,-0.018812535330653,-0.073330484330654,0.034134894609451,0.052588690072298));
res += mul(Get(s0,dx,dy), float4x4(0.137475013732910,0.011120783165097,-0.030763829126954,0.279097795486450,0.085617087781429,0.061250813305378,0.038782287389040,-0.178389757871628,-0.123653262853622,-0.111423514783382,0.064352102577686,-0.098349533975124,0.170945510268211,-0.048412878066301,-0.008929439820349,0.202772080898285));
res += mul(Get(s1,-dx,-dy), float4x4(0.062730193138123,0.195947363972664,-0.138926580548286,-0.114770554006100,0.244763374328613,-0.113174729049206,-0.029870806261897,0.004113993607461,0.008331328630447,-0.108897671103477,-0.095506049692631,0.048713304102421,0.190253347158432,0.028239101171494,-0.063786789774895,0.004677186254412));
res += mul(Get(s1,-dx,0), float4x4(-0.024204295128584,-0.023844603449106,0.175049707293510,-0.135154902935028,-0.166971206665039,0.215597987174988,-0.025364359840751,-0.024862146005034,0.136291652917862,0.066719003021717,0.048721112310886,-0.123875558376312,-0.100269265472889,0.022669479250908,0.037859268486500,-0.182126611471176));
res += mul(Get(s1,-dx,dy), float4x4(-0.068687781691551,0.132636204361916,-0.054617982357740,0.036798793822527,-0.181307077407837,0.138045832514763,-0.079284682869911,-0.041161920875311,-0.021427111700177,0.112840957939625,0.109566256403923,0.068078540265560,0.057397339493036,-0.025300897657871,0.007395979948342,-0.002501358976588));
res += mul(Get(s1,0,-dy), float4x4(-0.220282211899757,-0.158897653222084,0.279962003231049,0.083880499005318,-0.109015844762325,0.098318561911583,-0.038711212575436,-0.044589251279831,-0.109507344663143,0.030127983540297,0.008022619411349,-0.024948477745056,0.052159696817398,0.104540728032589,-0.004892570897937,-0.049234624952078));
res += mul(Get(s1,0,0), float4x4(0.100719049572945,-0.157492950558662,-0.066056787967682,0.074610568583012,0.135369002819061,0.113713130354881,-0.108063519001007,0.045370146632195,0.017563173547387,-0.005000849254429,-0.038925591856241,-0.039656318724155,-0.034344535320997,-0.010777010582387,-0.032693564891815,0.184491202235222));
res += mul(Get(s1,0,dy), float4x4(0.105455100536346,-0.060021612793207,-0.010496946983039,-0.101887866854668,0.094312906265259,0.034253340214491,-0.008981939405203,0.045700557529926,0.005153152160347,0.055637061595917,0.117668539285660,-0.199053928256035,-0.217039987444878,0.099916078150272,0.073249556124210,-0.022518288344145));
res += mul(Get(s1,dx,-dy), float4x4(0.145568326115608,-0.022266060113907,-0.119259864091873,0.003507994581014,-0.035974286496639,-0.127701386809349,-0.116233952343464,-0.049321249127388,0.105279542505741,0.044901501387358,-0.038985986262560,0.038304097950459,0.146426886320114,-0.080764077603817,-0.000771453371271,-0.032912231981754));
res += mul(Get(s1,dx,0), float4x4(0.162117257714272,0.027462663128972,-0.031722929328680,-0.130315527319908,-0.071712151169777,0.152448803186417,-0.135285973548889,-0.179323017597198,0.103946276009083,0.252950042486191,0.136355400085449,0.022323254495859,-0.074835754930973,0.035498108714819,-0.204033702611923,-0.049090836197138));
res += mul(Get(s1,dx,dy), float4x4(0.069753669202328,0.082585610449314,-0.001958167646080,-0.180732324719429,0.051562942564487,0.214031666517258,0.342432945966721,-0.197083234786987,0.286800295114517,-0.043319888412952,-0.066681250929832,0.047739267349243,-0.033584147691727,-0.133627578616142,-0.179523572325706,0.071103863418102));
res += mul(Get(s2,-dx,-dy), float4x4(-0.110755749046803,0.009172943420708,0.060211379081011,0.102813385426998,-0.299491733312607,-0.097110457718372,0.002406209707260,-0.200812414288521,-0.194811433553696,0.043731596320868,-0.045341283082962,0.170722678303719,0.157924294471741,0.080682121217251,-0.138578116893768,0.095490738749504));
res += mul(Get(s2,-dx,0), float4x4(-0.199875205755234,0.051714666187763,-0.049280788749456,-0.074518233537674,-0.010380507446826,0.175580114126205,-0.011364388279617,0.037177529186010,0.124275460839272,0.146817669272423,-0.024743819609284,-0.010447430424392,0.212335020303726,0.016806427389383,-0.038567420095205,0.153628528118134));
res += mul(Get(s2,-dx,dy), float4x4(0.059397608041763,0.085036963224411,-0.049954175949097,0.019688995555043,0.050313979387283,0.020793791860342,0.136802405118942,0.091552712023258,-0.017724953591824,-0.032444126904011,0.022366983816028,0.074603103101254,-0.015570317395031,-0.194672912359238,0.138530671596527,0.024889992550015));
res += mul(Get(s2,0,-dy), float4x4(-0.023505767807364,0.022646805271506,-0.066627323627472,-0.141870439052582,-0.044939424842596,0.122503653168678,0.161828443408012,-0.064048498868942,0.177787721157074,-0.043155394494534,0.092872247099876,0.096041567623615,-0.051662795245647,-0.018437495455146,-0.102525472640991,0.062673382461071));
res += mul(Get(s2,0,0), float4x4(-0.017091440036893,0.060563020408154,-0.075015366077423,0.002428329316899,-0.166773110628128,0.176323473453522,-0.031997215002775,0.048446949571371,0.243445008993149,0.172214031219482,0.018322339281440,0.128847703337669,-0.127406567335129,0.165569052100182,0.026651717722416,0.216650754213333));
res += mul(Get(s2,0,dy), float4x4(-0.148720398545265,-0.069240428507328,0.090226419270039,-0.056756272912025,-0.040045902132988,-0.230185627937317,-0.109120130538940,-0.075713537633419,0.107879050076008,0.062285263091326,0.064607679843903,-0.059364978224039,-0.009728199802339,0.175790190696716,0.156823948025703,-0.009491608478129));
res += mul(Get(s2,dx,-dy), float4x4(0.084855973720551,-0.009117080830038,0.012500907294452,-0.008101491257548,-0.007425797171891,-0.079671591520309,-0.080793216824532,-0.110502287745476,-0.008775108493865,0.073880724608898,0.135263845324516,0.197285279631615,0.051859736442566,-0.137541383504868,-0.058416604995728,-0.069584704935551));
res += mul(Get(s2,dx,0), float4x4(0.169380903244019,-0.131474867463112,0.050074137747288,-0.162136793136597,-0.006965235341340,-0.094142116606236,-0.083401180803776,-0.068897716701031,-0.071353890001774,-0.065761953592300,0.023325761780143,0.097519479691982,0.143169358372688,-0.028853664174676,-0.175096273422241,0.059223096817732));
res += mul(Get(s2,dx,dy), float4x4(-0.135139420628548,-0.001964836614206,0.159495919942856,-0.098852992057800,-0.068126834928989,-0.098521180450916,-0.052627630531788,-0.135277345776558,0.061739113181829,-0.097085557878017,-0.044808477163315,0.182581305503845,-0.156543076038361,-0.058502994477749,0.100637309253216,0.042153887450695));
res += mul(Get(s3,-dx,-dy), float4x4(-0.146765649318695,-0.002226161770523,0.026881190016866,-0.035071320831776,0.086279168725014,-0.088406145572662,-0.218944817781448,0.066113010048866,-0.055608462542295,0.087706096470356,-0.193552240729332,0.076902709901333,0.097489073872566,0.045617181807756,-0.073732078075409,0.027532538399100));
res += mul(Get(s3,-dx,0), float4x4(-0.066432558000088,0.113713808357716,-0.020649818703532,0.085331074893475,-0.133141458034515,0.080216579139233,-0.132650822401047,0.053945783525705,0.039776392281055,-0.065471187233925,-0.027513232082129,-0.048392280936241,0.066148482263088,0.132129460573196,-0.106043770909309,0.018007369711995));
res += mul(Get(s3,-dx,dy), float4x4(0.010215444490314,0.032016098499298,-0.187169000506401,0.264033406972885,0.009200115688145,0.012577778659761,-0.088362865149975,0.053947463631630,-0.117076948285103,-0.073527395725250,-0.068372294306755,0.009003421291709,-0.168716430664063,-0.040304232388735,-0.019824609160423,0.145843371748924));
res += mul(Get(s3,0,-dy), float4x4(-0.071753770112991,0.145612999796867,0.088399142026901,-0.251695871353149,-0.091812320053577,0.059250753372908,0.230107411742210,-0.138930886983871,0.045272685587406,0.011812668293715,0.081664986908436,-0.054129548370838,-0.071471296250820,-0.007382048293948,0.176477238535881,0.085043333470821));
res += mul(Get(s3,0,0), float4x4(-0.108352154493332,-0.104717195034027,0.129791826009750,-0.018588948994875,-0.036101181060076,0.004623631015420,-0.035821177065372,0.008532832376659,-0.108316160738468,0.079846233129501,-0.062670826911926,-0.124796897172928,0.282001644372940,-0.010594638064504,0.198537513613701,0.049444209784269));
res += mul(Get(s3,0,dy), float4x4(0.060309536755085,-0.228379741311073,-0.155465856194496,0.113120913505554,-0.007937847636640,-0.163321569561958,-0.084779411554337,0.137714132666588,-0.041655063629150,-0.205622002482414,-0.036081768572330,0.036897271871567,-0.035098813474178,0.051741931587458,-0.033097200095654,-0.028298612684011));
res += mul(Get(s3,dx,-dy), float4x4(0.081926107406616,0.169856503605843,0.037899967283010,-0.277203500270844,0.024873495101929,-0.020433586090803,-0.004014832433313,-0.048668265342712,0.100422896444798,-0.020217526704073,-0.039792947471142,-0.160776883363724,0.096688352525234,-0.187508061528206,-0.086042150855064,0.136501327157021));
res += mul(Get(s3,dx,0), float4x4(0.244041681289673,-0.047620087862015,-0.183462560176849,-0.211712211370468,-0.058229357004166,0.010017746128142,-0.039732214063406,0.032054968178272,0.094143174588680,0.107610613107681,-0.119602330029011,-0.124443642795086,0.028960749506950,-0.024880245327950,-0.042764790356159,0.039114590734243));
res += mul(Get(s3,dx,dy), float4x4(0.124716691672802,0.161017149686813,-0.103197909891605,-0.089024662971497,-0.163067325949669,-0.119150340557098,-0.057124435901642,-0.172540232539177,0.105415679514408,-0.183785811066628,0.164637759327888,0.062653288245201,0.030257655307651,-0.180973649024963,-0.021604266017675,0.112697489559650));
return max(float4(0,0,0,0), res);
}
