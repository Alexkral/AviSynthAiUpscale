sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.045445796102285,-0.070041514933109,0.135093599557877,-0.018783396109939,-0.083834260702133,-0.036328367888927,-0.028008043766022,-0.045975092798471,-0.044903356581926,0.051703598350286,-0.022624433040619,-0.123400501906872,0.042329318821430,-0.025765415281057,-0.138599395751953,-0.186871245503426));
res += mul(Get(s0,-dx,0), float4x4(-0.051841139793396,-0.129347309470177,0.121161401271820,-0.148558944463730,-0.066154025495052,-0.143733277916908,0.051623005419970,-0.016858033835888,0.002530992729589,0.002687294036150,0.054052848368883,0.066190741956234,-0.019913380965590,0.153822898864746,0.019226280972362,-0.113688841462135));
res += mul(Get(s0,-dx,dy), float4x4(-0.057388991117477,0.044453848153353,-0.031684849411249,0.000078140321421,0.025463378056884,-0.225769549608231,0.323929756879807,0.090406775474548,-0.062647573649883,-0.104304850101471,0.070859655737877,0.248926684260368,0.038979884237051,0.068269863724709,-0.027972415089607,-0.148027688264847));
res += mul(Get(s0,0,-dy), float4x4(0.117880597710609,0.194984555244446,0.001449607661925,0.194175019860268,-0.022302845492959,0.049958560615778,0.219263464212418,-0.055452134460211,0.015655515715480,-0.008037119172513,0.135202899575233,-0.044305112212896,-0.069542594254017,-0.069690696895123,0.085099875926971,0.092877559363842));
res += mul(Get(s0,0,0), float4x4(-0.096385911107063,0.115450955927372,-0.045146040618420,-0.015025946311653,-0.042691886425018,0.058129504323006,-0.057149812579155,-0.049709986895323,0.022953284904361,-0.036778103560209,0.005874820984900,0.064808197319508,-0.007468771655113,0.067249827086926,0.002074668183923,0.089481651782990));
res += mul(Get(s0,0,dy), float4x4(0.030327718704939,-0.046701800078154,-0.148779422044754,-0.070413902401924,-0.061434090137482,-0.068256989121437,-0.035855285823345,-0.062675058841705,-0.047096710652113,-0.114135503768921,-0.115441381931305,0.063620358705521,0.010432729497552,-0.049736917018890,-0.093016609549522,0.099741794168949));
res += mul(Get(s0,dx,-dy), float4x4(0.075684927403927,0.061069246381521,-0.142132550477982,-0.020811995491385,0.122943706810474,-0.017607588320971,0.031954646110535,0.070048831403255,0.012866194359958,-0.032784737646580,-0.026658514514565,-0.034437589347363,0.156977802515030,-0.067472048103809,0.046641513705254,0.156425148248672));
res += mul(Get(s0,dx,0), float4x4(-0.034239701926708,-0.169875040650368,-0.122093997895718,-0.062438677996397,-0.000586408656090,0.044562105089426,0.122723788022995,0.076022528111935,-0.018441157415509,-0.128009036183357,-0.101831860840321,0.079055190086365,0.042370878160000,0.076559960842133,-0.007159532047808,0.071855098009109));
res += mul(Get(s0,dx,dy), float4x4(0.024708429351449,0.049380671232939,-0.049085035920143,-0.105357915163040,-0.036222431808710,-0.029055219143629,0.115404337644577,0.062653288245201,-0.038691233843565,-0.093774311244488,-0.106285341084003,0.017111871391535,0.049339976161718,-0.190746515989304,-0.141328111290932,0.128996178507805));
res += mul(Get(s1,-dx,-dy), float4x4(-0.005897287279367,-0.038881555199623,0.137586668133736,-0.070017963647842,-0.034051440656185,-0.085011847317219,-0.069412894546986,-0.175692513585091,0.039122894406319,0.106992840766907,0.044116646051407,0.059510704129934,-0.053394544869661,0.078026287257671,0.001538550248370,0.020665878430009));
res += mul(Get(s1,-dx,0), float4x4(-0.055998001247644,0.124566867947578,0.061547636985779,0.046177968382835,-0.017317950725555,-0.004451461136341,-0.053397633135319,0.011533774435520,0.088017761707306,0.049354992806911,-0.075831435620785,0.019585801288486,-0.026669191196561,-0.032976698130369,0.188128426671028,-0.040572483092546));
res += mul(Get(s1,-dx,dy), float4x4(-0.097116224467754,0.170715302228928,-0.137394323945045,0.016098499298096,-0.008995711803436,-0.018427133560181,-0.103414587676525,-0.004789189901203,-0.011544041335583,-0.149433404207230,-0.087462358176708,0.020067103207111,0.077838309109211,-0.157236292958260,0.102927476167679,0.019761098548770));
res += mul(Get(s1,0,-dy), float4x4(-0.039783451706171,0.109511174261570,0.134623870253563,-0.122345678508282,-0.018364688381553,0.008459742181003,-0.077395074069500,-0.071620441973209,-0.101896397769451,0.049004465341568,-0.093942873179913,-0.007580270525068,-0.099102891981602,-0.016763338819146,-0.006527394987643,0.123379997909069));
res += mul(Get(s1,0,0), float4x4(0.014468512497842,-0.029705511406064,-0.013765010982752,-0.068630971014500,-0.027435328811407,0.098040089011192,-0.038392912596464,-0.019698735326529,0.043996404856443,0.198346778750420,-0.046390183269978,0.013457379303873,-0.093439735472202,-0.106783509254456,-0.043869309127331,-0.067027129232883));
res += mul(Get(s1,0,dy), float4x4(-0.039002493023872,-0.083310320973396,-0.156556650996208,-0.118794195353985,-0.021211097016931,-0.065933734178543,-0.054023128002882,0.136823415756226,0.018751151859760,-0.049781505018473,-0.173570990562439,-0.054011266678572,-0.070235140621662,-0.132768958806992,0.001573881017976,0.011875651776791));
res += mul(Get(s1,dx,-dy), float4x4(-0.151212781667709,0.071573384106159,0.077297598123550,-0.125920563936234,-0.034870378673077,-0.024025889113545,-0.053543109446764,-0.060498010367155,-0.036198511719704,0.038860328495502,-0.077051050961018,-0.026539782062173,0.013518144376576,0.060815874487162,-0.034288737922907,0.142447680234909));
res += mul(Get(s1,dx,0), float4x4(0.010936766862869,-0.108877852559090,-0.020436629652977,-0.079535014927387,-0.071074992418289,-0.028770867735147,-0.004712213296443,-0.078685969114304,-0.073881857097149,-0.027058910578489,0.091439157724380,0.082909688353539,0.006361972540617,0.012588237412274,-0.098030172288418,-0.006596598774195));
res += mul(Get(s1,dx,dy), float4x4(-0.053625576198101,-0.119346946477890,-0.228180408477783,-0.026512647047639,-0.029888931661844,-0.052408583462238,-0.100327134132385,-0.025464303791523,-0.083644978702068,0.037072733044624,-0.096624925732613,-0.121931597590446,-0.074591144919395,-0.108061991631985,-0.039991170167923,0.134904071688652));
res += mul(Get(s2,-dx,-dy), float4x4(0.014426120556891,0.001263562589884,-0.043452922254801,0.008725992403924,0.004579579923302,-0.040879487991333,0.073732271790504,0.121291309595108,0.184971258044243,-0.050497621297836,0.067584916949272,-0.005796703509986,-0.044172380119562,0.062541663646698,0.212893575429916,-0.017923301085830));
res += mul(Get(s2,-dx,0), float4x4(-0.007522403262556,0.146406978368759,0.001835576142184,-0.072485931217670,-0.051737993955612,-0.052350372076035,0.178914606571198,0.001183050684631,-0.065223336219788,-0.082554861903191,-0.060151129961014,-0.093395419418812,-0.089987948536873,-0.013606970198452,0.133882865309715,0.065360322594643));
res += mul(Get(s2,-dx,dy), float4x4(-0.144160106778145,0.031208949163556,-0.036039035767317,-0.104720100760460,0.277709871530533,-0.021280214190483,0.038400474935770,0.026838108897209,-0.010467227548361,0.031424690037966,-0.077557340264320,-0.117758907377720,-0.090080052614212,0.086368545889854,-0.022984459996223,0.303457885980606));
res += mul(Get(s2,0,-dy), float4x4(0.154442891478539,-0.027161752805114,-0.039661306887865,0.021688239648938,-0.015466736629605,-0.013555706478655,-0.033953219652176,-0.104354582726955,-0.042782127857208,-0.089138492941856,-0.069583378732204,-0.051176700741053,-0.016776034608483,0.039734620600939,0.049523919820786,-0.071836434304714));
res += mul(Get(s2,0,0), float4x4(0.085906781256199,0.096540570259094,-0.031077984720469,0.140876129269600,-0.029200727120042,0.045222595334053,-0.140093252062798,-0.076164364814758,0.025748161599040,-0.047771114856005,-0.066765807569027,-0.017373071983457,0.007981873117387,0.111906446516514,-0.065430320799351,-0.087045334279537));
res += mul(Get(s2,0,dy), float4x4(-0.011285983957350,-0.023637035861611,0.033932235091925,-0.053911928087473,-0.045150477439165,-0.028998861089349,0.062112588435411,0.033201307058334,-0.035426553338766,-0.114486254751682,-0.075352914631367,-0.072408720850945,-0.044582553207874,0.011514427140355,-0.002600110368803,0.115184575319290));
res += mul(Get(s2,dx,-dy), float4x4(-0.070024713873863,0.006943612825125,-0.046041734516621,-0.095679841935635,-0.003346754703671,-0.153592690825462,0.162162229418755,-0.005702468566597,-0.094098947942257,0.052781298756599,-0.268962889909744,0.018373489379883,-0.121016591787338,0.087523214519024,0.112659230828285,0.007376656867564));
res += mul(Get(s2,dx,0), float4x4(0.052519764751196,-0.064147874712944,0.013798211701214,0.021256355568767,-0.006805804092437,-0.037062000483274,0.058370575308800,-0.035640504211187,0.174824804067612,0.134660914540291,-0.039936721324921,0.097118310630322,-0.013994741253555,0.040918260812759,0.072286494076252,0.027570458129048));
res += mul(Get(s2,dx,dy), float4x4(0.008889231830835,-0.107529290020466,0.076601408421993,-0.035054266452789,0.057666249573231,0.018428767099977,0.083082944154739,0.031580328941345,0.213663130998611,0.146994128823280,-0.089830435812473,-0.062393188476563,-0.076229318976402,0.067953087389469,-0.075760081410408,0.146210789680481));
res += mul(Get(s3,-dx,-dy), float4x4(0.042844120413065,-0.043983008712530,0.060431823134422,0.159027054905891,-0.002091618254781,0.047274328768253,-0.127454951405525,-0.035632990300655,0.019906032830477,0.082698769867420,-0.097938381135464,0.068662568926811,0.296763747930527,-0.037982292473316,0.057437144219875,0.081588059663773));
res += mul(Get(s3,-dx,0), float4x4(0.043560259044170,-0.080887690186501,0.057188961654902,-0.061059605330229,-0.032175865024328,-0.100941903889179,0.292152225971222,0.047657310962677,-0.076958663761616,0.054947104305029,-0.097837492823601,-0.113781630992889,-0.029343219473958,0.067235939204693,-0.195543929934502,-0.004296297207475));
res += mul(Get(s3,-dx,dy), float4x4(-0.034359615296125,0.011300277896225,0.035140428692102,-0.003955580294132,-0.015136312693357,-0.019529066979885,-0.049372173845768,0.001277813222259,0.051591109484434,0.020654287189245,0.149801388382912,0.136078596115112,0.008942703716457,0.010701633989811,-0.150087699294090,0.002462639007717));
res += mul(Get(s3,0,-dy), float4x4(0.002132740803063,0.116053752601147,0.069834873080254,0.053865600377321,0.110596358776093,-0.023525668308139,0.109917789697647,-0.157310917973518,0.084141559898853,-0.042027160525322,-0.032111309468746,-0.028508491814137,0.043850854039192,0.045256227254868,0.017031600698829,0.169305190443993));
res += mul(Get(s3,0,0), float4x4(0.000628713227343,-0.068487204611301,0.013061655685306,-0.090883463621140,-0.023818964138627,-0.069188661873341,0.172983318567276,-0.091140307486057,-0.023539764806628,-0.037806332111359,0.061204433441162,0.012682748027146,0.016174903139472,0.153604194521904,-0.154504701495171,-0.026488365605474));
res += mul(Get(s3,0,dy), float4x4(0.003537295851856,-0.019223980605602,-0.102272376418114,-0.016422215849161,0.243651762604713,0.027334440499544,-0.190065205097198,-0.008547276258469,-0.001157365739346,-0.126452878117561,0.180236473679543,0.168672189116478,0.080742783844471,0.091881655156612,-0.022545812651515,-0.010508728213608));
res += mul(Get(s3,dx,-dy), float4x4(0.031280498951674,0.215261906385422,-0.249614834785461,0.128730177879333,-0.074747644364834,-0.232189640402794,0.067871160805225,-0.106835074722767,0.023777591064572,0.065962679684162,0.042523276060820,0.134963780641556,-0.032437980175018,-0.036263827234507,0.015707910060883,0.060860849916935));
res += mul(Get(s3,dx,0), float4x4(-0.098296515643597,0.084859766066074,-0.071651510894299,-0.134359613060951,0.051512494683266,-0.037660334259272,-0.014020428061485,-0.118254870176315,-0.021567808464170,-0.086294896900654,0.064285665750504,0.035537641495466,-0.065405614674091,0.113619446754456,-0.009649805724621,-0.169036015868187));
res += mul(Get(s3,dx,dy), float4x4(-0.070237010717392,0.083652183413506,-0.005907716695219,0.021621612831950,-0.089923419058323,0.242626294493675,-0.109556049108505,-0.024957472458482,-0.044437326490879,-0.156340047717094,0.103789709508419,0.252371639013290,-0.008699132129550,0.029393782839179,0.198137894272804,0.003163787769154));
return max(float4(0,0,0,0), res);
}
