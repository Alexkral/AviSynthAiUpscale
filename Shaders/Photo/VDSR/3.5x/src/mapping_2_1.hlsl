sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000733472232241,-0.000642798142508,0.004206348210573,-0.002084760693833,-0.025102887302637,-0.059142056852579,-0.070798188447952,0.173386707901955,-0.060306400060654,-0.034633401781321,-0.023292068392038,0.120332218706608,-0.052854530513287,-0.016754291951656,-0.197296872735023,0.236057996749878));
res += mul(Get(s0,-dx,0), float4x4(-0.002700179116800,0.001240673009306,0.003475884441286,0.003298784373328,0.084343127906322,-0.039530683308840,-0.184119582176208,0.260889619588852,-0.044722191989422,0.003913302440196,0.022562297061086,-0.055093940347433,0.029333116486669,0.038561999797821,-0.066533438861370,-0.160518243908882));
res += mul(Get(s0,-dx,dy), float4x4(0.000760501832701,-0.007197731640190,-0.002295417245477,0.003516619093716,0.022213080897927,0.001974508166313,0.089022800326347,-0.283145934343338,-0.030468372628093,-0.004996439907700,-0.013096819631755,-0.114960156381130,0.119582444429398,0.076612964272499,-0.080133296549320,0.019263394176960));
res += mul(Get(s0,0,-dy), float4x4(0.008686050772667,-0.000405093480367,-0.000651210895739,-0.001913048559800,-0.029457833617926,-0.064861543476582,0.352614372968674,0.062050253152847,-0.098015084862709,-0.010023908689618,-0.007528992369771,-0.002843399997801,0.027786811813712,0.000364738545613,-0.088481537997723,0.485240042209625));
res += mul(Get(s0,0,0), float4x4(-0.003622061805800,-0.001115705235861,-0.001056392444298,0.000829938100651,0.086666733026505,-0.062785901129246,-0.042631100863218,0.220788672566414,-0.154323518276215,0.013920427300036,0.273419439792633,0.021063575521111,-0.089012213051319,0.013569957576692,-0.014854562468827,-0.258290559053421));
res += mul(Get(s0,0,dy), float4x4(0.005147468764335,0.004086868371814,-0.002026926260442,0.007992921397090,0.014052038080990,-0.011951806023717,0.033246915787458,-0.252697944641113,-0.156323373317719,-0.026835253462195,0.176276490092278,0.003686179174110,0.168775022029877,0.039346415549517,-0.044126164168119,-0.113528683781624));
res += mul(Get(s0,dx,-dy), float4x4(0.000742467527743,0.001228658133186,-0.005243958439678,-0.001402184949256,-0.042661767452955,-0.038408972322941,0.386172205209732,-0.015282289125025,0.050687059760094,-0.031393252313137,-0.284633100032806,0.192038163542747,0.110438972711563,-0.035446830093861,-0.006422028411180,0.327866077423096));
res += mul(Get(s0,dx,0), float4x4(0.008866827003658,-0.000619251281023,0.002456094138324,-0.002164642093703,0.074048087000847,-0.027239065617323,0.011203396134079,0.079072050750256,-0.017102608457208,0.019044369459152,0.031538106501102,0.063423328101635,-0.259819090366364,-0.046966787427664,0.209666907787323,-0.282681494951248));
res += mul(Get(s0,dx,dy), float4x4(0.004023591056466,-0.001156823011115,0.003401891328394,-0.004069081041962,0.012938984669745,0.002905569737777,0.176954507827759,0.065512187778950,-0.109515234827995,-0.009126053191721,0.017074806615710,0.074704125523567,0.119760856032372,-0.025716956704855,0.114395931363106,-0.035031389445066));
res += mul(Get(s1,-dx,-dy), float4x4(0.003588446415961,0.027111822739244,-0.031308516860008,-0.053000681102276,0.003873881418258,-0.013361560180783,0.017437221482396,-0.013600122183561,0.006935863755643,-0.021491801366210,-0.069725133478642,0.036166932433844,-0.071527101099491,-0.003801260842010,0.070935621857643,0.004193356260657));
res += mul(Get(s1,-dx,0), float4x4(-0.147654607892036,0.077246166765690,-0.062018323689699,-0.031578887254000,-0.016831653192639,-0.021831398829818,0.045058287680149,-0.081076703965664,-0.048280868679285,-0.020836291834712,-0.093125574290752,0.009244017302990,0.001178335165605,-0.016761787235737,0.190283805131912,-0.021395748481154));
res += mul(Get(s1,-dx,dy), float4x4(-0.097861349582672,0.065790429711342,-0.005939049180597,-0.000384288170608,0.032560490071774,-0.027409998700023,0.027131030336022,-0.018054200336337,0.107227489352226,0.011736909858882,-0.024996440857649,-0.126856327056885,0.004411989357322,-0.027227649465203,-0.014349624514580,-0.048506859689951));
res += mul(Get(s1,0,-dy), float4x4(0.065477952361107,0.029425773769617,0.031295962631702,0.006491735111922,0.026465583592653,-0.002120563760400,0.028539495542645,-0.019225226715207,-0.000680537836161,-0.027702284976840,0.020605413243175,-0.021138919517398,-0.054298914968967,-0.010505593381822,0.091065056622028,-0.044215403497219));
res += mul(Get(s1,0,0), float4x4(-0.056429434567690,0.066349908709526,-0.020569119602442,0.055557798594236,-0.007013906259090,-0.027030799537897,0.039870962500572,-0.068829379975796,-0.068332314491272,-0.001138536608778,-0.030801808461547,-0.009741015732288,0.005041240248829,-0.010006011463702,0.181566193699837,-0.028091456741095));
res += mul(Get(s1,0,dy), float4x4(-0.109674230217934,0.039004188030958,0.023301549255848,0.079469054937363,0.047377951443195,-0.019518159329891,0.035438410937786,-0.016299668699503,-0.008079529739916,0.022412309423089,-0.062300741672516,0.006653982680291,-0.010728091001511,-0.026804635301232,-0.042565107345581,-0.076690301299095));
res += mul(Get(s1,dx,-dy), float4x4(0.181908771395683,0.020770255476236,0.027957892045379,0.068641506135464,0.047324147075415,-0.009649242274463,0.009449936449528,0.002853773301467,0.015771413221955,-0.036627355962992,-0.086948655545712,-0.053707610815763,-0.106622919440269,-0.010774687863886,0.059784322977066,-0.074749857187271));
res += mul(Get(s1,dx,0), float4x4(0.164674773812294,0.016932994127274,-0.041761677712202,0.052235711365938,0.010902788490057,-0.026568161323667,0.018535921350121,-0.051822230219841,-0.072820864617825,0.018858296796679,0.048317819833755,-0.093467608094215,0.016626765951514,-0.014743993058801,0.129051908850670,-0.039385061711073));
res += mul(Get(s1,dx,dy), float4x4(0.000594100682065,0.001264075632207,-0.020326437428594,0.093695916235447,0.037881892174482,-0.030059296637774,0.012875262647867,-0.032368645071983,0.017009209841490,0.006572599522769,-0.115828052163124,0.023145407438278,-0.007339742500335,-0.020147932693362,0.023467803373933,-0.090945579111576));
res += mul(Get(s2,-dx,-dy), float4x4(-0.028701610863209,0.020047485828400,0.005204346962273,0.005291961599141,-0.140112176537514,0.087921388447285,-0.131478548049927,0.060730073601007,0.047746904194355,-0.023403961211443,0.000889695889782,0.062320917844772,0.144014552235603,-0.096432298421860,-0.293260067701340,0.034613471478224));
res += mul(Get(s2,-dx,0), float4x4(-0.116615943610668,0.088406465947628,0.012292585335672,0.171729087829590,-0.251353472471237,0.076463580131531,0.257201433181763,0.084879800677299,0.028990665450692,-0.013031888753176,-0.049099694937468,0.103400319814682,0.139416068792343,-0.009575081989169,0.144633129239082,0.155963599681854));
res += mul(Get(s2,-dx,dy), float4x4(-0.057576134800911,-0.066139176487923,-0.029156301170588,0.130268082022667,-0.095063775777817,-0.015952009707689,-0.028847252950072,0.127367988228798,0.061954010277987,-0.036375358700752,-0.124781176447868,0.001241885242052,-0.037720154970884,0.161961138248444,0.334764778614044,-0.007202057633549));
res += mul(Get(s2,0,-dy), float4x4(0.200582697987556,0.010565351694822,-0.003161575645208,-0.007028334774077,0.319561749696732,0.104377627372742,-0.388065814971924,0.174840822815895,-0.032984767109156,-0.030938133597374,0.067368559539318,0.012321615591645,0.047829322516918,-0.129912048578262,-0.051315072923899,-0.046731125563383));
res += mul(Get(s2,0,0), float4x4(0.152621746063232,0.011336630210280,-0.080440849065781,-0.031267743557692,-0.232106566429138,0.027421372011304,0.102974578738213,0.042297292500734,-0.077310502529144,-0.023019453510642,0.030997818335891,0.031603734940290,0.180969461798668,-0.037511214613914,0.097272969782352,0.059834051877260));
res += mul(Get(s2,0,dy), float4x4(0.035009048879147,-0.099389061331749,-0.060205370187759,0.033358849585056,-0.259841829538345,-0.056125137954950,-0.295339524745941,0.149955496191978,-0.114516444504261,-0.042871203273535,0.003091310616583,-0.071617171168327,0.100566729903221,0.134261295199394,0.078551240265369,-0.031778234988451));
res += mul(Get(s2,dx,-dy), float4x4(-0.040413711220026,0.040418062359095,-0.016484890133142,-0.097417049109936,0.474099606275558,-0.015545883215964,-0.220165610313416,-0.228809326887131,0.057098273187876,-0.022937444970012,0.010204318910837,-0.120722807943821,-0.111116558313370,-0.023261776193976,0.001368449535221,-0.136043354868889));
res += mul(Get(s2,dx,0), float4x4(0.017300181090832,0.007441698107868,-0.003488593036309,-0.096045434474945,0.105718396604061,-0.046410486102104,0.108093135058880,-0.259657680988312,-0.012164118699729,-0.019604451954365,0.136921986937523,-0.086008422076702,-0.235814735293388,0.063274785876274,-0.047144558280706,0.022280225530267));
res += mul(Get(s2,dx,dy), float4x4(-0.103325791656971,-0.084922790527344,0.004558715969324,0.013666335493326,-0.177435204386711,-0.080397799611092,-0.101424828171730,-0.091107279062271,-0.052471090108156,-0.051371242851019,0.113311693072319,-0.067098967730999,-0.129749149084091,0.189981490373611,-0.024041600525379,0.013090914115310));
res += mul(Get(s3,-dx,-dy), float4x4(0.023678576573730,-0.029595630243421,0.053987357765436,0.016922572627664,-0.206128135323524,-0.074442178010941,0.118435099720955,-0.072804898023605,-0.008925558999181,0.007490074262023,-0.048772513866425,0.015637585893273,0.119072161614895,-0.035730939358473,0.088902108371258,0.048900596797466));
res += mul(Get(s3,-dx,0), float4x4(0.005869845859706,-0.019781868904829,0.040758293122053,-0.031075658276677,-0.092079117894173,-0.057317927479744,0.112692795693874,-0.035488776862621,-0.079623907804489,0.039324846118689,-0.033356722444296,-0.108194738626480,0.106738805770874,-0.021264683455229,-0.044739034026861,0.014452978968620));
res += mul(Get(s3,-dx,dy), float4x4(0.039428316056728,0.001876754686236,-0.005405833944678,0.040720675140619,-0.017420016229153,0.017461782321334,0.046649940311909,0.003089789533988,0.046528767794371,-0.051974974572659,-0.018572960048914,-0.043988924473524,0.104965887963772,-0.058271151036024,-0.156735956668854,0.098484799265862));
res += mul(Get(s3,0,-dy), float4x4(-0.028498547151685,-0.003915536683053,0.142650991678238,0.012396069243550,-0.088202767074108,-0.068536050617695,0.062815450131893,0.033254127949476,0.073297023773193,0.008749045431614,-0.066084071993828,0.033589914441109,-0.033707801252604,-0.019104514271021,0.049860958009958,0.095157869160175));
res += mul(Get(s3,0,0), float4x4(-0.040603656321764,-0.003376444336027,0.098146982491016,-0.009044366888702,-0.031267724931240,-0.057669293135405,0.043226122856140,0.031301755458117,-0.055296409875154,0.013205041177571,-0.138108164072037,-0.072404436767101,-0.110515139997005,0.011241313070059,-0.027043597772717,-0.083226785063744));
res += mul(Get(s3,0,dy), float4x4(0.026175132021308,-0.003565186867490,0.012223331257701,-0.017159031704068,0.114350765943527,-0.001088822144084,-0.080152988433838,-0.014668396674097,-0.007197533734143,-0.050488382577896,-0.039413031190634,-0.027307623997331,-0.061609294265509,-0.019590130075812,0.113382071256638,0.015163977630436));
res += mul(Get(s3,dx,-dy), float4x4(-0.062912032008171,-0.013898171484470,-0.008874634280801,0.010402703657746,0.029742809012532,-0.051680125296116,-0.138982608914375,0.062982037663460,0.143097236752510,-0.014029107056558,0.004563156515360,0.021587606519461,-0.014700544998050,0.018339943140745,-0.079975530505180,-0.005848816595972));
res += mul(Get(s3,dx,0), float4x4(-0.074365854263306,-0.018330330029130,-0.013380812481046,-0.072311960160732,0.008283997885883,-0.050754923373461,-0.054017450660467,0.002026469679549,0.056726496666670,-0.032551351934671,-0.100660651922226,-0.094064898788929,-0.056715551763773,0.023238280788064,0.128475308418274,0.004041234962642));
res += mul(Get(s3,dx,dy), float4x4(0.021080749109387,-0.009951782412827,-0.015575052239001,-0.075215585529804,0.139780759811401,-0.037495091557503,-0.076789751648903,-0.088802866637707,0.028089158236980,-0.059061061590910,0.015250843949616,-0.079100623726845,0.033167224377394,0.006210442632437,0.368823409080505,0.041335210204124));
return max(float4(0,0,0,0), res);
}
