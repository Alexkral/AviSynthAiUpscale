sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.080075897276402,-0.037005759775639,0.004527288954705,0.106442309916019,-0.068480066955090,-0.184841856360435,0.076248832046986,-0.123841226100922,-0.028256125748158,0.063026741147041,-0.002995398826897,-0.001680471468717,-0.063000246882439,0.038686729967594,0.052486173808575,0.024432612583041));
res += mul(Get(s0,-dx,0), float4x4(-0.009322215802968,0.002412544330582,0.011903549544513,0.057225253432989,0.046036008745432,-0.094878710806370,-0.036778811365366,-0.053124926984310,-0.091357953846455,-0.005639279261231,-0.059125155210495,0.098122902214527,-0.004122520331293,-0.102496184408665,0.037557698786259,-0.029742885380983));
res += mul(Get(s0,-dx,dy), float4x4(0.054345495998859,0.089157536625862,0.018468286842108,-0.098342120647430,0.042474202811718,-0.020226990804076,-0.068834580481052,-0.018865758553147,0.100919112563133,-0.106608167290688,-0.114699214696884,0.185549199581146,0.040146689862013,0.032844103872776,0.098477818071842,-0.071525499224663));
res += mul(Get(s0,0,-dy), float4x4(-0.050152447074652,0.057780604809523,-0.003415651852265,0.055911138653755,-0.021380743011832,-0.014787607826293,0.071734987199306,-0.045534644275904,-0.108846992254257,0.033065009862185,-0.057471439242363,0.044091645628214,-0.046388171613216,-0.043445002287626,-0.109817713499069,0.099712550640106));
res += mul(Get(s0,0,0), float4x4(0.024428328499198,-0.000416320224758,-0.075353078544140,0.099402867257595,0.151236638426781,-0.022467209026217,0.037770196795464,0.008026684634387,-0.138379648327827,-0.002632241463289,-0.141486749053001,-0.012874616310000,0.046182181686163,0.058649349957705,0.150824457406998,-0.105005413293839));
res += mul(Get(s0,0,dy), float4x4(-0.044072549790144,0.153034195303917,0.051059026271105,0.004452423658222,0.086308777332306,0.025876637548208,-0.010411405935884,-0.067249990999699,0.008830586448312,-0.097181357443333,-0.196397453546524,0.093241885304451,-0.071809716522694,-0.030429899692535,-0.060068342834711,-0.031963497400284));
res += mul(Get(s0,dx,-dy), float4x4(-0.059740208089352,0.085533984005451,0.023462913930416,0.053724694997072,0.048155751079321,0.017695708200336,0.137872099876404,-0.044500708580017,-0.157895058393478,0.016180597245693,-0.039890985935926,-0.044190742075443,-0.025901870802045,0.020573200657964,0.076862998306751,0.029581313952804));
res += mul(Get(s0,dx,0), float4x4(-0.083813823759556,0.002028777031228,-0.027405634522438,0.230500698089600,0.074279434978962,-0.078624315559864,0.032046169042587,-0.010991031304002,-0.046794071793556,-0.009685881435871,-0.148480892181396,0.112880147993565,-0.015475532040000,0.133075743913651,0.100565664470196,-0.049453027546406));
res += mul(Get(s0,dx,dy), float4x4(0.010837663896382,0.063590146601200,-0.004270310979337,0.111597180366516,0.074326917529106,0.041425324976444,-0.058449815958738,-0.106564998626709,-0.076455689966679,-0.020389363169670,-0.011459027417004,0.007307477761060,-0.023366736248136,0.040613301098347,0.120901465415955,-0.029554732143879));
res += mul(Get(s1,-dx,-dy), float4x4(-0.033916156738997,0.036734044551849,-0.052276387810707,0.013763293623924,-0.079895585775375,0.022394327446818,-0.120241455733776,-0.011389159597456,0.050551179796457,0.056839842349291,0.056057155132294,0.029493574053049,-0.069446012377739,-0.101852610707283,0.002475733635947,0.028359258547425));
res += mul(Get(s1,-dx,0), float4x4(-0.040912032127380,-0.051421262323856,0.061692584306002,-0.030344026163220,-0.093863517045975,0.023751458153129,0.027810698375106,-0.049772970378399,0.007684702053666,0.066798917949200,0.138069450855255,0.099573530256748,0.080577716231346,0.078175172209740,-0.084704488515854,-0.106730446219444));
res += mul(Get(s1,-dx,dy), float4x4(-0.074458226561546,-0.062950037419796,0.061871759593487,-0.002432569162920,-0.026246102526784,0.038121804594994,-0.116195499897003,0.003117173677310,-0.074262186884880,0.040970977395773,-0.014124053530395,-0.022767372429371,0.109663113951683,-0.015415104106069,-0.052490703761578,-0.111176185309887));
res += mul(Get(s1,0,-dy), float4x4(0.005238348618150,0.070621035993099,-0.134467229247093,0.014479052275419,-0.079459808766842,-0.076463758945465,-0.179279863834381,0.037588793784380,-0.020085381343961,0.111304901540279,0.102514311671257,0.106221161782742,-0.088479742407799,-0.067965425550938,-0.151380628347397,0.038258939981461));
res += mul(Get(s1,0,0), float4x4(0.027254499495029,0.025445995852351,0.047206744551659,-0.038781374692917,-0.004452185239643,-0.060517039150000,-0.076216101646423,-0.077811740338802,0.013523897156119,0.135200694203377,0.119435101747513,0.059382863342762,0.034889012575150,-0.037973389029503,-0.120214164257050,0.187548413872719));
res += mul(Get(s1,0,dy), float4x4(-0.033312864601612,-0.078949652612209,0.177120864391327,-0.026004381477833,-0.010161035694182,-0.036912906914949,0.075899489223957,0.011549976654351,0.052829969674349,0.139210969209671,0.083427011966705,0.079805672168732,0.029559135437012,-0.030988579615951,-0.047009889036417,0.049174141138792));
res += mul(Get(s1,dx,-dy), float4x4(0.057648345828056,-0.017272755503654,-0.060137897729874,-0.062883272767067,0.052159864455462,-0.175460502505302,-0.166735857725143,-0.044294822961092,-0.052709471434355,0.053834509104490,0.126980036497116,-0.046920169144869,-0.059104550629854,-0.053704831749201,-0.144656151533127,0.019853278994560));
res += mul(Get(s1,dx,0), float4x4(-0.028481168672442,-0.032795362174511,-0.131789579987526,-0.019124658778310,0.024998962879181,-0.034300096333027,-0.070373930037022,0.091046363115311,-0.019909614697099,-0.012363663874567,0.094575732946396,0.048133220523596,0.126994267106056,-0.069084465503693,-0.122494593262672,-0.085537783801556));
res += mul(Get(s1,dx,dy), float4x4(-0.037897706031799,-0.139402598142624,0.111636132001877,0.067455828189850,-0.074608750641346,-0.015565586276352,-0.001095932791941,0.053256008774042,0.163278788328171,0.079459220170975,0.101984128355980,0.047319274395704,0.027151491492987,-0.084235206246376,0.088116705417633,0.070849768817425));
res += mul(Get(s2,-dx,-dy), float4x4(-0.073785312473774,0.006957176607102,-0.040107142180204,0.002040309133008,0.043475411832333,0.019723221659660,0.017360543832183,-0.189713120460510,0.055700909346342,0.183710038661957,-0.048395410180092,0.026434436440468,-0.020710296928883,0.077147327363491,0.026341712102294,0.059280727058649));
res += mul(Get(s2,-dx,0), float4x4(-0.099069654941559,0.015353982336819,0.146325036883354,0.004028597846627,-0.091106019914150,-0.033371552824974,-0.008600872009993,-0.112352125346661,0.108171135187149,-0.137007072567940,-0.026385596022010,-0.014358665794134,-0.034254718571901,0.069789662957191,0.007139038294554,0.029083829373121));
res += mul(Get(s2,-dx,dy), float4x4(-0.103131689131260,0.081144146621227,0.101934008300304,-0.074736274778843,-0.028450012207031,-0.020353041589260,-0.056672163307667,-0.044317405670881,-0.010895490646362,0.070949919521809,-0.084891229867935,0.036500852555037,-0.048037797212601,0.062719233334064,-0.043581426143646,0.012920914217830));
res += mul(Get(s2,0,-dy), float4x4(-0.022995907813311,-0.019964717328548,0.141260087490082,-0.049592223018408,0.082443512976170,-0.019814375787973,0.036351054906845,-0.092119812965393,0.252184927463531,-0.091208577156067,0.016244718804955,0.122622087597847,0.037907492369413,0.132213473320007,0.130097240209579,0.216273248195648));
res += mul(Get(s2,0,0), float4x4(-0.052782211452723,0.033726345747709,0.014366676099598,-0.032409477978945,0.000034835331462,-0.008534380234778,-0.070266872644424,-0.030027741566300,-0.105466626584530,0.005815656390041,0.090105339884758,0.000678286014590,0.039235938340425,0.055921982973814,0.117426216602325,0.072335854172707));
res += mul(Get(s2,0,dy), float4x4(-0.134355530142784,0.030615856871009,0.012473790906370,0.007604334037751,-0.051278810948133,0.087018549442291,-0.057378396391869,0.069934569299221,-0.083548776805401,0.050605937838554,0.034010212868452,-0.050705164670944,-0.063449189066887,0.116922356188297,0.129917949438095,0.079995334148407));
res += mul(Get(s2,dx,-dy), float4x4(-0.031186118721962,-0.023136975243688,0.122179202735424,-0.103769771754742,-0.091584138572216,-0.035843282938004,-0.065169729292393,-0.079470932483673,0.077309049665928,0.010208950378001,0.141834750771523,0.030935278162360,0.018042730167508,-0.069805301725864,-0.006692431867123,-0.008755502291024));
res += mul(Get(s2,dx,0), float4x4(-0.131848067045212,-0.060321133583784,0.007383193820715,-0.157810807228088,-0.042031697928905,0.008641214109957,-0.089922934770584,-0.000025540794013,-0.084157764911652,-0.034730114042759,-0.027413213625550,0.029361797496676,0.078275546431541,0.091490060091019,0.027535412460566,-0.038394056260586));
res += mul(Get(s2,dx,dy), float4x4(-0.042472034692764,-0.015794327482581,0.042428765445948,0.194615691900253,-0.043397188186646,0.072194509208202,-0.144376605749130,-0.061545822769403,0.097680546343327,-0.010597186163068,0.015898181125522,-0.096646524965763,0.067129679024220,0.039915315806866,-0.040619686245918,-0.023918827995658));
res += mul(Get(s3,-dx,-dy), float4x4(0.157337456941605,0.030503373593092,-0.099727563560009,-0.144942760467529,-0.080345205962658,-0.160400792956352,0.137650370597839,0.027858722954988,0.174368694424629,-0.134534493088722,0.136482670903206,-0.164390265941620,0.050813563168049,0.059187307953835,0.013553907163441,-0.090795256197453));
res += mul(Get(s3,-dx,0), float4x4(0.155791595578194,0.143154233694077,-0.004327559377998,-0.079680010676384,-0.014672372490168,-0.130162447690964,-0.031108854338527,-0.165502905845642,-0.084593266248703,-0.008083709515631,-0.071534849703312,-0.025972284376621,-0.052370168268681,0.028550829738379,-0.018724866211414,-0.051844589412212));
res += mul(Get(s3,-dx,dy), float4x4(0.024150781333447,-0.164424955844879,0.183037415146828,-0.029605900868773,0.126107707619667,-0.070962436497211,-0.082673937082291,0.034651469439268,-0.088138505816460,0.097067870199680,-0.177068158984184,-0.060767672955990,-0.067775115370750,-0.066645920276642,-0.050004612654448,-0.098545193672180));
res += mul(Get(s3,0,-dy), float4x4(-0.034589953720570,0.109531171619892,-0.048613414168358,-0.031017711386085,0.001925396965817,-0.134666621685028,0.011397022753954,0.065801590681076,0.075969137251377,-0.019808061420918,0.051654633134604,-0.101105466485023,-0.096385516226292,0.070282265543938,-0.044228591024876,-0.030426602810621));
res += mul(Get(s3,0,0), float4x4(0.001691433135420,0.083611212670803,-0.053056802600622,0.034566711634398,-0.083270221948624,-0.180418819189072,-0.071058727800846,-0.135079726576805,-0.059736955910921,-0.011886922642589,-0.030173307284713,0.044876962900162,-0.005862924270332,0.097276292741299,0.016104472801089,-0.004489311017096));
res += mul(Get(s3,0,dy), float4x4(0.023989915847778,0.060604386031628,-0.001194942626171,0.029932586476207,0.198331162333488,-0.143874987959862,-0.050600837916136,0.171451449394226,0.028409078717232,0.065111353993416,-0.090870492160320,-0.020780054852366,-0.064995571970940,-0.039829611778259,0.153251692652702,-0.098355449736118));
res += mul(Get(s3,dx,-dy), float4x4(0.003022189484909,-0.007624575402588,0.054963409900665,-0.126354113221169,0.103113584220409,-0.004687216132879,0.050865583121777,-0.048567134886980,0.066034331917763,0.020966999232769,0.005836541764438,-0.023355282843113,-0.028349885717034,-0.049508795142174,-0.180617377161980,-0.027662921696901));
res += mul(Get(s3,dx,0), float4x4(0.049891546368599,0.065647445619106,0.029255300760269,-0.012073719874024,0.130310654640198,-0.073984533548355,0.022086424753070,0.005596145987511,0.040509991347790,0.048838593065739,0.133325338363647,0.043438170105219,-0.030767276883125,-0.161419689655304,0.115906178951263,-0.113448962569237));
res += mul(Get(s3,dx,dy), float4x4(0.113261073827744,0.231034219264984,-0.067352674901485,-0.095075853168964,-0.049673695117235,-0.034413967281580,-0.017692085355520,0.029288405552506,0.100092701613903,0.107987023890018,-0.061076931655407,-0.059956647455692,-0.114762336015701,-0.016673086211085,0.084082216024399,-0.076511047780514));
return max(float4(0,0,0,0), res);
}
