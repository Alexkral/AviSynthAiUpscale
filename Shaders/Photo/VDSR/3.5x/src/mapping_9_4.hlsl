sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.165603905916214,0.042460918426514,-0.114155545830727,-0.054748594760895,0.068404085934162,-0.023300472646952,0.113573595881462,-0.092520825564861,0.090649701654911,0.244434833526611,-0.057280745357275,0.015157292596996,-0.038808986544609,0.096166260540485,0.096630625426769,0.265903115272522));
res += mul(Get(s0,-dx,0), float4x4(-0.221802145242691,0.066127888858318,0.018662409856915,-0.085327789187431,-0.046937555074692,-0.020721519365907,-0.068250298500061,-0.073048591613770,-0.146669521927834,0.034643374383450,-0.165742173790932,-0.098527245223522,0.089653000235558,-0.001214750576764,-0.038735687732697,0.068094499409199));
res += mul(Get(s0,-dx,dy), float4x4(-0.021577514708042,-0.067250855267048,-0.052624870091677,-0.172003120183945,-0.012637306936085,0.012825924903154,-0.009405131451786,-0.044010892510414,-0.122842192649841,0.006086744368076,-0.120140336453915,-0.081310808658600,-0.021029883995652,-0.091850630939007,-0.049686737358570,-0.037420690059662));
res += mul(Get(s0,0,-dy), float4x4(0.080863304436207,0.131258413195610,-0.195577204227448,0.021206067875028,0.047046471387148,0.045372128486633,0.075918793678284,-0.004214584361762,0.036557856947184,-0.113539837300777,0.001135051832534,-0.092571698129177,-0.172372147440910,-0.206536784768105,0.158363580703735,-0.070434495806694));
res += mul(Get(s0,0,0), float4x4(0.084928236901760,0.100695624947548,-0.147123038768768,-0.008571307174861,-0.071785911917686,0.170688793063164,-0.014887021854520,0.207905024290085,0.019575204700232,0.063525639474392,0.074855618178844,-0.007984780706465,0.011435551568866,0.091764815151691,-0.297149598598480,-0.039400987327099));
res += mul(Get(s0,0,dy), float4x4(0.058134239166975,-0.231407791376114,0.079155765473843,-0.006890507880598,0.038316838443279,-0.013066953979433,0.103763081133366,0.071965463459492,0.074404582381248,-0.023936934769154,0.057675026357174,-0.244550719857216,0.076261855661869,-0.014973093755543,0.030397413298488,0.025421218946576));
res += mul(Get(s0,dx,-dy), float4x4(0.167336791753769,-0.018951890990138,-0.053903140127659,0.115908704698086,-0.018771607428789,-0.047032494097948,-0.079099573194981,0.126308932900429,0.021749915555120,-0.156760483980179,0.090410374104977,0.044451035559177,0.081226021051407,-0.048338524997234,-0.100875519216061,0.148655012249947));
res += mul(Get(s0,dx,0), float4x4(-0.094956599175930,-0.078907497227192,-0.009598172269762,-0.057166192680597,0.036245781928301,0.059816747903824,0.019169446080923,-0.020783297717571,0.123946838080883,-0.067276589572430,0.039959292858839,0.075129434466362,0.062284890562296,-0.192268610000610,-0.014910231344402,0.041422992944717));
res += mul(Get(s0,dx,dy), float4x4(0.114805959165096,-0.162389770150185,0.208800122141838,-0.036681983619928,0.293905615806580,0.029865967109799,0.090526536107063,0.094299435615540,0.021055923774838,-0.146792948246002,-0.108095586299896,-0.084824644029140,-0.158639371395111,-0.024895735085011,0.006848430261016,-0.064426347613335));
res += mul(Get(s1,-dx,-dy), float4x4(0.036509469151497,0.030542388558388,0.089598268270493,-0.136034011840820,0.087615981698036,0.143360644578934,0.088736273348331,-0.149258583784103,-0.111353673040867,0.162786900997162,-0.170174539089203,-0.053982090204954,0.135360985994339,-0.165557116270065,-0.140813902020454,-0.097796417772770));
res += mul(Get(s1,-dx,0), float4x4(-0.206103816628456,-0.341369837522507,0.150900781154633,-0.085021875798702,0.085226722061634,-0.095230869948864,-0.195883899927139,0.106978662312031,-0.013458140194416,0.007728558033705,-0.067111887037754,0.083831772208214,-0.012475071474910,0.040359210222960,0.009927665814757,-0.109214588999748));
res += mul(Get(s1,-dx,dy), float4x4(0.035690072923899,0.041421525180340,0.134600535035133,0.060602787882090,-0.023160673677921,0.034185513854027,0.128664836287498,-0.109510913491249,0.057279638946056,-0.149188995361328,-0.224849924445152,0.080278046429157,0.008230214938521,0.044589187949896,0.155630961060524,0.024193499237299));
res += mul(Get(s1,0,-dy), float4x4(0.094814240932465,-0.065850459039211,0.093964420258999,-0.000937147648074,-0.065173543989658,0.013441139832139,-0.146648719906807,0.085740521550179,-0.058788567781448,-0.087451212108135,0.067661702632904,0.152738600969315,0.002868768991902,0.008445939980447,0.041771501302719,0.069263860583305));
res += mul(Get(s1,0,0), float4x4(-0.008074183017015,0.225361064076424,-0.052005138248205,-0.016871759667993,-0.036812610924244,0.040262486785650,0.071587376296520,-0.031519252806902,0.118416815996170,0.067973189055920,0.128821238875389,-0.093407198786736,0.072132460772991,0.078110143542290,-0.261886477470398,0.040444463491440));
res += mul(Get(s1,0,dy), float4x4(0.319607794284821,-0.083475962281227,0.044299431145191,0.045742854475975,-0.034442249685526,0.123867787420750,0.131064355373383,0.089938856661320,-0.010562515817583,-0.022209253162146,-0.098418034613132,-0.152595818042755,0.140541598200798,-0.090735465288162,-0.146301403641701,0.056508436799049));
res += mul(Get(s1,dx,-dy), float4x4(0.084328517317772,0.159743428230286,0.164734348654747,0.034862529486418,0.060914415866137,-0.007596686948091,-0.086171120405197,0.106400951743126,0.081015214323997,0.150283262133598,0.042285393923521,0.039929915219545,-0.037335596978664,0.011153333820403,0.032013352960348,0.011815019883215));
res += mul(Get(s1,dx,0), float4x4(0.152546510100365,0.073093041777611,-0.023718053475022,-0.049810100346804,-0.094793885946274,-0.027505761012435,-0.030497992411256,-0.105560518801212,0.012803752906621,0.003291371278465,0.121421881020069,0.028811693191528,0.058573275804520,0.010937073267996,0.047495186328888,0.083072580397129));
res += mul(Get(s1,dx,dy), float4x4(-0.061775125563145,0.061832953244448,0.034856848418713,0.085733391344547,-0.039234858006239,-0.047187626361847,0.043780341744423,-0.039737213402987,0.175678685307503,0.107184335589409,-0.035096921026707,0.030885620042682,0.045541215687990,-0.032215781509876,-0.020153278484941,-0.034201908856630));
res += mul(Get(s2,-dx,-dy), float4x4(-0.224737808108330,0.106208451092243,-0.061034739017487,-0.097692616283894,-0.039269860833883,-0.035123385488987,0.147898241877556,0.225469112396240,0.066623568534851,0.091527499258518,0.218475922942162,-0.055641196668148,0.066129334270954,0.078676708042622,-0.181929782032967,0.112511977553368));
res += mul(Get(s2,-dx,0), float4x4(0.013756393454969,-0.109857782721519,0.198038429021835,0.024785660207272,-0.023647645488381,-0.073408335447311,0.171299293637276,0.243265882134438,-0.052098330110312,-0.172869279980659,0.092771403491497,0.043800998479128,0.071782678365707,-0.059371512383223,-0.254693180322647,0.079254306852818));
res += mul(Get(s2,-dx,dy), float4x4(-0.121023893356323,0.095572017133236,0.116204872727394,-0.263922423124313,0.097573243081570,0.105353623628616,0.003125841962174,-0.008723987266421,-0.017024254426360,0.026264704763889,0.108178421854973,-0.168106406927109,-0.109189972281456,-0.142593070864677,0.130311682820320,-0.103595569729805));
res += mul(Get(s2,0,-dy), float4x4(0.134667024016380,0.346600025892258,-0.092742338776588,0.091657534241676,0.037020538002253,-0.025754006579518,0.172994926571846,-0.139616504311562,-0.076806902885437,-0.085261963307858,0.030685091391206,0.055418241769075,0.170702710747719,-0.192223072052002,-0.018556961789727,-0.044637061655521));
res += mul(Get(s2,0,0), float4x4(-0.038089968264103,0.090482227504253,0.010756387375295,0.027579875662923,0.158541649580002,-0.118458732962608,0.037196956574917,0.264391988515854,-0.100570477545261,0.137352794408798,-0.094922043383121,-0.078835383057594,0.009220039471984,0.001351289800368,0.078906685113907,-0.088364757597446));
res += mul(Get(s2,0,dy), float4x4(0.081354364752769,0.146433353424072,0.004155475180596,0.090007238090038,0.078096948564053,0.126033782958984,-0.074160963296890,-0.038076594471931,0.062125165015459,-0.002316720783710,0.127973034977913,0.161578670144081,-0.015068982727826,-0.077710948884487,-0.044513866305351,0.115542277693748));
res += mul(Get(s2,dx,-dy), float4x4(-0.203104928135872,0.151669487357140,-0.046518407762051,0.063288033008575,-0.088640630245209,-0.050088658928871,-0.120926409959793,0.051657650619745,0.035224020481110,0.059220291674137,0.080087408423424,0.052141860127449,-0.123601078987122,0.034232288599014,0.212561666965485,0.013941758312285));
res += mul(Get(s2,dx,0), float4x4(0.196491062641144,-0.056099459528923,0.001913271495141,-0.007088550366461,-0.065473295748234,0.064013995230198,-0.069487437605858,-0.028198247775435,0.039734847843647,0.132099449634552,-0.043987799435854,-0.073139302432537,-0.085805058479309,-0.038874801248312,0.091585211455822,-0.123705714941025));
res += mul(Get(s2,dx,dy), float4x4(0.026013702154160,0.133940696716309,-0.007676958106458,0.200478985905647,-0.084345601499081,-0.009998749010265,0.035093516111374,-0.049123816192150,0.046383045613766,-0.005987811367959,-0.016159115359187,0.026747686788440,-0.177300691604614,0.230088204145432,-0.114072114229202,0.061191741377115));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020139524713159,-0.102773964405060,0.021273571997881,-0.033037956804037,0.088569477200508,-0.039178792387247,-0.003396616550162,-0.173269703984261,-0.116850040853024,-0.049142748117447,0.102592252194881,0.080888740718365,0.057344343513250,-0.020797923207283,0.027534488588572,0.038870804011822));
res += mul(Get(s3,-dx,0), float4x4(0.136100783944130,0.090577818453312,0.073768571019173,-0.069517217576504,-0.032942071557045,-0.074312567710876,-0.011989188380539,0.125216662883759,-0.098578229546547,-0.150668561458588,0.056365035474300,-0.063968129456043,-0.036065246909857,0.066338539123535,0.310128152370453,-0.011776769533753));
res += mul(Get(s3,-dx,dy), float4x4(0.042376115918159,0.072154231369495,0.130126953125000,-0.009754561819136,-0.102625146508217,-0.013435422442853,0.053008738905191,0.003546376479790,0.018991950899363,0.099039271473885,0.004179489798844,-0.037544321268797,0.018304511904716,-0.151584997773170,0.069474704563618,-0.025558011606336));
res += mul(Get(s3,0,-dy), float4x4(-0.077639706432819,0.002854617312551,-0.108673758804798,0.084336876869202,0.116074569523335,-0.097631044685841,0.200663089752197,-0.034336946904659,-0.112774021923542,-0.117609091103077,-0.017354760318995,-0.086666509509087,0.100530780851841,0.098442986607552,-0.117855936288834,0.010961671359837));
res += mul(Get(s3,0,0), float4x4(-0.136045217514038,-0.031923394650221,-0.159671157598495,-0.094994008541107,-0.017209297046065,-0.050920296460390,-0.027698650956154,-0.052264686673880,-0.061226572841406,-0.159420534968376,-0.036314066499472,0.019875850528479,-0.016277760267258,-0.086412087082863,-0.084383018314838,-0.033693734556437));
res += mul(Get(s3,0,dy), float4x4(0.159663885831833,-0.118242368102074,0.159053072333336,-0.183276563882828,-0.044520549476147,0.259141892194748,-0.086449496448040,0.019628373906016,0.057308342307806,0.216507598757744,0.013753549195826,0.000320891209412,0.151911646127701,0.043425515294075,-0.037463054060936,-0.105644777417183));
res += mul(Get(s3,dx,-dy), float4x4(-0.069289408624172,-0.065577402710915,-0.144439086318016,-0.070313252508640,0.060387656092644,0.117359183728695,0.093689285218716,-0.061454329639673,0.092577628791332,0.213744267821312,0.223072290420532,-0.047442622482777,0.118194915354252,0.303350180387497,-0.110853470861912,-0.250732243061066));
res += mul(Get(s3,dx,0), float4x4(0.135732010006905,0.110818326473236,-0.074482165277004,0.131066456437111,-0.033729732036591,-0.027551839128137,-0.104552231729031,0.073242314159870,0.112606465816498,-0.155831977725029,0.080570146441460,0.052756454795599,0.122128494083881,-0.126955926418304,-0.036141019314528,0.039512306451797));
res += mul(Get(s3,dx,dy), float4x4(0.237773954868317,-0.063645698130131,-0.065397180616856,0.183454275131226,-0.069639645516872,0.208634376525879,-0.012643735855818,0.067516393959522,0.035536266863346,0.138660445809364,-0.121301226317883,-0.189878359436989,-0.133030787110329,-0.123607084155083,-0.009026633575559,-0.000081309612142));
return max(float4(0,0,0,0), res);
}
