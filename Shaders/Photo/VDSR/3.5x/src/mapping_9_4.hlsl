sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.002957269316539,0.077014729380608,-0.065247811377048,-0.002310572890565,-0.086282484233379,-0.036351010203362,-0.214269533753395,0.286306023597717,-0.091798298060894,-0.116118535399437,-0.143000289797783,0.059572089463472,-0.081627815961838,-0.062833517789841,0.018227221444249,-0.156291842460632));
res += mul(Get(s0,-dx,0), float4x4(-0.057109765708447,0.070182345807552,-0.067034266889095,-0.056583482772112,-0.137204408645630,-0.081657625734806,-0.200545594096184,0.142331480979919,-0.065908700227737,-0.081499949097633,0.087119892239571,0.139353290200233,0.054339788854122,0.120643697679043,-0.035166367888451,-0.118655569851398));
res += mul(Get(s0,-dx,dy), float4x4(0.043251130729914,0.096303723752499,0.064318373799324,-0.035886343568563,-0.159363657236099,-0.048976030200720,-0.052508097141981,0.152415186166763,0.002346103778109,-0.155811458826065,-0.000540362030733,-0.132463470101357,0.029509069398046,0.063639193773270,-0.104054719209671,-0.080919720232487));
res += mul(Get(s0,0,-dy), float4x4(-0.077814057469368,0.066043466329575,0.005772042088211,-0.064968571066856,-0.125702783465385,0.098285809159279,-0.197096824645996,0.025537958368659,-0.021692847833037,0.230953395366669,-0.141856253147125,-0.116094626486301,-0.062924988567829,-0.088750861585140,0.116622254252434,-0.060877896845341));
res += mul(Get(s0,0,0), float4x4(-0.042526774108410,0.029368054121733,-0.012069846503437,-0.045620698481798,-0.115395821630955,0.132394820451736,-0.042202308773994,-0.039120197296143,0.030422277748585,-0.102345377206802,-0.059450436383486,0.024250196292996,-0.032954510301352,0.040979929268360,0.037812564522028,-0.033583212643862));
res += mul(Get(s0,0,dy), float4x4(0.012585586868227,-0.029943810775876,0.043266925960779,0.003100082278252,0.061875212937593,-0.009473668411374,-0.082218535244465,-0.062225647270679,0.017441026866436,-0.197925701737404,0.148768007755280,0.187441468238831,-0.032095361500978,-0.042298857122660,0.144098669290543,0.085817225277424));
res += mul(Get(s0,dx,-dy), float4x4(0.028150867670774,-0.035179130733013,0.027498941868544,-0.053820595145226,0.017951654270291,0.066572755575180,-0.111123651266098,0.062693975865841,-0.072617694735527,-0.104751922190189,-0.105497203767300,0.065485224127769,-0.075237058103085,-0.055813562124968,-0.158591657876968,-0.131143942475319));
res += mul(Get(s0,dx,0), float4x4(0.005374640226364,0.000361928250641,-0.028266547247767,-0.008857422508299,0.055291879922152,-0.085815303027630,-0.132356464862823,0.071666069328785,0.153938859701157,0.030123539268970,-0.072179190814495,-0.040747225284576,0.066635876893997,0.010515192523599,-0.080469444394112,-0.032582394778728));
res += mul(Get(s0,dx,dy), float4x4(0.025926103815436,-0.033743131905794,-0.041356552392244,0.108846604824066,0.105322346091270,-0.014233103021979,-0.132613167166710,0.079646900296211,0.100799269974232,-0.037162922322750,-0.034522496163845,0.057995967566967,0.093802548944950,0.046102490276098,-0.009155815467238,0.039606958627701));
res += mul(Get(s1,-dx,-dy), float4x4(-0.085808113217354,0.207356482744217,-0.035577394068241,0.072065167129040,0.027827603742480,0.027819948270917,0.042772594839334,-0.071378029882908,0.001405039336532,0.126578301191330,-0.081408292055130,-0.213826909661293,-0.062726534903049,0.056709382683039,-0.002382189268246,-0.242071449756622));
res += mul(Get(s1,-dx,0), float4x4(0.061408858746290,-0.079794421792030,0.034950524568558,0.071587979793549,0.102580390870571,0.072690188884735,0.123573750257492,-0.123205184936523,0.088656477630138,0.167338714003563,-0.162832021713257,-0.160731181502342,-0.144557312130928,0.033586740493774,-0.091685242950916,-0.107725761830807));
res += mul(Get(s1,-dx,dy), float4x4(0.009068243205547,0.044907368719578,0.018527882173657,0.063347980380058,0.082811035215855,-0.037701439112425,0.101522304117680,-0.085459731519222,0.045281182974577,0.033038042485714,-0.121595360338688,-0.030628550797701,-0.208028852939606,-0.085319772362709,-0.100485287606716,-0.117426276206970));
res += mul(Get(s1,0,-dy), float4x4(0.006454735063016,0.025968573987484,-0.115585103631020,-0.067092567682266,-0.204694435000420,-0.038390032947063,-0.025478351861238,0.086741343140602,-0.040586616843939,0.002134321955964,0.052750024944544,-0.039769396185875,0.071308985352516,0.126738414168358,-0.051249351352453,-0.124047331511974));
res += mul(Get(s1,0,0), float4x4(0.157661989331245,-0.014552661217749,-0.039608977735043,-0.002821384230629,-0.062594972550869,0.101117789745331,-0.010071756318212,0.058671399950981,0.037387408316135,-0.035376284271479,0.176968127489090,-0.052398137748241,-0.033009070903063,-0.098983235657215,-0.158120319247246,-0.085502892732620));
res += mul(Get(s1,0,dy), float4x4(0.031677812337875,0.004079225938767,0.114392898976803,0.077954985201359,-0.066450119018555,-0.021719183772802,0.022500861436129,0.121523626148701,-0.031059050932527,-0.028433885425329,0.136225000023842,0.027042709290981,0.154688209295273,-0.048800535500050,-0.007020235992968,-0.020810399204493));
res += mul(Get(s1,dx,-dy), float4x4(-0.004456432070583,0.090220563113689,-0.112340994179249,0.179133102297783,-0.219756945967674,-0.064110271632671,-0.016066621989012,0.091690666973591,-0.004551137331873,-0.030793843790889,-0.096201345324516,-0.103273086249828,0.031899366527796,-0.064584009349346,0.091368302702904,-0.032055884599686));
res += mul(Get(s1,dx,0), float4x4(0.050708945840597,0.065088167786598,-0.035105742514133,0.110922038555145,-0.003817274468020,-0.071540899574757,0.099313512444496,-0.040898554027081,0.119897454977036,-0.041509766131639,-0.012371659278870,-0.195834875106812,0.139841109514236,-0.016564976423979,0.022523581981659,-0.001332906424068));
res += mul(Get(s1,dx,dy), float4x4(0.128157138824463,0.267413258552551,0.115309737622738,0.006777592934668,0.040341421961784,-0.068697042763233,0.132667243480682,-0.032305501401424,-0.005244050640613,-0.046873815357685,0.031070699915290,0.109838612377644,-0.018660241737962,-0.160367116332054,0.078321531414986,0.090505063533783));
res += mul(Get(s2,-dx,-dy), float4x4(0.030568098649383,0.058214955031872,0.159574344754219,-0.091780617833138,0.055667106062174,0.120259664952755,0.302327692508698,-0.028146548196673,-0.018196919932961,-0.082939848303795,0.194938972592354,-0.054917640984058,-0.105278767645359,0.137841343879700,-0.171013027429581,-0.075681388378143));
res += mul(Get(s2,-dx,0), float4x4(0.101974107325077,0.122793696820736,-0.014679463580251,-0.137850373983383,-0.013586154207587,-0.054583523422480,-0.008495052345097,0.071212060749531,0.028002705425024,-0.052933502942324,-0.023304212838411,-0.053247064352036,-0.153602972626686,-0.074468336999416,-0.000505424570292,0.021849755197763));
res += mul(Get(s2,-dx,dy), float4x4(0.047673933207989,0.041412066668272,-0.043671451508999,-0.119421184062958,-0.159443855285645,-0.099389165639877,-0.110568016767502,0.060995079576969,0.130888819694519,0.054030362516642,-0.016694910824299,-0.183920815587044,-0.116166815161705,0.033757306635380,-0.054775975644588,0.162112727761269));
res += mul(Get(s2,0,-dy), float4x4(0.151767373085022,0.041836064308882,0.021460071206093,-0.127170741558075,0.171169221401215,-0.042166624218225,0.169277831912041,0.055871784687042,-0.143133416771889,-0.079375065863132,0.325537890195847,-0.030867556110024,-0.029250625520945,0.067475929856300,0.069733127951622,0.009367064572871));
res += mul(Get(s2,0,0), float4x4(0.338687717914581,-0.061024781316519,-0.072483777999878,-0.154767021536827,0.198765188455582,-0.117323838174343,0.094830282032490,-0.044889677315950,0.053775466978550,-0.102155923843384,-0.033126614987850,0.106522597372532,-0.080176815390587,0.004674516152591,0.103446364402771,0.069277286529541));
res += mul(Get(s2,0,dy), float4x4(-0.018171520903707,-0.066849440336227,-0.105879254639149,0.047205533832312,0.015011814422905,-0.025199854746461,0.003969144541770,-0.003864867612720,0.010361630469561,-0.012155867181718,-0.035978496074677,0.102215632796288,-0.033890809863806,-0.080233648419380,0.051610589027405,0.049990177154541));
res += mul(Get(s2,dx,-dy), float4x4(0.104131840169430,-0.011809355579317,0.009357588365674,0.174964740872383,0.264349669218063,-0.064818255603313,-0.122063286602497,-0.089653834700584,0.054762553423643,-0.004710142035037,0.005020142067224,-0.037883035838604,-0.028164513409138,-0.012966828420758,-0.061617434024811,0.125689879059792));
res += mul(Get(s2,dx,0), float4x4(0.043062698096037,-0.021142128854990,0.044070657342672,0.063640750944614,-0.077464938163757,-0.068748317658901,-0.100085288286209,0.122260563075542,-0.038750275969505,-0.037637021392584,-0.070822246372700,-0.009356492199004,-0.115061417222023,-0.075094945728779,-0.070175983011723,0.051158070564270));
res += mul(Get(s2,dx,dy), float4x4(-0.013845675624907,0.055447015911341,0.007309948559850,0.163189217448235,-0.179344147443771,-0.076523244380951,-0.019944000989199,0.166874676942825,0.049103628844023,0.052264090627432,-0.081603109836578,0.166226074099541,-0.008863842114806,-0.005943225231022,0.036585994064808,0.074415132403374));
res += mul(Get(s3,-dx,-dy), float4x4(-0.073268532752991,0.103949680924416,0.010261635296047,-0.044205881655216,0.126890316605568,-0.076626665890217,-0.006389295216650,-0.066375948488712,-0.004040797706693,-0.009100419469178,0.031641047447920,-0.075706057250500,-0.045201741158962,0.040661260485649,0.119946390390396,-0.081809706985950));
res += mul(Get(s3,-dx,0), float4x4(-0.063429266214371,0.075009785592556,-0.089564971625805,-0.008645651862025,-0.136764138936996,0.074691966176033,0.103963308036327,-0.071164451539516,-0.145759880542755,-0.008982446044683,0.002213310450315,0.049235057085752,-0.010665861889720,-0.072422564029694,-0.072661817073822,-0.001105862203985));
res += mul(Get(s3,-dx,dy), float4x4(0.006395207718015,-0.059547260403633,-0.042773921042681,-0.056922331452370,0.028734846040606,0.029963437467813,0.024012308567762,-0.060665898025036,-0.137360796332359,0.050597392022610,0.029995599761605,-0.043210703879595,0.039818588644266,-0.040474139153957,0.159081548452377,-0.056917902082205));
res += mul(Get(s3,0,-dy), float4x4(-0.081494800746441,0.036282304674387,0.248091667890549,-0.087536364793777,-0.081769697368145,-0.051569953560829,-0.024001425132155,-0.082583017647266,-0.004205370787531,0.011873450130224,-0.020289277657866,-0.045330382883549,0.074457697570324,-0.026934873312712,0.071263007819653,-0.154808595776558));
res += mul(Get(s3,0,0), float4x4(-0.019247328862548,0.000528307049535,0.064966313540936,-0.000408479798352,0.030839242041111,-0.087385483086109,-0.078395716845989,0.030350456014276,0.010387890972197,0.010507023893297,-0.085713975131512,-0.055424548685551,0.102567814290524,0.018277842551470,-0.074605621397495,-0.074758879840374));
res += mul(Get(s3,0,dy), float4x4(-0.022613083943725,-0.025797108188272,0.004939819686115,0.090461149811745,0.084049262106419,-0.121153563261032,0.086264036595821,-0.007881668396294,0.008379885926843,0.047831952571869,-0.102695077657700,0.055384915322065,0.093042440712452,-0.079837955534458,0.066653788089752,-0.049409106373787));
res += mul(Get(s3,dx,-dy), float4x4(-0.025708442553878,-0.124890498816967,0.120894081890583,-0.072256132960320,-0.008346087299287,-0.033964153379202,0.092814572155476,-0.055719811469316,-0.093546621501446,0.192174851894379,0.187153011560440,0.025548504665494,-0.092269994318485,-0.072505004703999,0.115169376134872,-0.106233358383179));
res += mul(Get(s3,dx,0), float4x4(0.050281461328268,-0.089695796370506,0.128993541002274,0.039239689707756,0.028134983032942,-0.157266363501549,-0.042622789740562,0.067206703126431,-0.005719432607293,0.121428139507771,-0.047979883849621,0.057748790830374,-0.048058044165373,-0.059416685253382,0.107691764831543,0.072678506374359));
res += mul(Get(s3,dx,dy), float4x4(-0.003392803249881,-0.105200715363026,-0.062280084937811,0.167082592844963,0.111642576754093,-0.097760930657387,0.026872282847762,0.064704716205597,-0.062704354524612,0.197060614824295,-0.129890918731689,0.097955353558064,-0.109192930161953,-0.088133290410042,-0.070596873760223,0.076485693454742));
return max(float4(0,0,0,0), res);
}
