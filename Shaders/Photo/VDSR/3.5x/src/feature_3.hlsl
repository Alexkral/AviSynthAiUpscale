sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.680657148361206,0.002097787801176,0.005817173048854,0.286690801382065) * Get(-dx,-dy);
res += float4(0.359296828508377,-0.007172434125096,-0.004818341229111,-0.689562499523163) * Get(-dx,0);
res += float4(-0.441046595573425,0.006825604010373,-0.004451639950275,-0.934285581111908) * Get(-dx,dy);
res += float4(-0.267125487327576,-0.002154987072572,-0.009056245908141,-0.964205622673035) * Get(0,-dy);
res += float4(1.364030718803406,-0.001314935274422,-0.009261265397072,0.675297081470490) * Get(0,0);
res += float4(-0.211617410182953,-0.002348996698856,-0.012119036167860,2.263373136520386) * Get(0,dy);
res += float4(-0.400591284036636,-0.000444523175247,0.003502076026052,-0.105407401919365) * Get(dx,-dy);
res += float4(0.317526131868362,-0.006654128897935,0.001008727587759,-0.407879620790482) * Get(dx,0);
res += float4(-1.021750330924988,0.006027877330780,-0.004477791022509,0.692346334457397) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
