sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.202536374330521,-0.020218957215548,-0.002050104783848,-0.082447752356529) * Get(-dx,-dy);
res += float4(0.139517500996590,-0.179772496223450,-0.182763725519180,0.052117407321930) * Get(-dx,0);
res += float4(0.111378543078899,0.015928827226162,0.038193389773369,0.178851068019867) * Get(-dx,dy);
res += float4(-0.146839782595634,0.076132968068123,-0.117299370467663,0.082325510680676) * Get(0,-dy);
res += float4(-0.127501681447029,0.049100726842880,0.149863705039024,-0.216105148196220) * Get(0,0);
res += float4(-0.097375251352787,-0.169317200779915,-0.092049904167652,-0.233445689082146) * Get(0,dy);
res += float4(0.089457124471664,0.014655878767371,-0.029962863773108,0.034244060516357) * Get(dx,-dy);
res += float4(-0.241734236478806,0.022826781496406,0.104148618876934,-0.127403929829597) * Get(dx,0);
res += float4(-0.112239412963390,0.025885747745633,-0.035092834383249,0.059533096849918) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
