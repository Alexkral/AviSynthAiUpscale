sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.198668107390404,0.016200227662921,-0.066907100379467,0.192587241530418,0.000155103494762,0.105764850974083,0.007538822945207,0.013491721823812,0.004251720849425,0.209999933838844,0.041005343198776,0.006215777713805,0.065157197415829,-0.018914898857474,0.115599483251572,0.047787144780159));
res += mul(Get(s0,-dx,0), float4x4(-0.049942839890718,-0.097825109958649,0.070899493992329,-0.092788316309452,-0.074940033257008,-0.016710273921490,-0.132651284337044,-0.030024010688066,0.124085150659084,0.146105274558067,0.116289578378201,0.012636551633477,-0.096834212541580,-0.030305499210954,0.063946850597858,0.065465375781059));
res += mul(Get(s0,-dx,dy), float4x4(0.135316401720047,-0.160525962710381,0.009396799840033,-0.018641572445631,0.098567537963390,-0.006594994571060,-0.011212080717087,-0.042074952274561,0.120869450271130,-0.050906911492348,-0.037811711430550,-0.022047951817513,-0.084062777459621,-0.031422115862370,-0.154364064335823,0.002809150610119));
res += mul(Get(s0,0,-dy), float4x4(0.261678278446198,-0.129030928015709,-0.069947250187397,0.065708845853806,-0.023050431162119,0.097599267959595,0.055175103247166,0.276400834321976,0.002946172375232,-0.185663104057312,0.086473703384399,0.036861311644316,0.045301239937544,0.070136182010174,-0.058864537626505,-0.021612344309688));
res += mul(Get(s0,0,0), float4x4(0.150692939758301,0.027070363983512,-0.071037389338017,-0.178428918123245,-0.045759662985802,0.146614417433739,0.110763639211655,0.087394334375858,0.186508640646935,-0.173372551798820,0.080247811973095,0.023981515318155,-0.134763374924660,0.027685113251209,-0.028183422982693,0.160213410854340));
res += mul(Get(s0,0,dy), float4x4(-0.020589420571923,0.162217512726784,0.092207960784435,0.035472504794598,0.153453841805458,0.090310938656330,0.086609415709972,-0.099327132105827,0.018262753263116,0.186103641986847,0.049101255834103,-0.068874619901180,0.083416461944580,0.070277571678162,-0.096361145377159,0.255178868770599));
res += mul(Get(s0,dx,-dy), float4x4(-0.159052655100822,0.007816751487553,0.204571411013603,0.062360785901546,-0.191193163394928,-0.088208623230457,-0.039026059210300,-0.026499927043915,0.105296954512596,-0.180773407220840,0.012200434692204,-0.240883827209473,0.064823493361473,0.044587593525648,0.077696867287159,-0.022421991452575));
res += mul(Get(s0,dx,0), float4x4(0.002960443031043,-0.148732811212540,-0.274759292602539,-0.058308728039265,-0.093568958342075,0.116384677588940,-0.003043454606086,0.033377647399902,-0.039721298962831,-0.010929110459983,0.102385237812996,-0.137236744165421,0.098651707172394,-0.137830033898354,0.108257919549942,-0.124674119055271));
res += mul(Get(s0,dx,dy), float4x4(-0.059823650866747,-0.015336846001446,0.109159551560879,0.036315206438303,0.001995695056394,0.050746463239193,-0.042592544108629,0.027083270251751,-0.127691388130188,-0.061467777937651,-0.109295926988125,0.096463993191719,0.139724507927895,0.076803565025330,0.079813122749329,0.168138086795807));
res += mul(Get(s1,-dx,-dy), float4x4(-0.117963433265686,-0.094988293945789,0.013142022304237,0.187238469719887,-0.142066180706024,0.065872155129910,0.162512972950935,0.015533650293946,-0.074607715010643,-0.047738220542669,0.088571578264236,-0.048345718532801,-0.046147659420967,-0.062715321779251,-0.133650273084641,0.032682977616787));
res += mul(Get(s1,-dx,0), float4x4(0.021069569513202,0.103005900979042,0.001383352791891,0.051133200526237,0.014680443331599,-0.032585229724646,0.059392742812634,-0.190737292170525,0.075954340398312,0.124614976346493,0.062756665050983,-0.054956488311291,-0.151011511683464,0.042315095663071,0.037175141274929,0.182129919528961));
res += mul(Get(s1,-dx,dy), float4x4(-0.043808568269014,-0.081928953528404,-0.070608377456665,-0.096297904849052,-0.207427591085434,-0.090121634304523,-0.033779524266720,0.162467673420906,-0.174464687705040,-0.005696003325284,-0.165561795234680,-0.171432271599770,0.068644672632217,0.214041382074356,0.125810369849205,-0.019852591678500));
res += mul(Get(s1,0,-dy), float4x4(0.022564910352230,0.157329738140106,-0.129439249634743,0.073947243392467,-0.132459387183189,-0.012386143207550,-0.182709887623787,-0.168418541550636,-0.173816889524460,0.159308895468712,-0.027146534994245,0.138173907995224,0.075413197278976,-0.037287067621946,0.110484175384045,0.020277097821236));
res += mul(Get(s1,0,0), float4x4(-0.197420969605446,-0.136896640062332,0.017705800011754,0.005744226742536,-0.053082730621099,-0.033089052885771,-0.093421921133995,0.070230841636658,0.120193801820278,0.130205363035202,0.094209089875221,0.148986175656319,0.042645875364542,0.066482469439507,0.079872824251652,0.059348862618208));
res += mul(Get(s1,0,dy), float4x4(0.236517116427422,-0.022227367386222,-0.057010795921087,-0.122705087065697,-0.061630088835955,-0.003277281299233,0.035897526890039,0.030353866517544,0.094156406819820,0.017886767163873,-0.044026870280504,0.108799308538437,0.077612362802029,0.087400905787945,0.229912042617798,0.222281008958817));
res += mul(Get(s1,dx,-dy), float4x4(0.092673838138580,-0.008582569658756,0.086556985974312,0.111038841307163,0.092244617640972,-0.064672261476517,-0.103767856955528,-0.065430134534836,-0.008709157817066,-0.043664619326591,0.056899681687355,-0.197329342365265,0.005271540023386,-0.081865593791008,-0.100322872400284,-0.176514118909836));
res += mul(Get(s1,dx,0), float4x4(-0.036332402378321,-0.132383704185486,0.044274780899286,0.156831786036491,-0.042657438665628,0.061811275780201,0.247260525822639,-0.082513973116875,0.005836260505021,0.076611451804638,-0.150595769286156,0.192273914813995,-0.001411720179021,-0.010295521467924,-0.068240754306316,-0.005011315923184));
res += mul(Get(s1,dx,dy), float4x4(-0.193869918584824,0.059900846332312,-0.040742419660091,-0.163634717464447,-0.226117879152298,-0.029142001643777,-0.047522701323032,-0.054691132158041,-0.071168743073940,0.060423400253057,-0.017027517780662,-0.082027152180672,0.026745563372970,-0.127328112721443,-0.032522592693567,-0.150264590978622));
res += mul(Get(s2,-dx,-dy), float4x4(0.062959291040897,-0.060491219162941,0.070223413407803,0.056676529347897,0.062946289777756,-0.060669433325529,-0.047154299914837,0.080309674143791,-0.119624197483063,-0.011617553420365,0.144606068730354,-0.021908981725574,-0.035451877862215,0.188121244311333,0.127390235662460,0.034627895802259));
res += mul(Get(s2,-dx,0), float4x4(0.210708126425743,-0.006737199146301,0.044823970645666,-0.085455879569054,0.175371631979942,-0.094364017248154,0.000397010095185,-0.039497353136539,-0.007860291749239,0.055842332541943,-0.149517342448235,-0.042293261736631,-0.088587492704391,0.081851005554199,0.109321825206280,0.234534025192261));
res += mul(Get(s2,-dx,dy), float4x4(0.089118592441082,0.051870211958885,0.070857957005501,-0.090614601969719,0.262636750936508,-0.020463423803449,-0.272707700729370,-0.205290049314499,-0.083875544369221,-0.167761325836182,0.064853057265282,-0.023830335587263,0.089843168854713,-0.039518408477306,-0.100181825459003,-0.069676637649536));
res += mul(Get(s2,0,-dy), float4x4(0.180782347917557,-0.013371375389397,0.121730439364910,-0.006573798600584,-0.051146462559700,-0.038141649216413,-0.289864480495453,0.026111688464880,-0.118963733315468,0.084390096366405,0.062083359807730,-0.057275604456663,0.239251390099525,0.021881207823753,-0.115290932357311,-0.099056445062160));
res += mul(Get(s2,0,0), float4x4(-0.129637122154236,-0.105272352695465,-0.179990530014038,0.073864221572876,-0.010797562077641,-0.044963859021664,0.073584236204624,0.026510162279010,0.048054851591587,0.062996782362461,0.125109389424324,0.124120749533176,0.104363799095154,0.063385494053364,0.188794851303101,0.269874155521393));
res += mul(Get(s2,0,dy), float4x4(-0.046513210982084,-0.072066307067871,-0.056676659733057,-0.068193107843399,-0.203565791249275,0.127799317240715,-0.041724324226379,0.104993730783463,-0.099078662693501,-0.032713215798140,0.038643956184387,0.156550750136375,-0.140170276165009,0.175490528345108,0.029196519404650,0.078359991312027));
res += mul(Get(s2,dx,-dy), float4x4(0.041914071887732,0.145274668931961,0.094654344022274,-0.042236816138029,-0.050360668450594,0.053523398935795,-0.055426269769669,0.015506636351347,0.035847540944815,-0.030638728290796,0.030576266348362,0.113876543939114,0.047877762466669,0.031558673828840,0.038448825478554,0.120753481984138));
res += mul(Get(s2,dx,0), float4x4(-0.109606884419918,-0.080258443951607,0.285033673048019,0.100012965500355,-0.156242564320564,-0.060887176543474,0.230363160371780,-0.146395936608315,0.046292249113321,-0.030486550182104,0.133153989911079,-0.044734288007021,-0.070725932717323,-0.098221905529499,0.055186148732901,0.144840121269226));
res += mul(Get(s2,dx,dy), float4x4(-0.034481182694435,-0.043898902833462,0.080414734780788,0.098015360534191,-0.027039784938097,-0.171908617019653,0.003202060470358,0.086688257753849,0.231116339564323,0.047304496169090,-0.010401044040918,0.086913667619228,-0.132395118474960,0.020676547661424,0.078043304383755,-0.006077350117266));
res += mul(Get(s3,-dx,-dy), float4x4(0.022612987086177,0.049939442425966,0.134529143571854,-0.169987738132477,0.197102963924408,-0.028530590236187,-0.099715933203697,0.049522858113050,-0.037349034100771,-0.070516400039196,0.167371228337288,-0.068498857319355,0.055705811828375,-0.034409090876579,-0.083773918449879,0.088139392435551));
res += mul(Get(s3,-dx,0), float4x4(0.117747873067856,-0.002445136196911,-0.079002372920513,0.085052326321602,0.017315994948149,0.027517559006810,0.068539224565029,-0.072687298059464,0.238846585154533,-0.078257776796818,-0.093234084546566,-0.057464458048344,0.111927382647991,-0.035142235457897,-0.020043300464749,-0.037922754883766));
res += mul(Get(s3,-dx,dy), float4x4(-0.121484138071537,-0.046139519661665,0.236894994974136,-0.031539313495159,-0.103032700717449,-0.119979649782181,-0.160337582230568,-0.083997897803783,0.090983986854553,0.053149655461311,-0.054693732410669,0.040596477687359,0.085128836333752,0.040903054177761,-0.129455149173737,-0.120338112115860));
res += mul(Get(s3,0,-dy), float4x4(0.138503059744835,0.045304235070944,0.036914885044098,0.067724078893661,-0.081400997936726,0.064561761915684,-0.081661291420460,0.163171797990799,-0.036809310317039,-0.027192054316401,-0.071714334189892,-0.054254688322544,0.047628805041313,0.047554172575474,0.031971666961908,0.154307380318642));
res += mul(Get(s3,0,0), float4x4(0.114788152277470,0.092955105006695,0.014017683453858,0.057856086641550,0.088333137333393,-0.166098326444626,-0.047069419175386,-0.094640508294106,-0.032614137977362,-0.082410141825676,-0.035047080367804,-0.059910401701927,0.068243712186813,-0.049513667821884,0.007712464779615,-0.148037821054459));
res += mul(Get(s3,0,dy), float4x4(0.145171195268631,-0.063369445502758,0.016195112839341,-0.003113324521109,0.078949376940727,0.046424049884081,-0.042521741241217,-0.159205690026283,0.055416531860828,-0.144758358597755,-0.269104838371277,0.178440630435944,0.002712036482990,0.029408309608698,-0.195131629705429,0.066301196813583));
res += mul(Get(s3,dx,-dy), float4x4(-0.116515658795834,-0.005965639837086,0.075054548680782,-0.017274465411901,-0.016675999388099,0.013128037564456,0.065001666545868,0.007683144882321,-0.029858855530620,-0.097187444567680,0.110867939889431,-0.022955037653446,-0.061953522264957,0.031047489494085,-0.014753729104996,0.084839403629303));
res += mul(Get(s3,dx,0), float4x4(-0.137283146381378,-0.070389628410339,-0.047198563814163,-0.149341627955437,0.182660073041916,0.186284616589546,0.044082276523113,-0.094826705753803,-0.129553526639938,-0.039060749113560,0.102352671325207,-0.051035128533840,0.017610576003790,0.151708737015724,-0.110486708581448,0.063740909099579));
res += mul(Get(s3,dx,dy), float4x4(0.013164983130991,0.095469951629639,0.214455962181091,0.078944481909275,0.123432673513889,0.065605603158474,-0.090328939259052,0.031986992806196,-0.260595887899399,-0.066611327230930,-0.037270180881023,0.089383698999882,-0.094873696565628,0.005567596293986,0.136474952101707,0.053544409573078));
return max(float4(0,0,0,0), res);
}
