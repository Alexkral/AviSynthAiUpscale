sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.122211515903473,-0.036733370274305,-0.010234129615128,-0.001312659704126,-0.113267354667187,-0.097512021660805,0.068485409021378,0.142006278038025,-0.075059868395329,0.063536033034325,0.063404545187950,0.039502575993538,-0.059239089488983,0.398700326681137,-0.104042485356331,-0.123284578323364));
res += mul(Get(s0,-dx,0), float4x4(-0.102452620863914,-0.013230321928859,0.083720609545708,0.060966271907091,-0.072638243436813,-0.092298254370689,0.062476318329573,0.036441311240196,0.062482602894306,0.065657205879688,0.007455253042281,-0.086109876632690,-0.008543279021978,0.030649861320853,-0.075683623552322,-0.053203843533993));
res += mul(Get(s0,-dx,dy), float4x4(0.211464554071426,-0.004651119466871,-0.082866854965687,0.025024235248566,0.021053561940789,-0.097207039594650,0.004261353053153,0.028958484530449,-0.027592523023486,0.109405651688576,-0.071144312620163,0.098677083849907,0.033100988715887,0.047000307589769,-0.032612401992083,0.018833596259356));
res += mul(Get(s0,0,-dy), float4x4(0.006805858109146,0.012659350410104,-0.003188804956153,-0.093808233737946,-0.107823349535465,0.033352538943291,0.010469569824636,0.088209860026836,-0.140801712870598,0.007517192978412,-0.062452021986246,0.010585732758045,-0.080215148627758,0.111157491803169,-0.076803781092167,-0.031989905983210));
res += mul(Get(s0,0,0), float4x4(-0.006087256595492,-0.001487582805566,0.036216039210558,-0.011977507732809,-0.075156085193157,0.004182941280305,0.022822216153145,0.030971504747868,-0.007767544593662,0.062863513827324,-0.064805462956429,-0.110891029238701,0.013335263356566,-0.011202800087631,-0.062268279492855,0.024702886119485));
res += mul(Get(s0,0,dy), float4x4(0.117071978747845,-0.050374221056700,0.088962845504284,-0.101903937757015,0.058726318180561,-0.025784449651837,-0.001033933833241,0.064531661570072,-0.094517260789871,0.022175762802362,-0.053530290722847,0.097334764897823,0.072796165943146,0.012099987827241,-0.049960814416409,0.064402744174004));
res += mul(Get(s0,dx,-dy), float4x4(-0.008667607791722,0.080666251480579,0.092185601592064,0.079793006181717,-0.093600578606129,0.126949608325958,-0.095493264496326,-0.018434017896652,-0.001302797463723,0.108593337237835,-0.154697299003601,0.243302285671234,0.006273791659623,-0.048601239919662,-0.043125733733177,-0.056710869073868));
res += mul(Get(s0,dx,0), float4x4(-0.045619498938322,-0.031190410256386,-0.081674374639988,0.140939950942993,-0.115527205169201,0.017770724371076,-0.032053396105766,-0.097033679485321,-0.041074723005295,0.011399726383388,-0.109504833817482,0.256580948829651,0.059627033770084,0.008359593339264,-0.103978551924229,-0.035054828971624));
res += mul(Get(s0,dx,dy), float4x4(-0.061319429427385,-0.004146022722125,0.349126994609833,0.001868452993222,-0.022780889645219,-0.057345543056726,-0.126009762287140,0.059746265411377,0.030419712886214,-0.080631293356419,-0.025864183902740,0.107126288115978,0.078622169792652,0.196465939283371,-0.039497815072536,-0.009585932828486));
res += mul(Get(s1,-dx,-dy), float4x4(0.238728910684586,-0.086100287735462,0.029390746727586,0.025955611839890,0.093235135078430,-0.075317211449146,0.050150450319052,-0.011647619307041,-0.045277424156666,-0.062141198664904,0.012844206765294,0.023522475734353,-0.128185957670212,-0.019308654591441,-0.059731557965279,-0.063310332596302));
res += mul(Get(s1,-dx,0), float4x4(0.072418853640556,0.028717000037432,-0.053193736821413,-0.060986995697021,0.132141172885895,-0.043428573757410,0.106843143701553,-0.048307001590729,-0.059139210730791,-0.060529135167599,-0.048928100615740,-0.076405845582485,0.044234707951546,-0.031966451555490,-0.022547541186213,-0.002227721968666));
res += mul(Get(s1,-dx,dy), float4x4(-0.077083088457584,0.027112072333694,-0.040284492075443,-0.071787230670452,-0.006063678301871,0.000896504789125,0.015252090059221,-0.027842173352838,0.070222064852715,-0.024560529738665,-0.117529831826687,-0.097418844699860,0.170188099145889,-0.108712740242481,-0.106883846223354,-0.052226539701223));
res += mul(Get(s1,0,-dy), float4x4(0.031577922403812,-0.052188619971275,0.266133517026901,0.183643370866776,-0.024050924926996,-0.038548629730940,0.054422326385975,0.004710708744824,-0.138689786195755,-0.037872754037380,0.022526392713189,-0.007438164204359,-0.135591357946396,0.044999461621046,0.013922728598118,-0.016358813270926));
res += mul(Get(s1,0,0), float4x4(-0.010028962977231,0.085202910006046,-0.021390477195382,0.022211553528905,-0.006017589941621,0.026007492095232,0.087192192673683,0.075985729694366,-0.023134892806411,-0.044267993420362,0.037890199571848,-0.067200452089310,0.096236035227776,0.019230112433434,-0.066032201051712,-0.005775667726994));
res += mul(Get(s1,0,dy), float4x4(0.019320355728269,-0.013542585074902,-0.062959522008896,0.057152062654495,-0.096658490598202,0.035832934081554,0.093802303075790,0.003265620209277,-0.097980752587318,-0.003583877580240,-0.007510135881603,-0.111103191971779,0.071052715182304,-0.024623250588775,-0.069446295499802,-0.065550528466702));
res += mul(Get(s1,dx,-dy), float4x4(-0.088944934308529,-0.074976585805416,-0.043174605816603,0.055834129452705,0.096276074647903,0.048462349921465,-0.024249978363514,-0.018616955727339,-0.047051534056664,0.160983264446259,-0.136623099446297,0.059711966663599,-0.038518644869328,0.058722496032715,-0.075307451188564,-0.035281546413898));
res += mul(Get(s1,dx,0), float4x4(-0.148758590221405,0.019834013655782,0.138200938701630,0.014598677866161,0.082673527300358,-0.006477169692516,0.102848187088966,0.027328174561262,-0.060902588069439,-0.002455139532685,0.037249326705933,-0.048649597913027,-0.020126944407821,-0.036453541368246,0.226437538862228,0.034209068864584));
res += mul(Get(s1,dx,dy), float4x4(-0.162366896867752,-0.113238491117954,0.085272461175919,-0.049551144242287,0.032177265733480,-0.002334323944524,0.149005547165871,-0.037788406014442,-0.210449531674385,-0.012730858288705,0.104949750006199,0.008259586058557,0.026817921549082,0.004262345843017,0.109723873436451,0.025509282946587));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031206136569381,-0.138884261250496,-0.067202478647232,-0.114869229495525,0.101352810859680,-0.034748040139675,-0.068607412278652,0.061601452529430,0.027810618281364,0.054509148001671,-0.040380377322435,-0.038037803024054,-0.084977224469185,0.059490572661161,0.022156827151775,0.015883324667811));
res += mul(Get(s2,-dx,0), float4x4(0.128291666507721,-0.147489890456200,0.108453392982483,-0.015412084758282,0.084457203745842,0.024570524692535,0.042095031589270,-0.184963613748550,0.019507749006152,-0.179182782769203,-0.082090161740780,0.004216750152409,-0.020032733678818,-0.107585385441780,0.028183002024889,0.095241099596024));
res += mul(Get(s2,-dx,dy), float4x4(0.076170898973942,-0.168554887175560,0.140949085354805,-0.074989661574364,0.007046914659441,-0.036548260599375,0.004447266459465,-0.143077611923218,0.004137313459069,0.206440627574921,0.060049451887608,0.062252204865217,0.079892046749592,-0.125984966754913,-0.022624043747783,-0.007313473615795));
res += mul(Get(s2,0,-dy), float4x4(-0.104456275701523,-0.074802279472351,-0.002397134201601,-0.066198654472828,-0.030483197420835,-0.056539673358202,-0.053989112377167,0.174427881836891,0.086322195827961,0.105606347322464,-0.134871348738670,0.009016142226756,-0.110348030924797,0.041399698704481,0.031083576381207,-0.095818608999252));
res += mul(Get(s2,0,0), float4x4(0.035986710339785,0.052319537848234,-0.010551593266428,0.084976799786091,-0.019909687340260,0.072620198130608,-0.046016119420528,0.016947979107499,0.022500108927488,-0.002382798818871,-0.045460570603609,0.044139478355646,-0.064644366502762,-0.128401502966881,0.009159182198346,-0.012005627155304));
res += mul(Get(s2,0,dy), float4x4(-0.062818273901939,-0.046434108167887,-0.052949707955122,-0.045144580304623,-0.121973633766174,0.133971303701401,-0.057033315300941,-0.100205667316914,0.174718156456947,-0.095996446907520,-0.004449859727174,0.107212454080582,0.245056092739105,-0.184883072972298,0.062286119908094,-0.001003464800306));
res += mul(Get(s2,dx,-dy), float4x4(-0.145313605666161,0.136017054319382,-0.072970487177372,-0.086400799453259,0.007474419195205,-0.068962357938290,-0.143832325935364,0.153247028589249,0.090446203947067,-0.048113152384758,-0.238102346658707,-0.033340200781822,-0.146153852343559,0.111575424671173,0.016739735379815,-0.123201079666615));
res += mul(Get(s2,dx,0), float4x4(-0.047174494713545,-0.015399546362460,-0.093859128654003,0.003545026527718,-0.056620053946972,0.056830912828445,0.062743708491325,-0.000422196608270,0.211496561765671,0.011735831387341,-0.069252640008926,-0.026866657659411,-0.040573224425316,0.145915135741234,0.022029405459762,-0.051127541810274));
res += mul(Get(s2,dx,dy), float4x4(-0.009323584847152,-0.033552393317223,-0.165624126791954,-0.051005858927965,-0.124550290405750,0.044446367770433,0.002562449313700,0.040279500186443,0.167896792292595,0.014518788084388,-0.088724061846733,0.054479282349348,0.047306135296822,-0.079435370862484,0.027891742065549,0.063977383077145));
res += mul(Get(s3,-dx,-dy), float4x4(0.013257061131299,-0.092095032334328,0.024442058056593,-0.002613345859572,-0.032778359949589,-0.119637057185173,0.071264423429966,-0.058103930205107,0.101551830768585,-0.043781954795122,0.015515230596066,-0.067051067948341,0.041678007692099,0.197992250323296,-0.151952192187309,-0.175628170371056));
res += mul(Get(s3,-dx,0), float4x4(0.079471893608570,-0.070189207792282,0.133321776986122,0.048560470342636,0.007680536247790,-0.165037825703621,0.035999067127705,-0.034796554595232,0.193198502063751,-0.028019348159432,0.061670124530792,-0.015757299959660,-0.033989716321230,0.203114449977875,-0.131536379456520,-0.060002442449331));
res += mul(Get(s3,-dx,dy), float4x4(0.088010393083096,-0.017406446859241,0.071679703891277,0.001965916482732,-0.138876914978027,-0.034459363669157,0.004550972022116,-0.047788962721825,0.078016795217991,0.047207813709974,-0.020299030467868,-0.074159130454063,0.050255291163921,0.078856438398361,-0.065651305019855,0.014446765184402));
res += mul(Get(s3,0,-dy), float4x4(-0.034792996942997,0.026180217042565,-0.021009065210819,-0.028601463884115,0.041163552552462,-0.094790458679199,0.041744701564312,0.291088879108429,-0.013707687146962,0.006070270203054,-0.066600829362869,-0.063540242612362,0.092658340930939,0.033013675361872,-0.074157573282719,-0.000122825193102));
res += mul(Get(s3,0,0), float4x4(-0.032662834972143,0.025310132652521,0.102378532290459,0.071867406368256,0.046770852059126,-0.072659753262997,-0.103153541684151,0.005381782073528,-0.033297415822744,-0.062861166894436,-0.006433759815991,0.028005270287395,-0.011244864203036,-0.075540751218796,-0.038984775543213,0.094451636075974));
res += mul(Get(s3,0,dy), float4x4(0.002684318227693,-0.046762917190790,-0.004829159937799,0.008325516246259,-0.074170701205730,-0.031214492395520,-0.096838794648647,0.027686441317201,-0.104167558252811,0.010063687339425,-0.020001340657473,-0.020873734727502,-0.056433327496052,-0.109629593789577,-0.075097456574440,0.098466798663139));
res += mul(Get(s3,dx,-dy), float4x4(-0.112328462302685,0.038896501064301,-0.012430524453521,-0.077300734817982,0.108593143522739,-0.128029242157936,0.007872171700001,-0.010988516733050,0.000739381823223,0.209601327776909,-0.026209656149149,-0.097210414707661,0.051067695021629,-0.072184816002846,-0.092517763376236,0.060058955103159));
res += mul(Get(s3,dx,0), float4x4(-0.059219174087048,0.064200766384602,-0.039233539253473,-0.003835871350020,0.121639698743820,-0.133732154965401,-0.007777371443808,-0.093565389513969,0.003081229049712,-0.020280387252569,-0.006338278762996,0.045897722244263,-0.004123182501644,0.011891916394234,-0.090910986065865,0.001656215987168));
res += mul(Get(s3,dx,dy), float4x4(-0.019874777644873,-0.022114111110568,-0.108259782195091,0.011065470054746,-0.001525905681774,-0.146517425775528,-0.145007625222206,0.019007347524166,-0.052964016795158,0.018505038693547,-0.111410103738308,-0.047234944999218,0.118285752832890,0.047393728047609,-0.115056969225407,-0.082994125783443));
return max(float4(0,0,0,0), res);
}
