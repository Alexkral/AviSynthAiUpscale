sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.004398836288601,-0.013631754554808,0.022353382781148,-0.012439006939530,0.061111271381378,-0.083248168230057,-0.073752038180828,0.032526340335608,0.178550943732262,-0.102176651358604,0.003786222310737,0.019501419737935,-0.018078003078699,-0.112332940101624,0.125731617212296,-0.072008632123470));
res += mul(Get(s0,-dx,0), float4x4(0.046797927469015,-0.099473662674427,0.033315923064947,-0.064957439899445,0.036113694310188,-0.049905866384506,-0.071495532989502,-0.061475057154894,0.115001618862152,-0.036964621394873,0.326283246278763,0.039946481585503,-0.014090299606323,0.010965961031616,0.077831320464611,0.281713783740997));
res += mul(Get(s0,-dx,dy), float4x4(0.048595607280731,-0.002312842989340,-0.024054743349552,-0.234213784337044,0.114245712757111,-0.142209216952324,0.069051697850227,-0.040493100881577,-0.031758818775415,-0.149054542183876,0.098237797617912,-0.049776174128056,-0.006748554762453,-0.003262520534918,-0.146290913224220,-0.012933823280036));
res += mul(Get(s0,0,-dy), float4x4(-0.143271669745445,0.120835222303867,-0.114543937146664,0.270127832889557,-0.056276172399521,-0.067475281655788,-0.033442787826061,-0.006003502290696,-0.137326925992966,-0.112930588424206,0.062782175838947,0.014315852895379,0.023308737203479,-0.202119693160057,0.076211385428905,-0.105552576482296));
res += mul(Get(s0,0,0), float4x4(-0.147832617163658,0.088635943830013,0.005314075388014,0.208852276206017,0.064962118864059,-0.033052194863558,0.023927716538310,-0.014367688447237,-0.040869954973459,-0.037842478603125,0.032108359038830,-0.018416592851281,-0.038267400115728,0.114885024726391,-0.058344971388578,0.085394702851772));
res += mul(Get(s0,0,dy), float4x4(-0.011089614592493,0.062234509736300,-0.027696570381522,0.028716051951051,0.167877137660980,-0.043481420725584,-0.084848113358021,-0.042273748666048,-0.142280519008636,0.015763888135552,-0.104644924402237,-0.087060756981373,-0.048068303614855,-0.066470183432102,-0.157551169395447,0.146850004792213));
res += mul(Get(s0,dx,-dy), float4x4(-0.047827210277319,0.164335563778877,-0.105586372315884,-0.046358060091734,-0.080811291933060,-0.056308675557375,-0.179380893707275,0.003947879653424,-0.019553391262889,0.148132294416428,0.040813673287630,-0.021268617361784,0.080323152244091,-0.011324334889650,0.107071191072464,-0.096645124256611));
res += mul(Get(s0,dx,0), float4x4(-0.102800980210304,-0.003694341285154,-0.171462640166283,0.073971554636955,-0.089527554810047,-0.045008614659309,-0.123187527060509,0.003209173679352,0.002403199905530,0.059499777853489,-0.070495411753654,-0.096456713974476,0.088251627981663,0.156002625823021,-0.011038927361369,-0.128496304154396));
res += mul(Get(s0,dx,dy), float4x4(-0.002995924791321,0.149447739124298,-0.178433358669281,-0.022373696789145,-0.070610977709293,-0.056806091219187,-0.122386030852795,-0.063735231757164,-0.082805700600147,0.117763951420784,-0.089163854718208,-0.094718389213085,0.095176339149475,-0.006084225606173,-0.194414794445038,-0.012926658615470));
res += mul(Get(s1,-dx,-dy), float4x4(-0.029110465198755,-0.143019407987595,0.040964160114527,0.116558820009232,-0.051978524774313,0.155258148908615,0.201869815587997,0.022273369133472,0.037596028298140,0.042371056973934,0.149250641465187,0.018771015107632,-0.021080285310745,-0.037632968276739,0.099910780787468,-0.052421264350414));
res += mul(Get(s1,-dx,0), float4x4(0.091592445969582,-0.077162846922874,-0.066808201372623,0.045043807476759,-0.128519147634506,0.070331379771233,-0.163890898227692,-0.024342089891434,0.066165201365948,-0.115793414413929,-0.026600463315845,0.043882362544537,0.097313866019249,-0.116728655993938,0.003883940633386,-0.087745204567909));
res += mul(Get(s1,-dx,dy), float4x4(0.053698100149632,0.042623110115528,-0.039187062531710,-0.086886659264565,0.026459040120244,0.095106586813927,-0.115419253706932,-0.291531324386597,0.039931047707796,0.003525509266183,0.036370746791363,-0.101581417024136,0.151937261223793,-0.188050225377083,0.011742586269975,-0.169186040759087));
res += mul(Get(s1,0,-dy), float4x4(-0.073682270944118,-0.021615769714117,0.135440617799759,-0.047873761504889,0.001148546463810,0.047105226665735,-0.026117792353034,-0.015772214159369,-0.078506246209145,0.156890079379082,0.116072028875351,-0.073992431163788,0.051680829375982,-0.018942568451166,-0.044931985437870,-0.063277296721935));
res += mul(Get(s1,0,0), float4x4(-0.048729985952377,-0.017368506640196,0.028499610722065,0.024214979261160,0.042858034372330,0.101407840847969,-0.121034957468510,0.091902919113636,0.015091396868229,-0.094061717391014,-0.040675617754459,0.071687534451485,0.026689177379012,-0.052307154983282,-0.050449047237635,-0.003385085845366));
res += mul(Get(s1,0,dy), float4x4(0.055688600987196,-0.054741684347391,-0.084953993558884,-0.025745319202542,-0.048713400959969,-0.051400821655989,-0.125599175691605,-0.041964601725340,0.122442334890366,0.050431922078133,-0.067019104957581,0.066718481481075,0.079024888575077,-0.000076259864727,-0.099905528128147,-0.053191434592009));
res += mul(Get(s1,dx,-dy), float4x4(0.075102366507053,-0.041661486029625,0.080511085689068,0.043590351939201,-0.135424599051476,0.003966955002397,-0.031633518636227,-0.084575131535530,-0.063144721090794,-0.116903729736805,-0.018390074372292,0.015201319009066,0.019189966842532,-0.099361971020699,-0.217633277177811,-0.069637410342693));
res += mul(Get(s1,dx,0), float4x4(0.132423430681229,-0.051079854369164,-0.089121915400028,0.088702529668808,-0.137486651539803,-0.002558112610132,-0.090494208037853,0.163199692964554,-0.124175660312176,-0.088811293244362,-0.081103406846523,0.018322616815567,-0.115713983774185,-0.083972647786140,-0.006253680214286,-0.047290463000536));
res += mul(Get(s1,dx,dy), float4x4(0.137007266283035,-0.026985993608832,-0.068399935960770,0.008433428592980,-0.095850147306919,-0.092351354658604,-0.202036157250404,0.137065753340721,0.133609637618065,0.031178807839751,-0.033982794731855,-0.146995157003403,-0.193971008062363,-0.036463536322117,-0.076347388327122,-0.030144067481160));
res += mul(Get(s2,-dx,-dy), float4x4(-0.136862918734550,-0.050884321331978,-0.108378022909164,-0.072181157767773,0.114957205951214,-0.059116583317518,0.049363136291504,0.149953916668892,0.100925870239735,0.031020537018776,0.158847689628601,0.129525348544121,0.016942940652370,-0.091172613203526,0.088470332324505,-0.064554944634438));
res += mul(Get(s2,-dx,0), float4x4(0.010570639744401,-0.042622998356819,-0.091806054115295,-0.038711186498404,0.212290182709694,-0.035835348069668,0.065042711794376,0.146743521094322,0.031656406819820,0.072750434279442,0.077362410724163,0.087972745299339,-0.040536917746067,0.024864440783858,-0.050449814647436,-0.027614701539278));
res += mul(Get(s2,-dx,dy), float4x4(-0.022664124146104,-0.118222914636135,0.108929671347141,-0.107724308967590,-0.065380126237869,-0.007729473058134,-0.156297624111176,0.141108796000481,-0.046358935534954,-0.016882063820958,0.030862819403410,-0.045448042452335,-0.030587960034609,0.228252068161964,0.046336703002453,-0.060285907238722));
res += mul(Get(s2,0,-dy), float4x4(-0.020403491333127,-0.041693907231092,-0.058981012552977,-0.049408011138439,0.072517231106758,0.048092171549797,0.103249207139015,-0.026826871559024,-0.042080800980330,0.136029779911041,0.069869287312031,-0.040802601724863,0.069041624665260,0.051292296499014,-0.033449362963438,0.019787192344666));
res += mul(Get(s2,0,0), float4x4(0.007109931204468,-0.056815657764673,-0.068479008972645,-0.049910910427570,0.055811725556850,-0.004960429389030,-0.006039086729288,0.077949568629265,-0.028301820158958,0.132173448801041,0.000760617433116,0.030703684315085,-0.029990794137120,0.142245396971703,-0.010030927136540,0.061071805655956));
res += mul(Get(s2,0,dy), float4x4(-0.029964102432132,-0.120981134474277,0.003066582139581,-0.054004155099392,-0.176932394504547,-0.047104764729738,-0.105472393333912,0.132524564862251,-0.073565728962421,-0.093653090298176,-0.033611681312323,-0.061608251184225,-0.027660598978400,-0.004724993370473,0.082321614027023,-0.012066423892975));
res += mul(Get(s2,dx,-dy), float4x4(-0.033936850726604,-0.079839944839478,0.087147980928421,-0.002081746468320,-0.151135891675949,-0.091873519122601,0.008400788530707,-0.061310611665249,0.013797644525766,0.095066949725151,-0.116988874971867,-0.036908298730850,-0.115102902054787,-0.050518579781055,-0.197911962866783,0.066638357937336));
res += mul(Get(s2,dx,0), float4x4(-0.024569958448410,-0.111677207052708,0.072540186345577,-0.059875071048737,-0.053966283798218,-0.122215516865253,-0.063245132565498,-0.008515113033354,0.078935861587524,0.094474263489246,-0.138656198978424,0.137037485837936,0.064802303910255,-0.031903609633446,-0.077217884361744,0.052010193467140));
res += mul(Get(s2,dx,dy), float4x4(-0.111110463738441,-0.109115235507488,0.125959113240242,-0.104680083692074,-0.258056342601776,-0.086374163627625,-0.166699945926666,0.063591979444027,0.077830083668232,0.021206650882959,-0.100851632654667,-0.054723519831896,-0.116729699075222,-0.086159370839596,-0.044486943632364,-0.118954606354237));
res += mul(Get(s3,-dx,-dy), float4x4(-0.067242741584778,0.031980443745852,0.106312938034534,0.016174608841538,0.221029713749886,0.073616966605186,0.073668599128723,-0.055900596082211,-0.158396080136299,-0.065549597144127,0.099872775375843,-0.011180189438164,0.090822882950306,-0.084741503000259,0.017725344747305,-0.059541374444962));
res += mul(Get(s3,-dx,0), float4x4(0.008976466022432,-0.034380264580250,0.108542449772358,-0.157794594764709,0.195943430066109,0.134512737393379,0.129885420203209,0.025491578504443,-0.105396278202534,-0.075044356286526,0.000219222289161,-0.042349096387625,0.144259095191956,-0.003671155543998,0.044031556695700,-0.146913960576057));
res += mul(Get(s3,-dx,dy), float4x4(-0.031547572463751,-0.035918947309256,0.077527895569801,0.069179832935333,-0.024813445284963,-0.047526586800814,0.031906723976135,-0.026309797540307,0.009713637642562,-0.108811341226101,0.033953413367271,-0.040400877594948,0.052074778825045,-0.077802844345570,-0.043598297983408,-0.049124050885439));
res += mul(Get(s3,0,-dy), float4x4(0.010836617089808,-0.049682170152664,0.030464775860310,-0.044821113348007,-0.032871872186661,0.018726887181401,-0.041190631687641,0.053383581340313,-0.062861725687981,-0.054025866091251,0.184700027108192,-0.006358587183058,0.045355744659901,0.045968763530254,0.119381017982960,0.126818984746933));
res += mul(Get(s3,0,0), float4x4(0.007105945143849,-0.016009790822864,0.012822194956243,-0.120550386607647,0.044486600905657,0.131096780300140,-0.079950928688049,-0.005894981790334,-0.132829323410988,-0.108305081725121,0.023203877732158,-0.037795260548592,0.006985855754465,0.114006794989109,0.133162692189217,-0.052329398691654));
res += mul(Get(s3,0,dy), float4x4(-0.006116973701864,-0.034990459680557,0.009665439836681,0.033118769526482,0.070386305451393,-0.008788744919002,0.029033884406090,0.015727918595076,0.017677836120129,0.031016787514091,-0.013637250289321,-0.055987425148487,-0.066827446222305,-0.029348928481340,0.012152723968029,0.060359586030245));
res += mul(Get(s3,dx,-dy), float4x4(-0.024254776537418,-0.035320993512869,0.161151871085167,-0.057398982346058,0.082960993051529,-0.006947802845389,0.135967910289764,0.080289267003536,-0.146370276808739,-0.045375369489193,-0.099922753870487,0.075821675360203,0.032554946839809,0.101140961050987,-0.118150845170021,0.107459716498852));
res += mul(Get(s3,dx,0), float4x4(-0.097234077751637,-0.042976617813110,0.111929453909397,-0.016034040600061,0.128196313977242,-0.041658140718937,0.169627770781517,0.031490303575993,-0.181735932826996,-0.086213760077953,0.018114058300853,-0.074705153703690,0.099374763667583,0.200492620468140,0.001671140315011,-0.117021478712559));
res += mul(Get(s3,dx,dy), float4x4(-0.044389717280865,-0.013480196706951,0.126940518617630,-0.061336319893599,0.049266591668129,0.023616906255484,0.076801933348179,0.022550107911229,-0.025230415165424,0.125136137008667,0.052056737244129,-0.078847773373127,0.160855099558830,-0.021967111155391,-0.014956892468035,-0.002068259287626));
return max(float4(0,0,0,0), res);
}
