sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.041672650724649,-0.107946038246155,-0.087757244706154,0.125752374529839,-0.129673451185226,-0.088495694100857,0.039136458188295,-0.013586581684649,0.116350866854191,0.109404757618904,0.070413626730442,-0.018886953592300,-0.116853371262550,-0.192588567733765,-0.065938122570515,-0.072522878646851));
res += mul(Get(s0,-dx,0), float4x4(0.003337054746225,-0.089999094605446,-0.037480507045984,-0.059577614068985,-0.129915520548820,-0.078786604106426,0.006337305065244,-0.092203162610531,-0.180620789527893,0.042851071804762,0.147952482104301,0.420411735773087,-0.010617428459227,0.063553877174854,-0.063939206302166,0.190604552626610));
res += mul(Get(s0,-dx,dy), float4x4(-0.022376609966159,0.070132777094841,0.037069953978062,0.099607720971107,-0.159331798553467,-0.091808475553989,-0.052832871675491,0.023477859795094,-0.032940164208412,0.087251603603363,-0.224395304918289,-0.038407105952501,-0.015432862564921,-0.177866905927658,-0.068567119538784,-0.033277872949839));
res += mul(Get(s0,0,-dy), float4x4(-0.102268815040588,0.130176067352295,0.144950002431870,-0.034510713070631,0.075414240360260,-0.009036429226398,0.059995938092470,-0.077005721628666,-0.192818284034729,-0.232197776436806,0.159531816840172,0.046098574995995,-0.052262969315052,0.198115915060043,0.053447876125574,0.024223076179624));
res += mul(Get(s0,0,0), float4x4(0.045497845858335,0.168434858322144,-0.007827189750969,0.237657696008682,0.009773680940270,0.085653930902481,0.031661991029978,0.086461126804352,0.146638721227646,0.095445916056633,-0.088532052934170,0.106289118528366,-0.190869525074959,0.174814999103546,-0.135456189513206,-0.012424055486917));
res += mul(Get(s0,0,dy), float4x4(-0.115363530814648,-0.050369817763567,-0.056040730327368,0.081648759543896,0.162741765379906,0.153586074709892,0.243211328983307,0.029502216726542,0.034630257636309,0.030049275606871,-0.095256268978119,0.030293602496386,-0.122425556182861,0.127964943647385,-0.055872734636068,0.042823135852814));
res += mul(Get(s0,dx,-dy), float4x4(-0.041529010981321,0.060815587639809,0.012971828691661,0.061072658747435,-0.123385041952133,0.037822972983122,0.085188880562782,-0.136253878474236,-0.020575968548656,-0.019744228571653,-0.022243408486247,0.117439053952694,0.183294370770454,0.045527197420597,0.041503101587296,-0.040124289691448));
res += mul(Get(s0,dx,0), float4x4(-0.054206307977438,0.107475243508816,0.116325885057449,0.101115323603153,-0.012284759432077,0.043819524347782,0.022372851148248,-0.024071669206023,0.120774857699871,-0.015743449330330,-0.136218383908272,0.015651956200600,-0.073116913437843,-0.073218263685703,0.011932729743421,0.092534974217415));
res += mul(Get(s0,dx,dy), float4x4(-0.065964616835117,0.069543249905109,-0.030692446976900,0.127909839153290,-0.108906380832195,0.101074732840061,0.080722101032734,0.037560887634754,0.009506295435131,-0.011685515753925,0.174660086631775,-0.155184164643288,-0.091427654027939,0.014498703181744,-0.051336061209440,-0.206783071160316));
res += mul(Get(s1,-dx,-dy), float4x4(-0.101394392549992,0.058850675821304,0.099617302417755,-0.262702196836472,0.156499087810516,0.309690356254578,0.038934197276831,-0.154177859425545,-0.083884775638580,0.081249311566353,-0.152596607804298,-0.052514277398586,0.038602240383625,-0.073950998485088,-0.019359894096851,-0.024313772097230));
res += mul(Get(s1,-dx,0), float4x4(-0.145834788680077,0.064416930079460,0.076594576239586,-0.138722583651543,0.043224871158600,0.075318358838558,0.067291401326656,0.008663029409945,-0.011378571391106,-0.106519855558872,0.070791848003864,-0.078458227217197,0.210398346185684,-0.076920732855797,-0.017969552427530,-0.158273845911026));
res += mul(Get(s1,-dx,dy), float4x4(-0.016757875680923,0.153644144535065,0.058406520634890,-0.007966227829456,0.017483150586486,0.081441290676594,0.071305789053440,-0.065002173185349,-0.000462093419628,0.073462806642056,0.083907783031464,0.057422205805779,0.154948621988297,0.036087121814489,0.223055422306061,-0.048335161060095));
res += mul(Get(s1,0,-dy), float4x4(0.005783106666058,0.109355822205544,0.113500729203224,-0.099191889166832,-0.005719166249037,0.040193647146225,0.191333308815956,0.060129612684250,-0.172911331057549,-0.072029128670692,0.110601142048836,0.026934755966067,0.091765388846397,0.144453972578049,-0.066271595656872,-0.150716006755829));
res += mul(Get(s1,0,0), float4x4(-0.180539041757584,-0.002601130865514,-0.056014243513346,-0.057140626013279,-0.024489836767316,0.114191636443138,0.027512496337295,0.027926156297326,0.064752094447613,0.178096637129784,0.133599013090134,-0.050761763006449,0.079468853771687,-0.104804158210754,0.077608495950699,0.121662296354771));
res += mul(Get(s1,0,dy), float4x4(0.260644972324371,-0.051466591656208,-0.124250687658787,-0.025641012936831,0.003254801500589,0.018452009186149,0.102447889745235,0.078424870967865,0.065789304673672,-0.160795196890831,-0.000324286287650,-0.124899953603745,-0.050682090222836,0.112614288926125,0.071636140346527,-0.099927246570587));
res += mul(Get(s1,dx,-dy), float4x4(-0.019357098266482,-0.173946842551231,0.048627827316523,0.025402607396245,-0.035268008708954,0.001007628859952,0.057817537337542,0.054022904485464,-0.058582510799170,-0.172799348831177,0.179333969950676,0.022513814270496,0.034777153283358,-0.066243775188923,-0.114219918847084,0.084024764597416));
res += mul(Get(s1,dx,0), float4x4(0.024157982319593,-0.161322340369225,0.074587628245354,0.011131959035993,0.032159082591534,0.231184348464012,-0.041959781199694,0.024743236601353,-0.063490547239780,0.179174095392227,-0.029409626498818,-0.142664760351181,-0.114853464066982,-0.038030613213778,-0.072582870721817,-0.028353508561850));
res += mul(Get(s1,dx,dy), float4x4(-0.056078985333443,0.005782485008240,-0.172598674893379,-0.077773489058018,-0.002890927949920,-0.010815012268722,-0.050163134932518,0.209524080157280,-0.172920763492584,0.092046484351158,0.047751966863871,0.176963672041893,0.009909357875586,-0.182071238756180,-0.201648160815239,-0.009232625365257));
res += mul(Get(s2,-dx,-dy), float4x4(0.034676171839237,-0.149608120322227,-0.147668063640594,-0.004351336043328,-0.234324812889099,-0.025919619947672,-0.214786544442177,0.030047023668885,0.039518252015114,0.163322865962982,-0.068675883114338,-0.064450003206730,-0.111072562634945,0.048906717449427,-0.033558428287506,-0.037677690386772));
res += mul(Get(s2,-dx,0), float4x4(0.113026089966297,-0.127565130591393,0.044033668935299,-0.139124572277069,0.065436735749245,0.029350642114878,0.062574855983257,-0.151724785566330,0.029097164049745,-0.152022212743759,-0.031691774725914,-0.174571797251701,-0.057485528290272,0.192133262753487,0.035659831017256,0.306232154369354));
res += mul(Get(s2,-dx,dy), float4x4(0.070201560854912,-0.080480076372623,0.091612607240677,0.057258881628513,-0.065545022487640,0.011222795583308,0.119127728044987,-0.033194210380316,0.128804787993431,-0.050702515989542,-0.113392770290375,-0.348695874214172,-0.004370400216430,0.144284740090370,-0.160668879747391,-0.122730351984501));
res += mul(Get(s2,0,-dy), float4x4(-0.162256732583046,0.043132048100233,0.058660596609116,-0.043362878262997,0.207957923412323,-0.143655806779861,0.116401977837086,0.085968710482121,-0.166458830237389,-0.040014676749706,-0.206082314252853,-0.145845174789429,0.055326625704765,-0.079486407339573,-0.191284775733948,0.114873856306076));
res += mul(Get(s2,0,0), float4x4(0.140704438090324,-0.020706420764327,-0.163813203573227,0.100679509341717,0.177736163139343,0.094436869025230,0.047015491873026,0.055332995951176,0.043989103287458,0.133800357580185,0.149972334504128,-0.113471463322639,0.142914891242981,0.126970544457436,0.223716408014297,-0.090053789317608));
res += mul(Get(s2,0,dy), float4x4(0.007736029569060,0.208980515599251,-0.177977532148361,0.108553498983383,-0.007087810430676,0.076802760362625,0.207643389701843,0.125367820262909,-0.151442036032677,-0.168673664331436,0.049694389104843,-0.014381435699761,-0.043867565691471,-0.227888986468315,-0.094123743474483,0.049379896372557));
res += mul(Get(s2,dx,-dy), float4x4(-0.070779591798782,0.116068109869957,0.026596069335938,-0.064554169774055,-0.018535453826189,-0.117536373436451,-0.197026282548904,0.234113454818726,0.009043917991221,0.036340378224850,-0.057199951261282,-0.020547818392515,0.042725306004286,0.095924563705921,-0.169372901320457,0.057124000042677));
res += mul(Get(s2,dx,0), float4x4(-0.009615774266422,0.029038490727544,0.175444528460503,0.018419181928039,-0.107176154851913,-0.063215158879757,-0.150238931179047,0.116405025124550,-0.064155638217926,0.059088241308928,-0.154665410518646,-0.084672085940838,-0.106673926115036,0.217461302876472,0.124902918934822,0.193130239844322));
res += mul(Get(s2,dx,dy), float4x4(-0.045863594859838,0.175554499030113,-0.006718074902892,-0.038192383944988,0.107127696275711,-0.077723167836666,0.073672167956829,0.040618415921926,0.014038931578398,-0.122154638171196,-0.029772283509374,-0.015778318047523,0.091031715273857,-0.078669622540474,0.117414288222790,-0.182154238224030));
res += mul(Get(s3,-dx,-dy), float4x4(-0.180858820676804,-0.006568744778633,0.068275220692158,-0.064536437392235,0.161649093031883,-0.070419557392597,0.031140090897679,-0.086227290332317,0.055909525603056,0.208993032574654,0.268540412187576,0.067399837076664,-0.194859474897385,0.067397348582745,0.014917842112482,0.109174206852913));
res += mul(Get(s3,-dx,0), float4x4(0.163973793387413,0.021072380244732,-0.137132555246353,-0.061316851526499,-0.037341449409723,-0.075145147740841,0.090136170387268,-0.069020472466946,-0.056365236639977,0.022181861102581,0.068805657327175,-0.082556337118149,0.042584277689457,0.014131322503090,0.093779549002647,-0.042048476636410));
res += mul(Get(s3,-dx,dy), float4x4(-0.163320407271385,-0.046288471668959,0.259565621614456,0.097069874405861,-0.088030673563480,-0.182056173682213,0.040593504905701,0.187903106212616,0.024386512115598,-0.065849222242832,0.031982060521841,0.022039959207177,-0.202313676476479,-0.090434506535530,-0.022260813042521,-0.001661925693043));
res += mul(Get(s3,0,-dy), float4x4(-0.108365528285503,-0.000829706434160,-0.047983080148697,-0.071498468518257,0.118948332965374,0.166345149278641,0.142892271280289,-0.156048849225044,-0.090778380632401,-0.047164831310511,0.072661951184273,-0.069717399775982,-0.040486685931683,0.133946478366852,0.064368888735771,0.220768019556999));
res += mul(Get(s3,0,0), float4x4(-0.022844798862934,0.124950990080833,0.102471664547920,-0.042878612875938,-0.056174255907536,-0.154152601957321,-0.047051787376404,-0.082145601511002,-0.065603770315647,-0.013659067451954,-0.066677607595921,0.063045196235180,0.111297830939293,0.082313813269138,-0.044867612421513,-0.098044149577618));
res += mul(Get(s3,0,dy), float4x4(-0.298517644405365,-0.175729900598526,-0.177650719881058,0.109191477298737,-0.149875834584236,-0.022476540878415,-0.013490248471498,0.014348978176713,-0.128939554095268,-0.024062680080533,0.038000196218491,0.035919055342674,0.183464631438255,-0.119815185666084,0.184494346380234,-0.061023406684399));
res += mul(Get(s3,dx,-dy), float4x4(0.171031937003136,-0.118510134518147,0.001735690399073,0.030257640406489,-0.107495903968811,0.066906258463860,-0.085047930479050,0.093765430152416,0.017543233931065,0.164834767580032,-0.029639964923263,-0.198574721813202,0.046184930950403,0.135887548327446,-0.144121363759041,0.089544646441936));
res += mul(Get(s3,dx,0), float4x4(-0.035995882004499,0.125879049301147,-0.048026051372290,0.051359385251999,0.105345398187637,-0.076955281198025,-0.093175582587719,0.070822566747665,-0.039687272161245,-0.033303506672382,-0.131138339638710,0.113467112183571,-0.018778396770358,0.258448690176010,0.004956097342074,0.026948176324368));
res += mul(Get(s3,dx,dy), float4x4(-0.051638036966324,0.025059362873435,-0.043233405798674,-0.162648841738701,-0.032884426414967,0.107291914522648,0.058783020824194,0.092356503009796,-0.078100226819515,-0.041738204658031,0.121846526861191,-0.042213570326567,-0.026036903262138,-0.037799961864948,-0.054103415459394,-0.030318293720484));
return max(float4(0,0,0,0), res);
}
