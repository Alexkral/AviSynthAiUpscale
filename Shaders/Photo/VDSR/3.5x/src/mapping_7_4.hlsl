sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.129460513591766,-0.200481906533241,0.176985472440720,0.084892705082893,-0.044431950896978,-0.113738276064396,0.054632026702166,0.045073106884956,0.041147768497467,-0.015745526179671,-0.089277289807796,-0.119807861745358,-0.001246817526408,-0.078648574650288,0.022156370803714,-0.015159606002271));
res += mul(Get(s0,-dx,0), float4x4(0.004062303341925,0.091214984655380,0.130717933177948,0.070118092000484,-0.059826388955116,0.029825229197741,0.030972650274634,0.232758671045303,-0.129683271050453,-0.088060311973095,-0.075545281171799,0.044093966484070,-0.053612500429153,-0.061678275465965,0.005781012587249,0.031189171597362));
res += mul(Get(s0,-dx,dy), float4x4(-0.023354917764664,-0.019680567085743,-0.020196385681629,0.207911208271980,-0.020811123773456,0.023615155369043,-0.071051262319088,0.135788530111313,-0.042762428522110,0.054861444979906,0.027563361451030,-0.072120457887650,-0.038341809064150,0.046940885484219,0.056782316416502,0.038830589503050));
res += mul(Get(s0,0,-dy), float4x4(-0.056938126683235,-0.081379011273384,0.110817462205887,-0.119703099131584,-0.096928671002388,-0.017057258635759,0.010142714716494,-0.099251814186573,0.154613405466080,-0.125780209898949,-0.042070094496012,-0.093242153525352,-0.047199621796608,-0.047416310757399,0.020280921831727,0.078366637229919));
res += mul(Get(s0,0,0), float4x4(0.202555507421494,0.121191650629044,-0.064871795475483,-0.085138462483883,0.026088854297996,0.092643134295940,-0.033731646835804,-0.083176739513874,0.046678684651852,-0.086145065724850,-0.084511935710907,-0.100807629525661,-0.074780218303204,0.001049075857736,-0.052775681018829,-0.024945342913270));
res += mul(Get(s0,0,dy), float4x4(0.052609652280807,0.083362579345703,0.035747610032558,-0.145832523703575,-0.000213221399463,-0.064374409615993,-0.058258581906557,0.060897868126631,0.130952686071396,-0.032390750944614,-0.011988285928965,-0.022392962127924,0.022503132000566,-0.054058127105236,-0.098496638238430,0.002217964734882));
res += mul(Get(s0,dx,-dy), float4x4(-0.172476142644882,0.076895363628864,-0.016127575188875,-0.103365719318390,-0.067890308797359,0.035322543233633,-0.054245002567768,0.131295308470726,-0.044213496148586,0.003822928993031,0.007982147857547,0.052578795701265,0.050240516662598,0.056825522333384,0.040287770330906,0.046594619750977));
res += mul(Get(s0,dx,0), float4x4(-0.011929469183087,0.053995512425900,-0.022350128740072,-0.064387075603008,-0.069713763892651,0.000676501251291,-0.038033232092857,-0.134843021631241,-0.124007739126682,-0.171715453267097,-0.030723029747605,-0.089066356420517,0.086180314421654,0.030542373657227,0.060456965118647,-0.059481032192707));
res += mul(Get(s0,dx,dy), float4x4(0.047335546463728,0.001310766325332,-0.008166039362550,-0.013666261918843,0.031210632994771,0.054991666227579,0.105457298457623,-0.249830499291420,-0.069018080830574,-0.135734841227531,0.053952585905790,0.031303036957979,0.011758414097130,-0.067673064768314,-0.120605990290642,0.036544390022755));
res += mul(Get(s1,-dx,-dy), float4x4(-0.158821552991867,-0.047176152467728,-0.094458259642124,-0.123598501086235,0.166328877210617,-0.013596234843135,-0.081452049314976,0.028465518727899,0.011545248329639,-0.025058446452022,-0.185094282031059,-0.193669691681862,0.104448482394218,0.038114055991173,-0.059939153492451,-0.141834363341331));
res += mul(Get(s1,-dx,0), float4x4(0.164125666022301,0.245961591601372,-0.106416247785091,-0.041483525186777,0.026267105713487,0.042659386992455,-0.022081153467298,-0.012958799488842,0.105822242796421,-0.051526535302401,-0.140016645193100,-0.139183148741722,-0.034572742879391,-0.001148637034930,-0.032387468963861,-0.140657559037209));
res += mul(Get(s1,-dx,dy), float4x4(0.186838179826736,-0.024296130985022,-0.139423862099648,0.006063894834369,-0.006846685893834,0.065665975213051,-0.118118427693844,0.054749067872763,0.139754816889763,0.097894482314587,-0.141558751463890,-0.189271733164787,0.022339120507240,-0.017744144424796,-0.049061775207520,0.222759544849396));
res += mul(Get(s1,0,-dy), float4x4(0.088712140917778,-0.051705989986658,-0.006773461122066,-0.118639245629311,0.085005745291710,0.017389928922057,-0.055063612759113,0.144904091954231,-0.178037241101265,-0.122574761509895,-0.078347906470299,-0.043585967272520,-0.068241246044636,-0.097343422472477,-0.011593661271036,-0.020718209445477));
res += mul(Get(s1,0,0), float4x4(0.162383750081062,0.141484469175339,-0.032961834222078,-0.037542041391134,-0.037023477256298,-0.116452038288116,-0.040569182485342,0.021191796287894,-0.053495511412621,-0.139743164181709,-0.014272140339017,0.084277980029583,-0.007064767647535,0.098303407430649,-0.037259060889482,-0.006603105459362));
res += mul(Get(s1,0,dy), float4x4(-0.086316309869289,0.001029801554978,-0.068602062761784,0.161129370331764,-0.019360583275557,-0.098107978701591,-0.043018493801355,-0.038448102772236,-0.104777671396732,0.036303110420704,-0.101013578474522,-0.077135846018791,0.065890863537788,0.029499435797334,-0.032648321241140,0.176533684134483));
res += mul(Get(s1,dx,-dy), float4x4(-0.004916978534311,-0.093279354274273,0.049707423895597,-0.051430840045214,0.002751399762928,0.141874924302101,-0.052858706563711,0.173143789172173,0.119998872280121,-0.063158631324768,-0.076863028109074,0.063466139137745,0.000743603508454,-0.142445832490921,0.038813214749098,0.022571580484509));
res += mul(Get(s1,dx,0), float4x4(-0.048842944204807,0.066146403551102,0.034112781286240,0.008424292318523,-0.052228495478630,0.105198539793491,-0.042126908898354,0.117765188217163,-0.005792689975351,-0.093481384217739,0.029711700975895,0.155836343765259,0.169997677206993,-0.055537946522236,0.032576289027929,0.019565533846617));
res += mul(Get(s1,dx,dy), float4x4(-0.162348762154579,0.039342407137156,0.080026708543301,0.074258975684643,-0.124184288084507,-0.006909774616361,-0.010745205916464,0.044196311384439,0.054445572197437,0.014085469767451,-0.040243819355965,0.136131376028061,0.000293268298265,-0.028601301833987,0.046374164521694,0.068189896643162));
res += mul(Get(s2,-dx,-dy), float4x4(0.036015562713146,-0.149103149771690,-0.048747640103102,0.012396090663970,-0.006810072343796,0.103409200906754,-0.028827166184783,0.107050746679306,0.104860126972198,-0.024762412533164,-0.030694957822561,0.057173591107130,-0.141321346163750,0.019306031987071,0.166017338633537,0.103945933282375));
res += mul(Get(s2,-dx,0), float4x4(0.060165304690599,0.020940236747265,0.007583108264953,-0.064400680363178,0.257914990186691,0.054152265191078,0.045838307589293,0.057590652257204,-0.019989566877484,0.075368888676167,0.035907912999392,-0.030807988718152,-0.064178630709648,-0.063831046223640,0.040579382330179,-0.077651634812355));
res += mul(Get(s2,-dx,dy), float4x4(-0.129080459475517,0.268792152404785,0.000003390846587,0.120235607028008,0.090910822153091,0.021882116794586,-0.012150398455560,-0.110049463808537,-0.006708854809403,0.122130431234837,-0.027154585346580,-0.226141765713692,-0.062431778758764,-0.021266287192702,0.132014006376266,-0.145337492227554));
res += mul(Get(s2,0,-dy), float4x4(-0.024928655475378,-0.125999897718430,-0.083639137446880,0.166056498885155,-0.209832116961479,0.182294920086861,-0.085058122873306,-0.117786064743996,-0.062119938433170,0.110695995390415,0.012658264487982,-0.040851499885321,-0.015072735957801,-0.088006913661957,-0.018121736124158,-0.005137242842466));
res += mul(Get(s2,0,0), float4x4(0.037477597594261,-0.175300106406212,-0.047526173293591,-0.049029752612114,0.002668339293450,-0.092729173600674,-0.046612013131380,0.029763031750917,-0.021753152832389,0.064973533153534,-0.138276070356369,-0.070502132177353,0.093228101730347,-0.091527760028839,0.053234566003084,0.018740175291896));
res += mul(Get(s2,0,dy), float4x4(-0.022419219836593,-0.045261275023222,-0.035784929990768,0.001492494600825,0.155175000429153,-0.026885420084000,0.011207196861506,-0.020072372630239,0.128207772970200,-0.164823174476624,-0.019024156033993,-0.139257252216339,0.120906576514244,-0.085100628435612,-0.041832301765680,-0.210745245218277));
res += mul(Get(s2,dx,-dy), float4x4(-0.024750491604209,-0.103899881243706,0.000986413680948,0.153138592839241,-0.209524616599083,0.078630983829498,-0.015438226051629,0.024685064330697,0.151010632514954,-0.078000269830227,0.125072732567787,0.087088517844677,-0.123191826045513,-0.197442874312401,0.290860801935196,-0.069367587566376));
res += mul(Get(s2,dx,0), float4x4(-0.061236012727022,-0.018756128847599,0.048781350255013,-0.065456688404083,0.007557319477201,0.086989618837833,0.030495131388307,0.106249272823334,0.062623798847198,-0.113607540726662,0.065052226185799,-0.033991299569607,-0.023945385590196,-0.132799550890923,0.119332194328308,0.180983260273933));
res += mul(Get(s2,dx,dy), float4x4(-0.024822831153870,-0.109910279512405,0.003217441029847,0.004423214588314,0.018752427771688,0.115801528096199,-0.061172112822533,0.079591311514378,0.113407887518406,-0.130434885621071,-0.017810938879848,-0.049596343189478,-0.038122504949570,-0.163880735635757,0.082793027162552,-0.051828205585480));
res += mul(Get(s3,-dx,-dy), float4x4(-0.064926542341709,0.032501686364412,-0.032137058675289,-0.138335734605789,-0.010333935730159,0.001180215273052,-0.014966998249292,-0.042737498879433,-0.043510172516108,-0.137704074382782,0.089521594345570,0.062344748526812,-0.111998386681080,0.059343971312046,0.001568273757584,-0.154757931828499));
res += mul(Get(s3,-dx,0), float4x4(0.053460147231817,0.255888998508453,-0.019791102036834,-0.082101739943027,-0.094555988907814,0.070223264396191,0.004701423924416,0.027614863589406,-0.091956824064255,-0.000100248631497,0.063221283257008,-0.016525637358427,0.011369865387678,0.083361648023129,-0.145744279026985,0.072450213134289));
res += mul(Get(s3,-dx,dy), float4x4(-0.053399253636599,0.193639278411865,-0.037959095090628,-0.174046903848648,-0.025680968537927,0.014389677904546,-0.013552479445934,0.083327926695347,-0.090944088995457,0.160589888691902,-0.001443631481379,-0.043366715312004,0.143309012055397,-0.034148886799812,0.006030746735632,0.020648008212447));
res += mul(Get(s3,0,-dy), float4x4(-0.018923224881291,0.177119448781013,0.048882585018873,-0.067252464592457,-0.026096658781171,-0.120442017912865,0.062851965427399,-0.014384010806680,-0.050431519746780,0.081680260598660,-0.009085694327950,-0.033953193575144,0.045446190983057,0.060614179819822,0.041105370968580,-0.087678648531437));
res += mul(Get(s3,0,0), float4x4(0.155654907226563,0.030585188418627,-0.076307579874992,0.045574989169836,0.016839073970914,0.027226937934756,-0.018265083432198,-0.009274053387344,0.034105695784092,0.080509677529335,0.046444527804852,0.054159015417099,0.088533572852612,0.124882645905018,-0.006073393858969,0.147469773888588));
res += mul(Get(s3,0,dy), float4x4(-0.048211257904768,-0.101483926177025,0.186118543148041,-0.116679564118385,0.012967159040272,0.026789542287588,0.040995791554451,-0.045040905475616,-0.047213453799486,0.093754857778549,-0.011856967583299,-0.012012477032840,-0.003084892872721,0.113755784928799,0.115200921893120,0.161147385835648));
res += mul(Get(s3,dx,-dy), float4x4(0.160300925374031,-0.094102330505848,0.089267574250698,0.014962253160775,0.136318400502205,-0.174755245447159,0.056694310158491,-0.134913757443428,-0.063179917633533,-0.182758748531342,0.002092033624649,0.010977345518768,-0.111102171242237,-0.053947161883116,0.036544911563396,-0.036767613142729));
res += mul(Get(s3,dx,0), float4x4(0.166085436940193,-0.026272002607584,0.022312365472317,-0.057657212018967,0.126141011714935,-0.074857033789158,0.058126851916313,-0.096250690519810,-0.010699007660151,-0.014892166480422,0.013389507308602,-0.057610254734755,-0.046940721571445,-0.070886835455894,-0.065606266260147,0.073754742741585));
res += mul(Get(s3,dx,dy), float4x4(0.054695032536983,0.003790266579017,0.269493758678436,-0.233112409710884,-0.046524740755558,-0.115561708807945,0.166405081748962,-0.054037734866142,0.063845857977867,-0.015966836363077,-0.032541237771511,0.001653446466662,-0.043802253901958,0.024615956470370,-0.051113188266754,0.181641474366188));
return max(float4(0,0,0,0), res);
}
