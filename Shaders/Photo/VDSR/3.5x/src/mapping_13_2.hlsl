sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.212280407547951,0.097549937665462,-0.054757092148066,-0.112815238535404,-0.006261837203056,-0.134893909096718,-0.062042482197285,-0.036506053060293,0.030891479924321,0.030105309560895,0.092541486024857,-0.054581247270107,0.066170752048492,-0.003693038830534,-0.025093505159020,0.092571824789047));
res += mul(Get(s0,-dx,0), float4x4(-0.033113263547421,0.139467537403107,0.153402939438820,-0.002150201005861,0.008060769177973,0.091981828212738,0.060359012335539,-0.077909536659718,0.014199892058969,0.233348250389099,0.073054566979408,-0.224884539842606,0.097580954432487,0.243463486433029,0.150235578417778,0.092370510101318));
res += mul(Get(s0,-dx,dy), float4x4(-0.033662341535091,0.064277544617653,0.200150132179260,0.157431557774544,-0.044422514736652,-0.031115347519517,0.033199317753315,0.046991251409054,-0.016490938141942,-0.105252526700497,-0.070153854787350,-0.082503259181976,-0.153306379914284,0.062839403748512,0.073937907814980,-0.074526488780975));
res += mul(Get(s0,0,-dy), float4x4(-0.075113750994205,-0.084614545106888,0.069513179361820,0.176932051777840,0.200467348098755,0.166126742959023,-0.150754988193512,0.042196050286293,-0.158632397651672,0.176988333463669,0.037456244230270,-0.109257742762566,-0.059925828129053,0.139371439814568,0.146055206656456,0.058928962796926));
res += mul(Get(s0,0,0), float4x4(0.017081929370761,0.006028133910149,-0.201536998152733,-0.151473894715309,0.139601394534111,0.171853005886078,-0.048782330006361,-0.042859584093094,0.101539932191372,-0.062031738460064,-0.085936963558197,-0.088214315474033,-0.165898948907852,0.067906551063061,0.078958742320538,-0.193434104323387));
res += mul(Get(s0,0,dy), float4x4(-0.037922039628029,0.003720640670508,0.118944652378559,-0.019314412027597,0.175831794738770,0.213765963912010,0.080332837998867,0.156877085566521,-0.097145617008209,0.147747918963432,-0.095731660723686,-0.066122055053711,0.063694447278976,-0.070338733494282,0.030586538836360,0.109511546790600));
res += mul(Get(s0,dx,-dy), float4x4(0.039729338139296,-0.059433847665787,0.046986348927021,-0.046045951545238,-0.123988285660744,-0.012527852319181,0.050176206976175,-0.155750870704651,0.087728902697563,-0.040643140673637,0.012812377884984,-0.090381994843483,0.050706617534161,0.168702021241188,-0.054056610912085,0.048547588288784));
res += mul(Get(s0,dx,0), float4x4(-0.014199924655259,0.064000472426414,0.072786591947079,-0.065659642219543,-0.127537161111832,-0.115264832973480,0.140092179179192,0.008737473748624,-0.092112340033054,0.002495032502338,0.105437442660332,-0.036568641662598,-0.060430098325014,-0.090053483843803,-0.047959845513105,-0.075310871005058));
res += mul(Get(s0,dx,dy), float4x4(-0.146609425544739,-0.102260537445545,0.165819928050041,0.147579535841942,0.044354639947414,-0.089815847575665,-0.044708173722029,-0.123662985861301,0.111786231398582,-0.065599277615547,-0.118780806660652,-0.035008817911148,-0.121206179261208,0.080176174640656,-0.037285726517439,-0.042717903852463));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009562063962221,0.044051777571440,-0.071723200380802,-0.024758895859122,0.271200299263000,0.041131883859634,0.070305414497852,0.073939085006714,-0.054341211915016,0.105890944600105,0.097879253327847,0.006613597739488,-0.073621734976768,0.296823769807816,0.039120871573687,0.120495013892651));
res += mul(Get(s1,-dx,0), float4x4(-0.022212892770767,0.031373322010040,0.009969892911613,0.016817048192024,-0.074279934167862,-0.032194968312979,-0.118981949985027,0.209390580654144,0.081866540014744,-0.002469378989190,0.030668495222926,0.058548610657454,-0.067782044410706,-0.069716542959213,0.076255664229393,0.015270772390068));
res += mul(Get(s1,-dx,dy), float4x4(-0.007941067218781,0.126918300986290,0.052092116326094,-0.026273697614670,-0.104260109364986,0.130481839179993,-0.153255134820938,-0.088487103581429,-0.106016784906387,0.202232897281647,0.066056244075298,-0.020978551357985,-0.032547563314438,-0.203281491994858,-0.269780069589615,-0.094265475869179));
res += mul(Get(s1,0,-dy), float4x4(0.006475562229753,0.117158204317093,0.007379440125078,-0.024303808808327,-0.053506985306740,0.032264821231365,0.124669298529625,-0.081136442720890,-0.012819299474359,-0.149619206786156,0.079274430871010,0.178361564874649,-0.118686281144619,0.189740717411041,0.025867430493236,0.035719390958548));
res += mul(Get(s1,0,0), float4x4(-0.024856040254235,0.028514508157969,0.271716266870499,0.104109011590481,0.082565881311893,-0.071490891277790,-0.044170212000608,0.214920744299889,0.005221412051469,0.096789076924324,-0.004672748968005,-0.006145805586129,0.085434280335903,0.258522003889084,-0.016925439238548,-0.147802338004112));
res += mul(Get(s1,0,dy), float4x4(0.033723119646311,-0.032818101346493,-0.036606732755899,-0.022723870351911,-0.020377229899168,0.095038287341595,0.161143779754639,-0.138052612543106,0.010244168341160,0.018268007785082,-0.007427844684571,-0.030425135046244,0.004858951549977,-0.002567015355453,0.078921176493168,0.031889569014311));
res += mul(Get(s1,dx,-dy), float4x4(-0.334537267684937,-0.037073161453009,0.065380915999413,-0.011063205078244,0.019320497289300,0.000200643218704,0.032617617398500,-0.069054231047630,0.052079867571592,-0.025530193001032,0.014472409151495,-0.006481403950602,0.002509818645194,0.179615661501884,-0.100590966641903,-0.029310235753655));
res += mul(Get(s1,dx,0), float4x4(-0.001418216386810,0.274017095565796,-0.075393825769424,0.120390303432941,0.059790559113026,-0.026052188128233,-0.041093550622463,0.208468422293663,-0.118112683296204,0.089957170188427,-0.043751843273640,0.063872769474983,0.029833421111107,0.005716430023313,-0.044116850942373,-0.054718717932701));
res += mul(Get(s1,dx,dy), float4x4(0.113648168742657,-0.041487656533718,-0.052550580352545,0.226525306701660,-0.003308274317533,-0.148321732878685,-0.162642806768417,-0.025274211540818,-0.055956985801458,-0.245501548051834,-0.008951376192272,-0.202057763934135,0.065484747290611,0.144374191761017,0.019524138420820,0.098065190017223));
res += mul(Get(s2,-dx,-dy), float4x4(-0.164594829082489,-0.066733129322529,-0.068113282322884,0.006623510271311,0.000824378395919,0.021372977644205,-0.017192669212818,-0.134424552321434,-0.078358106315136,-0.004484077915549,0.007199611514807,0.026035562157631,-0.136880472302437,-0.005472859367728,0.053250867873430,-0.124396219849586));
res += mul(Get(s2,-dx,0), float4x4(0.011866590939462,0.066986232995987,0.036455255001783,-0.019999144598842,-0.013638887554407,0.118362955749035,-0.069496437907219,0.040604673326015,0.087591350078583,0.150405153632164,-0.106870114803314,-0.071940630674362,0.005130471196026,0.182321488857269,0.005685741081834,-0.135037809610367));
res += mul(Get(s2,-dx,dy), float4x4(0.107969440519810,0.113072708249092,0.096230700612068,0.055153284221888,0.247831538319588,0.206804662942886,-0.028862074017525,-0.081066809594631,0.170911207795143,0.003482922911644,0.136742621660233,0.053688846528530,-0.130593091249466,0.050712894648314,0.064503319561481,0.047449477016926));
res += mul(Get(s2,0,-dy), float4x4(0.021525351330638,-0.088802345097065,-0.115728072822094,-0.054296597838402,-0.067740812897682,-0.038052409887314,-0.043288797140121,0.016893589869142,-0.085901357233524,-0.033579122275114,-0.012341421097517,0.001409406191669,-0.009794944897294,-0.020284453406930,-0.104657717049122,-0.154996261000633));
res += mul(Get(s2,0,0), float4x4(-0.184511497616768,-0.134531855583191,0.115752495825291,-0.033394291996956,0.063506111502647,0.012495028786361,0.058785729110241,0.005257206968963,-0.139052167534828,-0.078703381121159,0.128663063049316,-0.033531080931425,0.005371185950935,-0.200783699750900,-0.129927694797516,-0.108149334788322));
res += mul(Get(s2,0,dy), float4x4(0.047700788825750,0.127078026533127,0.066933780908585,0.149768576025963,0.130449220538139,0.339977800846100,-0.105846948921680,-0.052882015705109,-0.020669279620051,0.024738859385252,-0.094635710120201,0.132782876491547,-0.056590098887682,0.068051718175411,0.196446090936661,0.048092458397150));
res += mul(Get(s2,dx,-dy), float4x4(0.035472717136145,-0.238557741045952,-0.014760437421501,0.078925646841526,-0.142885118722916,-0.135442540049553,-0.155357062816620,0.119064778089523,-0.060312941670418,0.010429736226797,0.068680912256241,-0.071972027420998,0.055753290653229,-0.051556251943111,-0.208962306380272,-0.121566034853458));
res += mul(Get(s2,dx,0), float4x4(-0.056619510054588,0.005698523018509,0.077077880501747,0.000167744554346,-0.093349315226078,0.022415973246098,0.168946892023087,-0.012349739670753,-0.001877611270174,-0.095515042543411,0.026306375861168,-0.008165305480361,0.052837390452623,0.014108820818365,0.029957998543978,-0.082846090197563));
res += mul(Get(s2,dx,dy), float4x4(-0.142879426479340,0.060985453426838,-0.111704938113689,0.026553792878985,-0.041374240070581,-0.131434902548790,-0.036772675812244,-0.210960611701012,-0.101659625768661,-0.075836822390556,0.124612547457218,0.151128336787224,-0.001297393464483,0.019367637112737,0.237461358308792,-0.107887938618660));
res += mul(Get(s3,-dx,-dy), float4x4(-0.065684095025063,-0.017873706296086,-0.033211398869753,0.044782303273678,-0.073826178908348,-0.066889047622681,0.039089087396860,-0.151682242751122,0.039338979870081,-0.178195893764496,0.185000851750374,0.090897217392921,0.005781341344118,-0.099699206650257,0.012283728457987,0.270876973867416));
res += mul(Get(s3,-dx,0), float4x4(-0.055650513619184,-0.139815166592598,0.022866971790791,0.059499479830265,-0.001464292290621,-0.053495436906815,0.017861617729068,-0.108420424163342,0.012218956835568,0.042953982949257,0.012875351123512,0.112209603190422,0.087745025753975,0.069809384644032,0.119178153574467,-0.103038311004639));
res += mul(Get(s3,-dx,dy), float4x4(-0.157639250159264,0.058748379349709,-0.178472608327866,0.024015871807933,-0.015369130298495,0.031515408307314,0.125899046659470,0.125448271632195,-0.179774656891823,-0.048294238746166,0.097542829811573,0.023250782862306,0.056824631989002,0.081181056797504,-0.129049450159073,-0.097923144698143));
res += mul(Get(s3,0,-dy), float4x4(0.110251657664776,0.100683011114597,-0.176471859216690,-0.011825214140117,0.010991459712386,-0.028149304911494,-0.061307821422815,-0.149825930595398,0.020287819206715,0.086444325745106,-0.082166314125061,-0.034344539046288,-0.199010789394379,0.059130035340786,0.235605210065842,-0.101534768939018));
res += mul(Get(s3,0,0), float4x4(-0.012736008502543,0.238697856664658,-0.006488217040896,-0.021741548553109,0.035877235233784,0.052657686173916,-0.166130125522614,-0.040138199925423,0.036663532257080,0.136605560779572,0.125929623842239,-0.061444062739611,0.057902581989765,-0.024948574602604,0.106997922062874,-0.090972043573856));
res += mul(Get(s3,0,dy), float4x4(0.123972050845623,-0.095986254513264,-0.125610396265984,0.044339302927256,0.133018091320992,0.009280453436077,0.199633881449699,0.124669589102268,0.004631212912500,-0.041893344372511,-0.045360811054707,-0.154256209731102,-0.058337036520243,-0.079089812934399,0.137027636170387,-0.046144839376211));
res += mul(Get(s3,dx,-dy), float4x4(0.073538757860661,-0.032713610678911,-0.067702807486057,0.086150951683521,0.025284091010690,-0.241332888603210,0.090772680938244,-0.142308786511421,0.026249147951603,-0.046415466815233,0.063003480434418,0.122602045536041,-0.135267019271851,0.075619913637638,0.113792307674885,0.006207398604602));
res += mul(Get(s3,dx,0), float4x4(-0.001027848105878,-0.186641514301300,-0.097145102918148,0.056704331189394,-0.028045471757650,-0.037557717412710,0.131572037935257,0.171933606266975,-0.087583988904953,0.004296691156924,0.098806254565716,-0.060669008642435,-0.129281148314476,0.057518862187862,0.316266268491745,0.012445248663425));
res += mul(Get(s3,dx,dy), float4x4(-0.055944338440895,0.038499914109707,-0.007580911274999,0.043804179877043,-0.138094529509544,-0.019564073532820,0.349919676780701,0.229386344552040,0.192921519279480,0.123591057956219,-0.139576986432076,-0.051192335784435,0.107259660959244,-0.023669870570302,-0.005293397698551,-0.360322654247284));
return max(float4(0,0,0,0), res);
}
