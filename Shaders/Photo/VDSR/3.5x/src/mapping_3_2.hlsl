sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.232926100492477,-0.145934149622917,-0.068216159939766,-0.189282134175301,0.063383258879185,-0.039230089634657,-0.066477432847023,0.046380568295717,0.030988074839115,-0.158601820468903,-0.143866345286369,-0.141862228512764,0.017169851809740,-0.021402420476079,-0.183248117566109,-0.013248247094452));
res += mul(Get(s0,-dx,0), float4x4(-0.011345818638802,0.008015974424779,-0.088202074170113,0.061327077448368,0.009808395057917,-0.028864985331893,-0.007597328629345,0.001018978655338,-0.002621555002406,-0.050274986773729,-0.048457618802786,0.024216206744313,-0.027385966852307,-0.011091429740191,-0.027865365147591,-0.094072453677654));
res += mul(Get(s0,-dx,dy), float4x4(0.030590936541557,-0.072303079068661,-0.020965669304132,0.028564155101776,0.099028505384922,-0.019324591383338,0.059610329568386,0.002252716571093,0.027523379772902,0.012867515906692,0.085175618529320,0.057613790035248,0.036916568875313,-0.099740542471409,0.070465348660946,-0.009618056938052));
res += mul(Get(s0,0,-dy), float4x4(0.105161361396313,-0.062317840754986,0.054455745965242,-0.151496484875679,0.180481821298599,0.010235972702503,-0.023082468658686,-0.019418116658926,-0.080195285379887,-0.080279678106308,-0.023239059373736,0.038384370505810,0.038543689996004,-0.062672108411789,-0.114358976483345,0.028391271829605));
res += mul(Get(s0,0,0), float4x4(0.022552119567990,0.023630494251847,0.231592357158661,0.141514122486115,0.036170918494463,0.033428944647312,-0.030411709100008,-0.017111903056502,-0.110240563750267,-0.023018533363938,0.120461344718933,0.055004935711622,-0.037571772933006,0.088332012295723,-0.087084725499153,-0.019552119076252));
res += mul(Get(s0,0,dy), float4x4(-0.114563114941120,-0.129665955901146,0.196806296706200,0.161875605583191,0.054822292178869,-0.007265507243574,-0.011497206985950,-0.014692424796522,0.034123145043850,0.152481943368912,0.071582116186619,0.001157197169960,0.028646485880017,-0.003504569176584,0.043274838477373,-0.031794659793377));
res += mul(Get(s0,dx,-dy), float4x4(-0.073528662323952,-0.087156638503075,-0.073777019977570,-0.015071074478328,0.190407365560532,0.012118558399379,-0.060261353850365,-0.068085521459579,-0.077474504709244,0.070372186601162,-0.021361960098147,0.001468874514103,-0.030842782929540,-0.080183230340481,0.033744949847460,0.353845655918121));
res += mul(Get(s0,dx,0), float4x4(0.147552177309990,-0.015729419887066,0.003557567019016,0.102779075503349,0.015873337164521,0.003423534100875,-0.094305880367756,-0.058503732085228,-0.073935896158218,0.119210951030254,0.095453657209873,-0.062035184353590,0.040540486574173,0.104502178728580,0.058537550270557,0.133796617388725));
res += mul(Get(s0,dx,dy), float4x4(0.069159328937531,0.045308724045753,0.014997088350356,-0.208718225359917,-0.041953928768635,-0.054014164954424,-0.084211133420467,-0.064845398068428,0.068706877529621,0.124421730637550,-0.008405840955675,-0.095809496939182,0.048272285610437,-0.080410137772560,0.067501313984394,-0.035604231059551));
res += mul(Get(s1,-dx,-dy), float4x4(-0.031300209462643,-0.055993560701609,-0.050720524042845,-0.058266695588827,0.133620977401733,-0.303898721933365,-0.112592175602913,0.145097672939301,-0.042883105576038,-0.130862548947334,0.022177536040545,-0.142467260360718,-0.028298523277044,-0.061186231672764,-0.055104348808527,-0.110674753785133));
res += mul(Get(s1,-dx,0), float4x4(-0.027149077504873,0.016112796962261,-0.002594455610961,0.076052419841290,0.044491555541754,0.111684523522854,-0.006171924527735,0.052321933209896,0.033190075308084,-0.030474256724119,0.039434537291527,-0.063394591212273,0.103607803583145,0.078647710382938,-0.043708834797144,0.072125472128391));
res += mul(Get(s1,-dx,dy), float4x4(0.133933603763580,-0.150892600417137,0.060171179473400,0.129747688770294,0.009559256024659,-0.146162956953049,-0.163266226649284,0.040826417505741,-0.020844817161560,-0.103132165968418,0.060117259621620,-0.088982120156288,-0.009148353710771,0.109032005071640,0.004864151589572,0.051266878843307));
res += mul(Get(s1,0,-dy), float4x4(0.041139621287584,0.003853843081743,0.036792848259211,0.147422105073929,0.082909077405930,-0.072585850954056,-0.128044068813324,-0.017054460942745,0.010790320113301,-0.080285996198654,0.070980802178383,-0.001389747019857,-0.067052081227303,-0.016106870025396,0.063984341919422,0.024385258555412));
res += mul(Get(s1,0,0), float4x4(0.069672033190727,0.013453901745379,-0.012927737087011,0.205759733915329,-0.108958676457405,0.195735514163971,0.011615272611380,-0.001568750827573,0.061961337924004,0.017185127362609,0.105266049504280,0.159352079033852,0.093034967780113,-0.054093800485134,0.017588973045349,0.189236059784889));
res += mul(Get(s1,0,dy), float4x4(0.183069869875908,-0.124534927308559,-0.091404169797897,-0.053460177034140,-0.067482948303223,0.037283238023520,-0.056724857538939,0.023674832656980,-0.037717379629612,-0.033365413546562,0.088074341416359,0.102511391043663,-0.111870370805264,0.016652915626764,0.110701151192188,0.066098742187023));
res += mul(Get(s1,dx,-dy), float4x4(0.038524892181158,-0.122390151023865,0.019548874348402,-0.028137398883700,-0.131942048668861,-0.092813126742840,-0.145845472812653,-0.071334391832352,-0.052980232983828,-0.009347616694868,-0.049074206501245,-0.123712912201881,-0.034806683659554,-0.039145622402430,0.070325203239918,0.056396562606096));
res += mul(Get(s1,dx,0), float4x4(-0.066906511783600,0.074634976685047,-0.091742523014545,-0.023708095774055,-0.122381061315536,0.028957363218069,0.066472172737122,-0.003819634672254,0.036005720496178,0.094186455011368,-0.013593956828117,-0.030767325311899,0.190982848405838,-0.067688882350922,0.020083010196686,0.112720042467117));
res += mul(Get(s1,dx,dy), float4x4(-0.069396339356899,0.036324657499790,-0.141598328948021,-0.254311531782150,-0.003155571874231,-0.205186188220978,0.008352187462151,0.006475740578026,0.016875835135579,0.062795668840408,-0.094003744423389,-0.146328940987587,0.012002797797322,-0.079816780984402,0.074853092432022,0.022976407781243));
res += mul(Get(s2,-dx,-dy), float4x4(-0.074155181646347,-0.050640422850847,0.193594381213188,-0.095040775835514,-0.020628090947866,-0.014863600023091,0.041262615472078,0.061985060572624,-0.228701382875443,-0.011917573399842,-0.104101158678532,-0.067750655114651,-0.070061840116978,-0.067599765956402,0.005920424126089,0.011776398867369));
res += mul(Get(s2,-dx,0), float4x4(-0.081752568483353,-0.139070600271225,0.133881062269211,0.065267622470856,-0.073167040944099,0.001536675146781,0.039000865072012,0.080263130366802,-0.148869782686234,0.133698523044586,-0.132313385605812,-0.093712747097015,0.003143744543195,0.042382650077343,0.217074438929558,-0.027521111071110));
res += mul(Get(s2,-dx,dy), float4x4(-0.076341934502125,-0.014566634781659,-0.058384936302900,0.106956787407398,0.032899614423513,0.125691398978233,0.045542690902948,-0.005309932399541,-0.127455234527588,0.022091599181294,0.006672896444798,-0.090384833514690,0.023674663156271,0.073298200964928,-0.029977669939399,-0.079024456441402));
res += mul(Get(s2,0,-dy), float4x4(0.016874521970749,-0.031516350805759,-0.014154534786940,0.024553453549743,0.010905721224844,0.184538021683693,-0.037915732711554,-0.019542010501027,-0.210345223546028,0.129639297723770,-0.131591305136681,-0.057785172015429,-0.036613382399082,0.153144910931587,-0.019481981173158,0.016678806394339));
res += mul(Get(s2,0,0), float4x4(0.135149389505386,-0.120346911251545,0.035773772746325,0.139497816562653,-0.076479479670525,0.051112297922373,0.046818595379591,0.075671836733818,-0.181934118270874,0.026150958612561,-0.111693002283573,0.034656338393688,0.052410610020161,0.079314254224300,0.121001228690147,-0.015799136832356));
res += mul(Get(s2,0,dy), float4x4(0.095020763576031,0.041917257010937,-0.040941316634417,0.110725596547127,-0.055946100503206,0.095879629254341,0.040087141096592,-0.006500283721834,-0.101751141250134,-0.026280641555786,-0.101753376424313,-0.079868040978909,-0.032763943076134,-0.079215563833714,-0.027530355378985,-0.037737641483545));
res += mul(Get(s2,dx,-dy), float4x4(-0.100045673549175,0.107676446437836,-0.175331905484200,-0.045591428875923,-0.079807549715042,0.194052323698997,-0.155813977122307,-0.056780818849802,-0.195685908198357,-0.008018355816603,-0.187155485153198,-0.064644053578377,0.009393642656505,0.041027277708054,-0.001499059027992,0.011410798877478));
res += mul(Get(s2,dx,0), float4x4(-0.037026770412922,0.124610543251038,-0.166395947337151,-0.070336692035198,-0.043607890605927,-0.077331036329269,-0.013869505375624,0.069742009043694,-0.247742667794228,-0.015185900963843,0.010770082473755,-0.059865340590477,0.040881045162678,-0.002907969756052,0.106835789978504,-0.043294798582792));
res += mul(Get(s2,dx,dy), float4x4(-0.030042987316847,0.250525623559952,-0.244777411222458,-0.056843496859074,-0.041518244892359,-0.068049460649490,0.018631130456924,-0.059567786753178,-0.092532604932785,0.238864630460739,0.070716246962547,-0.160239621996880,-0.187991350889206,-0.067579261958599,-0.008349514566362,0.027457850053906));
res += mul(Get(s3,-dx,-dy), float4x4(-0.063946917653084,0.044587474316359,0.058286245912313,-0.028769927099347,0.202606990933418,-0.197191774845123,-0.084173388779163,0.123079352080822,-0.064231194555759,0.058354090899229,0.187000066041946,0.122922420501709,-0.168022781610489,-0.043338600546122,0.109211832284927,0.128764092922211));
res += mul(Get(s3,-dx,0), float4x4(-0.048084739595652,-0.181174695491791,0.101350210607052,0.093612693250179,-0.079516381025314,-0.240648195147514,-0.260568767786026,-0.041538909077644,0.071992486715317,-0.033217664808035,0.004872115794569,0.143254339694977,-0.000573681492824,-0.163318991661072,0.030090164393187,0.307022184133530));
res += mul(Get(s3,-dx,dy), float4x4(-0.075945332646370,0.065235830843449,-0.009837811812758,0.074224516749382,-0.064554788172245,-0.095989763736725,0.149289146065712,-0.200257331132889,-0.044614106416702,0.099145308136940,-0.208107009530067,0.046339452266693,0.024677069857717,-0.157776728272438,0.037429209798574,0.203845173120499));
res += mul(Get(s3,0,-dy), float4x4(0.048232886940241,0.053106322884560,-0.013961752876639,-0.019279232248664,0.095208726823330,-0.150846287608147,-0.107152812182903,0.024145362898707,0.026362977921963,0.138217553496361,-0.027621731162071,-0.077902935445309,-0.085323266685009,-0.045287977904081,0.045901555567980,-0.060463897883892));
res += mul(Get(s3,0,0), float4x4(0.025485554710031,-0.101274363696575,0.121272452175617,0.059988185763359,-0.107031442224979,0.757992863655090,0.004768867511302,0.011199815198779,0.066618897020817,-0.106829188764095,-0.027770921587944,0.001997116720304,0.028703341260552,-0.019064137712121,-0.077803187072277,-0.163662448525429));
res += mul(Get(s3,0,dy), float4x4(-0.029191149398685,0.001165077439509,-0.029015263542533,-0.018719773739576,0.055393073707819,0.225354656577110,0.125587642192841,-0.039185956120491,0.038673654198647,0.035769734531641,-0.062159754335880,-0.012669967487454,0.021166997030377,-0.026785848662257,-0.079013220965862,-0.201275080442429));
res += mul(Get(s3,dx,-dy), float4x4(0.035274717956781,0.187664717435837,-0.053442616015673,-0.167875304818153,-0.052810706198215,-0.068802364170551,-0.131027489900589,-0.182157263159752,0.050507619976997,0.118243202567101,-0.104490675032139,-0.094740442931652,-0.048843190073967,0.041724782437086,-0.021851509809494,0.060397870838642));
res += mul(Get(s3,dx,0), float4x4(-0.008925704285502,0.124482855200768,0.056692246347666,-0.039341881871223,-0.059316463768482,0.306091338396072,0.230947330594063,-0.177222535014153,0.014419536106288,-0.026102999225259,0.043221805244684,0.021028654649854,0.052331142127514,0.020846806466579,-0.157505422830582,-0.141120985150337));
res += mul(Get(s3,dx,dy), float4x4(-0.038150649517775,0.142793387174606,0.001155837555416,-0.160689577460289,0.122939556837082,-0.141247153282166,-0.082667373120785,-0.262876540422440,0.142177462577820,0.002594894962385,0.144452959299088,0.059399653226137,-0.035654902458191,-0.119933649897575,-0.141127392649651,-0.198232546448708));
return max(float4(0,0,0,0), res);
}
