sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.099346324801445,0.065699696540833,0.227208867669106,-0.073331452906132,-0.021250484511256,0.031039789319038,0.089257530868053,0.037434540688992,-0.073358133435249,0.095643669366837,0.078217677772045,-0.086977928876877,0.025318285450339,-0.119222611188889,0.039098758250475,-0.042888451367617));
res += mul(Get(s0,-dx,0), float4x4(0.188668146729469,0.071574613451958,0.246024161577225,0.166235312819481,-0.087030939757824,0.068259552121162,0.195649370551109,-0.000085609761300,0.027830196544528,0.202683910727501,-0.044259071350098,-0.060451816767454,0.073917001485825,-0.075692027807236,-0.123217739164829,-0.024700343608856));
res += mul(Get(s0,-dx,dy), float4x4(0.205131977796555,-0.011926347389817,0.292268961668015,0.028247542679310,0.242435663938522,-0.042914245277643,0.026513341814280,-0.096088930964470,0.088253535330296,0.004701276309788,0.017585508525372,0.152832254767418,0.111193649470806,-0.039540518075228,0.005158819258213,0.000061002443545));
res += mul(Get(s0,0,-dy), float4x4(-0.285343348979950,-0.105872765183449,0.194058284163475,-0.013082132674754,0.054345160722733,0.036211974918842,0.031025011092424,-0.033814646303654,0.041198875755072,-0.103074535727501,0.011055864393711,-0.071528553962708,-0.121409542858601,0.074533380568027,-0.036381103098392,-0.062626339495182));
res += mul(Get(s0,0,0), float4x4(-0.015128620900214,-0.234275445342064,0.113260969519615,0.197459176182747,0.160213559865952,0.037025053054094,-0.009584666229784,-0.045717962086201,0.017377253621817,-0.112493664026260,-0.000339897233061,-0.190816566348076,-0.126531213521957,-0.042509160935879,-0.163212597370148,0.043628036975861));
res += mul(Get(s0,0,dy), float4x4(-0.003291354747489,0.021956000477076,-0.071201883256435,0.010682821273804,-0.197111442685127,-0.126458570361137,-0.002221385482699,-0.008718519471586,-0.152134045958519,0.059059169143438,-0.127965375781059,-0.054692246019840,-0.218753814697266,0.151378884911537,-0.222566008567810,0.125928372144699));
res += mul(Get(s0,dx,-dy), float4x4(-0.173187524080276,-0.070197552442551,-0.185295090079308,-0.261880725622177,-0.048877838999033,-0.118238277733326,0.144282743334770,0.047262437641621,0.003768470836803,0.014499666169286,-0.100246571004391,-0.026544222608209,0.027591157704592,0.108412645757198,0.049496661871672,-0.001801754231565));
res += mul(Get(s0,dx,0), float4x4(-0.261665821075439,-0.047959491610527,-0.118066050112247,-0.112123139202595,-0.150349915027618,-0.129184603691101,-0.003404745599255,0.057820267975330,-0.154592826962471,0.030988534912467,-0.098429054021835,-0.023985814303160,-0.118365995585918,-0.173642471432686,0.075163081288338,-0.162019714713097));
res += mul(Get(s0,dx,dy), float4x4(0.180298939347267,-0.017458721995354,-0.081176474690437,0.051495417952538,-0.136848807334900,-0.131661206483841,-0.097256965935230,-0.207568973302841,-0.081480644643307,0.054744940251112,-0.021972514688969,0.123971007764339,0.048525471240282,-0.094757944345474,0.033914253115654,0.067444957792759));
res += mul(Get(s1,-dx,-dy), float4x4(-0.044834177941084,-0.000908445043024,-0.004528577905148,-0.134593173861504,-0.076517879962921,0.074307590723038,0.066159546375275,-0.057252038270235,-0.023505695164204,-0.095169849693775,-0.011649282649159,0.200442507863045,-0.032511055469513,0.230445697903633,0.143270105123520,-0.003572640707716));
res += mul(Get(s1,-dx,0), float4x4(-0.018075121566653,0.087029352784157,-0.064962968230247,0.051605649292469,0.169189795851707,0.034092709422112,-0.067967623472214,-0.081773981451988,0.086978010833263,0.149837657809258,0.094298146665096,0.178375214338303,0.109293997287750,0.123417310416698,0.153280377388000,-0.069772340357304));
res += mul(Get(s1,-dx,dy), float4x4(0.124993711709976,-0.008687217719853,0.016707779839635,-0.008766931481659,0.090335123240948,0.049140825867653,0.066487886011600,0.018951488658786,0.202904120087624,0.023785807192326,0.154868975281715,0.121718205511570,-0.005108118988574,-0.205843508243561,-0.075244352221489,0.178833618760109));
res += mul(Get(s1,0,-dy), float4x4(0.019863603636622,-0.213431775569916,0.209996730089188,-0.059798244386911,-0.248965591192245,-0.036688126623631,0.204366341233253,0.279747456312180,0.028657315298915,0.034306488931179,-0.338660061359406,-0.065832175314426,0.048633333295584,0.168697491288185,-0.037031356245279,0.088063880801201));
res += mul(Get(s1,0,0), float4x4(0.093870960175991,-0.101015895605087,0.029974486678839,-0.129427850246429,-0.080177173018456,-0.197342813014984,0.070778302848339,-0.017410185188055,0.068373247981071,-0.043073274195194,0.053098235279322,0.016631752252579,0.126086279749870,-0.039338402450085,0.092320129275322,0.108020566403866));
res += mul(Get(s1,0,dy), float4x4(-0.170680850744247,-0.163684695959091,0.045089535415173,0.016893588006496,0.040285654366016,-0.128202423453331,0.127135261893272,0.047947406768799,0.185185849666595,0.163018897175789,0.032564464956522,-0.092683248221874,-0.059244826436043,-0.075068309903145,0.077345930039883,0.127297461032867));
res += mul(Get(s1,dx,-dy), float4x4(-0.135529533028603,-0.246871709823608,-0.131867542862892,0.056609671562910,0.029824901372194,-0.093124493956566,0.026639711111784,0.190717175602913,0.069093756377697,0.151611268520355,-0.135680735111237,-0.144398331642151,-0.079237952828407,0.003138180589303,0.063690140843391,-0.265675276517868));
res += mul(Get(s1,dx,0), float4x4(-0.154361143708229,0.056267037987709,-0.027401052415371,-0.186151593923569,-0.155797109007835,-0.019259672611952,0.218755081295967,-0.212488219141960,0.032432101666927,-0.051953487098217,-0.258049070835114,-0.152853265404701,-0.009578614495695,-0.059516929090023,0.040203820914030,-0.025073766708374));
res += mul(Get(s1,dx,dy), float4x4(0.051155608147383,-0.000572276767343,0.138642027974129,0.215715423226357,0.000100707322417,-0.023645577952266,-0.046557396650314,0.172805175185204,0.118240378797054,-0.114365480840206,-0.068523012101650,-0.071937330067158,0.124984920024872,-0.156587153673172,0.066749826073647,-0.085681483149529));
res += mul(Get(s2,-dx,-dy), float4x4(-0.329492747783661,0.060501072555780,0.059896267950535,-0.018996758386493,-0.165472254157066,-0.139498755335808,0.028064657002687,0.060760702937841,0.068733088672161,-0.044035594910383,0.074814684689045,0.096527345478535,-0.016548492014408,-0.151479244232178,-0.027601275593042,-0.156976625323296));
res += mul(Get(s2,-dx,0), float4x4(-0.010855527594686,0.187946513295174,-0.190572857856750,-0.089090682566166,-0.151805326342583,-0.142552286386490,-0.004981310106814,-0.143103256821632,-0.075679801404476,-0.037966553121805,0.058043602854013,0.229916602373123,0.154504746198654,0.019582347944379,0.093149751424789,0.048187226057053));
res += mul(Get(s2,-dx,dy), float4x4(0.179922759532928,0.246511757373810,-0.040873318910599,0.125363364815712,0.061391931027174,-0.104269169270992,0.140926331281662,0.268494367599487,-0.062752857804298,-0.111752994358540,0.190528020262718,0.032160878181458,0.025040075182915,0.000560556421988,-0.066301785409451,0.080961264669895));
res += mul(Get(s2,0,-dy), float4x4(-0.017573274672031,0.025826646015048,-0.058329556137323,-0.122884288430214,0.027173666283488,-0.034540399909019,-0.141256436705589,0.079696193337440,-0.032934166491032,-0.047812160104513,-0.016164002940059,0.060070440173149,-0.181937530636787,-0.096341960132122,-0.221247509121895,-0.164391145110130));
res += mul(Get(s2,0,0), float4x4(0.127073451876640,0.099723652005196,-0.063387855887413,0.297166287899017,0.289388179779053,0.178510904312134,0.061990171670914,-0.134381026029587,0.088806115090847,-0.161517500877380,-0.049692161381245,0.039490509778261,0.154142796993256,-0.065513074398041,-0.037560056895018,-0.214730709791183));
res += mul(Get(s2,0,dy), float4x4(0.091252692043781,0.054761335253716,0.033496294170618,0.140791565179825,0.025632845237851,-0.055637199431658,-0.027461176738143,0.084641531109810,-0.055458277463913,0.090724945068359,-0.069046512246132,-0.157246142625809,0.193308085203171,0.193357765674591,-0.086843810975552,-0.042737688869238));
res += mul(Get(s2,dx,-dy), float4x4(-0.010185653343797,-0.047689955681562,0.060951650142670,-0.088461942970753,0.079896442592144,-0.124473214149475,0.195569708943367,-0.111448712646961,-0.138758063316345,-0.106901742517948,0.014358181506395,-0.068895645439625,-0.125134900212288,-0.130520343780518,-0.069677673280239,-0.207637801766396));
res += mul(Get(s2,dx,0), float4x4(0.110180750489235,0.021823018789291,0.074403889477253,0.010601019486785,0.181628182530403,-0.120873242616653,0.032060835510492,0.036578435450792,0.105750948190689,0.045067016035318,-0.033498927950859,-0.143064290285110,-0.018754839897156,0.019128659740090,0.011821152642369,0.098234079778194));
res += mul(Get(s2,dx,dy), float4x4(0.004934656899422,0.033884633332491,0.032480549067259,-0.046090945601463,-0.009294080547988,0.025535553693771,0.086304143071175,0.021239446476102,0.010501723736525,-0.256531625986099,-0.081073194742203,-0.225150883197784,0.218258842825890,0.232645526528358,0.027930635958910,-0.025949526578188));
res += mul(Get(s3,-dx,-dy), float4x4(0.163047328591347,0.037306271493435,-0.023803634569049,-0.135951399803162,-0.063926592469215,0.124869368970394,-0.175134763121605,0.133791849017143,0.194487407803535,0.111181996762753,-0.063428126275539,-0.068267807364464,0.066035501658916,0.042706172913313,-0.023048210889101,0.016957601532340));
res += mul(Get(s3,-dx,0), float4x4(0.011431816965342,-0.036710366606712,0.002994128502905,0.055187884718180,-0.057662867009640,-0.013582192361355,0.200570151209831,0.073660224676132,0.014647550880909,-0.077878914773464,-0.104029498994350,-0.396462559700012,0.006564182229340,-0.020807383581996,-0.238505065441132,-0.018276326358318));
res += mul(Get(s3,-dx,dy), float4x4(0.340021371841431,0.024401905015111,-0.008492051623762,0.240872949361801,0.051921762526035,-0.237846821546555,-0.113651663064957,-0.088409110903740,-0.183344468474388,0.016704710200429,0.032835774123669,0.026857087388635,-0.054999131709337,0.206199526786804,0.059374522417784,-0.103956155478954));
res += mul(Get(s3,0,-dy), float4x4(0.146912932395935,-0.026164557784796,-0.099969230592251,-0.037709046155214,-0.051472458988428,0.070407330989838,0.136552512645721,0.042171463370323,0.085681147873402,-0.092674158513546,-0.255207002162933,0.022553324699402,-0.223205551505089,-0.157055914402008,0.074029408395290,0.310118049383163));
res += mul(Get(s3,0,0), float4x4(0.029210885986686,0.002766113495454,0.145767897367477,0.033163025975227,-0.101346075534821,-0.222396403551102,-0.017188841477036,-0.063913688063622,-0.100007161498070,0.041173834353685,-0.258749991655350,-0.070267520844936,0.054485023021698,0.066016413271427,-0.211783021688461,-0.051313374191523));
res += mul(Get(s3,0,dy), float4x4(-0.003915337380022,0.100466422736645,0.169047132134438,-0.116771958768368,0.065035633742809,0.118931211531162,-0.089771039783955,-0.118227303028107,0.181694954633713,0.180558830499649,-0.184529036283493,0.059388436377048,-0.191489681601524,-0.110496692359447,-0.041203532367945,0.012559666298330));
res += mul(Get(s3,dx,-dy), float4x4(0.045397605746984,-0.004988479427993,-0.159505337476730,-0.159043908119202,0.057006668299437,-0.009406775236130,-0.106105968356133,0.187919795513153,0.112758599221706,-0.014602902345359,0.070827536284924,-0.056310731917620,-0.157315090298653,-0.121425695717335,-0.081927575170994,-0.219519793987274));
res += mul(Get(s3,dx,0), float4x4(0.169200778007507,-0.058390270918608,0.170312389731407,-0.364539057016373,0.108436428010464,0.216791793704033,0.011765879578888,-0.160862088203430,0.060727212578058,-0.037425659596920,-0.174529731273651,-0.012907187454402,0.009615627117455,-0.188379436731339,0.056543495506048,-0.150683030486107));
res += mul(Get(s3,dx,dy), float4x4(0.031892862170935,-0.039466481655836,0.000725536898244,-0.068450972437859,-0.111230358481407,0.211875706911087,-0.016345804557204,0.099923737347126,-0.151442587375641,-0.071012161672115,-0.134164169430733,0.143463492393494,-0.087861038744450,0.143019661307335,-0.015424115583301,0.123440235853195));
return max(float4(0,0,0,0), res);
}
