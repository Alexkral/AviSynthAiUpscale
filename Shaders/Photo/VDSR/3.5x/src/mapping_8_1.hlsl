sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.084586650133133,-0.073716096580029,0.033328969031572,0.125445336103439,0.038697693496943,-0.028461754322052,-0.083144880831242,-0.054777156561613,0.107076287269592,0.021829191595316,-0.162231922149658,0.159123092889786,0.017868321388960,0.067333728075027,-0.054737959057093,-0.013824934139848));
res += mul(Get(s0,-dx,0), float4x4(0.126758620142937,-0.038348037749529,0.028542576357722,0.061457108706236,-0.004863379523158,0.000486490520416,-0.127116918563843,-0.072815634310246,0.003938403911889,0.058866381645203,0.118354588747025,-0.017228534445167,0.106558650732040,-0.108774922788143,-0.112332291901112,0.130266129970551));
res += mul(Get(s0,-dx,dy), float4x4(0.102151699364185,0.000705135345925,0.109785467386246,-0.055278986692429,-0.086282908916473,0.050517220050097,-0.024930117651820,-0.117920562624931,-0.099455595016479,-0.158982157707214,0.026211030781269,0.136573716998100,-0.020997654646635,-0.012101731263101,0.012884962372482,0.006119881756604));
res += mul(Get(s0,0,-dy), float4x4(-0.177024126052856,-0.032099608331919,-0.153509080410004,-0.000072741349868,-0.066558934748173,-0.002106469823048,0.084387332201004,-0.013812580145895,0.086673930287361,0.019719170406461,-0.155018672347069,0.126896291971207,0.002983199665323,0.114008478820324,-0.044518679380417,-0.024753266945481));
res += mul(Get(s0,0,0), float4x4(-0.163202360272408,-0.140588790178299,-0.143469542264938,-0.122396059334278,-0.012432148680091,-0.016181681305170,0.011163701303303,-0.041324183344841,-0.038225486874580,0.001040835981257,0.071872554719448,0.073854483664036,0.016607757657766,-0.125945091247559,0.072210170328617,0.035811271518469));
res += mul(Get(s0,0,dy), float4x4(-0.092111274600029,-0.179082453250885,0.082241430878639,-0.063467636704445,-0.005830132868141,-0.070460557937622,-0.053112678229809,-0.153846815228462,-0.022797014564276,-0.159370735287666,0.117297299206257,0.174977764487267,0.040263123810291,-0.077701874077320,0.074425853788853,0.021080508828163));
res += mul(Get(s0,dx,-dy), float4x4(-0.008380171842873,0.000892132695299,-0.194932639598846,0.006713802460581,-0.138728424906731,0.173880219459534,-0.079546093940735,-0.005234315991402,-0.020573753863573,0.092076614499092,-0.198388546705246,-0.169662237167358,-0.002882653614506,0.155321210622787,-0.030405636876822,0.044139321893454));
res += mul(Get(s0,dx,0), float4x4(0.044144921004772,-0.000003866224688,0.097670137882233,-0.044659316539764,-0.081065177917480,0.016421919688582,0.044580433517694,0.067677281796932,-0.022339150309563,0.002152254804969,0.094963811337948,-0.084325887262821,0.084759406745434,0.220929741859436,0.028909187763929,0.136760950088501));
res += mul(Get(s0,dx,dy), float4x4(0.061283592134714,-0.107359007000923,0.129835873842239,-0.082186058163643,-0.061046890914440,-0.026495033875108,-0.070032052695751,-0.160725057125092,-0.060955423861742,-0.125306934118271,-0.006725376937538,-0.051088042557240,0.107318751513958,0.118946947157383,-0.000708580890205,-0.034842856228352));
res += mul(Get(s1,-dx,-dy), float4x4(0.127399176359177,-0.099604092538357,-0.036151409149170,0.252418220043182,0.034386772662401,-0.146551370620728,-0.109031960368156,-0.045881915837526,-0.000699385767803,-0.077564761042595,-0.142669022083282,0.190832048654556,-0.001979826949537,0.079244107007980,-0.072883091866970,-0.056446626782417));
res += mul(Get(s1,-dx,0), float4x4(-0.054335519671440,-0.034944050014019,0.266903907060623,0.015658717602491,0.215014368295670,-0.174768626689911,0.007923441007733,0.178258478641510,-0.186097741127014,-0.084739446640015,-0.092256985604763,0.178759902715683,0.039951857179403,-0.019596226513386,-0.031808819621801,-0.146054655313492));
res += mul(Get(s1,-dx,dy), float4x4(-0.045605503022671,-0.026755096390843,0.097396478056908,-0.141007632017136,0.064546957612038,-0.162848755717278,-0.073332883417606,-0.149220913648605,-0.173504129052162,-0.075098425149918,0.012912916019559,-0.023673087358475,-0.072324916720390,-0.141408517956734,0.013235493563116,-0.256859987974167));
res += mul(Get(s1,0,-dy), float4x4(0.052598081529140,-0.048243727535009,-0.149032369256020,0.128963306546211,0.000819098087959,0.190956175327301,-0.007622885517776,-0.059061244130135,0.047214601188898,0.068744346499443,-0.032908588647842,-0.070837847888470,-0.056915555149317,0.124871574342251,0.090323522686958,-0.023197304457426));
res += mul(Get(s1,0,0), float4x4(-0.045336883515120,-0.060376919806004,-0.106491409242153,-0.048620790243149,-0.026949280872941,-0.046793762594461,-0.033312704414129,-0.065808393061161,-0.172938153147697,-0.093767769634724,-0.006599421612918,0.043325830250978,0.072734691202641,-0.053524985909462,0.159275889396667,0.135108664631844));
res += mul(Get(s1,0,dy), float4x4(-0.003812312847003,-0.055783633142710,0.222354605793953,-0.025576671585441,-0.023693136870861,-0.218290463089943,-0.047103632241488,-0.092574484646320,0.180459856987000,-0.090519435703754,0.001203763298690,-0.092186525464058,-0.155283778905869,-0.002004616893828,-0.045403957366943,0.164296641945839));
res += mul(Get(s1,dx,-dy), float4x4(0.168811738491058,0.218977555632591,-0.113920859992504,0.074268162250519,0.059984587132931,0.038213912397623,0.015071549452841,-0.076331637799740,0.092642836272717,0.192722380161285,-0.063949443399906,0.033508557826281,-0.140473380684853,0.325234621763229,0.102713033556938,0.098157145082951));
res += mul(Get(s1,dx,0), float4x4(-0.042195022106171,0.211474850773811,-0.078458338975906,0.037704955786467,0.088481560349464,0.047079183161259,-0.078947573900223,-0.119244389235973,0.078822359442711,-0.102394707500935,-0.066180609166622,0.058248847723007,-0.011614379473031,-0.040047656744719,0.033759634941816,0.210994362831116));
res += mul(Get(s1,dx,dy), float4x4(-0.057817060500383,-0.058280970901251,0.157668516039848,-0.042707506567240,0.108065322041512,-0.170076146721840,-0.089075647294521,-0.175885021686554,-0.000313380383886,-0.199283286929131,-0.056752651929855,-0.085927665233612,-0.105954892933369,-0.163813829421997,-0.070757672190666,0.220333740115166));
res += mul(Get(s2,-dx,-dy), float4x4(0.065702535212040,0.099791422486305,-0.034888707101345,0.000200751717784,-0.057919472455978,-0.114126309752464,-0.069680802524090,0.003793646814302,0.036595575511456,-0.006762122735381,-0.181376636028290,-0.019468978047371,0.064560569822788,0.064267173409462,0.107229836285114,0.064958125352859));
res += mul(Get(s2,-dx,0), float4x4(0.024174006655812,0.017881764099002,-0.051847334951162,-0.040989428758621,-0.102197781205177,-0.023144666105509,-0.094612188637257,-0.032169423997402,-0.034877751022577,0.051720898598433,-0.066301904618740,-0.028540333732963,0.075982749462128,-0.024618882685900,0.039732024073601,0.036721937358379));
res += mul(Get(s2,-dx,dy), float4x4(-0.124237000942230,0.146582186222076,0.030444676056504,-0.088689096271992,0.101206593215466,-0.141343683004379,-0.023063795641065,-0.122574351727962,-0.012161366641521,0.039825163781643,0.016593253239989,-0.007413017563522,-0.066580913960934,-0.091446481645107,0.023865088820457,-0.078218147158623));
res += mul(Get(s2,0,-dy), float4x4(0.002978801960126,-0.033179465681314,0.068725459277630,-0.003693994600326,0.068205349147320,-0.182402268052101,0.036577090620995,-0.065121516585350,-0.028207456693053,-0.092328019440174,-0.110451072454453,-0.015945926308632,0.014830731786788,-0.034956544637680,-0.069257579743862,0.053363338112831));
res += mul(Get(s2,0,0), float4x4(-0.043843101710081,-0.063462734222412,-0.043639194220304,0.005297944881022,-0.091388329863548,0.017488246783614,0.046927448362112,-0.085781104862690,0.058762408792973,-0.043997101485729,0.008168979547918,-0.005171064753085,0.055407233536243,0.107232257723808,-0.048260524868965,-0.108074747025967));
res += mul(Get(s2,0,dy), float4x4(-0.094700895249844,0.046183984726667,-0.054057486355305,-0.004413382150233,-0.128199175000191,-0.049204479902983,0.010819056071341,-0.103367924690247,-0.028537070378661,-0.055011630058289,0.053030602633953,-0.071828424930573,0.020332695916295,0.113187476992607,-0.036631222814322,0.025012921541929));
res += mul(Get(s2,dx,-dy), float4x4(-0.073353663086891,-0.262411475181580,0.100981272757053,-0.058525599539280,-0.075084157288074,0.150768548250198,0.042532335966825,0.143238291144371,0.138315737247467,0.075469672679901,-0.113369293510914,0.080496728420258,-0.036901928484440,-0.006706268060952,-0.049586061388254,0.107717253267765));
res += mul(Get(s2,dx,0), float4x4(-0.048362277448177,-0.072921305894852,0.018215050920844,-0.067620120942593,-0.063412360846996,0.044632136821747,0.099944718182087,-0.044849012047052,0.222523197531700,0.053904682397842,-0.031138528138399,-0.036385539919138,-0.102626025676727,0.021652732044458,-0.055208571255207,0.036456156522036));
res += mul(Get(s2,dx,dy), float4x4(-0.085152454674244,0.257058203220367,-0.056320190429688,0.045242317020893,-0.013869768008590,-0.100782863795757,-0.020547792315483,-0.086245298385620,-0.085169084370136,-0.021073451265693,-0.058759376406670,-0.101843304932117,-0.010013583116233,0.134885221719742,0.126922413706779,-0.053766734898090));
res += mul(Get(s3,-dx,-dy), float4x4(0.062253281474113,-0.053237240761518,0.055525504052639,0.020810933783650,-0.004562481306493,-0.255439549684525,-0.088935784995556,-0.010023576207459,0.089527443051338,-0.165781930088997,-0.038722034543753,-0.030275013297796,-0.105262495577335,0.048790641129017,0.056484475731850,0.039741724729538));
res += mul(Get(s3,-dx,0), float4x4(0.012140261009336,0.024455048143864,0.213517948985100,0.066704250872135,0.056459944695234,-0.092389315366745,-0.122808985412121,-0.112591937184334,0.070019550621510,0.058433864265680,0.063531398773193,0.022307481616735,0.049068607389927,-0.004393144510686,0.189154848456383,0.003164793131873));
res += mul(Get(s3,-dx,dy), float4x4(0.011735719628632,-0.091325953602791,0.058957777917385,0.026860790327191,0.187055483460426,-0.127218425273895,0.111353367567062,0.020742850378156,0.047797277569771,-0.086301892995834,-0.070032872259617,-0.119287900626659,-0.010130600072443,-0.078221872448921,-0.021021047607064,-0.003895000088960));
res += mul(Get(s3,0,-dy), float4x4(0.092262431979179,-0.020310783758759,-0.010615255683661,-0.004238675348461,0.089505344629288,-0.062934145331383,-0.074335440993309,0.075829990208149,0.031571131199598,-0.003857923671603,-0.112787038087845,-0.041507542133331,-0.043097607791424,0.072903811931610,0.031079256907105,0.145505905151367));
res += mul(Get(s3,0,0), float4x4(0.011172608472407,0.001958128763363,-0.087950952351093,0.067551344633102,-0.123637340962887,0.024318782612681,-0.066908374428749,-0.014202586375177,0.058393724262714,0.021616101264954,0.119018390774727,0.038787551224232,0.100492596626282,0.137734904885292,0.008070052601397,0.067024879157543));
res += mul(Get(s3,0,dy), float4x4(0.102858148515224,0.017289960756898,0.063032604753971,0.045621816068888,-0.069588862359524,0.040394131094217,0.052490834146738,0.009749879129231,0.046360492706299,0.104801118373871,0.163841009140015,-0.128170847892761,0.138431191444397,0.219698145985603,0.160462200641632,0.061926983296871));
res += mul(Get(s3,dx,-dy), float4x4(0.012288214638829,0.041744884103537,-0.085845723748207,-0.005130149889737,0.010001612827182,0.093194544315338,-0.064317137002945,-0.015278805978596,-0.006167953833938,-0.132769525051117,-0.140102192759514,0.140765234827995,0.001857691328041,-0.019725989550352,0.061580970883369,-0.003277546027675));
res += mul(Get(s3,dx,0), float4x4(-0.070184051990509,0.067003048956394,-0.079504333436489,0.052045360207558,-0.123638197779655,0.095833122730255,-0.023122066631913,-0.192918553948402,-0.079419270157814,-0.097766987979412,-0.028391495347023,0.005792906973511,-0.000517422915436,0.038445800542831,0.011213846504688,0.068535022437572));
res += mul(Get(s3,dx,dy), float4x4(0.009023129008710,0.123519532382488,-0.033296275883913,0.055075015872717,-0.026973370462656,-0.020898902788758,0.012245834805071,-0.095711581408978,0.002774108434096,-0.133429720997810,0.075847104191780,-0.182644456624985,0.093021295964718,0.137506276369095,0.102304935455322,-0.096590541303158));
return max(float4(0,0,0,0), res);
}
