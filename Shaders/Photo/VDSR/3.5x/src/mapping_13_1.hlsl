sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042575653642416,0.221324890851974,0.140390291810036,-0.100285135209560,0.153294920921326,-0.305748939514160,0.261006742715836,-0.086715236306190,0.077025905251503,-0.065447233617306,-0.075371146202087,-0.137524768710136,-0.103807725012302,0.028592733666301,0.097737558186054,0.084544099867344));
res += mul(Get(s0,-dx,0), float4x4(-0.052034568041563,0.115753307938576,0.060612127184868,-0.111095651984215,-0.131367444992065,-0.144883662462234,0.210396200418472,-0.078145794570446,0.081437677145004,0.107663251459599,-0.134095892310143,0.018467145040631,0.009508884511888,-0.099291779100895,0.021427812054753,0.005695769563317));
res += mul(Get(s0,-dx,dy), float4x4(-0.002811671001837,0.066840253770351,0.086434938013554,0.074006766080856,0.124657176434994,0.050392020493746,0.102500982582569,0.050517410039902,0.022140024229884,-0.038960479199886,-0.108034864068031,0.076278157532215,0.085187546908855,-0.036092162132263,0.095171488821507,-0.107494287192822));
res += mul(Get(s0,0,-dy), float4x4(-0.005792208015919,0.048325255513191,0.112190581858158,-0.139334499835968,0.000192049090401,0.049928810447454,-0.114454507827759,0.023420153185725,-0.054961729794741,-0.099138468503952,-0.017013568431139,0.030199101194739,0.099433563649654,0.068574868142605,-0.130038827657700,0.067769065499306));
res += mul(Get(s0,0,0), float4x4(-0.011632966808975,-0.036684274673462,0.138697370886803,-0.036408312618732,-0.039252199232578,-0.104682318866253,-0.053481213748455,0.017759665846825,0.100599683821201,0.202337756752968,-0.076964817941189,-0.174969449639320,0.023809907957911,-0.074530526995659,0.097125716507435,-0.014723404310644));
res += mul(Get(s0,0,dy), float4x4(-0.077181823551655,-0.121505714952946,-0.026891183108091,-0.114786311984062,0.155509084463120,0.078473210334778,-0.178413689136505,-0.078834429383278,0.129891127347946,-0.057015806436539,-0.020788922905922,-0.011515674181283,0.020662831142545,-0.030751988291740,-0.072481125593185,0.004801988136023));
res += mul(Get(s0,dx,-dy), float4x4(-0.127583757042885,0.035173930227757,-0.093106135725975,-0.181523472070694,0.129766181111336,0.004274003673345,0.188662931323051,0.116545997560024,0.150987088680267,0.014954107813537,-0.050844170153141,0.202815279364586,-0.010504064150155,0.010472757741809,-0.053101211786270,0.019756874069571));
res += mul(Get(s0,dx,0), float4x4(-0.135966435074806,0.038860261440277,0.103697352111340,0.088837467133999,0.072298064827919,0.020544642582536,-0.024192560464144,-0.080538809299469,-0.148933753371239,0.230938553810120,-0.132661357522011,-0.055461324751377,0.176833212375641,-0.175373971462250,-0.079217158257961,-0.097878769040108));
res += mul(Get(s0,dx,dy), float4x4(-0.064484208822250,-0.109288156032562,-0.218961030244827,-0.051583915948868,-0.051505021750927,-0.117229290306568,-0.016714043915272,-0.029314201325178,0.027242902666330,0.092024236917496,0.055979277938604,-0.081386059522629,0.050900422036648,-0.056414458900690,0.103876322507858,-0.215494796633720));
res += mul(Get(s1,-dx,-dy), float4x4(0.007612437941134,0.053253214806318,-0.056695267558098,-0.111445106565952,-0.059239383786917,0.117259904742241,0.181512847542763,0.114667527377605,-0.077795386314392,0.042836796492338,0.022697731852531,-0.114416211843491,-0.010706719011068,-0.169969901442528,0.107577025890350,0.203458234667778));
res += mul(Get(s1,-dx,0), float4x4(0.011877989396453,0.098318584263325,-0.060055326670408,-0.068009026348591,-0.132309973239899,-0.227898567914963,0.103704012930393,-0.012811585329473,-0.137624427676201,0.138946726918221,0.008810581639409,-0.230240061879158,0.159846052527428,0.055808801203966,0.102789446711540,-0.022991782054305));
res += mul(Get(s1,-dx,dy), float4x4(0.014851490035653,0.049715105444193,0.018035557121038,-0.018233990296721,-0.032385502010584,0.169669896364212,-0.047639224678278,0.000162098105648,0.138405054807663,-0.054420646280050,0.084304399788380,-0.281844556331635,-0.143259823322296,-0.049072589725256,-0.016067957505584,0.239584341645241));
res += mul(Get(s1,0,-dy), float4x4(-0.182475492358208,-0.072998128831387,-0.040424540638924,0.064148306846619,0.200594991445541,-0.083389587700367,-0.157765954732895,-0.042845658957958,0.059969883412123,-0.074026003479958,0.066974096000195,0.074676781892776,-0.009970677085221,-0.227292671799660,0.033267810940742,0.113630086183548));
res += mul(Get(s1,0,0), float4x4(0.054221246391535,0.046825509518385,-0.029062252491713,-0.042918439954519,0.206758752465248,0.156948387622833,0.032119020819664,-0.053361050784588,0.152273997664452,-0.040353521704674,-0.101730383932590,0.162733882665634,0.056517992168665,0.123130872845650,-0.027568167075515,-0.250163733959198));
res += mul(Get(s1,0,dy), float4x4(0.103148721158504,0.051266655325890,-0.003098803572357,0.080284245312214,0.031389925628901,-0.033341728150845,-0.118460699915886,0.000709178391844,-0.090998284518719,-0.022951403632760,-0.010608612559736,-0.020300080999732,0.023186983540654,-0.054068297147751,-0.044594366103411,-0.069236397743225));
res += mul(Get(s1,dx,-dy), float4x4(-0.005133451893926,-0.082400530576706,0.085035853087902,0.055776353925467,0.193924650549889,0.112068623304367,0.038786865770817,-0.118993788957596,-0.017119362950325,0.403590768575668,0.014537645503879,0.093197070062160,-0.200578242540359,0.002467888640240,0.044811662286520,-0.151752129197121));
res += mul(Get(s1,dx,0), float4x4(-0.046092972159386,-0.013482755981386,0.097081929445267,-0.160144090652466,-0.153373599052429,-0.002853942802176,0.066021248698235,-0.020880350843072,-0.197932720184326,0.074033468961716,0.015249766409397,0.163133263587952,0.096658967435360,0.100717417895794,0.092196270823479,-0.123773224651814));
res += mul(Get(s1,dx,dy), float4x4(-0.095190264284611,0.118137292563915,-0.096591450273991,0.051674135029316,0.089650139212608,-0.041856665164232,-0.129394501447678,0.086993940174580,-0.174919784069061,0.013131824322045,-0.023181598633528,0.064137473702431,-0.179905980825424,0.029089437797666,-0.177467748522758,0.043238531798124));
res += mul(Get(s2,-dx,-dy), float4x4(0.115087285637856,0.043588552623987,0.022427449002862,-0.056251969188452,-0.213371112942696,0.196285188198090,-0.071778312325478,0.104040488600731,-0.131698399782181,-0.111764311790466,0.068696521222591,0.052227862179279,-0.035119779407978,-0.113544568419456,0.049499429762363,-0.123299911618233));
res += mul(Get(s2,-dx,0), float4x4(0.079685173928738,0.021454222500324,-0.113744497299194,-0.004870522767305,-0.088697411119938,0.067136928439140,0.110614910721779,-0.144233465194702,0.064399532973766,-0.061021108180285,0.086484000086784,0.172419100999832,-0.115179620683193,-0.009925786405802,-0.015228543430567,-0.072346694767475));
res += mul(Get(s2,-dx,dy), float4x4(0.015259048901498,0.250322401523590,-0.066839523613453,-0.209288731217384,0.036471955478191,-0.023959357291460,-0.074365139007568,-0.095680400729179,-0.126683041453362,0.076980732381344,0.012923712842166,0.107003383338451,-0.061227325350046,0.119929589331150,-0.163577198982239,-0.260015279054642));
res += mul(Get(s2,0,-dy), float4x4(-0.084091015160084,0.036380104720592,-0.042659755796194,-0.187720343470573,-0.149716570973396,0.171339526772499,-0.136965483427048,-0.144975632429123,0.056421481072903,0.136260613799095,0.025744494050741,0.063018143177032,-0.118440113961697,0.106782287359238,0.026263186708093,-0.096758112311363));
res += mul(Get(s2,0,0), float4x4(-0.267857909202576,-0.031238397583365,-0.296583175659180,0.040866803377867,-0.059208661317825,0.060229390859604,-0.164771988987923,-0.152799516916275,0.088541626930237,0.134719163179398,0.071826331317425,-0.068781927227974,-0.063582405447960,-0.149189695715904,-0.019511930644512,0.253761142492294));
res += mul(Get(s2,0,dy), float4x4(-0.004870017059147,0.127222865819931,-0.149074375629425,0.028194475919008,0.044388789683580,0.181293055415154,-0.176247254014015,0.098836034536362,-0.001993278274313,0.082166232168674,-0.008640569634736,0.129750475287437,-0.045066863298416,-0.019509894773364,0.074759855866432,-0.034712918102741));
res += mul(Get(s2,dx,-dy), float4x4(-0.109406530857086,-0.075289092957973,0.216924846172333,0.073520921170712,-0.035213362425566,0.101624563336372,0.073888391256332,0.032623305916786,0.129304036498070,-0.153971627354622,0.101742610335350,0.122815288603306,0.145784139633179,-0.010497804731131,0.138879522681236,0.024376420304179));
res += mul(Get(s2,dx,0), float4x4(0.031710308045149,-0.123107083141804,-0.195899456739426,0.093185983598232,0.029527477920055,-0.162779361009598,0.123811073601246,-0.061577174812555,0.230449169874191,-0.134885787963867,0.122370481491089,0.020399577915668,-0.022757094353437,0.047447547316551,0.111635975539684,-0.063238613307476));
res += mul(Get(s2,dx,dy), float4x4(0.019345209002495,0.018256444483995,0.107799589633942,-0.060632701963186,-0.144596770405769,-0.183329328894615,-0.094336487352848,0.075142614543438,-0.023070627823472,0.143398165702820,-0.004073563497514,-0.130302488803864,0.178999915719032,0.049585625529289,-0.016404226422310,-0.200477197766304));
res += mul(Get(s3,-dx,-dy), float4x4(0.055764865130186,-0.091701000928879,0.075178220868111,0.139929011464119,0.083788074553013,-0.192300334572792,0.134789526462555,-0.063569813966751,-0.128153234720230,-0.109231062233448,-0.137378126382828,0.165701299905777,-0.129806876182556,0.082620814442635,-0.063277535140514,0.012911194935441));
res += mul(Get(s3,-dx,0), float4x4(0.112577728927135,-0.116600789129734,0.066344402730465,-0.006060416810215,0.004677542485297,-0.061679422855377,-0.042964577674866,-0.108858369290829,-0.052916768938303,0.084651783108711,0.025322306901217,0.223388060927391,0.011931044980884,0.158236876130104,-0.079823069274426,0.107234492897987));
res += mul(Get(s3,-dx,dy), float4x4(-0.021839693188667,-0.019489813596010,0.034514296799898,0.004440801218152,0.094717361032963,-0.175127342343330,0.027450872585177,-0.101581282913685,-0.010516682639718,-0.152676478028297,0.013471792452037,0.037098132073879,-0.004221592098475,0.019448511302471,-0.014440733939409,0.074940428137779));
res += mul(Get(s3,0,-dy), float4x4(-0.089564353227615,-0.104166723787785,0.140854716300964,0.150892451405525,-0.181433022022247,0.167826637625694,0.223991170525551,0.089031532406807,0.151300236582756,-0.064525559544563,-0.204366594552994,-0.021382292732596,-0.244764715433121,-0.087189607322216,-0.150428414344788,-0.087275728583336));
res += mul(Get(s3,0,0), float4x4(-0.112349256873131,0.071703568100929,0.029270894825459,0.046533681452274,0.113623380661011,-0.110484398901463,0.139227628707886,0.034473955631256,0.043962217867374,0.237201362848282,-0.101182892918587,-0.095469988882542,0.041435711085796,-0.002639102982357,0.127101778984070,0.036319743841887));
res += mul(Get(s3,0,dy), float4x4(-0.079798959195614,-0.089072704315186,-0.094313621520996,-0.209222167730331,0.029750920832157,0.132682457566261,0.101766251027584,0.137500986456871,0.002614282537252,-0.024961868301034,0.035834256559610,0.050319630652666,0.069290794432163,-0.202081605792046,0.069930784404278,-0.008050300180912));
res += mul(Get(s3,dx,-dy), float4x4(-0.056811869144440,-0.042731169611216,0.147858276963234,-0.077363975346088,-0.236249417066574,0.214766487479210,-0.009369780309498,0.114988595247269,0.104423195123672,0.141473144292831,0.093498066067696,0.011682210490108,-0.127417489886284,0.042597327381372,-0.062223646789789,0.087320953607559));
res += mul(Get(s3,dx,0), float4x4(0.155256390571594,0.013981529511511,0.096902996301651,-0.145002111792564,-0.237230211496353,0.010208555497229,-0.233374327421188,-0.056370858103037,0.015576359815896,0.044563628733158,-0.024110466241837,-0.020310236141086,-0.100036665797234,-0.070198155939579,-0.116073571145535,0.066847771406174));
res += mul(Get(s3,dx,dy), float4x4(0.015054365620017,0.017141787335277,-0.088865123689175,0.056793022900820,0.116761326789856,0.031869307160378,-0.004589235875756,-0.048701316118240,-0.193476304411888,-0.123587504029274,-0.041847534477711,-0.058369867503643,-0.046374019235373,-0.029252041131258,0.101381517946720,-0.040395785123110));
return max(float4(0,0,0,0), res);
}
