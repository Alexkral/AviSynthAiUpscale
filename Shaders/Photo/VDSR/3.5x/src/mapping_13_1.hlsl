sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.105190373957157,-0.112027116119862,-0.059014227241278,-0.049048829823732,-0.043518997728825,0.000702883640770,0.156098827719688,-0.108584582805634,0.105443865060806,-0.086273714900017,0.056904431432486,-0.026187576353550,-0.007239982485771,-0.117973357439041,0.024416165426373,-0.015073589980602));
res += mul(Get(s0,-dx,0), float4x4(0.019283613190055,0.096441715955734,-0.088118888437748,-0.030727034434676,0.297354906797409,-0.066817961633205,0.113977998495102,0.055220767855644,0.105914928019047,0.071761079132557,-0.084775708615780,0.010815286077559,-0.069216094911098,-0.014270602725446,-0.031896904110909,0.153492361307144));
res += mul(Get(s0,-dx,dy), float4x4(0.021122258156538,0.118510298430920,-0.049539387226105,-0.126003593206406,-0.100709892809391,-0.057151209563017,-0.034054715186357,0.015740547329187,0.027460597455502,-0.090480200946331,-0.062512375414371,-0.081579722464085,-0.048543889075518,-0.045321509242058,0.051345646381378,-0.168239101767540));
res += mul(Get(s0,0,-dy), float4x4(-0.034239288419485,-0.118254072964191,0.051049254834652,0.142623111605644,0.000748755119275,0.055797692388296,-0.063509374856949,-0.059429366141558,-0.090695880353451,-0.073535457253456,0.034360773861408,-0.070986784994602,0.040917955338955,-0.064931355416775,-0.020622918382287,-0.120801627635956));
res += mul(Get(s0,0,0), float4x4(-0.060913357883692,-0.030341548845172,-0.061742104589939,0.054980501532555,-0.006496351212263,0.006507475860417,-0.038602415472269,0.066988408565521,0.021275324746966,0.137538522481918,-0.079450383782387,0.030473109334707,0.057293351739645,-0.028802458196878,-0.059893164783716,0.109366640448570));
res += mul(Get(s0,0,dy), float4x4(-0.032483082264662,0.031949061900377,0.093001663684845,-0.085686124861240,-0.221177771687508,-0.040448155254126,-0.003491328563541,0.084384880959988,-0.091429159045219,0.018381856381893,0.038296528160572,-0.177063047885895,-0.084640301764011,-0.018921718001366,0.011538275517523,-0.108875647187233));
res += mul(Get(s0,dx,-dy), float4x4(-0.046499803662300,-0.058752901852131,0.102803900837898,0.183500960469246,0.017785137519240,0.144242212176323,0.023123975843191,-0.007845045998693,0.254894524812698,0.100173756480217,-0.050611138343811,0.108245149254799,-0.033538449555635,-0.152834266424179,-0.027311699464917,0.000630038557574));
res += mul(Get(s0,dx,0), float4x4(-0.134300559759140,0.090310856699944,0.035066235810518,0.109668552875519,0.117331780493259,-0.055337052792311,-0.060940489172935,-0.040277943015099,0.127586022019386,0.017995717003942,-0.100117936730385,0.049451462924480,0.078928172588348,-0.113390766084194,-0.121850632131100,0.065823756158352));
res += mul(Get(s0,dx,dy), float4x4(-0.061618927866220,-0.063478961586952,0.013961301185191,-0.112873233854771,0.018160223960876,0.061636682599783,-0.039170995354652,-0.065136067569256,0.064261242747307,0.045236591249704,0.092470571398735,-0.044894114136696,0.150461956858635,-0.103703416883945,-0.073389612138271,0.041861448436975));
res += mul(Get(s1,-dx,-dy), float4x4(-0.078061625361443,0.125922560691833,0.141320645809174,0.070334583520889,-0.087328121066093,0.216171354055405,0.191633328795433,-0.096893996000290,0.012307998724282,0.026884883642197,0.055442836135626,-0.139504209160805,0.011534037999809,-0.129215121269226,-0.044896986335516,-0.019414285197854));
res += mul(Get(s1,-dx,0), float4x4(0.054356403648853,-0.099454887211323,0.114342689514160,-0.103557966649532,0.011297991499305,0.087483562529087,-0.006466146092862,0.011871393769979,0.059769198298454,-0.061921659857035,0.016699597239494,0.114671289920807,0.259179413318634,-0.061086852103472,-0.120207048952579,0.134574472904205));
res += mul(Get(s1,-dx,dy), float4x4(0.052766349166632,-0.063979156315327,-0.063240282237530,-0.069137662649155,-0.073918975889683,0.067464053630829,0.072132937610149,-0.056064147502184,-0.174193620681763,0.036248803138733,-0.008690457791090,0.090887732803822,-0.002918787766248,-0.022790865972638,-0.153709501028061,-0.099949002265930));
res += mul(Get(s1,0,-dy), float4x4(-0.053397331386805,0.093087047338486,-0.027437834069133,0.125717744231224,0.007923302240670,0.111154749989510,0.118595138192177,0.019815873354673,-0.025525787845254,0.042261078953743,-0.002156213624403,-0.079439043998718,-0.073368586599827,-0.074870362877846,0.032807942479849,0.191499114036560));
res += mul(Get(s1,0,0), float4x4(-0.037810362875462,-0.048588093370199,0.114287719130516,-0.145246684551239,0.129387170076370,-0.077875524759293,0.104788064956665,-0.106296293437481,0.094301126897335,0.006763467565179,0.089405834674835,-0.007797036785632,-0.016283886507154,-0.089403584599495,0.162319302558899,0.018346406519413));
res += mul(Get(s1,0,dy), float4x4(-0.067857511341572,-0.083981223404408,0.182489931583405,-0.117163002490997,-0.063392356038094,-0.065945595502853,-0.015301118604839,0.004609798546880,-0.035264417529106,0.053634259849787,-0.146259367465973,0.173910886049271,-0.044487256556749,-0.076917551457882,-0.029192475602031,-0.123932667076588));
res += mul(Get(s1,dx,-dy), float4x4(-0.060233157128096,0.171462669968605,-0.035591680556536,0.013589293695986,0.100475482642651,0.136620700359344,0.058991815894842,0.053060717880726,0.029627207666636,0.016294723376632,0.104079633951187,0.065643697977066,-0.049084212630987,-0.011437037959695,-0.154700994491577,0.107452094554901));
res += mul(Get(s1,dx,0), float4x4(-0.041572924703360,0.115506060421467,0.067935191094875,0.120740234851837,0.180518239736557,-0.067131079733372,0.215093791484833,-0.060413248836994,0.085027672350407,-0.062139872461557,0.078348897397518,0.051090288907290,0.019962267950177,0.053931362926960,-0.030489558354020,-0.079166240990162));
res += mul(Get(s1,dx,dy), float4x4(-0.098444208502769,0.110815450549126,0.088272109627724,-0.053438246250153,-0.009839460253716,-0.026949854567647,-0.118238344788551,-0.004514603875577,-0.025924414396286,0.051141604781151,-0.157016128301620,0.028120063245296,-0.030858896672726,0.167626574635506,-0.057743541896343,-0.041953846812248));
res += mul(Get(s2,-dx,-dy), float4x4(0.097053647041321,-0.084709040820599,0.038905456662178,-0.025538563728333,0.007025022991002,-0.048548609018326,0.020006168633699,0.039535228163004,-0.102308720350266,-0.009611228480935,0.084978885948658,-0.017541231587529,-0.052139930427074,-0.049131207168102,-0.026824321597815,0.208075806498528));
res += mul(Get(s2,-dx,0), float4x4(-0.043195862323046,0.023927608504891,0.074084796011448,0.001784939784557,0.015553523786366,-0.149862945079803,-0.025527440011501,-0.008495134301484,0.034132443368435,0.046847347170115,0.027031946927309,0.009814389050007,0.047267403453588,0.083947569131851,0.106009118258953,0.030160760506988));
res += mul(Get(s2,-dx,dy), float4x4(0.006574157159775,-0.058614790439606,0.120245583355427,0.002572417957708,-0.039005365222692,-0.096086636185646,-0.117289662361145,-0.176808223128319,-0.075184486806393,0.096420735120773,0.043420571833849,-0.054430104792118,0.074170961976051,-0.024389667436481,-0.000201173577807,-0.056559365242720));
res += mul(Get(s2,0,-dy), float4x4(-0.061678007245064,-0.083146743476391,-0.076107457280159,0.039525762200356,0.073191821575165,0.012240635231137,-0.031555291265249,0.033762846142054,-0.047341339290142,-0.168476149439812,-0.038720924407244,-0.033225327730179,-0.034152425825596,-0.083687901496887,-0.036731775850058,0.073725678026676));
res += mul(Get(s2,0,0), float4x4(-0.005204458720982,-0.002280149841681,0.001064551877789,0.152494981884956,0.071684934198856,-0.077914282679558,0.007069167215377,0.083032056689262,0.114105917513371,-0.052313476800919,-0.069818370044231,-0.151444479823112,0.032007750123739,-0.041198637336493,-0.054554745554924,-0.044315453618765));
res += mul(Get(s2,0,dy), float4x4(-0.081396326422691,-0.028048425912857,0.011736230924726,-0.051478113979101,-0.043353136628866,0.019702062010765,-0.051499068737030,-0.107075639069080,0.010725406929851,-0.022482190281153,-0.011744948104024,-0.111112587153912,-0.062443941831589,0.000212812577956,0.005357585381716,-0.062373682856560));
res += mul(Get(s2,dx,-dy), float4x4(-0.131083518266678,-0.028789885342121,-0.144067227840424,0.050899822264910,0.077692262828350,0.001205705804750,-0.094234809279442,0.008116251789033,-0.162686169147491,-0.114634513854980,0.011118764989078,0.006800816860050,0.009770342148840,-0.046146783977747,-0.012823549099267,-0.108151800930500));
res += mul(Get(s2,dx,0), float4x4(-0.024264609441161,0.048368327319622,0.036934092640877,0.049332730472088,-0.011546407826245,0.050306629389524,-0.086560547351837,0.032957002520561,0.150072991847992,-0.070329211652279,-0.038848303258419,-0.020772200077772,0.257724225521088,-0.085970312356949,-0.054560068994761,0.059408437460661));
res += mul(Get(s2,dx,dy), float4x4(0.022388475015759,0.181858003139496,0.006883799098432,0.074729412794113,-0.058673061430454,0.055732071399689,-0.127932354807854,-0.101037614047527,-0.002766245510429,0.070420056581497,-0.065272331237793,-0.041777484118938,-0.056447729468346,-0.022102560847998,-0.074097938835621,-0.014486185275018));
res += mul(Get(s3,-dx,-dy), float4x4(0.045877043157816,0.009306509979069,0.078687511384487,0.098288275301456,0.117148153483868,-0.055495731532574,-0.058870971202850,-0.052561119198799,-0.074916146695614,-0.205710843205452,0.052402850240469,0.079527236521244,-0.100535273551941,0.168279737234116,-0.104603193700314,-0.144191876053810));
res += mul(Get(s3,-dx,0), float4x4(0.068966165184975,-0.078636080026627,0.068002231419086,-0.047288086265326,0.077205270528793,-0.009613023139536,-0.042798664420843,-0.008976557292044,0.090520061552525,-0.033264450728893,0.082760602235794,0.019478261470795,-0.045910406857729,-0.003435037098825,0.029759770259261,-0.049605805426836));
res += mul(Get(s3,-dx,dy), float4x4(-0.093260951340199,0.013345752842724,0.122231513261795,0.144279733300209,-0.018531791865826,0.017932688817382,-0.115301817655563,-0.121484376490116,-0.100928016006947,0.072424210608006,-0.029958415776491,0.108877636492252,-0.065101437270641,-0.031127430498600,-0.091471739113331,0.010390582494438));
res += mul(Get(s3,0,-dy), float4x4(0.069929815828800,-0.081810690462589,-0.103001914918423,-0.042484540492296,-0.051977213472128,-0.002736204070970,0.077873259782791,-0.062005508691072,-0.104736082255840,-0.095328420400620,0.052114754915237,-0.079827912151814,-0.020584503188729,0.094148755073547,0.058524668216705,-0.058344919234514));
res += mul(Get(s3,0,0), float4x4(-0.119526818394661,-0.059968508780003,-0.098024353384972,-0.067950934171677,-0.045782431960106,0.035051845014095,0.127033770084381,0.009623803198338,-0.004767749458551,0.077726639807224,0.052655495703220,0.146367102861404,-0.055590681731701,-0.141386941075325,-0.061701279133558,-0.104163430631161));
res += mul(Get(s3,0,dy), float4x4(-0.065887682139874,0.224374830722809,-0.025307621806860,-0.025042586028576,-0.136693030595779,-0.065629422664642,-0.018024111166596,-0.053659606724977,-0.043243303894997,0.000957528653089,0.128620162606239,0.059607885777950,0.063182443380356,-0.077339865267277,-0.100353203713894,-0.087594397366047));
res += mul(Get(s3,dx,-dy), float4x4(0.232752859592438,-0.108834244310856,-0.145479664206505,-0.025887602940202,0.102925777435303,0.023002790287137,0.013829793781042,0.007662804797292,-0.041713520884514,-0.089446939527988,0.116012737154961,-0.043093260377645,-0.087622329592705,0.117333337664604,0.020442314445972,0.106232434511185));
res += mul(Get(s3,dx,0), float4x4(0.286946982145309,-0.022704666480422,-0.092055492103100,-0.106669746339321,-0.097259312868118,0.101438343524933,-0.009518762119114,0.036740254610777,0.001115172402933,0.080725550651550,-0.065814487636089,0.064802549779415,-0.120679870247841,-0.047211233526468,-0.023780040442944,0.005427513271570));
res += mul(Get(s3,dx,dy), float4x4(0.065571904182434,0.149985089898109,-0.105485022068024,-0.053788203746080,-0.024047188460827,-0.028270497918129,0.072080895304680,-0.030825547873974,-0.054243866354227,0.102003738284111,0.007614282425493,0.033718630671501,-0.030947292223573,-0.038464277982712,0.080657996237278,0.015634162351489));
return max(float4(0,0,0,0), res);
}
