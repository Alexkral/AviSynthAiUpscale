sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.082578964531422,0.072216860949993,0.049859974533319,-0.098679766058922,-0.082254566252232,-0.084441967308521,-0.050507303327322,0.021503992378712,-0.110508069396019,-0.078844405710697,0.025483580306172,-0.132252320647240,0.144039347767830,0.086482100188732,0.097263641655445,-0.166724994778633));
res += mul(Get(s0,-dx,0), float4x4(-0.099519327282906,0.068849034607410,0.146531388163567,0.060921281576157,0.006906199268997,-0.090275980532169,-0.091077536344528,0.151302605867386,-0.201774746179581,0.114484280347824,-0.026211878284812,0.021583529189229,-0.043213501572609,0.127962931990623,0.020978139713407,-0.023986037820578));
res += mul(Get(s0,-dx,dy), float4x4(0.037802103906870,0.100977264344692,-0.034409400075674,0.105253949761391,0.148665860295296,-0.080319955945015,0.003228574991226,-0.032029327005148,-0.088704429566860,0.081075146794319,-0.087163299322128,-0.116531468927860,-0.210896581411362,-0.044008038938046,0.106926113367081,-0.106904461979866));
res += mul(Get(s0,0,-dy), float4x4(-0.066092528402805,-0.072095356881618,-0.163688093423843,0.126143440604210,-0.015368003398180,-0.113055318593979,-0.067160949110985,0.050378181040287,0.011049397289753,0.057726856321096,0.031132202595472,0.055851474404335,-0.026324378326535,-0.029297184199095,0.238163247704506,0.087126724421978));
res += mul(Get(s0,0,0), float4x4(0.148868113756180,0.054243847727776,-0.134931296110153,0.229643851518631,-0.003496328601614,0.051508933305740,0.069569967687130,-0.034440107643604,0.152972951531410,-0.191570118069649,0.090345226228237,0.057192124426365,-0.131057247519493,0.062589645385742,0.161125630140305,-0.020414473488927));
res += mul(Get(s0,0,dy), float4x4(-0.061099562793970,0.112637870013714,-0.064065843820572,-0.035601135343313,0.101649448275566,0.090675778687000,-0.083117000758648,0.084543459117413,-0.087813973426819,0.075197204947472,0.096034273505211,0.112496905028820,-0.051263112574816,-0.212161958217621,-0.053333524614573,-0.180104389786720));
res += mul(Get(s0,dx,-dy), float4x4(-0.100217670202255,0.117903679609299,0.145151704549789,0.079039558768272,-0.010858711786568,0.036393798887730,0.125607937574387,0.014584756456316,0.039359208196402,-0.160045981407166,0.126037433743477,-0.033888697624207,-0.026775646954775,0.188327088952065,-0.149123683571815,0.126224040985107));
res += mul(Get(s0,dx,0), float4x4(-0.052207935601473,-0.089119024574757,0.071312643587589,0.049410153180361,-0.055620864033699,-0.091629624366760,0.087151952087879,0.011479696258903,-0.166511997580528,-0.073202371597290,0.163632869720459,-0.003945920150727,0.082180865108967,-0.053478591144085,-0.078022800385952,0.056485250592232));
res += mul(Get(s0,dx,dy), float4x4(0.130543500185013,-0.017119694501162,0.120853170752525,0.060779049992561,-0.157722353935242,-0.110396429896355,-0.056115854531527,0.028330596163869,-0.227998048067093,-0.098348945379257,-0.103133559226990,-0.009522314183414,0.034085106104612,-0.090267427265644,0.032944008708000,-0.132248699665070));
res += mul(Get(s1,-dx,-dy), float4x4(-0.069377981126308,-0.152007699012756,-0.083685159683228,0.061422768980265,0.067404814064503,0.123565852642059,-0.026423748582602,-0.049536533653736,0.124843321740627,-0.165369287133217,0.060536038130522,-0.095927536487579,-0.039739660918713,0.163879200816154,-0.040307361632586,-0.062049742788076));
res += mul(Get(s1,-dx,0), float4x4(-0.140165984630585,-0.085733406245708,-0.185062035918236,-0.014240556396544,0.039742585271597,0.225068271160126,0.064981907606125,-0.036888360977173,0.008579614572227,-0.109595865011215,0.046837471425533,-0.131962314248085,-0.307218164205551,0.134102672338486,-0.072774231433868,-0.162879899144173));
res += mul(Get(s1,-dx,dy), float4x4(-0.137694716453552,0.007129110395908,-0.054383561015129,0.105126895010471,0.003893737681210,0.050925482064486,-0.020256219431758,0.051315911114216,0.158706143498421,-0.016429360955954,0.020487282425165,-0.189402684569359,0.051481373608112,-0.133928343653679,0.081209428608418,0.045958247035742));
res += mul(Get(s1,0,-dy), float4x4(-0.022028103470802,-0.207029148936272,-0.092409685254097,-0.129539206624031,-0.070464074611664,0.110741987824440,-0.038086690008640,0.102158404886723,-0.035713866353035,-0.100136391818523,0.165064364671707,0.133097618818283,-0.125426307320595,0.195068642497063,0.130024269223213,0.049351654946804));
res += mul(Get(s1,0,0), float4x4(0.056557990610600,0.120255209505558,-0.015199896879494,0.099426344037056,-0.055942300707102,-0.096595719456673,-0.063435338437557,-0.100134335458279,0.044971939176321,-0.071941711008549,-0.004560885950923,-0.071679361164570,-0.205186262726784,0.068291135132313,-0.105678245425224,0.047794356942177));
res += mul(Get(s1,0,dy), float4x4(-0.241468548774719,0.019076218828559,-0.064529284834862,0.088164776563644,-0.147325038909912,-0.255819588899612,0.042351827025414,-0.164932027459145,0.034988425672054,0.087790153920650,-0.155689045786858,0.014623345807195,-0.272158831357956,0.089894108474255,-0.007658160757273,0.104994952678680));
res += mul(Get(s1,dx,-dy), float4x4(-0.064811147749424,-0.052311286330223,-0.048376705497503,0.080955244600773,-0.038360133767128,-0.173782452940941,-0.001571418251842,0.089924030005932,0.020995296537876,-0.121634379029274,0.162817299365997,0.151940152049065,-0.029991688206792,0.050177130848169,-0.049694679677486,0.102292537689209));
res += mul(Get(s1,dx,0), float4x4(-0.033462274819613,0.099772788584232,-0.244042158126831,0.088679969310760,-0.096546649932861,0.011524518951774,0.000035527005821,0.034306477755308,0.027944942936301,0.125882983207703,-0.048890382051468,0.005331310909241,-0.020821353420615,-0.102135673165321,0.102865919470787,-0.091715186834335));
res += mul(Get(s1,dx,dy), float4x4(0.061588447540998,-0.046698227524757,-0.058223471045494,-0.043314091861248,-0.043740425258875,-0.019672133028507,-0.098920360207558,-0.101829811930656,0.026336085051298,0.066801093518734,-0.051665000617504,-0.184419959783554,-0.092385269701481,-0.122174330055714,0.002048047026619,-0.016118166968226));
res += mul(Get(s2,-dx,-dy), float4x4(0.046757441014051,-0.110200658440590,0.126762926578522,0.060627914965153,0.107369117438793,0.020408239215612,0.015638994053006,0.144589617848396,-0.195218190550804,-0.116529546678066,-0.132482483983040,0.076690003275871,0.123963303864002,-0.114221543073654,0.174801141023636,-0.059477221220732));
res += mul(Get(s2,-dx,0), float4x4(0.035961169749498,-0.146034508943558,0.122485168278217,-0.039580609649420,-0.200033515691757,-0.151921004056931,0.028300493955612,-0.185860708355904,-0.049104709178209,-0.060637436807156,0.104268990457058,-0.123454980552197,0.103607244789600,0.073407381772995,0.226850211620331,0.173854887485504));
res += mul(Get(s2,-dx,dy), float4x4(-0.091073751449585,0.124079540371895,0.100430697202682,-0.315145701169968,-0.035034213215113,-0.078212358057499,-0.103214539587498,-0.059043731540442,-0.135196074843407,0.028838030993938,-0.101496383547783,0.070543445646763,-0.058089978992939,-0.086412921547890,-0.016998710110784,-0.003031358355656));
res += mul(Get(s2,0,-dy), float4x4(0.058064267039299,0.077089741826057,0.100429944694042,-0.230508580803871,0.017522634938359,0.042907543480396,-0.036956273019314,-0.143780171871185,0.150482073426247,0.046735640615225,0.042882774025202,-0.104285530745983,-0.013998362235725,0.000162180236657,0.064173236489296,-0.160880491137505));
res += mul(Get(s2,0,0), float4x4(-0.004501530900598,-0.135479494929314,-0.068579539656639,0.006598424166441,0.028074206784368,-0.043308448046446,-0.055022764950991,-0.281091839075089,-0.022512376308441,-0.043371777981520,-0.095112092792988,0.103563778102398,-0.127123013138771,-0.065833643078804,0.033051803708076,-0.112136885523796));
res += mul(Get(s2,0,dy), float4x4(0.117583937942982,-0.130824297666550,0.035190250724554,0.063085727393627,0.031257871538401,0.137114971876144,-0.015778535977006,-0.026575079187751,0.028570653870702,-0.114901527762413,0.135666176676750,-0.063779570162296,-0.158604174852371,-0.195366024971008,-0.032926436513662,-0.045531608164310));
res += mul(Get(s2,dx,-dy), float4x4(-0.077833466231823,-0.031345229595900,-0.095467239618301,-0.114840120077133,0.173960864543915,-0.052470441907644,-0.013318561017513,0.009800701402128,0.045957837253809,0.042471047490835,0.046598862856627,0.079716555774212,0.072515554726124,0.033626861870289,-0.060221128165722,0.152033656835556));
res += mul(Get(s2,dx,0), float4x4(0.042028844356537,0.107491008937359,-0.095383934676647,-0.027770197018981,-0.114450193941593,-0.027343265712261,0.062799759209156,0.096916198730469,0.089139766991138,-0.018743965774775,0.320990592241287,0.024182142689824,-0.130484625697136,0.022183755412698,-0.057848215103149,0.099746637046337));
res += mul(Get(s2,dx,dy), float4x4(0.019342996180058,0.081040114164352,-0.112081065773964,-0.138696059584618,-0.225929796695709,-0.003814014140517,0.044740710407495,-0.185691356658936,-0.020852610468864,0.199373707175255,-0.034744139760733,0.031408526003361,-0.026472225785255,-0.045129176229239,0.063085407018661,-0.061051607131958));
res += mul(Get(s3,-dx,-dy), float4x4(-0.156437963247299,-0.052109666168690,-0.129305899143219,-0.103128351271152,0.066360980272293,-0.044377628713846,-0.126755610108376,-0.011123611591756,0.165723532438278,-0.080689333379269,0.031507108360529,-0.087830096483231,0.087377734482288,-0.034976966679096,0.146760717034340,-0.134948462247849));
res += mul(Get(s3,-dx,0), float4x4(-0.000429673440522,-0.082171119749546,0.054381892085075,-0.017100855708122,0.042588919401169,-0.001513110008091,0.087122969329357,-0.193706333637238,0.108147837221622,-0.009149417281151,0.118847236037254,0.227385193109512,-0.214533716440201,-0.011846800334752,0.056771825999022,0.079863667488098));
res += mul(Get(s3,-dx,dy), float4x4(0.025547264143825,-0.074694044888020,-0.091574124991894,-0.080031901597977,-0.074152089655399,0.056515380740166,-0.075420610606670,0.045994754880667,-0.093390032649040,0.075580336153507,0.135086581110954,0.108267374336720,-0.165528595447540,0.014365078881383,-0.009712691418827,0.072815939784050));
res += mul(Get(s3,0,-dy), float4x4(0.033326704055071,0.265605926513672,0.225390583276749,0.002551450161263,-0.124713622033596,-0.013642717152834,-0.180309057235718,-0.017522867769003,-0.179023608565331,-0.225206851959229,0.064602509140968,0.090488091111183,-0.051954317837954,0.058154355734587,-0.113721720874310,0.125717967748642));
res += mul(Get(s3,0,0), float4x4(-0.037445824593306,0.066993147134781,-0.106729388237000,0.046520970761776,-0.069693781435490,0.046441871672869,-0.028959587216377,0.056723266839981,0.020408216863871,0.043968372046947,0.067476764321327,0.017884841188788,0.033519335091114,0.030835688114166,-0.041897218674421,-0.278978556394577));
res += mul(Get(s3,0,dy), float4x4(0.025695709511638,0.035456005483866,-0.130238264799118,0.220937415957451,-0.074927866458893,-0.029338013380766,-0.065213508903980,0.037824265658855,-0.037152841687202,-0.175335586071014,-0.088920913636684,-0.070483624935150,0.037957359105349,0.009767764247954,0.014881163835526,0.088335663080215));
res += mul(Get(s3,dx,-dy), float4x4(0.044707704335451,0.001471796887927,-0.120116516947746,0.080990500748158,0.049826152622700,0.003100885776803,-0.046395543962717,-0.042835012078285,-0.014151906594634,0.020472504198551,0.184737771749496,-0.025409616529942,-0.004001574590802,0.114512696862221,0.016291035339236,0.020649783313274));
res += mul(Get(s3,dx,0), float4x4(-0.154113128781319,0.237412065267563,-0.092603795230389,0.086135052144527,-0.226221293210983,-0.058865085244179,-0.122657150030136,-0.129355326294899,0.083847269415855,-0.140380293130875,0.005750325974077,0.029716627672315,-0.121350288391113,0.178526654839516,0.072818331420422,-0.154230460524559));
res += mul(Get(s3,dx,dy), float4x4(-0.135674402117729,-0.015782274305820,-0.310498535633087,0.149810478091240,-0.174740493297577,0.123297840356827,-0.028870768845081,-0.188997432589531,-0.099476516246796,-0.065351270139217,0.042629752308130,-0.111304305493832,0.245964154601097,-0.135751366615295,-0.040297608822584,-0.119508653879166));
return max(float4(0,0,0,0), res);
}
