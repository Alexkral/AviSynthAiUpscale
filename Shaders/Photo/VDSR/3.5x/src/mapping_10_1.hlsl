sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.076106004416943,-0.066812112927437,-0.107346110045910,0.021516816690564,0.174329712986946,0.132819488644600,0.084799595177174,-0.178931295871735,-0.025986120104790,0.028715625405312,-0.138530194759369,-0.072556942701340,0.112971253693104,-0.095176763832569,0.201073557138443,-0.138078451156616));
res += mul(Get(s0,-dx,0), float4x4(0.081456743180752,-0.015359704382718,0.045717466622591,0.027477836236358,0.252795249223709,-0.016874935477972,-0.050326973199844,0.100480571389198,0.051774874329567,0.085780821740627,-0.027498243376613,-0.054244287312031,0.070083379745483,0.110211201012135,-0.008619280532002,-0.073832236230373));
res += mul(Get(s0,-dx,dy), float4x4(-0.042008463293314,-0.069618083536625,-0.133749678730965,-0.050330866128206,0.109889596700668,-0.035576470196247,0.102324321866035,0.085529051721096,0.135824397206306,0.028138808906078,-0.094204515218735,-0.015016837045550,-0.037379629909992,0.162363618612289,-0.018936226144433,-0.110000357031822));
res += mul(Get(s0,0,-dy), float4x4(0.048437926918268,-0.093850508332253,0.057554494589567,0.097126737236977,0.096990466117859,0.038818415254354,0.120887920260429,-0.255624562501907,-0.038703497499228,0.108609154820442,-0.040763724595308,-0.066963918507099,-0.035497225821018,-0.064279876649380,0.111195661127567,-0.078516021370888));
res += mul(Get(s0,0,0), float4x4(-0.006778088398278,0.059575993567705,0.137204393744469,0.109505675733089,0.003094893880188,0.033318880945444,-0.021733680739999,0.045844424515963,0.002608617302030,0.071611575782299,-0.081147894263268,-0.030924718827009,-0.135660797357559,-0.058381587266922,-0.056696418672800,0.089704073965549));
res += mul(Get(s0,0,dy), float4x4(-0.084529809653759,0.051763564348221,0.047195997089148,-0.002926500746980,0.043975315988064,-0.070697262883186,0.015534566715360,0.031044071540236,0.112494289875031,0.122718811035156,-0.122543215751648,-0.000842846871819,0.131452247500420,-0.070272140204906,-0.038429059088230,-0.005749498959631));
res += mul(Get(s0,dx,-dy), float4x4(-0.066000804305077,0.085333846509457,-0.006573282647878,-0.033600877970457,-0.123749889433384,-0.252310514450073,0.033220972865820,-0.282916247844696,-0.033090498298407,0.053538993000984,-0.002914526266977,0.019366683438420,0.064073793590069,0.003282032907009,-0.016630413010716,0.093874484300613));
res += mul(Get(s0,dx,0), float4x4(-0.030132155865431,-0.014951188117266,0.061548370867968,0.016309129074216,-0.198803961277008,-0.125961318612099,-0.028958339244127,0.182158902287483,0.136395245790482,0.043095991015434,-0.023322269320488,0.041789572685957,0.085040152072906,-0.072760961949825,-0.119545020163059,0.069643400609493));
res += mul(Get(s0,dx,dy), float4x4(-0.104638338088989,0.230953514575958,0.009504772722721,0.037497818470001,0.017861593514681,-0.083405129611492,-0.003103969618678,0.064693599939346,0.067224226891994,0.040636830031872,-0.097222276031971,0.034372150897980,0.175328940153122,-0.131879225373268,-0.124985300004482,0.036535747349262));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002641033148393,-0.219640851020813,-0.035906784236431,-0.124465756118298,-0.096322223544121,-0.090102493762970,-0.007521469146013,0.044603232294321,0.000340400874848,-0.022108346223831,0.153625726699829,-0.102206192910671,-0.185392186045647,0.130453854799271,-0.124753363430500,-0.244253575801849));
res += mul(Get(s1,-dx,0), float4x4(-0.069386921823025,-0.073868796229362,-0.018123935908079,-0.145706176757813,-0.044834971427917,-0.115330509841442,0.027019422501326,-0.192554697394371,-0.114292412996292,-0.006637989077717,0.112704053521156,-0.058742988854647,0.099301747977734,-0.070308588445187,0.126554876565933,-0.129877656698227));
res += mul(Get(s1,-dx,dy), float4x4(0.005127587821335,0.154348254203796,-0.017421051859856,0.138732388615608,-0.035986989736557,-0.042344938963652,0.018024984747171,-0.089315138757229,-0.154929414391518,-0.113656871020794,0.220866546034813,0.022424269467592,0.232003003358841,-0.092154569923878,0.256177008152008,0.035458736121655));
res += mul(Get(s1,0,-dy), float4x4(-0.051127918064594,-0.087188549339771,-0.030988676473498,-0.027515031397343,0.049794826656580,-0.082544043660164,-0.086852796375751,-0.096384145319462,0.006184509955347,-0.019837442785501,-0.109018296003342,-0.002037686761469,0.002000147942454,0.136965349316597,0.103951856493950,-0.127068474888802));
res += mul(Get(s1,0,0), float4x4(-0.118658579885960,-0.037177998572588,0.086073651909828,-0.157265186309814,0.031619038432837,0.097273983061314,-0.042260646820068,-0.040629085153341,-0.031466055661440,-0.016790281981230,-0.079977408051491,-0.019005453214049,-0.006270266603678,0.015101525932550,0.103757046163082,0.146542340517044));
res += mul(Get(s1,0,dy), float4x4(-0.026508271694183,0.026351891458035,0.006571551784873,0.087557107210159,-0.086276948451996,0.297633498907089,-0.137204274535179,-0.048021670430899,-0.125791296362877,0.068065010011196,-0.062934011220932,-0.040485057979822,-0.002077695215121,-0.073264367878437,-0.140639543533325,-0.091621637344360));
res += mul(Get(s1,dx,-dy), float4x4(0.166877776384354,-0.063021764159203,-0.169091671705246,-0.083553202450275,-0.010984042659402,-0.052484996616840,0.076972819864750,-0.075979046523571,-0.015906998887658,-0.088484369218349,0.018543943762779,-0.056893471628428,-0.065984159708023,0.089400008320808,0.073636695742607,0.091162212193012));
res += mul(Get(s1,dx,0), float4x4(-0.054478801786900,0.026578513905406,-0.063586428761482,0.110826790332794,-0.018052477389574,-0.063178867101669,0.095075413584709,0.004124551080167,0.028344510123134,-0.071119695901871,0.003817245131359,0.078245326876640,-0.076097577810287,0.004561758134514,-0.025374265387654,0.053751062601805));
res += mul(Get(s1,dx,dy), float4x4(-0.062003202736378,0.002830416196957,0.103441998362541,0.078297786414623,-0.115392245352268,0.020761510357261,-0.069517694413662,0.038011074066162,0.009062618017197,0.069151848554611,0.026374656707048,0.099227815866470,-0.002539144828916,-0.104873061180115,-0.103250995278358,-0.149029999971390));
res += mul(Get(s2,-dx,-dy), float4x4(0.024012269452214,-0.022754935547709,-0.046689376235008,-0.053272299468517,-0.111958026885986,-0.076081097126007,0.092603318393230,-0.131007939577103,-0.105925723910332,-0.112553007900715,0.049003656953573,0.042333081364632,0.020311135798693,0.125505268573761,-0.006175330374390,0.035396836698055));
res += mul(Get(s2,-dx,0), float4x4(-0.029184656217694,-0.045975387096405,-0.008451343514025,-0.095386110246181,-0.110690206289291,0.072020009160042,-0.044133730232716,-0.119626872241497,-0.015661798417568,0.109427317976952,0.042756196111441,0.069420091807842,0.158129513263702,-0.043587125837803,-0.020768757909536,-0.175650030374527));
res += mul(Get(s2,-dx,dy), float4x4(-0.029115635901690,-0.039943877607584,-0.099882557988167,-0.170841544866562,-0.078636005520821,0.078643232584000,-0.003164537018165,-0.040111441165209,0.087392844259739,0.036124702543020,0.187193334102631,-0.021424287930131,-0.067472867667675,-0.041460789740086,-0.050811655819416,-0.038842897862196));
res += mul(Get(s2,0,-dy), float4x4(0.104003496468067,0.033992920070887,-0.008237661793828,-0.119700737297535,-0.030446285381913,-0.112081572413445,-0.030433576554060,-0.055308233946562,-0.032985996454954,-0.073241747915745,-0.035463467240334,0.025835262611508,-0.031972013413906,0.088751129806042,0.060537446290255,-0.003662834409624));
res += mul(Get(s2,0,0), float4x4(0.033214196562767,-0.013587208464742,0.036366835236549,-0.058988399803638,-0.057094287127256,-0.006904968991876,-0.053872648626566,-0.019021941348910,-0.015137285925448,0.000392693327740,0.031200747936964,0.157789841294289,0.041553467512131,-0.015100261196494,-0.034991279244423,0.063700571656227));
res += mul(Get(s2,0,dy), float4x4(0.037773326039314,-0.033656038343906,-0.082589052617550,-0.053620502352715,-0.132179290056229,0.170404985547066,-0.044332843273878,0.050722084939480,0.207694664597511,-0.081998616456985,0.133923649787903,0.056013043969870,0.023200990632176,0.010719976387918,0.008856113068759,0.061203721910715));
res += mul(Get(s2,dx,-dy), float4x4(-0.051354780793190,-0.018477614969015,-0.083911560475826,-0.043345078825951,0.101464219391346,-0.089540019631386,-0.140992552042007,-0.061912316828966,-0.112088687717915,-0.051368843764067,-0.104891091585159,-0.025770863518119,0.149445369839668,-0.082264721393585,0.152779906988144,-0.142424076795578));
res += mul(Get(s2,dx,0), float4x4(-0.029341805726290,-0.092849195003510,-0.097828552126884,-0.079229243099689,0.275644004344940,-0.027121180668473,-0.061130627989769,-0.026343977078795,-0.073889173567295,-0.053221952170134,0.122311949729919,-0.024178462103009,0.000570316798985,0.060497846454382,0.154710471630096,0.081079818308353));
res += mul(Get(s2,dx,dy), float4x4(0.178355813026428,-0.089596658945084,-0.027409408241510,-0.091933779418468,0.060540068894625,-0.023023048415780,-0.030371701344848,0.011286308988929,-0.082759320735931,-0.280378401279449,-0.040235687047243,0.002094868570566,0.037236113101244,-0.024812608957291,0.101019978523254,0.116129711270332));
res += mul(Get(s3,-dx,-dy), float4x4(0.068111136555672,0.145770326256752,0.151944532990456,0.282902747392654,-0.134124010801315,-0.029733944684267,-0.015607637353241,0.003754545236006,0.217644214630127,0.097918130457401,-0.026903036981821,0.274810135364532,-0.104869075119495,-0.106012374162674,-0.202459260821342,-0.093916520476341));
res += mul(Get(s3,-dx,0), float4x4(-0.067327357828617,-0.024997500702739,-0.004708729684353,0.166572332382202,-0.076288655400276,0.082630679011345,-0.001897911890410,0.039274942129850,0.026308024302125,-0.087817132472992,0.073799565434456,0.019454045221210,-0.123828470706940,-0.009648314677179,-0.169444501399994,-0.005631888750941));
res += mul(Get(s3,-dx,dy), float4x4(-0.107103392481804,-0.058609727770090,-0.013320750556886,0.020679587498307,-0.199019849300385,-0.088795289397240,-0.011784031055868,0.051766749471426,0.037985943257809,0.043810825794935,0.048889581114054,0.050992559641600,-0.047803796827793,0.015442403033376,-0.060596033930779,0.045767679810524));
res += mul(Get(s3,0,-dy), float4x4(-0.019052902236581,0.115222096443176,-0.074877329170704,0.080801561474800,-0.174430549144745,0.046870734542608,-0.115074731409550,-0.129485577344894,0.129499867558479,0.168018668889999,0.039779029786587,0.069913916289806,-0.086386881768703,-0.081044368445873,-0.110457882285118,-0.002304983092472));
res += mul(Get(s3,0,0), float4x4(-0.058019127696753,-0.026751833036542,0.026013897731900,0.039211232215166,-0.076599396765232,-0.028660796582699,-0.104172691702843,0.085727684199810,-0.037236616015434,0.126958221197128,-0.016104500740767,-0.019123505800962,-0.031167352572083,0.097763195633888,-0.094658620655537,0.103513769805431));
res += mul(Get(s3,0,dy), float4x4(-0.072534777224064,-0.023949913680553,-0.036088909953833,0.021065592765808,-0.078689709305763,0.034824430942535,0.049859918653965,-0.176650360226631,-0.135375395417213,0.078334286808968,0.004963247571141,0.027030365541577,-0.005101154558361,-0.172368943691254,-0.088516771793365,0.161657661199570));
res += mul(Get(s3,dx,-dy), float4x4(0.057965580374002,0.069762974977493,0.020051650702953,0.115504734218121,-0.095905154943466,-0.013934960588813,0.105969041585922,0.080302335321903,-0.028862815350294,0.111438520252705,-0.092418976128101,0.268250823020935,-0.029686393216252,-0.039158310741186,-0.173453271389008,0.058912474662066));
res += mul(Get(s3,dx,0), float4x4(0.033187057822943,0.065336130559444,0.009132354520261,-0.042675737291574,-0.127210795879364,-0.068870238959789,0.193568170070648,0.115900345146656,0.080478116869926,0.042337086051702,-0.015374826267362,-0.103869162499905,-0.065451294183731,-0.044690012931824,-0.144181385636330,0.136196732521057));
res += mul(Get(s3,dx,dy), float4x4(-0.033395748585463,0.056628305464983,0.045241527259350,0.150651440024376,-0.141522571444511,-0.039385151118040,0.044390767812729,-0.020663427188993,-0.149307131767273,0.142157047986984,0.096332073211670,0.046693608164787,-0.021679257974029,-0.021618388593197,-0.106363929808140,0.063778571784496));
return max(float4(0,0,0,0), res);
}
