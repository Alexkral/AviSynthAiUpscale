sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.096620902419090,0.080921255052090,-0.056984856724739,-0.178470939397812,-0.126024156808853,0.061463207006454,0.047833167016506,-0.062154788523912,0.012974116019905,-0.037099566310644,-0.111346252262592,-0.089098550379276,-0.133258327841759,-0.097564741969109,-0.156839311122894,0.046794865280390));
res += mul(Get(s0,-dx,0), float4x4(-0.084761038422585,0.004776810295880,0.051463853567839,-0.124177291989326,-0.179160580039024,-0.155527174472809,-0.034934084862471,0.054932586848736,-0.016292482614517,-0.030933959409595,-0.040723253041506,-0.095720082521439,0.013423020951450,0.094592101871967,-0.135455489158630,-0.100656181573868));
res += mul(Get(s0,-dx,dy), float4x4(0.088631279766560,-0.091421127319336,-0.123395368456841,0.096291534602642,-0.156424909830093,-0.105826005339622,-0.015602436847985,0.031630322337151,0.138224586844444,-0.016447326168418,0.013106699101627,-0.077294930815697,0.091064177453518,0.039700735360384,0.103333994746208,-0.127464577555656));
res += mul(Get(s0,0,-dy), float4x4(0.135172337293625,-0.080182678997517,0.075454987585545,-0.040417578071356,-0.234501421451569,0.092204637825489,0.022989783436060,-0.130377963185310,0.104905694723129,0.029823429882526,-0.123796649277210,-0.167513415217400,0.030119294300675,-0.018625505268574,-0.049703765660524,0.018847962841392));
res += mul(Get(s0,0,0), float4x4(-0.128381341695786,-0.110784284770489,0.095835447311401,-0.061418410390615,0.180342376232147,0.245159119367599,0.061250686645508,0.041891958564520,0.065505869686604,-0.109247423708439,0.055989783257246,-0.056844972074032,-0.013719458132982,-0.321271985769272,0.058461010456085,0.030283005908132));
res += mul(Get(s0,0,dy), float4x4(0.261720806360245,0.058626893907785,-0.049921497702599,0.001441874424927,-0.015238362364471,0.246777161955833,0.014462669380009,0.118295729160309,0.139459520578384,0.033892434090376,-0.111193671822548,0.024457994848490,-0.077205285429955,-0.156470462679863,-0.257562041282654,-0.319701611995697));
res += mul(Get(s0,dx,-dy), float4x4(0.193959429860115,0.306110829114914,-0.055394839495420,-0.000230463861953,-0.158554360270500,-0.013876519165933,0.060481693595648,0.023584960028529,-0.032730832695961,-0.137029975652695,-0.026172900572419,-0.031763028353453,0.018832787871361,0.008798443712294,0.094381839036942,-0.095527082681656));
res += mul(Get(s0,dx,0), float4x4(-0.019969247281551,-0.063511103391647,0.161986097693443,0.027707258239388,-0.066752351820469,0.089135438203812,-0.041783742606640,0.093053355813026,-0.028248051181436,0.015829429030418,-0.066779784858227,0.055171653628349,-0.060387611389160,0.190651997923851,0.005627986975014,0.042720302939415));
res += mul(Get(s0,dx,dy), float4x4(0.060241896659136,-0.067674659192562,-0.087850667536259,0.129377976059914,-0.070412740111351,0.030684374272823,0.230282589793205,0.036786619573832,-0.144111320376396,-0.025205090641975,-0.132179692387581,-0.138281717896461,-0.248984202742577,0.012097496539354,-0.073694594204426,0.139804169535637));
res += mul(Get(s1,-dx,-dy), float4x4(0.078261725604534,-0.043110989034176,0.048360683023930,0.086945675313473,0.055494684726000,0.214281708002090,0.132021263241768,0.189655035734177,-0.036784686148167,0.117240563035011,-0.077509015798569,-0.040454871952534,0.055108111351728,0.109514184296131,0.063626416027546,-0.210065379738808));
res += mul(Get(s1,-dx,0), float4x4(-0.077372066676617,-0.036345556378365,0.059790227562189,0.003997622989118,-0.056142795830965,0.213534161448479,0.042010057717562,-0.151096969842911,0.030453123152256,0.095237076282501,0.007052763830870,0.019377160817385,-0.025213671848178,0.044410508126020,-0.051642507314682,-0.023164791986346));
res += mul(Get(s1,-dx,dy), float4x4(-0.005641906056553,0.051054745912552,0.222602933645248,0.008753741160035,0.022241065278649,0.025320565328002,0.059698306024075,-0.297938495874405,-0.020048458129168,-0.059570290148258,-0.034736029803753,-0.063557334244251,-0.254203051328659,0.208283096551895,0.075014807283878,-0.002731598215178));
res += mul(Get(s1,0,-dy), float4x4(0.155293464660645,0.214684441685677,-0.031825322657824,-0.072010248899460,-0.066179379820824,-0.178220719099045,0.179150044918060,-0.145235493779182,-0.037837971001863,-0.047089543193579,0.082987673580647,0.036852885037661,-0.028712701052427,-0.075230263173580,-0.113071709871292,-0.065260410308838));
res += mul(Get(s1,0,0), float4x4(0.033235955983400,0.261990368366241,-0.017726231366396,-0.000640917685814,-0.014630509540439,0.046789709478617,-0.068227060139179,-0.089565679430962,0.027430266141891,0.071846373379230,0.087786152958870,0.156433090567589,0.047480173408985,-0.010520016774535,0.038539741188288,-0.091869451105595));
res += mul(Get(s1,0,dy), float4x4(0.135969653725624,-0.099708378314972,0.074034310877323,0.174228340387344,0.007424579933286,0.170290231704712,-0.147575899958611,-0.003187858266756,-0.122254878282547,0.018414787948132,-0.124248303472996,-0.048360072076321,0.083443716168404,0.033491831272840,0.040417633950710,0.084178820252419));
res += mul(Get(s1,dx,-dy), float4x4(-0.106844730675220,-0.070938557386398,-0.166502803564072,0.184517040848732,-0.042147420346737,0.017645807936788,0.186142623424530,-0.144709676504135,-0.153654024004936,0.137836694717407,-0.014511061832309,0.058927174657583,0.209618896245956,0.030405556783080,0.076537542045116,0.293102324008942));
res += mul(Get(s1,dx,0), float4x4(0.032060973346233,-0.025888493284583,0.283933877944946,0.073660977184772,0.113130047917366,-0.096176415681839,-0.000220994159463,0.038726259022951,-0.086574733257294,0.134927287697792,0.056711956858635,0.008328240364790,-0.116325028240681,0.047053549438715,-0.038856338709593,-0.024696078151464));
res += mul(Get(s1,dx,dy), float4x4(-0.104129664599895,0.007527429144830,-0.184188514947891,0.172219142317772,-0.138538450002670,-0.003185692010447,0.124480046331882,-0.184673562645912,-0.084628984332085,-0.106124654412270,0.030043125152588,-0.017966564744711,0.053680811077356,-0.002924865577370,-0.103373140096664,-0.013675559312105));
res += mul(Get(s2,-dx,-dy), float4x4(0.131756067276001,-0.032468035817146,-0.020390911027789,-0.163927808403969,0.003127313684672,-0.234280005097389,0.063766546547413,0.063587881624699,0.109312564134598,0.104959130287170,-0.003086153184995,-0.176894828677177,0.132409512996674,0.031464621424675,-0.090299695730209,-0.036414269357920));
res += mul(Get(s2,-dx,0), float4x4(0.041693702340126,-0.214230194687843,0.021436324343085,-0.093252062797546,-0.013736816123128,0.089327298104763,0.000721513992175,-0.073667883872986,0.221869200468063,0.216660454869270,0.162613615393639,0.076608277857304,0.135988295078278,0.216117694973946,-0.141248360276222,-0.120213203132153));
res += mul(Get(s2,-dx,dy), float4x4(0.141474649310112,0.180307358503342,-0.022263381630182,0.034064248204231,-0.143723443150520,0.038077995181084,-0.023137660697103,0.035387616604567,-0.114223085343838,0.091769881546497,-0.031869083642960,-0.134736359119415,0.027389161288738,0.024085804820061,0.043981704860926,0.008247597143054));
res += mul(Get(s2,0,-dy), float4x4(0.147941395640373,-0.060309581458569,0.147994801402092,-0.024765580892563,-0.087549477815628,0.191212579607964,0.054156582802534,-0.086825087666512,-0.040842328220606,0.118642129004002,0.052324380725622,-0.106528200209141,0.110745228827000,-0.035181242972612,0.042458400130272,-0.051740799099207));
res += mul(Get(s2,0,0), float4x4(-0.095836959779263,0.082272015511990,-0.134726062417030,0.216876208782196,-0.048005867749453,0.110613137483597,0.068636819720268,-0.037308838218451,0.083275921642780,-0.056438315659761,-0.143669307231903,0.024417929351330,0.138717859983444,0.045738242566586,0.207844674587250,0.019491696730256));
res += mul(Get(s2,0,dy), float4x4(-0.045791361480951,0.040491435676813,0.101412713527679,0.117155030369759,-0.207983419299126,0.022716643288732,0.035427726805210,0.182379931211472,-0.004423332400620,-0.039032310247421,0.065229058265686,-0.002170431194827,0.066045239567757,0.104151114821434,0.207613602280617,-0.045749500393867));
res += mul(Get(s2,dx,-dy), float4x4(-0.161847814917564,0.081667676568031,-0.063780032098293,0.158033028244972,-0.151218250393867,0.043132700026035,0.048058941960335,-0.130354672670364,-0.006347137503326,0.181397065520287,0.163184881210327,0.100530475378036,-0.099896341562271,-0.075424842536449,0.224912971258163,-0.019274247810245));
res += mul(Get(s2,dx,0), float4x4(-0.093461155891418,0.088114745914936,-0.219650581479073,0.016820106655359,-0.205776706337929,0.069291912019253,-0.084725677967072,0.040239259600639,-0.147694230079651,-0.022154804319143,-0.062297988682985,-0.094229795038700,0.038502328097820,-0.114210046827793,0.064913593232632,0.217161118984222));
res += mul(Get(s2,dx,dy), float4x4(0.027100631967187,-0.083303555846214,-0.020241258665919,-0.213841706514359,-0.005090738646686,-0.107056207954884,0.216616421937943,-0.094015449285507,-0.015693079680204,-0.028154144063592,0.097393184900284,0.152964755892754,0.042250387370586,-0.086928740143776,-0.066798649728298,0.264335125684738));
res += mul(Get(s3,-dx,-dy), float4x4(-0.178521007299423,0.043348059058189,0.032156601548195,0.002218344947323,-0.232885047793388,0.165865123271942,0.058310516178608,-0.102997362613678,0.018244219943881,-0.109291359782219,-0.449754476547241,0.113995745778084,-0.143136769533157,0.023059310391545,0.139761596918106,0.199651390314102));
res += mul(Get(s3,-dx,0), float4x4(-0.075931563973427,0.019666993990541,-0.052410122007132,0.031922742724419,-0.042836222797632,-0.082021437585354,0.083399668335915,-0.012989873066545,-0.240938827395439,-0.010444726794958,-0.072223074734211,0.043793819844723,-0.173014596104622,-0.049296952784061,-0.074616961181164,0.024502493441105));
res += mul(Get(s3,-dx,dy), float4x4(-0.058799661695957,-0.135809704661369,-0.065995261073112,-0.037787333130836,0.148123249411583,-0.051232196390629,-0.024231409654021,-0.009986273944378,0.192408829927444,-0.149297162890434,0.192659974098206,-0.190459966659546,0.196674391627312,0.366267532110214,0.242838412523270,-0.032372228801250));
res += mul(Get(s3,0,-dy), float4x4(0.087789237499237,-0.126214727759361,0.114668555557728,0.079204283654690,0.048696357756853,0.049961432814598,0.216963842511177,-0.096136406064034,-0.087756894528866,0.021392745897174,-0.050053782761097,0.205687731504440,-0.088606171309948,0.242279708385468,0.038489587605000,0.031765244901180));
res += mul(Get(s3,0,0), float4x4(-0.091638363897800,0.167625650763512,0.044104311615229,0.066812492907047,0.056683186441660,-0.180850625038147,0.158744588494301,-0.183945968747139,-0.219841092824936,0.038586627691984,-0.247638434171677,-0.057869546115398,0.121401704847813,0.033689673990011,0.085414111614227,0.009023990482092));
res += mul(Get(s3,0,dy), float4x4(0.025152020156384,0.080920368432999,0.101335451006889,-0.065971367061138,-0.196748092770576,0.111507751047611,-0.126664116978645,-0.160602465271950,0.080595105886459,0.033868689090014,0.126931205391884,0.097776800394058,0.008491870947182,-0.127592816948891,-0.038679905235767,0.136280626058578));
res += mul(Get(s3,dx,-dy), float4x4(0.107213437557220,-0.151074066758156,0.091650210320950,-0.212859883904457,0.150483995676041,0.018547791987658,-0.028529131785035,-0.057202365249395,-0.150422036647797,0.141241341829300,0.118339300155640,-0.302476376295090,0.017311017960310,0.128130838274956,-0.081987194716930,0.133927449584007));
res += mul(Get(s3,dx,0), float4x4(-0.047123689204454,0.156742200255394,0.030829954892397,0.215540200471878,-0.121750093996525,0.121063709259033,-0.021025955677032,0.043602127581835,-0.095861978828907,0.146585434675217,0.016056893393397,0.063828639686108,-0.098219998180866,-0.056229900568724,0.064141705632210,0.063928425312042));
res += mul(Get(s3,dx,dy), float4x4(0.014483495615423,-0.149558380246162,-0.003348131896928,-0.225330844521523,-0.003336809808388,0.055378511548042,0.066158153116703,0.105801604688168,-0.214530840516090,-0.072471432387829,0.004117026925087,-0.139920741319656,-0.133820340037346,-0.221079036593437,0.058054983615875,-0.126608043909073));
return max(float4(0,0,0,0), res);
}
