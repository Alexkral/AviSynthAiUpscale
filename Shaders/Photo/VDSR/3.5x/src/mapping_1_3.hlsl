sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.004199536982924,-0.001762385596521,0.003699825843796,-0.001745552523062,-0.102699488401413,-0.142195820808411,-0.082231238484383,0.067763209342957,0.004452630877495,-0.004442274570465,0.000614119169768,0.000479725189507,-0.052857343107462,0.127609431743622,0.140394687652588,-0.502385616302490));
res += mul(Get(s0,-dx,0), float4x4(0.002828796627000,-0.000983764883131,-0.001391743426211,0.002739686053246,-0.179538935422897,-0.190504267811775,-0.106219947338104,0.218110859394073,0.002888508373871,0.003030096180737,-0.002815493149683,0.003864585421979,-0.396351248025894,0.236778631806374,0.408848464488983,-0.363420099020004));
res += mul(Get(s0,-dx,dy), float4x4(-0.000849665957503,0.001618390320800,-0.003703238908201,0.003699237015098,-0.286673933267593,0.232145994901657,-0.118587769567966,0.343351751565933,0.001171556999907,-0.001455862075090,-0.001473719719797,0.000213718958548,-0.117198109626770,-0.434759795665741,0.302668273448944,-0.736425697803497));
res += mul(Get(s0,0,-dy), float4x4(-0.001001540804282,0.003194864140823,0.008256888948381,-0.007721182424575,0.018494619056582,-0.329248011112213,0.000729796069209,-0.052042115479708,-0.003600992728025,0.012317589484155,-0.002448109211400,0.000394012837205,-0.127626746892929,-0.065930746495724,-0.213908866047859,0.131905704736710));
res += mul(Get(s0,0,0), float4x4(-0.000648514134809,-0.002892023883760,0.003117531072348,0.000761362258345,-0.040305707603693,-0.305587172508240,-0.004171957727522,0.066746152937412,0.001406200695783,-0.000531435944140,0.001584068988450,0.000523613824043,-0.037524472922087,-0.245289459824562,-0.072751708328724,0.173700094223022));
res += mul(Get(s0,0,dy), float4x4(-0.000839002779685,0.004117679782212,0.000680916476995,0.002214477397501,-0.143540024757385,-0.194887936115265,0.000288672046736,0.095137543976307,0.002198522444814,0.000878485152498,-0.005158513784409,-0.003052582265809,0.044159803539515,0.423695355653763,-0.155044630169868,-0.212863668799400));
res += mul(Get(s0,dx,-dy), float4x4(-0.004107706248760,0.000572186487261,-0.001450339332223,0.006984169129282,0.010190104134381,0.003985181450844,-0.057183526456356,0.127299636602402,0.003261970123276,-0.002306688809767,0.003545637242496,-0.002594609512016,0.045366238802671,0.015839345753193,-0.172330647706985,0.304650545120239));
res += mul(Get(s0,dx,0), float4x4(0.000345515582012,0.003229968249798,0.004403357859701,-0.005802431143820,0.007418905850500,0.008174021728337,-0.073155805468559,0.044593270868063,0.002162846736610,-0.004266851115972,0.000994848902337,0.000165199453477,0.240501001477242,-0.143752381205559,-0.071485891938210,0.501174509525299));
res += mul(Get(s0,dx,dy), float4x4(-0.000219099500100,0.003168948693201,0.004678336437792,-0.005971830338240,0.010590532794595,0.035718847066164,-0.072583965957165,-0.115689769387245,-0.001270814565942,0.002311319112778,0.003889688057825,-0.006103143095970,0.121788024902344,0.159266561269760,-0.155136182904243,0.477512806653976));
res += mul(Get(s1,-dx,-dy), float4x4(-0.000204815733014,-0.001522909500636,0.009174129925668,-0.000073594579590,0.000855759426486,0.001078879460692,-0.003066968638450,0.008288457989693,-0.000930695969146,0.007760722655803,0.000866001239046,0.001043681870215,-0.001203784253448,0.003652515821159,-0.003389470512047,0.001939418725669));
res += mul(Get(s1,-dx,0), float4x4(-0.000479078735225,0.000634828931652,-0.001275812624954,0.004891130141914,0.007474157493562,0.000102104575490,-0.004664116073400,-0.004826511256397,-0.000318601785693,0.004644846543670,-0.004123866092414,-0.002847527852282,0.007573914248496,-0.005102891009301,-0.005966172553599,0.000836306600831));
res += mul(Get(s1,-dx,dy), float4x4(0.000268043891992,0.002137071685866,-0.003822807688266,0.004973362665623,-0.006584599614143,0.006081573665142,0.005155244376510,0.000654554925859,-0.004138207528740,-0.001046087476425,0.000078171877249,-0.001105880830437,0.002394892275333,0.003462832886726,-0.004555759020150,-0.008848638273776));
res += mul(Get(s1,0,-dy), float4x4(-0.000281766348053,0.007559951860458,0.004339941311628,0.005688800010830,0.000704791105818,0.004856318235397,0.006567464210093,0.002685850951821,0.009459752589464,-0.010241480544209,-0.000333041709382,-0.003129163524136,-0.000634223688394,0.003558463184163,-0.002927704714239,-0.008087668567896));
res += mul(Get(s1,0,0), float4x4(0.000116039664135,0.007610489148647,0.006802161224186,0.000335164862918,-0.000884517678060,-0.000233024242334,-0.003333456581458,-0.001693018828519,0.003192200325429,0.000369112385670,0.000555622915272,0.000023291000616,-0.002070070477203,-0.004247864242643,-0.005585372913629,0.004530009347945));
res += mul(Get(s1,0,dy), float4x4(0.000317138386890,0.001607617828995,0.005180848296732,0.005666140466928,-0.002740181516856,-0.002414760412648,-0.000988924060948,-0.002170789288357,-0.002370733069256,0.005531560163945,-0.002106582047418,-0.000408604071708,-0.006034466437995,-0.000929700036068,0.004341254010797,-0.008663610555232));
res += mul(Get(s1,dx,-dy), float4x4(-0.001452812924981,0.002653213217854,-0.002425521844998,-0.003031260101125,0.000558176892810,-0.004777086898685,0.001743038068525,-0.000558133993763,-0.003518153447658,0.007742794230580,-0.004907066002488,-0.001973417587578,0.007234422955662,-0.003650360275060,-0.010562987066805,0.003518316196278));
res += mul(Get(s1,dx,0), float4x4(0.000044855903980,0.001263964339159,0.000093692440714,-0.001995657104999,0.002395664807409,-0.000463597505586,-0.000142628254252,0.001096836756915,-0.000447701488156,-0.001853407826275,-0.000987699721009,0.000306043424644,0.004650989081711,0.000366104068235,-0.009219138883054,-0.000378943368560));
res += mul(Get(s1,dx,dy), float4x4(-0.005863800644875,-0.003074749372900,-0.003527122782543,-0.003623650409281,-0.003451593918726,0.005130907986313,0.002437729155645,0.003802514402196,-0.000700578268152,0.002812342951074,-0.003348567057401,-0.003965662326664,-0.006865398492664,0.000007939995157,-0.002882889471948,0.002157029230148));
res += mul(Get(s2,-dx,-dy), float4x4(-0.271716505289078,-0.252877056598663,0.040987055748701,-0.063706442713737,0.007152464706451,-0.010587897151709,0.000305454916088,0.004311612341553,-0.004763260018080,-0.002905446803197,-0.005013056565076,-0.009718680754304,0.418250799179077,0.384153723716736,0.032490879297256,-0.784708559513092));
res += mul(Get(s2,-dx,0), float4x4(0.007183686830103,-0.291556000709534,0.131186157464981,-0.118196651339531,0.001741719897836,0.002231159014627,0.001649659825489,-0.009039145894349,0.001690470962785,-0.006322151515633,-0.000087531203462,0.000294426281471,0.068944334983826,0.157170400023460,0.012467703782022,-0.463511615991592));
res += mul(Get(s2,-dx,dy), float4x4(-0.092071294784546,-0.295528680086136,0.038139402866364,0.010841736570001,0.005719146225601,0.000368803885067,-0.000670023902785,0.002354727825150,0.001067566219717,-0.002529520774260,-0.006208369974047,0.002933277282864,0.009023421443999,-0.466535121202469,0.124521605670452,0.046553585678339));
res += mul(Get(s2,0,-dy), float4x4(-0.105647839605808,-0.654251039028168,-0.105478219687939,-0.035589680075645,0.008503847755492,-0.005637195426971,-0.002900998108089,-0.004179598297924,-0.004353409633040,0.000159362447448,-0.006281872745603,-0.008126622997224,0.639002919197083,0.704146623611450,0.059111226350069,-0.480701476335526));
res += mul(Get(s2,0,0), float4x4(0.162903130054474,0.373925536870956,-0.012713997624815,-0.091338589787483,-0.004106253851205,0.004335825797170,-0.003346090903506,-0.001693676691502,0.001191234681755,-0.000188250720385,0.005036917515099,0.003338267793879,-0.058926019817591,0.754865348339081,0.079894863069057,-0.293889164924622));
res += mul(Get(s2,0,dy), float4x4(-0.044448964297771,-0.552945852279663,-0.090801090002060,0.047160841524601,0.000359363737516,-0.003853103145957,-0.002677218290046,0.000594488461502,-0.004079242702574,-0.006297070067376,0.000601806328632,0.003744935151190,-0.205903187394142,-0.463724553585052,0.148897498846054,-0.613532483577728));
res += mul(Get(s2,dx,-dy), float4x4(-0.105894848704338,-0.078128270804882,-0.029964853078127,0.033115606755018,-0.005412771832198,-0.005886657163501,-0.002383307088166,-0.001355504733510,0.003705740207806,0.000526431424078,0.003681212896481,0.004816974047571,-0.227697715163231,-0.692413210868835,-0.025309864431620,1.399850487709045));
res += mul(Get(s2,dx,0), float4x4(-0.030171951279044,-0.033098731189966,-0.031956959515810,0.159146174788475,0.001384966890328,0.000377073505661,0.001294712652452,0.002720297779888,0.000007962052223,-0.002724054502323,-0.000640035839751,0.003265957348049,-0.452531844377518,-0.416970312595367,-0.152943849563599,1.266424417495728));
res += mul(Get(s2,dx,dy), float4x4(-0.190252497792244,-0.471448034048080,-0.086114443838596,0.185314759612083,-0.003918149974197,-0.002123436424881,0.000300394225633,-0.005056849215180,0.008762342855334,0.002201265655458,0.005143281072378,0.000740560935810,-0.131710171699524,0.197082892060280,-0.269077539443970,0.031322143971920));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001244616112672,-0.003899964969605,-0.002789560472593,0.000580370309763,0.001168211922050,0.007724510971457,-0.007082508876920,-0.001324549200945,-0.052270125597715,0.080180034041405,-0.038374375551939,-0.192968726158142,-0.004498191643506,0.091151356697083,0.042124349623919,-0.203802153468132));
res += mul(Get(s3,-dx,0), float4x4(-0.002041965257376,-0.011371389962733,-0.001289829728194,-0.005073504056782,-0.002387753687799,0.002447770908475,0.000473516993225,0.001888359547593,0.012616587802768,-0.236741483211517,0.000927206012420,-0.175752371549606,-0.019949981942773,0.104250237345695,0.089817903935909,-0.160018742084503));
res += mul(Get(s3,-dx,dy), float4x4(-0.004920903593302,-0.002655189950019,-0.002587685594335,-0.007363684009761,0.002926346845925,-0.000047860317864,-0.003119109664112,-0.007173649966717,0.002911752555519,0.017559835687280,-0.007129604928195,-0.140161350369453,-0.005118340719491,0.008798139169812,0.107597686350346,-0.146299093961716));
res += mul(Get(s3,0,-dy), float4x4(-0.014774829149246,-0.007551544811577,0.002704777987674,-0.002196199959144,0.000767705554608,0.005413976032287,0.006101259496063,0.002691004658118,-0.029557602480054,-0.110684782266617,-0.137115627527237,-0.122999876737595,-0.025554398074746,0.078042700886726,-0.154372543096542,0.036217067390680));
res += mul(Get(s3,0,0), float4x4(0.001576284645125,-0.008523873984814,0.000107284795376,0.009353303350508,-0.003588100429624,-0.002845848212019,-0.000798630528152,0.001732520759106,0.005655212327838,-0.009374048560858,-0.014304247684777,-0.134518802165985,-0.060301650315523,-0.105900377035141,-0.120922088623047,0.031403377652168));
res += mul(Get(s3,0,dy), float4x4(0.001439364859834,-0.004610656294972,0.004195054061711,0.005133175291121,0.005628126207739,0.000502959534060,0.006282561924309,0.002804823452607,0.019032787531614,-0.195884481072426,-0.014258724637330,-0.039953254163265,-0.083022303879261,-0.148288965225220,-0.089742369949818,0.017211487516761));
res += mul(Get(s3,dx,-dy), float4x4(-0.005577115342021,-0.003202330786735,-0.001991865225136,-0.002287344541401,-0.001184514025226,0.003200928447768,0.009551053866744,-0.002877858234569,-0.156079679727554,-0.073243647813797,-0.025320280343294,-0.063115917146206,-0.088062427937984,0.064869314432144,-0.075239479541779,-0.227071553468704));
res += mul(Get(s3,dx,0), float4x4(-0.001794347655959,0.007691425736994,0.003201809013262,-0.003295935457572,0.004028692375869,-0.001568487496115,0.001723308581859,-0.004047247115523,-0.120788075029850,-0.034269079566002,0.049105130136013,-0.059387907385826,-0.072218246757984,-0.102560117840767,-0.061488851904869,-0.142258778214455));
res += mul(Get(s3,dx,dy), float4x4(-0.010047898627818,0.005247185006738,0.000449964834843,-0.001907709403895,0.000211120408494,-0.001222028164193,-0.005705870687962,0.002164954552427,-0.085903242230415,0.027666458860040,0.090315066277981,0.005857179872692,-0.058617465198040,-0.000679155054968,-0.037748530507088,-0.119830213487148));
return max(float4(0,0,0,0), res);
}
