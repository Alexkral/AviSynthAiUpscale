sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000533601269126,0.004514094442129,0.003481405088678,0.005509518552572,-0.134080812335014,-0.024630790576339,-0.162224590778351,-0.369608014822006,-0.028772216290236,-0.036927107721567,-0.091747559607029,0.278793513774872,0.127613052725792,0.251609146595001,0.076878570020199,0.228150710463524));
res += mul(Get(s0,-dx,0), float4x4(0.000741661759093,-0.001701207482256,0.003400889225304,0.006152486894280,-0.071089908480644,0.109957411885262,-0.145260602235794,-0.005758880637586,-0.192794144153595,-0.149299606680870,0.035200592130423,0.414244443178177,0.127257764339447,0.076961971819401,-0.112793713808060,0.051561433821917));
res += mul(Get(s0,-dx,dy), float4x4(-0.001061359536834,-0.001121239387430,0.005632663611323,0.002099461853504,-0.107581965625286,0.120314709842205,0.098922811448574,0.015314926393330,-0.303978532552719,-0.057881578803062,0.160688400268555,0.305374324321747,-0.191144481301308,-0.003526180749759,0.007497099228203,-0.025655310600996));
res += mul(Get(s0,0,-dy), float4x4(0.000844910915475,-0.003366413293406,-0.000650835863780,0.000381631602068,-0.211688891053200,-0.019286759197712,-0.295483648777008,-0.201070174574852,-0.034512292593718,-0.080211803317070,-0.028888091444969,-0.150182455778122,0.246232166886330,-0.194877713918686,-0.053295504301786,0.103951722383499));
res += mul(Get(s0,0,0), float4x4(0.002250372199342,-0.004498794674873,-0.001868636463769,-0.001743054948747,-0.082535341382027,-0.128885164856911,-0.276382118463516,0.177124232053757,-0.181229948997498,0.030771354213357,0.062949582934380,-0.101954475045204,-0.031830459833145,-0.256616532802582,-0.018812565132976,-0.185312479734421));
res += mul(Get(s0,0,dy), float4x4(-0.000640537240542,0.003444719128311,-0.002110752044246,-0.004135533235967,-0.104337200522423,-0.238352060317993,0.330887556076050,-0.113749124109745,-0.158602178096771,0.116035260260105,0.009464558213949,-0.013391268439591,-0.551175594329834,-0.027016645297408,0.354702711105347,-0.184444442391396));
res += mul(Get(s0,dx,-dy), float4x4(-0.003494485048577,-0.002884474350139,0.005296533461660,-0.001014177803881,-0.196600824594498,0.075460940599442,-0.290997087955475,0.208016365766525,-0.121322289109230,-0.015265136025846,0.200441479682922,-0.016441455110908,0.409639984369278,0.109726853668690,-0.183697253465652,-0.092849552631378));
res += mul(Get(s0,dx,0), float4x4(0.001366846729070,0.000182548188604,-0.001740485196933,-0.003464648267254,-0.091137722134590,0.023263936862350,-0.283377498388290,0.208737641572952,-0.150856032967567,0.249529033899307,0.140535905957222,-0.051015593111515,0.075310282409191,-0.024046726524830,-0.143292516469955,-0.248450815677643));
res += mul(Get(s0,dx,dy), float4x4(0.000579857151024,0.004434078466147,0.004115410149097,-0.008244538679719,-0.067411094903946,0.109317235648632,0.231517538428307,-0.238125100731850,-0.123911902308464,-0.050269111990929,-0.116815909743309,0.049073152244091,-0.457194000482559,0.105598971247673,0.319398701190948,-0.143960177898407));
res += mul(Get(s1,-dx,-dy), float4x4(-0.003813572227955,-0.223903879523277,0.025151768699288,0.052670489996672,-0.030343135818839,0.055953215807676,0.001120974076912,0.081411555409431,-0.094751030206680,0.010868316516280,0.072759792208672,-0.044823601841927,0.017908068373799,-0.018028667196631,0.030495621263981,0.140026465058327));
res += mul(Get(s1,-dx,0), float4x4(0.008843529969454,0.092555671930313,-0.007904510945082,0.103242278099060,-0.034113213419914,0.102701507508755,0.018231680616736,0.084602840244770,-0.092939071357250,0.069261506199837,0.035041466355324,0.096841730177402,-0.049375176429749,0.016057727858424,0.065779067575932,0.227508097887039));
res += mul(Get(s1,-dx,dy), float4x4(-0.033790051937103,-0.203516587615013,-0.022706091403961,0.188094034790993,-0.031708609312773,0.026356847956777,0.013896176591516,0.029619883745909,-0.089003629982471,-0.115557476878166,0.242148220539093,0.076712019741535,-0.068329825997353,0.192247152328491,0.045978803187609,0.075359083712101));
res += mul(Get(s1,0,-dy), float4x4(-0.018220022320747,-0.220364570617676,0.067255988717079,-0.034551516175270,-0.038385890424252,0.072917021811008,0.021377325057983,0.024965858086944,-0.124490804970264,-0.098507352173328,-0.102050043642521,0.000696144998074,0.006237537134439,-0.058063250035048,0.056264184415340,0.090409994125366));
res += mul(Get(s1,0,0), float4x4(-0.029160521924496,0.052078798413277,-0.027520814910531,0.014816328883171,-0.017937399446964,0.131821021437645,0.018706439062953,0.025399336591363,-0.086847893893719,-0.025526018813252,-0.092250406742096,0.130429327487946,-0.039143763482571,0.027647569775581,0.043060652911663,0.158443570137024));
res += mul(Get(s1,0,dy), float4x4(-0.080083169043064,-0.076205961406231,-0.064007736742496,0.089448288083076,-0.021697143092752,0.109472215175629,0.003673910163343,-0.007222563959658,0.109941452741623,0.013565431348979,0.305577188730240,0.080595761537552,-0.057826198637486,0.101455159485340,-0.001026149373502,0.088931553065777));
res += mul(Get(s1,dx,-dy), float4x4(-0.034630391746759,-0.028286755084991,0.062761954963207,-0.022020453587174,-0.038229119032621,0.105842508375645,0.023612925782800,-0.025137836113572,-0.088521338999271,0.017915297299623,-0.075076214969158,0.106821872293949,-0.007164221722633,0.052370198071003,0.045548487454653,-0.009465927258134));
res += mul(Get(s1,dx,0), float4x4(-0.057833861559629,0.060153570026159,-0.031783446669579,0.005084471777081,-0.014693709090352,0.053074993193150,0.007900328375399,-0.026550834998488,-0.063305646181107,0.032262124121189,-0.110875509679317,-0.052298258990049,-0.042368188500404,0.092648006975651,0.009411699138582,0.018760068342090));
res += mul(Get(s1,dx,dy), float4x4(-0.096066571772099,-0.017158895730972,-0.066138610243797,0.085047282278538,-0.015521660447121,0.124783322215080,0.006792402826250,-0.032117377966642,0.147064387798309,-0.033278465270996,0.149810567498207,-0.059724304825068,-0.057883553206921,-0.134769901633263,-0.016176352277398,-0.010010980069637));
res += mul(Get(s2,-dx,-dy), float4x4(0.009100471623242,-0.183430790901184,0.006682783830911,0.088020391762257,-0.042789697647095,-0.424837440252304,0.013634898699820,0.025673558935523,0.027317790314555,-0.210922151803970,0.002419956261292,0.069248348474503,-0.378703385591507,0.213360637426376,-0.080732688307762,-0.171640157699585));
res += mul(Get(s2,-dx,0), float4x4(-0.048063918948174,0.035435039550066,0.090341374278069,-0.020626232028008,-0.010198850184679,0.347516983747482,-0.107551380991936,0.197516098618507,-0.122853800654411,-0.096737682819366,0.001561977202073,0.196431279182434,-0.166694000363350,-0.071299776434898,-0.141836374998093,-0.162931144237518));
res += mul(Get(s2,-dx,dy), float4x4(-0.032811194658279,0.057654451578856,-0.032570723444223,-0.033689722418785,-0.290591984987259,-0.211336776614189,-0.053636953234673,0.157802537083626,-0.224772453308105,0.058011375367641,-0.036761950701475,0.186939299106598,0.140169054269791,0.051975995302200,-0.268027573823929,-0.095650859177113));
res += mul(Get(s2,0,-dy), float4x4(-0.027585849165916,0.059066373854876,-0.025793431326747,0.006563943345100,0.014648761600256,0.305528461933136,-0.040046747773886,-0.072094589471817,0.046419400721788,-0.029514698311687,-0.048785228282213,0.092430025339127,-0.112015247344971,-0.034825682640076,-0.040916942059994,0.241294860839844));
res += mul(Get(s2,0,0), float4x4(-0.082309804856777,0.266059309244156,0.039197441190481,-0.142567962408066,0.113915152847767,1.220223069190979,-0.184525802731514,-0.124657340347767,-0.065753065049648,-0.009112096391618,-0.014758223667741,0.146080866456032,-0.134336918592453,-0.295733183622360,0.054800946265459,0.230969592928886));
res += mul(Get(s2,0,dy), float4x4(-0.043817557394505,-0.304733574390411,-0.050238829106092,-0.148694798350334,0.057366274297237,-0.405410557985306,-0.063379034399986,-0.147710055112839,-0.065514199435711,0.031361546367407,0.025640431791544,0.026693634688854,0.046175420284271,0.068854369223118,0.001518406555988,0.195891454815865));
res += mul(Get(s2,dx,-dy), float4x4(0.107183724641800,-0.089901804924011,-0.093570783734322,-0.004794710781425,0.105981029570103,-0.319906592369080,-0.014898719266057,-0.036239244043827,0.019671143963933,0.006541984155774,0.003526023123413,-0.014892934821546,0.571209907531738,0.134814769029617,-0.138562753796577,0.006570081692189));
res += mul(Get(s2,dx,0), float4x4(0.032304752618074,-0.030944859609008,-0.036716312170029,-0.138530462980270,0.153738543391228,-0.235451415181160,0.008673401549459,-0.121321976184845,-0.088066756725311,0.104165382683277,0.051530081778765,-0.088555112481117,0.331597626209259,-0.215108737349510,0.099227644503117,-0.109881035983562));
res += mul(Get(s2,dx,dy), float4x4(0.061461243778467,-0.009447050280869,-0.028894197195768,-0.039775617420673,0.092562884092331,0.104904621839523,-0.079919844865799,-0.062063474208117,-0.060355912894011,0.259754121303558,0.097927667200565,-0.135974720120430,0.078734524548054,0.188474535942078,0.116071909666061,-0.182540819048882));
res += mul(Get(s3,-dx,-dy), float4x4(0.030224177986383,-0.058801747858524,0.071377329528332,0.217208877205849,0.193896710872650,0.020987048745155,0.062546096742153,0.045984197407961,-0.026309907436371,-0.100511647760868,0.058080259710550,0.017927311360836,-0.054363325238228,-0.037248816341162,0.019851701334119,-0.157551139593124));
res += mul(Get(s3,-dx,0), float4x4(-0.029475424438715,-0.029747616499662,0.126067116856575,0.146326497197151,-0.117035955190659,-0.135907962918282,-0.017648566514254,-0.087992690503597,0.024150621145964,0.272792160511017,-0.033307708799839,0.018504884094000,0.120304495096207,-0.049643851816654,-0.054751705378294,0.164269819855690));
res += mul(Get(s3,-dx,dy), float4x4(-0.045537460595369,0.072625048458576,0.032353449612856,0.080731511116028,-0.186219096183777,-0.078567355871201,0.043752722442150,-0.105322502553463,-0.020576506853104,-0.150477394461632,0.007705793716013,-0.077236406505108,-0.079750351607800,-0.022214720025659,-0.104839332401752,0.114550217986107));
res += mul(Get(s3,0,-dy), float4x4(0.031609687954187,0.152479097247124,0.081307582557201,0.071846351027489,0.211434260010719,0.157271146774292,0.100777678191662,0.013318601995707,-0.022776642814279,-0.048536475747824,0.069177538156509,0.003481850726530,0.055648289620876,-0.090841233730316,-0.066282019019127,0.082711227238178));
res += mul(Get(s3,0,0), float4x4(-0.009137107059360,0.066812962293625,0.099102869629860,0.066195726394653,-0.090300939977169,0.094554021954536,-0.042734399437904,-0.084270074963570,0.004534826148301,0.143647193908691,-0.052449624985456,0.016733476892114,0.081562861800194,0.116069242358208,-0.086434058845043,0.084346592426300));
res += mul(Get(s3,0,dy), float4x4(-0.031152460724115,0.123750381171703,0.005203360691667,0.063603177666664,-0.221952930092812,0.059780772775412,0.041174422949553,-0.092699930071831,-0.000019905572117,-0.041321787983179,-0.022610990330577,-0.040026076138020,-0.111041940748692,-0.104565836489201,0.028039280325174,-0.032974246889353));
res += mul(Get(s3,dx,-dy), float4x4(0.006648204289377,0.203036382794380,0.055086132138968,0.006507169455290,0.136323720216751,-0.045519683510065,-0.018634473904967,0.032563246786594,-0.012932748533785,0.051847144961357,0.045099075883627,-0.040489897131920,0.047430846840143,-0.181918203830719,0.014618501067162,0.183955952525139));
res += mul(Get(s3,dx,0), float4x4(-0.007100007496774,-0.049459472298622,0.021799096837640,0.023451697081327,-0.022404290735722,-0.009679899550974,-0.157638803124428,0.008112682029605,0.006178678013384,-0.051962789148092,-0.044912524521351,0.001535317860544,-0.075344637036324,0.050990995019674,0.020377459004521,-0.061034981161356));
res += mul(Get(s3,dx,dy), float4x4(-0.037213746458292,-0.186769515275955,-0.004597465973347,0.028065323829651,-0.177211627364159,0.054803632199764,-0.023435320705175,0.053431626409292,-0.000939536432270,0.076397240161896,-0.027003496885300,-0.014653528109193,-0.201771363615990,-0.027186142280698,0.115979641675949,0.034110475331545));
return max(float4(0,0,0,0), res);
}
