sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.081454820930958,0.060030497610569,-0.024469710886478,-0.090703867375851,0.136183038353920,-0.125209823250771,-0.100974179804325,0.067428939044476,0.005619483534247,-0.065341085195541,0.045597992837429,0.067512892186642,0.144402176141739,-0.040715251117945,-0.101957596838474,0.046017691493034));
res += mul(Get(s0,-dx,0), float4x4(-0.005672187078744,-0.019265107810497,0.127454355359077,0.025955662131310,0.019017232581973,-0.088757447898388,-0.009602226316929,-0.000225733223488,-0.173065200448036,0.042100574821234,-0.052858497947454,0.016644727438688,-0.047303125262260,0.057440102100372,-0.089473247528076,-0.019041528925300));
res += mul(Get(s0,-dx,dy), float4x4(-0.029262648895383,-0.170463189482689,-0.159711986780167,0.136608093976974,-0.114979594945908,-0.039940189570189,-0.108123250305653,0.021470226347446,0.021753411740065,0.015989420935512,-0.158232405781746,-0.007326766382903,0.150164291262627,0.029567623510957,0.171072199940681,-0.023634409531951));
res += mul(Get(s0,0,-dy), float4x4(0.155545622110367,0.040990322828293,0.048736900091171,0.044316414743662,-0.063109189271927,0.001266291481443,-0.100468523800373,0.127460524439812,0.150725826621056,0.041851982474327,-0.114078879356384,0.051277074962854,0.192709401249886,-0.040039721876383,-0.125316038727760,-0.235413074493408));
res += mul(Get(s0,0,0), float4x4(-0.043711844831705,0.013990368694067,-0.031379137188196,-0.194162860512733,-0.062626689672470,0.083271719515324,-0.219890102744102,-0.062479928135872,-0.101281926035881,0.041866090148687,-0.028418639674783,0.109525889158249,0.129908785223961,0.243487671017647,0.095382206141949,0.018945593386889));
res += mul(Get(s0,0,dy), float4x4(0.040189128369093,0.087410517036915,0.042417097836733,0.223156630992889,-0.005013653542846,-0.235912412405014,-0.027969181537628,-0.202775433659554,-0.199316889047623,-0.130293592810631,-0.033478096127510,0.022339815273881,-0.022199543192983,0.111395962536335,-0.108583420515060,-0.186903178691864));
res += mul(Get(s0,dx,-dy), float4x4(0.029489168897271,-0.016605058684945,0.085331313312054,-0.061665628105402,-0.137558221817017,-0.020120525732636,0.098432958126068,0.018540637567639,-0.123592242598534,-0.244267255067825,0.104789629578590,0.131965562701225,0.186975330114365,-0.092807061970234,0.030223878100514,-0.168044969439507));
res += mul(Get(s0,dx,0), float4x4(-0.052071426063776,-0.035024501383305,0.128263905644417,0.067407399415970,0.152030423283577,0.044476218521595,-0.016153311356902,-0.172920465469360,0.171793654561043,-0.262711554765701,0.057135470211506,0.002624968998134,-0.038229502737522,-0.021951299160719,-0.324013769626617,-0.041893389075994));
res += mul(Get(s0,dx,dy), float4x4(-0.206218928098679,0.171375051140785,0.033672213554382,-0.034629032015800,0.005926170386374,-0.141323775053024,0.036377973854542,-0.074935048818588,-0.134131684899330,-0.114510074257851,0.080281712114811,-0.165767222642899,-0.001064029289410,0.221372336149216,-0.180290400981903,-0.105592690408230));
res += mul(Get(s1,-dx,-dy), float4x4(0.026943601667881,-0.050959240645170,-0.206896334886551,0.060774210840464,-0.105093680322170,0.005622210912406,-0.077812418341637,-0.044751815497875,-0.065166614949703,0.011273634620011,0.071987867355347,0.209071353077888,0.048343069851398,-0.198183044791222,-0.187781393527985,0.089228846132755));
res += mul(Get(s1,-dx,0), float4x4(-0.067134059965611,0.061059374362230,-0.091569565236568,0.009639993309975,-0.061007045209408,0.125622332096100,0.078780129551888,-0.044112522155046,-0.035228520631790,-0.034861609339714,0.209328189492226,0.136218041181564,0.028682053089142,-0.187537714838982,0.148235440254211,-0.026495633646846));
res += mul(Get(s1,-dx,dy), float4x4(-0.021553233265877,-0.010971002280712,0.069062456488609,0.159091427922249,0.019933538511395,-0.251974821090698,0.043372765183449,-0.080675117671490,0.131637513637543,0.095186792314053,0.100898005068302,0.322826772928238,0.046670965850353,0.039065763354301,0.115717619657516,-0.078058138489723));
res += mul(Get(s1,0,-dy), float4x4(-0.046104405075312,0.128544375300407,-0.131781473755836,-0.036158893257380,0.052911207079887,0.024496274068952,-0.005871304776520,0.000954293296672,0.113984361290932,-0.002177912509069,0.017929323017597,-0.047858115285635,-0.121512390673161,0.129722684621811,-0.131173580884933,-0.006677528843284));
res += mul(Get(s1,0,0), float4x4(-0.085522457957268,-0.052155334502459,-0.037883099168539,-0.108836546540260,-0.032617591321468,-0.024891180917621,0.032419454306364,-0.112145714461803,0.184127405285835,0.078450068831444,-0.294794529676437,0.129891663789749,-0.014044810086489,0.002679145662114,0.227953955531120,0.059224292635918));
res += mul(Get(s1,0,dy), float4x4(-0.118989028036594,-0.162702769041061,0.092999659478664,0.008113335818052,-0.060073439031839,0.035287953913212,-0.106041692197323,-0.029508199542761,-0.015458237379789,-0.020379623398185,-0.015909871086478,0.099952027201653,0.130941897630692,0.018500255420804,-0.065300613641739,-0.008438392542303));
res += mul(Get(s1,dx,-dy), float4x4(-0.018071595579386,-0.051428057253361,0.064511716365814,-0.102275043725967,-0.057671047747135,-0.201924145221710,-0.076004140079021,0.018821164965630,-0.012197664938867,-0.125852182507515,0.202191874384880,-0.166142940521240,0.146540999412537,0.122760795056820,0.098591580986977,0.322224944829941));
res += mul(Get(s1,dx,0), float4x4(0.103872708976269,0.015851719304919,0.004330246243626,0.066236838698387,-0.008575072512031,-0.050700463354588,-0.004326798021793,-0.100669123232365,0.009036810137331,0.001168403308839,0.084897547960281,0.098409608006477,0.028497723862529,0.033731769770384,0.033151112496853,0.010273621417582));
res += mul(Get(s1,dx,dy), float4x4(0.020131846889853,-0.128398329019547,-0.128439679741859,-0.160403236746788,0.161528259515762,-0.106254868209362,0.018099172040820,0.027674583718181,-0.002880027517676,0.123100966215134,-0.005411441903561,0.135024279356003,0.041180688887835,-0.112156398594379,0.125239804387093,0.057553969323635));
res += mul(Get(s2,-dx,-dy), float4x4(-0.128858104348183,-0.167011678218842,0.027168108150363,-0.066813997924328,-0.047273635864258,0.016265416517854,-0.084665462374687,-0.149224177002907,0.038419164717197,0.188891425728798,-0.035571813583374,0.124695166945457,0.028366914018989,0.055085595697165,-0.006322487257421,0.153444498777390));
res += mul(Get(s2,-dx,0), float4x4(0.004470964428037,-0.077256731688976,0.109021633863449,-0.053207654505968,-0.000528275850229,-0.181601986289024,0.128809452056885,-0.059393346309662,0.002728782128543,0.059166401624680,-0.074525691568851,0.021674193441868,-0.077994182705879,-0.016591060906649,0.146310254931450,0.175028458237648));
res += mul(Get(s2,-dx,dy), float4x4(0.162211224436760,-0.086851581931114,-0.055613655596972,-0.140478402376175,0.014339731074870,-0.057602237910032,0.124903760850430,-0.131877616047859,0.019404251128435,-0.117344282567501,0.163481727242470,0.118606589734554,0.332019120454788,-0.121248699724674,0.082816012203693,-0.032441619783640));
res += mul(Get(s2,0,-dy), float4x4(-0.008760571479797,-0.151223659515381,0.007099361158907,0.044528931379318,0.052466001361609,0.151576012372971,-0.120109103620052,-0.187875941395760,-0.188370883464813,-0.029337288811803,0.091039717197418,-0.130550473928452,0.208440169692039,0.072204671800137,0.018043301999569,0.138811573386192));
res += mul(Get(s2,0,0), float4x4(-0.126279488205910,0.076201222836971,0.035876985639334,0.016008978709579,-0.259529083967209,-0.019947122782469,-0.024843683466315,-0.073492839932442,-0.147969290614128,-0.018759509548545,-0.082319706678391,0.219431668519974,0.032848197966814,0.158947303891182,0.082487612962723,0.071599155664444));
res += mul(Get(s2,0,dy), float4x4(0.023701163008809,-0.009825946763158,0.043441414833069,0.014195854775608,0.090395376086235,0.006461100187153,0.057302314788103,0.130006238818169,0.084155514836311,-0.063558176159859,0.098379217088223,-0.082627668976784,0.196324497461319,0.012300220318139,0.027197888121009,-0.294045537710190));
res += mul(Get(s2,dx,-dy), float4x4(-0.089082337915897,-0.121729969978333,-0.046688936650753,-0.071862116456032,0.008659004233778,0.068517699837685,0.127179697155952,-0.218909248709679,0.117177881300449,0.139153137803078,0.044252790510654,-0.046901486814022,-0.120652578771114,-0.026177955791354,0.295191228389740,-0.048864036798477));
res += mul(Get(s2,dx,0), float4x4(0.203702285885811,0.082718774676323,-0.060331355780363,-0.082510262727737,0.009895424358547,-0.068496122956276,0.064601801335812,-0.094825923442841,0.016838541254401,-0.034393996000290,0.000985999940895,-0.105371050536633,-0.025668567046523,0.024803454056382,0.057937081903219,0.008055646903813));
res += mul(Get(s2,dx,dy), float4x4(-0.051300752907991,-0.025450497865677,0.001116254832596,-0.116428591310978,-0.054705232381821,0.090421088039875,0.002627660753205,0.080312073230743,0.008666317909956,-0.134864762425423,0.083921879529953,-0.037008710205555,0.031124964356422,-0.001361551810987,-0.135191679000854,0.195980653166771));
res += mul(Get(s3,-dx,-dy), float4x4(-0.014288327656686,-0.154865354299545,0.061203312128782,0.007007397245616,0.179087966680527,0.004976307973266,-0.017361659556627,-0.049929678440094,-0.103900767862797,0.068786233663559,-0.047059156000614,0.148332968354225,-0.138303101062775,0.221425130963326,-0.084529876708984,0.036783400923014));
res += mul(Get(s3,-dx,0), float4x4(-0.220597609877586,0.043447084724903,0.126477852463722,-0.061437964439392,-0.015564825385809,-0.158333778381348,0.060601308941841,-0.143292129039764,0.219824895262718,0.019899798557162,0.043759025633335,-0.068996027112007,0.070725545287132,-0.222530439496040,0.002400387311354,-0.232695147395134));
res += mul(Get(s3,-dx,dy), float4x4(-0.057595394551754,0.003799787955359,0.285151630640030,0.145015805959702,0.068974256515503,0.106553152203560,0.078121326863766,-0.084399022161961,-0.130391180515289,-0.157719925045967,0.037637881934643,0.014599897898734,-0.117733299732208,-0.025600707158446,-0.158065021038055,-0.119657151401043));
res += mul(Get(s3,0,-dy), float4x4(0.044577233493328,-0.011471891775727,-0.061356477439404,0.024986533448100,-0.000444818811957,-0.044223312288523,0.135810151696205,0.035643327981234,0.018534081056714,-0.025933727622032,-0.139449998736382,0.078842744231224,-0.100038126111031,-0.002021552296355,-0.065783232450485,0.160675972700119));
res += mul(Get(s3,0,0), float4x4(0.033685389906168,-0.095286831259727,0.037416420876980,0.015095925889909,-0.071231953799725,-0.136610358953476,0.100154690444469,0.111055985093117,0.121801689267159,0.038635559380054,-0.088332414627075,0.051807146519423,-0.202039986848831,0.255774468183517,-0.050464477390051,0.005680853966624));
res += mul(Get(s3,0,dy), float4x4(-0.093495018780231,0.012798126786947,0.168106824159622,-0.175468534231186,0.075765050947666,-0.105067007243633,-0.014813265763223,0.013364816084504,0.174208208918571,0.151855364441872,0.193817391991615,0.127358734607697,-0.015831362456083,-0.043328445404768,-0.000500722380821,0.040749099105597));
res += mul(Get(s3,dx,-dy), float4x4(-0.028437362983823,0.108960874378681,-0.015770763158798,-0.000710330670699,0.001196169061586,-0.262440532445908,-0.107165060937405,-0.164159342646599,0.222048416733742,0.151737794280052,0.101750537753105,0.039482619613409,-0.089512772858143,-0.019031487405300,0.126357927918434,0.039150107651949));
res += mul(Get(s3,dx,0), float4x4(0.078655071556568,-0.194736868143082,-0.028645973652601,-0.027918340638280,-0.110893361270428,0.069910503923893,0.157733678817749,-0.024749329313636,0.075305640697479,0.144744753837585,-0.186228781938553,-0.051845036447048,-0.133909657597542,-0.042434077709913,-0.119256138801575,-0.130196556448936));
res += mul(Get(s3,dx,dy), float4x4(-0.052083522081375,-0.033040530979633,-0.080348797142506,0.060174375772476,0.077678896486759,0.021616257727146,0.009977632202208,-0.200482055544853,-0.189616382122040,-0.027248339727521,-0.049071405082941,-0.056877531111240,-0.211871936917305,0.034287858754396,-0.194770127534866,-0.029786806553602));
return max(float4(0,0,0,0), res);
}
