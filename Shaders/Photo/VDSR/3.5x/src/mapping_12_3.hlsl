sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.032983932644129,0.067798286676407,0.137158602476120,0.177159741520882,0.021389281377196,0.020747378468513,-0.040319219231606,-0.074523791670799,0.001351321465336,0.018275046721101,-0.120080225169659,0.042743064463139,-0.092607691884041,0.142597496509552,0.114343427121639,0.037983641028404));
res += mul(Get(s0,-dx,0), float4x4(0.185215666890144,-0.004849889781326,-0.175644934177399,0.140930116176605,-0.046123985201120,0.048460781574249,0.072920195758343,0.113521501421928,-0.012193864211440,-0.021440425887704,-0.051017336547375,-0.005040815565735,-0.188947498798370,-0.110262162983418,0.063200533390045,0.085563860833645));
res += mul(Get(s0,-dx,dy), float4x4(0.035700101405382,-0.041711833328009,-0.024060720577836,-0.031844001263380,0.057354118674994,0.107132844626904,-0.157660782337189,-0.117032289505005,0.077037230134010,-0.006710934918374,-0.093607671558857,0.063105620443821,0.118780344724655,0.148450508713722,0.144426122307777,0.125238746404648));
res += mul(Get(s0,0,-dy), float4x4(-0.105194091796875,0.064717911183834,-0.009594955481589,-0.005298693664372,-0.026980251073837,-0.025905819609761,0.134628534317017,-0.119501590728760,-0.060057651251554,0.176415592432022,0.020215066149831,-0.037585169076920,0.079938583076000,0.118050172924995,0.191903710365295,0.116050049662590));
res += mul(Get(s0,0,0), float4x4(-0.121750280261040,0.020450273528695,0.158765703439713,-0.030395071953535,0.012349799275398,0.221020713448524,0.136367857456207,0.097744807600975,0.002407402964309,-0.192482262849808,0.085571371018887,-0.105306841433048,0.032214339822531,-0.072278417646885,0.180404424667358,0.082161344587803));
res += mul(Get(s0,0,dy), float4x4(0.111487813293934,-0.260623008012772,0.285700082778931,0.107655175030231,0.137095987796783,0.118738055229187,0.137949630618095,0.046611305326223,-0.019065320491791,-0.042971462011337,0.076996430754662,-0.050849862396717,-0.056125484406948,-0.118160992860794,0.014548818580806,-0.013491916470230));
res += mul(Get(s0,dx,-dy), float4x4(-0.005025440361351,-0.023986287415028,-0.107498854398727,-0.086749218404293,0.206062003970146,0.059090141206980,-0.106824308633804,0.001211311202496,0.092275053262711,0.104073867201805,-0.059008464217186,0.220380082726479,0.084306992590427,-0.081239759922028,0.200347930192947,-0.013889957219362));
res += mul(Get(s0,dx,0), float4x4(-0.040579255670309,0.112637676298618,0.114309638738632,0.093605034053326,0.015312490053475,0.161421492695808,-0.009024669416249,0.078045330941677,0.110637433826923,0.238977804780006,-0.092093862593174,0.013252779841423,0.100833222270012,-0.079476200044155,0.082341141998768,-0.020869566127658));
res += mul(Get(s0,dx,dy), float4x4(0.106188468635082,-0.057638112455606,-0.061904713511467,0.112517677247524,0.046996276825666,0.087460003793240,-0.003028807230294,-0.034149874001741,-0.106201194226742,0.082960605621338,0.054958950728178,0.040716998279095,0.148252129554749,-0.151063248515129,0.180194675922394,-0.115844629704952));
res += mul(Get(s1,-dx,-dy), float4x4(0.088383600115776,-0.114436991512775,0.105820938944817,-0.049634858965874,0.067495323717594,0.024321204051375,0.207755893468857,0.070538014173508,0.014106014743447,0.001128463307396,0.262286216020584,-0.096552699804306,-0.046039804816246,0.050646685063839,0.007001761347055,-0.043005410581827));
res += mul(Get(s1,-dx,0), float4x4(-0.000369183602743,0.041674841195345,-0.016398286446929,-0.112885095179081,0.166862085461617,-0.036275215446949,-0.142839446663857,0.017067618668079,-0.011732307262719,0.182106778025627,-0.162334293127060,0.033815599977970,-0.098867230117321,0.046624157577753,0.122183412313461,0.087925463914871));
res += mul(Get(s1,-dx,dy), float4x4(-0.014753888361156,-0.154424488544464,-0.180001184344292,0.251976370811462,0.087116271257401,-0.036753661930561,0.098346702754498,-0.018154498189688,-0.066011361777782,0.121473670005798,0.069648340344429,-0.138494193553925,0.037905033677816,0.082730785012245,-0.026825692504644,0.068855494260788));
res += mul(Get(s1,0,-dy), float4x4(-0.009488439187407,0.074540406465530,0.025434469804168,-0.035996120423079,-0.114648565649986,0.068187482655048,0.010396789759398,-0.210881128907204,-0.030604591593146,0.028094194829464,-0.079932674765587,0.170698225498199,0.098469763994217,-0.000344638800016,-0.070945583283901,0.072968497872353));
res += mul(Get(s1,0,0), float4x4(0.144382536411285,0.131411612033844,0.189983472228050,0.015357055701315,-0.139630883932114,-0.034744028002024,-0.010639953427017,0.006778127979487,0.076712250709534,-0.009371776133776,-0.064684070646763,0.111530527472496,0.149147212505341,-0.063552662730217,-0.051792182028294,0.042709983885288));
res += mul(Get(s1,0,dy), float4x4(0.011532725766301,-0.194792196154594,-0.142223402857780,0.211016908288002,0.109181225299835,-0.073496818542480,0.014601505361497,-0.002151681110263,-0.081627592444420,-0.025620818138123,-0.110864169895649,0.109856426715851,0.194582194089890,-0.061951883137226,-0.010085246525705,-0.023345373570919));
res += mul(Get(s1,dx,-dy), float4x4(-0.010302817448974,-0.087566763162613,-0.152681156992912,-0.124829925596714,0.043226093053818,0.230982363224030,0.002382298000157,-0.104970179498196,-0.180953875184059,-0.148265898227692,-0.163390904664993,-0.056505020707846,0.054886288940907,0.027906529605389,0.225045919418335,-0.055924382060766));
res += mul(Get(s1,dx,0), float4x4(0.028446100652218,0.025880705565214,-0.201060503721237,-0.101716667413712,-0.136156842112541,0.031858902424574,-0.053147967904806,-0.121995918452740,-0.006634828634560,0.006949755363166,-0.050247188657522,0.024906715378165,-0.026798287406564,0.224247798323631,-0.001707658986561,-0.115929275751114));
res += mul(Get(s1,dx,dy), float4x4(-0.151477143168449,-0.020571939647198,-0.124290868639946,0.119356714189053,-0.063324555754662,0.163827240467072,-0.029643833637238,0.156895667314529,-0.033960554748774,0.102629527449608,0.049173455685377,0.083018012344837,0.101693458855152,0.068696849048138,0.098353676497936,-0.162676006555557));
res += mul(Get(s2,-dx,-dy), float4x4(0.090616181492805,0.035982280969620,0.001069729914889,-0.056363020092249,-0.242575213313103,-0.018045691773295,0.028880728408694,-0.045544855296612,-0.196409612894058,0.021607311442494,0.071893535554409,0.070720739662647,0.073652058839798,0.039621643722057,-0.176620945334435,0.067780673503876));
res += mul(Get(s2,-dx,0), float4x4(0.009834126569331,0.019052857533097,0.124390959739685,-0.053923547267914,0.018779229372740,-0.038924023509026,-0.192410543560982,-0.000675653340295,-0.147919222712517,0.021521098911762,-0.099154248833656,0.217815607786179,-0.157180935144424,0.130751535296440,-0.055155728012323,0.077929116785526));
res += mul(Get(s2,-dx,dy), float4x4(0.107948087155819,0.125500664114952,-0.047333389520645,-0.155203893780708,0.078917346894741,0.052916120737791,-0.032111585140228,-0.048295903950930,0.050470545887947,-0.049976784735918,0.086831025779247,0.040270302444696,-0.070446297526360,0.181925758719444,0.016661848872900,-0.136889278888702));
res += mul(Get(s2,0,-dy), float4x4(0.063398942351341,0.201412796974182,-0.032714385539293,0.067379072308540,-0.233926743268967,0.002184659708291,0.030844798311591,-0.011444216594100,-0.155595317482948,0.051362358033657,0.002814668463543,-0.044250186532736,-0.066984936594963,-0.137187600135803,0.040740661323071,0.010615743696690));
res += mul(Get(s2,0,0), float4x4(0.067164853215218,0.080202780663967,0.073767557740211,0.136376768350601,0.080368965864182,0.029382109642029,0.031534902751446,0.027053125202656,-0.086826801300049,-0.008329170756042,-0.148542553186417,-0.052852049469948,0.077204585075378,0.095196180045605,-0.014938567765057,0.097582407295704));
res += mul(Get(s2,0,dy), float4x4(0.124227806925774,-0.093326181173325,-0.070475354790688,-0.003024358535185,0.092506326735020,0.014426369220018,0.012918747961521,-0.129834711551666,0.144793108105659,0.067378848791122,0.026870507746935,0.050139974802732,-0.178580865263939,-0.066246643662453,0.021064048632979,0.055759597569704));
res += mul(Get(s2,dx,-dy), float4x4(-0.059592738747597,-0.118834182620049,0.092132568359375,-0.127599254250526,-0.022027276456356,-0.110325329005718,-0.039672259241343,-0.018562151119113,0.014936725609004,-0.145679935812950,0.104856699705124,-0.053846739232540,0.003390532918274,0.066941238939762,0.006524045020342,-0.073295779526234));
res += mul(Get(s2,dx,0), float4x4(0.025051884353161,-0.028053835034370,0.097420930862427,0.009376905858517,-0.040334053337574,-0.010938754305243,-0.125916182994843,0.054978732019663,0.045210447162390,0.038370989263058,0.059961304068565,-0.226790755987167,0.039151612669230,-0.137760609388351,0.285639762878418,-0.060543958097696));
res += mul(Get(s2,dx,dy), float4x4(0.140185266733170,0.039290748536587,0.045971117913723,0.027032664045691,-0.022868724539876,-0.118805989623070,-0.040625639259815,-0.052390754222870,-0.106012649834156,-0.067031800746918,-0.168224960565567,-0.057263512164354,-0.085861280560493,-0.105874150991440,0.113642461597919,-0.140685617923737));
res += mul(Get(s3,-dx,-dy), float4x4(0.036068726330996,-0.045867271721363,-0.144866943359375,-0.040914554148912,0.206018224358559,-0.091786190867424,-0.004356913734227,-0.166099056601524,0.052363477647305,0.040163841098547,0.064713150262833,0.119768753647804,-0.006921117193997,-0.143995687365532,0.078435517847538,-0.072423063218594));
res += mul(Get(s3,-dx,0), float4x4(-0.110543265938759,0.111125148832798,0.002122486475855,-0.082101561129093,-0.101983360946178,0.041741404682398,-0.071135967969894,0.067259795963764,0.010688110254705,0.019695844501257,-0.164969891309738,0.112631954252720,0.036878228187561,0.015680009499192,0.098681882023811,-0.024330664426088));
res += mul(Get(s3,-dx,dy), float4x4(-0.081482551991940,-0.180788233876228,-0.047473978251219,0.129797875881195,0.156355172395706,0.072748214006424,-0.024278759956360,0.108177021145821,0.140023365616798,0.086500339210033,0.072936654090881,0.037531692534685,-0.120384670794010,-0.079544410109520,-0.151962593197823,0.003245201893151));
res += mul(Get(s3,0,-dy), float4x4(-0.150529086589813,-0.051875647157431,0.008025523275137,0.043523460626602,0.057578194886446,-0.222852855920792,0.111684836447239,0.216176778078079,-0.062848567962646,0.191632732748985,-0.005231094080955,-0.133996546268463,-0.101740092039108,-0.148783758282661,0.055072300136089,0.014308839105070));
res += mul(Get(s3,0,0), float4x4(0.061409246176481,-0.020441275089979,0.005841099657118,0.042828649282455,0.082539498806000,0.064090639352798,0.112436659634113,0.064025215804577,0.176401019096375,0.088743835687637,-0.108060836791992,-0.035714887082577,0.052745819091797,0.100250743329525,-0.083882592618465,0.053347095847130));
res += mul(Get(s3,0,dy), float4x4(-0.196938678622246,0.007065527141094,0.118797175586224,-0.088588654994965,-0.079456083476543,0.032173473387957,-0.230811372399330,-0.100506521761417,0.010508964769542,-0.104009971022606,-0.011321770958602,0.067962095141411,0.026103531941772,-0.030228832736611,-0.007373746018857,0.156411677598953));
res += mul(Get(s3,dx,-dy), float4x4(0.022814745083451,0.032222703099251,-0.050819374620914,-0.010435569100082,0.137179568409920,0.178912743926048,0.064019829034805,0.057407096028328,-0.003009852720425,0.153316944837570,0.227119788527489,0.031958721578121,-0.016056461259723,-0.113456301391125,-0.032616022974253,0.063624694943428));
res += mul(Get(s3,dx,0), float4x4(0.061623852699995,0.087680339813232,0.068618513643742,-0.194665834307671,-0.085244864225388,-0.006959204562008,-0.137960553169250,-0.146970108151436,-0.068017974495888,0.024042952805758,0.155238330364227,0.003246080596000,0.000644467887469,0.140564456582069,0.237932354211807,0.054502673447132));
res += mul(Get(s3,dx,dy), float4x4(0.021928368136287,0.132688403129578,-0.062249220907688,-0.015299296937883,-0.078892402350903,-0.035518869757652,-0.115300387144089,-0.010932138189673,0.106343932449818,0.057259079068899,-0.103399798274040,0.133972272276878,-0.000264532776782,-0.011792736127973,0.166668698191643,0.026544386520982));
return max(float4(0,0,0,0), res);
}
