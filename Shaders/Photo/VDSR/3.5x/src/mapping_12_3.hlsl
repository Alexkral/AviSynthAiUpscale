sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.128474071621895,-0.086133316159248,-0.245467096567154,-0.116190031170845,-0.035747300833464,0.102797321975231,0.048879902809858,-0.015325017273426,0.023212671279907,-0.114394098520279,-0.078642912209034,-0.094890765845776,-0.234725341200829,-0.027115749195218,0.109467394649982,0.090721353888512));
res += mul(Get(s0,-dx,0), float4x4(0.088134989142418,-0.098111838102341,-0.022694677114487,-0.056011382490396,-0.071540847420692,-0.116122364997864,0.097454056143761,-0.077129438519478,-0.116873085498810,-0.007281530648470,0.059757154434919,0.119806319475174,0.023896537721157,-0.047411236912012,0.037417493760586,0.054350260645151));
res += mul(Get(s0,-dx,dy), float4x4(-0.034453485161066,-0.174820661544800,0.045957908034325,0.027636306360364,-0.037264324724674,-0.150790572166443,0.165343388915062,-0.174500718712807,0.024295903742313,-0.003605847945437,0.027852674946189,-0.085090726613998,0.112279787659645,-0.005807023029774,0.029029671102762,-0.180713742971420));
res += mul(Get(s0,0,-dy), float4x4(-0.058762121945620,0.016092415899038,-0.174186468124390,-0.056058961898088,-0.044351022690535,0.087576173245907,-0.042195189744234,-0.010862433351576,0.072465166449547,-0.045371394604445,0.096457384526730,0.019150208681822,0.003863040590659,-0.129179120063782,0.012194569222629,0.019641030579805));
res += mul(Get(s0,0,0), float4x4(-0.107256188988686,-0.083228290081024,-0.062833793461323,-0.017081758007407,-0.032244924455881,-0.089142769575119,0.027505358681083,-0.020172730088234,0.031381901353598,0.007848793640733,0.115322567522526,0.011472065933049,0.020562753081322,-0.007245314773172,-0.063662797212601,-0.004626204725355));
res += mul(Get(s0,0,dy), float4x4(0.117081999778748,-0.102093756198883,0.034792032092810,-0.104037486016750,0.065230920910835,-0.044501613825560,0.092979989945889,-0.017243681475520,0.044032827019691,-0.086828008294106,0.086658164858818,0.037967573851347,0.159697219729424,-0.010259663686156,-0.021578079089522,0.122235186398029));
res += mul(Get(s0,dx,-dy), float4x4(0.106332771480083,-0.066669017076492,-0.093582503497601,0.164543122053146,-0.091687962412834,-0.037907328456640,0.099732406437397,0.214171588420868,-0.048113580793142,-0.147973164916039,0.065697766840458,0.033671554177999,-0.154194384813309,0.078727968037128,-0.043560605496168,-0.121296912431717));
res += mul(Get(s0,dx,0), float4x4(-0.020651295781136,0.031969137489796,0.029253952205181,0.062318198382854,0.053916122764349,0.006660346873105,0.064567692577839,-0.000848134222906,0.056626152247190,-0.101741917431355,-0.018572149798274,-0.035219423472881,-0.021822648122907,0.077871546149254,-0.032212857156992,0.000453506712802));
res += mul(Get(s0,dx,dy), float4x4(0.063066489994526,0.114529728889465,-0.025565849617124,0.093395151197910,-0.063527829945087,-0.144548222422600,-0.099458582699299,-0.126196146011353,0.002824705792591,-0.173181399703026,-0.058207914233208,0.046306099742651,-0.008483757264912,0.014386745169759,-0.023447383195162,0.157713055610657));
res += mul(Get(s1,-dx,-dy), float4x4(-0.026145214214921,0.034195289015770,0.227990359067917,0.058423694223166,0.117146983742714,0.108939051628113,0.004441697150469,-0.103134527802467,-0.014896318316460,0.071419380605221,0.019792387261987,-0.016864275559783,-0.055350858718157,0.117381960153580,-0.033735077828169,-0.041015796363354));
res += mul(Get(s1,-dx,0), float4x4(-0.047761153429747,0.071418285369873,0.008601698093116,0.026074154302478,0.181338831782341,0.096275240182877,-0.020697439089417,0.283328533172607,0.076604746282101,-0.032026313245296,0.077957451343536,0.018260849639773,0.006522920913994,0.063985325396061,-0.094083003699780,0.041493702679873));
res += mul(Get(s1,-dx,dy), float4x4(0.169718757271767,-0.034486621618271,0.000293114775559,-0.259846657514572,-0.035041838884354,0.037564910948277,-0.066897697746754,-0.048162605613470,-0.063955806195736,-0.083410687744617,-0.047424722462893,0.041366495192051,0.098154410719872,0.083277292549610,0.035120069980621,-0.090592615306377));
res += mul(Get(s1,0,-dy), float4x4(0.112865984439850,0.094350323081017,0.180225655436516,0.098061405122280,-0.019211200997233,-0.042609952390194,-0.011048557236791,0.011446237564087,-0.052689608186483,0.029270766302943,-0.134279146790504,0.022631127387285,-0.047144234180450,-0.064165621995926,0.103570297360420,-0.044678300619125));
res += mul(Get(s1,0,0), float4x4(-0.001056851004250,0.007909800857306,-0.021031219512224,0.122322820127010,0.025241060182452,0.041204567998648,0.119855433702469,0.234205976128578,-0.089455068111420,0.053012706339359,0.024894157424569,0.138285711407661,0.153866440057755,0.059314377605915,-0.050740960985422,-0.006428325083107));
res += mul(Get(s1,0,dy), float4x4(-0.026236273348331,0.048393208533525,-0.047812893986702,0.037195004522800,-0.013628121465445,0.019746985286474,0.083272323012352,-0.036783412098885,-0.024825565516949,-0.042953040450811,-0.040531639009714,0.046566508710384,0.086934074759483,-0.017130747437477,0.038417350500822,0.067436337471008));
res += mul(Get(s1,dx,-dy), float4x4(-0.032539200037718,0.098143197596073,0.084373019635677,-0.108624517917633,-0.070844143629074,0.043937135487795,-0.225460961461067,-0.063816912472248,-0.134261772036552,0.011759504675865,-0.114924676716328,-0.024638542905450,-0.078814513981342,0.070331744849682,0.053100045770407,-0.034573022276163));
res += mul(Get(s1,dx,0), float4x4(0.088528141379356,-0.092726573348045,-0.100547276437283,-0.233814507722855,-0.064763240516186,0.120683349668980,-0.000003469674539,0.187453538179398,-0.112696036696434,-0.066149301826954,-0.041287608444691,0.161548495292664,-0.121377043426037,-0.001495883567259,-0.023025285452604,-0.063903421163559));
res += mul(Get(s1,dx,dy), float4x4(0.085741758346558,-0.110929466784000,-0.018518751487136,-0.085371114313602,0.090407788753510,0.069840706884861,0.088524095714092,0.046002268791199,-0.045198746025562,0.002124071586877,-0.005192847922444,0.155990123748779,-0.133943378925323,0.092966616153717,0.067597568035126,-0.105524204671383));
res += mul(Get(s2,-dx,-dy), float4x4(-0.061585184186697,-0.038700051605701,-0.151500061154366,-0.121254928410053,-0.079861588776112,-0.069802872836590,0.073753274977207,-0.015986924991012,-0.039932958781719,-0.031461127102375,0.037751980125904,-0.116329044103622,-0.016049880534410,-0.011510057374835,-0.137274771928787,0.052836563438177));
res += mul(Get(s2,-dx,0), float4x4(-0.133952066302299,0.067393392324448,-0.073171168565750,-0.002149091102183,-0.026119740679860,-0.092970199882984,-0.152853727340698,-0.060923572629690,-0.035241086035967,0.019692637026310,0.167167544364929,-0.014740438200533,0.078356966376305,0.017326235771179,-0.094922937452793,-0.020493231713772));
res += mul(Get(s2,-dx,dy), float4x4(-0.011831578798592,-0.018429975956678,-0.043462801724672,-0.019837174564600,-0.125643044710159,0.032855756580830,-0.014545910991728,-0.049674462527037,0.073178805410862,-0.047821376472712,0.119431912899017,0.000132805129397,-0.000493379659019,0.086549326777458,-0.135829240083694,-0.047776818275452));
res += mul(Get(s2,0,-dy), float4x4(0.065967567265034,0.032940413802862,-0.083642400801182,0.046522509306669,0.203586205840111,0.078874215483665,0.149865165352821,0.050874777138233,0.020890075713396,0.126634895801544,0.005672285333276,-0.075598560273647,0.052308034151793,0.121667265892029,0.092573255300522,0.156439781188965));
res += mul(Get(s2,0,0), float4x4(-0.062802873551846,-0.009683646261692,0.049746677279472,0.183834776282310,0.077197328209877,0.175813019275665,0.048552107065916,0.020038267597556,0.015173216350377,0.102398142218590,0.006859458982944,0.049680039286613,0.140158817172050,0.103675417602062,-0.080858126282692,0.126726180315018));
res += mul(Get(s2,0,dy), float4x4(0.073347993195057,0.018524788320065,0.034430503845215,0.035138588398695,-0.050589092075825,-0.049297835677862,0.029948817566037,0.203974291682243,0.176534309983253,0.049448542296886,0.160572305321693,0.128633186221123,-0.053641669452190,0.054050788283348,-0.050206072628498,0.167879700660706));
res += mul(Get(s2,dx,-dy), float4x4(0.191815644502640,-0.125381484627724,0.005818699486554,-0.058316372334957,-0.088008180260658,0.166395261883736,-0.059190455824137,-0.044267009943724,0.011183940805495,0.137243047356606,0.008429136127234,-0.008471660315990,-0.042269159108400,0.093532696366310,0.114781878888607,-0.036172304302454));
res += mul(Get(s2,dx,0), float4x4(0.029136789962649,-0.072561487555504,0.080006912350655,-0.099519915878773,0.025487856939435,0.074730277061462,-0.112107202410698,0.012456190772355,-0.035961758345366,-0.120817877352238,0.102749839425087,0.013266757130623,-0.068414635956287,-0.005195078905672,-0.068615421652794,-0.078106030821800));
res += mul(Get(s2,dx,dy), float4x4(0.228485941886902,-0.116538584232330,-0.043088488280773,0.069795697927475,0.102099709212780,0.087735399603844,0.044586349278688,-0.025413725525141,0.055338826030493,0.078888081014156,0.076935976743698,0.075976505875587,-0.174271821975708,-0.149215191602707,0.002180908573791,-0.032981261610985));
res += mul(Get(s3,-dx,-dy), float4x4(-0.012766317464411,0.026264430955052,-0.168480604887009,-0.097504712641239,-0.010931050404906,-0.011643749661744,0.038691014051437,-0.033533234149218,-0.041784353554249,-0.003832045011222,-0.079413793981075,-0.204527869820595,0.094072706997395,0.019394690170884,-0.019657853990793,-0.059940271079540));
res += mul(Get(s3,-dx,0), float4x4(-0.070981480181217,-0.078908421099186,-0.043074991554022,0.049609534442425,-0.136706262826920,0.019903311505914,0.100742764770985,-0.060792230069637,0.005142671056092,-0.096619598567486,0.072621233761311,0.135756239295006,-0.073631376028061,0.013721046037972,0.077184416353703,-0.043745413422585));
res += mul(Get(s3,-dx,dy), float4x4(-0.137330219149590,-0.081477805972099,0.001416203333065,-0.119088433682919,-0.046431392431259,0.039282307028770,0.236571669578552,-0.123556137084961,-0.001311267958954,0.021811343729496,0.038518905639648,-0.057258207350969,-0.035945292562246,-0.028759509325027,-0.029282979667187,0.096369996666908));
res += mul(Get(s3,0,-dy), float4x4(0.197294995188713,0.038574375212193,-0.106830596923828,-0.185513138771057,0.068647660315037,0.249694228172302,-0.061703421175480,0.030663203448057,-0.115788206458092,-0.021092906594276,-0.036967884749174,-0.178992256522179,-0.054638601839542,0.123256787657738,-0.005398259032518,-0.073901757597923));
res += mul(Get(s3,0,0), float4x4(0.250805228948593,0.028775408864021,0.047870077192783,0.057806070894003,-0.000048170357331,-0.004234137013555,-0.107551470398903,0.000623918254860,0.144470751285553,0.029323890805244,0.077837273478508,0.019752599298954,-0.087309502065182,0.058953057974577,-0.029189791530371,-0.050398979336023));
res += mul(Get(s3,0,dy), float4x4(0.144855618476868,0.042959272861481,0.028527395799756,0.174029126763344,0.066242843866348,0.007005065213889,0.064914390444756,-0.001675669453107,0.034649569541216,-0.022268017753959,0.056481424719095,0.003440610598773,-0.022457977756858,-0.070186682045460,0.034998886287212,-0.019247194752097));
res += mul(Get(s3,dx,-dy), float4x4(-0.061695955693722,0.057884577661753,-0.161186382174492,-0.125028640031815,-0.131914943456650,0.194147855043411,0.094046704471111,0.070474453270435,-0.180583789944649,-0.086674660444260,-0.054109815508127,-0.049339648336172,-0.018352676182985,-0.064214296638966,0.054890181869268,-0.021093098446727));
res += mul(Get(s3,dx,0), float4x4(-0.134048536419868,0.065730646252632,-0.022140620276332,-0.013306286185980,-0.078812927007675,0.007726638112217,0.114088736474514,-0.063808321952820,0.024997703731060,-0.096876390278339,-0.082552723586559,-0.085204727947712,0.006472545675933,-0.040761664509773,0.039397560060024,-0.079222820699215));
res += mul(Get(s3,dx,dy), float4x4(-0.130947083234787,-0.096409060060978,0.025074893608689,0.006532788276672,-0.059100039303303,-0.042526792734861,0.088637135922909,-0.028710694983602,-0.052724547684193,-0.045948404818773,-0.076202265918255,-0.129044324159622,0.022927740588784,-0.053813312202692,-0.015498752705753,-0.143065378069878));
return max(float4(0,0,0,0), res);
}
