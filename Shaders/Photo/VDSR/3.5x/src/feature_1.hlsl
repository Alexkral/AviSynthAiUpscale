sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.001922955852933,-0.728127539157867,-0.005050061736256,0.520869970321655) * Get(-dx,-dy);
res += float4(-0.002676223637536,-0.954324126243591,0.002083608880639,-0.073218651115894) * Get(-dx,0);
res += float4(-0.000516194733791,-0.774436652660370,-0.000819308508653,-0.073080040514469) * Get(-dx,dy);
res += float4(-0.003212207229808,0.049366626888514,-0.006276533938944,1.283608317375183) * Get(0,-dy);
res += float4(-0.000678662268911,0.099187389016151,-0.000843123649247,0.089923143386841) * Get(0,0);
res += float4(-0.000781777140219,0.032563336193562,-0.000750497274566,-0.615179061889648) * Get(0,dy);
res += float4(-0.005176320206374,0.335581600666046,-0.001934977597557,-0.013740001246333) * Get(dx,-dy);
res += float4(-0.004698773846030,0.505612015724182,-0.007125244475901,-0.447289079427719) * Get(dx,0);
res += float4(0.003725539194420,0.388786882162094,0.000160912444699,-0.155120030045509) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
