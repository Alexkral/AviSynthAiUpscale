sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.073214963078499,-0.155778273940086,-0.086062751710415,0.030011842027307,-0.036561273038387,-0.016249489039183,-0.030932996422052,-0.015950592234731,0.002090058987960,-0.079630680382252,0.231196045875549,-0.055198539048433,0.035186227411032,0.112669020891190,0.034785419702530,0.005379519890994));
res += mul(Get(s0,-dx,0), float4x4(-0.033113718032837,0.003738398430869,-0.093527100980282,-0.118711836636066,0.033528041094542,0.053757268935442,-0.008557179942727,-0.003849572967738,0.046281605958939,-0.052315905690193,0.157181426882744,0.172266215085983,0.174148589372635,0.032425008714199,-0.037393610924482,-0.132123827934265));
res += mul(Get(s0,-dx,dy), float4x4(0.005789464339614,-0.001009029336274,-0.052981153130531,-0.127841547131538,0.069854393601418,0.089357346296310,-0.013030312024057,-0.000485595257487,0.033567342907190,-0.059214584529400,-0.034282509237528,-0.037533205002546,0.054018601775169,-0.095363683998585,-0.077522091567516,-0.101828746497631));
res += mul(Get(s0,0,-dy), float4x4(-0.017001321539283,-0.071088187396526,-0.078550033271313,0.015096358954906,0.059674095362425,-0.070275925099850,-0.012540094554424,0.002138997195289,0.009440762922168,-0.201700493693352,0.238458022475243,-0.096904426813126,-0.022039160132408,0.053613122552633,0.011383902281523,-0.081104211509228));
res += mul(Get(s0,0,0), float4x4(-0.087772168219090,0.041387520730495,-0.109439879655838,-0.022830409929156,0.043114453554153,0.015687189996243,0.008887204341590,-0.003747963812202,0.087754413485527,-0.048619661480188,0.063528575003147,0.179043054580688,0.016312580555677,0.006054932251573,-0.021486790850759,0.081498481333256));
res += mul(Get(s0,0,dy), float4x4(0.061878465116024,0.067659519612789,-0.114443995058537,-0.053163424134254,0.046365361660719,0.055257227271795,0.022179862484336,0.011461982503533,0.035980094224215,0.034822475165129,-0.030266040936112,0.116643927991390,-0.036934006959200,-0.034441735595465,0.003803046653047,0.036147732287645));
res += mul(Get(s0,dx,-dy), float4x4(0.041868951171637,-0.076454520225525,0.017943195998669,0.013828814961016,0.062646530568600,-0.090108878910542,-0.013628076761961,0.044304128736258,0.087480165064335,-0.223507672548294,0.046411767601967,-0.243426129221916,-0.073861323297024,0.011142900213599,0.033204577863216,-0.071177303791046));
res += mul(Get(s0,dx,0), float4x4(-0.088571943342686,-0.007908820174634,-0.033201161772013,-0.091628812253475,0.005111999809742,-0.047704994678497,0.016582617536187,0.059742167592049,0.082374952733517,0.036241617053747,-0.077028468251228,-0.186803862452507,-0.098162949085236,-0.087835349142551,-0.049990754574537,0.037232045084238));
res += mul(Get(s0,dx,dy), float4x4(0.060284506529570,-0.078432597219944,-0.040480121970177,-0.110391862690449,-0.039223089814186,-0.059954512864351,0.029126577079296,0.038661919534206,-0.059110738337040,0.142195135354996,-0.035942938178778,-0.029507273808122,-0.048616420477629,-0.068081162869930,0.015011367388070,-0.044143676757813));
res += mul(Get(s1,-dx,-dy), float4x4(-0.039848241955042,0.098881967365742,0.056582536548376,-0.197248250246048,0.196468174457550,-0.026226608082652,-0.009361649863422,-0.111639171838760,-0.021503817290068,-0.043654754757881,-0.003446243703365,0.021922990679741,0.017892545089126,-0.182558655738831,0.070706441998482,0.180092900991440));
res += mul(Get(s1,-dx,0), float4x4(-0.097463645040989,-0.017064586281776,0.033285185694695,0.135087221860886,0.261337399482727,-0.069062694907188,-0.019558023661375,-0.089249059557915,-0.093832060694695,-0.001587479608133,-0.135455369949341,0.001906389952637,0.016245117411017,-0.111200138926506,0.005057714413851,0.107022054493427));
res += mul(Get(s1,-dx,dy), float4x4(-0.056898683309555,0.238970145583153,-0.011586293578148,-0.028894381597638,0.050446581095457,-0.040334027260542,-0.036551486700773,-0.086013920605183,0.048940572887659,-0.020864844322205,-0.035797853022814,-0.131972536444664,0.063952274620533,0.021924184635282,0.048650782555342,-0.045962847769260));
res += mul(Get(s1,0,-dy), float4x4(0.123533919453621,-0.060472358018160,0.014607634395361,-0.121323212981224,0.067292034626007,0.035369087010622,-0.054222337901592,-0.045938782393932,-0.060424976050854,-0.038371946662664,0.157920062541962,0.057526450604200,-0.063256114721298,-0.075571931898594,0.120707765221596,0.064457401633263));
res += mul(Get(s1,0,0), float4x4(-0.012045382522047,-0.072306364774704,0.067716769874096,-0.061004769057035,-0.047227364033461,0.009518775157630,-0.074436865746975,0.065456375479698,-0.056613922119141,0.009653602726758,0.021632896736264,0.055008951574564,-0.002127339364961,-0.022778101265430,-0.000246867537498,0.097555071115494));
res += mul(Get(s1,0,dy), float4x4(-0.005438292399049,0.158346965909004,0.006160249933600,-0.029222762212157,-0.119283109903336,0.053064230829477,-0.083668902516365,0.056372568011284,0.071556635200977,0.006241618655622,0.039087697863579,-0.002451737644151,0.046760141849518,0.085480853915215,-0.019620813429356,-0.061588335782290));
res += mul(Get(s1,dx,-dy), float4x4(0.128032818436623,0.024363351985812,-0.010203694924712,-0.197880983352661,-0.008965021930635,0.067426271736622,-0.044337205588818,-0.095382168889046,-0.060698665678501,-0.077985338866711,0.114220723509789,0.065801523625851,-0.145758152008057,-0.075534567236900,0.139626964926720,-0.102098740637302));
res += mul(Get(s1,dx,0), float4x4(0.031160173937678,-0.196553274989128,0.100732058286667,-0.043261151760817,-0.093598127365112,0.037330847233534,-0.052641879767179,0.060217317193747,-0.045205712318420,-0.088903196156025,0.034952111542225,0.083581447601318,-0.109330974519253,-0.038348965346813,-0.047615211457014,0.047530569136143));
res += mul(Get(s1,dx,dy), float4x4(0.110030889511108,0.207586839795113,-0.079879522323608,0.009280801750720,-0.130760595202446,0.154622986912727,-0.018123745918274,0.014146244153380,0.063122935593128,-0.002646184060723,0.016860276460648,-0.026448978111148,-0.024867363274097,0.029171133413911,-0.000250103475992,-0.008893130347133));
res += mul(Get(s2,-dx,-dy), float4x4(0.047341268509626,0.092948414385319,-0.028207132592797,0.037905152887106,-0.075922369956970,-0.009625129401684,-0.086381725966930,-0.089764162898064,-0.236174225807190,0.046474017202854,-0.070777632296085,-0.262395411729813,-0.067175060510635,-0.119877904653549,-0.001490619149990,-0.029910551384091));
res += mul(Get(s2,-dx,0), float4x4(0.053890705108643,0.058747585862875,-0.038307070732117,-0.035429283976555,-0.037967126816511,0.077447444200516,-0.010230037383735,0.020243348553777,-0.170993447303772,0.030726168304682,-0.059983629733324,0.000052937823057,0.075410649180412,-0.150537982583046,-0.062490586191416,0.022568425163627));
res += mul(Get(s2,-dx,dy), float4x4(0.179718434810638,0.091560818254948,-0.001723542925902,-0.090424679219723,-0.018689135089517,-0.304586470127106,0.040062941610813,-0.006056858692318,-0.018506897613406,0.009300167672336,-0.107189789414406,-0.006419566459954,-0.082472309470177,-0.088604189455509,0.016003625467420,0.082848720252514));
res += mul(Get(s2,0,-dy), float4x4(0.135508179664612,-0.049875296652317,0.019980207085609,0.009836337529123,0.061569098383188,-0.073528148233891,0.014709720388055,-0.119412556290627,-0.246372669935226,0.334756523370743,-0.045769881457090,-0.035315524786711,-0.030020669102669,-0.030168615281582,-0.010297045111656,0.071402743458748));
res += mul(Get(s2,0,0), float4x4(0.156939402222633,-0.055692944675684,0.038036409765482,-0.077158667147160,-0.020657368004322,0.122086562216282,0.025734214112163,-0.014090634882450,-0.146178141236305,0.006903247907758,-0.033912654966116,0.080193944275379,-0.010899336077273,-0.099440783262253,-0.035672776401043,-0.001845353981480));
res += mul(Get(s2,0,dy), float4x4(0.194943413138390,-0.024462416768074,-0.038874346762896,-0.073978461325169,-0.024476891383529,-0.341585785150528,0.043726813048124,-0.034641847014427,0.067833401262760,-0.003419465851039,-0.150407463312149,0.040064197033644,-0.113295905292034,0.032478593289852,0.033042550086975,-0.061884667724371));
res += mul(Get(s2,dx,-dy), float4x4(-0.086488552391529,0.124079413712025,0.069810360670090,0.052423458546400,0.061027124524117,0.030083553865552,0.054068252444267,-0.025315057486296,-0.196310564875603,0.228213772177696,-0.050805144011974,0.027996031567454,-0.065582416951656,-0.021179797127843,-0.102121993899345,0.006617621518672));
res += mul(Get(s2,dx,0), float4x4(-0.170156508684158,0.052450630813837,0.104398258030415,-0.030157141387463,-0.032782211899757,0.199810639023781,0.043434448540211,-0.007681244052947,0.059409487992525,0.133365422487259,-0.089781127870083,-0.028999576345086,0.032268747687340,-0.068413563072681,-0.058202099055052,0.016236471012235));
res += mul(Get(s2,dx,dy), float4x4(-0.015202594920993,0.013207912445068,-0.027808541432023,0.004272367339581,-0.053915958851576,-0.299251735210419,0.023049019277096,-0.028845051303506,0.141091957688332,-0.068328894674778,-0.214286252856255,-0.067658662796021,0.022795882076025,0.079342372715473,0.113039664924145,-0.026364106684923));
res += mul(Get(s3,-dx,-dy), float4x4(-0.044309090822935,-0.040237199515104,-0.032654013484716,-0.028419153764844,-0.080491133034229,-0.079062625765800,0.014952134341002,-0.237551778554916,-0.052713405340910,0.034262750297785,0.017406484112144,-0.152788326144218,0.001265864586458,-0.112411603331566,0.141179025173187,-0.056101527065039));
res += mul(Get(s3,-dx,0), float4x4(-0.088434875011444,-0.066798850893974,-0.030926624312997,-0.085139289498329,-0.046834286302328,0.016783455386758,0.081569537520409,0.119341373443604,0.103349283337593,0.064389050006866,-0.009499173611403,-0.026430880650878,0.008912743069232,-0.055871702730656,0.015918400138617,-0.043603092432022));
res += mul(Get(s3,-dx,dy), float4x4(-0.016292342916131,-0.082298770546913,-0.015627440065145,-0.013779057189822,0.023733004927635,-0.237590730190277,-0.172208040952682,0.419315129518509,0.049789190292358,0.013336784206331,0.031034624204040,0.073814645409584,-0.058440182358027,-0.091451816260815,-0.150419697165489,-0.011404941789806));
res += mul(Get(s3,0,-dy), float4x4(-0.030985979363322,-0.012709241360426,-0.003052458399907,0.002743436256424,-0.081082105636597,0.065500602126122,0.040798172354698,-0.118873946368694,0.037897121161222,-0.039508070796728,0.161382421851158,-0.092211730778217,-0.062066618353128,-0.066577740013599,0.043683115392923,0.071857944130898));
res += mul(Get(s3,0,0), float4x4(0.001997694140300,-0.045585002750158,-0.065557442605495,-0.106203265488148,0.025961594656110,0.054072719067335,0.026022955775261,-0.046140581369400,0.190680146217346,0.010166777297854,-0.009199368767440,-0.061264224350452,-0.056755356490612,-0.077062018215656,0.004295464605093,0.078483499586582));
res += mul(Get(s3,0,dy), float4x4(0.077323868870735,-0.082333676517010,0.048655562102795,-0.025562757626176,0.034647263586521,-0.115507990121841,-0.187108427286148,0.117696031928062,-0.026581507176161,0.011540242470801,0.013756587170064,0.004156619310379,0.007289757952094,-0.162337407469749,0.048143208026886,0.037661850452423));
res += mul(Get(s3,dx,-dy), float4x4(-0.057320415973663,-0.049346886575222,-0.029752001166344,0.053943872451782,-0.110924810171127,0.382752507925034,-0.003172826487571,-0.106348380446434,0.001330779516138,-0.011136977002025,0.034773487597704,0.038504287600517,0.025362145155668,-0.017497895285487,0.053556010127068,0.001377183711156));
res += mul(Get(s3,dx,0), float4x4(0.054623838514090,-0.044574223458767,-0.055692385882139,0.079826369881630,-0.013471723534167,-0.075663067400455,-0.108562007546425,-0.207309454679489,0.061163857579231,0.020118832588196,-0.000364042032743,0.086880110204220,0.074270151555538,-0.027008242905140,0.026341265067458,0.148364305496216));
res += mul(Get(s3,dx,dy), float4x4(-0.067534789443016,-0.066908888518810,0.060690037906170,-0.019816547632217,0.191004619002342,-0.056312348693609,-0.169971197843552,-0.031981069594622,-0.075184464454651,-0.039043392986059,0.029831629246473,0.011755471117795,0.135679975152016,-0.081340007483959,0.128710940480232,0.206260129809380));
return max(float4(0,0,0,0), res);
}
