sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.159931316971779,0.193026810884476,0.053033370524645,0.030657116323709,0.049900203943253,-0.058157149702311,-0.095488116145134,0.070271156728268,-0.234499394893646,0.025315737351775,0.078914128243923,0.026682969182730,0.173738420009613,-0.053747929632664,0.011380209587514,0.077773123979568));
res += mul(Get(s0,-dx,0), float4x4(0.101810052990913,-0.036764264106750,-0.026759147644043,0.016048822551966,-0.026618162170053,-0.174041122198105,0.182786688208580,0.167183905839920,-0.267602384090424,0.058904610574245,0.075777515769005,-0.002627122215927,0.093860864639282,-0.101409666240215,0.053240854293108,-0.160907611250877));
res += mul(Get(s0,-dx,dy), float4x4(0.018978534266353,0.052918061614037,-0.114969350397587,-0.042872373014688,0.068285956978798,-0.031356640160084,-0.011630700901151,-0.075458534061909,-0.167828336358070,-0.053075518459082,-0.099708288908005,0.058041419833899,-0.121867649257183,-0.080043874680996,0.033887583762407,-0.046115413308144));
res += mul(Get(s0,0,-dy), float4x4(-0.068780049681664,0.003012024331838,-0.282407373189926,0.050170239061117,0.155122444033623,0.048929683864117,0.071399435400963,-0.018517632037401,0.031952556222677,0.188698992133141,0.017088139429688,0.022186521440744,0.191704273223877,-0.133937224745750,0.053462602198124,0.073608167469501));
res += mul(Get(s0,0,0), float4x4(-0.004335976205766,-0.079405717551708,0.228048130869865,-0.090501308441162,0.014679701067507,0.259704530239105,0.143137708306313,0.079597741365433,-0.150437235832214,-0.037007819861174,-0.046372808516026,0.140622347593307,0.037421721965075,0.139224320650101,-0.004100134130567,-0.156653746962547));
res += mul(Get(s0,0,dy), float4x4(-0.114059492945671,0.070915356278419,-0.086680419743061,0.141220405697823,-0.257789582014084,-0.258909881114960,-0.061694450676441,-0.010144077241421,-0.056928016245365,0.032560639083385,0.075522795319557,-0.150690019130707,-0.034703329205513,-0.070906326174736,0.183088406920433,0.067707300186157));
res += mul(Get(s0,dx,-dy), float4x4(-0.032432101666927,-0.211257845163345,0.060164384543896,0.029668513685465,0.095687180757523,0.013281256891787,-0.070055946707726,0.052674546837807,0.174989625811577,-0.041038427501917,-0.257000833749771,-0.141524478793144,0.207830220460892,0.017104495316744,0.202450588345528,-0.150564983487129));
res += mul(Get(s0,dx,0), float4x4(-0.094008341431618,-0.155858144164085,-0.033546227961779,-0.026706816628575,-0.150659099221230,-0.051769062876701,-0.065505437552929,-0.039000928401947,0.361151397228241,-0.012460911646485,-0.120997115969658,0.118828043341637,0.018410239368677,-0.134265899658203,-0.128136053681374,-0.008664981462061));
res += mul(Get(s0,dx,dy), float4x4(0.112318664789200,-0.126235872507095,0.148802980780602,0.147490441799164,-0.036585908383131,-0.023934794589877,-0.024410875514150,0.084735557436943,0.113177940249443,-0.037193927913904,-0.089687764644623,-0.059665255248547,-0.176747277379036,0.114998273551464,0.038867548108101,-0.099692985415459));
res += mul(Get(s1,-dx,-dy), float4x4(-0.018835389986634,0.202174291014671,-0.187559351325035,-0.050348225980997,0.087355293333530,-0.055946014821529,0.071630723774433,0.061314273625612,0.015725284814835,-0.129093930125237,-0.111284129321575,-0.124114483594894,-0.068004965782166,0.060119189321995,-0.019497103989124,0.060620695352554));
res += mul(Get(s1,-dx,0), float4x4(0.238532721996307,0.024619068950415,0.075498662889004,0.091173715889454,-0.178988277912140,-0.077110946178436,0.011168505065143,-0.032123688608408,-0.063040174543858,-0.082961834967136,-0.061260357499123,-0.043736211955547,-0.112882569432259,-0.158123180270195,0.006911529228091,-0.157312184572220));
res += mul(Get(s1,-dx,dy), float4x4(0.044624481350183,-0.236966863274574,-0.078936278820038,0.008394023403525,0.109404221177101,-0.052677582949400,0.040488928556442,0.185117423534393,-0.075589165091515,-0.101944781839848,-0.099038392305374,-0.065612725913525,-0.116948120296001,-0.202608555555344,-0.047704361379147,-0.035124748945236));
res += mul(Get(s1,0,-dy), float4x4(0.050993859767914,-0.020501065999269,0.028700849041343,0.060608822852373,0.109149381518364,-0.224851489067078,-0.356398910284042,-0.042315635830164,-0.075890719890594,-0.169971331954002,-0.001804892788641,0.109147481620312,-0.125781863927841,-0.062495261430740,0.143975645303726,-0.028317874297500));
res += mul(Get(s1,0,0), float4x4(0.203681737184525,0.128897249698639,0.064845904707909,0.065821111202240,0.217349946498871,-0.082313589751720,-0.063573099672794,-0.233297765254974,0.135894075036049,-0.015179267153144,0.042724709957838,-0.101577311754227,-0.099260725080967,0.096546031534672,0.026979910209775,-0.003127480624244));
res += mul(Get(s1,0,dy), float4x4(-0.000163798758877,-0.070445224642754,0.242812782526016,0.051307655870914,0.179285496473312,0.064837262034416,0.018878052011132,-0.126976713538170,0.012503609061241,0.262988984584808,-0.297971338033676,-0.087891161441803,-0.223071843385696,0.147530570626259,-0.163779795169830,-0.032710611820221));
res += mul(Get(s1,dx,-dy), float4x4(0.262192010879517,0.061890073120594,0.182271331548691,0.107522249221802,-0.056043852120638,-0.090674765408039,0.098730251193047,-0.077024735510349,-0.091957718133926,-0.162482887506485,0.101900257170200,0.028037976473570,0.007623296696693,0.131197616457939,-0.099417909979820,0.039286311715841));
res += mul(Get(s1,dx,0), float4x4(-0.211797580122948,-0.056087184697390,-0.091618925333023,-0.053563963621855,-0.045817468315363,0.014682476408780,0.003944386262447,-0.020257608965039,-0.077229417860508,0.158870816230774,0.007101271301508,-0.010440674610436,0.049912478774786,-0.059469211846590,0.172933757305145,0.085265770554543));
res += mul(Get(s1,dx,dy), float4x4(-0.073420137166977,-0.026173356920481,-0.007622269447893,0.109933085739613,-0.113601781427860,-0.082324579358101,0.033319748938084,0.071035645902157,0.096039347350597,0.017156643792987,0.066748067736626,-0.031016113236547,-0.026431016623974,0.155016094446182,-0.102440997958183,0.117305859923363));
res += mul(Get(s2,-dx,-dy), float4x4(-0.057067085057497,-0.072171092033386,0.098372600972652,0.193206936120987,-0.118893980979919,0.034058514982462,-0.127031818032265,0.056409768760204,-0.216302931308746,-0.023104857653379,-0.061540976166725,-0.201674342155457,0.220486640930176,0.148958057165146,-0.094861820340157,0.057818431407213));
res += mul(Get(s2,-dx,0), float4x4(-0.049973305314779,-0.105359718203545,-0.064530402421951,0.145605698227882,-0.035032521933317,0.052054844796658,-0.115970149636269,-0.162752822041512,0.137972071766853,-0.107226125895977,-0.065693192183971,0.066463030874729,0.043825410306454,0.040972281247377,0.185506612062454,0.097167626023293));
res += mul(Get(s2,-dx,dy), float4x4(0.004367107525468,0.098792791366577,0.016494086012244,-0.055019158869982,-0.168968945741653,-0.153073430061340,0.000201794580789,-0.025125350803137,-0.104793161153793,-0.014079254120588,0.007408241741359,-0.022665433585644,-0.004533631261438,-0.062144331634045,-0.088283367455006,0.018623400479555));
res += mul(Get(s2,0,-dy), float4x4(0.029783304780722,-0.178653255105019,0.029964923858643,-0.054501537233591,0.104798309504986,-0.102289512753487,-0.065586991608143,0.055986944586039,0.078996643424034,0.058817736804485,-0.274824559688568,0.000230970486882,0.156351774930954,-0.041141137480736,0.125332474708557,-0.165105327963829));
res += mul(Get(s2,0,0), float4x4(-0.043258681893349,-0.071683049201965,0.082790814340115,-0.061946723610163,0.027325825765729,-0.135401859879494,0.068263776600361,0.039810568094254,0.233786433935165,0.112341061234474,0.119439482688904,-0.085153482854366,0.051230583339930,0.104299440979958,0.023212963715196,-0.198343366384506));
res += mul(Get(s2,0,dy), float4x4(-0.170112192630768,-0.074749439954758,-0.134780481457710,0.048193097114563,-0.071036726236343,0.050597555935383,0.075433343648911,-0.108464993536472,0.138405337929726,-0.039603263139725,-0.077113308012486,0.170489758253098,0.265008002519608,-0.118282049894333,-0.158402889966965,-0.076132386922836));
res += mul(Get(s2,dx,-dy), float4x4(0.050951313227415,0.033602885901928,-0.128486484289169,-0.114786207675934,-0.103343904018402,0.104674585163593,0.072434633970261,-0.013605798594654,0.191184401512146,0.041180152446032,-0.092688918113708,-0.104837283492088,0.150244891643524,0.091142550110817,0.001669728197157,-0.146509155631065));
res += mul(Get(s2,dx,0), float4x4(0.130056321620941,0.217534437775612,0.097792536020279,0.035323515534401,0.145732015371323,-0.277417957782745,-0.001738339662552,0.040485907346010,0.133346900343895,-0.128401249647141,0.193704605102539,0.182653546333313,-0.055917635560036,0.221517562866211,-0.091504201292992,-0.086762346327305));
res += mul(Get(s2,dx,dy), float4x4(0.165548264980316,-0.055091310292482,0.113636821508408,-0.149478241801262,-0.148031502962112,0.047498889267445,-0.171023964881897,-0.137422218918800,0.106121823191643,0.006708926521242,-0.050160594284534,-0.034158773720264,-0.027056830003858,0.036694653332233,0.055286977440119,0.148545682430267));
res += mul(Get(s3,-dx,-dy), float4x4(-0.095885798335075,0.185621201992035,0.125300019979477,0.062377400696278,0.218170359730721,-0.161945998668671,-0.148028060793877,-0.150401100516319,-0.029481785371900,0.110874101519585,-0.052720878273249,0.082745380699635,0.100759275257587,0.068041943013668,-0.096476420760155,-0.138901680707932));
res += mul(Get(s3,-dx,0), float4x4(0.008318425156176,-0.086212232708931,-0.033189635723829,0.192055165767670,0.029251037165523,-0.003153413301334,0.056126385927200,-0.055392436683178,0.227118968963623,0.093579865992069,0.087772376835346,0.089980073273182,0.049909826368093,0.124831676483154,-0.142172023653984,0.016447331756353));
res += mul(Get(s3,-dx,dy), float4x4(0.104380078613758,-0.023958440870047,0.076475337147713,0.001800471218303,0.012155876494944,0.055559322237968,-0.114072270691395,-0.012516980059445,-0.043396752327681,0.079385429620743,-0.180861592292786,0.099305056035519,-0.056541662663221,0.039662804454565,-0.324656486511230,0.017194934189320));
res += mul(Get(s3,0,-dy), float4x4(-0.075564660131931,0.016558216884732,-0.014757827855647,-0.150112003087997,0.037034373730421,-0.189668938517570,0.043619740754366,0.128093153238297,0.166759833693504,0.084942862391472,-0.103131003677845,-0.098039552569389,0.269555807113647,0.063072249293327,0.050552949309349,0.015371894463897));
res += mul(Get(s3,0,0), float4x4(0.060133870691061,-0.198084548115730,-0.057019121944904,0.004102881532162,0.036784239113331,0.072518795728683,0.135553613305092,-0.120571941137314,0.009862184524536,0.001016030320898,0.044993318617344,0.003342605894431,-0.169832900166512,0.034971315413713,0.000206612705369,-0.008593767881393));
res += mul(Get(s3,0,dy), float4x4(0.065146662294865,0.041159741580486,-0.004687062930316,0.105563774704933,-0.097053028643131,-0.053908225148916,0.035830669105053,0.063719697296619,0.033795673400164,0.020183442160487,-0.098819136619568,-0.007014846429229,0.070839881896973,0.028292061761022,-0.142335698008537,-0.104146026074886));
res += mul(Get(s3,dx,-dy), float4x4(0.073563121259212,0.205146878957748,-0.066952832043171,0.149701282382011,0.170355036854744,0.022101169452071,-0.076050519943237,0.069522634148598,0.088635727763176,-0.039036076515913,0.202434360980988,-0.007074094377458,0.062149751931429,-0.172428816556931,0.020323310047388,0.187864810228348));
res += mul(Get(s3,dx,0), float4x4(0.017338572070003,0.081618525087833,0.034765072166920,-0.005878438241780,-0.147071719169617,0.057057779282331,-0.065419360995293,-0.119758255779743,0.106717057526112,0.084103092551231,0.094301059842110,-0.100232295691967,-0.098194077610970,-0.004561461973935,0.072661280632019,0.059898979961872));
res += mul(Get(s3,dx,dy), float4x4(0.070048108696938,0.058981765061617,-0.067884773015976,-0.002181636868045,-0.180192783474922,0.096600808203220,-0.018277892842889,0.056480169296265,-0.102517388761044,0.221203431487083,-0.040258344262838,0.260435611009598,0.073915131390095,0.078610271215439,-0.051919020712376,0.038451120257378));
return max(float4(0,0,0,0), res);
}
