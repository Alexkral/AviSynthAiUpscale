sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.138237252831459,-0.107255116105080,-0.074374265968800,0.164219751954079,-0.070026934146881,0.152785480022430,0.063733249902725,-0.129114866256714,-0.064515009522438,0.020155090838671,0.003660664195195,-0.053218055516481,0.043325357139111,-0.081456370651722,-0.079816684126854,0.152318060398102));
res += mul(Get(s0,-dx,0), float4x4(0.086305312812328,0.084691442549229,-0.094823166728020,0.122236512601376,-0.154961004853249,-0.038299500942230,0.040282815694809,-0.146257147192955,-0.030540326610208,-0.072915606200695,0.019320396706462,-0.044313244521618,0.104882314801216,0.057610098272562,-0.052139800041914,0.064495511353016));
res += mul(Get(s0,-dx,dy), float4x4(-0.155254185199738,-0.014845180325210,-0.041719235479832,0.058201853185892,-0.151394024491310,0.015347739681602,-0.163630828261375,-0.130177155137062,0.009596766903996,0.006165350321680,0.018618308007717,-0.025540979579091,0.086064867675304,0.027407702058554,-0.049668852239847,-0.125326797366142));
res += mul(Get(s0,0,-dy), float4x4(-0.063068188726902,-0.079655453562737,0.034092217683792,0.043193604797125,0.080144524574280,0.053846102207899,-0.014218081720173,0.033793255686760,-0.055811010301113,0.118067495524883,-0.019633196294308,-0.036484841257334,-0.035150341689587,0.016510836780071,-0.035197403281927,0.095648832619190));
res += mul(Get(s0,0,0), float4x4(0.057027231901884,0.103009633719921,0.051650203764439,0.044324345886707,0.088841825723648,-0.042231593281031,0.030962923541665,0.007940444163978,-0.012927908450365,0.013492790050805,0.030384324491024,-0.023387158289552,-0.146404713392258,0.064807623624802,-0.047260157763958,-0.000782609276939));
res += mul(Get(s0,0,dy), float4x4(-0.083715513348579,0.033842224627733,0.024859752506018,0.048230707645416,0.089817211031914,-0.001736189355142,-0.118671678006649,-0.085217244923115,0.025669530034065,0.081381060183048,0.008216906338930,-0.019131256267428,-0.038153883069754,0.002982601989061,-0.125205546617508,0.008974703960121));
res += mul(Get(s0,dx,-dy), float4x4(0.088635414838791,-0.057794287800789,0.061558511108160,-0.250252842903137,0.024418616667390,0.144678249955177,0.077468141913414,0.057789236307144,0.033359222114086,-0.029872765764594,-0.062673777341843,0.105606198310852,0.029092492535710,0.049986936151981,0.035634227097034,0.099081344902515));
res += mul(Get(s0,dx,0), float4x4(-0.027941117063165,0.086965918540955,0.105078570544720,-0.069275088608265,-0.111940562725067,-0.088782273232937,0.216836243867874,0.191017642617226,-0.012600947171450,-0.150106042623520,0.023312225937843,0.081335060298443,0.074115395545959,0.109567768871784,0.183485299348831,-0.067960791289806));
res += mul(Get(s0,dx,dy), float4x4(-0.084954530000687,-0.004997550509870,-0.022353706881404,-0.077182613313198,-0.016394380480051,-0.128819063305855,-0.037852808833122,-0.061295591294765,0.003073223633692,-0.171747401356697,-0.044589962810278,0.029633782804012,0.120263732969761,0.030002074316144,0.079484723508358,0.016506757587194));
res += mul(Get(s1,-dx,-dy), float4x4(-0.013458661735058,0.001792022143491,0.030982844531536,-0.054075364023447,-0.019059542566538,-0.096791721880436,-0.136189743876457,0.042282171547413,-0.012600488029420,0.103227138519287,0.017838541418314,-0.035937432199717,-0.015566522255540,-0.107712842524052,0.021583752706647,-0.000851997989230));
res += mul(Get(s1,-dx,0), float4x4(-0.031418193131685,-0.021137172356248,-0.026763476431370,-0.011641563847661,0.057495057582855,0.053036227822304,-0.070095293223858,0.023000711575150,0.077038258314133,0.057466875761747,-0.080414757132530,-0.060701012611389,0.057177014648914,0.061175398528576,-0.015961298719049,-0.074605375528336));
res += mul(Get(s1,-dx,dy), float4x4(0.023258453235030,-0.075628034770489,0.051588844507933,-0.003970181569457,0.006845525931567,-0.020432628691196,-0.129804208874702,-0.091176204383373,0.169023498892784,-0.088115759193897,-0.138248920440674,-0.107498086988926,0.059622369706631,0.041203241795301,-0.053083267062902,-0.086992837488651));
res += mul(Get(s1,0,-dy), float4x4(-0.026479691267014,0.023130787536502,-0.011179978959262,-0.053948294371367,0.075735598802567,-0.077209927141666,0.028777172788978,-0.069116979837418,-0.052587423473597,-0.064346723258495,0.059337012469769,0.038592223078012,-0.024539439007640,-0.033493407070637,0.063521079719067,0.069560833275318));
res += mul(Get(s1,0,0), float4x4(-0.160160958766937,-0.005650231149048,-0.049195554107428,-0.111426405608654,0.024132480844855,-0.039694972336292,0.098838537931442,-0.038576651364565,-0.110841564834118,-0.041502255946398,0.031085543334484,0.064360693097115,0.009592706337571,0.060679037123919,-0.036625832319260,-0.015767756849527));
res += mul(Get(s1,0,dy), float4x4(-0.001642740913667,0.039900660514832,0.004522698931396,-0.117804497480392,0.041328437626362,-0.043135847896338,-0.056788824498653,-0.042295504361391,-0.033352866768837,0.060238044708967,-0.080104589462280,-0.066989779472351,0.016607690602541,-0.019528133794665,-0.068235255777836,-0.037107810378075));
res += mul(Get(s1,dx,-dy), float4x4(0.097222767770290,-0.131626605987549,-0.068374715745449,0.106302566826344,0.026530586183071,-0.048193834722042,0.116649024188519,-0.012174537405372,-0.147027596831322,-0.140800133347511,0.049059111624956,-0.015668114647269,-0.131686612963676,0.073499105870724,-0.058815620839596,-0.020175145938993));
res += mul(Get(s1,dx,0), float4x4(0.089090898633003,-0.222056999802589,-0.132529765367508,0.065324075520039,-0.019356235861778,-0.072290129959583,0.141781315207481,-0.089451991021633,-0.086348429322243,0.035804174840450,0.179747954010963,0.055643446743488,0.188336879014969,0.107114367187023,-0.015597341582179,-0.059933196753263));
res += mul(Get(s1,dx,dy), float4x4(0.280794888734818,0.054424401372671,-0.035350926220417,0.017716709524393,-0.001686901901849,-0.090164072811604,-0.030076025053859,-0.116497971117496,-0.000764047144912,0.027892677113414,-0.028454532846808,0.029072796925902,-0.038500346243382,0.087689042091370,0.103875271975994,-0.133364692330360));
res += mul(Get(s2,-dx,-dy), float4x4(0.093262933194637,-0.052863135933876,-0.021259404718876,0.176021739840508,0.037265129387379,-0.054979093372822,-0.021623522043228,0.010848873294890,-0.112868726253510,0.123451165854931,0.040785267949104,-0.082145266234875,-0.141224712133408,-0.096052020788193,0.162233933806419,-0.126535579562187));
res += mul(Get(s2,-dx,0), float4x4(-0.017348755151033,-0.134033977985382,0.076119005680084,0.116975605487823,0.058213613927364,-0.051751501858234,0.176293060183525,0.059758897870779,-0.069875545799732,-0.098831526935101,-0.098385468125343,-0.068697378039360,-0.063464127480984,0.020251248031855,0.159574955701828,-0.020352564752102));
res += mul(Get(s2,-dx,dy), float4x4(0.049984626471996,-0.052281178534031,-0.117370054125786,0.028774602338672,-0.044743258506060,0.061178691685200,-0.003679651767015,-0.127318859100342,-0.068984307348728,0.092064507305622,-0.042329784482718,-0.000402224221034,-0.066347561776638,-0.073337867856026,0.060247525572777,-0.018444357439876));
res += mul(Get(s2,0,-dy), float4x4(-0.019413676112890,0.002131476532668,0.043684445321560,-0.050662368535995,0.067130424082279,-0.053627111017704,0.024639520794153,-0.001121769193560,-0.025196360424161,0.014763209968805,0.005562677513808,0.071870483458042,-0.034391436725855,-0.018207008019090,0.023708894848824,-0.044061541557312));
res += mul(Get(s2,0,0), float4x4(-0.054821800440550,0.031544104218483,0.130532965064049,-0.067028366029263,0.055730834603310,-0.049355700612068,0.158424064517021,0.059903375804424,-0.035747580230236,-0.137875244021416,-0.059313844889402,-0.090049155056477,-0.071358889341354,0.271529793739319,0.006889994256198,-0.096983805298805));
res += mul(Get(s2,0,dy), float4x4(-0.060687404125929,0.058804608881474,-0.083178095519543,-0.063007608056068,-0.013836133293808,0.116893805563450,-0.006229353602976,-0.116100393235683,-0.048922944813967,0.165283709764481,-0.054083928465843,-0.100475072860718,-0.055901635438204,-0.069795355200768,-0.025398563593626,-0.056099541485310));
res += mul(Get(s2,dx,-dy), float4x4(-0.053919430822134,-0.006217187270522,0.120464600622654,-0.009809481911361,-0.037756629288197,-0.051040649414063,-0.078768603503704,0.188468068838120,-0.061940208077431,-0.044955376535654,0.119829654693604,0.128008618950844,0.082380235195160,-0.215185657143593,-0.039968743920326,0.143594637513161));
res += mul(Get(s2,dx,0), float4x4(0.047071266919374,0.028836367651820,0.249098792672157,-0.012554440647364,0.029353551566601,-0.036603953689337,0.036119960248470,0.082260817289352,0.036530762910843,-0.155861437320709,0.016217086464167,0.159523248672485,-0.029467992484570,0.184453189373016,0.023456024006009,-0.035540204495192));
res += mul(Get(s2,dx,dy), float4x4(0.060646746307611,0.002899775048718,-0.065254606306553,-0.099944099783897,-0.011571038514376,0.003008278785273,-0.013674496673048,-0.017605127766728,-0.007094328757375,0.114402271807194,0.045110769569874,0.088021658360958,0.011916114948690,-0.095664352178574,-0.023252351209521,-0.107020981609821));
res += mul(Get(s3,-dx,-dy), float4x4(-0.028586104512215,-0.058048468083143,-0.125639915466309,0.207369491457939,0.015565453097224,0.136243715882301,-0.005506749264896,0.045175388455391,-0.107734963297844,0.016327470541000,-0.147518441081047,0.197164490818977,-0.060602664947510,-0.145575478672981,-0.035854313522577,-0.150131404399872));
res += mul(Get(s3,-dx,0), float4x4(-0.098821595311165,0.012350885197520,-0.157433092594147,0.141050308942795,-0.049980934709311,-0.093346260488033,0.059860024601221,-0.064547374844551,0.020968453958631,-0.056834395974874,-0.069346345961094,-0.068272978067398,-0.055799968540668,-0.168473035097122,-0.122988872230053,-0.076429612934589));
res += mul(Get(s3,-dx,dy), float4x4(0.049980241805315,-0.143402218818665,-0.067766577005386,0.262710064649582,-0.027161939069629,0.125151947140694,0.107596024870872,-0.060106229037046,0.149240374565125,-0.036092679947615,-0.069257378578186,-0.217673733830452,0.059508409351110,0.005192315671593,0.002256043953821,-0.141197264194489));
res += mul(Get(s3,0,-dy), float4x4(0.062974661588669,-0.020313953980803,0.116223745048046,0.064038895070553,0.108585976064205,-0.012121398001909,-0.012609981931746,0.041846241801977,-0.084676906466484,0.070280879735947,0.006113953888416,0.139909356832504,-0.073570497334003,-0.175999909639359,-0.046412784606218,-0.040174663066864));
res += mul(Get(s3,0,0), float4x4(-0.018856767565012,0.093205057084560,0.099476233124733,-0.062550276517868,0.126595273613930,-0.232160389423370,-0.084315210580826,-0.124436460435390,-0.045012839138508,-0.071529768407345,-0.039452839642763,0.101071476936340,-0.202066853642464,-0.136698842048645,-0.055083516985178,-0.046105224639177));
res += mul(Get(s3,0,dy), float4x4(-0.021627455949783,-0.129947707056999,0.168124988675117,0.055702876299620,-0.030133409425616,-0.041552323848009,-0.037606582045555,-0.210076063871384,0.058353830128908,0.147610366344452,-0.081403233110905,-0.139353483915329,0.044919647276402,0.085254013538361,-0.116236433386803,-0.080131217837334));
res += mul(Get(s3,dx,-dy), float4x4(-0.046787325292826,-0.015016047284007,0.051620498299599,0.058630879968405,0.057841259986162,0.237476736307144,0.131237089633942,-0.090430572628975,-0.046302590519190,0.015977019444108,-0.041807733476162,-0.045781597495079,-0.095749892294407,-0.299041330814362,-0.106167353689671,0.236269652843475));
res += mul(Get(s3,dx,0), float4x4(0.174741014838219,0.048103507608175,-0.055179994553328,0.005041924770921,0.113677799701691,0.175103366374969,0.075985439121723,0.115140341222286,-0.032459322363138,-0.133186906576157,-0.073396749794483,0.124694645404816,-0.243457987904549,-0.085631854832172,-0.105347044765949,0.012007851153612));
res += mul(Get(s3,dx,dy), float4x4(0.062194474041462,0.009535157121718,0.275836706161499,-0.096398815512657,-0.149291962385178,0.246226996183395,-0.064352832734585,-0.109489649534225,0.069888956844807,0.115663945674896,-0.097781851887703,0.115799658000469,0.429207235574722,0.087214298546314,-0.083420887589455,-0.056378986686468));
return max(float4(0,0,0,0), res);
}
