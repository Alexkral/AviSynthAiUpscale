sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003562282770872,-0.004208832513541,0.001991752535105,0.001031201914884,-0.106492578983307,-0.068999268114567,0.131303176283836,-0.025444405153394,0.191738173365593,-0.125547647476196,-0.188381075859070,-0.082045719027519,0.189350888133049,-0.030215192586184,0.094413325190544,0.094113960862160));
res += mul(Get(s0,-dx,0), float4x4(-0.002205283148214,0.002774038119242,0.001576290931553,0.000395725015551,-0.011952221393585,-0.085040539503098,0.138177201151848,0.171081945300102,-0.003447201568633,0.154406234622002,-0.086149111390114,-0.072089508175850,0.115328766405582,-0.049028374254704,0.203160881996155,0.298202544450760));
res += mul(Get(s0,-dx,dy), float4x4(0.001538425916806,-0.005436509381980,0.003311773762107,0.000920552236494,0.048726312816143,-0.003253171220422,0.028021814301610,-0.128210812807083,-0.062318366020918,0.198974519968033,0.005817415658385,0.039820279926062,0.199471890926361,-0.202958926558495,0.182998627424240,0.037350043654442));
res += mul(Get(s0,0,-dy), float4x4(0.002659160876647,-0.001856288406998,-0.001103418180719,-0.000463833595859,0.378935456275940,-0.018205193802714,-0.026090409606695,0.298850476741791,0.048967391252518,-0.011770345270634,-0.017889669165015,-0.074308000504971,0.079393997788429,0.150049582123756,-0.043407212942839,0.035440843552351));
res += mul(Get(s0,0,0), float4x4(-0.000988410902210,0.000793415703811,0.004824996460229,-0.003016974544153,-0.005603700410575,0.006262522190809,-0.005170263815671,0.229991272091866,-0.001841704593971,0.187293097376823,0.006472835317254,-0.069340430200100,-0.024510996416211,0.051371816545725,-0.048387832939625,0.125927463173866));
res += mul(Get(s0,0,dy), float4x4(0.005810636095703,-0.002458204980940,0.007835244759917,-0.002138416981325,0.146915510296822,0.123931728303432,-0.039851803332567,-0.159861832857132,-0.190336033701897,0.033460129052401,0.006058380473405,0.092777542769909,-0.034098669886589,0.083103090524673,0.064088337123394,-0.069511815905571));
res += mul(Get(s0,dx,-dy), float4x4(-0.001547261606902,-0.001460222294554,0.001639226451516,0.001900616800413,0.011759608052671,0.037797842174768,-0.129626631736755,-0.039620123803616,-0.115640155971050,0.049329787492752,-0.155617386102676,-0.001153546734713,-0.247942656278610,-0.100795544683933,0.069876402616501,-0.188838377594948));
res += mul(Get(s0,dx,0), float4x4(-0.003690218785778,-0.002291911514476,-0.003250307403505,-0.003008273197338,-0.246329426765442,0.015798505395651,-0.089280702173710,-0.165818691253662,0.118873149156570,-0.031454388052225,-0.111671127378941,-0.046161741018295,-0.206652924418449,-0.076004534959793,-0.054722081869841,-0.093196801841259));
res += mul(Get(s0,dx,dy), float4x4(0.002989653497934,-0.006070232950151,-0.006601731758565,0.003880835603923,-0.108243741095066,-0.048500247299671,-0.042097963392735,-0.219148293137550,0.025273332372308,-0.197655454277992,-0.099194854497910,0.108843930065632,-0.267721772193909,0.043541852384806,0.058024071156979,-0.222745224833488));
res += mul(Get(s1,-dx,-dy), float4x4(0.018501736223698,-0.009905615821481,0.049511775374413,-0.004467653576285,-0.005015527829528,0.052911520004272,0.008250220678747,-0.017925450578332,-0.044905167073011,-0.026852415874600,-0.046989247202873,0.051873221993446,0.090186551213264,-0.096511192619801,-0.001083699287847,-0.000114969188871));
res += mul(Get(s1,-dx,0), float4x4(0.064435042440891,-0.064733937382698,-0.060116514563560,-0.045675631612539,0.019622113555670,0.050994854420424,-0.010858945548534,-0.023194134235382,-0.110588252544403,-0.074931651353836,-0.022649060934782,0.019972361624241,-0.014728362672031,0.077616326510906,-0.014603383839130,0.026320608332753));
res += mul(Get(s1,-dx,dy), float4x4(0.143211320042610,-0.082086801528931,-0.020486498251557,-0.029183724895120,-0.010963920503855,0.015490065328777,0.015246117487550,0.014523387886584,-0.042802147567272,0.022581880912185,-0.070517748594284,-0.029671477153897,-0.031397253274918,0.001951445359737,-0.004436446353793,-0.004342280328274));
res += mul(Get(s1,0,-dy), float4x4(-0.033242691308260,0.110890097916126,0.094811335206032,0.004660839680582,-0.037415314465761,0.059192471206188,0.010486269369721,-0.024504337459803,0.020683174952865,-0.124706611037254,0.139151096343994,0.083870828151703,0.029455769807100,-0.045018468052149,0.022130977362394,-0.020295953378081));
res += mul(Get(s1,0,0), float4x4(0.019887441769242,-0.010608034208417,0.026754900813103,0.000409820524510,-0.015498129650950,0.018076568841934,-0.007361063268036,-0.009330857545137,-0.168522298336029,-0.011912699788809,0.060845509171486,0.022801632061601,-0.055613137781620,0.066083796322346,0.001379620516673,0.029047871008515));
res += mul(Get(s1,0,dy), float4x4(0.145046249032021,0.036779548972845,-0.004167783539742,0.014901688322425,-0.034103155136108,0.026644090190530,0.010609145276248,0.026314379647374,-0.088998019695282,0.029071602970362,0.015105145983398,-0.032582834362984,-0.033196639269590,-0.031621318310499,0.001895081019029,0.002645731903613));
res += mul(Get(s1,dx,-dy), float4x4(-0.056794196367264,0.092769414186478,0.090406805276871,-0.006821931339800,-0.032165870070457,0.063804052770138,0.032877381891012,-0.007460508029908,-0.039456464350224,-0.012832761742175,-0.053715851157904,0.127761527895927,0.014938451349735,0.045438382774591,-0.039548266679049,-0.001797102275304));
res += mul(Get(s1,dx,0), float4x4(0.014480343088508,0.008331902325153,0.030679350718856,0.028374623507261,-0.034850995987654,-0.005793447140604,-0.000042619707529,-0.008378005586565,0.148821666836739,-0.031865611672401,-0.029095830395818,0.020277982577682,0.029491448774934,0.031958907842636,0.021506296470761,0.026388380676508));
res += mul(Get(s1,dx,dy), float4x4(0.070100367069244,0.058703158050776,0.007350577041507,0.078297175467014,-0.052839901298285,0.026982523500919,0.009111525490880,0.028508367016912,0.007585392799228,-0.092378728091717,-0.018636221066117,0.077523529529572,0.012307988479733,-0.012833036482334,0.019900865852833,0.025523236021399));
res += mul(Get(s2,-dx,-dy), float4x4(0.044699840247631,-0.125519767403603,-0.022883469238877,-0.012670971453190,0.105267785489559,0.372906357049942,-0.039006505161524,-0.192726507782936,-0.133474290370941,0.021840946748853,-0.035061907023191,-0.017960119992495,-0.013348491862416,-0.038889586925507,0.039056431502104,0.139599472284317));
res += mul(Get(s2,-dx,0), float4x4(-0.057288743555546,0.142686322331429,0.070866383612156,-0.078227661550045,0.200641438364983,0.076449453830719,-0.051611885428429,-0.293010771274567,0.011261503212154,0.081332609057426,-0.027758993208408,-0.029902823269367,0.062597379088402,0.005292648915201,0.024727106094360,0.162897869944572));
res += mul(Get(s2,-dx,dy), float4x4(-0.065172664821148,-0.018584571778774,-0.028436906635761,-0.044021777808666,-0.070309720933437,-0.024664698168635,0.090032875537872,-0.105957031250000,0.125041380524635,0.013420296832919,-0.020489290356636,-0.005753480363637,-0.092194713652134,0.037411026656628,-0.124331869184971,-0.118043065071106));
res += mul(Get(s2,0,-dy), float4x4(0.068046927452087,0.009972466155887,0.014117038808763,-0.018670046702027,-0.348483979701996,0.300535261631012,0.167518615722656,-0.192216232419014,-0.029814381152391,-0.051358215510845,0.035310287028551,0.053978130221367,0.119071960449219,-0.071226730942726,0.143403276801109,0.057724282145500));
res += mul(Get(s2,0,0), float4x4(-0.000424139754614,0.128604292869568,0.087405286729336,-0.008806163445115,0.121573641896248,-0.242735013365746,0.055570457130671,-0.423864632844925,-0.036846309900284,0.007806392386556,0.012184707447886,-0.023052839562297,0.074185080826283,0.000167106991285,0.079441800713539,0.079371638596058));
res += mul(Get(s2,0,dy), float4x4(0.085908338427544,-0.018117601051927,0.060082670301199,0.101475089788437,0.497206866741180,-0.189165920019150,0.037833418697119,-0.049829259514809,-0.074572168290615,0.007574103306979,0.000494867679663,-0.050562988966703,-0.094723470509052,0.060254860669374,-0.192185252904892,-0.079507656395435));
res += mul(Get(s2,dx,-dy), float4x4(0.036437615752220,-0.014789733104408,-0.037829760462046,-0.053437583148479,-0.661166131496429,-0.038332596421242,-0.204558417201042,-0.009599870070815,0.004134358372539,0.009644554927945,-0.024559795856476,0.059409126639366,-0.070890992879868,-0.177587181329727,0.103417403995991,-0.165870353579521));
res += mul(Get(s2,dx,0), float4x4(0.142180755734444,-0.011800012551248,-0.026325345039368,0.093971431255341,-0.070720724761486,-0.149175927042961,-0.283571124076843,-0.229841232299805,-0.004460328724235,0.045779783278704,-0.006195975001901,-0.012245721183717,0.003383425762877,-0.071727938950062,0.173922404646873,-0.035700440406799));
res += mul(Get(s2,dx,dy), float4x4(-0.046404629945755,-0.000605185225140,-0.051707673817873,0.062987506389618,0.273989081382751,-0.075481183826923,-0.237776428461075,0.002006317954510,-0.037073742598295,-0.013043081387877,-0.010366922244430,-0.034412097185850,-0.002231365535408,-0.087386824190617,-0.074404001235962,0.018634591251612));
res += mul(Get(s3,-dx,-dy), float4x4(0.072773031890392,-0.022837469354272,-0.001126601011492,0.022190501913428,0.061309274286032,-0.146758764982224,-0.028655845671892,-0.041992273181677,-0.038095116615295,0.131885111331940,0.018824536353350,-0.085704706609249,-0.071640476584435,-0.004408491775393,-0.083058372139931,-0.013225326314569));
res += mul(Get(s3,-dx,0), float4x4(0.044105377048254,0.005124714691192,0.024428028613329,-0.000409933592891,-0.063215076923370,-0.125426039099693,0.056611251085997,0.032604634761810,0.074352949857712,-0.026468249037862,-0.050796113908291,-0.104140862822533,0.019498469308019,0.167248293757439,-0.062487032264471,0.071157775819302));
res += mul(Get(s3,-dx,dy), float4x4(0.039949718862772,-0.056635499000549,0.031033158302307,0.006838527508080,-0.169579550623894,-0.129126101732254,0.006181327160448,0.073418639600277,0.014822844415903,-0.009875540621579,-0.011383260600269,-0.072066627442837,0.106807932257652,0.105316281318665,-0.141041234135628,0.002201605355367));
res += mul(Get(s3,0,-dy), float4x4(0.022162958979607,0.063485525548458,-0.022939354181290,0.023842331022024,-0.048615738749504,-0.072212889790535,-0.131153240799904,0.001404589740559,-0.071888461709023,0.140715628862381,0.082405842840672,-0.041904289275408,0.069535523653030,-0.056255843490362,-0.038535844534636,0.038396950811148));
res += mul(Get(s3,0,0), float4x4(-0.006781263742596,0.052438352257013,0.004232454579324,0.015909885987639,-0.074585467576981,0.013423551805317,-0.001081113005057,0.056100022047758,-0.039757408201694,-0.050909653306007,-0.016127090901136,-0.055420745164156,0.049015216529369,-0.055443670600653,-0.000215762018343,-0.007149374578148));
res += mul(Get(s3,0,dy), float4x4(0.022448670119047,-0.018185285851359,0.010328624397516,0.020246537402272,-0.058831252157688,0.013334722258151,0.061966639012098,0.113993883132935,0.084533795714378,-0.025218671187758,-0.015108634717762,-0.067341402173042,0.080207720398903,-0.005477165337652,-0.052501954138279,0.001575755770318));
res += mul(Get(s3,dx,-dy), float4x4(-0.006370147224516,0.029455423355103,-0.040011670440435,0.032175417989492,-0.003525702981278,-0.060312695801258,-0.089549168944359,0.027845898643136,-0.059902425855398,0.092330187559128,0.154033482074738,-0.030891124159098,0.090015903115273,0.010155691765249,-0.052285719662905,0.023075398057699));
res += mul(Get(s3,dx,0), float4x4(0.014399700798094,-0.041823398321867,-0.011694384738803,0.015168454498053,-0.014929009601474,0.064595565199852,-0.010845117270947,0.067122913897038,-0.080197192728519,-0.041497800499201,0.026687046512961,-0.025358427315950,-0.005312103312463,-0.027194520458579,-0.052273869514465,-0.019003165885806));
res += mul(Get(s3,dx,dy), float4x4(0.065433479845524,-0.025426311418414,0.022687280550599,0.060317415744066,0.094203852117062,0.068959683179855,0.077340848743916,0.140890270471573,0.065781407058239,0.020417531952262,0.011052301153541,-0.029397316277027,-0.060309264808893,-0.063192926347256,-0.058443024754524,-0.045384049415588));
return max(float4(0,0,0,0), res);
}
