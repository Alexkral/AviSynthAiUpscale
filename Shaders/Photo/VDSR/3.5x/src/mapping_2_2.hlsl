sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.131644725799561,0.156981647014618,0.075753793120384,0.070204548537731,-0.264008015394211,0.016346132382751,-0.024836562573910,-0.037624195218086,-0.003671801416203,-0.084511317312717,0.055924471467733,0.122247129678726,-0.021264666691422,-0.193732708692551,0.091684721410275,-0.079784236848354));
res += mul(Get(s0,-dx,0), float4x4(0.017263486981392,-0.010738290846348,-0.059430878609419,-0.035854104906321,0.015014509670436,0.187907248735428,-0.003599583636969,0.110610350966454,-0.117973707616329,0.176252320408821,0.087157174944878,-0.127039521932602,0.184499606490135,0.002239853842184,0.051896497607231,-0.176866486668587));
res += mul(Get(s0,-dx,dy), float4x4(-0.230362206697464,-0.195344194769859,-0.077417150139809,0.048613380640745,-0.008906182833016,-0.057208206504583,-0.118869528174400,0.004683397244662,0.066479854285717,-0.054046127945185,-0.016659902408719,0.095751501619816,-0.018059421330690,0.168673470616341,-0.076299928128719,0.039092700928450));
res += mul(Get(s0,0,-dy), float4x4(0.086338371038437,0.050174444913864,0.069664619863033,0.120919838547707,-0.085775487124920,0.046920567750931,0.000227883050684,-0.233052447438240,-0.120397023856640,0.042723175138235,0.007838409394026,0.246210888028145,0.083531022071838,0.059728361666203,-0.145068109035492,-0.022180812433362));
res += mul(Get(s0,0,0), float4x4(0.093182303011417,0.040674377232790,0.002222500974312,-0.186801433563232,-0.021166341379285,-0.072872102260590,-0.073793016374111,-0.122555203735828,0.199138492345810,0.212940186262131,-0.014754340983927,-0.069774195551872,-0.154426068067551,-0.015264089219272,0.103893399238586,-0.140912622213364));
res += mul(Get(s0,0,dy), float4x4(-0.026561718434095,-0.196822658181190,-0.009287620894611,0.051516454666853,-0.055283889174461,0.077622726559639,0.047961000353098,-0.106176421046257,0.138671725988388,-0.011580548249185,-0.104397498071194,-0.069107308983803,-0.081052266061306,0.053395122289658,-0.183154970407486,0.068929910659790));
res += mul(Get(s0,dx,-dy), float4x4(0.128027513623238,0.111347608268261,0.033258795738220,-0.031402919441462,-0.098191618919373,-0.000347872759448,0.145915314555168,0.079628817737103,0.049236863851547,0.099452853202820,-0.166305273771286,0.168859675526619,-0.192769542336464,-0.077849335968494,0.060214195400476,-0.030890386551619));
res += mul(Get(s0,dx,0), float4x4(0.038241133093834,-0.073909647762775,0.093495376408100,0.017076957970858,0.025892835110426,-0.040980335325003,-0.161327302455902,0.098180867731571,-0.113054379820824,-0.039865370839834,-0.030627788975835,0.028935652226210,-0.013167910277843,-0.170206531882286,0.113451220095158,-0.074347406625748));
res += mul(Get(s0,dx,dy), float4x4(-0.103221565485001,0.057562127709389,0.206832468509674,-0.140576452016830,-0.040245484560728,0.191123321652412,-0.129304215312004,0.017040723934770,-0.057281438261271,0.040391217917204,-0.082147583365440,0.130919352173805,0.112152248620987,-0.051935229450464,0.044382516294718,-0.062361285090446));
res += mul(Get(s1,-dx,-dy), float4x4(0.136402040719986,0.177501872181892,-0.027831958606839,-0.157456248998642,0.046964157372713,0.055316958576441,-0.067376382648945,0.192956879734993,0.088175848126411,-0.113324664533138,-0.003388831624761,-0.209870323538780,-0.079255923628807,-0.093374460935593,-0.063985876739025,-0.147462829947472));
res += mul(Get(s1,-dx,0), float4x4(0.010951029136777,0.138392165303230,0.029076192528009,-0.067753545939922,0.139021739363670,0.170467898249626,-0.013743547722697,-0.094888195395470,0.121934577822685,0.078552983701229,-0.093919880688190,-0.164316177368164,0.094883076846600,0.044172670692205,-0.014547977596521,-0.032548755407333));
res += mul(Get(s1,-dx,dy), float4x4(0.116878867149353,0.071966119110584,-0.021098040044308,-0.033434044569731,-0.123985320329666,-0.067057602107525,-0.114749200642109,0.043782785534859,-0.036951839923859,-0.037311796098948,-0.164157167077065,0.028025364503264,0.141688168048859,-0.010521282441914,-0.112175896763802,0.138862326741219));
res += mul(Get(s1,0,-dy), float4x4(-0.110097773373127,-0.079184442758560,-0.058384850621223,-0.167511537671089,-0.004464126657695,-0.129816383123398,-0.043829526752234,-0.016099618747830,0.008898216299713,0.137876734137535,0.075773663818836,0.023066982626915,0.060471273958683,-0.069291986525059,0.024903753772378,0.214303553104401));
res += mul(Get(s1,0,0), float4x4(-0.064492523670197,-0.118804305791855,0.170406162738800,0.096046783030033,0.047111582010984,-0.076559633016586,0.113427661359310,-0.060798306018114,-0.044526945799589,0.025992909446359,0.046953216195107,-0.082484833896160,-0.000630055728834,0.037769082933664,0.037903718650341,0.039540208876133));
res += mul(Get(s1,0,dy), float4x4(-0.015807658433914,-0.029970454052091,0.126789033412933,0.034174315631390,-0.267672747373581,-0.065609723329544,0.378909707069397,-0.196659147739410,0.178779825568199,0.013742526061833,0.154724434018135,-0.026462836191058,0.162719979882240,0.047078885138035,-0.000523858238012,0.208110749721527));
res += mul(Get(s1,dx,-dy), float4x4(-0.044100601226091,0.097326181828976,-0.141058400273323,-0.047764372080564,-0.038812153041363,-0.101666666567326,-0.048215933144093,-0.016014207154512,0.109438374638557,0.088480181992054,0.156010404229164,-0.038393553346395,0.035196598619223,0.105663195252419,0.049230922013521,0.032780971378088));
res += mul(Get(s1,dx,0), float4x4(-0.005526676308364,0.006748659070581,0.128645241260529,0.232534930109978,-0.088379383087158,0.216014057397842,0.157469063997269,-0.088591158390045,-0.133055582642555,0.066756814718246,-0.229322731494904,0.104041390120983,0.142518594861031,0.011716291308403,0.018824789673090,-0.115886449813843));
res += mul(Get(s1,dx,dy), float4x4(0.105421677231789,-0.207761585712433,-0.002747505903244,0.024404784664512,-0.040356051176786,0.043229505419731,0.104907244443893,-0.210580527782440,0.010566664859653,0.040741041302681,0.071569338440895,0.031416159123182,-0.070582441985607,-0.104849651455879,0.107010677456856,-0.013266937807202));
res += mul(Get(s2,-dx,-dy), float4x4(-0.009935390204191,-0.041985824704170,-0.134842753410339,0.065008677542210,0.057311676442623,-0.009274916723371,0.005488566588610,-0.124099843204021,0.107240691781044,0.012644513510168,0.025110509246588,-0.158329844474792,-0.135494306683540,0.181571885943413,-0.091116942465305,0.195182055234909));
res += mul(Get(s2,-dx,0), float4x4(0.185564324259758,0.296486377716064,-0.116782620549202,-0.009420868940651,-0.078286997973919,0.025367196649313,-0.141501039266586,-0.029472813010216,-0.067437194287777,0.125760257244110,0.118291303515434,0.083607435226440,0.129336729645729,0.062735386192799,-0.045374754816294,-0.005170517135412));
res += mul(Get(s2,-dx,dy), float4x4(-0.097103491425514,-0.087532371282578,-0.197008609771729,0.105887673795223,0.013322470709682,-0.049152210354805,-0.114623546600342,-0.129220351576805,-0.059272076934576,0.198139399290085,0.067557901144028,-0.047605592757463,-0.027931362390518,0.018941231071949,-0.052525058388710,0.069049328565598));
res += mul(Get(s2,0,-dy), float4x4(0.155587896704674,-0.080318160355091,-0.092394560575485,-0.046671554446220,0.024352526292205,0.010780259035528,-0.209909066557884,0.179684802889824,-0.080578230321407,-0.037564788013697,0.032439690083265,-0.156388759613037,-0.005336300469935,0.168763339519501,-0.104203321039677,0.173064157366753));
res += mul(Get(s2,0,0), float4x4(-0.083386555314064,0.060524318367243,-0.078835077583790,0.004793529864401,-0.040958885103464,-0.076476402580738,0.105197131633759,-0.041516926139593,0.017495956271887,0.014116963371634,0.054293684661388,-0.192178279161453,-0.004652246367186,-0.208618625998497,-0.075807750225067,-0.031689569354057));
res += mul(Get(s2,0,dy), float4x4(0.161835968494415,0.124865017831326,0.005004456266761,-0.090716995298862,0.089639797806740,0.018849220126867,0.124801747500896,-0.087543696165085,0.008531797677279,0.097866937518120,-0.169544860720634,-0.005047916434705,0.088803000748158,0.145096868276596,0.015500638633966,0.028760457411408));
res += mul(Get(s2,dx,-dy), float4x4(0.026096042245626,-0.080675028264523,0.085933797061443,0.037678640335798,0.177641198039055,0.007906921207905,-0.071113243699074,-0.026292232796550,0.092540882527828,-0.040648605674505,0.043383616954088,-0.015511101111770,-0.044854242354631,-0.018296873196959,-0.083875954151154,0.199184611439705));
res += mul(Get(s2,dx,0), float4x4(-0.093492209911346,-0.030769852921367,0.017292128875852,0.114090196788311,0.053088545799255,-0.062284134328365,0.117691725492477,0.062679804861546,-0.088825903832912,0.022061368450522,0.141860768198967,-0.215281963348389,-0.026167638599873,-0.118507340550423,0.221823066473007,0.040362387895584));
res += mul(Get(s2,dx,dy), float4x4(0.030744634568691,-0.003991202916950,-0.101299591362476,0.196514055132866,-0.038902848958969,0.139414250850677,0.048085361719131,0.008682307787240,-0.084152042865753,0.155110433697701,0.088565938174725,-0.066655740141869,-0.058288130909204,-0.020990887656808,-0.125134021043777,0.018272221088409));
res += mul(Get(s3,-dx,-dy), float4x4(0.109192311763763,0.028276959434152,0.112771220505238,0.019720390439034,0.038024004548788,0.012931901030242,-0.036923673003912,0.091895647346973,0.184306547045708,-0.099892936646938,0.151489019393921,0.025613030418754,0.078673124313354,-0.004083791282028,-0.064813137054443,0.088980123400688));
res += mul(Get(s3,-dx,0), float4x4(0.018643422052264,-0.274234563112259,-0.106980763375759,0.021459940820932,-0.163037478923798,0.100293293595314,0.046087574213743,-0.058491848409176,0.030529741197824,0.117571264505386,-0.046829786151648,-0.027967464178801,0.026394385844469,0.036914531141520,-0.052203208208084,0.043983407318592));
res += mul(Get(s3,-dx,dy), float4x4(-0.135036855936050,0.040178712457418,-0.032207049429417,-0.017649969086051,-0.091043315827847,0.149415582418442,-0.022158002480865,-0.082913070917130,-0.126876085996628,0.120312720537186,0.016333833336830,-0.076259508728981,0.044249292463064,0.073968783020973,-0.103176310658455,-0.028629614040256));
res += mul(Get(s3,0,-dy), float4x4(-0.006812158506364,-0.028689162805676,0.029779791831970,-0.002826676471159,-0.186339646577835,-0.186715781688690,0.134857773780823,0.080697841942310,0.051960367709398,0.143895283341408,0.035432502627373,-0.076979808509350,-0.128330722451210,-0.004791632294655,-0.017913363873959,0.004032182041556));
res += mul(Get(s3,0,0), float4x4(0.025251684710383,0.109232001006603,0.213510766625404,-0.040982961654663,0.070218451321125,0.148347020149231,-0.040988709777594,-0.050694927573204,-0.146708533167839,0.183194518089294,-0.003948234952986,0.037371464073658,0.004938479512930,0.007133233826607,0.068495832383633,0.024715475738049));
res += mul(Get(s3,0,dy), float4x4(-0.148881077766418,0.108728393912315,-0.116883300244808,0.007516050711274,0.089055836200714,-0.144740045070648,0.106035709381104,-0.096548423171043,0.093185581266880,0.073108054697514,-0.073489747941494,0.156037554144859,0.044897280633450,0.012697956524789,0.131857335567474,-0.047061659395695));
res += mul(Get(s3,dx,-dy), float4x4(-0.086909510195255,-0.062347840517759,0.201019793748856,0.059121817350388,-0.083894982933998,-0.058751046657562,0.113270431756973,0.131158322095871,-0.137693792581558,-0.099897481501102,-0.054004810750484,-0.002786946482956,0.003215573262423,-0.071719653904438,0.176427245140076,0.266015559434891));
res += mul(Get(s3,dx,0), float4x4(-0.121058411896229,0.000291336502414,-0.153707295656204,0.042809702455997,-0.207014828920364,0.001878570648842,0.085667200386524,-0.023309132084250,-0.275043845176697,-0.007970984093845,-0.017175961285830,-0.013127102516592,-0.200388342142105,0.180345132946968,0.000620089820586,0.242416962981224));
res += mul(Get(s3,dx,dy), float4x4(0.054005555808544,-0.127486541867256,-0.066414520144463,-0.108081921935081,-0.043026924133301,-0.140483111143112,0.081431105732918,0.019563388079405,-0.152713507413864,-0.171483844518661,-0.190916448831558,0.191041395068169,-0.143510729074478,-0.012464100494981,0.027279099449515,-0.111521996557713));
return max(float4(0,0,0,0), res);
}
