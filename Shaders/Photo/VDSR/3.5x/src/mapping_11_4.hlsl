sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.037009663879871,0.074331097304821,-0.184925615787506,-0.044105853885412,-0.131244242191315,0.030136531218886,-0.023355381563306,0.184851720929146,0.015510906465352,-0.098127514123917,-0.154765665531158,0.057895980775356,0.026986060664058,-0.072161264717579,0.079491972923279,-0.070917002856731));
res += mul(Get(s0,-dx,0), float4x4(-0.052474103868008,0.223991870880127,-0.070510700345039,-0.007045619189739,0.115682505071163,-0.015602422878146,0.117745704948902,0.081655040383339,-0.054267499595881,-0.064441703259945,-0.107675351202488,-0.018795678392053,-0.096869781613350,-0.049067571759224,0.020759526640177,-0.151397496461868));
res += mul(Get(s0,-dx,dy), float4x4(0.002631823066622,0.076364204287529,0.054925713688135,-0.075739748775959,0.095846585929394,-0.041799690574408,0.093969799578190,-0.124293833971024,0.007870037108660,0.000565142079722,-0.086558207869530,0.082540884613991,0.017470112070441,0.021367779001594,0.026298550888896,-0.008044694550335));
res += mul(Get(s0,0,-dy), float4x4(-0.029013875871897,-0.036214247345924,-0.068627171218395,-0.053545452654362,0.028809024021029,0.031873531639576,-0.051792513579130,-0.009202531538904,-0.063530251383781,0.025186771526933,-0.040089938789606,-0.027792658656836,-0.146534800529480,-0.025546940043569,0.012707076966763,-0.014542981982231));
res += mul(Get(s0,0,0), float4x4(0.067557588219643,-0.067045308649540,0.089916147291660,0.015306064859033,0.052634838968515,0.137077450752258,-0.059270601719618,0.025288123637438,-0.008511345833540,0.016084009781480,-0.014888695441186,0.006792992819101,-0.075814463198185,-0.060027707368135,-0.050385862588882,-0.162070095539093));
res += mul(Get(s0,0,dy), float4x4(0.074223846197128,0.333315044641495,-0.062761172652245,0.055938076227903,0.103761933743954,0.119585618376732,0.198215633630753,-0.145637065172195,0.003002986311913,0.037471812218428,0.034805852919817,0.190381094813347,-0.062636844813824,-0.049456216394901,0.177947670221329,-0.003803012659773));
res += mul(Get(s0,dx,-dy), float4x4(-0.109007649123669,-0.036324631422758,-0.191477403044701,-0.045092862099409,-0.092086687684059,-0.023244131356478,-0.038993012160063,-0.016148542985320,-0.104378528892994,-0.090355023741722,-0.017379442229867,0.031932193785906,-0.145868211984634,-0.025092022493482,0.018312925472856,0.031845562160015));
res += mul(Get(s0,dx,0), float4x4(0.012770486995578,-0.094901442527771,0.035467743873596,-0.079138942062855,-0.134978204965591,-0.009430600330234,-0.079255409538746,-0.087184876203537,-0.051115356385708,-0.056092388927937,-0.064664989709854,0.127345263957977,-0.049409408122301,-0.037410534918308,-0.065909981727600,-0.087580621242523));
res += mul(Get(s0,dx,dy), float4x4(-0.079562626779079,-0.026803933084011,-0.022275209426880,-0.109401687979698,0.016683338209987,-0.003218095982447,0.058093205094337,-0.116640888154507,-0.147721648216248,-0.195433422923088,0.022589012980461,0.128897532820702,-0.001282886718400,-0.104108802974224,0.143569976091385,0.053484324365854));
res += mul(Get(s1,-dx,-dy), float4x4(-0.181999206542969,0.001780555350706,0.095791779458523,0.054469916969538,0.159984827041626,-0.077653802931309,-0.100062161684036,-0.025345064699650,-0.060235559940338,0.044200200587511,0.065483562648296,0.121351994574070,-0.042364608496428,-0.066048368811607,-0.136335030198097,0.001834496157244));
res += mul(Get(s1,-dx,0), float4x4(-0.063427098095417,0.055033680051565,0.060495108366013,0.090515553951263,0.098869532346725,-0.010490411892533,0.091332092881203,-0.038306936621666,-0.025094876065850,0.071939282119274,0.156754449009895,-0.052104655653238,-0.002151079941541,-0.043882679194212,-0.061160396784544,0.072825469076633));
res += mul(Get(s1,-dx,dy), float4x4(-0.168577015399933,0.149768456816673,0.035186447203159,0.127823665738106,0.053000099956989,0.072840146720409,0.193425059318542,-0.039618697017431,0.022615296766162,0.046251479536295,0.063439980149269,0.088703185319901,-0.024516228586435,0.084972850978374,0.043293405324221,0.224956348538399));
res += mul(Get(s1,0,-dy), float4x4(-0.060892477631569,-0.030438566580415,-0.025115326046944,-0.054087169468403,0.090653158724308,0.033369258046150,-0.047811914235353,0.047055616974831,-0.053895357996225,0.051546651870012,-0.181728050112724,0.119220413267612,-0.043336234986782,-0.024785596877337,-0.125265195965767,0.011375824920833));
res += mul(Get(s1,0,0), float4x4(0.003491667797789,-0.062751702964306,0.068696282804012,0.025208966806531,0.208186864852905,0.005627305246890,-0.097436472773552,-0.044529523700476,-0.005934917367995,0.121595688164234,-0.060735277831554,0.073874540627003,-0.008554531261325,-0.061544500291348,-0.034081727266312,-0.000021862566427));
res += mul(Get(s1,0,dy), float4x4(-0.117855139076710,-0.107763886451721,-0.032631352543831,0.166716799139977,0.096629865467548,0.024992119520903,0.047393616288900,-0.066258542239666,0.035485763102770,0.134349480271339,0.002311145653948,-0.064230032265186,0.048342268913984,-0.023543938994408,-0.023844333365560,-0.060265026986599));
res += mul(Get(s1,dx,-dy), float4x4(-0.045444220304489,0.044352408498526,0.025558626279235,-0.011452745646238,0.001363052870147,-0.090603373944759,-0.012074200436473,0.112022541463375,-0.004439106211066,-0.019880907610059,-0.226254954934120,-0.101236663758755,0.004455390386283,-0.010489803738892,-0.094994924962521,-0.103919990360737));
res += mul(Get(s1,dx,0), float4x4(-0.037442658096552,0.110291652381420,-0.019403675571084,0.062885552644730,0.037584569305182,-0.020653732120991,-0.029767716303468,-0.008029663003981,0.022098388522863,-0.110997922718525,-0.177331194281578,-0.077159032225609,-0.047667562961578,-0.122350171208382,-0.056159358471632,-0.041741363704205));
res += mul(Get(s1,dx,dy), float4x4(-0.161031842231750,-0.055023763328791,0.179155305027962,0.217625200748444,-0.026780918240547,-0.021131156012416,0.071243070065975,-0.070791527628899,0.062019508332014,-0.158597484230995,0.035170052200556,-0.137316182255745,-0.021997474133968,-0.124231941998005,-0.002974681090564,-0.021826032549143));
res += mul(Get(s2,-dx,-dy), float4x4(0.039960544556379,-0.030587809160352,0.145327836275101,-0.036816317588091,0.112679392099380,-0.033086773008108,0.030661022290587,0.060909274965525,0.144624695181847,-0.012636307626963,-0.045862887054682,0.175503134727478,-0.083370737731457,0.050585996359587,0.090699099004269,-0.049509566277266));
res += mul(Get(s2,-dx,0), float4x4(-0.009027796797454,-0.008816487155855,0.030842609703541,-0.017708513885736,0.105076417326927,-0.081947878003120,0.045098189264536,-0.079226076602936,-0.026698794215918,0.052594408392906,-0.023627303540707,0.000009083304576,0.088812991976738,-0.032972447574139,-0.052348233759403,-0.133407413959503));
res += mul(Get(s2,-dx,dy), float4x4(-0.004642269108444,0.112873621284962,0.110493183135986,0.008210631087422,0.130776569247246,-0.049912326037884,0.120033837854862,-0.169416531920433,0.007550150621682,0.051480144262314,0.040745198726654,-0.049772977828979,-0.034287706017494,-0.039509501308203,0.052857294678688,-0.084190949797630));
res += mul(Get(s2,0,-dy), float4x4(0.086687475442886,0.298948347568512,0.066914714872837,0.021729314699769,0.016197271645069,-0.043689552694559,0.161011695861816,0.027817854657769,-0.037018254399300,-0.055119350552559,-0.007141755893826,0.094942510128021,0.007741581648588,0.142696335911751,-0.026922788470984,0.031699534505606));
res += mul(Get(s2,0,0), float4x4(0.084441818296909,0.028989709913731,-0.144147112965584,0.046837974339724,0.056026674807072,0.025490706786513,-0.013093992136419,-0.166708096861839,0.007762127555907,0.013597665354609,-0.013863753527403,-0.007513699587435,0.146083459258080,0.089247241616249,0.030812211334705,-0.035276684910059));
res += mul(Get(s2,0,dy), float4x4(0.229042142629623,-0.011438439600170,-0.002885062713176,-0.056843236088753,0.046527884900570,-0.034857042133808,-0.094012118875980,-0.083314374089241,0.010837268084288,0.003736601443961,0.185524180531502,-0.073659107089043,0.062529057264328,-0.011284914799035,0.119238309562206,0.143145352602005));
res += mul(Get(s2,dx,-dy), float4x4(0.016759173944592,-0.056027188897133,-0.074219994246960,-0.004492440260947,0.080806329846382,0.064522080123425,-0.011883974075317,-0.200259134173393,0.056775037199259,-0.125757709145546,-0.017481354996562,0.058058194816113,-0.087393760681152,-0.064768463373184,0.234008729457855,-0.051997147500515));
res += mul(Get(s2,dx,0), float4x4(-0.114640384912491,-0.002317520789802,-0.113949932157993,-0.114526063203812,0.068210229277611,0.091429643332958,-0.004516239743680,-0.168756961822510,0.142863661050797,-0.107990860939026,-0.026452442631125,-0.044536270201206,0.076791167259216,0.096473827958107,-0.035475235432386,-0.146876573562622));
res += mul(Get(s2,dx,dy), float4x4(0.142530962824821,-0.035912994295359,-0.004890820477158,-0.061111964285374,0.016949566081166,-0.025134854018688,-0.118767656385899,-0.159670218825340,0.033072184771299,-0.133679136633873,0.081904582679272,-0.034707531332970,0.142348423600197,0.012306910008192,0.002342217136174,-0.045570507645607));
res += mul(Get(s3,-dx,-dy), float4x4(0.089934810996056,-0.004240075126290,0.072457432746887,-0.056244548410177,-0.147862985730171,0.041176144033670,-0.222805842757225,0.095317937433720,-0.089759111404419,0.008319885469973,-0.082362070679665,-0.128694579005241,0.088587574660778,-0.056108318269253,-0.102704100310802,0.030442602932453));
res += mul(Get(s3,-dx,0), float4x4(0.019961033016443,-0.023225661367178,-0.045077562332153,0.003564410144463,-0.027278365567327,0.089218340814114,0.106524318456650,0.043774813413620,0.111623391509056,-0.019632056355476,0.045494493097067,0.015631742775440,-0.068931937217712,-0.028965219855309,-0.132897987961769,0.141221404075623));
res += mul(Get(s3,-dx,dy), float4x4(-0.108897045254707,0.003718237392604,0.193275481462479,0.025532521307468,0.030220193788409,0.074706651270390,-0.059118207544088,-0.037156619131565,-0.063354894518852,0.034077763557434,-0.071943610906601,-0.103020414710045,-0.098324425518513,-0.064770124852657,-0.040171109139919,0.151590019464493));
res += mul(Get(s3,0,-dy), float4x4(-0.010343477129936,0.072748087346554,0.235694542527199,-0.088159434497356,-0.057943556457758,0.024249941110611,-0.143715694546700,-0.026473762467504,0.003344448283315,0.026761539280415,-0.130015775561333,0.007788550108671,0.120670989155769,-0.037152402102947,-0.069058194756508,-0.019415305927396));
res += mul(Get(s3,0,0), float4x4(0.112299330532551,0.015130400657654,-0.044483736157417,-0.057291053235531,0.106677539646626,0.071064531803131,-0.032579232007265,-0.120925277471542,0.080588430166245,-0.052265662699938,-0.012520850636065,0.007343014236540,0.042432129383087,-0.016925211995840,-0.091708920896053,0.038239911198616));
res += mul(Get(s3,0,dy), float4x4(-0.093457303941250,0.022088343277574,-0.144409954547882,0.059182167053223,0.058827549219131,-0.103305265307426,-0.018208488821983,-0.139303147792816,0.047024372965097,-0.059014506638050,0.142163455486298,-0.022291863337159,-0.043781790882349,0.063397184014320,0.011077564209700,0.069195941090584));
res += mul(Get(s3,dx,-dy), float4x4(0.001743829809129,-0.049604471772909,0.200589612126350,0.012722388841212,-0.104381859302521,-0.026004971936345,-0.157457977533340,0.023415010422468,0.021318113431334,0.060850594192743,-0.049454450607300,0.093729086220264,0.053649693727493,-0.071087695658207,-0.099161386489868,-0.007677027955651));
res += mul(Get(s3,dx,0), float4x4(0.126767992973328,-0.110017366707325,0.072368875145912,0.111021943390369,-0.075629696249962,-0.022984476760030,-0.110817112028599,-0.114023208618164,0.003950691781938,0.078017450869083,-0.073661506175995,-0.081091456115246,0.108543843030930,-0.145556062459946,-0.121311962604523,0.007250527385622));
res += mul(Get(s3,dx,dy), float4x4(-0.049713719636202,-0.053604647517204,0.091753318905830,0.194875523447990,-0.014297218061984,-0.093667611479759,-0.116915278136730,-0.100709602236748,0.044226996600628,-0.028539801016450,0.114067740738392,-0.063316456973553,-0.028672318905592,-0.044357601553202,0.004317006561905,-0.045647792518139));
return max(float4(0,0,0,0), res);
}
