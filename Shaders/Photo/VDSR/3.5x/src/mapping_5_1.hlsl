sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.040240753442049,-0.162141561508179,-0.005090307444334,-0.054344322532415,-0.073698282241821,-0.030751476064324,0.027686603367329,-0.031468309462070,0.023505238816142,0.140227541327477,-0.015410699881613,-0.171417921781540,0.206046745181084,-0.157206013798714,-0.096791356801987,-0.069264411926270));
res += mul(Get(s0,-dx,0), float4x4(0.087493844330311,0.142539113759995,0.013627362437546,0.138533085584641,0.125772029161453,0.313453078269958,0.132865861058235,-0.222182780504227,-0.203383818268776,-0.020418809726834,-0.144930258393288,0.066365621984005,0.144506886601448,-0.130620822310448,0.107920244336128,-0.090037673711777));
res += mul(Get(s0,-dx,dy), float4x4(0.161504402756691,0.021125867962837,-0.125494211912155,0.175956130027771,0.211817175149918,-0.152078226208687,0.099411271512508,0.069593474268913,0.061782568693161,-0.032188821583986,-0.060421410948038,-0.010857127606869,0.100092649459839,-0.041099593043327,0.110203526914120,-0.033699300140142));
res += mul(Get(s0,0,-dy), float4x4(-0.114809043705463,-0.109387122094631,0.076802738010883,0.050263669341803,0.023906124755740,0.014327206648886,0.118456229567528,0.020550157874823,0.100293040275574,0.080498099327087,-0.039526317268610,-0.086426526308060,-0.142061591148376,-0.111500144004822,-0.055848076939583,-0.130455791950226));
res += mul(Get(s0,0,0), float4x4(-0.087777689099312,-0.027486681938171,0.109988220036030,-0.099297478795052,-0.033724527806044,-0.009441995061934,-0.002619771286845,0.098186545073986,-0.094849586486816,0.046314515173435,-0.204749166965485,0.093034692108631,0.072185330092907,0.230539038777351,-0.101513959467411,0.085644967854023));
res += mul(Get(s0,0,dy), float4x4(-0.109949752688408,-0.046003464609385,-0.165648430585861,0.092233665287495,0.010549047030509,-0.000941954145674,-0.164333626627922,0.002902921987697,0.013730441220105,-0.069460101425648,0.036678340286016,0.170074611902237,0.041513938456774,0.266200691461563,-0.027468571439385,-0.198692247271538));
res += mul(Get(s0,dx,-dy), float4x4(0.039156693965197,0.093859598040581,0.293083965778351,0.029436724260449,0.092811971902847,0.088840804994106,0.208591356873512,0.059524089097977,0.008009901270270,0.039120882749557,0.111326128244400,-0.191816389560699,-0.045935250818729,-0.209011644124985,0.039325464516878,-0.315156340599060));
res += mul(Get(s0,dx,0), float4x4(0.131365314126015,-0.079886652529240,0.295603454113007,0.041955322027206,0.025789184495807,-0.002388430526480,-0.138378649950027,-0.129618853330612,-0.015609422698617,0.112604908645153,0.000354020623490,-0.132602423429489,-0.059598136693239,0.114623762667179,0.111945934593678,0.076278239488602));
res += mul(Get(s0,dx,dy), float4x4(-0.017078787088394,0.010405714623630,0.189948916435242,-0.086448073387146,-0.068034283816814,-0.074553601443768,-0.016741370782256,0.189661234617233,0.114637270569801,0.187928259372711,0.028568500652909,-0.098100259900093,-0.116600684821606,-0.079146213829517,-0.112964645028114,-0.092711612582207));
res += mul(Get(s1,-dx,-dy), float4x4(0.047825623303652,0.006550346035510,0.044829707592726,-0.074140861630440,-0.010995941236615,-0.038109939545393,0.048395741730928,-0.106894038617611,0.041248708963394,0.154263690114021,-0.241846784949303,-0.070118077099323,-0.032281782478094,-0.042960509657860,0.047683611512184,-0.058509539812803));
res += mul(Get(s1,-dx,0), float4x4(0.025192867964506,-0.039766948670149,-0.355767875909805,-0.149594381451607,0.109085001051426,0.011594211682677,0.065732620656490,-0.012362033128738,0.014725449495018,0.109328165650368,0.075431831181049,0.121215440332890,0.086693227291107,0.201924160122871,0.030761966481805,-0.084636956453323));
res += mul(Get(s1,-dx,dy), float4x4(-0.007294009439647,0.121472388505936,-0.030750930309296,0.035639449954033,-0.095966026186943,0.118498124182224,0.020028358325362,0.136470869183540,0.139560922980309,-0.004109425470233,0.008764728903770,0.127478986978531,-0.243276745080948,-0.014900873415172,0.046672970056534,-0.182912111282349));
res += mul(Get(s1,0,-dy), float4x4(-0.102304972708225,-0.124769687652588,0.000726601749193,0.219652637839317,0.054634030908346,-0.127588540315628,0.080046273767948,0.273965716362000,0.023667767643929,0.092170014977455,0.018427209928632,-0.098703339695930,0.031555593013763,0.060265190899372,-0.059455718845129,-0.003377992426977));
res += mul(Get(s1,0,0), float4x4(-0.151733785867691,-0.232138246297836,-0.041830364614725,-0.204106837511063,0.021136909723282,-0.239516422152519,0.045155733823776,0.035541187971830,-0.139635026454926,-0.106725119054317,-0.095734447240829,-0.006741394754499,0.166336566209793,0.037165392190218,0.094113431870937,-0.054885499179363));
res += mul(Get(s1,0,dy), float4x4(0.042236685752869,-0.031114758923650,-0.014840594492853,0.085198394954205,0.027533989399672,-0.145510464906693,-0.054645609110594,-0.242057412862778,-0.032327897846699,-0.099119730293751,-0.063189767301083,-0.150495901703835,0.088607959449291,0.190093442797661,0.093024522066116,-0.056078594177961));
res += mul(Get(s1,dx,-dy), float4x4(-0.022970166057348,-0.156511142849922,0.050855353474617,-0.138743057847023,-0.060850191861391,0.099758729338646,-0.185059890151024,-0.059997931122780,0.084274187684059,-0.199225664138794,0.081103205680847,-0.274585306644440,-0.057224359363317,0.023662332445383,-0.063528299331665,0.210450083017349));
res += mul(Get(s1,dx,0), float4x4(0.197295323014259,-0.105196647346020,0.031204754486680,0.071271248161793,0.064381048083305,0.060798317193985,0.093613103032112,0.312271893024445,-0.030751697719097,0.118781037628651,0.017829341813922,0.287679255008698,0.099289953708649,-0.095291517674923,-0.020744675770402,0.103342093527317));
res += mul(Get(s1,dx,dy), float4x4(0.019479917362332,-0.026019217446446,-0.027778584510088,0.055142734199762,0.125188499689102,-0.026610501110554,-0.148053869605064,0.092575594782829,0.075061097741127,0.136255070567131,-0.188559114933014,-0.036679890006781,0.142246603965759,0.035317711532116,-0.067329242825508,-0.056299552321434));
res += mul(Get(s2,-dx,-dy), float4x4(0.081608638167381,0.029093144461513,0.058838125318289,0.120799310505390,0.218012660741806,-0.120873436331749,0.076142534613609,0.061584234237671,-0.042424242943525,0.116317287087440,0.084257155656815,0.279598146677017,-0.085451669991016,-0.047107089310884,0.040329266339540,0.218457087874413));
res += mul(Get(s2,-dx,0), float4x4(0.021525705233216,-0.057882573455572,-0.087714120745659,0.018713455647230,0.115506350994110,0.022772636264563,0.027407223358750,0.064148843288422,0.112381704151630,-0.039103675633669,-0.014679656364024,-0.043125718832016,-0.026177478954196,0.039115857332945,0.040406886488199,-0.145366400480270));
res += mul(Get(s2,-dx,dy), float4x4(-0.226467072963715,-0.107807040214539,0.107005856931210,0.086169756948948,0.038852285593748,0.130279883742332,0.043189235031605,0.015662740916014,0.033276587724686,-0.029043380171061,0.114945150911808,-0.070710644125938,0.071968488395214,-0.047750059515238,0.046475730836391,0.077086932957172));
res += mul(Get(s2,0,-dy), float4x4(-0.033785551786423,0.123863458633423,0.084135934710503,-0.068723537027836,0.089910604059696,-0.024236697703600,0.069876603782177,-0.004577978514135,0.089761205017567,-0.032616704702377,0.104409545660019,0.120130918920040,0.176246613264084,-0.039986290037632,-0.013618023134768,0.027013467624784));
res += mul(Get(s2,0,0), float4x4(-0.170786365866661,0.038526397198439,-0.058106202632189,-0.118291437625885,0.046959389001131,0.155508548021317,-0.015396000817418,-0.023271752521396,-0.006847210228443,-0.146226555109024,0.064299166202545,0.072458356618881,-0.097151428461075,0.089270457625389,0.029057785868645,0.025674752891064));
res += mul(Get(s2,0,dy), float4x4(-0.003003895748407,0.063189230859280,-0.079207718372345,-0.113463886082172,-0.074232906103134,-0.210825487971306,0.010799964889884,-0.041997935622931,0.007928852923214,0.035223338752985,-0.334621399641037,0.026060111820698,-0.159093528985977,0.107966855168343,-0.011983189731836,-0.098859749734402));
res += mul(Get(s2,dx,-dy), float4x4(0.093214713037014,-0.099339887499809,0.214996278285980,0.048081398010254,-0.153838843107224,-0.021884147077799,-0.250330865383148,-0.128263443708420,0.074227169156075,-0.043624259531498,-0.071478657424450,0.154900208115578,0.062591694295406,-0.077575422823429,0.033445030450821,-0.075663149356842));
res += mul(Get(s2,dx,0), float4x4(0.176207885146141,0.031530730426311,-0.227719858288765,-0.270950824022293,-0.138001412153244,0.222076699137688,-0.154266998171806,0.165084421634674,0.065557755529881,0.083172500133514,-0.090437255799770,0.103499859571457,0.139688402414322,0.037590306252241,0.000416331575252,-0.103793352842331));
res += mul(Get(s2,dx,dy), float4x4(-0.041426073759794,-0.226141169667244,-0.065805949270725,-0.049006897956133,0.148518636822701,-0.005999493878335,0.079165473580360,0.088779434561729,0.104285642504692,-0.115148603916168,0.034091863781214,-0.000373201182811,0.012138982303441,0.050153478980064,-0.215370535850525,-0.035137526690960));
res += mul(Get(s3,-dx,-dy), float4x4(0.212907657027245,0.103885330259800,0.032018266618252,0.055008973926306,0.201256439089775,0.132010444998741,-0.134890839457512,0.153309807181358,0.071624673902988,0.168035909533501,-0.087061040103436,0.153512716293335,0.040770150721073,0.022375455126166,0.023316202685237,-0.109974727034569));
res += mul(Get(s3,-dx,0), float4x4(0.195673838257790,-0.041601534932852,0.051729228347540,0.110582366585732,0.071872957050800,-0.019016338512301,0.058979794383049,0.020008051767945,-0.037907842546701,-0.092222109436989,-0.029913464561105,0.065973289310932,-0.028268370777369,-0.005491230171174,-0.147252842783928,0.153494238853455));
res += mul(Get(s3,-dx,dy), float4x4(0.243923574686050,0.007046231999993,0.295094728469849,0.043054282665253,0.021518446505070,0.070736393332481,0.112871438264847,-0.042539671063423,-0.132018685340881,0.008383928798139,-0.119298361241817,-0.012661345303059,-0.047312460839748,0.103301063179970,-0.088075749576092,-0.125420689582825));
res += mul(Get(s3,0,-dy), float4x4(0.058334697037935,0.126572176814079,-0.015114931389689,0.094776518642902,-0.201413854956627,0.092826671898365,-0.069168433547020,-0.212722525000572,-0.007691618520766,0.292282342910767,0.153076767921448,0.094994947314262,0.081789135932922,-0.101748123764992,0.060363981872797,-0.124271489679813));
res += mul(Get(s3,0,0), float4x4(0.022073991596699,0.039386436343193,-0.084498137235641,0.135442957282066,-0.021695893257856,-0.131124839186668,0.202287137508392,-0.173640847206116,-0.152432814240456,0.102020598948002,0.008265358395875,0.022515028715134,-0.096970409154892,0.074718125164509,-0.061406303197145,0.059338342398405));
res += mul(Get(s3,0,dy), float4x4(-0.026783816516399,0.027088012546301,0.358285814523697,-0.121176980435848,-0.000035210381611,-0.033768750727177,-0.022310707718134,-0.165218591690063,0.054351162165403,0.061327159404755,0.038905981928110,0.126595571637154,-0.024714061990380,-0.063558451831341,-0.042645569890738,-0.041695132851601));
res += mul(Get(s3,dx,-dy), float4x4(0.008794445544481,-0.084382027387619,-0.019204620271921,-0.066036939620972,0.107535168528557,-0.040337298065424,0.047946896404028,0.006714109797031,0.020711939781904,0.054651558399200,-0.066786691546440,0.139593303203583,-0.034345448017120,-0.156105339527130,-0.086350709199905,-0.044438187032938));
res += mul(Get(s3,dx,0), float4x4(0.003013927023858,0.018435517325997,-0.122713029384613,0.007369478698820,0.012512505985796,-0.020403204485774,-0.064187094569206,-0.069645263254642,-0.125106334686279,0.052349016070366,0.022502264007926,-0.074017509818077,-0.030431402847171,0.107311263680458,-0.030357105657458,0.131433933973312));
res += mul(Get(s3,dx,dy), float4x4(-0.083627201616764,0.054349727928638,-0.099869541823864,0.121848076581955,-0.080566354095936,0.254201650619507,0.063444554805756,0.171437606215477,0.091868557035923,-0.148287326097488,-0.082066759467125,0.124693907797337,0.148192211985588,0.283210277557373,-0.077459923923016,-0.028973944485188));
return max(float4(0,0,0,0), res);
}
