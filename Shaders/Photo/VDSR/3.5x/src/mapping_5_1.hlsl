sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.117356926202774,-0.101930096745491,-0.245853826403618,-0.054618123918772,-0.074871122837067,-0.008197329938412,0.169311106204987,0.163754731416702,0.032557591795921,-0.032525293529034,-0.031197018921375,0.005209859460592,-0.053840938955545,0.056377056986094,-0.148113191127777,-0.058393824845552));
res += mul(Get(s0,-dx,0), float4x4(-0.173434913158417,0.084072515368462,0.052377283573151,0.019542682915926,0.092424109578133,0.136805757880211,-0.137257650494576,-0.137210056185722,0.008520377799869,-0.053090188652277,-0.004592815414071,0.083983384072781,0.068211421370506,-0.115276977419853,-0.002388006541878,-0.029626999050379));
res += mul(Get(s0,-dx,dy), float4x4(0.011549364775419,-0.077131412923336,0.013046704232693,-0.095523588359356,0.151618480682373,0.037628214806318,0.073503457009792,-0.224475800991058,0.016229055821896,-0.056555952876806,-0.011180620640516,-0.011778070591390,-0.007960849441588,0.076031379401684,0.001130965072662,-0.143248319625854));
res += mul(Get(s0,0,-dy), float4x4(-0.109891451895237,0.054870523512363,-0.250990450382233,-0.074908643960953,0.059263210743666,-0.040157798677683,-0.020752817392349,0.082215823233128,0.040399145334959,0.011259377002716,0.042316380888224,0.035756804049015,0.036920472979546,0.032275896519423,-0.087126657366753,0.006953838281333));
res += mul(Get(s0,0,0), float4x4(-0.092306062579155,0.056431353092194,0.071598812937737,0.014471192844212,0.103799715638161,0.047397281974554,-0.144256725907326,0.039790414273739,0.019069513306022,-0.024354154244065,-0.007838135585189,0.077536225318909,0.080905914306641,0.029998462647200,-0.093712583184242,-0.052160274237394));
res += mul(Get(s0,0,dy), float4x4(0.166919142007828,0.055862016975880,0.006162678357214,-0.059554815292358,-0.115611329674721,-0.005426326300949,-0.090647853910923,-0.062408629804850,-0.059846017509699,0.002325817244127,-0.093487508594990,0.018104558810592,-0.057076584547758,0.045438144356012,0.147387027740479,-0.066156156361103));
res += mul(Get(s0,dx,-dy), float4x4(-0.053151715546846,0.020470496267080,-0.156734034419060,-0.041222188621759,0.139252543449402,-0.076578550040722,0.098927758634090,0.011175411753356,0.001712794182822,-0.087252326309681,0.033957514911890,-0.055689878761768,-0.128569439053535,-0.167550116777420,-0.061820250004530,-0.056372210383415));
res += mul(Get(s0,dx,0), float4x4(-0.028554406017065,-0.037967782467604,0.004119838122278,0.001050448627211,0.146270975470543,0.022094367071986,0.181632295250893,0.041316613554955,-0.014101281762123,-0.090695217251778,0.047647211700678,0.014207493513823,-0.011722622439265,0.021463340148330,-0.018206635490060,-0.035642907023430));
res += mul(Get(s0,dx,dy), float4x4(0.061599127948284,-0.018496880307794,-0.039211507886648,0.018520815297961,-0.163476377725601,-0.063498757779598,0.022896092385054,-0.116864643990993,-0.044602219015360,-0.040041238069534,-0.011497327126563,0.031369324773550,-0.232267975807190,0.176297172904015,0.026689453050494,-0.104548677802086));
res += mul(Get(s1,-dx,-dy), float4x4(0.057638294994831,-0.052315976470709,0.022313624620438,0.013751954771578,-0.132713750004768,-0.102275937795639,0.028704337775707,-0.093933530151844,0.092607125639915,-0.127975583076477,-0.011754537932575,0.002468809951097,-0.007676136679947,0.055888652801514,-0.078702367842197,0.223205581307411));
res += mul(Get(s1,-dx,0), float4x4(0.079079747200012,0.064623586833477,-0.056481957435608,0.144673734903336,-0.145350262522697,-0.110577717423439,0.072346054017544,-0.076520331203938,0.036926392465830,-0.130771994590759,-0.064591653645039,-0.056296359747648,0.067551299929619,-0.087969712913036,0.028556719422340,-0.132071301341057));
res += mul(Get(s1,-dx,dy), float4x4(0.048968449234962,0.020840473473072,-0.002568848663941,0.012492685578763,-0.038301669061184,0.049125835299492,0.173081412911415,0.057363536208868,-0.091305553913116,-0.126065582036972,-0.053020250052214,-0.128806650638580,0.101979941129684,-0.024314641952515,-0.060003597289324,-0.142795518040657));
res += mul(Get(s1,0,-dy), float4x4(0.025781905278563,-0.032967429608107,0.084490723907948,0.045606091618538,-0.040027227252722,0.110324971377850,-0.085219539701939,-0.091653667390347,0.110859520733356,-0.000641979277134,-0.144694760441780,0.033566709607840,-0.125349387526512,-0.084450751543045,0.022551048547029,0.094748511910439));
res += mul(Get(s1,0,0), float4x4(-0.023215249180794,-0.032136924564838,0.019252970814705,0.236836478114128,0.031924523413181,0.065768569707870,-0.062543399631977,0.018473293632269,0.112873241305351,-0.012489121407270,0.005292967427522,0.001010416890495,0.165401726961136,-0.067380234599113,-0.040149711072445,-0.079173557460308));
res += mul(Get(s1,0,dy), float4x4(-0.073291428387165,0.048794239759445,-0.121315680444241,0.182412981987000,0.027950344607234,0.054047480225563,0.085902899503708,0.187428161501884,-0.153557643294334,-0.034462533891201,-0.014795443043113,-0.089227311313152,-0.025034416466951,0.099887207150459,-0.028235945850611,-0.009292824193835));
res += mul(Get(s1,dx,-dy), float4x4(0.092592805624008,-0.146751731634140,-0.000741191615816,0.054917663335800,-0.059255603700876,-0.063757099211216,-0.099333472549915,0.192178457975388,-0.061689883470535,-0.074385806918144,-0.095957301557064,-0.036098025739193,-0.065170660614967,-0.083005972206593,-0.020297439768910,-0.011319085955620));
res += mul(Get(s1,dx,0), float4x4(0.172983989119530,-0.178987339138985,0.014383881352842,0.108624517917633,0.148901730775833,0.107659690082073,-0.025780497118831,0.091871634125710,-0.028837272897363,-0.072792567312717,-0.083293184638023,-0.011369992978871,0.121001362800598,0.065582558512688,0.025473365560174,-0.048730015754700));
res += mul(Get(s1,dx,dy), float4x4(0.186191365122795,-0.074809439480305,-0.074442602694035,0.007303503341973,-0.021905418485403,-0.126360028982162,0.068604886531830,0.048408616334200,-0.145777136087418,-0.115451090037823,0.008749607019126,0.047624621540308,-0.054504539817572,-0.062480326741934,0.030135061591864,-0.057844914495945));
res += mul(Get(s2,-dx,-dy), float4x4(0.036612905561924,0.270656138658524,-0.095819570124149,0.125663772225380,0.056474335491657,0.118635371327400,0.009764344431460,0.043138884007931,0.004184128250927,-0.007893981412053,-0.069384016096592,-0.040165688842535,0.115773409605026,0.017883621156216,0.088138319551945,0.033127628266811));
res += mul(Get(s2,-dx,0), float4x4(0.010597460903227,0.092208057641983,-0.007123271003366,0.116756588220596,0.056340415030718,0.071548730134964,-0.048698775470257,0.036603432148695,-0.042727351188660,0.078306503593922,-0.042260125279427,-0.054675895720720,0.074772298336029,0.088451869785786,0.058655876666307,-0.009214527904987));
res += mul(Get(s2,-dx,dy), float4x4(0.055003326386213,0.033106260001659,0.009690597653389,0.017656989395618,-0.104773506522179,0.006153556983918,0.000062595761847,-0.044795341789722,-0.084315836429596,0.062541849911213,-0.095909811556339,-0.105392925441265,0.115364007651806,0.180211707949638,0.052049770951271,0.043231170624495));
res += mul(Get(s2,0,-dy), float4x4(0.046727102249861,0.056447003036737,0.022201886400580,-0.017558533698320,0.011666011996567,0.078729122877121,0.056044694036245,0.069208048284054,-0.080357328057289,-0.029322542250156,-0.074217811226845,-0.028258474543691,0.085795700550079,0.011000154539943,0.058922853320837,0.027833009138703));
res += mul(Get(s2,0,0), float4x4(-0.055275306105614,-0.059914849698544,-0.049581687897444,-0.036111108958721,-0.002941024024040,0.085794910788536,-0.027326654642820,0.132762372493744,-0.021147161722183,0.087311826646328,0.088540270924568,-0.046381615102291,-0.026548711583018,0.134093418717384,-0.020622778683901,0.002303835237399));
res += mul(Get(s2,0,dy), float4x4(-0.022567098960280,0.004508140962571,0.020036147907376,-0.070215463638306,-0.082649849355221,0.111262395977974,0.014257404953241,0.031703922897577,-0.077116489410400,-0.019330959767103,0.233746886253357,0.072051279246807,0.160427033901215,0.115322858095169,0.100872382521629,-0.085054419934750));
res += mul(Get(s2,dx,-dy), float4x4(-0.073074206709862,-0.034525014460087,-0.077287182211876,-0.006065007299185,-0.057802565395832,-0.038169678300619,-0.063747070729733,0.015070989727974,-0.071551732718945,0.062410663813353,-0.051443941891193,-0.079686790704727,-0.072997450828552,0.201740950345993,-0.043032288551331,0.046172514557838));
res += mul(Get(s2,dx,0), float4x4(-0.075196303427219,-0.085055813193321,-0.010381532832980,-0.103256680071354,-0.066884517669678,-0.126023292541504,-0.079219162464142,-0.001696847961284,-0.075285822153091,0.024742577224970,0.038162894546986,-0.062846235930920,-0.092210285365582,0.079760350286961,-0.111344181001186,0.078165687620640));
res += mul(Get(s2,dx,dy), float4x4(0.035933274775743,-0.039941042661667,0.034004885703325,-0.098735176026821,-0.093241393566132,-0.059314675629139,0.061058003455400,0.022487491369247,-0.164170250296593,-0.081908710300922,0.147660598158836,0.052668724209070,0.017810989171267,0.091257311403751,-0.000052766037697,-0.029828809201717));
res += mul(Get(s3,-dx,-dy), float4x4(0.005500978324562,0.088393315672874,-0.062891311943531,-0.086370490491390,0.010275683365762,-0.075453788042068,-0.016986813396215,-0.096827171742916,0.061474494636059,-0.165405243635178,-0.029626436531544,-0.079697206616402,-0.046033650636673,0.125637888908386,-0.057785265147686,0.064429640769958));
res += mul(Get(s3,-dx,0), float4x4(0.010827487334609,0.078830994665623,-0.101806052029133,0.038081243634224,0.022597102448344,-0.019260076805949,0.009929552674294,-0.135635301470757,-0.057437106966972,-0.099851973354816,-0.057284813374281,-0.084576509892941,-0.095347344875336,0.188045278191566,0.029983958229423,0.209309324622154));
res += mul(Get(s3,-dx,dy), float4x4(-0.068250901997089,0.044839210808277,-0.046787247061729,0.065379545092583,-0.089619308710098,0.052831523120403,-0.094693548977375,-0.228884637355804,-0.138500809669495,-0.013363990001380,-0.110790863633156,0.038217674940825,-0.095354355871677,0.244136855006218,0.104277826845646,0.043278697878122));
res += mul(Get(s3,0,-dy), float4x4(0.014025293290615,0.073457039892673,-0.001885510049760,-0.044369343668222,0.054508220404387,-0.089498937129974,0.010057464241982,-0.054257974028587,0.034952390938997,-0.027522163465619,0.005417789798230,-0.131573900580406,-0.031773187220097,0.048594865947962,-0.249959617853165,0.220178201794624));
res += mul(Get(s3,0,0), float4x4(0.199828639626503,-0.157182469964027,-0.060849212110043,-0.011076283641160,0.300347745418549,-0.043448787182570,0.217571362853050,-0.141274601221085,0.013680906035006,0.018618151545525,0.103642076253891,-0.056470409035683,-0.099278256297112,-0.178161665797234,0.015494212508202,0.023198371753097));
res += mul(Get(s3,0,dy), float4x4(0.069020695984364,0.071134261786938,-0.062402818351984,-0.022794853895903,-0.066750556230545,-0.113368339836597,-0.151391729712486,-0.176336079835892,-0.016974128782749,-0.025898998603225,0.072974346578121,0.039707727730274,-0.217195972800255,-0.063594616949558,-0.014985585585237,-0.083140432834625));
res += mul(Get(s3,dx,-dy), float4x4(0.011759470216930,-0.016084555536509,0.039336662739515,-0.245454922318459,-0.067542679607868,-0.129385530948639,-0.149294570088387,-0.073727056384087,0.287569522857666,0.099346473813057,0.121816366910934,0.043984163552523,-0.016471154987812,-0.024655492976308,0.497604012489319,0.083684302866459));
res += mul(Get(s3,dx,0), float4x4(0.043507609516382,-0.171922370791435,-0.039394818246365,-0.157036647200584,0.089704565703869,-0.022956920787692,-0.059568587690592,-0.006476534064859,0.099031515419483,0.007468392141163,0.111342817544937,0.056034862995148,-0.055747032165527,-0.042897526174784,0.069477088749409,0.032328475266695));
res += mul(Get(s3,dx,dy), float4x4(0.161613970994949,0.048953898251057,-0.136811822652817,-0.145303085446358,-0.147976681590080,-0.140528902411461,0.211299508810043,-0.029833829030395,0.013427210971713,-0.067261271178722,-0.019575074315071,-0.025166727602482,0.200567573308945,-0.171131819486618,-0.171971246600151,0.111448712646961));
return max(float4(0,0,0,0), res);
}
