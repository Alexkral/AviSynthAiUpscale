sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.132374078035355,-0.013265101239085,0.108917899429798,-0.028826447203755,0.113489434123039,-0.009634485468268,0.043221317231655,-0.103344276547432,-0.123902574181557,-0.036531940102577,-0.004862124100327,-0.112377852201462,-0.094665989279747,0.154234305024147,-0.084977149963379,-0.059084102511406));
res += mul(Get(s0,-dx,0), float4x4(-0.199298471212387,0.053218990564346,-0.118300117552280,0.065203115344048,0.049061901867390,0.002894772216678,0.097119107842445,0.037538807839155,0.012751423753798,0.045691113919020,-0.062141828238964,0.000083642793470,0.118593245744705,-0.110742561519146,-0.109140574932098,0.108448795974255));
res += mul(Get(s0,-dx,dy), float4x4(-0.065881393849850,-0.015018718317151,-0.118581987917423,0.238525152206421,-0.174393072724342,-0.185318574309349,0.102411329746246,0.060150723904371,0.114816747605801,-0.015239084139466,0.014715460129082,0.032785363495350,0.075463168323040,-0.021095903590322,-0.012776977382600,0.159563079476357));
res += mul(Get(s0,0,-dy), float4x4(-0.005227992311120,0.113392852246761,0.086937546730042,-0.052506886422634,0.193147405982018,0.083904802799225,-0.054061613976955,-0.009441941976547,0.074854433536530,0.226161152124405,-0.030388191342354,-0.002260442590341,-0.005194574128836,-0.147568434476852,0.125361502170563,0.073623269796371));
res += mul(Get(s0,0,0), float4x4(0.148816362023354,-0.054727528244257,-0.147101566195488,-0.040856797248125,-0.130709037184715,0.067762881517410,-0.105513684451580,-0.047712340950966,0.097514115273952,-0.105208925902843,0.032645992934704,0.123154684901237,0.171407908201218,-0.085867792367935,-0.218383565545082,0.038787372410297));
res += mul(Get(s0,0,dy), float4x4(0.018775740638375,0.151414588093758,-0.055170111358166,0.009871810674667,0.045765098184347,0.021150074899197,-0.051807843148708,-0.150094240903854,-0.170178607106209,-0.144120439887047,-0.082877412438393,0.155159145593643,-0.042265344411135,-0.020396552979946,0.167188629508018,-0.051255621016026));
res += mul(Get(s0,dx,-dy), float4x4(-0.124262012541294,0.055627673864365,0.182914435863495,-0.131419554352760,0.057471837848425,-0.082337290048599,-0.075704082846642,0.129877939820290,-0.006752615794539,-0.011467483825982,0.092039518058300,-0.091871835291386,-0.288075566291809,0.026345150545239,0.021563263610005,-0.110159128904343));
res += mul(Get(s0,dx,0), float4x4(-0.068061470985413,0.032583199441433,0.011116804555058,-0.117880046367645,-0.090818360447884,0.053948782384396,0.124674551188946,-0.075647138059139,0.118040993809700,-0.007947396486998,0.037499208003283,0.019807226955891,-0.011211812496185,0.141887247562408,-0.056522756814957,-0.122801370918751));
res += mul(Get(s0,dx,dy), float4x4(0.154918923974037,0.316349059343338,-0.037182774394751,0.103915303945541,-0.150377586483955,-0.103579409420490,0.119067467749119,0.052959427237511,-0.079831354320049,-0.032268762588501,0.051602028310299,-0.071413755416870,0.119226202368736,0.012244806624949,-0.137056291103363,-0.242344945669174));
res += mul(Get(s1,-dx,-dy), float4x4(0.023136235773563,-0.144016250967979,0.025010664016008,-0.074193105101585,-0.089774727821350,0.144566848874092,0.120842441916466,0.003666725009680,-0.078244149684906,0.018489491194487,0.060210067778826,-0.012192895635962,-0.106103867292404,-0.037018552422523,0.079401314258575,0.072735995054245));
res += mul(Get(s1,-dx,0), float4x4(0.146928995847702,-0.037938226014376,0.136238947510719,-0.133174374699593,-0.054947704076767,-0.029415300115943,-0.046706181019545,0.087961710989475,0.009808021597564,0.083916880190372,-0.101128987967968,-0.046453043818474,0.058381497859955,-0.119977280497551,0.015084786340594,0.109758570790291));
res += mul(Get(s1,-dx,dy), float4x4(0.033037185668945,-0.056267157196999,-0.009331440553069,-0.079510785639286,0.046304617077112,0.270736694335938,-0.157393172383308,-0.015405472368002,-0.129748418927193,0.021472474560142,0.133160710334778,0.160226657986641,-0.020524062216282,-0.060924530029297,0.007018018513918,-0.051655355840921));
res += mul(Get(s1,0,-dy), float4x4(0.082410633563995,-0.102469712495804,0.027826998382807,0.085325516760349,0.017225412651896,-0.036793157458305,-0.121013954281807,0.081588074564934,-0.049918632954359,-0.109446607530117,0.040810033679008,-0.079251296818256,0.036188285797834,-0.046460822224617,0.047804776579142,0.059179976582527));
res += mul(Get(s1,0,0), float4x4(-0.048200450837612,-0.124054975807667,0.014856334775686,-0.139870554208755,0.086191497743130,0.028022136539221,-0.121858850121498,-0.120339162647724,-0.089220285415649,0.055797375738621,-0.200794354081154,0.080396309494972,-0.055931448936462,0.134353473782539,0.107213541865349,-0.088539063930511));
res += mul(Get(s1,0,dy), float4x4(-0.016281090676785,-0.096076481044292,0.080078169703484,-0.177154719829559,-0.115077033638954,0.021022925153375,-0.112371414899826,-0.234763219952583,-0.306686908006668,-0.005473467987031,-0.068683020770550,-0.073231808841228,-0.058098472654819,0.233387216925621,0.115885555744171,-0.015624197199941));
res += mul(Get(s1,dx,-dy), float4x4(0.059803444892168,0.106626614928246,-0.051877081394196,-0.020983995869756,-0.098851069808006,-0.087388999760151,0.151748567819595,0.110828578472137,0.023866463452578,0.143628641963005,-0.332582473754883,-0.285643070936203,-0.045821581035852,0.029115846380591,0.014383494853973,0.077385351061821));
res += mul(Get(s1,dx,0), float4x4(0.096414782106876,0.046610161662102,-0.107357695698738,-0.076515227556229,0.055899366736412,0.024657648056746,0.143404632806778,0.105835229158401,-0.094396859407425,-0.135689407587051,-0.084907948970795,-0.118827395141125,0.070722192525864,0.088583670556545,0.026643237099051,0.195511057972908));
res += mul(Get(s1,dx,dy), float4x4(-0.175630360841751,-0.277190208435059,0.313287049531937,-0.111004151403904,0.125411823391914,-0.033451374620199,0.025907913222909,-0.164364784955978,-0.122604958713055,-0.232943400740623,-0.003833835944533,0.052520595490932,0.045813437551260,0.085152298212051,0.051408316940069,-0.008098772726953));
res += mul(Get(s2,-dx,-dy), float4x4(-0.276372492313385,0.122497767210007,-0.016707945615053,0.058446124196053,0.094155229628086,0.149063125252724,-0.188712880015373,-0.021954061463475,0.066458858549595,-0.171407163143158,0.029013264924288,-0.074468262493610,-0.107006072998047,0.114010892808437,-0.050244312733412,0.189195275306702));
res += mul(Get(s2,-dx,0), float4x4(0.205031514167786,-0.029372513294220,-0.015836950391531,-0.072468496859074,0.030342666432261,-0.014778504148126,0.099584229290485,0.074718423187733,-0.002217093482614,-0.099900357425213,-0.196666404604912,-0.103735864162445,0.152908265590668,0.091674380004406,0.040620986372232,-0.197838395833969));
res += mul(Get(s2,-dx,dy), float4x4(0.074024550616741,-0.059739150106907,-0.144597500562668,-0.024558709934354,-0.130330801010132,0.027183897793293,-0.123772501945496,0.054733153432608,-0.091176837682724,0.128724798560143,0.126075685024261,0.001578248804435,0.230986118316650,-0.155178472399712,-0.066030204296112,-0.145781949162483));
res += mul(Get(s2,0,-dy), float4x4(-0.271131843328476,0.022499589249492,-0.068271063268185,0.058920398354530,0.085282899439335,0.259900569915771,0.011149083264172,0.103886596858501,-0.031891364604235,-0.055377110838890,-0.123527079820633,0.018197374418378,0.152144283056259,-0.134147807955742,-0.104231141507626,0.191735267639160));
res += mul(Get(s2,0,0), float4x4(-0.086336590349674,0.017961349338293,0.080228470265865,0.056255314499140,-0.129583343863487,0.107359334826469,-0.239064306020737,-0.128353059291840,0.038439296185970,0.013068472966552,0.129777774214745,0.102037645876408,-0.077667377889156,0.061565477401018,-0.210868895053864,0.160778462886810));
res += mul(Get(s2,0,dy), float4x4(-0.164832994341850,0.152224391698837,-0.040387984365225,0.107376299798489,-0.150361835956573,-0.052085187286139,0.178423002362251,-0.067167796194553,0.038368452340364,0.075408913195133,-0.191678881645203,0.050293643027544,-0.028017666190863,-0.112723931670189,-0.065915718674660,-0.024581363424659));
res += mul(Get(s2,dx,-dy), float4x4(-0.249236524105072,-0.095527552068233,-0.027628872543573,-0.058602027595043,0.052907280623913,0.184733554720879,-0.105952300131321,-0.127061426639557,0.118273459374905,-0.128739669919014,0.050045691430569,0.051443483680487,0.109462842345238,-0.138865008950233,-0.174275472760201,-0.003129046410322));
res += mul(Get(s2,dx,0), float4x4(-0.056160468608141,-0.061931431293488,-0.120490841567516,-0.122283510863781,0.179451018571854,-0.041913297027349,-0.013702769763768,0.151546791195869,-0.146116435527802,0.027928503230214,-0.089231222867966,-0.003965953830630,-0.119649417698383,0.142850011587143,-0.102251015603542,0.204720661044121));
res += mul(Get(s2,dx,dy), float4x4(0.072756655514240,0.263207256793976,-0.068491302430630,-0.101397044956684,-0.119044929742813,-0.075672283768654,0.137878209352493,0.009436829015613,0.339254230260849,0.065483376383781,0.164013519883156,-0.062007296830416,-0.051767360419035,-0.195782661437988,-0.110143899917603,0.183781310915947));
res += mul(Get(s3,-dx,-dy), float4x4(-0.031409509480000,-0.086220860481262,-0.018434025347233,-0.187474772334099,0.156424790620804,-0.103352330625057,-0.094844438135624,-0.184800371527672,0.022879973053932,-0.042688280344009,0.033098023384809,-0.039781801402569,0.077359937131405,0.005278987810016,-0.021102953702211,0.028170257806778));
res += mul(Get(s3,-dx,0), float4x4(-0.116877466440201,-0.005206157453358,-0.105486907064915,-0.110569365322590,-0.022037604823709,0.058257203549147,0.033690601587296,0.022901836782694,-0.128999814391136,0.054450951516628,0.124394439160824,0.052845880389214,0.049534987658262,-0.045504961162806,0.115057624876499,0.014999195933342));
res += mul(Get(s3,-dx,dy), float4x4(0.053845692425966,-0.099689602851868,-0.048879235982895,-0.121978819370270,-0.050683271139860,-0.043023385107517,-0.000976355338935,-0.050329353660345,-0.060138754546642,0.067465990781784,-0.173787489533424,0.045992974191904,-0.023210506886244,-0.053994461894035,0.066099651157856,0.010429928079247));
res += mul(Get(s3,0,-dy), float4x4(-0.067021712660789,0.161800295114517,0.197224453091621,-0.162984505295753,-0.244030028581619,-0.106774471700191,0.024788545444608,0.092239327728748,0.031675823032856,-0.039654415100813,0.119767725467682,-0.032280601561069,-0.087630651891232,0.038454558700323,-0.006485618185252,0.068837411701679));
res += mul(Get(s3,0,0), float4x4(-0.136975914239883,-0.165727138519287,-0.013841257430613,0.282703757286072,0.034379892051220,-0.067588418722153,0.128308221697807,-0.022326268255711,0.081283450126648,-0.206292256712914,-0.049344353377819,-0.023364234715700,-0.037499196827412,-0.012301183305681,0.072457000613213,0.220712080597878));
res += mul(Get(s3,0,dy), float4x4(0.034000642597675,0.096428945660591,-0.048113316297531,0.100371204316616,0.117825992405415,0.001748352311552,0.087493240833282,0.085554547607899,-0.271881699562073,-0.082896582782269,-0.241021513938904,0.038115300238132,0.090153045952320,-0.068397603929043,0.019728248938918,0.028532864525914));
res += mul(Get(s3,dx,-dy), float4x4(-0.105908401310444,-0.175819829106331,-0.030208351090550,0.080218665301800,0.047645986080170,0.155962333083153,0.037618372589350,-0.070478118956089,0.044088739901781,0.193481072783470,0.004539372399449,0.092141218483448,0.120280034840107,-0.131264448165894,0.067847840487957,-0.171693071722984));
res += mul(Get(s3,dx,0), float4x4(-0.004392313770950,0.054735433310270,-0.069628141820431,0.132545843720436,0.110147580504417,-0.018140308558941,0.182605206966400,0.009052605368197,-0.129886135458946,0.116560600697994,-0.134703755378723,-0.030114784836769,-0.051317822188139,0.154809668660164,-0.259989053010941,0.187224075198174));
res += mul(Get(s3,dx,dy), float4x4(-0.027819374576211,0.073965504765511,-0.041109152138233,-0.133430629968643,0.036468114703894,0.019241657108068,-0.053984422236681,-0.018066342920065,0.007249834015965,-0.122844539582729,0.073294296860695,0.164531946182251,0.043363660573959,-0.172125190496445,0.141093701124191,0.144485414028168));
return max(float4(0,0,0,0), res);
}
