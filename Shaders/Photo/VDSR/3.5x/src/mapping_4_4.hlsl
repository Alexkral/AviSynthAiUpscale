sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.019291030243039,0.009478868916631,0.084934972226620,0.014771311543882,0.014088707044721,-0.051227364689112,-0.037580065429211,0.149052813649178,0.080806292593479,0.018351554870605,0.082604900002480,-0.041881572455168,-0.000885537359864,-0.154192924499512,-0.141388759016991,0.016454938799143));
res += mul(Get(s0,-dx,0), float4x4(-0.023800630122423,-0.074606060981750,-0.002403401071206,0.112264059484005,-0.023804901167750,-0.206863015890121,-0.030603466555476,0.074970930814743,-0.014985871501267,0.017167676240206,0.126024603843689,-0.036948282271624,0.086991563439369,-0.087797060608864,-0.023368703201413,-0.044659871608019));
res += mul(Get(s0,-dx,dy), float4x4(-0.022031258791685,0.162331461906433,-0.042492341250181,-0.036102123558521,-0.090061441063881,-0.143965587019920,0.004511216189712,0.455837517976761,-0.073034614324570,0.093452714383602,0.067997865378857,0.004261027555913,-0.051907736808062,0.099307775497437,-0.070635654032230,-0.073811210691929));
res += mul(Get(s0,0,-dy), float4x4(0.035752255469561,0.187496125698090,0.070062056183815,-0.129655972123146,0.077386163175106,0.045819390565157,0.076281227171421,-0.005226158536971,0.097247950732708,0.002922538667917,-0.170038908720016,-0.109684512019157,0.071231596171856,-0.063628219068050,-0.055329941213131,0.046449787914753));
res += mul(Get(s0,0,0), float4x4(0.015424598008394,0.132738217711449,-0.013762404210865,-0.092943407595158,0.001343602081761,-0.095099844038486,0.040777150541544,-0.110065653920174,-0.020511768758297,-0.004541481379420,-0.081966817378998,-0.086048766970634,0.001844654791057,-0.109487943351269,-0.033977992832661,0.038689501583576));
res += mul(Get(s0,0,dy), float4x4(-0.002383738756180,0.124755419790745,0.010599844157696,-0.039817634969950,-0.062232542783022,-0.187973275780678,-0.071871615946293,0.213134899735451,-0.057869318872690,-0.075649462640285,0.007018687203526,0.031944222748280,0.038059439510107,0.032449442893267,-0.101842671632767,-0.175267606973648));
res += mul(Get(s0,dx,-dy), float4x4(0.068425409495831,-0.008815148845315,-0.008948072791100,-0.059874042868614,-0.024963611736894,0.159134954214096,0.028912726789713,0.121014766395092,0.082738012075424,-0.019300291314721,-0.079554304480553,-0.015677055343986,0.015829395502806,-0.009998933412135,0.063822075724602,-0.006980654317886));
res += mul(Get(s0,dx,0), float4x4(0.024318682029843,0.125724822282791,-0.070987410843372,-0.093516968190670,-0.065287388861179,-0.054375033825636,0.073133625090122,0.085052490234375,-0.001826900057495,0.007785529363900,-0.087738618254662,-0.030210582539439,0.288001120090485,-0.108135730028152,-0.021941889077425,0.040657721459866));
res += mul(Get(s0,dx,dy), float4x4(0.113276802003384,0.015271303243935,-0.023174494504929,0.102400757372379,-0.092419743537903,-0.136422187089920,0.044428534805775,0.212366268038750,0.019033383578062,-0.065892703831196,0.013008614070714,0.111033782362938,0.236755609512329,0.102903403341770,-0.089466534554958,0.028590774163604));
res += mul(Get(s1,-dx,-dy), float4x4(-0.067962087690830,0.125453636050224,-0.006206939462572,-0.034524645656347,0.144890189170837,-0.130354210734367,-0.028448604047298,0.076001353561878,-0.021740742027760,-0.056940514594316,0.159623190760612,-0.015860987827182,-0.078116320073605,-0.102541700005531,0.076533980667591,0.048307098448277));
res += mul(Get(s1,-dx,0), float4x4(-0.048922386020422,0.231313243508339,-0.041456751525402,-0.119840353727341,0.052508346736431,-0.144202679395676,0.040707662701607,-0.065262958407402,-0.032223578542471,-0.095440849661827,0.082871735095978,-0.046756338328123,-0.053191751241684,0.098467096686363,-0.018108014017344,0.082468852400780));
res += mul(Get(s1,-dx,dy), float4x4(-0.023845264688134,-0.146773874759674,-0.154810816049576,-0.044181417673826,0.007224400062114,-0.149882897734642,0.102811425924301,0.097457826137543,0.060846835374832,-0.059745844453573,0.033787097781897,0.039862215518951,-0.012390472926199,0.049471382051706,0.020838474854827,0.073436029255390));
res += mul(Get(s1,0,-dy), float4x4(-0.012595009058714,0.127221420407295,-0.151380375027657,0.011461536400020,-0.033324200659990,-0.036294851452112,0.145245447754860,0.055273376405239,-0.030638271942735,0.106637820601463,0.112943679094315,-0.080351889133453,-0.054509062319994,-0.057673465460539,-0.021843938156962,-0.047677390277386));
res += mul(Get(s1,0,0), float4x4(-0.076789759099483,0.211132764816284,0.002919946098700,-0.053476400673389,-0.163200944662094,-0.212779805064201,0.096139252185822,0.312892138957977,-0.019337408244610,0.058412149548531,-0.042571146041155,-0.009699258953333,-0.041100058704615,-0.010331653989851,-0.109546087682247,0.001505597727373));
res += mul(Get(s1,0,dy), float4x4(-0.057254899293184,0.193158417940140,-0.056621875613928,-0.066415853798389,0.099873095750809,-0.080228194594383,-0.077194467186928,-0.153042823076248,0.052272960543633,0.143534108996391,0.009626384824514,0.139877617359161,-0.003704164177179,-0.022419005632401,0.030323099344969,0.176446929574013));
res += mul(Get(s1,dx,-dy), float4x4(0.105777136981487,0.047862201929092,-0.036341998726130,0.108274973928928,-0.117348402738571,0.036100920289755,0.062412358820438,0.005960791837424,-0.039232105016708,0.111727043986320,0.024068454280496,-0.107317924499512,-0.036062609404325,-0.101462692022324,0.130015522241592,-0.088526733219624));
res += mul(Get(s1,dx,0), float4x4(0.025035696104169,0.008034535683692,-0.042805723845959,-0.074270054697990,-0.127690240740776,0.035186253488064,-0.071383804082870,-0.017662266269326,-0.065617084503174,-0.031731154769659,0.077767901122570,-0.059650309383869,-0.089126192033291,0.026115883141756,0.039344098418951,-0.135774150490761));
res += mul(Get(s1,dx,dy), float4x4(-0.133242502808571,0.034226629883051,-0.085491426289082,-0.098085120320320,0.110696293413639,-0.064946815371513,0.166404470801353,-0.056761514395475,0.025380915030837,0.066000118851662,0.141679674386978,0.012083226814866,-0.110766939818859,-0.073515251278877,0.268747240304947,-0.044781390577555));
res += mul(Get(s2,-dx,-dy), float4x4(0.014167001470923,0.024489525705576,-0.005732679739594,-0.234423592686653,0.034754734486341,-0.132643669843674,-0.196458190679550,0.088895462453365,0.026232032105327,0.009571464732289,-0.188480198383331,0.054824970662594,-0.038868196308613,-0.067051954567432,-0.026258509606123,-0.017071142792702));
res += mul(Get(s2,-dx,0), float4x4(-0.186281502246857,0.153854787349701,-0.042455039918423,0.092802166938782,0.021822839975357,-0.135524556040764,-0.001761321211234,0.119713418185711,-0.060351029038429,0.060521647334099,-0.246144250035286,-0.071535319089890,-0.040147133171558,-0.016468154266477,-0.057975515723228,-0.142901360988617));
res += mul(Get(s2,-dx,dy), float4x4(-0.023834634572268,-0.025086278095841,-0.096688374876976,0.109310433268547,-0.058107580989599,0.057879656553268,-0.042275179177523,0.032109893858433,-0.057032644748688,0.078011997044086,0.097546838223934,0.010382922366261,-0.000118884308904,0.050467055290937,-0.087380848824978,-0.150980904698372));
res += mul(Get(s2,0,-dy), float4x4(-0.037349686026573,-0.026446128264070,-0.026399107649922,-0.069040760397911,-0.014068107120693,-0.111399762332439,-0.122591279447079,0.041658654808998,0.198090180754662,-0.073300510644913,-0.045951291918755,-0.028473133221269,0.151239246129990,-0.040946148335934,0.015453043393791,0.060782283544540));
res += mul(Get(s2,0,0), float4x4(-0.111932113766670,0.063838049769402,0.000920550490264,0.140453994274139,-0.102295972406864,-0.153862297534943,0.009963695891201,-0.037893451750278,-0.019756406545639,-0.074766419827938,-0.029457846656442,-0.112344138324261,0.018003258854151,-0.057924516499043,-0.098688445985317,-0.016692901030183));
res += mul(Get(s2,0,dy), float4x4(-0.122637785971165,-0.086916320025921,-0.019812380895019,0.191091910004616,-0.247755169868469,-0.092976339161396,-0.042941428720951,-0.105317041277885,-0.161232337355614,-0.029605828225613,0.350384354591370,-0.084751754999161,-0.011149844154716,0.037224024534225,-0.086700670421124,-0.028310669586062));
res += mul(Get(s2,dx,-dy), float4x4(-0.000864578643814,0.041967555880547,0.024892104789615,-0.090957075357437,-0.080482773482800,-0.079932391643524,0.077620580792427,0.140443012118340,0.179125636816025,-0.012968054972589,0.106622822582722,0.090674668550491,0.135027110576630,-0.086808577179909,-0.003363069845363,0.090818203985691));
res += mul(Get(s2,dx,0), float4x4(0.173699796199799,0.008375972509384,0.031926386058331,-0.073796346783638,-0.109501965343952,-0.100756309926510,0.060198020190001,-0.139131993055344,-0.002028704155236,-0.048385165631771,-0.267545372247696,-0.090867914259434,-0.010374845005572,-0.061196669936180,-0.110652521252632,0.025917386636138));
res += mul(Get(s2,dx,dy), float4x4(-0.156199544668198,-0.141579747200012,0.009685775265098,0.132514804601669,0.062065705657005,-0.060254897922277,0.118890501558781,0.056374635547400,-0.122625537216663,-0.094852328300476,-0.142244040966034,-0.034041441977024,-0.021237999200821,-0.062031656503677,-0.171852856874466,0.006106930784881));
res += mul(Get(s3,-dx,-dy), float4x4(-0.042391784489155,-0.039377562701702,0.028212035074830,-0.050032243132591,0.113138884305954,-0.084426239132881,-0.019188882783055,0.235398098826408,-0.160025432705879,-0.077552527189255,0.069936551153660,0.046471569687128,-0.204637527465820,-0.005175472237170,0.016177024692297,-0.122495718300343));
res += mul(Get(s3,-dx,0), float4x4(0.058089762926102,-0.028870284557343,0.167890444397926,-0.004149222280830,0.256212025880814,-0.105303049087524,-0.110952690243721,0.026741186156869,-0.131790980696678,0.005537346005440,-0.053944215178490,-0.029142621904612,-0.115001887083054,0.160772085189819,-0.048398990184069,0.085617683827877));
res += mul(Get(s3,-dx,dy), float4x4(-0.071366153657436,-0.025037726387382,0.185900121927261,0.071060761809349,0.137356758117676,-0.092602089047432,-0.116196461021900,0.032975945621729,-0.003583935787901,0.057808294892311,-0.050140801817179,-0.037112995982170,-0.126174107193947,-0.129638046026230,-0.170581415295601,-0.017038526013494));
res += mul(Get(s3,0,-dy), float4x4(-0.120553396642208,-0.054322768002748,-0.044928837567568,-0.036405421793461,-0.211912989616394,0.035922553390265,-0.156323388218880,0.034898765385151,-0.006210195366293,0.205541476607323,-0.123960644006729,-0.005644275806844,-0.043666683137417,-0.009395856410265,-0.030320614576340,-0.066591799259186));
res += mul(Get(s3,0,0), float4x4(0.100499533116817,-0.021238289773464,0.025668682530522,-0.019512008875608,-0.283795446157455,-0.089042074978352,-0.180929407477379,0.022375799715519,0.020013179630041,-0.157000824809074,-0.073709584772587,0.010704625397921,-0.058757588267326,0.075768612325191,0.140497744083405,-0.036260508000851));
res += mul(Get(s3,0,dy), float4x4(-0.101139463484287,-0.032798141241074,0.082031898200512,-0.008781903423369,0.102881714701653,-0.042249746620655,-0.036127284169197,-0.212370365858078,0.043482147157192,-0.144533500075340,-0.078708603978157,-0.029549399390817,0.012222790159285,0.123566836118698,-0.024947786703706,-0.107865884900093));
res += mul(Get(s3,dx,-dy), float4x4(-0.107646115124226,-0.055049404501915,0.122294142842293,0.082589097321033,-0.157275557518005,0.250521510839462,0.075546696782112,0.014972034841776,0.017708847299218,-0.008785855956376,-0.070904210209846,0.086345903575420,0.264990210533142,-0.015560104511678,-0.020448869094253,-0.099690020084381));
res += mul(Get(s3,dx,0), float4x4(0.200278297066689,-0.086047098040581,0.091939106583595,0.067983202636242,-0.036005456000566,-0.037339866161346,0.100116774439812,0.132324725389481,0.091075941920280,0.106455348432064,0.033455479890108,-0.087326861917973,-0.002954739145935,-0.025294855237007,0.105820670723915,-0.091050937771797));
res += mul(Get(s3,dx,dy), float4x4(0.033004142343998,0.004881270695478,0.142297133803368,-0.013726561330259,0.149974927306175,-0.055259477347136,0.133706301450729,0.287917107343674,0.022523151710629,0.126367837190628,0.062941148877144,-0.082901373505592,-0.029672954231501,-0.085502482950687,0.179665282368660,-0.065652526915073));
return max(float4(0,0,0,0), res);
}
