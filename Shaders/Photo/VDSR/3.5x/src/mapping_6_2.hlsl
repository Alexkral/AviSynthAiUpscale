sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.111111715435982,-0.206020832061768,-0.045718956738710,-0.165703177452087,-0.038942143321037,-0.069919958710670,0.014751994982362,0.070476442575455,-0.155275374650955,0.062988303601742,0.024748753756285,0.001747863017954,0.122181370854378,0.055976063013077,-0.037231314927340,-0.068467438220978));
res += mul(Get(s0,-dx,0), float4x4(-0.164189696311951,0.029342660680413,-0.048781529068947,0.074623793363571,0.138571470975876,-0.004327344708145,0.117035083472729,0.107667602598667,0.008629101328552,-0.095715537667274,-0.189771980047226,0.178539380431175,-0.172405526041985,0.022909391671419,0.148843094706535,0.176440939307213));
res += mul(Get(s0,-dx,dy), float4x4(0.069798462092876,0.048781659454107,-0.056066453456879,-0.032262045890093,0.054073881357908,-0.216803774237633,-0.145077064633369,0.083282411098480,-0.122076459228992,0.128173917531967,-0.050817519426346,-0.210639417171478,-0.248722136020660,-0.095235377550125,-0.110089063644409,-0.147634282708168));
res += mul(Get(s0,0,-dy), float4x4(0.096029311418533,0.028482848778367,-0.080458171665668,-0.034936480224133,-0.206506296992302,0.117639183998108,0.042869739234447,0.143611654639244,-0.115575820207596,-0.116053469479084,-0.169960767030716,0.036748241633177,0.121145017445087,0.119651213288307,-0.066962577402592,0.171828582882881));
res += mul(Get(s0,0,0), float4x4(-0.091314032673836,0.055317651480436,-0.287405401468277,0.037307113409042,-0.157196089625359,0.099234789609909,-0.153294369578362,-0.050565510988235,0.109510153532028,0.109288081526756,-0.091333381831646,0.033112008124590,-0.041517913341522,-0.075119547545910,0.100174114108086,-0.050309438258410));
res += mul(Get(s0,0,dy), float4x4(-0.292243450880051,0.020931286737323,0.007144946604967,0.119307197630405,-0.047730270773172,-0.076581083238125,-0.000085931271315,0.040265887975693,0.178991988301277,-0.048115234822035,0.138419702649117,0.049963269382715,0.010445242747664,0.039648607373238,0.067584626376629,-0.140356793999672));
res += mul(Get(s0,dx,-dy), float4x4(-0.068767718970776,0.017551943659782,-0.050011489540339,0.184314057230949,-0.120098590850830,0.034261174499989,-0.015082580968738,0.008672363124788,0.114835947751999,0.073751889169216,0.024346306920052,-0.053190033882856,0.015911536291242,-0.020515171810985,-0.179249599575996,0.146633997559547));
res += mul(Get(s0,dx,0), float4x4(-0.264857500791550,-0.100663036108017,-0.188893467187881,0.044501941651106,0.142154276371002,0.046434275805950,0.055512364953756,0.084204263985157,0.105233937501907,-0.015870351344347,-0.166843399405479,-0.087735265493393,0.075082272291183,0.256288498640060,-0.062777303159237,0.032641928642988));
res += mul(Get(s0,dx,dy), float4x4(0.029330797493458,0.036099918186665,0.138277336955070,-0.119696013629436,-0.014686964452267,-0.102348737418652,-0.002391959773377,0.003386692842469,-0.060197055339813,0.031301017850637,-0.046621218323708,-0.023917378857732,0.041642606258392,-0.073949895799160,0.172793135046959,-0.063973426818848));
res += mul(Get(s1,-dx,-dy), float4x4(0.045312602072954,0.172634094953537,-0.045857265591621,0.144255161285400,0.106664150953293,0.028204012662172,0.053094908595085,0.005531856790185,0.001324949087575,-0.127713307738304,-0.242335468530655,0.011707038618624,-0.064305588603020,0.016147697344422,0.008154311217368,-0.021435098722577));
res += mul(Get(s1,-dx,0), float4x4(-0.090821214020252,0.196116611361504,-0.062960475683212,-0.025949662551284,-0.165141060948372,-0.015978042036295,0.147770568728447,0.080449029803276,-0.214610084891319,0.118925675749779,-0.133942171931267,0.046781636774540,-0.109125614166260,0.028311168774962,0.015921829268336,0.106709577143192));
res += mul(Get(s1,-dx,dy), float4x4(0.148540675640106,0.082509450614452,0.094404086470604,-0.251230716705322,0.091959722340107,-0.000074130599387,-0.136987447738647,0.003791411872953,-0.027899160981178,0.039345148950815,0.045163169503212,-0.021642342209816,-0.112533941864967,-0.287046015262604,-0.038385141640902,0.188463300466537));
res += mul(Get(s1,0,-dy), float4x4(0.018291650339961,0.076067313551903,-0.094317652285099,0.034215312451124,0.007637720089406,-0.013795780949295,-0.089462384581566,0.019079333171248,-0.157293453812599,0.095464929938316,-0.076011300086975,-0.043284095823765,0.014176423661411,0.011234541423619,-0.073287479579449,0.115213885903358));
res += mul(Get(s1,0,0), float4x4(0.004465160425752,-0.132993936538696,0.095752790570259,-0.005032205022871,0.025684293359518,0.003851689863950,0.113791845738888,-0.014480328187346,0.050950329750776,0.022315960377455,0.076560653746128,0.042147222906351,-0.031692128628492,0.055818300694227,-0.106907457113266,-0.008668653666973));
res += mul(Get(s1,0,dy), float4x4(-0.211259439587593,-0.114154934883118,0.145468100905418,-0.063108474016190,0.068964906036854,-0.148564040660858,-0.012933908030391,-0.030683349817991,0.144153326749802,-0.038034278899431,-0.125603437423706,0.203147515654564,0.021438146010041,-0.149029612541199,-0.011219884268939,0.070177868008614));
res += mul(Get(s1,dx,-dy), float4x4(-0.062861733138561,0.067378990352154,-0.112926878035069,0.027606872841716,0.047636177390814,-0.136765033006668,-0.085990898311138,0.289138406515121,0.041262630373240,-0.013404986821115,-0.107107013463974,-0.043024603277445,0.099084824323654,0.036720201373100,-0.082884274423122,-0.153088733553886));
res += mul(Get(s1,dx,0), float4x4(0.030603190883994,0.191092222929001,0.116032153367996,0.004688594955951,0.173760682344437,0.050655208528042,-0.091770447790623,0.000941958103795,0.038200218230486,-0.038541775196791,-0.074427239596844,0.163918316364288,0.072611220180988,0.002155962167308,-0.047074206173420,0.043051913380623));
res += mul(Get(s1,dx,dy), float4x4(0.063996374607086,-0.031536452472210,0.072448939085007,-0.184469789266586,0.063684351742268,0.046695318073034,-0.061432722955942,-0.198746025562286,-0.016802966594696,-0.010935796424747,0.123517408967018,0.106579311192036,-0.111711107194424,-0.048680972307920,0.006318065337837,0.023810958489776));
res += mul(Get(s2,-dx,-dy), float4x4(0.113103196024895,-0.082429803907871,0.051708653569221,0.127036660909653,-0.014824889600277,-0.122262462973595,0.022639842703938,-0.053599141538143,0.076222568750381,-0.069240994751453,0.012265973724425,-0.084298618137836,-0.077854551374912,-0.034596286714077,-0.062559612095356,-0.050289109349251));
res += mul(Get(s2,-dx,0), float4x4(0.164056941866875,0.073245890438557,0.030940562486649,0.190246522426605,-0.036524858325720,0.085103854537010,0.016839034855366,-0.120763994753361,-0.125724866986275,-0.054932150989771,-0.028484806418419,-0.179569438099861,-0.206046432256699,0.002582983579487,0.118575841188431,-0.059568271040916));
res += mul(Get(s2,-dx,dy), float4x4(-0.198170006275177,-0.243946686387062,-0.077177062630653,0.081105604767799,-0.135018289089203,-0.098971679806709,-0.067820414900780,0.027852827683091,-0.050637125968933,-0.021075742319226,0.047095980495214,0.119775988161564,0.042261391878128,-0.063630983233452,-0.227399110794067,-0.007573171053082));
res += mul(Get(s2,0,-dy), float4x4(0.041839089244604,0.016431672498584,0.047513518482447,0.097815975546837,-0.082130469381809,-0.127193763852119,0.025927253067493,0.058755990117788,0.064057700335979,-0.041458908468485,-0.008852002210915,0.087059773504734,-0.164368405938148,0.120396122336388,0.100438371300697,0.062868498265743));
res += mul(Get(s2,0,0), float4x4(0.141020134091377,0.028697177767754,-0.151260301470757,-0.158474728465080,0.021493429318070,0.035179276019335,-0.102490387856960,-0.117854505777359,-0.096762388944626,0.135974973440170,-0.172641262412071,-0.029343070462346,0.113207347691059,-0.155984327197075,0.161518573760986,0.106048762798309));
res += mul(Get(s2,0,dy), float4x4(0.122440561652184,-0.243083462119102,0.025047134608030,-0.081090718507767,0.127712547779083,-0.176966175436974,-0.306602150201797,-0.063016124069691,-0.032340236008167,0.051182910799980,0.145900860428810,0.140116259455681,0.111140049993992,0.056326150894165,-0.029313407838345,0.021881327033043));
res += mul(Get(s2,dx,-dy), float4x4(-0.033610813319683,-0.069276832044125,-0.076110988855362,0.068461842834949,-0.154324367642403,-0.062290966510773,0.058065470308065,-0.107540987432003,0.012645150534809,0.015420636162162,-0.074478298425674,-0.226484104990959,-0.170123919844627,0.027487557381392,0.194872707128525,-0.006690064910799));
res += mul(Get(s2,dx,0), float4x4(-0.167597010731697,-0.046100754290819,-0.036424238234758,0.147966027259827,0.059577874839306,-0.166938781738281,0.073645062744617,-0.030510054901242,-0.038577225059271,0.068247400224209,0.224538192152977,0.013980469666421,-0.017317490652204,0.038676861673594,0.053580883890390,-0.029656974598765));
res += mul(Get(s2,dx,dy), float4x4(-0.097324743866920,-0.041740354150534,-0.090893261134624,0.295315146446228,-0.043053489178419,0.039706986397505,0.053220659494400,-0.241609081625938,-0.009749210439622,0.054763864725828,-0.036371085792780,-0.050377052277327,0.189134687185287,-0.143623575568199,0.054582796990871,-0.027557922527194));
res += mul(Get(s3,-dx,-dy), float4x4(0.236312285065651,0.162295028567314,0.016159782186151,0.099262714385986,0.172422379255295,-0.019058587029576,0.069874405860901,0.008157652802765,0.124622166156769,-0.077598266303539,0.067792214453220,0.066387057304382,-0.147528544068336,-0.011462180875242,-0.053356282413006,-0.166170120239258));
res += mul(Get(s3,-dx,0), float4x4(-0.021030418574810,-0.038172222673893,-0.167666926980019,0.058111708611250,-0.121003448963165,0.061007041484118,-0.042629320174456,0.076660417020321,0.097302548587322,-0.146038711071014,0.121514268219471,-0.088977694511414,-0.162319064140320,0.056591816246510,-0.043484594672918,0.206877946853638));
res += mul(Get(s3,-dx,dy), float4x4(0.010609446093440,0.011991747654974,0.042025584727526,0.057441465556622,-0.099146962165833,-0.032971668988466,-0.039490845054388,-0.082361795008183,-0.057156968861818,0.000492117076647,0.253911525011063,0.040566563606262,-0.068115085363388,-0.005867299623787,0.016729481518269,-0.010968235321343));
res += mul(Get(s3,0,-dy), float4x4(-0.103788733482361,0.028840247541666,0.051219731569290,0.201007992029190,0.078595384955406,0.041720744222403,0.017587948590517,0.028873622417450,-0.041847620159388,-0.027871100232005,0.159211069345474,-0.068752504885197,0.028281681239605,-0.157859578728676,0.028535906225443,0.041430719196796));
res += mul(Get(s3,0,0), float4x4(0.089824460446835,-0.110583230853081,-0.010787372477353,0.049177814275026,0.060753073543310,0.031188163906336,-0.073038190603256,0.061946094036102,-0.121301405131817,-0.123677395284176,0.138489127159119,-0.032283965498209,0.007977583445609,-0.067091867327690,0.014083349145949,0.025643093511462));
res += mul(Get(s3,0,dy), float4x4(0.225708946585655,-0.071862533688545,0.012078991159797,-0.007629686966538,-0.143601104617119,-0.061397235840559,-0.044566873461008,-0.124131686985493,-0.004425187595189,0.050489675253630,0.083412334322929,0.176715463399887,-0.144030690193176,0.122056238353252,-0.095455005764961,-0.041758883744478));
res += mul(Get(s3,dx,-dy), float4x4(-0.128666818141937,0.052758004516363,-0.031729031354189,0.045033596456051,-0.154350861907005,-0.219859614968300,0.122008018195629,-0.044609069824219,0.008311391808093,-0.092325098812580,-0.008609581738710,0.083398081362247,0.239249140024185,-0.026660421863198,0.108914785087109,0.251163750886917));
res += mul(Get(s3,dx,0), float4x4(0.077211357653141,0.121708780527115,0.198609605431557,-0.093024440109730,0.045463662594557,-0.035855736583471,0.023562394082546,0.178221717476845,0.001492206822149,0.323878824710846,0.214903950691223,-0.034104492515326,0.107095591723919,-0.043746933341026,0.032905936241150,0.169824436306953));
res += mul(Get(s3,dx,dy), float4x4(0.097164824604988,0.035879638046026,-0.077865719795227,0.055582329630852,-0.185111865401268,-0.196489021182060,0.122870162129402,0.105089709162712,-0.267161428928375,-0.143612936139107,0.120989754796028,0.117137432098389,0.000032843650843,-0.027421880513430,-0.151392847299576,-0.311538994312286));
return max(float4(0,0,0,0), res);
}
