sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.064678199589252,0.039802365005016,-0.148145526647568,0.030987599864602,-0.058386422693729,-0.044698495417833,0.053183019161224,-0.010690059512854,-0.135742247104645,0.065025761723518,0.114756330847740,-0.002392696682364,0.056646544486284,-0.039944376796484,0.069699741899967,-0.091867454349995));
res += mul(Get(s0,-dx,0), float4x4(0.100889421999454,-0.001619749120437,-0.210054829716682,0.038432005792856,0.046837445348501,-0.088058054447174,0.126533478498459,0.042895574122667,0.037810638546944,-0.006066872738302,-0.052792467176914,-0.062621474266052,0.068693771958351,0.060863826423883,0.084917120635509,-0.026383543387055));
res += mul(Get(s0,-dx,dy), float4x4(0.036810405552387,-0.006796313915402,-0.236923873424530,-0.050735089927912,0.074975684285164,-0.024386456236243,0.044486463069916,0.130428940057755,-0.117247216403484,0.197071105241776,-0.086933650076389,-0.104634188115597,0.194927319884300,0.055268116295338,-0.021884739398956,-0.073060467839241));
res += mul(Get(s0,0,-dy), float4x4(0.068032637238503,-0.017632570117712,0.027705255895853,-0.025452522560954,-0.168705612421036,-0.063743092119694,0.087236896157265,-0.012846673838794,-0.106849417090416,-0.079185590147972,-0.036836408078671,-0.135795816779137,0.008790167048573,-0.026954531669617,0.211608052253723,-0.032868184149265));
res += mul(Get(s0,0,0), float4x4(-0.013298260048032,0.113190226256847,-0.050847984850407,-0.035910651087761,0.126745328307152,-0.043562345206738,0.006046523340046,-0.098570756614208,0.046912666410208,0.022069709375501,0.000581067637540,-0.051693540066481,-0.097865618765354,0.104692086577415,-0.115566663444042,0.041522275656462));
res += mul(Get(s0,0,dy), float4x4(-0.050290588289499,0.108163513243198,0.052978981286287,0.041331894695759,0.136700406670570,0.110774867236614,-0.074643015861511,0.010248448699713,-0.011802463792264,0.089634396135807,-0.036381155252457,-0.025386307388544,0.065669469535351,0.084325306117535,0.004814717452973,-0.040076982229948));
res += mul(Get(s0,dx,-dy), float4x4(-0.065660178661346,-0.005926701705903,-0.039889674633741,-0.009374641813338,-0.202297583222389,-0.134875342249870,0.111260823905468,0.090742126107216,-0.116836279630661,-0.124014884233475,0.015419721603394,0.015568364411592,-0.066028848290443,-0.113209210336208,-0.147397935390472,0.038222618401051));
res += mul(Get(s0,dx,0), float4x4(-0.001947801909409,0.105748817324638,0.069632872939110,0.052045062184334,0.076784931123257,-0.087516367435455,-0.122937433421612,-0.008570261299610,0.030009765177965,-0.089279755949974,0.086944833397865,0.088393382728100,-0.125644072890282,-0.055766008794308,-0.071307122707367,0.000585102650803));
res += mul(Get(s0,dx,dy), float4x4(0.038686860352755,0.178191572427750,0.012379047460854,0.121767744421959,-0.019214699044824,-0.076560750603676,-0.149451807141304,-0.062785327434540,-0.129374220967293,0.024198096245527,-0.001971729565412,0.006088676862419,-0.050780057907104,-0.033170524984598,0.041009254753590,-0.110876291990280));
res += mul(Get(s1,-dx,-dy), float4x4(0.013954681344330,-0.143126010894775,0.030245367437601,0.150860339403152,-0.107086800038815,0.130468711256981,0.006734164431691,-0.032230764627457,-0.087781675159931,0.003510907758027,-0.148429170250893,-0.104274012148380,-0.030274841934443,0.100756786763668,0.408067971467972,-0.143138468265533));
res += mul(Get(s1,-dx,0), float4x4(0.084995880723000,-0.028494294732809,0.098567597568035,-0.001506562926807,-0.067356072366238,0.055305011570454,0.003454281948507,0.067737460136414,-0.057493448257446,-0.025610897690058,-0.028368607163429,-0.079326704144478,0.035304378718138,0.028181217610836,0.015131080523133,0.040995441377163));
res += mul(Get(s1,-dx,dy), float4x4(-0.004798239096999,0.106857225298882,0.132727548480034,0.145828485488892,-0.040258087217808,0.078921295702457,-0.006368212401867,-0.070207349956036,-0.061734169721603,-0.138558864593506,0.156999602913857,-0.143111616373062,0.199779331684113,0.028193496167660,-0.000407046318287,0.242484718561172));
res += mul(Get(s1,0,-dy), float4x4(-0.113488741219044,-0.091936737298965,0.045560561120510,0.086104623973370,-0.075053617358208,0.095890313386917,-0.015287364833057,-0.021049531176686,-0.003388596931472,-0.007652220781893,-0.132055610418320,0.009843970648944,-0.031019052490592,0.141570329666138,0.082879289984703,-0.109133839607239));
res += mul(Get(s1,0,0), float4x4(-0.115903481841087,0.061196882277727,0.115892805159092,0.049682781100273,-0.040143024176359,0.008545240387321,-0.037426993250847,0.049027327448130,0.022997913882136,-0.108856938779354,0.040283743292093,-0.075789533555508,-0.149761423468590,-0.150661095976830,0.061448767781258,-0.045987829566002));
res += mul(Get(s1,0,dy), float4x4(-0.082047089934349,0.036300420761108,0.042919620871544,0.214035511016846,-0.010012536309659,0.078945934772491,-0.028954003006220,0.069967471063137,-0.037543352693319,0.062548443675041,0.137599185109138,-0.181815043091774,0.128397539258003,-0.068976558744907,-0.089310429990292,-0.109249986708164));
res += mul(Get(s1,dx,-dy), float4x4(0.010861164890230,-0.163580149412155,0.073011010885239,-0.048616804182529,-0.055342368781567,0.034837454557419,-0.057592131197453,-0.021181887015700,-0.001812433940358,0.119419872760773,0.098987653851509,0.030785094946623,-0.114571265876293,0.081616453826427,0.091349400579929,0.059893082827330));
res += mul(Get(s1,dx,0), float4x4(0.037893638014793,0.095794402062893,-0.162234112620354,-0.136584922671318,-0.070566564798355,0.045730475336313,-0.077308692038059,0.136205375194550,0.048944644629955,-0.024476738646626,0.085048198699951,-0.041593264788389,-0.107034139335155,-0.072962224483490,0.026402046903968,0.032180201262236));
res += mul(Get(s1,dx,dy), float4x4(0.135866314172745,-0.016333742067218,-0.163110524415970,-0.105372369289398,-0.028167670592666,0.045618824660778,-0.041536994278431,0.157475069165230,-0.070506647229195,0.035194955766201,0.025685200467706,-0.106189377605915,0.038074709475040,-0.053638178855181,-0.009649411775172,-0.041248910129070));
res += mul(Get(s2,-dx,-dy), float4x4(-0.117519155144691,-0.059364352375269,-0.044642552733421,0.035307243466377,-0.108538426458836,-0.087733961641788,-0.171796604990959,0.011050761677325,-0.005178218707442,-0.172308802604675,-0.062232978641987,-0.059319388121367,-0.043203268200159,0.046548914164305,0.150411114096642,-0.009403021074831));
res += mul(Get(s2,-dx,0), float4x4(0.069775938987732,-0.073152244091034,0.057599369436502,0.036679390817881,-0.003250429639593,-0.001522548496723,-0.149044066667557,-0.104835942387581,-0.102794170379639,-0.161150351166725,-0.099411904811859,-0.091450512409210,-0.041332725435495,0.148725897073746,-0.007234867196530,-0.102559298276901));
res += mul(Get(s2,-dx,dy), float4x4(0.005165514536202,0.119880728423595,-0.031523246318102,0.028803465887904,-0.093148775398731,0.100730881094933,-0.029604669660330,-0.008928327821195,0.056998200714588,-0.111782602965832,-0.034972097724676,-0.050635550171137,0.093054652214050,0.120832540094852,-0.140460669994354,0.095444858074188));
res += mul(Get(s2,0,-dy), float4x4(-0.053497344255447,-0.015281295403838,0.244471266865730,0.041514433920383,-0.129061862826347,-0.079101875424385,-0.150760293006897,-0.035134505480528,-0.121089555323124,-0.082792788743973,-0.078888133168221,-0.013821929693222,-0.047277655452490,-0.138241410255432,-0.019584357738495,-0.104450151324272));
res += mul(Get(s2,0,0), float4x4(0.102906271815300,-0.014906691387296,0.061173018068075,0.079890906810760,0.005994851235300,0.126765653491020,-0.094296313822269,0.130491241812706,-0.022027503699064,-0.027508547529578,-0.138616740703583,-0.096517272293568,-0.051274750381708,0.050645899027586,0.181813001632690,-0.079913444817066));
res += mul(Get(s2,0,dy), float4x4(0.077118888497353,0.001710442593321,0.037516470998526,0.047990806400776,-0.072542138397694,0.009048431180418,-0.009182633832097,0.200450539588928,-0.027964701876044,0.091802358627319,-0.051033917814493,-0.048478070646524,-0.049458235502243,0.113369189202785,-0.175617739558220,0.002720277290791));
res += mul(Get(s2,dx,-dy), float4x4(0.099533341825008,-0.107298493385315,-0.108478136360645,-0.044739577919245,-0.134685099124908,-0.152910649776459,0.066158168017864,-0.141689941287041,-0.014980385079980,-0.137365058064461,-0.036041568964720,-0.093482784926891,-0.088120669126511,-0.183924078941345,-0.056851767003536,-0.042224016040564));
res += mul(Get(s2,dx,0), float4x4(-0.005088365636766,-0.052637565881014,-0.123383067548275,-0.034851823002100,0.009970252402127,-0.024003846570849,0.092120766639709,-0.062398854643106,0.104146026074886,0.059233330190182,0.008354168385267,-0.049323625862598,0.084820553660393,-0.034697439521551,0.004184854682535,-0.035281665623188));
res += mul(Get(s2,dx,dy), float4x4(-0.018114650622010,-0.016356987878680,-0.018720371648669,-0.037311181426048,-0.047621805220842,-0.128655195236206,0.074441209435463,0.245605498552322,0.075192868709564,0.187826544046402,0.059865657240152,0.004824515432119,0.191506564617157,0.010504543781281,-0.067511953413486,-0.149444937705994));
res += mul(Get(s3,-dx,-dy), float4x4(-0.083260409533978,0.131788924336433,-0.063437797129154,-0.005905183497816,-0.020093774423003,0.033669598400593,0.011982046999037,0.074771702289581,0.089906036853790,-0.033239942044020,-0.075688131153584,0.013675146736205,-0.138374760746956,0.091249257326126,-0.120780147612095,0.048129532486200));
res += mul(Get(s3,-dx,0), float4x4(-0.051346108317375,-0.096993379294872,-0.118080474436283,-0.066588856279850,-0.062258943915367,-0.034643139690161,0.044977076351643,-0.050456728786230,0.108121640980244,-0.002568789990619,0.016358803957701,-0.138984799385071,-0.035546865314245,-0.058270771056414,-0.030449787154794,-0.176849171519279));
res += mul(Get(s3,-dx,dy), float4x4(-0.014115853235126,-0.090250134468079,-0.016883637756109,-0.104152999818325,-0.018597949296236,-0.051327243447304,-0.091023087501526,-0.010299969464540,0.085443660616875,0.003710844554007,0.041539173573256,0.108619444072247,-0.010191857814789,-0.032486557960510,-0.047082100063562,0.093054287135601));
res += mul(Get(s3,0,-dy), float4x4(-0.038078583776951,0.137292370200157,-0.082732841372490,0.026788132265210,-0.068766705691814,0.014692909084260,0.036911711096764,0.044416308403015,0.035255964845419,-0.051799282431602,0.111235573887825,0.037658944725990,-0.064031995832920,-0.034603130072355,-0.056967251002789,-0.009112630970776));
res += mul(Get(s3,0,0), float4x4(0.022859072312713,-0.136218458414078,-0.012800918892026,-0.039885494858027,-0.047956593334675,-0.085725411772728,0.034880444407463,-0.091879986226559,0.043495673686266,0.002114249393344,0.104977026581764,-0.073237210512161,-0.071000248193741,0.074283309280872,0.069447338581085,-0.125473260879517));
res += mul(Get(s3,0,dy), float4x4(0.067874737083912,-0.126135513186455,-0.104108922183514,-0.089891768991947,-0.109107688069344,-0.057949971407652,0.021482395008206,-0.095671378076077,-0.014814566820860,0.054896716028452,-0.003066035220399,0.057317961007357,-0.063874527812004,-0.042813386768103,-0.039887692779303,0.172877013683319));
res += mul(Get(s3,dx,-dy), float4x4(-0.106368854641914,0.131463170051575,-0.066627599298954,-0.044552076607943,0.030681591480970,0.005815788172185,0.052469149231911,-0.001133893267252,0.172411814332008,-0.070378556847572,0.129062026739120,0.022237949073315,-0.124288827180862,-0.148605450987816,-0.027014918625355,-0.014457628130913));
res += mul(Get(s3,dx,0), float4x4(0.143090441823006,-0.104526080191135,-0.052652761340141,-0.034270398318768,0.168004587292671,-0.012194405309856,0.051680959761143,0.047355443239212,0.239051356911659,-0.021583661437035,0.125985592603683,-0.106117472052574,-0.020302243530750,0.118512660264969,0.052193108946085,-0.080885216593742));
res += mul(Get(s3,dx,dy), float4x4(0.273446828126907,-0.222516193985939,-0.005577816627920,-0.019904676824808,0.002316718222573,0.053666293621063,0.007837407290936,0.140060603618622,0.061161741614342,0.064781911671162,0.026191517710686,0.146279886364937,0.048864588141441,0.058553639799356,-0.042854461818933,0.121678531169891));
return max(float4(0,0,0,0), res);
}
