sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.048043094575405,0.051125645637512,-0.181631520390511,-0.011924044229090,0.027806263417006,-0.136391416192055,-0.124436080455780,0.016956452280283,-0.135091081261635,-0.041727319359779,-0.095136478543282,0.122776024043560,-0.092659071087837,0.100401431322098,0.303432166576385,0.111081063747406));
res += mul(Get(s0,-dx,0), float4x4(-0.070577368140221,-0.002227733144537,0.022780312225223,-0.040030810981989,0.092449620366096,-0.091703385114670,-0.031622391194105,-0.010210066102445,-0.028034348040819,-0.047330718487501,0.104160666465759,-0.079921565949917,-0.091290131211281,-0.098418772220612,0.203224390745163,0.088565535843372));
res += mul(Get(s0,-dx,dy), float4x4(-0.094057381153107,-0.077025957405567,0.163818985223770,-0.087255090475082,0.042564302682877,-0.005319112446159,-0.067898102104664,-0.059167329221964,-0.152592793107033,-0.027747673913836,0.224370136857033,0.109112851321697,-0.063746012747288,-0.030795365571976,0.138892129063606,-0.145233556628227));
res += mul(Get(s0,0,-dy), float4x4(0.092294692993164,0.059519134461880,-0.179620563983917,0.100209712982178,0.005525250919163,0.196236252784729,-0.081429280340672,0.023242130875587,-0.015504244714975,-0.123187601566315,-0.019773820415139,-0.006268159952015,0.006590608507395,0.054894767701626,0.065696440637112,0.019428497180343));
res += mul(Get(s0,0,0), float4x4(-0.041910134255886,0.004791157320142,-0.090336941182613,0.016410160809755,-0.014402354136109,0.134729221463203,0.006728194188327,0.119490660727024,0.096206642687321,-0.000789339304902,-0.136499583721161,0.015565135516226,0.000843414629344,-0.067773818969727,-0.135137498378754,0.251774281263351));
res += mul(Get(s0,0,dy), float4x4(-0.113875553011894,-0.086283467710018,0.080849356949329,0.090358421206474,0.035205677151680,0.161966681480408,0.022170813754201,-0.001344708958641,0.147956192493439,-0.018157351762056,0.017172869294882,0.113672308623791,0.048377692699432,0.017886949703097,-0.114252313971519,-0.065173186361790));
res += mul(Get(s0,dx,-dy), float4x4(-0.036830358207226,-0.118638254702091,0.043861471116543,0.029197322204709,-0.112703800201416,0.065726399421692,0.022105785086751,0.088397607207298,-0.059009179472923,-0.069910347461700,-0.171530470252037,0.068465538322926,0.039636768400669,-0.023680310696363,-0.042986400425434,0.059861872345209));
res += mul(Get(s0,dx,0), float4x4(-0.076946914196014,-0.111528098583221,0.019998049363494,-0.036172598600388,-0.049790356308222,0.070808254182339,-0.012702761217952,-0.135614305734634,0.181014150381088,-0.074947625398636,-0.127390861511230,-0.040923055261374,0.067115508019924,-0.118348859250546,-0.092202387750149,0.034237004816532));
res += mul(Get(s0,dx,dy), float4x4(-0.117938585579395,0.011176768690348,0.137452706694603,-0.034180950373411,-0.044155042618513,0.123832978308201,0.120714522898197,-0.027804819867015,0.080166667699814,-0.013098485767841,-0.019594345241785,-0.111602038145065,-0.094137541949749,-0.116793267428875,-0.066273249685764,-0.004835410974920));
res += mul(Get(s1,-dx,-dy), float4x4(0.102840088307858,-0.031323023140430,-0.012799388729036,-0.271968334913254,0.008818955160677,0.021459726616740,0.165482819080353,0.079331405460835,0.121303223073483,-0.071146719157696,-0.053402211517096,-0.132196515798569,0.019804121926427,-0.057382266968489,-0.006499972660094,-0.139469429850578));
res += mul(Get(s1,-dx,0), float4x4(0.050125986337662,-0.039395265281200,-0.025039408355951,-0.135597884654999,-0.111865051090717,0.041350763291121,0.021541276946664,0.162395939230919,0.138392478227615,-0.086386427283287,-0.002211422659457,-0.016900194808841,-0.093095682561398,-0.025505606085062,-0.063462302088737,-0.066307477653027));
res += mul(Get(s1,-dx,dy), float4x4(-0.011268672533333,-0.064887151122093,-0.032851699739695,-0.000853172386996,-0.061840023845434,0.023797625675797,0.009906412102282,0.022553797811270,0.097358219325542,-0.015813941136003,-0.007591688074172,-0.079666435718536,-0.093562722206116,-0.006203082855791,0.119330428540707,-0.072021864354610));
res += mul(Get(s1,0,-dy), float4x4(0.043634004890919,-0.038906093686819,0.010628744028509,0.037096150219440,0.115885242819786,-0.014515221118927,0.037196177989244,0.029193680733442,0.001040650531650,0.035425744950771,-0.052918553352356,-0.007804123684764,0.064854927361012,-0.051600161939859,0.049375850707293,0.321694850921631));
res += mul(Get(s1,0,0), float4x4(0.112235464155674,-0.029438372701406,0.048561103641987,-0.068263895809650,0.005203495267779,0.053536005318165,0.077985800802708,0.030205396935344,-0.022490810602903,-0.037531442940235,-0.020203595981002,0.011361203156412,0.105382904410362,-0.000417247123551,0.027803761884570,0.156097874045372));
res += mul(Get(s1,0,dy), float4x4(0.058902353048325,-0.110908895730972,-0.069344103336334,0.120095528662205,-0.014046083204448,-0.002463895827532,0.037814144045115,0.017978057265282,-0.014845060184598,0.040662299841642,-0.038088176399469,-0.118015222251415,-0.109001867473125,0.021824073046446,0.162799611687660,-0.004431115929037));
res += mul(Get(s1,dx,-dy), float4x4(0.124687358736992,-0.015269045718014,-0.022094979882240,-0.109607413411140,0.127211317420006,0.064680367708206,0.006269153673202,-0.043764792382717,0.111691534519196,0.138798877596855,0.052090205252171,-0.129971250891685,0.072243824601173,-0.025156322866678,-0.084267631173134,-0.122169040143490));
res += mul(Get(s1,dx,0), float4x4(0.096662081778049,-0.046365808695555,-0.000407561019529,-0.067978441715240,0.013974041678011,0.048207357525826,0.076979652047157,0.043675053864717,0.017980502918363,-0.025279862806201,-0.023579927161336,-0.016034482046962,0.027583647519350,-0.063054509460926,-0.012729071080685,0.011262825690210));
res += mul(Get(s1,dx,dy), float4x4(0.007094574626535,-0.101868450641632,-0.120931610465050,0.084352485835552,-0.084539502859116,0.005070818588138,0.008823090232909,-0.063682362437248,0.032621871680021,0.067080482840538,0.035205427557230,-0.118740834295750,-0.121272355318069,-0.101497337222099,0.034402348101139,0.077614627778530));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004200892057270,-0.012523104436696,0.104340098798275,-0.104860365390778,-0.043808963149786,-0.052108645439148,-0.067029751837254,0.020684670656919,-0.032197453081608,-0.076032109558582,0.050670020282269,0.223479673266411,-0.016530206426978,-0.005012721288949,0.058552481234074,-0.053864687681198));
res += mul(Get(s2,-dx,0), float4x4(-0.016452126204967,0.035395089536905,-0.055761169642210,-0.053080014884472,0.014079654589295,0.063295729458332,-0.015371089801192,0.054641574621201,0.079474642872810,0.060996938496828,0.087524473667145,-0.007031041663140,-0.008314464241266,-0.050967380404472,-0.075854241847992,0.104596875607967));
res += mul(Get(s2,-dx,dy), float4x4(-0.036527000367641,-0.034402754157782,0.088819310069084,0.002177221467718,-0.000835268758237,0.038106475025415,-0.183398991823196,-0.029738394543529,0.081769026815891,0.074093051254749,-0.085561566054821,-0.044807769358158,-0.106290146708488,-0.037209913134575,0.010686056688428,-0.119341894984245));
res += mul(Get(s2,0,-dy), float4x4(0.084981739521027,0.022332884371281,0.016592398285866,-0.066624164581299,-0.070837020874023,-0.042171444743872,-0.230845838785172,-0.007255852688104,-0.074099294841290,0.060966033488512,-0.118682935833931,0.176910564303398,0.052776228636503,-0.055008433759212,-0.071482956409454,-0.023564470931888));
res += mul(Get(s2,0,0), float4x4(-0.040492441505194,0.072183504700661,0.044473189860582,-0.014221181161702,0.007143090944737,0.092417016625404,-0.102216459810734,0.038793135434389,0.048567377030849,0.014380839653313,-0.069084353744984,0.035726644098759,-0.046060562133789,-0.019169952720404,-0.121216557919979,-0.005612067878246));
res += mul(Get(s2,0,dy), float4x4(-0.030257642269135,0.075733892619610,-0.072345308959484,0.174536675214767,0.036948285996914,-0.073667988181114,0.070517718791962,0.203876659274101,0.141567260026932,0.001437843660824,-0.226970657706261,-0.026721626520157,-0.031744029372931,-0.011508999392390,-0.036045290529728,-0.070772469043732));
res += mul(Get(s2,dx,-dy), float4x4(0.012883319519460,-0.042755234986544,0.112760275602341,-0.107215829193592,-0.038457699120045,-0.070596024394035,-0.074718646705151,-0.019644042477012,-0.161232635378838,0.003340373979881,0.082611173391342,0.129661530256271,0.040006831288338,-0.011213242076337,-0.135893002152443,-0.001076366053894));
res += mul(Get(s2,dx,0), float4x4(-0.019604999572039,0.001451634918340,-0.004221532493830,-0.043264795094728,-0.028948651626706,0.201282724738121,0.146117925643921,-0.144018664956093,-0.103023581206799,0.015417249873281,0.051196750253439,-0.015593786723912,-0.039956174790859,-0.050465382635593,-0.146449550986290,-0.058726280927658));
res += mul(Get(s2,dx,dy), float4x4(-0.020909059792757,0.183218792080879,-0.065869562327862,0.031669348478317,0.096488490700722,-0.066105037927628,-0.074260644614697,-0.146579712629318,0.235703453421593,0.120858922600746,-0.008728516288102,0.011242817156017,-0.112326867878437,-0.145492926239967,0.083990260958672,-0.105131290853024));
res += mul(Get(s3,-dx,-dy), float4x4(-0.034031070768833,-0.055790092796087,0.033456794917583,-0.073160015046597,-0.025602396577597,0.062710911035538,-0.133740037679672,-0.015690451487899,-0.059106785804033,-0.111061073839664,-0.050033181905746,-0.059486322104931,0.110394038259983,0.044267807155848,-0.018409190699458,-0.101513415575027));
res += mul(Get(s3,-dx,0), float4x4(-0.079996347427368,-0.062588825821877,-0.138002634048462,-0.052831582725048,-0.091146759688854,0.009301377460361,-0.058661572635174,-0.064966149628162,0.016164366155863,-0.077155902981758,-0.026323791593313,0.000477662484627,0.037211470305920,0.058109406381845,0.072681248188019,-0.072506442666054));
res += mul(Get(s3,-dx,dy), float4x4(-0.065273635089397,-0.027419745922089,0.166917100548744,-0.066701114177704,-0.086974531412125,0.002398755401373,-0.166222080588341,-0.041911508888006,-0.032909329980612,0.162454962730408,0.074871413409710,-0.111991591751575,-0.089193657040596,-0.140331119298935,0.212797746062279,0.101171702146530));
res += mul(Get(s3,0,-dy), float4x4(0.016218857839704,-0.062706030905247,-0.093859337270260,-0.108739919960499,0.001744827488437,0.104365460574627,0.066750615835190,0.140279471874237,-0.088330619037151,-0.143475681543350,0.106365665793419,-0.047938570380211,0.036703411489725,0.087809361517429,0.159758865833282,-0.118823029100895));
res += mul(Get(s3,0,0), float4x4(0.098038651049137,-0.013416571542621,-0.127945587038994,0.015789100900292,0.131330698728561,-0.040548998862505,0.139022544026375,0.110982142388821,-0.059379070997238,-0.030536482110620,-0.016921477392316,-0.019363198429346,-0.028722392395139,0.014478842727840,-0.015386826358736,-0.083825558423996));
res += mul(Get(s3,0,dy), float4x4(0.031166464090347,-0.129795625805855,0.122946776449680,-0.054793875664473,-0.064247153699398,0.192608386278152,0.107178002595901,-0.035655781626701,-0.036139138042927,0.198907762765884,-0.018944844603539,-0.025057066231966,-0.059001792222261,-0.009778253734112,0.066568166017532,-0.007387720514089));
res += mul(Get(s3,dx,-dy), float4x4(0.008287193253636,-0.128256246447563,-0.091672211885452,0.012400463223457,-0.111571840941906,0.129014089703560,0.058188557624817,-0.127743765711784,-0.127804800868034,-0.024577206000686,-0.073838263750076,-0.076311782002449,0.032122101634741,-0.046558674424887,0.061203293502331,0.096775434911251));
res += mul(Get(s3,dx,0), float4x4(0.047557637095451,-0.081676214933395,-0.022390739992261,-0.039726451039314,0.011281611397862,0.020186049863696,0.072978839278221,0.066648818552494,-0.130120620131493,0.065661080181599,-0.092963665723801,-0.095231704413891,0.036718688905239,-0.047489318996668,0.013661926612258,-0.014572036452591));
res += mul(Get(s3,dx,dy), float4x4(-0.090806491672993,-0.115685626864433,0.123860605061054,0.053934156894684,-0.077601410448551,-0.132983088493347,0.119816876947880,0.029866028577089,-0.049026325345039,0.110500454902649,-0.031479813158512,-0.118707545101643,-0.015704546123743,-0.049589570611715,0.021606327965856,0.061667412519455));
return max(float4(0,0,0,0), res);
}
