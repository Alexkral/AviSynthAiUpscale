sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.010715916752815,0.209892630577087,0.037648957222700,-0.030993336811662,-0.065443515777588,0.105884768068790,-0.026301946491003,-0.058689579367638,-0.065918423235416,0.213705852627754,-0.025762425735593,-0.084126830101013,-0.054785747081041,0.165706887841225,0.045929074287415,-0.042572289705276));
res += mul(Get(s0,-dx,0), float4x4(-0.022896192967892,-0.078585423529148,0.017866957932711,-0.015416957437992,-0.003683174494654,0.125973254442215,0.002098871394992,-0.064682662487030,-0.066184997558594,0.023361757397652,-0.009478416293859,0.042416363954544,-0.085194356739521,0.056930687278509,0.079162091016769,-0.216415122151375));
res += mul(Get(s0,-dx,dy), float4x4(0.007741440087557,0.097106918692589,0.030336346477270,-0.118411198258400,0.118925340473652,0.115459494292736,-0.041751377284527,-0.118408069014549,-0.033385910093784,-0.050357088446617,0.395577788352966,-0.168649226427078,0.042658444494009,0.104678638279438,0.009883193299174,-0.111213639378548));
res += mul(Get(s0,0,-dy), float4x4(-0.090316005051136,-0.043842226266861,0.019970135763288,0.023458756506443,0.004108793567866,-0.081005215644836,-0.074419312179089,-0.013103095814586,-0.081713870167732,0.002518013119698,0.091017998754978,-0.155408293008804,-0.031428899616003,0.022888191044331,-0.027234418317676,0.073726601898670));
res += mul(Get(s0,0,0), float4x4(-0.083647392690182,-0.048701155930758,-0.055736534297466,0.049440406262875,-0.006627443246543,-0.048403780907393,-0.049321256577969,-0.035967238247395,-0.040891427546740,-0.060601446777582,-0.019592916592956,0.063682518899441,-0.022830666974187,0.026974935084581,0.141225546598434,-0.051139362156391));
res += mul(Get(s0,0,dy), float4x4(-0.040249746292830,-0.027541615068913,-0.020338751375675,0.063001245260239,-0.034510392695665,0.041877858340740,-0.047379840165377,-0.080479174852371,0.006568217184395,-0.139448449015617,-0.053153064101934,0.038400046527386,0.007789475377649,0.066493250429630,-0.024408409371972,-0.148453921079636));
res += mul(Get(s0,dx,-dy), float4x4(-0.188400879502296,0.100640565156937,-0.074070133268833,0.160123661160469,-0.191593497991562,-0.206605181097984,-0.034560482949018,-0.096443220973015,-0.140132114291191,-0.020710673183203,0.317105084657669,0.171703815460205,-0.011340295895934,0.027102934196591,0.275804668664932,0.156299814581871));
res += mul(Get(s0,dx,0), float4x4(-0.019130580127239,0.086444437503815,-0.017359485849738,-0.004924112930894,-0.005126318428665,-0.154541686177254,-0.144663289189339,-0.133062049746513,-0.095609933137894,0.014333801344037,0.034492798149586,0.198632493615150,-0.055782031267881,0.009002746082842,0.101406738162041,0.219892367720604));
res += mul(Get(s0,dx,dy), float4x4(0.011598284356296,0.226323559880257,0.089427217841148,0.031230699270964,0.120930083096027,-0.027829460799694,-0.211375281214714,-0.177088141441345,-0.060844931751490,0.129077896475792,0.041669998317957,0.211432874202728,0.011869896203279,0.165175244212151,-0.036927390843630,-0.015971863642335));
res += mul(Get(s1,-dx,-dy), float4x4(0.028655078262091,0.045441348105669,0.073576375842094,-0.056566059589386,-0.016073582693934,0.031998958438635,-0.021379165351391,-0.024483518674970,-0.040030840784311,-0.177846744656563,-0.026715252548456,0.028186904266477,-0.117590926587582,-0.005649676546454,-0.092253655195236,-0.057695966213942));
res += mul(Get(s1,-dx,0), float4x4(-0.025180151686072,-0.065938144922256,-0.032310962677002,0.125728383660316,-0.069997362792492,-0.056020453572273,-0.025230105966330,-0.046068038791418,-0.082354508340359,-0.103521756827831,-0.015869392082095,-0.002477706642821,-0.099105589091778,-0.150561034679413,-0.085815280675888,-0.078220672905445));
res += mul(Get(s1,-dx,dy), float4x4(0.067586772143841,0.049956608563662,-0.067022450268269,0.032363113015890,-0.064416095614433,0.033535089343786,-0.046650499105453,0.066409744322300,-0.003294739639387,-0.027716191485524,-0.010685259476304,0.116091474890709,0.082257218658924,-0.036701984703541,-0.028608676046133,-0.041179019957781));
res += mul(Get(s1,0,-dy), float4x4(-0.047227498143911,0.027923727408051,0.054947726428509,-0.160173878073692,0.028482282534242,-0.003347634803504,0.022076101973653,-0.034096639603376,-0.115425780415535,-0.027926523238420,-0.071006543934345,-0.012142214924097,-0.087096408009529,-0.033554084599018,-0.059031423181295,-0.048698235303164));
res += mul(Get(s1,0,0), float4x4(-0.055128611624241,-0.109047733247280,-0.129261091351509,0.036283113062382,-0.066440895199776,-0.069089382886887,0.008676004596055,-0.033361434936523,-0.069818183779716,-0.076211981475353,-0.090017125010490,-0.031324747949839,-0.125652432441711,-0.089779265224934,-0.079194486141205,-0.084482893347740));
res += mul(Get(s1,0,dy), float4x4(0.007087149191648,-0.154122531414032,-0.111660785973072,-0.095720261335373,-0.127430349588394,-0.089291170239449,-0.108927026391029,0.047193437814713,0.000468681566417,-0.122013852000237,-0.010625767521560,0.043332021683455,-0.019119139760733,0.105683945119381,0.092583902180195,-0.044178333133459));
res += mul(Get(s1,dx,-dy), float4x4(-0.067404657602310,-0.136074289679527,0.065038874745369,-0.230075284838676,-0.074539802968502,-0.130488455295563,-0.069131962954998,0.006119209807366,-0.112988725304604,-0.002294063102454,-0.003829740919173,-0.068358495831490,-0.042458970099688,-0.170048683881760,0.063321627676487,0.082950063049793));
res += mul(Get(s1,dx,0), float4x4(0.044614788144827,-0.056398902088404,-0.129461422562599,0.023405153304338,-0.027151940390468,-0.190986558794975,-0.028432801365852,0.009629456326365,-0.041515789926052,-0.154413998126984,0.047725494951010,-0.066847205162048,-0.015975518152118,-0.194711536169052,-0.053315307945013,0.014556370675564));
res += mul(Get(s1,dx,dy), float4x4(0.139273554086685,-0.037273168563843,-0.027544122189283,-0.029551334679127,-0.043375425040722,-0.092697538435459,-0.147345468401909,0.017033649608493,-0.062675543129444,-0.167126283049583,0.072906695306301,-0.110669128596783,-0.145623937249184,-0.114680550992489,-0.002463708398864,-0.125198736786842));
res += mul(Get(s2,-dx,-dy), float4x4(0.060177315026522,0.003676888300106,0.040529005229473,0.028838908299804,0.198015317320824,0.079255305230618,0.063786312937737,-0.026586238294840,0.009815519675612,0.030483262613416,0.157806739211082,0.147406876087189,-0.001267929794267,0.189333394169807,0.203380838036537,0.074136674404144));
res += mul(Get(s2,-dx,0), float4x4(-0.116751350462437,0.020724842324853,0.002754621906206,-0.022612206637859,-0.031532708555460,0.034310530871153,-0.009941508062184,-0.030170513316989,0.118277877569199,0.108205869793892,0.000748437887523,0.046397637575865,-0.060612782835960,0.031864713877439,0.102820895612240,0.063129700720310));
res += mul(Get(s2,-dx,dy), float4x4(-0.045475702732801,0.017835302278399,0.012164735235274,-0.062761992216110,-0.056210208684206,-0.073679700493813,-0.075085140764713,-0.176950559020042,0.034911807626486,0.167035922408104,-0.027289416640997,-0.070392645895481,0.026114789769053,0.059643991291523,0.106082409620285,0.109365038573742));
res += mul(Get(s2,0,-dy), float4x4(0.097130589187145,-0.067402824759483,-0.012886682525277,-0.020202502608299,0.096598125994205,-0.013986914418638,-0.102189533412457,-0.076431043446064,0.095483630895615,-0.093112021684647,-0.018520200625062,-0.045101746916771,-0.100286968052387,0.034773398190737,0.073515303432941,0.085479475557804));
res += mul(Get(s2,0,0), float4x4(0.024264687672257,0.010465203784406,0.020127288997173,-0.004048115108162,-0.015418860130012,-0.128376439213753,-0.024849018082023,-0.076260574162006,0.099576689302921,0.116529822349548,-0.055140163749456,-0.063220992684364,-0.173540860414505,-0.003488656599075,0.235178112983704,-0.042781908065081));
res += mul(Get(s2,0,dy), float4x4(0.058301419019699,0.073300108313560,-0.013717063702643,0.000804416777100,-0.070058196783066,-0.009624820202589,-0.078094415366650,-0.070041373372078,-0.031595684587955,0.127083748579025,0.013295263051987,-0.099012352526188,0.148788049817085,0.011270725168288,0.108649268746376,0.089784078299999));
res += mul(Get(s2,dx,-dy), float4x4(0.084998808801174,-0.045578379184008,-0.099324069917202,-0.003674142528325,0.279942035675049,-0.076826311647892,-0.133013889193535,-0.100828304886818,0.254734277725220,-0.038593195378780,-0.105764508247375,-0.059885151684284,-0.115859024226665,-0.161338940262794,-0.082390353083611,-0.058927822858095));
res += mul(Get(s2,dx,0), float4x4(0.080752983689308,-0.061206672340631,-0.003572217887267,0.035147171467543,0.005762397777289,-0.134918257594109,-0.084366574883461,-0.074622698128223,0.134345695376396,0.121930375695229,-0.025497321039438,-0.050282828509808,-0.083597093820572,-0.082857660949230,-0.048982493579388,0.024915494024754));
res += mul(Get(s2,dx,dy), float4x4(0.029646666720510,0.005825939588249,-0.144479498267174,0.002235078252852,-0.076164588332176,-0.093234695494175,-0.061156596988440,-0.054524429142475,-0.039469800889492,-0.127096727490425,-0.009358134120703,-0.067065723240376,0.085260644555092,0.046962834894657,0.014100901782513,0.069901809096336));
res += mul(Get(s3,-dx,-dy), float4x4(0.076389864087105,0.069656662642956,-0.110754370689392,0.008979989215732,-0.005319269374013,0.064076818525791,0.185727804899216,0.149703279137611,0.079366214573383,-0.037350580096245,-0.049048319458961,0.010265625081956,-0.015624018386006,-0.005173491314054,0.023104019463062,0.041714284569025));
res += mul(Get(s3,-dx,0), float4x4(-0.136259213089943,0.118697427213192,-0.111655831336975,-0.033333543688059,0.135296165943146,0.177195668220520,0.054823774844408,-0.030901001766324,0.037245132029057,0.137189209461212,0.098442465066910,-0.075810827314854,-0.042056042701006,0.125908136367798,0.010659510269761,0.040042567998171));
res += mul(Get(s3,-dx,dy), float4x4(0.023477710783482,0.075209237635136,0.071660548448563,0.078613430261612,-0.044328048825264,0.063029088079929,-0.020825976505876,0.157097503542900,0.071067355573177,-0.059683755040169,0.029570560902357,0.017463641241193,-0.011328322812915,-0.050829574465752,-0.124460481107235,0.010160767473280));
res += mul(Get(s3,0,-dy), float4x4(0.047311298549175,-0.069694206118584,-0.073166251182556,0.192254185676575,0.014667174778879,0.024962518364191,0.009967688471079,0.070563539862633,0.056595306843519,0.012989638373256,-0.146063163876534,-0.043437335640192,-0.082563281059265,0.052197612822056,-0.033970572054386,0.102806307375431));
res += mul(Get(s3,0,0), float4x4(-0.005088921170682,0.062131911516190,-0.094329811632633,0.082591116428375,0.170907899737358,0.160001844167709,-0.053710632026196,-0.102798432111740,0.013320039026439,0.059767764061689,-0.068201549351215,-0.067670434713364,-0.004492996260524,-0.002639780053869,0.056185532361269,-0.008430309593678));
res += mul(Get(s3,0,dy), float4x4(0.092978365719318,-0.024822656065226,0.110099911689758,0.085618078708649,0.032866224646568,-0.049564223736525,0.025051107630134,0.017449099570513,0.104506708681583,-0.004808163270354,-0.010461532510817,-0.019045002758503,-0.103286162018776,0.040782108902931,-0.006533173844218,-0.080542974174023));
res += mul(Get(s3,dx,-dy), float4x4(-0.053797136992216,-0.026953831315041,-0.048964451998472,0.034882005304098,0.045914638787508,-0.093361288309097,-0.254040598869324,0.026455232873559,0.126041054725647,-0.233818829059601,-0.267251551151276,-0.048624966293573,0.037280607968569,0.011658321134746,-0.090075910091400,-0.061336468905210));
res += mul(Get(s3,dx,0), float4x4(0.084489040076733,-0.016506973654032,-0.096167676150799,-0.072349332273006,0.219124853610992,-0.122277319431305,-0.137410968542099,-0.094940274953842,-0.017260959371924,-0.230465635657310,-0.185025706887245,0.029794365167618,-0.071210794150829,-0.002221984323114,-0.048001382499933,-0.080016151070595));
res += mul(Get(s3,dx,dy), float4x4(0.051967538893223,0.027454055845737,0.182842567563057,0.150337561964989,-0.065848655998707,-0.129381433129311,0.028621716424823,-0.027971327304840,-0.060728285461664,-0.216872259974480,-0.092421591281891,-0.031096594408154,-0.081141591072083,-0.093857020139694,-0.005113896913826,-0.125549525022507));
return max(float4(0,0,0,0), res);
}
