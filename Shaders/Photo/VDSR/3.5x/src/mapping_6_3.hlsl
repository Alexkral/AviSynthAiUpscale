sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.114444822072983,0.110269337892532,-0.060536965727806,0.004981866106391,0.010955593548715,-0.031692672520876,0.059962294995785,-0.026144949719310,-0.078738063573837,-0.071186773478985,-0.009011100977659,0.221794381737709,0.051674995571375,0.281876802444458,-0.022593770176172,-0.001818763324991));
res += mul(Get(s0,-dx,0), float4x4(-0.141587957739830,0.081325635313988,0.081588819622993,0.080712907016277,-0.090699799358845,0.075533993542194,-0.095204882323742,-0.076387964189053,0.285397529602051,-0.100945815443993,0.070880644023418,-0.004256559070200,-0.008457361720502,-0.007410028949380,-0.059294171631336,-0.063729636371136));
res += mul(Get(s0,-dx,dy), float4x4(-0.017889373004436,-0.192328006029129,0.097085610032082,-0.049637056887150,0.321938484907150,-0.009671009145677,-0.101381011307240,-0.015028556808829,0.064993761479855,-0.212406173348427,0.041694127023220,-0.018946515396237,0.003275407478213,-0.035677693784237,0.056105129420757,0.021980455145240));
res += mul(Get(s0,0,-dy), float4x4(0.116539835929871,0.291547447443008,-0.028694629669189,-0.001677726279013,0.057822048664093,-0.043816789984703,-0.070167504251003,-0.166444972157478,-0.113520644605160,0.252492934465408,-0.047093965113163,-0.114108406007290,-0.032530874013901,0.017686471343040,-0.089963980019093,-0.142819538712502));
res += mul(Get(s0,0,0), float4x4(0.272666901350021,0.072351910173893,0.081660471856594,0.067521691322327,0.051262747496367,0.007599030621350,-0.039241280406713,0.199244976043701,-0.159199208021164,0.024537393823266,-0.076124697923660,0.118404492735863,-0.072076186537743,-0.110893264412880,-0.099449366331100,-0.032338310033083));
res += mul(Get(s0,0,dy), float4x4(0.170461326837540,-0.056289602071047,-0.041632853448391,-0.249248877167702,-0.068243198096752,-0.018537787720561,0.091527000069618,0.176111996173859,0.127397567033768,-0.176219075918198,-0.180334419012070,-0.197838887572289,0.045382544398308,0.103210240602493,0.081131935119629,0.034023251384497));
res += mul(Get(s0,dx,-dy), float4x4(0.074682109057903,-0.100504294037819,0.099032968282700,0.153030365705490,-0.221232891082764,0.000367662229110,0.032333288341761,-0.013951169326901,0.138957709074020,0.171739071607590,-0.002660392550752,-0.185947805643082,0.027223456650972,-0.032074615359306,0.145243853330612,-0.299131065607071));
res += mul(Get(s0,dx,0), float4x4(-0.123791150748730,-0.135913848876953,-0.010659472085536,0.102618664503098,0.283466070890427,-0.006395128089935,0.055677011609077,-0.075904659926891,0.042596492916346,-0.006763095967472,-0.162563562393188,0.011346795596182,0.038858614861965,-0.159671053290367,-0.015432474203408,0.008477005176246));
res += mul(Get(s0,dx,dy), float4x4(0.265811085700989,-0.014992953278124,0.028515931218863,-0.010592384263873,0.067625328898430,-0.201397314667702,-0.062114574015141,0.034907530993223,0.057486329227686,-0.030624322593212,-0.188218086957932,0.108898229897022,0.072138711810112,0.078350007534027,-0.113639511168003,0.038049906492233));
res += mul(Get(s1,-dx,-dy), float4x4(-0.010776933282614,0.010173306800425,0.038470130413771,0.073768511414528,-0.219987928867340,0.169085845351219,-0.049425799399614,-0.026777055114508,0.020809821784496,0.114870809018612,0.021779779344797,0.039867028594017,-0.116521224379539,0.077175490558147,0.067724816501141,0.066146567463875));
res += mul(Get(s1,-dx,0), float4x4(0.067537844181061,0.070521362125874,0.095372892916203,-0.186702385544777,-0.030358957126737,-0.091891154646873,0.021379377692938,-0.321299672126770,-0.039249338209629,0.179043382406235,0.049546383321285,0.021997274830937,0.040539223700762,-0.046844493597746,-0.126800581812859,0.058345571160316));
res += mul(Get(s1,-dx,dy), float4x4(0.063626602292061,-0.117158427834511,-0.020239131525159,0.041644394397736,-0.091345123946667,-0.166998460888863,0.053822636604309,0.132248908281326,0.093545027077198,0.122267909348011,-0.017813095822930,0.071090124547482,0.083999581634998,0.151910826563835,0.029939970001578,0.035613860934973));
res += mul(Get(s1,0,-dy), float4x4(0.120126701891422,-0.044883176684380,-0.024714428931475,0.071630612015724,-0.092125415802002,0.070341706275940,0.081460140645504,-0.106447704136372,-0.014783578924835,0.152980759739876,-0.113085158169270,0.099284559488297,-0.238196313381195,0.013488703407347,-0.215659275650978,0.133349999785423));
res += mul(Get(s1,0,0), float4x4(-0.165381684899330,0.029387999325991,0.058227982372046,-0.035687156021595,-0.052672460675240,0.034399800002575,-0.028305020183325,0.163574159145355,0.214330673217773,0.060468591749668,-0.146978065371513,-0.017759585753083,-0.003928217571229,-0.040590137243271,0.095883123576641,-0.088019177317619));
res += mul(Get(s1,0,dy), float4x4(-0.094439886510372,0.001867722719908,0.254832029342651,0.051923267543316,0.032645609229803,-0.091119192540646,0.088225074112415,0.094675920903683,0.091947995126247,0.100382745265961,0.173602476716042,0.024251952767372,-0.085154771804810,0.114788942039013,0.044178195297718,0.227511540055275));
res += mul(Get(s1,dx,-dy), float4x4(-0.124045066535473,-0.090156510472298,0.023845598101616,-0.009808487258852,0.149008333683014,-0.006575755774975,-0.140653401613235,0.035735432058573,0.051281288266182,-0.087627708911896,0.021342001855373,0.028372485190630,-0.078862749040127,-0.134184211492538,0.131238654255867,0.102198451757431));
res += mul(Get(s1,dx,0), float4x4(0.110645510256290,-0.040882442146540,-0.003607540391386,0.062550865113735,-0.022345192730427,-0.061868485063314,-0.183116257190704,0.081605650484562,-0.121976286172867,0.079468339681625,0.094793803989887,0.073895439505577,0.082580253481865,-0.075461827218533,0.244937211275101,-0.009538698010147));
res += mul(Get(s1,dx,dy), float4x4(-0.059873588383198,-0.077965661883354,-0.043451633304358,-0.000727649196051,0.154776304960251,0.099141277372837,-0.171035274863243,0.060375083237886,0.057582277804613,0.002097128890455,0.065396964550018,0.248599216341972,-0.021061109378934,0.060041561722755,0.030816251412034,0.013265448622406));
res += mul(Get(s2,-dx,-dy), float4x4(0.141324967145920,0.077248707413673,0.154629066586494,0.032007273286581,0.155063331127167,0.093847610056400,0.091757848858833,-0.060940898954868,-0.043766748160124,0.131845623254776,0.171536192297935,0.118857495486736,-0.236482590436935,0.062718182802200,0.151273533701897,0.093362152576447));
res += mul(Get(s2,-dx,0), float4x4(0.011464930139482,0.155299708247185,0.178949788212776,0.101879313588142,0.062663033604622,0.156404986977577,-0.017011281102896,0.136293292045593,0.101019501686096,-0.209139958024025,-0.029990866780281,-0.104987584054470,-0.047313388437033,-0.167272895574570,-0.013802622444928,0.045853767544031));
res += mul(Get(s2,-dx,dy), float4x4(0.070087321102619,-0.193870246410370,0.035527303814888,-0.063599571585655,0.007758928928524,0.105094686150551,-0.009697422385216,0.059502381831408,-0.146494030952454,-0.001353695522994,-0.078980058431625,-0.091399371623993,0.000471158098662,-0.068649709224701,-0.036990758031607,0.212042227387428));
res += mul(Get(s2,0,-dy), float4x4(0.054816000163555,-0.099719919264317,0.106627359986305,0.234147012233734,0.147043809294701,-0.086407318711281,0.096003584563732,0.019551925361156,-0.059826798737049,0.119682140648365,-0.004414135124534,-0.108254946768284,-0.191036984324455,0.065170593559742,0.072072155773640,-0.121794514358044));
res += mul(Get(s2,0,0), float4x4(0.065986640751362,-0.031682945787907,0.035401333123446,0.079660549759865,0.042802333831787,0.005549113266170,0.029924249276519,-0.030695913359523,-0.051705941557884,-0.114281959831715,-0.009256315417588,0.268889486789703,0.141266137361526,0.102500937879086,0.004486920777708,0.017488727346063));
res += mul(Get(s2,0,dy), float4x4(-0.043862570077181,-0.058424152433872,0.035747259855270,-0.087710648775101,0.099444955587387,0.307456046342850,-0.023857578635216,-0.017057796940207,0.014677391387522,0.112016625702381,-0.075023241341114,-0.113013200461864,0.070507310330868,0.008662039414048,-0.091075323522091,-0.029820086434484));
res += mul(Get(s2,dx,-dy), float4x4(0.032594244927168,0.118515335023403,-0.028597960248590,-0.055179361253977,0.065218172967434,0.172542452812195,0.083750396966934,-0.291425019502640,-0.072406575083733,0.003489985596389,-0.040224906057119,-0.006133788265288,-0.130673751235008,-0.226707056164742,0.102713130414486,0.084683291614056));
res += mul(Get(s2,dx,0), float4x4(0.088125966489315,-0.104999177157879,-0.107190988957882,-0.054000224918127,-0.002078219084069,0.054222844541073,0.097629033029079,-0.023487405851483,-0.082490682601929,-0.008684963919222,0.003467785893008,0.090956799685955,-0.040336295962334,-0.128994733095169,-0.101246833801270,0.032727342098951));
res += mul(Get(s2,dx,dy), float4x4(-0.133983358740807,-0.048667009919882,0.154686644673347,-0.168280571699142,0.145163565874100,0.129887521266937,0.013271737843752,-0.078181035816669,-0.245172962546349,0.055545549839735,-0.059592373669147,0.023990778252482,0.001786694047041,-0.056272312998772,0.122856430709362,0.114079780876637));
res += mul(Get(s3,-dx,-dy), float4x4(-0.081832855939865,-0.057635497301817,0.087838128209114,-0.236715748906136,-0.089855946600437,0.042277295142412,0.174326539039612,-0.138117417693138,-0.092769898474216,0.003425378352404,0.159885674715042,-0.029265491291881,-0.175779968500137,-0.064571209251881,0.147754043340683,-0.118664748966694));
res += mul(Get(s3,-dx,0), float4x4(0.014077180065215,-0.085353560745716,-0.176832288503647,0.142225146293640,-0.103049419820309,0.181698039174080,0.149406462907791,0.263133287429810,0.117431394755840,0.161457628011703,0.072514265775681,0.143463149666786,0.177589908242226,0.090198121964931,-0.099735513329506,0.259885042905807));
res += mul(Get(s3,-dx,dy), float4x4(-0.112811051309109,0.194729313254356,-0.002591568510979,-0.215694695711136,-0.203825250267982,-0.077804870903492,-0.143385350704193,0.040409486740828,0.042309075593948,-0.093453697860241,-0.011898021213710,-0.000854914193042,0.009106079116464,0.259390741586685,0.110301963984966,-0.142405748367310));
res += mul(Get(s3,0,-dy), float4x4(0.136889234185219,-0.128289192914963,-0.223372012376785,0.024557774886489,-0.019762624055147,-0.116529807448387,-0.041111849248409,-0.087452925741673,-0.014960021711886,-0.109912678599358,0.237004488706589,0.149672240018845,-0.171686619520187,0.062815152108669,-0.080389969050884,0.129162460565567));
res += mul(Get(s3,0,0), float4x4(-0.095539435744286,0.022405920550227,0.203200072050095,0.053004249930382,-0.079580903053284,-0.046371456235647,0.029225813224912,0.158496066927910,-0.059147495776415,0.023161888122559,0.159772694110870,-0.074009910225868,0.071862988173962,-0.067407697439194,-0.026305155828595,0.053615011274815));
res += mul(Get(s3,0,dy), float4x4(-0.129711061716080,-0.006745423190296,0.097556591033936,-0.043124422430992,0.188179954886436,-0.020965630188584,0.104885697364807,0.026621177792549,-0.089280568063259,-0.175468713045120,-0.104087829589844,-0.126831859350204,0.231617525219917,0.019032327458262,-0.049941718578339,0.110228709876537));
res += mul(Get(s3,dx,-dy), float4x4(0.082815758883953,-0.031215034425259,0.018490819260478,-0.089661784470081,0.082494184374809,0.179702043533325,0.044804662466049,0.090853661298752,-0.062895834445953,0.016644692048430,-0.056168757379055,0.149702981114388,-0.085289746522903,0.143393635749817,0.055809445679188,-0.137526288628578));
res += mul(Get(s3,dx,0), float4x4(-0.141422733664513,0.108283393085003,0.134367153048515,0.065799072384834,0.066242516040802,0.193435549736023,0.084355153143406,0.025935959070921,-0.008447661064565,0.016046019271016,-0.155329555273056,-0.042510937899351,0.103255584836006,0.017824092879891,0.132683739066124,0.173335671424866));
res += mul(Get(s3,dx,dy), float4x4(0.069268606603146,-0.034653797745705,-0.124161124229431,-0.107507355511189,0.041190758347511,-0.068189866840839,0.176281720399857,-0.043258946388960,-0.011264490894973,-0.199024215340614,0.151298657059669,-0.128036871552467,-0.067135147750378,-0.055711328983307,0.066930599510670,-0.019525822252035));
return max(float4(0,0,0,0), res);
}
