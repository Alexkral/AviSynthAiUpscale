sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.110962137579918,-0.003392949001864,-0.052971433848143,0.090647935867310,-0.102069914340973,0.127777695655823,0.002518535358831,0.048938330262899,0.064780801534653,-0.123174294829369,0.106151551008224,0.040250539779663,0.083312310278416,-0.123917937278748,-0.101879969239235,0.010333292186260));
res += mul(Get(s0,-dx,0), float4x4(0.045568369328976,-0.043582931160927,-0.058848246932030,-0.140287280082703,0.229824364185333,-0.123461440205574,0.081708811223507,-0.114731542766094,0.139228761196136,0.040152348577976,-0.300544589757919,-0.180426120758057,-0.152878344058990,0.064211130142212,0.053957261145115,-0.171932131052017));
res += mul(Get(s0,-dx,dy), float4x4(0.043800678104162,0.120224595069885,-0.117707662284374,0.061185859143734,-0.002388438209891,-0.076807595789433,-0.022684356197715,-0.016475066542625,-0.067104816436768,0.173751488327980,-0.121678225696087,-0.050118006765842,-0.057107429951429,0.087627008557320,-0.018543770536780,0.030261805281043));
res += mul(Get(s0,0,-dy), float4x4(-0.040404755622149,-0.176169574260712,0.071462467312813,-0.254378408193588,-0.297875195741653,0.181539639830589,-0.107460156083107,-0.109873406589031,0.142643585801125,-0.114101685583591,0.217140302062035,-0.116762563586235,0.079325549304485,-0.076890453696251,-0.128709226846695,0.021693680435419));
res += mul(Get(s0,0,0), float4x4(-0.055882215499878,0.154946938157082,0.008782111108303,-0.015619605779648,-0.071281366050243,0.061161447316408,-0.061798766255379,-0.045316502451897,0.023269889876246,-0.083616897463799,-0.073884658515453,-0.006398309953511,0.086647041141987,-0.009146763011813,0.154211163520813,0.128217473626137));
res += mul(Get(s0,0,dy), float4x4(-0.112819589674473,-0.046223059296608,0.248116180300713,-0.050767391920090,-0.190741240978241,0.102710202336311,-0.105212837457657,0.064866572618484,-0.140660703182220,0.086643956601620,0.050442855805159,-0.026585500687361,0.138368561863899,-0.033972691744566,0.021105993539095,0.059129454195499));
res += mul(Get(s0,dx,-dy), float4x4(-0.069849431514740,-0.133002564311028,0.121272854506969,0.086191192269325,-0.173732310533524,-0.084698326885700,-0.151140287518501,-0.122118584811687,-0.036865454167128,-0.122043594717979,-0.013142876327038,-0.015076012350619,-0.009985216893256,-0.164850771427155,-0.056507147848606,0.100592300295830));
res += mul(Get(s0,dx,0), float4x4(0.071279928088188,-0.063338391482830,-0.047352794557810,-0.065410882234573,0.065438888967037,0.012919147498906,0.093816392123699,0.026622803881764,0.005711524747312,0.049333557486534,-0.227796196937561,-0.041264485567808,-0.152783930301666,-0.017620543017983,0.104540549218655,0.134100973606110));
res += mul(Get(s0,dx,dy), float4x4(-0.008771871216595,-0.080778524279594,-0.100308015942574,0.064777150750160,-0.127497687935829,0.115658819675446,-0.042746763676405,-0.023751158267260,-0.087688475847244,-0.101087599992752,0.086760066449642,-0.108806699514389,-0.006048413924873,0.087788328528404,-0.141405865550041,-0.028614569455385));
res += mul(Get(s1,-dx,-dy), float4x4(0.009556460194290,0.119275443255901,-0.064830988645554,-0.079035967588425,0.170213267207146,0.040778793394566,0.029678035527468,0.053364723920822,0.067033253610134,-0.168388247489929,0.087451174855232,-0.157822236418724,-0.150195851922035,-0.022515853866935,-0.095764376223087,0.220343843102455));
res += mul(Get(s1,-dx,0), float4x4(-0.154264301061630,0.035405460745096,-0.018666235730052,-0.072072826325893,0.004305202513933,0.083345405757427,0.122910499572754,-0.099102519452572,0.134806856513023,-0.067156173288822,0.116521462798119,-0.151360109448433,0.091771923005581,0.093743853271008,0.151640102267265,-0.163389146327972));
res += mul(Get(s1,-dx,dy), float4x4(0.049561858177185,0.033446684479713,0.004720317199826,0.088091440498829,-0.108078896999359,-0.044876839965582,-0.057548467069864,-0.045498345047235,-0.075921259820461,-0.042502630501986,0.029202448204160,0.129731506109238,-0.019952401518822,0.097215004265308,0.092747576534748,0.029641639441252));
res += mul(Get(s1,0,-dy), float4x4(-0.148825690150261,0.102232210338116,0.176551893353462,-0.089928396046162,0.048376210033894,0.144915312528610,0.019191442057490,0.123678214848042,-0.132026895880699,-0.145914703607559,0.111252509057522,0.139771714806557,0.020112687721848,-0.028202647343278,-0.098582364618778,-0.233097687363625));
res += mul(Get(s1,0,0), float4x4(0.144238248467445,-0.027696637436748,-0.014772267080843,0.010164079256356,0.078908383846283,0.016021806746721,-0.006272017955780,-0.023908982053399,0.016968306154013,-0.063825845718384,-0.175701409578323,0.037515822798014,0.081334128975868,0.009987704455853,0.111576803028584,0.086477972567081));
res += mul(Get(s1,0,dy), float4x4(-0.110875658690929,0.027224233374000,-0.047053880989552,-0.085183791816235,-0.113713353872299,0.040919505059719,-0.010106103494763,-0.046929974108934,0.038955781608820,0.031176067888737,-0.023631684482098,-0.119851432740688,0.141139209270477,0.167414441704750,-0.062384214252234,0.148483917117119));
res += mul(Get(s1,dx,-dy), float4x4(0.049746815115213,0.027209904044867,0.141403481364250,-0.020967127755284,-0.068684987723827,-0.077386461198330,0.054652187973261,0.011833105236292,-0.015660434961319,-0.064608007669449,0.169390976428986,-0.115976363420486,-0.044974550604820,0.017032116651535,0.131994649767876,0.022271111607552));
res += mul(Get(s1,dx,0), float4x4(-0.013049781322479,0.019118545576930,0.015713388100266,-0.032222475856543,-0.118030935525894,-0.054744224995375,0.081360802054405,-0.083950415253639,-0.045475076884031,-0.009467267431319,-0.065269581973553,-0.049509584903717,-0.194445252418518,-0.073707304894924,-0.127379611134529,0.194156244397163));
res += mul(Get(s1,dx,dy), float4x4(-0.064589761197567,-0.155319496989250,-0.266492724418640,0.062086045742035,0.038822535425425,0.087096758186817,-0.197578534483910,-0.093681752681732,-0.157372400164604,0.029356764629483,-0.105853311717510,-0.148942038416862,0.042241357266903,0.014729439280927,-0.069898024201393,0.257669299840927));
res += mul(Get(s2,-dx,-dy), float4x4(-0.015771426260471,-0.208849072456360,0.064958728849888,-0.019349891692400,-0.217970654368401,-0.151305258274078,0.011248418129981,0.285341829061508,0.208703592419624,0.090030029416084,-0.202878892421722,0.007163371890783,0.064327530562878,0.004490314051509,-0.308021485805511,-0.143454357981682));
res += mul(Get(s2,-dx,0), float4x4(0.080740764737129,-0.125702321529388,0.113496601581573,-0.146544590592384,-0.017433807253838,0.084343187510967,-0.106441862881184,0.070062398910522,-0.038032673299313,0.198128536343575,-0.027808567509055,0.021363098174334,-0.054790709167719,0.183143615722656,0.016485275700688,0.160525590181351));
res += mul(Get(s2,-dx,dy), float4x4(-0.119512572884560,0.043854337185621,0.054656319320202,-0.201729699969292,-0.028213093057275,-0.089369602501392,0.062051497399807,-0.148226380348206,-0.135783910751343,0.059098061174154,-0.047091554850340,0.054376911371946,0.052680309861898,-0.108098909258842,-0.204501092433929,-0.069491647183895));
res += mul(Get(s2,0,-dy), float4x4(0.069316811859608,-0.181291639804840,-0.018653526902199,0.026389420032501,0.224194481968880,-0.106811583042145,-0.077003881335258,-0.044387459754944,0.048505377024412,-0.079726532101631,-0.060293860733509,-0.026957882568240,0.074089199304581,0.066519454121590,0.002850685967132,-0.025895193219185));
res += mul(Get(s2,0,0), float4x4(0.043468080461025,-0.079307660460472,-0.031269643455744,-0.047023016959429,-0.072750538587570,-0.067692935466766,-0.039976153522730,0.200128480792046,-0.194097578525543,-0.053718801587820,0.108503960072994,0.035646356642246,0.101451493799686,-0.090519294142723,0.200295105576515,0.103127345442772));
res += mul(Get(s2,0,dy), float4x4(0.042094781994820,-0.030888061970472,0.012148241512477,0.048278346657753,-0.039828728884459,0.022980680689216,0.057584665715694,-0.041882596910000,-0.046317443251610,0.040705576539040,0.026943493634462,-0.189609706401825,0.023755919188261,0.137683451175690,0.037072718143463,0.170645415782928));
res += mul(Get(s2,dx,-dy), float4x4(0.066140472888947,-0.171551674604416,-0.010671232827008,-0.091832250356674,-0.046932209283113,-0.030750567093492,0.125914007425308,-0.007548116613179,-0.047505155205727,0.107023641467094,0.047146186232567,-0.025561133399606,-0.221732482314110,0.227251887321472,0.041376393288374,-0.216420397162437));
res += mul(Get(s2,dx,0), float4x4(0.080328553915024,0.183599174022675,0.169767513871193,0.061648983508348,0.081597708165646,0.100494444370270,-0.018873089924455,0.011723407544196,0.084393709897995,-0.202174872159958,-0.176432222127914,-0.095556430518627,0.083262547850609,0.021119492128491,0.156491518020630,-0.046998582780361));
res += mul(Get(s2,dx,dy), float4x4(-0.183007523417473,0.129966169595718,-0.051376152783632,0.104700207710266,-0.193713009357452,0.181911557912827,0.097338922321796,0.029034024104476,-0.045173007994890,0.050997473299503,-0.168504819273949,-0.108290433883667,-0.105380177497864,0.053339056670666,0.026552589610219,0.083431094884872));
res += mul(Get(s3,-dx,-dy), float4x4(-0.112181581556797,0.123341463506222,-0.086209014058113,-0.059880252927542,0.120411835610867,0.208209544420242,-0.009188393130898,-0.050338391214609,-0.104995980858803,-0.092979162931442,-0.057966217398643,-0.059574592858553,0.114323996007442,-0.101541891694069,0.151311755180359,-0.120289504528046));
res += mul(Get(s3,-dx,0), float4x4(-0.118503868579865,0.287045687437057,0.051493514329195,-0.103515021502972,-0.020125482231379,0.096291892230511,0.087022580206394,-0.108249917626381,-0.033281326293945,0.051538050174713,-0.283417314291000,-0.009291337803006,0.099912092089653,0.205417141318321,0.200355440378189,-0.143286511301994));
res += mul(Get(s3,-dx,dy), float4x4(0.083815500140190,0.067081034183502,0.196543589234352,-0.044228475540876,0.021193500608206,0.012643469497561,-0.060592528432608,0.101791337132454,0.094839096069336,0.147070378065109,-0.194196149706841,-0.138890445232391,-0.016483243554831,0.031604118645191,0.169024720788002,-0.031204121187329));
res += mul(Get(s3,0,-dy), float4x4(0.105832599103451,0.191623076796532,0.022164940834045,-0.155464053153992,0.135947540402412,0.023148920387030,-0.097401626408100,-0.001774817123078,0.031630750745535,-0.153514280915260,0.135360866785049,0.070395939052105,0.118678770959377,-0.038233466446400,-0.081668138504028,-0.013378954492509));
res += mul(Get(s3,0,0), float4x4(-0.008219581097364,-0.108208969235420,0.078723073005676,0.093630418181419,0.137807846069336,-0.073801882565022,0.233746036887169,-0.043575204908848,-0.047432646155357,-0.092956840991974,0.008331857621670,0.022719457745552,0.014170713722706,-0.015984585508704,0.058609645813704,-0.153638958930969));
res += mul(Get(s3,0,dy), float4x4(0.045347232371569,0.141111448407173,0.021150395274162,-0.046043213456869,0.145521700382233,0.219101920723915,-0.000502740091179,0.021389264613390,-0.064937420189381,0.304167538881302,-0.078709997236729,0.007181273773313,-0.016358483582735,0.062805384397507,-0.157612130045891,-0.140499189496040));
res += mul(Get(s3,dx,-dy), float4x4(-0.118470013141632,-0.027279701083899,-0.097302347421646,0.118231214582920,0.035866808146238,-0.044610854238272,-0.121069535613060,0.074790216982365,-0.058307677507401,0.070779226720333,0.017067600041628,0.005561454221606,-0.057640194892883,-0.011079956777394,-0.114074178040028,0.017438353970647));
res += mul(Get(s3,dx,0), float4x4(0.031953621655703,0.065081298351288,0.166396632790565,0.116561591625214,0.070584118366241,0.033575870096684,0.235919579863548,0.182684943079948,0.058883283287287,0.129906192421913,-0.152186885476112,-0.075666718184948,0.087065480649471,-0.164173766970634,0.266871839761734,0.157140210270882));
res += mul(Get(s3,dx,dy), float4x4(-0.175220340490341,-0.037046179175377,-0.026585711166263,0.099849663674831,0.052531965076923,0.014149978756905,0.107910245656967,0.150132969021797,0.102571047842503,0.297711133956909,-0.075991295278072,-0.175733759999275,-0.053269252181053,-0.024297567084432,-0.104805745184422,0.103176526725292));
return max(float4(0,0,0,0), res);
}
