sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.108496271073818,-0.062081158161163,0.031270682811737,0.015289237722754,-0.094189628958702,-0.007566356565803,-0.015482867136598,0.153375074267387,-0.013754477724433,-0.087804920971394,0.010663810186088,-0.188998982310295,-0.072563268244267,-0.034234724938869,-0.059234458953142,-0.016922166571021));
res += mul(Get(s0,-dx,0), float4x4(-0.167958527803421,0.023444324731827,0.061566755175591,-0.010592200793326,-0.080045454204082,-0.052939672023058,-0.053155709058046,0.037211082875729,0.061618026345968,-0.040503583848476,0.002350039314479,-0.118068203330040,0.005608233157545,-0.035323213785887,-0.077872283756733,-0.044476047158241));
res += mul(Get(s0,-dx,dy), float4x4(0.192075029015541,-0.067784652113914,-0.067525021731853,0.051661837846041,0.002103981561959,-0.139388129115105,0.008949420414865,0.233250617980957,0.063572265207767,0.065782971680164,-0.057870503515005,-0.140952616930008,-0.015637708827853,0.007240695878863,-0.075447283685207,-0.015780771151185));
res += mul(Get(s0,0,-dy), float4x4(-0.104026913642883,-0.053505133837461,-0.134039372205734,-0.043998382985592,-0.052328735589981,-0.042325742542744,-0.005124922841787,0.023988239467144,-0.080991096794605,0.127526745200157,-0.026538914069533,-0.112279117107391,-0.034062612801790,-0.025797698646784,0.173880442976952,0.053452793508768));
res += mul(Get(s0,0,0), float4x4(-0.049428012222052,0.129930347204208,0.001731265336275,0.147618770599365,-0.056082785129547,0.020046703517437,-0.104509465396404,0.133935600519180,-0.014959761872888,0.079373359680176,-0.137154385447502,-0.065336503088474,-0.049454972147942,0.058558836579323,0.115016020834446,0.008781625889242));
res += mul(Get(s0,0,dy), float4x4(0.163166999816895,0.006741052959114,-0.058771468698978,-0.008796153590083,0.010391738265753,-0.095082759857178,0.053187076002359,0.045748196542263,0.005915765650570,-0.124556250870228,-0.115331098437309,-0.093803793191910,0.015189782716334,-0.036236707121134,0.070630587637424,0.026321955025196));
res += mul(Get(s0,dx,-dy), float4x4(-0.177413046360016,0.006279410794377,-0.090790107846260,-0.018436718732119,-0.045765414834023,-0.141274109482765,0.032068643718958,0.138348504900932,-0.068571656942368,0.187794655561447,-0.020735217258334,0.165117919445038,-0.108089856803417,-0.031336568295956,0.043732404708862,-0.074548177421093));
res += mul(Get(s0,dx,0), float4x4(-0.117130756378174,0.091230727732182,-0.041108865290880,0.122690588235855,-0.103678569197655,0.028282217681408,0.086898930370808,-0.129473000764847,-0.127766489982605,0.079957462847233,-0.078824199736118,0.153510570526123,0.023620579391718,-0.047264754772186,0.024319892749190,0.023278433829546));
res += mul(Get(s0,dx,dy), float4x4(0.086529970169067,-0.080415546894073,0.113679818809032,-0.046927727758884,-0.051178347319365,0.036800678819418,0.234006047248840,-0.011752555146813,-0.025983508676291,0.036961212754250,-0.110507957637310,-0.036540087312460,-0.090182766318321,-0.229343414306641,-0.007233266253024,0.046492055058479));
res += mul(Get(s1,-dx,-dy), float4x4(0.098004214465618,0.026256887242198,0.033806342631578,0.001349478960037,0.092403240501881,0.004693038295954,0.076910465955734,-0.128587722778320,0.071172654628754,-0.050944883376360,-0.088706053793430,0.005048776511103,-0.003023670054972,0.141022220253944,0.043397162109613,-0.107131563127041));
res += mul(Get(s1,-dx,0), float4x4(-0.031913869082928,0.002094309777021,-0.130973353981972,0.057207208126783,-0.043826438486576,0.050608191639185,-0.024526342749596,-0.126194044947624,0.007873576134443,-0.078594699501991,-0.037191551178694,-0.049791805446148,-0.024764554575086,0.006723356433213,0.159440830349922,-0.075195468962193));
res += mul(Get(s1,-dx,dy), float4x4(-0.024232242256403,-0.090117923915386,-0.028669247403741,0.086266793310642,-0.111050367355347,0.056937035173178,0.017421478405595,0.096441484987736,0.282059639692307,-0.092355370521545,-0.057937104254961,0.006823147181422,-0.003933303058147,0.104599498212337,-0.018156174570322,-0.161529272794724));
res += mul(Get(s1,0,-dy), float4x4(0.080436937510967,0.033829938620329,0.159744039177895,0.052461173385382,0.055418297648430,-0.046113390475512,0.064214698970318,-0.038296293467283,-0.052786193788052,0.025731932371855,-0.028233859688044,0.110281102359295,0.004574386868626,0.045151684433222,0.000818735919893,0.092124201357365));
res += mul(Get(s1,0,0), float4x4(-0.046067330986261,0.013291660696268,-0.093296401202679,-0.046264253556728,0.036375749856234,-0.094177804887295,-0.044318918138742,-0.071370974183083,-0.052717398852110,-0.011436137370765,0.117141202092171,-0.009894378483295,-0.022053224965930,0.017576027661562,0.039665851742029,0.014392229728401));
res += mul(Get(s1,0,dy), float4x4(-0.057545393705368,0.010662824846804,-0.064767636358738,0.069308400154114,-0.030643247067928,0.013798286207020,-0.034464556723833,0.056490391492844,0.042944364249706,-0.050290815532207,0.030370034277439,-0.085932873189449,-0.026580104604363,0.051212392747402,0.000981844845228,-0.000132819666760));
res += mul(Get(s1,dx,-dy), float4x4(0.112671017646790,-0.110441163182259,0.074426241219044,-0.021489934995770,0.024306776002049,-0.123834967613220,-0.046896345913410,0.016096422448754,-0.125286802649498,-0.013995792716742,-0.019658423960209,0.090681433677673,-0.073813624680042,-0.083048112690449,-0.077851437032223,0.253255873918533));
res += mul(Get(s1,dx,0), float4x4(-0.001492952229455,0.079100236296654,0.051755070686340,-0.019985303282738,0.054473664611578,-0.139535933732986,-0.092202715575695,0.042464330792427,-0.075168631970882,-0.053974151611328,0.055206902325153,-0.179250165820122,-0.088104724884033,-0.107376724481583,-0.108473993837833,0.053003456443548));
res += mul(Get(s1,dx,dy), float4x4(0.042863380163908,0.038237914443016,0.048643212765455,-0.069078594446182,0.191465944051743,-0.003235154785216,-0.094321519136429,0.018479192629457,0.045230094343424,-0.134111657738686,-0.014685682952404,0.048751395195723,0.049091521650553,-0.099405147135258,-0.050825770944357,0.061674572527409));
res += mul(Get(s2,-dx,-dy), float4x4(0.057495184242725,0.029190512374043,-0.018452806398273,0.016218515112996,0.003564961021766,-0.063073530793190,-0.053506873548031,-0.071999572217464,-0.029418285936117,-0.017291158437729,0.105646491050720,-0.078494578599930,0.073287628591061,0.072278887033463,-0.057506158947945,-0.165676444768906));
res += mul(Get(s2,-dx,0), float4x4(-0.043121449649334,0.037261757999659,-0.052773471921682,0.023703480139375,-0.003011747030541,-0.021264249458909,-0.043733827769756,0.014720196835697,0.068851888179779,0.078932650387287,0.111003361642361,-0.022249666973948,0.018153063952923,-0.080020040273666,0.094630025327206,-0.145968422293663));
res += mul(Get(s2,-dx,dy), float4x4(-0.032971344888210,-0.009760727174580,-0.055410187691450,-0.091896384954453,-0.111231230199337,0.166165068745613,-0.134258195757866,-0.011246493086219,0.032476246356964,-0.047034479677677,0.066843204200268,-0.023501224815845,-0.064646340906620,0.119777753949165,-0.017694775015116,0.056342579424381));
res += mul(Get(s2,0,-dy), float4x4(-0.096113808453083,-0.018384799361229,0.176463052630424,-0.120171852409840,-0.003066184930503,-0.187577947974205,-0.015026610344648,-0.013149251230061,0.062390115112066,-0.019785566255450,0.024008262902498,-0.083401985466480,0.103842884302139,-0.061021883040667,0.194056436419487,-0.183267861604691));
res += mul(Get(s2,0,0), float4x4(-0.129570409655571,-0.115635879337788,0.025105476379395,-0.099934153258801,0.011623654514551,-0.208190098404884,-0.033118888735771,0.037679631263018,-0.010388491675258,0.061697497963905,0.113339327275753,0.085045434534550,-0.063247084617615,0.014877500012517,0.213789358735085,-0.078322686254978));
res += mul(Get(s2,0,dy), float4x4(-0.116139963269234,-0.014859755523503,-0.061268854886293,0.049690600484610,-0.116521589457989,-0.033892799168825,-0.077797293663025,0.102034524083138,-0.011575695127249,-0.011687111109495,-0.029522646218538,-0.018364908173680,-0.034612394869328,0.110221236944199,0.022649966180325,0.051099672913551));
res += mul(Get(s2,dx,-dy), float4x4(-0.035469025373459,0.157962560653687,0.087418965995312,0.009587818756700,0.000839171872940,-0.210295706987381,0.061735786497593,-0.093306355178356,-0.027640694752336,-0.097511149942875,-0.062320921570063,-0.010862865485251,-0.038592264056206,0.020972846075892,0.005750016309321,0.053161509335041));
res += mul(Get(s2,dx,0), float4x4(-0.109019227325916,0.058244973421097,-0.010772447101772,0.072358965873718,0.074241846799850,-0.171281754970551,-0.139360219240189,-0.044592920690775,-0.033212631940842,-0.050862614065409,-0.034769896417856,0.053690198808908,0.002632104558870,-0.002505593001842,-0.066607557237148,-0.023492179811001));
res += mul(Get(s2,dx,dy), float4x4(-0.033881869167089,0.061485365033150,-0.047166969627142,-0.130559846758842,-0.032953787595034,0.032350838184357,-0.059429023414850,-0.068897552788258,0.016259580850601,-0.193057775497437,-0.033213622868061,0.069514431059361,-0.148754194378853,-0.129208445549011,-0.049075789749622,-0.020305797457695));
res += mul(Get(s3,-dx,-dy), float4x4(-0.043126739561558,-0.066039860248566,-0.037317644804716,0.010172958485782,-0.039067376405001,0.182837307453156,-0.013659229502082,0.063534237444401,-0.053081929683685,0.126007929444313,-0.012034868821502,0.010696121491492,0.083251006901264,0.007147090509534,-0.011683336459100,-0.044021818786860));
res += mul(Get(s3,-dx,0), float4x4(-0.008973354473710,0.124779269099236,0.118748106062412,-0.126205027103424,-0.036997821182013,0.164208874106407,-0.078896068036556,0.010336000472307,0.153383687138557,-0.079936355352402,0.070302814245224,0.080343432724476,-0.000927441578824,-0.061600375920534,-0.034601308405399,0.068631768226624));
res += mul(Get(s3,-dx,dy), float4x4(-0.056528411805630,0.075339533388615,-0.020632069557905,-0.054442893713713,0.053040273487568,0.086944803595543,-0.134293109178543,-0.062573179602623,0.080947019159794,0.105888217687607,-0.012393522076309,0.088536158204079,0.026379927992821,-0.020589580759406,0.060198027640581,0.021675935015082));
res += mul(Get(s3,0,-dy), float4x4(0.049747161567211,-0.078722387552261,-0.126618310809135,0.083441078662872,-0.057417251169682,-0.007585694082081,0.025735830888152,-0.161903217434883,0.068343207240105,0.054935846477747,-0.031131811439991,0.041770275682211,-0.081307709217072,-0.091074772179127,-0.016374183818698,-0.123673111200333));
res += mul(Get(s3,0,0), float4x4(-0.005670757032931,0.121073290705681,0.007641802541912,-0.054184902459383,-0.059208981692791,0.115603722631931,-0.028674792498350,-0.031086999922991,-0.009821782819927,-0.026433214545250,0.089310377836227,-0.039044886827469,0.004339568782598,-0.090739972889423,0.088963180780411,-0.067531362175941));
res += mul(Get(s3,0,dy), float4x4(0.037892851978540,-0.093117967247963,-0.039529692381620,-0.084156014025211,0.029882948845625,-0.011117205955088,-0.047914616763592,-0.024288102984428,0.087634727358818,-0.039804976433516,0.036758854985237,-0.019586853682995,0.096734754741192,0.060985561460257,0.026199096813798,0.024527162313461));
res += mul(Get(s3,dx,-dy), float4x4(-0.112473398447037,-0.020341755822301,-0.067754492163658,0.007048647850752,-0.017681676894426,-0.043908346444368,-0.027981797233224,0.049491100013256,0.359506279230118,0.218829214572906,0.034233316779137,0.144532144069672,-0.066625863313675,0.064820811152458,0.066924639046192,0.007604431360960));
res += mul(Get(s3,dx,0), float4x4(0.037228174507618,0.133708119392395,0.038411092013121,-0.044804960489273,-0.030701851472259,0.039794381707907,-0.090778641402721,0.164213120937347,0.043813824653625,0.215841591358185,0.039044152945280,0.098179861903191,-0.004720905795693,0.152519956231117,0.056597352027893,0.037093684077263));
res += mul(Get(s3,dx,dy), float4x4(0.130355775356293,-0.003420578781515,0.023958528414369,-0.096418894827366,0.056152310222387,0.058004513382912,-0.069392368197441,0.084569767117500,0.020817261189222,0.089197158813477,0.095367766916752,0.036053378134966,-0.066553153097630,0.198196545243263,0.084853582084179,0.020295036956668));
return max(float4(0,0,0,0), res);
}
