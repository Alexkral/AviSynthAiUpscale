sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.090862438082695,-0.027190560474992,0.178454026579857,0.304183930158615,-0.010597527027130,-0.110008984804153,-0.139860615134239,-0.100363433361053,0.012043350376189,0.022504350170493,0.003183460095897,-0.133361339569092,-0.104401908814907,-0.089041031897068,0.020060129463673,-0.018625801429152));
res += mul(Get(s0,-dx,0), float4x4(-0.136119171977043,-0.050147432833910,0.036581881344318,-0.034197490662336,0.010637006722391,0.019968166947365,-0.025807090103626,-0.081516422331333,0.058421254158020,0.117845334112644,-0.045642182230949,0.016426580026746,0.093473680317402,-0.027874056249857,-0.202621713280678,-0.040572207421064));
res += mul(Get(s0,-dx,dy), float4x4(0.056991003453732,-0.006563604343683,0.118057779967785,-0.055453635752201,-0.095086939632893,-0.030969606712461,-0.091154284775257,-0.003991738893092,-0.040216363966465,0.277386337518692,0.071658723056316,-0.114787220954895,0.006159395445138,-0.096182182431221,-0.064052239060402,-0.027423586696386));
res += mul(Get(s0,0,-dy), float4x4(-0.033859547227621,0.089631125330925,-0.034699629992247,-0.205723538994789,-0.039833698421717,0.209509700536728,0.124366320669651,0.110057532787323,-0.019308917224407,-0.122601106762886,0.257741063833237,-0.058470051735640,0.071447461843491,-0.168375045061111,-0.070533439517021,0.059311233460903));
res += mul(Get(s0,0,0), float4x4(0.197076514363289,0.137287020683289,-0.007927916012704,0.006882848683745,-0.115334942936897,-0.125294938683510,0.043071731925011,0.046562217175961,0.018858762457967,0.155882418155670,0.170317098498344,-0.001153601915576,-0.000798139313702,0.110712334513664,-0.026263719424605,0.035484049469233));
res += mul(Get(s0,0,dy), float4x4(-0.144671052694321,-0.010861679911613,0.085304483771324,-0.045886524021626,0.066950745880604,0.002348307752982,-0.043397612869740,-0.001719905412756,0.143883496522903,0.038544233888388,0.092066571116447,0.021330611780286,-0.064871378242970,0.123102441430092,-0.059578452259302,-0.080617167055607));
res += mul(Get(s0,dx,-dy), float4x4(0.146975278854370,-0.063084900379181,0.147240579128265,0.026480691507459,0.025352938100696,-0.132162138819695,0.121438965201378,-0.150438115000725,0.060806695371866,0.037057686597109,0.143968820571899,-0.056804884225130,0.011492507532239,-0.140403896570206,-0.003714556340128,-0.171632349491119));
res += mul(Get(s0,dx,0), float4x4(0.066197134554386,0.038477081805468,0.197450086474419,0.059912558645010,0.071773804724216,-0.000869565235917,-0.078377760946751,0.204706519842148,-0.012880078516901,-0.030010739341378,0.056300986558199,-0.056854013353586,0.021844431757927,0.188371956348419,-0.017077427357435,0.063348025083542));
res += mul(Get(s0,dx,dy), float4x4(-0.141896963119507,0.030728738754988,0.003854414913803,-0.070066198706627,0.099069289863110,-0.017095927149057,0.116305589675903,0.000408320716815,0.021251413971186,0.000133356952574,-0.036896556615829,-0.068950824439526,-0.028808008879423,-0.133479028940201,-0.174124404788017,-0.053715322166681));
res += mul(Get(s1,-dx,-dy), float4x4(-0.213943645358086,0.014245407655835,0.125291913747787,0.095208585262299,-0.018460061401129,-0.118564635515213,0.094957232475281,0.245797425508499,-0.222851276397705,-0.164636299014091,0.059548880904913,-0.020318416878581,-0.152519837021828,0.004945580847561,-0.026903519406915,0.077224664390087));
res += mul(Get(s1,-dx,0), float4x4(-0.043665565550327,0.042182281613350,-0.117795117199421,0.113134749233723,0.042027462273836,-0.107872806489468,0.184975177049637,-0.073796115815639,0.091495290398598,-0.170760974287987,0.015777703374624,0.050163861364126,0.061018932610750,-0.131190612912178,0.049182880669832,-0.018256550654769));
res += mul(Get(s1,-dx,dy), float4x4(-0.048473063856363,0.084214374423027,-0.105112165212631,-0.025402078405023,-0.137675181031227,-0.045946374535561,-0.128734976053238,-0.016575084999204,-0.020057287067175,0.262760668992996,-0.128069087862968,0.024158736690879,-0.022651473060250,0.176942050457001,0.132330194115639,0.044093720614910));
res += mul(Get(s1,0,-dy), float4x4(-0.074851952493191,-0.108263723552227,0.148301064968109,-0.103086173534393,-0.039150174707174,0.093263320624828,0.007328824140131,0.016632711514831,0.082349039614201,0.118178926408291,0.148340880870819,-0.103233970701694,-0.115722067654133,0.087238706648350,-0.082223214209080,0.046265479177237));
res += mul(Get(s1,0,0), float4x4(-0.075036495923996,0.136449456214905,0.043264541774988,-0.018132839351892,0.020261652767658,-0.033209502696991,-0.149992346763611,0.074630819261074,0.163733899593353,0.116044014692307,-0.083643846213818,-0.167912706732750,-0.078095667064190,0.152445018291473,0.148573666810989,-0.039778333157301));
res += mul(Get(s1,0,dy), float4x4(-0.109619848430157,0.140427500009537,-0.095224246382713,-0.050562344491482,-0.075188934803009,-0.036300674080849,0.192357212305069,0.092950403690338,0.081985816359520,-0.076615534722805,0.035958487540483,-0.079186044633389,0.038708761334419,-0.101562634110451,0.046841111034155,0.220624133944511));
res += mul(Get(s1,dx,-dy), float4x4(0.003990980796516,0.114679798483849,0.199060499668121,0.080828048288822,-0.097351245582104,0.072674661874771,-0.039975900202990,-0.101454623043537,-0.040538340806961,0.013346246443689,0.027726393193007,0.076069213449955,-0.177690029144287,-0.096692115068436,-0.007007339037955,-0.007121579721570));
res += mul(Get(s1,dx,0), float4x4(0.033823560923338,-0.048771824687719,0.031406585127115,-0.058975208550692,-0.137816205620766,0.069798104465008,0.048032518476248,-0.000152326625539,0.101278789341450,-0.102005310356617,0.068467937409878,0.151178449392319,-0.216600313782692,-0.069279946386814,0.030422328040004,0.048202268779278));
res += mul(Get(s1,dx,dy), float4x4(0.190326258540154,-0.130217641592026,-0.071363337337971,-0.002467025304213,-0.103579945862293,-0.021539196372032,0.011199272237718,0.080577053129673,-0.043678078800440,0.117807030677795,0.073765888810158,-0.206859409809113,-0.037631407380104,-0.055762637406588,-0.061744976788759,-0.062155552208424));
res += mul(Get(s2,-dx,-dy), float4x4(-0.075733773410320,-0.166137963533401,0.067121617496014,0.020478818565607,-0.108272321522236,-0.131395012140274,0.174407631158829,0.224221184849739,-0.144514724612236,0.067644476890564,0.031361859291792,-0.030974669381976,-0.118149273097515,-0.105057530105114,0.069872401654720,0.159047946333885));
res += mul(Get(s2,-dx,0), float4x4(-0.052133034914732,-0.007580960635096,0.068069666624069,-0.196493729948997,-0.138209670782089,-0.081549726426601,-0.181634128093719,-0.137804195284843,0.013419071212411,-0.005113210063428,0.159546881914139,-0.014883368276060,0.138024657964706,-0.039683122187853,-0.060007188469172,-0.122839115560055));
res += mul(Get(s2,-dx,dy), float4x4(0.081270121037960,-0.065774403512478,-0.064393281936646,0.056160967797041,-0.099899604916573,-0.032014686614275,-0.162127286195755,-0.093867219984531,0.230616033077240,-0.159575402736664,0.153412938117981,-0.015424923039973,0.115854494273663,-0.029476076364517,0.004330506082624,0.057316407561302));
res += mul(Get(s2,0,-dy), float4x4(0.144817724823952,-0.034119445830584,0.090954609215260,-0.139576002955437,0.005559595301747,-0.153761431574821,0.007625303696841,0.133864402770996,-0.004598495084792,-0.054117564111948,0.155165001749992,0.004208031576127,-0.182117238640785,-0.065720759332180,-0.051620218902826,-0.199378967285156));
res += mul(Get(s2,0,0), float4x4(0.011901358142495,0.039687518030405,-0.097401984035969,0.074715197086334,-0.088132284581661,0.205394580960274,-0.040379788726568,-0.164286747574806,-0.136286735534668,-0.052015583962202,0.085891216993332,-0.034793693572283,-0.025351366028190,-0.030592899769545,0.109729543328285,-0.019846357405186));
res += mul(Get(s2,0,dy), float4x4(-0.057621158659458,0.108772411942482,0.156517609953880,-0.013385547325015,0.121173933148384,-0.011076443828642,-0.241409659385681,-0.176482155919075,0.173078477382660,0.138585478067398,-0.016758456826210,-0.068551480770111,-0.014773669652641,0.031855069100857,-0.063496187329292,-0.106747381389141));
res += mul(Get(s2,dx,-dy), float4x4(-0.029593095183372,0.034725561738014,0.035361390560865,0.036842759698629,-0.102022007107735,0.003215891309083,0.169396966695786,-0.075865164399147,-0.023226704448462,-0.107380248606205,-0.077240318059921,-0.094872273504734,-0.077175267040730,0.054713118821383,-0.096443608403206,-0.089697241783142));
res += mul(Get(s2,dx,0), float4x4(0.033167220652103,0.038871057331562,-0.033707767724991,-0.144473209977150,0.018039850518107,0.060967970639467,-0.036678820848465,-0.063719823956490,-0.043430563062429,0.032571200281382,0.002894163830206,-0.003277650335804,-0.166821703314781,-0.166643917560577,-0.162472799420357,0.046727050095797));
res += mul(Get(s2,dx,dy), float4x4(-0.132027462124825,0.088429287075996,-0.029874021187425,-0.096696905791759,0.219064876437187,-0.137308239936829,-0.031129069626331,-0.125718787312508,0.104172319173813,-0.161170646548271,-0.073869325220585,0.121257700026035,-0.013687727972865,-0.231594160199165,0.089630290865898,-0.138416901230812));
res += mul(Get(s3,-dx,-dy), float4x4(0.029999155551195,0.060195870697498,0.040866974741220,0.119851201772690,-0.014387398026884,0.081188417971134,-0.008188691921532,-0.126377880573273,0.069685481488705,-0.124969862401485,0.083539992570877,-0.014594828709960,0.047774787992239,0.129194378852844,0.046284500509501,-0.013484371826053));
res += mul(Get(s3,-dx,0), float4x4(0.077780321240425,0.159062772989273,0.101891830563545,0.073026947677135,0.084533840417862,0.215870127081871,0.097628824412823,0.045617539435625,0.126789867877960,0.156629711389542,-0.060680050402880,0.027365654706955,-0.000518464716151,0.216718643903732,0.082294099032879,-0.071804337203503));
res += mul(Get(s3,-dx,dy), float4x4(0.055964495986700,-0.006803378928453,0.099194273352623,-0.189030647277832,-0.075292296707630,-0.062416478991508,-0.191249608993530,0.084239967167377,-0.095582813024521,-0.039506357163191,-0.046721734106541,-0.066591590642929,0.023549145087600,0.023599585518241,-0.176585078239441,-0.007684712298214));
res += mul(Get(s3,0,-dy), float4x4(-0.126847580075264,-0.063407771289349,0.021465910598636,0.077980645000935,-0.107840485870838,0.274640977382660,0.147953778505325,-0.122044578194618,-0.026136148720980,-0.053136695176363,-0.054914712905884,-0.010265800170600,0.046184465289116,0.213707670569420,-0.129181653261185,0.105244562029839));
res += mul(Get(s3,0,0), float4x4(-0.070596389472485,-0.010202833451331,0.127708539366722,-0.034081824123859,-0.024389892816544,0.052318755537271,-0.064064569771290,-0.043760728091002,-0.064272902905941,0.132499292492867,-0.024826476350427,0.153385713696480,0.001065938500687,-0.065435774624348,-0.121963672339916,-0.125307589769363));
res += mul(Get(s3,0,dy), float4x4(0.112510353326797,-0.041757367551327,0.080757193267345,-0.018841840326786,-0.067919671535492,0.012966173700988,0.084003359079361,0.055086918175220,-0.177516311407089,0.038726042956114,-0.270566552877426,-0.088183730840683,-0.086081534624100,-0.011442616581917,-0.013039586134255,-0.060076050460339));
res += mul(Get(s3,dx,-dy), float4x4(-0.065191566944122,-0.010883326642215,0.074179902672768,-0.038177557289600,-0.185260415077209,-0.017737075686455,0.236398071050644,-0.069671235978603,-0.061734892427921,0.009914534166455,-0.047766137868166,-0.126406058669090,0.096448525786400,-0.086401470005512,0.079405985772610,-0.194129005074501));
res += mul(Get(s3,dx,0), float4x4(0.051570907235146,0.113744616508484,-0.022751782089472,-0.040953151881695,-0.069035984575748,-0.153728559613228,0.065906375646591,0.027433535084128,0.060025539249182,0.088617265224457,-0.079753242433071,0.031393989920616,-0.026424949988723,0.130123421549797,0.021713998168707,0.009897387586534));
res += mul(Get(s3,dx,dy), float4x4(-0.064169600605965,-0.143557444214821,0.101655676960945,0.085570760071278,-0.010574866086245,-0.101961106061935,-0.105276629328728,-0.070598743855953,0.057247273623943,0.158883184194565,-0.004815635737032,-0.013233806006610,0.052413571625948,-0.082073286175728,0.078479081392288,0.096142418682575));
return max(float4(0,0,0,0), res);
}
