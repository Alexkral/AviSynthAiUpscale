sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.093846850097179,-0.167847216129303,-0.070352092385292,0.282966405153275,0.074349023401737,0.151564449071884,-0.045722577720881,-0.154392585158348,0.048903521150351,0.025744656100869,0.121320076286793,-0.044207494705915,-0.066301494836807,-0.033776808530092,-0.049381628632545,-0.057852841913700));
res += mul(Get(s0,-dx,0), float4x4(-0.003470628522336,-0.126256108283997,0.002524938201532,-0.002877964172512,-0.000660785182845,0.092573769390583,0.019283149391413,-0.080630823969841,-0.027303976938128,0.140709117054939,0.126947999000549,-0.127060219645500,-0.018646944314241,0.145130455493927,0.127675443887711,-0.067119121551514));
res += mul(Get(s0,-dx,dy), float4x4(0.079167924821377,-0.042242523282766,-0.179422438144684,-0.021097002550960,-0.094116374850273,0.098947815597057,0.071019537746906,0.006171098444611,-0.045585509389639,0.188951522111893,0.054727260023355,-0.067608416080475,0.138901114463806,-0.018934633582830,0.070381537079811,-0.103628754615784));
res += mul(Get(s0,0,-dy), float4x4(-0.076321057975292,-0.097415730357170,0.125507131218910,-0.153215169906616,0.102223478257656,0.056636236608028,-0.058393213897943,0.063272133469582,0.031999923288822,0.044383864849806,0.035487703979015,0.127443209290504,-0.022547839209437,-0.157430753111839,0.031862217932940,0.087603010237217));
res += mul(Get(s0,0,0), float4x4(0.030093345791101,-0.004926713183522,-0.106584407389164,0.015183734707534,0.002000628970563,0.035239189863205,0.039007034152746,-0.017314502969384,-0.032497081905603,0.050451014190912,-0.030033014714718,0.009127801284194,-0.111773483455181,-0.039130907505751,0.015802588313818,0.035407256335020));
res += mul(Get(s0,0,dy), float4x4(0.021584942936897,0.089351959526539,-0.022418478503823,0.020190898329020,0.012131039984524,0.077245377004147,0.045391637831926,0.032924272119999,-0.110447116196156,-0.025685274973512,-0.065258421003819,0.007620301097631,0.250399947166443,0.033750642091036,-0.079453371465206,0.071201510727406));
res += mul(Get(s0,dx,-dy), float4x4(-0.064328394830227,0.103402726352215,0.021012794226408,-0.096440553665161,-0.034865472465754,-0.078634999692440,-0.034865308552980,0.056935023516417,-0.023044070228934,-0.009264466352761,0.047142837196589,0.015357012860477,0.042613185942173,-0.099941045045853,0.038344018161297,-0.096044138073921));
res += mul(Get(s0,dx,0), float4x4(0.044564429670572,0.012528292834759,0.003641698276624,-0.015784440562129,-0.057179395109415,-0.026412818580866,-0.028402948752046,-0.125710651278496,0.029875101521611,0.064845882356167,-0.069269739091396,-0.145607769489288,0.342774599790573,-0.008647921495140,0.022524282336235,-0.169230341911316));
res += mul(Get(s0,dx,dy), float4x4(-0.041166644543409,0.056238766759634,0.073503188788891,0.032959282398224,0.051568288356066,-0.048084527254105,-0.009300385601819,-0.098472990095615,-0.152489170432091,-0.044384978711605,0.006846191361547,0.031557694077492,0.158292636275291,-0.010949902236462,-0.054903507232666,0.150806128978729));
res += mul(Get(s1,-dx,-dy), float4x4(0.056348677724600,0.044857848435640,-0.066671110689640,0.117385707795620,0.007098257541656,0.089646100997925,-0.034459676593542,-0.070154368877411,-0.014111609198153,-0.026465095579624,-0.042726967483759,0.015880122780800,-0.074828237295151,-0.017145337536931,-0.223907157778740,0.108443371951580));
res += mul(Get(s1,-dx,0), float4x4(0.033079333603382,-0.059676814824343,0.062653765082359,-0.122863203287125,-0.040595814585686,-0.114777453243732,-0.106753960251808,-0.114393666386604,0.006071155890822,-0.057580295950174,-0.031063074246049,-0.150575980544090,-0.065397001802921,-0.093771427869797,0.013788513839245,-0.064316548407078));
res += mul(Get(s1,-dx,dy), float4x4(0.017890475690365,0.097273498773575,-0.030784007161856,-0.041773829609156,0.107084445655346,-0.026553478091955,-0.133866682648659,0.060465194284916,-0.040646664798260,-0.090255036950111,-0.024878580123186,0.184798941016197,-0.095381788909435,0.236148491501808,-0.017007784917951,-0.121776111423969));
res += mul(Get(s1,0,-dy), float4x4(-0.015070779249072,-0.097101695835590,-0.043202862143517,-0.052063632756472,-0.129504457116127,0.041794657707214,-0.110253505408764,0.016280651092529,0.172129169106483,-0.052863378077745,-0.006092829164118,-0.015020343475044,-0.122734248638153,0.139690756797791,0.389629602432251,0.071828931570053));
res += mul(Get(s1,0,0), float4x4(-0.023932002484798,0.251214921474457,0.021813550963998,-0.034557979553938,0.118620827794075,-0.089184693992138,-0.009880134835839,-0.109757132828236,-0.004714135546237,-0.024767244234681,0.022741934284568,-0.054065529257059,-0.100935079157352,-0.033301576972008,0.056205410510302,0.041069906204939));
res += mul(Get(s1,0,dy), float4x4(0.009571539238095,-0.006070688832551,0.032173972576857,0.046942587941885,0.137849390506744,-0.005321107804775,0.035351891070604,-0.018468057736754,-0.085556589066982,-0.115291438996792,-0.007702655624598,0.149277925491333,-0.147651225328445,0.076258189976215,-0.043047625571489,0.118496395647526));
res += mul(Get(s1,dx,-dy), float4x4(-0.094662159681320,0.133869051933289,-0.114806778728962,-0.060634285211563,0.045413359999657,0.036746520549059,-0.033273875713348,0.055413682013750,0.116076119244099,-0.087153702974319,-0.033256147056818,-0.026548722758889,-0.101224519312382,0.087153784930706,0.042939767241478,-0.042373355478048));
res += mul(Get(s1,dx,0), float4x4(-0.059091225266457,-0.214975312352180,-0.097699493169785,-0.082323208451271,0.145195946097374,-0.113944552838802,-0.091136671602726,-0.055818188935518,0.075721189379692,0.039634570479393,0.009090486913919,-0.120312348008156,-0.149789586663246,0.034080199897289,-0.159670099616051,-0.061663098633289));
res += mul(Get(s1,dx,dy), float4x4(-0.010093242861331,0.077304542064667,-0.037658359855413,0.033094856888056,0.031582199037075,-0.097198188304901,0.000311623763992,-0.002896940102801,0.000297102815239,-0.036143120378256,0.040537908673286,0.096121281385422,-0.058571495115757,0.048906266689301,0.018515601754189,-0.162214428186417));
res += mul(Get(s2,-dx,-dy), float4x4(0.172840267419815,-0.102185919880867,-0.076014801859856,0.049890492111444,0.046949543058872,0.148771464824677,0.036671265959740,0.057207532227039,-0.066349938511848,-0.005803329870105,0.080062590539455,0.174688950181007,-0.056907478719950,-0.002098080469295,-0.088229604065418,-0.042218819260597));
res += mul(Get(s2,-dx,0), float4x4(-0.040558293461800,0.005391882266849,0.047067053616047,-0.149732246994972,-0.081302218139172,0.005984214600176,0.135435819625854,-0.116371355950832,-0.041587796062231,0.038743108510971,-0.054535727947950,0.063760921359062,-0.005849631968886,0.090135693550110,-0.053337220102549,0.034910112619400));
res += mul(Get(s2,-dx,dy), float4x4(-0.053091008216143,0.031384907662868,0.099698886275291,-0.132463008165359,-0.036885060369968,0.020206039771438,0.007204725872725,-0.158954590559006,0.115495353937149,0.083513252437115,0.007366918027401,-0.116242960095406,0.199765264987946,0.013998682610691,-0.081533990800381,-0.052734557539225));
res += mul(Get(s2,0,-dy), float4x4(0.014894013293087,-0.029656823724508,0.053334847092628,0.066959977149963,0.086173214018345,0.027214819565415,0.088122695684433,0.178936377167702,0.021241027861834,0.068664051592350,0.181387573480606,0.078946746885777,0.014362630434334,-0.060189750045538,0.079866647720337,0.260090976953506));
res += mul(Get(s2,0,0), float4x4(0.161716252565384,0.009186764247715,0.064219236373901,0.160846754908562,-0.002361010061577,0.209780797362328,0.013057415373623,0.095339030027390,0.018097575753927,0.094772972166538,0.103585727512836,0.094620272517204,0.086649745702744,-0.027599068358541,0.000803942559287,0.155073583126068));
res += mul(Get(s2,0,dy), float4x4(0.253655374050140,0.031443264335394,-0.025783112272620,0.152598977088928,-0.070132434368134,-0.059219632297754,0.036328256130219,0.025638334453106,0.007903511635959,0.018911344930530,-0.020609676837921,-0.156419515609741,0.013746079057455,0.110539883375168,-0.038491871207952,0.133078083395958));
res += mul(Get(s2,dx,-dy), float4x4(-0.086924530565739,0.069865949451923,0.048397835344076,-0.093144021928310,-0.005300806835294,-0.044995114207268,0.002925261389464,0.064141273498535,-0.130011230707169,0.055044502019882,0.052809253334999,-0.073440462350845,-0.052860688418150,-0.076675340533257,-0.007809025701135,-0.019106680527329));
res += mul(Get(s2,dx,0), float4x4(-0.048346064984798,0.087864115834236,-0.086528643965721,-0.037389092147350,-0.007422504946589,-0.057542797178030,-0.128780722618103,0.024986959993839,-0.013513280078769,-0.123144373297691,0.095933377742767,-0.061137907207012,-0.019945908337831,-0.133782491087914,0.023836972191930,-0.157157361507416));
res += mul(Get(s2,dx,dy), float4x4(0.033132918179035,0.087120376527309,0.032835565507412,-0.048276811838150,-0.043339345604181,-0.009366007521749,-0.062661372125149,0.050240237265825,-0.060893867164850,-0.079400107264519,-0.027966607362032,0.025333952158689,-0.139202371239662,-0.062793388962746,0.024805672466755,-0.042517684400082));
res += mul(Get(s3,-dx,-dy), float4x4(-0.043455030769110,-0.021391356363893,-0.009907805360854,0.018537487834692,-0.026196319609880,0.011906757019460,-0.082396075129509,-0.065263085067272,0.064232178032398,0.062322568148375,0.013116860762239,-0.086300082504749,0.092062748968601,-0.227553680539131,-0.072464339435101,-0.048489786684513));
res += mul(Get(s3,-dx,0), float4x4(-0.061417885124683,-0.064396128058434,0.020721213892102,-0.039420001208782,0.010683828033507,0.009545160457492,-0.027059325948358,0.087443396449089,-0.034686062484980,0.210590973496437,0.095698259770870,-0.135102793574333,-0.113586753606796,-0.099112465977669,-0.102165259420872,0.165318816900253));
res += mul(Get(s3,-dx,dy), float4x4(-0.154727265238762,-0.058493178337812,-0.027236284688115,0.095071256160736,0.066144280135632,0.043572016060352,0.015404002740979,-0.098493658006191,0.092529810965061,0.031034240499139,0.135230049490929,-0.165962055325508,-0.173274770379066,-0.108016915619373,0.028728948906064,-0.181270197033882));
res += mul(Get(s3,0,-dy), float4x4(-0.167373403906822,-0.079327508807182,0.010741020552814,0.097184531390667,0.008926670998335,-0.073488198220730,-0.057500556111336,-0.005586007144302,0.091770634055138,-0.090026035904884,0.163050547242165,0.101392447948456,-0.055200595408678,0.003789187874645,0.003523863619193,-0.034469429403543));
res += mul(Get(s3,0,0), float4x4(-0.060130588710308,-0.058043655008078,0.033512666821480,0.018877435475588,-0.010871154256165,-0.111107282340527,-0.036199908703566,0.097883120179176,0.028097540140152,-0.057344373315573,0.038113262504339,0.093624614179134,-0.094595201313496,-0.055770158767700,-0.113557361066341,0.093825489282608));
res += mul(Get(s3,0,dy), float4x4(-0.009043823927641,-0.089820370078087,-0.175913855433464,0.080556400120258,0.054256021976471,-0.116978861391544,-0.088641196489334,0.020177064463496,0.025814594700933,-0.197576805949211,0.042014900594950,0.115089729428291,-0.096520379185677,0.032358501106501,0.076026700437069,0.118337862193584));
res += mul(Get(s3,dx,-dy), float4x4(-0.123700477182865,-0.109060071408749,0.156830891966820,0.073518678545952,-0.176146924495697,0.012084747664630,0.090847060084343,0.094555005431175,-0.021970000118017,0.048356067389250,0.065818160772324,-0.025033293291926,-0.078872606158257,0.048289660364389,-0.105151616036892,0.110497698187828));
res += mul(Get(s3,dx,0), float4x4(-0.050227165222168,-0.075084514915943,0.193883672356606,0.103760570287704,-0.133383154869080,0.086247757077217,-0.025083232671022,-0.053478937596083,-0.094584397971630,0.011298948898911,0.024666475132108,-0.149442970752716,-0.052074193954468,0.041140180081129,-0.033298686146736,0.014162160456181));
res += mul(Get(s3,dx,dy), float4x4(-0.095179408788681,-0.006932397838682,-0.210458889603615,-0.114014990627766,0.179024636745453,0.177707761526108,0.001058018999174,-0.077138699591160,-0.104819416999817,0.114817842841148,-0.072666577994823,-0.060291983187199,-0.089510217308998,-0.005877251271158,0.001798389130272,-0.011577245779335));
return max(float4(0,0,0,0), res);
}
