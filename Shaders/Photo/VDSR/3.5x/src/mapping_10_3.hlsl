sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.130836814641953,-0.158283606171608,-0.001675881678239,-0.125970095396042,-0.038775000721216,-0.039540313184261,0.076210953295231,-0.148026362061501,-0.027322236448526,-0.050361253321171,0.013447854667902,0.162377893924713,-0.072664476931095,0.007409489713609,0.088122479617596,-0.033025991171598));
res += mul(Get(s0,-dx,0), float4x4(0.028805891051888,0.078873403370380,0.037574790418148,0.022779779508710,0.021631222218275,-0.041147518903017,-0.025532580912113,0.085936509072781,-0.007436736952513,0.095477573573589,-0.033587213605642,0.039683301001787,-0.021129325032234,-0.096752367913723,-0.082411482930183,-0.138661608099937));
res += mul(Get(s0,-dx,dy), float4x4(0.043536510318518,-0.007026711944491,0.042105671018362,-0.058006063103676,-0.110258273780346,0.008790481835604,-0.002942160004750,0.187630608677864,0.087186299264431,-0.098415553569794,0.034814752638340,0.002691137604415,0.023314239457250,0.073416009545326,-0.031476240605116,0.110485084354877));
res += mul(Get(s0,0,-dy), float4x4(-0.058867685496807,-0.119384080171585,0.045540142804384,-0.011838938109577,-0.063304081559181,-0.069797746837139,0.061530794948339,-0.027154510840774,-0.072614304721355,0.028812685981393,-0.014613367617130,-0.051295343786478,-0.026606196537614,-0.037879802286625,0.037550564855337,0.002649002941325));
res += mul(Get(s0,0,0), float4x4(0.036431916058064,0.027563115581870,0.004207349848002,0.017536852508783,0.007045325357467,-0.000522971618921,0.016292253509164,0.024662122130394,0.007266978267580,0.077127397060394,-0.062206558883190,-0.060136735439301,0.045425079762936,-0.102353401482105,-0.070940323174000,-0.009803139604628));
res += mul(Get(s0,0,dy), float4x4(0.024410085752606,0.029719054698944,0.042099151760340,0.038481939584017,-0.089496374130249,-0.053623277693987,-0.074997760355473,0.076938740909100,-0.086739525198936,0.033678330481052,-0.000191481856746,-0.049245193600655,0.001522679696791,0.157183095812798,-0.028688177466393,0.104365773499012));
res += mul(Get(s0,dx,-dy), float4x4(-0.086020544171333,-0.026754930615425,-0.008990484289825,-0.091654464602470,-0.083989046514034,-0.063911616802216,0.196678891777992,0.088360883295536,0.221117362380028,-0.060126431286335,-0.069699443876743,-0.116979084908962,-0.129845544695854,-0.056551951915026,0.097694702446461,-0.100165031850338));
res += mul(Get(s0,dx,0), float4x4(0.011283387430012,-0.011902638711035,-0.118272826075554,-0.111211419105530,0.080651760101318,-0.005079218652099,-0.003474387573078,0.054864380508661,0.114833079278469,0.009916054084897,-0.098284080624580,-0.083089731633663,0.081660628318787,-0.072872087359428,0.025548299774528,-0.135124251246452));
res += mul(Get(s0,dx,dy), float4x4(-0.035615365952253,0.013687339611351,0.032317727804184,-0.059834215790033,0.129352346062660,0.069158978760242,-0.005594225600362,-0.051397833973169,0.149769157171249,0.090295009315014,-0.024197600781918,-0.004632957745343,0.160490840673447,0.125853464007378,-0.024533106014132,-0.030618559569120));
res += mul(Get(s1,-dx,-dy), float4x4(0.242966890335083,0.133570060133934,-0.053054947406054,-0.002408955246210,0.084288664162159,-0.136778086423874,0.000746486650314,-0.015795992687345,-0.122433818876743,0.038638912141323,0.021770393475890,-0.095444075763226,-0.059385579079390,0.031187212094665,-0.052658874541521,-0.095602311193943));
res += mul(Get(s1,-dx,0), float4x4(0.151593789458275,0.270258814096451,0.077396832406521,-0.142760783433914,-0.017734505236149,0.034239232540131,0.155723050236702,0.025390245020390,-0.001734760357067,0.040914881974459,-0.021749697625637,0.017056172713637,-0.090901724994183,-0.077633470296860,0.306377887725830,-0.023621652275324));
res += mul(Get(s1,-dx,dy), float4x4(-0.066677674651146,-0.005992547143251,0.053242728114128,-0.093265727162361,-0.063286706805229,0.042546365410089,0.230168670415878,-0.054808251559734,0.117132581770420,0.019712083041668,0.109067231416702,-0.075162597000599,-0.097397610545158,-0.094622828066349,0.086606524884701,-0.003780608298257));
res += mul(Get(s1,0,-dy), float4x4(-0.168499872088432,0.145172804594040,-0.120624721050262,-0.014351519756019,0.151061236858368,0.011067743413150,0.000055935492128,0.044999517500401,0.005440815817565,0.041253667324781,0.007086264900863,-0.039689972996712,-0.013641152530909,-0.032248549163342,-0.103279314935207,-0.046375237405300));
res += mul(Get(s1,0,0), float4x4(-0.058524131774902,0.100048720836639,0.072444953024387,-0.028119947761297,0.100515805184841,0.037156041711569,-0.007769782096148,-0.032188072800636,-0.073229506611824,0.074172295629978,-0.069729447364807,0.034810110926628,-0.015658397227526,-0.021806854754686,-0.007929015904665,0.048437040299177));
res += mul(Get(s1,0,dy), float4x4(-0.134875684976578,0.079681321978569,-0.052969969809055,-0.035036314278841,0.223553568124771,-0.011093331500888,-0.154899418354034,-0.036439847201109,0.056190401315689,-0.069273956120014,0.020829070359468,0.089471496641636,0.003882059594616,-0.027025111019611,-0.159684434533119,0.072168037295341));
res += mul(Get(s1,dx,-dy), float4x4(0.000531729077920,0.026431415230036,0.126049175858498,-0.009446464478970,-0.050661537796259,-0.028335502371192,0.054932523518801,0.131384283304214,-0.023239020258188,0.048536315560341,0.086736246943474,0.055738195776939,-0.012988025322556,-0.051337670534849,0.035562310367823,-0.185467302799225));
res += mul(Get(s1,dx,0), float4x4(-0.134102657437325,-0.042446218430996,0.110935628414154,0.057474765926600,-0.022102834656835,0.005793606862426,-0.084859631955624,0.038636062294245,0.172578409314156,0.020312078297138,0.046815067529678,-0.008324722759426,-0.058293778449297,-0.065973348915577,-0.059387337416410,0.057882688939571));
res += mul(Get(s1,dx,dy), float4x4(-0.151449680328369,-0.026879070326686,-0.081631258130074,0.089214287698269,0.033196836709976,0.107897348701954,-0.201188191771507,-0.139665588736534,0.172088369727135,-0.122396014630795,0.230141565203667,-0.056703306734562,0.082458257675171,-0.083751954138279,-0.094823390245438,0.006190222688019));
res += mul(Get(s2,-dx,-dy), float4x4(-0.068670161068439,-0.114480085670948,-0.038982696831226,0.002184191485867,-0.117281898856163,-0.110352531075478,0.039436507970095,0.029126469045877,0.042620062828064,-0.016946969553828,-0.058912660926580,0.019336087629199,0.054731745272875,-0.089030213654041,-0.114387981593609,-0.070627585053444));
res += mul(Get(s2,-dx,0), float4x4(-0.120683230459690,-0.054886210709810,-0.033179584890604,0.161215946078300,0.063979834318161,0.027366587892175,0.026571724563837,0.075844556093216,-0.012384748086333,-0.037928178906441,-0.030782159417868,0.036418590694666,-0.024128502234817,-0.043058026582003,0.078485704958439,0.002611959353089));
res += mul(Get(s2,-dx,dy), float4x4(0.039540275931358,0.001991597237065,-0.015003772452474,-0.132488906383514,-0.010650709271431,0.079734899103642,-0.104511216282845,-0.123557679355145,-0.101941481232643,-0.212169557809830,-0.264380693435669,0.102758318185806,0.071482300758362,-0.014928084798157,-0.003429797012359,0.100408561527729));
res += mul(Get(s2,0,-dy), float4x4(-0.104417681694031,-0.063609860837460,0.059496983885765,0.014108165167272,-0.029038576409221,-0.090385913848877,-0.110177293419838,-0.049452960491180,0.049406968057156,-0.029336597770452,0.180818825960159,-0.004419382195920,-0.096429288387299,-0.078014336526394,-0.141962051391602,0.025191668421030));
res += mul(Get(s2,0,0), float4x4(-0.079238153994083,0.047396313399076,0.000299932609778,0.181601718068123,0.113537348806858,-0.062315136194229,0.017763409763575,0.068467080593109,-0.004911202937365,-0.043497577309608,0.004586735274643,0.016593070700765,-0.106536269187927,-0.020977342501283,-0.032674815505743,0.007089287973940));
res += mul(Get(s2,0,dy), float4x4(0.009431000798941,0.053413257002831,-0.066788695752621,0.006322316825390,-0.119833201169968,0.132640719413757,-0.012461723759770,0.050860047340393,-0.141370728611946,-0.171839386224747,-0.099711008369923,0.192044004797935,-0.075120978057384,0.002570129698142,-0.180175229907036,-0.009350786916912));
res += mul(Get(s2,dx,-dy), float4x4(-0.164759323000908,-0.033012591302395,-0.018562041223049,-0.072248294949532,0.005667619407177,-0.047060351818800,0.051487829536200,-0.146542608737946,-0.012164910323918,-0.113386437296867,-0.009377416223288,-0.057353090494871,0.037466026842594,-0.076957896351814,0.041565820574760,-0.042912382632494));
res += mul(Get(s2,dx,0), float4x4(0.045868627727032,0.061081323772669,-0.065223552286625,-0.030438059940934,0.033559311181307,0.097337275743484,0.203680783510208,-0.093901641666889,0.098619565367699,-0.118964791297913,0.035781439393759,-0.024185176938772,-0.023104662075639,-0.048322398215532,0.147760033607483,0.031335383653641));
res += mul(Get(s2,dx,dy), float4x4(-0.176735982298851,0.046829178929329,0.007131702732295,-0.078270025551319,-0.086373172700405,0.053360015153885,0.190525382757187,-0.025819204747677,0.020799402147532,-0.244610756635666,-0.203685760498047,-0.090359620749950,-0.166280776262283,-0.085804209113121,-0.083955273032188,0.007246876601130));
res += mul(Get(s3,-dx,-dy), float4x4(-0.019406875595450,0.003535332158208,0.058865632861853,-0.032768387347460,-0.125740602612495,0.005315952003002,-0.073905542492867,-0.096985608339310,-0.070298016071320,-0.035284448415041,-0.034634064882994,0.150867909193039,0.015039197169244,0.042866624891758,-0.090257279574871,0.245711386203766));
res += mul(Get(s3,-dx,0), float4x4(0.058559931814671,0.044341918081045,-0.054825883358717,0.000914794916753,-0.006517067085952,0.016903171315789,-0.012177077122033,-0.084436416625977,-0.066676974296570,-0.054680235683918,0.056352183222771,-0.084022738039494,-0.026220513507724,0.082462869584560,-0.073491483926773,-0.059074051678181));
res += mul(Get(s3,-dx,dy), float4x4(0.053301036357880,0.058239676058292,0.153627991676331,0.097074992954731,0.036360405385494,0.116126574575901,0.263900339603424,-0.168658465147018,-0.037964414805174,-0.077706769108772,0.027126856148243,-0.036115907132626,0.098145090043545,-0.019468201324344,-0.066290892660618,-0.023964118212461));
res += mul(Get(s3,0,-dy), float4x4(0.037702899426222,-0.038924060761929,-0.109217673540115,0.059751287102699,0.086793027818203,-0.082496926188469,-0.043447166681290,0.040450196713209,0.049596756696701,-0.045776989310980,-0.104480050504208,-0.120858065783978,0.014738271012902,0.165723159909248,-0.028072260320187,0.135634914040565));
res += mul(Get(s3,0,0), float4x4(-0.100604586303234,0.057733219116926,0.004812477622181,0.139546677470207,0.047107789665461,0.139306083321571,-0.018061578273773,-0.162989944219589,0.112819798290730,-0.012021301314235,0.038207545876503,-0.043697565793991,0.054402668029070,-0.151303619146347,-0.015848277136683,-0.052677106112242));
res += mul(Get(s3,0,dy), float4x4(0.015212506055832,0.082936771214008,0.095542713999748,-0.094316996634007,0.060868684202433,0.069185785949230,0.048740856349468,-0.041869297623634,0.211864829063416,-0.032674934715033,-0.142491981387138,0.132833182811737,0.047235649079084,-0.023623712360859,-0.070655755698681,0.024707900360227));
res += mul(Get(s3,dx,-dy), float4x4(0.016160836443305,-0.066460028290749,0.019974695518613,0.093567110598087,-0.058575645089149,-0.063037656247616,-0.169573888182640,0.057531956583261,-0.009092268534005,-0.044741220772266,0.033297013491392,-0.026777040213346,-0.044677015393972,-0.040507186204195,0.086953528225422,0.024743944406509));
res += mul(Get(s3,dx,0), float4x4(-0.056582480669022,-0.031713131815195,0.012127527035773,0.066669099032879,-0.249546632170677,0.053715407848358,-0.121064767241478,-0.030258458107710,-0.129966527223587,0.008711873553693,0.150796949863434,-0.054782763123512,-0.056525491178036,-0.056969050318003,-0.002140274969861,0.062616437673569));
res += mul(Get(s3,dx,dy), float4x4(-0.029743559658527,-0.025217531248927,-0.041880950331688,-0.013826920650899,-0.036508362740278,-0.049196563661098,-0.003141944762319,0.002769823651761,-0.094363518059254,-0.034699805080891,0.042311247438192,0.111351490020752,-0.017246266826987,-0.021065881475806,0.137624099850655,0.018092971295118));
return max(float4(0,0,0,0), res);
}
