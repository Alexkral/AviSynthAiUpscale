sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.061679232865572,0.074877165257931,-0.034265879541636,0.001723459805362,-0.107111729681492,-0.162313923239708,-0.028039066120982,0.058157321065664,0.124604731798172,0.159584894776344,-0.316798061132431,-0.035310201346874,0.062071911990643,0.290560573339462,-0.099406652152538,-0.021217351779342));
res += mul(Get(s0,-dx,0), float4x4(-0.019464360550046,0.234945833683014,-0.100482456386089,-0.095824480056763,0.031061982735991,0.043278519064188,-0.122936591506004,-0.149010315537453,0.083103895187378,-0.014344583265483,-0.010046371258795,-0.202689021825790,-0.032963205128908,0.051305219531059,-0.129146754741669,-0.063083246350288));
res += mul(Get(s0,-dx,dy), float4x4(0.073699042201042,-0.202077090740204,-0.098476752638817,-0.109142936766148,-0.079583764076233,0.102740846574306,-0.008235801011324,-0.029572892934084,0.015036905184388,0.087406419217587,0.187625721096992,-0.021833240985870,0.085728876292706,0.011190400458872,-0.260073453187943,-0.068537116050720));
res += mul(Get(s0,0,-dy), float4x4(-0.163736015558243,0.065210841596127,0.102758802473545,0.062533363699913,0.218076452612877,-0.019766358658671,0.153909787535667,0.192204222083092,0.087071344256401,-0.034537918865681,-0.046174157410860,0.023007325828075,-0.201771870255470,-0.085410512983799,-0.096445016562939,-0.166552245616913));
res += mul(Get(s0,0,0), float4x4(0.111555494368076,0.147262722253799,0.046998336911201,-0.065198563039303,0.027659276500344,0.005409196484834,0.005010955967009,-0.152690395712852,-0.094839178025723,0.157405555248260,-0.022608388215303,0.022824820131063,-0.000006470011158,0.145819917321205,0.052005790174007,0.019199483096600));
res += mul(Get(s0,0,dy), float4x4(0.110229276120663,-0.061356797814369,-0.033914167433977,-0.045784946531057,-0.104822218418121,0.136412471532822,0.116588659584522,0.023831054568291,0.078653939068317,-0.019333776086569,-0.065985776484013,-0.235393628478050,-0.007507327944040,0.068629249930382,-0.144463449716568,0.001902550924569));
res += mul(Get(s0,dx,-dy), float4x4(-0.040368936955929,-0.050985708832741,0.050354003906250,-0.027114592492580,0.129002496600151,-0.110423825681210,0.079231977462769,0.015450805425644,-0.110515996813774,0.200442492961884,-0.074969284236431,0.208601027727127,0.061395421624184,-0.041650231927633,-0.075358860194683,0.005989111959934));
res += mul(Get(s0,dx,0), float4x4(0.071787029504776,-0.028485937044024,-0.090081661939621,0.081578828394413,-0.142376840114594,0.109275318682194,-0.134370818734169,-0.002545754425228,-0.059310097247362,0.068786524236202,-0.083048321306705,-0.044276658445597,0.095606036484241,-0.025025246664882,0.109862007200718,-0.166698351502419));
res += mul(Get(s0,dx,dy), float4x4(0.096594385802746,-0.070625886321068,0.017940029501915,0.171046003699303,0.038320943713188,-0.138690069317818,-0.027476551011205,-0.179985672235489,-0.047540318220854,0.275628209114075,0.049690615385771,-0.038553595542908,0.079138740897179,-0.003953986801207,-0.065301544964314,0.219131931662560));
res += mul(Get(s1,-dx,-dy), float4x4(-0.110379204154015,-0.070728249847889,-0.046770654618740,-0.015904815867543,0.088255137205124,0.091397278010845,0.119503356516361,0.147125154733658,-0.022879285737872,0.020179517567158,-0.010653396137059,-0.078050695359707,0.024412417784333,0.072251893579960,-0.001550238579512,0.071340493857861));
res += mul(Get(s1,-dx,0), float4x4(-0.204776033759117,0.013185744173825,0.010823270305991,0.106667771935463,0.003568351734430,-0.108555927872658,0.177423194050789,-0.014331594109535,0.030657714232802,0.063751399517059,-0.070554442703724,0.059394996613264,-0.008851234801114,0.112586908042431,0.093729428946972,-0.071354635059834));
res += mul(Get(s1,-dx,dy), float4x4(0.021368341520429,-0.040619671344757,0.081021204590797,0.222186297178268,-0.008120841346681,-0.152316346764565,0.094988510012627,0.043939121067524,0.068893700838089,0.048835892230272,0.074263527989388,0.095776662230492,-0.007029796950519,0.149767145514488,-0.105227008461952,-0.082959428429604));
res += mul(Get(s1,0,-dy), float4x4(0.019910316914320,-0.110209450125694,0.027358777821064,-0.051999814808369,0.019542075693607,0.079846650362015,0.011076795868576,-0.074150606989861,0.188903391361237,-0.086934395134449,-0.131822586059570,0.147017285227776,0.017650032415986,0.017772154882550,0.041402161121368,0.077785864472389));
res += mul(Get(s1,0,0), float4x4(0.089856900274754,-0.108818426728249,-0.103894583880901,-0.150522604584694,0.063419826328754,0.073283702135086,-0.002429665764794,0.030349589884281,0.082832135260105,-0.077328950166702,0.001772298477590,-0.030174963176250,0.025288766250014,0.005371932871640,0.014122609980404,0.166110411286354));
res += mul(Get(s1,0,dy), float4x4(0.056892607361078,-0.008138268254697,0.064877465367317,0.108880214393139,0.076672591269016,-0.074387580156326,0.208309799432755,-0.103400386869907,-0.152992844581604,0.055693514645100,-0.019234258681536,0.140395343303680,0.075657196342945,0.036603774875402,-0.037962213158607,-0.162870630621910));
res += mul(Get(s1,dx,-dy), float4x4(0.125446557998657,-0.041205655783415,-0.077519036829472,-0.181936636567116,-0.015780249610543,-0.065825611352921,-0.136703908443451,-0.010923207737505,-0.000524702074472,-0.003541832556948,-0.053952757269144,0.068596862256527,0.222949892282486,0.096781395375729,-0.217007771134377,0.031956437975168));
res += mul(Get(s1,dx,0), float4x4(-0.344829052686691,0.128115624189377,-0.084483228623867,0.033915489912033,-0.051342468708754,-0.035293377935886,0.066089272499084,0.016621293500066,-0.070824891328812,-0.110697865486145,-0.073550313711166,-0.021487189456820,-0.083798632025719,-0.047325473278761,-0.144747063517570,0.015258257277310));
res += mul(Get(s1,dx,dy), float4x4(0.099501483142376,-0.112591333687305,-0.037986252456903,0.105021893978119,0.008359215222299,0.048952713608742,0.037156134843826,0.022008404135704,0.000379875593353,-0.057096179574728,0.088830143213272,-0.018340501934290,0.000238579392317,-0.125182464718819,0.014547764323652,-0.012462737038732));
res += mul(Get(s2,-dx,-dy), float4x4(-0.126629352569580,-0.016615988686681,-0.019096052274108,-0.065671071410179,-0.036403063684702,0.055939998477697,-0.249009490013123,-0.111633911728859,0.001351650222205,0.014464091509581,-0.058823414146900,-0.009819406084716,-0.012991730123758,-0.024870701134205,-0.011328695341945,-0.072244174778461));
res += mul(Get(s2,-dx,0), float4x4(0.058068197220564,-0.024241697043180,-0.100659891963005,0.012247069738805,0.022579846903682,0.090616784989834,0.237514153122902,0.089825078845024,-0.063673175871372,-0.326067417860031,0.005851786583662,0.147890329360962,-0.000069494271884,-0.042909726500511,0.006873940583318,-0.002228472149000));
res += mul(Get(s2,-dx,dy), float4x4(0.139342650771141,-0.144697412848473,-0.036845665425062,0.032404452562332,0.118093006312847,-0.067832171916962,0.087245821952820,0.028948696330190,0.027153296396136,-0.050619997084141,-0.163586512207985,-0.079280242323875,0.138459101319313,-0.128483265638351,0.048457015305758,0.053283926099539));
res += mul(Get(s2,0,-dy), float4x4(-0.104078799486160,-0.144566968083382,-0.128711774945259,-0.212718009948730,0.251004368066788,0.056597508490086,-0.133453026413918,-0.098118990659714,0.134940266609192,0.038812641054392,-0.132210388779640,0.037858486175537,-0.037457212805748,-0.039683617651463,-0.015305016189814,-0.032521672546864));
res += mul(Get(s2,0,0), float4x4(-0.038267903029919,0.003720705863088,-0.124943085014820,0.056838873773813,-0.093312636017799,-0.049030911177397,0.017816876992583,0.049128912389278,0.158206582069397,-0.058741342276335,-0.126893699169159,-0.035884048789740,0.050952095538378,0.090321317315102,0.084579631686211,0.089757464826107));
res += mul(Get(s2,0,dy), float4x4(0.108099438250065,-0.016059560701251,0.058846037834883,0.037074793130159,0.194037869572639,0.082699626684189,-0.084498129785061,-0.014249777421355,0.227650538086891,-0.011510885320604,-0.012716495431960,0.223335862159729,0.014214443974197,-0.015007184818387,0.253297954797745,-0.096618324518204));
res += mul(Get(s2,dx,-dy), float4x4(0.061993584036827,0.106856465339661,0.056493166834116,-0.050904810428619,0.029383286833763,-0.092456571757793,0.098591320216656,-0.060809139162302,-0.244440361857414,0.128223598003387,0.061319723725319,-0.156314015388489,-0.009365648962557,0.016508396714926,-0.050331939011812,0.022189883515239));
res += mul(Get(s2,dx,0), float4x4(-0.013351252302527,-0.102428130805492,0.065509490668774,0.132086426019669,-0.198656395077705,0.104270778596401,-0.126476228237152,-0.033953852951527,0.028797959908843,-0.179176658391953,-0.059227779507637,0.089033611118793,-0.117839850485325,0.055953335016966,0.061769444495440,0.116425976157188));
res += mul(Get(s2,dx,dy), float4x4(0.039244595915079,0.185815259814262,-0.165982216596603,-0.106512188911438,0.094277687370777,0.123737111687660,-0.156441897153854,-0.111510209739208,-0.086270168423653,0.016937796026468,-0.024748966097832,0.143524616956711,-0.088605679571629,0.208474427461624,0.167471393942833,0.040613282471895));
res += mul(Get(s3,-dx,-dy), float4x4(-0.138634786009789,0.082833148539066,-0.068276718258858,-0.140739455819130,0.113963373005390,0.028337057679892,0.191846907138824,-0.052039522677660,-0.092774339020252,-0.078541547060013,-0.033694136887789,0.048584453761578,0.012332441285253,-0.026771245524287,-0.064002908766270,0.070167541503906));
res += mul(Get(s3,-dx,0), float4x4(0.094029799103737,0.053155530244112,-0.045240268111229,0.060108371078968,0.106128029525280,0.086842164397240,-0.064723849296570,0.163584277033806,0.189465850591660,0.193864688277245,-0.024517139419913,0.109508946537971,-0.296311646699905,-0.028242867439985,-0.078888088464737,0.057849545031786));
res += mul(Get(s3,-dx,dy), float4x4(0.067098945379257,0.127068117260933,-0.071922227740288,0.098371967673302,0.009379174560308,0.035376716405153,-0.008029498159885,0.142315760254860,-0.045613426715136,-0.061042085289955,-0.085057936608791,-0.040959756821394,-0.110816612839699,-0.044969227164984,0.178174853324890,0.102360516786575));
res += mul(Get(s3,0,-dy), float4x4(-0.106395304203033,-0.027591619640589,-0.017675200477242,0.021710323169827,0.009124844335020,0.074528381228447,-0.022697439417243,0.111261986196041,0.007416545413435,0.032529518008232,-0.082719296216965,0.132169276475906,-0.017237810418010,-0.105109922587872,0.048811528831720,0.008960499428213));
res += mul(Get(s3,0,0), float4x4(-0.039895597845316,-0.054112736135721,-0.219223767518997,-0.080467633903027,-0.009873796254396,-0.093749023973942,0.193217948079109,-0.075450628995895,-0.018519965931773,-0.028460811823606,0.010692573152483,0.012823424302042,-0.082369484007359,-0.190146952867508,0.117070525884628,0.110367268323898));
res += mul(Get(s3,0,dy), float4x4(0.057216063141823,-0.060721781104803,0.123058944940567,-0.077623359858990,-0.057445604354143,-0.007629135157913,-0.117310866713524,0.184344351291656,0.218734622001648,-0.066116571426392,0.161846488714218,-0.186930716037750,0.021805396303535,-0.013223620131612,-0.039171777665615,-0.151384353637695));
res += mul(Get(s3,dx,-dy), float4x4(-0.061332963407040,-0.122926607728004,0.314577549695969,0.020045002922416,0.032420560717583,-0.204621508717537,0.068625725805759,0.023262564092875,0.081994906067848,0.007317523006350,0.004507380537689,0.088123016059399,0.116828314960003,-0.080522820353508,0.000051329807320,0.038526941090822));
res += mul(Get(s3,dx,0), float4x4(0.073413178324699,-0.100037470459938,-0.112467296421528,0.132484763860703,0.119542323052883,-0.022234113886952,-0.242335304617882,0.035859644412994,0.067003779113293,0.012640926986933,-0.008582587353885,-0.081926010549068,-0.078047446906567,-0.048420287668705,0.085135243833065,0.154401317238808));
res += mul(Get(s3,dx,dy), float4x4(-0.013875461183488,0.027550948783755,0.020115407183766,0.002425392856821,0.062669202685356,-0.071224898099899,-0.054958768188953,0.017756300047040,0.287990421056747,0.035481743514538,-0.043660473078489,-0.033179529011250,0.058603554964066,0.129873603582382,-0.143884658813477,-0.042031869292259));
return max(float4(0,0,0,0), res);
}
