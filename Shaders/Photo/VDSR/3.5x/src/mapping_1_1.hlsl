sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.055857356637716,-0.012222534045577,0.126946955919266,-0.149609684944153,-0.090736798942089,-0.113608077168465,-0.051850222051144,-0.021965276449919,-0.114800252020359,0.083407059311867,0.078844256699085,0.025038881227374,0.066666781902313,-0.024789260700345,0.110284209251404,-0.044217113405466));
res += mul(Get(s0,-dx,0), float4x4(0.056160710752010,-0.118965476751328,-0.084904924035072,0.010341298766434,0.136030942201614,0.043187629431486,-0.137331396341324,-0.091670162975788,0.148935511708260,-0.016993623226881,0.089640624821186,-0.118560701608658,0.034731127321720,0.011498151347041,-0.270914763212204,-0.076800405979156));
res += mul(Get(s0,-dx,dy), float4x4(0.104968823492527,0.026294598355889,0.105689018964767,0.193309918045998,-0.075332336127758,0.044671300798655,-0.206131130456924,-0.061415739357471,-0.160521581768990,-0.085246555507183,-0.063718020915985,0.034345593303442,-0.027357624843717,0.063850156962872,-0.150228500366211,0.009372742846608));
res += mul(Get(s0,0,-dy), float4x4(0.200935453176498,-0.206937164068222,0.056680321693420,-0.090625248849392,-0.144024476408958,0.121801480650902,0.032253231853247,0.024420728906989,-0.161902442574501,0.002883286215365,-0.024054786190391,0.183553934097290,-0.198634564876556,-0.007794302888215,-0.162837818264961,0.010969235561788));
res += mul(Get(s0,0,0), float4x4(0.013989232480526,-0.052513424307108,-0.039849471300840,-0.035768773406744,0.012946575880051,-0.097487553954124,-0.143165484070778,-0.124542839825153,-0.164044842123985,-0.123359523713589,0.067265719175339,-0.056966427713633,0.103085167706013,0.147145405411720,-0.199178040027618,-0.280930161476135));
res += mul(Get(s0,0,dy), float4x4(-0.144443824887276,0.040874835103750,0.076032355427742,-0.004812558647245,-0.014382145367563,0.132158875465393,-0.071843475103378,0.063613899052143,-0.141246899962425,-0.080364756286144,0.044741865247488,-0.083476655185223,-0.164392203092575,0.017647268250585,-0.061380755156279,0.014133469201624));
res += mul(Get(s0,dx,-dy), float4x4(0.172455653548241,-0.048534911125898,-0.007290169596672,-0.068618521094322,-0.021227367222309,-0.037293903529644,0.078704185783863,-0.027420673519373,0.053770404309034,-0.115231119096279,0.094937816262245,0.181818783283234,0.100977554917336,0.138943314552307,-0.178226858377457,-0.197885781526566));
res += mul(Get(s0,dx,0), float4x4(-0.080550625920296,-0.123333401978016,-0.092974096536636,0.076204925775528,0.111905910074711,-0.145613074302673,0.185017243027687,-0.078437119722366,0.126320511102676,-0.069161437451839,-0.078537277877331,0.058338861912489,-0.009356886148453,0.085476085543633,-0.022195640951395,-0.106972172856331));
res += mul(Get(s0,dx,dy), float4x4(-0.114990815520287,0.049236878752708,-0.063879899680614,0.096890911459923,0.073647737503052,-0.255084514617920,0.073713608086109,-0.044962644577026,-0.128814056515694,0.150501459836960,-0.309494793415070,-0.036618951708078,-0.150356307625771,-0.150945886969566,-0.016255540773273,-0.007240338250995));
res += mul(Get(s1,-dx,-dy), float4x4(0.150614887475967,-0.020860655233264,0.025801159441471,0.179898187518120,0.025017002597451,0.207296520471573,0.003743081586435,0.000174853004864,0.014948676340282,-0.065288387238979,-0.078858032822609,-0.230332732200623,0.038559339940548,-0.152857691049576,0.097643576562405,-0.082123436033726));
res += mul(Get(s1,-dx,0), float4x4(-0.092828154563904,0.004274531267583,-0.069006942212582,-0.115080453455448,0.029000381007791,0.091448023915291,-0.015237839892507,-0.053132429718971,-0.070351168513298,-0.169542998075485,0.137468114495277,0.079344123601913,-0.010487657971680,-0.047141224145889,-0.126940324902534,-0.073424674570560));
res += mul(Get(s1,-dx,dy), float4x4(-0.097413688898087,0.091484874486923,-0.082343280315399,-0.033972151577473,-0.282453835010529,-0.124308660626411,0.098664380609989,0.224823176860809,0.133000344038010,-0.095219932496548,-0.092337153851986,0.083216816186905,-0.045947995036840,-0.171885088086128,0.036001984030008,0.090904846787453));
res += mul(Get(s1,0,-dy), float4x4(-0.135032624006271,-0.135662913322449,-0.144845411181450,0.207483574748039,-0.044853076338768,0.142867282032967,-0.017999330535531,-0.138490974903107,-0.090754829347134,-0.046613689512014,-0.203874126076698,-0.107125967741013,-0.027545854449272,-0.207425743341446,-0.001460000872612,0.059841349720955));
res += mul(Get(s1,0,0), float4x4(0.109012283384800,-0.084615133702755,0.049989677965641,-0.055807504802942,0.037921763956547,0.085421442985535,-0.054923374205828,-0.118826165795326,0.029059726744890,0.076913453638554,0.268855631351471,-0.121444687247276,-0.046914517879486,-0.167603239417076,0.007047052495182,-0.121731251478195));
res += mul(Get(s1,0,dy), float4x4(0.136550709605217,-0.251284629106522,-0.057793207466602,0.018693629652262,0.042385909706354,0.053765792399645,-0.023684211075306,0.069350607693195,-0.042897023260593,-0.083456665277481,0.015439894050360,0.129547938704491,-0.014287069439888,0.261061996221542,0.016468757763505,-0.031025517731905));
res += mul(Get(s1,dx,-dy), float4x4(-0.142694517970085,0.034068010747433,0.043487302958965,0.104254044592381,0.218536034226418,0.051362466067076,0.064891241490841,0.038590457290411,0.023883936926723,0.205869987607002,-0.010423171333969,0.133251473307610,-0.066545963287354,-0.079100191593170,0.202104359865189,0.050445348024368));
res += mul(Get(s1,dx,0), float4x4(-0.100493513047695,0.088804364204407,0.128523007035255,-0.059356119483709,0.035466670989990,0.049639068543911,-0.020044272765517,0.131941094994545,-0.040078345686197,-0.191798597574234,0.058665610849857,-0.022662147879601,0.083550885319710,0.092257902026176,0.046071451157331,-0.106511533260345));
res += mul(Get(s1,dx,dy), float4x4(-0.097161464393139,-0.024209123104811,-0.078812099993229,-0.067426279187202,-0.009219873696566,0.091663010418415,-0.050982519984245,0.168414413928986,0.106867611408234,0.102736830711365,-0.094786994159222,-0.062725841999054,0.012849829159677,-0.126489937305450,0.193576276302338,-0.129919081926346));
res += mul(Get(s2,-dx,-dy), float4x4(-0.006557872984558,0.146172031760216,0.074791893362999,0.041144207119942,0.083694994449615,-0.153855249285698,-0.050878293812275,-0.077518336474895,0.140838801860809,0.013595481403172,-0.129117622971535,0.090220957994461,0.163556724786758,-0.083923526108265,0.193197920918465,-0.009662406519055));
res += mul(Get(s2,-dx,0), float4x4(0.104352548718452,0.167491316795349,-0.018048508092761,0.089934930205345,0.044617749750614,0.039095643907785,0.176091209053993,0.072446867823601,0.236252531409264,-0.025373445823789,-0.080398499965668,0.041891019791365,-0.115440778434277,-0.014972140081227,-0.140861451625824,-0.124681659042835));
res += mul(Get(s2,-dx,dy), float4x4(-0.079428181052208,0.115505136549473,-0.023493684828281,-0.145204603672028,0.005199846345931,0.084320202469826,0.005782817490399,-0.157582297921181,0.010495450347662,0.206093668937683,0.053742237389088,-0.100079603493214,-0.070494018495083,-0.103729307651520,-0.104437418282032,-0.266162842512131));
res += mul(Get(s2,0,-dy), float4x4(-0.130951568484306,-0.038762364536524,-0.113113835453987,0.038651753216982,0.275391519069672,0.011452405713499,0.167142599821091,-0.059129778295755,-0.080940559506416,0.042008567601442,-0.004570579156280,0.112960822880268,-0.115981809794903,-0.176928505301476,-0.079541936516762,-0.056139171123505));
res += mul(Get(s2,0,0), float4x4(0.024924563243985,0.062850385904312,0.064240790903568,-0.016880193725228,0.073101758956909,-0.065979041159153,-0.041939992457628,-0.068900652229786,0.098921433091164,0.134996503591537,-0.272407025098801,0.138409003615379,0.021183870732784,-0.115888409316540,-0.081384837627411,-0.018221812322736));
res += mul(Get(s2,0,dy), float4x4(0.070449285209179,-0.183846339583397,0.019490635022521,0.119393087923527,0.120295003056526,-0.093126006424427,-0.066640332341194,-0.036958139389753,0.257729828357697,0.272843420505524,-0.117055058479309,0.067243807017803,0.038205079734325,-0.136128827929497,-0.150343820452690,0.133429676294327));
res += mul(Get(s2,dx,-dy), float4x4(0.079828239977360,0.008243595249951,0.114778995513916,0.036484256386757,-0.325467646121979,0.083045259118080,-0.027398927137256,0.009289558976889,-0.014526784420013,0.125172108411789,-0.009467280469835,-0.020558692514896,0.100251302123070,0.066594682633877,-0.123496741056442,-0.196054160594940));
res += mul(Get(s2,dx,0), float4x4(-0.138823658227921,0.055608794093132,-0.098781049251556,-0.068003870546818,0.051929034292698,0.118371680378914,0.136712968349457,0.097040593624115,0.036174446344376,0.041552849113941,0.065881736576557,0.016679989174008,-0.063775084912777,0.070579409599304,-0.053539574146271,-0.057253997772932));
res += mul(Get(s2,dx,dy), float4x4(-0.088267087936401,-0.011568961665034,0.031994532793760,-0.023945517838001,0.214406982064247,0.030845442786813,0.047135747969151,-0.091791078448296,-0.007750042248517,-0.041971459984779,0.019787892699242,-0.000452363659861,-0.173201799392700,0.027081169188023,-0.064627423882484,0.116711087524891));
res += mul(Get(s3,-dx,-dy), float4x4(0.167791217565536,-0.013965405523777,0.075476624071598,-0.111760839819908,-0.062156252563000,0.015551977790892,-0.014579806476831,-0.112527713179588,0.190849930047989,-0.013738878071308,-0.142499372363091,0.125227093696594,-0.128156140446663,-0.002990555716679,-0.034624457359314,-0.118067502975464));
res += mul(Get(s3,-dx,0), float4x4(-0.030295120552182,0.208531662821770,0.069139905273914,-0.011250712908804,-0.170461907982826,-0.171120241284370,-0.018336208537221,-0.004351690411568,0.294979244470596,-0.131573170423508,0.044870611280203,-0.057701934129000,-0.034318901598454,-0.073887318372726,-0.050999481230974,-0.038621611893177));
res += mul(Get(s3,-dx,dy), float4x4(0.084351673722267,-0.028528295457363,0.092538073658943,0.046637352555990,0.076643571257591,-0.151130303740501,0.119978651404381,-0.142022714018822,-0.136843129992485,0.022551402449608,-0.038680806756020,0.072398513555527,0.043730031698942,-0.038637939840555,0.113615527749062,0.038037728518248));
res += mul(Get(s3,0,-dy), float4x4(0.049692455679178,0.118833400309086,0.062300458550453,0.016462031751871,0.158793553709984,0.033607728779316,0.105893172323704,-0.104912966489792,-0.224049434065819,-0.120058402419090,0.017306074500084,0.054080590605736,0.188710615038872,-0.188087403774261,-0.025801056995988,0.003848023712635));
res += mul(Get(s3,0,0), float4x4(0.124938003718853,-0.090835541486740,0.045089974999428,-0.135745361447334,0.014593749307096,-0.099839538335800,-0.100728742778301,0.056472238153219,-0.176888510584831,-0.133952990174294,-0.045663911849260,-0.046505577862263,0.058630906045437,0.055186882615089,-0.080398336052895,-0.027676157653332));
res += mul(Get(s3,0,dy), float4x4(-0.187232568860054,0.029636867344379,-0.059935130178928,-0.075613498687744,0.311581730842590,-0.087148599326611,0.030169963836670,0.021431758999825,0.044772032648325,-0.004336273763329,-0.127238005399704,0.066901966929436,-0.153272226452827,0.015019206330180,0.025968285277486,-0.075799137353897));
res += mul(Get(s3,dx,-dy), float4x4(-0.114826858043671,-0.105291895568371,-0.095503255724907,-0.250530898571014,-0.190638303756714,-0.016153622418642,0.057254366576672,-0.031274389475584,0.039129365235567,0.089088372886181,-0.006948401220143,0.103520750999451,-0.002563439076766,-0.065880812704563,0.020468611270189,-0.021723374724388));
res += mul(Get(s3,dx,0), float4x4(0.095641180872917,-0.071931421756744,-0.005632423795760,-0.076437845826149,-0.101177461445332,-0.015739884227514,0.182618722319603,-0.135913163423538,-0.101437978446484,-0.130938440561295,0.052429005503654,0.115026012063026,-0.047314491122961,0.146102428436279,0.014961111359298,0.043491438031197));
res += mul(Get(s3,dx,dy), float4x4(0.022492168471217,-0.043521288782358,-0.159524992108345,-0.129993796348572,0.075844816863537,-0.050540469586849,0.140106648206711,-0.122896842658520,0.140990465879440,-0.107934840023518,-0.038207210600376,-0.036609340459108,-0.193675920367241,-0.055801771581173,-0.029090186581016,0.127085268497467));
return max(float4(0,0,0,0), res);
}
