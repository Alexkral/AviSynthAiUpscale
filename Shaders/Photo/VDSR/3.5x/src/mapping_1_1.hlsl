sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000362668361049,0.006474151276052,-0.000398754811613,0.010842591524124,0.007687298115343,0.040167175233364,-0.314752519130707,0.136435642838478,0.001086229574867,0.004197238478810,-0.004334032069892,0.008613949641585,0.007835049182177,-0.491003811359406,-0.149540707468987,0.194258823990822));
res += mul(Get(s0,-dx,0), float4x4(-0.001848278450780,-0.003632240230218,-0.003827965585515,0.000406788603868,0.005384561605752,-0.026402661576867,-0.401712000370026,0.040772914886475,0.004023594316095,-0.005490657407790,0.005521545186639,0.008379089646041,-0.006889387965202,0.020045518875122,0.333331853151321,-0.531318962574005));
res += mul(Get(s0,-dx,dy), float4x4(0.001630674232729,0.003252213122323,0.005918127018958,-0.003784773405641,0.000854135781992,0.011305872350931,-0.464825838804245,0.023753022775054,0.012538081035018,-0.003478241618723,-0.001317724352702,-0.003525308798999,-0.001382110407576,0.161839231848717,0.657586038112640,-0.269538879394531));
res += mul(Get(s0,0,-dy), float4x4(0.007277826778591,-0.004298762883991,-0.002573614707217,-0.002674996387213,-0.005167770665139,-0.225875392556190,-0.005879287142307,-0.037437200546265,-0.004350319039077,-0.000463281845441,0.004247063305229,0.001177522120997,-0.007906096056104,-0.213588550686836,-0.095481902360916,1.315544247627258));
res += mul(Get(s0,0,0), float4x4(0.007494847290218,-0.004665456712246,0.006121648009866,-0.002218856243417,-0.000907817389816,-0.239300534129143,-0.003613347886130,-0.047487668693066,0.000119125477795,-0.001683269394562,-0.001858082367107,-0.000624763604719,0.000630449096207,0.146820560097694,0.078891053795815,-0.095818363130093));
res += mul(Get(s0,0,dy), float4x4(-0.000030534571124,0.002321879845113,0.002049997216091,-0.003172544064000,0.002841462148353,-0.193891674280167,0.005708388984203,0.041110299527645,-0.003208833746612,0.004565994720906,-0.006995972711593,-0.004119583871216,-0.004084277898073,-0.025942148640752,0.085770756006241,-0.482901722192764));
res += mul(Get(s0,dx,-dy), float4x4(-0.002386611886322,0.005430330988020,0.004608058370650,0.001495958073065,-0.001364791183732,0.012102490290999,-0.022712785750628,-0.215310126543045,0.002170623978600,0.000982082914561,0.000444299745141,0.001357550034299,-0.000187161640497,-0.377086132764816,-0.080767050385475,1.105867743492126));
res += mul(Get(s0,dx,0), float4x4(0.008663484826684,0.007332816254348,0.002175858709961,-0.000570075993892,-0.006999185774475,-0.187258392572403,-0.017574602738023,-0.143806308507919,0.003741595894098,0.003130241530016,-0.005401518195868,0.005721606779844,0.000631345144939,0.200166538357735,-0.312130481004715,-0.157249569892883));
res += mul(Get(s0,dx,dy), float4x4(0.000254891318036,0.003800195641816,0.003368648001924,0.000490709033329,0.004025567322969,-0.233834207057953,-0.014373145066202,0.100114516913891,0.003398455679417,-0.003621034091339,0.000088211119873,0.001067167264409,-0.001198305399157,0.197281494736671,-0.481380671262741,-0.564843237400055));
res += mul(Get(s1,-dx,-dy), float4x4(0.002537430496886,-0.000242350186454,-0.006140101235360,-0.003189068287611,-0.000069850364525,-0.002167815575376,0.005670991260558,0.000650736445095,0.005217450205237,-0.003249743720517,-0.003020869102329,0.004202188923955,-0.004551873076707,-0.000353056530003,-0.002165094949305,0.004423626698554));
res += mul(Get(s1,-dx,0), float4x4(0.005946940742433,0.006524376571178,0.003693027887493,0.003799617988989,0.001162074157037,-0.003607853315771,0.003867140738294,-0.004541028756648,-0.003747230861336,-0.004213994834572,0.000433347624494,0.004373444244266,0.005529955960810,-0.002310868818313,-0.001485259970650,-0.007592746056616));
res += mul(Get(s1,-dx,dy), float4x4(0.002050376031548,-0.005570030771196,-0.004840373992920,0.007286677137017,0.000223038718104,0.007358685601503,0.000896339071915,0.001220568781719,-0.005973435007036,-0.001050670864061,0.002302481094375,-0.001066220225766,-0.006291545461863,-0.005939326714724,-0.001164175453596,-0.003890583291650));
res += mul(Get(s1,0,-dy), float4x4(-0.003140950808302,-0.002104875398800,-0.004433883354068,0.000697505311109,0.002175142755732,-0.005569361150265,-0.001336031593382,0.001125848270021,-0.005122483707964,0.002745214616880,0.000932208437007,0.004648424685001,-0.003044824814424,-0.003633490065113,-0.000185890516150,0.005004109814763));
res += mul(Get(s1,0,0), float4x4(0.004030816257000,0.001556528382935,0.000689252978191,-0.004682461731136,0.006746297236532,-0.001481148414314,-0.000465807854198,-0.003229829948395,0.001784457243048,0.006050161086023,0.000038980899262,0.001309912651777,-0.005728332325816,0.006360233761370,-0.003437282750383,-0.003576817456633));
res += mul(Get(s1,0,dy), float4x4(0.001799591118470,-0.000805338728242,-0.003890100400895,-0.004409692715853,-0.005005757790059,-0.005870119202882,0.002643204294145,-0.004076300654560,0.006447585299611,-0.000350579823134,-0.004881340079010,-0.002820232184604,0.001244906103238,0.004411694128066,0.003576533170417,-0.004222886171192));
res += mul(Get(s1,dx,-dy), float4x4(0.007904754951596,-0.003110814141110,-0.000245206349064,-0.001349653466605,0.001814464689232,-0.011796025559306,-0.003024749225006,0.002828303957358,-0.000403072888730,0.000359948258847,-0.007921600714326,-0.004230135586113,0.001986412797123,-0.002542946720496,-0.008152464404702,-0.002346648136154));
res += mul(Get(s1,dx,0), float4x4(-0.001922724768519,0.004766775295138,0.004811033606529,-0.001066052704118,0.000083359474957,-0.005996665451676,-0.000158404523972,0.002828100696206,-0.008936463855207,0.002501837909222,-0.009651789441705,-0.002520498586819,0.002047846326604,0.001914035878144,-0.001077385386452,0.006728828419000));
res += mul(Get(s1,dx,dy), float4x4(0.000330569484504,-0.000175005669007,0.007793586701155,-0.010681574232876,-0.001878204289824,0.009362038224936,0.004796097986400,0.001098330249079,0.001388717791997,-0.003199638798833,-0.004012721125036,0.004202814772725,-0.001133834128268,0.003935944754630,-0.002596033271402,0.005117435008287));
res += mul(Get(s2,-dx,-dy), float4x4(0.010074592195451,-0.137412369251251,0.194461777806282,0.095449887216091,0.001772305695340,-0.001240508514456,-0.004785798955709,-0.000098282900581,-0.000599205668550,-0.007731083314866,0.010399584658444,0.001373243751004,-0.008225447498262,-0.492227435112000,0.798498451709747,0.100585997104645));
res += mul(Get(s2,-dx,0), float4x4(-0.007546950131655,-0.348244637250900,0.396317094564438,-0.404053688049316,-0.001882205833681,-0.001422691741027,-0.000717573333532,-0.002162021351978,-0.000107677326014,0.001055796165019,0.000286031427095,-0.005287018604577,-0.008850505575538,-0.537186801433563,0.557438731193542,-0.042847216129303));
res += mul(Get(s2,-dx,dy), float4x4(-0.001681130961515,-0.036373332142830,0.036607090383768,0.120673939585686,0.006539792753756,-0.005884126294404,-0.000981897348538,-0.001389732700773,0.000574979756493,0.001661679008976,-0.002639491576701,0.007895539514720,0.001474110176787,0.887997567653656,0.003593807108700,-0.462210029363632));
res += mul(Get(s2,0,-dy), float4x4(0.002932341070846,-0.037320874631405,-0.145224690437317,0.041225496679544,0.002292988356203,0.005396245047450,0.004453686531633,-0.001647852710448,0.002159126102924,0.003313775407150,-0.002921589184552,-0.000337723526172,-0.001317218062468,-0.374018728733063,-0.252330601215363,0.039390593767166));
res += mul(Get(s2,0,0), float4x4(-0.005199864041060,-0.358827650547028,-0.080968908965588,-0.429363131523132,0.003655249951407,0.002583487192169,0.004372917581350,-0.008223181590438,0.001206902205013,0.001960445195436,0.004234923515469,0.006501156836748,-0.000354301329935,-0.161219000816345,-0.021765423938632,0.063975282013416));
res += mul(Get(s2,0,dy), float4x4(-0.003504131920636,0.112535320222378,-0.279315382242203,0.049783572554588,-0.003796012606472,0.006001458503306,0.003439999651164,-0.001200116239488,0.001630897517316,0.004655951168388,0.005532540846616,-0.006309018936008,-0.001056431559846,1.155743002891541,-0.067441217601299,-0.331411957740784));
res += mul(Get(s2,dx,-dy), float4x4(-0.002155167050660,0.096482895314693,-0.004799254238605,0.005602608900517,0.000149002531543,0.002353916876018,0.002826192416251,0.002855662023649,-0.001239877194166,-0.004782123491168,-0.006906697526574,-0.000618266058154,-0.007452760357410,0.167675346136093,-0.696956098079681,0.407661408185959));
res += mul(Get(s2,dx,0), float4x4(0.004506394732744,-0.310663789510727,-0.039502654224634,-0.282421410083771,-0.005418664310127,-0.000328789843479,-0.003925535362214,0.000515386578627,-0.002295664045960,0.000582267413847,0.001659511355683,0.004012443590909,0.000466080673505,-0.380014508962631,-0.196647062897682,0.269414365291595));
res += mul(Get(s2,dx,dy), float4x4(0.001538828364573,0.137481689453125,-0.133272632956505,0.004933439195156,0.002448641927913,-0.004772088024765,0.003076881170273,-0.007809526287019,0.000704479287378,-0.002391226124018,-0.002588064642623,-0.006818982772529,-0.005124487914145,-0.016399273648858,-0.130418464541435,-0.372439324855804));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002181437797844,-0.005002991762012,-0.002454681089148,0.007131012156606,-0.001908100326546,0.003259710734710,0.007159646134824,-0.009176623076200,0.001370486104861,-0.008735957555473,0.074676826596260,-0.051289305090904,0.002388813532889,-0.015255528502166,-0.112596824765205,-0.150971591472626));
res += mul(Get(s3,-dx,0), float4x4(-0.003617228940129,-0.002773199696094,0.004461443051696,0.007229845970869,-0.003269364126027,-0.001409160322510,0.001926387660205,-0.004442607518286,-0.000709430081770,0.032155402004719,-0.035267964005470,-0.172306984663010,0.001576809678227,-0.083750911056995,-0.093467026948929,-0.164388850331306));
res += mul(Get(s3,-dx,dy), float4x4(0.005204096436501,0.001915602711961,0.003265788080171,-0.006890315562487,0.001200214261189,0.009264149703085,-0.001392906764522,-0.000947464141063,0.000940514320973,-0.109817706048489,-0.171507164835930,-0.371600747108459,0.000639380246866,-0.082451075315475,-0.026198884472251,-0.062616020441055));
res += mul(Get(s3,0,-dy), float4x4(-0.002887319540605,-0.000529679004103,0.002649419708177,0.005080979783088,0.002286589005962,0.000336347322445,-0.005430357065052,-0.001234401599504,0.005175951868296,0.030534015968442,-0.150193020701408,-0.117250286042690,-0.002288752468303,0.080173909664154,-0.178018569946289,0.091572567820549));
res += mul(Get(s3,0,0), float4x4(-0.001175004174002,-0.015240939334035,0.002719070529565,-0.001726671005599,-0.002434196183458,0.000649117340799,-0.003503655316308,0.005655355285853,0.000514038780238,0.053497232496738,-0.237133055925369,-0.081330850720406,-0.007594719529152,-0.026591448113322,-0.179964318871498,0.028574272990227));
res += mul(Get(s3,0,dy), float4x4(-0.000839670363348,0.006097973324358,-0.006852259859443,0.001440841122530,0.003576951334253,0.001541836303659,-0.006009269040078,0.001530390814878,-0.001941855764017,0.022432610392570,-0.323789417743683,-0.121334061026573,-0.003398613072932,-0.048197656869888,-0.174211993813515,0.111300460994244));
res += mul(Get(s3,dx,-dy), float4x4(-0.000617847137619,-0.003644708544016,-0.001936145476066,-0.004186421632767,-0.001736694597639,-0.008111046627164,-0.001700964989141,0.001147183822468,-0.000309522292810,-0.039872433990240,0.014008084312081,-0.102020293474197,0.008506843820214,-0.025787752121687,0.135439798235893,0.030518971383572));
res += mul(Get(s3,dx,0), float4x4(-0.004872967954725,-0.007055083755404,-0.000858143903315,-0.002710083499551,0.000476064014947,0.002700709970668,-0.001727484748699,-0.002362099243328,0.003268048865721,-0.089246891438961,0.122746102511883,-0.054463166743517,-0.008391899056733,-0.080171465873718,0.190216705203056,-0.133737146854401));
res += mul(Get(s3,dx,dy), float4x4(0.000529379816726,0.006730735767633,-0.000325400411384,-0.003665468189865,0.005711497738957,0.001678978325799,0.002959744771942,-0.006347211077809,-0.003993296995759,0.055070556700230,0.036006070673466,-0.078563712537289,0.000214744039113,-0.014909842982888,0.126327186822891,-0.075560428202152));
return max(float4(0,0,0,0), res);
}
