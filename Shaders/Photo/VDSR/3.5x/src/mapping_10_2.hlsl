sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.039434887468815,0.035384569317102,0.083422683179379,0.031994890421629,-0.061116550117731,-0.053719270974398,-0.092505499720573,0.239618733525276,0.155295163393021,-0.036190170794725,0.148166015744209,-0.246210426092148,0.036858242005110,-0.073378391563892,-0.062927953898907,-0.089704543352127));
res += mul(Get(s0,-dx,0), float4x4(-0.070582270622253,0.250913470983505,-0.027305714786053,0.072311580181122,-0.077216506004333,0.184896007180214,0.080285832285881,0.006664549466223,0.177201777696609,0.023855619132519,-0.034157320857048,-0.084695428609848,-0.037458602339029,-0.028585631400347,0.039527315646410,-0.010563085786998));
res += mul(Get(s0,-dx,dy), float4x4(-0.143901273608208,0.058557838201523,0.034674886614084,0.078763052821159,-0.089695617556572,0.098851278424263,-0.034140340983868,0.084631733596325,0.187793642282486,-0.093545012176037,0.140956163406372,0.042662288993597,-0.121293775737286,-0.047343611717224,0.058755543082952,-0.054253086447716));
res += mul(Get(s0,0,-dy), float4x4(-0.025987554341555,0.089719176292419,-0.001554915332235,-0.056462634354830,-0.023258864879608,-0.003276879666373,-0.064322754740715,-0.001445204135962,0.010476482100785,0.016442719846964,0.011670984327793,-0.010265205055475,-0.004538870882243,-0.028008647263050,-0.131808653473854,-0.046766605228186));
res += mul(Get(s0,0,0), float4x4(0.135658919811249,0.205066338181496,-0.041070125997066,-0.073371581733227,0.023827834054828,0.000818848202471,0.186062902212143,0.021122790873051,-0.000311745156068,0.173952519893646,-0.018220601603389,0.203179165720940,0.046221360564232,-0.005059635266662,-0.135063990950584,0.112328439950943));
res += mul(Get(s0,0,dy), float4x4(-0.012980137951672,-0.177758157253265,0.066695876419544,-0.027462670579553,0.050343837589025,0.000152642634930,-0.085726633667946,0.012008519843221,-0.046543296426535,-0.149950340390205,0.022072175517678,0.037570606917143,-0.135696917772293,0.024982901290059,-0.118735261261463,-0.068122781813145));
res += mul(Get(s0,dx,-dy), float4x4(0.025676036253572,-0.023385139182210,-0.175593897700310,-0.038246762007475,-0.070160359144211,0.040547713637352,0.083809800446033,-0.003883224679157,0.080320544540882,-0.014687323011458,0.067357011139393,0.042434517294168,0.045835174620152,0.035889372229576,-0.095168724656105,0.152365520596504));
res += mul(Get(s0,dx,0), float4x4(0.096014395356178,0.209991708397865,-0.032184477895498,-0.079015038907528,0.059737283736467,0.013219946995378,0.154209956526756,0.106578677892685,-0.074015498161316,0.124684922397137,-0.039074577391148,0.038583472371101,-0.053800277411938,0.001708953641355,-0.107487753033638,0.138661727309227));
res += mul(Get(s0,dx,dy), float4x4(-0.010289647616446,-0.127491280436516,-0.034217238426208,-0.013420045375824,0.020956724882126,-0.028379743918777,-0.034440245479345,0.124251730740070,-0.088743843138218,-0.056371916085482,-0.057418148964643,0.009582921862602,-0.062371768057346,0.166064366698265,0.094094716012478,-0.041593372821808));
res += mul(Get(s1,-dx,-dy), float4x4(0.070933960378170,0.102238371968269,-0.173436209559441,-0.020137453451753,0.022554034367204,-0.100787326693535,-0.011328293010592,-0.046634666621685,-0.127473160624504,0.049100618809462,0.052217952907085,-0.007855808362365,-0.183262854814529,0.047511983662844,0.092217326164246,-0.029975317418575));
res += mul(Get(s1,-dx,0), float4x4(-0.049060795456171,0.233053535223007,0.055635046213865,0.003819492878392,-0.028823904693127,0.001812751172110,0.130354866385460,0.042169172316790,-0.045868039131165,0.146475136280060,-0.062200959771872,-0.062987908720970,-0.159206643700600,0.123366795480251,0.038631871342659,-0.132369816303253));
res += mul(Get(s1,-dx,dy), float4x4(0.021384207531810,-0.007250398863107,-0.063518263399601,0.000599023245741,-0.017387464642525,-0.036284618079662,-0.069189436733723,-0.045472845435143,-0.109534516930580,0.059144467115402,-0.189829602837563,-0.190340429544449,-0.193750008940697,-0.076306611299515,-0.052269071340561,-0.004787590820342));
res += mul(Get(s1,0,-dy), float4x4(0.145287826657295,-0.173823207616806,-0.099416233599186,-0.083891980350018,0.066815391182899,-0.045945707708597,-0.026696559041739,0.058399237692356,0.004946354776621,-0.122022710740566,-0.043837249279022,0.194083228707314,-0.101302817463875,-0.050017502158880,0.029884701594710,-0.001545441453345));
res += mul(Get(s1,0,0), float4x4(-0.075214259326458,-0.056590903550386,0.052818190306425,-0.001511013717391,-0.023529317229986,-0.014949039556086,0.056178323924541,0.059845577925444,-0.030842088162899,-0.048748597502708,-0.071837216615677,-0.073627151548862,0.126874536275864,0.079752102494240,-0.045408185571432,-0.111174322664738));
res += mul(Get(s1,0,dy), float4x4(0.119834624230862,-0.144439801573753,-0.128021046519279,0.037943284958601,-0.112252950668335,0.052058499306440,-0.092993333935738,0.143620342016220,-0.058141499757767,-0.053282167762518,0.048829127103090,-0.113670811057091,-0.193378672003746,0.092636652290821,-0.108006261289120,0.064722105860710));
res += mul(Get(s1,dx,-dy), float4x4(-0.056464824825525,0.050424002110958,-0.108512558043003,-0.000353272567736,0.088009484112263,-0.056940510869026,-0.134005784988403,-0.025397846475244,-0.019348625093699,0.056204415857792,0.137919485569000,-0.012314620427787,0.060094442218542,-0.011029460467398,-0.033603467047215,0.156597912311554));
res += mul(Get(s1,dx,0), float4x4(-0.004497633315623,0.165969237685204,0.049032017588615,-0.002020987216383,0.142536595463753,-0.015492090955377,0.058116506785154,-0.101487487554550,-0.050143145024776,-0.001269561820664,0.069056503474712,-0.072023481130600,0.155229836702347,-0.046362407505512,-0.040270224213600,0.203627958893776));
res += mul(Get(s1,dx,dy), float4x4(0.052751775830984,-0.058676116168499,0.012517436407506,-0.017233982682228,0.063207916915417,-0.047161731868982,-0.065218731760979,-0.030280545353889,0.050858620554209,-0.055365402251482,0.294823169708252,-0.068494163453579,-0.084526374936104,-0.144373953342438,-0.023840308189392,-0.083876356482506));
res += mul(Get(s2,-dx,-dy), float4x4(0.037151418626308,-0.121475353837013,-0.018727796152234,0.176176652312279,0.086971983313560,-0.018456313759089,-0.078305356204510,-0.039407815784216,0.075637511909008,-0.086012572050095,0.019211338832974,-0.059141460806131,0.125805094838142,0.024521719664335,-0.012364820577204,-0.043802902102470));
res += mul(Get(s2,-dx,0), float4x4(0.034139081835747,-0.086981847882271,-0.028071174398065,0.009812396019697,0.099183477461338,-0.008660387247801,0.125864475965500,-0.152106240391731,0.063349738717079,-0.065251141786575,0.138983234763145,-0.053936418145895,-0.010281996801496,-0.181540831923485,0.157782003283501,0.032080132514238));
res += mul(Get(s2,-dx,dy), float4x4(-0.139048263430595,-0.118019357323647,-0.143902197480202,-0.031592343002558,0.071871742606163,-0.074774146080017,0.147281900048256,-0.106028817594051,0.074557438492775,-0.168631285429001,-0.013821814209223,-0.000010618221495,0.023751094937325,-0.257411867380142,0.058396708220243,-0.102751776576042));
res += mul(Get(s2,0,-dy), float4x4(0.109385140240192,0.007060882635415,0.011920852586627,0.081693224608898,0.075874902307987,0.091035693883896,0.091846227645874,0.054016221314669,-0.010341187939048,-0.027887087315321,0.077266752719879,-0.077182620763779,0.039013970643282,0.182581111788750,-0.070132292807102,0.038541983813047));
res += mul(Get(s2,0,0), float4x4(0.077797353267670,0.016047829762101,0.070206247270107,-0.011825711466372,-0.054275363683701,0.111130528151989,-0.059162430465221,-0.082033552229404,-0.018763756379485,0.103876359760761,0.031115699559450,-0.092983998358250,-0.000749119615648,0.101194806396961,-0.028498830273747,0.040635321289301));
res += mul(Get(s2,0,dy), float4x4(-0.104767814278603,-0.077771559357643,0.053285572677851,0.073888771235943,-0.039417479187250,0.077202573418617,-0.051892135292292,-0.092851497232914,0.121815912425518,-0.154699116945267,-0.043486274778843,-0.079675555229187,0.122261069715023,0.067896328866482,-0.158607542514801,0.067939691245556));
res += mul(Get(s2,dx,-dy), float4x4(0.009642211720347,0.081076830625534,0.059046670794487,0.080302804708481,-0.021113192662597,-0.052936915308237,-0.040199615061283,0.012425086461008,0.000144819146954,-0.064901314675808,0.015870708972216,-0.044223893433809,-0.017556162551045,0.137288525700569,0.142928391695023,-0.031522694975138));
res += mul(Get(s2,dx,0), float4x4(-0.043348520994186,0.067623898386955,0.296349406242371,0.008088964037597,-0.206813707947731,-0.047111783176661,0.044126708060503,-0.120186559855938,0.133907839655876,0.053908508270979,-0.029582131654024,-0.077177822589874,0.013773388229311,0.100086048245430,0.041795846074820,0.002753668930382));
res += mul(Get(s2,dx,dy), float4x4(-0.088055513799191,-0.027837339788675,-0.034405451267958,0.165558189153671,-0.098947808146477,-0.028807705268264,0.059616763144732,-0.068594075739384,0.091992542147636,-0.072025105357170,-0.071334838867188,0.167291924357414,0.198171094059944,0.028365537524223,-0.090041756629944,0.102042257785797));
res += mul(Get(s3,-dx,-dy), float4x4(-0.073196321725845,0.069700680673122,-0.125286251306534,-0.108249515295029,0.039872445166111,0.125768214464188,-0.013718337751925,0.135722815990448,0.103649020195007,-0.035051543265581,-0.069217182695866,0.015845276415348,0.173064783215523,-0.080960199236870,-0.069593310356140,-0.248654425144196));
res += mul(Get(s3,-dx,0), float4x4(-0.032158084213734,0.113683842122555,0.065849453210831,0.007130182348192,-0.079789347946644,0.081102378666401,0.054122310131788,-0.023829266428947,0.063930973410606,-0.054540321230888,0.008697006851435,-0.026074435561895,0.113892115652561,-0.072437159717083,0.013205606490374,-0.146061554551125));
res += mul(Get(s3,-dx,dy), float4x4(-0.108043089509010,0.032517518848181,0.017248235642910,-0.126362368464470,-0.043079964816570,-0.192827254533768,0.062982492148876,-0.085749074816704,-0.072899498045444,0.019054237753153,0.079585209488869,-0.115624196827412,0.093469597399235,-0.057567805051804,-0.008525522425771,-0.005116925574839));
res += mul(Get(s3,0,-dy), float4x4(0.008843132294714,-0.030705763027072,0.024201316758990,0.268466800451279,0.008911445736885,0.024909371510148,0.001547369291075,0.028808334842324,-0.046235281974077,0.016245674341917,-0.056933306157589,-0.004201319068670,-0.002569248434156,0.061140634119511,-0.151230663061142,-0.205508142709732));
res += mul(Get(s3,0,0), float4x4(-0.072518356144428,0.002743164077401,0.083882853388786,0.179238647222519,-0.150439694523811,0.052767418324947,-0.039782200008631,0.025990357622504,-0.083451882004738,0.008471407927573,-0.010958227328956,0.015384985134006,-0.057739179581404,0.012388200499117,0.003245488973334,-0.087322905659676));
res += mul(Get(s3,0,dy), float4x4(-0.105262145400047,-0.043309103697538,-0.034502338618040,0.068883389234543,-0.005768235307187,-0.127363204956055,0.023681707680225,-0.101889446377754,-0.038151852786541,0.112377718091011,0.046574514359236,0.037752464413643,-0.040213670581579,-0.039517264813185,-0.029453558847308,-0.005336402449757));
res += mul(Get(s3,dx,-dy), float4x4(0.183755010366440,-0.033695191144943,-0.050351794809103,-0.051346492022276,0.167156174778938,0.081639073789120,-0.112667568027973,-0.045478012412786,-0.091728337109089,-0.043625440448523,0.122742742300034,0.031682476401329,0.128351107239723,-0.101554043591022,-0.048757441341877,-0.124557837843895));
res += mul(Get(s3,dx,0), float4x4(0.005344766192138,-0.038664434105158,0.030524441972375,-0.069897770881653,0.185101762413979,0.065274052321911,-0.151497706770897,0.043992251157761,-0.019877286627889,-0.101480178534985,0.015594307333231,-0.024075690656900,-0.096586421132088,0.089075021445751,0.070918373763561,-0.020713599398732));
res += mul(Get(s3,dx,dy), float4x4(0.048684846609831,0.048028834164143,-0.147908836603165,0.065800800919533,0.038338985294104,-0.111954681575298,-0.013554707169533,-0.021076977252960,-0.051318280398846,-0.028447458520532,-0.085650272667408,-0.075280614197254,-0.043035756796598,-0.011869879439473,0.057244978845119,0.048286788165569));
return max(float4(0,0,0,0), res);
}
