sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.050979029387236,-0.153175592422485,-0.104906432330608,0.058463748544455,-0.056250318884850,0.038040746003389,-0.115841031074524,0.197572171688080,-0.036121372133493,-0.033793229609728,-0.106214649975300,0.047722671180964,-0.032856859266758,-0.117056228220463,0.100734405219555,0.111049413681030));
res += mul(Get(s0,-dx,0), float4x4(0.225434571504593,-0.059122655540705,0.042974926531315,0.085283212363720,-0.002654687035829,-0.033830735832453,0.071558825671673,0.053806953132153,-0.039273135364056,-0.045470181852579,0.056674715131521,-0.057857621461153,-0.059779569506645,-0.080972462892532,0.041676472872496,0.016780663281679));
res += mul(Get(s0,-dx,dy), float4x4(-0.216503977775574,-0.225943893194199,0.005142533220351,0.043615654110909,-0.064875997602940,0.078868083655834,0.075840219855309,0.209414333105087,0.051724422723055,0.059257216751575,0.112549282610416,-0.165965884923935,-0.077356606721878,0.054431352764368,0.030610192567110,-0.028663715347648));
res += mul(Get(s0,0,-dy), float4x4(-0.053919665515423,0.036261856555939,-0.014245081692934,0.209002748131752,-0.032831821590662,0.410838186740875,-0.034639146178961,0.032323524355888,-0.000572506047320,-0.157360553741455,0.190830722451210,-0.053771961480379,-0.124371349811554,-0.045738685876131,0.002816522028297,-0.001476601930335));
res += mul(Get(s0,0,0), float4x4(0.085697107017040,-0.064098663628101,0.068516425788403,-0.068032711744308,0.030985571444035,-0.071419738233089,0.077466912567616,0.005852569360286,-0.092403903603554,-0.243075773119926,0.088348440825939,0.140269130468369,0.092955298721790,0.222531288862228,0.028341397643089,-0.073070816695690));
res += mul(Get(s0,0,dy), float4x4(-0.049287568777800,0.129414513707161,0.189178347587585,-0.182582557201385,-0.022151205688715,0.084894888103008,0.063541747629642,0.010802558623254,0.162817895412445,-0.087446518242359,0.014815796166658,0.053695730865002,0.087366558611393,0.048119381070137,-0.051786623895168,0.026238881051540));
res += mul(Get(s0,dx,-dy), float4x4(-0.096829473972321,-0.150053486227989,0.049542378634214,-0.218459695577621,0.043504040688276,0.047416351735592,0.161356627941132,0.084554836153984,0.032504174858332,-0.017294995486736,-0.065382875502110,-0.050854731351137,-0.293677389621735,0.032308958470821,0.176657989621162,-0.027528690174222));
res += mul(Get(s0,dx,0), float4x4(0.110830835998058,0.099752038717270,-0.140845373272896,0.129985004663467,-0.220961004495621,0.036334838718176,-0.050499733537436,0.185062855482101,-0.100965864956379,-0.108669325709343,-0.100225195288658,-0.068632110953331,-0.145580664277077,0.049516122788191,-0.155326709151268,-0.007463467773050));
res += mul(Get(s0,dx,dy), float4x4(0.033269289880991,-0.082258515059948,-0.065840236842632,0.239179417490959,0.051751419901848,-0.172336712479591,-0.022754460573196,0.136818721890450,0.169517830014229,-0.136927247047424,-0.058836258947849,-0.114767700433731,-0.086034059524536,-0.092668138444424,-0.071671165525913,-0.151579633355141));
res += mul(Get(s1,-dx,-dy), float4x4(-0.031526993960142,-0.053878773003817,-0.187890037894249,0.020960777997971,0.058123663067818,0.055668357759714,0.038506582379341,-0.077227801084518,0.045752815902233,-0.100928239524364,0.054145850241184,-0.069916240870953,0.038171738386154,0.109447710216045,0.030145725235343,-0.147830307483673));
res += mul(Get(s1,-dx,0), float4x4(0.011328690685332,-0.062768153846264,-0.256597131490707,-0.013484735041857,-0.124146379530430,0.042971406131983,-0.091157242655754,0.244630292057991,-0.018203189596534,0.146671980619431,-0.108248792588711,-0.124580554664135,-0.027285994961858,0.039227083325386,0.137060627341270,0.036087024956942));
res += mul(Get(s1,-dx,dy), float4x4(0.163297221064568,0.084876827895641,0.158655717968941,-0.029571020975709,0.064465388655663,-0.247736856341362,0.020902527496219,0.107297755777836,-0.203105062246323,0.173668071627617,-0.101984448730946,-0.048655375838280,-0.063768655061722,0.204916656017303,-0.091439887881279,-0.207424029707909));
res += mul(Get(s1,0,-dy), float4x4(0.053781419992447,0.195507153868675,-0.153900593519211,-0.130807280540466,-0.130697309970856,0.004438555333763,0.033232904970646,-0.021949509158731,-0.090227775275707,0.056298568844795,-0.176235646009445,-0.097891390323639,-0.041301883757114,0.072238087654114,0.066585719585419,0.035088282078505));
res += mul(Get(s1,0,0), float4x4(-0.114952117204666,-0.021344617009163,-0.167627915740013,0.001898223068565,-0.122233226895332,-0.090912163257599,0.118435390293598,-0.114464156329632,-0.037111558020115,-0.101918481290340,-0.096454024314880,-0.039215669035912,0.200349882245064,-0.020902233198285,-0.009036416187882,0.029514536261559));
res += mul(Get(s1,0,dy), float4x4(-0.023301776498556,-0.104363016784191,-0.159882619976997,0.027583478018641,-0.229956284165382,-0.284180581569672,-0.169382572174072,-0.123925596475601,-0.193191319704056,0.072314560413361,-0.007723751477897,0.095193929970264,-0.164969578385353,-0.070837117731571,0.071503937244415,0.000425561505836));
res += mul(Get(s1,dx,-dy), float4x4(-0.059365227818489,0.096550047397614,-0.179891332983971,-0.008479709737003,0.009663816541433,-0.124069213867188,0.038776323199272,0.129571154713631,0.174610868096352,0.041627727448940,0.072525940835476,0.136175379157066,-0.018407361581922,-0.036534283310175,0.151511028409004,-0.033587396144867));
res += mul(Get(s1,dx,0), float4x4(-0.064630687236786,-0.204156592488289,-0.051215983927250,0.071962460875511,-0.091587290167809,0.037779260426760,0.038126543164253,-0.043940540403128,-0.030369510874152,-0.017515903338790,0.111202970147133,-0.068616129457951,-0.237286910414696,0.240440458059311,-0.093197606503963,0.006375076714903));
res += mul(Get(s1,dx,dy), float4x4(-0.053078208118677,-0.069427616894245,-0.039799209684134,0.099177278578281,0.044829338788986,-0.124060101807117,0.085587278008461,0.125249072909355,-0.212628126144409,0.054611742496490,-0.124231308698654,0.101700119674206,-0.330872952938080,-0.113396510481834,-0.075300335884094,-0.188725307583809));
res += mul(Get(s2,-dx,-dy), float4x4(-0.008064860478044,0.188213869929314,-0.146424010396004,0.152395859360695,-0.041312221437693,0.037671402096748,0.121556408703327,0.043604291975498,-0.059328857809305,-0.045420225709677,0.138778895139694,-0.127855747938156,-0.105993852019310,-0.062811397016048,-0.041685085743666,-0.083548635244370));
res += mul(Get(s2,-dx,0), float4x4(0.021915946155787,0.007267630659044,0.116757772862911,0.081079564988613,0.040918570011854,0.060108479112387,-0.121462948620319,0.196371898055077,0.025708464905620,-0.123812571167946,-0.041267234832048,-0.187268763780594,0.177865281701088,-0.016826393082738,0.021562034264207,-0.065129108726978));
res += mul(Get(s2,-dx,dy), float4x4(-0.022373447194695,0.127347931265831,-0.205260500311852,-0.199607655405998,-0.120874270796776,0.024029491469264,-0.006531976629049,-0.104954227805138,-0.077772848308086,-0.130200684070587,-0.083116866648197,-0.101597264409065,-0.010428131558001,0.119977667927742,0.065125137567520,0.056994002312422));
res += mul(Get(s2,0,-dy), float4x4(-0.158314794301987,-0.297854393720627,-0.198960840702057,-0.002605045679957,-0.017584227025509,-0.025777246803045,0.047101192176342,-0.095030322670937,0.312720149755478,-0.008764419704676,-0.170631051063538,-0.040773868560791,-0.041027892380953,-0.065099515020847,0.004227487370372,0.054834153503180));
res += mul(Get(s2,0,0), float4x4(0.043134413659573,-0.136450082063675,-0.088150732219219,0.094279617071152,-0.154216334223747,-0.038990996778011,0.175215750932693,0.018404275178909,0.111731871962547,-0.046993840485811,0.100624389946461,-0.078509531915188,-0.238831058144569,-0.092293895781040,-0.089074775576591,0.127540841698647));
res += mul(Get(s2,0,dy), float4x4(0.083143830299377,0.010734532028437,-0.042468011379242,-0.002491235965863,-0.088294692337513,-0.037982694804668,0.017043504863977,-0.055790647864342,-0.087611056864262,-0.003918082918972,-0.091556772589684,-0.088462635874748,-0.054465107619762,-0.012021013535559,0.112313792109489,-0.116440571844578));
res += mul(Get(s2,dx,-dy), float4x4(0.083096601068974,-0.057874720543623,0.086507908999920,-0.107627585530281,0.075908869504929,0.068302817642689,-0.126025959849358,-0.059930361807346,-0.035621773451567,-0.089642539620399,-0.185021772980690,-0.059369847178459,0.096256621181965,-0.196345552802086,0.227124854922295,0.090719424188137));
res += mul(Get(s2,dx,0), float4x4(-0.088422678411007,-0.104633040726185,0.085519209504128,0.103598088026047,-0.144259929656982,0.054903909564018,0.030625840649009,-0.068591870367527,-0.110206343233585,0.204247385263443,-0.361152499914169,-0.080361343920231,-0.046041939407587,0.101295135915279,0.066468812525272,-0.004249957855791));
res += mul(Get(s2,dx,dy), float4x4(-0.003798675723374,0.005215377546847,-0.031143942847848,0.223982721567154,-0.050583191215992,0.097882613539696,0.183814153075218,0.025468338280916,-0.172605440020561,0.081411413848400,-0.054377630352974,0.049701567739248,-0.020937660709023,-0.070495404303074,-0.017080061137676,-0.093729503452778));
res += mul(Get(s3,-dx,-dy), float4x4(0.005026385188103,0.188331365585327,0.072107143700123,0.024225445464253,0.112129651010036,0.004618309438229,-0.065218627452850,-0.023573473095894,-0.045793283730745,0.106074646115303,-0.055518858134747,-0.118773184716702,0.079397767782211,-0.002144994214177,-0.030393680557609,0.014151001349092));
res += mul(Get(s3,-dx,0), float4x4(-0.092228755354881,-0.050790529698133,-0.107029594480991,0.025827776640654,-0.170179456472397,0.009408629499376,-0.008239101618528,0.266317874193192,-0.126168891787529,-0.161452099680901,0.038890097290277,-0.098479099571705,0.188828736543655,0.305784970521927,-0.083496667444706,0.116011351346970));
res += mul(Get(s3,-dx,dy), float4x4(0.038505766540766,0.010647598654032,0.208497434854507,0.043941620737314,-0.024673318490386,0.237262308597565,-0.081843554973602,-0.212999328970909,0.051489200443029,0.118977874517441,-0.064696371555328,-0.211552277207375,-0.001572468085214,-0.108775183558464,0.049721177667379,0.207259893417358));
res += mul(Get(s3,0,-dy), float4x4(-0.134698688983917,-0.005341888871044,-0.214193090796471,-0.122355125844479,-0.096545509994030,-0.046773951500654,0.018379407003522,0.091681830585003,0.161064609885216,-0.043418135493994,-0.060588665306568,-0.099951162934303,-0.043904595077038,0.107223257422447,-0.043537944555283,-0.030233561992645));
res += mul(Get(s3,0,0), float4x4(0.225289463996887,-0.045442219823599,-0.262398481369019,-0.102016478776932,-0.049500249326229,0.158030986785889,0.007736290339381,0.058710068464279,0.024271914735436,-0.119502060115337,-0.120932549238205,-0.042629078030586,0.098169974982738,0.063102394342422,-0.221109122037888,-0.099102601408958));
res += mul(Get(s3,0,dy), float4x4(-0.165322810411453,-0.037983942776918,0.047559592872858,-0.050233293324709,-0.210713461041451,-0.004125506151468,-0.051675133407116,0.048090837895870,0.073852367699146,-0.001180557766929,-0.050535518676043,-0.089064069092274,0.211459606885910,0.125114485621452,0.072267204523087,-0.213334128260612));
res += mul(Get(s3,dx,-dy), float4x4(-0.024126464501023,-0.092451766133308,-0.008887448348105,0.181700065732002,0.131696760654449,-0.112029269337654,0.143300533294678,-0.065523654222488,0.037308581173420,-0.032486490905285,-0.032165739685297,0.252345561981201,-0.089715480804443,-0.139980956912041,-0.052591230720282,0.145891666412354));
res += mul(Get(s3,dx,0), float4x4(0.008781351149082,-0.251550137996674,0.103336729109287,0.184878721833229,-0.030901869758964,0.052720226347446,-0.149173095822334,0.029936734586954,0.076241247355938,0.168357551097870,0.102229729294777,-0.148029983043671,-0.058757793158293,0.085848577320576,-0.080937735736370,0.114096067845821));
res += mul(Get(s3,dx,dy), float4x4(-0.002336688339710,-0.068862386047840,0.026553893461823,0.065347425639629,0.141050070524216,-0.117793887853622,0.008941214531660,0.168421924114227,-0.023884801194072,-0.157864362001419,-0.062223494052887,0.046010430902243,-0.145224377512932,0.053962450474501,-0.124725438654423,-0.069714069366455));
return max(float4(0,0,0,0), res);
}
