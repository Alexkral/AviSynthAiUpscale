sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.234626412391663,-0.093868821859360,0.005534870084375,-0.129516646265984,-0.044084843248129,0.077140562236309,0.028708579018712,0.070734538137913,0.153953865170479,-0.095105864107609,-0.054484143853188,-0.115301892161369,0.075039595365524,-0.077386870980263,-0.016632942482829,-0.120610766112804));
res += mul(Get(s0,-dx,0), float4x4(0.102910600602627,-0.032233543694019,-0.091909326612949,-0.181862384080887,-0.042645350098610,-0.005069599486887,0.022111292928457,0.046579305082560,0.193188980221748,0.001394197344780,0.049266774207354,-0.129392653703690,-0.281699091196060,0.065340399742126,0.191879138350487,-0.219444870948792));
res += mul(Get(s0,-dx,dy), float4x4(0.091485776007175,0.196423470973969,-0.018217353150249,0.011244136840105,-0.048645649105310,-0.099012739956379,0.002878741128370,0.114783652126789,-0.011859685182571,0.108197674155235,0.061982072889805,-0.127089977264404,-0.067871414124966,0.091087780892849,0.072997920215130,0.029446857050061));
res += mul(Get(s0,0,-dy), float4x4(0.044292621314526,0.078591793775558,-0.022253338247538,0.226902753114700,-0.037678070366383,0.007300926838070,0.003144713118672,-0.008453053422272,-0.021405139937997,-0.021711032837629,-0.011959754861891,0.174298718571663,0.113776981830597,0.168563649058342,-0.038362473249435,0.081274069845676));
res += mul(Get(s0,0,0), float4x4(-0.058612506836653,0.015731666237116,-0.150799125432968,0.172638654708862,-0.026378916576505,0.023079831153154,-0.017201760783792,-0.030143633484840,0.048111535608768,0.018971337005496,0.106016658246517,0.051682814955711,-0.173996105790138,0.037165295332670,0.153369337320328,-0.075162269175053));
res += mul(Get(s0,0,dy), float4x4(0.019949670881033,-0.050357881933451,0.107028700411320,0.009080094285309,0.005122858099639,-0.059611979871988,-0.009627343155444,0.028333682566881,0.029200749471784,-0.191606387495995,0.019081687554717,0.026470687240362,0.229223415255547,-0.112257629632950,-0.100109823048115,0.024701252579689));
res += mul(Get(s0,dx,-dy), float4x4(0.020921457558870,-0.037352729588747,0.179168969392776,-0.035360001027584,-0.060067296028137,-0.035334400832653,-0.050092950463295,0.007789073977619,-0.327214270830154,0.116598278284073,-0.058748312294483,0.216764107346535,0.191877335309982,-0.030089123174548,-0.077256925404072,0.094870753586292));
res += mul(Get(s0,dx,0), float4x4(-0.085241943597794,-0.088414892554283,-0.048196744173765,0.200313046574593,-0.037054341286421,-0.008234004490077,-0.062042605131865,-0.019152779132128,-0.133781373500824,-0.040169134736061,-0.057495903223753,-0.030706740915775,-0.130826130509377,-0.031048830598593,-0.015460697002709,0.021432509645820));
res += mul(Get(s0,dx,dy), float4x4(0.053282432258129,-0.140622973442078,-0.001285539474338,0.027465801686049,0.015363396145403,-0.056656435132027,-0.030563790351152,-0.016872426494956,0.031172851100564,-0.095651581883430,-0.096141323447227,-0.044560369104147,0.165461301803589,-0.095457762479782,-0.101080827414989,-0.055536519736052));
res += mul(Get(s1,-dx,-dy), float4x4(-0.038978300988674,-0.103527419269085,-0.067655369639397,-0.054106693714857,0.108826965093613,0.026845304295421,0.018005408346653,-0.035673122853041,-0.112541109323502,-0.138819009065628,-0.023946894332767,0.167398542165756,-0.087519496679306,-0.131091445684433,-0.029775176197290,0.026034094393253));
res += mul(Get(s1,-dx,0), float4x4(-0.047158434987068,0.025732222944498,-0.197852522134781,0.029415275901556,-0.026383681222796,0.001868950086646,-0.006909845396876,-0.046973172575235,-0.130233451724052,-0.015953412279487,-0.093509972095490,0.134534209966660,0.051191788166761,-0.012917633168399,0.033470530062914,0.010164919309318));
res += mul(Get(s1,-dx,dy), float4x4(-0.070642367005348,0.032467927783728,0.149473249912262,-0.062391206622124,0.029645808041096,-0.033624023199081,-0.118153564631939,-0.149060711264610,-0.064930938184261,0.044134330004454,0.079272456467152,0.049767218530178,0.035432375967503,0.034432400017977,-0.022564614191651,0.082265652716160));
res += mul(Get(s1,0,-dy), float4x4(0.019625436514616,0.244447201490402,-0.045519575476646,-0.171521142125130,0.163084551692009,-0.031267113983631,-0.108158387243748,0.038818575441837,0.022823806852102,-0.093496732413769,-0.017832692712545,0.035088513046503,0.035011935979128,-0.056038543581963,-0.105712853372097,-0.116674356162548));
res += mul(Get(s1,0,0), float4x4(0.097158171236515,0.119755983352661,0.023171519860625,-0.073027394711971,-0.030538091436028,0.016494516283274,-0.064784087240696,0.010989420115948,-0.110581941902637,-0.064411096274853,0.022059068083763,0.067203067243099,0.135435715317726,-0.026880772784352,0.071601465344429,-0.062556423246861));
res += mul(Get(s1,0,dy), float4x4(0.088358879089355,-0.230158045887947,0.191079318523407,-0.198200494050980,0.042812488973141,-0.015672331675887,-0.120522946119308,-0.058452706784010,-0.128837674856186,0.097973771393299,0.082816988229752,-0.058983631432056,0.083861656486988,0.074501052498817,0.022780129685998,-0.016921369358897));
res += mul(Get(s1,dx,-dy), float4x4(0.132550001144409,-0.110981784760952,0.030396936461329,-0.011949285864830,-0.010542462579906,0.391970366239548,-0.088764630258083,0.027595918625593,0.073732011020184,0.170271039009094,-0.065740004181862,0.030485309660435,-0.014801801182330,0.050873123109341,-0.002071951748803,-0.026069719344378));
res += mul(Get(s1,dx,0), float4x4(0.089115984737873,0.255597084760666,0.050480786710978,0.027682555839419,-0.037110250443220,0.026129152625799,-0.053557191044092,0.026829926297069,-0.087379291653633,0.008399884216487,0.040185131132603,0.056902416050434,0.060688093304634,-0.047907046973705,-0.006894090212882,0.134683847427368));
res += mul(Get(s1,dx,dy), float4x4(-0.180051267147064,-0.101311184465885,-0.341201275587082,0.048313166946173,0.042872946709394,-0.046828366816044,-0.062949359416962,-0.114461407065392,-0.123411767184734,-0.026721080765128,0.074580729007721,-0.097609579563141,-0.019029347226024,-0.084297105669975,-0.051230322569609,0.110833711922169));
res += mul(Get(s2,-dx,-dy), float4x4(-0.105708263814449,-0.072204403579235,-0.109668344259262,0.010027334094048,0.017513277009130,-0.030737705528736,-0.126673907041550,0.126837819814682,0.014800545759499,0.133433714509010,-0.025340626016259,-0.109664581716061,-0.057414531707764,-0.033184960484505,0.108229801058769,-0.013584733940661));
res += mul(Get(s2,-dx,0), float4x4(-0.054224587976933,-0.003933029249310,-0.149219274520874,-0.076046980917454,-0.003597534261644,0.144175946712494,0.045724023133516,0.052555918693542,-0.089488811790943,-0.253465265035629,-0.149292021989822,-0.108153425157070,-0.147601291537285,-0.058066390454769,0.021846482530236,0.002810901263729));
res += mul(Get(s2,-dx,dy), float4x4(-0.050156235694885,-0.030763769522309,0.151156082749367,-0.144163519144058,0.008410933427513,-0.180509969592094,0.005546474829316,-0.020344249904156,-0.097836673259735,0.083912983536720,-0.101001739501953,-0.043235432356596,-0.052783980965614,0.133248850703239,0.078274175524712,-0.130161330103874));
res += mul(Get(s2,0,-dy), float4x4(-0.082537658512592,-0.001295907306485,-0.009974143467844,0.103189803659916,0.087131731212139,-0.021831899881363,-0.188027843832970,0.037734519690275,0.002803775481880,-0.075732849538326,-0.087709456682205,0.072354272007942,0.000438315590145,0.024088101461530,0.040551532059908,-0.058249451220036));
res += mul(Get(s2,0,0), float4x4(-0.083914153277874,-0.028179029002786,0.112219065427780,0.113974869251251,0.052031382918358,0.025294488295913,0.017087807878852,0.054523594677448,-0.075350210070610,0.186721831560135,-0.131789132952690,-0.125740140676498,-0.128295421600342,-0.025212395936251,-0.030317135155201,-0.101005882024765));
res += mul(Get(s2,0,dy), float4x4(-0.095953494310379,-0.119545005261898,0.171190306544304,-0.104690633714199,0.059187371283770,-0.024052774533629,0.055531777441502,-0.035609353333712,-0.120912365615368,-0.053692039102316,-0.027797166258097,-0.124028183519840,0.046298008412123,0.055000741034746,0.098581716418266,-0.130880504846573));
res += mul(Get(s2,dx,-dy), float4x4(-0.037250820547342,-0.136274352669716,0.087306685745716,0.124813757836819,0.051776606589556,0.042242284864187,-0.165806859731674,0.052955653518438,-0.041915275156498,0.081162355840206,0.246686905622482,0.113244429230690,-0.014172201976180,-0.067964717745781,0.264727413654327,0.113006286323071));
res += mul(Get(s2,dx,0), float4x4(-0.093641087412834,-0.022383835166693,0.012449505738914,0.039077449589968,0.043816901743412,-0.030621124431491,-0.029806343838573,0.093874774873257,-0.082102097570896,0.298293858766556,0.470033586025238,-0.032289754599333,-0.131433993577957,-0.079714916646481,0.110347211360931,0.012556656263769));
res += mul(Get(s2,dx,dy), float4x4(-0.181382596492767,-0.029735796153545,-0.062297567725182,-0.094454541802406,0.010626867413521,0.042899556457996,-0.014673514291644,0.052077643573284,-0.115942679345608,0.043026126921177,0.086847327649593,-0.064294986426830,0.054991818964481,-0.055294774472713,0.074941702187061,0.056600868701935));
res += mul(Get(s3,-dx,-dy), float4x4(0.084794066846371,-0.080001495778561,-0.146280989050865,0.081718869507313,0.133752122521400,0.461046159267426,0.051188822835684,-0.112101793289185,0.219502046704292,-0.053472887724638,-0.094665594398975,0.074380375444889,0.173906356096268,-0.088785305619240,-0.144504949450493,-0.132608190178871));
res += mul(Get(s3,-dx,0), float4x4(-0.042303401976824,0.009462594985962,0.019566122442484,0.142445951700211,0.073584556579590,-0.040025230497122,-0.011604176834226,-0.087880097329617,-0.043244533240795,0.071887262165546,0.049146965146065,0.158350214362144,-0.226480990648270,0.025134198367596,0.069128192961216,-0.097458317875862));
res += mul(Get(s3,-dx,dy), float4x4(0.128284111618996,-0.040386892855167,-0.083900742232800,0.159731283783913,-0.022673308849335,-0.216534480452538,0.014501946978271,-0.041167408227921,-0.066669218242168,0.110541865229607,-0.040355097502470,-0.086151883006096,-0.039490099996328,0.156060382723808,-0.025394571945071,-0.041005894541740));
res += mul(Get(s3,0,-dy), float4x4(-0.069066472351551,0.000788839359302,0.012198708951473,-0.007440109271556,0.027844242751598,0.205575823783875,0.034603308886290,0.038912396878004,0.077800422906876,-0.010549705475569,-0.086165688931942,-0.227181419730186,-0.016873084008694,-0.012977429665625,0.074532739818096,0.027697708457708));
res += mul(Get(s3,0,0), float4x4(0.161860302090645,-0.057907257229090,-0.058799095451832,-0.193107351660728,-0.174748018383980,0.024522600695491,-0.029655538499355,0.097667850553989,-0.100795671343803,-0.012177304364741,-0.006866041570902,0.061420861631632,-0.055999808013439,-0.068321853876114,-0.055297922343016,0.052283369004726));
res += mul(Get(s3,0,dy), float4x4(0.255312234163284,0.034312982112169,-0.113148562610149,-0.122785180807114,-0.150751531124115,-0.057664584368467,-0.059179201722145,0.017198208719492,0.000211040372960,-0.069740623235703,-0.063419707119465,-0.068288825452328,0.357900798320770,-0.145895689725876,0.005542601458728,0.110298037528992));
res += mul(Get(s3,dx,-dy), float4x4(-0.071812622249126,0.116757735610008,0.003792968578637,0.214115843176842,-0.106078587472439,-0.489374846220016,-0.086024902760983,0.027213050052524,-0.141075730323792,-0.082388915121555,-0.034058481454849,-0.143937185406685,-0.135415658354759,-0.001239489880390,0.139206126332283,-0.114607550203800));
res += mul(Get(s3,dx,0), float4x4(0.061360612511635,0.008588024415076,-0.071056745946407,0.025846391916275,-0.097803205251694,0.154457867145538,-0.026079259812832,0.046915814280510,-0.110875673592091,-0.066075623035431,0.057742815464735,-0.091337926685810,-0.115759745240211,-0.138054654002190,-0.155382186174393,-0.135810449719429));
res += mul(Get(s3,dx,dy), float4x4(0.033431772142649,-0.065331235527992,-0.128229707479477,0.040537346154451,-0.048136271536350,0.379480034112930,0.485605895519257,0.026230351999402,0.048250433057547,-0.023040574043989,-0.116016469895840,-0.057013902813196,0.024635106325150,-0.039131645113230,0.008418485522270,-0.116433486342430));
return max(float4(0,0,0,0), res);
}
