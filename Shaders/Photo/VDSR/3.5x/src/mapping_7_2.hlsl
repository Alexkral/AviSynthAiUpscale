sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.090277910232544,0.330090850591660,0.104790866374969,0.054421648383141,-0.012737676501274,0.042659431695938,-0.155297875404358,-0.026967704296112,-0.095833808183670,0.027307737618685,0.080259375274181,-0.106656938791275,-0.025406271219254,0.184021681547165,-0.011862512677908,-0.016045007854700));
res += mul(Get(s0,-dx,0), float4x4(0.108166657388210,0.001177912810817,-0.098106212913990,-0.093347951769829,0.057493887841702,0.086863070726395,0.142527922987938,0.086466476321220,0.068958342075348,0.124937132000923,-0.070347554981709,-0.025717034935951,-0.045252677053213,0.147256821393967,0.123441688716412,-0.081157870590687));
res += mul(Get(s0,-dx,dy), float4x4(0.028707882389426,0.059465710073709,0.130223035812378,0.050293460488319,-0.074631005525589,-0.049098819494247,0.032198280096054,-0.047013372182846,0.028849739581347,0.053089942783117,0.039391107857227,-0.007051345426589,0.094997525215149,-0.143532365560532,0.048257257789373,-0.111098155379295));
res += mul(Get(s0,0,-dy), float4x4(0.139852046966553,-0.087845779955387,-0.119587630033493,-0.067333951592445,-0.032482281327248,-0.108443066477776,0.147605210542679,-0.031924013048410,-0.251035451889038,-0.060207653790712,0.039270203560591,0.154067069292068,0.100638329982758,-0.062736786901951,-0.049988575279713,0.070216298103333));
res += mul(Get(s0,0,0), float4x4(0.005327508784831,0.139700710773468,-0.180901199579239,-0.146736159920692,-0.034005548804998,0.050773736089468,0.027685264125466,0.015680020675063,0.034592490643263,0.003278699703515,-0.091885961592197,-0.106795564293861,-0.016236979514360,0.115193746984005,0.200031757354736,-0.013678450137377));
res += mul(Get(s0,0,dy), float4x4(0.299461901187897,0.006909417919815,-0.041324462741613,0.009172757156193,0.001028498751111,-0.299489080905914,0.154714658856392,-0.024013631045818,-0.081399761140347,0.102134212851524,-0.095954544842243,0.078057706356049,0.110683821141720,-0.157863110303879,-0.044544499367476,0.124380521476269));
res += mul(Get(s0,dx,-dy), float4x4(0.053580109030008,0.080456003546715,-0.024834478273988,-0.022210950031877,-0.002152249682695,0.061226576566696,0.023365315049887,-0.009786837734282,-0.089888006448746,-0.060542415827513,-0.067104116082191,0.099471978843212,-0.036554727703333,0.192329615354538,-0.140057668089867,-0.158352807164192));
res += mul(Get(s0,dx,0), float4x4(-0.119146704673767,0.062865756452084,0.165194362401962,-0.012675031088293,-0.127998262643814,-0.151955872774124,0.037465710192919,-0.009989810176194,-0.084124617278576,-0.121313206851482,-0.038103926926851,-0.043136741966009,-0.100337490439415,0.151224672794342,-0.165331646800041,0.102419294416904));
res += mul(Get(s0,dx,dy), float4x4(0.092508926987648,-0.067220598459244,0.098864458501339,-0.051633793860674,0.130506709218025,0.031797550618649,0.013136454857886,0.071149766445160,0.051671009510756,0.092621535062790,-0.010829650796950,0.073770962655544,0.036841087043285,-0.021330373361707,0.161180660128593,-0.184610158205032));
res += mul(Get(s1,-dx,-dy), float4x4(0.268277436494827,-0.058468692004681,-0.009788243100047,0.012295410037041,0.102865599095821,0.029761213809252,-0.096676692366600,0.019289001822472,-0.048010170459747,-0.000609298411291,-0.111146442592144,-0.024187253788114,0.003027805592865,-0.010985019616783,0.073426149785519,0.103851310908794));
res += mul(Get(s1,-dx,0), float4x4(-0.125046744942665,-0.109864674508572,0.108020469546318,-0.001586118945852,0.029396224766970,0.113734327256680,-0.137452110648155,-0.164501428604126,0.033035155385733,-0.092903554439545,-0.210360035300255,0.095408387482166,0.087477058172226,0.008125497959554,-0.209316924214363,-0.110437251627445));
res += mul(Get(s1,-dx,dy), float4x4(-0.055617731064558,-0.104793153703213,0.004429365508258,-0.132748320698738,-0.065064728260040,0.125292584300041,0.046394161880016,0.167740821838379,0.143451750278473,-0.059671245515347,0.022340606898069,-0.018851498141885,-0.046195872128010,0.001756124431267,0.021953102201223,-0.002262047724798));
res += mul(Get(s1,0,-dy), float4x4(0.121320515871048,-0.044880371540785,0.028322128579021,-0.195023223757744,-0.040093034505844,-0.055943146348000,-0.165893375873566,-0.158315539360046,-0.148831829428673,-0.044441182166338,-0.062363483011723,-0.031746089458466,0.122446052730083,-0.176504477858543,0.139528557658195,0.033248525112867));
res += mul(Get(s1,0,0), float4x4(0.322514414787292,-0.105204910039902,0.034908011555672,-0.066381759941578,0.152142181992531,-0.127618864178658,-0.105776123702526,-0.052985832095146,0.115999519824982,0.045550689101219,0.094743393361568,-0.000007321496923,0.097822353243828,0.043715249747038,0.002365023363382,-0.023492811247706));
res += mul(Get(s1,0,dy), float4x4(0.081080727279186,-0.188187822699547,-0.025822065770626,-0.007505063898861,-0.118670307099819,-0.085111647844315,-0.070212692022324,0.067687757313251,0.065300174057484,0.110120311379433,0.067188560962677,-0.055599626153708,0.010395082645118,-0.011121494695544,0.033229108899832,0.017814518883824));
res += mul(Get(s1,dx,-dy), float4x4(0.121552109718323,0.032735142856836,-0.066827967762947,0.002404182450846,-0.086133658885956,-0.382001340389252,-0.016954323276877,0.035611931234598,0.058085419237614,-0.077140398323536,0.090381972491741,-0.076235830783844,0.097453542053699,0.046268794685602,-0.107628308236599,0.042587421834469));
res += mul(Get(s1,dx,0), float4x4(0.100145570933819,0.062032997608185,-0.343408942222595,-0.061626955866814,0.038117419928312,0.078732378780842,0.095658935606480,-0.106959484517574,0.024514675140381,-0.136626616120338,-0.026387700811028,-0.025698902085423,0.047991055995226,0.045377451926470,0.022355290129781,0.062770985066891));
res += mul(Get(s1,dx,dy), float4x4(-0.058366741985083,-0.052128680050373,-0.048668365925550,0.130999013781548,-0.179440990090370,0.009969771839678,-0.041843615472317,-0.161776632070541,-0.054699189960957,-0.073490358889103,0.034181065857410,-0.045476600527763,0.124263383448124,-0.010086482390761,-0.140235960483551,0.017676645889878));
res += mul(Get(s2,-dx,-dy), float4x4(-0.143425315618515,-0.032594583928585,0.114671505987644,-0.086201220750809,-0.128899931907654,0.210952475667000,0.043074097484350,0.040532078593969,0.032707314938307,-0.073369480669498,-0.135853841900826,-0.058230180293322,-0.030486619099975,0.031108399853110,-0.022605875506997,-0.004670206923038));
res += mul(Get(s2,-dx,0), float4x4(-0.021573927253485,0.073206052184105,-0.106517329812050,0.036818753927946,0.120455943048000,-0.198356524109840,-0.142947286367416,-0.147856473922729,-0.035911101847887,0.017102839425206,-0.031363151967525,0.022140994668007,0.039226289838552,0.078203476965427,-0.115517206490040,-0.057104986160994));
res += mul(Get(s2,-dx,dy), float4x4(0.233885407447815,0.056206669658422,-0.076042130589485,-0.023476509377360,0.099892593920231,0.001220641308464,-0.008745471015573,-0.111987739801407,0.111911363899708,0.025164613500237,-0.212905064225197,0.001286527374759,-0.113139137625694,0.158801555633545,-0.021242443472147,-0.090681195259094));
res += mul(Get(s2,0,-dy), float4x4(-0.452229261398315,0.188396692276001,-0.040888339281082,0.025963522493839,0.055248320102692,-0.102329842746258,0.037747103720903,0.109302707016468,0.144922643899918,-0.095873132348061,0.013872726820409,-0.073502629995346,0.026419747620821,-0.054112840443850,-0.040391676127911,-0.153997197747231));
res += mul(Get(s2,0,0), float4x4(0.125028938055038,-0.046678557991982,-0.019464218989015,-0.131882056593895,0.107468426227570,-0.106175631284714,0.062905311584473,-0.167198851704597,-0.115351848304272,0.112287133932114,-0.130826696753502,-0.221802562475204,0.163402169942856,-0.219714716076851,-0.059078320860863,-0.099110238254070));
res += mul(Get(s2,0,dy), float4x4(-0.129334822297096,-0.020015014335513,0.032135494053364,-0.155534058809280,-0.195271030068398,-0.056406322866678,-0.049149591475725,-0.053984582424164,-0.195722714066505,-0.200435698032379,-0.018080664798617,0.196301639080048,-0.127093508839607,0.107870645821095,-0.208236083388329,0.008739512413740));
res += mul(Get(s2,dx,-dy), float4x4(-0.178367704153061,-0.007515704724938,0.054063972085714,0.305171757936478,0.211697489023209,0.086244739592075,-0.031286533921957,0.145608052611351,-0.013826995156705,-0.104957342147827,-0.106297440826893,-0.080655649304390,0.032128393650055,0.106240801513195,-0.071444168686867,-0.158584564924240));
res += mul(Get(s2,dx,0), float4x4(-0.172028124332428,-0.029456879943609,-0.254444003105164,-0.156070068478584,0.029867772012949,-0.051445994526148,0.186284407973289,0.091814525425434,-0.026725884526968,-0.118432931602001,-0.066401496529579,-0.188529536128044,-0.084585666656494,-0.022690264508128,-0.036327626556158,-0.116577684879303));
res += mul(Get(s2,dx,dy), float4x4(-0.134959131479263,0.145096585154533,0.109894514083862,0.150903329253197,0.015561784617603,0.131167218089104,-0.170559689402580,-0.132818922400475,-0.219911247491837,-0.142896547913551,0.096016831696033,0.040233094245195,-0.057964488863945,-0.101676009595394,0.015313399955630,-0.165194079279900));
res += mul(Get(s3,-dx,-dy), float4x4(-0.065065622329712,0.005450628697872,-0.214557528495789,-0.175931796431541,-0.142622098326683,-0.166522011160851,0.059556715190411,-0.023262621834874,0.014604280702770,0.121065631508827,0.103495061397552,0.005666935816407,0.022186292335391,0.098277933895588,0.013461958616972,0.076587639749050));
res += mul(Get(s3,-dx,0), float4x4(0.021742716431618,-0.180395454168320,-0.041667442768812,-0.059694960713387,-0.026980534195900,0.144806683063507,0.119323872029781,0.083860762417316,-0.038459941744804,0.253906518220901,0.029663551598787,-0.074855327606201,0.143819928169250,0.265937626361847,-0.170264959335327,0.014043467119336));
res += mul(Get(s3,-dx,dy), float4x4(-0.019555361941457,-0.054937243461609,-0.047987330704927,-0.060932051390409,-0.002058571204543,-0.120443426072598,0.016467155888677,0.097054302692413,0.067365117371082,0.118614472448826,-0.012707000598311,0.058201555162668,-0.005084143020213,-0.023076815530658,-0.009188042022288,0.180100217461586));
res += mul(Get(s3,0,-dy), float4x4(-0.035215698182583,0.008391758427024,-0.279269933700562,-0.166070088744164,0.154667839407921,-0.028471836820245,0.018270101398230,-0.111912593245506,0.248181775212288,0.091136291623116,0.102534100413322,-0.075349912047386,0.169827774167061,-0.105069682002068,0.066480867564678,-0.040009770542383));
res += mul(Get(s3,0,0), float4x4(-0.075754359364510,0.007597065065056,-0.000283002300421,0.078615933656693,0.037084262818098,0.119652256369591,-0.033854756504297,0.057671606540680,-0.020102534443140,-0.046642452478409,0.030439682304859,0.130962640047073,0.106003187596798,0.110265858471394,-0.027538631111383,-0.046990148723125));
res += mul(Get(s3,0,dy), float4x4(0.068135656416416,0.154799625277519,-0.159643918275833,0.075394779443741,0.029958859086037,0.092364989221096,-0.207109659910202,0.059736378490925,0.148290693759918,0.030680803582072,-0.093513809144497,0.149535030126572,0.071398034691811,-0.109685353934765,-0.338756948709488,0.133983030915260));
res += mul(Get(s3,dx,-dy), float4x4(-0.060595348477364,-0.077651314437389,0.107066705822945,-0.004197385162115,-0.018212210386992,-0.049828749150038,0.065182335674763,0.194534808397293,-0.013544263318181,0.134413629770279,0.013340791687369,0.045677199959755,0.119495920836926,-0.393694013357162,-0.036748673766851,0.029992898926139));
res += mul(Get(s3,dx,0), float4x4(-0.026284184306860,-0.050534244626760,-0.046979859471321,-0.002553728409111,0.294599592685699,-0.139279991388321,-0.053280085325241,-0.030883172526956,0.040062502026558,-0.168327391147614,0.097525477409363,0.005749261938035,0.081139668822289,-0.091104678809643,0.034448649734259,0.107800446450710));
res += mul(Get(s3,dx,dy), float4x4(-0.002114540431648,-0.177147164940834,-0.044568955898285,-0.049397308379412,-0.074386060237885,-0.299276083707809,0.014254202134907,-0.048580832779408,0.050539016723633,-0.045535337179899,-0.051632158458233,0.106457941234112,0.015188322402537,-0.073779545724392,-0.061026737093925,-0.046421244740486));
return max(float4(0,0,0,0), res);
}
