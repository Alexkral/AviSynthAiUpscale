sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042779352515936,-0.036671612411737,-0.100506722927094,0.105554424226284,-0.003392976708710,0.086924098432064,-0.008257849141955,0.109058849513531,-0.019837526604533,0.075357034802437,0.288419038057327,-0.157721638679504,0.178893193602562,0.134124740958214,0.101859055459499,-0.027876948937774));
res += mul(Get(s0,-dx,0), float4x4(0.079298250377178,-0.071316935122013,-0.135746762156487,0.048224985599518,-0.016700575128198,0.061819817870855,-0.118483342230320,-0.049388345330954,-0.150238320231438,-0.056274719536304,0.026232626289129,-0.021052030846477,0.218453988432884,0.112168259918690,0.268800705671310,-0.007634730543941));
res += mul(Get(s0,-dx,dy), float4x4(0.122835852205753,-0.042039487510920,0.035249184817076,-0.012639810331166,-0.147150591015816,-0.219156146049500,0.045703377574682,0.151259437203407,0.091772466897964,0.056087661534548,0.085069201886654,-0.012103159911931,0.304624348878860,0.121922336518764,-0.090139359235764,0.030619731172919));
res += mul(Get(s0,0,-dy), float4x4(0.008485901169479,0.066666804254055,-0.125893786549568,-0.054425675421953,-0.082919634878635,-0.031750809401274,-0.048225000500679,0.013724709860981,-0.026879664510489,0.192676275968552,-0.122404441237450,-0.114702813327312,0.068806238472462,-0.127474933862686,-0.028558032587171,-0.085148967802525));
res += mul(Get(s0,0,0), float4x4(-0.035687875002623,-0.085326805710793,-0.116573028266430,-0.082921832799911,-0.065871208906174,0.052461110055447,-0.115358635783195,-0.071723647415638,-0.079804934561253,-0.028992751613259,0.075114376842976,-0.021908285096288,0.033249560743570,0.038660772144794,0.030267409980297,0.006630997639149));
res += mul(Get(s0,0,dy), float4x4(0.040810611099005,-0.066235773265362,0.075746431946754,-0.054186657071114,-0.175121068954468,-0.191000118851662,-0.073456689715385,-0.025884885340929,0.259447604417801,-0.007481000386178,0.004583627451211,-0.019147742539644,-0.010573982261121,-0.120603330433369,-0.054994862526655,0.021550213918090));
res += mul(Get(s0,dx,-dy), float4x4(-0.008166889660060,-0.023484941571951,0.097528904676437,-0.001791317248717,0.016887763515115,-0.169486716389656,-0.041359089314938,-0.036498446017504,0.106288604438305,0.156525328755379,-0.033356621861458,-0.086777150630951,0.046587504446507,-0.003853235393763,0.126720488071442,-0.088347524404526));
res += mul(Get(s0,dx,0), float4x4(-0.055342104285955,0.044947359710932,-0.044749386608601,-0.031974047422409,-0.085005365312099,-0.034200053662062,-0.079767830669880,0.037038683891296,0.185023859143257,0.009753395803273,-0.022295549511909,-0.003469887189567,-0.014980974607170,0.034587237983942,-0.127184763550758,-0.016428764909506));
res += mul(Get(s0,dx,dy), float4x4(-0.061628635972738,0.020640209317207,0.125703871250153,-0.034517589956522,-0.191088095307350,-0.223913997411728,-0.147950544953346,0.200776487588882,-0.013649508357048,-0.039390325546265,-0.036868602037430,0.029051607474685,-0.065551735460758,-0.095946274697781,-0.134648412466049,0.031076218932867));
res += mul(Get(s1,-dx,-dy), float4x4(-0.019479842856526,-0.053170155733824,0.051322560757399,-0.095685563981533,-0.073212586343288,0.036896426230669,-0.018083797767758,-0.105198569595814,0.077494300901890,-0.050102248787880,0.135287329554558,-0.303210854530334,-0.073282077908516,0.054372116923332,0.068398408591747,-0.133311659097672));
res += mul(Get(s1,-dx,0), float4x4(-0.006452899426222,-0.063187353312969,0.026544319465756,-0.026775116100907,-0.029057784006000,-0.031462293118238,-0.015124719589949,-0.128082364797592,-0.105946578085423,0.235556557774544,0.138165712356567,-0.040155462920666,0.000559819221962,0.097731597721577,0.121156379580498,-0.053247287869453));
res += mul(Get(s1,-dx,dy), float4x4(-0.090778276324272,-0.055581927299500,-0.100346960127354,0.045041617006063,0.003334534820169,0.065416656434536,-0.034998826682568,-0.029060039669275,0.014072632417083,0.040864065289497,0.176649510860443,0.158176660537720,0.261686474084854,-0.094183303415775,0.102980330586433,-0.014685007743537));
res += mul(Get(s1,0,-dy), float4x4(-0.001467062393203,-0.063340775668621,0.004547252785414,0.027428587898612,0.006665713619441,-0.017141783609986,-0.092704370617867,-0.044543877243996,0.058818772435188,-0.047934297472239,0.019447559490800,-0.205702766776085,-0.096090234816074,0.004472031258047,0.014139467850327,-0.056364219635725));
res += mul(Get(s1,0,0), float4x4(-0.106823116540909,-0.072427786886692,0.141632780432701,0.008156441152096,0.032403476536274,0.133250579237938,-0.148898109793663,-0.086200103163719,-0.139689788222313,0.000317842786899,-0.139202356338501,-0.079620398581028,-0.056710835546255,0.054453812539577,0.017360061407089,-0.092193633317947));
res += mul(Get(s1,0,dy), float4x4(-0.148882612586021,-0.012055658735335,-0.085636511445045,-0.019194373860955,0.096727989614010,0.067229777574539,-0.002800572197884,0.064707361161709,0.085568912327290,-0.072316080331802,-0.160038441419601,0.101517640054226,0.110958769917488,0.017641678452492,-0.025621501728892,-0.034681186079979));
res += mul(Get(s1,dx,-dy), float4x4(0.017576577141881,-0.065418206155300,0.000782060786150,0.123262777924538,0.188111454248428,0.078234724700451,-0.126336172223091,0.040927585214376,0.091136656701565,0.103438429534435,0.053062342107296,-0.182327553629875,0.074165686964989,0.026225419715047,0.082461073994637,0.050270218402147));
res += mul(Get(s1,dx,0), float4x4(-0.059397790580988,-0.057053830474615,0.073517926037312,0.169253170490265,-0.001667249598540,0.148871168494225,-0.047689128667116,-0.043648354709148,-0.028326485306025,-0.075568430125713,0.098719738423824,-0.049241088330746,-0.018436379730701,0.020815931260586,0.001704345224425,0.099140338599682));
res += mul(Get(s1,dx,dy), float4x4(-0.084628641605377,0.084910154342651,0.175645470619202,-0.046053711324930,-0.002132808091119,0.104071348905563,-0.095610365271568,0.107097461819649,0.038417704403400,0.013754721730947,-0.029219320043921,-0.167752161622047,-0.077161952853203,0.005595586728305,-0.048770155757666,-0.075110919773579));
res += mul(Get(s2,-dx,-dy), float4x4(-0.106256976723671,0.039022129029036,-0.031750954687595,0.139711365103722,-0.059915803372860,-0.012613889761269,-0.033317107707262,0.100824497640133,0.052671071141958,0.123619757592678,-0.073308497667313,-0.238658174872398,0.080000787973404,0.020454948768020,-0.029366152361035,0.021560054272413));
res += mul(Get(s2,-dx,0), float4x4(-0.069701984524727,-0.181472599506378,-0.099933542311192,0.094384983181953,-0.079048201441765,-0.093176387250423,0.031188106164336,0.093135610222816,-0.110030256211758,-0.019941039383411,0.042364921420813,-0.046236183494329,-0.008683022111654,-0.010879609733820,0.022170852869749,-0.065054997801781));
res += mul(Get(s2,-dx,dy), float4x4(-0.092053882777691,-0.048064585775137,-0.043097522109747,-0.081740833818913,0.043060030788183,-0.011233959347010,0.052447549998760,0.080887362360954,0.049602508544922,-0.044391781091690,0.123507566750050,-0.168148532509804,-0.096941240131855,-0.100704319775105,-0.040582206100225,0.001640026224777));
res += mul(Get(s2,0,-dy), float4x4(0.010629978962243,0.158332228660583,-0.004237517714500,-0.057854961603880,-0.092104077339172,-0.072117254137993,0.043311301618814,-0.133682623505592,0.050411716103554,0.086024783551693,0.000373200717149,-0.195096090435982,-0.043661918491125,-0.031362533569336,0.044793773442507,0.052463870495558));
res += mul(Get(s2,0,0), float4x4(-0.038272082805634,-0.165876984596252,-0.066700607538223,0.110685482621193,-0.087128661572933,-0.120799608528614,0.072464480996132,0.033228840678930,0.018133210018277,-0.025668229907751,0.040924578905106,-0.047812987118959,-0.056406050920486,-0.064097024500370,0.046428691595793,-0.053928907960653));
res += mul(Get(s2,0,dy), float4x4(-0.044498909264803,-0.021373666822910,0.078808754682541,-0.046185236424208,-0.005924404133111,-0.054456118494272,-0.082969434559345,0.029600780457258,-0.014960310421884,-0.116281665861607,0.045276533812284,-0.018834479153156,-0.009484174661338,-0.130725085735321,-0.052601814270020,-0.019269341602921));
res += mul(Get(s2,dx,-dy), float4x4(0.094515182077885,0.009403993375599,-0.079342901706696,0.229769036173820,0.019447410479188,-0.071324959397316,-0.042482923716307,-0.313257664442062,0.093563780188560,-0.028401795774698,-0.079590633511543,-0.315433353185654,-0.041469637304544,-0.116973221302032,0.164385691285133,-0.173088684678078));
res += mul(Get(s2,dx,0), float4x4(-0.115923009812832,-0.093354307115078,0.003353438572958,0.162828072905540,-0.190442547202110,-0.080463774502277,-0.007000482641160,-0.000637140998151,-0.043082751333714,-0.153521403670311,-0.007690871134400,-0.176512688398361,0.145454406738281,-0.172415956854820,0.103898398578167,-0.154081523418427));
res += mul(Get(s2,dx,dy), float4x4(-0.062192894518375,-0.083330839872360,0.184572607278824,-0.009580065496266,0.115351930260658,-0.130582258105278,0.062590815126896,-0.021135803312063,0.075694724917412,-0.169946581125259,0.018980368971825,0.077511958777905,0.096071250736713,-0.222367674112320,-0.002378772711381,-0.022325573489070));
res += mul(Get(s3,-dx,-dy), float4x4(-0.013411644846201,-0.022214822471142,0.016806956380606,-0.107516683638096,0.018262259662151,0.043579597026110,-0.008788770064712,-0.016098834574223,-0.044128391891718,-0.093124113976955,-0.074144110083580,0.024797104299068,-0.085602544248104,-0.040737472474575,0.021823378279805,0.070518434047699));
res += mul(Get(s3,-dx,0), float4x4(0.011248275637627,0.066457226872444,-0.006302172318101,0.053856443613768,0.061804592609406,0.036122955381870,0.149777069687843,0.035744510591030,0.005793728400022,0.002267374657094,-0.048341281712055,0.024457821622491,-0.097684815526009,0.051627445966005,0.053110960870981,-0.057049904018641));
res += mul(Get(s3,-dx,dy), float4x4(0.000873805256560,0.148723348975182,-0.029492193832994,0.031842872500420,-0.023569900542498,-0.176287442445755,-0.056053973734379,0.095088191330433,-0.003008067840710,0.036622866988182,0.003382341237739,-0.036952283233404,0.041944883763790,0.020899984985590,0.064133651554585,0.037669934332371));
res += mul(Get(s3,0,-dy), float4x4(0.077777437865734,-0.061048120260239,0.063180938363075,-0.105759784579277,0.027378223836422,0.024963799864054,0.114299640059471,-0.097450293600559,0.038245096802711,-0.028199752792716,-0.088646426796913,0.037325177341700,-0.004881218075752,-0.045274149626493,-0.037182386964560,0.191240131855011));
res += mul(Get(s3,0,0), float4x4(-0.059048991650343,-0.010151787661016,-0.109763689339161,0.003701848443598,-0.225980043411255,-0.003481153398752,0.126363918185234,-0.036636330187321,-0.082731477916241,0.330157458782196,-0.089210920035839,-0.078913360834122,-0.041903939098120,-0.013396158814430,0.126750409603119,0.075374215841293));
res += mul(Get(s3,0,dy), float4x4(-0.025545928627253,-0.034842018038034,0.098213016986847,0.100534036755562,-0.212883964180946,-0.045304201543331,-0.152658909559250,-0.059568285942078,-0.099580623209476,0.034729611128569,-0.079153954982758,-0.062025833874941,0.015492275357246,-0.012655215337873,0.102315530180931,0.037373367697001));
res += mul(Get(s3,dx,-dy), float4x4(0.042764309793711,-0.007300925906748,0.009688946418464,-0.025394808501005,0.130607679486275,0.190536528825760,-0.028135089203715,-0.049126993864775,-0.053349468857050,0.065143629908562,0.025191085413098,0.137946262955666,0.070227243006229,0.069682136178017,-0.078439369797707,0.148733809590340));
res += mul(Get(s3,dx,0), float4x4(-0.080251462757587,0.118969894945621,-0.058059588074684,0.073295608162880,0.230966225266457,-0.061306476593018,-0.013425792567432,-0.051910065114498,0.023686151951551,0.015113602392375,0.062242355197668,-0.173206672072411,0.089088805019855,-0.013584021478891,0.102810725569725,-0.044361319392920));
res += mul(Get(s3,dx,dy), float4x4(-0.084537670016289,0.022224782034755,0.028505722060800,0.048779018223286,0.145124822854996,-0.079010032117367,-0.047705236822367,-0.036112975329161,-0.016681365668774,-0.072566762566566,-0.026245590299368,-0.044172771275043,0.183726102113724,-0.006510947830975,0.050628602504730,-0.086435310542583));
return max(float4(0,0,0,0), res);
}
