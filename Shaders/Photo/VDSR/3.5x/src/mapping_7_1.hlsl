sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.006562894210219,-0.062479406595230,0.059394754469395,-0.018775593489408,-0.002767944009975,-0.152190849184990,-0.232672706246376,-0.075903050601482,0.078133396804333,-0.029668446630239,0.085259877145290,-0.154192447662354,0.079223193228245,0.029338052496314,0.163630500435829,-0.012034187093377));
res += mul(Get(s0,-dx,0), float4x4(0.075331799685955,-0.262502640485764,-0.189096122980118,-0.171761885285378,-0.014623977243900,-0.056704800575972,0.066706947982311,-0.034826699644327,0.243496596813202,0.044674791395664,0.002875554142520,-0.178547248244286,0.005763687193394,0.246881887316704,-0.016357693821192,-0.285396397113800));
res += mul(Get(s0,-dx,dy), float4x4(-0.151275798678398,-0.013039011508226,0.081640020012856,-0.211282894015312,0.212047189474106,-0.079483509063721,-0.029321301728487,0.017439598217607,-0.111769169569016,0.125448927283287,-0.218911886215210,-0.066113270819187,-0.145724147558212,-0.117360956966877,0.134681090712547,0.023397106677294));
res += mul(Get(s0,0,-dy), float4x4(-0.011249658651650,0.157098665833473,0.121121779084206,0.062526971101761,-0.051131576299667,-0.180653974413872,0.005530192982405,0.109931401908398,-0.013528167270124,0.081659607589245,-0.088892295956612,0.088761150836945,0.089289188385010,-0.017676632851362,0.119759544730186,-0.164888560771942));
res += mul(Get(s0,0,0), float4x4(0.036685358732939,0.016187664121389,0.112440474331379,-0.148547530174255,0.236870869994164,0.015603891573846,-0.067413344979286,-0.022782303392887,-0.152971431612968,-0.040904045104980,-0.012222075834870,0.142850965261459,-0.103839725255966,0.127818956971169,0.065313711762428,0.068802066147327));
res += mul(Get(s0,0,dy), float4x4(0.064527951180935,0.211175352334976,-0.000388025480788,0.108745805919170,0.173143908381462,0.091131567955017,0.089809618890285,-0.050988554954529,-0.047302473336458,0.018676558509469,-0.072795800864697,0.010257694870234,-0.085202060639858,0.123689234256744,0.125353723764420,0.055573761463165));
res += mul(Get(s0,dx,-dy), float4x4(0.023696133866906,-0.218944758176804,-0.036546744406223,0.078383222222328,0.037781912833452,-0.043292570859194,-0.011598806828260,0.070564381778240,0.206160724163055,-0.060526352375746,-0.108260139822960,-0.023557651787996,0.213085979223251,0.116536170244217,0.199237644672394,-0.039519533514977));
res += mul(Get(s0,dx,0), float4x4(-0.147076770663261,0.028420289978385,0.108396425843239,0.090327702462673,0.099776551127434,-0.101574696600437,0.289339035749435,-0.076510302722454,-0.007997919805348,-0.128967061638832,-0.047075677663088,0.000878258608282,0.173040911555290,0.222166389226913,-0.125680521130562,-0.048840906471014));
res += mul(Get(s0,dx,dy), float4x4(0.162845358252525,-0.027297006919980,-0.207815244793892,-0.178308218717575,-0.025950787588954,-0.133873760700226,0.059994760900736,0.114944130182266,-0.017389182001352,-0.032870545983315,-0.033844426274300,0.118009977042675,0.029684808105230,0.112799212336540,-0.097481012344360,0.030665440484881));
res += mul(Get(s1,-dx,-dy), float4x4(-0.229074865579605,-0.046044819056988,0.121925204992294,-0.083223745226860,0.068273961544037,0.118893526494503,-0.004679109901190,-0.027083486318588,-0.113350123167038,-0.048814021050930,0.054770626127720,-0.068475551903248,0.004903380293399,0.073688372969627,-0.165191546082497,-0.005408022087067));
res += mul(Get(s1,-dx,0), float4x4(-0.013381916098297,-0.003589822212234,0.077242843806744,-0.009940735995770,0.039837673306465,-0.069270052015781,0.093470312654972,0.098578870296478,-0.068250350654125,-0.032454192638397,0.156284987926483,-0.017701009288430,-0.245536655187607,0.085189729928970,-0.034191556274891,-0.193078160285950));
res += mul(Get(s1,-dx,dy), float4x4(-0.026181535795331,0.124369993805885,-0.129628956317902,0.036543965339661,-0.061026278883219,0.057606570422649,-0.043138649314642,0.135757043957710,-0.114532522857189,0.123288884758949,-0.045243255794048,0.034825574606657,-0.082485757768154,0.126197233796120,-0.092285506427288,-0.203484654426575));
res += mul(Get(s1,0,-dy), float4x4(-0.039460048079491,-0.033059082925320,-0.083714149892330,-0.009429616853595,0.130858227610588,-0.027387602254748,-0.031846292316914,0.136357873678207,-0.174872726202011,-0.051041375845671,0.130784079432487,-0.102729834616184,-0.031281433999538,-0.167957708239555,-0.137881398200989,-0.224466457962990));
res += mul(Get(s1,0,0), float4x4(0.024124126881361,0.131647855043411,-0.016611235216260,-0.007935063913465,0.074505291879177,0.103030920028687,0.136685997247696,0.173716917634010,0.023464865982533,-0.041909232735634,-0.074939675629139,0.069681271910667,-0.133631795644760,-0.096622869372368,0.037571340799332,0.057813592255116));
res += mul(Get(s1,0,dy), float4x4(-0.017728896811604,-0.165773123502731,-0.020186405628920,0.248796120285988,0.023661993443966,0.020915742963552,0.078707478940487,0.163205549120903,0.172274753451347,-0.016516467556357,-0.161794885993004,-0.045651003718376,-0.099116884171963,-0.014023658819497,0.036866683512926,0.015158995985985));
res += mul(Get(s1,dx,-dy), float4x4(-0.008193621411920,-0.022046791389585,-0.024515494704247,-0.079833403229713,0.118402153253555,-0.129139229655266,-0.004859499167651,0.107582308351994,0.101605005562305,-0.125596240162849,-0.097592398524284,0.211618721485138,0.019558526575565,0.093118913471699,-0.119350038468838,0.018767926841974));
res += mul(Get(s1,dx,0), float4x4(0.129547268152237,-0.100388392806053,0.017436062917113,-0.112815447151661,-0.170776352286339,-0.023722071200609,-0.029777524992824,0.003208079375327,0.010235137306154,-0.069332286715508,-0.032725576311350,-0.098511099815369,0.067705728113651,-0.001622217940167,0.146584361791611,0.054189518094063));
res += mul(Get(s1,dx,dy), float4x4(-0.044442959129810,0.028733957558870,0.114341586828232,-0.101055361330509,0.127195701003075,-0.262929528951645,0.151535764336586,0.162930086255074,0.118963651359081,0.091079287230968,0.046059776097536,0.179724469780922,0.095547467470169,-0.120424762368202,0.020482379943132,-0.054231796413660));
res += mul(Get(s2,-dx,-dy), float4x4(0.128769874572754,-0.264573961496353,-0.045417204499245,-0.111795939505100,0.003855315269902,-0.027815625071526,-0.080732002854347,0.276019960641861,0.100559823215008,-0.074824191629887,-0.007499939762056,-0.130742877721786,-0.066978722810745,0.026346694678068,0.039956558495760,0.370532065629959));
res += mul(Get(s2,-dx,0), float4x4(0.053133770823479,-0.096912108361721,-0.062169015407562,-0.068708702921867,0.028905073180795,0.016718389466405,-0.113272719085217,-0.034250371158123,-0.167112782597542,0.120087184011936,0.182538956403732,-0.075751453638077,0.052504666149616,-0.035563498735428,-0.019393350929022,-0.069397024810314));
res += mul(Get(s2,-dx,dy), float4x4(-0.055395089089870,-0.115226715803146,0.040984205901623,0.179363042116165,0.145333886146545,0.111682020127773,-0.080392234027386,-0.247329801321030,0.178896635770798,0.031016347929835,0.194826096296310,0.073454730212688,0.081153139472008,-0.207809016108513,0.014293621294200,-0.148717895150185));
res += mul(Get(s2,0,-dy), float4x4(-0.002829846227542,0.169517919421196,0.234465867280960,-0.035414904356003,-0.013236150145531,0.155660554766655,-0.186247870326042,-0.142723977565765,-0.000175133929588,0.181261032819748,0.097556143999100,-0.015330754220486,-0.018530532717705,0.066217593848705,0.117060914635658,0.025849748402834));
res += mul(Get(s2,0,0), float4x4(-0.165580883622169,-0.005162422079593,0.001380240777507,-0.029445203021169,0.159450203180313,0.038299780339003,0.140598982572556,-0.061417549848557,0.186972394585609,0.033739503473043,0.004930974915624,0.050680249929428,0.055352561175823,0.086577489972115,0.071671456098557,-0.086055889725685));
res += mul(Get(s2,0,dy), float4x4(0.005608933046460,0.114890545606613,-0.223877981305122,-0.168482005596161,-0.115785345435143,0.152012825012207,0.096519395709038,0.188076272606850,-0.132026210427284,0.155919790267944,0.007723194081336,0.031193718314171,-0.039035424590111,0.238579422235489,0.002777622314170,-0.025489034131169));
res += mul(Get(s2,dx,-dy), float4x4(-0.043091382831335,0.018297806382179,-0.048370368778706,-0.094801746308804,0.188892915844917,0.020961992442608,-0.080268539488316,-0.073470175266266,-0.053239528089762,-0.171985134482384,-0.064341261982918,-0.112364247441292,0.102947406470776,0.190214544534683,-0.189264237880707,-0.022902743890882));
res += mul(Get(s2,dx,0), float4x4(0.030511213466525,-0.075935624539852,0.162978097796440,-0.115317039191723,0.047583561390638,-0.104963362216949,-0.171235278248787,0.097365640103817,0.039494540542364,-0.079319439828396,0.085239559412003,-0.051088798791170,0.058841045945883,0.075558029115200,-0.172799825668335,-0.046196788549423));
res += mul(Get(s2,dx,dy), float4x4(-0.154716849327087,0.038622848689556,0.059206761419773,-0.097894184291363,-0.009787527844310,0.126163586974144,0.040460381656885,-0.036463815718889,-0.169761523604393,0.028741555288434,-0.076658830046654,-0.131017208099365,0.051496800035238,-0.100045278668404,-0.092583768069744,0.151174619793892));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023566551506519,-0.031548470258713,-0.093114599585533,-0.152272313833237,0.024514783173800,-0.006233936175704,0.002540557878092,0.222454950213432,-0.134017631411552,0.005514657590538,-0.019727308303118,0.022476768121123,-0.002169527579099,-0.016781635582447,-0.090830706059933,0.115605905652046));
res += mul(Get(s3,-dx,0), float4x4(0.132035076618195,-0.134436041116714,-0.068347953259945,-0.072956390678883,0.079016171395779,-0.113414309918880,0.017555184662342,-0.042016185820103,-0.114197120070457,-0.044805232435465,-0.090123027563095,-0.020733751356602,0.141411975026131,0.026902476325631,-0.196635246276855,0.051840215921402));
res += mul(Get(s3,-dx,dy), float4x4(0.184595778584480,0.071518108248711,-0.062217298895121,0.076712943613529,-0.131902575492859,-0.026814641430974,-0.150991484522820,0.062834866344929,0.066597290337086,-0.084914408624172,-0.189961403608322,-0.131298512220383,-0.082300923764706,-0.156551405787468,-0.020575743168592,-0.127666831016541));
res += mul(Get(s3,0,-dy), float4x4(-0.183715537190437,0.031216466799378,-0.068026095628738,-0.261317253112793,0.023368496447802,-0.131457284092903,0.145210012793541,-0.128660902380943,-0.151858493685722,-0.119160197675228,-0.151636600494385,-0.096741698682308,-0.019729491323233,0.152480185031891,0.023376939818263,0.106988467276096));
res += mul(Get(s3,0,0), float4x4(-0.099135838449001,0.034185439348221,-0.134275600314140,0.070957705378532,0.022333966568112,-0.013224216178060,0.052606206387281,-0.039756342768669,-0.018521226942539,-0.089591003954411,-0.072072267532349,-0.180371448397636,0.150686427950859,0.170750051736832,0.099282130599022,0.007317924406379));
res += mul(Get(s3,0,dy), float4x4(0.039689730852842,-0.043293945491314,-0.227594882249832,0.218789219856262,-0.157787442207336,0.091721765697002,0.001316308625974,-0.013213254511356,-0.066454544663429,-0.107454627752304,-0.062936790287495,-0.126514270901680,0.096653409302235,-0.141541302204132,0.024217316880822,-0.006094460841268));
res += mul(Get(s3,dx,-dy), float4x4(0.083279296755791,0.097913235425949,-0.193742111325264,0.079136386513710,0.092802934348583,-0.084920190274715,0.061272766441107,-0.004858813248575,-0.020912140607834,-0.072223626077175,0.079407326877117,0.128370001912117,0.022203598171473,0.138445362448692,0.179781615734100,0.041119057685137));
res += mul(Get(s3,dx,0), float4x4(-0.055967103689909,0.040953546762466,-0.128672555088997,-0.262837231159210,-0.137831658124924,-0.095531687140465,-0.055277273058891,0.003619849914685,0.035405639559031,0.136632129549980,-0.007790472824126,-0.058315470814705,0.023280004039407,0.039361964911222,0.039291910827160,0.060007587075233));
res += mul(Get(s3,dx,dy), float4x4(-0.026475401595235,0.022857192903757,-0.073770083487034,-0.086920596659184,-0.137401700019836,0.117713361978531,-0.013582932762802,0.122536167502403,-0.085079997777939,0.149864107370377,0.140556275844574,0.178204938769341,0.096488684415817,0.074082843959332,-0.009078076109290,-0.114349201321602));
return max(float4(0,0,0,0), res);
}
