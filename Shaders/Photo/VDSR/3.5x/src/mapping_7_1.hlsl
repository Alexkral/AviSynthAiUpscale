sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.064962334930897,0.053987994790077,-0.089710839092731,-0.088005401194096,-0.149176284670830,0.048998992890120,-0.091073773801327,-0.062628544867039,-0.090172797441483,-0.080118782818317,-0.044408358633518,0.135644882917404,0.013586982153356,-0.054428894072771,-0.065214067697525,-0.037371717393398));
res += mul(Get(s0,-dx,0), float4x4(-0.038890287280083,0.001933635212481,0.003134556347504,0.029164774343371,-0.130627587437630,0.025068689137697,-0.055763479322195,0.057685583829880,-0.089980088174343,-0.009973824024200,-0.023138593882322,-0.043044559657574,0.015302034094930,0.042191933840513,0.037812754511833,-0.087172061204910));
res += mul(Get(s0,-dx,dy), float4x4(-0.056270651519299,0.071315050125122,-0.094997532665730,-0.058456208556890,-0.135376766324043,0.017296543344855,0.286857783794403,0.080107107758522,-0.029795255511999,0.048929940909147,-0.019718274474144,-0.236109241843224,0.171902343630791,-0.013677471317351,0.010797195136547,-0.220434531569481));
res += mul(Get(s0,0,-dy), float4x4(0.061644494533539,-0.006882434710860,-0.043923046439886,0.207390293478966,-0.020590046420693,0.008669920265675,-0.004510499536991,-0.073060892522335,-0.053108587861061,-0.073505178093910,-0.046035401523113,0.062690369784832,-0.083532691001892,-0.089098654687405,-0.008505466394126,-0.001823525526561));
res += mul(Get(s0,0,0), float4x4(0.188760578632355,-0.049892310053110,-0.001514536445029,0.070655852556229,-0.024068331345916,0.018072072416544,-0.027625475078821,-0.080606430768967,0.092481739819050,-0.139469712972641,-0.027337972074747,0.214418441057205,-0.065274491906166,-0.003175786230713,0.032049540430307,-0.055127870291471));
res += mul(Get(s0,0,dy), float4x4(-0.198974505066872,-0.022406900301576,-0.078923486173153,0.052550718188286,-0.026868492364883,0.023156998679042,0.149293765425682,-0.014370730146766,0.118761844933033,0.070848666131496,0.126006543636322,0.048898197710514,0.051127672195435,-0.031077237799764,0.014231439679861,-0.155375897884369));
res += mul(Get(s0,dx,-dy), float4x4(0.101828396320343,-0.072121225297451,0.007407734636217,0.316226512193680,-0.058300837874413,0.223228409886360,0.132609128952026,-0.093233361840248,-0.057067878544331,0.005069619044662,-0.091791205108166,-0.066129043698311,-0.042313396930695,-0.088300332427025,0.062072213739157,0.019760753959417));
res += mul(Get(s0,dx,0), float4x4(0.070591218769550,-0.031802080571651,-0.012050630524755,0.014168963767588,-0.066336981952190,-0.168790027499199,-0.037372846156359,-0.036655731499195,-0.115819215774536,-0.065861880779266,0.010460400953889,0.101649701595306,-0.126275867223740,-0.069809518754482,-0.058329518884420,0.109970517456532));
res += mul(Get(s0,dx,dy), float4x4(0.085231937468052,0.046038195490837,-0.098338797688484,-0.081659734249115,-0.061541594564915,-0.118240751326084,0.057289872318506,-0.101102545857430,-0.060491479933262,0.074314415454865,0.178504452109337,0.134356990456581,-0.086103789508343,0.007260217331350,-0.036516521126032,0.045046359300613));
res += mul(Get(s1,-dx,-dy), float4x4(-0.056083600968122,0.065660916268826,-0.061131086200476,0.098026514053345,-0.070411294698715,0.089817114174366,0.130798920989037,0.233950108289719,-0.016502503305674,-0.061487875878811,-0.209637433290482,-0.058639965951443,-0.125123351812363,-0.124965652823448,-0.046834625303745,-0.017853325232863));
res += mul(Get(s1,-dx,0), float4x4(0.048557676374912,-0.052786596119404,-0.099144831299782,-0.107127062976360,-0.039944220334291,0.120587073266506,0.043039280921221,-0.009955862537026,-0.102279424667358,-0.082529738545418,0.015046277083457,0.054758161306381,0.011819721199572,-0.114592388272285,-0.112672023475170,-0.087590783834457));
res += mul(Get(s1,-dx,dy), float4x4(-0.267981350421906,-0.055137813091278,0.146071597933769,-0.125346884131432,-0.025099797174335,0.075336299836636,0.025120774284005,-0.092708274722099,-0.197007149457932,-0.029637530446053,-0.073391772806644,-0.176932334899902,0.013810213655233,-0.065584003925323,-0.022014552727342,-0.193361788988113));
res += mul(Get(s1,0,-dy), float4x4(-0.017255485057831,0.066049903631210,-0.120449461042881,-0.018704518675804,-0.034248862415552,0.028621532022953,0.000707173778210,0.033333908766508,-0.137259855866432,0.059814766049385,-0.180268585681915,-0.081358388066292,-0.157662272453308,-0.095917612314224,-0.116272963583469,0.057869933545589));
res += mul(Get(s1,0,0), float4x4(-0.006926499772817,0.021031660959125,-0.067703619599342,-0.027404045686126,-0.138934120535851,0.130090534687042,0.038346927613020,0.021511316299438,-0.102377459406853,-0.042051065713167,-0.074505850672722,0.083074688911438,-0.142066299915314,-0.015673372894526,0.013750299811363,0.100967228412628));
res += mul(Get(s1,0,dy), float4x4(-0.044214043766260,0.050510995090008,0.045468144118786,-0.034504398703575,-0.026900216937065,0.052162934094667,0.067106030881405,-0.083182722330093,-0.112055703997612,-0.050609860569239,-0.071197018027306,-0.036075193434954,-0.031567167490721,0.138987839221954,-0.115955591201782,-0.073892921209335));
res += mul(Get(s1,dx,-dy), float4x4(0.123025238513947,0.090047992765903,-0.097155861556530,-0.029683467000723,0.023181689903140,-0.048134356737137,0.033612195402384,0.029945563524961,-0.165851622819901,0.001760782091878,-0.121725417673588,0.007487781345844,-0.083763778209686,-0.124129340052605,-0.102815017104149,0.040881577879190));
res += mul(Get(s1,dx,0), float4x4(0.153453528881073,-0.051268786191940,-0.140922874212265,-0.009718057699502,-0.100419074296951,0.075804665684700,0.037062957882881,0.084438696503639,-0.075024187564850,-0.141051918268204,-0.068733848631382,0.086058206856251,-0.008332322351635,-0.054732196033001,0.111461669206619,-0.001479079364799));
res += mul(Get(s1,dx,dy), float4x4(0.030316298827529,-0.037519291043282,-0.090951487421989,-0.091430261731148,0.038853585720062,0.040816556662321,-0.012914898805320,0.108510412275791,-0.047721225768328,0.390785694122314,-0.028588466346264,-0.187830418348312,0.167628586292267,-0.000822041707579,-0.049494661390781,0.097595430910587));
res += mul(Get(s2,-dx,-dy), float4x4(-0.104167401790619,-0.191682741045952,0.045446250587702,0.097144186496735,0.097750470042229,0.023760436102748,-0.024945892393589,-0.007553038652986,-0.109979890286922,0.021771337836981,-0.092460297048092,-0.049618165940046,-0.107080221176147,0.051487013697624,-0.080743759870529,0.024604713544250));
res += mul(Get(s2,-dx,0), float4x4(-0.101303316652775,-0.066643141210079,0.347288489341736,-0.141864135861397,0.108977869153023,0.013376883231103,0.121634572744370,0.021279314532876,-0.037600308656693,-0.001495814416558,-0.042983040213585,0.028738226741552,0.052242867648602,0.007886754348874,0.033977523446083,-0.003032843116671));
res += mul(Get(s2,-dx,dy), float4x4(0.027344420552254,-0.045324567705393,0.110846914350986,0.015809180215001,0.043632976710796,-0.067979224026203,-0.111396923661232,-0.054719667881727,-0.031011525541544,0.144490942358971,-0.045185528695583,0.003683971939608,0.014032450504601,0.127029389142990,-0.074044205248356,-0.016746854409575));
res += mul(Get(s2,0,-dy), float4x4(-0.050758723169565,-0.052308253943920,-0.037474308162928,0.031133348122239,0.056641358882189,-0.009936717338860,0.198270291090012,0.090490944683552,-0.102107942104340,-0.068860612809658,-0.081044770777225,-0.058954413980246,0.067982554435730,-0.134487271308899,0.081152506172657,-0.013771015219390));
res += mul(Get(s2,0,0), float4x4(0.293477624654770,-0.086538754403591,0.014251657761633,0.015377987176180,-0.132403701543808,0.004225595388561,0.043886791914701,0.018760725855827,-0.034551780670881,0.175130620598793,-0.106181092560291,0.075522817671299,-0.041714306920767,-0.153310105204582,0.095270209014416,-0.020328499376774));
res += mul(Get(s2,0,dy), float4x4(-0.053880859166384,-0.058477755635977,-0.048968937247992,0.046178426593542,-0.022466884925961,-0.094004243612289,-0.007743604946882,0.000483868498122,0.035978119820356,0.054905433207750,0.077321022748947,-0.132649332284927,0.070421755313873,0.058485642075539,-0.117479331791401,-0.076261393725872));
res += mul(Get(s2,dx,-dy), float4x4(-0.081727392971516,-0.008279206231236,-0.038492053747177,-0.038454290479422,0.137141853570938,-0.072269946336746,0.168463990092278,-0.024856939911842,-0.057588759809732,-0.137649521231651,-0.101515337824821,-0.075623571872711,0.219836786389351,-0.065982080996037,0.016249690204859,-0.083693355321884));
res += mul(Get(s2,dx,0), float4x4(0.150055319070816,-0.039661485701799,-0.041902031749487,-0.109233796596527,0.140069395303726,-0.060255389660597,0.016870493069291,-0.053560595959425,-0.030908688902855,-0.114405460655689,0.096083514392376,0.041484363377094,0.089084342122078,-0.060734659433365,-0.059124778956175,0.010405207984149));
res += mul(Get(s2,dx,dy), float4x4(0.042779352515936,-0.017842626199126,-0.133736699819565,0.033949483186007,-0.059286952018738,-0.152586817741394,0.014585364609957,-0.017819451168180,-0.005806997884065,-0.214563488960266,0.140350595116615,-0.113033033907413,0.093841634690762,-0.069499842822552,-0.092945501208305,-0.038118828088045));
res += mul(Get(s3,-dx,-dy), float4x4(0.032842144370079,0.028923111036420,0.011748440563679,-0.100679159164429,-0.009843640029430,-0.086580507457256,-0.056879542768002,-0.101027667522430,0.040282044559717,0.121294423937798,0.030152957886457,0.037898693233728,-0.082192674279213,-0.022504024207592,0.063890807330608,0.041492786258459));
res += mul(Get(s3,-dx,0), float4x4(-0.108079314231873,-0.100559614598751,0.015739804133773,-0.020401077345014,0.166745990514755,-0.035467430949211,-0.071333870291710,-0.146500587463379,-0.077925905585289,-0.100213699042797,-0.071015946567059,-0.056638453155756,0.015628121793270,-0.055971607565880,0.017571337521076,-0.025567082688212));
res += mul(Get(s3,-dx,dy), float4x4(-0.110157340764999,0.070030719041824,-0.047278728336096,-0.140004441142082,0.142614066600800,0.061920423060656,-0.062650822103024,-0.218996733427048,-0.072036996483803,-0.052296224981546,-0.110233359038830,-0.068323798477650,0.036577556282282,0.010901363566518,0.095189899206161,-0.152650207281113));
res += mul(Get(s3,0,-dy), float4x4(-0.123505041003227,0.055871419608593,-0.125128149986267,0.128101363778114,0.044165045022964,-0.110557742416859,-0.006974646821618,0.064695790410042,-0.010837999172509,-0.021367333829403,0.034841418266296,-0.036974485963583,0.017984144389629,-0.072032243013382,0.140707209706306,0.169056043028831));
res += mul(Get(s3,0,0), float4x4(0.028388896957040,-0.063823387026787,0.094459153711796,0.122147202491760,0.114088043570518,-0.094302542507648,-0.059966024011374,0.057138368487358,0.119391784071922,-0.100245803594589,-0.024842049926519,-0.073482923209667,0.151866704225540,-0.026335194706917,0.123294673860073,0.142412260174751));
res += mul(Get(s3,0,dy), float4x4(0.071479849517345,-0.003243875224143,-0.016105590388179,-0.047300606966019,0.023847682401538,0.014405388385057,0.015673983842134,0.082418270409107,0.192123234272003,-0.028879409655929,0.013916552998126,0.055707924067974,0.061747435480356,0.014072593301535,-0.020851541310549,-0.066700257360935));
res += mul(Get(s3,dx,-dy), float4x4(-0.049289196729660,0.116862908005714,0.062782026827335,-0.085369423031807,0.027567526325583,-0.104090273380280,0.088341727852821,0.109407603740692,0.125365152955055,-0.053056538105011,0.087043963372707,-0.055536232888699,0.099121950566769,-0.037507068365812,-0.020525563508272,0.070212736725807));
res += mul(Get(s3,dx,0), float4x4(-0.097745165228844,0.082941152155399,-0.000352331233444,-0.053895361721516,0.021229088306427,0.004272708203644,0.005254445131868,-0.038050033152103,0.061888046562672,-0.077186748385429,0.106764860451221,0.084772631525993,0.106491260230541,0.018261227756739,-0.113291814923286,0.118379667401314));
res += mul(Get(s3,dx,dy), float4x4(-0.059228561818600,0.085979282855988,-0.118006303906441,-0.148584023118019,-0.000313527358230,0.068971544504166,0.117052458226681,-0.060356002300978,-0.058109555393457,-0.038481641560793,-0.068543523550034,0.101676851511002,0.091566599905491,0.120806731283665,-0.092484749853611,0.061494056135416));
return max(float4(0,0,0,0), res);
}
