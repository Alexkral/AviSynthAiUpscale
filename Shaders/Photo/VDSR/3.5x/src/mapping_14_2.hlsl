sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073209568858147,0.094299845397472,0.081387884914875,0.051787383854389,0.131718650460243,0.132658720016479,-0.026590015739202,-0.178314790129662,-0.006618069019169,0.035924855619669,0.014142422936857,0.019499149173498,-0.058265376836061,0.036031007766724,0.037844646722078,-0.025076391175389));
res += mul(Get(s0,-dx,0), float4x4(0.059357173740864,0.052834350615740,0.009788164868951,0.114429607987404,0.093988746404648,0.053653929382563,-0.074183873832226,0.016451016068459,-0.033050939440727,0.010038999840617,-0.007266594097018,-0.036046180874109,0.118538998067379,-0.043172549456358,0.158512011170387,-0.032467424869537));
res += mul(Get(s0,-dx,dy), float4x4(0.074771709740162,0.017649067565799,0.024670956656337,0.062167745083570,0.023862648755312,-0.050478886812925,-0.030535411089659,-0.052078071981668,-0.045956704765558,-0.101018533110619,0.059149239212275,-0.056931298226118,0.025583060458302,0.038289137184620,0.130867466330528,-0.037349041551352));
res += mul(Get(s0,0,-dy), float4x4(-0.043198827654123,0.027437353506684,0.023963063955307,0.040798380970955,0.015143074095249,0.035637591034174,0.045057568699121,0.061427816748619,-0.065597385168076,0.125249981880188,-0.070908166468143,-0.082701042294502,-0.054672650992870,-0.010661063715816,0.093526326119900,-0.101204305887222));
res += mul(Get(s0,0,0), float4x4(-0.065299987792969,0.117980897426605,-0.103242471814156,-0.006882183719426,-0.004369729198515,0.069976761937141,0.008400010876358,0.006440285593271,-0.004887847695500,0.065167173743248,0.004006969276816,-0.046407420188189,0.218696847558022,0.001789053436369,0.038903605192900,0.042757328599691));
res += mul(Get(s0,0,dy), float4x4(0.056895423680544,0.002539448905736,-0.004262399394065,-0.020882014185190,0.058373697102070,0.021982895210385,0.034830838441849,-0.022635733708739,0.010223030112684,-0.018168633803725,0.128365144133568,0.018004650250077,-0.033443406224251,0.004297903273255,0.023358320817351,-0.057744313031435));
res += mul(Get(s0,dx,-dy), float4x4(-0.039152275770903,0.107655622065067,0.085303165018559,-0.007365761790425,0.163583949208260,0.053906664252281,0.030870962888002,-0.071983717381954,-0.004700096324086,0.015648875385523,0.048948738723993,0.082060649991035,-0.040205448865891,0.066078387200832,0.073564715683460,-0.051824722439051));
res += mul(Get(s0,dx,0), float4x4(-0.012846763245761,0.041163329035044,0.059283778071404,-0.029315162450075,0.029384231194854,-0.013776844367385,0.040419675409794,0.062345258891582,-0.082195758819580,0.006464311387390,0.131223797798157,-0.013402451761067,0.261139899492264,0.000959853583481,-0.000351523631252,-0.004565728362650));
res += mul(Get(s0,dx,dy), float4x4(0.082112953066826,0.065440274775028,0.051468826830387,0.007435292471200,0.042389389127493,0.034279361367226,0.038733728230000,-0.020818855613470,-0.131072849035263,0.011990942060947,-0.063606612384319,0.034205757081509,-0.022569919005036,-0.018830377608538,0.030799534171820,0.073537901043892));
res += mul(Get(s1,-dx,-dy), float4x4(-0.093273796141148,-0.020912159234285,-0.054617539048195,0.113141000270844,0.097736909985542,0.045943580567837,-0.150892108678818,0.049238070845604,0.016968425363302,-0.050158597528934,0.164835646748543,0.000710421067197,0.030150555074215,0.001437083818018,0.034788236021996,0.027095675468445));
res += mul(Get(s1,-dx,0), float4x4(-0.048226658254862,-0.106896772980690,-0.193427175283432,0.112187884747982,-0.099932186305523,0.127896279096603,-0.133816272020340,0.044566571712494,0.059736106544733,0.030530359596014,0.135088965296745,-0.009000587277114,0.035401616245508,-0.017742492258549,0.024167984724045,0.137679487466812));
res += mul(Get(s1,-dx,dy), float4x4(-0.082075633108616,-0.110146895051003,0.114808529615402,-0.051193032413721,-0.028782628476620,-0.006975273601711,-0.029201263561845,0.015882568433881,-0.031594216823578,-0.021705117076635,0.105247423052788,0.086151987314224,-0.035796146839857,-0.059158753603697,0.024975674226880,0.080601789057255));
res += mul(Get(s1,0,-dy), float4x4(-0.036379072815180,0.004603093955666,0.030441509559751,-0.031225424259901,-0.035702407360077,0.087049305438995,-0.132736027240753,-0.045962955802679,-0.039480868726969,-0.001586737111211,0.085371375083923,-0.008673174306750,0.048006955534220,-0.018558213487267,0.091571703553200,-0.170723527669907));
res += mul(Get(s1,0,0), float4x4(-0.016021110117435,0.032391548156738,-0.103027455508709,-0.012964393943548,-0.055143103003502,0.036268044263124,-0.104583784937859,-0.027668703347445,0.036673836410046,-0.007697816006839,0.089673317968845,-0.037440225481987,-0.003555755363777,-0.017116760835052,-0.021942468360066,-0.043771445751190));
res += mul(Get(s1,0,dy), float4x4(0.048679862171412,-0.211407646536827,-0.211735725402832,0.033706828951836,0.042438037693501,0.018070813268423,-0.003416839987040,0.006476515438408,-0.041413847357035,0.064180679619312,0.051510564982891,-0.026916636154056,-0.093442700803280,0.046949841082096,-0.114158332347870,-0.053648512810469));
res += mul(Get(s1,dx,-dy), float4x4(0.044064965099096,-0.130748242139816,-0.043244641274214,-0.086859494447708,-0.095780327916145,-0.017887251451612,-0.079162165522575,-0.073355920612812,-0.054623480886221,0.024734929203987,0.079035222530365,-0.001920471433550,0.138205036520958,0.027277195826173,0.102740131318569,-0.010702978819609));
res += mul(Get(s1,dx,0), float4x4(0.015610205009580,-0.029738137498498,-0.052881572395563,-0.012928601354361,-0.016401689499617,-0.088154874742031,-0.018182989209890,-0.029876353219151,0.006996185984462,-0.018519319593906,0.079462982714176,-0.031628664582968,-0.129426613450050,-0.025470931082964,-0.007907635532320,-0.100770756602287));
res += mul(Get(s1,dx,dy), float4x4(-0.145975068211555,-0.040595259517431,-0.098165206611156,0.071238428354263,0.011215052567422,0.133382678031921,-0.023530041798949,-0.017449511215091,-0.007979135960340,0.040093339979649,0.095996588468552,-0.024987857788801,-0.057121671736240,-0.008095610886812,-0.019081441685557,-0.082422800362110));
res += mul(Get(s2,-dx,-dy), float4x4(-0.167100086808205,0.076277285814285,-0.029234686866403,-0.004540771245956,-0.032983053475618,-0.024925943464041,0.066469244658947,-0.107181072235107,-0.132445991039276,-0.170269742608070,-0.064675353467464,-0.022098118439317,0.049093965440989,0.180452570319176,0.112341038882732,0.079394698143005));
res += mul(Get(s2,-dx,0), float4x4(0.069895587861538,0.019859524443746,0.052768368273973,0.066523231565952,-0.052040714770555,0.013394718989730,0.046306829899549,-0.042226932942867,-0.017109215259552,-0.065969079732895,-0.075180344283581,-0.035965885967016,-0.016609868034720,0.103761211037636,0.194595754146576,0.031711000949144));
res += mul(Get(s2,-dx,dy), float4x4(0.012493992224336,-0.084833078086376,0.129706531763077,0.021379010751843,-0.015719521790743,0.030169108882546,0.006341320928186,0.001044152420945,-0.048550687730312,-0.050765357911587,-0.066900804638863,-0.045453254133463,-0.010494722984731,0.040784165263176,0.040225222706795,0.011758424341679));
res += mul(Get(s2,0,-dy), float4x4(0.094202533364296,0.055191989988089,-0.116641931235790,-0.035461630672216,0.085405148565769,0.084960155189037,-0.012884845957160,-0.000219284716877,-0.062663547694683,-0.121787205338478,0.029189873486757,-0.102040432393551,0.070159703493118,0.133751526474953,0.083660319447517,-0.029262054711580));
res += mul(Get(s2,0,0), float4x4(0.120111532509327,0.101436689496040,-0.037735212594271,-0.071207545697689,-0.058049153536558,-0.018079323694110,0.088694393634796,-0.070737712085247,0.101248718798161,-0.124450989067554,-0.067709706723690,-0.099311567842960,0.168557509779930,0.091888338327408,0.024474108591676,0.062379390001297));
res += mul(Get(s2,0,dy), float4x4(0.044575069099665,-0.121129915118217,0.157046109437943,0.005695864558220,-0.015525917522609,0.041516348719597,0.092548735439777,-0.082262992858887,-0.003346799407154,-0.055623557418585,-0.039437431842089,-0.044496066868305,0.116724126040936,0.106597408652306,0.181030824780464,-0.031771354377270));
res += mul(Get(s2,dx,-dy), float4x4(-0.130262985825539,0.010045328177512,-0.059702951461077,-0.101390138268471,0.050513494759798,-0.100937768816948,0.090955920517445,0.098017863929272,-0.049750540405512,-0.155332401394844,-0.042248915880919,-0.010016563348472,-0.110624663531780,0.042097691446543,0.010854140855372,-0.112962059676647));
res += mul(Get(s2,dx,0), float4x4(-0.131142050027847,-0.088975273072720,0.066622488200665,0.004228942096233,0.275328010320663,-0.049963824450970,0.100951999425888,0.028899451717734,-0.040261410176754,-0.136257603764534,-0.063243731856346,0.017648825421929,-0.097446590662003,0.031279060989618,-0.040406405925751,0.000956075731665));
res += mul(Get(s2,dx,dy), float4x4(-0.169144243001938,0.055158793926239,0.184165522456169,-0.048586484044790,-0.002367871114984,0.064583308994770,0.092930950224400,-0.015560274943709,-0.066106230020523,-0.083673514425755,-0.172224596142769,0.095458902418613,-0.135508552193642,-0.080077394843102,0.059512954205275,0.002890169154853));
res += mul(Get(s3,-dx,-dy), float4x4(0.000125814549392,-0.104953207075596,0.048300854861736,-0.077246323227882,0.142914861440659,0.078227370977402,-0.003225976368412,0.101671479642391,-0.018039230257273,0.014271651394665,-0.060307081788778,-0.010283839888871,0.009358760900795,-0.089706361293793,-0.068005926907063,0.015978531911969));
res += mul(Get(s3,-dx,0), float4x4(0.022483240813017,-0.089747928082943,0.059698194265366,-0.049935769289732,-0.083735473453999,-0.015920354053378,0.073995791375637,0.033302016556263,0.057717770338058,-0.034691989421844,-0.076642870903015,0.009089221246541,-0.001843032194301,-0.042375110089779,-0.044560112059116,0.007625978905708));
res += mul(Get(s3,-dx,dy), float4x4(0.008850836195052,-0.059115145355463,0.028992602601647,0.011512096971273,-0.083958886563778,-0.019005889073014,0.062437422573566,-0.002720991848037,-0.026151644065976,-0.070675365626812,-0.020790455862880,0.038117989897728,-0.063988223671913,0.010102506726980,-0.021221855655313,-0.004087293986231));
res += mul(Get(s3,0,-dy), float4x4(-0.025276450440288,-0.116895064711571,-0.010761013254523,-0.100749626755714,-0.035253249108791,0.188124477863312,-0.064071662724018,0.215159446001053,-0.047193907201290,-0.101272627711296,-0.091143950819969,0.053661536425352,0.061935849487782,-0.024510040879250,-0.060994282364845,0.032340344041586));
res += mul(Get(s3,0,0), float4x4(-0.069600999355316,-0.074689880013466,-0.058845061808825,-0.067826628684998,0.012883402407169,-0.149243518710136,0.014061407186091,-0.073449485003948,0.091962285339832,-0.065523050725460,-0.106000415980816,0.068430349230766,0.065889954566956,-0.045866485685110,0.022639486938715,-0.171617507934570));
res += mul(Get(s3,0,dy), float4x4(-0.063810974359512,-0.063702411949635,-0.093492418527603,0.048244066536427,-0.043795432895422,0.047713540494442,-0.074917703866959,-0.015644716098905,0.005325946491212,-0.086395286023617,-0.111943863332272,0.036217451095581,0.025883894413710,-0.033624600619078,-0.009126779623330,0.108326941728592));
res += mul(Get(s3,dx,-dy), float4x4(0.006886686664075,-0.083573326468468,0.037049107253551,-0.060869824141264,-0.065571792423725,0.073147438466549,-0.031917259097099,0.069508209824562,-0.065640740096569,0.017539910972118,-0.182016745209694,-0.033179648220539,-0.026639845222235,0.116453319787979,-0.058281563222408,0.133325681090355));
res += mul(Get(s3,dx,0), float4x4(-0.024585513398051,-0.081972576677799,-0.036332175135612,0.031140102073550,-0.065342143177986,0.088633961975574,0.047227874398232,0.026748230680823,0.071802563965321,0.051196802407503,-0.128548681735992,-0.055501900613308,0.027294941246510,-0.131201803684235,-0.006735100876540,0.245684280991554));
res += mul(Get(s3,dx,dy), float4x4(-0.003266614861786,-0.085543751716614,-0.117341913282871,0.130047336220741,-0.024180594831705,0.164328455924988,0.000473296706332,-0.055232070386410,0.019849065691233,0.023938827216625,-0.118739672005177,-0.083651348948479,-0.206480115652084,-0.189400076866150,-0.055336982011795,0.100563257932663));
return max(float4(0,0,0,0), res);
}
