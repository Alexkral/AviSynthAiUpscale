sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016011925414205,0.211506143212318,-0.019782217219472,0.073376595973969,0.030975349247456,0.112292215228081,-0.065313942730427,-0.022787550464272,0.071760021150112,-0.015645917505026,0.147006154060364,0.022753095254302,-0.088032670319080,-0.001317825051956,-0.064075745642185,0.052093137055635));
res += mul(Get(s0,-dx,0), float4x4(0.088181398808956,-0.174484476447105,0.129133135080338,0.110499225556850,0.024696573615074,-0.015959838405252,-0.025351731106639,0.002311895135790,-0.107058241963387,0.040200717747211,0.013331442140043,-0.114291094243526,0.027775619179010,0.079993031919003,0.009401403367519,-0.051372189074755));
res += mul(Get(s0,-dx,dy), float4x4(-0.092657536268234,-0.039555184543133,0.066426716744900,0.018851289525628,0.081615082919598,0.164937600493431,-0.072668366134167,-0.057301163673401,0.054219629615545,0.143664777278900,-0.034019235521555,0.048821505159140,-0.067086286842823,-0.075959935784340,-0.046797618269920,0.049504507333040));
res += mul(Get(s0,0,-dy), float4x4(0.005242211744189,-0.231000319123268,-0.019854132086039,-0.026738354936242,-0.002233995823190,-0.009668932296336,0.063596777617931,-0.073817834258080,-0.098183661699295,-0.041491132229567,-0.156507179141045,0.158234611153603,0.092089623212814,-0.083045892417431,0.071479961276054,-0.001894076936878));
res += mul(Get(s0,0,0), float4x4(0.063117675483227,-0.027924165129662,-0.151395544409752,0.029135135933757,-0.102245911955833,-0.033078055828810,-0.156716749072075,-0.006454756949097,0.134433388710022,-0.001929834135808,0.001558105926961,-0.059204667806625,0.268348813056946,0.019563740119338,-0.073765017092228,-0.099149018526077));
res += mul(Get(s0,0,dy), float4x4(0.119747832417488,-0.006997565738857,-0.020862596109509,0.031705223023891,0.031091626733541,-0.037249661982059,-0.065414912998676,-0.126622065901756,0.153186768293381,0.055375967174768,0.086343921720982,0.195562064647675,-0.112549662590027,-0.018628947436810,0.031981345266104,0.000445934827439));
res += mul(Get(s0,dx,-dy), float4x4(-0.054580412805080,0.074548684060574,-0.225725874304771,0.135984286665916,0.069372951984406,0.078150972723961,-0.061202220618725,-0.084101215004921,-0.067621022462845,-0.274535596370697,0.019444771111012,0.112518817186356,-0.100579753518105,-0.013264859095216,-0.042142312973738,0.074343904852867));
res += mul(Get(s0,dx,0), float4x4(0.049581196159124,-0.033721778541803,0.013584506697953,-0.202322959899902,-0.112382411956787,-0.141951069235802,0.056056994944811,0.056760933250189,0.091364793479443,0.017978943884373,0.053876094520092,-0.097321011126041,-0.093971803784370,0.008843835443258,0.001148321200162,0.009602866135538));
res += mul(Get(s0,dx,dy), float4x4(0.016018614172935,0.078807994723320,0.034444041550159,0.192130163311958,-0.040804065763950,-0.016240745782852,-0.121623948216438,-0.058355338871479,0.085952565073967,-0.145382195711136,0.161701440811157,-0.035473730415106,-0.157836690545082,0.089944303035736,-0.291309803724289,0.039649564772844));
res += mul(Get(s1,-dx,-dy), float4x4(0.130070507526398,0.037572715431452,-0.021313682198524,-0.031533449888229,0.120868124067783,-0.177808761596680,-0.108796402812004,-0.025523897260427,0.022262047976255,0.249043539166451,-0.100987412035465,-0.048817351460457,-0.013602586463094,-0.034349985420704,0.004301197361201,-0.172267079353333));
res += mul(Get(s1,-dx,0), float4x4(0.031420610845089,-0.133038625121117,0.029989559203386,-0.073423735797405,0.096600785851479,-0.044612940400839,-0.075433224439621,-0.151946246623993,0.180393129587173,-0.020637109875679,-0.071239210665226,-0.144181534647942,0.069051750004292,-0.005490531679243,-0.191735103726387,-0.190456092357635));
res += mul(Get(s1,-dx,dy), float4x4(0.107981353998184,-0.014764136634767,0.058409813791513,-0.115375205874443,0.090734452009201,0.040214344859123,-0.077506087720394,0.041470058262348,-0.032467924058437,-0.051604248583317,-0.086049094796181,-0.111240178346634,0.133344858884811,0.032726254314184,0.000349684036337,0.025169294327497));
res += mul(Get(s1,0,-dy), float4x4(-0.071357138454914,-0.047701112926006,-0.199256062507629,0.002909617265686,-0.035893220454454,0.048904366791248,0.043622966855764,-0.054910164326429,0.120092280209064,0.034333568066359,0.117759831249714,-0.147410288453102,-0.005936126224697,0.134757235646248,0.108909793198109,-0.115638643503189));
res += mul(Get(s1,0,0), float4x4(0.085021533071995,-0.001539213233627,-0.054469328373671,-0.089233346283436,-0.184254780411720,-0.142049759626389,-0.094146378338337,-0.143395110964775,0.215322703123093,-0.138997241854668,-0.230645000934601,0.039559192955494,0.057821813970804,-0.041465882211924,0.020061360672116,0.189026370644569));
res += mul(Get(s1,0,dy), float4x4(0.145300179719925,-0.156053900718689,-0.070449091494083,0.024817129597068,0.123659618198872,-0.014200838282704,-0.003517939709127,-0.061972752213478,-0.074147060513496,0.049035154283047,-0.051524572074413,-0.102047339081764,0.142332673072815,0.165274128317833,-0.019677069038153,0.059549082070589));
res += mul(Get(s1,dx,-dy), float4x4(-0.131782665848732,0.041639000177383,0.098266758024693,-0.006613663863391,0.131102591753006,-0.158065795898438,-0.074995853006840,0.006843983195722,-0.075815632939339,0.106632336974144,0.093660816550255,0.009429916739464,-0.084478981792927,0.171784698963165,0.030241973698139,0.082317188382149));
res += mul(Get(s1,dx,0), float4x4(0.049928311258554,-0.022432023659348,-0.016418138518929,0.121403045952320,-0.037769541144371,-0.089963719248772,0.093703873455524,0.201720833778381,-0.057575490325689,-0.056230928748846,0.050895605236292,0.082387208938599,0.009742590598762,-0.134406477212906,-0.095649085938931,0.034885771572590));
res += mul(Get(s1,dx,dy), float4x4(0.112058967351913,0.090372882783413,-0.060375567525625,-0.106002852320671,-0.030615465715528,-0.147395253181458,-0.023058103397489,0.134662866592407,-0.206343978643417,-0.104978643357754,0.151251509785652,0.095471851527691,-0.034899298101664,0.150323122739792,-0.058579429984093,0.106082692742348));
res += mul(Get(s2,-dx,-dy), float4x4(-0.085663989186287,0.036883722990751,-0.116308808326721,0.041415713727474,-0.095551893115044,0.119427986443043,0.121914379298687,-0.017793731763959,0.115092657506466,-0.058021172881126,-0.028821423649788,-0.130619019269943,-0.066787764430046,0.120799235999584,-0.078655004501343,0.122583344578743));
res += mul(Get(s2,-dx,0), float4x4(0.032697048038244,0.038351621478796,0.003008574713022,-0.045607086271048,-0.004659519065171,0.111761689186096,-0.106347188353539,-0.153415367007256,0.177589580416679,0.068627372384071,-0.037119001150131,0.083835601806641,0.061227481812239,0.059734053909779,-0.051516879349947,-0.011145743541420));
res += mul(Get(s2,-dx,dy), float4x4(0.067972615361214,0.058978535234928,0.002565497066826,-0.017530631273985,0.078912287950516,0.037107169628143,-0.103943474590778,0.061747770756483,0.095987841486931,-0.014091989956796,0.164226666092873,0.168510094285011,-0.221241757273674,0.000821861671284,0.032729029655457,-0.004858433734626));
res += mul(Get(s2,0,-dy), float4x4(-0.036842223256826,-0.116449557244778,-0.003124329494312,-0.028323058038950,0.075782574713230,0.095405466854572,0.082649424672127,-0.023230761289597,0.118411026895046,0.016108255833387,0.061879564076662,-0.011860487982631,-0.073895312845707,-0.090059295296669,0.094979718327522,0.046602718532085));
res += mul(Get(s2,0,0), float4x4(0.016612164676189,0.020868169143796,0.015347606502473,-0.112370699644089,0.171617060899734,0.076420761644840,-0.108360081911087,0.040545340627432,-0.109686404466629,0.047991465777159,0.075617387890816,-0.030218152329326,-0.034969422966242,-0.028696706518531,0.001110794837587,0.117402829229832));
res += mul(Get(s2,0,dy), float4x4(0.050703551620245,0.093762584030628,0.139915868639946,-0.105035543441772,0.087588034570217,0.062086615711451,-0.046983867883682,0.058236971497536,-0.048115801066160,-0.087976343929768,-0.092040814459324,0.091356575489044,0.032720863819122,0.108898125588894,0.052781946957111,0.016211217269301));
res += mul(Get(s2,dx,-dy), float4x4(0.046541687101126,0.093325100839138,0.016359252855182,-0.072589002549648,-0.173911392688751,0.018816454336047,-0.038209576159716,0.091268166899681,0.024644479155540,0.133236214518547,-0.161344110965729,-0.032814618200064,0.018217397853732,0.021955011412501,-0.008045982569456,-0.086175821721554));
res += mul(Get(s2,dx,0), float4x4(0.042448867112398,0.070092521607876,-0.159615814685822,-0.135525688529015,-0.030481453984976,0.034790609031916,0.039215993136168,-0.080191805958748,0.020326154306531,0.133827731013298,-0.005076965782791,-0.159452378749847,0.117792472243309,0.032928444445133,0.081502355635166,0.111768417060375));
res += mul(Get(s2,dx,dy), float4x4(-0.034223385155201,-0.079377450048923,-0.098586209118366,0.128324583172798,-0.043164983391762,0.011637039482594,-0.073210865259171,0.101834893226624,0.062365256249905,0.153238683938980,-0.125730216503143,-0.016836527734995,-0.036575984209776,-0.182431876659393,-0.016363199800253,0.014449135400355));
res += mul(Get(s3,-dx,-dy), float4x4(0.021340373903513,0.000662808073685,0.027407752349973,0.109305657446384,-0.028365707024932,-0.042069651186466,-0.120560541749001,-0.190983369946480,0.052826117724180,-0.064055122435093,-0.091374091804028,0.189973950386047,0.071337640285492,0.187383443117142,0.007875164970756,-0.010798820294440));
res += mul(Get(s3,-dx,0), float4x4(-0.067376062273979,0.028351813554764,0.127252250909805,0.120876476168633,0.007281388156116,0.107202827930450,-0.015002142637968,-0.140874594449997,-0.038227222859859,0.065268769860268,0.117622889578342,-0.084282964468002,0.084346733987331,0.087464354932308,0.063870191574097,-0.042900037020445));
res += mul(Get(s3,-dx,dy), float4x4(-0.130380898714066,-0.050005316734314,0.156421557068825,0.150698721408844,0.052836161106825,-0.072686851024628,-0.132258206605911,0.045400954782963,0.051912829279900,0.072790324687958,-0.245151862502098,0.031529985368252,-0.085557013750076,-0.044493973255157,0.060176845639944,0.065002754330635));
res += mul(Get(s3,0,-dy), float4x4(0.228149294853210,-0.025165563449264,-0.035240780562162,-0.008661788888276,0.056890472769737,-0.054936870932579,-0.059230342507362,-0.037616789340973,-0.117270424962044,-0.212321326136589,0.004158515948802,0.068905003368855,0.028683295473456,-0.048111949115992,-0.124701760709286,-0.004698778968304));
res += mul(Get(s3,0,0), float4x4(0.066412560641766,0.130839973688126,0.116858012974262,0.013849708251655,0.165451496839523,-0.169671803712845,-0.047613263130188,0.063255466520786,0.034083496779203,0.153089448809624,0.041958361864090,-0.113952770829201,-0.062294870615005,-0.122202783823013,0.205274671316147,0.027205014601350));
res += mul(Get(s3,0,dy), float4x4(0.048574287444353,0.066844902932644,0.022372225299478,0.197655513882637,-0.252971231937408,0.040886037051678,-0.087043531239033,-0.052710305899382,0.151821091771126,-0.072030015289783,-0.050691056996584,-0.054218262434006,-0.163373202085495,0.054760817438364,0.161972790956497,0.020876746624708));
res += mul(Get(s3,dx,-dy), float4x4(0.099307008087635,-0.039499688893557,-0.104644276201725,0.235446974635124,-0.050306614488363,0.112020738422871,-0.162674039602280,0.018894959241152,0.116839155554771,0.024744329974055,-0.065037749707699,0.236377596855164,-0.007949566468596,-0.059385843575001,0.213737577199936,-0.082733467221260));
res += mul(Get(s3,dx,0), float4x4(0.095433928072453,0.083466313779354,-0.142775073647499,-0.100181892514229,0.189241245388985,-0.130439952015877,-0.081262245774269,-0.131064862012863,0.090665869414806,-0.167033985257149,0.042571585625410,-0.047632411122322,-0.040689568966627,-0.162272736430168,0.002389027271420,0.113160856068134));
res += mul(Get(s3,dx,dy), float4x4(0.101853691041470,-0.047809842973948,0.027607014402747,0.198512241244316,-0.099187470972538,0.078847944736481,-0.015933828428388,0.051048915833235,0.231868445873260,-0.184669256210327,-0.139446005225182,-0.186461731791496,0.192395105957985,0.049999069422483,0.066699907183647,-0.012061668559909));
return max(float4(0,0,0,0), res);
}
