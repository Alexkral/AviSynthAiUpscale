sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.058605890721083,-0.090565741062164,-0.163518443703651,0.012825652956963,-0.110149987041950,0.041948147118092,0.182235658168793,-0.179576724767685,0.021859513595700,0.251014709472656,-0.131881102919579,0.129339590668678,0.156640008091927,0.022043660283089,0.067648373544216,-0.170656085014343));
res += mul(Get(s0,-dx,0), float4x4(0.198062464594841,0.127798840403557,-0.103845201432705,-0.000331522925990,0.087125986814499,0.124330744147301,0.132102712988853,0.082660675048828,0.102570734918118,-0.074434004724026,-0.022362969815731,-0.197043076157570,0.063777677714825,0.064478658139706,0.203433647751808,-0.000347998517100));
res += mul(Get(s0,-dx,dy), float4x4(0.072500221431255,-0.014195177704096,-0.233853235840797,-0.229619249701500,-0.059335991740227,0.133819967508316,0.126597151160240,0.016693040728569,-0.041103318333626,-0.267480969429016,0.068374603986740,-0.110403589904308,-0.280648946762085,-0.045550733804703,0.178743824362755,-0.074718028306961));
res += mul(Get(s0,0,-dy), float4x4(0.099437408149242,0.031868133693933,-0.232968062162399,0.069177731871605,-0.110399723052979,0.004166299011558,-0.087092243134975,-0.113983921706676,-0.081726007163525,0.180055633187294,-0.167873248457909,-0.090524747967720,-0.139376416802406,-0.101071543991566,-0.286134183406830,0.060141310095787));
res += mul(Get(s0,0,0), float4x4(-0.041543588042259,0.134554192423820,-0.086506895720959,0.038507375866175,-0.020308785140514,-0.227510601282120,0.114286616444588,-0.160881757736206,-0.031112045049667,0.047732677310705,0.016873879358172,0.202975302934647,0.115167990326881,-0.033563423901796,0.027014760300517,0.115265019237995));
res += mul(Get(s0,0,dy), float4x4(-0.051729362457991,0.001144060981460,-0.318799585103989,-0.125202342867851,0.119075313210487,0.125460386276245,-0.093478918075562,-0.205378890037537,0.065136864781380,0.001458959653974,0.184378728270531,-0.091106146574020,-0.047698482871056,0.036588612943888,-0.051246192306280,0.017183512449265));
res += mul(Get(s0,dx,-dy), float4x4(0.048500414937735,-0.020452227443457,0.253104150295258,-0.041967496275902,0.100960314273834,0.155563086271286,-0.075641952455044,-0.196100190281868,0.054062996059656,-0.055862508714199,-0.127333030104637,0.082511991262436,-0.415620595216751,0.037434317171574,-0.181986287236214,-0.054504368454218));
res += mul(Get(s0,dx,0), float4x4(0.061109375208616,-0.045732028782368,0.273836791515350,0.043996658176184,0.191655367612839,-0.214079275727272,0.035604782402515,0.124107271432877,0.023535670712590,0.214893981814384,-0.123336389660835,0.114609621465206,-0.094653464853764,0.015980701893568,-0.209379792213440,-0.027336496859789));
res += mul(Get(s0,dx,dy), float4x4(-0.389017611742020,-0.022345758974552,0.104613535106182,-0.021706612780690,0.005118803121150,-0.112616382539272,0.051688987761736,-0.213957354426384,0.003657605266199,0.004007524345070,-0.051781553775072,0.118112497031689,-0.025964001193643,-0.042263522744179,-0.056343983858824,-0.215333476662636));
res += mul(Get(s1,-dx,-dy), float4x4(-0.124981403350830,-0.040091615170240,-0.133881658315659,0.019519530236721,0.254445701837540,0.025120917707682,-0.078507006168365,-0.119783267378807,-0.054862119257450,-0.056627321988344,0.125682041049004,0.089660152792931,-0.042006753385067,0.038107153028250,0.064987108111382,-0.109632149338722));
res += mul(Get(s1,-dx,0), float4x4(0.064740762114525,0.022421058267355,0.077171772718430,-0.264274865388870,-0.033298920840025,-0.047556154429913,-0.048461299389601,0.046908259391785,-0.012709315866232,-0.054840967059135,-0.138140514492989,-0.076008819043636,0.084408253431320,-0.084960073232651,0.091414198279381,0.002179298084229));
res += mul(Get(s1,-dx,dy), float4x4(-0.095660991966724,0.183250293135643,-0.009222343564034,-0.074959412217140,-0.020603742450476,0.134467586874962,0.038280934095383,0.111181519925594,0.192407026886940,0.018509391695261,0.069596059620380,-0.171997010707855,0.173914760351181,-0.030630899593234,-0.080209605395794,-0.251621246337891));
res += mul(Get(s1,0,-dy), float4x4(-0.077123284339905,0.153920918703079,-0.139171972870827,0.032211717218161,0.022365923970938,-0.024336645379663,-0.031929757446051,-0.028324548155069,0.149612739682198,-0.202987208962440,-0.151698410511017,0.134271353483200,0.116927720606327,-0.057723570615053,0.031031316146255,0.161862254142761));
res += mul(Get(s1,0,0), float4x4(-0.284717321395874,0.100815854966640,-0.037919458001852,0.005190954543650,-0.131483092904091,0.069125652313232,0.141939356923103,-0.187090784311295,0.148109987378120,-0.001153458375484,-0.048549514263868,0.069404207170010,-0.114173442125320,0.013485616073012,-0.056404773145914,0.166178181767464));
res += mul(Get(s1,0,dy), float4x4(0.102868959307671,0.189214617013931,0.168195858597755,-0.080050311982632,-0.116743706166744,0.004291222430766,0.040655404329300,-0.184082567691803,-0.017022712156177,-0.061500627547503,0.003731407923624,0.136099055409431,0.201123744249344,0.010131672956049,0.041354555636644,-0.196548745036125));
res += mul(Get(s1,dx,-dy), float4x4(-0.008592638187110,-0.126969158649445,0.115402214229107,-0.008683755062521,-0.094966337084770,-0.099762909114361,-0.047943230718374,-0.032846949994564,0.067708417773247,0.183129400014877,-0.004119125660509,0.076311789453030,0.060568522661924,0.047728084027767,-0.005409980658442,0.024122735485435));
res += mul(Get(s1,dx,0), float4x4(-0.116372108459473,-0.156941384077072,0.174743935465813,0.021368399262428,0.019934877753258,0.121136032044888,0.237760141491890,0.096673838794231,0.081711061298847,-0.054422572255135,-0.288788706064224,0.190828442573547,0.094660535454750,0.096097186207771,0.069318473339081,0.050548266619444));
res += mul(Get(s1,dx,dy), float4x4(0.076833739876747,-0.075398147106171,-0.020964970812201,-0.045583639293909,0.030344758182764,0.073395945131779,0.029671872034669,0.228776633739471,-0.318931043148041,0.164759472012520,0.017953606322408,-0.000410446285969,-0.027968641370535,-0.082744978368282,-0.085102476179600,0.152707859873772));
res += mul(Get(s2,-dx,-dy), float4x4(0.088696822524071,-0.119675405323505,-0.034012436866760,-0.025693420320749,0.054398402571678,0.009700075723231,0.030075591057539,0.049017619341612,-0.081653662025928,-0.000497631379403,-0.085919417440891,0.066381841897964,-0.088880993425846,0.216315418481827,-0.022700244560838,-0.148228123784065));
res += mul(Get(s2,-dx,0), float4x4(-0.198648601770401,0.169746235013008,-0.045197360217571,0.030412152409554,-0.060269810259342,0.086498722434044,-0.038505580276251,-0.328679025173187,0.112561449408531,0.065370008349419,-0.198097050189972,0.269060194492340,-0.133937910199165,0.080117322504520,-0.184825420379639,-0.067443594336510));
res += mul(Get(s2,-dx,dy), float4x4(-0.010445427149534,0.008502501994371,0.073414295911789,0.024364970624447,0.068487279117107,-0.108746126294136,-0.112207680940628,-0.109320141375065,0.046808622777462,-0.133225560188293,-0.055686362087727,0.075201354920864,-0.225498452782631,-0.069074437022209,-0.262918531894684,0.289192199707031));
res += mul(Get(s2,0,-dy), float4x4(-0.085425406694412,-0.116193905472755,-0.054188881069422,-0.055813476443291,0.024036148563027,0.170139655470848,-0.294881343841553,0.046878192573786,0.182816073298454,-0.007733698468655,0.080309666693211,0.112189322710037,-0.107546746730804,0.013704039156437,0.078670889139175,0.197002783417702));
res += mul(Get(s2,0,0), float4x4(-0.088607877492905,-0.001683043432422,0.004181662108749,0.110001899302006,0.072703123092651,-0.061968840658665,-0.019826326519251,-0.079800650477409,0.090999126434326,0.038103993982077,0.130111038684845,0.074932664632797,0.016744371503592,0.236503213644028,0.002726751612499,-0.099631667137146));
res += mul(Get(s2,0,dy), float4x4(0.244043737649918,0.117495670914650,-0.134464249014854,0.044820219278336,0.010743689723313,0.009181382134557,0.103292040526867,0.090096451342106,-0.050554893910885,0.082798145711422,0.084457322955132,0.141385346651077,-0.054698131978512,0.111070215702057,0.040397536009550,-0.025710035115480));
res += mul(Get(s2,dx,-dy), float4x4(-0.050785455852747,0.026527527719736,0.113792799413204,0.103552632033825,-0.042401820421219,0.070860862731934,0.145516231656075,-0.201026096940041,0.001887084217742,0.027739135548472,0.011391303502023,-0.112832069396973,-0.030449431389570,-0.046841438859701,-0.012337537482381,0.219492897391319));
res += mul(Get(s2,dx,0), float4x4(0.230092898011208,0.085812896490097,-0.025713738054037,0.033748824149370,-0.005299553275108,-0.065179005265236,0.114405691623688,-0.067119032144547,0.049980219453573,0.044835634529591,0.156783327460289,-0.074566088616848,-0.088643565773964,-0.041998010128736,-0.171790122985840,0.029604744166136));
res += mul(Get(s2,dx,dy), float4x4(0.044708859175444,-0.217718064785004,0.033741358667612,-0.097561366856098,-0.017970193177462,-0.191524177789688,-0.026426764205098,-0.034354791045189,0.073177158832550,0.098798178136349,0.062085356563330,-0.098144873976707,-0.074794121086597,-0.168419554829597,-0.114593677222729,-0.070712231099606));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011857271194458,-0.098112635314465,-0.109560728073120,-0.085734657943249,-0.049675267189741,-0.171629384160042,0.239562422037125,-0.125301912426949,0.218132331967354,0.018869772553444,-0.026272924616933,-0.054742269217968,0.114603921771049,0.107439301908016,-0.072286508977413,-0.167100697755814));
res += mul(Get(s3,-dx,0), float4x4(-0.027196124196053,0.083482339978218,-0.021377809345722,-0.010924344882369,0.163971289992332,-0.178856253623962,0.048484787344933,0.133766606450081,0.152940124273300,-0.033729482442141,0.039277814328671,-0.082093179225922,0.056188739836216,-0.160754501819611,0.249278351664543,0.088329538702965));
res += mul(Get(s3,-dx,dy), float4x4(0.092027612030506,0.137684673070908,-0.232366606593132,-0.005249859299511,0.095879122614861,-0.036752674728632,-0.164403021335602,-0.099827066063881,-0.011114685796201,0.092750102281570,0.025820136070251,0.104367643594742,0.089759454131126,0.194760963320732,-0.074866011738777,-0.176390364766121));
res += mul(Get(s3,0,-dy), float4x4(-0.130676805973053,0.145765632390976,0.170326575636864,0.004213347565383,0.008851661346853,0.207175225019455,0.049036726355553,-0.019482588395476,0.131428882479668,-0.006541741546243,0.104901187121868,-0.081141225993633,0.062205638736486,-0.085619397461414,0.120920337736607,-0.002743109129369));
res += mul(Get(s3,0,0), float4x4(0.062340099364519,-0.106923192739487,0.098372213542461,-0.176014900207520,0.062694117426872,0.080925107002258,0.002832336351275,0.019443500787020,-0.243508741259575,-0.078932940959930,-0.058439064770937,0.024767883121967,-0.033958639949560,0.112903021275997,-0.022079888731241,0.047317232936621));
res += mul(Get(s3,0,dy), float4x4(0.084151946008205,-0.077113963663578,0.019662488251925,0.002404069062322,-0.015990305691957,-0.089841812849045,0.055561888962984,0.093821831047535,0.138624161481857,-0.031391937285662,-0.104126259684563,-0.003455804893747,-0.004944019485265,-0.098847590386868,0.079153694212437,0.100354880094528));
res += mul(Get(s3,dx,-dy), float4x4(0.026347344741225,-0.303783863782883,-0.158468186855316,0.074765853583813,0.077627561986446,-0.074480079114437,0.101654998958111,-0.065816596150398,0.208592295646667,0.093694388866425,0.106041982769966,0.110149174928665,-0.029949041083455,-0.032911404967308,0.016136234626174,-0.036485612392426));
res += mul(Get(s3,dx,0), float4x4(0.005701512098312,-0.117324687540531,0.099543280899525,-0.234820082783699,0.071045368909836,0.104432888329029,0.026258485391736,-0.088599190115929,0.023784883320332,0.045053012669086,0.021552054211497,-0.061232559382915,0.104198515415192,-0.151593193411827,0.004052513279021,-0.024851819500327));
res += mul(Get(s3,dx,dy), float4x4(0.103974439203739,-0.178347855806351,0.063755847513676,-0.086541973054409,0.020103419199586,-0.048476960510015,0.016907649114728,-0.204508781433105,-0.016127886250615,-0.120614811778069,0.063064955174923,-0.080682143568993,0.126638576388359,0.104677960276604,-0.118041224777699,-0.129879266023636));
return max(float4(0,0,0,0), res);
}
