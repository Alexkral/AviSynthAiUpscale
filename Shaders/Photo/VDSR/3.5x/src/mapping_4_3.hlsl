sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.052120175212622,0.095709972083569,-0.030060306191444,0.009913302958012,-0.061934262514114,0.019066389650106,0.007004714570940,-0.021471174433827,-0.059657588601112,-0.010243074968457,-0.094567157328129,0.029404077678919,0.297326058149338,0.067417696118355,0.017701996490359,-0.094412982463837));
res += mul(Get(s0,-dx,0), float4x4(0.090224519371986,-0.000135957117891,0.015524889342487,0.197753652930260,0.062684930860996,0.045046593993902,-0.056901909410954,-0.027786858379841,-0.003861820790917,0.090222232043743,-0.094066649675369,-0.005467922892421,-0.114616021513939,-0.196021407842636,0.024394076317549,0.015399955213070));
res += mul(Get(s0,-dx,dy), float4x4(0.134595930576324,0.042883019894361,-0.011134439148009,-0.017517266795039,-0.175986886024475,-0.014366392046213,-0.155153229832649,-0.001261299825273,-0.127690747380257,-0.049947503954172,0.026835028082132,-0.030911419540644,0.023914974182844,-0.036617506295443,-0.029477454721928,0.108551427721977));
res += mul(Get(s0,0,-dy), float4x4(-0.012871708720922,-0.046364195644855,0.003987337462604,-0.249912932515144,-0.149772882461548,0.015572076663375,-0.090872451663017,0.022139832377434,0.154195934534073,0.011669077910483,-0.001188423600979,0.038191903382540,-0.000340236118063,0.244922533631325,-0.023550663143396,-0.027605123817921));
res += mul(Get(s0,0,0), float4x4(-0.016368323937058,-0.086966067552567,0.028084635734558,0.073990002274513,0.004331102594733,0.039833184331656,0.073716156184673,-0.040540322661400,0.118607856333256,0.177775070071220,-0.056034497916698,0.023674439638853,-0.067245349287987,-0.152236744761467,-0.023715157061815,-0.029947027564049));
res += mul(Get(s0,0,dy), float4x4(-0.008329479023814,-0.034439992159605,-0.025733875110745,-0.065383419394493,-0.019155377522111,-0.017203751951456,-0.115218847990036,0.022484865039587,-0.057500354945660,-0.029900467023253,0.099285975098610,0.027554074302316,-0.069176428020000,-0.058883469551802,0.137854531407356,0.128065079450607));
res += mul(Get(s0,dx,-dy), float4x4(-0.058473870158195,-0.075919568538666,-0.024204270914197,-0.180617272853851,-0.134707972407341,-0.025569735094905,-0.258247643709183,0.111563250422478,0.081099189817905,-0.034444022923708,0.044734217226505,-0.094447046518326,-0.019855344668031,0.174459338188171,0.022797107696533,-0.079664230346680));
res += mul(Get(s0,dx,0), float4x4(-0.129189565777779,-0.167605414986610,0.022590406239033,0.080941520631313,-0.070535972714424,-0.051982693374157,-0.014650506898761,0.007902576588094,0.079665765166283,0.124949142336845,-0.056166552007198,0.021772997453809,0.096567891538143,-0.073169372975826,0.113057546317577,-0.122646540403366));
res += mul(Get(s0,dx,dy), float4x4(-0.133007839322090,-0.173400834202766,-0.082668125629425,-0.025554968044162,-0.048778016120195,-0.030529450625181,-0.177029773592949,0.081241823732853,-0.043064225465059,-0.002410291694105,-0.021776104345918,0.012262714095414,0.157593563199043,-0.032639157027006,0.066987231373787,-0.068596482276917));
res += mul(Get(s1,-dx,-dy), float4x4(0.029435358941555,0.162225574254990,-0.072556778788567,-0.080151587724686,-0.016148220747709,0.069815628230572,-0.095390364527702,-0.016322972252965,0.044974673539400,0.015784487128258,0.177391707897186,-0.064761824905872,0.001069928286597,-0.048897165805101,-0.078031741082668,0.017141951248050));
res += mul(Get(s1,-dx,0), float4x4(-0.043363105505705,0.065402872860432,0.011833234690130,-0.020134937018156,-0.034707829356194,0.172354191541672,-0.131974443793297,0.042601268738508,0.053448103368282,-0.055486425757408,-0.022231997922063,-0.007194667123258,0.056040391325951,-0.076944082975388,0.011720765382051,0.071760781109333));
res += mul(Get(s1,-dx,dy), float4x4(-0.014982579275966,-0.000355453550583,-0.101136788725853,0.012141488492489,-0.096005715429783,-0.056238051503897,0.009664815850556,-0.038521669805050,0.033986344933510,-0.025620596483350,-0.034080579876900,-0.074557766318321,0.072359897196293,-0.017567714676261,-0.018399069085717,0.201081931591034));
res += mul(Get(s1,0,-dy), float4x4(-0.014082740060985,0.087644718587399,-0.000457355694380,-0.024386763572693,-0.124950528144836,-0.063524790108204,0.194625064730644,-0.147279486060143,-0.008966417983174,-0.033753622323275,0.194279506802559,-0.091329529881477,-0.034786947071552,0.073325976729393,0.044796701520681,0.022846465930343));
res += mul(Get(s1,0,0), float4x4(-0.051050394773483,-0.012135861441493,0.147072151303291,0.032733228057623,-0.047756675630808,0.008954384364188,0.039915185421705,0.042014081031084,0.031896200031042,-0.013709930703044,-0.046945873647928,0.031651999801397,-0.071937538683414,0.041147351264954,0.021125592291355,0.124823242425919));
res += mul(Get(s1,0,dy), float4x4(0.021735198795795,0.003838057164103,-0.007776523008943,0.040985681116581,-0.134619817137718,-0.111472316086292,-0.017668133601546,0.005391490645707,0.019936824217439,0.031487874686718,-0.035075925290585,-0.054448779672384,-0.058837927877903,0.087101459503174,-0.035744536668062,0.080655694007874));
res += mul(Get(s1,dx,-dy), float4x4(0.037428312003613,0.098241947591305,0.105405032634735,0.007670841179788,-0.123088508844376,-0.072842299938202,0.030644163489342,-0.081614956259727,0.042949497699738,-0.019010907039046,-0.050668045878410,-0.148246571421623,-0.070382669568062,-0.054670855402946,0.047478415071964,-0.080715015530586));
res += mul(Get(s1,dx,0), float4x4(-0.107613138854504,-0.011914645321667,0.255183458328247,0.024674480780959,-0.011767292395234,0.064657554030418,-0.120581395924091,0.099109478294849,-0.015030225738883,-0.042682334780693,-0.119992561638355,0.104767620563507,-0.011328951455653,-0.064401976764202,0.001220102421939,0.087512709200382));
res += mul(Get(s1,dx,dy), float4x4(0.014660845510662,-0.024572717025876,0.136910170316696,-0.013215547427535,-0.040040403604507,0.034575220197439,0.003592518158257,0.053914275020361,-0.059452515095472,-0.025982275605202,-0.027770794928074,0.062508814036846,0.046700280159712,0.006120311096311,-0.058829713612795,0.171316593885422));
res += mul(Get(s2,-dx,-dy), float4x4(0.016906674951315,0.012789535336196,0.036032259464264,-0.083397254347801,0.173376396298409,-0.001593615510501,0.017866721376777,-0.154066562652588,-0.003932018764317,-0.010294537991285,0.016556968912482,-0.039004035294056,-0.010698770172894,0.058296285569668,-0.018771460279822,0.069460861384869));
res += mul(Get(s2,-dx,0), float4x4(-0.208187311887741,-0.076280340552330,-0.134992659091949,-0.075114235281944,0.009543552994728,-0.194218263030052,-0.056503422558308,-0.060266785323620,0.010156765580177,-0.025775196030736,-0.025825675576925,0.018809234723449,-0.083976946771145,0.000360347039532,-0.061830829828978,0.094226315617561));
res += mul(Get(s2,-dx,dy), float4x4(0.118482954800129,-0.001436289167032,0.031793247908354,-0.067839309573174,-0.030763117596507,-0.164143577218056,0.015140915289521,-0.014893294312060,-0.107831880450249,0.068967655301094,0.009938546456397,-0.108304858207703,0.039482239633799,-0.034431163221598,0.003524108091369,-0.026322441175580));
res += mul(Get(s2,0,-dy), float4x4(-0.052956022322178,0.049304261803627,0.023057367652655,-0.110567495226860,0.131803840398788,0.173086836934090,-0.025600777938962,-0.076549775898457,0.123254925012589,-0.060294896364212,0.003732732031494,-0.083976022899151,0.104743957519531,-0.021374506875873,0.021813066676259,-0.074419878423214));
res += mul(Get(s2,0,0), float4x4(-0.096016921103001,-0.053746193647385,-0.087732873857021,0.010672485455871,0.085078172385693,0.157216385006905,-0.102941118180752,0.045739348977804,0.045189019292593,-0.100557222962379,-0.071811564266682,0.024240180850029,-0.026925006881356,-0.004335909616202,-0.043342232704163,0.096717499196529));
res += mul(Get(s2,0,dy), float4x4(0.184979006648064,0.006442592944950,0.104679413139820,-0.055048812180758,-0.124583736062050,0.097919054329395,0.188135489821434,0.058894038200378,-0.091059587895870,-0.030551794916391,0.079644680023193,-0.055797070264816,0.058349113911390,-0.016530519351363,0.027109462767839,0.076556995511055));
res += mul(Get(s2,dx,-dy), float4x4(-0.098132349550724,0.019251987338066,0.003676848718897,-0.137853711843491,-0.014059617184103,0.041555806994438,-0.022169876843691,-0.080094285309315,0.012720002792776,0.066919639706612,0.031813442707062,-0.084909752011299,0.081276491284370,0.035460792481899,-0.014557215385139,0.026816627010703));
res += mul(Get(s2,dx,0), float4x4(-0.136553227901459,-0.089523203670979,-0.070996686816216,0.069639749825001,-0.068291053175926,0.060082212090492,-0.022594640031457,0.089669853448868,0.171997740864754,0.031868956983089,-0.186751618981361,0.024611322209239,0.067421518266201,0.030154868960381,-0.027818154543638,0.174825295805931));
res += mul(Get(s2,dx,dy), float4x4(0.126149713993073,0.016923831775784,0.054709564894438,-0.010857675224543,-0.099537096917629,-0.010984850116074,0.290691226720810,-0.025147959589958,0.015037680976093,0.047843951731920,0.005362392868847,-0.023580282926559,0.062164608389139,0.021005922928452,-0.015431698411703,0.181499913334846));
res += mul(Get(s3,-dx,-dy), float4x4(-0.086075589060783,0.135633438825607,-0.033112753182650,-0.037974908947945,0.183627098798752,0.024290462955832,-0.091908715665340,-0.047229263931513,0.215076193213463,0.044940028339624,0.066817618906498,-0.110012322664261,-0.050656739622355,0.165939450263977,0.110376544296741,-0.064020074903965));
res += mul(Get(s3,-dx,0), float4x4(-0.095569081604481,-0.137979611754417,0.057847313582897,-0.092306599020958,0.073572687804699,-0.077206626534462,-0.106533795595169,0.046704746782780,-0.043184366077185,-0.056361921131611,-0.126957774162292,0.052518237382174,0.003219476202503,-0.006148503161967,0.057656828314066,-0.050302568823099));
res += mul(Get(s3,-dx,dy), float4x4(0.030917383730412,-0.017012327909470,0.046202816069126,0.012837816961110,0.106705337762833,-0.098631739616394,-0.021142920479178,0.115521974861622,0.084612354636192,-0.157626897096634,0.113000467419624,0.050917007029057,-0.011008054949343,0.015909271314740,-0.068443782627583,0.118761613965034));
res += mul(Get(s3,0,-dy), float4x4(-0.022845119237900,-0.014821498654783,-0.032631631940603,0.070790119469166,0.090933866798878,0.070407137274742,0.107249088585377,-0.109616965055466,0.168894663453102,0.027167275547981,-0.066532589495182,-0.081657744944096,-0.055392447859049,-0.025706008076668,0.006047617644072,-0.105226732790470));
res += mul(Get(s3,0,0), float4x4(-0.010539865121245,-0.154962405562401,0.038018789142370,-0.056545972824097,0.131675809621811,-0.011156324297190,0.014579004608095,0.190475985407829,-0.012920768931508,-0.074891828000546,-0.141372680664063,0.048140909522772,-0.035324800759554,-0.042793922126293,0.015820903703570,-0.072765581309795));
res += mul(Get(s3,0,dy), float4x4(0.029683709144592,-0.026275949552655,0.148740351200104,-0.038073200732470,-0.216449275612831,-0.083786614239216,-0.002499324036762,0.069978021085262,0.012964306399226,-0.098430536687374,0.052261918783188,-0.070172764360905,-0.045359462499619,-0.021429624408484,-0.003067076671869,0.023405758664012));
res += mul(Get(s3,dx,-dy), float4x4(-0.077042058110237,0.085062280297279,0.000334416283295,0.188640773296356,-0.261523336172104,-0.097689695656300,-0.062049068510532,-0.079815059900284,-0.085254907608032,0.165162742137909,-0.016063531860709,-0.060305997729301,-0.056932196021080,-0.037607464939356,-0.008233830332756,-0.205714881420135));
res += mul(Get(s3,dx,0), float4x4(-0.062203478068113,-0.030510930344462,0.010368607938290,0.080560922622681,-0.095617607235909,-0.082442656159401,-0.100685074925423,0.156901732087135,-0.134305030107498,0.105349212884903,-0.095193542540073,0.086377434432507,-0.064176276326180,-0.033971771597862,-0.019574996083975,-0.131904914975166));
res += mul(Get(s3,dx,dy), float4x4(-0.136980384588242,0.033096872270107,0.135428011417389,0.079111695289612,-0.294397801160812,-0.074436970055103,-0.203403592109680,-0.151023015379906,-0.122753158211708,0.110932804644108,-0.034955769777298,-0.128474175930023,0.004449683241546,-0.044835161417723,0.139617845416069,-0.212564051151276));
return max(float4(0,0,0,0), res);
}
