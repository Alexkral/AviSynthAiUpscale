sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.114018522202969,0.023905133828521,0.005540571641177,-0.021626120433211,0.010515349917114,0.002318981802091,0.085828557610512,0.135419860482216,-0.057089418172836,-0.036922272294760,-0.015579665079713,0.031768061220646,-0.007515348028392,0.180140689015388,-0.023982383310795,-0.157151579856873));
res += mul(Get(s0,-dx,0), float4x4(-0.147358819842339,0.081129804253578,-0.084320425987244,0.046192843466997,-0.166474416851997,-0.122422091662884,0.033265914767981,0.145719960331917,-0.053477361798286,0.036405205726624,0.072189599275589,0.022715529426932,0.231559261679649,-0.123491898179054,-0.107229791581631,-0.044258832931519));
res += mul(Get(s0,-dx,dy), float4x4(-0.028428036719561,0.128213465213776,-0.105987846851349,-0.011723889969289,-0.132519021630287,0.294670820236206,0.000740177289117,0.195195108652115,-0.008257566019893,0.018591646105051,-0.009859859012067,0.107499070465565,-0.081942871212959,0.070093326270580,-0.106715239584446,-0.030259450897574));
res += mul(Get(s0,0,-dy), float4x4(0.047167699784040,-0.147206515073776,0.060859341174364,-0.091641016304493,0.003039411269128,-0.075899466872215,0.044453311711550,0.021563189104199,-0.049728002399206,-0.049972645938396,-0.091995261609554,-0.063330903649330,0.012193568050861,0.073032863438129,0.006934436038136,-0.084245808422565));
res += mul(Get(s0,0,0), float4x4(0.061744097620249,-0.127910137176514,0.075982518494129,0.076668679714203,-0.117193222045898,-0.075771234929562,-0.016044860705733,-0.221134275197983,-0.034291248768568,0.089124798774719,0.031083408743143,-0.016604850068688,0.077865965664387,-0.029698537662625,-0.047816239297390,-0.022872686386108));
res += mul(Get(s0,0,dy), float4x4(0.145625457167625,-0.028606060892344,-0.131156161427498,-0.039663720875978,-0.115149237215519,0.083534367382526,0.026774996891618,-0.000372838054318,0.028346698731184,-0.003904026001692,-0.050700407475233,0.080322004854679,-0.207114532589912,-0.005326921120286,0.187102079391479,0.116690963506699));
res += mul(Get(s0,dx,-dy), float4x4(0.060037098824978,-0.095248192548752,0.125856921076775,-0.036924753338099,0.010297741740942,-0.060156580060720,0.123384527862072,0.062457405030727,0.209826081991196,-0.051447652280331,-0.051346663385630,-0.109923593699932,0.030988272279501,0.118273444473743,-0.035227719694376,-0.036317378282547));
res += mul(Get(s0,dx,0), float4x4(0.001058937748894,-0.124087795615196,0.335672944784164,0.072311483323574,-0.097100377082825,0.022505151107907,-0.094245746731758,-0.161698997020721,0.078207463026047,0.086641110479832,-0.056237518787384,-0.078003466129303,0.146731153130531,0.027016995474696,0.094201788306236,0.087539382278919));
res += mul(Get(s0,dx,dy), float4x4(0.033202916383743,-0.019806886091828,-0.109109029173851,0.107805885374546,-0.055102098733187,0.033462855964899,-0.027673004195094,-0.145132467150688,0.048855289816856,-0.029280804097652,0.003411328885704,0.017156310379505,-0.241118133068085,-0.114801123738289,0.266337782144547,0.171513408422470));
res += mul(Get(s1,-dx,-dy), float4x4(-0.022860540077090,-0.133912995457649,-0.082202956080437,-0.078674033284187,-0.132652223110199,-0.044575516134501,-0.056537680327892,-0.073781624436378,-0.071166075766087,0.103955261409283,-0.099661029875278,-0.020486071705818,0.220372632145882,-0.075028739869595,-0.053548324853182,0.007750317454338));
res += mul(Get(s1,-dx,0), float4x4(-0.119554467499256,-0.130314499139786,-0.114942312240601,-0.037171527743340,-0.010023706592619,0.073379032313824,-0.004929117392749,-0.013949322514236,-0.118509821593761,-0.022028805688024,-0.060926441103220,-0.023479262366891,0.213808655738831,-0.164944157004356,-0.044733986258507,0.066284537315369));
res += mul(Get(s1,-dx,dy), float4x4(-0.164769694209099,-0.162611573934555,-0.132398262619972,0.106300622224808,0.087191477417946,0.085333831608295,-0.050076983869076,0.023073541000485,-0.105406068265438,-0.058883268386126,-0.132121846079826,-0.023504594340920,-0.002848096424714,0.277363121509552,-0.035746932029724,0.017053322866559));
res += mul(Get(s1,0,-dy), float4x4(-0.032773375511169,-0.213556125760078,0.024726763367653,-0.153871580958366,-0.055413063615561,-0.037697833031416,-0.070250913500786,-0.113575138151646,-0.072057597339153,-0.076005816459656,0.097809180617332,-0.063430838286877,-0.125466331839561,-0.097505398094654,0.046236600726843,-0.113246127963066));
res += mul(Get(s1,0,0), float4x4(-0.078552238643169,-0.111458905041218,0.057254575192928,-0.098974809050560,0.077560320496559,0.037489902228117,-0.099002294242382,-0.050729732960463,-0.036410845816135,0.120134741067886,0.027029071003199,-0.025103995576501,-0.011834214441478,-0.117437973618507,0.068885922431946,0.055666383355856));
res += mul(Get(s1,0,dy), float4x4(-0.140651673078537,-0.092134714126587,-0.104573234915733,-0.138393521308899,-0.009158004075289,0.050343886017799,-0.035633753985167,-0.032098200172186,0.031528171151876,-0.094869412481785,0.017292354255915,-0.062523491680622,-0.155496925115585,0.084629237651825,0.102253772318363,0.179397508502007));
res += mul(Get(s1,dx,-dy), float4x4(-0.030196893960238,-0.209483712911606,0.261233091354370,-0.094694189727306,0.162034988403320,-0.029396550729871,0.019710639491677,-0.197536826133728,-0.012473788112402,-0.116336427628994,0.459040164947510,0.077002078294754,0.041272673755884,-0.010415493510664,0.084144316613674,-0.094070568680763));
res += mul(Get(s1,dx,0), float4x4(-0.104180559515953,-0.129219129681587,0.008266855031252,-0.022650368511677,0.081355042755604,0.011322844773531,-0.012620366178453,-0.118186324834824,0.025266334414482,0.082287997007370,-0.061911821365356,0.018736928701401,0.113964453339577,-0.069308541715145,-0.002287319628522,0.034896962344646));
res += mul(Get(s1,dx,dy), float4x4(-0.182148575782776,-0.215218499302864,0.023374574258924,-0.097547501325607,0.129678949713707,-0.025905730202794,0.050533048808575,-0.092049255967140,0.061087854206562,-0.089109778404236,-0.003237241879106,0.090770706534386,-0.052248168736696,0.085552237927914,0.020767651498318,0.048926018178463));
res += mul(Get(s2,-dx,-dy), float4x4(0.120486110448837,0.026487812399864,-0.154872864484787,-0.147080987691879,-0.051357463002205,-0.007186175789684,-0.086433388292789,-0.031970139592886,0.084807470440865,0.210154205560684,-0.064414829015732,0.022145744413137,-0.138399019837379,-0.018033981323242,0.050491567701101,-0.033240895718336));
res += mul(Get(s2,-dx,0), float4x4(-0.069144606590271,0.213762924075127,-0.171702757477760,-0.006120160222054,-0.112535066902637,0.043909009546041,-0.067164406180382,0.138186708092690,0.004507963545620,0.228874042630196,-0.061390273272991,0.007417553104460,-0.034547347575426,0.039402037858963,0.080654457211494,0.045839395374060));
res += mul(Get(s2,-dx,dy), float4x4(0.033203806728125,0.083031207323074,-0.169906392693520,-0.054254937916994,-0.152832314372063,-0.026350148022175,0.031634133309126,-0.028053719550371,0.211117327213287,-0.028583364561200,0.020268086344004,0.085685007274151,0.092223636806011,0.116294056177139,0.144346505403519,-0.059107288718224));
res += mul(Get(s2,0,-dy), float4x4(0.006319172680378,-0.004472021479160,-0.026183426380157,-0.003643133910373,-0.063732348382473,0.050463031977415,0.175739452242851,0.061151035130024,-0.039525873959064,-0.008053451776505,0.039402961730957,0.026042385026813,0.068963393568993,-0.061882570385933,-0.021298917010427,-0.032424133270979));
res += mul(Get(s2,0,0), float4x4(0.009091285988688,0.196435168385506,-0.124645546078682,-0.060116231441498,-0.047445550560951,0.003473616903648,-0.035498604178429,0.135239347815514,-0.083208180963993,-0.057910278439522,-0.020490566268563,-0.064587228000164,0.027016879990697,-0.079138398170471,-0.002307614311576,0.062203574925661));
res += mul(Get(s2,0,dy), float4x4(-0.103958897292614,0.180421814322472,-0.146473601460457,-0.205726698040962,-0.120701655745506,-0.021266357973218,0.081844016909599,0.095274738967419,-0.042930036783218,-0.058557797223330,0.114282265305519,-0.041109420359135,0.098874643445015,0.048929050564766,0.058879137039185,0.041396994143724));
res += mul(Get(s2,dx,-dy), float4x4(-0.056728508323431,-0.108388289809227,0.116098165512085,0.105810068547726,-0.058546006679535,-0.016462376341224,-0.029307954013348,0.043647490441799,-0.099569931626320,-0.057994414120913,-0.099734209477901,0.116739057004452,0.204177081584930,-0.033411465585232,-0.002105390187353,-0.073008447885513));
res += mul(Get(s2,dx,0), float4x4(0.018744651228189,0.001712296856567,0.067979924380779,-0.054247170686722,-0.036581184715033,-0.016330748796463,0.012748735956848,0.072142489254475,-0.077359743416309,0.054127916693687,-0.091717369854450,-0.009588687680662,0.009654787369072,-0.071653254330158,0.013689930550754,-0.005365011747926));
res += mul(Get(s2,dx,dy), float4x4(-0.027766220271587,-0.089578561484814,-0.025099473074079,-0.140876546502113,-0.044666495174170,-0.030151305720210,0.203911930322647,-0.034050572663546,-0.069437727332115,-0.046742066740990,-0.069281950592995,-0.124105207622051,0.045357104390860,0.057143948972225,0.078989207744598,-0.000642512750346));
res += mul(Get(s3,-dx,-dy), float4x4(0.080731153488159,-0.033152200281620,0.021519837900996,0.076291076838970,-0.079160086810589,-0.073925077915192,-0.154392734169960,-0.011603481136262,0.072669416666031,0.080898426473141,-0.038687918335199,-0.019385987892747,-0.038770798593760,0.061716727912426,-0.064798735082150,-0.099818795919418));
res += mul(Get(s3,-dx,0), float4x4(0.057200491428375,0.015458269976079,-0.087266951799393,-0.010576948523521,0.182356745004654,0.071029499173164,-0.094352856278419,0.041222050786018,0.061817936599255,0.011787988245487,-0.008534581400454,0.029882665723562,0.215806663036346,-0.061113990843296,-0.151203319430351,0.004818320740014));
res += mul(Get(s3,-dx,dy), float4x4(-0.091321088373661,0.088032431900501,-0.092400610446930,0.014271859079599,0.071269601583481,-0.054932817816734,-0.172986462712288,-0.056251946836710,-0.003669015364721,0.003809276269749,-0.060348559170961,-0.077135965228081,0.106791317462921,-0.076890639960766,-0.121542558073997,-0.073310382664204));
res += mul(Get(s3,0,-dy), float4x4(-0.031895469874144,-0.067845575511456,-0.013322905637324,0.001432870398276,-0.117875069379807,0.011209854856133,0.024415316060185,-0.076649695634842,-0.021382458508015,0.089787423610687,-0.006612644530833,-0.042189911007881,0.065042138099670,-0.034956485033035,-0.020981892943382,-0.052327025681734));
res += mul(Get(s3,0,0), float4x4(-0.042844630777836,0.023265920579433,0.027769042178988,0.006248945370317,0.006100192200392,-0.049557261168957,0.166741251945496,0.132087394595146,0.002783837029710,-0.008396646007895,-0.079202994704247,0.067698270082474,0.036897331476212,0.050615627318621,-0.027007276192307,-0.081023767590523));
res += mul(Get(s3,0,dy), float4x4(-0.084478646516800,0.031959779560566,0.070746548473835,0.057448983192444,-0.059696808457375,-0.004330837633461,-0.120776288211346,-0.123968161642551,-0.159318044781685,0.056578759104013,-0.050693504512310,0.013559319078922,0.047651499509811,0.084167219698429,0.024363251402974,-0.039221253246069));
res += mul(Get(s3,dx,-dy), float4x4(0.020860705524683,-0.121637210249901,0.031078891828656,0.016969202086329,-0.052281342446804,0.204299792647362,0.073081552982330,0.049579653888941,-0.022733258083463,-0.016459668055177,0.069991916418076,-0.006905482616276,-0.048073228448629,0.048551682382822,-0.224255055189133,0.109374552965164));
res += mul(Get(s3,dx,0), float4x4(-0.146445989608765,-0.022354638203979,-0.034346561878920,0.034144479781389,-0.059846572577953,0.052158586680889,0.192110121250153,0.045550629496574,0.103774666786194,-0.009565552696586,-0.010096785612404,-0.063993357121944,0.074721485376358,-0.001491613918915,0.087274841964245,-0.082998685538769));
res += mul(Get(s3,dx,dy), float4x4(-0.161731660366058,0.003268789965659,-0.044856302440166,0.061981730163097,-0.102642111480236,0.002176013775170,0.029208060353994,0.018806701526046,-0.112930677831173,0.008137061260641,0.001676225219853,-0.102324135601521,0.180671885609627,-0.017377896234393,-0.019592350348830,0.128512948751450));
return max(float4(0,0,0,0), res);
}
