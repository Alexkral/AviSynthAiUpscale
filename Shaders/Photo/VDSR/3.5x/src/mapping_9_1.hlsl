sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.040121581405401,-0.006166691426188,-0.134065911173820,0.166933640837669,-0.089513540267944,0.109139285981655,0.100782521069050,0.058028589934111,0.092411771416664,-0.033129300922155,0.054720252752304,-0.011612230911851,0.041725791990757,0.009506069123745,0.013262149877846,-0.058012180030346));
res += mul(Get(s0,-dx,0), float4x4(0.247075691819191,0.103942871093750,-0.179311618208885,0.023068232461810,-0.076330281794071,-0.037298765033484,0.105405971407890,0.073934778571129,-0.039456605911255,0.198011919856071,0.160333633422852,0.102940522134304,0.134306296706200,0.039612740278244,0.073542043566704,-0.269826740026474));
res += mul(Get(s0,-dx,dy), float4x4(0.183791667222977,0.070305854082108,-0.245377019047737,0.041294462978840,-0.192321211099625,-0.043381601572037,0.010703294537961,-0.122218534350395,0.125421643257141,0.112473741173744,0.082924306392670,0.088966667652130,-0.018990758806467,-0.166003331542015,0.000556973158382,-0.079639531672001));
res += mul(Get(s0,0,-dy), float4x4(0.009819830767810,0.052215259522200,-0.200176805257797,-0.075923897325993,-0.169081002473831,0.072792962193489,0.104957863688469,-0.055936072021723,-0.032210536301136,0.334915250539780,-0.167255416512489,-0.059381417930126,-0.037175681442022,0.078914880752563,-0.018160525709391,-0.047828078269958));
res += mul(Get(s0,0,0), float4x4(-0.068310342729092,-0.160153314471245,0.027748102322221,0.052331063896418,-0.136662021279335,-0.103519223630428,-0.122506849467754,0.101374335587025,-0.179744094610214,0.022055732086301,0.063774362206459,0.092234022915363,0.070869192481041,0.109510116279125,0.095135495066643,-0.053377375006676));
res += mul(Get(s0,0,dy), float4x4(-0.091218933463097,0.061345446854830,-0.039445396512747,-0.070677846670151,-0.105990305542946,0.030360044911504,-0.301386177539825,-0.172965690493584,0.226021125912666,0.063001662492752,-0.120132945477962,0.118837200105190,-0.223108425736427,-0.252208948135376,-0.170026272535324,-0.150599017739296));
res += mul(Get(s0,dx,-dy), float4x4(0.062767490744591,0.094116970896721,-0.017313035205007,-0.119187839329243,-0.040967795997858,-0.021085711196065,-0.149940758943558,-0.081776760518551,0.108908630907536,0.209877550601959,-0.006401492748410,0.006028309930116,-0.061152007430792,-0.004801052156836,-0.032710764557123,0.003558152355254));
res += mul(Get(s0,dx,0), float4x4(-0.018293386325240,-0.102756418287754,-0.103119134902954,0.108702957630157,0.009957207366824,-0.078420512378216,0.233076810836792,-0.107170425355434,-0.235604703426361,0.073268853127956,-0.038969762623310,-0.135443016886711,-0.055522900074720,0.197040572762489,0.209316119551659,0.055311404168606));
res += mul(Get(s0,dx,dy), float4x4(0.143141984939575,-0.135421052575111,-0.013550736010075,0.055859576910734,-0.018848050385714,-0.066249549388885,0.040906198322773,0.019281061366200,-0.012083984911442,0.072460934519768,-0.084953024983406,-0.236219391226768,0.110773064196110,-0.018186008557677,0.057871732860804,0.186063259840012));
res += mul(Get(s1,-dx,-dy), float4x4(-0.127377435564995,-0.034261744469404,0.220034420490265,0.007860439829528,-0.086287297308445,-0.117233939468861,-0.075937859714031,0.016308564692736,0.092893868684769,-0.184996902942657,-0.063590362668037,0.052149157971144,-0.010500974953175,0.037761352956295,0.079734727740288,0.051365360617638));
res += mul(Get(s1,-dx,0), float4x4(-0.075580954551697,0.071184828877449,0.189737349748611,0.160489171743393,-0.087961085140705,-0.136739447712898,0.049485515803099,-0.115371555089951,0.091665387153625,0.055108975619078,0.046065434813499,0.160543143749237,-0.063305675983429,0.214508324861526,0.113749444484711,0.013318543322384));
res += mul(Get(s1,-dx,dy), float4x4(-0.078371845185757,-0.163263380527496,0.075128987431526,0.059971220791340,-0.073367893695831,0.003798100166023,0.137000575661659,0.068467967212200,0.039225723594427,0.084785357117653,0.026478860527277,0.092610888183117,0.240881115198135,-0.060311384499073,-0.070411212742329,0.029879925772548));
res += mul(Get(s1,0,-dy), float4x4(0.095918670296669,0.042838245630264,0.116622962057590,0.103569634258747,0.006235970649868,-0.017057770863175,0.051065150648355,0.086570546030998,0.091532021760941,-0.094106063246727,-0.045748304575682,0.035780563950539,0.098930276930332,0.050244424492121,-0.064414002001286,-0.103311136364937));
res += mul(Get(s1,0,0), float4x4(-0.206393644213676,0.267925649881363,-0.030628258362412,-0.222770139575005,0.277105450630188,-0.138265311717987,-0.138144031167030,0.142340168356895,0.014469827525318,-0.128105178475380,0.187462210655212,-0.044117216020823,-0.077770553529263,-0.078481204807758,0.145112529397011,0.035978402942419));
res += mul(Get(s1,0,dy), float4x4(-0.014136690646410,-0.042119164019823,-0.095086641609669,0.040675181895494,0.106982633471489,-0.099831424653530,0.089779563248158,-0.014314421452582,0.003141358494759,0.041913855820894,-0.109554469585419,0.108020246028900,-0.070284709334373,-0.145973995327950,0.054045841097832,-0.082701839506626));
res += mul(Get(s1,dx,-dy), float4x4(-0.064870037138462,0.066924765706062,-0.046560939401388,0.065336182713509,0.109742619097233,0.115467712283134,0.024830283597112,0.048885535448790,-0.266730725765228,-0.009703441523015,-0.209600254893303,0.053715411573648,0.199732720851898,-0.108604900538921,0.002285913098603,-0.006360051687807));
res += mul(Get(s1,dx,0), float4x4(0.071128025650978,-0.038588032126427,0.067402437329292,0.138222217559814,-0.271589666604996,0.062171585857868,-0.058929912745953,-0.111722305417061,0.074838869273663,0.148534879088402,-0.217443868517876,-0.114267237484455,-0.289717018604279,-0.180368170142174,0.097379848361015,-0.029869440943003));
res += mul(Get(s1,dx,dy), float4x4(-0.183702871203423,0.095937237143517,-0.104444243013859,0.000412530585891,-0.100995279848576,0.066707141697407,-0.110948011279106,0.036512292921543,0.166214957833290,-0.150402933359146,-0.013248874805868,0.194590613245964,0.197646811604500,0.003033646615222,-0.128509804606438,0.061681050807238));
res += mul(Get(s2,-dx,-dy), float4x4(0.011248906143010,0.019433328881860,-0.074480310082436,-0.109713114798069,0.018344592303038,-0.015488527715206,0.095622174441814,0.101430833339691,0.115385293960571,-0.134484499692917,-0.212043136358261,-0.010996252298355,0.018908971920609,-0.121114082634449,0.075744971632957,-0.056551489979029));
res += mul(Get(s2,-dx,0), float4x4(0.076228968799114,0.269466072320938,0.007797495462000,0.121122807264328,-0.059777561575174,0.009926690720022,0.141499608755112,-0.010954500176013,-0.148634448647499,0.055769916623831,-0.170534759759903,0.135091319680214,-0.076430872082710,0.008650575764477,-0.099474266171455,-0.007726207375526));
res += mul(Get(s2,-dx,dy), float4x4(-0.060879968106747,-0.105053342878819,-0.092319399118423,-0.001085171010345,0.124037310481071,0.064614310860634,-0.199240222573280,0.221925392746925,-0.022346025332808,-0.085303857922554,-0.079579286277294,0.081199809908867,0.004588011186570,-0.072395801544189,0.065244711935520,-0.104712828993797));
res += mul(Get(s2,0,-dy), float4x4(0.058285366743803,-0.031196739524603,-0.119184739887714,0.023856012150645,-0.032588023692369,-0.021561289206147,0.033122356981039,0.074965015053749,0.075348190963268,0.091165877878666,-0.037834860384464,0.224467828869820,-0.030040385201573,-0.102485097944736,0.038387365639210,0.126182094216347));
res += mul(Get(s2,0,0), float4x4(0.120359748601913,0.133866190910339,-0.060805939137936,-0.004698094911873,0.061747074127197,-0.214645966887474,0.110738396644592,0.031914651393890,-0.042706198990345,0.051730766892433,-0.139187052845955,0.165176555514336,0.007762062828988,-0.178723067045212,-0.109137229621410,-0.075617134571075));
res += mul(Get(s2,0,dy), float4x4(0.066603712737560,-0.063079781830311,0.121187597513199,-0.032086767256260,-0.086849197745323,-0.027278345078230,0.049594879150391,0.096376940608025,0.086759187281132,-0.192342191934586,-0.118217021226883,0.005855767522007,0.052050586789846,-0.053399927914143,0.126651197671890,-0.061599098145962));
res += mul(Get(s2,dx,-dy), float4x4(-0.030585628002882,-0.246138274669647,0.010798399336636,0.102429851889610,-0.062167856842279,-0.008234871551394,-0.165437787771225,0.267422735691071,-0.045950602740049,0.085513055324554,-0.166144222021103,-0.033779371529818,0.174073696136475,-0.190664872527122,0.092996768653393,-0.046963967382908));
res += mul(Get(s2,dx,0), float4x4(-0.164781108498573,-0.056641738861799,-0.111688926815987,-0.023923482745886,-0.208250924944878,-0.145184591412544,-0.031525123864412,-0.051082648336887,-0.119993098080158,0.051900397986174,0.315951347351074,-0.121572501957417,-0.115322746336460,0.006995596922934,0.126585394144058,-0.188130736351013));
res += mul(Get(s2,dx,dy), float4x4(-0.069415658712387,0.168755039572716,-0.022763440385461,-0.127522394061089,0.025100912898779,0.041413974016905,0.021360596641898,-0.040289647877216,0.112260572612286,0.021566024050117,-0.119248330593109,0.039611380547285,-0.026653321459889,0.017081312835217,0.015522605739534,-0.122786156833172));
res += mul(Get(s3,-dx,-dy), float4x4(0.127378404140472,0.001963482704014,-0.088478378951550,-0.077756635844707,0.026831321418285,0.071043469011784,-0.087082818150520,-0.019177952781320,-0.119095683097839,-0.053346462547779,-0.087799757719040,0.174502208828926,0.093542836606503,0.006728760898113,-0.067669399082661,-0.010206399485469));
res += mul(Get(s3,-dx,0), float4x4(-0.239375218749046,0.036369655281305,-0.052730381488800,-0.115745514631271,0.054297212511301,0.008927993476391,0.078822642564774,0.033218473196030,-0.048735477030277,-0.045111935585737,0.092889085412025,-0.091750301420689,-0.226697519421577,0.076231375336647,0.109227158129215,-0.003603086806834));
res += mul(Get(s3,-dx,dy), float4x4(-0.177899375557899,0.226244017481804,0.071563780307770,-0.058085393160582,0.083662793040276,-0.063296891748905,0.026756763458252,0.140365064144135,-0.020307924598455,-0.094181142747402,-0.008172241970897,0.247247159481049,0.011541089974344,0.064900234341621,-0.122000634670258,0.049356143921614));
res += mul(Get(s3,0,-dy), float4x4(0.032514095306396,0.143972173333168,0.178550601005554,-0.055071599781513,0.166254639625549,-0.032851241528988,0.054682597517967,-0.106884896755219,-0.091083660721779,-0.041898716241121,0.102157071232796,-0.076848313212395,-0.094538517296314,0.138225540518761,-0.000592902302742,0.083242073655128));
res += mul(Get(s3,0,0), float4x4(0.004448367282748,0.030654866248369,0.207183048129082,0.085406772792339,0.128258436918259,0.135389477014542,0.131758034229279,-0.006402979139239,-0.086466170847416,0.056432150304317,0.103750392794609,-0.034365165978670,-0.061789527535439,-0.016006372869015,0.147183999419212,0.115413315594196));
res += mul(Get(s3,0,dy), float4x4(0.040933951735497,0.082174472510815,0.022812748327851,-0.077036656439304,-0.053589951246977,0.284605264663696,0.010477012023330,-0.136307954788208,0.138813570141792,-0.255126863718033,-0.168169125914574,0.018523102626204,-0.076696172356606,0.123049542307854,-0.019964827224612,-0.075326777994633));
res += mul(Get(s3,dx,-dy), float4x4(0.027858505025506,0.029341170564294,0.023781975731254,-0.139705374836922,0.249825730919838,-0.002151076914743,-0.004214761778712,0.118285685777664,0.019812680780888,-0.042523421347141,-0.134826079010963,0.009052151814103,0.008639183826745,-0.063441127538681,0.012816498987377,-0.065551117062569));
res += mul(Get(s3,dx,0), float4x4(-0.031066672876477,0.006401606835425,0.111966691911221,0.111076585948467,0.227165877819061,0.021229248493910,0.001229501911439,-0.236473232507706,0.015474153682590,-0.105064019560814,-0.050227493047714,0.066042795777321,-0.309779644012451,0.000559773645364,-0.008276366628706,0.028032341971993));
res += mul(Get(s3,dx,dy), float4x4(-0.032538659870625,-0.006692105904222,0.040802989155054,0.164633944630623,0.245835810899734,-0.040201928466558,-0.041076902300119,-0.041270710527897,-0.012549201957881,-0.006899093277752,-0.043758686631918,-0.019613796845078,0.070966139435768,-0.043090242892504,0.051731273531914,-0.091466858983040));
return max(float4(0,0,0,0), res);
}
