sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.085463196039200,0.060945153236389,-0.072244845330715,0.007950236089528,-0.069208443164825,-0.073788844048977,-0.099752657115459,-0.070642516016960,0.083213269710541,-0.147304788231850,-0.029902359470725,-0.305421501398087,0.113034874200821,-0.109024234116077,-0.053707521408796,0.135772541165352));
res += mul(Get(s0,-dx,0), float4x4(-0.057760197669268,0.043292593210936,0.019791616126895,-0.128905788064003,0.038979165256023,-0.102545119822025,-0.108163349330425,-0.063032269477844,-0.005315697286278,-0.040620207786560,-0.059325233101845,-0.007188800722361,0.117165900766850,0.014455687254667,0.024031074717641,0.182086363434792));
res += mul(Get(s0,-dx,dy), float4x4(-0.078056141734123,0.073340803384781,0.229376658797264,-0.124589838087559,-0.135449856519699,-0.102137789130211,-0.022141300141811,-0.105787508189678,-0.069451920688152,0.135400474071503,-0.098017051815987,-0.074986539781094,0.122009828686714,-0.105270564556122,0.042386785149574,0.052635774016380));
res += mul(Get(s0,0,-dy), float4x4(-0.056558206677437,-0.037275291979313,0.036852128803730,-0.131365269422531,0.069929964840412,0.036068208515644,-0.035505086183548,-0.095428831875324,0.085405215620995,-0.163936346769333,0.012203400954604,-0.196399584412575,0.003515206743032,0.110403887927532,-0.092457257211208,-0.054585792124271));
res += mul(Get(s0,0,0), float4x4(-0.025685241445899,-0.088998161256313,-0.047349300235510,-0.065701141953468,-0.017797321081161,-0.012298690155149,-0.018511913716793,-0.043036367744207,-0.080665372312069,-0.042629893869162,0.026674557477236,0.147475376725197,0.133372649550438,-0.025349814444780,-0.068994872272015,0.139297038316727));
res += mul(Get(s0,0,dy), float4x4(-0.012469900771976,0.096612207591534,0.130607813596725,-0.030646527186036,-0.098195463418961,-0.080718986690044,-0.013353763148189,0.016653994098306,0.040615092962980,-0.010603364557028,-0.113492928445339,-0.034766502678394,0.003090556710958,0.040196504443884,-0.048167526721954,0.078455604612827));
res += mul(Get(s0,dx,-dy), float4x4(-0.038456287235022,0.010771917179227,0.124318696558475,0.042579241096973,0.091604746878147,0.022954478859901,-0.176412716507912,-0.124428950250149,-0.040887460112572,0.061587922275066,-0.013000348582864,-0.021147061139345,-0.006483011413366,-0.047042924910784,-0.035177432000637,-0.010653764009476));
res += mul(Get(s0,dx,0), float4x4(0.178312078118324,0.023534113541245,0.003657714230940,0.069822326302528,-0.001801499631256,0.075478643178940,-0.122928790748119,0.048484552651644,0.260404497385025,0.269883513450623,0.054560966789722,0.095682829618454,0.060827054083347,-0.011424131691456,-0.023926209658384,0.048431899398565));
res += mul(Get(s0,dx,dy), float4x4(-0.023453608155251,0.065814346075058,0.121695972979069,-0.009626234881580,-0.135558888316154,-0.094990350306034,-0.150525256991386,-0.107935532927513,0.049804855138063,0.021092437207699,-0.097870618104935,-0.009787439368665,0.003401362570003,0.050470788031816,0.009728311561048,-0.020407995209098));
res += mul(Get(s1,-dx,-dy), float4x4(-0.138744607567787,0.058817423880100,0.075099855661392,-0.025396542623639,0.036337148398161,0.128415971994400,0.102724015712738,0.190254822373390,-0.092421591281891,0.044829841703176,0.127159208059311,0.000624439504463,0.057363446801901,-0.214624628424644,-0.025986207649112,-0.054651249200106));
res += mul(Get(s1,-dx,0), float4x4(-0.012659796513617,-0.058265257626772,0.127107024192810,-0.018790284171700,0.030534636229277,0.015374119393528,0.037177335470915,0.134719267487526,0.079776696860790,0.000675174524076,-0.058402504771948,0.033442664891481,0.081480182707310,-0.006777952425182,-0.020594695582986,0.062829956412315));
res += mul(Get(s1,-dx,dy), float4x4(0.104463540017605,-0.050802204757929,-0.067683853209019,-0.067108377814293,0.102138653397560,0.185454115271568,0.138179197907448,0.190365314483643,0.077081330120564,-0.002953366143629,0.172386437654495,0.036047924309969,-0.065297529101372,-0.159957513213158,-0.065947592258453,0.293664485216141));
res += mul(Get(s1,0,-dy), float4x4(0.076922066509724,0.007531031966209,-0.097543179988861,-0.033620174974203,-0.059992473572493,0.309133172035217,-0.076974064111710,0.031672894954681,-0.096974067389965,-0.010576951317489,0.127298489212990,0.052507475018501,0.093327470123768,0.153043016791344,0.117341600358486,0.098556488752365));
res += mul(Get(s1,0,0), float4x4(-0.114311583340168,-0.024386858567595,0.096317447721958,-0.015171266160905,-0.044853940606117,-0.008872563019395,0.001076900982298,0.048574592918158,-0.042175125330687,-0.010949376039207,-0.109858788549900,0.042436663061380,-0.029664594680071,0.018590923398733,-0.076406367123127,0.081961140036583));
res += mul(Get(s1,0,dy), float4x4(0.007781429216266,-0.055765189230442,-0.054905615746975,-0.029020808637142,-0.079477384686470,0.124719277024269,0.207389011979103,-0.044624131172895,-0.000462287454866,-0.011499449610710,-0.001157955499366,-0.013345648534596,-0.127444952726364,-0.058916516602039,-0.197075352072716,-0.038709845393896));
res += mul(Get(s1,dx,-dy), float4x4(0.303155183792114,0.026213241741061,-0.084268152713776,-0.100338689982891,-0.031116262078285,0.060857590287924,0.029556447640061,-0.051704734563828,-0.146696716547012,-0.137960389256477,0.011243362911046,0.010936968028545,-0.011951318942010,0.041689191013575,0.127321854233742,0.082672588527203));
res += mul(Get(s1,dx,0), float4x4(0.028640661388636,-0.072895653545856,-0.004428491462022,0.007057652808726,0.101221241056919,-0.017681708559394,-0.047618985176086,-0.048357471823692,0.065498188138008,0.014296569861472,-0.037372361868620,-0.107086591422558,0.021799884736538,-0.070156782865524,0.133809894323349,-0.115025900304317));
res += mul(Get(s1,dx,dy), float4x4(0.124243788421154,0.028756417334080,0.049021601676941,0.006337976548821,0.125653654336929,-0.006526131648570,0.000056867495005,-0.091398023068905,0.223902314901352,-0.065334036946297,-0.026565933600068,-0.035993628203869,-0.183870077133179,-0.073912285268307,-0.025089906528592,-0.186006292700768));
res += mul(Get(s2,-dx,-dy), float4x4(-0.009787632152438,0.028779173269868,0.153614372014999,-0.064998924732208,-0.126316025853157,-0.076402701437473,-0.061423838138580,0.117842473089695,-0.078624077141285,0.067048229277134,-0.051188215613365,-0.076728135347366,0.030925434082747,0.010484633035958,-0.051722697913647,-0.078515641391277));
res += mul(Get(s2,-dx,0), float4x4(0.148914694786072,0.062133684754372,0.023916190490127,0.099462106823921,-0.111288547515869,-0.055789235979319,-0.092191889882088,-0.104930959641933,-0.102377280592918,-0.083840280771255,-0.084491603076458,0.114121876657009,0.068667158484459,0.011558336205781,-0.140196129679680,-0.118493899703026));
res += mul(Get(s2,-dx,dy), float4x4(-0.100242994725704,0.029356826096773,-0.034522775560617,-0.013393263332546,-0.080465026199818,-0.019750313833356,-0.122446715831757,-0.036949947476387,0.038226153701544,0.000499869463965,0.006349747069180,0.038192436099052,0.013610600493848,-0.009005781263113,-0.118518985807896,-0.137843847274780));
res += mul(Get(s2,0,-dy), float4x4(-0.184142082929611,0.039763420820236,0.036540694534779,-0.073017299175262,-0.113747775554657,0.058671455830336,0.056205280125141,0.003972791600972,0.013793475925922,-0.055838279426098,-0.027524961158633,-0.038919094949961,0.113718725740910,0.042679943144321,-0.000871489755809,0.013019742444158));
res += mul(Get(s2,0,0), float4x4(0.188884884119034,0.159738615155220,0.052915334701538,0.080691248178482,-0.069737963378429,0.007772401906550,0.052015841007233,-0.056951221078634,0.064735479652882,-0.123947411775589,-0.126382544636726,0.083314038813114,-0.004510030616075,0.101911611855030,0.035981450229883,-0.026609355583787));
res += mul(Get(s2,0,dy), float4x4(0.050058655440807,0.225689291954041,-0.041010107845068,-0.008381227962673,-0.040370181202888,0.121573075652122,-0.025135537609458,-0.003489719470963,-0.059831351041794,0.092358008027077,0.031973801553249,0.033916838467121,-0.080301597714424,0.063697107136250,-0.006622894667089,-0.061563491821289));
res += mul(Get(s2,dx,-dy), float4x4(-0.133661121129990,-0.090694151818752,0.012181933037937,-0.019589666277170,-0.164086356759071,0.126693606376648,-0.007723480928689,-0.037474162876606,-0.079849094152451,-0.059595122933388,0.106939382851124,-0.094953007996082,0.101516574621201,0.036663413047791,0.034661889076233,0.050141472369432));
res += mul(Get(s2,dx,0), float4x4(0.049170654267073,-0.015829168260098,0.046557080000639,0.032136231660843,-0.063652321696281,-0.002664861967787,-0.048267982900143,0.051386743783951,-0.069569960236549,-0.005909608211368,0.181050658226013,-0.098807856440544,0.153968647122383,-0.003305790713057,-0.065093167126179,-0.067148342728615));
res += mul(Get(s2,dx,dy), float4x4(-0.097299717366695,-0.060203071683645,-0.000411754357629,0.008957315236330,-0.075662307441235,0.088179208338261,-0.047211430966854,0.092466995120049,0.153147354722023,0.080491691827774,0.014669424854219,-0.141049861907959,-0.051379684358835,-0.025876453146338,-0.065463826060295,0.078559264540672));
res += mul(Get(s3,-dx,-dy), float4x4(0.124249309301376,-0.020948074758053,0.062069408595562,-0.019719202071428,-0.021374119445682,-0.099484816193581,0.059241797775030,0.094141118228436,-0.166860729455948,0.124680586159229,-0.001927408040501,0.080284386873245,-0.040625113993883,-0.020848687738180,-0.170445993542671,0.033700503408909));
res += mul(Get(s3,-dx,0), float4x4(0.012998552061617,-0.026935335248709,-0.016846939921379,-0.025024902075529,-0.084496594965458,0.003271149471402,-0.107525855302811,0.124922469258308,0.018517812713981,0.027101531624794,0.019101243466139,0.019352991133928,0.176511108875275,-0.066724397242069,-0.009696104563773,0.067554265260696));
res += mul(Get(s3,-dx,dy), float4x4(-0.094413340091705,-0.115216992795467,-0.080826856195927,-0.081403300166130,-0.105536438524723,-0.068722672760487,0.046943139284849,0.010206981562078,0.005810232367367,0.057070523500443,-0.183768868446350,0.027516845613718,0.056241516023874,0.021831650286913,0.150611028075218,-0.043376829475164));
res += mul(Get(s3,0,-dy), float4x4(0.069941714406013,-0.026904096826911,0.055495657026768,-0.086525626480579,-0.015002199448645,-0.092271305620670,0.039414513856173,0.030038453638554,-0.113858476281166,-0.036510657519102,-0.087297819554806,0.115024857223034,-0.168225049972534,-0.025170424953103,-0.046396654099226,0.026233306154609));
res += mul(Get(s3,0,0), float4x4(0.015278089791536,0.061339724808931,-0.113193109631538,-0.090270623564720,-0.073768198490143,-0.032253481447697,-0.028588036075234,-0.023530723527074,-0.021230638027191,0.074073053896427,-0.101545087993145,-0.130056872963905,0.058299299329519,-0.020676972344518,-0.062813200056553,-0.089494809508324));
res += mul(Get(s3,0,dy), float4x4(0.004951003007591,0.012914112769067,-0.046112574636936,-0.123997785151005,-0.079399563372135,-0.075624518096447,-0.052990373224020,-0.181573867797852,-0.160095497965813,-0.011124491691589,-0.063759014010429,-0.045340828597546,-0.115297541022301,0.132366269826889,0.054942321032286,-0.142226755619049));
res += mul(Get(s3,dx,-dy), float4x4(-0.029294516891241,-0.113489590585232,0.247488424181938,-0.043509293347597,-0.075634665787220,-0.184077486395836,0.265970289707184,0.033135753124952,-0.093663811683655,0.087196946144104,-0.048067681491375,0.046568620949984,-0.123928040266037,-0.011485701426864,-0.005279276985675,0.020453985780478));
res += mul(Get(s3,dx,0), float4x4(0.052125215530396,-0.028397854417562,0.128783732652664,-0.001424535759725,-0.104668058454990,-0.013459746725857,0.203598752617836,0.044420596212149,-0.029925240203738,0.072899810969830,-0.030730010941625,-0.032017186284065,0.009726596996188,0.026069363579154,-0.068688564002514,-0.109022118151188));
res += mul(Get(s3,dx,dy), float4x4(-0.001355782151222,-0.029619738459587,0.039889659732580,-0.129119634628296,0.000330782320816,-0.034683916717768,-0.155942440032959,-0.004218723159283,-0.113540008664131,0.020750340074301,0.017078526318073,0.159430742263794,-0.135002434253693,0.016077687963843,-0.064914971590042,-0.050837986171246));
return max(float4(0,0,0,0), res);
}
