sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.074578404426575,-0.105806656181812,0.074689052999020,-0.088705584406853,-0.121855594217777,-0.239765882492065,-0.086339704692364,-0.144398137927055,0.050291322171688,-0.214933916926384,0.055541489273310,0.161991134285927,0.044341046363115,0.100308515131474,0.256916731595993,-0.167053371667862));
res += mul(Get(s0,-dx,0), float4x4(0.044758897274733,0.062287673354149,-0.006385189946741,-0.155770316720009,-0.062556654214859,0.191825762391090,-0.053892031311989,-0.006346399430186,0.011134210973978,-0.007198170293123,-0.024912973865867,0.154995083808899,-0.076592080295086,-0.060643080621958,-0.010043740272522,0.040458656847477));
res += mul(Get(s0,-dx,dy), float4x4(-0.402327269315720,-0.021482734009624,0.025268746539950,0.024694796651602,-0.176750659942627,0.148411616683006,0.168638721108437,-0.003631316591054,0.147560000419617,-0.010594904422760,0.099211767315865,0.078809596598148,0.043792478740215,-0.168800607323647,-0.070632539689541,0.037224665284157));
res += mul(Get(s0,0,-dy), float4x4(-0.004359575454146,0.012829201295972,0.015111311338842,-0.064985275268555,-0.160382091999054,-0.072897225618362,-0.014568941667676,-0.038032956421375,0.100745059549809,-0.079524040222168,-0.146521225571632,-0.045507505536079,0.076903320848942,-0.205395802855492,-0.044060621410608,-0.104165792465210));
res += mul(Get(s0,0,0), float4x4(-0.032393574714661,-0.124793246388435,0.081983707845211,-0.020813625305891,0.014644362963736,0.013302717357874,0.096876993775368,-0.178719431161880,0.058474007993937,0.068823918700218,-0.018819443881512,0.110737726092339,-0.045329261571169,0.003158204024658,-0.016383497044444,0.199766799807549));
res += mul(Get(s0,0,dy), float4x4(0.007366780191660,0.165458127856255,-0.029381705448031,0.065722599625587,0.068228773772717,-0.141838103532791,-0.207923769950867,-0.029128955677152,-0.102686442434788,-0.090191416442394,-0.106536634266376,0.005256438627839,-0.169625639915466,0.025441896170378,0.105719722807407,0.087739147245884));
res += mul(Get(s0,dx,-dy), float4x4(-0.017286438494921,0.002118048025295,-0.011700195260346,-0.025192366912961,-0.076603293418884,0.159185424447060,-0.013679527677596,0.038266252726316,-0.082712337374687,-0.078976184129715,0.148333996534348,-0.016434950754046,-0.067135863006115,-0.173962011933327,-0.102980762720108,0.219815790653229));
res += mul(Get(s0,dx,0), float4x4(0.065458454191685,-0.088820293545723,0.070075035095215,0.097234658896923,0.031852696090937,0.023141503334045,-0.113057166337967,0.140351042151451,-0.003426647046581,-0.115064226090908,-0.050047360360622,0.182392358779907,-0.239282652735710,-0.157165899872780,0.043225500732660,0.033564984798431));
res += mul(Get(s0,dx,dy), float4x4(-0.139064714312553,-0.084008760750294,-0.107151202857494,-0.036043226718903,-0.124595455825329,0.063935078680515,0.096970938146114,-0.106560431420803,-0.064212232828140,-0.096279084682465,0.009101567789912,0.012451498769224,0.029065418988466,0.217752069234848,-0.092318341135979,0.052005022764206));
res += mul(Get(s1,-dx,-dy), float4x4(-0.046563040465117,0.036389458924532,0.090067043900490,-0.020008089020848,0.212191969156265,-0.074408717453480,0.094530828297138,-0.076115570962429,-0.067197635769844,-0.010165922343731,0.052465852349997,-0.048354681581259,-0.011759895831347,0.026274651288986,0.003878874238580,-0.022724214941263));
res += mul(Get(s1,-dx,0), float4x4(-0.030128763988614,-0.059865389019251,-0.211272105574608,0.008636624552310,-0.161215305328369,-0.044660497456789,0.106042779982090,-0.072723180055618,0.079173140227795,-0.216012045741081,0.182102710008621,0.232920348644257,-0.000085036183009,-0.036487974226475,-0.258569389581680,-0.097758226096630));
res += mul(Get(s1,-dx,dy), float4x4(-0.025283381342888,-0.119030937552452,-0.093993514776230,-0.013754099607468,-0.163172751665115,0.123672418296337,0.124793492257595,0.132886782288551,0.082971900701523,-0.187606871128082,-0.191760674118996,0.039566926658154,0.144210875034332,0.034280985593796,0.026596458628774,-0.058507531881332));
res += mul(Get(s1,0,-dy), float4x4(-0.246830999851227,0.109326079487801,-0.247410610318184,-0.032876115292311,-0.111041046679020,-0.229711800813675,-0.001445032423362,-0.060945097357035,0.070809043943882,-0.139725178480148,-0.011579405516386,-0.097216732800007,0.160773992538452,-0.194706544280052,-0.068349473178387,-0.078198403120041));
res += mul(Get(s1,0,0), float4x4(-0.168208345770836,-0.193809583783150,-0.157876923680305,-0.145239040255547,0.262122273445129,0.007637755945325,-0.098024599254131,0.017049057409167,0.035106170922518,-0.008109780028462,0.075519256293774,-0.067960821092129,-0.173219352960587,-0.012111769989133,0.074030719697475,0.204483136534691));
res += mul(Get(s1,0,dy), float4x4(0.005716780200601,-0.006674862001091,0.003923415672034,0.009897045791149,-0.160013318061829,0.164591118693352,-0.131001338362694,-0.053389530628920,0.151922091841698,-0.114585891366005,-0.048439409583807,0.140173524618149,0.012370592914522,0.225143045186996,-0.115109913051128,-0.141636982560158));
res += mul(Get(s1,dx,-dy), float4x4(0.226422891020775,0.040511880069971,-0.085190929472446,-0.039786763489246,0.009727661497891,-0.023749964311719,-0.002196751767769,-0.098851568996906,0.067295104265213,0.101217605173588,-0.119731552898884,-0.110726863145828,-0.052978273481131,0.069201745092869,-0.065343886613846,0.006752353161573));
res += mul(Get(s1,dx,0), float4x4(0.002001451561227,0.195888370275497,0.104193761944771,-0.022393727675080,0.004711179062724,0.018573019653559,0.106395803391933,0.056180048733950,-0.013907643035054,-0.016391275450587,0.000212304235902,-0.202662169933319,0.021154597401619,-0.084476791322231,-0.114870458841324,-0.091809421777725));
res += mul(Get(s1,dx,dy), float4x4(-0.108507558703423,-0.046354569494724,-0.243271127343178,-0.123561605811119,-0.087543264031410,0.003008224768564,-0.187656387686729,-0.064035929739475,0.077460289001465,-0.152061611413956,0.140936493873596,-0.231341943144798,-0.119761928915977,-0.128122538328171,-0.181747555732727,-0.112754426896572));
res += mul(Get(s2,-dx,-dy), float4x4(-0.006268850062042,0.015515214763582,-0.018407516181469,-0.109899058938026,-0.135083124041557,-0.025475239381194,-0.149400994181633,0.009416413493454,0.109966024756432,0.013089346699417,0.005994128063321,-0.058453246951103,-0.021573603153229,-0.014368398115039,0.136994868516922,-0.174178630113602));
res += mul(Get(s2,-dx,0), float4x4(-0.098669387400150,-0.028342805802822,-0.026388473808765,-0.115934923291206,0.143615484237671,0.092874348163605,0.007243886590004,-0.155729025602341,-0.027457481250167,0.004213078413159,-0.062792308628559,0.040835406631231,-0.026256036013365,-0.012124951928854,0.015264325775206,-0.081420138478279));
res += mul(Get(s2,-dx,dy), float4x4(0.053815711289644,0.058239832520485,-0.066939540207386,0.070149682462215,-0.175304517149925,-0.114268250763416,0.009655035100877,0.116029113531113,-0.010189065709710,0.077238224446774,-0.022668041288853,0.065957836806774,0.267613947391510,0.160271182656288,0.107984803617001,-0.167088285088539));
res += mul(Get(s2,0,-dy), float4x4(-0.034062210470438,0.041088853031397,0.025205491110682,0.047098200768232,0.028239378705621,-0.076452858746052,0.049007501453161,0.023283880203962,-0.005647369660437,-0.125011652708054,0.087177805602551,-0.053841341286898,-0.266174346208572,-0.220911651849747,-0.060246244072914,-0.299948215484619));
res += mul(Get(s2,0,0), float4x4(0.067855127155781,-0.162088066339493,-0.068515166640282,0.104615136981010,-0.005481260363013,0.014673707075417,-0.042298670858145,0.115749098360538,0.122577957808971,0.029931500554085,-0.028758222237229,0.083113059401512,-0.020242283120751,-0.036381408572197,-0.097580455243587,-0.037983268499374));
res += mul(Get(s2,0,dy), float4x4(-0.195643857121468,-0.022621171548963,0.038154602050781,0.143817543983459,-0.012412638403475,-0.115898303687572,0.050921782851219,0.027904529124498,-0.006484361365438,-0.055139582604170,-0.104419700801373,0.114080093801022,-0.144045844674110,0.165463715791702,-0.095257870852947,-0.051385380327702));
res += mul(Get(s2,dx,-dy), float4x4(0.017743943259120,0.056184854358435,-0.002256850479171,-0.004668157082051,-0.137038648128510,-0.061145123094320,-0.078297272324562,-0.002649561269209,-0.069675311446190,-0.052345193922520,-0.163585960865021,0.118646599352360,0.030542423948646,0.030706914141774,0.012143411673605,-0.046610143035650));
res += mul(Get(s2,dx,0), float4x4(-0.026751399040222,-0.095817282795906,0.076482325792313,-0.077998191118240,-0.137697726488113,-0.127457976341248,-0.174753457307816,0.068816140294075,0.071050018072128,-0.061391212046146,0.053068961948156,-0.105279617011547,0.192244604229927,0.123188354074955,-0.144778475165367,0.178651079535484));
res += mul(Get(s2,dx,dy), float4x4(-0.008096423000097,0.071230456233025,-0.034604020416737,-0.042288884520531,0.212108105421066,-0.032052107155323,-0.075973048806190,0.136156469583511,-0.003654630156234,-0.117673881351948,-0.140483662486076,-0.005441488698125,0.210768118500710,-0.002182487398386,0.162337303161621,-0.092793844640255));
res += mul(Get(s3,-dx,-dy), float4x4(-0.085265472531319,0.071163199841976,-0.013972577638924,-0.067355848848820,-0.197637721896172,0.008218360133469,0.026234503835440,-0.038600470870733,-0.141966164112091,-0.055040773004293,0.188511759042740,0.021451283246279,-0.076515056192875,-0.036144867539406,0.034893970936537,-0.062364738434553));
res += mul(Get(s3,-dx,0), float4x4(0.006304258480668,-0.110123544931412,0.138143897056580,0.158966571092606,-0.029586926102638,0.107168614864349,-0.009347047656775,0.052551690489054,-0.090473271906376,0.165520727634430,0.266281872987747,-0.009419983252883,0.204443603754044,0.125014916062355,-0.048558015376329,-0.054415121674538));
res += mul(Get(s3,-dx,dy), float4x4(-0.163564220070839,0.107451900839806,0.087203070521355,-0.120767802000046,0.037622898817062,-0.095217883586884,-0.143897816538811,-0.079163894057274,-0.196310818195343,-0.173820331692696,-0.113192692399025,0.060804951936007,0.095040492713451,-0.017039867118001,0.085982248187065,-0.075617507100105));
res += mul(Get(s3,0,-dy), float4x4(0.027806827798486,0.115036137402058,-0.215248703956604,0.090550936758518,-0.071638926863670,-0.112693451344967,-0.096883349120617,0.007833223789930,0.156061992049217,0.126400589942932,-0.008447838947177,-0.160127535462379,-0.029096709564328,-0.069682314991951,0.040107831358910,0.261415094137192));
res += mul(Get(s3,0,0), float4x4(-0.049325171858072,-0.053632423281670,-0.182603970170021,0.095629021525383,-0.270293325185776,-0.061890937387943,-0.026455489918590,-0.109901353716850,0.016437008976936,-0.019905345514417,-0.067417845129967,-0.080736681818962,0.178861021995544,0.117420807480812,-0.022431584075093,0.084551848471165));
res += mul(Get(s3,0,dy), float4x4(-0.153359264135361,-0.146359190344810,0.050939641892910,0.021630421280861,-0.103682488203049,0.045748613774776,0.105507820844650,0.227861031889915,-0.013457810506225,-0.098781831562519,0.027448479086161,-0.042147804051638,-0.166543602943420,-0.040869530290365,-0.108833543956280,0.000432272558101));
res += mul(Get(s3,dx,-dy), float4x4(0.294807523488998,-0.007245317101479,0.147617071866989,0.022476920858026,0.049430441111326,0.060217320919037,0.192556127905846,0.120250217616558,0.123323246836662,0.047044929116964,-0.121514186263084,0.196308687329292,0.052392210811377,-0.078382298350334,0.037215817719698,0.058845281600952));
res += mul(Get(s3,dx,0), float4x4(0.039665941148996,-0.210399881005287,-0.091408632695675,-0.042154297232628,0.035188887268305,-0.071249224245548,0.029544429853559,-0.087961308658123,-0.048433907330036,-0.195939481258392,0.016678823158145,-0.048907924443483,-0.117485746741295,0.020671432837844,-0.009170233272016,0.203865572810173));
res += mul(Get(s3,dx,dy), float4x4(0.002978853182867,0.158305391669273,-0.077627442777157,0.191155046224594,0.046686857938766,-0.106104351580143,-0.067964926362038,0.061477482318878,-0.018153732642531,-0.111407339572906,0.125841379165649,-0.045995593070984,0.028190257027745,-0.022170938551426,-0.074092529714108,0.152112483978271));
return max(float4(0,0,0,0), res);
}
