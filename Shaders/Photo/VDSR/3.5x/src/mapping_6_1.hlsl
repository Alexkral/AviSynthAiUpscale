sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.052407681941986,0.073721103370190,0.083983808755875,0.029037497937679,0.234175071120262,-0.072407990694046,-0.130494892597198,0.112715691328049,-0.242676883935928,-0.021771086379886,-0.084182128310204,-0.017522988840938,-0.058319084346294,-0.045263651758432,-0.093973614275455,-0.110392145812511));
res += mul(Get(s0,-dx,0), float4x4(0.081239007413387,-0.154679000377655,0.038728844374418,0.014895947650075,0.009119154885411,0.016741666942835,0.182528078556061,0.060332201421261,0.066633924841881,-0.070482425391674,0.009197955951095,0.013796468265355,-0.074830353260040,0.104131028056145,-0.018821146339178,-0.113375522196293));
res += mul(Get(s0,-dx,dy), float4x4(-0.042684100568295,-0.064241252839565,-0.000713744026143,0.092009872198105,0.034411728382111,0.189218401908875,0.110613018274307,0.056453634053469,-0.109694734215736,-0.027115732431412,-0.037254828959703,0.100260213017464,-0.092039324343204,0.321858316659927,-0.130641281604767,-0.068288683891296));
res += mul(Get(s0,0,-dy), float4x4(0.057193242013454,0.018904939293861,-0.019918713718653,0.021703023463488,0.077556766569614,-0.134817197918892,-0.128752723336220,0.040566880255938,0.065685398876667,-0.067673906683922,0.211436405777931,-0.130791619420052,-0.095422424376011,-0.031370684504509,0.116312809288502,-0.096587821841240));
res += mul(Get(s0,0,0), float4x4(0.058567792177200,-0.036302771419287,-0.003244911553338,-0.031858377158642,-0.052173234522343,-0.053635332733393,0.151095002889633,-0.100662060081959,0.090444177389145,-0.023766871541739,-0.007841484621167,-0.038306772708893,-0.009997148998082,-0.147364273667336,-0.037659399211407,-0.076489381492138));
res += mul(Get(s0,0,dy), float4x4(-0.028726775199175,-0.062673412263393,0.024434078484774,0.003493963042274,-0.037847608327866,-0.081042580306530,-0.074020184576511,-0.118901744484901,0.003030463121831,-0.081862814724445,-0.029903601855040,0.031553324311972,-0.019107449799776,0.020594317466021,-0.209647223353386,-0.082596555352211));
res += mul(Get(s0,dx,-dy), float4x4(-0.131227731704712,0.128188014030457,-0.121277168393135,0.002255214611068,-0.040956284850836,-0.053994216024876,-0.000397060328396,0.071272946894169,-0.104487396776676,0.041315268725157,0.237585365772247,0.085621297359467,-0.077328488230705,0.070201158523560,0.159451767802238,-0.008921190164983));
res += mul(Get(s0,dx,0), float4x4(-0.139194294810295,-0.010546867735684,0.016759898513556,-0.025996906682849,0.001340792165138,-0.082337930798531,0.073627084493637,0.008920681662858,-0.111942037940025,-0.053479764610529,0.159583985805511,-0.020708646625280,-0.007402408402413,0.064273759722710,-0.019874973222613,-0.095669917762280));
res += mul(Get(s0,dx,dy), float4x4(0.027987757697701,-0.098901748657227,0.015316061675549,-0.017094558104873,0.069860205054283,-0.020686035975814,-0.119242981076241,-0.086537942290306,0.070580184459686,-0.000375763251213,0.016801765188575,0.075616583228111,0.007296366617084,0.026797823607922,-0.100063577294350,-0.092672303318977));
res += mul(Get(s1,-dx,-dy), float4x4(-0.160435363650322,-0.002327913185582,-0.047491006553173,0.214119657874107,0.002578951884061,0.027236908674240,0.082610517740250,0.011772392317653,0.239841789007187,-0.042878188192844,-0.043212637305260,-0.031394906342030,-0.107100948691368,0.086909800767899,0.141016259789467,-0.088587902486324));
res += mul(Get(s1,-dx,0), float4x4(0.057859346270561,-0.024425443261862,-0.102453351020813,0.100149013102055,-0.096434980630875,-0.030472166836262,-0.105954125523567,0.174812793731689,0.118908740580082,-0.043096743524075,-0.226358011364937,0.014127154834569,-0.129999712109566,-0.153652757406235,0.120659939944744,-0.057607412338257));
res += mul(Get(s1,-dx,dy), float4x4(0.026183549314737,0.030348546802998,0.040348373353481,-0.012995370663702,-0.185673445463181,0.022216323763132,-0.101559683680534,-0.014166502282023,-0.014786683022976,-0.117236584424973,-0.064575716853142,0.444184362888336,-0.046582076698542,0.006219798699021,-0.117583915591240,-0.100614763796329));
res += mul(Get(s1,0,-dy), float4x4(-0.186904713511467,-0.050328120589256,0.172359019517899,0.087630815804005,-0.023569785058498,0.024532113224268,-0.052334353327751,-0.023041626438498,-0.042209215462208,-0.018504610285163,0.101893298327923,-0.124543279409409,-0.090379275381565,0.153572812676430,0.079675212502480,-0.125413835048676));
res += mul(Get(s1,0,0), float4x4(0.017449429258704,-0.064659558236599,0.000195995919057,0.088988877832890,-0.008853752166033,-0.078798152506351,-0.034822430461645,0.033650606870651,0.138640090823174,-0.065758243203163,0.000561089778785,-0.141733542084694,-0.087806940078735,0.035689614713192,-0.063051581382751,-0.012685165740550));
res += mul(Get(s1,0,dy), float4x4(0.049474637955427,-0.108013667166233,0.060888580977917,0.021387148648500,0.064224995672703,-0.096746124327183,0.012457609176636,-0.045487072318792,0.004013561643660,-0.034053627401590,0.016198886558414,0.062551237642765,-0.055434320122004,-0.008753302507102,-0.116622865200043,-0.098272494971752));
res += mul(Get(s1,dx,-dy), float4x4(-0.061292197555304,0.079863794147968,0.162417083978653,-0.107524067163467,0.004626861307770,0.084276705980301,0.021047890186310,0.046097278594971,-0.020063009113073,0.001812002388760,0.030470520257950,-0.031477097421885,-0.021457416936755,0.103180252015591,0.001086083007976,-0.048857260495424));
res += mul(Get(s1,dx,0), float4x4(-0.048078004270792,-0.139956191182137,0.009229055605829,-0.120806477963924,-0.083104059100151,-0.039602849632502,0.125593200325966,0.126327544450760,0.032288119196892,-0.070633068680763,0.069099992513657,-0.038064699620008,0.037067163735628,0.017400493845344,-0.039976466447115,-0.075981296598911));
res += mul(Get(s1,dx,dy), float4x4(-0.015851998701692,-0.333707898855209,-0.096148900687695,0.084681116044521,0.120934426784515,-0.072572126984596,0.126470521092415,-0.098462373018265,0.006228636018932,-0.048950426280499,0.092628777027130,0.024698816239834,0.107911564409733,0.254543691873550,-0.108524486422539,-0.052188348025084));
res += mul(Get(s2,-dx,-dy), float4x4(0.092849075794220,-0.081160597503185,-0.021780952811241,0.036751836538315,-0.012133236974478,0.027802381664515,-0.146363168954849,-0.016989056020975,-0.048022117465734,0.036627516150475,-0.140117242932320,-0.000148891442223,-0.230424791574478,0.019913589581847,-0.020143441855907,0.066541276872158));
res += mul(Get(s2,-dx,0), float4x4(-0.106484018266201,0.069416649639606,-0.036600850522518,0.027075678110123,0.058933448046446,-0.095604568719864,-0.141246750950813,-0.027338769286871,0.020067436620593,-0.148264706134796,-0.016759669408202,-0.061444498598576,-0.100924260914326,-0.025087304413319,-0.076207518577576,0.145274743437767));
res += mul(Get(s2,-dx,dy), float4x4(-0.045663889497519,0.055974338203669,0.118339963257313,-0.108010381460190,0.063658073544502,-0.077840022742748,-0.178182676434517,-0.139471009373665,0.060569658875465,-0.085939340293407,-0.125920057296753,0.058167204260826,-0.053659800440073,-0.046896010637283,-0.032516263425350,-0.201311081647873));
res += mul(Get(s2,0,-dy), float4x4(0.036039911210537,-0.076812803745270,-0.019153490662575,0.049811195582151,-0.025410098955035,0.050563383847475,-0.082130201160908,0.043908137828112,0.053407765924931,0.111871302127838,-0.041028771549463,-0.124952472746372,-0.162280037999153,-0.018922217190266,-0.051781054586172,0.003057402791455));
res += mul(Get(s2,0,0), float4x4(0.002078679623082,0.007785122841597,0.026876045390964,0.022358402609825,-0.108652472496033,-0.075015254318714,-0.089849084615707,-0.025155236944556,-0.082094363868237,-0.064144484698772,-0.064300864934921,-0.095361188054085,-0.104659549891949,0.262652158737183,-0.096918262541294,0.056399252265692));
res += mul(Get(s2,0,dy), float4x4(-0.109492339193821,0.048921220004559,0.143464952707291,-0.059522584080696,0.077935926616192,-0.119809031486511,-0.020956270396709,-0.089787743985653,-0.031916923820972,-0.112349249422550,0.024577798321843,-0.029489459469914,-0.089369878172874,-0.107852004468441,-0.036747526377439,0.003688126569614));
res += mul(Get(s2,dx,-dy), float4x4(-0.069056503474712,0.144214361906052,0.113800056278706,0.054595455527306,0.012484843842685,0.008281039074063,-0.060095451772213,-0.061906818300486,0.067962251603603,0.103308923542500,-0.068215511739254,-0.097628176212311,0.076440274715424,0.021642483770847,0.089202746748924,-0.058432288467884));
res += mul(Get(s2,dx,0), float4x4(0.086004607379436,0.091839142143726,-0.062165055423975,0.024912772700191,0.096577934920788,-0.128317207098007,-0.045762713998556,-0.072308823466301,-0.020061830058694,-0.051523346453905,-0.067097611725330,-0.086388073861599,0.104712449014187,0.002608464332297,-0.103087849915028,-0.143560275435448));
res += mul(Get(s2,dx,dy), float4x4(-0.096418172121048,0.068344697356224,-0.108390070497990,0.028778303414583,-0.050098076462746,-0.123335920274258,-0.020818760618567,0.028235515579581,-0.045061927288771,-0.097313039004803,0.047696575522423,-0.069393068552017,-0.067063957452774,-0.119386039674282,-0.031038504093885,-0.101062878966331));
res += mul(Get(s3,-dx,-dy), float4x4(0.172962456941605,0.253146529197693,-0.120632432401180,-0.031340882182121,0.134801551699638,0.023702282458544,0.038692597299814,-0.109332092106342,-0.117083802819252,0.072548128664494,-0.110613979399204,-0.025555610656738,0.340544342994690,-0.057075984776020,-0.104795150458813,0.072757638990879));
res += mul(Get(s3,-dx,0), float4x4(0.032424516975880,0.001725887064822,-0.205830469727516,-0.022858228534460,-0.164301082491875,-0.094880700111389,-0.057150628417730,0.047351885586977,-0.157631695270538,-0.018460387364030,-0.029234720394015,0.021257141605020,0.080559261143208,-0.043362922966480,0.014024101197720,0.108756035566330));
res += mul(Get(s3,-dx,dy), float4x4(-0.006894078571349,0.018914459273219,-0.147231012582779,-0.091909170150757,-0.197184100747108,0.000017185609977,-0.121341019868851,0.129226222634315,-0.127628654241562,-0.098173253238201,-0.037306781858206,-0.024135608226061,0.214441329240799,-0.043869506567717,-0.197650805115700,-0.022354355081916));
res += mul(Get(s3,0,-dy), float4x4(0.048340208828449,0.201067343354225,-0.015986397862434,0.021482277661562,-0.019727189093828,0.093871429562569,0.054476182907820,-0.132186919450760,0.044429428875446,0.134934410452843,-0.104995749890804,-0.051832351833582,0.011730984784663,0.014214619062841,-0.065239623188972,0.060635358095169));
res += mul(Get(s3,0,0), float4x4(0.155689075589180,0.018836993724108,0.012688101269305,0.032784514129162,0.087364867329597,-0.024818414822221,0.032720118761063,-0.019869983196259,0.095345810055733,-0.100614994764328,0.013273729011416,0.103720948100090,-0.068493358790874,-0.035332709550858,0.167425453662872,0.122199028730392));
res += mul(Get(s3,0,dy), float4x4(-0.084523156285286,-0.083271779119968,0.000941025151405,-0.050185788422823,-0.032141707837582,0.005526362918317,0.062685385346413,-0.023341124877334,0.099961087107658,-0.127189621329308,0.007227087393403,-0.033577814698219,0.101583071053028,-0.006978150922805,0.039998076856136,-0.007271686568856));
res += mul(Get(s3,dx,-dy), float4x4(-0.066752821207047,0.011427908204496,0.032823815941811,-0.059945378452539,0.008489918895066,0.218300536274910,0.071763195097446,0.004496201872826,0.034602008759975,0.161130413413048,-0.094396181404591,-0.067449972033501,0.187528595328331,0.207814902067184,0.117707677185535,0.003864637110382));
res += mul(Get(s3,dx,0), float4x4(-0.158065110445023,0.053161785006523,0.006556103471667,-0.094552524387836,0.325618475675583,0.029229370877147,0.003615590976551,0.071742065250874,0.024013401940465,0.020106798037887,0.021824577823281,0.106232054531574,-0.036522153764963,-0.002118530916050,-0.066835820674896,-0.031864829361439));
res += mul(Get(s3,dx,dy), float4x4(0.061851542443037,-0.102853015065193,0.068356320261955,-0.104973070323467,0.018856056034565,-0.059888958930969,0.144464716315269,0.330039560794830,0.001188578200527,0.026600461453199,0.017029901966453,0.001104586990550,-0.037144992500544,0.045550111681223,0.129184886813164,-0.058391995728016));
return max(float4(0,0,0,0), res);
}
