sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020839301869273,0.107455551624298,-0.051276713609695,-0.122360564768314,0.110097147524357,-0.060760561376810,-0.073707044124603,0.026480559259653,0.048546221107244,-0.202148914337158,-0.062279023230076,-0.041236482560635,-0.043733309954405,0.093747749924660,-0.060111470520496,-0.100417293608189));
res += mul(Get(s0,-dx,0), float4x4(0.024562230333686,0.067539803683758,0.060793869197369,0.177954867482185,-0.022825002670288,0.056914012879133,0.061916224658489,-0.071158483624458,-0.015424605458975,-0.148194044828415,-0.086194798350334,-0.003270256798714,-0.024215770885348,0.041276112198830,-0.000146317746839,-0.184906914830208));
res += mul(Get(s0,-dx,dy), float4x4(-0.025612115859985,0.026473766192794,-0.040945705026388,-0.064799003303051,0.032144904136658,0.186356395483017,0.180074572563171,-0.100297510623932,-0.095297217369080,-0.123297549784184,-0.042224247008562,0.095597811043262,0.081936523318291,-0.055965442210436,0.104137644171715,-0.014489005319774));
res += mul(Get(s0,0,-dy), float4x4(-0.013043310493231,-0.062110424041748,-0.045187536627054,-0.069464668631554,-0.035773660987616,-0.025402719154954,-0.030080296099186,0.047727674245834,0.004258140455931,0.006174864247441,-0.058040320873260,-0.031258352100849,-0.110613450407982,-0.065526388585567,-0.051853932440281,-0.016740133985877));
res += mul(Get(s0,0,0), float4x4(-0.009862503036857,-0.020872652530670,-0.011774119921029,0.082115463912487,0.116793654859066,0.062465403228998,0.062262270599604,0.089260414242744,0.021220512688160,-0.021097952499986,-0.092346645891666,0.000579788174946,-0.029669199138880,0.006970947608352,-0.006001396570355,-0.011550435796380));
res += mul(Get(s0,0,dy), float4x4(-0.025261083617806,-0.101020805537701,-0.143109157681465,-0.040817011147738,0.181596159934998,-0.058491747826338,-0.028864035382867,-0.110016219317913,-0.106768332421780,-0.040673904120922,-0.036945674568415,0.060524091124535,0.115354217588902,0.003967673052102,0.010753739625216,0.062293544411659));
res += mul(Get(s0,dx,-dy), float4x4(-0.024216452613473,-0.021221969276667,-0.034912209957838,0.086581081151962,0.117949187755585,0.013081880286336,0.015783267095685,0.116343803703785,0.033418998122215,0.118258841335773,-0.188633576035500,-0.028393849730492,-0.017933156341314,-0.115881882607937,-0.015767950564623,-0.047440532594919));
res += mul(Get(s0,dx,0), float4x4(-0.050712689757347,-0.022676743566990,-0.039686702191830,-0.074988164007664,0.117942377924919,0.025002658367157,-0.040042068809271,0.121446982026100,-0.080687679350376,0.019026178866625,-0.115579850971699,-0.049192845821381,0.029903661459684,-0.051485091447830,-0.034619443118572,0.118924193084240));
res += mul(Get(s0,dx,dy), float4x4(-0.054744686931372,0.040230870246887,-0.084701880812645,0.059137221425772,0.049640126526356,-0.127649754285812,-0.074976906180382,0.142465919256210,-0.220906436443329,-0.075054436922073,-0.127216532826424,-0.020228704437613,0.121290341019630,0.034068487584591,-0.039366211742163,0.029046956449747));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024436077103019,-0.016095567494631,0.167501598596573,-0.001106693176553,0.049205064773560,-0.037545170634985,-0.024733772501349,-0.058653451502323,0.061594054102898,-0.030384521931410,0.128260269761086,0.127655670046806,-0.034373339265585,-0.057966887950897,0.145321816205978,0.003207045840099));
res += mul(Get(s1,-dx,0), float4x4(-0.037860691547394,-0.023917552083731,0.018388129770756,-0.112878143787384,0.044542215764523,-0.088125281035900,-0.069787770509720,-0.105368204414845,-0.266675055027008,-0.043717641383410,0.273146569728851,-0.071277000010014,-0.030976200476289,-0.034485518932343,0.077089682221413,-0.042520888149738));
res += mul(Get(s1,-dx,dy), float4x4(-0.127407222986221,0.249446809291840,-0.011309265159070,-0.069506205618382,-0.116125546395779,-0.085674695670605,-0.054022405296564,0.054067678749561,-0.158206194639206,0.181031018495560,-0.136173292994499,-0.115965925157070,-0.050283644348383,-0.056429181247950,0.091906063258648,0.013071582652628));
res += mul(Get(s1,0,-dy), float4x4(-0.025734128430486,-0.068582676351070,0.021136250346899,-0.020068183541298,-0.010297848843038,-0.066758461296558,-0.005974869709462,-0.052630241960287,-0.085252441465855,-0.036264572292566,0.071991935372353,0.080749452114105,-0.038450602442026,-0.074447922408581,-0.007929960265756,0.026791218668222));
res += mul(Get(s1,0,0), float4x4(0.002446947619319,-0.034096509218216,-0.007473467849195,-0.066206246614456,-0.008405097760260,-0.045630671083927,0.093545809388161,-0.009185602888465,0.048973862081766,0.072650514543056,0.038453392684460,0.014802550897002,0.000305438676151,0.001765206456184,-0.134072810411453,-0.090287722647190));
res += mul(Get(s1,0,dy), float4x4(0.002974220784381,0.125096604228020,-0.041925389319658,0.001553855952807,-0.158380940556526,-0.063842512667179,0.027853092178702,-0.008772967383265,0.206186756491661,-0.038759429007769,-0.077837377786636,-0.075493641197681,-0.029919000342488,-0.089953407645226,-0.069990485906601,-0.024375662207603));
res += mul(Get(s1,dx,-dy), float4x4(-0.109986200928688,-0.059810649603605,0.069471888244152,-0.051538176834583,-0.005810684524477,0.045835711061954,0.060156237334013,0.025091757997870,0.070152372121811,0.028553873300552,-0.022732626646757,-0.076286405324936,0.046765979379416,0.021187996491790,0.068089783191681,-0.035166703164577));
res += mul(Get(s1,dx,0), float4x4(-0.124122321605682,-0.121847398579121,0.051313493400812,-0.025581493973732,-0.050633002072573,0.027312783524394,-0.023076411336660,-0.124793648719788,0.308490216732025,0.030687136575580,0.055502384901047,0.103482775390148,-0.037120677530766,0.340993702411652,-0.032922182232141,-0.110078580677509));
res += mul(Get(s1,dx,dy), float4x4(-0.140365958213806,0.036375712603331,-0.028441345319152,0.084787182509899,-0.035543221980333,-0.071762554347515,-0.039466001093388,-0.060392890125513,0.075776606798172,0.006702531129122,-0.027205055579543,0.074374064803123,-0.054728440940380,0.192329064011574,0.068654365837574,-0.145743891596794));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001552711240947,-0.064042218029499,-0.059903815388680,-0.085023611783981,0.058810200542212,0.167532324790955,0.039724308997393,-0.081892773509026,-0.058837208896875,-0.095334090292454,0.015980597585440,-0.010180554352701,-0.036204162985086,0.007545313332230,0.011364091187716,-0.089738793671131));
res += mul(Get(s2,-dx,0), float4x4(-0.010060227476060,0.071218647062778,-0.043513964861631,-0.020868301391602,0.015806173905730,-0.111228317022324,-0.097448147833347,-0.037295635789633,-0.057678725570440,0.067552015185356,-0.036667164415121,-0.048754714429379,-0.102685265243053,0.021940425038338,0.094646260142326,0.046742912381887));
res += mul(Get(s2,-dx,dy), float4x4(-0.034647125750780,-0.051517974585295,-0.032774396240711,-0.129783377051353,0.111314043402672,-0.038767371326685,0.002115421462804,0.011751678772271,0.003928897902369,0.020939063280821,-0.047490779310465,0.040695220232010,-0.079315848648548,0.108043558895588,0.022929636761546,0.066405735909939));
res += mul(Get(s2,0,-dy), float4x4(0.036941461265087,-0.043081954121590,-0.026133012026548,-0.001970743760467,0.112857416272163,-0.020352816209197,-0.157274842262268,-0.086351752281189,-0.018934885039926,0.034283813089132,-0.103861868381500,-0.065922804176807,-0.089516460895538,-0.001557399169542,-0.059693746268749,-0.134710803627968));
res += mul(Get(s2,0,0), float4x4(-0.009094359353185,0.073547966778278,0.045872107148170,0.110861591994762,0.075516112148762,-0.165115252137184,0.010316425934434,-0.026313440874219,0.180851057171822,0.012399688363075,-0.109724096953869,0.083891101181507,-0.037466458976269,-0.021770555526018,-0.021901434287429,-0.006281805690378));
res += mul(Get(s2,0,dy), float4x4(-0.055511418730021,0.146521925926208,-0.002080311533064,-0.072860665619373,0.106990054249763,-0.093177258968353,-0.034919898957014,0.014584650285542,0.159383162856102,0.041157346218824,-0.122048370540142,0.037604261189699,-0.191461786627769,-0.010504559613764,-0.040284402668476,0.063122719526291));
res += mul(Get(s2,dx,-dy), float4x4(-0.006054914090782,0.018525786697865,0.094615988433361,0.223266825079918,0.007617772556841,0.008671922609210,0.039624687284231,-0.098239071667194,0.061068583279848,-0.144683539867401,-0.105698980391026,-0.200221613049507,-0.087838001549244,-0.077435068786144,-0.020294593647122,-0.206493660807610));
res += mul(Get(s2,dx,0), float4x4(0.056152097880840,0.092329822480679,0.112307302653790,0.025136312469840,-0.082410126924515,-0.180722475051880,0.178256228566170,-0.049992345273495,0.146703854203224,-0.067994691431522,-0.092665456235409,-0.087484464049339,-0.021373355761170,-0.056944813579321,-0.114060603082180,-0.194214954972267));
res += mul(Get(s2,dx,dy), float4x4(-0.073357664048672,0.074667848646641,-0.013626335188746,-0.110921576619148,-0.110378526151180,-0.133938521146774,0.229457437992096,0.050264827907085,0.065517805516720,-0.134349390864372,-0.056542821228504,-0.103753328323364,-0.130433410406113,-0.113420225679874,-0.110027432441711,0.073781087994576));
res += mul(Get(s3,-dx,-dy), float4x4(-0.060432087630033,0.070809356868267,0.088758535683155,0.154094323515892,-0.027541542425752,0.083292454481125,0.024778405204415,0.089895054697990,0.019676659256220,-0.048343021422625,0.055809229612350,0.002266730880365,-0.045608684420586,0.024550454691052,-0.052824504673481,-0.062444046139717));
res += mul(Get(s3,-dx,0), float4x4(-0.103818856179714,-0.024023871868849,0.066670395433903,0.065325461328030,-0.061828192323446,0.038838140666485,-0.032774753868580,0.012136283330619,-0.045193232595921,0.015196420252323,0.010508499108255,0.057443544268608,-0.054341375827789,-0.020988203585148,-0.046915791928768,0.039270482957363));
res += mul(Get(s3,-dx,dy), float4x4(-0.144872739911079,-0.007468346506357,-0.029493698850274,0.006017129402608,-0.081172309815884,-0.051522407680750,-0.145404368638992,-0.006145744118840,-0.048027195036411,0.018560005351901,-0.141740396618843,0.060322351753712,-0.026495903730392,-0.060865882784128,-0.042434222996235,0.087304525077343));
res += mul(Get(s3,0,-dy), float4x4(-0.009771814569831,0.010441705584526,0.138111293315887,-0.023467101156712,-0.018109915778041,0.085416875779629,0.134872168302536,0.120035596191883,-0.077667079865932,-0.087117396295071,0.030524980276823,-0.082492679357529,0.036564357578754,0.011438774876297,0.022297747433186,0.013256681151688));
res += mul(Get(s3,0,0), float4x4(-0.078321374952793,0.050474137067795,0.094057232141495,-0.071684554219246,-0.032480288296938,0.063957616686821,0.060768410563469,0.092713385820389,-0.032777205109596,-0.159235075116158,0.014575639739633,0.376297593116760,-0.017551677301526,-0.059815816581249,-0.029476953670382,0.045746602118015));
res += mul(Get(s3,0,dy), float4x4(-0.103753536939621,0.095137946307659,0.008627414703369,-0.057897973805666,0.061860077083111,-0.067506149411201,-0.115254752337933,0.075450554490089,-0.013508490286767,0.040393389761448,-0.128038585186005,-0.019328843802214,-0.049191184341908,-0.087293587625027,-0.006062186323106,0.049375299364328));
res += mul(Get(s3,dx,-dy), float4x4(0.032925829291344,-0.057905785739422,0.086739011108875,0.105359859764576,0.065851442515850,0.039428900927305,-0.036141689866781,-0.028010342270136,-0.062911674380302,-0.124132178723812,0.057819090783596,-0.174509927630424,-0.049258854240179,0.037995532155037,0.048582926392555,0.104338653385639));
res += mul(Get(s3,dx,0), float4x4(0.092137880623341,0.095999121665955,-0.130388468503952,0.096599772572517,-0.017155202105641,-0.050596538931131,-0.033124480396509,-0.007351348642260,-0.079931378364563,-0.135468617081642,0.071015775203705,0.001596413669176,-0.067847602069378,0.061437699943781,-0.033536523580551,0.083220168948174));
res += mul(Get(s3,dx,dy), float4x4(-0.036369085311890,0.081290014088154,-0.150055095553398,0.057715881615877,-0.085868813097477,-0.055392421782017,0.018891548737884,0.025665137916803,-0.039399866014719,0.021420029923320,-0.087233752012253,-0.073176391422749,-0.136870011687279,0.163323253393173,0.006073021329939,0.125542834401131));
return max(float4(0,0,0,0), res);
}
