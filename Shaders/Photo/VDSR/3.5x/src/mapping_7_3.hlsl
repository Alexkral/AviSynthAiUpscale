sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.089542806148529,0.003461068728939,-0.043529562652111,0.051294356584549,0.003712346777320,-0.162386178970337,-0.131048142910004,-0.017554374411702,0.084224671125412,-0.092791229486465,-0.064300552010536,-0.314222753047943,-0.106144957244396,0.206576764583588,-0.080054029822350,0.126146003603935));
res += mul(Get(s0,-dx,0), float4x4(0.081045113503933,0.037727668881416,0.157340049743652,0.156008809804916,0.024015771225095,0.028786571696401,-0.039903227239847,-0.196614980697632,-0.068887576460838,0.032172419130802,-0.079082146286964,0.108892142772675,-0.104803912341595,-0.113859832286835,0.027699183672667,-0.070409335196018));
res += mul(Get(s0,-dx,dy), float4x4(-0.034964680671692,-0.019626136869192,0.139923021197319,0.081057354807854,-0.135964140295982,0.030154349282384,-0.054890938103199,0.094313114881516,-0.087151899933815,0.016725281253457,0.094927802681923,0.062613666057587,-0.192762985825539,0.039029084146023,0.109709434211254,0.264063626527786));
res += mul(Get(s0,0,-dy), float4x4(0.022783624008298,0.049290023744106,-0.007711562793702,0.219148382544518,-0.144258081912994,-0.007328185252845,-0.054634757339954,0.159222573041916,-0.017739715054631,0.097156047821045,-0.200024053454399,-0.192362770438194,0.116833120584488,-0.082658417522907,0.107007555663586,0.013859134167433));
res += mul(Get(s0,0,0), float4x4(-0.136516496539116,0.100839748978615,0.023039385676384,-0.025962730869651,0.049832407385111,0.166844844818115,-0.038836374878883,0.025106482207775,0.207835003733635,-0.269569456577301,0.035353168845177,-0.017040221020579,-0.110963620245457,0.089870356023312,0.056605938822031,0.105992406606674));
res += mul(Get(s0,0,dy), float4x4(0.101525254547596,-0.004038897342980,0.129210874438286,0.074956305325031,-0.144063279032707,0.079957969486713,0.166943982243538,0.041910141706467,-0.189073547720909,-0.018640650436282,0.000847836257890,-0.037772916257381,-0.109903924167156,-0.217486590147018,-0.072637893259525,0.130362764000893));
res += mul(Get(s0,dx,-dy), float4x4(-0.123357377946377,-0.062270451337099,-0.037044353783131,-0.003560144687071,-0.013491612859070,-0.067881673574448,0.154235765337944,0.033024735748768,-0.221245586872101,0.014383032917976,-0.169826328754425,0.155684038996696,0.085078597068787,0.181094393134117,0.092119865119457,0.049918193370104));
res += mul(Get(s0,dx,0), float4x4(-0.120509579777718,-0.028298126533628,-0.010437479242682,-0.091167569160461,0.026820333674550,-0.058715008199215,-0.021517990157008,0.086798079311848,0.103665493428707,-0.077413804829121,-0.087636820971966,0.073365047574043,-0.104867450892925,-0.085687801241875,0.044434856623411,-0.074715010821819));
res += mul(Get(s0,dx,dy), float4x4(-0.036290220916271,-0.134690240025520,0.036385640501976,-0.068168476223946,0.145606830716133,-0.008345109410584,-0.137624904513359,0.169172555208206,-0.007531723007560,0.025179455056787,-0.025131508708000,0.059924568980932,-0.017099326476455,-0.063184142112732,-0.011522908695042,-0.082859359681606));
res += mul(Get(s1,-dx,-dy), float4x4(-0.188265115022659,0.023475682362914,-0.021754331886768,-0.007345548830926,0.017965022474527,0.128309741616249,-0.155678674578667,-0.099355064332485,0.025785384699702,-0.103209741413593,0.178045734763145,-0.212711527943611,0.075392603874207,-0.199494332075119,0.195523142814636,-0.010139357298613));
res += mul(Get(s1,-dx,0), float4x4(-0.046177178621292,-0.118397787213326,-0.101822383701801,-0.219782739877701,-0.037466540932655,0.005922208074480,0.085787177085876,-0.027937624603510,-0.008972772397101,-0.013827909715474,0.119589321315289,-0.106434017419815,-0.068400099873543,-0.224921301007271,0.068467497825623,0.018213856965303));
res += mul(Get(s1,-dx,dy), float4x4(0.068458765745163,-0.086259990930557,0.099125199019909,0.013929197564721,-0.012091581709683,0.089514322578907,0.051818042993546,0.231461137533188,0.074105411767960,-0.053144112229347,0.030178735032678,0.147979751229286,-0.106622844934464,-0.013430746272206,0.046420719474554,0.012488068081439));
res += mul(Get(s1,0,-dy), float4x4(0.021577384322882,0.025478051975369,-0.021593917161226,0.009492272511125,-0.061758946627378,0.021511860191822,-0.049310315400362,-0.091162353754044,0.116016745567322,-0.014553957618773,-0.046603918075562,-0.085862770676613,0.069246754050255,-0.071204409003258,0.067690208554268,-0.039056029170752));
res += mul(Get(s1,0,0), float4x4(-0.113046526908875,-0.009789164178073,-0.213956296443939,0.322818219661713,-0.152036741375923,-0.104291521012783,0.115674488246441,-0.092412672936916,-0.019068084657192,0.114008113741875,-0.031604420393705,-0.082457415759563,0.043483410030603,-0.023709639906883,-0.189336836338043,0.184826180338860));
res += mul(Get(s1,0,dy), float4x4(-0.095682106912136,0.011731210164726,-0.066198095679283,-0.055652853101492,0.129474043846130,0.016683058813214,-0.066183641552925,0.033256914466619,0.127566054463387,-0.108239307999611,-0.123223491013050,0.082169830799103,0.025105765089393,0.007406671531498,0.234841063618660,0.131467804312706));
res += mul(Get(s1,dx,-dy), float4x4(-0.092746399343014,-0.153102487325668,0.026631133630872,0.008461172692478,0.018114058300853,0.061525411903858,-0.013127040117979,-0.013559876941144,-0.046138927340508,0.104096055030823,-0.072102509438992,-0.039730593562126,0.014328190125525,-0.023718712851405,-0.022799281403422,-0.109621644020081));
res += mul(Get(s1,dx,0), float4x4(-0.075979433953762,0.070013396441936,0.036381538957357,0.078367009758949,0.111386075615883,-0.007095142267644,0.011506641283631,-0.042297706007957,0.061286319047213,0.173840686678886,-0.074078030884266,-0.094277262687683,-0.121792487800121,0.128588348627090,0.027806879952550,0.102032296359539));
res += mul(Get(s1,dx,dy), float4x4(0.037257887423038,-0.089012175798416,-0.138527825474739,0.010917140170932,-0.211081340909004,-0.007807038258761,-0.043445400893688,-0.104530856013298,-0.190018236637115,-0.039146982133389,0.008675174787641,0.096670843660831,0.012939799576998,0.086329057812691,-0.177461922168732,-0.082411035895348));
res += mul(Get(s2,-dx,-dy), float4x4(0.030581066384912,0.041034657508135,-0.016135241836309,-0.051511820405722,0.118675284087658,0.201046168804169,0.060763373970985,-0.127401173114777,-0.125787228345871,0.001225769869052,0.160532131791115,-0.060001909732819,0.080664306879044,0.126029431819916,0.210513949394226,0.137579143047333));
res += mul(Get(s2,-dx,0), float4x4(-0.138207003474236,-0.020091097801924,-0.236155807971954,-0.166458964347839,-0.127712532877922,-0.193787649273872,-0.251952975988388,0.014658067375422,0.005392496008426,0.054827935993671,0.063570670783520,0.016962839290500,0.186615020036697,0.140457883477211,-0.100663430988789,-0.113430559635162));
res += mul(Get(s2,-dx,dy), float4x4(-0.038919266313314,-0.130987107753754,-0.052605949342251,-0.165497258305550,0.007000801619142,0.148759841918945,-0.105866760015488,0.028112269937992,0.008341278880835,-0.213566273450851,-0.052445311099291,0.022257899865508,-0.012503662146628,-0.164565622806549,-0.047746717929840,-0.054278004914522));
res += mul(Get(s2,0,-dy), float4x4(0.167864039540291,0.113194778561592,0.043108552694321,-0.028755642473698,0.004535455256701,-0.095899924635887,-0.050322230905294,-0.161345079541206,-0.034014690667391,0.196346536278725,0.047008205205202,-0.013065623119473,-0.053652055561543,0.014087718911469,-0.056143216788769,0.117106385529041));
res += mul(Get(s2,0,0), float4x4(0.096424840390682,-0.071008540689945,-0.022980529814959,-0.002621937543154,0.197100237011909,-0.278547942638397,-0.063565053045750,-0.207466587424278,-0.033048443496227,-0.017260214313865,0.018955802544951,-0.031197551637888,0.256805568933487,0.032839581370354,0.110953800380230,0.345777213573456));
res += mul(Get(s2,0,dy), float4x4(0.006170799955726,0.061606440693140,0.107835739850998,-0.077567748725414,-0.025896942242980,-0.003365836339071,0.017365686595440,0.159836262464523,-0.154462188482285,-0.132290735840797,-0.113944552838802,-0.055168416351080,0.007469225209206,0.071048952639103,-0.026309754699469,-0.100603133440018));
res += mul(Get(s2,dx,-dy), float4x4(0.003613743465394,-0.123675808310509,-0.111067317426205,-0.027760565280914,0.055697850883007,-0.012175365351140,-0.068675003945827,-0.160732343792915,-0.044504605233669,-0.043899055570364,-0.079702138900757,-0.006794411689043,-0.139986634254456,0.196944817900658,-0.076109834015369,-0.032173141837120));
res += mul(Get(s2,dx,0), float4x4(0.117608569562435,0.087932214140892,-0.085465550422668,-0.064283587038517,0.133766904473305,0.005467941984534,-0.114261217415333,-0.002638610545546,0.102603122591972,0.001969671342522,-0.048612784594297,0.009815913625062,-0.054638285189867,0.079906970262527,0.075891822576523,-0.066279403865337));
res += mul(Get(s2,dx,dy), float4x4(0.141254857182503,-0.061519142240286,0.111445061862469,-0.054021101444960,0.136052280664444,-0.088243208825588,-0.091227397322655,-0.094819888472557,-0.061377961188555,-0.121978133916855,-0.134208351373672,-0.002109584631398,0.002452612388879,-0.062826886773109,-0.191121205687523,0.047999046742916));
res += mul(Get(s3,-dx,-dy), float4x4(-0.125181078910828,-0.102452859282494,0.116880238056183,-0.077967233955860,-0.072194464504719,0.012059157714248,0.157882571220398,0.067783959209919,-0.164066687226295,0.002362955827266,-0.021589266136289,0.141060158610344,0.077670052647591,-0.194953560829163,-0.165803149342537,-0.140973374247551));
res += mul(Get(s3,-dx,0), float4x4(-0.062312405556440,-0.067015781998634,-0.073897570371628,-0.014378778636456,0.014240085147321,0.239638864994049,0.074921585619450,-0.072869494557381,0.019927127286792,-0.162987098097801,-0.119177341461182,0.201010763645172,-0.149156332015991,-0.095402687788010,-0.045701779425144,-0.171420648694038));
res += mul(Get(s3,-dx,dy), float4x4(-0.021309673786163,-0.075905911624432,-0.206772878766060,0.111233890056610,0.110611073672771,0.199874714016914,-0.011202679015696,-0.116861425340176,0.031739760190248,-0.113510109484196,0.069116912782192,0.008536126464605,-0.078784830868244,0.013289970345795,0.191316694021225,0.078985184431076));
res += mul(Get(s3,0,-dy), float4x4(-0.037615679204464,-0.189312577247620,0.006915368139744,0.080527767539024,-0.083978377282619,0.048473916947842,0.007129369769245,-0.158820211887360,-0.059750396758318,0.059497777372599,-0.016839990392327,0.170429617166519,0.143362402915955,0.087451472878456,-0.005227924790233,0.216253772377968));
res += mul(Get(s3,0,0), float4x4(-0.066668838262558,0.153321042656898,-0.287374615669250,0.035979885607958,0.022003198042512,-0.089229099452496,0.127256512641907,0.139200598001480,-0.025522110983729,0.098715201020241,0.086851403117180,0.106943421065807,-0.086154170334339,-0.126644670963287,0.121097989380360,0.100894533097744));
res += mul(Get(s3,0,dy), float4x4(0.189028248190880,-0.082643277943134,-0.168533399701118,-0.117098890244961,0.118354916572571,-0.061890304088593,0.011969575658441,0.117318823933601,0.141209423542023,-0.039321765303612,0.064200229942799,-0.047464609146118,0.162320181727409,0.115997999906540,0.060861609876156,0.296576648950577));
res += mul(Get(s3,dx,-dy), float4x4(-0.134063512086868,-0.160482570528984,0.094547711312771,0.102661386132240,0.041021466255188,0.276743471622467,-0.010795892216265,0.102000065147877,-0.151330694556236,0.059842023998499,-0.112784661352634,0.164445608854294,0.019575143232942,0.174438446760178,0.002510208403692,0.048536285758018));
res += mul(Get(s3,dx,0), float4x4(-0.086224026978016,0.036952614784241,-0.135561212897301,0.086679168045521,-0.027999840676785,0.030752230435610,0.067531712353230,0.162661761045456,0.056769136339426,0.119270533323288,-0.045761432498693,-0.028389178216457,0.048386182636023,-0.103229060769081,0.282325297594070,-0.213965207338333));
res += mul(Get(s3,dx,dy), float4x4(-0.162279203534126,-0.033019017428160,-0.002454228932038,0.157587319612503,-0.020539792254567,-0.140980958938599,0.079895809292793,-0.045064296573400,0.031889833509922,-0.268079638481140,-0.007784436456859,-0.026776343584061,0.023740718141198,-0.087311930954456,-0.084488056600094,-0.200316041707993));
return max(float4(0,0,0,0), res);
}
