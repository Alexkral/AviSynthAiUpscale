sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.026952017098665,-0.078696250915527,-0.011582580395043,-0.024211462587118,-0.034441564232111,-0.141598761081696,-0.125379174947739,0.093519225716591,-0.028077436611056,-0.007152365054935,0.039641529321671,0.080640472471714,0.024353159591556,-0.149719163775444,0.034752901643515,0.006541905459017));
res += mul(Get(s0,-dx,0), float4x4(-0.047875504940748,0.082881838083267,0.017681630328298,0.049356393516064,-0.021081261336803,-0.068256460130215,-0.085537426173687,0.073277875781059,-0.097869612276554,0.216100856661797,0.109626770019531,-0.099916949868202,-0.024907646700740,0.053908377885818,0.059954833239317,-0.015002313069999));
res += mul(Get(s0,-dx,dy), float4x4(-0.039254508912563,0.125048160552979,0.005040683317930,-0.082179948687553,-0.045704398304224,-0.111084535717964,0.006593801081181,0.001716735423543,-0.040487099438906,-0.025817926973104,0.149582043290138,-0.090057864785194,-0.091743186116219,-0.129000633955002,0.040318451821804,0.054181609302759));
res += mul(Get(s0,0,-dy), float4x4(0.000593350734562,-0.043007336556911,0.046824924647808,0.011759191751480,0.020491054281592,-0.066912867128849,-0.055192936211824,0.035306710749865,-0.058542944490910,-0.019845653325319,-0.029324457049370,-0.102792240679264,-0.021325249224901,0.036683488637209,0.165287896990776,0.033440958708525));
res += mul(Get(s0,0,0), float4x4(0.046882078051567,0.143809437751770,-0.051371954381466,-0.053661420941353,0.009183887392282,-0.024438340216875,0.022537408396602,0.014814478345215,-0.046701561659575,0.120642662048340,-0.088942028582096,-0.043318081647158,0.014965783804655,-0.023220730945468,-0.023768948391080,0.078098386526108));
res += mul(Get(s0,0,dy), float4x4(0.033125273883343,-0.000841596222017,-0.049660097807646,-0.017483714967966,-0.026953017339110,-0.077845789492130,0.096254304051399,0.068023189902306,-0.173573747277260,-0.325530230998993,0.034280367195606,-0.078850433230400,-0.037526208907366,-0.095686942338943,-0.070397824048996,0.111701928079128));
res += mul(Get(s0,dx,-dy), float4x4(0.181367263197899,-0.056694414466619,0.125922814011574,-0.027824843302369,-0.083562888205051,-0.049473010003567,-0.116847753524780,-0.197413668036461,-0.072846837341785,-0.009762781672180,-0.129013121128082,0.025030495598912,-0.108076319098473,-0.123381353914738,0.117304280400276,0.067631453275681));
res += mul(Get(s0,dx,0), float4x4(0.218481063842773,0.137319803237915,0.078900702297688,-0.047929201275110,0.008544576354325,0.030359728261828,-0.037983495742083,-0.055720806121826,-0.109198227524757,0.016510674729943,-0.041579332202673,0.051505472511053,-0.021981619298458,-0.057997301220894,-0.101489454507828,0.092018783092499));
res += mul(Get(s0,dx,dy), float4x4(0.043959472328424,-0.022294977679849,0.010926835238934,-0.170595228672028,-0.041167054325342,-0.063213557004929,0.082957342267036,-0.020078603178263,-0.096460402011871,-0.082703106105328,0.048559527844191,0.064135238528252,0.042921070009470,-0.078920915722847,-0.033046633005142,-0.059307541698217));
res += mul(Get(s1,-dx,-dy), float4x4(0.176897451281548,-0.073874562978745,0.010824848897755,0.111544921994209,0.016468783840537,-0.146983757615089,-0.099009811878204,-0.032394424080849,0.091931067407131,0.087013386189938,0.134986236691475,0.022069483995438,-0.080742992460728,-0.018199121579528,-0.092087678611279,-0.044659864157438));
res += mul(Get(s1,-dx,0), float4x4(0.106115989387035,-0.008515601977706,-0.018050344660878,0.085306696593761,0.009278286248446,-0.104344628751278,-0.100804261863232,0.051579140126705,-0.002227739663795,0.102560579776764,-0.032537799328566,0.024184321984649,0.027634691447020,-0.027540843933821,-0.016948953270912,-0.091593600809574));
res += mul(Get(s1,-dx,dy), float4x4(0.096517659723759,-0.065004765987396,-0.005630070343614,0.106917209923267,0.034608360379934,-0.012991678901017,-0.140751346945763,0.203048512339592,0.062722817063332,-0.000236555875745,-0.052101284265518,0.080079153180122,-0.031720984727144,0.064603060483932,-0.030943140387535,-0.020966695621610));
res += mul(Get(s1,0,-dy), float4x4(-0.039392281323671,-0.070066891610622,0.013198656961322,-0.054302446544170,0.041617400944233,-0.039625488221645,0.051474537700415,0.010037678293884,0.053912673145533,0.133698016405106,-0.021530717611313,0.063224054872990,0.022989058867097,-0.039625424891710,-0.109457716345787,-0.027018567547202));
res += mul(Get(s1,0,0), float4x4(0.149482950568199,-0.014546705409884,0.004977050237358,-0.194221854209900,0.128345057368279,-0.096164107322693,-0.033197008073330,-0.090800136327744,0.112579956650734,0.094811737537384,-0.104587689042091,0.117030896246433,-0.024471040815115,0.004316759761423,0.074688836932182,-0.114930793642998));
res += mul(Get(s1,0,dy), float4x4(0.162354692816734,-0.051537819206715,-0.156470730900764,0.173779919743538,0.019785529002547,0.076234288513660,-0.109602138400078,-0.126832902431488,0.147303894162178,0.107378922402859,0.033876013010740,0.063145980238914,0.010061018168926,0.135738387703896,0.109833464026451,-0.029955273494124));
res += mul(Get(s1,dx,-dy), float4x4(0.010791161097586,-0.000941627018619,0.061451356858015,0.143382281064987,0.095345959067345,0.136794969439507,0.120312847197056,0.003730965545401,0.077704086899757,0.044831108301878,-0.019624203443527,0.011491332203150,-0.037503704428673,0.045893535017967,-0.099133640527725,0.042991034686565));
res += mul(Get(s1,dx,0), float4x4(-0.061485882848501,0.036691397428513,0.091800101101398,-0.019933810457587,-0.064268007874489,-0.129023551940918,0.168075546622276,0.004506327677518,0.146096855401993,-0.026457946747541,-0.023657435551286,-0.009136361069977,0.009218036197126,0.032080516219139,0.013731808401644,-0.138442873954773));
res += mul(Get(s1,dx,dy), float4x4(-0.030408658087254,-0.129584819078445,0.013173886574805,-0.065536104142666,0.092182144522667,0.037506449967623,0.029616406187415,-0.039486240595579,0.044302210211754,-0.013168825767934,0.078477695584297,-0.123063765466213,-0.014495432376862,-0.242088660597801,0.075119420886040,-0.014423618093133));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034508410841227,-0.061075378209352,-0.030955884605646,0.006764092016965,-0.010226261802018,0.113482490181923,0.018465546891093,-0.075615637004375,-0.077038310468197,0.073944978415966,0.190928265452385,-0.017622839659452,0.135448932647705,-0.010349501855671,-0.069225467741489,-0.044599112123251));
res += mul(Get(s2,-dx,0), float4x4(-0.142630517482758,-0.023640284314752,0.002549625467509,0.101145617663860,-0.077456876635551,0.151892021298409,0.081689447164536,-0.021341046318412,-0.003024820238352,0.047875963151455,0.107756048440933,-0.015962891280651,0.028762737289071,0.030338879674673,-0.006995109375566,-0.054372459650040));
res += mul(Get(s2,-dx,dy), float4x4(-0.068722002208233,-0.161972552537918,-0.012196641415358,-0.016815401613712,-0.063861273229122,0.036651395261288,0.177092149853706,-0.107305735349655,-0.030020302161574,0.081831276416779,0.071645453572273,-0.082331344485283,0.042689297348261,-0.008506794460118,0.025040598586202,-0.025308387354016));
res += mul(Get(s2,0,-dy), float4x4(-0.046594094485044,-0.093390159308910,-0.095404446125031,-0.062472205609083,-0.049453951418400,0.009904360398650,-0.061502698808908,-0.010668411850929,0.045528292655945,0.038960177451372,0.100729793310165,-0.010878697969019,0.120639905333519,0.151739671826363,0.016954535618424,0.011374421417713));
res += mul(Get(s2,0,0), float4x4(-0.114593721926212,-0.079960003495216,-0.020246533676982,-0.021583648398519,-0.104520544409752,-0.053212657570839,-0.060741957277060,0.010073233395815,-0.033551719039679,-0.034334693104029,-0.075380913913250,-0.097771123051643,0.005165071692318,0.027658425271511,-0.044837806373835,0.006609083618969));
res += mul(Get(s2,0,dy), float4x4(0.013700938783586,-0.052566081285477,0.027636459097266,-0.023707613348961,-0.015838691964746,-0.131991028785706,0.098647855222225,0.048581875860691,-0.109758645296097,-0.078862465918064,-0.009509125724435,-0.022110721096396,-0.045237418264151,-0.012522051110864,-0.068673431873322,-0.014545190148056));
res += mul(Get(s2,dx,-dy), float4x4(0.039256203919649,-0.065036624670029,0.047737248241901,0.076358221471310,0.117531515657902,-0.014003983698785,-0.095311641693115,-0.154528871178627,0.044416960328817,0.093994170427322,0.000033308606362,0.110852643847466,0.066333547234535,0.234326675534248,0.086033500730991,0.053736280649900));
res += mul(Get(s2,dx,0), float4x4(0.045153632760048,0.070302642881870,0.122452132403851,-0.031472995877266,0.090052306652069,-0.075780965387821,-0.114158533513546,0.132768273353577,0.087123662233353,-0.080442905426025,0.017177606001496,0.139199405908585,0.060964934527874,-0.003060452640057,-0.012217799201608,0.055896885693073));
res += mul(Get(s2,dx,dy), float4x4(0.050030533224344,0.196863368153572,0.226646631956100,0.039249964058399,-0.002794068306684,-0.151205196976662,0.029744016006589,0.039115898311138,0.027597092092037,0.001272568712011,-0.100244134664536,0.002789954422042,-0.006388225127012,-0.002883279230446,-0.045295860618353,0.047662906348705));
res += mul(Get(s3,-dx,-dy), float4x4(0.029584720730782,0.131457924842834,0.170451149344444,-0.073320589959621,0.082589752972126,-0.092993170022964,-0.167656987905502,0.192596241831779,0.009733327664435,0.024708848446608,-0.023334570229053,0.012547343969345,-0.093785539269447,-0.076837047934532,0.021041506901383,-0.012440021149814));
res += mul(Get(s3,-dx,0), float4x4(-0.043557904660702,-0.008498553186655,-0.019205013290048,-0.074932910501957,0.148699834942818,-0.071903519332409,-0.076610386371613,0.017281534150243,-0.031365677714348,-0.044114783406258,0.002896604128182,-0.012218431569636,-0.085096783936024,0.016451627016068,0.120781436562538,0.043614696711302));
res += mul(Get(s3,-dx,dy), float4x4(-0.127209395170212,-0.023635052144527,-0.062122706323862,0.248995691537857,0.108015567064285,0.088900141417980,0.068364955484867,-0.032070651650429,-0.106540024280548,-0.093859449028969,0.000198334077140,0.055080521851778,-0.090225271880627,-0.039024796336889,0.107125595211983,-0.024211464449763));
res += mul(Get(s3,0,-dy), float4x4(-0.062932744622231,0.002772779669613,0.087082698941231,-0.050190243870020,0.128780439496040,0.022960754111409,-0.106128610670567,0.033653676509857,-0.062155660241842,-0.095007598400116,0.057025995105505,-0.020761795341969,-0.086273856461048,-0.055436797440052,0.053629375994205,0.034844923764467));
res += mul(Get(s3,0,0), float4x4(-0.060288839042187,0.015290351584554,-0.044506676495075,-0.082130879163742,-0.065535835921764,0.023470049723983,-0.027942271903157,-0.082826219499111,-0.099209941923618,-0.013242200016975,-0.011854135431349,0.157641142606735,-0.072127386927605,0.056329596787691,-0.015859384089708,0.085547983646393));
res += mul(Get(s3,0,dy), float4x4(-0.083078868687153,-0.043304935097694,-0.058264393359423,0.093483917415142,-0.080866485834122,0.017594393342733,0.131150647997856,-0.056437216699123,-0.051819611340761,-0.043470717966557,-0.033930692821741,0.175540447235107,-0.074133180081844,0.005146827548742,0.013623614795506,-0.080210611224174));
res += mul(Get(s3,dx,-dy), float4x4(-0.060633275657892,0.000860155210830,-0.010113497264683,0.051999464631081,-0.010275233536959,0.085999213159084,-0.061515912413597,-0.076796874403954,-0.064720407128334,-0.089648485183716,0.201488167047501,0.050910498946905,-0.048161048442125,-0.026404133066535,-0.035094220191240,-0.172012835741043));
res += mul(Get(s3,dx,0), float4x4(0.015271046198905,-0.047972645610571,-0.060222279280424,-0.001913936226629,-0.072442695498466,0.105588123202324,0.032561786472797,0.113549016416073,0.002601978136227,-0.022790448740125,0.061897493898869,-0.051463577896357,-0.244069293141365,-0.084799803793430,-0.027613600715995,-0.114211216568947));
res += mul(Get(s3,dx,dy), float4x4(0.021580087020993,-0.023762920871377,-0.166425839066505,-0.010584115050733,-0.039178080856800,-0.031922947615385,0.179630950093269,-0.003506654174998,-0.025574794039130,-0.000129808540805,0.061532065272331,-0.054356586188078,-0.110351346433163,-0.075051523745060,-0.114497713744640,-0.092989914119244));
return max(float4(0,0,0,0), res);
}
