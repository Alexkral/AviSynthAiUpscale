sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016937665641308,-0.060415808111429,-0.022612279281020,0.026215156540275,0.076092161238194,-0.161237239837646,-0.169526487588882,0.181353196501732,0.101671315729618,0.013428087346256,-0.073593042790890,-0.095668762922287,0.086799032986164,-0.016649551689625,-0.140144407749176,0.118963301181793));
res += mul(Get(s0,-dx,0), float4x4(-0.057905405759811,-0.092658467590809,0.045110099017620,0.078124091029167,0.005252195522189,-0.042191028594971,-0.134237542748451,0.166008114814758,0.053473018109798,-0.031862501055002,0.013504585251212,-0.088266029953957,0.107045017182827,0.062044527381659,-0.079306818544865,-0.056562721729279));
res += mul(Get(s0,-dx,dy), float4x4(-0.056889083236456,-0.119894899427891,0.029607899487019,0.040019925683737,0.116171598434448,-0.055286798626184,-0.154523208737373,-0.014598437584937,0.030790047720075,-0.101620718836784,0.155171141028404,0.103058017790318,0.075373329222202,0.171663671731949,0.190466672182083,-0.101119324564934));
res += mul(Get(s0,0,-dy), float4x4(-0.037603411823511,0.097458802163601,0.011209662072361,0.000368948647520,-0.085816875100136,0.068564891815186,0.064571484923363,0.099624536931515,-0.094634898006916,-0.001089306315407,0.173706382513046,0.021862868219614,-0.073449455201626,0.093014277517796,0.040519312024117,-0.058937862515450));
res += mul(Get(s0,0,0), float4x4(0.026508037000895,-0.054768938571215,-0.068268962204456,0.042331639677286,-0.056264627724886,0.086182191967964,0.094740130007267,-0.074419945478439,0.064271070063114,-0.160401061177254,0.058113109320402,0.224847510457039,-0.258878558874130,0.036384496837854,0.074687711894512,-0.153366342186928));
res += mul(Get(s0,0,dy), float4x4(-0.010936373844743,-0.073685184121132,-0.090592570602894,-0.011352214962244,0.085718892514706,0.047407299280167,0.108938872814178,-0.162802219390869,0.179544776678085,-0.095866419374943,-0.052139446139336,0.054743606597185,0.034445926547050,0.159751325845718,0.001542562386021,-0.038150321692228));
res += mul(Get(s0,dx,-dy), float4x4(0.170832008123398,0.111731678247452,0.087138034403324,0.001858882373199,-0.008724655024707,-0.105129979550838,-0.046933218836784,-0.076906606554985,0.061625119298697,-0.149298548698425,0.003031803760678,-0.001946579432115,0.029904881492257,-0.072057433426380,0.079581566154957,0.113008990883827));
res += mul(Get(s0,dx,0), float4x4(-0.009745792485774,-0.128696501255035,-0.050143361091614,-0.206822887063026,-0.073370598256588,0.004488805308938,-0.041135583072901,-0.009192315861583,-0.089232891798019,-0.320394039154053,-0.201824530959129,-0.117153346538544,0.085818216204643,-0.023869473487139,-0.159029558300972,0.000428684841609));
res += mul(Get(s0,dx,dy), float4x4(0.002479132032022,-0.094417735934258,0.095819152891636,0.023755487054586,0.001309978542849,-0.020694075152278,-0.066166535019875,0.048931334167719,0.105352282524109,-0.090714596211910,0.055805802345276,-0.006782991345972,-0.043404307216406,-0.053818695247173,0.041993342339993,0.018666520714760));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024704497307539,0.134484246373177,-0.096278756856918,0.017657062038779,-0.036194879561663,0.123857721686363,-0.024489535018802,0.115661472082138,-0.025129189714789,-0.031861640512943,-0.013202859088778,0.147953718900681,0.299371421337128,0.112291187047958,0.030323868617415,-0.008268748410046));
res += mul(Get(s1,-dx,0), float4x4(-0.069938540458679,0.030585540458560,-0.112565830349922,0.051445305347443,-0.024149073287845,0.020335685461760,0.071135371923447,0.161345779895782,0.135597735643387,-0.071647107601166,0.079107500612736,-0.091484934091568,0.069717340171337,0.123961165547371,0.053001776337624,0.071917109191418));
res += mul(Get(s1,-dx,dy), float4x4(0.042286153882742,0.142853692173958,0.163857355713844,0.006415983662009,0.219926804304123,0.171941787004471,-0.037565290927887,-0.030133003368974,0.128176674246788,0.113420389592648,-0.045776717364788,-0.192015618085861,-0.006336032878608,0.132203325629234,-0.108689390122890,0.012137887068093));
res += mul(Get(s1,0,-dy), float4x4(-0.055046539753675,0.119366645812988,0.055492468178272,0.197675421833992,0.111524216830730,0.179629892110825,-0.115029081702232,0.119044110178947,0.130372732877731,0.097695209085941,0.042778633534908,0.005141566507518,0.040771164000034,-0.040780033916235,-0.116871431469917,0.027787199243903));
res += mul(Get(s1,0,0), float4x4(-0.031885035336018,-0.141018226742744,-0.004146074876189,0.017443649470806,-0.011120789684355,0.125532299280167,0.041685190051794,-0.081956565380096,0.091893851757050,0.001460382831283,0.187231019139290,-0.014043708331883,-0.121148936450481,0.124048978090286,0.039229724556208,-0.026979297399521));
res += mul(Get(s1,0,dy), float4x4(-0.141962453722954,-0.204836204648018,-0.059946380555630,-0.168511331081390,0.043310388922691,0.027347931638360,-0.217497199773788,-0.199527278542519,0.030024476349354,-0.002098885830492,0.174334064126015,-0.029976801946759,-0.026034450158477,0.127765789628029,0.160131290555000,0.168319106101990));
res += mul(Get(s1,dx,-dy), float4x4(0.050857435911894,0.105214111506939,-0.110294625163078,-0.070432074368000,0.020692246034741,0.159941971302032,0.114789508283138,0.005809998605400,-0.070412538945675,0.077204503118992,0.136448308825493,-0.169117987155914,0.243865579366684,0.097605094313622,0.072379820048809,-0.142534121870995));
res += mul(Get(s1,dx,0), float4x4(-0.104945957660675,0.125908970832825,0.178315907716751,-0.119059398770332,-0.146684631705284,0.191314548254013,0.089219547808170,0.007085973862559,0.010404136963189,0.112812146544456,0.072988562285900,-0.224862068891525,-0.103017896413803,0.192662447690964,-0.002409462118521,0.091247312724590));
res += mul(Get(s1,dx,dy), float4x4(0.006761850323528,-0.055298686027527,0.099957413971424,-0.064473137259483,-0.069590032100677,-0.182434946298599,0.060364753007889,-0.023358089849353,-0.012112416327000,0.030273787677288,0.128635495901108,-0.118514008820057,0.034318413585424,0.117503255605698,-0.116976886987686,0.003701964160427));
res += mul(Get(s2,-dx,-dy), float4x4(0.083825983107090,-0.250799715518951,-0.269963651895523,-0.138846874237061,0.081661961972713,0.087242528796196,0.031441360712051,-0.092264175415039,0.086305812001228,-0.101254880428314,-0.100222311913967,-0.074778392910957,-0.008932143449783,-0.032082699239254,-0.111603021621704,-0.011979104019701));
res += mul(Get(s2,-dx,0), float4x4(0.002121034311131,0.103807374835014,0.168946459889412,-0.095121338963509,0.134914755821228,0.123720042407513,0.137062981724739,0.041105706244707,-0.050580650568008,-0.008912799879909,-0.026601452380419,0.032472040504217,0.055491060018539,-0.018070982769132,-0.034818239510059,0.027590299025178));
res += mul(Get(s2,-dx,dy), float4x4(-0.053469706326723,-0.015867749229074,-0.069473557174206,-0.026614902541041,-0.111248187720776,-0.009143301285803,0.155804827809334,-0.171114370226860,-0.126921921968460,-0.118863433599472,-0.016595307737589,0.018644977360964,0.204388976097107,-0.077777676284313,-0.085385806858540,-0.001279309275560));
res += mul(Get(s2,0,-dy), float4x4(0.157286152243614,-0.042113695293665,0.015748169273138,-0.043552424758673,-0.127149119973183,0.137079715728760,-0.175285831093788,0.093078762292862,0.047762736678123,-0.211344480514526,-0.204685434699059,0.081978268921375,-0.038993552327156,0.095626220107079,-0.128998219966888,-0.218143224716187));
res += mul(Get(s2,0,0), float4x4(0.092476040124893,0.191044226288795,0.123987317085266,0.026712924242020,0.094928361475468,0.080239191651344,0.230020239949226,-0.080792233347893,0.075372695922852,0.000539290951565,-0.132215604186058,-0.106301873922348,0.062844708561897,-0.073247797787189,0.073559559881687,-0.123118869960308));
res += mul(Get(s2,0,dy), float4x4(-0.054912064224482,0.085789062082767,0.225192531943321,0.118569552898407,0.165313407778740,0.097962245345116,-0.087806299328804,-0.028105391189456,0.167682185769081,-0.076437748968601,0.065598063170910,-0.056191917508841,0.015791088342667,0.010371033102274,-0.144338265061378,-0.162916660308838));
res += mul(Get(s2,dx,-dy), float4x4(-0.067339755594730,-0.002960569923744,0.066932998597622,-0.065292052924633,0.144569158554077,0.248775690793991,0.043106768280268,-0.246307134628296,0.012907534837723,-0.107510529458523,0.001890944549814,-0.027586961165071,0.021402822807431,-0.077555924654007,-0.092977374792099,-0.061758283525705));
res += mul(Get(s2,dx,0), float4x4(-0.081713609397411,0.031407006084919,0.190180987119675,-0.040520772337914,0.146557480096817,0.138391971588135,-0.040814820677042,0.018154203891754,0.144557967782021,-0.210217624902725,-0.043047860264778,0.046726468950510,-0.021926373243332,0.245761603116989,0.137768447399139,-0.034147512167692));
res += mul(Get(s2,dx,dy), float4x4(0.040764551609755,0.062590070068836,0.033230256289244,-0.053442459553480,0.188701704144478,-0.071421317756176,0.178916484117508,-0.165445551276207,-0.063835985958576,-0.317336916923523,0.012755798175931,-0.111404143273830,0.066087439656258,0.099565692245960,-0.036932036280632,0.056873079389334));
res += mul(Get(s3,-dx,-dy), float4x4(0.073904871940613,-0.039191376417875,-0.009108298458159,0.134677618741989,-0.066010214388371,0.142826884984970,-0.195014655590057,-0.009742454625666,-0.055401030927896,-0.049550544470549,0.217996165156364,-0.260402381420135,-0.100686930119991,0.024594135582447,-0.107983894646168,-0.003815655363724));
res += mul(Get(s3,-dx,0), float4x4(-0.009023834019899,-0.002394286915660,-0.191329553723335,-0.135040208697319,0.065788410604000,0.060415524989367,0.049054067581892,0.047911074012518,0.076459951698780,0.021799810230732,0.168608218431473,-0.026773005723953,-0.042371038347483,0.140938773751259,0.018744554370642,0.177884295582771));
res += mul(Get(s3,-dx,dy), float4x4(0.001633970532566,-0.024479992687702,-0.119362987577915,-0.041014898568392,0.089382462203503,0.094674855470657,-0.062279138714075,0.043073654174805,-0.062335513532162,-0.180233210325241,0.050959248095751,-0.140439614653587,0.073784783482552,0.001124604488723,0.143325611948967,-0.010577502660453));
res += mul(Get(s3,0,-dy), float4x4(0.014938855543733,0.078836403787136,-0.123263828456402,0.022652640938759,0.143946006894112,0.105706490576267,0.026504127308726,0.034125525504351,0.086588747799397,0.103250831365585,0.288520216941833,-0.256992846727371,0.067879714071751,-0.011723910458386,-0.101519033312798,0.059323005378246));
res += mul(Get(s3,0,0), float4x4(0.051986686885357,0.064370729029179,0.072202317416668,0.146022439002991,-0.052920661866665,-0.097573809325695,-0.078221149742603,-0.045116815716028,0.021726215258241,0.143795982003212,0.094655513763428,0.022719217464328,-0.039658308029175,0.104291900992393,0.133216127753258,0.150718584656715));
res += mul(Get(s3,0,dy), float4x4(0.153326541185379,0.057972554117441,-0.053549159318209,-0.092247501015663,-0.146546989679337,0.299056321382523,-0.030958620831370,0.095782108604908,-0.114777341485023,0.229505524039268,0.114959850907326,0.026771713048220,0.067894980311394,0.086317859590054,0.044942185282707,0.061675399541855));
res += mul(Get(s3,dx,-dy), float4x4(-0.125014260411263,0.058466441929340,-0.047323074191809,-0.174076095223427,-0.027755921706557,0.078918017446995,0.043163917958736,-0.035025551915169,-0.004922462161630,-0.058181148022413,0.037783280014992,0.011427772231400,-0.086895637214184,-0.006062921136618,0.015643790364265,0.121499478816986));
res += mul(Get(s3,dx,0), float4x4(0.060197032988071,0.079039342701435,-0.073967300355434,0.042376980185509,0.004108441527933,-0.119787007570267,-0.092433594167233,-0.173522934317589,0.069536410272121,0.036830253899097,-0.070467703044415,0.077832616865635,0.024301234632730,-0.032058455049992,-0.052158374339342,0.105249889194965));
res += mul(Get(s3,dx,dy), float4x4(0.007926416583359,-0.006376741454005,-0.038896374404430,-0.087783463299274,-0.060525234788656,0.014542034827173,-0.105362974107265,-0.017107769846916,0.029739819467068,0.038663387298584,-0.198158755898476,0.103753648698330,0.152865201234818,-0.010449880734086,0.002744345692918,0.028756691142917));
return max(float4(0,0,0,0), res);
}
