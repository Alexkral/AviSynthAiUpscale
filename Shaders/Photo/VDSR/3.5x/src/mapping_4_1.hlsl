sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.131840184330940,0.046695981174707,-0.047883991152048,-0.075003139674664,-0.127467826008797,0.465145856142044,0.105256661772728,-0.152204573154449,0.060068331658840,-0.081144593656063,-0.012003784999251,-0.065468318760395,0.066432975232601,-0.025675363838673,-0.129999220371246,0.094026096165180));
res += mul(Get(s0,-dx,0), float4x4(-0.124430663883686,0.031102798879147,-0.106601707637310,-0.006311166565865,0.025800682604313,0.020746655762196,0.095674760639668,-0.104083724319935,-0.053955819457769,0.089051045477390,-0.010119554586709,0.076353102922440,0.109232589602470,-0.133443459868431,-0.021687993779778,0.065255180001259));
res += mul(Get(s0,-dx,dy), float4x4(-0.067127577960491,-0.106568574905396,-0.113951936364174,-0.012162744067609,-0.064380936324596,-0.185036167502403,0.074316427111626,-0.025704702362418,-0.090180970728397,-0.013741227798164,0.024917781352997,0.022503284737468,0.113887235522270,-0.036372058093548,0.042451292276382,0.083993531763554));
res += mul(Get(s0,0,-dy), float4x4(0.084391705691814,0.013801866210997,-0.047305215150118,-0.002822730457410,-0.102796733379364,0.045386716723442,0.023537866771221,-0.053034964948893,0.088982120156288,-0.003433532780036,0.035671845078468,0.071437001228333,-0.125634580850601,-0.015138564631343,-0.026520308107138,-0.079084560275078));
res += mul(Get(s0,0,0), float4x4(-0.124106876552105,0.136022865772247,-0.048315130174160,0.105652973055840,0.042513642460108,-0.106131128966808,0.032824430614710,-0.060015007853508,-0.036728616803885,0.081579193472862,0.026623874902725,0.143376305699348,-0.107192069292068,-0.116754315793514,0.050823677331209,0.271114349365234));
res += mul(Get(s0,0,dy), float4x4(-0.086807116866112,-0.081988602876663,-0.046967756003141,0.085146449506283,0.002293040277436,-0.095320753753185,-0.033654503524303,-0.023751633241773,0.079836331307888,-0.065046414732933,0.036248426884413,0.007584987208247,0.018847227096558,-0.119247898459435,-0.018650049343705,0.195785760879517));
res += mul(Get(s0,dx,-dy), float4x4(-0.011740898713470,-0.018799852579832,0.000058467747294,-0.082623705267906,-0.153543129563332,-0.046261560171843,-0.019337436184287,-0.087378397583961,-0.046872165054083,0.046393200755119,0.020251175388694,-0.043432760983706,-0.074190229177475,-0.038603555411100,-0.026515929028392,-0.166117072105408));
res += mul(Get(s0,dx,0), float4x4(-0.054132591933012,0.129463240504265,-0.004864664748311,0.055603120476007,0.088007532060146,-0.029073368757963,-0.038503590971231,0.061133243143559,-0.140408337116241,0.030801447108388,0.036847978830338,-0.012550109066069,-0.120689600706100,0.023030059412122,0.104267075657845,-0.061598896980286));
res += mul(Get(s0,dx,dy), float4x4(-0.096559800207615,0.008413793519139,-0.080171503126621,-0.038717839866877,0.009247745387256,0.079250991344452,-0.040590345859528,-0.040452446788549,0.098542951047421,-0.080152593553066,0.050463791936636,-0.058173380792141,-0.069582700729370,0.040122047066689,-0.006398709490895,0.026345713064075));
res += mul(Get(s1,-dx,-dy), float4x4(0.149080336093903,-0.025802228599787,0.021989082917571,-0.048499513417482,0.144852802157402,0.073559574782848,0.008816100656986,0.068385571241379,0.078266091644764,-0.021167015656829,-0.029786780476570,0.053015992045403,-0.141828805208206,-0.038786180317402,0.055901620537043,-0.121432356536388));
res += mul(Get(s1,-dx,0), float4x4(-0.034004360437393,0.138015687465668,-0.070219151675701,0.066456891596317,0.066906243562698,-0.195569515228271,0.098533481359482,0.080952994525433,0.112152002751827,0.034785524010658,-0.032750174403191,0.099024005234241,-0.032895214855671,-0.038907777518034,0.061194323003292,-0.100265212357044));
res += mul(Get(s1,-dx,dy), float4x4(0.023643728345633,0.039029359817505,-0.120240338146687,0.022618005052209,0.022355264052749,-0.061226818710566,0.110445089638233,0.139959603548050,0.082566387951374,0.075681693851948,0.040058512240648,-0.065736003220081,-0.125945687294006,0.048500608652830,0.027069205418229,-0.126298323273659));
res += mul(Get(s1,0,-dy), float4x4(0.098259232938290,-0.079246766865253,0.019991433247924,0.039166290313005,-0.056737449020147,-0.013375700451434,-0.022010244429111,-0.052761491388083,-0.016511267051101,-0.103348642587662,0.018586428835988,0.011036652140319,-0.096007734537125,0.128045529127121,0.031840633600950,0.077853009104729));
res += mul(Get(s1,0,0), float4x4(-0.000519615772646,0.099705524742603,-0.094260990619659,0.071182303130627,0.148880600929260,-0.152009814977646,-0.001216365257278,-0.083776481449604,0.189272150397301,-0.024727074429393,-0.034875378012657,-0.036000892519951,-0.021630201488733,0.087051063776016,-0.015553642995656,0.058759614825249));
res += mul(Get(s1,0,dy), float4x4(0.001950183766894,0.120343282818794,-0.117309093475342,0.025376874953508,0.126614466309547,-0.085486099123955,-0.034584227949381,-0.050269190222025,0.017897130921483,-0.010435880161822,0.047866713255644,-0.019013531506062,0.059513632208109,-0.009752961806953,-0.050657875835896,0.059610895812511));
res += mul(Get(s1,dx,-dy), float4x4(-0.001900601782836,-0.064718052744865,0.065081767737865,0.162001550197601,-0.043926343321800,-0.048522692173719,0.097574628889561,-0.093773290514946,0.101646713912487,0.088298581540585,-0.028602119535208,0.048825491219759,0.125900104641914,0.138479441404343,0.026420395821333,-0.065327599644661));
res += mul(Get(s1,dx,0), float4x4(-0.036761097609997,-0.009553040377796,-0.022868135944009,0.078205071389675,0.028197243809700,-0.018224289640784,0.219709753990173,-0.076141901314259,0.315738350152969,0.097368791699409,-0.099177524447441,-0.055841293185949,0.165872246026993,0.154047459363937,0.023518690839410,0.011419250629842));
res += mul(Get(s1,dx,dy), float4x4(-0.021276291459799,-0.039380047470331,-0.044330339878798,0.090126305818558,0.067320697009563,-0.005738907027990,0.250624179840088,-0.091618783771992,-0.029137112200260,0.140734419226646,-0.038317658007145,-0.112833596765995,0.083316139876842,0.034706883132458,-0.055948838591576,-0.067033283412457));
res += mul(Get(s2,-dx,-dy), float4x4(0.033725667744875,-0.075600609183311,-0.000100421726529,0.124391913414001,0.048601862043142,0.111648790538311,-0.030962299555540,-0.102990478277206,-0.106832884252071,-0.011532763950527,0.082286305725574,0.135960876941681,-0.035814158618450,-0.014529425650835,0.027489881962538,0.147929966449738));
res += mul(Get(s2,-dx,0), float4x4(0.018273236230016,-0.006072803400457,-0.025274638086557,0.045894246548414,-0.065370105206966,0.033074699342251,-0.153823971748352,-0.048392917960882,0.067738562822342,0.190467372536659,-0.040702208876610,-0.090658359229565,0.063787072896957,-0.063453756272793,-0.008527779020369,0.048330929130316));
res += mul(Get(s2,-dx,dy), float4x4(0.048847042024136,-0.005937189329416,-0.027529383078218,-0.103905960917473,-0.095296129584312,-0.070840887725353,-0.150662347674370,-0.031415753066540,-0.081427462399006,0.002161540091038,-0.068827860057354,-0.029868382960558,0.064728178083897,-0.064947195351124,-0.035988915711641,-0.017315724864602));
res += mul(Get(s2,0,-dy), float4x4(0.006541756447405,0.003842266974971,0.003496567485854,-0.059543427079916,-0.033310294151306,0.005846178624779,-0.022049156948924,-0.020014995709062,-0.060454990714788,-0.038374677300453,0.022211473435163,0.155015006661415,0.112038798630238,0.010921461507678,-0.026354331523180,-0.075324915349483));
res += mul(Get(s2,0,0), float4x4(-0.030543744564056,-0.013901012949646,-0.021105011925101,-0.000036911784264,0.007986427284777,-0.134649485349655,-0.024679997935891,0.080023117363453,0.281247109174728,-0.025059493258595,-0.069123625755310,0.068064108490944,0.155245274305344,-0.085946410894394,-0.054611720144749,0.121148549020290));
res += mul(Get(s2,0,dy), float4x4(0.031652539968491,0.054490268230438,-0.015506756491959,-0.074205748736858,-0.057518675923347,-0.170960828661919,0.011010253801942,0.178472280502319,-0.062720753252506,-0.028836971148849,0.014424644410610,0.044097412377596,0.061760921031237,-0.070398829877377,-0.069036073982716,0.000216511893086));
res += mul(Get(s2,dx,-dy), float4x4(-0.017350098118186,-0.140099674463272,-0.010706101544201,-0.112376876175404,-0.006635479629040,0.040169518440962,-0.073456972837448,-0.000149166749907,-0.069344699382782,-0.053068604320288,0.000855329679325,-0.060579359531403,0.000283752830001,0.164261624217033,-0.028746465221047,-0.208712652325630));
res += mul(Get(s2,dx,0), float4x4(-0.026758898049593,-0.092347294092178,-0.051335778087378,-0.106174550950527,-0.003936590626836,0.013632692396641,-0.094463706016541,-0.106976144015789,0.074677705764771,-0.096566997468472,-0.096423037350178,0.073024064302444,-0.054456107318401,0.136880859732628,-0.016605922952294,0.048397600650787));
res += mul(Get(s2,dx,dy), float4x4(-0.096141673624516,-0.022639812901616,-0.021523440256715,-0.066152170300484,-0.076901391148567,-0.106368094682693,-0.071631453931332,-0.110680244863033,-0.169566750526428,-0.001243807957508,0.014176806434989,-0.037386022508144,0.007553664967418,0.087421476840973,0.018709544092417,-0.062632583081722));
res += mul(Get(s3,-dx,-dy), float4x4(0.034486576914787,-0.069409742951393,0.075964473187923,-0.080779075622559,-0.151504620909691,0.073197454214096,-0.026331625878811,-0.170997589826584,-0.218172758817673,-0.173137351870537,-0.000296671991237,0.128885790705681,0.079395562410355,0.100791789591312,0.160960599780083,0.002103110775352));
res += mul(Get(s3,-dx,0), float4x4(-0.086356110870838,0.093109823763371,-0.125712454319000,-0.038603540509939,-0.048288404941559,-0.010485118255019,-0.003432116005570,0.046698171645403,0.168766304850578,-0.215622797608376,-0.032670032233000,0.096678800880909,-0.245921745896339,0.053180493414402,0.170353397727013,-0.031243249773979));
res += mul(Get(s3,-dx,dy), float4x4(-0.139056921005249,0.184913426637650,-0.047621365636587,-0.104587696492672,0.036865741014481,-0.245019793510437,-0.086900912225246,0.182771712541580,-0.046957701444626,0.098483264446259,-0.057682469487190,0.032078702002764,-0.130906701087952,-0.129178911447525,0.163242965936661,-0.015123000368476));
res += mul(Get(s3,0,-dy), float4x4(-0.035637747496367,0.020381513983011,0.098130725324154,0.067646831274033,-0.037703633308411,0.303606033325195,0.042543217539787,-0.038029342889786,-0.278621345758438,0.120055474340916,-0.065080918371677,-0.059923704713583,0.100299790501595,0.027112763375044,-0.097725927829742,-0.174171715974808));
res += mul(Get(s3,0,0), float4x4(-0.114382185041904,0.114936895668507,-0.045965414494276,0.085075914859772,-0.064712144434452,0.071011342108250,-0.007875026203692,0.017660558223724,-0.163707911968231,0.094882681965828,-0.031864807009697,-0.066171117126942,-0.152021557092667,0.083953388035297,-0.071886494755745,-0.090800613164902));
res += mul(Get(s3,0,dy), float4x4(-0.093200474977493,0.022119043394923,0.004070814233273,-0.050738397985697,-0.085155338048935,-0.082185938954353,-0.047410089522600,0.006562454160303,-0.022448921576142,-0.026110149919987,-0.070186957716942,0.066649645566940,-0.097045585513115,-0.186745047569275,-0.064420096576214,-0.045309610664845));
res += mul(Get(s3,dx,-dy), float4x4(-0.045045372098684,0.046704705804586,0.132141649723053,-0.016615999862552,-0.052641220390797,0.000802836555522,0.053042333573103,-0.084461390972137,-0.057735063135624,0.020170981064439,0.102542638778687,-0.178676977753639,0.026475062593818,-0.142580300569534,-0.025684302672744,0.039199046790600));
res += mul(Get(s3,dx,0), float4x4(-0.039966832846403,-0.160199776291847,0.032867934554815,-0.016093103215098,-0.066287025809288,0.020698634907603,0.003009101608768,-0.194947481155396,0.096036188304424,-0.007426799740642,0.055006641894579,-0.106812596321106,-0.013766166754067,0.016537632793188,0.031358137726784,-0.065966375172138));
res += mul(Get(s3,dx,dy), float4x4(-0.040459085255861,-0.166895627975464,0.020464563742280,-0.118574082851410,0.036898944526911,-0.142269119620323,-0.081632032990456,-0.259610354900360,-0.003522283164784,-0.046770136803389,0.000464591954369,-0.040344338864088,-0.049432341009378,-0.128806322813034,0.089787952601910,-0.014828962273896));
return max(float4(0,0,0,0), res);
}
