sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.039308212697506,0.013806682080030,0.219437599182129,-0.088799439370632,-0.126537337899208,-0.024215232580900,0.134367138147354,-0.000158602706506,0.101702891290188,-0.209587156772614,-0.037653725594282,-0.043202124536037,0.094214931130409,-0.110056780278683,-0.032283104956150,0.121151462197304));
res += mul(Get(s0,-dx,0), float4x4(-0.055763844400644,0.085859052836895,-0.035380963236094,-0.178364694118500,-0.086026974022388,-0.051984637975693,-0.170163944363594,0.351897865533829,0.015078713186085,-0.059594966471195,0.092458680272102,0.109133832156658,0.099973082542419,-0.059885796159506,0.152908980846405,-0.167074739933014));
res += mul(Get(s0,-dx,dy), float4x4(0.103967674076557,-0.098751381039619,0.090891145169735,-0.263223350048065,0.086823843419552,0.319569885730743,-0.197436630725861,-0.135248020291328,-0.188089504837990,-0.005937962792814,-0.170043885707855,-0.091046974062920,-0.010192539542913,0.067992322146893,-0.073786258697510,0.058227647095919));
res += mul(Get(s0,0,-dy), float4x4(-0.024705337360501,0.104357846081257,0.137523040175438,-0.000599219638389,-0.001012573484331,0.034974355250597,0.043090779334307,0.125777959823608,-0.172386467456818,-0.163864597678185,-0.063855789601803,-0.168462187051773,0.079278931021690,-0.104661986231804,0.138312771916389,0.062701754271984));
res += mul(Get(s0,0,0), float4x4(0.068100035190582,0.185344547033310,0.009757254272699,0.028761994093657,0.145653456449509,0.053416647017002,-0.148174062371254,-0.120615862309933,0.046578012406826,-0.125424087047577,-0.008849408477545,-0.105806015431881,0.052942026406527,-0.079352252185345,0.037524338811636,-0.202463477849960));
res += mul(Get(s0,0,dy), float4x4(0.091075763106346,0.049864310771227,-0.046948745846748,0.019390834495425,-0.184726417064667,-0.354000300168991,0.153964415192604,-0.138407826423645,0.180159330368042,0.235682830214500,-0.210181817412376,-0.069327831268311,-0.065209753811359,-0.046758957207203,0.007615076377988,0.108142025768757));
res += mul(Get(s0,dx,-dy), float4x4(0.054923903197050,-0.077203087508678,-0.132700830698013,0.017506275326014,-0.008121022954583,-0.002887270180508,0.022765409201384,-0.056270588189363,-0.114670388400555,0.142534658312798,0.015666715800762,0.033866740763187,0.023913815617561,0.094070337712765,-0.069631375372410,0.036385465413332));
res += mul(Get(s0,dx,0), float4x4(0.158151492476463,0.052649702876806,-0.050661511719227,0.058412197977304,-0.003541269339621,-0.050342790782452,0.000507971912157,0.035259470343590,-0.279477089643478,0.178849637508392,0.041718810796738,0.082257181406021,0.026043495163321,0.002822895534337,-0.187986329197884,-0.045082811266184));
res += mul(Get(s0,dx,dy), float4x4(0.119182460010052,0.014321560971439,-0.009986911900342,0.166227728128433,-0.136431127786636,-0.057403724640608,-0.114370964467525,0.172305509448051,0.103863999247551,0.149646550416946,0.043204363435507,-0.070660814642906,0.014041030779481,-0.171155557036400,-0.220947846770287,0.156943485140800));
res += mul(Get(s1,-dx,-dy), float4x4(0.246619299054146,0.080858841538429,-0.036160822957754,-0.041456386446953,0.087852314114571,0.099066354334354,0.103786610066891,-0.004592347424477,0.247048184275627,0.117848567664623,-0.083408378064632,-0.112531758844852,0.157784238457680,0.070930421352386,0.110955886542797,-0.034572549164295));
res += mul(Get(s1,-dx,0), float4x4(0.110096342861652,0.178086027503014,0.097459591925144,0.018993590027094,0.180989593267441,-0.047893792390823,0.189816430211067,0.042917672544718,-0.108964018523693,-0.056363780051470,-0.013054435141385,0.073152914643288,0.017687136307359,-0.230263009667397,-0.055793963372707,0.215514957904816));
res += mul(Get(s1,-dx,dy), float4x4(0.151439249515533,-0.171563893556595,-0.021898945793509,0.071775652468204,-0.038195498287678,-0.011695449240506,0.052398636937141,0.064757145941257,-0.039640437811613,0.221692249178886,-0.058922767639160,0.209053263068199,0.169746637344360,0.001025149365887,0.137067243456841,-0.011033200658858));
res += mul(Get(s1,0,-dy), float4x4(0.000539283733815,0.212289407849312,-0.124332956969738,-0.124470420181751,0.147879183292389,0.152691081166267,0.108675107359886,0.063153333961964,-0.161104097962379,0.277528256177902,0.024333141744137,0.008229951374233,-0.054690934717655,-0.075734436511993,-0.083458796143532,-0.131468400359154));
res += mul(Get(s1,0,0), float4x4(-0.058111499994993,0.190569773316383,-0.050564393401146,-0.027085008099675,-0.116362415254116,0.102858580648899,-0.057485371828079,0.005126692820340,0.064380988478661,-0.039128892123699,-0.103474937379360,0.114295423030853,0.103668294847012,0.170906320214272,-0.083597823977470,-0.071289442479610));
res += mul(Get(s1,0,dy), float4x4(0.001316227368079,-0.104162268340588,0.026647794991732,0.085889756679535,-0.130214646458626,0.078517653048038,-0.070875123143196,-0.031283434480429,0.043234344571829,0.040822260081768,-0.213078737258911,-0.050987437367439,0.117474824190140,0.172347411513329,0.000741795694921,0.091759562492371));
res += mul(Get(s1,dx,-dy), float4x4(-0.104184418916702,0.091156154870987,-0.083951845765114,0.055163331329823,-0.142966195940971,0.231177926063538,0.144383490085602,0.218479663133621,0.037743847817183,-0.109198428690434,-0.120570831000805,0.062485616654158,-0.124772161245346,-0.111741296947002,0.003195920027792,0.025678552687168));
res += mul(Get(s1,dx,0), float4x4(0.036634009331465,0.068554185330868,-0.090525984764099,0.162750035524368,-0.095341622829437,0.073684684932232,0.083052463829517,-0.071445249021053,-0.020532790571451,-0.135950341820717,-0.155002743005753,-0.069806680083275,-0.057678494602442,0.008639618754387,-0.213125690817833,0.065383762121201));
res += mul(Get(s1,dx,dy), float4x4(0.089954078197479,-0.003697893116623,0.059437345713377,-0.025225704535842,-0.087653987109661,0.052555806934834,-0.010756202042103,-0.011463776230812,0.121177352964878,0.088813431560993,0.009873866103590,0.026780348271132,0.196292981505394,-0.011480343528092,-0.151885241270065,0.016250450164080));
res += mul(Get(s2,-dx,-dy), float4x4(0.017087001353502,0.018567787483335,0.081412300467491,-0.181220024824142,-0.166035845875740,0.204008355736732,-0.205814287066460,-0.066302344202995,-0.095161288976669,0.105563327670097,0.086545854806900,0.071077682077885,-0.142934009432793,0.029385402798653,0.017878601327538,-0.005915415938944));
res += mul(Get(s2,-dx,0), float4x4(0.046438124030828,0.149375155568123,0.010079725645483,-0.097766838967800,0.127422153949738,-0.014541920274496,0.100956559181213,0.082626163959503,0.079201243817806,-0.137170180678368,0.315656304359436,0.153263807296753,-0.058482270687819,-0.153830677270889,-0.203592807054520,0.127834811806679));
res += mul(Get(s2,-dx,dy), float4x4(-0.000761352246627,0.036906238645315,-0.071261093020439,-0.136361345648766,-0.066622860729694,-0.066603124141693,-0.152295455336571,-0.122504524886608,0.115818709135056,-0.103777170181274,-0.113485291600227,-0.011646431870759,-0.113610498607159,-0.020491432398558,-0.157377287745476,0.365660965442657));
res += mul(Get(s2,0,-dy), float4x4(-0.198919415473938,0.050107669085264,-0.091574557125568,0.116271801292896,-0.008170014247298,-0.021313220262527,-0.072326287627220,-0.027959410101175,0.011552439071238,0.063361622393131,-0.089452415704727,0.037077039480209,-0.195446416735649,-0.020127544179559,0.291258573532104,0.007299412041903));
res += mul(Get(s2,0,0), float4x4(-0.106864526867867,0.089477784931660,0.066377207636833,0.012106210924685,0.034674372524023,-0.028799630701542,-0.095039390027523,-0.090966291725636,0.037532243877649,0.096264317631721,0.047772470861673,0.036359615623951,-0.017202256247401,-0.304664134979248,-0.034877020865679,0.129786118865013));
res += mul(Get(s2,0,dy), float4x4(-0.155688375234604,0.074343055486679,-0.014025161974132,-0.014896033331752,0.090599574148655,-0.123635336756706,-0.149408847093582,0.020789723843336,0.030220044776797,-0.096994929015636,0.029651658609509,0.051671821624041,-0.025984872132540,-0.037831105291843,-0.120753236114979,0.057646419852972));
res += mul(Get(s2,dx,-dy), float4x4(-0.144016727805138,0.001352461520582,-0.190865129232407,-0.043345052748919,0.071790657937527,0.018865317106247,-0.225031197071075,-0.081507109105587,-0.112242035567760,0.046473514288664,0.224057883024216,0.086175136268139,0.099334813654423,0.073001161217690,0.333010256290436,0.177923083305359));
res += mul(Get(s2,dx,0), float4x4(0.015221061185002,0.107515446841717,0.104610472917557,0.129773899912834,0.013820819556713,-0.148077353835106,0.187141865491867,-0.192060336470604,-0.175072893500328,0.029537051916122,-0.194092541933060,-0.138356953859329,0.103017427027225,0.046778786927462,0.196591779589653,-0.003686979645863));
res += mul(Get(s2,dx,dy), float4x4(-0.000071320326242,0.016361622139812,-0.197730183601379,0.027443364262581,-0.024170462042093,0.114000111818314,0.191934302449226,-0.096819519996643,0.195497110486031,-0.142540067434311,0.061516955494881,0.072041392326355,-0.236443132162094,0.064027659595013,0.136615931987762,0.005839641205966));
res += mul(Get(s3,-dx,-dy), float4x4(-0.170101642608643,-0.084695391356945,0.106690846383572,-0.225412234663963,-0.238737329840660,0.065672673285007,-0.090503223240376,-0.002567782532424,0.019626753404737,-0.029158972203732,-0.147703126072884,-0.135207518935204,-0.013847997412086,-0.116156987845898,-0.108337521553040,-0.040628600865602));
res += mul(Get(s3,-dx,0), float4x4(-0.031444810330868,0.039797171950340,0.223068803548813,0.048476301133633,0.252671331167221,0.046422645449638,-0.269048273563385,-0.054464783519506,-0.006896806415170,-0.224168181419373,0.132230356335640,-0.041465088725090,0.015699503943324,-0.051323074847460,0.143104195594788,0.068662010133266));
res += mul(Get(s3,-dx,dy), float4x4(-0.059644870460033,-0.102347776293755,-0.218781322240829,-0.009096025489271,0.042253866791725,0.072612367570400,0.094594612717628,0.202579841017723,-0.077517658472061,0.154094353318214,0.134553134441376,-0.086989581584930,0.104354418814182,0.150856167078018,0.098070494830608,0.230287805199623));
res += mul(Get(s3,0,-dy), float4x4(0.042736485600471,-0.076232008635998,-0.057591501623392,0.171984732151031,0.047813899815083,0.120529189705849,-0.001785458298400,-0.099073372781277,0.376384943723679,-0.044940631836653,-0.005034207366407,0.006189174950123,-0.006448355969042,0.051253370940685,-0.160274848341942,0.076537996530533));
res += mul(Get(s3,0,0), float4x4(0.059215366840363,0.182180196046829,-0.063653029501438,0.241225317120552,0.253592044115067,0.049908056855202,0.066412650048733,0.061227153986692,0.116491906344891,-0.026735732331872,0.083666831254959,0.176025986671448,-0.083203583955765,-0.186943396925926,-0.078697562217712,0.013341748155653));
res += mul(Get(s3,0,dy), float4x4(0.024614246562123,-0.136610731482506,-0.011681843549013,-0.073852315545082,0.056098893284798,0.038743562996387,-0.000462788506411,-0.094634808599949,0.118068620562553,-0.201544389128685,-0.084539480507374,0.128417551517487,0.034656576812267,0.071332588791847,-0.049326341599226,-0.027919603511691));
res += mul(Get(s3,dx,-dy), float4x4(-0.067513093352318,-0.072925359010696,0.143707066774368,0.017609236761928,0.108073189854622,0.060107406228781,0.133052662014961,-0.209747135639191,0.010852047242224,0.062966488301754,0.111623868346214,-0.032905876636505,0.014774372801185,-0.108434192836285,0.064499512314796,-0.069873318076134));
res += mul(Get(s3,dx,0), float4x4(-0.069246210157871,-0.136690959334373,-0.138324290513992,0.054524779319763,-0.046683400869370,-0.006711437832564,-0.092792652547359,0.094198174774647,-0.058393232524395,-0.107408151030540,-0.057618930935860,-0.053213864564896,0.148259222507477,0.161395266652107,0.018098969012499,0.011945696547627));
res += mul(Get(s3,dx,dy), float4x4(-0.132251590490341,-0.027074448764324,-0.040816940367222,0.004096199758351,-0.057689931243658,0.066644191741943,0.190835386514664,-0.162278279662132,0.012652134522796,-0.003531348193064,0.092235140502453,-0.017167113721371,0.270135968923569,-0.186226099729538,0.156874269247055,0.006497195456177));
return max(float4(0,0,0,0), res);
}
