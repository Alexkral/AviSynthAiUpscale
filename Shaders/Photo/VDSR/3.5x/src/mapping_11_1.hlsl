sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022538516670465,-0.008633672259748,-0.020162397995591,0.126358836889267,-0.006540996488184,0.070691317319870,-0.082024693489075,0.099412173032761,-0.070026554167271,-0.070930384099483,-0.069699265062809,-0.258218973875046,-0.154609382152557,-0.139630898833275,0.156454667448997,-0.035872358828783));
res += mul(Get(s0,-dx,0), float4x4(0.007204447407275,-0.207155972719193,-0.060135699808598,0.013623106293380,0.088459670543671,-0.050900276750326,-0.022714318707585,-0.156901299953461,-0.059686709195375,-0.071404010057449,0.075078420341015,-0.065253406763077,0.183164834976196,0.089258030056953,0.150895193219185,-0.077526308596134));
res += mul(Get(s0,-dx,dy), float4x4(0.146252036094666,0.009159025736153,-0.162604466080666,-0.054511256515980,0.047328792512417,-0.051013421267271,-0.172193929553032,0.147561460733414,-0.103231474757195,0.047702811658382,0.060322597622871,0.200129404664040,-0.027991816401482,-0.041197907179594,0.084109403192997,-0.012897890992463));
res += mul(Get(s0,0,-dy), float4x4(0.099864646792412,0.069243475794792,0.052109368145466,0.086181230843067,-0.257930874824524,0.135077670216560,0.028662703931332,0.135698601603508,0.117866136133671,-0.040660783648491,0.074882060289383,-0.131720334291458,-0.001218280289322,0.215755209326744,0.090649463236332,0.029593510553241));
res += mul(Get(s0,0,0), float4x4(-0.051423035562038,0.219683289527893,0.173081547021866,0.002494800835848,0.133381873369217,-0.050447534769773,-0.110125355422497,-0.061662130057812,-0.070811897516251,0.182114213705063,-0.059898547828197,0.066870070993900,-0.065973676741123,-0.131432160735130,-0.104537658393383,-0.049334291368723));
res += mul(Get(s0,0,dy), float4x4(0.147651210427284,0.008714243769646,0.202783778309822,-0.087029211223125,0.040613342076540,-0.028054744005203,-0.056099295616150,0.298240423202515,-0.193763524293900,-0.014491235837340,-0.002814207458869,0.047340467572212,-0.122929818928242,-0.126707315444946,-0.097787477076054,0.025289332494140));
res += mul(Get(s0,dx,-dy), float4x4(-0.003204759210348,-0.035245936363935,0.038121476769447,0.005660963710397,0.002989613451064,0.058314673602581,0.061867311596870,-0.063375391066074,-0.099023565649986,-0.051268737763166,-0.029741564765573,0.032246883958578,-0.140298411250114,-0.013850680552423,0.136357069015503,-0.215021178126335));
res += mul(Get(s0,dx,0), float4x4(0.215571582317352,0.019211059436202,-0.081953465938568,0.136292889714241,-0.176696509122849,0.018755270168185,-0.057881567627192,-0.094718948006630,0.084158770740032,0.052445903420448,0.050019118934870,-0.146395295858383,-0.025776933878660,0.112769551575184,-0.243744015693665,-0.085534952580929));
res += mul(Get(s0,dx,dy), float4x4(0.152830451726913,-0.009666336700320,-0.152067810297012,0.136861249804497,0.050149619579315,-0.162281975150108,-0.166395306587219,0.016017083078623,0.078281380236149,0.043478600680828,0.117088556289673,0.003913679160178,-0.160067498683929,0.084541343152523,-0.194456949830055,-0.045994505286217));
res += mul(Get(s1,-dx,-dy), float4x4(0.215544104576111,0.056379411369562,0.060045681893826,-0.121538229286671,0.107605911791325,0.254572093486786,-0.029283111914992,0.076024472713470,-0.059860531240702,0.005090097896755,0.041092216968536,0.222105503082275,0.085705995559692,0.035840604454279,0.277985274791718,0.154985338449478));
res += mul(Get(s1,-dx,0), float4x4(-0.006117325276136,-0.191850975155830,0.148206397891045,0.115437999367714,0.100310161709785,0.066140666604042,-0.044022239744663,0.185273289680481,0.079217471182346,0.152974203228951,0.070468209683895,0.224887534976006,-0.110848136246204,0.087618909776211,-0.060214057564735,-0.027832299470901));
res += mul(Get(s1,-dx,dy), float4x4(-0.089943327009678,0.080330580472946,-0.145084038376808,-0.179838076233864,-0.051758062094450,-0.122696138918400,0.176577925682068,0.087857037782669,0.113313615322113,0.024983191862702,0.268169969320297,0.128282696008682,0.008185224607587,0.059751775115728,0.016797205433249,-0.050958998501301));
res += mul(Get(s1,0,-dy), float4x4(0.042387451976538,-0.222596645355225,-0.016978507861495,0.063685521483421,0.102438136935234,-0.013009014539421,-0.089289359748363,-0.106468535959721,0.108538329601288,0.000779495283496,0.089259162545204,0.199521437287331,0.060141522437334,0.238963201642036,-0.020422305911779,-0.045990169048309));
res += mul(Get(s1,0,0), float4x4(-0.032166149467230,0.089611761271954,0.047737766057253,-0.175879850983620,-0.136467665433884,0.064929977059364,-0.019626254215837,0.066469572484493,0.021874943748116,0.005159853957593,-0.085830397903919,0.046842694282532,0.134289383888245,0.144371271133423,0.258393704891205,0.028573105111718));
res += mul(Get(s1,0,dy), float4x4(-0.085627831518650,0.058574061840773,-0.077209077775478,-0.125343814492226,0.021608613431454,0.073241785168648,-0.028108781203628,0.088590092957020,-0.078611433506012,0.055503774434328,0.042709760367870,-0.164834886789322,0.095480903983116,-0.039061963558197,-0.062340743839741,0.061272423714399));
res += mul(Get(s1,dx,-dy), float4x4(0.028799328953028,-0.205264613032341,0.090251624584198,0.110875889658928,-0.134978875517845,0.022421382367611,0.053486917167902,-0.265213429927826,0.012163237668574,0.002916509052739,0.039699546992779,0.156632542610168,-0.082405529916286,-0.109915234148502,-0.009758658707142,-0.052776399999857));
res += mul(Get(s1,dx,0), float4x4(-0.097227394580841,0.106640100479126,0.156603097915649,0.071910582482815,-0.121726028621197,0.021309854462743,0.067764140665531,0.009007296524942,0.009904806502163,0.174195289611816,-0.158010542392731,0.057598110288382,-0.051913145929575,0.049839295446873,-0.155735984444618,0.190031871199608));
res += mul(Get(s1,dx,dy), float4x4(-0.173944458365440,-0.064218565821648,-0.232914105057716,-0.044487461447716,0.014254891313612,0.061833184212446,-0.042575098574162,-0.050766948610544,0.062609568238258,-0.104336000978947,-0.128226101398468,-0.001062958501279,0.123481787741184,0.064988806843758,0.103478014469147,-0.097593687474728));
res += mul(Get(s2,-dx,-dy), float4x4(0.257018506526947,-0.126406207680702,0.208491116762161,-0.174589335918427,0.049075126647949,-0.011703558266163,-0.048768371343613,0.197748780250549,0.021814431995153,0.162276938557625,0.092856161296368,-0.067799806594849,-0.017440687865019,-0.113569453358650,-0.228230535984039,-0.097961284220219));
res += mul(Get(s2,-dx,0), float4x4(-0.023900473490357,0.185101881623268,0.002031937707216,-0.095734126865864,-0.063449054956436,-0.018837880343199,-0.132380768656731,-0.257270663976669,-0.171215325593948,-0.031316842883825,0.206116959452629,-0.073495618999004,-0.006310552824289,0.060606334358454,-0.124088868498802,0.033029500395060));
res += mul(Get(s2,-dx,dy), float4x4(-0.101684242486954,0.086648195981979,0.084469415247440,-0.019417272880673,0.060528732836246,-0.034146100282669,0.024492446333170,0.028026124462485,-0.126992121338844,0.016070151701570,0.031080801039934,-0.011330436915159,-0.075050123035908,0.035562355071306,0.256233572959900,0.005714263301343));
res += mul(Get(s2,0,-dy), float4x4(-0.128519296646118,-0.067289993166924,0.240135788917542,0.088571019470692,0.078000091016293,0.082568757236004,0.062443248927593,0.110775135457516,-0.073232822120190,-0.075413748621941,-0.126769378781319,-0.087983027100563,0.041197210550308,-0.162718534469604,0.138358980417252,-0.073345251381397));
res += mul(Get(s2,0,0), float4x4(0.099935345351696,0.151306286454201,0.134537070989609,-0.072688661515713,-0.006169848144054,0.019677506759763,0.065875209867954,-0.023921830579638,0.214275062084198,-0.110529281198978,0.195267528295517,0.042653642594814,-0.064548842608929,0.072191253304482,-0.093580625951290,0.008869227021933));
res += mul(Get(s2,0,dy), float4x4(-0.085788190364838,-0.030716035515070,0.099752366542816,0.056812874972820,0.130127817392349,0.138025805354118,0.028302149847150,-0.217977315187454,-0.088119111955166,-0.013667940162122,-0.020013967528939,0.020756399258971,0.119563870131969,0.055946364998817,0.072507470846176,-0.056611381471157));
res += mul(Get(s2,dx,-dy), float4x4(0.196744695305824,0.011197040788829,0.161346226930618,-0.047371920198202,0.063138425350189,0.143693342804909,0.049527004361153,-0.038497593253851,-0.093321420252323,-0.047580681741238,-0.258685648441315,0.065057843923569,-0.140066385269165,-0.104276902973652,0.080292232334614,0.037027731537819));
res += mul(Get(s2,dx,0), float4x4(-0.118114337325096,-0.316474050283432,-0.170947641134262,-0.066434703767300,0.056250181049109,-0.009195283986628,0.060883883386850,0.017675612121820,0.163661509752274,0.190524801611900,0.063364088535309,-0.251617878675461,-0.182008475065231,0.030733468011022,-0.109940059483051,0.118425481021404));
res += mul(Get(s2,dx,dy), float4x4(-0.090500816702843,0.102598123252392,0.061339806765318,-0.041525464504957,-0.013080553151667,-0.053554993122816,0.207788378000259,-0.006403465289623,-0.011091819964349,0.023854954168200,0.104617334902287,0.128476768732071,-0.144088432192802,-0.140278443694115,-0.130937397480011,0.026198387145996));
res += mul(Get(s3,-dx,-dy), float4x4(0.060027945786715,0.164132848381996,-0.012270244769752,0.165722087025642,-0.065307185053825,0.014187356457114,-0.012831049971282,0.085968136787415,-0.049881841987371,0.093973465263844,0.034576695412397,0.050477933138609,0.120255649089813,0.033634956926107,0.143823385238647,0.141982764005661));
res += mul(Get(s3,-dx,0), float4x4(0.082471542060375,0.011879329569638,0.092056147754192,0.121570326387882,-0.164972007274628,0.138238683342934,0.068670623004436,0.092452839016914,0.124764889478683,-0.118875183165073,-0.038455836474895,-0.062234878540039,0.106276713311672,-0.092655763030052,-0.135870471596718,0.016587691381574));
res += mul(Get(s3,-dx,dy), float4x4(0.033670123666525,0.014143110252917,-0.030726155266166,-0.028848594054580,-0.134315490722656,0.012000248767436,-0.241394057869911,0.071692861616611,0.023860355839133,-0.018344117328525,-0.009640532545745,0.038235086947680,-0.100383542478085,0.120318852365017,-0.126418024301529,-0.094536036252975));
res += mul(Get(s3,0,-dy), float4x4(0.029017798602581,0.130971744656563,-0.097206629812717,-0.122848339378834,0.185941904783249,0.025154655799270,0.135205253958702,-0.092055737972260,0.247924253344536,0.014098132960498,0.052828479558229,-0.065136380493641,0.065062865614891,0.081861473619938,0.082334734499454,0.071691252291203));
res += mul(Get(s3,0,0), float4x4(-0.020579682663083,0.022948339581490,-0.115496680140495,-0.116741351783276,0.089180633425713,-0.062135063111782,0.061967767775059,-0.132454752922058,-0.003085656790063,0.189198434352875,-0.169388905167580,-0.292441844940186,0.032979451119900,-0.085407704114914,-0.031776744872332,-0.055944051593542));
res += mul(Get(s3,0,dy), float4x4(-0.019476881250739,0.025180101394653,-0.042751315981150,0.080406069755554,0.025968512520194,0.003792603733018,0.059108816087246,-0.115766055881977,-0.166037485003471,-0.034444760531187,0.055496014654636,-0.003213169518858,0.104808285832405,0.272792398929596,0.036895614117384,-0.130369946360588));
res += mul(Get(s3,dx,-dy), float4x4(0.000633374555036,-0.018372857943177,-0.055646702647209,-0.081895813345909,-0.004001779947430,-0.048243980854750,0.037497259676456,-0.173907786607742,-0.072445362806320,0.251872032880783,0.067677393555641,-0.131913125514984,0.068590633571148,0.148827448487282,0.068371333181858,0.105160266160965));
res += mul(Get(s3,dx,0), float4x4(-0.126073524355888,-0.091464921832085,0.062461785972118,-0.045758407562971,-0.133093640208244,0.025181397795677,-0.034835621714592,-0.085712574422359,-0.016622344031930,0.019062200561166,0.038193311542273,-0.014188612811267,0.106401503086090,-0.066876143217087,-0.076488152146339,0.086914420127869));
res += mul(Get(s3,dx,dy), float4x4(0.034149587154388,-0.220016852021217,0.038127001374960,0.210155859589577,0.014812885783613,-0.238191515207291,0.060950115323067,0.168907269835472,-0.057692099362612,-0.099193416535854,0.061896611005068,0.108784265816212,-0.015977164730430,0.212110951542854,-0.135789990425110,-0.221287876367569));
return max(float4(0,0,0,0), res);
}
