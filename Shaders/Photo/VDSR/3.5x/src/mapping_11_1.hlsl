sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.186048641800880,0.064422488212585,0.162121638655663,0.021958360448480,-0.049607645720243,-0.096756488084793,0.073759891092777,0.064584016799927,-0.170888379216194,-0.152183458209038,0.128240987658501,0.082739956676960,-0.103627480566502,-0.009467887692153,0.093226693570614,-0.050949372351170));
res += mul(Get(s0,-dx,0), float4x4(0.053379405289888,-0.032978128641844,0.047292008996010,-0.077382162213326,-0.006535132415593,-0.099644862115383,0.049583468586206,0.084320433437824,-0.047325998544693,-0.135625481605530,0.165309026837349,-0.145645469427109,-0.070012398064137,-0.011264477856457,0.028436563909054,-0.129044532775879));
res += mul(Get(s0,-dx,dy), float4x4(-0.010501052252948,-0.151161730289459,0.082878686487675,0.145042225718498,-0.131264731287956,-0.014797033742070,-0.070664703845978,0.078203290700912,-0.028801854699850,-0.118274621665478,-0.070622131228447,-0.202976062893867,0.009850069880486,0.099362760782242,0.003026286372915,-0.086790032684803));
res += mul(Get(s0,0,-dy), float4x4(0.000797741347924,-0.087530091404915,0.029379405081272,0.076013848185539,-0.199176788330078,-0.085939168930054,-0.151800587773323,-0.014788568019867,-0.093811698257923,0.050311621278524,0.083408206701279,0.117728725075722,-0.149740472435951,-0.074271582067013,-0.040496259927750,0.101648628711700));
res += mul(Get(s0,0,0), float4x4(-0.073309898376465,0.008094353601336,-0.049353115260601,0.059290323406458,0.009602903388441,-0.008211594074965,-0.054972160607576,-0.126282811164856,-0.049362275749445,-0.010620566084981,-0.119231529533863,0.146811351180077,-0.051695697009563,-0.157260730862617,-0.030574368312955,0.105580113828182));
res += mul(Get(s0,0,dy), float4x4(0.084948107600212,-0.061803687363863,-0.063026458024979,0.118740513920784,-0.091898120939732,-0.067074187099934,-0.142071947455406,-0.124849893152714,0.019204802811146,-0.112017139792442,0.048463642597198,-0.062912538647652,0.081330813467503,0.007902123965323,-0.108380816876888,-0.004396504722536));
res += mul(Get(s0,dx,-dy), float4x4(-0.042557902634144,0.000000626463645,0.110805504024029,-0.086212076246738,-0.120657071471214,-0.076152049005032,-0.011559107340872,0.112636156380177,-0.105644315481186,-0.060253240168095,0.120068974792957,-0.050231825560331,-0.123296126723289,0.029709519818425,0.075151197612286,0.008466007187963));
res += mul(Get(s0,dx,0), float4x4(-0.008235581219196,-0.021240996196866,0.017206501215696,-0.093440607190132,-0.026260981336236,0.045500297099352,-0.097862586379051,0.063590519130230,-0.023770242929459,-0.066074684262276,0.113500989973545,-0.021100163459778,-0.034263454377651,-0.008160707540810,-0.031405422836542,0.136602133512497));
res += mul(Get(s0,dx,dy), float4x4(0.055054359138012,-0.080974228680134,-0.076667726039886,-0.038849499076605,0.075528934597969,0.068285673856735,-0.107807844877243,0.150741070508957,0.227674320340157,0.064773410558701,-0.037338055670261,-0.054971892386675,-0.082841344177723,0.002440579468384,0.066194072365761,-0.005559503566474));
res += mul(Get(s1,-dx,-dy), float4x4(-0.020485872402787,0.127778381109238,-0.048212554305792,0.117071233689785,0.008179150521755,-0.122101441025734,-0.024529131129384,-0.089853793382645,-0.035022482275963,0.085182480514050,-0.026646019890904,0.048842739313841,-0.172073900699615,-0.069458015263081,0.165787398815155,-0.030637240037322));
res += mul(Get(s1,-dx,0), float4x4(-0.020595155656338,0.062461871653795,-0.094556875526905,0.128047391772270,-0.025164427235723,0.032566864043474,0.094159096479416,-0.072864539921284,0.064977347850800,0.104918412864208,0.044060144573450,0.094856031239033,-0.031130783259869,0.004862245172262,0.042855221778154,-0.147454455494881));
res += mul(Get(s1,-dx,dy), float4x4(-0.026393407955766,0.116722583770752,-0.060984801501036,0.168109774589539,-0.035008873790503,-0.063240081071854,0.040257595479488,-0.065130166709423,0.007142782211304,-0.018200399354100,0.185008928179741,0.090238370001316,0.317851692438126,-0.073453024029732,0.065156184136868,-0.138158813118935));
res += mul(Get(s1,0,-dy), float4x4(0.023431750014424,-0.023472908884287,0.008723659440875,0.021698253229260,0.056805521249771,-0.016795253381133,0.013742203824222,0.045556437224150,0.051594335585833,-0.065203189849854,0.056837558746338,-0.036423534154892,-0.031074736267328,-0.024985847994685,0.013117060996592,0.061535976827145));
res += mul(Get(s1,0,0), float4x4(-0.056565415114164,-0.061781801283360,0.082831189036369,0.016739916056395,0.086674660444260,0.040713053196669,-0.044537346810102,0.099460542201996,0.232251495122910,0.053223319351673,0.006186029408127,-0.032475721091032,-0.053136393427849,-0.125278905034065,-0.047927170991898,-0.017555149272084));
res += mul(Get(s1,0,dy), float4x4(-0.040013957768679,-0.052861530333757,0.088863633573055,0.011435451917350,-0.006479553878307,-0.006011009216309,-0.075664326548576,0.040594317018986,0.045545693486929,-0.025335837155581,-0.072711832821369,-0.008179960772395,0.037463013082743,0.017952164635062,-0.061289101839066,-0.005407271441072));
res += mul(Get(s1,dx,-dy), float4x4(-0.067492596805096,0.079559773206711,-0.010582726448774,-0.093282155692577,-0.022001767531037,-0.000799922738224,-0.041934948414564,0.041740611195564,0.100808896124363,-0.119536615908146,-0.022560756653547,0.149567991495132,-0.065953634679317,0.079301096498966,0.025391465052962,0.098212316632271));
res += mul(Get(s1,dx,0), float4x4(-0.028007043525577,0.070108495652676,-0.024262618273497,-0.075299531221390,0.075331963598728,0.091079041361809,-0.073223374783993,-0.027740478515625,-0.008038681931794,-0.031283333897591,-0.061708711087704,0.049525860697031,0.095029033720493,0.188434422016144,-0.115404538810253,0.026259303092957));
res += mul(Get(s1,dx,dy), float4x4(0.061091620475054,-0.043340943753719,0.022425774484873,-0.100173011422157,0.106791093945503,0.034764394164085,-0.112568788230419,-0.012943733483553,-0.042842358350754,0.016943655908108,-0.136405900120735,-0.007199922576547,0.065398350358009,-0.075868085026741,-0.120690412819386,-0.007284614257514));
res += mul(Get(s2,-dx,-dy), float4x4(0.004483844619244,0.046871952712536,0.033715523779392,-0.101801611483097,0.187077373266220,-0.016770524904132,0.004651687107980,0.015657110139728,-0.061559002846479,-0.023821536451578,-0.069381237030029,-0.008010008372366,-0.061260230839252,0.063939675688744,0.145522505044937,-0.039223611354828));
res += mul(Get(s2,-dx,0), float4x4(-0.129806593060493,0.179915174841881,-0.074009016156197,0.004540296737105,0.054474499076605,0.016693376004696,-0.050532512366772,-0.049433629959822,0.042750455439091,-0.021634634584188,-0.037193711847067,-0.066099040210247,-0.032913073897362,0.191051632165909,-0.030570119619370,0.057156622409821));
res += mul(Get(s2,-dx,dy), float4x4(-0.077908493578434,0.039670776575804,-0.086329378187656,-0.097103580832481,-0.007550414651632,-0.035447224974632,-0.211930021643639,0.013334908522666,-0.045117393136024,-0.134096339344978,0.027631899341941,-0.066862285137177,0.017053399235010,0.145272359251976,-0.077125243842602,-0.014135433360934));
res += mul(Get(s2,0,-dy), float4x4(0.072764411568642,0.031100397929549,0.048703704029322,0.124101668596268,0.130939230322838,0.043048892170191,0.041535083204508,0.072648763656616,-0.005368826445192,-0.015177845023572,-0.112456247210503,0.056615058332682,0.025226691737771,0.048366203904152,0.059838946908712,0.038365222513676));
res += mul(Get(s2,0,0), float4x4(0.041264262050390,-0.037017438560724,-0.000407809304306,0.106284156441689,-0.028607813641429,-0.014813971705735,0.115763761103153,0.007465466391295,-0.018766585737467,-0.000882477383129,0.046445623040199,-0.032591711729765,0.028115078806877,0.129087060689926,-0.030998993664980,-0.038316223770380));
res += mul(Get(s2,0,dy), float4x4(-0.087641179561615,-0.032298870384693,-0.092907316982746,0.027266703546047,0.040468335151672,-0.051249463111162,-0.059042699635029,0.059607304632664,-0.041646387428045,-0.001935167354532,-0.022884136065841,-0.045301411300898,0.040562056005001,0.007660604547709,0.012811091728508,0.050018720328808));
res += mul(Get(s2,dx,-dy), float4x4(0.177594274282455,0.030146144330502,-0.027373740449548,0.134679377079010,0.010955168865621,-0.148306459188461,-0.091693475842476,0.038089703768492,0.039823640137911,0.026325218379498,-0.147459283471107,0.059030581265688,0.060997806489468,0.039555847644806,-0.043052550405264,0.040394905954599));
res += mul(Get(s2,dx,0), float4x4(0.027255810797215,-0.009030565619469,-0.014984599314630,0.182951539754868,0.101047910749912,-0.066027030348778,-0.059611305594444,-0.036078263074160,-0.096182659268379,0.070050418376923,-0.117575787007809,0.107515759766102,0.099837489426136,0.130643352866173,-0.091837093234062,-0.043123219162226));
res += mul(Get(s2,dx,dy), float4x4(-0.158110052347183,0.119388908147812,-0.064170554280281,0.188550084829330,0.017913978546858,-0.119318991899490,0.136237874627113,-0.068597368896008,0.020652264356613,0.052093666046858,0.124769292771816,-0.005323582328856,-0.074631080031395,-0.032487723976374,-0.078500896692276,-0.053422719240189));
res += mul(Get(s3,-dx,-dy), float4x4(-0.056835096329451,-0.177257508039474,-0.000862260116264,-0.233187377452850,-0.088034957647324,-0.067224599421024,0.126779228448868,0.125788673758507,0.177918106317520,-0.130402788519859,0.030641010031104,0.029597269371152,0.113305456936359,0.011998839676380,-0.017518633976579,-0.038410224020481));
res += mul(Get(s3,-dx,0), float4x4(0.027993626892567,-0.175913721323013,0.003061849158257,-0.059301298111677,0.130622968077660,0.164004862308502,0.011388576589525,0.093136787414551,-0.192396417260170,-0.109171740710735,0.244003832340240,0.001532639260404,0.186030939221382,-0.018068458884954,-0.043429579585791,0.000777122972067));
res += mul(Get(s3,-dx,dy), float4x4(0.002021089661866,-0.085888169705868,0.022613894194365,-0.065426141023636,-0.053094822913408,0.204070642590523,-0.014259045943618,0.068825148046017,-0.127843335270882,-0.231418848037720,0.047824304550886,-0.227956071496010,0.001209515146911,-0.084793575108051,0.007188036106527,-0.043337658047676));
res += mul(Get(s3,0,-dy), float4x4(0.022517023608088,0.060449790209532,-0.012232271023095,-0.117205016314983,-0.019812574610114,-0.016249062493443,0.123294591903687,0.054330278187990,-0.020437924191356,-0.100644551217556,0.023332435637712,0.017984624952078,-0.012889715842903,0.043268404901028,-0.102306030690670,0.054908864200115));
res += mul(Get(s3,0,0), float4x4(-0.053407423198223,0.029945792630315,0.052456989884377,-0.029174264520407,0.051390714943409,0.033840168267488,-0.001336633577012,-0.042548641562462,0.175065383315086,-0.031820714473724,-0.036103419959545,0.061021931469440,0.051839306950569,0.068785868585110,-0.066867820918560,0.007886961102486));
res += mul(Get(s3,0,dy), float4x4(0.062474437057972,-0.011794260703027,0.014518396928906,0.043928410857916,-0.190850615501404,-0.040003050118685,-0.126669898629189,-0.132588550448418,-0.144776389002800,-0.094092041254044,0.145089879631996,-0.076091513037682,0.157869413495064,-0.020672939717770,-0.050749912858009,-0.041382163763046));
res += mul(Get(s3,dx,-dy), float4x4(0.026358420029283,0.210934489965439,-0.013136992231011,-0.007344627287239,-0.156270429491997,-0.049494620412588,0.030092017725110,0.019283995032310,-0.022149574011564,0.277218580245972,-0.174806922674179,-0.056096397340298,0.071849390864372,-0.050658002495766,-0.119106762111187,0.075893230736256));
res += mul(Get(s3,dx,0), float4x4(-0.049410276114941,0.007579052355140,0.142808914184570,-0.075146973133087,0.041583817452192,-0.018076682463288,0.222663000226021,0.166053205728531,0.045042779296637,0.172065839171410,-0.138059660792351,-0.018898364156485,0.022107977420092,0.128190219402313,0.003607660997659,0.034764356911182));
res += mul(Get(s3,dx,dy), float4x4(0.048063267022371,0.062396552413702,0.089678041636944,-0.154135122895241,-0.038102369755507,-0.091385260224342,-0.167987033724785,0.010440513491631,0.044362228363752,0.087786473333836,-0.081781126558781,0.048665340989828,0.077557869255543,0.132603436708450,0.090625531971455,-0.041360564529896));
return max(float4(0,0,0,0), res);
}
