sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.113749787211418,0.111547626554966,-0.005953062325716,0.111769676208496,-0.008917538449168,-0.128535181283951,-0.073090307414532,-0.090691886842251,0.049941468983889,-0.021586721763015,-0.107926614582539,-0.113760031759739,-0.002064691856503,0.001196688739583,-0.023165889084339,0.032694883644581));
res += mul(Get(s0,-dx,0), float4x4(0.053968138992786,0.117491602897644,-0.054797701537609,0.167960688471794,0.030067823827267,-0.029195677489042,0.130415514111519,-0.210291460156441,0.051948942244053,-0.013970776461065,-0.010631425306201,0.093534491956234,-0.114504761993885,0.023567512631416,-0.016172174364328,-0.229084089398384));
res += mul(Get(s0,-dx,dy), float4x4(0.018359582871199,-0.045498650521040,-0.227886319160461,-0.072538487613201,0.108978375792503,-0.065842837095261,0.192718982696533,-0.083042509853840,0.132112354040146,0.009713692590594,-0.032317731529474,0.261365413665771,-0.065202407538891,-0.079943142831326,0.085363648831844,0.032746262848377));
res += mul(Get(s0,0,-dy), float4x4(0.146249368786812,-0.080472581088543,0.066426962614059,-0.065849900245667,0.007608567364514,-0.122024685144424,-0.108768165111542,-0.031451024115086,0.072096854448318,-0.046299524605274,-0.044567272067070,-0.016514396294951,-0.015256154350936,-0.071813814342022,0.093077123165131,-0.200047060847282));
res += mul(Get(s0,0,0), float4x4(0.190333157777786,0.009560802951455,0.021510669961572,0.118211627006531,-0.041990537196398,-0.067425705492496,-0.152325004339218,0.073449678719044,0.083834081888199,-0.002952431794256,-0.162128597497940,-0.091090604662895,-0.014117353595793,-0.170811235904694,-0.002868141513318,-0.065247066318989));
res += mul(Get(s0,0,dy), float4x4(-0.011422353796661,0.021098967641592,-0.337604701519012,0.072924651205540,-0.034268219023943,-0.055546514689922,0.097995638847351,-0.048172608017921,0.023222990334034,-0.259562194347382,0.001695371349342,-0.065700918436050,-0.137707620859146,0.058768235146999,0.021957555785775,-0.004003353882581));
res += mul(Get(s0,dx,-dy), float4x4(-0.054239451885223,0.055799938738346,0.121402084827423,0.162478461861610,-0.185626327991486,-0.195878759026527,0.091146498918533,-0.002565398579463,-0.050349716097116,-0.136707127094269,-0.060496393591166,0.030159860849380,-0.159144893288612,0.154766246676445,0.018171517178416,-0.156718567013741));
res += mul(Get(s0,dx,0), float4x4(0.064823672175407,-0.070034325122833,-0.080674439668655,0.129418358206749,0.000003901180662,0.020715309306979,-0.051683094352484,0.019412769004703,-0.078877761960030,-0.110930114984512,0.106168456375599,0.101894773542881,-0.096990302205086,0.048899352550507,-0.123749926686287,-0.108368501067162));
res += mul(Get(s0,dx,dy), float4x4(-0.039036795496941,0.084801942110062,-0.131676018238068,-0.122836396098137,0.074426807463169,0.040068052709103,-0.177859038114548,-0.091664277017117,-0.109905578196049,0.119721770286560,0.029640208929777,0.069834768772125,-0.025125578045845,0.072894327342510,0.060686793178320,0.280880600214005));
res += mul(Get(s1,-dx,-dy), float4x4(0.008346318267286,-0.076148442924023,-0.123688802123070,0.032355207949877,-0.007306472398341,0.156662538647652,0.173937037587166,-0.180441915988922,0.071738988161087,-0.077754445374012,0.074592091143131,-0.038300592452288,0.059595521539450,-0.127452343702316,0.207298755645752,0.177996248006821));
res += mul(Get(s1,-dx,0), float4x4(-0.074331559240818,-0.181383833289146,-0.061699785292149,0.132292717695236,0.051870629191399,-0.084599018096924,-0.191116556525230,-0.093044683337212,-0.032863903790712,-0.007567402906716,0.106728889048100,-0.010192940942943,-0.136052384972572,-0.060345266014338,-0.007756934501231,-0.088916078209877));
res += mul(Get(s1,-dx,dy), float4x4(0.169650360941887,0.132822483778000,0.009303359314799,-0.217917665839195,0.122127547860146,-0.038428273051977,0.058962389826775,0.020597493276000,-0.168299764394760,0.059047035872936,0.092398412525654,-0.002179654082283,-0.151077955961227,0.013184160925448,0.103592790663242,0.152071684598923));
res += mul(Get(s1,0,-dy), float4x4(0.086901918053627,-0.042151696980000,-0.039468903094530,0.135454729199409,-0.110678911209106,-0.094424046576023,0.038727574050426,0.144431471824646,-0.183840841054916,-0.075553044676781,-0.008277490735054,-0.101498030126095,0.031697850674391,0.075292252004147,-0.285793960094452,0.053190685808659));
res += mul(Get(s1,0,0), float4x4(-0.034589447081089,-0.147340267896652,0.104737557470798,-0.237463489174843,0.053354922682047,0.077533878386021,0.041489023715258,0.020344609394670,0.047692533582449,0.082650624215603,-0.219628721475601,0.093245118856430,0.289187580347061,-0.026438513770700,-0.158166646957397,-0.180459290742874));
res += mul(Get(s1,0,dy), float4x4(0.039212036877871,-0.118529982864857,-0.195942580699921,-0.081721864640713,-0.169501975178719,-0.105276361107826,0.104136943817139,0.054841689765453,0.020137352868915,-0.057194922119379,0.107305698096752,0.017376217991114,0.277295082807541,-0.119561851024628,0.218228414654732,-0.082557916641235));
res += mul(Get(s1,dx,-dy), float4x4(-0.050715528428555,-0.026590222492814,-0.074760980904102,0.083135813474655,-0.077682510018349,0.055586576461792,-0.087066315114498,0.026698660105467,-0.107030041515827,0.141821533441544,-0.050717353820801,-0.114591531455517,0.003110544057563,0.003463273635134,0.070907562971115,-0.088625088334084));
res += mul(Get(s1,dx,0), float4x4(0.193616077303886,-0.009778096340597,0.195187747478485,0.163006633520126,0.156771913170815,0.062481850385666,-0.079422183334827,0.030691059306264,-0.148505836725235,0.106830447912216,0.094687998294830,-0.046261653304100,-0.061072390526533,-0.048284277319908,-0.036864671856165,0.131416290998459));
res += mul(Get(s1,dx,dy), float4x4(-0.148689463734627,-0.033313084393740,-0.177772328257561,-0.121022380888462,0.248155713081360,0.017991771921515,0.185815632343292,0.063546903431416,-0.100962936878204,0.064412191510201,-0.008128960616887,0.098083950579166,0.107162922620773,-0.056431118398905,0.211621686816216,0.083607040345669));
res += mul(Get(s2,-dx,-dy), float4x4(0.070966370403767,0.091983608901501,0.020179904997349,0.147212043404579,-0.056830879300833,0.152324542403221,-0.003342856885865,-0.021343518048525,-0.093756504356861,0.016362138092518,0.076410926878452,-0.029088338837028,-0.014227706938982,-0.130632072687149,0.139495804905891,0.295283943414688));
res += mul(Get(s2,-dx,0), float4x4(-0.068924345076084,-0.021719831973314,-0.053383007645607,0.065496154129505,-0.008810241706669,-0.071169957518578,-0.112620405852795,-0.023447506129742,-0.184582307934761,0.075344659388065,0.075322814285755,-0.147415578365326,-0.042140614241362,-0.135343939065933,-0.024638907983899,0.014075181446970));
res += mul(Get(s2,-dx,dy), float4x4(-0.019322901964188,0.133456841111183,0.029969619587064,0.081220306456089,0.061698675155640,-0.043594378978014,0.001722698798403,-0.097711846232414,0.084317706525326,-0.102511875331402,0.049726590514183,0.105141937732697,-0.171111881732941,0.036109022796154,-0.279717057943344,0.066759146749973));
res += mul(Get(s2,0,-dy), float4x4(-0.030797552317381,-0.044597525149584,-0.035338133573532,-0.160785689949989,0.046924855560064,-0.119002349674702,-0.005990473087877,0.027351865544915,0.045904435217381,0.012376358732581,-0.025658721104264,-0.006837642751634,0.116601325571537,0.163326874375343,0.058560363948345,0.062820754945278));
res += mul(Get(s2,0,0), float4x4(-0.043214671313763,-0.034826885908842,-0.051382306963205,0.174910783767700,-0.245493203401566,-0.230615705251694,0.035247933119535,-0.026296962052584,0.132445320487022,-0.070185750722885,-0.012541078962386,-0.008904566988349,-0.067425966262817,0.017123399302363,-0.063542179763317,-0.131818622350693));
res += mul(Get(s2,0,dy), float4x4(-0.036894477903843,0.022472325712442,0.005528692156076,-0.055968124419451,0.002837536623701,-0.048978079110384,-0.112276911735535,-0.093021005392075,-0.133419901132584,0.093110710382462,-0.092887684702873,0.168336987495422,-0.133959576487541,-0.062115702778101,-0.131942227482796,0.155720874667168));
res += mul(Get(s2,dx,-dy), float4x4(-0.140219479799271,0.067731074988842,0.003691188059747,0.033917058259249,-0.045457899570465,0.010492436587811,0.021473864093423,0.014029977843165,-0.143200397491455,0.031866010278463,-0.226037383079529,0.133635491132736,-0.072227142751217,0.035393700003624,0.028891813009977,-0.194461137056351));
res += mul(Get(s2,dx,0), float4x4(-0.026339167729020,-0.065417580306530,-0.137599781155586,-0.007302616722882,0.171299427747726,-0.082538127899170,0.067142702639103,0.105058163404465,0.062500081956387,0.093204446136951,-0.135620832443237,0.190015882253647,-0.037078641355038,-0.081423662602901,-0.156935453414917,-0.278246790170670));
res += mul(Get(s2,dx,dy), float4x4(-0.039613716304302,-0.087469458580017,0.059140861034393,0.065281003713608,0.123950332403183,-0.121565721929073,-0.095817528665066,-0.030659299343824,-0.118911728262901,0.111253894865513,-0.054292351007462,-0.041664414107800,0.093736790120602,0.093883834779263,0.043748717755079,0.020131416618824));
res += mul(Get(s3,-dx,-dy), float4x4(0.134223997592926,0.023753555491567,0.221841990947723,-0.011985580436885,0.167635411024094,-0.162000492215157,-0.068024143576622,-0.052018065005541,-0.055268980562687,-0.184321731328964,-0.075191818177700,-0.096416935324669,0.288189411163330,0.073979467153549,0.030753796920180,-0.041400555521250));
res += mul(Get(s3,-dx,0), float4x4(-0.041155643761158,0.252760916948318,-0.053433306515217,0.067778751254082,0.057926192879677,0.056790724396706,-0.037750519812107,-0.106159292161465,0.035633973777294,0.119002871215343,0.153385519981384,0.001938294619322,0.006727839354426,-0.010168156586587,-0.113445945084095,0.166703179478645));
res += mul(Get(s3,-dx,dy), float4x4(-0.133458748459816,0.093224279582500,-0.149906575679779,0.118177138268948,-0.089609935879707,0.040030609816313,-0.341781616210938,-0.023881524801254,0.064605586230755,0.229081377387047,0.096942447125912,0.080265715718269,-0.117847949266434,-0.089257143437862,0.311707019805908,-0.054790858179331));
res += mul(Get(s3,0,-dy), float4x4(-0.144533067941666,0.040509629994631,-0.109937563538551,-0.129291251301765,0.149521768093109,-0.024253211915493,0.051985345780849,0.040578395128250,-0.191518247127533,0.029600774869323,0.143751725554466,-0.029966160655022,-0.017712879925966,0.174175798892975,0.044202558696270,-0.055705290287733));
res += mul(Get(s3,0,0), float4x4(-0.105558291077614,-0.097070977091789,-0.055440377444029,-0.171029016375542,-0.029505539685488,0.013612057082355,-0.293345987796783,0.295111149549484,0.059072270989418,-0.309707403182983,-0.232927769422531,-0.046787217259407,0.074564985930920,-0.096899136900902,0.003461850574240,0.055944137275219));
res += mul(Get(s3,0,dy), float4x4(0.033353038132191,0.201254680752754,0.023814139887691,0.071784831583500,-0.029732841998339,0.073381341993809,0.137066319584846,-0.282807379961014,0.021949436515570,-0.098879799246788,0.014112581498921,-0.104238331317902,-0.123908802866936,0.049032438546419,0.018198626115918,-0.132775947451591));
res += mul(Get(s3,dx,-dy), float4x4(0.135862112045288,-0.071684077382088,-0.109922997653484,-0.047175269573927,0.138834029436111,0.049027025699615,0.142572447657585,0.086168318986893,-0.052776362746954,0.165840163826942,0.045163847506046,0.025325454771519,-0.171003192663193,-0.034107252955437,0.192459031939507,0.051075670868158));
res += mul(Get(s3,dx,0), float4x4(-0.157292455434799,0.143534809350967,-0.068665996193886,-0.036087092012167,0.055436499416828,-0.063973583281040,0.065388254821301,-0.074123941361904,0.112966373562813,-0.024339657276869,0.035944081842899,0.199927851557732,-0.137833863496780,-0.184246778488159,-0.210752412676811,0.026879616081715));
res += mul(Get(s3,dx,dy), float4x4(-0.077380247414112,0.099477611482143,0.005167237948626,-0.181458488106728,0.255323320627213,-0.112136289477348,0.025404270738363,-0.041514750570059,0.098750256001949,-0.098192170262337,-0.047438044101000,0.298363626003265,0.009092152118683,0.044642072170973,0.024977436289191,-0.178396239876747));
return max(float4(0,0,0,0), res);
}
