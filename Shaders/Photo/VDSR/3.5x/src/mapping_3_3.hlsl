sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.063633270561695,0.109680891036987,-0.057790115475655,-0.037991348654032,-0.013244161382318,0.016119871288538,0.027160180732608,-0.049127019941807,-0.088228411972523,-0.069671235978603,-0.128910720348358,-0.099758587777615,-0.078313402831554,0.110290855169296,0.163079813122749,-0.000649512629025));
res += mul(Get(s0,-dx,0), float4x4(-0.043822690844536,-0.057173255831003,-0.058632221072912,-0.020831817761064,0.020938390865922,0.029597425833344,0.044345732778311,-0.041397970169783,-0.066477410495281,0.008721482940018,-0.028797399252653,-0.030739527195692,0.104996539652348,0.125255331397057,0.076217062771320,-0.021408651024103));
res += mul(Get(s0,-dx,dy), float4x4(0.021252356469631,-0.151412755250931,-0.032360985875130,-0.007005374878645,-0.002102189930156,-0.092552438378334,0.057231169193983,-0.032855141907930,-0.059172552078962,0.007776442449540,0.014225406572223,-0.066270500421524,0.045972056686878,0.084021307528019,0.019944874569774,-0.230882003903389));
res += mul(Get(s0,0,-dy), float4x4(0.132158666849136,0.032574504613876,-0.101053372025490,-0.117146551609039,-0.022122936323285,0.059697944670916,0.068954870104790,-0.030237765982747,-0.042458776384592,0.101973623037338,-0.148462429642677,-0.136873587965965,-0.125275894999504,-0.019658261910081,-0.173384740948677,0.046544354408979));
res += mul(Get(s0,0,0), float4x4(0.018655814230442,-0.151468321681023,-0.111432097852230,-0.077047802507877,-0.007558052428067,0.013066063635051,0.032277625054121,-0.026035532355309,0.028118597343564,0.118726454675198,-0.068174593150616,-0.105217203497887,0.077761352062225,-0.169842764735222,0.054559499025345,0.147737622261047));
res += mul(Get(s0,0,dy), float4x4(-0.023373525589705,-0.021620936691761,-0.004890626296401,-0.067919880151749,-0.010812809690833,-0.071182131767273,0.032819077372551,-0.029455861076713,0.038427870720625,-0.010641125962138,0.092230901122093,0.103553764522076,-0.044509630650282,0.034103516489267,0.152075067162514,-0.165313139557838));
res += mul(Get(s0,dx,-dy), float4x4(0.110902138054371,0.155623763799667,0.006761686410755,-0.040093004703522,-0.001728577655740,-0.028008831664920,0.036889269948006,-0.060783162713051,-0.040397230535746,-0.135637372732162,0.166181311011314,-0.072383284568787,-0.162100449204445,0.046243797987700,-0.158766433596611,-0.013302492909133));
res += mul(Get(s0,dx,0), float4x4(-0.021578308194876,-0.018730180338025,0.082635179162025,-0.103136345744133,0.001063189236447,-0.067720495164394,0.009016601368785,-0.038833994418383,-0.015394073911011,0.007048624567688,0.160423383116722,-0.130655467510223,0.063470780849457,-0.131561592221260,0.114002406597137,0.110137417912483));
res += mul(Get(s0,dx,dy), float4x4(-0.014789751730859,0.051494363695383,-0.041281964629889,-0.139651551842690,0.003024475881830,-0.075992695987225,0.043918218463659,-0.032425701618195,0.046864941716194,0.036449875682592,0.100492708384991,0.132744461297989,-0.015504439361393,0.177515357732773,0.208673030138016,-0.015272013843060));
res += mul(Get(s1,-dx,-dy), float4x4(-0.161050811409950,-0.031937308609486,0.102969251573086,0.115423873066902,-0.044229779392481,-0.020874593406916,0.266782283782959,0.018132939934731,0.027455206960440,0.080480188131332,0.034038841724396,-0.002276239218190,-0.056594993919134,-0.002593638841063,-0.034806303679943,0.047997970134020));
res += mul(Get(s1,-dx,0), float4x4(-0.028458252549171,0.029972035437822,-0.061663355678320,0.061640076339245,0.000104899656435,0.177420318126678,0.076722189784050,0.106277473270893,-0.053805321455002,-0.112788014113903,-0.022422404959798,-0.054784979671240,-0.029442420229316,-0.097846455872059,-0.082197964191437,0.125176399946213));
res += mul(Get(s1,-dx,dy), float4x4(0.117966718971729,-0.115590117871761,0.111661702394485,0.190661385655403,-0.083673030138016,0.057137429714203,-0.083080194890499,0.033701017498970,-0.020439215004444,-0.116919569671154,0.011007946915925,-0.022617874667048,-0.006304825656116,0.015377568081021,-0.020842297002673,-0.119005337357521));
res += mul(Get(s1,0,-dy), float4x4(-0.184083998203278,-0.008965482003987,-0.009004457853734,-0.000464770389954,0.025500068441033,0.400502175092697,0.006689211353660,-0.032506871968508,0.032010525465012,-0.015399025753140,0.006539833266288,0.009321161545813,-0.015356198884547,-0.144866645336151,-0.155805811285973,-0.010525413788855));
res += mul(Get(s1,0,0), float4x4(0.005673732608557,-0.078985258936882,-0.081326544284821,-0.040408242493868,-0.013287110254169,0.058045037090778,-0.128287091851234,0.085316173732281,0.022990992292762,-0.032297093421221,0.019824970513582,-0.043264392763376,0.091101303696632,-0.114424616098404,-0.060518134385347,0.163822919130325));
res += mul(Get(s1,0,dy), float4x4(0.445085406303406,-0.000552442856133,0.137837633490562,0.169890359044075,-0.043093971908092,-0.047095559537411,-0.111166387796402,0.027115972712636,0.050063788890839,-0.009743301197886,0.024935230612755,0.002195648383349,0.083478868007660,0.040630187839270,0.049975011497736,-0.010494770482183));
res += mul(Get(s1,dx,-dy), float4x4(-0.211844578385353,0.142998799681664,-0.067772045731544,-0.057365696877241,0.055372148752213,-0.016715569421649,-0.028009297326207,-0.028068955987692,-0.000713492743671,0.079534731805325,-0.011497952044010,-0.088330745697021,-0.064766004681587,-0.195148617029190,-0.226231619715691,-0.098184399306774));
res += mul(Get(s1,dx,0), float4x4(-0.039708077907562,0.041850544512272,-0.045961096882820,-0.118629120290279,-0.025872102007270,-0.183638542890549,-0.055422861129045,0.051107775419950,0.074809335172176,0.037963036447763,0.130259171128273,-0.066485457122326,0.138143017888069,0.030869314447045,0.124740399420261,0.136765450239182));
res += mul(Get(s1,dx,dy), float4x4(0.046172242611647,0.010677054524422,0.108799077570438,0.081857748329639,-0.041231803596020,0.024828918278217,0.049374639987946,-0.012037375941873,0.096990525722504,-0.002267037052661,-0.016899887472391,-0.038756027817726,0.015063260681927,-0.013069143518806,0.087195932865143,0.086299233138561));
res += mul(Get(s2,-dx,-dy), float4x4(0.006892926059663,-0.084087595343590,-0.093299530446529,0.002253937534988,-0.030365467071533,0.044954109936953,-0.028056126087904,-0.072529695928097,-0.036269634962082,0.032562233507633,-0.077020622789860,-0.058447625488043,-0.027239969000220,0.061503130942583,0.086244337260723,-0.043280299752951));
res += mul(Get(s2,-dx,0), float4x4(-0.079862095415592,0.039601594209671,-0.061848916113377,-0.021379403769970,-0.021544419229031,-0.049694471061230,-0.059028439223766,0.016412079334259,0.080732181668282,-0.014613628387451,-0.129110112786293,-0.042770821601152,-0.043866734951735,0.039076674729586,0.051179468631744,-0.091836892068386));
res += mul(Get(s2,-dx,dy), float4x4(-0.012377893552184,0.132178962230682,0.016455871984363,-0.079706341028214,-0.004149648360908,-0.084939621388912,-0.055771384388208,0.044096603989601,0.053626373410225,0.020772032439709,-0.122416712343693,-0.048218023031950,0.032783597707748,0.016315184533596,-0.027714120224118,0.004875720012933));
res += mul(Get(s2,0,-dy), float4x4(-0.028314922004938,-0.161666885018349,-0.030733235180378,-0.042666297405958,0.007730243261904,0.140502572059631,0.036548849195242,0.000335750606610,-0.035285323858261,0.071356803178787,-0.043277446180582,-0.012881312519312,-0.051873851567507,0.008546611294150,0.073645956814289,0.067684940993786));
res += mul(Get(s2,0,0), float4x4(-0.056393627077341,-0.044693682342768,-0.054721754044294,-0.072991758584976,-0.021192042157054,-0.007975276559591,-0.082304157316685,-0.009785966016352,0.088623516261578,0.027347557246685,-0.063312068581581,-0.042795605957508,-0.095689877867699,-0.094896934926510,-0.042150355875492,0.038464512676001));
res += mul(Get(s2,0,dy), float4x4(0.066281795501709,-0.091630890965462,-0.025768369436264,-0.076666161417961,-0.003875209949911,0.046298980712891,-0.028410850092769,0.046902768313885,0.185690760612488,0.123361341655254,-0.064101114869118,-0.003392237471417,0.092344768345356,-0.013773354701698,-0.042778588831425,0.011684465222061));
res += mul(Get(s2,dx,-dy), float4x4(-0.063865877687931,0.071755789220333,0.071199133992195,-0.075706690549850,0.027806375175714,-0.035040281713009,-0.230992183089256,-0.027514249086380,-0.113564878702164,-0.019559826701880,-0.088160805404186,0.047957200556993,0.068516060709953,0.052692085504532,0.058414362370968,0.108884222805500));
res += mul(Get(s2,dx,0), float4x4(-0.034849461168051,0.252769827842712,0.247914046049118,-0.039518903940916,-0.015425012446940,-0.070147134363651,-0.073188632726669,-0.055403385311365,0.012133666314185,0.021333765238523,-0.049416504800320,0.008262490853667,-0.050040449947119,-0.033161439001560,-0.011209241114557,0.086973048746586));
res += mul(Get(s2,dx,dy), float4x4(-0.035746276378632,0.139028742909431,0.201114058494568,-0.049195162951946,-0.020640885457397,0.008851500228047,-0.038604188710451,-0.030826022848487,0.169142529368401,0.061070058494806,0.076869077980518,0.039653018116951,0.093688689172268,0.052415300160646,0.058679778128862,-0.021230926737189));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051986850798130,-0.044658727943897,-0.052868016064167,-0.061882283538580,-0.148339152336121,0.491647094488144,-0.225863933563232,0.022413972765207,0.009448688477278,-0.088648527860641,0.112481385469437,-0.019250182434916,-0.024486439302564,-0.129316434264183,-0.121047668159008,0.104149796068668));
res += mul(Get(s3,-dx,0), float4x4(-0.061989832669497,0.018642179667950,0.029756098985672,-0.079995803534985,0.005084776319563,0.238648951053619,-0.154185727238655,0.157560765743256,-0.067516982555389,0.006802379153669,-0.103074133396149,-0.047518491744995,0.005215894430876,-0.024381088092923,0.001590110012330,0.290836811065674));
res += mul(Get(s3,-dx,dy), float4x4(0.030496766790748,0.046061217784882,-0.011549158021808,-0.061488293111324,0.056790176779032,0.120361290872097,-0.196673467755318,-0.020174114033580,-0.001088066142984,-0.063380941748619,-0.080500513315201,0.145865142345428,-0.034607589244843,-0.146930932998657,0.007074272725731,0.160800665616989));
res += mul(Get(s3,0,-dy), float4x4(0.007677657995373,-0.093015335500240,0.054830644279718,-0.011705933138728,-0.096132539212704,-0.140703201293945,0.022550664842129,-0.033293001353741,0.035369362682104,0.069411270320415,0.245592072606087,0.129835575819016,-0.068735070526600,0.059663590043783,-0.093908131122589,-0.079240098595619));
res += mul(Get(s3,0,0), float4x4(-0.032127957791090,0.037915434688330,-0.010988262481987,0.003488188143820,-0.085268788039684,-0.213548049330711,-0.001044556382112,0.049642913043499,-0.060122031718493,0.101043924689293,-0.135271996259689,-0.047246109694242,0.012856168672442,0.084965750575066,0.203313559293747,0.134505376219749));
res += mul(Get(s3,0,dy), float4x4(0.016981227323413,0.063299089670181,0.003214142052457,-0.060595221817493,0.072995118796825,-0.038771152496338,0.037322416901588,-0.015383344143629,-0.012808849103749,-0.067480072379112,-0.088986679911613,0.095364958047867,0.015473727136850,0.022249391302466,0.018167393282056,-0.154121592640877));
res += mul(Get(s3,dx,-dy), float4x4(-0.055521946400404,-0.086264573037624,0.002947202185169,-0.067213281989098,-0.116485506296158,-0.262541383504868,-0.096420630812645,-0.048315018415451,0.031849551945925,-0.069406755268574,-0.018148910254240,0.189186930656433,-0.027179762721062,0.052772976458073,0.000292285199976,-0.066949591040611));
res += mul(Get(s3,dx,0), float4x4(-0.094824463129044,0.008530194871128,-0.121903464198112,0.109534710645676,-0.118127949535847,-0.187768116593361,0.078118458390236,-0.087179549038410,-0.032496832311153,-0.060476198792458,-0.144332155585289,0.023011719807982,-0.031284168362617,-0.025297764688730,-0.041732057929039,0.069290101528168));
res += mul(Get(s3,dx,dy), float4x4(-0.028886213898659,-0.073574259877205,0.046058975160122,-0.041477862745523,0.132447272539139,0.003922664560378,-0.057625953108072,-0.056166544556618,-0.026969870552421,-0.046185843646526,-0.054958112537861,0.047740373760462,0.034547332674265,-0.015868971124291,-0.186572864651680,-0.133279085159302));
return max(float4(0,0,0,0), res);
}
