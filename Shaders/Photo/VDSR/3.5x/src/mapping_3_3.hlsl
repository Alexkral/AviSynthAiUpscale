sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.070027768611908,0.170512959361076,-0.209836050868034,0.004077102057636,-0.112178519368172,-0.175401926040649,0.011120383627713,-0.060028173029423,0.146373242139816,0.247474223375320,-0.054453134536743,0.027403231710196,0.075904250144958,0.089523695409298,-0.158065333962440,0.065377041697502));
res += mul(Get(s0,-dx,0), float4x4(-0.207631051540375,0.148490816354752,-0.130184203386307,-0.090217202901840,0.076291456818581,0.111168511211872,0.181658312678337,0.235560432076454,0.153106346726418,0.017494248226285,-0.230401650071144,-0.098474942147732,0.054546609520912,-0.059783533215523,0.101800993084908,0.251775562763214));
res += mul(Get(s0,-dx,dy), float4x4(0.088524885475636,-0.089104466140270,-0.098031580448151,-0.098331853747368,0.011739324778318,-0.300739884376526,0.023170989006758,0.041054762899876,-0.135054096579552,-0.079202637076378,0.093377523124218,0.101426370441914,-0.076609298586845,0.044070452451706,0.120235614478588,0.010830916464329));
res += mul(Get(s0,0,-dy), float4x4(0.019822157919407,-0.126283839344978,0.099162295460701,-0.005937876179814,0.125542655587196,0.181271716952324,0.090806223452091,0.070267304778099,0.052689466625452,0.055822927504778,-0.244004324078560,0.104044087231159,0.203686699271202,-0.032410245388746,-0.127208784222603,0.070046581327915));
res += mul(Get(s0,0,0), float4x4(-0.047007720917463,0.008719906210899,0.001931563136168,0.132145896553993,0.176893070340157,-0.030247949063778,0.005525818560272,0.158870846033096,-0.079556114971638,-0.094821318984032,-0.007639933377504,0.210621953010559,-0.058549229055643,-0.032913204282522,-0.014719805680215,-0.152903810143471));
res += mul(Get(s0,0,dy), float4x4(-0.166809394955635,0.121213905513287,-0.058892503380775,-0.041336931288242,-0.010321888141334,0.120444439351559,0.144678965210915,0.041338797658682,0.004118468612432,0.102562651038170,0.054402600973845,-0.010555395856500,0.183153942227364,-0.057965129613876,-0.124285630881786,0.004216136876494));
res += mul(Get(s0,dx,-dy), float4x4(-0.223116308450699,-0.162374541163445,0.120090216398239,0.254788875579834,-0.128977343440056,0.001086705247872,0.039951734244823,-0.126794442534447,-0.038845866918564,-0.048967450857162,-0.006453061010689,0.072480268776417,-0.046912632882595,-0.119243547320366,-0.055431198328733,0.012864670716226));
res += mul(Get(s0,dx,0), float4x4(-0.135300830006599,0.138585671782494,0.377580016851425,-0.088903784751892,0.031426239758730,0.125683963298798,0.064651735126972,0.050063453614712,-0.146426439285278,-0.076743029057980,0.150335162878036,-0.009588726796210,-0.071483366191387,0.047422129660845,-0.054633520543575,-0.091037742793560));
res += mul(Get(s0,dx,dy), float4x4(0.049847878515720,-0.192583829164505,0.155629545450211,0.016710167750716,-0.004953912924975,-0.105079807341099,0.102669030427933,0.076194085180759,0.202924296259880,-0.028372958302498,-0.082180932164192,0.010885578580201,0.079281538724899,-0.087958477437496,-0.009781582280993,0.035625796765089));
res += mul(Get(s1,-dx,-dy), float4x4(-0.154163047671318,-0.064252234995365,0.192704498767853,0.199674710631371,0.120433196425438,0.052492786198854,-0.064708016812801,0.159856751561165,0.101979836821556,-0.130061969161034,0.066649645566940,-0.093546539545059,0.114206999540329,-0.094542942941189,0.019396390765905,0.015978993847966));
res += mul(Get(s1,-dx,0), float4x4(-0.036206331104040,-0.079541146755219,0.072953656315804,0.008061288855970,0.139614939689636,-0.167442739009857,-0.013963990844786,0.101451016962528,0.088353715837002,0.035239983350039,-0.025026323273778,0.032758723944426,-0.175055786967278,0.123233214020729,0.102796643972397,0.012023816816509));
res += mul(Get(s1,-dx,dy), float4x4(-0.027177035808563,-0.057204794138670,0.258942395448685,0.134530201554298,0.028895249590278,-0.127029076218605,-0.054875105619431,0.157060757279396,-0.058450799435377,-0.101538799703121,-0.136062443256378,-0.005570176523179,0.002487700665370,0.183546364307404,0.070992879569530,-0.104371361434460));
res += mul(Get(s1,0,-dy), float4x4(-0.281514644622803,-0.139797419309616,-0.133257687091827,-0.098631337285042,-0.063622847199440,0.111947797238827,-0.062364786863327,-0.037538044154644,0.103960201144218,0.146525770425797,0.139675825834274,0.062583595514297,0.085652135312557,-0.018512662500143,-0.002871075877920,0.177619576454163));
res += mul(Get(s1,0,0), float4x4(-0.113311409950256,-0.063185848295689,0.031938917934895,-0.143097713589668,-0.122117727994919,0.149601772427559,0.031186178326607,-0.059861682355404,0.203316584229469,0.018415683880448,-0.192222043871880,-0.159785464406013,0.042512148618698,0.103526346385479,-0.028722761198878,-0.078076362609863));
res += mul(Get(s1,0,dy), float4x4(0.223980098962784,0.187019348144531,0.103869512677193,-0.019728051498532,0.038124080747366,-0.004806468263268,-0.000504488125443,0.051850650459528,0.004128228873014,-0.039886858314276,-0.128866821527481,0.016073495149612,0.103303261101246,0.149708315730095,0.141595497727394,-0.144823908805847));
res += mul(Get(s1,dx,-dy), float4x4(0.023877311497927,-0.086516782641411,0.003547898028046,0.011660928837955,0.127751752734184,-0.067615255713463,0.017306080088019,-0.075064659118652,0.004983820021152,-0.016675753518939,-0.154324159026146,-0.005098030436784,0.037529833614826,-0.078914694488049,0.156817555427551,0.044959791004658));
res += mul(Get(s1,dx,0), float4x4(-0.070481404662132,-0.128545865416527,-0.073207788169384,0.002048173220828,-0.145751193165779,-0.074186176061630,-0.114704482257366,0.123753495514393,-0.013868829235435,-0.100589171051979,0.088888712227345,0.130985498428345,-0.102771081030369,0.027277071028948,0.190966755151749,-0.152068853378296));
res += mul(Get(s1,dx,dy), float4x4(-0.077925056219101,0.176917627453804,-0.049639854580164,0.222494810819626,-0.286668241024017,-0.010211696848273,0.072482995688915,0.042323715984821,-0.045178595930338,0.057529315352440,-0.052103482186794,-0.225582376122475,-0.058271389454603,-0.151430457830429,-0.089226901531219,-0.014238064177334));
res += mul(Get(s2,-dx,-dy), float4x4(-0.057528477162123,0.039755746722221,0.066309191286564,0.158128350973129,0.028273748233914,0.091159194707870,-0.095638744533062,-0.055584542453289,0.189349696040154,0.140301406383514,0.003079034620896,0.004824897740036,0.175317704677582,-0.082350954413414,0.090387158095837,-0.187110453844070));
res += mul(Get(s2,-dx,0), float4x4(0.045770920813084,0.102317489683628,0.048831429332495,-0.258861869573593,-0.121209152042866,-0.264890640974045,-0.218333095312119,-0.164917290210724,-0.097926467657089,-0.243154540657997,-0.018009603023529,0.109644077718258,-0.066328510642052,-0.188095703721046,0.125636890530586,-0.048759754747152));
res += mul(Get(s2,-dx,dy), float4x4(0.002653513103724,-0.158335298299789,-0.160220712423325,-0.065957665443420,-0.163509428501129,-0.006027175113559,0.065010428428650,-0.201587021350861,0.007939908653498,-0.044671449810266,0.058936461806297,-0.035400889813900,-0.093558929860592,0.017021164298058,0.117864556610584,-0.007936739362776));
res += mul(Get(s2,0,-dy), float4x4(-0.011004979722202,-0.103042408823967,-0.167259246110916,0.305724263191223,0.115614131093025,0.177146643400192,0.135787978768349,-0.173897922039032,-0.030949767678976,-0.083164960145950,0.038285166025162,-0.005553119350225,0.101941987872124,0.133257493376732,0.045226898044348,0.019174680113792));
res += mul(Get(s2,0,0), float4x4(0.088863335549831,0.164719551801682,0.175165832042694,-0.224865868687630,-0.084401614964008,-0.162531659007072,-0.087663486599922,0.191397860646248,0.010900853201747,0.145577237010002,-0.122704677283764,0.054323311895132,0.224025681614876,-0.138341158628464,-0.031130107119679,0.060338705778122));
res += mul(Get(s2,0,dy), float4x4(-0.020970361307263,-0.223804473876953,-0.155050545930862,-0.035430245101452,0.145463675260544,-0.098752617835999,-0.081276543438435,0.100796632468700,-0.151909783482552,-0.050032436847687,-0.021643811836839,0.069369353353977,-0.126520767807961,-0.097404770553112,0.077571824193001,-0.042815450578928));
res += mul(Get(s2,dx,-dy), float4x4(0.010714185424149,-0.044103037565947,0.000390965520637,0.216479167342186,0.098589807748795,0.066382482647896,-0.174564212560654,-0.162557214498520,-0.046619236469269,-0.093023605644703,-0.226263016462326,-0.057718478143215,0.020986389368773,0.035936456173658,0.022824421525002,0.117525018751621));
res += mul(Get(s2,dx,0), float4x4(-0.188340470194817,-0.081244356930256,-0.108522899448872,0.065842211246490,-0.067894570529461,-0.069477818906307,-0.090935848653316,0.121024414896965,0.067100271582603,0.004272771999240,0.082619063556194,0.047361988574266,0.056575737893581,-0.155064642429352,-0.001001582830213,0.143980547785759));
res += mul(Get(s2,dx,dy), float4x4(0.145310238003731,-0.092052794992924,0.094733074307442,0.141029402613640,-0.151144340634346,-0.155393630266190,0.002982247387990,0.245817899703979,-0.198035404086113,0.049138579517603,-0.060202576220036,-0.116380520164967,-0.217134878039360,-0.001050579361618,-0.032988648861647,0.160579100251198));
res += mul(Get(s3,-dx,-dy), float4x4(-0.030672959983349,0.057500701397657,0.036800920963287,-0.020960060879588,0.112974494695663,-0.050997722893953,-0.229646027088165,-0.099241264164448,0.032149922102690,0.074392743408680,0.148937284946442,0.109042435884476,-0.159389719367027,0.046820152550936,-0.016121320426464,0.100394383072853));
res += mul(Get(s3,-dx,0), float4x4(-0.210777893662453,-0.024003535509109,0.033890426158905,0.022885346785188,-0.092365942895412,-0.014544917270541,-0.072935923933983,0.144691690802574,-0.043383028358221,-0.029914243146777,0.045663282275200,-0.124271184206009,0.046447928994894,-0.056693565100431,-0.105481021106243,-0.157992362976074));
res += mul(Get(s3,-dx,dy), float4x4(0.071446828544140,-0.050778899341822,0.069691471755505,0.019048055633903,0.246239811182022,0.045542433857918,-0.112003296613693,0.112242005765438,0.121467478573322,0.022400785237551,-0.059824310243130,-0.114555656909943,0.243555769324303,-0.069541059434414,0.239677757024765,-0.064527191221714));
res += mul(Get(s3,0,-dy), float4x4(-0.153079569339752,0.271328359842300,-0.134015485644341,0.114052481949329,-0.069952152669430,-0.009139088913798,0.020932329818606,-0.056293185800314,0.033120609819889,-0.084735020995140,0.097001649439335,0.249977216124535,0.167905017733574,0.150456562638283,-0.030359901487827,-0.079192698001862));
res += mul(Get(s3,0,0), float4x4(0.045703772455454,-0.125179573893547,-0.020671188831329,-0.112419873476028,-0.117686569690704,0.109863795340061,-0.167074143886566,0.061741299927235,0.115571931004524,-0.072032332420349,0.047068856656551,-0.035772219300270,0.059897620230913,-0.020448816940188,-0.149731948971748,0.178957864642143));
res += mul(Get(s3,0,dy), float4x4(0.044260658323765,-0.155462473630905,0.099498234689236,0.206172451376915,-0.017900453880429,0.191259905695915,-0.042751267552376,0.029841464012861,-0.064058817923069,-0.160181418061256,0.044042356312275,0.002476439811289,0.121384732425213,-0.013818749226630,-0.160916134715080,0.106243029236794));
res += mul(Get(s3,dx,-dy), float4x4(0.026823991909623,0.023946497589350,-0.117971234023571,-0.098035126924515,0.032659024000168,-0.093161396682262,0.228220403194427,0.107018731534481,0.005326668731868,-0.043027028441429,-0.111414179205894,0.023564103990793,-0.019697178155184,-0.068443082273006,-0.071944199502468,0.102499201893806));
res += mul(Get(s3,dx,0), float4x4(-0.001382819842547,0.064540132880211,0.019530737772584,0.139004454016685,0.021040614694357,-0.124100916087627,-0.116365134716034,0.112751260399818,-0.140342772006989,0.036407791078091,0.167313560843468,-0.040248293429613,0.031165810301900,-0.038103152066469,-0.027029361575842,0.207289665937424));
res += mul(Get(s3,dx,dy), float4x4(0.041145373135805,0.052996587008238,0.111557453870773,-0.128347903490067,-0.053043805062771,0.021108424291015,0.058316297829151,0.018415067344904,-0.132035061717033,0.038401279598475,0.075527630746365,-0.158684879541397,0.022025577723980,0.031071139499545,-0.134225383400917,0.150576665997505));
return max(float4(0,0,0,0), res);
}
