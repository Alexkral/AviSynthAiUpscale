sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000961519428529,0.001722813351080,-0.002562869107351,-0.003362815361470,-0.058626603335142,-0.018523709848523,-0.409944206476212,-0.020959576591849,0.006276918109506,-0.004977471195161,0.000898133439478,0.006220680661500,0.001993425656110,-0.087226264178753,-0.079318381845951,-0.209908396005630));
res += mul(Get(s0,-dx,0), float4x4(-0.001998215448111,-0.005333620123565,0.002545897848904,0.006384067703038,-0.063083812594414,-0.013217801228166,-0.387002885341644,0.032252911478281,0.002353365300223,0.004178601317108,-0.008124548941851,0.007197151426226,0.075649797916412,-0.021282617002726,0.181934401392937,0.016006307676435));
res += mul(Get(s0,-dx,dy), float4x4(-0.004014082718641,0.008833345957100,0.002710008528084,0.005042801145464,-0.018707854673266,-0.019689660519361,-0.340307027101517,0.070508934557438,-0.003045698860660,0.005535262171179,0.001773447496817,0.004998670890927,0.165855497121811,0.098607301712036,0.559380590915680,0.042455743998289));
res += mul(Get(s0,0,-dy), float4x4(-0.004342634230852,-0.002060533966869,0.006898662075400,0.003478780388832,0.008641629479825,-0.001882935408503,0.080260455608368,-0.007088112179190,0.004129862412810,-0.006571687757969,0.006241364404559,0.004192724823952,-0.051184907555580,-0.136618584394455,-0.497959047555923,-0.189076140522957));
res += mul(Get(s0,0,0), float4x4(0.006291625089943,-0.001129702664912,-0.000311993266223,-0.000643558218144,0.018112512305379,-0.000603203952778,0.045466687530279,0.002645517233759,0.003139357781038,-0.002706195693463,-0.000637249147985,-0.002622791798785,0.037248011678457,-0.022913699969649,-0.086045689880848,0.055972024798393));
res += mul(Get(s0,0,dy), float4x4(-0.008778062649071,-0.000675200135447,0.000405997503549,0.001880555995740,0.037593182176352,0.002509058685973,0.035996101796627,0.009017842821777,0.004652937408537,-0.000647150503937,0.004474611021578,0.006402654573321,0.159033268690109,0.073681317269802,0.155769959092140,0.170484364032745));
res += mul(Get(s0,dx,-dy), float4x4(-0.001595723791979,-0.002486431272700,-0.001984298927709,0.007512581069022,0.054517343640327,0.003910963889211,0.093461222946644,-0.001476364210248,0.002938002347946,-0.000577759288717,0.002565406728536,0.000752475112677,-0.123652756214142,-0.117507383227348,-0.564585328102112,-0.098080307245255));
res += mul(Get(s0,dx,0), float4x4(0.011421067640185,-0.007323468569666,0.000051817587519,0.001699484302662,0.071259342133999,-0.004318772349507,0.004588983952999,-0.003130372613668,-0.007445816881955,-0.004924969282001,-0.007833228446543,0.012109772302210,-0.151475548744202,0.005316117312759,-0.204580277204514,0.100552879273891));
res += mul(Get(s0,dx,dy), float4x4(0.002946321386844,-0.002206789795309,-0.001693524536677,0.000983991893008,0.091022141277790,0.005072555504739,-0.048421077430248,-0.000714676396456,-0.004883205983788,0.003107557538897,0.000962294929195,0.005279262084514,0.056868731975555,0.131367713212967,-0.003682834561914,0.248105660080910));
res += mul(Get(s1,-dx,-dy), float4x4(0.004632885102183,0.001256451709196,-0.001089489203878,-0.001366757787764,0.003777761943638,0.001636883825995,0.003582479897887,-0.000681033299770,-0.006364325061440,0.000722803757526,-0.000534068269189,-0.002581454114988,0.001828730921261,0.004010696429759,0.000317731202813,-0.003827706212178));
res += mul(Get(s1,-dx,0), float4x4(0.004874511621892,0.006291952449828,-0.009360300377011,-0.004669030196965,-0.000142532240716,-0.002539695007727,-0.002764108823612,-0.000621469866019,0.004217703361064,0.007604018785059,-0.001207578694448,-0.000812213111203,-0.004350661765784,-0.002095399657264,-0.000110911088996,-0.000599064456765));
res += mul(Get(s1,-dx,dy), float4x4(0.001167112030089,-0.001806244952604,-0.003604411147535,0.005023812875152,0.010417535901070,0.002354615135118,0.005022412165999,-0.001062788418494,-0.000734138651751,0.001269161002710,-0.001990870106965,-0.000843702931888,-0.003564385697246,0.000767302233726,0.000951478956267,0.004027653951198));
res += mul(Get(s1,0,-dy), float4x4(-0.001990167191252,0.001488417503424,0.001897041220218,0.000877131999005,0.007915508002043,0.000160281357239,0.002134758979082,0.002577937208116,-0.003119689878076,0.002039262792096,0.005141275003552,0.002756622619927,-0.005026736762375,-0.007068508770317,-0.000809255638160,0.006048755720258));
res += mul(Get(s1,0,0), float4x4(0.004694876726717,-0.006872368510813,0.001923364005052,-0.000670121633448,0.001585903344676,0.002282860223204,-0.003422412090003,-0.003135737031698,-0.000946495274547,-0.007255334872752,0.002605983056128,-0.003381169168279,-0.000034240722016,-0.005326198879629,-0.002700288547203,-0.000846443232149));
res += mul(Get(s1,0,dy), float4x4(0.003245911328122,0.003073476953432,-0.002490476006642,0.001196183147840,0.004248877055943,-0.004946536850184,-0.001328030368313,0.005704968702048,-0.008830218575895,0.000655605574138,-0.003631873987615,-0.001335887587629,0.002892827149481,0.001373129198328,0.002001887420192,-0.007216779980808));
res += mul(Get(s1,dx,-dy), float4x4(0.001370319514535,-0.004303498659283,0.003235108451918,-0.003728061914444,0.007003922015429,0.001951551064849,-0.003079141257331,-0.002142070094123,0.000992523389868,-0.006292936857790,0.001995377941057,-0.004241773393005,0.007592257577926,-0.001662652939558,0.008696504868567,0.000721993681509));
res += mul(Get(s1,dx,0), float4x4(0.003700455650687,0.002072312636301,-0.006158553995192,-0.004970279987901,0.001976639265195,0.006438469514251,-0.003993250429630,-0.001316215842962,-0.006026625167578,0.004617572296411,0.002466435777023,-0.006861165631562,0.005678759887815,0.002206648001447,-0.000808463722933,0.006037531886250));
res += mul(Get(s1,dx,dy), float4x4(-0.002471323125064,-0.003954471554607,-0.001400969806127,0.003344307187945,-0.004202187061310,-0.001748893759213,-0.000731477863155,-0.005306374281645,0.003721758257598,-0.004889225121588,0.001323346048594,0.002029714640230,0.003008151194081,-0.007070477586240,0.004536256659776,-0.010236403904855));
res += mul(Get(s2,-dx,-dy), float4x4(-0.249767541885376,-0.005766481161118,-0.030093763023615,-0.023400330916047,-0.002157754963264,-0.000285662419628,0.000618269899860,-0.001446217647754,0.003182251704857,-0.002896787598729,0.002504473086447,0.001427077222615,0.403651952743530,-0.084221757948399,-0.021728770807385,-0.182698294520378));
res += mul(Get(s2,-dx,0), float4x4(-0.043661359697580,-0.023965628817677,-0.127991676330566,0.318460106849670,0.003184282220900,0.003590043867007,-0.001932628685609,0.006210641004145,-0.002683529164642,-0.001122188172303,-0.000252023164649,0.008242144249380,0.056856740266085,-0.085245117545128,0.272831708192825,0.060893423855305));
res += mul(Get(s2,-dx,dy), float4x4(-0.260057628154755,0.115427769720554,0.055040929466486,0.048972047865391,0.001997175859287,-0.002523335861042,0.000280090520391,-0.002172488486394,0.004948992282152,0.003592352848500,0.003066084347665,-0.002992162248120,-0.189100906252861,-0.024245996028185,1.134241700172424,0.022726375609636));
res += mul(Get(s2,0,-dy), float4x4(-0.302288532257080,-0.027422539889812,-0.088873952627182,-0.046231344342232,0.000612383126281,-0.001215184573084,0.001478854450397,-0.008536948822439,-0.004471717402339,0.002108683111146,0.004121676553041,-0.003084117779508,0.113124527037144,-0.075755663216114,-0.632998883724213,-0.230032101273537));
res += mul(Get(s2,0,0), float4x4(-0.104405999183655,-0.054711159318686,-0.274189978837967,0.243046492338181,0.003991502802819,-0.005774505902082,-0.003851140383631,0.000363921571989,0.003644832642749,-0.000066868364229,-0.002974235452712,0.005109152290970,-0.040788330137730,-0.065586961805820,-0.429668247699738,-0.141412705183029));
res += mul(Get(s2,0,dy), float4x4(-0.332518666982651,0.099895738065243,-0.049557365477085,-0.018636647611856,0.002548067132011,-0.001319237984717,-0.001548450556584,-0.000672218331601,0.003679709509015,0.010122683830559,-0.000849133648444,-0.004879652522504,-0.296700865030289,-0.015044172294438,0.679877817630768,-0.091090761125088));
res += mul(Get(s2,dx,-dy), float4x4(-0.253709852695465,-0.034138992428780,-0.023952107876539,-0.083199553191662,0.002736580092460,-0.002368414541706,0.001572785899043,0.001921935356222,-0.006123614963144,-0.002248738892376,-0.000817606924102,-0.000451749539934,-0.098614439368248,-0.079700648784637,-0.462192624807358,-0.205131739377975));
res += mul(Get(s2,dx,0), float4x4(-0.122782818973064,-0.042826198041439,-0.142250284552574,0.138122290372849,-0.000082766280684,-0.003305535763502,-0.001913209329359,-0.003023464232683,-0.000304754124954,-0.001814323477447,0.002654879121110,0.000671006971970,0.007604199461639,-0.096355564892292,-0.524515271186829,-0.189526662230492));
res += mul(Get(s2,dx,dy), float4x4(-0.266499102115631,0.089025825262070,0.029018130153418,-0.019011713564396,-0.005752878263593,0.007253443356603,-0.002679628320038,-0.001266818842851,-0.004262307658792,0.006531119812280,-0.002676230389625,-0.001358489738777,-0.161667913198471,-0.022741766646504,0.274097710847855,-0.089953787624836));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005029549356550,-0.001185289816931,-0.006368561182171,-0.000045122968004,-0.003135117003694,0.004885766655207,0.000973708054516,0.002570822136477,-0.117318607866764,0.007572280708700,0.126341640949249,-0.001079465029761,-0.030837973579764,0.001835786621086,0.100269466638565,0.009624231606722));
res += mul(Get(s3,-dx,0), float4x4(-0.003524491563439,-0.002866534516215,0.002718454226851,0.007237488403916,-0.007674362976104,-0.007103070616722,-0.000161400326760,0.011969483457506,-0.047668218612671,-0.011547230184078,0.232170447707176,0.047543462365866,-0.030953632667661,-0.010541488416493,0.001083701848984,0.002129500266165));
res += mul(Get(s3,-dx,dy), float4x4(-0.000907222682144,0.001012611202896,0.004953505005687,0.000973704212811,0.000503453309648,0.002348999027163,-0.002052819821984,-0.006564353127033,-0.032229706645012,-0.011603470891714,0.174118176102638,-0.026756057515740,-0.015576489269733,-0.033881869167089,-0.015043972991407,-0.046205587685108));
res += mul(Get(s3,0,-dy), float4x4(-0.011987414211035,-0.004708856344223,0.003987954463810,0.000228692020755,0.007701697293669,-0.000212002763874,-0.001570081920363,-0.001025349018164,-0.171874791383743,-0.019037809222937,0.053041409701109,-0.016720853745937,-0.018342992290854,-0.010877089574933,0.046322647482157,0.000111207882583));
res += mul(Get(s3,0,0), float4x4(0.005717369727790,-0.001246512751095,-0.001249191351235,-0.003248754655942,0.000499379122630,0.001378002460115,-0.001053378568031,-0.000146175283589,-0.088753148913383,-0.039240583777428,0.071798183023930,0.077872179448605,-0.024892376735806,-0.009490172378719,-0.026454562321305,0.076247178018093));
res += mul(Get(s3,0,dy), float4x4(0.000528687029146,-0.007469997275621,0.001721722888760,0.006844066549093,0.006045994814485,-0.001849001157098,-0.004197940696031,0.006470387801528,-0.067424260079861,-0.001500629237853,0.075083598494530,0.024863358587027,-0.047956597059965,-0.009401431307197,-0.078330457210541,0.077874936163425));
res += mul(Get(s3,dx,-dy), float4x4(-0.000553408695851,0.006306456867605,-0.003968848381191,-0.004525484517217,-0.000550985394511,0.001103770220652,0.000122645811643,-0.000588594935834,-0.106747530400753,-0.028085717931390,0.019542692229152,-0.046039048582315,0.103673867881298,-0.004729134961963,0.001741512678564,0.008475105278194));
res += mul(Get(s3,dx,0), float4x4(0.003350017825142,-0.000914467032999,-0.012224543839693,-0.003478157799691,-0.004724200814962,0.005909320898354,0.004144154489040,0.007244246546179,0.010012440383434,-0.026742862537503,0.124103322625160,0.105130910873413,0.093773297965527,0.023892015218735,0.015629576519132,0.162660211324692));
res += mul(Get(s3,dx,dy), float4x4(0.000130376574816,-0.004378417041153,0.003220255486667,0.008078190498054,-0.004123303107917,0.007245815359056,-0.001313870307058,-0.007587633095682,0.012682856991887,0.002961582038552,0.238561078906059,0.110317207872868,0.055231533944607,0.027884300798178,0.061458822339773,0.238850817084312));
return max(float4(0,0,0,0), res);
}
