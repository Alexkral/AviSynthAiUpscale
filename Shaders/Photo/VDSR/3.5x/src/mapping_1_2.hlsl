sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.065935499966145,0.096176445484161,-0.092558346688747,0.046661343425512,-0.051576215773821,0.056673541665077,-0.155447438359261,-0.019110633060336,0.136268064379692,0.012262585572898,0.097945287823677,-0.054244473576546,0.069740802049637,-0.026198972016573,-0.255242556333542,0.020934415981174));
res += mul(Get(s0,-dx,0), float4x4(0.151108935475349,0.097139306366444,-0.032984092831612,0.127692386507988,0.078377284109592,-0.010284289717674,-0.042153187096119,-0.116671830415726,-0.152487739920616,0.071190528571606,-0.114511445164680,0.052824590355158,-0.034821417182684,-0.046886693686247,-0.097464039921761,-0.146094337105751));
res += mul(Get(s0,-dx,dy), float4x4(-0.129741638898849,-0.152884900569916,-0.087984532117844,-0.006340674124658,-0.183814346790314,0.136695817112923,-0.087979353964329,-0.139618858695030,-0.001469644485041,-0.048596475273371,-0.000983868958429,0.146529659628868,-0.041921302676201,-0.056170992553234,-0.050143443048000,0.024080242961645));
res += mul(Get(s0,0,-dy), float4x4(0.027230219915509,-0.062615290284157,-0.092914745211601,-0.017155740410089,-0.019525563344359,-0.110675051808357,0.036316189914942,-0.014344534836709,-0.007462564390153,-0.072478182613850,-0.110132209956646,0.149581342935562,-0.213961049914360,-0.172862768173218,-0.233560949563980,-0.083724662661552));
res += mul(Get(s0,0,0), float4x4(0.014706983231008,0.232913225889206,-0.171609342098236,-0.128293812274933,0.119909659028053,0.066282153129578,0.140042766928673,-0.158352062106133,0.151410192251205,0.093653835356236,0.029439255595207,0.113365031778812,0.230889335274696,0.382251322269440,-0.123909935355186,0.067981317639351));
res += mul(Get(s0,0,dy), float4x4(0.035962391644716,0.037781186401844,0.252216964960098,0.002303658518940,0.020599568262696,0.027779657393694,-0.064915664494038,0.033001825213432,-0.101803965866566,-0.081544980406761,0.116841316223145,-0.026884935796261,0.207596600055695,0.071192160248756,0.064684085547924,-0.013212360441685));
res += mul(Get(s0,dx,-dy), float4x4(-0.006510279607028,-0.104210786521435,-0.154806226491928,-0.046024274080992,0.111573547124863,0.092407323420048,-0.087019734084606,0.016147391870618,-0.054585967212915,0.111919701099396,-0.034871689975262,-0.061501283198595,0.046951100230217,-0.014284769073129,0.153271645307541,-0.237800300121307));
res += mul(Get(s0,dx,0), float4x4(-0.082393437623978,0.140963092446327,-0.139689594507217,0.036233525723219,0.100857943296432,-0.223799407482147,0.016799958422780,0.079096809029579,0.209264904260635,0.068692430853844,-0.085577495396137,-0.135581791400909,-0.047568928450346,0.139334827661514,-0.071547113358974,0.009894905611873));
res += mul(Get(s0,dx,dy), float4x4(0.041533540934324,-0.237784728407860,0.024842064827681,-0.145611599087715,0.144232809543610,-0.068594090640545,-0.104435749351978,-0.070642389357090,-0.304447919130325,0.150545924901962,0.105088122189045,0.066811695694923,0.076988294720650,-0.122981280088425,-0.029629098251462,0.043197713792324));
res += mul(Get(s1,-dx,-dy), float4x4(0.144296899437904,-0.060271088033915,-0.159261360764503,-0.091014824807644,0.103526145219803,-0.042267337441444,0.036793444305658,0.000046233049943,-0.176608502864838,-0.009249240159988,-0.142379507422447,-0.078854843974113,0.048384267836809,-0.144987598061562,-0.097528092563152,0.112105637788773));
res += mul(Get(s1,-dx,0), float4x4(0.062969692051411,-0.318234890699387,0.148936018347740,0.110350698232651,0.010158996097744,0.104279100894928,0.026496535167098,0.066371075809002,0.157727077603340,0.208700522780418,-0.017553195357323,-0.028369285166264,-0.211063802242279,0.073007315397263,-0.027953201904893,-0.152160197496414));
res += mul(Get(s1,-dx,dy), float4x4(0.118057548999786,0.178377330303192,0.172745376825333,0.106310710310936,-0.108721040189266,-0.072350032627583,0.098652563989162,0.262475311756134,-0.097959585487843,-0.019060045480728,0.048699185252190,0.089678779244423,-0.080599702894688,0.032947424799204,-0.098081722855568,-0.106451727449894));
res += mul(Get(s1,0,-dy), float4x4(0.142379716038704,-0.029890792444348,0.000109357810288,-0.039323877543211,-0.022429121658206,-0.009424509480596,-0.288905829191208,0.017784494906664,0.060760952532291,-0.227471619844437,-0.161652714014053,-0.157050892710686,-0.317494988441467,-0.026520011946559,0.024090554565191,-0.182642966508865));
res += mul(Get(s1,0,0), float4x4(-0.163800984621048,0.030176764354110,-0.001897270325571,-0.241816267371178,0.038382306694984,-0.045415714383125,-0.157183051109314,0.033616475760937,-0.116864293813705,0.098610959947109,0.018304396420717,-0.099728852510452,-0.134715929627419,-0.133490860462189,0.106068968772888,0.006805816665292));
res += mul(Get(s1,0,dy), float4x4(-0.180584818124771,-0.052859757095575,-0.067018136382103,-0.037985980510712,0.030202994123101,0.166928440332413,0.012603402137756,-0.118133798241615,-0.017591018229723,-0.166627943515778,-0.067514516413212,0.059870038181543,-0.219496309757233,0.106905005872250,0.045059967786074,-0.128253608942032));
res += mul(Get(s1,dx,-dy), float4x4(0.133820071816444,0.027526644989848,0.051658123731613,-0.052201751619577,0.070133343338966,-0.015493965707719,-0.081701584160328,0.095172233879566,0.063696794211864,0.010686273686588,0.094189286231995,0.168475538492203,0.071424297988415,0.096177123486996,-0.121716521680355,0.206664934754372));
res += mul(Get(s1,dx,0), float4x4(-0.184369459748268,0.061862748116255,0.043106693774462,0.000254208716797,0.198071748018265,0.048752117902040,-0.153697893023491,-0.036133967339993,0.057446055114269,0.027559004724026,-0.033378303050995,0.050828889012337,0.069181367754936,-0.046707771718502,-0.122487127780914,-0.049922198057175));
res += mul(Get(s1,dx,dy), float4x4(-0.121177777647972,0.078935138881207,-0.008368801325560,-0.125029295682907,-0.025556471198797,-0.100562557578087,-0.119745135307312,-0.043117541819811,-0.048616223037243,0.005819886922836,0.065912932157516,-0.290125221014023,0.048095919191837,-0.049305744469166,-0.118237994611263,0.116062201559544));
res += mul(Get(s2,-dx,-dy), float4x4(0.174233511090279,0.047240011394024,0.009255028329790,-0.136476606130600,-0.090783908963203,0.015680370852351,0.065736882388592,-0.214796200394630,-0.166522577404976,0.066783681511879,-0.010674377903342,0.062758974730968,0.092467002570629,0.261270701885223,-0.043438132852316,0.050747204571962));
res += mul(Get(s2,-dx,0), float4x4(-0.038472987711430,0.104403823614120,-0.027896959334612,-0.126534149050713,-0.071400448679924,0.276820182800293,0.091973364353180,0.053123641759157,0.167831376194954,-0.044650800526142,0.140488073229790,-0.253044009208679,0.223492279648781,0.021786622703075,-0.248703137040138,0.013823922723532));
res += mul(Get(s2,-dx,dy), float4x4(-0.004432753659785,-0.106769196689129,-0.007361870724708,0.144808486104012,0.071101516485214,-0.067629098892212,0.101879842579365,-0.222575068473816,-0.160078927874565,0.098938845098019,-0.003086537588388,-0.093224957585335,-0.017687017098069,0.084062263369560,-0.024429628625512,0.035608746111393));
res += mul(Get(s2,0,-dy), float4x4(-0.157507196068764,-0.110481776297092,0.169996127486229,-0.128032356500626,-0.036641288548708,0.006984462030232,-0.048454783856869,-0.005753576755524,-0.278599947690964,0.064912550151348,-0.201229155063629,0.074230223894119,0.260131388902664,-0.006375520955771,0.103840768337250,0.022000191733241));
res += mul(Get(s2,0,0), float4x4(0.021311946213245,-0.220831900835037,-0.079215623438358,0.054703943431377,-0.119266681373119,-0.005673536099494,0.073875732719898,0.153661489486694,-0.033905308693647,-0.015991084277630,0.137890100479126,0.163681596517563,-0.040711753070354,0.035840142518282,-0.003660230431706,-0.196040824055672));
res += mul(Get(s2,0,dy), float4x4(-0.049239892512560,0.036917168647051,-0.096093006432056,-0.161169320344925,0.060397766530514,-0.103801086544991,-0.024157596752048,0.025161197409034,0.097083985805511,0.002216741908342,-0.088594861328602,0.039989452809095,-0.113334842026234,0.241896808147430,-0.078337825834751,0.003243434010074));
res += mul(Get(s2,dx,-dy), float4x4(0.059594623744488,-0.156837299466133,-0.010840387083590,0.171625658869743,0.113186597824097,-0.072751000523567,-0.239238098263741,0.000548824784346,0.046286992728710,0.066282071173191,0.129636421799660,-0.019210107624531,-0.145879194140434,-0.000586617097724,-0.019546903669834,-0.150684833526611));
res += mul(Get(s2,dx,0), float4x4(0.023164996877313,-0.107159152626991,-0.139273911714554,0.090525195002556,-0.170805245637894,0.003837464377284,0.041939932852983,0.082520119845867,0.096442304551601,0.183583632111549,-0.037186484783888,0.066143050789833,0.176908940076828,-0.051229551434517,0.204132929444313,-0.105870507657528));
res += mul(Get(s2,dx,dy), float4x4(-0.047212857753038,-0.079052373766899,0.032336335629225,0.160543859004974,0.023322336375713,0.109061963856220,0.035702217370272,-0.049832649528980,-0.085691131651402,0.006960505619645,-0.008431751281023,-0.143161222338676,-0.164930760860443,0.008685937151313,-0.012188590131700,-0.009272751398385));
res += mul(Get(s3,-dx,-dy), float4x4(-0.039720725268126,0.205707892775536,0.006095637567341,-0.146528795361519,-0.026825137436390,0.041952002793550,-0.012414412572980,-0.137407898902893,0.196394428610802,0.015490888617933,-0.137877941131592,-0.101103790104389,0.301009327173233,-0.149709716439247,-0.144279271364212,-0.082459487020969));
res += mul(Get(s3,-dx,0), float4x4(-0.023496558889747,-0.063402473926544,0.236347302794456,0.043190605938435,-0.325614154338837,0.003121856600046,0.051658585667610,-0.121832393109798,0.245136335492134,0.141436830163002,0.126236408948898,0.122791439294815,0.144718214869499,0.214007616043091,0.121966771781445,-0.182480022311211));
res += mul(Get(s3,-dx,dy), float4x4(0.076849177479744,0.124586187303066,-0.090430915355682,0.022507298737764,0.129890501499176,-0.125903248786926,0.098795831203461,0.184888169169426,-0.183116868138313,-0.127182468771935,-0.011897655203938,0.116435728967190,0.113672271370888,0.107645556330681,0.005745131056756,-0.135367870330811));
res += mul(Get(s3,0,-dy), float4x4(-0.287699252367020,-0.085478268563747,0.130651488900185,-0.135075464844704,-0.074522629380226,0.286480724811554,-0.040008660405874,0.082843512296677,-0.054228950291872,-0.164234176278114,-0.079543165862560,-0.000093487760751,-0.358242124319077,0.069092653691769,-0.044211618602276,-0.287365496158600));
res += mul(Get(s3,0,0), float4x4(-0.071270510554314,0.065979026257992,0.063104428350925,-0.102385528385639,0.063230998814106,-0.140315726399422,-0.038334395736456,0.076241746544838,-0.180387184023857,0.244210809469223,-0.129502639174461,0.059264861047268,-0.144394993782043,0.178838476538658,-0.035337056964636,-0.010425252839923));
res += mul(Get(s3,0,dy), float4x4(-0.101398095488548,0.011825511232018,-0.019986698403955,-0.094228670001030,0.153578922152519,-0.056189198046923,0.293631494045258,-0.243145361542702,0.114527553319931,0.127017244696617,-0.124749094247818,-0.051763188093901,0.050537161529064,-0.126538693904877,-0.059835694730282,0.032549619674683));
res += mul(Get(s3,dx,-dy), float4x4(-0.048503510653973,0.000234268882195,0.378076910972595,0.122392289340496,0.078590482473373,0.194338962435722,-0.101586230099201,0.014374339953065,-0.070416107773781,0.181534811854362,-0.276065677404404,-0.078370466828346,-0.031468525528908,0.227570593357086,-0.073399536311626,-0.011320059187710));
res += mul(Get(s3,dx,0), float4x4(0.054090309888124,0.115565277636051,-0.130078211426735,-0.085273467004299,0.065345458686352,-0.144488796591759,0.281715929508209,0.143440142273903,0.030029937624931,0.056413922458887,-0.008819768205285,-0.094700552523136,0.050457812845707,-0.271396696567535,-0.028234945610166,-0.110278688371181));
res += mul(Get(s3,dx,dy), float4x4(0.022713890299201,-0.018701918423176,0.063634708523750,-0.105258211493492,0.036540903151035,-0.067929618060589,0.045698966830969,-0.251743882894516,0.065928369760513,-0.084429062902927,-0.069993391633034,-0.015160053037107,0.052110884338617,-0.225984707474709,0.207259893417358,0.034696452319622));
return max(float4(0,0,0,0), res);
}
