sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.037874337285757,-0.102074980735779,-0.060075148940086,-0.061558574438095,0.194620937108994,0.010879629291594,0.180066347122192,-0.036977734416723,-0.027566174045205,-0.032803989946842,-0.182350337505341,0.194760352373123,-0.113149501383305,-0.092940971255302,-0.183526769280434,0.286010265350342));
res += mul(Get(s0,-dx,0), float4x4(0.027021752670407,-0.320550739765167,-0.100131452083588,0.000439690134954,0.164593711495399,0.001145297777839,0.080119244754314,0.143277972936630,0.036151513457298,-0.242369368672371,0.038745202124119,0.047885581851006,-0.214059367775917,-0.075947798788548,-0.026101734489202,-0.041584268212318));
res += mul(Get(s0,-dx,dy), float4x4(0.011394500732422,-0.165707215666771,0.086092807352543,-0.018040617927909,0.011778443120420,-0.201389744877815,0.041460525244474,0.282923668622971,0.161299079656601,-0.102421045303345,-0.038337711244822,0.123205699026585,-0.280606627464294,0.098782040178776,0.176047176122665,0.072025477886200));
res += mul(Get(s0,0,-dy), float4x4(0.078792840242386,-0.104568868875504,0.064524583518505,-0.061645660549402,0.061158858239651,-0.077880360186100,-0.011434433050454,-0.295183986425400,0.120835758745670,0.022371102124453,0.051700405776501,0.042503636330366,-0.062427036464214,0.005390483886003,-0.073435783386230,0.043406806886196));
res += mul(Get(s0,0,0), float4x4(0.119069427251816,-0.070700637996197,-0.148303210735321,-0.041474729776382,0.229037910699844,0.002178438240662,-0.137325897812843,-0.151404246687889,0.026033557951450,-0.061595089733601,-0.033200774341822,0.124666564166546,-0.107354916632175,0.024452345445752,0.045631617307663,-0.034451439976692));
res += mul(Get(s0,0,dy), float4x4(-0.102298028767109,-0.068485431373119,-0.200367823243141,-0.047985941171646,-0.103581167757511,-0.053318869322538,0.078223466873169,-0.147407665848732,0.046505894511938,-0.048923991620541,-0.193613767623901,-0.002012156415731,0.093165032565594,0.125640511512756,-0.001167028094642,0.101784959435463));
res += mul(Get(s0,dx,-dy), float4x4(-0.095859505236149,-0.135921105742455,-0.286068618297577,-0.018156006932259,-0.166750326752663,-0.114964284002781,0.196892440319061,-0.026093346998096,-0.089818537235260,-0.111461959779263,-0.110212385654449,-0.182390630245209,-0.065103374421597,-0.093576900660992,-0.089627429842949,-0.089850790798664));
res += mul(Get(s0,dx,0), float4x4(-0.080931261181831,0.060414634644985,-0.092490099370480,0.134594708681107,-0.203427582979202,-0.206738188862801,-0.055932030081749,0.028888257220387,-0.049679249525070,-0.043368373066187,0.105263754725456,0.148381605744362,0.154468923807144,0.209703579545021,-0.118000403046608,-0.005218741949648));
res += mul(Get(s0,dx,dy), float4x4(0.059439361095428,0.188473567366600,-0.144661083817482,-0.001590491272509,-0.040002226829529,-0.133763179183006,-0.109239235520363,0.059437148272991,-0.008287301287055,-0.179849654436111,-0.085853554308414,0.149912267923355,0.088571377098560,0.217898130416870,-0.279254466295242,0.031101429834962));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023166371509433,-0.068600304424763,0.078301191329956,0.045131616294384,0.026298979297280,0.078672520816326,-0.070158757269382,-0.014164130203426,0.018539587035775,-0.031326264142990,0.091988719999790,0.113918855786324,0.029106520116329,0.100093938410282,-0.163719102740288,-0.155015707015991));
res += mul(Get(s1,-dx,0), float4x4(-0.117979794740677,0.100607976317406,-0.007285463623703,-0.132329925894737,-0.171534374356270,-0.020224697887897,-0.088225357234478,0.092607080936432,0.002945460379124,-0.099214926362038,0.101135902106762,-0.102314464747906,0.148692384362221,-0.063666954636574,0.022480072453618,-0.157903194427490));
res += mul(Get(s1,-dx,dy), float4x4(-0.151433542370796,-0.112933509051800,-0.164942651987076,0.169172585010529,-0.082691341638565,-0.085377022624016,0.052577503025532,0.087295204401016,-0.079615637660027,-0.151747956871986,0.099352017045021,-0.099659167230129,-0.092647068202496,0.140489161014557,0.132376104593277,0.056864358484745));
res += mul(Get(s1,0,-dy), float4x4(-0.098201282322407,0.051017224788666,0.016223385930061,0.070676714181900,0.132885307073593,0.015352474525571,-0.080514438450336,0.075318619608879,0.142921909689903,0.062101759016514,0.039383504539728,0.055211924016476,0.032064534723759,0.236132845282555,-0.150088831782341,-0.053520556539297));
res += mul(Get(s1,0,0), float4x4(0.123120516538620,-0.024788973852992,-0.130413636565208,0.009503153152764,0.026734638959169,0.081256441771984,-0.051169205456972,0.140611052513123,-0.166067719459534,-0.124735027551651,0.005405850708485,0.048271633684635,-0.142973348498344,-0.048464532941580,0.107355743646622,0.138547435402870));
res += mul(Get(s1,0,dy), float4x4(0.061923511326313,-0.166183382272720,0.018767552450299,-0.236335217952728,-0.080213338136673,0.011150104925036,-0.074669830501080,-0.165012091398239,-0.007732663303614,0.145011067390442,0.065429255366325,0.092044889926910,0.165129095315933,-0.016888936981559,-0.112186126410961,0.001917501562275));
res += mul(Get(s1,dx,-dy), float4x4(0.009075922891498,-0.028086062520742,0.064145281910896,0.148962005972862,0.087630599737167,-0.108621217310429,-0.011278171092272,0.050857651978731,-0.023148659616709,-0.116039060056210,0.011677445843816,0.010661902837455,0.055650491267443,-0.053658436983824,0.107291728258133,-0.184660077095032));
res += mul(Get(s1,dx,0), float4x4(0.054411854594946,0.046722780913115,-0.154600307345390,-0.080873459577560,-0.079468868672848,0.130493894219398,0.073448270559311,0.137844413518906,-0.066373310983181,0.039707101881504,-0.211228311061859,-0.105756029486656,0.043565310537815,-0.036519438028336,-0.011120059527457,0.120875023305416));
res += mul(Get(s1,dx,dy), float4x4(0.067128010094166,0.100631400942802,0.012710811570287,0.008327936753631,0.136703193187714,-0.148732826113701,-0.165049776434898,0.081533044576645,0.074068538844585,-0.150243788957596,0.058185826987028,0.043766677379608,-0.122623883187771,-0.068985328078270,-0.049416039139032,-0.106669917702675));
res += mul(Get(s2,-dx,-dy), float4x4(-0.245578065514565,-0.104868069291115,-0.005931498017162,-0.140774935483932,-0.053524572402239,0.082688100636005,-0.043844696134329,0.047368817031384,0.125789895653725,0.137282937765121,0.001070637372322,-0.037797879427671,-0.215875595808029,-0.155156731605530,0.323235094547272,-0.152749538421631));
res += mul(Get(s2,-dx,0), float4x4(0.089852958917618,0.075843453407288,-0.145316973328590,0.049703668802977,0.178310811519623,0.068747833371162,0.156336501240730,-0.024657929316163,-0.020326705649495,-0.104839950799942,-0.115520849823952,0.069423556327820,0.042113959789276,-0.005771356634796,0.249055176973343,0.172425180673599));
res += mul(Get(s2,-dx,dy), float4x4(0.065825268626213,0.142660856246948,0.076628200709820,0.018792349845171,0.016659410670400,0.091126486659050,-0.148864150047302,0.072667740285397,0.040137145668268,-0.005737654864788,-0.024449039250612,0.209901168942451,-0.109121434390545,0.026483437046409,0.089478328824043,0.136487677693367));
res += mul(Get(s2,0,-dy), float4x4(0.001497519668192,0.309616327285767,0.022121911868453,0.079619497060776,-0.080139607191086,0.041811116039753,-0.136542245745659,-0.005887815263122,-0.015324005857110,0.084718652069569,0.062229976058006,0.009782675653696,0.084479294717312,-0.334873080253601,0.104784220457077,-0.060078110545874));
res += mul(Get(s2,0,0), float4x4(-0.103362642228603,-0.087974704802036,0.083210550248623,-0.075925543904305,-0.130614578723907,0.107591435313225,-0.075266502797604,0.151826232671738,0.134417474269867,0.188569441437721,0.009106068871915,0.158036828041077,0.099214337766171,0.016032610088587,0.116153709590435,0.008865147829056));
res += mul(Get(s2,0,dy), float4x4(-0.155026495456696,-0.176736846566200,0.003808832261711,-0.031790610402822,-0.080323509871960,0.087960451841354,0.076013967394829,-0.081559240818024,0.238297671079636,-0.107914596796036,0.089966580271721,-0.012037079781294,0.000057690940594,0.016093280166388,-0.084343068301678,0.040362663567066));
res += mul(Get(s2,dx,-dy), float4x4(-0.010349554941058,0.074310533702374,-0.053222682327032,0.082335874438286,0.007273029536009,-0.126399084925652,0.057352278381586,-0.004721214529127,-0.027718093246222,0.298455178737640,-0.020865703001618,0.102292031049728,0.197398647665977,-0.048188619315624,0.025160182267427,0.150154724717140));
res += mul(Get(s2,dx,0), float4x4(-0.156694903969765,0.072437070310116,0.090309940278530,-0.163053587079048,0.033769156783819,-0.010963451117277,0.122691527009010,-0.021420134231448,-0.140156760811806,-0.102368883788586,0.045345775783062,-0.125365212559700,-0.003963615279645,0.049092568457127,-0.126376003026962,0.004941205959767));
res += mul(Get(s2,dx,dy), float4x4(-0.102334760129452,0.043438147753477,-0.058139603585005,0.025139683857560,0.015317926183343,0.008263860829175,-0.022010251879692,-0.032326895743608,0.000312148185913,0.210808798670769,-0.063224129378796,0.036283150315285,0.015189933590591,-0.061477027833462,-0.069696716964245,-0.098299235105515));
res += mul(Get(s3,-dx,-dy), float4x4(-0.058271087706089,0.051190130412579,-0.096001230180264,-0.135793179273605,-0.061000142246485,0.019108265638351,0.164836212992668,-0.109976828098297,-0.061987724155188,-0.125279247760773,0.075037628412247,-0.018022997304797,0.025756042450666,-0.033529322594404,-0.144904017448425,0.046038758009672));
res += mul(Get(s3,-dx,0), float4x4(-0.097480878233910,-0.060720544308424,0.075747258961201,-0.319501370191574,0.118787281215191,0.092338234186172,-0.077048726379871,0.001269263913855,-0.025788497179747,-0.074393980205059,-0.029888156801462,0.041004970669746,0.157955512404442,0.025337938219309,0.082041099667549,0.215153053402901));
res += mul(Get(s3,-dx,dy), float4x4(0.088856309652328,0.212900280952454,0.170096263289452,-0.033590920269489,0.010321481153369,-0.170252040028572,-0.210987895727158,-0.147202894091606,0.024179156869650,0.255270183086395,-0.052652057260275,0.310828626155853,-0.045434076339006,0.053447362035513,-0.109934218227863,0.033018872141838));
res += mul(Get(s3,0,-dy), float4x4(0.009464696049690,0.205865904688835,0.037299826741219,-0.007107709534466,0.035926904529333,-0.051042020320892,0.036341231316328,0.172686532139778,-0.040969878435135,-0.001375719672069,0.063044287264347,0.040076214820147,0.159867182374001,-0.038918439298868,-0.266450792551041,0.071539625525475));
res += mul(Get(s3,0,0), float4x4(-0.045637000352144,0.157882943749428,-0.051606029272079,0.145654648542404,0.137016892433167,-0.088693819940090,0.108399726450443,0.021491082385182,-0.025932159274817,-0.020529475063086,0.111541688442230,0.000780557747930,0.184985354542732,0.005090895574540,0.052934750914574,-0.040553919970989));
res += mul(Get(s3,0,dy), float4x4(-0.093089930713177,-0.182610780000687,-0.014260924421251,0.012452934868634,-0.093149155378342,0.026721104979515,0.013595122843981,-0.132145047187805,0.132446035742760,0.188450708985329,-0.041270866990089,0.019854860380292,-0.171999350190163,0.084559336304665,0.129742592573166,0.083416789770126));
res += mul(Get(s3,dx,-dy), float4x4(-0.055673811584711,0.128236010670662,0.050852432847023,0.126574948430061,-0.041237164288759,0.108638241887093,-0.025130225345492,0.203222215175629,-0.068119108676910,-0.083791792392731,0.146072879433632,-0.082155980169773,-0.119029633700848,-0.148972198367119,-0.044904474169016,0.041729230433702));
res += mul(Get(s3,dx,0), float4x4(-0.106110654771328,-0.121718876063824,-0.111823007464409,-0.051213238388300,-0.066709421575069,-0.016717243939638,0.034892179071903,0.122988402843475,-0.043958604335785,0.015666259452701,-0.009081789292395,-0.180474743247032,-0.148664325475693,-0.057304400950670,-0.059374053031206,-0.072468481957912));
res += mul(Get(s3,dx,dy), float4x4(0.012531883083284,0.096219033002853,-0.129897117614746,0.166213661432266,-0.176546707749367,-0.039609543979168,-0.079133965075016,0.007128737866879,0.057694934308529,0.057134304195642,0.063420206308365,0.074905619025230,-0.012055762112141,-0.067717686295509,-0.251761764287949,0.044313896447420));
return max(float4(0,0,0,0), res);
}
