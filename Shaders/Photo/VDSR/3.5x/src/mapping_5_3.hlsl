sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.036639112979174,-0.019557967782021,0.125651031732559,-0.155494183301926,-0.018741760402918,0.016688691452146,-0.037640750408173,-0.049680452793837,0.090902537107468,-0.116920299828053,-0.140802651643753,0.019613271579146,-0.065891623497009,0.015603114850819,-0.047932893037796,0.000197992019821));
res += mul(Get(s0,-dx,0), float4x4(-0.119147211313248,-0.009545796550810,0.025693129748106,-0.020389974117279,0.058288048952818,-0.044816579669714,0.146950319409370,0.074082553386688,-0.036161091178656,-0.118141807615757,-0.093431189656258,0.095465503633022,-0.031335599720478,0.126100391149521,0.060011565685272,0.103342503309250));
res += mul(Get(s0,-dx,dy), float4x4(0.031179966405034,-0.112320296466351,0.029362805187702,-0.017323123291135,0.109038442373276,0.054896138608456,0.145351529121399,0.056470904499292,-0.060706373304129,-0.162144616246223,0.016508813947439,0.179483830928802,-0.009374965913594,-0.104026176035404,-0.063068762421608,0.206471785902977));
res += mul(Get(s0,0,-dy), float4x4(0.077795550227165,-0.009621731936932,0.281080096960068,-0.181707844138145,-0.074307054281235,-0.038361046463251,-0.016092984005809,-0.036615122109652,0.009058342315257,-0.029385928064585,-0.012624055147171,-0.037806428968906,0.051379099488258,-0.102979756891727,-0.089158229529858,0.005605684593320));
res += mul(Get(s0,0,0), float4x4(-0.036475423723459,-0.078558579087257,0.020933786407113,-0.016655229032040,0.044197421520948,-0.047881513834000,-0.060914035886526,-0.107519641518593,-0.066329732537270,0.025947351008654,-0.047039479017258,-0.084764309227467,0.137803018093109,0.271814882755280,0.031559098511934,-0.066106103360653));
res += mul(Get(s0,0,dy), float4x4(-0.032256275415421,-0.090390935540199,-0.044104244560003,0.197237163782120,0.037678968161345,0.064300060272217,0.002388973953202,0.154809445142746,-0.043579649180174,-0.037975464016199,0.051717717200518,-0.023635227233171,0.015066900290549,0.116245284676552,0.054968044161797,-0.043600961565971));
res += mul(Get(s0,dx,-dy), float4x4(0.108035258948803,0.075940348207951,0.190669596195221,0.028488107025623,-0.075141362845898,0.104187376797199,-0.064903631806374,-0.057092472910881,-0.054765749722719,-0.014641524292529,0.014531799592078,-0.055269114673138,0.079571902751923,-0.178766757249832,-0.014240710064769,0.154331758618355));
res += mul(Get(s0,dx,0), float4x4(-0.027143178507686,0.165672093629837,-0.048978097736835,0.003905990393832,-0.038000300526619,0.081765837967396,0.056292712688446,-0.142479732632637,-0.054386578500271,-0.029443955048919,-0.032116521149874,-0.045621227473021,0.177941337227821,-0.043974313884974,-0.155570417642593,-0.078681424260139));
res += mul(Get(s0,dx,dy), float4x4(0.055296961218119,0.156187012791634,0.079090662300587,0.080380029976368,-0.093908496201038,-0.060835797339678,-0.032405503094196,0.086142688989639,0.019157059490681,-0.110661000013351,0.092784255743027,-0.001044954638928,0.087254196405411,0.067249730229378,0.063833527266979,-0.109099425375462));
res += mul(Get(s1,-dx,-dy), float4x4(-0.025265626609325,-0.005823951214552,-0.000526175892446,0.156244590878487,0.061514340341091,0.131135597825050,0.149071514606476,-0.120466142892838,-0.070764690637589,0.025446629151702,0.076435215771198,-0.085470609366894,0.033762805163860,0.056971851736307,0.071886889636517,-0.054532252252102));
res += mul(Get(s1,-dx,0), float4x4(0.156651154160500,0.041309412568808,0.009463227353990,0.097955048084259,0.054204832762480,-0.065833918750286,-0.023393847048283,-0.060005627572536,-0.048676963895559,-0.100402519106865,-0.016571983695030,0.111872173845768,-0.013738284818828,-0.014116557314992,0.148799017071724,-0.084264017641544));
res += mul(Get(s1,-dx,dy), float4x4(0.003811100730672,0.082857124507427,-0.000533106038347,0.051373247057199,0.101630836725235,0.000035312514228,-0.018479937687516,0.009755338542163,-0.092648647725582,-0.033411979675293,-0.087819598615170,0.005242736078799,-0.157162636518478,0.031908571720123,-0.022150147706270,-0.032194744795561));
res += mul(Get(s1,0,-dy), float4x4(0.102949671447277,0.031538013368845,-0.010859561152756,-0.106286756694317,0.160936698317528,0.000496518972795,0.101076163351536,-0.044789962470531,0.054159190505743,0.144207760691643,0.262519925832748,-0.041713699698448,0.045963820070028,-0.027058437466621,0.019417084753513,0.102544873952866));
res += mul(Get(s1,0,0), float4x4(0.100735135376453,-0.022546729072928,0.025789842009544,0.057908628135920,-0.016405031085014,-0.074052326381207,-0.048168826848269,-0.068120636045933,-0.068997122347355,0.093439579010010,-0.104451879858971,-0.027023574337363,-0.074814982712269,-0.142683520913124,-0.030020570382476,-0.091811910271645));
res += mul(Get(s1,0,dy), float4x4(-0.084721334278584,0.070916771888733,0.032648686319590,0.179609388113022,0.125665277242661,0.023128096014261,0.013995987363160,0.038624797016382,-0.020498389378190,-0.046105511486530,-0.221364185214043,-0.092948123812675,-0.078171588480473,-0.020275531336665,-0.072325646877289,-0.062383674085140));
res += mul(Get(s1,dx,-dy), float4x4(0.073079049587250,-0.069338694214821,-0.096210047602654,-0.084973640739918,0.015145279467106,0.067293897271156,0.017495628446341,-0.005682201590389,0.014880697242916,0.299095273017883,-0.104662403464317,-0.081391125917435,0.056453563272953,0.005340761970729,0.007789043243974,0.141607373952866));
res += mul(Get(s1,dx,0), float4x4(-0.067955315113068,-0.078737169504166,-0.004685526713729,0.113097392022610,-0.007197637576610,-0.081087261438370,0.011081545613706,-0.020028941333294,-0.072155192494392,0.130965620279312,-0.182654052972794,-0.158555924892426,-0.062411263585091,-0.131815835833549,-0.098591282963753,0.049649715423584));
res += mul(Get(s1,dx,dy), float4x4(0.048219561576843,-0.121637485921383,-0.043928135186434,0.119376152753830,0.155674397945404,-0.039943024516106,0.135187923908234,-0.157057881355286,0.075645700097084,-0.146866306662560,-0.135029613971710,-0.059705227613449,-0.146867796778679,-0.087450824677944,0.091447770595551,-0.059342931956053));
res += mul(Get(s2,-dx,-dy), float4x4(-0.102619074285030,-0.057837598025799,-0.156708553433418,-0.041602384299040,-0.085108809173107,0.014411103911698,-0.033982075750828,0.071117818355560,-0.026625055819750,-0.045575562864542,-0.007081873249263,-0.056249640882015,-0.011548561975360,0.044493153691292,-0.124484442174435,0.005000090226531));
res += mul(Get(s2,-dx,0), float4x4(-0.006109126843512,-0.027711698785424,0.159424304962158,0.044625535607338,0.001759885577485,0.047260493040085,0.016029154881835,0.151491656899452,-0.023579871281981,-0.092443645000458,0.017001384869218,0.005598187912256,-0.038860682398081,0.114565096795559,0.000624777108897,0.066892310976982));
res += mul(Get(s2,-dx,dy), float4x4(0.113498069345951,0.051455941051245,0.122080057859421,0.099799938499928,0.036272846162319,0.013645281083882,0.024851681664586,-0.033886574208736,0.299396663904190,0.016709687188268,-0.019084813073277,0.161377713084221,-0.025814751163125,0.009705349802971,0.029481323435903,-0.064019925892353));
res += mul(Get(s2,0,-dy), float4x4(-0.118134848773479,0.051384765654802,-0.066806048154831,-0.072526022791862,0.099121488630772,0.033639859408140,-0.039900530129671,0.012479203753173,0.031042104586959,0.095516450703144,0.015537007711828,-0.082453176379204,0.012390656396747,0.046228338032961,-0.017594555392861,0.052415121346712));
res += mul(Get(s2,0,0), float4x4(-0.097455732524395,-0.069683082401752,-0.046304926276207,-0.057931415736675,0.074936002492905,0.016830658540130,-0.083325944840908,0.112304940819740,0.124663591384888,-0.057828657329082,-0.046822052448988,-0.022405361756682,-0.001018522889353,0.053445678204298,0.084960758686066,0.035875402390957));
res += mul(Get(s2,0,dy), float4x4(0.114333912730217,0.039357770234346,0.025727413594723,-0.083458162844181,0.159373611211777,0.134413823485374,0.031271476298571,-0.088732391595840,0.170724913477898,-0.002342802006751,-0.128493472933769,-0.061350416392088,-0.075075268745422,0.013143139891326,0.059742271900177,-0.023574309423566));
res += mul(Get(s2,dx,-dy), float4x4(0.040324751287699,-0.193663001060486,-0.089735642075539,0.060560118407011,0.135552808642387,0.023777039721608,0.082136228680611,0.074803940951824,0.088130787014961,0.131594687700272,0.040879119187593,0.000933541101404,-0.025507509708405,-0.047148495912552,-0.033363807946444,0.006937596946955));
res += mul(Get(s2,dx,0), float4x4(-0.117208845913410,-0.146487221121788,-0.000803108443506,0.028694327920675,0.127587199211121,-0.026696925982833,-0.038686119019985,0.168045684695244,-0.004189184866846,0.047051072120667,0.003870831569657,-0.041953146457672,0.098728843033314,0.026490360498428,-0.005975273437798,-0.120968356728554));
res += mul(Get(s2,dx,dy), float4x4(0.078424863517284,0.097446911036968,0.052905414253473,-0.129525482654572,0.035674929618835,-0.167156070470810,0.058426696807146,-0.139274895191193,-0.080525510013103,0.037511438131332,-0.028738114982843,-0.088465526700020,0.017600214108825,0.042741801589727,-0.019467445090413,-0.017108468338847));
res += mul(Get(s3,-dx,-dy), float4x4(-0.093425676226616,-0.096713550388813,-0.055694971233606,0.228652641177177,0.005433606449515,0.013152962550521,0.047412421554327,-0.013004112057388,-0.059196077287197,-0.012760306708515,0.028735697269440,-0.052104186266661,-0.043609846383333,-0.083406783640385,-0.101222403347492,0.015795515850186));
res += mul(Get(s3,-dx,0), float4x4(-0.152151584625244,0.067421585321426,-0.030844217166305,-0.023760149255395,-0.073633395135403,-0.126546606421471,-0.026273127645254,0.169229790568352,0.054967176169157,0.044050879776478,0.054212674498558,-0.052111312747002,0.034037370234728,-0.071144327521324,-0.064094468951225,0.029179861769080));
res += mul(Get(s3,-dx,dy), float4x4(-0.031304303556681,-0.045470483601093,-0.018469175323844,0.013855380006135,0.016157550737262,-0.031829547137022,-0.027984902262688,0.402173161506653,0.175007760524750,-0.027035459876060,0.008219013921916,-0.045420840382576,-0.034987758845091,-0.070203058421612,-0.034104693681002,-0.080741994082928));
res += mul(Get(s3,0,-dy), float4x4(-0.061816021800041,-0.003498705802485,-0.085136778652668,0.090913809835911,-0.084325343370438,0.002925262553617,-0.011121562682092,-0.138274058699608,-0.073509819805622,-0.130643278360367,0.121445298194885,-0.069557130336761,-0.081106647849083,-0.056945465505123,-0.086336508393288,-0.078722082078457));
res += mul(Get(s3,0,0), float4x4(0.000971432018559,-0.039045847952366,-0.010198743082583,-0.111697047948837,-0.124303564429283,-0.118876621127129,-0.092065006494522,-0.126916825771332,-0.035251047462225,-0.084314614534378,0.011282388120890,-0.067193679511547,0.000985838007182,-0.060059480369091,-0.024891333654523,0.088921420276165));
res += mul(Get(s3,0,dy), float4x4(-0.011242915876210,0.056938372552395,-0.063392765820026,-0.088694617152214,-0.087662450969219,-0.057211980223656,-0.066577687859535,0.028720401227474,-0.029363401234150,-0.119676515460014,0.039207521826029,-0.030873967334628,0.009979792870581,-0.061512112617493,-0.010689809918404,-0.029554644599557));
res += mul(Get(s3,dx,-dy), float4x4(-0.112824536859989,-0.071417734026909,-0.062057897448540,0.106565363705158,-0.021851308643818,0.044520620256662,-0.099615968763828,-0.030353764072061,-0.008371338248253,0.030504416674376,-0.064290061593056,0.018566999584436,-0.123576216399670,-0.062051884829998,-0.114068239927292,-0.112498641014099));
res += mul(Get(s3,dx,0), float4x4(-0.024458840489388,-0.097771428525448,0.035729970782995,0.067705839872360,-0.033217974007130,-0.006909685209394,-0.203955560922623,-0.080123007297516,-0.078539505600929,0.007058319170028,-0.016653740778565,0.037130128592253,-0.094243615865707,-0.085228361189365,-0.102855399250984,-0.125250056385994));
res += mul(Get(s3,dx,dy), float4x4(0.024935560300946,0.017732633277774,-0.007853589951992,-0.128543496131897,-0.093979708850384,-0.057898283004761,-0.018651032820344,0.043140526860952,-0.061579152941704,-0.006354823708534,-0.091078758239746,-0.043707724660635,-0.061100311577320,-0.162441566586494,-0.118764877319336,0.108024373650551));
return max(float4(0,0,0,0), res);
}
