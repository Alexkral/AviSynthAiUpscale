sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.046478189527988,-0.011536356061697,-0.002013763412833,0.101310923695564,0.171883851289749,-0.074316605925560,-0.163044601678848,-0.101047307252884,-0.047227889299393,-0.098590195178986,0.055041223764420,0.084532871842384,-0.042196638882160,-0.077815391123295,-0.050583228468895,-0.027687935158610));
res += mul(Get(s0,-dx,0), float4x4(0.003263646736741,-0.010623129084706,0.085081830620766,0.065538905560970,0.132953613996506,0.048460178077221,-0.088963024318218,-0.110278278589249,-0.027545113116503,-0.015507495030761,0.053663525730371,0.064621880650520,-0.087986990809441,-0.035208418965340,0.117825545370579,-0.088451541960239));
res += mul(Get(s0,-dx,dy), float4x4(0.047285798937082,-0.027186734601855,-0.067335516214371,-0.098416522145271,0.008703819476068,-0.029516439884901,-0.038428314030170,-0.085804417729378,-0.095996960997581,-0.056312713772058,-0.016933916136622,-0.123198516666889,-0.007794735953212,-0.011200668290257,0.058180842548609,0.033224765211344));
res += mul(Get(s0,0,-dy), float4x4(0.015580710023642,0.053343757987022,0.036572825163603,0.108321711421013,0.154782250523567,0.094356074929237,-0.049318995326757,-0.201440975070000,0.025017207488418,-0.102717868983746,0.007711629383266,-0.036887545138597,-0.087225377559662,0.019600424915552,-0.045337926596403,-0.017253564670682));
res += mul(Get(s0,0,0), float4x4(-0.006549422629178,-0.037058711051941,-0.004659304860979,0.179343134164810,-0.019926214590669,0.098871044814587,0.021822275593877,-0.052101571112871,-0.019135797396302,0.037702925503254,0.013581666164100,-0.111249379813671,-0.049249738454819,-0.025062678381801,0.089553579688072,-0.024681409820914));
res += mul(Get(s0,0,dy), float4x4(0.042555473744869,0.046277690678835,0.015382109209895,-0.117240101099014,-0.000738343864214,0.069536961615086,-0.008544773794711,-0.044200707226992,-0.081304855644703,-0.039931062608957,-0.137760207056999,-0.099904723465443,0.083902485668659,0.032568641006947,-0.042594514787197,0.064617149531841));
res += mul(Get(s0,dx,-dy), float4x4(-0.132855027914047,0.082314617931843,-0.099074229598045,0.172895833849907,0.121760711073875,0.049616012722254,-0.016981463879347,-0.045953009277582,0.094819501042366,-0.019838424399495,0.056508284062147,-0.083487614989281,-0.088703617453575,-0.048123262822628,0.029176875948906,0.117054820060730));
res += mul(Get(s0,dx,0), float4x4(-0.090643063187599,-0.038045290857553,0.078587070107460,0.071950852870941,0.055549979209900,0.074547022581100,-0.014679075218737,-0.031272068619728,0.019867159426212,0.013581973500550,0.040244542062283,-0.010626483708620,0.008609805256128,0.038619533181190,0.099193438887596,0.014931760728359));
res += mul(Get(s0,dx,dy), float4x4(-0.013346806168556,0.051189035177231,-0.082714229822159,-0.044802758842707,-0.069246500730515,0.026825187727809,0.005453037563711,-0.037234939634800,0.012104639783502,-0.026187188923359,0.059020187705755,0.066660009324551,0.079081498086452,0.045885924249887,-0.059460233896971,0.043185386806726));
res += mul(Get(s1,-dx,-dy), float4x4(0.003869092091918,-0.000613907934166,-0.105346217751503,-0.019655121490359,0.082415685057640,-0.139284700155258,0.088504448533058,0.010213905945420,-0.032082896679640,0.023039529100060,0.073752954602242,0.048451341688633,-0.014928895980120,0.057950649410486,-0.017520489171147,0.081376753747463));
res += mul(Get(s1,-dx,0), float4x4(0.060713361948729,-0.112536109983921,-0.086271062493324,-0.092359878122807,0.105269700288773,0.004579792264849,-0.044715583324432,0.086258552968502,-0.062384318560362,0.127550095319748,0.226888522505760,0.078703761100769,-0.063938811421394,-0.009836412966251,0.015911387279630,0.087420284748077));
res += mul(Get(s1,-dx,dy), float4x4(0.149357229471207,-0.003505437402055,-0.043863292783499,-0.052213929593563,0.038945309817791,0.011737649329007,0.114742569625378,-0.035165525972843,0.043907999992371,0.007983465678990,0.055793128907681,-0.060174897313118,0.034365497529507,-0.044618342071772,-0.042818702757359,-0.064693160355091));
res += mul(Get(s1,0,-dy), float4x4(-0.078393548727036,0.050332173705101,-0.082757420837879,-0.148330599069595,-0.032125368714333,0.089843653142452,-0.151312157511711,-0.122431397438049,-0.009281423874199,0.020892366766930,0.030616555362940,-0.038106076419353,0.041779942810535,0.105912715196609,0.069546155631542,-0.005821875296533));
res += mul(Get(s1,0,0), float4x4(-0.018778664991260,-0.025522066280246,-0.111789435148239,0.018618647009134,-0.081785582005978,0.007821451872587,-0.064087592065334,-0.046359747648239,-0.016490366309881,0.111186191439629,0.141393393278122,0.053351134061813,-0.084569707512856,-0.147396117448807,-0.095082700252533,0.047970697283745));
res += mul(Get(s1,0,dy), float4x4(0.079672150313854,-0.041154582053423,-0.208640575408936,-0.020202465355396,0.073578640818596,-0.013944376260042,-0.147533163428307,0.053373910486698,-0.023707967251539,0.083162084221840,0.012381700798869,0.079644046723843,-0.013260069303215,-0.040375210344791,-0.014931614510715,0.058194257318974));
res += mul(Get(s1,dx,-dy), float4x4(-0.063723050057888,-0.021930249407887,-0.037562556564808,0.039669770747423,-0.033318944275379,-0.074712306261063,-0.001967463875189,-0.126025155186653,0.082906968891621,0.158976331353188,0.026071326807141,-0.125739276409149,0.022849040105939,0.288816452026367,0.106477558612823,0.007049699313939));
res += mul(Get(s1,dx,0), float4x4(-0.100270308554173,-0.034410174936056,0.003225358435884,-0.010100728832185,-0.118207596242428,-0.124201603233814,-0.051558237522840,-0.078743629157543,-0.021668396890163,0.194981843233109,0.009998457506299,0.067183345556259,-0.064407691359520,0.012348276562989,0.176594421267509,0.007064573001117));
res += mul(Get(s1,dx,dy), float4x4(0.049493599683046,-0.177570685744286,-0.052458576858044,0.085841462016106,-0.003903302596882,-0.027065768837929,0.001021440722980,0.021208053454757,0.010271946899593,-0.052321780472994,0.053938370198011,-0.010750204324722,-0.024741496890783,-0.079766698181629,-0.094952151179314,-0.024198554456234));
res += mul(Get(s2,-dx,-dy), float4x4(0.059859704226255,0.044555988162756,-0.157391220331192,-0.076957941055298,-0.025808811187744,-0.096649296581745,0.193836927413940,0.040244057774544,-0.045398086309433,-0.065754406154156,0.061104465276003,0.087056867778301,-0.008715592324734,0.045635018497705,0.008757143281400,0.196197926998138));
res += mul(Get(s2,-dx,0), float4x4(0.000608194968663,-0.094383314251900,0.008190261200070,-0.069517135620117,-0.095784984529018,-0.032931208610535,0.054393514990807,-0.028111042454839,-0.062159642577171,-0.032181758433580,0.027859041467309,0.026225641369820,0.040819521993399,0.048303958028555,-0.000646835076623,0.064782612025738));
res += mul(Get(s2,-dx,dy), float4x4(-0.003243675921112,0.084467411041260,0.045266002416611,-0.021423235535622,-0.097528673708439,-0.036933191120625,0.071752853691578,0.028535576537251,-0.037573296576738,0.016440099105239,-0.088546417653561,0.126826807856560,0.037230767309666,0.015786334872246,0.012657648883760,0.076270490884781));
res += mul(Get(s2,0,-dy), float4x4(0.121718600392342,-0.020665155723691,0.043227903544903,-0.054297775030136,0.096483729779720,-0.234728232026100,0.093412101268768,-0.110848374664783,-0.089847519993782,-0.063428789377213,0.164003521203995,-0.021301971748471,-0.072587326169014,0.044830724596977,0.028107991442084,0.191240042448044));
res += mul(Get(s2,0,0), float4x4(0.106649227440357,0.051089625805616,-0.019347926601768,-0.116357065737247,-0.001381371170282,0.025002719834447,0.050321932882071,-0.102906517684460,0.009949708357453,-0.114055000245571,-0.045790333300829,0.082586564123631,-0.016405750066042,0.077524460852146,-0.015671305358410,0.040817815810442));
res += mul(Get(s2,0,dy), float4x4(-0.033096317201853,0.031114520505071,-0.018055936321616,-0.122958347201347,-0.090753130614758,-0.011393295601010,0.095886774361134,-0.093203298747540,0.051381494849920,0.032102536410093,0.106074832379818,0.008948313072324,-0.032206285744905,0.058737926185131,0.017778817564249,0.078422270715237));
res += mul(Get(s2,dx,-dy), float4x4(0.026646928861737,0.078714512288570,-0.141345918178558,0.014284669421613,0.149249225854874,0.030739435926080,0.006634893827140,-0.098323240876198,0.002837198786438,0.009273946285248,0.027781045064330,0.097199924290180,-0.060779619961977,-0.106020718812943,0.007775596808642,0.087962463498116));
res += mul(Get(s2,dx,0), float4x4(-0.084553189575672,0.149576574563980,-0.135067880153656,0.033254433423281,0.080688253045082,0.002214752836153,-0.026912610977888,-0.125414282083511,0.021992806345224,-0.044090576469898,0.021445641294122,0.133588567376137,-0.020825037732720,-0.030865103006363,-0.067383065819740,-0.009389339946210));
res += mul(Get(s2,dx,dy), float4x4(-0.162032365798950,0.021592101082206,-0.216223239898682,-0.020355615764856,-0.033394098281860,0.010911157354712,0.087043739855289,-0.057139113545418,0.096696928143501,0.161990225315094,-0.023520646616817,-0.065960444509983,0.064666606485844,-0.011965218931437,0.047149464488029,0.026005864143372));
res += mul(Get(s3,-dx,-dy), float4x4(-0.065428525209427,-0.024558139964938,-0.095169752836227,-0.024531358852983,0.085480324923992,-0.137028098106384,-0.082072235643864,-0.120559476315975,-0.077025361359119,-0.083373367786407,0.018670152872801,-0.020597994327545,-0.082520902156830,-0.014532007277012,-0.036388389766216,0.026878943666816));
res += mul(Get(s3,-dx,0), float4x4(-0.091587767004967,-0.024499488994479,-0.089927345514297,-0.013095209375024,0.100796319544315,0.076324902474880,-0.100405603647232,-0.124775290489197,0.040540978312492,0.039593193680048,-0.009219844825566,0.046491693705320,-0.060515694320202,0.106543272733688,-0.028984047472477,-0.018214883282781));
res += mul(Get(s3,-dx,dy), float4x4(0.070573203265667,0.033602647483349,0.016963975504041,0.012609212659299,-0.089517228305340,0.008926563896239,-0.100334659218788,0.001028382685035,0.074606396257877,-0.090328350663185,0.053139097988605,0.034801665693521,-0.002333384938538,0.003703561145812,-0.040679588913918,-0.006144761107862));
res += mul(Get(s3,0,-dy), float4x4(-0.058923028409481,-0.041873142123222,-0.034508768469095,-0.041920844465494,0.041376553475857,-0.033985294401646,-0.042974919080734,-0.019804418087006,0.008238796144724,-0.045982014387846,-0.107640258967876,0.061664748936892,-0.010438927449286,0.030261315405369,-0.115565508604050,0.023495709523559));
res += mul(Get(s3,0,0), float4x4(-0.015558669343591,-0.062729395925999,0.025498371571302,0.076988846063614,-0.044729266315699,-0.079204820096493,-0.052361741662025,0.025082955136895,0.043060690164566,0.114011839032173,-0.112552762031555,-0.060593772679567,-0.030649276450276,-0.092616640031338,-0.012352992780507,-0.075249306857586));
res += mul(Get(s3,0,dy), float4x4(0.060717336833477,-0.027059692889452,0.004096931777894,0.013765564188361,-0.034751877188683,-0.007836382836103,-0.148246094584465,-0.023538697510958,0.028974227607250,0.016587276011705,-0.096514321863651,-0.073441579937935,0.029090076684952,-0.163884490728378,-0.046659059822559,-0.007583400700241));
res += mul(Get(s3,dx,-dy), float4x4(0.070802658796310,-0.014592560008168,0.043246522545815,-0.061781946569681,-0.019914023578167,0.011776037514210,0.002055888529867,-0.012547670863569,-0.162007674574852,0.010645627975464,-0.137083783745766,0.165227860212326,-0.057058587670326,0.060043327510357,0.245166093111038,0.155590176582336));
res += mul(Get(s3,dx,0), float4x4(0.020912336185575,0.016609512269497,-0.085426777601242,0.094421848654747,-0.069132760167122,-0.091195493936539,-0.093677543103695,-0.061984408646822,0.002392856171355,-0.044028036296368,-0.137251883745193,0.162872359156609,0.041130866855383,0.160376667976379,0.208046793937683,-0.087599135935307));
res += mul(Get(s3,dx,dy), float4x4(0.055619414895773,-0.000422347016865,0.013089523650706,0.005887011997402,-0.112678192555904,-0.002877914113924,-0.040737774223089,-0.045631110668182,0.001870574895293,-0.058536686003208,-0.110074631869793,-0.042671062052250,0.110155366361141,0.201848462224007,0.164868727326393,-0.096428021788597));
return max(float4(0,0,0,0), res);
}
