sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.074387952685356,-0.135276943445206,0.194352209568024,-0.097397908568382,0.216881245374680,-0.118371061980724,0.068749025464058,-0.034706275910139,-0.010870932601392,-0.057113274931908,0.275787621736526,-0.124897308647633,-0.098390884697437,-0.183522507548332,0.125252172350883,0.178747802972794));
res += mul(Get(s0,-dx,0), float4x4(0.004909780342132,-0.010073963552713,0.078395172953606,0.029980204999447,0.319597929716110,0.035700861364603,-0.023142753168941,0.118489138782024,-0.115608893334866,0.119177691638470,0.157413780689240,0.139514073729515,0.001970150042325,-0.005355392582715,0.041189137846231,-0.050724960863590));
res += mul(Get(s0,-dx,dy), float4x4(-0.018401868641376,-0.242230609059334,0.193190887570381,-0.098402850329876,0.126926600933075,-0.161230191588402,-0.137712240219116,-0.086272075772285,0.094452455639839,0.060053266584873,0.084096722304821,0.129548221826553,-0.150814205408096,0.133639439940453,-0.006666969042271,-0.070967853069305));
res += mul(Get(s0,0,-dy), float4x4(-0.026296002790332,0.035670444369316,0.088855437934399,0.117447666823864,0.067626774311066,-0.023196682333946,0.073738634586334,-0.043695233762264,0.042612127959728,-0.224940150976181,0.010015243664384,-0.019289914518595,-0.117640033364296,-0.048823770135641,-0.012627721764147,-0.105769149959087));
res += mul(Get(s0,0,0), float4x4(0.082762189209461,0.160534262657166,0.160281285643578,-0.062945939600468,-0.050873324275017,-0.089705273509026,0.016413994133472,-0.075348705053329,0.126840278506279,-0.049167972058058,-0.091189995408058,0.111447915434837,0.036622945219278,0.095812022686005,-0.043143838644028,-0.063823513686657));
res += mul(Get(s0,0,dy), float4x4(0.043757952749729,-0.148825466632843,-0.030760148540139,-0.002082085004076,0.166705548763275,0.006490734405816,0.140153959393501,0.080440253019333,-0.115507066249847,0.044963486492634,-0.059068735688925,-0.010811625979841,-0.002328199334443,0.098633207380772,0.006951820105314,0.110198713839054));
res += mul(Get(s0,dx,-dy), float4x4(0.194379732012749,0.157432913780212,-0.102120235562325,-0.210216432809830,-0.088626436889172,-0.017807196825743,0.087965533137321,-0.245894834399223,-0.135622739791870,-0.001292787375860,0.179735779762268,-0.052221104502678,0.019122701138258,-0.041650924831629,0.015261494554579,-0.039262168109417));
res += mul(Get(s0,dx,0), float4x4(0.056833606213331,-0.003616637084633,0.074687950313091,-0.103624567389488,0.001703246030957,0.078761264681816,0.182664349675179,-0.137831330299377,0.234953925013542,0.013920111581683,-0.075497165322304,0.004602117463946,-0.016866711899638,-0.004961854778230,-0.151704683899879,0.203313678503036));
res += mul(Get(s0,dx,dy), float4x4(-0.068862922489643,-0.130350559949875,-0.062615714967251,-0.103725768625736,-0.055237229913473,0.047826930880547,0.001298201619647,-0.051924996078014,0.067483939230442,-0.050230253487825,0.050763666629791,0.093451701104641,0.015434137545526,-0.060453046113253,0.039713922888041,-0.022992290556431));
res += mul(Get(s1,-dx,-dy), float4x4(0.031270381063223,-0.081039354205132,-0.087181419134140,0.041320011019707,-0.003985670395195,-0.165530323982239,0.096793651580811,0.093048274517059,0.158893376588821,0.136308848857880,-0.072252541780472,-0.113909400999546,0.175723761320114,0.089629128575325,0.090186119079590,-0.157613262534142));
res += mul(Get(s1,-dx,0), float4x4(0.058792851865292,-0.127433747053146,-0.010862051509321,-0.078948929905891,-0.043629933148623,-0.006475570611656,-0.098077625036240,0.154795140028000,-0.017085146158934,0.030318731442094,-0.020705785602331,-0.004983445163816,-0.207169428467751,-0.028939479961991,0.035895772278309,0.075354024767876));
res += mul(Get(s1,-dx,dy), float4x4(0.023694030940533,0.003260128665715,-0.184698671102524,-0.072144746780396,0.061683855950832,0.042941492050886,-0.150750935077667,0.066065683960915,-0.207708075642586,-0.101324699819088,0.057799633592367,0.010689110495150,-0.026877019554377,0.004776983056217,0.104464851319790,-0.137027651071548));
res += mul(Get(s1,0,-dy), float4x4(-0.033933851867914,-0.210806906223297,-0.122584424912930,0.087371148169041,-0.161938935518265,-0.031608361750841,0.072308428585529,-0.000190002014278,0.097801394760609,0.262533694505692,-0.061327744275331,-0.225209578871727,0.076004795730114,0.075339496135712,-0.074673391878605,0.061743672937155));
res += mul(Get(s1,0,0), float4x4(0.008251369930804,0.166791200637817,0.098922483623028,-0.072412423789501,-0.149038538336754,0.122848972678185,0.093560986220837,0.078645654022694,-0.009021105244756,-0.066327840089798,0.054770302027464,0.065045349299908,-0.226655855774879,0.010237890295684,0.061917752027512,-0.023105241358280));
res += mul(Get(s1,0,dy), float4x4(0.030909093096852,0.080687783658504,0.056073211133480,0.126236364245415,0.104605644941330,0.036462433636189,-0.103311210870743,-0.137388661503792,0.015600315295160,-0.112341105937958,0.050489258021116,-0.118381641805172,-0.265359222888947,-0.053511362522840,0.109151490032673,0.007162820547819));
res += mul(Get(s1,dx,-dy), float4x4(0.026101510971785,-0.134810015559196,0.109220966696739,-0.109924137592316,-0.213206410408020,-0.278036355972290,0.055588226765394,0.172538310289383,0.043573081493378,0.137909442186356,-0.080097205936909,0.129790782928467,-0.080837361514568,-0.115871332585812,-0.174211353063583,0.044826872646809));
res += mul(Get(s1,dx,0), float4x4(0.001825976767577,0.080016635358334,0.090617172420025,-0.035346396267414,-0.025025596842170,0.009039621800184,0.204603359103203,-0.157542318105698,0.022401416674256,0.110011182725430,-0.034566566348076,-0.013387407176197,0.033364009112120,-0.118912197649479,0.152329787611961,0.038020871579647));
res += mul(Get(s1,dx,dy), float4x4(-0.088547892868519,-0.028844101354480,-0.105156339704990,-0.037237964570522,0.123596876859665,0.087531842291355,0.034798495471478,0.016823697835207,-0.127502173185349,-0.114632166922092,0.030650559812784,0.073270082473755,-0.067320793867111,-0.055268477648497,0.081994131207466,0.037123356014490));
res += mul(Get(s2,-dx,-dy), float4x4(0.107310093939304,0.149355337023735,0.206777021288872,0.215371981263161,0.004928103182465,-0.126279339194298,0.224176391959190,-0.005263091064990,0.046024829149246,-0.026739832013845,-0.069612137973309,-0.221538513898849,0.009500453248620,0.131450057029724,0.036499932408333,-0.094926208257675));
res += mul(Get(s2,-dx,0), float4x4(-0.029983757063746,-0.054665677249432,0.081757217645645,0.021078407764435,-0.058361276984215,0.094461038708687,0.009880318306386,0.117103487253189,-0.142712906002998,0.014883252792060,-0.002979591256008,0.103528343141079,-0.023653283715248,0.089757427573204,0.028241576626897,-0.143384546041489));
res += mul(Get(s2,-dx,dy), float4x4(0.151642754673958,-0.069493658840656,-0.034370958805084,-0.252529203891754,0.085223384201527,0.038444470614195,0.063803315162659,0.051631558686495,-0.031900875270367,0.011453333310783,0.047574888914824,0.045487951487303,-0.112330622971058,0.170943394303322,-0.031097577884793,-0.025106076151133));
res += mul(Get(s2,0,-dy), float4x4(-0.078256621956825,0.125640809535980,0.099673338234425,-0.008041465654969,-0.006285058800131,-0.109865739941597,-0.150283545255661,-0.134382903575897,0.082778148353100,0.062179394066334,-0.029527183622122,-0.063647069036961,-0.032462947070599,-0.142664209008217,-0.001464931410737,-0.035931564867496));
res += mul(Get(s2,0,0), float4x4(-0.033321496099234,-0.083093896508217,-0.053804218769073,-0.151087224483490,0.182428330183029,0.179684847593307,-0.123434908688068,0.031826626509428,-0.013382432051003,-0.113880015909672,0.074511177837849,0.143812343478203,0.080573961138725,-0.045662175863981,0.012036394327879,-0.052229553461075));
res += mul(Get(s2,0,dy), float4x4(-0.037461508065462,0.083532452583313,-0.011076008901000,-0.031833793967962,-0.077730603516102,0.097094886004925,-0.015202636830509,0.063840374350548,-0.195409551262856,0.041270643472672,0.154850870370865,-0.022554138675332,-0.065261468291283,-0.104656070470810,0.087594933807850,-0.188985317945480));
res += mul(Get(s2,dx,-dy), float4x4(0.096917852759361,-0.014383434318006,-0.064217656850815,0.132498532533646,-0.005689820274711,0.089317411184311,-0.046980910003185,0.173026561737061,-0.272035986185074,-0.135567918419838,-0.071028329432011,0.017194436863065,0.053936339914799,-0.073575526475906,-0.134253844618797,0.092126153409481));
res += mul(Get(s2,dx,0), float4x4(-0.003572206944227,0.010438711382449,-0.020626299083233,-0.027384191751480,0.166390135884285,-0.109225898981094,-0.127864867448807,0.121885113418102,0.011470587924123,-0.226009577512741,0.160904988646507,0.053813882172108,-0.215177983045578,0.079499870538712,-0.019081613048911,-0.024817204102874));
res += mul(Get(s2,dx,dy), float4x4(-0.028848798945546,-0.253363668918610,0.116597644984722,0.077055253088474,0.013764149509370,-0.117654353380203,-0.041102938354015,-0.055746749043465,-0.110470198094845,-0.024227488785982,-0.052057191729546,0.217509418725967,0.067911647260189,0.024469235911965,0.238325059413910,-0.011839293874800));
res += mul(Get(s3,-dx,-dy), float4x4(0.016650378704071,-0.066663116216660,0.106518976390362,-0.100501164793968,0.094071678817272,-0.000233489146922,0.088808648288250,0.120041549205780,-0.039454985409975,-0.055063243955374,0.156175851821899,-0.113144852221012,0.078612692654133,0.106805354356766,-0.175527542829514,-0.027067847549915));
res += mul(Get(s3,-dx,0), float4x4(-0.060672752559185,-0.117814131081104,0.037248529493809,0.074637673795223,0.010389179922640,0.041206490248442,-0.078311227262020,0.211249217391014,0.074219986796379,-0.301903128623962,0.208184644579887,-0.099879749119282,-0.080254100263119,-0.137821689248085,0.090627066791058,0.091461032629013));
res += mul(Get(s3,-dx,dy), float4x4(0.068991571664810,0.160594224929810,0.182614758610725,-0.028952987864614,-0.232974931597710,0.074328221380711,0.183923646807671,-0.035309482365847,0.012373385950923,-0.054778464138508,-0.030678940936923,-0.145216673612595,0.025922913104296,-0.014692131429911,-0.021545004099607,0.033652100712061));
res += mul(Get(s3,0,-dy), float4x4(-0.142804473638535,-0.052293755114079,0.108571246266365,0.130185991525650,0.128256797790527,-0.012603530660272,0.002686175983399,-0.126947492361069,-0.166555300354958,0.034070968627930,0.034073300659657,-0.020838696509600,0.094128347933292,-0.131851717829704,-0.076630488038063,0.138208031654358));
res += mul(Get(s3,0,0), float4x4(0.072240032255650,-0.116856165230274,0.093455426394939,0.158010572195053,0.169595450162888,0.039136778563261,-0.191816672682762,0.005327465943992,0.073192916810513,0.002774104243144,0.204571992158890,-0.054144669324160,0.057037811726332,-0.074826568365097,-0.011052401736379,-0.029421061277390));
res += mul(Get(s3,0,dy), float4x4(-0.132080122828484,-0.031581774353981,0.079138472676277,-0.047727089375257,0.170315161347389,-0.196547642350197,0.019551722332835,-0.017887039110065,0.033078387379646,0.031821481883526,-0.089318864047527,-0.083778940141201,-0.139485403895378,-0.123347975313663,0.089543953537941,0.116038121283054));
res += mul(Get(s3,dx,-dy), float4x4(-0.003605637000874,-0.170564725995064,0.073186539113522,-0.212765038013458,0.154332011938095,-0.094939142465591,0.121052287518978,-0.014532736502588,0.194086641073227,-0.004395580384880,-0.151112869381905,-0.011350963264704,0.115482710301876,-0.123521924018860,-0.099297389388084,0.132951632142067));
res += mul(Get(s3,dx,0), float4x4(-0.086871489882469,-0.084833510220051,-0.088642485439777,0.122439108788967,-0.082950323820114,-0.197693288326263,0.043091330677271,-0.071888908743858,0.039791513234377,-0.131315588951111,0.045618381351233,0.051359616219997,0.062778592109680,-0.013420527800918,0.029325509443879,-0.055503066629171));
res += mul(Get(s3,dx,dy), float4x4(0.063676193356514,-0.075668707489967,0.015852009877563,0.003212463110685,-0.135176748037338,0.044348884373903,0.081725209951401,0.126077383756638,0.140149787068367,0.113638646900654,-0.243205577135086,0.099498495459557,0.015308124013245,0.011091480962932,0.054469373077154,-0.042816039174795));
return max(float4(0,0,0,0), res);
}
