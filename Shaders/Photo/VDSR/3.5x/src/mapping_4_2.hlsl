sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.065890319645405,-0.025575656443834,-0.100658483803272,0.240461707115173,0.018419532105327,0.026119101792574,0.073671951889992,0.014682790264487,-0.050333984196186,-0.041248627007008,0.087820701301098,0.248362705111504,0.148418247699738,0.242400720715523,-0.135595113039017,-0.060338977724314));
res += mul(Get(s0,-dx,0), float4x4(-0.048886526376009,-0.030166689306498,0.076957695186138,0.261248826980591,-0.105915106832981,-0.007015361450613,-0.051934301853180,0.160524800419807,0.012507475912571,-0.041000902652740,-0.014024234376848,-0.080771684646606,0.078470975160599,-0.099210761487484,-0.058923229575157,-0.076225779950619));
res += mul(Get(s0,-dx,dy), float4x4(-0.026490226387978,0.163586631417274,-0.160918012261391,0.075635097920895,0.029440350830555,0.089800365269184,-0.035396553575993,-0.084399327635765,-0.287516057491302,0.130105495452881,-0.040233246982098,0.193421632051468,0.250654757022858,0.020411206409335,-0.026669187471271,-0.103846080601215));
res += mul(Get(s0,0,-dy), float4x4(0.014883754774928,0.061600089073181,-0.116535492241383,-0.104003340005875,0.058522652834654,0.151273295283318,0.091679885983467,0.123216398060322,-0.064376257359982,0.057496443390846,-0.010254434309900,-0.195529833436012,0.158900111913681,-0.082252450287342,0.045337963849306,-0.023486468940973));
res += mul(Get(s0,0,0), float4x4(-0.020769197493792,-0.044636759907007,0.119802817702293,0.034851707518101,0.093529559671879,-0.055931501090527,-0.097251035273075,0.107159055769444,-0.079132311046124,-0.200765088200569,0.142815575003624,0.011383408680558,0.150106653571129,-0.058778490871191,0.209171429276466,-0.059886988252401));
res += mul(Get(s0,0,dy), float4x4(0.042450871318579,-0.032161302864552,0.031091284006834,0.037713166326284,0.214084461331367,0.131468415260315,-0.055136930197477,0.120969779789448,-0.068507052958012,-0.020542262122035,0.093664154410362,-0.113965928554535,-0.015323830768466,-0.125296533107758,-0.078588262200356,0.081391170620918));
res += mul(Get(s0,dx,-dy), float4x4(0.078317940235138,0.127172678709030,-0.047360632568598,-0.154110446572304,-0.007233121432364,-0.116086855530739,-0.051820661872625,0.002554448787123,-0.212037459015846,0.169772237539291,0.004451504908502,-0.076950892806053,0.062842786312103,0.090786315500736,-0.004934184718877,0.129377618432045));
res += mul(Get(s0,dx,0), float4x4(-0.212220504879951,-0.314055204391479,-0.072294026613235,-0.078725866973400,-0.062933720648289,0.092151932418346,-0.294455260038376,-0.092094451189041,-0.043723985552788,0.044783122837543,0.060689762234688,-0.004020388703793,0.071192674338818,0.004032067954540,0.088063709437847,0.222419410943985));
res += mul(Get(s0,dx,dy), float4x4(0.028340810909867,-0.080487899482250,-0.201553851366043,0.138139560818672,-0.057373538613319,0.063097171485424,-0.070781670510769,0.103129938244820,0.157505810260773,0.095565795898438,-0.091366671025753,0.183762073516846,-0.121765941381454,-0.108580403029919,0.225116670131683,0.011085502803326));
res += mul(Get(s1,-dx,-dy), float4x4(-0.309537768363953,-0.003143040463328,0.058147575706244,0.070807740092278,-0.010126423090696,0.197838455438614,0.049635455012321,0.128643035888672,-0.018884051591158,0.056998211890459,0.021024387329817,0.053559880703688,0.037473935633898,0.158678263425827,-0.055942434817553,0.083673276007175));
res += mul(Get(s1,-dx,0), float4x4(-0.151845693588257,0.099929645657539,0.151577219367027,0.254391223192215,0.072916448116302,-0.103869214653969,-0.003944591619074,-0.018635174259543,-0.007096644490957,-0.098166525363922,0.035063248127699,0.139372929930687,0.116921655833721,0.050256591290236,0.047588326036930,-0.044675979763269));
res += mul(Get(s1,-dx,dy), float4x4(-0.242261976003647,0.145958110690117,-0.141490057110786,0.134346708655357,-0.015173257328570,-0.205165788531303,-0.232869580388069,-0.011644941754639,0.083838827908039,0.015507236123085,-0.008598610758781,0.142241075634956,-0.186361655592918,-0.008765384554863,0.082469880580902,0.003127159317955));
res += mul(Get(s1,0,-dy), float4x4(-0.049237787723541,-0.068425767123699,0.220153212547302,-0.017400631681085,-0.095097199082375,-0.038213834166527,0.044010873883963,-0.143228977918625,-0.205950438976288,-0.018944354727864,-0.130085542798042,-0.083614848554134,-0.121104769408703,0.033212162554264,-0.052943225950003,-0.118357628583908));
res += mul(Get(s1,0,0), float4x4(-0.226503103971481,-0.000496875494719,0.185156822204590,-0.217008948326111,-0.193762838840485,0.075471371412277,0.031562160700560,-0.137062996625900,0.111288309097290,0.016861258074641,-0.124583974480629,-0.112967588007450,0.123424723744392,-0.027352290228009,0.062224861234426,-0.054302874952555));
res += mul(Get(s1,0,dy), float4x4(0.106186628341675,-0.027966102585196,-0.101375795900822,-0.185705751180649,0.205649867653847,-0.022277241572738,-0.103005155920982,0.027999540790915,0.127766489982605,0.051077865064144,-0.110807858407497,-0.001205867738463,-0.015198199078441,0.077137038111687,-0.032163638621569,-0.003146065166220));
res += mul(Get(s1,dx,-dy), float4x4(-0.115104027092457,0.105988770723343,0.144959479570389,0.115386389195919,-0.004491853993386,0.049177002161741,-0.065207667648792,-0.116936549544334,-0.038963548839092,-0.052839923650026,0.125036418437958,-0.033371783792973,-0.049388714134693,0.079208858311176,0.027329860255122,0.017925210297108));
res += mul(Get(s1,dx,0), float4x4(-0.112191446125507,-0.077864125370979,0.081303194165230,0.241252377629280,0.155649110674858,0.215612918138504,-0.107449300587177,-0.063463278114796,-0.068672448396683,-0.084058739244938,-0.020828291773796,-0.124077126383781,-0.073723293840885,0.000897105142940,0.118066474795341,-0.053464565426111));
res += mul(Get(s1,dx,dy), float4x4(-0.029467044398189,-0.000758096692152,0.021574264392257,0.087426051497459,-0.107041381299496,-0.291615426540375,-0.052986588329077,0.125925809144974,0.041607711464167,0.095791578292847,0.082514800131321,-0.020659983158112,0.122278198599815,-0.017253102734685,0.065406657755375,0.028360920026898));
res += mul(Get(s2,-dx,-dy), float4x4(-0.013977497816086,-0.040034234523773,0.041111659258604,-0.198022738099098,0.068906977772713,-0.137977674603462,0.019870134070516,0.064608938992023,-0.008265255019069,0.044395163655281,-0.053871847689152,0.155297577381134,0.158608108758926,-0.248811900615692,-0.184234172105789,-0.128683224320412));
res += mul(Get(s2,-dx,0), float4x4(0.129072308540344,0.044747851788998,0.152422562241554,-0.093033522367477,0.022575898095965,0.003288474399596,0.182443007826805,-0.016131132841110,0.051412541419268,0.085915431380272,-0.206512063741684,-0.142355322837830,-0.037720579653978,0.125674024224281,-0.003654968691990,0.061481248587370));
res += mul(Get(s2,-dx,dy), float4x4(-0.025590861216187,0.064583964645863,0.257040798664093,-0.146753937005997,0.217859506607056,0.103199400007725,-0.104901872575283,-0.020806124433875,-0.076161369681358,-0.000066839573265,0.077521748840809,0.093629464507103,-0.022702470421791,-0.039896726608276,-0.096815906465054,-0.053146552294493));
res += mul(Get(s2,0,-dy), float4x4(0.009660491719842,0.000201063696295,0.023814117535949,0.003967798314989,-0.017577774822712,-0.045678440481424,0.151516541838646,0.097463272511959,-0.250238239765167,0.030460210517049,0.014754208736122,0.015150456689298,-0.145775690674782,-0.197844445705414,-0.203242138028145,-0.085522897541523));
res += mul(Get(s2,0,0), float4x4(-0.060689155012369,-0.131411373615265,0.041383046656847,-0.092366233468056,0.039630431681871,0.099337771534920,0.074785895645618,-0.075502701103687,-0.073446646332741,0.103724993765354,-0.002673683455214,-0.100138239562511,0.085099935531616,0.155489921569824,-0.161643788218498,-0.066280826926231));
res += mul(Get(s2,0,dy), float4x4(0.155242770910263,-0.042230512946844,0.074114322662354,0.081831485033035,0.036491371691227,-0.075768299400806,-0.006743712816387,-0.235800653696060,0.170383900403976,0.110409699380398,0.426943510770798,-0.182355552911758,0.208169087767601,0.056389629840851,-0.083300434052944,0.188450738787651));
res += mul(Get(s2,dx,-dy), float4x4(0.053935546427965,-0.061528816819191,-0.026815183460712,-0.228071197867393,0.129960820078850,0.108102157711983,0.019262058660388,0.120492808520794,0.050022918730974,-0.011505402624607,0.062551237642765,-0.086197003722191,-0.082885280251503,-0.261840075254440,-0.003870406886563,-0.019391689449549));
res += mul(Get(s2,dx,0), float4x4(0.173477455973625,-0.090572208166122,0.025798551738262,-0.144647583365440,-0.026173058897257,-0.107288822531700,0.148311465978622,-0.145250007510185,0.132630228996277,0.040265869349241,0.210571214556694,0.014107827097178,0.022517096251249,-0.168585732579231,-0.055896829813719,-0.180690959095955));
res += mul(Get(s2,dx,dy), float4x4(-0.018425561487675,0.078308463096619,0.081761479377747,-0.032565280795097,0.007427745498717,0.130540505051613,0.113985896110535,-0.007904630154371,-0.007712353952229,-0.062240928411484,-0.015027555637062,-0.062691569328308,0.067570187151432,0.092864349484444,-0.025540465489030,0.171219453215599));
res += mul(Get(s3,-dx,-dy), float4x4(-0.008883491158485,0.006607769057155,-0.001855231588706,0.133727416396141,-0.113642446696758,-0.012900310568511,0.057926069945097,-0.155563384294510,0.158183053135872,0.091466404497623,0.055911578238010,-0.065875485539436,-0.048388656228781,0.044540487229824,0.105843521654606,-0.059564337134361));
res += mul(Get(s3,-dx,0), float4x4(-0.039694458246231,-0.091153852641582,-0.045951478183270,-0.195901498198509,0.238761112093925,0.091824837028980,-0.027563877403736,-0.043266993016005,0.073983855545521,0.206085979938507,0.066498443484306,-0.117168918251991,-0.118723548948765,-0.170281752943993,-0.098798222839832,-0.083130143582821));
res += mul(Get(s3,-dx,dy), float4x4(-0.122393846511841,0.059207834303379,0.119466319680214,0.044527724385262,-0.000439765135525,0.048377018421888,0.035909488797188,0.010186519473791,0.111811302602291,-0.117754511535168,-0.061483271420002,0.040072727948427,-0.117358826100826,0.098483905196190,-0.030436212196946,-0.005271037109196));
res += mul(Get(s3,0,-dy), float4x4(0.084069654345512,-0.116559758782387,-0.099134318530560,0.039103593677282,0.083862490952015,-0.035038512200117,-0.102802366018295,0.063333354890347,0.002314975950867,0.056512005627155,-0.011227404698730,-0.071281552314758,-0.107243828475475,0.210073366761208,-0.137123465538025,-0.016891123726964));
res += mul(Get(s3,0,0), float4x4(0.044386290013790,0.105541974306107,-0.229540646076202,-0.023758182302117,-0.032938852906227,0.111257225275040,0.069516971707344,0.265207886695862,0.127529099583626,0.120406448841095,0.015121059492230,-0.006010395009071,0.000190650898730,0.143164470791817,0.118748672306538,-0.227869257330894));
res += mul(Get(s3,0,dy), float4x4(0.104582302272320,-0.058153700083494,0.063024707138538,0.056465633213520,0.076675109565258,0.026178035885096,0.045029766857624,-0.110048778355122,-0.129229858517647,-0.070681273937225,0.085608862340450,0.019293086603284,0.060214482247829,0.108878046274185,0.011233915574849,0.006946980953217));
res += mul(Get(s3,dx,-dy), float4x4(0.059100519865751,0.052945602685213,-0.080011375248432,0.145786091685295,0.117364548146725,0.079538851976395,0.058619525283575,0.013085307553411,0.072774462401867,-0.077076762914658,-0.059998523443937,0.050578378140926,-0.164972424507141,0.007659447379410,0.181363999843597,-0.142581462860107));
res += mul(Get(s3,dx,0), float4x4(0.151409521698952,0.216240748763084,0.247888118028641,-0.056373175233603,-0.063790403306484,-0.056860450655222,-0.077830724418163,-0.009100444614887,-0.123670101165771,0.033808555454016,0.168887764215469,-0.100568778812885,0.256842613220215,0.127208665013313,0.040805321186781,-0.051552154123783));
res += mul(Get(s3,dx,dy), float4x4(0.218043148517609,-0.155790239572525,0.107577510178089,0.017141962423921,0.041241344064474,0.109498642385006,-0.186430186033249,-0.025980174541473,-0.039346035569906,-0.032470267266035,-0.198673412203789,0.051501870155334,0.091576360166073,0.162748157978058,-0.023363398388028,-0.129269182682037));
return max(float4(0,0,0,0), res);
}
