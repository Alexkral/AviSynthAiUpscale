sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.132844209671021,-0.095761597156525,0.196535989642143,-0.180620446801186,0.097795315086842,-0.145105227828026,0.103616736829281,-0.091705076396465,-0.015364851802588,0.031015120446682,-0.141117423772812,0.034606788307428,0.017802050337195,0.064826630055904,-0.096485361456871,-0.186099424958229));
res += mul(Get(s0,-dx,0), float4x4(0.117006972432137,-0.056360222399235,0.089582376182079,-0.013349125161767,-0.093701206147671,-0.069064177572727,0.020933590829372,-0.170926049351692,0.073720932006836,0.024771979078650,0.167975068092346,-0.006973923649639,0.022252090275288,0.012213733978570,0.020334891974926,-0.019004961475730));
res += mul(Get(s0,-dx,dy), float4x4(0.009240117855370,0.020049542188644,0.067076012492180,-0.070939347147942,0.027175594121218,-0.096637234091759,-0.121252678334713,-0.304402142763138,0.013195504434407,-0.012555233202875,0.093083046376705,0.028535492718220,-0.001762692583725,-0.071489103138447,-0.095044843852520,0.163646787405014));
res += mul(Get(s0,0,-dy), float4x4(0.033014971762896,0.234511584043503,0.189725026488304,0.049890279769897,0.208197951316833,-0.020756920799613,-0.009392463602126,-0.177581131458282,-0.010113134980202,0.000790044490714,0.121122643351555,0.107503123581409,-0.020956298336387,-0.048091519623995,0.051177076995373,-0.050357937812805));
res += mul(Get(s0,0,0), float4x4(0.048543065786362,0.072971373796463,-0.023303208872676,0.032465774565935,-0.098936043679714,-0.058373957872391,-0.049981229007244,-0.099371299147606,0.013073682785034,0.013215526007116,0.188288107514381,-0.066977500915527,0.060524303466082,-0.129552453756332,-0.048033419996500,-0.049677569419146));
res += mul(Get(s0,0,dy), float4x4(-0.020042715594172,0.121344849467278,-0.086172007024288,-0.001013368251733,-0.033347129821777,-0.009590045548975,-0.129052773118019,-0.094765834510326,-0.030012764036655,-0.055996898561716,0.045461896806955,0.010095939040184,0.060168515890837,-0.116676665842533,-0.068200692534447,0.018161477521062));
res += mul(Get(s0,dx,-dy), float4x4(-0.062240324914455,0.251583397388458,0.090517736971378,0.173134446144104,-0.015168831683695,-0.033623471856117,-0.176136672496796,-0.183237284421921,-0.003197731915861,0.013085999526083,-0.047441076487303,0.089720964431763,-0.117353498935699,-0.048588808625937,-0.090804353356361,-0.066925548017025));
res += mul(Get(s0,dx,0), float4x4(-0.035771809518337,-0.006676160264760,-0.164762333035469,0.167510688304901,-0.113826334476471,-0.133989319205284,-0.116963542997837,-0.050888963043690,0.042818650603294,-0.085573859512806,-0.110993906855583,-0.081154696643353,0.101529486477375,-0.056599337607622,-0.080642677843571,0.042877394706011));
res += mul(Get(s0,dx,dy), float4x4(-0.101953595876694,0.013445637188852,-0.035365674644709,0.145241335034370,-0.047049161046743,-0.088593907654285,-0.037743203341961,0.024011431261897,0.049459576606750,-0.082033127546310,-0.048390351235867,0.009450712241232,0.029921015724540,0.087415903806686,-0.055433895438910,0.033876951783895));
res += mul(Get(s1,-dx,-dy), float4x4(0.109635777771473,-0.090376675128937,-0.068261884152889,0.082010559737682,-0.264421135187149,-0.095833353698254,-0.013072299771011,-0.119823463261127,0.036089107394218,-0.086081162095070,0.047799896448851,-0.079613849520683,0.049456015229225,0.006154447793961,0.011363096535206,-0.024109683930874));
res += mul(Get(s1,-dx,0), float4x4(0.030645409598947,-0.005946121644229,-0.163505226373672,0.154285326600075,0.020648125559092,-0.102030374109745,-0.092219412326813,-0.136448338627815,-0.024209763854742,-0.168259903788567,-0.066082879900932,-0.018734717741609,0.041171029210091,-0.018124157562852,-0.068721219897270,-0.034446582198143));
res += mul(Get(s1,-dx,dy), float4x4(-0.074886672198772,-0.003424946218729,-0.048788662999868,-0.016720917075872,-0.096064306795597,0.012589383870363,0.009412604384124,-0.026435391977429,0.058759573847055,0.012580026872456,0.016832822933793,-0.031285367906094,-0.074237987399101,-0.042783740907907,-0.105477221310139,-0.052061036229134));
res += mul(Get(s1,0,-dy), float4x4(0.048912592232227,-0.033924434334040,0.071187004446983,0.052745405584574,-0.039054941385984,0.091674856841564,-0.034499034285545,-0.048278264701366,0.240078881382942,-0.083602368831635,-0.031741153448820,-0.079947166144848,0.130528166890144,-0.026272544637322,0.082490816712379,0.078340500593185));
res += mul(Get(s1,0,0), float4x4(-0.038985148072243,0.023660296574235,-0.018329562619328,0.067408494651318,0.278424322605133,0.169314339756966,-0.012807860039175,-0.019839257001877,0.103918291628361,-0.124247744679451,-0.059810977429152,0.089389525353909,0.111233070492744,-0.024224499240518,-0.021496981382370,0.000353030016413));
res += mul(Get(s1,0,dy), float4x4(-0.097481571137905,0.022522201761603,0.022727508097887,-0.044869795441628,-0.123263888061047,0.090135686099529,0.039385266602039,0.090428374707699,0.193882122635841,-0.014327098615468,-0.095700569450855,-0.039567165076733,0.011739021167159,0.009035944007337,0.028610883280635,-0.047850262373686));
res += mul(Get(s1,dx,-dy), float4x4(-0.069497153162956,-0.098613619804382,0.069857649505138,-0.026810677722096,-0.260287553071976,-0.008060102351010,-0.121590800583363,-0.002017482183874,-0.034519731998444,-0.082597702741623,0.042764008045197,0.025500312447548,-0.096489086747169,-0.144863381981850,-0.014970389194787,-0.062101658433676));
res += mul(Get(s1,dx,0), float4x4(-0.117137104272842,0.055416490882635,-0.071242168545723,-0.055350918322802,0.011500220745802,0.075560353696346,-0.042191196233034,0.153784021735191,-0.169854611158371,0.047308675944805,-0.028842782601714,0.130284711718559,-0.083349250257015,-0.159201815724373,0.020366067066789,-0.031892832368612));
res += mul(Get(s1,dx,dy), float4x4(-0.170938119292259,0.009634859859943,-0.029120983555913,-0.046719338744879,-0.082366429269314,-0.041030861437321,-0.032399460673332,0.020695487037301,-0.065346539020538,0.060266911983490,-0.070603132247925,-0.103742346167564,-0.114268787205219,0.069986775517464,0.142338186502457,-0.046779144555330));
res += mul(Get(s2,-dx,-dy), float4x4(-0.042305652052164,-0.013186023570597,-0.043337732553482,0.207621023058891,-0.012912969104946,-0.055546756833792,-0.095733545720577,0.004864767193794,0.052960660308599,-0.000670771289151,-0.047685556113720,0.025176707655191,0.031027335673571,-0.067617490887642,-0.132203444838524,0.036879643797874));
res += mul(Get(s2,-dx,0), float4x4(0.054964434355497,-0.066988147795200,-0.008721610531211,-0.020723959431052,0.036202885210514,-0.155686452984810,0.130990117788315,0.048821739852428,0.073891423642635,-0.180613443255424,-0.169296592473984,-0.036133620887995,0.070776782929897,-0.046410929411650,0.090715497732162,-0.052695866674185));
res += mul(Get(s2,-dx,dy), float4x4(-0.055841069668531,-0.180922850966454,0.038015343248844,-0.056364677846432,-0.025692930445075,0.094122260808945,0.002044561319053,-0.030686767771840,-0.039265315979719,-0.071383617818356,0.034426972270012,-0.079545445740223,-0.005952845793217,-0.212290197610855,-0.083341628313065,-0.114919617772102));
res += mul(Get(s2,0,-dy), float4x4(-0.048234198242426,0.011081950739026,0.012697736732662,0.116583906114101,-0.061819382011890,-0.085364051163197,0.149341106414795,-0.095143519341946,-0.050564926117659,-0.081361241638660,0.017899803817272,0.003388085402548,-0.064019344747066,-0.073234967887402,-0.033487919718027,0.015429125167429));
res += mul(Get(s2,0,0), float4x4(0.093877099454403,0.061989944428205,0.023169895634055,-0.071124531328678,-0.003593065543100,-0.098819985985756,0.031333088874817,-0.013010802678764,0.029914697632194,0.049791172146797,0.076412849128246,0.033548153936863,0.028090434148908,0.044815439730883,0.115862362086773,-0.061313487589359));
res += mul(Get(s2,0,dy), float4x4(-0.009018259122968,0.138950228691101,-0.073550567030907,-0.002736082766205,-0.034675948321819,0.088761188089848,-0.192247375845909,0.009098027832806,-0.102518253028393,0.199337929487228,0.293748497962952,-0.009853569790721,-0.091895863413811,-0.009525725618005,0.084238827228546,0.022513169795275));
res += mul(Get(s2,dx,-dy), float4x4(-0.040070947259665,-0.028933262452483,0.053811207413673,0.005526194814593,-0.027507165446877,0.036865517497063,-0.074475415050983,0.166401207447052,-0.058680411428213,0.055851999670267,0.150947049260139,-0.015653163194656,-0.097976632416248,-0.064465805888176,-0.022578531876206,0.010261054150760));
res += mul(Get(s2,dx,0), float4x4(0.147225290536880,0.035541724413633,-0.009961532428861,-0.107215315103531,0.031977701932192,0.152565374970436,-0.123844273388386,0.179073244333267,0.091142535209656,0.140364617109299,-0.085919648408890,0.036525875329971,-0.029638480395079,0.162991851568222,-0.026184966787696,-0.019130017608404));
res += mul(Get(s2,dx,dy), float4x4(0.051377881318331,0.065247155725956,-0.193701490759850,-0.007601418066770,0.232375115156174,-0.060434654355049,-0.122383512556553,-0.033417034894228,-0.045789435505867,0.131442248821259,0.134998619556427,0.087045118212700,-0.125244200229645,0.100461132824421,-0.089409820735455,-0.016772473230958));
res += mul(Get(s3,-dx,-dy), float4x4(0.045581828802824,0.081522002816200,-0.056745722889900,-0.014830444008112,-0.071813218295574,-0.237298548221588,0.146031066775322,-0.033874288201332,0.098270267248154,0.014864812605083,-0.091441594064236,0.141623884439468,0.040472548455000,-0.117142744362354,0.049197863787413,-0.096277602016926));
res += mul(Get(s3,-dx,0), float4x4(0.007825723849237,0.088987417519093,-0.030244216322899,0.043049260973930,-0.007569322828203,-0.182180166244507,0.037863153964281,0.002784052165225,0.054478392004967,-0.017618952319026,-0.088442161679268,0.117324247956276,0.087108276784420,-0.176833242177963,-0.080970302224159,0.037501972168684));
res += mul(Get(s3,-dx,dy), float4x4(0.074572339653969,0.093133606016636,0.221021562814713,-0.013715188018978,0.159550085663795,-0.044692769646645,-0.058438539505005,-0.021110434085131,-0.097071677446365,-0.100961230695248,-0.032781392335892,-0.093147858977318,-0.006379159167409,-0.167368426918983,-0.099683232605457,-0.049356371164322));
res += mul(Get(s3,0,-dy), float4x4(0.013189305551350,-0.096827588975430,0.013379502110183,0.075971230864525,-0.012273753993213,-0.109072037041187,0.083611711859703,-0.111731365323067,0.063281483948231,-0.024413011968136,-0.052158825099468,0.246177434921265,0.028242571279407,-0.035047572106123,-0.020216064527631,-0.102382734417915));
res += mul(Get(s3,0,0), float4x4(-0.013498940505087,0.012400276958942,0.195284828543663,0.098587237298489,-0.067450806498528,0.037747319787741,-0.058158744126558,0.051610734313726,0.039483651518822,0.045318983495235,-0.072500705718994,-0.070806413888931,0.038031496107578,-0.071588411927223,-0.059128325432539,0.027295522391796));
res += mul(Get(s3,0,dy), float4x4(0.004175826907158,0.057150322943926,0.148456841707230,-0.038909800350666,0.144454181194305,-0.051180481910706,-0.147569894790649,-0.045706350356340,-0.088932707905769,0.100103653967381,0.032229609787464,-0.092608056962490,-0.005345763172954,-0.050367429852486,-0.020471982657909,-0.021141452714801));
res += mul(Get(s3,dx,-dy), float4x4(-0.043430104851723,0.042564943432808,0.069556713104248,0.042434867471457,0.176235198974609,-0.023992113769054,-0.110239244997501,0.002298729727045,-0.092296682298183,-0.089364901185036,-0.085015833377838,0.012746667489409,-0.093240261077881,0.003777736797929,-0.046182673424482,-0.113194920122623));
res += mul(Get(s3,dx,0), float4x4(-0.037584327161312,-0.020813809707761,0.097173221409321,0.055784616619349,0.098140992224216,0.007526262197644,-0.061543062329292,-0.005923789925873,-0.081289060413837,-0.012091344222426,0.023906847462058,-0.048606906086206,-0.078540436923504,0.055155619978905,0.047675851732492,0.061544064432383));
res += mul(Get(s3,dx,dy), float4x4(-0.078011333942413,-0.005267404951155,-0.021153924986720,0.015614769421518,0.254262506961823,0.045485712587833,-0.070551656186581,0.006285070907325,-0.132542029023170,0.276894599199295,0.098888561129570,-0.085255034267902,-0.071404501795769,-0.000975406728685,-0.021387295797467,0.027428764849901));
return max(float4(0,0,0,0), res);
}
