sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.041176788508892,0.104524016380310,-0.014867116697133,0.190885066986084) * Get(-dx,-dy);
res += float4(-0.057978343218565,0.017693601548672,0.089561589062214,-0.070471599698067) * Get(-dx,0);
res += float4(-0.032080642879009,-0.098027683794498,-0.004845398943871,-0.086368232965469) * Get(-dx,dy);
res += float4(-0.001482841325924,0.419737190008163,-0.001519615878351,-0.034186001867056) * Get(0,-dy);
res += float4(-0.083943210542202,-0.105755671858788,-0.101766906678677,-0.205885604023933) * Get(0,0);
res += float4(0.025074265897274,-0.083086028695107,0.101773343980312,-0.228840842843056) * Get(0,dy);
res += float4(0.033946380019188,0.161071017384529,-0.114280760288239,0.000308685528580) * Get(dx,-dy);
res += float4(-0.053692389279604,-0.184072241187096,-0.177445560693741,0.144198521971703) * Get(dx,0);
res += float4(-0.035057995468378,0.001719358377159,0.449736773967743,0.425900578498840) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
