sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.245122224092484,-0.091148115694523,0.004820864181966,0.083167009055614,-0.098797313868999,-0.069592677056789,-0.111620187759399,0.059754502028227,-0.094498232007027,-0.188515692949295,0.062646381556988,0.021377354860306,-0.055547088384628,-0.062540695071220,0.080033503472805,-0.065496124327183));
res += mul(Get(s0,-dx,0), float4x4(-0.021342998370528,-0.080671936273575,0.049045067280531,0.070126265287399,-0.055255122482777,-0.026742886751890,-0.139029800891876,0.220420911908150,0.082937881350517,-0.173696711659431,0.205799341201782,0.106602877378464,-0.153420358896255,-0.118716150522232,0.147177949547768,0.012788595631719));
res += mul(Get(s0,-dx,dy), float4x4(-0.036028012633324,-0.161489710211754,0.132072836160660,0.021892130374908,0.063880227506161,0.098194800317287,-0.076167680323124,-0.027379462495446,0.053046841174364,-0.071455761790276,0.076850190758705,-0.080919116735458,-0.004734715912491,-0.086719483137131,0.051655419170856,-0.026329778134823));
res += mul(Get(s0,0,-dy), float4x4(-0.074005544185638,0.022850029170513,-0.045109316706657,-0.043651808053255,-0.010296982713044,-0.148810461163521,-0.086294420063496,-0.153585314750671,-0.068381369113922,-0.150810956954956,-0.093446381390095,0.100809521973133,0.235440522432327,-0.027832131832838,-0.071999005973339,-0.037312831729650));
res += mul(Get(s0,0,0), float4x4(0.340048491954803,0.289550989866257,0.112119592726231,-0.101491503417492,0.153883785009384,0.030074344947934,-0.052235450595617,-0.014143115840852,0.037775941193104,-0.090052008628845,-0.109568156301975,0.036373205482960,0.276929736137390,-0.088921248912811,0.157122954726219,-0.008136879652739));
res += mul(Get(s0,0,dy), float4x4(0.060638606548309,-0.085676603019238,-0.129687070846558,-0.022959791123867,0.035895463079214,0.095770366489887,-0.035150032490492,-0.186372801661491,0.083939850330353,0.012585699558258,0.049452893435955,-0.106705889105797,0.093731887638569,-0.061422165483236,0.048613574355841,-0.028309660032392));
res += mul(Get(s0,dx,-dy), float4x4(0.098588541150093,0.134933143854141,-0.070834755897522,-0.061732940375805,-0.021847864612937,-0.088895440101624,-0.120323270559311,-0.195930302143097,-0.024996072053909,-0.060567975044250,0.007669766899198,0.126448482275009,0.080878056585789,0.012638205662370,-0.019831294193864,0.053638521581888));
res += mul(Get(s0,dx,0), float4x4(0.030636057257652,0.003992260433733,0.119666561484337,-0.092310905456543,0.009253125637770,-0.017929654568434,-0.054140731692314,-0.175627142190933,-0.026667615398765,0.111876584589481,0.022818578407168,-0.000978816882707,-0.026411218568683,0.106931537389755,-0.065583713352680,-0.010507137514651));
res += mul(Get(s0,dx,dy), float4x4(0.000668683787808,-0.134542241692543,0.058810818940401,-0.007434203755111,0.271209657192230,0.284123450517654,0.015801802277565,-0.295282423496246,-0.162527620792389,0.057446852326393,0.269036918878555,-0.090027473866940,-0.029641468077898,0.151642277836800,-0.078220367431641,-0.040190089493990));
res += mul(Get(s1,-dx,-dy), float4x4(-0.143956020474434,-0.105086967349052,0.010648858733475,0.084162771701813,-0.075250752270222,-0.074676245450974,-0.055930726230145,-0.061790734529495,-0.178697988390923,-0.155829936265945,0.091949380934238,-0.040935561060905,-0.002446952974424,-0.214921295642853,-0.062322866171598,-0.012159446254373));
res += mul(Get(s1,-dx,0), float4x4(-0.138356149196625,-0.115915760397911,-0.055439386516809,0.160925775766373,-0.025457343086600,-0.039699122309685,-0.175591155886650,0.013629739172757,0.061483573168516,-0.129512056708336,0.075035624206066,-0.021334514021873,0.007555975578725,0.002537513384596,0.053768996149302,0.007250091526657));
res += mul(Get(s1,-dx,dy), float4x4(-0.110322415828705,-0.051593229174614,-0.058827158063650,0.049618184566498,-0.063428826630116,-0.008817550726235,-0.025047356262803,-0.089099802076817,-0.056485991925001,-0.060407448559999,-0.116980127990246,0.016680272296071,-0.000118625175674,-0.083877027034760,0.127081766724586,-0.085314325988293));
res += mul(Get(s1,0,-dy), float4x4(0.032192543148994,0.012327481061220,-0.066953279078007,-0.021008986979723,-0.074346765875816,-0.003625630168244,0.031625762581825,0.085934080183506,-0.016792131587863,0.319122642278671,0.055921450257301,-0.067318141460419,-0.003159263636917,-0.234122872352600,-0.041744086891413,0.097352042794228));
res += mul(Get(s1,0,0), float4x4(-0.000916171818972,-0.004311246331781,0.021168682724237,0.126042336225510,-0.063256315886974,-0.103838622570038,0.108074277639389,0.074401237070560,-0.067053802311420,-0.146842867136002,-0.138190001249313,-0.032960854470730,-0.021886577829719,-0.065607607364655,-0.003809619927779,-0.048747442662716));
res += mul(Get(s1,0,dy), float4x4(-0.030835580080748,-0.034396182745695,0.095576226711273,0.004713170230389,0.107781395316124,-0.137862861156464,0.200371801853180,-0.006808205042034,0.057185340672731,-0.135886117815971,-0.140204757452011,0.012746068648994,0.032856810837984,-0.063632495701313,0.058601677417755,-0.077047921717167));
res += mul(Get(s1,dx,-dy), float4x4(-0.119021676480770,-0.105999231338501,0.139242008328438,-0.063141316175461,0.001024732831866,0.101763740181923,-0.110693484544754,-0.136044442653656,-0.014234406873584,0.301700055599213,0.010434626601636,0.003348694415763,-0.138537377119064,-0.191027119755745,-0.081017076969147,0.172038748860359));
res += mul(Get(s1,dx,0), float4x4(-0.097331553697586,-0.109606571495533,0.065984018146992,0.053046047687531,-0.012726259417832,-0.062552511692047,-0.029538204893470,-0.065393522381783,0.068548962473869,0.023452356457710,-0.005320586729795,-0.029087610542774,-0.110496371984482,0.122807621955872,-0.070484407246113,0.119878895580769));
res += mul(Get(s1,dx,dy), float4x4(0.115543559193611,0.008587646298110,0.132364034652710,0.056565329432487,0.089992105960846,-0.086369395256042,-0.031548410654068,-0.069759547710419,0.168155163526535,-0.005351074505597,-0.025798343122005,-0.219645842909813,0.090387165546417,0.060261525213718,0.107829071581364,-0.037228625267744));
res += mul(Get(s2,-dx,-dy), float4x4(-0.174888402223587,-0.011071451008320,-0.023601878434420,0.123701274394989,-0.189955160021782,-0.026460770517588,-0.210228621959686,0.019485263153911,-0.103142842650414,-0.117884628474712,-0.097842670977116,-0.003895390778780,-0.054677505046129,-0.131810173392296,0.029578018933535,-0.016129935160279));
res += mul(Get(s2,-dx,0), float4x4(-0.086130283772945,0.033161219209433,-0.054648768156767,-0.095323674380779,-0.089857459068298,-0.031931880861521,0.129389807581902,-0.003760901279747,-0.110706225037575,-0.011189293116331,-0.084622398018837,0.080762058496475,-0.065187327563763,-0.127790629863739,-0.046374425292015,0.120742730796337));
res += mul(Get(s2,-dx,dy), float4x4(-0.116638228297234,-0.005299110431224,-0.149574935436249,0.291366189718246,-0.081677101552486,-0.038674402981997,0.109376274049282,0.075046464800835,-0.108491167426109,0.025642184540629,-0.028969259932637,-0.011334554292262,0.013393810950220,-0.032446078956127,0.057582028210163,0.039970114827156));
res += mul(Get(s2,0,-dy), float4x4(-0.013021080754697,-0.147287502884865,-0.058874901384115,-0.031557340174913,-0.119611583650112,0.080495811998844,-0.075649306178093,-0.066843070089817,-0.076477542519569,0.099826708436012,0.026130566373467,0.021653709933162,0.029430100694299,-0.184558898210526,-0.092055015265942,-0.020608786493540));
res += mul(Get(s2,0,0), float4x4(-0.023393101990223,0.026363549754024,-0.055023286491632,-0.030007701367140,-0.039618484675884,0.044958371669054,-0.033534612506628,0.013402530923486,-0.039624392986298,0.112204566597939,-0.082811713218689,0.099958278238773,0.184893161058426,-0.041726727038622,0.027724262326956,-0.008603659458458));
res += mul(Get(s2,0,dy), float4x4(-0.113415889441967,0.155467092990875,-0.060872677713633,0.087748236954212,-0.004433831200004,-0.042424816638231,-0.102224253118038,-0.014162166044116,-0.055707368999720,0.058106321841478,-0.074270293116570,0.245976954698563,0.107006274163723,0.066084340214729,0.076590821146965,0.051445219665766));
res += mul(Get(s2,dx,-dy), float4x4(0.025395747274160,0.019895831122994,-0.076224431395531,-0.063378870487213,-0.106869049370289,0.003170978510752,-0.089788883924484,-0.177602916955948,-0.140649601817131,0.020005339756608,-0.066992908716202,-0.075036883354187,0.164253532886505,-0.048000816255808,0.025213291868567,-0.176589429378510));
res += mul(Get(s2,dx,0), float4x4(0.086436286568642,0.034803118556738,-0.020518768578768,-0.081063985824585,-0.068460091948509,0.089876040816307,0.060488015413284,-0.081995598971844,-0.043594043701887,-0.019179914146662,0.027246026322246,-0.170883595943451,0.087595283985138,-0.050168648362160,-0.054778341203928,-0.144175469875336));
res += mul(Get(s2,dx,dy), float4x4(-0.145566448569298,-0.009683986194432,0.084780566394329,0.004907505121082,0.080502286553383,0.066020831465721,0.120471552014351,-0.137950628995895,-0.041232522577047,0.078684978187084,0.077859476208687,0.043501559644938,0.005043290555477,-0.066095896065235,-0.016296381130815,-0.038049440830946));
res += mul(Get(s3,-dx,-dy), float4x4(0.049571271985769,-0.004387073684484,0.017832929268479,-0.053791243582964,-0.128738403320313,0.018840571865439,0.136670112609863,-0.082372091710567,-0.151441559195518,-0.021440738812089,-0.057587452232838,0.041072994470596,-0.056549824774265,0.101252131164074,0.057108107954264,0.356751114130020));
res += mul(Get(s3,-dx,0), float4x4(0.123928815126419,-0.040254108607769,-0.015091115608811,0.044183861464262,0.047348503023386,-0.053009003400803,0.098775267601013,0.090491451323032,-0.150001943111420,0.005691303405911,-0.036194644868374,0.012536381371319,0.031045174226165,0.035108853131533,0.044680949300528,0.029325023293495));
res += mul(Get(s3,-dx,dy), float4x4(0.012922118417919,-0.049396086484194,0.048724696040154,-0.131983712315559,-0.143551602959633,0.018201122060418,-0.057841666042805,0.025252750143409,-0.139050200581551,0.082696340978146,-0.080386176705360,0.231339678168297,-0.091925464570522,0.039145004004240,0.050556667149067,0.097523778676987));
res += mul(Get(s3,0,-dy), float4x4(0.143826246261597,0.035378821194172,0.024093052372336,-0.004206476733088,0.008687542751431,0.009480439126492,-0.114217132329941,0.034039393067360,0.007783459965140,0.011759254150093,-0.105427667498589,0.063108310103416,-0.097844056785107,0.002683649538085,0.055922631174326,0.112957246601582));
res += mul(Get(s3,0,0), float4x4(0.099842056632042,0.033698033541441,-0.079858288168907,0.138612255454063,0.165415272116661,-0.049644961953163,0.135279744863510,0.065928533673286,-0.022344037890434,0.026954894885421,-0.075654178857803,0.074648924171925,-0.002759889466688,0.023496933281422,-0.006061411928385,-0.163495376706123));
res += mul(Get(s3,0,dy), float4x4(-0.198052421212196,0.092578969895840,-0.084790728986263,0.031546406447887,-0.006782887503505,-0.011655963957310,-0.029491251334548,0.047863941639662,-0.057571008801460,0.034676920622587,0.110402397811413,-0.009603034704924,-0.100719362497330,0.026189960539341,0.045283757150173,-0.051870681345463));
res += mul(Get(s3,dx,-dy), float4x4(-0.048823568969965,0.067096285521984,-0.014172938652337,0.042239177972078,0.107160449028015,0.144159764051437,-0.097745724022388,-0.119423441588879,0.035102546215057,0.054899912327528,-0.067508332431316,-0.077294446527958,-0.033705089241266,0.099760599434376,0.140506148338318,-0.031079368665814));
res += mul(Get(s3,dx,0), float4x4(0.084795400500298,0.064033098518848,-0.092400394380093,0.139331236481667,0.137957945466042,-0.001140454900451,0.035638239234686,-0.018396142870188,0.037408787757158,0.028452599421144,-0.074949666857719,-0.031421467661858,0.009029423817992,-0.003197913290933,0.031749285757542,-0.226816087961197));
res += mul(Get(s3,dx,dy), float4x4(-0.047980353236198,0.111926443874836,-0.021022794768214,0.090257510542870,-0.006047308444977,-0.078812994062901,0.088203534483910,-0.047506693750620,0.109816700220108,0.092288069427013,0.057040497660637,0.021269306540489,-0.055564302951097,0.100276276469231,-0.009665431454778,0.147558480501175));
return max(float4(0,0,0,0), res);
}
