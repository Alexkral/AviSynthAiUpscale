sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.093456476926804,0.172978982329369,-0.045231644064188,0.159786313772202,0.010987826623023,-0.009819997474551,0.000749430968426,-0.042475074529648,0.009967492893338,-0.051594667136669,0.247857987880707,-0.049016002565622,-0.055507402867079,-0.007605894934386,-0.243789821863174,0.212055101990700));
res += mul(Get(s0,-dx,0), float4x4(0.026305802166462,-0.000150767271407,0.240329280495644,0.168965876102448,0.058044753968716,-0.036443751305342,-0.096637234091759,0.126115679740906,0.183195337653160,0.136775627732277,-0.139625787734985,-0.145158618688583,-0.123243711888790,-0.174459680914879,0.004454204812646,-0.131673052906990));
res += mul(Get(s0,-dx,dy), float4x4(-0.010388555936515,0.031029954552650,0.034269850701094,0.160782426595688,0.258935183286667,-0.058767564594746,0.017537919804454,-0.011560632847250,0.107305929064751,-0.061366207897663,0.095453754067421,-0.110978856682777,0.072163313627243,0.065050944685936,0.091798521578312,-0.219807028770447));
res += mul(Get(s0,0,-dy), float4x4(-0.123560033738613,-0.062885634601116,0.018431000411510,-0.115860112011433,-0.043377146124840,-0.040623664855957,0.090064823627472,-0.151540964841843,0.116141699254513,-0.105062313377857,0.197068616747856,-0.124314017593861,0.250515669584274,-0.113204255700111,-0.084911465644836,-0.100276231765747));
res += mul(Get(s0,0,0), float4x4(-0.094484858214855,0.022044004872441,-0.044408373534679,0.103695705533028,0.097635112702847,0.119552187621593,0.105960935354233,0.019821304827929,-0.126879453659058,-0.055933855473995,-0.122949093580246,0.014309175312519,0.120575547218323,-0.135908424854279,-0.111942417919636,-0.071842893958092));
res += mul(Get(s0,0,dy), float4x4(0.174140647053719,0.044822402298450,0.042678978294134,0.103571906685829,0.012287283316255,0.181869760155678,-0.006498393602669,0.018865238875151,-0.090584054589272,0.078040286898613,0.054885797202587,0.102660834789276,0.154092714190483,0.034423287957907,-0.154080256819725,0.194319784641266));
res += mul(Get(s0,dx,-dy), float4x4(0.029281146824360,-0.069792561233044,-0.026043269783258,0.139431610703468,-0.025160100311041,-0.107575148344040,-0.096799664199352,0.092491030693054,-0.034284595400095,0.032161828130484,-0.042833413928747,0.008408163674176,0.087051808834076,-0.013124627992511,-0.237860172986984,0.133874982595444));
res += mul(Get(s0,dx,0), float4x4(0.043446578085423,-0.029992388561368,0.035043533891439,0.074979007244110,-0.150208458304405,-0.100651681423187,0.035665512084961,0.186661496758461,-0.101456217467785,0.034545082598925,0.003150712698698,0.010838106274605,-0.195339247584343,-0.108030445873737,-0.055071551352739,-0.151041582226753));
res += mul(Get(s0,dx,dy), float4x4(-0.084735624492168,-0.172244012355804,-0.135924503207207,0.059734392911196,-0.328789085149765,-0.144668191671371,-0.040442105382681,0.024745982140303,0.018836224451661,0.040817882865667,-0.028466541320086,0.065109960734844,0.115313261747360,0.016667151823640,0.103428848087788,-0.225409165024757));
res += mul(Get(s1,-dx,-dy), float4x4(0.014937885105610,0.152663171291351,-0.168962463736534,-0.133938834071159,-0.068972490727901,0.018376696854830,0.094835072755814,0.177319899201393,0.009110089391470,0.010792038403451,-0.048689115792513,0.171554192900658,-0.047366417944431,-0.075037501752377,-0.098916225135326,-0.042558491230011));
res += mul(Get(s1,-dx,0), float4x4(0.032101176679134,0.184159517288208,-0.165113508701324,-0.006127603352070,0.194447368383408,0.061902754008770,0.005275621078908,0.021263971924782,0.100498422980309,-0.029807280749083,0.056121371686459,-0.010848156176507,0.016633851453662,0.118431225419044,0.140738457441330,0.080410607159138));
res += mul(Get(s1,-dx,dy), float4x4(-0.099796190857887,-0.041715167462826,-0.097238451242447,-0.119134776294231,0.168987929821014,0.145017877221107,-0.221038460731506,-0.001530226902105,0.057463746517897,-0.064677953720093,0.165608420968056,-0.057880323380232,0.063128292560577,0.063337713479996,-0.059010766446590,-0.012586772441864));
res += mul(Get(s1,0,-dy), float4x4(-0.017310352995992,-0.136993288993835,-0.008648428134620,0.144791677594185,0.088430196046829,-0.045156396925449,-0.109362840652466,-0.018898800015450,-0.084216050803661,-0.002823454793543,-0.021924339234829,0.115299612283707,0.179066404700279,0.091299511492252,-0.075597234070301,-0.026897355914116));
res += mul(Get(s1,0,0), float4x4(-0.128511965274811,0.189727202057838,0.017470913007855,0.050973903387785,-0.082205086946487,-0.001594898989424,0.026519445702434,-0.070624522864819,0.054029528051615,-0.214022800326347,-0.164346754550934,-0.007961406372488,-0.011728097684681,-0.066953040659428,-0.007654469460249,-0.143247261643410));
res += mul(Get(s1,0,dy), float4x4(0.016169948503375,0.064156502485275,0.171530321240425,-0.133267402648926,0.142976090312004,-0.118228696286678,-0.137213900685310,0.011263593100011,-0.048609718680382,0.028506707400084,0.009234570898116,-0.045045632869005,-0.155973032116890,0.074459165334702,-0.124049820005894,0.017488172277808));
res += mul(Get(s1,dx,-dy), float4x4(-0.075114153325558,-0.129425778985023,0.100891232490540,0.213740274310112,-0.072610057890415,-0.090723067522049,0.078850418329239,0.059920333325863,0.069832280278206,0.030465710908175,-0.021675230935216,0.012904798611999,-0.130625054240227,-0.121621608734131,0.094195596873760,-0.193554252386093));
res += mul(Get(s1,dx,0), float4x4(-0.094698525965214,-0.205200031399727,0.114210180938244,-0.007692605257034,0.084985241293907,-0.049598719924688,0.084716871380806,0.025503497570753,0.092797055840492,0.007189253810793,-0.112949520349503,-0.078106753528118,0.054639518260956,-0.103826008737087,-0.096755236387253,-0.007465799339116));
res += mul(Get(s1,dx,dy), float4x4(0.021825423464179,-0.041594468057156,0.080546259880066,-0.028531197458506,-0.214454457163811,0.037726145237684,0.081521205604076,-0.074800841510296,-0.032980367541313,-0.046776622533798,0.130746349692345,0.131072431802750,0.191153809428215,0.139011949300766,-0.127409309148788,0.002455533016473));
res += mul(Get(s2,-dx,-dy), float4x4(0.070439197123051,0.049248568713665,0.246078655123711,0.122689902782440,-0.033709935843945,0.096659690141678,-0.092744708061218,-0.021890396252275,0.004014002159238,0.074005745351315,0.042095184326172,-0.066394120454788,0.089675828814507,0.174957185983658,-0.020987607538700,-0.000791465630755));
res += mul(Get(s2,-dx,0), float4x4(-0.033999767154455,0.005244460422546,0.111092507839203,0.105767652392387,-0.019274767488241,0.091658160090446,0.335310846567154,-0.115796349942684,0.017773870378733,0.081618890166283,0.052072420716286,-0.034751221537590,0.198111563920975,0.031872414052486,-0.074249610304832,-0.052913483232260));
res += mul(Get(s2,-dx,dy), float4x4(0.053777020424604,-0.060376495122910,-0.020079415291548,0.088827267289162,-0.054947562515736,0.038575753569603,-0.094418525695801,-0.065160892903805,-0.017939068377018,0.035373911261559,-0.156480416655540,-0.013516237027943,0.026406746357679,0.014076682738960,-0.027471659705043,-0.097259804606438));
res += mul(Get(s2,0,-dy), float4x4(0.196075692772865,0.019762884825468,-0.148529708385468,-0.017719164490700,-0.009644954465330,0.154589578509331,0.038818035274744,0.002452114829794,0.057203318923712,0.015366964973509,0.131906986236572,-0.104948267340660,0.136962354183197,-0.074613653123379,-0.152100846171379,-0.129675954580307));
res += mul(Get(s2,0,0), float4x4(-0.049528218805790,0.051772247999907,-0.070252470672131,0.137571141123772,0.085709683597088,0.106053918600082,0.053627245128155,-0.040808059275150,0.021002514287829,-0.127657160162926,-0.092481911182404,-0.326138973236084,-0.077985413372517,0.040564320981503,-0.017959358170629,0.004893455188721));
res += mul(Get(s2,0,dy), float4x4(0.114564195275307,0.149812608957291,0.247142538428307,-0.027867870405316,0.001810713787563,0.042496811598539,0.097093962132931,-0.049643784761429,-0.134852468967438,-0.271169871091843,-0.249699667096138,-0.105145931243896,0.091428726911545,-0.049899213016033,-0.136558383703232,-0.093364514410496));
res += mul(Get(s2,dx,-dy), float4x4(0.108364962041378,0.050109688192606,-0.047002319246531,-0.242798328399658,0.029385175555944,0.177670955657959,-0.084801360964775,0.036671314388514,0.031875465065241,0.028313353657722,-0.146289229393005,-0.006718243937939,0.015005748718977,-0.159296676516533,0.017029862850904,-0.128922998905182));
res += mul(Get(s2,dx,0), float4x4(-0.030299190431833,-0.015689017251134,-0.066269926726818,-0.039453007280827,0.008760147728026,0.377254307270050,0.088796831667423,0.134493321180344,0.021492848172784,-0.129785180091858,0.171746715903282,-0.163222044706345,0.158538252115250,0.027308335527778,0.078114829957485,0.099964357912540));
res += mul(Get(s2,dx,dy), float4x4(0.031026583164930,0.057766698300838,-0.081997498869896,0.026355423033237,-0.035631924867630,0.114073701202869,-0.082451067864895,-0.061504781246185,-0.034694995731115,0.005796554498374,-0.033032000064850,-0.105912782251835,0.109444327652454,0.038358286023140,-0.043506208807230,-0.053407512605190));
res += mul(Get(s3,-dx,-dy), float4x4(0.019728507846594,0.090259917080402,-0.027434056624770,-0.077701240777969,0.069675087928772,0.162302002310753,0.141490355134010,0.001538036391139,0.045511126518250,-0.174456492066383,0.057333346456289,-0.096894241869450,0.025047330185771,0.025307750329375,-0.093427993357182,0.155741021037102));
res += mul(Get(s3,-dx,0), float4x4(-0.123267754912376,-0.005737081635743,0.216672226786613,0.005613725166768,-0.191687881946564,0.096461348235607,0.134128093719482,0.027321863919497,0.085030451416969,0.018634336069226,0.129387348890305,-0.028182376176119,-0.070221506059170,0.012349705211818,0.086998417973518,-0.019664410501719));
res += mul(Get(s3,-dx,dy), float4x4(-0.077582314610481,-0.031057385727763,0.016470979899168,-0.057503547519445,0.072021618485451,0.086292982101440,0.004614030476660,0.059506863355637,0.094830185174942,0.199059784412384,0.082717061042786,-0.066391848027706,0.074207998812199,0.055435072630644,0.018687084317207,0.027681399136782));
res += mul(Get(s3,0,-dy), float4x4(0.022660428658128,-0.175631791353226,-0.106273055076599,-0.095352023839951,-0.138808771967888,0.041265822947025,0.070957668125629,-0.064062513411045,0.058473940938711,0.017311273142695,-0.172643825411797,0.138247728347778,-0.067103557288647,0.062233991920948,0.273454070091248,-0.041294850409031));
res += mul(Get(s3,0,0), float4x4(-0.016755580902100,0.067757606506348,-0.187020719051361,0.132241442799568,0.032342441380024,-0.035721302032471,-0.115990817546844,-0.017707074061036,-0.106447875499725,0.026536015793681,-0.114196598529816,0.013074747286737,-0.156408131122589,-0.008104427717626,-0.161344572901726,0.023534856736660));
res += mul(Get(s3,0,dy), float4x4(0.027073141187429,-0.107474230229855,0.138732030987740,-0.058429084718227,0.017590068280697,-0.030204735696316,-0.188011661171913,0.059506628662348,0.109017558395863,0.061507932841778,0.127891466021538,-0.263237237930298,-0.040205478668213,0.030524495989084,-0.075977854430676,-0.035396851599216));
res += mul(Get(s3,dx,-dy), float4x4(-0.124346978962421,0.242778941988945,-0.148566484451294,0.052720744162798,-0.091652356088161,-0.011796100996435,0.077637575566769,-0.012715728022158,0.188060402870178,0.131661936640739,0.074678801000118,0.112899847328663,-0.070168487727642,0.090709485113621,-0.112133949995041,-0.215027928352356));
res += mul(Get(s3,dx,0), float4x4(-0.070680111646652,0.027653407305479,-0.192268192768097,0.030526932328939,-0.006282881367952,0.145731046795845,-0.022229710593820,-0.105398461222649,-0.046928923577070,-0.081565208733082,0.251046746969223,-0.001095276209526,-0.108087740838528,-0.080912135541439,0.058139860630035,0.123999677598476));
res += mul(Get(s3,dx,dy), float4x4(-0.235952183604240,-0.015477870590985,0.001002091798000,0.096592664718628,-0.055764839053154,0.127991452813148,-0.067206725478172,-0.080372221767902,0.086407214403152,0.063293665647507,-0.104199640452862,0.240436315536499,0.121536046266556,-0.005220419727266,0.065253019332886,0.093060940504074));
return max(float4(0,0,0,0), res);
}
