sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.050919163972139,-0.046181876212358,0.092547133564949,-0.057014539837837,-0.042701452970505,-0.052082020789385,-0.009412850253284,-0.052325088530779,-0.043966989964247,-0.033241607248783,0.005066918674856,-0.004273879807442,-0.078547179698944,0.011044160462916,-0.021279513835907,-0.013030415400863));
res += mul(Get(s0,-dx,0), float4x4(0.084639400243759,0.022155122831464,0.024149784818292,0.107455223798752,0.038080405443907,0.142296642065048,0.055749781429768,-0.007774053607136,-0.001573649351485,0.094286561012268,0.069574445486069,-0.076620966196060,-0.097870364785194,0.028616316616535,0.032410126179457,0.116924911737442));
res += mul(Get(s0,-dx,dy), float4x4(-0.040306519716978,-0.063323512673378,-0.052444186061621,0.034579474478960,0.000004767538485,0.072473369538784,0.039335034787655,-0.128544032573700,-0.012444694526494,0.007526511792094,-0.062784455716610,0.030966548249125,0.005652644205838,0.161429107189178,-0.068767845630646,0.002504758536816));
res += mul(Get(s0,0,-dy), float4x4(0.022165261209011,-0.070371814072132,0.063224092125893,-0.169499590992928,0.096652828156948,-0.009735604748130,-0.043024417012930,0.130432531237602,0.012895352207124,-0.000791440485045,0.139015987515450,0.039209146052599,-0.058810286223888,-0.027341680601239,0.137999266386032,-0.027656402438879));
res += mul(Get(s0,0,0), float4x4(0.061158355325460,0.011959541589022,0.095683552324772,-0.074023775756359,-0.067804060876369,0.009277716279030,-0.024781722575426,0.087653696537018,-0.048638895153999,0.177694201469421,0.062047228217125,-0.005331594962627,-0.052830286324024,-0.036584727466106,0.157600045204163,0.039058245718479));
res += mul(Get(s0,0,dy), float4x4(-0.157184198498726,0.016996990889311,0.142292186617851,-0.053526975214481,-0.131147325038910,0.011801003478467,-0.034595407545567,-0.143639370799065,0.264941751956940,0.086827792227268,-0.023595212027431,-0.034980859607458,-0.034287173300982,-0.007957599125803,0.109190709888935,-0.062385898083448));
res += mul(Get(s0,dx,-dy), float4x4(0.038397107273340,0.049702331423759,-0.212606906890869,-0.002312327967957,-0.133222803473473,-0.078664183616638,-0.063678890466690,0.190014332532883,0.003827097360045,0.049095328897238,-0.036860931664705,0.073981486260891,0.012329235672951,0.030126726254821,-0.112015008926392,0.019833164289594));
res += mul(Get(s0,dx,0), float4x4(-0.047531098127365,-0.064052954316139,-0.101823732256889,0.208553075790405,-0.047381453216076,-0.074957571923733,-0.073909081518650,0.198593214154243,-0.054500877857208,-0.087623372673988,-0.102470956742764,0.127021566033363,-0.028665445744991,0.038719203323126,-0.033878702670336,-0.065565153956413));
res += mul(Get(s0,dx,dy), float4x4(-0.139742940664291,-0.063675738871098,-0.077801130712032,0.112030684947968,0.021396625787020,0.004954527132213,-0.106570012867451,-0.005209130700678,0.046333461999893,0.050798296928406,-0.130413383245468,0.002945470158011,-0.120760947465897,-0.083061866462231,-0.088078051805496,0.082098990678787));
res += mul(Get(s1,-dx,-dy), float4x4(0.013037142343819,0.101075313985348,-0.070868253707886,-0.062983565032482,0.062003694474697,-0.066106446087360,-0.011038744822145,0.033014394342899,0.050871524959803,-0.108932569622993,-0.080454908311367,0.117506168782711,0.031492348760366,0.007106085773557,0.059515021741390,0.026259966194630));
res += mul(Get(s1,-dx,0), float4x4(0.031724721193314,0.118749335408211,0.068015940487385,0.024247987195849,-0.068617410957813,-0.044150929898024,-0.035011850297451,-0.120615847408772,0.114955507218838,-0.139946207404137,-0.074101269245148,0.010464498773217,-0.066348917782307,-0.031726162880659,-0.036710713058710,-0.018007036298513));
res += mul(Get(s1,-dx,dy), float4x4(-0.021908521652222,0.158273562788963,0.056760311126709,0.069690711796284,-0.068885356187820,0.038540188223124,0.044078707695007,-0.052470870316029,0.290057212114334,-0.034178610891104,-0.087005600333214,0.083595305681229,0.055595155805349,0.132521376013756,-0.011839168146253,-0.021712347865105));
res += mul(Get(s1,0,-dy), float4x4(0.082194514572620,0.050386641174555,-0.015436891466379,-0.014924909919500,-0.018361276015639,-0.028124792501330,0.036308903247118,-0.080535858869553,-0.048449929803610,-0.088424958288670,-0.074089318513870,0.131771177053452,-0.014412354677916,-0.005013332236558,-0.002077380660921,-0.050462149083614));
res += mul(Get(s1,0,0), float4x4(-0.079090900719166,-0.102634340524673,-0.028814632445574,-0.020431958138943,-0.019512223079801,-0.058891355991364,-0.079346075654030,-0.027371473610401,-0.024568635970354,-0.026569610461593,-0.107041344046593,-0.110480315983295,-0.125888496637344,-0.000852734607179,0.004185470752418,-0.001600835006684));
res += mul(Get(s1,0,dy), float4x4(-0.024855565279722,-0.113465957343578,0.044100470840931,0.028703125193715,0.021557414904237,0.480546802282333,-0.071815460920334,-0.007222099229693,0.141690135002136,-0.042220313102007,-0.018091412261128,0.028923347592354,0.121013604104519,0.098845571279526,-0.093587383627892,0.003955719061196));
res += mul(Get(s1,dx,-dy), float4x4(0.047416139394045,-0.063871130347252,0.035858169198036,0.023004835471511,-0.046943381428719,0.071771800518036,0.033491801470518,-0.108482532203197,-0.182626485824585,-0.102359570562840,-0.067538693547249,0.013521237298846,0.194408789277077,-0.038225684314966,-0.078065462410450,-0.082271486520767));
res += mul(Get(s1,dx,0), float4x4(0.169690132141113,-0.124123796820641,0.131947040557861,0.004874865524471,-0.067742154002190,-0.031461276113987,0.370006948709488,-0.049900937825441,-0.113408379256725,-0.019796624779701,-0.096236117184162,-0.043660588562489,0.107861801981926,-0.095710530877113,0.036030311137438,-0.042176052927971));
res += mul(Get(s1,dx,dy), float4x4(-0.025475272908807,-0.125716388225555,0.162293717265129,-0.054750628769398,-0.046145368367434,0.077938251197338,0.095328859984875,-0.073429524898529,0.097176983952522,-0.042537361383438,0.003191511146724,0.074351258575916,-0.079843774437904,0.183106631040573,0.038321543484926,0.053324386477470));
res += mul(Get(s2,-dx,-dy), float4x4(0.015634274110198,-0.020859062671661,-0.068615958094597,0.013990182429552,-0.002427760744467,-0.085320763289928,-0.006306005176157,-0.080087386071682,-0.075221046805382,-0.053130723536015,-0.074410818517208,0.157487809658051,-0.021546553820372,-0.014062236994505,0.025865407660604,0.093693234026432));
res += mul(Get(s2,-dx,0), float4x4(-0.103493541479111,-0.024995403364301,-0.018538342788815,-0.059086568653584,0.039785038679838,-0.063185460865498,0.055542465299368,-0.138807445764542,-0.122960343956947,-0.009601379744709,0.030517850071192,0.128279849886894,-0.001553120091558,0.088795818388462,0.017083428800106,-0.009099927730858));
res += mul(Get(s2,-dx,dy), float4x4(-0.111660227179527,-0.050483774393797,0.039719521999359,-0.095629498362541,-0.021920448169112,-0.003648076206446,0.063801325857639,0.126447260379791,-0.021400963887572,0.117425583302975,0.039450608193874,0.141636028885841,0.078038975596428,0.083322115242481,-0.013764344155788,-0.030548578128219));
res += mul(Get(s2,0,-dy), float4x4(-0.113157309591770,0.011945229955018,-0.089404910802841,0.115391060709953,0.067086935043335,-0.065951995551586,-0.105247527360916,-0.072805091738701,0.040414415299892,-0.035134233534336,0.005159670487046,-0.134806096553802,0.052524767816067,-0.020100612193346,0.136667415499687,0.078268431127071));
res += mul(Get(s2,0,0), float4x4(0.033120438456535,-0.000722495606169,0.019001839682460,-0.051273629069328,0.039172396063805,-0.056453838944435,0.226109921932220,-0.128895595669746,-0.016038993373513,-0.068661041557789,0.007164099253714,-0.037304613739252,-0.054777283221483,0.064925529062748,0.029065605252981,0.039396911859512));
res += mul(Get(s2,0,dy), float4x4(-0.030396012589335,-0.002499581081793,-0.015717711299658,-0.088790483772755,-0.100564867258072,-0.135809257626534,-0.050248894840479,0.053293753415346,0.023369824513793,0.057634249329567,-0.011116205714643,-0.046485491096973,0.046336401253939,0.066590063273907,0.146016702055931,-0.059455726295710));
res += mul(Get(s2,dx,-dy), float4x4(-0.082623489201069,-0.088443443179131,-0.049478303641081,-0.015475354157388,0.010072630830109,-0.021548284217715,-0.074229031801224,0.154221445322037,-0.069821074604988,0.011938002891839,0.041028119623661,-0.091814301908016,0.201821506023407,0.008608823642135,-0.094463109970093,0.076766721904278));
res += mul(Get(s2,dx,0), float4x4(0.029362559318542,-0.040556527674198,-0.093716278672218,-0.070261903107166,-0.057765308767557,0.000709875952452,0.017275862395763,0.194948568940163,0.117509752511978,-0.059550147503614,0.057393860071898,-0.047566261142492,0.007459340151399,-0.063189007341862,-0.065271131694317,0.031910732388496));
res += mul(Get(s2,dx,dy), float4x4(0.007873740047216,0.023910298943520,-0.131403386592865,-0.018687427043915,-0.110406987369061,-0.154848024249077,-0.147546574473381,0.253620117902756,0.106715254485607,0.096056684851646,0.088276267051697,0.032583653926849,-0.160015448927879,0.017597291618586,-0.154436022043228,-0.091315366327763));
res += mul(Get(s3,-dx,-dy), float4x4(-0.163582086563110,-0.105698369443417,0.000625666754786,0.051654491573572,-0.076483435928822,0.015203996561468,-0.101550891995430,0.091710254549980,-0.027141874656081,0.065442986786366,0.021897573024035,0.128865167498589,-0.019458979368210,0.081536553800106,-0.016980545595288,-0.009445243515074));
res += mul(Get(s3,-dx,0), float4x4(-0.124402642250061,0.071381255984306,0.072246953845024,-0.078433275222778,-0.004180706106126,0.057478204369545,-0.073118053376675,-0.112331278622150,-0.083491481840611,-0.059944514185190,-0.059901036322117,-0.018114717677236,-0.139640197157860,-0.020248567685485,-0.083597645163536,0.043090682476759));
res += mul(Get(s3,-dx,dy), float4x4(0.101894646883011,0.018743747845292,-0.066984780132771,0.055904790759087,-0.016541820019484,-0.137685611844063,0.045135669410229,0.210113540291786,-0.071541771292686,-0.100220404565334,-0.061151403933764,0.121074184775352,-0.020466852933168,0.020442999899387,0.012240109033883,-0.210187688469887));
res += mul(Get(s3,0,-dy), float4x4(0.032951559871435,-0.136654838919640,-0.058966130018234,-0.005207088310272,0.064697168767452,0.125243812799454,0.031535182148218,0.000429420528235,0.008818599395454,0.005695434752852,-0.081846229732037,-0.025372657924891,0.113643646240234,-0.001772532821633,0.076179593801498,-0.081566169857979));
res += mul(Get(s3,0,0), float4x4(0.009688631631434,-0.034548502415419,-0.044278569519520,-0.041268821805716,-0.054006446152925,0.054508354514837,0.060535643249750,-0.012036453932524,-0.039027333259583,0.073527179658413,0.003133846446872,-0.092042341828346,0.107331044971943,0.002340514678508,-0.111298874020576,0.039026170969009));
res += mul(Get(s3,0,dy), float4x4(0.127069070935249,0.044844426214695,-0.046211116015911,-0.001140251173638,-0.035853799432516,-0.030527606606483,0.127374634146690,-0.018908141180873,-0.099831774830818,0.098878845572472,0.199475690722466,0.180115908384323,-0.060354359447956,-0.045255813747644,-0.119091920554638,-0.128156661987305));
res += mul(Get(s3,dx,-dy), float4x4(0.021600294858217,-0.054840635508299,0.041673179715872,-0.044287145137787,0.070755071938038,-0.038819532841444,-0.082742482423782,-0.068045951426029,0.098411433398724,0.010727574117482,0.012344984337687,-0.103725090622902,0.258308142423630,-0.085200443863869,0.071806937456131,-0.158199653029442));
res += mul(Get(s3,dx,0), float4x4(0.050008703023195,-0.016414130106568,0.004399733152241,-0.070454217493534,-0.033690694719553,-0.101587727665901,-0.069579981267452,-0.110188446938992,0.003150401636958,-0.006136369425803,0.061901662498713,-0.060155719518661,0.080815091729164,-0.024256262928247,0.039769548922777,-0.131267651915550));
res += mul(Get(s3,dx,dy), float4x4(0.101081557571888,0.038894746452570,-0.037430174648762,0.073989808559418,-0.027299936860800,0.111300185322762,0.059154551476240,-0.263708293437958,-0.044944982975721,0.092387273907661,0.065162055194378,0.113107413053513,0.003030127380043,0.130428269505501,-0.032381433993578,-0.054146602749825));
return max(float4(0,0,0,0), res);
}
