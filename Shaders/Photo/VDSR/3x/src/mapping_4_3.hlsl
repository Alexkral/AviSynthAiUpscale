sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.008050154894590,0.112510368227959,0.054843917489052,-0.228083208203316,0.139660596847534,0.120998784899712,-0.023909177631140,-0.102059625089169,-0.064609058201313,-0.156566709280014,0.122796826064587,0.015923634171486,0.165398597717285,0.014214812777936,0.143081799149513,0.111546076834202));
res += mul(Get(s0,-dx,0), float4x4(-0.010702976956964,-0.133237108588219,-0.062896519899368,-0.250370562076569,-0.113896526396275,0.010295121930540,0.021603370085359,-0.159320786595345,-0.013864760287106,-0.090747721493244,0.079931445419788,0.285296976566315,-0.008153924718499,0.021618597209454,-0.164200410246849,-0.117276571691036));
res += mul(Get(s0,-dx,dy), float4x4(-0.174097046256065,0.086506605148315,-0.114981062710285,-0.051025368273258,0.103163637220860,0.049997083842754,0.412542790174484,-0.089770831167698,0.087163276970387,0.077069513499737,0.115150988101959,0.074996322393417,0.049100466072559,-0.018612036481500,0.105966001749039,-0.080017283558846));
res += mul(Get(s0,0,-dy), float4x4(-0.091590009629726,0.042304374277592,-0.222118735313416,-0.100952453911304,0.110051222145557,-0.065819136798382,-0.105319976806641,0.133542403578758,-0.180692836642265,-0.145444139838219,0.246314376592636,0.054130595177412,-0.086192876100540,-0.014715229161084,0.059311453253031,0.153909415006638));
res += mul(Get(s0,0,0), float4x4(0.132573723793030,0.044210806488991,-0.080834984779358,0.094320826232433,-0.139241650700569,0.021300911903381,0.089553803205490,0.003792285686359,0.112751737236977,0.027263805270195,-0.043217282742262,0.047542586922646,-0.105034731328487,-0.267524272203445,-0.071938514709473,-0.011845135129988));
res += mul(Get(s0,0,dy), float4x4(-0.085768058896065,0.085380658507347,-0.061373922973871,-0.007214716169983,0.069329716265202,0.048354323953390,-0.107214972376823,0.013348259963095,0.113557726144791,-0.001094294013456,-0.087008245289326,0.080829501152039,0.042772978544235,0.121297605335712,0.189263537526131,-0.009404722601175));
res += mul(Get(s0,dx,-dy), float4x4(0.006601542700082,0.007130151614547,-0.062811650335789,0.088082298636436,-0.055258452892303,0.017600957304239,0.034833423793316,-0.056137241423130,-0.118951998651028,-0.075025662779808,0.011083759367466,0.045804712921381,0.173901110887527,-0.113791495561600,-0.014948594383895,0.054498896002769));
res += mul(Get(s0,dx,0), float4x4(-0.073984898626804,0.116201721131802,-0.052095778286457,0.193936169147491,0.008387493900955,0.045896336436272,0.000784644915257,-0.241507336497307,0.021066183224320,0.065996199846268,0.107398115098476,0.042280405759811,-0.090758450329304,-0.088811263442039,-0.028124308213592,-0.007593705318868));
res += mul(Get(s0,dx,dy), float4x4(-0.113676242530346,0.010592584498227,-0.069240391254425,0.006429650355130,0.021730950102210,0.070868574082851,-0.094434395432472,0.065228499472141,-0.057822093367577,0.081922151148319,-0.271454095840454,-0.063704617321491,0.227213412523270,-0.040330544114113,-0.108497388660908,-0.038940630853176));
res += mul(Get(s1,-dx,-dy), float4x4(0.229371830821037,0.079929836094379,-0.212630435824394,0.071744561195374,-0.069159641861916,0.049082528799772,-0.096100516617298,0.319653660058975,-0.003227169858292,0.134018242359161,-0.072130203247070,0.063281618058681,-0.035103417932987,0.085864260792732,0.438032776117325,-0.090711019933224));
res += mul(Get(s1,-dx,0), float4x4(0.028677755966783,0.011299205943942,-0.032809738069773,-0.089830771088600,0.207253172993660,0.155223131179810,-0.069190904498100,0.073492594063282,-0.006906307768077,-0.090329021215439,-0.057814732193947,-0.038546022027731,0.126508608460426,-0.026842674240470,0.114269994199276,-0.007815691642463));
res += mul(Get(s1,-dx,dy), float4x4(0.057649482041597,-0.221281155943871,-0.018893830478191,0.039508152753115,-0.040950346738100,0.139608681201935,-0.029568852856755,0.098953977227211,-0.108190298080444,0.122627697885036,-0.169435545802116,-0.045074347406626,-0.066291563212872,0.002702361205593,-0.166927784681320,-0.054609511047602));
res += mul(Get(s1,0,-dy), float4x4(0.178630650043488,0.028926845639944,0.163066551089287,-0.142408072948456,0.055026996880770,0.125511333346367,0.008239828050137,-0.015891430899501,0.086592264473438,-0.038783524185419,0.066486664116383,-0.122478254139423,-0.077387653291225,0.171435549855232,0.051773842424154,0.001052018953487));
res += mul(Get(s1,0,0), float4x4(-0.096851602196693,-0.074542216956615,-0.107863366603851,0.085779294371605,0.003187951166183,0.130755633115768,0.075911834836006,-0.073238231241703,-0.123320952057838,0.128600880503654,0.174836859107018,-0.061569504439831,0.153202533721924,-0.038814615458250,0.002553808037192,-0.024080106988549));
res += mul(Get(s1,0,dy), float4x4(-0.205223485827446,-0.023343235254288,-0.095943331718445,-0.099128104746342,0.067134194076061,-0.055738195776939,0.028741858899593,0.227314203977585,-0.262878805398941,-0.048484567552805,-0.099574096500874,-0.123068958520889,0.122140049934387,0.074619367718697,0.079603977501392,-0.262848556041718));
res += mul(Get(s1,dx,-dy), float4x4(0.208856865763664,0.167938768863678,-0.114110022783279,0.056895654648542,0.017641928046942,0.015736052766442,0.266615748405457,-0.033248364925385,0.089231565594673,-0.131797686219215,0.023078778758645,0.016356909647584,0.009776003658772,0.234441146254539,-0.068621128797531,0.171620398759842));
res += mul(Get(s1,dx,0), float4x4(-0.000957758864388,0.035129971802235,-0.165905788540840,0.018555119633675,-0.132146507501602,0.139663979411125,0.074196040630341,0.144802346825600,0.121116958558559,0.008612077683210,0.190130576491356,-0.023865383118391,-0.152268037199974,-0.022918205708265,-0.061479646712542,-0.128024384379387));
res += mul(Get(s1,dx,dy), float4x4(-0.085453733801842,0.139115676283836,0.090652696788311,-0.085282057523727,-0.174020439386368,-0.112141847610474,0.143129006028175,0.088202930986881,-0.049322191625834,-0.175828278064728,0.001790653448552,0.015632668510079,-0.037460222840309,-0.093825340270996,0.060834106057882,0.037445228546858));
res += mul(Get(s2,-dx,-dy), float4x4(-0.016442241147161,-0.011607215739787,0.029286496341228,-0.077141672372818,-0.006636240053922,-0.070367969572544,0.155807808041573,0.116306319832802,0.007221040315926,0.042982816696167,0.013400512747467,-0.051666345447302,0.070749193429947,-0.041675206273794,0.080453999340534,-0.049548178911209));
res += mul(Get(s2,-dx,0), float4x4(-0.239017471671104,-0.017969375476241,-0.048072159290314,-0.207856446504593,0.034878499805927,0.058085601776838,-0.115339055657387,-0.069124840199947,-0.331168651580811,0.077377609908581,-0.085719436407089,-0.197646901011467,0.006073284428567,0.107852227985859,-0.097524128854275,-0.004734025336802));
res += mul(Get(s2,-dx,dy), float4x4(-0.014562485739589,-0.228067174553871,-0.194394007325172,0.072109542787075,0.072479628026485,-0.124330297112465,-0.078753106296062,0.020715842023492,-0.083319172263145,-0.005304029211402,-0.044886443763971,-0.215519562363625,0.119292989373207,-0.016124852001667,0.012697026133537,0.289717853069305));
res += mul(Get(s2,0,-dy), float4x4(-0.038982093334198,0.053167410194874,0.018658999353647,0.410021007061005,0.086584948003292,-0.054663535207510,-0.189488366246223,-0.007144171278924,-0.112268522381783,-0.010866500437260,-0.104271635413170,-0.044551040977240,0.053166359663010,0.028263431042433,0.002364102751017,0.028705911710858));
res += mul(Get(s2,0,0), float4x4(-0.088042698800564,-0.057019673287868,0.002670375164598,0.177492201328278,0.161559447646141,0.128295809030533,-0.063440680503845,0.017174307256937,-0.008437524549663,-0.035354521125555,-0.108175933361053,-0.180972099304199,0.017794316634536,-0.015851788222790,0.139163330197334,-0.110016740858555));
res += mul(Get(s2,0,dy), float4x4(-0.103301174938679,-0.135528624057770,0.008310303092003,0.001607753685676,0.027968162670732,0.061728447675705,-0.184053242206573,0.016389196738601,-0.070429950952530,-0.101759798824787,0.049599390476942,-0.050994411110878,-0.089632131159306,0.055579651147127,-0.051048386842012,-0.166629388928413));
res += mul(Get(s2,dx,-dy), float4x4(0.053133260458708,0.021798972040415,0.095499619841576,-0.048623032867908,-0.238229289650917,0.028037106618285,0.037264656275511,0.065352216362953,-0.061824105679989,-0.087262034416199,-0.064748264849186,-0.216461315751076,0.145248666405678,-0.070610627532005,-0.306122511625290,0.047938589006662));
res += mul(Get(s2,dx,0), float4x4(-0.072450652718544,-0.125669568777084,0.112307041883469,-0.119280487298965,-0.074351146817207,0.216699004173279,-0.001659331726842,-0.033814795315266,-0.051771648228168,0.024464363232255,0.098013162612915,-0.007922960445285,-0.004500986076891,-0.041203211992979,0.042242895811796,0.054732915014029));
res += mul(Get(s2,dx,dy), float4x4(0.130904972553253,-0.114635959267616,0.126786246895790,0.026681689545512,-0.009735902771354,-0.076371870934963,-0.162940382957458,-0.177833884954453,0.097865171730518,0.216362074017525,0.048992969095707,-0.018693905323744,0.031159836798906,-0.003244183026254,-0.025799779221416,-0.101784981787205));
res += mul(Get(s3,-dx,-dy), float4x4(-0.007484465371817,-0.053550150245428,0.094673581421375,0.027092101052403,-0.207674518227577,-0.094618231058121,0.078381814062595,-0.016100283712149,-0.098649710416794,-0.113594792783260,-0.048121448606253,-0.013030232861638,-0.105793848633766,0.076535679399967,0.077057287096977,0.064192019402981));
res += mul(Get(s3,-dx,0), float4x4(-0.016543652862310,-0.051583155989647,0.113161914050579,-0.087249659001827,-0.166117846965790,-0.159343779087067,0.216373175382614,0.089577026665211,0.040087342262268,-0.214235484600067,-0.276866644620895,0.224590376019478,0.130029365420341,-0.090388245880604,-0.142360955476761,0.216171592473984));
res += mul(Get(s3,-dx,dy), float4x4(0.060721028596163,0.026555780321360,-0.252101033926010,0.185119912028313,-0.149940297007561,0.059032447636127,-0.150972992181778,-0.142242118716240,0.014451145194471,-0.082187443971634,-0.196953609585762,0.050231281667948,0.111284755170345,-0.080550417304039,-0.048956461250782,-0.061086971312761));
res += mul(Get(s3,0,-dy), float4x4(0.057160533964634,0.001993468264118,0.042903076857328,0.046078175306320,0.086432941257954,0.021167397499084,0.130868434906006,-0.097672633826733,0.174248173832893,-0.102018959820271,-0.129355102777481,-0.176286637783051,0.034550875425339,0.000629342452157,-0.112334184348583,0.057539522647858));
res += mul(Get(s3,0,0), float4x4(0.204478546977043,-0.106706663966179,-0.025621486827731,-0.134165853261948,-0.078848533332348,-0.002649796195328,0.054146006703377,0.014716478064656,0.160851642489433,0.104100346565247,-0.166593685746193,0.102256268262863,-0.109487108886242,0.022541329264641,-0.117104329168797,0.170274466276169));
res += mul(Get(s3,0,dy), float4x4(-0.118908703327179,0.101937286555767,-0.129432708024979,0.025700861588120,0.175191730260849,-0.008783563040197,-0.046363539993763,0.026051117107272,-0.105787687003613,0.248677402734756,-0.099979661405087,0.006763360928744,-0.176799878478050,0.079063683748245,-0.020908569917083,0.010727607645094));
res += mul(Get(s3,dx,-dy), float4x4(-0.107466846704483,-0.107396908104420,-0.077954880893230,-0.149422973394394,0.002889894647524,-0.003492233576253,-0.038542158901691,-0.045863192528486,0.248826801776886,-0.154600754380226,-0.112850114703178,-0.068613290786743,-0.194457426667213,0.058194074779749,0.198476493358612,-0.053823966532946));
res += mul(Get(s3,dx,0), float4x4(0.149433702230453,0.003472553333268,-0.000287447735900,-0.040192190557718,0.004931993782520,0.230119526386261,-0.061618357896805,-0.135189950466156,0.043827656656504,-0.054352179169655,-0.115489423274994,-0.094264872372150,0.021506018936634,-0.041520278900862,0.037618838250637,-0.246883809566498));
res += mul(Get(s3,dx,dy), float4x4(-0.069458886981010,0.074284978210926,0.129681810736656,0.053282767534256,-0.105495952069759,0.013813124969602,-0.096968315541744,0.139121845364571,0.020813914015889,0.072171278297901,0.142952993512154,0.021471567451954,0.115786187350750,-0.026993567124009,0.009483983740211,-0.095021061599255));
return max(float4(0,0,0,0), res);
}
