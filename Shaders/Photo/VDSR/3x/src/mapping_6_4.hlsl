sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.059672966599464,0.128559097647667,0.133002921938896,0.011601379141212,0.018641898408532,-0.125323757529259,0.315890192985535,-0.023967351764441,-0.119441494345665,0.019043169915676,-0.000409289437812,-0.163135394454002,-0.110920161008835,-0.039808899164200,0.052905052900314,0.009741893969476));
res += mul(Get(s0,-dx,0), float4x4(-0.064681649208069,-0.078311040997505,-0.019462600350380,-0.001093334285542,-0.051077086478472,0.011334250681102,0.159188464283943,0.043220542371273,-0.134030804038048,0.027047982439399,-0.165738046169281,0.002200331771746,0.006364430300891,-0.024370567873120,-0.042873017489910,0.072375416755676));
res += mul(Get(s0,-dx,dy), float4x4(0.019770136103034,-0.128125339746475,0.281072169542313,-0.114514395594597,0.124249391257763,-0.105047762393951,0.018087081611156,0.011013058014214,0.060213912278414,-0.097547627985477,-0.196334764361382,-0.026808889582753,-0.011676489375532,-0.085105195641518,0.207920745015144,-0.036242824047804));
res += mul(Get(s0,0,-dy), float4x4(-0.139136701822281,0.064929664134979,0.015058256685734,0.047313407063484,-0.002222711220384,-0.086216203868389,0.148633778095245,-0.120144121348858,0.352409482002258,-0.145008295774460,-0.143426373600960,-0.050105128437281,0.054834321141243,-0.069629438221455,0.025505525991321,0.036879662424326));
res += mul(Get(s0,0,0), float4x4(-0.049539294093847,0.092750146985054,-0.040946375578642,0.112356595695019,-0.068330146372318,0.046085249632597,-0.130171477794647,0.123491249978542,0.021469881758094,0.003539117053151,-0.044921811670065,-0.024511832743883,0.090729579329491,-0.126982092857361,-0.117582611739635,0.141695961356163));
res += mul(Get(s0,0,dy), float4x4(0.041365012526512,-0.012957742437720,0.014582970179617,-0.007819819264114,0.237945824861526,-0.044420201331377,0.034405972808599,0.113682389259338,0.018070375546813,-0.114374943077564,-0.088373750448227,0.107671208679676,0.010224683210254,-0.110117055475712,0.007725958246738,-0.129351675510406));
res += mul(Get(s0,dx,-dy), float4x4(-0.117992378771305,0.037997499108315,0.081536203622818,0.006792239844799,0.043181907385588,0.013692434877157,0.077025376260281,-0.005509536713362,0.220125511288643,-0.123285651206970,-0.188767150044441,-0.005956909153610,0.069487802684307,-0.044265337288380,0.022881401702762,-0.089247904717922));
res += mul(Get(s0,dx,0), float4x4(0.153927564620972,0.074307180941105,0.067596450448036,0.187149226665497,-0.109319470822811,0.131222933530807,0.046960793435574,0.054709121584892,0.147127300500870,-0.154039204120636,-0.094991922378540,0.200494945049286,0.081857874989510,-0.091578617691994,0.003594901179895,-0.007660047616810));
res += mul(Get(s0,dx,dy), float4x4(0.068445958197117,0.036492563784122,-0.078434683382511,0.003640463110059,0.154248297214508,-0.071778349578381,0.075185224413872,-0.136192455887794,0.112928614020348,-0.117201223969460,-0.011367002502084,0.174370229244232,-0.087207019329071,0.001301142503507,0.058898985385895,-0.041798707097769));
res += mul(Get(s1,-dx,-dy), float4x4(-0.003354561980814,-0.042751092463732,-0.065070107579231,-0.009432024322450,-0.027761608362198,-0.012883616611362,0.005124020855874,-0.017095785588026,-0.045869424939156,-0.137974560260773,0.123467229306698,0.043865267187357,-0.125605925917625,0.116588748991489,-0.092782706022263,0.049374859780073));
res += mul(Get(s1,-dx,0), float4x4(0.028680151328444,-0.058615934103727,-0.001743596978486,-0.053288843482733,0.020013533532619,-0.070255599915981,-0.112527981400490,0.144645199179649,-0.043419308960438,-0.110359929502010,0.008319473825395,0.031364329159260,-0.119835622608662,0.047412622720003,-0.089119330048561,0.016652379184961));
res += mul(Get(s1,-dx,dy), float4x4(0.119337715208530,0.037972353398800,-0.050587169826031,-0.068623207509518,0.161218360066414,-0.039949513971806,-0.076087310910225,-0.093067161738873,0.107708647847176,0.079110965132713,0.129654079675674,0.072499603033066,-0.117953568696976,-0.162984684109688,-0.158462017774582,0.053460244089365));
res += mul(Get(s1,0,-dy), float4x4(-0.173301517963409,0.068227022886276,-0.072094723582268,0.016730807721615,-0.011781580746174,0.079251341521740,-0.005607649218291,-0.202391371130943,-0.110861860215664,-0.020479708909988,-0.021415414288640,0.039409857243299,0.113928109407425,0.040797855705023,-0.062959581613541,-0.027153559029102));
res += mul(Get(s1,0,0), float4x4(-0.044420346617699,0.007404328789562,0.015175046399236,-0.087489247322083,-0.026617275550961,-0.059534434229136,-0.056889690458775,-0.055258836597204,-0.064530938863754,-0.072806432843208,0.018314642831683,0.095440782606602,0.056056059896946,0.191515013575554,-0.088730029761791,-0.063766323029995));
res += mul(Get(s1,0,dy), float4x4(0.081447117030621,0.040099699050188,-0.053954847157001,-0.071308322250843,0.086286410689354,-0.015045993030071,0.037057396024466,-0.098004944622517,-0.081643685698509,0.031644057482481,0.037019778043032,-0.092058204114437,0.040730684995651,-0.136627987027168,-0.095311030745506,0.185272052884102));
res += mul(Get(s1,dx,-dy), float4x4(-0.027857270091772,0.070448316633701,-0.076604016125202,-0.019468706101179,-0.002471402520314,0.153989985585213,0.020522555336356,-0.062254440039396,-0.039271701127291,-0.050574630498886,-0.128452003002167,0.117053546011448,-0.141631364822388,0.042736254632473,0.009037709794939,-0.064696267247200));
res += mul(Get(s1,dx,0), float4x4(-0.076879650354385,0.039338596165180,0.034684393554926,-0.092055626213551,-0.017090506851673,-0.105564758181572,-0.059986587613821,-0.023098492994905,-0.005452905781567,-0.042510334402323,-0.035018961876631,-0.109413929283619,-0.139372304081917,0.075210034847260,-0.113587632775307,0.062728732824326));
res += mul(Get(s1,dx,dy), float4x4(0.143554091453552,-0.048985473811626,-0.105549082159996,-0.034681625664234,0.097618386149406,0.043380722403526,0.066059201955795,-0.058327034115791,-0.038149971514940,-0.072515606880188,0.111209578812122,-0.069929823279381,-0.142169535160065,-0.113396808505058,0.125614315271378,-0.132362961769104));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031593173742294,0.025580154731870,-0.047274313867092,0.074957288801670,-0.019306488335133,-0.088208682835102,-0.073476202785969,0.027434108778834,-0.107617832720280,0.068235777318478,-0.044564545154572,0.031065914779902,-0.085643060505390,0.106824815273285,0.015739906579256,-0.137025251984596));
res += mul(Get(s2,-dx,0), float4x4(0.018216937780380,0.015149351209402,0.004417872987688,0.132791876792908,-0.179654806852341,0.364193201065063,-0.031203920021653,-0.149866193532944,0.224594160914421,-0.018514042720199,0.137332826852798,0.048679117113352,-0.041816111654043,-0.057828687131405,-0.020120775327086,-0.085818819701672));
res += mul(Get(s2,-dx,dy), float4x4(0.006019222550094,0.082059971988201,-0.073281966149807,0.010382372885942,0.061702765524387,-0.041347093880177,-0.016062770038843,-0.050470620393753,0.170051723718643,0.158840283751488,0.025056522339582,0.087786503136158,0.138806805014610,0.084822021424770,-0.100405476987362,0.055760554969311));
res += mul(Get(s2,0,-dy), float4x4(-0.014948026277125,-0.008498077280819,0.208713442087173,-0.127736434340477,-0.074332781136036,-0.069226980209351,-0.054072760045528,-0.019586261361837,-0.162007957696915,0.027345385402441,-0.057750113308430,-0.078128427267075,-0.029247852042317,-0.061531174927950,-0.099879503250122,-0.076441623270512));
res += mul(Get(s2,0,0), float4x4(-0.045769561082125,-0.040300518274307,-0.136199235916138,-0.004389934241772,0.007189678959548,0.053377084434032,-0.009573389776051,0.056581158190966,0.013177850283682,0.037772394716740,0.077956624329090,0.020606817677617,-0.024882627651095,-0.026699120178819,-0.036567706614733,-0.076718620955944));
res += mul(Get(s2,0,dy), float4x4(-0.098658114671707,0.065937161445618,-0.174598738551140,0.021528562530875,0.070491552352905,-0.063688799738884,-0.041262257844210,-0.029765013605356,-0.172096922993660,0.244604840874672,0.073886550962925,-0.144646763801575,0.010729833506048,0.010553782805800,0.040281467139721,-0.025236496701837));
res += mul(Get(s2,dx,-dy), float4x4(-0.189250275492668,-0.038802366703749,0.119394361972809,-0.158805504441261,0.047539927065372,-0.125571787357330,-0.004691882990301,-0.163040086627007,-0.181993871927261,-0.039418596774340,0.104764133691788,-0.082267738878727,0.103539638221264,0.100872844457626,-0.014800891280174,-0.057693578302860));
res += mul(Get(s2,dx,0), float4x4(-0.015212338417768,-0.080892525613308,-0.023373030126095,-0.075733155012131,0.146037191152573,0.047477830201387,0.009281647391617,-0.045516457408667,-0.142521396279335,-0.116162888705730,-0.013771141879261,0.031033605337143,0.016907105222344,0.000122739496874,-0.096190087497234,-0.060069102793932));
res += mul(Get(s2,dx,dy), float4x4(0.109932333230972,0.111774526536465,0.054932612925768,-0.069478861987591,0.048304818570614,0.028486495837569,0.082781180739403,-0.024056658148766,-0.013052025809884,-0.012459206394851,-0.036092970520258,-0.111649468541145,0.021386478096247,0.106476932764053,0.109466172754765,-0.027562698349357));
res += mul(Get(s3,-dx,-dy), float4x4(-0.026683097705245,0.021027460694313,-0.023455057293177,0.080351345241070,0.088069409132004,-0.192627325654030,-0.240305855870247,-0.073947563767433,-0.038677282631397,0.162302628159523,-0.002552528865635,-0.003126800991595,-0.022665003314614,-0.033000823110342,-0.115915022790432,0.131423696875572));
res += mul(Get(s3,-dx,0), float4x4(0.056404564529657,-0.181022793054581,0.142058596014977,0.081380657851696,-0.045362260192633,0.372027635574341,-0.165033668279648,0.050379224121571,-0.136182889342308,-0.006268172990531,-0.059632547199726,-0.083999380469322,-0.073338858783245,-0.016153020784259,-0.149715915322304,-0.006138998549432));
res += mul(Get(s3,-dx,dy), float4x4(0.093347050249577,-0.006286298390478,0.071818009018898,-0.041162621229887,-0.050653740763664,0.132515028119087,-0.121717661619186,-0.042045939713717,0.069152422249317,-0.050261549651623,-0.077824577689171,-0.002096926793456,0.038849420845509,-0.132758468389511,-0.117489144206047,-0.152546256780624));
res += mul(Get(s3,0,-dy), float4x4(-0.033980663865805,0.057803787291050,-0.016419259831309,-0.085935510694981,0.151269480586052,0.145027413964272,-0.067973881959915,0.097070127725601,0.041845854371786,0.047606743872166,0.016126859933138,0.094250753521919,0.009478307329118,-0.108934380114079,-0.144119709730148,-0.003241807920858));
res += mul(Get(s3,0,0), float4x4(-0.026220817118883,-0.092253290116787,0.027580887079239,-0.079985305666924,0.063388757407665,0.137138471007347,0.041858050972223,0.064764522016048,-0.075206525623798,-0.058969061821699,-0.056165665388107,0.020319221541286,0.117145724594593,-0.114472471177578,-0.010709526948631,0.143703937530518));
res += mul(Get(s3,0,dy), float4x4(-0.048204503953457,0.114334657788277,-0.064425408840179,-0.074435897171497,-0.071155726909637,0.004465283825994,0.203959748148918,-0.117914505302906,-0.021123170852661,-0.012811564840376,-0.104494646191597,-0.004825362004340,0.050475843250751,-0.141361087560654,-0.005415065679699,0.105572558939457));
res += mul(Get(s3,dx,-dy), float4x4(0.158737689256668,-0.035924088209867,-0.003654954489321,-0.030592180788517,0.043269969522953,-0.182330474257469,-0.006578797008842,-0.088089317083359,-0.040793862193823,0.041516344994307,-0.016645029187202,-0.010877157561481,-0.199484646320343,0.037282198667526,0.058833725750446,-0.062450762838125));
res += mul(Get(s3,dx,0), float4x4(-0.042501132935286,-0.032802339643240,0.005555416923016,0.030295493081212,0.131678014993668,-0.020578077062964,0.060570236295462,0.146647736430168,-0.037510842084885,-0.032993383705616,0.045717891305685,0.205137044191360,-0.117634013295174,-0.058051448315382,0.111492887139320,0.020865157246590));
res += mul(Get(s3,dx,dy), float4x4(0.278127223253250,0.028902726247907,0.100679077208042,0.073329783976078,-0.052342321723700,-0.042131870985031,0.062960095703602,0.028106817975640,0.093517251312733,0.019490383565426,0.152691647410393,0.064412876963615,-0.192636728286743,-0.068105757236481,0.097798839211464,0.188237041234970));
return max(float4(0,0,0,0), res);
}
