sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.149657413363457,-0.236465781927109,0.114044249057770,-0.113511539995670,-0.062137808650732,-0.095627397298813,-0.006735305767506,-0.004338046535850,-0.050231814384460,-0.002881056861952,-0.127330020070076,0.071572750806808,-0.063245147466660,-0.035174243152142,-0.102255560457706,-0.044451527297497));
res += mul(Get(s0,-dx,0), float4x4(0.000776148750447,-0.170628130435944,-0.144341081380844,0.004490662831813,-0.095129385590553,0.050351049751043,0.153376638889313,0.039423070847988,0.114365704357624,0.133892059326172,-0.020102364942431,0.066046811640263,-0.087776251137257,-0.125886201858521,-0.093416541814804,0.056906737387180));
res += mul(Get(s0,-dx,dy), float4x4(-0.117605075240135,-0.093928217887878,0.067328490316868,-0.237911045551300,-0.070527285337448,0.255850136280060,-0.108317106962204,0.044322341680527,0.185747027397156,-0.016119681298733,0.016244715079665,0.044062618166208,-0.091052949428558,-0.152957588434219,-0.249319046735764,0.087736383080482));
res += mul(Get(s0,0,-dy), float4x4(-0.184674292802811,0.031613908708096,-0.044284500181675,0.074044026434422,0.009505799040198,-0.104539334774017,-0.097454987466335,-0.087666608393192,-0.154423952102661,0.127841264009476,-0.046759292483330,0.045383647084236,0.058942552655935,-0.010710066184402,0.250050008296967,0.277743875980377));
res += mul(Get(s0,0,0), float4x4(0.082808628678322,0.036514990031719,0.123076006770134,-0.213509678840637,-0.088745996356010,0.010546982288361,-0.002711180830374,-0.136915266513824,0.049805629998446,0.092415817081928,0.000416953116655,-0.133316889405251,0.063549190759659,0.000792923383415,0.097304508090019,0.063825719058514));
res += mul(Get(s0,0,dy), float4x4(0.099040448665619,0.071396529674530,0.174610644578934,-0.214418336749077,0.117932349443436,-0.112081073224545,0.021642135456204,0.005766069050878,-0.136993944644928,0.044055901467800,0.043039295822382,-0.090209215879440,-0.086937695741653,-0.011556635610759,-0.065186120569706,-0.162654638290405));
res += mul(Get(s0,dx,-dy), float4x4(0.035478763282299,0.058700818568468,-0.078943565487862,-0.080350659787655,-0.111825533211231,0.102274246513844,0.027550091966987,-0.125551581382751,0.125046685338020,-0.048224929720163,0.039294127374887,0.063123874366283,0.071746692061424,0.168765023350716,0.075811326503754,0.085908912122250));
res += mul(Get(s0,dx,0), float4x4(-0.041993029415607,-0.095226846635342,0.129471823573112,-0.165116101503372,-0.145205780863762,-0.156765952706337,0.117705784738064,0.111304000020027,0.089107267558575,-0.140314608812332,0.114614956080914,-0.190099477767944,-0.107170626521111,0.156563878059387,-0.093321673572063,-0.101074837148190));
res += mul(Get(s0,dx,dy), float4x4(0.103248879313469,-0.169436514377594,0.165289357304573,-0.004680879879743,-0.096259318292141,0.003851564833894,0.036723274737597,0.187518060207367,-0.059825584292412,-0.057717453688383,-0.107355259358883,0.118092410266399,-0.105201110243797,0.042910121381283,-0.010895999148488,-0.019878955557942));
res += mul(Get(s1,-dx,-dy), float4x4(0.100888639688492,0.059300161898136,-0.146243676543236,-0.149693310260773,-0.069366253912449,-0.047925528138876,-0.051697138696909,-0.037960551679134,0.090089082717896,0.139593541622162,-0.059111878275871,0.213201984763145,-0.007532680872828,-0.011948149651289,0.086577691137791,0.071166396141052));
res += mul(Get(s1,-dx,0), float4x4(0.133635371923447,-0.163267567753792,-0.040733072906733,0.050187774002552,-0.031116714701056,-0.053428538143635,0.043787002563477,0.022153824567795,-0.107337422668934,-0.217758432030678,-0.194558620452881,0.146362423896790,-0.080736629664898,-0.022876702249050,0.031684163957834,0.035566519945860));
res += mul(Get(s1,-dx,dy), float4x4(0.028705352917314,0.040935810655355,-0.137143164873123,0.167392209172249,0.000107001054857,-0.209191784262657,0.074324049055576,0.086590558290482,-0.009190687909722,0.009202471934259,-0.024318674579263,0.002233005128801,-0.142534688115120,-0.135972365736961,0.000957277021371,0.047636993229389));
res += mul(Get(s1,0,-dy), float4x4(-0.094422407448292,-0.066491037607193,0.052026666700840,0.155529707670212,-0.097094088792801,-0.109137773513794,-0.034980796277523,0.053330644965172,0.112179972231388,0.124296151101589,0.062545768916607,-0.033995859324932,0.111572593450546,-0.120268240571022,-0.004400895908475,-0.060457568615675));
res += mul(Get(s1,0,0), float4x4(0.047802176326513,-0.087855122983456,0.029733885079622,-0.128049194812775,-0.080035813152790,0.004521783906966,-0.041673429310322,-0.104275554418564,-0.292427837848663,0.086021944880486,0.034906700253487,-0.079591386020184,0.045917764306068,0.210147470235825,-0.036121014505625,-0.082993246614933));
res += mul(Get(s1,0,dy), float4x4(-0.005459749605507,0.021602788940072,0.041256889700890,0.025185795500875,-0.168358504772186,-0.057890012860298,0.151013627648354,0.051080711185932,-0.061595875769854,0.008740642108023,0.042464904487133,0.152708068490028,-0.043316029012203,-0.194922327995300,-0.103165604174137,-0.030931962653995));
res += mul(Get(s1,dx,-dy), float4x4(0.044639702886343,-0.170161217451096,0.041524525731802,0.101387910544872,0.074768871068954,-0.015496627427638,0.028158081695437,-0.051199067384005,-0.230513706803322,0.007096917368472,0.031768638640642,-0.206704169511795,-0.127147957682610,-0.073338404297829,-0.164411261677742,0.071676552295685));
res += mul(Get(s1,dx,0), float4x4(-0.024054937064648,0.038073651492596,-0.190038219094276,-0.025279521942139,-0.041282396763563,-0.055715791881084,-0.176748961210251,0.025539532303810,0.038692697882652,0.053582742810249,0.018227789551020,-0.395090490579605,0.106457382440567,0.069410830736160,-0.044950552284718,0.095884248614311));
res += mul(Get(s1,dx,dy), float4x4(-0.015664180740714,-0.104963593184948,-0.126961395144463,-0.015437662601471,0.022765738889575,0.045965887606144,0.047211844474077,-0.022637339308858,-0.018175033852458,0.129302188754082,0.000254978745943,-0.021061219274998,-0.112624630331993,0.116886422038078,-0.010265585035086,0.244632676243782));
res += mul(Get(s2,-dx,-dy), float4x4(-0.079326815903187,0.166638031601906,-0.048994634300470,-0.075324051082134,0.152643263339996,0.028304288163781,-0.003975442610681,-0.008765510283411,-0.133370637893677,-0.142379492521286,-0.100859209895134,0.024099666625261,0.116109184920788,0.053583014756441,0.105888888239861,0.021978789940476));
res += mul(Get(s2,-dx,0), float4x4(-0.213663831353188,0.134288236498833,0.034946735948324,0.100784592330456,-0.191404685378075,0.109089151024818,0.214229092001915,0.130596011877060,-0.035747386515141,-0.089487291872501,-0.315209060907364,0.098694197833538,-0.168912321329117,0.059992838650942,0.074293315410614,0.056487701833248));
res += mul(Get(s2,-dx,dy), float4x4(-0.123302608728409,-0.013546164147556,0.101038828492165,-0.055044509470463,0.079840190708637,-0.086674533784389,0.126023173332214,-0.115002565085888,-0.155265480279922,-0.012772724032402,0.069484584033489,-0.000864643196110,-0.248752444982529,-0.009442081674933,-0.077128544449806,0.066346377134323));
res += mul(Get(s2,0,-dy), float4x4(0.007961268536747,-0.136216521263123,-0.186631113290787,0.032474912703037,0.095527343451977,-0.065607778728008,-0.145757079124451,-0.039299070835114,0.076754994690418,-0.018304364755750,-0.059552889317274,0.130996242165565,-0.087498761713505,0.074915595352650,-0.137302488088608,-0.197454676032066));
res += mul(Get(s2,0,0), float4x4(-0.121620945632458,0.024614019319415,-0.146349981427193,-0.017128264531493,0.094815522432327,-0.061316419392824,-0.135961741209030,0.047353599220514,0.047305453568697,-0.171568572521210,0.004731704015285,0.026886107400060,-0.083960823714733,0.009723724797368,-0.077253870666027,0.175883904099464));
res += mul(Get(s2,0,dy), float4x4(0.232596188783646,0.041164740920067,0.057278577238321,-0.042369753122330,0.140399307012558,-0.173548191785812,0.062839686870575,0.093087494373322,0.105662561953068,-0.140285491943359,-0.024165466427803,0.056791242212057,0.003088856581599,0.022305008023977,-0.080905921757221,-0.075688257813454));
res += mul(Get(s2,dx,-dy), float4x4(0.127954572439194,-0.130374759435654,0.114759147167206,-0.069178432226181,-0.078948505222797,-0.017585776746273,-0.227132529020309,0.122465796768665,0.103059023618698,-0.042485978454351,-0.108629025518894,-0.059836596250534,-0.254701912403107,0.128439620137215,-0.004823194351047,0.091899931430817));
res += mul(Get(s2,dx,0), float4x4(-0.055183883756399,-0.062817506492138,0.164886981248856,-0.073958657681942,-0.074079789221287,-0.075725033879280,-0.083212174475193,-0.032155465334654,-0.098233200609684,0.033446203917265,-0.072635084390640,-0.024481004104018,-0.089613959193230,0.022731233388186,-0.143055960536003,0.042390413582325));
res += mul(Get(s2,dx,dy), float4x4(0.037309475243092,-0.171274095773697,0.242857888340950,-0.099107921123505,-0.309955716133118,0.155171886086464,0.060684878379107,-0.033079467713833,0.067985445261002,0.142136052250862,0.090711407363415,0.037344213575125,0.019189160317183,-0.139322131872177,0.114447064697742,-0.161645844578743));
res += mul(Get(s3,-dx,-dy), float4x4(0.038162782788277,0.120131485164165,0.146485775709152,0.102700315415859,-0.132447302341461,0.095453642308712,-0.081389680504799,0.037629254162312,0.007973290979862,-0.077442616224289,-0.054599061608315,0.230439424514771,-0.029979480430484,-0.138657048344612,0.212479814887047,-0.166438356041908));
res += mul(Get(s3,-dx,0), float4x4(-0.082184366881847,0.030043570324779,0.031841378659010,0.109975829720497,-0.034055195748806,0.032218635082245,0.035744354128838,-0.006787155754864,0.093922026455402,-0.016588836908340,0.314720422029495,-0.083453081548214,0.031971637159586,0.019242074340582,-0.034029271453619,0.139381244778633));
res += mul(Get(s3,-dx,dy), float4x4(-0.128374621272087,0.030369877815247,0.015728659927845,0.041055530309677,0.067728020250797,0.080046691000462,-0.006245751399547,0.022717434912920,-0.075814686715603,0.102673202753067,-0.049229960888624,0.152136892080307,-0.233402013778687,0.000903550884686,-0.168278485536575,-0.066736280918121));
res += mul(Get(s3,0,-dy), float4x4(-0.068167120218277,0.189869537949562,-0.043729018419981,-0.006981395184994,-0.069688096642494,0.105002582073212,-0.005716109182686,0.027549400925636,-0.143357902765274,-0.082058295607567,-0.124256074428558,0.001181288273074,-0.184030115604401,0.057407591491938,-0.074697896838188,0.115250989794731));
res += mul(Get(s3,0,0), float4x4(-0.321665793657303,0.172384962439537,0.001406384515576,0.004034935031086,-0.037260077893734,-0.053286146372557,-0.047732971608639,0.064249046146870,0.125384137034416,-0.031034076586366,0.123253114521503,-0.119338825345039,0.154186591506004,-0.093079596757889,0.076578058302402,-0.047778304666281));
res += mul(Get(s3,0,dy), float4x4(-0.057530760765076,0.150613069534302,0.111515283584595,0.031992971897125,0.159959763288498,0.037288621068001,-0.004924005363137,-0.052288718521595,-0.092209957540035,-0.119488239288330,0.162267252802849,0.037081304937601,-0.066951572895050,-0.068320751190186,-0.086664848029613,-0.139432236552238));
res += mul(Get(s3,dx,-dy), float4x4(-0.133143052458763,0.014290357939899,0.009863874875009,-0.101648576557636,-0.134380161762238,-0.126437306404114,0.017505176365376,0.035092025995255,0.026491483673453,-0.024023132398725,0.144701510667801,-0.170263350009918,-0.038311935961246,-0.040269523859024,-0.017866699025035,0.046386018395424));
res += mul(Get(s3,dx,0), float4x4(0.134801700711250,0.105691634118557,0.107897914946079,0.046485729515553,-0.011026095598936,0.104912988841534,0.079770244657993,-0.031067244708538,-0.082257948815823,-0.017571413889527,-0.127503797411919,0.066576786339283,0.103494048118591,0.007229192648083,-0.063304349780083,-0.140892237424850));
res += mul(Get(s3,dx,dy), float4x4(0.047651913017035,0.086079888045788,-0.068278595805168,0.066790312528610,0.095012769103050,-0.017302876338363,-0.065599702298641,0.068045429885387,0.051031637936831,0.016128094866872,0.062329091131687,-0.260355085134506,0.012445083819330,0.227589115500450,0.018481215462089,-0.145943060517311));
return max(float4(0,0,0,0), res);
}
