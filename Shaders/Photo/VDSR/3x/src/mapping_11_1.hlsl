sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.067448094487190,-0.028719844296575,-0.038561943918467,0.088264644145966,0.033205807209015,-0.045058805495501,0.036560270935297,-0.011865815147758,-0.117685876786709,-0.076183088123798,-0.056873872876167,-0.088652789592743,0.005387004464865,-0.024204745888710,-0.008344170637429,-0.020143620669842));
res += mul(Get(s0,-dx,0), float4x4(-0.068709596991539,-0.026814829558134,-0.080150544643402,0.273408740758896,0.093583986163139,-0.026244284585118,0.080817826092243,0.009346434846520,-0.089091151952744,0.032769318670034,-0.013951127417386,-0.047381088137627,-0.153774663805962,0.014515284448862,0.137861639261246,-0.010876599699259));
res += mul(Get(s0,-dx,dy), float4x4(0.023312289267778,-0.115489684045315,-0.015784543007612,0.064776055514812,-0.035333029925823,0.059865325689316,0.226238936185837,-0.072147183120251,0.015380870550871,0.029968896880746,0.396656095981598,-0.027041500434279,-0.048457484692335,-0.014933098107576,0.243702530860901,-0.102531947195530));
res += mul(Get(s0,0,-dy), float4x4(-0.066616401076317,0.006251252256334,-0.002796832704917,-0.013788366690278,-0.082139320671558,-0.110486879944801,-0.080398932099342,0.144815996289253,-0.074336923658848,-0.063317045569420,-0.028246426954865,-0.027771996334195,0.093118458986282,-0.065746180713177,0.006092051509768,-0.046964064240456));
res += mul(Get(s0,0,0), float4x4(-0.029919963330030,0.101735010743141,-0.014644908718765,-0.014278776012361,-0.043145481497049,-0.123155020177364,-0.062357392162085,-0.100306935608387,-0.078654661774635,0.016464618965983,0.021507166326046,-0.019452678039670,-0.024046413600445,0.082047358155251,-0.049205172806978,-0.106835730373859));
res += mul(Get(s0,0,dy), float4x4(-0.033346675336361,0.015314553864300,-0.078150048851967,0.100189454853535,-0.033374879509211,0.032134309411049,0.018929541110992,-0.095952764153481,-0.044062212109566,0.050876747816801,0.154701754450798,0.116682350635529,0.156639739871025,0.052848830819130,0.142761155962944,-0.121334239840508));
res += mul(Get(s0,dx,-dy), float4x4(-0.042732957750559,-0.199207812547684,0.012894175946712,-0.041506573557854,0.013058300130069,0.096787989139557,-0.039280708879232,-0.080303214490414,0.085441619157791,0.051377080380917,0.082872584462166,0.043773770332336,0.112457439303398,0.036405924707651,-0.013494984246790,-0.043739106506109));
res += mul(Get(s0,dx,0), float4x4(0.054021660238504,-0.120304442942142,-0.011041793040931,-0.034212440252304,0.040026269853115,0.115803070366383,0.042344797402620,0.096933558583260,0.073672123253345,0.043404422700405,0.059141539037228,0.101628109812737,-0.072689503431320,-0.015793019905686,0.044339969754219,0.089539162814617));
res += mul(Get(s0,dx,dy), float4x4(0.004776234272867,-0.024335782974958,-0.017777349799871,0.077101565897465,0.080181851983070,0.019176147878170,0.208672478795052,0.044518932700157,0.065789267420769,0.100914865732193,-0.002138698240742,-0.008660184219480,-0.064643658697605,0.156821310520172,-0.037182588130236,0.039352759718895));
res += mul(Get(s1,-dx,-dy), float4x4(0.208633318543434,-0.125612884759903,0.042062599211931,-0.081550039350986,-0.036873955279589,0.141915544867516,-0.029495617374778,0.069020681083202,0.055211257189512,0.004439048934728,-0.058558359742165,-0.040438905358315,-0.062831848859787,0.051618773490191,-0.087799996137619,0.064583010971546));
res += mul(Get(s1,-dx,0), float4x4(-0.033055219799280,-0.057959623634815,-0.129338070750237,-0.061607789248228,-0.071975655853748,0.128594756126404,-0.096645571291447,0.049280799925327,0.058929275721312,-0.072183892130852,0.010555163957179,-0.011436709202826,-0.014614993706346,0.100553251802921,-0.077392488718033,0.033490266650915));
res += mul(Get(s1,-dx,dy), float4x4(-0.007999670691788,-0.009694144129753,-0.021790530532598,-0.049650806933641,0.020416088402271,0.181430369615555,-0.148371726274490,0.150744184851646,0.073073878884315,-0.239322796463966,0.112676635384560,0.015776168555021,0.007949085906148,0.076871879398823,-0.148371145129204,-0.025132758542895));
res += mul(Get(s1,0,-dy), float4x4(0.053793016821146,-0.091310732066631,0.036626771092415,0.062613837420940,-0.003348656930029,-0.024611109867692,-0.093146838247776,0.034703608602285,-0.026160024106503,0.038232959806919,-0.035313833504915,-0.088047526776791,-0.044251475483179,-0.013044110499322,0.064010299742222,-0.015455879271030));
res += mul(Get(s1,0,0), float4x4(-0.054735817015171,0.000189179248991,0.213917046785355,-0.114930823445320,-0.084051378071308,-0.024119969457388,-0.077340371906757,-0.137058675289154,-0.000843475398142,0.157035604119301,0.054339598864317,-0.092258870601654,0.083742529153824,0.054525163024664,-0.064494192600250,0.040003437548876));
res += mul(Get(s1,0,dy), float4x4(-0.020006846636534,0.098665885627270,0.192327499389648,-0.061664778739214,0.035969905555248,-0.079702712595463,-0.103587478399277,-0.056362636387348,-0.064550526440144,-0.074838034808636,0.007549570873380,0.195578604936600,-0.078662790358067,-0.029599219560623,0.061364501714706,-0.030749667435884));
res += mul(Get(s1,dx,-dy), float4x4(0.036791745573282,-0.049100238829851,0.020823201164603,0.114861935377121,0.142452210187912,-0.084296703338623,-0.003427236340940,-0.057782847434282,-0.087558329105377,0.045951802283525,0.036742415279150,-0.066746003925800,0.034777797758579,-0.071832150220871,-0.009177343919873,-0.073963128030300));
res += mul(Get(s1,dx,0), float4x4(-0.015138121321797,0.054366175085306,-0.012563661672175,-0.008152807131410,-0.067743189632893,-0.030498603358865,-0.022499574348330,-0.091545589268208,0.003470719093457,-0.027829481288791,-0.032719392329454,-0.164118185639381,0.447629749774933,-0.102178499102592,-0.012895749881864,-0.076899170875549));
res += mul(Get(s1,dx,dy), float4x4(0.026567051187158,0.052431188523769,0.033446062356234,0.040482554584742,0.058228522539139,0.007218570448458,-0.024143956601620,-0.128314420580864,0.070884868502617,-0.035058271139860,0.015980361029506,0.048265837132931,0.205033421516418,0.000112007626740,0.049845054745674,-0.114403605461121));
res += mul(Get(s2,-dx,-dy), float4x4(-0.170898854732513,-0.022371219471097,0.085199192166328,0.041567698121071,0.063308253884315,-0.032812636345625,-0.060332290828228,-0.086481153964996,-0.116240836679935,-0.005983860697597,-0.014636740088463,-0.150544211268425,-0.020180065184832,0.078517265617847,-0.050548397004604,0.095962844789028));
res += mul(Get(s2,-dx,0), float4x4(0.186783477663994,-0.099664121866226,0.034368675202131,0.031471170485020,0.082481272518635,-0.089418292045593,-0.058707419782877,-0.128368839621544,0.042982604354620,-0.003771814750507,0.001827645930462,-0.022019850090146,-0.018525997176766,-0.015523273497820,-0.001448737224564,0.011413716711104));
res += mul(Get(s2,-dx,dy), float4x4(-0.067868284881115,-0.014766530133784,-0.134829506278038,-0.114740982651711,0.008515947498381,-0.112977489829063,-0.090732648968697,-0.104701489210129,-0.001971816876903,0.045174147933722,-0.047898076474667,-0.059877526015043,-0.034104961901903,0.002304124413058,0.000248461408773,0.079703025519848));
res += mul(Get(s2,0,-dy), float4x4(-0.063414148986340,-0.018384365364909,-0.037025656551123,0.011834521777928,-0.002348508685827,0.030017558485270,-0.026683731004596,-0.090827800333500,-0.090672299265862,0.050583254545927,-0.047774370759726,-0.041921336203814,-0.081517085433006,-0.040989641100168,-0.041538458317518,0.068167276680470));
res += mul(Get(s2,0,0), float4x4(0.143561154603958,-0.035993080586195,0.023899143561721,-0.015863049775362,0.059123840183020,-0.121658593416214,-0.059450183063745,-0.016943741589785,0.009780539199710,0.094087868928909,0.031812813133001,-0.001885631354526,-0.113532558083534,0.081838272511959,-0.039197891950607,0.144438385963440));
res += mul(Get(s2,0,dy), float4x4(0.085693843662739,0.137857228517532,0.102893464267254,0.023592136800289,-0.010105369612575,-0.050121907144785,-0.024988804012537,0.066454187035561,-0.026136083528399,0.192110374569893,0.014808271080256,-0.046042963862419,-0.014954132959247,0.181722491979599,-0.057289954274893,0.115088775753975));
res += mul(Get(s2,dx,-dy), float4x4(-0.051003959029913,0.042592287063599,-0.033789586275816,-0.037603769451380,-0.124563738703728,-0.034248299896717,-0.026731079444289,-0.054575201123953,-0.093198947608471,0.003431873163208,-0.020262205973268,0.001070813741535,0.001367538119666,-0.069064609706402,0.006008190568537,-0.011828471906483));
res += mul(Get(s2,dx,0), float4x4(-0.001736194826663,0.055739589035511,0.036962285637856,0.096275076270103,-0.032323103398085,0.054783646017313,-0.087654270231724,0.126639589667320,0.042787499725819,0.089251250028610,0.077169463038445,-0.049367006868124,-0.117816463112831,0.009492882527411,-0.016405100002885,0.056012846529484));
res += mul(Get(s2,dx,dy), float4x4(-0.011993404477835,0.131083860993385,0.016039770096540,-0.054963938891888,-0.028107555583119,0.045147392898798,-0.024166742339730,0.147943079471588,0.095566622912884,0.139091536402702,0.114977985620499,-0.098968602716923,0.036030948162079,0.032537356019020,-0.119833208620548,0.031952347606421));
res += mul(Get(s3,-dx,-dy), float4x4(-0.033066228032112,0.098908312618732,0.021889043971896,-0.071855962276459,-0.126210078597069,-0.072547376155853,0.015004533343017,0.069414861500263,-0.112006112933159,0.184113174676895,-0.089364118874073,-0.120013110339642,-0.055217411369085,-0.008871397003531,0.036055706441402,-0.049851413816214));
res += mul(Get(s3,-dx,0), float4x4(-0.073854796588421,-0.040934823453426,-0.047800093889236,0.085532933473587,0.013063950464129,-0.042700204998255,0.019407404586673,-0.064293272793293,-0.004394559189677,0.028050150722265,-0.008054645732045,-0.030992580577731,0.037233389914036,-0.128566533327103,-0.086840078234673,0.024572912603617));
res += mul(Get(s3,-dx,dy), float4x4(-0.005818669218570,-0.077045783400536,0.013789057731628,0.012413786724210,-0.041139822453260,-0.106841191649437,0.089321047067642,0.028400372713804,-0.064521253108978,-0.102388061583042,-0.059764787554741,-0.056525159627199,0.034064721316099,-0.059268709272146,-0.063219733536243,0.044394150376320));
res += mul(Get(s3,0,-dy), float4x4(-0.019945794716477,0.004741883371025,-0.005225985310972,-0.057793192565441,0.025885432958603,-0.015357478521764,-0.017909308895469,0.018109703436494,-0.134564235806465,-0.050650130957365,-0.031346015632153,-0.083677187561989,-0.036665380001068,-0.016988232731819,-0.047229897230864,-0.069834023714066));
res += mul(Get(s3,0,0), float4x4(0.086371012032032,0.073813594877720,-0.034412853419781,-0.052686244249344,0.017637921497226,-0.036114167422056,0.007366917096078,-0.008781110867858,0.063227742910385,0.017407206818461,-0.004801787901670,0.053500916808844,-0.002572514582425,-0.067402377724648,-0.041975423693657,0.291045367717743));
res += mul(Get(s3,0,dy), float4x4(0.191987484693527,0.011515053920448,-0.030419621616602,-0.003300413722172,-0.020287288352847,0.083230532705784,-0.119009442627430,0.007875015027821,-0.025621665641665,-0.013609376735985,-0.027130376547575,0.036008019000292,0.196142524480820,0.050651047378778,-0.015525094233453,-0.072336442768574));
res += mul(Get(s3,dx,-dy), float4x4(-0.129338189959526,-0.048449479043484,0.080605641007423,-0.081695295870304,-0.033336579799652,0.036902707070112,-0.021677242591977,0.097328230738640,-0.145674675703049,0.077282167971134,-0.087160795927048,-0.051727063953876,-0.075259968638420,-0.006203089375049,-0.026029337197542,-0.100464008748531));
res += mul(Get(s3,dx,0), float4x4(-0.025757631286979,-0.096877872943878,0.061750307679176,-0.061400488018990,-0.133943468332291,-0.026395399123430,0.051863808184862,0.077103190124035,0.003258227603510,-0.051440849900246,-0.044624060392380,-0.083888597786427,0.073603078722954,0.093736648559570,-0.029568074271083,-0.009829211980104));
res += mul(Get(s3,dx,dy), float4x4(-0.050793904811144,0.072474092245102,0.037717606872320,-0.090100988745689,0.058265376836061,0.027055470272899,0.021569343283772,0.036128249019384,-0.029245628044009,-0.025811187922955,0.009719734080136,0.013901124708354,0.081673957407475,0.042621064931154,-0.060023672878742,-0.040060337632895));
return max(float4(0,0,0,0), res);
}
