sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006498279049993,-0.069932222366333,-0.043245323002338,0.032438252121210,-0.036703128367662,-0.041478663682938,0.101500943303108,0.052867256104946,0.072731778025627,0.162624061107635,-0.002349257236347,0.004568520467728,0.011763295158744,0.010202468372881,0.051927052438259,-0.309316903352737));
res += mul(Get(s0,-dx,0), float4x4(0.020347099751234,-0.003742834785953,0.015881944447756,-0.239443853497505,0.371300399303436,-0.033095102757215,-0.137982234358788,-0.244346618652344,0.025123165920377,0.062518231570721,0.046239737421274,0.021261012181640,-0.088521294295788,0.083498381078243,-0.050509586930275,-0.040861759334803));
res += mul(Get(s0,-dx,dy), float4x4(0.005345584359020,-0.058255568146706,-0.127312138676643,-0.059322148561478,-0.003677978646010,-0.155352354049683,0.088239178061485,0.086865544319153,-0.112018167972565,0.102860577404499,0.111336410045624,-0.341914355754852,-0.049289453774691,0.004894818644971,0.084592111408710,-0.145685851573944));
res += mul(Get(s0,0,-dy), float4x4(-0.216932356357574,-0.001501657534391,-0.004324255976826,-0.174643591046333,-0.006276861764491,0.051895771175623,-0.006669721100479,-0.150566592812538,0.129391372203827,0.016809729859233,0.227668628096581,-0.260469526052475,-0.217751577496529,0.129123851656914,0.082142733037472,-0.065974809229374));
res += mul(Get(s0,0,0), float4x4(0.094496458768845,-0.173824518918991,0.076583206653595,-0.065684594213963,-0.035106588155031,-0.031463682651520,0.027397813275456,-0.012159345671535,0.141947790980339,0.173407793045044,-0.000750417937525,0.016337797045708,-0.008009389974177,0.161718457937241,0.096568778157234,0.148287042975426));
res += mul(Get(s0,0,dy), float4x4(0.019867703318596,0.119766823947430,-0.026220375671983,0.191490679979324,0.168852642178535,0.001510357251391,-0.067402817308903,0.064262084662914,-0.142523914575577,0.066967420279980,-0.116745442152023,-0.165683969855309,-0.204269468784332,-0.042997919023037,0.034402195364237,0.192671805620193));
res += mul(Get(s0,dx,-dy), float4x4(-0.076811008155346,-0.052473593503237,-0.135316416621208,-0.121205843985081,-0.056313633918762,-0.001097018364817,-0.052183959633112,0.048039585351944,0.091544754803181,0.002476817229763,0.133952751755714,-0.104849293828011,-0.045374359935522,-0.332133024930954,-0.078772954642773,-0.034280519932508));
res += mul(Get(s0,dx,0), float4x4(-0.050802998244762,0.021423310041428,-0.179891034960747,0.241229698061943,-0.051413409411907,-0.075886778533459,-0.122091755270958,-0.017868492752314,0.028199804946780,-0.075901411473751,-0.079484567046165,0.114775709807873,0.062926024198532,-0.030122876167297,0.039812512695789,0.220478117465973));
res += mul(Get(s0,dx,dy), float4x4(0.020003451034427,0.144142717123032,0.005759182851762,0.132510140538216,0.134105026721954,-0.137580126523972,0.083761535584927,0.182483389973640,-0.006779154296964,-0.410104691982269,0.191360175609589,-0.223233312368393,-0.098447568714619,-0.030416894704103,0.072193212807178,-0.033160042017698));
res += mul(Get(s1,-dx,-dy), float4x4(0.078690834343433,0.025157513096929,0.057581242173910,-0.111540958285332,-0.058932185173035,-0.155260816216469,0.128622174263000,0.016703944653273,0.004182834643871,-0.029964214190841,-0.040155127644539,-0.027572037652135,-0.201305434107780,0.012805789709091,0.044865585863590,0.136694148182869));
res += mul(Get(s1,-dx,0), float4x4(0.025782911106944,-0.011957976967096,0.105152264237404,-0.095375657081604,0.083530493080616,-0.066998921334743,-0.053441658616066,-0.016394337639213,0.130690470337868,0.013325192034245,0.099046289920807,0.094759099185467,0.001639150548726,0.101544693112373,-0.028230300173163,0.114131867885590));
res += mul(Get(s1,-dx,dy), float4x4(0.017290815711021,-0.170985102653503,-0.064473204314709,-0.029307976365089,-0.061469573527575,-0.154324486851692,0.134537205100060,-0.040883548557758,0.021298084408045,-0.154345631599426,0.194392681121826,-0.047596439719200,0.070738427340984,-0.088043250143528,0.074049435555935,0.125229135155678));
res += mul(Get(s1,0,-dy), float4x4(-0.144851073622704,0.040811043232679,-0.045593995600939,-0.096845239400864,-0.033807981759310,-0.017388524487615,-0.005806933157146,0.052837397903204,0.099820591509342,0.069773904979229,-0.012704277411103,-0.032929349690676,-0.199061557650566,0.023071816191077,0.070706486701965,0.008696187287569));
res += mul(Get(s1,0,0), float4x4(-0.093759097158909,0.029704367741942,0.297439843416214,-0.211742281913757,-0.104803018271923,0.116950526833534,-0.073073714971542,0.013142661191523,0.022056072950363,-0.022189958021045,-0.040468819439411,0.062574721872807,-0.003773214761168,-0.011867912486196,0.072400160133839,0.085210382938385));
res += mul(Get(s1,0,dy), float4x4(0.098649114370346,-0.045846074819565,0.052915628999472,-0.036293525248766,0.089671835303307,0.226803272962570,-0.021840924397111,-0.030775498598814,-0.100803174078465,0.135176032781601,-0.155517786741257,0.174330845475197,0.253407388925552,0.005128673743457,0.006935757119209,0.113603129982948));
res += mul(Get(s1,dx,-dy), float4x4(0.080724559724331,0.001816531992517,0.004323314875364,-0.166059285402298,-0.126129582524300,0.037831846624613,0.065970115363598,0.056063909083605,-0.064053744077682,0.031858533620834,-0.026496989652514,0.046996623277664,-0.043651081621647,0.120446532964706,-0.167803123593330,0.014793704263866));
res += mul(Get(s1,dx,0), float4x4(-0.118491366505623,0.004843200091273,0.049872796982527,-0.088140740990639,0.058094661682844,0.124165758490562,0.085500366985798,0.078593753278255,-0.015518935397267,-0.098487332463264,-0.195730656385422,0.031105911359191,0.004786749836057,-0.030867906287313,0.008930419571698,0.097358688712120));
res += mul(Get(s1,dx,dy), float4x4(-0.093381099402905,-0.131630420684814,-0.117629267275333,0.103642150759697,0.053093489259481,0.151357740163803,0.124836973845959,0.073847144842148,-0.024973465129733,-0.083697073161602,-0.053892515599728,0.075091242790222,0.079320035874844,0.005146651063114,0.053157299757004,-0.117063105106354));
res += mul(Get(s2,-dx,-dy), float4x4(-0.148214310407639,-0.012596107088029,-0.077266633510590,-0.061845906078815,0.186350375413895,-0.032879542559385,0.008743245154619,0.017866505309939,-0.102259829640388,-0.037749502807856,0.035105284303427,0.095272414386272,-0.151083081960678,0.029809892177582,-0.097668878734112,-0.083431012928486));
res += mul(Get(s2,-dx,0), float4x4(-0.059941593557596,0.168455749750137,0.016730934381485,0.163963109254837,-0.119418837130070,0.089414268732071,0.013591210357845,-0.022335035726428,0.014970999211073,0.028143502771854,-0.020096665248275,-0.103794090449810,-0.045181106775999,-0.012224810197949,-0.089071974158287,0.140565723180771));
res += mul(Get(s2,-dx,dy), float4x4(0.225339099764824,-0.007942893542349,0.016489863395691,0.150239676237106,0.028808370232582,-0.031567744910717,0.015640499070287,0.003995218314230,0.295581817626953,-0.054957419633865,-0.233926489949226,-0.076636552810669,-0.026719078421593,-0.025667825713754,-0.042891338467598,-0.149748012423515));
res += mul(Get(s2,0,-dy), float4x4(-0.132545232772827,-0.023856287822127,0.111579477787018,0.080849282443523,0.104973167181015,-0.047216467559338,0.192421004176140,-0.032390113919973,0.045535903424025,-0.067779749631882,0.018092254176736,-0.013294031843543,-0.158402174711227,-0.137988314032555,-0.122740767896175,-0.189065933227539));
res += mul(Get(s2,0,0), float4x4(-0.119135946035385,-0.011263707652688,0.034954044967890,-0.043406721204519,-0.178645879030228,-0.115745179355145,0.195807844400406,-0.044155571609735,0.019032590091228,0.022205805405974,-0.039123810827732,-0.104016564786434,-0.224663272500038,0.070361308753490,0.106832288205624,0.047507483512163));
res += mul(Get(s2,0,dy), float4x4(0.010831869207323,-0.121797218918800,-0.016920689493418,0.123341761529446,-0.053639274090528,0.004238061606884,-0.004661166574806,0.125739678740501,-0.134595811367035,0.056304074823856,0.219860866665840,0.025726888328791,0.165485247969627,0.058831442147493,0.036693632602692,-0.156649172306061));
res += mul(Get(s2,dx,-dy), float4x4(0.122974738478661,0.173267602920532,0.045568425208330,0.038171049207449,-0.083419516682625,0.197067096829414,0.079552851617336,-0.054839745163918,0.039009496569633,-0.218125671148300,0.028260609135032,0.003192949108779,0.115948565304279,-0.129941701889038,-0.063995309174061,0.056181579828262));
res += mul(Get(s2,dx,0), float4x4(0.145560130476952,0.044159580022097,-0.046569928526878,-0.007035340182483,-0.046563744544983,-0.119026459753513,-0.059849068522453,-0.035603635013103,-0.123272627592087,-0.042653728276491,-0.101253263652325,0.057850651443005,-0.227024689316750,-0.001728222472593,-0.081685863435268,-0.027953214943409));
res += mul(Get(s2,dx,dy), float4x4(0.041144140064716,0.058199711143970,-0.025746069848537,0.065386898815632,-0.026768969371915,-0.115052469074726,0.141448140144348,-0.045785140246153,-0.054820366203785,-0.241733133792877,0.040820769965649,0.117651574313641,0.076918527483940,-0.034986265003681,-0.173147365450859,0.096949748694897));
res += mul(Get(s3,-dx,-dy), float4x4(-0.085181616246700,0.015931822359562,0.065431170165539,0.083274446427822,0.048064015805721,0.043918684124947,-0.009779453277588,0.050845477730036,0.194990411400795,0.080144681036472,-0.010857103392482,0.017397331073880,-0.057025048881769,0.104664623737335,0.072422936558723,-0.078307308256626));
res += mul(Get(s3,-dx,0), float4x4(0.151162490248680,-0.025600776076317,-0.003879571799189,-0.021806713193655,0.021629123017192,-0.105757348239422,-0.071211367845535,0.067420437932014,0.055977568030357,0.053548343479633,0.082924798130989,-0.084213808178902,-0.003338398179039,0.039320293813944,0.011543593369424,0.019893757998943));
res += mul(Get(s3,-dx,dy), float4x4(0.049969483166933,0.216736495494843,-0.103289507329464,-0.144319504499435,-0.255325496196747,0.012871070764959,-0.062411189079285,0.031167244538665,0.172495886683464,0.053746793419123,0.140109449625015,0.150546312332153,-0.269605726003647,-0.032529205083847,0.183307707309723,0.048261228948832));
res += mul(Get(s3,0,-dy), float4x4(-0.045399114489555,-0.050865191966295,-0.099309809505939,-0.124214731156826,0.107677072286606,0.003995071630925,-0.048013929277658,0.049464173614979,-0.182822704315186,-0.237960323691368,0.104729942977428,0.016565475612879,0.001667901291512,-0.019407304003835,0.039939936250448,0.176454171538353));
res += mul(Get(s3,0,0), float4x4(-0.050527859479189,-0.034088265150785,0.078338503837585,-0.050928022712469,-0.011568906717002,-0.018437333405018,-0.028953086584806,0.013108485378325,-0.050306126475334,-0.049946535378695,0.065720893442631,-0.007923386991024,0.024247372522950,0.119843363761902,0.020124319940805,0.109484188258648));
res += mul(Get(s3,0,dy), float4x4(0.265384107828140,0.036287389695644,-0.014069397933781,0.156653970479965,-0.069569915533066,-0.012541573494673,0.078674972057343,-0.169317111372948,0.060305222868919,0.090190686285496,0.059908941388130,-0.003767615417019,-0.094798855483532,0.111817061901093,0.067183561623096,-0.029394967481494));
res += mul(Get(s3,dx,-dy), float4x4(0.225027039647102,-0.164316833019257,0.091870307922363,0.080821424722672,0.113203056156635,0.069070920348167,-0.019395234063268,-0.080689705908298,-0.081256873905659,-0.139032378792763,0.052753295749426,0.056442685425282,-0.026048930361867,-0.050360042601824,0.142343327403069,0.058941859751940));
res += mul(Get(s3,dx,0), float4x4(-0.015859173610806,0.017260400578380,0.047212801873684,-0.189012929797173,-0.084787309169769,-0.199352771043777,0.025836205109954,-0.036855924874544,-0.013932443223894,0.025958068668842,0.075616657733917,-0.143336534500122,0.049202740192413,0.062005482614040,0.119940325617790,0.023725127801299));
res += mul(Get(s3,dx,dy), float4x4(-0.074667602777481,0.092784710228443,-0.093766726553440,-0.030333178117871,-0.209096506237984,-0.132850855588913,-0.170089438557625,0.034674063324928,0.086132250726223,-0.041460968554020,0.201600387692451,0.067612446844578,0.007580664008856,-0.034734111279249,0.057805955410004,0.157576873898506));
return max(float4(0,0,0,0), res);
}
