sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.011789490468800,0.084206357598305,-0.149202585220337,0.042098760604858,-0.053235504776239,-0.063609607517719,0.134970530867577,-0.119263939559460,-0.113275185227394,-0.007059946656227,0.087475873529911,-0.132760614156723,-0.056341312825680,-0.016484344378114,-0.009117136709392,0.104334756731987));
res += mul(Get(s0,-dx,0), float4x4(-0.058994557708502,0.046231940388680,0.088806062936783,0.094910785555840,0.011955250054598,0.017190741375089,-0.120684012770653,0.099550858139992,-0.010437553748488,0.016845922917128,-0.048864644020796,-0.054701697081327,0.030497966334224,-0.083712100982666,-0.041366353631020,0.005415065679699));
res += mul(Get(s0,-dx,dy), float4x4(0.043036390095949,0.136933311820030,0.167132765054703,0.068619213998318,-0.061963468790054,0.086168371140957,0.040786989033222,0.130634367465973,0.068506143987179,-0.004597352817655,-0.116435334086418,0.001316064386629,-0.002935867290944,-0.044090915471315,-0.009821947664022,-0.023193942382932));
res += mul(Get(s0,0,-dy), float4x4(0.050747249275446,0.009442614391446,0.026825938373804,0.064646065235138,-0.081363365054131,0.102161221206188,0.099688999354839,-0.050715263932943,-0.065598167479038,0.265432506799698,-0.041506808251143,-0.027575753629208,0.158233195543289,-0.004938166588545,0.008478156290948,-0.000231288271607));
res += mul(Get(s0,0,0), float4x4(0.041649792343378,-0.001112651894800,0.059489611536264,0.001466361689381,-0.024492081254721,0.024706352502108,-0.114922322332859,-0.032157819718122,-0.073996350169182,-0.088907040655613,-0.004462314303964,0.037477463483810,0.004863495472819,-0.045576382428408,-0.083405241370201,0.035862527787685));
res += mul(Get(s0,0,dy), float4x4(0.056062407791615,-0.032088682055473,0.056805916130543,-0.080258205533028,-0.057705666869879,0.047597452998161,-0.024845208972692,0.016147311776876,0.070932134985924,-0.037064995616674,-0.058982960879803,0.010376715101302,-0.038594860583544,-0.020992983132601,0.114215455949306,-0.054389256983995));
res += mul(Get(s0,dx,-dy), float4x4(-0.126267626881599,-0.152286812663078,-0.190995335578918,-0.008171540684998,-0.030912654474378,0.233266264200211,0.076931230723858,0.016096584498882,-0.052070487290621,0.035158641636372,-0.065174095332623,0.073370724916458,-0.016077365726233,-0.044170014560223,0.169522538781166,0.012529807165265));
res += mul(Get(s0,dx,0), float4x4(-0.101282067596912,-0.023372357711196,-0.115074194967747,-0.129692032933235,0.001469336217269,0.035755179822445,-0.027953382581472,-0.045168329030275,-0.118338391184807,-0.104572735726833,-0.097725577652454,-0.056619107723236,0.085560724139214,0.003703193971887,0.133901968598366,0.108702771365643));
res += mul(Get(s0,dx,dy), float4x4(-0.081670589745045,0.030142426490784,-0.012432727962732,-0.120284423232079,-0.052512854337692,0.010130422189832,0.076796516776085,0.097702272236347,-0.006887413561344,-0.100095346570015,-0.060608558356762,-0.039892226457596,0.172820031642914,0.100576154887676,0.109546475112438,0.150464430451393));
res += mul(Get(s1,-dx,-dy), float4x4(0.086321868002415,0.094143070280552,-0.057817455381155,0.206539109349251,0.094078190624714,-0.004933509975672,0.085003361105919,0.052076328545809,-0.074419721961021,-0.019138710573316,0.101839058101177,0.033787094056606,0.011225287802517,-0.046289715915918,0.076936013996601,0.068292096257210));
res += mul(Get(s1,-dx,0), float4x4(-0.132414326071739,-0.009409534744918,-0.046244159340858,0.060245420783758,0.028978906571865,0.090852133929729,-0.015208252705634,0.014776028692722,0.101370051503181,0.021425910294056,0.104615844786167,0.088560029864311,0.004047490656376,-0.030767891556025,0.011137571185827,-0.014420968480408));
res += mul(Get(s1,-dx,dy), float4x4(0.019218141213059,0.040082156658173,-0.128483116626740,0.049601107835770,0.107575006783009,0.023313337936997,-0.022972865030169,-0.038709986954927,-0.048653885722160,0.173282742500305,0.030072346329689,0.101588577032089,-0.087602540850639,0.030802434310317,-0.017872298136353,-0.040504168719053));
res += mul(Get(s1,0,-dy), float4x4(0.045780804008245,0.028873039409518,-0.118613146245480,0.069582872092724,0.070759214460850,-0.018440511077642,0.287375122308731,-0.013081382960081,-0.014479666948318,-0.049940064549446,-0.062117487192154,0.011084709316492,0.113499194383621,-0.128358557820320,-0.128257498145103,0.025156663730741));
res += mul(Get(s1,0,0), float4x4(0.012917768210173,0.087632194161415,-0.061601556837559,-0.029104683548212,0.038030549883842,-0.076940067112446,0.001640465110540,-0.050505287945271,0.039899807423353,0.015630472451448,-0.046105735003948,-0.003809508634731,-0.108903534710407,-0.063714139163494,-0.043935734778643,-0.119010761380196));
res += mul(Get(s1,0,dy), float4x4(0.038985941559076,0.042648963630199,-0.070507511496544,0.074324309825897,0.100692845880985,-0.054703034460545,0.037850197404623,0.082847796380520,-0.051745101809502,-0.008989471942186,-0.068558298051357,-0.026944726705551,-0.067856468260288,0.174098864197731,0.144901931285858,-0.034919142723083));
res += mul(Get(s1,dx,-dy), float4x4(0.068158447742462,-0.038397498428822,-0.091406516730785,0.085838355123997,0.065133050084114,-0.037769347429276,0.075482122600079,-0.049110800027847,-0.046913143247366,0.024534469470382,0.098701819777489,0.008210033178329,0.069230422377586,-0.075387686491013,-0.051648881286383,0.008326078765094));
res += mul(Get(s1,dx,0), float4x4(0.143238425254822,-0.036727942526340,-0.030893648043275,0.169174641370773,0.033235691487789,-0.045492552220821,-0.037516091018915,-0.053365886211395,-0.033718507736921,-0.105864390730858,-0.022459885105491,-0.076136469841003,-0.148364380002022,-0.118518926203251,0.069503471255302,-0.031690672039986));
res += mul(Get(s1,dx,dy), float4x4(0.146854639053345,-0.050379272550344,0.068580746650696,0.137481808662415,0.029634322971106,-0.052302673459053,-0.022507632151246,-0.015569881536067,-0.097942769527435,0.005890680942684,-0.000006523596312,-0.057545442134142,-0.153252735733986,0.243503719568253,-0.053327992558479,-0.093746446073055));
res += mul(Get(s2,-dx,-dy), float4x4(0.044119231402874,0.050365373492241,-0.106627799570560,0.104660145938396,0.031318809837103,-0.040926773101091,0.091023281216621,0.019927587360144,0.034447040408850,0.056362420320511,-0.039760772138834,-0.025367168709636,0.092238478362560,0.177035897970200,-0.034193139523268,0.009322320111096));
res += mul(Get(s2,-dx,0), float4x4(0.040360923856497,0.044323783367872,0.011802933178842,-0.007918139919639,-0.066973477602005,0.062252260744572,0.055095214396715,0.140891835093498,0.179574102163315,-0.049156960099936,-0.034681320190430,-0.035387292504311,0.130156368017197,0.072430796921253,-0.018836783245206,0.110892027616501));
res += mul(Get(s2,-dx,dy), float4x4(0.018880300223827,0.049500618129969,0.074569955468178,0.156080454587936,0.019165905192494,0.099477969110012,0.055430509150028,0.155829533934593,0.156567528843880,0.129825592041016,-0.043860305100679,-0.087418615818024,-0.036121867597103,0.015119805932045,-0.095459789037704,0.151290178298950));
res += mul(Get(s2,0,-dy), float4x4(0.087092496454716,0.041425243020058,-0.051526833325624,-0.015289426781237,0.058419998735189,0.044222477823496,0.050649352371693,-0.044354651123285,0.100010864436626,-0.003053161082789,-0.028305182233453,0.051425505429506,-0.052806057035923,-0.077238045632839,0.180407017469406,0.007451253943145));
res += mul(Get(s2,0,0), float4x4(-0.074070565402508,-0.047401584684849,-0.052727967500687,-0.145215734839439,-0.036699652671814,0.091689638793468,0.015925616025925,0.109821014106274,0.105553939938545,0.023050637915730,-0.025058675557375,-0.003581400262192,-0.027647780254483,-0.074141383171082,0.087964668869972,0.108701653778553));
res += mul(Get(s2,0,dy), float4x4(-0.042065717279911,-0.065939061343670,0.232596352696419,-0.063279263675213,-0.035390444099903,0.081594116985798,-0.077409438788891,0.059968490153551,0.092523381114006,0.065336868166924,0.013947391882539,-0.072678595781326,-0.173045933246613,-0.034616313874722,0.095758751034737,-0.030297720804811));
res += mul(Get(s2,dx,-dy), float4x4(-0.054881643503904,-0.102719046175480,-0.050363060086966,0.163682699203491,0.012490984052420,-0.051909364759922,-0.060089651495218,-0.051783394068480,-0.003261097706854,0.006533432286233,-0.060908637940884,-0.066494002938271,0.036613568663597,-0.063171759247780,0.038201007992029,-0.053660247474909));
res += mul(Get(s2,dx,0), float4x4(-0.034366045147181,-0.050109826028347,-0.031828884035349,-0.003509944537655,-0.109414607286453,-0.004886797163635,-0.073135755956173,-0.056692600250244,0.076785832643509,-0.107103385031223,-0.027633581310511,0.103042319417000,0.080533780157566,-0.052129529416561,0.033606722950935,-0.086883969604969));
res += mul(Get(s2,dx,dy), float4x4(-0.011518420651555,0.057597208768129,0.243047341704369,0.034838177263737,-0.079550296068192,0.060654133558273,-0.024960676208138,-0.112357340753078,0.044212367385626,0.128751069307327,0.038608036935329,-0.040564458817244,-0.033167771995068,0.043709158897400,0.033421229571104,-0.063909165561199));
res += mul(Get(s3,-dx,-dy), float4x4(-0.143247008323669,-0.040066350251436,0.119383133947849,-0.112219087779522,-0.015469707548618,-0.018406098708510,0.045242641121149,-0.065505616366863,-0.083924189209938,-0.026343861594796,-0.006054478231817,-0.033978220075369,0.053175088018179,-0.057435620576143,0.119131192564964,-0.086868673563004));
res += mul(Get(s3,-dx,0), float4x4(-0.028913769870996,0.005847424734384,-0.039432086050510,-0.069461010396481,0.071810856461525,0.018662692978978,-0.013773396611214,-0.052826672792435,-0.087016761302948,0.107483930885792,-0.043637376278639,0.204629242420197,0.114827655255795,-0.008020879700780,0.053824789822102,0.002412825357169));
res += mul(Get(s3,-dx,dy), float4x4(-0.038703706115484,-0.042963299900293,-0.167530506849289,0.118444591760635,-0.000647638225928,0.018917320296168,-0.103982806205750,-0.109969884157181,-0.118363201618195,-0.092772148549557,-0.067891746759415,0.024883881211281,-0.034863024950027,0.056359831243753,-0.002950969850644,-0.038751032203436));
res += mul(Get(s3,0,-dy), float4x4(-0.052615985274315,0.125015243887901,0.064096763730049,-0.051353301852942,0.013566152192652,-0.045792941004038,0.015561638399959,-0.026866087689996,0.038785669952631,-0.138111516833305,0.148293226957321,0.007483015768230,-0.054813861846924,0.107223458588123,0.023394584655762,-0.110589012503624));
res += mul(Get(s3,0,0), float4x4(0.023907262831926,-0.050236281007528,0.069819115102291,-0.049672938883305,-0.046013552695513,-0.002796313958243,-0.093215107917786,-0.064975008368492,0.051804076880217,0.011772744357586,0.065214388072491,-0.014319316484034,-0.034442897886038,-0.029169514775276,-0.089478842914104,-0.014314385131001));
res += mul(Get(s3,0,dy), float4x4(0.014451766386628,-0.124007008969784,-0.204084143042564,0.041548129171133,-0.005876885727048,-0.044168595224619,-0.041198905557394,-0.090706631541252,-0.037184007465839,-0.065173894166946,-0.027161721140146,0.045933216810226,-0.139478549361229,0.029001211747527,-0.120143570005894,-0.012150761671364));
res += mul(Get(s3,dx,-dy), float4x4(-0.094399884343147,0.042856551706791,0.045548409223557,0.061421044170856,-0.002252387814224,0.097579829394817,0.084816440939903,0.013312724418938,-0.041689310222864,-0.106364011764526,-0.031486999243498,0.013215797021985,-0.085270114243031,0.175474256277084,-0.111472472548485,-0.026617057621479));
res += mul(Get(s3,dx,0), float4x4(-0.102972067892551,-0.058223363012075,-0.019214250147343,-0.011457907967269,0.066233761608601,0.058713003993034,-0.058028932660818,-0.003909608814865,-0.047751385718584,0.001802254351787,0.016922429203987,-0.104089103639126,-0.098455719649792,-0.057178918272257,-0.001965479925275,0.021191345527768));
res += mul(Get(s3,dx,dy), float4x4(-0.093290597200394,-0.142520859837532,-0.098746627569199,0.029550716280937,0.008968839421868,0.073472127318382,-0.006175299175084,-0.049647461622953,-0.168652310967445,-0.072643280029297,-0.009987310506403,-0.124368801712990,-0.167313992977142,-0.020831696689129,-0.022073116153479,0.015812989324331));
return max(float4(0,0,0,0), res);
}
