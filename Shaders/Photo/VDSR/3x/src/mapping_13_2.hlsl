sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.162875682115555,0.326472997665405,-0.099813438951969,-0.072475813329220,0.092082619667053,-0.034108936786652,-0.032169524580240,0.003444004803896,-0.021977024152875,0.072971954941750,-0.057238005101681,0.160665437579155,0.101240985095501,0.072448365390301,-0.022693147882819,-0.180699542164803));
res += mul(Get(s0,-dx,0), float4x4(0.036979388445616,-0.009005833417177,-0.018413102254272,0.052571643143892,0.097888708114624,0.144731506705284,0.088264942169189,-0.052941523492336,0.061545785516500,0.036545418202877,-0.013373240828514,0.004913386423141,0.160127416253090,-0.064548574388027,-0.003493504133075,-0.055280487984419));
res += mul(Get(s0,-dx,dy), float4x4(-0.092130005359650,-0.118035912513733,0.122179247438908,-0.038606189191341,0.055010784417391,0.037078753113747,-0.046377323567867,-0.254980951547623,0.249503403902054,0.065057203173637,0.019440228119493,0.006162512581795,-0.018063237890601,0.091742776334286,0.180315583944321,-0.150188967585564));
res += mul(Get(s0,0,-dy), float4x4(-0.120304353535175,0.114025458693504,-0.024246275424957,-0.070533744990826,0.076677240431309,-0.123593203723431,0.021527057513595,0.058731548488140,-0.006238664500415,-0.005739146843553,0.275885820388794,0.067232556641102,-0.163031116127968,0.055713057518005,-0.047847621142864,-0.237965926527977));
res += mul(Get(s0,0,0), float4x4(-0.001234163297340,-0.055306341499090,0.072257451713085,-0.039625797420740,-0.174034997820854,0.033775266259909,0.043942678719759,0.062044713646173,-0.009659296832979,0.041043363511562,-0.002346096094698,0.039593707770109,0.076745815575123,-0.049833625555038,-0.022607138380408,-0.013377960771322));
res += mul(Get(s0,0,dy), float4x4(0.014756649732590,0.000771344872192,-0.140914767980576,-0.048409968614578,-0.139777958393097,-0.257481873035431,-0.045532021671534,0.097020290791988,0.001092342427000,0.001505551976152,-0.148757249116898,-0.037422131747007,0.063788391649723,0.024611232802272,0.054664295166731,-0.238911390304565));
res += mul(Get(s0,dx,-dy), float4x4(0.077480033040047,0.108610816299915,0.003511744784191,0.044444169849157,-0.019768051803112,-0.144691079854965,0.002536296844482,0.159158423542976,-0.111185468733311,0.068169809877872,0.020405264571309,0.026836253702641,0.101446397602558,0.129023924469948,0.033598352223635,0.089002192020416));
res += mul(Get(s0,dx,0), float4x4(-0.022634442895651,0.114550985395908,0.012375927530229,0.071408033370972,0.136912927031517,-0.061762023717165,-0.018610650673509,0.205850809812546,-0.097668401896954,-0.269752562046051,-0.026160662993789,-0.103557556867599,0.036221228539944,0.147578537464142,-0.042666148394346,0.079409174621105));
res += mul(Get(s0,dx,dy), float4x4(0.086297646164894,-0.044300433248281,0.097097739577293,0.054824706166983,0.044307038187981,0.050420049577951,0.130585715174675,0.208470776677132,0.208478540182114,0.155519798398018,-0.048075888305902,-0.082864418625832,-0.253340154886246,0.056182954460382,0.072311878204346,0.154394224286079));
res += mul(Get(s1,-dx,-dy), float4x4(-0.234144344925880,0.145903840661049,-0.088541716337204,-0.090166524052620,0.075753338634968,-0.023157296702266,-0.090251415967941,-0.030674530193210,0.161160707473755,-0.081534691154957,-0.088893137872219,0.177341341972351,0.179348260164261,-0.012860430404544,-0.119991727173328,-0.008560173213482));
res += mul(Get(s1,-dx,0), float4x4(-0.176358088850975,-0.068044781684875,0.088369555771351,0.040036670863628,-0.067973919212818,-0.019944719970226,-0.010803308337927,0.073172815144062,0.100444741547108,0.108578629791737,0.008501213043928,-0.059203065931797,0.051152262836695,0.101408571004868,-0.128779888153076,-0.190562963485718));
res += mul(Get(s1,-dx,dy), float4x4(-0.168266728520393,0.282245129346848,-0.021147992461920,0.020693780854344,-0.022588582709432,0.083609476685524,-0.082007475197315,-0.118883937597275,0.092975363135338,-0.070935375988483,-0.142296135425568,0.061959065496922,0.213230937719345,0.198649212718010,0.072485513985157,0.010914700105786));
res += mul(Get(s1,0,-dy), float4x4(-0.052379734814167,-0.079821616411209,-0.078454822301865,-0.007908824831247,0.065083242952824,-0.095157898962498,-0.022020505741239,-0.144387096166611,-0.148463860154152,-0.010124016553164,-0.152839943766594,-0.143675759434700,0.095895558595657,0.154590770602226,0.017882112413645,-0.018261935561895));
res += mul(Get(s1,0,0), float4x4(0.062111161649227,0.023242674767971,-0.018256973475218,0.053337391465902,-0.140696078538895,-0.055014111101627,0.154140278697014,0.031967867165804,0.042389009147882,-0.105750091373920,-0.098375141620636,-0.107776671648026,0.041652113199234,0.060784414410591,-0.129534333944321,-0.009038140065968));
res += mul(Get(s1,0,dy), float4x4(0.058243837207556,0.081682503223419,-0.169951498508453,0.116183117032051,-0.039617240428925,-0.002735292771831,-0.124563820660114,-0.122005790472031,-0.028142889961600,-0.094401322305202,-0.156537204980850,-0.034641642123461,-0.095935031771660,-0.041639372706413,0.086570553481579,0.069557614624500));
res += mul(Get(s1,dx,-dy), float4x4(0.022555194795132,-0.080968216061592,-0.049417324364185,-0.030689699575305,0.014073084108531,-0.016057621687651,0.108339436352253,-0.110589191317558,-0.042416110634804,-0.163091301918030,-0.050387311726809,-0.108162187039852,-0.059053745120764,-0.066562317311764,-0.063812658190727,0.158435329794884));
res += mul(Get(s1,dx,0), float4x4(-0.106423787772655,0.042056649923325,-0.086638964712620,0.020950019359589,0.035813938826323,0.046340521425009,-0.014284095726907,-0.043277949094772,-0.052601072937250,0.136795252561569,0.123640589416027,-0.055823009461164,-0.114362008869648,-0.044275797903538,-0.183717593550682,-0.125146076083183));
res += mul(Get(s1,dx,dy), float4x4(-0.165478467941284,-0.019368708133698,0.092633515596390,0.100037947297096,-0.072732962667942,0.004378649871796,0.016804497689009,-0.011131932027638,0.136521786451340,0.135047718882561,-0.079640962183475,0.050752758979797,0.071031950414181,0.028361361473799,-0.160816892981529,-0.027961134910583));
res += mul(Get(s2,-dx,-dy), float4x4(-0.021965431049466,0.073793530464172,0.204826682806015,-0.051125846803188,0.011479301378131,-0.196956947445869,-0.047813754528761,0.113228864967823,-0.096817389130592,0.010301045142114,-0.164685219526291,-0.165850266814232,0.139880567789078,0.069838121533394,0.133470311760902,-0.376219868659973));
res += mul(Get(s2,-dx,0), float4x4(-0.062777623534203,0.116097785532475,0.057006210088730,-0.134690180420876,0.062227699905634,0.146109342575073,-0.036361578851938,0.020226566120982,0.035327177494764,0.028975360095501,-0.080521196126938,-0.031907033175230,0.049463100731373,-0.084701858460903,-0.068690352141857,0.011746876873076));
res += mul(Get(s2,-dx,dy), float4x4(0.018069695681334,0.078971765935421,-0.099417321383953,0.136476114392281,-0.084932543337345,0.153449118137360,-0.122436910867691,0.124936290085316,-0.029553934931755,-0.046848356723785,0.023816252127290,0.176951304078102,-0.121203035116196,-0.202698498964310,-0.102322973310947,-0.094825342297554));
res += mul(Get(s2,0,-dy), float4x4(-0.025949716567993,-0.072754606604576,-0.104549258947372,0.101489961147308,-0.115108810365200,-0.084098152816296,-0.017423734068871,0.144714921712875,0.210129618644714,0.039866168051958,-0.110380053520203,-0.022628080099821,0.097201831638813,-0.053578786551952,-0.141991212964058,0.134737670421600));
res += mul(Get(s2,0,0), float4x4(0.013257181271911,-0.040042743086815,-0.007757761981338,-0.055994711816311,-0.031778182834387,-0.169395595788956,0.037330262362957,-0.049003608524799,0.102043598890305,-0.105102829635143,0.100637838244438,-0.180210009217262,-0.029791787266731,-0.201872244477272,0.016086179763079,-0.174393907189369));
res += mul(Get(s2,0,dy), float4x4(0.068200714886189,0.031424805521965,-0.013436558656394,-0.127828285098076,-0.053683135658503,0.071723654866219,0.114340737462044,0.058147929608822,0.127367019653320,0.111528754234314,0.136234387755394,0.089239701628685,0.033745072782040,0.007600009907037,-0.010163223370910,-0.032813824713230));
res += mul(Get(s2,dx,-dy), float4x4(0.091180145740509,0.103769123554230,0.130471616983414,0.029667133465409,-0.059204474091530,-0.026743493974209,0.287587821483612,-0.062132630497217,-0.156519278883934,0.037019878625870,-0.070588089525700,0.041459076106548,-0.017468975856900,-0.215573310852051,-0.145624980330467,0.192321792244911));
res += mul(Get(s2,dx,0), float4x4(0.052232705056667,0.045033264905214,0.036689151078463,0.036435119807720,-0.016583286225796,-0.063429862260818,0.024017957970500,0.103886380791664,-0.151383891701698,-0.069186970591545,0.095336921513081,-0.152771249413490,0.000817815656774,-0.092985801398754,0.074659429490566,0.084317743778229));
res += mul(Get(s2,dx,dy), float4x4(0.033560264855623,0.063310369849205,-0.158478632569313,-0.091532990336418,0.065936774015427,-0.003898672293872,-0.022065078839660,0.066183313727379,0.195520147681236,0.058584444224834,0.163636177778244,0.050688419491053,0.172114118933678,0.094365254044533,-0.073352567851543,0.090474031865597));
res += mul(Get(s3,-dx,-dy), float4x4(-0.064660757780075,-0.016217015683651,0.129744842648506,-0.011064109392464,-0.115003198385239,-0.087669424712658,-0.065082900226116,-0.128446593880653,0.170938566327095,0.080565556883812,0.056530170142651,-0.206003874540329,0.103379182517529,-0.003215267555788,0.064845964312553,-0.077399305999279));
res += mul(Get(s3,-dx,0), float4x4(-0.108686737716198,0.158626288175583,0.158896028995514,-0.114300228655338,-0.207957759499550,0.124340526759624,-0.002912944881245,0.025853540748358,0.001107550691813,0.122272044420242,0.003857717616484,-0.040679201483727,-0.148413404822350,0.049140151590109,-0.140496239066124,-0.030672442167997));
res += mul(Get(s3,-dx,dy), float4x4(-0.193095937371254,0.292754173278809,0.041608918458223,-0.252093076705933,-0.024486357346177,-0.210756704211235,-0.121246196329594,0.210724741220474,-0.112737536430359,0.117739289999008,0.000349601963535,-0.097209475934505,0.092053063213825,0.119689166545868,-0.040330454707146,0.012350379489362));
res += mul(Get(s3,0,-dy), float4x4(-0.004590811207891,-0.073416166007519,0.012058475986123,-0.029319353401661,0.042735900729895,-0.050561662763357,-0.061667758971453,-0.037167631089687,-0.021612275391817,0.141238182783127,0.029000766575336,-0.116665273904800,-0.180070176720619,-0.158616602420807,0.078272603452206,0.011373380199075));
res += mul(Get(s3,0,0), float4x4(0.036302369087934,-0.098301023244858,-0.078000128269196,0.096206180751324,0.075823470950127,0.084814853966236,-0.171863958239555,0.068016141653061,-0.062221188098192,-0.042993426322937,-0.170737057924271,0.004506474826485,-0.237963721156120,-0.059031028300524,-0.020393388345838,0.095159672200680));
res += mul(Get(s3,0,dy), float4x4(0.011374685913324,-0.076509051024914,0.014031218364835,-0.077905252575874,-0.019293548539281,-0.284352242946625,0.222938641905785,0.051275812089443,0.131796732544899,0.151949048042297,-0.026696393266320,0.024751082062721,-0.017344383522868,0.031074155122042,0.130013108253479,0.016447516158223));
res += mul(Get(s3,dx,-dy), float4x4(0.033102154731750,-0.184600919485092,0.160366073250771,-0.175469338893890,-0.048791628330946,0.100087083876133,-0.052776996046305,0.128465041518211,0.133270204067230,0.145213440060616,-0.078358203172684,0.089710079133511,-0.075556293129921,0.142961263656616,-0.063339583575726,0.035028394311666));
res += mul(Get(s3,dx,0), float4x4(0.051437363028526,-0.182882174849510,-0.146358624100685,-0.154677897691727,-0.235944047570229,0.013951803557575,-0.041444852948189,-0.088444046676159,-0.094975464046001,-0.023574726656079,0.139401286840439,0.045232810080051,-0.017361963167787,0.229933440685272,-0.053810626268387,0.017506556585431));
res += mul(Get(s3,dx,dy), float4x4(-0.149631500244141,-0.039975218474865,0.031549178063869,-0.045115970075130,0.034628417342901,-0.051782798022032,-0.079004041850567,-0.101128682494164,-0.057077072560787,-0.042966801673174,-0.116132393479347,0.043601483106613,0.031719379127026,-0.169960141181946,-0.183018714189529,-0.096671260893345));
return max(float4(0,0,0,0), res);
}
