sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.002179028699175,0.054025873541832,0.033412925899029,-0.021743159741163,-0.178614407777786,-0.082334309816360,-0.098269149661064,-0.101229764521122,0.139157816767693,-0.124521210789680,-0.067456319928169,0.137551411986351,-0.052445162087679,0.017134042456746,0.015262512490153,-0.166638180613518));
res += mul(Get(s0,-dx,0), float4x4(-0.211772561073303,-0.163192242383957,0.027687579393387,0.113117948174477,0.110336422920227,-0.006082361098379,0.110583096742630,0.064081378281116,0.240079551935196,0.047469876706600,0.051212567836046,-0.041595488786697,0.139523565769196,-0.045168634504080,-0.116724357008934,0.044262908399105));
res += mul(Get(s0,-dx,dy), float4x4(-0.027520064264536,0.067807450890541,0.103480495512486,-0.175511777400970,0.100288517773151,-0.037181999534369,-0.036868367344141,-0.040250599384308,0.110993660986423,-0.145682826638222,-0.085153982043266,-0.124921016395092,-0.022364133968949,0.116598680615425,-0.107457831501961,0.018407292664051));
res += mul(Get(s0,0,-dy), float4x4(-0.033598393201828,-0.158335477113724,0.163214862346649,0.034950103610754,0.273456811904907,0.024429220706224,0.104496024549007,0.115082420408726,-0.010304352268577,0.004256315063685,-0.197578057646751,-0.046147268265486,0.139153003692627,0.211852371692657,0.042348992079496,0.110477447509766));
res += mul(Get(s0,0,0), float4x4(-0.179672956466675,-0.091136969625950,0.096785545349121,0.094197474420071,-0.124367170035839,0.054112304002047,0.159059882164001,0.006445273756981,0.000858694198541,-0.001224640407600,-0.059015717357397,-0.102114319801331,0.010255426168442,-0.109338931739330,0.000064692525484,-0.050959929823875));
res += mul(Get(s0,0,dy), float4x4(0.227566555142403,-0.149689972400665,0.153574958443642,0.142441973090172,-0.089835390448570,-0.007616881746799,0.293639570474625,0.001823304104619,0.056569837033749,-0.029400644823909,-0.021088672801852,-0.042966295033693,-0.019763788208365,-0.188184395432472,0.033562719821930,0.205063849687576));
res += mul(Get(s0,dx,-dy), float4x4(-0.101682886481285,-0.098371356725693,0.029546726495028,-0.127493038773537,0.059890709817410,-0.005410055164248,-0.185510471463203,-0.050212476402521,0.060333337634802,0.043130964040756,0.078334376215935,0.035579230636358,0.024602882564068,0.126086667180061,0.253695547580719,0.137628704309464));
res += mul(Get(s0,dx,0), float4x4(-0.048075634986162,-0.130206927657127,-0.055973690003157,-0.231531411409378,0.072024822235107,-0.009116784669459,0.173385187983513,0.138053894042969,0.224926173686981,-0.117242842912674,0.040377482771873,0.086287632584572,0.017853949218988,0.102346844971180,0.218061387538910,-0.215256720781326));
res += mul(Get(s0,dx,dy), float4x4(-0.019569244235754,-0.142936587333679,-0.007741297129542,-0.043409027159214,-0.084567278623581,-0.112300813198090,-0.027911759912968,-0.047213111072779,0.027100618928671,-0.034487240016460,0.092137828469276,-0.085453420877457,0.117616318166256,0.024936728179455,0.088382765650749,-0.127860367298126));
res += mul(Get(s1,-dx,-dy), float4x4(-0.162771224975586,-0.082252524793148,-0.003675204468891,0.087367370724678,-0.043549180030823,-0.321169614791870,-0.076916225254536,-0.063898853957653,0.248054072260857,-0.037443652749062,-0.097019784152508,-0.054941229522228,0.120461776852608,-0.096888579428196,0.109987057745457,-0.141402065753937));
res += mul(Get(s1,-dx,0), float4x4(0.038865588605404,0.011740389280021,-0.146567761898041,0.033998783677816,-0.064730472862720,0.109468661248684,-0.017574759200215,0.093200638890266,0.131557598710060,0.006035922560841,-0.042424824088812,0.097539648413658,-0.045168448239565,0.039304427802563,-0.085295937955379,0.077611580491066));
res += mul(Get(s1,-dx,dy), float4x4(0.083533599972725,0.145016536116600,0.261488467454910,-0.012101380154490,-0.004393694456667,-0.127007648348808,-0.146534487605095,0.038268797099590,-0.083340637385845,-0.000466282712296,-0.109324701130390,0.019796432927251,-0.035366795957088,-0.078875623643398,0.043711308389902,-0.127842530608177));
res += mul(Get(s1,0,-dy), float4x4(0.151960000395775,0.062352947890759,0.009400987997651,0.072500348091125,-0.037555929273367,-0.075854085385799,-0.233683660626411,-0.059997800737619,0.053786143660545,-0.161600247025490,0.058349221944809,-0.004454362671822,-0.166844129562378,0.041541647166014,-0.017080467194319,-0.207552194595337));
res += mul(Get(s1,0,0), float4x4(0.012925217859447,-0.282936900854111,0.094622947275639,0.110146835446358,-0.205080330371857,0.031421091407537,0.012924937531352,-0.048341929912567,-0.031176801770926,-0.229809015989304,-0.005916559603065,-0.018579319119453,0.062812000513077,0.038465540856123,0.047498136758804,0.015542047098279));
res += mul(Get(s1,0,dy), float4x4(-0.152191713452339,0.152614176273346,-0.147956952452660,-0.092036478221416,-0.109669782221317,0.105483688414097,0.082288004457951,0.217129364609718,-0.223302900791168,0.001525911036879,-0.163852274417877,-0.051381681114435,-0.046637963503599,-0.039618361741304,-0.181141376495361,-0.241536542773247));
res += mul(Get(s1,dx,-dy), float4x4(-0.108758650720119,0.240967988967896,-0.161405429244041,-0.025607539340854,-0.197261944413185,0.020145229995251,0.237606570124626,-0.245533809065819,-0.230592906475067,-0.053860429674387,0.066542178392410,-0.021169152110815,0.103424124419689,0.032231606543064,0.017420353367925,0.210153743624687));
res += mul(Get(s1,dx,0), float4x4(-0.176155209541321,-0.064030215144157,-0.066914975643158,-0.027511321008205,-0.091273531317711,-0.124464161694050,0.025950103998184,-0.131321221590042,0.023556904867291,-0.189489006996155,0.135961383581161,-0.073676995933056,-0.088301412761211,0.043773856014013,0.105607487261295,0.039538756012917));
res += mul(Get(s1,dx,dy), float4x4(0.061945002526045,0.080955103039742,0.029259128496051,0.099882289767265,0.032017607241869,0.305553674697876,-0.045997906476259,-0.089188605546951,0.021100018173456,-0.055000856518745,0.027391683310270,0.215337350964546,-0.105144545435905,-0.000847699120641,0.034285392612219,-0.010728727094829));
res += mul(Get(s2,-dx,-dy), float4x4(-0.069569244980812,-0.067948423326015,-0.145931556820869,-0.097015954554081,-0.060557711869478,-0.130528151988983,-0.077447749674320,-0.145201429724693,0.052215375006199,-0.043132387101650,-0.033690001815557,0.069994285702705,0.100659601390362,-0.041139665991068,-0.103898026049137,-0.141527563333511));
res += mul(Get(s2,-dx,0), float4x4(-0.096374049782753,0.167282238602638,0.111041560769081,-0.114164523780346,-0.112315349280834,0.069772273302078,0.193107545375824,-0.038033187389374,0.091869913041592,0.098541125655174,-0.031533550471067,-0.169484913349152,-0.090385571122169,0.116982422769070,-0.036733329296112,0.113308414816856));
res += mul(Get(s2,-dx,dy), float4x4(0.102787360548973,0.042953286319971,-0.148105338215828,0.194029703736305,-0.009094883687794,-0.049288447946310,0.034798610955477,-0.118980742990971,0.087170474231243,0.063266649842262,0.030661161988974,0.022226497530937,-0.091169603168964,0.019621079787612,-0.228850945830345,0.130520343780518));
res += mul(Get(s2,0,-dy), float4x4(0.075420327484608,-0.115062251687050,0.152288198471069,0.053582858294249,0.034700315445662,0.387541502714157,0.182578682899475,0.051715470850468,0.039673782885075,0.104271776974201,0.015280650928617,-0.190869048237801,0.182649716734886,0.085901379585266,-0.015078522264957,0.025393173098564));
res += mul(Get(s2,0,0), float4x4(-0.039703655987978,0.080127567052841,-0.062288988381624,-0.040499869734049,-0.021096162497997,0.206598967313766,-0.159870982170105,-0.070094339549541,0.037411097437143,0.173733562231064,0.078901223838329,-0.232758313417435,0.110761061310768,0.007882408797741,-0.021814502775669,0.117631003260612));
res += mul(Get(s2,0,dy), float4x4(-0.111280865967274,0.222814977169037,0.074821792542934,-0.001703928224742,0.039335850626230,-0.161458060145378,0.000373137125280,-0.010309790261090,0.046522874385118,-0.012306283228099,0.131775215268135,-0.180733621120453,-0.124669194221497,0.211801305413246,0.037222404032946,0.151735469698906));
res += mul(Get(s2,dx,-dy), float4x4(0.174919739365578,0.054998133331537,0.132940337061882,0.125088050961494,-0.012224876321852,-0.046910680830479,-0.190013065934181,0.050168741494417,0.240765765309334,0.066533558070660,0.007683220319450,-0.069012999534607,-0.044086709618568,-0.022334821522236,-0.072128556668758,-0.043686222285032));
res += mul(Get(s2,dx,0), float4x4(-0.062941610813141,0.093409709632397,0.194664284586906,0.233365729451180,-0.165364623069763,-0.077283114194870,0.160772815346718,0.273425400257111,-0.057073988020420,0.068948388099670,0.028671767562628,0.073824048042297,0.033595040440559,-0.090716131031513,0.114845402538776,0.140091955661774));
res += mul(Get(s2,dx,dy), float4x4(-0.075324065983295,0.072091646492481,-0.252568334341049,0.084589548408985,-0.077393636107445,-0.162886247038841,-0.102945171296597,-0.080249294638634,0.099916838109493,-0.073910340666771,0.204164355993271,0.090811707079411,0.034838978201151,0.053579438477755,0.129509046673775,-0.023588176816702));
res += mul(Get(s3,-dx,-dy), float4x4(-0.211727216839790,-0.019445149227977,-0.002928312867880,0.142205327749252,-0.029296396300197,-0.000707945728209,0.155940815806389,-0.171796515583992,-0.151494100689888,-0.077837586402893,0.025049144402146,-0.029823862016201,0.129568129777908,-0.063691653311253,0.212675392627716,-0.152603298425674));
res += mul(Get(s3,-dx,0), float4x4(0.000137027833262,-0.012426723726094,-0.007619913667440,0.147133901715279,0.001520524965599,-0.060705248266459,-0.084711387753487,-0.021584447473288,0.069166272878647,-0.035066552460194,0.156141966581345,-0.031309887766838,0.193165451288223,-0.181586146354675,-0.102042831480503,-0.065353289246559));
res += mul(Get(s3,-dx,dy), float4x4(-0.138698637485504,-0.049381170421839,0.009922949597239,-0.008124959655106,-0.138845950365067,-0.023571485653520,0.162818685173988,0.007724953815341,0.140378057956696,-0.006733593530953,-0.210127085447311,-0.050340075045824,0.040028590708971,-0.033436585217714,0.154180884361267,-0.138407766819000));
res += mul(Get(s3,0,-dy), float4x4(-0.186177685856819,-0.093998022377491,0.028736574575305,-0.072595171630383,0.034647539258003,0.107672773301601,-0.158415347337723,-0.035286173224449,-0.107094876468182,0.110664054751396,-0.023458456620574,-0.072579361498356,-0.056051287800074,0.180104255676270,0.134861931204796,0.068129949271679));
res += mul(Get(s3,0,0), float4x4(0.054161343723536,-0.004077967256308,0.146493762731552,0.077199660241604,-0.076458275318146,0.101569958031178,-0.249754682183266,-0.144465878605843,0.076702281832695,0.045984536409378,0.221502944827080,0.056253165006638,-0.087190479040146,-0.099444158375263,-0.118412286043167,0.241446509957314));
res += mul(Get(s3,0,dy), float4x4(0.054529052227736,0.023803405463696,-0.135851308703423,-0.140968516469002,-0.199545860290527,-0.156491085886955,0.142899498343468,-0.110190905630589,0.001120737288147,-0.204507499933243,0.123707361519337,-0.043483398854733,0.039548587054014,0.022641172632575,-0.026027861982584,0.242056146264076));
res += mul(Get(s3,dx,-dy), float4x4(0.027215624228120,-0.109104618430138,0.044082339853048,-0.065510652959347,0.145966887474060,0.008991786278784,-0.063173688948154,-0.106212683022022,0.109761089086533,-0.076201803982258,0.139455482363701,0.182154476642609,-0.154003575444221,-0.098107866942883,-0.160072579979897,-0.028847381472588));
res += mul(Get(s3,dx,0), float4x4(0.032290957868099,0.004372978582978,-0.019615236669779,0.051750317215919,-0.212894007563591,-0.092038832604885,0.104456707835197,-0.081791475415230,-0.060321256518364,0.251513987779617,0.023609839379787,0.035975806415081,-0.053480107337236,0.054224047809839,-0.162079617381096,0.038305189460516));
res += mul(Get(s3,dx,dy), float4x4(-0.126935958862305,0.107305414974689,0.092222645878792,-0.000756751280278,-0.054417464882135,0.143745660781860,0.055431768298149,0.136214688420296,0.112392410635948,0.054346617311239,-0.031280424445868,0.152210354804993,0.033881440758705,-0.146173104643822,0.241018638014793,0.024040551856160));
return max(float4(0,0,0,0), res);
}
