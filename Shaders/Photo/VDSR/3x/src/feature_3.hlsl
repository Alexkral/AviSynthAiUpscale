sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.040030214935541,-0.222090870141983,0.207909733057022,-0.102459885179996) * Get(-dx,-dy);
res += float4(-0.143238961696625,-0.026579113677144,0.368892014026642,-0.165582612156868) * Get(-dx,0);
res += float4(0.035873930901289,0.029323587194085,-0.008470663800836,-0.077065594494343) * Get(-dx,dy);
res += float4(0.043521527200937,0.147639662027359,-0.106594242155552,-0.174704417586327) * Get(0,-dy);
res += float4(0.063889212906361,-0.007307117804885,-0.044628661125898,-0.070736907422543) * Get(0,0);
res += float4(-0.040068242698908,0.061605896800756,0.003529685083777,0.129050925374031) * Get(0,dy);
res += float4(-0.041519053280354,-0.033731509000063,-0.174548000097275,0.125992491841316) * Get(dx,-dy);
res += float4(0.040252827107906,-0.048655908554792,-0.099587149918079,-0.016505859792233) * Get(dx,0);
res += float4(-0.100878559052944,-0.188175916671753,0.071011818945408,-0.082491032779217) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
