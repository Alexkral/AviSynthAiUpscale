sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.080008603632450,0.068164505064487,0.041955322027206,-0.051409728825092,0.188305541872978,0.150618776679039,0.130884990096092,0.097884491086006,-0.051057547330856,0.085735216736794,0.010207884013653,0.004675444215536,0.177819654345512,-0.078116334974766,-0.239000812172890,0.005971434526145));
res += mul(Get(s0,-dx,0), float4x4(-0.132790163159370,-0.057172458618879,0.069292046129704,0.134255379438400,0.134712874889374,-0.084045968949795,-0.100011385977268,-0.024492859840393,-0.316102743148804,0.062503866851330,-0.193135693669319,0.130238875746727,0.037151031196117,-0.213964298367500,-0.047981586307287,-0.049555052071810));
res += mul(Get(s0,-dx,dy), float4x4(0.050355747342110,-0.152775734663010,0.000241528323386,-0.033508185297251,0.147052913904190,-0.091450668871403,0.044502746313810,-0.021439921110868,-0.026053866371512,-0.139051228761673,0.258734226226807,-0.221889629960060,0.107191585004330,0.024848481640220,-0.071946054697037,0.071748234331608));
res += mul(Get(s0,0,-dy), float4x4(0.123589023947716,0.123935058712959,0.020944237709045,-0.077308587729931,-0.097477786242962,-0.103492908179760,0.024657193571329,0.165310576558113,-0.030966896563768,-0.104243084788322,-0.135541364550591,-0.144760549068451,0.174671560525894,-0.111016310751438,-0.075617343187332,0.007436522282660));
res += mul(Get(s0,0,0), float4x4(0.009082865901291,-0.129898354411125,0.130780935287476,0.043329667299986,0.116521798074245,0.223042339086533,-0.165744706988335,-0.078877888619900,-0.131141260266304,0.132788777351379,0.191284075379372,-0.111785128712654,-0.078328050673008,0.068837866187096,-0.064935624599457,-0.106361597776413));
res += mul(Get(s0,0,dy), float4x4(0.102808140218258,0.069916710257530,-0.013438759371638,0.022751769050956,-0.004551597405225,0.157527059316635,0.012415552511811,-0.171002045273781,-0.052538603544235,0.175083413720131,-0.182122170925140,-0.133204758167267,0.084213465452194,0.133549526333809,-0.193676561117172,0.104209788143635));
res += mul(Get(s0,dx,-dy), float4x4(-0.211585104465485,-0.189172282814980,0.006673276424408,0.046486280858517,0.054586779326200,-0.090795159339905,0.000737805617973,0.095718502998352,0.048954483121634,-0.132470801472664,-0.031514681875706,0.052390538156033,-0.119531616568565,-0.043863471597433,-0.071021564304829,-0.042808029800653));
res += mul(Get(s0,dx,0), float4x4(0.129673346877098,0.014576705172658,0.087582670152187,0.121288292109966,-0.072722516953945,-0.133380815386772,0.152698040008545,0.047870781272650,-0.336934089660645,0.012242182157934,0.114624001085758,0.048906534910202,-0.071151129901409,-0.006305699702352,-0.142724633216858,-0.019189240410924));
res += mul(Get(s0,dx,dy), float4x4(0.081210002303123,-0.167424574494362,-0.048394151031971,-0.158614248037338,-0.092782840132713,-0.017803190276027,-0.012160750105977,-0.083851411938667,-0.155510708689690,-0.145451024174690,-0.078267686069012,0.116557769477367,-0.016542842611670,-0.103107325732708,-0.186097651720047,-0.085016191005707));
res += mul(Get(s1,-dx,-dy), float4x4(-0.004804274532944,-0.026175376027822,-0.106417484581470,0.175794064998627,0.116148158907890,-0.187919870018959,0.009665483608842,-0.164172276854515,0.034994274377823,0.045084986835718,0.049878012388945,-0.061871841549873,0.004268479067832,0.158506378531456,0.006354565732181,0.116629227995872));
res += mul(Get(s1,-dx,0), float4x4(0.053034450858831,-0.157086402177811,-0.006963355466723,-0.041340850293636,-0.270371764898300,-0.058362331241369,0.057928241789341,0.020687719807029,-0.186989501118660,-0.080467656254768,-0.217691659927368,-0.073512829840183,0.233941823244095,-0.155093014240265,-0.092351354658604,0.159044429659843));
res += mul(Get(s1,-dx,dy), float4x4(-0.011554268188775,0.026441117748618,-0.197249412536621,-0.057079341262579,0.040544923394918,-0.028791805729270,-0.067878179252148,0.082897916436195,-0.037135969847441,-0.187483578920364,0.093707688152790,0.000019271108613,0.032226994633675,0.059526331722736,0.183694586157799,0.139574393630028));
res += mul(Get(s1,0,-dy), float4x4(-0.144036024808884,-0.157807648181915,0.023810919374228,0.056517869234085,0.003089281264693,0.134372815489769,0.134726762771606,0.139631718397141,-0.034666996449232,0.111361749470234,-0.029726427048445,-0.166099652647972,0.264646679162979,0.016515737399459,0.020068099722266,-0.093747451901436));
res += mul(Get(s1,0,0), float4x4(0.056489545851946,0.002286955248564,0.078154526650906,-0.075683854520321,0.055552706122398,0.019366942346096,0.140238851308823,0.141911804676056,-0.070748664438725,-0.147261530160904,0.144941225647926,0.024958517402411,-0.006624779198319,-0.158144205808640,-0.102194845676422,-0.170760527253151));
res += mul(Get(s1,0,dy), float4x4(-0.094165720045567,0.104000143706799,0.007784010376781,0.010961848311126,0.001126491930336,0.157416597008705,-0.055078152567148,0.225244462490082,-0.080050840973854,-0.148493990302086,-0.117693208158016,-0.077494189143181,-0.036950264126062,0.096260018646717,0.116237565875053,-0.140909627079964));
res += mul(Get(s1,dx,-dy), float4x4(0.055641390383244,-0.005318662617356,-0.096883259713650,-0.131832003593445,-0.029879495501518,-0.118089139461517,-0.056457683444023,-0.033482428640127,0.155965179204941,-0.084781244397163,0.030621597543359,0.067048467695713,0.129157096147537,-0.008053376339376,-0.021952368319035,-0.008672795258462));
res += mul(Get(s1,dx,0), float4x4(-0.220138773322105,-0.099094524979591,-0.021269766613841,-0.155149042606354,-0.082263521850109,-0.103399604558945,0.022520795464516,-0.025825198739767,0.025843458250165,-0.045739986002445,-0.110234037041664,0.040027517825365,-0.066478170454502,-0.038579128682613,-0.014361011795700,0.117095477879047));
res += mul(Get(s1,dx,dy), float4x4(0.035525422543287,-0.081804916262627,0.126805886626244,-0.146160528063774,-0.112636446952820,-0.005945972166955,-0.105218730866909,0.081262111663818,0.056967657059431,-0.220767870545387,0.180423513054848,0.118473574519157,0.047920107841492,0.200206622481346,-0.035761404782534,0.078855991363525));
res += mul(Get(s2,-dx,-dy), float4x4(-0.020861633121967,-0.069091036915779,-0.076524429023266,-0.099889218807220,0.225589767098427,0.052734464406967,0.248501002788544,-0.014821418561041,0.109677150845528,0.100657470524311,0.251574397087097,0.108692981302738,-0.137743413448334,-0.078290708363056,-0.028584109619260,-0.029103891924024));
res += mul(Get(s2,-dx,0), float4x4(-0.051516387611628,0.006808386184275,0.105224110186100,-0.026777109131217,0.069218486547470,0.093570716679096,-0.010772467590868,0.260509163141251,-0.012701528146863,-0.109818227589130,0.128807142376900,0.036584697663784,0.100811332464218,0.107783555984497,-0.046820361167192,-0.008933883160353));
res += mul(Get(s2,-dx,dy), float4x4(0.024683954194188,-0.104376643896103,0.137737110257149,-0.139260664582253,-0.004845631774515,-0.057649727910757,0.106829077005386,-0.166930645704269,-0.067402549088001,-0.091040559113026,-0.193183600902557,-0.024085357785225,0.014259198680520,-0.148810267448425,-0.008888581767678,0.173943310976028));
res += mul(Get(s2,0,-dy), float4x4(-0.022555803880095,0.008313082158566,0.074611887335777,0.064504608511925,-0.089074231684208,-0.145981624722481,0.189400076866150,-0.163493454456329,-0.118045635521412,0.163366198539734,0.086121506989002,0.056650355458260,0.007777140475810,-0.219289124011993,0.110010005533695,0.095087252557278));
res += mul(Get(s2,0,0), float4x4(-0.021050458773971,-0.038578260689974,-0.103337794542313,-0.085050307214260,0.056339975446463,-0.042669028043747,-0.034559443593025,0.020569961518049,0.083671808242798,0.181283384561539,0.106929585337639,0.064315870404243,0.171670988202095,0.078884318470955,0.174100443720818,0.097243838012218));
res += mul(Get(s2,0,dy), float4x4(0.059929668903351,-0.005619455594569,0.051923546940088,-0.075887449085712,0.036580640822649,0.063639327883720,-0.015091250650585,0.057150274515152,-0.022566687315702,-0.133725956082344,-0.206511601805687,0.072944708168507,-0.108364187180996,-0.073354303836823,0.017360147088766,0.057167746126652));
res += mul(Get(s2,dx,-dy), float4x4(0.057915393263102,-0.040770508348942,0.013313153758645,-0.168186455965042,0.056670706719160,-0.223711267113686,-0.270767003297806,-0.088707298040390,-0.111413128674030,0.056813687086105,0.057373277842999,0.164657041430473,0.177029505372047,0.059991005808115,0.190157964825630,-0.073749795556068));
res += mul(Get(s2,dx,0), float4x4(-0.351410120725632,0.027922945097089,-0.051040966063738,0.008246332406998,-0.089369699358940,-0.130103215575218,-0.149958312511444,0.036966610699892,-0.002089292509481,0.074456222355366,0.208101257681847,0.076466403901577,-0.049118608236313,-0.083997249603271,-0.013166554272175,0.044492751359940));
res += mul(Get(s2,dx,dy), float4x4(-0.067591942846775,-0.074091732501984,0.064024262130260,-0.017573770135641,-0.193064406514168,-0.044052552431822,0.175721615552902,-0.052338089793921,-0.105630785226822,-0.025307280942798,-0.015939975157380,-0.024071898311377,-0.277953743934631,0.089391469955444,0.152389600872993,-0.009807126596570));
res += mul(Get(s3,-dx,-dy), float4x4(-0.028953606262803,-0.088595278561115,-0.033764775842428,0.022581679746509,0.025424782186747,0.006954982876778,-0.048927973955870,0.080943390727043,-0.004115394782275,0.119545564055443,0.056110464036465,-0.236399546265602,0.003033980960026,-0.012306137010455,-0.065355107188225,0.067034646868706));
res += mul(Get(s3,-dx,0), float4x4(0.000007016663858,-0.087152093648911,-0.179238289594650,-0.110972695052624,-0.030293367803097,0.037124644964933,0.012631011195481,0.006292165257037,0.020069496706128,-0.033516626805067,-0.116707935929298,0.005035310517997,-0.002508561126888,0.034213885664940,-0.110454954206944,0.001005433266982));
res += mul(Get(s3,-dx,dy), float4x4(0.104718685150146,0.082348272204399,0.022714326158166,0.018676532432437,-0.181725069880486,0.062199626117945,0.004821350332350,0.115297198295593,-0.083305753767490,-0.009958175010979,0.241243347525597,-0.053280737251043,0.087519191205502,-0.099727608263493,-0.067421920597553,0.081313222646713));
res += mul(Get(s3,0,-dy), float4x4(-0.056866660714149,-0.163909390568733,0.035758294165134,0.136919587850571,-0.086381688714027,0.081473000347614,-0.048864077776670,-0.137519255280495,0.161322385072708,0.176859065890312,-0.169678032398224,0.051571413874626,0.211368992924690,0.127860501408577,-0.122291229665279,-0.037210009992123));
res += mul(Get(s3,0,0), float4x4(-0.178850993514061,0.013052131049335,0.209851354360580,-0.176660418510437,0.006844465620816,-0.050114583224058,-0.003117379266769,0.061553642153740,-0.020589629188180,-0.011927388608456,-0.058012571185827,-0.160717710852623,0.034652769565582,0.295302361249924,-0.038623146712780,-0.010809389874339));
res += mul(Get(s3,0,dy), float4x4(0.116892457008362,-0.276736825704575,-0.115872800350189,-0.039053685963154,-0.201175928115845,-0.091410815715790,-0.319835752248764,0.043421991169453,0.001558725954965,-0.008786791935563,0.053927198052406,-0.014402396045625,-0.137232452630997,0.046120494604111,-0.060976687818766,-0.027202140539885));
res += mul(Get(s3,dx,-dy), float4x4(-0.088826619088650,0.005804508924484,0.002687869593501,0.155389368534088,-0.102845072746277,0.144719675183296,-0.206414759159088,-0.036809626966715,0.028407288715243,0.172185212373734,0.127071261405945,0.020310893654823,0.028288610279560,0.073241397738457,0.094241552054882,0.094346992671490));
res += mul(Get(s3,dx,0), float4x4(0.064324095845222,0.056734427809715,0.060598876327276,-0.011525908485055,0.077192492783070,-0.140990614891052,0.143985778093338,0.085349112749100,0.005276469513774,0.137948185205460,0.057846736162901,-0.013997311703861,-0.020236944779754,-0.040800057351589,0.155650600790977,0.196695417165756));
res += mul(Get(s3,dx,dy), float4x4(-0.094183631241322,0.051441282033920,0.227783307433128,0.134274110198021,-0.212500616908073,0.059979427605867,0.119649201631546,-0.003189155133441,-0.108796969056129,-0.139946505427361,0.136241346597672,0.061056412756443,0.043534800410271,0.112027622759342,0.029588704928756,0.117485649883747));
return max(float4(0,0,0,0), res);
}
