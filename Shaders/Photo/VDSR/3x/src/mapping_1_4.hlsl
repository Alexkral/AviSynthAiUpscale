sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.092397555708885,0.154296338558197,-0.022932315245271,0.060763262212276,-0.175818845629692,-0.003788221161813,0.026902999728918,-0.073002979159355,0.105548724532127,0.064286969602108,-0.089529529213905,0.133877500891685,0.111178673803806,-0.227660864591599,-0.190914973616600,0.154421880841255));
res += mul(Get(s0,-dx,0), float4x4(0.040662802755833,-0.245834559202194,-0.170581489801407,0.054969519376755,0.164576426148415,-0.121763981878757,-0.020297449082136,-0.056063119322062,0.036900084465742,-0.098452076315880,-0.047119732946157,-0.124944046139717,-0.068505570292473,0.135886177420616,0.006662762723863,0.141655534505844));
res += mul(Get(s0,-dx,dy), float4x4(-0.183273822069168,-0.067337796092033,-0.037631992250681,-0.033166602253914,0.099772796034813,-0.119726456701756,0.122334234416485,-0.072780013084412,0.109164215624332,0.014128786511719,0.033001054078341,0.007762508001179,0.037973158061504,0.003786357585341,-0.090502589941025,0.065439939498901));
res += mul(Get(s0,0,-dy), float4x4(0.048375371843576,0.100143477320671,0.077727206051350,0.163500756025314,0.213214889168739,-0.105718687176704,-0.073771074414253,0.013767622411251,0.197343140840530,-0.026736073195934,0.247473105788231,-0.017591904848814,0.212834954261780,-0.054579459130764,-0.175025522708893,-0.022139711305499));
res += mul(Get(s0,0,0), float4x4(-0.045623924583197,0.137982428073883,-0.158616229891777,0.026431521400809,0.019319374114275,0.195283144712448,0.068255089223385,0.032404001802206,-0.119957067072392,0.068777374923229,-0.065887197852135,-0.060967419296503,0.035626124590635,0.100960135459900,-0.136595159769058,0.077610723674297));
res += mul(Get(s0,0,dy), float4x4(0.101505972445011,0.032160189002752,0.132584244012833,0.135678544640541,0.074929893016815,0.064346820116043,0.070037797093391,0.305260777473450,-0.013936487957835,0.050804071128368,-0.104332923889160,0.034296471625566,-0.259330570697784,0.067788057029247,-0.077682703733444,-0.105819240212440));
res += mul(Get(s0,dx,-dy), float4x4(-0.093766935169697,0.089630223810673,-0.076071821153164,0.066918335855007,-0.056441422551870,0.049469199031591,0.009720167145133,0.202038109302521,-0.188870623707771,-0.074201576411724,0.030427059158683,-0.106290236115456,0.058190356940031,-0.198616772890091,0.033264435827732,0.044793382287025));
res += mul(Get(s0,dx,0), float4x4(-0.200114563107491,-0.119383551180363,-0.044029541313648,-0.068380430340767,-0.155617401003838,-0.080635577440262,-0.040615569800138,-0.038403473794460,-0.053911976516247,0.059601798653603,0.032484512776136,0.113434091210365,-0.085612393915653,-0.129902318120003,0.032276570796967,-0.035368636250496));
res += mul(Get(s0,dx,dy), float4x4(0.065006621181965,-0.049770124256611,-0.136604040861130,-0.013948413543403,-0.016261084005237,0.081545509397984,0.089576244354248,-0.025789078325033,0.051750633865595,0.108502618968487,0.059923417866230,-0.059736587107182,0.203793331980705,0.214080527424812,-0.166026756167412,-0.108297035098076));
res += mul(Get(s1,-dx,-dy), float4x4(0.321696311235428,-0.173193857073784,-0.041737262159586,0.250517398118973,-0.070171877741814,0.120723314583302,-0.028542937710881,0.000569706549868,-0.141111969947815,0.075452037155628,-0.035419993102551,0.051622234284878,-0.053357630968094,0.242438644170761,-0.142287462949753,0.014157229103148));
res += mul(Get(s1,-dx,0), float4x4(-0.237006872892380,-0.130287513136864,0.108661465346813,0.129480212926865,0.091947875916958,0.001899663009681,0.115390226244926,0.051706172525883,0.103154912590981,-0.145907014608383,0.015991065651178,-0.049634762108326,0.071996137499809,0.151635661721230,0.120041109621525,-0.105276279151440));
res += mul(Get(s1,-dx,dy), float4x4(-0.161743357777596,-0.005829437170178,-0.013230612501502,-0.051087956875563,-0.130453139543533,0.116297021508217,-0.152595058083534,0.054594125598669,0.179460972547531,-0.135816916823387,0.126849487423897,0.025172529742122,-0.020446769893169,0.238861516118050,-0.006784764584154,0.070978239178658));
res += mul(Get(s1,0,-dy), float4x4(0.207261130213737,-0.059173159301281,0.002302106702700,-0.187038496136665,0.022307300940156,0.081045106053352,0.076976634562016,-0.085193201899529,0.004844340961426,0.136562600731850,-0.024347983300686,0.122648052871227,0.008646666072309,-0.095590151846409,0.088669419288635,0.100503675639629));
res += mul(Get(s1,0,0), float4x4(0.052618373185396,0.046871703118086,-0.064457528293133,-0.022379238158464,-0.010030683130026,-0.049731519073248,-0.104215577244759,-0.017973657697439,-0.020366815850139,-0.047354001551867,-0.045381933450699,-0.123291984200478,-0.006586429663002,0.115488260984421,-0.017616542056203,0.131474986672401));
res += mul(Get(s1,0,dy), float4x4(0.288541197776794,0.031947501003742,0.030223360285163,-0.069014616310596,-0.003331641899422,-0.179299339652061,-0.055312506854534,0.097741827368736,0.002395073883235,-0.077567301690578,-0.150000870227814,-0.069473832845688,0.101505368947983,-0.067877784371376,-0.028985336422920,-0.111567638814449));
res += mul(Get(s1,dx,-dy), float4x4(-0.033948201686144,-0.139322400093079,0.215079873800278,0.001594527857378,-0.142255291342735,-0.110200211405754,-0.062566377222538,0.004563974216580,0.160625547170639,0.122821077704430,0.010230720974505,-0.005364649929106,-0.220080152153969,0.101373702287674,0.017502307891846,-0.056297477334738));
res += mul(Get(s1,dx,0), float4x4(-0.004391651600599,0.122883103787899,0.052784588187933,0.126271530985832,0.102004759013653,0.144665390253067,0.038519985973835,0.130254417657852,-0.098125256597996,-0.141270264983177,0.157878011465073,-0.111163601279259,0.004352600313723,-0.257876664400101,0.173695355653763,0.032810915261507));
res += mul(Get(s1,dx,dy), float4x4(-0.246365278959274,0.051506143063307,0.023144848644733,-0.045936677604914,0.077277079224586,-0.084503322839737,-0.051751155406237,-0.036053027957678,0.024762701243162,0.029772473499179,-0.238091319799423,0.105610996484756,0.164911106228828,-0.064134351909161,-0.109097383916378,-0.082408033311367));
res += mul(Get(s2,-dx,-dy), float4x4(0.045747611671686,-0.118085205554962,-0.068958088755608,-0.129130303859711,-0.137917637825012,0.173302724957466,-0.005009716842324,-0.100108779966831,0.048192001879215,-0.122517831623554,-0.066821485757828,-0.108295761048794,0.148790225386620,-0.012552266009152,-0.024917177855968,-0.182563006877899));
res += mul(Get(s2,-dx,0), float4x4(0.104028150439262,0.031145982444286,0.200404688715935,0.009706276468933,0.183306753635406,-0.143395990133286,0.019621269777417,0.148845568299294,-0.063556663691998,0.043363392353058,-0.090626217424870,0.087172225117683,0.090072356164455,-0.158158883452415,0.058896888047457,-0.055597666651011));
res += mul(Get(s2,-dx,dy), float4x4(-0.068410672247410,0.001803671591915,0.219539105892181,-0.121191486716270,-0.082139797508717,0.075149953365326,-0.179644227027893,-0.092245317995548,-0.061286509037018,0.186648517847061,-0.102688565850258,-0.099326662719250,0.159951984882355,-0.142956614494324,-0.091460615396500,-0.052461788058281));
res += mul(Get(s2,0,-dy), float4x4(0.011854127049446,0.027685342356563,-0.027472741901875,0.061676412820816,-0.051764760166407,0.101248033344746,0.100987158715725,0.088125325739384,-0.009369687177241,0.059182576835155,-0.006481958087534,0.028612205758691,-0.025168763473630,-0.020550353452563,-0.132492646574974,-0.138550758361816));
res += mul(Get(s2,0,0), float4x4(-0.021591592580080,0.157906159758568,-0.034536562860012,0.232309818267822,-0.103286899626255,-0.079910360276699,-0.077272251248360,0.052010055631399,-0.029505455866456,-0.105375565588474,0.041968375444412,0.136281847953796,-0.051721386611462,-0.088847741484642,-0.085925623774529,-0.168959587812424));
res += mul(Get(s2,0,dy), float4x4(0.245941832661629,0.001527852495201,0.145956411957741,0.026996729895473,0.145061850547791,0.049601942300797,0.201584875583649,0.191941261291504,-0.180758848786354,-0.054638911038637,0.083824008703232,-0.067861117422581,0.212346270680428,-0.017993383109570,0.189203515648842,0.056798122823238));
res += mul(Get(s2,dx,-dy), float4x4(0.080813080072403,0.201451957225800,0.133512333035469,0.221926763653755,0.138302057981491,-0.131263390183449,0.074379839003086,-0.194947153329849,-0.048250779509544,-0.102520003914833,0.102526418864727,0.009137350134552,-0.098689161241055,-0.150562956929207,-0.095428809523582,0.064456172287464));
res += mul(Get(s2,dx,0), float4x4(-0.122646696865559,0.043310392647982,0.017687022686005,-0.021512361243367,-0.161183491349220,0.094841852784157,0.061985336244106,0.083936013281345,0.455156862735748,0.161542594432831,0.073532879352570,0.221716970205307,-0.127248510718346,-0.065537825226784,0.000327759364154,0.022254209965467));
res += mul(Get(s2,dx,dy), float4x4(0.163150370121002,-0.216322541236877,0.094219744205475,0.000554166035727,0.104237973690033,0.202682226896286,0.186288684606552,-0.019992223009467,-0.058753106743097,0.108936905860901,-0.136945009231567,-0.195473194122314,-0.257701158523560,-0.123178333044052,-0.135652318596840,-0.047818876802921));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024165581911802,-0.047756638377905,0.158544152975082,0.073799699544907,0.066451303660870,-0.009589710272849,0.183887004852295,-0.143052250146866,-0.086449272930622,0.076155051589012,-0.242817714810371,0.193795278668404,-0.059976179152727,-0.058589052408934,-0.287298738956451,0.006117878947407));
res += mul(Get(s3,-dx,0), float4x4(0.063270077109337,-0.037983343005180,0.004829334560782,0.194579035043716,-0.032503541558981,0.002550487872213,-0.115807749330997,-0.224571436643600,-0.034691322594881,0.045083187520504,-0.029688127338886,0.001469791284762,-0.178988695144653,-0.069118857383728,0.095483168959618,0.131287381052971));
res += mul(Get(s3,-dx,dy), float4x4(0.180514767765999,0.041840840131044,0.010198792442679,-0.066671699285507,-0.189567252993584,-0.134388118982315,-0.201124086976051,0.044853597879410,0.054903388023376,0.066940747201443,0.078537233173847,-0.039705775678158,0.224646046757698,-0.017741324380040,-0.064483769237995,0.033582411706448));
res += mul(Get(s3,0,-dy), float4x4(-0.042410131543875,0.228169739246368,-0.034398484975100,-0.136114388704300,-0.071993559598923,0.017450440675020,-0.031105713918805,-0.165695562958717,0.083697497844696,0.062115579843521,0.117660515010357,-0.045108679682016,0.199543878436089,0.014087229967117,0.063183397054672,0.022758426144719));
res += mul(Get(s3,0,0), float4x4(0.043537117540836,-0.197510927915573,-0.246393486857414,0.178744956851006,0.275263100862503,0.062488332390785,0.194165065884590,-0.169812947511673,0.186379879713058,-0.010022867470980,0.040681224316359,-0.057100441306829,0.010365066118538,-0.041792616248131,0.070540122687817,0.030164398252964));
res += mul(Get(s3,0,dy), float4x4(-0.174156218767166,0.026973098516464,-0.093721039593220,0.159941598773003,0.090008288621902,-0.090535297989845,-0.100851453840733,-0.154417902231216,-0.158861234784126,-0.046708710491657,-0.092016614973545,-0.034965492784977,0.006930671632290,0.110932946205139,0.040809161961079,0.073542721569538));
res += mul(Get(s3,dx,-dy), float4x4(0.403273880481720,0.029648685827851,0.062388315796852,-0.026807187125087,0.003611596068367,0.023646611720324,-0.079729966819286,-0.016262749210000,-0.108685694634914,-0.064820699393749,0.146391123533249,-0.061486974358559,0.104784339666367,0.076384752988815,0.037782616913319,-0.113195210695267));
res += mul(Get(s3,dx,0), float4x4(-0.105145700275898,-0.017446666955948,0.027950389310718,-0.141393899917603,0.050295256078243,-0.079600088298321,0.083424866199493,0.187223047018051,0.022570118308067,-0.122809179127216,0.027761438861489,0.101366057991982,-0.138363778591156,0.185628890991211,-0.127121821045876,-0.129537880420685));
res += mul(Get(s3,dx,dy), float4x4(-0.211444646120071,0.110409684479237,-0.081356689333916,-0.000807620934211,0.136963009834290,-0.129761934280396,0.210657596588135,0.085915684700012,-0.016556465998292,0.013410283252597,0.093628890812397,-0.168634951114655,0.046207293868065,0.054684359580278,-0.002704598940909,0.145332932472229));
return max(float4(0,0,0,0), res);
}
