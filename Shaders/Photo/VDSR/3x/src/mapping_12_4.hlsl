sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.032747637480497,-0.023575359955430,0.051193788647652,-0.091068617999554,0.004761750344187,0.080190747976303,-0.004977242089808,0.113668829202652,0.014277408830822,-0.073171064257622,0.078820675611496,-0.106170527637005,-0.066800527274609,-0.061678685247898,-0.025007575750351,0.006723092868924));
res += mul(Get(s0,-dx,0), float4x4(-0.019440986216068,0.149040549993515,0.055482547730207,-0.122850023210049,0.017351951450109,0.192789971828461,-0.046332385390997,-0.016824828460813,-0.030645510181785,-0.076938651502132,0.063782975077629,-0.094546966254711,-0.162888556718826,-0.014041849412024,-0.070314079523087,0.071768082678318));
res += mul(Get(s0,-dx,dy), float4x4(0.001128242816776,0.002924134954810,0.058296699076891,-0.019491106271744,0.047418687492609,-0.047753948718309,-0.174429088830948,0.194186776876450,0.093489252030849,0.043850399553776,-0.065291620790958,-0.032253134995699,0.051995381712914,0.070493444800377,-0.119513370096684,0.051043380051851));
res += mul(Get(s0,0,-dy), float4x4(0.042541582137346,0.028411049395800,0.007231657858938,-0.031309615820646,0.022386366501451,0.081386484205723,0.038524210453033,0.013725850731134,-0.017754608765244,-0.059972945600748,-0.028870033100247,-0.072444848716259,-0.054235097020864,-0.039731319993734,-0.067986637353897,-0.088424213230610));
res += mul(Get(s0,0,0), float4x4(-0.004052114207298,0.113578438758850,0.128025457262993,-0.098530001938343,-0.044614445418119,-0.023758513852954,-0.041164904832840,-0.069263242185116,0.215930387377739,-0.041354164481163,-0.045149911195040,-0.022896246984601,-0.088715843856335,-0.011093786917627,-0.121333487331867,-0.032084133476019));
res += mul(Get(s0,0,dy), float4x4(-0.060790579766035,0.001761127612554,0.114936254918575,0.074128419160843,0.134301319718361,-0.001080493326299,-0.034100130200386,-0.007018777076155,0.006394005380571,-0.033305760473013,0.204965263605118,0.068821981549263,-0.017382709309459,-0.042943336069584,-0.077370606362820,0.080323010683060));
res += mul(Get(s0,dx,-dy), float4x4(0.025001207366586,0.090712644159794,0.119129262864590,0.069008819758892,0.035994499921799,0.045137256383896,0.029462441802025,0.036824200302362,0.045515540987253,0.029677750542760,0.057407286018133,0.011344238184392,-0.133204877376556,-0.080186508595943,0.005841735284775,-0.117452621459961));
res += mul(Get(s0,dx,0), float4x4(-0.027261102572083,0.078444115817547,0.107092924416065,-0.042321860790253,0.071747198700905,0.004296757280827,-0.067781724035740,0.025363411754370,-0.075221113860607,0.001697169383988,0.078020215034485,-0.102329134941101,-0.012034749612212,0.049435615539551,-0.069939322769642,-0.007994991727173));
res += mul(Get(s0,dx,dy), float4x4(-0.027008336037397,0.091401532292366,-0.069073639810085,0.153848037123680,0.102120459079742,-0.018753813579679,-0.074870653450489,-0.006956292781979,0.109098188579082,0.041219990700483,0.073560193181038,0.000425591046223,-0.006285535171628,0.052285429090261,-0.104980386793613,0.013927966356277));
res += mul(Get(s1,-dx,-dy), float4x4(0.020540174096823,-0.016839038580656,0.025694012641907,0.216274797916412,-0.040124416351318,-0.085061386227608,-0.010752331465483,-0.043197494000196,-0.124969944357872,-0.134135484695435,-0.049967676401138,0.014194631949067,-0.043251629918814,-0.020948655903339,-0.082656338810921,0.045814633369446));
res += mul(Get(s1,-dx,0), float4x4(0.066812321543694,-0.023708496242762,-0.140212133526802,0.140148431062698,-0.136989876627922,-0.111977070569992,0.001932724146172,-0.011891906149685,0.067273885011673,-0.104890480637550,0.110690258443356,-0.056475643068552,0.016678046435118,-0.022393608465791,-0.039114963263273,0.174228608608246));
res += mul(Get(s1,-dx,dy), float4x4(0.031521949917078,0.086263008415699,-0.079460404813290,0.047046322375536,-0.102229237556458,-0.028424935415387,-0.048945076763630,0.005601018201560,-0.052170038223267,0.002785157179460,-0.016020564362407,-0.102711707353592,0.015193271450698,-0.114561267197132,-0.138554513454437,0.068330705165863));
res += mul(Get(s1,0,-dy), float4x4(0.017656834796071,0.134377613663673,0.027937917038798,0.055121045559645,-0.124588519334793,-0.126110330224037,-0.022810498252511,-0.071524575352669,-0.070261284708977,0.005780071485788,0.018742728978395,-0.051602445542812,-0.005926409270614,-0.047678902745247,0.029358996078372,-0.004751577973366));
res += mul(Get(s1,0,0), float4x4(0.066810108721256,-0.010507245548069,-0.044994719326496,-0.014332668855786,-0.059400800615549,0.010800611227751,0.107229188084602,-0.018687371164560,0.020120980218053,-0.101322598755360,0.091169916093349,0.114867024123669,0.040697038173676,-0.055380877107382,0.003976428415626,0.048255413770676));
res += mul(Get(s1,0,dy), float4x4(0.006810351274908,-0.045411169528961,-0.055117662996054,-0.040261480957270,-0.214246243238449,0.046894229948521,-0.123306274414063,-0.016309415921569,0.161601915955544,0.016185248270631,0.073415420949459,-0.034984871745110,0.100803844630718,-0.113659806549549,0.048553582280874,-0.020735148340464));
res += mul(Get(s1,dx,-dy), float4x4(0.087679661810398,0.051825903356075,0.016574095934629,0.058760907500982,-0.079240225255489,-0.194963097572327,0.093434222042561,0.026303725317121,-0.122627116739750,-0.054952196776867,-0.026145199313760,0.004573533777148,-0.069960601627827,0.109372146427631,0.010195435024798,-0.045043367892504));
res += mul(Get(s1,dx,0), float4x4(0.036769554018974,0.071391120553017,0.008380669169128,0.008152568712831,0.011010459624231,-0.126786425709724,-0.018844909965992,-0.011829446069896,-0.112205483019352,0.051167584955692,0.084323763847351,-0.028951600193977,-0.032946072518826,0.056408803910017,-0.142262712121010,-0.004082457628101));
res += mul(Get(s1,dx,dy), float4x4(-0.005603241268545,0.087250381708145,-0.044490981847048,0.000384418119211,-0.193056419491768,-0.018014652654529,-0.017903061583638,0.048314411193132,0.053375862538815,-0.069239147007465,0.069665074348450,0.086168825626373,-0.048747628927231,-0.076370380818844,-0.170370310544968,0.086225137114525));
res += mul(Get(s2,-dx,-dy), float4x4(0.068820796906948,0.038338813930750,0.081167913973331,0.005630905739963,0.051832113415003,-0.042362693697214,0.056338578462601,0.039930321276188,-0.116559080779552,0.039061311632395,0.025058081373572,-0.184802874922752,0.003675171872601,0.058765191584826,-0.013807307928801,-0.074817076325417));
res += mul(Get(s2,-dx,0), float4x4(-0.026042921468616,0.052426539361477,0.083344109356403,0.066338144242764,0.031301975250244,-0.114472880959511,0.065357230603695,0.061593350023031,0.107484519481659,-0.060072131454945,0.051217403262854,-0.034453611820936,-0.005628361832350,-0.032999224960804,-0.074218153953552,-0.011312212795019));
res += mul(Get(s2,-dx,dy), float4x4(0.064681753516197,-0.013368765823543,-0.010845202952623,0.028079081326723,0.097870647907257,0.046262465417385,-0.038457646965981,0.026657866314054,-0.088314875960350,-0.072198577225208,0.161888599395752,-0.071869455277920,-0.092807628214359,-0.089364074170589,-0.074900873005390,-0.050154622644186));
res += mul(Get(s2,0,-dy), float4x4(0.079308912158012,0.090585470199585,0.049544360488653,0.024516347795725,0.026182653382421,0.083852581679821,-0.101917676627636,-0.003000509692356,-0.010177206248045,0.156166180968285,0.019045287743211,0.001871364191175,0.085274256765842,-0.043579943478107,0.086563207209110,0.000017975202354));
res += mul(Get(s2,0,0), float4x4(-0.084961801767349,0.162745848298073,0.120913781225681,0.053576085716486,0.050649899989367,-0.072809569537640,0.163740843534470,0.034088928252459,0.203915610909462,-0.057818554341793,0.120379768311977,0.067648962140083,-0.053123455494642,0.218493014574051,-0.108024515211582,0.026154620572925));
res += mul(Get(s2,0,dy), float4x4(0.009406742639840,0.097605228424072,0.241588652133942,0.077983826398849,-0.066728532314301,0.004229776561260,0.057190313935280,0.014431880787015,-0.098968431353569,-0.051454417407513,-0.053537935018539,0.068050608038902,-0.109668657183647,0.061248231679201,-0.147860318422318,-0.048441223800182));
res += mul(Get(s2,dx,-dy), float4x4(0.030988607555628,0.024458166211843,-0.050733402371407,0.044687315821648,0.041534189134836,-0.007445108611137,-0.003361930605024,0.004757046233863,0.080136671662331,0.026001004502177,0.132000431418419,-0.064145609736443,-0.066186353564262,0.112383358180523,0.073951207101345,0.077173680067062));
res += mul(Get(s2,dx,0), float4x4(-0.018562786281109,0.052357032895088,0.008916862308979,-0.033725298941135,0.083876967430115,-0.110135421156883,0.039385478943586,0.005216831341386,0.052901435643435,0.060799036175013,0.068478390574455,-0.141383856534958,0.051880054175854,0.027212893590331,0.033620763570070,0.038566224277020));
res += mul(Get(s2,dx,dy), float4x4(0.035239376127720,0.057094980031252,0.068588934838772,0.076212070882320,-0.072013571858406,-0.046536736190319,0.067285582423210,0.090916901826859,-0.070398062467575,0.029709199443460,0.057719938457012,-0.072459653019905,-0.061344128102064,-0.043433953076601,0.017952296882868,0.014582204632461));
res += mul(Get(s3,-dx,-dy), float4x4(0.116830065846443,-0.082551732659340,0.006981930695474,0.016920719295740,0.127602621912956,0.035756040364504,-0.044174272567034,-0.077688902616501,-0.150876492261887,-0.110728770494461,0.052545115351677,-0.051949899643660,0.091934755444527,0.070864893496037,0.000409990519984,-0.066864602267742));
res += mul(Get(s3,-dx,0), float4x4(0.027169838547707,0.032460253685713,-0.004869020543993,0.035156466066837,0.169168710708618,-0.011039042845368,-0.010540463030338,0.095578640699387,-0.080079346895218,0.266578078269958,-0.088236711919308,0.008110139518976,-0.012466172687709,0.000596462166868,-0.113023824989796,-0.035019814968109));
res += mul(Get(s3,-dx,dy), float4x4(-0.162473738193512,0.039426095783710,-0.029857037588954,0.003410663921386,-0.094605199992657,0.134690076112747,0.027994686737657,-0.000586522219237,-0.009335738606751,0.060869697481394,0.006704036612064,0.106335386633873,0.049010191112757,-0.033748272806406,-0.110866405069828,0.080635562539101));
res += mul(Get(s3,0,-dy), float4x4(-0.009673929773271,-0.167245134711266,-0.007264780346304,-0.077194839715958,0.060084264725447,-0.036763940006495,0.002721383934841,0.034456450492144,0.000530590477865,-0.065180167555809,-0.056345116347075,-0.048759445548058,0.061876296997070,-0.183629646897316,-0.000934380921535,-0.144487932324409));
res += mul(Get(s3,0,0), float4x4(-0.040937323123217,0.052946545183659,-0.080069757997990,0.001063377014361,0.170993521809578,0.023546118289232,0.249648481607437,0.041798099875450,-0.073528446257114,0.065589293837547,-0.030180163681507,-0.030559340491891,-0.104546196758747,-0.050852362066507,-0.035200100392103,0.012771220877767));
res += mul(Get(s3,0,dy), float4x4(-0.210250079631805,-0.002648969646543,-0.148581326007843,-0.004679798148572,-0.031843233853579,0.108505241572857,0.154836669564247,0.019073843955994,-0.052519399672747,-0.067592941224575,0.027670096606016,0.079525969922543,0.124732688069344,-0.088055349886417,0.073191262781620,0.064212724566460));
res += mul(Get(s3,dx,-dy), float4x4(-0.060777474194765,0.110623240470886,-0.058792445808649,-0.017354661598802,0.005890801548958,0.033030737191439,0.005159812979400,-0.031866915524006,0.035574514418840,-0.098491407930851,-0.126759588718414,-0.053026739507914,0.082886151969433,-0.176503762602806,0.130581989884377,-0.129927575588226));
res += mul(Get(s3,dx,0), float4x4(-0.018526220694184,0.211510986089706,0.018450668081641,0.017329327762127,0.060252368450165,-0.026744265109301,-0.135676190257072,-0.007898553274572,-0.115362606942654,0.012213586829603,-0.059120982885361,-0.096114821732044,0.090391509234905,-0.085810422897339,-0.016420647501945,0.056166108697653));
res += mul(Get(s3,dx,dy), float4x4(-0.149374976754189,0.078961767256260,-0.043738067150116,0.031620617955923,-0.064379401504993,-0.112027809023857,0.059955503791571,0.085201703011990,0.023309830576181,0.016838980838656,-0.008484072051942,0.165361329913139,0.049208883196115,-0.027789471670985,0.148858129978180,0.003712100209668));
return max(float4(0,0,0,0), res);
}
