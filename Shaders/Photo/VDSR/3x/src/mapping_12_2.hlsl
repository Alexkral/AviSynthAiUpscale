sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.046408958733082,-0.083910904824734,0.012808977626264,0.122579321265221,0.048524674028158,-0.008311983197927,-0.129137411713600,-0.039475042372942,0.167814061045647,-0.032981671392918,0.242758497595787,-0.059519041329622,0.056195229291916,0.185803875327110,-0.109730057418346,0.161267548799515));
res += mul(Get(s0,-dx,0), float4x4(-0.000285367044853,0.141779661178589,-0.003173667471856,0.027206441387534,0.074955731630325,0.040528941899538,-0.106378726661205,0.090270385146141,0.052647825330496,0.241464376449585,-0.025198705494404,-0.092627972364426,-0.077148146927357,-0.019613552838564,-0.058001317083836,0.121820382773876));
res += mul(Get(s0,-dx,dy), float4x4(0.014850125648081,-0.137918710708618,-0.008515133522451,-0.030767068266869,0.019493008032441,-0.038732957094908,0.070440672338009,-0.208195134997368,0.248974293470383,0.147463381290436,0.047597929835320,-0.090295016765594,-0.120870918035507,-0.129896223545074,0.089164994657040,0.067218676209450));
res += mul(Get(s0,0,-dy), float4x4(-0.011800043284893,-0.036022610962391,0.127960413694382,0.061115559190512,0.022206850349903,0.009421848692000,-0.220914512872696,-0.107669450342655,0.133971393108368,-0.014323982410133,0.019884228706360,-0.082089506089687,0.141234129667282,-0.018525438383222,-0.013068390078843,0.007606152445078));
res += mul(Get(s0,0,0), float4x4(-0.062042955309153,0.214665666222572,0.070576943457127,0.010660075582564,0.118636809289455,0.093842297792435,0.012073593214154,-0.039499904960394,-0.077815070748329,0.000753853761125,-0.068685412406921,-0.128351375460625,-0.073662690818310,0.003936757333577,-0.033649411052465,0.168920814990997));
res += mul(Get(s0,0,dy), float4x4(-0.014333597384393,-0.105179138481617,0.011141774244606,-0.061258513480425,0.077046349644661,0.112566053867340,0.075449533760548,-0.096720449626446,0.088140539824963,-0.000134861344122,0.018952202051878,-0.017039729282260,-0.168451309204102,-0.095085047185421,-0.024406727403402,0.013326854445040));
res += mul(Get(s0,dx,-dy), float4x4(0.107516862452030,-0.052543714642525,-0.002635412616655,0.068015560507774,0.003103173570707,-0.073880888521671,-0.032865826040506,-0.065077334642410,0.072735071182251,0.051281895488501,-0.040617428719997,-0.000101425524917,-0.073147252202034,-0.070157580077648,0.091524176299572,0.064201913774014));
res += mul(Get(s0,dx,0), float4x4(0.093092069029808,0.129538133740425,0.000889469811227,0.212793737649918,-0.058513533324003,0.116023838520050,-0.009249039925635,-0.007633625064045,-0.019750136882067,0.064743570983410,-0.041315712034702,0.003631444415078,-0.106933057308197,0.039726108312607,0.082960590720177,0.015656655654311));
res += mul(Get(s0,dx,dy), float4x4(-0.025801196694374,-0.015841014683247,0.023375425487757,0.001293812762015,0.054864406585693,0.068753495812416,0.120591558516026,0.057686559855938,0.053443748503923,0.076335646212101,0.038769893348217,0.114517748355865,-0.041460890322924,-0.044575296342373,-0.045006711035967,0.050518345087767));
res += mul(Get(s1,-dx,-dy), float4x4(0.057088781148195,0.047299884259701,0.002382688922808,-0.101596049964428,0.111311487853527,0.132981017231941,0.044311944395304,0.075882978737354,0.009590558707714,0.005442752968520,0.157719567418098,-0.008268905803561,0.264653265476227,-0.117387190461159,0.029174795374274,0.007916701026261));
res += mul(Get(s1,-dx,0), float4x4(-0.075761839747429,0.225343644618988,0.063823223114014,-0.053022120147943,-0.000011974051631,0.008220957592130,-0.114168927073479,0.014940073713660,0.036742266267538,-0.056365784257650,0.126365244388580,-0.038985088467598,0.062596760690212,-0.086084373295307,0.044941850006580,-0.100100636482239));
res += mul(Get(s1,-dx,dy), float4x4(-0.045163087546825,0.151272729039192,-0.003210831666365,0.028350908309221,0.003098206827417,0.012901230715215,0.005806449335068,-0.050363779067993,0.071355260908604,-0.006259941961616,0.040940143167973,0.044728409498930,0.064778216183186,-0.051410507410765,0.091410420835018,-0.019636735320091));
res += mul(Get(s1,0,-dy), float4x4(-0.017589813098311,-0.065545573830605,0.035030052065849,-0.070768952369690,0.133328497409821,-0.052401166409254,0.040520984679461,-0.087328523397446,0.014230905100703,-0.082805238664150,-0.065056398510933,0.160516560077667,0.030087985098362,-0.051121808588505,-0.024231227114797,0.092100843787193));
res += mul(Get(s1,0,0), float4x4(-0.068557143211365,0.010512846522033,0.058888595551252,-0.078562550246716,-0.023710839450359,0.072969347238541,0.076067261397839,0.084296606481075,0.031927600502968,0.010649133473635,-0.029218519106507,-0.117888689041138,-0.057891268283129,0.028626641258597,0.057058487087488,-0.019746532663703));
res += mul(Get(s1,0,dy), float4x4(-0.059634275734425,0.000900722865481,-0.026425195857882,-0.118361614644527,-0.060772128403187,-0.027578409761190,0.020889673382044,0.045404516160488,0.030980244278908,-0.023644085973501,-0.071991585195065,0.045767221599817,-0.000294930010568,-0.032453846186399,0.020093068480492,0.043005481362343));
res += mul(Get(s1,dx,-dy), float4x4(-0.067823544144630,-0.048168685287237,-0.043369390070438,-0.100417114794254,0.170505627989769,-0.002184969838709,0.054347433149815,0.117222636938095,0.198172047734261,0.160863384604454,-0.038433134555817,0.035228382796049,0.090883828699589,-0.110147900879383,-0.055396813899279,0.006242811679840));
res += mul(Get(s1,dx,0), float4x4(0.020224248990417,-0.036983557045460,0.061606567353010,-0.107207693159580,-0.076468609273434,0.068967305123806,0.144169092178345,0.050536155700684,-0.001386402640492,0.029989566653967,-0.093404069542885,0.009486392140388,0.047137603163719,-0.086567997932434,-0.003395319916308,-0.131981894373894));
res += mul(Get(s1,dx,dy), float4x4(-0.037383537739515,-0.103114821016788,0.061341319233179,-0.076105304062366,-0.041494227945805,-0.001833918737248,-0.035432349890471,0.016718477010727,-0.053049467504025,0.085155062377453,-0.023446829989552,0.015962544828653,0.216495528817177,-0.125561624765396,0.024780731648207,-0.053719345480204));
res += mul(Get(s2,-dx,-dy), float4x4(0.007627971936017,0.160152375698090,-0.022403158247471,0.020670313388109,0.090492121875286,0.070207722485065,-0.186375305056572,-0.012377865612507,0.063752770423889,-0.055970396846533,-0.014249050989747,-0.016298739239573,0.129635244607925,0.088260799646378,-0.119105972349644,0.076122060418129));
res += mul(Get(s2,-dx,0), float4x4(0.044053044170141,0.050954338163137,0.018629746511579,-0.155981227755547,-0.005989570170641,0.074176557362080,0.013877762481570,-0.043882425874472,0.063891582190990,-0.002572608878836,0.000468605197966,-0.012674083933234,-0.091039508581161,-0.062791995704174,0.032925754785538,0.039585251361132));
res += mul(Get(s2,-dx,dy), float4x4(-0.029232373461127,0.029252396896482,-0.178611204028130,-0.081115931272507,-0.073212198913097,-0.020468961447477,0.023230152204633,-0.081253074109554,-0.042331639677286,0.108825273811817,0.066593192517757,0.010566299781203,-0.017563868314028,-0.037621796131134,0.039866130799055,0.031037606298923));
res += mul(Get(s2,0,-dy), float4x4(0.035269659012556,0.158857181668282,0.045104429125786,-0.062892057001591,0.049327813088894,-0.091718129813671,0.041620530188084,-0.068399675190449,0.089090324938297,-0.118634350597858,-0.035339374095201,-0.086944267153740,0.095808044075966,0.087150491774082,-0.128083497285843,0.063036628067493));
res += mul(Get(s2,0,0), float4x4(-0.110854573547840,0.032696004956961,0.020255407318473,0.113955222070217,0.029875684529543,-0.049577381461859,-0.008028748445213,-0.105204641819000,-0.110671900212765,-0.031487952917814,-0.007747281342745,-0.076139606535435,-0.031952369958162,0.101738981902599,-0.080525845289230,0.026079697534442));
res += mul(Get(s2,0,dy), float4x4(0.068584747612476,0.009386822581291,-0.072314962744713,-0.004313433542848,-0.087682865560055,-0.113950490951538,0.026117246598005,-0.032922115176916,-0.052463166415691,-0.106381386518478,0.033368647098541,0.104963220655918,-0.001234576920979,-0.094830535352230,-0.073180831968784,-0.011550731956959));
res += mul(Get(s2,dx,-dy), float4x4(-0.021748838946223,-0.004377039149404,0.120846129953861,-0.032954435795546,0.116583533585072,0.033047474920750,-0.071982458233833,0.002097581047565,0.088495656847954,-0.075802750885487,-0.070394508540630,-0.060743622481823,-0.084225058555603,0.050297409296036,0.117315411567688,0.085471995174885));
res += mul(Get(s2,dx,0), float4x4(0.004751346539706,0.057327024638653,0.037443194538355,0.094102561473846,-0.004135742783546,0.056649848818779,-0.001154522993602,-0.078991018235683,-0.011757058091462,-0.154405519366264,-0.012551693245769,-0.046880777925253,-0.193607926368713,0.024716783314943,0.143350362777710,0.056255854666233));
res += mul(Get(s2,dx,dy), float4x4(0.030240865424275,0.034737683832645,0.061579704284668,0.053159829229116,-0.123853780329227,-0.008008137345314,0.073926076292992,0.037007875740528,0.081736892461777,-0.098441295325756,0.004499104339629,-0.083327308297157,0.017998987808824,0.014841529540718,0.073253519833088,-0.039566993713379));
res += mul(Get(s3,-dx,-dy), float4x4(-0.009670916944742,0.134756296873093,0.236505448818207,-0.014883562922478,0.005378063302487,0.007834849879146,-0.042983949184418,0.029305294156075,0.023960178717971,-0.061893381178379,0.000620452978183,0.037999473512173,-0.027796734124422,-0.077499993145466,-0.051385376602411,0.020112069323659));
res += mul(Get(s3,-dx,0), float4x4(-0.027625605463982,0.014394246973097,0.002425913698971,0.071028269827366,-0.053427182137966,-0.055265370756388,-0.079112157225609,-0.044570244848728,0.010086176916957,-0.004800112452358,-0.084436193108559,0.130443707108498,0.068802036345005,-0.090933561325073,-0.071622170507908,-0.103667400777340));
res += mul(Get(s3,-dx,dy), float4x4(-0.042780440300703,-0.041256036609411,-0.025043027475476,0.056118607521057,0.038154315203428,-0.071039021015167,-0.053093075752258,-0.039361950010061,-0.012518398463726,-0.071505315601826,-0.022569231688976,-0.063670843839645,0.083710744976997,0.010698239319026,-0.088989004492760,-0.091209605336189));
res += mul(Get(s3,0,-dy), float4x4(0.045457031577826,-0.002531944075599,-0.058746878057718,0.031545806676149,0.001311165047809,-0.023622462525964,-0.023659467697144,0.052405029535294,0.098463937640190,-0.035914998501539,0.034751512110233,0.044323381036520,-0.061826948076487,0.068432435393333,-0.032248284667730,-0.064536526799202));
res += mul(Get(s3,0,0), float4x4(-0.002632413525134,0.004279416054487,0.011932864785194,0.140236213803291,-0.099611274898052,0.021404357627034,0.067544624209404,0.008799297735095,-0.025487184524536,-0.004317850340158,-0.056469336152077,-0.103012979030609,-0.075018674135208,0.033266916871071,-0.020966377109289,-0.045314233750105));
res += mul(Get(s3,0,dy), float4x4(-0.044062573462725,-0.116998344659805,0.011839256621897,0.019745862111449,-0.099015876650810,0.059891775250435,0.066652692854404,-0.020783187821507,-0.098587028682232,0.013788971118629,0.089964278042316,0.057743865996599,-0.087374478578568,0.124910734593868,0.005957890767604,-0.121487818658352));
res += mul(Get(s3,dx,-dy), float4x4(-0.067970648407936,0.086823657155037,0.018799347802997,0.013157688081264,-0.055739942938089,-0.035692043602467,0.011098071001470,0.174950242042542,0.134333297610283,-0.137270733714104,-0.001862347824499,0.012926110066473,-0.027695350348949,-0.139790311455727,0.280134677886963,-0.092467546463013));
res += mul(Get(s3,dx,0), float4x4(-0.014987945556641,-0.007778697181493,-0.037913955748081,0.027617286890745,-0.048302244395018,-0.019122444093227,0.071739718317986,0.171794116497040,0.119337089359760,-0.037175949662924,-0.017045756801963,0.015701938420534,-0.082854762673378,-0.042942453175783,-0.089720904827118,0.013603539206088));
res += mul(Get(s3,dx,dy), float4x4(-0.071807794272900,-0.161175444722176,-0.052943110466003,-0.047686159610748,-0.004171598237008,-0.053003858774900,0.017769627273083,0.145988345146179,-0.041691608726978,-0.059691682457924,-0.021283410489559,0.054643634706736,0.004912366624922,0.033167432993650,-0.091928891837597,0.048795338720083));
return max(float4(0,0,0,0), res);
}
