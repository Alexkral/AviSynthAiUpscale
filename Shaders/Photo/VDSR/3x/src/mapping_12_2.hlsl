sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.229364976286888,0.057640861719847,-0.128973543643951,-0.173191547393799,-0.132968515157700,-0.078051492571831,0.010283258743584,0.174708381295204,0.136103212833405,0.065577082335949,0.027153110131621,0.024720517918468,-0.067843407392502,-0.153671443462372,-0.021616578102112,0.012628020718694));
res += mul(Get(s0,-dx,0), float4x4(0.027867199853063,0.108893632888794,-0.113990001380444,-0.049478922039270,0.048425618559122,-0.091635987162590,-0.082184188067913,-0.025042509660125,0.036673337221146,-0.055100459605455,-0.019708659499884,0.016236094757915,0.110605455935001,-0.011194386519492,0.007164576090872,0.120676018297672));
res += mul(Get(s0,-dx,dy), float4x4(-0.037863247096539,-0.109901241958141,0.147513464093208,0.033843912184238,-0.039236776530743,-0.034724235534668,0.049708079546690,-0.145383894443512,0.061441246420145,0.000508486002218,-0.027593823149800,0.048734765499830,-0.190654173493385,0.116220936179161,0.075169660151005,0.071816913783550));
res += mul(Get(s0,0,-dy), float4x4(-0.033001277595758,-0.024695826694369,0.015271745622158,-0.232582524418831,0.193194344639778,0.007946777157485,-0.132384717464447,-0.043343275785446,0.100489459931850,-0.117640152573586,-0.109312266111374,-0.066379703581333,-0.033160749822855,-0.175967648625374,-0.077156469225883,-0.074132889509201));
res += mul(Get(s0,0,0), float4x4(0.241625100374222,0.061118159443140,0.042654827237129,-0.009496049955487,-0.013792679645121,0.106405034661293,0.056960619986057,0.039537146687508,0.044394873082638,0.020473932847381,-0.031418845057487,-0.015123953111470,-0.043412856757641,0.044135630130768,0.101657308638096,0.139596328139305));
res += mul(Get(s0,0,dy), float4x4(0.034690614789724,0.095662131905556,0.027710799127817,0.052876193076372,0.024070629850030,-0.094096757471561,0.032162077724934,-0.038420833647251,0.055926021188498,0.020608810707927,0.081359103322029,0.034058719873428,0.049482531845570,0.051421340554953,-0.073798596858978,-0.006065141875297));
res += mul(Get(s0,dx,-dy), float4x4(-0.006451837718487,-0.100293301045895,0.002129142871127,-0.132088989019394,-0.083670608699322,-0.063493192195892,-0.120409250259399,0.142597898840904,-0.033142339438200,-0.122079350054264,-0.085979111492634,-0.174122929573059,0.033170279115438,0.087913550436497,-0.023328505456448,-0.162161126732826));
res += mul(Get(s0,dx,0), float4x4(-0.049378581345081,-0.046264443546534,-0.005319845397025,0.036053605377674,0.124992452561855,-0.043221648782492,-0.008689486421645,0.081092663109303,-0.025960016995668,0.036474388092756,-0.127280145883560,0.015532875433564,-0.166004896163940,-0.021201286464930,0.395048767328262,0.061850674450397));
res += mul(Get(s0,dx,dy), float4x4(-0.172222331166267,0.029041830450296,0.015861477702856,0.032669842243195,0.008438505232334,0.104718200862408,0.150475278496742,0.036784540861845,-0.084013693034649,-0.166080534458160,0.066204562783241,0.052326459437609,0.241406619548798,0.166735991835594,0.102174058556557,0.101702250540257));
res += mul(Get(s1,-dx,-dy), float4x4(0.168612405657768,0.021686637774110,0.080342747271061,0.170560434460640,0.063713259994984,-0.052710592746735,0.126829892396927,0.082630492746830,-0.122733421623707,0.088660545647144,-0.213155329227448,0.035232134163380,0.015618859790266,0.119576305150986,-0.099456287920475,0.039047442376614));
res += mul(Get(s1,-dx,0), float4x4(0.039438489824533,0.171588331460953,-0.032941993325949,0.234858110547066,0.076890110969543,0.008205822668970,-0.280589610338211,-0.049066867679358,0.092208974063396,-0.121662341058254,-0.065599836409092,-0.158435150980949,0.017389891669154,-0.034490421414375,-0.099559836089611,-0.183279335498810));
res += mul(Get(s1,-dx,dy), float4x4(0.058271188288927,-0.045557919889688,0.115071848034859,0.209099128842354,-0.064072526991367,-0.240250989794731,-0.063960120081902,-0.005483076442033,-0.007379491813481,-0.028183609247208,-0.007979653775692,0.050041507929564,-0.058745451271534,-0.028724445030093,-0.042844362556934,0.017610786482692));
res += mul(Get(s1,0,-dy), float4x4(0.035906106233597,-0.273362189531326,-0.218203425407410,-0.267631500959396,-0.109457567334175,-0.284440875053406,0.049148075282574,-0.042391419410706,0.039457120001316,-0.000508600962348,-0.207710444927216,-0.122743040323257,-0.097326055169106,-0.006774449720979,-0.046152763068676,0.050582122057676));
res += mul(Get(s1,0,0), float4x4(0.116505876183510,-0.036409854888916,0.059378493577242,0.148124113678932,0.107104137539864,0.002180100884289,-0.019275005906820,-0.174529522657394,-0.184238880872726,-0.100956864655018,-0.150184407830238,0.118533305823803,-0.146425217390060,-0.158798560500145,-0.008047133684158,0.133878424763680));
res += mul(Get(s1,0,dy), float4x4(-0.121798761188984,0.018057359382510,-0.044435709714890,-0.129157602787018,-0.170694440603256,-0.004923656117171,-0.070679374039173,0.123618781566620,-0.089875020086765,0.134629786014557,-0.227168276906013,-0.021183848381042,0.077751532196999,0.021170184016228,0.001013331464492,-0.073052093386650));
res += mul(Get(s1,dx,-dy), float4x4(0.098969735205173,0.049738388508558,-0.012970414943993,0.029738729819655,-0.033689424395561,-0.032325088977814,-0.102286994457245,-0.075352557003498,-0.256109207868576,-0.149257600307465,-0.049655724316835,0.025653289631009,-0.014421129599214,0.073307126760483,-0.099387049674988,-0.037634972482920));
res += mul(Get(s1,dx,0), float4x4(-0.049579281359911,0.030531384050846,0.007467894349247,-0.032131355255842,-0.079807683825493,0.022666120901704,0.081386581063271,-0.028817664831877,-0.068698018789291,0.028151307255030,-0.098715938627720,-0.051670193672180,0.005910299252719,0.158591493964195,0.016943631693721,0.085949152708054));
res += mul(Get(s1,dx,dy), float4x4(-0.197744593024254,0.029052821919322,0.140058398246765,-0.020724922418594,0.045844003558159,0.109383173286915,-0.075095519423485,-0.082508593797684,-0.002802893985063,0.092917524278164,0.037435326725245,0.096738055348396,0.122773036360741,0.271326541900635,0.207966864109039,0.140028879046440));
res += mul(Get(s2,-dx,-dy), float4x4(0.015868645161390,0.078135758638382,0.113089159131050,-0.050831958651543,0.145694732666016,-0.110075145959854,0.095066696405411,-0.001557421870530,-0.001708872267045,0.097739644348621,-0.023079710081220,0.125840350985527,0.204891651868820,0.097618922591209,-0.022905671969056,0.225322470068932));
res += mul(Get(s2,-dx,0), float4x4(0.026546908542514,-0.281843781471252,0.049495317041874,0.021689713001251,0.125401347875595,-0.070137113332748,0.211359620094299,0.009484412148595,-0.008140152320266,-0.078396327793598,0.044953711330891,0.215066492557526,0.082401521503925,0.034425180405378,-0.110933765769005,0.030969414860010));
res += mul(Get(s2,-dx,dy), float4x4(0.191700607538223,0.114221200346947,-0.016539150848985,-0.005563631653786,0.118107065558434,-0.061285536736250,-0.023717563599348,0.039301849901676,-0.193832129240036,0.134748116135597,0.175062328577042,0.058140497654676,-0.047312472015619,0.245542019605637,-0.137568131089211,-0.097578570246696));
res += mul(Get(s2,0,-dy), float4x4(0.095309890806675,0.106428079307079,0.092544831335545,-0.095958337187767,0.061555329710245,-0.055911991745234,0.038348238915205,0.237430408596992,0.219699457287788,-0.145782962441444,-0.061251647770405,0.178685516119003,-0.201649203896523,0.141910627484322,-0.069059751927853,0.213684126734734));
res += mul(Get(s2,0,0), float4x4(0.139220252633095,0.153133884072304,-0.094511650502682,0.024682778865099,0.049718964844942,0.014699784107506,-0.143265545368195,-0.051857553422451,-0.026237586513162,0.062363032251596,-0.087231285870075,0.008663034066558,0.142234832048416,0.037744496017694,-0.055631663650274,0.001287581631914));
res += mul(Get(s2,0,dy), float4x4(0.051853299140930,0.057675931602716,-0.113752119243145,0.066605433821678,-0.002040130551904,0.051400277763605,-0.020296897739172,-0.028088608756661,0.037598628550768,-0.150678306818008,-0.089129060506821,-0.060612134635448,0.164385095238686,0.095210753381252,0.021441128104925,-0.097088143229485));
res += mul(Get(s2,dx,-dy), float4x4(-0.024596294388175,0.071315266191959,0.089052520692348,0.151404216885567,0.025415223091841,-0.155486881732941,0.050027556717396,0.051346234977245,0.149514451622963,0.085663989186287,-0.024876527488232,0.134609967470169,-0.296169430017471,0.191883146762848,0.125236704945564,-0.028129355981946));
res += mul(Get(s2,dx,0), float4x4(0.025258509442210,-0.071941047906876,0.084736756980419,-0.280071109533310,0.192089632153511,0.064642556011677,-0.017835469916463,0.123568996787071,-0.028214532881975,-0.022849788889289,0.090503297746181,-0.026241730898619,0.220133855938911,0.032037235796452,0.010391079820693,-0.098444126546383));
res += mul(Get(s2,dx,dy), float4x4(-0.016777034848928,-0.057630799710751,-0.090922616422176,0.068913094699383,0.132668003439903,0.176094293594360,0.005518401507288,0.174739465117455,-0.188753023743629,0.046844102442265,-0.132773056626320,0.059988088905811,0.106880761682987,0.197856158018112,0.072754554450512,-0.148276388645172));
res += mul(Get(s3,-dx,-dy), float4x4(-0.026293739676476,-0.173908144235611,-0.016911715269089,-0.197059065103531,0.234602257609367,0.060732774436474,-0.014997426420450,-0.093025200068951,-0.022522812709212,0.001529467524961,-0.183645486831665,0.073453217744827,-0.038889594376087,-0.119450360536575,0.058604411780834,-0.092661403119564));
res += mul(Get(s3,-dx,0), float4x4(-0.031450737267733,0.034663330763578,-0.159352868795395,0.064601294696331,-0.008512265980244,0.131355971097946,-0.102235518395901,0.150067761540413,-0.069436959922314,-0.020852992311120,0.199258580803871,-0.163834691047668,0.078778646886349,-0.000954391725827,-0.014935686253011,-0.086726024746895));
res += mul(Get(s3,-dx,dy), float4x4(0.047369018197060,-0.098414584994316,-0.129938632249832,-0.027796514332294,-0.063216224312782,-0.046077691018581,-0.036378081887960,-0.231360793113708,0.055869624018669,0.114376299083233,-0.055773537606001,-0.138271570205688,-0.075341746211052,-0.031703304499388,-0.097266882658005,-0.091973438858986));
res += mul(Get(s3,0,-dy), float4x4(0.133870065212250,-0.013865940272808,-0.087129816412926,-0.148035585880280,-0.065210528671741,0.117225445806980,0.140971243381500,0.026845358312130,0.061882071197033,-0.035638898611069,0.047808982431889,-0.043874006718397,-0.206762731075287,-0.065656356513500,-0.184113562107086,-0.067143984138966));
res += mul(Get(s3,0,0), float4x4(-0.045260224491358,-0.130181685090065,0.150203481316566,-0.061044298112392,-0.094596251845360,-0.028252832591534,-0.062286987900734,0.140502288937569,0.041904751211405,0.052146457135677,0.067293226718903,-0.132130399346352,0.043259371072054,-0.137861192226410,0.011818205937743,-0.071174934506416));
res += mul(Get(s3,0,dy), float4x4(0.110916398465633,-0.090396486222744,0.089701406657696,-0.011308525688946,-0.031803209334612,0.048844855278730,0.022100478410721,-0.000067030501668,0.023791396990418,-0.036127831786871,0.007138118147850,0.040278859436512,0.065480642020702,0.080431364476681,0.027291702106595,0.040069416165352));
res += mul(Get(s3,dx,-dy), float4x4(0.188443139195442,-0.259225577116013,0.090189360082150,0.052568800747395,-0.023760965093970,-0.066444173455238,-0.014393832534552,-0.111291550099850,-0.154158875346184,0.084651827812195,-0.039161942899227,0.026631833985448,-0.007023378275335,0.087782345712185,0.060676269233227,-0.060664951801300));
res += mul(Get(s3,dx,0), float4x4(-0.009329266846180,-0.067443899810314,0.146500095725060,0.083230383694172,0.064924031496048,-0.057673022150993,-0.030101545155048,-0.243511706590652,-0.112284883856773,0.081522792577744,0.073633484542370,-0.055759374052286,-0.012826287187636,-0.068471580743790,-0.111009553074837,-0.084454692900181));
res += mul(Get(s3,dx,dy), float4x4(0.074474230408669,-0.140291810035706,0.024000877514482,-0.103244423866272,0.045049238950014,0.005708330776542,-0.059406410902739,-0.040115170180798,0.145660698413849,-0.009354895912111,0.100267745554447,-0.224549278616905,0.044531304389238,0.135920479893684,0.171576038002968,-0.086313471198082));
return max(float4(0,0,0,0), res);
}
