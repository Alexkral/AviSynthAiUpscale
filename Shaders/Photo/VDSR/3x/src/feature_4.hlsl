sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.133330285549164,0.000060894733906,-0.000016611600586,-0.000000132404352) * Get(-dx,-dy);
res += float4(0.058296624571085,-0.000043931955588,-0.000002457415576,-0.000010500515600) * Get(-dx,0);
res += float4(-0.435038298368454,-0.000073531024100,-0.000010063309674,0.000001480063133) * Get(-dx,dy);
res += float4(0.289940446615219,0.000030965609767,-0.000000421238695,-0.000001267863581) * Get(0,-dy);
res += float4(0.088143222033978,-0.000073982177128,0.000012001777577,0.000001810795425) * Get(0,0);
res += float4(-0.575628280639648,-0.000071378904977,-0.000014931600163,-0.000018006932805) * Get(0,dy);
res += float4(0.258832395076752,0.000028797494451,-0.000008474764400,-0.000022209331291) * Get(dx,-dy);
res += float4(0.145426511764526,-0.000018643371732,-0.000030165158023,-0.000006700561698) * Get(dx,0);
res += float4(-0.473215520381927,-0.000021905234462,-0.000010756502888,-0.000015010810785) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
