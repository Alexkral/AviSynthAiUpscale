sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.105127461254597,0.182132184505463,0.094228923320770,-0.249638646841049) * Get(-dx,-dy);
res += float4(-0.054894156754017,0.075305290520191,-0.016583101823926,0.153228759765625) * Get(-dx,0);
res += float4(-0.180252775549889,-0.206110104918480,-0.047104261815548,0.149970665574074) * Get(-dx,dy);
res += float4(0.015268092043698,-0.048286195844412,-0.188098371028900,-0.056987684220076) * Get(0,-dy);
res += float4(0.349542260169983,-0.013601704500616,-0.017402337864041,0.522338926792145) * Get(0,0);
res += float4(0.001578581868671,-0.118032775819302,-0.243413895368576,0.076014012098312) * Get(0,dy);
res += float4(-0.257422000169754,0.054510194808245,-0.025072544813156,-0.066630877554417) * Get(dx,-dy);
res += float4(0.109774790704250,-0.099288560450077,0.010282333008945,0.084719657897949) * Get(dx,0);
res += float4(0.105284251272678,-0.140840351581573,-0.115559414029121,-0.300133854150772) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
