sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.060336936265230,0.119607761502266,-0.176180213689804,0.119075812399387,0.042379222810268,0.066168606281281,-0.143065214157104,-0.004734441172332,-0.012978915125132,0.110490977764130,-0.101899713277817,-0.039769541472197,0.131365194916725,0.008536536246538,-0.221784725785255,0.111699469387531));
res += mul(Get(s0,-dx,0), float4x4(0.016078829765320,-0.108404859900475,-0.027621330693364,-0.064394637942314,-0.090348720550537,0.127122446894646,0.071513481438160,0.028346570208669,-0.088508568704128,0.054815817624331,-0.063305906951427,-0.162272453308105,-0.036837551742792,0.192456349730492,0.023108847439289,0.028283193707466));
res += mul(Get(s0,-dx,dy), float4x4(-0.151594296097755,-0.086877673864365,0.070138148963451,0.044037859886885,0.012776159681380,0.074471607804298,0.021156024187803,-0.027616770938039,-0.083625495433807,-0.132826551795006,0.113164611160755,0.024584259837866,0.027751078829169,-0.115462847054005,-0.026614261791110,0.071205779910088));
res += mul(Get(s0,0,-dy), float4x4(0.203329205513000,-0.027056165039539,-0.036915667355061,-0.056135166436434,0.050082884728909,0.139816164970398,-0.128004536032677,-0.213077336549759,-0.181811124086380,0.106701269745827,-0.012477651238441,-0.068166211247444,0.074265487492085,0.127587348222733,0.075439117848873,-0.074857927858829));
res += mul(Get(s0,0,0), float4x4(0.082997418940067,-0.018203891813755,0.008121374994516,0.191953077912331,0.120136342942715,-0.106342248618603,0.102728217840195,-0.009927136823535,-0.035561110824347,0.071439899504185,-0.003889192594215,-0.053667571395636,-0.101231783628464,0.157874584197998,0.007117051165551,-0.024220382794738));
res += mul(Get(s0,0,dy), float4x4(0.027900286018848,0.121511735022068,-0.152766644954681,0.188561782240868,0.126708000898361,0.130340605974197,0.128317967057228,-0.074182607233524,-0.038264121860266,-0.169656559824944,-0.090040154755116,0.032675780355930,0.032187756150961,-0.034425210207701,0.076695151627064,0.053152404725552));
res += mul(Get(s0,dx,-dy), float4x4(0.092571258544922,-0.055947028100491,-0.177118659019470,-0.014843116514385,0.238444432616234,0.034659575670958,0.061869040131569,0.017737077549100,-0.073952950537205,0.006941445637494,-0.083297960460186,0.170021310448647,-0.084547132253647,-0.248914733529091,-0.078876487910748,-0.209950387477875));
res += mul(Get(s0,dx,0), float4x4(-0.230299204587936,-0.055589310824871,-0.117239691317081,0.132596716284752,0.093717038631439,0.026420233771205,0.030085468664765,-0.105919636785984,-0.147388353943825,-0.055059496313334,-0.081165097653866,-0.004630679264665,-0.012404167093337,-0.196524232625961,0.171323001384735,-0.126171112060547));
res += mul(Get(s0,dx,dy), float4x4(-0.165716990828514,0.028120577335358,-0.132177710533142,0.068026021122932,0.084765359759331,-0.097198821604252,0.042216368019581,-0.009797174483538,-0.057093672454357,-0.022820418700576,0.117830127477646,-0.056171193718910,-0.085334978997707,0.022351488471031,0.236406728625298,-0.067576177418232));
res += mul(Get(s1,-dx,-dy), float4x4(0.058653753250837,-0.054942272603512,-0.106854774057865,0.053452800959349,-0.035360619425774,0.048570375889540,0.060995861887932,0.160995796322823,-0.137971386313438,0.090430743992329,0.034787453711033,0.146676510572433,0.034673247486353,0.046267662197351,-0.035914015024900,-0.060600567609072));
res += mul(Get(s1,-dx,0), float4x4(-0.037022098898888,0.001176116871648,-0.061446525156498,-0.080611877143383,0.031877476722002,-0.091203428804874,0.030469948425889,0.014809326268733,0.025719590485096,-0.024072807282209,0.119362197816372,-0.060601618140936,0.138183489441872,-0.118569791316986,-0.032240130007267,0.000505997042637));
res += mul(Get(s1,-dx,dy), float4x4(0.135638713836670,-0.141855642199516,-0.110437929630280,-0.020097501575947,0.057412285357714,0.130547180771828,0.073535628616810,0.093000069260597,-0.061904694885015,-0.073333032429218,-0.089921332895756,-0.055929396301508,0.139826685190201,-0.033014755696058,0.050391197204590,-0.073718786239624));
res += mul(Get(s1,0,-dy), float4x4(-0.150019466876984,-0.017246676608920,0.025819215923548,0.002895191544667,-0.001116655184887,-0.033442925661802,0.043756108731031,-0.077563971281052,-0.068206496536732,-0.025749357417226,0.057623013854027,-0.097477860748768,-0.080232426524162,0.096864566206932,0.047867972403765,-0.062303099781275));
res += mul(Get(s1,0,0), float4x4(0.138520359992981,-0.030761683359742,-0.081311225891113,0.004184520337731,-0.005261349491775,-0.074146084487438,-0.002252491191030,-0.049173805862665,-0.067081488668919,-0.070861130952835,0.037908714264631,-0.051733888685703,-0.018735336139798,0.011139496229589,0.049244269728661,0.220042273402214));
res += mul(Get(s1,0,dy), float4x4(0.082540094852448,0.080493450164795,-0.126282230019569,-0.071986012160778,-0.213354200124741,0.019003810361028,0.010737329721451,-0.110481575131416,0.195774585008621,0.191711574792862,-0.212721586227417,0.085048310458660,-0.027499642223120,0.035739626735449,-0.071184046566486,0.081221267580986));
res += mul(Get(s1,dx,-dy), float4x4(-0.009457783773541,-0.189897656440735,0.051192939281464,0.201373338699341,-0.118909023702145,0.035980515182018,-0.097968541085720,-0.159903720021248,-0.020928643643856,0.051992546766996,-0.047323409467936,0.128759816288948,-0.105578944087029,-0.051796004176140,-0.002560412511230,-0.078242182731628));
res += mul(Get(s1,dx,0), float4x4(-0.104730732738972,-0.285064369440079,-0.052222393453121,-0.071902967989445,-0.066390626132488,-0.072761774063110,0.079701855778694,-0.044760774821043,0.032021481543779,0.019283337518573,-0.139563694596291,0.000473681866424,-0.202146098017693,-0.061490681022406,0.116630665957928,0.001010938663967));
res += mul(Get(s1,dx,dy), float4x4(0.065393581986427,0.008663864806294,-0.285414159297943,0.073196314275265,-0.110550887882710,-0.146895796060562,0.045571599155664,-0.303067862987518,-0.046161878854036,0.126934215426445,0.097217082977295,0.025976315140724,-0.015250496566296,0.014373068697751,0.141047984361649,0.139839321374893));
res += mul(Get(s2,-dx,-dy), float4x4(0.075982332229614,0.159507945179939,-0.077561505138874,-0.014777017757297,0.074282810091972,0.129869297146797,-0.053529322147369,-0.125104308128357,-0.057760011404753,-0.152681782841682,-0.043276142328978,0.041930619627237,0.164079084992409,0.147018730640411,0.162640690803528,0.205858111381531));
res += mul(Get(s2,-dx,0), float4x4(0.004726486746222,0.163380026817322,0.054048396646976,0.013922408223152,-0.091737188398838,0.142950609326363,0.065508313477039,0.032155822962523,0.047132089734077,-0.164881870150566,-0.066645286977291,-0.073508910834789,-0.024944407865405,-0.126478239893913,0.088381581008434,-0.098512589931488));
res += mul(Get(s2,-dx,dy), float4x4(0.111526861786842,0.041023172438145,-0.122238822281361,-0.093157060444355,0.018399391323328,-0.134461671113968,-0.111880585551262,0.020663108676672,-0.031443689018488,-0.132500007748604,0.097832471132278,-0.074160695075989,-0.042938865721226,-0.005396376829594,0.015620883554220,0.030283503234386));
res += mul(Get(s2,0,-dy), float4x4(0.051246497780085,0.058409456163645,-0.143137305974960,-0.058387290686369,-0.158771291375160,0.042606372386217,-0.185681700706482,-0.037037942558527,-0.350624710321426,0.054666101932526,0.094204492866993,-0.014713816344738,0.004462901037186,0.145522445440292,0.145534440875053,0.099571436643600));
res += mul(Get(s2,0,0), float4x4(0.148540228605270,-0.031215732917190,-0.079844832420349,0.028507079929113,-0.020899517461658,0.061976738274097,0.101905949413776,-0.028033757582307,-0.210229232907295,0.166422411799431,-0.129896983504295,-0.067017212510109,-0.120115175843239,-0.179351270198822,0.166458114981651,0.111854352056980));
res += mul(Get(s2,0,dy), float4x4(-0.056444063782692,-0.003200290491804,0.175248399376869,-0.049287788569927,0.005736306775361,0.014296307228506,0.013428241014481,-0.127263396978378,0.018744276836514,-0.152883291244507,0.122353330254555,0.070531286299229,-0.027293374761939,-0.080935105681419,-0.217107668519020,0.043580520898104));
res += mul(Get(s2,dx,-dy), float4x4(-0.116920426487923,-0.158528059720993,0.004451598972082,0.123691111803055,0.038215145468712,0.085565157234669,-0.048611197620630,-0.034895870834589,-0.109794579446316,-0.025041710585356,0.152569249272346,0.026449616998434,-0.160044357180595,0.059645939618349,0.160468116402626,-0.092719353735447));
res += mul(Get(s2,dx,0), float4x4(0.039010632783175,-0.070171557366848,0.123874686658382,0.149963542819023,-0.017689641565084,-0.143711373209953,0.091062456369400,0.120536029338837,0.017326915636659,0.043524935841560,-0.104289621114731,-0.080523461103439,-0.115111075341702,0.102562665939331,0.130995944142342,0.244133889675140));
res += mul(Get(s2,dx,dy), float4x4(0.027908343821764,0.167667746543884,0.042644914239645,0.112144604325294,0.129192948341370,0.233550995588303,-0.004824555013329,-0.025802103802562,0.158064857125282,-0.094102375209332,-0.040249541401863,0.208747088909149,-0.294689357280731,0.035607125610113,0.015216051600873,0.058995854109526));
res += mul(Get(s3,-dx,-dy), float4x4(-0.048094794154167,-0.015551016665995,0.167109385132790,0.090454153716564,-0.057462498545647,0.089798249304295,-0.095012299716473,-0.046095695346594,0.013496579602361,-0.278962343931198,-0.035893581807613,0.021580694243312,0.149630367755890,0.009230173192918,0.090363338589668,0.025300461798906));
res += mul(Get(s3,-dx,0), float4x4(-0.172610446810722,0.133578538894653,-0.106915451586246,0.005875521805137,-0.068920597434044,-0.131738349795341,-0.217195779085159,-0.098886087536812,0.123557992279530,0.016638342291117,-0.059222679585218,0.013045343570411,0.155069246888161,-0.120184943079948,0.001187312183902,0.127435743808746));
res += mul(Get(s3,-dx,dy), float4x4(-0.008250714279711,-0.109663374722004,-0.189396798610687,0.115675888955593,-0.072588473558426,0.042084526270628,0.033109713345766,-0.030833885073662,0.060528583824635,-0.000984522514045,0.023107359185815,0.065584912896156,-0.083877339959145,0.094930358231068,-0.077923052012920,0.089822016656399));
res += mul(Get(s3,0,-dy), float4x4(-0.117084771394730,0.086723826825619,0.086211875081062,0.086412437260151,0.015587169677019,-0.091494105756283,-0.104263350367546,0.016586255282164,-0.062565401196480,0.233358010649681,0.055428739637136,0.132669612765312,-0.302755683660507,0.292415589094162,-0.085557542741299,0.162812203168869));
res += mul(Get(s3,0,0), float4x4(-0.027816189453006,0.075138404965401,-0.012822715565562,-0.122071400284767,-0.059111695736647,-0.123801730573177,0.128981024026871,-0.151051044464111,0.047698237001896,0.055110625922680,-0.020810512825847,-0.052534300833941,0.045562677085400,-0.085936881601810,-0.039614308625460,-0.034564379602671));
res += mul(Get(s3,0,dy), float4x4(0.099469184875488,0.034344691783190,0.067783050239086,0.096504718065262,0.012993613258004,-0.000166072146385,0.171358481049538,-0.041584055870771,0.036985583603382,0.107889726758003,0.027316041290760,-0.089497596025467,0.113636359572411,-0.062779240310192,-0.241098716855049,-0.013554666191339));
res += mul(Get(s3,dx,-dy), float4x4(-0.008123246021569,0.233792901039124,0.000630668771919,-0.189849197864532,-0.079496398568153,0.018066439777613,-0.087549120187759,-0.156441763043404,-0.029677061364055,-0.029804108664393,0.107395388185978,-0.157009467482567,-0.117516554892063,0.077481769025326,0.232551619410515,0.152394980192184));
res += mul(Get(s3,dx,0), float4x4(-0.125689923763275,0.066312596201897,0.126580595970154,-0.124061271548271,-0.177726536989212,-0.006880771368742,-0.060366548597813,-0.111974723637104,-0.067756704986095,0.005920704454184,-0.180910602211952,-0.145679771900177,0.074068978428841,-0.052754979580641,0.028243370354176,0.011430433951318));
res += mul(Get(s3,dx,dy), float4x4(0.157140433788300,-0.053948789834976,-0.043833561241627,0.125313848257065,0.037920117378235,-0.038785677403212,-0.069769971072674,-0.013388541527092,0.060464698821306,-0.046910990029573,-0.133920997381210,-0.049860317260027,0.039916027337313,0.136377930641174,0.135742902755737,-0.009240975603461));
return max(float4(0,0,0,0), res);
}
