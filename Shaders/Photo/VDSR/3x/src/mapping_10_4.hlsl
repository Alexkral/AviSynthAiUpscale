sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.112244836986065,0.088222131133080,-0.046735916286707,-0.054825171828270,-0.104553870856762,-0.044566143304110,-0.245875224471092,-0.031421262770891,0.022277215495706,-0.120053358376026,0.085727453231812,-0.107695743441582,-0.043728973716497,-0.034462168812752,0.139450967311859,0.106111183762550));
res += mul(Get(s0,-dx,0), float4x4(-0.130695968866348,-0.042183849960566,0.078477591276169,-0.116508819162846,0.030105954036117,0.044579491019249,0.041789166629314,-0.192569196224213,-0.021153299137950,-0.306624352931976,0.088616602122784,-0.131053507328033,0.119088985025883,-0.096035316586494,0.068033456802368,0.102715730667114));
res += mul(Get(s0,-dx,dy), float4x4(-0.142167046666145,0.216575130820274,0.047489907592535,-0.247611701488495,0.113901920616627,-0.133352860808372,0.023457795381546,0.057474125176668,0.104752972722054,-0.089063718914986,0.078136563301086,0.022982584312558,-0.028237469494343,0.046256590634584,0.067498564720154,0.096053235232830));
res += mul(Get(s0,0,-dy), float4x4(-0.055717006325722,-0.000310666830046,0.029275013133883,-0.011694709770381,0.045804679393768,0.320565700531006,-0.028805861249566,0.098091103136539,-0.004634391050786,-0.140328660607338,0.283019989728928,-0.005173058249056,-0.041457407176495,0.147199541330338,0.076548129320145,0.069393530488014));
res += mul(Get(s0,0,0), float4x4(0.072220183908939,-0.027107210829854,-0.112937971949577,-0.028632037341595,0.174306511878967,0.116115957498550,0.047881852835417,-0.026543196290731,-0.093589544296265,0.041823100298643,-0.182183250784874,-0.104148596525192,0.046976216137409,0.055404085665941,0.076763220131397,-0.114662081003189));
res += mul(Get(s0,0,dy), float4x4(0.062051314860582,-0.239900395274162,-0.205289572477341,-0.010799321345985,-0.109387323260307,-0.144679084420204,0.105686984956264,-0.069521449506283,0.083008699119091,0.060645606368780,0.034258928149939,-0.024283921346068,0.171302616596222,-0.052469778805971,-0.047108512371778,0.164272934198380));
res += mul(Get(s0,dx,-dy), float4x4(-0.079320684075356,0.095073245465755,-0.084284320473671,-0.114722035825253,-0.114843025803566,0.112048901617527,0.305295765399933,-0.111525192856789,0.062741793692112,0.073672734200954,-0.204291611909866,-0.013200227171183,0.044090192764997,0.153284117579460,0.101374641060829,-0.058906208723783));
res += mul(Get(s0,dx,0), float4x4(-0.107816293835640,0.073026217520237,0.121855095028877,0.014271927997470,-0.083511851727962,0.139266088604927,-0.106130026280880,0.073021888732910,-0.026410974562168,-0.056053720414639,0.233112066984177,-0.014966188929975,0.077482856810093,-0.033035967499018,-0.046544577926397,0.043609492480755));
res += mul(Get(s0,dx,dy), float4x4(-0.101899206638336,0.140190869569778,-0.098470084369183,-0.167813286185265,0.258672237396240,-0.060248807072639,0.065761804580688,0.160338774323463,-0.061970267444849,-0.013198768720031,-0.142691358923912,0.105919271707535,0.088067576289177,0.066544376313686,-0.100851103663445,0.085466355085373));
res += mul(Get(s1,-dx,-dy), float4x4(0.045058075338602,-0.016851115971804,-0.042493171989918,-0.027566317468882,-0.068723812699318,-0.012371314689517,-0.053701821714640,-0.001482865074649,-0.102124959230423,0.108359813690186,-0.057372558861971,-0.093604929745197,0.205902308225632,0.174007892608643,-0.029628841206431,-0.250277727842331));
res += mul(Get(s1,-dx,0), float4x4(0.097194835543633,-0.089185349643230,-0.009756180457771,-0.199625596404076,-0.081379055976868,0.006228821352124,-0.085299834609032,-0.077353067696095,-0.048154603689909,0.197389930486679,-0.044615574181080,-0.227150768041611,-0.085434123873711,0.003629558719695,-0.024899117648602,-0.066980123519897));
res += mul(Get(s1,-dx,dy), float4x4(-0.054215274751186,0.005239428486675,-0.174079358577728,-0.207829222083092,0.008403383195400,-0.080694586038589,-0.070718914270401,0.009819985367358,0.002567418385297,0.064339265227318,-0.042025931179523,-0.179021239280701,-0.042875569313765,-0.062069665640593,0.259788513183594,0.045364115387201));
res += mul(Get(s1,0,-dy), float4x4(0.007780947722495,0.039632610976696,0.181773170828819,0.079271063208580,0.052053250372410,0.112449757754803,-0.020654074847698,-0.041301820427179,-0.096300885081291,-0.108278401196003,-0.037422183901072,0.111674107611179,-0.034502882510424,0.124370485544205,0.083519309759140,0.195642873644829));
res += mul(Get(s1,0,0), float4x4(-0.075660839676857,-0.038589131087065,-0.053632669150829,0.070533052086830,-0.062005415558815,0.081579305231571,-0.115665264427662,0.097586214542389,0.111051015555859,-0.094772800803185,0.137854352593422,-0.150965869426727,-0.081419855356216,-0.212771624326706,0.192857816815376,0.168595269322395));
res += mul(Get(s1,0,dy), float4x4(-0.053900014609098,-0.083041340112686,0.136891305446625,-0.147113785147667,0.043910846114159,-0.140106990933418,0.077300772070885,-0.033173482865095,-0.031588111072779,-0.119627125561237,0.018045464530587,-0.086416132748127,0.241214990615845,-0.027927683666348,0.095583014190197,0.040292497724295));
res += mul(Get(s1,dx,-dy), float4x4(-0.015468968078494,0.107241660356522,0.072772800922394,0.027245396748185,-0.019237050786614,-0.006520167924464,0.122563973069191,-0.011231632903218,-0.103018090128899,-0.139638513326645,0.032858274877071,0.011027549393475,-0.030801586806774,-0.014928922057152,0.032305862754583,-0.238766998052597));
res += mul(Get(s1,dx,0), float4x4(-0.109269395470619,0.015347498469055,0.014323584735394,0.095698431134224,0.034697964787483,-0.039124492555857,-0.257965564727783,0.202390357851982,0.242184638977051,-0.217806294560432,-0.075879998505116,-0.086437299847603,-0.014210185967386,-0.113181166350842,0.132900133728981,-0.068982727825642));
res += mul(Get(s1,dx,dy), float4x4(-0.078493140637875,0.062503442168236,0.081036932766438,-0.197610601782799,0.169608592987061,-0.038483750075102,0.029947506263852,0.129514619708061,-0.120992839336395,-0.096397012472153,-0.112148113548756,-0.207809627056122,0.109889574348927,0.159567430615425,0.014573467895389,0.035609815269709));
res += mul(Get(s2,-dx,-dy), float4x4(-0.079269707202911,0.025981163606048,-0.033702887594700,0.345638155937195,-0.102724999189377,-0.091200135648251,0.096605800092220,-0.047745265066624,0.069444157183170,0.004189074039459,-0.105695322155952,0.040699105709791,-0.008157628588378,0.159097045660019,0.052132107317448,-0.043505396693945));
res += mul(Get(s2,-dx,0), float4x4(0.137548461556435,0.047243766486645,-0.017559709027410,0.025106972083449,0.035035785287619,-0.014300858601928,-0.134700402617455,-0.027375560253859,0.208795040845871,0.133762285113335,0.104104228317738,0.001702032284811,-0.022467043250799,0.023687159642577,0.045233078300953,0.191049605607986));
res += mul(Get(s2,-dx,dy), float4x4(0.151365444064140,0.156888261437416,-0.011441904120147,-0.091239452362061,0.085503600537777,-0.060888137668371,-0.033546857535839,0.148985594511032,0.095902420580387,-0.031171211972833,-0.138115197420120,0.030057724565268,-0.002531885635108,0.113492116332054,0.001345416065305,0.144197061657906));
res += mul(Get(s2,0,-dy), float4x4(-0.072981193661690,-0.116172127425671,-0.211269006133080,0.115027889609337,0.027706138789654,-0.151963055133820,-0.087592802941799,-0.049322523176670,0.055545013397932,0.053969580680132,0.231095731258392,-0.025582594797015,0.053145121783018,0.010933431796730,-0.003764936234802,-0.044439911842346));
res += mul(Get(s2,0,0), float4x4(-0.038983743637800,-0.069331891834736,0.106429383158684,-0.005803677719086,0.047703210264444,0.006194256711751,-0.009217630140483,0.050434328615665,-0.015851760283113,0.002492846222594,0.074738629162312,0.022601392120123,-0.090156733989716,0.161259934306145,0.030346354469657,0.112692452967167));
res += mul(Get(s2,0,dy), float4x4(0.003902501892298,-0.035791881382465,0.121528960764408,-0.042697206139565,0.169774442911148,-0.039869330823421,0.013070235960186,-0.011321146972477,-0.157121837139130,0.149029865860939,0.055378567427397,-0.138362988829613,-0.174962654709816,-0.085671208798885,0.006677160505205,-0.127605110406876));
res += mul(Get(s2,dx,-dy), float4x4(0.197837591171265,0.013405718840659,-0.159072995185852,0.046797093003988,-0.074183888733387,-0.086726978421211,-0.176899567246437,0.011942047625780,0.247533515095711,-0.037317398935556,0.006454419344664,0.008150685578585,-0.038017030805349,-0.012121652252972,-0.134093269705772,-0.211365401744843));
res += mul(Get(s2,dx,0), float4x4(-0.157666996121407,0.038795132189989,-0.140636116266251,-0.023618886247277,0.002426558407024,0.101003564894199,0.023877533152699,0.071030750870705,-0.223323002457619,0.173984959721565,-0.145302563905716,-0.196406543254852,-0.209583207964897,-0.002505165757611,-0.005243043880910,0.056246552616358));
res += mul(Get(s2,dx,dy), float4x4(0.105504527688026,0.000700664764736,-0.068723566830158,0.028143340721726,0.005505369976163,0.182490855455399,-0.018507383763790,-0.259311437606812,-0.028014166280627,-0.113427050411701,-0.095956288278103,0.091183818876743,0.158046141266823,0.080211602151394,-0.130381986498833,-0.073296591639519));
res += mul(Get(s3,-dx,-dy), float4x4(-0.055967997759581,0.104211352765560,0.201703652739525,0.143920674920082,-0.004864388611168,0.058073054999113,0.137262389063835,-0.204843789339066,0.058558676391840,-0.040977165102959,0.174376204609871,0.032195620238781,0.002160239499062,0.187226504087448,0.131188735365868,0.023287881165743));
res += mul(Get(s3,-dx,0), float4x4(0.096887625753880,-0.131671875715256,-0.025035878643394,0.020233394578099,-0.066137142479420,0.024197652935982,0.060047600418329,0.033556740731001,0.061630256474018,0.137025222182274,-0.244944706559181,0.181856036186218,-0.256332069635391,0.075436994433403,0.118916906416416,0.030252106487751));
res += mul(Get(s3,-dx,dy), float4x4(0.094514071941376,-0.159200802445412,0.049991086125374,0.046504478901625,0.056372210383415,-0.020786479115486,0.034840479493141,-0.089422501623631,-0.020228117704391,0.034130044281483,-0.022392272949219,0.135252892971039,-0.065177924931049,-0.063709594309330,-0.011382117867470,0.132680699229240));
res += mul(Get(s3,0,-dy), float4x4(0.027108600363135,0.067710638046265,0.101663641631603,0.012136964127421,0.106094829738140,0.118283450603485,-0.245324164628983,-0.063384607434273,0.030281176790595,-0.037799879908562,0.049607910215855,-0.042371511459351,-0.033602554351091,-0.041488744318485,-0.191790819168091,0.095475509762764));
res += mul(Get(s3,0,0), float4x4(0.022332675755024,0.131804078817368,0.000476340181194,0.073716774582863,-0.060346230864525,0.110959954559803,0.021484814584255,-0.021188654005527,-0.074387155473232,0.035271439701319,0.076395317912102,0.064181528985500,-0.039671771228313,0.067975535988808,0.143922194838524,-0.067414455115795));
res += mul(Get(s3,0,dy), float4x4(-0.157165974378586,-0.148036539554596,0.033669896423817,0.016079025343060,-0.110874384641647,0.000807224016171,-0.013561575673521,-0.030820814892650,0.182781577110291,0.035295091569424,-0.007344420999289,0.163032665848732,0.006226386874914,0.073002338409424,-0.173130169510841,0.107662029564381));
res += mul(Get(s3,dx,-dy), float4x4(-0.106247112154961,0.054413046687841,-0.024755364283919,0.002156227128580,-0.158705785870552,-0.014288730919361,-0.139002755284309,-0.164950653910637,0.164516404271126,0.107399046421051,0.130473911762238,0.038503743708134,-0.036239042878151,-0.043253462761641,-0.063903197646141,0.041375551372766));
res += mul(Get(s3,dx,0), float4x4(0.108673244714737,-0.023892724886537,0.022091310471296,-0.041815720498562,-0.152805522084236,-0.036783449351788,0.031656913459301,0.178661480545998,0.028824679553509,-0.124503739178181,0.275666087865829,0.009919221512973,0.088613174855709,0.049586866050959,0.086591310799122,-0.006489844992757));
res += mul(Get(s3,dx,dy), float4x4(0.000669414992444,0.030954474583268,0.176415503025055,-0.111391320824623,0.072017662227154,-0.052814219146967,-0.045999072492123,-0.035727962851524,0.109903790056705,0.112392373383045,0.021249594166875,-0.003775540739298,0.058735370635986,-0.098939128220081,0.017746560275555,-0.120742388069630));
return max(float4(0,0,0,0), res);
}
