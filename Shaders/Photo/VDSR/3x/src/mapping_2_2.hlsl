sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.025204150006175,0.006036934908479,0.003049797844142,-0.019736651331186,-0.040943544358015,-0.012784712016582,-0.001536877243780,-0.038828417658806,-0.014527775347233,-0.010304236784577,-0.001686396077275,-0.016110416501760,0.024917915463448,0.049996409565210,-0.028364730998874,0.045513611286879));
res += mul(Get(s0,-dx,0), float4x4(0.015971263870597,-0.078708797693253,0.087734922766685,-0.013333117589355,-0.053353399038315,-0.040856383740902,0.027879070490599,-0.044406447559595,-0.010988903231919,-0.002328115748242,0.003110986435786,0.000575991754886,-0.004563449416310,0.023608405143023,0.012456098571420,0.057038385421038));
res += mul(Get(s0,-dx,dy), float4x4(-0.018822703510523,-0.104641415178776,0.001630836399272,-0.009066362865269,0.061159562319517,-0.001780429971404,0.039515580981970,0.001076771295629,0.009129002690315,0.009762059897184,0.009499637410045,0.000678121868987,-0.052790511399508,-0.002918285084888,0.052250664681196,-0.004301920998842));
res += mul(Get(s0,0,-dy), float4x4(-0.017962181940675,-0.046989146620035,0.017686758190393,-0.021840760484338,-0.070016786456108,-0.018176320940256,-0.008382310159504,0.028050597757101,-0.008677083067596,-0.013542561791837,-0.001376857864670,-0.016807464882731,0.026971803978086,-0.048037793487310,-0.025172803550959,-0.010652843862772));
res += mul(Get(s0,0,0), float4x4(0.015552045777440,-0.068122014403343,0.087182871997356,-0.017468398436904,-0.127005502581596,0.010672103613615,0.006238853558898,0.019192134961486,-0.009014352224767,-0.000245552539127,0.003914813511074,-0.000032834876038,-0.014285947196186,0.016606457531452,0.011974204331636,0.039550177752972));
res += mul(Get(s0,0,dy), float4x4(0.000051036407967,-0.154862165451050,0.000560028187465,-0.003428729716688,0.021780468523502,0.000621610262897,0.013678296469152,0.062812283635139,0.010755286552012,0.007390322629362,0.009537781588733,-0.000170159444679,-0.013177845627069,-0.042502813041210,0.046761263161898,0.009046978317201));
res += mul(Get(s0,dx,-dy), float4x4(-0.016491262242198,-0.076822996139526,0.020603211596608,-0.016569845378399,-0.057989541441202,-0.097105532884598,0.015380703844130,0.001460344297811,-0.005635404493660,-0.017921071499586,-0.001266681472771,-0.016473766416311,0.065980337560177,-0.020942296832800,-0.008037420921028,0.035705510526896));
res += mul(Get(s0,dx,0), float4x4(0.025023350492120,-0.088350869715214,0.091973930597305,-0.008604183793068,-0.138466075062752,-0.094714000821114,0.021674446761608,-0.018222803249955,-0.006307765841484,-0.001641170238145,0.004248153418303,0.000022277903554,0.009271889925003,0.005390712060034,0.038796164095402,0.068305596709251));
res += mul(Get(s0,dx,dy), float4x4(0.005018809344620,-0.029452942311764,0.001600096118636,0.016015335917473,-0.010191628709435,-0.149158999323845,0.021738229319453,0.038276106119156,0.011155818589032,0.005841827020049,0.008783161640167,-0.000309923721943,0.073905766010284,0.005623583216220,0.053989659994841,0.029814373701811));
res += mul(Get(s1,-dx,-dy), float4x4(0.071276612579823,0.002146457554772,0.031688146293163,-0.028222305700183,-0.136210262775421,0.047005128115416,-0.038128778338432,-0.087117247283459,-0.000005942032658,-0.000009983105883,0.000004123928193,-0.000006684706477,-0.034094274044037,0.131409570574760,0.016146948561072,0.009323434904218));
res += mul(Get(s1,-dx,0), float4x4(0.013535650447011,-0.071050852537155,0.036122631281614,-0.003621206386015,-0.223000690340996,0.571809649467468,-0.031373001635075,-0.091006763279438,-0.000006970845334,-0.000005945818430,0.000021624762667,-0.000000499078908,0.060245256870985,0.061104312539101,0.100012257695198,0.003288793843240));
res += mul(Get(s1,-dx,dy), float4x4(-0.023875040933490,0.059170883148909,0.017240133136511,-0.033489640802145,-0.086337670683861,-0.072865754365921,-0.108969949185848,0.061073061078787,0.000011706167243,0.000000337593065,0.000010654964171,0.000001307131242,0.004907101858407,-0.026472795754671,0.042566645890474,0.181757017970085));
res += mul(Get(s1,0,-dy), float4x4(0.151700928807259,-0.161413073539734,0.003308209357783,-0.015762317925692,0.031324453651905,-0.156743869185448,-0.005291109438986,-0.130965545773506,0.000027887714168,0.000020094477804,0.000017109920009,0.000008531007552,-0.017364082857966,0.105168588459492,0.024734977632761,-0.004640945233405));
res += mul(Get(s1,0,0), float4x4(0.095818929374218,-0.078763611614704,0.004805526696146,0.015499849803746,-0.178697451949120,0.011916140094399,0.030983822420239,-0.149045810103416,0.000006390218459,0.000006777973795,0.000006910118373,-0.000022784204702,0.069856956601143,-0.065946556627750,0.121396854519844,-0.000482030562125));
res += mul(Get(s1,0,dy), float4x4(0.060071147978306,0.014931282028556,-0.003198812017217,-0.014651119709015,-0.000397025200073,0.400208473205566,-0.077260270714760,0.138147041201591,-0.000001365760227,-0.000009451679944,0.000005311958830,-0.000025707955501,-0.006825136020780,-0.071289345622063,0.066858902573586,0.170542642474174));
res += mul(Get(s1,dx,-dy), float4x4(0.020447552204132,0.046392299234867,-0.010947350412607,0.103806704282761,0.205311283469200,-0.164617210626602,0.023720748722553,-0.117823973298073,0.000000047868717,-0.000027652209610,-0.000001758223789,0.000009082257748,-0.022261306643486,0.088223151862621,0.021252382546663,-0.003743685083464));
res += mul(Get(s1,dx,0), float4x4(0.032997611910105,0.128229498863220,-0.012703827582300,0.092425182461739,0.008324145339429,-0.544143497943878,0.078489996492863,-0.181587681174278,0.000006461822977,0.000002878465466,-0.000006031013982,-0.000002748078941,0.089868292212486,-0.070610269904137,0.137356504797935,0.002406821120530));
res += mul(Get(s1,dx,dy), float4x4(0.016034396365285,0.134866178035736,-0.013364597223699,0.058333702385426,0.040863350033760,0.096708677709103,-0.057748265564442,0.045111391693354,-0.000019895473088,0.000005140710982,-0.000009161872185,0.000009603648323,-0.001008007442579,-0.068905882537365,0.076540850102901,0.102737538516521));
res += mul(Get(s2,-dx,-dy), float4x4(-0.014028848148882,-0.089139342308044,0.000377413030947,-0.006899642758071,-0.203993856906891,-0.220989793539047,-0.050699006766081,-0.023709807544947,-0.201093807816505,0.040264442563057,-0.038305420428514,0.037041999399662,0.014205635525286,-0.005596897099167,0.012081992812455,0.000469950697152));
res += mul(Get(s2,-dx,0), float4x4(-0.001790233072825,0.095947749912739,0.007444018963724,0.023423150181770,-0.086565971374512,0.078359685838223,0.024930179119110,-0.103588111698627,-0.072940871119499,-0.032275460660458,-0.027947457507253,0.102166011929512,-0.004177583381534,0.004255044739693,0.010416526347399,0.012556020170450));
res += mul(Get(s2,-dx,dy), float4x4(0.014603944495320,0.011602093465626,-0.002497666282579,0.004262012895197,-0.095829226076603,0.123514503240585,0.053930934518576,-0.142441615462303,-0.032294187694788,0.015931757166982,-0.024745818227530,0.052625760436058,0.011278153397143,0.013655902817845,0.004792134743184,-0.019465757533908));
res += mul(Get(s2,0,-dy), float4x4(0.007644766941667,-0.029259122908115,-0.013843539170921,-0.015559987165034,0.058216594159603,-0.151782929897308,-0.052635278552771,0.096946671605110,-0.195380851626396,0.015436551533639,-0.022100495174527,-0.053145408630371,0.009349708445370,0.002929989947006,0.013652347028255,0.001602034666575));
res += mul(Get(s2,0,0), float4x4(-0.004388778470457,-0.081266872584820,0.005817675963044,0.007020540535450,0.064623348414898,0.017843926325440,0.000168023558217,0.048110730946064,-0.073885105550289,0.208906203508377,-0.022337930276990,0.088448181748390,-0.005697173532099,0.017491558566689,0.012404681183398,0.007519728038460));
res += mul(Get(s2,0,dy), float4x4(-0.021387748420238,-0.026423072442412,0.000071774535172,-0.003332616528496,0.108395382761955,-0.247742816805840,0.029332553967834,-0.008432446047664,-0.033088859170675,0.074875921010971,-0.011511406861246,0.092439562082291,0.019989006221294,0.009740013629198,0.006364086177200,-0.017240446060896));
res += mul(Get(s2,dx,-dy), float4x4(-0.049352038651705,0.090917363762856,-0.021684255450964,-0.081085234880447,0.049891497939825,-0.126106306910515,-0.036139003932476,0.124978847801685,-0.149863660335541,-0.011587982997298,0.034874983131886,0.008300921879709,0.021265285089612,0.007079801056534,0.021239826455712,-0.000275286671240));
res += mul(Get(s2,dx,0), float4x4(-0.039444990456104,0.156412541866302,-0.007169154938310,-0.067814506590366,0.008417487144470,0.058805089443922,0.001414015307091,0.098177380859852,-0.106950901448727,0.054632037878036,0.015306463465095,0.049887396395206,0.016918802633882,0.020184405148029,0.016083493828773,-0.001209049485624));
res += mul(Get(s2,dx,dy), float4x4(-0.047212719917297,0.059172168374062,-0.002421929500997,-0.072118893265724,0.147981420159340,0.017952177673578,0.008685352280736,0.064461588859558,-0.037344422191381,-0.008338310755789,0.004283131565899,0.068298697471619,0.032150279730558,0.019376941025257,0.009944777935743,-0.013052163645625));
res += mul(Get(s3,-dx,-dy), float4x4(-0.010896727442741,-0.126756876707077,0.000092957438028,-0.011817845515907,0.007449312601238,-0.018128551542759,0.001592965913005,-0.003450044197962,0.026951316744089,-0.007785870227963,0.033935233950615,-0.154335170984268,0.073262058198452,-0.134811490774155,-0.006686460692436,-0.088526681065559));
res += mul(Get(s3,-dx,0), float4x4(-0.049041945487261,-0.087223470211029,0.000245680159424,-0.006836833432317,-0.006927942391485,-0.004151254426688,0.003906243713573,-0.002265302930027,-0.136179253458977,0.205979734659195,-0.028289090842009,0.033274158835411,0.101571403443813,-0.198596283793449,0.057994090020657,-0.065872609615326));
res += mul(Get(s3,-dx,dy), float4x4(-0.073119349777699,-0.067586831748486,0.002170125953853,-0.032253809273243,-0.008022840134799,0.014586018398404,0.001739891013131,-0.012271489948034,-0.086178891360760,0.148648336529732,-0.014384053647518,-0.037304591387510,-0.127400994300842,0.213309735059738,-0.032510362565517,-0.039238117635250));
res += mul(Get(s3,0,-dy), float4x4(-0.003513776231557,-0.147535994648933,0.000708427862264,-0.014181979000568,0.001143406610936,-0.011791517026722,-0.000336275319569,-0.007532662712038,-0.166800901293755,-0.073785521090031,0.048402804881334,-0.133203178644180,0.088886424899101,-0.052255947142839,-0.037568211555481,-0.031088817864656));
res += mul(Get(s3,0,0), float4x4(-0.030541509389877,-0.124312616884708,-0.000123137651826,-0.007329095620662,-0.009930334053934,0.002785950666294,0.002684516832232,-0.009139648638666,-0.140799686312675,0.322865396738052,-0.046116776764393,0.017503354698420,0.152257129549980,-0.022568309679627,0.016134319826961,-0.062635622918606));
res += mul(Get(s3,0,dy), float4x4(-0.052404284477234,-0.110204808413982,0.005398193839937,-0.027192542329431,-0.005752751138061,0.016018781810999,0.002955849748105,-0.017627259716392,-0.041519902646542,0.048751998692751,-0.014655527658761,-0.018964515998960,-0.100625887513161,0.110548973083496,-0.040882866829634,-0.090204805135727));
res += mul(Get(s3,dx,-dy), float4x4(-0.008335005491972,-0.108118236064911,0.002100127050653,-0.004844769369811,0.014161447994411,-0.013365575112402,0.009236707352102,-0.001238134922460,-0.101810961961746,-0.122793696820736,0.083155810832977,-0.117588803172112,0.246428072452545,-0.225856691598892,-0.035000171512365,-0.017939006909728));
res += mul(Get(s3,dx,0), float4x4(-0.014569656923413,-0.113862328231335,-0.001260441727936,0.011116015724838,0.009094093926251,-0.014035158790648,0.009297164157033,-0.002954134717584,0.060628853738308,0.067172542214394,-0.039270959794521,-0.014620292931795,0.231699511408806,-0.009018459357321,0.029156586155295,-0.052613850682974));
res += mul(Get(s3,dx,dy), float4x4(-0.021685225889087,-0.118500046432018,0.005151166580617,0.001002862467431,0.006402918603271,-0.003526073182002,0.010165384970605,-0.003903221338987,0.143291249871254,0.011694448068738,0.007559732999653,-0.024117229506373,-0.009089095517993,0.043523717671633,-0.003095626598224,-0.103113926947117));
return max(float4(0,0,0,0), res);
}
