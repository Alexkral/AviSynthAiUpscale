sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.124463357031345,0.320153921842575,-0.007063659373671,-0.086360961198807,-0.026828238740563,0.187505483627319,0.091323159635067,0.059690743684769,0.058838382363319,0.256956815719604,-0.085657648742199,-0.061544574797153,-0.001248775399290,-0.049744080752134,-0.064915850758553,0.006387350615114));
res += mul(Get(s0,-dx,0), float4x4(-0.111283816397190,0.014278473332524,-0.102914333343506,0.092125721275806,-0.071102350950241,0.034731734544039,-0.001339299138635,-0.091872669756413,-0.018100604414940,-0.169569283723831,0.088492043316364,-0.150321647524834,-0.059050999581814,0.257134556770325,-0.038403496146202,0.091456919908524));
res += mul(Get(s0,-dx,dy), float4x4(0.403900682926178,0.041356068104506,-0.330026209354401,0.037646435201168,0.002337452489883,0.050474878400564,-0.157212689518929,-0.081539854407310,0.080307871103287,-0.115601539611816,0.128594189882278,-0.161867588758469,-0.070497184991837,0.057845581322908,-0.108244098722935,0.124016910791397));
res += mul(Get(s0,0,-dy), float4x4(0.068779185414314,0.078945621848106,-0.020954281091690,0.127931907773018,0.025675257667899,-0.020160121843219,-0.005853939335793,-0.016768181696534,-0.131797954440117,0.365799218416214,-0.237660616636276,-0.190013766288757,0.064699843525887,-0.121266275644302,0.102083273231983,-0.098091982305050));
res += mul(Get(s0,0,0), float4x4(0.247256830334663,-0.045092158019543,-0.057993434369564,-0.060780707746744,0.001262768986635,-0.148839518427849,0.055558074265718,-0.114819794893265,-0.050504252314568,-0.009543083608150,-0.131837770342827,-0.086247809231281,-0.044629253447056,0.111377678811550,0.099891044199467,0.026389800012112));
res += mul(Get(s0,0,dy), float4x4(0.074667885899544,-0.156689956784248,0.027743708342314,0.045436106622219,0.112157344818115,-0.031167132779956,-0.099588774144650,0.040149901062250,-0.052702981978655,0.025894787162542,0.002179124159738,0.026467839255929,0.051723223179579,-0.005032540764660,-0.022458922117949,-0.025926778092980));
res += mul(Get(s0,dx,-dy), float4x4(-0.137409821152687,-0.051095854490995,-0.021632513031363,-0.046284358948469,-0.011349214240909,0.005562222562730,0.048532128334045,-0.049982134252787,-0.026097619906068,-0.110232733190060,0.101913705468178,-0.224138841032982,-0.020409336313605,-0.204972341656685,-0.156394928693771,-0.018845414742827));
res += mul(Get(s0,dx,0), float4x4(-0.023371819406748,-0.053465235978365,0.011877332814038,-0.219422101974487,0.022227063775063,-0.154656931757927,0.148413673043251,-0.117222271859646,0.004002425819635,-0.203989058732986,0.075258947908878,-0.053973469883204,0.029590379446745,-0.005687938071787,-0.016823984682560,0.274547994136810));
res += mul(Get(s0,dx,dy), float4x4(-0.113875493407249,-0.078155413269997,-0.109342373907566,0.062020264565945,0.090302787721157,-0.015653859823942,0.086639016866684,0.138367071747780,-0.067122109234333,-0.120907090604305,0.118863411247730,-0.002903383225203,-0.050611108541489,0.071613661944866,0.003119204891846,0.091502137482166));
res += mul(Get(s1,-dx,-dy), float4x4(-0.010278470814228,0.021754838526249,-0.003419473534450,-0.032545775175095,0.103600673377514,0.172982603311539,0.127508684992790,-0.073535338044167,-0.143866181373596,-0.078845933079720,-0.075684398412704,-0.053767614066601,-0.094633936882019,0.121795445680618,-0.116420574486256,-0.003464534413069));
res += mul(Get(s1,-dx,0), float4x4(0.015384077094495,-0.046837002038956,0.188075661659241,0.053249210119247,-0.007442173548043,0.010460806079209,-0.002496316330507,0.020714802667499,-0.058980710804462,-0.123142801225185,-0.126332730054855,0.093488849699497,-0.065556041896343,-0.070982582867146,0.010491259396076,-0.092237375676632));
res += mul(Get(s1,-dx,dy), float4x4(0.185734391212463,0.049348004162312,-0.064197562634945,-0.152480304241180,-0.020236514508724,0.111319854855537,0.326924920082092,-0.139969900250435,0.059473555535078,0.040798824280500,-0.167415648698807,0.005387898068875,-0.047495312988758,-0.111214861273766,0.040866538882256,-0.027090832591057));
res += mul(Get(s1,0,-dy), float4x4(-0.017303986474872,0.021543161943555,-0.014346051961184,-0.139201253652573,0.167357459664345,0.148509085178375,-0.076267600059509,-0.078992910683155,-0.138512849807739,-0.011077733710408,-0.153078377246857,0.032408285886049,0.051328338682652,-0.043104998767376,0.110002174973488,-0.114861257374287));
res += mul(Get(s1,0,0), float4x4(-0.068314090371132,-0.001361053320579,0.014994790777564,-0.001302556949668,-0.092894479632378,-0.088779233396053,-0.188309207558632,-0.122244969010353,-0.011411448009312,0.082004643976688,-0.120988912880421,0.134912744164467,-0.157130807638168,-0.065913468599319,-0.125813379883766,-0.120903365314007));
res += mul(Get(s1,0,dy), float4x4(0.153964474797249,0.019541202113032,-0.152831688523293,-0.072134450078011,-0.002632206305861,-0.076646357774734,0.086013279855251,-0.173593759536743,0.067542754113674,0.190873324871063,-0.107936859130859,-0.115707062184811,-0.126820504665375,0.072730138897896,0.132252752780914,0.231979638338089));
res += mul(Get(s1,dx,-dy), float4x4(0.054975207895041,-0.059738740324974,-0.005788563750684,-0.032801404595375,-0.122798778116703,0.148309454321861,0.049053903669119,-0.123012512922287,-0.109581246972084,0.039790946990252,-0.120117366313934,0.077575936913490,-0.042968057096004,0.066315285861492,-0.015567049384117,0.083433404564857));
res += mul(Get(s1,dx,0), float4x4(-0.066647276282310,0.008303136564791,0.012710792943835,-0.029441412538290,-0.078582629561424,-0.222564816474915,0.017250731587410,-0.069695428013802,0.046462055295706,0.200855866074562,-0.120174206793308,-0.044482961297035,-0.087922170758247,0.062325589358807,0.054310023784637,0.197768196463585));
res += mul(Get(s1,dx,dy), float4x4(-0.034693442285061,0.063722528517246,-0.028839688748121,0.144179314374924,0.150717005133629,-0.251550912857056,0.013508521020412,0.001563068944961,0.039986498653889,0.025915300473571,-0.057522054761648,-0.006150545552373,-0.121328495442867,-0.027118839323521,-0.136117756366730,-0.001374544342980));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017412789165974,-0.046530615538359,0.200900688767433,0.056311320513487,-0.094944112002850,0.152754813432693,-0.179251909255981,0.039565145969391,0.005407168064266,0.046925973147154,-0.078204676508904,0.072413556277752,-0.045018121600151,0.259777218103409,-0.058914583176374,0.037820652127266));
res += mul(Get(s2,-dx,0), float4x4(-0.088271282613277,-0.002978516742587,0.093621000647545,-0.111016914248466,0.186762496829033,-0.071084357798100,-0.004016589373350,0.078105181455612,0.086877129971981,0.129299268126488,0.088714480400085,-0.000762482522987,0.006603323388845,-0.063187167048454,0.050489414483309,0.139780297875404));
res += mul(Get(s2,-dx,dy), float4x4(0.049979958683252,0.126229614019394,0.077893413603306,0.058348581194878,-0.086473904550076,0.172395929694176,-0.008246241137385,0.039574656635523,0.091459780931473,-0.055459514260292,-0.102998621761799,-0.006210923660547,0.005253349430859,0.003476612968370,-0.034857247024775,0.052226867526770));
res += mul(Get(s2,0,-dy), float4x4(0.040509428828955,-0.102383397519588,-0.105859078466892,0.089005984365940,-0.104214183986187,-0.042017798870802,0.028882380574942,-0.114961929619312,0.090650729835033,0.135763555765152,-0.049192246049643,-0.139724761247635,-0.141135692596436,0.104264073073864,-0.073561802506447,-0.009874538518488));
res += mul(Get(s2,0,0), float4x4(0.165650576353073,-0.102017976343632,-0.150502666831017,0.143358841538429,-0.034379124641418,-0.269738137722015,0.103992104530334,-0.067718230187893,0.023085825145245,0.080794624984264,0.136034265160561,-0.146127954125404,-0.037289589643478,-0.089543856680393,0.298157215118408,-0.017236184328794));
res += mul(Get(s2,0,dy), float4x4(-0.048273000866175,0.089835688471794,0.037107095122337,0.045273423194885,-0.129694551229477,-0.064693830907345,-0.147959202528000,0.165949970483780,-0.186091139912605,0.069110654294491,-0.001047430210747,-0.016127644106746,-0.070025376975536,0.006171502172947,-0.091181449592113,-0.045435898005962));
res += mul(Get(s2,dx,-dy), float4x4(-0.082344017922878,-0.040714032948017,-0.119144320487976,-0.043418906629086,-0.102109454572201,0.091892980039120,0.112899668514729,0.005455661099404,0.012273764237761,-0.134886398911476,0.142444163560867,-0.150779232382774,-0.063360020518303,-0.006948857568204,-0.053920276463032,-0.053233634680510));
res += mul(Get(s2,dx,0), float4x4(-0.003570576198399,-0.103174470365047,-0.009024459868670,0.093557141721249,0.069792680442333,0.002140517113730,-0.014104165136814,0.164985701441765,-0.015956070274115,-0.151701211929321,0.084334321320057,-0.057024039328098,-0.078977271914482,-0.140584900975227,0.151522621512413,-0.098273113369942));
res += mul(Get(s2,dx,dy), float4x4(0.147108256816864,-0.046366378664970,0.104596517980099,-0.119499377906322,-0.098666399717331,0.177557200193405,0.018946232274175,0.137542530894279,-0.003561716061085,-0.155051410198212,-0.037356600165367,0.067748814821243,-0.050177969038486,0.019742680713534,0.098115377128124,0.126031011343002));
res += mul(Get(s3,-dx,-dy), float4x4(-0.080178804695606,-0.036681968718767,0.134413689374924,-0.098260097205639,-0.013583973050117,0.227099061012268,-0.001906775287353,0.072836212813854,-0.113293804228306,0.009703241288662,0.002871432108805,0.100367978215218,-0.135846287012100,0.030780261382461,-0.015597781166434,-0.084022618830204));
res += mul(Get(s3,-dx,0), float4x4(0.222827866673470,0.155235558748245,0.106272928416729,-0.107958331704140,-0.074466146528721,0.283921688795090,0.053624045103788,0.028568366542459,-0.118889197707176,0.009218132123351,-0.033971812576056,0.052037723362446,-0.132606834173203,0.007397666573524,-0.071192994713783,0.036993008106947));
res += mul(Get(s3,-dx,dy), float4x4(0.069934442639351,0.083076715469360,0.075001038610935,-0.074038229882717,-0.002321306150407,0.005021399352700,0.081433534622192,0.089499332010746,-0.087365731596947,0.138404712080956,-0.181497350335121,0.101185120642185,-0.121531315147877,-0.041832491755486,-0.109464682638645,-0.092268951237202));
res += mul(Get(s3,0,-dy), float4x4(0.045566853135824,-0.017902076244354,-0.016836391761899,-0.124541297554970,-0.035389725118876,-0.178919419646263,-0.054607491940260,0.202815383672714,-0.039717402309179,0.025019470602274,0.025175139307976,0.074764572083950,-0.072763144969940,-0.085082434117794,-0.045570563524961,-0.180954262614250));
res += mul(Get(s3,0,0), float4x4(-0.024267019703984,0.025749428197742,0.165297135710716,-0.414259999990463,0.023707568645477,-0.074952818453312,-0.129832878708839,-0.123506009578705,0.040631275624037,-0.090268708765507,0.000295981852105,-0.002443932928145,-0.089253559708595,-0.176838144659996,-0.137058779597282,-0.109665729105473));
res += mul(Get(s3,0,dy), float4x4(-0.025323791429400,-0.028981178998947,0.054380383342505,-0.232593953609467,0.069595351815224,-0.052300624549389,-0.054029032588005,-0.089747034013271,-0.054815534502268,0.079360306262970,-0.130024701356888,-0.061454899609089,0.154193624854088,0.031156163662672,-0.111898370087147,0.117521412670612));
res += mul(Get(s3,dx,-dy), float4x4(0.028511773794889,0.076126396656036,0.071330450475216,-0.062221981585026,-0.086554713547230,-0.125814616680145,-0.021476441994309,0.198513433337212,-0.106614768505096,0.069278344511986,-0.057073336094618,-0.007995344698429,-0.000463012751425,-0.167405113577843,0.109454706311226,-0.122384637594223));
res += mul(Get(s3,dx,0), float4x4(0.010002221912146,-0.169850066304207,-0.036944039165974,0.095556981861591,0.011566448025405,-0.132937073707581,-0.059774611145258,-0.033974375575781,0.036107420921326,-0.011170758865774,-0.047833904623985,0.107472144067287,0.087736770510674,-0.171724781394005,-0.091745764017105,0.155601069331169));
res += mul(Get(s3,dx,dy), float4x4(-0.032665356993675,-0.126532047986984,0.065545439720154,-0.115674018859863,0.053333692252636,-0.141221031546593,-0.116447143256664,0.092649377882481,-0.007908766157925,0.046229079365730,-0.160205021500587,-0.048164349049330,0.114231564104557,-0.032170247286558,0.013404360972345,0.069004751741886));
return max(float4(0,0,0,0), res);
}
