sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.063510611653328,0.137921437621117,0.092469215393066,-0.058652136474848,0.024942018091679,0.044934175908566,0.173032611608505,-0.175464794039726,0.009294616989791,0.053842734545469,-0.105290859937668,0.012635865248740,0.104314766824245,0.023830471560359,-0.030279649421573,-0.090018741786480));
res += mul(Get(s0,-dx,0), float4x4(-0.000447989878012,0.195033505558968,0.053798533976078,-0.109296582639217,0.044941205531359,0.113318316638470,0.043140746653080,0.034173004329205,-0.082803912460804,0.023591088131070,0.081149168312550,0.006489055696875,0.019840985536575,0.033162128180265,-0.041124358773232,0.024343151599169));
res += mul(Get(s0,-dx,dy), float4x4(-0.012584310956299,-0.059361167252064,0.139372542500496,-0.036382094025612,0.043585013598204,0.005062881391495,-0.001307394006290,0.144318446516991,-0.139764010906219,-0.046031638979912,0.085820898413658,0.012595559470356,-0.038481686264277,-0.022022876888514,-0.038039967417717,-0.076171897351742));
res += mul(Get(s0,0,-dy), float4x4(0.089086227118969,-0.123149350285530,0.103268586099148,0.020325897261500,-0.047532185912132,-0.062472615391016,0.112892024219036,-0.040044005960226,-0.000633005285636,0.081151731312275,-0.050218496471643,0.057643592357635,-0.094291724264622,0.016377000138164,-0.072021633386612,-0.053766343742609));
res += mul(Get(s0,0,0), float4x4(0.138700053095818,-0.108674779534340,-0.008095362223685,-0.018558675423265,-0.107907980680466,-0.013860550709069,-0.104989051818848,0.020281245931983,-0.043526805937290,-0.058429494500160,0.041230086237192,0.001972282305360,0.002212151419371,-0.032331671565771,-0.056893400847912,-0.070057377219200));
res += mul(Get(s0,0,dy), float4x4(-0.015306546352804,-0.088952183723450,-0.008946354500949,-0.095254659652710,-0.155473500490189,-0.113482743501663,-0.080427385866642,0.196556881070137,-0.036735463887453,-0.100927136838436,0.043824944645166,0.034901041537523,0.105789124965668,-0.048462692648172,0.103089235723019,-0.180351480841637));
res += mul(Get(s0,dx,-dy), float4x4(-0.023185903206468,-0.035453904420137,-0.023281458765268,0.034108407795429,0.001775695942342,-0.010598648339510,0.082557566463947,-0.104702197015285,-0.052370309829712,-0.039481237530708,-0.027742812409997,0.034301746636629,-0.045631416141987,0.186461493372917,0.039808798581362,-0.064228080213070));
res += mul(Get(s0,dx,0), float4x4(0.098910823464394,-0.023619841784239,-0.069708473980427,0.178579792380333,-0.046653304249048,0.027399234473705,-0.037721950560808,-0.001720698084682,0.207410648465157,-0.070238247513771,-0.047698292881250,0.053499028086662,-0.007439874112606,0.136711940169334,0.035721249878407,0.084608875215054));
res += mul(Get(s0,dx,dy), float4x4(0.025729469954967,-0.024418246001005,0.002227706601843,-0.042526230216026,-0.115223683416843,-0.013360260985792,-0.049551468342543,0.101974643766880,0.033887635916471,0.028882786631584,0.025378709658980,0.156982362270355,0.290523171424866,0.111998505890369,-0.026249511167407,0.101491920650005));
res += mul(Get(s1,-dx,-dy), float4x4(0.067971222102642,0.159780681133270,-0.104712188243866,0.107939608395100,0.081452146172523,0.038569137454033,-0.039087940007448,-0.034148834645748,-0.144071415066719,-0.037145677953959,0.017926529049873,-0.015587952919304,0.123917765915394,-0.012416942976415,0.053066395223141,0.007042481098324));
res += mul(Get(s1,-dx,0), float4x4(-0.115614518523216,0.063884764909744,-0.154036208987236,-0.045214187353849,-0.058663316071033,0.217408850789070,0.034343838691711,-0.007200674619526,-0.076201312243938,-0.013935105875134,-0.142583370208740,-0.016057066619396,0.017411844804883,-0.030616309493780,-0.014224893413484,-0.106801569461823));
res += mul(Get(s1,-dx,dy), float4x4(-0.039415284991264,0.039553582668304,0.013008195906878,-0.097903646528721,-0.057190649211407,-0.146357387304306,0.008022489957511,0.024234581738710,-0.038842540234327,-0.030701626092196,-0.199669584631920,0.015918301418424,0.012751743197441,-0.017849775031209,0.022631967440248,-0.055034343153238));
res += mul(Get(s1,0,-dy), float4x4(0.010749794542789,0.128696143627167,0.027969574555755,0.073888652026653,-0.002051143208519,-0.030945166945457,-0.070307269692421,0.100427217781544,-0.057523082941771,0.107576437294483,0.060799915343523,0.001083310460672,0.038734443485737,-0.029448233544827,-0.094978109002113,-0.040272291749716));
res += mul(Get(s1,0,0), float4x4(0.045317322015762,-0.113355316221714,-0.045494478195906,-0.049072418361902,-0.078675299882889,0.074171796441078,-0.069476529955864,-0.050302721560001,-0.053180202841759,0.009296028874815,0.030279442667961,-0.020633703097701,0.115411452949047,0.005577275063843,0.117310009896755,-0.058990877121687));
res += mul(Get(s1,0,dy), float4x4(0.168300032615662,-0.051237557083368,-0.007852576673031,-0.064484946429729,-0.073557071387768,-0.080761127173901,0.089067123830318,0.007192161865532,-0.026167899370193,-0.053631883114576,-0.067789822816849,-0.080141037702560,0.103555001318455,-0.007895593531430,0.020121941342950,0.117105819284916));
res += mul(Get(s1,dx,-dy), float4x4(-0.090275764465332,0.048262968659401,-0.040552865713835,0.020879192277789,0.028069952502847,-0.027354069054127,-0.038056049495935,0.195841297507286,-0.062974058091640,0.059201858937740,0.069576218724251,0.034206744283438,0.096916727721691,-0.011551939882338,-0.059299845248461,0.027081569656730));
res += mul(Get(s1,dx,0), float4x4(0.015941280871630,0.234954223036766,-0.070207893848419,0.071906805038452,-0.069392159581184,-0.029356570914388,-0.055933225899935,0.013566745445132,-0.086509406566620,0.025833543390036,-0.153514087200165,-0.053508520126343,0.030014997348189,0.007591565139592,-0.007668574340641,-0.032567221671343));
res += mul(Get(s1,dx,dy), float4x4(0.065510995686054,0.008038967847824,-0.050392836332321,-0.021879892796278,-0.050814885646105,0.054328784346581,-0.046737994998693,0.015260797925293,-0.069348387420177,0.064143456518650,-0.163157030940056,-0.074162743985653,-0.199455067515373,-0.065205737948418,0.001377801527269,0.024746505543590));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029551960527897,-0.034152466803789,-0.105336830019951,-0.015680391341448,0.042176619172096,-0.018431935459375,0.052372220903635,0.006788897793740,-0.008862842805684,-0.031583834439516,-0.073312692344189,-0.023404333740473,0.084772564470768,0.017560921609402,-0.096255019307137,0.045635446906090));
res += mul(Get(s2,-dx,0), float4x4(-0.135583668947220,0.026808233931661,0.008110148832202,0.394713699817657,0.103278003633022,0.045214839279652,-0.059516910463572,0.008325749076903,-0.061979789286852,-0.005109933670610,0.098481535911560,-0.060987520962954,0.049849785864353,0.023702910169959,-0.042575512081385,-0.132351532578468));
res += mul(Get(s2,-dx,dy), float4x4(-0.099730059504509,0.094115100800991,0.031176278367639,0.177119687199593,-0.013131562620401,0.055095490068197,-0.081749841570854,-0.059356093406677,0.122858740389347,-0.046604666858912,0.096662893891335,-0.018890902400017,-0.132268399000168,0.078284345567226,-0.046177484095097,-0.073629893362522));
res += mul(Get(s2,0,-dy), float4x4(-0.081486418843269,-0.030468864366412,0.006945244502276,-0.164390176534653,-0.056360695511103,-0.020554760470986,-0.026212977245450,-0.011994834057987,0.001537358504720,0.062747627496719,-0.069646239280701,-0.029693979769945,-0.052491627633572,-0.115838631987572,-0.176392182707787,-0.052399549633265));
res += mul(Get(s2,0,0), float4x4(-0.023603131994605,-0.042970959097147,0.057287499308586,-0.219985827803612,0.042378526180983,-0.020436344668269,-0.010744006372988,-0.042867653071880,-0.000703892612364,-0.044259160757065,0.034416355192661,0.068240441381931,0.111014150083065,-0.097819447517395,-0.015198040753603,-0.031034162268043));
res += mul(Get(s2,0,dy), float4x4(-0.027079263702035,0.036240231245756,0.001826928113587,-0.060933671891689,-0.030391424894333,-0.031800586730242,0.112232513725758,-0.107100754976273,-0.066377311944962,-0.051776297390461,0.000275573227555,-0.069800905883312,0.125468119978905,-0.127943396568298,0.009099435061216,-0.056977622210979));
res += mul(Get(s2,dx,-dy), float4x4(-0.130771428346634,0.065822713077068,-0.022409830242395,-0.021828304976225,-0.007103819865733,0.110734745860100,0.074135988950729,0.058597173541784,0.068529240787029,0.039627552032471,0.001026452868246,0.072026446461678,0.018497230485082,-0.128337681293488,0.132931306958199,-0.047504808753729));
res += mul(Get(s2,dx,0), float4x4(-0.049174748361111,0.054833207279444,-0.013516695238650,0.054981496185064,-0.033166084438562,0.037287205457687,0.067645139992237,0.073938041925430,0.008361493237317,0.012287713587284,0.024145249277353,0.049846798181534,0.044794909656048,-0.146692067384720,0.088076770305634,0.114504896104336));
res += mul(Get(s2,dx,dy), float4x4(-0.104752585291862,0.047036867588758,0.013427628204226,0.040396440774202,-0.027200587093830,-0.012837404385209,0.084174618124962,0.052088622003794,0.026668606325984,-0.004701164551079,-0.017082503065467,0.033588755875826,0.053644735366106,-0.130849108099937,-0.035332098603249,-0.058799013495445));
res += mul(Get(s3,-dx,-dy), float4x4(0.049839600920677,-0.123700596392155,0.081111311912537,0.013922737911344,-0.006928190588951,0.011908181011677,-0.129357591271400,0.165142953395844,-0.017025724053383,-0.005532960407436,0.045048259198666,-0.159925803542137,-0.052354119718075,0.121022172272205,0.029474562034011,-0.012395720928907));
res += mul(Get(s3,-dx,0), float4x4(0.018183419480920,-0.098888531327248,0.007926354184747,0.013283402658999,0.058761589229107,-0.036575634032488,-0.011679594404995,-0.106334537267685,0.066774062812328,-0.092611767351627,-0.001694377511740,0.264908075332642,0.042078875005245,0.120590880513191,0.295955508947372,-0.011438768357038));
res += mul(Get(s3,-dx,dy), float4x4(0.039042122662067,0.133954882621765,0.100447721779346,-0.089445106685162,-0.020534073933959,-0.112265370786190,-0.149475142359734,-0.067507162690163,0.071911372244358,-0.086436718702316,-0.051919572055340,0.132463857531548,-0.103932261466980,-0.004345555789769,0.420401573181152,-0.006419054698199));
res += mul(Get(s3,0,-dy), float4x4(-0.087118081748486,0.014137283898890,0.057633921504021,-0.048150457441807,-0.039800431579351,-0.025891799479723,-0.057293247431517,-0.029134349897504,0.008042801171541,-0.064303055405617,-0.025607941672206,-0.048292223364115,0.140086814761162,-0.026636410504580,0.012402130290866,-0.035414960235357));
res += mul(Get(s3,0,0), float4x4(0.090302631258965,-0.073536857962608,-0.049898974597454,-0.032431606203318,-0.016095483675599,-0.019805511459708,0.022675087675452,-0.014269285835326,-0.077744267880917,-0.057957932353020,-0.096818909049034,0.092097222805023,0.096921987831593,0.003222522558644,0.033384539186954,0.126504272222519));
res += mul(Get(s3,0,dy), float4x4(0.037412956357002,0.126613602042198,-0.040356304496527,-0.008029308170080,0.120118401944637,-0.036758009344339,-0.068337261676788,-0.095954529941082,-0.046966683119535,-0.060694541782141,-0.080644614994526,-0.000364008446923,-0.018390906974673,-0.015536475926638,0.003907363861799,0.002743234625086));
res += mul(Get(s3,dx,-dy), float4x4(-0.116406336426735,0.052773851901293,-0.005715503823012,0.049922361969948,-0.031133618205786,-0.027212694287300,-0.085710234940052,0.009177738800645,-0.068324796855450,-0.069386258721352,-0.056171771138906,-0.047310281544924,0.130040675401688,-0.107486717402935,0.034623753279448,0.003446308430284));
res += mul(Get(s3,dx,0), float4x4(0.034186873584986,0.026732934638858,0.004966859705746,0.090658605098724,-0.162600547075272,0.001124486909248,-0.092954270541668,0.038972482085228,-0.187943577766418,-0.047409761697054,-0.099676162004471,-0.078977063298225,0.039326433092356,-0.095270767807961,-0.034485965967178,0.049608331173658));
res += mul(Get(s3,dx,dy), float4x4(-0.067605882883072,0.039369776844978,-0.019181042909622,0.021817250177264,-0.090354308485985,-0.016566157341003,-0.058786004781723,0.136250525712967,0.002774017862976,-0.078958891332150,-0.035821024328470,-0.030367804691195,-0.101085290312767,-0.035670951008797,0.068044021725655,-0.211645185947418));
return max(float4(0,0,0,0), res);
}
