sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.059596046805382,0.279211491346359,0.001619190210477,0.050680954009295,0.021255761384964,-0.075594760477543,-0.045278176665306,0.054638739675283,-0.087263606488705,-0.047535885125399,0.031252540647984,-0.011303314007819,-0.165406987071037,-0.098487801849842,0.016227947548032,-0.050021849572659));
res += mul(Get(s0,-dx,0), float4x4(0.009927394799888,0.019004357978702,-0.044339176267385,-0.056138116866350,0.058000110089779,0.145199701189995,-0.044931113719940,0.069872640073299,-0.008079995401204,-0.034699674695730,-0.189198702573776,0.035970561206341,-0.136096045374870,-0.009386701509356,0.124372817575932,-0.045563001185656));
res += mul(Get(s0,-dx,dy), float4x4(-0.031386576592922,0.226447418332100,-0.063655383884907,-0.025901962071657,0.052911158651114,-0.052467592060566,0.000934652111027,-0.059464443475008,0.057286202907562,-0.007410944905132,-0.128981500864029,-0.019321532920003,-0.020411780104041,-0.034403447061777,0.078274711966515,-0.034515511244535));
res += mul(Get(s0,0,-dy), float4x4(-0.093355149030685,-0.019113274291158,-0.069167494773865,-0.028859708458185,-0.110388033092022,-0.134807527065277,-0.040075782686472,0.009965247474611,-0.054768800735474,-0.129643678665161,0.055490564554930,-0.000163996257470,-0.026167778298259,-0.088417947292328,0.315070688724518,-0.099707871675491));
res += mul(Get(s0,0,0), float4x4(0.009018947370350,0.002115589100868,-0.018476596102118,0.078467264771461,-0.066541120409966,-0.060491267591715,-0.039800584316254,-0.021053643897176,-0.030602745711803,0.078455306589603,-0.005957189481705,-0.041704263538122,-0.025824882090092,-0.049075186252594,-0.012776000425220,-0.057949449867010));
res += mul(Get(s0,0,dy), float4x4(-0.029546238481998,-0.069559395313263,0.018155837431550,-0.006481244694442,0.089961484074593,-0.011036670766771,-0.026701489463449,0.007655124645680,-0.052247386425734,-0.063288308680058,-0.064522348344326,-0.046088721603155,-0.041460994631052,-0.063570626080036,-0.017905093729496,-0.044854130595922));
res += mul(Get(s0,dx,-dy), float4x4(0.075136899948120,0.102348119020462,-0.075721427798271,0.026025556027889,-0.068767979741096,0.003224588930607,-0.024377072229981,0.053893513977528,0.021459894254804,-0.023238372057676,-0.055130939930677,-0.074236497282982,-0.142310306429863,-0.023715075105429,0.134896263480186,-0.004424275830388));
res += mul(Get(s0,dx,0), float4x4(0.079320535063744,0.080422110855579,-0.083290353417397,-0.061299417167902,-0.003901152405888,0.133412659168243,-0.037447702139616,0.001911879400723,-0.008032018318772,0.002732063410804,0.056605946272612,-0.018937066197395,-0.028807828202844,0.111989632248878,0.108722865581512,0.028806133195758));
res += mul(Get(s0,dx,dy), float4x4(0.119771130383015,0.048499755561352,-0.044504687190056,-0.162937343120575,-0.005971843842417,0.013026309199631,-0.072436705231667,0.006853255908936,-0.054955132305622,-0.069209985435009,-0.091718122363091,-0.125730603933334,-0.002123790560290,0.027729343622923,0.197707951068878,-0.078912988305092));
res += mul(Get(s1,-dx,-dy), float4x4(-0.081043481826782,0.030976336449385,-0.046697355806828,0.020167279988527,-0.065821915864944,-0.093205451965332,-0.045204073190689,-0.055809766054153,-0.022107198834419,-0.052243243902922,0.078265301883221,-0.094914369285107,-0.001513412920758,-0.069748245179653,-0.024058857932687,0.066228218376637));
res += mul(Get(s1,-dx,0), float4x4(-0.029839644208550,-0.017868328839540,-0.085864022374153,-0.034412749111652,0.023081960156560,-0.093680366873741,-0.051326930522919,0.043957792222500,0.027018029242754,0.087305814027786,-0.110885255038738,0.072012796998024,-0.054566357284784,0.068475373089314,0.007035723421723,-0.079692259430885));
res += mul(Get(s1,-dx,dy), float4x4(-0.054726492613554,0.027357136830688,-0.010696620680392,-0.005014208145440,0.106169968843460,0.055772840976715,-0.051347486674786,-0.085163936018944,0.168566003441811,-0.075184822082520,0.023785676807165,0.088376827538013,0.051434863358736,0.000941413920373,0.003868309315294,0.041920963674784));
res += mul(Get(s1,0,-dy), float4x4(-0.084383264183998,-0.061386808753014,0.108571611344814,-0.091890476644039,-0.026311205700040,-0.017931859940290,-0.010632614605129,-0.071873418986797,-0.057106852531433,0.031389024108648,-0.024755230173469,-0.047417338937521,-0.067082487046719,0.081093914806843,-0.037436284124851,0.133201077580452));
res += mul(Get(s1,0,0), float4x4(-0.101786829531193,-0.030690740793943,-0.035974409431219,-0.054969016462564,0.104284569621086,-0.054917018860579,0.121544942259789,-0.135116264224052,-0.013312358409166,0.300173997879028,-0.080113083124161,-0.061072487384081,0.090208448469639,0.131313800811768,0.106592483818531,0.008936787955463));
res += mul(Get(s1,0,dy), float4x4(-0.041147291660309,0.009241917170584,0.150566831231117,0.019860886037350,-0.025143580511212,0.070792600512505,0.123661257326603,-0.173529937863350,0.035138722509146,0.155888512730598,0.033479824662209,0.077273055911064,0.038852918893099,-0.041916292160749,0.132645770907402,0.059034012258053));
res += mul(Get(s1,dx,-dy), float4x4(0.086603030562401,-0.031678840517998,0.068021893501282,0.151119098067284,-0.103260315954685,-0.018741013482213,0.065937213599682,-0.055302262306213,-0.102340333163738,-0.095256008207798,0.039125025272369,0.081375785171986,0.001542614074424,-0.096463754773140,-0.074677653610706,0.206479385495186));
res += mul(Get(s1,dx,0), float4x4(0.066726595163345,-0.055017106235027,0.018344432115555,0.045455623418093,-0.084251902997494,0.053216554224491,0.030176339671016,-0.002618460683152,-0.110198885202408,-0.062089890241623,-0.000327593355905,0.300814658403397,0.005114470608532,-0.018581654876471,-0.051504567265511,0.074201889336109));
res += mul(Get(s1,dx,dy), float4x4(-0.064352147281170,0.026806851848960,-0.046904049813747,0.029771573841572,-0.100486651062965,0.012357646599412,0.032265603542328,-0.082531414926052,0.119280271232128,-0.231759965419769,0.039828516542912,-0.054439950734377,-0.015586894005537,-0.051947150379419,0.134642496705055,0.006797609385103));
res += mul(Get(s2,-dx,-dy), float4x4(-0.148119866847992,-0.023532601073384,-0.060304112732410,-0.105271302163601,0.066468790173531,0.065958671271801,-0.138106465339661,-0.026749039068818,0.000628125097137,0.209623262286186,-0.109721735119820,0.041649911552668,-0.042637247592211,0.036928385496140,0.073719851672649,0.028767373412848));
res += mul(Get(s2,-dx,0), float4x4(-0.034413546323776,-0.027098042890429,-0.072811327874660,-0.034698117524385,0.058963410556316,-0.000740012677852,-0.096332930028439,0.035207416862249,0.076074697077274,0.071068048477173,-0.062608115375042,0.066771574318409,-0.109676167368889,-0.078979678452015,0.021848248317838,-0.018490293994546));
res += mul(Get(s2,-dx,dy), float4x4(-0.094729423522949,0.102667830884457,-0.090893194079399,0.034306474030018,0.001498042605817,-0.051093757152557,0.042749166488647,0.036170847713947,-0.018983770161867,0.005305870901793,0.026963641867042,-0.031395353376865,-0.083793014287949,-0.021026631817222,0.040076769888401,-0.001515723066404));
res += mul(Get(s2,0,-dy), float4x4(0.066462032496929,0.087725497782230,0.191196992993355,0.092340022325516,-0.081749819219112,0.150273501873016,-0.088400185108185,-0.000529203447513,0.051919754594564,0.124639518558979,-0.030405718833208,-0.098147138953209,-0.108915396034718,0.035958368331194,-0.042337536811829,0.048282939940691));
res += mul(Get(s2,0,0), float4x4(0.062747664749622,0.111135274171829,0.089380711317062,0.014883800409734,0.044246088713408,0.167799651622772,-0.018285619094968,-0.000815168488771,0.126983970403671,0.053666643798351,-0.046373717486858,0.007037337403744,-0.079433813691139,-0.149855569005013,-0.155036702752113,0.075406149029732));
res += mul(Get(s2,0,dy), float4x4(-0.090686708688736,0.098594054579735,0.091001808643341,0.124657154083252,0.335062056779861,0.021267065778375,0.013800148852170,-0.109721310436726,-0.047303058207035,0.050909109413624,-0.008616530336440,0.012143836356699,-0.066823594272137,0.003249115543440,0.009574096649885,0.058339897543192));
res += mul(Get(s2,dx,-dy), float4x4(-0.069333508610725,-0.123252853751183,0.040300898253918,-0.070819608867168,-0.034890528768301,-0.017361067235470,-0.060151901096106,-0.006172784604132,0.083205856382847,-0.111073225736618,0.017378639429808,-0.029146291315556,-0.077346414327621,-0.014822147786617,0.072933927178383,0.073895037174225));
res += mul(Get(s2,dx,0), float4x4(-0.005410542711616,-0.035681501030922,-0.123362481594086,-0.051366660743952,0.044228658080101,0.037008583545685,-0.059284102171659,-0.067030265927315,0.047864928841591,-0.061234280467033,-0.026675479486585,0.126540377736092,0.163010880351067,-0.049129821360111,-0.039806976914406,0.148827821016312));
res += mul(Get(s2,dx,dy), float4x4(0.042793083935976,-0.093432068824768,-0.046917960047722,-0.061861608177423,0.007852653972805,0.023812502622604,-0.032197352498770,-0.018619453534484,-0.019191980361938,-0.087475351989269,-0.000814364873804,-0.050789687782526,0.141346886754036,0.023636171594262,-0.006590730976313,0.117024056613445));
res += mul(Get(s3,-dx,-dy), float4x4(-0.045539561659098,-0.061080008745193,0.024669008329511,-0.015655277296901,0.034003816545010,-0.020747734233737,-0.083486944437027,0.001449765521102,-0.082558579742908,-0.103627339005470,-0.029256308451295,-0.027148611843586,0.075747989118099,0.067308388650417,0.022149911150336,0.016354653984308));
res += mul(Get(s3,-dx,0), float4x4(0.006286609452218,0.052377793937922,-0.036870118230581,0.047921258956194,0.114795558154583,0.113154835999012,0.011520182713866,0.105890341103077,-0.017580334097147,-0.019797785207629,0.011036357842386,-0.039655145257711,-0.003075351705775,-0.038065161556005,0.045001734048128,-0.066594861447811));
res += mul(Get(s3,-dx,dy), float4x4(0.019822131842375,-0.077341511845589,-0.010272884741426,-0.038591824471951,0.103555366396904,-0.019824597984552,0.082608141005039,0.030204856768250,-0.083741627633572,-0.052095387130976,-0.012419377453625,0.024303749203682,-0.087283320724964,0.051375437527895,-0.010639403946698,-0.016380984336138));
res += mul(Get(s3,0,-dy), float4x4(0.086691208183765,-0.133193016052246,-0.005298370495439,-0.045878965407610,-0.017535669729114,-0.019178239628673,-0.001188428956084,-0.033536829054356,-0.067904353141785,-0.080771692097187,0.010798515751958,-0.047909434884787,0.025136457756162,0.109761506319046,-0.073636509478092,-0.067877523601055));
res += mul(Get(s3,0,0), float4x4(-0.003766529960558,-0.009584639221430,0.042504560202360,0.031517069786787,-0.069001011550426,0.034619007259607,0.039645358920097,0.004577054176480,-0.061549317091703,0.052709590643644,0.070011198520660,-0.114217139780521,0.000890667375643,-0.047549407929182,0.062487713992596,-0.020567774772644));
res += mul(Get(s3,0,dy), float4x4(0.144442915916443,0.000020544513973,0.098807066679001,-0.061104316264391,0.056817192584276,0.095280975103378,0.017214957624674,-0.145561739802361,-0.036935590207577,-0.109579756855965,0.069584250450134,-0.033057283610106,-0.100795984268188,-0.016855994239450,-0.001189591945149,0.035427607595921));
res += mul(Get(s3,dx,-dy), float4x4(0.079987071454525,0.080191999673843,0.004890757612884,0.120438955724239,0.004029843490571,-0.043948847800493,0.061688937246799,0.092713646590710,-0.125539511442184,-0.009868456982076,0.026913082227111,0.079165540635586,0.007442942820489,-0.084052331745625,-0.041417460888624,0.079316139221191));
res += mul(Get(s3,dx,0), float4x4(0.078737370669842,-0.083899103105068,-0.027585227042437,0.056390017271042,-0.039452239871025,0.066555224359035,0.002684989245608,0.113964550197124,-0.044951464980841,0.158737555146217,0.015181228518486,0.016211833804846,0.001119867549278,-0.116485439240932,0.059041097760201,0.065615661442280));
res += mul(Get(s3,dx,dy), float4x4(0.030734440311790,-0.048613030463457,0.020100831985474,0.000740998832043,0.094367861747742,0.019844692200422,-0.104345865547657,-0.062431499361992,0.005478117149323,0.044423099607229,-0.060150992125273,0.025221543386579,-0.058253660798073,-0.097584038972855,-0.114993706345558,0.035522136837244));
return max(float4(0,0,0,0), res);
}
