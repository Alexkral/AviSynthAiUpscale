sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.067806452512741,0.027811452746391,0.012644036673009,-0.010253412649035,0.052420556545258,-0.022927785292268,-0.044669758528471,0.049692805856466,0.057992015033960,-0.185774639248848,-0.118710346519947,-0.079170435667038,-0.062948606908321,0.101171351969242,0.156029805541039,-0.113171100616455));
res += mul(Get(s0,-dx,0), float4x4(0.065319374203682,0.216978073120117,-0.186037033796310,-0.038746986538172,-0.084352850914001,-0.170746639370918,-0.121501125395298,0.299477070569992,0.147718980908394,0.165721908211708,0.019030390307307,0.197333246469498,0.003095954423770,-0.027933927252889,-0.050731357187033,-0.097885347902775));
res += mul(Get(s0,-dx,dy), float4x4(-0.170787349343300,0.048897501081228,0.045095060020685,0.181279391050339,-0.064811989665031,0.035995617508888,0.045849818736315,0.052875608205795,-0.116255223751068,0.000224549803534,0.102506749331951,-0.029619472101331,0.060254145413637,0.164705052971840,0.052230089902878,0.024720624089241));
res += mul(Get(s0,0,-dy), float4x4(-0.064640790224075,0.049415249377489,0.121248520910740,-0.083842508494854,-0.115113690495491,-0.050304923206568,-0.034445509314537,-0.052838418632746,-0.138722553849220,0.031681030988693,0.146858349442482,-0.070645578205585,0.019853087142110,0.098507583141327,-0.073335625231266,0.111028246581554));
res += mul(Get(s0,0,0), float4x4(0.073868051171303,0.044628143310547,0.010422594845295,-0.073428966104984,-0.027749957516789,-0.005766927264631,0.005507776048034,-0.129173323512077,0.100415952503681,-0.034570373594761,0.010864036157727,0.006970160175115,-0.042128622531891,0.121624700725079,-0.114866048097610,0.093505620956421));
res += mul(Get(s0,0,dy), float4x4(-0.082826875150204,0.043015826493502,0.023459797725081,0.016664011403918,-0.164097160100937,-0.033364854753017,-0.051442209631205,0.038728542625904,-0.040359962731600,-0.149733051657677,0.150773540139198,0.106467902660370,0.032373856753111,-0.097718812525272,-0.017614791169763,0.121260285377502));
res += mul(Get(s0,dx,-dy), float4x4(0.039046280086040,0.077213905751705,-0.189070686697960,0.016086071729660,0.037997335195541,-0.102116651833057,0.024859176948667,0.041030600667000,-0.070434488356113,0.023158334195614,-0.005805137567222,0.065389625728130,-0.057928565889597,-0.051615476608276,-0.004693405702710,0.072349347174168));
res += mul(Get(s0,dx,0), float4x4(0.121567659080029,0.064580224454403,0.128353253006935,0.056804120540619,-0.104411311447620,-0.101700417697430,0.068099983036518,0.135464027523994,-0.026993466541171,0.008146736770868,-0.068806216120720,0.071635544300079,-0.117400936782360,0.137856081128120,-0.033765319734812,-0.051062818616629));
res += mul(Get(s0,dx,dy), float4x4(0.153688311576843,0.017910020425916,-0.007681473158300,0.204550147056580,-0.048547852784395,-0.101710364222527,-0.196301817893982,-0.006148362997919,-0.075712256133556,-0.065759755671024,-0.150405764579773,-0.142965003848076,0.061170823872089,-0.140409409999847,0.091821111738682,-0.067516237497330));
res += mul(Get(s1,-dx,-dy), float4x4(0.125953212380409,0.084551267325878,-0.065688267350197,0.178534924983978,-0.085015252232552,0.069596067070961,0.030359318479896,0.022435659542680,-0.184918120503426,0.062118403613567,0.056572806090117,0.325288951396942,0.019091391935945,-0.129424780607224,-0.063603907823563,0.067231044173241));
res += mul(Get(s1,-dx,0), float4x4(-0.073966786265373,-0.087612971663475,-0.067229315638542,0.092198498547077,0.025196596980095,-0.036960426717997,0.000798321445473,0.062809206545353,-0.020405331626534,-0.062732659280300,0.046744592487812,0.056212630122900,0.057885371148586,-0.289228051900864,0.049002580344677,0.010151050984859));
res += mul(Get(s1,-dx,dy), float4x4(-0.024359291419387,-0.107878759503365,-0.164997711777687,-0.026456970721483,-0.066772289574146,0.093589201569557,-0.045906107872725,0.081224009394646,-0.020175671204925,-0.056215874850750,-0.030445246025920,-0.050557956099510,0.077781222760677,-0.052217766642570,-0.129187479615211,-0.174708932638168));
res += mul(Get(s1,0,-dy), float4x4(-0.184638902544975,-0.120562337338924,-0.022085566073656,0.169690921902657,-0.220739528536797,-0.022936504334211,-0.068626619875431,0.061902280896902,-0.135086923837662,0.039161276072264,-0.093847684562206,0.162966042757034,0.214241266250610,0.168866395950317,-0.075391836464405,-0.052753694355488));
res += mul(Get(s1,0,0), float4x4(-0.118506848812103,-0.004807562567294,0.025064339861274,-0.117949560284615,-0.021828850731254,-0.109573662281036,0.162397369742393,0.002136835828424,-0.129798725247383,-0.039909966289997,0.109735332429409,0.184881761670113,-0.153969764709473,-0.173969462513924,-0.003436619183049,0.125387981534004));
res += mul(Get(s1,0,dy), float4x4(-0.051760792732239,-0.053782097995281,0.166321635246277,0.024711687117815,0.095763526856899,-0.005597498733550,-0.039211265742779,0.036557085812092,0.092855945229530,-0.028409838676453,0.076581023633480,0.052600409835577,0.192946940660477,-0.046383988112211,-0.035397935658693,-0.029881376773119));
res += mul(Get(s1,dx,-dy), float4x4(-0.019440116360784,0.085041344165802,-0.157274901866913,0.199829265475273,-0.098604314029217,-0.106735534965992,-0.037281367927790,0.005510870832950,-0.063666708767414,-0.223326861858368,0.194390386343002,0.116814680397511,-0.163273259997368,0.068789474666119,-0.106957189738750,-0.014872627332807));
res += mul(Get(s1,dx,0), float4x4(0.027063535526395,-0.209266379475594,-0.161584869027138,0.056485865265131,-0.023870080709457,-0.043917026370764,-0.095583625137806,-0.072552308440208,0.077888436615467,0.047677289694548,0.077565118670464,0.123215116560459,0.033815506845713,-0.011076571419835,0.056693978607655,0.014673884026706));
res += mul(Get(s1,dx,dy), float4x4(0.038597878068686,-0.136409595608711,-0.071058571338654,-0.120094716548920,0.087968796491623,0.097321301698685,-0.049447428435087,-0.160655006766319,0.016938591375947,-0.210344761610031,-0.012291733175516,0.030211683362722,0.054852444678545,0.042719226330519,0.113352641463280,-0.083058059215546));
res += mul(Get(s2,-dx,-dy), float4x4(0.009743664413691,-0.122125588357449,-0.059313628822565,0.030480559915304,0.040286775678396,0.068160511553288,-0.036722235381603,-0.152454450726509,0.157607376575470,0.208746954798698,-0.110713049769402,0.026514844968915,0.088662207126617,0.057069521397352,0.083886191248894,-0.119635321199894));
res += mul(Get(s2,-dx,0), float4x4(0.001059811329469,-0.074646346271038,0.052457150071859,0.002899000653997,-0.076719731092453,0.031539712101221,0.183040037751198,-0.165641471743584,-0.058271206915379,-0.086950138211250,0.010315880179405,0.095980823040009,0.062125258147717,0.018099417909980,-0.092161349952221,-0.091101534664631));
res += mul(Get(s2,-dx,dy), float4x4(0.155935972929001,0.096508711576462,0.039192795753479,-0.071093037724495,-0.078216016292572,0.025552613660693,0.031461015343666,0.205932229757309,0.006749682594091,0.022750398144126,-0.018088119104505,0.145146444439888,0.022726103663445,0.084897644817829,0.132117673754692,0.055858157575130));
res += mul(Get(s2,0,-dy), float4x4(0.127670302987099,0.037738956511021,0.120857268571854,-0.000179864102392,-0.082182787358761,-0.127450093626976,-0.157233521342278,-0.043357264250517,0.000792606500909,-0.046358689665794,-0.058414742350578,0.156158715486526,0.125215977430344,0.058382727205753,0.103310629725456,-0.048661362379789));
res += mul(Get(s2,0,0), float4x4(0.021836282685399,-0.185406118631363,-0.028664074838161,0.004171734210104,-0.055344022810459,-0.002103900071234,-0.150857165455818,-0.102382369339466,-0.009493205696344,-0.154669404029846,-0.191170871257782,0.069011263549328,-0.012077618390322,-0.150702223181725,0.076291307806969,-0.130509048700333));
res += mul(Get(s2,0,dy), float4x4(0.093297675251961,0.093841709196568,0.210158422589302,0.012723763473332,0.034298747777939,0.176697671413422,0.119204685091972,0.008043587207794,0.192658975720406,0.049368653446436,-0.040766015648842,0.062903061509132,-0.002228686353192,0.071206830441952,0.110192470252514,-0.003198670689017));
res += mul(Get(s2,dx,-dy), float4x4(-0.022781940177083,-0.064803622663021,-0.054771471768618,-0.052048515528440,0.016912503167987,-0.060224268585443,-0.006404363550246,0.059420246630907,0.038944534957409,-0.030721079558134,0.201529830694199,0.056788735091686,0.005396033171564,-0.064204148948193,-0.033290028572083,0.057887591421604));
res += mul(Get(s2,dx,0), float4x4(-0.098965778946877,-0.058967269957066,-0.154405489563942,0.215559229254723,-0.074087530374527,0.088414050638676,0.206809982657433,0.036383222788572,0.089495554566383,-0.034266266971827,-0.004118093289435,-0.151759624481201,0.021424688398838,0.068022117018700,-0.018316324800253,0.146913275122643));
res += mul(Get(s2,dx,dy), float4x4(-0.066421031951904,-0.086173310875893,-0.228093087673187,0.171980276703835,0.058277703821659,-0.088054545223713,0.055713269859552,0.172129228711128,0.088813215494156,0.082653224468231,0.095413178205490,0.010467369109392,0.099749490618706,-0.044731918722391,0.020742341876030,0.049208275973797));
res += mul(Get(s3,-dx,-dy), float4x4(0.063430450856686,0.097901403903961,-0.111005827784538,-0.036472707986832,-0.116692356765270,-0.124514229595661,-0.077349968254566,-0.108097314834595,-0.022198231890798,0.060582749545574,-0.107546187937260,0.151862680912018,0.011127274483442,-0.134248182177544,0.013055356219411,-0.010224884375930));
res += mul(Get(s3,-dx,0), float4x4(-0.080177456140518,-0.059421379119158,0.043213363736868,0.007112081628293,0.001843899954110,-0.002648120513186,0.139403209090233,0.037402231246233,0.028910040855408,-0.086923971772194,0.038744211196899,0.125525102019310,-0.263149559497833,0.045118302106857,-0.009518705308437,0.097652241587639));
res += mul(Get(s3,-dx,dy), float4x4(-0.056047607213259,-0.114910498261452,0.144952028989792,0.205934166908264,0.077459476888180,0.080399103462696,-0.076622910797596,0.113401576876640,-0.085131511092186,0.194425091147423,0.021188218146563,-0.204700708389282,-0.031770788133144,0.137896269559860,-0.009222405031323,-0.050812896341085));
res += mul(Get(s3,0,-dy), float4x4(0.240450203418732,-0.012548747472465,-0.056499809026718,0.252064794301987,-0.065452918410301,-0.054999478161335,0.004487568512559,0.039671756327152,-0.003776428056881,0.060534320771694,0.064067967236042,-0.065907530486584,-0.004525468219072,-0.035056844353676,0.025595126673579,0.069073878228664));
res += mul(Get(s3,0,0), float4x4(-0.111007712781429,0.143642336130142,-0.204000011086464,-0.083200156688690,-0.149827986955643,-0.042151462286711,-0.066647343337536,0.179748624563217,0.040316928178072,-0.031554993242025,-0.104730449616909,0.030681073665619,-0.109016142785549,-0.066006109118462,0.073158964514732,0.059978242963552));
res += mul(Get(s3,0,dy), float4x4(0.093119055032730,-0.059582035988569,0.007638653740287,0.147921994328499,0.157009556889534,0.285702854394913,-0.100422397255898,-0.007173548918217,0.060461509972811,0.091094642877579,0.113147512078285,-0.038405723869801,-0.069004364311695,0.115909688174725,-0.173751071095467,0.164227813482285));
res += mul(Get(s3,dx,-dy), float4x4(-0.026749450713396,-0.036940228193998,-0.109959013760090,0.313294410705566,0.016166521236300,0.009037303738296,-0.185889467597008,0.055365946143866,-0.083179831504822,-0.121460773050785,-0.129474446177483,-0.095155656337738,-0.122680880129337,0.030884530395269,-0.101187735795975,-0.205173850059509));
res += mul(Get(s3,dx,0), float4x4(-0.116298951208591,0.032431215047836,-0.084434248507023,-0.254627883434296,-0.188428491353989,0.084048233926296,0.046081352978945,0.081620365381241,0.063755303621292,-0.157676130533218,-0.043576564639807,0.006236880086362,-0.098790861666203,-0.104449599981308,-0.089522175490856,0.242412969470024));
res += mul(Get(s3,dx,dy), float4x4(-0.067936815321445,0.042629700154066,-0.135675549507141,-0.050855908542871,0.289362013339996,-0.136371448636055,-0.115849822759628,0.017555445432663,0.353352695703506,-0.070000253617764,-0.083884052932262,-0.033506993204355,0.047902148216963,-0.023443907499313,-0.062748186290264,-0.074297547340393));
return max(float4(0,0,0,0), res);
}
