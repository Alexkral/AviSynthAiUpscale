sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.125460132956505,-0.033541675657034,-0.076998248696327,-0.026740716770291,-0.082385726273060,0.029461037367582,0.012299472466111,-0.137513384222984,0.130573943257332,-0.053311351686716,-0.108594387769699,-0.183196097612381,-0.169801652431488,0.070245198905468,0.176080942153931,0.003922129981220));
res += mul(Get(s0,-dx,0), float4x4(-0.039708096534014,-0.159415826201439,-0.128572240471840,0.003023469820619,0.001641321694478,-0.150193035602570,-0.030213838443160,-0.041537623852491,-0.092849239706993,-0.001345459138975,-0.027871588245034,-0.023115092888474,-0.199112042784691,0.075739897787571,0.028798185288906,0.004265707451850));
res += mul(Get(s0,-dx,dy), float4x4(0.028680486604571,0.162950903177261,-0.039412185549736,-0.124320656061172,0.030044984072447,-0.037713050842285,-0.030620358884335,0.041090935468674,0.023304691538215,0.163047730922699,-0.097949519753456,-0.007134561892599,-0.061167787760496,-0.041328862309456,0.121039874851704,-0.110187426209450));
res += mul(Get(s0,0,-dy), float4x4(0.082139074802399,-0.042998459190130,0.008532164618373,-0.021717954427004,0.006522085517645,-0.012810506857932,0.038069833070040,-0.018672773614526,-0.153614997863770,-0.140629872679710,-0.119647286832333,-0.028025800362229,-0.045304678380489,0.014036411419511,-0.055602710694075,-0.022411642596126));
res += mul(Get(s0,0,0), float4x4(0.056520767509937,-0.047282367944717,0.094139635562897,0.017358520999551,0.209895014762878,0.152912944555283,0.165382057428360,-0.046629950404167,-0.033900491893291,-0.043388906866312,-0.074560925364494,-0.003236457472667,0.039874337613583,-0.022805927321315,-0.078946724534035,0.095266066491604));
res += mul(Get(s0,0,dy), float4x4(0.079209402203560,-0.129826098680496,0.043869234621525,-0.063138261437416,-0.058954488486052,0.054265953600407,0.021613007411361,-0.115532010793686,-0.050752129405737,0.065113186836243,0.117143362760544,0.064378432929516,-0.047731827944517,-0.089484401047230,0.089510194957256,0.096930526196957));
res += mul(Get(s0,dx,-dy), float4x4(0.025028472766280,-0.049047008156776,-0.160333007574081,0.140286549925804,-0.252524405717850,0.008087893016636,-0.087716042995453,0.005072874482721,-0.082677952945232,0.016391202807426,-0.167610660195351,0.067143164575100,-0.243308350443840,0.047788463532925,-0.118714034557343,0.218309760093689));
res += mul(Get(s0,dx,0), float4x4(-0.116355903446674,0.019236052408814,-0.066812179982662,-0.203514367341995,-0.193586483597755,-0.158314600586891,-0.262239784002304,0.053445562720299,0.066347941756248,0.011243359185755,-0.091914623975754,0.061008181422949,0.119950123131275,0.062013108283281,0.068952143192291,0.008708994835615));
res += mul(Get(s0,dx,dy), float4x4(0.073825635015965,-0.140607357025146,-0.028782689943910,0.119392715394497,0.017617002129555,-0.122949458658695,-0.176372066140175,0.138270363211632,0.051625024527311,-0.101600311696529,0.012525001540780,0.112018249928951,0.047991577535868,0.061069514602423,-0.109702341258526,-0.003435775171965));
res += mul(Get(s1,-dx,-dy), float4x4(-0.027037767693400,-0.094302169978619,0.122644789516926,0.156598567962646,0.109356150031090,-0.079700864851475,-0.047858119010925,0.027335314080119,0.068196296691895,0.030718512833118,0.012454136274755,-0.007251284085214,0.026066131889820,0.111876338720322,-0.050094254314899,0.056505408138037));
res += mul(Get(s1,-dx,0), float4x4(-0.063646160066128,0.090306274592876,-0.101862452924252,0.068389050662518,-0.093803115189075,0.071599081158638,-0.145433738827705,0.191556856036186,0.136798530817032,-0.046675462275743,-0.045846473425627,0.108266480267048,-0.020201398059726,0.130387529730797,0.014569220133126,0.181874513626099));
res += mul(Get(s1,-dx,dy), float4x4(-0.076296612620354,0.069081254303455,-0.056602612137794,0.102969452738762,-0.000250031735050,-0.109502881765366,-0.059378158301115,0.028149366378784,-0.168521836400032,0.058027118444443,0.013399417512119,-0.332257151603699,0.144872173666954,0.081417039036751,-0.080063976347446,0.005987064912915));
res += mul(Get(s1,0,-dy), float4x4(0.236511886119843,-0.098903857171535,0.158365249633789,0.110918439924717,-0.034195471554995,0.014838458970189,-0.159381389617920,0.068292677402496,-0.001382938004099,0.071316063404083,0.051404688507318,-0.077892921864986,-0.075179696083069,-0.073090106248856,-0.208743199706078,-0.019373325631022));
res += mul(Get(s1,0,0), float4x4(0.152503386139870,0.029278073459864,0.004125930368900,-0.038371697068214,0.139622867107391,0.176814511418343,-0.058365687727928,-0.218885138630867,0.075159460306168,-0.068357884883881,0.000530728662852,-0.030865162611008,-0.041593980044127,-0.014083715155721,0.021906770765781,0.085984706878662));
res += mul(Get(s1,0,dy), float4x4(0.056455880403519,0.118834562599659,0.047802824527025,-0.088908635079861,-0.001216490752995,-0.087249472737312,-0.037719678133726,0.030490227043629,-0.015088019892573,-0.054015170782804,-0.098875328898430,-0.112508580088615,0.142479181289673,-0.017246145755053,-0.028442919254303,-0.181213021278381));
res += mul(Get(s1,dx,-dy), float4x4(-0.014644626528025,0.190604388713837,0.102880589663982,-0.148950949311256,0.033579025417566,-0.021285949274898,0.096107497811317,-0.051229894161224,0.130378395318985,0.015493132174015,-0.136545568704605,-0.012803066521883,-0.060573559254408,0.160263150930405,-0.029970934614539,-0.095621846616268));
res += mul(Get(s1,dx,0), float4x4(-0.004722555167973,-0.061569355428219,-0.060927584767342,0.085575751960278,-0.055879328399897,-0.051579393446445,0.026983750984073,-0.105331756174564,-0.151605710387230,0.229056149721146,0.078070893883705,-0.129851669073105,0.140985727310181,-0.082973606884480,0.003259294899181,-0.197130918502808));
res += mul(Get(s1,dx,dy), float4x4(0.028838997706771,-0.115866050124168,0.090479634702206,0.091823972761631,0.094387449324131,-0.061195258051157,-0.047753930091858,-0.019362537190318,0.132102981209755,0.239066377282143,-0.123262040317059,-0.283846467733383,-0.030245823785663,-0.155591085553169,0.282140821218491,-0.044044919312000));
res += mul(Get(s2,-dx,-dy), float4x4(0.196868956089020,-0.133243411779404,-0.035140756517649,0.006858700886369,0.009855269454420,0.227358266711235,0.009432683698833,-0.212611272931099,0.087638214230537,0.004580293782055,-0.095262020826340,-0.015373856760561,-0.031784627586603,-0.014002802781761,0.015952907502651,-0.048771571367979));
res += mul(Get(s2,-dx,0), float4x4(0.080770030617714,0.159569486975670,0.099643073976040,0.110888779163361,-0.070219643414021,-0.075656108558178,0.155381888151169,-0.020586041733623,0.004273002035916,-0.038857717067003,-0.035707715898752,-0.097419612109661,-0.000966595776845,0.020716473460197,-0.100779041647911,0.053568776696920));
res += mul(Get(s2,-dx,dy), float4x4(0.165442690253258,0.008262361399829,-0.101211927831173,0.097454860806465,-0.117804922163486,0.075926236808300,0.162866503000259,0.142368704080582,-0.106725521385670,-0.049040779471397,-0.035286154597998,0.086395278573036,0.054261270910501,0.074375674128532,0.074967250227928,-0.128636524081230));
res += mul(Get(s2,0,-dy), float4x4(-0.257048338651657,0.017370896413922,0.033367417752743,0.070142216980457,0.049052059650421,0.118394464254379,-0.043008308857679,0.134730011224747,-0.104678899049759,0.053941883146763,0.089593648910522,0.055583130568266,0.007894032634795,-0.013117381371558,0.049733873456717,0.021446093916893));
res += mul(Get(s2,0,0), float4x4(-0.055095776915550,-0.081301838159561,-0.003233770374209,-0.038098823279142,-0.072152733802795,0.169946625828743,-0.002407251857221,0.033529520034790,0.046438008546829,-0.085751786828041,0.083446003496647,0.155166178941727,-0.138726815581322,-0.051917869597673,0.068946152925491,0.198420926928520));
res += mul(Get(s2,0,dy), float4x4(-0.051140349358320,-0.054941475391388,-0.252649575471878,-0.036132525652647,-0.125622257590294,0.032944910228252,0.210838645696640,0.031327057629824,0.078344225883484,-0.029117921367288,0.034281760454178,-0.006653474643826,0.112245701253414,-0.079908043146133,-0.089497126638889,0.158188283443451));
res += mul(Get(s2,dx,-dy), float4x4(0.048759512603283,-0.061223197728395,-0.109478056430817,-0.202636793255806,-0.138159573078156,0.185419395565987,0.169541880488396,0.009644509293139,0.010321305133402,-0.058277674019337,0.131797149777412,-0.038507048040628,-0.029172260314226,0.006062836386263,0.017753379419446,0.054223500192165));
res += mul(Get(s2,dx,0), float4x4(0.037297759205103,-0.110714174807072,0.039601426571608,-0.012335048988461,0.004063155502081,0.101424425840378,-0.049474716186523,-0.028819404542446,-0.086639121174812,-0.030754866078496,-0.146560370922089,-0.048311229795218,-0.025249291211367,-0.020800519734621,-0.086268469691277,-0.018804963678122));
res += mul(Get(s2,dx,dy), float4x4(-0.040303874760866,-0.063227698206902,-0.089113168418407,-0.043912772089243,0.086600571870804,0.147141799330711,-0.052432850003242,0.016646359115839,0.153428331017494,0.090983368456364,0.019329624250531,-0.046276666224003,-0.020122200250626,-0.063793756067753,0.031707711517811,-0.123029045760632));
res += mul(Get(s3,-dx,-dy), float4x4(0.291733711957932,-0.076973669230938,0.140344232320786,0.282864600419998,0.047465506941080,-0.163446649909019,0.018142508342862,0.002362441271544,-0.016457257792354,0.121584430336952,0.019432632252574,0.028204234316945,0.113690242171288,0.154168426990509,-0.017481086775661,0.003044538898394));
res += mul(Get(s3,-dx,0), float4x4(-0.035178165882826,-0.064067080616951,-0.078140765428543,0.291580229997635,-0.024956317618489,0.127780213952065,0.254255503416061,0.036783602088690,-0.206711024045944,0.030379097908735,-0.015591290779412,0.136641144752502,-0.204976201057434,0.179807856678963,0.006914359517395,0.043356679379940));
res += mul(Get(s3,-dx,dy), float4x4(0.090014278888702,-0.077684104442596,-0.125497564673424,0.015689151361585,0.045238167047501,-0.183411911129951,0.037585906684399,0.053233049809933,-0.112630762159824,0.055972684174776,0.020347211509943,0.007006468251348,0.059460390359163,-0.026521494612098,-0.057091392576694,-0.011894448660314));
res += mul(Get(s3,0,-dy), float4x4(-0.054003756493330,0.157340899109840,-0.065712504088879,0.153173655271530,-0.048089157789946,-0.007648014463484,-0.056687958538532,-0.063750877976418,0.088306486606598,0.054773338139057,0.053323168307543,0.016410917043686,0.012261455878615,0.148038908839226,0.089215807616711,0.005637982860208));
res += mul(Get(s3,0,0), float4x4(0.161388874053955,0.060824651271105,-0.186972662806511,0.109306693077087,-0.145291879773140,-0.045596264302731,0.065217778086662,0.079059951007366,0.234478503465652,0.221709460020065,-0.092356204986572,-0.050638128072023,0.143599987030029,0.101228192448616,-0.149344921112061,0.094100780785084));
res += mul(Get(s3,0,dy), float4x4(0.017149960622191,0.156331434845924,-0.208871707320213,0.051125526428223,0.071913696825504,0.084178648889065,-0.033841907978058,0.028237586840987,-0.075435571372509,0.108792439103127,0.009831225499511,-0.046374686062336,0.126348540186882,-0.052630145102739,-0.107745058834553,0.071818269789219));
res += mul(Get(s3,dx,-dy), float4x4(0.153454050421715,0.048322342336178,0.020058954134583,-0.062808737158775,0.071730695664883,0.093610942363739,0.232316687703133,0.059917055070400,0.051174320280552,-0.204645931720734,-0.160204440355301,0.135455727577209,0.033200994133949,0.081518672406673,-0.052873339504004,0.024714520201087));
res += mul(Get(s3,dx,0), float4x4(0.160867840051651,0.083304874598980,0.254075109958649,-0.048449482768774,-0.019682742655277,0.120831497013569,-0.068012528121471,-0.082613795995712,-0.190681174397469,-0.082362122833729,0.158054336905479,-0.111073233187199,-0.042519975453615,0.034481793642044,-0.170992195606232,-0.241151675581932));
res += mul(Get(s3,dx,dy), float4x4(-0.017601851373911,0.008067915216088,-0.042609442025423,0.132771149277687,-0.168747305870056,-0.002559605985880,-0.072749659419060,-0.088515840470791,0.183056846261024,0.051358416676521,0.040622357279062,0.010019619017839,-0.015207180753350,0.032421138137579,0.135245308279991,0.195684760808945));
return max(float4(0,0,0,0), res);
}
