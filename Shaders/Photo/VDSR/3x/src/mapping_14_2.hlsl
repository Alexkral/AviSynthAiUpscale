sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.092134349048138,-0.050216257572174,0.058342587202787,0.248343393206596,0.055381815880537,0.012040753848851,-0.007021569646895,-0.060783196240664,-0.005919804330915,0.048912491649389,-0.012055582366884,-0.080169543623924,0.135609120130539,0.052341520786285,-0.105572581291199,-0.033694203943014));
res += mul(Get(s0,-dx,0), float4x4(0.029876697808504,0.013859550468624,-0.032456047832966,0.007640505675226,-0.055422142148018,-0.009388659149408,0.032782334834337,-0.147244080901146,0.059305615723133,0.239759087562561,-0.018611853942275,-0.093159347772598,0.057621292769909,0.048073101788759,-0.008319484069943,-0.003935462329537));
res += mul(Get(s0,-dx,dy), float4x4(-0.047474939376116,-0.003871016437188,-0.077471375465393,0.020559189841151,-0.063604675233364,-0.021508075296879,-0.099984101951122,-0.033480443060398,-0.037530019879341,0.155215114355087,-0.062190141528845,-0.142699435353279,0.096996419131756,0.066797524690628,-0.005027293227613,0.060636136680841));
res += mul(Get(s0,0,-dy), float4x4(0.193710282444954,0.063548788428307,0.057511344552040,0.206618249416351,-0.052144639194012,-0.014571693725884,0.119729980826378,-0.032119520008564,0.073786079883575,-0.097725383937359,-0.098855219781399,-0.086981512606144,0.027174388989806,-0.033283498138189,-0.104675211012363,-0.048056419938803));
res += mul(Get(s0,0,0), float4x4(0.104853928089142,-0.044472314417362,0.000001288874387,0.015011545270681,-0.213237658143044,-0.067575924098492,0.133926302194595,-0.049515604972839,0.097371533513069,0.053580638021231,-0.013671148568392,-0.011372333392501,0.010893617756665,0.008987770415843,0.019989611580968,-0.045904457569122));
res += mul(Get(s0,0,dy), float4x4(0.009523195214570,-0.040111485868692,0.009216358885169,0.008616038598120,-0.170987889170647,0.090561859309673,0.119009234011173,-0.008732882328331,-0.107573829591274,-0.038501791656017,0.045555740594864,-0.056752473115921,0.039714906364679,-0.031998712569475,0.062933363020420,-0.023156778886914));
res += mul(Get(s0,dx,-dy), float4x4(0.070698224008083,0.143080830574036,0.067040644586086,0.172623336315155,-0.085902690887451,-0.041611663997173,0.151048839092255,0.017754182219505,0.042181316763163,0.007205429486930,-0.177787527441978,-0.002830059267581,0.063882805407047,-0.079711101949215,-0.073918551206589,0.023389495909214));
res += mul(Get(s0,dx,0), float4x4(-0.039911527186632,0.077891431748867,0.010532294400036,0.025808973237872,-0.085521519184113,-0.008455124683678,0.090670011937618,0.117038890719414,0.095113925635815,-0.120040006935596,-0.064681783318520,-0.102380201220512,-0.083594687283039,-0.002983827842399,0.045767415314913,0.101675666868687));
res += mul(Get(s0,dx,dy), float4x4(0.002152907662094,0.033207781612873,0.017535543069243,0.031920459121466,-0.089147351682186,0.102897003293037,0.027282413095236,0.023905608803034,0.046663809567690,-0.100904524326324,-0.119105599820614,-0.089371412992477,0.060782812535763,0.081587187945843,0.016758754849434,0.039252839982510));
res += mul(Get(s1,-dx,-dy), float4x4(0.012925649993122,0.031143102794886,0.087251655757427,0.052982114255428,-0.009464385919273,-0.151531562209129,0.121986761689186,-0.055910758674145,0.077918007969856,0.057249516248703,0.095857843756676,0.014769069850445,-0.011354450136423,-0.015618691220880,0.206495195627213,0.255835235118866));
res += mul(Get(s1,-dx,0), float4x4(-0.002208399819210,-0.047183949500322,0.007482978515327,-0.017639914527535,0.048869471997023,0.002984232967719,0.068680122494698,0.041635766625404,0.049748331308365,0.047988753765821,-0.005368942860514,0.026826482266188,0.048114061355591,-0.151585415005684,0.063799805939198,0.126633673906326));
res += mul(Get(s1,-dx,dy), float4x4(-0.067494265735149,0.001133622950874,0.026216519996524,-0.045011855661869,0.188033327460289,0.009355781599879,0.043138355016708,0.064674139022827,0.029332166537642,-0.023309404030442,0.065760187804699,0.168917953968048,0.181851610541344,-0.107221074402332,0.118500880897045,0.090599879622459));
res += mul(Get(s1,0,-dy), float4x4(0.013236450031400,-0.044000912457705,-0.035658862441778,-0.003138046246022,-0.051931224763393,-0.057874985039234,-0.068314939737320,-0.045782618224621,-0.001028649392538,0.047716297209263,0.083988860249519,0.134694159030914,-0.085759274661541,-0.080192804336548,-0.092771477997303,0.123461157083511));
res += mul(Get(s1,0,0), float4x4(0.032503042370081,-0.044760022312403,-0.050447154790163,-0.032341599464417,0.035177465528250,0.018343022093177,0.058037716895342,0.063921004533768,-0.014462405815721,-0.004237129818648,0.053513318300247,0.117245472967625,-0.157658904790878,-0.071564964950085,0.062453940510750,0.115779139101505));
res += mul(Get(s1,0,dy), float4x4(-0.070107489824295,-0.114844001829624,-0.085141927003860,-0.068836770951748,0.013234794139862,0.070419348776340,0.021129330620170,-0.015168409794569,0.123421058058739,-0.042305108159781,0.008747743442655,0.146731823682785,0.011771909892559,-0.130795508623123,-0.034153029322624,0.037874020636082));
res += mul(Get(s1,dx,-dy), float4x4(-0.097871728241444,0.005327683873475,-0.091619834303856,-0.033320646733046,-0.123980186879635,-0.035321447998285,-0.011854149401188,0.081315495073795,0.022598957642913,0.082954004406929,0.068142026662827,-0.036071423441172,-0.171895816922188,-0.174903228878975,-0.123626224696636,-0.034467656165361));
res += mul(Get(s1,dx,0), float4x4(-0.061397913843393,0.024652566760778,-0.051193129271269,0.039971973747015,-0.034579399973154,0.023297226056457,0.040213588625193,0.023308567702770,0.030430406332016,0.095248594880104,0.050043314695358,0.080781824886799,-0.003513128729537,-0.142392516136169,0.005633393302560,0.025780040770769));
res += mul(Get(s1,dx,dy), float4x4(-0.064453572034836,0.044803101569414,-0.169056206941605,-0.053715370595455,0.035085868090391,0.022361092269421,0.142713144421577,0.045635405927896,0.158477604389191,0.007692052051425,0.001820999314077,-0.057157427072525,0.099927119910717,-0.034946206957102,-0.037174221128225,-0.049600571393967));
res += mul(Get(s2,-dx,-dy), float4x4(-0.080577552318573,0.035093460232019,0.119977846741676,0.111505649983883,-0.022440383210778,0.002492893021554,-0.055383283644915,-0.051687967032194,0.043998654931784,0.020703820511699,-0.081893876194954,-0.033673711121082,0.097039006650448,-0.064407601952553,0.021706065163016,-0.017408654093742));
res += mul(Get(s2,-dx,0), float4x4(-0.090810552239418,0.010056449100375,0.051723171025515,0.093940295279026,0.080967955291271,0.004999251570553,-0.134571105241776,-0.075055427849293,0.034056320786476,0.050506122410297,-0.042514394968748,-0.093386530876160,0.153745725750923,-0.096093766391277,0.049863390624523,-0.061760537326336));
res += mul(Get(s2,-dx,dy), float4x4(0.027256697416306,-0.032653711736202,-0.073653422296047,0.005706278141588,0.045387137681246,0.047427147626877,-0.048101250082254,-0.059254862368107,0.160154685378075,0.198352351784706,0.049973499029875,-0.104871265590191,0.176847934722900,-0.013869697228074,0.025545975193381,0.011213175952435));
res += mul(Get(s2,0,-dy), float4x4(0.015141731128097,0.032709155231714,0.063414879143238,-0.044347669929266,0.044782321900129,0.013176647946239,-0.018547300249338,-0.059444397687912,0.024085471406579,0.037905152887106,-0.005219270009547,-0.082885384559631,0.175581917166710,-0.096272610127926,-0.110678397119045,0.048363309353590));
res += mul(Get(s2,0,0), float4x4(-0.027991540730000,0.008935482241213,-0.004482424352318,-0.091460540890694,0.011407942511141,0.054261684417725,-0.066417954862118,-0.010568559169769,0.032490726560354,0.031639568507671,-0.088239982724190,-0.143426299095154,0.071528829634190,0.015075579285622,0.002119788201526,0.053091391921043));
res += mul(Get(s2,0,dy), float4x4(-0.031169615685940,-0.013250754214823,0.062146749347448,-0.074311882257462,0.182889237999916,0.118157230317593,-0.036689404398203,-0.026497151702642,-0.028069879859686,0.050999034196138,-0.060569651424885,-0.113998048007488,-0.039460986852646,-0.065205171704292,0.121112667024136,-0.023052496835589));
res += mul(Get(s2,dx,-dy), float4x4(-0.015674138441682,0.057448722422123,0.157001733779907,0.089520387351513,0.165298506617546,0.043933976441622,-0.041674114763737,0.046447627246380,0.045460581779480,0.146659776568413,0.076556824147701,0.101919822394848,-0.003459525294602,0.055239006876945,-0.078158952295780,-0.126562252640724));
res += mul(Get(s2,dx,0), float4x4(-0.094214677810669,0.070312656462193,0.067419461905956,0.010951317846775,0.126581653952599,-0.094320908188820,0.035537943243980,-0.026045233011246,-0.017498683184385,-0.053813669830561,0.063547872006893,-0.088919579982758,-0.030290834605694,0.010144316591322,-0.099326759576797,0.020124210044742));
res += mul(Get(s2,dx,dy), float4x4(0.008506296202540,-0.011450300924480,0.089724041521549,0.049441128969193,0.033897597342730,0.011288100853562,0.127873480319977,0.027450928464532,0.009855499491096,0.006781129166484,0.054223138839006,-0.063535332679749,-0.086120516061783,-0.066034875810146,-0.091776490211487,0.053116094321012));
res += mul(Get(s3,-dx,-dy), float4x4(0.029709301888943,0.045834764838219,-0.087925814092159,-0.000878925202414,-0.123246334493160,0.019332479685545,-0.026088420301676,-0.112635664641857,-0.090008206665516,-0.104101680219173,-0.043108683079481,-0.144268229603767,0.027373628690839,0.041512772440910,0.031640067696571,-0.029959935694933));
res += mul(Get(s3,-dx,0), float4x4(-0.063617601990700,0.044214714318514,-0.136399373412132,-0.047880370169878,-0.261272549629211,-0.013096081092954,-0.023148171603680,0.010387491434813,-0.113232329487801,-0.044776357710361,-0.050033800303936,-0.052013285458088,0.077933393418789,0.016559584066272,0.068307809531689,-0.107295982539654));
res += mul(Get(s3,-dx,dy), float4x4(0.048964273184538,0.104920819401741,-0.104935608804226,-0.039637234061956,-0.216867282986641,-0.064364977180958,0.038824737071991,-0.033334054052830,-0.174176320433617,-0.125110223889351,-0.142663195729256,0.086844444274902,0.016998693346977,-0.011943781748414,0.056819792836905,-0.116600193083286));
res += mul(Get(s3,0,-dy), float4x4(-0.040013235062361,-0.064068645238876,-0.017753122374415,-0.037977837026119,-0.116208255290985,-0.047522075474262,-0.033509660512209,-0.002595228143036,-0.058079421520233,-0.106543734669685,-0.018180286511779,-0.104401960968971,0.039616893976927,-0.002280990360305,0.170740351080894,0.002437035320327));
res += mul(Get(s3,0,0), float4x4(0.015053382143378,0.115186899900436,0.019634345546365,-0.058768983930349,-0.029585344716907,0.034616820514202,0.070058286190033,0.087518677115440,0.086002580821514,0.130991384387016,-0.005723896436393,0.007889266125858,0.055549286305904,0.120833545923233,0.237156108021736,0.026320401579142));
res += mul(Get(s3,0,dy), float4x4(0.068703860044479,0.023576002568007,0.036299437284470,-0.088173143565655,-0.098569802939892,0.037520166486502,-0.007423507981002,0.048167955130339,-0.138052642345428,-0.052998807281256,-0.076856426894665,-0.132249712944031,0.021797038614750,0.011303119361401,0.078877523541451,0.081880919635296));
res += mul(Get(s3,dx,-dy), float4x4(0.109206438064575,-0.003642933210358,-0.035950414836407,-0.040619522333145,-0.132483914494514,0.017752055078745,-0.084364198148251,0.023260669782758,-0.035014100372791,-0.053965900093317,-0.116487309336662,-0.161574065685272,0.093191027641296,0.026727100834250,0.056858245283365,0.048353035002947));
res += mul(Get(s3,dx,0), float4x4(0.066070005297661,-0.024547042325139,-0.101720906794071,-0.150710046291351,-0.074044659733772,-0.004667868837714,0.007602075114846,0.047924090176821,-0.012276042252779,0.086300730705261,0.002565834904090,-0.077712431550026,0.078883662819862,0.047155916690826,0.181357651948929,0.116486132144928));
res += mul(Get(s3,dx,dy), float4x4(-0.051181454211473,-0.114406913518906,-0.152511805295944,-0.157584488391876,-0.152593001723289,0.041858926415443,0.184425666928291,0.206465214490891,-0.018309526145458,-0.057562422007322,0.014475403353572,-0.256744980812073,-0.041847597807646,0.132541179656982,0.068927243351936,-0.050855856388807));
return max(float4(0,0,0,0), res);
}
