sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.070199429988861,-0.008922318927944,0.052537653595209,-0.156910613179207,0.064764983952045,0.061864446848631,-0.099610537290573,-0.076825827360153,0.140438467264175,0.107662275433540,-0.031481798738241,-0.032700218260288,0.108199246227741,0.093266576528549,-0.128454223275185,0.001495648990385));
res += mul(Get(s0,-dx,0), float4x4(-0.024067226797342,-0.075237639248371,0.253229439258575,-0.056526154279709,-0.041028060019016,-0.064416147768497,-0.063296444714069,-0.054505232721567,0.073913887143135,0.030172342434525,0.009175722487271,0.005467765964568,0.014978086575866,-0.018571078777313,-0.014569612219930,0.018754396587610));
res += mul(Get(s0,-dx,dy), float4x4(-0.029337504878640,-0.086613886058331,0.189243018627167,-0.010192877613008,-0.018334841355681,0.023701172322035,-0.141356796026230,0.119704067707062,-0.018948933109641,0.073976591229439,0.068882659077644,-0.001368169905618,0.098611921072006,0.059871207922697,0.078376382589340,0.009603289887309));
res += mul(Get(s0,0,-dy), float4x4(-0.047871720045805,-0.030635682865977,0.037864841520786,0.030856400728226,-0.017808780074120,-0.013780409470201,-0.188777744770050,0.041389819234610,0.029581243172288,-0.083143927156925,0.020519349724054,-0.106229133903980,0.218161404132843,0.079982846975327,-0.008279696106911,0.012454797513783));
res += mul(Get(s0,0,0), float4x4(0.023224189877510,-0.059653703123331,0.023996556177735,0.046179145574570,-0.091602802276611,-0.102343969047070,-0.093307487666607,0.042492583394051,-0.028412636369467,0.116121336817741,0.009301770478487,0.118763655424118,0.207399770617485,0.005917834583670,-0.048702362924814,0.046811331063509));
res += mul(Get(s0,0,dy), float4x4(-0.024536933749914,-0.049854304641485,-0.013129794970155,0.033945683389902,-0.029580000787973,-0.097725763916969,-0.151675388216972,0.063523016870022,-0.108616560697556,-0.020895160734653,-0.051875341683626,-0.048406895250082,-0.113712228834629,0.038425065577030,-0.026258099824190,0.183402404189110));
res += mul(Get(s0,dx,-dy), float4x4(-0.110179260373116,0.179152920842171,-0.024762615561485,-0.023306034505367,0.008374744094908,-0.095107413828373,-0.097836531698704,-0.034245140850544,0.052125412970781,-0.093026742339134,0.004095377400517,-0.030434371903539,-0.179742142558098,-0.075821109116077,0.062568530440331,0.079332999885082));
res += mul(Get(s0,dx,0), float4x4(-0.063009850680828,0.118035025894642,0.117706708610058,-0.009341361932456,0.014831495471299,-0.113535046577454,-0.126034051179886,0.156772747635841,0.090466223657131,-0.116184428334236,0.045792263001204,0.045930575579405,0.116951338946819,-0.102767482399940,-0.041546300053596,-0.078655652701855));
res += mul(Get(s0,dx,dy), float4x4(-0.112911298871040,0.003158997278661,0.241171717643738,0.028137352317572,0.205210968852043,-0.100948430597782,-0.122290201485157,0.179598018527031,-0.105549201369286,-0.028127182275057,-0.027631329372525,0.072273820638657,-0.057370375841856,-0.013154247775674,-0.087416879832745,-0.115579068660736));
res += mul(Get(s1,-dx,-dy), float4x4(-0.040512651205063,0.004100527148694,0.069436535239220,0.118385307490826,-0.055887058377266,-0.082743652164936,0.088402286171913,0.019643256440759,-0.061223305761814,0.060727216303349,-0.124099656939507,0.114897795021534,-0.037704665213823,-0.185711145401001,0.039328575134277,0.048127394169569));
res += mul(Get(s1,-dx,0), float4x4(-0.100440427660942,0.010859139263630,0.106276199221611,0.014648352749646,0.064586177468300,0.071693986654282,0.023803520947695,-0.063099563121796,-0.061545323580503,-0.018380764871836,0.032720733433962,-0.104103326797485,-0.029155578464270,0.062136758118868,-0.113650210201740,0.035857282578945));
res += mul(Get(s1,-dx,dy), float4x4(0.036635782569647,-0.033914156258106,0.127604544162750,-0.038414210081100,-0.031009141355753,0.023336537182331,0.103621654212475,-0.026655210182071,-0.186962097883224,-0.008641413412988,-0.047892972826958,-0.049988623708487,0.036994699388742,-0.035414427518845,-0.019277477636933,-0.006874572485685));
res += mul(Get(s1,0,-dy), float4x4(-0.044799409806728,0.151798352599144,0.000166483107023,0.099295288324356,-0.070098429918289,-0.033986561000347,-0.001914195832796,0.040419708937407,-0.042545940726995,0.026950040832162,-0.016283525153995,0.150605812668800,-0.032284412533045,0.247552230954170,-0.057748753577471,-0.069553636014462));
res += mul(Get(s1,0,0), float4x4(0.008206239901483,-0.134453400969505,0.008289979770780,0.050586350262165,0.122177563607693,0.120629474520683,-0.045842491090298,0.055447749793530,-0.047825425863266,-0.081112898886204,0.117784276604652,-0.058191176503897,-0.124029837548733,-0.015741173177958,-0.001749407500029,-0.034971054643393));
res += mul(Get(s1,0,dy), float4x4(-0.013945909217000,-0.013743305578828,0.025658197700977,0.086284182965755,-0.099972903728485,0.052731391042471,-0.080423586070538,-0.022972101345658,-0.101777337491512,-0.066738180816174,-0.046622343361378,-0.087733387947083,0.017705447971821,0.114866584539413,0.018621498718858,-0.046108350157738));
res += mul(Get(s1,dx,-dy), float4x4(-0.005567495245486,0.015132085420191,-0.069662131369114,0.109274335205555,0.001047869329341,0.130437627434731,-0.007809098344296,-0.031930513679981,-0.072546988725662,0.002685514977202,-0.007419780828059,-0.031994212418795,-0.049835339188576,0.038560420274734,-0.125776112079620,-0.135379999876022));
res += mul(Get(s1,dx,0), float4x4(0.020476372912526,-0.025480588898063,-0.066968180239201,-0.053024712949991,-0.091884307563305,0.038300756365061,-0.271749228239059,-0.068023264408112,-0.066422954201698,-0.241818130016327,0.099721394479275,-0.064437545835972,0.049517743289471,-0.181895628571510,-0.079799383878708,-0.017314294353127));
res += mul(Get(s1,dx,dy), float4x4(0.002753656590357,0.065211229026318,-0.138983935117722,-0.084857210516930,-0.090689122676849,0.010072675533593,-0.157245889306068,-0.113704860210419,-0.075658492743969,-0.134859412908554,0.092015847563744,0.047448251396418,0.030744649469852,0.032419748604298,-0.039665743708611,-0.012919293716550));
res += mul(Get(s2,-dx,-dy), float4x4(-0.154243797063828,0.015044720843434,-0.061958830803633,0.016823371872306,0.123421855270863,-0.030981153249741,0.023351948708296,0.069261960685253,0.039688840508461,0.068286232650280,-0.080781035125256,-0.091511644423008,-0.057453174144030,-0.038019105792046,-0.097579225897789,-0.058208998292685));
res += mul(Get(s2,-dx,0), float4x4(0.075950168073177,0.057177085429430,-0.017396189272404,0.030579047277570,-0.094837315380573,-0.121516272425652,-0.153010487556458,-0.011496443301439,0.185574516654015,0.039256840944290,0.072337724268436,0.061132583767176,0.078770563006401,0.076623305678368,-0.110377237200737,0.008981113322079));
res += mul(Get(s2,-dx,dy), float4x4(0.086814701557159,0.006634326651692,0.140500485897064,0.082413472235203,-0.068861901760101,0.022105146199465,-0.010242279618979,-0.145192921161652,0.102170325815678,-0.079833537340164,-0.009749409742653,-0.056466795504093,-0.109512187540531,0.019978905096650,-0.069918729364872,-0.026845797896385));
res += mul(Get(s2,0,-dy), float4x4(-0.023921068757772,-0.001913706422783,-0.099624440073967,-0.030740138143301,0.009956452064216,0.005610478110611,0.091193854808807,0.103242136538029,-0.075029514729977,-0.032423906028271,0.139123663306236,-0.045797947794199,0.009176041930914,0.051653843373060,-0.112422272562981,-0.118578366935253));
res += mul(Get(s2,0,0), float4x4(0.052766367793083,-0.041476681828499,-0.133117929100990,0.072708807885647,0.033501207828522,0.010584238916636,-0.046908669173717,0.151427134871483,-0.068499878048897,0.044549833983183,0.200907573103905,0.006374803371727,0.097176909446716,0.170236676931381,0.027548668906093,-0.019158974289894));
res += mul(Get(s2,0,dy), float4x4(-0.029292304068804,-0.042612455785275,-0.139979615807533,0.112977497279644,0.022989496588707,0.043240465223789,-0.139294773340225,0.054959159344435,0.027082543820143,-0.063804499804974,0.058657314628363,0.007655921857804,0.035849161446095,-0.038293547928333,-0.001077814027667,-0.001310009392910));
res += mul(Get(s2,dx,-dy), float4x4(-0.042178664356470,-0.006099881604314,0.010948198847473,-0.178406551480293,-0.024496104568243,-0.074272379279137,-0.024475162848830,0.052906863391399,0.023185122758150,-0.113046966493130,-0.010872240178287,-0.130425244569778,-0.011101591400802,0.032574795186520,0.065072074532509,0.104042053222656));
res += mul(Get(s2,dx,0), float4x4(-0.042727131396532,0.123195804655552,-0.024734348058701,-0.048149663954973,0.052136782556772,0.013705452904105,-0.063027650117874,0.312292307615280,0.097476199269295,-0.055058140307665,0.095915339887142,-0.047485928982496,0.064387135207653,-0.218706876039505,0.091983675956726,0.048168797045946));
res += mul(Get(s2,dx,dy), float4x4(-0.117210410535336,0.089666672050953,-0.160497605800629,0.151390299201012,-0.065918006002903,-0.113209895789623,-0.174001336097717,0.015038223937154,-0.042977981269360,-0.106285199522972,0.055283185094595,0.010011974722147,-0.014568640850484,-0.135788217186928,-0.046906769275665,-0.122022680938244));
res += mul(Get(s3,-dx,-dy), float4x4(0.103212468326092,-0.024135226383805,-0.069560274481773,-0.100174322724342,-0.108477614820004,0.009751451201737,-0.068305514752865,-0.084203004837036,-0.134403705596924,-0.081809245049953,0.024023534730077,-0.097133994102478,-0.238899841904640,-0.051335278898478,0.281187802553177,0.029308008030057));
res += mul(Get(s3,-dx,0), float4x4(0.055802073329687,-0.009845010004938,-0.054236683994532,-0.096580833196640,-0.087411887943745,-0.057597059756517,-0.168930843472481,-0.102272555232048,0.014274572953582,0.026033364236355,0.197391271591187,-0.095134489238262,-0.194452866911888,-0.035086240619421,0.059743925929070,0.032491244375706));
res += mul(Get(s3,-dx,dy), float4x4(0.124144308269024,-0.027399975806475,0.020555745810270,0.040909491479397,-0.050834394991398,0.064776122570038,-0.100674927234650,0.056153103709221,-0.008744844235480,0.081282123923302,0.140111401677132,-0.062104932963848,-0.214082673192024,-0.103639371693134,0.193572640419006,0.139720767736435));
res += mul(Get(s3,0,-dy), float4x4(0.137004166841507,-0.129871279001236,0.089573681354523,0.006508735008538,-0.082792371511459,-0.069423429667950,0.077830567955971,-0.051655426621437,-0.023415083065629,-0.017582302913070,0.030944354832172,-0.057519879192114,-0.220122039318085,0.011363857425749,0.117594115436077,-0.024087389931083));
res += mul(Get(s3,0,0), float4x4(0.137453719973564,-0.099568888545036,0.026006529107690,-0.041513096541166,-0.036253772675991,-0.003956939093769,-0.100862920284271,-0.058769784867764,0.087843090295792,-0.107161439955235,-0.019927458837628,-0.027110673487186,-0.176297008991241,0.097378797829151,-0.105150818824768,-0.050350449979305));
res += mul(Get(s3,0,dy), float4x4(0.040014177560806,-0.036792621016502,-0.060592595487833,-0.040951192378998,0.019971068948507,0.067674778401852,-0.130126416683197,0.037191603332758,0.067163564264774,0.017570970579982,-0.046272475272417,0.063345201313496,-0.151881247758865,-0.090147994458675,0.096366927027702,-0.053418900817633));
res += mul(Get(s3,dx,-dy), float4x4(0.080740295350552,0.217771932482719,-0.061883613467216,-0.167228624224663,-0.068684764206409,-0.131337374448776,-0.042828466743231,-0.050035819411278,0.097239494323730,-0.011654430069029,0.018890183418989,-0.061252623796463,-0.173263847827911,0.396489769220352,0.099757432937622,0.204514265060425));
res += mul(Get(s3,dx,0), float4x4(0.115026481449604,0.233209490776062,-0.074459344148636,-0.003262850455940,0.028570588678122,0.014041895046830,0.005266927182674,0.038941357284784,-0.004443522077054,0.021334376186132,0.116599485278130,0.029705019667745,-0.033927313983440,-0.080986909568310,0.009144158102572,-0.008822479285300));
res += mul(Get(s3,dx,dy), float4x4(0.066991485655308,0.009351050481200,-0.178003877401352,-0.011630277149379,-0.001989278476685,0.077360108494759,-0.054531946778297,0.071512982249260,-0.149323567748070,-0.042551085352898,0.015285762958229,-0.140554577112198,-0.096840970218182,0.028919011354446,0.006741472985595,-0.030823281034827));
return max(float4(0,0,0,0), res);
}
