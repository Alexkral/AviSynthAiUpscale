sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.047809138894081,-0.023520933464170,0.307819753885269,-0.109707377851009,0.280917197465897,-0.097388565540314,0.031584840267897,-0.209562495350838,0.048001118004322,-0.014105523005128,-0.035717014223337,0.057578820735216,0.080022692680359,-0.033292628824711,0.153973639011383,-0.210471838712692));
res += mul(Get(s0,-dx,0), float4x4(-0.271596401929855,0.058300919830799,-0.108158931136131,0.025672582909465,-0.195129424333572,0.009472431614995,0.131105378270149,-0.074512697756290,0.167559206485748,0.038398995995522,0.022134847939014,0.105277016758919,0.015883833169937,-0.051292482763529,-0.026536779478192,-0.073645792901516));
res += mul(Get(s0,-dx,dy), float4x4(-0.192252069711685,0.102769970893860,0.157268404960632,0.099238321185112,-0.029419051483274,-0.119725659489632,-0.206626906991005,-0.095558792352676,-0.007597907446325,0.013961107470095,-0.050776571035385,-0.012135018594563,0.134467259049416,-0.117921128869057,0.043950103223324,-0.034091643989086));
res += mul(Get(s0,0,-dy), float4x4(-0.230759292840958,-0.151041567325592,-0.173963695764542,0.023288672789931,0.307528644800186,0.152844220399857,0.136553958058357,0.031768713146448,0.012979858554900,0.201345697045326,-0.128587812185287,0.132515534758568,0.026171386241913,0.224875926971436,-0.208760693669319,0.167466431856155));
res += mul(Get(s0,0,0), float4x4(0.051990322768688,-0.162924304604530,-0.013849247246981,-0.087165035307407,-0.068812347948551,-0.086611688137054,0.063655607402325,0.140181243419647,0.072861418128014,-0.104131683707237,0.053367324173450,-0.255145400762558,0.000945024541579,0.141607090830803,0.042015880346298,0.178168624639511));
res += mul(Get(s0,0,dy), float4x4(0.007815154269338,-0.019054830074310,-0.064948551356792,-0.118994988501072,0.080758437514305,-0.033712137490511,-0.125027105212212,0.017368657514453,0.051933389157057,0.007922912947834,-0.018569421023130,0.196133062243462,0.011146071366966,0.047924280166626,0.011583007872105,0.151314511895180));
res += mul(Get(s0,dx,-dy), float4x4(0.128231808543205,0.034906465560198,0.010679613798857,0.078373722732067,-0.037923306226730,0.167109787464142,0.156920686364174,-0.092617414891720,0.072893366217613,-0.199264734983444,-0.018694575875998,0.079840600490570,-0.012545797973871,0.287172943353653,0.031534258276224,0.000478845613543));
res += mul(Get(s0,dx,0), float4x4(-0.001873772358522,-0.053190119564533,0.024644870311022,0.178307741880417,0.007083526346833,0.066655911505222,0.181050956249237,-0.009608007967472,0.030089594423771,-0.066637314856052,0.020778270438313,-0.051858581602573,0.121639564633369,-0.260541766881943,-0.073391601443291,-0.064435474574566));
res += mul(Get(s0,dx,dy), float4x4(0.040922958403826,-0.099166251718998,-0.220022559165955,0.076010048389435,-0.224988818168640,-0.100448936223984,-0.115181252360344,-0.082735806703568,0.091437034308910,-0.111129827797413,-0.045059572905302,0.241909056901932,-0.042052324861288,0.039062377065420,0.064830467104912,0.045607872307301));
res += mul(Get(s1,-dx,-dy), float4x4(0.008491165004671,0.074187487363815,0.120584428310394,0.244013637304306,-0.008083106949925,-0.072246775031090,-0.012390249408782,0.050883471965790,-0.001477945828810,0.074118189513683,0.040139004588127,-0.114932231605053,-0.289743214845657,-0.068275943398476,0.157461941242218,-0.071370482444763));
res += mul(Get(s1,-dx,0), float4x4(-0.077306464314461,-0.086814209818840,-0.001704232650809,0.180488094687462,-0.087745323777199,0.124109454452991,-0.099415823817253,-0.004984456114471,-0.070963203907013,0.171291768550873,-0.105433389544487,0.138600215315819,0.032367207109928,0.120711326599121,0.019034141674638,-0.115931026637554));
res += mul(Get(s1,-dx,dy), float4x4(0.020640389993787,0.016274204477668,0.026283113285899,0.142074465751648,0.063322156667709,-0.018392981961370,-0.136701300740242,0.060419555753469,-0.232425734400749,0.028348181396723,0.104979455471039,-0.063529886305332,-0.086980327963829,-0.034798450767994,-0.041117556393147,-0.034564219415188));
res += mul(Get(s1,0,-dy), float4x4(0.045094642788172,0.010815457440913,0.113510720431805,-0.117947787046432,0.012026747688651,0.354231745004654,-0.143919616937637,0.022456213831902,0.020955825224519,-0.007833505049348,-0.002435833215714,0.026367479935288,0.073628857731819,0.175828039646149,-0.008803425356746,0.076604910194874));
res += mul(Get(s1,0,0), float4x4(0.022989645600319,-0.067253731191158,0.054721318185329,-0.176908075809479,-0.049121234565973,0.080504812300205,-0.055827185511589,-0.075718432664871,0.088722914457321,-0.031195621937513,0.018118323758245,0.005857174284756,0.039700128138065,-0.008826396428049,0.014074921607971,-0.114751838147640));
res += mul(Get(s1,0,dy), float4x4(-0.093172147870064,0.085978202521801,-0.042020570486784,-0.004768200218678,-0.267889857292175,0.155323535203934,-0.060027722269297,-0.019654901698232,0.003215175354853,0.016951272264123,0.267705082893372,-0.209896758198738,-0.121567383408546,0.130050003528595,0.161126971244812,-0.031683262437582));
res += mul(Get(s1,dx,-dy), float4x4(0.030805094167590,-0.069879218935966,-0.088769286870956,0.019698601216078,0.089561067521572,0.017798334360123,0.108569070696831,-0.035879071801901,0.062468040734529,-0.069788582623005,0.173021763563156,-0.109616987407207,0.024292245507240,-0.046038020402193,-0.147589191794395,0.156344369053841));
res += mul(Get(s1,dx,0), float4x4(0.154220327734947,-0.067249462008476,-0.005672461353242,0.078545853495598,-0.044776070863008,-0.021259168162942,0.023151654750109,-0.086409255862236,0.195887714624405,-0.079353705048561,-0.113396450877190,-0.066238552331924,0.051154516637325,0.226831912994385,-0.213670551776886,0.087242513895035));
res += mul(Get(s1,dx,dy), float4x4(0.018456369638443,0.023965051397681,0.029125666245818,-0.019521148875356,0.025776097550988,0.052059344947338,0.133704155683517,-0.075193442404270,-0.025688491761684,0.142597198486328,-0.024338655173779,0.137705445289612,0.098999544978142,-0.020811889320612,-0.043888553977013,-0.062370538711548));
res += mul(Get(s2,-dx,-dy), float4x4(-0.073338031768799,0.107572898268700,-0.022699141874909,0.062461905181408,-0.076139546930790,-0.064219526946545,-0.168919697403908,0.033547144383192,0.041365057229996,-0.011379717849195,0.066505379974842,-0.087530747056007,-0.088795892894268,0.007824624888599,0.058590222150087,0.080315820872784));
res += mul(Get(s2,-dx,0), float4x4(-0.020056592300534,-0.043223403394222,0.039816703647375,0.154922619462013,0.137989848852158,-0.069405205547810,0.209593102335930,0.030138976871967,0.047548804432154,0.202869996428490,-0.057313565164804,-0.063651606440544,0.097521193325520,-0.020398581400514,-0.042508184909821,0.090896077454090));
res += mul(Get(s2,-dx,dy), float4x4(-0.076991721987724,-0.005938303191215,-0.009547303430736,0.139429673552513,-0.029848670586944,0.133789226412773,0.115730196237564,0.036117695271969,-0.151646062731743,-0.205678045749664,0.010305420495570,-0.124132446944714,0.212732478976250,-0.065297462046146,0.073481559753418,0.129056796431541));
res += mul(Get(s2,0,-dy), float4x4(-0.129879236221313,0.128670707345009,-0.065096430480480,0.081012263894081,0.310517907142639,-0.088893935084343,0.035118412226439,-0.163757964968681,-0.154265776276588,-0.129579558968544,-0.013037995435297,0.082873627543449,0.101489596068859,-0.087306618690491,-0.115863896906376,-0.032223116606474));
res += mul(Get(s2,0,0), float4x4(0.026968015357852,0.032304830849171,-0.135605022311211,-0.070080727338791,0.111507363617420,0.093767121434212,0.035024803131819,-0.100162953138351,-0.158018007874489,-0.100611113011837,-0.030020806938410,-0.050088375806808,-0.174041107296944,0.074558630585670,0.132486000657082,-0.071248888969421));
res += mul(Get(s2,0,dy), float4x4(-0.052080743014812,0.129216372966766,0.169497147202492,0.063124611973763,-0.093656137585640,0.046751704066992,-0.051307067275047,0.123274564743042,0.000411443150369,-0.203246772289276,0.036210421472788,0.111168228089809,0.229703977704048,-0.010874820873141,-0.129511177539825,-0.003128850134090));
res += mul(Get(s2,dx,-dy), float4x4(0.083035215735435,-0.159870088100433,0.103790625929832,-0.027498543262482,-0.106961712241173,-0.029072463512421,0.126815989613533,-0.022752901539207,0.024624349549413,0.059476573020220,-0.043654624372721,-0.100008390843868,-0.212582081556320,-0.024926964193583,0.054349426180124,-0.022962497547269));
res += mul(Get(s2,dx,0), float4x4(0.152405753731728,0.084267169237137,0.065093554556370,0.129907101392746,-0.103751435875893,-0.039539445191622,-0.026414591819048,0.047652900218964,0.097689718008041,-0.109890520572662,0.009285975247622,0.113682150840759,0.042037803679705,-0.193053603172302,-0.049490254372358,0.019556505605578));
res += mul(Get(s2,dx,dy), float4x4(0.152359828352928,-0.257382363080978,-0.138715535402298,0.077724456787109,0.001460385159589,-0.028558995574713,-0.054974146187305,-0.004825183190405,0.057433262467384,-0.046197049319744,-0.026112144812942,0.211682543158531,-0.023633113130927,-0.096938498318195,-0.027986263856292,-0.000884049863089));
res += mul(Get(s3,-dx,-dy), float4x4(-0.082814216613770,0.089643873274326,0.145211204886436,0.208675831556320,0.141423523426056,0.003067257814109,0.074272967875004,0.218979775905609,-0.163397952914238,0.130050599575043,0.173188969492912,0.025937186554074,0.058277461677790,0.114159278571606,0.230150237679482,0.069358915090561));
res += mul(Get(s3,-dx,0), float4x4(-0.234917983412743,0.121156968176365,-0.267805963754654,-0.152673140168190,-0.091449499130249,-0.189570918679237,0.101324245333672,0.051777530461550,0.094078950583935,-0.036627233028412,-0.042897365987301,-0.025811310857534,0.089323550462723,0.131036087870598,-0.009414353407919,-0.114958778023720));
res += mul(Get(s3,-dx,dy), float4x4(0.078915826976299,0.047590818256140,0.228346720337868,-0.088565617799759,0.018106602132320,0.151126980781555,-0.044081542640924,0.074641004204750,-0.120959386229515,0.121900655329227,-0.249767541885376,0.079944454133511,0.017138952389359,0.115556985139847,-0.056240625679493,0.078571453690529));
res += mul(Get(s3,0,-dy), float4x4(-0.040516685694456,-0.177511751651764,0.004070986062288,-0.218987017869949,-0.081792809069157,0.054282613098621,-0.052477363497019,-0.091718226671219,-0.125492632389069,-0.075501419603825,-0.020568117499352,0.072474524378777,0.014679374173284,0.015264297835529,0.066515274345875,0.168813720345497));
res += mul(Get(s3,0,0), float4x4(-0.078594528138638,0.093121431767941,0.242334991693497,0.069937340915203,0.143567040562630,0.032884132117033,0.013229099102318,0.124454349279404,0.139766871929169,-0.028517365455627,0.135315239429474,0.070227503776550,0.049623433500528,0.061049778014421,-0.070438385009766,-0.161215364933014));
res += mul(Get(s3,0,dy), float4x4(-0.117540463805199,-0.047366973012686,-0.168619737029076,0.091996952891350,-0.012029280886054,0.011984090320766,-0.032374862581491,0.153028175234795,-0.117809407413006,0.155510574579239,0.064332202076912,-0.056200526654720,0.056943662464619,0.069167479872704,-0.125240936875343,-0.070013634860516));
res += mul(Get(s3,dx,-dy), float4x4(0.048597097396851,0.055703479796648,-0.034447897225618,-0.028053626418114,0.109173372387886,-0.068771623075008,-0.002939644735307,-0.016342278569937,0.040110480040312,0.146820008754730,0.129361927509308,0.141114205121994,-0.108327493071556,0.240503475070000,-0.088797144591808,-0.125679954886436));
res += mul(Get(s3,dx,0), float4x4(0.168476253747940,-0.014345029368997,0.247145667672157,-0.075425304472446,0.101317241787910,0.135487437248230,-0.080201908946037,-0.063032090663910,-0.202401354908943,-0.091794312000275,0.027237877249718,-0.036484867334366,-0.048399318009615,0.012216808274388,-0.117733173072338,0.172567650675774));
res += mul(Get(s3,dx,dy), float4x4(0.031781125813723,-0.031542070209980,-0.169534400105476,0.035675667226315,-0.056567728519440,-0.192420497536659,0.048074860125780,-0.142189070582390,-0.038833338767290,0.232763037085533,-0.021273832768202,0.120287053287029,0.046441994607449,0.222705736756325,-0.022073863074183,0.052438363432884));
return max(float4(0,0,0,0), res);
}
