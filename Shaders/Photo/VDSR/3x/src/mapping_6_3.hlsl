sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.102083265781403,0.106861874461174,-0.000088535263785,-0.014035097323358,0.216840445995331,-0.011796925216913,0.056857138872147,-0.054131072014570,0.064555667340755,-0.011712213046849,-0.014562885276973,-0.014867892488837,-0.108542561531067,-0.026581743732095,-0.037748526781797,-0.027274634689093));
res += mul(Get(s0,-dx,0), float4x4(-0.026185819879174,-0.132653892040253,0.031309485435486,-0.004165674559772,-0.138665065169334,0.253269255161285,-0.000502557493746,-0.039819933474064,-0.042243190109730,0.021588699892163,0.001102687092498,-0.041539225727320,0.004367023240775,0.028830885887146,-0.012134939432144,-0.052035365253687));
res += mul(Get(s0,-dx,dy), float4x4(0.011808135546744,-0.177837699651718,-0.047766916453838,0.044316384941339,-0.042133066803217,-0.006175312213600,-0.044459160417318,-0.010978088714182,-0.132050722837448,0.084506832063198,-0.064125366508961,-0.015928406268358,-0.060341067612171,0.014450700953603,0.214164659380913,-0.100387945771217));
res += mul(Get(s0,0,-dy), float4x4(0.023262357339263,-0.017044836655259,-0.072189539670944,-0.131404399871826,-0.015626460313797,-0.075053818523884,-0.043241780251265,0.023974414914846,0.107230260968208,-0.079618737101555,0.013734419830143,0.050437565892935,0.061134837567806,0.093794502317905,-0.036618046462536,0.025261599570513));
res += mul(Get(s0,0,0), float4x4(0.048602201044559,-0.107792228460312,-0.081280872225761,0.055113606154919,-0.123324558138847,-0.035229198634624,0.005975947249681,-0.045725665986538,-0.012099689804018,-0.077002391219139,-0.046185988932848,0.048051502555609,0.119400881230831,0.051532581448555,-0.047909617424011,-0.018642688170075));
res += mul(Get(s0,0,dy), float4x4(-0.014587797224522,-0.039992012083530,-0.080754980444908,-0.012802675366402,-0.055284511297941,-0.091201148927212,0.039990182965994,-0.036505479365587,-0.043812096118927,-0.059240374714136,-0.020393809303641,-0.116273082792759,-0.008323446847498,-0.083265148103237,0.083056122064590,-0.048942752182484));
res += mul(Get(s0,dx,-dy), float4x4(0.088567197322845,0.005874929018319,0.003250458976254,0.023978367447853,-0.095684953033924,-0.078807011246681,-0.033123891800642,-0.097562618553638,0.012833356857300,-0.052059236913919,-0.046668212860823,-0.069612905383110,-0.109307602047920,0.093224115669727,0.078292302787304,-0.024276610463858));
res += mul(Get(s0,dx,0), float4x4(0.055589683353901,-0.075124174356461,-0.135651677846909,-0.051246389746666,0.017927963286638,0.124507963657379,0.086126022040844,0.019614480435848,-0.066599778831005,-0.096719451248646,-0.119916304945946,-0.212680935859680,-0.101976461708546,-0.036543641239405,0.110715106129646,0.012461443431675));
res += mul(Get(s0,dx,dy), float4x4(-0.049043338745832,-0.070044785737991,-0.128799036145210,-0.125904262065887,-0.142973944544792,-0.043076246976852,-0.000785511336289,-0.043241556733847,-0.087181039154530,-0.035957921296358,-0.008575875312090,0.180391907691956,-0.119156576693058,-0.163290649652481,0.077031530439854,0.143874138593674));
res += mul(Get(s1,-dx,-dy), float4x4(0.015978302806616,-0.063581511378288,0.185073629021645,0.012806470505893,-0.075110159814358,0.046793602406979,0.150174587965012,-0.054070662707090,-0.041673716157675,-0.085920788347721,0.024301277473569,0.254641234874725,0.012167221866548,-0.120926521718502,0.045609969645739,0.028779828920960));
res += mul(Get(s1,-dx,0), float4x4(0.107413157820702,-0.057258050888777,-0.027520284056664,0.041343715041876,-0.080999746918678,0.140901386737823,0.177427649497986,-0.041287943720818,0.061201188713312,-0.125882521271706,-0.010352176614106,0.026534117758274,0.077936716377735,-0.071739338338375,0.025525089353323,-0.018373927101493));
res += mul(Get(s1,-dx,dy), float4x4(0.165409922599792,0.051219843327999,0.015785569325089,0.012474142014980,0.049457989633083,-0.052260287106037,-0.108282990753651,-0.047511111944914,-0.053694568574429,-0.035137835890055,-0.019761286675930,-0.114163048565388,-0.001711496501230,0.023210674524307,-0.002169350860640,-0.073100715875626));
res += mul(Get(s1,0,-dy), float4x4(-0.160468429327011,0.080220773816109,0.048621870577335,0.039232656359673,0.029346372932196,0.028065271675587,0.210171788930893,0.061512332409620,-0.188430637121201,0.027586109936237,-0.073459737002850,-0.080058038234711,0.083858437836170,-0.002602083608508,-0.057556092739105,-0.105838328599930));
res += mul(Get(s1,0,0), float4x4(-0.075574606657028,-0.094319231808186,-0.077197201550007,0.074206627905369,0.007525915279984,0.119038522243500,0.239351689815521,0.046816270798445,-0.014683177694678,-0.080445982515812,0.007238532416523,-0.018644005060196,-0.039622623473406,0.044770501554012,-0.014981473796070,-0.023410324007273));
res += mul(Get(s1,0,dy), float4x4(-0.084245853126049,-0.023616034537554,0.013284808024764,0.008007428608835,0.048781018704176,-0.024845441803336,0.011675037443638,-0.036999963223934,0.022251568734646,0.180780991911888,-0.051137607544661,-0.089562654495239,-0.041164591908455,-0.160067886114120,-0.088216200470924,0.022243527695537));
res += mul(Get(s1,dx,-dy), float4x4(-0.066965863108635,0.000043115393055,0.105010770261288,0.108120091259480,0.173077180981636,-0.008500820957124,-0.139608308672905,0.004078811034560,0.062567032873631,0.026846775785089,-0.119514495134354,-0.092878691852093,0.087816894054413,-0.026731491088867,0.048261448740959,0.102522186934948));
res += mul(Get(s1,dx,0), float4x4(-0.089304096996784,-0.003006834303960,0.007389687467366,0.112026683986187,-0.112789161503315,0.052274025976658,-0.076342493295670,-0.035389028489590,0.056319031864405,-0.017414599657059,-0.066340588033199,-0.026834784075618,-0.147692561149597,0.112144157290459,0.113998807966709,0.246488884091377));
res += mul(Get(s1,dx,dy), float4x4(-0.019395973533392,-0.104173637926579,0.267735689878464,0.275152027606964,0.156935364007950,-0.118156775832176,-0.046963844448328,0.007051755208522,0.118799418210983,0.069250777363777,0.081886425614357,-0.042914249002934,-0.055105086416006,0.031134044751525,0.003158319275826,0.125902593135834));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007821066305041,-0.014108331874013,-0.020926140248775,0.000520077417605,0.036543484777212,-0.047532048076391,-0.080062434077263,-0.027194138616323,-0.058155901730061,-0.044130604714155,0.210381641983986,0.224160611629486,0.114902392029762,0.176838457584381,0.178561747074127,0.028018141165376));
res += mul(Get(s2,-dx,0), float4x4(0.137261778116226,-0.043260779231787,0.013109032064676,-0.161899283528328,-0.080384843051434,0.042587809264660,-0.021407468244433,0.045110531151295,-0.117416903376579,-0.002535477979109,-0.013048112392426,0.161394461989403,-0.058228962123394,0.198157638311386,0.006696633063257,-0.018321566283703));
res += mul(Get(s2,-dx,dy), float4x4(-0.061724763363600,-0.083232440054417,-0.072358660399914,0.068779475986958,-0.127160057425499,0.050852730870247,0.053203027695417,-0.117726437747478,-0.090721376240253,-0.027401668950915,0.082880400121212,0.088000781834126,0.195251330733299,-0.020305186510086,0.002561651170254,0.006432061083615));
res += mul(Get(s2,0,-dy), float4x4(-0.016679421067238,-0.035938821732998,-0.170713052153587,-0.126643002033234,0.142377212643623,0.036137089133263,0.022745469585061,-0.033083930611610,-0.001818676013499,0.033563889563084,0.139045745134354,-0.227320984005928,0.146101012825966,0.033791273832321,-0.092448703944683,-0.069754973053932));
res += mul(Get(s2,0,0), float4x4(0.006240369286388,-0.014778234064579,-0.049804236739874,-0.136390969157219,-0.062544368207455,0.017428031191230,0.008323984220624,-0.105559647083282,0.087538622319698,-0.024568498134613,-0.045112565159798,-0.128408029675484,-0.104048453271389,-0.057144183665514,-0.043303091078997,-0.057037655264139));
res += mul(Get(s2,0,dy), float4x4(0.141047909855843,0.008150315843523,-0.155326202511787,-0.085686586797237,0.015254911966622,0.010294007137418,-0.032754246145487,-0.047807067632675,0.036066301167011,-0.013362038880587,-0.044770833104849,-0.068075612187386,-0.204193592071533,0.029136717319489,-0.048122797161341,0.044100947678089));
res += mul(Get(s2,dx,-dy), float4x4(-0.006206026766449,-0.009169651195407,0.112081021070480,0.167505130171776,0.082527130842209,-0.086472444236279,0.081524461507797,0.138652414083481,-0.133241638541222,0.071022018790245,0.102740168571472,0.112988129258156,0.245317965745926,0.040575489401817,-0.146183326840401,0.050811048597097));
res += mul(Get(s2,dx,0), float4x4(-0.133173301815987,-0.000345007341821,0.166020065546036,-0.010313414968550,-0.081462211906910,-0.059173986315727,0.082124039530754,-0.019532786682248,-0.024338085204363,-0.001489316113293,-0.108915634453297,0.215305358171463,0.005440827924758,0.033256519585848,-0.053699441254139,0.019427293911576));
res += mul(Get(s2,dx,dy), float4x4(0.004342924803495,-0.043856341391802,-0.134004637598991,-0.140765100717545,-0.136970922350883,0.051495209336281,0.172971352934837,0.240513071417809,-0.208188965916634,0.012901578098536,0.182855099439621,0.089528784155846,0.286842346191406,-0.080986686050892,-0.021229891106486,0.010605370625854));
res += mul(Get(s3,-dx,-dy), float4x4(0.003016070928425,0.019906070083380,0.118380889296532,0.078148409724236,0.076326645910740,-0.044600140303373,0.092565551400185,-0.041708402335644,0.107742413878441,0.135727316141129,-0.150995656847954,0.266502767801285,0.157236337661743,0.176899850368500,-0.120656386017799,-0.104985468089581));
res += mul(Get(s3,-dx,0), float4x4(0.216097101569176,-0.084101863205433,-0.040507171303034,0.173824235796928,-0.090817354619503,-0.049908235669136,-0.089517965912819,-0.002282535890117,-0.063691370189190,0.159503415226936,-0.041167981922626,-0.080987907946110,0.006642598658800,-0.038040589541197,-0.167747393250465,-0.155477657914162));
res += mul(Get(s3,-dx,dy), float4x4(-0.088543891906738,-0.047973863780499,0.024874672293663,0.184573173522949,-0.255735963582993,-0.129390746355057,0.064879916608334,-0.074025131762028,-0.088281556963921,-0.179771184921265,0.084047392010689,-0.049529030919075,-0.037432715296745,-0.044550076127052,-0.066055975854397,-0.124358929693699));
res += mul(Get(s3,0,-dy), float4x4(-0.022893730551004,0.158140420913696,-0.078563168644905,-0.105389058589935,0.098378896713257,0.076011195778847,0.030276995152235,-0.072112537920475,0.156729653477669,0.039635136723518,-0.043487042188644,-0.069815017282963,0.119633100926876,0.110635250806808,0.060683745890856,0.011507247574627));
res += mul(Get(s3,0,0), float4x4(-0.002076719421893,0.040665622800589,-0.002669377950951,-0.026329405605793,-0.023646986111999,-0.057713307440281,-0.148406431078911,0.050535704940557,-0.108124241232872,0.054623760282993,-0.029908493161201,-0.205397233366966,-0.066705867648125,-0.109529882669449,-0.080474548041821,0.010391567833722));
res += mul(Get(s3,0,dy), float4x4(-0.073722958564758,0.095840878784657,0.046302504837513,-0.116113491356373,-0.213481694459915,-0.050390280783176,-0.084005281329155,-0.000647691951599,0.000783176976256,-0.051661200821400,-0.017993463203311,-0.155677229166031,-0.066568426787853,0.051589522510767,-0.039168719202280,0.084992006421089));
res += mul(Get(s3,dx,-dy), float4x4(0.156636655330658,0.010558730922639,0.062546908855438,-0.009095125831664,0.062734946608543,0.213260591030121,0.062732405960560,-0.097096800804138,0.083562374114990,0.113962419331074,-0.104029066860676,0.026159152388573,-0.100221596658230,0.212618142366409,0.082035571336746,0.078110232949257));
res += mul(Get(s3,dx,0), float4x4(-0.125927686691284,-0.128017455339432,-0.034061729907990,0.006597596686333,0.032543096691370,0.013238797895610,0.002285765483975,-0.019055595621467,0.116858400404453,0.093287549912930,-0.016105413436890,0.130782693624496,0.037433568388224,0.017351496964693,-0.046205483376980,0.062410317361355));
res += mul(Get(s3,dx,dy), float4x4(0.099985539913177,0.147297114133835,-0.048356343060732,0.166402101516724,-0.042413070797920,-0.129872322082520,-0.020962011069059,0.012157012708485,0.103354454040527,-0.057137545198202,-0.004631242714822,0.040987398475409,-0.099696531891823,0.083283506333828,0.034700475633144,0.187184378504753));
return max(float4(0,0,0,0), res);
}
