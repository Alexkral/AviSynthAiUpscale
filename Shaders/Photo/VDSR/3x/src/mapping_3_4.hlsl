sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.051966350525618,0.279005825519562,0.064181923866272,-0.121292486786842,0.134610131382942,0.026080848649144,-0.100209884345531,0.033970419317484,-0.025896582752466,0.041202798485756,-0.058260031044483,0.130901068449020,-0.121951028704643,-0.060849618166685,0.077044010162354,0.212836369872093));
res += mul(Get(s0,-dx,0), float4x4(-0.073357947170734,0.147320687770844,-0.012277244590223,-0.121474072337151,0.095513164997101,0.084505990147591,-0.100694134831429,0.033929392695427,-0.083641268312931,-0.087173320353031,0.140614882111549,-0.064609348773956,0.163875013589859,0.153348162770271,0.152854144573212,-0.167258501052856));
res += mul(Get(s0,-dx,dy), float4x4(-0.116602487862110,-0.036481849849224,-0.092256963253021,-0.046535581350327,-0.046535365283489,-0.038112290203571,0.352807313203812,0.198711574077606,-0.154089823365211,0.038242619484663,0.142960965633392,0.178252846002579,-0.176131442189217,-0.043652471154928,-0.094492934644222,0.018057040870190));
res += mul(Get(s0,0,-dy), float4x4(0.057245034724474,0.011367328464985,0.215991050004959,0.035004325211048,-0.128604725003242,-0.071680873632431,-0.014623434282839,0.041729684919119,-0.197094231843948,0.090027116239071,0.179832398891449,0.068518221378326,0.007957926951349,0.062582008540630,-0.084508076310158,-0.035622727125883));
res += mul(Get(s0,0,0), float4x4(-0.019392469897866,0.183138489723206,0.190241932868958,-0.142514526844025,0.090042658150196,-0.005100090987980,-0.080517157912254,-0.062895953655243,0.021104726940393,0.007866160944104,-0.043860618025064,-0.014823714271188,-0.011336171999574,0.020264342427254,0.232071459293365,0.043216176331043));
res += mul(Get(s0,0,dy), float4x4(-0.077443063259125,0.025393063202500,0.109386637806892,0.252808511257172,-0.128234133124352,0.104269824922085,-0.029752990230918,0.077776186168194,-0.093995548784733,-0.083109736442566,0.059663690626621,0.124718658626080,0.153967291116714,0.027721352875233,0.059127297252417,-0.075676821172237));
res += mul(Get(s0,dx,-dy), float4x4(0.099731720983982,-0.116916522383690,0.096733063459396,-0.197419464588165,0.074958689510822,-0.028181420639157,0.068983048200607,0.000733854772989,0.174098476767540,-0.043194796890020,0.101557463407516,-0.146419391036034,-0.200777947902679,-0.147188588976860,-0.085454709827900,-0.035664174705744));
res += mul(Get(s0,dx,0), float4x4(0.098189599812031,0.065660804510117,0.262546032667160,-0.075604490935802,0.036632679402828,-0.024456484243274,0.095761708915234,-0.057042133063078,0.083113901317120,-0.202841579914093,0.056950915604830,-0.216294929385185,-0.075017541646957,0.018810922279954,0.133177608251572,-0.013853521086276));
res += mul(Get(s0,dx,dy), float4x4(-0.096333310008049,-0.087920881807804,0.099274568259716,-0.028641855344176,-0.030963009223342,-0.073576815426350,-0.039101973176003,0.043494936078787,0.057121034711599,-0.145202770829201,-0.075358070433140,-0.052103232592344,0.021245481446385,-0.112378358840942,0.024603966623545,0.071947842836380));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024095792323351,-0.077474981546402,0.083052031695843,0.069704540073872,0.135153651237488,0.064510054886341,-0.147567287087440,0.163732126355171,0.016135780140758,0.182948157191277,0.167699784040451,-0.074453279376030,-0.165233001112938,-0.086553975939751,-0.170574620366096,0.089915089309216));
res += mul(Get(s1,-dx,0), float4x4(-0.084062062203884,0.035917446017265,-0.025662623345852,-0.035948827862740,0.080196619033813,-0.105985209345818,-0.078890658915043,-0.139585897326469,-0.067699320614338,-0.027408858761191,-0.147509813308716,-0.049218244850636,0.020414145663381,-0.034992340952158,0.019066276028752,0.119274154305458));
res += mul(Get(s1,-dx,dy), float4x4(0.038767628371716,-0.068691097199917,-0.052443757653236,-0.022258331999183,0.034453250467777,-0.188868060708046,-0.000309212278808,-0.071721985936165,0.150931641459465,-0.149259552359581,0.074749566614628,0.031191501766443,0.012812981382012,-0.117487221956253,0.033643446862698,0.116629682481289));
res += mul(Get(s1,0,-dy), float4x4(0.092012830078602,-0.004258933942765,0.302522271871567,0.038671199232340,-0.169690221548080,0.029006917029619,-0.017783179879189,0.004380316939205,-0.088134899735451,-0.080995336174965,-0.041482433676720,0.061157364398241,-0.049560960382223,-0.216542840003967,-0.116671107709408,0.061900511384010));
res += mul(Get(s1,0,0), float4x4(0.052786462008953,0.062063109129667,-0.198068201541901,0.043684441596270,-0.032890614122152,0.053779795765877,0.030910195782781,0.057326048612595,0.213514134287834,0.203429639339447,-0.160993307828903,-0.040430795401335,0.037518337368965,-0.011875702068210,-0.036707594990730,-0.023430716246367));
res += mul(Get(s1,0,dy), float4x4(0.005420746281743,-0.129403099417686,0.038615569472313,-0.029779570177197,0.049283877015114,0.163090437650681,0.057228285819292,-0.119673766195774,0.328148663043976,0.115542791783810,0.124803580343723,-0.125588685274124,0.129323124885559,0.013973159715533,-0.018642194569111,0.096116133034229));
res += mul(Get(s1,dx,-dy), float4x4(-0.165180936455727,0.184110850095749,0.129198059439659,-0.106957115232944,-0.132104188203812,-0.058187995105982,0.025602178648114,-0.113615922629833,0.073470279574394,-0.107316337525845,-0.119857914745808,0.176350355148315,-0.066711001098156,0.039747148752213,-0.182726919651031,-0.157810434699059));
res += mul(Get(s1,dx,0), float4x4(0.011597134172916,0.168791756033897,0.067929498851299,-0.053135290741920,-0.053885266184807,-0.046190015971661,0.073661260306835,0.071210883557796,0.063870675861835,-0.028889827430248,-0.026242857798934,-0.156169787049294,-0.075464911758900,-0.012005368247628,-0.041025452315807,0.023232875391841));
res += mul(Get(s1,dx,dy), float4x4(0.024384638294578,0.113863363862038,-0.103770345449448,-0.024728436022997,0.065986283123493,-0.097735270857811,0.147018700838089,0.056899074465036,-0.011915276758373,-0.075115025043488,0.052467007189989,0.049645025283098,-0.121558465063572,-0.004465056583285,-0.053794272243977,0.049651794135571));
res += mul(Get(s2,-dx,-dy), float4x4(-0.038195196539164,-0.038023822009563,-0.015434104017913,0.056732501834631,-0.080756120383739,-0.130322188138962,-0.022632846608758,-0.151031166315079,0.151153713464737,0.033282581716776,-0.055463358759880,-0.026505617424846,0.076766118407249,-0.055031880736351,0.172409355640411,0.104815393686295));
res += mul(Get(s2,-dx,0), float4x4(0.065934643149376,0.050313889980316,0.061422064900398,0.085666134953499,-0.010886243544519,-0.032357495278120,-0.016790086403489,-0.019121594727039,0.107647858560085,-0.055367238819599,-0.147041037678719,-0.102008931338787,-0.129099443554878,0.009789437986910,0.001609875238501,0.108438596129417));
res += mul(Get(s2,-dx,dy), float4x4(0.089447028934956,0.020543804392219,0.119825646281242,0.096472628414631,0.116856269538403,-0.176400244235992,-0.006625581998378,0.044425711035728,-0.009864173829556,-0.041289672255516,-0.009589003399014,-0.036749809980392,0.028351584449410,0.016590354964137,-0.033637918531895,-0.065203465521336));
res += mul(Get(s2,0,-dy), float4x4(0.115857183933258,0.114645570516586,-0.000195263972273,-0.107126362621784,0.092278853058815,0.140720814466476,-0.243297889828682,0.091208763420582,0.118260651826859,0.130157113075256,-0.077933251857758,0.062352739274502,-0.066814981400967,0.060026220977306,-0.138743087649345,-0.056398633867502));
res += mul(Get(s2,0,0), float4x4(0.059416558593512,-0.037365522235632,0.083451092243195,0.165406197309494,0.083598628640175,-0.211452364921570,0.098650090396404,-0.277990013360977,0.114798329770565,-0.005815274547786,0.018369151279330,-0.012499684467912,-0.162074357271194,0.155437111854553,-0.023459339514375,-0.203815579414368));
res += mul(Get(s2,0,dy), float4x4(0.057997073978186,-0.049500867724419,-0.057063736021519,-0.008713057264686,0.012187594547868,0.095898859202862,-0.106064960360527,0.212909787893295,-0.145692557096481,-0.020443741232157,-0.085226587951183,0.091255918145180,0.175675064325333,-0.024033861234784,-0.170041516423225,0.192587628960609));
res += mul(Get(s2,dx,-dy), float4x4(-0.040719460695982,0.095028311014175,0.086890690028667,-0.000376511452487,0.194816455245018,-0.083624713122845,-0.032100919634104,0.055351953953505,-0.103182658553123,-0.027174318209291,0.083294287323952,0.004542803857476,0.161646217107773,0.010703810490668,-0.007453949656337,0.031326279044151));
res += mul(Get(s2,dx,0), float4x4(0.048856921494007,-0.156883597373962,0.139774963259697,-0.072275787591934,0.019577337428927,0.166797325015068,0.048049889504910,0.145738631486893,-0.029316861182451,0.006093780975789,0.128328293561935,0.059958811849356,0.056948971003294,0.018930904567242,0.106783717870712,-0.279240190982819));
res += mul(Get(s2,dx,dy), float4x4(-0.200205624103546,-0.065468512475491,0.016909236088395,0.059739772230387,-0.066502489149570,0.054551571607590,-0.048055790364742,0.040208093822002,0.063302353024483,0.081959947943687,-0.074424318969250,0.005765051580966,-0.069335810840130,-0.152027547359467,-0.141496568918228,0.076883524656296));
res += mul(Get(s3,-dx,-dy), float4x4(0.059795886278152,-0.091469444334507,-0.061027221381664,-0.021415214985609,0.029540717601776,0.011919450014830,-0.155908167362213,-0.105107590556145,-0.073633164167404,-0.051431223750114,0.006795468274504,-0.150481998920441,-0.028020557016134,-0.210129678249359,0.026783619076014,-0.031028036028147));
res += mul(Get(s3,-dx,0), float4x4(0.142430230975151,-0.105016261339188,0.159837558865547,-0.082686647772789,0.281369209289551,0.002196321962401,-0.049105256795883,-0.016059817746282,0.290681123733521,-0.191170468926430,-0.087744854390621,-0.070228345692158,-0.004557015374303,-0.040764298290014,-0.006512490101159,0.119970858097076));
res += mul(Get(s3,-dx,dy), float4x4(-0.155697479844093,0.005146908573806,0.012252129614353,-0.045178443193436,0.016697870567441,-0.095223911106586,-0.022189920768142,-0.069412961602211,-0.095682621002197,-0.057907428592443,0.168545365333557,-0.096846729516983,-0.154541462659836,0.098899230360985,0.181203633546829,-0.033035550266504));
res += mul(Get(s3,0,-dy), float4x4(0.026112148538232,0.055323276668787,-0.058950435370207,-0.122377224266529,0.023045131936669,-0.103828229010105,-0.178154319524765,-0.244283452630043,0.018239445984364,-0.135167583823204,-0.072824254631996,0.007808994036168,0.082044325768948,0.076017737388611,0.060461942106485,-0.018382646143436));
res += mul(Get(s3,0,0), float4x4(0.154239520430565,-0.129341691732407,0.135912239551544,-0.017875758931041,-0.033606439828873,0.066966265439987,0.154604807496071,-0.024342877790332,-0.050780564546585,0.044735345989466,-0.152778148651123,0.081115923821926,0.255631595849991,0.075878173112869,0.170512527227402,0.009345333091915));
res += mul(Get(s3,0,dy), float4x4(-0.103858046233654,-0.180196940898895,0.129362493753433,0.025418452918530,-0.021642690524459,0.134403288364410,-0.062869422137737,0.181383103132248,-0.152521997690201,-0.188165009021759,0.055511251091957,-0.014235882088542,0.115268416702747,0.021368630230427,0.074595339596272,-0.014035569503903));
res += mul(Get(s3,dx,-dy), float4x4(-0.029578587040305,-0.092025779187679,0.065473943948746,0.040060691535473,-0.086912803351879,0.141619846224785,0.058013528585434,-0.030083518475294,0.034187760204077,-0.023490032181144,0.069057807326317,-0.017939954996109,-0.272829473018646,0.075340569019318,-0.056506391614676,0.112025581300259));
res += mul(Get(s3,dx,0), float4x4(0.159610226750374,-0.067209981381893,0.152994111180305,-0.103900283575058,-0.070688642561436,0.070311576128006,0.102918319404125,-0.033621422946453,-0.135441511869431,0.001151615171693,-0.240078344941139,-0.044124905019999,-0.032680064439774,-0.014624105766416,-0.105779379606247,-0.080588020384312));
res += mul(Get(s3,dx,dy), float4x4(-0.030019065365195,0.014001916162670,-0.168368518352509,-0.082095555961132,0.069658435881138,-0.095964238047600,-0.067264862358570,0.125259414315224,-0.071166023612022,0.036142285913229,-0.112636066973209,-0.198099195957184,0.102058969438076,0.008225337602198,0.125434562563896,0.222667992115021));
return max(float4(0,0,0,0), res);
}
