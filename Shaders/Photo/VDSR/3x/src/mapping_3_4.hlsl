sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.164313912391663,0.152120932936668,-0.034303270280361,-0.129023045301437,0.136132642626762,-0.138293206691742,0.224790289998055,0.017971294000745,0.080303542315960,0.123795904219151,0.200960785150528,-0.007563813589513,0.063365593552589,-0.079425603151321,-0.172709509730339,-0.191132709383965));
res += mul(Get(s0,-dx,0), float4x4(0.002913480857387,0.040134068578482,-0.278614789247513,0.018140960484743,-0.010463790968060,-0.163321003317833,-0.105081632733345,-0.000501974427607,0.108184240758419,-0.028501199558377,-0.149010226130486,-0.108850836753845,0.230894431471825,-0.109519161283970,-0.117433577775955,-0.142449155449867));
res += mul(Get(s0,-dx,dy), float4x4(-0.140803441405296,-0.105251267552376,-0.278005510568619,-0.031311854720116,-0.027954878285527,-0.013553293421865,-0.221467122435570,-0.057625431567430,-0.167253956198692,-0.038130700588226,-0.221336826682091,-0.035947032272816,-0.067506179213524,-0.065965436398983,-0.075151853263378,-0.124125115573406));
res += mul(Get(s0,0,-dy), float4x4(0.101265408098698,0.018333453685045,-0.010143077932298,0.003958726767451,0.311486750841141,-0.018372286111116,0.227272093296051,-0.015727002173662,0.070763587951660,-0.032665435224771,0.303520709276199,-0.122594960033894,0.114192239940166,0.031188171356916,-0.154928162693977,-0.096945464611053));
res += mul(Get(s0,0,0), float4x4(-0.033148229122162,-0.038160592317581,-0.174024343490601,-0.073742076754570,0.176639348268509,0.035478699952364,-0.026934545487165,0.022818768396974,0.023704111576080,-0.034013651311398,-0.065610282123089,-0.188330978155136,0.081612370908260,0.027113361284137,-0.088817447423935,-0.044082947075367));
res += mul(Get(s0,0,dy), float4x4(-0.055496238172054,-0.203720018267632,-0.073578082025051,-0.021004473790526,-0.014270470477641,0.125956773757935,-0.145330786705017,-0.008061584085226,-0.168986260890961,-0.036619961261749,-0.120109528303146,-0.140259131789207,-0.088461339473724,0.044959727674723,-0.063507102429867,-0.018121752887964));
res += mul(Get(s0,dx,-dy), float4x4(-0.024487797170877,0.010847821831703,0.027228355407715,-0.153687089681625,-0.073638908565044,-0.038629874587059,0.170788437128067,0.064907670021057,-0.156475409865379,0.013475199230015,0.006142589263618,0.131914436817169,-0.169331401586533,-0.073324635624886,0.063625901937485,-0.009964223951101));
res += mul(Get(s0,dx,0), float4x4(0.107664793729782,-0.044016715139151,-0.096249245107174,-0.130464538931847,-0.033736716955900,-0.037483114749193,0.073723845183849,0.092566132545471,0.067976243793964,0.021089436486363,-0.036715041846037,-0.002941141836345,-0.002851613331586,-0.197003856301308,0.146431773900986,0.053914844989777));
res += mul(Get(s0,dx,dy), float4x4(-0.068042144179344,0.052672088146210,-0.031194005161524,-0.147360265254974,-0.202587082982063,-0.082211129367352,0.112393505871296,0.025716416537762,-0.251490980386734,-0.063717052340508,0.160680904984474,0.118729576468468,0.141478940844536,-0.110384590923786,0.161901399493217,0.110565789043903));
res += mul(Get(s1,-dx,-dy), float4x4(-0.155494213104248,-0.052460297942162,0.125761196017265,0.092792801558971,0.042685862630606,0.056281588971615,-0.019308030605316,0.001177787431516,-0.038672890514135,0.001713379402645,0.023105731233954,0.023425517603755,-0.010898880660534,0.001888046856038,0.110546372830868,0.020058520138264));
res += mul(Get(s1,-dx,0), float4x4(-0.128163486719131,-0.078923314809799,0.093768224120140,-0.178940102458000,0.181677743792534,0.179979145526886,-0.141844391822815,-0.200384765863419,-0.014038937166333,0.009686838835478,-0.052515000104904,0.102612622082233,-0.052411422133446,0.173271283507347,0.077388688921928,0.030813883990049));
res += mul(Get(s1,-dx,dy), float4x4(-0.061533633619547,-0.023192496970296,0.012272586114705,-0.247093558311462,-0.122135393321514,0.079916477203369,-0.236326172947884,-0.008766548708081,0.002165538724512,-0.017987854778767,0.025291794911027,0.054697025567293,0.023431614041328,0.076518960297108,-0.036771275103092,0.026695942506194));
res += mul(Get(s1,0,-dy), float4x4(-0.014104894362390,0.024455608800054,0.002015870762989,0.087064795196056,-0.062704242765903,-0.001678612781689,-0.044512026011944,0.189366251230240,-0.027862362563610,-0.009412890300155,0.018941633403301,-0.039782918989658,-0.054364744573832,-0.003043365431949,0.000479627226014,-0.035136081278324));
res += mul(Get(s1,0,0), float4x4(-0.025741789489985,-0.033153347671032,0.034633990377188,-0.030523361638188,-0.049198668450117,-0.003341709263623,-0.173899903893471,-0.073705144226551,-0.005612498149276,-0.018067372962832,-0.050040930509567,0.025573190301657,-0.046062141656876,0.105704553425312,0.039737086743116,-0.010854558087885));
res += mul(Get(s1,0,dy), float4x4(0.028380591422319,0.033288445323706,0.021399704739451,-0.062450010329485,-0.055113106966019,-0.062539778649807,-0.115750253200531,0.067818753421307,0.020077439025044,-0.037591733038425,0.038685787469149,0.008335811085999,-0.015984417870641,-0.001652390463278,-0.004620277788490,0.017003972083330));
res += mul(Get(s1,dx,-dy), float4x4(-0.039032433182001,0.021228773519397,-0.033903401345015,0.091053344309330,-0.022829663008451,-0.003241789527237,-0.070518061518669,0.025119917467237,-0.005397236905992,-0.010850292630494,0.012589207850397,-0.050409611314535,-0.032118640840054,0.004953767638654,-0.059206143021584,0.004036898724735));
res += mul(Get(s1,dx,0), float4x4(-0.049270141869783,-0.001436148886569,-0.065699495375156,0.107715003192425,-0.057983860373497,-0.094793394207954,-0.117508478462696,0.167212203145027,0.025824628770351,-0.037407882511616,-0.037896346300840,-0.022442767396569,-0.054021075367928,-0.018161149695516,0.023466300219297,0.003181217471138));
res += mul(Get(s1,dx,dy), float4x4(0.044525440782309,0.084991097450256,-0.040950775146484,0.076046377420425,0.010507494211197,-0.122321754693985,-0.121803522109985,-0.164714440703392,0.033587582409382,-0.055099818855524,0.057558536529541,-0.021695818752050,-0.057796247303486,-0.031512986868620,0.035560388118029,0.064292460680008));
res += mul(Get(s2,-dx,-dy), float4x4(0.096622504293919,-0.027781628072262,0.266451925039291,-0.020106490701437,0.193578645586967,0.026772405952215,0.099873885512352,-0.068230003118515,-0.025527097284794,-0.049858268350363,0.080707706511021,-0.002088252687827,0.000021329729861,0.000000483762335,0.000000708047878,-0.000059578051150));
res += mul(Get(s2,-dx,0), float4x4(0.003230982925743,0.103007465600967,0.043399743735790,-0.169974431395531,0.156098261475563,0.154334366321564,0.161598712205887,0.054446812719107,-0.007580588571727,0.028856102377176,0.007381559349597,-0.039266180247068,-0.000004152169822,0.000045348471758,0.000025190995075,-0.000128573607071));
res += mul(Get(s2,-dx,dy), float4x4(-0.019848659634590,0.679147958755493,-0.220277860760689,-0.183466672897339,-0.120231777429581,-0.113514028489590,0.084214918315411,-0.014308210462332,0.026255037635565,-0.040504459291697,-0.036262389272451,-0.022842790931463,-0.000021772606488,0.000063067353040,0.000049016882258,-0.000070256435720));
res += mul(Get(s2,0,-dy), float4x4(-0.263595253229141,-0.083985671401024,0.005259268451482,0.186228364706039,-0.087967269122601,-0.025379911065102,0.020988903939724,-0.115451537072659,-0.142491012811661,-0.017512386664748,0.059055436402559,-0.032991386950016,0.000010832350199,-0.000022596921553,0.000004682719464,-0.000034746622987));
res += mul(Get(s2,0,0), float4x4(-0.082172155380249,-0.175712570548058,-0.061884708702564,-0.080052979290485,0.182774707674980,0.184886306524277,0.119843333959579,-0.015089191496372,-0.128745928406715,-0.012973723933101,-0.017765127122402,-0.032100446522236,0.000017713768102,0.000032750751416,0.000027870184567,-0.000101590550912));
res += mul(Get(s2,0,dy), float4x4(-0.008660103194416,-0.094664409756660,0.026247667148709,-0.131382763385773,-0.045676872134209,-0.021783597767353,0.152544543147087,0.010347918607295,-0.034315932542086,-0.031534686684608,-0.083772838115692,0.058549266308546,-0.000037407211494,0.000008960706509,0.000099899385532,-0.000045745353418));
res += mul(Get(s2,dx,-dy), float4x4(-0.378716200590134,0.029249081388116,-0.138463169336319,-0.007189635653049,-0.162178680300713,-0.082517385482788,-0.062026362866163,-0.076212354004383,0.019008969888091,-0.019659541547298,-0.010859888978302,-0.024481207132339,0.000015346140572,0.000045586308261,-0.000019156710550,0.000139230105560));
res += mul(Get(s2,dx,0), float4x4(-0.212287828326225,-0.089942954480648,-0.172649025917053,0.245197966694832,-0.006677042692900,-0.017785327509046,-0.037736661732197,-0.136212870478630,0.085464864969254,-0.010294398292899,0.004824894946069,-0.049418549984694,-0.000013474887055,0.000085755389591,0.000079590470705,0.000091338864877));
res += mul(Get(s2,dx,dy), float4x4(-0.229607209563255,-0.190094739198685,0.110622599720955,0.199640795588493,-0.106976352632046,-0.006656119599938,0.077783830463886,0.016131147742271,0.008150215260684,0.016669992357492,0.034921485930681,0.053550031036139,-0.000026732603146,0.000011905836800,0.000127494786284,0.000159449744388));
res += mul(Get(s3,-dx,-dy), float4x4(-0.069962777197361,-0.021553464233875,-0.003837808268145,-0.198471844196320,0.025132587179542,-0.068025775253773,-0.089870519936085,0.092197954654694,0.024758303537965,0.036230359226465,-0.064680844545364,-0.012875040061772,-0.136822611093521,-0.085317328572273,-0.037228498607874,-0.058549873530865));
res += mul(Get(s3,-dx,0), float4x4(-0.125091046094894,0.050843559205532,0.026741353794932,0.155239030718803,-0.086223915219307,0.085867568850517,-0.066722199320793,-0.050239197909832,-0.071473054587841,0.058241408318281,-0.189774245023727,0.018758639693260,0.155179515480995,-0.043749690055847,-0.000950925459620,-0.092529013752937));
res += mul(Get(s3,-dx,dy), float4x4(-0.101835481822491,-0.054172661155462,-0.173186510801315,0.078430786728859,0.095017448067665,-0.089289620518684,-0.076503559947014,0.023486489430070,0.036889947950840,0.002295949263498,-0.129594460129738,0.061493985354900,0.172353193163872,-0.020922131836414,-0.017704173922539,-0.124116800725460));
res += mul(Get(s3,0,-dy), float4x4(-0.025957170873880,0.105665370821953,0.127701655030251,0.231486484408379,-0.163064986467361,-0.113582603633404,-0.103590987622738,0.120354920625687,0.198795199394226,0.042209517210722,-0.049705892801285,-0.040106300264597,-0.099797375500202,-0.026899155229330,0.001463649910875,0.149459958076477));
res += mul(Get(s3,0,0), float4x4(-0.072883702814579,0.020113086327910,0.084761306643486,-0.072618275880814,0.132577925920486,0.026047214865685,-0.079344339668751,-0.145297929644585,-0.009528861381114,0.088573977351189,-0.084016822278500,0.059431318193674,0.090055868029594,-0.020285256206989,0.011148057878017,0.043483410030603));
res += mul(Get(s3,0,dy), float4x4(-0.015274263918400,-0.027638379484415,-0.177762180566788,-0.075269192457199,0.126306787133217,-0.033047273755074,-0.023006044328213,0.013274225406349,0.009913148358464,0.005004248581827,0.007394884712994,0.008431982249022,0.072146117687225,0.024684140458703,-0.019814742729068,-0.210441574454308));
res += mul(Get(s3,dx,-dy), float4x4(-0.051849562674761,-0.128880068659782,0.191895902156830,0.101830624043941,-0.031451489776373,-0.006380175240338,-0.013381794095039,0.084865055978298,-0.054213084280491,-0.042211465537548,0.053373254835606,0.012979586608708,-0.009752959944308,0.079670637845993,-0.061845980584621,0.063247114419937));
res += mul(Get(s3,dx,0), float4x4(0.187407180666924,-0.068346053361893,0.085682362318039,-0.121105417609215,0.129466518759727,-0.003816635115072,0.084255069494247,-0.080938868224621,0.001203095423989,-0.075451061129570,0.030618563294411,0.083651438355446,-0.027549186721444,0.012886447831988,-0.006505506578833,0.130343258380890));
res += mul(Get(s3,dx,dy), float4x4(0.185481742024422,-0.007481777574867,-0.151503771543503,0.009759492240846,-0.177753373980522,0.125051423907280,0.086557164788246,-0.009982681833208,0.203734159469604,-0.022363021969795,0.178389564156532,0.017875427380204,-0.106290772557259,0.056017577648163,-0.041592143476009,0.047518089413643));
return max(float4(0,0,0,0), res);
}
