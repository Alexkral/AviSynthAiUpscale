sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.017237082123756,0.000495291722473,-0.020895948633552,-0.108679495751858,0.010460504330695,0.146878719329834,-0.050250086933374,-0.004794254433364,-0.040260244160891,0.022746806964278,-0.054700225591660,0.038916453719139,0.008153808303177,0.031352370977402,-0.058665495365858,-0.060622852295637));
res += mul(Get(s0,-dx,0), float4x4(0.022910531610250,-0.003941725939512,-0.162850007414818,-0.073647581040859,-0.027863897383213,0.124558962881565,-0.044531635940075,-0.123914271593094,0.010405071079731,0.026210330426693,-0.032304529100657,0.024095628410578,-0.114580817520618,0.100916340947151,-0.008365903981030,0.058527935296297));
res += mul(Get(s0,-dx,dy), float4x4(-0.090818271040916,0.006819135975093,-0.128216490149498,-0.006466840859503,0.084221132099628,-0.051939599215984,-0.077536337077618,0.118470750749111,-0.088681720197201,-0.056109506636858,-0.187496647238731,0.021273797377944,-0.073402166366577,-0.134857401251793,-0.058966733515263,-0.159504979848862));
res += mul(Get(s0,0,-dy), float4x4(-0.119661629199982,-0.017708268016577,0.032448478043079,0.036720953881741,-0.004319344181567,-0.158111751079559,-0.111574292182922,0.017101259902120,0.069859743118286,0.118015810847282,0.047321535646915,0.006045630667359,0.021746112033725,0.043635055422783,-0.027218086645007,-0.064954504370689));
res += mul(Get(s0,0,0), float4x4(-0.047833677381277,0.045698810368776,0.108060806989670,-0.005216590128839,0.081975579261780,0.001073899678886,-0.106026425957680,-0.074211627244949,0.065052829682827,0.085349380970001,-0.030161837115884,-0.026054987683892,0.003976248204708,-0.027325702831149,0.035359635949135,0.007785766385496));
res += mul(Get(s0,0,dy), float4x4(0.126977384090424,0.122509531676769,0.017991987988353,-0.148883789777756,0.023208364844322,-0.042233586311340,-0.025523796677589,0.014359244145453,-0.036847405135632,0.095339573919773,-0.138988479971886,0.059789955615997,-0.047670625150204,-0.164988338947296,0.079754516482353,-0.060553714632988));
res += mul(Get(s0,dx,-dy), float4x4(-0.038763411343098,-0.032445937395096,0.090543165802956,-0.072104573249817,-0.016104197129607,0.223373085260391,0.274510145187378,0.007479773834348,-0.164271399378777,0.044675618410110,-0.103817410767078,-0.061002105474472,0.048483487218618,-0.116000466048717,0.028305558487773,-0.043553277850151));
res += mul(Get(s0,dx,0), float4x4(-0.116446956992149,0.003119328524917,0.006878470070660,0.017023062333465,0.208503469824791,0.233434692025185,0.009919482283294,0.002585347276181,0.030108768492937,-0.005187129601836,-0.180723920464516,-0.035824656486511,0.092403262853622,-0.127478331327438,0.062595263123512,-0.063573732972145));
res += mul(Get(s0,dx,dy), float4x4(0.027950894087553,0.024463191628456,0.018341233953834,-0.101932674646378,0.156353592872620,0.114761844277382,-0.138806030154228,-0.020286636427045,-0.013801438733935,-0.168344378471375,-0.024768833070993,0.060447178781033,-0.137888044118881,-0.068227812647820,0.052162077277899,0.167360827326775));
res += mul(Get(s1,-dx,-dy), float4x4(0.049287721514702,-0.042900361120701,-0.041735015809536,0.090065881609917,0.038425635546446,0.006295111496001,0.034951359033585,-0.038221947848797,0.021650046110153,0.146049991250038,0.144079387187958,-0.064944177865982,-0.072392478585243,0.004546097014099,0.261396408081055,-0.100392572581768));
res += mul(Get(s1,-dx,0), float4x4(-0.094073757529259,-0.008796835318208,0.035573516041040,0.053443830460310,-0.061593916267157,-0.063389658927917,0.104238361120224,0.032404292374849,-0.064572244882584,0.023200903087854,0.112338311970234,0.015248690731823,-0.040004719048738,0.159703031182289,0.112026199698448,0.185460627079010));
res += mul(Get(s1,-dx,dy), float4x4(-0.118353374302387,0.115024842321873,0.039510533213615,0.006425550673157,0.175522327423096,-0.068988196551800,0.087723672389984,-0.123286716639996,0.078978523612022,-0.087897092103958,0.041019048541784,-0.038617022335529,-0.036315560340881,0.037224035710096,-0.101648591458797,0.006759843323380));
res += mul(Get(s1,0,-dy), float4x4(-0.027357114478946,-0.012843936681747,0.057276155799627,-0.030405245721340,-0.053206674754620,-0.049464315176010,0.017288774251938,-0.057090837508440,0.038117855787277,-0.078644149005413,0.012481157667935,-0.079388327896595,0.002009232062846,-0.106368467211723,0.122624203562737,0.001514952629805));
res += mul(Get(s1,0,0), float4x4(0.040787953883410,-0.175579100847244,-0.027249166741967,-0.117590777575970,0.033047072589397,-0.030602687969804,0.021667106077075,-0.007799174636602,-0.026458047330379,-0.186198934912682,-0.024288633838296,-0.074827179312706,-0.089755661785603,-0.184631600975990,0.113134130835533,-0.007895598188043));
res += mul(Get(s1,0,dy), float4x4(0.014898644760251,-0.042234431952238,-0.108745425939560,0.033820386976004,0.190562874078751,-0.055199671536684,-0.048777777701616,-0.001834633643739,0.123265400528908,-0.109625369310379,-0.148187860846519,0.039907876402140,-0.084116883575916,-0.172208115458488,-0.101679615676403,-0.120168760418892));
res += mul(Get(s1,dx,-dy), float4x4(-0.156300902366638,-0.086049534380436,0.113086059689522,0.041148878633976,0.015567638911307,-0.014109273441136,-0.028232185170054,-0.039800703525543,-0.019966978579760,-0.070835761725903,0.103514574468136,-0.001047650934197,0.011065487749875,0.150096565485001,-0.056878346949816,-0.031259700655937));
res += mul(Get(s1,dx,0), float4x4(-0.171109363436699,-0.091201342642307,0.004107939545065,-0.094877332448959,0.055065978318453,0.123726576566696,0.103057168424129,-0.020079838111997,-0.098952502012253,0.050269979983568,0.113243684172630,-0.099304705858231,-0.007725036237389,0.052574902772903,0.179349198937416,-0.006799696944654));
res += mul(Get(s1,dx,dy), float4x4(-0.092539034783840,0.127958670258522,-0.090515010058880,0.246459200978279,0.010249782353640,0.042467489838600,0.048560049384832,-0.028400620445609,0.048007573932409,0.084012717008591,0.020866831764579,-0.014665696769953,-0.074939787387848,-0.042010944336653,0.032539851963520,-0.184335038065910));
res += mul(Get(s2,-dx,-dy), float4x4(0.004813239909708,-0.036825519055128,0.137219861149788,0.053103677928448,-0.007363452576101,0.003542260965332,0.142832696437836,-0.007973144762218,0.068731866776943,-0.045907568186522,-0.059125475585461,0.013870241120458,-0.102811649441719,-0.136350452899933,-0.062483057379723,0.095877520740032));
res += mul(Get(s2,-dx,0), float4x4(-0.081364691257477,-0.077381864190102,-0.037838701158762,0.032697051763535,-0.005265566054732,-0.030674867331982,0.164613991975784,-0.159975513815880,0.069733999669552,0.056780058890581,-0.020461533218622,0.001962396316230,0.040863152593374,0.012007339857519,0.056419938802719,-0.040563926100731));
res += mul(Get(s2,-dx,dy), float4x4(-0.088358417153358,-0.139434263110161,-0.153194606304169,-0.058159116655588,-0.004871008917689,0.019759999588132,0.299398481845856,0.079203769564629,-0.032334089279175,0.232804417610168,-0.127708822488785,0.056968118995428,0.083684384822845,-0.002771268831566,0.020482501015067,0.044893819838762));
res += mul(Get(s2,0,-dy), float4x4(-0.012251688167453,-0.168003663420677,0.258620411157608,0.031577583402395,-0.025173800066113,-0.019082320854068,-0.076794803142548,0.058787520974874,-0.121693946421146,-0.063688367605209,-0.034702282398939,-0.056390359997749,-0.047798030078411,0.079373702406883,-0.022291069850326,0.023921573534608));
res += mul(Get(s2,0,0), float4x4(-0.073334202170372,-0.092262960970402,0.084877170622349,-0.073275610804558,-0.097504347562790,-0.028394274413586,-0.199209704995155,0.006455022841692,-0.038006775081158,0.094382323324680,0.067680776119232,-0.150582343339920,0.113707952201366,-0.035310827195644,-0.021566603332758,-0.002075042109936));
res += mul(Get(s2,0,dy), float4x4(-0.077981576323509,-0.023825613781810,-0.127794757485390,-0.110189810395241,-0.069790892302990,0.002775026252493,-0.142302736639977,0.070806056261063,-0.000515183666721,0.022769637405872,-0.176025420427322,-0.057038743048906,-0.037163916975260,0.001972389407456,-0.041405778378248,-0.138971254229546));
res += mul(Get(s2,dx,-dy), float4x4(0.006972909905016,-0.123411297798157,0.133106499910355,-0.002133547328413,0.051119774580002,0.069889850914478,0.171743661165237,-0.045264311134815,-0.182717829942703,-0.057888802140951,-0.038459166884422,-0.052528798580170,-0.014529725536704,0.020283713936806,-0.115413911640644,0.029911894351244));
res += mul(Get(s2,dx,0), float4x4(-0.041996773332357,-0.007474257145077,0.056593798100948,-0.110404029488564,0.001443185494281,0.099538400769234,0.018388610333204,-0.044135071337223,-0.052516039460897,-0.017517331987619,0.141434416174889,0.016116896644235,0.038371179252863,-0.000943646882661,-0.096133522689342,-0.095488689839840));
res += mul(Get(s2,dx,dy), float4x4(-0.043829102069139,0.085222974419594,-0.090123347938061,-0.036623302847147,-0.037234645336866,0.205350860953331,-0.103505007922649,0.047046005725861,0.051231652498245,0.139921203255653,-0.151994407176971,0.115815505385399,-0.074787810444832,0.091168619692326,0.087729185819626,0.487816601991653));
res += mul(Get(s3,-dx,-dy), float4x4(0.129967659711838,0.108872197568417,-0.056667830795050,-0.060890752822161,-0.190772414207458,-0.074512198567390,-0.021655701100826,0.098290488123894,-0.065427795052528,-0.032534327358007,0.088855564594269,0.165610924363136,0.031572785228491,-0.215424373745918,0.251739799976349,0.142565011978149));
res += mul(Get(s3,-dx,0), float4x4(0.034244015812874,0.100565105676651,-0.127395406365395,0.068987928330898,-0.053964480757713,0.137077853083611,0.024100225418806,-0.016757357865572,-0.083241358399391,-0.009065843187273,-0.030557736754417,0.052982576191425,0.148684695363045,-0.103154040873051,0.095165252685547,-0.025300024077296));
res += mul(Get(s3,-dx,dy), float4x4(0.035467617213726,-0.098262943327427,-0.069286234676838,0.089571401476860,0.099034823477268,-0.030560469254851,-0.137070178985596,-0.036187723278999,-0.017131038010120,-0.000024881410354,0.062098469585180,0.064638204872608,0.125783115625381,0.080424815416336,-0.111638210713863,-0.071992941200733));
res += mul(Get(s3,0,-dy), float4x4(0.133401989936829,0.213901162147522,0.034167658537626,-0.005465754307806,0.119930215179920,-0.083142980933189,0.025587193667889,-0.008804613724351,-0.041065428406000,0.017212921753526,0.021772524341941,0.052459519356489,-0.161565512418747,-0.205642923712730,-0.125078976154327,-0.153470546007156));
res += mul(Get(s3,0,0), float4x4(-0.051592059433460,-0.047240771353245,-0.044439084827900,0.057020843029022,0.025590488687158,0.118367940187454,0.122241012752056,-0.036079000681639,0.121111989021301,-0.122894667088985,-0.083007380366325,-0.001251073204912,-0.125801280140877,-0.070555597543716,-0.131323456764221,-0.154284670948982));
res += mul(Get(s3,0,dy), float4x4(-0.036918941885233,-0.293713241815567,0.024119064211845,0.046133942902088,-0.023402936756611,-0.140306860208511,-0.077937938272953,-0.031166570261121,0.056784246116877,0.020070280879736,0.008355158381164,0.031238468363881,0.013548875227571,-0.117575041949749,-0.143303394317627,0.027939252555370));
res += mul(Get(s3,dx,-dy), float4x4(0.093807689845562,0.162700116634369,-0.000115358678158,-0.158601507544518,0.128843456506729,-0.133905768394470,-0.121441960334778,0.036248475313187,-0.017592914402485,-0.087678089737892,0.150143474340439,0.045793753117323,0.009243034757674,0.179411292076111,-0.080007322132587,-0.133882775902748));
res += mul(Get(s3,dx,0), float4x4(0.020649515092373,0.039578545838594,-0.030793322250247,0.121571324765682,0.117709890007973,0.041090488433838,-0.040603179484606,0.025172468274832,0.160479635000229,-0.066492952406406,0.060787715017796,-0.046744145452976,-0.004575826693326,0.137794718146324,-0.108969949185848,0.211434394121170));
res += mul(Get(s3,dx,dy), float4x4(-0.064180843532085,-0.219826310873032,-0.016174180433154,0.073899149894714,-0.207807943224907,-0.168781295418739,-0.025608520954847,0.054306436330080,0.011225875467062,0.284128397703171,0.007800149265677,0.105685174465179,-0.087102420628071,-0.077148668467999,-0.024987224489450,0.313313364982605));
return max(float4(0,0,0,0), res);
}
