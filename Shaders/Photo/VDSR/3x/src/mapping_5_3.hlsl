sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.032154645770788,0.012375380843878,-0.089875750243664,0.203199878334999,-0.151732683181763,-0.144427418708801,-0.123048335313797,-0.153459891676903,0.212692379951477,0.002667653607205,0.047852069139481,-0.012153794057667,0.152638956904411,0.142888516187668,-0.036992561072111,0.012187593616545));
res += mul(Get(s0,-dx,0), float4x4(0.016838327050209,-0.054229028522968,0.062258064746857,-0.070552803575993,-0.247146829962730,0.076506726443768,0.094015367329121,-0.243841528892517,-0.076833739876747,-0.106630094349384,0.033396098762751,0.038995191454887,0.124191142618656,0.045593593269587,0.042684506624937,0.058345712721348));
res += mul(Get(s0,-dx,dy), float4x4(-0.045636236667633,-0.181535810232162,-0.017429582774639,0.073422819375992,-0.123094536364079,0.089322954416275,0.086573436856270,-0.014766084030271,-0.034909524023533,0.053891751915216,0.108368605375290,-0.208228901028633,0.100634761154652,0.005250211805105,0.008162378333509,0.039024241268635));
res += mul(Get(s0,0,-dy), float4x4(-0.097278818488121,-0.061011265963316,0.081936731934547,0.172095581889153,-0.042144898325205,0.063568688929081,0.046970713883638,-0.094499148428440,-0.050847977399826,-0.018026744946837,0.017253136262298,-0.035870056599379,-0.172418266534805,0.029016617685556,0.061632558703423,0.096839800477028));
res += mul(Get(s0,0,0), float4x4(-0.080534748733044,-0.011809272691607,-0.032277185469866,-0.051775857806206,0.007607761770487,0.110722482204437,-0.005264065694064,0.161054834723473,0.067283064126968,-0.079693280160427,0.020890168845654,-0.000265155278612,0.045651890337467,-0.295767933130264,0.176697015762329,0.153315246105194));
res += mul(Get(s0,0,dy), float4x4(-0.156492277979851,0.183621749281883,0.015477444045246,-0.074946716427803,0.138594672083855,0.060927197337151,-0.044839650392532,-0.086306408047676,0.030513290315866,0.208308666944504,-0.045684654265642,0.098604537546635,-0.071100912988186,-0.192956149578094,-0.128610655665398,-0.055323649197817));
res += mul(Get(s0,dx,-dy), float4x4(0.023019682615995,-0.008338727988303,0.110052518546581,-0.128986239433289,-0.146817222237587,0.056538268923759,-0.003508935682476,0.084582403302193,0.114474654197693,-0.078679546713829,-0.083903349936008,0.126806944608688,-0.183305174112320,0.130457058548927,0.077511958777905,0.093568891286850));
res += mul(Get(s0,dx,0), float4x4(-0.157884627580643,0.144751787185669,-0.041237842291594,0.016195751726627,0.270917177200317,0.120324626564980,-0.046276725828648,-0.027682334184647,-0.035850118845701,0.002730467822403,-0.158509433269501,0.012529394589365,0.006987742614001,0.026656799018383,-0.083888068795204,-0.010110599920154));
res += mul(Get(s0,dx,dy), float4x4(0.002857562620193,0.212362721562386,-0.149219065904617,0.006034230347723,0.053541623055935,0.045168984681368,-0.013289339840412,0.007844843901694,0.048030789941549,0.110271550714970,0.055987816303968,0.213617742061615,-0.040040623396635,0.009360941126943,-0.019151857122779,-0.165858656167984));
res += mul(Get(s1,-dx,-dy), float4x4(0.125244528055191,0.079822719097137,0.000864104426000,0.176963999867439,-0.058433175086975,0.100114189088345,0.084201432764530,0.060472022742033,-0.100866600871086,0.136723652482033,0.039682533591986,0.001217661891133,-0.091022685170174,0.104802556335926,-0.056815762072802,0.195119693875313));
res += mul(Get(s1,-dx,0), float4x4(-0.153707131743431,0.089819319546223,0.002954577561468,-0.036478552967310,0.190090432763100,-0.119655758142471,0.189797192811966,0.052820067852736,0.026424501091242,0.032822795212269,-0.059553779661655,-0.020921749994159,0.073498964309692,0.070877037942410,-0.028914375230670,-0.101174212992191));
res += mul(Get(s1,-dx,dy), float4x4(0.063313454389572,-0.053962476551533,-0.212938472628593,0.048617798835039,0.001978617627174,-0.057870279997587,0.148603647947311,0.136715441942215,0.035935062915087,0.015022301115096,0.077960208058357,0.048841025680304,0.102824628353119,-0.050906933844090,-0.109640575945377,-0.067041680216789));
res += mul(Get(s1,0,-dy), float4x4(-0.206121370196342,-0.099216334521770,0.107920631766319,-0.036951303482056,0.002023106440902,-0.153298273682594,-0.033189807087183,-0.063015654683113,0.146634116768837,-0.088314637541771,-0.155392259359360,-0.007371473591775,0.152408689260483,-0.172628596425056,-0.090082660317421,-0.047861263155937));
res += mul(Get(s1,0,0), float4x4(0.179849058389664,0.263291627168655,0.126443535089493,-0.002984985010698,-0.035230316221714,-0.005767224822193,-0.006879089865834,-0.066490896046162,0.023431289941072,0.049329806119204,0.060189962387085,0.040161252021790,0.124765895307064,0.048178631812334,-0.118727996945381,-0.133108422160149));
res += mul(Get(s1,0,dy), float4x4(-0.058531038463116,0.063372023403645,0.076216727495193,-0.128180295228958,-0.058767814189196,-0.074061408638954,0.078213058412075,0.071746855974197,0.164172217249870,-0.031465448439121,-0.271191716194153,0.088796213269234,0.055278010666370,0.174605548381805,-0.066967830061913,0.050927590578794));
res += mul(Get(s1,dx,-dy), float4x4(0.048084191977978,0.003272783709690,0.170644566416740,-0.061916232109070,0.041830468922853,-0.054607558995485,-0.015175345353782,-0.019465927034616,-0.004326743539423,0.100604437291622,-0.175264179706573,-0.222523540258408,0.067370310425758,-0.080531314015388,0.073062233626842,-0.142971754074097));
res += mul(Get(s1,dx,0), float4x4(0.002922008512542,0.127259016036987,-0.070651084184647,-0.059876635670662,0.053399067372084,-0.036623619496822,-0.067135527729988,0.192344918847084,0.188700124621391,-0.092622391879559,0.186191543936729,-0.052634954452515,0.165242269635201,0.115150801837444,0.048988118767738,-0.010275716893375));
res += mul(Get(s1,dx,dy), float4x4(-0.171740755438805,0.027230167761445,-0.233420282602310,-0.021251130849123,0.112991303205490,0.000002166587819,-0.029110904783010,-0.042357306927443,0.046193871647120,0.056906871497631,-0.024957206100225,0.078111462295055,-0.203986629843712,0.002535580657423,0.039669513702393,-0.148571610450745));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003729925723746,0.052462939172983,0.167794302105904,0.096374116837978,0.005909230560064,-0.034200564026833,0.062354184687138,0.033868599683046,0.028746891766787,-0.011448776349425,0.032555572688580,-0.103719770908356,-0.171769127249718,0.109783403575420,0.286126255989075,-0.146414488554001));
res += mul(Get(s2,-dx,0), float4x4(-0.040781408548355,-0.021402677521110,-0.084104433655739,0.194606080651283,-0.262957423925400,0.064367547631264,0.090416014194489,-0.002499743364751,-0.039171796292067,-0.078172549605370,-0.082591213285923,0.038150250911713,-0.110200196504593,0.019780199974775,0.135098621249199,0.134580031037331));
res += mul(Get(s2,-dx,dy), float4x4(0.057670567184687,0.119918115437031,0.033962264657021,-0.026661463081837,0.103449389338493,-0.086855910718441,-0.172259122133255,-0.058323327451944,-0.018794216215611,-0.145823523402214,0.008667103014886,0.008293537423015,-0.021214067935944,-0.026266710832715,-0.103557936847210,0.045140709728003));
res += mul(Get(s2,0,-dy), float4x4(-0.075437813997269,0.110457569360733,0.171490490436554,-0.039239767938852,-0.078035019338131,-0.074107520282269,-0.089080318808556,0.164337575435638,-0.121428005397320,-0.054782424122095,0.128264397382736,-0.020769709721208,-0.121616497635841,0.036861430853605,0.017155755311251,-0.019222019240260));
res += mul(Get(s2,0,0), float4x4(0.121019646525383,-0.160444587469101,-0.133452370762825,-0.174355611205101,0.077696956694126,-0.113757349550724,0.076360858976841,0.041251510381699,-0.005572746973485,-0.019486578181386,0.174596861004829,-0.196080029010773,0.233221709728241,0.120779916644096,0.041185580193996,-0.125447407364845));
res += mul(Get(s2,0,dy), float4x4(0.063767731189728,-0.052555818110704,0.064381599426270,0.038569610565901,-0.160283103585243,-0.094895094633102,0.020672950893641,0.046826157718897,-0.067439608275890,0.045061737298965,0.064322061836720,-0.167256221175194,0.046682067215443,0.020717008039355,-0.055447690188885,-0.113518707454205));
res += mul(Get(s2,dx,-dy), float4x4(-0.063862167298794,0.066635057330132,0.057410374283791,0.080228626728058,0.056057918816805,-0.034649718552828,0.023297643288970,0.017900183796883,0.055982109159231,0.029513331130147,0.063800990581512,0.042986486107111,-0.062876604497433,0.167198210954666,-0.054540809243917,-0.030608410015702));
res += mul(Get(s2,dx,0), float4x4(-0.034237265586853,0.047084297984838,-0.237413927912712,0.136922940611839,0.147312909364700,0.000895408447832,-0.035422910004854,0.080714993178844,0.222801491618156,0.001690191915259,-0.047299243509769,-0.070372432470322,-0.018935982137918,-0.121453166007996,0.186541244387627,-0.036611720919609));
res += mul(Get(s2,dx,dy), float4x4(0.044161401689053,-0.044655077159405,0.188002333045006,-0.126650035381317,-0.036872863769531,-0.181484505534172,0.065574854612350,-0.071986697614193,-0.020561246201396,-0.114386878907681,-0.112398840487003,-0.002638700651005,0.020142398774624,-0.003126860363409,-0.037718545645475,0.179027751088142));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020240833982825,0.076586522161961,0.085391148924828,0.090258397161961,0.018032267689705,0.032251834869385,-0.012166530825198,0.027070906013250,-0.043433923274279,0.073953859508038,0.149352788925171,-0.123343847692013,-0.049910776317120,0.024141050875187,0.027113988995552,0.038803178817034));
res += mul(Get(s3,-dx,0), float4x4(0.018913216888905,0.003939782269299,0.084056586027145,0.155438199639320,-0.081828214228153,0.151200667023659,0.187860712409019,0.085695348680019,0.091670669615269,0.124299310147762,0.026346573606133,0.059635210782290,0.175718635320663,-0.069379530847073,-0.050519637763500,-0.039734657853842));
res += mul(Get(s3,-dx,dy), float4x4(-0.261833310127258,0.064704000949860,-0.036491923034191,-0.010968486778438,0.086281724274158,0.014060686342418,-0.117741338908672,0.099070616066456,-0.096725620329380,0.215540543198586,0.137503176927567,-0.058948077261448,0.033219680190086,0.003805965185165,-0.074623458087444,0.126561433076859));
res += mul(Get(s3,0,-dy), float4x4(-0.089440584182739,-0.212696567177773,-0.005210181232542,-0.071356303989887,-0.100268982350826,-0.137039065361023,0.023062793537974,-0.035703271627426,-0.049597814679146,0.054914720356464,-0.072592228651047,0.025797663256526,-0.041617039591074,-0.049198180437088,0.215932130813599,0.002081136452034));
res += mul(Get(s3,0,0), float4x4(-0.130647569894791,-0.022921819239855,0.138987168669701,-0.032539237290621,-0.125909447669983,0.098319418728352,0.086371928453445,-0.118382811546326,0.072857342660427,-0.102111354470253,0.084222838282585,-0.092270575463772,0.092551477253437,-0.107583500444889,-0.025898665189743,0.076842539012432));
res += mul(Get(s3,0,dy), float4x4(-0.079425640404224,-0.040689274668694,0.106523282825947,0.078041270375252,-0.141780421137810,-0.101187199354172,0.134330660104752,-0.087662555277348,0.052905645221472,0.065932244062424,0.223286345601082,0.160033747553825,-0.046239718794823,0.005327361170202,-0.145596519112587,-0.070951581001282));
res += mul(Get(s3,dx,-dy), float4x4(0.164292246103287,-0.054703705012798,-0.142377778887749,0.074596785008907,-0.051450595259666,-0.135811150074005,0.109412796795368,0.184886217117310,-0.265709370374680,-0.044872164726257,-0.040034513920546,0.109590508043766,-0.036939207464457,-0.087345801293850,0.059160776436329,-0.033958159387112));
res += mul(Get(s3,dx,0), float4x4(0.028570646420121,0.009592303074896,-0.056346900761127,-0.161351576447487,0.059594187885523,-0.201980903744698,0.093640565872192,-0.015003106556833,0.160708218812943,-0.097223311662674,-0.010804336518049,0.154619202017784,0.066489405930042,0.004655580967665,-0.105174481868744,-0.069378308951855));
res += mul(Get(s3,dx,dy), float4x4(-0.021529333665967,-0.238919556140900,-0.126713439822197,0.026542780920863,-0.065931536257267,0.037084262818098,-0.093159183859825,0.248546391725540,-0.001332484884188,-0.192933753132820,-0.132052004337311,-0.058682747185230,0.076740108430386,0.003863442223519,0.090349964797497,-0.106614008545876));
return max(float4(0,0,0,0), res);
}
