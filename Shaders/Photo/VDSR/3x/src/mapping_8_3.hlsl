sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001367645105347,-0.027707716450095,0.163139328360558,0.091064795851707,0.022523241117597,-0.053481742739677,-0.095483168959618,0.169479236006737,0.038095358759165,0.093848146498203,0.193966001272202,-0.070562958717346,0.000564086134546,-0.000984846381471,0.006866206414998,0.021255915984511));
res += mul(Get(s0,-dx,0), float4x4(-0.212892353534698,-0.006650683470070,0.049884825944901,0.018843540921807,0.001064765849151,-0.122180461883545,0.165453925728798,0.272990345954895,-0.029464848339558,-0.078607060015202,0.277922302484512,-0.015314163640141,0.085950382053852,-0.049326110631227,-0.075379535555840,0.022902376949787));
res += mul(Get(s0,-dx,dy), float4x4(0.201577842235565,-0.005578389391303,0.097380928695202,-0.035458188503981,0.098865665495396,0.025170985609293,0.082826942205429,0.101644627749920,-0.160604983568192,0.015057891607285,0.116108000278473,-0.138410776853561,0.139959350228310,-0.042707778513432,-0.017801772803068,-0.010213593021035));
res += mul(Get(s0,0,-dy), float4x4(-0.028711870312691,-0.080439768731594,-0.019127916544676,0.034774903208017,0.162255078554153,0.017949478700757,-0.021347658708692,0.100903555750847,-0.015981830656528,0.039687782526016,0.084203436970711,0.084588617086411,-0.007523697335273,0.013900321908295,0.095903307199478,0.043803729116917));
res += mul(Get(s0,0,0), float4x4(-0.099490098655224,0.033037785440683,0.019995249807835,0.003474151482806,-0.010447544045746,0.000842739886139,0.127403393387794,-0.004088505171239,-0.058846488595009,0.027285922318697,-0.032584737986326,0.048167977482080,-0.004553338047117,-0.033276889473200,-0.083569280803204,0.002308858325705));
res += mul(Get(s0,0,dy), float4x4(0.121338278055191,0.038165520876646,0.096009284257889,0.021195609122515,0.013231276534498,-0.049853444099426,-0.020723091438413,0.012625445611775,-0.136763706803322,0.039276335388422,0.040590472519398,-0.057106416672468,-0.077984757721424,-0.031200002878904,-0.073258712887764,0.077866397798061));
res += mul(Get(s0,dx,-dy), float4x4(-0.051205873489380,0.056247211992741,0.006930041592568,0.080833189189434,0.205225676298141,0.116907738149166,-0.076338037848473,0.010786862112582,-0.118540145456791,-0.076187565922737,0.015702968463302,0.135744825005531,0.047089900821447,0.032819394022226,0.243405282497406,-0.077405378222466));
res += mul(Get(s0,dx,0), float4x4(-0.129319861531258,0.073636248707771,0.037707518786192,-0.043235953897238,0.010394029319286,-0.007607640232891,-0.016623437404633,-0.055361971259117,-0.040868643671274,-0.038004793226719,-0.061518896371126,0.106297470629215,0.149196490645409,-0.007603319827467,-0.042596712708473,0.037972558289766));
res += mul(Get(s0,dx,dy), float4x4(0.287682503461838,0.053214900195599,0.084648057818413,0.052198808640242,-0.040302459150553,0.036770697683096,-0.092083156108856,-0.046904552727938,-0.169451847672462,-0.071082279086113,0.040374871343374,-0.093548953533173,0.021885199472308,0.001866157632321,-0.035508275032043,-0.092226661741734));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034877374768257,-0.139569729566574,-0.016291523352265,-0.056773137301207,0.040857717394829,0.073899887502193,-0.137145400047302,-0.037534918636084,-0.017161486670375,0.038574077188969,0.038981556892395,0.000527416530531,0.094591572880745,-0.080506920814514,-0.087555572390556,-0.010206105187535));
res += mul(Get(s1,-dx,0), float4x4(-0.035173069685698,0.026369903236628,0.061882197856903,-0.023933254182339,0.007994901388884,0.102758027613163,-0.010047339834273,0.001464731991291,0.062652558088303,0.009859052486718,0.096233442425728,0.024009421467781,0.058618176728487,-0.068834111094475,-0.086032822728157,-0.070335358381271));
res += mul(Get(s1,-dx,dy), float4x4(0.031265895813704,-0.029216440394521,0.028803974390030,0.029786370694637,-0.104388214647770,0.103659361600876,-0.199473068118095,0.021770406514406,-0.056907709687948,0.066601492464542,0.043441079556942,-0.123921170830727,-0.070842973887920,0.062920443713665,-0.107078365981579,-0.067755959928036));
res += mul(Get(s1,0,-dy), float4x4(0.094426520168781,-0.164677247405052,-0.077963665127754,0.043144341558218,-0.002846439601853,0.097231253981590,-0.112004861235619,-0.076281845569611,-0.039013538509607,0.071395248174667,0.069577634334564,-0.199300885200500,0.089626111090183,-0.082502797245979,-0.121776275336742,0.062416676431894));
res += mul(Get(s1,0,0), float4x4(0.059001002460718,-0.005116141401231,-0.009758359752595,-0.092895381152630,0.026952926069498,0.043231915682554,-0.102663606405258,-0.037067417055368,0.195056930184364,-0.119132205843925,-0.039167605340481,-0.161667004227638,0.104975841939449,-0.036332935094833,-0.037414267659187,0.116099141538143));
res += mul(Get(s1,0,dy), float4x4(-0.022983564063907,0.044343613088131,0.016686715185642,0.147447764873505,-0.013244323432446,-0.081415206193924,-0.092072315514088,-0.026227742433548,0.087533436715603,-0.030409242957830,0.042087327688932,-0.145611882209778,0.004262321628630,0.059557080268860,0.017650526016951,0.097444862127304));
res += mul(Get(s1,dx,-dy), float4x4(0.029639277607203,-0.051330871880054,-0.043967656791210,0.125363677740097,-0.132672131061554,0.064381234347820,-0.066515557467937,-0.168237537145615,-0.009615822695196,0.062651477754116,0.081412419676781,-0.168421968817711,0.063431873917580,-0.069583028554916,0.049908131361008,0.019015604630113));
res += mul(Get(s1,dx,0), float4x4(0.060019947588444,0.059498082846403,-0.033666696399450,-0.035735093057156,-0.068990282714367,0.105095304548740,0.050706621259451,-0.094987966120243,0.001247928710654,-0.004729474894702,-0.076790377497673,-0.198446989059448,0.184870824217796,0.016616264358163,0.076944172382355,0.028906529769301));
res += mul(Get(s1,dx,dy), float4x4(0.045967116951942,0.035397760570049,0.006215772591531,0.044183325022459,-0.008428846485913,-0.095292992889881,0.011756495572627,-0.051746048033237,-0.061448205262423,-0.058089498430490,-0.085745148360729,-0.147371232509613,0.098665080964565,-0.005027387756854,0.074016258120537,-0.052446704357862));
res += mul(Get(s2,-dx,-dy), float4x4(-0.129953160881996,0.496734321117401,0.086563915014267,-0.019343348219991,0.175506353378296,-0.081886798143387,-0.043289911001921,-0.104222767055035,0.183388620615005,-0.060529455542564,0.005686182063073,-0.097614273428917,-0.034650355577469,-0.042522482573986,-0.024492256343365,0.009350445121527));
res += mul(Get(s2,-dx,0), float4x4(-0.037130516022444,-0.125606119632721,0.075266182422638,-0.084399439394474,0.030410056933761,0.021192425861955,0.017465526238084,-0.015824977308512,0.049475271254778,0.066335350275040,-0.092833325266838,-0.100880131125450,0.014778185635805,-0.058291394263506,-0.027823073789477,-0.060676589608192));
res += mul(Get(s2,-dx,dy), float4x4(-0.018771637231112,0.021850705146790,0.018369346857071,0.089127533137798,-0.150435671210289,-0.020430291071534,-0.031608592718840,-0.042068690061569,0.166181206703186,0.093661159276962,-0.095119997859001,-0.171109154820442,-0.050636846572161,-0.043683893978596,-0.007608758285642,0.028534408658743));
res += mul(Get(s2,0,-dy), float4x4(-0.080598212778568,0.191645964980125,0.015925101935863,-0.020403267815709,-0.053583491593599,-0.067972958087921,-0.089524142444134,-0.003294574096799,0.025229979306459,-0.110151425004005,-0.021805383265018,0.014120542444289,-0.042600020766258,-0.020328776910901,0.064753405749798,0.152757659554482));
res += mul(Get(s2,0,0), float4x4(-0.039935547858477,-0.116017088294029,0.034675508737564,0.039955265820026,-0.013316404074430,-0.006686128210276,0.005933949258178,-0.026842467486858,-0.003234617644921,0.127502918243408,0.034036133438349,0.068086817860603,0.100301414728165,-0.054386090487242,-0.001617747941054,-0.000530204677489));
res += mul(Get(s2,0,dy), float4x4(0.030746959149837,-0.023433148860931,-0.086069412529469,0.064049489796162,-0.048763938248158,-0.095294512808323,-0.046198468655348,-0.047128304839134,-0.058946620672941,-0.062481392174959,0.025216851383448,0.086024828255177,0.052810892462730,-0.022837286815047,0.014910239726305,0.039575748145580));
res += mul(Get(s2,dx,-dy), float4x4(-0.043171614408493,0.105808585882187,0.063907548785210,-0.181713581085205,-0.052578508853912,0.052512481808662,-0.079127743840218,0.016994206234813,-0.048423796892166,0.158525213599205,0.007150353863835,-0.033477235585451,0.056210312992334,-0.036313425749540,0.045300647616386,-0.003204301465303));
res += mul(Get(s2,dx,0), float4x4(-0.068684950470924,-0.106786519289017,-0.072367601096630,-0.105710715055466,-0.135267406702042,-0.033739544451237,0.000918117002584,-0.097624793648720,-0.074356295168400,0.219103142619133,0.039896018803120,-0.042354267090559,0.068345740437508,0.018604649230838,0.081583298742771,0.161230996251106));
res += mul(Get(s2,dx,dy), float4x4(-0.098775498569012,-0.094943560659885,0.030179038643837,-0.098657965660095,-0.199453696608543,-0.106962896883488,-0.037279412150383,0.086747907102108,-0.179797351360321,0.140879184007645,0.081959038972855,-0.106922887265682,0.106664746999741,0.047424905002117,0.022112609818578,-0.043330669403076));
res += mul(Get(s3,-dx,-dy), float4x4(0.069643124938011,0.105403862893581,-0.138869717717171,-0.019177746027708,-0.045272290706635,0.047132786363363,0.147810578346252,-0.158796250820160,-0.132166862487793,0.054174493998289,0.053690303117037,0.094107903540134,-0.006687679793686,-0.107072860002518,0.041914332658052,0.040052883327007));
res += mul(Get(s3,-dx,0), float4x4(0.037119556218386,0.014481196179986,-0.035125572234392,0.036118607968092,0.041443705558777,0.005850384011865,-0.013848758302629,0.027256043627858,-0.076244004070759,-0.077139228582382,0.017793277278543,0.054000545293093,-0.000039034141082,0.035098381340504,-0.013919903896749,-0.059020172804594));
res += mul(Get(s3,-dx,dy), float4x4(0.034510891884565,0.046325717121363,-0.024023607373238,0.039967834949493,0.076667137444019,-0.064079441130161,0.009762843139470,-0.035621032118797,0.026796018704772,-0.003071355167776,-0.117374755442142,-0.022264974191785,-0.073995083570480,-0.026945449411869,-0.039788037538528,0.019243886694312));
res += mul(Get(s3,0,-dy), float4x4(-0.063375487923622,-0.060434911400080,0.027816403657198,0.054043591022491,0.138531327247620,-0.038568183779716,-0.022958636283875,-0.137513279914856,-0.005130664445460,0.019154818728566,0.045693408697844,-0.021040463820100,0.058601874858141,-0.056210685521364,-0.047417338937521,0.044142175465822));
res += mul(Get(s3,0,0), float4x4(-0.051254142075777,0.071984149515629,0.010367725975811,0.053618665784597,0.049947716295719,0.043576940894127,-0.035617277026176,0.076117232441902,0.150668233633041,-0.075289569795132,-0.002414402319118,-0.025216165930033,-0.015381776727736,-0.036228079348803,0.007883490063250,-0.019340759143233));
res += mul(Get(s3,0,dy), float4x4(0.001422870904207,0.040454953908920,-0.069103792309761,0.148135527968407,-0.033018615096807,-0.037828270345926,-0.025033527985215,-0.001149156829342,0.201578363776207,-0.049087066203356,-0.089392229914665,-0.015891609713435,-0.006546693854034,-0.113710232079029,0.084600724279881,-0.033632848411798));
res += mul(Get(s3,dx,-dy), float4x4(-0.129346951842308,-0.019498471170664,0.013575538992882,-0.041849106550217,-0.188722938299179,0.044985163956881,0.012199040502310,-0.066724307835102,-0.031693387776613,0.010560188442469,-0.114568710327148,-0.143011018633842,-0.015290551818907,-0.050099607557058,-0.027934724465013,-0.045777123421431));
res += mul(Get(s3,dx,0), float4x4(0.002603845437989,0.093796439468861,0.020075125619769,0.024988809600472,-0.118643365800381,0.084140211343765,-0.051597096025944,-0.012539478018880,-0.024079954251647,-0.116836003959179,-0.067160643637180,-0.053550351411104,-0.099573358893394,-0.139470204710960,0.069881856441498,-0.108252897858620));
res += mul(Get(s3,dx,dy), float4x4(-0.032706908881664,-0.071803644299507,0.010264589451253,0.207266896963120,-0.137510553002357,0.038032565265894,0.042148549109697,-0.000949640409090,-0.046374805271626,-0.113099433481693,-0.093300141394138,0.139946177601814,0.041908886283636,-0.046460781246424,0.015420963987708,-0.041966248303652));
return max(float4(0,0,0,0), res);
}
