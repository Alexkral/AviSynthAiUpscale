sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.050712633877993,-0.051291670650244,-0.008116588927805,0.095994926989079,0.059614323079586,-0.060438815504313,-0.174579694867134,0.066112026572227,0.075090393424034,0.122187167406082,-0.088688068091869,0.015392052941024,-0.013927331194282,-0.006016787141562,0.030273701995611,0.015838770195842));
res += mul(Get(s0,-dx,0), float4x4(-0.004520489368588,-0.072509087622166,-0.075185805559158,0.027211925014853,0.060426995158195,-0.048383302986622,-0.000100203826150,-0.034784462302923,0.001297952607274,0.012256987392902,-0.078168965876102,-0.015679955482483,0.137496680021286,-0.041862197220325,0.042614582926035,0.014933507889509));
res += mul(Get(s0,-dx,dy), float4x4(-0.017773848026991,-0.121413886547089,-0.052931945770979,0.012546945363283,-0.086127333343029,-0.098812259733677,0.102143682539463,0.084552265703678,-0.025134555995464,0.269259959459305,-0.134127140045166,-0.055073849856853,0.009477627463639,0.024359319359064,-0.043182253837585,0.028665542602539));
res += mul(Get(s0,0,-dy), float4x4(0.021054394543171,0.018930966034532,-0.064072452485561,0.037352934479713,0.016175556927919,0.012288784608245,-0.034340593963861,-0.056631047278643,0.150891572237015,0.062658444046974,-0.126604244112968,-0.048791058361530,-0.015684144571424,-0.037108939141035,-0.033962123095989,-0.019354593008757));
res += mul(Get(s0,0,0), float4x4(0.063926294445992,-0.091955155134201,-0.085317581892014,0.073714368045330,-0.050916630774736,0.086890369653702,0.102571956813335,-0.070402935147285,-0.021668879315257,-0.051896914839745,-0.022494066506624,-0.037260174751282,-0.066988766193390,-0.025562735274434,-0.078996740281582,-0.012973396107554));
res += mul(Get(s0,0,dy), float4x4(-0.014536349102855,0.106121160089970,-0.006358689162880,0.069629862904549,-0.033708956092596,0.002854881808162,0.113036863505840,0.071065373718739,-0.030268555507064,-0.122580021619797,-0.036105353385210,0.025180453434587,-0.033339526504278,0.006679978221655,0.140353009104729,-0.129251301288605));
res += mul(Get(s0,dx,-dy), float4x4(-0.087211765348911,0.093812219798565,-0.107217550277710,-0.078100100159645,0.029883960261941,-0.020626179873943,0.134109720587730,-0.074748158454895,-0.045579068362713,0.025979083031416,-0.174099326133728,-0.108004309237003,-0.025702988728881,0.056582033634186,-0.034132320433855,-0.055580504238605));
res += mul(Get(s0,dx,0), float4x4(-0.085610598325729,0.038738518953323,-0.196266978979111,-0.031010733917356,-0.016205431893468,0.047917850315571,0.132981181144714,0.014822976663709,0.001195891527459,-0.007567522581667,-0.134034484624863,0.000302774191368,-0.127935782074928,-0.000141316631925,0.261837989091873,-0.178248375654221));
res += mul(Get(s0,dx,dy), float4x4(0.044625908136368,0.044106472283602,-0.057453669607639,0.005221500527114,-0.019732272252440,-0.145544841885567,0.022163145244122,0.056134890764952,0.044441588222980,-0.036649066954851,-0.072179593145847,0.002856035018340,-0.133345246315002,0.050806179642677,0.042454000562429,-0.143498733639717));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030157240107656,0.046439666301012,0.122090183198452,-0.072400815784931,0.040414411574602,-0.004604067653418,-0.016535626724362,0.003567020641640,-0.014863202348351,0.037604521960020,0.129250079393387,-0.037740021944046,0.111293613910675,-0.035763669759035,-0.133828818798065,0.050034381449223));
res += mul(Get(s1,-dx,0), float4x4(-0.066639140248299,-0.068288311362267,0.060744777321815,0.045563958585262,0.119092576205730,-0.073720015585423,-0.122901186347008,0.001401361776516,-0.108417309820652,0.067868933081627,0.217197239398956,-0.075228177011013,-0.043063722550869,-0.082726366817951,-0.024891188368201,0.094873912632465));
res += mul(Get(s1,-dx,dy), float4x4(-0.126927644014359,-0.069377832114697,-0.100276462733746,0.083581052720547,0.005650301929563,-0.189626082777977,-0.072986073791981,-0.023067113012075,-0.103135660290718,-0.044825393706560,0.063752010464668,-0.070511057972908,0.270923852920532,-0.116795092821121,-0.037769574671984,0.081214405596256));
res += mul(Get(s1,0,-dy), float4x4(0.033351473510265,0.060651261359453,0.008263699710369,-0.153851702809334,0.063730768859386,0.039671491831541,0.084360390901566,0.016552187502384,0.013152204453945,-0.014941808767617,-0.115700364112854,0.038907814770937,-0.087188564240932,-0.011752193793654,-0.112853057682514,0.083565868437290));
res += mul(Get(s1,0,0), float4x4(-0.003096794476733,-0.018307972699404,-0.037621058523655,-0.025555761530995,-0.041815735399723,0.041436802595854,-0.051801607012749,-0.043262034654617,-0.057212483137846,0.082229390740395,0.029565377160907,-0.019150212407112,-0.007763690315187,-0.042258538305759,-0.003612074069679,0.115312956273556));
res += mul(Get(s1,0,dy), float4x4(-0.009064190089703,-0.027067868039012,0.073061697185040,0.030497958883643,-0.119838170707226,0.015447000972927,-0.075323067605495,-0.078767172992229,0.004320566542447,-0.030971089377999,0.037274528294802,0.012673051096499,0.138739287853241,-0.093285113573074,-0.026063663884997,0.023186353966594));
res += mul(Get(s1,dx,-dy), float4x4(0.034050907939672,0.057649437338114,0.017535345628858,-0.145893722772598,0.028310222551227,0.059225674718618,0.094881936907768,-0.038402501493692,0.074311971664429,0.037440888583660,0.042415924370289,-0.084869086742401,-0.020053260028362,-0.022363256663084,-0.164584845304489,0.047282956540585));
res += mul(Get(s1,dx,0), float4x4(-0.029176330193877,-0.099687539041042,-0.055995527654886,-0.065397791564465,0.138965904712677,0.047902546823025,0.024528587237000,-0.027337098494172,0.069944933056831,0.016188021749258,-0.011831410229206,-0.079362660646439,0.006638574413955,-0.034178022295237,-0.052412725985050,0.004844650626183));
res += mul(Get(s1,dx,dy), float4x4(0.003976406529546,-0.117755621671677,-0.014119472354650,-0.145836442708969,0.013924560509622,-0.058475088328123,-0.113129556179047,0.036683361977339,0.085189044475555,-0.045243613421917,0.319477111101151,0.012883963994682,0.150182113051414,-0.081291429698467,-0.023552596569061,-0.088586233556271));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003288401057944,-0.041941452771425,0.103125840425491,-0.044905874878168,0.055146668106318,-0.025075422599912,-0.106287889182568,0.050520770251751,0.063760541379452,-0.061368752270937,-0.155826404690742,0.054248552769423,-0.009606514126062,-0.170764580368996,0.054785091429949,-0.042913135141134));
res += mul(Get(s2,-dx,0), float4x4(0.099273949861526,0.011097579263151,0.186171218752861,-0.120609261095524,-0.013984257355332,0.086664147675037,-0.140773355960846,0.061076927930117,0.050897341221571,0.113356798887253,-0.076474860310555,-0.020482173189521,-0.005978006403893,0.092192187905312,0.015055622905493,-0.010380609892309));
res += mul(Get(s2,-dx,dy), float4x4(0.202911168336868,-0.022554211318493,0.210792243480682,-0.092280097305775,-0.129988297820091,-0.128173887729645,-0.138498112559319,0.002223334042355,-0.076792098581791,-0.105994224548340,-0.055777598172426,-0.121630929410458,-0.011028943583369,-0.227789998054504,0.132010802626610,-0.054238129407167));
res += mul(Get(s2,0,-dy), float4x4(0.050800036638975,0.131816387176514,0.060709357261658,0.093265682458878,0.139814928174019,-0.009763208217919,-0.053501445800066,0.051021777093410,-0.028961125761271,-0.106226034462452,-0.148620337247849,-0.023220377042890,-0.013852247036994,0.062513172626495,0.051495268940926,-0.006839653942734));
res += mul(Get(s2,0,0), float4x4(-0.042738340795040,0.152307435870171,0.154466539621353,0.292635202407837,-0.041269943118095,0.051830507814884,-0.037314943969250,0.060760442167521,0.169248521327972,0.339217066764832,-0.059615302830935,0.061328999698162,-0.006872062105685,0.286837071180344,-0.039567343890667,0.088714294135571));
res += mul(Get(s2,0,dy), float4x4(-0.071993879973888,0.117207728326321,-0.010560490190983,0.328282862901688,-0.110869809985161,-0.012507241219282,-0.097556412220001,0.016506725922227,0.041261006146669,-0.246943414211273,-0.004550653975457,0.019034560769796,-0.013208254240453,0.183919474482536,-0.050889749079943,-0.049613207578659));
res += mul(Get(s2,dx,-dy), float4x4(0.022980879992247,0.004024771973491,0.054715439677238,-0.030682133510709,0.000494564999826,-0.099670782685280,-0.122729949653149,-0.096394479274750,-0.081724084913731,-0.160522133111954,-0.153133377432823,-0.142253875732422,0.014892249368131,-0.004992524627596,0.093115076422691,0.013749016448855));
res += mul(Get(s2,dx,0), float4x4(-0.027731133624911,0.032951358705759,0.094398938119411,0.008855205029249,0.013153226114810,0.071794174611568,-0.044383555650711,-0.077862672507763,0.097287468612194,0.057234831154346,-0.112101398408413,0.043920133262873,-0.027421472594142,0.116484537720680,0.099951781332493,0.033138692378998));
res += mul(Get(s2,dx,dy), float4x4(-0.079309277236462,-0.032454624772072,0.004648811183870,0.075091101229191,0.030154014006257,-0.116322830319405,-0.053907081484795,0.145559281110764,-0.000891007017344,-0.056263871490955,-0.104502268135548,-0.023015668615699,-0.150687873363495,-0.158398643136024,0.175563916563988,-0.085625953972340));
res += mul(Get(s3,-dx,-dy), float4x4(0.043912917375565,0.027660930529237,-0.042894959449768,0.012080701999366,0.143794432282448,0.097593292593956,-0.105342477560043,0.028534848242998,0.003890359075740,-0.111559733748436,0.051031183451414,0.174284741282463,0.045466214418411,-0.127180278301239,-0.074319161474705,-0.043995574116707));
res += mul(Get(s3,-dx,0), float4x4(-0.063093729317188,0.031677979975939,0.010810019448400,0.005579036660492,-0.049574885517359,-0.079377047717571,-0.041639853268862,0.047490607947111,0.025198446586728,-0.062620580196381,-0.026142314076424,0.075535252690315,-0.011129746213555,-0.077715829014778,-0.149888291954994,-0.017947988584638));
res += mul(Get(s3,-dx,dy), float4x4(0.129030302166939,0.034966688603163,0.073796071112156,-0.103968188166618,-0.004352704156190,-0.066289082169533,-0.085371993482113,0.149454265832901,-0.022339064627886,-0.110169112682343,0.052546221762896,0.084406122565269,0.005603074561805,-0.093939416110516,-0.198041513562202,0.029034258797765));
res += mul(Get(s3,0,-dy), float4x4(-0.086607269942760,0.071055591106415,-0.003951532300562,0.094182781875134,0.089711003005505,0.168337240815163,-0.113378025591373,-0.065316013991833,0.012317720800638,-0.062535017728806,0.000574724515900,0.073372751474380,-0.029165377840400,0.030247073620558,-0.121345706284046,-0.038014281541109));
res += mul(Get(s3,0,0), float4x4(-0.084532640874386,0.029114665463567,-0.011310961097479,0.086012974381447,-0.025685185566545,0.303405076265335,-0.003158772131428,-0.053934447467327,-0.060957923531532,-0.046059090644121,-0.098707810044289,0.027349777519703,-0.026424394920468,-0.038189679384232,-0.043988570570946,-0.064141675829887));
res += mul(Get(s3,0,dy), float4x4(0.176055982708931,-0.086040079593658,0.118425823748112,0.069482691586018,0.002729373518378,0.215366020798683,-0.087907351553440,-0.019677996635437,-0.025512492284179,0.025753324851394,0.102087050676346,0.022462338209152,-0.134770959615707,-0.099230028688908,-0.118562795221806,0.069151632487774));
res += mul(Get(s3,dx,-dy), float4x4(0.014752911403775,-0.050126336514950,0.020869854837656,-0.118900522589684,-0.071563214063644,-0.054644618183374,-0.124962858855724,0.001336078625172,-0.022624230012298,-0.008033999241889,-0.038807220757008,-0.016888091340661,0.089679174125195,0.036226134747267,0.017919445410371,-0.065982088446617));
res += mul(Get(s3,dx,0), float4x4(-0.067195847630501,-0.057658065110445,-0.091340184211731,-0.100967027246952,0.025443846359849,-0.046067740768194,-0.060702838003635,-0.001872088061646,-0.051061615347862,0.016856219619513,-0.025691142305732,-0.133907407522202,-0.070856623351574,-0.074048869311810,0.054286971688271,-0.115251965820789));
res += mul(Get(s3,dx,dy), float4x4(0.058356139808893,-0.076025344431400,0.131105035543442,-0.133129373192787,-0.104844689369202,-0.105665385723114,-0.065158136188984,0.082354620099068,-0.026513867080212,0.107584543526173,0.079373940825462,-0.061684388667345,-0.085789620876312,-0.045303333550692,-0.083306521177292,0.319144934415817));
return max(float4(0,0,0,0), res);
}
