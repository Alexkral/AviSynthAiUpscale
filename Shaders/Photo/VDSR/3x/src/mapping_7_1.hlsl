sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.038497146219015,-0.094915226101875,-0.078743211925030,-0.024926945567131,0.018548160791397,-0.175551682710648,-0.050636377185583,-0.041262205690145,0.127570658922195,0.024110915139318,-0.028107391670346,-0.171296566724777,-0.047453600913286,0.144255951046944,0.120449885725975,0.004843545146286));
res += mul(Get(s0,-dx,0), float4x4(0.012050903402269,-0.180991619825363,-0.108822278678417,-0.105157360434532,-0.036772590130568,0.061074212193489,0.037211474031210,0.000247385672992,0.030338050797582,-0.154745817184448,0.039677917957306,0.091445781290531,0.073508203029633,-0.165751740336418,0.019110789522529,0.098684184253216));
res += mul(Get(s0,-dx,dy), float4x4(-0.095501631498337,-0.072052977979183,0.271910071372986,0.132946535944939,-0.048077668994665,0.079497970640659,0.039447668939829,0.171767443418503,0.189106121659279,-0.043463025242090,0.110708363354206,0.184435814619064,-0.261754900217056,0.001184980734251,-0.118163168430328,0.005404475610703));
res += mul(Get(s0,0,-dy), float4x4(0.104146398603916,-0.011762184090912,0.001650916412473,-0.007984234951437,-0.023499043658376,-0.024378264322877,0.165213704109192,0.049120049923658,-0.115727566182613,0.095557354390621,-0.319269537925720,-0.062233205884695,-0.081957221031189,-0.100942112505436,0.094931200146675,0.026540841907263));
res += mul(Get(s0,0,0), float4x4(-0.073284104466438,-0.088728293776512,0.174985468387604,0.055597789585590,-0.020399928092957,0.029655937105417,0.060695029795170,-0.153346106410027,0.014130183495581,-0.103854373097420,-0.027238667011261,0.170578539371490,0.061201285570860,0.229620546102524,-0.103191427886486,-0.068159252405167));
res += mul(Get(s0,0,dy), float4x4(0.046809621155262,-0.013117996975780,0.009198258630931,0.102433599531651,0.186327621340752,-0.029345722869039,-0.025682898238301,0.008314623497427,-0.112282335758209,-0.192085295915604,0.166597127914429,0.269155502319336,-0.063193023204803,0.032493345439434,0.083745151758194,-0.110075615346432));
res += mul(Get(s0,dx,-dy), float4x4(0.000565753900446,0.027526192367077,-0.012651718221605,0.144855931401253,0.003798025893047,0.115241043269634,0.290674954652786,0.046591512858868,-0.088456422090530,0.073009707033634,-0.112902007997036,-0.016892196610570,-0.023647768422961,0.020877525210381,-0.097610510885715,-0.097572594881058));
res += mul(Get(s0,dx,0), float4x4(0.016788290813565,0.120882816612720,0.105041794478893,0.026699682697654,-0.033793292939663,-0.102135226130486,0.207692876458168,0.096529349684715,-0.137549251317978,0.003464946988970,-0.014219942502677,0.020273469388485,-0.037506535649300,-0.073316156864166,-0.122453242540359,-0.048281114548445));
res += mul(Get(s0,dx,dy), float4x4(-0.200596034526825,-0.017558258026838,0.075893700122833,-0.119558461010456,-0.146394044160843,0.059322498738766,0.022194277495146,-0.074351228773594,0.155140832066536,-0.111904710531235,-0.010393005795777,-0.036648124456406,0.038763690739870,0.069264963269234,0.002354949712753,-0.045817434787750));
res += mul(Get(s1,-dx,-dy), float4x4(-0.079748861491680,-0.172481119632721,-0.147453054785728,0.087249889969826,0.053747586905956,-0.035066161304712,0.006877942010760,-0.166624739766121,0.000132165368996,0.141394674777985,0.000854276528116,0.170451119542122,-0.179863736033440,0.067140609025955,0.133972331881523,-0.056399047374725));
res += mul(Get(s1,-dx,0), float4x4(-0.116153396666050,0.046331118792295,0.021612012758851,0.011878183111548,-0.083682164549828,0.087019048631191,0.306841164827347,-0.027265243232250,-0.096243113279343,0.184887602925301,0.025816449895501,0.233182519674301,0.117594823241234,-0.092606812715530,-0.092592291533947,0.065806470811367));
res += mul(Get(s1,-dx,dy), float4x4(0.035776082426310,0.094407856464386,0.102864943444729,0.203098148107529,0.275599002838135,-0.135640457272530,0.018684400245547,-0.136054366827011,0.107421502470970,0.146289944648743,0.063046723604202,0.091866925358772,-0.059199456125498,-0.261100649833679,0.021944826468825,0.088968761265278));
res += mul(Get(s1,0,-dy), float4x4(-0.148610979318619,0.109667219221592,0.165761515498161,-0.094941802322865,-0.006578024476767,0.031227391213179,-0.025693900883198,-0.033502936363220,-0.196670114994049,-0.042578183114529,0.094109192490578,0.001143678557128,-0.155435144901276,0.003090051002800,-0.008461616002023,0.072855859994888));
res += mul(Get(s1,0,0), float4x4(0.040840700268745,-0.087776020169258,-0.082572937011719,-0.178977921605110,-0.130034774541855,-0.031912915408611,0.029519477859139,0.046918138861656,-0.141636863350868,0.011589258909225,0.107319161295891,-0.004127712454647,-0.166435867547989,0.177682846784592,-0.013021691702306,0.151763752102852));
res += mul(Get(s1,0,dy), float4x4(-0.076930731534958,0.061693094670773,-0.062251809984446,0.178635478019714,-0.009477778337896,-0.075462296605110,-0.121948078274727,0.017254889011383,-0.150855198502541,0.042368739843369,-0.009551579132676,0.013761781156063,0.007742345333099,0.001658328576013,-0.124561317265034,0.152015924453735));
res += mul(Get(s1,dx,-dy), float4x4(-0.027202857658267,-0.004209358710796,-0.103957347571850,0.159088939428329,-0.132104009389877,-0.165375441312790,-0.047267999500036,-0.167457759380341,0.025392781943083,-0.092182621359825,0.058967486023903,0.092354796826839,-0.080117903649807,0.067387983202934,-0.068255305290222,0.187010660767555));
res += mul(Get(s1,dx,0), float4x4(0.090156763792038,0.038856204599142,-0.001596995047294,0.011875255033374,-0.018997799605131,0.094041496515274,-0.036946356296539,0.077106818556786,-0.048190031200647,-0.125743418931961,0.034234918653965,0.019321519881487,0.086932741105556,0.077847406268120,0.030120141804218,-0.022438509389758));
res += mul(Get(s1,dx,dy), float4x4(-0.227732539176941,0.129891559481621,-0.128197029232979,-0.017042322084308,0.053912181407213,-0.040947377681732,-0.061047967523336,-0.026347877457738,-0.022639397531748,-0.060201298445463,0.044190462678671,-0.099261425435543,-0.190278992056847,0.093507647514343,0.289775878190994,-0.030131045728922));
res += mul(Get(s2,-dx,-dy), float4x4(0.166613668203354,-0.014414932578802,-0.098707437515259,-0.078390069305897,0.017856195569038,0.038002464920282,-0.020097328349948,0.149764969944954,-0.042090013623238,0.052014209330082,-0.088423281908035,-0.006474056281149,0.280495017766953,0.042875953018665,-0.016540709882975,0.000781243667006));
res += mul(Get(s2,-dx,0), float4x4(-0.010407192632556,-0.085000686347485,0.005179460626096,-0.029131593182683,-0.004561663139611,-0.226972386240959,-0.141625791788101,-0.167204380035400,-0.036030236631632,-0.185401320457458,0.182007700204849,0.244177266955376,-0.110602885484695,-0.009679551236331,0.056270610541105,-0.089265443384647));
res += mul(Get(s2,-dx,dy), float4x4(-0.220668777823448,0.147611230611801,0.069443881511688,0.205212667584419,-0.059453792870045,-0.036736477166414,0.170344114303589,-0.142888829112053,-0.058492030948400,-0.010076307691634,-0.025326825678349,0.109056614339352,0.018240148201585,0.243765026330948,0.061337783932686,-0.212316989898682));
res += mul(Get(s2,0,-dy), float4x4(-0.014570869505405,-0.232351720333099,-0.099373087286949,-0.085067026317120,-0.058391768485308,0.127150282263756,0.115628674626350,-0.206028893589973,-0.023496787995100,0.195033192634583,0.353857338428497,0.124525964260101,0.089888639748096,-0.081836953759193,0.215642735362053,-0.135529741644859));
res += mul(Get(s2,0,0), float4x4(0.010229737497866,-0.034668888896704,-0.088486745953560,0.054207980632782,-0.002898759674281,0.126022830605507,-0.029813658446074,-0.159933462738991,-0.140629112720490,-0.029235739260912,0.032222732901573,-0.117486469447613,0.071074947714806,-0.175557628273964,0.055384520441294,-0.006068490911275));
res += mul(Get(s2,0,dy), float4x4(0.042489159852266,0.032466072589159,0.031781267374754,0.143246769905090,-0.017405780032277,0.019437294453382,-0.022409539669752,-0.050905540585518,0.035064943134785,-0.093494631350040,-0.006474859081209,0.124139249324799,-0.089367240667343,-0.007576783653349,0.063217498362064,-0.315308243036270));
res += mul(Get(s2,dx,-dy), float4x4(-0.028319785371423,-0.140664294362068,-0.129963785409927,0.151346176862717,-0.044291786849499,0.089974187314510,-0.009851473383605,0.020970484241843,-0.091163069009781,-0.055398821830750,0.032286778092384,-0.080501928925514,0.076696991920471,-0.084833040833473,0.066028550267220,0.056947566568851));
res += mul(Get(s2,dx,0), float4x4(0.103590995073318,0.164455443620682,-0.033425718545914,-0.023735931143165,0.036071062088013,-0.232594445347786,0.169470474123955,0.004739009775221,-0.141335412859917,0.145562976598740,-0.210726544260979,0.044292781502008,0.033354289829731,0.101108230650425,0.322586387395859,-0.237818315625191));
res += mul(Get(s2,dx,dy), float4x4(-0.043654032051563,0.026159424334764,-0.007961601018906,0.009187781251967,-0.041975945234299,0.077391147613525,-0.013211936689913,0.016336364671588,-0.143331021070480,-0.078034155070782,-0.275016218423843,-0.044704455882311,-0.219965979456902,0.085783712565899,0.037849869579077,0.150714904069901));
res += mul(Get(s3,-dx,-dy), float4x4(0.102659545838833,0.022605342790484,-0.083900392055511,-0.047355312854052,0.023432398214936,0.008273749612272,0.054852761328220,0.012989056296647,-0.047897707670927,-0.158640936017036,0.078734390437603,0.084914945065975,-0.067931778728962,-0.126734629273415,-0.078125953674316,0.026441499590874));
res += mul(Get(s3,-dx,0), float4x4(-0.005190498195589,0.103848405182362,0.046442739665508,0.090239405632019,0.030102154240012,-0.008571104146540,-0.051888622343540,-0.066095031797886,0.049689490348101,-0.137551859021187,-0.216375812888145,0.136376172304153,0.011303951032460,0.118148490786552,-0.072897702455521,0.021508710458875));
res += mul(Get(s3,-dx,dy), float4x4(-0.024729346856475,0.077627412974834,0.064747698605061,0.035388272255659,-0.038743693381548,0.050207514315844,-0.089761510491371,0.121241696178913,-0.082474641501904,0.202393501996994,-0.026494039222598,-0.080712981522083,0.059660654515028,0.069801323115826,0.119362689554691,-0.150458157062531));
res += mul(Get(s3,0,-dy), float4x4(0.098885171115398,0.030295709148049,-0.041507024317980,-0.011633174493909,-0.103826999664307,0.022314056754112,-0.000022991858714,0.033222362399101,0.037519063800573,0.092962019145489,-0.018056595697999,-0.043063957244158,0.004291234072298,-0.061064336448908,-0.177556142210960,-0.004423150792718));
res += mul(Get(s3,0,0), float4x4(-0.019978813827038,-0.258892178535461,0.047593135386705,0.038779217749834,0.094082072377205,-0.164089426398277,0.159036904573441,0.147149950265884,0.020801283419132,-0.008915123529732,-0.083549864590168,-0.159469872713089,0.086523704230785,-0.112032465636730,-0.069139905273914,-0.002564189722762));
res += mul(Get(s3,0,dy), float4x4(0.174251869320869,0.047995343804359,-0.096878916025162,-0.192962229251862,-0.065915942192078,0.103373058140278,0.082882963120937,-0.016425488516688,0.170362934470177,0.007168368902057,-0.081776693463326,0.122476331889629,0.239450708031654,-0.044468212872744,-0.007883869111538,-0.056171625852585));
res += mul(Get(s3,dx,-dy), float4x4(0.222730830311775,-0.043045107275248,-0.141550734639168,0.073631480336189,-0.083902582526207,0.132663279771805,0.137663543224335,0.185659706592560,-0.052485704421997,0.056445576250553,-0.274507075548172,0.020535536110401,0.123154416680336,0.110387116670609,-0.001814744668081,0.137591153383255));
res += mul(Get(s3,dx,0), float4x4(-0.287047803401947,0.131306067109108,0.004795478191227,-0.128481581807137,-0.100721023976803,0.163315638899803,-0.118603594601154,0.063999630510807,0.000805016432423,0.122474364936352,0.080310039222240,0.051064573228359,0.100968614220619,0.091123253107071,0.155014812946320,0.041072927415371));
res += mul(Get(s3,dx,dy), float4x4(0.145682826638222,-0.003082998562604,0.067819289863110,0.092071354389191,-0.016071133315563,0.110258623957634,0.037389006465673,0.094575569033623,0.028318896889687,-0.117820754647255,0.183367565274239,-0.084558188915253,0.012235509231687,-0.176371142268181,-0.033089645206928,-0.189114183187485));
return max(float4(0,0,0,0), res);
}
