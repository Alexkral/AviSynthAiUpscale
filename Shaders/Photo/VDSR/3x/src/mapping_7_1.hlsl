sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.024473574012518,-0.046676941215992,0.031183851882815,-0.088677033782005,0.202949002385139,-0.072843238711357,0.090264901518822,0.020092666149139,-0.138344168663025,0.143001466989517,0.016976132988930,-0.045953176915646,-0.145069077610970,-0.097155101597309,-0.059688799083233,-0.015785537660122));
res += mul(Get(s0,-dx,0), float4x4(-0.048936236649752,0.061825584620237,-0.018814705312252,0.020339498296380,0.070142053067684,-0.089387796819210,-0.062528975307941,0.094899266958237,0.020504321902990,-0.011805361136794,-0.010612809099257,0.011120502837002,-0.051816295832396,-0.038699243217707,-0.002547336742282,0.147791802883148));
res += mul(Get(s0,-dx,dy), float4x4(-0.077303297817707,0.071391768753529,-0.038710784167051,-0.016887767240405,-0.090933702886105,0.011119193397462,0.061853323131800,-0.056923300027847,-0.084458902478218,0.035534717142582,0.119015589356422,-0.074789658188820,0.054493788629770,-0.089033111929893,0.092887893319130,-0.010412215255201));
res += mul(Get(s0,0,-dy), float4x4(-0.087696932256222,0.046453524380922,0.155908972024918,-0.140714839100838,0.002543092239648,-0.069002948701382,-0.046901546418667,0.121346727013588,0.029715280979872,0.004702887497842,0.017799779772758,0.029668077826500,-0.004210735671222,0.051528058946133,-0.028622288256884,-0.030951809138060));
res += mul(Get(s0,0,0), float4x4(0.026754265651107,-0.017541436478496,0.031943496316671,-0.006581392604858,0.104848340153694,-0.078867800533772,0.005702970549464,0.000385421793908,0.066055968403816,-0.087917596101761,0.162237465381622,0.017286658287048,0.046682067215443,0.121780589222908,-0.092259429395199,0.046263754367828));
res += mul(Get(s0,0,dy), float4x4(0.021645260974765,0.135377377271652,0.114846274256706,-0.048968195915222,0.054994519799948,-0.046982038766146,0.005228833761066,0.166615143418312,-0.076440729200840,0.096235491335392,0.273444652557373,0.045523844659328,-0.036906223744154,-0.078191921114922,-0.037299044430256,0.125229388475418));
res += mul(Get(s0,dx,-dy), float4x4(0.001711152726784,0.133968681097031,-0.108696796000004,-0.107423856854439,0.064412772655487,0.038620810955763,0.012169584631920,0.007615467999130,-0.061278093606234,0.009818565100431,0.012270238250494,0.090658240020275,0.006898966152221,-0.019650395959616,0.025512658059597,0.059787988662720));
res += mul(Get(s0,dx,0), float4x4(0.138103708624840,0.130601063370705,-0.170293033123016,0.051814336329699,0.109426677227020,0.050693351775408,-0.043110314756632,-0.051383245736361,0.006814736872911,0.010528190061450,0.055052798241377,0.040335595607758,-0.044578868895769,0.040829587727785,0.027454864233732,0.059064753353596));
res += mul(Get(s0,dx,dy), float4x4(-0.020727928727865,0.246786445379257,0.008142963983119,-0.051812257617712,-0.184638410806656,-0.021376099437475,0.011297244578600,-0.067683890461922,0.009748396463692,0.134796917438507,-0.101928681135178,0.014393186196685,-0.023169346153736,0.043391693383455,-0.002525721443817,0.068704955279827));
res += mul(Get(s1,-dx,-dy), float4x4(-0.170975714921951,0.057810831815004,-0.115347333252430,-0.140524730086327,0.095860376954079,0.082140617072582,-0.031473949551582,0.018938768655062,-0.150943100452423,0.124296121299267,0.005101735237986,0.033939000219107,0.020577087998390,0.026517396792769,0.039259620010853,0.038180880248547));
res += mul(Get(s1,-dx,0), float4x4(-0.031264021992683,0.015188826248050,-0.103747755289078,0.040239948779345,-0.069078370928764,-0.211607530713081,-0.085771858692169,-0.043284229934216,0.040034137666225,0.022719996050000,-0.109489388763905,-0.064132913947105,0.124469183385372,0.062431246042252,-0.006248321384192,0.156630784273148));
res += mul(Get(s1,-dx,dy), float4x4(0.070590913295746,-0.067952021956444,-0.157281398773193,0.076608128845692,0.003495339304209,-0.070867747068405,0.045305103063583,0.138333365321159,-0.137046307325363,0.066562712192535,-0.103949248790741,-0.089867308735847,0.025103637948632,-0.001796649303287,-0.077997118234634,-0.134185269474983));
res += mul(Get(s1,0,-dy), float4x4(-0.002087183529511,0.024122769013047,0.093737460672855,-0.121886253356934,0.128944009542465,0.054037556052208,-0.106771834194660,0.053356550633907,0.056235164403915,-0.070776507258415,-0.093234330415726,-0.068597018718719,-0.076954491436481,-0.019683253020048,-0.024155089631677,0.053456366062164));
res += mul(Get(s1,0,0), float4x4(0.070445224642754,0.035592924803495,0.080401904881001,-0.008102300576866,-0.012618196196854,-0.067792743444443,-0.114828892052174,0.017157785594463,0.013560981489718,-0.066959030926228,-0.022137513384223,-0.100110866129398,0.085343286395073,-0.026804024353623,0.019877435639501,0.044612206518650));
res += mul(Get(s1,0,dy), float4x4(0.200915694236755,0.001661966205575,0.020125649869442,0.018358906731009,0.006343360524625,-0.104753091931343,-0.001977506326512,0.094737261533737,-0.081041231751442,0.232972204685211,-0.005595954600722,-0.084362939000130,-0.005970278289169,-0.053732525557280,-0.074579194188118,-0.177323058247566));
res += mul(Get(s1,dx,-dy), float4x4(0.073802620172501,-0.007350565865636,-0.081470109522343,0.078596815466881,-0.026881821453571,0.001792874652892,0.018303543329239,0.061278540641069,0.055563911795616,0.001844527432695,-0.015194387175143,-0.089451022446156,-0.053749624639750,-0.026147715747356,0.011165142990649,0.108466796576977));
res += mul(Get(s1,dx,0), float4x4(0.140960559248924,0.143725201487541,-0.103526547551155,-0.014077091589570,-0.170261546969414,-0.107071936130524,-0.066297307610512,-0.065172716975212,-0.053845472633839,0.044938322156668,0.068662270903587,-0.061927229166031,0.183657243847847,-0.087919235229492,0.004687013570219,0.075800433754921));
res += mul(Get(s1,dx,dy), float4x4(0.121226534247398,-0.001593781169504,-0.097110927104950,0.100460231304169,-0.146581798791885,-0.126621857285500,0.040611032396555,0.073437243700027,-0.121566168963909,0.040710765868425,0.054324850440025,-0.050571952015162,-0.045079160481691,-0.062790878117085,-0.092815831303596,-0.015430041588843));
res += mul(Get(s2,-dx,-dy), float4x4(0.005731299519539,0.011167376302183,0.036917388439178,-0.058381423354149,-0.208895310759544,-0.001592186046764,-0.014520727097988,-0.060576509684324,-0.018418012186885,-0.048655971884727,-0.103203542530537,0.015011710114777,-0.032136846333742,0.035014785826206,-0.035167708992958,-0.079885102808475));
res += mul(Get(s2,-dx,0), float4x4(-0.137493133544922,-0.081244796514511,-0.092116199433804,0.049402568489313,0.007619819603860,-0.048995006829500,0.059636823832989,0.002691935980693,-0.027755280956626,-0.062576569616795,0.029622035101056,0.020609354600310,-0.037769842892885,0.013050577603281,0.035233821719885,-0.113159239292145));
res += mul(Get(s2,-dx,dy), float4x4(-0.018576873466372,-0.092034898698330,0.052342854440212,-0.089128457009792,-0.121772736310959,-0.059537652879953,0.020465733483434,0.037816856056452,0.058267701417208,0.001696938183159,-0.066239714622498,-0.029159229248762,0.002667172346264,0.040461741387844,-0.017836444079876,-0.100700594484806));
res += mul(Get(s2,0,-dy), float4x4(0.086660757660866,0.141392767429352,0.151416420936584,-0.071378685534000,-0.094837278127670,0.001056627021171,-0.076293036341667,-0.153349712491035,-0.067375510931015,-0.087806440889835,-0.007041328120977,0.033926442265511,0.105870649218559,-0.072820618748665,0.026473943144083,-0.006696991156787));
res += mul(Get(s2,0,0), float4x4(-0.039168734103441,0.032907146960497,0.037427496165037,0.064598903059959,0.084126017987728,-0.060788322240114,0.013460236601532,0.030793005600572,-0.042514979839325,-0.124751202762127,-0.025842294096947,-0.082857668399811,0.134273841977119,0.021474542096257,0.085686326026917,-0.018042376264930));
res += mul(Get(s2,0,dy), float4x4(-0.005711363162845,0.108605146408081,0.085345283150673,0.005824749357998,-0.040126934647560,0.005337761715055,-0.045671310275793,-0.099328190088272,-0.004172689281404,-0.061687327921391,-0.074326388537884,-0.022368520498276,0.037647113204002,-0.029054868966341,0.091073095798492,0.112508863210678));
res += mul(Get(s2,dx,-dy), float4x4(0.303329646587372,0.015082305297256,0.058449387550354,-0.023446783423424,0.029891462996602,-0.031753230839968,-0.077075801789761,-0.063766434788704,-0.038561124354601,0.024815594777465,0.022962298244238,-0.020758198574185,0.003119285451248,0.079010412096977,0.023219289258122,0.070328116416931));
res += mul(Get(s2,dx,0), float4x4(-0.081997051835060,-0.092742927372456,0.008322047069669,0.029596995562315,0.089019276201725,-0.088284455239773,0.060703713446856,0.131048843264580,-0.006209963001311,-0.015843421220779,0.097292393445969,0.086243115365505,0.047931019216776,0.040853530168533,0.065510287880898,0.116027355194092));
res += mul(Get(s2,dx,dy), float4x4(0.012934417463839,0.059120133519173,0.028822766616940,-0.034906730055809,0.103573359549046,0.018882742151618,-0.053086120635271,-0.058733966201544,0.262219548225403,-0.037446942180395,0.019191782921553,0.002630826784298,0.040680322796106,0.022944673895836,0.047238178551197,0.037199728190899));
res += mul(Get(s3,-dx,-dy), float4x4(-0.111037135124207,0.067434117197990,-0.168976962566376,-0.106525048613548,0.121460780501366,-0.006330174393952,-0.157226368784904,-0.001738958759233,0.296926349401474,-0.103199802339077,0.092989578843117,0.103188343346119,0.024904992431402,-0.029086582362652,-0.136825591325760,-0.111138753592968));
res += mul(Get(s3,-dx,0), float4x4(-0.018580965697765,-0.069147564470768,0.017709024250507,-0.162569612264633,-0.054793849587440,0.013163407333195,-0.151234298944473,-0.176750943064690,-0.123835854232311,-0.138153225183487,0.301295936107635,-0.086863316595554,-0.083340197801590,0.184183090925217,-0.125751420855522,-0.112525254487991));
res += mul(Get(s3,-dx,dy), float4x4(-0.052002549171448,0.058073021471500,-0.146761015057564,-0.040916349738836,-0.063884675502777,0.195704519748688,0.097588531672955,-0.017962777987123,-0.002451919484884,-0.069372601807117,0.307883888483047,-0.050258472561836,-0.048294119536877,-0.083843939006329,-0.058783501386642,0.138933122158051));
res += mul(Get(s3,0,-dy), float4x4(-0.072335936129093,0.035234156996012,0.015184528194368,-0.038352649658918,0.061713989824057,-0.002785255899653,-0.063982270658016,0.105718158185482,0.051736041903496,-0.027957694604993,0.184446886181831,0.120196484029293,-0.063078269362450,-0.151881203055382,0.028827974572778,-0.116969019174576));
res += mul(Get(s3,0,0), float4x4(-0.050395987927914,0.077410288155079,0.075305685400963,-0.037798546254635,-0.073924697935581,0.064927116036415,0.033783636987209,-0.082654438912868,-0.144382640719414,0.026832679286599,-0.002761850599200,-0.000785141892266,-0.200892552733421,-0.060510341078043,0.090435154736042,0.035442471504211));
res += mul(Get(s3,0,dy), float4x4(-0.056536629796028,-0.000321574741974,0.029387930408120,-0.069107457995415,0.002467293059453,0.125326246023178,0.070633769035339,-0.024800427258015,0.052437849342823,-0.009389098733664,-0.078963115811348,-0.029434828087687,-0.063431240618229,-0.146935626864433,-0.080088905990124,-0.009107625111938));
res += mul(Get(s3,dx,-dy), float4x4(0.114247947931290,-0.120488181710243,-0.107095107436180,-0.105416305363178,-0.035803936421871,-0.001940454472788,0.047126028686762,0.201042354106903,-0.012558026239276,-0.048181675374508,0.010452431626618,0.190374508500099,-0.035641357302666,-0.082201689481735,-0.162488892674446,-0.001381808426231));
res += mul(Get(s3,dx,0), float4x4(-0.090289346873760,-0.065732769668102,-0.078289665281773,-0.075417138636112,-0.193843647837639,0.082296594977379,0.115441501140594,-0.077644951641560,-0.040975030511618,0.006548405624926,-0.101464726030827,0.053812682628632,-0.027777031064034,-0.005425526294857,-0.040247354656458,0.056638889014721));
res += mul(Get(s3,dx,dy), float4x4(0.060161486268044,-0.086205616593361,0.031915403902531,0.095220223069191,-0.122199408710003,0.172523289918900,0.188402041792870,-0.066611327230930,-0.031557995826006,0.031709000468254,-0.067879438400269,0.076680190861225,0.062818415462971,-0.077261202037334,-0.133583039045334,-0.113160915672779));
return max(float4(0,0,0,0), res);
}
