sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001009498955682,0.083774678409100,0.097665451467037,0.004321493208408,-0.046241119503975,-0.033464249223471,-0.190361395478249,-0.027150915935636,0.019749356433749,0.056720089167356,-0.100110240280628,0.066957496106625,0.034020438790321,-0.064227968454361,-0.047971170395613,0.074470587074757));
res += mul(Get(s0,-dx,0), float4x4(0.067562445998192,0.017856532707810,-0.007185819093138,-0.057518124580383,-0.012115038000047,0.071405328810215,-0.064773634076118,-0.044966757297516,0.159004151821136,-0.038569260388613,0.046319693326950,0.027949372306466,-0.114538483321667,-0.097603566944599,-0.141965940594673,0.058349318802357));
res += mul(Get(s0,-dx,dy), float4x4(-0.009489029645920,-0.158976376056671,-0.092063762247562,-0.050036333501339,-0.067872181534767,0.054168127477169,-0.048392482101917,-0.065572336316109,0.123959168791771,-0.027894010767341,0.131884098052979,-0.046510364860296,0.104682989418507,-0.070382840931416,-0.006483026780188,0.023729855194688));
res += mul(Get(s0,0,-dy), float4x4(0.054877590388060,0.096902810037136,0.036314375698566,-0.042836979031563,0.105845816433430,-0.013904507271945,-0.038554146885872,-0.010969582945108,-0.032597236335278,0.023665577173233,-0.067208930850029,0.034158214926720,0.301194816827774,0.027237685397267,-0.072874128818512,0.095968805253506));
res += mul(Get(s0,0,0), float4x4(0.007100213319063,0.078132435679436,0.114893205463886,0.137929901480675,0.066202066838741,-0.064751647412777,-0.119796238839626,-0.000804688257631,-0.091309472918510,0.021669017150998,-0.037242501974106,0.132845178246498,-0.083640262484550,-0.033376138657331,-0.070018701255322,-0.051298476755619));
res += mul(Get(s0,0,dy), float4x4(0.044303961098194,-0.082309745252132,-0.073315702378750,-0.058515444397926,-0.073232546448708,0.187622770667076,-0.003503442741930,-0.053725861012936,-0.006933665834367,-0.060605198144913,0.087709993124008,0.047092676162720,0.031836379319429,-0.043518166989088,0.025126099586487,-0.083080440759659));
res += mul(Get(s0,dx,-dy), float4x4(0.110999867320061,0.124107621610165,0.040682923048735,-0.023270536214113,0.056344941258430,-0.000106925675937,-0.085420809686184,0.055291842669249,0.237740322947502,0.072221986949444,0.172975748777390,-0.026139961555600,0.070342026650906,0.076419129967690,-0.061454571783543,-0.029404969885945));
res += mul(Get(s0,dx,0), float4x4(0.012450750917196,0.004496051464230,-0.033712878823280,-0.029713900759816,-0.010031213983893,-0.000729820050765,-0.021526295691729,0.021808888763189,0.015793314203620,-0.042003102600574,0.030524794012308,0.002609674353153,-0.076307818293571,0.055697768926620,-0.053398061543703,-0.049205064773560));
res += mul(Get(s0,dx,dy), float4x4(-0.039845652878284,0.025476425886154,0.023511948063970,-0.240545794367790,-0.032454632222652,0.121403582394123,-0.085106797516346,-0.107515282928944,-0.079175896942616,-0.099339745938778,0.079833723604679,-0.140045970678329,0.002530699130148,-0.047941554337740,-0.083078354597092,-0.085045181214809));
res += mul(Get(s1,-dx,-dy), float4x4(-0.080616906285286,-0.090012632310390,-0.004010127391666,0.285543531179428,0.046847954392433,-0.035428419709206,0.043247923254967,0.014567185193300,-0.055856298655272,-0.071395158767700,-0.062583394348621,0.030469780787826,-0.137991026043892,0.118114843964577,-0.014025812968612,-0.060580193996429));
res += mul(Get(s1,-dx,0), float4x4(0.011643240228295,-0.093905992805958,-0.063713602721691,-0.013999913819134,-0.101119779050350,0.085890963673592,0.159646525979042,-0.067889198660851,-0.072710037231445,-0.059560131281614,-0.134893953800201,0.068002797663212,-0.066400945186615,0.049403402954340,0.006806767545640,-0.055434763431549));
res += mul(Get(s1,-dx,dy), float4x4(0.124953381717205,-0.120749413967133,-0.021891776472330,0.050514124333858,-0.089845240116119,0.067067861557007,0.023764913901687,-0.049847334623337,-0.054409775882959,-0.092214278876781,-0.137243539094925,0.079836592078209,-0.077336527407169,0.094114452600479,-0.096069835126400,-0.133326932787895));
res += mul(Get(s1,0,-dy), float4x4(0.112377941608429,-0.041197862476110,-0.019033730030060,-0.095234729349613,-0.055827572941780,-0.026081981137395,-0.058665685355663,0.055201139301062,-0.129914626479149,0.008651884272695,-0.124343477189541,0.045397065579891,-0.070641115307808,-0.035415504127741,0.033326700329781,-0.069162599742413));
res += mul(Get(s1,0,0), float4x4(-0.034315023571253,-0.048823565244675,0.002648406894878,-0.011508486233652,-0.046825408935547,-0.040519051253796,-0.005532047711313,-0.015079424716532,-0.013485799543560,0.015122595243156,-0.013664181344211,-0.055441763252020,0.004447763320059,0.092069305479527,-0.038282487541437,0.000448311242508));
res += mul(Get(s1,0,dy), float4x4(-0.064707189798355,-0.064961895346642,-0.047074809670448,0.001249212422408,0.035950481891632,0.095319889485836,0.030953858047724,-0.038812987506390,0.034286051988602,0.019621713086963,-0.173604056239128,-0.070992037653923,-0.065386570990086,0.043492086231709,-0.010970012284815,-0.115744225680828));
res += mul(Get(s1,dx,-dy), float4x4(0.128318250179291,0.231326460838318,-0.045992866158485,0.011118276976049,0.019053876399994,0.010284331627190,0.034518804401159,-0.013701412826777,-0.103948347270489,0.001885322853923,-0.068403244018555,-0.063395597040653,-0.077700741589069,-0.148579806089401,0.093068800866604,-0.070231370627880));
res += mul(Get(s1,dx,0), float4x4(-0.010983888991177,0.035338684916496,0.031440950930119,-0.034985832870007,-0.045840464532375,-0.001187707646750,0.062571957707405,0.007722372654825,0.043711706995964,-0.096490569412708,-0.068022914230824,-0.011599512770772,0.072024814784527,0.137549757957458,0.091325990855694,-0.068412400782108));
res += mul(Get(s1,dx,dy), float4x4(-0.086624145507813,-0.023652156814933,0.029598882421851,-0.213771045207977,-0.002446757629514,-0.016103370115161,0.027942365035415,-0.061811499297619,0.004973712842911,-0.014550847001374,-0.220835343003273,-0.040916573256254,-0.080423124134541,-0.006420005112886,0.021197775378823,-0.205735310912132));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029348518699408,0.041125077754259,-0.130000278353691,0.134668052196503,-0.050558909773827,-0.202390581369400,0.070551790297031,-0.051074191927910,-0.029815327376127,0.214561864733696,-0.038241896778345,-0.045103505253792,-0.021857276558876,0.111896827816963,0.040717907249928,0.077040120959282));
res += mul(Get(s2,-dx,0), float4x4(0.149553805589676,-0.145654022693634,-0.060062844306231,0.002270830329508,-0.087916471064091,-0.071204058825970,0.141591221094131,-0.038980767130852,-0.036615721881390,0.105426743626595,-0.038001384586096,-0.050035517662764,-0.042703244835138,-0.086321875452995,-0.061055738478899,-0.043372821062803));
res += mul(Get(s2,-dx,dy), float4x4(-0.016008550301194,-0.140055671334267,-0.059287078678608,-0.080959327518940,-0.016517035663128,0.027463918551803,-0.051428921520710,-0.030988706275821,-0.008466105908155,0.098572179675102,0.109408088028431,-0.088557094335556,0.021065847948194,-0.147583171725273,-0.050603676587343,-0.155244842171669));
res += mul(Get(s2,0,-dy), float4x4(-0.100540794432163,0.038587506860495,0.018166124820709,0.101309902966022,-0.060013074427843,-0.167480960488319,0.186933785676956,-0.008458262309432,0.006106342654675,-0.027106074616313,0.108111284673214,-0.026523981243372,0.024334225803614,0.156070351600647,0.022848034277558,-0.021913323551416));
res += mul(Get(s2,0,0), float4x4(-0.013012405484915,0.040952838957310,0.053264286369085,-0.055847696959972,-0.081383079290390,-0.140463188290596,0.096474744379520,-0.023484952747822,-0.042429998517036,-0.009038073942065,0.236451387405396,-0.077314257621765,0.051684070378542,-0.094571709632874,0.026845499873161,-0.057028211653233));
res += mul(Get(s2,0,dy), float4x4(0.012408884242177,-0.123303949832916,-0.018363786861300,-0.090466976165771,-0.014129487797618,-0.058133076876402,-0.006206507328898,-0.027545094490051,-0.060317821800709,0.115123055875301,-0.019528191536665,-0.072171308100224,0.017783911898732,-0.250591129064560,-0.090120390057564,-0.014272408559918));
res += mul(Get(s2,dx,-dy), float4x4(0.100108280777931,0.030590768903494,-0.041109442710876,-0.042897421866655,-0.062615044414997,-0.071829281747341,-0.044223234057426,0.011428658850491,0.126392066478729,0.028410568833351,0.009034824557602,-0.047825153917074,0.055593267083168,0.119705259799957,0.002925058593974,-0.028054675087333));
res += mul(Get(s2,dx,0), float4x4(-0.041383665055037,0.068602733314037,0.006542501505464,-0.204492405056953,-0.031316924840212,-0.033377658575773,0.050305154174566,-0.027962926775217,0.017949568107724,-0.027405701577663,-0.073458828032017,0.019173679873347,0.050563570111990,0.029325475916266,0.120356842875481,-0.032260697335005));
res += mul(Get(s2,dx,dy), float4x4(-0.037298366427422,0.189543530344963,0.089601501822472,-0.215277642011642,0.115773305296898,-0.042116280645132,-0.064784832298756,-0.011930269189179,0.003101632231846,0.004644971340895,-0.137179568409920,-0.081318430602551,-0.058333743363619,0.017421506345272,-0.049141369760036,-0.035904843360186));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051510971039534,-0.015285816043615,-0.037013631314039,-0.018835822120309,-0.002576581668109,-0.051483105868101,-0.078556008636951,-0.023945605382323,-0.052914146333933,-0.017978616058826,-0.046443279832602,-0.090289980173111,-0.028421692550182,-0.029797617346048,0.150170713663101,0.040075380355120));
res += mul(Get(s3,-dx,0), float4x4(0.004272514488548,0.067910484969616,-0.015706028789282,0.000622612773441,-0.023694926872849,-0.016815956681967,0.001168851857074,-0.035238027572632,-0.023828666657209,-0.140412330627441,-0.039200052618980,0.015354493632913,0.018178081139922,-0.072907045483589,0.149766892194748,0.082900173962116));
res += mul(Get(s3,-dx,dy), float4x4(-0.041788619011641,0.110911838710308,0.041698072105646,-0.042069707065821,-0.049935039132833,0.029351914301515,-0.097604207694530,0.015925239771605,0.114016398787498,-0.166784614324570,0.032472476363182,0.077463828027248,-0.009663886390626,0.017875641584396,0.105019107460976,0.151474013924599));
res += mul(Get(s3,0,-dy), float4x4(0.003246139269322,-0.040118217468262,-0.048062864691019,-0.005432305391878,-0.059714771807194,0.005678879562765,0.001085830968805,0.174398526549339,-0.026563577353954,-0.024121772497892,0.017037188634276,0.040518462657928,-0.022480938583612,-0.048355378210545,0.043117463588715,0.111325703561306));
res += mul(Get(s3,0,0), float4x4(0.115613348782063,0.040958400815725,-0.093331985175610,-0.016867039725184,0.147238016128540,0.015962433069944,-0.090735882520676,-0.050558675080538,0.045292280614376,-0.014881487004459,-0.043068513274193,0.355365484952927,-0.035240460187197,-0.024428131058812,0.163544759154320,0.201836243271828));
res += mul(Get(s3,0,dy), float4x4(0.027137372642756,0.234203681349754,0.053586129099131,-0.070455811917782,0.074283316731453,0.007963116280735,-0.120537526905537,-0.029897794127464,-0.045998573303223,-0.097759723663330,0.080224134027958,0.071157038211823,-0.025256130844355,0.029291303828359,0.138900563120842,0.052969228476286));
res += mul(Get(s3,dx,-dy), float4x4(0.010998548939824,0.006640459410846,0.058750689029694,0.029725024476647,-0.082438372075558,0.019556747749448,-0.059196215122938,-0.066535495221615,0.013414162211120,0.056720834225416,-0.041213326156139,0.149751752614975,0.142757177352905,0.001014185021631,0.004904759582132,-0.046683173626661));
res += mul(Get(s3,dx,0), float4x4(0.028328359127045,0.023892987519503,0.103141836822033,0.021182388067245,-0.047619786113501,-0.005894914269447,-0.077950470149517,-0.089483141899109,0.008926928043365,-0.011895348317921,-0.045713920146227,0.018739441409707,-0.019294871017337,-0.027535339817405,0.026405651122332,-0.107703894376755));
res += mul(Get(s3,dx,dy), float4x4(0.007595277857035,0.005839018151164,0.147854670882225,-0.097361199557781,0.043507326394320,-0.100157223641872,-0.088793128728867,0.027388786897063,-0.032651524990797,-0.054391331970692,-0.087394714355469,-0.003411654848605,-0.017455792054534,-0.024618243798614,0.185265600681305,-0.093306727707386));
return max(float4(0,0,0,0), res);
}
