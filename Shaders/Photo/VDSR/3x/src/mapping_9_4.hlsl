sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.056102585047483,0.008459153585136,-0.116048574447632,0.014599367044866,0.129570201039314,0.078325077891350,-0.015912737697363,-0.240816175937653,0.159541979432106,0.105767004191875,0.083203949034214,0.027932746335864,0.129939943552017,0.062552228569984,0.065469123423100,-0.055716294795275));
res += mul(Get(s0,-dx,0), float4x4(0.047283321619034,-0.266319811344147,-0.121941611170769,0.087187238037586,0.046312592923641,-0.077353112399578,-0.053850825875998,-0.096453726291656,0.100120492279530,-0.103377409279346,0.056559965014458,0.125741124153137,-0.105108484625816,0.061422880738974,-0.167673751711845,-0.025899123400450));
res += mul(Get(s0,-dx,dy), float4x4(0.009088645689189,-0.001558435149491,-0.158933028578758,0.134528577327728,0.036253914237022,-0.050825480371714,-0.002736340276897,-0.001802306156605,-0.061311446130276,0.028211489319801,0.208503603935242,0.060886055231094,0.156157314777374,0.074275769293308,0.067380942404270,-0.062726594507694));
res += mul(Get(s0,0,-dy), float4x4(0.222295299172401,-0.015652421861887,0.061105944216251,0.156209751963615,0.039218164980412,0.010406132787466,-0.047395586967468,-0.067120067775249,0.016095416620374,0.107723623514175,-0.084637254476547,0.338205605745316,0.047904558479786,0.019749509170651,0.095187932252884,0.100149549543858));
res += mul(Get(s0,0,0), float4x4(0.008391013368964,-0.001081348629668,0.106874227523804,-0.151551127433777,0.078785784542561,0.057194944471121,0.024078786373138,0.158389016985893,0.036392860114574,0.112672396004200,0.026701990514994,-0.023151181638241,-0.028960380703211,0.124923780560493,0.071306914091110,-0.158617898821831));
res += mul(Get(s0,0,dy), float4x4(0.097253888845444,0.188621118664742,-0.037622291594744,-0.080467410385609,-0.193375185132027,0.058960463851690,0.178698554635048,0.061575334519148,0.159410148859024,-0.044690351933241,-0.124706521630287,-0.042289331555367,0.048213537782431,0.048491410911083,-0.178930103778839,0.262541443109512));
res += mul(Get(s0,dx,-dy), float4x4(-0.022187085822225,0.078772060573101,-0.207639232277870,-0.107694409787655,-0.125228777527809,-0.036441642791033,-0.089674510061741,0.007724136114120,0.013700299896300,-0.135255545377731,0.112729072570801,0.018357085064054,0.004487149417400,0.074330300092697,-0.008590376004577,0.042794104665518));
res += mul(Get(s0,dx,0), float4x4(0.007497076876462,-0.111032009124756,-0.006340127903968,0.058188628405333,0.005972697399557,0.253836005926132,-0.117904514074326,-0.005301462020725,0.036624364554882,0.132479235529900,0.141628950834274,0.107852332293987,0.099660292267799,-0.104780517518520,0.074675962328911,0.026623284444213));
res += mul(Get(s0,dx,dy), float4x4(0.064797312021255,-0.133181571960449,-0.072105705738068,-0.000063069201133,-0.003954281099141,-0.084142841398716,0.355652123689651,0.182511135935783,0.123278133571148,0.053344793617725,-0.008601441048086,0.055201198905706,0.039895933121443,-0.163809522986412,0.114153034985065,0.060012873262167));
res += mul(Get(s1,-dx,-dy), float4x4(-0.089594416320324,0.032959848642349,-0.208370745182037,-0.008916816674173,0.045532893389463,0.049533993005753,-0.087239831686020,-0.137264892458916,-0.189089283347130,-0.050126273185015,-0.263255596160889,-0.023168489336967,0.239693716168404,-0.091138049960136,0.043198529630899,0.055427622050047));
res += mul(Get(s1,-dx,0), float4x4(-0.126948580145836,0.017220482230186,-0.074600785970688,0.125010460615158,0.118162848055363,-0.108266793191433,-0.018919367343187,-0.100318074226379,-0.012410330586135,0.060437310487032,0.014324241317809,0.000071419170126,0.041297502815723,-0.023271337151527,0.046331424266100,-0.151651725172997));
res += mul(Get(s1,-dx,dy), float4x4(-0.062616214156151,-0.184841826558113,0.047022551298141,-0.096225537359715,-0.111170023679733,0.073191583156586,-0.188214823603630,0.007384854368865,-0.001434128731489,-0.102743282914162,-0.037359315901995,-0.145471811294556,-0.127073824405670,0.035841424018145,0.040436804294586,0.048254773020744));
res += mul(Get(s1,0,-dy), float4x4(-0.069141767919064,0.095704458653927,0.014238347299397,-0.024193147197366,0.072065494954586,-0.030109293758869,0.210575863718987,-0.094833217561245,0.136252865195274,0.042492788285017,0.154116645455360,-0.061580564826727,-0.017941342666745,-0.027442604303360,0.132612243294716,-0.007121352944523));
res += mul(Get(s1,0,0), float4x4(0.019001778215170,0.135611370205879,0.078864805400372,0.044892519712448,0.184984937310219,-0.300617873668671,-0.052184969186783,0.033469706773758,0.282311946153641,0.024862589314580,0.093398809432983,-0.036344494670630,-0.051613483577967,-0.103708215057850,-0.181088119745255,0.042744074016809));
res += mul(Get(s1,0,dy), float4x4(-0.125169470906258,0.020505808293819,0.015584206208587,0.080393657088280,0.036051485687494,-0.021877724677324,-0.118157625198364,-0.069480061531067,-0.165506944060326,-0.038920827209949,-0.075864776968956,-0.123607017099857,-0.280126363039017,-0.049585878849030,-0.081707946956158,-0.084315963089466));
res += mul(Get(s1,dx,-dy), float4x4(0.050689902156591,-0.236282050609589,-0.130381047725677,-0.147746935486794,0.010838296264410,0.012613587081432,-0.021346351131797,-0.016989978030324,-0.160298958420753,-0.021920910105109,-0.090915046632290,0.107018977403641,-0.101016238331795,0.038665249943733,0.024375634267926,-0.009839222766459));
res += mul(Get(s1,dx,0), float4x4(0.025250578299165,0.086554527282715,-0.086106956005096,0.213585332036018,-0.044188182801008,0.052735451608896,-0.067599155008793,-0.091971874237061,0.025431111454964,-0.015285629779100,0.003739142324775,0.057650789618492,-0.015347510576248,0.200415998697281,-0.181956782937050,0.052402086555958));
res += mul(Get(s1,dx,dy), float4x4(-0.043381921947002,-0.105060823261738,-0.150111898779869,0.153705656528473,-0.028658533468843,0.057497780770063,-0.022670224308968,0.130610197782516,0.171369075775146,-0.004136845003814,0.067823275923729,-0.116711892187595,0.017080778256059,0.226959243416786,0.066906616091728,-0.003410525619984));
res += mul(Get(s2,-dx,-dy), float4x4(-0.043003086000681,-0.088648557662964,0.064059376716614,-0.083477482199669,0.050018351525068,-0.049864925444126,-0.088950812816620,-0.027945458889008,-0.029417745769024,0.099993139505386,0.040997397154570,-0.017318302765489,-0.037368524819613,0.018695158883929,0.032283104956150,-0.022604487836361));
res += mul(Get(s2,-dx,0), float4x4(0.088957779109478,0.008154625073075,-0.030268877744675,-0.041939295828342,-0.000121206066979,-0.152155771851540,-0.169292226433754,0.138875037431717,0.023141393437982,0.023205351084471,-0.096286408603191,0.063407294452190,-0.064154930412769,-0.049989681690931,-0.081822738051414,-0.090611793100834));
res += mul(Get(s2,-dx,dy), float4x4(-0.083303056657314,0.111586295068264,-0.158995985984802,0.048329107463360,-0.015840161591768,0.073314011096954,-0.025320291519165,-0.003471878590062,0.026324994862080,-0.227765813469887,-0.088684126734734,0.121835857629776,-0.122756153345108,0.114802934229374,0.004720023833215,-0.197016939520836));
res += mul(Get(s2,0,-dy), float4x4(0.116736523807049,0.033146020025015,0.063464947044849,-0.123795688152313,-0.049565456807613,-0.006933885626495,-0.072250135242939,-0.085633069276810,0.031646829098463,-0.043536704033613,-0.090520456433296,0.024823589250445,-0.151376917958260,0.146448209881783,-0.112443879246712,0.072829350829124));
res += mul(Get(s2,0,0), float4x4(0.008094327524304,-0.009685163386166,-0.146371185779572,-0.027204589918256,0.086109220981598,-0.046874947845936,-0.012704032473266,-0.023368893191218,-0.036018528044224,0.096582226455212,-0.107936292886734,-0.067643217742443,-0.166084945201874,-0.201216772198677,-0.217727750539780,0.139621362090111));
res += mul(Get(s2,0,dy), float4x4(-0.052469782531261,0.048107501119375,0.001926092314534,0.238932713866234,0.060422029346228,-0.160004854202271,-0.076648183166981,-0.022509284317493,0.071498602628708,-0.174952432513237,-0.065463840961456,0.288137078285217,-0.063220858573914,0.031163269653916,-0.255595028400421,0.255092024803162));
res += mul(Get(s2,dx,-dy), float4x4(0.103582300245762,-0.034700594842434,0.024700304493308,0.215990647673607,0.068480931222439,0.063355393707752,-0.056837935000658,0.052896622568369,-0.023702161386609,-0.155611768364906,-0.008089858107269,-0.283545702695847,0.123329199850559,0.007595325820148,0.073685571551323,-0.027251135557890));
res += mul(Get(s2,dx,0), float4x4(0.017524747177958,-0.274576157331467,0.220171064138412,0.372154176235199,-0.015057667158544,-0.002077505923808,-0.059658780694008,-0.041483059525490,-0.032299511134624,0.041521150618792,0.159847259521484,0.047187589108944,-0.030175529420376,-0.087650038301945,0.132133811712265,-0.216489419341087));
res += mul(Get(s2,dx,dy), float4x4(0.051198415458202,-0.101209044456482,0.066081747412682,0.055869109928608,0.370239049196243,0.158105254173279,-0.101345255970955,0.192899063229561,-0.069865271449089,-0.038281425833702,0.119839750230312,0.043388247489929,0.053886357694864,0.074237413704395,-0.074774682521820,-0.062314432114363));
res += mul(Get(s3,-dx,-dy), float4x4(0.242829933762550,-0.042975466698408,-0.123167365789413,-0.185199469327927,-0.069143936038017,0.126970887184143,0.056392200291157,-0.032952744513750,-0.085803449153900,0.100014187395573,0.195619851350784,-0.136723071336746,-0.159136310219765,-0.103864848613739,-0.108638979494572,-0.358405679464340));
res += mul(Get(s3,-dx,0), float4x4(-0.068629704415798,-0.017516111955047,-0.085300654172897,-0.006719691213220,0.042806163430214,-0.220965102314949,-0.008667151443660,-0.072962515056133,0.123278751969337,0.047528501600027,0.092036835849285,0.008211624808609,-0.074369274079800,0.124004028737545,-0.000708087463863,-0.010742392390966));
res += mul(Get(s3,-dx,dy), float4x4(-0.033835817128420,0.073445253074169,0.051261324435472,-0.074508354067802,0.013685590587556,-0.002676677191630,-0.083107106387615,0.033020775765181,-0.109359122812748,-0.018412571400404,0.102052941918373,-0.045059833675623,-0.190864294767380,-0.144427746534348,-0.001964153954759,0.053613618016243));
res += mul(Get(s3,0,-dy), float4x4(-0.224490821361542,-0.034134838730097,0.051859550178051,-0.122190862894058,-0.042068999260664,-0.200025990605354,-0.115481629967690,-0.172882586717606,0.057642530649900,0.098427124321461,0.081267118453979,-0.112228468060493,-0.132633388042450,0.012929368764162,-0.055191162973642,0.017023561522365));
res += mul(Get(s3,0,0), float4x4(-0.049885284155607,-0.006130177062005,-0.116816915571690,0.106722086668015,-0.029678355902433,0.321688026189804,-0.190543130040169,-0.046954136341810,0.097852334380150,0.200019821524620,0.131457373499870,0.057699345052242,0.056852228939533,-0.038648042827845,-0.022655025124550,-0.068535126745701));
res += mul(Get(s3,0,dy), float4x4(-0.177603989839554,0.165987014770508,0.021904069930315,-0.131819769740105,0.248777419328690,-0.076585970818996,0.108867689967155,-0.111622698605061,0.102583155035973,-0.136983424425125,-0.182170420885086,-0.019398499280214,-0.002743333578110,-0.079618297517300,-0.058340791612864,0.209854260087013));
res += mul(Get(s3,dx,-dy), float4x4(-0.201571002602577,0.065817035734653,-0.098111756145954,0.033681180328131,0.017168212682009,-0.168997675180435,-0.103323541581631,0.092432647943497,-0.042197249829769,0.041330929845572,0.007394478190690,0.052587408572435,-0.085148468613625,-0.011202120222151,-0.131405249238014,-0.138168290257454));
res += mul(Get(s3,dx,0), float4x4(-0.031348429620266,0.004830418620259,0.097464226186275,0.076638728380203,-0.161075726151466,-0.011247502639890,-0.148052677512169,-0.004134968388826,-0.123415134847164,-0.418631672859192,0.104540742933750,0.170844137668610,0.099468424916267,-0.005148700904101,0.128252759575844,-0.094898998737335));
res += mul(Get(s3,dx,dy), float4x4(0.119547903537750,-0.186866566538811,-0.225333675742149,0.026835614815354,0.011954784393311,0.133887708187103,0.198343634605408,0.044312313199043,-0.188205108046532,-0.021960178390145,-0.166192874312401,0.013007206842303,0.145347610116005,-0.151274293661118,-0.077683314681053,0.017723072320223));
return max(float4(0,0,0,0), res);
}
