sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.050447471439838,-0.028795368969440,-0.117909051477909,0.065799131989479,0.154394522309303,0.013895023614168,0.009829238988459,0.060770887881517,0.019195448607206,-0.034580677747726,-0.009699949994683,0.001997159328312,0.022214902564883,-0.027430331334472,0.087550580501556,0.008821981959045));
res += mul(Get(s0,-dx,0), float4x4(-0.066893011331558,-0.001610921462998,-0.045998618006706,-0.035745356231928,0.075005687773228,-0.058222629129887,-0.055986244231462,-0.045687939971685,0.017969561740756,0.003299121046439,-0.003605833277106,0.008090145885944,0.025696201249957,0.028871424496174,0.038399573415518,0.000833679689094));
res += mul(Get(s0,-dx,dy), float4x4(-0.116170369088650,0.119881004095078,-0.074124373495579,0.252923548221588,-0.097816057503223,-0.064007706940174,-0.006764082238078,0.006359737366438,0.011876528151333,-0.003014597110450,0.002249619690701,-0.015152302570641,-0.096991136670113,0.053951803594828,0.072849646210670,-0.084258183836937));
res += mul(Get(s0,0,-dy), float4x4(-0.022846933454275,-0.003886766033247,-0.083088576793671,-0.055528771132231,-0.131378486752510,0.245690599083900,-0.076809100806713,-0.019943429157138,0.022049045190215,-0.033312462270260,-0.018763301894069,0.000025292112696,0.011625248007476,-0.027626333758235,-0.051609288901091,0.058517191559076));
res += mul(Get(s0,0,0), float4x4(-0.083223417401314,0.021059900522232,-0.028590092435479,-0.029198499396443,-0.005942486226559,0.197354391217232,0.012092073448002,-0.104487277567387,0.009892353788018,0.007791060488671,-0.003236361779273,0.009302881546319,-0.044133666902781,0.011197539046407,0.053298834711313,0.031070148572326));
res += mul(Get(s0,0,dy), float4x4(-0.024047404527664,0.103624314069748,-0.061854086816311,0.191808044910431,-0.130157276988029,-0.049444101750851,0.121896363794804,-0.072965539991856,0.013326127082109,-0.001323103089817,0.002369256690145,-0.012565771117806,-0.016538627445698,0.010359912179410,0.068885810673237,-0.024174753576517));
res += mul(Get(s0,dx,-dy), float4x4(0.079239934682846,0.036643944680691,-0.069189764559269,-0.083766311407089,-0.083788350224495,0.131457835435867,-0.023018645122647,0.090701751410961,0.028963236138225,-0.032851036638021,-0.023464705795050,0.004220462404191,-0.002404344966635,-0.089116193354130,-0.034973118454218,-0.075173445045948));
res += mul(Get(s0,dx,0), float4x4(-0.028444482013583,0.005313454661518,-0.042285770177841,-0.045598745346069,0.128370583057404,0.178143143653870,-0.058392394334078,0.071138493716717,0.005550736095756,0.012228833511472,-0.001958501758054,0.013325965963304,-0.072386868298054,-0.059039980173111,0.025629095733166,-0.019294925034046));
res += mul(Get(s0,dx,dy), float4x4(0.034031938761473,0.017022820189595,-0.059327665716410,0.019932482391596,0.129466250538826,-0.003486358560622,0.149147570133209,0.027739284560084,0.010394075885415,0.001023623393849,0.003966131247580,-0.008307716809213,-0.055463064461946,-0.034410014748573,0.012027579359710,-0.096517346799374));
res += mul(Get(s1,-dx,-dy), float4x4(0.063137337565422,0.006782002281398,0.039995133876801,-0.025204725563526,-0.397434383630753,-0.003623676486313,0.239838749170303,-0.217323452234268,-0.000008904700735,-0.000020014314941,-0.000002241323955,-0.000019856830477,-0.019250754266977,0.004481345880777,0.005993492435664,-0.069517038762569));
res += mul(Get(s1,-dx,0), float4x4(0.029364805668592,-0.049349762499332,-0.034528218209743,-0.005996403284371,-0.415699541568756,0.043313875794411,-0.073724336922169,-0.095231071114540,-0.000003014087497,0.000003149130180,0.000005214559224,0.000013791331185,-0.054498616605997,-0.021786365658045,-0.157712429761887,-0.042977653443813));
res += mul(Get(s1,-dx,dy), float4x4(-0.014015252701938,-0.009093389846385,-0.100727140903473,-0.028288044035435,-0.089906282722950,-0.236035883426666,-0.211770191788673,-0.192811772227287,-0.000002800385801,0.000000992795663,-0.000009410755410,-0.000009426471479,-0.074346013367176,-0.039746683090925,0.066539101302624,-0.023959105834365));
res += mul(Get(s1,0,-dy), float4x4(0.016588969156146,0.011970756575465,0.030016111209989,-0.104460820555687,-0.197222024202347,-0.044154200702906,0.244067460298538,0.090344302356243,0.000009089975720,-0.000001431442001,-0.000000955461360,0.000019799184884,0.027164585888386,0.064581833779812,0.068225152790546,0.023536976426840));
res += mul(Get(s1,0,0), float4x4(0.046837490051985,-0.044672008603811,-0.090241461992264,-0.079281374812126,0.014038842171431,0.222201123833656,-0.290434420108795,0.001225432613865,-0.000009554762073,0.000006522864169,-0.000007848634596,0.000006468265838,0.070253983139992,0.021029431372881,-0.096392281353474,0.017415300011635));
res += mul(Get(s1,0,dy), float4x4(-0.058795098215342,-0.042673543095589,-0.126852467656136,-0.102346152067184,0.434323459863663,-0.012753042392433,-0.009002351202071,-0.035220582038164,0.000002816167125,-0.000015162297132,-0.000001484941890,0.000004336893653,0.016393136233091,-0.022959396243095,0.040554132312536,0.049932017922401));
res += mul(Get(s1,dx,-dy), float4x4(-0.052858971059322,-0.005898518022150,-0.028055096045136,-0.062946617603302,0.210520625114441,-0.098006524145603,0.257340788841248,0.135414108633995,-0.000022576539777,-0.000021243853553,-0.000011476805412,0.000009084166777,0.084016211330891,0.128568559885025,0.066305257380009,0.092460528016090));
res += mul(Get(s1,dx,0), float4x4(-0.022687204182148,-0.074167743325233,-0.105184085667133,-0.083324529230595,0.155925467610359,0.174549326300621,-0.247510805726051,-0.101047329604626,-0.000023654583856,0.000005404361218,0.000005900088127,0.000015528808945,0.187369763851166,0.029900854453444,-0.013680844567716,0.118590451776981));
res += mul(Get(s1,dx,dy), float4x4(-0.056004375219345,-0.132047399878502,-0.160303086042404,-0.100169695913792,0.056045334786177,-0.085348203778267,-0.121137328445911,0.012085140682757,-0.000007778573490,-0.000011422835996,-0.000005644723842,0.000002935838211,0.109366104006767,0.001418768428266,-0.079860635101795,0.172514647245407));
res += mul(Get(s2,-dx,-dy), float4x4(-0.048413626849651,-0.043986592441797,-0.059981338679790,-0.037702102214098,-0.239297255873680,0.248190566897392,0.215188831090927,-0.143242329359055,-0.077556803822517,-0.080367885529995,0.024506691843271,-0.073559619486332,-0.016135182231665,-0.020214557647705,0.015444336459041,-0.000323980726535));
res += mul(Get(s2,-dx,0), float4x4(0.011624944396317,-0.071388512849808,-0.041531801223755,-0.032492011785507,-0.286105304956436,-0.366253525018692,-0.019079225137830,-0.058002661913633,-0.124248012900352,-0.034246761351824,-0.051585089415312,0.003360391361639,-0.013513904996216,0.000113913469249,0.009618037380278,-0.000999195501208));
res += mul(Get(s2,-dx,dy), float4x4(0.035312347114086,-0.082778014242649,-0.021827975288033,-0.059468768537045,-0.242602318525314,-0.218536809086800,-0.058295376598835,-0.045578449964523,-0.216460376977921,-0.050949495285749,-0.096171475946903,-0.011765372939408,-0.030145386233926,0.016285415738821,-0.017739064991474,0.050130527466536));
res += mul(Get(s2,0,-dy), float4x4(-0.051622129976749,-0.005023455247283,0.021599669009447,0.083692535758018,-0.057589031755924,0.329895794391632,0.938454627990723,-0.038036465644836,-0.046755354851484,0.009454065002501,-0.113571248948574,-0.105424001812935,-0.030840123072267,-0.040792614221573,-0.015232404693961,0.001346937729977));
res += mul(Get(s2,0,0), float4x4(0.074418321251869,-0.012447430752218,-0.113054856657982,0.101145006716251,-0.048974607139826,-0.473759114742279,0.130980104207993,0.106678381562233,-0.033348333090544,-0.010854565538466,0.013968952000141,-0.042959395796061,-0.009961284697056,-0.004436620976776,-0.008661163039505,0.010053492151201));
res += mul(Get(s2,0,dy), float4x4(0.047751590609550,0.013436410576105,-0.199508488178253,0.069687962532043,-0.004633580334485,-0.207911536097527,-0.327030032873154,0.020657295361161,-0.047124780714512,0.034594327211380,0.086846135556698,-0.051261406391859,0.004362968262285,0.010220265947282,-0.031465735286474,0.051163539290428));
res += mul(Get(s2,dx,-dy), float4x4(-0.139213562011719,-0.018850829452276,0.020123280584812,0.010696882382035,0.044129926711321,0.692695856094360,0.053400930017233,-0.007560329046100,-0.171994999051094,0.035624906420708,0.004032097756863,-0.051004681736231,-0.021883789449930,-0.022296110168099,0.000560439424589,-0.016082851216197));
res += mul(Get(s2,dx,0), float4x4(-0.046084620058537,-0.032879624515772,0.011490511707962,0.007693197112530,0.246384859085083,-0.007829972542822,0.117370747029781,-0.066790074110031,-0.106412887573242,-0.089511267840862,-0.059969194233418,-0.006911711301655,0.012922311201692,0.017253611236811,-0.030762873589993,0.005813842639327));
res += mul(Get(s2,dx,dy), float4x4(0.046282678842545,-0.023227849975228,-0.087351873517036,0.022916456684470,0.265397220849991,0.030819965526462,-0.036155175417662,-0.165351212024689,0.002289660740644,-0.008035658858716,-0.038416471332312,-0.065456680953503,-0.009652651846409,0.034350648522377,-0.013597604818642,0.000493006256875));
res += mul(Get(s3,-dx,-dy), float4x4(-0.109909862279892,-0.067091025412083,-0.057794455438852,0.060092069208622,-0.022369407117367,-0.011153760366142,0.003984499257058,-0.012260727584362,0.141744047403336,-0.066128470003605,-0.099966228008270,0.058472111821175,0.221121683716774,-0.209382906556129,0.040341172367334,-0.264434725046158));
res += mul(Get(s3,-dx,0), float4x4(-0.082251958549023,0.038935974240303,-0.057122256606817,0.125985383987427,-0.010116713121533,0.001245960011147,0.000366132124327,-0.008197215385735,0.242779791355133,-0.074473112821579,0.014536455273628,-0.035701666027308,0.176710546016693,-0.227354183793068,-0.115946941077709,-0.389355361461639));
res += mul(Get(s3,-dx,dy), float4x4(0.013909480534494,0.133231744170189,-0.047977663576603,0.108807630836964,0.004730719141662,0.016224619001150,-0.006579831708223,0.007938605733216,0.074837781488895,0.049650829285383,-0.033652801066637,-0.038424655795097,-0.217074692249298,-0.275073081254959,-0.136040270328522,-0.120632946491241));
res += mul(Get(s3,0,-dy), float4x4(-0.094718702137470,-0.059077966958284,-0.047443322837353,0.027738675475121,-0.048315387219191,-0.026372749358416,-0.040106646716595,-0.010383659042418,-0.069268010556698,-0.173142403364182,-0.232270717620850,-0.211039960384369,-0.056461852043867,0.405395925045013,0.234725221991539,-0.312953680753708));
res += mul(Get(s3,0,0), float4x4(-0.035941872745752,0.035646229982376,-0.062214370816946,0.116946965456009,-0.025052150711417,-0.003448114264756,-0.019458787515759,0.001454102457501,-0.089013993740082,-0.125265166163445,-0.050133582204580,-0.142466604709625,-0.027893517166376,0.179281041026115,0.199653103947639,-0.253084391355515));
res += mul(Get(s3,0,dy), float4x4(0.022938005626202,0.138045787811279,-0.090173915028572,0.033398121595383,0.015319411642849,0.004977097734809,-0.020843738690019,0.011859850026667,0.129010990262032,-0.040905628353357,-0.054920792579651,-0.114172630012035,-0.158289536833763,-0.127345845103264,-0.110284782946110,-0.046625517308712));
res += mul(Get(s3,dx,-dy), float4x4(-0.015481442213058,-0.053030636161566,-0.016158450394869,-0.023736042901874,-0.044069211930037,0.006498005241156,0.002369536785409,-0.046968292444944,-0.017958611249924,-0.069549150764942,-0.083320476114750,-0.016157234087586,-0.048922341316938,0.145862415432930,0.023556446656585,0.364661902189255));
res += mul(Get(s3,dx,0), float4x4(0.049012962728739,-0.009460903704166,-0.048142604529858,0.027665132656693,-0.018716534599662,0.029283545911312,-0.005259904544801,-0.032009564340115,-0.207780748605728,-0.099418416619301,-0.014217595569789,0.225002750754356,0.278785675764084,0.066719122231007,-0.039966147392988,0.832462489604950));
res += mul(Get(s3,dx,dy), float4x4(0.044932618737221,0.047424040734768,-0.049999814480543,-0.082579128444195,0.000420233292971,0.037394542247057,0.005645989906043,-0.067038327455521,-0.001453962409869,-0.065086320042610,0.060475293546915,-0.032788392156363,0.276121646165848,-0.085141889750957,-0.157036036252975,0.623356461524963));
return max(float4(0,0,0,0), res);
}
