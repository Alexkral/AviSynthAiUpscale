sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.035534519702196,0.049767747521400,0.084914676845074,0.019651576876640,-0.033783711493015,-0.049556005746126,0.060152970254421,-0.108487315475941,-0.027992652729154,0.030806599184871,-0.003461790736765,-0.017417225986719,-0.038631375879049,0.049207955598831,0.023847522214055,-0.027321849018335));
res += mul(Get(s0,-dx,0), float4x4(0.004960661288351,0.120126709342003,-0.136621475219727,0.065127506852150,0.039362158626318,-0.009726230055094,-0.011381799355149,-0.053111992776394,0.006598635576665,0.006788984872401,0.009268811903894,0.006410664878786,0.150988727807999,0.025816293433309,0.054063759744167,-0.048132658004761));
res += mul(Get(s0,-dx,dy), float4x4(0.099029935896397,-0.006212393287569,0.015948776155710,-0.055489037185907,-0.086311303079128,-0.028566861525178,-0.053729988634586,0.022714024409652,-0.015658749267459,0.000048224595957,0.001735598430969,0.008287291973829,-0.104269102215767,-0.029416332021356,-0.036921221762896,0.027818890288472));
res += mul(Get(s0,0,-dy), float4x4(-0.095608897507191,0.035880081355572,0.079551361501217,0.072655640542507,-0.035148672759533,0.238391190767288,0.089113898575306,0.010867984034121,-0.006643981672823,0.027637854218483,-0.007328202016652,-0.017815463244915,0.033074460923672,-0.024193085730076,0.001152011798695,-0.005560141988099));
res += mul(Get(s0,0,0), float4x4(-0.072588361799717,0.011515280231833,-0.066218465566635,0.091101013123989,0.031322609633207,0.245292022824287,0.079312354326248,-0.031979247927666,0.013209038414061,0.004035493358970,0.008208771236241,0.007372861262411,-0.002794281812385,-0.000535677128937,0.033060569316149,-0.020537206903100));
res += mul(Get(s0,0,dy), float4x4(0.079644151031971,-0.067729339003563,0.067267805337906,-0.086484692990780,-0.000980791286565,0.060524359345436,-0.022733094170690,-0.048623535782099,-0.014833380468190,0.000367892469512,0.003476734505966,0.005101618357003,-0.002559446031228,-0.072117589414120,0.007086136378348,0.012844791635871));
res += mul(Get(s0,dx,-dy), float4x4(0.004520721267909,-0.004594476427883,0.098962329328060,-0.006038841325790,-0.026924921199679,-0.163333550095558,0.084029108285904,0.134668096899986,0.001585524762049,0.026377411559224,-0.009580636397004,-0.019960036501288,-0.043787777423859,0.019528293982148,-0.051104333251715,-0.036683581769466));
res += mul(Get(s0,dx,0), float4x4(0.048737246543169,-0.025528170168400,-0.039789188653231,0.079317830502987,-0.055730339139700,-0.036289334297180,0.074925452470779,0.010270509868860,0.015561120584607,0.001909054932185,0.007360098417848,0.007304011378437,-0.031999282538891,-0.016411520540714,-0.003470524214208,0.023124169558287));
res += mul(Get(s0,dx,dy), float4x4(0.081308625638485,0.039831876754761,-0.063199661672115,-0.071357555687428,-0.018140573054552,-0.085906490683556,-0.031398296356201,-0.027506830170751,-0.014038936235011,0.000791273603681,0.003983255941421,0.005117771215737,-0.109483778476715,0.037566363811493,-0.029065838083625,0.080546051263809));
res += mul(Get(s1,-dx,-dy), float4x4(0.105529181659222,0.054985042661428,-0.034427486360073,-0.008552487939596,-0.076455131173134,-0.022790474817157,-0.293067723512650,0.076197057962418,-0.000011643535800,0.000007650005500,0.000004184580121,0.000015637362594,0.031475819647312,0.138021230697632,-0.025273585692048,-0.030376043170691));
res += mul(Get(s1,-dx,0), float4x4(0.014501637779176,-0.024748455733061,0.020234540104866,-0.045682739466429,-0.356769829988480,-0.031128903850913,0.169942244887352,-0.011676764115691,0.000018750517484,-0.000007731162441,-0.000002337154001,0.000011813284800,0.053841244429350,-0.086039900779724,0.142247200012207,-0.155081644654274));
res += mul(Get(s1,-dx,dy), float4x4(-0.002386186504737,0.045372519642115,0.032537929713726,-0.020904747769237,0.287537872791290,0.166310101747513,0.047461982816458,-0.198022693395615,0.000003462018412,0.000001946575367,-0.000004811876806,0.000000802055865,-0.019725162535906,0.020442817360163,-0.029383286833763,-0.189286947250366));
res += mul(Get(s1,0,-dy), float4x4(0.136234685778618,0.006626957561821,-0.063320562243462,0.026352524757385,-0.063250355422497,-0.106557749211788,-0.149980008602142,-0.085674494504929,0.000003741563660,-0.000007355848538,0.000008523787983,-0.000011128889128,-0.094430841505527,0.080168746411800,-0.003647810546681,-0.021448368206620));
res += mul(Get(s1,0,0), float4x4(0.211403429508209,0.020314633846283,-0.059810873121023,0.008814940229058,0.076984182000160,-0.269491404294968,0.248641103506088,0.040637284517288,-0.000007726909644,-0.000023548322133,-0.000000121028307,-0.000000564002221,0.086837083101273,-0.066203020513058,0.121478252112865,-0.172789484262466));
res += mul(Get(s1,0,dy), float4x4(0.005156791768968,0.047114297747612,-0.072840228676796,0.060597617179155,0.136613532900810,0.462856292724609,-0.062053281813860,0.182845279574394,0.000002625241677,-0.000017841981389,-0.000007075676876,-0.000001924508297,0.062874019145966,0.036645859479904,-0.017283231019974,-0.158737599849701));
res += mul(Get(s1,dx,-dy), float4x4(0.054090917110443,0.052379079163074,-0.041352067142725,-0.035084884613752,0.143275037407875,-0.308821976184845,-0.065861001610756,-0.137478634715080,0.000011304766304,-0.000018329186787,0.000014904931049,0.000010803507394,-0.007733965758234,0.078214570879936,0.001239655073732,0.023165037855506));
res += mul(Get(s1,dx,0), float4x4(0.050820067524910,0.058598872274160,-0.037690367549658,-0.034016095101833,0.401980400085449,-0.272817373275757,0.145126819610596,-0.057730093598366,0.000015469417121,-0.000006551392289,0.000009659750503,-0.000015042936866,0.105110019445419,0.036481861025095,0.030411714687943,-0.105102859437466));
res += mul(Get(s1,dx,dy), float4x4(0.045143716037273,0.002207256853580,-0.034739866852760,-0.047146596014500,-0.249813437461853,0.054093457758427,-0.025524282827973,0.212491914629936,0.000012663107555,0.000008083320608,0.000013821235370,0.000010494522940,0.070999063551426,-0.003658275818452,-0.005042012780905,-0.109215065836906));
res += mul(Get(s2,-dx,-dy), float4x4(-0.040971342474222,-0.017481872811913,-0.064705759286880,-0.025511328130960,0.047757919877768,-0.031871635466814,-0.069409988820553,-0.209556907415390,0.037206742912531,-0.098852299153805,-0.000504129566252,-0.028246361762285,0.000675447983667,-0.001881058909930,-0.016298482194543,-0.013957000337541));
res += mul(Get(s2,-dx,0), float4x4(-0.093029275536537,0.026465164497495,-0.002504156902432,0.017612274736166,0.019703879952431,0.162633553147316,0.108012937009335,-0.113767787814140,0.053104862570763,-0.025566019117832,-0.095445975661278,-0.020297072827816,0.001925773802213,0.010483521036804,-0.009154606610537,-0.004677005112171));
res += mul(Get(s2,-dx,dy), float4x4(0.039862368255854,0.003897062735632,-0.004342576023191,-0.011577386409044,-0.174185127019882,-0.155276790261269,0.063970632851124,-0.081191271543503,-0.018129207193851,0.004484564997256,0.026430355384946,0.084693901240826,0.000949523353484,0.044206839054823,-0.009177257306874,0.027996757999063));
res += mul(Get(s2,0,-dy), float4x4(-0.121313214302063,-0.071702152490616,-0.041276726871729,-0.015178709290922,-0.273590773344040,-0.065586179494858,-0.080121003091335,-0.195518434047699,-0.108210124075413,-0.107562489807606,0.050333160907030,-0.070565193891525,0.038908109068871,0.013301408849657,-0.032374866306782,-0.001617821399122));
res += mul(Get(s2,0,0), float4x4(-0.149726301431656,0.014903618954122,0.051725395023823,0.053602561354637,0.106534428894520,0.036263760179281,0.092636503279209,-0.052806500345469,-0.096519924700260,0.073812715709209,-0.077523514628410,-0.037619572132826,0.032212104648352,0.000147155646118,0.004825813695788,0.001321341958828));
res += mul(Get(s2,0,dy), float4x4(-0.115874752402306,0.086894005537033,0.085702098906040,0.123911224305630,0.331855177879333,-0.255637407302856,-0.069845862686634,-0.208139002323151,0.109738409519196,0.030829967930913,0.039085365831852,0.005921402946115,0.030321637168527,0.033990595489740,0.001721377950162,0.010990101844072));
res += mul(Get(s2,dx,-dy), float4x4(-0.008601397275925,-0.132164940237999,-0.015445148572326,-0.000432699889643,-0.041783656924963,-0.031853217631578,-0.130343914031982,-0.235149279236794,0.137547791004181,-0.134167015552521,0.058932267129421,-0.063007570803165,0.021178087219596,0.016940265893936,-0.006885502021760,0.014582546427846));
res += mul(Get(s2,dx,0), float4x4(-0.234219372272491,-0.111175954341888,0.027567906305194,0.018348393961787,-0.321545690298080,0.132847666740417,0.126466616988182,0.004137123469263,-0.079715408384800,0.019026931375265,-0.078804515302181,0.040908973664045,-0.000457184796687,0.004415424540639,0.025388171896338,0.021106276661158));
res += mul(Get(s2,dx,dy), float4x4(0.136554047465324,-0.154002860188484,0.062246534973383,0.039926443248987,0.204248145222664,-0.146260172128677,0.051811043173075,-0.095840245485306,0.049408860504627,0.063960179686546,-0.016405094414949,0.093778543174267,-0.009885475039482,0.065754964947701,-0.020254649221897,0.026300109922886));
res += mul(Get(s3,-dx,-dy), float4x4(0.046921003609896,0.051541149616241,0.002596633974463,-0.026833133772016,-0.005659200716764,-0.010884875431657,-0.003145356196910,-0.001718798186630,0.090570889413357,-0.214520946145058,-0.105625331401825,0.120408646762371,0.341198503971100,-0.197039291262627,-0.137662231922150,-0.304896444082260));
res += mul(Get(s3,-dx,0), float4x4(0.033380758017302,-0.018681017681956,0.017047476023436,0.003043998032808,0.000608278671280,-0.000430392887210,-0.005161280278116,0.011642280966043,-0.154324740171432,0.356861948966980,-0.404183983802795,0.051695171743631,0.515456497669220,-0.027330830693245,-0.218154773116112,-0.111543938517570));
res += mul(Get(s3,-dx,dy), float4x4(0.025656079873443,0.033570419996977,0.024997541680932,0.057899445295334,-0.002414264250547,0.006000776309520,-0.000489609956276,0.026961162686348,0.074938856065273,-0.083912804722786,0.303811639547348,-0.026502279564738,-0.072643995285034,-0.057586330920458,0.013604503124952,0.182753860950470));
res += mul(Get(s3,0,-dy), float4x4(0.030660934746265,0.038090717047453,0.028189832344651,0.037789404392242,0.048722743988037,0.010242603719234,-0.013515559025109,0.006175330840051,0.087784349918365,0.083327211439610,-0.256288915872574,0.226312220096588,-0.387814044952393,0.370690703392029,-0.135221794247627,-0.018126809969544));
res += mul(Get(s3,0,0), float4x4(0.009850685484707,-0.054331582039595,0.078694015741348,0.026642933487892,0.043710719794035,-0.002175267320126,0.003931886516511,0.005962103605270,-0.217135801911354,0.110300697386265,-0.318782150745392,0.169124647974968,-0.334005028009415,0.344150930643082,0.027193322777748,-0.013810370117426));
res += mul(Get(s3,0,dy), float4x4(0.016253968700767,0.019430853426456,0.061515573412180,0.045950520783663,0.022807115688920,-0.010866745375097,0.009473618119955,0.002984400605783,0.013948680832982,-0.148300737142563,0.524218618869781,-0.068995282053947,0.130780994892120,-0.074572168290615,0.299813002347946,0.106439657509327));
res += mul(Get(s3,dx,-dy), float4x4(0.013340295292437,0.005577709525824,0.023414280265570,0.027884237468243,0.029749002307653,0.018038971349597,0.021743414923549,0.024854859337211,0.085984490811825,0.155033454298973,0.053258500993252,-0.007179674692452,0.087203517556190,-0.169027656316757,-0.230963364243507,-0.038254156708717));
res += mul(Get(s3,dx,0), float4x4(-0.005550842266530,-0.016533432528377,0.028233895078301,0.003048538230360,0.025574805215001,0.008774949237704,0.029737055301666,0.022686384618282,-0.080598309636116,-0.153395354747772,-0.045129455626011,-0.027557276189327,-0.127579107880592,-0.164325848221779,-0.011214491911232,-0.012853085063398));
res += mul(Get(s3,dx,dy), float4x4(0.004989177454263,0.019738093018532,-0.029602846130729,0.022090371698141,-0.008761165663600,0.028927715495229,0.007923611439764,0.020357146859169,0.054944958537817,0.152092844247818,0.230461150407791,-0.012146666646004,-0.025961667299271,-0.091185845434666,0.115239046514034,0.196187540888786));
return max(float4(0,0,0,0), res);
}
