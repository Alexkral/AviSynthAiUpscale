sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.066237330436707,0.107128188014030,-0.094960987567902,0.035984769463539,0.125625401735306,-0.000026679812436,-0.056074116379023,0.195200279355049,-0.065047875046730,0.132582634687424,-0.134025678038597,0.019901888445020,0.033136632293463,-0.202002421021461,-0.002575681312010,0.026635292917490));
res += mul(Get(s0,-dx,0), float4x4(-0.026509819552302,0.172650530934334,0.070131659507751,-0.121707879006863,0.134703367948532,-0.096775569021702,0.011420240625739,-0.111725196242332,0.200169518589973,0.066705882549286,0.068277411162853,0.027245666831732,-0.036085639148951,0.120511665940285,-0.100228004157543,-0.023994613438845));
res += mul(Get(s0,-dx,dy), float4x4(-0.003282199148089,0.063399039208889,0.042463548481464,0.130919262766838,-0.190135583281517,0.085335768759251,0.054887577891350,-0.137529909610748,-0.048371944576502,-0.090256206691265,0.234891295433044,0.094897471368313,-0.261195778846741,-0.067017950117588,-0.120274499058723,0.070562012493610));
res += mul(Get(s0,0,-dy), float4x4(-0.082923673093319,-0.002179424511269,-0.010879230685532,-0.115418322384357,-0.091088831424713,0.018159812316298,0.243212193250656,0.214301630854607,0.065610654652119,0.113957300782204,0.051693592220545,-0.057607542723417,0.066339969635010,0.036236483603716,-0.107690617442131,-0.015629012137651));
res += mul(Get(s0,0,0), float4x4(0.016422390937805,0.102933838963509,-0.108204334974289,-0.296658635139465,0.096891097724438,0.037996947765350,0.204566031694412,0.039279114454985,0.305462449789047,0.069766186177731,-0.050061825662851,-0.222228348255157,0.023386536166072,-0.200933530926704,0.063165508210659,-0.017977871000767));
res += mul(Get(s0,0,dy), float4x4(-0.159093618392944,-0.044768348336220,0.178879797458649,-0.077624380588531,0.061256863176823,0.060229040682316,0.016947751864791,0.026371672749519,-0.131943330168724,-0.022150972858071,-0.081763222813606,0.016734827309847,0.012980216182768,-0.163035765290260,-0.071346946060658,0.021407904103398));
res += mul(Get(s0,dx,-dy), float4x4(0.005117395427078,0.138679265975952,0.313622236251831,0.035499494522810,-0.023056762292981,-0.158871129155159,0.009570700116456,-0.030932454392314,-0.056597679853439,-0.093973241746426,0.015398141928017,-0.040635425597429,0.048810444772243,0.122090071439743,-0.090392239391804,0.223130777478218));
res += mul(Get(s0,dx,0), float4x4(0.061636161059141,-0.031062366440892,0.195520654320717,0.038401797413826,0.104633495211601,-0.044667299836874,0.180011376738548,0.207525432109833,0.024673214182258,-0.002119004027918,0.031671416014433,-0.181124389171600,0.123870223760605,-0.019997995346785,0.082064531743526,-0.028579076752067));
res += mul(Get(s0,dx,dy), float4x4(0.077607415616512,0.083910830318928,-0.020981932058930,0.055367950350046,0.001065495540388,-0.076739460229874,-0.049859296530485,0.187714457511902,-0.078984893858433,0.008025798946619,0.227056831121445,-0.116418108344078,0.065212547779083,0.034374866634607,0.149144574999809,-0.120848409831524));
res += mul(Get(s1,-dx,-dy), float4x4(0.022294797003269,0.172440156340599,0.210177287459373,0.122305467724800,-0.120439551770687,0.034879472106695,0.215894818305969,0.218942552804947,-0.074718423187733,0.005275765433908,0.063626199960709,-0.019940376281738,0.086382322013378,-0.045598115772009,-0.096518442034721,0.264646142721176));
res += mul(Get(s1,-dx,0), float4x4(-0.086717665195465,0.189004480838776,0.332080572843552,-0.137075439095497,-0.256235331296921,-0.060807500034571,-0.006324293557554,-0.141899913549423,0.142314314842224,0.071710161864758,-0.049848534166813,0.086367145180702,0.026529034599662,-0.122855737805367,-0.157987356185913,0.076971307396889));
res += mul(Get(s1,-dx,dy), float4x4(-0.009596985764802,-0.048683736473322,0.151400044560432,0.145183041691780,-0.200395837426186,-0.133046239614487,0.128205627202988,0.131195396184921,-0.095857247710228,-0.020898083224893,0.129572749137878,0.037224676460028,0.018140958622098,0.148472428321838,0.140923649072647,-0.132838621735573));
res += mul(Get(s1,0,-dy), float4x4(0.041029095649719,-0.234017536044121,0.096131972968578,-0.073934048414230,-0.188356980681419,0.099106334149837,0.075236372649670,-0.063482642173767,0.037707038223743,0.242387667298317,-0.010854643769562,-0.170241639018059,0.084532842040062,0.115445077419281,-0.013999830931425,-0.079246930778027));
res += mul(Get(s1,0,0), float4x4(0.007826488465071,-0.000371477974113,-0.009684591554105,0.127894982695580,0.014552935957909,0.225715279579163,0.144842028617859,0.097392313182354,-0.092555813491344,0.181678190827370,0.226336628198624,-0.085078522562981,-0.174018353223801,-0.068008914589882,0.164676323533058,0.033115006983280));
res += mul(Get(s1,0,dy), float4x4(-0.152073889970779,0.033000726252794,-0.104081705212593,0.034087441861629,-0.294009625911713,-0.117746017873287,-0.031694531440735,0.094692446291447,0.029232481494546,0.093458555638790,-0.136005595326424,0.059515964239836,-0.159737095236778,0.043359421193600,-0.012288885191083,0.133677825331688));
res += mul(Get(s1,dx,-dy), float4x4(-0.178715005517006,0.006062154192477,-0.032299403101206,0.106384530663490,-0.169855579733849,0.035771068185568,0.002952534239739,0.112820461392403,-0.121023431420326,0.015192167833447,-0.023278042674065,-0.182931870222092,-0.136390209197998,0.029482599347830,-0.002287773648277,-0.027548477053642));
res += mul(Get(s1,dx,0), float4x4(0.094366028904915,0.102489396929741,-0.217657372355461,0.057498227804899,0.225842908024788,-0.033896889537573,-0.171345427632332,0.008843420073390,0.079640932381153,-0.025376290082932,-0.123442009091377,0.000215415595449,-0.194299936294556,0.141023457050323,0.084707580506802,0.116055607795715));
res += mul(Get(s1,dx,dy), float4x4(-0.026446830481291,-0.051023256033659,-0.099105946719646,0.251932322978973,0.044391714036465,0.016225811094046,-0.179123759269714,0.014256626367569,-0.047349222004414,0.021973133087158,0.054738614708185,-0.102355107665062,-0.108386978507042,-0.062116321176291,0.055258817970753,-0.075807482004166));
res += mul(Get(s2,-dx,-dy), float4x4(0.017005117610097,0.003569004358724,0.190044865012169,0.099494785070419,0.031997587531805,-0.212564885616302,0.162201061844826,0.248104348778725,0.111276470124722,-0.031905114650726,-0.163036748766899,-0.127410784363747,0.076998621225357,0.006627594586462,0.227978274226189,0.080477729439735));
res += mul(Get(s2,-dx,0), float4x4(0.008803891949356,-0.110803663730621,0.194819748401642,-0.096812106668949,0.046742878854275,0.013496856205165,0.115887880325317,-0.234151154756546,-0.051556792110205,0.151897445321083,0.037087202072144,-0.076874151825905,0.107136197388172,-0.104173891246319,-0.034719865769148,-0.017941102385521));
res += mul(Get(s2,-dx,dy), float4x4(0.090103723108768,-0.093933962285519,0.007372295018286,-0.062521554529667,0.126401767134666,-0.136789023876190,0.090529002249241,-0.046424727886915,-0.093531407415867,0.035395335406065,0.003627748228610,-0.175135403871536,0.180869668722153,0.022100990638137,0.125082030892372,0.118894711136818));
res += mul(Get(s2,0,-dy), float4x4(-0.042347818613052,0.152726069092751,-0.148189216852188,-0.140799209475517,-0.181084960699081,0.103000171482563,0.005377429537475,0.078759029507637,-0.038490105420351,0.145704597234726,0.002425657818094,0.064556054770947,0.177315250039101,-0.106001369655132,-0.071028202772141,0.047781370580196));
res += mul(Get(s2,0,0), float4x4(-0.010820900090039,0.014180651865900,0.047982089221478,0.027698505669832,-0.002246736083180,0.042109064757824,-0.054947923868895,0.277217358350754,0.042906902730465,0.073783814907074,0.009250506758690,0.043965019285679,0.026388065889478,-0.159135416150093,-0.089674144983292,0.017694508656859));
res += mul(Get(s2,0,dy), float4x4(0.105104945600033,0.081282705068588,-0.064184725284576,0.096074648201466,-0.022427897900343,-0.259328007698059,-0.193113937973976,-0.023157697170973,0.223023578524590,-0.174846813082695,-0.132029950618744,0.085974700748920,-0.029791450127959,-0.016149023547769,-0.144684016704559,0.142813548445702));
res += mul(Get(s2,dx,-dy), float4x4(0.152695432305336,-0.128449201583862,0.043711122125387,-0.112863078713417,-0.059012986719608,0.065807461738586,-0.033767204731703,-0.166676476597786,0.000057070908952,-0.346571743488312,-0.178215488791466,0.149260461330414,0.021979421377182,-0.181804969906807,0.078924134373665,-0.047424927353859));
res += mul(Get(s2,dx,0), float4x4(-0.185831472277641,-0.166323125362396,0.135165363550186,0.000870083924383,-0.079053312540054,0.053550787270069,-0.050733394920826,0.150568634271622,0.000470896891784,0.075953379273415,-0.015251236967742,0.102438241243362,0.136524215340614,-0.185658067464828,-0.225120469927788,-0.037986677139997));
res += mul(Get(s2,dx,dy), float4x4(0.068755589425564,-0.045819390565157,-0.131031140685081,-0.073659040033817,0.033693812787533,-0.184470668435097,-0.064752630889416,-0.128682002425194,0.049778278917074,-0.097641505300999,-0.085892863571644,-0.060115162283182,-0.134721636772156,0.117433123290539,-0.080769918859005,0.223602533340454));
res += mul(Get(s3,-dx,-dy), float4x4(0.086306542158127,0.033975556492805,0.122427828609943,0.174991145730019,-0.056339725852013,0.100615642964840,0.184567734599113,-0.109096966683865,0.001234631054103,0.044010620564222,-0.089896239340305,0.007901210337877,-0.178823277354240,0.016221495345235,-0.038133643567562,0.089891478419304));
res += mul(Get(s3,-dx,0), float4x4(-0.112453833222389,-0.177265271544456,-0.078010089695454,0.137025520205498,-0.081462591886520,-0.016616649925709,-0.078747712075710,0.092525266110897,0.036610934883356,0.062967717647552,-0.116792000830173,0.178669184446335,-0.066519364714622,-0.114924356341362,0.115658991038799,0.171526998281479));
res += mul(Get(s3,-dx,dy), float4x4(-0.151236325502396,0.040571510791779,-0.007969390600920,0.058487880975008,-0.001722518820316,0.009749268181622,-0.059171643108130,-0.083279021084309,-0.028067879378796,0.225250348448753,0.036510180681944,0.197710841894150,-0.181268513202667,-0.087426446378231,-0.040649015456438,0.205799683928490));
res += mul(Get(s3,0,-dy), float4x4(-0.211514830589294,0.056070100516081,0.031387750059366,0.013976949267089,-0.026966461911798,-0.068715907633305,-0.134606316685677,0.048902206122875,0.138344660401344,-0.246282577514648,-0.175287351012230,-0.021818280220032,-0.157852694392204,0.137742042541504,-0.099386751651764,-0.119114935398102));
res += mul(Get(s3,0,0), float4x4(0.007250056602061,0.037390943616629,-0.000813426799141,0.018800918012857,0.241910412907600,-0.174850568175316,0.065941706299782,-0.080575868487358,-0.079058632254601,-0.092279985547066,0.069862268865108,0.180937692523003,0.014654833823442,-0.028836177662015,0.027853928506374,0.114539451897144));
res += mul(Get(s3,0,dy), float4x4(-0.183323204517365,0.029949866235256,0.065579056739807,-0.032454449683428,0.115730494260788,-0.018598426133394,-0.054334409534931,-0.057623568922281,0.052710007876158,-0.095024921000004,0.049231123179197,-0.049682438373566,-0.101212352514267,0.041380997747183,0.037639632821083,-0.056715738028288));
res += mul(Get(s3,dx,-dy), float4x4(0.128547638654709,-0.178269818425179,-0.055000212043524,-0.174373179674149,0.215438246726990,-0.028699727728963,-0.139709517359734,-0.121138885617256,0.086601629853249,-0.175803840160370,-0.068768903613091,0.050655368715525,-0.209791183471680,0.088704213500023,0.022650510072708,-0.028049759566784));
res += mul(Get(s3,dx,0), float4x4(0.147517278790474,-0.169623389840126,0.008219388313591,0.044258125126362,0.005790341179818,0.148358553647995,0.075126066803932,0.045160345733166,0.154242739081383,-0.121937893331051,-0.187359869480133,0.143396869301796,0.232041537761688,-0.009863636456430,-0.179119393229485,-0.033013429492712));
res += mul(Get(s3,dx,dy), float4x4(0.025451103225350,-0.129818290472031,-0.281272888183594,-0.320171177387238,-0.031580142676830,0.011220902204514,-0.029928686097264,-0.092281192541122,0.145907521247864,-0.103352956473827,-0.101908721029758,-0.059246852993965,-0.190883696079254,0.047546382993460,-0.095957703888416,0.018763719126582));
return max(float4(0,0,0,0), res);
}
