sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.084956273436546,0.045848593115807,0.078576587140560,0.053819276392460,-0.066994957625866,0.082648314535618,0.077044144272804,-0.029855439439416,0.080928266048431,-0.024142976850271,-0.097349874675274,-0.047570753842592,0.054313044995070,0.181782782077789,-0.029694098979235,-0.036859259009361));
res += mul(Get(s0,-dx,0), float4x4(0.043733850121498,0.050841052085161,0.013851880095899,-0.006917858961970,-0.043749798089266,-0.019880671054125,-0.061308477073908,-0.099674247205257,0.029410257935524,0.041672639548779,0.007340102922171,0.114427775144577,-0.040817659348249,-0.004850441124290,0.058566242456436,-0.058670829981565));
res += mul(Get(s0,-dx,dy), float4x4(-0.024945691227913,0.102671250700951,0.009219088591635,-0.129504024982452,-0.025166124105453,-0.033397302031517,-0.070048376917839,-0.028017777949572,-0.046075083315372,0.046453308314085,0.087059184908867,0.041646879166365,0.017468154430389,0.169510915875435,-0.079957239329815,-0.025267457589507));
res += mul(Get(s0,0,-dy), float4x4(0.182770848274231,-0.036179970949888,0.020274423062801,0.114441551268101,-0.059238117188215,0.022602587938309,0.175957262516022,-0.038890853524208,0.001524777384475,-0.108975343406200,-0.023631662130356,-0.050798103213310,0.106422066688538,0.044506300240755,0.019653594121337,-0.080659829080105));
res += mul(Get(s0,0,0), float4x4(0.118709258735180,-0.004865316208452,0.017328396439552,0.010933241806924,-0.030998827889562,-0.110405489802361,0.075322374701500,-0.045905258506536,-0.031234884634614,-0.006368254311383,-0.002205058233812,-0.008449307642877,-0.036416880786419,-0.160039559006691,0.193650603294373,-0.021235464140773));
res += mul(Get(s0,0,dy), float4x4(0.008729130961001,-0.014932601712644,0.000875486643054,0.000243486210820,0.006387975066900,-0.131771788001060,0.050587106496096,-0.103103660047054,-0.072806298732758,0.131554082036018,0.022261410951614,0.040251065045595,0.108487002551556,-0.053995054215193,-0.000697581737768,0.050976049154997));
res += mul(Get(s0,dx,-dy), float4x4(0.111549712717533,0.018277527764440,-0.034817632287741,0.047381609678268,0.097762838006020,0.164602532982826,0.014718916267157,-0.054206304252148,-0.093544647097588,-0.041133109480143,0.053251974284649,-0.107766926288605,0.125386521220207,0.099669329822063,-0.167002812027931,0.160459116101265));
res += mul(Get(s0,dx,0), float4x4(-0.024754943326116,-0.023691320791841,-0.028290057554841,0.062772840261459,-0.051004052162170,0.058975592255592,-0.006063701584935,-0.045069552958012,-0.058388646692038,-0.074636869132519,-0.048082605004311,-0.018493946641684,0.018507920205593,0.029651444405317,-0.007059019524604,-0.000541913497727));
res += mul(Get(s0,dx,dy), float4x4(-0.043779592961073,-0.024118637666106,-0.014276453293860,-0.008353631012142,0.015773840248585,-0.040671750903130,0.032058861106634,-0.021574292331934,-0.104900859296322,0.034237351268530,0.025197021663189,0.041402168571949,0.135332584381104,0.070213459432125,-0.168983161449432,0.016023507341743));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023934373632073,0.036111194640398,-0.052735332399607,-0.073113419115543,-0.068596288561821,-0.085789635777473,-0.093557581305504,0.109370872378349,0.140031859278679,0.009516137652099,0.110114455223083,0.114106163382530,-0.038736604154110,-0.060488149523735,-0.007027595303953,0.046441357582808));
res += mul(Get(s1,-dx,0), float4x4(0.037668775767088,-0.046032022684813,-0.080124177038670,-0.054460175335407,-0.102938905358315,-0.075657367706299,0.099339447915554,0.098339080810547,0.067776888608932,-0.027294591069221,-0.044932015240192,-0.015297920443118,-0.004682956263423,-0.080321408808231,0.071729242801666,-0.045433942228556));
res += mul(Get(s1,-dx,dy), float4x4(-0.029975287616253,-0.095694124698639,0.059905633330345,-0.130719184875488,-0.075680129230022,0.073790006339550,-0.036398801952600,0.185221657156944,0.005785289686173,-0.132902964949608,0.074773199856281,-0.002855717437342,-0.033490020781755,-0.079390607774258,-0.015067704953253,-0.039051871746778));
res += mul(Get(s1,0,-dy), float4x4(-0.077025286853313,0.122698009014130,-0.031628824770451,-0.048329707235098,-0.062255885452032,-0.130668222904205,0.042422454804182,0.070531204342842,0.016717918217182,0.004064967855811,0.046482078731060,0.013841573148966,-0.050985485315323,0.012113591656089,-0.098228044807911,-0.064953461289406));
res += mul(Get(s1,0,0), float4x4(-0.059734247624874,0.097146973013878,-0.050087910145521,0.008110051043332,-0.096741832792759,0.028342865407467,-0.014659449458122,0.164178133010864,-0.012676124460995,0.016870319843292,-0.035817675292492,0.061698343604803,-0.055854085832834,-0.050242312252522,0.029026098549366,-0.060721039772034));
res += mul(Get(s1,0,dy), float4x4(-0.025204349309206,-0.021948875859380,0.000600325583946,-0.043000902980566,0.007503542117774,0.028353169560432,-0.013326931744814,0.077320992946625,-0.035996876657009,0.199951499700546,-0.119184546172619,0.059626653790474,0.040581289678812,-0.067957952618599,0.094367146492004,-0.083550833165646));
res += mul(Get(s1,dx,-dy), float4x4(0.004438100848347,0.155247136950493,0.006544444244355,-0.084947466850281,-0.007569889072329,-0.025984836742282,-0.022464655339718,0.038733858615160,0.009615624323487,-0.042856216430664,0.135442525148392,-0.000053429779655,0.064192883670330,0.187528192996979,-0.098015651106834,-0.096397541463375));
res += mul(Get(s1,dx,0), float4x4(-0.052670154720545,0.017862489446998,-0.055267665535212,-0.074560932815075,-0.080225639045238,-0.049761172384024,-0.026190217584372,0.166410580277443,0.070721603929996,0.068793661892414,0.036562446504831,0.016877571120858,0.000908060057554,0.056216295808554,-0.027392532676458,-0.126034587621689));
res += mul(Get(s1,dx,dy), float4x4(-0.029147924855351,0.007249250542372,0.034889969974756,0.000630482216366,-0.033148422837257,0.205217778682709,-0.070796273648739,0.106322892010212,0.131537869572639,0.129129990935326,-0.056278698146343,-0.018180647864938,0.147456035017967,-0.072162672877312,0.062304798513651,-0.104101873934269));
res += mul(Get(s2,-dx,-dy), float4x4(0.070656768977642,0.020770767703652,0.003005965612829,-0.085631102323532,0.134658336639404,0.034402113407850,-0.112678781151772,0.121472582221031,0.043253317475319,0.116192892193794,0.032773233950138,-0.130791783332825,-0.057257477194071,0.069129616022110,-0.021326389163733,-0.040579468011856));
res += mul(Get(s2,-dx,0), float4x4(-0.172839909791946,-0.063068598508835,-0.023873975500464,-0.030047448351979,0.099368646740913,-0.063031777739525,-0.052565004676580,-0.011300981976092,0.043268352746964,-0.034229975193739,0.026818782091141,-0.087564945220947,-0.105828449130058,-0.002845896640792,-0.099290497601032,-0.035425893962383));
res += mul(Get(s2,-dx,dy), float4x4(-0.049813076853752,0.033180106431246,0.014167537912726,-0.006151413545012,0.075462542474270,0.025593208149076,-0.008342306129634,-0.078272074460983,0.132778301835060,0.015024804510176,0.046968497335911,0.108652636408806,0.104619927704334,-0.072964645922184,-0.052097227424383,0.103715963661671));
res += mul(Get(s2,0,-dy), float4x4(-0.058387815952301,-0.034011885523796,0.057189531624317,-0.054021563380957,0.086878158152103,-0.061238303780556,-0.031948760151863,0.035950608551502,0.036403488367796,0.037373308092356,-0.108233593404293,-0.125592365860939,0.114816918969154,0.159125313162804,-0.033903200179338,-0.064942292869091));
res += mul(Get(s2,0,0), float4x4(-0.052231613546610,-0.107640668749809,0.008173451758921,-0.110418573021889,0.033677648752928,-0.032729901373386,0.062244608998299,0.043384972959757,-0.068816691637039,-0.025167420506477,-0.133293941617012,-0.181955903768539,0.010342427529395,-0.037229280918837,-0.038642052561045,-0.035266689956188));
res += mul(Get(s2,0,dy), float4x4(-0.115079849958420,0.023293770849705,-0.019576141610742,-0.007654818240553,0.027145175263286,-0.054885886609554,0.057759810239077,-0.032484278082848,-0.020469862967730,-0.054223500192165,-0.124708361923695,0.015422040596604,-0.024536417797208,-0.157692119479179,0.145104706287384,-0.011691333726048));
res += mul(Get(s2,dx,-dy), float4x4(0.010064742527902,0.034622453153133,-0.006154528353363,-0.000930704874918,0.009118073619902,-0.113747499883175,0.005945897195488,0.128978490829468,0.023521099239588,0.138506606221199,-0.000418187177274,-0.095781102776527,0.063283547759056,0.089485019445419,-0.007444664370269,0.036977913230658));
res += mul(Get(s2,dx,0), float4x4(-0.049361430108547,0.064808189868927,0.083655864000320,-0.063184820115566,0.021022515371442,-0.044969361275434,0.062490966171026,0.058983992785215,-0.005106693599373,-0.084784075617790,-0.049180638045073,-0.110384240746498,-0.021432191133499,-0.039313476532698,-0.024047134444118,0.006373612675816));
res += mul(Get(s2,dx,dy), float4x4(-0.110654138028622,0.051973804831505,0.059026345610619,0.036587391048670,0.078618645668030,-0.082305103540421,-0.032373841851950,0.119382739067078,0.038260921835899,-0.068152152001858,0.222974926233292,-0.032644767314196,0.022767437621951,-0.086530022323132,-0.105826668441296,-0.050414931029081));
res += mul(Get(s3,-dx,-dy), float4x4(0.097032733261585,0.058089755475521,-0.054972898215055,0.012073123827577,-0.126089736819267,-0.026257844641805,-0.095984488725662,-0.060994237661362,-0.170706570148468,-0.074956394731998,0.053003028035164,0.024036563932896,0.059779308736324,0.099435374140739,0.018714498728514,0.101540803909302));
res += mul(Get(s3,-dx,0), float4x4(-0.015664272010326,0.031585924327374,-0.066845871508121,-0.072736501693726,-0.118869639933109,-0.088620260357857,0.072504989802837,-0.051215901970863,-0.069215781986713,0.071328155696392,-0.019155906513333,-0.020053604617715,0.063595138490200,0.020569086074829,0.136597454547882,0.116935715079308));
res += mul(Get(s3,-dx,dy), float4x4(0.056314893066883,0.052259519696236,-0.026250304654241,-0.050255607813597,-0.093072339892387,-0.149011909961700,0.008938047103584,-0.004724188242108,-0.215300455689430,0.087795570492744,0.027823513373733,-0.151631861925125,-0.039049871265888,0.039698418229818,0.045191187411547,0.054478332400322));
res += mul(Get(s3,0,-dy), float4x4(0.137797966599464,0.031503491103649,-0.063353933393955,-0.031797535717487,-0.133158653974533,-0.044984884560108,-0.155933633446693,-0.105219200253487,-0.221822515130043,-0.123419612646103,0.054198551923037,0.023226123303175,-0.102389335632324,-0.011962804943323,0.091273598372936,0.035972941666842));
res += mul(Get(s3,0,0), float4x4(0.050725035369396,-0.035323314368725,-0.077261440455914,-0.023331189528108,0.032215714454651,-0.050482593476772,-0.022802200168371,0.111930496990681,-0.045060072094202,-0.014244629070163,-0.009801667183638,0.131192192435265,0.006822106894106,-0.098002254962921,0.261327445507050,0.135073542594910));
res += mul(Get(s3,0,dy), float4x4(0.117820844054222,-0.122445583343506,-0.044181585311890,-0.079483896493912,0.039204258471727,-0.127043530344963,0.087330721318722,0.011726757511497,-0.036318067461252,0.085963219404221,-0.034714456647635,-0.132496133446693,-0.045877911150455,0.010600104928017,0.079254366457462,0.011818467639387));
res += mul(Get(s3,dx,-dy), float4x4(0.024764498695731,-0.037986010313034,-0.024470828473568,-0.056366462260485,-0.039066735655069,0.096713870763779,-0.036559935659170,0.021778276190162,-0.187810465693474,-0.002728860126808,0.059316571801901,-0.078906141221523,0.003134500700980,0.139307305216789,-0.037454977631569,0.120187222957611));
res += mul(Get(s3,dx,0), float4x4(0.070541404187679,-0.169312670826912,-0.094415754079819,-0.150417119264603,-0.039387796074152,0.135181292891502,-0.083155289292336,-0.022131528705359,-0.058981575071812,0.028045527637005,0.014965453185141,0.039487063884735,-0.049438778311014,0.023056462407112,0.121368706226349,0.084736309945583));
res += mul(Get(s3,dx,dy), float4x4(0.076923698186874,-0.180019065737724,0.313357114791870,-0.115450769662857,-0.037141673266888,0.128358379006386,-0.032950170338154,0.053805492818356,-0.046522226184607,0.127908647060394,0.028993245214224,-0.123843260109425,-0.064258657395840,-0.027890820056200,-0.091739811003208,0.010824142955244));
return max(float4(0,0,0,0), res);
}
