sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.157615035772324,-0.069911621510983,-0.026768647134304,-0.000951782683842,0.045686468482018,-0.162102371454239,-0.060217447578907,-0.123855940997601,0.015460032969713,0.129307165741920,-0.021066414192319,0.064779818058014,0.011351737193763,0.022088227793574,0.104414127767086,0.142041921615601));
res += mul(Get(s0,-dx,0), float4x4(0.115719050168991,0.197887614369392,-0.152719900012016,0.033989895135164,0.098219305276871,-0.081626713275909,0.019383823499084,-0.035022050142288,-0.078540384769440,0.022788750007749,0.032438572496176,0.206803724169731,-0.055657565593719,0.157958030700684,0.058997020125389,-0.034189689904451));
res += mul(Get(s0,-dx,dy), float4x4(-0.112547539174557,-0.026000497862697,0.042936120182276,0.102844700217247,0.043102301657200,0.068650752305984,0.037547942250967,0.086645320057869,0.223016604781151,0.248742967844009,-0.017544765025377,0.182923883199692,-0.068579353392124,0.152474671602249,0.000170182276634,-0.141923621296883));
res += mul(Get(s0,0,-dy), float4x4(0.031627725809813,-0.173431307077408,0.026610514149070,-0.087615691125393,0.244546562433243,-0.198921695351601,-0.078635275363922,0.071427017450333,0.246695667505264,0.031798388808966,0.034944016486406,0.011804294772446,0.012680574320257,0.076306432485580,-0.026800721883774,0.232909291982651));
res += mul(Get(s0,0,0), float4x4(-0.098731428384781,0.095912292599678,0.031152030453086,-0.009749417193234,0.068970240652561,-0.054266575723886,0.026394259184599,0.146500155329704,0.197899952530861,0.069526836276054,0.078760057687759,0.116669438779354,0.110558003187180,0.043983746320009,-0.116783119738102,0.114799469709396));
res += mul(Get(s0,0,dy), float4x4(-0.049226377159357,-0.024034043774009,0.095591835677624,0.091002754867077,-0.017727386206388,0.029137076810002,-0.057682029902935,-0.115321800112724,-0.110707655549049,0.112901143729687,-0.040781356394291,0.074495524168015,0.192510291934013,-0.067944876849651,0.060004450380802,-0.132838964462280));
res += mul(Get(s0,dx,-dy), float4x4(0.115379072725773,0.030910583212972,-0.166825413703918,0.008150492794812,-0.120658576488495,-0.067228563129902,0.008609693497419,0.040009200572968,-0.025617403909564,0.155593052506447,0.253405898809433,0.065662086009979,0.086527556180954,-0.020203994587064,0.144995927810669,0.222399890422821));
res += mul(Get(s0,dx,0), float4x4(0.082118511199951,-0.083570681512356,-0.146139234304428,-0.118663020431995,-0.041702922433615,-0.092503182590008,0.029790980741382,0.122056730091572,-0.194843545556068,0.055050399154425,0.075686082243919,0.161598548293114,0.227205246686935,-0.040573477745056,-0.030171943828464,0.192507341504097));
res += mul(Get(s0,dx,dy), float4x4(0.042843040078878,-0.228851646184921,0.095018982887268,-0.190856620669365,-0.129200369119644,0.008598354645073,-0.049780610948801,-0.126362442970276,0.085774779319763,-0.010060465894639,0.053896162658930,0.010603409260511,0.127149119973183,-0.055296968668699,-0.332405447959900,-0.036415338516235));
res += mul(Get(s1,-dx,-dy), float4x4(-0.041058700531721,0.007481664419174,0.011614265851676,0.154229089617729,0.018124952912331,-0.028998084366322,0.253874093294144,-0.055709920823574,-0.042399380356073,0.085032507777214,0.108291402459145,-0.092859849333763,-0.099080152809620,-0.003412635065615,-0.144264817237854,-0.055139336735010));
res += mul(Get(s1,-dx,0), float4x4(-0.155274242162704,0.157907009124756,-0.111295066773891,-0.159031152725220,-0.024783888831735,-0.089646995067596,-0.185984417796135,0.123212054371834,-0.132388785481453,0.050323013216257,-0.082755200564861,0.070177994668484,0.020827269181609,-0.188566237688065,0.057425681501627,-0.053677652031183));
res += mul(Get(s1,-dx,dy), float4x4(0.061215817928314,-0.069962419569492,0.135213941335678,-0.120561547577381,0.049647875130177,-0.005072020459920,-0.062062464654446,-0.045471955090761,0.242186114192009,-0.084232904016972,-0.013455745764077,0.173629000782967,0.044885113835335,-0.088430970907211,-0.078119874000549,-0.004851742181927));
res += mul(Get(s1,0,-dy), float4x4(-0.049629334360361,-0.221083715558052,-0.024570977315307,-0.030896350741386,0.110887542366982,-0.094916597008705,-0.099353902041912,0.062376655638218,-0.020746145397425,0.099247969686985,0.115699015557766,0.006837399210781,0.049242064356804,-0.084373585879803,-0.092450082302094,0.129552662372589));
res += mul(Get(s1,0,0), float4x4(-0.049311451613903,0.135831668972969,0.005602658726275,-0.058822840452194,-0.011495947837830,0.005450798198581,0.078212358057499,0.212941586971283,-0.176520645618439,0.013452904298902,-0.141222730278969,-0.054956082254648,0.047194268554449,-0.077381983399391,-0.163953319191933,0.183662429451942));
res += mul(Get(s1,0,dy), float4x4(0.079814560711384,-0.088543497025967,0.014447919093072,-0.019903764128685,-0.108990438282490,0.083213984966278,0.026820434257388,0.077793680131435,0.108832530677319,0.021454935893416,-0.072949491441250,-0.040037140250206,-0.136494040489197,-0.093519859015942,-0.114842645823956,0.007970597594976));
res += mul(Get(s1,dx,-dy), float4x4(-0.110844433307648,-0.134795859456062,-0.136523887515068,0.106864027678967,0.101766325533390,-0.074363529682159,-0.054491162300110,-0.155400216579437,0.025180488824844,0.131496593356133,0.008753053843975,-0.094463989138603,0.057131964713335,0.030585164204240,-0.160627692937851,0.011510243639350));
res += mul(Get(s1,dx,0), float4x4(-0.027925826609135,0.058254241943359,0.024512866511941,0.072431892156601,-0.013221012428403,0.036929503083229,-0.076929472386837,0.078857846558094,0.034110467880964,0.074481904506683,-0.014253569766879,-0.063522107899189,-0.135942712426186,0.055717442184687,-0.187431827187538,0.092464193701744));
res += mul(Get(s1,dx,dy), float4x4(-0.017605079337955,-0.013443400152028,-0.085252679884434,0.005987497046590,-0.139467343688011,-0.127353623509407,-0.093543529510498,-0.018487585708499,-0.083559319376945,-0.097268648445606,-0.072144806385040,0.078794836997986,-0.030417738482356,0.003736604936421,0.195997104048729,0.089271500706673));
res += mul(Get(s2,-dx,-dy), float4x4(0.172325491905212,-0.156804367899895,-0.137614935636520,-0.145361542701721,0.018478143960238,-0.004473828244954,-0.009707708843052,0.152623325586319,-0.134953066706657,-0.067932464182377,0.080201573669910,-0.012714725919068,0.006161345634609,0.143443331122398,0.079974293708801,0.017357386648655));
res += mul(Get(s2,-dx,0), float4x4(0.168999522924423,0.103154137730598,-0.148433566093445,-0.031101146712899,-0.144086822867393,-0.096284486353397,-0.086722932755947,-0.099619269371033,-0.035077370703220,-0.115421585738659,-0.036942981183529,-0.051935784518719,0.022442370653152,0.129763379693031,-0.064579293131828,-0.186416774988174));
res += mul(Get(s2,-dx,dy), float4x4(-0.200873181223869,-0.026818677783012,0.038895532488823,-0.105746924877167,0.016028363257647,-0.004283635877073,-0.038205679506063,-0.098489888012409,0.004617655184120,-0.054842974990606,-0.048089925199747,0.103978984057903,0.037577167153358,0.097345188260078,0.126401990652084,-0.167654857039452));
res += mul(Get(s2,0,-dy), float4x4(0.083620481193066,-0.041668355464935,-0.072818614542484,0.175045683979988,0.044826321303844,-0.177828088402748,0.107365965843201,0.001028612605296,-0.111712642014027,-0.008522663265467,-0.080729573965073,-0.046435013413429,-0.063763156533241,0.122755989432335,0.099520862102509,0.136584773659706));
res += mul(Get(s2,0,0), float4x4(-0.107215337455273,-0.089546538889408,-0.221608504652977,0.273634403944016,-0.018633332103491,-0.066313423216343,0.113010816276073,0.050027303397655,-0.123756594955921,-0.012969030067325,0.017126191407442,-0.157256424427032,0.133450925350189,0.025051942095160,-0.101776473224163,-0.017517855390906));
res += mul(Get(s2,0,dy), float4x4(-0.058417651802301,0.094982929527760,-0.099860318005085,0.029812691733241,0.097043119370937,-0.133981555700302,0.052879117429256,0.068703040480614,-0.082442387938499,-0.229060336947441,0.048063527792692,-0.051297061145306,0.148292854428291,-0.082061126828194,-0.086433298885822,-0.309840738773346));
res += mul(Get(s2,dx,-dy), float4x4(0.061702791601419,0.158657655119896,-0.140464022755623,0.106567479670048,0.005956654436886,-0.090630464255810,0.077209040522575,-0.001542037120089,-0.078901544213295,-0.087090976536274,0.003074813168496,-0.028013607487082,0.176358357071877,0.090776324272156,0.120176449418068,0.006291561760008));
res += mul(Get(s2,dx,0), float4x4(-0.154527872800827,0.095048286020756,-0.238782167434692,0.078811354935169,0.128501176834106,-0.088456138968468,0.066538140177727,0.073380783200264,-0.015622280538082,-0.076292470097542,0.258189648389816,-0.163192659616470,0.090694226324558,-0.162363082170486,-0.058466836810112,-0.195690259337425));
res += mul(Get(s2,dx,dy), float4x4(-0.057394102215767,0.067507371306419,-0.253289908170700,0.220724597573280,-0.074506297707558,-0.062929064035416,-0.108089037239552,-0.010128160938621,-0.000415241724113,-0.158454164862633,-0.019874922931194,-0.018222279846668,-0.019790640100837,-0.028628570958972,-0.086560308933258,-0.153268352150917));
res += mul(Get(s3,-dx,-dy), float4x4(-0.049136888235807,0.134683489799500,0.114065736532211,-0.104049965739250,-0.009500705637038,0.042640723288059,0.206123560667038,-0.018297325819731,0.125609219074249,0.038982015103102,-0.041838660836220,-0.030306410044432,-0.126454323530197,-0.042269125580788,-0.003160477848724,0.007072660606354));
res += mul(Get(s3,-dx,0), float4x4(-0.101282447576523,-0.025779508054256,0.000085424617282,0.113856136798859,0.100909262895584,-0.011365190148354,0.004512543790042,-0.076153278350830,0.049391273409128,-0.025387927889824,0.085374288260937,0.076486095786095,-0.040945433080196,0.137189313769341,-0.037300266325474,0.079823724925518));
res += mul(Get(s3,-dx,dy), float4x4(-0.126762390136719,0.020936021581292,0.116173207759857,-0.065874323248863,0.040365118533373,-0.274298846721649,0.047704506665468,0.092467404901981,-0.021970611065626,0.153506010770798,-0.026123287156224,-0.026591004803777,-0.278063684701920,-0.009553959593177,0.034586429595947,0.009839824400842));
res += mul(Get(s3,0,-dy), float4x4(-0.139315530657768,-0.045024637132883,0.107235968112946,-0.057531986385584,-0.143335849046707,0.134029731154442,-0.146502777934074,-0.043073158711195,-0.102320685982704,0.047131195664406,-0.012489607557654,0.003651749575511,-0.306956142187119,0.005179649684578,-0.082556985318661,-0.034267876297235));
res += mul(Get(s3,0,0), float4x4(0.134834080934525,-0.133127704262733,-0.112886928021908,0.087744235992432,0.098102249205112,-0.180994972586632,0.246495380997658,-0.115450806915760,0.022694902494550,-0.078275114297867,0.033037409186363,0.068181015551090,-0.344083517789841,0.049475107342005,-0.051363185048103,0.074845314025879));
res += mul(Get(s3,0,dy), float4x4(0.062057185918093,-0.104930922389030,0.058057349175215,0.001413205172867,0.231631740927696,-0.003206932917237,-0.123495019972324,-0.051628258079290,-0.030596962198615,-0.023012295365334,0.189409688115120,0.170195192098618,-0.109360665082932,0.063142165541649,-0.001445132773370,0.068201743066311));
res += mul(Get(s3,dx,-dy), float4x4(-0.082314737141132,0.163596078753471,-0.093082830309868,0.141152173280716,-0.012646707706153,0.133348822593689,0.115074381232262,0.054654367268085,0.003714312333614,0.012876247055829,-0.016014019027352,0.088096663355827,-0.081926487386227,-0.027801452204585,-0.208126559853554,0.026459539309144));
res += mul(Get(s3,dx,0), float4x4(-0.078647285699844,0.146048262715340,-0.016020484268665,0.035842418670654,-0.069310128688812,-0.107855357229710,0.083951361477375,0.005214932374656,-0.038365639746189,0.008825426921248,-0.054554179310799,-0.013832924887538,0.113011762499809,-0.090745307505131,-0.127722233533859,-0.128442555665970));
res += mul(Get(s3,dx,dy), float4x4(0.009251353330910,0.121987491846085,-0.058022119104862,0.072833418846130,-0.148360952734947,0.079490989446640,0.114337928593159,0.081093914806843,0.057500217109919,0.216012686491013,-0.050274629145861,0.028523173183203,0.045499004423618,-0.111584357917309,0.005522111430764,-0.049641191959381));
return max(float4(0,0,0,0), res);
}
