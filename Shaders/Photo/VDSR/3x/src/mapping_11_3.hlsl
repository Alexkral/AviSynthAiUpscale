sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.096471093595028,0.041100129485130,-0.087617576122284,0.111037135124207,0.013327730819583,-0.053664553910494,0.008077542297542,0.050599712878466,-0.156440287828445,0.049242090433836,0.258230179548264,-0.075668096542358,-0.129827588796616,-0.001292517757975,-0.027691805735230,0.039565622806549));
res += mul(Get(s0,-dx,0), float4x4(0.018688324838877,0.003664914285764,-0.072418525815010,-0.136099949479103,0.006294441409409,-0.005603966303170,0.151131674647331,-0.077636756002903,-0.079141505062580,-0.017485674470663,0.033944066613913,-0.127551943063736,0.028818244114518,-0.008814459666610,0.216320976614952,-0.033022791147232));
res += mul(Get(s0,-dx,dy), float4x4(-0.027061309665442,0.049922011792660,0.140166804194450,-0.095007538795471,0.142811655998230,-0.019421413540840,-0.135389208793640,-0.129093974828720,0.015723409131169,-0.008218998089433,-0.007912170141935,-0.137527450919151,0.118254631757736,-0.055027637630701,-0.199308320879936,-0.114127695560455));
res += mul(Get(s0,0,-dy), float4x4(-0.003676495514810,-0.014404063113034,-0.102443128824234,0.081896118819714,0.007846896536648,-0.011833569966257,-0.024943003430963,-0.003446909831837,-0.039606712758541,0.108341954648495,0.010300704278052,-0.040427781641483,-0.080621257424355,-0.013670730404556,0.001950324862264,0.042781364172697));
res += mul(Get(s0,0,0), float4x4(-0.114961586892605,-0.057868830859661,-0.088127195835114,0.012050789780915,-0.071294717490673,-0.028037684038281,-0.078604258596897,0.014751016162336,0.045014787465334,0.014807639643550,-0.114613480865955,-0.059430170804262,-0.027688963338733,0.025570442900062,0.219652190804482,-0.135024651885033));
res += mul(Get(s0,0,dy), float4x4(-0.059682309627533,-0.013505831360817,-0.045603334903717,-0.036955878138542,-0.017087861895561,-0.054527513682842,-0.156350955367088,-0.089175134897232,-0.064008362591267,0.077242605388165,0.092366516590118,-0.119113884866238,-0.114048108458519,-0.016526656225324,-0.097545653581619,-0.197714358568192));
res += mul(Get(s0,dx,-dy), float4x4(-0.045470677316189,0.177504807710648,0.009419118985534,0.068452954292297,-0.112795390188694,0.054073728621006,-0.063588723540306,-0.040835700929165,-0.128344103693962,0.077096246182919,0.030270999297500,-0.014667709358037,-0.129291206598282,-0.063970081508160,0.096345588564873,-0.011517959646881));
res += mul(Get(s0,dx,0), float4x4(-0.139089167118073,-0.022351058200002,-0.029579875990748,-0.075569368898869,-0.114775329828262,0.028827426955104,-0.081273980438709,0.098806962370872,-0.067882627248764,0.123565882444382,0.129717111587524,-0.029371198266745,0.092128582298756,-0.053399302065372,0.029744355008006,0.159962877631187));
res += mul(Get(s0,dx,dy), float4x4(-0.128448680043221,0.048763047903776,-0.023929556831717,-0.008981706574559,-0.103845395147800,0.067032843828201,-0.088538601994514,0.041561983525753,0.070692420005798,0.050220742821693,-0.059248227626085,-0.028758876025677,0.017742751166224,-0.094578713178635,-0.100413843989372,0.091935805976391));
res += mul(Get(s1,-dx,-dy), float4x4(0.027479218319058,0.013228968717158,0.075697369873524,0.040747571736574,0.015200804919004,0.044453505426645,-0.048404097557068,0.081719033420086,-0.052511334419250,0.029064318165183,-0.003828474087641,0.037478893995285,0.050862908363342,0.011381126940250,-0.052781615406275,-0.013321381062269));
res += mul(Get(s1,-dx,0), float4x4(-0.000746491539758,0.028407895937562,0.055644612759352,-0.017280125990510,0.088052272796631,-0.035297598689795,-0.019669840112329,0.055058710277081,0.020041117444634,0.018343159928918,0.089107207953930,-0.062524355947971,-0.040083661675453,0.034364610910416,0.007146201562136,0.023563936352730));
res += mul(Get(s1,-dx,dy), float4x4(-0.078038215637207,-0.051774267107248,-0.052770636975765,0.054208874702454,-0.085723243653774,-0.063312560319901,-0.095322050154209,-0.032848257571459,0.051901929080486,0.035256858915091,0.031865037977695,-0.148155853152275,0.005209601949900,0.019489411264658,0.043319717049599,-0.006117997691035));
res += mul(Get(s1,0,-dy), float4x4(0.083148360252380,-0.032897036522627,0.135515868663788,0.061119403690100,0.067922629415989,0.003020583884791,-0.011648347601295,0.165234893560410,0.216373115777969,0.159717127680779,0.164983928203583,-0.057160723954439,0.112365536391735,0.029787274077535,-0.085870407521725,0.014989278279245));
res += mul(Get(s1,0,0), float4x4(0.047411728650331,-0.008954184129834,0.039774484932423,-0.013667309656739,-0.034364305436611,0.010119260288775,-0.018717974424362,0.179952740669250,0.193958446383476,-0.011748883873224,-0.098105713725090,-0.029023591428995,0.072563678026199,0.107031844556332,-0.029458448290825,-0.048718072474003));
res += mul(Get(s1,0,dy), float4x4(0.299396038055420,-0.011617635376751,0.013012777082622,-0.055912993848324,0.005001411773264,-0.048566989600658,-0.074072092771530,-0.090031780302525,0.018389513716102,0.001265794271603,-0.040710650384426,0.042869288474321,-0.032174270600080,-0.021774604916573,0.039901625365019,0.017170863226056));
res += mul(Get(s1,dx,-dy), float4x4(-0.034819032996893,-0.028899090364575,0.079813607037067,0.218054503202438,-0.029543064534664,-0.123064599931240,0.100368969142437,0.059607364237309,-0.200193241238594,0.153564915060997,-0.109157525002956,-0.092520110309124,-0.059465777128935,0.019919984042645,0.001533269183710,-0.033585067838430));
res += mul(Get(s1,dx,0), float4x4(-0.084467098116875,-0.061357472091913,-0.012100791558623,0.049043346196413,-0.050010122358799,-0.032580882310867,0.085381500422955,0.168007478117943,-0.086633577942848,0.058310788124800,-0.137489452958107,-0.030478633940220,-0.037510491907597,0.324918299913406,-0.101924501359463,0.015880504623055));
res += mul(Get(s1,dx,dy), float4x4(-0.065222367644310,-0.094418793916702,-0.039991658180952,0.007534919772297,0.034620508551598,-0.163304671645164,0.049869399517775,-0.127249732613564,-0.177840456366539,0.030654912814498,-0.131501093506813,0.025311868637800,-0.086738169193268,0.031278107315302,-0.008704792708158,0.013819499872625));
res += mul(Get(s2,-dx,-dy), float4x4(0.087090395390987,-0.041074756532907,0.090511538088322,-0.043061099946499,-0.009933914989233,-0.028085259720683,0.097986713051796,0.021455960348248,-0.060166180133820,0.029017433524132,-0.007373209577054,-0.053178936243057,-0.033853117376566,-0.010377312079072,0.030123976990581,0.004350163973868));
res += mul(Get(s2,-dx,0), float4x4(0.067255072295666,0.050064455717802,0.067654475569725,-0.015097452327609,-0.022093730047345,-0.020823854953051,0.201167061924934,-0.064928188920021,0.178115963935852,0.024595452472568,-0.000944127910770,-0.003057987662032,0.073628224432468,-0.039280645549297,-0.017035679891706,-0.016296798363328));
res += mul(Get(s2,-dx,dy), float4x4(-0.000100972814835,-0.068723849952221,0.083796501159668,-0.146600067615509,0.025537451729178,-0.042471740394831,0.036972016096115,-0.109778046607971,0.099485270678997,-0.089752338826656,0.014222364872694,-0.148537293076515,0.030822018161416,-0.015676327049732,-0.034288298338652,-0.047683350741863));
res += mul(Get(s2,0,-dy), float4x4(-0.140399992465973,-0.030569929629564,0.075499020516872,0.153125762939453,0.028942568227649,-0.000469211256132,0.123359128832817,0.173897117376328,-0.045855715870857,-0.160199299454689,-0.024691922590137,0.021967463195324,-0.032878201454878,0.046973302960396,-0.065741702914238,0.133672907948494));
res += mul(Get(s2,0,0), float4x4(-0.042285405099392,0.054709136486053,0.061214894056320,0.182271271944046,0.151020944118500,-0.045511417090893,-0.027606032788754,0.077631555497646,-0.064408481121063,-0.027120498940349,-0.026066217571497,0.101534307003021,-0.042876198887825,0.030784450471401,-0.004556791856885,0.071695894002914));
res += mul(Get(s2,0,dy), float4x4(-0.107206784188747,0.079529248178005,0.081689722836018,0.037863466888666,-0.098859354853630,-0.047778259962797,-0.080146841704845,-0.063237205147743,-0.046727441251278,-0.160667523741722,-0.028300536796451,0.009119465947151,-0.025806983932853,-0.044863779097795,-0.047659683972597,0.084692597389221));
res += mul(Get(s2,dx,-dy), float4x4(-0.090899415314198,-0.093636259436607,-0.038134027272463,0.007662538439035,-0.064881771802902,-0.000391748704715,0.021490829065442,0.164584815502167,-0.079919546842575,0.177139103412628,-0.027828851714730,-0.079467587172985,0.123630128800869,0.008663489483297,-0.108772628009319,0.092149883508682));
res += mul(Get(s2,dx,0), float4x4(-0.054633226245642,-0.111737459897995,-0.046844143420458,0.058784820139408,-0.082168079912663,-0.081295333802700,-0.038496006280184,-0.022773955017328,-0.104208141565323,0.142120257019997,-0.052311230450869,-0.001195093151182,0.102668434381485,-0.005807875655591,-0.009978620335460,-0.053006924688816));
res += mul(Get(s2,dx,dy), float4x4(-0.103393852710724,-0.008388211019337,-0.018967011943460,-0.031119132414460,-0.185987010598183,-0.035377383232117,-0.044088471680880,-0.038085099309683,-0.044551786035299,-0.059397187083960,-0.102837860584259,-0.057225491851568,0.090197063982487,-0.043079163879156,-0.096044957637787,0.001278508687392));
res += mul(Get(s3,-dx,-dy), float4x4(-0.094762206077576,0.001118790591136,-0.019542537629604,0.059828706085682,0.010776672512293,0.079203866422176,-0.059058591723442,-0.027748227119446,0.032645959407091,0.035996049642563,0.018069101497531,-0.001742139109410,0.029894001781940,-0.014950923621655,0.105853550136089,-0.005105396267027));
res += mul(Get(s3,-dx,0), float4x4(-0.052095267921686,-0.019120413810015,-0.083830952644348,0.052687149494886,0.085600256919861,0.007170167285949,-0.066045507788658,-0.059725675731897,-0.028467372059822,0.071479335427284,0.029724899679422,-0.028830906376243,0.110606335103512,-0.011338884942234,-0.005858055781573,-0.101563729345798));
res += mul(Get(s3,-dx,dy), float4x4(-0.034900467842817,0.060811568051577,-0.054129157215357,0.027226384729147,-0.065925665199757,-0.054205454885960,0.194501012563705,-0.137045785784721,-0.009608423337340,-0.017133250832558,-0.067171797156334,-0.132815718650818,0.061912786215544,-0.048699077218771,-0.012256456539035,-0.005869242828339));
res += mul(Get(s3,0,-dy), float4x4(0.197370812296867,-0.131158560514450,0.019309634342790,0.077980779111385,-0.038480967283249,0.072405442595482,-0.012981340289116,0.124690569937229,0.176091551780701,0.028839370235801,0.025767700746655,0.115167848765850,0.312126964330673,-0.005246484186500,-0.113006934523582,0.030623253434896));
res += mul(Get(s3,0,0), float4x4(0.191140249371529,-0.125828564167023,-0.085279934108257,0.045248400419950,0.025247093290091,0.003713380079716,-0.028218137100339,-0.051201056689024,0.091118201613426,-0.047012284398079,0.036905113607645,0.151258826255798,-0.091871254146099,-0.014003421179950,-0.096050955355167,-0.170579075813293));
res += mul(Get(s3,0,dy), float4x4(0.056047599762678,0.044330742210150,0.097249418497086,-0.039222165942192,-0.011301755905151,-0.131822004914284,-0.027669403702021,-0.082607716321945,0.040951572358608,-0.021996770054102,0.074760265648365,-0.043748784810305,0.118406645953655,0.037531893700361,-0.068745926022530,0.029089845716953));
res += mul(Get(s3,dx,-dy), float4x4(-0.150465533137321,0.307390838861465,0.051228921860456,-0.093296259641647,-0.167486235499382,0.006263665854931,-0.060176339000463,0.131172522902489,-0.033179946243763,0.104890778660774,-0.015296518802643,-0.053237341344357,-0.020216150209308,0.038516905158758,-0.007660343777388,0.069030351936817));
res += mul(Get(s3,dx,0), float4x4(-0.127360239624977,-0.094446651637554,0.054796032607555,-0.040890425443649,-0.130837038159370,-0.028678441420197,-0.024763334542513,0.107281371951103,-0.096189253032207,0.140477553009987,-0.191995546221733,0.043391041457653,-0.114664345979691,-0.005390615668148,-0.049156356602907,-0.019249487668276));
res += mul(Get(s3,dx,dy), float4x4(-0.154082089662552,-0.025548920035362,0.053921543061733,-0.034271143376827,0.019258556887507,-0.027922779321671,-0.040129996836185,-0.071235686540604,-0.099989794194698,-0.093000225722790,-0.025414416566491,-0.055899381637573,-0.079783819615841,-0.061102055013180,-0.024801969528198,0.016639275476336));
return max(float4(0,0,0,0), res);
}
