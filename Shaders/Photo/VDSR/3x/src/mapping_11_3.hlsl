sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.004742584656924,-0.084066003561020,-0.061776451766491,-0.062936976552010,-0.018698075786233,-0.132770091295242,0.053260397166014,-0.126378491520882,-0.064477011561394,-0.064691454172134,0.014404421672225,0.058396212756634,-0.085864759981632,-0.006896384991705,0.074224367737770,0.083096347749233));
res += mul(Get(s0,-dx,0), float4x4(0.039170030504465,0.064593762159348,-0.001425434253179,0.040333718061447,-0.041514940559864,-0.057661846280098,0.023465259000659,0.073698073625565,0.002664989791811,0.050541717559099,-0.085047706961632,0.021942311897874,-0.020901286974549,0.078601874411106,0.112232632935047,0.050600349903107));
res += mul(Get(s0,-dx,dy), float4x4(0.016011226922274,0.119664460420609,0.194317877292633,-0.024581300094724,-0.137623608112335,0.075320132076740,-0.007385651580989,-0.164821460843086,-0.016508974134922,-0.104396775364876,0.039317131042480,-0.110879823565483,0.045936774462461,-0.017504122108221,-0.035915903747082,-0.021522080525756));
res += mul(Get(s0,0,-dy), float4x4(0.013774746097624,-0.092103078961372,0.156743124127388,-0.024278078228235,-0.129116177558899,0.046241428703070,-0.052704814821482,0.031111620366573,-0.035013101994991,-0.009626120328903,-0.047225657850504,0.261271059513092,0.086416840553284,-0.053783599287271,0.046346396207809,-0.195835486054420));
res += mul(Get(s0,0,0), float4x4(-0.188800990581512,0.091111280024052,-0.057201065123081,0.001170044997707,-0.043617956340313,-0.031467564404011,-0.043464757502079,0.022429773584008,0.032067988067865,0.062189064919949,0.009904237464070,0.069652915000916,0.017131647095084,0.041609197854996,-0.210322871804237,-0.118726044893265));
res += mul(Get(s0,0,dy), float4x4(-0.183051779866219,0.072198517620564,0.028529481962323,0.018701711669564,0.126209050416946,-0.045506238937378,0.091733939945698,-0.020769877359271,0.148568809032440,-0.067027881741524,0.090020775794983,0.010942842811346,0.052809733897448,-0.116016022861004,0.008884538896382,0.030657654628158));
res += mul(Get(s0,dx,-dy), float4x4(0.248599484562874,-0.069706059992313,0.061636805534363,-0.137269243597984,-0.020951410755515,-0.053878422826529,0.028061931952834,0.107587777078152,-0.149981349706650,0.114881739020348,0.036097005009651,-0.048341486603022,0.049048691987991,-0.061316926032305,0.065391041338444,0.040990713983774));
res += mul(Get(s0,dx,0), float4x4(-0.061879232525826,-0.041293449699879,0.112493507564068,-0.156677544116974,0.177380070090294,-0.096183054149151,-0.154483675956726,-0.003335157874972,-0.127404764294624,0.013205357827246,0.050126861780882,-0.038297031074762,0.134839236736298,0.194900214672089,-0.026706671342254,-0.011229486204684));
res += mul(Get(s0,dx,dy), float4x4(0.056894503533840,0.042465981096029,-0.300758123397827,0.038406863808632,0.181787401437759,0.112841457128525,0.221018254756927,-0.074992619454861,-0.188238203525543,-0.039264034479856,0.086765080690384,-0.045360747724771,0.170095488429070,0.025737905874848,-0.050980672240257,-0.066318586468697));
res += mul(Get(s1,-dx,-dy), float4x4(-0.062778070569038,0.053305916488171,0.004331188276410,-0.084556289017200,0.018638553097844,0.045075707137585,0.198732808232307,-0.005167137831450,-0.039143532514572,-0.257671982049942,-0.022485041990876,0.082963749766350,-0.060712043195963,-0.189471289515495,-0.130389213562012,-0.154935434460640));
res += mul(Get(s1,-dx,0), float4x4(0.073273569345474,0.072936601936817,-0.108453236520290,-0.103399559855461,0.136072650551796,0.086518101394176,0.061511859297752,0.063756912946701,0.085655957460403,0.011115615256131,-0.019584316760302,0.068343304097652,-0.061957500874996,-0.241497814655304,-0.103954762220383,0.117124445736408));
res += mul(Get(s1,-dx,dy), float4x4(0.040535829961300,0.007499992381781,-0.010857372544706,0.028821213170886,0.005804493557662,0.147797942161560,0.149331808090210,0.005577818490565,-0.049083229154348,-0.118665337562561,0.027408173307776,0.123197354376316,0.033276639878750,0.124122343957424,0.176195710897446,0.054078530520201));
res += mul(Get(s1,0,-dy), float4x4(0.008346642367542,0.024176631122828,-0.006976693402976,-0.052747301757336,-0.017947299405932,0.284066736698151,0.135411351919174,0.092379346489906,-0.120310753583908,0.007458854001015,-0.121647439897060,0.115554437041283,-0.142974853515625,-0.109101936221123,-0.091353006660938,0.037315815687180));
res += mul(Get(s1,0,0), float4x4(0.055993050336838,0.198276862502098,-0.010155539959669,-0.154689610004425,0.065749891102314,-0.123640008270741,0.034148287028074,0.098400115966797,-0.015464165247977,-0.044321577996016,0.044325549155474,-0.043404240161180,-0.199050217866898,-0.173616692423820,0.014611021615565,0.110347755253315));
res += mul(Get(s1,0,dy), float4x4(0.042053524404764,-0.098409436643124,-0.023368891328573,0.061467304825783,-0.160152360796928,0.000897817837540,0.077236801385880,0.074615493416786,-0.067925207316875,0.058216206729412,0.116920217871666,-0.104842498898506,-0.098665691912174,0.011098902672529,0.184087365865707,0.307093173265457));
res += mul(Get(s1,dx,-dy), float4x4(0.078864187002182,0.041818175464869,-0.132026821374893,-0.025357715785503,-0.085305161774158,0.174015164375305,-0.040814708918333,0.024946585297585,0.056399829685688,-0.060841187834740,-0.074862733483315,0.095399878919125,-0.068360812962055,0.166807129979134,0.128046035766602,0.029163897037506));
res += mul(Get(s1,dx,0), float4x4(0.140791296958923,-0.043504733592272,-0.036594741046429,-0.098411895334721,-0.165927574038506,-0.159824103116989,0.076115936040878,0.017439479008317,-0.088378310203552,0.113421164453030,-0.093335404992104,-0.108753941953182,0.065351381897926,-0.026254525408149,0.062884382903576,-0.045966178178787));
res += mul(Get(s1,dx,dy), float4x4(0.031335521489382,0.167393401265144,0.074147805571556,-0.258715122938156,-0.029295211657882,0.029206223785877,0.215971589088440,-0.084909230470657,0.181845858693123,0.308903008699417,0.137555435299873,-0.160939231514931,-0.079264082014561,0.017934544011950,-0.020841188728809,-0.074491523206234));
res += mul(Get(s2,-dx,-dy), float4x4(0.063727147877216,0.003290634602308,-0.097047634422779,-0.011422547511756,-0.044170342385769,0.031691722571850,0.145720049738884,0.007132242899388,-0.022314166650176,-0.097779713571072,0.058508045971394,-0.122777007520199,-0.186369255185127,0.219413593411446,-0.116226539015770,0.003557699266821));
res += mul(Get(s2,-dx,0), float4x4(0.091403543949127,-0.046450875699520,0.067478232085705,-0.017567144706845,-0.050838381052017,-0.008603445254266,0.095873676240444,-0.021886041387916,0.089203305542469,-0.234565421938896,0.082194507122040,0.056304074823856,-0.094576895236969,0.061287626624107,0.030637694522738,0.102126196026802));
res += mul(Get(s2,-dx,dy), float4x4(0.168501555919647,-0.044784404337406,0.152378961443901,-0.038157399743795,0.115729987621307,0.124972850084305,-0.028688251972198,0.130998611450195,-0.074887081980705,0.143118724226952,-0.027197912335396,0.002971257781610,0.163561731576920,0.057739160954952,0.102960422635078,0.030849851667881));
res += mul(Get(s2,0,-dy), float4x4(0.034325223416090,0.020426208153367,0.011992395855486,-0.120852254331112,-0.207664310932159,-0.010206808336079,-0.114692598581314,-0.093004018068314,0.027147613465786,0.109291009604931,-0.101914055645466,0.003953805193305,-0.168598785996437,0.174366652965546,-0.157074436545372,0.061463300138712));
res += mul(Get(s2,0,0), float4x4(-0.146250888705254,-0.023063417524099,0.020444152876735,-0.046433687210083,-0.058667995035648,-0.081723213195801,-0.014924144372344,-0.038201067596674,-0.014552414417267,0.069041959941387,0.118935585021973,-0.048741407692432,0.054531726986170,0.015912007540464,-0.025230634957552,0.055908255279064));
res += mul(Get(s2,0,dy), float4x4(-0.090132988989353,-0.046344064176083,-0.035631883889437,0.047186631709337,-0.082124672830105,-0.145693495869637,0.106319732964039,-0.082291640341282,-0.168586060404778,0.147605240345001,-0.083319276571274,0.091395467519760,0.120388798415661,0.132861897349358,-0.009938093833625,0.115897402167320));
res += mul(Get(s2,dx,-dy), float4x4(-0.162824928760529,-0.110496446490288,0.041648272424936,-0.039185110479593,0.207403734326363,0.014912698417902,0.042038615792990,-0.018519183620811,-0.012465494684875,-0.057440865784883,-0.043596863746643,-0.085783369839191,-0.030105978250504,0.132341906428337,-0.109236434102058,0.009173252619803));
res += mul(Get(s2,dx,0), float4x4(0.035182297229767,-0.080371908843517,-0.002279527019709,0.043404750525951,-0.033803548663855,0.076356261968613,-0.033828962594271,0.219716563820839,0.293284952640533,0.017892241477966,-0.061179891228676,-0.004051601979882,-0.252769529819489,0.062452960759401,0.145155414938927,-0.049697190523148));
res += mul(Get(s2,dx,dy), float4x4(0.060175396502018,0.032727956771851,0.228060379624367,-0.099636659026146,0.083153970539570,0.087752223014832,0.138824999332428,-0.095585152506828,-0.056434154510498,-0.041546985507011,-0.018374893814325,-0.040814124047756,-0.131867110729218,-0.049764838069677,0.020532447844744,-0.046710286289454));
res += mul(Get(s3,-dx,-dy), float4x4(-0.154870659112930,0.013764429837465,-0.142404526472092,0.001654475694522,0.117761313915253,0.016298823058605,-0.055565472692251,-0.046122595667839,0.096841722726822,-0.036755830049515,-0.007312493864447,0.065465524792671,0.164620876312256,0.042067203670740,-0.065813958644867,-0.126886740326881));
res += mul(Get(s3,-dx,0), float4x4(0.016631979495287,-0.065973266959190,0.039571940898895,0.281847536563873,0.128190428018570,-0.067362524569035,0.153746768832207,0.025709399953485,-0.216689139604568,0.108332440257072,-0.023956803604960,-0.205054298043251,-0.185206592082977,-0.055426690727472,-0.016002785414457,0.100203663110733));
res += mul(Get(s3,-dx,dy), float4x4(-0.222109496593475,-0.109223507344723,-0.072110563516617,0.099263086915016,-0.135338425636292,-0.089601732790470,-0.003768578404561,-0.226290300488472,0.123277753591537,0.095055334270000,0.064459085464478,0.017683388665318,-0.126552194356918,-0.203983426094055,-0.103156059980392,0.117613010108471));
res += mul(Get(s3,0,-dy), float4x4(-0.080852054059505,0.156825169920921,0.034619856625795,-0.021937092766166,-0.085321858525276,0.037029989063740,-0.126452744007111,0.057751372456551,0.012951861135662,-0.118058800697327,-0.075605377554893,0.128138899803162,0.074778556823730,-0.032314505428076,-0.005135225597769,-0.105185076594353));
res += mul(Get(s3,0,0), float4x4(-0.156475186347961,-0.042683314532042,-0.007139857858419,0.164876520633698,-0.129399552941322,0.044268507510424,-0.109034992754459,-0.074120789766312,-0.030354615300894,-0.026988064870238,0.008215093053877,0.012868443503976,-0.211350306868553,0.048462703824043,-0.002887746552005,0.148863285779953));
res += mul(Get(s3,0,dy), float4x4(0.089623250067234,-0.109121181070805,-0.002868996700272,-0.076810345053673,-0.015974301844835,-0.190661981701851,-0.038905665278435,-0.019125234335661,-0.098982602357864,-0.006655591540039,-0.147056356072426,-0.035148054361343,-0.196924194693565,0.135067343711853,0.051729761064053,0.119560733437538));
res += mul(Get(s3,dx,-dy), float4x4(-0.209135189652443,-0.038181364536285,0.195906788110733,-0.050545874983072,0.004220057278872,-0.029524143785238,0.016307182610035,-0.028966601938009,0.163561433553696,-0.028145266696811,0.059477631002665,0.097984910011292,0.060046825557947,0.280178844928741,-0.000171718449565,0.155680060386658));
res += mul(Get(s3,dx,0), float4x4(0.091497547924519,0.005641045048833,0.119522310793400,-0.038576450198889,-0.056121025234461,0.079005531966686,-0.033588845282793,-0.160371348261833,-0.233265966176987,-0.043922685086727,-0.083739288151264,-0.070956252515316,-0.015289729461074,0.149603441357613,0.056698977947235,0.048191782087088));
res += mul(Get(s3,dx,dy), float4x4(0.031154347583652,0.018618844449520,-0.129546120762825,0.213071435689926,-0.133625701069832,0.032827846705914,0.179943621158600,0.014802632853389,0.197471231222153,0.139292418956757,-0.152990624308586,0.099120371043682,0.004018868319690,0.097658559679985,0.017331829294562,-0.074128508567810));
return max(float4(0,0,0,0), res);
}
