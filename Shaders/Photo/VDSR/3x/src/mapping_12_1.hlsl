sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001568623352796,-0.085894517600536,-0.119983620941639,0.034078706055880,0.050319194793701,-0.191925242543221,-0.068582698702812,0.056113868951797,0.131311759352684,-0.016820300370455,-0.065879628062248,-0.035301692783833,-0.038904324173927,-0.028673999011517,0.009186595678329,-0.036458656191826));
res += mul(Get(s0,-dx,0), float4x4(0.023671859875321,0.018910750746727,0.013068194501102,0.039020959287882,0.006382684689015,-0.069602087140083,0.035132594406605,-0.039754241704941,0.019447492435575,0.055683411657810,-0.107629664242268,-0.046002969145775,-0.137753143906593,0.004303249064833,0.052537009119987,-0.046965349465609));
res += mul(Get(s0,-dx,dy), float4x4(0.038197752088308,0.021280618384480,-0.070231392979622,0.095493927598000,0.015257890336215,-0.007105396594852,0.036411680281162,0.098757505416870,0.051051102578640,0.085874624550343,-0.141786441206932,0.233248546719551,0.032884076237679,0.052903987467289,0.089787900447845,-0.029792694374919));
res += mul(Get(s0,0,-dy), float4x4(-0.013129721395671,-0.124317944049835,0.017349228262901,0.003628085367382,0.009490718133748,-0.075975254178047,-0.092135898768902,0.080432489514351,-0.128133118152618,-0.073899880051613,0.033605985343456,-0.009049008600414,-0.080706812441349,-0.031943593174219,-0.167983844876289,0.380465954542160));
res += mul(Get(s0,0,0), float4x4(0.092215888202190,0.180287525057793,0.135847017168999,-0.013149771839380,0.046168424189091,0.061013214290142,-0.011601573787630,0.092071034014225,0.055475428700447,0.053332835435867,-0.101568214595318,-0.059208318591118,-0.062697678804398,0.002042035572231,-0.119211353361607,0.034866418689489));
res += mul(Get(s0,0,dy), float4x4(-0.050561107695103,0.039266817271709,0.014085332863033,0.013860409148037,-0.021909493952990,0.001659162109718,0.053818020969629,0.085698142647743,0.052811432629824,0.092367917299271,-0.166217744350433,0.104133516550064,0.105075091123581,-0.038137130439281,0.030268842354417,-0.027504811063409));
res += mul(Get(s0,dx,-dy), float4x4(0.081355087459087,-0.107480436563492,0.024232070893049,-0.059154514223337,-0.161887481808662,0.097668454051018,-0.060411650687456,-0.053892772644758,0.121555425226688,-0.018936140462756,-0.075002551078796,-0.053074810653925,-0.145230010151863,-0.022717477753758,-0.088027469813824,0.117432311177254));
res += mul(Get(s0,dx,0), float4x4(0.052631262689829,0.204293534159660,0.119756273925304,-0.099839672446251,-0.051561493426561,0.006685017142445,0.065435402095318,-0.051066949963570,0.015284822322428,0.000737954222132,0.040089774876833,-0.101536639034748,-0.130657047033310,-0.049712527543306,-0.138525381684303,0.041441060602665));
res += mul(Get(s0,dx,dy), float4x4(0.090084902942181,-0.060177255421877,-0.020052887499332,0.104441232979298,-0.045008953660727,0.078904159367085,-0.125192880630493,0.037279386073351,-0.017823545262218,0.018250182271004,0.027929179370403,0.122382573783398,-0.070795863866806,-0.019070206210017,0.110611267387867,-0.019918302074075));
res += mul(Get(s1,-dx,-dy), float4x4(0.070045098662376,-0.075464166700840,0.037544917315245,0.022393699735403,0.018518960103393,-0.146969079971313,-0.162138134241104,-0.051700893789530,0.053065706044436,-0.103174991905689,0.047090474516153,-0.063612692058086,0.003256025491282,-0.042864661663771,0.084384828805923,0.014140621758997));
res += mul(Get(s1,-dx,0), float4x4(0.152592942118645,0.013386308215559,-0.101197607815266,0.063879847526550,-0.004614450968802,0.033537808805704,-0.129537299275398,0.025115352123976,-0.040460206568241,-0.049583494663239,0.022578038275242,-0.017843456938863,-0.092054679989815,0.034603580832481,-0.054366145282984,0.052149228751659));
res += mul(Get(s1,-dx,dy), float4x4(0.123324476182461,0.059126716107130,-0.065847247838974,0.046926014125347,-0.043054178357124,0.069042384624481,0.017614217475057,-0.046586349606514,-0.018642241135240,-0.077825911343098,0.068792730569839,0.011141522787511,-0.181103095412254,0.000192106715986,-0.201124429702759,-0.024860547855496));
res += mul(Get(s1,0,-dy), float4x4(-0.137948051095009,0.071371600031853,-0.022103603929281,-0.126159384846687,0.138551816344261,-0.124751068651676,-0.135198846459389,0.021547229960561,-0.082281008362770,-0.133757993578911,0.044476307928562,-0.022414116188884,0.023071495816112,-0.012543414719403,0.105480246245861,-0.067170664668083));
res += mul(Get(s1,0,0), float4x4(-0.013337939977646,0.044969897717237,0.068793803453445,0.007974230684340,0.100595474243164,-0.065628305077553,-0.004936330951750,-0.061824101954699,0.174584701657295,0.035503070801497,0.219852894544601,-0.041234306991100,-0.043530046939850,-0.011789240874350,0.071547053754330,-0.046915560960770));
res += mul(Get(s1,0,dy), float4x4(0.001067030476406,0.040531944483519,-0.073775112628937,0.140499129891396,0.024984877556562,-0.068484723567963,-0.024275651201606,-0.009142327122390,-0.039382372051477,0.051395714282990,-0.115269310772419,0.108433969318867,-0.076215572655201,0.016911150887609,-0.063427180051804,-0.058726631104946));
res += mul(Get(s1,dx,-dy), float4x4(-0.052575908601284,0.167353704571724,0.046353586018085,0.064148209989071,-0.008247392252088,-0.023261716589332,-0.075190477073193,-0.146166875958443,-0.010599415749311,-0.084151469171047,-0.024048693478107,-0.128524497151375,0.035405769944191,0.172122448682785,0.079850301146507,-0.002526542404667));
res += mul(Get(s1,dx,0), float4x4(-0.072331510484219,0.069260217249393,0.019745206460357,-0.023064240813255,-0.009973556734622,-0.049848511815071,0.071960069239140,-0.026621876284480,0.076999828219414,0.044278051704168,0.057226870208979,-0.096898905932903,-0.065011702477932,0.149762913584709,0.027408929541707,0.017532045021653));
res += mul(Get(s1,dx,dy), float4x4(-0.092713795602322,-0.047127455472946,-0.025609841570258,-0.013677577488124,0.234205737709999,0.071217343211174,-0.114742957055569,-0.042086839675903,-0.046873766928911,0.047262329608202,0.077273286879063,-0.070196859538555,-0.072213351726532,0.024533038958907,-0.042544059455395,-0.051419459283352));
res += mul(Get(s2,-dx,-dy), float4x4(0.039305828511715,-0.041765622794628,-0.017781076952815,-0.068052679300308,-0.046981371939182,0.146575093269348,0.072928473353386,-0.015819109976292,-0.042453575879335,0.025905244052410,-0.033978529274464,-0.019205085933208,0.064475722610950,-0.039031609892845,-0.046601701527834,0.088020242750645));
res += mul(Get(s2,-dx,0), float4x4(0.006072672083974,-0.003067649900913,-0.033046457916498,-0.071735426783562,0.023908220231533,-0.109845973551273,-0.022656535729766,-0.007504960522056,-0.067434564232826,0.029402038082480,0.058663386851549,-0.025241417810321,0.055336307734251,-0.023194802924991,-0.018931716680527,0.051523812115192));
res += mul(Get(s2,-dx,dy), float4x4(0.027966331690550,0.060288213193417,0.001171804149635,0.045495159924030,0.010003242641687,0.053290814161301,-0.078109532594681,-0.074317172169685,0.059522163122892,-0.017524138092995,0.008177400566638,0.001641656039283,0.090249903500080,-0.082345269620419,-0.024918835610151,0.002942891558632));
res += mul(Get(s2,0,-dy), float4x4(-0.009634172543883,0.041361674666405,0.055040024220943,-0.096920154988766,0.078418008983135,0.171023994684219,0.118267953395844,-0.004330491647124,0.091966018080711,0.102220222353935,0.024015111848712,0.018124571070075,-0.039152581244707,-0.011125129647553,-0.001265878905542,0.003547536209226));
res += mul(Get(s2,0,0), float4x4(0.015984898433089,-0.006035624537617,0.034367110580206,0.065352693200111,-0.006551904603839,-0.179508134722710,-0.060403130948544,0.005277913529426,0.088091395795345,-0.033795431256294,0.045454416424036,-0.071646369993687,-0.017405724152923,-0.114498399198055,-0.058026947081089,-0.015181283466518));
res += mul(Get(s2,0,dy), float4x4(-0.109697192907333,0.117839165031910,0.095219776034355,0.076099164783955,0.005012159701437,0.055251311510801,-0.021618071943521,0.016115130856633,0.076336905360222,0.089805431663990,0.110695533454418,-0.072011075913906,-0.038262136280537,0.004355898592621,0.077670551836491,-0.102626502513885));
res += mul(Get(s2,dx,-dy), float4x4(0.014140189625323,-0.014351949095726,-0.019873850047588,-0.073066934943199,0.162368118762970,-0.097488850355148,0.174142643809319,-0.098545953631401,-0.085056170821190,0.106694988906384,-0.115999102592468,-0.013602995313704,-0.078094691038132,0.056951466947794,-0.088169433176517,-0.001029605511576));
res += mul(Get(s2,dx,0), float4x4(0.065422534942627,0.029815917834640,0.017340842634439,0.006320022977889,0.168577864766121,-0.139270499348640,0.088611848652363,-0.015694556757808,-0.124384559690952,0.016137875616550,-0.074186734855175,-0.022415498271585,0.002389024477452,-0.078754544258118,0.118898257613182,0.046663124114275));
res += mul(Get(s2,dx,dy), float4x4(0.081527121365070,0.023953670635819,0.129009217023849,-0.065116316080093,0.094292752444744,0.082314439117908,0.034425433725119,-0.003504345426336,-0.139173388481140,-0.020479274913669,-0.015287576243281,0.039876401424408,0.031501531600952,0.066835619509220,0.044436540454626,-0.010505025275052));
res += mul(Get(s3,-dx,-dy), float4x4(-0.049263112246990,-0.108920440077782,0.032221835106611,-0.078575730323792,0.004620806314051,-0.028704304248095,0.046076461672783,0.099129326641560,-0.037536639720201,-0.026539091020823,0.023170458152890,0.134445831179619,0.021541662514210,-0.031260464340448,-0.120252877473831,0.134853526949883));
res += mul(Get(s3,-dx,0), float4x4(0.089151889085770,0.013672566972673,0.002463574754074,-0.020223205909133,0.049449436366558,-0.014567715115845,0.002641406608745,0.038188707083464,-0.050102248787880,-0.019445238634944,0.046353526413441,0.093894906342030,0.001315264147706,0.042054656893015,-0.052222363650799,-0.037427879869938));
res += mul(Get(s3,-dx,dy), float4x4(0.184420883655548,0.037508200854063,0.058921560645103,-0.111511193215847,-0.005443762987852,-0.008447211235762,0.003893316956237,-0.034459315240383,-0.024230146780610,0.041607260704041,0.069738499820232,0.088345564901829,-0.102805182337761,-0.066667102277279,-0.075408644974232,-0.017314471304417));
res += mul(Get(s3,0,-dy), float4x4(-0.108348943293095,-0.060382913798094,-0.035025879740715,-0.023566780611873,-0.041089072823524,-0.089725799858570,0.092444002628326,-0.058627657592297,-0.034218665212393,0.031485095620155,0.051480907946825,-0.055527780205011,0.066214472055435,0.094258181750774,-0.107606433331966,-0.045458618551493));
res += mul(Get(s3,0,0), float4x4(-0.045483857393265,0.044134724885225,0.012384976260364,-0.019781529903412,0.001815896015614,-0.007033787667751,0.026105234399438,-0.062763676047325,0.035258144140244,0.001276111695915,-0.094138823449612,-0.014243074692786,-0.120909005403519,0.046288996934891,0.080390632152557,-0.018091470003128));
res += mul(Get(s3,0,dy), float4x4(0.114808581769466,0.077564619481564,-0.016647117212415,0.000172383573954,0.033571179956198,-0.046061698347330,-0.003900121431798,-0.003471827832982,0.079827845096588,0.042534716427326,0.126043960452080,-0.060595132410526,-0.060727160423994,0.059664573520422,0.013137197121978,-0.012938937172294));
res += mul(Get(s3,dx,-dy), float4x4(-0.013099585659802,0.122064933180809,-0.116529919207096,-0.176542207598686,-0.159941464662552,0.101828224956989,-0.053564582020044,0.018206739798188,-0.151834607124329,0.075700029730797,-0.037999045103788,-0.077069573104382,0.095494031906128,0.010050702840090,0.016785105690360,-0.029327800497413));
res += mul(Get(s3,dx,0), float4x4(-0.126169547438622,0.214565724134445,-0.116345971822739,-0.091657347977161,0.016144732013345,0.130895629525185,0.089626140892506,0.067432433366776,-0.067350886762142,-0.062463425099850,-0.178580030798912,0.031100820749998,-0.009811944328249,0.028509927913547,0.216838747262955,-0.023653130978346));
res += mul(Get(s3,dx,dy), float4x4(-0.037670582532883,0.135293424129486,0.097297579050064,-0.010673116892576,0.035995211452246,0.120569743216038,0.025647092610598,0.003215288044885,0.031571764498949,-0.029405752196908,0.102435201406479,0.014233320020139,0.019219476729631,0.028630597516894,-0.144626736640930,-0.104501537978649));
return max(float4(0,0,0,0), res);
}
