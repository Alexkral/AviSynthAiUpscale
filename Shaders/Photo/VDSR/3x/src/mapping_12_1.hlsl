sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.105569615960121,0.194339752197266,0.045299384742975,-0.103600241243839,-0.118785858154297,-0.002815020503476,-0.062567643821239,-0.059715460985899,-0.100910209119320,-0.104479230940342,-0.065006434917450,-0.128554657101631,-0.146603152155876,-0.012003698386252,0.097873084247112,0.000999763607979));
res += mul(Get(s0,-dx,0), float4x4(0.014490650035441,0.073725953698158,0.022140584886074,-0.053608931601048,-0.088107675313950,-0.025242164731026,0.040737383067608,0.265891909599304,0.073354393243790,-0.073087997734547,0.046550944447517,0.049215752631426,-0.161370351910591,0.005752656143159,-0.025191765278578,-0.069617584347725));
res += mul(Get(s0,-dx,dy), float4x4(0.110043443739414,0.013785314746201,0.074498713016510,0.204937279224396,-0.003445177106187,0.113200634717941,0.175893694162369,-0.052260521799326,0.056599896401167,0.049377985298634,-0.006827819626778,0.039124052971601,0.044238548725843,0.024658394977450,0.031204091385007,-0.128974378108978));
res += mul(Get(s0,0,-dy), float4x4(0.036751419305801,0.290179371833801,0.110167711973190,-0.152962550520897,-0.079679980874062,0.102477654814720,-0.052000980824232,0.051300100982189,0.155929565429688,0.023920862004161,0.042527016252279,0.115952469408512,0.008607428520918,0.052512481808662,-0.037778869271278,-0.148468032479286));
res += mul(Get(s0,0,0), float4x4(-0.149173125624657,-0.009935257956386,0.160898238420486,0.118698507547379,0.040595669299364,0.156724661588669,-0.070267468690872,-0.221281483769417,-0.068903580307961,0.045188684016466,-0.068037889897823,0.013810916803777,-0.067154891788960,0.061333622783422,0.131309524178505,-0.072798714041710));
res += mul(Get(s0,0,dy), float4x4(-0.102141313254833,0.013932864181697,0.134892448782921,0.176949307322502,0.064614728093147,0.013080596923828,0.191007941961288,-0.092666059732437,0.071994677186012,0.072482198476791,-0.030891908332705,0.098797932267189,-0.098287202417850,0.015608568675816,-0.119676813483238,-0.090514235198498));
res += mul(Get(s0,dx,-dy), float4x4(0.027288645505905,-0.011033038608730,0.032926056534052,0.024065703153610,-0.059943791478872,-0.004314414225519,-0.030342515558004,0.024505624547601,-0.029997283592820,-0.075869552791119,-0.191737264394760,-0.071920320391655,-0.158521294593811,-0.073086462914944,-0.103665940463543,-0.025588536635041));
res += mul(Get(s0,dx,0), float4x4(-0.179614797234535,-0.049499303102493,-0.104210294783115,-0.009507012553513,-0.205700799822807,0.056619822978973,-0.020398853346705,-0.110292159020901,0.076804541051388,-0.022947685793042,-0.010770322754979,-0.107192985713482,-0.114084988832474,0.130446046590805,0.110029809176922,-0.019988322630525));
res += mul(Get(s0,dx,dy), float4x4(-0.061395552009344,0.180005311965942,-0.156328260898590,0.126123324036598,-0.099149003624916,-0.047020565718412,0.069905579090118,0.042250208556652,0.204111039638519,-0.124257534742355,0.140263512730598,-0.091018021106720,-0.085420429706573,-0.010543176904321,-0.192708462476730,-0.013168824836612));
res += mul(Get(s1,-dx,-dy), float4x4(-0.118751533329487,-0.067156396806240,0.039449229836464,-0.147748634219170,0.011195590719581,-0.034773834049702,-0.051115691661835,0.009765069000423,-0.139651164412498,0.073720574378967,0.003962534479797,-0.276989281177521,-0.155636593699455,0.178818732500076,0.090914905071259,-0.011219723150134));
res += mul(Get(s1,-dx,0), float4x4(-0.160332173109055,-0.020018104463816,-0.007831429131329,0.143589735031128,0.011996318586171,-0.043016068637371,0.062377028167248,0.147698655724525,-0.013771059922874,0.094806544482708,-0.042178299278021,0.006916556973010,0.052866961807013,0.035168353468180,-0.129951715469360,-0.091177396476269));
res += mul(Get(s1,-dx,dy), float4x4(0.018711235374212,0.041113648563623,0.035525768995285,-0.048924881964922,-0.129044532775879,-0.098690554499626,-0.113400712609291,-0.114348046481609,-0.138302415609360,0.026322472840548,-0.093820355832577,0.044807385653257,0.049016460776329,-0.173633545637131,-0.185094550251961,0.071992181241512));
res += mul(Get(s1,0,-dy), float4x4(-0.032004505395889,-0.090822726488113,-0.136348173022270,-0.151190951466560,0.066359169781208,0.080271147191525,-0.203650116920471,-0.058489650487900,0.013426441699266,0.049628645181656,-0.137866348028183,-0.112992420792580,0.057520374655724,0.070972055196762,0.055008582770824,0.069944664835930));
res += mul(Get(s1,0,0), float4x4(-0.151203021407127,0.149290949106216,-0.076098121702671,0.067729368805885,0.096262715756893,0.121787533164024,-0.050459705293179,-0.120691426098347,0.195148929953575,-0.093573488295078,0.182548239827156,0.072256207466125,-0.107410937547684,0.074677906930447,0.043942306190729,-0.087781324982643));
res += mul(Get(s1,0,dy), float4x4(0.006404261570424,0.029476344585419,-0.142300799489021,-0.029095446690917,-0.037041708827019,-0.061985064297915,-0.089706689119339,0.020496213808656,0.021960070356727,0.047632168978453,-0.190389841794968,-0.085883930325508,-0.264794290065765,-0.052202515304089,-0.022052740678191,0.052836239337921));
res += mul(Get(s1,dx,-dy), float4x4(0.063419744372368,-0.041138216853142,0.060488745570183,-0.093836948275566,0.020639300346375,0.012779394164681,-0.090817615389824,0.044807638972998,-0.034527976065874,-0.089642830193043,0.134088277816772,0.060217715799809,-0.052095271646976,0.089008904993534,0.135261908173561,0.104800619184971));
res += mul(Get(s1,dx,0), float4x4(-0.024021023884416,0.065685592591763,-0.044805616140366,-0.015963451936841,0.115251891314983,0.026828182861209,0.090978503227234,-0.156049132347107,0.273979336023331,-0.004983237478882,0.189279362559319,0.141804799437523,0.282557994127274,-0.040258519351482,-0.127794995903969,-0.080933943390846));
res += mul(Get(s1,dx,dy), float4x4(0.192558631300926,-0.118923328816891,0.050836622714996,0.080425903201103,0.053523775190115,-0.257211714982986,-0.161643624305725,0.011643348261714,0.056164350360632,0.007430081721395,-0.038644928485155,0.006593273021281,-0.050946116447449,0.075116828083992,0.113332904875278,-0.126403093338013));
res += mul(Get(s2,-dx,-dy), float4x4(0.129877254366875,-0.100999034941196,-0.012268050573766,-0.056771475821733,-0.187538191676140,0.106453724205494,0.083662338554859,0.122090198099613,0.044231813400984,0.072580493986607,0.154172539710999,0.018695959821343,0.107413955032825,-0.022398145869374,-0.082712695002556,-0.166107654571533));
res += mul(Get(s2,-dx,0), float4x4(0.033061128109694,-0.052672404795885,-0.057102810591459,-0.056041326373816,0.021586257964373,0.048188898712397,0.145137786865234,0.147928163409233,0.174981951713562,0.072275474667549,0.062854170799255,-0.070748679339886,0.024809300899506,0.186948835849762,0.076965354382992,-0.231829464435577));
res += mul(Get(s2,-dx,dy), float4x4(-0.052300643175840,-0.037492483854294,0.069323197007179,-0.066790677607059,0.036228291690350,0.273507148027420,-0.006587133742869,0.068703003227711,-0.120395205914974,0.033657446503639,-0.178950682282448,0.117778569459915,-0.027528753504157,0.122095949947834,-0.132965028285980,0.000789912941400));
res += mul(Get(s2,0,-dy), float4x4(0.027245720848441,0.054094396531582,-0.112385414540768,0.072373755276203,-0.160082459449768,-0.050043217837811,0.084264099597931,-0.129948690533638,-0.099237114191055,0.044676788151264,0.271847367286682,-0.027477733790874,0.168377742171288,-0.210566714406013,0.006270986516029,-0.084838561713696));
res += mul(Get(s2,0,0), float4x4(-0.061582032591105,-0.035370629280806,0.056927602738142,0.008897212333977,0.024838943034410,-0.120255574584007,0.157642766833305,-0.065801806747913,0.053079959005117,0.045518707484007,-0.047413736581802,-0.024877466261387,0.298975378274918,-0.123948469758034,-0.111974798142910,0.086352720856667));
res += mul(Get(s2,0,dy), float4x4(-0.073583722114563,0.051985584199429,0.023002343252301,0.111348412930965,-0.023713814094663,-0.170746505260468,0.034664250910282,0.085672192275524,-0.136189341545105,-0.069305442273617,-0.045383315533400,0.086819566786289,0.017747279256582,0.031694687902927,-0.020994428545237,0.107643574476242));
res += mul(Get(s2,dx,-dy), float4x4(0.118622235953808,0.162311583757401,0.081932581961155,-0.207200840115547,-0.003418898908421,0.026829387992620,0.001867583603598,0.050907921046019,-0.116840086877346,-0.157523840665817,0.042083740234375,-0.099765241146088,0.086777292191982,-0.005556749179959,0.121479928493500,-0.093834415078163));
res += mul(Get(s2,dx,0), float4x4(0.071261361241341,0.137715071439743,-0.119059376418591,0.033051438629627,0.096932835876942,-0.024265637621284,-0.100694671273232,-0.036694087088108,-0.157009720802307,-0.070063941180706,0.054264057427645,-0.060871504247189,0.109930276870728,-0.087149791419506,-0.020727930590510,0.133602634072304));
res += mul(Get(s2,dx,dy), float4x4(-0.053931567817926,-0.087727792561054,-0.029034839943051,0.060974474996328,-0.050790943205357,-0.015009399503469,0.086307480931282,-0.008341863751411,-0.060958441346884,0.003964244388044,0.040616121143103,0.085421651601791,-0.223193749785423,0.172387406229973,-0.022677766159177,0.138494953513145));
res += mul(Get(s3,-dx,-dy), float4x4(0.119737282395363,-0.175775930285454,0.043773628771305,0.018235249444842,0.029430648311973,0.135064572095871,-0.098846592009068,-0.148597732186317,0.018092790618539,0.071424633264542,-0.077636659145355,0.014950915239751,0.090808346867561,0.117649614810944,-0.100831024348736,-0.101246558129787));
res += mul(Get(s3,-dx,0), float4x4(0.032636798918247,-0.006063738837838,0.077991142868996,0.085057757794857,0.028177319094539,0.042265579104424,-0.085279494524002,-0.057481057941914,0.043003525584936,-0.011504161171615,0.018284723162651,-0.148878335952759,-0.044178370386362,-0.117946058511734,0.039213940501213,0.128708168864250));
res += mul(Get(s3,-dx,dy), float4x4(0.038974791765213,-0.062102418392897,-0.000751944025978,0.071618258953094,0.106021910905838,-0.292492449283600,-0.050376683473587,-0.063960552215576,-0.127727821469307,-0.003196376143023,0.036915935575962,-0.034962136298418,0.136471688747406,0.093239471316338,-0.213966220617294,-0.050713438540697));
res += mul(Get(s3,0,-dy), float4x4(-0.057058177888393,0.217297106981277,-0.064153961837292,-0.032727148383856,-0.043024361133575,-0.068540886044502,-0.178512826561928,-0.032881766557693,0.009938661940396,0.216381117701530,0.117244988679886,-0.056773621588945,0.106628045439720,0.071261398494244,0.061625029891729,-0.105307705700397));
res += mul(Get(s3,0,0), float4x4(-0.061917420476675,0.072416856884956,-0.120796106755733,-0.034235719591379,-0.077829129993916,-0.029053729027510,0.261165261268616,0.112220451235771,-0.206587970256805,-0.004246740136296,0.158529758453369,0.035071611404419,0.151106208562851,-0.059491831809282,-0.153442367911339,0.128288850188255));
res += mul(Get(s3,0,dy), float4x4(0.013845911249518,0.049969837069511,-0.031588103622198,0.068978518247604,0.095624819397926,0.108560763299465,0.015864003449678,-0.011823815293610,0.066551230847836,0.114968001842499,0.066995508968830,-0.028582269325852,0.074465066194534,-0.110614188015461,-0.016097953543067,-0.007356704212725));
res += mul(Get(s3,dx,-dy), float4x4(-0.019498614594340,0.058442879468203,0.006584494374692,-0.110615313053131,-0.042501255869865,-0.009896011091769,0.049969393759966,-0.084614649415016,0.065798521041870,0.055857442319393,0.027598818764091,0.102481193840504,0.048413518816233,0.203327193856239,-0.094400882720947,-0.020512767136097));
res += mul(Get(s3,dx,0), float4x4(0.012079171836376,0.294008135795593,0.107349507510662,0.011267255060375,0.036508947610855,0.118600480258465,-0.054437752813101,-0.135683342814445,-0.171888247132301,-0.071872755885124,0.173922970890999,-0.029537852853537,0.012391977012157,0.309693694114685,0.026772921904922,0.067681357264519));
res += mul(Get(s3,dx,dy), float4x4(0.133696034550667,0.026376787573099,-0.199496522545815,0.172727748751640,-0.107034385204315,-0.018287517130375,0.221769690513611,0.100107118487358,-0.049419485032558,-0.066863052546978,0.028020799160004,-0.046377625316381,0.010552819818258,0.086797013878822,0.004378606099635,-0.091896384954453));
return max(float4(0,0,0,0), res);
}
