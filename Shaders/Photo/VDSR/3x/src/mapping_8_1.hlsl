sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016783770173788,-0.043622709810734,-0.097462236881256,0.090961322188377,0.042745426297188,0.079801596701145,-0.001664141775109,0.089247472584248,-0.050195340067148,0.033607736229897,0.127107635140419,-0.077703021466732,-0.032284636050463,0.239062845706940,-0.200078114867210,-0.116269148886204));
res += mul(Get(s0,-dx,0), float4x4(-0.144355162978172,-0.146253451704979,-0.085455417633057,0.021440774202347,0.037587542086840,-0.116897933185101,-0.228602424263954,0.145737946033478,-0.072946324944496,-0.049076449126005,-0.058075230568647,-0.252371162176132,-0.007590132299811,0.039601050317287,-0.023742249235511,-0.098003230988979));
res += mul(Get(s0,-dx,dy), float4x4(-0.012728919275105,-0.057138670235872,0.073258131742477,0.070610329508781,-0.009713746607304,-0.105263508856297,-0.186501607298851,0.080228716135025,-0.025625012814999,-0.178767234086990,-0.013237897306681,0.068259827792645,-0.068077705800533,-0.069088973104954,-0.130235850811005,-0.125647976994514));
res += mul(Get(s0,0,-dy), float4x4(0.022291753441095,0.287230014801025,0.059140611439943,0.051010008901358,0.068341188132763,-0.157516211271286,0.183707594871521,0.052879959344864,0.094911918044090,0.006350533105433,-0.120168067514896,0.005564473103732,0.042266998440027,-0.250875711441040,0.076937824487686,0.180278122425079));
res += mul(Get(s0,0,0), float4x4(-0.025192826986313,0.062662839889526,-0.151084393262863,-0.000550682016183,0.099838450551033,-0.050772532820702,-0.024993656203151,0.115243956446648,0.076273441314697,0.112320125102997,-0.116999186575413,-0.131806075572968,-0.193243667483330,0.161582127213478,0.154604673385620,0.023625425994396));
res += mul(Get(s0,0,dy), float4x4(0.020769702270627,-0.075713403522968,0.068900652229786,-0.172381907701492,0.173673570156097,0.110427230596542,-0.002100467449054,0.023322990164161,0.036682084202766,0.002021359745413,0.096959128975868,0.178259730339050,-0.106340169906616,-0.034400157630444,-0.194041654467583,0.155000388622284));
res += mul(Get(s0,dx,-dy), float4x4(0.000967049039900,-0.077525518834591,0.210269168019295,-0.067792773246765,0.086767971515656,0.032698210328817,0.083480343222618,-0.151865810155869,-0.020078273490071,-0.094553932547569,-0.019591262564063,-0.122180953621864,-0.016805531457067,0.003716160776094,0.203980356454849,0.081579461693764));
res += mul(Get(s0,dx,0), float4x4(0.032681934535503,-0.012743148952723,-0.018649706616998,0.064105823636055,0.007849951274693,-0.023451602086425,0.168564945459366,-0.019618270918727,0.057182740420103,0.095229364931583,0.177053362131119,0.043846707791090,0.173405289649963,-0.100912436842918,0.005529943387955,-0.144098341464996));
res += mul(Get(s0,dx,dy), float4x4(-0.093062289059162,0.040388863533735,0.039671126753092,-0.103324726223946,-0.020322501659393,0.023012116551399,-0.142169222235680,0.111071497201920,-0.046602360904217,-0.000333464209689,0.031658094376326,-0.240891516208649,-0.087121285498142,-0.001987795112655,0.154154062271118,-0.000096875235613));
res += mul(Get(s1,-dx,-dy), float4x4(-0.078127041459084,0.169982910156250,0.049899052828550,0.060784958302975,0.048727221786976,0.037341069430113,-0.069088406860828,-0.102985449135303,-0.083217307925224,-0.051509674638510,-0.171158030629158,-0.148852467536926,-0.047485847026110,-0.141203641891479,0.038706146180630,0.003743362380192));
res += mul(Get(s1,-dx,0), float4x4(0.158001229166985,-0.167690694332123,-0.088223107159138,-0.133835539221764,-0.116132222115993,-0.112796381115913,-0.188239082694054,0.129749372601509,-0.172352880239487,-0.117391683161259,0.019813500344753,0.098087407648563,-0.077087976038456,-0.150185719132423,-0.137203887104988,-0.147056519985199));
res += mul(Get(s1,-dx,dy), float4x4(-0.063706584274769,-0.027950270101428,0.062884442508221,0.157319590449333,-0.022299172356725,-0.088844902813435,-0.003154571633786,0.074839793145657,-0.332729279994965,-0.014664787799120,0.103765919804573,-0.005346004385501,0.021116895601153,0.030732991173863,-0.100017018616199,-0.038893699645996));
res += mul(Get(s1,0,-dy), float4x4(-0.074336372315884,-0.178594931960106,-0.110060624778271,-0.134094208478928,-0.036745388060808,-0.089781031012535,0.002220741240308,0.020278932526708,-0.027658568695188,0.004384332802147,-0.059793338179588,0.068010382354259,-0.100091673433781,0.018107648938894,0.124608941376209,-0.222624361515045));
res += mul(Get(s1,0,0), float4x4(-0.089448653161526,0.102324232459068,-0.007307545747608,-0.084319949150085,-0.001022862386890,0.017222288995981,-0.132369622588158,-0.004353783559054,0.136611714959145,0.083691179752350,-0.116486132144928,-0.028981534764171,0.021178258582950,0.186675012111664,-0.050191998481750,-0.061717584729195));
res += mul(Get(s1,0,dy), float4x4(-0.064898066222668,-0.134139120578766,0.072061404585838,-0.103403195738792,0.020419050008059,0.144584044814110,0.110136210918427,0.083029098808765,-0.018030364066362,0.029222805052996,-0.118304841220379,0.171102598309517,-0.115363553166389,0.118825450539589,0.097774773836136,-0.035783883184195));
res += mul(Get(s1,dx,-dy), float4x4(-0.013562530279160,0.065523967146873,-0.022028530016541,-0.129150673747063,-0.019294328987598,-0.187457516789436,-0.114025779068470,-0.000986317172647,-0.098211199045181,0.024910386651754,-0.060930863022804,-0.018426725640893,0.146261543035507,-0.021429728716612,-0.123350672423840,0.021168015897274));
res += mul(Get(s1,dx,0), float4x4(-0.002257400192320,0.198080271482468,-0.050778582692146,0.222280174493790,-0.200512140989304,-0.057242404669523,-0.217708036303520,0.087104156613350,0.041618693619967,-0.081112347543240,0.065920017659664,-0.077434912323952,-0.040970444679260,0.133838027715683,-0.068421781063080,-0.040288027375937));
res += mul(Get(s1,dx,dy), float4x4(-0.039118967950344,0.261430352926254,-0.040581136941910,0.116573266685009,-0.181713789701462,0.154408708214760,0.091767348349094,-0.013495922088623,0.085227414965630,-0.012399972416461,-0.123571500182152,0.037092719227076,0.027451165020466,-0.219825670123100,-0.063436284661293,0.140600815415382));
res += mul(Get(s2,-dx,-dy), float4x4(-0.181582987308502,0.053418304771185,-0.106535427272320,0.178779497742653,-0.100956335663795,-0.036997247487307,0.018917944282293,-0.077351838350296,-0.158751770853996,0.164014399051666,0.171534061431885,0.039206761866808,-0.097130700945854,0.110037572681904,0.161906331777573,0.079544261097908));
res += mul(Get(s2,-dx,0), float4x4(-0.134031429886818,-0.053022686392069,0.040826883167028,0.113122098147869,0.153457477688789,-0.209942087531090,0.016884956508875,0.032821319997311,-0.094153583049774,-0.162905156612396,-0.090528190135956,-0.067658439278603,0.056676179170609,0.087148919701576,-0.224286988377571,-0.032713204622269));
res += mul(Get(s2,-dx,dy), float4x4(0.114224009215832,-0.137939795851707,-0.024125175550580,-0.289415180683136,-0.034618865698576,-0.141873270273209,0.137363672256470,0.068467386066914,-0.027483582496643,-0.123516649007797,0.012076744809747,0.055863868445158,0.046673540025949,-0.032944824546576,-0.052257120609283,0.045690990984440));
res += mul(Get(s2,0,-dy), float4x4(0.044505722820759,-0.165190950036049,0.144719794392586,-0.271762520074844,-0.024766828864813,-0.172194689512253,-0.072293370962143,0.097729057073593,-0.210468038916588,0.127859920263290,0.035871595144272,0.027253139764071,-0.052340015769005,0.035798426717520,0.290351420640945,-0.190099716186523));
res += mul(Get(s2,0,0), float4x4(-0.001129859243520,0.114566788077354,-0.000122987970826,-0.027926716953516,-0.084680698812008,0.063381224870682,0.092573694884777,0.094606027007103,0.078928001224995,-0.060708940029144,-0.018735174089670,-0.112647660076618,0.058724857866764,0.074231386184692,-0.154301330447197,-0.064350619912148));
res += mul(Get(s2,0,dy), float4x4(-0.017915528267622,-0.054642286151648,0.011861296370625,-0.044903956353664,-0.155405700206757,-0.089748516678810,0.016912637278438,0.143245354294777,0.020680692046881,0.103284932672977,-0.145461723208427,-0.181870490312576,0.162723883986473,-0.100414521992207,-0.003493534168229,-0.063925191760063));
res += mul(Get(s2,dx,-dy), float4x4(-0.080662518739700,0.159664690494537,0.020046038553119,-0.020554939284921,-0.106567323207855,0.029906978830695,-0.039081510156393,0.090060994029045,0.161834895610809,0.006381260696799,-0.010512574575841,-0.159886151552200,-0.144210219383240,-0.013174926862121,0.001190273091197,-0.092950135469437));
res += mul(Get(s2,dx,0), float4x4(0.029439395293593,-0.128789678215981,-0.202450200915337,-0.134434774518013,-0.008968072012067,0.107606410980225,-0.063656859099865,-0.065324686467648,-0.036584783345461,-0.062655203044415,0.138401135802269,-0.126353800296783,0.137661308050156,-0.101357333362103,0.098522789776325,-0.131369516253471));
res += mul(Get(s2,dx,dy), float4x4(0.258432924747467,-0.002732778899372,0.069620311260223,-0.131709769368172,-0.021241324022412,-0.008030194789171,0.005437598563731,-0.144466951489449,-0.163692206144333,-0.005499213002622,0.016551515087485,0.119797103106976,-0.040576621890068,-0.082227654755116,-0.124515034258366,-0.068207703530788));
res += mul(Get(s3,-dx,-dy), float4x4(0.083483770489693,-0.008646127767861,0.036328874528408,-0.039782885462046,-0.053811553865671,-0.120278291404247,0.081908576190472,-0.001467001507990,0.250178873538971,0.108746841549873,-0.209985569119453,0.008904170244932,0.083163559436798,0.151504382491112,-0.034871324896812,0.091569311916828));
res += mul(Get(s3,-dx,0), float4x4(0.119384594261646,0.028272645547986,0.056078974157572,0.168919041752815,0.151927337050438,-0.146190941333771,0.077334173023701,0.160147234797478,-0.197285801172256,-0.123261056840420,-0.001216796692461,0.026381365954876,-0.021495860069990,0.227194696664810,0.024693053215742,0.114601679146290));
res += mul(Get(s3,-dx,dy), float4x4(-0.116944804787636,0.166792854666710,-0.155930116772652,0.107377141714096,0.064308270812035,0.215545147657394,-0.007656976114959,0.133461549878120,-0.187422916293144,-0.130164921283722,-0.020003454759717,-0.059672575443983,0.104658305644989,0.087988175451756,-0.173784375190735,0.076678410172462));
res += mul(Get(s3,0,-dy), float4x4(0.031153868883848,0.106692060828209,0.035255245864391,0.120129197835922,0.003114511957392,0.018410969525576,0.112362116575241,0.010543362237513,-0.129400670528412,-0.029753284528852,0.115178719162941,0.049653071910143,-0.183792844414711,0.217454969882965,0.043336071074009,0.100481681525707));
res += mul(Get(s3,0,0), float4x4(-0.113565713167191,-0.162449061870575,0.038833223283291,0.202918693423271,0.053119171410799,-0.039650253951550,-0.135097384452820,0.076655350625515,-0.045792970806360,0.141362577676773,0.078281059861183,-0.133309587836266,-0.015673223882914,-0.262926787137985,0.135516345500946,0.049203459173441));
res += mul(Get(s3,0,dy), float4x4(-0.031326785683632,-0.040980201214552,-0.135201126337051,0.033137977123260,0.059949349611998,0.091443717479706,0.030796520411968,-0.004917672369629,-0.045999385416508,0.118430271744728,-0.236232355237007,0.007669331040233,0.197643801569939,0.026747480034828,-0.048451308161020,-0.139082267880440));
res += mul(Get(s3,dx,-dy), float4x4(-0.078269235789776,-0.053496625274420,-0.084147997200489,-0.018848016858101,0.096221506595612,-0.005141944158822,0.180182769894600,-0.033383660018444,-0.070731110870838,0.036385312676430,-0.104851461946964,0.018075365573168,-0.138394162058830,0.126407787203789,0.070262305438519,0.139067739248276));
res += mul(Get(s3,dx,0), float4x4(0.028253462165594,-0.244729816913605,0.132955342531204,-0.036088731139898,0.104934014379978,-0.108234912157059,0.012805235572159,0.163885653018951,0.048249229788780,0.071304641664028,0.006257376633584,-0.108868606388569,0.068665228784084,0.230838119983673,0.159113794565201,-0.117632061243057));
res += mul(Get(s3,dx,dy), float4x4(0.033333003520966,-0.024449434131384,0.004689670167863,0.051112420856953,0.043731234967709,0.032674413174391,0.120906524360180,-0.094205103814602,0.003062269417569,0.109222017228603,-0.252033501863480,-0.132820010185242,0.031016219407320,0.159338623285294,-0.126835748553276,0.035109575837851));
return max(float4(0,0,0,0), res);
}
