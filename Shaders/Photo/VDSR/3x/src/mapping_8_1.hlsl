sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.308052390813828,-0.003886575810611,-0.119915105402470,0.032963585108519,-0.056463513523340,0.025402054190636,-0.125519588589668,-0.080758295953274,0.055308781564236,0.090229243040085,-0.138757526874542,-0.117213159799576,0.137697666883469,-0.028173636645079,0.081099100410938,-0.146375387907028));
res += mul(Get(s0,-dx,0), float4x4(0.195770546793938,-0.054822895675898,0.085065066814423,0.002303399145603,0.067881651222706,-0.088050387799740,0.020622435957193,0.055009342730045,0.021588835865259,0.048009615391493,-0.146066114306450,-0.063035987317562,0.113033168017864,0.117902480065823,0.056052103638649,-0.052166406065226));
res += mul(Get(s0,-dx,dy), float4x4(0.010289484634995,0.028216024860740,-0.028911694884300,-0.038877323269844,-0.068068645894527,0.075233772397041,-0.052122995257378,0.044073950499296,-0.070701472461224,0.010896522551775,-0.054589856415987,-0.103374861180782,-0.034226905554533,-0.028883449733257,0.043114427477121,-0.015141502954066));
res += mul(Get(s0,0,-dy), float4x4(0.133822485804558,-0.087900102138519,0.110126920044422,-0.100173838436604,0.022178215906024,0.006079250946641,-0.015263854525983,-0.202590987086296,0.067425891757011,-0.051262896507978,0.078361727297306,-0.001604373217560,-0.003134327474982,0.048098232597113,-0.114222161471844,-0.045313093811274));
res += mul(Get(s0,0,0), float4x4(-0.039061617106199,-0.071240022778511,0.148726433515549,-0.059414107352495,0.030934391543269,-0.136530086398125,0.005175715778023,-0.118110187351704,-0.047961149364710,-0.087740257382393,-0.043920911848545,0.071609459817410,0.047868400812149,0.028289740905166,-0.030202386900783,0.079696901142597));
res += mul(Get(s0,0,dy), float4x4(0.022464660927653,-0.037676729261875,-0.011265517212451,-0.033717550337315,-0.029264498502016,-0.047566670924425,0.030144494026899,-0.028410198166966,-0.024237545207143,0.064282476902008,-0.180909618735313,0.034870047122240,0.000611527299043,-0.022227281704545,0.260042965412140,0.088316939771175));
res += mul(Get(s0,dx,-dy), float4x4(0.092977546155453,-0.003293516580015,-0.178313702344894,-0.183401778340340,0.112019240856171,-0.046743493527174,-0.109370201826096,-0.218019634485245,-0.044860135763884,-0.096779339015484,0.020844800397754,0.009199606254697,-0.208520293235779,0.026293044909835,-0.143488273024559,-0.096275806427002));
res += mul(Get(s0,dx,0), float4x4(-0.066134773194790,-0.004932283423841,-0.046700924634933,-0.012286849319935,0.051434587687254,-0.037682555615902,-0.122543938457966,-0.099731571972370,0.024695195257664,-0.042320698499680,0.118336983025074,0.113230369985104,-0.126641765236855,-0.051483243703842,-0.091016069054604,-0.017830677330494));
res += mul(Get(s0,dx,dy), float4x4(0.077197402715683,-0.064559228718281,0.161108121275902,0.153317540884018,-0.101171068847179,0.108977615833282,-0.095554940402508,-0.086579203605652,0.031453154981136,0.069117389619350,0.086407490074635,-0.004459263291210,-0.022783925756812,-0.014127576723695,0.039606902748346,0.043850012123585));
res += mul(Get(s1,-dx,-dy), float4x4(0.021134093403816,-0.082602396607399,-0.078223355114460,0.011963831260800,0.077977769076824,0.028918601572514,0.073112905025482,-0.095162317156792,0.033019978553057,0.007793577387929,0.140983432531357,-0.043762151151896,-0.009191320277750,-0.004546810872853,0.147403925657272,-0.033969078212976));
res += mul(Get(s1,-dx,0), float4x4(0.038472898304462,-0.070551320910454,0.044127017259598,-0.015937406569719,-0.020455986261368,0.143293455243111,-0.012683828361332,-0.077801883220673,-0.014859708026052,0.019261738285422,0.039833556860685,0.131097957491875,0.040779028087854,-0.012508143670857,-0.082967594265938,0.065814502537251));
res += mul(Get(s1,-dx,dy), float4x4(0.054525364190340,-0.073651321232319,0.015166024677455,-0.034157581627369,-0.057499542832375,-0.159295573830605,-0.096744149923325,-0.071491681039333,-0.139030665159225,0.201952338218689,-0.127254500985146,-0.049099639058113,0.052545189857483,-0.100770361721516,-0.021483926102519,-0.041175860911608));
res += mul(Get(s1,0,-dy), float4x4(-0.021262399852276,-0.086820535361767,-0.109294168651104,0.131614997982979,0.085406146943569,0.143287912011147,0.031428012996912,-0.065930031239986,-0.000011345070561,-0.006656897254288,0.079840801656246,-0.106656260788441,-0.057308882474899,0.008260536938906,-0.009527401998639,0.077040903270245));
res += mul(Get(s1,0,0), float4x4(-0.008787781931460,-0.056967474520206,0.062126569449902,0.005050896201283,-0.019689608365297,0.113605462014675,0.179959237575531,-0.003124608891085,-0.061045579612255,-0.120093256235123,0.047137189656496,0.148153334856033,-0.077259927988052,-0.014549235813320,-0.014491389505565,0.072480045258999));
res += mul(Get(s1,0,dy), float4x4(0.030927265062928,-0.052485942840576,-0.052861735224724,-0.101977169513702,-0.163743197917938,-0.043585229665041,0.014878905378282,-0.064637012779713,-0.038934666663408,0.097070731222630,-0.024810383096337,0.062143959105015,0.027790803462267,-0.059480380266905,-0.033895350992680,-0.068108215928078));
res += mul(Get(s1,dx,-dy), float4x4(-0.098165608942509,-0.097330220043659,-0.237524315714836,0.100883916020393,0.003756786230952,0.062286023050547,0.035658929497004,-0.093738481402397,0.239644259214401,-0.014127419330180,-0.038182467222214,-0.191574186086655,0.095669671893120,0.161262750625610,-0.051101550459862,-0.057416267693043));
res += mul(Get(s1,dx,0), float4x4(0.002163924043998,-0.070571646094322,-0.066380530595779,-0.130848109722137,-0.051395442336798,-0.038189888000488,0.034970942884684,0.013913393951952,0.010044571943581,0.057575523853302,-0.038600116968155,0.069620825350285,0.073781765997410,0.085832357406616,-0.033726807683706,-0.107862822711468));
res += mul(Get(s1,dx,dy), float4x4(-0.000771285442170,-0.063910357654095,-0.045903246849775,-0.153933316469193,-0.014857165515423,-0.067519359290600,0.013744532130659,0.116181194782257,0.070912674069405,0.247693240642548,0.110559463500977,-0.001679766108282,0.110417529940605,-0.044004969298840,-0.055579259991646,-0.130706816911697));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046749085187912,-0.053136266767979,-0.031054463237524,-0.058524444699287,-0.021110421046615,-0.178063765168190,0.180960580706596,-0.006556491367519,-0.032390896230936,-0.078772708773613,0.000751324230805,0.020765908062458,0.059198789298534,-0.013743688352406,0.028273830190301,-0.058487270027399));
res += mul(Get(s2,-dx,0), float4x4(-0.123064912855625,-0.034099061042070,0.023798657581210,0.035190738737583,0.015374100767076,0.028278853744268,0.033394709229469,0.036960054188967,-0.003339509945363,0.070752404630184,-0.009182866662741,0.085472829639912,-0.039018191397190,-0.086106166243553,0.081721670925617,0.000779964961112));
res += mul(Get(s2,-dx,dy), float4x4(0.022706918418407,0.051409814506769,-0.021690730005503,-0.043078493326902,-0.013248251751065,-0.028329225257039,-0.027793355286121,0.007645765319467,0.037360005080700,-0.042903836816549,-0.030790168792009,0.108618333935738,0.012068556621671,-0.048460472375154,0.014600090682507,-0.028039010241628));
res += mul(Get(s2,0,-dy), float4x4(-0.029873112216592,0.012552670203149,-0.089756652712822,0.013146416284144,-0.096852861344814,-0.125132039189339,0.021070184186101,0.055660869926214,0.060035277158022,-0.060989793390036,0.047894209623337,-0.099039919674397,0.061332467943430,-0.002622111001983,-0.067768730223179,0.053234923630953));
res += mul(Get(s2,0,0), float4x4(0.069053888320923,0.029284723103046,-0.053057257086039,0.016488660126925,-0.097031474113464,-0.005613867193460,-0.051356554031372,-0.022266531363130,0.075495213270187,0.055882666260004,-0.050881814211607,-0.029651053249836,-0.024073600769043,-0.047010853886604,-0.011414241977036,0.092038944363594));
res += mul(Get(s2,0,dy), float4x4(-0.079800635576248,0.045041419565678,-0.043050564825535,0.021051883697510,-0.139426693320274,-0.026255525648594,0.327398449182510,-0.071924358606339,0.101632907986641,-0.087377488613129,-0.109449177980423,0.000024033901354,0.118692733347416,-0.060859166085720,0.120885781943798,0.085885941982269));
res += mul(Get(s2,dx,-dy), float4x4(-0.054247047752142,-0.142007455229759,-0.092267431318760,-0.002449300838634,-0.099259510636330,-0.130883276462555,-0.039497833698988,0.117467947304249,-0.066185876727104,0.000844970578328,-0.009641898795962,-0.000469023885671,0.201433554291725,0.221287027001381,-0.043886903673410,0.015302492305636));
res += mul(Get(s2,dx,0), float4x4(-0.038430590182543,-0.027953829616308,-0.041099131107330,-0.049163501709700,-0.061413314193487,-0.038241516798735,0.101809419691563,0.043064769357443,-0.068292178213596,0.159595012664795,-0.138228729367256,0.043232288211584,-0.103859439492226,-0.019939370453358,-0.046218182891607,-0.129266694188118));
res += mul(Get(s2,dx,dy), float4x4(-0.066160157322884,0.007534094620496,-0.094981774687767,0.115894325077534,-0.022936169058084,0.005883444100618,0.131790101528168,0.010559656657279,0.072429060935974,-0.086115784943104,-0.112082101404667,0.005592248868197,-0.058276657015085,0.042812276631594,0.034877564758062,-0.109168946743011));
res += mul(Get(s3,-dx,-dy), float4x4(0.089988447725773,-0.033980112522840,0.007261368446052,0.093227297067642,0.038858927786350,0.073699824512005,-0.019719993695617,-0.034640658646822,-0.134381860494614,0.032051466405392,-0.083402335643768,-0.106865882873535,-0.021689590066671,-0.053571436554193,0.081678822636604,0.025915209203959));
res += mul(Get(s3,-dx,0), float4x4(-0.088743388652802,-0.139621213078499,0.171042099595070,0.105571128427982,0.019951371476054,-0.066536694765091,0.204630613327026,-0.144759371876717,0.037815418094397,0.049697760492563,0.029229035601020,-0.049614652991295,-0.051675170660019,0.024579148739576,-0.177690386772156,0.024284699931741));
res += mul(Get(s3,-dx,dy), float4x4(0.011228369548917,-0.061880070716143,-0.064374648034573,0.061060078442097,0.064510025084019,-0.055504124611616,0.000871956988703,0.024275820702314,0.040732160210609,-0.064367331564426,0.109457015991211,-0.013074110262096,0.048091039061546,0.003502403618768,-0.031595796346664,-0.096726335585117));
res += mul(Get(s3,0,-dy), float4x4(0.213820934295654,0.000751914281864,0.033963907510042,-0.029678704217076,0.142357364296913,0.046095971018076,-0.053605549037457,-0.002787750214338,-0.069897852838039,0.036778714507818,-0.142182320356369,-0.056335385888815,-0.106182120740414,-0.048709236085415,-0.075202018022537,0.027314480394125));
res += mul(Get(s3,0,0), float4x4(0.027808977290988,-0.101482145488262,-0.085614167153835,0.117749825119972,-0.111484423279762,-0.065502822399139,-0.031847145408392,0.073783725500107,-0.077856205403805,0.052714735269547,-0.091738387942314,-0.075263604521751,-0.106290832161903,0.000788344594184,-0.045642070472240,-0.007229035254568));
res += mul(Get(s3,0,dy), float4x4(0.010910200886428,-0.062220264226198,-0.050582759082317,-0.003780438797548,-0.092751882970333,-0.021785957738757,-0.087700121104717,0.306481301784515,-0.036084610968828,-0.088495388627052,0.074448131024837,-0.125687748193741,0.012612387537956,0.056091189384460,-0.090135581791401,-0.041597880423069));
res += mul(Get(s3,dx,-dy), float4x4(0.190033808350563,-0.052786033600569,-0.020694397389889,0.089691311120987,0.203818917274475,0.131326794624329,0.074325129389763,-0.043437361717224,0.105328060686588,0.405711412429810,-0.126137718558311,-0.029399750754237,0.105033598840237,-0.009759441949427,-0.106913685798645,0.087036214768887));
res += mul(Get(s3,dx,0), float4x4(-0.018010985106230,0.033549487590790,-0.092065453529358,-0.070347324013710,-0.036401256918907,-0.023793729022145,0.108301877975464,0.195108950138092,-0.134060561656952,0.016520971432328,-0.014734760858119,-0.014525858685374,-0.115991219878197,0.016470748931170,-0.062274824827909,-0.016190076246858));
res += mul(Get(s3,dx,dy), float4x4(0.019054701551795,-0.111421585083008,-0.036098588258028,-0.068829834461212,-0.040640458464622,-0.064245350658894,-0.054810144007206,0.044603139162064,-0.022278076037765,-0.002720139222220,0.052878055721521,0.107707850635052,-0.051866244524717,0.002134154085070,0.020698862150311,-0.048351842910051));
return max(float4(0,0,0,0), res);
}
