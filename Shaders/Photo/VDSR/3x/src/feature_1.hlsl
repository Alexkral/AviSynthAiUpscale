sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.000010234592992,-0.000012179946680,-0.000016041225535,-0.000011658864423) * Get(-dx,-dy);
res += float4(-0.000003145727305,-0.000007887641004,0.000008408848771,-0.000019343113308) * Get(-dx,0);
res += float4(0.000008681865438,-0.000007104903034,0.000003807368557,-0.000004825813448) * Get(-dx,dy);
res += float4(0.000008223077202,-0.000012685412003,-0.000009495977793,-0.000000154181080) * Get(0,-dy);
res += float4(-0.000005500623502,-0.000017009248040,-0.000011053124581,-0.000014172133888) * Get(0,0);
res += float4(-0.000016838863303,0.000000785596853,-0.000008435206837,-0.000006872100585) * Get(0,dy);
res += float4(0.000001997725803,0.000001511940354,0.000016556869014,-0.000003081549949) * Get(dx,-dy);
res += float4(0.000000143708803,-0.000005433906153,-0.000015731469830,-0.000023012282327) * Get(dx,0);
res += float4(-0.000065718173573,-0.000015807669115,-0.000010274220585,-0.000007666617421) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
