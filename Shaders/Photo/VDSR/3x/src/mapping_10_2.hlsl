sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.151441454887390,0.281895250082016,-0.069345340132713,0.077342174947262,0.019390238448977,0.338126718997955,-0.023167338222265,0.041923727840185,0.053848933428526,-0.076125651597977,0.081145547330379,0.012179683893919,0.029671860858798,-0.030660877004266,-0.120036818087101,0.032765593379736));
res += mul(Get(s0,-dx,0), float4x4(0.042167071253061,0.047716088593006,-0.046063818037510,0.263407230377197,-0.144692420959473,-0.157768338918686,-0.064562454819679,0.081392623484135,0.002199839102104,-0.054347094148397,-0.073748387396336,-0.003675177227706,0.000430330575909,-0.028525032103062,-0.031004831194878,0.024603240191936));
res += mul(Get(s0,-dx,dy), float4x4(0.028392923995852,0.101895943284035,0.076486915349960,0.003750214120373,-0.141435846686363,0.068060927093029,-0.097980812191963,0.008650271221995,-0.047164499759674,0.012408802285790,0.021518714725971,-0.037936538457870,-0.023104105144739,-0.030480213463306,0.336120724678040,0.000944044615608));
res += mul(Get(s0,0,-dy), float4x4(0.035836774855852,0.021794205531478,-0.089071653783321,-0.139641568064690,0.123142763972282,0.001990710152313,-0.050086807459593,-0.027602825313807,-0.054953262209892,-0.155378237366676,0.118392772972584,-0.102423191070557,0.110635653138161,-0.067569948732853,-0.049096286296844,0.068518124520779));
res += mul(Get(s0,0,0), float4x4(0.028074230998755,0.008035825565457,-0.118983119726181,0.079548470675945,-0.049123018980026,-0.045640025287867,-0.055800322443247,0.007927116937935,0.010378635488451,-0.015430906787515,-0.106320247054100,0.019924396649003,0.031243132427335,-0.104526087641716,0.008081815205514,0.060315534472466));
res += mul(Get(s0,0,dy), float4x4(0.041128918528557,0.085203386843204,0.021886698901653,-0.082137033343315,-0.075245305895805,-0.019819863140583,-0.042838543653488,0.049546852707863,-0.024440402165055,0.048518151044846,0.100395388901234,0.019927769899368,-0.100125938653946,-0.052742812782526,0.015840290114284,-0.010419797152281));
res += mul(Get(s0,dx,-dy), float4x4(0.095012471079826,0.122227810323238,-0.045980703085661,-0.121023170650005,0.066891595721245,0.007653757929802,-0.013206714764237,-0.117289617657661,-0.003453724551946,-0.031570348888636,0.004323846660554,0.220217511057854,-0.090419560670853,-0.008960036560893,-0.077700987458229,-0.078263111412525));
res += mul(Get(s0,dx,0), float4x4(0.018429713323712,-0.001623276504688,-0.045432560145855,-0.071907810866833,-0.093631401658058,-0.042558688670397,-0.060306653380394,-0.127590626478195,-0.075313970446587,-0.047559786587954,0.026563141494989,0.290529042482376,-0.047350622713566,-0.053080163896084,-0.006410827860236,-0.133967414498329));
res += mul(Get(s0,dx,dy), float4x4(0.024265820160508,-0.063109248876572,-0.028578886762261,-0.053188703954220,-0.139490231871605,0.047467064112425,-0.115330286324024,-0.098726406693459,-0.055626783519983,-0.049972288310528,0.144725546240807,0.193867921829224,0.145450338721275,-0.006036522332579,0.040154077112675,0.058582689613104));
res += mul(Get(s1,-dx,-dy), float4x4(-0.017914101481438,-0.077829688787460,0.043181963264942,-0.115362443029881,0.054454565048218,0.092630773782730,0.008414550684392,-0.133580580353737,-0.022986780852079,0.079073265194893,-0.099746249616146,-0.028347650542855,0.042726974934340,0.064305514097214,-0.052107885479927,-0.082403801381588));
res += mul(Get(s1,-dx,0), float4x4(-0.074263930320740,-0.023325020447373,0.014169038273394,-0.000513834937010,0.030789991840720,-0.034063391387463,-0.017375437542796,0.059813626110554,-0.020438032224774,0.053716007620096,-0.109250649809837,0.104626849293709,0.031291130930185,-0.089539840817451,-0.060437794774771,0.112515188753605));
res += mul(Get(s1,-dx,dy), float4x4(-0.026913449168205,-0.097181260585785,-0.047410670667887,-0.003788851900026,0.094521641731262,-0.092114560306072,-0.039179965853691,0.007423091214150,0.016234790906310,0.094814084470272,0.010637848637998,-0.003533463692293,0.132202833890915,-0.072975948452950,0.055947400629520,0.019754270091653));
res += mul(Get(s1,0,-dy), float4x4(-0.043361779302359,-0.091779686510563,0.110179238021374,0.008645313791931,-0.025527257472277,0.116041518747807,-0.035990465432405,0.021640958264470,-0.035513836890459,0.096992202103138,-0.024333596229553,-0.200145378708839,0.078294530510902,-0.051454778760672,-0.115094199776649,-0.085459113121033));
res += mul(Get(s1,0,0), float4x4(-0.008445960469544,-0.019768223166466,-0.002955099102110,0.029566138982773,0.049872666597366,-0.059314258396626,-0.015650710090995,0.154138192534447,0.024975603446364,0.003997169435024,0.074513919651508,-0.009614417329431,-0.022087715566158,-0.033652860671282,0.011819784529507,0.085151500999928));
res += mul(Get(s1,0,dy), float4x4(0.098081037402153,-0.031306184828281,-0.027538785710931,0.004958013072610,-0.095415510237217,0.066633224487305,0.120997004210949,0.241469845175743,0.031561780720949,0.025668345391750,0.079800166189671,-0.039511401206255,0.178206965327263,-0.008837810717523,0.164695054292679,0.031248714774847));
res += mul(Get(s1,dx,-dy), float4x4(-0.080957174301147,-0.016271967440844,-0.067608110606670,-0.100905023515224,0.116499237716198,-0.078973203897476,0.021948793902993,-0.201400980353355,-0.145608320832253,0.027601413428783,-0.007535811979324,-0.104132398962975,-0.059572424739599,-0.009545898064971,-0.096490718424320,-0.038789816200733));
res += mul(Get(s1,dx,0), float4x4(0.005339719355106,-0.097646310925484,-0.099218674004078,-0.117888353765011,0.123660080134869,0.035679332911968,-0.120794832706451,-0.204845890402794,-0.150219634175301,0.005362049676478,-0.032809227705002,0.081475883722305,-0.132779449224472,0.020771568641067,-0.064412660896778,0.056023273617029));
res += mul(Get(s1,dx,dy), float4x4(0.087724551558495,-0.013504722155631,-0.096903964877129,-0.054445806890726,0.026611132547259,-0.078350193798542,-0.074745185673237,-0.090896807610989,-0.019182551652193,-0.015446596778929,-0.076375834643841,-0.101577103137970,-0.087512552738190,0.028696455061436,-0.016166564077139,0.017170554026961));
res += mul(Get(s2,-dx,-dy), float4x4(0.108823455870152,0.091257490217686,0.044917739927769,-0.041747011244297,-0.025161037221551,-0.120858348906040,-0.038142722100019,-0.169579610228539,0.013799270614982,0.160246357321739,0.113724164664745,0.006281833630055,-0.152502015233040,0.041033469140530,-0.031650371849537,-0.136137455701828));
res += mul(Get(s2,-dx,0), float4x4(-0.019376199692488,-0.029428046196699,0.174275368452072,0.217018231749535,-0.059026647359133,0.115689799189568,0.031225509941578,0.042299088090658,0.068009793758392,-0.034475691616535,0.004971738904715,-0.112734846770763,0.116206191480160,0.046260211616755,0.017377633601427,0.111075066030025));
res += mul(Get(s2,-dx,dy), float4x4(0.042550928890705,0.028012741357088,0.102993987500668,0.109835885465145,-0.126778930425644,0.075123652815819,0.068242579698563,-0.116910010576248,0.014211080037057,-0.121846087276936,-0.044223334640265,-0.024633569642901,-0.067179486155510,-0.134197071194649,0.062553510069847,-0.022410735487938));
res += mul(Get(s2,0,-dy), float4x4(0.032345395535231,-0.014375977218151,-0.088848225772381,-0.064579769968987,0.426118105649948,0.109275273978710,-0.083927698433399,-0.047123674303293,-0.109939306974411,0.037115912884474,0.136986359953880,0.081048622727394,-0.049516033381224,0.173088967800140,-0.069534078240395,-0.015849318355322));
res += mul(Get(s2,0,0), float4x4(0.033587940037251,0.035927042365074,-0.038458563387394,0.013494472950697,0.026253277435899,-0.003839271143079,-0.045200858265162,-0.000229373967159,-0.048256609588861,0.082496985793114,-0.021857827901840,-0.086890004575253,0.048118639737368,-0.014194507151842,-0.091551728546619,0.124330453574657));
res += mul(Get(s2,0,dy), float4x4(0.122930064797401,0.028063094243407,0.060048691928387,-0.068679772317410,-0.064299866557121,-0.154849946498871,0.053026553243399,-0.106605611741543,-0.013868747279048,0.162319064140320,-0.064027033746243,0.013891779817641,-0.069322086870670,-0.087215818464756,0.053164381533861,0.069106787443161));
res += mul(Get(s2,dx,-dy), float4x4(0.003594268346205,-0.039002880454063,-0.048060283064842,-0.215735286474228,-0.248008981347084,0.159488022327423,-0.124682411551476,0.119386032223701,-0.084625542163849,0.064787909388542,0.050002995878458,0.023642262443900,-0.035975396633148,0.007009661290795,0.103949166834354,-0.071512185037136));
res += mul(Get(s2,dx,0), float4x4(-0.076780319213867,-0.053477525711060,0.080247931182384,0.012962539680302,-0.038861226290464,-0.017895346507430,0.006976035889238,0.119063176214695,-0.101387538015842,-0.011378940194845,-0.025399019941688,-0.032258726656437,0.114456869661808,0.059497274458408,-0.006345317699015,-0.081309527158737));
res += mul(Get(s2,dx,dy), float4x4(-0.099539548158646,0.021078256890178,0.070562049746513,-0.044879842549562,-0.105716854333878,0.051012538373470,0.087121590971947,0.132383212447166,-0.078982792794704,0.014131586067379,0.042824879288673,0.024077797308564,-0.108342714607716,-0.047285795211792,-0.123776338994503,-0.025868507102132));
res += mul(Get(s3,-dx,-dy), float4x4(-0.036477081477642,-0.089215546846390,-0.017818605527282,-0.041601721197367,-0.067045755684376,0.137004315853119,-0.067680411040783,-0.029511144384742,-0.045594662427902,-0.070169128477573,-0.076906129717827,-0.058326911181211,-0.014920879155397,-0.083433553576469,0.003570313798264,-0.043776493519545));
res += mul(Get(s3,-dx,0), float4x4(-0.002829435048625,-0.099637448787689,0.148618742823601,-0.049943700432777,-0.048438299447298,0.189560532569885,-0.101891115307808,0.051755350083113,-0.026906272396445,-0.103689469397068,-0.031385749578476,0.001551576075144,-0.073542051017284,-0.058914285153151,0.024149803444743,-0.040960624814034));
res += mul(Get(s3,-dx,dy), float4x4(-0.102696537971497,-0.025284543633461,0.000494585372508,0.003965518902987,0.037638332694769,0.063248001039028,0.274473488330841,0.115231536328793,0.149268746376038,-0.094827257096767,-0.062811098992825,-0.091352775692940,0.005430936347693,-0.062320843338966,-0.078662678599358,-0.001848028856330));
res += mul(Get(s3,0,-dy), float4x4(0.014442009851336,-0.071222789585590,-0.065358638763428,-0.030984817072749,0.125198766589165,-0.008932681754231,0.030539998784661,0.015376985073090,0.047054003924131,0.051743846386671,-0.042214877903461,-0.088360749185085,0.016653453931212,-0.002787583274767,0.127247735857964,0.024090399965644));
res += mul(Get(s3,0,0), float4x4(0.064259693026543,-0.039844293147326,0.008988203480840,-0.021437950432301,0.038413591682911,0.049054641276598,0.004867364652455,-0.088121451437473,-0.049334090203047,0.022495003417134,0.112575620412827,0.047985818237066,-0.057700064033270,-0.124491624534130,0.141777470707893,-0.030444249510765));
res += mul(Get(s3,0,dy), float4x4(0.014806163497269,-0.009723596274853,-0.060855228453875,0.123098626732826,0.038888178765774,-0.031008299440145,0.191001757979393,-0.052664171904325,0.042124632745981,-0.004446133505553,-0.011899476870894,0.032473113387823,0.247863084077835,0.025962725281715,-0.053310874849558,0.016576929017901));
res += mul(Get(s3,dx,-dy), float4x4(-0.150089517235756,-0.069530904293060,-0.042737822979689,-0.067130818963051,-0.083202868700027,-0.015696946531534,0.154038220643997,-0.016050497069955,0.016866473481059,0.078879460692406,-0.043121904134750,-0.104584865272045,-0.013871661387384,0.064714141190052,-0.029902802780271,-0.017331520095468));
res += mul(Get(s3,dx,0), float4x4(-0.155343666672707,-0.066753327846527,0.074293576180935,-0.019018115475774,0.084541499614716,-0.076149836182594,0.030196813866496,0.027032373473048,-0.010456413030624,-0.028763396665454,0.085942260921001,-0.010094065219164,-0.108868815004826,0.013811452314258,0.057580180466175,-0.033274192363024));
res += mul(Get(s3,dx,dy), float4x4(-0.007703813724220,-0.070687606930733,-0.030170280486345,0.033658843487501,0.060055963695049,-0.084522716701031,0.009149932302535,0.019537337124348,0.052969135344028,0.004010131116956,-0.123014271259308,-0.036795794963837,-0.079578258097172,-0.048374537378550,0.020951950922608,0.145156994462013));
return max(float4(0,0,0,0), res);
}
