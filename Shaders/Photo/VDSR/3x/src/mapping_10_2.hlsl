sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.086420387029648,-0.212687551975250,-0.037338633090258,-0.114801757037640,-0.103852979838848,-0.050774160772562,0.188153266906738,-0.027157116681337,0.099556513130665,-0.022861590608954,0.005225413478911,-0.044870194047689,-0.025777025148273,0.056376732885838,-0.041780449450016,-0.146288171410561));
res += mul(Get(s0,-dx,0), float4x4(0.001641622860916,-0.109149761497974,-0.179818212985992,-0.086148105561733,-0.087125219404697,0.054993331432343,-0.434585452079773,-0.038895055651665,-0.183265715837479,0.121517032384872,0.218087330460548,-0.025000598281622,-0.112705625593662,0.144552588462830,-0.092254094779491,0.021102678030729));
res += mul(Get(s0,-dx,dy), float4x4(0.056155018508434,0.006091446150094,0.135849773883820,0.127173677086830,-0.074801340699196,0.180651530623436,-0.096736706793308,-0.042637109756470,-0.075506351888180,-0.196607664227486,-0.105843506753445,-0.126519128680229,0.104940719902515,0.111351884901524,0.137840524315834,-0.076060287654400));
res += mul(Get(s0,0,-dy), float4x4(-0.027988022193313,-0.091406956315041,-0.098090521991253,0.087121255695820,0.232886046171188,0.071632936596870,-0.012444154359400,0.133386790752411,0.061003953218460,-0.083411939442158,0.131913810968399,-0.073137141764164,0.070832088589668,-0.015642484650016,0.164749532938004,0.043569773435593));
res += mul(Get(s0,0,0), float4x4(-0.051290392875671,-0.156240269541740,-0.102061375975609,-0.002763306256384,-0.064863272011280,-0.058267511427402,-0.076091848313808,-0.160647615790367,-0.013967020437121,0.031649764627218,0.120909929275513,-0.073062315583229,-0.019756160676479,-0.022243307903409,-0.180902093648911,0.138842210173607));
res += mul(Get(s0,0,dy), float4x4(0.042138870805502,0.224408745765686,0.077315650880337,-0.046761423349380,-0.109314098954201,0.042357768863440,-0.080280810594559,-0.174710065126419,0.205651387572289,-0.091018132865429,0.091777980327606,-0.128248721361160,-0.086248904466629,0.131918653845787,0.008282541297376,-0.068283759057522));
res += mul(Get(s0,dx,-dy), float4x4(0.011071116663516,0.049091983586550,0.320386409759521,-0.040409654378891,-0.033298801630735,-0.107606031000614,-0.170324936509132,0.082106046378613,0.066950783133507,-0.153406709432602,0.040074400603771,0.052657950669527,0.006999475881457,-0.040777888149023,0.088983960449696,0.090891152620316));
res += mul(Get(s0,dx,0), float4x4(0.061597406864166,-0.061918761581182,0.033219244331121,-0.170687064528465,-0.123140759766102,-0.022373005747795,-0.070118807256222,-0.028492813929915,0.165405690670013,0.043534506112337,-0.072408996522427,-0.188944220542908,-0.100344680249691,0.137003198266029,0.003776561468840,-0.047012053430080));
res += mul(Get(s0,dx,dy), float4x4(-0.023767147213221,-0.018611755222082,0.180276557803154,0.114445351064205,-0.031875632703304,-0.342868745326996,-0.125035136938095,0.016889519989491,-0.073082849383354,0.100233614444733,0.215488523244858,-0.036454081535339,-0.024397710338235,-0.203425675630569,0.218794330954552,-0.090319685637951));
res += mul(Get(s1,-dx,-dy), float4x4(0.043787632137537,-0.205060884356499,0.130964726209641,0.033013362437487,0.135498538613319,0.064792402088642,-0.111671544611454,0.026242228224874,-0.011621146462858,0.080888845026493,0.169627517461777,0.059377990663052,-0.100414946675301,0.120632126927376,-0.061996519565582,-0.041133444756269));
res += mul(Get(s1,-dx,0), float4x4(-0.021210199221969,-0.098818004131317,0.030936807394028,0.047663722187281,-0.000885286892299,0.044954843819141,0.086522020399570,0.084432996809483,-0.155628100037575,0.066064566373825,0.219281792640686,-0.062852725386620,0.056164667010307,-0.096700713038445,-0.033278197050095,-0.004292265046388));
res += mul(Get(s1,-dx,dy), float4x4(-0.069672681391239,-0.194372251629829,0.148172795772552,-0.046269424259663,0.072516895830631,-0.099468223750591,-0.048531498759985,-0.002110389759764,-0.070895045995712,-0.190625339746475,0.149307236075401,0.101638443768024,-0.017470391467214,0.145423501729965,0.025899237021804,-0.070402950048447));
res += mul(Get(s1,0,-dy), float4x4(-0.111851565539837,0.025155587121844,-0.067266024649143,-0.014539121650159,-0.042327668517828,-0.190551370382309,-0.061617318540812,0.189595848321915,-0.090173006057739,0.116987928748131,-0.122935444116592,0.142288938164711,-0.043586693704128,-0.023401128128171,-0.169497936964035,-0.030321160331368));
res += mul(Get(s1,0,0), float4x4(0.124582469463348,-0.123299695551395,-0.173682942986488,0.041631542146206,0.013123563490808,-0.171510770916939,-0.112157039344311,0.169910073280334,-0.111759945750237,-0.041147802025080,-0.041351955384016,0.256833642721176,-0.091492883861065,0.149192467331886,0.037990678101778,0.121987633407116));
res += mul(Get(s1,0,dy), float4x4(-0.137018322944641,-0.006929883733392,0.024255014955997,-0.115981303155422,0.059860050678253,-0.107554577291012,0.063659958541393,0.098066672682762,-0.071805335581303,-0.037234995514154,-0.014655533246696,-0.146760046482086,-0.065821915864944,-0.024491209536791,-0.020717116072774,-0.088381692767143));
res += mul(Get(s1,dx,-dy), float4x4(-0.104584671556950,0.195237070322037,-0.095151171088219,0.065657593309879,-0.067056484520435,0.113509416580200,0.053083449602127,0.060467891395092,0.026989519596100,0.021441459655762,-0.020541174337268,-0.143638923764229,-0.184449717402458,-0.045269399881363,0.003362324088812,-0.118824295699596));
res += mul(Get(s1,dx,0), float4x4(0.019966065883636,0.198340803384781,-0.111611068248749,-0.177532389760017,0.185791835188866,0.234350055456161,0.202427551150322,0.053643491119146,0.022141875699162,0.042816154658794,0.070396259427071,-0.075440861284733,0.075770772993565,0.014183034189045,0.153178974986076,-0.037919461727142));
res += mul(Get(s1,dx,dy), float4x4(-0.114085331559181,-0.047019544988871,0.099362432956696,-0.056219112128019,-0.233530148863792,0.146613582968712,0.046379901468754,-0.032269943505526,0.027371751144528,0.070895381271839,-0.070922806859016,-0.050808299332857,-0.194094300270081,-0.196045860648155,-0.107358358800411,-0.059847678989172));
res += mul(Get(s2,-dx,-dy), float4x4(-0.112150169909000,-0.003516186960042,-0.150237113237381,0.107426330447197,-0.081653177738190,-0.068638578057289,0.052346840500832,-0.085930176079273,-0.019642032682896,-0.127008140087128,0.078748330473900,-0.102488227188587,0.028458908200264,-0.138281822204590,0.155986860394478,-0.016767196357250));
res += mul(Get(s2,-dx,0), float4x4(0.125880464911461,-0.017557797953486,-0.174398407340050,0.071361199021339,0.005055706016719,-0.069179706275463,0.130903437733650,-0.075540326535702,0.056033600121737,-0.031872849911451,0.020699171349406,0.054883964359760,-0.044512405991554,-0.121498078107834,0.038712989538908,-0.082224056124687));
res += mul(Get(s2,-dx,dy), float4x4(-0.100020758807659,-0.065875336527824,0.156078353524208,-0.017432974651456,0.166388496756554,0.121309496462345,0.058015260845423,0.158071428537369,-0.079326398670673,0.055032953619957,-0.128709852695465,-0.000908123562112,-0.226138383150101,0.000633201212622,-0.132224544882774,0.015277704223990));
res += mul(Get(s2,0,-dy), float4x4(-0.023751689121127,-0.037039343267679,-0.021082421764731,-0.017371293157339,-0.008505256846547,0.001969597768039,-0.034602865576744,-0.128403231501579,-0.154135912656784,0.264178156852722,-0.042315311729908,-0.144851699471474,0.009192077443004,0.061024330556393,-0.007288003340364,-0.041869774460793));
res += mul(Get(s2,0,0), float4x4(0.104328304529190,0.050381038337946,0.151853993535042,-0.063901513814926,0.169149294495583,0.010874693281949,-0.184952870011330,0.134587362408638,-0.169955074787140,-0.115514986217022,0.081667721271515,-0.091207310557365,-0.036940623074770,0.108739875257015,0.059985805302858,0.241934210062027));
res += mul(Get(s2,0,dy), float4x4(0.047298457473516,-0.070700228214264,0.089134402573109,-0.042915418744087,-0.129224315285683,-0.043231450021267,-0.395313173532486,-0.142289206385612,-0.049569576978683,0.011508834548295,-0.052892256528139,0.056612424552441,0.118203148245811,-0.269492059946060,-0.102123498916626,0.143603384494781));
res += mul(Get(s2,dx,-dy), float4x4(-0.179145887494087,-0.096370115876198,0.058479856699705,0.088550209999084,0.083800017833710,0.079533979296684,0.022175204008818,-0.041657812893391,-0.002927004359663,0.023443663492799,0.091787353157997,0.136110424995422,-0.164360582828522,-0.092281632125378,-0.114548362791538,-0.102190196514130));
res += mul(Get(s2,dx,0), float4x4(-0.006090283393860,0.047719124704599,-0.078505367040634,0.098471067845821,-0.088911764323711,0.115968890488148,0.231868639588356,-0.095032051205635,0.021804621443152,0.120420724153519,0.072658911347389,0.062741287052631,-0.075886614620686,0.085385575890541,0.042812775820494,-0.074082210659981));
res += mul(Get(s2,dx,dy), float4x4(0.008370266295969,-0.041508335620165,-0.121844910085201,0.183249562978745,-0.029662257060409,-0.037890128791332,0.106633245944977,0.060856729745865,-0.156413659453392,0.027185514569283,-0.050788246095181,-0.218532755970955,0.027691520750523,-0.109992228448391,0.036531642079353,0.138307005167007));
res += mul(Get(s3,-dx,-dy), float4x4(0.213966384530067,0.012049847282469,-0.005079138558358,0.161010399460793,-0.009662440977991,0.092559546232224,-0.132759541273117,0.056843563914299,0.090713292360306,0.085310794413090,-0.070328801870346,-0.044286187738180,0.056264791637659,-0.035576451569796,0.157717555761337,-0.046098385006189));
res += mul(Get(s3,-dx,0), float4x4(0.007930329069495,0.085318773984909,-0.048889752477407,0.003564543323591,-0.108486138284206,-0.056142386049032,-0.122836835682392,0.025576503947377,0.057499740272760,0.217490747570992,-0.047966308891773,-0.004125560168177,-0.057110428810120,-0.010235981084406,0.117677502334118,-0.306006729602814));
res += mul(Get(s3,-dx,dy), float4x4(-0.156422495841980,-0.098485484719276,0.060585353523493,0.202742561697960,-0.016231756657362,0.111140623688698,-0.002022496424615,-0.132348850369453,0.081009373068810,-0.065967001020908,0.042444903403521,0.129123613238335,-0.069995008409023,0.035754282027483,0.071142956614494,0.049497213214636));
res += mul(Get(s3,0,-dy), float4x4(0.045049041509628,-0.105023734271526,0.099468149244785,-0.031159384176135,-0.070088423788548,-0.125094249844551,-0.034888900816441,-0.012986564077437,0.212999597191811,-0.104019284248352,0.046922523528337,-0.103476151823997,0.092567265033722,0.034195519983768,0.027486477047205,0.090241596102715));
res += mul(Get(s3,0,0), float4x4(0.125497326254845,0.131429955363274,0.270839035511017,-0.061654128134251,-0.014120735228062,-0.185011550784111,0.120498761534691,-0.061461213976145,0.031014937907457,0.029275236651301,-0.234688580036163,-0.192317694425583,0.126942411065102,-0.110078439116478,0.055663023144007,0.108923293650150));
res += mul(Get(s3,0,dy), float4x4(-0.142258673906326,-0.026432603597641,0.037204802036285,-0.088972024619579,-0.037726692855358,0.082358561456203,-0.027127612382174,-0.232615023851395,0.210997298359871,0.018225831910968,-0.125376328825951,-0.122051410377026,0.113732129335403,0.213872432708740,0.118786096572876,-0.013125213794410));
res += mul(Get(s3,dx,-dy), float4x4(-0.011420587077737,0.204060524702072,0.080876283347607,0.141614153981209,-0.048842187970877,-0.102467931807041,0.112007923424244,-0.141595885157585,-0.177235543727875,0.262874752283096,0.130979120731354,0.077765353024006,0.170422926545143,0.104180775582790,-0.002784545999020,-0.077032223343849));
res += mul(Get(s3,dx,0), float4x4(0.060867927968502,0.086946189403534,0.027958028018475,-0.151910990476608,-0.003595657879487,-0.031677335500717,0.108460865914822,-0.043838661164045,0.096653051674366,-0.062409654259682,0.031359057873487,-0.083047308027744,-0.003951753489673,-0.148553058505058,-0.199699908494949,-0.011541050858796));
res += mul(Get(s3,dx,dy), float4x4(0.025574626401067,-0.100621484220028,0.012211105786264,-0.117392085492611,0.118661940097809,-0.107622779905796,0.182300850749016,0.036114830523729,0.157033607363701,-0.205849260091782,0.170106664299965,0.061376553028822,-0.068447552621365,0.007161328569055,0.064040236175060,0.087203830480576));
return max(float4(0,0,0,0), res);
}
