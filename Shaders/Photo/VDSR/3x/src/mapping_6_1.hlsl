sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.033312790095806,0.073234975337982,0.013494784012437,0.102706909179688,0.085566654801369,0.045807473361492,-0.009797748178244,0.070754520595074,0.179177120327950,-0.030206920579076,0.252008944749832,-0.139845564961433,-0.149295449256897,0.186462894082069,-0.047282114624977,0.073726832866669));
res += mul(Get(s0,-dx,0), float4x4(0.080409027636051,-0.002113160677254,-0.049831591546535,0.018066944554448,0.134392201900482,0.012985767796636,-0.046551614999771,0.010848895646632,0.039309449493885,0.068585239350796,0.058849684894085,0.109161503612995,-0.082421056926250,-0.050178516656160,0.142922431230545,0.153336584568024));
res += mul(Get(s0,-dx,dy), float4x4(-0.032099381089211,0.195620894432068,-0.107685849070549,-0.076677612960339,0.167939350008965,-0.156131729483604,-0.081536494195461,0.076435036957264,0.129371911287308,-0.051658168435097,0.025627117604017,0.011396986432374,0.045155320316553,0.014612056314945,-0.159503057599068,-0.192970469594002));
res += mul(Get(s0,0,-dy), float4x4(-0.062187489122152,0.029209867119789,0.085755616426468,-0.048007745295763,0.028645949438214,0.006243711803108,0.038083132356405,0.207298770546913,-0.033615313470364,-0.084194928407669,-0.058007217943668,-0.026107365265489,-0.107919767498970,-0.011485336348414,0.044654715806246,-0.143518716096878));
res += mul(Get(s0,0,0), float4x4(-0.012737783603370,-0.122599504888058,0.038091637194157,0.087733753025532,-0.181532204151154,0.115471132099628,-0.073346786201000,0.020106226205826,0.049932993948460,-0.074099197983742,-0.119301959872246,-0.061511456966400,-0.127477973699570,-0.011016665957868,0.013445582240820,0.159195870161057));
res += mul(Get(s0,0,dy), float4x4(-0.081896223127842,0.172579169273376,-0.120993778109550,0.224876269698143,-0.016712903976440,-0.057139955461025,0.040652636438608,0.119400978088379,-0.062906570732594,-0.087193891406059,-0.065115638077259,-0.155210211873055,0.057576354593039,-0.027194160968065,-0.067521058022976,0.163550302386284));
res += mul(Get(s0,dx,-dy), float4x4(-0.064876973628998,-0.054996456950903,-0.014881756156683,0.130907729268074,0.145246222615242,0.098734244704247,-0.014088962227106,-0.068490982055664,-0.173344612121582,-0.118061959743500,-0.082184061408043,-0.033133607357740,-0.023950060829520,0.097360014915466,0.067081719636917,0.072802171111107));
res += mul(Get(s0,dx,0), float4x4(-0.078934215009212,-0.070761606097221,-0.043372955173254,-0.014906771481037,-0.000661594851408,0.124950923025608,0.005744948051870,-0.004777977243066,-0.042912699282169,-0.077701278030872,-0.129917889833450,-0.165077522397041,-0.066411249339581,0.030936352908611,-0.018813740462065,0.065348252654076));
res += mul(Get(s0,dx,dy), float4x4(0.001698573119938,0.063012227416039,-0.061470840126276,-0.114061079919338,0.052824776619673,-0.003172987140715,0.029235364869237,-0.028037330135703,0.013538278639317,-0.083968654274940,-0.218278676271439,-0.113161332905293,0.166011571884155,0.097780190408230,0.045530401170254,0.061586726456881));
res += mul(Get(s1,-dx,-dy), float4x4(0.065865539014339,-0.046034310013056,0.031754638999701,0.035254649817944,-0.016998315230012,-0.107567071914673,-0.051025789231062,-0.269477367401123,0.008988689631224,-0.081919752061367,0.093354500830173,0.021156769245863,0.054145567119122,0.122798182070255,-0.032399039715528,-0.061849210411310));
res += mul(Get(s1,-dx,0), float4x4(0.255584299564362,0.140794962644577,-0.021198697388172,-0.010649443604052,-0.205031320452690,-0.076272204518318,-0.020824912935495,0.138707250356674,-0.132610067725182,-0.037797309458256,0.096141077578068,-0.066086463630199,0.094207108020782,0.023927496746182,-0.017319293692708,0.087032511830330));
res += mul(Get(s1,-dx,dy), float4x4(0.084158107638359,0.118189640343189,-0.013857170939445,0.262709915637970,0.095141366124153,0.073945805430412,0.077670224010944,-0.069156624376774,-0.020081792026758,0.158697411417961,0.126481726765633,-0.180624350905418,-0.012271895073354,0.113316372036934,-0.050275541841984,0.066503755748272));
res += mul(Get(s1,0,-dy), float4x4(-0.031068813055754,0.040443122386932,0.070294491946697,-0.012670958414674,0.211143538355827,-0.016120959073305,-0.045902665704489,-0.118763826787472,-0.106475755572319,-0.005133190657943,-0.025934243574739,-0.127190455794334,0.163237825036049,0.098213925957680,-0.020666498690844,-0.009966486133635));
res += mul(Get(s1,0,0), float4x4(-0.124444618821144,0.024127500131726,-0.073060601949692,0.079518646001816,-0.042487684637308,0.105076663196087,-0.046164389699697,0.066600583493710,-0.109679140150547,-0.049098953604698,0.068606927990913,0.016743199899793,0.124109864234924,-0.065848983824253,-0.043892826884985,-0.035919398069382));
res += mul(Get(s1,0,dy), float4x4(-0.182089298963547,-0.007945170626044,-0.089947588741779,0.049135901033878,0.112953148782253,0.080685906112194,0.086511008441448,-0.042642172425985,0.044159557670355,0.151184707880020,0.070121839642525,-0.017586370930076,0.103079184889793,-0.039105508476496,-0.074268542230129,-0.032149109989405));
res += mul(Get(s1,dx,-dy), float4x4(0.183388978242874,-0.015862209722400,0.126628741621971,-0.014899239875376,0.210718646645546,-0.083398275077343,0.026700932532549,-0.032047599554062,-0.113365575671196,-0.134871527552605,-0.112722128629684,0.071998067200184,-0.021064072847366,-0.123138748109341,-0.111686669290066,0.001537852920592));
res += mul(Get(s1,dx,0), float4x4(-0.002219263464212,-0.114286586642265,0.010152959264815,-0.036378804594278,-0.068205200135708,0.084870748221874,0.005649008322507,-0.044326603412628,0.026315661147237,-0.018081307411194,-0.073065981268883,0.086921244859695,-0.055978994816542,-0.078638561069965,0.143629029393196,-0.103850074112415));
res += mul(Get(s1,dx,dy), float4x4(0.018549825996161,-0.101484239101410,-0.036671664565802,0.004389231558889,-0.004816104657948,0.046499356627464,-0.110953748226166,0.012616558931768,0.022025855258107,-0.056185565888882,-0.023207468912005,-0.023356201127172,0.006122277583927,0.057509273290634,-0.057604301720858,0.055252324789762));
res += mul(Get(s2,-dx,-dy), float4x4(-0.121301583945751,-0.003235938725993,-0.043955370783806,-0.040022876113653,-0.073549561202526,0.150918692350388,-0.005564963445067,-0.025816716253757,0.285669714212418,-0.071238234639168,-0.021987393498421,0.150169610977173,-0.087873823940754,0.148128002882004,0.198531880974770,0.101248748600483));
res += mul(Get(s2,-dx,0), float4x4(-0.099448487162590,0.028230521827936,0.063854828476906,-0.157872468233109,-0.013824217952788,0.031890302896500,0.137071087956429,-0.081964366137981,0.149810403585434,-0.119580723345280,-0.006418939214200,-0.024239445105195,-0.032650977373123,0.146405249834061,0.096844419836998,-0.053750459104776));
res += mul(Get(s2,-dx,dy), float4x4(-0.042374119162560,-0.131491333246231,0.149228334426880,-0.103838890790939,0.058260466903448,-0.013417007401586,-0.071389302611351,0.005284724757075,0.092824906110764,-0.056966636329889,0.024311739951372,-0.001695765648037,0.010794920846820,0.147468447685242,-0.002143335528672,-0.053062509745359));
res += mul(Get(s2,0,-dy), float4x4(-0.138557866215706,-0.033690836280584,0.000236768479226,0.110288925468922,-0.016279082745314,-0.015387777239084,0.070070721209049,0.099776551127434,0.088598519563675,-0.000410997483414,-0.018173074349761,0.011601322330534,-0.114569872617722,-0.042195893824100,0.060180373489857,0.107244499027729));
res += mul(Get(s2,0,0), float4x4(-0.070830769836903,-0.019971573725343,0.185465916991234,-0.068709149956703,-0.004044246859848,-0.019352031871676,0.004000995773822,-0.003339521586895,0.212395936250687,0.023488491773605,-0.001454964862205,0.018640985712409,-0.040241714566946,0.194156214594841,0.042031876742840,0.132721513509750));
res += mul(Get(s2,0,dy), float4x4(0.005477950442582,0.019345967099071,0.199309095740318,-0.041895389556885,-0.030125437304378,-0.110457740724087,-0.117326132953167,-0.068329229950905,-0.042076546698809,0.093775190412998,0.017179235816002,-0.011758378706872,-0.083058886229992,-0.070876397192478,0.138193488121033,0.150017961859703));
res += mul(Get(s2,dx,-dy), float4x4(-0.080362662672997,0.178568392992020,0.025267696008086,0.072273738682270,-0.137431666254997,-0.061625566333532,0.038209967315197,0.041628912091255,0.185574129223824,-0.093412213027477,-0.025551179423928,-0.082544580101967,-0.160697758197784,-0.041988208889961,0.025828571990132,-0.033137753605843));
res += mul(Get(s2,dx,0), float4x4(-0.010353977791965,-0.001905357348733,0.010962735861540,0.142026573419571,-0.092266879975796,-0.020846901461482,0.015717867761850,0.045436255633831,0.087306402623653,-0.125432223081589,-0.098875440657139,-0.040128495544195,-0.047752693295479,0.023346975445747,-0.112494088709354,-0.078602753579617));
res += mul(Get(s2,dx,dy), float4x4(0.027107128873467,-0.070637337863445,-0.076094202697277,-0.004363222047687,-0.040794517844915,-0.148346707224846,0.037616077810526,-0.039581779390574,0.089055113494396,-0.103017382323742,-0.085913464426994,0.001859934418462,-0.077640525996685,-0.093924283981323,-0.200412228703499,0.001463541877456));
res += mul(Get(s3,-dx,-dy), float4x4(-0.098080195486546,0.060092139989138,0.174036473035812,-0.040263831615448,-0.232380360364914,-0.072065725922585,-0.102335110306740,-0.028182677924633,-0.112993597984314,0.029126297682524,0.081055112183094,-0.105271458625793,0.010595152154565,0.108267493546009,0.075142547488213,-0.124664828181267));
res += mul(Get(s3,-dx,0), float4x4(-0.001320688519627,-0.028703514486551,0.049636103212833,-0.078676380217075,-0.185863941907883,-0.065398305654526,-0.006772258318961,-0.063017249107361,-0.060098275542259,-0.058935247361660,0.022839542478323,0.056252550333738,-0.069786794483662,-0.124399013817310,-0.033731143921614,-0.010252874344587));
res += mul(Get(s3,-dx,dy), float4x4(-0.080850504338741,-0.057657252997160,0.304494768381119,-0.006536423228681,0.044618278741837,0.076716348528862,-0.063439182937145,0.005630278959870,-0.159024283289909,0.037897426635027,-0.132607534527779,-0.006290570367128,-0.164896100759506,0.073597677052021,-0.058891423046589,-0.064932271838188));
res += mul(Get(s3,0,-dy), float4x4(-0.069969892501831,-0.059812150895596,-0.049916036427021,0.178991630673409,-0.049159970134497,-0.120101332664490,-0.092291176319122,-0.059706896543503,-0.081518650054932,-0.063263259828091,0.015067320317030,0.071822077035904,-0.012158540077507,-0.007313319016248,-0.107479698956013,-0.021198229864240));
res += mul(Get(s3,0,0), float4x4(-0.027431929484010,-0.133792340755463,0.033169187605381,-0.020804913714528,-0.146605223417282,-0.129015758633614,-0.062032237648964,-0.026830125600100,0.034202329814434,-0.118748642504215,0.036584854125977,0.139189764857292,0.071260392665863,-0.005916713271290,-0.026927405968308,0.072919480502605));
res += mul(Get(s3,0,dy), float4x4(-0.041063487529755,-0.096830256283283,-0.043029557913542,-0.002286014379933,0.180639013648033,-0.080925211310387,-0.012856043875217,0.024213017895818,-0.041687108576298,0.290838181972504,-0.063142471015453,-0.098215386271477,0.001500413985923,-0.012457446195185,-0.009965786710382,0.067724019289017));
res += mul(Get(s3,dx,-dy), float4x4(-0.089552611112595,-0.083112105727196,-0.006867214571685,0.164195910096169,-0.126966834068298,-0.089240081608295,-0.138340502977371,-0.044486001133919,-0.170612320303917,-0.161939427256584,-0.054942831397057,-0.045666478574276,-0.108094975352287,0.030169442296028,0.204034596681595,0.024893291294575));
res += mul(Get(s3,dx,0), float4x4(-0.019288299605250,-0.121412605047226,0.043045908212662,-0.015624856576324,-0.129590600728989,-0.137076705694199,-0.065356716513634,-0.011094586923718,-0.021437430754304,-0.083014369010925,-0.066988982260227,-0.037672121077776,-0.019733602181077,0.019915953278542,-0.039615802466869,0.078079037368298));
res += mul(Get(s3,dx,dy), float4x4(0.032639171928167,0.073699817061424,-0.066799975931644,-0.030409907922149,0.401474952697754,-0.145263850688934,0.013869337737560,-0.097808375954628,-0.041545044630766,0.085421234369278,-0.201114743947983,-0.096706606447697,-0.000238554479438,0.091964222490788,-0.056036137044430,0.169144049286842));
return max(float4(0,0,0,0), res);
}
