sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.087182521820068,-0.151260137557983,0.165422633290291,-0.166380256414413,0.021374704316258,-0.013092552311718,-0.085048563778400,-0.056228168308735,0.134887754917145,0.146248340606689,-0.201795056462288,-0.005641350988299,-0.033525053411722,-0.023120300844312,0.041217036545277,-0.040685016661882));
res += mul(Get(s0,-dx,0), float4x4(0.207692891359329,-0.055780947208405,0.134084850549698,0.155740261077881,-0.141509547829628,-0.045765474438667,-0.039896812289953,-0.136185958981514,-0.147567942738533,-0.080665409564972,-0.149747133255005,-0.085598185658455,0.258868277072906,-0.085793048143387,-0.054189212620258,0.035506438463926));
res += mul(Get(s0,-dx,dy), float4x4(0.036180593073368,-0.052283544093370,0.212988495826721,0.000793651503045,0.078531637787819,0.023617234081030,-0.105770893394947,-0.100999519228935,-0.182969719171524,0.023110721260309,-0.077093206346035,-0.126104593276978,-0.024733288213611,-0.150993406772614,-0.141428440809250,0.126915693283081));
res += mul(Get(s0,0,-dy), float4x4(-0.007767431903630,0.002247873693705,-0.208390280604362,0.078227318823338,-0.005571301095188,0.056852918118238,0.088974073529243,0.070860065519810,0.147938907146454,-0.124220378696918,0.157873049378395,0.005736685357988,-0.308198660612106,-0.019388670101762,0.030437400564551,-0.014308022335172));
res += mul(Get(s0,0,0), float4x4(-0.043247185647488,-0.020056499168277,0.062098287045956,-0.077892445027828,0.152646780014038,0.068579182028770,-0.078145183622837,-0.038122523576021,-0.092132970690727,0.143812417984009,-0.089506596326828,0.096413917839527,0.046236038208008,-0.027362706139684,-0.179276198148727,-0.042170647531748));
res += mul(Get(s0,0,dy), float4x4(-0.134503677487373,-0.137786701321602,0.020404214039445,0.135973751544952,0.085268549621105,0.013440051116049,0.050894718617201,-0.006947878748178,-0.123560689389706,-0.070031188428402,0.135343670845032,-0.002877205377445,-0.098403483629227,0.011571049690247,-0.142532855272293,-0.042639780789614));
res += mul(Get(s0,dx,-dy), float4x4(-0.120500609278679,-0.250949144363403,0.179650664329529,-0.029999252408743,0.122576385736465,0.033799577504396,0.023420136421919,-0.066308893263340,-0.006891837809235,-0.193301409482956,0.022613588720560,-0.002699261298403,-0.015201224945486,0.003411704674363,0.125724032521248,0.175660789012909));
res += mul(Get(s0,dx,0), float4x4(0.154064849019051,0.185936629772186,0.004822657443583,0.226310238242149,0.079452499747276,0.104528136551380,-0.013076868839562,0.135129347443581,-0.019061587750912,0.162201046943665,-0.174437180161476,-0.065218128263950,-0.143793493509293,0.038364440202713,-0.149971231818199,0.019699826836586));
res += mul(Get(s0,dx,dy), float4x4(0.105824969708920,0.130852207541466,0.153047949075699,0.023674808442593,-0.110994815826416,-0.093335717916489,0.058792993426323,-0.035924796015024,0.026761619374156,-0.040285479277372,-0.010224491357803,0.113877393305302,0.017271723598242,-0.100105069577694,0.035551793873310,-0.056362066417933));
res += mul(Get(s1,-dx,-dy), float4x4(0.056369360536337,0.062027852982283,0.189702630043030,-0.047769073396921,-0.014064663089812,-0.034131512045860,-0.003245562314987,-0.151001036167145,0.017083812505007,0.040384836494923,0.088372379541397,0.001183224027045,0.009661328978837,-0.363346457481384,0.082785286009312,-0.062869817018509));
res += mul(Get(s1,-dx,0), float4x4(0.219172269105911,-0.017943823710084,0.190514549612999,0.147003814578056,-0.092970460653305,-0.070247873663902,-0.055173516273499,0.033297795802355,0.067131422460079,-0.012748099863529,-0.009328752756119,0.106843315064907,0.212995618581772,-0.026143848896027,-0.192527309060097,-0.037181273102760));
res += mul(Get(s1,-dx,dy), float4x4(0.059826210141182,0.067655146121979,0.008501721546054,-0.091751880943775,-0.118141666054726,0.030157914385200,-0.094536595046520,-0.219365403056145,0.112488605082035,-0.150524035096169,-0.039926767349243,-0.031333893537521,0.009148148819804,-0.080108121037483,0.137874871492386,0.160756498575211));
res += mul(Get(s1,0,-dy), float4x4(0.155408889055252,0.103721186518669,-0.056620918214321,-0.006460261531174,0.155288204550743,0.087430939078331,0.029898250475526,0.263671338558197,0.004332957323641,-0.042584151029587,-0.051894422620535,0.034178316593170,0.068844534456730,-0.111939802765846,0.194353803992271,0.124120265245438));
res += mul(Get(s1,0,0), float4x4(-0.142833366990089,-0.018387278541923,0.085706070065498,-0.072518065571785,0.021680457517505,0.160892337560654,0.101153850555420,0.064129918813705,-0.149675607681274,-0.091362103819847,-0.095755539834499,-0.043394707143307,0.084083490073681,-0.028120933100581,-0.018011521548033,-0.224556937813759));
res += mul(Get(s1,0,dy), float4x4(-0.133912891149521,-0.042476613074541,-0.101165749132633,0.075665131211281,-0.097386039793491,-0.008177249692380,0.066137149930000,-0.011313452385366,-0.004586511757225,0.001475012511946,0.135780453681946,0.067141346633434,-0.132817715406418,-0.101338148117065,-0.021225994452834,-0.066840849816799));
res += mul(Get(s1,dx,-dy), float4x4(0.073315784335136,0.034002386033535,-0.040930505841970,-0.012892021797597,0.043374657630920,-0.119818031787872,0.034224361181259,-0.243049025535583,0.110582686960697,0.050069857388735,-0.198434382677078,-0.027797289192677,0.218778640031815,0.144680872559547,0.253726243972778,-0.120280079543591));
res += mul(Get(s1,dx,0), float4x4(0.100520327687263,0.128196179866791,0.086636282503605,-0.097550004720688,-0.383289754390717,0.012941950000823,-0.080999329686165,-0.069891296327114,0.133348628878593,-0.125740915536880,0.112762443721294,-0.002936183242127,-0.015017156489193,-0.152250781655312,0.016835562884808,0.000341509992722));
res += mul(Get(s1,dx,dy), float4x4(0.003889793297276,-0.020737554877996,0.025302492082119,-0.130597934126854,0.019888913258910,0.094525530934334,0.088749110698700,-0.032720014452934,-0.134610593318939,0.032522719353437,-0.027348641306162,-0.177339747548103,-0.072796389460564,-0.055389057844877,0.029396079480648,0.114610217511654));
res += mul(Get(s2,-dx,-dy), float4x4(-0.133696094155312,0.065629027783871,0.262368053197861,0.133702725172043,0.017173806205392,-0.016377734020352,-0.045696802437305,0.019309017807245,-0.129455596208572,-0.230404362082481,0.128630623221397,-0.085671074688435,0.027961850166321,-0.127526447176933,-0.088720172643661,-0.045918460935354));
res += mul(Get(s2,-dx,0), float4x4(0.069314904510975,0.024456601589918,-0.051680233329535,-0.090266913175583,-0.034108709543943,0.152812823653221,-0.061346873641014,0.140301898121834,0.160115197300911,-0.038541350513697,0.125294029712677,-0.194903418421745,0.022469401359558,-0.043229494243860,0.063041441142559,0.058558646589518));
res += mul(Get(s2,-dx,dy), float4x4(-0.105629421770573,0.075463719666004,0.101128160953522,0.164163142442703,0.110257640480995,0.077490769326687,0.104769341647625,0.055433370172977,-0.078198365867138,0.106846615672112,0.087096787989140,-0.176533848047256,0.047137308865786,-0.015779778361320,-0.023302888497710,0.021617503836751));
res += mul(Get(s2,0,-dy), float4x4(0.072391457855701,-0.118752919137478,-0.004593163728714,-0.072326906025410,0.068561725318432,-0.145914003252983,0.024401582777500,-0.086453333497047,0.054659996181726,0.042383670806885,-0.174353629350662,0.060737129300833,-0.101313501596451,0.033157836645842,0.082101382315159,-0.044174339622259));
res += mul(Get(s2,0,0), float4x4(0.033832449465990,0.121120490133762,0.024351345375180,0.119902916252613,0.090880766510963,0.099776528775692,-0.016418360173702,0.099271349608898,0.170798406004906,-0.129590436816216,-0.093060359358788,-0.189355552196503,0.151132196187973,0.052789606153965,0.121804684400558,-0.098740205168724));
res += mul(Get(s2,0,dy), float4x4(-0.000195924003492,0.010544427670538,-0.030335441231728,0.124266967177391,0.169024735689163,0.196084201335907,0.101208731532097,0.100305400788784,-0.224495142698288,-0.117271631956100,-0.074265159666538,-0.030400693416595,0.104179196059704,0.042365007102489,0.025313954800367,-0.165222406387329));
res += mul(Get(s2,dx,-dy), float4x4(0.003616246394813,0.019724886864424,0.213575258851051,0.286576986312866,0.087733544409275,0.107305102050304,0.077076911926270,0.033218886703253,-0.017543753609061,-0.278169929981232,0.006685364991426,0.103528060019016,-0.094030439853668,-0.024415178224444,0.253105312585831,-0.110385932028294));
res += mul(Get(s2,dx,0), float4x4(0.032269824296236,-0.176829889416695,-0.013010553084314,0.042939424514771,-0.009860469028354,0.134023800492287,0.023886954411864,-0.096144296228886,-0.095740988850594,0.095119409263134,0.119367405772209,-0.091574043035507,0.033458534628153,-0.184714257717133,-0.035581693053246,-0.149092525243759));
res += mul(Get(s2,dx,dy), float4x4(0.068107232451439,0.177492216229439,-0.171126335859299,0.130874365568161,0.127518236637115,-0.113036938011646,0.114260025322437,-0.018673615530133,0.056889336556196,0.274152308702469,-0.181438699364662,-0.157543197274208,0.179822847247124,-0.179935798048973,-0.063038237392902,0.202769115567207));
res += mul(Get(s3,-dx,-dy), float4x4(-0.149696499109268,0.050153948366642,-0.068370483815670,0.093078181147575,-0.027691964060068,0.199818000197411,-0.131240546703339,-0.033384066075087,0.102276772260666,0.007005741354078,0.020274437963963,-0.239383250474930,0.002300317864865,-0.160390868782997,-0.124598138034344,-0.024144705384970));
res += mul(Get(s3,-dx,0), float4x4(-0.086741276085377,-0.097363471984863,0.087858617305756,0.020408492535353,-0.012700024992228,-0.218158155679703,-0.106602519750595,0.071909599006176,0.017769901081920,-0.039896808564663,0.044423457235098,0.100002087652683,-0.046508871018887,-0.075551718473434,0.056510176509619,0.059204749763012));
res += mul(Get(s3,-dx,dy), float4x4(-0.005378602538258,-0.146811529994011,0.020816631615162,0.066356755793095,-0.099926754832268,0.222082003951073,-0.009813196957111,-0.187083676457405,-0.093261152505875,0.030533434823155,0.001802184735425,0.037960976362228,0.298140108585358,0.218589022755623,0.120544306933880,-0.125401973724365));
res += mul(Get(s3,0,-dy), float4x4(-0.050936769694090,-0.150816813111305,-0.023690121248364,0.030085682868958,-0.077400401234627,0.017253145575523,-0.048919029533863,0.038937758654356,0.084148786962032,-0.083467990159988,-0.140013888478279,0.054763063788414,0.073443762958050,0.091610468924046,-0.112123295664787,-0.052012421190739));
res += mul(Get(s3,0,0), float4x4(-0.039685733616352,0.036532666534185,0.103034406900406,0.069826073944569,0.054859578609467,-0.079743020236492,0.040200985968113,0.022675814107060,-0.044608451426029,0.006540824193507,0.113191477954388,-0.078684911131859,0.288158863782883,0.098905302584171,-0.109590843319893,-0.048844918608665));
res += mul(Get(s3,0,dy), float4x4(0.162669435143471,-0.127661779522896,0.026623627170920,-0.238032519817352,0.013727527111769,-0.204089432954788,0.037614747881889,-0.133968785405159,0.089798338711262,0.092202059924603,0.088493652641773,0.079575531184673,-0.151008829474449,-0.102951519191265,-0.010292076505721,0.023327769711614));
res += mul(Get(s3,dx,-dy), float4x4(0.131542578339577,0.021768303588033,-0.000731949345209,-0.010066103190184,0.029891511425376,-0.040373828262091,0.038336798548698,-0.005497100297362,-0.090593032538891,-0.115595825016499,-0.073618493974209,-0.085729122161865,0.125852838158607,-0.224536687135696,0.048896186053753,-0.163530424237251));
res += mul(Get(s3,dx,0), float4x4(0.001592488726601,0.221051961183548,-0.200584456324577,-0.005767059046775,-0.152959838509560,-0.120188497006893,0.072658188641071,0.016384759917855,0.149623498320580,-0.061940625309944,0.175795599818230,-0.082191318273544,0.033727344125509,-0.061440132558346,0.053056843578815,-0.044934492558241));
res += mul(Get(s3,dx,dy), float4x4(-0.141428217291832,-0.040122665464878,-0.016025377437472,0.062186729162931,-0.020421858876944,-0.009462950751185,0.171407341957092,0.002182475756854,-0.038215491920710,0.082503087818623,0.271111369132996,0.192572191357613,-0.180169671773911,0.154109790921211,0.119734086096287,0.257321447134018));
return max(float4(0,0,0,0), res);
}
