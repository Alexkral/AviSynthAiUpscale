sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000819966371637,-0.084158472716808,-0.010579071007669,-0.067702971398830,0.021410170942545,-0.139849111437798,0.081302277743816,-0.031438879668713,-0.028054701164365,-0.104917056858540,0.137963548302650,0.002585637150332,0.105667911469936,0.144902721047401,-0.113758444786072,0.075030609965324));
res += mul(Get(s0,-dx,0), float4x4(-0.026337968185544,-0.113859549164772,0.072918131947517,-0.018182320520282,0.003570352913812,-0.009785134345293,0.061124388128519,-0.026089159771800,-0.068932972848415,-0.040275357663631,0.114521637558937,0.062141172587872,-0.106035687029362,0.149195432662964,-0.021229069679976,0.130214199423790));
res += mul(Get(s0,-dx,dy), float4x4(0.005568860098720,0.029219239950180,0.008865310810506,0.063018858432770,0.052173703908920,0.127168789505959,0.066615253686905,0.067076131701469,0.233484461903572,-0.060409121215343,0.085715383291245,-0.059213951230049,-0.045345623046160,0.043205477297306,-0.056617427617311,0.033627051860094));
res += mul(Get(s0,0,-dy), float4x4(0.021642848849297,0.013166060671210,0.355017751455307,-0.028660349547863,0.033693723380566,0.082843631505966,0.049537725746632,-0.031169556081295,-0.106046222150326,-0.035864952951670,-0.152934625744820,-0.004535278305411,0.058095894753933,-0.012773429043591,0.011405975557864,0.007114672102034));
res += mul(Get(s0,0,0), float4x4(-0.051320157945156,0.101711370050907,-0.037595212459564,-0.161917492747307,-0.043783012777567,0.044584449380636,0.105327554047108,-0.014787800610065,0.005638121627271,0.109636716544628,-0.116407364606857,0.018655264750123,-0.017278322950006,-0.087287493050098,0.041336596012115,0.000875191879459));
res += mul(Get(s0,0,dy), float4x4(-0.055628273636103,0.123086646199226,-0.146201029419899,0.035037074238062,0.030341317877173,0.088650681078434,0.082495987415314,0.234994202852249,0.059227112680674,-0.011700076982379,-0.003827310632914,0.061025749891996,-0.013360914774239,-0.094483949244022,-0.049303021281958,-0.150569111108780));
res += mul(Get(s0,dx,-dy), float4x4(0.404932469129562,-0.132638499140739,-0.079122543334961,0.058803372085094,-0.049029003828764,-0.144423559308052,0.137047678232193,-0.027765514329076,0.040603064000607,-0.078248172998428,-0.137797430157661,0.016736257821321,-0.026432266458869,-0.127498045563698,0.028639009222388,-0.031471800059080));
res += mul(Get(s0,dx,0), float4x4(-0.162871420383453,-0.129243284463882,0.034391965717077,-0.225004583597183,-0.043582655489445,0.238790705800056,-0.016531208530068,-0.038938060402870,-0.016749722883105,0.173879638314247,-0.106705747544765,-0.026459526270628,-0.078934483230114,-0.210988983511925,-0.023269286379218,-0.031719360500574));
res += mul(Get(s0,dx,dy), float4x4(-0.237359419465065,0.139701411128044,-0.198944091796875,-0.126833468675613,0.057592201977968,-0.110420063138008,-0.027071332558990,-0.001828714157455,-0.015729732811451,0.138405665755272,0.081061005592346,0.038323871791363,-0.060030583292246,-0.037642501294613,-0.079826012253761,-0.155831068754196));
res += mul(Get(s1,-dx,-dy), float4x4(-0.095547713339329,-0.041841719299555,0.113343402743340,0.113894835114479,-0.052802875638008,-0.100027941167355,0.028220228850842,-0.103373661637306,0.196757271885872,0.030103253200650,-0.096794307231903,0.082440197467804,-0.028265861794353,-0.232314109802246,-0.099830791354179,0.025193333625793));
res += mul(Get(s1,-dx,0), float4x4(0.001618983107619,0.022114822641015,0.008751617744565,0.060501497238874,-0.195560336112976,-0.239609763026237,0.017408598214388,-0.092065073549747,-0.064364328980446,0.188146308064461,-0.004445101134479,0.190914377570152,-0.008968721143901,-0.077926449477673,0.270616203546524,-0.056728441268206));
res += mul(Get(s1,-dx,dy), float4x4(-0.016919566318393,0.026462705805898,-0.034565795212984,0.148453235626221,-0.206686422228813,-0.106503248214722,-0.042465928941965,-0.135417968034744,-0.035856612026691,0.012337920255959,-0.115675888955593,0.011311659589410,0.118063323199749,0.091558367013931,0.345484405755997,-0.076031506061554));
res += mul(Get(s1,0,-dy), float4x4(0.090808935463428,-0.135796621441841,0.087071813642979,0.087259598076344,0.109072402119637,-0.016819924116135,0.041517104953527,0.219877883791924,0.104566238820553,0.013299830257893,-0.105262957513332,0.018252195790410,0.063878834247589,-0.140836626291275,-0.114948168396950,-0.094892427325249));
res += mul(Get(s1,0,0), float4x4(0.066950298845768,-0.133254498243332,-0.135082587599754,-0.086321227252483,0.032750207930803,-0.079211913049221,0.078589484095573,0.185401991009712,0.077017530798912,-0.054126445204020,0.090072266757488,0.322878062725067,-0.004899433813989,-0.051892504096031,0.150636628270149,-0.140066951513290));
res += mul(Get(s1,0,dy), float4x4(-0.039811607450247,-0.176576271653175,-0.072893135249615,-0.141917139291763,0.010336721315980,-0.120622128248215,-0.000312140182359,-0.011872930452228,0.016957139596343,0.143215894699097,-0.019859299063683,0.042860642075539,0.049693491309881,0.183233588933945,-0.120230920612812,0.033299010246992));
res += mul(Get(s1,dx,-dy), float4x4(-0.004349804017693,-0.102964818477631,-0.040864538401365,0.015768587589264,-0.039278142154217,0.189457565546036,-0.092177905142307,-0.088966183364391,-0.003570070257410,0.137566953897476,-0.119676783680916,0.003488020971417,0.074371621012688,-0.009095026180148,0.108245797455311,-0.070324577391148));
res += mul(Get(s1,dx,0), float4x4(0.073121890425682,-0.030581118538976,-0.043387033045292,0.095710247755051,-0.049536839127541,0.238789394497871,0.129556566476822,0.023221200332046,-0.216659113764763,-0.038948066532612,0.039509546011686,0.077316522598267,0.048631940037012,0.018596824258566,-0.054634444415569,-0.128181278705597));
res += mul(Get(s1,dx,dy), float4x4(0.144917175173759,0.138527140021324,0.057065069675446,0.014209925197065,0.102790646255016,0.085626766085625,0.019020199775696,-0.105046018958092,-0.017355831339955,0.013609746471047,-0.038503665477037,0.117632463574409,0.048919621855021,0.099938750267029,-0.210837319493294,0.028669210150838));
res += mul(Get(s2,-dx,-dy), float4x4(-0.269220054149628,-0.165697649121284,-0.089171059429646,-0.105046376585960,0.105363607406616,0.184191659092903,-0.150037601590157,0.158797517418861,-0.196093261241913,-0.273313224315643,0.119276531040668,-0.240078985691071,0.008899498730898,0.027722051367164,0.117468103766441,0.108031965792179));
res += mul(Get(s2,-dx,0), float4x4(-0.123680941760540,-0.019750345498323,0.059583604335785,-0.061140529811382,0.070259355008602,0.096846349537373,0.013441566377878,0.062997639179230,0.008831257931888,-0.312226802110672,0.011938141658902,-0.159339427947998,-0.076682023704052,0.041314661502838,-0.043782096356153,0.001180979656056));
res += mul(Get(s2,-dx,dy), float4x4(0.059188414365053,-0.075359232723713,-0.154736459255219,-0.051067754626274,0.022162413224578,0.153316512703896,-0.061929389834404,-0.035557959228754,-0.030581163242459,0.252836734056473,0.091426514089108,-0.075237639248371,-0.112694613635540,-0.046739846467972,-0.142309650778770,-0.091280661523342));
res += mul(Get(s2,0,-dy), float4x4(-0.152861535549164,-0.120014391839504,-0.001053180429153,-0.072972632944584,0.098547227680683,0.065054491162300,-0.210507780313492,0.092075385153294,-0.139931872487068,-0.122526481747627,0.165873631834984,0.006665389053524,0.046528957784176,-0.065020143985748,-0.085428662598133,0.073481187224388));
res += mul(Get(s2,0,0), float4x4(-0.105338759720325,0.038222685456276,0.158436149358749,-0.040822524577379,0.094234794378281,0.107310846447945,-0.028140511363745,0.032844591885805,0.000549817224964,-0.031360108405352,0.008923546411097,0.059877287596464,-0.112143993377686,-0.241071328520775,-0.058108981698751,-0.008085446432233));
res += mul(Get(s2,0,dy), float4x4(0.016619037836790,-0.029004570096731,0.084798656404018,-0.048642043024302,0.046655960381031,0.121955029666424,-0.056936588138342,-0.072026170790195,-0.027847925201058,0.231863275170326,0.066391699016094,-0.125098258256912,-0.114319883286953,-0.078569777309895,-0.113396808505058,-0.257485777139664));
res += mul(Get(s2,dx,-dy), float4x4(-0.118974804878235,-0.109301112592220,0.039676506072283,-0.059915736317635,-0.020447248592973,0.075293153524399,-0.175431981682777,-0.050406415015459,0.003647547215223,0.086470112204552,-0.029666611924767,-0.060819990932941,-0.013405938632786,-0.126718550920486,-0.014226190745831,0.100760661065578));
res += mul(Get(s2,dx,0), float4x4(0.019449818879366,-0.018823729828000,0.134967535734177,-0.015696039423347,-0.001331784995273,-0.145129889249802,0.184649690985680,-0.063347242772579,-0.041073005646467,0.016381938010454,-0.123718991875648,-0.010821246542037,0.022189877927303,-0.269674420356750,0.022510195150971,0.213311448693275));
res += mul(Get(s2,dx,dy), float4x4(-0.025389969348907,-0.043451778590679,0.097551316022873,-0.041726443916559,0.017332721501589,0.151349678635597,-0.067731283605099,-0.127022787928581,-0.019888408482075,-0.008162893354893,0.110288903117180,-0.001149566494860,-0.032021820545197,-0.081502892076969,0.015232214704156,-0.041493333876133));
res += mul(Get(s3,-dx,-dy), float4x4(-0.033299989998341,-0.028163300827146,0.018197862431407,0.161474734544754,0.004843995906413,0.030988784506917,0.087714001536369,0.095344454050064,0.042162064462900,0.134055048227310,0.230570152401924,0.138656586408615,0.077026367187500,-0.052706919610500,-0.014527460560203,-0.015328008681536));
res += mul(Get(s3,-dx,0), float4x4(-0.046570878475904,-0.046950284391642,0.116902366280556,-0.110109075903893,-0.006654025986791,0.093457981944084,0.051595408469439,0.065507687628269,-0.000005841677194,0.119611710309982,0.061816912144423,-0.025331819429994,-0.017564307898283,-0.044641900807619,-0.179382488131523,0.021634863689542));
res += mul(Get(s3,-dx,dy), float4x4(-0.061513647437096,-0.115413323044777,-0.032017521560192,-0.092167921364307,-0.024249808862805,0.021102828904986,0.000675983377732,-0.009710851125419,0.063896976411343,-0.211342409253120,-0.046114630997181,-0.051352299749851,-0.149212971329689,-0.058332096785307,-0.087425522506237,-0.036405414342880));
res += mul(Get(s3,0,-dy), float4x4(-0.023958748206496,-0.054126653820276,-0.031895022839308,0.010208800435066,-0.053184110671282,-0.049274981021881,-0.018801761791110,-0.028493266552687,0.009490866214037,-0.044091437011957,0.034618150442839,0.072572804987431,0.091398097574711,-0.175044819712639,-0.100871823728085,0.049470350146294));
res += mul(Get(s3,0,0), float4x4(-0.028195520862937,0.064175300300121,-0.001589632243849,-0.131718590855598,-0.027853526175022,0.158729404211044,0.020375451073050,-0.040189210325480,-0.071269981563091,-0.032881632447243,-0.044245671480894,-0.159248143434525,-0.069474093616009,-0.022047108039260,-0.084095411002636,0.062250368297100));
res += mul(Get(s3,0,dy), float4x4(-0.012940349057317,-0.083885319530964,0.026403162628412,-0.110072940587997,-0.056066103279591,-0.016145110130310,-0.150303065776825,0.081827715039253,0.006873671431094,-0.083763308823109,-0.084383472800255,-0.010758562013507,-0.176140576601028,0.081153027713299,-0.062052182853222,0.008216241374612));
res += mul(Get(s3,dx,-dy), float4x4(0.050849668681622,-0.197180807590485,-0.027615493163466,0.044022932648659,-0.140125378966331,-0.137620225548744,-0.152431741356850,0.015996595844626,0.117119774222374,-0.100478947162628,-0.054774764925241,0.054678570479155,0.143661960959435,-0.114252313971519,0.062402803450823,-0.058151151984930));
res += mul(Get(s3,dx,0), float4x4(-0.030659150332212,0.017917893826962,0.004219505470246,-0.024858551099896,-0.064645312726498,0.205566048622131,0.046269629150629,-0.066531822085381,-0.084002189338207,-0.005354908760637,-0.201866656541824,-0.238849967718124,0.059157624840736,0.071795940399170,0.025112863630056,-0.047402009367943));
res += mul(Get(s3,dx,dy), float4x4(0.256784170866013,-0.014121188782156,-0.162574425339699,0.134632870554924,-0.097349278628826,0.091954477131367,0.014053705148399,0.023548092693090,0.030926289036870,0.107709325850010,-0.200506865978241,-0.056370846927166,0.071778103709221,0.031847372651100,-0.011188733391464,-0.145676672458649));
return max(float4(0,0,0,0), res);
}
