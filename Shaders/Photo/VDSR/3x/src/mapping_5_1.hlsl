sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.049399141222239,0.147205308079720,-0.020617999136448,-0.043630138039589,-0.091662332415581,0.094102762639523,0.074505902826786,0.004317980259657,0.006252256222069,0.117029048502445,0.052407920360565,0.111637026071548,0.122381582856178,0.206219479441643,0.078434936702251,-0.009875291027129));
res += mul(Get(s0,-dx,0), float4x4(-0.085889779031277,0.085182480514050,0.003875518450513,-0.050692841410637,-0.050055969506502,0.251323491334915,-0.082526437938213,0.020665746182203,-0.164231032133102,-0.142031207680702,0.085536159574986,0.062379226088524,0.088511466979980,0.148777008056641,-0.065460480749607,-0.023700680583715));
res += mul(Get(s0,-dx,dy), float4x4(-0.002338917460293,0.074851527810097,0.022393390536308,0.055020600557327,-0.154703810811043,0.131832763552666,-0.121110826730728,-0.024210918694735,0.068872645497322,0.007155435625464,0.057231914252043,0.128217786550522,-0.106699854135513,-0.137759208679199,-0.187307879328728,-0.090979881584644));
res += mul(Get(s0,0,-dy), float4x4(-0.160320609807968,0.113152436912060,-0.043517969548702,0.160529717803001,0.072754494845867,0.170956850051880,-0.043919064104557,0.117459416389465,-0.064673498272896,0.025573655962944,-0.061484221369028,-0.013628432527184,0.208461508154869,0.140475720167160,-0.140307903289795,0.111191593110561));
res += mul(Get(s0,0,0), float4x4(-0.120017908513546,-0.033204458653927,-0.191844657063484,-0.044146347790956,-0.028154669329524,0.009595775045455,0.053592197597027,-0.037513826042414,-0.103161498904228,-0.053797751665115,0.095701396465302,-0.069460451602936,0.063105791807175,0.036057464778423,-0.041900001466274,0.059057265520096));
res += mul(Get(s0,0,dy), float4x4(-0.062008846551180,-0.084044180810452,0.022566327825189,-0.156961351633072,-0.139038458466530,-0.009507843293250,-0.248109504580498,-0.042821064591408,0.009269043803215,0.069509841501713,-0.070494212210178,0.082822158932686,-0.199202939867973,-0.037818696349859,-0.016347263008356,-0.147819757461548));
res += mul(Get(s0,dx,-dy), float4x4(0.169986039400101,-0.041649255901575,0.065032541751862,0.051414940506220,-0.053555443882942,0.009422303177416,-0.180219277739525,-0.040821060538292,-0.124448210000992,0.081134036183357,0.104350157082081,0.035293530672789,-0.065986342728138,0.084171168506145,0.100525170564651,-0.115871250629425));
res += mul(Get(s0,dx,0), float4x4(0.113002978265285,-0.153992205858231,0.072111606597900,-0.025345521047711,-0.223490774631500,0.031737659126520,-0.113217413425446,-0.051606964319944,0.016089554876089,-0.093090049922466,0.017796527594328,-0.059747140854597,-0.052628010511398,0.081923104822636,0.049375787377357,-0.081830732524395));
res += mul(Get(s0,dx,dy), float4x4(-0.073208875954151,0.014414888806641,-0.280156612396240,-0.009135917760432,0.026857556775212,0.005564630031586,-0.109414041042328,-0.097946807742119,-0.163112476468086,-0.076160669326782,-0.044788215309381,0.018529139459133,0.064566552639008,-0.057470757514238,-0.147673860192299,-0.154923141002655));
res += mul(Get(s1,-dx,-dy), float4x4(-0.079096868634224,-0.119272053241730,-0.013040226884186,-0.025516098365188,-0.052403576672077,0.062773317098618,0.003794537391514,0.152867063879967,-0.178959324955940,-0.003714968450367,-0.040328364819288,-0.000750114559196,-0.082713216543198,0.140496119856834,-0.000102447964309,0.098171725869179));
res += mul(Get(s1,-dx,0), float4x4(-0.141701012849808,-0.248248115181923,0.018706832081079,0.093920253217220,0.172597542405128,0.008389495313168,0.061273612082005,0.144573271274567,0.017025865614414,0.063816949725151,0.088349737226963,0.060657653957605,0.075105942785740,-0.038470894098282,0.056541129946709,0.081072539091110));
res += mul(Get(s1,-dx,dy), float4x4(0.068620063364506,0.031080802902579,-0.058087550103664,-0.011469706892967,0.121761679649353,0.285029858350754,-0.083698421716690,-0.207884177565575,0.047395486384630,-0.241341426968575,0.132866427302361,-0.132569000124931,0.090715967118740,0.032968297600746,0.011947023682296,0.101711437106133));
res += mul(Get(s1,0,-dy), float4x4(-0.220120534300804,-0.229809552431107,-0.002155481837690,-0.139293789863586,-0.116314917802811,0.066433273255825,0.155129268765450,-0.072552859783173,0.177875176072121,-0.000623491592705,-0.029841201379895,0.052635677158833,0.048452913761139,0.089114315807819,0.003456908510998,-0.180719509720802));
res += mul(Get(s1,0,0), float4x4(-0.261859059333801,-0.043895017355680,-0.093664251267910,0.022091686725616,-0.007335452362895,-0.128211289644241,0.121147252619267,0.114442959427834,-0.092731237411499,0.080909252166748,-0.012221939861774,-0.011517806909978,-0.051573991775513,0.026427155360579,0.198157221078873,0.136541694402695));
res += mul(Get(s1,0,dy), float4x4(0.092618152499199,-0.250168949365616,0.069843813776970,0.078224800527096,0.026574822142720,0.070376567542553,0.014670033007860,0.062666356563568,-0.132861092686653,0.116552107036114,-0.286514401435852,-0.187753200531006,0.042416673153639,-0.112442977726460,-0.019024062901735,0.051630634814501));
res += mul(Get(s1,dx,-dy), float4x4(0.049815274775028,-0.067532882094383,0.086286023259163,-0.050558991730213,0.118436418473721,-0.113846562802792,-0.038707960397005,-0.086338847875595,0.065314605832100,0.071751847863197,-0.193887189030647,0.008816042914987,0.008456547744572,0.026141181588173,-0.034437905997038,0.009373646229506));
res += mul(Get(s1,dx,0), float4x4(0.033805418759584,-0.145703583955765,-0.204457089304924,-0.095024131238461,-0.089677281677723,-0.019625861197710,0.145416632294655,0.149018079042435,-0.171641752123833,-0.091351673007011,0.076104849576950,-0.089435085654259,0.151409670710564,-0.028194241225719,0.141373142600060,-0.049282804131508));
res += mul(Get(s1,dx,dy), float4x4(0.039304167032242,-0.148938983678818,0.033599127084017,-0.103896297514439,-0.185954138636589,-0.209290802478790,-0.062408193945885,0.112446114420891,-0.061813712120056,-0.091248348355293,-0.035927645862103,0.001430422998965,-0.142212450504303,-0.173394247889519,0.013575282879174,0.041982110589743));
res += mul(Get(s2,-dx,-dy), float4x4(0.176464125514030,-0.208447247743607,0.027970755472779,0.061486538499594,0.230600386857986,0.013351592235267,-0.090705201029778,-0.064148090779781,-0.243918478488922,0.114028789103031,0.079221941530704,-0.165123641490936,-0.087821215391159,-0.025274114683270,-0.294017493724823,0.040831934660673));
res += mul(Get(s2,-dx,0), float4x4(0.077376388013363,-0.144269227981567,0.041795965284109,0.074045687913895,-0.092902064323425,-0.192788183689117,0.165996819734573,-0.276324003934860,0.090366303920746,0.100396245718002,0.063591711223125,-0.092798165977001,-0.012394747696817,0.012198114767671,-0.034343615174294,-0.018102424219251));
res += mul(Get(s2,-dx,dy), float4x4(-0.037278641015291,0.108366951346397,-0.131929755210876,0.161162942647934,-0.023294456303120,-0.062005784362555,-0.124095924198627,0.082093104720116,-0.003119955537841,0.019689038395882,0.075612097978592,0.012426139786839,0.008564005605876,-0.035161204636097,-0.081477314233780,-0.185287207365036));
res += mul(Get(s2,0,-dy), float4x4(-0.028424797579646,-0.045508507639170,-0.015680590644479,0.019020246341825,0.041438315063715,-0.016604175791144,0.015364925377071,-0.027468537911773,-0.023299925029278,0.176390483975410,0.152993127703667,-0.108086846768856,-0.276481389999390,0.185238674283028,0.006772459950298,-0.188616141676903));
res += mul(Get(s2,0,0), float4x4(0.011808439157903,-0.061898954212666,-0.038081862032413,0.045577425509691,0.021993767470121,-0.020323747768998,-0.010868226177990,0.073136694729328,0.052277345210314,-0.006899263244122,0.001310419756919,0.012241706252098,0.018385803326964,0.048638045787811,0.103971071541309,0.038928270339966));
res += mul(Get(s2,0,dy), float4x4(0.061971664428711,-0.164222195744514,0.135352164506912,0.206607684493065,-0.027936622500420,0.076539419591427,-0.015562790445983,0.065768428146839,-0.011984597891569,0.043144401162863,-0.133282899856567,0.043175291270018,0.022629862651229,0.213560461997986,-0.157240957021713,0.103975862264633));
res += mul(Get(s2,dx,-dy), float4x4(-0.001718770596199,0.173640847206116,-0.032085094600916,-0.012432185932994,0.016076305881143,0.223124563694000,0.161469712853432,0.091918952763081,-0.045956242829561,0.037579439580441,-0.002714740112424,-0.105233028531075,-0.148477435112000,-0.007147984579206,0.036950990557671,-0.066746711730957));
res += mul(Get(s2,dx,0), float4x4(-0.035800926387310,0.002104017650709,0.073319546878338,-0.044524423778057,0.064215287566185,-0.146433025598526,-0.015853393822908,-0.315049499273300,0.031297400593758,0.046971838921309,0.036750450730324,-0.103073105216026,-0.100414462387562,0.052461702376604,0.046769704669714,-0.048696525394917));
res += mul(Get(s2,dx,dy), float4x4(-0.054768882691860,-0.019247608259320,0.000503697316162,-0.015818610787392,-0.024413086473942,0.161119729280472,-0.196927040815353,0.013442528434098,-0.063433729112148,0.118607029318810,-0.080983899533749,0.127795696258545,0.012041951529682,0.234029680490494,-0.020624583587050,-0.263393491506577));
res += mul(Get(s3,-dx,-dy), float4x4(0.056037846952677,-0.016686212271452,0.131812676787376,0.063341118395329,-0.019819773733616,-0.020055579021573,0.058373596519232,-0.019939478486776,0.160076037049294,-0.067811444401741,-0.021310027688742,-0.010487481951714,-0.045796804130077,0.162488654255867,0.208497539162636,-0.160226628184319));
res += mul(Get(s3,-dx,0), float4x4(-0.003736208193004,-0.003059088485315,-0.186396569013596,0.033473830670118,-0.178361281752586,-0.121794432401657,-0.251205414533615,-0.140911862254143,-0.201167911291122,0.024249410256743,-0.124623827636242,0.059941083192825,0.029272859916091,-0.171906039118767,-0.029663583263755,0.038944557309151));
res += mul(Get(s3,-dx,dy), float4x4(-0.143977046012878,0.160662740468979,-0.120251096785069,-0.131703257560730,0.000609302485827,0.055059701204300,0.078266978263855,-0.190133988857269,-0.014946210198104,-0.102444477379322,-0.057647060602903,0.088806688785553,-0.051959175616503,-0.023064576089382,-0.036973271518946,0.021543042734265));
res += mul(Get(s3,0,-dy), float4x4(0.011618362739682,-0.066302366554737,0.053326409310102,0.003248218446970,-0.161423757672310,0.025951767340302,0.117312997579575,0.047912124544382,-0.002564236521721,-0.159475371241570,-0.076573826372623,0.122474677860737,-0.057969529181719,-0.106038719415665,0.055705852806568,-0.061700873076916));
res += mul(Get(s3,0,0), float4x4(0.001826833002269,-0.040826283395290,0.112947583198547,-0.001128599164076,0.128989532589912,0.146418571472168,-0.123135112226009,-0.054456446319818,0.016303354874253,0.070682115852833,0.067015103995800,-0.072600178420544,-0.044037058949471,0.174780443310738,0.034849442541599,0.194986611604691));
res += mul(Get(s3,0,dy), float4x4(0.131847187876701,0.222586527466774,0.164352014660835,-0.110728546977043,0.095098964869976,0.062349323183298,-0.196301072835922,-0.056354220956564,0.023054454475641,-0.200089603662491,-0.040420435369015,0.180358245968819,-0.026267275214195,-0.058356899768114,0.151378065347672,0.025045184418559));
res += mul(Get(s3,dx,-dy), float4x4(0.048783037811518,-0.060123428702354,0.093119896948338,-0.050780493766069,0.248232915997505,0.040338743478060,-0.092832997441292,-0.003629928920418,-0.151641875505447,-0.029899701476097,0.049370162189007,-0.069738566875458,0.033014100044966,0.097436249256134,-0.236761882901192,0.004034197889268));
res += mul(Get(s3,dx,0), float4x4(0.074885517358780,0.227730900049210,0.050516780465841,0.046487182378769,0.276642203330994,-0.136635184288025,-0.052507232874632,0.167096331715584,-0.141784101724625,0.228466823697090,-0.211958736181259,0.165828719735146,-0.020325375720859,-0.002512431470677,0.284847289323807,0.132795572280884));
res += mul(Get(s3,dx,dy), float4x4(-0.041770961135626,0.077877797186375,-0.034150421619415,0.126539409160614,0.048580653965473,0.043450314551592,0.201764747500420,-0.079012647271156,-0.285693168640137,-0.151056334376335,-0.120797283947468,0.084286116063595,-0.021676748991013,0.067219786345959,-0.065244838595390,0.058096975088120));
return max(float4(0,0,0,0), res);
}
