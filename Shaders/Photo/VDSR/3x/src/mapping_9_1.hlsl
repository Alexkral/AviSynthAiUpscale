sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.124412819743156,-0.009185049682856,-0.097635321319103,0.051827967166901,-0.008639587089419,0.018370868638158,0.168905749917030,-0.023574192076921,-0.015597800724208,-0.089351318776608,0.021461786702275,0.047404255717993,-0.099611438810825,0.004565072711557,0.011939238756895,0.173830360174179));
res += mul(Get(s0,-dx,0), float4x4(-0.119653359055519,-0.113964326679707,-0.051996182650328,0.032895296812057,0.041479960083961,0.034687936306000,0.179229214787483,0.087095364928246,-0.094806820154190,-0.084652088582516,-0.072638325393200,0.040251031517982,0.088279962539673,-0.045108586549759,0.034163996577263,-0.062621310353279));
res += mul(Get(s0,-dx,dy), float4x4(-0.063735008239746,0.018302103504539,-0.030804749578238,-0.056302770972252,0.041604634374380,-0.034129902720451,-0.095970056951046,-0.040459826588631,0.093570448458195,-0.070387199521065,0.045199945569038,0.112378969788551,0.099816367030144,0.005542563740164,0.078606374561787,-0.000390772853279));
res += mul(Get(s0,0,-dy), float4x4(0.039705041795969,-0.055307105183601,-0.063200928270817,0.021903984248638,0.012348540127277,-0.009012945927680,0.009709191508591,0.086061447858810,-0.045796751976013,-0.013981296680868,0.064778253436089,0.050193611532450,-0.069732412695885,0.022114507853985,0.046001393347979,0.098018653690815));
res += mul(Get(s0,0,0), float4x4(-0.010838430374861,-0.056439831852913,-0.087599456310272,0.138025984168053,0.013212093152106,0.022667407989502,0.055470991879702,0.276059031486511,-0.106494016945362,-0.014405278488994,0.094839341938496,-0.005880040116608,0.047053262591362,-0.054658457636833,-0.000614244723693,-0.060392938554287));
res += mul(Get(s0,0,dy), float4x4(0.119206525385380,0.010393208824098,-0.075755536556244,-0.027126412838697,0.012264668941498,0.031646791845560,-0.095464631915092,0.218249455094337,-0.098052591085434,-0.046410538256168,-0.129466578364372,-0.077698424458504,0.101088054478168,0.056789718568325,-0.033603623509407,0.043505825102329));
res += mul(Get(s0,dx,-dy), float4x4(-0.157861083745956,-0.088968470692635,0.037328839302063,0.009418805129826,0.021164050325751,-0.053484428673983,0.022967105731368,0.118572719395161,-0.133782759308815,-0.125184044241905,0.082894839346409,0.065317451953888,-0.122787855565548,-0.014520863071084,0.055849280208349,0.003876996459439));
res += mul(Get(s0,dx,0), float4x4(-0.047012105584145,-0.140141054987907,0.042829494923353,0.083973988890648,0.085505023598671,-0.011253442615271,0.030730186030269,0.157684743404388,-0.092778906226158,-0.060482937842607,0.152484983205795,0.012323663569987,0.072702094912529,-0.081522084772587,0.179164275527000,-0.098968438804150));
res += mul(Get(s0,dx,dy), float4x4(0.088911600410938,-0.030345372855663,0.056636683642864,-0.107293829321861,-0.070813663303852,-0.099207714200020,0.023469425737858,-0.091375678777695,-0.058667551726103,0.042177457362413,0.001396895735525,-0.039630860090256,-0.048216298222542,0.073662541806698,0.082672603428364,0.021973673254251));
res += mul(Get(s1,-dx,-dy), float4x4(-0.103490948677063,-0.180769860744476,-0.120843797922134,-0.067802257835865,-0.020255094394088,-0.041141938418150,-0.147269085049629,0.011204093694687,-0.091178916394711,0.086653172969818,-0.030742092058063,0.115976825356483,-0.073788546025753,0.012449634261429,0.162342220544815,-0.029427172616124));
res += mul(Get(s1,-dx,0), float4x4(0.048238456249237,-0.110717415809631,-0.118091791868210,0.004394500982016,-0.026176614686847,0.092299491167068,-0.044477693736553,-0.002759616123512,0.041663829237223,-0.004130442161113,0.051731631159782,-0.128985598683357,0.211782410740852,0.001944375922903,0.188488766551018,-0.059765286743641));
res += mul(Get(s1,-dx,dy), float4x4(-0.017623331397772,-0.015592603012919,-0.081823460757732,-0.037209272384644,0.080719009041786,0.200606599450111,0.026619674637914,-0.152034103870392,0.021736536175013,-0.039543882012367,-0.036783844232559,-0.052337273955345,0.256989389657974,0.167713344097137,0.044628802686930,0.066872477531433));
res += mul(Get(s1,0,-dy), float4x4(-0.122461885213852,-0.104871056973934,-0.075920395553112,-0.065062664449215,0.097892150282860,0.017486160621047,-0.072975113987923,-0.000903353269678,-0.060730654746294,-0.039995703846216,-0.026009308174253,-0.087708614766598,-0.340190529823303,0.006880288477987,0.034415207803249,0.024521812796593));
res += mul(Get(s1,0,0), float4x4(0.033413663506508,-0.156504288315773,-0.047726586461067,-0.031394317746162,0.056033693253994,0.040491659194231,-0.024514896795154,-0.052482869476080,0.001826302148402,0.070256918668747,0.009074172005057,-0.048140443861485,0.114465802907944,0.047827072441578,0.018823990598321,-0.062522679567337));
res += mul(Get(s1,0,dy), float4x4(-0.004396878182888,0.077767580747604,-0.046760998666286,-0.009711271151900,0.080766670405865,0.211825355887413,-0.017185783013701,-0.004309975076467,-0.021968996152282,-0.017974598333240,-0.077470764517784,-0.021633062511683,-0.131528794765472,0.057741675525904,-0.038317926228046,0.030380103737116));
res += mul(Get(s1,dx,-dy), float4x4(-0.088440701365471,-0.112188771367073,-0.105054683983326,-0.019275566563010,-0.041785206645727,0.067305959761143,-0.086195856332779,0.015000388026237,-0.058234076946974,-0.183667272329330,-0.108476519584656,-0.092715978622437,-0.246904388070107,-0.010295567102730,-0.071539446711540,-0.028754500672221));
res += mul(Get(s1,dx,0), float4x4(0.170960694551468,0.070235192775726,-0.093098066747189,-0.050425995141268,-0.095413722097874,0.039144389331341,-0.041046068072319,0.034793965518475,-0.005474799778312,0.087989240884781,0.010953706689179,-0.104476094245911,0.165531411767006,0.000031758947443,0.024253612384200,0.057405598461628));
res += mul(Get(s1,dx,dy), float4x4(-0.059962086379528,0.035267062485218,-0.045674812048674,-0.068296194076538,0.054874993860722,0.073503896594048,-0.084857232868671,-0.031768806278706,-0.017867932096124,0.153301656246185,0.328273594379425,0.062822483479977,-0.046503946185112,-0.119929753243923,0.123043686151505,0.007763283792883));
res += mul(Get(s2,-dx,-dy), float4x4(-0.151311188936234,-0.066015698015690,-0.012498225085437,-0.083021603524685,0.136843577027321,0.105421312153339,0.079586692154408,0.024530375376344,0.075213231146336,-0.042239215224981,0.061374057084322,0.023284999653697,-0.059462204575539,-0.026278031989932,-0.052951645106077,0.086832262575626));
res += mul(Get(s2,-dx,0), float4x4(-0.013963211327791,-0.077929571270943,0.055902335792780,0.000190643317183,-0.142446145415306,0.115998059511185,0.086578413844109,0.007568156812340,0.034078001976013,0.343733906745911,-0.166922166943550,-0.014650467783213,-0.125538930296898,0.005739183630794,-0.074763022363186,-0.090528786182404));
res += mul(Get(s2,-dx,dy), float4x4(-0.065626658499241,0.040793456137180,0.101581521332264,0.094557404518127,0.040814530104399,0.047648154199123,0.054464824497700,0.100183583796024,0.088256046175957,0.113641574978828,-0.027635613456368,-0.033972561359406,-0.015719955787063,-0.110152147710323,-0.127982333302498,-0.030857512727380));
res += mul(Get(s2,0,-dy), float4x4(0.036729317158461,-0.057518910616636,0.051690839231014,-0.080680623650551,0.098388455808163,-0.032516568899155,0.096001826226711,0.035422980785370,-0.027409398928285,0.100110523402691,0.007879375480115,-0.018878150731325,0.019054794684052,-0.027560481801629,-0.106050685048103,0.134373247623444));
res += mul(Get(s2,0,0), float4x4(-0.014676770195365,-0.052018128335476,-0.007332731969655,-0.074138417840004,-0.122339121997356,0.084136359393597,-0.086649075150490,-0.097823224961758,-0.049625072628260,-0.090324722230434,-0.044994771480560,0.122406229376793,0.091150335967541,-0.039280626922846,-0.179455205798149,-0.044415306299925));
res += mul(Get(s2,0,dy), float4x4(-0.002132399240509,0.040789950639009,0.105293586850166,-0.088181935250759,0.011498153209686,0.052040897309780,-0.089752011001110,0.048054300248623,0.026103662326932,0.022508781403303,-0.083204776048660,-0.052936140447855,0.155399382114410,0.004333700519055,-0.202994614839554,-0.028525685891509));
res += mul(Get(s2,dx,-dy), float4x4(-0.101467192173004,-0.011260040104389,0.009132043458521,0.140129610896111,0.347035020589828,0.039553128182888,0.031171044334769,-0.010720469057560,0.068093083798885,0.157339975237846,0.053004115819931,-0.095992103219032,-0.004728203639388,0.014739975333214,-0.065653264522552,-0.086440466344357));
res += mul(Get(s2,dx,0), float4x4(-0.022170357406139,-0.087896697223186,-0.055060915648937,0.030493203550577,-0.084483213722706,-0.018729964271188,-0.097297117114067,-0.072906933724880,0.036153823137283,-0.038210090249777,0.082670137286186,0.004221826326102,0.022414224222302,0.156478196382523,-0.115526787936687,0.080258145928383));
res += mul(Get(s2,dx,dy), float4x4(0.119121216237545,-0.016709739342332,-0.012064355425537,0.099823787808418,-0.095300748944283,-0.112699240446091,0.024566354230046,0.051875464618206,-0.025052675977349,-0.040747694671154,0.097227625548840,-0.095870636403561,0.088356561958790,0.006642243824899,-0.167858153581619,-0.048606984317303));
res += mul(Get(s3,-dx,-dy), float4x4(-0.118148259818554,-0.016927177086473,0.139128312468529,0.004034082405269,-0.089908264577389,-0.006533022504300,-0.103377044200897,-0.071326524019241,0.131917566061020,0.004716902505606,-0.154346361756325,-0.102968215942383,-0.027758497744799,0.036003768444061,0.083052180707455,0.074244461953640));
res += mul(Get(s3,-dx,0), float4x4(0.032278053462505,0.067070454359055,0.065908685326576,0.082444265484810,0.126168712973595,0.002684725448489,0.095645263791084,0.221067056059837,-0.093592539429665,0.028418708592653,-0.150566801428795,-0.026713011786342,-0.106202781200409,-0.072878912091255,0.017663504928350,0.123584382236004));
res += mul(Get(s3,-dx,dy), float4x4(0.119800180196762,-0.000104259503132,-0.002797909546643,0.064497821033001,-0.028436832129955,-0.098081238567829,-0.056098744273186,0.052808709442616,0.045574489980936,-0.020039202645421,-0.129505008459091,0.015846582129598,-0.072827942669392,-0.045169044286013,0.227306962013245,0.020579507574439));
res += mul(Get(s3,0,-dy), float4x4(0.063991539180279,-0.059411782771349,0.080120489001274,-0.091985940933228,-0.074827715754509,-0.052401054650545,-0.061648339033127,0.039741341024637,0.107819244265556,-0.144427657127380,-0.135294646024704,-0.036506775766611,-0.017907101660967,0.005722141824663,0.084821790456772,0.006353115197271));
res += mul(Get(s3,0,0), float4x4(0.136205255985260,0.044302664697170,0.041524600237608,0.009441286325455,0.105510652065277,0.006206248886883,-0.083799712359905,-0.009772393852472,0.055941887199879,-0.062372438609600,-0.109707124531269,-0.076602764427662,-0.084714181721210,-0.029013741761446,0.218274161219597,-0.017605263739824));
res += mul(Get(s3,0,dy), float4x4(0.274732440710068,0.140227526426315,-0.010151470080018,0.134441584348679,-0.007381078321487,-0.062526181340218,-0.031309790909290,-0.175015330314636,-0.011020773090422,-0.093070931732655,-0.098643414676189,-0.038195285946131,0.010913904756308,0.048658341169357,0.061249032616615,-0.015101192519069));
res += mul(Get(s3,dx,-dy), float4x4(-0.129098787903786,-0.012257546186447,-0.030423223972321,-0.056568462401628,0.044859565794468,-0.075234368443489,-0.053909998387098,0.076992437243462,-0.076055809855461,-0.052256468683481,-0.227711543440819,0.006872896570712,-0.129797652363777,0.084651067852974,-0.107673510909081,0.069167509675026));
res += mul(Get(s3,dx,0), float4x4(-0.103033155202866,0.111023992300034,-0.003522569779307,-0.128031507134438,0.114123366773129,-0.013559927232563,-0.010029528290033,0.063772507011890,-0.012683344073594,-0.040930554270744,0.018223639577627,-0.140127614140511,-0.099214807152748,0.065498620271683,-0.056090574711561,0.057384409010410));
res += mul(Get(s3,dx,dy), float4x4(-0.020557263866067,0.007447922136635,0.115154087543488,-0.050399653613567,0.068764820694923,-0.129042446613312,-0.007376896683127,-0.034397941082716,-0.132111340761185,0.009782860055566,-0.088563635945320,-0.027367707341909,0.019142359495163,0.080461286008358,-0.353204935789108,0.078362800180912));
return max(float4(0,0,0,0), res);
}
