sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.156305864453316,0.256662547588348,-0.052006211131811,0.243548884987831,0.008224378339946,0.150980547070503,-0.047118779271841,0.067775696516037,0.087356269359589,0.062930569052696,0.012921022251248,0.119445420801640,0.003836509538814,0.060297779738903,-0.087998501956463,-0.001392793259583));
res += mul(Get(s0,-dx,0), float4x4(-0.087035343050957,0.022131638601422,0.214127838611603,-0.072705842554569,0.026189746335149,0.020213779062033,-0.281389683485031,0.005694749765098,0.146701529622078,0.217422157526016,0.022955561056733,0.064418032765388,0.039749350398779,-0.190197184681892,0.007533091586083,0.065198227763176));
res += mul(Get(s0,-dx,dy), float4x4(-0.033506076782942,-0.133186042308807,-0.062126759439707,0.085796736180782,0.029928542673588,0.057354081422091,-0.025797763839364,-0.118463896214962,0.058343179523945,0.222067832946777,0.131973490118980,-0.133305922150612,0.102714478969574,-0.111391507089138,-0.002541685244069,0.185525521636009));
res += mul(Get(s0,0,-dy), float4x4(-0.037026401609182,0.058148257434368,0.202856704592705,-0.090820081532001,-0.034219775348902,-0.077956475317478,0.072827972471714,-0.036381211131811,-0.055465810000896,0.097344085574150,0.067594848573208,0.086213625967503,-0.062121953815222,0.088382057845592,0.113281890749931,-0.190808191895485));
res += mul(Get(s0,0,0), float4x4(0.082485564053059,-0.075675651431084,-0.126103550195694,0.059429559856653,0.025329453870654,-0.134244665503502,-0.041417505592108,0.099014729261398,0.200497865676880,0.117821797728539,0.083708092570305,-0.045506075024605,0.124037072062492,0.018713349476457,0.045441336929798,0.112315021455288));
res += mul(Get(s0,0,dy), float4x4(0.095095314085484,0.114458590745926,-0.040169194340706,-0.067600511014462,0.004552736412734,0.090483352541924,0.103831253945827,0.007950183004141,0.055118296295404,-0.077009841799736,0.185035705566406,-0.007860470563173,-0.036924820393324,0.034870311617851,-0.071887746453285,-0.040551848709583));
res += mul(Get(s0,dx,-dy), float4x4(-0.098628006875515,-0.032545786350965,0.046114150434732,-0.174823060631752,-0.101475730538368,0.011697214096785,-0.050551559776068,0.106895208358765,-0.059213396161795,-0.072095863521099,-0.051351573318243,0.045408122241497,0.002249196404591,-0.093354664742947,0.023538192734122,0.042693156749010));
res += mul(Get(s0,dx,0), float4x4(-0.061176612973213,-0.065149955451488,-0.034146774560213,-0.017115807160735,-0.183412611484528,-0.084695607423782,-0.072615236043930,-0.036049075424671,-0.098285958170891,0.076793961226940,-0.173591658473015,-0.044193055480719,0.113739848136902,-0.022709559649229,-0.043167997151613,-0.001558813382871));
res += mul(Get(s0,dx,dy), float4x4(0.010764195583761,-0.060326993465424,0.016592957079411,0.102585434913635,-0.294014573097229,-0.049294121563435,-0.058852978050709,-0.069975227117538,0.111601755023003,0.090365335345268,-0.098689816892147,-0.152807801961899,0.100131206214428,-0.115272223949432,0.118044815957546,0.068710863590240));
res += mul(Get(s1,-dx,-dy), float4x4(-0.074146531522274,0.122961036860943,-0.073637031018734,0.022434432059526,-0.113410674035549,0.274322658777237,-0.159846931695938,-0.108634203672409,0.050387263298035,-0.037225861102343,0.162566304206848,-0.004625328816473,0.038705233484507,0.035765089094639,-0.152361378073692,-0.224839270114899));
res += mul(Get(s1,-dx,0), float4x4(-0.119891189038754,-0.106192871928215,0.030439853668213,-0.110543966293335,-0.018162896856666,0.003673302708194,-0.035009685903788,-0.126815319061279,0.107873260974884,0.111744359135628,-0.000334508018568,-0.153321161866188,-0.016038762405515,0.186830118298531,-0.152454629540443,0.112139679491520));
res += mul(Get(s1,-dx,dy), float4x4(0.163329526782036,-0.099656343460083,0.070304729044437,0.065379455685616,-0.048819210380316,-0.096163839101791,-0.000158515496878,0.006822761148214,0.118693038821220,0.310954988002777,-0.123957701027393,-0.100056469440460,0.112023435533047,0.043131925165653,-0.098636105656624,0.113951131701469));
res += mul(Get(s1,0,-dy), float4x4(-0.026693444699049,-0.124785341322422,0.099221639335155,-0.060683112591505,0.132183074951172,0.129024222493172,0.012236638925970,-0.073758132755756,-0.104357391595840,0.009212831035256,0.028669279068708,-0.011132232844830,-0.003145835828036,0.042051926255226,-0.043195039033890,0.015504185110331));
res += mul(Get(s1,0,0), float4x4(0.052107863128185,-0.056546814739704,0.178162291646004,-0.097599029541016,0.108038522303104,0.139434799551964,0.118250861763954,-0.209726646542549,0.114337399601936,0.087167620658875,0.071130685508251,0.037859220057726,0.156972333788872,0.162353321909904,0.115653373301029,0.019350683316588));
res += mul(Get(s1,0,dy), float4x4(-0.095173344016075,0.047281760722399,-0.038305319845676,0.117808029055595,-0.040767256170511,-0.031543962657452,0.046070381999016,0.158532261848450,0.003877754090354,-0.102518267929554,-0.025517275556922,-0.032142601907253,-0.058853421360254,-0.223829373717308,0.048982594162226,0.096981085836887));
res += mul(Get(s1,dx,-dy), float4x4(0.085751108825207,-0.080295145511627,-0.010547190904617,0.036422729492188,0.254998475313187,0.178851589560509,-0.069975651800632,-0.102185159921646,-0.012413299642503,0.039162907749414,-0.047760240733624,0.032452486455441,-0.136900514364243,-0.002841775771230,-0.141049697995186,-0.091054476797581));
res += mul(Get(s1,dx,0), float4x4(-0.106210678815842,0.166176736354828,0.077735304832458,-0.119960896670818,-0.142822965979576,-0.078813910484314,-0.119985051453114,-0.158540517091751,-0.096647478640079,0.055876836180687,0.036886446177959,-0.036300245672464,0.002575195394456,0.019122939556837,-0.179074525833130,0.000569457188249));
res += mul(Get(s1,dx,dy), float4x4(-0.131656005978584,0.011589926667511,0.087750077247620,-0.177544653415680,-0.199001386761665,-0.234173595905304,0.001212999341078,-0.143789768218994,-0.111055955290794,-0.007840680889785,-0.008736732415855,0.104548327624798,-0.126272410154343,-0.036866627633572,-0.108727887272835,0.111361682415009));
res += mul(Get(s2,-dx,-dy), float4x4(-0.032837826758623,0.080463938415051,-0.267842054367065,-0.049285039305687,-0.093612678349018,-0.019994966685772,0.055726796388626,-0.028280310332775,-0.019080579280853,-0.018548451364040,0.075709097087383,-0.035040464252234,-0.028192192316055,0.481477677822113,0.141122624278069,0.094107508659363));
res += mul(Get(s2,-dx,0), float4x4(-0.082163907587528,0.131377041339874,0.067833051085472,-0.146379545331001,-0.065464168787003,-0.040739320218563,0.181757017970085,0.120503731071949,-0.061002112925053,-0.193242207169533,-0.105291210114956,-0.034198325127363,0.022366352379322,-0.137281581759453,-0.022006368264556,-0.174572482705116));
res += mul(Get(s2,-dx,dy), float4x4(0.038601115345955,0.050123941153288,0.006303546484560,0.051473539322615,-0.095708668231964,-0.067659214138985,0.008601451292634,-0.122075699269772,-0.143652886152267,-0.027934012934566,-0.031914751976728,-0.029182551428676,-0.108001865446568,-0.122413843870163,-0.108525216579437,0.213977724313736));
res += mul(Get(s2,0,-dy), float4x4(-0.193569242954254,-0.133155241608620,-0.015074753202498,-0.021488204598427,-0.037352591753006,0.158600285649300,-0.040562130510807,-0.060547966510057,-0.047127023339272,0.045213475823402,0.074739813804626,-0.084345400333405,0.162236079573631,0.081083007156849,0.123997166752815,0.000895449309610));
res += mul(Get(s2,0,0), float4x4(0.104000054299831,0.069903455674648,0.120084173977375,-0.057789206504822,0.152777120471001,0.168697655200958,0.049378313124180,0.021685210987926,-0.046078156679869,-0.034148663282394,0.076034508645535,-0.074614711105824,-0.015255217440426,0.030481837689877,0.009349825792015,-0.018668666481972));
res += mul(Get(s2,0,dy), float4x4(0.035228900611401,0.032827880233526,0.087238132953644,-0.069882616400719,-0.069033458828926,0.017760872840881,0.028737463057041,0.119349196553230,-0.071452364325523,-0.018896190449595,-0.078272722661495,-0.147220149636269,0.150995224714279,-0.006150224711746,0.019924961030483,0.098550982773304));
res += mul(Get(s2,dx,-dy), float4x4(-0.138202652335167,0.048437740653753,-0.042414475232363,0.088021419942379,0.040800124406815,-0.099032059311867,-0.168010368943214,-0.070118427276611,-0.062881156802177,0.070371225476265,-0.043625786900520,0.020682074129581,0.238734558224678,0.070793718099594,0.172954499721527,-0.009554341435432));
res += mul(Get(s2,dx,0), float4x4(0.136636763811111,0.134034201502800,0.065251655876637,-0.060252767056227,-0.057262241840363,0.066630117595196,-0.120840154588223,-0.076354987919331,-0.107191443443298,0.000333281088388,0.057883672416210,0.009471540339291,0.012973083183169,0.028555408120155,0.006781572476029,0.090747602283955));
res += mul(Get(s2,dx,dy), float4x4(0.009840504266322,-0.066713266074657,0.011155974119902,-0.075239323079586,0.038975968956947,-0.083389207720757,0.144081771373749,-0.008009557612240,-0.232026636600494,-0.101279489696026,-0.154261842370033,-0.101626217365265,-0.245269283652306,0.131183907389641,0.126197084784508,-0.139161214232445));
res += mul(Get(s3,-dx,-dy), float4x4(-0.057908568531275,0.223398059606552,0.099262893199921,0.097392350435257,0.024733701720834,0.022908668965101,0.096252329647541,0.038921568542719,-0.127102941274643,0.004324198700488,0.071181699633598,0.235950410366058,0.047732364386320,-0.003169893985614,-0.068597748875618,0.008853423409164));
res += mul(Get(s3,-dx,0), float4x4(0.005537352990359,-0.148048952221870,0.090777464210987,-0.012854219414294,0.119108475744724,-0.061780463904142,0.026273310184479,0.229091033339500,-0.030193828046322,-0.314242303371429,0.100404746830463,0.111402086913586,0.179725334048271,0.122694969177246,0.212980300188065,-0.036794126033783));
res += mul(Get(s3,-dx,dy), float4x4(0.042622793465853,0.190286800265312,-0.004649011883885,0.029990622773767,0.010696638375521,0.135374218225479,0.199629440903664,0.047331791371107,-0.040727365761995,0.208095282316208,0.189595982432365,0.073494561016560,-0.178321272134781,0.002102326834574,0.072857916355133,-0.185224071145058));
res += mul(Get(s3,0,-dy), float4x4(-0.022987559437752,0.086371868848801,-0.167549178004265,-0.018893087282777,0.045334465801716,0.166653066873550,0.121029615402222,0.052032466977835,-0.090226054191589,0.002826839685440,-0.060717362910509,0.039602860808372,-0.048261478543282,0.048229560256004,-0.062015913426876,0.066935852169991));
res += mul(Get(s3,0,0), float4x4(0.043265011161566,0.025075072422624,-0.123565778136253,-0.014779944904149,0.007951864041388,-0.122728168964386,0.008883549831808,0.115726180374622,0.044070716947317,0.104099072515965,0.130381584167480,0.138789519667625,-0.017508028075099,0.104654744267464,0.110341511666775,0.035062007606030));
res += mul(Get(s3,0,dy), float4x4(0.057401444762945,0.044960711151361,-0.061047762632370,-0.015258580446243,0.107346892356873,0.064183093607426,-0.199233815073967,-0.140188813209534,0.117364168167114,0.156575053930283,0.072639830410480,-0.050293616950512,0.050225663930178,-0.133751064538956,0.120522730052471,-0.105740979313850));
res += mul(Get(s3,dx,-dy), float4x4(0.040205746889114,-0.008161440491676,0.087037287652493,-0.087776660919189,0.136358514428139,0.197622388601303,0.112143918871880,-0.141570493578911,-0.070284575223923,-0.106891386210918,0.018432054668665,-0.003646324854344,-0.010418854653835,-0.109185829758644,0.066247120499611,0.069297507405281));
res += mul(Get(s3,dx,0), float4x4(-0.246491938829422,0.010928095318377,0.028769128024578,-0.040107481181622,-0.042480047792196,-0.048073288053274,0.010916200466454,-0.151914581656456,0.217296048998833,0.100052975118160,-0.029274450615048,0.045503787696362,-0.062502443790436,0.171415224671364,0.108122475445271,-0.015180622227490));
res += mul(Get(s3,dx,dy), float4x4(0.102795973420143,-0.151183307170868,-0.100063115358353,-0.105507582426071,0.138518303632736,-0.027431981638074,-0.068046838045120,0.008840912021697,-0.066522434353828,0.074825450778008,0.002461099531502,-0.003540999488905,-0.014358961023390,-0.007555567193776,-0.126987680792809,-0.079771704971790));
return max(float4(0,0,0,0), res);
}
