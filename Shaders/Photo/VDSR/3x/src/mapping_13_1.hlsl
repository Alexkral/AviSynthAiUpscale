sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.217986002564430,-0.022596640512347,0.031254585832357,0.049434505403042,-0.056211996823549,0.072033554315567,0.041806496679783,-0.048506971448660,-0.115973785519600,0.172545775771141,0.063836202025414,-0.018482746556401,0.098103426396847,0.108805350959301,0.153884962201118,-0.006373174022883));
res += mul(Get(s0,-dx,0), float4x4(0.156305879354477,0.117949791252613,0.148917660117149,0.054100595414639,0.069824159145355,0.038696788251400,0.063691824674606,-0.024182967841625,0.014555954374373,0.001283462974243,0.005163967609406,0.057282868772745,-0.060411319136620,-0.072388581931591,0.049651522189379,0.088244870305061));
res += mul(Get(s0,-dx,dy), float4x4(0.064125642180443,-0.138959676027298,-0.134126678109169,-0.004249549470842,0.070774219930172,0.031268529593945,0.000289184827125,0.029551470652223,0.029502693563700,0.040049757808447,0.081553548574448,0.122038751840591,0.000285691552563,-0.044684797525406,-0.013703690841794,0.135663241147995));
res += mul(Get(s0,0,-dy), float4x4(0.008581526577473,-0.054867021739483,-0.022526500746608,-0.043503332883120,-0.090939164161682,0.169595465064049,0.148424834012985,-0.042729686945677,0.072496615350246,-0.024574741721153,-0.043313473463058,0.065422929823399,-0.190305620431900,0.025784734636545,0.087207652628422,0.113984093070030));
res += mul(Get(s0,0,0), float4x4(-0.050078947097063,0.099420197308064,-0.170627370476723,-0.055310584604740,0.118887878954411,0.128408193588257,-0.009071820415556,-0.028608411550522,0.003852754365653,-0.155021011829376,0.016408490017056,0.128864541649818,0.096293278038502,0.018551733344793,0.042618513107300,-0.020459810271859));
res += mul(Get(s0,0,dy), float4x4(0.015035884454846,-0.045582335442305,0.136230021715164,-0.044431097805500,-0.148820340633392,0.030956080183387,-0.100091055035591,-0.032479062676430,0.093675404787064,-0.014925763010979,0.206165596842766,-0.054681248962879,0.024017052724957,0.083649165928364,-0.028237633407116,-0.057780016213655));
res += mul(Get(s0,dx,-dy), float4x4(-0.253969043493271,-0.241494506597519,-0.027446363121271,-0.117968253791332,0.162647813558578,0.031351692974567,0.110548734664917,0.252097010612488,0.158199638128281,-0.063838645815849,0.104303874075413,0.196800544857979,0.096752315759659,0.065635740756989,0.110782556235790,-0.153434693813324));
res += mul(Get(s0,dx,0), float4x4(-0.049800980836153,0.133255586028099,0.133956909179688,-0.046746883541346,0.171046897768974,0.063736923038960,0.097616076469421,0.096493296325207,0.014931729063392,-0.124920882284641,-0.030080817639828,0.112733185291290,-0.110152095556259,-0.077909685671329,-0.149166479706764,0.137009114027023));
res += mul(Get(s0,dx,dy), float4x4(0.075339794158936,0.042076598852873,0.058060888200998,0.010363209061325,0.046369716525078,0.077508859336376,-0.119652554392815,0.045945551246405,0.050925463438034,0.197654977440834,0.000147978222230,0.152784973382950,-0.211547359824181,0.057217523455620,0.137878194451332,0.047729831188917));
res += mul(Get(s1,-dx,-dy), float4x4(0.107071682810783,-0.009822925552726,-0.188266962766647,-0.066515021026134,-0.076406925916672,-0.030817801132798,-0.061503894627094,-0.055156860500574,0.015947816893458,-0.140389084815979,0.029346063733101,0.186121687293053,0.059929151087999,-0.120031006634235,-0.154299467802048,-0.241859868168831));
res += mul(Get(s1,-dx,0), float4x4(0.027357580140233,0.063418447971344,-0.058885466307402,-0.129518106579781,-0.047245386987925,-0.051044527441263,0.095919676125050,-0.091076575219631,0.012009611353278,-0.065014451742172,-0.017294269055128,0.162647575139999,0.010940753854811,0.024591799825430,-0.048605956137180,-0.105459116399288));
res += mul(Get(s1,-dx,dy), float4x4(0.085016094148159,0.269572228193283,0.149840369820595,-0.007365961093456,-0.124289304018021,0.004549530800432,-0.013710387982428,0.021913420408964,0.068876907229424,-0.164934694766998,0.027393093332648,-0.009607759304345,-0.166513770818710,0.098664753139019,0.034215658903122,-0.174147665500641));
res += mul(Get(s1,0,-dy), float4x4(0.103018105030060,-0.061326984316111,-0.073162980377674,0.016825083643198,-0.170910954475403,-0.089113183319569,0.068320445716381,-0.140777453780174,-0.136057138442993,0.121331430971622,0.142103433609009,-0.068257361650467,-0.051787905395031,-0.102465137839317,-0.132672563195229,0.063454985618591));
res += mul(Get(s1,0,0), float4x4(0.073577761650085,-0.127966970205307,0.064257703721523,0.056963741779327,0.174379676580429,-0.118985675275326,0.190327629446983,0.069542072713375,-0.027038717642426,-0.087549038231373,-0.019818903878331,-0.006328978110105,0.059964779764414,0.116761304438114,-0.086008869111538,-0.124688908457756));
res += mul(Get(s1,0,dy), float4x4(-0.225889086723328,0.091058805584908,0.229424625635147,-0.148803800344467,-0.127586051821709,0.103758677840233,0.149645924568176,0.068792097270489,0.109766833484173,0.012799216434360,-0.068254530429840,0.080749332904816,0.000859118008520,-0.114380411803722,-0.207246512174606,0.079846106469631));
res += mul(Get(s1,dx,-dy), float4x4(0.083140559494495,0.086557887494564,0.109765142202377,-0.109951384365559,0.051124017685652,-0.028482612222433,-0.037691395729780,-0.142330363392830,0.073364347219467,-0.073848150670528,0.017978521063924,0.016163514927030,-0.161509603261948,-0.081752821803093,-0.079681515693665,0.095268398523331));
res += mul(Get(s1,dx,0), float4x4(0.205611243844032,-0.066957280039787,-0.004583543632179,0.065882831811905,-0.007347356993705,0.126449942588806,-0.043621238321066,0.180169299244881,0.020745400339365,-0.035336446017027,-0.160772338509560,0.112431444227695,0.112796790897846,-0.007787207607180,-0.001121543813497,0.054695911705494));
res += mul(Get(s1,dx,dy), float4x4(0.040564872324467,0.059894029051065,0.097022540867329,-0.064340949058533,-0.032550759613514,-0.011388909071684,-0.015155347995460,0.138386413455009,0.004941214807332,0.082863971590996,-0.040168277919292,0.038786657154560,0.117628842592239,-0.040128570050001,-0.045082435011864,0.089709550142288));
res += mul(Get(s2,-dx,-dy), float4x4(-0.148766696453094,-0.075100295245647,-0.212546572089195,-0.277506858110428,-0.129079788923264,-0.035868618637323,0.077444098889828,-0.069203078746796,-0.242277055978775,-0.035400621592999,-0.022160509601235,0.049036860466003,-0.064372725784779,-0.110383793711662,-0.158139020204544,0.084074601531029));
res += mul(Get(s2,-dx,0), float4x4(0.011276142671704,-0.113057464361191,0.153897106647491,0.062597736716270,-0.033143058419228,0.069730408489704,-0.145569249987602,-0.011017846874893,-0.025685159489512,-0.076408088207245,-0.058617927134037,-0.042198337614536,0.139501780271530,-0.082466013729572,0.058215573430061,-0.116507686674595));
res += mul(Get(s2,-dx,dy), float4x4(-0.070582516491413,0.136821478605270,-0.169410958886147,0.023045971989632,0.082153938710690,-0.150263741612434,-0.064165949821472,-0.093557558953762,-0.051297966390848,0.035244472324848,0.073873542249203,0.186255082488060,0.009744429960847,-0.138967424631119,-0.019843207672238,-0.099653899669647));
res += mul(Get(s2,0,-dy), float4x4(0.036761343479156,0.168746188282967,0.117663189768791,-0.077590160071850,0.016663866117597,0.198293969035149,0.087513625621796,-0.063885517418385,0.113002993166447,-0.133167997002602,0.288086593151093,-0.107146747410297,0.091600410640240,-0.159644603729248,-0.200587898492813,0.111070089042187));
res += mul(Get(s2,0,0), float4x4(0.121279954910278,0.034677166491747,0.204752922058105,0.035558007657528,-0.101337634027004,-0.124593868851662,0.003239939920604,-0.009467609226704,-0.117183730006218,0.037601530551910,-0.066613219678402,-0.040640167891979,-0.048005338758230,0.052374005317688,-0.071309015154839,0.038518037647009));
res += mul(Get(s2,0,dy), float4x4(-0.081051200628281,-0.030884638428688,-0.149128690361977,0.029720827937126,0.000530546647497,0.189378350973129,0.165154725313187,0.046205330640078,0.089354313910007,-0.070771947503090,0.036167219281197,0.034700002521276,0.045047815889120,-0.116472057998180,0.158262789249420,-0.007313801907003));
res += mul(Get(s2,dx,-dy), float4x4(-0.052414391189814,-0.014422357082367,0.075225695967674,0.027711603790522,0.125997021794319,-0.083757199347019,0.138412058353424,-0.033910263329744,0.072729177772999,-0.030159367248416,-0.109774991869926,-0.061909496784210,0.244586750864983,-0.153191074728966,-0.162402078509331,0.076151959598064));
res += mul(Get(s2,dx,0), float4x4(0.085909992456436,-0.192217379808426,0.064773224294186,0.166352465748787,0.017365815117955,0.194735035300255,0.121914587914944,-0.039933122694492,-0.035636998713017,-0.049840345978737,0.071076810359955,-0.091699808835983,-0.015308184549212,0.032967504113913,-0.072489507496357,0.044539216905832));
res += mul(Get(s2,dx,dy), float4x4(-0.081591047346592,-0.013292966410518,-0.082693584263325,-0.003117916872725,-0.073591560125351,0.100640699267387,0.045498061925173,-0.013587917201221,-0.132541969418526,0.198140755295753,-0.207968443632126,0.068865075707436,-0.002249573590234,-0.090726256370544,0.191511005163193,-0.039302162826061));
res += mul(Get(s3,-dx,-dy), float4x4(0.037796247750521,-0.063367486000061,0.055669523775578,0.022703954949975,0.006854281760752,0.001447659335099,-0.120478980243206,-0.029659485444427,-0.039011757820845,0.264944076538086,-0.000122041121358,-0.037103202193975,-0.089611902832985,0.042468879371881,-0.060268279165030,0.079084821045399));
res += mul(Get(s3,-dx,0), float4x4(-0.081200003623962,0.016406638547778,0.070653580129147,-0.052205558866262,0.149430453777313,0.123104579746723,0.188997671008110,0.036822982132435,-0.172314494848251,0.063495308160782,0.191833719611168,0.028589136898518,-0.048577502369881,-0.008642325177789,0.194581806659698,0.152620404958725));
res += mul(Get(s3,-dx,dy), float4x4(0.096862912178040,0.120382003486156,-0.187220364809036,0.044578593224287,-0.009147717617452,0.036252591758966,-0.018165210261941,0.055840082466602,0.011945488862693,-0.205290302634239,0.014493523165584,0.096574552357197,-0.087154954671860,-0.080188982188702,-0.066907979547977,-0.028689553961158));
res += mul(Get(s3,0,-dy), float4x4(-0.175605148077011,-0.098910883069038,0.147569790482521,-0.058298733085394,0.024289660155773,0.012345745228231,-0.101946033537388,-0.071135640144348,-0.048323825001717,-0.090028673410416,-0.006550380028784,0.088950574398041,-0.022579001262784,-0.071535430848598,0.067155979573727,-0.091898307204247));
res += mul(Get(s3,0,0), float4x4(0.084973074495792,0.061118356883526,0.034075062721968,0.024412861093879,0.101279407739639,0.038045492023230,-0.099495515227318,-0.015396185219288,-0.023597931489348,-0.038990180939436,0.071837462484837,0.124941319227219,0.026833774521947,-0.003963572438806,0.018175303936005,0.032509762793779));
res += mul(Get(s3,0,dy), float4x4(0.055445559322834,0.009434553794563,-0.058363690972328,0.004143257625401,-0.010867672041059,-0.227757573127747,0.049891795963049,0.134519889950752,-0.141268253326416,0.139320731163025,0.005826917942613,0.255432993173599,-0.142253175377846,-0.068225063383579,-0.035579752177000,-0.021641392260790));
res += mul(Get(s3,dx,-dy), float4x4(0.029526073485613,-0.039709996432066,0.037567347288132,0.149614006280899,0.034184932708740,0.177510052919388,0.100588195025921,-0.094472348690033,-0.149371802806854,0.013910149224102,-0.180669516324997,0.064308300614357,0.029847107827663,0.069031007587910,-0.019925566390157,0.115784719586372));
res += mul(Get(s3,dx,0), float4x4(0.115651831030846,0.015453656204045,-0.128297612071037,0.125356957316399,-0.021407358348370,-0.030513348057866,0.087455026805401,0.013036324642599,0.106895878911018,-0.056638706475496,-0.062001273036003,0.168360978364944,0.025953704491258,-0.025855757296085,-0.137827694416046,0.035118799656630));
res += mul(Get(s3,dx,dy), float4x4(0.282048076391220,-0.010977744124830,-0.063835136592388,0.121951855719090,0.099482335150242,0.307591617107391,-0.071127578616142,0.107779949903488,-0.087264202535152,-0.011307487264276,0.067836143076420,0.060211271047592,0.106260403990746,0.095761135220528,0.015612467192113,0.111606456339359));
return max(float4(0,0,0,0), res);
}
