sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.006888424046338,-0.055835578590631,-0.082801535725594,-0.059488017112017,-0.186911657452583,-0.049172490835190,-0.080071441829205,0.064737699925900,-0.087488539516926,0.015711022540927,-0.012049554847181,-0.127892225980759,-0.059751816093922,-0.086132518947124,0.060607921332121,0.116201095283031));
res += mul(Get(s0,-dx,0), float4x4(-0.070693321526051,-0.137545198202133,0.031140735372901,-0.088814578950405,-0.103581346571445,-0.077057212591171,-0.140051230788231,0.002393671311438,-0.013894729316235,-0.032584711909294,0.025491269305348,-0.091347381472588,-0.026014536619186,0.014659918844700,0.223041966557503,0.088914163410664));
res += mul(Get(s0,-dx,dy), float4x4(0.020865004509687,-0.036747556179762,-0.009412076324224,0.046414528042078,-0.144700214266777,-0.015180350281298,-0.079580634832382,-0.035479068756104,-0.000446114776423,-0.036617346107960,-0.123214051127434,0.048545852303505,0.033488001674414,-0.125305697321892,0.042328540235758,0.123360507190228));
res += mul(Get(s0,0,-dy), float4x4(-0.019116939976811,-0.105215795338154,-0.017162889242172,-0.044814992696047,0.021665794774890,-0.088724434375763,0.088830649852753,-0.039992399513721,0.000580447725952,-0.059595406055450,0.062840417027473,-0.071081876754761,-0.064646407961845,-0.069876298308372,-0.083389706909657,-0.104489490389824));
res += mul(Get(s0,0,0), float4x4(0.003004227764904,-0.048546809703112,-0.003208141308278,-0.054291985929012,0.028506457805634,-0.071000389754772,0.012055989354849,-0.037421569228172,0.085074834525585,-0.065649323165417,0.071985304355621,-0.069268584251404,-0.011477865278721,0.043982509523630,-0.000829163123854,0.025500452145934));
res += mul(Get(s0,0,dy), float4x4(0.058903973549604,-0.107217326760292,-0.069982156157494,0.152612343430519,0.029585009440780,-0.089119896292686,0.088726907968521,0.051375683397055,0.024735715240240,-0.005232197232544,-0.078134417533875,0.184444561600685,0.054717447608709,-0.055906079709530,-0.067252263426781,0.053701419383287));
res += mul(Get(s0,dx,-dy), float4x4(0.023067798465490,-0.159318193793297,-0.039302140474319,-0.074934974312782,0.010001661255956,-0.049009658396244,-0.018908381462097,-0.062694258987904,0.306948572397232,0.012646291404963,-0.076270058751106,-0.076655283570290,0.014243304729462,0.020167455077171,0.014520729891956,0.058441262692213));
res += mul(Get(s0,dx,0), float4x4(0.010945985093713,-0.068417936563492,0.009893517009914,-0.092658206820488,-0.117434926331043,0.001418457482941,-0.058396909385920,0.068571992218494,0.072023935616016,-0.025576543062925,-0.022825770080090,0.036966830492020,-0.012892059050500,0.074196852743626,-0.041645575314760,0.064722791314125));
res += mul(Get(s0,dx,dy), float4x4(0.031387340277433,-0.064012333750725,-0.006797758862376,-0.023572152480483,-0.022959761321545,-0.031813107430935,0.013532189652324,0.117180325090885,0.050710059702396,-0.035926997661591,-0.018224535509944,0.007286938838661,0.021624470129609,0.015811065211892,-0.121077917516232,0.016743354499340));
res += mul(Get(s1,-dx,-dy), float4x4(0.166947618126869,-0.047591790556908,0.192252308130264,0.073268048465252,-0.089262545108795,0.049996543675661,-0.037707425653934,-0.025660339742899,0.040145710110664,0.005588778760284,0.002405784325674,0.024644648656249,-0.157764539122581,0.015402434393764,0.026397623121738,0.082340925931931));
res += mul(Get(s1,-dx,0), float4x4(-0.114494435489178,-0.091283686459064,0.097832746803761,0.037563767284155,-0.020366389304399,0.159231066703796,0.006272664759308,-0.004781574476510,0.063674300909042,-0.039376724511385,-0.137721776962280,-0.065101258456707,0.015881391242146,0.155180215835571,-0.013999613001943,0.023898046463728));
res += mul(Get(s1,-dx,dy), float4x4(-0.092888817191124,-0.187443494796753,0.016911556944251,-0.001047519734129,-0.012781076133251,0.030861763283610,-0.022759268060327,-0.092023044824600,0.078489445149899,0.021784918382764,-0.117624759674072,-0.070435166358948,-0.014113945886493,-0.113401584327221,-0.009304028935730,0.080244645476341));
res += mul(Get(s1,0,-dy), float4x4(-0.129234492778778,-0.021248441189528,0.060692138969898,0.184154242277145,0.032394211739302,0.023332610726357,-0.028356505557895,-0.070602044463158,0.090214416384697,-0.071351490914822,0.036474976688623,-0.012036424130201,0.156289622187614,0.082123205065727,-0.111370779573917,0.028143003582954));
res += mul(Get(s1,0,0), float4x4(-0.023771822452545,0.057386361062527,0.068620361387730,0.010205140337348,0.006860744208097,-0.029375150799751,0.063571348786354,-0.114075377583504,0.037981051951647,0.006144336890429,-0.014000955969095,-0.022240078076720,-0.029134463518858,0.120794847607613,0.093223400413990,0.059367623180151));
res += mul(Get(s1,0,dy), float4x4(-0.109948493540287,-0.012394256889820,-0.075901620090008,-0.071315258741379,-0.002993846777827,0.063768945634365,-0.042449194937944,-0.070247292518616,0.018635755404830,0.123219139873981,-0.046865966171026,-0.010809809900820,-0.089530698955059,-0.036138445138931,0.092351675033569,0.045434128493071));
res += mul(Get(s1,dx,-dy), float4x4(0.171629533171654,0.033630765974522,0.057418003678322,0.249835476279259,0.062059953808784,0.018384404480457,0.090079829096794,-0.011586093343794,0.023829581215978,-0.122038073837757,0.017292449250817,0.045102611184120,-0.010548756457865,0.044763803482056,-0.083560787141323,0.011855536140501));
res += mul(Get(s1,dx,0), float4x4(-0.056666243821383,-0.094845317304134,0.059856291860342,0.008596541360021,-0.042528443038464,0.027251560240984,-0.049229741096497,-0.072062283754349,0.061566088348627,0.056338328868151,0.041397850960493,-0.053678479045630,0.030909344553947,0.130149692296982,-0.073390930891037,-0.056051645427942));
res += mul(Get(s1,dx,dy), float4x4(-0.048123057931662,-0.046378862112761,-0.067336693406105,0.016504753381014,-0.101861767470837,0.018751023337245,-0.022163160145283,-0.003671817015857,-0.146708324551582,0.153976857662201,-0.038874063640833,-0.038941644132137,0.135359942913055,-0.111671335995197,0.165877327322960,0.030332753434777));
res += mul(Get(s2,-dx,-dy), float4x4(-0.052876912057400,0.012366599403322,0.052997700870037,0.052787557244301,-0.052325997501612,-0.044537812471390,0.021669264882803,-0.094820514321327,-0.015441267751157,0.031311571598053,0.186948344111443,0.120110355317593,0.190460547804832,-0.012043811380863,0.096883647143841,0.049544773995876));
res += mul(Get(s2,-dx,0), float4x4(-0.035077594220638,-0.022359428927302,-0.048820599913597,0.088558860123158,-0.071076348423958,0.016870161518455,0.035671565681696,-0.102641887962818,-0.119013011455536,-0.143974855542183,0.098938889801502,-0.035927847027779,-0.055048022419214,-0.081947483122349,0.048411194235086,0.027665654197335));
res += mul(Get(s2,-dx,dy), float4x4(0.077116861939430,-0.110596284270287,0.030019696801901,0.108607754111290,0.217452257871628,0.014524560421705,0.019394686445594,0.038563657552004,-0.112854443490505,-0.064815856516361,0.126865044236183,-0.080495461821556,0.039874918758869,0.015836691483855,-0.028603835031390,0.099253229796886));
res += mul(Get(s2,0,-dy), float4x4(-0.072360217571259,-0.100965097546577,0.010695046745241,0.099219158291817,0.173814862966537,0.127441346645355,0.193989485502243,-0.041645493358374,-0.150119721889496,0.022122092545033,-0.031558193266392,-0.019640488550067,0.073369853198528,0.065798431634903,-0.067310556769371,-0.031087867915630));
res += mul(Get(s2,0,0), float4x4(-0.057230841368437,-0.062676392495632,-0.013564333319664,0.065662235021591,0.072888121008873,0.156072661280632,-0.001340170390904,0.010689827613533,-0.037090115249157,-0.116635009646416,0.029544441029429,-0.055281240493059,0.053110476583242,0.069605380296707,-0.065166190266609,0.136445283889771));
res += mul(Get(s2,0,dy), float4x4(0.083401300013065,-0.097651317715645,0.054421965032816,0.129747465252876,0.523328304290771,0.150106459856033,-0.065781235694885,0.073507949709892,-0.118852891027927,-0.063811622560024,0.083551369607449,0.063287883996964,0.087788388133049,0.150069922208786,-0.090615063905716,-0.009806811809540));
res += mul(Get(s2,dx,-dy), float4x4(-0.001105369301513,-0.189542204141617,0.093720927834511,-0.093899212777615,-0.036328580230474,-0.063227303326130,0.003866420825943,-0.060918699949980,0.001585136167705,0.164367616176605,0.142566651105881,0.050358068197966,0.029367260634899,0.034803226590157,-0.072798043489456,0.019452258944511));
res += mul(Get(s2,dx,0), float4x4(-0.046407394111156,-0.055627889931202,0.133104011416435,0.068381659686565,-0.126601248979568,-0.049530662596226,0.077892318367958,-0.013881124556065,0.018242163583636,0.040966648608446,0.052982740104198,-0.004494076594710,0.020330833271146,0.028265228495002,-0.055979285389185,0.078814722597599));
res += mul(Get(s2,dx,dy), float4x4(0.016663670539856,-0.024339871481061,0.166453510522842,0.012850317172706,0.136251032352448,-0.014471095055342,-0.132876858115196,0.003807422472164,0.025637915357947,0.076732181012630,0.057955004274845,0.113517336547375,-0.070821858942509,-0.010679760947824,-0.075822271406651,-0.011270655319095));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024023115634918,0.031166262924671,-0.032365981489420,0.005460289772600,0.124576151371002,0.149216324090958,0.082094475626945,0.118200190365314,0.012963718734682,0.013185790739954,-0.057979870587587,0.018044682219625,0.018761957064271,0.036457661539316,0.154011398553848,0.021803263574839));
res += mul(Get(s3,-dx,0), float4x4(-0.122768871486187,-0.048778735101223,-0.040810279548168,0.011716211214662,0.074050650000572,0.072768695652485,-0.058690376579762,0.182194620370865,-0.185390204191208,-0.028382051736116,-0.027957003563643,-0.040227808058262,-0.026008598506451,0.052177894860506,0.030494563281536,0.138756766915321));
res += mul(Get(s3,-dx,dy), float4x4(0.083355523645878,-0.015172217972577,0.017212023958564,0.012245586141944,-0.003208511276171,-0.038564547896385,-0.026459950953722,0.112797349691391,-0.060725104063749,0.037044465541840,-0.009003370068967,-0.020531695336103,-0.004665179178119,0.077559530735016,-0.043501764535904,0.087217889726162));
res += mul(Get(s3,0,-dy), float4x4(-0.113449469208717,-0.031012486666441,0.100952975451946,-0.088668189942837,0.025425661355257,0.121228866279125,0.130588456988335,-0.194715499877930,0.209232479333878,-0.135592475533485,-0.034353733062744,-0.061317302286625,-0.016940452158451,-0.052369829267263,0.087824314832687,-0.107047900557518));
res += mul(Get(s3,0,0), float4x4(-0.094175398349762,-0.037820219993591,-0.070426896214485,-0.023298529908061,0.010878091678023,0.116956226527691,0.046104460954666,0.028995180502534,0.110635451972485,-0.208423107862473,-0.120621100068092,-0.017493968829513,0.011885893531144,-0.117346093058586,-0.011361861601472,0.063524305820465));
res += mul(Get(s3,0,dy), float4x4(0.149500116705894,-0.080412745475769,-0.044973921030760,-0.080020502209663,0.031613197177649,-0.016249403357506,-0.042563788592815,0.010618869215250,0.066534593701363,0.017935849726200,-0.128401651978493,0.044905662536621,-0.009244809858501,0.037557236850262,-0.113430805504322,0.065456494688988));
res += mul(Get(s3,dx,-dy), float4x4(0.004837798886001,-0.062267471104860,0.027410712093115,-0.100512303411961,0.063114017248154,0.015733703970909,-0.026187252253294,-0.145405828952789,-0.070912338793278,-0.078120537102222,0.109086714684963,0.015112706460059,0.025547932833433,0.046275001019239,0.008616325445473,-0.152876660227776));
res += mul(Get(s3,dx,0), float4x4(-0.079746156930923,-0.056965827941895,-0.086072392761707,-0.006312476005405,0.083435632288456,0.142067983746529,-0.042351298034191,0.113213419914246,-0.055754642933607,-0.012039993889630,0.019985338672996,-0.073466494679451,-0.049229070544243,-0.059195291250944,-0.054904717952013,-0.050147231668234));
res += mul(Get(s3,dx,dy), float4x4(0.092222906649113,0.014142733998597,-0.062171064317226,0.024310527369380,-0.038595765829086,0.077633284032345,0.018945962190628,0.048754613846540,-0.118480004370213,-0.079784177243710,-0.060154579579830,0.000290764670353,-0.036876216530800,0.041960295289755,-0.089455068111420,-0.081836156547070));
return max(float4(0,0,0,0), res);
}
