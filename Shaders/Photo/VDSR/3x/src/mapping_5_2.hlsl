sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.118705376982689,0.052654642611742,0.118049889802933,-0.017017852514982,0.057119648903608,-0.057536419481039,0.024752266705036,0.104713335633278,-0.097881466150284,0.025291336700320,0.036768026649952,0.528231859207153,0.067508697509766,0.092480733990669,0.001872190274298,-0.111058428883553));
res += mul(Get(s0,-dx,0), float4x4(0.178485393524170,0.004831798840314,-0.049167167395353,-0.060336865484715,-0.103239998221397,0.051330886781216,0.026488434523344,0.096543058753014,-0.183128893375397,-0.005717192310840,-0.072550050914288,-0.165321618318558,0.279142349958420,0.053497564047575,-0.037470925599337,-0.164034321904182));
res += mul(Get(s0,-dx,dy), float4x4(0.202950894832611,0.202939733862877,-0.037865962833166,0.020709551870823,0.132233932614326,0.053021755069494,-0.018031021580100,-0.018565379083157,-0.162194713950157,-0.010987695306540,-0.063278704881668,0.190884515643120,0.097905382514000,0.081871710717678,0.103892996907234,-0.088621556758881));
res += mul(Get(s0,0,-dy), float4x4(0.157198503613472,-0.100441917777061,-0.131795272231102,0.088507473468781,0.032872568815947,-0.006691983900964,-0.163605377078056,-0.105652295053005,-0.002084950217977,-0.102618090808392,0.065116718411446,0.043529931455851,0.030210167169571,-0.138714611530304,0.072631463408470,-0.094535991549492));
res += mul(Get(s0,0,0), float4x4(-0.133530721068382,0.026390895247459,0.082271590828896,-0.001183091080748,-0.082021050155163,-0.064948841929436,-0.113800652325153,-0.131847277283669,-0.003336958121508,-0.111114628612995,-0.086905308067799,-0.156030997633934,-0.029006890952587,-0.112872317433357,-0.075500048696995,-0.069368742406368));
res += mul(Get(s0,0,dy), float4x4(0.020867591723800,0.079210706055164,-0.102989196777344,0.053560867905617,0.102831512689590,0.029336754232645,-0.074253782629967,-0.122452147305012,-0.126405969262123,-0.040324646979570,0.010143638588488,0.011689275503159,-0.047819249331951,0.224168553948402,-0.004475917201489,-0.082071736454964));
res += mul(Get(s0,dx,-dy), float4x4(-0.079452730715275,-0.124745108187199,-0.032884988933802,0.013557223603129,0.069767490029335,-0.057977862656116,0.106907665729523,-0.000297960388707,-0.026745937764645,-0.014915565960109,0.235764071345329,0.063297756016254,-0.125688731670380,-0.011003295890987,0.063739165663719,-0.017380181699991));
res += mul(Get(s0,dx,0), float4x4(-0.090268567204475,-0.021944006904960,-0.028896184638143,0.067708052694798,0.136457726359367,-0.232370585203171,-0.096093758940697,0.053403470665216,-0.050562538206577,-0.169927448034286,0.008467409759760,-0.100944057106972,-0.194389611482620,0.004809056408703,0.084004752337933,-0.036384094506502));
res += mul(Get(s0,dx,dy), float4x4(-0.027819095179439,0.024672405794263,0.025547893717885,0.020390935242176,0.146179214119911,-0.033902324736118,-0.115109838545322,0.013304978609085,-0.140561550855637,0.001941830734722,-0.098749265074730,0.058034960180521,-0.201532766222954,0.215005517005920,0.012461015954614,-0.060836810618639));
res += mul(Get(s1,-dx,-dy), float4x4(-0.025683870539069,0.034345068037510,0.182751744985580,0.045528743416071,0.001594699686393,-0.018881857395172,-0.040039539337158,0.151065036654472,0.006288009695709,-0.133021607995033,0.043485231697559,-0.016671484336257,0.032646805047989,-0.011579745449126,-0.089716486632824,0.039471715688705));
res += mul(Get(s1,-dx,0), float4x4(0.135339364409447,0.063124798238277,0.066005475819111,0.121898993849754,0.036508742719889,0.135856509208679,-0.170761406421661,-0.034467201679945,-0.012658099643886,0.039761405438185,0.116418220102787,-0.048373162746429,0.064341522753239,-0.148149728775024,-0.090285606682301,-0.130967080593109));
res += mul(Get(s1,-dx,dy), float4x4(0.331246346235275,-0.023474400863051,-0.030702617019415,0.014309694990516,-0.202213585376740,0.034027844667435,-0.124851077795029,0.054799862205982,-0.035491865128279,0.058746900409460,0.217523708939552,-0.199996143579483,0.184757620096207,-0.024438962340355,-0.212932914495468,-0.023702932521701));
res += mul(Get(s1,0,-dy), float4x4(-0.038074150681496,0.021920723840594,-0.051979739218950,0.015377771109343,-0.080808430910110,-0.013186990283430,0.066347464919090,0.000494836829603,0.021579088643193,-0.068104222416878,0.054224256426096,-0.098495833575726,0.036414746195078,-0.030381107702851,0.011654448695481,0.002957219025120));
res += mul(Get(s1,0,0), float4x4(-0.082163140177727,0.055479012429714,0.048137441277504,-0.026379005983472,-0.062839880585670,-0.017982671037316,-0.194778501987457,-0.049574751406908,-0.055328421294689,0.100778050720692,-0.016898330301046,-0.037050325423479,-0.014627636410296,-0.078602902591228,-0.048311375081539,0.071132652461529));
res += mul(Get(s1,0,dy), float4x4(0.025584921240807,0.057841282337904,-0.073577411472797,-0.171655029058456,-0.291724532842636,-0.019758919253945,-0.107816003262997,-0.044896513223648,-0.140452146530151,0.155753359198570,-0.200875967741013,-0.080580972135067,-0.106864385306835,-0.027471404522657,0.045676246285439,-0.037155475467443));
res += mul(Get(s1,dx,-dy), float4x4(-0.138126045465469,0.032866362482309,0.002581425243989,-0.014280460774899,0.071656480431557,0.110520057380199,0.085302881896496,0.093856059014797,-0.060080744326115,-0.087906323373318,0.026375887915492,-0.019965872168541,0.021352734416723,-0.086330816149712,-0.059191562235355,0.025186765938997));
res += mul(Get(s1,dx,0), float4x4(-0.039941713213921,-0.071562632918358,0.007478036917746,-0.035422518849373,-0.018137998878956,-0.006032890174538,-0.101911328732967,0.019802886992693,0.041951015591621,0.092958234250546,0.081821531057358,0.123633630573750,-0.037564553320408,0.007262091152370,-0.042019341140985,0.083245046436787));
res += mul(Get(s1,dx,dy), float4x4(0.091107957065105,-0.125062927603722,-0.167151093482971,-0.051229890435934,-0.136161282658577,-0.093798741698265,-0.126213833689690,-0.028067467734218,0.036550622433424,-0.028262380510569,-0.047008793801069,0.027610614895821,-0.033487670123577,0.091383591294289,-0.063046082854271,0.030630731955171));
res += mul(Get(s2,-dx,-dy), float4x4(-0.041585687547922,0.096376612782478,-0.075628556311131,0.067272186279297,0.011644145473838,0.010139911435544,-0.120482280850410,-0.038942523300648,-0.036861918866634,-0.018507111817598,-0.046810477972031,0.099259696900845,0.031245037913322,-0.086931385099888,-0.016459144651890,-0.027407843619585));
res += mul(Get(s2,-dx,0), float4x4(0.025565473362803,0.113238736987114,-0.055837240070105,0.047513298690319,0.177343875169754,-0.121100373566151,-0.123380437493324,-0.109881892800331,0.005825611762702,-0.083476245403290,-0.090714775025845,-0.106562435626984,0.027039440348744,-0.093740008771420,-0.059739030897617,-0.089221045374870));
res += mul(Get(s2,-dx,dy), float4x4(0.250736564397812,-0.062507502734661,-0.114035665988922,0.010427689179778,0.062874227762222,0.072808921337128,0.059179075062275,-0.131194502115250,-0.083426684141159,0.104417100548744,0.085804723203182,0.194276407361031,-0.097892031073570,-0.042843453586102,-0.174944221973419,-0.015143504366279));
res += mul(Get(s2,0,-dy), float4x4(0.030120933428407,0.038885872811079,-0.033477719873190,-0.007412266917527,-0.031135277822614,0.114632889628410,-0.063789337873459,0.026388878002763,-0.006774907000363,-0.108352467417717,0.068630665540695,-0.098360672593117,0.257259368896484,-0.067341834306717,-0.019638534635305,-0.083852417767048));
res += mul(Get(s2,0,0), float4x4(0.050010327249765,0.044989101588726,-0.010314127430320,-0.073361106216908,0.043285168707371,-0.009652732871473,-0.051853146404028,-0.050367884337902,-0.008970305323601,-0.146944761276245,0.024486167356372,-0.029545390978456,-0.157675325870514,-0.022416876628995,-0.129865393042564,-0.090314947068691));
res += mul(Get(s2,0,dy), float4x4(0.140785321593285,-0.002958314958960,-0.102213755249977,-0.093534879386425,0.020397711545229,-0.006430591456592,-0.056767411530018,-0.016919171437621,-0.143260419368744,0.026523513719440,0.035895872861147,-0.097980588674545,-0.151655927300453,0.107627078890800,-0.073518142104149,-0.148332655429840));
res += mul(Get(s2,dx,-dy), float4x4(0.080370754003525,-0.045655366033316,-0.015819927677512,-0.013560612685978,0.075131230056286,0.055650394409895,0.012843310832977,0.094555594027042,-0.140218541026115,-0.086727812886238,0.035748902708292,0.144336491823196,0.049806345254183,-0.061808440834284,-0.011370101012290,0.025102030485868));
res += mul(Get(s2,dx,0), float4x4(0.045072466135025,0.039354927837849,0.025925282388926,-0.286368399858475,0.082149647176266,0.020029688253999,0.032338544726372,-0.031061066314578,-0.120184227824211,-0.064945079386234,0.071471765637398,0.041415601968765,0.039653301239014,0.085334800183773,0.048285569995642,0.034073881804943));
res += mul(Get(s2,dx,dy), float4x4(-0.064025111496449,0.000496266991831,-0.049822039902210,-0.157979384064674,-0.059037737548351,-0.020870316773653,0.065357767045498,-0.102933131158352,-0.058863196521997,-0.005039549898356,-0.106457933783531,-0.007274012081325,-0.082576461136341,-0.058736499398947,-0.112704366445541,-0.008688688278198));
res += mul(Get(s3,-dx,-dy), float4x4(-0.131441399455070,0.027458393946290,-0.017449127510190,-0.029493566602468,0.253111809492111,0.064522117376328,-0.036372035741806,-0.138652771711349,0.047946933656931,-0.030610181391239,-0.130953386425972,0.120708107948303,-0.182686164975166,-0.070024073123932,0.336084753274918,0.008780929259956));
res += mul(Get(s3,-dx,0), float4x4(-0.207680106163025,0.040384642779827,-0.134681969881058,0.105285741388798,0.019117901101708,0.024778058752418,-0.040032796561718,-0.238125324249268,0.044813353568316,0.034933567047119,-0.036607958376408,0.050581045448780,0.002408073516563,-0.071708470582962,0.095054537057877,0.011127056553960));
res += mul(Get(s3,-dx,dy), float4x4(-0.172075659036636,-0.000974796421360,0.031000128015876,0.155994281172752,0.054952103644609,0.131622344255447,-0.005209109280258,-0.039003726094961,0.246996417641640,0.029768783599138,0.061947196722031,0.082032039761543,0.040346793830395,-0.052111219614744,-0.018103498965502,0.048922330141068));
res += mul(Get(s3,0,-dy), float4x4(0.045847311615944,-0.152797609567642,-0.092577241361141,-0.011372512206435,0.010730728507042,0.030803734436631,-0.152594670653343,0.128478065133095,0.082051709294319,-0.091593861579895,0.005031083710492,-0.023256283253431,-0.270709097385406,-0.089714594185352,0.108298972249031,-0.014135338366032));
res += mul(Get(s3,0,0), float4x4(-0.046140048652887,-0.022856984287500,-0.077340491116047,-0.020018912851810,-0.008825378492475,-0.007000065874308,-0.052869681268930,0.023787667974830,-0.192148447036743,-0.068849414587021,0.115797594189644,-0.019380003213882,-0.142778337001801,0.123492918908596,-0.132661446928978,-0.098411887884140));
res += mul(Get(s3,0,dy), float4x4(-0.103676289319992,0.118325665593147,-0.010601472109556,0.006986879743636,-0.040938835591078,0.048755820840597,0.109212271869183,0.108558364212513,-0.028801564127207,-0.013516811653972,-0.009531365707517,-0.012303263880312,-0.037611797451973,0.114518910646439,-0.084555104374886,-0.115915417671204));
res += mul(Get(s3,dx,-dy), float4x4(0.031047824770212,-0.031643863767385,-0.108676120638847,0.078120768070221,-0.213894098997116,0.203390374779701,0.151822686195374,0.186235979199409,-0.000263238820480,-0.051645576953888,-0.047222644090652,-0.063002161681652,0.024856625124812,-0.114456482231617,0.073707446455956,-0.108768291771412));
res += mul(Get(s3,dx,0), float4x4(-0.022327940911055,0.059888031333685,0.038640730082989,0.081045590341091,-0.058341588824987,-0.072791233658791,-0.057074818760157,0.037140686064959,-0.125300601124763,-0.064918830990791,0.020342521369457,0.041645854711533,0.143781766295433,0.001501871389337,-0.063008032739162,-0.100165583193302));
res += mul(Get(s3,dx,dy), float4x4(-0.160659074783325,0.097556255757809,0.049452729523182,-0.076884694397449,0.067296370863914,0.282707005739212,0.361793190240860,0.209184333682060,-0.033655550330877,0.005035744048655,-0.055024981498718,0.183251991868019,0.198270827531815,0.120664983987808,0.104911051690578,-0.092238441109657));
return max(float4(0,0,0,0), res);
}
