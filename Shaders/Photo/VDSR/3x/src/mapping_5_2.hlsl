sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.072656668722630,0.220303073525429,-0.056809533387423,-0.016101732850075,0.002263634698465,0.028901185840368,0.041840199381113,-0.050101064145565,-0.018306955695152,0.095944412052631,-0.024955535307527,-0.280340671539307,-0.009169361554086,-0.028431599959731,-0.196430429816246,0.098808027803898));
res += mul(Get(s0,-dx,0), float4x4(-0.029650487005711,0.068826727569103,-0.071438647806644,-0.023481685668230,0.027187203988433,0.126050472259521,0.109522648155689,0.156559601426125,0.015850342810154,0.162007570266724,-0.063646763563156,0.046232804656029,-0.026700289919972,-0.173828035593033,-0.101101063191891,-0.013123538345098));
res += mul(Get(s0,-dx,dy), float4x4(0.109207578003407,-0.022971615195274,0.013525753282011,0.038782548159361,-0.071335025131702,-0.006855718325824,0.081881731748581,-0.065448015928268,0.252216160297394,-0.129478752613068,-0.056923106312752,-0.129706099629402,-0.108074158430099,0.063110604882240,0.063523240387440,0.141827210783958));
res += mul(Get(s0,0,-dy), float4x4(0.124579757452011,0.151418462395668,-0.103106677532196,0.054755654186010,-0.024264797568321,0.104561641812325,0.165886297821999,0.071260459721088,-0.036998771131039,-0.003400052664801,-0.075185388326645,0.007409354671836,-0.023119965568185,0.011924553662539,0.041479300707579,-0.009922635741532));
res += mul(Get(s0,0,0), float4x4(0.004738462157547,0.151887238025665,0.032257944345474,0.083498477935791,-0.103814847767353,-0.150552123785019,-0.220862582325935,-0.149518579244614,0.030798841267824,0.058379653841257,0.027505261823535,0.038561124354601,0.019335774704814,0.198923707008362,-0.225746154785156,0.031417697668076));
res += mul(Get(s0,0,dy), float4x4(-0.221092253923416,0.032761912792921,-0.137416973710060,0.112497210502625,0.014502886682749,0.089846268296242,-0.073021195828915,0.071840673685074,-0.032442871481180,-0.004944072104990,0.145899787545204,-0.033634752035141,-0.192846700549126,-0.004593465477228,-0.037207610905170,-0.006978156510741));
res += mul(Get(s0,dx,-dy), float4x4(0.034210015088320,0.048520945012569,-0.050443824380636,-0.011513859964907,-0.161760807037354,0.078677274286747,0.185219168663025,0.088138401508331,0.177064821124077,-0.010536523535848,-0.132144495844841,-0.035595145076513,-0.206764817237854,-0.151213824748993,-0.206257164478302,0.024399787187576));
res += mul(Get(s0,dx,0), float4x4(-0.180329948663712,-0.016411598771811,-0.035521369427443,-0.146277815103531,0.008452209644020,-0.004672439303249,0.008863465860486,0.123836435377598,-0.189239427447319,0.033709321171045,-0.059061378240585,0.050822041928768,0.082276642322540,0.057258479297161,0.051336079835892,-0.058567199856043));
res += mul(Get(s0,dx,dy), float4x4(-0.010342508554459,-0.132302746176720,0.115008451044559,0.050567902624607,0.032567888498306,0.121130526065826,0.003108216682449,0.132320150732994,0.064268440008163,-0.177630707621574,0.184013158082962,0.062675938010216,0.094196088612080,-0.130499497056007,-0.185952499508858,0.066668398678303));
res += mul(Get(s1,-dx,-dy), float4x4(-0.169482246041298,0.086246833205223,0.094857148826122,0.117499217391014,0.239039748907089,-0.062147263437510,0.131443381309509,-0.033891592174768,0.012042053975165,0.062186796218157,-0.090018719434738,-0.235326647758484,0.072683021426201,-0.036633666604757,-0.132801294326782,-0.012051542289555));
res += mul(Get(s1,-dx,0), float4x4(0.089002139866352,-0.018324403092265,0.090583927929401,-0.094889037311077,0.196414321660995,0.066353261470795,-0.023334112018347,-0.070304535329342,-0.153845414519310,-0.088518075644970,-0.134783923625946,0.093499317765236,-0.017053715884686,0.005149837117642,-0.108907014131546,-0.152924582362175));
res += mul(Get(s1,-dx,dy), float4x4(0.116192042827606,0.124441131949425,-0.094122625887394,-0.251089364290237,-0.217186525464058,0.212022289633751,-0.001311764586717,0.079929374158382,0.036392420530319,-0.042630258947611,0.039181783795357,0.045933835208416,0.052083000540733,0.049026954919100,-0.020994057878852,-0.095938608050346));
res += mul(Get(s1,0,-dy), float4x4(-0.010034091770649,-0.104558587074280,-0.147962689399719,-0.133104771375656,0.031998112797737,0.048195250332355,-0.113459616899490,0.073552764952183,0.067756682634354,-0.126873359084129,0.071124665439129,-0.223244592547417,-0.014602380804718,0.048463828861713,-0.028610270470381,0.192453995347023));
res += mul(Get(s1,0,0), float4x4(-0.093188278377056,-0.181817114353180,-0.194675698876381,0.088432885706425,0.071889221668243,0.084635369479656,-0.120583832263947,0.003157927887514,0.296413838863373,-0.023650271818042,-0.029944155365229,-0.122474558651447,0.077643215656281,0.217451468110085,-0.014591163955629,0.014483196660876));
res += mul(Get(s1,0,dy), float4x4(-0.135257035493851,0.194470509886742,0.083722017705441,-0.079448826611042,-0.064148619771004,0.139608576893806,-0.079460330307484,-0.173754438757896,0.155241474509239,0.057180155068636,-0.136578559875488,-0.006784965284169,-0.091721601784229,0.004442024510354,0.076796829700470,0.087276466190815));
res += mul(Get(s1,dx,-dy), float4x4(0.053710702806711,-0.049726948142052,-0.153925225138664,0.018633276224136,-0.042791008949280,-0.017454352229834,0.136263921856880,0.205962225794792,-0.031071648001671,0.013971867039800,-0.038739997893572,-0.264002174139023,-0.012399853207171,-0.085791729390621,0.024937439709902,-0.074171192944050));
res += mul(Get(s1,dx,0), float4x4(-0.008338604122400,0.181558072566986,0.025418972596526,0.090663939714432,0.052184570580721,0.140128135681152,-0.127952814102173,0.086047843098640,0.071018762886524,0.055500071495771,0.092710301280022,0.284103780984879,-0.147301793098450,0.020128993317485,-0.141116410493851,-0.093997962772846));
res += mul(Get(s1,dx,dy), float4x4(-0.162479221820831,-0.135380282998085,0.028330115601420,0.085159048438072,-0.183896914124489,-0.096252448856831,-0.250404536724091,-0.198468774557114,-0.136338740587234,0.194291278719902,0.111632458865643,-0.087619654834270,0.134440213441849,0.007177249062806,0.039768271148205,0.071051783859730));
res += mul(Get(s2,-dx,-dy), float4x4(0.046533577144146,0.025833638384938,0.086611896753311,0.077434897422791,-0.011812129989266,0.076808482408524,0.023346686735749,0.060663677752018,0.210818126797676,-0.006038947962224,-0.198540553450584,-0.003825385356322,0.136994048953056,0.010100168175995,-0.054015602916479,-0.047546036541462));
res += mul(Get(s2,-dx,0), float4x4(-0.109341375529766,-0.081157505512238,0.075078576803207,-0.043288186192513,-0.117105334997177,-0.122205786406994,0.025265809148550,-0.155396223068237,0.216737776994705,0.055794239044189,-0.153768733143806,-0.137324169278145,0.024729032069445,-0.070001386106014,-0.097778134047985,-0.020093964412808));
res += mul(Get(s2,-dx,dy), float4x4(-0.009960257448256,0.030129274353385,-0.138928577303886,-0.143171548843384,0.000204018928343,0.083173245191574,-0.122613430023193,0.126080632209778,-0.055169314146042,0.077719748020172,-0.014194702729583,-0.071889810264111,-0.069176256656647,-0.013505481183529,0.080681860446930,-0.070758357644081));
res += mul(Get(s2,0,-dy), float4x4(0.110566116869450,0.020303016528487,0.050525259226561,-0.127106443047523,-0.055068120360374,0.046361368149519,0.020627910271287,-0.141700387001038,0.170505553483963,-0.030156699940562,-0.083019442856312,0.068704813718796,0.057470310479403,0.045689709484577,-0.064967602491379,-0.041004601866007));
res += mul(Get(s2,0,0), float4x4(-0.098411671817303,-0.231331661343575,0.108768090605736,-0.090998828411102,-0.112810902297497,0.146850615739822,-0.066567942500114,-0.042405098676682,-0.110090106725693,0.035297784954309,-0.052209597080946,-0.031978089362383,-0.003826184663922,0.013521149754524,0.003667384386063,0.088502638041973));
res += mul(Get(s2,0,dy), float4x4(-0.143768161535263,-0.099394887685776,-0.119319997727871,0.041746430099010,-0.313198953866959,0.172145068645477,-0.201224073767662,-0.069806851446629,-0.018209412693977,0.018949659541249,-0.073783792555332,-0.107056356966496,-0.108650341629982,0.253067493438721,0.116012856364250,-0.023845128715038));
res += mul(Get(s2,dx,-dy), float4x4(-0.083527863025665,0.032012462615967,-0.001397283282131,-0.187358856201172,-0.127838626503944,0.087913654744625,-0.095256440341473,-0.189227446913719,0.009424068033695,0.233515858650208,-0.037178620696068,-0.023685913532972,-0.136340364813805,-0.018004667013884,-0.114230863749981,-0.006225470919162));
res += mul(Get(s2,dx,0), float4x4(0.017693720757961,-0.118822179734707,-0.174668565392494,0.076547786593437,-0.234480679035187,0.019987953826785,0.022911185398698,-0.240965917706490,-0.062933810055256,0.004314136225730,0.168379887938499,0.312452912330627,0.032390449196100,-0.079840242862701,0.176080122590065,-0.002579133259133));
res += mul(Get(s2,dx,dy), float4x4(0.061276033520699,-0.087045244872570,0.216513991355896,0.038128934800625,-0.074251808226109,0.135455086827278,0.043601013720036,0.114701509475708,-0.017643446102738,0.183067411184311,-0.067808240652084,0.153809949755669,-0.033835042268038,-0.005867873784155,-0.223092883825302,-0.069783397018909));
res += mul(Get(s3,-dx,-dy), float4x4(0.031217718496919,-0.052085492759943,-0.165375262498856,0.007101010065526,0.146725341677666,-0.050077080726624,0.085658326745033,0.091515980660915,-0.004967657383531,-0.118524588644505,0.010639995336533,0.177754297852516,0.109943903982639,-0.075149863958359,0.029896154999733,0.121942996978760));
res += mul(Get(s3,-dx,0), float4x4(0.025538032874465,0.083683930337429,-0.025753319263458,0.025302508845925,-0.101109489798546,-0.025919461622834,0.262047111988068,0.071728870272636,0.008261862210929,-0.159247562289238,-0.050505667924881,-0.093234665691853,0.003466193564236,0.104299888014793,0.003329027676955,0.208176001906395));
res += mul(Get(s3,-dx,dy), float4x4(0.010735559277236,-0.110312819480896,0.130515843629837,-0.099783010780811,0.080049648880959,0.211136847734451,-0.003414359875023,0.072694398462772,-0.164252549409866,0.160030335187912,-0.098422214388847,0.028560893610120,0.000202169190743,-0.069998599588871,-0.080346606671810,-0.085742086172104));
res += mul(Get(s3,0,-dy), float4x4(0.147886618971825,-0.005717863794416,-0.108771234750748,-0.114695250988007,0.149847835302353,0.107619486749172,0.115776322782040,-0.156427323818207,0.092973373830318,0.022268025204539,-0.086587339639664,-0.025681547820568,0.073683246970177,0.009799786843359,-0.023327164351940,-0.006358214188367));
res += mul(Get(s3,0,0), float4x4(0.225168973207474,0.063432566821575,-0.039154071360826,0.035609282553196,-0.165519446134567,-0.018554814159870,0.116778455674648,-0.081585183739662,-0.024739826098084,-0.030788961797953,0.123808182775974,-0.078743033111095,-0.238377839326859,-0.168650791049004,0.164027795195580,0.041062910109758));
res += mul(Get(s3,0,dy), float4x4(0.068984881043434,0.074695006012917,0.098167851567268,0.081518337130547,-0.050954341888428,-0.039686121046543,0.081160686910152,-0.170314311981201,-0.026634475216269,-0.049863070249557,-0.185372695326805,0.029207199811935,-0.015175584703684,0.018582049757242,0.011394971981645,-0.004338558297604));
res += mul(Get(s3,dx,-dy), float4x4(0.008379636332393,-0.111107878386974,0.153597518801689,-0.084885299205780,0.127200022339821,0.102589130401611,-0.015641057863832,-0.013725497759879,-0.066071182489395,0.088974259793758,-0.092966251075268,0.106196120381355,-0.021494098007679,0.054867673665285,0.080272175371647,0.014295525848866));
res += mul(Get(s3,dx,0), float4x4(-0.144094288349152,0.080136261880398,-0.127221375703812,-0.064897462725639,-0.040839191526175,-0.036066770553589,-0.091899789869785,-0.069784946739674,0.068583309650421,0.088495202362537,-0.032174862921238,0.135608315467834,0.056068900972605,0.052122592926025,-0.059965211898088,-0.005061354022473));
res += mul(Get(s3,dx,dy), float4x4(-0.020330186933279,-0.096146531403065,-0.082408808171749,0.029339946806431,-0.086273632943630,0.089874863624573,-0.045508764684200,-0.074118420481682,0.163308829069138,-0.060557018965483,-0.156829759478569,0.283895760774612,-0.216644659638405,0.084573715925217,-0.050526142120361,0.057118184864521));
return max(float4(0,0,0,0), res);
}
