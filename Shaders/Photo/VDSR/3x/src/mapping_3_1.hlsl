sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.155180126428604,-0.039756026118994,0.065746255218983,-0.063022233545780,-0.153292581439018,-0.022260623052716,-0.116448849439621,-0.147407293319702,0.110713601112366,0.097413226962090,-0.114631325006485,0.047998011112213,-0.140463456511497,0.051222048699856,-0.205710858106613,-0.272923231124878));
res += mul(Get(s0,-dx,0), float4x4(0.026814350858331,0.059154961258173,0.015421614982188,-0.023082187399268,-0.003618364222348,-0.049366757273674,-0.145175278186798,-0.154701754450798,-0.252046883106232,-0.159605503082275,0.061970107257366,-0.071468204259872,-0.110908001661301,-0.051229733973742,0.278850495815277,0.016594320535660));
res += mul(Get(s0,-dx,dy), float4x4(-0.155420199036598,-0.092077337205410,0.157592669129372,0.081292495131493,0.054080951958895,-0.082021638751030,-0.073361180722713,0.028118086978793,0.069261737167835,0.058699034154415,0.076321810483932,-0.130295991897583,-0.086216546595097,0.068013839423656,0.453276664018631,0.142756178975105));
res += mul(Get(s0,0,-dy), float4x4(-0.152276605367661,0.125176727771759,-0.194881439208984,-0.055859006941319,0.005490289535373,-0.003679957007989,-0.067727491259575,-0.034520819783211,0.153028234839439,0.057845741510391,-0.013051051646471,-0.027439629659057,-0.010029454715550,-0.058047179132700,-0.122329398989677,0.021474391222000));
res += mul(Get(s0,0,0), float4x4(0.070302233099937,0.106213569641113,-0.207691490650177,-0.078747555613518,-0.041470397263765,-0.028737114742398,-0.100299142301083,-0.117067545652390,-0.216682210564613,-0.179605320096016,0.152925282716751,-0.261772543191910,0.014250950887799,0.011106883175671,-0.089180730283260,0.023849608376622));
res += mul(Get(s0,0,dy), float4x4(0.108019180595875,-0.030016878619790,0.048868663609028,0.103401094675064,-0.157586187124252,0.116312518715858,0.162957698106766,-0.137008622288704,0.166799277067184,0.352379769086838,-0.049361422657967,-0.092998526990414,-0.045707311481237,0.110976628959179,-0.057311497628689,-0.003176925471053));
res += mul(Get(s0,dx,-dy), float4x4(0.352515101432800,0.217094525694847,-0.156729564070702,-0.077804423868656,0.064115285873413,-0.032578587532043,0.262798190116882,-0.030041072517633,0.191441208124161,0.060596980154514,0.020769491791725,-0.160667330026627,0.032705649733543,-0.134135901927948,0.031091500073671,-0.030013924464583));
res += mul(Get(s0,dx,0), float4x4(0.041528210043907,0.039080619812012,-0.090789817273617,-0.100124128162861,-0.027568154036999,-0.059490699321032,0.034240171313286,0.037018258124590,-0.198919579386711,-0.193454533815384,0.073288798332214,-0.168946966528893,0.049516875296831,-0.034288775175810,0.030525868758559,-0.055647313594818));
res += mul(Get(s0,dx,dy), float4x4(-0.179612338542938,-0.098986878991127,0.280087798833847,0.036128740757704,-0.131959855556488,0.054462306201458,0.054079748690128,-0.064383804798126,0.080546222627163,0.327113062143326,-0.163398638367653,-0.090217195451260,0.052191246300936,-0.078328236937523,0.023176606744528,0.105169855058193));
res += mul(Get(s1,-dx,-dy), float4x4(0.007061476353556,-0.210226148366928,-0.134486883878708,-0.054771993309259,0.037686742842197,-0.022629158571362,-0.225640907883644,-0.172748118638992,0.031775213778019,0.036956675350666,-0.011100121773779,-0.079441435635090,-0.016711184754968,0.003920585848391,-0.019523173570633,0.031273912638426));
res += mul(Get(s1,-dx,0), float4x4(-0.049563776701689,-0.082428902387619,0.009822652675211,0.087916135787964,-0.011723860166967,-0.050693441182375,-0.342887103557587,0.176778703927994,-0.044088862836361,-0.039049301296473,-0.018824398517609,-0.020384559407830,-0.085472270846367,-0.003304048674181,-0.048093497753143,-0.033360045403242));
res += mul(Get(s1,-dx,dy), float4x4(0.033940549939871,-0.089089438319206,-0.013767775148153,-0.006003828719258,-0.073572471737862,-0.024476081132889,-0.003720195265487,-0.028691738843918,-0.027347803115845,-0.077064193785191,-0.019970927387476,0.016465326771140,-0.019100947305560,0.064832501113415,-0.013639956712723,-0.122061803936958));
res += mul(Get(s1,0,-dy), float4x4(-0.043733712285757,0.008495219051838,-0.041043866425753,-0.174336895346642,0.199752211570740,0.009577420540154,-0.048472054302692,-0.133906170725822,0.038865901529789,0.029263390228152,0.014065903611481,-0.090584129095078,0.038814950734377,0.071695409715176,-0.103640928864479,-0.008286807686090));
res += mul(Get(s1,0,0), float4x4(-0.061647776514292,0.040762409567833,0.132934316992760,-0.063537366688251,-0.124611720442772,0.021446365863085,-0.097793750464916,0.137704342603683,-0.006461768876761,-0.017592374235392,-0.008743509650230,-0.018058333545923,-0.125926196575165,0.026664683595300,-0.114619359374046,-0.000367209548131));
res += mul(Get(s1,0,dy), float4x4(-0.009359645657241,-0.129307284951210,0.117778562009335,-0.010246255435050,-0.033730771392584,0.049964580684900,0.101664267480373,0.167473167181015,-0.002137738512829,-0.072042413055897,-0.002749188337475,0.018628479912877,0.049943093210459,0.107374712824821,-0.068132646381855,-0.122225478291512));
res += mul(Get(s1,dx,-dy), float4x4(-0.005802136380225,0.152320384979248,0.013395372778177,-0.087589301168919,0.010910683311522,0.020624285563827,0.073739103972912,0.130777344107628,0.043617781251669,0.032424189150333,0.028792774304748,-0.074344798922539,0.069339714944363,-0.002402012934908,-0.050590451806784,-0.066829040646553));
res += mul(Get(s1,dx,0), float4x4(0.083372972905636,0.092261232435703,0.048611190170050,0.043701630085707,0.000622356368694,0.015732027590275,0.033762667328119,-0.020498732104897,-0.000560145010240,0.004380026366562,-0.014655750244856,0.008741327561438,-0.136681348085403,-0.040855560451746,-0.020162284374237,-0.002485079690814));
res += mul(Get(s1,dx,dy), float4x4(-0.034827273339033,-0.165318638086319,-0.083029456436634,0.084203928709030,-0.024278288707137,-0.036881193518639,0.044459301978350,0.015211802907288,0.024682784453034,-0.064981795847416,0.009547569788992,0.026088979095221,-0.048241898417473,0.083858728408813,-0.031902860850096,-0.071661710739136));
res += mul(Get(s2,-dx,-dy), float4x4(0.084447547793388,0.078368015587330,0.003301357850432,0.207660838961601,-0.028361698612571,-0.101280912756920,-0.133190423250198,0.238435551524162,0.033103786408901,0.030215818434954,-0.054856482893229,-0.057107407599688,-0.000136503382237,0.000002646006124,0.000030351598980,0.000013563743778));
res += mul(Get(s2,-dx,0), float4x4(-0.145527899265289,0.028702961280942,0.208257809281349,-0.063399359583855,0.051264539361000,-0.099139675498009,0.039266657084227,0.179617419838905,-0.054976593703032,0.027781046926975,0.013280477374792,-0.041345756500959,-0.000127130391775,-0.000016275083908,0.000085779720393,-0.000018343684133));
res += mul(Get(s2,-dx,dy), float4x4(0.026389665901661,0.029991451650858,0.063839465379715,-0.072302430868149,-0.006066080182791,-0.052634425461292,-0.028932888060808,0.030086444690824,-0.018343910574913,0.028508171439171,-0.003660353599116,0.059133209288120,-0.000036518140405,-0.000077453492850,0.000078580524132,-0.000078738958109));
res += mul(Get(s2,0,-dy), float4x4(0.090218551456928,-0.084807842969894,-0.127866268157959,0.148033604025841,-0.020065259188414,-0.029504464939237,-0.099214829504490,0.156980693340302,-0.120475843548775,0.078651189804077,-0.015761708840728,-0.156755045056343,-0.000048699119361,-0.000011582187653,0.000003634595942,-0.000000621900881));
res += mul(Get(s2,0,0), float4x4(-0.088147342205048,-0.116201370954514,0.040027104318142,-0.217099949717522,-0.038082040846348,-0.055716153234243,0.011691220104694,0.232018664479256,0.029831642284989,0.033189315348864,-0.034406766295433,-0.082444362342358,-0.000111931098218,-0.000019885485017,0.000080405581684,-0.000020495050194));
res += mul(Get(s2,0,dy), float4x4(-0.022199202328920,0.043296642601490,-0.063108019530773,-0.056003052741289,-0.069115765392780,-0.054181616753340,-0.017250489443541,-0.007293925620615,0.211288392543793,-0.015307601541281,-0.076544836163521,0.176802292466164,-0.000019857101506,-0.000075684882177,0.000024282771847,-0.000100750410638));
res += mul(Get(s2,dx,-dy), float4x4(-0.115423955023289,0.097901932895184,-0.282331317663193,-0.013584608212113,0.029374960809946,0.004691167268902,-0.080025553703308,-0.132149890065193,-0.052633963525295,-0.057289581745863,-0.027014531195164,-0.090290948748589,-0.000014133229342,-0.000023308763048,0.000029628921766,-0.000035739656596));
res += mul(Get(s2,dx,0), float4x4(0.013814866542816,-0.026820397004485,-0.057673547416925,-0.207990750670433,0.054002102464437,0.000607631169260,0.019296687096357,-0.003531159600243,-0.025282436981797,-0.074150055646896,-0.021297175437212,-0.041294962167740,-0.000056631997722,-0.000034187796700,0.000042179050070,-0.000007127353001));
res += mul(Get(s2,dx,dy), float4x4(0.061980962753296,-0.082400098443031,0.078333660960197,-0.034710347652435,0.036425571888685,-0.062919326126575,-0.046052258461714,0.118360877037048,0.170326635241508,-0.093688577413559,-0.044232703745365,0.072119407355785,-0.000031611933082,-0.000121077770018,-0.000052607545513,-0.000081882055383));
res += mul(Get(s3,-dx,-dy), float4x4(-0.239738047122955,-0.035608831793070,0.041114747524261,0.213123261928558,-0.111422441899776,0.051719907671213,0.056762166321278,-0.053721103817225,-0.153331205248833,-0.049008689820766,-0.028277069330215,0.029884150251746,-0.026356056332588,0.073304340243340,-0.020895065739751,-0.213120803236961));
res += mul(Get(s3,-dx,0), float4x4(0.105027511715889,-0.042108874768019,0.107764720916748,0.032829321920872,0.223773017525673,-0.017127063125372,-0.062442183494568,-0.047722518444061,-0.037690561264753,0.024720275774598,0.121476955711842,0.027342977002263,0.080664180219173,-0.001231952919625,-0.108413122594357,-0.132909357547760));
res += mul(Get(s3,-dx,dy), float4x4(0.163747191429138,-0.081063635647297,-0.189186155796051,-0.119415074586868,-0.051438268274069,-0.018964819610119,0.067721344530582,0.030723473057151,0.099866770207882,-0.041091445833445,-0.017162282019854,0.091020986437798,-0.066514462232590,-0.028999285772443,0.095744714140892,-0.035574465990067));
res += mul(Get(s3,0,-dy), float4x4(-0.390563666820526,-0.081174850463867,0.053410232067108,-0.000601587526035,0.158850684762001,0.023934056982398,-0.021565770730376,-0.186737462878227,-0.114828765392303,-0.061196625232697,0.026768648996949,0.212386012077332,-0.021351547911763,0.103427968919277,-0.020961800590158,0.004994858987629));
res += mul(Get(s3,0,0), float4x4(0.037772964686155,0.003664235118777,0.025423748418689,0.089944042265415,-0.019164355471730,-0.053197547793388,0.038827322423458,-0.025386719033122,-0.093821659684181,0.068915501236916,0.040794160217047,-0.041009753942490,0.101977631449699,0.029968576505780,-0.139212578535080,0.040143206715584));
res += mul(Get(s3,0,dy), float4x4(0.280637770891190,-0.026417957618833,-0.120266951620579,-0.011691459454596,-0.045047659426928,0.035780578851700,0.430165529251099,0.072337791323662,-0.031861186027527,0.006377245765179,-0.079828888177872,0.057948756963015,-0.046963375061750,-0.030772967264056,-0.127322986721992,0.183962717652321));
res += mul(Get(s3,dx,-dy), float4x4(0.031785968691111,-0.081581093370914,-0.061373762786388,-0.248498886823654,-0.000004394325060,0.000653578201309,-0.127948254346848,0.039745252579451,-0.037481352686882,-0.054125018417835,0.047394536435604,0.163549199700356,-0.001221990212798,0.083720512688160,0.026300700381398,0.153557121753693));
res += mul(Get(s3,dx,0), float4x4(0.210115239024162,-0.025859834626317,-0.123833283782005,0.027502356097102,-0.174651503562927,-0.076289743185043,-0.165314599871635,0.190512403845787,-0.204647839069366,0.123570613563061,-0.032754030078650,-0.127163916826248,0.108642920851707,-0.000636277254671,-0.009490342810750,0.101999916136265));
res += mul(Get(s3,dx,dy), float4x4(-0.127053335309029,-0.101760372519493,0.280894100666046,0.130756720900536,0.011838499456644,0.008930053561926,-0.113772913813591,-0.031016610562801,-0.071595557034016,0.013972921296954,0.015133956447244,0.091786749660969,-0.000588056165725,-0.029415203258395,-0.127612054347992,0.011935905553401));
return max(float4(0,0,0,0), res);
}
