sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.116568826138973,-0.132167771458626,-0.068109422922134,0.101400293409824,0.009432629682124,-0.086154155433178,0.132482320070267,0.015881653875113,-0.166103616356850,-0.055526677519083,-0.036364443600178,0.017205769196153,-0.101922444999218,-0.040548697113991,0.018869886174798,0.052492730319500));
res += mul(Get(s0,-dx,0), float4x4(-0.006655853707343,-0.006408228073269,0.007982843555510,-0.055239010602236,-0.020891601219773,-0.015525662340224,0.118019923567772,-0.080758601427078,-0.072165973484516,0.065289720892906,-0.001048993552104,0.043524146080017,-0.067398697137833,0.095299623906612,-0.065265446901321,-0.020736489444971));
res += mul(Get(s0,-dx,dy), float4x4(-0.212946176528931,0.134546756744385,-0.100722417235374,0.134834051132202,0.161159738898277,0.122664116322994,0.021232360973954,-0.066403999924660,-0.106134966015816,0.080467060208321,0.017851190641522,0.044139124453068,-0.100518889725208,-0.150666609406471,0.017654344439507,-0.006728141568601));
res += mul(Get(s0,0,-dy), float4x4(-0.035163391381502,-0.007522150874138,0.002773810178041,-0.038321826606989,-0.039261743426323,-0.037984557449818,-0.091366767883301,0.193773373961449,-0.041795283555984,0.104577906429768,0.127062410116196,0.055446270853281,-0.092410556972027,-0.213143244385719,0.069796070456505,0.013773656450212));
res += mul(Get(s0,0,0), float4x4(-0.020211694762111,0.015478361397982,0.005271529778838,-0.074526071548462,-0.085254944860935,0.054431218653917,0.022516325116158,-0.009305692277849,0.085314661264420,0.038565836846828,-0.120895333588123,-0.058611530810595,-0.079234324395657,-0.035282775759697,0.047733195126057,0.101352214813232));
res += mul(Get(s0,0,dy), float4x4(-0.201184034347534,-0.054231930524111,0.016318833455443,0.055125512182713,0.030626228079200,0.043340168893337,0.002825753763318,-0.103277362883091,0.039489675313234,0.053874701261520,-0.064632624387741,-0.077936634421349,-0.229292407631874,-0.041363503783941,-0.050296016037464,0.099197722971439));
res += mul(Get(s0,dx,-dy), float4x4(-0.032201275229454,-0.257779717445374,-0.021462356671691,0.043050292879343,0.054383002221584,-0.002467378275469,-0.120071396231651,0.179347112774849,0.132461816072464,0.087951399385929,-0.101397871971130,0.230980455875397,-0.057153943926096,-0.279921770095825,0.045316964387894,0.078224413096905));
res += mul(Get(s0,dx,0), float4x4(-0.098495073616505,-0.017281014472246,0.032095141708851,-0.049458730965853,-0.060283120721579,0.140876412391663,0.008757823146880,0.009848921559751,0.179700374603271,-0.031664513051510,-0.155095472931862,0.001719113439322,-0.070428766310215,-0.136312112212181,0.121711827814579,0.070714429020882));
res += mul(Get(s0,dx,dy), float4x4(-0.163943693041801,-0.049139469861984,-0.061812452971935,-0.021711623296142,0.097295425832272,-0.055800087749958,0.019670786336064,0.061015449464321,0.183377325534821,-0.031562652438879,-0.109673790633678,0.084990516304970,-0.147159844636917,0.016673538833857,0.052587971091270,-0.069077134132385));
res += mul(Get(s1,-dx,-dy), float4x4(-0.059593129903078,-0.129022970795631,0.028057325631380,-0.142059236764908,-0.044652525335550,0.040902476757765,0.060515940189362,0.025142308324575,-0.036707244813442,0.202566295862198,-0.026918675750494,-0.016085062175989,-0.178736448287964,-0.252141386270523,0.030514230951667,0.015852246433496));
res += mul(Get(s1,-dx,0), float4x4(-0.065532788634300,-0.025661114603281,0.147791653871536,0.067572049796581,0.025739299133420,-0.115134470164776,0.113201260566711,0.028237195685506,-0.038912110030651,0.150172501802444,-0.010186933912337,0.126117050647736,-0.288318902254105,0.053470265120268,0.107912093400955,-0.062182310968637));
res += mul(Get(s1,-dx,dy), float4x4(-0.148106768727303,0.033091884106398,-0.042458273470402,0.080344073474407,0.207700610160828,0.173490881919861,0.002942729974166,-0.158582150936127,-0.073919124901295,0.003534100949764,0.003508717287332,0.011944663710892,-0.279994606971741,0.239709585905075,-0.027195280417800,-0.042191814631224));
res += mul(Get(s1,0,-dy), float4x4(-0.015750683844090,-0.061064008623362,0.168885648250580,-0.009105244651437,-0.082288168370724,0.076294556260109,0.047831829637289,-0.015793049708009,-0.008718116208911,0.160810232162476,-0.034258760511875,-0.097853228449821,0.230531394481659,-0.144159615039825,-0.070468939840794,0.089174725115299));
res += mul(Get(s1,0,0), float4x4(0.042409777641296,-0.077304899692535,-0.210980951786041,0.154974952340126,0.065235801041126,-0.117564782500267,0.104049518704414,-0.042873915284872,-0.105683207511902,-0.097003728151321,-0.024743912741542,0.030059199780226,0.172807767987251,-0.171918317675591,-0.025148646906018,-0.040265038609505));
res += mul(Get(s1,0,dy), float4x4(-0.082441210746765,-0.108261406421661,-0.066805534064770,-0.160097822546959,0.042908009141684,-0.070578292012215,-0.010369055904448,-0.147422134876251,-0.077605262398720,-0.105899214744568,0.000735577603336,0.049664273858070,0.197461649775505,-0.108499787747860,0.042291834950447,-0.041476950049400));
res += mul(Get(s1,dx,-dy), float4x4(-0.056985322386026,0.079803131520748,0.081783927977085,0.091160319745541,-0.107292868196964,-0.170557782053947,-0.157899186015129,0.043054558336735,-0.017661748453975,0.142850056290627,-0.086568899452686,-0.125351756811142,0.393274366855621,-0.017897142097354,0.106198430061340,0.025711910799146));
res += mul(Get(s1,dx,0), float4x4(-0.042779210954905,0.121362119913101,0.031268540769815,-0.033657565712929,0.048367790877819,-0.076178364455700,-0.084323309361935,-0.079632930457592,-0.099772274494171,-0.014684694819152,-0.004725349135697,-0.109435193240643,0.043904095888138,0.184875860810280,0.028266416862607,-0.060442205518484));
res += mul(Get(s1,dx,dy), float4x4(-0.001128633855842,0.022700801491737,0.020792672410607,-0.144644007086754,-0.056821558624506,-0.117097035050392,-0.090165533125401,0.165848135948181,-0.013931103982031,-0.050088562071323,-0.074636444449425,-0.071365982294083,0.181402355432510,0.117014274001122,-0.148644849658012,0.134661614894867));
res += mul(Get(s2,-dx,-dy), float4x4(-0.115944504737854,-0.016196986660361,-0.023850692436099,0.109077110886574,0.121460057795048,-0.066060118377209,-0.009163997136056,-0.173559322953224,-0.224986776709557,0.096862450242043,-0.049080371856689,-0.012979367747903,0.278923064470291,-0.099474668502808,-0.013497868552804,-0.132285982370377));
res += mul(Get(s2,-dx,0), float4x4(-0.131159633398056,0.116006724536419,0.020636530593038,-0.122562624514103,-0.026297625154257,-0.038707528263330,0.185679242014885,-0.031837563961744,0.083301372826099,0.023318707942963,-0.109907045960426,-0.082749553024769,0.020309101790190,-0.089013434946537,0.188933596014977,-0.093856945633888));
res += mul(Get(s2,-dx,dy), float4x4(-0.041913043707609,0.230173885822296,-0.084819450974464,-0.029095742851496,-0.025088202208281,-0.029771592468023,-0.023649346083403,-0.000818991218694,0.087663255631924,0.120349936187267,0.027766220271587,-0.009110039100051,0.240336894989014,0.070356704294682,-0.036013342440128,0.016944700852036));
res += mul(Get(s2,0,-dy), float4x4(0.007475046440959,-0.169308811426163,0.044582441449165,-0.055672354996204,0.007082921452820,-0.078259095549583,-0.062284622341394,-0.072092160582542,-0.035806108266115,0.044939152896404,-0.046038739383221,-0.014825921505690,0.044851381331682,0.063477605581284,0.118339747190475,0.070695266127586));
res += mul(Get(s2,0,0), float4x4(0.080808833241463,-0.075252451002598,0.024205286055803,0.138923838734627,-0.015674028545618,-0.013505456037819,0.026481766253710,0.019703647121787,0.111013144254684,-0.096253596246243,-0.085624888539314,-0.143242716789246,-0.019566666334867,0.273293465375900,0.070435002446175,0.057709854096174));
res += mul(Get(s2,0,dy), float4x4(0.041971825063229,0.100276403129101,-0.040172617882490,-0.025393489748240,0.003340560011566,0.069650068879128,-0.085116110742092,0.049504566937685,-0.185622721910477,-0.057833544909954,0.055095840245485,-0.092453010380268,-0.023290568962693,0.128836438059807,-0.132501736283302,0.017563199624419));
res += mul(Get(s2,dx,-dy), float4x4(0.004814675543457,-0.082795605063438,-0.081042766571045,-0.150353133678436,-0.060284428298473,-0.125804588198662,0.143317475914955,-0.050425030291080,-0.026497326791286,-0.042575236409903,-0.190266892313957,0.050398208200932,0.058641541749239,-0.053607273846865,0.049038048833609,0.109263435006142));
res += mul(Get(s2,dx,0), float4x4(-0.061145547777414,-0.093410484492779,0.040218617767096,0.047090362757444,-0.162143930792809,-0.104486532509327,0.124667435884476,-0.026660047471523,0.145432785153389,-0.104036979377270,-0.089186303317547,0.038712583482265,0.002747879130766,-0.143284440040588,0.141862496733665,-0.179591357707977));
res += mul(Get(s2,dx,dy), float4x4(0.100075796246529,0.223408728837967,-0.074408099055290,-0.000701709359419,0.145465061068535,-0.147379070520401,-0.062734127044678,0.132642090320587,-0.091658242046833,0.052383042871952,0.014262762852013,-0.106469310820103,0.057439018040895,-0.236989200115204,-0.091637589037418,0.045962698757648));
res += mul(Get(s3,-dx,-dy), float4x4(0.061510261148214,-0.007532449439168,-0.048818625509739,0.106446526944637,0.052736036479473,0.030235359445214,-0.008114009164274,-0.272819250822067,-0.029173802584410,0.000942457874771,0.115720734000206,-0.134238347411156,0.089849151670933,-0.114987947046757,-0.086419805884361,0.012627222575247));
res += mul(Get(s3,-dx,0), float4x4(-0.036328572779894,0.092243283987045,-0.069303721189499,0.062607154250145,0.047445051372051,-0.016512479633093,-0.068037010729313,-0.150318697094917,-0.144919946789742,-0.022924236953259,-0.074549272656441,-0.018858810886741,-0.030630668625236,-0.039361000061035,-0.177460148930550,0.050615157932043));
res += mul(Get(s3,-dx,dy), float4x4(0.033984225243330,0.012644304893911,-0.069346517324448,-0.006550507154316,-0.022918099537492,-0.105469003319740,-0.035667452961206,-0.008356935344636,0.035399589687586,-0.060842260718346,0.121668204665184,0.013120026327670,0.080718219280243,0.176808714866638,-0.114233940839767,0.194251075387001));
res += mul(Get(s3,0,-dy), float4x4(0.018123647198081,-0.090297684073448,0.081983886659145,0.016116319224238,-0.050723146647215,0.077745355665684,0.037708554416895,0.034734643995762,0.055734161287546,-0.040276616811752,-0.020898247137666,0.011391658335924,0.004177403170615,-0.021510917693377,-0.022012280300260,-0.047435771673918));
res += mul(Get(s3,0,0), float4x4(-0.048115886747837,-0.017665928229690,-0.074993759393692,0.235120654106140,0.052416663616896,0.193009406328201,-0.122303888201714,0.116281531751156,-0.021910915151238,0.109783276915550,-0.099154040217400,0.002199777867645,0.024637831375003,-0.037993747740984,-0.181958660483360,-0.102717757225037));
res += mul(Get(s3,0,dy), float4x4(-0.077039912343025,-0.131208702921867,0.029240895062685,-0.025800790637732,0.008527846075594,0.097802393138409,-0.112100720405579,0.047869868576527,0.021420823410153,0.069008812308311,0.090201228857040,-0.098095789551735,-0.132607683539391,-0.020357782021165,0.080696478486061,-0.095409020781517));
res += mul(Get(s3,dx,-dy), float4x4(-0.026701176539063,-0.134723752737045,0.054612357169390,-0.020190868526697,-0.139249950647354,-0.143802970647812,-0.084111072123051,0.130976662039757,0.040126420557499,0.039670396596193,-0.101322069764137,-0.002468915190548,0.020059589296579,0.033161722123623,0.395031213760376,0.036894418299198));
res += mul(Get(s3,dx,0), float4x4(0.009962081909180,0.006765899714082,-0.164660871028900,0.295582354068756,-0.011346152983606,-0.031082328408957,-0.114708781242371,-0.010937819257379,0.010441911406815,0.078865803778172,0.063105493783951,-0.019538726657629,0.032502118498087,0.035256724804640,0.046537838876247,-0.039937578141689));
res += mul(Get(s3,dx,dy), float4x4(-0.026284325867891,0.135460123419762,-0.007848814129829,-0.124627344310284,0.136771991848946,0.044572535902262,-0.096699655056000,0.054443687200546,0.025510797277093,0.051248475909233,0.025140468031168,-0.068823046982288,-0.058122750371695,-0.028695838525891,0.096451118588448,0.032258354127407));
return max(float4(0,0,0,0), res);
}
