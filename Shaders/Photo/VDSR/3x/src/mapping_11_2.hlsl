sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.092874698340893,-0.037703316658735,-0.227132394909859,0.035273440182209,0.097738467156887,0.050295155495405,0.139139547944069,-0.121454790234566,-0.097739137709141,0.128485709428787,-0.007849442772567,0.058474216610193,-0.071254029870033,-0.057264268398285,0.185924738645554,-0.031770881265402));
res += mul(Get(s0,-dx,0), float4x4(-0.045733891427517,0.186070084571838,-0.147912204265594,-0.170196428894997,0.030858686193824,0.016408445313573,-0.104747764766216,0.087938874959946,0.171473026275635,-0.126328960061073,-0.027273429557681,-0.113984540104866,0.041115939617157,0.259108960628510,-0.025297559797764,0.073034644126892));
res += mul(Get(s0,-dx,dy), float4x4(-0.135902553796768,0.165387272834778,0.086987376213074,0.313295602798462,-0.000224155621254,-0.060202881693840,0.184004068374634,0.015735272318125,0.100934192538261,0.004761670250446,-0.042661938816309,0.060484077781439,0.057831928133965,0.068158321082592,-0.076448991894722,-0.040550805628300));
res += mul(Get(s0,0,-dy), float4x4(-0.022877870127559,0.051970038563013,0.056493885815144,0.034298155456781,0.123021699488163,-0.027766449376941,0.021830311045051,-0.018100313842297,0.090719230473042,-0.044365879148245,-0.017148388549685,-0.088942617177963,0.007478189188987,0.106806665658951,-0.020777326077223,-0.099678434431553));
res += mul(Get(s0,0,0), float4x4(0.100582383573055,0.063397713005543,-0.227758109569550,0.131224304437637,-0.032309118658304,-0.085382737219334,-0.027378987520933,0.184813439846039,0.020125947892666,0.079031825065613,-0.102090783417225,-0.013000736944377,0.063929654657841,0.159795045852661,-0.028813930228353,0.034652974456549));
res += mul(Get(s0,0,dy), float4x4(0.094762600958347,-0.071946538984776,-0.110521882772446,-0.048849072307348,0.017521427944303,-0.081973172724247,0.102561168372631,-0.075997024774551,-0.037729397416115,0.089118115603924,-0.181322991847992,-0.054117757827044,-0.047078158706427,-0.047997057437897,0.112123593688011,0.187809690833092));
res += mul(Get(s0,dx,-dy), float4x4(-0.218995153903961,-0.070002213120461,0.154148280620575,0.018454909324646,0.021269463002682,-0.025212356820703,-0.127175897359848,-0.057537030428648,0.011151645332575,-0.122447840869427,0.056499738246202,0.117534689605236,-0.114509515464306,-0.127066835761070,0.071850202977657,-0.142160043120384));
res += mul(Get(s0,dx,0), float4x4(0.289691388607025,-0.073092460632324,-0.012741097249091,0.148199409246445,-0.032958410680294,-0.013212356716394,0.081968538463116,0.009457767941058,0.162886694073677,0.017477316781878,0.032356295734644,0.100897796452045,0.062386639416218,0.138238728046417,-0.048265367746353,-0.052756346762180));
res += mul(Get(s0,dx,dy), float4x4(0.098096206784248,0.068067908287048,0.052963282912970,0.113078087568283,-0.016694050282240,0.004530415404588,0.097256600856781,0.146362096071243,-0.028925746679306,-0.230774506926537,0.020266724750400,-0.031140131875873,0.028233205899596,-0.041106920689344,0.058572556823492,-0.004433951806277));
res += mul(Get(s1,-dx,-dy), float4x4(-0.046201944351196,0.055634453892708,0.056827936321497,0.066970892250538,0.025979636237025,-0.109762288630009,0.135913357138634,0.140899121761322,-0.017743315547705,0.026958661153913,0.115938924252987,0.085974283516407,0.249118357896805,0.015698073431849,0.033944699913263,-0.049953106790781));
res += mul(Get(s1,-dx,0), float4x4(0.144880771636963,-0.072211101651192,-0.156813591718674,-0.108393296599388,-0.028594115749002,0.108647137880325,-0.007403662893921,-0.046839352697134,-0.080719709396362,-0.056095059961081,-0.108939118683338,0.138831987977028,0.131907522678375,0.046749100089073,-0.166008800268173,-0.138419315218925));
res += mul(Get(s1,-dx,dy), float4x4(-0.001478282036260,-0.183909237384796,-0.129186004400253,0.017679339274764,0.012511339969933,0.045915745198727,0.109001122415066,0.121991530060768,0.054738394916058,0.050492718815804,0.038528855890036,-0.051607854664326,0.102013207972050,-0.014111809432507,0.145259410142899,0.124614335596561));
res += mul(Get(s1,0,-dy), float4x4(-0.009948516264558,0.062834694981575,0.052637372165918,-0.094853594899178,-0.010373727418482,-0.047873836010695,-0.097493343055248,0.054857224225998,0.094211421906948,0.061301365494728,-0.045686099678278,0.130951330065727,-0.014527565799654,0.057157456874847,0.081559412181377,-0.136976122856140));
res += mul(Get(s1,0,0), float4x4(0.041360750794411,0.034488640725613,0.019517356529832,-0.068766646087170,-0.086587630212307,0.047207117080688,0.068534053862095,-0.008151480928063,-0.084797188639641,0.116414420306683,0.094442911446095,-0.107610926032066,-0.020550647750497,-0.019915217533708,0.077086269855499,0.144117936491966));
res += mul(Get(s1,0,dy), float4x4(0.249247714877129,-0.023616459220648,0.044597554951906,-0.079310297966003,0.006061488296837,-0.086563877761364,0.032572414726019,-0.018992459401488,-0.157397270202637,-0.120484925806522,0.090436942875385,-0.069619245827198,-0.095223642885685,0.077791891992092,0.190415993332863,0.047319550067186));
res += mul(Get(s1,dx,-dy), float4x4(-0.028189808130264,0.173420801758766,-0.157782644033432,-0.034359641373158,0.155723735690117,0.020754931494594,-0.063475921750069,-0.028612475842237,0.021327270194888,-0.088475428521633,-0.100383564829826,0.130741611123085,0.074425786733627,-0.080801129341125,0.011430586688221,-0.098067037761211));
res += mul(Get(s1,dx,0), float4x4(0.143759667873383,0.011877045035362,0.035183254629374,-0.239023774862289,0.279768615961075,-0.009591137059033,-0.156415492296219,-0.018783550709486,-0.107147566974163,-0.093160599470139,0.034456819295883,-0.009204979054630,0.039301291108131,0.000118066127470,0.105545803904533,0.039960369467735));
res += mul(Get(s1,dx,dy), float4x4(0.030855692923069,0.155003800988197,-0.014734439551830,-0.009372564032674,0.178393065929413,-0.034395139664412,-0.020395599305630,0.034002337604761,0.060119397938251,-0.034779030829668,-0.149670690298080,-0.064882457256317,-0.124420098960400,-0.090202078223228,0.043358102440834,0.033293072134256));
res += mul(Get(s2,-dx,-dy), float4x4(0.066917777061462,0.095079764723778,-0.074534133076668,-0.069245792925358,0.143214985728264,-0.161804750561714,-0.037002917379141,-0.027280176058412,0.084292292594910,-0.142677098512650,-0.119417250156403,0.033363491296768,-0.053522743284702,0.029807195067406,0.122126519680023,-0.095130696892738));
res += mul(Get(s2,-dx,0), float4x4(0.008689953945577,0.152258381247520,-0.053113400936127,-0.059300791472197,0.065976686775684,-0.037799514830112,-0.001395876752213,-0.130999013781548,-0.174781069159508,0.073629036545753,0.015202135778964,0.032792974263430,0.007943626493216,0.170982837677002,0.005252478178591,0.032415375113487));
res += mul(Get(s2,-dx,dy), float4x4(0.035039685666561,-0.083699122071266,0.114275723695755,0.017010504379869,0.103189371526241,0.107761345803738,0.034008998423815,0.161503538489342,-0.006754697300494,0.030420504510403,0.029687238857150,-0.044386770576239,0.103146001696587,-0.049595281481743,0.055701855570078,0.126297101378441));
res += mul(Get(s2,0,-dy), float4x4(-0.052842445671558,0.010484950616956,-0.164744049310684,-0.064574167132378,0.210999935865402,-0.098768867552280,0.246173083782196,-0.127081483602524,0.056279066950083,0.013903087936342,0.213979765772820,0.022339548915625,0.135174885392189,-0.051261287182570,0.044887371361256,-0.283245354890823));
res += mul(Get(s2,0,0), float4x4(0.002706072526053,-0.049661558121443,0.125834569334984,-0.149546548724174,-0.037360094487667,0.056453365832567,0.078818343579769,0.030039990320802,0.085716515779495,0.072664171457291,-0.040666576474905,-0.071153156459332,-0.098065003752708,0.021919425576925,0.019923491403461,-0.039710424840450));
res += mul(Get(s2,0,dy), float4x4(0.015436609275639,-0.108962066471577,-0.026833368465304,0.017426598817110,-0.324129790067673,0.092806525528431,0.128218784928322,-0.020202297717333,-0.009591074660420,-0.059467773884535,0.095744147896767,0.050995148718357,0.154985651373863,-0.219735100865364,0.179012492299080,0.098964057862759));
res += mul(Get(s2,dx,-dy), float4x4(0.067779347300529,-0.015204655937850,0.055111460387707,-0.044342841953039,0.179039329290390,0.052720230072737,-0.013602554798126,0.002772821346298,0.076378926634789,0.044347099959850,0.060631744563580,-0.242397785186768,-0.063721023499966,-0.130805164575577,-0.087476342916489,-0.160232290625572));
res += mul(Get(s2,dx,0), float4x4(-0.004402028396726,0.104200154542923,-0.114846162497997,-0.013422757387161,-0.041645746678114,-0.070381283760071,0.117642328143120,0.088391557335854,-0.002367766806856,-0.101139895617962,-0.093323871493340,0.051348581910133,0.033702488988638,0.030681570991874,0.094764038920403,0.304985046386719));
res += mul(Get(s2,dx,dy), float4x4(-0.040945678949356,0.064134716987610,0.223086416721344,-0.201556950807571,-0.150189369916916,-0.066260896623135,-0.004740464966744,0.026393273845315,-0.033020537346601,-0.131051570177078,0.002131081651896,-0.013480794616044,-0.058511190116405,-0.025345830246806,-0.119876742362976,-0.031197721138597));
res += mul(Get(s3,-dx,-dy), float4x4(-0.051814563572407,-0.084678627550602,0.032497074455023,0.194099873304367,-0.141874432563782,-0.193656951189041,-0.081916324794292,0.021764505654573,-0.008264474570751,0.003369529265910,0.030117334797978,-0.199665814638138,0.071670502424240,0.093826942145824,-0.074529372155666,0.156809955835342));
res += mul(Get(s3,-dx,0), float4x4(0.045735128223896,0.057412635535002,-0.191880583763123,-0.012808382511139,0.000999897718430,-0.005038328468800,-0.050569139420986,0.265164762735367,-0.091092094779015,-0.040980186313391,-0.156795367598534,0.032569594681263,0.007368061225861,-0.003934991545975,0.060200870037079,-0.008323548361659));
res += mul(Get(s3,-dx,dy), float4x4(0.160429537296295,0.045561179518700,0.004607699345797,-0.029204163700342,-0.081613957881927,0.012817088514566,0.013217101804912,-0.052741028368473,-0.009819692932069,0.071434803307056,-0.039021536707878,-0.173378035426140,0.066766306757927,0.012543532997370,-0.155290246009827,0.162183612585068));
res += mul(Get(s3,0,-dy), float4x4(-0.139302194118500,0.058302618563175,-0.072057448327541,-0.075524628162384,0.012489947490394,-0.050400007516146,-0.103960514068604,-0.000892087700777,-0.089471079409122,-0.104880705475807,0.095651365816593,0.076526001095772,0.099351942539215,-0.006018550600857,-0.107087753713131,0.018348995596170));
res += mul(Get(s3,0,0), float4x4(0.080450445413589,0.022975606843829,0.013491693884134,-0.144702896475792,-0.034882068634033,-0.022536855190992,0.050225064158440,0.068351291120052,-0.065931081771851,-0.056848689913750,-0.018220545724034,0.147808954119682,-0.166415840387344,-0.051247738301754,-0.047105096280575,-0.138000875711441));
res += mul(Get(s3,0,dy), float4x4(-0.186355367302895,-0.028910351917148,-0.104009002447128,-0.076573960483074,-0.150094017386436,0.024676945060492,-0.202414780855179,0.214557051658630,0.116135202348232,-0.060512036085129,-0.068289659917355,-0.063718810677528,-0.043266676366329,-0.001890329294838,0.070302486419678,-0.072544805705547));
res += mul(Get(s3,dx,-dy), float4x4(0.004304531961679,-0.022958369925618,-0.020637731999159,0.029509358108044,0.071658976376057,-0.056690413504839,-0.079175353050232,0.047761291265488,-0.001676160958596,-0.086580127477646,0.036420296877623,0.018690725788474,0.048173755407333,-0.009931179694831,-0.168207392096519,0.064816974103451));
res += mul(Get(s3,dx,0), float4x4(-0.070902064442635,0.069277316331863,0.084447279572487,0.158001020550728,-0.068479329347610,-0.180890157818794,-0.104451388120651,-0.042310602962971,0.186638742685318,-0.042471054941416,-0.132434636354446,0.075229696929455,-0.147554844617844,-0.042543213814497,-0.037893477827311,0.065383270382881));
res += mul(Get(s3,dx,dy), float4x4(-0.009354189969599,0.114123381674290,-0.044716112315655,0.050635013729334,-0.109656460583210,-0.055318992584944,-0.125674635171890,0.014110282994807,0.061149258166552,0.024847306311131,0.021609777584672,-0.008680982515216,-0.028851155191660,-0.024546884000301,-0.033834144473076,-0.051692787557840));
return max(float4(0,0,0,0), res);
}
