sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.022076150402427,-0.050491914153099,-0.007431902922690,-0.167234525084496,-0.091326832771301,0.109062381088734,-0.059089839458466,0.100130893290043,-0.043941110372543,-0.171005651354790,-0.055713940411806,-0.027874659746885,0.130619347095490,0.025691039860249,0.081118479371071,-0.004182322882116));
res += mul(Get(s0,-dx,0), float4x4(-0.017677407711744,0.008728915825486,-0.136627763509750,-0.112802520394325,-0.126881614327431,-0.024856252595782,0.082160376012325,0.081797279417515,-0.138039410114288,-0.097462281584740,0.039385311305523,-0.087471760809422,-0.050839304924011,-0.056095574051142,0.192651718854904,-0.023776907473803));
res += mul(Get(s0,-dx,dy), float4x4(0.036976628005505,-0.005331641063094,0.086560182273388,-0.162419229745865,-0.021038386970758,-0.186857879161835,-0.052239604294300,0.103614650666714,-0.071048505604267,-0.062342066317797,0.068838201463223,-0.143711596727371,0.089797265827656,0.036467939615250,-0.011419188231230,-0.107991479337215));
res += mul(Get(s0,0,-dy), float4x4(0.131066828966141,-0.131992623209953,-0.033853359520435,-0.156003907322884,-0.134664326906204,0.083818778395653,-0.023916762322187,0.212066322565079,-0.046317856758833,0.109048858284950,-0.097779601812363,0.067892014980316,0.004767453297973,0.198627695441246,-0.016571549698710,0.221977367997169));
res += mul(Get(s0,0,0), float4x4(-0.112729638814926,-0.071817107498646,-0.102934837341309,-0.104042194783688,-0.031871065497398,0.053327981382608,-0.016346227377653,-0.038208283483982,-0.073945119976997,0.147168919444084,-0.001164935529232,-0.043216027319431,0.011316353455186,-0.002797478809953,0.081096030771732,-0.071155771613121));
res += mul(Get(s0,0,dy), float4x4(0.011615963652730,-0.049955949187279,0.005684443749487,-0.084354281425476,-0.056320220232010,-0.032598160207272,0.035349611192942,0.003970269113779,0.099468789994717,0.054237507283688,0.010936911217868,0.051712609827518,0.003466170979664,-0.036984857171774,0.156567856669426,0.096043623983860));
res += mul(Get(s0,dx,-dy), float4x4(-0.110209017992020,0.074827060103416,0.000804524635896,-0.164478614926338,0.013160978443921,0.107829757034779,0.048636749386787,0.065768286585808,0.051493592560291,0.043048277497292,0.035351742058992,0.138475909829140,0.083823531866074,0.024522824212909,-0.032555989921093,-0.024046791717410));
res += mul(Get(s0,dx,0), float4x4(0.045114204287529,0.114356860518456,-0.048939879983664,-0.144077390432358,-0.140981122851372,0.082911528646946,-0.074468165636063,-0.029853207990527,0.023466687649488,-0.062425620853901,0.073147356510162,0.180139571428299,-0.060971882194281,-0.026510361582041,-0.036023750901222,0.151483878493309));
res += mul(Get(s0,dx,dy), float4x4(-0.054294884204865,0.131915643811226,0.058155346661806,-0.136960372328758,-0.086524344980717,-0.038776956498623,-0.042369935661554,-0.011743792332709,0.025153540074825,-0.018165208399296,0.041694104671478,0.153781771659851,-0.047706898301840,0.048264976590872,0.085276618599892,0.036543708294630));
res += mul(Get(s1,-dx,-dy), float4x4(-0.013232583180070,0.049009531736374,0.044174157083035,0.004618091974407,-0.073917962610722,-0.062665760517120,-0.091325610876083,-0.036565303802490,0.118078604340553,-0.097824372351170,-0.066867433488369,0.106559164822102,-0.005738814361393,0.021472059190273,-0.012393500655890,0.142891094088554));
res += mul(Get(s1,-dx,0), float4x4(-0.059536129236221,0.093558162450790,-0.039451438933611,0.132287472486496,0.089750654995441,0.002229412784800,-0.052440352737904,0.042122125625610,-0.016579704359174,-0.069088667631149,0.085746623575687,-0.053125306963921,0.032396998256445,0.006912652868778,-0.004201274830848,0.055523589253426));
res += mul(Get(s1,-dx,dy), float4x4(-0.009442717768252,0.060056678950787,-0.088157802820206,0.121064588427544,-0.004376159980893,-0.009362353011966,-0.116421580314636,0.073856808245182,0.003437262028456,-0.024951685220003,0.146297186613083,-0.000487837911351,0.031752411276102,0.124432265758514,0.072643868625164,-0.069245412945747));
res += mul(Get(s1,0,-dy), float4x4(0.078111454844475,0.098828829824924,0.045276183634996,-0.068584598600864,-0.047481343150139,0.102620959281921,0.004948885645717,-0.011908620595932,0.050653304904699,-0.134555980563164,-0.018744803965092,0.131465122103691,-0.030235165730119,0.001232065842487,-0.014277625828981,0.098363168537617));
res += mul(Get(s1,0,0), float4x4(0.001010532607324,-0.015779048204422,0.096492908895016,0.008160092867911,0.026866076514125,-0.071167297661304,0.103230223059654,-0.020664911717176,-0.062515787780285,-0.096927531063557,-0.034090604633093,0.076174668967724,0.030542291700840,-0.000443408731371,0.004744843579829,0.017812876030803));
res += mul(Get(s1,0,dy), float4x4(0.017205530777574,0.028037158772349,-0.042223386466503,-0.060274515300989,-0.047933932393789,0.020111845806241,0.016186820343137,0.039387993514538,-0.093516692519188,0.025033099576831,-0.062183272093534,0.095569863915443,-0.035975906997919,0.073259964585304,0.039581760764122,0.145409107208252));
res += mul(Get(s1,dx,-dy), float4x4(-0.010615639388561,0.065230466425419,-0.066199891269207,0.099243484437466,-0.118005976080894,0.118211574852467,-0.051815669983625,-0.092586621642113,0.020577244460583,-0.048003487288952,0.042748559266329,0.069215282797813,-0.006788475438952,-0.008908974006772,0.068718776106834,0.043498527258635));
res += mul(Get(s1,dx,0), float4x4(0.080161772668362,-0.066453464329243,-0.065852485597134,0.064219765365124,-0.057201988995075,0.061215214431286,0.044569637626410,-0.123321101069450,-0.005467854905874,0.030748279765248,0.025447137653828,0.023436393588781,-0.007813889533281,-0.054385490715504,0.018019858747721,0.025481235235929));
res += mul(Get(s1,dx,dy), float4x4(0.086838781833649,-0.076431907713413,0.004059780854732,0.084199957549572,0.057475864887238,-0.134114965796471,-0.027074253186584,0.033595204353333,-0.140412271022797,0.178901344537735,0.013446030206978,0.147155344486237,-0.055328812450171,0.079903386533260,-0.022937966510653,-0.015960339456797));
res += mul(Get(s2,-dx,-dy), float4x4(0.067352779209614,0.037718210369349,-0.105356700718403,0.010025106370449,0.056505877524614,-0.040006518363953,-0.086526580154896,-0.178596332669258,0.072571545839310,0.000681203033309,-0.057963248342276,-0.064991563558578,0.127141833305359,0.000550784461666,0.064871169626713,-0.065861314535141));
res += mul(Get(s2,-dx,0), float4x4(0.000735306122806,0.089539900422096,0.105636849999428,0.050591070204973,-0.107564836740494,0.025151576846838,0.048405360430479,-0.099373571574688,0.015048725530505,0.034885220229626,-0.039180245250463,-0.002152364468202,0.039828401058912,-0.041491515934467,0.138333767652512,-0.091858193278313));
res += mul(Get(s2,-dx,dy), float4x4(0.035603933036327,0.090584933757782,-0.050672054290771,0.002933823969215,-0.114234350621700,0.038471531122923,0.004636073019356,-0.071818210184574,0.256498098373413,0.014738125726581,0.054907888174057,-0.046691555529833,0.075182206928730,-0.041814796626568,0.237866133451462,-0.067850716412067));
res += mul(Get(s2,0,-dy), float4x4(0.105873346328735,0.097930416464806,-0.083208173513412,-0.022817159071565,0.046437431126833,-0.133919179439545,-0.045495938509703,-0.127324908971786,-0.080338671803474,-0.045277927070856,-0.027001209557056,0.088431142270565,0.151885554194450,-0.076533757150173,0.156504526734352,-0.001834781258367));
res += mul(Get(s2,0,0), float4x4(0.074813425540924,-0.106921784579754,0.030294241383672,-0.017494516447186,-0.032446440309286,-0.028933964669704,-0.096125341951847,-0.171093210577965,-0.170340225100517,-0.052774008363485,0.031103478744626,0.118495754897594,-0.011075738817453,-0.003382305148989,0.003833589609712,-0.048734273761511));
res += mul(Get(s2,0,dy), float4x4(0.035969335585833,-0.005042639560997,-0.045196723192930,0.004965208005160,0.083602540194988,-0.010200896300375,0.129290834069252,-0.098503649234772,0.025628518313169,-0.055111352354288,-0.010154574178159,-0.030505288392305,-0.004480815026909,-0.073987238109112,0.136394068598747,0.011023200117052));
res += mul(Get(s2,dx,-dy), float4x4(0.001126142451540,0.162562549114227,-0.114020109176636,0.157956570386887,0.028649894520640,-0.179890766739845,-0.134013652801514,-0.072193287312984,-0.056908451020718,0.111455708742142,-0.106241926550865,-0.077120468020439,0.090311489999294,0.081433184444904,0.050202436745167,-0.020207392051816));
res += mul(Get(s2,dx,0), float4x4(0.057292234152555,0.041042443364859,-0.113947279751301,0.072358340024948,-0.156386226415634,-0.127513006329536,-0.228761285543442,-0.120551273226738,0.037250064313412,-0.012481257319450,0.091432496905327,0.087308876216412,0.044883769005537,0.054657977074385,0.055665444582701,-0.024553641676903));
res += mul(Get(s2,dx,dy), float4x4(0.010391524992883,-0.031581025570631,-0.035021848976612,-0.081312671303749,-0.044117040932178,-0.065681606531143,-0.050646182149649,-0.082239434123039,0.044063914567232,0.060318689793348,-0.053843289613724,-0.090880393981934,0.148197591304779,0.012030791491270,0.241901203989983,0.022052867338061));
res += mul(Get(s3,-dx,-dy), float4x4(-0.101591035723686,-0.030994491651654,-0.038766007870436,0.090715467929840,0.006823686882854,0.039526332169771,0.132326677441597,-0.037699963897467,0.160323232412338,-0.035163477063179,-0.009473448619246,-0.032567258924246,0.035965878516436,-0.107367031276226,-0.073942787945271,-0.075388334691525));
res += mul(Get(s3,-dx,0), float4x4(0.031619027256966,0.005319726187736,-0.073138669133186,0.046528447419405,-0.061707716435194,0.042432148009539,0.083811797201633,0.031274281442165,0.024960584938526,-0.011394200846553,0.094611190259457,0.042439930140972,0.019697479903698,-0.004544008523226,-0.112316779792309,-0.069604173302650));
res += mul(Get(s3,-dx,dy), float4x4(0.084584429860115,0.030708910897374,0.022789610549808,0.000978491851129,-0.052220400422812,0.035107154399157,-0.001896138070151,0.094718210399151,0.144981473684311,-0.051371440291405,-0.006146504078060,0.076567605137825,0.074032895267010,-0.004623686429113,0.049743134528399,-0.072449631989002));
res += mul(Get(s3,0,-dy), float4x4(0.006935109850019,-0.128947153687477,0.020612981170416,0.088219791650772,-0.055586647242308,0.053928598761559,-0.002193201798946,0.055380191653967,0.115956947207451,-0.103929914534092,-0.026965836063027,0.045585263520479,-0.065495327115059,-0.049098469316959,-0.134431466460228,-0.091197840869427));
res += mul(Get(s3,0,0), float4x4(-0.060604315251112,-0.042012754827738,-0.009104127064347,-0.002982292557135,-0.064817145466805,0.069172941148281,0.076511576771736,0.148950040340424,-0.037675671279430,0.026478290557861,0.024039117619395,0.038057610392570,-0.081395298242569,-0.034506335854530,-0.055747501552105,-0.114579610526562));
res += mul(Get(s3,0,dy), float4x4(-0.049431763589382,0.055504985153675,0.047596473246813,0.016650130972266,-0.061988446861506,0.052521891891956,0.020234748721123,0.082493327558041,0.021224902942777,0.028051333501935,0.023707484826446,0.046080689877272,0.079219140112400,-0.052808295935392,-0.036419622600079,-0.139661803841591));
res += mul(Get(s3,dx,-dy), float4x4(0.036619212478399,0.043201792985201,-0.082168422639370,-0.114639006555080,0.067855812609196,0.052189957350492,0.022882699966431,0.158448725938797,0.026350222527981,0.002809558762237,0.026757514104247,0.013381632976234,-0.111173212528229,0.132884845137596,-0.012309812009335,-0.123054325580597));
res += mul(Get(s3,dx,0), float4x4(-0.026886396110058,0.031436752527952,0.012830196879804,-0.004809291101992,0.039070162922144,0.058852478861809,-0.056228380650282,0.012995889410377,-0.088287867605686,-0.011993449181318,-0.002542482921854,0.033840432763100,-0.096285104751587,0.129293218255043,-0.087673157453537,-0.095535263419151));
res += mul(Get(s3,dx,dy), float4x4(-0.056261494755745,0.120656430721283,0.089545629918575,0.109740860760212,-0.033130515366793,-0.066196456551552,0.008670795708895,0.065550021827221,-0.031308013945818,0.124407164752483,-0.029671479016542,0.084071211516857,0.065484285354614,0.064879648387432,0.058614660054445,-0.088942915201187));
return max(float4(0,0,0,0), res);
}
