sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.498447239398956,0.053090576082468,-0.023656772449613,0.023351911455393,0.033158358186483,-0.014612552709877,-0.007145406212658,-0.056905828416348,0.127496704459190,-0.007602903526276,0.010264550335705,-0.076969794929028,-0.031424086540937,-0.019456932321191,0.013828722760081,-0.101969413459301));
res += mul(Get(s0,-dx,0), float4x4(-0.046204004436731,0.170947998762131,-0.013966398313642,0.020112741738558,-0.120060466229916,0.029730888083577,-0.077380031347275,0.009869545698166,0.061993721872568,-0.050922304391861,-0.005818695761263,-0.015060357749462,-0.020315621048212,0.060581266880035,-0.012166653759778,-0.064012631773949));
res += mul(Get(s0,-dx,dy), float4x4(0.170289650559425,0.101828120648861,-0.072215437889099,-0.027856791391969,-0.052092116326094,0.013166355900466,-0.028533430770040,0.001197069068439,0.036264434456825,-0.070058777928352,0.028578843921423,-0.069442890584469,-0.074233397841454,-0.076543793082237,-0.060944426804781,0.020201113075018));
res += mul(Get(s0,0,-dy), float4x4(0.063182041049004,0.015989836305380,-0.032730262726545,0.086762562394142,-0.078200250864029,0.042010203003883,0.110639706254005,0.053590260446072,-0.006926905829459,0.073613397777081,-0.062828898429871,0.030292790383101,0.013259022496641,0.074883230030537,0.098029255867004,-0.048651862889528));
res += mul(Get(s0,0,0), float4x4(-0.099054358899593,-0.107821546494961,-0.008158547803760,0.030337059870362,-0.085282705724239,0.016381019726396,-0.011929797939956,0.255533427000046,-0.086036793887615,0.109367243945599,-0.005254342686385,-0.016243113204837,-0.023078855127096,0.142259120941162,0.095496505498886,-0.057914540171623));
res += mul(Get(s0,0,dy), float4x4(0.139739692211151,-0.194582164287567,0.063409112393856,0.006173201370984,0.044683918356895,0.024783940985799,-0.072486795485020,-0.042284138500690,-0.060190070420504,-0.091766886413097,-0.102915085852146,0.202031910419464,-0.111423507332802,-0.012499034404755,0.046617280691862,0.074055805802345));
res += mul(Get(s0,dx,-dy), float4x4(0.186087504029274,0.085603810846806,0.129565462470055,-0.080581359565258,-0.007573664188385,-0.093219675123692,-0.082303807139397,0.005186529830098,-0.033207479864359,0.061771310865879,-0.126225098967552,0.051057588309050,0.053941998630762,-0.139818459749222,-0.168796122074127,-0.075004138052464));
res += mul(Get(s0,dx,0), float4x4(0.048196010291576,-0.016249679028988,0.021966675296426,0.011881143786013,0.007013721391559,-0.088953003287315,-0.099182948470116,-0.023135008290410,0.014013125561178,0.004065729212016,0.048361867666245,-0.101106174290180,-0.063200704753399,-0.073026351630688,0.009371241554618,0.041076160967350));
res += mul(Get(s0,dx,dy), float4x4(-0.016135631129146,-0.054123491048813,0.123990349471569,-0.004043661057949,-0.074890322983265,-0.245219036936760,-0.120403967797756,0.067418232560158,-0.058327671140432,-0.167243063449860,-0.002916533732787,0.120156109333038,-0.007190898526460,-0.001832609879784,0.064022369682789,-0.159403815865517));
res += mul(Get(s1,-dx,-dy), float4x4(0.021672874689102,0.075716964900494,0.061782840639353,0.032560970634222,0.087988026440144,-0.004110027104616,0.219330459833145,-0.013527967967093,-0.198398873209953,-0.034238006919622,0.165261194109917,0.146336123347282,-0.033825397491455,-0.126135841012001,0.011846735142171,-0.023728016763926));
res += mul(Get(s1,-dx,0), float4x4(0.040661007165909,0.059603586792946,0.068240292370319,0.021543426439166,-0.061788219958544,0.005088942591101,0.174898743629456,-0.005950528196990,-0.065681152045727,-0.039784569293261,0.239597365260124,-0.074828214943409,-0.140441954135895,-0.003203763859347,0.011302633211017,-0.082420177757740));
res += mul(Get(s1,-dx,dy), float4x4(-0.023422338068485,-0.004042726475745,-0.045158099383116,-0.050195898860693,-0.167282968759537,-0.023647403344512,0.068299882113934,0.053486321121454,0.139199405908585,-0.094492442905903,0.117532275617123,0.120240047574043,0.019665552303195,-0.109826430678368,-0.082114800810814,-0.078089043498039));
res += mul(Get(s1,0,-dy), float4x4(-0.048486400395632,0.295036971569061,0.079599924385548,-0.047957263886929,0.152898535132408,0.024744203314185,-0.009191203862429,-0.031848389655352,-0.048754360526800,0.057579793035984,0.039637956768274,-0.061296593397856,0.148907288908958,-0.122240252792835,-0.001269407453947,-0.032645426690578));
res += mul(Get(s1,0,0), float4x4(-0.047192566096783,0.130922242999077,0.158855572342873,-0.098503641784191,0.014802291058004,-0.059164371341467,0.041587263345718,0.036225188523531,0.043112121522427,0.043617483228445,-0.022886058315635,-0.126023784279823,0.104686886072159,-0.019573360681534,-0.005135234910995,-0.073019392788410));
res += mul(Get(s1,0,dy), float4x4(-0.064694970846176,0.072330489754677,0.064715020358562,-0.029859246686101,-0.070921115577221,0.119522407650948,-0.003704845905304,-0.047849159687757,-0.008109788410366,0.097740843892097,-0.013931144960225,-0.025452714413404,0.073184132575989,-0.090822704136372,-0.015982374548912,-0.056227512657642));
res += mul(Get(s1,dx,-dy), float4x4(-0.078248389065266,0.002870396478102,-0.157815724611282,-0.043210338801146,-0.042835578322411,0.061881568282843,-0.092577584087849,-0.145066052675247,-0.055423341691494,0.012933393009007,-0.051609303802252,-0.045437298715115,0.066772788763046,0.068431273102760,0.019802212715149,-0.024532604962587));
res += mul(Get(s1,dx,0), float4x4(-0.026447607204318,-0.051287293434143,-0.048977337777615,0.050222828984261,-0.077941805124283,0.009247967973351,0.029072506353259,-0.103375554084778,-0.007361589930952,-0.011405089870095,-0.091564089059830,-0.020389372482896,-0.075663089752197,0.062252823263407,-0.026934599503875,0.200652226805687));
res += mul(Get(s1,dx,dy), float4x4(-0.048968870192766,-0.052807588130236,-0.089336492121220,0.041209753602743,0.015161098912358,0.088817551732063,-0.054946791380644,0.105072617530823,0.065460592508316,-0.087200105190277,-0.078954569995403,-0.035799413919449,-0.021834382787347,-0.101568855345249,-0.060610059648752,0.066141121089458));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003830325789750,-0.010799034498632,0.087593205273151,-0.017882987856865,-0.185601353645325,0.053981240838766,-0.009655296802521,-0.037647303193808,-0.110956944525242,0.123943053185940,0.090291753411293,0.020822577178478,0.055567208677530,-0.130550697445869,0.012647670693696,-0.102999970316887));
res += mul(Get(s2,-dx,0), float4x4(0.064071245491505,0.063172668218613,0.087216749787331,0.058055233210325,0.037243783473969,0.035287674516439,0.071723714470863,0.008331820368767,-0.030694501474500,0.126684874296188,0.020642636343837,-0.038667045533657,0.206474319100380,-0.052388716489077,-0.030916111543775,-0.065059378743172));
res += mul(Get(s2,-dx,dy), float4x4(0.061956670135260,-0.014185514301062,0.088062308728695,0.066269375383854,0.010029193013906,-0.060977499932051,0.038371797651052,0.107436202466488,-0.035823717713356,0.089743822813034,0.070597723126411,-0.038333378732204,0.124866314232349,-0.035137031227350,-0.081348866224289,0.064427278935909));
res += mul(Get(s2,0,-dy), float4x4(-0.055329564958811,0.054498605430126,-0.083997011184692,0.012074700556695,-0.019246222451329,0.039077349007130,-0.110883675515652,0.072810910642147,0.039765778928995,-0.111778512597084,-0.059043232351542,0.183181554079056,0.018583023920655,0.017694365233183,0.006303029600531,0.005694580264390));
res += mul(Get(s2,0,0), float4x4(-0.032959599047899,-0.099712632596493,0.185169085860252,0.035457238554955,-0.015536799095571,0.000403511541663,0.015085170976818,0.084439508616924,-0.083528399467468,0.267285019159317,-0.116871245205402,-0.008004724048078,0.128482207655907,-0.031725745648146,-0.098946757614613,-0.037734348326921));
res += mul(Get(s2,0,dy), float4x4(0.033918257802725,-0.059406973421574,0.005031465087086,0.074292764067650,0.030762083828449,-0.087572604417801,0.036929313093424,0.026805305853486,-0.040533162653446,-0.076372176408768,-0.029583321884274,0.012658361345530,0.049776352941990,0.040650300681591,-0.009708988480270,-0.006037950515747));
res += mul(Get(s2,dx,-dy), float4x4(-0.101790659129620,0.048554435372353,-0.020564313977957,-0.101752281188965,-0.037751983851194,0.022017419338226,-0.101633124053478,-0.001263167941943,-0.005563889164478,0.245183646678925,-0.102257736027241,0.160054862499237,-0.068172313272953,0.127544403076172,-0.107291854918003,0.116973400115967));
res += mul(Get(s2,dx,0), float4x4(-0.039286315441132,-0.135140925645828,0.273221075534821,-0.128664165735245,-0.076876245439053,0.008182356134057,0.056345757097006,0.028455220162868,-0.073745600879192,0.251006215810776,-0.116686768829823,0.042342953383923,-0.131010010838509,0.009757643565536,-0.130831971764565,0.055544130504131));
res += mul(Get(s2,dx,dy), float4x4(0.071069106459618,-0.110577426850796,0.180648922920227,-0.119270041584969,-0.041972313076258,-0.056001618504524,-0.164946779608727,-0.047099635004997,0.051419727504253,0.047135218977928,0.126621067523956,-0.016850782558322,0.026494204998016,-0.039171107113361,-0.143113002181053,0.148244112730026));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011466140858829,-0.006561669521034,-0.137281566858292,0.000475161999930,0.061106484383345,0.076133146882057,-0.054423123598099,-0.085389807820320,0.089060366153717,-0.098184220492840,-0.092294678092003,0.026113733649254,-0.121571443974972,-0.004867685493082,-0.005662313196808,-0.122953549027443));
res += mul(Get(s3,-dx,0), float4x4(0.130786612629890,-0.084773927927017,-0.119914650917053,-0.108496658504009,-0.095728769898415,-0.020910397171974,0.060596536844969,-0.142401829361916,0.085899241268635,-0.088380135595798,-0.067413888871670,-0.054447747766972,-0.064251229166985,-0.098347246646881,0.062744669616222,0.050740163773298));
res += mul(Get(s3,-dx,dy), float4x4(0.079035110771656,-0.000436276313849,-0.125971898436546,0.025226853787899,-0.181032538414001,-0.148935481905937,0.049485541880131,0.011711824685335,-0.051873166114092,0.022436311468482,-0.133573710918427,-0.063741751015186,-0.102711275219917,-0.135344460606575,-0.090536922216415,0.363850176334381));
res += mul(Get(s3,0,-dy), float4x4(-0.046013861894608,0.076349571347237,0.088576868176460,-0.080609023571014,0.031047536060214,0.017106551676989,-0.000201754330192,-0.137420222163200,0.038719117641449,0.013578052632511,-0.050234977155924,0.020879026502371,-0.104945302009583,-0.019317893311381,-0.146757930517197,-0.015927758067846));
res += mul(Get(s3,0,0), float4x4(0.110713511705399,-0.026238176971674,0.082752376794815,0.041687849909067,0.018114551901817,0.078022122383118,-0.026960160583258,-0.044317029416561,-0.082057461142540,0.026057854294777,-0.058203883469105,-0.144548624753952,0.248561918735504,-0.031065218150616,-0.128158941864967,-0.023650027811527));
res += mul(Get(s3,0,dy), float4x4(0.039804007858038,0.032682016491890,0.046476975083351,-0.028893306851387,0.102827847003937,-0.074978120625019,-0.087454430758953,-0.040366187691689,-0.036050520837307,0.143369555473328,-0.084234751760960,-0.063978396356106,-0.089780725538731,0.022528957575560,-0.044568728655577,0.109033443033695));
res += mul(Get(s3,dx,-dy), float4x4(0.059834364801645,0.087208904325962,0.086904309689999,-0.094063512980938,-0.009480456821620,0.005639166571200,-0.082569174468517,-0.071262061595917,0.030229521915317,-0.120108112692833,0.043099671602249,0.041631519794464,0.002328082220629,0.005240071099252,-0.014185477048159,0.061072003096342));
res += mul(Get(s3,dx,0), float4x4(-0.052959032356739,-0.055337313562632,0.057157598435879,-0.070928201079369,-0.029053654521704,-0.128791868686676,0.108758293092251,-0.031234590336680,-0.019441779702902,-0.038084816187620,-0.026912523433566,-0.003006743965670,0.129400923848152,-0.007144101429731,-0.005126894917339,-0.060759484767914));
res += mul(Get(s3,dx,dy), float4x4(0.149111554026604,0.130400300025940,-0.020032206550241,-0.053285676985979,0.021777641028166,-0.132170543074608,0.124652646481991,-0.060644011944532,0.050741832703352,0.007035544607788,-0.066028930246830,0.074467852711678,-0.076423123478889,-0.043259385973215,-0.054215043783188,-0.026942767202854));
return max(float4(0,0,0,0), res);
}
