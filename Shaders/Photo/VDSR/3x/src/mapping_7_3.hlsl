sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.070423789322376,0.004941307473928,-0.295260757207870,-0.268797844648361,0.110776662826538,0.207941323518753,-0.011656315065920,-0.107794620096684,-0.051268044859171,0.066902339458466,0.116012044250965,-0.076680891215801,-0.073423698544502,0.023095179349184,0.004693843424320,-0.011711064726114));
res += mul(Get(s0,-dx,0), float4x4(0.042795296758413,0.009106480516493,0.018410615622997,-0.003411564510316,0.045125093311071,-0.165053144097328,-0.060298584401608,-0.124292187392712,-0.160437643527985,0.096282102167606,0.080576747655869,0.026129795238376,0.135971516370773,0.027157777920365,-0.042523033916950,0.001848447602242));
res += mul(Get(s0,-dx,dy), float4x4(0.200240030884743,-0.125655025243759,-0.084647141396999,-0.218065768480301,-0.018205342814326,0.153113648295403,0.045423176139593,0.124655164778233,-0.222557380795479,-0.182222336530685,-0.033904053270817,-0.107277005910873,0.021837297827005,-0.021267892792821,0.130230844020844,-0.277844667434692));
res += mul(Get(s0,0,-dy), float4x4(-0.052442725747824,0.111962437629700,0.027907613664865,0.075315244495869,0.133128389716148,0.036919601261616,0.072415985167027,0.101401209831238,-0.085199519991875,0.219880446791649,0.168840393424034,0.002843031426892,-0.053587503731251,0.099578820168972,0.071045160293579,0.130680948495865));
res += mul(Get(s0,0,0), float4x4(0.370042532682419,0.182673647999763,-0.268139630556107,0.097378149628639,-0.105801053345203,-0.069713555276394,-0.079500935971737,-0.022471467033029,-0.238930746912956,0.074844785034657,-0.040708929300308,-0.041239749640226,0.042655579745770,-0.087297119200230,-0.143673539161682,-0.016259739175439));
res += mul(Get(s0,0,dy), float4x4(-0.060161683708429,-0.011271147988737,0.043282769620419,-0.168143272399902,-0.050188045948744,-0.016633760184050,0.044772025197744,-0.058757118880749,-0.132805511355400,0.060649234801531,-0.176459550857544,-0.158366680145264,0.140149146318436,-0.116780094802380,0.089838214218616,0.235952019691467));
res += mul(Get(s0,dx,-dy), float4x4(-0.099272161722183,0.057752020657063,-0.191839054226875,0.081167496740818,0.106291353702545,0.193585425615311,0.203844577074051,0.143992304801941,0.121389903128147,-0.108747974038124,0.019562913104892,0.086953409016132,0.004100739490241,0.007934919558465,-0.110951222479343,-0.079139903187752));
res += mul(Get(s0,dx,0), float4x4(0.009276189841330,0.036194711923599,0.055003926157951,-0.127050608396530,-0.147229582071304,-0.105828016996384,0.135272353887558,-0.078474737703800,-0.153527870774269,0.050588961690664,-0.160362228751183,0.197841450572014,0.071143895387650,0.159444704651833,0.100687779486179,-0.067855641245842));
res += mul(Get(s0,dx,dy), float4x4(-0.120093934237957,-0.009126000106335,0.020741697400808,0.030425950884819,-0.085737504065037,-0.189326375722885,-0.052881997078657,0.130145117640495,-0.052909493446350,-0.059885226190090,-0.012959394603968,0.137479603290558,0.071986287832260,-0.046965636312962,0.158524960279465,0.258775472640991));
res += mul(Get(s1,-dx,-dy), float4x4(0.088425524532795,0.047788798809052,0.195778518915176,0.062163621187210,0.211203038692474,0.027994392439723,0.021876199170947,-0.137051731348038,0.042812112718821,0.021711185574532,0.150357842445374,0.056526903063059,-0.074676156044006,-0.000310287432512,0.012804654426873,0.168287664651871));
res += mul(Get(s1,-dx,0), float4x4(0.049062065780163,-0.068973608314991,0.148620396852493,0.111425623297691,-0.031538788229227,0.041482739150524,-0.005020268261433,-0.027706312015653,-0.173044249415398,0.124884806573391,-0.037059772759676,-0.044537518173456,-0.099051892757416,-0.066626600921154,0.152225852012634,-0.061813462525606));
res += mul(Get(s1,-dx,dy), float4x4(0.089880816638470,-0.015473430044949,-0.062550239264965,-0.201700225472450,0.040884766727686,0.122987151145935,-0.075906664133072,0.099117599427700,-0.047429166734219,-0.144094705581665,-0.188143566250801,-0.031275022774935,0.051128081977367,-0.063556864857674,0.172031477093697,-0.062196917831898));
res += mul(Get(s1,0,-dy), float4x4(0.061897695064545,-0.122794359922409,0.036301672458649,-0.163188144564629,-0.064767330884933,0.061251841485500,0.250686138868332,0.029450589790940,0.014098906889558,-0.073733933269978,-0.241549178957939,-0.054877229034901,-0.056924376636744,-0.083866827189922,0.158292382955551,-0.021784020587802));
res += mul(Get(s1,0,0), float4x4(-0.123368427157402,0.079766355454922,-0.072669029235840,0.096706725656986,0.106173351407051,0.071689836680889,-0.175847172737122,-0.089020483195782,0.100857563316822,0.102348946034908,0.091071158647537,-0.019992275163531,-0.132964387536049,-0.103187218308449,0.211967617273331,-0.108334310352802));
res += mul(Get(s1,0,dy), float4x4(-0.046948514878750,-0.050754677504301,0.132024765014648,-0.139137297868729,0.047420851886272,0.036969531327486,-0.239795282483101,0.116803459823132,0.270782977342606,-0.050992600619793,-0.100976064801216,0.147459492087364,-0.066526614129543,0.022051010280848,-0.018552029505372,-0.070774108171463));
res += mul(Get(s1,dx,-dy), float4x4(-0.097484499216080,-0.146844536066055,0.115593083202839,-0.062655717134476,0.119859457015991,0.056008439511061,0.183878943324089,0.215901866555214,-0.041601903736591,-0.009435783140361,-0.021556969732046,0.002174335997552,0.106968306005001,-0.248196944594383,0.039210855960846,0.018026532605290));
res += mul(Get(s1,dx,0), float4x4(0.169515132904053,0.129415959119797,-0.049455232918262,-0.133527487516403,0.087291978299618,-0.009893861599267,0.035676304250956,0.179631039500237,-0.045742850750685,0.020208580419421,0.042086500674486,-0.253180772066116,0.055846426635981,0.110808841884136,0.054625440388918,0.120636284351349));
res += mul(Get(s1,dx,dy), float4x4(0.106743693351746,0.057909693568945,0.152242943644524,0.169957935810089,-0.014593219384551,0.155304059386253,-0.164538323879242,0.032242309302092,0.048222519457340,-0.084605425596237,-0.197343170642853,0.142517223954201,-0.203054934740067,-0.053217370063066,0.010183534584939,-0.054304692894220));
res += mul(Get(s2,-dx,-dy), float4x4(0.075551994144917,0.057457558810711,-0.031461793929338,-0.033957615494728,0.073282465338707,-0.016624504700303,-0.005024812184274,-0.008212745189667,-0.068380400538445,-0.235220164060593,-0.115153066813946,-0.062448158860207,-0.075762689113617,-0.004935321398079,-0.124692037701607,-0.018948448821902));
res += mul(Get(s2,-dx,0), float4x4(0.254261165857315,0.121359363198280,-0.100655011832714,-0.048633400350809,-0.216305345296860,0.128350719809532,0.113967530429363,-0.027299147099257,0.157645881175995,0.061449404805899,-0.112903617322445,0.102619647979736,0.065369538962841,-0.072888813912868,0.127912178635597,-0.073734246194363));
res += mul(Get(s2,-dx,dy), float4x4(0.075279466807842,-0.154600545763969,-0.046156693249941,-0.035398133099079,-0.025237699970603,-0.008165740408003,-0.099027499556541,0.026729306206107,0.141157358884811,-0.011377930641174,0.115843027830124,-0.057740550488234,0.025026751682162,0.153213515877724,-0.062002524733543,-0.045884963124990));
res += mul(Get(s2,0,-dy), float4x4(-0.081849582493305,0.094973571598530,-0.095892995595932,0.073799803853035,0.114317230880260,0.059372231364250,0.133369863033295,-0.004234369378537,0.000338300014846,-0.025347862392664,0.058618497103453,-0.142378821969032,-0.065215699374676,0.090096615254879,0.027977874502540,-0.027270037680864));
res += mul(Get(s2,0,0), float4x4(-0.157205030322075,0.118284560739994,0.005856058560312,-0.004815916530788,0.185686886310577,0.316494435071945,-0.155729115009308,-0.265922278165817,0.092231363058090,-0.027317745611072,-0.249054670333862,0.002044377848506,-0.029222114011645,0.137387022376060,0.048834532499313,0.134954646229744));
res += mul(Get(s2,0,dy), float4x4(0.024250535294414,0.135182857513428,-0.012436592951417,-0.036930572241545,-0.013370363973081,-0.016905881464481,-0.011575560085475,-0.107806183397770,0.211545705795288,-0.023606007918715,-0.105738334357738,-0.029919078573585,-0.089582443237305,-0.045485030859709,0.064457923173904,-0.030708909034729));
res += mul(Get(s2,dx,-dy), float4x4(0.046064678579569,-0.005158640909940,-0.100900962948799,-0.058743216097355,-0.088926665484905,-0.148391634225845,-0.007611846085638,-0.004628046415746,-0.071553088724613,0.033975970000029,-0.159933060407639,0.101125307381153,0.139905467629433,-0.033214349299669,-0.170259684324265,-0.031547397375107));
res += mul(Get(s2,dx,0), float4x4(0.226416274905205,0.065537407994270,-0.077853888273239,-0.116385839879513,0.169033303856850,-0.092215418815613,-0.090111874043941,0.089411623775959,0.065534085035324,-0.101990349590778,-0.125485137104988,-0.007970232516527,0.138006895780563,0.051825530827045,-0.065232120454311,0.169083476066589));
res += mul(Get(s2,dx,dy), float4x4(-0.162334308028221,-0.080517567694187,-0.022916063666344,0.064818635582924,0.156490534543991,0.005908865947276,-0.110387519001961,0.122315876185894,0.031212467700243,-0.018452135846019,-0.128586038947105,-0.033940333873034,0.068782739341259,0.100625544786453,-0.044781960546970,-0.114402778446674));
res += mul(Get(s3,-dx,-dy), float4x4(-0.030012430623174,0.023850366473198,0.096257723867893,0.185488119721413,-0.051279403269291,0.013433874584734,0.035034351050854,-0.032391812652349,0.114117488265038,0.175484612584114,-0.109233967959881,-0.094747386872768,-0.151331394910812,-0.026894789189100,-0.153919383883476,0.106143616139889));
res += mul(Get(s3,-dx,0), float4x4(-0.034076493233442,0.093670278787613,-0.090980127453804,0.006334199570119,-0.077213272452354,-0.173996269702911,-0.021836923435330,0.134086877107620,0.025339018553495,0.005436753854156,0.137681514024734,0.112688526511192,-0.081412039697170,-0.066577613353729,-0.051533423364162,-0.102626010775566));
res += mul(Get(s3,-dx,dy), float4x4(-0.178985610604286,0.111719273030758,-0.040590018033981,-0.104356214404106,-0.060673177242279,0.052491769194603,-0.133315503597260,0.025916289538145,-0.018802043050528,-0.000943140650634,0.101109407842159,0.061612512916327,0.021370062604547,-0.001249053981155,0.094386056065559,-0.024129042401910));
res += mul(Get(s3,0,-dy), float4x4(0.103457801043987,-0.090247116982937,0.007486737798899,0.038589473813772,0.010019679553807,0.093224592506886,-0.161188423633575,0.033101785928011,0.044042911380529,0.250555723905563,-0.083207443356514,0.022484231740236,-0.073961883783340,-0.047736242413521,0.019262632355094,0.053761940449476));
res += mul(Get(s3,0,0), float4x4(-0.033578209578991,0.043328560888767,-0.010164449922740,0.038487870246172,-0.045217055827379,0.037251114845276,-0.108442604541779,0.178856909275055,-0.073788329958916,-0.016219638288021,-0.108576543629169,0.080054521560669,0.216062352061272,-0.018080096691847,-0.029706083238125,0.012631409801543));
res += mul(Get(s3,0,dy), float4x4(-0.083337351679802,-0.137049779295921,-0.035685896873474,0.015700962394476,0.062201797962189,-0.069356977939606,0.003116491949186,-0.047509107738733,0.059062257409096,0.174274951219559,0.014726612716913,0.269589841365814,0.117148585617542,-0.184138998389244,-0.000261655048234,0.122700020670891));
res += mul(Get(s3,dx,-dy), float4x4(-0.253454238176346,-0.063350252807140,0.001216011354700,-0.029515098780394,0.030097320675850,-0.110105998814106,0.047435469925404,0.034351043403149,0.026044489815831,0.057045299559832,0.118329286575317,0.164722278714180,0.025725552812219,-0.036682289093733,-0.044854369014502,-0.000417261035182));
res += mul(Get(s3,dx,0), float4x4(-0.136694639921188,-0.010946790687740,-0.099979378283024,0.095622695982456,0.111137509346008,0.076272562146187,-0.079128198325634,-0.225798144936562,0.108817830681801,0.105885110795498,0.011634595692158,0.137136921286583,0.008427293971181,-0.164267718791962,-0.017960187047720,-0.121579840779305));
res += mul(Get(s3,dx,dy), float4x4(-0.013777364045382,-0.081104308366776,0.128589510917664,-0.058666359633207,-0.041917905211449,0.058351580053568,0.153426438570023,-0.039460346102715,0.129598811268806,-0.204835727810860,-0.033534836024046,0.007675498258322,0.021109277382493,-0.052943937480450,-0.161936819553375,-0.192204788327217));
return max(float4(0,0,0,0), res);
}
