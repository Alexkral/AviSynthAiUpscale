sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.048265215009451,0.207746833562851,0.051412258297205,-0.063243612647057,-0.101991347968578,0.016391331329942,-0.060796361416578,0.216235145926476,-0.021107925102115,0.081615738570690,-0.250439494848251,-0.027280038222671,-0.217087402939796,0.361882805824280,-0.005782943218946,0.011031753383577));
res += mul(Get(s0,-dx,0), float4x4(0.053427688777447,-0.164981782436371,0.079912506043911,-0.137791201472282,-0.072915181517601,0.060662485659122,0.023280367255211,0.032814957201481,-0.136043339967728,0.039239104837179,-0.114708274602890,-0.144389525055885,0.165161401033401,-0.106451548635960,-0.043242789804935,0.005240770522505));
res += mul(Get(s0,-dx,dy), float4x4(0.167263016104698,-0.065535746514797,-0.208175316452980,0.122910432517529,-0.082686774432659,-0.015678087249398,0.019627207890153,-0.014042709022760,-0.342573285102844,0.003527100663632,-0.185716122388840,-0.388971567153931,0.081512726843357,-0.113691762089729,-0.103822030127048,0.053063839673996));
res += mul(Get(s0,0,-dy), float4x4(-0.012267708778381,0.216411873698235,0.003457303391770,0.042758729308844,-0.096830986440182,0.027888493612409,-0.076528154313564,-0.032317504286766,-0.050165753811598,0.030783923342824,-0.116512000560760,0.045543272048235,0.203917399048805,0.120952181518078,0.120128564536572,-0.049280650913715));
res += mul(Get(s0,0,0), float4x4(-0.074821747839451,-0.034045670181513,-0.036984372884035,0.003314608242363,-0.008274917490780,0.141529113054276,0.003275100607425,-0.112462617456913,0.205861493945122,0.105881325900555,-0.000018994547645,0.017256014049053,0.170833304524422,-0.105912141501904,0.132698595523834,0.030221616849303));
res += mul(Get(s0,0,dy), float4x4(-0.018038518726826,-0.218075320124626,-0.102855980396271,-0.168489098548889,0.047039009630680,0.118889033794403,0.034188039600849,0.103460945188999,0.004249416291714,-0.057616338133812,-0.007422527298331,-0.101209722459316,-0.049710325896740,0.006352944765240,0.036407049745321,0.262221872806549));
res += mul(Get(s0,dx,-dy), float4x4(-0.001212379662320,0.316247105598450,-0.094275832176208,-0.004287772811949,-0.141412883996964,0.098113588988781,-0.139102682471275,0.071006566286087,-0.094039537012577,-0.173797145485878,-0.183783605694771,-0.114563047885895,0.147231295704842,-0.044952187687159,-0.163461923599243,0.006488076876849));
res += mul(Get(s0,dx,0), float4x4(-0.042556766420603,0.215320885181427,-0.028737483546138,-0.078037194907665,-0.074775181710720,-0.218355700373650,-0.020414531230927,-0.071289673447609,0.107244409620762,0.039612576365471,0.031801182776690,0.085482232272625,-0.065876655280590,-0.049514956772327,-0.143043532967567,-0.131365820765495));
res += mul(Get(s0,dx,dy), float4x4(0.107299432158470,-0.059804867953062,-0.016494706273079,-0.179390102624893,-0.069109901785851,0.002810287754983,0.067086897790432,0.073472812771797,0.061709903180599,0.055123675614595,0.092910118401051,0.581913352012634,-0.048049159348011,0.111602894961834,-0.210559681057930,0.055989034473896));
res += mul(Get(s1,-dx,-dy), float4x4(-0.029597464948893,-0.109036847949028,-0.162288188934326,0.237965166568756,-0.263547718524933,-0.022081127390265,-0.009819466620684,-0.102431558072567,0.001288540661335,-0.085078731179237,0.078437790274620,0.005826943088323,0.035630915313959,-0.112739548087120,0.005593890324235,0.108529247343540));
res += mul(Get(s1,-dx,0), float4x4(0.039637755602598,-0.026321552693844,-0.141939088702202,-0.016019131988287,-0.107779607176781,0.055805683135986,-0.003927828744054,-0.104609921574593,0.015194910578430,-0.036155946552753,0.037653192877769,0.020034771412611,-0.031500067561865,-0.079578883945942,0.000523583032191,-0.023848609998822));
res += mul(Get(s1,-dx,dy), float4x4(0.091942779719830,0.160404682159424,0.100238911807537,0.006968461442739,-0.123852439224720,0.099452003836632,0.001823759172112,-0.074612140655518,-0.001561553101055,0.015876358374953,-0.035498775541782,-0.021531315520406,0.043126828968525,0.001597342547029,-0.060945406556129,-0.070282362401485));
res += mul(Get(s1,0,-dy), float4x4(-0.117090351879597,0.024971153587103,0.014214281924069,0.164806321263313,-0.211772859096527,-0.097738914191723,0.057349484413862,-0.063288569450378,-0.009809395298362,-0.059863794595003,0.088187657296658,-0.015089245513082,-0.036407910287380,-0.049002364277840,-0.008346037939191,0.082929804921150));
res += mul(Get(s1,0,0), float4x4(-0.039177328348160,0.027491031214595,-0.015566439367831,-0.027306206524372,-0.048240754753351,-0.140079125761986,-0.067978173494339,-0.087968550622463,-0.002120008692145,-0.011627877131104,0.033399809151888,0.014212129637599,-0.087169282138348,-0.018521001562476,0.018461331725121,0.020123135298491));
res += mul(Get(s1,0,dy), float4x4(-0.019980169832706,-0.003180407453328,0.028943363577127,-0.056127119809389,-0.159875988960266,-0.030698424205184,-0.055992078036070,0.054561462253332,-0.008889060467482,0.049292732030153,-0.049138955771923,-0.015243939124048,-0.032567873597145,0.007315975613892,-0.005206598900259,-0.040747635066509));
res += mul(Get(s1,dx,-dy), float4x4(-0.141160190105438,0.058987613767385,-0.029365360736847,0.074476204812527,0.105340965092182,0.011296838521957,-0.047460827976465,-0.138425797224045,-0.015158030204475,-0.002427299274132,0.069586843252182,0.005648056045175,0.020931040868163,-0.049173019826412,-0.045762956142426,0.083789117634296));
res += mul(Get(s1,dx,0), float4x4(-0.058791376650333,0.032924007624388,-0.048118982464075,-0.040235687047243,0.273029178380966,0.041357055306435,-0.085824124515057,-0.139703124761581,-0.020039629191160,0.037190690636635,0.031680040061474,0.015607743524015,0.001619091373868,-0.011728175915778,0.026595616713166,0.038937196135521));
res += mul(Get(s1,dx,dy), float4x4(-0.070584841072559,-0.136391758918762,-0.050981532782316,-0.026285672560334,-0.046541724354029,-0.014960307627916,-0.092568963766098,0.002213894389570,-0.024338096380234,0.072571240365505,-0.049896780401468,-0.012930879369378,0.043694101274014,-0.001118463580497,0.041993986815214,0.001642632414587));
res += mul(Get(s2,-dx,-dy), float4x4(0.010091509670019,-0.135606676340103,-0.093952424824238,0.021064603701234,-0.010540055111051,-0.008381512947381,-0.016004234552383,0.012134970165789,-0.108515240252018,0.041888505220413,-0.020686104893684,0.005125104449689,-0.000000381867721,-0.000009051978850,-0.000037924055505,0.000071844799095));
res += mul(Get(s2,-dx,0), float4x4(-0.013481760397553,-0.124692060053349,-0.004763418808579,-0.015953700989485,0.083996780216694,0.089057341217995,-0.001871771062724,0.037190914154053,0.003531237831339,0.015585486777127,-0.014280328527093,-0.001182265696116,-0.000033148538932,-0.000023635549951,-0.000038662285078,-0.000048282960051));
res += mul(Get(s2,-dx,dy), float4x4(0.079351611435413,-0.122284777462482,-0.001722738845274,0.185783371329308,-0.054050453007221,-0.031241880729795,0.008250991813838,0.095344804227352,0.042988270521164,-0.111454412341118,0.024645105004311,-0.004474412184209,-0.000046830649808,-0.000072950177127,-0.000032431220461,-0.000033682659705));
res += mul(Get(s2,0,-dy), float4x4(-0.036894187331200,-0.109119743108749,0.083483643829823,0.088529624044895,-0.041770990937948,-0.078570596873760,-0.058190960437059,-0.002483912277967,0.139921247959137,0.057818930596113,-0.008547252044082,-0.057313755154610,-0.000010782670870,0.000025448251108,-0.000039017075323,0.000023701071768));
res += mul(Get(s2,0,0), float4x4(0.237685576081276,-0.225040540099144,-0.015101687982678,-0.302239626646042,-0.024089602753520,-0.005179551895708,0.011441832408309,-0.010191825218499,0.123186700046062,0.014292413368821,-0.001958529697731,-0.004166921600699,-0.000054488205933,0.000014577975890,-0.000050539849326,-0.000059749618231));
res += mul(Get(s2,0,dy), float4x4(0.029715251177549,-0.192447423934937,-0.013269966468215,-0.087329536676407,-0.120432496070862,-0.017118044197559,0.008211533538997,0.096449725329876,0.086029604077339,-0.033032543957233,-0.075175702571869,-0.010877393186092,-0.000076866817835,-0.000048762845836,-0.000122544093756,0.000006074033536));
res += mul(Get(s2,dx,-dy), float4x4(0.036483954638243,0.143163695931435,0.161005213856697,0.051330965012312,0.064258903264999,0.042241007089615,-0.094860814511776,0.004904221277684,-0.184906333684921,0.114719040691853,0.031379729509354,0.142148017883301,0.000049359849072,0.000087601220002,-0.000021277966880,0.000016822346879));
res += mul(Get(s2,dx,0), float4x4(0.234048932790756,0.042313206940889,-0.176880642771721,-0.057741247117519,0.021585682407022,0.051903784275055,-0.010048345662653,-0.008198527619243,-0.076006338000298,-0.041372280567884,0.026094727218151,0.030599966645241,-0.000002146504130,0.000047515462938,-0.000047354711569,-0.000066457891080));
res += mul(Get(s2,dx,dy), float4x4(-0.236054256558418,-0.107039116322994,-0.020934585481882,0.216703593730927,0.009243496693671,-0.008776285685599,0.008809898979962,-0.006408857181668,0.116726353764534,-0.133916720747948,0.009912245906889,-0.078474201261997,-0.000061208207626,-0.000032310330425,-0.000082335558545,0.000066635402618));
res += mul(Get(s3,-dx,-dy), float4x4(-0.073931396007538,-0.153514146804810,-0.107072763144970,-0.159128770232201,0.021914616227150,0.002253178041428,-0.080753482878208,0.110529333353043,-0.082012198865414,-0.166517242789268,-0.055186588317156,-0.098163597285748,-0.022006062790751,0.046897225081921,-0.263239324092865,0.006747832521796));
res += mul(Get(s3,-dx,0), float4x4(0.100924491882324,-0.034090351313353,0.326439172029495,0.097539186477661,-0.086782142519951,-0.127796903252602,-0.084661841392517,-0.021679699420929,0.014121036976576,0.024091722443700,0.011063937097788,-0.006395081989467,-0.174070537090302,-0.101205840706825,-0.133617982268333,-0.107565268874168));
res += mul(Get(s3,-dx,dy), float4x4(-0.117019772529602,-0.020830668509007,0.619122743606567,0.053004968911409,0.065530881285667,-0.177089333534241,-0.014661849476397,-0.120669893920422,0.066986657679081,-0.007051683496684,0.009840793907642,-0.098154380917549,-0.003389107296243,-0.062318287789822,-0.013124055229127,-0.113808833062649));
res += mul(Get(s3,0,-dy), float4x4(-0.063155584037304,0.041174665093422,-0.156580001115799,0.201790243387222,0.004410828929394,0.033269148319960,-0.193879798054695,-0.014753787778318,0.230682522058487,0.036746628582478,-0.016496777534485,-0.039781428873539,0.052789606153965,0.036026529967785,-0.166953399777412,-0.062468979507685));
res += mul(Get(s3,0,0), float4x4(-0.121663853526115,-0.229690074920654,-0.112262248992920,-0.035486027598381,-0.126799836754799,0.326530694961548,-0.067010037600994,-0.014419246464968,0.110440745949745,0.113022722303867,0.005851407069713,0.009572686627507,-0.000074134644819,-0.066048666834831,-0.059672828763723,-0.138422727584839));
res += mul(Get(s3,0,dy), float4x4(0.044953696429729,-0.207938700914383,0.073531433939934,-0.133534684777260,0.134269371628761,0.177130088210106,-0.013498771004379,-0.041585009545088,0.080479912459850,0.028390463441610,0.011381723918021,-0.070733614265919,-0.015746092423797,-0.028999758884311,0.001589788356796,-0.138925746083260));
res += mul(Get(s3,dx,-dy), float4x4(-0.035103809088469,0.392335295677185,0.065635055303574,0.146850273013115,-0.017014969140291,-0.124321348965168,-0.096404880285263,-0.005034236237407,0.063354440033436,0.010611658915877,0.006185127422214,-0.079460151493549,0.085522107779980,0.034833867102861,0.089061446487904,-0.031087635084987));
res += mul(Get(s3,dx,0), float4x4(0.009488582611084,0.092668317258358,-0.134951010346413,-0.033853411674500,0.040767129510641,-0.017288114875555,-0.014438528567553,-0.065823748707771,-0.200661957263947,-0.023446939885616,0.001058035879396,-0.010352326557040,0.155774772167206,-0.005484159104526,0.074539199471474,-0.072556912899017));
res += mul(Get(s3,dx,dy), float4x4(0.143083095550537,0.063187040388584,-0.286352515220642,-0.167239427566528,0.065686985850334,-0.097349882125854,-0.006241375580430,-0.054221853613853,-0.026212984696031,-0.021949395537376,-0.000485929340357,0.077151738107204,0.116690397262573,0.019168160855770,0.031098768115044,-0.073560364544392));
return max(float4(0,0,0,0), res);
}
