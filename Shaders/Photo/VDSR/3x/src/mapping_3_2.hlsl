sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.155716553330421,0.033737760037184,-0.116052553057671,-0.076743215322495,0.174157842993736,0.135868817567825,-0.163235813379288,-0.123468443751335,-0.117267608642578,-0.067570209503174,0.081595011055470,0.138505890965462,0.117483288049698,0.024267118424177,0.035547632724047,-0.130497694015503));
res += mul(Get(s0,-dx,0), float4x4(0.048618242144585,-0.103025048971176,-0.106175899505615,0.089928075671196,0.083436571061611,0.005436580628157,-0.001170861301944,0.070316977798939,-0.098247587680817,0.031570743769407,-0.017899928614497,0.004005795344710,0.065832719206810,0.218878656625748,0.144790798425674,-0.001090897712857));
res += mul(Get(s0,-dx,dy), float4x4(-0.209061026573181,-0.091421589255333,-0.161195144057274,0.087956741452217,0.108443930745125,0.148895993828773,0.085822477936745,-0.012355785816908,-0.133599266409874,-0.056692939251661,0.060291714966297,-0.047717198729515,-0.132458269596100,0.165444940328598,-0.158532828092575,0.012045756913722));
res += mul(Get(s0,0,-dy), float4x4(-0.004359131213278,-0.103353969752789,0.046497315168381,-0.003851613495499,-0.009906902909279,-0.089432537555695,0.026950800791383,0.163409352302551,0.003914223983884,0.063385948538780,0.087555810809135,-0.042929857969284,0.076898142695427,0.131402149796486,-0.071391262114048,0.227163553237915));
res += mul(Get(s0,0,0), float4x4(-0.083464793860912,0.208457931876183,-0.136001259088516,0.093438848853111,0.059159018099308,-0.081144772469997,0.098272167146206,0.140719741582870,0.008940082043409,0.051948960870504,0.013986147940159,0.166490718722343,-0.282790124416351,0.038449972867966,-0.163622006773949,0.226729780435562));
res += mul(Get(s0,0,dy), float4x4(0.123929768800735,0.108286395668983,0.135091960430145,-0.044149816036224,0.024833304807544,0.076498277485371,-0.178099244832993,-0.257649391889572,-0.032451357692480,-0.011041825637221,-0.180598735809326,0.128478378057480,0.016451481729746,-0.100896477699280,0.017647715285420,-0.054630436003208));
res += mul(Get(s0,dx,-dy), float4x4(-0.012491396628320,0.027261340990663,0.015284891240299,-0.078315019607544,0.008468386717141,0.250906825065613,0.149667277932167,0.123763442039490,0.070153206586838,0.012762342579663,0.049453601241112,-0.231189817190170,-0.086230173707008,-0.004438679665327,-0.151287481188774,0.095263883471489));
res += mul(Get(s0,dx,0), float4x4(-0.011755307205021,-0.024281537160277,-0.093859151005745,-0.080033339560032,-0.171063452959061,0.136776044964790,-0.062105860561132,0.026800485327840,0.216872796416283,0.122997432947159,-0.008186320774257,-0.039292521774769,-0.036133706569672,-0.070130817592144,0.063916817307472,0.091152459383011));
res += mul(Get(s0,dx,dy), float4x4(0.016813199967146,-0.198065668344498,-0.002750400686637,0.124638773500919,-0.066972903907299,-0.044250849634409,-0.015705030411482,0.031556412577629,-0.145418375730515,0.079445317387581,0.059564985334873,0.107341341674328,-0.036860868334770,-0.153360590338707,0.131828203797340,-0.168318808078766));
res += mul(Get(s1,-dx,-dy), float4x4(0.188554003834724,-0.179632276296616,0.007674275897443,-0.048402339220047,0.105866484344006,-0.128238916397095,0.106603175401688,-0.058932919055223,-0.124532155692577,-0.061114616692066,-0.100199423730373,0.034709472209215,0.059774335473776,-0.165535345673561,0.229235336184502,-0.071943104267120));
res += mul(Get(s1,-dx,0), float4x4(-0.008197668939829,-0.008717533200979,-0.079715505242348,0.064982600510120,-0.085716500878334,0.065606623888016,0.063492864370346,-0.109582252800465,-0.066057562828064,0.131836861371994,0.102290235459805,-0.142472192645073,0.058909352868795,0.045772489160299,0.065503768622875,0.046367958188057));
res += mul(Get(s1,-dx,dy), float4x4(-0.070692822337151,0.105303503572941,0.013850707560778,-0.054941907525063,-0.032280884683132,-0.064770601689816,0.082707040011883,-0.115507930517197,-0.105570733547211,0.009697086177766,0.049157712608576,-0.101493023335934,0.224567577242851,-0.146468877792358,-0.016042781993747,-0.053415969014168));
res += mul(Get(s1,0,-dy), float4x4(-0.184513017535210,0.114260591566563,0.017809083685279,-0.009685311466455,-0.050173040479422,-0.089700818061829,-0.198576569557190,0.256165295839310,-0.046213176101446,0.012742008082569,0.225409105420113,-0.067117288708687,-0.218931257724762,0.069656692445278,0.089128501713276,0.056062620133162));
res += mul(Get(s1,0,0), float4x4(-0.089073970913887,-0.035947311669588,0.091023564338684,-0.070580728352070,0.032926820218563,-0.190549373626709,-0.040247116237879,0.041014209389687,-0.099580585956573,-0.064840085804462,-0.011855630204082,-0.036186095327139,-0.083216927945614,0.240867227315903,0.054016742855310,0.002484743716195));
res += mul(Get(s1,0,dy), float4x4(0.024297535419464,0.054512295871973,-0.033429894596338,-0.091385833919048,-0.029427638277411,0.033608909696341,0.072568759322166,0.077828660607338,-0.064447298645973,-0.107030950486660,-0.078837633132935,-0.088662795722485,-0.035873360931873,-0.200869113206863,-0.144304201006889,-0.022210530936718));
res += mul(Get(s1,dx,-dy), float4x4(-0.123899564146996,-0.317123293876648,-0.171289518475533,0.050977308303118,0.010374396108091,-0.184321403503418,0.005448930431157,0.072391599416733,-0.051504928618670,-0.086761921644211,0.051848866045475,0.000221914233407,-0.144451767206192,0.001338307629339,-0.067719176411629,0.048814352601767));
res += mul(Get(s1,dx,0), float4x4(-0.174596577882767,0.123987227678299,0.173562943935394,0.008711549453437,0.011220649816096,-0.042317260056734,-0.082784317433834,0.130073174834251,-0.017406640574336,-0.074055492877960,0.142473369836807,0.020874597132206,0.028426140546799,-0.054654899984598,-0.036518082022667,0.022418033331633));
res += mul(Get(s1,dx,dy), float4x4(-0.124590769410133,-0.006481966469437,-0.023403335362673,-0.085663266479969,-0.068600453436375,-0.172184973955154,-0.086183317005634,-0.075652524828911,-0.005944395903498,-0.055077198892832,-0.057061336934566,-0.020784679800272,0.058297198265791,0.091777488589287,0.017746981233358,0.056676797568798));
res += mul(Get(s2,-dx,-dy), float4x4(0.015407474711537,-0.034239050000906,0.017736515030265,0.111817725002766,0.087427474558353,0.003458431921899,-0.175480753183365,-0.009680648334324,0.048624228686094,-0.020586937665939,-0.082316033542156,0.064686931669712,0.024958794936538,0.137429580092430,-0.089390359818935,-0.130146980285645));
res += mul(Get(s2,-dx,0), float4x4(-0.169559091329575,0.056642979383469,-0.070950068533421,0.041015259921551,0.058676712214947,-0.097174875438213,-0.057067755609751,-0.096531145274639,0.029346974566579,0.159534558653831,-0.111373156309128,-0.088376946747303,-0.026903420686722,0.239948183298111,-0.154968783259392,-0.040253613144159));
res += mul(Get(s2,-dx,dy), float4x4(-0.125934898853302,-0.036212198436260,-0.125925704836845,0.099208310246468,0.015295352786779,-0.189086601138115,0.016536235809326,0.000867686234415,-0.226015195250511,-0.035010490566492,0.226563006639481,-0.044211167842150,-0.092700034379959,0.000838929438032,-0.013571312651038,-0.069029003381729));
res += mul(Get(s2,0,-dy), float4x4(-0.108554467558861,-0.186239600181580,-0.287158012390137,0.131017282605171,0.077157646417618,-0.019492940977216,0.068213820457458,-0.129501223564148,0.009940482676029,-0.001000572927296,-0.079472847282887,-0.181319132447243,-0.076239123940468,0.138159275054932,0.089584968984127,-0.192771911621094));
res += mul(Get(s2,0,0), float4x4(0.049259573221207,0.194020733237267,-0.005253054201603,0.129259079694748,0.074036628007889,0.037583954632282,0.160136386752129,-0.243434086441994,0.068914867937565,0.196150258183479,-0.016129026189446,0.154951766133308,-0.080710217356682,-0.117734014987946,0.091296933591366,-0.097914479672909));
res += mul(Get(s2,0,dy), float4x4(-0.099729478359222,-0.067184977233410,0.038533870130777,0.019037721678615,0.154216811060905,0.055778887122869,-0.034665480256081,-0.014811109751463,-0.025366913527250,0.036535240709782,-0.018220521509647,0.132790163159370,-0.106295377016068,-0.015918605029583,-0.039453908801079,-0.001813028473407));
res += mul(Get(s2,dx,-dy), float4x4(-0.084042795002460,0.040371436625719,-0.023875519633293,0.056389477103949,-0.044657915830612,-0.180519789457321,-0.080269463360310,-0.041408848017454,-0.060851823538542,-0.084642238914967,0.081756554543972,-0.084164164960384,0.005935304798186,-0.047223642468452,0.139923006296158,0.041627001017332));
res += mul(Get(s2,dx,0), float4x4(0.052712805569172,0.094264976680279,0.136943534016609,-0.075386397540569,-0.036170378327370,-0.040313404053450,0.220622166991234,0.112821370363235,0.234711408615112,-0.082844346761703,0.039835870265961,-0.110177762806416,-0.016287487000227,0.064788311719894,0.089867636561394,-0.135300397872925));
res += mul(Get(s2,dx,dy), float4x4(-0.030766393989325,0.110391728579998,0.224588394165039,0.139873772859573,-0.052239630371332,0.027230134233832,-0.054707936942577,-0.005428786855191,-0.062705606222153,-0.120153896510601,0.152881592512131,0.056918401271105,-0.124810799956322,-0.013824274763465,0.106778174638748,0.152495741844177));
res += mul(Get(s3,-dx,-dy), float4x4(-0.055900894105434,-0.050756845623255,0.088480018079281,-0.165146261453629,-0.020714929327369,-0.171158924698830,0.137269094586372,-0.176156803965569,-0.001099095330574,-0.006136995274574,-0.018368054181337,0.068928025662899,0.058361485600471,-0.143795326352119,0.215006947517395,-0.014198806136847));
res += mul(Get(s3,-dx,0), float4x4(-0.144123464822769,-0.133779361844063,-0.210404843091965,0.038341153413057,0.055536955595016,-0.023301178589463,0.116965189576149,0.092048041522503,-0.041416615247726,0.047887157648802,-0.173830747604370,0.002577784005553,0.106366835534573,-0.039659131318331,0.041709516197443,0.094978675246239));
res += mul(Get(s3,-dx,dy), float4x4(0.088026814162731,0.273995190858841,-0.000102898717159,0.039068456739187,-0.059858318418264,-0.156235456466675,-0.075362317264080,0.165563210844994,-0.160703897476196,-0.137019842863083,0.015505198389292,0.102668404579163,-0.003887354629114,0.084467455744743,-0.049017932265997,0.026681151241064));
res += mul(Get(s3,0,-dy), float4x4(0.078141503036022,-0.066127352416515,0.143596708774567,0.134848788380623,0.384180545806885,0.081309631466866,0.004824480041862,0.070310838520527,-0.015474385581911,-0.121769174933434,0.191545054316521,-0.129550367593765,0.068772688508034,0.017409089952707,-0.130136594176292,0.041204761713743));
res += mul(Get(s3,0,0), float4x4(0.132492691278458,0.038228876888752,0.190950244665146,0.053296603262424,-0.266817182302475,0.032029584050179,-0.069666899740696,0.078113682568073,-0.001866455888376,-0.125043451786041,-0.008500326424837,0.053003925830126,-0.044582348316908,-0.019304359331727,0.268439203500748,0.156769186258316));
res += mul(Get(s3,0,dy), float4x4(-0.072499014437199,0.006280399393290,-0.151156902313232,-0.191608026623726,0.020555019378662,-0.052760895341635,-0.036006338894367,0.132024645805359,0.090586215257645,-0.165619209408760,-0.063100993633270,0.143941402435303,-0.074799492955208,-0.074247688055038,0.074498981237411,-0.000803879112937));
res += mul(Get(s3,dx,-dy), float4x4(-0.071162208914757,0.046753074973822,-0.213727608323097,0.198637574911118,-0.191719055175781,0.023211045190692,0.057967796921730,0.030509145930409,-0.107552215456963,0.043498128652573,0.165250509977341,-0.098471425473690,-0.121468007564545,0.000885391782504,-0.046221610158682,0.200129181146622));
res += mul(Get(s3,dx,0), float4x4(0.031971886754036,-0.042336598038673,0.193819746375084,-0.037545949220657,-0.010483079589903,-0.010947845876217,-0.046582788228989,-0.080279536545277,0.145321741700172,0.116247452795506,-0.052420709282160,-0.067327484488487,-0.065693750977516,0.028680808842182,-0.114167049527168,-0.079302370548248));
res += mul(Get(s3,dx,dy), float4x4(0.113012418150902,0.140973955392838,0.049740362912416,-0.038445949554443,0.028249945491552,0.083802357316017,0.043684512376785,0.047552626580000,-0.169857010245323,-0.127264708280563,0.222241058945656,0.046004634350538,0.105810657143593,-0.065103068947792,0.213474929332733,-0.228721022605896));
return max(float4(0,0,0,0), res);
}
