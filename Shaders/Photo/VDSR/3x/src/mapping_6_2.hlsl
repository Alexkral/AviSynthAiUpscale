sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.056892760097980,-0.087433584034443,-0.069262906908989,-0.082234323024750,-0.121987476944923,-0.089094176888466,-0.009753030724823,-0.063469380140305,0.044921185821295,0.045284651219845,0.002894917735830,-0.023041261360049,-0.025612244382501,-0.133713126182556,-0.006677638739347,0.021999944001436));
res += mul(Get(s0,-dx,0), float4x4(-0.088894650340080,-0.075588345527649,-0.069190248847008,-0.077642895281315,-0.129761993885040,-0.038529314100742,-0.032413568347692,-0.012926141731441,0.198328599333763,0.027437288314104,-0.021565217524767,-0.014642409980297,-0.084598168730736,-0.048678968101740,-0.018332391977310,0.000669413420837));
res += mul(Get(s0,-dx,dy), float4x4(-0.042133215814829,0.163152962923050,-0.121197387576103,-0.069629274308681,-0.042662393301725,0.049011882394552,-0.019481351599097,-0.032247085124254,0.047833345830441,0.110656224191189,0.059254065155983,-0.137787878513336,0.013390701264143,-0.025202045217156,-0.029016371816397,-0.069406636059284));
res += mul(Get(s0,0,-dy), float4x4(0.119616404175758,-0.003064129734412,0.145755305886269,-0.043033964931965,0.024717185646296,-0.048714853823185,-0.040341485291719,-0.034892637282610,-0.144440308213234,0.112131282687187,0.047350004315376,-0.070749528706074,-0.055603150278330,-0.073149926960468,0.047222718596458,-0.018014535307884));
res += mul(Get(s0,0,0), float4x4(-0.039509139955044,-0.033589545637369,-0.052770197391510,-0.032345145940781,-0.041148975491524,0.077221989631653,-0.014925410039723,0.052426226437092,-0.121817775070667,-0.034547682851553,-0.009761011227965,-0.026583064347506,-0.055552311241627,0.085864052176476,0.028863064944744,0.042690876871347));
res += mul(Get(s0,0,dy), float4x4(0.119794428348541,0.300149440765381,-0.122311212122440,-0.042181741446257,0.049038793891668,-0.059256557375193,-0.027972411364317,0.026153754442930,0.052780158817768,-0.109386116266251,0.054544907063246,-0.070063836872578,0.107516840100288,-0.023673018440604,-0.076330780982971,-0.159726589918137));
res += mul(Get(s0,dx,-dy), float4x4(0.004844968672842,-0.032000955194235,0.029456894844770,-0.054609965533018,-0.076481699943542,-0.081863522529602,-0.021028218790889,-0.061178043484688,0.042065806686878,0.007943741045892,0.055820990353823,0.118692755699158,0.002489000093192,-0.075357176363468,-0.041539520025253,-0.011284431442618));
res += mul(Get(s0,dx,0), float4x4(-0.144331008195877,-0.037796296179295,0.073283270001411,-0.059431094676256,-0.058828774839640,0.067383274435997,0.028462763875723,-0.000305455061607,-0.053967025130987,-0.049621954560280,0.008467048406601,0.044497486203909,-0.063689284026623,0.069309897720814,0.032862879335880,0.003332153894007));
res += mul(Get(s0,dx,dy), float4x4(0.048836357891560,0.051574770361185,-0.088736869394779,-0.131376445293427,0.071413964033127,-0.053066290915012,0.016497097909451,0.024622820317745,-0.024967620149255,0.192769140005112,0.156701475381851,0.210353657603264,-0.036072898656130,-0.176837682723999,0.100731559097767,-0.103731364011765));
res += mul(Get(s1,-dx,-dy), float4x4(-0.057201966643333,-0.033366117626429,0.037422571331263,-0.024307264015079,-0.042835734784603,0.093051381409168,0.000275228463579,-0.026738075539470,0.037029303610325,0.024927921593189,0.015555008314550,-0.050819318741560,0.025327417999506,0.133582800626755,0.000579177984037,-0.061571571975946));
res += mul(Get(s1,-dx,0), float4x4(0.062644720077515,0.031497690826654,0.077048309147358,-0.030066972598433,0.207105159759521,-0.095963135361671,-0.102255061268806,0.004364907741547,-0.001273714937270,0.106772623956203,-0.082885973155499,-0.004345245193690,0.098221495747566,-0.040524106472731,0.036574192345142,-0.094547674059868));
res += mul(Get(s1,-dx,dy), float4x4(0.059429656714201,0.045659705996513,-0.068800866603851,0.021821934729815,0.012426121160388,-0.058657877147198,-0.037946902215481,0.099025309085846,0.030457206070423,0.045078977942467,-0.041521254926920,0.097924977540970,0.101028881967068,0.314572632312775,-0.061294123530388,0.006105207838118));
res += mul(Get(s1,0,-dy), float4x4(-0.048470988869667,-0.072312235832214,0.048394892364740,0.011811704374850,-0.087668776512146,-0.068929575383663,-0.139517828822136,0.078605905175209,0.024034123867750,0.037543132901192,-0.028725035488605,0.030295049771667,-0.001744357170537,0.033615075051785,-0.052884913980961,0.094975285232067));
res += mul(Get(s1,0,0), float4x4(-0.077935896813869,-0.003145165275782,-0.089601457118988,-0.039571151137352,0.058786973357201,-0.080238632857800,-0.056521672755480,0.075422704219818,-0.022386388853192,-0.068861916661263,-0.029897110536695,0.158740311861038,-0.082742199301720,-0.090197376906872,-0.052959676831961,-0.098079271614552));
res += mul(Get(s1,0,dy), float4x4(0.033373132348061,0.192300900816917,-0.135432794690132,-0.047197114676237,-0.059648502618074,-0.003697316395119,-0.055608365684748,-0.106646813452244,-0.092952109873295,-0.021717252209783,-0.084556050598621,0.155533373355865,0.037439759820700,0.017230063676834,-0.007361270021647,0.149482682347298));
res += mul(Get(s1,dx,-dy), float4x4(-0.004812309518456,-0.029526600614190,-0.055398933589458,0.003209274960682,0.090165197849274,0.053596951067448,-0.017911275848746,-0.119859822094440,-0.025667538866401,-0.005526776891202,-0.051022533327341,-0.015513867139816,0.043497659265995,0.104075230658054,-0.122517444193363,0.027500262483954));
res += mul(Get(s1,dx,0), float4x4(-0.070714212954044,0.043322816491127,-0.070905841886997,-0.014445081353188,0.045552510768175,-0.071774289011955,0.005701085086912,0.137522101402283,0.016749542206526,-0.048393338918686,-0.025518273934722,0.006645858753473,0.062590718269348,0.014766845852137,0.011429280042648,-0.053007639944553));
res += mul(Get(s1,dx,dy), float4x4(0.013369339518249,0.211892545223236,-0.149790883064270,0.082396388053894,-0.099439457058907,0.028590861707926,0.004453719127923,-0.114997602999210,-0.055492438375950,-0.114175200462341,-0.053097546100616,-0.078407816588879,0.323314905166626,-0.108212180435658,-0.072272077202797,0.106875754892826));
res += mul(Get(s2,-dx,-dy), float4x4(0.119184456765652,0.025629177689552,-0.060368232429028,-0.111999310553074,0.055120319128036,0.078929863870144,-0.003682171460241,0.094623491168022,0.038066882640123,-0.062617093324661,-0.040753245353699,-0.062982164323330,0.027825977653265,-0.085380993783474,0.050923783332109,-0.011099319905043));
res += mul(Get(s2,-dx,0), float4x4(0.087331347167492,-0.007431488018483,-0.037723120301962,0.043587494641542,0.070988126099110,-0.075885899364948,-0.076136119663715,-0.090690553188324,0.008961999788880,0.023882819339633,0.124088980257511,-0.047086317092180,0.013358387164772,-0.066486433148384,0.018125034868717,0.075687140226364));
res += mul(Get(s2,-dx,dy), float4x4(0.042102035135031,-0.026792295277119,0.053864385932684,0.042738556861877,0.136002913117409,0.107387825846672,-0.046985864639282,-0.066717967391014,0.062921814620495,0.071689546108246,0.104270026087761,-0.045596018433571,0.021869651973248,0.015006237663329,0.082655847072601,-0.032974544912577));
res += mul(Get(s2,0,-dy), float4x4(-0.003725340589881,0.068682156503201,-0.051055308431387,0.097540877759457,-0.019324658438563,0.062888078391552,-0.079958550632000,0.145159706473351,-0.049033802002668,-0.089392364025116,-0.018903791904449,0.079103693366051,0.008345969021320,-0.082806527614594,0.084536530077457,-0.069197922945023));
res += mul(Get(s2,0,0), float4x4(0.018559658899903,0.048328898847103,-0.043160181492567,0.131791800260544,0.074622675776482,0.058692548424006,-0.026626307517290,-0.083080634474754,-0.049994900822639,0.077381141483784,0.072805218398571,0.142762109637260,-0.036914475262165,-0.107194058597088,0.074146300554276,-0.087224170565605));
res += mul(Get(s2,0,dy), float4x4(-0.054163720458746,-0.065723054111004,-0.058777756989002,0.214380159974098,-0.066359184682369,0.101991452276707,-0.010658524930477,0.041755232959986,-0.061558842658997,-0.078284710645676,0.163359686732292,0.114735461771488,-0.051445376127958,0.036482140421867,0.053101677447557,-0.009537721984088));
res += mul(Get(s2,dx,-dy), float4x4(-0.034603942185640,0.058272793889046,-0.041447609663010,-0.016521347686648,-0.109408155083656,0.030626444146037,-0.090517006814480,0.100562147796154,0.028040163218975,-0.013669870793819,-0.095160260796547,0.057186659425497,-0.029806310310960,-0.083526521921158,-0.023033617064357,-0.074323989450932));
res += mul(Get(s2,dx,0), float4x4(-0.057159706950188,-0.088644854724407,-0.058217436075211,0.080915018916130,-0.029275288805366,0.069107413291931,-0.076984353363514,0.000756186142098,0.027038399130106,0.053419850766659,-0.029898965731263,0.132926270365715,-0.119405195116997,-0.049829836934805,-0.033146794885397,0.005414107348770));
res += mul(Get(s2,dx,dy), float4x4(-0.135908856987953,-0.033863518387079,-0.113248176872730,0.024611974135041,-0.013330096378922,-0.058148417621851,-0.096651099622250,0.197212949395180,0.051300931721926,-0.060919295996428,0.068725153803825,0.077164754271507,-0.078440114855766,0.034906323999166,-0.095188312232494,0.036483481526375));
res += mul(Get(s3,-dx,-dy), float4x4(-0.039964076131582,-0.105285555124283,-0.024117900058627,-0.066534049808979,0.295729666948318,0.014718999154866,0.290010958909988,-0.048415638506413,0.010062661021948,0.102705709636211,0.042167264968157,-0.188419386744499,-0.065247572958469,-0.028230413794518,-0.166532486677170,0.069597363471985));
res += mul(Get(s3,-dx,0), float4x4(-0.034788556396961,-0.065811090171337,0.125797539949417,0.104055836796761,-0.002703923266381,-0.172845274209976,0.108384370803833,-0.026153847575188,-0.039721351116896,-0.026443039998412,-0.091413125395775,0.037512924522161,0.090898662805557,0.023338830098510,0.177564367651939,-0.070683121681213));
res += mul(Get(s3,-dx,dy), float4x4(-0.066291652619839,0.103540316224098,0.067458368837833,-0.189539730548859,0.097657687962055,-0.248882755637169,-0.103816598653793,-0.084940761327744,-0.013506849296391,0.111278355121613,-0.035381253808737,0.269108265638351,0.113233976066113,0.006793675012887,-0.095055036246777,-0.014457474462688));
res += mul(Get(s3,0,-dy), float4x4(-0.133750438690186,0.114342235028744,0.020882898941636,0.055192708969116,0.177749663591385,0.097449712455273,0.143761739134789,-0.111724853515625,0.123814634978771,-0.031818661838770,0.046941965818405,-0.098053090274334,0.162540197372437,-0.011686357669532,-0.123754151165485,-0.022715175524354));
res += mul(Get(s3,0,0), float4x4(-0.104932948946953,-0.000723604345694,-0.011008299887180,0.038607772439718,-0.120904467999935,-0.110180228948593,-0.013630124740303,0.029111484065652,0.012636675499380,-0.131525054574013,-0.061529584228992,0.152486756443977,0.059678893536329,0.047893140465021,0.061010967940092,0.008778809569776));
res += mul(Get(s3,0,dy), float4x4(0.002928779227659,0.104193091392517,-0.036307349801064,0.009304182603955,0.011937129311264,-0.173819214105606,-0.061364345252514,-0.030495245009661,0.098270379006863,0.001989450538531,-0.003475935664028,0.204510331153870,0.155795857310295,0.064666561782360,-0.193069115281105,0.015952289104462));
res += mul(Get(s3,dx,-dy), float4x4(-0.090598933398724,0.166710838675499,0.022614317014813,-0.029197346419096,0.192486763000488,-0.078199595212936,-0.041630420833826,-0.105731442570686,-0.018559025600553,0.019013918936253,0.033119998872280,-0.161537542939186,0.084871523082256,-0.106712616980076,0.043933603912592,-0.180033609271049));
res += mul(Get(s3,dx,0), float4x4(-0.011858806014061,-0.081599108874798,-0.056980602443218,-0.135046273469925,-0.209808692336082,0.000153376589878,-0.036395523697138,0.070262461900711,-0.156651958823204,-0.034361515194178,-0.047032237052917,0.124677032232285,0.039678324013948,-0.077214159071445,0.154363751411438,-0.167208060622215));
res += mul(Get(s3,dx,dy), float4x4(0.007391831371933,-0.034802988171577,0.049179032444954,0.001255835639313,-0.086055897176266,-0.156488418579102,0.063506923615932,-0.053970757871866,-0.066359311342239,-0.038174886256456,0.051473930478096,0.185091480612755,0.143011078238487,0.098189607262611,0.060305386781693,-0.018455116078258));
return max(float4(0,0,0,0), res);
}
