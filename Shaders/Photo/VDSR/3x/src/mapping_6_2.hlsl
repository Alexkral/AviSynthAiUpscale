sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.048274725675583,0.022050619125366,-0.044802784919739,-0.160822242498398,0.196496620774269,0.157722786068916,-0.094283498823643,-0.078036926686764,-0.079643040895462,0.060356728732586,0.094606518745422,-0.096410609781742,-0.005308791995049,0.047526396811008,-0.085940435528755,-0.017195345833898));
res += mul(Get(s0,-dx,0), float4x4(0.083581082522869,0.140165448188782,-0.105529770255089,-0.078599527478218,0.043925911188126,-0.088868133723736,-0.168485775589943,0.027480442076921,0.249768048524857,0.056789666414261,0.070675939321518,-0.105656683444977,0.035296633839607,0.267986863851547,0.022514043375850,-0.034282464534044));
res += mul(Get(s0,-dx,dy), float4x4(-0.118559867143631,0.065785005688667,-0.127764716744423,-0.098503284156322,-0.017878994345665,0.087991788983345,0.071248866617680,0.097009815275669,0.158477291464806,0.155166015028954,0.149377569556236,0.087158426642418,0.001246770611033,-0.050921656191349,0.162076771259308,-0.066269971430302));
res += mul(Get(s0,0,-dy), float4x4(0.055123846977949,0.036322664469481,0.040435917675495,-0.026762943714857,0.101804010570049,0.105322115123272,-0.035919178277254,0.149059489369392,-0.041927926242352,0.109845779836178,-0.138801842927933,-0.188548773527145,0.266921073198318,0.221371278166771,-0.035435263067484,0.083164274692535));
res += mul(Get(s0,0,0), float4x4(0.156672313809395,0.035789318382740,-0.106644943356514,-0.051865275949240,0.131611868739128,-0.064707331359386,-0.004749788902700,0.146813273429871,0.134869575500488,-0.039909444749355,0.204347550868988,-0.115535803139210,-0.027544207870960,-0.010213478468359,-0.052702840417624,0.234308674931526));
res += mul(Get(s0,0,dy), float4x4(-0.034912381321192,-0.239453941583633,-0.039537943899632,-0.038940619677305,-0.017819963395596,-0.055770903825760,-0.149404063820839,-0.021752240136266,-0.217063516378403,0.185809686779976,0.193305805325508,-0.324337482452393,0.111492313444614,-0.084259897470474,-0.220457598567009,-0.022013418376446));
res += mul(Get(s0,dx,-dy), float4x4(-0.101611346006393,-0.105308808386326,0.098483711481094,-0.140934005379677,0.241030290722847,-0.138242602348328,0.158721834421158,0.044434152543545,0.164977610111237,0.109316438436508,0.088023886084557,0.284036338329315,0.113262422382832,-0.017719255760312,-0.179764658212662,0.124319605529308));
res += mul(Get(s0,dx,0), float4x4(-0.120514921844006,-0.014005621895194,-0.117260262370110,0.066598430275917,0.025928920134902,-0.011352311819792,-0.142846390604973,0.093223541975021,-0.107408009469509,0.007027549203485,-0.138180792331696,-0.079716719686985,0.066939890384674,0.014831786975265,-0.065085209906101,-0.090625755488873));
res += mul(Get(s0,dx,dy), float4x4(0.016069021075964,-0.050158508121967,-0.023516643792391,0.055401545017958,-0.184139251708984,-0.190331101417542,-0.066174551844597,-0.194190993905067,0.043989218771458,0.054826099425554,0.213012322783470,0.145028784871101,0.097465977072716,-0.112806424498558,0.092823512852192,-0.181414797902107));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030907327309251,-0.089509785175323,0.134904041886330,0.147656947374344,-0.029434595257044,0.169199377298355,-0.110856384038925,-0.021705387160182,-0.073067605495453,-0.012062131427228,-0.186041057109833,-0.025246927514672,-0.027574790641665,-0.148456767201424,-0.008754755370319,-0.061039995402098));
res += mul(Get(s1,-dx,0), float4x4(-0.009465793147683,0.075245320796967,-0.111593827605247,0.045560423284769,-0.168636158108711,-0.214777126908302,-0.109040312469006,-0.064540028572083,0.085062682628632,-0.085307642817497,-0.169416442513466,0.095896467566490,-0.051293257623911,-0.072069972753525,0.023261526599526,0.172625645995140));
res += mul(Get(s1,-dx,dy), float4x4(0.164706155657768,0.102211035788059,-0.012216439470649,0.044137395918369,-0.099432669579983,-0.155725270509720,-0.015676073729992,0.246246919035912,-0.079551540315151,-0.041769795119762,0.231692180037498,0.022552190348506,-0.036894991993904,-0.001887674443424,0.122981779277325,0.086295999586582));
res += mul(Get(s1,0,-dy), float4x4(0.167967513203621,0.036009136587381,-0.101666696369648,-0.102501705288887,-0.236430510878563,0.067345388233662,-0.072469256818295,0.067392401397228,-0.156545519828796,0.176820471882820,0.132181018590927,-0.199289664626122,0.145333290100098,0.066015832126141,0.104435414075851,-0.003452157136053));
res += mul(Get(s1,0,0), float4x4(0.098902836441994,-0.043943181633949,0.177887842059135,-0.072217479348183,-0.189581885933876,0.085955940186977,-0.096327573060989,0.068378634750843,0.066375061869621,0.095143519341946,-0.042058397084475,-0.036167364567518,0.002594079123810,-0.032208982855082,0.130042433738708,0.122039809823036));
res += mul(Get(s1,0,dy), float4x4(0.069916613399982,0.062075138092041,0.040412820875645,0.180022433400154,-0.072847709059715,-0.042028062045574,-0.038746841251850,0.112538300454617,-0.111678652465343,0.156080335378647,-0.177454560995102,-0.067272052168846,-0.010560305789113,-0.072087600827217,-0.093389943242073,-0.005355872679502));
res += mul(Get(s1,dx,-dy), float4x4(0.072263814508915,-0.036855731159449,-0.053580339998007,0.159962430596352,-0.058710899204016,-0.033580597490072,-0.147293537855148,0.007532567717135,-0.058988600969315,0.011371790431440,0.046332202851772,0.083481557667255,0.067888066172600,0.010594536550343,-0.127035573124886,0.050955623388290));
res += mul(Get(s1,dx,0), float4x4(-0.097010120749474,0.152044713497162,-0.109308935701847,-0.055393535643816,-0.011089123785496,0.191453278064728,-0.108111090958118,-0.040528405457735,0.266766309738159,-0.039415329694748,0.053894501179457,0.054751530289650,0.199312880635262,-0.011230173520744,-0.029749143868685,-0.089260675013065));
res += mul(Get(s1,dx,dy), float4x4(-0.062373235821724,-0.048625543713570,-0.018165118992329,0.148096844553947,-0.025063708424568,0.213977009057999,-0.044431749731302,0.049829937517643,-0.043220788240433,-0.030926352366805,-0.146842435002327,0.087612256407738,-0.010547242127359,-0.150134831666946,-0.093449398875237,0.228927254676819));
res += mul(Get(s2,-dx,-dy), float4x4(-0.011729811318219,0.095731489360332,-0.005513028707355,-0.104097194969654,-0.117501400411129,0.085493117570877,-0.053820054978132,-0.040295213460922,0.022719662636518,0.208547636866570,-0.068129330873489,0.032054957002401,0.211859017610550,0.114337041974068,0.137126043438911,0.017415693029761));
res += mul(Get(s2,-dx,0), float4x4(0.137349277734756,0.113197520375252,-0.088892765343189,0.029972312971950,-0.041221473366022,0.167223781347275,0.030497277155519,-0.052789829671383,0.127092495560646,0.031374584883451,0.037765696644783,0.030937271192670,0.118545621633530,-0.071152023971081,0.204144030809402,-0.086616463959217));
res += mul(Get(s2,-dx,dy), float4x4(0.086020559072495,0.200070172548294,0.034392211586237,-0.018800595775247,0.070395231246948,0.051162265241146,0.076597668230534,0.003623207798228,-0.203544706106186,0.144751936197281,-0.074734255671501,-0.056437242776155,0.039678148925304,-0.193762704730034,-0.193960487842560,-0.109783910214901));
res += mul(Get(s2,0,-dy), float4x4(0.018425211310387,-0.035103429108858,-0.036997459828854,0.128420650959015,0.049636762589216,0.237218633294106,0.161787614226341,-0.105781160295010,-0.042002119123936,0.087270982563496,-0.086007855832577,-0.213220894336700,-0.161184445023537,0.015345954336226,0.077669002115726,-0.106287129223347));
res += mul(Get(s2,0,0), float4x4(0.069353066384792,0.077868729829788,-0.073084011673927,-0.049377098679543,-0.003648697165772,0.087660714983940,-0.073520153760910,-0.197189956903458,0.109190270304680,-0.190643385052681,0.091290600597858,-0.042120415717363,-0.039292369037867,0.056107554584742,0.015753038227558,-0.095497392117977));
res += mul(Get(s2,0,dy), float4x4(0.095405720174313,-0.021290928125381,0.136180281639099,-0.025848671793938,-0.060333911329508,-0.164724275469780,0.162073627114296,0.130439907312393,0.038191050291061,0.006903889589012,0.026962704956532,-0.046324163675308,-0.042209737002850,0.078931666910648,-0.207001969218254,0.148529604077339));
res += mul(Get(s2,dx,-dy), float4x4(0.005444990005344,-0.038843538612127,-0.031238686293364,-0.083712927997112,0.019860431551933,0.150916829705238,0.208511188626289,-0.074565187096596,-0.047113612294197,-0.044065788388252,0.021867956966162,0.144985169172287,-0.113427802920341,0.111031852662563,0.152079522609711,0.087678961455822));
res += mul(Get(s2,dx,0), float4x4(-0.082517251372337,0.035202965140343,-0.056006688624620,-0.158972397446632,0.022188616916537,0.123537987470627,0.022435437887907,-0.077541239559650,-0.151425868272781,-0.240733399987221,-0.041688639670610,-0.110452927649021,-0.191247463226318,0.203170835971832,-0.116575591266155,-0.065270170569420));
res += mul(Get(s2,dx,dy), float4x4(0.093737654387951,0.153034687042236,-0.283348977565765,-0.163998603820801,0.112346395850182,-0.001283890916966,-0.202635392546654,-0.188630148768425,0.127065822482109,0.154764801263809,0.030132159590721,-0.090509437024593,-0.013390718027949,0.043404344469309,-0.142937242984772,-0.071784354746342));
res += mul(Get(s3,-dx,-dy), float4x4(-0.097078613936901,-0.208611160516739,0.066052727401257,-0.218107536435127,-0.093233920633793,-0.091478317975998,0.035691790282726,0.071583122014999,0.144202202558517,0.057585742324591,0.129948422312737,0.030741991475224,-0.006539146415889,0.087102636694908,0.027054483070970,0.067396029829979));
res += mul(Get(s3,-dx,0), float4x4(0.202131271362305,-0.058123134076595,-0.108507476747036,0.019980575889349,0.205648228526115,-0.087637975811958,0.114805318415165,-0.036237582564354,-0.029736274853349,-0.221464484930038,-0.065267659723759,-0.090362057089806,-0.215437039732933,-0.040862768888474,0.042148403823376,0.312401205301285));
res += mul(Get(s3,-dx,dy), float4x4(0.035484921187162,-0.023247253149748,0.054780792444944,0.000940661120694,-0.021408237516880,0.047058708965778,0.229702636599541,-0.094158366322517,-0.013839615508914,0.212988778948784,0.006330228876323,-0.042500562965870,-0.070731647312641,-0.072702512145042,0.161671012639999,-0.087237648665905));
res += mul(Get(s3,0,-dy), float4x4(0.047035649418831,0.009251421317458,-0.032302252948284,-0.046600792557001,-0.168767079710960,0.116464346647263,-0.176597714424133,-0.099543385207653,0.028930062428117,0.032659422606230,-0.198814287781715,0.086105175316334,-0.188381776213646,-0.088963627815247,0.016283955425024,0.135592162609100));
res += mul(Get(s3,0,0), float4x4(-0.108289167284966,0.151972800493240,-0.110345520079136,0.149313583970070,-0.094873540103436,-0.047524314373732,-0.191424578428268,0.039946105331182,-0.158785372972488,0.018639001995325,-0.113101601600647,-0.012298231013119,0.011800194159150,0.029870864003897,-0.095558531582355,-0.052950013428926));
res += mul(Get(s3,0,dy), float4x4(0.069919757544994,0.259694933891296,-0.106486611068249,0.046749394387007,-0.042182467877865,0.004741919692606,0.072289168834686,0.080424979329109,0.039055649191141,-0.152725070714951,-0.015079905278981,0.034932162612677,-0.145748749375343,0.056284133344889,-0.197886049747467,0.131327465176582));
res += mul(Get(s3,dx,-dy), float4x4(0.213865101337433,0.028537021949887,0.029324259608984,-0.041752871125937,0.023395752534270,0.038932017982006,0.122726276516914,0.010018019005656,0.043894086033106,-0.089214771986008,0.184149056673050,0.045804306864738,0.054949685931206,0.022038662806153,0.156076952815056,-0.066153936088085));
res += mul(Get(s3,dx,0), float4x4(-0.059057880192995,-0.095405533909798,0.036832302808762,0.018424374982715,-0.027957003563643,-0.104413509368896,-0.129966899752617,0.186826214194298,0.139295831322670,0.175840467214584,-0.211315065622330,-0.215612113475800,0.020144542679191,-0.081440128386021,0.104137703776360,0.033855374902487));
res += mul(Get(s3,dx,dy), float4x4(-0.065255023539066,-0.048307720571756,0.058679919689894,-0.083506122231483,-0.003022829769179,-0.035613618791103,0.272346228361130,-0.042252253741026,0.033373959362507,-0.079875104129314,-0.037653483450413,0.028421098366380,0.043305527418852,0.050294615328312,-0.093784689903259,0.222889617085457));
return max(float4(0,0,0,0), res);
}
