sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.018265699967742,0.050382304936647,-0.031338300555944,0.032480683177710,-0.041335180401802,0.047802660614252,0.103596068918705,0.029635844752192,0.016522355377674,0.007864753715694,-0.067320354282856,-0.056964099407196,-0.079947024583817,0.167313903570175,-0.051977820694447,-0.038182049989700));
res += mul(Get(s0,-dx,0), float4x4(0.089714936912060,0.016599554568529,0.005885847844183,0.038964912295341,-0.035092927515507,-0.073598064482212,0.057137083262205,0.073250263929367,-0.224236682057381,0.002240715548396,-0.086718246340752,-0.001658399356529,-0.006375741679221,0.027633273974061,-0.052594736218452,0.066327452659607));
res += mul(Get(s0,-dx,dy), float4x4(0.079113878309727,-0.058173224329948,-0.053504955023527,0.014110098592937,-0.027874546125531,-0.050053007900715,0.028537282720208,-0.073340341448784,-0.101429656147957,0.012034551240504,-0.127791211009026,-0.014750374481082,-0.094391599297523,-0.014646592549980,0.093973837792873,-0.000959888973739));
res += mul(Get(s0,0,-dy), float4x4(-0.094710148870945,0.239569544792175,0.042079173028469,-0.071976408362389,-0.054577313363552,0.094744428992271,0.193038836121559,0.043413020670414,0.097457274794579,-0.089074112474918,-0.067319467663765,-0.154061347246170,0.012315032072365,0.044980049133301,0.057666067034006,0.013606424443424));
res += mul(Get(s0,0,0), float4x4(-0.011251547373831,0.225901409983635,0.141284584999084,0.063697308301926,0.025765962898731,-0.079787492752075,-0.047805570065975,0.042191166430712,0.066529780626297,-0.093536436557770,-0.100659415125847,-0.027353420853615,0.205300569534302,-0.084506735205650,0.022965926676989,0.158371746540070));
res += mul(Get(s0,0,dy), float4x4(0.009312232024968,0.063482508063316,0.159782513976097,-0.036512244492769,0.075560584664345,-0.081536799669266,-0.114943459630013,0.079670064151287,-0.041376125067472,0.009245102293789,-0.152759745717049,-0.043066740036011,0.076527744531631,0.005268786568195,0.086272157728672,0.031984440982342));
res += mul(Get(s0,dx,-dy), float4x4(-0.054812662303448,0.105663627386093,0.018812159076333,0.024807354435325,-0.142007946968079,0.059069417417049,0.153503984212875,0.000032320142054,0.053613986819983,-0.041698686778545,0.062283467501402,-0.038815613836050,-0.091332376003265,0.011586333625019,0.015118987299502,-0.158441707491875));
res += mul(Get(s0,dx,0), float4x4(0.091882564127445,0.068690538406372,-0.025852674618363,-0.017752572894096,-0.078313179314137,0.049540448933840,0.068120174109936,0.018416415899992,0.001123107271269,-0.097491100430489,-0.136503472924232,-0.039750162512064,-0.022410722449422,0.024903668090701,0.062143489718437,-0.034367185086012));
res += mul(Get(s0,dx,dy), float4x4(0.069275557994843,0.013387556187809,-0.012935159727931,0.009536216035485,0.021853337064385,0.036039803177118,-0.068155825138092,-0.036507491022348,-0.066378228366375,-0.067493088543415,-0.048935398459435,-0.152387917041779,-0.047314282506704,0.051431648433208,-0.001777200726792,-0.015301479026675));
res += mul(Get(s1,-dx,-dy), float4x4(-0.027923801913857,0.056210290640593,0.044799577444792,-0.037969313561916,0.181807979941368,-0.104461386799812,-0.119364209473133,-0.138020887970924,0.008621704764664,-0.101376026868820,-0.004780115094036,0.019586006179452,0.034540865570307,-0.061691556125879,0.151702657341957,0.112915337085724));
res += mul(Get(s1,-dx,0), float4x4(0.096270531415939,-0.044340815395117,0.013260387815535,-0.016009619459510,-0.037899330258369,0.045283991843462,-0.118353083729744,-0.063003547489643,0.097492940723896,-0.060375653207302,0.024068346247077,0.002489099279046,0.105219304561615,-0.123165227472782,0.051301579922438,0.013925690203905));
res += mul(Get(s1,-dx,dy), float4x4(0.167372107505798,-0.053836043924093,0.105158083140850,0.038685683161020,-0.148627236485481,0.021719455718994,-0.047239452600479,-0.021489955484867,0.102674916386604,-0.061309080570936,0.079261809587479,0.089082755148411,0.101298376917839,-0.116033241152763,0.054563052952290,0.073321431875229));
res += mul(Get(s1,0,-dy), float4x4(-0.111042574048042,0.060779631137848,-0.046910278499126,0.080273091793060,0.122022144496441,-0.096450485289097,-0.163731187582016,-0.030190922319889,0.014711372554302,-0.057556323707104,0.042111523449421,-0.050480205565691,-0.080578051507473,0.052142284810543,-0.085012122988701,0.114335522055626));
res += mul(Get(s1,0,0), float4x4(-0.133663251996040,-0.043031331151724,-0.029286623001099,0.087829411029816,-0.029135487973690,-0.056132055819035,-0.051634017378092,-0.071595728397369,-0.002550873439759,0.015540982596576,-0.041297752410173,-0.122189775109291,0.011151691898704,0.084083929657936,0.047110177576542,0.008565402589738));
res += mul(Get(s1,0,dy), float4x4(0.031376987695694,0.017113421112299,0.009924069978297,-0.161737158894539,-0.070398554205894,0.042742677032948,-0.060654602944851,-0.086097039282322,-0.070715911686420,0.027620024979115,-0.075687609612942,-0.099956452846527,-0.041338425129652,0.001219756086357,0.086215414106846,-0.058386046439409));
res += mul(Get(s1,dx,-dy), float4x4(-0.128000855445862,0.121436543762684,-0.078334137797356,0.013974460773170,0.018633499741554,-0.057434681802988,-0.030410612002015,-0.066552311182022,0.030132155865431,-0.022613363340497,0.005442860070616,-0.061789479106665,-0.139420166611671,0.126800119876862,-0.132514849305153,-0.022678555920720));
res += mul(Get(s1,dx,0), float4x4(-0.078617863357067,-0.050577931106091,-0.116238743066788,0.068810075521469,-0.041192915290594,-0.005387224256992,-0.057304892688990,-0.081341363489628,-0.017859987914562,-0.050853479653597,-0.058152802288532,-0.014681858010590,-0.049910597503185,-0.198658332228661,0.030317032709718,-0.046331811696291));
res += mul(Get(s1,dx,dy), float4x4(0.067617952823639,0.038436125963926,-0.128079190850258,-0.198305532336235,-0.029575092718005,0.055290788412094,-0.008859156630933,-0.109791129827499,-0.067603036761284,-0.102945484220982,-0.016780270263553,-0.037553757429123,-0.006137666758150,-0.076429925858974,0.147160336375237,0.094001904129982));
res += mul(Get(s2,-dx,-dy), float4x4(0.075748823583126,0.015284900553524,0.009004193358123,0.160867959260941,-0.067454576492310,-0.004434363450855,-0.116434633731842,-0.108672320842743,-0.012710058130324,-0.015475953929126,-0.079249486327171,0.119707524776459,-0.052970129996538,-0.074136115610600,0.047793321311474,0.042059712111950));
res += mul(Get(s2,-dx,0), float4x4(0.111517027020454,-0.060966629534960,-0.028590613976121,-0.015372531488538,-0.067379079759121,0.010635300539434,-0.077439904212952,-0.056466378271580,0.051708556711674,0.055350955575705,-0.038712371140718,0.071412973105907,-0.048164758831263,-0.101475708186626,0.073125548660755,-0.027847159653902));
res += mul(Get(s2,-dx,dy), float4x4(0.009539839811623,-0.057163085788488,-0.085191473364830,0.004798468202353,0.036443483084440,-0.053585495799780,-0.021435499191284,-0.067215181887150,-0.040104147046804,-0.032421804964542,-0.052658956497908,-0.031243044883013,0.116571627557278,0.033602692186832,-0.008269646205008,-0.051650498062372));
res += mul(Get(s2,0,-dy), float4x4(0.065707430243492,-0.031156465411186,-0.128837898373604,-0.040811613202095,0.148590564727783,-0.090064048767090,-0.057368703186512,-0.009152998216450,-0.086133211851120,0.029995329678059,0.005205893889070,-0.045188635587692,-0.078052043914795,0.230305075645447,0.068004213273525,0.032382659614086));
res += mul(Get(s2,0,0), float4x4(0.166668862104416,0.013003780506551,0.013863094151020,-0.101552389562130,0.015404913574457,0.077872380614281,-0.039309319108725,0.005777165759355,0.104364372789860,-0.087725520133972,-0.032758336514235,0.031467009335756,-0.073522970080376,0.005642623640597,0.252854526042938,-0.009971260093153));
res += mul(Get(s2,0,dy), float4x4(0.025400705635548,-0.047331076115370,-0.116346284747124,-0.063422039151192,0.015545158647001,0.045575670897961,0.070029638707638,0.032740429043770,0.000727178121451,-0.017971623688936,-0.018934851512313,0.075153142213821,0.220222860574722,-0.029995055869222,-0.151034668087959,0.184682354331017));
res += mul(Get(s2,dx,-dy), float4x4(-0.016263160854578,0.033878423273563,0.102774187922478,0.081841289997101,0.130911216139793,-0.120326243340969,-0.112211860716343,0.049647711217403,-0.124215193092823,0.107568547129631,0.108653075993061,0.018338650465012,0.001880625262856,-0.125039979815483,0.007965807802975,-0.035506043583155));
res += mul(Get(s2,dx,0), float4x4(0.014326038770378,-0.040686961263418,-0.045971509069204,-0.031756538897753,-0.088819682598114,0.059437107294798,-0.098655410110950,0.047741938382387,0.010443195700645,0.015083454549313,-0.085902869701385,0.143670842051506,0.032144796103239,-0.062051348388195,0.011609336361289,-0.014077863655984));
res += mul(Get(s2,dx,dy), float4x4(-0.032953470945358,-0.130439296364784,-0.074489116668701,-0.008665172383189,0.004162963014096,-0.002727916697040,-0.067581854760647,0.101024001836777,0.097219906747341,-0.028660455718637,-0.101507700979710,0.086757719516754,0.029709395021200,0.042240239679813,-0.009453854523599,-0.041317664086819));
res += mul(Get(s3,-dx,-dy), float4x4(-0.049916356801987,0.227189511060715,-0.027133131399751,0.101682722568512,0.103536181151867,0.036150742322206,0.018011951819062,0.034932333976030,0.029084291309118,0.160273134708405,-0.189187765121460,0.056397147476673,-0.132206484675407,0.028164535760880,0.029639827087522,0.072901278734207));
res += mul(Get(s3,-dx,0), float4x4(-0.076643064618111,0.099794432520866,-0.008939851075411,0.023995799943805,0.134680390357971,-0.076872929930687,0.034351583570242,-0.222670227289200,-0.082122988998890,0.061895877122879,-0.240708395838737,0.022579077631235,-0.016464775428176,-0.023402892053127,0.083575300872326,0.096755199134350));
res += mul(Get(s3,-dx,dy), float4x4(-0.024990187957883,-0.005705228075385,0.131417632102966,0.011435165069997,0.201145797967911,-0.070981346070766,-0.054135188460350,0.134348690509796,-0.075875185430050,0.051908340305090,0.083523698151112,-0.150982871651649,0.039076287299395,-0.027811741456389,-0.069324217736721,0.018144872039557));
res += mul(Get(s3,0,-dy), float4x4(-0.038664549589157,0.028599753975868,0.043439012020826,0.106007590889931,0.006286244373769,0.045253183692694,-0.042972300201654,0.008181310258806,0.124438755214214,-0.120788142085075,-0.092961959540844,0.013882425613701,0.005112821701914,0.028914676979184,0.111770339310169,0.079181097447872));
res += mul(Get(s3,0,0), float4x4(-0.081979654729366,-0.045623358339071,0.084246203303337,-0.004027499817312,-0.059482757002115,0.015911765396595,0.050701171159744,-0.061356332153082,0.031193351373076,0.004981894046068,-0.017576675862074,-0.015849033370614,-0.036252215504646,-0.136230796575546,0.076075695455074,0.286345988512039));
res += mul(Get(s3,0,dy), float4x4(-0.085202597081661,0.044421844184399,0.098860219120979,-0.028341427445412,0.065471291542053,0.053174737840891,-0.056504532694817,0.023435996845365,-0.061963930726051,-0.052036155015230,-0.002019188599661,-0.063947372138500,-0.013397653587162,0.023197988048196,0.070751048624516,0.031694687902927));
res += mul(Get(s3,dx,-dy), float4x4(0.092173866927624,-0.045814357697964,0.049172554165125,-0.006884858012199,-0.087881304323673,0.023161100223660,0.097973980009556,-0.094660125672817,0.041482113301754,0.036295928061008,-0.089324764907360,-0.003769784467295,-0.108009815216064,0.043379060924053,0.005095831118524,0.007670221384615));
res += mul(Get(s3,dx,0), float4x4(0.183335691690445,0.020186716690660,0.076263479888439,0.054913375526667,-0.121366150677204,0.093304872512817,0.071996062994003,-0.086712181568146,-0.080474898219109,-0.058778218924999,-0.153565376996994,-0.046412803232670,-0.032645501196384,0.038834322243929,0.030466850847006,0.211897552013397));
res += mul(Get(s3,dx,dy), float4x4(0.238482549786568,-0.040992628782988,0.004598470870405,0.093447424471378,-0.038196220993996,0.054619047790766,-0.036596640944481,0.154355123639107,0.012531727552414,-0.167534917593002,0.023804394528270,-0.061085697263479,-0.017460361123085,0.073901332914829,0.096317701041698,0.088845796883106));
return max(float4(0,0,0,0), res);
}
