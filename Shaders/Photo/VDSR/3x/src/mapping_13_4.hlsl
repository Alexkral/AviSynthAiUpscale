sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.097914755344391,0.082679979503155,0.009276987984776,0.089396841824055,-0.050274405628443,0.106332890689373,-0.013210512697697,-0.112380094826221,-0.041151355952024,-0.027145441621542,0.024279093369842,-0.016963120549917,-0.077073864638805,-0.050260186195374,-0.071620747447014,0.008674437180161));
res += mul(Get(s0,-dx,0), float4x4(-0.100596189498901,0.043860338628292,0.004912682808936,-0.026254966855049,-0.041075371205807,0.034981343895197,-0.012076850049198,0.070806927978992,-0.108983829617500,0.075471214950085,-0.150587409734726,-0.026494309306145,0.099466465413570,-0.163415789604187,-0.065407343208790,-0.047237835824490));
res += mul(Get(s0,-dx,dy), float4x4(-0.043756276369095,0.093000285327435,0.031315706670284,0.010190558619797,-0.024851862341166,0.076430343091488,-0.037576064467430,-0.099580392241478,-0.023168755695224,0.131770834326744,0.002760523231700,-0.054198224097490,0.128777429461479,-0.030755139887333,-0.092386402189732,0.101586475968361));
res += mul(Get(s0,0,-dy), float4x4(-0.011043585836887,-0.043362226337194,-0.089121051132679,0.038529310375452,-0.001961709233001,-0.079087935388088,0.111080527305603,-0.109355881810188,-0.083968430757523,-0.155115291476250,0.040107745677233,0.097724884748459,0.023263651877642,-0.098192222416401,-0.082437850534916,-0.048775386065245));
res += mul(Get(s0,0,0), float4x4(-0.042220756411552,-0.099395200610161,-0.159425586462021,-0.020191170275211,0.069661714136600,-0.114881016314030,-0.034809332340956,0.069807626307011,-0.019277215003967,-0.111112520098686,-0.111332826316357,0.061125606298447,-0.005812801420689,-0.088656716048717,-0.033760230988264,-0.088803745806217));
res += mul(Get(s0,0,dy), float4x4(0.009085856378078,0.009544371627271,-0.048874806612730,-0.172624766826630,0.054360203444958,0.052545547485352,0.034645099192858,-0.053932037204504,-0.104256942868233,0.023016357794404,-0.037840448319912,-0.040287397801876,0.028906935825944,-0.089324451982975,-0.050328943878412,0.165115877985954));
res += mul(Get(s0,dx,-dy), float4x4(0.150889381766319,-0.037869349122047,0.011151867918670,-0.079393744468689,-0.072225093841553,0.099551610648632,0.170810103416443,-0.009408712387085,-0.044097639620304,-0.040390037000179,0.007372457999736,0.015139138326049,-0.123849727213383,-0.045889858156443,-0.048171781003475,-0.025187173858285));
res += mul(Get(s0,dx,0), float4x4(0.135281413793564,-0.055152423679829,0.108300082385540,0.025215420871973,-0.088577397167683,0.096275486052036,0.142816647887230,0.299728214740753,0.045898370444775,-0.046350911259651,-0.066022992134094,0.179990306496620,-0.149063035845757,-0.008037079125643,-0.058755997568369,-0.020016213878989));
res += mul(Get(s0,dx,dy), float4x4(0.100032836198807,-0.066849619150162,0.060899183154106,-0.024746447801590,-0.049890697002411,0.153757676482201,0.057563565671444,-0.065848171710968,-0.073377311229706,0.082509756088257,0.079383999109268,-0.041218910366297,-0.080321446061134,0.241251245141029,-0.085661105811596,0.125993296504021));
res += mul(Get(s1,-dx,-dy), float4x4(0.024026311933994,-0.028780113905668,0.114088162779808,-0.008402223698795,-0.073789641261101,-0.059607353061438,-0.012335532344878,-0.002210871782154,0.003791283583269,0.166013374924660,-0.009758338332176,-0.134831607341766,-0.129010856151581,-0.049824107438326,-0.093871481716633,0.017792960628867));
res += mul(Get(s1,-dx,0), float4x4(-0.027550030499697,0.042209226638079,0.112789079546928,-0.017188621684909,-0.049847684800625,-0.131142258644104,-0.013814309611917,0.136147692799568,0.005125650670379,0.157658666372299,0.059109471738338,-0.074150271713734,-0.004694498144090,-0.033771332353354,-0.126679494976997,0.142198264598846));
res += mul(Get(s1,-dx,dy), float4x4(0.149903774261475,-0.059204205870628,0.130793571472168,0.027014445513487,0.001042995252647,-0.064606137573719,-0.106966949999332,0.108052194118500,-0.012391456402838,0.196026265621185,0.043098244816065,-0.014813764020801,-0.091418914496899,-0.086850397288799,-0.053683213889599,-0.022032441571355));
res += mul(Get(s1,0,-dy), float4x4(-0.019898423925042,0.124559372663498,0.029909627512097,0.013445741496980,-0.116002939641476,0.014595165848732,-0.119445241987705,0.055978126823902,-0.011679655872285,-0.003379126545042,-0.096014320850372,0.206565052270889,0.140173003077507,-0.009032987058163,-0.114999353885651,-0.081137187778950));
res += mul(Get(s1,0,0), float4x4(0.040645655244589,0.059151910245419,0.132985904812813,0.007887308485806,0.024696081876755,-0.073990687727928,-0.087018080055714,-0.053329899907112,-0.044682160019875,-0.008054208941758,0.033773768693209,-0.057212144136429,-0.002021092921495,0.033385980874300,-0.112671643495560,0.091844983398914));
res += mul(Get(s1,0,dy), float4x4(-0.020964622497559,0.076104186475277,0.132967069745064,0.052340012043715,0.035082861781120,0.081861227750778,-0.057972751557827,0.030015027150512,-0.070396877825260,0.020182296633720,-0.064552396535873,-0.017139637842774,-0.111358597874641,-0.031787931919098,-0.037710871547461,0.013612376525998));
res += mul(Get(s1,dx,-dy), float4x4(0.234927028417587,0.044457212090492,0.059063561260700,0.027325021103024,0.087809674441814,-0.095624633133411,-0.127972468733788,0.063500016927719,-0.031731534749269,-0.043656744062901,-0.054181043058634,0.062292233109474,0.070499069988728,0.041733574122190,-0.010907452553511,0.014042395167053));
res += mul(Get(s1,dx,0), float4x4(0.136713087558746,0.044249836355448,0.001003757119179,-0.026811769232154,0.078366085886955,-0.039894752204418,-0.098817057907581,0.076269991695881,0.056358091533184,0.068132117390633,0.089389510452747,-0.034576088190079,-0.030686717480421,0.015655070543289,0.016848228871822,0.104419484734535));
res += mul(Get(s1,dx,dy), float4x4(0.036074712872505,0.071925640106201,0.069458194077015,0.017611246556044,0.113143377006054,0.041798241436481,-0.140042692422867,-0.029706889763474,0.049215964972973,0.061557669192553,0.143527209758759,0.042765356600285,-0.112999588251114,-0.033851735293865,0.080218799412251,0.165715336799622));
res += mul(Get(s2,-dx,-dy), float4x4(0.014389275573194,-0.015563208609819,0.005957623943686,0.139635324478149,0.024396430701017,-0.038571599870920,0.002668916014954,-0.025483071804047,0.051736686378717,0.040672302246094,-0.040359698235989,-0.166528373956680,-0.052861209958792,-0.045279309153557,-0.010007077828050,-0.070229396224022));
res += mul(Get(s2,-dx,0), float4x4(-0.079535201191902,-0.126988425850868,0.001161305583082,-0.055822346359491,-0.068613484501839,0.003228670917451,0.006294380873442,0.043664712458849,-0.030307376757264,0.083842806518078,-0.000190646591363,-0.086950510740280,0.001793221454136,-0.007508890703321,0.014586877077818,-0.122465364634991));
res += mul(Get(s2,-dx,dy), float4x4(0.056627042591572,-0.055147476494312,0.169818416237831,-0.034576959908009,-0.106947652995586,0.003560649231076,-0.114352516829967,-0.029230272397399,0.007022436708212,0.099303990602493,-0.048876181244850,0.104374065995216,0.015424269251525,0.059231176972389,0.121065907180309,-0.098390862345695));
res += mul(Get(s2,0,-dy), float4x4(0.034117553383112,0.047215994447470,0.136452957987785,0.144178271293640,0.039812043309212,-0.115642368793488,-0.031243709847331,0.142410159111023,0.141467794775963,0.116837419569492,0.015512190759182,-0.105847835540771,0.015981499105692,0.020761203020811,0.013551437295973,0.203440487384796));
res += mul(Get(s2,0,0), float4x4(-0.028951449319720,-0.049417037516832,0.194564819335938,-0.059589818120003,0.019560696557164,-0.017706733196974,-0.053777769207954,0.274531871080399,0.029085120186210,0.048215344548225,0.023239614441991,-0.042904723435640,0.019808234646916,0.072565212845802,0.033123247325420,0.211653545498848));
res += mul(Get(s2,0,dy), float4x4(0.026024112477899,-0.017204999923706,0.107882536947727,-0.022750884294510,-0.039679564535618,-0.078630216419697,-0.105302788317204,0.042302116751671,0.107360646128654,0.063038796186447,0.066336333751678,0.095183148980141,0.012799025513232,0.129217162728310,0.155511796474457,0.276218950748444));
res += mul(Get(s2,dx,-dy), float4x4(-0.013694184832275,-0.029033226892352,-0.024244565516710,-0.053345058113337,-0.027333775535226,-0.012509985826910,0.012382688932121,-0.047516334801912,0.074044063687325,0.077248409390450,-0.053143475204706,-0.232286661863327,0.062713213264942,-0.025511566549540,0.107404939830303,-0.079837605357170));
res += mul(Get(s2,dx,0), float4x4(0.030883593484759,-0.059344232082367,0.074189379811287,-0.097927033901215,0.014883015304804,0.009192499332130,-0.000532293168362,0.228343024849892,-0.024243790656328,0.055354464799166,-0.048988237977028,-0.183617383241653,0.038202438503504,-0.053655229508877,0.054513514041901,0.042119424790144));
res += mul(Get(s2,dx,dy), float4x4(0.071702040731907,-0.020266812294722,0.112504735589027,-0.038106814026833,-0.029737532138824,0.041730195283890,0.029031671583652,-0.011136263608932,0.006772535853088,-0.044764079153538,-0.026447633281350,0.021982891485095,-0.028908165171742,0.048966147005558,-0.003262023674324,0.044728636741638));
res += mul(Get(s3,-dx,-dy), float4x4(-0.034207817167044,0.005079481285065,0.173502489924431,0.089492172002792,0.041604377329350,-0.125907480716705,-0.141762122511864,0.032766785472631,-0.113659456372261,0.077280737459660,-0.030829451978207,-0.121969886124134,0.054094418883324,-0.017060149461031,0.006425592117012,-0.114063195884228));
res += mul(Get(s3,-dx,0), float4x4(0.090660810470581,0.012848570011556,0.012269623577595,-0.078904218971729,-0.059590939432383,-0.098636098206043,-0.184665620326996,0.096693173050880,-0.097365573048592,0.005227293353528,0.047241475433111,-0.060303177684546,0.101268723607063,-0.145760729908943,-0.027514999732375,-0.054630625993013));
res += mul(Get(s3,-dx,dy), float4x4(0.118620835244656,-0.031225569546223,-0.003502656007186,-0.045734863728285,0.019875518977642,-0.050217535346746,-0.255383640527725,-0.078361511230469,0.034474533051252,-0.065418064594269,0.009811832569540,-0.029679344967008,0.028866197913885,0.040383089333773,-0.012074844911695,-0.081978745758533));
res += mul(Get(s3,0,-dy), float4x4(-0.057155825197697,-0.011632382869720,0.101900726556778,0.124893113970757,0.025103259831667,-0.002166927559301,-0.080679625272751,0.005456418264657,-0.061886738985777,-0.079508937895298,-0.025435261428356,-0.061542145907879,-0.023416744545102,-0.029455563053489,-0.042714267969131,-0.005631023552269));
res += mul(Get(s3,0,0), float4x4(0.002068364992738,-0.042757663875818,0.004892045166343,-0.104234166443348,-0.039090506732464,0.042297385632992,-0.066275820136070,0.276655346155167,-0.078901261091232,-0.037659708410501,-0.030631482601166,-0.255656510591507,-0.031779438257217,-0.046956606209278,-0.034066393971443,0.039313305169344));
res += mul(Get(s3,0,dy), float4x4(0.211889386177063,0.131737589836121,-0.127759560942650,-0.058832839131355,-0.025393499061465,-0.051654193550348,-0.076872512698174,-0.082150988280773,0.053695097565651,0.129406377673149,0.095528163015842,-0.115503817796707,-0.078756086528301,0.000784950505476,0.078655064105988,-0.040995169430971));
res += mul(Get(s3,dx,-dy), float4x4(-0.095131650567055,-0.010428279638290,0.075479567050934,-0.024864982813597,-0.114200055599213,0.042851731181145,-0.033113978803158,-0.010098309256136,0.218966364860535,-0.093567900359631,0.014622753486037,-0.032979983836412,0.105741873383522,0.032960772514343,-0.007275508251041,-0.084293514490128));
res += mul(Get(s3,dx,0), float4x4(0.006643678527325,0.017144354060292,0.077427767217159,0.011003674007952,-0.109787359833717,0.190558627247810,-0.025779526680708,0.095590375363827,0.089079678058624,-0.128881379961967,0.240648090839386,-0.037547152489424,0.060223884880543,0.016931727528572,-0.006290643010288,0.003872445086017));
res += mul(Get(s3,dx,dy), float4x4(0.099867932498455,0.129113778471947,0.015227093361318,-0.058587182313204,-0.156405866146088,0.062689147889614,-0.045331485569477,-0.153083235025406,-0.012929773889482,0.125697001814842,0.030982000753284,-0.063094839453697,0.071417011320591,0.118035003542900,0.092310987412930,0.014095984399319));
return max(float4(0,0,0,0), res);
}
