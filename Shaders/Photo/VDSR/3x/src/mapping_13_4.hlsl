sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.086104422807693,-0.109578378498554,-0.126894488930702,-0.115614622831345,0.041771039366722,-0.059787970036268,-0.093325227499008,-0.223808929324150,0.146663263440132,0.036193788051605,0.018229002133012,-0.080261081457138,-0.082732468843460,-0.008044790476561,-0.091859012842178,-0.004935638047755));
res += mul(Get(s0,-dx,0), float4x4(-0.053973272442818,0.052898012101650,0.152201130986214,0.073701620101929,0.050752203911543,-0.123497895896435,-0.140369802713394,-0.183385327458382,0.088675685226917,0.063441157341003,-0.066475898027420,0.093078203499317,0.019490851089358,-0.115030445158482,0.023752501234412,-0.182729348540306));
res += mul(Get(s0,-dx,dy), float4x4(-0.095782861113548,-0.075218617916107,-0.034330599009991,-0.002475343644619,-0.078762002289295,-0.015520254150033,-0.087309010326862,-0.084183938801289,0.079285681247711,-0.098384089767933,0.073298208415508,-0.110229656100273,-0.081485994160175,-0.087840311229229,-0.127550050616264,0.030651487410069));
res += mul(Get(s0,0,-dy), float4x4(-0.004982345737517,0.313727140426636,0.127216577529907,0.062365684658289,0.198657184839249,-0.016211206093431,0.015862207859755,0.148922368884087,-0.054905764758587,0.039246842265129,0.137309506535530,0.079334728419781,-0.200554966926575,0.047308947890997,0.074164770543575,-0.125073269009590));
res += mul(Get(s0,0,0), float4x4(-0.037056747823954,0.009812540374696,-0.083943925797939,0.004851199686527,-0.087938547134399,0.067205026745796,0.087395675480366,-0.001653182669543,0.070044144988060,0.215284466743469,0.045757297426462,-0.015287077985704,0.222145497798920,0.141292721033096,-0.012786709703505,-0.050877675414085));
res += mul(Get(s0,0,dy), float4x4(-0.036674629896879,0.090609364211559,-0.019056892022491,-0.017203878611326,0.046201813966036,0.052718427032232,0.021234454587102,0.173685923218727,0.040864456444979,0.066425286233425,-0.063953876495361,0.115694433450699,0.019566239789128,-0.021448317915201,-0.144621819257736,0.160814583301544));
res += mul(Get(s0,dx,-dy), float4x4(-0.010530018247664,-0.015030273236334,0.013412283733487,0.184303030371666,-0.079018458724022,-0.119471304118633,0.012620254419744,0.040248636156321,0.000297175924061,0.036999005824327,-0.001420120941475,0.027675809338689,0.210037961602211,0.021135218441486,0.005035255569965,-0.190871939063072));
res += mul(Get(s0,dx,0), float4x4(0.014833646826446,0.114800088107586,0.015252278186381,0.031004957854748,-0.060932405292988,-0.028110062703490,-0.095350906252861,0.020681897178292,-0.008744067512453,-0.121028095483780,-0.073342859745026,-0.026022380217910,-0.052617363631725,0.061755135655403,-0.068094469606876,0.062629625201225));
res += mul(Get(s0,dx,dy), float4x4(0.007685251533985,0.027436921373010,-0.123192779719830,-0.039853569120169,-0.108352527022362,0.100141853094101,-0.050044320523739,0.007189678028226,0.174546569585800,0.073545850813389,0.139624789357185,0.049580879509449,-0.065154217183590,-0.075604319572449,0.024356823414564,0.200079098343849));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002410323824733,-0.113027870655060,0.013913792558014,0.166764497756958,0.123818881809711,-0.109779104590416,0.063425526022911,0.105936199426651,-0.073501929640770,0.141121432185173,0.055661331862211,-0.112899027764797,0.055303473025560,-0.192439869046211,0.120744898915291,-0.034614030271769));
res += mul(Get(s1,-dx,0), float4x4(0.160884991288185,-0.013652931898832,0.056444235146046,0.050073090940714,0.050965264439583,-0.046799987554550,0.041929230093956,-0.051874514669180,0.115668974816799,0.023050919175148,-0.043390288949013,0.032604567706585,-0.045211263000965,0.082323357462883,0.059380371123552,0.151449292898178));
res += mul(Get(s1,-dx,dy), float4x4(0.044889196753502,0.088337339460850,0.074362255632877,0.122986756265163,0.048038449138403,0.095549397170544,0.071078442037106,-0.040135238319635,0.213395550847054,-0.079229846596718,0.014952379278839,-0.100423052906990,0.177274957299232,-0.095717489719391,-0.181187197566032,0.131653144955635));
res += mul(Get(s1,0,-dy), float4x4(-0.002083167666569,-0.043751500546932,0.057910084724426,-0.071671910583973,-0.012636148370802,-0.016057908535004,0.063734307885170,0.169944286346436,0.183216005563736,-0.088932834565639,-0.001667162170634,-0.001887066871859,0.003292723093182,-0.080890037119389,-0.003708314849064,-0.193064481019974));
res += mul(Get(s1,0,0), float4x4(-0.040984224528074,-0.107740610837936,0.060399308800697,-0.100594773888588,-0.003346177749336,0.030927948653698,-0.063146002590656,-0.032462012022734,0.035906221717596,0.041454300284386,-0.100379161536694,-0.092653475701809,-0.194253131747246,-0.169135719537735,0.231543645262718,-0.010671647265553));
res += mul(Get(s1,0,dy), float4x4(0.022798556834459,-0.150149062275887,-0.040917985141277,0.105617508292198,0.009009868837893,-0.040882900357246,0.017309673130512,-0.148360878229141,0.168439760804176,0.127119168639183,-0.058199502527714,0.064765684306622,-0.235230997204781,-0.076840497553349,-0.150100350379944,0.156511500477791));
res += mul(Get(s1,dx,-dy), float4x4(-0.075981728732586,0.060622241348028,-0.029117031022906,0.056939363479614,0.039143186062574,-0.119807749986649,-0.012829052284360,0.072998844087124,-0.006375046446919,-0.066528797149658,-0.041102468967438,-0.006149105727673,-0.073698848485947,0.128297537565231,0.217239171266556,0.039133001118898));
res += mul(Get(s1,dx,0), float4x4(0.061456445604563,0.098820902407169,-0.022359823808074,-0.035556569695473,0.065815478563309,-0.215993955731392,0.023321578279138,-0.065235711634159,-0.173994958400726,0.032150756567717,-0.028204729780555,0.111562095582485,0.056023597717285,0.031271893531084,-0.019722996279597,0.119693636894226));
res += mul(Get(s1,dx,dy), float4x4(0.036451529711485,0.024497035890818,-0.040655039250851,-0.002866199705750,0.043716721236706,-0.003574274247512,-0.033343005925417,0.073177114129066,-0.039637133479118,-0.086780853569508,0.052363552153111,0.082347400486469,0.012995301745832,-0.335773468017578,-0.019676245748997,0.052465092390776));
res += mul(Get(s2,-dx,-dy), float4x4(0.154233127832413,0.000278616935248,-0.117822788655758,-0.002569965319708,-0.055329497903585,-0.161721870303154,0.035714663565159,0.076254732906818,0.002877054037526,-0.000513869221322,0.057965781539679,0.034873407334089,0.098087251186371,-0.029730884358287,0.031602494418621,0.195584550499916));
res += mul(Get(s2,-dx,0), float4x4(-0.106543652713299,0.147395864129066,-0.030790245160460,-0.097524002194405,-0.149066165089607,0.063076324760914,-0.036675676703453,-0.024614354595542,0.115857981145382,-0.090414538979530,0.076441407203674,0.220078423619270,-0.052023652940989,-0.230097725987434,0.057795915752649,0.059250406920910));
res += mul(Get(s2,-dx,dy), float4x4(0.255107671022415,-0.000824758550152,-0.085406087338924,-0.124850429594517,-0.035934261977673,-0.154595822095871,-0.029130624607205,-0.039286848157644,0.082766890525818,-0.074399486184120,-0.036011468619108,0.096872828900814,-0.017285797744989,-0.091426908969879,-0.111394241452217,0.187998458743095));
res += mul(Get(s2,0,-dy), float4x4(0.089366883039474,-0.175479158759117,-0.002344507025555,-0.298168748617172,0.028692398220301,-0.079664073884487,0.010311038233340,-0.001305275596678,0.100758142769337,0.103694558143616,0.107172511518002,0.050573982298374,0.017667263746262,-0.004214222542942,0.069471538066864,-0.051304284483194));
res += mul(Get(s2,0,0), float4x4(-0.120064921677113,0.034235946834087,0.041820924729109,-0.131005868315697,-0.006909089162946,-0.208001285791397,-0.034254752099514,-0.121553689241409,-0.223834529519081,0.017939981073141,-0.060000140219927,-0.064217552542686,0.168015852570534,0.152562424540520,-0.133391097187996,0.131866395473480));
res += mul(Get(s2,0,dy), float4x4(-0.061994280666113,0.068666562438011,-0.065796695649624,-0.100177690386772,0.021464584395289,-0.214856177568436,0.189186066389084,-0.109434872865677,-0.120388694107533,0.154404878616333,0.029529096558690,-0.030090663582087,0.245840847492218,-0.144531875848770,-0.263047724962234,-0.023857088759542));
res += mul(Get(s2,dx,-dy), float4x4(-0.037222664803267,-0.023112695664167,-0.031599178910255,-0.055051866918802,0.218793094158173,0.212582796812057,-0.048735655844212,0.069511517882347,-0.043263431638479,-0.056033637374640,0.057680249214172,-0.114331230521202,-0.125178948044777,0.029828907921910,0.096009187400341,-0.024692215025425));
res += mul(Get(s2,dx,0), float4x4(-0.026818633079529,0.123677566647530,0.114429496228695,-0.013184235431254,-0.095275335013866,0.002512009348720,0.033419169485569,0.097164332866669,0.115981914103031,0.058528091758490,0.028852742165327,-0.060325726866722,0.148363202810287,0.230500668287277,-0.138198018074036,-0.093298256397247));
res += mul(Get(s2,dx,dy), float4x4(0.073719777166843,0.054553203284740,0.066686831414700,-0.051432356238365,0.048592757433653,0.089760363101959,-0.089110784232616,-0.038816895335913,-0.157180219888687,-0.176281765103340,-0.025944465771317,0.110444143414497,0.205625027418137,0.027358345687389,-0.110285587608814,0.137739121913910));
res += mul(Get(s3,-dx,-dy), float4x4(0.014268219470978,-0.016605088487267,-0.068388409912586,-0.063879474997520,0.068665213882923,-0.081520974636078,0.139916092157364,0.130790039896965,-0.087949611246586,-0.077137902379036,-0.024951428174973,-0.008420151658356,-0.096364267170429,0.034648582339287,0.041501726955175,0.006878655869514));
res += mul(Get(s3,-dx,0), float4x4(-0.025149822235107,0.016239251941442,-0.074197545647621,0.164934054017067,-0.054747857153416,0.047069255262613,-0.098345354199409,0.184639707207680,-0.122748427093029,-0.177052766084671,-0.055956259369850,-0.002385402098298,-0.075978115200996,-0.074805863201618,-0.040294498205185,0.041891451925039));
res += mul(Get(s3,-dx,dy), float4x4(-0.016321161761880,-0.140615507960320,-0.121898688375950,-0.046553257852793,0.130983769893646,0.115876570343971,0.065259292721748,-0.083224914968014,0.016814943403006,0.056217975914478,-0.103718370199203,0.010154380463064,0.088031858205795,0.036386907100677,-0.109439156949520,-0.177186802029610));
res += mul(Get(s3,0,-dy), float4x4(-0.079623930156231,-0.058520726859570,0.091077029705048,0.099815547466278,-0.079983979463577,-0.073144949972630,0.020909065380692,-0.094784162938595,0.251167148351669,0.117001548409462,0.060540936887264,-0.056735355407000,-0.031627539545298,0.220423296093941,0.021386424079537,0.138701871037483));
res += mul(Get(s3,0,0), float4x4(0.026655936613679,0.097825773060322,-0.074259415268898,-0.133939817547798,-0.022599978372455,-0.038134172558784,-0.059994556009769,-0.037850987166166,0.004044493194669,-0.065980017185211,0.022066975012422,0.082526840269566,0.093025788664818,0.123752400279045,0.103895619511604,-0.058161396533251));
res += mul(Get(s3,0,dy), float4x4(-0.025587845593691,0.047157250344753,0.133675009012222,0.084453538060188,-0.066931851208210,0.102037154138088,-0.095951817929745,-0.100892603397369,0.004540015012026,-0.176341205835342,-0.121821075677872,0.149863913655281,0.048103243112564,0.154490187764168,0.071367695927620,-0.095155499875546));
res += mul(Get(s3,dx,-dy), float4x4(-0.021276313811541,-0.023994227871299,0.048160783946514,0.191152855753899,-0.059613518416882,-0.113053575158119,-0.127625778317451,-0.138844355940819,-0.093823187053204,0.255845904350281,-0.075989760458469,0.078087426722050,-0.042193062603474,-0.100268706679344,0.014689695090055,0.087407603859901));
res += mul(Get(s3,dx,0), float4x4(0.031694862991571,-0.124243296682835,0.013872304931283,0.001074895844795,-0.079567402601242,0.036095749586821,-0.154059469699860,0.109173931181431,0.039808500558138,-0.113711647689342,0.056991256773472,0.103729791939259,0.080177880823612,-0.004742407705635,0.101282611489296,0.036215279251337));
res += mul(Get(s3,dx,dy), float4x4(0.203979954123497,-0.056232132017612,-0.118797563016415,0.002160377567634,0.226863488554955,-0.029878491535783,0.049264170229435,0.210742846131325,-0.083233058452606,-0.017523838207126,0.053751207888126,0.046774167567492,-0.048534866422415,0.051199775189161,0.052868977189064,-0.067369304597378));
return max(float4(0,0,0,0), res);
}
