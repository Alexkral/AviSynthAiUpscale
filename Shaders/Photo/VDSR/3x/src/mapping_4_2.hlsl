sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001697314903140,0.052671361714602,0.026562452316284,-0.008713604882360,0.111239746212959,0.085321880877018,-0.100959837436676,0.071124754846096,0.098896510899067,0.121685124933720,-0.134819343686104,-0.086791791021824,0.023052299395204,0.269749790430069,0.081600964069366,-0.029730655252934));
res += mul(Get(s0,-dx,0), float4x4(0.049168270081282,-0.036716613918543,0.043868690729141,0.136065840721130,0.071879528462887,0.029961310327053,-0.043261926621199,-0.045618604868650,-0.058968886733055,-0.014817387796938,0.213876232504845,0.041499514132738,-0.094988793134689,0.045828949660063,0.006671690382063,-0.133295699954033));
res += mul(Get(s0,-dx,dy), float4x4(-0.178106591105461,-0.006824759300798,0.228348165750504,0.031179677695036,0.061033539474010,-0.044846504926682,-0.035807892680168,-0.159772396087646,0.132941454648972,0.076121740043163,-0.163908869028091,0.143025577068329,-0.084362186491489,0.067408412694931,0.095215283334255,-0.151790305972099));
res += mul(Get(s0,0,-dy), float4x4(0.060561861842871,-0.014210689812899,0.119793884456158,0.036990329623222,0.058010455220938,-0.047696251422167,-0.114191234111786,-0.036279071122408,0.024199772626162,-0.064104780554771,0.123512968420982,0.023974848911166,0.160967707633972,0.236458435654640,-0.212814912199974,0.104429744184017));
res += mul(Get(s0,0,0), float4x4(0.108469456434250,0.118831329047680,0.040028862655163,0.063581615686417,0.009070471860468,0.025409439578652,0.003458694322035,0.167287319898605,-0.085645712912083,-0.018973831087351,-0.031213143840432,0.007553147617728,-0.009900930337608,0.139466747641563,0.010936065576971,-0.068306572735310));
res += mul(Get(s0,0,dy), float4x4(0.021674713119864,0.088162600994110,0.070851683616638,0.030874287709594,-0.123718529939651,0.030623955652118,0.023198425769806,0.010191712528467,0.067530781030655,0.064475834369659,-0.273398309946060,0.089848272502422,-0.064064607024193,0.056110132485628,0.052842378616333,0.089231744408607));
res += mul(Get(s0,dx,-dy), float4x4(0.038033265620470,0.058989796787500,0.105271779000759,-0.056599237024784,0.138936609029770,-0.034076951444149,0.045362032949924,-0.146340876817703,-0.070291630923748,0.004543457645923,-0.148308351635933,-0.000185310884262,-0.066606588661671,-0.028548203408718,-0.054506942629814,0.075052969157696));
res += mul(Get(s0,dx,0), float4x4(-0.020228877663612,-0.037269212305546,0.119923628866673,0.275465309619904,-0.014486697502434,0.069867081940174,0.191167101264000,-0.052706461399794,0.055312022566795,0.149341270327568,0.087984807789326,-0.137848407030106,-0.069630801677704,0.169017657637596,-0.118887744843960,-0.045063931494951));
res += mul(Get(s0,dx,dy), float4x4(0.141201883554459,0.130812734365463,-0.033333912491798,0.186463579535484,-0.247945114970207,0.102247491478920,-0.141435071825981,-0.024360813200474,-0.011313373222947,0.109939552843571,-0.016822483390570,0.003703545546159,0.018730502575636,-0.095896549522877,0.005494267214090,-0.025642596185207));
res += mul(Get(s1,-dx,-dy), float4x4(0.148128405213356,0.042578827589750,-0.215810164809227,0.191048681735992,-0.061076935380697,0.066165551543236,-0.036348391324282,0.095508694648743,-0.037847816944122,-0.112666003406048,0.087038800120354,-0.085609354078770,-0.003785739652812,-0.095420874655247,-0.050083961337805,-0.046731162816286));
res += mul(Get(s1,-dx,0), float4x4(-0.027357410639524,-0.195729061961174,-0.089865267276764,0.160365790128708,0.078502863645554,-0.100736513733864,0.013968743383884,-0.079957194626331,0.016759214922786,-0.085296116769314,-0.094627857208252,0.016437390819192,-0.049409516155720,0.035370040684938,-0.071877434849739,-0.169282585382462));
res += mul(Get(s1,-dx,dy), float4x4(0.024492787197232,-0.080603286623955,0.136326760053635,-0.047338686883450,0.112858265638351,-0.035534948110580,0.056880347430706,0.040307544171810,0.237453833222389,0.019881371408701,-0.075535640120506,-0.027879705652595,-0.148243561387062,-0.100401662290096,0.044252492487431,-0.164254888892174));
res += mul(Get(s1,0,-dy), float4x4(-0.049808561801910,0.003286801045761,0.011812499724329,-0.093453325331211,0.105613887310028,-0.068322584033012,0.170459941029549,-0.035524580627680,0.100074768066406,-0.057034973055124,-0.294749647378922,0.010767385363579,-0.178552657365799,0.101516909897327,-0.043257214128971,-0.165222734212875));
res += mul(Get(s1,0,0), float4x4(0.103354103863239,-0.139366611838341,-0.110562719404697,0.052711907774210,-0.192049413919449,0.018660375848413,0.134194836020470,-0.048386458307505,-0.029790604487062,-0.032107703387737,-0.083978019654751,0.030124265700579,0.030185423791409,-0.107855014503002,-0.004376620054245,-0.055349338799715));
res += mul(Get(s1,0,dy), float4x4(-0.072999887168407,0.016269834712148,0.056080698966980,-0.003166749142110,-0.019936647266150,-0.159790202975273,0.047100827097893,0.066874854266644,0.067479215562344,0.033660039305687,-0.080386303365231,0.113952621817589,-0.029318643733859,0.218093395233154,-0.139571264386177,-0.103207364678383));
res += mul(Get(s1,dx,-dy), float4x4(-0.162628829479218,0.051704343408346,-0.140393018722534,-0.027354534715414,0.082910664379597,0.121691226959229,0.066528208553791,-0.015587389469147,0.082680255174637,-0.137085556983948,0.042893707752228,-0.111871756613255,-0.334245890378952,-0.024872999638319,0.162717089056969,-0.017983416095376));
res += mul(Get(s1,dx,0), float4x4(-0.180764421820641,0.012356751598418,-0.043675050139427,0.035420224070549,-0.010340706445277,0.066829606890678,-0.192780092358589,0.098142176866531,-0.053309313952923,-0.069445557892323,-0.208345532417297,-0.095384061336517,-0.055569440126419,-0.068411156535149,0.091040402650833,0.090066060423851));
res += mul(Get(s1,dx,dy), float4x4(-0.190069511532784,-0.025615572929382,0.245791435241699,-0.101764239370823,-0.203361526131630,0.199918553233147,0.010905023664236,0.032779943197966,0.014863740652800,-0.065594166517258,-0.141238838434219,0.035344228148460,-0.131394669413567,-0.004035615362227,0.283400744199753,0.116480946540833));
res += mul(Get(s2,-dx,-dy), float4x4(-0.081293769180775,-0.111975774168968,-0.196808665990829,0.081862986087799,0.197825178503990,-0.079149171710014,0.071726545691490,0.079107008874416,0.092184454202652,-0.040415097028017,-0.109016053378582,-0.111978046596050,0.146012723445892,-0.087090224027634,0.153257235884666,0.216926813125610));
res += mul(Get(s2,-dx,0), float4x4(-0.106390751898289,-0.018319470807910,-0.148387774825096,0.181245014071465,-0.035626810044050,-0.008730395697057,0.145904794335365,0.061352521181107,0.037065185606480,-0.072212971746922,0.123816914856434,0.117511004209518,0.138276442885399,0.094093076884747,0.047243401408195,-0.081756189465523));
res += mul(Get(s2,-dx,dy), float4x4(0.191260769963264,-0.182454600930214,-0.111691772937775,0.260700672864914,-0.036175046116114,-0.061123851686716,-0.207539588212967,0.029237253591418,-0.046908482909203,-0.100913695991039,0.108397990465164,-0.017049321904778,-0.122018083930016,0.041294250637293,0.161517858505249,0.042061034590006));
res += mul(Get(s2,0,-dy), float4x4(0.175761878490448,-0.062364634126425,0.125258475542068,-0.146618172526360,-0.012591114267707,0.039085432887077,-0.024345025420189,0.123873956501484,-0.008277500979602,-0.160938933491707,-0.138605773448944,0.061291806399822,-0.018455935642123,-0.003507503075525,-0.250808417797089,0.004551665857434));
res += mul(Get(s2,0,0), float4x4(-0.162853538990021,-0.010217480361462,0.079647161066532,0.208908423781395,0.011046892032027,-0.007625329308212,0.121034301817417,-0.062595754861832,0.101288653910160,-0.102487318217754,-0.135352268815041,0.010028013959527,-0.018829541280866,0.016832042485476,-0.021852215752006,-0.059965252876282));
res += mul(Get(s2,0,dy), float4x4(0.092541798949242,-0.050032116472721,0.080105990171432,0.149118632078171,0.035944413393736,0.136855885386467,-0.052010372281075,0.002866070484743,-0.156133249402046,-0.141948089003563,-0.137459427118301,-0.078595131635666,0.280676662921906,0.101822555065155,-0.018164329230785,-0.053082041442394));
res += mul(Get(s2,dx,-dy), float4x4(0.158908873796463,0.050111927092075,0.003611414460465,-0.046257071197033,-0.125430420041084,0.144000247120857,-0.015236376784742,0.066100433468819,-0.054233070462942,0.100031368434429,-0.051558967679739,0.160058215260506,-0.185766875743866,0.141320675611496,0.118003837764263,-0.029149664565921));
res += mul(Get(s2,dx,0), float4x4(-0.071076922118664,0.056669730693102,0.153404980897903,-0.155054986476898,0.060639362782240,-0.105165421962738,-0.048517096787691,-0.048091229051352,0.046937342733145,-0.196866631507874,-0.198304042220116,-0.130444109439850,-0.085447564721107,0.058371249586344,-0.033183582127094,0.047433346509933));
res += mul(Get(s2,dx,dy), float4x4(-0.000267147988779,-0.029455717653036,-0.159520760178566,0.086387492716312,0.020645797252655,-0.019622698426247,-0.140566751360893,-0.053260426968336,0.065242812037468,-0.199491098523140,0.096715658903122,0.097073882818222,0.087431691586971,0.028004188090563,-0.064452454447746,-0.128024026751518));
res += mul(Get(s3,-dx,-dy), float4x4(0.048600908368826,-0.015852456912398,0.070402152836323,0.000642311759293,0.048768721520901,0.092080302536488,-0.204729899764061,-0.071856766939163,-0.193867459893227,-0.243837371468544,-0.001033319043927,0.151493236422539,-0.200897872447968,-0.141866907477379,0.114638075232506,0.004881273955107));
res += mul(Get(s3,-dx,0), float4x4(-0.033193171024323,0.054155454039574,0.143697887659073,-0.098322391510010,-0.005912841763347,-0.042107112705708,-0.105848744511604,-0.145586177706718,0.137617066502571,-0.079550161957741,-0.066668070852757,0.169604122638702,0.044005356729031,0.163846820592880,-0.116325803101063,-0.140348300337791));
res += mul(Get(s3,-dx,dy), float4x4(-0.121024020016193,-0.188523843884468,-0.113432139158249,-0.226731285452843,-0.154100671410561,-0.215436145663261,-0.241495206952095,-0.051879920065403,-0.242245391011238,0.023676965385675,0.010760762728751,-0.090290352702141,-0.009986078366637,-0.083340831100941,0.099776081740856,-0.051689419895411));
res += mul(Get(s3,0,-dy), float4x4(-0.091480650007725,-0.083326533436775,-0.039541717618704,0.042012095451355,0.042909037321806,-0.050811197608709,0.029432432726026,-0.042702231556177,-0.008030949160457,-0.119864329695702,-0.032420933246613,-0.028617560863495,0.107761383056641,-0.039273187518120,-0.088758952915668,0.085765570402145));
res += mul(Get(s3,0,0), float4x4(-0.155196383595467,0.021360062062740,-0.120649673044682,-0.107553564012051,0.062204055488110,0.004761463962495,-0.002164136618376,-0.172451540827751,-0.057431999593973,0.124046422541142,-0.058026988059282,-0.024117261171341,-0.044891756027937,0.072434820234776,-0.052819080650806,0.070334985852242));
res += mul(Get(s3,0,dy), float4x4(-0.113156192004681,0.093325398862362,0.153409451246262,-0.177224695682526,0.020183295011520,-0.167827054858208,-0.080554775893688,-0.066802330315113,-0.107924513518810,-0.220548808574677,-0.064996913075447,-0.123979769647121,-0.129878535866737,-0.004197122529149,0.031707230955362,0.017523322254419));
res += mul(Get(s3,dx,-dy), float4x4(-0.040918812155724,-0.221136167645454,0.019111894071102,-0.112915158271790,0.131418809294701,-0.114037014544010,0.231083855032921,0.193761169910431,-0.168319121003151,-0.039036650210619,-0.039180211722851,-0.096755027770996,-0.247569143772125,0.087584972381592,0.165791362524033,-0.053222987800837));
res += mul(Get(s3,dx,0), float4x4(0.034520696848631,0.326358497142792,0.082291729748249,0.237033277750015,0.092493362724781,-0.005235911812633,0.229408219456673,0.022840874269605,0.199736475944519,-0.043265290558338,-0.023333219811320,0.026927404105663,-0.096132181584835,0.206807821989059,0.189514741301537,-0.011497551575303));
res += mul(Get(s3,dx,dy), float4x4(-0.322183251380920,0.106949426233768,0.068863034248352,0.141429364681244,-0.210207566618919,-0.053521443158388,0.072223879396915,-0.033960063010454,-0.179910287261009,0.125205442309380,-0.028473703190684,-0.067469418048859,-0.122174553573132,0.184859991073608,-0.092479228973389,-0.024289200082421));
return max(float4(0,0,0,0), res);
}
