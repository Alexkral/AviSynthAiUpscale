sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.137529999017715,0.007662723772228,-0.176649272441864,-0.204842016100883,-0.090500801801682,0.091666974127293,-0.038210064172745,-0.068557925522327,0.048024997115135,-0.018600990995765,-0.002786289667711,0.078022122383118,0.057585150003433,-0.097408391535282,-0.092456631362438,0.033576004207134));
res += mul(Get(s0,-dx,0), float4x4(-0.039327502250671,-0.088135406374931,-0.254998743534088,0.138375759124756,-0.122440710663795,-0.098456554114819,-0.074853159487247,0.047854371368885,-0.069790259003639,0.076326631009579,-0.016778737306595,-0.111247695982456,-0.042242761701345,0.052171863615513,0.006920710671693,0.013874314725399));
res += mul(Get(s0,-dx,dy), float4x4(-0.311566323041916,-0.084052696824074,-0.038087893277407,-0.100370690226555,0.077877119183540,-0.038680110126734,-0.022269491106272,0.096964254975319,0.201205939054489,-0.005822408478707,0.036273535341024,0.054978352040052,0.009703989140689,0.012046986259520,0.010270225815475,0.010434509254992));
res += mul(Get(s0,0,-dy), float4x4(0.001364341587760,0.031106360256672,-0.094303734600544,0.190920978784561,-0.091489113867283,0.027884423732758,-0.032340791076422,-0.019273556768894,0.021890306845307,-0.015186963602901,0.077685534954071,-0.062010373920202,0.114869713783264,-0.060434799641371,-0.060957521200180,0.100517928600311));
res += mul(Get(s0,0,0), float4x4(0.103256002068520,0.077634707093239,0.000364517734852,0.041934885084629,-0.162698283791542,-0.106792502105236,-0.079184599220753,-0.030737722292542,-0.036714803427458,-0.029921386390924,-0.036033190786839,-0.091949746012688,-0.163300126791000,-0.181365787982941,-0.007614594884217,0.026821212843060));
res += mul(Get(s0,0,dy), float4x4(-0.141455113887787,-0.044659983366728,0.198906108736992,-0.179416060447693,0.006500603631139,-0.045392293483019,0.011224143207073,0.086660988628864,0.160416513681412,0.043815597891808,0.038807429373264,0.000905541877728,-0.031230371445417,-0.040210619568825,0.063240423798561,-0.075475327670574));
res += mul(Get(s0,dx,-dy), float4x4(0.015171215869486,-0.086818419396877,-0.059296648949385,0.217161640524864,0.022469516843557,-0.096305660903454,-0.043749079108238,-0.008508192375302,0.012334123253822,0.156235069036484,0.079018667340279,-0.016288492828608,0.164637729525566,-0.028809756040573,-0.065680973231792,-0.057351350784302));
res += mul(Get(s0,dx,0), float4x4(-0.000537714397069,0.114382326602936,-0.040511664003134,-0.025716001167893,-0.015911310911179,-0.133610665798187,-0.095366075634956,-0.061855971813202,-0.001051673782058,-0.005496143363416,-0.136323869228363,-0.043967876583338,-0.149493426084518,-0.080183267593384,0.033841941505671,-0.039317142218351));
res += mul(Get(s0,dx,dy), float4x4(-0.138286516070366,0.049087170511484,0.354159414768219,-0.261332541704178,0.034768220037222,0.021212823688984,-0.054455157369375,0.085160739719868,-0.166780754923820,0.149943739175797,0.021155664697289,-0.081398233771324,-0.063821353018284,0.013648107647896,0.019928023219109,0.027551777660847));
res += mul(Get(s1,-dx,-dy), float4x4(0.296182274818420,-0.019870832562447,0.049943540245295,0.043473903089762,0.100414872169495,-0.048186276108027,0.083444349467754,0.029364136978984,0.132992863655090,0.037607688456774,0.024852259084582,-0.188820734620094,-0.171232923865318,-0.064238972961903,0.142031282186508,-0.098683498799801));
res += mul(Get(s1,-dx,0), float4x4(0.227139651775360,-0.058143157511950,0.065472848713398,0.013467331416905,-0.018909567967057,0.010438070632517,-0.181796342134476,-0.013052373193204,0.209518834948540,-0.107699468731880,0.054790370166302,0.057887542992830,0.038150738924742,-0.019020335748792,-0.069971092045307,-0.013860616832972));
res += mul(Get(s1,-dx,dy), float4x4(0.100661374628544,0.059236936271191,-0.031169330701232,0.064776524901390,-0.030329387634993,0.052536159753799,-0.063423857092857,0.065051965415478,-0.059648416936398,-0.148107349872589,-0.081672385334969,0.069151587784290,0.034345000982285,0.004576020408422,-0.228018686175346,-0.012996032834053));
res += mul(Get(s1,0,-dy), float4x4(-0.011555813252926,0.103289127349854,0.031354214996099,0.028897754848003,-0.015011876821518,-0.165464907884598,0.139370709657669,0.081527411937714,-0.106887623667717,0.297271072864532,-0.042702198028564,-0.071164056658745,-0.018180310726166,-0.060915283858776,0.166271343827248,-0.112030684947968));
res += mul(Get(s1,0,0), float4x4(-0.162624508142471,-0.028428394347429,0.079814009368420,-0.044517092406750,-0.031070448458195,0.065801449120045,-0.086058661341667,0.019309027120471,0.051409490406513,0.093111611902714,0.057078931480646,-0.000018165776055,0.057339217513800,0.052610360085964,-0.064596801996231,0.044428531080484));
res += mul(Get(s1,0,dy), float4x4(-0.166351780295372,0.042092401534319,0.136343464255333,-0.013019405305386,-0.082849204540253,0.060464441776276,-0.144938617944717,0.070278644561768,0.127254083752632,-0.106469467282295,0.068550042808056,0.043488990515471,0.013550458475947,0.032217402011156,-0.260021865367889,-0.024326121434569));
res += mul(Get(s1,dx,-dy), float4x4(-0.078962236642838,0.112039647996426,-0.046812433749437,-0.014706124551594,0.127010539174080,-0.010658825747669,0.104945994913578,-0.023283008486032,-0.077586509287357,0.104066371917725,-0.095266953110695,-0.159719586372375,-0.128269150853157,-0.047528773546219,-0.036286551505327,-0.017466884106398));
res += mul(Get(s1,dx,0), float4x4(-0.023203630000353,-0.094712458550930,-0.013417110778391,0.052444666624069,0.017887596040964,0.153974339365959,0.056814592331648,-0.083372384309769,-0.095270410180092,0.166645243763924,-0.004226605873555,-0.122699171304703,0.002147403312847,-0.016379067674279,0.135270521044731,0.165516138076782));
res += mul(Get(s1,dx,dy), float4x4(0.033483792096376,0.006265126634389,0.099801138043404,0.175792023539543,-0.079998485743999,0.107113912701607,0.109154924750328,-0.065098322927952,0.069205246865749,-0.216064304113388,0.145951390266418,-0.050296194851398,-0.017853429540992,0.039766486734152,0.024906484410167,-0.129684373736382));
res += mul(Get(s2,-dx,-dy), float4x4(0.104165852069855,-0.066876105964184,0.072001911699772,-0.162004277110100,0.117166332900524,-0.086241282522678,-0.086496323347092,0.036073580384254,-0.121862113475800,0.006902887020260,-0.052166499197483,-0.011535279452801,0.100344143807888,0.006023488007486,0.021294275298715,-0.059928856790066));
res += mul(Get(s2,-dx,0), float4x4(0.042592979967594,-0.260208636522293,0.029260236769915,0.009401363320649,0.008381687104702,-0.134503126144409,-0.135307326912880,0.073066830635071,-0.211102277040482,-0.142211496829987,-0.060667436569929,0.159927934408188,0.125668391585350,0.042275562882423,-0.064769297838211,-0.059228248894215));
res += mul(Get(s2,-dx,dy), float4x4(-0.019404942169785,-0.169338613748550,-0.031213521957397,-0.137319877743721,0.050861425697803,0.252183377742767,-0.157863140106201,0.030463034287095,-0.021456776186824,0.214276269078255,0.022135285660625,-0.209589123725891,0.216626062989235,0.175357237458229,0.039524581283331,0.019775675609708));
res += mul(Get(s2,0,-dy), float4x4(0.228858396410942,-0.063129834830761,-0.091806113719940,-0.025656655430794,0.044470280408859,-0.153700247406960,-0.045908741652966,-0.004885883070529,-0.091827005147934,-0.099448800086975,-0.002156193833798,0.085485011339188,-0.134743914008141,-0.090009376406670,0.051548756659031,-0.064158350229263));
res += mul(Get(s2,0,0), float4x4(0.113160088658333,-0.029814392328262,-0.163121163845062,0.062698043882847,-0.063705980777740,0.044606592506170,0.039743758738041,0.021846089512110,-0.185606017708778,-0.177877441048622,0.016277354210615,0.082287341356277,-0.108078688383102,-0.151959180831909,-0.205207675695419,0.058314304798841));
res += mul(Get(s2,0,dy), float4x4(0.078939840197563,-0.013605995103717,-0.191883891820908,-0.023969024419785,0.063257418572903,0.072796046733856,0.061862725764513,0.006336962804198,-0.075804680585861,-0.134875938296318,-0.007079472299665,0.074943482875824,-0.051677744835615,0.142796412110329,-0.217523381114006,-0.198162809014320));
res += mul(Get(s2,dx,-dy), float4x4(-0.008124511688948,0.007088790182024,0.266783863306046,0.142611727118492,-0.065541476011276,-0.057507466524839,-0.082048140466213,0.189319431781769,-0.034380197525024,-0.054185871034861,0.141662150621414,0.000754218024667,0.001627743011340,-0.003353430889547,0.223450183868408,-0.090780653059483));
res += mul(Get(s2,dx,0), float4x4(-0.105943001806736,0.031292628496885,0.092505879700184,0.000864601461217,-0.134720638394356,0.105967342853546,-0.081454299390316,-0.005592024885118,-0.132308542728424,0.174370616674423,0.072200648486614,-0.029502000659704,-0.130654573440552,-0.146737113595009,-0.029905684292316,0.028737887740135));
res += mul(Get(s2,dx,dy), float4x4(-0.099966347217560,-0.011588707566261,0.081167072057724,-0.076968647539616,-0.044091328978539,-0.020898729562759,-0.048626903444529,0.024956202134490,-0.122846849262714,0.117591783404350,0.023305179551244,0.114303216338158,-0.146787807345390,0.072975642979145,-0.094104908406734,0.150736734271049));
res += mul(Get(s3,-dx,-dy), float4x4(0.034025806933641,-0.058362074196339,-0.057930480688810,0.023205569013953,0.083264611661434,-0.053796224296093,-0.097024790942669,-0.065057568252087,-0.120923854410648,0.136220157146454,0.092964313924313,0.051617205142975,0.150347903370857,-0.206383705139160,0.204722881317139,-0.113195620477200));
res += mul(Get(s3,-dx,0), float4x4(0.162936389446259,-0.022189471870661,-0.222643300890923,0.004090762231499,-0.049139924347401,-0.008227324113250,0.060459725558758,0.022461364045739,0.046267859637737,-0.010006424970925,-0.067537620663643,0.024711161851883,0.126626953482628,-0.274376302957535,0.109742850065231,0.030432013794780));
res += mul(Get(s3,-dx,dy), float4x4(-0.007129618432373,0.045076638460159,-0.195370987057686,0.009106547571719,0.297546148300171,-0.062153007835150,0.109284393489361,-0.002424489939585,-0.056078903377056,0.179390504956245,-0.036019340157509,-0.058583404868841,-0.125244870781898,-0.160486191511154,-0.116177640855312,-0.060757871717215));
res += mul(Get(s3,0,-dy), float4x4(0.018189733847976,-0.093855313956738,0.117147356271744,-0.106035843491554,0.137206926941872,0.030145952478051,-0.075024798512459,0.019411223009229,-0.052108656615019,0.033270377665758,-0.158916383981705,-0.042964134365320,-0.042018067091703,-0.023871501907706,-0.089555948972702,-0.011016997508705));
res += mul(Get(s3,0,0), float4x4(-0.067616172134876,0.148391038179398,0.074918508529663,-0.104752637445927,-0.235051870346069,-0.071273177862167,-0.056082054972649,0.032089587301016,0.011165760457516,-0.026201669126749,0.021482333540916,-0.075841724872589,0.051772017031908,-0.010313994251192,0.058150433003902,-0.005157614592463));
res += mul(Get(s3,0,dy), float4x4(-0.107005491852760,0.368551552295685,0.078076727688313,-0.037610270082951,0.035378631204367,-0.078193441033363,-0.000045910459448,0.057059664279222,-0.134601786732674,0.052071854472160,0.033283192664385,0.051285646855831,0.027483509853482,-0.027274893596768,-0.046453613787889,-0.095308728516102));
res += mul(Get(s3,dx,-dy), float4x4(0.132147327065468,-0.052298832684755,0.029160089790821,-0.008623899891973,0.322271406650543,-0.061604816466570,0.030125139281154,-0.111177921295166,0.056898009032011,0.119172863662243,-0.145997524261475,-0.000223179304157,-0.013186824508011,-0.113491162657738,0.011319073848426,0.212794244289398));
res += mul(Get(s3,dx,0), float4x4(-0.110968977212906,-0.065193034708500,-0.123529717326164,-0.084681354463100,-0.251799225807190,-0.026020137593150,-0.080260917544365,-0.015090657398105,0.061382949352264,-0.042020224034786,0.051044810563326,-0.051247652620077,-0.091781415045261,0.064586065709591,0.008279204368591,0.100295126438141));
res += mul(Get(s3,dx,dy), float4x4(-0.054279938340187,-0.028227174654603,0.248195365071297,-0.061130587011576,0.096390925347805,0.037778891623020,0.007308261469007,0.083735875785351,-0.007735474500805,-0.110449910163879,0.086141228675842,0.133148431777954,0.069774009287357,0.051491975784302,0.248984843492508,-0.249492406845093));
return max(float4(0,0,0,0), res);
}
