sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.083943001925945,0.004922627005726,-0.096401706337929,-0.017171684652567,-0.133193552494049,-0.134692594408989,-0.082309000194073,-0.089779861271381,-0.053348794579506,-0.025901025161147,0.053088620305061,-0.236348718404770,-0.158426284790039,0.096116565167904,-0.227450594305992,-0.039312105625868));
res += mul(Get(s0,-dx,0), float4x4(-0.026534581556916,-0.022552473470569,0.106801778078079,-0.187333658337593,-0.027079910039902,-0.075015567243099,-0.123529143631458,0.026887346059084,-0.022588144987822,0.024305390194058,-0.078407153487206,0.073952779173851,0.029326630756259,0.090132206678391,0.050983723253012,0.015292719006538));
res += mul(Get(s0,-dx,dy), float4x4(0.040099471807480,0.150979056954384,-0.230171039700508,0.108091995120049,-0.189274698495865,0.060275975614786,0.098659329116344,-0.296294838190079,0.074656404554844,-0.077270753681660,-0.070216864347458,0.041435386985540,-0.050690479576588,-0.049508161842823,-0.037879329174757,0.036675602197647));
res += mul(Get(s0,0,-dy), float4x4(0.036450639367104,-0.121874339878559,0.055308062583208,-0.160956770181656,-0.048150174319744,-0.211882248520851,-0.057043489068747,0.010144541040063,-0.130936339497566,0.094360671937466,-0.065699420869350,0.159823596477509,0.071890667080879,-0.017961515113711,-0.108459278941154,-0.004413191229105));
res += mul(Get(s0,0,0), float4x4(0.011648759245872,0.084152266383171,-0.027812886983156,-0.157416313886642,0.016496889293194,-0.060813710093498,-0.019592624157667,0.004892952274531,-0.051417276263237,-0.083804398775101,-0.136487275362015,-0.037355646491051,-0.000409745669458,-0.016993729397655,-0.217733874917030,-0.057258289307356));
res += mul(Get(s0,0,dy), float4x4(-0.066265501081944,0.030842296779156,-0.096192568540573,0.000056824126659,0.205174252390862,-0.046571370214224,0.026648340746760,0.052054975181818,-0.070534795522690,0.049855347722769,-0.067525252699852,-0.033209007233381,0.040619686245918,-0.012184956111014,0.035330511629581,0.049751237034798));
res += mul(Get(s0,dx,-dy), float4x4(0.076378472149372,0.007232269737870,0.055181238800287,0.103117935359478,-0.032011590898037,-0.022726228460670,0.047195252031088,0.144707933068275,-0.062059804797173,-0.161063700914383,-0.087161466479301,-0.070411585271358,-0.092158228158951,0.134283840656281,-0.071178019046783,-0.280887633562088));
res += mul(Get(s0,dx,0), float4x4(-0.131633132696152,-0.012260279618204,0.112960144877434,0.031422872096300,0.074587859213352,0.088590592145920,0.144888937473297,-0.054469682276249,-0.040708374232054,0.111346922814846,0.009344481863081,-0.059177618473768,0.071396060287952,-0.018730586394668,0.058373887091875,-0.164811834692955));
res += mul(Get(s0,dx,dy), float4x4(0.068753607571125,0.116043373942375,-0.254881352186203,0.022838862612844,0.173201516270638,0.046131309121847,-0.081467434763908,0.039620567113161,-0.023466983810067,-0.044980201870203,0.091874554753304,-0.305737853050232,-0.164212316274643,-0.103661544620991,0.062429323792458,0.131732553243637));
res += mul(Get(s1,-dx,-dy), float4x4(0.040685169398785,0.234561383724213,-0.071467474102974,-0.098716944456100,0.169879883527756,-0.053779333829880,-0.056264676153660,-0.004913770593703,0.121654182672501,0.030275357887149,0.048129778355360,0.207539588212967,0.116208173334599,0.012914952822030,0.049012809991837,-0.001441885251552));
res += mul(Get(s1,-dx,0), float4x4(-0.142565667629242,-0.114641688764095,-0.026377266272902,0.066941209137440,0.097880192101002,0.097788840532303,-0.243110239505768,0.030386472120881,-0.057737849652767,0.101544052362442,0.052843779325485,0.314172416925430,0.114242292940617,-0.290587842464447,-0.081422843039036,0.091085195541382));
res += mul(Get(s1,-dx,dy), float4x4(-0.040822975337505,0.129398792982101,0.054662957787514,0.068075105547905,0.101184725761414,-0.043475575745106,0.003268403233960,0.146386176347733,-0.042572557926178,-0.061256974935532,-0.044728964567184,0.219085410237312,0.150632545351982,0.050548467785120,0.150571078062057,0.088110387325287));
res += mul(Get(s1,0,-dy), float4x4(-0.041954655200243,-0.027455838397145,0.024388460442424,0.047442398965359,0.108357354998589,-0.048970706760883,-0.113761603832245,-0.151526838541031,0.106342479586601,0.018668111413717,-0.109514102339745,-0.038435474038124,-0.084322959184647,-0.079654552042484,0.129162445664406,-0.065382510423660));
res += mul(Get(s1,0,0), float4x4(-0.155402734875679,0.030871484428644,0.227978870272636,-0.227422028779984,-0.204851061105728,-0.043499100953341,-0.038496565073729,-0.015025801025331,-0.074223376810551,-0.223666042089462,-0.005157850217074,0.207078620791435,0.009289709851146,-0.080094821751118,0.157651320099831,-0.072935007512569));
res += mul(Get(s1,0,dy), float4x4(-0.015462421812117,-0.154932230710983,-0.106513269245625,0.128086775541306,0.018469663336873,-0.133254468441010,0.040399368852377,0.113529056310654,0.002196389716119,-0.126420915126801,0.093467697501183,0.084621623158455,-0.129672959446907,-0.007065999787301,-0.003044409444556,-0.138199031352997));
res += mul(Get(s1,dx,-dy), float4x4(0.015442661009729,0.001563336234540,-0.285292267799377,-0.239025637507439,0.005163581576198,-0.089248172938824,0.123183652758598,0.011132715269923,0.036089524626732,-0.104474432766438,0.091040484607220,0.038911271840334,-0.073543950915337,0.159836322069168,0.033417478203773,0.008471027947962));
res += mul(Get(s1,dx,0), float4x4(-0.059939417988062,-0.120990805327892,0.043412763625383,0.169493332505226,-0.030524499714375,-0.297485709190369,0.013689033687115,-0.248824924230576,0.169022485613823,-0.232415661215782,-0.042023476213217,-0.068558260798454,-0.067885860800743,0.085648231208324,0.075898207724094,0.076360434293747));
res += mul(Get(s1,dx,dy), float4x4(0.083390623331070,0.344483643770218,-0.014686633832753,0.189337864518166,-0.113988094031811,-0.025049490854144,0.040683615952730,0.077546834945679,0.200376793742180,-0.282380074262619,0.060381419956684,0.091215945780277,-0.095292612910271,-0.024686664342880,-0.035738669335842,0.102586567401886));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046942219138145,0.076045930385590,0.037127442657948,0.187267124652863,0.028018396347761,-0.025845145806670,-0.179030597209930,-0.022622121497989,-0.003102317918092,0.022825056686997,0.000257299514487,-0.017813619226217,-0.021824184805155,0.048000637441874,0.031507994979620,-0.219367265701294));
res += mul(Get(s2,-dx,0), float4x4(-0.058439828455448,0.075560159981251,-0.064722105860710,0.038236744701862,0.029758049175143,-0.037460401654243,-0.115868732333183,-0.042334947735071,-0.182752698659897,0.021196324378252,-0.000598434358835,0.149642348289490,-0.114531278610229,-0.240731224417686,-0.083581604063511,-0.119879588484764));
res += mul(Get(s2,-dx,dy), float4x4(0.026224378496408,0.032559596002102,0.118321523070335,-0.018185419961810,-0.035204648971558,0.220621824264526,0.012289570644498,0.005515103228390,0.001584973651916,-0.030073450878263,0.122515372931957,0.005275105591863,0.168783068656921,0.076287619769573,0.085287436842918,-0.132021471858025));
res += mul(Get(s2,0,-dy), float4x4(-0.117551244795322,-0.139366284012794,-0.007288790307939,-0.028413245454431,-0.012949885800481,-0.078349366784096,-0.060355786234140,-0.066842302680016,0.102058649063110,-0.067882120609283,0.196257799863815,-0.079120375216007,0.054952744394541,0.075693890452385,-0.084671013057232,0.121146887540817));
res += mul(Get(s2,0,0), float4x4(-0.023824442178011,0.115472294390202,-0.085832335054874,0.031577710062265,0.132204428315163,0.050110559910536,-0.032406192272902,-0.206734403967857,-0.053046233952045,0.127528861165047,0.043212499469519,-0.067866094410419,0.019773224368691,0.001292919740081,0.088290974497795,0.040093213319778));
res += mul(Get(s2,0,dy), float4x4(-0.076237522065639,-0.015194889158010,0.031068360432982,0.035355098545551,-0.055242862552404,0.037211246788502,-0.027777688577771,-0.283462554216385,0.118061140179634,0.017711142078042,0.098311655223370,0.049602106213570,0.034845184534788,0.045673128217459,-0.094884373247623,0.034949898719788));
res += mul(Get(s2,dx,-dy), float4x4(0.030975598841906,0.149241477251053,0.064573898911476,0.026191653683782,-0.110212840139866,0.013416289351881,0.012043551541865,-0.070973157882690,0.004785228986293,-0.184363722801208,0.085984103381634,0.006996490992606,-0.078286014497280,0.017647266387939,-0.035751163959503,-0.099697917699814));
res += mul(Get(s2,dx,0), float4x4(0.032110426574945,-0.079406924545765,0.000008735741176,-0.107434153556824,0.034519918262959,-0.066658541560173,0.052219863981009,0.031149910762906,-0.137701034545898,-0.065963141620159,0.042997714132071,0.038910947740078,0.069773077964783,-0.115497052669525,0.137486979365349,-0.059948306530714));
res += mul(Get(s2,dx,dy), float4x4(-0.063212655484676,-0.080429829657078,-0.062127951532602,0.040832415223122,-0.255860120058060,-0.053615391254425,0.008873810991645,0.129387736320496,0.020502571016550,0.035600382834673,0.091491259634495,-0.108455792069435,-0.130059406161308,-0.161438331007957,-0.066654667258263,-0.093738123774529));
res += mul(Get(s3,-dx,-dy), float4x4(-0.118724897503853,0.069915741682053,0.053484641015530,-0.051281575113535,-0.043930172920227,-0.078795596957207,0.058560185134411,0.045402452349663,-0.147664189338684,-0.062467955052853,-0.182108491659164,-0.065200425684452,0.031807444989681,-0.040670141577721,0.070401050150394,-0.067612923681736));
res += mul(Get(s3,-dx,0), float4x4(-0.006431804969907,-0.014792485162616,0.061514921486378,-0.123984344303608,-0.058702345937490,-0.068417526781559,0.048010043799877,0.066239744424820,0.079691864550114,0.000112107612949,0.176785334944725,-0.095026075839996,-0.113565064966679,-0.042370755225420,-0.143575116991997,0.137338995933533));
res += mul(Get(s3,-dx,dy), float4x4(-0.072430096566677,0.076335012912750,0.012427490204573,-0.112172141671181,-0.209804147481918,-0.065164789557457,-0.051975481212139,-0.193120107054710,-0.104310132563114,-0.085453681647778,0.045361902564764,-0.209753483533859,0.006793519016355,0.265789598226547,0.185886666178703,-0.053315654397011));
res += mul(Get(s3,0,-dy), float4x4(0.074820801615715,0.026351043954492,0.092567287385464,-0.171284064650536,0.070969417691231,-0.174484312534332,0.005347899626940,0.021701814606786,-0.011783909052610,-0.047810025513172,-0.071356274187565,0.115271009504795,-0.067828729748726,0.018791940063238,0.078109093010426,0.020687386393547));
res += mul(Get(s3,0,0), float4x4(-0.126319676637650,-0.157680109143257,-0.106873810291290,0.138398259878159,0.067910715937614,-0.004257203079760,-0.326456695795059,0.023793024942279,-0.005494954064488,0.209666803479195,0.120637394487858,0.260116457939148,-0.056848149746656,0.036411117762327,-0.157664373517036,-0.024627499282360));
res += mul(Get(s3,0,dy), float4x4(-0.029638219624758,0.017575128003955,0.025934055447578,-0.066620230674744,-0.045664999634027,-0.042880307883024,-0.091752402484417,0.115933537483215,0.123425588011742,-0.072601713240147,0.288567811250687,0.016827208921313,-0.023097004741430,-0.053664524108171,-0.013347461819649,-0.149512544274330));
res += mul(Get(s3,dx,-dy), float4x4(-0.020002286881208,-0.187065258622169,-0.040896628051996,-0.038911938667297,-0.091686621308327,-0.062962308526039,0.007912892848253,0.059537209570408,0.013119896873832,-0.020124644041061,0.174421638250351,0.126789197325706,0.021883608773351,-0.020436247810721,-0.113951519131660,-0.037820078432560));
res += mul(Get(s3,dx,0), float4x4(0.091627843677998,0.004318093415350,0.062162932008505,-0.186878129839897,0.259861618280411,0.088255316019058,-0.179652839899063,-0.028046103194356,-0.012110981158912,-0.073309533298016,0.040729776024818,-0.339251786470413,-0.256362020969391,-0.091222994029522,0.029484080150723,0.001735624391586));
res += mul(Get(s3,dx,dy), float4x4(-0.052878495305777,0.188232555985451,-0.038738705217838,-0.024657581001520,0.093960694968700,-0.006797966547310,0.014159465208650,0.092115387320518,-0.051950361579657,0.201605841517448,-0.007222153712064,-0.097438156604767,-0.001624977565371,0.211417809128761,-0.039595991373062,0.137184441089630));
return max(float4(0,0,0,0), res);
}
