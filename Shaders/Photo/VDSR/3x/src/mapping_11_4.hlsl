sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.056353732943535,-0.103429421782494,-0.112523131072521,-0.057260613888502,0.061341740190983,-0.002105378778651,-0.062019467353821,0.058536704629660,0.009830549359322,0.007384746335447,0.007664587348700,-0.132218807935715,0.122860386967659,-0.030233206227422,0.106883838772774,-0.036197114735842));
res += mul(Get(s0,-dx,0), float4x4(-0.011404339224100,-0.075207181274891,-0.038266558200121,-0.081405654549599,0.139927566051483,0.011139970272779,0.024871859699488,0.055860038846731,0.006451090797782,-0.060547977685928,-0.043460726737976,0.006574365776032,0.015506953001022,-0.085270196199417,-0.104164451360703,-0.079802006483078));
res += mul(Get(s0,-dx,dy), float4x4(-0.109817720949650,-0.022790724411607,0.020156368613243,-0.059966031461954,-0.028066009283066,0.007781537715346,-0.079261824488640,0.248098477721214,0.034369949251413,-0.172252371907234,0.113688252866268,-0.051452707499266,0.069129996001720,-0.076636120676994,-0.029981769621372,-0.029613487422466));
res += mul(Get(s0,0,-dy), float4x4(-0.062931530177593,-0.086993031203747,-0.073836386203766,0.020969558507204,-0.016627943143249,-0.063730821013451,-0.071182213723660,-0.064457565546036,-0.053405337035656,0.097120016813278,-0.055237356573343,0.039439175277948,-0.128430902957916,0.010853327810764,0.041361760348082,0.050362646579742));
res += mul(Get(s0,0,0), float4x4(0.077058047056198,-0.030649697408080,0.060617066919804,-0.003873183624819,-0.074307516217232,-0.046845559030771,-0.006853249389678,0.005043183453381,-0.055753428488970,-0.116294547915459,-0.038747534155846,0.006491502281278,-0.013092191889882,-0.042333200573921,0.028108043596148,-0.024771980941296));
res += mul(Get(s0,0,dy), float4x4(-0.078754082322121,-0.071901485323906,0.015054527670145,-0.072574362158775,-0.055939704179764,0.065471172332764,-0.080309219658375,0.171740248799324,-0.103444427251816,-0.062648683786392,0.000092603055236,-0.014941858127713,0.090775020420551,0.283286869525909,-0.026061931625009,0.095032691955566));
res += mul(Get(s0,dx,-dy), float4x4(-0.023799592629075,0.017322886735201,-0.090041577816010,0.017843250185251,-0.019477488473058,-0.051282964646816,0.025397265329957,-0.005208451300859,0.150937601923943,0.118932485580444,0.058119866997004,-0.001587544335052,-0.051134653389454,-0.035127393901348,-0.042961463332176,0.083734460175037));
res += mul(Get(s0,dx,0), float4x4(0.086751125752926,0.045053388923407,0.062546566128731,0.039379529654980,-0.004808654543012,-0.043860603123903,0.007185416761786,0.003581066150218,-0.061406504362822,0.011414591223001,-0.033981230109930,-0.006393266841769,0.048158831894398,-0.067618355154991,0.094326063990593,0.026183620095253));
res += mul(Get(s0,dx,dy), float4x4(0.043405227363110,0.011395245790482,0.017094064503908,-0.101159133017063,-0.236191868782043,0.052983168512583,-0.024992119520903,-0.052579998970032,-0.024224655702710,0.069600313901901,-0.071808382868767,0.044269718229771,0.005052404012531,0.079578243196011,0.084849670529366,0.051666103303432));
res += mul(Get(s1,-dx,-dy), float4x4(-0.079036183655262,-0.033670857548714,-0.015426773577929,-0.058288011699915,-0.032844901084900,0.123478271067142,-0.032908730208874,-0.033262554556131,0.043806824833155,0.065405733883381,-0.023724311962724,-0.046345841139555,-0.032305963337421,0.089959211647511,0.031414203345776,-0.038210004568100));
res += mul(Get(s1,-dx,0), float4x4(0.020690193399787,0.078914135694504,-0.001411884557456,-0.009007083252072,-0.025698123499751,-0.069600120186806,0.091555945575237,-0.047958407551050,0.138143956661224,-0.049115769565105,-0.012918587774038,-0.018875664100051,-0.019722530618310,-0.098108656704426,0.132510766386986,-0.119829721748829));
res += mul(Get(s1,-dx,dy), float4x4(-0.065392270684242,-0.064792990684509,0.039215408265591,-0.094667777419090,-0.089480347931385,-0.058523267507553,0.170026436448097,0.074402980506420,0.030448792502284,0.028578415513039,0.029518496245146,-0.053838349878788,-0.060558822005987,0.031935513019562,0.081265896558762,-0.009285725653172));
res += mul(Get(s1,0,-dy), float4x4(0.180763095617294,-0.056895170360804,-0.021071102470160,-0.071892410516739,0.125422179698944,-0.025373328477144,0.004505717195570,-0.028695587068796,-0.075363181531429,-0.106732785701752,-0.089894875884056,-0.056879822164774,0.121133200824261,0.175544187426567,-0.009899301454425,0.056312523782253));
res += mul(Get(s1,0,0), float4x4(0.054473567754030,0.121858671307564,0.045589592307806,-0.008857398293912,-0.063138283789158,0.052307792007923,0.201206341385841,-0.073516413569450,0.089592292904854,0.024419384077191,0.050363458693027,0.033307936042547,-0.003639016998932,-0.043669007718563,0.038302525877953,0.031764864921570));
res += mul(Get(s1,0,dy), float4x4(-0.028217719867826,0.116674192249775,-0.078129045665264,0.054950121790171,-0.097459271550179,0.000059532947489,0.011706219986081,0.264986008405685,0.194113582372665,0.050591539591551,0.106000810861588,0.054247695952654,-0.110292591154575,0.097866684198380,0.194117844104767,-0.045756258070469));
res += mul(Get(s1,dx,-dy), float4x4(0.182078525424004,-0.027046181261539,-0.000272519100690,-0.110435321927071,0.105540700256824,-0.096229173243046,0.020120225846767,0.089022576808929,-0.063023723661900,0.224064499139786,-0.030809482559562,-0.104889325797558,-0.062702350318432,0.133127212524414,-0.113979622721672,0.074471160769463));
res += mul(Get(s1,dx,0), float4x4(0.156392931938171,0.014223700389266,0.041554462164640,0.000390342524042,-0.037053637206554,0.198043316602707,0.020135801285505,0.076310649514198,-0.037437602877617,0.093507915735245,0.093364953994751,-0.045002784579992,-0.084711194038391,-0.091414302587509,-0.108184449374676,-0.025718608871102));
res += mul(Get(s1,dx,dy), float4x4(0.226105138659477,-0.052917312830687,0.012814396061003,-0.149003192782402,-0.020249282941222,-0.163696289062500,-0.020800486207008,-0.042124051600695,-0.012913455255330,0.004431529436260,-0.031188232824206,-0.069810293614864,-0.072418972849846,0.012877150438726,-0.000748202961404,-0.115087106823921));
res += mul(Get(s2,-dx,-dy), float4x4(-0.048059251159430,-0.130411624908447,-0.137247234582901,-0.051735267043114,0.023378036916256,-0.063096322119236,-0.067670546472073,0.027687920257449,-0.071609660983086,0.002586631570011,-0.022083930671215,0.083932206034660,0.138462111353874,-0.086872637271881,-0.137580618262291,0.028906827792525));
res += mul(Get(s2,-dx,0), float4x4(-0.016871621832252,-0.115068666636944,-0.018643924966455,-0.012613050639629,-0.036197464913130,-0.038953233510256,-0.106239520013332,-0.051679015159607,0.065046109259129,-0.029651800170541,-0.014473714865744,0.089807577431202,0.022400978952646,-0.093137532472610,0.031966488808393,-0.049088824540377));
res += mul(Get(s2,-dx,dy), float4x4(0.135226577520370,-0.022607062011957,0.115632541477680,0.061990730464458,0.049730461090803,-0.150096580386162,-0.050899535417557,-0.016914386302233,0.006276693660766,-0.029138427227736,-0.037954431027174,-0.020206773653626,-0.020583884790540,0.083692118525505,0.074430324137211,-0.069437064230442));
res += mul(Get(s2,0,-dy), float4x4(0.025714641436934,0.228678807616234,-0.102471254765987,-0.043546151369810,-0.067182607948780,0.108315892517567,-0.135417491197586,-0.032805047929287,0.002759827533737,-0.114192046225071,-0.051807008683681,-0.025759235024452,-0.058592706918716,-0.106538392603397,-0.054472677409649,-0.051454503089190));
res += mul(Get(s2,0,0), float4x4(0.070405021309853,0.213204696774483,-0.043806839734316,-0.017425427213311,0.043592527508736,0.059212308377028,-0.009683825075626,-0.053787305951118,0.009273900650442,0.011690210551023,-0.033056646585464,0.018064504489303,-0.106093220412731,-0.084047064185143,0.097132116556168,0.029245451092720));
res += mul(Get(s2,0,dy), float4x4(0.069982007145882,0.261444449424744,0.053627274930477,0.087919294834137,-0.051143236458302,-0.104739859700203,-0.026065783575177,-0.007215167861432,-0.096330963075161,0.073916383087635,-0.072882592678070,0.082873247563839,-0.100500077009201,0.064412385225296,0.049984544515610,-0.028522577136755));
res += mul(Get(s2,dx,-dy), float4x4(-0.044027049094439,-0.038368783891201,0.075771629810333,0.055547259747982,-0.032096259295940,0.177774146199226,-0.064390957355499,0.030594928190112,-0.054598037153482,-0.006732445210218,-0.017543330788612,0.066012583673000,0.011930431239307,-0.016326259821653,-0.142347514629364,-0.012719130143523));
res += mul(Get(s2,dx,0), float4x4(-0.017044078558683,-0.159895151853561,-0.001443525543436,-0.078021660447121,0.043333984911442,-0.042068988084793,0.035977322608232,-0.073847673833370,-0.053498815745115,0.100643031299114,-0.034035615622997,0.029662912711501,-0.002907633781433,-0.089617833495140,-0.025457950308919,-0.058556795120239));
res += mul(Get(s2,dx,dy), float4x4(0.077225893735886,0.020898049697280,0.003416076302528,0.083860695362091,-0.052381422370672,-0.039458766579628,-0.013316810131073,-0.086886018514633,-0.042352233082056,0.024902857840061,-0.037166934460402,-0.108031891286373,0.012212967500091,-0.045212555676699,-0.050406370311975,0.003442023647949));
res += mul(Get(s3,-dx,-dy), float4x4(-0.055204275995493,0.034084208309650,0.146471604704857,0.002797078806907,0.066352814435959,0.017937600612640,-0.025465138256550,0.032169658690691,0.041842240840197,0.067587845027447,0.050313111394644,0.013085335493088,0.076063089072704,0.037478204816580,-0.106081314384937,0.030143190175295));
res += mul(Get(s3,-dx,0), float4x4(-0.077778354287148,-0.065265916287899,0.164245203137398,0.044832073152065,0.162727043032646,-0.103506296873093,-0.043718885630369,-0.012934741564095,0.034218743443489,0.029486328363419,0.104354664683342,0.113779611885548,0.060791116207838,-0.079640708863735,-0.087001718580723,0.035983528941870));
res += mul(Get(s3,-dx,dy), float4x4(-0.066824413836002,0.106427699327469,-0.027587315067649,0.068113081157207,0.215044319629669,-0.119362592697144,0.009062443859875,-0.109302140772343,0.191653713583946,-0.041347745805979,0.104702867567539,0.000175768014742,-0.041972104460001,-0.094824790954590,0.165283069014549,0.072308145463467));
res += mul(Get(s3,0,-dy), float4x4(-0.065151602029800,0.068980135023594,-0.106856040656567,0.163945004343987,-0.088683232665062,0.023613533005118,0.060317080467939,-0.015192189253867,0.006088996306062,0.215687319636345,-0.113600924611092,-0.139956936240196,-0.011778760701418,-0.001164587796666,-0.139341354370117,-0.065242558717728));
res += mul(Get(s3,0,0), float4x4(-0.021651007235050,-0.058651391416788,-0.087852306663990,0.131889343261719,0.064793951809406,-0.035910211503506,0.162753462791443,-0.018166350200772,-0.029472695663571,-0.034350734204054,0.056347455829382,-0.072914913296700,0.020710438489914,-0.036454290151596,0.034355927258730,-0.104506932199001));
res += mul(Get(s3,0,dy), float4x4(-0.106446303427219,-0.080990135669708,0.026379406452179,0.012712506577373,0.001822272664867,-0.129333123564720,0.087487660348415,-0.017121853306890,0.114542685449123,-0.063781909644604,0.104902528226376,-0.033375672996044,-0.044976919889450,0.075214885175228,-0.008669038303196,0.137988567352295));
res += mul(Get(s3,dx,-dy), float4x4(0.006244122982025,-0.047509003430605,-0.105376176536083,0.088712394237518,-0.042018596082926,-0.023001514375210,0.195683389902115,-0.168826296925545,-0.108843192458153,0.100346550345421,-0.130409285426140,-0.039781358093023,-0.036797661334276,-0.047465108335018,-0.096905373036861,0.191839486360550));
res += mul(Get(s3,dx,0), float4x4(0.013209365308285,-0.080244377255440,-0.072947196662426,-0.121198438107967,0.036338888108730,-0.048751540482044,0.059084549546242,-0.011648167856038,-0.114023000001907,-0.151845052838326,0.061668165028095,0.113595873117447,-0.020316898822784,-0.001763279316947,0.078525595366955,0.156355753540993));
res += mul(Get(s3,dx,dy), float4x4(0.043586049228907,0.069309636950493,0.131076306104660,-0.114628590643406,0.013669372536242,-0.042915035039186,0.033064499497414,0.014658858068287,0.119819149374962,-0.044710986316204,-0.012302548624575,0.033530320972204,-0.045718096196651,-0.011085768230259,-0.039132192730904,0.072007521986961));
return max(float4(0,0,0,0), res);
}
