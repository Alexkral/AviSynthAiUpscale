sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.036393918097019,0.059646692126989,0.138053253293037,0.088609583675861,-0.020049875602126,0.069884382188320,-0.012700542807579,-0.021712826564908,0.064959347248077,0.181572064757347,0.117445014417171,0.127692148089409,0.017645506188273,-0.102760106325150,-0.111347325146198,-0.059612933546305));
res += mul(Get(s0,-dx,0), float4x4(-0.069231405854225,0.081102639436722,0.054955940693617,0.133739545941353,-0.075270198285580,0.015847861766815,-0.049354333430529,0.049400821328163,0.115886136889458,0.088496848940849,0.080745451152325,-0.095889009535313,-0.003964808303863,-0.016304474323988,0.010181629098952,0.000825322931632));
res += mul(Get(s0,-dx,dy), float4x4(-0.064640611410141,-0.005166920833290,0.026785083115101,-0.000649100984447,0.004726265091449,-0.047307092696428,-0.049691386520863,0.085314907133579,0.038329027593136,0.055727519094944,0.088373713195324,-0.087761923670769,-0.025892511010170,-0.069461874663830,0.012474455870688,-0.000594532932155));
res += mul(Get(s0,0,-dy), float4x4(-0.026500826701522,0.107546687126160,0.081378214061260,0.091119557619095,-0.065950237214565,0.040653023868799,0.001750849885866,-0.061635617166758,-0.032816700637341,0.077039018273354,-0.103704862296581,0.091379880905151,-0.097833231091499,-0.029711449518800,-0.089075215160847,-0.099105328321457));
res += mul(Get(s0,0,0), float4x4(-0.042589057236910,0.054304022341967,0.118144489824772,0.087759636342525,-0.085000284016132,0.074302062392235,0.038484785705805,-0.060436896979809,-0.143820673227310,0.010492174886167,-0.003258668817580,-0.057024683803320,-0.044732272624969,0.020179882645607,0.062054641544819,0.068256527185440));
res += mul(Get(s0,0,dy), float4x4(-0.042577102780342,0.056135673075914,0.059188365936279,0.131376340985298,-0.034271139651537,0.104083068668842,0.037702847272158,0.132323205471039,0.148742556571960,0.010958629660308,0.015785936266184,0.103567562997341,-0.030364412814379,-0.035761930048466,0.031005423516035,0.036856051534414));
res += mul(Get(s0,dx,-dy), float4x4(0.047192323952913,0.056892249733210,-0.002307735150680,-0.040550712496042,0.018331326544285,-0.103671610355377,-0.030827283859253,-0.082593031227589,-0.109990730881691,0.002538159023970,-0.111918427050114,0.086437262594700,-0.068910077214241,0.125521779060364,-0.028859881684184,-0.031563173979521));
res += mul(Get(s0,dx,0), float4x4(0.007966854609549,0.019246513023973,0.074638955295086,-0.051607891917229,-0.072132363915443,-0.075692065060139,-0.006362125277519,-0.016538308933377,0.010090631432831,-0.086229622364044,-0.109450690448284,-0.024430735036731,-0.130757346749306,0.095719024538994,0.080119974911213,0.062676638364792));
res += mul(Get(s0,dx,dy), float4x4(0.085792280733585,0.027416016906500,0.008772023953497,0.006850153207779,-0.067529939115047,-0.019340982660651,-0.019522149115801,0.073432452976704,0.015769850462675,-0.046087719500065,-0.101414389908314,0.010894423350692,-0.022893799468875,0.081022419035435,-0.063572786748409,-0.044217955321074));
res += mul(Get(s1,-dx,-dy), float4x4(0.001688800868578,-0.061585478484631,-0.017261868342757,-0.049869969487190,-0.098872303962708,0.015057682991028,0.233098953962326,0.111884675920010,0.019306087866426,-0.023931570351124,-0.094512745738029,-0.013665980659425,-0.063517071306705,-0.058087252080441,-0.041494023054838,0.036482792347670));
res += mul(Get(s1,-dx,0), float4x4(-0.038321927189827,-0.051060084253550,0.000017741669581,-0.022879339754581,-0.054791528731585,0.017537971958518,-0.087914854288101,0.094417765736580,0.069116413593292,0.032925173640251,-0.011000745929778,-0.071516685187817,-0.145237788558006,0.049728274345398,-0.006947273388505,0.088879674673080));
res += mul(Get(s1,-dx,dy), float4x4(0.129811704158783,-0.133834421634674,-0.108288459479809,-0.080971546471119,-0.059625200927258,0.006676031742245,-0.006001292727888,-0.015160042792559,0.021484501659870,0.034264400601387,-0.015588035807014,0.050427615642548,-0.021976975724101,0.100475169718266,0.029956599697471,0.110834896564484));
res += mul(Get(s1,0,-dy), float4x4(0.018602734431624,-0.063281439244747,-0.044392745941877,-0.027286538854241,-0.160239651799202,-0.060008954256773,0.095651008188725,0.072556458413601,0.011473891325295,-0.133550286293030,0.008404832333326,-0.108110249042511,0.027934929355979,-0.082589894533157,-0.126738831400871,-0.029003363102674));
res += mul(Get(s1,0,0), float4x4(-0.086214229464531,-0.018733983859420,-0.005883638281375,0.031528469175100,-0.025267716497183,-0.053413372486830,-0.028194999322295,0.070810697972775,0.137420609593391,-0.004392008762807,0.163617849349976,-0.015202902257442,0.075292423367500,-0.098412483930588,-0.094985194504261,-0.116008743643761));
res += mul(Get(s1,0,dy), float4x4(-0.063659571111202,-0.126428499817848,-0.209514826536179,-0.069336645305157,-0.059099528938532,-0.005937037989497,0.008161367848516,0.003356070956215,0.004483399447054,-0.054229475557804,0.038611449301243,0.046336364001036,-0.077461890876293,0.009800408035517,-0.023268330842257,-0.013686945661902));
res += mul(Get(s1,dx,-dy), float4x4(0.094600781798363,-0.085356734693050,-0.071978367865086,-0.085675626993179,-0.058057188987732,-0.077965371310711,0.003920169547200,0.005763266701251,0.029234966263175,-0.085389807820320,-0.003264635102823,0.012633571401238,-0.039624404162169,-0.067785464227200,-0.177816569805145,-0.059472147375345));
res += mul(Get(s1,dx,0), float4x4(-0.040359102189541,-0.048442538827658,-0.146314129233360,-0.028326375409961,-0.049335502088070,-0.104754358530045,0.090144440531731,0.060725450515747,0.121790379285812,0.058711141347885,0.075010977685452,-0.003784351749346,0.093467019498348,-0.058157537132502,-0.149298951029778,-0.097769476473331));
res += mul(Get(s1,dx,dy), float4x4(0.014900616370142,-0.024010503664613,-0.245212242007256,-0.159068480134010,0.081985406577587,-0.052538376301527,-0.063736543059349,-0.025001371279359,0.163765549659729,-0.010216920636594,-0.007730694953352,0.000052894542023,-0.088748119771481,0.061650507152081,-0.049095891416073,-0.047063119709492));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024267366155982,0.079629831016064,0.038372159004211,0.059275094419718,0.188029095530510,-0.016966052353382,-0.068202629685402,0.154608294367790,-0.068374253809452,0.060444165021181,-0.000807101547252,0.018945096060634,-0.044231120496988,-0.086022824048996,-0.009006091393530,0.243866965174675));
res += mul(Get(s2,-dx,0), float4x4(-0.028666064143181,0.007385009899735,0.067605748772621,0.014628587290645,0.039396606385708,-0.045268554240465,-0.042502462863922,-0.103058740496635,0.021982418373227,0.105637997388840,-0.015385380946100,0.022396609187126,-0.037640631198883,-0.086669795215130,-0.081037685275078,0.107915237545967));
res += mul(Get(s2,-dx,dy), float4x4(0.199524432420731,0.000041041719669,0.118490919470787,-0.017619105055928,-0.021801548078656,0.098438128829002,0.032712206244469,-0.062792561948299,-0.032497461885214,0.033763088285923,0.055859860032797,-0.045009542256594,0.030555300414562,0.017074249684811,0.001313033048064,0.177515551447868));
res += mul(Get(s2,0,-dy), float4x4(-0.011635497212410,0.041249517351389,0.063610143959522,-0.010122156701982,-0.048286002129316,-0.003166439011693,0.021117756143212,0.022207401692867,-0.016053333878517,0.051316116005182,-0.021380178630352,-0.105439513921738,0.050870649516582,-0.038929671049118,-0.043596643954515,0.043184362351894));
res += mul(Get(s2,0,0), float4x4(-0.061322152614594,0.133303061127663,0.015174072235823,0.034318488091230,-0.083548054099083,0.174282357096672,0.015408881008625,0.053869150578976,-0.065268188714981,0.167793720960617,0.016798881813884,-0.022640489041805,-0.026119505986571,-0.038682308048010,-0.113216973841190,-0.118577763438225));
res += mul(Get(s2,0,dy), float4x4(0.144075810909271,-0.013721542432904,-0.023651756346226,-0.096950545907021,-0.003611162304878,0.036303117871284,-0.013778697699308,-0.057785436511040,0.145922377705574,0.161004841327667,-0.022998157888651,0.092724002897739,-0.044109400361776,-0.008858060464263,0.064175836741924,0.140953078866005));
res += mul(Get(s2,dx,-dy), float4x4(-0.068243391811848,-0.102512918412685,0.111803852021694,0.027797373011708,-0.090034395456314,-0.141601964831352,0.088056541979313,0.038875911384821,-0.117298543453217,-0.082979068160057,-0.038527205586433,-0.065312907099724,0.095306143164635,-0.067515134811401,0.089878909289837,-0.114937014877796));
res += mul(Get(s2,dx,0), float4x4(-0.067680835723877,0.081410072743893,0.031665470451117,0.169630825519562,0.074310667812824,-0.090661697089672,0.090105198323727,-0.068672053515911,-0.020336804911494,-0.030532956123352,0.014794967137277,-0.125935539603233,0.057903952896595,-0.153064504265785,0.109248414635658,-0.083527907729149));
res += mul(Get(s2,dx,dy), float4x4(0.055787451565266,-0.045670419931412,0.036588095128536,0.067360721528530,0.071044497191906,0.096112921833992,-0.047457784414291,-0.002969727618620,0.114892274141312,0.087661080062389,-0.038438357412815,0.014376293867826,-0.026800446212292,-0.095500506460667,-0.008179129101336,0.097431413829327));
res += mul(Get(s3,-dx,-dy), float4x4(0.016350300982594,-0.086968034505844,-0.053844120353460,-0.088352166116238,-0.093761429190636,-0.056502077728510,0.018750289455056,0.027522061020136,0.169575423002243,-0.100890152156353,-0.045135878026485,-0.049666900187731,0.135624393820763,0.056309461593628,-0.115221329033375,-0.030161932110786));
res += mul(Get(s3,-dx,0), float4x4(0.117356769740582,0.019325088709593,-0.043639507144690,0.035715766251087,-0.103712670505047,-0.043010637164116,-0.015869166702032,-0.025084123015404,0.145352557301521,-0.045470718294382,-0.045121386647224,-0.075813293457031,0.003017215058208,0.054885964840651,-0.023831438273191,-0.074833631515503));
res += mul(Get(s3,-dx,dy), float4x4(0.001856011338532,0.085915744304657,-0.012272327207029,-0.017030142247677,-0.053600821644068,-0.013176375068724,-0.089418627321720,-0.003146471921355,0.201014518737793,-0.047943726181984,0.040944807231426,-0.002715605078265,-0.053288321942091,-0.090231202542782,-0.003936014603823,0.006801752373576));
res += mul(Get(s3,0,-dy), float4x4(-0.010992997325957,-0.000800263776910,-0.006141146179289,-0.088098824024200,-0.080115504562855,-0.105011999607086,-0.070138387382030,-0.088993914425373,-0.181745499372482,0.005561470985413,-0.051819857209921,0.137494549155235,0.083712682127953,-0.058854725211859,0.154508903622627,0.042725108563900));
res += mul(Get(s3,0,0), float4x4(0.002964570652694,-0.033794097602367,-0.054625757038593,0.000990805448964,-0.023735981434584,-0.057507075369358,-0.063306801021099,-0.026159411296248,-0.127772450447083,-0.072307966649532,-0.011441748589277,-0.038211848586798,0.066818654537201,0.060175836086273,0.189825728535652,0.019993076100945));
res += mul(Get(s3,0,dy), float4x4(0.075008630752563,-0.146855905652046,-0.037217140197754,-0.046989735215902,-0.053452644497156,0.014555593021214,-0.081052482128143,-0.068671829998493,0.057642091065645,-0.124887727200985,0.045345205813646,0.024585613980889,0.113539345562458,-0.021429516375065,0.085873946547508,-0.005704798735678));
res += mul(Get(s3,dx,-dy), float4x4(-0.041017185896635,0.097514465451241,0.069881901144981,-0.084467448294163,0.059727385640144,0.060233544558287,-0.017379835247993,0.018569042906165,-0.171127393841743,0.064040377736092,-0.077820599079132,0.135071903467178,0.075281791388988,-0.132972538471222,-0.002225579461083,-0.102153599262238));
res += mul(Get(s3,dx,0), float4x4(-0.016102187335491,-0.000262064044364,0.031773384660482,0.002132702618837,-0.000042922551074,-0.054364636540413,0.013494032435119,-0.007578116841614,-0.090750709176064,0.094860151410103,-0.040186222642660,0.055890113115311,0.006249523721635,-0.120958447456360,0.149029105901718,-0.011820810846984));
res += mul(Get(s3,dx,dy), float4x4(-0.081379063427448,0.060670688748360,0.071386776864529,-0.042451068758965,-0.070117145776749,-0.000586467387620,0.031426507979631,0.091624252498150,0.034839525818825,-0.083235293626785,-0.006620883475989,-0.083938039839268,0.135235235095024,-0.034942563623190,-0.081421338021755,0.002826745156199));
return max(float4(0,0,0,0), res);
}
