sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.014020288363099,-0.073064163327217,-0.001162852626294,-0.000231388039538,0.068219065666199,0.005677802488208,0.145258516073227,-0.130109265446663,0.085448354482651,0.077818743884563,0.008203065954149,0.000718440453056,0.026736777275801,0.160738930106163,-0.044275544583797,-0.087579518556595));
res += mul(Get(s0,-dx,0), float4x4(0.031203581020236,0.006362688727677,0.185705423355103,0.030802436172962,-0.122992202639580,0.117655076086521,-0.091764934360981,0.011741390451789,-0.152747958898544,0.244817569851875,0.023265399038792,0.082326807081699,-0.062391206622124,-0.081291563808918,0.172858968377113,-0.181831642985344));
res += mul(Get(s0,-dx,dy), float4x4(-0.025067707523704,0.204717025160789,-0.006703004706651,-0.043910197913647,-0.071654491126537,0.011818094179034,0.031575370579958,0.056740839034319,-0.009561693295836,0.097983196377754,-0.057868670672178,0.125575110316277,0.230253845453262,0.182926312088966,0.038936253637075,-0.216297864913940));
res += mul(Get(s0,0,-dy), float4x4(-0.132043495774269,0.081008724868298,-0.146655812859535,0.163931071758270,-0.182152748107910,-0.084155984222889,-0.138728901743889,-0.121841289103031,-0.006205821409822,0.313597917556763,0.072026498615742,0.137475594878197,-0.173393443226814,0.110126741230488,-0.006512049119920,0.108825556933880));
res += mul(Get(s0,0,0), float4x4(0.082802712917328,-0.253991574048996,0.280864357948303,-0.078420758247375,0.092410698533058,-0.059043873101473,0.087737932801247,0.075407743453979,0.196206837892532,0.082908786833286,-0.048058550804853,0.192778602242470,0.067655935883522,0.024616485461593,0.194538354873657,-0.195240691304207));
res += mul(Get(s0,0,dy), float4x4(0.152934744954109,-0.020263914018869,0.187075525522232,-0.135949805378914,0.284460365772247,-0.036059752106667,0.127585008740425,-0.082012459635735,0.127460926771164,-0.089821979403496,0.033168092370033,-0.081046029925346,0.123223915696144,-0.026909848675132,-0.158509746193886,-0.051297266036272));
res += mul(Get(s0,dx,-dy), float4x4(0.095625489950180,0.008241020143032,0.105952173471451,0.057766504585743,-0.035727616399527,0.013115921989083,0.070959858596325,0.031781665980816,0.066689074039459,0.146142303943634,0.036973852664232,0.144222617149353,0.041559200733900,-0.150983363389969,0.011729531921446,0.110506497323513));
res += mul(Get(s0,dx,0), float4x4(0.084557227790356,-0.042174275964499,0.142176508903503,0.077283270657063,0.048867922276258,-0.058950651437044,0.111269764602184,0.082332916557789,0.009196331724524,0.144513040781021,-0.096049070358276,-0.048120602965355,0.038496367633343,-0.049463815987110,-0.015524758026004,0.052468471229076));
res += mul(Get(s0,dx,dy), float4x4(0.011258853599429,0.119656369090080,0.047304607927799,-0.158799976110458,-0.018654344603419,0.034593798220158,-0.126277863979340,-0.000186712321010,0.030391559004784,0.016983902081847,-0.158561632037163,-0.074396848678589,0.133394345641136,-0.008675812743604,0.174965575337410,-0.125796884298325));
res += mul(Get(s1,-dx,-dy), float4x4(0.086191229522228,0.010129540227354,0.028658227995038,-0.089395858347416,-0.083324842154980,-0.098983891308308,-0.071983516216278,0.044457703828812,0.042862780392170,-0.062767498195171,-0.050644569098949,0.086100175976753,0.056046981364489,0.253250926733017,-0.054619058966637,0.018404487520456));
res += mul(Get(s1,-dx,0), float4x4(-0.055514156818390,0.180721044540405,-0.078533433377743,0.037691432982683,-0.087896630167961,0.242476314306259,-0.009002221748233,0.004503807984293,-0.101665996015072,0.041440397500992,0.060785625129938,-0.101136505603790,-0.087019324302673,0.032804489135742,0.067817933857441,0.047190152108669));
res += mul(Get(s1,-dx,dy), float4x4(-0.190603286027908,-0.190785050392151,-0.133163079619408,0.117397978901863,-0.126684039831161,-0.045690000057220,-0.032987199723721,-0.059306461364031,0.103529080748558,0.040525596588850,-0.080385424196720,0.054431878030300,0.090831235051155,0.003030993975699,-0.145019844174385,-0.098492585122585));
res += mul(Get(s1,0,-dy), float4x4(-0.039547022432089,0.121794223785400,-0.093991532921791,-0.105121627449989,0.088064819574356,0.076355129480362,0.063333019614220,0.184862136840820,0.057040460407734,0.023977400735021,0.062476083636284,0.161150246858597,0.096167080104351,0.131568431854248,0.125788196921349,-0.008530959486961));
res += mul(Get(s1,0,0), float4x4(0.003628458594903,-0.030038001015782,-0.064506225287914,0.118588551878929,-0.015188070945442,0.123396106064320,-0.137961402535439,0.210348293185234,-0.097258754074574,0.125234246253967,0.004755509085953,-0.045141734182835,0.003687781747431,0.201668366789818,-0.070923402905464,-0.053565889596939));
res += mul(Get(s1,0,dy), float4x4(-0.044651258736849,0.014172386378050,-0.086955182254314,0.132341101765633,0.018105916678905,0.043800152838230,-0.053442344069481,0.023693142458797,-0.094172969460487,0.012841339223087,0.089031979441643,0.062514618039131,-0.024677429348230,-0.107174254953861,-0.068940714001656,0.071109287440777));
res += mul(Get(s1,dx,-dy), float4x4(0.006711055524647,0.044143281877041,0.103120379149914,0.010377489961684,0.177114933729172,-0.022185401991010,-0.078729502856731,-0.171823278069496,-0.017596703022718,0.001630195532925,0.208026513457298,-0.111152648925781,0.058957107365131,-0.066720716655254,0.046670380979776,0.007912841625512));
res += mul(Get(s1,dx,0), float4x4(0.146703630685806,-0.037083957344294,-0.013749266043305,0.271633327007294,-0.140289753675461,-0.028402289375663,-0.053202543407679,0.016869500279427,-0.054535768926144,-0.044416949152946,0.079964987933636,-0.006773512810469,-0.118195280432701,0.152370989322662,0.081670530140400,0.093703381717205));
res += mul(Get(s1,dx,dy), float4x4(-0.037255074828863,-0.003775719320402,-0.007598564028740,-0.001540057477541,0.123994298279285,0.100533485412598,0.062922380864620,0.099065311253071,-0.185312077403069,-0.067707858979702,0.127108082175255,0.100252628326416,-0.007193894125521,-0.083831265568733,0.097543619573116,-0.116166256368160));
res += mul(Get(s2,-dx,-dy), float4x4(0.147599741816521,-0.121473930776119,-0.095216251909733,0.012211252003908,0.031397838145494,-0.106271594762802,0.056306321173906,0.017695153132081,-0.097208268940449,-0.271552771329880,0.050594255328178,-0.070720262825489,0.149601206183434,-0.096647672355175,0.161536231637001,0.047295313328505));
res += mul(Get(s2,-dx,0), float4x4(0.033858377486467,-0.046590954065323,0.048142045736313,0.052201647311449,-0.005351888015866,-0.155684515833855,0.303158342838287,-0.001519461511634,0.096129938960075,0.044002309441566,0.189488202333450,-0.024449519813061,0.139592558145523,-0.160111457109451,0.212433204054832,-0.030008751899004));
res += mul(Get(s2,-dx,dy), float4x4(-0.174977943301201,-0.125189676880836,0.034855253994465,0.048725746572018,0.024087924510241,0.075258418917656,-0.043944813311100,-0.180692017078400,0.156855911016464,0.111705042421818,-0.042865335941315,-0.085080228745937,-0.188789457082748,0.081656128168106,0.041757669299841,-0.102637998759747));
res += mul(Get(s2,0,-dy), float4x4(0.058959536254406,0.004061441402882,0.049059301614761,0.071759156882763,0.020798295736313,0.235258206725121,-0.098074823617935,-0.006632093340158,0.039996068924665,-0.136838123202324,-0.077776469290257,-0.093363910913467,-0.079902961850166,-0.021551825106144,-0.238658919930458,0.195779636502266));
res += mul(Get(s2,0,0), float4x4(-0.027742372825742,-0.109092921018600,0.123876132071018,0.146758019924164,0.036030530929565,0.044621296226978,-0.066317476332188,0.007182060275227,-0.070809632539749,-0.085096023976803,0.139266490936279,-0.048227619379759,-0.128225743770599,-0.134159132838249,-0.012709574773908,-0.077587194740772));
res += mul(Get(s2,0,dy), float4x4(-0.111835680902004,-0.032194033265114,0.076086431741714,-0.042890325188637,0.046097546815872,0.088349670171738,-0.036797456443310,-0.111772924661636,0.022128988057375,-0.014882293529809,0.007409963756800,-0.071533776819706,0.101040706038475,-0.098944425582886,0.048243265599012,0.037512533366680));
res += mul(Get(s2,dx,-dy), float4x4(0.000066228363721,-0.017327111214399,0.166871115565300,0.013796650804579,0.097400546073914,-0.017339989542961,0.040157511830330,-0.002769494662061,-0.146120458841324,-0.183051243424416,0.046099588274956,-0.053102843463421,0.053926538676023,0.011969451792538,-0.131227627396584,-0.069611519575119));
res += mul(Get(s2,dx,0), float4x4(-0.018992187455297,-0.003305861027911,-0.110314190387726,-0.068097196519375,-0.106371998786926,0.025267563760281,0.073978610336781,0.015157299116254,-0.089579090476036,-0.072239980101585,0.073450282216072,-0.194062739610672,-0.044813189655542,0.156820088624954,-0.064622543752193,0.175606712698936));
res += mul(Get(s2,dx,dy), float4x4(0.069419115781784,0.144625008106232,-0.000493211846333,0.081736847758293,-0.029498523101211,0.042154449969530,0.055751521140337,-0.062290072441101,0.052649773657322,0.095912180840969,0.051799576729536,0.014589822851121,-0.046754416078329,-0.043214060366154,-0.091666832566261,0.006007295101881));
res += mul(Get(s3,-dx,-dy), float4x4(0.074103325605392,0.061877708882093,0.025388909503818,0.234341785311699,-0.083224907517433,0.148214593529701,0.086352929472923,0.018489239737391,-0.117371231317520,-0.116721451282501,0.059416651725769,-0.202864110469818,-0.035272706300020,-0.141079276800156,0.006144441664219,0.006789895240217));
res += mul(Get(s3,-dx,0), float4x4(0.218534201383591,-0.052652362734079,0.153108745813370,0.139902293682098,-0.101100385189056,-0.315322786569595,0.338680535554886,-0.228501290082932,0.004737203475088,0.044784344732761,-0.019878102466464,-0.018222911283374,-0.111879728734493,-0.196828827261925,-0.064490869641304,0.252361923456192));
res += mul(Get(s3,-dx,dy), float4x4(-0.159551143646240,-0.037561830133200,-0.163118764758110,-0.024912158027291,0.028675690293312,-0.061834599822760,0.096919037401676,0.130085006356239,-0.002420593984425,-0.018802879378200,-0.094415940344334,0.053417272865772,-0.222700893878937,-0.004297425970435,0.094758428633213,0.039700388908386));
res += mul(Get(s3,0,-dy), float4x4(0.038701098412275,-0.119617804884911,-0.120398901402950,-0.024482337757945,0.088580660521984,-0.022785864770412,-0.118474751710892,0.055257841944695,-0.189340963959694,0.006393196526915,0.029754586517811,0.045251999050379,-0.173030063509941,-0.021227817982435,-0.067104332149029,0.056369364261627));
res += mul(Get(s3,0,0), float4x4(-0.003009329549968,0.027134897187352,0.094704411923885,0.189345568418503,-0.003905916353688,0.058131728321314,0.023183465003967,0.216487988829613,0.084248669445515,0.092813514173031,-0.006781198550016,-0.034195363521576,-0.057992387562990,-0.155609279870987,0.002972085261717,-0.071930341422558));
res += mul(Get(s3,0,dy), float4x4(-0.055416837334633,0.061293408274651,-0.017917370423675,-0.076388426125050,-0.023170091211796,0.097047083079815,-0.099729210138321,0.136746644973755,0.155617222189903,0.044929903000593,0.004574787802994,-0.008872509002686,-0.299630075693130,0.032509114593267,0.038351491093636,-0.038739282637835));
res += mul(Get(s3,dx,-dy), float4x4(0.102670438587666,0.102998487651348,-0.119670286774635,0.042390335351229,-0.108645975589752,0.104539319872856,0.230774253606796,-0.025454355403781,-0.023370685055852,-0.115604273974895,-0.031202662736177,0.117879644036293,0.016162436455488,-0.028479589149356,-0.092881388962269,0.051992468535900));
res += mul(Get(s3,dx,0), float4x4(-0.012334626168013,-0.122656084597111,-0.096662014722824,-0.240292206406593,0.063658505678177,-0.074054151773453,0.089683271944523,0.081142492592335,0.041131246834993,0.019767839461565,0.110191702842712,-0.129972830414772,-0.097865484654903,-0.148223131895065,0.139651998877525,0.052847646176815));
res += mul(Get(s3,dx,dy), float4x4(-0.118237562477589,0.009542887099087,-0.083991460502148,-0.022936515510082,-0.080114394426346,-0.200273051857948,-0.009541524574161,0.132589161396027,-0.137543678283691,0.130635678768158,-0.011381478980184,-0.082957468926907,-0.046996302902699,0.060492977499962,0.207886531949043,-0.365966558456421));
return max(float4(0,0,0,0), res);
}
