sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.014078358188272,0.056069277226925,0.127312153577805,0.050480190664530,-0.155528783798218,-0.112584419548512,-0.134998083114624,-0.030490502715111,0.049258358776569,-0.078910306096077,-0.024205999448895,-0.139948129653931,-0.071725532412529,0.026782143861055,-0.089643165469170,-0.124006941914558));
res += mul(Get(s0,-dx,0), float4x4(-0.020448751747608,0.070294588804245,0.090508185327053,0.143818616867065,-0.116915456950665,-0.102912753820419,-0.055720400065184,-0.050386346876621,-0.042327843606472,-0.120845682919025,0.005818719509989,-0.143148392438889,-0.075759053230286,-0.012275068089366,0.040829669684172,-0.159005299210548));
res += mul(Get(s0,-dx,dy), float4x4(-0.113976374268532,-0.011149810627103,-0.011286730878055,0.071929559111595,-0.097286805510521,-0.108222886919975,0.065129458904266,0.123858019709587,-0.035390306264162,-0.030443849042058,-0.058117657899857,-0.073943398892879,-0.016928425058722,0.269344359636307,-0.076298646628857,-0.100789844989777));
res += mul(Get(s0,0,-dy), float4x4(-0.004945442546159,-0.034605249762535,-0.066725313663483,0.104483410716057,-0.046546060591936,-0.117358386516571,-0.093046598136425,0.021927138790488,-0.018711175769567,-0.121092736721039,-0.019982628524303,-0.113603100180626,-0.039393462240696,-0.097398310899734,0.049971863627434,-0.120796307921410));
res += mul(Get(s0,0,0), float4x4(0.112796060740948,-0.054141279309988,0.004470083862543,0.018440131098032,-0.084202945232391,-0.098877154290676,0.060362622141838,-0.013168042525649,-0.031092137098312,-0.095792897045612,0.009681766852736,-0.083409547805786,0.033691726624966,-0.034095808863640,0.108563184738159,-0.187792971730232));
res += mul(Get(s0,0,dy), float4x4(0.010207241401076,-0.051720298826694,-0.088912867009640,-0.010730452835560,-0.071367338299751,-0.052493434399366,-0.055995363742113,0.081807248294353,-0.085504278540611,0.003937967587262,-0.067559242248535,-0.019754504784942,0.127192005515099,0.137850478291512,-0.075276494026184,-0.110720917582512));
res += mul(Get(s0,dx,-dy), float4x4(-0.001857030554675,0.033963721245527,0.033464733511209,0.107679530978203,0.006388959009200,-0.068657852709293,-0.103234924376011,0.119776263833046,-0.064418375492096,-0.106299676001072,0.099835015833378,0.007909622043371,-0.009739129804075,0.220326751470566,0.063680246472359,-0.081150680780411));
res += mul(Get(s0,dx,0), float4x4(0.103520125150681,-0.009337813593447,0.007125867530704,0.025669522583485,-0.013672891072929,-0.052433490753174,-0.017543114721775,0.151116266846657,-0.034544672816992,-0.047886095941067,0.089467808604240,-0.048474006354809,0.199352055788040,0.144072473049164,0.028143292292953,-0.127943396568298));
res += mul(Get(s0,dx,dy), float4x4(0.110873103141785,0.025141481310129,-0.013402438722551,0.013780052773654,0.084830872714520,-0.040594283491373,-0.027782630175352,0.175926104187965,-0.111042834818363,-0.073922418057919,0.080936916172504,-0.026053071022034,0.117198258638382,0.043100390583277,-0.013314687646925,-0.028514234349132));
res += mul(Get(s1,-dx,-dy), float4x4(-0.051716022193432,-0.114173136651516,0.072314977645874,0.067934215068817,-0.067575894296169,-0.037943035364151,0.024422600865364,0.099992141127586,-0.069654844701290,-0.078007102012634,0.029329963028431,-0.060770530253649,-0.123028859496117,0.015786109492183,0.029195006936789,0.031551130115986));
res += mul(Get(s1,-dx,0), float4x4(0.069607503712177,0.082774065434933,0.098278023302555,0.068194612860680,-0.028583282604814,0.024986859411001,0.001719755004160,-0.061509225517511,-0.066536426544189,0.065304212272167,-0.107704035937786,-0.133089229464531,0.020895302295685,-0.008080895990133,0.010255165398121,0.054727897047997));
res += mul(Get(s1,-dx,dy), float4x4(-0.034667070955038,0.059493355453014,-0.032550681382418,0.018790235742927,-0.095744997262955,-0.018096843734384,0.044986542314291,-0.056581228971481,-0.134238108992577,-0.050331685692072,0.139848992228508,-0.001435830723494,-0.075448900461197,-0.050007417798042,-0.087815389037132,0.043685376644135));
res += mul(Get(s1,0,-dy), float4x4(-0.010728132911026,0.147033601999283,0.082159765064716,0.062393579632044,-0.003103948896751,-0.075197488069534,-0.055237188935280,0.235990479588509,0.115349948406219,-0.019773222506046,0.019509002566338,0.263729542493820,0.015347974374890,-0.035258017480373,-0.064720928668976,-0.007915897294879));
res += mul(Get(s1,0,0), float4x4(0.054046880453825,-0.081164114177227,0.027258485555649,0.001506042899564,0.031820941716433,-0.046079337596893,0.050400450825691,0.003662862582132,0.170113906264305,0.064088486135006,-0.073736935853958,0.089527413249016,0.123967289924622,-0.023902151733637,-0.088301800191402,-0.026935022324324));
res += mul(Get(s1,0,dy), float4x4(-0.019296523183584,0.088697366416454,-0.047588951885700,-0.038240712136030,0.012066046707332,-0.004924304317683,0.086805820465088,0.127261027693748,0.075887203216553,0.025931527838111,0.177427843213081,0.146088331937790,0.028639532625675,0.150533065199852,-0.136645570397377,-0.053503595292568));
res += mul(Get(s1,dx,-dy), float4x4(0.014775048941374,0.145940721035004,0.245617941021919,0.108940318226814,0.017400803044438,0.181302353739738,0.007613675203174,0.146250709891319,-0.065307915210724,0.026217274367809,0.077506251633167,0.037168949842453,-0.003573527093977,0.095799691975117,0.146191954612732,-0.076664000749588));
res += mul(Get(s1,dx,0), float4x4(-0.009528365917504,0.086748614907265,0.051684428006411,0.083900533616543,0.079693302512169,0.004448817111552,-0.011913854628801,0.051606636494398,0.039433434605598,0.050122391432524,-0.038982816040516,-0.031036609783769,0.082717768847942,0.116362929344177,0.179912328720093,0.062320671975613));
res += mul(Get(s1,dx,dy), float4x4(0.062073580920696,0.102520748972893,-0.107955336570740,-0.002703345380723,-0.011321454308927,-0.019401730969548,0.022319465875626,-0.002582609653473,0.090688899159431,0.071337200701237,0.071749009191990,0.020130502060056,0.095474109053612,0.025998000055552,-0.127887830138206,0.017554443329573));
res += mul(Get(s2,-dx,-dy), float4x4(-0.136031046509743,-0.029984397813678,-0.034753877669573,-0.142478957772255,-0.064614348113537,-0.051779478788376,-0.005197409074754,-0.078632295131683,-0.142074793577194,-0.123246937990189,0.065426066517830,0.169491156935692,-0.071877181529999,-0.089262507855892,0.006022171117365,-0.019380839541554));
res += mul(Get(s2,-dx,0), float4x4(-0.103464215993881,-0.013187329284847,-0.026648906990886,-0.146066620945930,-0.146747738122940,-0.047310937196016,0.034638524055481,-0.109072841703892,-0.160036355257034,0.081920705735683,-0.052221290767193,-0.087127916514874,-0.108621262013912,-0.079277560114861,0.074085339903831,-0.250142037868500));
res += mul(Get(s2,-dx,dy), float4x4(-0.046292942017317,0.058877736330032,-0.000162174110301,-0.196802467107773,-0.079217419028282,-0.159362837672234,-0.062328174710274,-0.096450455486774,-0.068030141294003,0.091292671859264,-0.063373632729053,-0.180986434221268,-0.094907261431217,0.050232648849487,0.075324937701225,-0.268074035644531));
res += mul(Get(s2,0,-dy), float4x4(-0.053002350032330,-0.044549755752087,-0.143051087856293,-0.037254638969898,0.073407262563705,-0.114834256470203,-0.069403305649757,-0.151510462164879,0.033046375960112,0.130171716213226,0.007843057624996,0.090842232108116,-0.002673957496881,-0.066598743200302,-0.018328471109271,0.027823898941278));
res += mul(Get(s2,0,0), float4x4(-0.041776146739721,-0.064843185245991,-0.037510979920626,-0.006861648056656,0.028181964531541,-0.043465841561556,-0.011742519214749,-0.057173170149326,0.029513597488403,0.108969286084175,-0.016691498458385,-0.049762338399887,0.158161595463753,-0.049623124301434,-0.023621289059520,-0.191420003771782));
res += mul(Get(s2,0,dy), float4x4(0.043484788388014,-0.054461993277073,-0.054704278707504,-0.090292796492577,-0.013875494711101,-0.022368386387825,-0.085635468363762,-0.089772239327431,-0.111250907182693,-0.031103432178497,-0.064306288957596,0.093163430690765,0.023707255721092,-0.012956476770341,-0.039878707379103,-0.143761664628983));
res += mul(Get(s2,dx,-dy), float4x4(-0.062875501811504,0.018999548628926,-0.079765535891056,-0.160986781120300,0.150717675685883,0.116677470505238,-0.005677395034581,0.031486529856920,0.052750702947378,0.018160352483392,0.079411774873734,0.009701787494123,0.005176256410778,-0.047847926616669,-0.061189081519842,-0.031820256263018));
res += mul(Get(s2,dx,0), float4x4(0.097100876271725,0.053849183022976,-0.050598748028278,-0.048926729708910,0.026841023936868,-0.003245936008170,0.154441267251968,-0.122456893324852,0.009786117821932,-0.020663095638156,-0.013554234057665,0.118258737027645,0.146597638726234,-0.022090896964073,-0.069049015641212,-0.082208245992661));
res += mul(Get(s2,dx,dy), float4x4(0.174929380416870,-0.045817770063877,-0.068124778568745,-0.187315016984940,-0.054644305258989,0.006560785230249,-0.005555951502174,-0.107151284813881,0.038872875273228,-0.101931057870388,-0.057409614324570,-0.170333743095398,-0.097232654690742,0.031769286841154,-0.157030150294304,-0.184814274311066));
res += mul(Get(s3,-dx,-dy), float4x4(-0.031393937766552,-0.080130800604820,-0.054619994014502,0.040991168469191,-0.141117751598358,-0.018913498148322,0.068944953382015,0.077735155820847,-0.005074396263808,-0.069717757403851,-0.087508410215378,0.051176801323891,0.006703501101583,0.037923272699118,0.061060845851898,0.053528826683760));
res += mul(Get(s3,-dx,0), float4x4(0.045977804809809,-0.026361895725131,-0.073693878948689,-0.003010095562786,-0.202661514282227,-0.188675150275230,0.036416668444872,0.068613670766354,0.019317943602800,-0.062928982079029,-0.016407346352935,0.028957938775420,0.020022498443723,-0.038556125015020,-0.066945567727089,0.043080627918243));
res += mul(Get(s3,-dx,dy), float4x4(-0.099206596612930,0.125076889991760,-0.139737427234650,0.030366806313396,-0.105760075151920,-0.001375299645588,-0.097642861306667,-0.085671089589596,-0.070382341742516,-0.047948408871889,0.163125693798065,0.039380252361298,0.018136510625482,0.002842384623364,-0.035910762846470,0.182070270180702));
res += mul(Get(s3,0,-dy), float4x4(0.000725867750589,-0.074944838881493,-0.029885973781347,0.011492102406919,-0.017243705689907,-0.047281820327044,0.098575301468372,0.063057541847229,-0.063955292105675,-0.058420892804861,-0.052503760904074,0.132464513182640,-0.078670248389244,-0.008215154521167,0.032939229160547,0.165062546730042));
res += mul(Get(s3,0,0), float4x4(0.175610363483429,0.038748942315578,-0.078829661011696,-0.062093582004309,0.001030462211929,-0.021522911265492,-0.019668512046337,0.023935267701745,-0.002991214161739,-0.035566657781601,-0.013941638171673,0.051960822194815,-0.050028752535582,0.172439143061638,-0.044503469020128,0.019401581957936));
res += mul(Get(s3,0,dy), float4x4(-0.029312971979380,-0.008277070708573,0.019763886928558,0.134890660643578,0.168046981096268,0.009489379823208,-0.079238958656788,0.015457980334759,0.102660283446312,-0.074057884514332,0.097448393702507,0.135804787278175,0.017347227782011,0.026057824492455,-0.043076857924461,0.018003223463893));
res += mul(Get(s3,dx,-dy), float4x4(0.014464910142124,-0.012816950678825,0.161097630858421,0.101709030568600,-0.033279929310083,-0.035278439521790,0.044230960309505,0.013802531175315,0.018162528052926,-0.064558215439320,0.030420379713178,0.038684852421284,-0.034595750272274,0.021687876433134,-0.069917701184750,0.033236302435398));
res += mul(Get(s3,dx,0), float4x4(0.075381912291050,0.050906296819448,0.039078366011381,0.056273780763149,0.023348558694124,-0.008407162502408,-0.041086379438639,0.047273509204388,0.070333726704121,0.015403981320560,-0.037555925548077,-0.101050198078156,0.027198879048228,-0.149402618408203,0.182155042886734,0.047630943357944));
res += mul(Get(s3,dx,dy), float4x4(0.040785975754261,-0.010165276937187,0.072079613804817,-0.006121885962784,-0.034443553537130,-0.001951165380888,-0.021534863859415,0.065372541546822,-0.119679346680641,-0.129909202456474,0.084707811474800,0.096290417015553,0.116430714726448,-0.060214903205633,0.019564779475331,-0.026301257312298));
return max(float4(0,0,0,0), res);
}
