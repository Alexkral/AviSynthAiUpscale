sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.015250872820616,-0.013668301515281,0.110027194023132,0.104377299547195,0.017594661563635,-0.054880734533072,-0.059861160814762,0.007611099164933,-0.178763777017593,0.074869394302368,-0.173969149589539,-0.005000310018659,0.021997760981321,-0.155975103378296,0.029763231053948,-0.035914734005928));
res += mul(Get(s0,-dx,0), float4x4(-0.049537576735020,-0.028022063896060,-0.154109343886375,-0.100561536848545,0.007771921809763,0.042428772896528,0.106767490506172,0.050160460174084,-0.057301141321659,-0.067837707698345,-0.007988584227860,0.143203958868980,0.006549092009664,-0.054966405034065,-0.192889288067818,0.059066288173199));
res += mul(Get(s0,-dx,dy), float4x4(-0.156676650047302,-0.068235680460930,0.296473681926727,-0.139710411429405,0.154672637581825,0.097732387483120,-0.057153679430485,-0.143781095743179,-0.024910796433687,0.130058795213699,0.049762297421694,-0.082513920962811,-0.019734267145395,0.112130969762802,0.074132621288300,0.051170907914639));
res += mul(Get(s0,0,-dy), float4x4(-0.008090273477137,-0.062859944999218,0.373025923967361,0.067676641047001,-0.017068816348910,-0.057617772370577,0.003455546451733,-0.068852111697197,-0.073474854230881,0.023912271484733,-0.107958443462849,0.108305305242538,-0.052936259657145,-0.024648973718286,0.119599245488644,0.047474429011345));
res += mul(Get(s0,0,0), float4x4(0.012530890293419,-0.133749485015869,0.135223284363747,-0.055673595517874,-0.011384982615709,-0.149355128407478,-0.041214950382710,0.089891672134399,-0.015967175364494,-0.044486537575722,-0.066448897123337,0.113251879811287,-0.097288437187672,0.283313274383545,0.035568602383137,-0.093178428709507));
res += mul(Get(s0,0,dy), float4x4(0.008390126749873,-0.117631055414677,0.211130991578102,-0.074435316026211,-0.063372619450092,-0.020918766036630,-0.133550256490707,-0.059940051287413,-0.168597623705864,0.084334231913090,0.006579865235835,0.237728595733643,-0.071364045143127,0.037923756986856,0.015102695673704,-0.118155315518379));
res += mul(Get(s0,dx,-dy), float4x4(-0.103545747697353,-0.140770614147186,-0.012831695377827,-0.011413642205298,-0.109143100678921,0.005809698719531,-0.053796384483576,-0.240530669689178,0.013073440641165,-0.137084260582924,-0.050325669348240,-0.139490425586700,-0.019547350704670,0.129575043916702,0.086183749139309,0.024475205689669));
res += mul(Get(s0,dx,0), float4x4(-0.040508005768061,-0.158818706870079,-0.156080886721611,-0.046107415109873,0.027860743924975,-0.135269060730934,-0.019292922690511,-0.111737824976444,0.120368935167789,-0.202433809638023,0.004401680082083,-0.143779784440994,-0.041730921715498,0.021182773634791,0.031939893960953,-0.221186265349388));
res += mul(Get(s0,dx,dy), float4x4(0.075391039252281,-0.121799625456333,-0.038801785558462,-0.077055215835571,0.154737383127213,-0.093789041042328,0.009562660939991,-0.014387931674719,-0.082422532141209,0.004318608436733,-0.021267147734761,0.215186491608620,0.120681762695313,-0.027460431680083,0.040448769927025,-0.197799190878868));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015056703239679,0.106419205665588,-0.174605086445808,0.009226449765265,0.087241910398006,0.166757598519325,0.053977094590664,-0.016677636653185,-0.114902310073376,0.036847390234470,-0.031989235430956,0.099659971892834,0.075370013713837,-0.065696284174919,-0.146453633904457,-0.020444110035896));
res += mul(Get(s1,-dx,0), float4x4(0.022008256986737,-0.036573454737663,-0.055504675954580,0.106275498867035,0.009385895915329,0.105882771313190,-0.098150201141834,-0.062587276101112,-0.044944982975721,-0.087328575551510,-0.088467136025429,-0.008479265496135,-0.038635775446892,0.092648148536682,-0.026795521378517,0.117057293653488));
res += mul(Get(s1,-dx,dy), float4x4(-0.038031700998545,0.003186834976077,0.037272918969393,0.070411548018456,0.190551206469536,0.053853135555983,-0.176127538084984,-0.112602517008781,0.075699687004089,0.073942847549915,0.035861384123564,-0.060453776270151,-0.074664786458015,0.031781282275915,-0.085469312965870,-0.011845588684082));
res += mul(Get(s1,0,-dy), float4x4(-0.136537238955498,-0.032208252698183,0.169528529047966,0.026441631838679,-0.014303931966424,0.191222935914993,0.019073193892837,0.010376820340753,-0.168837636709213,0.062383927404881,-0.017182525247335,0.045279748737812,-0.057664539664984,-0.088283553719521,-0.024736819788814,0.026743073016405));
res += mul(Get(s1,0,0), float4x4(-0.048677325248718,-0.083734177052975,0.257986962795258,0.133951231837273,-0.030911279842257,0.049677550792694,-0.107464268803596,0.029438816010952,-0.076160244643688,-0.035155009478331,0.073961600661278,0.007682515308261,0.041138987988234,-0.038743667304516,0.060988798737526,0.275935381650925));
res += mul(Get(s1,0,dy), float4x4(-0.117610611021519,0.058321818709373,-0.001176240737550,-0.070634461939335,0.098195359110832,-0.056052744388580,-0.055178709328175,0.002152587752789,-0.111427329480648,0.079404652118683,0.101883709430695,-0.058423962444067,-0.001820020028390,0.097205050289631,-0.063058622181416,-0.210482880473137));
res += mul(Get(s1,dx,-dy), float4x4(0.102527968585491,0.027052611112595,-0.030496634542942,-0.053403452038765,0.110155820846558,0.049323633313179,-0.026196619495749,0.065612189471722,0.090552583336830,-0.022210473194718,-0.011952117085457,-0.003643316449597,-0.024167139083147,-0.034620214253664,-0.030436201021075,-0.013286477886140));
res += mul(Get(s1,dx,0), float4x4(0.038781233131886,-0.034843757748604,0.173238426446915,0.119857177138329,0.054192062467337,0.162698954343796,-0.174867391586304,-0.100384242832661,-0.056988459080458,-0.137421965599060,-0.112497277557850,-0.009235264733434,0.115938141942024,0.088935114443302,-0.092057205736637,0.046481363475323));
res += mul(Get(s1,dx,dy), float4x4(0.282504081726074,0.015347173437476,-0.048178248107433,-0.181685715913773,-0.014427704736590,0.209550336003304,-0.097162790596485,-0.073597118258476,0.012281244620681,-0.043434113264084,0.196733340620995,-0.080532334744930,0.197035580873489,-0.098272167146206,-0.052183020859957,0.173565074801445));
res += mul(Get(s2,-dx,-dy), float4x4(0.077576071023941,0.175180822610855,-0.106589011847973,-0.076922699809074,-0.003939890302718,0.032108303159475,0.073735170066357,-0.033885028213263,-0.158329635858536,-0.032610058784485,0.173246622085571,0.062599144876003,0.042792949825525,-0.188681975007057,-0.023806374520063,0.069980151951313));
res += mul(Get(s2,-dx,0), float4x4(-0.166608080267906,-0.069051042199135,-0.017350587993860,0.089732706546783,0.300741761922836,-0.003971739672124,0.000874277087860,-0.018814608454704,-0.064991176128387,-0.020555453374982,-0.157962620258331,-0.034676916897297,0.025591626763344,-0.048164900392294,-0.041582722216845,-0.071048595011234));
res += mul(Get(s2,-dx,dy), float4x4(-0.230206653475761,0.001534094335511,-0.067947357892990,-0.137726128101349,0.052953418344259,0.058318674564362,0.182591065764427,-0.006939159240574,0.025249511003494,0.024196928367019,0.097804374992847,0.076755270361900,0.154740303754807,-0.091697216033936,-0.160008147358894,0.087645672261715));
res += mul(Get(s2,0,-dy), float4x4(0.097431182861328,0.088204301893711,-0.088863641023636,-0.014768200926483,-0.041062798351049,0.029733706265688,0.048414979130030,0.001904709381051,-0.065420337021351,-0.130426049232483,-0.006318938452750,0.103201791644096,0.061175014823675,-0.118945665657520,0.005350726190954,0.045208871364594));
res += mul(Get(s2,0,0), float4x4(-0.044157840311527,0.350471526384354,-0.040943413972855,-0.044192191213369,-0.097971528768539,-0.011818286031485,-0.163420990109444,0.059960141777992,-0.079079680144787,-0.061968345195055,-0.045341838151217,-0.009094725362957,-0.013123663142323,-0.027950542047620,-0.059498213231564,-0.088960036635399));
res += mul(Get(s2,0,dy), float4x4(-0.075297892093658,0.013359596952796,-0.179122105240822,-0.184689745306969,-0.187847450375557,0.061499256640673,-0.021626522764564,0.283891648054123,-0.067030534148216,-0.113984540104866,0.108367890119553,0.102632634341717,0.001051078084856,-0.051107380539179,-0.044169291853905,0.000263532157987));
res += mul(Get(s2,dx,-dy), float4x4(0.048163365572691,0.190112486481667,-0.081235401332378,0.020025804638863,0.099463440477848,-0.039213791489601,0.141531497240067,0.044675111770630,0.360939532518387,-0.245642960071564,0.234239697456360,-0.042171861976385,0.163852185010910,-0.107179746031761,0.033623896539211,-0.009474177844822));
res += mul(Get(s2,dx,0), float4x4(0.093157790601254,0.138134285807610,-0.079262301325798,-0.165330916643143,-0.021756412461400,-0.027113303542137,-0.021145667880774,-0.023124642670155,0.244462400674820,-0.111458443105221,-0.023991402238607,0.124383702874184,-0.068768754601479,0.020802756771445,0.003683181479573,-0.041624560952187));
res += mul(Get(s2,dx,dy), float4x4(0.039222911000252,0.027609249576926,-0.201679706573486,-0.279505908489227,0.005616315640509,0.038539383560419,0.065851181745529,0.057793550193310,0.030639128759503,0.072737529873848,-0.110894992947578,-0.188136681914330,0.089398235082626,-0.011702840216458,-0.048686120659113,0.036721799522638));
res += mul(Get(s3,-dx,-dy), float4x4(-0.092313446104527,-0.098284102976322,0.018350584432483,-0.021948372945189,-0.020870678126812,-0.017950566485524,-0.084866620600224,0.063936479389668,0.087643660604954,-0.057014804333448,-0.001798309735022,-0.205828949809074,-0.050548691302538,-0.136283949017525,0.007444621529430,-0.065920710563660));
res += mul(Get(s3,-dx,0), float4x4(-0.076656252145767,0.018319949507713,0.002429068554193,-0.014093001373112,-0.047220405191183,0.072620965540409,-0.019076507538557,0.018460104241967,-0.049203075468540,-0.054651834070683,-0.102010890841484,-0.042897123843431,-0.012517570517957,-0.132737725973129,0.008164407685399,-0.034379635006189));
res += mul(Get(s3,-dx,dy), float4x4(0.178533077239990,-0.086550153791904,0.039504457265139,0.076837763190269,0.014525931328535,-0.047521658241749,0.075027294456959,-0.064158275723457,-0.187800467014313,-0.069543808698654,0.094726972281933,-0.007342651486397,0.233562961220741,-0.102732241153717,0.189980894327164,0.049896750599146));
res += mul(Get(s3,0,-dy), float4x4(-0.091733261942863,0.001260176650248,-0.001876665512100,-0.056802678853273,-0.083055414259434,-0.071199767291546,-0.040463391691446,0.053046431392431,0.010149648413062,0.163359746336937,0.020975045859814,-0.153086632490158,-0.100163176655769,-0.138100579380989,-0.094725444912910,-0.051509521901608));
res += mul(Get(s3,0,0), float4x4(-0.014423078857362,-0.053343277424574,0.130799859762192,0.060319498181343,-0.145866006612778,0.074531011283398,0.009063611738384,0.030280705541372,0.003323142183945,0.040074061602354,-0.038545247167349,-0.069847889244556,-0.073874309659004,-0.112533882260323,-0.072635464370251,-0.023452928289771));
res += mul(Get(s3,0,dy), float4x4(0.124009348452091,0.042506180703640,0.090241409838200,0.076031222939491,-0.030589267611504,0.138461172580719,-0.002439299132675,0.069039210677147,0.040030930191278,0.165827989578247,0.001966974232346,-0.062110677361488,-0.028311489149928,-0.072157084941864,-0.076494082808495,0.042276911437511));
res += mul(Get(s3,dx,-dy), float4x4(-0.101821564137936,-0.034938786178827,-0.104308575391769,0.020725578069687,-0.204737752676010,-0.120177455246449,-0.007213318254799,0.177552834153175,-0.090509839355946,0.132357284426689,0.118058525025845,0.029425801709294,-0.053093001246452,-0.062152765691280,0.216192722320557,-0.067816995084286));
res += mul(Get(s3,dx,0), float4x4(0.029276013374329,-0.051589544862509,-0.092462889850140,-0.085535891354084,-0.039898615330458,0.168285027146339,-0.037405483424664,0.018499424681067,0.094233892858028,0.134764730930328,-0.035179946571589,-0.123088352382183,-0.093708157539368,-0.050610918551683,-0.018016209825873,-0.122041516005993));
res += mul(Get(s3,dx,dy), float4x4(0.099751353263855,0.110070563852787,-0.145857140421867,0.041628498584032,0.035734944045544,0.026738410815597,-0.100642397999763,0.091905571520329,0.130056858062744,-0.089638441801071,-0.032781098037958,-0.018914757296443,0.195131272077560,-0.035595856606960,-0.042520757764578,-0.121988087892532));
return max(float4(0,0,0,0), res);
}
