sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.046873096376657,-0.063817963004112,-0.102918893098831,0.071554385125637,-0.051807552576065,-0.091629877686501,-0.015424998477101,0.024209892377257,-0.130368858575821,-0.035980209708214,0.058132924139500,-0.029355194419622,0.009530403651297,0.005010509397835,0.010070574469864,0.003757838159800));
res += mul(Get(s0,-dx,0), float4x4(-0.013001725077629,-0.037234641611576,0.054486207664013,0.053906120359898,-0.092168830335140,-0.023270219564438,-0.046854708343744,-0.017544878646731,-0.152061074972153,0.034869797527790,0.025294374674559,0.041536740958691,0.000196224253159,0.007302353624254,-0.018215237185359,0.001491371891461));
res += mul(Get(s0,-dx,dy), float4x4(-0.001841117744334,0.019655369222164,0.160944059491158,0.069295622408390,0.054465819150209,0.031616892665625,0.088070876896381,0.038306981325150,-0.147793516516685,-0.002408902859315,0.083906330168247,0.031478740274906,0.006353585980833,0.002191064413637,-0.016484361141920,-0.008396472781897));
res += mul(Get(s0,0,-dy), float4x4(0.032195284962654,-0.013481795787811,-0.078991457819939,0.103197939693928,-0.000095607436378,-0.013958543539047,0.088393412530422,0.001613280270249,-0.055891931056976,-0.071241930127144,0.051018226891756,0.021623769775033,0.030598435550928,0.051124237477779,-0.048066377639771,0.065961852669716));
res += mul(Get(s0,0,0), float4x4(0.095177292823792,0.077872022986412,0.049114245921373,0.019844934344292,-0.184800401329994,0.040154788643122,-0.224508821964264,-0.071132160723209,0.039952382445335,-0.079785026609898,-0.096861273050308,0.035495691001415,0.036853846162558,0.055972605943680,-0.022513817995787,0.042212460190058));
res += mul(Get(s0,0,dy), float4x4(-0.016356160864234,0.047328092157841,0.194582059979439,0.091369338333607,0.103440433740616,0.130859136581421,0.156676024198532,0.020965280011296,-0.048348482698202,-0.135403126478195,-0.031096098944545,0.068615280091763,0.023971172049642,0.050109747797251,0.016326429322362,0.022535108029842));
res += mul(Get(s0,dx,-dy), float4x4(0.108188353478909,0.005134317558259,-0.148242861032486,0.029771635308862,0.104659400880337,0.043168094009161,0.036768231540918,-0.039575319737196,-0.031644519418478,-0.032145243138075,0.101819738745689,-0.063720442354679,0.046810619533062,0.071349307894707,0.048704691231251,-0.018257915973663));
res += mul(Get(s0,dx,0), float4x4(0.044139642268419,0.035187933593988,0.120746046304703,-0.054290872067213,0.088708661496639,-0.006133333779871,0.134935319423676,-0.049488596618176,0.030688421800733,-0.035644195973873,0.112323187291622,-0.018572703003883,0.077372454106808,0.039902441203594,-0.006849132943898,-0.036478854715824));
res += mul(Get(s0,dx,dy), float4x4(-0.002340969163924,0.045856937766075,0.202054023742676,-0.060496039688587,0.024818412959576,0.066180579364300,-0.034602440893650,-0.109358921647072,-0.017417076975107,-0.075569510459900,0.064678423106670,-0.061713792383671,0.047838382422924,0.010666453279555,-0.054638076573610,-0.020640242844820));
res += mul(Get(s1,-dx,-dy), float4x4(-0.214138269424438,-0.092640280723572,0.124146111309528,0.039833880960941,0.007873777300119,-0.044744279235601,0.009044837206602,-0.049477592110634,-0.102237634360790,0.022217793390155,-0.025300286710262,-0.049494843930006,-0.077049233019352,0.084881938993931,0.025283755734563,-0.002912689233199));
res += mul(Get(s1,-dx,0), float4x4(-0.143956288695335,-0.086580924689770,-0.096690572798252,0.096895702183247,0.008203350007534,-0.065623015165329,-0.003741474822164,0.001524974475615,-0.133123591542244,-0.059506043791771,-0.003207030473277,-0.024086628109217,-0.022890426218510,-0.044354695826769,0.009119644761086,-0.022630983963609));
res += mul(Get(s1,-dx,dy), float4x4(-0.084181070327759,-0.062945440411568,-0.056346308439970,0.147313922643661,-0.091993190348148,-0.042592015117407,-0.037770655006170,0.007149620912969,-0.046702098101377,0.032342202961445,0.045635946094990,0.052680797874928,0.042514726519585,-0.093475781381130,0.102515436708927,-0.015612511895597));
res += mul(Get(s1,0,-dy), float4x4(0.030906911939383,0.143909990787506,0.044690877199173,0.016093116253614,0.086315885186195,-0.018410172313452,0.070861682295799,-0.007659983355552,-0.093144305050373,0.103602156043053,0.001317529589869,-0.048510000109673,-0.109968148171902,0.143939301371574,-0.054023694247007,0.002230497542769));
res += mul(Get(s1,0,0), float4x4(0.023137414827943,0.060474388301373,-0.002029107883573,-0.037346169352531,0.162777528166771,-0.034539505839348,0.094866484403610,-0.004261601716280,-0.023001737892628,0.076034754514694,-0.040288753807545,0.005254293791950,0.101206310093403,0.067524798214436,-0.034721519798040,0.025906361639500));
res += mul(Get(s1,0,dy), float4x4(0.080162145197392,-0.084326863288879,-0.022009614855051,-0.002631768817082,0.112139612436295,0.013756941072643,0.090501323342323,0.005698027554899,-0.033398959785700,0.140169069170952,0.026388760656118,-0.005485982634127,-0.023582203313708,0.018998481333256,-0.070453450083733,-0.000982475467026));
res += mul(Get(s1,dx,-dy), float4x4(-0.106884084641933,-0.012076210230589,-0.005577562376857,-0.048646941781044,0.163398385047913,-0.079444915056229,0.061217930167913,0.050203967839479,0.049618609249592,-0.011650888249278,-0.007023942656815,-0.045778948813677,0.001952717546374,0.012777856551111,0.048887677490711,-0.029869772493839));
res += mul(Get(s1,dx,0), float4x4(0.127497315406799,0.020107332617044,-0.017170950770378,-0.040689811110497,0.141473159193993,-0.112509831786156,-0.012647029943764,0.032366763800383,0.000797644723207,-0.072187066078186,-0.002797496272251,-0.024610267952085,0.027713023126125,0.084974341094494,0.049395550042391,-0.035188108682632));
res += mul(Get(s1,dx,dy), float4x4(0.000708687177394,0.027018360793591,-0.066766560077667,-0.039833560585976,0.065275609493256,-0.041969273239374,-0.027766287326813,0.059422057121992,0.068729922175407,-0.039932355284691,-0.085661597549915,-0.036267925053835,0.098506823182106,-0.031435437500477,-0.029733221977949,-0.076199471950531));
res += mul(Get(s2,-dx,-dy), float4x4(-0.037936802953482,0.017778504639864,-0.001602939213626,0.023777632042766,-0.139814004302025,-0.087344452738762,0.013945520855486,-0.033302761614323,-0.132664442062378,0.146048545837402,0.078795902431011,0.044907752424479,-0.049202974885702,-0.008366766385734,0.064828030765057,-0.020385086536407));
res += mul(Get(s2,-dx,0), float4x4(-0.212547719478607,0.072429992258549,-0.171173498034477,0.031870763748884,-0.015470012091100,-0.013028274290264,-0.083968378603458,-0.009004062972963,-0.048453968018293,0.044614620506763,0.084509372711182,0.046595931053162,-0.057805813848972,0.011915730312467,0.031187716871500,0.003812738694251));
res += mul(Get(s2,-dx,dy), float4x4(-0.075241684913635,0.019566899165511,0.019801771268249,0.043556384742260,-0.112926416099072,0.016966454684734,-0.002073609735817,0.034645806998014,-0.044046048074961,-0.009819217026234,0.067175388336182,0.040773577988148,0.008016814477742,-0.045162908732891,-0.035474359989166,-0.020133739337325));
res += mul(Get(s2,0,-dy), float4x4(-0.142593801021576,0.051477719098330,0.054728541523218,0.023486481979489,-0.092247553169727,0.064513802528381,0.005949051585048,-0.060559909790754,-0.160912811756134,-0.004327794071287,-0.034950409084558,-0.057799406349659,-0.022738443687558,-0.054489418864250,-0.040665537118912,0.008017325773835));
res += mul(Get(s2,0,0), float4x4(-0.008432306349277,0.037833534181118,-0.126148402690887,-0.010536202229559,0.124100670218468,0.024439029395580,0.343959718942642,0.007763401605189,-0.043755259364843,0.037070244550705,-0.096169099211693,0.018296567723155,0.009270189329982,0.028740987181664,0.226070076227188,0.098866105079651));
res += mul(Get(s2,0,dy), float4x4(0.071831934154034,0.019540706649423,-0.043822973966599,-0.058253709226847,-0.005453846417367,-0.037003003060818,0.141110241413116,-0.013054540380836,-0.002479396993294,0.096135556697845,0.099547304213047,0.037252396345139,-0.014740704558790,-0.011885987594724,0.042246188968420,0.020357556641102));
res += mul(Get(s2,dx,-dy), float4x4(-0.002237604232505,0.006411645561457,0.023351795971394,0.088669687509537,0.050593245774508,-0.040334019809961,-0.046141460537910,-0.089816488325596,-0.022136317566037,0.026719095185399,0.077572859823704,0.034265428781509,0.058842111378908,-0.001891512074508,-0.020308766514063,0.041538707911968));
res += mul(Get(s2,dx,0), float4x4(-0.000014568855477,0.138081133365631,0.095993056893349,0.040411069989204,-0.003362209070474,-0.025809267535806,0.045314326882362,-0.064269043505192,0.051363058388233,-0.095640584826469,0.101041972637177,0.028438113629818,0.010887946002185,0.008725126273930,-0.028235619887710,0.038391716778278));
res += mul(Get(s2,dx,dy), float4x4(-0.004548217635602,0.072140537202358,-0.020058562979102,0.043895006179810,0.009309136308730,0.050169959664345,-0.028661889955401,-0.026434293016791,-0.013963764533401,0.013816739432514,-0.020633175969124,-0.014865522272885,-0.058860633522272,-0.036310374736786,-0.000728354498278,0.008610507473350));
res += mul(Get(s3,-dx,-dy), float4x4(0.024609893560410,0.102812364697456,0.062466003000736,-0.012433954514563,0.127842217683792,-0.120116479694843,-0.018504276871681,0.005964920856059,-0.054174553602934,-0.232376143336296,-0.055343091487885,-0.029113754630089,-0.068658836185932,-0.084790162742138,-0.053017131984234,0.001968677854165));
res += mul(Get(s3,-dx,0), float4x4(-0.041905131191015,0.055986225605011,-0.035901643335819,-0.031012913212180,0.058177832514048,-0.026571158319712,0.002944514621049,0.052517559379339,0.008721188642085,-0.181211158633232,0.004375442396849,0.044162224978209,0.035465650260448,-0.043109428137541,0.043530259281397,0.085230782628059));
res += mul(Get(s3,-dx,dy), float4x4(-0.021976329386234,-0.039523575454950,-0.058255035430193,-0.019999869167805,-0.014121402055025,-0.008471711538732,-0.015624595806003,0.060949396342039,0.118639774620533,-0.172914892435074,0.008975435979664,-0.025081433355808,0.086197286844254,-0.095824517309666,0.078030817210674,0.076594047248363));
res += mul(Get(s3,0,-dy), float4x4(0.163527831435204,0.047377977520227,0.108338952064514,0.085069626569748,0.009363905526698,-0.126030355691910,0.021432735025883,-0.002221497707069,0.050322499126196,-0.062950171530247,0.028827250003815,0.006535418797284,-0.046632871031761,0.050701674073935,-0.064002223312855,-0.064090088009834));
res += mul(Get(s3,0,0), float4x4(-0.014295616187155,0.148578137159348,0.051660846918821,0.071008689701557,0.016559386625886,-0.085993893444538,0.044682055711746,-0.014426017180085,-0.000359955709428,-0.079943262040615,0.081032857298851,0.056139897555113,0.149122610688210,-0.043017268180847,-0.032877195626497,-0.020454308018088));
res += mul(Get(s3,0,dy), float4x4(0.065364815294743,0.045812614262104,-0.053040657192469,0.004576518665999,-0.037679009139538,-0.155670255422592,-0.034896004945040,0.155665084719658,0.119371853768826,-0.055299714207649,-0.011179216206074,0.024566479027271,0.143838107585907,-0.065353885293007,-0.003161777975038,0.012684406712651));
res += mul(Get(s3,dx,-dy), float4x4(0.249098062515259,-0.008634818717837,0.004813379142433,0.001780510996468,-0.082298777997494,0.106497906148434,-0.028193291276693,0.050525717437267,0.016522170975804,0.068586759269238,-0.003249926026911,0.005156398285180,-0.060869358479977,-0.068714946508408,-0.009148594923317,-0.075803585350513));
res += mul(Get(s3,dx,0), float4x4(-0.060117367655039,0.058884210884571,0.098826929926872,0.045536838471889,0.074997372925282,0.195141926407814,0.036290202289820,-0.035101268440485,-0.027536964043975,0.080922029912472,0.046819481998682,-0.025142526254058,0.097916565835476,0.008796930313110,-0.030287761241198,-0.107471004128456));
res += mul(Get(s3,dx,dy), float4x4(0.029604636132717,-0.002457869006321,-0.047613903880119,0.000028176540582,-0.113005593419075,0.140281543135643,-0.028697066009045,0.022166844457388,0.023891294375062,0.075397655367851,0.041431009769440,-0.047025926411152,-0.035977415740490,0.022756263613701,-0.042702104896307,-0.042690541595221));
return max(float4(0,0,0,0), res);
}
