sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.098806597292423,0.005321449600160,-0.061895836144686,-0.066685833036900,0.193008437752724,-0.001553759910166,-0.018217224627733,-0.131701827049255,0.037646088749170,0.000540090550203,0.104208029806614,-0.119014613330364,-0.183406159281731,-0.136406049132347,0.060128148645163,0.010451447218657));
res += mul(Get(s0,-dx,0), float4x4(-0.089126668870449,-0.141086280345917,0.137925848364830,0.012538412585855,0.054665159434080,-0.075370833277702,-0.078432686626911,-0.072509750723839,0.098609231412411,-0.041381835937500,-0.017470557242632,-0.012952673248947,0.101123109459877,-0.223226696252823,0.094401538372040,-0.024542903527617));
res += mul(Get(s0,-dx,dy), float4x4(-0.056286081671715,0.080192677676678,0.088288292288780,0.059589393436909,0.057313237339258,-0.038179147988558,-0.019920798018575,0.098964422941208,0.102138310670853,0.083441294729710,0.042798005044460,0.085511140525341,-0.059111539274454,0.014317755587399,0.025997703894973,-0.136680439114571));
res += mul(Get(s0,0,-dy), float4x4(-0.133859619498253,0.029649034142494,0.014748093672097,-0.019271045923233,0.038545794785023,0.059627376496792,-0.065056897699833,0.040544953197241,0.003892381442711,0.096539445221424,0.157101213932037,-0.163152590394020,-0.141441777348518,0.067321166396141,-0.102475568652153,0.009443719871342));
res += mul(Get(s0,0,0), float4x4(0.137016847729683,-0.022750491276383,0.037586908787489,0.156376659870148,-0.077504448592663,-0.058037806302309,0.094970829784870,-0.243150129914284,0.225069671869278,0.247523844242096,0.279232472181320,-0.005932672880590,0.057541772723198,0.112690292298794,0.032847821712494,0.126602113246918));
res += mul(Get(s0,0,dy), float4x4(-0.094768531620502,-0.106671027839184,0.079670809209347,0.152703195810318,-0.081103913486004,-0.185027241706848,-0.214970767498016,-0.072730183601379,-0.049839816987514,0.020327307283878,0.077399820089340,0.000873380573466,-0.010160583071411,0.194339081645012,-0.061332162469625,0.087389297783375));
res += mul(Get(s0,dx,-dy), float4x4(-0.048404999077320,-0.169608458876610,-0.222639039158821,0.128736332058907,-0.041134022176266,-0.088628664612770,0.017985776066780,-0.089342132210732,0.029003348201513,-0.096403405070305,0.110900491476059,-0.036508966237307,0.091441996395588,0.023545520380139,-0.075197152793407,-0.033323779702187));
res += mul(Get(s0,dx,0), float4x4(-0.078983955085278,-0.015179015696049,0.168083980679512,-0.024059221148491,0.185568287968636,-0.208309993147850,0.066616334021091,0.032468140125275,0.131596729159355,-0.023565661162138,0.058189049363136,0.039167072623968,-0.177554666996002,0.071283191442490,0.046201266348362,-0.080289460718632));
res += mul(Get(s0,dx,dy), float4x4(0.128149628639221,-0.005121491849422,0.111527025699615,0.167643621563911,-0.017913516610861,0.023156527429819,0.051544997841120,-0.103801064193249,-0.231533095240593,-0.004240322858095,-0.107953399419785,0.102542944252491,-0.001306168036535,-0.155698120594025,-0.025205915793777,-0.031778961420059));
res += mul(Get(s1,-dx,-dy), float4x4(0.018682327121496,0.080441944301128,-0.035101432353258,-0.124174505472183,0.033206932246685,-0.065574154257774,0.251211047172546,-0.079267814755440,0.077907912433147,-0.042136892676353,-0.073404408991337,-0.176366567611694,0.196816608309746,0.130861803889275,-0.057671789079905,0.029810417443514));
res += mul(Get(s1,-dx,0), float4x4(0.099160306155682,0.109134979546070,-0.085749171674252,-0.094868503510952,0.055991228669882,-0.171516701579094,0.013515246100724,0.026629520580173,0.144913375377655,0.223727330565453,0.189500629901886,-0.037652716040611,-0.057057369500399,0.250141948461533,-0.029720183461905,0.046828664839268));
res += mul(Get(s1,-dx,dy), float4x4(-0.058541968464851,0.078178137540817,-0.271144300699234,0.095601946115494,0.000122325378470,-0.000301809166558,-0.118290439248085,0.015396851114929,-0.087568953633308,-0.203308627009392,0.004137706942856,-0.129771634936333,0.093329265713692,0.121855050325394,0.134198665618896,-0.054599765688181));
res += mul(Get(s1,0,-dy), float4x4(-0.025694817304611,0.094587758183479,0.147739410400391,-0.049828086048365,-0.010536294430494,0.050493404269218,0.066111043095589,-0.137489587068558,-0.286694437265396,0.063174188137054,-0.085630297660828,0.042267967015505,-0.043945789337158,0.089733302593231,0.094801209867001,0.069794870913029));
res += mul(Get(s1,0,0), float4x4(-0.124892115592957,0.239048585295677,0.021777322515845,-0.146362692117691,-0.009513407014310,0.213864311575890,-0.020913651213050,-0.069064103066921,0.047515612095594,-0.009665238671005,0.017885001376271,0.104135125875473,-0.142049312591553,0.080049671232700,0.010346394963562,0.059880461543798));
res += mul(Get(s1,0,dy), float4x4(0.020978203043342,-0.027496209368110,0.206796675920486,0.018139177933335,0.120108731091022,0.031094374135137,-0.055686321109533,-0.112479180097580,0.117724411189556,-0.045528355985880,-0.104978941380978,0.084401212632656,-0.040122821927071,0.131169334053993,0.128504440188408,0.036751121282578));
res += mul(Get(s1,dx,-dy), float4x4(0.072113104164600,-0.009000746533275,0.023497447371483,0.013797055929899,-0.035341221839190,-0.039644867181778,0.021533664315939,0.107097387313843,0.085020452737808,0.202224552631378,-0.116217374801636,0.000290003576083,0.102167598903179,0.098127894103527,0.137280464172363,0.155160337686539));
res += mul(Get(s1,dx,0), float4x4(-0.157489344477654,0.051291991025209,-0.011466346681118,0.072283327579498,-0.230517879128456,0.136412635445595,-0.035789757966995,0.099588274955750,-0.076695024967194,0.076596140861511,0.032117631286383,-0.067333668470383,0.007198030594736,0.106366232037544,0.168489351868629,0.096138261258602));
res += mul(Get(s1,dx,dy), float4x4(0.014003738760948,-0.048086240887642,-0.080473206937313,-0.104175671935081,-0.020942969247699,0.000186144403415,0.028164153918624,0.037367440760136,0.224584296345711,-0.029444005340338,0.040639221668243,-0.127261981368065,-0.185259908437729,0.015861852094531,0.206085145473480,-0.072763763368130));
res += mul(Get(s2,-dx,-dy), float4x4(0.092214994132519,0.059582561254501,-0.060829412192106,-0.068257085978985,0.207673579454422,-0.085909299552441,0.094776608049870,0.061728071421385,0.052199497818947,0.027549944818020,0.089764341711998,0.023994736373425,-0.055298689752817,-0.128418698906898,-0.176879957318306,-0.056880414485931));
res += mul(Get(s2,-dx,0), float4x4(-0.077805407345295,-0.053185477852821,0.076706834137440,0.060217011719942,-0.070897519588470,0.189823925495148,0.137563288211823,-0.162756934762001,-0.158326342701912,0.057379689067602,-0.147233232855797,0.047980468720198,-0.012427225708961,0.183072313666344,-0.052280016243458,0.057511176913977));
res += mul(Get(s2,-dx,dy), float4x4(0.065275236964226,0.114984340965748,-0.129566788673401,0.177426919341087,0.054547045379877,0.026637565344572,0.030279457569122,0.030359668657184,0.004352946765721,-0.008435812778771,0.224748343229294,0.071844547986984,-0.047200519591570,-0.129333749413490,0.030830515548587,-0.018707610666752));
res += mul(Get(s2,0,-dy), float4x4(0.089470043778419,0.007643125485629,-0.029677329584956,-0.129046410322189,0.047936867922544,0.008613947778940,-0.024245209991932,-0.085879683494568,0.039871525019407,0.019079698249698,0.107597760856152,-0.114676550030708,-0.039838027209044,-0.098949804902077,-0.066094622015953,0.295206338167191));
res += mul(Get(s2,0,0), float4x4(-0.115334294736385,0.126485317945480,-0.038196027278900,0.074266232550144,-0.046421457082033,-0.013568617403507,0.146112173795700,0.247975766658783,-0.117795243859291,0.228596225380898,-0.076639421284199,-0.040844034403563,-0.009470618329942,-0.041128695011139,0.068286575376987,0.131204277276993));
res += mul(Get(s2,0,dy), float4x4(-0.055776689201593,-0.007251149974763,-0.221121728420258,0.026899991557002,0.094486631453037,-0.030491469427943,0.024330144748092,-0.045621279627085,0.082496255636215,0.047419711947441,0.032600488513708,-0.044071756303310,-0.115765929222107,-0.128222197294235,0.131550341844559,0.198183551430702));
res += mul(Get(s2,dx,-dy), float4x4(0.036128569394350,-0.085137084126472,0.003026916878298,-0.045698653906584,-0.142950534820557,-0.131869062781334,0.029216624796391,-0.110917583107948,0.124340817332268,-0.008197649382055,0.040702134370804,0.016530653461814,-0.116184055805206,0.047093421220779,0.105844885110855,-0.005494600161910));
res += mul(Get(s2,dx,0), float4x4(0.018239734694362,0.084358952939510,0.117965035140514,0.127044916152954,0.062707550823689,-0.003509568283334,-0.160887569189072,-0.041254609823227,0.034628733992577,0.208488926291466,-0.165461614727974,-0.012681877240539,-0.072857670485973,0.019002342596650,0.156850188970566,-0.096125185489655));
res += mul(Get(s2,dx,dy), float4x4(0.042397622019053,0.000025082355933,-0.134815648198128,0.032057117670774,0.038838054984808,0.007458369713277,0.020738245919347,-0.068147160112858,0.028699412941933,-0.062062043696642,0.028287462890148,0.189144909381866,-0.198482245206833,0.054916430264711,0.002273734891787,0.085219413042068));
res += mul(Get(s3,-dx,-dy), float4x4(-0.209076598286629,0.011129285208881,-0.094556599855423,-0.026528107002378,0.179583325982094,-0.144728317856789,0.100246317684650,-0.121280513703823,-0.006429679226130,0.093804307281971,-0.050682138651609,0.106369689106941,-0.100333221256733,-0.197851568460464,-0.014122788794339,0.109337881207466));
res += mul(Get(s3,-dx,0), float4x4(-0.015955958515406,0.203115269541740,0.200939744710922,-0.007386676035821,-0.022260665893555,-0.056468654423952,-0.047288749366999,-0.010742302052677,-0.136527776718140,0.057621546089649,0.000321295345202,-0.041266705840826,-0.005625877529383,0.038969151675701,0.064467146992683,0.126572296023369));
res += mul(Get(s3,-dx,dy), float4x4(-0.146841585636139,-0.019399428740144,-0.034118160605431,0.167854830622673,-0.012994965538383,0.046597596257925,-0.003710216842592,0.103704877197742,-0.097887665033340,0.111790947616100,-0.165072411298752,-0.180423766374588,0.008960259146988,0.058570355176926,0.003914403729141,-0.093619301915169));
res += mul(Get(s3,0,-dy), float4x4(0.046450421214104,-0.057086046785116,0.110607177019119,0.016047624871135,0.000750814971980,0.181207299232483,-0.027968902140856,0.051149055361748,0.081964924931526,0.014195022173226,-0.249543145298958,-0.000325027504005,-0.031150104478002,0.046335067600012,0.132221698760986,0.020018070936203));
res += mul(Get(s3,0,0), float4x4(0.099277950823307,0.016565972939134,-0.036880612373352,-0.120829403400421,-0.086875662207603,0.159632697701454,-0.190524354577065,-0.058627147227526,-0.047083135694265,-0.073972806334496,-0.022344989702106,0.141270339488983,-0.058997035026550,0.116890661418438,0.005087623372674,-0.277750670909882));
res += mul(Get(s3,0,dy), float4x4(0.127858534455299,-0.051529444754124,0.200548171997070,0.025350615382195,-0.091482095420361,0.059734608978033,0.031633205711842,0.007489667739719,-0.025500811636448,-0.019485676661134,0.048131290823221,-0.096476435661316,0.035924494266510,0.096194654703140,-0.001109619042836,0.113543964922428));
res += mul(Get(s3,dx,-dy), float4x4(0.062853582203388,-0.105641812086105,0.011444333940744,0.067397028207779,-0.112589046359062,0.004215967375785,0.065057530999184,-0.023767711594701,0.061838168650866,0.019159231334925,-0.005031507927924,0.020441371947527,-0.134908318519592,0.068421214818954,0.028316572308540,-0.144228368997574));
res += mul(Get(s3,dx,0), float4x4(-0.000635108910501,-0.062166605144739,-0.027032451704144,-0.065359920263290,0.058774285018444,0.051494419574738,0.143290132284164,-0.069300390779972,0.045211639255285,-0.071640051901340,0.069595284759998,-0.090300619602203,0.040171876549721,0.146012008190155,0.000965650659055,0.007935903966427));
res += mul(Get(s3,dx,dy), float4x4(0.050202924758196,0.019944924861193,-0.004554816987365,-0.020548610016704,-0.109762370586395,0.079228781163692,-0.095199622213840,0.023068808019161,0.091337487101555,0.031894601881504,0.100140050053596,-0.111320190131664,-0.077559322118759,-0.118133440613747,0.048318669199944,0.026430249214172));
return max(float4(0,0,0,0), res);
}
