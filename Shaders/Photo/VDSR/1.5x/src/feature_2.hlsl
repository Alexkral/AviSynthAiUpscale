sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.098399721086025,-0.196025982499123,-0.212302461266518,-0.079356446862221) * Get(-dx,-dy);
res += float4(-0.020366720855236,-0.082784421741962,0.405588358640671,0.236619606614113) * Get(-dx,0);
res += float4(0.014168507419527,0.060984671115875,0.042361747473478,-0.083342671394348) * Get(-dx,dy);
res += float4(-0.037666197866201,-0.136752486228943,-0.378362298011780,-0.139278590679169) * Get(0,-dy);
res += float4(-0.167893320322037,-0.028957443311810,-0.037927936762571,0.394715696573257) * Get(0,0);
res += float4(-0.032789587974548,-0.071453116834164,0.089388005435467,-0.086279310286045) * Get(0,dy);
res += float4(-0.081448689103127,0.005376537796110,0.030176004394889,-0.015895685181022) * Get(dx,-dy);
res += float4(0.318653672933578,0.019324278458953,0.049265969544649,-0.046234089881182) * Get(dx,0);
res += float4(0.172646149992943,0.003054520813748,-0.036239493638277,0.032016586512327) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
