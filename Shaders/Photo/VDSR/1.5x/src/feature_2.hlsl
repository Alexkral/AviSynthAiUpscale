sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.095119662582874,0.038512855768204,-0.018267944455147,0.090789765119553) * Get(-dx,-dy);
res += float4(0.230514794588089,0.062968410551548,-0.114171721041203,0.053258035331964) * Get(-dx,0);
res += float4(-0.159584909677505,0.178200915455818,-0.114333212375641,-0.011432062834501) * Get(-dx,dy);
res += float4(-0.042647786438465,-0.127857282757759,0.038258198648691,0.196927219629288) * Get(0,-dy);
res += float4(0.123830437660217,-0.372665554285049,-0.070403613150120,0.229151174426079) * Get(0,0);
res += float4(-0.283643215894699,-0.300551295280457,-0.086085252463818,0.015214453451335) * Get(0,dy);
res += float4(-0.103005379438400,-0.013888279907405,0.110006175935268,-0.180340632796288) * Get(dx,-dy);
res += float4(0.013635279610753,0.740378856658936,0.067059010267258,-0.023075010627508) * Get(dx,0);
res += float4(-0.121844142675400,0.225175559520721,0.022005798295140,-0.205877318978310) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
