sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.064500793814659,-0.005893192719668,-0.053261473774910,-0.101680755615234,0.000712058797944,-0.125763654708862,-0.125437512993813,0.059850301593542,0.044177025556564,-0.000321502389852,-0.010313795879483,-0.006004719529301,-0.053369037806988,0.089255675673485,-0.006409795489162,0.004205954726785));
res += mul(Get(s0,-dx,0), float4x4(-0.021298112347722,-0.055030323565006,-0.035282440483570,-0.158434048295021,0.090255938470364,0.122126862406731,-0.120748110115528,0.051675356924534,0.006978212855756,-0.013881552033126,-0.064656637609005,-0.045601326972246,0.063500039279461,-0.044288568198681,-0.075314506888390,-0.038415629416704));
res += mul(Get(s0,-dx,dy), float4x4(-0.055223494768143,0.043548438698053,-0.084386102855206,-0.016050685197115,0.173780515789986,0.030512493103743,0.229322791099548,0.088564798235893,-0.036587592214346,-0.010355215519667,0.051086548715830,0.046126347035170,-0.059452325105667,-0.021632863208652,0.050154119729996,0.029444657266140));
res += mul(Get(s0,0,-dy), float4x4(-0.011498991400003,-0.035455830395222,-0.015589619986713,-0.129251942038536,0.095567934215069,-0.051798515021801,-0.061987049877644,-0.126666665077209,0.008326642215252,0.021297620609403,0.040438994765282,-0.010339749976993,0.072835482656956,-0.027233703061938,0.053537756204605,0.002959356643260));
res += mul(Get(s0,0,0), float4x4(-0.060985345393419,-0.007933648303151,-0.050569582730532,-0.169642671942711,0.075236983597279,0.144657030701637,-0.099039450287819,-0.149903565645218,-0.062402192503214,0.086410127580166,0.013228464871645,-0.061834979802370,0.004262808244675,0.065498203039169,-0.073061615228653,0.062971793115139));
res += mul(Get(s0,0,dy), float4x4(-0.100102864205837,0.014220698736608,-0.063876099884510,-0.044686965644360,-0.030098645016551,-0.002727992832661,0.137004405260086,0.055383853614330,-0.059725772589445,0.072501361370087,0.025010155513883,0.018223501741886,-0.151808947324753,0.080992914736271,-0.026459299027920,0.053277764469385));
res += mul(Get(s0,dx,-dy), float4x4(-0.016844714060426,0.075386978685856,-0.034139089286327,-0.062621556222439,-0.075124710798264,0.001541688106954,-0.128232792019844,-0.017612984403968,-0.028938369825482,0.037955489009619,-0.009045206941664,0.054832831025124,0.035131715238094,0.151228025555611,-0.044883120805025,-0.015911389142275));
res += mul(Get(s0,dx,0), float4x4(-0.055527783930302,0.027332618832588,-0.064464002847672,-0.151888668537140,-0.056732848286629,0.083807729184628,-0.060127176344395,-0.024523239582777,0.000150047198986,-0.025891419500113,0.071091629564762,0.011053819209337,-0.072749286890030,0.006491471547633,-0.070040874183178,-0.137510582804680));
res += mul(Get(s0,dx,dy), float4x4(-0.030513679608703,0.057315170764923,-0.057226974517107,-0.043913047760725,-0.061851628124714,0.006809183862060,0.101492106914520,0.018543697893620,0.089804016053677,0.082085907459259,0.006731831934303,0.082030870020390,0.046526189893484,-0.125512272119522,0.036875110119581,-0.056270204484463));
res += mul(Get(s1,-dx,-dy), float4x4(-0.086992762982845,-0.031333141028881,-0.044804040342569,-0.032164353877306,0.119127042591572,-0.117138653993607,0.018695075064898,-0.016157364472747,-0.014076420105994,0.029007900506258,0.102437645196915,-0.131829172372818,0.007841622456908,-0.017479175701737,-0.039559736847878,-0.145326912403107));
res += mul(Get(s1,-dx,0), float4x4(-0.079261459410191,0.043606139719486,0.031853608787060,0.072375245392323,-0.001948128337972,-0.074681259691715,0.200235903263092,-0.023599768057466,0.070204809308052,0.043053429573774,0.129329591989517,-0.099813379347324,-0.049365647137165,-0.025778168812394,-0.078324891626835,-0.175421938300133));
res += mul(Get(s1,-dx,dy), float4x4(-0.023001613095403,0.015487260185182,-0.029193434864283,0.123106248676777,0.023775329813361,-0.044669862836599,-0.062304601073265,0.154723390936852,0.097021207213402,-0.049524456262589,-0.122882843017578,-0.001909535843879,-0.018516995012760,0.078725911676884,-0.090819790959358,-0.123390413820744));
res += mul(Get(s1,0,-dy), float4x4(-0.098209410905838,0.032218616455793,-0.048605140298605,-0.045167926698923,-0.020760484039783,0.039166498929262,-0.044943165034056,-0.092182464897633,0.008988526649773,-0.037114337086678,0.071803100407124,-0.004888623021543,-0.059151940047741,0.095964118838310,-0.002007606206462,0.000981498160399));
res += mul(Get(s1,0,0), float4x4(-0.067722976207733,-0.140795484185219,0.031807452440262,0.029717348515987,-0.117598980665207,-0.004389130044729,0.000090547189757,-0.121780514717102,-0.054849091917276,0.048743531107903,0.124684549868107,-0.018073378130794,-0.008539403788745,0.000203748510103,-0.076122567057610,-0.034032847732306));
res += mul(Get(s1,0,dy), float4x4(-0.004931546747684,-0.094990767538548,0.118417590856552,0.153024137020111,-0.154097571969032,-0.036341741681099,-0.014938020147383,-0.007890416309237,-0.109148681163788,0.135105013847351,-0.139619007706642,0.032543536275625,0.182473182678223,-0.052948653697968,-0.084159791469574,-0.013774475082755));
res += mul(Get(s1,dx,-dy), float4x4(-0.038116272538900,-0.050058316439390,-0.050600398331881,-0.021266078576446,-0.096143461763859,-0.111621685326099,-0.005861664656550,-0.004116474650800,-0.085652001202106,-0.027700742706656,0.014617732726038,-0.080439008772373,-0.008546926081181,0.077900767326355,0.069587044417858,0.020672019571066));
res += mul(Get(s1,dx,0), float4x4(-0.035027373582125,-0.090525977313519,-0.007395782973617,-0.015560639090836,-0.115490131080151,-0.117262467741966,0.012265637516975,0.079359203577042,-0.093843832612038,-0.097935289144516,0.008615337312222,-0.072447143495083,0.054895274341106,-0.031791612505913,0.016132231801748,0.103338949382305));
res += mul(Get(s1,dx,dy), float4x4(0.014488310553133,-0.025224793702364,0.138692066073418,0.095219001173973,-0.022934691980481,0.036421079188585,0.002963490784168,0.136739179491997,-0.021940853446722,0.073306620121002,-0.124077260494232,-0.086667753756046,0.130468413233757,-0.010184842161834,-0.026203488931060,0.121341675519943));
res += mul(Get(s2,-dx,-dy), float4x4(-0.018547270447016,-0.034376766532660,-0.006218980066478,0.101676113903522,0.046259440481663,-0.039931144565344,-0.056820873171091,-0.089971847832203,-0.009405153803527,0.018249280750751,-0.027562642470002,0.054623581469059,-0.072599045932293,0.011670943349600,-0.033113788813353,0.021533612161875));
res += mul(Get(s2,-dx,0), float4x4(-0.047746535390615,-0.044948924332857,0.110731557011604,-0.029859645292163,0.020300209522247,-0.055565420538187,0.037162862718105,-0.028099115937948,-0.038641702383757,0.023770293220878,-0.071046307682991,0.017980774864554,-0.093421965837479,-0.018237147480249,0.085507266223431,0.107563450932503));
res += mul(Get(s2,-dx,dy), float4x4(-0.038567405194044,0.116779603064060,0.174112588167191,-0.145304456353188,-0.011030366644263,-0.028233278542757,0.013380989432335,0.031793832778931,-0.049658384174109,-0.047566659748554,-0.033740792423487,0.077528439462185,-0.078898318111897,0.053549934178591,-0.001724435016513,0.143130809068680));
res += mul(Get(s2,0,-dy), float4x4(0.005529368761927,0.053757671266794,-0.026725536212325,0.041877165436745,0.019541366025805,-0.035476729273796,0.010056946426630,-0.064086280763149,-0.045918773859739,-0.016720382496715,-0.025414329022169,0.044469278305769,-0.024604545906186,0.042616017162800,-0.008584080263972,-0.101798057556152));
res += mul(Get(s2,0,0), float4x4(-0.015170736238360,0.086724065244198,-0.089953601360321,-0.065077953040600,-0.013310134410858,-0.032849252223969,0.133999645709991,0.036994986236095,-0.029755355790257,-0.088762424886227,-0.065855160355568,0.090553097426891,-0.104933895170689,-0.004513377789408,-0.031189946457744,-0.143772616982460));
res += mul(Get(s2,0,dy), float4x4(0.152845159173012,0.065016485750675,0.011450453661382,-0.153212174773216,-0.013023159466684,-0.082501478493214,0.128182932734489,0.106458805501461,0.140650406479836,0.005284846760333,-0.009726392105222,0.186474919319153,-0.023385943844914,0.069300264120102,0.060004144906998,0.064870707690716));
res += mul(Get(s2,dx,-dy), float4x4(-0.027219425886869,-0.004842988681048,0.080893501639366,0.079492643475533,0.004343665670604,-0.029789272695780,-0.028938826173544,-0.051661878824234,-0.066729716956615,0.048920769244432,-0.015414556488395,-0.143363371491432,0.058687929064035,-0.034534502774477,0.076514154672623,-0.143674865365028));
res += mul(Get(s2,dx,0), float4x4(-0.049479607492685,0.040340863168240,0.020501159131527,-0.037902746349573,-0.011263489723206,-0.060583319514990,0.014116181991994,-0.005841263104230,0.010330338962376,-0.108745597302914,-0.147774949669838,-0.178968772292137,-0.005434412974864,0.025153877213597,-0.049296285957098,-0.073917426168919));
res += mul(Get(s2,dx,dy), float4x4(-0.031168362125754,0.073541641235352,-0.028404464945197,-0.108708031475544,-0.031395446509123,0.177974134683609,-0.065139748156071,0.053870499134064,0.133743718266487,-0.016472613438964,-0.150863945484161,0.007980964146554,0.000703084224369,0.083197757601738,0.088988423347473,0.000866368936840));
res += mul(Get(s3,-dx,-dy), float4x4(0.164823278784752,0.105235002934933,0.057397939264774,0.065122187137604,0.073114842176437,-0.017101585865021,-0.026321168988943,0.147597774863243,-0.074252791702747,-0.174491882324219,-0.079045400023460,-0.183543041348457,0.009969187900424,0.103946261107922,0.102489069104195,-0.071729592978954));
res += mul(Get(s3,-dx,0), float4x4(0.109416425228119,0.136043012142181,-0.121148861944675,0.024822270497680,0.016478464007378,-0.035376563668251,-0.056648828089237,0.152742743492126,-0.072313576936722,0.097439900040627,0.061647448688745,-0.021342966705561,0.138796284794807,0.129935964941978,-0.039134312421083,0.030815722420812));
res += mul(Get(s3,-dx,dy), float4x4(0.016859393566847,-0.160111144185066,-0.125144302845001,-0.052074175328016,-0.051023975014687,-0.089938417077065,-0.028162939473987,0.212256640195847,0.026861678808928,-0.059780251234770,0.075901120901108,0.107867039740086,0.002294830279425,-0.117827072739601,0.001915142056532,0.005023016128689));
res += mul(Get(s3,0,-dy), float4x4(-0.009316965937614,0.082530871033669,0.034873049706221,0.005489683710039,0.003295326372609,-0.015229750424623,-0.027037983760238,0.018692167475820,-0.054130222648382,-0.015201579779387,-0.103326007723808,-0.127175927162170,0.182432040572166,-0.119493126869202,0.034967385232449,-0.116983920335770));
res += mul(Get(s3,0,0), float4x4(-0.026899855583906,0.002721200231463,-0.028698898851871,0.069069474935532,-0.039878845214844,-0.045388713479042,0.032684523612261,-0.048290416598320,0.094557747244835,-0.041486945003271,-0.016635792329907,-0.124865978956223,0.082896299660206,-0.047095216810703,0.051398798823357,0.003301322693005));
res += mul(Get(s3,0,dy), float4x4(-0.114520460367203,-0.064444541931152,-0.187905743718147,0.039172649383545,0.065450109541416,-0.056173477321863,0.005012367852032,0.059916295111179,0.251285314559937,0.024399839341640,0.047412831336260,0.116943284869194,-0.022634983062744,0.092787377536297,-0.091324768960476,0.014703082852066));
res += mul(Get(s3,dx,-dy), float4x4(-0.109639696776867,0.120847545564175,-0.047810215502977,0.033830553293228,-0.043087076395750,-0.019018139690161,-0.025770355015993,-0.013287031091750,-0.012398530729115,-0.045639213174582,0.071216076612473,-0.028541194275022,-0.013636382296681,0.023098513484001,0.083533577620983,0.019685074687004));
res += mul(Get(s3,dx,0), float4x4(-0.066504098474979,-0.021573450416327,0.083729006350040,0.042901288717985,-0.030540220439434,0.049013528972864,-0.004812439903617,-0.008958972059190,-0.006941921543330,0.051060259342194,-0.062424685806036,0.005458978470415,-0.144474625587463,0.097965896129608,0.105145685374737,0.066768728196621));
res += mul(Get(s3,dx,dy), float4x4(-0.081808470189571,-0.067205607891083,-0.086946606636047,0.002314518438652,0.026205562055111,0.057218376547098,-0.106678821146488,0.080643914639950,-0.051799755543470,0.083506219089031,0.013547152280807,0.135802298784256,-0.082218267023563,0.052756059914827,-0.080786734819412,0.030544109642506));
return max(float4(0,0,0,0), res);
}
