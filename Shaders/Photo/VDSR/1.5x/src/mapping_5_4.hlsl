sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012366218492389,-0.021478744223714,-0.126154199242592,0.024695865809917,0.151785925030708,0.076741665601730,0.017653610557318,0.134302020072937,-0.073364779353142,0.013917335309088,0.161762312054634,0.006749159656465,-0.161687046289444,0.009729147888720,0.032307740300894,-0.088890373706818));
res += mul(Get(s0,-dx,0), float4x4(-0.053062431514263,-0.090039186179638,0.174432262778282,-0.041656304150820,-0.127576500177383,0.018112774938345,-0.093528069555759,-0.043139647692442,-0.019682727754116,0.101099513471127,0.235643655061722,0.013306606560946,0.043545007705688,0.017268769443035,-0.022919695824385,-0.070175684988499));
res += mul(Get(s0,-dx,dy), float4x4(0.051330581307411,-0.151550084352493,0.109379313886166,-0.042030576616526,-0.082333058118820,0.078465245664120,-0.133980333805084,0.045240119099617,-0.048872254788876,-0.006041207816452,0.051308657974005,0.154591858386993,0.084041498601437,0.105760194361210,-0.190110206604004,0.179531335830688));
res += mul(Get(s0,0,-dy), float4x4(-0.126070231199265,0.097650535404682,0.070323087275028,-0.055775485932827,0.261770486831665,0.153135418891907,-0.020796885713935,0.113241150975227,-0.122702457010746,0.183562576770782,-0.057547528296709,0.102178588509560,0.186616197228432,-0.163458913564682,0.008593639358878,-0.086009316146374));
res += mul(Get(s0,0,0), float4x4(-0.170172438025475,-0.082120083272457,-0.084033295512199,-0.144917652010918,0.100283585488796,-0.026062749326229,0.205927103757858,-0.013294882141054,-0.153407618403435,-0.285566359758377,0.188214972615242,0.009234205819666,-0.083605512976646,-0.020373791456223,0.090190626680851,0.140119388699532));
res += mul(Get(s0,0,dy), float4x4(0.025991328060627,-0.024277737364173,-0.101603850722313,0.076414719223976,-0.073160886764526,0.038993988186121,0.127592325210571,-0.043781802058220,0.152968034148216,0.089066728949547,0.087768517434597,0.037550836801529,-0.027933102101088,0.019600400701165,-0.013421750627458,-0.171872392296791));
res += mul(Get(s0,dx,-dy), float4x4(-0.038994167000055,0.079428039491177,0.040686145424843,-0.133960410952568,-0.013033173978329,0.121834747493267,-0.057744849473238,0.036504041403532,-0.063543707132339,0.086929909884930,-0.133002579212189,0.192368894815445,0.002256145700812,-0.017811452969909,0.135481759905815,-0.050815489143133));
res += mul(Get(s0,dx,0), float4x4(-0.180321693420410,0.110210493206978,0.055988475680351,0.007074681110680,-0.023680912330747,-0.030524563044310,-0.157605037093163,-0.025333469733596,-0.043114766478539,-0.163632974028587,0.212986662983894,0.080460809171200,0.084385842084885,0.043983697891235,-0.033531539142132,-0.045768670737743));
res += mul(Get(s0,dx,dy), float4x4(-0.110677428543568,-0.039657048881054,0.105030976235867,0.147214859724045,-0.164503440260887,-0.041248768568039,-0.122970014810562,0.147165700793266,0.018052823841572,-0.117313869297504,-0.035042557865381,0.066833950579166,0.148383945226669,0.070083945989609,0.080698654055595,0.037152502685785));
res += mul(Get(s1,-dx,-dy), float4x4(0.103552490472794,0.040758699178696,0.010471258312464,0.040942519903183,0.011939601972699,0.007143517024815,-0.024314738810062,0.072693169116974,0.078403137624264,0.012758984230459,0.057112053036690,0.034954581409693,0.045608922839165,0.043438613414764,-0.181502684950829,0.073977857828140));
res += mul(Get(s1,-dx,0), float4x4(0.066590808331966,0.137247696518898,-0.081601791083813,0.008604756556451,-0.122660189867020,0.017465218901634,0.001157499151304,0.005692858714610,0.040096223354340,-0.093798652291298,0.099596172571182,0.198888272047043,0.043122164905071,0.034897837787867,0.119203396141529,-0.024478424340487));
res += mul(Get(s1,-dx,dy), float4x4(-0.018199523910880,-0.025992099195719,-0.131361961364746,-0.041197579354048,-0.010558801703155,-0.007929271087050,-0.015795972198248,0.041522447019815,-0.189161598682404,-0.237089812755585,0.093019939959049,-0.136000961065292,0.000266835297225,-0.036058150231838,0.006121841259301,-0.051300417631865));
res += mul(Get(s1,0,-dy), float4x4(0.070134378969669,0.028781043365598,-0.070595592260361,-0.172929733991623,0.013610910624266,0.047068629413843,-0.205344974994659,-0.053216896951199,-0.037463258951902,0.039793353527784,0.026714224368334,-0.117416374385357,0.110387675464153,-0.006227726582438,-0.081671789288521,0.065115906298161));
res += mul(Get(s1,0,0), float4x4(-0.164278998970985,0.002856549108401,0.010510727763176,0.075206644833088,0.000364256178727,0.052610084414482,-0.035342536866665,-0.112992666661739,-0.006794245913625,0.174046754837036,0.068777360022068,0.250799119472504,0.042766943573952,-0.100266121327877,-0.105420522391796,-0.250980585813522));
res += mul(Get(s1,0,dy), float4x4(0.019774332642555,-0.122172378003597,0.078601390123367,0.112476155161858,-0.008905485272408,-0.056284334510565,-0.063686326146126,0.028446987271309,0.098802991211414,0.031947571784258,-0.064803391695023,-0.048668969422579,-0.064831651747227,0.006159802433103,-0.054696615785360,0.183470115065575));
res += mul(Get(s1,dx,-dy), float4x4(-0.067611448466778,-0.131327375769615,-0.065256625413895,-0.060488555580378,-0.072159416973591,0.042766369879246,0.042069174349308,-0.219340562820435,0.103299222886562,0.024989860132337,0.078731752932072,-0.129508852958679,-0.013530803844333,-0.134238660335541,0.051486834883690,0.177998110651970));
res += mul(Get(s1,dx,0), float4x4(0.052221190184355,-0.050399471074343,-0.014115268364549,-0.025643950328231,0.135092452168465,-0.031581539660692,0.074956007301807,-0.185209378600121,0.016730021685362,-0.130811959505081,-0.223311007022858,-0.052751563489437,-0.096942611038685,-0.032547760754824,-0.099991254508495,0.113697037100792));
res += mul(Get(s1,dx,dy), float4x4(-0.042452305555344,-0.055999949574471,0.001870469539426,-0.020098721608520,-0.074900597333908,-0.050537243485451,-0.117408923804760,-0.010467564687133,0.001164226559922,0.109027609229088,-0.066261388361454,-0.004627021960914,-0.012263365089893,0.013401209376752,0.008853345178068,-0.067962743341923));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029705150052905,0.007304896600544,0.201817467808723,0.112364836037159,0.039859965443611,-0.017887962982059,-0.023351816460490,-0.065191984176636,-0.133822306990623,0.069109931588173,-0.021990507841110,0.014058770611882,-0.034970238804817,-0.004135149065405,0.108051747083664,0.072654776275158));
res += mul(Get(s2,-dx,0), float4x4(0.128821238875389,0.052328392863274,-0.085389919579029,0.091578714549541,-0.034961063414812,0.081741541624069,0.123513847589493,0.114390298724174,0.037649050354958,-0.005049956962466,0.083854056894779,-0.094048134982586,-0.029278350993991,-0.192268237471581,0.049665726721287,0.063013404607773));
res += mul(Get(s2,-dx,dy), float4x4(0.142779693007469,0.016002546995878,0.059236723929644,-0.172006353735924,0.072400011122227,-0.027911726385355,-0.053898528218269,0.115808881819248,-0.099251329898834,-0.024108739569783,-0.162377610802650,0.045098714530468,0.130812793970108,0.103794269263744,0.109515972435474,0.080648235976696));
res += mul(Get(s2,0,-dy), float4x4(0.075218752026558,-0.146963253617287,0.058309845626354,0.076124824583530,-0.090007320046425,-0.003998281899840,0.159062549471855,-0.100032597780228,0.006871093995869,-0.142757833003998,-0.122185401618481,0.061864744871855,0.146171405911446,0.066060662269592,0.041579212993383,-0.088814601302147));
res += mul(Get(s2,0,0), float4x4(-0.024448625743389,0.082112349569798,-0.093538209795952,0.164461627602577,-0.036481577903032,0.122744128108025,0.034661471843719,-0.053011305630207,-0.020482422783971,0.135437145829201,0.107213199138641,0.327362805604935,-0.005321897566319,0.019785819575191,0.043521534651518,-0.113069660961628));
res += mul(Get(s2,0,dy), float4x4(0.171409264206886,-0.048550631850958,0.040515512228012,0.050444688647985,0.056183323264122,0.124143861234188,0.136815041303635,0.025892503559589,-0.092814497649670,-0.127724155783653,0.135208368301392,-0.151723906397820,0.057408366352320,-0.016294876113534,0.200099900364876,0.056238885968924));
res += mul(Get(s2,dx,-dy), float4x4(-0.014184317551553,-0.045600064098835,0.027570331469178,-0.074655190110207,0.181554600596428,-0.005900865886360,0.067529782652855,0.077108912169933,-0.141452237963676,-0.074299536645412,-0.058147054165602,0.046690072864294,-0.002917860168964,0.014837230555713,-0.045763671398163,-0.044835474342108));
res += mul(Get(s2,dx,0), float4x4(0.156213343143463,0.136629790067673,-0.089941360056400,-0.084598414599895,-0.181388139724731,0.125696480274200,0.073569081723690,-0.012707022950053,0.066745668649673,0.028101181611419,-0.010601317510009,0.185418292880058,-0.062247894704342,-0.112840250134468,0.143321394920349,0.139593154191971));
res += mul(Get(s2,dx,dy), float4x4(0.218813031911850,0.111958429217339,-0.128086760640144,0.038322649896145,-0.039939869195223,-0.055779095739126,0.073583573102951,-0.067346334457397,-0.082613408565521,-0.066610850393772,0.030135877430439,-0.042070623487234,0.105565145611763,-0.072655320167542,0.066060043871403,-0.160022392868996));
res += mul(Get(s3,-dx,-dy), float4x4(0.295155376195908,0.039764475077391,-0.012494349852204,0.003362976480275,0.167621314525604,-0.053230594843626,0.111470669507980,-0.054675374180079,0.010302216745913,-0.221291095018387,0.019313642755151,0.026423975825310,0.148682639002800,-0.015418362803757,-0.089727535843849,-0.096753761172295));
res += mul(Get(s3,-dx,0), float4x4(0.096757233142853,0.035334125161171,-0.029358716681600,0.214884087443352,0.136212795972824,-0.128813683986664,-0.106527231633663,0.055460002273321,0.079638525843620,-0.063998207449913,-0.092376150190830,0.159396097064018,-0.112468294799328,0.092103086411953,-0.106284812092781,0.042737949639559));
res += mul(Get(s3,-dx,dy), float4x4(-0.002055993769318,0.076322294771671,-0.037418778985739,0.006088233552873,-0.023608766496181,0.029518071562052,0.047656364738941,-0.015151699073613,0.035648483783007,0.131319627165794,0.190941289067268,0.022051213309169,0.133037894964218,-0.069729194045067,0.060270432382822,0.128787159919739));
res += mul(Get(s3,0,-dy), float4x4(-0.243455335497856,0.030656481161714,0.197566449642181,0.068939387798309,0.036590430885553,0.006391043774784,0.075477018952370,0.148848235607147,-0.001569089479744,0.005813400726765,0.300446838140488,-0.004043674096465,0.048597518354654,-0.047926750034094,0.233210682868958,0.063600465655327));
res += mul(Get(s3,0,0), float4x4(-0.195728510618210,-0.048752188682556,-0.117799155414104,-0.039919126778841,0.200838983058929,-0.145134434103966,-0.039687041193247,0.239849016070366,-0.075174503028393,-0.068522922694683,-0.026157349348068,0.168912068009377,-0.188770413398743,0.105226308107376,-0.117706440389156,0.004133125767112));
res += mul(Get(s3,0,dy), float4x4(-0.126201301813126,0.090968452394009,0.007501110434532,-0.011681524105370,-0.070637404918671,-0.123573757708073,0.089640319347382,-0.081566803157330,0.012735088355839,-0.034245446324348,0.058631163090467,0.081730842590332,0.044670950621367,-0.016336752101779,-0.082897916436195,0.173073545098305));
res += mul(Get(s3,dx,-dy), float4x4(-0.082466118037701,-0.046570677310228,-0.067299112677574,0.094002254307270,0.015689885243773,0.098264224827290,-0.028713081032038,-0.010751477442682,0.099639289081097,-0.016659269109368,0.086172610521317,0.047898117452860,-0.000475823500892,-0.035756424069405,-0.040005136281252,0.062132347375154));
res += mul(Get(s3,dx,0), float4x4(-0.244884848594666,-0.095165275037289,-0.106974415481091,-0.019465863704681,0.010407823137939,-0.198500126600266,0.122151359915733,-0.142810732126236,-0.018356846645474,-0.109931208193302,0.045383632183075,0.129954129457474,0.069259308278561,-0.148200005292892,0.044926688075066,0.056411981582642));
res += mul(Get(s3,dx,dy), float4x4(-0.026597781106830,-0.014925586991012,0.049550697207451,0.043041545897722,0.124853454530239,0.017293551936746,0.111728325486183,-0.027733182534575,0.142758712172508,0.072191379964352,0.055979683995247,0.134567096829414,0.033067200332880,-0.180984780192375,-0.051307972520590,-0.109200678765774));
return max(float4(0,0,0,0), res);
}
