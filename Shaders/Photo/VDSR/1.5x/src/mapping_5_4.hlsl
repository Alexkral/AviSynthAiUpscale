sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.038026437163353,0.034361291676760,0.110586218535900,0.034858323633671,-0.088444538414478,-0.095858998596668,-0.017800921574235,-0.071781255304813,0.135746389627457,0.004780699964613,0.113605879247189,-0.084385730326176,0.111063331365585,-0.062816932797432,0.023081729188561,0.025782380253077));
res += mul(Get(s0,-dx,0), float4x4(-0.002515842672437,0.063725575804710,-0.006521942559630,0.064402095973492,-0.103248983621597,0.166385874152184,-0.101543903350830,0.032660122960806,-0.086574099957943,0.028210027143359,0.133382305502892,0.226915612816811,0.128020554780960,0.034836549311876,-0.033590734004974,0.022249802947044));
res += mul(Get(s0,-dx,dy), float4x4(-0.024211568757892,-0.004797112662345,0.039846401661634,-0.025013810023665,-0.062175869941711,0.156959384679794,0.047450147569180,-0.032616406679153,-0.125091716647148,-0.074760377407074,0.114311732351780,-0.077105864882469,0.042376317083836,0.000700650212821,-0.055881928652525,0.097506955265999));
res += mul(Get(s0,0,-dy), float4x4(0.097583360970020,0.111295856535435,-0.079000301659107,-0.032030992209911,-0.155089780688286,0.068460449576378,-0.025330435484648,-0.066168822348118,-0.026141991838813,0.037212535738945,0.005821261554956,0.044975675642490,0.035708107054234,-0.055356264114380,-0.087809555232525,-0.008762815035880));
res += mul(Get(s0,0,0), float4x4(-0.037358418107033,0.025366140529513,-0.039543014019728,0.015072643756866,-0.009519744664431,0.108096018433571,-0.081860728561878,-0.009029329754412,0.034627091139555,0.008170092478395,-0.068695589900017,0.076952427625656,-0.123878508806229,0.103686153888702,0.116063185036182,0.053210854530334));
res += mul(Get(s0,0,dy), float4x4(-0.110796846449375,-0.015263698995113,0.123232543468475,-0.016474785283208,-0.036119058728218,0.007137516979128,0.060498978942633,0.026550490409136,-0.081685774028301,-0.038422305136919,-0.055239222943783,0.055711809545755,-0.052106756716967,-0.035231210291386,0.022516664117575,0.050811633467674));
res += mul(Get(s0,dx,-dy), float4x4(-0.042802829295397,0.022174658253789,0.140939608216286,0.017022937536240,-0.112028270959854,0.025047210976481,-0.030631486326456,0.013299520127475,-0.069938711822033,0.038508661091328,-0.097395449876785,0.057237435132265,0.106408417224884,-0.101808167994022,0.001432461082004,0.047441422939301));
res += mul(Get(s0,dx,0), float4x4(-0.135187044739723,0.039354197680950,0.054698012769222,0.020955553278327,0.034728702157736,-0.044723782688379,0.028494551777840,0.031871642917395,0.133975073695183,-0.036517780274153,-0.010462990030646,-0.016037434339523,0.119218267500401,-0.052230004221201,0.024676645174623,-0.140077784657478));
res += mul(Get(s0,dx,dy), float4x4(-0.186592593789101,-0.058076322078705,0.057694412767887,-0.015465422533453,0.017919413745403,-0.085749328136444,0.092375889420509,-0.000509525882080,0.002157206879929,-0.010197426192462,0.056663110852242,-0.034744277596474,-0.042349088937044,-0.099282652139664,0.135093659162521,0.032369930297136));
res += mul(Get(s1,-dx,-dy), float4x4(0.003516579745337,-0.035831682384014,-0.078851103782654,0.037625789642334,0.110393226146698,-0.034376032650471,0.056389849632978,-0.014771314337850,0.057549595832825,0.138999417424202,-0.037188895046711,0.061065118759871,0.092505484819412,0.013516858220100,0.034247044473886,-0.059447836130857));
res += mul(Get(s1,-dx,0), float4x4(-0.047770522534847,-0.018889328464866,-0.032203126698732,0.006900314241648,0.004798038396984,-0.032857928425074,-0.030408615246415,0.095224656164646,0.016360551118851,0.100269310176373,0.118955112993717,0.139668539166451,-0.009708886034787,0.024748656898737,0.060087978839874,-0.004552394151688));
res += mul(Get(s1,-dx,dy), float4x4(0.054895870387554,-0.029331596568227,-0.051891576498747,0.090444639325142,-0.095701642334461,0.040332082659006,0.032653979957104,-0.069588683545589,-0.072162553668022,0.094199307262897,0.089657969772816,0.084261022508144,-0.120210453867912,-0.136583372950554,-0.059922926127911,-0.077466778457165));
res += mul(Get(s1,0,-dy), float4x4(0.023164000362158,-0.075111545622349,-0.068365357816219,0.119737073779106,0.061677142977715,0.037225928157568,-0.012384450994432,0.041995737701654,0.020366888493299,0.072661839425564,-0.028642367571592,0.025511514395475,0.000829401367810,0.091223217546940,0.045699249953032,0.074272021651268));
res += mul(Get(s1,0,0), float4x4(-0.047771643847227,0.029022637754679,-0.062524646520615,-0.048583202064037,-0.051106758415699,-0.075308270752430,-0.117443881928921,-0.058010816574097,0.137461662292480,-0.051793120801449,-0.090897776186466,-0.072390168905258,0.139393970370293,-0.040165051817894,-0.020827593281865,0.069162808358669));
res += mul(Get(s1,0,dy), float4x4(-0.019722200930119,-0.001827297965065,-0.064580194652081,0.096957884728909,-0.351518869400024,0.013554495759308,-0.186139941215515,-0.146651491522789,-0.074446246027946,-0.128259554505348,0.003644035430625,-0.017941005527973,-0.040929883718491,-0.038869962096214,0.081941276788712,0.094270311295986));
res += mul(Get(s1,dx,-dy), float4x4(-0.017794758081436,0.083558604121208,-0.156152114272118,0.051060512661934,0.026470746845007,0.031736049801111,-0.023439697921276,0.006016906816512,0.080898977816105,0.000987673527561,-0.044989001005888,0.049797102808952,-0.082476638257504,0.081711664795876,-0.019454268738627,0.001793097471818));
res += mul(Get(s1,dx,0), float4x4(-0.043969742953777,0.039528112858534,-0.083227016031742,-0.112864337861538,-0.016121057793498,0.001112287980504,0.092795684933662,-0.136448472738266,0.006095899734646,0.168357610702515,0.080956190824509,0.018828729167581,-0.005854924675077,0.023107571527362,-0.035136621445417,0.018123086541891));
res += mul(Get(s1,dx,dy), float4x4(-0.071008175611496,0.060848612338305,-0.085801623761654,0.229055032134056,-0.181327104568481,-0.054140139371157,-0.045818623155355,0.019740441814065,-0.050396833568811,0.000679709890392,-0.027711058035493,0.053187601268291,-0.046552687883377,0.022687457501888,0.055373124778271,0.001681312103756));
res += mul(Get(s2,-dx,-dy), float4x4(0.027882173657417,-0.060243275016546,-0.066614516079426,0.093700967729092,0.108056068420410,0.015636192634702,0.011165872216225,-0.154790908098221,0.046207673847675,-0.092002697288990,0.029084665700793,0.031661819666624,0.029764857143164,-0.009409303776920,-0.027054455131292,-0.016494505107403));
res += mul(Get(s2,-dx,0), float4x4(0.018006142228842,-0.051388479769230,-0.061156127601862,0.096051275730133,-0.099668569862843,-0.013999405317008,0.047617513686419,0.114567168056965,0.010089066810906,-0.063583940267563,0.063986882567406,-0.089562788605690,0.035606820136309,-0.085593909025192,-0.084825992584229,-0.022587580606341));
res += mul(Get(s2,-dx,dy), float4x4(-0.073103725910187,0.118927784264088,-0.144019648432732,0.082478515803814,0.027016140520573,-0.006901236250997,-0.070456281304359,-0.042355746030807,-0.017711322754622,-0.078186839818954,0.018218740820885,0.018162166699767,-0.121316872537136,-0.047726340591908,0.029372019693255,-0.010838835500181));
res += mul(Get(s2,0,-dy), float4x4(0.014277650043368,0.026540715247393,-0.017240818589926,0.167687058448792,0.056720729917288,-0.106108650565147,-0.013657672330737,-0.007634993176907,-0.050856806337833,-0.041201788932085,0.048912558704615,-0.052481409162283,-0.015689339488745,-0.066336363554001,0.032623816281557,-0.088949441909790));
res += mul(Get(s2,0,0), float4x4(0.073434650897980,0.010771543718874,-0.036349188536406,-0.009046181105077,0.086377665400505,-0.094806768000126,-0.047819349914789,-0.024690091609955,-0.097834989428520,0.038965899497271,-0.009506714530289,-0.101354017853737,0.024673601612449,-0.029210353270173,-0.060744993388653,-0.037775043398142));
res += mul(Get(s2,0,dy), float4x4(0.047379966825247,0.050617236644030,-0.026902247220278,0.063965015113354,0.094621904194355,-0.125451937317848,0.005640739109367,-0.004532753024250,-0.084512911736965,-0.018697034567595,-0.004357015714049,-0.038141716271639,0.097149945795536,-0.056001204997301,-0.012493823654950,0.028549900278449));
res += mul(Get(s2,dx,-dy), float4x4(-0.066942535340786,0.081026166677475,0.035120476037264,0.086787827312946,-0.022012392058969,-0.062591172754765,0.143424451351166,0.002569602103904,-0.024927312508225,-0.072448469698429,-0.029550833627582,0.039484038949013,-0.052499622106552,-0.097140729427338,0.051158908754587,0.057736366987228));
res += mul(Get(s2,dx,0), float4x4(-0.006812315899879,0.010444468818605,-0.046324800699949,0.004471489693969,-0.042784210294485,0.068801715970039,-0.109193697571754,-0.095758467912674,-0.033917378634214,-0.060974407941103,0.142684206366539,0.033215135335922,0.074719354510307,0.019907405599952,-0.004077010322362,-0.058178305625916));
res += mul(Get(s2,dx,dy), float4x4(-0.058211233466864,0.100690409541130,0.026917327195406,0.062589906156063,0.005910852923989,0.041154783219099,-0.000645504449494,-0.009837266989052,-0.074706763029099,-0.006556196138263,-0.021610768511891,0.141079992055893,0.251308351755142,-0.003745578927919,0.078855253756046,-0.057933028787374));
res += mul(Get(s3,-dx,-dy), float4x4(0.002165179001167,-0.076897777616978,-0.031676322221756,0.000764252792578,-0.025419484823942,0.155831351876259,-0.017570689320564,0.024510202929378,0.064770705997944,-0.030843468382955,0.002071844646707,-0.117211863398552,0.077265635132790,0.084249749779701,0.099908880889416,-0.029141260311007));
res += mul(Get(s3,-dx,0), float4x4(0.060853742063046,0.003381897928193,-0.081826619803905,-0.039534181356430,0.014217621646821,0.031568937003613,-0.011832750402391,-0.060136444866657,-0.040810130536556,-0.044493455439806,-0.043967965990305,0.101176023483276,0.081202030181885,0.064837656915188,-0.077593974769115,-0.013289797119796));
res += mul(Get(s3,-dx,dy), float4x4(0.001847293809988,-0.080794788897038,-0.058026593178511,0.087585307657719,-0.053340680897236,0.167302876710892,-0.041137177497149,-0.088795945048332,-0.083964608609676,0.170744463801384,0.067205175757408,-0.081940107047558,0.087971180677414,-0.068321958184242,0.046551391482353,-0.010592246428132));
res += mul(Get(s3,0,-dy), float4x4(-0.007803143002093,0.062194466590881,0.046770188957453,-0.031405575573444,-0.007247139699757,-0.003957250621170,-0.025545196607709,-0.120458625257015,0.086621396243572,-0.137735664844513,0.038722794502974,0.106454670429230,-0.012855161912739,-0.027130873873830,0.135370060801506,0.022791264578700));
res += mul(Get(s3,0,0), float4x4(-0.060997962951660,-0.052727025002241,0.064907260239124,0.004766977857798,0.029680110514164,-0.179501712322235,-0.020039457827806,0.037131823599339,-0.002294288948178,0.029882777482271,-0.079884774982929,-0.067704282701015,0.171316832304001,0.035837799310684,-0.011782373301685,0.014585576951504));
res += mul(Get(s3,0,dy), float4x4(0.017237449064851,-0.025503078475595,-0.085458412766457,0.036057479679585,-0.042128615081310,0.218478381633759,0.039225608110428,0.051245231181383,-0.092472136020660,-0.054506953805685,0.033647812902927,-0.084928616881371,0.108741343021393,0.044790506362915,0.049779728055000,0.082596085965633));
res += mul(Get(s3,dx,-dy), float4x4(-0.079350903630257,-0.063556969165802,0.022816680371761,0.036497738212347,-0.020736446604133,0.073622480034828,-0.045446366071701,-0.063300684094429,0.101947829127312,-0.001969905104488,0.008647594600916,0.016364628449082,0.009251298382878,0.031923301517963,0.061659824103117,0.077483057975769));
res += mul(Get(s3,dx,0), float4x4(-0.243060156702995,-0.027915762737393,0.029250716790557,0.107214778661728,0.017975360155106,0.055320579558611,-0.058452691882849,0.039631627500057,0.025627607479692,0.041511245071888,-0.073958769440651,0.078351266682148,0.151170700788498,0.014551986008883,0.041655935347080,-0.069167092442513));
res += mul(Get(s3,dx,dy), float4x4(-0.154951408505440,-0.039968080818653,-0.037575989961624,0.080317109823227,-0.036260306835175,0.162391856312752,-0.019005207344890,-0.099728211760521,-0.118612751364708,0.022329060360789,0.068008102476597,0.016569904983044,0.116911560297012,-0.028110664337873,0.139725774526596,0.058894131332636));
return max(float4(0,0,0,0), res);
}
