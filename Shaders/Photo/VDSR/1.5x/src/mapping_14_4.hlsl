sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.057748183608055,-0.105766497552395,0.018044753000140,-0.039298705756664,-0.003654443658888,-0.092480763792992,-0.039064493030310,0.010385263711214,0.120702266693115,0.034175105392933,0.081872247159481,-0.082388296723366,-0.068994820117950,0.015400576405227,0.041626583784819,-0.030461000278592));
res += mul(Get(s0,-dx,0), float4x4(0.017765378579497,0.003209064714611,0.087476730346680,-0.069554336369038,-0.064863242208958,-0.002659901278093,0.041298951953650,-0.031404968351126,0.150816887617111,0.021446192637086,0.006966361310333,0.046383395791054,0.182020440697670,-0.073072627186775,-0.025443181395531,0.012299790978432));
res += mul(Get(s0,-dx,dy), float4x4(0.143852815032005,-0.095021583139896,-0.057386167347431,-0.020175551995635,0.035423070192337,-0.026022011414170,0.055229105055332,0.070605129003525,-0.000505053030793,-0.028138250112534,-0.065733447670937,-0.037120431661606,0.004409214947373,-0.020840661600232,-0.007244752254337,-0.021286046132445));
res += mul(Get(s0,0,-dy), float4x4(0.005202620290220,0.077421337366104,0.016494346782565,0.043186038732529,0.019583592191339,0.034304525703192,0.020694151520729,0.085053198039532,0.062537260353565,-0.024583376944065,-0.018020758405328,0.004107054788619,-0.123303100466728,0.165338695049286,0.058059994131327,-0.005318986251950));
res += mul(Get(s0,0,0), float4x4(0.040924146771431,0.077164828777313,-0.096585884690285,0.108634978532791,0.082801535725594,-0.066095679998398,0.026613110676408,0.038567055016756,-0.010849136859179,-0.025459608063102,0.170037806034088,-0.127166911959648,0.078255020081997,-0.103235080838203,-0.034344464540482,0.005912847816944));
res += mul(Get(s0,0,dy), float4x4(0.078883327543736,0.040300182998180,-0.000641127699055,0.076418943703175,-0.071581117808819,0.112071864306927,-0.164430111646652,0.019644347950816,-0.162101864814758,-0.005889252759516,-0.026003435254097,0.072075724601746,0.089898303151131,0.184205651283264,0.097141645848751,-0.020581422373652));
res += mul(Get(s0,dx,-dy), float4x4(0.043486777693033,0.027025472372770,-0.025883601978421,-0.028629010543227,0.052796021103859,-0.002837828360498,-0.056130338460207,0.100058808922768,0.060092553496361,0.003274542512372,0.013793720863760,0.001198119600303,-0.051785748451948,-0.045158963650465,-0.053761243820190,-0.063264995813370));
res += mul(Get(s0,dx,0), float4x4(0.053025331348181,0.031538859009743,-0.082954838871956,0.052057024091482,-0.041237827390432,0.121083915233612,0.008795962668955,-0.053672544658184,0.091122940182686,0.009567873552442,-0.025890054181218,0.127135679125786,-0.151260972023010,0.024831229820848,-0.049478344619274,0.086181946098804));
res += mul(Get(s0,dx,dy), float4x4(0.049564849585295,-0.010275733657181,-0.007244083099067,-0.131773978471756,0.101445868611336,-0.051808688789606,0.128088191151619,0.021852843463421,0.054956644773483,0.115252412855625,0.015962030738592,0.050193890929222,0.154442608356476,-0.033469900488853,0.072068795561790,-0.113475196063519));
res += mul(Get(s1,-dx,-dy), float4x4(-0.048534408211708,-0.139522016048431,0.016286034137011,-0.021295698359609,0.040161799639463,-0.007606740109622,0.054137341678143,-0.018108686432242,0.015899157151580,-0.070651702582836,-0.012688316404819,-0.012087693437934,-0.094548948109150,-0.074407942593098,0.150531500577927,0.031708907335997));
res += mul(Get(s1,-dx,0), float4x4(-0.071933016180992,-0.092944331467152,-0.109334975481033,0.000543599540833,0.047060322016478,-0.070232100784779,-0.019406097009778,-0.011218207888305,-0.135923981666565,-0.018565293401480,-0.031441237777472,0.079816222190857,-0.013555449433625,-0.000501932750922,-0.056082725524902,-0.010246170684695));
res += mul(Get(s1,-dx,dy), float4x4(-0.164532765746117,0.012322627007961,0.003018121002242,-0.073767982423306,-0.003976568114012,0.050931282341480,-0.007591016124934,0.083036780357361,0.030036620795727,0.094547316431999,-0.091900900006294,-0.056586086750031,-0.100892953574657,0.084934219717979,0.018987743183970,-0.038647983223200));
res += mul(Get(s1,0,-dy), float4x4(0.023007649928331,-0.084208823740482,0.018056534230709,0.008049687370658,-0.067696616053581,0.045118428766727,0.130597546696663,-0.001142938504927,0.022899126634002,0.108053803443909,-0.144637122750282,-0.079153709113598,-0.017487399280071,0.217189922928810,0.049009390175343,0.031226258724928));
res += mul(Get(s1,0,0), float4x4(-0.020727908238769,-0.001649498706684,0.004383777733892,-0.070212043821812,0.026804924011230,0.027769003063440,-0.049274209886789,0.032834131270647,0.027497198432684,0.288742214441299,0.182576000690460,-0.072359465062618,-0.156240776181221,0.126782596111298,0.012621138244867,-0.109513960778713));
res += mul(Get(s1,0,dy), float4x4(0.000498830806464,0.051628559827805,-0.077357247471809,-0.026660384610295,-0.045217245817184,-0.002953378483653,-0.021223202347755,0.052082195878029,-0.090458951890469,-0.090165495872498,0.069249421358109,-0.147112309932709,0.050968315452337,-0.063737802207470,0.017184374853969,0.038482677191496));
res += mul(Get(s1,dx,-dy), float4x4(0.081626355648041,0.008347118273377,-0.023064753040671,-0.182063207030296,0.093845747411251,-0.004828212782741,-0.120896048843861,-0.019087227061391,-0.123705193400383,-0.071089766919613,0.136920750141144,0.034346878528595,-0.037205304950476,0.025330930948257,-0.009864011779428,0.037317827343941));
res += mul(Get(s1,dx,0), float4x4(0.031270727515221,-0.030023789033294,-0.015672817826271,-0.032106041908264,0.124885410070419,-0.076785273849964,-0.087056323885918,-0.099943734705448,-0.018769120797515,0.038005836308002,0.024934669956565,0.107830367982388,-0.004994189832360,-0.146113365888596,-0.052824635058641,-0.069444619119167));
res += mul(Get(s1,dx,dy), float4x4(-0.089900009334087,-0.018000463023782,0.078368678689003,-0.078307770192623,-0.049296554177999,-0.006533378735185,0.013459518551826,0.010646549984813,0.035750720649958,-0.014551764354110,0.066818274557590,-0.031190067529678,0.008955635130405,0.105616040527821,0.063530147075653,0.137714043259621));
res += mul(Get(s2,-dx,-dy), float4x4(0.062360927462578,0.062854513525963,0.099918410181999,-0.091819465160370,0.026049001142383,-0.101540543138981,0.016381178051233,-0.029239948838949,-0.148553490638733,-0.038499671965837,0.007758714724332,0.082017242908478,-0.151581928133965,-0.142182573676109,0.143266171216965,0.040194135159254));
res += mul(Get(s2,-dx,0), float4x4(0.006762454751879,-0.188197806477547,-0.079853042960167,-0.027498470619321,-0.114768579602242,-0.057807546108961,-0.145073264837265,0.003496118122712,0.081101112067699,-0.109051592648029,0.096718624234200,-0.264475345611572,0.089488580822945,0.050394531339407,0.017658323049545,-0.020277358591557));
res += mul(Get(s2,-dx,dy), float4x4(-0.004476040601730,0.020547101274133,-0.011715057305992,0.005176959093660,0.143657952547073,-0.004840161185712,-0.009933662600815,0.039972346276045,0.007395577616990,0.041001133620739,0.009309725835919,0.141576305031776,0.042975246906281,-0.020234603434801,0.059852093458176,0.006334832869470));
res += mul(Get(s2,0,-dy), float4x4(0.078134678304195,-0.013453330844641,0.107966959476471,-0.053514480590820,-0.107921004295349,0.136362046003342,0.023769104853272,-0.101209431886673,-0.288283705711365,0.026080003008246,0.088826097548008,0.007936778478324,0.143744438886642,0.086765736341476,-0.131421819329262,-0.049925848841667));
res += mul(Get(s2,0,0), float4x4(0.114701345562935,-0.046760264784098,-0.056228403002024,0.074703849852085,-0.037254624068737,0.054741576313972,0.018692515790462,0.029561748728156,0.187571227550507,0.119266495108604,-0.053067289292812,-0.012881774455309,-0.105243720114231,0.137811720371246,-0.045189604163170,-0.115750879049301));
res += mul(Get(s2,0,dy), float4x4(0.076833531260490,-0.178353935480118,-0.049725841730833,-0.006590627133846,0.109151236712933,-0.060219008475542,0.039987269788980,0.080487899482250,0.031443577259779,-0.019641323015094,-0.003334130626172,-0.088319204747677,-0.005448070354760,0.018302159383893,0.021657530218363,-0.023627487942576));
res += mul(Get(s2,dx,-dy), float4x4(-0.085528321564198,-0.111381299793720,0.120023451745510,-0.035954866558313,-0.002675265073776,-0.018411770462990,0.100476168096066,-0.007264575455338,-0.198777258396149,0.025276970118284,-0.037259440869093,-0.052010811865330,-0.002481544855982,-0.062918670475483,0.141220137476921,-0.069416746497154));
res += mul(Get(s2,dx,0), float4x4(0.081925623118877,-0.034706350415945,-0.041751343756914,-0.047712139785290,-0.099032349884510,0.054009303450584,-0.170163244009018,0.075345546007156,-0.022597191855311,-0.001568676671013,-0.161862179636955,-0.161182686686516,0.090822726488113,-0.074098482728004,0.117613829672337,0.020190039649606));
res += mul(Get(s2,dx,dy), float4x4(0.172085821628571,-0.055810078978539,0.018213681876659,-0.063616484403610,0.026394763961434,-0.078877553343773,-0.023810971528292,-0.064389720559120,-0.047889370471239,0.057365559041500,0.029359824955463,0.030466256663203,-0.000808937300462,0.053971320390701,0.026225056499243,-0.116421289741993));
res += mul(Get(s3,-dx,-dy), float4x4(-0.091418012976646,-0.110624901950359,-0.036115247756243,0.057649914175272,-0.026355532929301,0.053192235529423,0.063856512308121,-0.146581396460533,0.063218399882317,0.056209526956081,0.038436215370893,0.026618275791407,0.060514397919178,0.019178817048669,-0.098497174680233,-0.156752377748489));
res += mul(Get(s3,-dx,0), float4x4(0.046150721609592,-0.044797163456678,0.044699121266603,0.112500488758087,0.045650791376829,-0.000001111568281,-0.059351205825806,0.063158892095089,-0.074837572872639,0.136502742767334,-0.087533853948116,0.081627905368805,0.006524712778628,0.023343047127128,0.013095003552735,0.086907997727394));
res += mul(Get(s3,-dx,dy), float4x4(-0.149522110819817,0.016051776707172,0.049625284969807,-0.025548594072461,-0.068893879652023,-0.101510241627693,-0.063617281615734,-0.112140305340290,-0.022601256147027,-0.042922377586365,-0.043678238987923,-0.048001579940319,0.100461758673191,0.011049066670239,0.045802835375071,0.030641563236713));
res += mul(Get(s3,0,-dy), float4x4(0.100461833178997,-0.056838408112526,0.012361658737063,0.006920672953129,0.164670392870903,0.039587892591953,-0.006122497841716,-0.003122068941593,-0.004407062195241,-0.051901854574680,0.048255726695061,0.082766458392143,0.064595818519592,-0.028563696891069,-0.001937562250532,0.116060972213745));
res += mul(Get(s3,0,0), float4x4(0.070073910057545,0.059009581804276,-0.091166257858276,-0.080379143357277,-0.045488014817238,-0.123593725264072,-0.066331833600998,0.084470093250275,0.071846760809422,-0.081447325646877,0.105660438537598,0.062148779630661,-0.007721064146608,-0.030189530923963,0.093133091926575,-0.024431116878986));
res += mul(Get(s3,0,dy), float4x4(0.043920505791903,-0.037778280675411,0.056096363812685,0.017929604277015,-0.059946652501822,-0.035564906895161,0.132942572236061,-0.143311679363251,0.008476684801280,-0.091420181095600,-0.006501999218017,-0.061497274786234,-0.048552300781012,0.006277361419052,0.013347090221941,0.038854327052832));
res += mul(Get(s3,dx,-dy), float4x4(0.001036371220835,-0.050942528992891,0.020531168207526,-0.002037078840658,-0.005553067661822,-0.020470717921853,0.078977562487125,-0.028660411015153,0.029018305242062,-0.038064952939749,-0.018786739557981,0.084104582667351,0.002691315719858,0.118753708899021,0.016599558293819,0.123817361891270));
res += mul(Get(s3,dx,0), float4x4(-0.028955353423953,-0.046918325126171,0.003854500595480,0.006722101010382,0.048735406249762,0.023467086255550,-0.092915304005146,0.065766580402851,0.029557071626186,0.055972125381231,-0.033411018550396,-0.034695923328400,-0.108479492366314,-0.027588773518801,-0.052512262016535,-0.018127147108316));
res += mul(Get(s3,dx,dy), float4x4(-0.059370402246714,0.069528631865978,0.074172221124172,-0.033614639192820,-0.113920904695988,0.061741970479488,-0.033993884921074,-0.118208952248096,-0.002513340907171,-0.132571846246719,-0.133271962404251,0.070693582296371,0.062695562839508,-0.034287389367819,-0.080466061830521,0.015699909999967));
return max(float4(0,0,0,0), res);
}
