sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.017524899914861,-0.028892738744617,-0.034331697970629,0.006819736678153,-0.051250301301479,0.003233282826841,-0.034608341753483,-0.036839086562395,-0.014550314284861,-0.020166860893369,0.015678031370044,-0.018856137990952,0.039277516305447,0.021885821595788,-0.024069285020232,0.014317623339593));
res += mul(Get(s0,-dx,0), float4x4(-0.009451497346163,-0.089092858135700,-0.015007861889899,0.011897707358003,-0.019965309649706,0.001531487330794,-0.003636465175077,-0.037966087460518,-0.039188433438540,0.059583935886621,0.043558251112700,0.019441034644842,-0.003114276332781,0.070968195796013,0.049009304493666,0.097396448254585));
res += mul(Get(s0,-dx,dy), float4x4(-0.024538297206163,-0.028137562796474,-0.028135024011135,-0.055506523698568,-0.021563326939940,-0.021735791116953,0.073622405529022,0.027863258495927,-0.007498521823436,0.036926414817572,0.001990173710510,0.022658297792077,0.071147888898849,-0.063803240656853,0.020529003813863,0.091833472251892));
res += mul(Get(s0,0,-dy), float4x4(-0.034043807536364,-0.006478976458311,0.048916894942522,0.042798966169357,-0.044192038476467,0.077901132404804,0.051085434854031,0.027160948142409,-0.005893045105040,0.089421227574348,0.084190130233765,-0.038959551602602,-0.015121184289455,0.093628562986851,0.053797051310539,0.081597708165646));
res += mul(Get(s0,0,0), float4x4(-0.028181936591864,-0.015725238248706,0.056128013879061,0.012929129414260,-0.043423093855381,0.059732723981142,0.029657358303666,0.041836615651846,-0.049234624952078,0.016188949346542,0.039001725614071,-0.076345786452293,0.004000792279840,0.002098699565977,-0.065027520060539,0.145999938249588));
res += mul(Get(s0,0,dy), float4x4(-0.043922610580921,0.041660416871309,-0.095543071627617,0.044466320425272,-0.062897957861423,0.047856543213129,-0.006682657171041,0.013431616127491,-0.020897572860122,0.041513208299875,0.049031324684620,0.067544318735600,-0.037473719567060,-0.076558373868465,0.116427481174469,-0.011087604798377));
res += mul(Get(s0,dx,-dy), float4x4(0.015304917469621,-0.021590869873762,-0.052872382104397,0.115754827857018,-0.030412433668971,0.060787793248892,0.027193393558264,0.089454546570778,0.010920330882072,0.002637082012370,0.051334325224161,0.050073646008968,-0.045718371868134,-0.061117116361856,0.039339397102594,0.005981917493045));
res += mul(Get(s0,dx,0), float4x4(-0.036821711808443,0.031765092164278,-0.104108780622482,-0.003885294310749,0.011611741036177,0.188263237476349,-0.023387344554067,0.124698355793953,0.040287192910910,0.110591627657413,-0.001741436426528,-0.025222631171346,0.022340308874846,-0.062914684414864,0.022744102403522,0.096591956913471));
res += mul(Get(s0,dx,dy), float4x4(-0.006502347998321,-0.013343637809157,0.008520296774805,-0.013537941500545,0.026623129844666,0.077493548393250,0.095955647528172,0.022232094779611,0.020793557167053,0.066556580364704,0.023657480254769,0.021639589220285,-0.047291174530983,-0.036779783666134,-0.050785221159458,0.038487721234560));
res += mul(Get(s1,-dx,-dy), float4x4(-0.069641634821892,0.019698802381754,-0.039462905377150,-0.035837244242430,-0.021843433380127,-0.033328760415316,-0.012465762905777,-0.050364643335342,-0.048925280570984,0.012210006825626,-0.036666072905064,0.037542648613453,0.133699059486389,-0.093682676553726,-0.004216529894620,-0.110670424997807));
res += mul(Get(s1,-dx,0), float4x4(-0.005598937161267,-0.012342790141702,-0.053995221853256,-0.035892035812140,-0.027585161849856,-0.048124749213457,-0.034136626869440,-0.082993924617767,-0.022465154528618,0.018410826101899,-0.033393558114767,0.047191258519888,-0.033695772290230,-0.058687236160040,0.013213636353612,-0.075177341699600));
res += mul(Get(s1,-dx,dy), float4x4(-0.002474515931681,-0.060473166406155,-0.056208413094282,-0.022649295628071,0.026977451518178,-0.139961078763008,0.012959286570549,-0.003561671357602,0.023052791133523,0.086627766489983,-0.008003424853086,0.022126069292426,-0.002241653855890,-0.040229178965092,-0.020319111645222,-0.065673828125000));
res += mul(Get(s1,0,-dy), float4x4(-0.023836391046643,0.120521150529385,0.001910040271468,0.047855414450169,-0.005585628096014,0.020326543599367,0.069644175469875,0.030388992279768,0.013770774938166,-0.012836503796279,-0.039913892745972,0.006149733439088,0.075719207525253,0.151420131325722,0.147727265954018,-0.044434264302254));
res += mul(Get(s1,0,0), float4x4(0.024005917832255,0.300291419029236,-0.073810845613480,0.043170593678951,0.081270530819893,-0.018510429188609,0.123480379581451,0.065100982785225,-0.043084621429443,0.134523287415504,-0.005894808098674,0.056553516536951,0.031910128891468,-0.085187420248985,-0.068834722042084,0.061401098966599));
res += mul(Get(s1,0,dy), float4x4(0.075454048812389,0.090058557689190,-0.079969294369221,0.054099615663290,-0.067328311502934,0.141594007611275,0.022543255239725,0.144285693764687,0.023000312969089,-0.103057511150837,-0.085648238658905,0.062940992414951,0.030448775738478,0.008338846266270,0.015393849462271,0.005880449898541));
res += mul(Get(s1,dx,-dy), float4x4(-0.002372790593654,-0.021617179736495,-0.065741911530495,-0.017623299732804,-0.014741736464202,0.053265802562237,0.027075128629804,0.029145611450076,0.004315937869251,-0.005149236414582,0.014221576973796,-0.012465595267713,-0.034182470291853,0.008141026832163,0.012967665679753,0.029268372803926));
res += mul(Get(s1,dx,0), float4x4(-0.027852822095156,-0.016569916158915,0.017453730106354,0.013519857078791,0.015953116118908,0.092835918068886,-0.027078259736300,0.069624081254005,-0.023105915635824,0.057206723839045,-0.048815023154020,-0.024795679375529,0.055553168058395,0.038707341998816,0.005716963205487,0.038397546857595));
res += mul(Get(s1,dx,dy), float4x4(-0.016015334054828,0.023253357037902,-0.073110759258270,0.004978010430932,0.000675053219311,0.000023745085855,-0.076182842254639,0.013218526728451,0.009053419344127,-0.002841672394425,-0.014356882311404,0.028730720281601,-0.001864789985120,0.033822689205408,-0.047288872301579,0.030381890013814));
res += mul(Get(s2,-dx,-dy), float4x4(0.055802315473557,0.023052766919136,-0.005109033547342,-0.110078930854797,0.047920402139425,-0.007116802502424,-0.000343152176356,-0.025897413492203,-0.018349209800363,0.018235320225358,0.096252433955669,0.011963854543865,-0.007032516412437,0.053682964295149,0.058012418448925,-0.023736774921417));
res += mul(Get(s2,-dx,0), float4x4(-0.039431069046259,0.043121330440044,0.025594972074032,0.091556318104267,-0.038664516061544,0.017999703064561,-0.047578956931829,-0.030130844563246,0.044795218855143,0.091252796351910,-0.000792865350377,0.001072709565051,-0.125088334083557,0.089847944676876,0.008724506013095,0.032428320497274));
res += mul(Get(s2,-dx,dy), float4x4(-0.066843912005424,-0.059794988483191,0.001099091838114,-0.039899289608002,-0.030651371926069,0.000754576292820,-0.062729537487030,-0.021947784349322,0.075550384819508,-0.041552603244781,0.045720636844635,-0.059490256011486,-0.101243659853935,0.003670128295198,-0.081409059464931,0.021597661077976));
res += mul(Get(s2,0,-dy), float4x4(-0.011473197489977,-0.009919016622007,-0.045384440571070,-0.014712796546519,0.032968536019325,-0.045068230479956,-0.037155602127314,-0.091079629957676,-0.015512316487730,-0.033102601766586,0.018638748675585,0.046152241528034,0.017198676243424,0.049329876899719,0.015277829952538,0.011093505658209));
res += mul(Get(s2,0,0), float4x4(0.002921462524682,-0.001526215695776,-0.007947818376124,0.076579004526138,-0.067726410925388,-0.145985141396523,-0.010017997585237,-0.066914543509483,0.159233495593071,0.085670724511147,0.189142420887947,-0.025497689843178,0.011735274456441,0.059737436473370,-0.022653939202428,-0.030766168609262));
res += mul(Get(s2,0,dy), float4x4(-0.049635838717222,0.079847320914268,0.066487565636635,0.049726571887732,-0.023575371131301,-0.050735857337713,-0.068232960999012,-0.038607861846685,-0.018608646467328,0.062040809541941,0.072239905595779,0.003363331081346,-0.057085104286671,-0.032215815037489,-0.045346461236477,-0.034012719988823));
res += mul(Get(s2,dx,-dy), float4x4(-0.013514176011086,-0.033181253820658,-0.002028763992712,-0.051861509680748,0.006590903736651,0.026444407179952,0.028881715610623,0.030130598694086,-0.005130634643137,0.018547642976046,0.036785244941711,0.001768755260855,-0.020208347588778,-0.011333849281073,0.019224768504500,-0.030206091701984));
res += mul(Get(s2,dx,0), float4x4(-0.071835123002529,-0.070980653166771,-0.038423389196396,-0.025758726522326,-0.045776046812534,0.183675676584244,-0.071705497801304,-0.015036775730550,0.097494259476662,0.128203317523003,0.077705487608910,-0.038430154323578,-0.003236384596676,-0.060470826923847,0.103612720966339,-0.087175540626049));
res += mul(Get(s2,dx,dy), float4x4(-0.107376374304295,-0.053503546863794,-0.054893363267183,0.060230974107981,0.063686594367027,0.014017313718796,0.000561108463444,-0.015858450904489,0.091839246451855,-0.044434688985348,0.025346932932734,0.002267814008519,-0.023619240149856,-0.024048054590821,0.001265418017283,0.042756117880344));
res += mul(Get(s3,-dx,-dy), float4x4(-0.070221915841103,-0.027094028890133,-0.066022723913193,-0.023527378216386,0.004896224476397,-0.004755095113069,0.041451025754213,0.072660893201828,0.083186164498329,0.048329509794712,0.031592864543200,-0.030995532870293,-0.002474527340382,0.082046531140804,0.048225115984678,0.008187647908926));
res += mul(Get(s3,-dx,0), float4x4(-0.015937598422170,-0.029184369370341,-0.110045634210110,-0.106833793222904,0.050028175115585,-0.087834171950817,-0.115078680217266,-0.018601639196277,0.076263807713985,0.052579279989004,0.023633742704988,-0.000084828621766,-0.019803946837783,-0.016009017825127,-0.062195591628551,-0.025224594399333));
res += mul(Get(s3,-dx,dy), float4x4(0.068762645125389,-0.013803654350340,0.035083431750536,0.043514274060726,0.069444902241230,-0.119586475193501,0.005987018346786,-0.084588110446930,0.032821007072926,0.107958219945431,-0.039504364132881,0.047463282942772,0.031239718198776,-0.018069289624691,-0.012919059023261,-0.030058426782489));
res += mul(Get(s3,0,-dy), float4x4(0.045890707522631,-0.027077041566372,0.057723466306925,-0.102523371577263,-0.034456338733435,-0.092700175940990,-0.089026272296906,0.060973901301622,0.029363242909312,-0.016938492655754,0.007992496713996,0.003121705027297,-0.032526876777411,-0.047573175281286,-0.082070171833038,0.082528091967106));
res += mul(Get(s3,0,0), float4x4(-0.006362406536937,-0.027539204806089,0.061934791505337,-0.011344658210874,0.028273899108171,-0.005410247482359,0.097668580710888,0.031161557883024,0.041953172534704,-0.096457101404667,-0.092742703855038,-0.073391906917095,0.045535214245319,0.021047560498118,0.069636493921280,-0.040575295686722));
res += mul(Get(s3,0,dy), float4x4(0.030138885602355,-0.070912189781666,-0.047761246562004,0.109355263411999,-0.028525963425636,0.161224275827408,0.046078536659479,0.000384952552849,0.140755116939545,0.023448310792446,-0.020233834162354,-0.045050378888845,0.011745769530535,0.077066101133823,-0.009500145912170,-0.046823542565107));
res += mul(Get(s3,dx,-dy), float4x4(0.005476222839206,-0.054088730365038,0.028043981641531,0.008099206723273,0.021955288946629,0.033612947911024,-0.048227246850729,0.101828657090664,-0.011016029864550,-0.064240202307701,-0.007943078875542,-0.022347303107381,0.078983068466187,0.021102879196405,0.009005505591631,0.025155112147331));
res += mul(Get(s3,dx,0), float4x4(0.012954365462065,-0.009578744880855,-0.034125670790672,0.050428040325642,-0.057037204504013,-0.035532370209694,0.014349361881614,0.102520763874054,0.036715943366289,0.052915576845407,0.000367329601431,-0.041166927665472,-0.035419382154942,0.008985378779471,0.051817405968904,0.093065589666367));
res += mul(Get(s3,dx,dy), float4x4(-0.007431329693645,-0.090039223432541,-0.032098971307278,0.014302778057754,0.004369917325675,-0.048021968454123,-0.028231306001544,0.033982615917921,0.058197125792503,-0.038503494113684,-0.031173836439848,-0.043761834502220,0.015123888850212,0.082592822611332,0.018229924142361,0.030622575432062));
return max(float4(0,0,0,0), res);
}
