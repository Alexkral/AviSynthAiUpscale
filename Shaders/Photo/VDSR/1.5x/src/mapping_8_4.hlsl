sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.011421665549278,0.055890429764986,-0.043783482164145,0.031606886535883,-0.006610224023461,0.002115097828209,0.014349817298353,0.012063888832927,0.017007000744343,0.037526853382587,0.074583411216736,-0.015113619156182,-0.078729331493378,-0.013098624534905,0.037744529545307,-0.045362789183855));
res += mul(Get(s0,-dx,0), float4x4(0.024152671918273,0.064184345304966,-0.000790875928942,-0.085725933313370,-0.037437539547682,-0.028385892510414,0.074898771941662,0.047211624681950,-0.094338357448578,0.038867332041264,-0.085228107869625,0.020799096673727,-0.007915814407170,-0.016191942617297,-0.035483356565237,0.074796840548515));
res += mul(Get(s0,-dx,dy), float4x4(0.044650256633759,0.003780429949984,-0.032596938312054,-0.028167307376862,0.074245244264603,-0.027677206322551,-0.014453928917646,-0.054482467472553,-0.070439055562019,0.028371809050441,-0.053297948092222,0.003558050375432,0.103107720613480,-0.008172909729183,-0.034558746963739,0.004373832605779));
res += mul(Get(s0,0,-dy), float4x4(0.136521250009537,-0.123743139207363,-0.021235581487417,-0.052031181752682,0.052909478545189,0.049789603799582,-0.025298971682787,0.056423943489790,0.134296581149101,0.009846217930317,0.054086796939373,-0.068140208721161,-0.056868057698011,0.070582903921604,-0.050643913447857,0.026633463799953));
res += mul(Get(s0,0,0), float4x4(-0.026228062808514,-0.095789991319180,0.111409038305283,0.212348818778992,0.049464128911495,0.042300626635551,0.013694753870368,-0.041469320654869,-0.101747527718544,0.039829373359680,0.033483859151602,0.131708964705467,-0.046149685978889,0.098104938864708,-0.024217225611210,0.173799231648445));
res += mul(Get(s0,0,dy), float4x4(0.105208367109299,-0.100479349493980,-0.018374707549810,-0.055185735225677,0.011201804503798,-0.034600708633661,-0.023097679018974,-0.049560852348804,-0.225566715002060,-0.010873414576054,0.049878563731909,0.080907046794891,0.008461118675768,-0.002692367415875,0.029300043359399,0.030336508527398));
res += mul(Get(s0,dx,-dy), float4x4(-0.044127635657787,-0.070247545838356,0.025513082742691,-0.034079514443874,0.019266769289970,0.074424505233765,-0.101456187665462,-0.014961197040975,0.208996966481209,0.042197469621897,-0.035575930029154,-0.003689327277243,-0.086246624588966,-0.017409192398190,0.086676180362701,0.006027861498296));
res += mul(Get(s0,dx,0), float4x4(0.050858754664660,-0.018496798351407,-0.003081441856921,0.068405412137508,-0.044954247772694,-0.014580638147891,-0.071357533335686,0.002867088885978,-0.055136274546385,0.041025903075933,-0.216904580593109,-0.091224335134029,0.036710072308779,0.091502510011196,0.072371244430542,-0.039633493870497));
res += mul(Get(s0,dx,dy), float4x4(0.044339094310999,-0.061943516135216,-0.070669233798981,-0.118020363152027,-0.007984331808984,0.023426016792655,-0.005394514650106,-0.000061705693952,-0.169546261429787,0.040290195494890,-0.139688000082970,-0.051643103361130,0.079248256981373,-0.010816177353263,0.024671999737620,0.046993535012007));
res += mul(Get(s1,-dx,-dy), float4x4(-0.085271321237087,0.057507183402777,-0.116725303232670,-0.014939336106181,-0.029429994523525,0.000064600106271,0.004620181862265,-0.123624227941036,-0.095737725496292,0.042956031858921,-0.076053693890572,-0.050435557961464,0.017250033095479,-0.078926578164101,0.013796456158161,0.003536007367074));
res += mul(Get(s1,-dx,0), float4x4(0.159421578049660,-0.029997237026691,-0.044564608484507,0.075539834797382,0.009965083561838,-0.051600720733404,0.021594218909740,0.025497648864985,0.044793467968702,-0.058990992605686,-0.099326305091381,-0.031989105045795,-0.035132125020027,-0.073233149945736,-0.012539389543235,0.025281636044383));
res += mul(Get(s1,-dx,dy), float4x4(-0.002350264694542,-0.031738441437483,-0.159452810883522,-0.081218004226685,0.014363525435328,-0.015721688047051,0.002040622290224,-0.036327566951513,-0.060056254267693,-0.002652924275026,-0.039106331765652,0.121845461428165,-0.018338341265917,-0.025341423228383,-0.007856585085392,0.073814243078232));
res += mul(Get(s1,0,-dy), float4x4(-0.043354004621506,0.112287096679211,0.038686733692884,-0.147129029035568,0.043516427278519,0.175326108932495,0.031340356916189,-0.016994185745716,-0.070983044803143,0.013886571861804,0.042003512382507,-0.076132290065289,0.007677890826017,-0.111552558839321,0.050020907074213,0.026600379496813));
res += mul(Get(s1,0,0), float4x4(-0.039554767310619,-0.145734235644341,0.210734933614731,0.076720625162125,-0.015596444718540,0.128130465745926,-0.021516544744372,0.000252687575994,0.009214524179697,0.010614577680826,0.035816252231598,0.086571894586086,-0.020901184529066,-0.023177061229944,-0.077457487583160,-0.089801542460918));
res += mul(Get(s1,0,dy), float4x4(0.082910269498825,0.029611403122544,0.000667289248668,-0.079330600798130,0.020354952663183,0.041852671653032,-0.024046339094639,0.028888069093227,0.006735835224390,0.034662127494812,0.063043251633644,0.153197735548019,-0.016098763793707,-0.012411206960678,0.043905112892389,0.084161080420017));
res += mul(Get(s1,dx,-dy), float4x4(-0.018705250695348,0.078678071498871,-0.004640627186745,-0.054131023585796,-0.001211754744872,-0.013147660531104,-0.067733950912952,0.016142552718520,-0.038965355604887,-0.005414403043687,0.120267756283283,-0.089933633804321,0.034360591322184,-0.081689819693565,0.084190338850021,0.031502671539783));
res += mul(Get(s1,dx,0), float4x4(0.004261107649654,0.172815591096878,0.037914413958788,0.097231447696686,-0.063264705240726,-0.026840204373002,-0.133926138281822,-0.046710297465324,-0.022324157878757,-0.009934679605067,0.149119585752487,0.021276814863086,-0.017068734392524,-0.127533853054047,0.090556532144547,0.052338153123856));
res += mul(Get(s1,dx,dy), float4x4(0.050348550081253,0.008658833801746,-0.033334225416183,-0.079395554959774,-0.071608200669289,0.007120135240257,-0.126540511846542,0.150593489408493,0.030207922682166,0.066544972360134,0.000801054644398,-0.040980968624353,-0.073166012763977,-0.051199615001678,-0.022445749491453,-0.024369496852160));
res += mul(Get(s2,-dx,-dy), float4x4(0.046529378741980,0.023886734619737,0.005909187253565,-0.019342646002769,-0.054730821400881,-0.011045427992940,0.063425347208977,0.013010236434639,0.025903081521392,-0.038059882819653,0.051968894898891,-0.084711797535419,0.150281459093094,-0.040044240653515,-0.136753603816032,-0.007272675167769));
res += mul(Get(s2,-dx,0), float4x4(-0.009946485981345,-0.052455808967352,0.061313740909100,-0.050653025507927,0.016049446538091,-0.008956435136497,-0.000107727384602,-0.052018638700247,0.068712919950485,0.015879683196545,0.112277425825596,0.012201653793454,-0.047635111957788,0.069038681685925,0.115465663373470,0.013589138165116));
res += mul(Get(s2,-dx,dy), float4x4(0.009284150786698,-0.040381822735071,0.021557422354817,0.089819096028805,-0.028480451554060,0.061109554022551,-0.000447944592452,-0.023764787241817,-0.050613652914762,-0.034072060137987,0.114379353821278,-0.060348581522703,0.145991727709770,-0.074073195457458,-0.041191592812538,-0.102094031870365));
res += mul(Get(s2,0,-dy), float4x4(0.094756230711937,-0.039266455918550,0.099779188632965,0.011317348107696,0.013435895554721,0.049208734184504,0.032556585967541,0.117960840463638,0.201595202088356,-0.056305192410946,0.105874828994274,0.061153072863817,0.087865971028805,-0.033273123204708,0.032570801675320,0.073237597942352));
res += mul(Get(s2,0,0), float4x4(0.020671101287007,0.022899951785803,0.005726478062570,-0.080363713204861,0.028878388926387,-0.042881343513727,0.010264235548675,0.173389896750450,0.227353021502495,0.082468844950199,0.237050503492355,0.063848532736301,-0.003922315780073,0.193798497319221,0.099902510643005,0.126808583736420));
res += mul(Get(s2,0,dy), float4x4(-0.159168079495430,0.019008504226804,-0.035783316940069,0.214059099555016,-0.019637743011117,0.014542591758072,-0.005366253666580,0.166788652539253,0.007641674019396,0.004535291343927,0.181405708193779,0.122556149959564,0.096749506890774,-0.063537821173668,-0.050550982356071,0.013384777121246));
res += mul(Get(s2,dx,-dy), float4x4(0.026286687701941,-0.175332993268967,-0.009690263308585,-0.024195676669478,0.015818424522877,-0.073693461716175,0.089582376182079,0.005776492878795,0.057115148752928,0.002336010104045,0.037270393222570,0.049465768039227,-0.029940668493509,-0.135815799236298,-0.029636956751347,-0.007586503401399));
res += mul(Get(s2,dx,0), float4x4(0.000354214629624,0.071464158594608,-0.022426201030612,-0.098987139761448,-0.006630447693169,-0.015342094004154,0.067462868988514,-0.044323794543743,0.014956123195589,0.061693336814642,0.147946983575821,0.004662166815251,-0.011136353015900,-0.049805033951998,0.156592905521393,0.069174148142338));
res += mul(Get(s2,dx,dy), float4x4(0.019018450751901,-0.058574385941029,-0.064791612327099,0.039291024208069,0.029500246047974,-0.058362208306789,0.074008211493492,-0.078952670097351,-0.010314622893929,0.039219424128532,0.102103598415852,0.042262177914381,-0.052366714924574,0.004552307538688,0.089451476931572,0.010540084913373));
res += mul(Get(s3,-dx,-dy), float4x4(0.107777863740921,0.037794049829245,0.039536636322737,-0.039123374968767,0.031496979296207,-0.002414775313810,0.022729268297553,-0.022755211219192,-0.130868762731552,0.010082095861435,0.018927810713649,-0.024107925593853,-0.045884266495705,0.088804915547371,0.090677425265312,-0.000962238991633));
res += mul(Get(s3,-dx,0), float4x4(0.046275984495878,0.067701198160648,-0.019286828115582,-0.015136451460421,0.045770283788443,-0.028025165200233,-0.009896666742861,0.018010368570685,0.048504792153835,-0.024780772626400,-0.016416952013969,-0.062802448868752,0.068311162292957,-0.003384297946468,0.114648066461086,-0.038147661834955));
res += mul(Get(s3,-dx,dy), float4x4(-0.063608199357986,0.119289651513100,-0.012041918002069,0.055805005133152,-0.023889757692814,0.020932970568538,0.012258272618055,0.067164830863476,-0.050292432308197,0.006997060030699,-0.022621756419539,-0.107196636497974,0.001636121771298,-0.025083078071475,-0.049009636044502,0.026294870302081));
res += mul(Get(s3,0,-dy), float4x4(0.057265345007181,0.112274080514908,0.021070767194033,0.013434085063636,0.005654930602759,0.053737603127956,-0.086569592356682,0.115155868232250,-0.078230269253254,0.023864522576332,0.099706217646599,-0.026023155078292,-0.003407990792766,-0.010116913355887,-0.077615909278393,0.039378132671118));
res += mul(Get(s3,0,0), float4x4(0.248827934265137,-0.033934790641069,-0.050744574517012,-0.008796707727015,0.062429983168840,0.045239094644785,-0.081552729010582,-0.047836836427450,0.042594473809004,0.078999593853951,0.011742071248591,-0.070292562246323,-0.142052382230759,0.104488536715508,-0.085975520312786,0.102892987430096));
res += mul(Get(s3,0,dy), float4x4(0.027887830510736,0.033257652074099,0.112787730991840,0.054931025952101,-0.058575414121151,0.045598190277815,-0.031118262559175,0.012868150137365,0.000651352864224,0.026078172028065,-0.009172637015581,-0.130343601107597,0.074994385242462,0.027084605768323,-0.219906851649284,-0.078163236379623));
res += mul(Get(s3,dx,-dy), float4x4(0.045250210911036,-0.047559872269630,0.057656224817038,-0.001638668356463,0.014229217544198,-0.050794769078493,0.003498861333355,0.029583310708404,-0.046449583023787,0.033716335892677,-0.016186015680432,-0.011880807578564,0.002047099638730,-0.150484636425972,0.072575591504574,0.080104865133762));
res += mul(Get(s3,dx,0), float4x4(0.015358521603048,-0.030831616371870,-0.078656084835529,-0.033433061093092,-0.029032187536359,-0.025977035984397,-0.023070929571986,0.066317215561867,0.055325023829937,0.034315984696150,-0.044678799808025,-0.002827193355188,-0.020385868847370,0.130922779440880,0.124623149633408,0.049073174595833));
res += mul(Get(s3,dx,dy), float4x4(-0.002275019651279,0.044630739837885,0.006355895195156,-0.002200668444857,0.046960208564997,-0.062674328684807,-0.081008620560169,0.125497683882713,-0.037227950990200,0.027188951149583,-0.004457680508494,-0.004541760310531,0.053418722003698,-0.081995151937008,-0.078273206949234,-0.032735537737608));
return max(float4(0,0,0,0), res);
}
