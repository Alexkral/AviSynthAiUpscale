sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.006588605232537,0.029278637841344,0.004101498983800,-0.057338383048773,-0.081758715212345,0.029021028429270,-0.020019682124257,-0.038726668804884,0.052822880446911,-0.025853404775262,-0.012220991775393,0.062919661402702,-0.067163161933422,0.000705295766238,0.032697014510632,0.025213699787855));
res += mul(Get(s0,-dx,0), float4x4(-0.029572309926152,-0.012743093073368,0.117316015064716,-0.071023061871529,0.017559271305799,-0.031969483941793,-0.045768868178129,-0.072043485939503,-0.056654192507267,0.009430026635528,0.084956310689449,0.066704340279102,-0.085185348987579,0.019447982311249,0.058431923389435,-0.051808033138514));
res += mul(Get(s0,-dx,dy), float4x4(0.020738547667861,-0.027436586096883,-0.008887397125363,-0.034376040101051,0.022535255178809,0.056497599929571,0.012211008928716,0.041585501283407,-0.000275413534837,-0.129284754395485,0.057340949773788,0.014043929986656,0.024729104712605,-0.128056570887566,-0.136246696114540,-0.020431676879525));
res += mul(Get(s0,0,-dy), float4x4(0.016825806349516,0.099496170878410,-0.034383244812489,-0.063828840851784,-0.019635172560811,0.059772435575724,0.061228279024363,-0.053116627037525,0.053365539759398,-0.011661308817565,0.024253020063043,-0.058966074138880,0.092676706612110,0.065213218331337,0.066733993589878,-0.074991345405579));
res += mul(Get(s0,0,0), float4x4(0.008098720572889,-0.031460877507925,-0.050873383879662,-0.000730667205062,-0.030482990667224,0.058139394968748,0.007804760243744,-0.024360256269574,-0.092502839863300,0.132651612162590,0.052957769483328,0.073257841169834,-0.037654031068087,-0.085237056016922,-0.137969881296158,-0.159474313259125));
res += mul(Get(s0,0,dy), float4x4(0.020045291632414,-0.024264248088002,0.075361624360085,-0.001779403421097,-0.019641015678644,0.057428412139416,-0.040237490087748,-0.058638092130423,0.061631966382265,0.055151205509901,0.156866222620010,0.061747517436743,0.019215987995267,-0.100807808339596,-0.137740060687065,-0.065341800451279));
res += mul(Get(s0,dx,-dy), float4x4(-0.113309741020203,-0.015662433579564,0.016716830432415,0.036746408790350,0.027931282296777,-0.044675413519144,-0.026363754644990,-0.136719807982445,0.117710754275322,-0.148100018501282,-0.016270890831947,-0.048599001020193,-0.023304650560021,0.048923697322607,0.019793327897787,-0.064909279346466));
res += mul(Get(s0,dx,0), float4x4(0.283721476793289,0.025876609608531,-0.018496152013540,0.113697461783886,0.017587486654520,-0.002081910148263,-0.050897281616926,-0.121645271778107,0.081482954323292,-0.029080407693982,-0.110921442508698,-0.018017863854766,0.082508243620396,0.069138087332249,-0.024982513859868,-0.105519384145737));
res += mul(Get(s0,dx,dy), float4x4(0.044566918164492,-0.022524615749717,-0.015982478857040,-0.035030756145716,0.049329105764627,-0.050854001194239,0.016694385558367,0.008473521098495,0.101180955767632,-0.018860504031181,0.040332499891520,-0.011422064155340,-0.002397793112323,0.113863550126553,-0.079588867723942,0.000665360072162));
res += mul(Get(s1,-dx,-dy), float4x4(0.073014281690121,0.086932733654976,0.047019228339195,-0.034228540956974,0.047378621995449,-0.037076976150274,0.087788105010986,-0.010470835492015,-0.131701916456223,-0.074614256620407,0.008368112146854,-0.026471745222807,0.024585865437984,-0.014619254507124,0.009713053703308,0.018102873116732));
res += mul(Get(s1,-dx,0), float4x4(-0.040898382663727,0.069180592894554,-0.024376630783081,0.050970993936062,0.017054611817002,-0.034959945827723,0.047730859369040,0.013806795701385,-0.022267626598477,-0.138183534145355,-0.013460026122630,-0.068834215402603,0.006640865467489,-0.069748796522617,0.040116291493177,-0.028814323246479));
res += mul(Get(s1,-dx,dy), float4x4(0.006877656094730,0.102307610213757,-0.060946594923735,0.088648431003094,0.012496906332672,0.004207985475659,-0.059189334511757,-0.000056235694501,-0.079104915261269,0.051473755389452,-0.044618908315897,0.025762680917978,0.037571959197521,-0.026998341083527,0.111124306917191,0.014421207830310));
res += mul(Get(s1,0,-dy), float4x4(-0.035225011408329,0.099718697369099,0.087913438677788,-0.035821869969368,0.033727418631315,-0.072757847607136,-0.017419138923287,-0.027330636978149,-0.007991449907422,-0.059709217399359,0.008895127102733,0.032418601214886,0.021292841061950,-0.069015406072140,-0.064370296895504,0.057976637035608));
res += mul(Get(s1,0,0), float4x4(-0.147321477532387,-0.032138604670763,-0.021204143762589,-0.014789292588830,-0.142862230539322,-0.102315604686737,0.009378732182086,-0.072247661650181,0.012724598869681,-0.009674669243395,-0.015206846408546,0.090238012373447,0.040463831275702,-0.093584083020687,-0.078948006033897,0.155832633376122));
res += mul(Get(s1,0,dy), float4x4(-0.053440824151039,-0.084945492446423,-0.021967841312289,-0.113141566514969,0.078589797019958,-0.012297460809350,-0.044225361198187,0.087932407855988,-0.117233745753765,0.038170453161001,0.039202947169542,0.065420120954514,-0.055772013962269,0.034189928323030,0.016949148848653,0.120453417301178));
res += mul(Get(s1,dx,-dy), float4x4(-0.049235958606005,0.053800541907549,0.010488995350897,-0.119196653366089,0.106493450701237,-0.085714131593704,-0.085206620395184,-0.002188940066844,0.102834589779377,0.049537185579538,0.023422302678227,0.113228321075439,0.048100359737873,-0.113696038722992,-0.049761414527893,0.019691850990057));
res += mul(Get(s1,dx,0), float4x4(-0.024108514189720,-0.004262323491275,0.027883281931281,0.020309193059802,-0.014566496945918,-0.055691163986921,-0.060873191803694,0.006286288145930,0.028707593679428,-0.008618246763945,-0.094453513622284,0.129157021641731,-0.014522065408528,-0.013626961968839,-0.014480788260698,-0.188617765903473));
res += mul(Get(s1,dx,dy), float4x4(-0.019435372203588,-0.011958425864577,-0.017081370577216,-0.189091339707375,0.073462083935738,-0.045252643525600,0.026684105396271,0.127758741378784,0.001642599934712,0.143494158983231,0.064698174595833,0.081720866262913,0.062211237847805,-0.117420032620430,-0.008594793267548,-0.080436445772648));
res += mul(Get(s2,-dx,-dy), float4x4(-0.140404224395752,-0.004433497786522,-0.118500933051109,-0.000455872999737,-0.009298988617957,-0.022965097799897,-0.034376680850983,0.013655971735716,0.046550005674362,-0.015973458066583,-0.008715449832380,0.008802843280137,0.013587059453130,0.046476732939482,-0.003669352503493,-0.014701391570270));
res += mul(Get(s2,-dx,0), float4x4(-0.029419129714370,-0.012573428452015,0.020659940317273,-0.087116584181786,0.100414276123047,0.071443118155003,-0.013096369802952,0.081467494368553,-0.051599998027086,0.030986562371254,0.041299041360617,0.059877902269363,0.050593916326761,-0.165927633643150,0.198455482721329,-0.034806594252586));
res += mul(Get(s2,-dx,dy), float4x4(-0.023148089647293,0.007532881107181,0.015133176930249,-0.043037768453360,0.074105091392994,0.071607723832130,0.009788369759917,0.074762992560863,0.000216471235035,0.025686712935567,0.054959341883659,-0.007587172556669,-0.020865201950073,0.076621204614639,0.202958390116692,-0.050981320440769));
res += mul(Get(s2,0,-dy), float4x4(-0.032574985176325,0.063864462077618,0.022444684058428,0.088054008781910,0.004276438150555,0.020505610853434,-0.001249956549145,0.065726019442081,-0.028048032894731,0.084040448069572,-0.015903733670712,0.079049006104469,-0.021531566977501,0.109077475965023,0.013702295720577,0.073498696088791));
res += mul(Get(s2,0,0), float4x4(0.272750526666641,0.065903149545193,0.042534664273262,-0.015473368577659,-0.018819110468030,-0.006220768205822,-0.045491505414248,0.019550563767552,-0.013375123962760,0.066114060580730,0.058223459869623,0.088766783475876,0.054887607693672,-0.004960648715496,-0.021796857938170,0.028867412358522));
res += mul(Get(s2,0,dy), float4x4(-0.026811860501766,0.114105902612209,0.001917567104101,0.010928487405181,-0.039052311331034,-0.001053423620760,-0.101002559065819,0.037911847233772,0.013530361466110,0.045636374503374,0.003529178677127,0.077161997556686,-0.066517718136311,-0.053061317652464,-0.030877234414220,-0.069532610476017));
res += mul(Get(s2,dx,-dy), float4x4(0.013996756635606,0.103061072528362,0.022078702226281,0.002334540477023,0.058943573385477,-0.037028204649687,0.003000108757988,0.037696804851294,0.039806045591831,-0.019799750298262,-0.034678194671869,-0.016946882009506,-0.043593131005764,0.045130595564842,-0.045800767838955,-0.040632274001837));
res += mul(Get(s2,dx,0), float4x4(0.100203529000282,0.107929065823555,-0.014740477316082,-0.012943215668201,0.045450858771801,-0.016189480200410,-0.007012752816081,0.077342845499516,-0.018065012991428,-0.014282122254372,-0.061809469014406,0.055912654846907,0.063486784696579,0.038365796208382,0.052584268152714,-0.104323059320450));
res += mul(Get(s2,dx,dy), float4x4(-0.026209242641926,0.054367542266846,0.064487718045712,-0.031902790069580,-0.015153890475631,-0.013078259304166,-0.015189800411463,0.139538675546646,0.053990889340639,0.044806338846684,-0.087184511125088,0.013785468414426,0.017933070659637,0.068031564354897,0.084819011390209,0.128723815083504));
res += mul(Get(s3,-dx,-dy), float4x4(0.030691221356392,-0.003491079201922,-0.012040352448821,0.001346488716081,-0.035554558038712,0.001592184300534,0.034246031194925,-0.039510317146778,-0.031770497560501,-0.106217630207539,-0.048342224210501,-0.048817802220583,-0.047516159713268,0.040318809449673,-0.107830025255680,0.003072721417993));
res += mul(Get(s3,-dx,0), float4x4(-0.049047265201807,0.000414603215177,-0.025546800345182,0.054411068558693,-0.070642560720444,-0.043335892260075,0.019785439595580,0.031594235450029,-0.035616647452116,-0.061060871928930,-0.025042310357094,-0.001954948995262,0.023367913439870,0.088325902819633,-0.010660755448043,0.121400572359562));
res += mul(Get(s3,-dx,dy), float4x4(0.001626525772735,-0.039266385138035,0.117232009768486,0.135243833065033,-0.026067122817039,0.014214207418263,-0.047812156379223,0.080819807946682,0.024303710088134,-0.004147201776505,-0.046226169914007,0.094532810151577,-0.028297578915954,-0.009816316887736,-0.045472294092178,0.080713801085949));
res += mul(Get(s3,0,-dy), float4x4(-0.046250697225332,0.087570652365685,-0.012393287383020,-0.019922222942114,0.013331687077880,0.074377968907356,-0.024642918258905,0.053238395601511,-0.037745539098978,0.028598790988326,-0.083746835589409,0.018581958487630,-0.008348522707820,0.126317754387856,-0.123178347945213,0.047216352075338));
res += mul(Get(s3,0,0), float4x4(-0.061145324259996,0.244533941149712,0.018972918391228,-0.040330763906240,0.040526844561100,0.131200432777405,-0.016136841848493,0.113729916512966,-0.034489169716835,0.079877503216267,-0.025801831856370,0.097705796360970,0.034055769443512,-0.014221208170056,0.221185684204102,0.027980998158455));
res += mul(Get(s3,0,dy), float4x4(0.074470825493336,-0.048324562609196,0.028896374627948,0.014899965375662,0.037743747234344,0.014159474521875,0.000396203657147,0.131846845149994,-0.050728879868984,0.060547877103090,-0.001694241305813,0.029162235558033,-0.088638149201870,-0.021069409325719,-0.067310497164726,-0.072683736681938));
res += mul(Get(s3,dx,-dy), float4x4(0.102158583700657,-0.032617129385471,-0.005125542171299,-0.037686333060265,0.052707321941853,-0.009987168014050,-0.012793144211173,0.057673100382090,0.031014561653137,-0.017524655908346,-0.070136129856110,0.046295102685690,0.004040892701596,-0.043970711529255,-0.026303438469768,0.108898147940636));
res += mul(Get(s3,dx,0), float4x4(0.004467772319913,-0.017535379156470,-0.086691208183765,0.068193212151527,0.085739061236382,-0.107983246445656,0.044695369899273,0.051985207945108,-0.052517883479595,0.047811020165682,-0.051440857350826,-0.082661285996437,0.023045174777508,0.049548495560884,0.082444757223129,-0.023826129734516));
res += mul(Get(s3,dx,dy), float4x4(0.104667805135250,-0.013244003988802,-0.049169681966305,0.025037864223123,0.057934682816267,0.061591919511557,0.013708863407373,0.042876958847046,-0.000704560428858,-0.020785626024008,0.001583801349625,-0.069801948964596,-0.023156234994531,0.090829513967037,-0.057416297495365,-0.069752849638462));
return max(float4(0,0,0,0), res);
}
