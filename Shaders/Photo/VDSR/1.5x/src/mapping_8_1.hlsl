sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.011381471529603,-0.013008560054004,0.018783330917358,0.088285580277443,-0.155254930257797,0.112847670912743,-0.092650040984154,-0.034239422529936,0.141199156641960,-0.105329692363739,0.040037419646978,-0.012747944332659,-0.013084398582578,-0.035371534526348,-0.063843198120594,-0.057811569422483));
res += mul(Get(s0,-dx,0), float4x4(0.012691711075604,0.090862736105919,0.083609722554684,-0.020473374053836,-0.106360748410225,0.037920638918877,0.103040032088757,-0.083668045699596,0.036834508180618,-0.131498664617538,-0.138832196593285,0.097364187240601,0.024433692917228,-0.065955236554146,-0.055193841457367,-0.176507696509361));
res += mul(Get(s0,-dx,dy), float4x4(0.046807728707790,-0.001086537959054,0.051990944892168,-0.115948282182217,0.127706572413445,0.166003167629242,-0.031821262091398,-0.040763102471828,0.253530174493790,-0.152292013168335,0.068283200263977,0.014229917898774,0.024719784036279,0.090321481227875,-0.021042309701443,0.070247970521450));
res += mul(Get(s0,0,-dy), float4x4(0.087358891963959,-0.040344756096601,-0.071885898709297,0.108065031468868,0.109951384365559,-0.008514183573425,-0.037296954542398,0.144096285104752,-0.011752653867006,0.017204685136676,0.006483432836831,-0.083327621221542,-0.084766834974289,0.051316171884537,-0.049320582300425,-0.103633202612400));
res += mul(Get(s0,0,0), float4x4(-0.059382908046246,-0.092955641448498,0.063564017415047,-0.092266686260700,0.064900383353233,0.155530601739883,0.024931740015745,-0.019656671211123,-0.034062717109919,0.052272293716669,0.132257938385010,-0.025929411873221,-0.063276827335358,-0.078276194632053,-0.090698875486851,0.064649485051632));
res += mul(Get(s0,0,dy), float4x4(0.109649978578091,0.041100449860096,-0.030073242262006,-0.091100759804249,0.005027587059885,0.164347276091576,0.113039866089821,-0.098266713321209,-0.057638321071863,-0.013670451007783,-0.079806916415691,0.082509428262711,-0.060357902199030,-0.077469959855080,-0.168473139405251,0.003297827439383));
res += mul(Get(s0,dx,-dy), float4x4(-0.024053860455751,-0.114258743822575,-0.101220190525055,0.151182770729065,-0.187800645828247,0.114808492362499,0.008560004644096,-0.053764797747135,-0.056539051234722,-0.061641518026590,0.132868885993958,0.001419743755832,0.097091399133205,0.081706471741199,0.044475365430117,-0.016424074769020));
res += mul(Get(s0,dx,0), float4x4(-0.027637988328934,0.039783939719200,-0.095075741410255,-0.038260944187641,0.025060398504138,-0.085843570530415,-0.006998296827078,-0.034097176045179,0.088027127087116,-0.070021457970142,0.109151355922222,0.049382410943508,0.078592404723167,-0.087500803172588,-0.009930598549545,0.124948568642139));
res += mul(Get(s0,dx,dy), float4x4(0.061993993818760,-0.103184573352337,0.113862164318562,-0.071902662515640,0.040846236050129,-0.048118349164724,0.089273713529110,0.124237142503262,-0.125195294618607,0.144494920969009,-0.129739508032799,-0.032468184828758,-0.006507774349302,0.060481309890747,-0.001659103552811,0.170583963394165));
res += mul(Get(s1,-dx,-dy), float4x4(-0.005553482566029,-0.231310009956360,0.107153721153736,-0.016805136576295,0.042945649474859,-0.223083674907684,-0.049328606575727,-0.040936611592770,-0.095765613019466,0.009437120519578,-0.024778116494417,-0.062971137464046,0.002308366587386,-0.050204195082188,0.034171149134636,0.058946423232555));
res += mul(Get(s1,-dx,0), float4x4(-0.060887996107340,0.068036027252674,0.089274324476719,0.023286895826459,-0.044466979801655,-0.060700751841068,0.019566582515836,-0.061899852007627,0.057396803051233,-0.013651745393872,-0.251560926437378,0.081159070134163,0.000205725591513,0.044910952448845,0.018928017467260,-0.005223546642810));
res += mul(Get(s1,-dx,dy), float4x4(-0.041862502694130,0.005501769483089,-0.142972007393837,0.065260186791420,-0.047601401805878,-0.077113658189774,0.021277254447341,0.033806782215834,0.178720638155937,0.115745455026627,0.006089428905398,-0.018721457570791,-0.062496993690729,0.064268089830875,0.157331362366676,0.074696555733681));
res += mul(Get(s1,0,-dy), float4x4(-0.030949506908655,-0.051058743149042,0.062691830098629,0.108737051486969,-0.132545754313469,0.126070365309715,0.107708118855953,0.003619197988883,-0.079410992562771,0.153128951787949,0.048701342195272,-0.013246824964881,0.060997772961855,0.021219911053777,0.135372802615166,0.054870631545782));
res += mul(Get(s1,0,0), float4x4(-0.049551811069250,-0.159181937575340,0.082398831844330,-0.115774407982826,-0.043437313288450,0.098791919648647,-0.029149895533919,-0.078233502805233,0.180684834718704,-0.106405302882195,0.022095853462815,-0.039450217038393,-0.029057012870908,-0.052197962999344,0.071488887071609,-0.049692112952471));
res += mul(Get(s1,0,dy), float4x4(0.032651938498020,0.160280287265778,0.032399717718363,-0.098748594522476,0.019190300256014,0.001964672235772,-0.058665268123150,0.179267928004265,0.079830475151539,0.073657684028149,-0.049692414700985,-0.171684905886650,0.058506824076176,0.046585559844971,0.000043290205213,0.017837805673480));
res += mul(Get(s1,dx,-dy), float4x4(-0.014187185093760,-0.042579997330904,-0.008788475766778,0.039043352007866,-0.082300670444965,0.046806644648314,0.001297362963669,-0.011110736057162,0.118165627121925,-0.055621422827244,0.097713634371758,0.122100561857224,-0.027066003531218,-0.028008650988340,0.030580429360271,0.034711200743914));
res += mul(Get(s1,dx,0), float4x4(-0.073078624904156,-0.092028953135014,0.019175361841917,0.072962246835232,-0.047297541052103,-0.139162495732307,-0.024512633681297,-0.081583492457867,0.118115678429604,-0.053492926061153,0.080795884132385,0.036505851894617,0.036201834678650,0.025402734056115,-0.033283151686192,0.015996385365725));
res += mul(Get(s1,dx,dy), float4x4(0.023878403007984,0.136351019144058,-0.021603437140584,0.038631681352854,-0.053173415362835,0.007535447832197,0.011823608539999,0.060278180986643,0.087618030607700,-0.125905051827431,0.016919590532780,-0.125228404998779,-0.014964223839343,-0.053005404770374,0.163569882512093,0.021014332771301));
res += mul(Get(s2,-dx,-dy), float4x4(-0.096240878105164,0.185521364212036,-0.151342198252678,-0.094403907656670,0.170983061194420,0.010484815575182,0.087929025292397,0.086591124534607,-0.051779579371214,-0.008930005133152,-0.026232410222292,0.094085291028023,0.054282095283270,-0.076214782893658,-0.044136263430119,-0.080142244696617));
res += mul(Get(s2,-dx,0), float4x4(0.045412320643663,0.170197114348412,-0.001832129782997,0.099335677921772,0.008683850057423,0.019282860681415,0.064082570374012,-0.016679670661688,0.017703296616673,-0.015049736015499,0.086949631571770,-0.115236185491085,-0.025755146518350,-0.156642705202103,-0.195000857114792,0.015180123969913));
res += mul(Get(s2,-dx,dy), float4x4(0.056239396333694,0.178367003798485,0.011267795227468,-0.040278930217028,0.035787165164948,-0.115522697567940,-0.060628738254309,-0.069355703890324,-0.196139529347420,0.017311226576567,-0.125593215227127,0.185056641697884,-0.116834677755833,0.165935918688774,-0.050001509487629,-0.007274511270225));
res += mul(Get(s2,0,-dy), float4x4(-0.009081345051527,0.000423656136263,-0.068451881408691,0.005771882832050,0.134013235569000,-0.132000967860222,-0.042361911386251,0.062931306660175,0.007908214814961,0.002639904152602,0.067445285618305,0.034532040357590,-0.135901197791100,0.149430289864540,-0.050309736281633,-0.117664523422718));
res += mul(Get(s2,0,0), float4x4(-0.097924672067165,-0.039352629333735,0.033644348382950,-0.007799803279340,-0.007314664777368,0.056554093956947,-0.111011631786823,0.032252594828606,-0.125953719019890,-0.001680780551396,0.024640735238791,0.133885860443115,-0.042927462607622,-0.121046766638756,0.131112396717072,-0.019577955827117));
res += mul(Get(s2,0,dy), float4x4(0.010899714194238,-0.116555012762547,-0.109415210783482,-0.077772773802280,0.039924610406160,-0.061173040419817,-0.150782838463783,0.013488226570189,0.080391503870487,-0.038344882428646,-0.030285399407148,0.010253558866680,-0.001731539145112,-0.038832943886518,-0.014562443830073,0.070585951209068));
res += mul(Get(s2,dx,-dy), float4x4(-0.116119302809238,-0.050106849521399,-0.039698868989944,0.045550968497992,-0.097154811024666,0.105599775910378,0.028449693694711,0.010268484242260,-0.022125430405140,-0.078837037086487,0.066605232656002,0.126959934830666,-0.044956412166357,0.001345083699562,0.117436468601227,0.069478243589401));
res += mul(Get(s2,dx,0), float4x4(-0.051682762801647,0.098330624401569,-0.063723400235176,-0.136440917849541,-0.117435261607170,0.273653686046600,-0.114288695156574,-0.069485381245613,0.033929578959942,0.005780311767012,0.022079331800342,0.121907792985439,-0.039929177612066,-0.040015827864408,0.029359498992562,0.250540852546692));
res += mul(Get(s2,dx,dy), float4x4(-0.148622766137123,0.085089795291424,-0.106674529612064,-0.037116646766663,-0.069768272340298,0.086670339107513,-0.087128363549709,0.075218163430691,-0.020821334794164,-0.050961714237928,-0.070154070854187,0.051152229309082,-0.030526010319591,-0.024954698979855,0.036969728767872,0.099004477262497));
res += mul(Get(s3,-dx,-dy), float4x4(0.010874025523663,0.017459262162447,-0.072239838540554,-0.057818654924631,0.117937736213207,-0.046804573386908,0.113977901637554,-0.130258008837700,-0.057608179748058,-0.091815382242203,-0.141616061329842,-0.149633511900902,-0.094913817942142,0.129198372364044,0.096438504755497,0.091272905468941));
res += mul(Get(s3,-dx,0), float4x4(-0.100583396852016,0.015582330524921,0.138787433505058,0.007978611625731,-0.021890731528401,-0.026419254019856,0.060982290655375,-0.084391921758652,0.018795885145664,0.036450333893299,-0.147226542234421,0.084078699350357,0.121865853667259,-0.098281055688858,-0.012986710295081,0.096341624855995));
res += mul(Get(s3,-dx,dy), float4x4(-0.002902217209339,0.016705462709069,0.049061890691519,0.006416607182473,-0.011665269732475,0.013491063378751,0.067393489181995,-0.081872239708900,0.008652227930725,0.009513210505247,0.004302087239921,0.155622288584709,-0.032265584915876,-0.120696626603603,0.045856405049562,-0.057016957551241));
res += mul(Get(s3,0,-dy), float4x4(0.013586638495326,0.019795294851065,0.094645828008652,0.073716446757317,0.099354989826679,-0.072824478149414,-0.066219493746758,-0.012548496015370,0.013771876692772,-0.050821054726839,0.054088700562716,0.031306486576796,0.022936314344406,-0.062265396118164,0.201188772916794,-0.059089254587889));
res += mul(Get(s3,0,0), float4x4(0.033010702580214,0.201938077807426,0.088738173246384,-0.066903300583363,-0.046203639358282,-0.008494133129716,0.075229369103909,0.124322429299355,0.033298883587122,0.107571862637997,-0.082702025771141,-0.133469164371490,-0.100876614451408,0.310606002807617,0.076666146516800,-0.081464506685734));
res += mul(Get(s3,0,dy), float4x4(0.013824474997818,-0.117808371782303,-0.039058681577444,0.024243516847491,0.039949856698513,0.003356775967404,0.127381309866905,-0.126845836639404,-0.018740853294730,0.002685130108148,-0.086970590054989,0.175455212593079,-0.140305340290070,0.041784875094891,0.090268626809120,-0.001219664001837));
res += mul(Get(s3,dx,-dy), float4x4(-0.122207187116146,-0.050588984042406,0.113984271883965,0.050225939601660,-0.035981830209494,0.091589659452438,0.100442081689835,0.062075451016426,0.007898601703346,0.008573000319302,0.071940794587135,-0.075422756373882,-0.115526273846626,0.102313391864300,0.106930658221245,-0.140621066093445));
res += mul(Get(s3,dx,0), float4x4(-0.055809915065765,-0.053396683186293,-0.088385224342346,0.178775802254677,-0.020626351237297,-0.021992797031999,-0.051939707249403,-0.014960114844143,0.048044677823782,0.004600060172379,0.032362408936024,0.088983811438084,0.099646665155888,0.131413817405701,0.066550977528095,0.030067432671785));
res += mul(Get(s3,dx,dy), float4x4(-0.031901296228170,-0.105161242187023,-0.079475551843643,-0.006553607527167,0.016732204705477,-0.014208571985364,-0.011617470532656,0.031651485711336,0.035286821424961,0.029834218323231,0.172649025917053,-0.101543344557285,0.029676470905542,0.038927659392357,0.027998453006148,-0.088903792202473));
return max(float4(0,0,0,0), res);
}
