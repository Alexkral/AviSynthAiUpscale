sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.014277967624366,0.101041421294212,0.012473028153181,0.037323467433453,0.052848529070616,-0.086654223501682,-0.048510603606701,0.025591326877475,0.061221137642860,0.051068514585495,0.055538725107908,-0.060645028948784,-0.004603525158018,-0.022542307153344,0.015944613143802,-0.043416127562523));
res += mul(Get(s0,-dx,0), float4x4(0.055283349007368,0.069756761193275,-0.005352003034204,-0.087447583675385,0.080994166433811,-0.127242475748062,0.057883635163307,-0.029586479067802,0.001016973750666,0.149414762854576,-0.048492901027203,-0.032165307551622,0.006967858411372,-0.070586286485195,0.022964879870415,-0.095536485314369));
res += mul(Get(s0,-dx,dy), float4x4(-0.000167236663401,-0.033122155815363,-0.009844874031842,-0.118804804980755,-0.019954757764935,-0.149065405130386,0.032345447689295,0.057191457599401,-0.005637449212372,0.049893610179424,0.063185505568981,-0.020720876753330,0.016440914943814,-0.079450741410255,0.002814701059833,-0.096203349530697));
res += mul(Get(s0,0,-dy), float4x4(-0.004150595515966,-0.024794260039926,0.075097829103470,0.089085452258587,0.061983816325665,-0.050305247306824,0.007541413418949,0.003421526867896,0.051545541733503,-0.053410105407238,-0.064330682158470,-0.147421687841415,-0.001659074099734,0.050571981817484,0.055876016616821,-0.025903785601258));
res += mul(Get(s0,0,0), float4x4(0.075037501752377,-0.048624061048031,0.065824016928673,0.077168695628643,-0.063403092324734,-0.059905368834734,0.013493958860636,-0.073365047574043,0.057368576526642,-0.029175799340010,-0.069573074579239,-0.147330299019814,0.075202129781246,0.042598389089108,0.013834087178111,0.000389231892768));
res += mul(Get(s0,0,dy), float4x4(-0.000226297561312,0.016047235578299,0.122043587267399,-0.126104846596718,0.035067319869995,-0.047069106251001,0.092288330197334,0.042192734777927,-0.182591915130615,-0.062725730240345,0.113089591264725,0.127748817205429,-0.023220442235470,0.020893482491374,0.028111532330513,-0.042410843074322));
res += mul(Get(s0,dx,-dy), float4x4(-0.101196154952049,0.020470615476370,-0.113823622465134,0.094559617340565,-0.026801286265254,0.007312517613173,0.027288693934679,-0.130553826689720,0.146047651767731,-0.020540086552501,0.024483535438776,-0.123810373246670,-0.085197232663631,-0.001432739431038,-0.003822716884315,-0.016356902197003));
res += mul(Get(s0,dx,0), float4x4(-0.031370703130960,-0.009079991839826,-0.075429543852806,0.057218961417675,0.036133758723736,0.022370100021362,0.094439253211021,0.010948099195957,-0.038620918989182,-0.056600563228130,0.022438747808337,-0.102429002523422,0.071490243077278,0.035228729248047,0.052408870309591,0.023409429937601));
res += mul(Get(s0,dx,dy), float4x4(0.027163011953235,0.062866143882275,-0.030714243650436,-0.042069200426340,0.080335743725300,0.002392195165157,0.084951736032963,-0.009106310084462,-0.003558234544471,-0.194218352437019,-0.030149757862091,-0.069119572639465,0.032493680715561,0.041917089372873,0.024517759680748,0.035387340933084));
res += mul(Get(s1,-dx,-dy), float4x4(-0.039658412337303,-0.033748511224985,-0.094464212656021,-0.012420096434653,-0.007806675042957,-0.013295906595886,-0.012560327537358,-0.063725113868713,-0.068689458072186,-0.085561342537403,0.054262191057205,-0.016658252105117,0.138356357812881,-0.065183490514755,-0.087166436016560,-0.001227248460054));
res += mul(Get(s1,-dx,0), float4x4(0.006512244231999,0.031477700918913,0.091834060847759,-0.026896640658379,-0.017678225412965,0.034043081104755,-0.132247194647789,-0.038118440657854,0.068990297615528,-0.067850247025490,0.163037419319153,0.031536787748337,0.110651411116123,-0.073769070208073,-0.029856055974960,-0.010947528295219));
res += mul(Get(s1,-dx,dy), float4x4(-0.051107563078403,-0.004126522690058,-0.063863962888718,0.074840322136879,-0.033917549997568,-0.002072716597468,-0.063870683312416,0.051729831844568,-0.047158952802420,0.008704518899322,0.003854685230181,0.016836291179061,0.029053812846541,-0.041233818978071,-0.014039750210941,0.090568959712982));
res += mul(Get(s1,0,-dy), float4x4(-0.008605917915702,0.050171360373497,0.120197288691998,-0.049194481223822,-0.093981161713600,-0.034216135740280,-0.002023743698373,-0.210859850049019,-0.011451287195086,0.156577959656715,0.095259971916676,0.000380997546017,0.070488907396793,0.060144580900669,-0.002733746543527,0.006482008844614));
res += mul(Get(s1,0,0), float4x4(-0.019833771511912,-0.028389021754265,0.216386884450912,-0.042556941509247,0.329161584377289,-0.027080591768026,-0.047871086746454,-0.008392997086048,0.069331340491772,0.146738141775131,0.168297454714775,0.141266807913780,-0.155764371156693,0.154756963253021,0.070921927690506,-0.033480715006590));
res += mul(Get(s1,0,dy), float4x4(-0.046046927571297,-0.042337238788605,0.114927224814892,0.048279635608196,0.032955642789602,-0.029684655368328,-0.002169650513679,0.152633115649223,0.118946969509125,0.109549097716808,0.095283187925816,0.050916522741318,0.028232457116246,0.074041113257408,0.049393940716982,-0.014081193134189));
res += mul(Get(s1,dx,-dy), float4x4(0.037193119525909,0.064852848649025,-0.002341229235753,-0.049109473824501,0.036829870194197,0.013005599379539,0.022958893328905,-0.174712315201759,0.048732012510300,0.020033262670040,0.130560442805290,-0.009763370268047,-0.016960702836514,0.013005017302930,0.099147208034992,0.017872389405966));
res += mul(Get(s1,dx,0), float4x4(-0.006394804455340,0.032310616225004,0.081397280097008,-0.091780900955200,0.050003424286842,0.030774891376495,0.058944489806890,0.010383059270680,0.103545218706131,-0.011284668929875,0.131429538130760,0.052005037665367,-0.041210718452930,-0.012050014920533,0.010841524228454,-0.042772792279720));
res += mul(Get(s1,dx,dy), float4x4(-0.013678935356438,0.053399030119181,0.015126575715840,0.000884493405465,0.012518019415438,0.006261435803026,0.003632784821093,0.144808009266853,0.034833773970604,0.007436380721629,0.081791639328003,0.023402852937579,-0.047984391450882,-0.031503360718489,0.000295253325021,-0.130141213536263));
res += mul(Get(s2,-dx,-dy), float4x4(-0.038200635462999,0.010309799574316,-0.049140635877848,-0.023633388802409,0.014421778731048,0.022077903151512,-0.050955060869455,-0.049009408801794,-0.004343823064119,0.003631313331425,-0.104658514261246,-0.003471778938547,-0.055434741079807,-0.023081619292498,-0.024577975273132,0.112505689263344));
res += mul(Get(s2,-dx,0), float4x4(-0.028703430667520,0.016782816499472,0.064797081053257,0.024583267048001,0.052294928580523,-0.015289219096303,-0.100615426898003,-0.069285355508327,-0.110932037234306,0.048061601817608,-0.028957463800907,0.048783484846354,0.022443870082498,0.004248579498380,0.170426011085510,0.158175170421600));
res += mul(Get(s2,-dx,dy), float4x4(-0.009470540098846,0.009075219742954,-0.044673044234514,0.070753067731857,-0.035492572933435,0.009447662159801,-0.054067123681307,0.080076619982719,-0.003756440943107,0.063828371465206,-0.003277250099927,-0.075977772474289,0.044803176075220,0.012169445864856,0.028313405811787,0.001586335711181));
res += mul(Get(s2,0,-dy), float4x4(0.021801089867949,0.008198784664273,0.029399834573269,0.102914340794086,0.010334131307900,-0.021474303677678,-0.084430195391178,-0.030777771025896,0.007920056581497,-0.019200347363949,0.014927394688129,0.108267508447170,-0.032216571271420,0.019602056592703,0.021464081481099,0.037628181278706));
res += mul(Get(s2,0,0), float4x4(0.058176588267088,0.042731866240501,0.179379686713219,0.074203453958035,-0.067504249513149,0.011292360723019,0.020363867282867,-0.131831809878349,-0.140849679708481,0.014064097777009,-0.074310883879662,0.004913497250527,-0.010557581670582,0.057710938155651,0.203902035951614,0.161761060357094));
res += mul(Get(s2,0,dy), float4x4(0.019367409870028,0.023431666195393,0.014201379381120,0.013109096325934,-0.017185557633638,-0.008931127376854,0.086984030902386,0.171841576695442,0.027771040797234,-0.028255246579647,-0.013126858510077,-0.013266774825752,0.037250313907862,-0.020623125135899,0.052722148597240,-0.037311762571335));
res += mul(Get(s2,dx,-dy), float4x4(0.059740591794252,-0.007681365124881,-0.101607032120228,0.117749594151974,-0.035607494413853,-0.016942251473665,-0.014953284524381,-0.022372046485543,-0.041829477995634,-0.110924541950226,-0.060215555131435,0.002325698267668,-0.029785184189677,0.000587499584071,0.016010751947761,-0.060835789889097));
res += mul(Get(s2,dx,0), float4x4(0.014372820965946,0.003231242531911,-0.004524822346866,0.119032092392445,0.021322503685951,0.010793704539537,0.032854173332453,0.043507087975740,0.029567567631602,-0.156127735972404,0.014148131944239,0.118704296648502,-0.020333549007773,-0.024663059040904,0.095358289778233,0.066902570426464));
res += mul(Get(s2,dx,dy), float4x4(-0.041802011430264,-0.009678051806986,-0.035222988575697,0.018874607980251,0.018006907775998,0.033444885164499,-0.027718150988221,0.152033075690269,0.042278919368982,-0.062378488481045,-0.049397762864828,-0.045776676386595,-0.074855916202068,-0.038336627185345,0.019273554906249,-0.055597614496946));
res += mul(Get(s3,-dx,-dy), float4x4(0.109919540584087,-0.023084966465831,-0.201061964035034,0.046324703842402,0.006838767323643,0.014401864260435,-0.063620232045650,0.018401553854346,-0.004510438535362,0.009787195362151,-0.095345728099346,-0.090208001434803,0.053183093667030,-0.016161497682333,-0.238022878766060,-0.017147623002529));
res += mul(Get(s3,-dx,0), float4x4(0.014807769097388,0.004490697290748,0.050447866320610,-0.001391832367517,-0.032327093183994,0.071076266467571,0.051878668367863,-0.015098235569894,0.038478981703520,-0.013760228641331,-0.024887291714549,-0.061115242540836,0.169616505503654,-0.050565797835588,-0.111331321299076,0.066382758319378));
res += mul(Get(s3,-dx,dy), float4x4(0.097826682031155,-0.017978075891733,-0.102508962154388,-0.078353404998779,-0.060271132737398,0.134282410144806,-0.131955176591873,-0.062999665737152,-0.027252638712525,-0.008837605826557,-0.062283676117659,0.060826007276773,-0.095760740339756,-0.032722901552916,-0.185703083872795,0.070621430873871));
res += mul(Get(s3,0,-dy), float4x4(0.152225404977798,0.089898690581322,-0.080137364566326,0.199902117252350,-0.009711587801576,-0.014296350069344,0.047436911612749,0.032085362821817,0.011213679797947,0.011918742209673,-0.040408778935671,-0.046422388404608,0.043470963835716,-0.012591592967510,-0.129740834236145,0.031269915401936));
res += mul(Get(s3,0,0), float4x4(-0.131324872374535,0.162718072533607,-0.031229412183166,-0.029298033565283,-0.032164584845304,0.014158170670271,0.097874328494072,-0.087042190134525,-0.065729632973671,0.006780442316085,0.015669520944357,-0.082573942840099,0.020441520959139,-0.020660733804107,0.166224107146263,-0.006942478939891));
res += mul(Get(s3,0,dy), float4x4(0.059348870068789,0.076305299997330,-0.142795816063881,-0.202520594000816,-0.060457371175289,0.038665682077408,0.003404072020203,-0.040429148823023,0.014199326746166,-0.030248748138547,0.015181941911578,0.011864718049765,0.100966125726700,-0.034825641661882,-0.060669586062431,0.041100140661001));
res += mul(Get(s3,dx,-dy), float4x4(-0.035332001745701,-0.064348272979259,-0.037357367575169,0.227352306246758,-0.043280266225338,-0.108081541955471,0.055781941860914,0.162368342280388,0.040917251259089,-0.010849423706532,-0.002880219370127,-0.044705670326948,0.050218656659126,0.026818174868822,0.005366938188672,-0.035554971545935));
res += mul(Get(s3,dx,0), float4x4(-0.000942681450397,-0.159705206751823,0.012190114706755,-0.017768366262317,0.035694953054190,-0.145810723304749,0.029542161151767,0.003540239529684,0.044416461139917,-0.003200813429430,-0.026233652606606,-0.125694096088409,0.049837388098240,0.003047702368349,0.105413585901260,-0.042403735220432));
res += mul(Get(s3,dx,dy), float4x4(-0.025923527777195,-0.131606847047806,-0.029005294665694,-0.249421671032906,-0.053771674633026,-0.094026722013950,-0.037012543529272,0.091755762696266,-0.019072305411100,-0.001296507194638,-0.012602023780346,0.015025193803012,0.018354935571551,0.014993626624346,-0.017526892945170,0.147222340106964));
return max(float4(0,0,0,0), res);
}
