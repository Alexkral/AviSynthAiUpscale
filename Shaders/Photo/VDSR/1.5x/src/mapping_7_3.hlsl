sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003652108600363,0.024603579193354,-0.031101901084185,-0.059810657054186,0.126463964581490,-0.027192510664463,-0.260999202728271,0.006091822404414,-0.062413696199656,-0.107894569635391,0.011009526439011,0.077302917838097,0.111217446625233,-0.029721667990088,-0.235214009881020,-0.097687609493732));
res += mul(Get(s0,-dx,0), float4x4(0.045654259622097,-0.168557688593864,0.006239052861929,0.060268703848124,0.128859430551529,0.050758771598339,0.085185028612614,0.161846876144409,-0.039635263383389,0.007863727398217,-0.031646195799112,-0.062379684299231,0.080451667308807,-0.133955493569374,0.070061415433884,0.014075993560255));
res += mul(Get(s0,-dx,dy), float4x4(-0.037621095776558,-0.106370426714420,-0.047114130109549,0.139054283499718,0.072530291974545,0.072805359959602,-0.050913438200951,-0.150952503085136,0.066240213811398,0.126716315746307,-0.130683228373528,-0.096434190869331,-0.089722029864788,0.034776933491230,-0.018606938421726,0.018688535317779));
res += mul(Get(s0,0,-dy), float4x4(0.064071819186211,0.137575611472130,0.181647881865501,-0.056848958134651,0.083204202353954,-0.088241487741470,-0.155308529734612,-0.059672180563211,0.049371942877769,-0.043517570942640,0.220128804445267,0.007191975601017,-0.119520142674446,-0.185468509793282,0.316526412963867,-0.193734765052795));
res += mul(Get(s0,0,0), float4x4(0.025896012783051,0.072073742747307,0.192042216658592,-0.110943518579006,-0.094634234905243,-0.006026518531144,-0.011453453451395,0.028005158528686,0.061581224203110,0.053791951388121,-0.021456556394696,0.038470484316349,0.123178705573082,-0.017955977469683,0.143533691763878,0.234291315078735));
res += mul(Get(s0,0,dy), float4x4(-0.090079903602600,0.170244410634041,0.102689251303673,-0.125957384705544,0.111649848520756,0.215756893157959,-0.038508132100105,-0.007521560415626,0.063270695507526,-0.062062654644251,-0.282765179872513,0.203293889760971,0.250476628541946,0.101261630654335,0.124402925372124,0.061204757541418));
res += mul(Get(s0,dx,-dy), float4x4(0.128768309950829,0.048008799552917,0.005537023302168,0.006648341659456,0.153958767652512,0.015457171015441,-0.191919773817062,0.126356989145279,-0.035895474255085,-0.005891789682209,-0.205111786723137,0.075367778539658,0.035326756536961,-0.164010018110275,-0.128989964723587,0.080212689936161));
res += mul(Get(s0,dx,0), float4x4(0.149518743157387,0.094215966761112,0.061706226319075,-0.097702033817768,-0.062509171664715,-0.115913636982441,0.076013229787350,-0.170753434300423,-0.088826544582844,0.013045269064605,-0.082088321447372,-0.120003581047058,0.221402317285538,0.013490574434400,-0.032663110643625,0.157920345664024));
res += mul(Get(s0,dx,dy), float4x4(-0.018733888864517,0.084835484623909,-0.101043693721294,-0.074702471494675,-0.020963124930859,0.073724433779716,0.114446789026260,-0.016140211373568,0.086625367403030,-0.075779899954796,-0.145428001880646,0.015641724690795,0.043245516717434,-0.092309556901455,0.058576203882694,-0.073192544281483));
res += mul(Get(s1,-dx,-dy), float4x4(0.038593422621489,0.053716704249382,-0.116228595376015,-0.000241840374656,0.018197428435087,0.032015442848206,0.242324203252792,-0.030765056610107,-0.091658845543861,-0.038995452225208,-0.110591493546963,0.010729971341789,-0.064813211560249,-0.059639498591423,-0.066118821501732,-0.075342334806919));
res += mul(Get(s1,-dx,0), float4x4(-0.060872141271830,0.104571290314198,0.082455232739449,-0.121975980699062,0.051843103021383,-0.098691888153553,-0.084870927035809,-0.095191292464733,-0.018601955845952,-0.121003061532974,0.047341153025627,0.032096590846777,-0.039562679827213,-0.190511614084244,0.034888904541731,0.062626488506794));
res += mul(Get(s1,-dx,dy), float4x4(0.020720453932881,-0.020390020683408,0.201338410377502,-0.104901663959026,0.067959599196911,0.029508633539081,-0.063526980578899,0.097464472055435,-0.143088847398758,-0.143879786133766,0.168625667691231,0.087782815098763,0.052506107836962,0.029769673943520,0.118835352361202,0.113022491335869));
res += mul(Get(s1,0,-dy), float4x4(0.016766058281064,0.074522100389004,-0.123578459024429,-0.004627540241927,0.082669101655483,0.049360610544682,-0.151439711451530,-0.087081126868725,0.256805658340454,-0.129521638154984,0.081350445747375,-0.038399409502745,0.052855495363474,-0.034644454717636,-0.098206438124180,-0.007258556783199));
res += mul(Get(s1,0,0), float4x4(-0.083234332501888,-0.005793632939458,0.066882826387882,0.177669271826744,0.172190949320793,0.038479316979647,-0.317243129014969,0.052513744682074,-0.083437256515026,-0.065940245985985,0.064293444156647,0.091029196977615,-0.044432260096073,0.184021234512329,0.034033026546240,0.079592630267143));
res += mul(Get(s1,0,dy), float4x4(-0.044241726398468,0.084985978901386,0.008542997762561,-0.102681241929531,-0.037217825651169,0.090326420962811,0.075306102633476,0.032089132815599,0.089116655290127,0.005386724602431,-0.083231821656227,0.183057114481926,-0.021875448524952,0.131150335073471,0.077525489032269,-0.014871017076075));
res += mul(Get(s1,dx,-dy), float4x4(0.040356576442719,0.047740742564201,0.113123513758183,0.024897778406739,-0.120355270802975,0.051771916449070,-0.213884055614471,-0.007359456736594,-0.065651960670948,-0.003021356416866,0.065706759691238,-0.199491113424301,-0.148726552724838,-0.080694355070591,0.028887642547488,-0.136774837970734));
res += mul(Get(s1,dx,0), float4x4(-0.003641029121354,-0.120595119893551,0.175078064203262,-0.161210104823112,-0.115979649126530,0.066232882440090,0.100878581404686,-0.015614067204297,0.031871356070042,-0.028297476470470,0.082636877894402,0.016881113871932,0.138057097792625,0.079397335648537,-0.077269576489925,-0.092441536486149));
res += mul(Get(s1,dx,dy), float4x4(-0.025279182940722,-0.110905893146992,0.112448617815971,-0.031224761158228,-0.039792440831661,0.073507495224476,0.059397697448730,-0.014474345371127,-0.180990412831306,0.150911718606949,-0.202265754342079,-0.075491413474083,-0.072841577231884,0.060693822801113,-0.226323932409286,0.093083366751671));
res += mul(Get(s2,-dx,-dy), float4x4(-0.015315190888941,-0.002010403666645,0.018355442211032,-0.013433721847832,0.018645213916898,-0.138396173715591,0.158008724451065,-0.132597416639328,-0.001342049334198,-0.149540945887566,0.054628595709801,0.034288879483938,-0.063600495457649,-0.000711801170837,0.106481969356537,0.119255736470222));
res += mul(Get(s2,-dx,0), float4x4(0.050242632627487,0.109612278640270,-0.038603428751230,0.061275817453861,0.225037619471550,0.082623556256294,0.037022449076176,0.009510623291135,0.059980187565088,-0.007929815910757,0.063037738204002,-0.036817017942667,-0.038559380918741,0.072766177356243,0.004007427487522,0.059436857700348));
res += mul(Get(s2,-dx,dy), float4x4(0.151762768626213,0.208528250455856,0.036060668528080,-0.089154802262783,0.055758722126484,-0.081647776067257,0.072461403906345,-0.101599223911762,-0.031060148030519,-0.030760770663619,0.128531530499458,-0.080781862139702,-0.133981257677078,-0.045416194945574,0.043264988809824,-0.127418100833893));
res += mul(Get(s2,0,-dy), float4x4(0.027437303215265,-0.047932572662830,0.083198778331280,0.029319282621145,0.035817533731461,-0.081280030310154,-0.026593375951052,0.016466854140162,0.030482312664390,0.070219919085503,-0.049300741404295,-0.015514185652137,-0.001415505306795,-0.144044876098633,0.022621206939220,0.216280236840248));
res += mul(Get(s2,0,0), float4x4(0.093619361519814,0.032080076634884,0.090069562196732,-0.095460794866085,0.051157556474209,-0.040791146457195,0.025607980787754,-0.075648106634617,0.078058905899525,0.018697245046496,-0.003697660751641,-0.080254688858986,0.093021318316460,-0.005970304831862,0.075201757252216,0.106143742799759));
res += mul(Get(s2,0,dy), float4x4(-0.212371647357941,0.139864161610603,-0.183464333415031,-0.085462778806686,-0.126186221837997,0.001713357632980,0.016409650444984,0.018694039434195,0.054460275918245,-0.147758334875107,0.078478448092937,-0.145883694291115,-0.043073557317257,-0.009046917781234,-0.033587433397770,0.105592176318169));
res += mul(Get(s2,dx,-dy), float4x4(-0.150441765785217,-0.042082499712706,-0.023816386237741,-0.013840352185071,-0.201155066490173,0.096670448780060,-0.061954677104950,-0.028999660164118,-0.083229705691338,0.032979208976030,-0.085995055735111,0.101826079189777,-0.047899898141623,-0.125273078680038,0.017992116510868,0.142052352428436));
res += mul(Get(s2,dx,0), float4x4(-0.171025410294533,-0.002270746044815,0.083524517714977,0.022217171266675,0.133721917867661,-0.199323400855064,0.103535957634449,-0.079803325235844,0.125266596674919,0.117522090673447,0.155895307660103,0.097542546689510,0.009880661964417,-0.111718423664570,-0.060420844703913,0.090864561498165));
res += mul(Get(s2,dx,dy), float4x4(0.072464205324650,0.080236837267876,-0.078447736799717,0.075929708778858,-0.081811502575874,-0.019376298412681,0.052440151572227,-0.012694105505943,0.059744924306870,0.081827513873577,-0.216355487704277,0.011088190600276,0.159914910793304,0.101426638662815,0.017745453864336,-0.079029254615307));
res += mul(Get(s3,-dx,-dy), float4x4(0.063986666500568,0.125698044896126,0.124349407851696,-0.148903086781502,-0.110081821680069,-0.097909577190876,0.063876301050186,0.014446566812694,0.007261279970407,-0.081963434815407,-0.009721875190735,-0.002672438742593,0.053094651550055,-0.054735582321882,0.088374286890030,-0.080700583755970));
res += mul(Get(s3,-dx,0), float4x4(0.026187801733613,0.003296181559563,0.038537055253983,0.092052377760410,-0.057287488132715,0.015473580919206,-0.050374515354633,-0.153516918420792,0.143040046095848,-0.175117179751396,0.063506245613098,0.114623308181763,-0.077601209282875,0.176999256014824,0.065494164824486,-0.007217336446047));
res += mul(Get(s3,-dx,dy), float4x4(-0.132298067212105,0.068159379065037,-0.002021263819188,0.008527002297342,0.038705624639988,-0.092652902007103,-0.196260094642639,-0.071597315371037,0.087043359875679,-0.015658296644688,0.091626070439816,0.022671561688185,-0.148622617125511,0.062032952904701,-0.041949316859245,0.059110589325428));
res += mul(Get(s3,0,-dy), float4x4(0.058757562190294,-0.105799794197083,0.104066692292690,-0.169185906648636,-0.069694057106972,-0.084409445524216,0.111137136816978,-0.044004518538713,0.019367069005966,0.023399317637086,-0.015558257699013,0.042552258819342,0.177284508943558,0.028276935219765,-0.033355787396431,-0.078567139804363));
res += mul(Get(s3,0,0), float4x4(-0.014535822905600,0.044078029692173,0.196372047066689,0.047945994883776,0.124737657606602,0.054586552083492,-0.050907872617245,0.020932395011187,-0.033586837351322,0.075118221342564,0.168191313743591,-0.082720346748829,0.083726331591606,0.058448869735003,0.107346355915070,-0.181822970509529));
res += mul(Get(s3,0,dy), float4x4(0.147829502820969,0.097275808453560,-0.127792000770569,-0.050883118063211,-0.080287083983421,0.015400006435812,-0.032771278172731,-0.030669562518597,0.146885529160500,-0.014980679377913,-0.081662334501743,0.103528544306755,0.087086744606495,-0.087496362626553,0.070913583040237,-0.000563294161111));
res += mul(Get(s3,dx,-dy), float4x4(-0.127212449908257,-0.024906320497394,0.070982821285725,0.037788424640894,-0.081859543919563,-0.081758417189121,0.166704759001732,0.159995362162590,0.042352542281151,-0.052385259419680,-0.119499623775482,0.030188230797648,0.000512880971655,0.022367760539055,-0.022005772218108,-0.041869409382343));
res += mul(Get(s3,dx,0), float4x4(0.184582650661469,-0.101286135613918,-0.133305758237839,0.165637820959091,-0.057171650230885,-0.038428667932749,0.066540509462357,0.034456048160791,0.139803156256676,0.154152408242226,0.106529831886292,-0.097984351217747,-0.090176329016685,0.033748831599951,0.006654715631157,-0.025863127782941));
res += mul(Get(s3,dx,dy), float4x4(-0.052705861628056,0.053060349076986,-0.209934562444687,-0.037982780486345,-0.021725367754698,-0.021797671914101,0.072305545210838,0.079611830413342,-0.093709640204906,-0.030915074050426,-0.050690773874521,0.065048538148403,0.097594924271107,0.040645971894264,-0.040816128253937,0.038055840879679));
return max(float4(0,0,0,0), res);
}
