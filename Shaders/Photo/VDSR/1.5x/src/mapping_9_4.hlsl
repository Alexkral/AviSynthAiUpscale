sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.036005251109600,0.000337619683705,-0.033653803169727,0.001152774319053,-0.066289797425270,-0.046229492872953,-0.118514351546764,0.190867319703102,-0.056092150509357,0.112083069980145,0.052982714027166,0.027551347389817,0.151635110378265,-0.181572899222374,-0.029960438609123,0.098685488104820));
res += mul(Get(s0,-dx,0), float4x4(-0.108627736568451,0.073377214372158,-0.106577396392822,-0.020414747297764,0.110082566738129,0.002969037275761,-0.046239133924246,0.056753318756819,-0.187701031565666,0.103475466370583,-0.010397561825812,0.252693206071854,0.161287799477577,-0.010598037391901,-0.031049134209752,0.002364418469369));
res += mul(Get(s0,-dx,dy), float4x4(0.065849170088768,-0.092885762453079,0.151789918541908,-0.119649589061737,0.070015691220760,-0.095511958003044,-0.029114566743374,0.002512718550861,-0.013483516871929,0.030476085841656,-0.096047222614288,0.028041485697031,0.189939320087433,-0.067435227334499,0.011794979684055,-0.110451616346836));
res += mul(Get(s0,0,-dy), float4x4(0.070012733340263,-0.027567880228162,-0.099459506571293,0.021475391462445,0.016873490065336,-0.201360926032066,0.138996601104736,-0.191882997751236,0.064805038273335,-0.025225492194295,-0.022470926865935,0.022039163857698,0.157114058732986,-0.028872448951006,-0.075409211218357,0.023466013371944));
res += mul(Get(s0,0,0), float4x4(0.057145923376083,0.125107958912849,0.121447652578354,-0.094270363450050,-0.052753485739231,-0.030190214514732,0.158815979957581,-0.167874813079834,-0.071515507996082,0.089175097644329,-0.003226436441764,-0.033368561416864,-0.157770782709122,-0.088596493005753,0.079312197864056,0.053920540958643));
res += mul(Get(s0,0,dy), float4x4(0.037216898053885,-0.001749315531924,-0.086863353848457,-0.079809479415417,0.040051937103271,0.009222826920450,0.242555901408195,-0.119085341691971,-0.075830757617950,-0.002091486472636,-0.104005150496960,-0.031713295727968,0.062187831848860,-0.030461125075817,-0.093525059521198,-0.031977541744709));
res += mul(Get(s0,dx,-dy), float4x4(-0.070307180285454,0.009639374911785,-0.137535542249680,-0.121205545961857,0.135670125484467,-0.094005279242992,0.077278539538383,0.164729744195938,-0.002984419465065,-0.061929412186146,0.125513777136803,0.025652097538114,0.123161911964417,-0.101865269243717,-0.054806638509035,0.035480301827192));
res += mul(Get(s0,dx,0), float4x4(0.033128466457129,0.029847379773855,0.057079661637545,0.007764261681587,0.111819021403790,-0.002457314636558,-0.109653905034065,0.114797741174698,-0.007433007005602,-0.014583267271519,-0.216934889554977,0.016515584662557,0.049388755112886,-0.015684193000197,0.072168521583080,-0.027890419587493));
res += mul(Get(s0,dx,dy), float4x4(0.109453655779362,-0.010759019292891,0.058269184082747,-0.026721661910415,0.027612380683422,-0.044851534068584,0.035501871258020,0.054508898407221,-0.011179421097040,-0.045086637139320,-0.092909604310989,-0.012391013093293,-0.066386945545673,0.002213409869000,-0.113584831357002,-0.047134678810835));
res += mul(Get(s1,-dx,-dy), float4x4(0.055291563272476,-0.248939663171768,-0.155319452285767,-0.118798382580280,-0.055881895124912,-0.078357331454754,-0.039498023688793,0.053054265677929,-0.021965589374304,-0.160848736763000,0.045448407530785,-0.088993482291698,-0.032698396593332,0.034333784133196,0.026362385600805,-0.127472952008247));
res += mul(Get(s1,-dx,0), float4x4(0.070790819823742,0.104041583836079,-0.014422021806240,-0.094530709087849,-0.027852948755026,-0.032300662249327,0.007784658111632,0.072487674653530,-0.046769160777330,0.090070612728596,-0.071204133331776,0.067459762096405,-0.098045043647289,0.040398072451353,-0.042563412338495,0.047828961163759));
res += mul(Get(s1,-dx,dy), float4x4(0.094939999282360,0.106136485934258,-0.034625884145498,-0.036031417548656,-0.042663879692554,0.097525641322136,-0.042868908494711,0.033662430942059,-0.145176559686661,0.011436855420470,-0.087097436189651,0.050620377063751,0.179026007652283,-0.055962689220905,-0.128107428550720,-0.100364223122597));
res += mul(Get(s1,0,-dy), float4x4(-0.040604587644339,0.098375998437405,-0.104712732136250,-0.123528584837914,0.303115606307983,-0.083738692104816,-0.064451515674591,-0.034607652574778,0.107837095856667,-0.017444729804993,-0.008088256232440,0.098124116659164,-0.033224470913410,0.116482459008694,-0.024497516453266,-0.063160680234432));
res += mul(Get(s1,0,0), float4x4(-0.203537985682487,0.086385339498520,0.154462188482285,0.074028722941875,-0.201314747333527,0.025148345157504,0.049031000584364,0.078290350735188,0.019330192357302,0.024444835260510,0.134792998433113,-0.089440315961838,0.052797395735979,-0.047034148126841,-0.066174291074276,0.089820541441441));
res += mul(Get(s1,0,dy), float4x4(-0.190111264586449,-0.134882971644402,-0.010687241330743,0.003105980344117,0.190668493509293,0.101887628436089,-0.056773222982883,-0.114029310643673,-0.081157140433788,-0.064136579632759,0.050845880061388,-0.020752482116222,-0.126753509044647,0.030546927824616,0.205097183585167,-0.039584204554558));
res += mul(Get(s1,dx,-dy), float4x4(-0.089975915849209,-0.032733067870140,-0.220379397273064,-0.001980722881854,0.104783475399017,-0.104467242956161,0.077054582536221,0.138356998562813,0.139404907822609,0.085841849446297,0.006967358756810,-0.064076915383339,-0.085031099617481,-0.031839698553085,0.162500083446503,-0.008520783856511));
res += mul(Get(s1,dx,0), float4x4(-0.107894919812679,0.103596068918705,0.076652340590954,-0.023140024393797,0.079972200095654,0.007909111678600,-0.216500341892242,0.038660213351250,0.026156749576330,0.029190251603723,-0.064377062022686,0.061505757272243,0.002734159119427,0.057340513914824,0.162850350141525,0.042826402932405));
res += mul(Get(s1,dx,dy), float4x4(-0.009791436605155,0.010449479334056,0.029585186392069,0.057564757764339,0.025402359664440,0.191951751708984,0.111542269587517,-0.004988993052393,-0.009607106447220,-0.166106313467026,-0.006103361025453,-0.029645707458258,-0.026250073686242,0.031735539436340,0.006293399725109,-0.003192442934960));
res += mul(Get(s2,-dx,-dy), float4x4(-0.139861032366753,0.025181312114000,0.091178163886070,0.044107947498560,0.161973625421524,-0.140074983239174,0.001701009226963,-0.031416483223438,-0.122122600674629,-0.001534771989100,0.002803746610880,-0.065012723207474,-0.081657998263836,0.004617153666914,-0.060488648712635,0.043546434491873));
res += mul(Get(s2,-dx,0), float4x4(-0.058601699769497,-0.077651225030422,0.260672092437744,-0.005283102858812,-0.016538884490728,-0.020701536908746,0.046832889318466,0.073131203651428,0.213558450341225,-0.090578660368919,-0.171166270971298,0.155821099877357,0.034676451236010,0.041634444147348,0.018761914223433,-0.080258198082447));
res += mul(Get(s2,-dx,dy), float4x4(0.038535144180059,0.045411814004183,0.027973206713796,-0.024129515513778,0.236970603466034,0.233891814947128,0.157519072294235,-0.058156833052635,-0.031338840723038,-0.067030653357506,0.251605719327927,0.194472923874855,-0.040145035833120,0.152973413467407,-0.037018280476332,-0.003753557801247));
res += mul(Get(s2,0,-dy), float4x4(0.085224211215973,0.027266899123788,0.055146168917418,0.140726685523987,0.122962802648544,-0.063359141349792,0.048326686024666,0.045886904001236,0.095123648643494,-0.107877768576145,0.055177737027407,-0.221637502312660,0.030261032283306,0.158486083149910,-0.266546458005905,-0.057262700051069));
res += mul(Get(s2,0,0), float4x4(0.150032430887222,-0.168686136603355,-0.119073629379272,0.112124212086201,0.167685046792030,-0.035124383866787,0.247112184762955,-0.030680203810334,-0.063495151698589,-0.052062436938286,0.098676837980747,0.111090421676636,-0.007377473171800,0.066910810768604,0.064110890030861,-0.103443697094917));
res += mul(Get(s2,0,dy), float4x4(-0.032147746533155,-0.000713780347724,0.021769400686026,-0.053810451179743,0.023538308218122,0.142570674419403,0.010065983049572,-0.079870969057083,0.093874350190163,0.049045484513044,-0.012962217442691,0.115804351866245,0.012538940645754,-0.101973094046116,-0.003470584983006,0.136040315032005));
res += mul(Get(s2,dx,-dy), float4x4(-0.077147744596004,0.057618245482445,0.143604725599289,-0.012307291850448,-0.087286673486233,-0.192536279559135,-0.034715443849564,0.039274841547012,-0.106870748102665,-0.046381417661905,-0.060232277959585,-0.018022369593382,0.104719869792461,0.110939197242260,0.067899607121944,0.077108263969421));
res += mul(Get(s2,dx,0), float4x4(-0.139757633209229,0.004131274297833,0.215438306331635,-0.032705828547478,0.002810018835589,-0.136930614709854,0.059047769755125,0.141079753637314,0.008485184051096,-0.084655687212944,0.027566954493523,-0.141445413231850,0.007594682276249,-0.090032748878002,0.223312869668007,-0.185345590114594));
res += mul(Get(s2,dx,dy), float4x4(0.049039404839277,0.018326589837670,-0.024138247594237,-0.009716485626996,-0.017446611076593,-0.015166314318776,0.022358492016792,-0.078669838607311,0.021123347803950,0.009725173003972,0.064093030989170,-0.027530713006854,-0.014276788569987,0.132315516471863,-0.102396562695503,0.165878221392632));
res += mul(Get(s3,-dx,-dy), float4x4(0.060870360583067,-0.095191948115826,0.000014849378204,-0.024611292406917,0.057903539389372,0.010640324093401,-0.058900512754917,-0.000410313543398,-0.113685704767704,0.004468379542232,0.230247795581818,0.032744687050581,0.149785250425339,-0.048163779079914,0.077314406633377,-0.073315910995007));
res += mul(Get(s3,-dx,0), float4x4(0.147561803460121,-0.013209612108767,-0.088606819510460,0.080534517765045,-0.107449606060982,-0.037614792585373,0.081982508301735,-0.094383947551250,-0.138646930456161,0.035999175161123,-0.044707845896482,0.106778487563133,-0.020428992807865,0.003690094454214,-0.078983806073666,0.054869312793016));
res += mul(Get(s3,-dx,dy), float4x4(0.026058385148644,0.132802531123161,-0.107435993850231,-0.027017755433917,-0.125620454549789,-0.072346292436123,0.036096222698689,-0.091487906873226,0.131920322775841,0.021537808701396,-0.087369270622730,0.331754922866821,-0.046261116862297,0.061766184866428,-0.052551377564669,-0.072469934821129));
res += mul(Get(s3,0,-dy), float4x4(0.058809664100409,-0.014704588800669,-0.087981432676315,-0.206040993332863,0.106283865869045,0.181572720408440,0.030165338888764,-0.038249921053648,0.077304139733315,-0.165198877453804,0.169489473104477,-0.054080490022898,0.036100797355175,-0.091285176575184,0.014456665143371,0.033010594546795));
res += mul(Get(s3,0,0), float4x4(-0.021748792380095,-0.020629435777664,0.004950270056725,-0.096277810633183,0.097602158784866,-0.028663923963904,0.084162704646587,0.172580808401108,-0.022520249709487,-0.134019166231155,-0.085926003754139,0.034248996526003,0.153147622942924,0.172979071736336,-0.034859493374825,-0.107162907719612));
res += mul(Get(s3,0,dy), float4x4(-0.019974900409579,-0.036577653139830,0.000615226104856,0.105799160897732,0.109236612915993,-0.092349708080292,0.090504467487335,-0.038202896714211,0.022210942581296,-0.165783092379570,-0.101712070405483,-0.042025126516819,-0.120997078716755,0.065229214727879,-0.032124672085047,-0.080072425305843));
res += mul(Get(s3,dx,-dy), float4x4(0.061246328055859,0.113645546138287,-0.030267518013716,-0.011775895021856,0.093698911368847,0.083454720675945,0.009542300365865,0.016378903761506,0.018599281087518,0.045135449618101,0.041139334440231,-0.127957642078400,0.116931587457657,0.112877912819386,-0.221970573067665,0.015486199408770));
res += mul(Get(s3,dx,0), float4x4(0.087316237390041,-0.111697681248188,0.096940658986568,0.013446693308651,-0.028928874060512,0.015192472375929,-0.026847515255213,-0.039058532565832,0.063462607562542,-0.132405847311020,-0.057555675506592,0.017792036756873,-0.032470852136612,-0.024879265576601,0.003849392058328,-0.022564483806491));
res += mul(Get(s3,dx,dy), float4x4(-0.165788233280182,-0.015777094289660,-0.025712346658111,0.099198527634144,0.041393492370844,-0.011004980653524,-0.030496425926685,0.086119927465916,0.040424071252346,-0.143123507499695,-0.037422358989716,-0.062515676021576,-0.181335523724556,0.090601183474064,-0.050911135971546,-0.035486523061991));
return max(float4(0,0,0,0), res);
}
