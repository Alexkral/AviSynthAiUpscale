sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.044745311141014,0.153911918401718,0.070479787886143,0.038435079157352,0.015201762318611,-0.075136110186577,-0.015954120084643,-0.030849928036332,-0.075690530240536,0.002907017013058,0.001656913314946,-0.009691434912384,-0.073558747768402,0.023189749568701,-0.047433663159609,0.026556840166450));
res += mul(Get(s0,-dx,0), float4x4(-0.072051227092743,-0.098948590457439,0.018671708181500,-0.050084181129932,-0.041668564081192,-0.004391380585730,0.138886407017708,-0.097140908241272,-0.115322507917881,-0.030520437285304,0.082016564905643,-0.021767187863588,0.036796793341637,-0.051775369793177,0.151434615254402,-0.021296393126249));
res += mul(Get(s0,-dx,dy), float4x4(-0.105883151292801,-0.075160406529903,-0.025605270639062,-0.057192493230104,-0.157072946429253,0.119545489549637,0.105336472392082,-0.072892472147942,-0.068796329200268,-0.020425679162145,0.093167573213577,-0.056502774357796,0.072389200329781,0.057786811143160,0.127984404563904,-0.043866980820894));
res += mul(Get(s0,0,-dy), float4x4(0.076075993478298,0.027455303817987,0.050564438104630,-0.038657981902361,-0.025367408990860,-0.021144416183233,0.076499253511429,0.124727912247181,-0.141943216323853,-0.012602737173438,0.028161013498902,-0.016403404995799,0.042469583451748,0.024106543511152,0.035224877297878,0.119132705032825));
res += mul(Get(s0,0,0), float4x4(0.018123695626855,-0.015697836875916,-0.007885183207691,0.039512135088444,-0.126253247261047,0.058592334389687,0.127890810370445,0.233579114079475,-0.061011750251055,-0.058844171464443,-0.033551499247551,0.071038208901882,0.130874767899513,-0.017300914973021,0.274846345186234,0.066696777939796));
res += mul(Get(s0,0,dy), float4x4(-0.089830644428730,-0.053713172674179,-0.103438854217529,0.026505110785365,-0.082346431910992,0.044161546975374,-0.028565471991897,0.120544426143169,-0.037153217941523,0.021164428442717,-0.027834657579660,0.086633391678333,0.034905467182398,0.080944910645485,0.009084008634090,0.038346715271473));
res += mul(Get(s0,dx,-dy), float4x4(0.094297334551811,-0.011732285842299,-0.015764907002449,-0.007353612221777,-0.003414891194552,-0.056835737079382,-0.019563294947147,-0.002831467660144,-0.150140732526779,0.029580118134618,0.122267752885818,-0.054138276726007,0.010858005844057,-0.028006473556161,-0.029494155198336,-0.052984271198511));
res += mul(Get(s0,dx,0), float4x4(0.064199678599834,-0.045608624815941,-0.069636538624763,0.123788602650166,0.012328507378697,0.022021884098649,0.018403807654977,0.118732355535030,-0.167359516024590,0.019456148147583,-0.036009095609188,-0.015081142075360,0.017361262813210,0.004279549233615,0.017577996477485,-0.054208841174841));
res += mul(Get(s0,dx,dy), float4x4(0.002468788530678,-0.070872463285923,-0.076920419931412,0.066404059529305,0.098594583570957,0.071024820208549,-0.100202389061451,0.137339457869530,-0.041343457996845,0.012816920876503,-0.042643353343010,-0.018891327083111,0.094619959592819,-0.035378653556108,0.011751366779208,0.010930255986750));
res += mul(Get(s1,-dx,-dy), float4x4(0.013992871157825,-0.032488889992237,-0.009942423552275,0.024098435416818,-0.136784389615059,0.023019142448902,-0.036403954029083,-0.000666051171720,-0.073842652142048,-0.082514964044094,0.081331044435501,-0.043819461017847,-0.005687255412340,-0.061136774718761,-0.029108989983797,-0.012287757359445));
res += mul(Get(s1,-dx,0), float4x4(-0.011265018954873,0.018560623750091,0.064994879066944,-0.002402160782367,-0.146398141980171,0.036148238927126,-0.063071042299271,-0.025351559743285,-0.075141310691833,0.160728737711906,-0.004987091757357,0.215188905596733,0.057508915662766,0.020491648465395,0.012388801202178,-0.071866609156132));
res += mul(Get(s1,-dx,dy), float4x4(-0.031450156122446,-0.013903965242207,-0.041286606341600,-0.075359977781773,-0.140122994780540,-0.024893047288060,-0.138410821557045,-0.035537410527468,-0.035111777484417,-0.086632534861565,-0.026461368426681,0.025853591039777,0.007196699269116,0.027645641937852,-0.055322885513306,-0.059605136513710));
res += mul(Get(s1,0,-dy), float4x4(-0.026135163381696,0.021137792617083,-0.005805043969303,-0.018016111105680,-0.079177618026733,0.047139175236225,0.012617205269635,0.184011563658714,-0.017605425789952,-0.235219672322273,0.006849126890302,-0.000285576388706,-0.030602926388383,-0.068711914122105,-0.004904780536890,-0.011093937791884));
res += mul(Get(s1,0,0), float4x4(-0.082099497318268,-0.040278200060129,-0.051142171025276,-0.015227770432830,-0.011099318042397,0.129672005772591,0.017682695761323,0.102654390037060,-0.144434839487076,0.176487594842911,-0.086490124464035,-0.064916864037514,0.068215228617191,0.060761231929064,0.026364710181952,0.059670612215996));
res += mul(Get(s1,0,dy), float4x4(-0.056407004594803,0.126111343502998,0.098487727344036,-0.026757679879665,-0.063375756144524,0.088860668241978,-0.032907385379076,0.065439797937870,0.069822981953621,0.017707301303744,-0.035352721810341,-0.125781089067459,-0.015936186537147,0.019284274429083,0.020227391272783,0.033900961279869));
res += mul(Get(s1,dx,-dy), float4x4(0.129968196153641,-0.018189506605268,0.006215579342097,0.001751803210936,0.062435016036034,0.006500842049718,-0.023754172027111,0.057125501334667,0.049897551536560,-0.067461960017681,-0.030672589316964,0.061293751001358,0.047108467668295,-0.075929366052151,-0.024663046002388,-0.008987857028842));
res += mul(Get(s1,dx,0), float4x4(0.125185966491699,0.016473373398185,0.110459312796593,-0.095155023038387,0.068211361765862,-0.034891348332167,-0.013945245184004,0.044392440468073,0.058663740754128,0.048366203904152,-0.042180635035038,-0.116964280605316,0.050562087446451,0.044128883630037,0.011443309485912,-0.004648705478758));
res += mul(Get(s1,dx,dy), float4x4(0.036626853048801,-0.007083089556545,-0.021237427368760,-0.074780292809010,0.016407508403063,-0.003906420897692,0.006381620187312,0.022499488666654,-0.031552385538816,0.025960203260183,-0.070959948003292,-0.084241926670074,0.054910879582167,0.045268334448338,0.015860278159380,-0.049457218497992));
res += mul(Get(s2,-dx,-dy), float4x4(0.075847424566746,0.102953732013702,-0.062795273959637,-0.022135812789202,-0.034358479082584,-0.044533215463161,-0.018499987199903,0.060317181050777,0.029686098918319,-0.033149525523186,-0.124990999698639,-0.009971038438380,0.082540668547153,-0.014029470272362,-0.006073249969631,-0.030623514205217));
res += mul(Get(s2,-dx,0), float4x4(0.094604961574078,-0.048134259879589,-0.081115931272507,0.006812640931457,0.017823070287704,0.024505065754056,-0.076032146811485,0.135189011693001,0.025034744292498,-0.059329159557819,-0.113801367580891,0.025651967152953,0.034063894301653,0.111628629267216,-0.050793971866369,0.113674454391003));
res += mul(Get(s2,-dx,dy), float4x4(0.037807177752256,0.008599204011261,0.046069409698248,-0.040300376713276,0.041757728904486,0.068190775811672,-0.052436742931604,0.082613013684750,0.079332396388054,-0.087484084069729,-0.068236306309700,-0.055934641510248,0.042236022651196,0.026336928829551,-0.129362627863884,0.024565214291215));
res += mul(Get(s2,0,-dy), float4x4(-0.054121755063534,0.156417444348335,-0.003856251481920,0.042806383222342,0.013348571956158,0.059738591313362,-0.149716109037399,0.033920004963875,0.068443931639194,-0.051397070288658,-0.001244571874849,0.082000829279423,0.062072087079287,-0.031314197927713,0.066992841660976,0.022847225889564));
res += mul(Get(s2,0,0), float4x4(-0.029884250834584,-0.117355942726135,0.036458786576986,-0.022386539727449,-0.015235624276102,0.022288564592600,0.022352656349540,0.058131363242865,0.044423673301935,0.064759604632854,-0.078125439584255,0.102164022624493,-0.114518240094185,0.162684798240662,0.049585163593292,-0.070932641625404));
res += mul(Get(s2,0,dy), float4x4(-0.029224324971437,-0.017868030816317,-0.020850492641330,-0.026706121861935,0.042491387575865,-0.041379831731319,0.004362581297755,-0.037094734609127,0.068837068974972,0.099983878433704,-0.104860804975033,0.016744285821915,-0.020423803478479,0.025690106675029,-0.071601502597332,-0.055245492607355));
res += mul(Get(s2,dx,-dy), float4x4(-0.088579438626766,0.040534973144531,0.023266796022654,-0.004402466583997,0.011922739446163,0.003192643867806,-0.065538294613361,-0.038625374436378,0.110461257398129,-0.003603467950597,-0.016235558316112,0.041067149490118,0.040758285671473,-0.021881841123104,0.070338770747185,0.007364016491920));
res += mul(Get(s2,dx,0), float4x4(-0.059013351798058,0.041847594082355,0.115161582827568,0.095977731049061,0.044171985238791,0.014415076933801,-0.017487250268459,0.071588985621929,-0.026946805417538,-0.050156701356173,0.017413709312677,0.031020238995552,0.143877953290939,0.000305267807562,0.046721968799829,0.015764456242323));
res += mul(Get(s2,dx,dy), float4x4(-0.013287564739585,0.002448237733915,-0.039019271731377,0.058538548648357,0.091258563101292,-0.040125571191311,-0.022448861971498,-0.013622029684484,0.034075893461704,-0.018315382301807,0.067620374262333,-0.107148945331573,0.108075112104416,0.030827609822154,0.021650932729244,-0.028307575732470));
res += mul(Get(s3,-dx,-dy), float4x4(-0.009841012768447,-0.054725375026464,0.115635693073273,-0.028985865414143,0.007753412704915,0.086513973772526,0.100956216454506,-0.106179594993591,0.144939213991165,-0.022993678227067,-0.042257878929377,-0.090569801628590,0.000723652774468,-0.017156740650535,0.019940599799156,-0.002004249254242));
res += mul(Get(s3,-dx,0), float4x4(-0.134713456034660,0.000738066679332,0.015798823907971,-0.105539627373219,0.075500279664993,-0.001546791987494,0.014074580743909,-0.067573338747025,0.002344834385440,-0.021963957697153,-0.025518011301756,-0.001920123235323,-0.003317758906633,-0.058327268809080,-0.007102889940143,0.047225486487150));
res += mul(Get(s3,-dx,dy), float4x4(-0.095596499741077,0.066528819501400,-0.039877388626337,-0.005378845147789,-0.028524544090033,0.211403518915176,-0.021352685987949,0.110162124037743,0.011032987385988,-0.060079641640186,-0.041055668145418,-0.018969696015120,-0.072161354124546,0.097719013690948,-0.005358371883631,0.092687457799911));
res += mul(Get(s3,0,-dy), float4x4(0.020888766273856,-0.064580947160721,-0.046764928847551,-0.016269305720925,-0.036010328680277,0.040716346353292,0.058961533010006,-0.110428839921951,0.084811031818390,0.057643473148346,0.036571364849806,-0.034686177968979,0.029228433966637,-0.001285157515667,-0.001159287756309,-0.066461175680161));
res += mul(Get(s3,0,0), float4x4(-0.119984567165375,-0.034849919378757,0.072461165487766,0.058860406279564,0.093198560178280,0.034967433661222,-0.118663072586060,0.012051178142428,-0.007539754733443,-0.058770574629307,0.141118556261063,-0.013514424674213,-0.066596679389477,-0.067924447357655,0.052824437618256,-0.116690985858440));
res += mul(Get(s3,0,dy), float4x4(-0.136631548404694,0.007712949533015,0.162024974822998,-0.089543558657169,-0.086858913302422,0.147447571158409,-0.060363933444023,-0.110332146286964,0.012706918641925,-0.018682107329369,0.051467679440975,-0.051282279193401,-0.112966880202293,0.038107242435217,0.014087105169892,0.013417595997453));
res += mul(Get(s3,dx,-dy), float4x4(-0.007859503850341,-0.115902885794640,-0.037743423134089,-0.086468122899532,0.053553953766823,0.029356529936194,-0.055673312395811,-0.007528433110565,0.005515051074326,0.110590361058712,0.100369811058044,0.052970897406340,0.108130358159542,-0.021174352616072,0.024435490369797,0.003031178610399));
res += mul(Get(s3,dx,0), float4x4(-0.022614067420363,-0.038576416671276,-0.052585206925869,-0.052213270217180,0.065424531698227,-0.065614864230156,-0.142144978046417,-0.039787504822016,0.031495172530413,0.008219353854656,0.024159302935004,0.068087652325630,0.051914330571890,-0.022658541798592,0.008758083917201,0.010244242846966));
res += mul(Get(s3,dx,dy), float4x4(-0.048244547098875,-0.053423274308443,0.046333801001310,0.069298692047596,0.055766854435205,-0.074899576604366,0.070165902376175,-0.088931046426296,0.087581053376198,0.040010742843151,-0.011328697204590,0.036053393036127,-0.020483402535319,0.057691950351000,-0.141660735011101,0.057831969112158));
return max(float4(0,0,0,0), res);
}
