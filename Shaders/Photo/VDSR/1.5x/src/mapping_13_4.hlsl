sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.041304457932711,0.016799921169877,-0.104797333478928,-0.052616465836763,0.032889895141125,0.048493646085262,0.090759977698326,-0.008048684336245,-0.062244988977909,0.034856759011745,0.068935096263885,-0.011961899697781,0.057753723114729,-0.042955797165632,-0.075785689055920,-0.024171583354473));
res += mul(Get(s0,-dx,0), float4x4(-0.043149992823601,-0.024667054414749,-0.072793260216713,0.106717243790627,-0.098928682506084,-0.003819459117949,0.193943500518799,0.020973553881049,-0.001619157264940,-0.042202945798635,0.388353347778320,0.000687808031216,-0.039205320179462,-0.040662262588739,-0.031088523566723,0.010320234112442));
res += mul(Get(s0,-dx,dy), float4x4(-0.018394401296973,-0.054374549537897,-0.076351210474968,-0.058855567127466,-0.086414098739624,-0.065244324505329,0.134392693638802,0.031773243099451,-0.076284609735012,0.041502609848976,0.224802672863007,-0.040418084710836,-0.020881416276097,-0.000524717208464,-0.094603799283504,0.047438673675060));
res += mul(Get(s0,0,-dy), float4x4(0.009105871431530,-0.023076632991433,0.002385103609413,-0.112700864672661,0.076368324458599,0.004657558631152,0.045963957905769,-0.055441301316023,-0.048876572400331,0.027557801455259,0.057472694665194,0.026511207222939,0.057050384581089,-0.058005645871162,-0.032057173550129,-0.077862806618214));
res += mul(Get(s0,0,0), float4x4(-0.055286131799221,0.042221073061228,-0.200627163052559,0.164487898349762,-0.083293676376343,0.004286087118089,0.017121320590377,0.001860693795606,0.063829228281975,-0.038874220103025,0.033105034381151,-0.037934917956591,0.154074415564537,0.016176953911781,-0.037768077105284,0.080400645732880));
res += mul(Get(s0,0,dy), float4x4(0.040170472115278,-0.151897475123405,-0.054077316075563,-0.043720982968807,-0.035074673593044,-0.114255659282207,-0.018493235111237,0.019156374037266,-0.097794748842716,-0.066320210695267,0.106946453452110,-0.056242756545544,-0.056932806968689,0.013631202280521,0.020794959738851,0.079775981605053));
res += mul(Get(s0,dx,-dy), float4x4(0.018869770690799,-0.028406752273440,-0.008720954880118,-0.043877962976694,0.018122518435121,0.027859332039952,-0.002634408883750,0.076693043112755,0.004252293612808,-0.012361838482320,-0.040619216859341,-0.040678247809410,-0.004704129882157,0.005978096742183,0.013606190681458,0.094139993190765));
res += mul(Get(s0,dx,0), float4x4(-0.031787831336260,0.048316039144993,-0.022343669086695,0.042813077569008,-0.087812662124634,-0.067138761281967,0.071708932518959,-0.037154957652092,-0.011393447406590,0.007153862621635,0.042590994387865,0.025545323267579,0.064349927008152,0.017844052985311,0.051681593060493,0.022795004770160));
res += mul(Get(s0,dx,dy), float4x4(-0.029124382883310,-0.037037663161755,0.038797039538622,-0.013176262378693,0.009993082843721,-0.066143341362476,0.025291364639997,0.006765656638891,0.013500983826816,-0.070225015282631,-0.007433620747179,-0.028951756656170,-0.032959297299385,-0.000737056951039,0.042495284229517,-0.005058214534074));
res += mul(Get(s1,-dx,-dy), float4x4(0.037498898804188,0.047643594443798,0.052164301276207,-0.149087429046631,-0.016833169385791,0.016960222274065,-0.034810718148947,0.070027038455009,0.076418071985245,0.020368449389935,-0.030659914016724,-0.044922001659870,-0.078500710427761,-0.077041231095791,0.009557322598994,-0.002243919996545));
res += mul(Get(s1,-dx,0), float4x4(-0.029704747721553,0.013540479354560,0.004965268541127,0.119452141225338,0.035379428416491,-0.019493354484439,0.005459931679070,0.009233238175511,0.026076968759298,0.021303769201040,-0.041766576468945,0.045093074440956,0.029881995171309,-0.005545922555029,-0.068768046796322,0.010783927515149));
res += mul(Get(s1,-dx,dy), float4x4(0.118527457118034,-0.050897359848022,0.036963228136301,0.044649332761765,-0.014657957479358,0.021158117800951,-0.017386922612786,-0.063136234879494,-0.042858883738518,-0.039231091737747,0.001102808513679,-0.018902814015746,-0.073409825563431,0.011736092157662,-0.038245439529419,-0.069251276552677));
res += mul(Get(s1,0,-dy), float4x4(0.063314646482468,0.095541507005692,0.030092153698206,-0.116588078439236,0.058962348848581,0.050744321197271,-0.015177828259766,-0.109154745936394,0.016918865963817,0.081810452044010,0.061023283749819,-0.003004546277225,-0.027157425880432,-0.008404876105487,-0.067827306687832,0.144055187702179));
res += mul(Get(s1,0,0), float4x4(0.015035952441394,-0.062003642320633,-0.000891718897037,0.062688559293747,0.194989800453186,-0.045072298496962,-0.043623548001051,0.047290544956923,0.008829695172608,-0.039722174406052,0.069639287889004,-0.033922754228115,0.166867390275002,-0.037382684648037,0.127506494522095,-0.051084455102682));
res += mul(Get(s1,0,dy), float4x4(0.084497489035130,0.019063519313931,-0.014778739772737,0.040776379406452,-0.011871919035912,0.033338584005833,-0.033279482275248,-0.078949652612209,-0.033404786139727,0.011968475766480,-0.002157645765692,0.035590667277575,-0.084057889878750,0.109706304967403,-0.031487528234720,0.003675037296489));
res += mul(Get(s1,dx,-dy), float4x4(-0.072513677179813,0.001830377965234,-0.035797100514174,-0.055652476847172,0.029498031362891,0.022378716617823,0.036953348666430,-0.081759586930275,0.012029706500471,0.037342160940170,0.072708539664745,0.019614322111011,-0.032796714454889,0.001688291085884,0.011752679012716,0.104282043874264));
res += mul(Get(s1,dx,0), float4x4(0.115229956805706,-0.053833607584238,-0.007767325267196,0.144665405154228,-0.055955972522497,-0.006122902501374,-0.020383751019835,-0.058896254748106,-0.057558152824640,-0.045819073915482,-0.020430587232113,-0.045525517314672,0.065259672701359,-0.052152879536152,-0.009474528022110,-0.025410383939743));
res += mul(Get(s1,dx,dy), float4x4(0.005245241802186,0.061716314405203,-0.037869900465012,-0.076129503548145,-0.080072514712811,0.003415634389967,-0.007607847452164,0.041530795395374,0.014740693382919,-0.005416935309768,0.055936004966497,-0.038092225790024,-0.090033188462257,-0.001845348160714,-0.000207524470170,-0.001212764531374));
res += mul(Get(s2,-dx,-dy), float4x4(-0.064626447856426,-0.036209519952536,0.030639253556728,0.090105712413788,-0.017858928069472,-0.010279028676450,-0.068747229874134,0.012168163433671,-0.026683418080211,-0.069805353879929,-0.039187230169773,-0.001109460717998,0.024011805653572,0.086753331124783,-0.028247008100152,-0.075142420828342));
res += mul(Get(s2,-dx,0), float4x4(-0.047652747482061,0.010845728218555,-0.023079121485353,-0.014617218635976,-0.104209452867508,-0.065799921751022,0.174063473939896,0.000088251086709,0.108134336769581,0.095592454075813,-0.003384757088497,-0.028318539261818,0.009798829443753,0.076814763247967,0.000753479194827,0.058327872306108));
res += mul(Get(s2,-dx,dy), float4x4(-0.033423166722059,-0.055197656154633,0.005693086888641,-0.071236617863178,-0.034075658768415,-0.023162452504039,-0.100888162851334,-0.070372730493546,-0.000315243785735,0.033748801797628,0.018830087035894,-0.079245686531067,0.063314065337181,-0.033510304987431,0.043738003820181,0.016562439501286));
res += mul(Get(s2,0,-dy), float4x4(-0.076702661812305,0.098564840853214,-0.035893097519875,0.165987402200699,0.071316026151180,0.022397447377443,0.040217913687229,0.039933349937201,0.055200472474098,-0.052983783185482,0.121002674102783,0.002228036522865,-0.004563287831843,0.242143198847771,-0.040531173348427,-0.069837063550949));
res += mul(Get(s2,0,0), float4x4(0.106683261692524,0.009639674797654,-0.019136887043715,-0.085448093712330,-0.130538865923882,-0.095804810523987,-0.024204771965742,-0.039891254156828,-0.036207519471645,0.128965735435486,-0.002135760849342,0.163886919617653,0.024042140692472,0.100631289184093,-0.070738717913628,0.157027423381805));
res += mul(Get(s2,0,dy), float4x4(0.039913408458233,-0.061223119497299,0.000538346997928,-0.070690155029297,-0.038943041115999,0.093848772346973,0.018698029220104,0.028409318998456,0.061775203794241,0.013878895901144,-0.028934964910150,-0.159871503710747,0.072203613817692,-0.011597017757595,-0.010159187018871,0.017730433493853));
res += mul(Get(s2,dx,-dy), float4x4(-0.032161697745323,0.032840330153704,-0.005049647297710,0.069752387702465,0.032181389629841,-0.034062899649143,-0.009245612658560,0.037342268973589,-0.048969849944115,-0.044067345559597,-0.061829254031181,0.022472022101283,-0.023240741342306,0.104802042245865,0.031901270151138,0.003326650941744));
res += mul(Get(s2,dx,0), float4x4(-0.049953859299421,-0.003525806590915,0.021254457533360,-0.037412773817778,0.019143313169479,0.101034648716450,-0.000306823407300,-0.060243718326092,0.015674578025937,0.116610012948513,-0.037727463990450,0.127585768699646,0.009916199371219,0.150342971086502,0.002840151544660,-0.001372190308757));
res += mul(Get(s2,dx,dy), float4x4(0.031346146017313,-0.075108945369720,-0.011867376044393,-0.020832069218159,-0.000788803678006,-0.050991803407669,-0.009764671325684,0.080721013247967,0.071492843329906,0.099396407604218,-0.047971736639738,-0.208918899297714,0.075634069740772,-0.048294100910425,-0.030896613374352,-0.036148227751255));
res += mul(Get(s3,-dx,-dy), float4x4(-0.009716961532831,-0.010274759493768,-0.081995643675327,0.052064776420593,0.034837160259485,0.037813421338797,-0.032387249171734,0.003123731119558,-0.026891304180026,-0.069177426397800,0.039276912808418,0.000249074364547,0.030526431277394,0.008575648069382,0.020906737074256,-0.008256163448095));
res += mul(Get(s3,-dx,0), float4x4(0.086536087095737,0.007320045027882,0.112266257405281,-0.066917620599270,-0.042505018413067,0.016266133636236,-0.003381828777492,-0.027773473411798,0.056719567626715,0.046234305948019,-0.007176668848842,0.008530857041478,-0.124202102422714,-0.099977351725101,-0.116621658205986,-0.045399315655231));
res += mul(Get(s3,-dx,dy), float4x4(-0.074017629027367,0.191377639770508,-0.080730430781841,-0.003230750095099,-0.075174048542976,-0.044646013528109,0.034988071769476,-0.033021345734596,0.053898766636848,-0.079139582812786,0.026950888335705,-0.083701394498348,0.008005461655557,-0.053493518382311,-0.052992351353168,0.020863912999630));
res += mul(Get(s3,0,-dy), float4x4(-0.005144733935595,0.008025727234781,-0.003894851775840,0.071485638618469,0.053146507591009,0.009088833816350,-0.037487309426069,0.115029938519001,-0.001008098246530,0.049510829150677,0.039255186915398,-0.078675277531147,-0.107085123658180,-0.036608569324017,-0.078258424997330,0.042875409126282));
res += mul(Get(s3,0,0), float4x4(-0.005328283179551,-0.029788492247462,-0.040992032736540,-0.059141907840967,-0.013442827388644,-0.030666150152683,0.154279947280884,-0.076615020632744,0.132914721965790,0.061136178672314,0.026284374296665,0.195260941982269,0.065879039466381,-0.066785767674446,-0.059705775231123,-0.027321152389050));
res += mul(Get(s3,0,dy), float4x4(-0.045364331454039,0.226460456848145,0.013278003782034,-0.065168522298336,-0.106636852025986,-0.150695264339447,0.015512967482209,-0.025546699762344,0.115737274289131,-0.056024763733149,0.094613142311573,-0.089502982795238,-0.019406450912356,0.033173270523548,-0.065158471465111,-0.011767594143748));
res += mul(Get(s3,dx,-dy), float4x4(0.011647404171526,-0.010909120552242,-0.016701629385352,-0.049047775566578,0.081506945192814,0.039242856204510,-0.147888660430908,0.041528366506100,-0.028946002945304,0.012417580932379,0.002775418339297,-0.027710499241948,-0.002076585777104,0.022188667207956,0.107450082898140,-0.001765129389241));
res += mul(Get(s3,dx,0), float4x4(-0.011271803639829,0.022756535559893,-0.057848609983921,0.053226314485073,-0.006461936514825,-0.082515105605125,-0.057853281497955,-0.002614781027660,-0.038448356091976,0.000446704070782,0.035942945629358,0.031062249094248,-0.049072194844484,-0.030556472018361,0.058038353919983,0.047370702028275));
res += mul(Get(s3,dx,dy), float4x4(0.005489190109074,0.057083070278168,-0.001167305163108,-0.096308790147305,0.002281341236085,-0.093907460570335,0.007753645535558,-0.069281913340092,0.042871885001659,0.019414732232690,-0.087996259331703,-0.064503178000450,-0.038151524960995,-0.037590362131596,-0.052272569388151,-0.066168166697025));
return max(float4(0,0,0,0), res);
}
