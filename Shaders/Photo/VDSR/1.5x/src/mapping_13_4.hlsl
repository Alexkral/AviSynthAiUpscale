sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.080557234585285,0.074327856302261,0.025892214849591,0.067307412624359,-0.008772769942880,-0.040507987141609,-0.027710013091564,0.015676937997341,-0.048889722675085,-0.013558943755925,-0.064991362392902,-0.008108853362501,0.005078861489892,-0.050700556486845,0.041320130228996,0.000789315032307));
res += mul(Get(s0,-dx,0), float4x4(0.170288115739822,0.064636215567589,0.094915375113487,-0.000764735683333,-0.077069453895092,0.035491317510605,0.008183185942471,-0.151705935597420,-0.044199548661709,-0.073490731418133,0.030604247003794,0.022065984085202,-0.031002048403025,-0.052161388099194,0.049921538680792,0.056559428572655));
res += mul(Get(s0,-dx,dy), float4x4(0.126610010862350,0.173110648989677,0.020903319120407,-0.136317893862724,-0.035668917000294,0.078063867986202,-0.259335041046143,-0.005403548944741,-0.048427965492010,0.085711628198624,-0.242837175726891,-0.047450769692659,0.012064462527633,0.041520845144987,0.091774620115757,-0.053156733512878));
res += mul(Get(s0,0,-dy), float4x4(0.050772629678249,-0.091420501470566,-0.027101198211312,-0.064375184476376,0.065041482448578,0.064114198088646,0.048192620277405,-0.029185794293880,0.140249282121658,0.061686571687460,-0.010802747681737,-0.125010713934898,-0.084541320800781,-0.115218728780746,-0.091787099838257,-0.045772224664688));
res += mul(Get(s0,0,0), float4x4(0.028078943490982,0.099252916872501,0.076704122126102,0.206764340400696,-0.111457087099552,-0.022855257615447,-0.010264825075865,0.110433369874954,0.076353892683983,0.016329325735569,0.111118026077747,0.012337942607701,0.002507970668375,-0.036849386990070,0.118556641042233,-0.047498922795057));
res += mul(Get(s0,0,dy), float4x4(-0.043999522924423,-0.144750073552132,-0.038008712232113,-0.141655892133713,0.054896663874388,0.215166673064232,-0.112011045217514,0.068967305123806,-0.027171520516276,-0.027126163244247,0.049231920391321,0.043418176472187,0.069249816238880,0.042525619268417,-0.126794308423996,0.156972095370293));
res += mul(Get(s0,dx,-dy), float4x4(-0.153979927301407,0.098354168236256,0.041976030915976,-0.006278055720031,-0.163790136575699,0.061327431350946,0.127268150448799,-0.045137915760279,0.001140928245150,-0.081630185246468,-0.096755370497704,0.029558718204498,-0.050552900880575,-0.092569157481194,0.113399535417557,0.086503557860851));
res += mul(Get(s0,dx,0), float4x4(-0.019374962896109,0.068753033876419,0.013017109595239,0.029274106025696,-0.050916872918606,-0.024469373747706,-0.097125999629498,-0.039601210504770,0.028038952499628,-0.075617507100105,-0.066162265837193,0.048477303236723,-0.051237449049950,-0.070536717772484,0.083341509103775,-0.082379929721355));
res += mul(Get(s0,dx,dy), float4x4(0.121145986020565,-0.050299093127251,0.029962480068207,-0.030959425494075,-0.046089343726635,-0.009506570175290,0.041541788727045,0.040732741355896,-0.008039167150855,0.098799005150795,0.093930214643478,-0.003619514638558,-0.125924840569496,-0.052651055157185,-0.070505812764168,0.075073786079884));
res += mul(Get(s1,-dx,-dy), float4x4(0.069306261837482,0.046480346471071,-0.042499464005232,0.058118976652622,-0.066444776952267,0.039871044456959,0.087454713881016,0.018114764243364,-0.118785828351974,0.000988385640085,-0.015574162825942,-0.014443931169808,-0.121709227561951,0.026836114004254,-0.117358997464180,0.040320321917534));
res += mul(Get(s1,-dx,0), float4x4(0.014783015474677,-0.001896037603728,0.067225895822048,0.067655526101589,-0.010092245414853,0.013289622962475,-0.019909331575036,-0.064026176929474,-0.166971459984779,-0.007382787764072,0.137649908661842,-0.024564523249865,0.056826796382666,0.017640028148890,0.038523606956005,-0.082801200449467));
res += mul(Get(s1,-dx,dy), float4x4(-0.061865456402302,-0.084218695759773,-0.050831906497478,-0.145434975624084,-0.047615401446819,0.096821196377277,0.046810518950224,0.009229540824890,-0.167041167616844,-0.110214918851852,-0.083512097597122,-0.008018551394343,-0.028626929968596,-0.129425033926964,-0.153252780437469,0.058803558349609));
res += mul(Get(s1,0,-dy), float4x4(0.045671794563532,0.036202687770128,-0.060618039220572,-0.143890753388405,0.121975667774677,-0.036779087036848,-0.098530568182468,-0.047704342752695,0.195733100175858,-0.053534220904112,-0.161084532737732,-0.008882734924555,-0.123518347740173,0.050691295415163,0.090790830552578,0.079862922430038));
res += mul(Get(s1,0,0), float4x4(-0.017277838662267,-0.041518948972225,-0.074230998754501,0.063543558120728,-0.082961708307266,0.006197331007570,0.051539339125156,0.091579198837280,0.176539137959480,0.090247243642807,0.045277308672667,0.108646728098392,-0.167510300874710,0.076348610222340,0.026873381808400,-0.040049560368061));
res += mul(Get(s1,0,dy), float4x4(0.051141932606697,-0.087113060057163,0.070560440421104,-0.040512014180422,0.028993688523769,0.137440368533134,0.070149175822735,0.089416034519672,-0.097577646374702,-0.061853531748056,0.280030459165573,-0.094466075301170,0.048415381461382,0.000106728126411,0.140072509646416,-0.023460624739528));
res += mul(Get(s1,dx,-dy), float4x4(0.020221648737788,-0.122032999992371,-0.098416663706303,-0.072488673031330,0.094603262841702,-0.025293268263340,0.046404700726271,-0.004273034166545,-0.036764603108168,-0.079834401607513,-0.078097648918629,-0.038579765707254,0.010076370090246,0.110071539878845,-0.075408458709717,0.130467295646667));
res += mul(Get(s1,dx,0), float4x4(-0.025608275085688,0.022920072078705,0.079628691077232,-0.051518116146326,-0.055422421544790,0.030250176787376,0.091496683657169,-0.092293269932270,0.198144480586052,-0.099224053323269,-0.281597584486008,-0.080486886203289,0.027919413521886,-0.079632073640823,0.057786945253611,0.039904206991196));
res += mul(Get(s1,dx,dy), float4x4(0.093715451657772,0.015771100297570,-0.094202041625977,-0.017557019367814,0.092835843563080,0.001891164341941,-0.206619784235954,0.007208088412881,0.026137571781874,-0.119383387267590,-0.051869895309210,-0.072058409452438,-0.048468578606844,-0.201515167951584,0.028516352176666,-0.047923598438501));
res += mul(Get(s2,-dx,-dy), float4x4(0.016650214791298,-0.013508263044059,-0.022952297702432,-0.226463124155998,0.199955374002457,-0.170385465025902,-0.091979615390301,0.015293821692467,-0.154842689633369,0.005930388346314,0.022105999290943,-0.072284802794456,-0.010991065762937,0.031228119507432,0.077797979116440,0.004724785219878));
res += mul(Get(s2,-dx,0), float4x4(-0.035790815949440,-0.029134063050151,0.179112330079079,-0.175476819276810,0.004163857549429,-0.122396193444729,-0.173957869410515,-0.037490107119083,-0.061718311160803,0.058739800006151,0.041143249720335,-0.079600833356380,0.192089155316353,0.043267197906971,0.002556693041697,-0.067631967365742));
res += mul(Get(s2,-dx,dy), float4x4(-0.064877964556217,0.109865777194500,-0.059743270277977,0.036520931869745,-0.032946318387985,-0.073568031191826,0.062480345368385,-0.132852792739868,-0.120387129485607,-0.133954077959061,0.086899451911449,-0.052353877574205,0.142367422580719,-0.050187703222036,-0.124725274741650,0.070005796849728));
res += mul(Get(s2,0,-dy), float4x4(0.047649979591370,0.003792295698076,-0.039663210511208,0.028017142787576,0.006422409787774,0.060240846127272,-0.103730686008930,-0.024520050734282,-0.060081623494625,-0.163647606968880,-0.012723721563816,-0.168820202350616,-0.108148835599422,0.080689743161201,0.061061542481184,-0.047753669321537));
res += mul(Get(s2,0,0), float4x4(0.036693952977657,-0.056306917220354,0.098368734121323,-0.020361064001918,0.054387912154198,0.082925960421562,-0.045051362365484,-0.090286299586296,0.055333878844976,0.008594025857747,-0.195600986480713,-0.010217556729913,-0.245503857731819,-0.143106266856194,0.064653284847736,-0.039829473942518));
res += mul(Get(s2,0,dy), float4x4(-0.120146445930004,-0.055982839316130,0.061940100044012,-0.073115304112434,0.148783609271049,0.077247858047485,0.166328400373459,0.038197543472052,0.039481062442064,-0.022761000320315,-0.099105186760426,0.100981958210468,0.006880216300488,0.066408865153790,-0.087942115962505,-0.100853413343430));
res += mul(Get(s2,dx,-dy), float4x4(-0.017546676099300,0.012014298699796,-0.005432754289359,-0.124282903969288,-0.016882857307792,-0.007857200689614,-0.013546945527196,-0.016460102051497,0.013635579496622,0.037986844778061,-0.093228116631508,-0.033567193895578,-0.037325728684664,-0.050074931234121,0.110950328409672,-0.028171673417091));
res += mul(Get(s2,dx,0), float4x4(0.126655325293541,-0.063860595226288,-0.078911341726780,0.018678674474359,-0.125992462038994,0.055867925286293,-0.043376624584198,-0.115084446966648,-0.050221972167492,0.080180801451206,-0.039675187319517,0.043635547161102,-0.032294992357492,-0.105547897517681,0.173990443348885,-0.055728476494551));
res += mul(Get(s2,dx,dy), float4x4(0.229863703250885,-0.141031444072723,-0.185630843043327,-0.052930410951376,-0.031266506761312,0.088643819093704,-0.015956148505211,0.057356417179108,-0.120023712515831,-0.106673352420330,-0.121585860848427,0.056052349507809,-0.017963930964470,-0.135196983814240,0.054818343371153,0.057823713868856));
res += mul(Get(s3,-dx,-dy), float4x4(-0.142977043986320,-0.107271984219551,0.064554944634438,0.030085584148765,0.012110468000174,0.064062073826790,-0.022950422018766,-0.123593538999557,0.042869195342064,-0.082519285380840,0.049499653279781,0.034035485237837,-0.000802197086159,-0.223793953657150,0.027655180543661,0.031464405357838));
res += mul(Get(s3,-dx,0), float4x4(-0.110173575580120,-0.106409355998039,-0.014607722871006,-0.101527638733387,0.062330242246389,-0.072984695434570,-0.033296432346106,-0.136886671185493,0.000973098620307,0.115579865872860,-0.102263234555721,-0.093417458236217,-0.020472714677453,-0.042560067027807,0.001333800260909,0.083284005522728));
res += mul(Get(s3,-dx,dy), float4x4(-0.055277802050114,-0.042109120637178,-0.018854791298509,-0.095081277191639,-0.105461113154888,-0.029878633096814,0.010120659135282,-0.082918100059032,0.025330383330584,0.009749490767717,0.067777127027512,-0.061515316367149,-0.011564746499062,0.003578404197469,-0.102315686643124,0.032716806977987));
res += mul(Get(s3,0,-dy), float4x4(-0.030590778216720,0.014503562822938,-0.026144454255700,0.070305228233337,0.042509444057941,0.043370526283979,0.057661835104227,-0.001705945353024,0.092378593981266,0.053309310227633,-0.002452749991789,-0.046036172658205,0.032473891973495,0.115941256284714,-0.013394145295024,-0.042489841580391));
res += mul(Get(s3,0,0), float4x4(0.037206318229437,-0.063661038875580,0.046876680105925,0.097997978329659,-0.032125640660524,0.079075440764427,-0.091146692633629,-0.089788697659969,0.126133367419243,-0.264096856117249,0.087424367666245,0.006011894438416,-0.022706424817443,-0.020712660625577,0.077675953507423,-0.039846230298281));
res += mul(Get(s3,0,dy), float4x4(-0.050296049565077,0.068839266896248,-0.037446398288012,0.033253692090511,0.137136459350586,0.080397292971611,-0.140476092696190,0.033232826739550,0.005262773018330,-0.092953935265541,-0.016198216006160,-0.180622816085815,0.071778751909733,0.015860158950090,0.064404092729092,0.023161940276623));
res += mul(Get(s3,dx,-dy), float4x4(-0.186913594603539,-0.037658255547285,0.052603181451559,0.002550068777055,-0.095170833170414,-0.059932749718428,0.112874232232571,-0.107475817203522,0.104075983166695,-0.094208598136902,0.059739481657743,0.087851144373417,0.061384890228510,-0.079827912151814,0.004791389219463,-0.023161407560110));
res += mul(Get(s3,dx,0), float4x4(0.073304399847984,-0.075886018574238,0.008101692423224,0.031549930572510,-0.017480049282312,-0.079869061708450,-0.081493176519871,-0.019810387864709,-0.037576287984848,-0.011359937489033,0.017302554100752,-0.017699217423797,0.195766672492027,0.031463060528040,-0.074076011776924,-0.049818515777588));
res += mul(Get(s3,dx,dy), float4x4(-0.011112368665636,0.126253962516785,-0.121060162782669,-0.085191957652569,-0.093913152813911,0.021413698792458,-0.179822742938995,0.037697948515415,0.194278702139854,0.024692151695490,-0.012702711857855,0.104818522930145,0.053162697702646,0.037560321390629,-0.177953124046326,-0.117051690816879));
return max(float4(0,0,0,0), res);
}
