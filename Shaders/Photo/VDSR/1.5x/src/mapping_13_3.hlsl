sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.068052165210247,0.028079180046916,-0.031593341380358,-0.052348140627146,-0.024464244022965,-0.004099684301764,-0.050989434123039,0.213534548878670,0.115487985312939,0.211487293243408,-0.002191980602220,-0.126898616552353,-0.107990168035030,-0.011695666238666,0.054698292165995,0.022806491702795));
res += mul(Get(s0,-dx,0), float4x4(0.085369668900967,0.079527355730534,0.079141400754452,-0.003328254213557,-0.150100275874138,-0.020263833925128,-0.058986116200686,0.173724025487900,0.114703230559826,0.076346114277840,-0.141529664397240,-0.192105919122696,0.097541756927967,-0.026174793019891,0.175349250435829,0.148577988147736));
res += mul(Get(s0,-dx,dy), float4x4(-0.012367798946798,0.057568453252316,0.051387317478657,0.102851830422878,0.038161460310221,0.026214081794024,0.012163300067186,0.048074811697006,0.022556358948350,0.166846930980682,-0.027630668133497,-0.081142850220203,0.077028967440128,0.019315743818879,-0.049727879464626,0.066830806434155));
res += mul(Get(s0,0,-dy), float4x4(0.067329078912735,-0.063249558210373,0.023232309147716,-0.146853804588318,0.029185151681304,-0.015228691510856,-0.036694876849651,0.021455837413669,-0.228639960289001,-0.040517102926970,0.060923710465431,0.012785317376256,0.069443374872208,0.004876059014350,0.018315818160772,0.122773908078671));
res += mul(Get(s0,0,0), float4x4(0.029565230011940,-0.134324371814728,0.094907462596893,0.066615454852581,-0.127863004803658,-0.042263507843018,-0.122755736112595,0.058931641280651,-0.047309190034866,0.090587861835957,0.180390805006027,0.132152751088142,0.041078023612499,-0.009832427836955,-0.036965847015381,-0.059706527739763));
res += mul(Get(s0,0,dy), float4x4(-0.054980516433716,-0.066757455468178,0.125277206301689,0.043441265821457,-0.041279211640358,-0.044457402080297,-0.182909369468689,-0.022397533059120,-0.051058150827885,0.092066116631031,-0.039296422153711,-0.033877883106470,0.061511866748333,0.031208191066980,-0.008495906367898,-0.110267877578735));
res += mul(Get(s0,dx,-dy), float4x4(0.009179586544633,-0.156290620565414,-0.193433061242104,-0.026554754003882,0.026028554886580,-0.019129550084472,-0.063893772661686,-0.016506781801581,0.049186628311872,0.025443730875850,0.120312474668026,0.169291093945503,0.073766633868217,0.039014965295792,0.020077278837562,0.168179780244827));
res += mul(Get(s0,dx,0), float4x4(-0.000317743251799,0.020574355497956,0.030193191021681,0.064213775098324,-0.057849902659655,0.030717985704541,0.118688300251961,-0.076243355870247,0.017900796607137,-0.014620902016759,-0.227409631013870,0.092044405639172,-0.016763098537922,-0.086892001330853,-0.057624340057373,-0.053469859063625));
res += mul(Get(s0,dx,dy), float4x4(0.099653862416744,-0.034412100911140,-0.062269095331430,0.022762227803469,-0.066855266690254,0.042138762772083,-0.026157034561038,0.015326519496739,-0.044353816658258,0.138718515634537,0.026753325015306,0.070766739547253,0.009005222469568,-0.039805226027966,0.055065602064133,-0.113104343414307));
res += mul(Get(s1,-dx,-dy), float4x4(-0.042662940919399,-0.004491026513278,-0.065224803984165,-0.217293307185173,0.097050100564957,0.040640905499458,-0.039259422570467,0.031658332794905,0.093155898153782,-0.036086563020945,-0.019798798486590,0.112665995955467,0.024054268375039,0.046820174902678,0.098977416753769,0.015096493996680));
res += mul(Get(s1,-dx,0), float4x4(0.134668350219727,-0.008871370926499,0.026547120884061,-0.074032060801983,0.018222188577056,-0.046574663370848,0.041944932192564,-0.040990356355906,0.257797032594681,-0.057406760752201,0.000390846544178,0.048941623419523,0.003614763962105,0.039701119065285,0.156371012330055,0.064199447631836));
res += mul(Get(s1,-dx,dy), float4x4(-0.032096751034260,-0.009777794592083,-0.136623919010162,-0.027619907632470,-0.052425522357225,0.024971788749099,-0.048481307923794,-0.033393990248442,0.115075431764126,0.051052246242762,-0.066709041595459,0.205070585012436,0.149447187781334,0.066233210265636,-0.012836035341024,0.136874675750732));
res += mul(Get(s1,0,-dy), float4x4(0.044989526271820,0.027732012793422,-0.022143431007862,-0.040464099496603,0.067022711038589,0.052758421748877,-0.124785862863064,0.086606122553349,0.053554385900497,0.020265204831958,0.047894258052111,0.032248895615339,0.151002585887909,0.036889869719744,-0.021920289844275,0.131753623485565));
res += mul(Get(s1,0,0), float4x4(-0.067350611090660,-0.070560120046139,0.027287935838103,0.001684464165010,0.046615894883871,-0.046244230121374,-0.017360731959343,-0.052174821496010,-0.017053939402103,0.009152435697615,0.009520624764264,-0.166030585765839,0.093710087239742,-0.065680913627148,0.010439425706863,0.145526736974716));
res += mul(Get(s1,0,dy), float4x4(-0.043788522481918,-0.103939265012741,0.093965813517570,0.039425797760487,0.031179836019874,-0.014642251655459,-0.085169032216072,0.077477946877480,0.019999284297228,0.006530790124089,0.165650516748428,0.083953529596329,-0.002593621611595,-0.074158154428005,0.030844565480947,-0.036202806979418));
res += mul(Get(s1,dx,-dy), float4x4(-0.072978794574738,0.110683284699917,-0.074472136795521,0.064551539719105,-0.068334393203259,-0.041782569140196,0.002857348881662,-0.098347887396812,-0.089117608964443,-0.097722314298153,0.039989057928324,-0.002350912895054,-0.114225149154663,-0.067574650049210,-0.052174955606461,-0.116115525364876));
res += mul(Get(s1,dx,0), float4x4(0.026829151436687,0.001919124741107,-0.076833739876747,-0.063565805554390,-0.058856748044491,-0.059320461004972,-0.073769539594650,0.049915384501219,-0.102846704423428,-0.232316374778748,0.201592355966568,-0.000992529792711,0.001814916729927,0.003534621791914,0.108867861330509,-0.035596273839474));
res += mul(Get(s1,dx,dy), float4x4(0.040041357278824,-0.102401584386826,-0.007117905654013,-0.166618242859840,0.152419671416283,-0.005872721318156,-0.004858246073127,0.114810846745968,-0.092319071292877,-0.104304447770119,0.033073503524065,0.031427606940269,-0.033646047115326,-0.194183290004730,-0.072224393486977,-0.154041662812233));
res += mul(Get(s2,-dx,-dy), float4x4(0.069048851728439,-0.101010635495186,-0.048249747604132,-0.005833957809955,-0.009045522660017,-0.050541050732136,0.078409165143967,-0.148503422737122,-0.040165901184082,-0.159790694713593,0.085077218711376,-0.008827491663396,-0.093483775854111,-0.000855180551298,0.224766701459885,-0.066420167684555));
res += mul(Get(s2,-dx,0), float4x4(-0.152942195534706,-0.101779788732529,0.145544812083244,-0.151053905487061,-0.089373983442783,-0.017520863562822,-0.195177063345909,-0.071754693984985,-0.097295738756657,0.012769998982549,0.001108508557081,0.096496812999249,-0.278849899768829,0.027180796489120,-0.014134082943201,0.007847519591451));
res += mul(Get(s2,-dx,dy), float4x4(0.040386494249105,0.002553942380473,-0.114287696778774,-0.068907096982002,-0.079858303070068,0.058658599853516,0.083893783390522,0.050690170377493,-0.038886152207851,-0.049751665443182,-0.105184175074100,-0.034643802791834,0.026430681347847,0.075427211821079,-0.060055181384087,-0.042931988835335));
res += mul(Get(s2,0,-dy), float4x4(0.107717268168926,0.083638660609722,-0.050320528447628,0.115434013307095,0.061314936727285,0.042660370469093,0.063250668346882,-0.088165447115898,-0.084632650017738,0.063777633011341,0.111887551844120,-0.028348052874207,0.053036458790302,-0.076257728040218,-0.027612280100584,0.016310404986143));
res += mul(Get(s2,0,0), float4x4(0.044741343706846,0.007100949529558,-0.057130657136440,-0.149894773960114,0.072658002376556,0.057999238371849,0.062611378729343,-0.063129350543022,-0.136827081441879,-0.105335742235184,0.162177935242653,-0.167567953467369,-0.058021616190672,0.052323415875435,-0.079083591699600,-0.251571446657181));
res += mul(Get(s2,0,dy), float4x4(-0.123149052262306,0.214403435587883,0.067547433078289,-0.193201467394829,-0.072124488651752,-0.051285836845636,0.048067744821310,0.174808904528618,-0.111667901277542,-0.167349636554718,0.078867889940739,-0.067080907523632,-0.049470283091068,-0.194854542613029,0.248186767101288,-0.192074179649353));
res += mul(Get(s2,dx,-dy), float4x4(-0.043427236378193,0.031980894505978,0.040208023041487,-0.028990793973207,-0.015904067084193,-0.090767204761505,0.065589003264904,-0.022574782371521,0.012043688446283,-0.010607711039484,0.029775725677609,-0.038362793624401,-0.048998571932316,0.188793942332268,0.049162197858095,-0.082644805312157));
res += mul(Get(s2,dx,0), float4x4(0.029323350638151,0.030636377632618,-0.027745259925723,-0.062082368880510,-0.057563330978155,0.002835565246642,0.017705976963043,-0.142434611916542,0.036518722772598,0.083872690796852,-0.037998352199793,-0.096102364361286,0.026225024834275,-0.182927310466766,0.182508438825607,-0.078581050038338));
res += mul(Get(s2,dx,dy), float4x4(0.014359008520842,-0.055051218718290,0.066447801887989,0.056298054754734,-0.065692052245140,-0.052215881645679,0.042336843907833,0.155406638979912,-0.044853657484055,0.125806257128716,0.113027982413769,0.020028216764331,0.060270629823208,-0.026872877031565,-0.036190237849951,0.049340896308422));
res += mul(Get(s3,-dx,-dy), float4x4(0.051623400300741,-0.233642637729645,0.004228289239109,0.108461223542690,-0.072866961359978,0.069141879677773,0.029956124722958,-0.153065741062164,0.236582562327385,-0.139622017741203,0.124852843582630,0.061183240264654,-0.038099553436041,-0.044264659285545,-0.124748460948467,-0.000748271937482));
res += mul(Get(s3,-dx,0), float4x4(0.001886917976663,-0.062646165490150,-0.080641411244869,-0.095097877085209,-0.099432237446308,-0.014287640340626,0.132578209042549,-0.042196247726679,0.135051846504211,0.061153363436460,-0.112299665808678,-0.065670177340508,-0.052006218582392,0.059890899807215,0.163402140140533,-0.095268115401268));
res += mul(Get(s3,-dx,dy), float4x4(0.032502155750990,-0.033236138522625,-0.069719374179840,-0.121421262621880,-0.157515063881874,-0.034227997064590,0.116932064294815,-0.007328371983021,-0.039487890899181,-0.001567016704939,0.042533859610558,-0.070117644965649,-0.035194553434849,0.024672323837876,0.158037036657333,0.100847795605659));
res += mul(Get(s3,0,-dy), float4x4(0.075455196201801,-0.061931472271681,-0.012644922360778,0.020825011655688,-0.021227136254311,-0.169243022799492,0.088358834385872,0.000923236366361,0.044464994221926,0.105558030307293,0.088671058416367,-0.219868034124374,0.048985648900270,-0.133282259106636,-0.004195464309305,0.140822783112526));
res += mul(Get(s3,0,0), float4x4(0.125372990965843,0.138702794909477,-0.119513459503651,-0.040299709886312,0.037220202386379,0.050138719379902,0.001833011861891,0.090966127812862,-0.053087934851646,0.060927048325539,0.119932949542999,-0.124378353357315,0.007173089776188,0.139858335256577,-0.081028133630753,0.053905226290226));
res += mul(Get(s3,0,dy), float4x4(-0.091637142002583,0.022641614079475,-0.129793047904968,0.092316649854183,0.047834984958172,-0.100805960595608,0.014414514414966,0.232045859098434,0.068602912127972,-0.083016678690910,-0.059057414531708,-0.019329326227307,-0.066313810646534,0.023240411654115,-0.014223362319171,0.090003885328770));
res += mul(Get(s3,dx,-dy), float4x4(0.058723881840706,0.049092728644609,-0.048077758401632,-0.012781298719347,0.074602209031582,0.119304500520229,-0.069948516786098,0.074641048908234,-0.017142161726952,0.059597179293633,-0.087456829845905,0.164368063211441,0.006659456063062,0.047891214489937,0.111611008644104,0.145877033472061));
res += mul(Get(s3,dx,0), float4x4(0.028873432427645,-0.065069556236267,-0.010620323009789,0.081060171127319,0.069794498383999,-0.106532387435436,-0.002781249815598,0.059995856136084,0.019998749718070,-0.071151711046696,-0.082272976636887,-0.059908825904131,-0.084376417100430,0.054936479777098,-0.009378624148667,-0.005203458480537));
res += mul(Get(s3,dx,dy), float4x4(0.019360857084394,-0.122753165662289,0.082157813012600,-0.086189582943916,0.001995961647481,-0.009986395947635,-0.001562739955261,-0.034509856253862,0.086864598095417,0.070224396884441,0.178687006235123,-0.081938900053501,-0.054544512182474,-0.095727436244488,0.027938796207309,-0.142018884420395));
return max(float4(0,0,0,0), res);
}
