sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.047578763216734,0.012117821723223,-0.032066013664007,-0.034590542316437,-0.028961235657334,-0.064694061875343,0.080015383660793,0.025174995884299,0.010058308020234,0.027133222669363,-0.075135387480259,-0.021686501801014,-0.031454250216484,-0.025623153895140,-0.123699203133583,-0.022616129368544));
res += mul(Get(s0,-dx,0), float4x4(-0.014450727961957,0.159360378980637,0.052824418991804,-0.048516619950533,0.017136937007308,0.063373565673828,-0.083707757294178,0.002126333070919,0.029885955154896,0.020795971155167,0.016431780532002,-0.086494572460651,0.153366848826408,-0.031909648329020,-0.042133640497923,-0.043517623096704));
res += mul(Get(s0,-dx,dy), float4x4(0.068922825157642,-0.085527442395687,-0.062803946435452,-0.018108393996954,-0.026560263708234,-0.008501213975251,-0.004025353584439,0.047327708452940,0.051111005246639,-0.094643980264664,-0.009486858732998,0.008846002630889,-0.028538219630718,0.043517228215933,-0.010275032371283,-0.052137292921543));
res += mul(Get(s0,0,-dy), float4x4(0.072362713515759,-0.023270186036825,-0.009683641605079,0.090538658201694,-0.081692054867744,0.052026163786650,0.008904255926609,-0.000739591370802,0.055165667086840,0.083904489874840,-0.042720824480057,0.005190280731767,0.046253569424152,0.016440166160464,-0.088400050997734,-0.020242771133780));
res += mul(Get(s0,0,0), float4x4(0.090748645365238,-0.107274703681469,-0.040696240961552,0.054184325039387,-0.009603185579181,0.020037245005369,0.041495665907860,-0.017862029373646,0.006001283880323,0.049733791500330,0.007742899935693,-0.069259032607079,0.041513748466969,0.000460666051367,0.109339751303196,-0.071203276515007));
res += mul(Get(s0,0,dy), float4x4(0.036285299807787,-0.035753164440393,-0.042408686131239,0.082614623010159,-0.034040402621031,0.043265204876661,0.003845907514915,-0.013998602516949,-0.028858263045549,-0.034936934709549,0.015768473967910,-0.064930789172649,0.112153202295303,0.022703118622303,0.015598485246301,0.022986369207501));
res += mul(Get(s0,dx,-dy), float4x4(-0.070157885551453,0.000788382370956,-0.088713653385639,0.022635813802481,0.046530887484550,0.041640765964985,-0.004534219391644,0.002992152469233,-0.059534005820751,0.032802548259497,0.065853282809258,-0.012104297988117,0.005556358490139,-0.049159772694111,0.010038010776043,0.044406134635210));
res += mul(Get(s0,dx,0), float4x4(0.061884049326181,-0.029271049425006,0.069541633129120,0.046504400670528,-0.014076295308769,0.046918619424105,-0.006414721719921,-0.023932129144669,0.031255502253771,0.092108719050884,0.012131945230067,0.082632131874561,0.035250332206488,-0.048790559172630,-0.008475014008582,0.090718738734722));
res += mul(Get(s0,dx,dy), float4x4(-0.010814616456628,-0.014940614812076,0.072859428822994,-0.025294333696365,0.024316949769855,0.054598461836576,-0.039745677262545,0.012650804594159,0.033775717020035,0.023031273856759,-0.081885434687138,0.008860995061696,0.026027444750071,0.018779158592224,-0.024883316829801,0.048213846981525));
res += mul(Get(s1,-dx,-dy), float4x4(-0.105287536978722,-0.003383474890143,0.031910080462694,-0.049441006034613,0.008192121051252,-0.098025768995285,0.094944633543491,-0.039416957646608,-0.015956293791533,-0.025464298203588,-0.006319154053926,0.044379916042089,0.019030625000596,-0.040646582841873,-0.074505612254143,-0.024840159341693));
res += mul(Get(s1,-dx,0), float4x4(0.008460645563900,-0.011750571429729,-0.012901998125017,-0.147551089525223,0.017760513350368,-0.042346827685833,0.105889298021793,-0.061568014323711,0.010643162764609,0.037132941186428,0.091105848550797,-0.097895264625549,-0.041490726172924,0.167149975895882,0.055116225033998,-0.036512095481157));
res += mul(Get(s1,-dx,dy), float4x4(0.063588835299015,-0.075156532227993,0.000456339068478,0.003853725269437,-0.002462201053277,-0.086029015481472,0.085824437439442,0.033725190907717,-0.037590619176626,0.043069254606962,-0.010226502083242,0.127202257514000,-0.120435655117035,0.018824147060513,0.025626892223954,-0.028889849781990));
res += mul(Get(s1,0,-dy), float4x4(-0.058812201023102,0.054935809224844,0.026560263708234,0.113834150135517,-0.036334227770567,0.043587937951088,0.031096473336220,0.042416907846928,0.018484393134713,-0.079328536987305,-0.039643313735723,0.066933661699295,0.027191411703825,0.028234688565135,-0.013801857829094,-0.015075181610882));
res += mul(Get(s1,0,0), float4x4(-0.027249826118350,-0.050248090177774,-0.035406965762377,0.111592948436737,-0.060413599014282,-0.033910915255547,0.010243766009808,0.003917690832168,-0.106938816606998,0.028004057705402,-0.049065686762333,0.111057512462139,0.006802179384977,-0.117969952523708,0.052194800227880,-0.007659950293601));
res += mul(Get(s1,0,dy), float4x4(0.011967576108873,0.030043749138713,0.050006303936243,-0.073179475963116,-0.024166233837605,-0.008000304922462,0.038596637547016,-0.088567897677422,0.029809501022100,-0.061502926051617,0.068615719676018,0.086200170218945,0.084467582404613,-0.034144263714552,0.200030580163002,-0.063358783721924));
res += mul(Get(s1,dx,-dy), float4x4(-0.051417671144009,0.131445378065109,0.016405237838626,-0.131529510021210,-0.101357407867908,-0.095481663942337,-0.008406626991928,0.162073239684105,0.063283964991570,-0.115488357841969,-0.074084229767323,-0.326582551002502,0.012533174827695,-0.042367160320282,0.062281589955091,0.068289376795292));
res += mul(Get(s1,dx,0), float4x4(-0.043750673532486,0.179971367120743,0.024563306942582,-0.085138387978077,-0.055135935544968,-0.088042892515659,-0.018365934491158,0.123690105974674,0.075026653707027,-0.125000029802322,-0.028240595012903,-0.297142922878265,-0.063955388963223,-0.113912791013718,0.068414784967899,0.052292004227638));
res += mul(Get(s1,dx,dy), float4x4(0.071564771234989,0.002800919348374,-0.017776265740395,0.011780439876020,-0.020523604005575,0.044382862746716,0.067120075225830,0.118857406079769,-0.051758121699095,-0.037291299551725,-0.039859421551228,-0.282010048627853,-0.022291950881481,-0.076341651380062,0.103950090706348,0.003195793600753));
res += mul(Get(s2,-dx,-dy), float4x4(-0.053319647908211,0.054252751171589,-0.050146609544754,0.037961348891258,-0.063254088163376,0.067825905978680,0.033236224204302,-0.031977098435163,-0.055447835475206,-0.009141496382654,0.007920278236270,-0.028334546834230,0.020122189074755,0.026387613266706,0.018293181434274,-0.008116007782519));
res += mul(Get(s2,-dx,0), float4x4(0.052513726055622,-0.083062440156937,0.076492764055729,-0.003368487814441,0.027485223487020,0.057773999869823,0.009768513031304,0.021404983475804,-0.085937194526196,0.093594320118427,-0.107977882027626,-0.025816379114985,-0.042655538767576,0.040908299386501,0.041191406548023,-0.058148309588432));
res += mul(Get(s2,-dx,dy), float4x4(-0.022012799978256,-0.022691065445542,0.048412330448627,-0.006167678628117,0.038204584270716,0.023082597181201,0.028279611840844,-0.018618337810040,0.009416964836419,0.043459873646498,0.007771601900458,0.000776153523475,0.050100300461054,0.003810952184722,-0.051381759345531,0.019262518733740));
res += mul(Get(s2,0,-dy), float4x4(0.178644359111786,0.054238654673100,0.228453785181046,-0.075874470174313,-0.025355683639646,0.028748156502843,0.019741576164961,0.021366378292441,-0.096186786890030,0.051056656986475,-0.034358333796263,-0.007780314888805,0.119638279080391,-0.005959900096059,-0.008391701616347,-0.044957846403122));
res += mul(Get(s2,0,0), float4x4(0.016407240182161,-0.011240541003644,-0.065022379159927,-0.060182008892298,0.170853510499001,-0.010741378180683,-0.027257479727268,0.122647479176521,0.151087343692780,-0.072804592549801,-0.044037643820047,0.089662656188011,-0.063920944929123,0.089153639972210,0.043964985758066,-0.009888152591884));
res += mul(Get(s2,0,dy), float4x4(0.002189704449847,-0.020612437278032,0.053011313080788,-0.014846896752715,-0.005134898237884,-0.005033028777689,0.114921003580093,0.059098005294800,-0.120015621185303,0.083571992814541,0.073872759938240,0.055935278534889,-0.029955394566059,0.077942982316017,0.026003444567323,0.025355769321322));
res += mul(Get(s2,dx,-dy), float4x4(-0.001898231799714,0.156309306621552,-0.020489821210504,0.064469181001186,-0.003149285446852,-0.012880269438028,0.116646230220795,0.005119372624904,0.017126051709056,-0.019105587154627,-0.048397295176983,-0.034691862761974,0.014007478021085,0.041474901139736,-0.004109703935683,0.020763834938407));
res += mul(Get(s2,dx,0), float4x4(-0.002981071593240,0.089309588074684,-0.058123491704464,0.009213323704898,-0.030488781630993,-0.015404016710818,0.281160354614258,-0.083616115152836,0.041309751570225,-0.034912671893835,0.108482219278812,-0.126467078924179,0.048984047025442,-0.031538609415293,-0.003324828110635,0.090561486780643));
res += mul(Get(s2,dx,dy), float4x4(-0.014368854463100,0.032697863876820,0.022572437301278,0.017250031232834,-0.026678605005145,0.029454121366143,0.084605932235718,0.046323768794537,-0.105051308870316,-0.021508783102036,-0.019857056438923,-0.061737570911646,-0.017291933298111,-0.004648238886148,-0.022643124684691,-0.020939547568560));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020694233477116,0.021537782624364,-0.044042233377695,-0.050261460244656,0.007209100760520,0.043238326907158,0.039842113852501,0.018759444355965,-0.041295055299997,-0.028876293450594,0.073496364057064,-0.007110124453902,0.068175002932549,0.030888916924596,-0.058989252895117,0.025220163166523));
res += mul(Get(s3,-dx,0), float4x4(-0.035676624625921,0.038952533155680,-0.054570104926825,-0.100722424685955,-0.015523863025010,0.087695427238941,0.041274052113295,-0.004582935478538,0.038243319839239,0.011996985413134,0.114356353878975,0.055260524153709,0.199737504124641,-0.075577169656754,-0.055462479591370,0.122666858136654));
res += mul(Get(s3,-dx,dy), float4x4(0.004979076329619,0.047680240124464,0.034782905131578,-0.057470194995403,0.028124213218689,0.057743530720472,-0.076945044100285,-0.012885631993413,0.028912687674165,-0.012845991179347,-0.002537722233683,0.003915849607438,0.054594125598669,0.058778021484613,-0.050741493701935,0.124585010111332));
res += mul(Get(s3,0,-dy), float4x4(-0.042940206825733,0.015223383903503,-0.091361641883850,0.098266229033470,0.092882193624973,-0.000469830119982,-0.068562902510166,0.034706603735685,0.049814827740192,-0.024354612454772,0.068462781608105,0.077308103442192,-0.012017484754324,0.016858885064721,-0.139716401696205,-0.011421758681536));
res += mul(Get(s3,0,0), float4x4(0.040752697736025,-0.015176875516772,-0.074969351291656,0.091710865497589,0.152652919292450,-0.000389695749618,-0.085742853581905,0.072130113840103,0.025508422404528,0.120007790625095,0.045042451471090,-0.004121599253267,-0.056053403764963,0.076198205351830,0.123055793344975,0.019152032211423));
res += mul(Get(s3,0,dy), float4x4(0.043710175901651,0.077800296247005,-0.003024794161320,0.000629600952379,0.099619731307030,0.133970215916634,-0.082948647439480,-0.002186316763982,-0.085096657276154,-0.061029780656099,-0.130559191107750,0.040356304496527,-0.023146005347371,-0.017190942540765,0.014268722385168,0.022149510681629));
res += mul(Get(s3,dx,-dy), float4x4(-0.006873318459839,0.007421730086207,-0.058164376765490,-0.108276613056660,0.014322611503303,0.037692740559578,-0.079728074371815,0.026412066072226,0.011965571902692,0.010330848395824,-0.051649391651154,-0.006203607190400,0.017941618338227,-0.018591485917568,0.020177986472845,0.084451645612717));
res += mul(Get(s3,dx,0), float4x4(0.023815190419555,-0.035042259842157,-0.049579426646233,-0.060785077512264,0.103169642388821,-0.115206800401211,-0.085523247718811,0.025310736149549,-0.029793156310916,0.056874167174101,-0.024436051025987,-0.017845448106527,0.028269149363041,-0.039361529052258,0.120533816516399,0.097471699118614));
res += mul(Get(s3,dx,dy), float4x4(0.038818523287773,0.007578256074339,-0.038411863148212,0.044334892183542,0.171266198158264,0.057505741715431,-0.101231552660465,-0.018008930608630,-0.027352772653103,-0.090566478669643,0.022011607885361,0.022374775260687,0.020201489329338,-0.100236222147942,0.007728389929980,0.085171714425087));
return max(float4(0,0,0,0), res);
}
