sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.017936084419489,0.151729166507721,0.050792269408703,-0.069918401539326,-0.071164138615131,0.032192382961512,0.048965413123369,0.059009384363890,-0.018328486010432,0.096101254224777,0.041544247418642,0.042508818209171,-0.012394336052239,-0.008253464475274,-0.016672620549798,0.001450570998713));
res += mul(Get(s0,-dx,0), float4x4(-0.111083567142487,0.011586592532694,-0.063371859490871,0.087183661758900,-0.091391459107399,-0.109441690146923,0.105771496891975,0.160026282072067,-0.017629863694310,0.117462843656540,0.000928442517761,-0.028494460508227,0.008555727079511,0.008667548187077,-0.001198534271680,-0.015189224854112));
res += mul(Get(s0,-dx,dy), float4x4(-0.017085220664740,-0.025754831731319,0.032670613378286,-0.024232493713498,-0.004090982954949,-0.089037783443928,0.078459963202477,0.089374020695686,0.021172994747758,0.078040979802608,-0.024937065318227,-0.052499599754810,0.013228617608547,0.003586950711906,-0.007834258489311,-0.049977902323008));
res += mul(Get(s0,0,-dy), float4x4(-0.014293693006039,0.103590212762356,-0.009789791889489,-0.091792114078999,0.106651857495308,0.147106841206551,-0.008574934676290,-0.106121368706226,-0.064842700958252,0.092911608517170,0.026223523542285,0.015746051445603,0.042935706675053,-0.019537882879376,0.024595173075795,0.050704497843981));
res += mul(Get(s0,0,0), float4x4(0.027908045798540,-0.014032217673957,-0.052203472703695,0.101471766829491,0.195769488811493,0.090187266469002,0.028862381353974,-0.019780136644840,0.032975655049086,-0.062399867922068,-0.048828274011612,0.041892167180777,0.188728198409081,-0.044728714972734,0.028975017368793,0.047362960875034));
res += mul(Get(s0,0,dy), float4x4(0.001777462079190,-0.044317375868559,0.022309076040983,-0.082979045808315,-0.084257490932941,-0.110125899314880,0.057593777775764,-0.049167156219482,0.129928827285767,0.043036170303822,0.007373392581940,0.098006844520569,0.271256178617477,-0.033686421811581,0.070598900318146,0.094328284263611));
res += mul(Get(s0,dx,-dy), float4x4(0.001386555377394,0.049210906028748,0.065864019095898,-0.078512296080589,0.043577834963799,0.104852207005024,0.051513541489840,-0.013507026247680,0.001041089999489,0.123156487941742,0.031704936176538,-0.029994316399097,-0.008857183158398,-0.003286209423095,0.006756557617337,-0.046122800558805));
res += mul(Get(s0,dx,0), float4x4(0.001605546218343,0.067926757037640,0.005116916727275,0.168452396988869,0.013294799253345,0.068880587816238,-0.029486892744899,-0.018528312444687,0.057399038225412,0.197451546788216,-0.015783829614520,0.024231860414147,0.049147583544254,0.041530981659889,0.030192326754332,-0.037174541503191));
res += mul(Get(s0,dx,dy), float4x4(-0.008024109527469,-0.067339792847633,0.042971149086952,-0.000679197954014,0.035322405397892,-0.032943662256002,-0.009750554338098,-0.134919583797455,-0.137330204248428,0.160168886184692,-0.009767996147275,-0.055576000362635,0.032405909150839,0.033262163400650,0.076101347804070,-0.012729404494166));
res += mul(Get(s1,-dx,-dy), float4x4(0.025110719725490,-0.058256957679987,-0.025588020682335,0.059350889176130,0.078416742384434,0.014890853315592,0.030026253312826,-0.050523985177279,-0.091793127357960,0.047153506428003,-0.053805649280548,-0.016282437369227,0.126044049859047,0.157425537705421,-0.040346097201109,-0.018182717263699));
res += mul(Get(s1,-dx,0), float4x4(0.077458962798119,-0.055167537182570,0.064777165651321,-0.005877508781850,-0.015672879293561,0.041380796581507,-0.029753487557173,-0.010012486018240,0.169893056154251,-0.059638682752848,-0.069303847849369,-0.072518587112427,0.065692551434040,0.058546572923660,-0.151937082409859,-0.049600977450609));
res += mul(Get(s1,-dx,dy), float4x4(0.001895077526569,-0.021289965137839,0.121628411114216,0.010425412096083,0.002543312264606,-0.026362916454673,0.015748769044876,0.024385955184698,0.067124031484127,-0.030245155096054,-0.042980346828699,0.007896414957941,0.122194364666939,0.012656168080866,0.022311571985483,0.004853371530771));
res += mul(Get(s1,0,-dy), float4x4(0.047591943293810,-0.037069078534842,-0.026619991287589,-0.050487361848354,0.055598966777325,0.084118247032166,0.031209014356136,0.007485024165362,-0.060639783740044,-0.037439849227667,-0.043274924159050,0.035526432096958,0.077013038098812,0.152394205331802,-0.051057748496532,0.011891320347786));
res += mul(Get(s1,0,0), float4x4(0.064702294766903,-0.035708244889975,0.135445237159729,0.010176590643823,0.041244287043810,0.012433717958629,-0.064744696021080,-0.014304680749774,0.102155119180679,0.089210584759712,-0.049621529877186,-0.057893913239241,0.198479294776917,0.000206408396480,-0.136396944522858,0.091788187623024));
res += mul(Get(s1,0,dy), float4x4(-0.164671465754509,-0.114948809146881,0.034632120281458,-0.015596321783960,0.012130305171013,-0.053704883903265,-0.045953080058098,0.010310500860214,0.036754775792360,0.027643857523799,0.036663446575403,0.028141511604190,0.088306739926338,-0.022050319239497,0.071206547319889,0.096516288816929));
res += mul(Get(s1,dx,-dy), float4x4(-0.107889309525490,-0.087601393461227,-0.020235447213054,0.115778818726540,0.025615796446800,0.038848247379065,0.036265019327402,0.071953207254410,-0.074018329381943,-0.077404625713825,0.027288530021906,-0.016470119357109,0.050228994339705,-0.037131585180759,-0.068852588534355,0.024210356175900));
res += mul(Get(s1,dx,0), float4x4(0.096928752958775,-0.076705507934093,0.100139230489731,0.041047640144825,-0.003526392392814,-0.011494127102196,-0.042319096624851,0.057694740593433,-0.047587092965841,-0.048217684030533,-0.004511038772762,-0.002382903127000,0.008351612836123,0.114918932318687,-0.013828526251018,0.005826737731695));
res += mul(Get(s1,dx,dy), float4x4(0.004417294636369,-0.058207627385855,0.175909653306007,0.085839234292507,-0.016169967129827,-0.002548509743065,-0.011973277665675,0.118879064917564,-0.058994889259338,-0.084310486912727,0.009480142034590,0.045928779989481,0.003856622846797,-0.008890935219824,-0.041400820016861,0.010803842917085));
res += mul(Get(s2,-dx,-dy), float4x4(0.021071147173643,-0.016997946426272,-0.119813658297062,0.055977787822485,-0.012523137964308,-0.000986118335277,-0.010457128286362,0.095024563372135,0.089756712317467,0.017350899055600,0.034905403852463,0.041031222790480,-0.052414022386074,-0.045220676809549,0.082403510808945,-0.060148172080517));
res += mul(Get(s2,-dx,0), float4x4(-0.043955560773611,0.076022498309612,0.015773756429553,0.041354998946190,0.066441252827644,-0.070417329668999,0.046556781977415,-0.001100440393202,-0.000886681722477,0.038812316954136,-0.046751026064157,-0.045975945889950,-0.059717576950788,-0.005531895905733,-0.007943537086248,-0.056875724345446));
res += mul(Get(s2,-dx,dy), float4x4(0.027810107916594,0.003731791395694,-0.033236648887396,0.042911820113659,0.077709332108498,-0.053646773099899,0.051705576479435,0.034492317587137,-0.010665995068848,-0.103006690740585,-0.001879094983451,-0.082614548504353,-0.029565861448646,-0.040184106677771,0.015678888186812,-0.041974827647209));
res += mul(Get(s2,0,-dy), float4x4(-0.065268062055111,0.127364814281464,-0.016671713441610,0.120912760496140,0.022754706442356,0.053468920290470,-0.061275076121092,-0.073872834444046,0.102819092571735,0.030244536697865,0.060867574065924,0.045092120766640,-0.042358908802271,-0.014915667474270,0.024107400327921,-0.018607825040817));
res += mul(Get(s2,0,0), float4x4(-0.112123228609562,-0.039628658443689,-0.043024655431509,-0.103657945990562,-0.073710888624191,0.004389785695821,-0.031568344682455,0.094346761703491,-0.103828743100166,-0.099545136094093,-0.079275988042355,-0.087185047566891,-0.058269813656807,-0.008600777015090,-0.015804352238774,-0.036444507539272));
res += mul(Get(s2,0,dy), float4x4(-0.005714334547520,-0.027817536145449,-0.044950705021620,0.091148607432842,-0.060389421880245,-0.039377916604280,0.020369533449411,0.097207821905613,0.030133590102196,-0.083537794649601,0.020874688401818,0.091518752276897,-0.014750791713595,-0.017417071387172,0.034218672662973,0.061899028718472));
res += mul(Get(s2,dx,-dy), float4x4(0.052291367202997,0.053011868149042,-0.214084073901176,-0.040557157248259,-0.018829679116607,0.044316045939922,0.014807145111263,0.016323389485478,0.040713373571634,-0.022907476872206,0.061593286693096,-0.015253692865372,-0.056792020797729,-0.012667289003730,0.020132645964622,-0.056978590786457));
res += mul(Get(s2,dx,0), float4x4(0.138067558407784,0.096462018787861,-0.076230056583881,0.196884855628014,-0.067828431725502,0.052282795310020,0.124080285429955,-0.012970658019185,-0.014759813435376,-0.063414648175240,0.007440979592502,0.004829362966120,-0.047254305332899,0.010897327214479,0.068254724144936,-0.043886393308640));
res += mul(Get(s2,dx,dy), float4x4(0.053419966250658,0.075511246919632,0.086910828948021,0.103069677948952,-0.048041205853224,-0.091626137495041,0.005713693797588,-0.040208727121353,-0.099626354873180,0.142523780465126,0.097317934036255,0.056785922497511,-0.059350948780775,0.009729172103107,0.001102151931264,-0.039144221693277));
res += mul(Get(s3,-dx,-dy), float4x4(-0.108313947916031,0.088651016354561,0.063964396715164,0.032541371881962,0.027910651639104,-0.056271262466908,-0.096406839787960,-0.041706327348948,0.084226317703724,-0.023226866498590,-0.044608473777771,0.048387415707111,-0.121104210615158,-0.019755318760872,-0.009901860728860,0.173184886574745));
res += mul(Get(s3,-dx,0), float4x4(-0.014946152456105,0.068862654268742,0.049335036426783,-0.003869000123814,-0.009369803592563,-0.014318400993943,-0.044961124658585,-0.057824864983559,-0.135368436574936,-0.048960790038109,-0.080043032765388,-0.092210449278355,-0.164104998111725,-0.015137984417379,-0.105352587997913,-0.041464589536190));
res += mul(Get(s3,-dx,dy), float4x4(-0.035526085644960,0.008588761091232,0.006033925339580,-0.001153656397946,0.062210388481617,-0.094084471464157,-0.023407699540257,0.053879529237747,-0.120294399559498,-0.022240126505494,-0.019587924703956,-0.072972699999809,-0.060853619128466,-0.030516222119331,-0.018809551373124,-0.066489741206169));
res += mul(Get(s3,0,-dy), float4x4(-0.047580365091562,-0.052782170474529,-0.099666871130466,-0.115858651697636,0.032136499881744,-0.088411360979080,-0.050849754363298,-0.015600294806063,0.016827024519444,-0.044049929827452,0.047214120626450,-0.012818098068237,0.084680490195751,0.059076968580484,-0.065557233989239,0.074415221810341));
res += mul(Get(s3,0,0), float4x4(0.094721086323261,0.051679231226444,-0.003976022824645,0.177402839064598,0.061591889709234,-0.080057427287102,-0.080988183617592,0.084365852177143,-0.094079881906509,-0.098869569599628,0.049303844571114,0.034204374998808,-0.031094757840037,-0.001268991269171,-0.100926004350185,0.049269467592239));
res += mul(Get(s3,0,dy), float4x4(-0.025635151192546,-0.045660182833672,-0.033020276576281,0.055803645402193,0.015215664170682,-0.016760770231485,-0.041486706584692,-0.039497118443251,0.000519110355526,0.039019901305437,-0.028786510229111,0.039168339222670,0.134028762578964,-0.031759198755026,0.063502468168736,-0.059342786669731));
res += mul(Get(s3,dx,-dy), float4x4(0.012379932217300,-0.054988030344248,0.034265626221895,-0.101947657763958,0.091776110231876,-0.079869747161865,-0.025142341852188,0.000448002596386,0.089853808283806,0.145395353436470,0.002820247784257,-0.013193329796195,-0.110359996557236,0.054571002721786,-0.041386235505342,0.082054346799850));
res += mul(Get(s3,dx,0), float4x4(-0.085995219647884,0.102724373340607,0.086846835911274,0.106530956923962,0.115198172628880,-0.075333222746849,-0.133301079273224,-0.169790998101234,0.029035283252597,0.135750949382782,0.116232566535473,-0.033127505332232,0.083986468613148,0.049550674855709,-0.077123761177063,0.015509183518589));
res += mul(Get(s3,dx,dy), float4x4(-0.057592321187258,0.079025626182556,-0.023908287286758,-0.006161327939481,0.008535400032997,-0.045585032552481,0.012299575842917,0.030623150989413,0.013717151246965,-0.019985793158412,0.016760051250458,0.002543210051954,0.024916706606746,-0.023241601884365,0.050625983625650,0.057369239628315));
return max(float4(0,0,0,0), res);
}
