sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042366269975901,0.085604608058929,0.037548158317804,0.089086018502712,0.027081716805696,0.050455302000046,-0.082852780818939,0.040585018694401,-0.083241328597069,-0.046826831996441,-0.013624177314341,-0.126445457339287,-0.037716098129749,0.094078809022903,-0.184129476547241,-0.029689310118556));
res += mul(Get(s0,-dx,0), float4x4(-0.070064269006252,-0.053791224956512,-0.051862284541130,-0.068527780473232,-0.069119229912758,-0.136490672826767,-0.055622689425945,-0.035439699888229,-0.002742367098108,-0.022878266870975,-0.043630331754684,0.036751002073288,-0.010652669705451,-0.114110179245472,-0.040857393294573,-0.006416839081794));
res += mul(Get(s0,-dx,dy), float4x4(0.034592311829329,-0.017646601423621,-0.051381614059210,0.078914329409599,0.012627096846700,0.065865077078342,0.030342385172844,-0.107018299400806,-0.071087442338467,0.154809311032295,-0.129866287112236,-0.087200082838535,0.011774554848671,0.010792228393257,-0.021241072565317,-0.137069880962372));
res += mul(Get(s0,0,-dy), float4x4(-0.116420276463032,0.043280761688948,-0.018476989120245,0.047821447253227,0.017662752419710,0.028857864439487,-0.106349892914295,0.066016808152199,-0.025905579328537,0.006109060719609,-0.096654742956161,-0.042925778776407,-0.114797785878181,-0.017180379480124,-0.099529221653938,-0.015942562371492));
res += mul(Get(s0,0,0), float4x4(0.198471486568451,-0.038016032427549,-0.133845999836922,0.116050004959106,-0.048649106174707,0.007814167998731,-0.008402911014855,0.007051907014102,0.048333622515202,0.149643883109093,0.170596748590469,-0.080294966697693,0.021936191245914,-0.086677722632885,0.034194197505713,-0.046359289437532));
res += mul(Get(s0,0,dy), float4x4(-0.005219279322773,-0.060416940599680,0.004932384472340,0.070402853190899,0.041777227073908,0.133255347609520,-0.079239539802074,0.165972411632538,-0.185464009642601,0.049495089799166,-0.052802402526140,-0.059337425976992,-0.166471287608147,-0.024163763970137,0.117312133312225,-0.076782271265984));
res += mul(Get(s0,dx,-dy), float4x4(0.077522508800030,-0.055983997881413,0.082664519548416,0.069895282387733,-0.108617469668388,0.031844556331635,-0.111856125295162,-0.047925475984812,-0.033818751573563,-0.001045432756655,-0.151259735226631,-0.106117174029350,0.026985980570316,-0.055701207369566,0.037974279373884,0.119386062026024));
res += mul(Get(s0,dx,0), float4x4(0.105041973292828,-0.053839448839426,0.153314411640167,0.133376941084862,0.017962791025639,-0.081628896296024,0.061110556125641,0.197013318538666,0.017296660691500,-0.143061652779579,-0.070119239389896,-0.062780775129795,0.124867171049118,-0.105750478804111,-0.040377743542194,-0.088094197213650));
res += mul(Get(s0,dx,dy), float4x4(0.049157161265612,0.105631344020367,0.153823807835579,0.107315331697464,-0.118131719529629,-0.065387912094593,-0.147578358650208,0.040897946804762,-0.213117077946663,0.062399711459875,-0.042665850371122,-0.003752494696528,-0.088448248803616,-0.113296546041965,0.091528169810772,0.073358871042728));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015440538525581,-0.078216150403023,0.088913060724735,0.024798780679703,-0.011886242777109,-0.048397142440081,0.073573224246502,-0.142164990305901,-0.020208789035678,0.095296204090118,0.143745064735413,-0.034414373338223,0.025465143844485,-0.028183311223984,0.015784166753292,-0.046818573027849));
res += mul(Get(s1,-dx,0), float4x4(0.003179157385603,-0.029418639838696,0.064308814704418,0.071328155696392,0.079023264348507,-0.029634799808264,-0.010657258331776,-0.026740510016680,0.045641705393791,0.002377643482760,0.101775653660297,0.138754338026047,0.027429593726993,0.197253942489624,0.055930122733116,-0.089266180992126));
res += mul(Get(s1,-dx,dy), float4x4(0.196490868926048,-0.003386389696971,-0.047045588493347,0.048937503248453,0.003615714609623,-0.241052716970444,-0.203045845031738,-0.027056999504566,0.032726116478443,-0.044559992849827,0.005345464218408,0.034420248121023,0.211104288697243,-0.076204121112823,0.085815876722336,-0.014357953332365));
res += mul(Get(s1,0,-dy), float4x4(-0.054254360496998,-0.068062677979469,-0.011947313323617,-0.081681102514267,-0.173096984624863,0.113116949796677,-0.035590764135122,0.032316453754902,-0.036028318107128,-0.002113974653184,0.163636311888695,0.026056928560138,-0.119747139513493,0.025859091430902,-0.017197363078594,-0.085188612341881));
res += mul(Get(s1,0,0), float4x4(0.098667077720165,-0.211395472288132,0.039942618459463,-0.023372478783131,-0.098235003650188,-0.055376876145601,-0.178839758038521,-0.020515965297818,0.167309939861298,-0.059058770537376,-0.136114180088043,0.029652690514922,-0.131877526640892,0.000638353521936,-0.056517031043768,0.034577324986458));
res += mul(Get(s1,0,dy), float4x4(0.136431649327278,0.114385969936848,0.021918494254351,0.013874108903110,0.040910027921200,-0.059084180742502,0.016286192461848,0.188403531908989,-0.075895108282566,-0.091993950307369,-0.106556609272957,-0.044790629297495,-0.094864360988140,0.011140958406031,0.154073029756546,0.122905842959881));
res += mul(Get(s1,dx,-dy), float4x4(-0.116428092122078,0.235085517168045,-0.043537847697735,0.207658514380455,0.004256314132363,-0.100568138062954,-0.015562074258924,-0.002925292588770,0.135748088359833,0.096013307571411,0.073245309293270,0.057859901338816,0.067664384841919,0.027271505445242,0.172863289713860,0.064987033605576));
res += mul(Get(s1,dx,0), float4x4(0.142801657319069,0.139391362667084,-0.052604783326387,0.076853789389133,0.020153239369392,-0.157298639416695,-0.012202185578644,0.147094652056694,-0.205274671316147,-0.104254409670830,-0.008968153037131,0.092479780316353,-0.006915624253452,-0.018132142722607,-0.188028112053871,-0.085157126188278));
res += mul(Get(s1,dx,dy), float4x4(0.001959266606718,0.216913968324661,0.042458977550268,0.045398551970720,0.080965444445610,-0.047624398022890,0.081681467592716,0.350535482168198,-0.148528203368187,0.086657218635082,0.001483984058723,-0.042029958218336,-0.017509298399091,0.067193612456322,-0.032784864306450,0.108637541532516));
res += mul(Get(s2,-dx,-dy), float4x4(-0.033940222114325,0.005244167055935,-0.107204183936119,-0.036415196955204,-0.011640059761703,0.023105984553695,-0.049823369830847,-0.195354133844376,0.035352014005184,0.070697337388992,-0.140738993883133,-0.109851993620396,-0.048335216939449,-0.045564953237772,0.168331295251846,-0.052498556673527));
res += mul(Get(s2,-dx,0), float4x4(0.019644049927592,0.006154626607895,0.212833359837532,0.046817831695080,0.054189145565033,-0.045751899480820,0.073345772922039,0.072592027485371,-0.023370966315269,-0.121004894375801,-0.011832079850137,0.057690430432558,-0.074134066700935,0.075670011341572,-0.022893253713846,0.066294759511948));
res += mul(Get(s2,-dx,dy), float4x4(0.191846594214439,-0.145909160375595,-0.167895808815956,-0.024665923789144,-0.003786706365645,-0.168785169720650,0.015808414667845,-0.069340199232101,0.178538814187050,-0.079963088035583,0.013754718005657,-0.059403568506241,0.157234683632851,0.007299591321498,0.056970391422510,0.070194371044636));
res += mul(Get(s2,0,-dy), float4x4(-0.080057770013809,-0.090810529887676,-0.113001957535744,-0.114002011716366,-0.118313312530518,-0.147240266203880,0.021860335022211,0.168136179447174,0.028419552370906,-0.152781829237938,0.151252299547195,-0.139518469572067,0.091105334460735,0.210742592811584,0.061554010957479,-0.197861403226852));
res += mul(Get(s2,0,0), float4x4(0.011420872062445,0.124155551195145,0.075350567698479,0.091960899531841,0.125693231821060,0.218712672591209,0.008521283976734,0.021416939795017,0.167977571487427,-0.076765619218349,-0.013793879188597,0.155151009559631,0.117655366659164,-0.049181595444679,-0.077533736824989,-0.135966300964355));
res += mul(Get(s2,0,dy), float4x4(-0.074074551463127,-0.171098455786705,-0.028419667854905,0.106429815292358,0.094364710152149,-0.145927786827087,-0.173445627093315,0.001357393572107,-0.120624251663685,0.057426594197750,-0.078295320272446,0.005505362991244,-0.097439289093018,-0.124305121600628,-0.183611944317818,-0.020046738907695));
res += mul(Get(s2,dx,-dy), float4x4(0.141024783253670,-0.055952161550522,-0.115078382194042,-0.077304720878601,0.162213429808617,0.031223176047206,-0.131597802042961,-0.055461082607508,-0.072705902159214,0.004408324137330,-0.133782774209976,-0.011055918410420,-0.174507275223732,-0.143532589077950,-0.054880596697330,0.012109096162021));
res += mul(Get(s2,dx,0), float4x4(-0.128597155213356,0.023470370098948,0.038155056536198,0.155220404267311,-0.137703731656075,-0.178156211972237,-0.073043137788773,-0.129304811358452,0.169417396187782,-0.079716429114342,-0.114467658102512,0.095410637557507,0.077159933745861,-0.138173371553421,0.236011430621147,0.105793692171574));
res += mul(Get(s2,dx,dy), float4x4(-0.024569295346737,-0.040187060832977,0.032716140151024,-0.049812495708466,-0.090000301599503,-0.138597980141640,0.046608705073595,-0.093428686261177,-0.008956312201917,0.069751329720020,-0.025635469704866,-0.246142253279686,-0.105844110250473,-0.064752608537674,-0.329632759094238,0.038014959543943));
res += mul(Get(s3,-dx,-dy), float4x4(0.033492397516966,0.082752123475075,-0.031291760504246,0.018243093043566,0.061349406838417,-0.091220989823341,0.197901338338852,0.084512412548065,-0.077292077243328,-0.000236344552832,0.076890341937542,-0.037421781569719,0.053569316864014,-0.052097283303738,-0.193204298615456,-0.022891419008374));
res += mul(Get(s3,-dx,0), float4x4(0.154986426234245,-0.055073581635952,0.097731620073318,-0.052930671721697,-0.079384773969650,-0.030399132519960,-0.036259572952986,-0.020511645823717,-0.144714310765266,0.019012460485101,-0.079646810889244,-0.018896937370300,-0.010390196926892,-0.102314092218876,-0.061448384076357,-0.016573257744312));
res += mul(Get(s3,-dx,dy), float4x4(-0.048155259341002,-0.067838244140148,-0.204934373497963,-0.136857241392136,0.058493476361036,0.099125921726227,-0.048575010150671,-0.048518732190132,0.164355769753456,-0.022890422493219,-0.066558189690113,0.125390782952309,0.000583820336033,-0.067105054855347,-0.117714181542397,0.170857384800911));
res += mul(Get(s3,0,-dy), float4x4(-0.046653773635626,-0.108221679925919,-0.062805555760860,-0.041608851402998,-0.037935204803944,-0.078536719083786,0.036172889173031,-0.215323626995087,0.163916260004044,-0.078452959656715,-0.070864327251911,-0.017377736046910,0.065685600042343,-0.124682195484638,-0.081186525523663,-0.131230115890503));
res += mul(Get(s3,0,0), float4x4(0.119738258421421,0.040449339896441,-0.120765894651413,0.012548948638141,0.116695240139961,0.079806141555309,0.048267155885696,-0.244075015187263,0.155941084027290,0.117587938904762,0.000078822908108,0.065690219402313,0.084428034722805,-0.016770085319877,0.014916323125362,0.146661296486855));
res += mul(Get(s3,0,dy), float4x4(-0.240508720278740,-0.157784700393677,-0.103050082921982,-0.058164712041616,0.075987108051777,-0.079935275018215,0.089017398655415,0.029215943068266,0.041163437068462,0.116819933056831,0.076106958091259,-0.101028874516487,0.011319265700877,0.037290878593922,-0.012888230383396,0.148808047175407));
res += mul(Get(s3,dx,-dy), float4x4(0.141644939780235,-0.133993089199066,-0.239805474877357,-0.064949721097946,-0.080468483269215,0.163841143250465,0.204792469739914,-0.132951378822327,-0.030814116820693,-0.078335404396057,-0.059884306043386,-0.081609770655632,-0.001057164161466,-0.108746729791164,-0.210258752107620,-0.024579258635640));
res += mul(Get(s3,dx,0), float4x4(-0.001571208937094,-0.185621052980423,-0.006857818458229,-0.312296569347382,-0.031122226268053,0.070806905627251,-0.092543207108974,0.023246912285686,0.061391081660986,0.091560371220112,0.096969127655029,0.017219826579094,-0.026736982166767,0.070950902998447,-0.011740310117602,0.012387517839670));
res += mul(Get(s3,dx,dy), float4x4(-0.069367453455925,-0.138744607567787,0.052894081920385,-0.080589532852173,-0.037123847752810,0.107444308698177,0.008750358596444,0.051878783851862,0.027593370527029,0.039811942726374,0.024325260892510,0.077845893800259,-0.129073023796082,0.052007406949997,0.004754771478474,-0.059133697301149));
return max(float4(0,0,0,0), res);
}
