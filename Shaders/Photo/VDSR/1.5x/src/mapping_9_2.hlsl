sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.004105088766664,0.063855834305286,0.172641351819038,-0.042342774569988,-0.106162078678608,0.045459780842066,-0.038176354020834,-0.003783030901104,0.136093989014626,0.000962470949162,0.014781941659749,-0.064754530787468,0.056092616170645,0.071586713194847,-0.031001009047031,0.191824138164520));
res += mul(Get(s0,-dx,0), float4x4(-0.018479036167264,0.004117364529520,-0.183120682835579,0.102018669247627,0.092552073299885,-0.131269946694374,-0.006369384005666,-0.126846551895142,0.094584487378597,-0.033708322793245,-0.186876505613327,0.045285560190678,-0.102850146591663,0.093693844974041,0.063048414885998,0.083607509732246));
res += mul(Get(s0,-dx,dy), float4x4(0.115417875349522,0.013195283710957,0.000546620285604,-0.166119635105133,0.028025165200233,0.116155311465263,-0.123699270188808,-0.016315318644047,0.033333860337734,-0.066267363727093,0.165135800838470,-0.034819021821022,0.060852728784084,0.175367340445518,0.033925097435713,-0.058993417769670));
res += mul(Get(s0,0,-dy), float4x4(0.007702528033406,-0.167620316147804,0.099072515964508,-0.082419462502003,0.009572595357895,-0.043709140270948,-0.004059668630362,-0.121186077594757,-0.042236305773258,0.014720719307661,0.066896155476570,-0.157672286033630,0.093520328402519,0.086157418787479,0.161999762058258,0.049244273453951));
res += mul(Get(s0,0,0), float4x4(0.063974939286709,0.018384253606200,-0.024112654849887,0.099437810480595,0.167047634720802,-0.010476425290108,0.165412828326225,-0.032377820461988,-0.096195854246616,0.034726198762655,0.007810478564352,-0.055040910840034,-0.006407923530787,0.053424496203661,-0.124841205775738,-0.117188259959221));
res += mul(Get(s0,0,dy), float4x4(0.087836079299450,-0.114599719643593,-0.133889272809029,-0.093406297266483,0.034171901643276,0.056211423128843,-0.131528183817863,0.089673742651939,-0.005393474362791,0.130606651306152,0.017983488738537,-0.052308663725853,0.028769684955478,-0.047775246202946,0.031344652175903,0.065367825329304));
res += mul(Get(s0,dx,-dy), float4x4(0.078168958425522,0.103505432605743,-0.054567497223616,0.075496658682823,-0.078184768557549,0.180392131209373,0.066685594618320,-0.066051296889782,-0.006403382867575,-0.127265840768814,-0.064736455678940,-0.027814064174891,-0.030278496444225,0.020625134930015,0.073989436030388,-0.011638406664133));
res += mul(Get(s0,dx,0), float4x4(0.072175100445747,-0.077144145965576,-0.010934780351818,-0.098755836486816,0.017898367717862,-0.204217210412025,0.094444885849953,-0.109678909182549,0.079307265579700,-0.069740131497383,0.088974304497242,0.065222628414631,-0.042768880724907,0.010291579179466,-0.040537938475609,0.000456223729998));
res += mul(Get(s0,dx,dy), float4x4(-0.042549218982458,0.138855203986168,0.148833990097046,-0.121832266449928,-0.115552671253681,-0.035147424787283,-0.190980464220047,-0.031908348202705,0.004283371381462,0.023546423763037,0.177259147167206,0.024451570585370,0.030168650671840,0.037427440285683,-0.105175726115704,0.090725235641003));
res += mul(Get(s1,-dx,-dy), float4x4(-0.069432631134987,-0.022100789472461,-0.026466561481357,-0.085118636488914,0.092165350914001,0.020942956209183,-0.065684899687767,0.030196132138371,0.019923487678170,0.032910682260990,-0.023424128070474,0.027703957632184,0.182971775531769,-0.217206463217735,0.172201737761497,-0.016673671081662));
res += mul(Get(s1,-dx,0), float4x4(0.159505575895309,-0.017796028405428,-0.008612597361207,-0.099507980048656,0.056516733020544,0.041432112455368,0.099167056381702,-0.019982296973467,0.043774653226137,0.090780779719353,0.099986232817173,0.014943683519959,0.120582841336727,-0.137506037950516,0.005527574568987,0.039838965982199));
res += mul(Get(s1,-dx,dy), float4x4(0.099483259022236,0.183737099170685,-0.138016998767853,-0.079601928591728,0.122428752481937,-0.003321383846924,0.122616328299046,-0.015299323014915,0.016026919707656,0.200141981244087,-0.034452941268682,0.002622246975079,0.025674648582935,0.005290820728987,-0.227212280035019,0.001870780833997));
res += mul(Get(s1,0,-dy), float4x4(0.074150279164314,0.105685710906982,0.004561152309179,0.025135803967714,0.077247276902199,0.059667639434338,-0.036646280437708,-0.198983266949654,0.274496376514435,0.228609800338745,-0.062180057168007,-0.136175855994225,-0.161045745015144,0.225433886051178,0.009560156613588,-0.023945830762386));
res += mul(Get(s1,0,0), float4x4(0.252419501543045,-0.054482799023390,0.047526475042105,0.016480771824718,-0.136687263846397,0.147759050130844,0.025230355560780,-0.161559119820595,-0.088162936270237,-0.136703535914421,0.103437356650829,-0.034384541213512,-0.153565600514412,-0.085480570793152,0.043254967778921,0.038204561918974));
res += mul(Get(s1,0,dy), float4x4(0.016096854582429,0.041726600378752,0.127956598997116,-0.057217691093683,-0.199901059269905,0.001219697529450,0.080243378877640,-0.118530869483948,0.010668085888028,0.018842477351427,0.035432592034340,-0.012035241350532,0.052330538630486,0.032912164926529,0.005436526145786,0.012919537723064));
res += mul(Get(s1,dx,-dy), float4x4(-0.088395878672600,0.294979423284531,-0.054712567478418,0.004432610236108,-0.169880717992783,0.079931490123272,0.016560737043619,-0.068222828209400,0.012351060286164,-0.036493409425020,0.056128688156605,-0.056771103292704,0.080450527369976,-0.086864419281483,0.076661095023155,-0.084121555089951));
res += mul(Get(s1,dx,0), float4x4(-0.006213362794369,0.000435586931417,-0.000582255830523,0.060559201985598,-0.035123154520988,-0.064629919826984,-0.058931674808264,-0.077462926506996,-0.062568575143814,-0.050413347780704,-0.007419852539897,0.078101888298988,-0.063794247806072,0.109755709767342,-0.019821871072054,-0.081746906042099));
res += mul(Get(s1,dx,dy), float4x4(-0.050366122275591,-0.042320810258389,0.041771538555622,-0.075565822422504,0.016519075259566,-0.105248421430588,-0.134716331958771,0.105258725583553,-0.059703834354877,0.014133226126432,-0.002210354665294,0.019147045910358,-0.034639090299606,0.145020991563797,-0.000771926832385,-0.005475557874888));
res += mul(Get(s2,-dx,-dy), float4x4(0.086947411298752,0.023474540561438,-0.027210863307118,0.109716929495335,0.017626151442528,-0.116561785340309,0.038973644375801,0.027284538373351,0.037658918648958,0.152029737830162,-0.045223604887724,-0.053817842155695,-0.033855363726616,0.116527676582336,0.014806652441621,0.044216498732567));
res += mul(Get(s2,-dx,0), float4x4(0.089658915996552,0.046113833785057,-0.052894979715347,0.030785739421844,0.055646952241659,0.081504531204700,0.013241634704173,-0.031576924026012,-0.027199784293771,0.245930701494217,-0.155228719115257,0.146660074591637,0.034037668257952,-0.093721896409988,0.053606741130352,-0.007964931428432));
res += mul(Get(s2,-dx,dy), float4x4(0.066024251282215,0.152151614427567,-0.089394882321358,-0.201727464795113,0.258702278137207,-0.087619125843048,0.041542641818523,0.049249205738306,0.121614493429661,-0.019604189321399,0.091532461345196,-0.060241315513849,0.017917161807418,-0.008804157376289,-0.042018909007311,0.124556370079517));
res += mul(Get(s2,0,-dy), float4x4(-0.087444029748440,-0.090903751552105,-0.051729578524828,0.080979950726032,-0.044641565531492,0.047541849315166,0.003775201737881,0.032564032822847,0.163742005825043,0.066051505506039,-0.037466734647751,-0.125374108552933,0.019043298438191,0.043431088328362,0.132280573248863,0.060222197324038));
res += mul(Get(s2,0,0), float4x4(0.065793544054031,-0.074649885296822,-0.072814978659153,0.007883406244218,-0.014703257940710,0.184217974543571,0.047924876213074,-0.007008033338934,-0.143591895699501,-0.041979879140854,-0.071874789893627,-0.047541946172714,-0.108900539577007,-0.180788651108742,0.062926471233368,0.059850148856640));
res += mul(Get(s2,0,dy), float4x4(-0.039326809346676,-0.027039937674999,-0.036553267389536,0.042001426219940,0.035541281104088,0.086334824562073,0.129083245992661,0.075787000358105,0.100990571081638,0.040120229125023,0.100948125123978,-0.070000387728214,0.179073587059975,0.020178046077490,-0.100097186863422,-0.003524949308485));
res += mul(Get(s2,dx,-dy), float4x4(-0.026507187634706,-0.101746946573257,0.009849620051682,-0.005901281256229,-0.077352270483971,0.007008347660303,-0.010793195106089,-0.006922307889909,0.123235531151295,0.121259525418282,0.039658676832914,0.053705435246229,0.002663390710950,-0.110565602779388,-0.050296086817980,0.168322473764420));
res += mul(Get(s2,dx,0), float4x4(-0.018699983134866,0.047255840152502,0.091026894748211,0.003999491687864,0.045260611921549,0.137100920081139,-0.149892121553421,0.145347788929939,0.217006877064705,-0.152492403984070,-0.073113277554512,0.047261480242014,0.218520030379295,-0.096703290939331,0.124917365610600,0.063365548849106));
res += mul(Get(s2,dx,dy), float4x4(0.034012090414762,0.037689566612244,0.076448634266853,-0.042517982423306,-0.019467864185572,-0.066894240677357,-0.117580629885197,0.014688959345222,0.137094855308533,0.134546920657158,0.017387673258781,-0.040786541998386,0.065854907035828,-0.117129527032375,-0.098992973566055,0.005047042388469));
res += mul(Get(s3,-dx,-dy), float4x4(0.000224257120863,-0.075170971453190,0.162788331508636,-0.001292736385949,0.009941319003701,-0.047222882509232,0.025312451645732,0.020317843183875,-0.066419735550880,-0.073221191763878,0.044370006769896,-0.014903161674738,0.127893969416618,-0.053732085973024,0.089602649211884,0.189447581768036));
res += mul(Get(s3,-dx,0), float4x4(-0.038900528103113,0.036576792597771,-0.072551749646664,-0.048766832798719,0.033916834741831,-0.074215732514858,0.097313895821571,-0.044620193541050,-0.025748353451490,0.002248945413157,0.030151573941112,0.000244499038672,0.164300665259361,0.010883032344282,-0.014534982852638,0.082457609474659));
res += mul(Get(s3,-dx,dy), float4x4(0.002707808045670,-0.082952089607716,0.067463979125023,-0.173114269971848,0.032084330916405,0.064833417534828,-0.172975525259972,-0.011909034103155,-0.062512546777725,-0.001709695323370,-0.012655140832067,0.011719305999577,-0.098907098174095,-0.105604618787766,-0.047248817980289,0.035415939986706));
res += mul(Get(s3,0,-dy), float4x4(-0.139917448163033,0.157943636178970,0.073316007852554,0.039595253765583,-0.006011004559696,-0.059900470077991,0.030723605304956,0.109754167497158,-0.128657609224319,-0.020265553146601,-0.170869484543800,0.069443069398403,-0.106528803706169,-0.120794333517551,0.009581904858351,0.008104348555207));
res += mul(Get(s3,0,0), float4x4(-0.007270326837897,-0.051791500300169,0.090023659169674,0.079010188579559,-0.037798650562763,-0.043424598872662,0.036147676408291,-0.025870986282825,0.107444934546947,-0.040940605103970,-0.103151760995388,-0.038518905639648,0.129644095897675,0.158519640564919,0.038864042609930,0.013848599046469));
res += mul(Get(s3,0,dy), float4x4(-0.040728203952312,-0.034477662295103,-0.158132851123810,0.210402175784111,-0.140109837055206,-0.143686637282372,-0.149253576993942,0.139566943049431,-0.054140429943800,0.014107596129179,0.101931557059288,-0.014740498736501,0.129396140575409,0.191419914364815,0.157985582947731,0.039737403392792));
res += mul(Get(s3,dx,-dy), float4x4(0.012040884234011,-0.030118722468615,-0.073843985795975,0.062211815267801,0.037622533738613,0.121818862855434,-0.191991165280342,-0.046113397926092,0.087475121021271,-0.056674696505070,-0.034292768687010,-0.060782603919506,-0.051244065165520,-0.045883491635323,-0.091489024460316,0.175552383065224));
res += mul(Get(s3,dx,0), float4x4(-0.087634794414043,-0.048945572227240,0.051316305994987,0.092288501560688,0.039001304656267,-0.025278562679887,0.057929534465075,-0.036993119865656,-0.013982607051730,0.025712208822370,0.004885409492999,0.013772095553577,0.139732167124748,-0.000607199384831,-0.134605035185814,0.007997196167707));
res += mul(Get(s3,dx,dy), float4x4(0.094661220908165,0.080395288765430,-0.063815146684647,0.152169227600098,-0.016701415181160,-0.003269600216299,0.085208572447300,-0.117247253656387,0.032452244311571,0.075060456991196,0.027223885059357,0.014443939551711,0.116221845149994,-0.025260586291552,-0.129590526223183,-0.054415460675955));
return max(float4(0,0,0,0), res);
}
