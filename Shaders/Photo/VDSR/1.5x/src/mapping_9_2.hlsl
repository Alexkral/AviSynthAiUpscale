sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.065312594175339,-0.025271778926253,-0.108192577958107,0.100601121783257,-0.008064277470112,0.019968798384070,-0.031425453722477,-0.074653163552284,-0.004590956959873,0.024298671633005,0.036793701350689,0.116974137723446,0.043436616659164,-0.162800282239914,-0.022396707907319,0.018870858475566));
res += mul(Get(s0,-dx,0), float4x4(0.149789348244667,0.012253939174116,-0.079511530697346,-0.062567546963692,0.025971088558435,0.072949670255184,-0.026304434984922,-0.035501100122929,0.012816473841667,0.039803382009268,0.021762436255813,-0.043489135801792,0.172850638628006,0.008670450188220,-0.034257184714079,-0.100808806717396));
res += mul(Get(s0,-dx,dy), float4x4(0.029764734208584,0.039061389863491,-0.132673799991608,0.076872892677784,-0.036609910428524,-0.031712576746941,-0.073660768568516,-0.052618134766817,-0.017735304310918,-0.017461942508817,-0.013835313729942,-0.052563421428204,0.139802366495132,-0.014011790975928,-0.019628779962659,0.037817943841219));
res += mul(Get(s0,0,-dy), float4x4(0.044367313385010,-0.004138138610870,-0.005692454986274,0.040489852428436,0.014636632986367,-0.125507593154907,0.123015649616718,0.091403707861900,0.151764675974846,-0.063717745244503,-0.034289244562387,-0.023512139916420,0.027735974639654,0.075286336243153,0.049701713025570,0.025819404050708));
res += mul(Get(s0,0,0), float4x4(0.017440944910049,-0.012171185575426,-0.037090539932251,-0.056899718940258,-0.098061531782150,-0.158552944660187,0.140316545963287,0.017757831141353,0.084592565894127,-0.068222478032112,0.007096440996975,0.053347539156675,0.049481738358736,0.017925899475813,0.016479747369885,0.002601833548397));
res += mul(Get(s0,0,dy), float4x4(0.066203393042088,0.021294474601746,0.046802606433630,-0.007678711786866,0.044784430414438,-0.003389952937141,0.050699930638075,-0.115331962704659,-0.059165671467781,0.012533134780824,0.005354468245059,0.019144343212247,0.040530912578106,0.033353783190250,0.064160920679569,-0.033866588026285));
res += mul(Get(s0,dx,-dy), float4x4(0.016915684565902,0.011791804805398,0.021838327869773,0.079649820923805,-0.005632536485791,0.003159065963700,0.033430214971304,0.028506685048342,0.118625871837139,0.004076535347849,-0.085641182959080,-0.013170132413507,-0.000879881554283,-0.010251671075821,0.028324013575912,0.030452180653811));
res += mul(Get(s0,dx,0), float4x4(-0.058685909956694,0.036461144685745,0.076170690357685,0.065197736024857,-0.058297328650951,-0.032291345298290,-0.087010271847248,0.039799604564905,0.143179759383202,-0.023372111842036,-0.012267248705029,0.017333790659904,0.009065205231309,-0.062797367572784,-0.027070801705122,0.083200387656689));
res += mul(Get(s0,dx,dy), float4x4(0.041702825576067,0.035991031676531,0.063411109149456,-0.006972700357437,-0.034526791423559,-0.048619620501995,0.020241461694241,0.001246816478670,-0.032936390489340,0.005632600747049,0.032987844198942,0.038405988365412,0.034993778914213,-0.009699963033199,-0.047581851482391,0.020645551383495));
res += mul(Get(s1,-dx,-dy), float4x4(-0.025989655405283,-0.053247883915901,0.035624049603939,-0.003400128101930,0.035252604633570,0.149730145931244,0.039645116776228,-0.009059148840606,0.033158197999001,-0.118552044034004,0.106491781771183,0.012867577373981,-0.023783992975950,-0.035626765340567,0.015669224783778,0.033926125615835));
res += mul(Get(s1,-dx,0), float4x4(0.049387596547604,0.017442494630814,0.139979168772697,-0.024586230516434,0.067418046295643,0.203012302517891,0.024163855239749,-0.019432116299868,-0.097486324608326,-0.110940746963024,-0.036465216428041,0.019064938649535,0.004040682222694,0.104568324983120,-0.059173472225666,0.071694090962410));
res += mul(Get(s1,-dx,dy), float4x4(-0.004847753793001,0.041004095226526,0.085364423692226,0.035412319004536,0.042580690234900,0.061568278819323,0.015624533407390,-0.078926518559456,-0.078809082508087,0.037868689745665,-0.094296455383301,-0.026273008435965,-0.067453861236572,0.007515755482018,-0.005156762897968,-0.067522622644901));
res += mul(Get(s1,0,-dy), float4x4(-0.047465629875660,0.116679936647415,-0.115952067077160,0.025471039116383,-0.053969804197550,-0.065497241914272,-0.010585905984044,0.116678901016712,0.084262020885944,-0.145385086536407,-0.037977520376444,0.126459062099457,0.123818792402744,-0.042758114635944,0.028046678751707,-0.055461663752794));
res += mul(Get(s1,0,0), float4x4(0.015630709007382,0.060773916542530,-0.063791319727898,0.283354699611664,0.042462684214115,0.015352291055024,-0.006939193699509,0.192609176039696,-0.000955212686677,-0.075032144784927,0.160177171230316,-0.014166876673698,0.022454855963588,0.098289802670479,0.089500606060028,0.211777806282043));
res += mul(Get(s1,0,dy), float4x4(-0.059753388166428,0.087448813021183,-0.093948066234589,-0.018734140321612,-0.006667473353446,0.069481477141380,0.014709191396832,0.081355147063732,0.089158467948437,0.042921926826239,0.027683073654771,-0.084676861763000,0.060148771852255,0.090816333889961,-0.002378337550908,-0.025986809283495));
res += mul(Get(s1,dx,-dy), float4x4(0.055411748588085,-0.010484649799764,0.060543857514858,0.002420062664896,-0.002341370098293,0.047467116266489,-0.052512545138597,0.008707137778401,0.032488685101271,-0.060390707105398,-0.003639915725216,0.077735960483551,-0.057735022157431,-0.046857677400112,-0.001026643905789,0.063432052731514));
res += mul(Get(s1,dx,0), float4x4(0.067960724234581,-0.060687739402056,-0.008009992539883,-0.102424666285515,0.040989790111780,0.077110767364502,-0.051306724548340,-0.015478310175240,0.076833851635456,0.049257803708315,-0.036387491971254,0.137528449296951,0.014130548574030,0.151777938008308,-0.044330142438412,0.034981977194548));
res += mul(Get(s1,dx,dy), float4x4(0.010906512849033,0.095740169286728,0.022793633863330,-0.107753738760948,0.018125832080841,0.015495202504098,0.001335572800599,0.013511154800653,0.021708525717258,-0.050937652587891,0.021737594157457,0.105918735265732,-0.017837725579739,0.028863236308098,-0.058969158679247,0.007385932374746));
res += mul(Get(s2,-dx,-dy), float4x4(-0.013171842321754,0.113029681146145,-0.039374589920044,-0.029993014410138,0.139596119523048,-0.066345892846584,-0.038099952042103,0.139455333352089,0.048760592937469,0.059685479849577,0.013169119134545,-0.062390383332968,0.134620904922485,-0.008001217618585,-0.122119583189487,0.010571425780654));
res += mul(Get(s2,-dx,0), float4x4(0.037333507090807,0.122902192175388,0.097036309540272,0.063477747142315,-0.052734967321157,0.043392624706030,-0.032167587429285,0.071872733533382,0.061838403344154,0.059463057667017,-0.024852320551872,-0.027819067239761,-0.217595592141151,-0.031324844807386,-0.156340539455414,-0.028919557109475));
res += mul(Get(s2,-dx,dy), float4x4(0.048412371426821,-0.012840635143220,0.056795410811901,-0.047493781894445,-0.026387460529804,-0.041048862040043,-0.029064642265439,0.042164281010628,0.006825850810856,0.008072251453996,-0.014313451945782,-0.033415168523788,-0.149653434753418,-0.015096236020327,-0.100227698683739,0.045725647360086));
res += mul(Get(s2,0,-dy), float4x4(-0.039447568356991,0.159162133932114,0.069714963436127,-0.017658408731222,0.121847055852413,0.019042810425162,0.048208396881819,0.192642167210579,0.002427939558402,-0.023339847102761,0.035746514797211,0.064259357750416,-0.049784459173679,-0.021751718595624,0.063766069710255,-0.061644397675991));
res += mul(Get(s2,0,0), float4x4(-0.063877314329147,0.192349642515182,-0.077284537255764,-0.079887263476849,0.078066334128380,0.162785902619362,0.008506800979376,-0.044955831021070,-0.085650391876698,0.086300060153008,0.055535439401865,-0.016348753124475,0.041380412876606,-0.000502275768667,0.268935203552246,-0.081330887973309));
res += mul(Get(s2,0,dy), float4x4(-0.082978084683418,-0.036691445857286,-0.030847838148475,-0.006325086578727,0.078841574490070,0.071748279035091,-0.033142827451229,-0.015763878822327,-0.123946294188499,-0.053168449550867,0.038217280060053,0.112016908824444,0.054926652461290,0.045129612088203,0.162283346056938,0.054279398173094));
res += mul(Get(s2,dx,-dy), float4x4(-0.009661465883255,0.002669618930668,-0.101364977657795,0.082258686423302,0.029400965198874,-0.053138326853514,0.006625092588365,-0.046023655682802,-0.008270029909909,0.001358185894787,-0.003293046960607,0.088441461324692,0.024241251870990,-0.013787532225251,-0.087848544120789,0.027217037975788));
res += mul(Get(s2,dx,0), float4x4(-0.037697181105614,-0.019185680896044,0.014458670280874,-0.007178229279816,-0.000451250234619,-0.019223226234317,0.055453497916460,-0.048686038702726,-0.029358457773924,-0.003807415720075,-0.014763602986932,0.056307315826416,0.082755811512470,0.016719192266464,-0.235356122255325,0.105112321674824));
res += mul(Get(s2,dx,dy), float4x4(-0.033606629818678,0.043420184403658,0.024041630327702,0.012223280034959,-0.102008014917374,-0.043310120701790,0.060868434607983,-0.044051729142666,-0.039444442838430,-0.087475582957268,-0.018511246889830,0.041123438626528,0.045052222907543,0.014672597870231,-0.173597931861877,-0.026763077825308));
res += mul(Get(s3,-dx,-dy), float4x4(0.043072722852230,-0.025189217180014,-0.011926882900298,-0.010400325991213,-0.086236588656902,-0.079641744494438,-0.056788668036461,-0.088099278509617,-0.032677367329597,-0.034567028284073,0.001244815532118,-0.065426632761955,-0.052478026598692,0.061762031167746,-0.009181063622236,-0.044070068746805));
res += mul(Get(s3,-dx,0), float4x4(-0.023807691410184,0.100087210536003,0.032535884529352,-0.050122864544392,0.137585923075676,0.014484610408545,-0.100033693015575,-0.098130956292152,0.010370258241892,0.071456409990788,0.021383970975876,-0.024454150348902,-0.003066080156714,-0.034467570483685,0.034520860761404,-0.020278658717871));
res += mul(Get(s3,-dx,dy), float4x4(0.060210254043341,-0.007812308147550,-0.016926998272538,0.046504344791174,-0.035848602652550,-0.090883739292622,-0.099036350846291,-0.025536153465509,0.030661471188068,-0.057976186275482,0.021569972857833,0.007007380947471,0.011726723983884,-0.058042034506798,0.054549023509026,-0.059064738452435));
res += mul(Get(s3,0,-dy), float4x4(0.050221931189299,-0.022551728412509,0.008290393278003,0.022163523361087,-0.012596768327057,-0.095428086817265,0.069171927869320,-0.005108352750540,-0.028340432792902,0.045648667961359,-0.062115851789713,-0.020635252818465,0.006501005031168,0.002331110415980,0.037760328501463,0.187007948756218));
res += mul(Get(s3,0,0), float4x4(0.009848004207015,0.011672543361783,0.058778490871191,0.073762342333794,0.032223831862211,-0.031194945797324,0.173484861850739,0.093622162938118,0.141710281372070,0.070725016295910,-0.023274814710021,-0.123442023992538,0.242793962359428,-0.015823654830456,-0.042003083974123,-0.080646999180317));
res += mul(Get(s3,0,dy), float4x4(0.215326309204102,0.088584929704666,-0.029374862089753,-0.002268502255902,-0.130099147558212,-0.035663712769747,0.053979985415936,0.014348427765071,0.082707948982716,0.011168573983014,0.010886034928262,0.036060705780983,0.099209755659103,-0.056915827095509,0.125322431325912,0.152101978659630));
res += mul(Get(s3,dx,-dy), float4x4(-0.049619711935520,0.042025722563267,-0.043612502515316,-0.011139916256070,-0.031783085316420,-0.048536859452724,0.076387777924538,0.031902506947517,0.022275000810623,-0.017734341323376,0.006036782637239,0.100611001253128,-0.047970157116652,0.043758403509855,-0.054876476526260,0.059874165803194));
res += mul(Get(s3,dx,0), float4x4(0.032168835401535,-0.017958467826247,0.010898213833570,0.080803371965885,-0.010084315203130,-0.018988993018866,0.017144724726677,0.011291738599539,0.050753805786371,0.014172657392919,0.016138328239322,0.085540547966957,-0.032824799418449,-0.072277382016182,-0.079869933426380,-0.007487367372960));
res += mul(Get(s3,dx,dy), float4x4(-0.009515269659460,-0.020248239859939,0.075071312487125,0.068987339735031,0.023026155307889,-0.018725452944636,0.005429639015347,-0.071267686784267,-0.010563167743385,0.007300292607397,0.045122202485800,0.066027559340000,0.096196033060551,0.029416562989354,-0.126471057534218,0.009627582505345));
return max(float4(0,0,0,0), res);
}
