sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.161123633384705,-0.082036919891834,0.098544970154762,0.045185599476099) * Get(-dx,-dy);
res += float4(-0.063471481204033,-0.251203894615173,-0.223335236310959,-0.110798731446266) * Get(-dx,0);
res += float4(0.549705207347870,0.070457279682159,-0.019626803696156,-0.130390092730522) * Get(-dx,dy);
res += float4(-0.086099304258823,-0.303132802248001,-0.466649264097214,0.155966699123383) * Get(0,-dy);
res += float4(0.028865734115243,-0.370302200317383,1.864784359931946,-0.123488172888756) * Get(0,0);
res += float4(0.265114575624466,0.047858245670795,-0.063171476125717,-0.282894313335419) * Get(0,dy);
res += float4(-0.094316199421883,0.153958708047867,0.193703040480614,0.296207487583160) * Get(dx,-dy);
res += float4(-0.187503054738045,0.169676601886749,-0.284397661685944,0.110474310815334) * Get(dx,0);
res += float4(0.063514344394207,0.306851953268051,0.055190414190292,-0.084637701511383) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
