sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.027579162269831,-0.074630446732044,-0.038353003561497,0.025279382243752,0.027766549959779,0.081455074250698,0.097973577678204,0.081627063453197,0.038472998887300,-0.030682735145092,-0.030236897990108,0.018339192494750,0.025537708774209,0.083263970911503,0.183192133903503,-0.098016895353794));
res += mul(Get(s0,-dx,0), float4x4(-0.042319163680077,0.136941909790039,-0.032559681683779,0.029600532725453,-0.054502096027136,-0.042922466993332,-0.004488640464842,-0.062160082161427,-0.030613383278251,0.011347400024533,0.182737618684769,-0.036920860409737,-0.120058797299862,-0.062611103057861,0.046551566570997,0.046280551701784));
res += mul(Get(s0,-dx,dy), float4x4(0.099175654351711,0.090162694454193,-0.090242452919483,-0.135898053646088,-0.021683145314455,0.007850661873817,0.150425657629967,0.095639087259769,0.104959979653358,-0.013861996121705,-0.076100632548332,-0.004550714045763,-0.018841825425625,-0.099428847432137,0.049914568662643,0.070489354431629));
res += mul(Get(s0,0,-dy), float4x4(0.137243092060089,0.083133883774281,0.008314289152622,-0.049296703189611,0.109437003731728,-0.115609988570213,-0.061971366405487,0.012360895052552,0.129498377442360,-0.146817535161972,0.006362630054355,-0.138508260250092,0.091563038527966,-0.094484813511372,0.229784920811653,-0.070884540677071));
res += mul(Get(s0,0,0), float4x4(0.014630853198469,-0.085695989429951,0.272071093320847,-0.019856972619891,-0.038324341177940,-0.120988793671131,0.050754446536303,-0.166334018111229,0.177638053894043,0.040391258895397,0.256110370159149,-0.044013585895300,-0.017761686816812,0.066670909523964,0.007774909026921,-0.047565549612045));
res += mul(Get(s0,0,dy), float4x4(-0.194373041391373,-0.117560453712940,0.147227793931961,0.011467195115983,0.086355052888393,0.005216562654823,0.136856645345688,0.040725506842136,-0.114352978765965,0.183462172746658,0.071547903120518,0.067837134003639,-0.184526547789574,-0.044244255870581,-0.021427648141980,0.015651553869247));
res += mul(Get(s0,dx,-dy), float4x4(0.027861975133419,0.063575409352779,0.063848964869976,-0.039776157587767,0.251808136701584,-0.007675654254854,0.081562682986259,-0.009063244797289,-0.129979863762856,0.042671009898186,-0.125427141785622,-0.126510694622993,0.057514410465956,-0.040712397545576,-0.021356536075473,0.023230180144310));
res += mul(Get(s0,dx,0), float4x4(-0.098235346376896,-0.034476529806852,-0.187553405761719,0.072904460132122,-0.120063707232475,-0.030467569828033,0.128628253936768,0.082558438181877,-0.018204743042588,0.213650092482567,0.004541709553450,-0.265560597181320,0.062582641839981,-0.020914169028401,0.046384729444981,-0.056500926613808));
res += mul(Get(s0,dx,dy), float4x4(0.071697726845741,0.036768905818462,-0.066354185342789,-0.136600762605667,0.016704870387912,0.080549031496048,0.213391512632370,0.053424458950758,0.005714601371437,0.084926493465900,0.023520449176431,-0.048483248800039,-0.157770022749901,0.055791955441236,0.198926255106926,0.069715172052383));
res += mul(Get(s1,-dx,-dy), float4x4(-0.059066034853458,0.144698783755302,0.079800784587860,0.111191160976887,-0.089825786650181,-0.093538902699947,-0.011907200329006,-0.006917760707438,-0.160830423235893,-0.029289077967405,0.162942633032799,-0.156186997890472,0.099243566393852,-0.069961011409760,0.038771800696850,0.015613961033523));
res += mul(Get(s1,-dx,0), float4x4(-0.261155694723129,0.120032049715519,-0.135333791375160,-0.053154923021793,-0.109208881855011,-0.094998136162758,-0.122608214616776,0.002222961280495,-0.060854967683554,0.002291531302035,0.120678700506687,0.052541095763445,-0.001443726941943,-0.210392311215401,0.040742505341768,0.094674296677113));
res += mul(Get(s1,-dx,dy), float4x4(0.066784344613552,-0.134519815444946,0.086831487715244,0.027061795815825,0.060109492391348,0.044495310634375,-0.008400212973356,0.156112432479858,-0.003260528901592,0.089846938848495,0.024667546153069,0.054770451039076,0.081632710993290,0.044451616704464,0.160128057003021,0.062706433236599));
res += mul(Get(s1,0,-dy), float4x4(0.171467140316963,-0.155358046293259,0.223002225160599,0.065613530576229,0.032622676342726,-0.090412683784962,0.128774836659431,-0.101901620626450,-0.115647234022617,-0.198791384696960,0.039061322808266,-0.067616038024426,0.040197793394327,-0.006173566449434,0.104417711496353,0.026752183213830));
res += mul(Get(s1,0,0), float4x4(0.261535942554474,0.079581454396248,0.097932361066341,-0.135253906250000,0.118175365030766,0.235444873571396,0.090232565999031,0.061311807483435,-0.085930384695530,-0.155194655060768,0.164072439074516,0.062865801155567,-0.171975940465927,-0.038642782717943,0.181284785270691,-0.140605881810188));
res += mul(Get(s1,0,dy), float4x4(-0.103732489049435,-0.176289841532707,0.020403178408742,-0.028930541127920,-0.205417305231094,-0.007895326241851,0.146152451634407,-0.003794478485361,0.012332638725638,-0.038502231240273,-0.027178861200809,0.076736301183701,-0.035401996225119,0.073375754058361,0.198318511247635,0.062654778361320));
res += mul(Get(s1,dx,-dy), float4x4(-0.089140988886356,0.012332393787801,-0.042262516915798,0.021335288882256,-0.130352929234505,0.009029372595251,-0.121256843209267,-0.042407430708408,-0.034987717866898,0.064321763813496,0.007220025174320,-0.107897952198982,-0.012211008928716,-0.185650631785393,0.033993825316429,-0.073505841195583));
res += mul(Get(s1,dx,0), float4x4(0.102430850267410,0.044263437390327,0.032432284206152,0.089558057487011,-0.035406354814768,0.106352731585503,0.136349126696587,-0.002134068403393,0.047333877533674,0.056113351136446,0.018698979169130,-0.091747276484966,0.097377695143223,-0.058743871748447,-0.107721760869026,-0.011856663040817));
res += mul(Get(s1,dx,dy), float4x4(0.063552595674992,-0.171557173132896,-0.211554750800133,-0.151322394609451,0.214593544602394,0.156087756156921,0.044691931456327,0.076830789446831,0.000538802822120,-0.115769781172276,-0.126551508903503,0.004768480081111,-0.049758765846491,-0.006998874712735,0.169530794024467,0.147199153900146));
res += mul(Get(s2,-dx,-dy), float4x4(-0.011091129854321,0.160809159278870,-0.063688628375530,0.048985775560141,0.042290601879358,-0.060517586767673,-0.050817921757698,-0.160877108573914,0.024668335914612,-0.031500156968832,-0.043010748922825,0.007939631119370,0.053390961140394,0.195408478379250,-0.079613223671913,0.084614433348179));
res += mul(Get(s2,-dx,0), float4x4(0.013253360986710,0.001020130934194,0.218343406915665,0.023370122537017,0.025619301944971,0.053802318871021,-0.101552300155163,-0.056638997048140,0.089782088994980,-0.029968641698360,0.017578190192580,-0.040627822279930,0.155679151415825,-0.007689351681620,0.020994288846850,0.099176086485386));
res += mul(Get(s2,-dx,dy), float4x4(-0.096424840390682,0.015883402898908,-0.050702057778835,-0.026865504682064,0.025092182680964,0.000601670646574,0.003147353418171,0.139879629015923,0.062290895730257,-0.129108995199203,0.104744300246239,-0.004181098192930,-0.032176915556192,0.062366496771574,0.057079959660769,-0.045270711183548));
res += mul(Get(s2,0,-dy), float4x4(-0.068809717893600,0.092703685164452,-0.088037319481373,-0.202007845044136,-0.029982106760144,0.109249748289585,0.023239955306053,-0.058866798877716,0.047724146395922,0.039021957665682,0.020645027980208,-0.049030605703592,0.073822714388371,0.075215846300125,0.006701501552016,0.121154524385929));
res += mul(Get(s2,0,0), float4x4(-0.026931062340736,-0.071178831160069,0.279234945774078,-0.093386530876160,0.139553859829903,-0.095711357891560,0.036173585802317,-0.170710876584053,-0.064271509647369,-0.003221268299967,-0.056608177721500,0.193906009197235,0.119882777333260,0.150706782937050,0.008159153163433,-0.080010376870632));
res += mul(Get(s2,0,dy), float4x4(0.024960367009044,0.277271986007690,-0.177226364612579,-0.115202352404594,0.016082793474197,-0.089504562318325,0.092127650976181,-0.097446806728840,0.072994306683540,-0.005445938091725,0.028318852186203,0.008217816241086,-0.066229559481144,-0.085065543651581,-0.236106410622597,-0.087664037942886));
res += mul(Get(s2,dx,-dy), float4x4(0.027493765577674,0.050841186195612,0.123535081744194,0.033382002264261,0.106020346283913,0.099806204438210,0.105888336896896,0.030596800148487,-0.119942620396614,0.242651328444481,-0.021340971812606,-0.041921164840460,-0.066475369036198,0.024811087176204,0.000078179902630,-0.091280728578568));
res += mul(Get(s2,dx,0), float4x4(-0.015065646730363,0.033911768347025,0.222447782754898,-0.016854153946042,-0.162349015474319,0.029209548607469,-0.021196598187089,-0.003455911297351,-0.001467429217882,0.055599223822355,-0.014377209357917,0.132349535822868,0.130467578768730,0.047723412513733,-0.004701539408416,0.026199156418443));
res += mul(Get(s2,dx,dy), float4x4(0.052124354988337,0.037136353552341,-0.033062819391489,0.009372032247484,0.034311372786760,-0.034993719309568,0.036645278334618,-0.077601157128811,0.037476938217878,-0.001319807139225,0.043422468006611,-0.069999232888222,0.058869920670986,0.065116330981255,-0.021303875371814,0.060077153146267));
res += mul(Get(s3,-dx,-dy), float4x4(0.004491664469242,-0.041739445179701,0.000984863960184,-0.130684509873390,0.028228096663952,0.175591126084328,0.015998898074031,0.033459041267633,0.071991994976997,-0.084297962486744,0.083287589251995,-0.115563713014126,0.019956663250923,-0.084916137158871,-0.039998427033424,0.148467868566513));
res += mul(Get(s3,-dx,0), float4x4(0.077257417142391,0.086874850094318,0.174325659871101,0.110122345387936,0.012886959128082,0.093345597386360,-0.148373857140541,0.065953351557255,-0.098276533186436,-0.143305629491806,-0.149505674839020,-0.106857694685459,0.067395366728306,-0.079203747212887,-0.080169215798378,-0.218348652124405));
res += mul(Get(s3,-dx,dy), float4x4(0.043274264782667,0.114204354584217,-0.017802258953452,0.091489411890507,0.000276948529063,0.010400689207017,0.025468528270721,-0.069862999022007,0.138166412711143,-0.086918905377388,0.033092930912971,-0.022142024710774,0.061474598944187,-0.000555485021323,0.044964414089918,0.067506857216358));
res += mul(Get(s3,0,-dy), float4x4(0.087630182504654,0.038028605282307,-0.027908625081182,-0.144206702709198,-0.026157148182392,-0.022777525708079,-0.035681620240211,-0.041874453425407,-0.118664145469666,-0.034183826297522,0.029495431110263,-0.107097506523132,0.038703579455614,0.046338569372892,-0.092895090579987,-0.173302531242371));
res += mul(Get(s3,0,0), float4x4(0.073344051837921,0.133294910192490,0.062828063964844,0.007768595125526,0.043934155255556,0.021016091108322,0.098176568746567,-0.141664966940880,-0.038499437272549,0.194081068038940,0.031278099864721,-0.045145381242037,0.011911937035620,-0.018281180411577,-0.235833540558815,-0.172717288136482));
res += mul(Get(s3,0,dy), float4x4(0.103558331727982,-0.036178365349770,-0.091847941279411,-0.056938659399748,0.004624662920833,-0.052683748304844,-0.049168013036251,0.008729278109968,0.158895120024681,-0.097368299961090,-0.166548877954483,-0.063782460987568,0.011044818907976,-0.200550958514214,-0.042419031262398,-0.017408426851034));
res += mul(Get(s3,dx,-dy), float4x4(-0.041336379945278,0.041501224040985,0.098733626306057,0.074411727488041,0.136011928319931,-0.003185521345586,-0.036965228617191,-0.124240070581436,-0.004676527343690,0.092307604849339,0.067936778068542,0.062711983919144,-0.021285297349095,-0.005405670963228,-0.136716291308403,-0.142188161611557));
res += mul(Get(s3,dx,0), float4x4(0.145782306790352,-0.044346548616886,0.002796074142680,0.192269742488861,0.045968722552061,-0.038962103426456,-0.028498556464911,0.102033302187920,0.033357512205839,0.154542684555054,0.167303383350372,-0.050084330141544,-0.074512928724289,-0.016548601910472,-0.082901887595654,0.006843175739050));
res += mul(Get(s3,dx,dy), float4x4(0.080702491104603,-0.162451073527336,-0.019786585122347,0.013549408875406,0.119173794984818,0.054530274122953,0.060835160315037,-0.091649703681469,0.148866400122643,-0.027480177581310,-0.116347156465054,0.104694373905659,-0.043746255338192,-0.072090335190296,0.193036556243896,-0.100716032087803));
return max(float4(0,0,0,0), res);
}
