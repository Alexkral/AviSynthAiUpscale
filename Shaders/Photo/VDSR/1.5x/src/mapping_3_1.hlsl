sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.087758049368858,-0.034331597387791,0.011160101741552,-0.025441497564316,-0.041275385767221,0.093432657420635,0.189262658357620,0.139733821153641,0.075319610536098,-0.018533965572715,0.032465260475874,-0.049509078264236,0.182508915662766,0.086902737617493,-0.042999643832445,-0.012979685328901));
res += mul(Get(s0,-dx,0), float4x4(-0.012493720278144,0.065983004868031,-0.056186906993389,-0.040748421102762,-0.014287925325334,-0.148043602705002,-0.030348695814610,0.131820052862167,0.018631404265761,-0.049717839807272,0.015558402985334,-0.042410720139742,0.129714161157608,-0.034119080752134,0.073157563805580,0.193866714835167));
res += mul(Get(s0,-dx,dy), float4x4(-0.020065814256668,0.046652704477310,-0.054360222071409,-0.052808180451393,-0.030022861436009,-0.130789279937744,-0.048180054873228,-0.048412121832371,0.035532895475626,-0.123205818235874,0.094847418367863,-0.027065383270383,0.005120297893882,-0.057980775833130,0.022678062319756,0.005700104404241));
res += mul(Get(s0,0,-dy), float4x4(-0.081516027450562,-0.024461364373565,-0.049004580825567,0.005307853687555,-0.010533269494772,0.023301420733333,-0.006229171063751,0.092153504490852,-0.020670102909207,0.055495031177998,-0.000137147158966,-0.028266724199057,-0.035246964544058,0.060476906597614,0.047064743936062,-0.004377780947834));
res += mul(Get(s0,0,0), float4x4(0.130636736750603,-0.023318825289607,-0.012649048119783,-0.019920861348510,-0.053708005696535,0.014251654036343,-0.114483714103699,0.183988466858864,-0.065911360085011,0.019136708229780,0.007495654746890,-0.081911876797676,-0.111566916108131,-0.067995354533195,0.023337874561548,-0.064757965505123));
res += mul(Get(s0,0,dy), float4x4(0.076178550720215,0.031990930438042,0.028266001492739,0.063078343868256,-0.043747775256634,-0.052363112568855,-0.068476326763630,-0.126360803842545,0.039727643132210,-0.084165535867214,0.035845328122377,-0.071728192269802,0.012772977352142,-0.110008351504803,-0.162429496645927,-0.021697662770748));
res += mul(Get(s0,dx,-dy), float4x4(0.032203156501055,-0.018441252410412,-0.010772835463285,0.016034616157413,-0.053558532148600,0.027466617524624,0.075903728604317,0.068051882088184,0.002481857314706,0.095578335225582,-0.022646320983768,-0.030538357794285,0.043678339570761,0.077366091310978,-0.069378457963467,-0.028099006041884));
res += mul(Get(s0,dx,0), float4x4(0.035982817411423,-0.066419184207916,-0.071011930704117,0.046596143394709,-0.032747555524111,0.022998038679361,0.030001988634467,-0.026217933744192,0.063216991722584,0.060208704322577,0.005690683610737,-0.049796890467405,0.036475375294685,-0.083186350762844,0.050047151744366,-0.116606689989567));
res += mul(Get(s0,dx,dy), float4x4(0.047310013324022,-0.050852093845606,0.019577300176024,0.080708302557468,0.024740172550082,-0.032611805945635,-0.036661144345999,-0.151202470064163,0.057704288512468,-0.024646908044815,0.003312503919005,-0.001072427025065,-0.085330612957478,-0.035637088119984,-0.026615917682648,0.038555555045605));
res += mul(Get(s1,-dx,-dy), float4x4(-0.033864397555590,-0.167863339185715,0.005981062538922,-0.082874752581120,-0.013465426862240,0.074165657162666,-0.012775694951415,0.013600205071270,0.035276722162962,0.091810911893845,-0.009402620606124,0.002690794644877,0.040078967809677,0.095453582704067,0.006008320488036,-0.055646460503340));
res += mul(Get(s1,-dx,0), float4x4(-0.052196029573679,-0.131583854556084,0.003143948037177,-0.026731062680483,-0.077108651399612,0.007976463995874,0.145531773567200,-0.007247177418321,0.086674600839615,-0.022202065214515,0.153423875570297,0.046279769390821,-0.023950459435582,0.023624949157238,-0.052426010370255,-0.029505688697100));
res += mul(Get(s1,-dx,dy), float4x4(-0.065522007644176,-0.083781927824020,0.030368497595191,0.025564862415195,-0.021234448999166,-0.160024896264076,-0.037042912095785,0.054015897214413,-0.033102288842201,0.074133627116680,0.114445529878139,-0.035980768501759,-0.005272170063108,-0.082765258848667,-0.049988556653261,-0.038652308285236));
res += mul(Get(s1,0,-dy), float4x4(-0.028793457895517,-0.145316690206528,-0.023729372769594,-0.078603751957417,0.006853128783405,-0.039169084280729,-0.026830857619643,-0.064187057316303,-0.106211528182030,0.076898127794266,0.048169564455748,0.060905180871487,0.045680746436119,0.071284703910351,0.003324714722112,0.010098768398166));
res += mul(Get(s1,0,0), float4x4(0.020699141547084,-0.144837662577629,-0.014545608311892,0.100563980638981,0.102249167859554,-0.018731627613306,-0.087709791958332,-0.074616193771362,-0.137492522597313,0.143961071968079,0.122012935578823,-0.074653983116150,0.188655525445938,-0.009301535785198,-0.044582273811102,0.009945183061063));
res += mul(Get(s1,0,dy), float4x4(-0.074759528040886,-0.061350584030151,-0.023706007748842,-0.012386523187160,0.021353043615818,-0.106794901192188,0.071135491132736,-0.046341881155968,0.018316747620702,-0.048573311418295,-0.014378141611814,0.062010325491428,0.018859522417188,0.001570531167090,-0.010021913796663,-0.021931262686849));
res += mul(Get(s1,dx,-dy), float4x4(0.042973183095455,-0.062263712286949,0.043473865836859,0.002307929797098,-0.091318547725677,-0.060589812695980,-0.040869697928429,-0.141286909580231,-0.008600188419223,0.018984120339155,-0.083899699151516,0.053135722875595,-0.027216520160437,0.060373768210411,0.050185464322567,-0.013054163195193));
res += mul(Get(s1,dx,0), float4x4(-0.014464916661382,-0.081832259893417,0.011659762822092,0.050392214208841,-0.014889622107148,-0.044894985854626,0.020205095410347,-0.010773072019219,0.078610390424728,0.042226906865835,-0.117595769464970,-0.190669938921928,-0.034289933741093,-0.020684098824859,0.030895425006747,0.047530852258205));
res += mul(Get(s1,dx,dy), float4x4(0.021153884008527,-0.052142135798931,0.026060912758112,-0.051458168774843,-0.172482624650002,-0.094924554228783,-0.000290110212518,0.059375569224358,0.088088117539883,0.057520259171724,0.118863329291344,0.093573525547981,-0.048098474740982,0.054463267326355,-0.069365538656712,-0.125746756792068));
res += mul(Get(s2,-dx,-dy), float4x4(-0.043863639235497,0.169175550341606,0.045431636273861,-0.031343169510365,0.005981561262161,0.050276279449463,-0.030475178733468,-0.019675655290484,0.007296510040760,-0.100612193346024,0.036467503756285,0.013297818601131,-0.091496519744396,0.023007089272141,0.022958897054195,-0.045113924890757));
res += mul(Get(s2,-dx,0), float4x4(-0.137813597917557,-0.114744961261749,0.076659314334393,-0.127840876579285,0.009984333068132,0.037348717451096,-0.070999145507813,0.025840483605862,-0.049130868166685,-0.023196402937174,0.043963942676783,0.079067543148994,-0.070099689066410,-0.032034054398537,0.016843635588884,0.005545065272599));
res += mul(Get(s2,-dx,dy), float4x4(0.009661254473031,-0.151323989033699,0.138353139162064,-0.036994419991970,-0.008384414948523,0.051803000271320,-0.000485644937726,-0.063100606203079,0.020340114831924,0.067517682909966,0.037324141710997,0.068345323204994,0.067291639745235,-0.020082980394363,0.002667150460184,0.004422090947628));
res += mul(Get(s2,0,-dy), float4x4(0.029986061155796,0.129502817988396,0.017902936786413,0.069513611495495,-0.002779689850286,0.131617918610573,-0.010342526249588,-0.112968258559704,-0.019226031377912,0.068848833441734,-0.036583151668310,-0.019648527726531,0.045822914689779,0.069642595946789,-0.034218288958073,-0.069649033248425));
res += mul(Get(s2,0,0), float4x4(0.132964819669724,-0.147595614194870,-0.021768564358354,0.074872732162476,0.008136527612805,0.200783863663673,-0.005441579502076,-0.090917840600014,0.001303452183492,0.040636818856001,-0.027949467301369,0.044635578989983,0.080632649362087,0.050245389342308,-0.000965566432569,0.051172316074371));
res += mul(Get(s2,0,dy), float4x4(0.074179589748383,-0.107742831110954,0.200075075030327,0.079887397587299,-0.032525595277548,0.049073219299316,0.077108889818192,-0.056961771100760,-0.003850331297144,-0.012634919025004,0.037635233253241,0.025294227525592,0.043399147689342,-0.043522000312805,0.050611760467291,-0.025270873680711));
res += mul(Get(s2,dx,-dy), float4x4(0.103474870324135,0.111537538468838,0.062150448560715,0.002870031166822,-0.063212849199772,0.093525975942612,-0.067211501300335,-0.005627110134810,0.188215792179108,0.014501070603728,0.032519046217203,0.044775683432817,-0.018350316211581,0.034565318375826,0.012261289171875,-0.100169770419598));
res += mul(Get(s2,dx,0), float4x4(0.043784718960524,-0.015680477023125,0.058464929461479,0.191690608859062,0.016201211139560,0.134768769145012,-0.060136057436466,-0.013547375798225,0.094015166163445,0.002430157270283,0.056653048843145,0.149975463747978,-0.011440650559962,-0.015403017401695,-0.030764803290367,0.117433749139309));
res += mul(Get(s2,dx,dy), float4x4(-0.073000647127628,0.045909557491541,-0.079774841666222,0.015440775081515,0.015362776815891,0.043512247502804,-0.012632331810892,0.026850380003452,-0.005556483753026,-0.054276760667562,0.028233520686626,-0.043819207698107,0.013671999797225,-0.053155481815338,-0.066709131002426,-0.038144249469042));
res += mul(Get(s3,-dx,-dy), float4x4(-0.022200956940651,0.002078624907881,-0.012521914206445,0.030268017202616,0.084527857601643,0.027901558205485,-0.000250310258707,0.073370888829231,-0.114345580339432,0.060920022428036,-0.045926701277494,-0.147870481014252,0.074214853346348,-0.091204836964607,0.004055625293404,0.006240868475288));
res += mul(Get(s3,-dx,0), float4x4(0.016298310831189,0.040983490645885,-0.068919263780117,0.025290183722973,-0.008431094698608,0.105016127228737,-0.039607126265764,0.118539363145828,0.000723638688214,-0.021095180884004,0.013525780290365,-0.023961877450347,0.008004097267985,-0.081297852098942,0.097952492535114,0.068171128630638));
res += mul(Get(s3,-dx,dy), float4x4(-0.059869080781937,0.156964451074600,0.010173775255680,-0.117695204913616,0.036605056375265,0.008357846178114,-0.035364232957363,0.077527120709419,-0.035849314182997,-0.001038746442646,-0.063031882047653,0.036470655351877,-0.065474413335323,0.039214398711920,-0.143795698881149,0.015493464656174));
res += mul(Get(s3,0,-dy), float4x4(0.026017252355814,-0.005185553804040,0.013213244266808,0.047397248446941,0.052921395748854,0.124413743615150,0.038587141782045,0.082616709172726,0.116153225302696,0.120493955910206,-0.167975425720215,-0.059025190770626,0.067569218575954,0.109855838119984,0.096213884651661,0.276739060878754));
res += mul(Get(s3,0,0), float4x4(-0.089068949222565,0.029230371117592,0.044531337916851,0.013484242372215,0.166266337037086,0.051191195845604,-0.063550934195518,0.083237186074257,0.083699293434620,0.007999411784112,0.130670607089996,0.082028448581696,-0.157420903444290,0.160365030169487,0.156793221831322,-0.135770171880722));
res += mul(Get(s3,0,dy), float4x4(-0.033889751881361,0.041802566498518,-0.043234657496214,-0.096312515437603,0.007636414375156,0.045481029897928,0.075866639614105,-0.000459198752651,-0.065804101526737,0.014804480597377,0.124882042407990,-0.019885083660483,0.104920461773872,-0.102898709475994,-0.017256880179048,0.068743661046028));
res += mul(Get(s3,dx,-dy), float4x4(0.112896122038364,-0.058048993349075,0.086370825767517,0.012775473296642,0.046969071030617,0.158624857664108,-0.040500856935978,0.053656257688999,-0.122874498367310,0.041170798242092,0.150146216154099,0.074785709381104,-0.039392665028572,0.038509052246809,-0.004990056622773,0.006129757966846));
res += mul(Get(s3,dx,0), float4x4(0.028466045856476,-0.034615427255630,-0.051241595298052,-0.085440024733543,0.011730266734958,0.074445419013500,-0.083918355405331,0.229260802268982,-0.069136418402195,-0.015605220571160,-0.100147746503353,0.131861969828606,0.031101340427995,-0.021048249676824,-0.182096943259239,-0.013606501743197));
res += mul(Get(s3,dx,dy), float4x4(0.015768373385072,-0.000066011045419,0.133078038692474,-0.085444100201130,-0.065808989107609,0.163807511329651,-0.047378696501255,-0.029506763443351,-0.030024336650968,-0.048475004732609,-0.066008329391479,-0.071616217494011,0.046986002475023,0.016857217997313,0.180960595607758,-0.022967401891947));
return max(float4(0,0,0,0), res);
}
