sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.027054835110903,0.090554021298885,0.069915167987347,0.139399796724319,0.074339121580124,-0.003644405631348,-0.125150918960571,-0.006113452836871,-0.088308624923229,-0.009380740113556,-0.033899143338203,0.081145443022251,0.013949241489172,-0.090340368449688,0.039464823901653,-0.055036026984453));
res += mul(Get(s0,-dx,0), float4x4(0.096961796283722,0.024836149066687,0.080801799893379,-0.068354196846485,0.091823428869247,0.069285392761230,0.038852028548717,-0.014534966088831,0.049517564475536,0.129316598176956,-0.006052887067199,0.105037324130535,-0.042713612318039,-0.065032660961151,-0.019696803763509,0.049158595502377));
res += mul(Get(s0,-dx,dy), float4x4(0.097900360822678,-0.188801556825638,0.067592725157738,-0.118444211781025,0.026222568005323,0.010230666026473,-0.124083831906319,-0.104645781219006,-0.052427466958761,-0.109988071024418,-0.164517208933830,-0.205341070890427,-0.140105947852135,0.180131927132607,0.083307661116123,-0.047580592334270));
res += mul(Get(s0,0,-dy), float4x4(0.101723968982697,-0.104820229113102,0.158916056156158,0.048681132495403,-0.098530292510986,0.133222520351410,0.062589697539806,-0.102447137236595,0.228240191936493,-0.021650260314345,-0.075058028101921,-0.090364836156368,-0.085739627480507,-0.020486550405622,0.150587663054466,-0.113003045320511));
res += mul(Get(s0,0,0), float4x4(-0.012044481933117,0.255705714225769,0.020104359835386,0.018742715939879,-0.013058584183455,0.132030814886093,0.002096501411870,-0.029539350420237,-0.033179290592670,0.183451250195503,0.160366043448448,-0.232481345534325,-0.071073293685913,0.021997703239322,0.011639309115708,0.108936868607998));
res += mul(Get(s0,0,dy), float4x4(0.281653821468353,-0.132270544767380,-0.119557052850723,0.102309606969357,-0.108321040868759,-0.127242073416710,-0.178512930870056,-0.048089276999235,0.121997714042664,0.111306980252266,0.161285623908043,0.108520455658436,-0.042051542550325,0.061769340187311,0.154945537447929,-0.097692459821701));
res += mul(Get(s0,dx,-dy), float4x4(0.050792761147022,-0.014555654488504,-0.171623945236206,0.007358212489635,-0.037004981189966,0.134153127670288,0.017473883926868,0.101027563214302,-0.124560847878456,-0.046752184629440,-0.102197617292404,-0.093385361135006,0.010368113406003,-0.086227104067802,0.122689776122570,-0.099629245698452));
res += mul(Get(s0,dx,0), float4x4(-0.100040234625340,0.005891676060855,-0.062203072011471,0.108050391077995,0.066786058247089,0.158683761954308,0.084523305296898,-0.063275530934334,-0.084879383444786,0.018811473622918,0.066074967384338,-0.136147648096085,-0.123705334961414,0.232100516557693,-0.031938772648573,-0.032256286591291));
res += mul(Get(s0,dx,dy), float4x4(-0.008125819265842,0.028421968221664,-0.094611950218678,-0.147988900542259,0.033619839698076,0.121119663119316,0.105489879846573,-0.034580402076244,0.018428415060043,0.066561684012413,-0.329437315464020,-0.099771335721016,0.118707366287708,-0.104693695902824,-0.131699576973915,-0.075284823775291));
res += mul(Get(s1,-dx,-dy), float4x4(0.177067026495934,0.200682297348976,0.233583182096481,-0.068557828664780,0.002016922924668,0.151213929057121,-0.140465915203094,-0.160552889108658,0.109657078981400,-0.051722899079323,-0.022679418325424,-0.027420800179243,0.017971830442548,0.035294346511364,-0.034692268818617,-0.106012381613255));
res += mul(Get(s1,-dx,0), float4x4(0.016498304903507,0.062352653592825,-0.068484023213387,0.001578207360581,-0.056125245988369,0.041273165494204,-0.020631853491068,-0.139211893081665,0.023740516975522,0.087865956127644,0.061921939253807,0.042784593999386,-0.027779163792729,0.093905575573444,0.152054205536842,-0.051250096410513));
res += mul(Get(s1,-dx,dy), float4x4(0.063448838889599,-0.071860961616039,-0.087741412222385,0.001488185604103,0.069327637553215,-0.065956018865108,0.052748512476683,-0.049933139234781,-0.145938888192177,0.079776473343372,0.139980092644691,0.085236467421055,-0.020078264176846,-0.018113413825631,0.010511795990169,-0.186616852879524));
res += mul(Get(s1,0,-dy), float4x4(0.034772053360939,-0.001783482963219,-0.015269139781594,0.122789576649666,-0.066809989511967,0.135176241397858,0.005186417605728,0.033352505415678,-0.106906302273273,0.148211121559143,0.079239621758461,-0.076635494828224,0.017426345497370,-0.056550025939941,0.033914502710104,0.226338505744934));
res += mul(Get(s1,0,0), float4x4(-0.021799480542541,-0.053212970495224,0.053601019084454,-0.030303215608001,-0.119924396276474,0.173754483461380,-0.128857105970383,0.139661863446236,0.070793166756630,0.071022935211658,-0.049555696547031,-0.036188822239637,-0.110247626900673,0.115905508399010,-0.035198789089918,-0.070488385856152));
res += mul(Get(s1,0,dy), float4x4(0.154759570956230,-0.064328551292419,-0.052354354411364,-0.062979027628899,-0.104951933026314,-0.106744326651096,0.019198412075639,0.056485433131456,0.030339878052473,-0.075732246041298,0.062748663127422,0.070073358714581,-0.036418654024601,0.029852513223886,0.106342196464539,-0.072071693837643));
res += mul(Get(s1,dx,-dy), float4x4(-0.155868723988533,-0.082227192819118,-0.071775190532207,0.058288913220167,-0.049044631421566,-0.122459694743156,0.002414430258796,0.017204018309712,-0.049922991544008,0.007204238791019,0.083148285746574,-0.140186473727226,-0.016626998782158,-0.018348176032305,0.042915657162666,0.200429558753967));
res += mul(Get(s1,dx,0), float4x4(0.032526981085539,0.078334502875805,-0.146300494670868,0.018955498933792,0.122190892696381,-0.064242459833622,0.129237830638885,-0.044127181172371,0.105257816612720,-0.117587834596634,0.126380831003189,-0.038430482149124,0.029809484258294,-0.158440724015236,-0.125447183847427,-0.021025797352195));
res += mul(Get(s1,dx,dy), float4x4(0.057227291166782,-0.154585048556328,-0.045969195663929,0.092874988913536,-0.185766249895096,-0.006137766875327,0.049360897392035,-0.011995692737401,0.022718233987689,0.173085778951645,-0.155797973275185,0.048193249851465,-0.129748061299324,0.041447646915913,-0.109878398478031,-0.067474313080311));
res += mul(Get(s2,-dx,-dy), float4x4(-0.061492305248976,-0.029691157862544,-0.118461690843105,0.059840634465218,-0.077204622328281,-0.029717583209276,-0.079042613506317,0.154257848858833,-0.232856482267380,-0.044725064188242,-0.015032610855997,-0.006108883302659,-0.011379840783775,-0.009704366326332,-0.021274384111166,0.068117007613182));
res += mul(Get(s2,-dx,0), float4x4(-0.064112447202206,0.050909843295813,0.072516590356827,0.110358186066151,0.101670958101749,0.046078938990831,0.051962420344353,-0.285213679075241,-0.023763777688146,0.107855178415775,-0.035848628729582,-0.043842468410730,-0.143906652927399,0.004329904913902,0.076365552842617,-0.042685210704803));
res += mul(Get(s2,-dx,dy), float4x4(-0.060101021081209,0.252793490886688,-0.094418495893478,0.044413857161999,-0.056885547935963,0.005887822713703,-0.035214066505432,0.147300750017166,-0.078824661672115,-0.112122982740402,-0.115747883915901,-0.110455483198166,-0.004897523205727,0.014314757660031,-0.111575596034527,0.052052322775126));
res += mul(Get(s2,0,-dy), float4x4(0.078840956091881,0.102161511778831,-0.039177581667900,-0.043698307126760,-0.058168895542622,0.079929992556572,-0.009338471107185,0.188023656606674,-0.063378706574440,0.032387439161539,-0.039543516933918,-0.003196350298822,0.218868911266327,0.053338691592216,0.021803306415677,0.119432434439659));
res += mul(Get(s2,0,0), float4x4(0.100454986095428,-0.052299793809652,0.004565842449665,0.038936205208302,-0.017174690961838,0.045394081622362,-0.172020956873894,0.016439948230982,-0.180361688137054,0.054431855678558,-0.109639048576355,-0.024668425321579,0.002237884793431,0.057701759040356,-0.051609672605991,0.070971682667732));
res += mul(Get(s2,0,dy), float4x4(0.067246049642563,0.102340340614319,-0.098497219383717,-0.028697680681944,-0.047790776938200,0.048723082989454,0.070522077381611,-0.111047625541687,-0.143320590257645,0.114469774067402,0.098479516804218,0.096075177192688,0.002025529509410,-0.138403996825218,-0.158071130514145,-0.039194032549858));
res += mul(Get(s2,dx,-dy), float4x4(-0.056738134473562,0.085235945880413,0.012442851439118,0.074049077928066,-0.113219909369946,-0.214874714612961,0.130042120814323,-0.109526902437210,-0.075715482234955,0.217802315950394,-0.083165749907494,-0.093870654702187,0.018389493227005,0.010808493010700,-0.069809339940548,0.046130575239658));
res += mul(Get(s2,dx,0), float4x4(0.006245813798159,-0.162411868572235,-0.090168401598930,-0.074464239180088,-0.131434664130211,-0.035540070384741,-0.002833332633600,0.120339229702950,-0.025868855416775,0.034243557602167,-0.057242993265390,0.156330108642578,0.084789730608463,-0.066460236907005,0.136208817362785,0.042286638170481));
res += mul(Get(s2,dx,dy), float4x4(0.087705776095390,-0.106274478137493,0.033794853836298,0.114830210804939,0.092083707451820,-0.089007675647736,0.060320131480694,-0.043243456631899,-0.015717174857855,0.187673896551132,-0.067814663052559,-0.051886636763811,0.232580542564392,0.102582380175591,-0.148442342877388,0.152368322014809));
res += mul(Get(s3,-dx,-dy), float4x4(-0.041655126959085,-0.138388574123383,-0.116448201239109,-0.138218492269516,0.187568008899689,-0.120985537767410,0.067705638706684,0.013985116034746,-0.080916166305542,0.064945615828037,0.229165345430374,0.093709021806717,0.095731876790524,-0.081560999155045,-0.055510327219963,0.006593774072826));
res += mul(Get(s3,-dx,0), float4x4(0.094916544854641,0.096751347184181,0.142599731683731,-0.008568498305976,0.033897437155247,-0.086109861731529,-0.003012332366779,0.001722411368974,0.187369748950005,0.070838913321495,0.096099212765694,0.071888566017151,-0.062040019780397,0.020706528797746,-0.020696131512523,-0.070071406662464));
res += mul(Get(s3,-dx,dy), float4x4(0.111027061939240,-0.086559742689133,0.113879963755608,-0.055129367858171,-0.054138828068972,-0.107517533004284,-0.150840595364571,-0.117674276232719,-0.013152916915715,-0.049199894070625,-0.048826001584530,-0.071140065789223,-0.112104102969170,-0.046317599713802,-0.027320822700858,0.072263449430466));
res += mul(Get(s3,0,-dy), float4x4(0.016867479309440,-0.067568659782410,0.148228362202644,0.168545901775360,-0.032269418239594,0.274436384439468,0.141184359788895,0.020906858146191,0.297436267137527,-0.101143836975098,-0.014320841990411,0.023685174062848,-0.008009444922209,-0.033422030508518,-0.123117163777351,-0.031594485044479));
res += mul(Get(s3,0,0), float4x4(0.057351477444172,-0.120762355625629,0.266623556613922,-0.028190031647682,0.031100684776902,0.205896615982056,-0.125966235995293,-0.090088210999966,0.145350918173790,0.066901892423630,0.132607594132423,-0.043965160846710,0.025864927098155,0.079234004020691,0.079626545310020,0.016350980848074));
res += mul(Get(s3,0,dy), float4x4(-0.046768467873335,-0.101714991033077,0.008157146163285,-0.113104939460754,0.110635541379452,-0.079251244664192,-0.057943291962147,-0.013904966413975,0.044331118464470,0.071969829499722,0.054321378469467,-0.019182413816452,0.063206054270267,0.092141576111317,0.126009598374367,-0.077803201973438));
res += mul(Get(s3,dx,-dy), float4x4(-0.106709152460098,0.027328131720424,0.096776351332664,0.001330031547695,0.114918619394302,-0.094276867806911,0.054412703961134,0.029005613178015,-0.005544319283217,0.085108041763306,0.028818471357226,0.005384061019868,-0.016504138708115,0.056240085512400,-0.056585066020489,0.146255522966385));
res += mul(Get(s3,dx,0), float4x4(0.068051435053349,0.071458622813225,0.003492057323456,0.083316005766392,-0.116997748613358,-0.262099504470825,0.076791249215603,0.033946968615055,0.134700283408165,0.038048747926950,-0.156081631779671,0.106424987316132,0.121805697679520,-0.036477405577898,0.036290481686592,0.042348463088274));
res += mul(Get(s3,dx,dy), float4x4(-0.020959345623851,-0.096288964152336,0.101350381970406,-0.027254246175289,-0.079118579626083,-0.010562981478870,-0.121692404150963,-0.084192603826523,0.160235226154327,-0.033244367688894,-0.068097449839115,0.027250336483121,0.034456841647625,0.050064440816641,-0.003237477736548,-0.116795428097248));
return max(float4(0,0,0,0), res);
}
