sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.031262625008821,0.037138115614653,0.015311630442739,0.120770275592804,-0.072297990322113,-0.003694817423820,0.063299641013145,-0.055990409106016,-0.039030462503433,0.200805559754372,0.016773944720626,0.054571930319071,0.080698505043983,-0.061686202883720,0.113174334168434,0.070968918502331));
res += mul(Get(s0,-dx,0), float4x4(-0.060209497809410,0.064238473773003,0.044050313532352,0.012979255057871,-0.097781740128994,-0.017559083178639,0.033413745462894,0.036854717880487,0.066595241427422,-0.013198715634644,0.069683425128460,0.067724481225014,-0.068214699625969,-0.040127135813236,0.006285732146353,-0.008984438143671));
res += mul(Get(s0,-dx,dy), float4x4(-0.122360274195671,-0.003892961656675,0.031034065410495,-0.003258856013417,-0.158543735742569,-0.019338032230735,-0.006437138188630,0.030000597238541,0.108634524047375,0.014697027392685,-0.044826846569777,-0.007076908834279,0.073313400149345,-0.055090222507715,0.012295406311750,0.009461214765906));
res += mul(Get(s0,0,-dy), float4x4(-0.016333332285285,-0.059939805418253,-0.009608635678887,0.002829735632986,-0.017862718552351,0.007880885154009,-0.005797948222607,0.086969904601574,-0.058278836309910,0.034352224320173,-0.002777791814879,-0.046007618308067,0.055946458131075,0.002580606611446,-0.062441058456898,-0.048688869923353));
res += mul(Get(s0,0,0), float4x4(-0.043055698275566,-0.016591731458902,-0.073331132531166,0.108601376414299,-0.021644286811352,0.006884959526360,0.031585335731506,0.020778967067599,-0.043317984789610,-0.035716883838177,0.028609912842512,0.111707039177418,0.102691605687141,0.001897417241707,-0.052628353238106,0.184666275978088));
res += mul(Get(s0,0,dy), float4x4(-0.013376696966588,-0.041399583220482,-0.052120007574558,0.086460351943970,-0.068325951695442,0.037997283041477,-0.003481804858893,0.013046767562628,-0.062367342412472,0.013255796395242,-0.025056866928935,0.120904542505741,0.068862974643707,-0.056853644549847,0.000909051916096,-0.008793916553259));
res += mul(Get(s0,dx,-dy), float4x4(-0.072982713580132,-0.006568773183972,0.074187591671944,0.036699675023556,-0.043303098529577,-0.020057385787368,0.054204776883125,0.041353166103363,-0.126059368252754,-0.053111981600523,-0.011458821594715,0.015663621947169,0.015363610349596,-0.037187032401562,0.018528524786234,0.025463098660111));
res += mul(Get(s0,dx,0), float4x4(-0.019682260230184,-0.049476724117994,0.018506251275539,0.015231016092002,-0.125977858901024,0.022243771702051,0.071940585970879,-0.037548340857029,-0.129995748400688,0.003580522490665,0.067568048834801,-0.164789006114006,0.105592474341393,-0.026014493778348,0.053187347948551,0.039092063903809));
res += mul(Get(s0,dx,dy), float4x4(0.000865329464432,-0.052886892110109,0.022949650883675,-0.084457919001579,-0.159562736749649,-0.067512579262257,-0.008377199061215,0.061110366135836,-0.018571689724922,0.046852394938469,0.032862745225430,-0.045822821557522,0.080052003264427,-0.046149507164955,-0.006796452682465,0.138505280017853));
res += mul(Get(s1,-dx,-dy), float4x4(0.050609838217497,0.037620678544044,0.052692838013172,-0.001845885883085,0.024297324940562,-0.024159347638488,0.000210534097278,0.019916517660022,-0.068070031702518,0.053194388747215,-0.121722169220448,0.002122232457623,-0.037202537059784,-0.082980275154114,-0.003317947499454,0.137832954525948));
res += mul(Get(s1,-dx,0), float4x4(0.042951628565788,-0.045140448957682,0.061833493411541,0.000694927526638,-0.140606775879860,-0.030077921226621,-0.025548692792654,0.030931286513805,-0.050243295729160,0.125343844294548,-0.019914474338293,0.006629567593336,0.023779887706041,-0.059244632720947,-0.035736784338951,0.145266830921173));
res += mul(Get(s1,-dx,dy), float4x4(-0.040737710893154,0.002672150498256,0.032779451459646,0.042393118143082,-0.081023082137108,0.018490770831704,0.028589675202966,0.064354330301285,-0.028098117560148,0.072652578353882,-0.098066486418247,-0.024878786876798,-0.026519780978560,-0.029859431087971,0.039686989039183,0.163917988538742));
res += mul(Get(s1,0,-dy), float4x4(0.044417873024940,-0.015151042491198,-0.032843809574842,0.030951902270317,-0.014414685778320,-0.050907947123051,0.060925111174583,-0.176662236452103,-0.027669936418533,0.067110627889633,-0.011103469878435,-0.020704045891762,-0.046751730144024,0.006816599983722,0.050117444247007,0.000427644408774));
res += mul(Get(s1,0,0), float4x4(0.062289807945490,-0.033792406320572,0.020655177533627,-0.012568369507790,-0.062191683799028,-0.042740326374769,0.037800744175911,-0.034679412841797,0.000708016741555,0.144123241305351,0.026613699272275,-0.012643964029849,0.120259739458561,-0.009462620131671,-0.018405482172966,-0.038166332989931));
res += mul(Get(s1,0,dy), float4x4(0.002371659735218,-0.067583397030830,0.020158601924777,0.083994433283806,-0.031350009143353,0.099489614367485,0.062526494264603,0.049228619784117,0.005004523787647,-0.016575897112489,0.053021539002657,0.007050949614495,0.041567597538233,0.002564054215327,-0.016959697008133,-0.045505277812481));
res += mul(Get(s1,dx,-dy), float4x4(0.046687304973602,-0.010546305216849,0.040599290281534,-0.018860815092921,0.041920900344849,-0.070617817342281,0.009706305339932,0.058392804116011,-0.125265300273895,0.010149732232094,0.109808869659901,-0.005981101188809,-0.171379029750824,0.012635794468224,0.065973356366158,0.060578081756830));
res += mul(Get(s1,dx,0), float4x4(-0.036279678344727,0.007132153026760,0.046873521059752,0.009784475900233,0.109807215631008,0.069200731813908,-0.047830343246460,0.056029163300991,-0.067635133862495,0.113193184137344,0.025658704340458,-0.024858977645636,0.027420163154602,-0.003214434720576,-0.033057630062103,0.016793604940176));
res += mul(Get(s1,dx,dy), float4x4(0.007664297707379,-0.043888278305531,0.011629894375801,0.080237776041031,0.022587722167373,0.000334045151249,0.046475298702717,0.023399231955409,-0.044112440198660,-0.013520924374461,0.025411890819669,-0.025460243225098,-0.021553002297878,0.031914010643959,-0.024331275373697,0.020464578643441));
res += mul(Get(s2,-dx,-dy), float4x4(0.049272935837507,-0.069101639091969,0.010361218824983,-0.088463984429836,-0.006094154901803,0.040955364704132,-0.107500329613686,-0.007136917673051,0.045694664120674,-0.062994793057442,-0.020463733002543,-0.004549613222480,0.100139118731022,0.040743373334408,-0.044912140816450,0.022089818492532));
res += mul(Get(s2,-dx,0), float4x4(0.112838178873062,-0.093359909951687,-0.067912146449089,0.053573675453663,-0.160419210791588,0.151012957096100,0.089177884161472,0.017539622262120,-0.182462632656097,0.058689203113317,-0.034969814121723,-0.020904624834657,0.007853348739445,0.043973024934530,-0.063663944602013,-0.088229835033417));
res += mul(Get(s2,-dx,dy), float4x4(-0.005629345308989,-0.032601334154606,0.056330833584070,0.079507760703564,-0.069064088165760,0.025658637285233,0.042687565088272,-0.020882021635771,-0.003857349511236,-0.020863918587565,0.084338754415512,0.067559629678726,0.031507752835751,0.053399536758661,-0.097107566893101,-0.020978387445211));
res += mul(Get(s2,0,-dy), float4x4(0.094433657824993,0.025845175608993,-0.069403730332851,-0.055023420602083,0.030222320929170,0.012430309318006,-0.077201634645462,-0.103813953697681,-0.032661113888025,-0.092239320278168,-0.030923658981919,-0.124921075999737,0.026867574080825,-0.026836371049285,-0.093845970928669,-0.016320284456015));
res += mul(Get(s2,0,0), float4x4(0.034815859049559,0.016094002872705,0.277826189994812,-0.022879082709551,0.124043188989162,-0.096301630139351,0.023970544338226,-0.044690784066916,-0.105769068002701,0.062441814690828,-0.065783232450485,0.154798850417137,-0.041690643876791,0.033615801483393,-0.024801984429359,-0.029925998300314));
res += mul(Get(s2,0,dy), float4x4(-0.011512935161591,0.135949045419693,0.002223410876468,-0.073269978165627,0.008666585199535,-0.057924505323172,0.061493646353483,-0.037111405283213,0.019592247903347,-0.006660184357315,-0.029490018263459,0.023904584348202,0.052801921963692,-0.054169602692127,-0.077360436320305,-0.036894273012877));
res += mul(Get(s2,dx,-dy), float4x4(-0.007080834824592,0.052579708397388,-0.089590325951576,-0.082432441413403,-0.043705366551876,0.030003014951944,0.010586223565042,0.143458813428879,-0.028490828350186,-0.019363442435861,-0.012321274727583,-0.010179747827351,0.046607121825218,-0.032192476093769,-0.058177817612886,-0.042339637875557));
res += mul(Get(s2,dx,0), float4x4(0.031532522290945,0.216938838362694,-0.060193888843060,-0.043137755244970,0.050450637936592,0.014043456874788,-0.009220690466464,-0.062286581844091,-0.049885895103216,0.010325087234378,0.069139085710049,0.116511054337025,0.003516085678712,0.033885437995195,-0.037066437304020,0.036566443741322));
res += mul(Get(s2,dx,dy), float4x4(-0.013584824278951,-0.026649428531528,0.024520408362150,0.090213440358639,-0.031423185020685,0.040802646428347,0.020123016089201,0.118362605571747,-0.023139867931604,0.014955860562623,0.053281724452972,0.098760277032852,-0.110346972942352,-0.010894946753979,-0.119188331067562,-0.011135706678033));
res += mul(Get(s3,-dx,-dy), float4x4(-0.081269748508930,0.097710125148296,0.018836451694369,-0.053054619580507,0.026007298380136,-0.009230354800820,-0.093827538192272,0.032568048685789,0.067237176001072,-0.021552445366979,0.016289852559566,-0.012682680040598,0.081520512700081,-0.152427762746811,-0.055859405547380,-0.005722264293581));
res += mul(Get(s3,-dx,0), float4x4(-0.012879300862551,0.091868326067924,-0.086703240871429,0.170724779367447,-0.065856307744980,0.038352038711309,-0.005313264671713,0.046986710280180,-0.042329803109169,0.054817274212837,0.052640594542027,0.082058615982533,0.175540283322334,-0.172346055507660,-0.198540091514587,-0.032004673033953));
res += mul(Get(s3,-dx,dy), float4x4(0.224099963903427,0.114840187132359,-0.129951849579811,-0.095146074891090,-0.092945389449596,-0.014355469495058,-0.052752677351236,-0.030682219192386,-0.074373602867126,-0.077269308269024,0.044081456959248,0.028253201395273,-0.137523621320724,-0.022619182243943,-0.024831380695105,0.075162060558796));
res += mul(Get(s3,0,-dy), float4x4(0.120037198066711,-0.048458594828844,0.026273394003510,0.016657248139381,0.033409770578146,0.034273404628038,-0.066079884767532,-0.081554494798183,0.072086773812771,-0.038399178534746,0.004778386093676,0.087594576179981,0.042549606412649,-0.079381994903088,0.106808297336102,0.080780372023582));
res += mul(Get(s3,0,0), float4x4(-0.080881223082542,0.326477795839310,0.252671509981155,0.014627468772233,-0.040406323969364,-0.057202808558941,0.057235673069954,-0.027066674083471,0.055130161345005,-0.039680309593678,0.030807936564088,0.089982949197292,0.081401549279690,0.119012318551540,0.024735596030951,0.049247477203608));
res += mul(Get(s3,0,dy), float4x4(0.228350296616554,-0.036143716424704,-0.054550513625145,-0.002246918622404,0.021155839785933,-0.002966326195747,-0.038930855691433,-0.122357323765755,0.078617051243782,-0.051030457019806,0.130634889006615,0.130664527416229,0.004890011623502,0.039996720850468,-0.064542688429356,-0.027703581377864));
res += mul(Get(s3,dx,-dy), float4x4(-0.041197389364243,0.030165812000632,0.090625107288361,-0.106608070433140,0.000378101569368,-0.021335195749998,0.037345770746469,-0.121288724243641,0.046185411512852,-0.123822622001171,-0.021689409390092,0.054341703653336,0.008886047638953,0.007595352362841,-0.052229978144169,-0.016262225806713));
res += mul(Get(s3,dx,0), float4x4(0.045368403196335,-0.132190316915512,0.041949354112148,0.009000277146697,0.048507463186979,-0.027262592688203,0.007567781955004,-0.041617084294558,0.050027187913656,-0.078211449086666,-0.034216925501823,0.087742738425732,0.048914071172476,0.205317378044128,0.041132148355246,-0.073416560888290));
res += mul(Get(s3,dx,dy), float4x4(-0.110114052891731,-0.069546312093735,0.080841057002544,-0.064072810113430,0.016332227736712,0.061698328703642,-0.019198991358280,-0.069351352751255,0.048030994832516,-0.013881213031709,0.063290521502495,-0.014677098952234,0.045796956866980,-0.048935290426016,0.060677900910378,0.087850719690323));
return max(float4(0,0,0,0), res);
}
