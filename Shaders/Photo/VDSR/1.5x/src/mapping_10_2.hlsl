sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006052784621716,0.022937918081880,0.023494681343436,-0.025442417711020,0.015664122998714,-0.087057888507843,0.016913920640945,-0.009472543373704,-0.065834909677505,0.038231141865253,0.053316798061132,0.098849013447762,0.015182884410024,-0.169572785496712,0.051331341266632,0.014920624904335));
res += mul(Get(s0,-dx,0), float4x4(0.057604268193245,0.082934722304344,-0.038104087114334,-0.001219614874572,-0.054364714771509,0.065680041909218,0.009642873890698,0.004219395574182,-0.042457785457373,0.007193532772362,0.068917244672775,-0.019269173964858,0.038888301700354,0.039681673049927,0.139982342720032,0.059076279401779));
res += mul(Get(s0,-dx,dy), float4x4(0.006504056509584,-0.041986010968685,0.059205282479525,-0.046590760350227,-0.023918779566884,-0.129599541425705,-0.034624036401510,-0.000735927198548,0.140591979026794,-0.075241789221764,0.104303061962128,-0.028978712856770,-0.027485994622111,0.052806936204433,0.020670905709267,-0.060417823493481));
res += mul(Get(s0,0,-dy), float4x4(0.043022282421589,-0.018182439729571,-0.092533759772778,0.074251964688301,-0.031153144314885,-0.068036906421185,0.255280256271362,-0.050253242254257,0.057995013892651,0.005601287819445,-0.015400571748614,0.160872861742973,-0.179326444864273,0.006051949225366,0.003127361414954,0.183104217052460));
res += mul(Get(s0,0,0), float4x4(-0.034348107874393,0.080035291612148,0.020382143557072,0.037905167788267,-0.111920863389969,0.185672059655190,0.073481321334839,0.073790110647678,0.108738541603088,0.028552900999784,-0.086112447082996,-0.037923984229565,0.242313921451569,0.048680216073990,0.115760311484337,0.140391275286674));
res += mul(Get(s0,0,dy), float4x4(-0.019913638010621,-0.027365334331989,-0.021384038031101,-0.027758907526731,-0.052276484668255,-0.095569156110287,-0.061187621206045,-0.009910771623254,0.285073697566986,0.035119485110044,-0.054087493568659,-0.100344441831112,-0.039651997387409,0.117712609469891,0.023039553314447,0.033599399030209));
res += mul(Get(s0,dx,-dy), float4x4(0.043252266943455,-0.094491265714169,-0.059309821575880,0.085966587066650,-0.071228995919228,-0.041779283434153,0.073756255209446,-0.020280405879021,-0.044479299336672,-0.048156470060349,0.009102716110647,0.030153779312968,-0.109571181237698,-0.049339752644300,0.038596387952566,0.042678035795689));
res += mul(Get(s0,dx,0), float4x4(0.045345742255449,0.084465861320496,-0.041354838758707,0.075699560344219,-0.046574685722589,0.027868751436472,0.023388318717480,-0.033034134656191,0.100305587053299,-0.028146691620350,-0.146043255925179,-0.040656208992004,0.119172692298889,0.076204858720303,-0.040744703263044,0.035767275840044));
res += mul(Get(s0,dx,dy), float4x4(-0.041499480605125,0.017017660662532,-0.037915058434010,-0.016746247187257,-0.036331787705421,0.014264817349613,-0.128997802734375,-0.021216936409473,0.100290976464748,-0.087078467011452,0.037008032202721,-0.024816615507007,0.056505303829908,-0.030247367918491,-0.099488630890846,-0.029940614476800));
res += mul(Get(s1,-dx,-dy), float4x4(-0.069226615130901,-0.153068512678146,-0.068021737039089,0.114683300256729,-0.023526590317488,-0.012136253528297,-0.026775736361742,-0.077553391456604,-0.031395908445120,0.121060855686665,0.018630791455507,-0.024556459859014,-0.118467435240746,0.030221063643694,-0.018607079982758,-0.016005072742701));
res += mul(Get(s1,-dx,0), float4x4(-0.028254192322493,0.070776671171188,0.079519830644131,-0.080178774893284,-0.072818987071514,0.197875499725342,-0.003777254140005,0.060750994831324,-0.001640001311898,-0.003870463464409,0.054078545421362,-0.001833017333411,0.012964024208486,0.036490626633167,-0.049712024629116,-0.014853567816317));
res += mul(Get(s1,-dx,dy), float4x4(-0.037896674126387,0.010179314762354,-0.029228687286377,-0.000011711074876,-0.022039322182536,-0.032669920474291,-0.082106731832027,0.122759111225605,0.038813099265099,-0.036208055913448,0.056326959282160,-0.033333409577608,-0.063704647123814,-0.078857958316803,0.026393907144666,-0.023069845512509));
res += mul(Get(s1,0,-dy), float4x4(0.008008116856217,0.177476420998573,-0.051733236759901,0.191475525498390,-0.108821727335453,-0.032813426107168,0.082229919731617,-0.125761106610298,0.207600966095924,-0.143051937222481,0.078554376959801,0.018255962058902,0.011516762897372,0.087608650326729,0.027309551835060,-0.056856069713831));
res += mul(Get(s1,0,0), float4x4(-0.132525309920311,0.100992694497108,-0.031953569501638,-0.157676264643669,-0.021695364266634,0.191091895103455,-0.055374972522259,-0.081244215369225,0.138128519058228,-0.083452299237251,0.078131951391697,0.087452791631222,-0.000311905692797,-0.076824523508549,0.159971371293068,0.007497658953071));
res += mul(Get(s1,0,dy), float4x4(0.040496945381165,0.002724688732997,-0.012810137122869,0.026429489254951,0.113478802144527,-0.059913471341133,-0.064357787370682,-0.023671874776483,-0.017935395240784,0.051226153969765,-0.034320261329412,0.029285155236721,0.141198471188545,0.016686743125319,-0.003685870906338,-0.092762634158134));
res += mul(Get(s1,dx,-dy), float4x4(0.020167076960206,0.089249379932880,-0.073169171810150,0.104578569531441,-0.031786091625690,0.010523646138608,0.037396889179945,0.002426386345178,-0.082376964390278,0.080658353865147,-0.026766786351800,0.051625031977892,-0.135586902499199,-0.007223099470139,0.012278292328119,0.040170762687922));
res += mul(Get(s1,dx,0), float4x4(0.020746201276779,0.058770071715117,0.005805680528283,-0.070339873433113,-0.100659094750881,0.096323952078819,-0.089744761586189,0.069614648818970,-0.048113916069269,0.000159195828019,-0.057205762714148,0.035298444330692,0.022045036777854,0.083406805992126,0.029128545895219,-0.005737201776356));
res += mul(Get(s1,dx,dy), float4x4(0.008638900704682,0.003205658867955,-0.032703809440136,0.003122787922621,-0.023609634488821,0.011793133802712,-0.061973113566637,-0.016056090593338,0.017298409715295,0.060551304370165,0.004039308056235,0.049490295350552,0.020022785291076,0.043214838951826,0.052589043974876,0.004106292501092));
res += mul(Get(s2,-dx,-dy), float4x4(-0.030921883881092,-0.011855117976665,0.020338535308838,0.012384753674269,-0.054695513099432,-0.029265025630593,0.068180583417416,0.091897837817669,-0.004752748645842,-0.015803445130587,-0.021499732509255,-0.058849286288023,-0.021933313459158,-0.076568111777306,0.017034618183970,0.027331117540598));
res += mul(Get(s2,-dx,0), float4x4(-0.020009186118841,-0.123404547572136,0.120287626981735,0.084193296730518,0.023921091109514,0.093619793653488,-0.020705046132207,-0.034070260822773,-0.000485169410240,0.024568142369390,-0.050472717732191,0.042070221155882,0.067291863262653,0.043915390968323,0.035460222512484,0.039349876344204));
res += mul(Get(s2,-dx,dy), float4x4(-0.068537138402462,-0.049411162734032,0.041582364588976,-0.108949676156044,0.056553423404694,0.028598085045815,0.019466103985906,-0.055273905396461,0.040099203586578,-0.106058888137341,-0.009806447662413,0.026507182046771,-0.093581773340702,0.028421292081475,-0.004648211877793,0.029160462319851));
res += mul(Get(s2,0,-dy), float4x4(0.040929060429335,0.040032688528299,-0.022723233327270,-0.016795909032226,-0.048319078981876,-0.090390607714653,-0.016371840611100,0.039516322314739,-0.031523387879133,-0.029889293015003,0.023664563894272,0.025861719623208,-0.035858985036612,-0.001422764500603,0.022903097793460,0.039174329489470));
res += mul(Get(s2,0,0), float4x4(-0.023009125143290,-0.086246415972710,0.207020670175552,0.046743571758270,-0.021463297307491,0.127214327454567,-0.009971164166927,-0.047310803085566,0.020120372995734,0.004650108516216,-0.106976404786110,0.066410139203072,0.050157658755779,0.055845528841019,-0.047084599733353,0.057811312377453));
res += mul(Get(s2,0,dy), float4x4(-0.031292669475079,0.053967464715242,0.028006447479129,0.021009579300880,-0.028345094993711,0.015846181660891,0.002324878238142,-0.017686445266008,0.063146390020847,0.094392634928226,-0.121594272553921,0.022586664184928,0.003482457483187,-0.037582781165838,0.015982326120138,-0.008120599202812));
res += mul(Get(s2,dx,-dy), float4x4(-0.027590172365308,0.028643213212490,0.104319505393505,-0.001398395514116,-0.033454962074757,-0.035187244415283,0.039098445326090,-0.006074957083911,0.044792793691158,-0.052989166229963,-0.101038686931133,0.003538987133652,-0.037521466612816,-0.049974799156189,-0.046955481171608,0.049221023917198));
res += mul(Get(s2,dx,0), float4x4(-0.062694676220417,0.005721021909267,0.158039763569832,0.073864221572876,-0.044965866953135,0.030232431367040,-0.004602800589055,-0.010873329825699,0.103958308696747,-0.065966486930847,-0.091215685009956,0.051314577460289,0.019776495173573,-0.010236479341984,-0.036423146724701,0.134823739528656));
res += mul(Get(s2,dx,dy), float4x4(-0.016935633495450,0.005336617119610,0.079996511340141,-0.015243050642312,-0.017811814323068,-0.079522065818310,-0.020492000505328,0.035420447587967,0.035730928182602,-0.075550444424152,0.016899649053812,0.005658741109073,0.032434076070786,-0.040742106735706,-0.005525570828468,0.023932345211506));
res += mul(Get(s3,-dx,-dy), float4x4(0.067762732505798,0.074234545230865,-0.134721025824547,-0.053368683904409,-0.062778115272522,-0.077560193836689,0.022663109004498,-0.102555550634861,-0.013036208227277,-0.047310892492533,-0.095684044063091,-0.036064971238375,0.048621669411659,0.005470116622746,-0.061840515583754,-0.009551784954965));
res += mul(Get(s3,-dx,0), float4x4(0.067891910672188,0.068802163004875,-0.118151918053627,0.003438923973590,-0.052630759775639,0.009021223522723,-0.070956908166409,-0.048389334231615,0.049484722316265,0.099912695586681,-0.080535613000393,0.032195501029491,0.051298450678587,-0.024269821122289,-0.061219431459904,-0.082976490259171));
res += mul(Get(s3,-dx,dy), float4x4(0.025182506069541,0.006319406442344,0.055529035627842,0.067165106534958,0.090901367366314,-0.000529022130650,-0.065286397933960,-0.026305904611945,0.051896974444389,0.046067915856838,-0.048539139330387,-0.069498822093010,0.040354005992413,-0.021441988646984,-0.062031254172325,0.049860302358866));
res += mul(Get(s3,0,-dy), float4x4(0.006906643975526,0.009712214581668,-0.051270015537739,-0.048934899270535,0.118434503674507,-0.153802141547203,0.128145769238472,0.000699411379173,-0.043794371187687,-0.039149176329374,-0.063108175992966,0.050434179604053,-0.003758543869480,-0.083194203674793,0.130217179656029,-0.044970225542784));
res += mul(Get(s3,0,0), float4x4(0.002480308990926,-0.044318538159132,-0.129115983843803,0.011786721646786,0.039464216679335,-0.006082366686314,0.082844965159893,-0.043843261897564,-0.029262933880091,0.008063090033829,-0.078928031027317,0.089457161724567,0.007498165592551,-0.067374661564827,-0.002982391044497,0.017256323248148));
res += mul(Get(s3,0,dy), float4x4(0.023897165432572,-0.013640396296978,0.013435101136565,0.068972766399384,-0.084868699312210,0.128002688288689,-0.058989387005568,0.037160262465477,0.014036508277059,0.040059983730316,-0.028275262564421,0.038105014711618,-0.000535006518476,0.066934734582901,-0.032848257571459,0.014857823960483));
res += mul(Get(s3,dx,-dy), float4x4(-0.029408259317279,-0.070664621889591,-0.048515729606152,-0.007150371558964,0.038753878325224,-0.030736820772290,0.001720381667838,-0.080712504684925,0.036051809787750,-0.020878436043859,0.034021470695734,-0.047016847878695,-0.084106549620628,0.046266533434391,-0.027883438393474,0.001753968652338));
res += mul(Get(s3,dx,0), float4x4(-0.019811451435089,-0.014064506627619,-0.072513356804848,-0.012045568786561,0.039388328790665,0.017464013770223,0.078612871468067,-0.055226117372513,0.052729003131390,0.019887302070856,0.061436045914888,0.009582724422216,-0.044602975249290,0.080799520015717,0.008675868622959,-0.051786784082651));
res += mul(Get(s3,dx,dy), float4x4(-0.064185738563538,0.077044509351254,-0.028445117175579,0.018568970263004,-0.007460169959813,0.021740561351180,0.041254971176386,0.021698318421841,0.066915892064571,0.015254512429237,-0.036844130605459,0.043209891766310,0.015044840052724,0.055370986461639,0.022578431293368,0.031147146597505));
return max(float4(0,0,0,0), res);
}
