sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.031558308750391,0.138418838381767,0.173452988266945,0.058984514325857,-0.007215295918286,0.027489667758346,-0.030027672648430,0.048275779932737,-0.028826724737883,0.034865677356720,0.123617418110371,0.047436069697142,-0.076063707470894,-0.070209860801697,0.028261115774512,0.095610506832600));
res += mul(Get(s0,-dx,0), float4x4(0.066093772649765,0.081583410501480,0.104465991258621,-0.017846168950200,0.149060577154160,0.033335804939270,-0.100360788404942,-0.048752918839455,0.031885992735624,-0.048270519822836,0.001013167900965,-0.027696942910552,-0.196537315845490,-0.045661173760891,-0.021856328472495,-0.003596191527322));
res += mul(Get(s0,-dx,dy), float4x4(0.039312373846769,0.004071812611073,0.023081755265594,0.028478458523750,0.034244328737259,-0.164155185222626,-0.004121930804104,0.088059999048710,-0.046321783214808,0.172239139676094,0.122542604804039,-0.158384606242180,0.033307258039713,-0.087449349462986,0.034583467990160,-0.105687886476517));
res += mul(Get(s0,0,-dy), float4x4(-0.046897191554308,-0.114862389862537,0.077295832335949,0.048789147287607,0.064378507435322,-0.050646051764488,0.101020447909832,-0.043189074844122,0.095430478453636,0.058316417038441,0.034979574382305,0.213693872094154,0.013412326574326,-0.014605944044888,-0.074942007660866,-0.142720013856888));
res += mul(Get(s0,0,0), float4x4(0.039133384823799,-0.028701806440949,0.035504601895809,0.108573496341705,-0.057750340551138,0.044100195169449,-0.038189280778170,0.119904249906540,-0.029096888378263,0.037721678614616,0.136092931032181,-0.024265663698316,-0.112764604389668,-0.236540064215660,-0.031213464215398,0.000639624777250));
res += mul(Get(s0,0,dy), float4x4(-0.104932256042957,0.045196659862995,0.016546674072742,0.038894474506378,0.173806443810463,-0.052864577621222,-0.030966496095061,0.074615150690079,-0.090717114508152,-0.153832629323006,0.264647841453552,-0.076894178986549,-0.056872844696045,-0.086019672453403,0.109046109020710,0.061036266386509));
res += mul(Get(s0,dx,-dy), float4x4(0.202327534556389,0.008790929801762,0.047169391065836,0.047136276960373,-0.040443234145641,0.015803659334779,-0.048834603279829,0.045033834874630,-0.108439043164253,-0.125285029411316,0.034740954637527,-0.129192262887955,0.046641431748867,-0.127452865242958,-0.013123434968293,-0.195459857583046));
res += mul(Get(s0,dx,0), float4x4(0.069413244724274,0.088043361902237,-0.086618795990944,-0.006699353456497,0.056192614138126,-0.021007534116507,0.086043030023575,-0.100366130471230,0.122759953141212,0.079891800880432,0.023015104234219,-0.203404068946838,0.033459961414337,0.000128616142320,-0.034534841775894,-0.047470968216658));
res += mul(Get(s0,dx,dy), float4x4(-0.132261171936989,-0.036953344941139,-0.043850235641003,-0.137420877814293,-0.059070944786072,-0.025340558961034,-0.089983657002449,-0.076985977590084,0.043929256498814,-0.044566553086042,-0.035638622939587,0.095875158905983,-0.122628241777420,-0.154953747987747,-0.124903447926044,-0.035579353570938));
res += mul(Get(s1,-dx,-dy), float4x4(-0.253825157880783,-0.023446241393685,0.039173871278763,-0.138616666197777,0.093777880072594,-0.118202134966850,-0.048346474766731,-0.039938457310200,-0.104791201651096,-0.112369872629642,-0.038704909384251,0.036872848868370,0.008202353492379,-0.036398731172085,0.198405936360359,0.005695539526641));
res += mul(Get(s1,-dx,0), float4x4(0.058225467801094,-0.066199541091919,0.140125423669815,0.169291928410530,0.094928182661533,-0.064861461520195,0.011465989053249,-0.070092886686325,-0.019620526582003,-0.017146183177829,-0.088817849755287,0.185462325811386,-0.126201212406158,0.099286399781704,-0.119172774255276,-0.009691455401480));
res += mul(Get(s1,-dx,dy), float4x4(-0.160530105233192,-0.033388581126928,0.022010767832398,-0.127371251583099,0.020044714212418,0.219881549477577,-0.021926868706942,-0.091804631054401,-0.025328529998660,0.161692172288895,0.027520386502147,0.090804442763329,0.113821886479855,0.177655816078186,0.153697639703751,-0.121258705854416));
res += mul(Get(s1,0,-dy), float4x4(-0.022182933986187,-0.002914482494816,-0.063460767269135,-0.085604675114155,0.159896329045296,-0.055578187108040,0.012484570965171,0.052559219300747,-0.084265694022179,0.030407350510359,-0.056712571531534,-0.101134017109871,-0.134224444627762,0.127077266573906,0.089613802731037,-0.064575202763081));
res += mul(Get(s1,0,0), float4x4(0.042809121310711,0.091027416288853,-0.029139589518309,-0.066482327878475,-0.054849978536367,-0.053232945501804,-0.072054274380207,0.049665071070194,-0.020768569782376,-0.030795915052295,-0.073387414216995,-0.000646187516395,-0.112567633390427,0.023032814264297,0.026753809303045,0.126282483339310));
res += mul(Get(s1,0,dy), float4x4(-0.011716414242983,0.125118330121040,0.092112056910992,0.122140094637871,0.067782603204250,-0.011049777269363,-0.009817274287343,-0.090264782309532,-0.027215657755733,-0.031383857131004,0.018211442977190,-0.052439425140619,0.008976764045656,-0.060232035815716,-0.046710759401321,0.101947911083698));
res += mul(Get(s1,dx,-dy), float4x4(0.001619079499505,-0.051560107618570,0.045166090130806,0.047872066497803,-0.010158552788198,-0.042323093861341,-0.068729139864445,-0.136385068297386,0.017971593886614,0.056360807269812,0.007199147716165,0.131015613675117,0.086122743785381,-0.018798725679517,-0.005935617256910,0.012950970791280));
res += mul(Get(s1,dx,0), float4x4(0.088824570178986,0.004770506639034,0.033449903130531,0.005841605365276,0.202045321464539,-0.118714727461338,0.105267263948917,-0.167873218655586,-0.034855242818594,0.041540075093508,0.075284302234650,0.187903806567192,-0.091347441077232,-0.082149207592010,0.115909427404404,0.036917462944984));
res += mul(Get(s1,dx,dy), float4x4(-0.064449228346348,-0.141282826662064,0.037945225834846,-0.058387141674757,0.075600303709507,-0.101046629250050,0.076766990125179,-0.055505018681288,-0.039947185665369,-0.017889335751534,0.080673344433308,0.140497356653214,0.017948469147086,-0.117997497320175,-0.125475510954857,0.090094678103924));
res += mul(Get(s2,-dx,-dy), float4x4(-0.077354796230793,0.079514808952808,-0.097257465124130,-0.041487704962492,0.062421236187220,-0.122324116528034,-0.114395089447498,0.034375552088022,-0.138269811868668,0.086438551545143,-0.079550206661224,-0.019632875919342,0.025513710454106,-0.017133824527264,0.118209540843964,0.028685957193375));
res += mul(Get(s2,-dx,0), float4x4(-0.055761348456144,0.031618144363165,-0.030790664255619,0.073180466890335,0.016561781987548,-0.146714612841606,0.054525613784790,0.134484857320786,-0.034842532128096,0.020825007930398,-0.115329146385193,0.015679430216551,-0.144774496555328,-0.137651100754738,0.008373244665563,-0.073120601475239));
res += mul(Get(s2,-dx,dy), float4x4(-0.018797250464559,-0.098105542361736,-0.020649036392570,-0.120162583887577,0.025900512933731,-0.056439548730850,-0.065708622336388,0.035800304263830,-0.093427300453186,-0.002657553181052,-0.023285383358598,-0.091797888278961,-0.306523025035858,-0.065678671002388,-0.115076333284378,-0.085201106965542));
res += mul(Get(s2,0,-dy), float4x4(-0.168271973729134,-0.004009133670479,0.002279850188643,0.035108357667923,0.001828960026614,-0.132601276040077,-0.030637493357062,0.029352331534028,-0.026969179511070,0.029186198487878,-0.013079564087093,0.129737555980682,0.005642879754305,0.131293222308159,-0.113403223454952,0.040181316435337));
res += mul(Get(s2,0,0), float4x4(-0.102661445736885,0.000774691463448,-0.053346034139395,-0.026763712987304,-0.066406741738319,0.107896551489830,0.056495565921068,0.034466929733753,0.010602609254420,-0.038994118571281,0.055337917059660,0.107049487531185,0.041600171476603,0.074846439063549,-0.089368157088757,-0.053802166134119));
res += mul(Get(s2,0,dy), float4x4(0.146500438451767,-0.045098144561052,-0.136316969990730,-0.090544238686562,-0.047578886151314,-0.042721156030893,-0.003191760042682,-0.124736107885838,0.026542311534286,-0.002982045989484,-0.069373480975628,-0.213651508092880,0.002809799043462,-0.036543123424053,-0.021070586517453,-0.034418292343616));
res += mul(Get(s2,dx,-dy), float4x4(0.032814424484968,0.076248615980148,0.113267742097378,-0.042410828173161,-0.186654970049858,-0.122490502893925,0.057227957993746,-0.019330238923430,-0.013592509552836,-0.143950611352921,0.073359303176403,0.005263623315841,0.047782268375158,0.091436050832272,0.084250099956989,0.113165125250816));
res += mul(Get(s2,dx,0), float4x4(0.031184403225780,0.013155527412891,0.046478305011988,-0.013909136876464,-0.002279870212078,-0.144736558198929,-0.059265706688166,0.049910277128220,-0.066913731396198,0.076343379914761,0.202662795782089,0.089007802307606,0.093067005276680,0.027279498055577,0.182072594761848,0.118033513426781));
res += mul(Get(s2,dx,dy), float4x4(-0.080945774912834,0.001988963689655,-0.036633919924498,0.163703113794327,-0.038494173437357,-0.010737977921963,0.125839933753014,0.009646848775446,-0.050344001501799,0.041963737457991,-0.005135615356266,-0.040305852890015,-0.077509507536888,0.075952067971230,0.122846148908138,-0.157000079751015));
res += mul(Get(s3,-dx,-dy), float4x4(-0.150873690843582,0.092409752309322,-0.126240164041519,-0.083209790289402,0.108948171138763,0.003688360331580,0.118002824485302,-0.170926779508591,-0.138806045055389,-0.076447397470474,0.073857426643372,-0.128289133310318,-0.025678180158138,0.068271599709988,-0.089140854775906,0.033489890396595));
res += mul(Get(s3,-dx,0), float4x4(-0.017818193882704,-0.194063067436218,-0.094906881451607,-0.013894543983042,0.025296343490481,0.022696048021317,0.036856606602669,-0.000572218501475,-0.224658817052841,0.052395693957806,0.018067017197609,0.000480687391246,-0.137244254350662,0.042323838919401,0.027029367163777,-0.031977023929358));
res += mul(Get(s3,-dx,dy), float4x4(-0.156893879175186,0.039376165717840,-0.033603031188250,-0.130324035882950,0.006659816019237,-0.088746130466461,-0.231624245643616,-0.039888527244329,-0.128858357667923,-0.067840211093426,-0.016909794881940,-0.067908853292465,-0.021507645025849,-0.132778778672218,-0.011221094988286,0.070691466331482));
res += mul(Get(s3,0,-dy), float4x4(0.079954028129578,-0.042772203683853,0.019328214228153,-0.082543447613716,0.073910489678383,0.108704358339310,-0.024576758965850,-0.111455656588078,0.285349100828171,-0.052266489714384,0.126653447747231,-0.046236734837294,0.050373863428831,0.036549624055624,0.031935036182404,0.010061449371278));
res += mul(Get(s3,0,0), float4x4(-0.013140825554729,0.021425733342767,0.044347252696753,-0.003793952986598,0.037903994321823,-0.030143205076456,-0.029177060350776,0.010031180456281,-0.074900917708874,0.156579598784447,0.166390866041183,-0.125097244977951,-0.047096110880375,-0.080703563988209,0.004269842058420,-0.022814415395260));
res += mul(Get(s3,0,dy), float4x4(0.016347125172615,-0.025601360946894,0.017359219491482,0.088450357317924,-0.056521993130445,-0.135612145066261,-0.083937063813210,0.085288085043430,0.170872464776039,-0.024037437513471,0.116339273750782,0.052929472178221,-0.102011561393738,0.097039259970188,-0.090459994971752,-0.030371952801943));
res += mul(Get(s3,dx,-dy), float4x4(0.014701768755913,-0.027137184515595,0.137773707509041,-0.150046244263649,-0.000705613521859,-0.077614098787308,-0.098612256348133,-0.040507987141609,0.015549259260297,0.177514195442200,-0.145537868142128,0.144147485494614,-0.014857502654195,0.132708743214607,0.199573501944542,0.127833351492882));
res += mul(Get(s3,dx,0), float4x4(0.111125893890858,0.024928838014603,-0.130746439099312,0.030338771641254,-0.083928205072880,0.020389458164573,-0.130291834473610,-0.054187100380659,0.058500427752733,0.026862189173698,-0.078317224979401,-0.047529630362988,-0.116627618670464,0.036742996424437,-0.029312241822481,0.084103398025036));
res += mul(Get(s3,dx,dy), float4x4(-0.018988095223904,-0.026538223028183,-0.270053863525391,0.210560575127602,0.065193846821785,0.030576733872294,-0.000533328508027,-0.035629156976938,0.023634845390916,0.020811555907130,0.020596703514457,0.059425201267004,0.063292071223259,0.175644695758820,0.067855961620808,0.100125618278980));
return max(float4(0,0,0,0), res);
}
