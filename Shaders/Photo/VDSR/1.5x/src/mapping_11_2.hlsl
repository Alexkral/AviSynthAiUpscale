sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.089368954300880,-0.076348312199116,0.002719976007938,0.017592819407582,-0.095611929893494,-0.049364008009434,-0.053893640637398,0.018810462206602,-0.021993583068252,-0.055601071566343,0.077109120786190,-0.002326376037672,-0.030022328719497,-0.079925782978535,0.038397304713726,-0.076609686017036));
res += mul(Get(s0,-dx,0), float4x4(-0.026919107884169,0.167644947767258,-0.042272709310055,0.016749145463109,-0.000557599007152,0.109348729252815,0.020813867449760,0.017348200082779,-0.000410414766520,-0.014773745089769,0.068822801113129,0.027312930673361,-0.085748277604580,-0.054246433079243,0.025305770337582,-0.046043798327446));
res += mul(Get(s0,-dx,dy), float4x4(-0.043133914470673,0.016841698437929,0.015955338254571,0.085783191025257,0.112572520971298,0.054503206163645,-0.031957939267159,-0.071404516696930,0.012397145852447,-0.055047899484634,0.062939830124378,0.022207587957382,-0.095105782151222,0.030345190316439,0.008658686652780,-0.025707634165883));
res += mul(Get(s0,0,-dy), float4x4(0.184240967035294,-0.060792919248343,0.099081203341484,0.011220913380384,-0.083993420004845,-0.090934358537197,0.036597281694412,0.015862133353949,0.034304961562157,-0.017869327217340,0.138586908578873,0.085277751088142,0.098165534436703,0.064285740256310,0.090835675597191,0.013659273274243));
res += mul(Get(s0,0,0), float4x4(0.112987861037254,0.139475390315056,0.004957243800163,0.149475812911987,-0.032302055507898,-0.044404726475477,-0.032399516552687,-0.084606789052486,0.038566537201405,0.046607863157988,-0.001213911571540,0.033231422305107,0.123186536133289,0.183578908443451,0.134249642491341,-0.003263027174398));
res += mul(Get(s0,0,dy), float4x4(0.015877462923527,0.046610549092293,0.020235236734152,0.020391762256622,0.164671272039413,0.018148085102439,-0.113206021487713,-0.045446902513504,0.004206863697618,-0.034502271562815,-0.013217498548329,0.034779693931341,0.126238942146301,0.073175050318241,0.074866466224194,-0.001613940345123));
res += mul(Get(s0,dx,-dy), float4x4(0.059561263769865,0.006894941441715,0.071666307747364,0.038211569190025,-0.069377444684505,-0.097380504012108,0.040397223085165,0.033994935452938,0.018891984596848,-0.004610149655491,0.060734897851944,0.021351890638471,0.038203641772270,0.013893007300794,-0.005630113650113,0.017927024513483));
res += mul(Get(s0,dx,0), float4x4(-0.025876758620143,0.144223645329475,0.033481471240520,0.069066569209099,0.001079438719898,-0.003217846155167,0.078299410641193,0.033175207674503,0.031086737290025,-0.041429661214352,0.043753314763308,0.000223875089432,-0.024679666385055,-0.019894048571587,-0.041098736226559,0.006689774338156));
res += mul(Get(s0,dx,dy), float4x4(0.079354129731655,0.034857615828514,-0.004863599315286,0.025874013081193,0.057861056178808,0.053891107439995,0.009482714347541,0.112480454146862,0.006568800657988,-0.046462573111057,0.054302491247654,0.046887062489986,0.021437747403979,0.009167951531708,0.012200263328850,-0.005828090943396));
res += mul(Get(s1,-dx,-dy), float4x4(0.027764989063144,0.001805792097002,-0.011707041412592,0.140965372323990,-0.011748006567359,-0.046902608126402,0.005560081452131,-0.008566257543862,0.146205201745033,-0.046557128429413,0.096479639410973,0.041397787630558,0.055364996194839,0.013652886264026,0.050056964159012,-0.036787051707506));
res += mul(Get(s1,-dx,0), float4x4(-0.045502845197916,-0.079180397093296,0.022225663065910,-0.084453701972961,0.101605340838432,0.097162909805775,0.001091573736630,-0.052763048559427,0.030437590554357,0.045973025262356,-0.063333258032799,0.057780388742685,-0.040693785995245,0.103596664965153,0.053545914590359,-0.008221300318837));
res += mul(Get(s1,-dx,dy), float4x4(0.000119229960546,0.007419880013913,-0.059456024318933,-0.102594099938869,-0.043162934482098,-0.065653890371323,0.050569545477629,-0.027425860986114,0.003811615519226,0.015678275376558,-0.044556356966496,-0.010898185893893,-0.063933841884136,0.052677437663078,-0.072452276945114,-0.177186563611031));
res += mul(Get(s1,0,-dy), float4x4(-0.033015150576830,0.027442056685686,0.037833761423826,0.175469502806664,-0.156498074531555,-0.121323011815548,0.100424960255623,-0.001701310742646,0.086255490779877,0.008346927352250,0.036128420382738,0.011553628370166,0.090658642351627,-0.004797489382327,0.036897167563438,-0.001800562371500));
res += mul(Get(s1,0,0), float4x4(-0.039415400475264,-0.084249787032604,0.280159294605255,0.020553614944220,0.213094502687454,0.044108726084232,-0.041927244514227,0.006639383733273,0.032028093934059,0.112692512571812,0.155827224254608,-0.037311784923077,-0.068313837051392,0.015750410035253,0.066692359745502,-0.025237061083317));
res += mul(Get(s1,0,dy), float4x4(0.007951609790325,0.040657110512257,0.029772296547890,-0.050570070743561,-0.020019244402647,0.144855305552483,0.021108940243721,0.107189923524857,0.065049193799496,-0.071539774537086,-0.031820792704821,-0.002242308109999,-0.076009459793568,-0.103483535349369,-0.166323855519295,-0.054987255483866));
res += mul(Get(s1,dx,-dy), float4x4(-0.079034067690372,-0.027016209438443,0.004957119468600,-0.005760586820543,-0.058419398963451,-0.058162637054920,0.015589874237776,-0.003749310970306,-0.007177791092545,0.030833510681987,0.084822550415993,0.030328171327710,0.011375868692994,-0.057162236422300,0.009359401650727,0.022800514474511));
res += mul(Get(s1,dx,0), float4x4(0.073491081595421,0.003935236018151,0.001358409645036,0.028641296550632,0.116394795477390,0.251486092805862,0.047247231006622,-0.033784385770559,0.013958953320980,-0.014668556861579,0.094553269445896,0.020418787375093,-0.000780242262408,0.036831807345152,0.068682938814163,-0.032701648771763));
res += mul(Get(s1,dx,dy), float4x4(-0.001816212665290,-0.010887896642089,-0.039870966225863,0.055686183273792,-0.042848888784647,0.071767538785934,0.028885131701827,0.001443997956812,0.015590117312968,-0.004801134578884,0.032786704599857,-0.015070253983140,-0.095275133848190,0.017661971971393,-0.102846771478653,0.013492554426193));
res += mul(Get(s2,-dx,-dy), float4x4(-0.108698546886444,-0.031593196094036,-0.073755100369453,0.053320873528719,0.115154013037682,-0.047055855393410,0.022571181878448,0.095173582434654,-0.039770163595676,0.063185296952724,-0.123868405818939,0.037677109241486,-0.041287589818239,-0.068657092750072,-0.018105186522007,0.069424919784069));
res += mul(Get(s2,-dx,0), float4x4(0.055626738816500,-0.161676451563835,-0.049264293164015,0.091822646558285,-0.020416757091880,0.167142629623413,-0.045584369450808,0.055279128253460,-0.025147905573249,-0.067708879709244,-0.086289614439011,0.017520872876048,-0.098479107022285,0.016536362469196,0.024497507140040,0.199060752987862));
res += mul(Get(s2,-dx,dy), float4x4(0.088698096573353,0.010587048716843,-0.111520990729332,-0.070048019289970,-0.025544779375196,-0.008010033518076,0.016655184328556,0.104832515120506,0.036247435957193,-0.038098342716694,-0.133639097213745,-0.040656372904778,-0.069605380296707,-0.024977061897516,-0.011048252694309,0.020871924236417));
res += mul(Get(s2,0,-dy), float4x4(-0.105428874492645,0.005659673828632,0.006098471116275,-0.010304935276508,0.080774031579494,0.004661833867431,0.032948736101389,-0.033373266458511,0.033073868602514,-0.000622666848358,-0.111337460577488,0.075178802013397,0.018627377226949,-0.028281610459089,-0.108198851346970,-0.007614261005074));
res += mul(Get(s2,0,0), float4x4(0.137179374694824,-0.013532742857933,-0.097316876053810,0.223567172884941,-0.021789938211441,-0.010235521011055,0.167765110731125,-0.084434218704700,-0.002347579924390,0.070545889437199,-0.008823497220874,0.151974499225616,0.035042665898800,0.092871345579624,-0.107332073152065,-0.021830054000020));
res += mul(Get(s2,0,dy), float4x4(0.022417066618800,0.000247443444096,0.032049201428890,-0.059898458421230,-0.042793452739716,-0.061499863862991,-0.010816007852554,-0.010818044655025,-0.011392400600016,-0.099723659455776,-0.041336636990309,0.041543267667294,-0.099351286888123,-0.015250212512910,-0.039399132132530,-0.066009677946568));
res += mul(Get(s2,dx,-dy), float4x4(-0.096612997353077,-0.011192823760211,-0.039824556559324,-0.021897064521909,0.008217066526413,0.063061989843845,-0.005720292683691,0.049105722457170,0.018110942095518,0.017690764740109,0.047721996903419,-0.059307381510735,-0.013804350048304,-0.031545244157314,0.055627383291721,-0.042540390044451));
res += mul(Get(s2,dx,0), float4x4(-0.074866838753223,0.048306174576283,-0.056548647582531,0.141265675425529,0.026954215019941,-0.018585490062833,0.021558962762356,-0.026946116238832,0.038360279053450,0.053315863013268,0.024291492998600,-0.099199689924717,0.057786446064711,-0.009975300170481,-0.100428827106953,-0.003057510359213));
res += mul(Get(s2,dx,dy), float4x4(-0.036473114043474,-0.070495620369911,-0.024919597432017,-0.104498013854027,-0.055716283619404,0.004338729660958,-0.002841655164957,-0.028700519353151,-0.006953671574593,-0.003940623253584,0.051279690116644,-0.083530396223068,-0.128458589315414,-0.016219843178988,-0.069232113659382,0.014848014339805));
res += mul(Get(s3,-dx,-dy), float4x4(-0.034061171114445,-0.027251828461885,0.051151927560568,-0.054508604109287,-0.110560759902000,-0.002304525813088,-0.025333499535918,-0.060843888670206,-0.073400832712650,-0.008334279060364,-0.012958900071681,0.029899042099714,-0.017272463068366,0.018687784671783,-0.015143665485084,-0.062102891504765));
res += mul(Get(s3,-dx,0), float4x4(0.059464093297720,-0.027245020493865,0.017196213826537,-0.019806409254670,0.071118958294392,-0.025586122646928,0.036563415080309,-0.066841520369053,-0.038196727633476,-0.007485560607165,-0.011781957000494,-0.060643561184406,-0.185527890920639,0.031545687466860,0.036437448114157,-0.113007538020611));
res += mul(Get(s3,-dx,dy), float4x4(0.030092371627688,-0.013405370526016,-0.013321460224688,-0.088669940829277,-0.130811795592308,-0.091369993984699,0.000888535752892,0.045075569301844,0.124133527278900,-0.048222158104181,-0.113831825554371,0.081055589020252,-0.050867643207312,-0.027329502627254,0.010460241697729,0.091625094413757));
res += mul(Get(s3,0,-dy), float4x4(-0.077877454459667,-0.028673758730292,0.014260146766901,0.066844776272774,-0.105518795549870,0.047678969800472,-0.010051672346890,-0.089412681758404,-0.016668194904923,-0.030996229499578,0.005171556025743,-0.022741401568055,0.093726165592670,0.023010458797216,-0.091293744742870,-0.089225403964520));
res += mul(Get(s3,0,0), float4x4(0.028463240712881,-0.043933499604464,0.004165124613792,0.121653914451599,0.043516606092453,0.016058750450611,0.138002514839172,-0.151494264602661,0.056936107575893,0.002867393661290,-0.134908407926559,0.028587637469172,-0.124070324003696,0.106589123606682,0.127790853381157,-0.088425517082214));
res += mul(Get(s3,0,dy), float4x4(0.032269921153784,0.014162881299853,0.048434298485518,-0.148055389523506,-0.010860245674849,0.099640637636185,-0.035308487713337,0.014533840119839,0.099268823862076,0.034556679427624,-0.042599793523550,0.057845063507557,-0.055800080299377,-0.047185167670250,-0.078111849725246,0.124183975160122));
res += mul(Get(s3,dx,-dy), float4x4(-0.045932009816170,0.047331795096397,0.064763739705086,-0.009504650719464,-0.169840887188911,0.049228925257921,0.016872385516763,0.076583817601204,-0.035966329276562,0.031228909268975,-0.041052285581827,-0.051668781787157,0.033180139958858,0.051687635481358,-0.019687119871378,-0.128908902406693));
res += mul(Get(s3,dx,0), float4x4(0.033197101205587,0.116168156266212,0.079482004046440,0.102505452930927,0.018820937722921,0.039327442646027,0.139948204159737,0.053525250405073,0.027611514553428,0.032641068100929,-0.024129439145327,-0.050904262810946,-0.165543168783188,0.026716077700257,0.014394118450582,-0.027993364259601));
res += mul(Get(s3,dx,dy), float4x4(0.037371065467596,0.065779320895672,-0.010547319427133,0.012913201935589,-0.088861405849457,-0.050352174788713,-0.073803655803204,-0.016947519034147,0.007455508224666,-0.035786565393209,0.011617054231465,-0.043893359601498,-0.066879101097584,-0.030603779479861,-0.049519553780556,0.106857784092426));
return max(float4(0,0,0,0), res);
}
