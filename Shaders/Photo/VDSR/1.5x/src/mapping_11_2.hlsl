sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.161109432578087,0.071337848901749,-0.044152468442917,-0.142862454056740,-0.095582932233810,-0.158100783824921,-0.005724905990064,0.036213561892509,-0.043691974133253,0.000095997660537,-0.001022699172609,0.077492818236351,0.096379987895489,0.042568285018206,0.052227951586246,0.077605508267879));
res += mul(Get(s0,-dx,0), float4x4(-0.058102037757635,-0.128052741289139,0.014329800382257,-0.041947096586227,-0.039182357490063,0.057749487459660,-0.082233220338821,-0.052969161421061,-0.041729178279638,-0.054818991571665,0.100589543581009,-0.029811330139637,0.123617433011532,0.155866310000420,0.152921184897423,0.045351050794125));
res += mul(Get(s0,-dx,dy), float4x4(0.066933073103428,0.011993324384093,-0.053205478936434,-0.128263458609581,0.059858623892069,0.053501337766647,0.163137435913086,0.103377431631088,0.028341235592961,-0.087768167257309,0.030299816280603,0.059627953916788,0.024542510509491,0.107910171151161,0.185795888304710,-0.026910342276096));
res += mul(Get(s0,0,-dy), float4x4(0.011382400058210,0.022469054907560,-0.183747187256813,-0.016863152384758,0.025768896564841,-0.031921286135912,-0.105738773941994,0.054949678480625,-0.087958946824074,-0.005117639899254,-0.079357102513313,0.001590069499798,-0.177599385380745,0.108083590865135,-0.077012851834297,-0.089699149131775));
res += mul(Get(s0,0,0), float4x4(-0.025268860161304,-0.021386988461018,0.066293433308601,0.096691489219666,-0.174776494503021,-0.042827304452658,0.191327050328255,-0.124406203627586,-0.080467827618122,0.027113229036331,0.028971092775464,0.038248192518950,-0.190290853381157,-0.009265378117561,0.203372418880463,0.199330657720566));
res += mul(Get(s0,0,dy), float4x4(-0.095919340848923,-0.009922742843628,-0.009396241046488,-0.055056132376194,0.007389030884951,-0.020511945709586,0.007586040999740,-0.011499495245516,-0.038014329969883,-0.150836214423180,0.016159368678927,-0.046098377555609,-0.037772268056870,-0.196318015456200,-0.165516853332520,-0.118356019258499));
res += mul(Get(s0,dx,-dy), float4x4(-0.053972061723471,-0.046839743852615,0.103333994746208,-0.044118214398623,0.183417007327080,-0.078647553920746,-0.094657443463802,-0.047867827117443,-0.115180119872093,-0.062621988356113,-0.051886737346649,0.038208812475204,-0.073948785662651,-0.037125352770090,-0.199213594198227,0.037138834595680));
res += mul(Get(s0,dx,0), float4x4(-0.069440260529518,0.139587268233299,0.100029423832893,-0.113616093993187,0.067857146263123,0.125748038291931,-0.056662943214178,-0.006789760664105,0.056342370808125,-0.115922093391418,-0.111257843673229,0.109207488596439,-0.001032740459777,0.066239312291145,0.023481566458941,-0.048329044133425));
res += mul(Get(s0,dx,dy), float4x4(0.102469772100449,0.007340196985751,0.049292728304863,-0.033888693898916,0.112377919256687,0.076905004680157,0.051296897232533,0.109847679734230,-0.114851273596287,0.028684396296740,0.038934193551540,0.070331208407879,-0.009996089152992,0.043835606426001,0.106527656316757,-0.193140268325806));
res += mul(Get(s1,-dx,-dy), float4x4(-0.089718863368034,0.044812664389610,0.014000447466969,0.033773247152567,-0.025287616997957,-0.142404109239578,0.048949804157019,-0.005419718101621,-0.072872355580330,0.071504242718220,0.028763473033905,-0.102280773222446,-0.061262886971235,0.012129786424339,-0.035325143486261,-0.118655636906624));
res += mul(Get(s1,-dx,0), float4x4(-0.054935079067945,0.047938980162144,0.061366450041533,0.155080497264862,0.027623692527413,-0.051677975803614,0.075378082692623,-0.003775543998927,0.097013995051384,0.093868546187878,0.034724965691566,0.016374675557017,0.087566658854485,0.091734446585178,-0.079975783824921,-0.084876418113708));
res += mul(Get(s1,-dx,dy), float4x4(-0.037152890115976,-0.005679609719664,-0.002128844149411,-0.008827612735331,0.073499374091625,-0.101076252758503,-0.044700067490339,-0.083138793706894,0.075537107884884,0.192750573158264,0.108555108308792,0.029728366062045,0.006648683920503,0.040483683347702,0.004071374423802,0.023999404162169));
res += mul(Get(s1,0,-dy), float4x4(0.212558671832085,0.008006268180907,0.117431469261646,-0.007824446074665,0.001771513838321,0.065469525754452,-0.025589345023036,-0.112035498023033,0.000770420941990,-0.073852851986885,0.093978755176067,0.069090396165848,-0.023571187630296,0.034580487757921,0.046342872083187,-0.054611288011074));
res += mul(Get(s1,0,0), float4x4(-0.026116393506527,-0.062820717692375,0.224226161837578,0.146798387169838,-0.007868845947087,0.248682230710983,0.050560686737299,-0.050216175615788,0.067573092877865,0.048230789601803,0.183744609355927,-0.024172022938728,-0.056648332625628,-0.023460419848561,0.103668645024300,0.033732727169991));
res += mul(Get(s1,0,dy), float4x4(0.012904091738164,0.006021021399647,0.043611865490675,0.000353307725163,-0.063790135085583,-0.068986870348454,0.103020831942558,-0.014502738602459,0.020438255742192,-0.053993072360754,-0.014784306287766,-0.128373324871063,-0.043757867068052,0.125131145119667,0.148398473858833,-0.121918961405754));
res += mul(Get(s1,dx,-dy), float4x4(0.127561017870903,0.008273999206722,-0.073923096060753,-0.077919498085976,0.018568160012364,-0.053720738738775,0.077191516757011,-0.037165861576796,-0.053758002817631,0.160344600677490,0.035295091569424,-0.081875517964363,0.019403548911214,0.165376663208008,0.039959587156773,0.031092673540115));
res += mul(Get(s1,dx,0), float4x4(0.040422156453133,-0.062357876449823,0.111090756952763,0.032764837145805,-0.004301735665649,0.155666738748550,-0.053577426820993,-0.159218996763229,0.035958040505648,0.107859894633293,0.016741018742323,0.040709298104048,-0.103827558457851,-0.176845371723175,0.042348831892014,0.126663491129875));
res += mul(Get(s1,dx,dy), float4x4(-0.015676928684115,-0.132193148136139,0.232749417424202,0.132701829075813,0.012877763248980,0.018071500584483,-0.060734551399946,0.052514959126711,0.007856111973524,-0.047773290425539,0.038564737886190,0.056439500302076,0.150311395525932,0.003703066846356,0.187771916389465,0.063773132860661));
res += mul(Get(s2,-dx,-dy), float4x4(0.019364062696695,0.047474883496761,0.121341705322266,-0.191967725753784,-0.149557560682297,-0.047940276563168,0.119781292974949,0.033211391419172,0.040260586887598,-0.109208248555660,-0.055022958666086,0.170711934566498,0.040295332670212,0.130518406629562,0.003597024828196,0.097921565175056));
res += mul(Get(s2,-dx,0), float4x4(-0.049175702035427,0.209824293851852,0.073220089077950,-0.051847171038389,-0.001168815651909,-0.012686490081251,-0.020545933395624,0.052305579185486,0.013409966602921,0.032936405390501,0.125018090009689,-0.088311761617661,0.072966806590557,0.173141807317734,0.042612403631210,-0.104225099086761));
res += mul(Get(s2,-dx,dy), float4x4(-0.096169836819172,0.158518239855766,0.068903453648090,-0.032963022589684,0.107241913676262,0.049488600343466,-0.058305088430643,-0.135921061038971,0.078660205006599,0.024224674329162,-0.102823220193386,0.024684840813279,0.009435744024813,-0.082395024597645,0.145158335566521,0.085134238004684));
res += mul(Get(s2,0,-dy), float4x4(0.021378122270107,0.100427880883217,0.019520601257682,-0.053018979728222,-0.081726729869843,-0.054277841001749,-0.040271982550621,-0.242015749216080,0.071309737861156,-0.139501094818115,0.087817072868347,-0.045435864478350,-0.066059723496437,-0.161552891135216,-0.018817562609911,-0.163872838020325));
res += mul(Get(s2,0,0), float4x4(-0.047773916274309,-0.213957265019417,-0.052809085696936,0.103783540427685,0.023993246257305,0.124618090689182,0.141152635216713,-0.088634401559830,-0.116270616650581,0.051331300288439,-0.015245289541781,-0.137079015374184,-0.051631759852171,0.098661690950394,0.301512002944946,0.187757506966591));
res += mul(Get(s2,0,dy), float4x4(-0.028200199827552,-0.173079594969749,-0.001370564801618,-0.133967131376266,-0.031418822705746,-0.123511858284473,-0.092906348407269,0.019994657486677,-0.065161459147930,0.076468788087368,0.020261419937015,-0.078248754143715,-0.014630313962698,-0.027398532256484,0.009288075380027,0.062092076987028));
res += mul(Get(s2,dx,-dy), float4x4(0.043829116970301,-0.083072640001774,0.086964301764965,0.081988282501698,0.044985365122557,0.007100265938789,-0.206557318568230,0.037569992244244,-0.048316434025764,-0.060086481273174,0.030703021213412,-0.084047034382820,-0.042028933763504,-0.124171294271946,-0.044238828122616,-0.051330950111151));
res += mul(Get(s2,dx,0), float4x4(-0.067029580473900,0.090405844151974,-0.026760118082166,0.062541872262955,-0.106856033205986,-0.114939339458942,0.177219972014427,0.012585948221385,-0.039370171725750,-0.078510150313377,0.059179726988077,0.007906318642199,0.016156308352947,0.099249616265297,-0.045492336153984,0.043611552566290));
res += mul(Get(s2,dx,dy), float4x4(-0.071405656635761,0.155580386519432,0.025262495502830,0.130395188927650,0.122900158166885,-0.003401951631531,0.055303450673819,0.101175151765347,0.081683784723282,-0.033690366894007,0.012355958111584,-0.000902243948076,-0.130472302436829,0.031134257093072,0.064090475440025,0.103484548628330));
res += mul(Get(s3,-dx,-dy), float4x4(0.069917865097523,-0.067853145301342,0.105025149881840,0.148242935538292,0.126266434788704,-0.059010818600655,0.116415686905384,-0.054356776177883,0.129795432090759,0.188958004117012,-0.033750072121620,0.067866303026676,0.054422274231911,-0.125882431864738,-0.005680213216692,-0.067170329391956));
res += mul(Get(s3,-dx,0), float4x4(-0.039002694189548,0.126698791980743,0.089332185685635,0.031934943050146,-0.039535697549582,0.042921673506498,0.015447287820280,0.019937802106142,-0.066417872905731,0.061691105365753,-0.169729202985764,0.222420334815979,-0.083021804690361,0.005797957070172,0.117897912859917,-0.080069683492184));
res += mul(Get(s3,-dx,dy), float4x4(0.044203720986843,-0.071243628859520,-0.050163801759481,-0.033006578683853,0.020315442234278,0.056149698793888,0.094106473028660,0.063531130552292,0.050735425204039,-0.089486889541149,-0.052561726421118,-0.037835191935301,0.002434594323859,-0.000096159179520,0.105718031525612,-0.141910225152969));
res += mul(Get(s3,0,-dy), float4x4(-0.098358877003193,0.022470863536000,0.116168774664402,-0.022060289978981,0.066381521522999,0.146328136324883,0.005854086950421,0.037425111979246,-0.022206364199519,0.221703335642815,0.083318963646889,0.014583369717002,-0.008197767660022,-0.046436239033937,-0.042550951242447,0.035636249929667));
res += mul(Get(s3,0,0), float4x4(-0.080539382994175,0.058003783226013,0.093321010470390,0.112774051725864,-0.029290823265910,-0.035311404615641,0.026190321892500,-0.053332202136517,-0.082738667726517,0.143706932663918,-0.058378800749779,0.004348147194833,0.051637951284647,-0.106121733784676,-0.109452158212662,-0.044895227998495));
res += mul(Get(s3,0,dy), float4x4(0.100149728357792,0.074204534292221,0.126158267259598,0.244500428438187,-0.127209037542343,-0.019174367189407,0.137162774801254,0.076606065034866,-0.155461728572845,-0.028386529535055,-0.112031549215317,0.193860143423080,-0.027220543473959,-0.133717283606529,0.082435190677643,-0.239486917853355));
res += mul(Get(s3,dx,-dy), float4x4(-0.029221557080746,-0.072728589177132,-0.032429262995720,0.013672935776412,0.089623160660267,0.070758111774921,-0.077165819704533,0.009147023782134,-0.029316982254386,0.028017180040479,0.086879104375839,0.098772779107094,-0.004683933686465,0.088556148111820,-0.064026169478893,0.007830203510821));
res += mul(Get(s3,dx,0), float4x4(-0.088533036410809,-0.004100947175175,0.170093670487404,-0.037207808345556,0.052745599299669,-0.111565329134464,-0.131715714931488,0.184408947825432,0.060679621994495,0.077466666698456,0.032607048749924,-0.029566820710897,0.091329678893089,-0.044002383947372,-0.060713656246662,-0.042516354471445));
res += mul(Get(s3,dx,dy), float4x4(-0.105927646160126,-0.030919626355171,0.095635704696178,-0.092904023826122,0.068809203803539,-0.009527368471026,0.096898704767227,0.127478599548340,0.143532931804657,0.033596664667130,0.036569856107235,0.196681305766106,-0.130704119801521,-0.099198140203953,-0.080967299640179,0.004697395488620));
return max(float4(0,0,0,0), res);
}
