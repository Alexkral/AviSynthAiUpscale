sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.013197167776525,-0.002186503726989,0.119221776723862,0.025020223110914,0.149701103568077,0.031670451164246,-0.088437594473362,-0.052487291395664,0.051735509186983,-0.057842541486025,0.037722457200289,-0.016520839184523,0.015965381637216,-0.099241435527802,0.093158394098282,-0.143341809511185));
res += mul(Get(s0,-dx,0), float4x4(-0.015417370945215,0.045535977929831,0.067989446222782,-0.098010212182999,0.022001625970006,0.158558025956154,0.072631232440472,0.066740982234478,-0.075616508722305,-0.076212860643864,-0.039858929812908,0.166773110628128,0.074820846319199,-0.083369366824627,-0.114589974284172,0.007354743313044));
res += mul(Get(s0,-dx,dy), float4x4(-0.022416945546865,0.100166559219360,0.044063918292522,0.049502395093441,-0.033931538462639,0.114208087325096,-0.039798375219107,0.022680284455419,0.005466738715768,-0.046183582395315,-0.014096640050411,-0.045703362673521,0.073351562023163,0.056838307529688,0.019819881767035,-0.085027694702148));
res += mul(Get(s0,0,-dy), float4x4(-0.106062963604927,-0.136376380920410,0.010311340913177,-0.135178655385971,-0.072429366409779,-0.167510047554970,0.047337792813778,0.082154050469398,-0.033776175230742,-0.026331249624491,-0.076723642647266,-0.173311784863472,0.111724913120270,-0.064101077616215,0.062559597194195,-0.041505400091410));
res += mul(Get(s0,0,0), float4x4(-0.016371378675103,0.118120640516281,0.113705016672611,0.016840124502778,0.034788120537996,0.002682250691578,0.000249576260103,0.001468881848268,-0.012520490214229,0.099528118968010,0.093468390405178,0.172204822301865,0.014991073869169,0.005452327430248,0.148785606026649,0.113471016287804));
res += mul(Get(s0,0,dy), float4x4(0.063557632267475,-0.151158839464188,0.047637034207582,0.216986149549484,-0.010198709554970,-0.018284717574716,0.010898263193667,-0.094737753272057,0.067692019045353,0.137505248188972,0.041715037077665,-0.127128973603249,-0.023604774847627,-0.032055124640465,-0.081145234405994,0.225497096776962));
res += mul(Get(s0,dx,-dy), float4x4(-0.019202332943678,0.023420888930559,-0.025026300922036,0.048335757106543,0.045652776956558,0.014218382537365,0.017268411815166,-0.100088134407997,-0.031012477353215,0.013141212053597,-0.014660631306469,0.014993548393250,-0.073969110846519,0.076646886765957,-0.023907365277410,0.067715987563133));
res += mul(Get(s0,dx,0), float4x4(-0.026865541934967,-0.103328831493855,0.044897772371769,-0.091243334114552,0.084935940802097,0.146612823009491,-0.113344304263592,0.014881325885653,-0.123150162398815,-0.081445865333080,0.093607708811760,0.099580772221088,0.050287283957005,-0.042502578347921,0.064141109585762,-0.021720929071307));
res += mul(Get(s0,dx,dy), float4x4(-0.158611118793488,-0.137378826737404,0.123705223202705,0.057221829891205,-0.101784653961658,0.059351235628128,0.035240072757006,-0.119654916226864,-0.137766912579536,0.061010915786028,0.170076385140419,0.022056443616748,-0.108315557241440,-0.157851859927177,0.141439080238342,0.009664201177657));
res += mul(Get(s1,-dx,-dy), float4x4(0.075241327285767,-0.047771643847227,0.033841174095869,0.079299464821815,0.134576573967934,-0.127722412347794,-0.061871502548456,0.009393326938152,-0.131439536809921,-0.030335681512952,0.161744564771652,0.062058631330729,-0.039283808320761,-0.031530275940895,0.020092597231269,0.024607963860035));
res += mul(Get(s1,-dx,0), float4x4(-0.084106147289276,0.076098240911961,0.029110729694366,0.065632216632366,-0.009504797868431,-0.033331792801619,0.157011240720749,-0.026999643072486,-0.044178780168295,-0.020295219495893,-0.121028535068035,-0.043073173612356,0.048766687512398,-0.103751197457314,0.084068633615971,0.034283764660358));
res += mul(Get(s1,-dx,dy), float4x4(-0.081053324043751,-0.082609072327614,0.174707666039467,0.033801246434450,-0.073211178183556,-0.016610512509942,-0.157890260219574,-0.063079461455345,0.091554366052151,-0.023109581321478,-0.073095381259918,-0.027989421039820,-0.078203611075878,-0.084543265402317,-0.107839994132519,0.008105052635074));
res += mul(Get(s1,0,-dy), float4x4(0.157420992851257,-0.066636420786381,-0.147680222988129,-0.022189483046532,0.053081791847944,0.121225394308567,0.057901069521904,0.128073200583458,-0.029561683535576,0.096893973648548,0.065302237868309,0.145630419254303,0.028535308316350,-0.061661120504141,-0.205961197614670,0.218711674213409));
res += mul(Get(s1,0,0), float4x4(-0.053800672292709,-0.096220225095749,0.022441558539867,-0.085746191442013,-0.004905016627163,0.124159552156925,0.104881472885609,0.062435619533062,-0.025618465617299,-0.000285458023427,-0.027959495782852,0.032504461705685,0.066384032368660,-0.018506376072764,0.069993071258068,-0.292630732059479));
res += mul(Get(s1,0,dy), float4x4(-0.005349530372769,-0.051643230021000,-0.092430390417576,0.003760815830901,-0.140588238835335,0.065737217664719,-0.130137264728546,0.182628631591797,-0.076891675591469,-0.045231644064188,-0.034299299120903,0.090444676578045,-0.054972615092993,0.121320717036724,0.029528586193919,0.151495233178139));
res += mul(Get(s1,dx,-dy), float4x4(-0.053428351879120,-0.064817383885384,0.018302457407117,0.053211126476526,-0.065508276224136,0.067542567849159,0.207661792635918,0.106358274817467,-0.032752908766270,-0.172261491417885,-0.165391638875008,-0.025799330323935,-0.087876297533512,-0.133811742067337,-0.110390320420265,0.025944532826543));
res += mul(Get(s1,dx,0), float4x4(0.057764936238527,0.055620037019253,-0.091486245393753,0.046350482851267,-0.063081495463848,0.054205253720284,-0.089037396013737,0.058690860867500,0.087292097508907,-0.169457569718361,0.111171096563339,0.102048933506012,0.009532710537314,0.136841922998428,-0.017341470345855,0.031493309885263));
res += mul(Get(s1,dx,dy), float4x4(-0.186888575553894,-0.120459929108620,0.049306232482195,0.073718048632145,0.021366577595472,0.056626729667187,0.095071427524090,0.102842874825001,-0.101920425891876,0.031441222876310,-0.011565889231861,0.019971204921603,0.019342124462128,-0.008394602686167,-0.131377220153809,-0.068491056561470));
res += mul(Get(s2,-dx,-dy), float4x4(-0.118702575564384,-0.016794200986624,-0.102757886052132,-0.020598020404577,-0.067256465554237,-0.049057696014643,0.009569675661623,0.027285946533084,-0.034845184534788,0.013140489347279,-0.087118484079838,0.116390116512775,0.019370704889297,0.042642928659916,0.071388676762581,-0.003936398308724));
res += mul(Get(s2,-dx,0), float4x4(-0.116176426410675,0.046277925372124,0.019945660606027,-0.000399363867473,-0.044967029243708,0.082795195281506,0.056642770767212,-0.031633846461773,-0.050199113786221,-0.103209003806114,-0.108871750533581,0.157393157482147,0.048104144632816,-0.019601721316576,0.027507517486811,0.017709042876959));
res += mul(Get(s2,-dx,dy), float4x4(-0.081450499594212,0.092643953859806,-0.058194406330585,-0.019061844795942,-0.066481009125710,0.126841768622398,-0.009130644612014,0.011843523941934,-0.006430863868445,-0.028310298919678,0.045819375663996,0.050954643636942,0.027867596596479,0.024812690913677,0.016532670706511,-0.062334176152945));
res += mul(Get(s2,0,-dy), float4x4(-0.025813564658165,-0.002447536913678,0.057069502770901,0.071459636092186,-0.018540974706411,0.005838335026056,-0.049133669584990,0.128874182701111,-0.105948045849800,-0.008891132660210,-0.010785389691591,-0.066338397562504,0.046113062649965,0.044472590088844,-0.014376470819116,0.131557658314705));
res += mul(Get(s2,0,0), float4x4(-0.048432052135468,0.035343967378139,-0.048773661255836,0.023097056895494,-0.053883478045464,0.061761002987623,-0.146771237254143,-0.066944330930710,0.068773590028286,-0.040976729243994,-0.142002135515213,-0.013361264951527,-0.121656395494938,-0.072195187211037,0.079999506473541,0.014220637269318));
res += mul(Get(s2,0,dy), float4x4(-0.035126592963934,-0.088135153055191,-0.098531857132912,0.021386234089732,0.067491382360458,-0.041657201945782,0.052262112498283,0.131608396768570,-0.022545678541064,0.057950548827648,-0.017075428739190,0.009926814585924,-0.053465157747269,-0.048453439027071,-0.051130697131157,0.011967618018389));
res += mul(Get(s2,dx,-dy), float4x4(0.016311749815941,-0.057102479040623,0.029513794928789,0.109218589961529,0.083275578916073,0.006365255918354,-0.074983023107052,-0.173296630382538,0.050103809684515,0.050303410738707,-0.006386833731085,0.142432168126106,-0.046243939548731,0.019074853509665,0.076347634196281,0.030793862417340));
res += mul(Get(s2,dx,0), float4x4(-0.108517102897167,-0.058356430381536,-0.094739593565464,0.130276784300804,-0.109635010361671,0.125312671065331,0.070673502981663,0.125025287270546,-0.063706286251545,0.036267481744289,-0.052732743322849,-0.228194385766983,-0.058511108160019,0.018296133726835,-0.040407970547676,0.072327114641666));
res += mul(Get(s2,dx,dy), float4x4(-0.062486030161381,0.068267233669758,-0.068351253867149,-0.082582309842110,0.109668508172035,-0.028281029313803,0.082959130406380,-0.022735282778740,0.060690984129906,0.015206622891128,-0.024664739146829,0.130131274461746,-0.052410088479519,0.061337519437075,0.034532338380814,-0.089640818536282));
res += mul(Get(s3,-dx,-dy), float4x4(0.014587026089430,-0.059056509286165,0.051971089094877,0.130154445767403,-0.120261065661907,-0.078412242233753,-0.065250940620899,-0.053830318152905,0.014002519659698,-0.031827628612518,0.085933297872543,-0.157339319586754,0.111977726221085,-0.048684231936932,0.079598315060139,-0.042810816317797));
res += mul(Get(s3,-dx,0), float4x4(-0.057261101901531,0.036951024085283,0.016416365280747,-0.031678888946772,0.057698536664248,-0.192742392420769,-0.005817213095725,0.018976137042046,0.008850071579218,0.002152564935386,-0.062567323446274,-0.105024069547653,-0.026412563398480,0.036186031997204,0.160258322954178,-0.058164682239294));
res += mul(Get(s3,-dx,dy), float4x4(0.019667260348797,0.040251102298498,0.054891172796488,-0.123260274529457,0.007058964576572,-0.028181914240122,0.054416414350271,-0.002009694697335,0.031703826040030,-0.014103434048593,-0.011632692068815,-0.046825278550386,-0.014023200608790,0.151324555277824,-0.033843588083982,-0.024190079420805));
res += mul(Get(s3,0,-dy), float4x4(0.065100230276585,0.117670044302940,0.111724413931370,-0.125625237822533,-0.167736932635307,0.090008728206158,-0.022107424214482,-0.120160102844238,-0.006854933220893,0.016312016174197,0.117720350623131,0.139108642935753,-0.052607391029596,0.062967829406261,-0.120193712413311,-0.017564669251442));
res += mul(Get(s3,0,0), float4x4(0.063804715871811,0.055527754127979,0.084420971572399,0.096621334552765,0.022303786128759,-0.133796721696854,-0.128472745418549,0.009697111323476,-0.007057699840516,0.057339049875736,-0.047277912497520,-0.046671040356159,0.070692926645279,0.120584011077881,-0.017820741981268,0.011635051108897));
res += mul(Get(s3,0,dy), float4x4(-0.098802261054516,0.037974841892719,0.030484301969409,0.009884826838970,0.066171683371067,-0.022359590977430,-0.004559302702546,0.094383843243122,-0.015778025612235,0.031867869198322,0.125810563564301,0.013563803397119,0.073687165975571,0.085656829178333,-0.102792985737324,-0.036680601537228));
res += mul(Get(s3,dx,-dy), float4x4(0.069060891866684,0.092423722147942,-0.053151197731495,-0.022835448384285,0.006145439110696,0.093740567564964,-0.030652498826385,-0.014655648730695,0.078871361911297,-0.139362752437592,0.081758551299572,-0.017069706693292,-0.189975962042809,0.030980817973614,-0.080882407724857,-0.127975612878799));
res += mul(Get(s3,dx,0), float4x4(0.035959739238024,-0.025976769626141,0.107531964778900,0.003335620742291,0.078305453062057,-0.149860322475433,0.071433864533901,0.103609964251518,-0.091832093894482,-0.079090632498264,0.001454249722883,-0.025074649602175,-0.039753597229719,0.071748778223991,0.002573020057753,-0.096272721886635));
res += mul(Get(s3,dx,dy), float4x4(0.110169768333435,-0.114715628325939,-0.063890077173710,0.059887073934078,0.042368013411760,0.007627280429006,-0.062824979424477,-0.031225476413965,-0.053564313799143,0.091707684099674,-0.043335191905499,-0.035631194710732,0.103881902992725,0.071861736476421,0.006532621104270,-0.083327226340771));
return max(float4(0,0,0,0), res);
}
