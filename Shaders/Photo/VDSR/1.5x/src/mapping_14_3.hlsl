sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.020491793751717,-0.002647510729730,-0.080944553017616,-0.047167599201202,0.108545027673244,0.027516415342689,-0.002957449294627,-0.090458035469055,-0.025618262588978,0.030585644766688,0.004804964177310,0.029594596475363,-0.096348352730274,-0.018717266619205,-0.009690525941551,0.092394016683102));
res += mul(Get(s0,-dx,0), float4x4(0.028392970561981,0.054976359009743,-0.094891905784607,-0.021269284188747,0.070182636380196,0.023441087454557,-0.096749603748322,-0.059810288250446,0.052972793579102,0.070227131247520,-0.013755080290139,-0.003301332471892,0.031041009351611,-0.021498484537005,0.053303789347410,-0.005749002099037));
res += mul(Get(s0,-dx,dy), float4x4(0.046664733439684,-0.020883582532406,-0.016297936439514,-0.038685578852892,-0.035001948475838,0.035941503942013,-0.104547001421452,-0.000407565239584,0.007915490306914,0.048515811562538,-0.017339656129479,0.026118244975805,-0.060017522424459,0.006197225768119,0.010153724811971,0.053441036492586));
res += mul(Get(s0,0,-dy), float4x4(-0.059966895729303,-0.052032351493835,0.022858699783683,0.042194403707981,-0.126824349164963,0.009417571127415,-0.037404600530863,0.087500244379044,-0.121159628033638,-0.035352133214474,0.018226740881801,0.123083725571632,0.003542784368619,0.054831050336361,0.035628408193588,0.009238126687706));
res += mul(Get(s0,0,0), float4x4(-0.076895803213120,-0.021960463374853,0.097320690751076,0.138003513216972,-0.091634191572666,-0.026112452149391,0.044203598052263,0.118895143270493,0.118455372750759,-0.027075070887804,0.057495355606079,-0.128180056810379,0.183444917201996,0.051208950579166,-0.036095455288887,-0.136936962604523));
res += mul(Get(s0,0,dy), float4x4(0.003937994595617,0.019170662388206,0.079294532537460,-0.041692733764648,-0.028846714645624,-0.045420177280903,-0.028981512412429,0.045422744005919,-0.084635183215141,0.003477586433291,-0.061469171196222,0.081894502043724,-0.081421889364719,-0.036303907632828,0.025797950103879,0.082337379455566));
res += mul(Get(s0,dx,-dy), float4x4(-0.003229635534808,0.154707252979279,0.049523118883371,-0.017646294087172,0.040520645678043,0.171105399727821,-0.058306600898504,-0.049656908959150,-0.049318965524435,0.017716731876135,0.028692094609141,0.023176537826657,-0.066721007227898,-0.075001984834671,0.052493222057819,0.039626821875572));
res += mul(Get(s0,dx,0), float4x4(-0.006931024137884,0.183147847652435,-0.017676411196589,0.019662475213408,0.093063727021217,0.209887892007828,0.029689513146877,-0.057949312031269,0.033506609499454,0.053480509668589,-0.002936675678939,0.031824052333832,-0.044101726263762,-0.037023872137070,0.077135443687439,0.023041276261210));
res += mul(Get(s0,dx,dy), float4x4(0.004935824312270,-0.042903553694487,-0.065943725407124,-0.011784770525992,0.021618016064167,0.027040997520089,-0.030263418331742,-0.046968888491392,-0.047176226973534,-0.005987689830363,0.057939298450947,0.098905526101589,-0.001048260834068,0.044814482331276,0.013637627474964,0.002667678287253));
res += mul(Get(s1,-dx,-dy), float4x4(-0.103606812655926,-0.065628029406071,0.009850320406258,0.089826621115208,0.003889154409990,0.163048416376114,0.005604656413198,-0.019481582567096,0.004956313874573,-0.006257330067456,-0.032808177173138,0.010669817216694,0.009527596645057,0.055728059262037,-0.005955312866718,0.014390463940799));
res += mul(Get(s1,-dx,0), float4x4(0.117011092603207,0.001331766718067,0.032114565372467,-0.093113668262959,0.013778112828732,0.127384200692177,-0.030408030375838,-0.096060432493687,0.020358236506581,-0.034594379365444,0.069872885942459,0.001163841458037,0.014419453218579,0.013606524094939,-0.018570777028799,0.002999213058501));
res += mul(Get(s1,-dx,dy), float4x4(-0.046332072466612,-0.046860292553902,-0.079573020339012,0.053959265351295,0.020244967192411,0.098395586013794,-0.103846162557602,-0.046683039516211,-0.064158178865910,0.034072477370501,-0.073795631527901,0.077642664313316,0.040357321500778,0.053118016570807,-0.030356355011463,-0.035600230097771));
res += mul(Get(s1,0,-dy), float4x4(-0.044214427471161,0.065771147608757,-0.038397740572691,0.027076885104179,-0.008139711804688,-0.028891667723656,0.001378325745463,-0.016253788024187,0.059284958988428,0.027228554710746,-0.046917136758566,-0.039789531379938,-0.156154394149780,0.101763561367989,0.093853630125523,0.181495189666748));
res += mul(Get(s1,0,0), float4x4(-0.128167808055878,0.144259676337242,0.038702394813299,0.109871201217175,-0.045557618141174,-0.045240662992001,0.099967397749424,0.100788526237011,0.091290995478630,0.061947107315063,0.046042960137129,-0.074848115444183,0.073597401380539,0.012948640622199,-0.028322704136372,-0.045824125409126));
res += mul(Get(s1,0,dy), float4x4(0.043141942471266,-0.064082175493240,-0.065285697579384,-0.043574515730143,-0.048284117132425,-0.034112773835659,0.264110445976257,0.085898809134960,-0.080407522618771,0.063167385756969,-0.056820914149284,0.058981250971556,0.002854496007785,-0.030617725104094,0.011616208590567,-0.000861402251758));
res += mul(Get(s1,dx,-dy), float4x4(0.089077517390251,-0.273176997900009,0.014887030236423,-0.053159158676863,0.052302367985249,-0.021380139514804,0.049895510077477,-0.075026199221611,-0.047365956008434,-0.001364049152471,0.062267154455185,0.043442770838737,0.054138209670782,0.018921233713627,0.042199712246656,-0.013378505595028));
res += mul(Get(s1,dx,0), float4x4(-0.059669271111488,-0.203607484698296,0.052749842405319,0.057421870529652,0.035463955253363,0.047596756368876,-0.002013194141909,-0.055120855569839,0.020633390173316,-0.009269700385630,-0.003921980038285,-0.042387209832668,0.038165256381035,0.083034619688988,0.030777208507061,0.019851878285408));
res += mul(Get(s1,dx,dy), float4x4(0.052378475666046,-0.130234345793724,-0.042626895010471,-0.036750704050064,0.050768867135048,0.001491671195254,0.005593240261078,-0.034262496978045,0.026460526511073,0.005749795585871,0.114012360572815,0.007226904854178,-0.000312140240567,0.042384613305330,-0.020414995029569,0.006689443252981));
res += mul(Get(s2,-dx,-dy), float4x4(0.032831165939569,-0.035707190632820,-0.103151388466358,-0.074768789112568,-0.005867166444659,-0.030324257910252,0.000678279029671,-0.016945673152804,-0.019871052354574,-0.047957506030798,0.063420481979847,0.021152058616281,-0.159502163529396,-0.084177881479263,0.044817917048931,0.155441299080849));
res += mul(Get(s2,-dx,0), float4x4(-0.088627867400646,-0.039081431925297,-0.012504755519331,0.087745994329453,-0.075375251471996,0.024454182013869,0.021251605823636,0.067088566720486,0.045327715575695,0.006285817828029,0.016336776316166,-0.040723659098148,-0.152964085340500,0.088419973850250,0.139753207564354,0.148416519165039));
res += mul(Get(s2,-dx,dy), float4x4(0.008581312373281,-0.023355394601822,0.010464645922184,-0.013004478067160,0.023048980161548,0.006221953779459,-0.024239601567388,-0.024282285943627,0.023710982874036,0.017352506518364,0.065573483705521,-0.045591130852699,-0.029722038656473,-0.004423984792084,0.012222924269736,0.013831072486937));
res += mul(Get(s2,0,-dy), float4x4(0.339546859264374,0.051229193806648,0.029261900112033,-0.225310921669006,-0.056838892400265,0.007159352302551,-0.040928404778242,0.113434217870235,0.062103204429150,0.028233969584107,0.051721487194300,-0.052484080195427,0.114821814000607,-0.109286747872829,-0.011790944263339,-0.122643090784550));
res += mul(Get(s2,0,0), float4x4(-0.041393738240004,0.081262104213238,-0.053197797387838,0.010055230930448,-0.113619856536388,-0.063875839114189,0.080418162047863,0.125429257750511,-0.213353186845779,-0.044192757457495,0.084934487938881,0.259959846735001,0.109762050211430,0.081320166587830,-0.066957242786884,-0.133707135915756));
res += mul(Get(s2,0,dy), float4x4(0.017434600740671,0.013712482526898,-0.102206446230412,-0.005589501466602,0.088293269276619,-0.020329141989350,-0.041044175624847,-0.079394653439522,0.061087477952242,-0.009555528871715,0.059589482843876,-0.042262364178896,-0.026984026655555,-0.032570004463196,-0.061301730573177,0.052658930420876));
res += mul(Get(s2,dx,-dy), float4x4(-0.053836807608604,0.015305290929973,-0.094041496515274,0.039520353078842,0.087561331689358,-0.063614502549171,-0.093980945646763,-0.100293137133121,0.054085854440928,0.062139049172401,0.028167650103569,-0.058118321001530,-0.034839648753405,-0.048970442265272,-0.020153561607003,0.037382043898106));
res += mul(Get(s2,dx,0), float4x4(-0.076839871704578,-0.012322136200964,-0.015837917104363,0.073181040585041,-0.011872277595103,0.126382246613503,-0.048536874353886,0.004358372651041,0.042840480804443,0.079254731535912,0.038874689489603,-0.055929023772478,-0.076537415385246,-0.076569758355618,-0.039128065109253,0.040533903986216));
res += mul(Get(s2,dx,dy), float4x4(0.009568652138114,0.019596252590418,-0.057116013020277,-0.025370111688972,-0.014300732873380,0.064988411962986,-0.105407841503620,0.015537233091891,-0.005025406368077,-0.039668589830399,0.026494331657887,-0.007634000387043,0.057388294488192,0.025807274505496,0.073676295578480,-0.058209445327520));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021552054211497,-0.016975495964289,-0.042353261262178,-0.018445294350386,0.018649118021131,-0.006621975917369,0.018321240320802,-0.022648449987173,0.022402266040444,-0.049552213400602,0.137770980596542,-0.038357451558113,-0.033697891980410,0.001348030869849,0.011413388885558,-0.017024332657456));
res += mul(Get(s3,-dx,0), float4x4(0.166649267077446,-0.046712748706341,-0.053756035864353,-0.137535959482193,-0.069100290536880,-0.007622548379004,-0.050628408789635,0.062556482851505,-0.134376138448715,-0.130396291613579,0.037211284041405,0.136586070060730,-0.070322379469872,-0.007823656313121,0.050077740103006,0.045891139656305));
res += mul(Get(s3,-dx,dy), float4x4(-0.102683439850807,-0.023837368935347,-0.025526938959956,0.097662091255188,0.012840270996094,-0.025947459042072,0.097220323979855,-0.020995825529099,0.007006866857409,-0.221927642822266,0.182922899723053,-0.006469864398241,-0.008784830570221,-0.011686698533595,0.074305057525635,-0.021254355087876));
res += mul(Get(s3,0,-dy), float4x4(-0.202300131320953,-0.024623211473227,-0.017318166792393,0.255536258220673,0.199151486158371,-0.050890285521746,0.038500383496284,-0.203339800238609,0.007584755308926,-0.023062562569976,0.076305776834488,-0.025231797248125,0.113147698342800,-0.010903350077569,-0.046826984733343,-0.091200724244118));
res += mul(Get(s3,0,0), float4x4(0.125871121883392,-0.049526277929544,0.132096678018570,-0.154889464378357,-0.107081905007362,-0.041167668998241,-0.001698953914456,0.178234115242958,0.126876682043076,-0.003034817054868,-0.006836009677500,-0.107498534023762,-0.143603384494781,-0.009483604691923,0.048961598426104,0.130234792828560));
res += mul(Get(s3,0,dy), float4x4(-0.047261387109756,0.016356624662876,-0.036118939518929,0.017219802364707,0.116585902869701,0.021668519824743,0.056057054549456,-0.131519809365273,-0.079719468951225,-0.093609653413296,0.032042551785707,0.072484843432903,0.148525983095169,0.007653659209609,0.050910808146000,-0.121334448456764));
res += mul(Get(s3,dx,-dy), float4x4(-0.071019329130650,-0.005321827251464,-0.014075745828450,0.045547131448984,0.045838095247746,-0.024751992896199,-0.027081189677119,-0.013889950700104,0.031899988651276,-0.002912328578532,-0.018914354965091,-0.048661842942238,0.022484822198749,-0.048769477754831,0.038269739598036,-0.085941836237907));
res += mul(Get(s3,dx,0), float4x4(0.083753183484077,0.047231193631887,-0.110510356724262,-0.057911194860935,-0.040431123226881,-0.075384043157101,0.040515501052141,0.020564183592796,-0.010000473819673,0.008672934956849,0.081513762474060,0.032600738108158,-0.037491459399462,0.002716465853155,0.027812387794256,0.034026660025120));
res += mul(Get(s3,dx,dy), float4x4(-0.019870989024639,-0.030758554115891,0.053467720746994,0.009425224736333,0.014540949836373,-0.040223728865385,-0.035474009811878,-0.026942094787955,-0.021243818104267,0.002528966870159,0.091969311237335,0.025382779538631,-0.036223806440830,0.041241165250540,-0.039337243884802,0.034945219755173));
return max(float4(0,0,0,0), res);
}
