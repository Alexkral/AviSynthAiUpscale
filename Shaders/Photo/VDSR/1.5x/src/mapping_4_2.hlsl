sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.006149416789412,-0.018808681517839,0.001227712142281,-0.051373977214098,-0.054558765143156,-0.015296197496355,0.248625367879868,-0.037781462073326,-0.043445426970720,0.019555198028684,0.152242571115494,-0.130450576543808,-0.030171303078532,-0.067260287702084,0.003906183876097,0.091685853898525));
res += mul(Get(s0,-dx,0), float4x4(0.025385327637196,0.016237836331129,0.020317448303103,-0.010908619500697,-0.008424940519035,-0.011117175221443,0.033198557794094,-0.048499487340450,0.076873041689396,-0.053855910897255,-0.011525398120284,0.034992858767509,0.007991359569132,-0.148027047514915,0.088393434882164,0.013885246589780));
res += mul(Get(s0,-dx,dy), float4x4(-0.006015487946570,0.044764894992113,-0.020304724574089,0.022219417616725,0.117724917829037,0.056245982646942,0.063535079360008,0.050024356693029,0.190932482481003,-0.001941248192452,-0.003315411508083,-0.110529497265816,-0.058656115084887,-0.016110558062792,-0.059886708855629,0.058907199651003));
res += mul(Get(s0,0,-dy), float4x4(0.063800841569901,-0.027883021160960,-0.005683187395334,0.033536367118359,0.008544913493097,0.027941517531872,0.106434613466263,-0.018439199775457,-0.128713279962540,-0.015627553686500,0.061332121491432,-0.102541521191597,0.010628727264702,-0.103080876171589,0.070300079882145,0.074338205158710));
res += mul(Get(s0,0,0), float4x4(0.071838691830635,-0.006978380959481,0.009903917089105,-0.032677229493856,0.028305184096098,0.105158999562263,-0.040156122297049,-0.063681311905384,0.017521793022752,-0.100868262350559,-0.095439709722996,0.009950851090252,-0.036875292658806,-0.013227188028395,-0.072659991681576,-0.007158578839153));
res += mul(Get(s0,0,dy), float4x4(0.003828113898635,0.019798245280981,-0.063103698194027,0.027567483484745,0.052562247961760,-0.000932848197408,0.070610083639622,0.031464748084545,0.060673020780087,-0.046213377267122,-0.101128786802292,0.004834081977606,-0.063742302358150,-0.035947233438492,-0.020000828430057,0.040182083845139));
res += mul(Get(s0,dx,-dy), float4x4(0.035022612661123,0.002403382910416,0.035158172249794,-0.009294912219048,-0.004884408786893,0.042534429579973,0.099302165210247,0.001807297347113,-0.177417367696762,0.014642342925072,-0.206258088350296,0.008070399984717,-0.121831513941288,0.010150553658605,0.031341388821602,0.034616168588400));
res += mul(Get(s0,dx,0), float4x4(0.103067047894001,0.019572485238314,-0.030734987929463,-0.010459828190506,0.015529330819845,0.018364369869232,0.018876198679209,-0.033844240009785,0.053978770971298,0.128492400050163,0.133619830012321,-0.063769288361073,0.034243907779455,0.023929731920362,-0.082202456891537,0.015313066542149));
res += mul(Get(s0,dx,dy), float4x4(0.046574994921684,-0.030304301530123,-0.059100124984980,0.000954905524850,-0.039720140397549,-0.033655181527138,0.120722390711308,-0.034722197800875,0.129065275192261,0.031484443694353,0.003702907357365,-0.016956785693765,-0.027478635311127,-0.044997081160545,-0.081895455718040,0.035778738558292));
res += mul(Get(s1,-dx,-dy), float4x4(0.049044832587242,0.031317677348852,-0.136381134390831,-0.033965144306421,0.010714418254793,-0.164433002471924,0.006126570049673,-0.091330491006374,0.229840248823166,0.033534426242113,0.056537978351116,-0.003228095360100,0.021277384832501,0.077363558113575,0.041757680475712,-0.031829282641411));
res += mul(Get(s1,-dx,0), float4x4(0.013749955222011,-0.040050543844700,-0.050951689481735,-0.034859061241150,0.079674556851387,-0.036943901330233,0.237108215689659,-0.091671019792557,0.138383343815804,-0.120873712003231,0.015313941054046,0.036817502230406,-0.065505594015121,0.048611577600241,0.089016951620579,-0.060324318706989));
res += mul(Get(s1,-dx,dy), float4x4(-0.003199654398486,-0.044779628515244,-0.010741543024778,-0.045061968266964,-0.007235471624881,0.069290325045586,0.070595860481262,0.033490333706141,0.159515604376793,-0.033206470310688,-0.000723130709957,-0.070566140115261,-0.013937885873020,0.052398659288883,0.084003038704395,0.060500681400299));
res += mul(Get(s1,0,-dy), float4x4(-0.069634489715099,0.001839834498242,-0.073225550353527,-0.004899072460830,-0.128863379359245,-0.083355814218521,0.043475557118654,-0.031142029911280,0.150056570768356,-0.032843641936779,0.043183736503124,-0.016691165044904,0.066869638860226,-0.159955695271492,0.090849064290524,-0.055066697299480));
res += mul(Get(s1,0,0), float4x4(-0.036367028951645,-0.053512610495090,-0.070277057588100,-0.013897527940571,-0.000364049454220,-0.122073262929916,-0.090193785727024,0.060989886522293,0.057642668485641,0.009623024612665,-0.026949934661388,0.014428242109716,-0.008967408910394,-0.038774862885475,0.103064484894276,-0.045560166239738));
res += mul(Get(s1,0,dy), float4x4(-0.015677858144045,-0.007967212237418,-0.118127368390560,0.052503924816847,-0.045633628964424,0.008132155984640,-0.101692043244839,-0.040088873356581,0.125902041792870,-0.058382470160723,-0.036067586392164,0.019632617011666,-0.007392965722829,-0.047784786671400,0.116937480866909,0.032421201467514));
res += mul(Get(s1,dx,-dy), float4x4(-0.037862256169319,0.066090710461140,0.000366639054846,-0.022535609081388,-0.088640652596951,0.011757698841393,0.129504472017288,-0.081225410103798,0.103726416826248,-0.077292554080486,-0.008842025883496,-0.038982748985291,0.057735927402973,-0.047894738614559,0.204232066869736,-0.109793819487095));
res += mul(Get(s1,dx,0), float4x4(-0.004224475007504,0.013707224279642,0.003080526599661,-0.024448800832033,-0.043552760034800,0.010300006717443,0.066673733294010,-0.021005269140005,0.034580204635859,0.154469683766365,0.090959787368774,-0.031625352799892,-0.011474171653390,-0.042410232126713,0.131039097905159,-0.089824616909027));
res += mul(Get(s1,dx,dy), float4x4(-0.066940799355507,-0.031527277082205,-0.077296502888203,-0.030187791213393,-0.062976084649563,-0.007372425403446,-0.110605135560036,0.063699692487717,0.036497417837381,0.013079158961773,0.016125494614244,0.031759604811668,-0.037221543490887,0.018793553113937,0.118065059185028,-0.021105039864779));
res += mul(Get(s2,-dx,-dy), float4x4(0.074716612696648,-0.108823940157890,-0.202695831656456,0.026297500357032,-0.117753252387047,0.315666466951370,-0.143200173974037,-0.006898896303028,0.067147009074688,0.103484988212585,-0.030430467799306,0.025773007422686,0.145546227693558,-0.013440991751850,0.008822906762362,-0.026482144370675));
res += mul(Get(s2,-dx,0), float4x4(0.213032782077789,0.046670511364937,-0.031986758112907,-0.088547155261040,-0.111737273633480,0.106349200010300,0.000778256799094,-0.077370531857014,-0.057243533432484,0.105033136904240,-0.015881737694144,0.072128914296627,0.059326685965061,-0.023885354399681,-0.027747742831707,-0.003864153986797));
res += mul(Get(s2,-dx,dy), float4x4(-0.103568337857723,0.017425376921892,0.003008244791999,0.024449201300740,-0.138015016913414,0.078194357454777,-0.082968607544899,0.024774292483926,0.053410459309816,0.073166288435459,-0.064422763884068,0.004815688356757,-0.006918291561306,0.054663807153702,0.026743965223432,-0.038595639169216));
res += mul(Get(s2,0,-dy), float4x4(-0.021076820790768,0.039506107568741,0.120676800608635,-0.104732960462570,-0.043943226337433,0.049523573368788,0.013314642012119,-0.109057322144508,0.021118151023984,0.022924365475774,-0.028338883072138,0.125428020954132,0.074610285460949,-0.018215583637357,-0.005267237313092,0.140189126133919));
res += mul(Get(s2,0,0), float4x4(-0.017033310607076,-0.051000095903873,-0.086194790899754,0.331116437911987,-0.074127852916718,0.121181271970272,0.081491298973560,-0.078779987990856,-0.049858693033457,0.026552837342024,0.073709040880203,-0.053507681936026,0.019804596900940,-0.069762103259563,-0.046228352934122,-0.127627864480019));
res += mul(Get(s2,0,dy), float4x4(-0.090031929314137,0.004416706040502,0.118979424238205,0.008057910948992,0.013235239312053,0.204278662800789,0.084408886730671,-0.003694572951645,-0.008766044862568,0.065192885696888,-0.034086782485247,0.028575198724866,-0.113599397242069,-0.102247074246407,0.130862772464752,-0.081336721777916));
res += mul(Get(s2,dx,-dy), float4x4(0.012731401249766,0.000879544531927,-0.053586751222610,-0.022198172286153,-0.056353930383921,-0.096082620322704,-0.008426357060671,-0.068556919693947,-0.064151145517826,-0.091142348945141,-0.006149751134217,0.076753795146942,-0.013663345016539,-0.152057141065598,0.046967089176178,0.041879180818796));
res += mul(Get(s2,dx,0), float4x4(-0.133970007300377,0.077407948672771,0.014419411309063,0.041611663997173,-0.062376055866480,-0.087007224559784,0.021336544305086,-0.040405031293631,-0.056834407150745,-0.061928294599056,0.084309577941895,0.015179568901658,0.067295119166374,-0.119575694203377,-0.041889056563377,0.136106505990028));
res += mul(Get(s2,dx,dy), float4x4(0.085196353495121,-0.009024702012539,0.099266469478607,-0.019142838194966,0.026521576568484,-0.020903423428535,-0.000812162004877,0.008326766081154,-0.027422625571489,0.030160604044795,0.014845936559141,0.031870715320110,0.047432459890842,-0.117384478449821,-0.028836818411946,-0.035984475165606));
res += mul(Get(s3,-dx,-dy), float4x4(0.047871001064777,-0.005939238704741,0.015262642875314,-0.060238901525736,0.038726840168238,0.056647837162018,0.122427128255367,0.159127131104469,-0.107713125646114,-0.085174635052681,-0.152939498424530,-0.039675280451775,0.182007357478142,-0.152100518345833,-0.058937370777130,0.004048049915582));
res += mul(Get(s3,-dx,0), float4x4(0.018752723932266,-0.157539650797844,-0.022715415805578,0.045823238790035,0.003546005580574,0.238396182656288,0.142482504248619,0.045611802488565,-0.180145904421806,-0.032534778118134,-0.124659948050976,0.016620554029942,-0.055312581360340,-0.237629175186157,-0.021202920004725,-0.062061659991741));
res += mul(Get(s3,-dx,dy), float4x4(-0.043158262968063,-0.118386469781399,0.149306312203407,-0.029023110866547,0.052139349281788,-0.020718967542052,-0.001954154809937,0.067179873585701,-0.092613242566586,0.042626179754734,-0.087924763560295,-0.002567303366959,-0.150354996323586,-0.120907418429852,0.078746013343334,-0.053765833377838));
res += mul(Get(s3,0,-dy), float4x4(-0.008742183446884,-0.016017314046621,0.119834750890732,-0.054123748093843,-0.067466743290424,-0.006953326985240,0.031756710261106,0.080206103622913,-0.039350643754005,0.089250929653645,-0.077636331319809,-0.005273926537484,0.059117760509253,-0.027704229578376,0.006843426264822,-0.038933537900448));
res += mul(Get(s3,0,0), float4x4(0.049175933003426,-0.016563424840569,0.009307181462646,0.268175363540649,0.000497795233969,0.013457589782774,0.003079911926761,0.177128419280052,-0.117003031075001,0.194828525185585,-0.014365263283253,0.208942145109177,-0.014125221408904,-0.036614626646042,-0.088572897017002,0.160102680325508));
res += mul(Get(s3,0,dy), float4x4(0.054271839559078,-0.048918452113867,-0.031029317528009,-0.012625373899937,-0.032540973275900,0.077491693198681,0.031527921557426,0.071175657212734,-0.027782132849097,0.076111234724522,-0.012995333410800,0.029207326471806,-0.015214945189655,-0.007311525288969,-0.002102904254571,-0.014234202913940));
res += mul(Get(s3,dx,-dy), float4x4(-0.021766860038042,0.049923907965422,0.099585190415382,-0.052220843732357,-0.036527723073959,0.051304679363966,0.045428995043039,-0.036493036895990,-0.046406067907810,-0.028202887624502,-0.006630736403167,0.004652108531445,0.035612661391497,-0.010585973970592,0.051768638193607,-0.026318823918700));
res += mul(Get(s3,dx,0), float4x4(0.011614585295320,0.082152388989925,0.075610540807247,0.017941869795322,-0.049058411270380,0.030297556892037,0.129912018775940,0.086722195148468,-0.131032124161720,-0.141244500875473,-0.019639672711492,0.057420331984758,0.002273114863783,0.128434702754021,0.106066368520260,-0.035109676420689));
res += mul(Get(s3,dx,dy), float4x4(0.151469081640244,0.001468748436309,0.063560500741005,-0.010341253131628,-0.020660925656557,0.068191938102245,0.053409650921822,0.021347103640437,-0.095247916877270,-0.055077657103539,-0.123751491308212,-0.038307860493660,-0.045793578028679,-0.006690910086036,-0.010228075087070,-0.136788278818130));
return max(float4(0,0,0,0), res);
}
