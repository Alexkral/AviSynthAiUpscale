sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.028819477185607,-0.007957847788930,0.109493531286716,-0.041192799806595,0.102901503443718,-0.073282770812511,-0.008402784354985,-0.026696972548962,0.088135547935963,0.042476113885641,-0.034175094217062,-0.096281282603741,-0.064991086721420,0.015963274985552,0.030636906623840,-0.008503268472850));
res += mul(Get(s0,-dx,0), float4x4(0.033675741404295,0.054970033466816,0.020324910059571,-0.044136576354504,0.037459842860699,-0.071150958538055,0.078525952994823,-0.021677970886230,0.015063394792378,0.043738763779402,-0.074790261685848,0.060545921325684,-0.066880136728287,0.041724052280188,0.047886688262224,-0.048077911138535));
res += mul(Get(s0,-dx,dy), float4x4(0.015822838991880,-0.000085476858658,-0.021228563040495,0.084883414208889,-0.000539595435839,-0.067624531686306,0.044686738401651,0.029924308881164,0.034820724278688,0.028635863214731,0.089354962110519,-0.072337552905083,0.027873942628503,0.038206964731216,-0.005510212387890,0.024325195699930));
res += mul(Get(s0,0,-dy), float4x4(-0.173177376389503,0.032484676688910,0.112841777503490,-0.050937388092279,0.040265381336212,-0.051793135702610,0.056767694652081,-0.002666816813871,0.221416085958481,-0.070267066359520,-0.071062177419662,-0.152310580015182,-0.091337047517300,0.004820778500289,0.056469962000847,0.031369779258966));
res += mul(Get(s0,0,0), float4x4(0.142827615141869,-0.041814014315605,-0.010551516897976,-0.013860463164747,-0.032646205276251,-0.060843937098980,0.142619520425797,0.012417832389474,-0.071012824773788,-0.067909359931946,0.061006955802441,0.144030690193176,0.018824473023415,-0.045111838728189,0.084787182509899,0.064405165612698));
res += mul(Get(s0,0,dy), float4x4(-0.036903172731400,0.058911863714457,0.048952881246805,-0.018973045051098,0.045285906642675,0.009712528437376,0.027770556509495,0.009530839510262,0.039148546755314,-0.012855865061283,0.008556583896279,-0.090326815843582,0.034671459347010,0.013671130873263,0.088872775435448,0.074582472443581));
res += mul(Get(s0,dx,-dy), float4x4(-0.030227884650230,0.111922532320023,0.069583654403687,-0.041893448680639,0.026893643662333,0.021202886477113,0.039314877241850,0.018109532073140,0.059795383363962,-0.135094478726387,-0.021805172786117,-0.103293046355247,-0.013584239408374,0.021655412390828,-0.008645326830447,0.039868574589491));
res += mul(Get(s0,dx,0), float4x4(-0.004922766238451,0.056256391108036,-0.070400305092335,0.029914416372776,0.023752355948091,-0.003083078889176,0.035242114216089,0.069973446428776,-0.042308542877436,-0.045691758394241,-0.068884365260601,0.163648366928101,-0.064668394625187,-0.006651408039033,0.131401076912880,-0.079174868762493));
res += mul(Get(s0,dx,dy), float4x4(0.037849340587854,-0.009077713824809,-0.005985504481941,-0.000874138670042,-0.004744499456137,0.049608837813139,-0.067433819174767,-0.008088728412986,0.037953786551952,0.095543660223484,0.038182038813829,-0.089148111641407,0.000925304484554,-0.091755934059620,-0.039283700287342,0.009197824634612));
res += mul(Get(s1,-dx,-dy), float4x4(-0.188371106982231,-0.026386423036456,-0.071468010544777,0.033063925802708,-0.021685568615794,0.003993739373982,0.032485321164131,-0.099516376852989,-0.071787692606449,-0.063110776245594,0.044437181204557,0.111209452152252,-0.108619809150696,-0.021478388458490,-0.049575172364712,0.020358033478260));
res += mul(Get(s1,-dx,0), float4x4(-0.060648892074823,-0.000369336485164,0.106840245425701,0.009841481223702,-0.035557288676500,-0.003878731047735,0.070886887609959,0.030328173190355,0.148335546255112,-0.018687032163143,-0.134054839611053,-0.116790190339088,-0.052626971155405,0.000691806606483,0.120396345853806,0.017085110768676));
res += mul(Get(s1,-dx,dy), float4x4(-0.042366541922092,-0.067114152014256,-0.124452911317348,0.034640587866306,0.002017371822149,0.021580908447504,0.077322654426098,-0.034191068261862,0.057022180408239,-0.021108495071530,-0.015302141197026,-0.030099771916866,0.068064287304878,0.022298924624920,0.092001311480999,-0.104031577706337));
res += mul(Get(s1,0,-dy), float4x4(-0.108326897025108,0.040797628462315,-0.161139115691185,-0.030432596802711,-0.040774080902338,0.034491494297981,0.017733173444867,-0.010682954452932,-0.060551393777132,-0.096407122910023,0.108134672045708,0.110366314649582,-0.007316112052649,0.001994506223127,-0.040397487580776,-0.062557041645050));
res += mul(Get(s1,0,0), float4x4(-0.120916135609150,0.061875961720943,0.192213699221611,0.142051607370377,-0.014607382938266,0.011602761223912,0.025642091408372,0.159605726599693,0.088077232241631,-0.068430267274380,-0.170101523399353,-0.119605429470539,-0.081928469240665,-0.044180244207382,0.165158331394196,-0.005939806345850));
res += mul(Get(s1,0,dy), float4x4(0.137522056698799,-0.013357114978135,-0.158782348036766,0.094165675342083,0.059572655707598,0.009012994356453,0.060546632856131,-0.002649336354807,-0.130933731794357,0.003278475953266,0.008789995685220,-0.026489602401853,0.152905225753784,-0.053373161703348,-0.005732614081353,-0.096313990652561));
res += mul(Get(s1,dx,-dy), float4x4(-0.100364498794079,-0.000872043485288,0.010035445913672,0.057865388691425,-0.056755393743515,0.018357547000051,0.024809613823891,0.053248576819897,0.042201578617096,-0.029198057949543,-0.039460726082325,0.007008585613221,-0.023190140724182,0.055421292781830,-0.072389259934425,-0.006160869728774));
res += mul(Get(s1,dx,0), float4x4(-0.061661176383495,0.023746704682708,0.112644553184509,0.048184972256422,-0.033544041216373,0.173383906483650,0.024365497753024,0.074225522577763,0.011270076036453,-0.034187357872725,-0.011048119515181,-0.079407192766666,-0.089026942849159,-0.037134367972612,0.113076001405716,0.108353190124035));
res += mul(Get(s1,dx,dy), float4x4(-0.053238008171320,-0.025011884048581,-0.112865678966045,0.019362609833479,-0.066062100231647,-0.006217656657100,0.046836845576763,0.037949785590172,0.035889521241188,0.001352861640044,-0.074002079665661,0.009819907136261,0.161801829934120,-0.026820300146937,0.017631284892559,-0.047533199191093));
res += mul(Get(s2,-dx,-dy), float4x4(0.053693797439337,-0.022617824375629,-0.061428364366293,-0.012519352138042,-0.014944498427212,-0.030122961848974,0.038821078836918,-0.016503153368831,0.017789093777537,0.030440622940660,0.034975253045559,-0.089087888598442,-0.070732504129410,0.070299670100212,0.078870967030525,-0.003688049037009));
res += mul(Get(s2,-dx,0), float4x4(0.014652632176876,-0.061758041381836,-0.129025757312775,-0.004075697157532,-0.017851114273071,-0.040741216391325,-0.058739628642797,-0.006498962640762,-0.052609201520681,0.018051730468869,0.061802379786968,0.099481716752052,-0.087150074541569,-0.077958062291145,0.086692430078983,0.072784394025803));
res += mul(Get(s2,-dx,dy), float4x4(0.003788501955569,0.017788833007216,-0.078737430274487,-0.014428225345910,-0.084494791924953,-0.010290442965925,-0.110789746046066,-0.002464330755174,-0.027224559336901,0.042579490691423,0.059475950896740,0.037158738821745,-0.015410088002682,-0.039354346692562,0.000278286810499,0.021745996549726));
res += mul(Get(s2,0,-dy), float4x4(0.040963590145111,0.046989835798740,-0.000840225489810,0.047457020729780,0.014808711595833,-0.034926906228065,0.028242252767086,-0.059890579432249,-0.018117511644959,-0.031943213194609,0.053755767643452,-0.018356796354055,0.024471301585436,0.025370746850967,-0.023100264370441,0.032836798578501));
res += mul(Get(s2,0,0), float4x4(0.008925582282245,0.152473494410515,-0.045684985816479,0.032909136265516,0.078060574829578,-0.031361129134893,-0.032040700316429,0.076403304934502,-0.043099939823151,0.211997970938683,-0.032119709998369,-0.075394734740257,-0.060842737555504,0.027447246015072,0.141629621386528,-0.085167206823826));
res += mul(Get(s2,0,dy), float4x4(0.045189078897238,0.042390953749418,-0.111382089555264,0.015782704576850,0.010967395268381,0.018420007079840,0.030293801799417,-0.072555825114250,0.070197597146034,-0.077826626598835,-0.003674834966660,0.195418506860733,-0.023416770622134,-0.004297443199903,0.078123696148396,0.089676573872566));
res += mul(Get(s2,dx,-dy), float4x4(0.076339267194271,0.019258400425315,-0.030505372211337,0.029747208580375,-0.070580564439297,-0.051249854266644,0.018303027376533,-0.050234425812960,-0.036413226276636,0.132797241210938,0.027643846347928,-0.042788852006197,-0.017307279631495,-0.080311626195908,0.083419032394886,0.000912783027161));
res += mul(Get(s2,dx,0), float4x4(0.034063506871462,0.108901202678680,-0.077894695103168,0.050856970250607,0.019311210140586,0.034060951322317,0.030769275501370,-0.011188573203981,0.032977871596813,-0.056611061096191,-0.080313749611378,-0.090573728084564,0.006598712876439,-0.015909472480416,0.049511887133121,0.074995018541813));
res += mul(Get(s2,dx,dy), float4x4(0.043653883039951,-0.010732252150774,-0.048467725515366,0.011036866344512,-0.004588332027197,-0.024754229933023,0.026579353958368,-0.058186449110508,-0.058205343782902,-0.042782232165337,0.011715037748218,0.115417443215847,0.034368559718132,0.024640791118145,-0.036673597991467,-0.040452998131514));
res += mul(Get(s3,-dx,-dy), float4x4(0.072922229766846,-0.005207195412368,-0.011979974806309,0.020613647997379,-0.017430944368243,-0.077108047902584,0.032366391271353,0.027542624622583,0.019734296947718,0.074796676635742,-0.054542120546103,-0.036305952817202,-0.047011654824018,0.071316115558147,-0.044510304927826,0.005657162982970));
res += mul(Get(s3,-dx,0), float4x4(0.064550451934338,0.047643739730120,-0.070120364427567,-0.057295162230730,-0.041245512664318,0.012632927857339,0.006001492030919,0.209559902548790,-0.039380308240652,0.168870627880096,0.076505556702614,0.037158422172070,-0.007588920183480,-0.007645424921066,-0.098020024597645,0.019819969311357));
res += mul(Get(s3,-dx,dy), float4x4(0.043280813843012,-0.021109774708748,-0.070963911712170,0.054601147770882,0.050173979252577,-0.037136230617762,-0.056866575032473,-0.044886048883200,0.016553552821279,0.116889730095863,0.035166688263416,-0.037802603095770,0.005744302645326,-0.099684797227383,-0.060149721801281,0.030854709446430));
res += mul(Get(s3,0,-dy), float4x4(0.073086738586426,0.022290538996458,-0.058984011411667,-0.018651427701116,-0.012722647748888,0.102023623883724,0.076587669551373,0.044692695140839,-0.040507514029741,0.132959350943565,-0.036990396678448,-0.078459478914738,-0.079246476292610,0.075072273612022,-0.017842950299382,-0.029160246253014));
res += mul(Get(s3,0,0), float4x4(-0.053858272731304,0.204308480024338,-0.034691199660301,-0.098760724067688,-0.010003754869103,0.125516131520271,0.088780023157597,-0.034242998808622,-0.060758128762245,-0.000164963799762,0.001646079472266,-0.007935098372400,-0.029762564226985,0.080285362899303,-0.019915089011192,-0.100797042250633));
res += mul(Get(s3,0,dy), float4x4(-0.007316061761230,-0.027130423113704,0.080425873398781,0.085783667862415,0.101593784987926,-0.031892914324999,-0.091156996786594,0.065085656940937,0.224258646368980,0.042399629950523,-0.092309124767780,0.045819018036127,-0.044025342911482,0.081654332578182,-0.017246887087822,-0.135405361652374));
res += mul(Get(s3,dx,-dy), float4x4(0.066766560077667,0.010657447390258,0.006302905268967,-0.022234270349145,0.037476524710655,-0.087069340050220,-0.052546583116055,0.037239763885736,-0.016867268830538,0.080859653651714,0.034302152693272,-0.089231155812740,0.036591392010450,-0.022143658250570,-0.015987755730748,-0.016690962016582));
res += mul(Get(s3,dx,0), float4x4(-0.008107321336865,-0.073391765356064,-0.047599896788597,0.049184344708920,0.052593443542719,-0.019134694710374,-0.071555159986019,-0.019033703953028,0.012752767652273,0.000416605296778,0.069767966866493,0.080832183361053,0.039162591099739,-0.037427570670843,-0.067852810025215,-0.036177981644869));
res += mul(Get(s3,dx,dy), float4x4(0.003323775716126,-0.057058554142714,-0.058320134878159,0.047451578080654,-0.043910235166550,-0.041999120265245,0.083400279283524,-0.022303856909275,-0.035013634711504,0.065737895667553,-0.003744899528101,-0.025989083573222,0.016322683542967,0.069072969257832,-0.059298966079950,-0.065306961536407));
return max(float4(0,0,0,0), res);
}
