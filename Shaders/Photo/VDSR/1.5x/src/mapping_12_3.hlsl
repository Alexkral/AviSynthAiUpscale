sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.182165279984474,0.060530796647072,0.002740656025708,0.102881953120232,-0.088664159178734,0.050006367266178,0.094385720789433,0.052793681621552,-0.083801694214344,0.091875098645687,-0.083200268447399,-0.136055290699005,0.042068768292665,-0.112691804766655,-0.001930484431796,-0.033849455416203));
res += mul(Get(s0,-dx,0), float4x4(0.075332567095757,-0.109105773270130,-0.032385423779488,0.030714344233274,0.011303513310850,-0.004077736753970,0.158277362585068,0.155494108796120,0.114573828876019,0.019873213022947,-0.101331949234009,-0.010816251859069,0.220516458153725,-0.059396866708994,0.049341864883900,0.123342894017696));
res += mul(Get(s0,-dx,dy), float4x4(-0.050053775310516,-0.093855299055576,0.010826544836164,0.148457616567612,-0.089802980422974,0.143948674201965,0.104932703077793,-0.035956885665655,-0.003166619222611,-0.010134384036064,-0.077763520181179,0.020952925086021,-0.029552854597569,-0.133758693933487,-0.009941157884896,0.017109259963036));
res += mul(Get(s0,0,-dy), float4x4(0.062879249453545,0.092760920524597,-0.107833445072174,-0.116224385797977,-0.049695931375027,0.072708882391453,0.031550534069538,-0.061363428831100,0.016041161492467,-0.098488382995129,-0.110434018075466,0.038466297090054,-0.057661812752485,0.035449713468552,-0.120956495404243,-0.008407380431890));
res += mul(Get(s0,0,0), float4x4(-0.149028301239014,0.093125335872173,0.038766276091337,-0.001389669370838,-0.062332667410374,-0.019550416618586,-0.027532344684005,-0.066245064139366,0.034879542887211,-0.013441838324070,-0.022701848298311,-0.059828326106071,-0.043335907161236,0.075035519897938,0.071302451193333,0.125614121556282));
res += mul(Get(s0,0,dy), float4x4(0.006863069720566,0.028582708910108,0.069003134965897,-0.126470655202866,0.022626478224993,-0.077449224889278,0.161470025777817,0.064826495945454,-0.118863232433796,-0.058043040335178,-0.017206190153956,-0.009238794445992,-0.018119435757399,-0.068435758352280,0.042310576885939,-0.045404184609652));
res += mul(Get(s0,dx,-dy), float4x4(0.036146294325590,0.058367874473333,-0.038418106734753,0.177706971764565,-0.027229495346546,-0.066699855029583,0.020262461155653,-0.127257555723190,-0.128977730870247,-0.068597778677940,0.028545944020152,-0.102849677205086,0.153836280107498,0.025192456319928,0.072197824716568,-0.011465842835605));
res += mul(Get(s0,dx,0), float4x4(-0.095104806125164,-0.103402636945248,-0.008406209759414,-0.074286729097366,0.053157713264227,0.186212778091431,0.077851675450802,-0.038483984768391,0.039742499589920,0.146111398935318,0.000058716330386,0.083867371082306,0.035442847758532,0.152460321784019,-0.009040163829923,-0.080530308187008));
res += mul(Get(s0,dx,dy), float4x4(-0.008279086090624,0.037355624139309,0.064067207276821,0.083568744361401,0.045910410583019,-0.012474549934268,0.118404082953930,0.055544737726450,0.004952998831868,-0.068600684404373,-0.096832290291786,0.019324921071529,0.037672124803066,0.029161583632231,0.161612391471863,-0.032407630234957));
res += mul(Get(s1,-dx,-dy), float4x4(0.000768121331930,-0.000698526448105,-0.063176915049553,-0.111116245388985,-0.026581298559904,0.016744269058108,-0.037796873599291,-0.021359816193581,0.147970572113991,0.065268874168396,-0.338923722505569,-0.054321061819792,-0.078737564384937,-0.071149766445160,0.110189497470856,-0.004898249637336));
res += mul(Get(s1,-dx,0), float4x4(-0.059844087809324,0.107894837856293,-0.032904066145420,0.079983055591583,-0.081499591469765,-0.021362962201238,0.050488781183958,0.061304546892643,-0.156194970011711,0.067539766430855,-0.157323583960533,0.084625825285912,-0.069394141435623,-0.082077316939831,-0.176592767238617,-0.014243257232010));
res += mul(Get(s1,-dx,dy), float4x4(0.095160052180290,0.136128529906273,0.019680859521031,-0.036774396896362,-0.047247417271137,-0.161129742860794,0.063358269631863,0.159261584281921,0.094824880361557,-0.004426112864166,0.085481643676758,-0.066641531884670,0.033240731805563,0.048780519515276,0.067612968385220,0.181332632899284));
res += mul(Get(s1,0,-dy), float4x4(-0.054050639271736,-0.033856876194477,0.014411088079214,0.114187724888325,0.088021554052830,-0.113734714686871,-0.100081399083138,-0.001100744935684,0.078889988362789,0.083397805690765,-0.034644071012735,-0.054647248238325,0.211984634399414,-0.079775199294090,-0.077801570296288,-0.085587069392204));
res += mul(Get(s1,0,0), float4x4(-0.024054909124970,0.049220472574234,0.130147904157639,-0.077032938599586,0.034458469599485,-0.096952416002750,-0.092035576701164,-0.052283212542534,0.036911241710186,-0.186971083283424,-0.140456497669220,0.062403514981270,0.006601194385439,-0.140158206224442,-0.059096291661263,0.013302863575518));
res += mul(Get(s1,0,dy), float4x4(0.007239457219839,-0.079500153660774,0.154230564832687,-0.043757837265730,-0.211353257298470,0.196292117238045,0.040642548352480,0.183194801211357,0.106085494160652,-0.072405107319355,0.072615370154381,-0.042701866477728,-0.067131847143173,-0.072075523436069,-0.079185001552105,0.171413525938988));
res += mul(Get(s1,dx,-dy), float4x4(0.012717024423182,0.117938287556171,0.147283256053925,-0.031716533005238,-0.133358150720596,-0.045788843184710,0.075924858450890,0.101069957017899,-0.034574531018734,-0.096117995679379,0.008963096886873,0.056989829987288,0.139168143272400,-0.098296619951725,0.123641178011894,0.006674794480205));
res += mul(Get(s1,dx,0), float4x4(0.024521585553885,0.032453097403049,-0.102190732955933,0.077216044068336,0.030922550708055,0.141860276460648,0.136833310127258,-0.012491531670094,0.065214298665524,0.016568653285503,0.022256514057517,-0.029060678556561,0.053367029875517,-0.043960139155388,0.017218332737684,-0.143366664648056));
res += mul(Get(s1,dx,dy), float4x4(0.063131392002106,-0.048646237701178,-0.005819027312100,-0.083193652331829,-0.014282011426985,0.152713999152184,-0.084931477904320,-0.171330884099007,0.046929504722357,0.104297868907452,0.138417392969131,-0.045604176819324,-0.018639417365193,-0.048663519322872,-0.039942402392626,0.046639241278172));
res += mul(Get(s2,-dx,-dy), float4x4(-0.131849765777588,-0.114697150886059,0.229649439454079,0.113911576569080,-0.008326702751219,-0.027408130466938,0.018191214650869,-0.064572036266327,-0.103469170629978,-0.037816010415554,-0.222045823931694,-0.034152582287788,0.004034791607410,0.025221474468708,0.047281194478273,-0.028569083660841));
res += mul(Get(s2,-dx,0), float4x4(0.235781565308571,-0.133454903960228,-0.139621585607529,-0.209452942013741,0.187004178762436,-0.013545821420848,0.190230056643486,0.271074771881104,-0.070623181760311,-0.140138030052185,0.179390102624893,0.043906442821026,0.166252896189690,0.205525234341621,-0.022449908778071,0.074354842305183));
res += mul(Get(s2,-dx,dy), float4x4(-0.076151572167873,0.016716560348868,-0.061666496098042,0.006108702160418,0.034776262938976,0.044632449746132,-0.050682034343481,-0.019037939608097,-0.158218100667000,-0.038339547812939,0.016500180587173,-0.043832000344992,0.079608552157879,0.049817554652691,-0.106098741292953,0.124949395656586));
res += mul(Get(s2,0,-dy), float4x4(0.061313953250647,-0.003691681427881,-0.101401470601559,0.020027205348015,-0.068366698920727,0.046267703175545,0.144628599286079,-0.017288343980908,-0.063927479088306,-0.033469896763563,-0.011410990729928,0.059616394340992,0.062948703765869,-0.037427619099617,-0.029661253094673,-0.093704603612423));
res += mul(Get(s2,0,0), float4x4(-0.077257513999939,0.061527427285910,0.082031570374966,0.019427485764027,-0.026286970824003,0.025421112775803,0.100780360400677,0.020874803885818,0.022636989131570,0.013511849567294,0.007431745994836,-0.050329323858023,0.031610164791346,0.050588529556990,0.036710470914841,-0.033394996076822));
res += mul(Get(s2,0,dy), float4x4(0.000052102092013,0.021833589300513,-0.030152793973684,0.025479355826974,0.068950250744820,-0.138444095849991,0.090755395591259,-0.001030919142067,-0.031145045533776,-0.066192001104355,0.168344378471375,-0.293307989835739,-0.045396823436022,-0.144866660237312,-0.074115343391895,0.124434806406498));
res += mul(Get(s2,dx,-dy), float4x4(-0.027565151453018,-0.065420337021351,-0.052133329212666,0.087688893079758,-0.004242032766342,-0.079369328916073,-0.053455039858818,0.165052875876427,0.030200317502022,0.110984116792679,-0.041961185634136,-0.070256367325783,0.047292757779360,0.140093609690666,0.038481067866087,-0.108506001532078));
res += mul(Get(s2,dx,0), float4x4(0.121011897921562,0.085000507533550,-0.001091041020118,0.034661281853914,0.002980635501444,-0.053635887801647,0.038874924182892,0.011042917147279,-0.149605855345726,-0.112880021333694,-0.208361744880676,0.024437939748168,0.062444590032101,-0.054940808564425,0.085698939859867,0.005337029695511));
res += mul(Get(s2,dx,dy), float4x4(-0.110772214829922,-0.035070255398750,-0.068866223096848,0.110433571040630,0.029612626880407,-0.093578711152077,0.017445128411055,0.033864382654428,-0.056480545550585,-0.086632713675499,-0.021158255636692,-0.091624520719051,-0.131645441055298,-0.098090529441833,-0.043757945299149,0.102397099137306));
res += mul(Get(s3,-dx,-dy), float4x4(0.001777381054126,0.226817309856415,0.156150385737419,0.191037222743034,-0.064863063395023,-0.076146736741066,-0.085742563009262,-0.034218627959490,-0.050815388560295,0.074415095150471,-0.051841713488102,0.017849309369922,-0.019449679180980,-0.048495620489120,-0.042120199650526,0.137681737542152));
res += mul(Get(s3,-dx,0), float4x4(-0.057276114821434,0.044936809688807,-0.004160871263593,-0.100471511483192,-0.111829414963722,-0.128633782267570,-0.201472029089928,0.027840554714203,0.146867021918297,-0.034817524254322,0.069343060255051,0.121579296886921,-0.003058055415750,0.046754781156778,-0.028764417394996,0.085426203906536));
res += mul(Get(s3,-dx,dy), float4x4(-0.089255146682262,-0.117537654936314,-0.084433071315289,-0.052324205636978,0.174348801374435,0.024571394547820,-0.184631526470184,-0.040093563497066,-0.160298347473145,0.013301839120686,0.161867827177048,0.125369653105736,0.001156299258582,0.008204950951040,-0.031307827681303,-0.022268230095506));
res += mul(Get(s3,0,-dy), float4x4(-0.009270563721657,-0.024555558338761,-0.001260860473849,0.011634830385447,0.082427628338337,-0.029586464166641,-0.019194738939404,0.005885947030038,0.106073483824730,0.107094593346119,0.002973105292767,0.068689279258251,-0.091234192252159,-0.082184791564941,-0.108807615935802,0.059682905673981));
res += mul(Get(s3,0,0), float4x4(0.062409311532974,0.037046179175377,-0.146848410367966,0.026717707514763,-0.051612176001072,0.020755345001817,-0.062254760414362,-0.250027865171432,-0.088487640023232,-0.038603775203228,-0.000570902018808,0.166533097624779,0.022417703643441,0.007032720372081,-0.039304256439209,0.033848945051432));
res += mul(Get(s3,0,dy), float4x4(0.093994177877903,-0.075207233428955,0.139004051685333,-0.122610986232758,-0.193641453981400,-0.029438462108374,-0.026066800579429,0.282991349697113,-0.086735382676125,0.264747112989426,-0.009536900557578,0.014926203526556,-0.137793540954590,-0.064293637871742,0.112448871135712,0.157251179218292));
res += mul(Get(s3,dx,-dy), float4x4(0.071898669004440,-0.047250319272280,-0.024643149226904,-0.021329006180167,0.063996292650700,-0.006614050362259,0.056273996829987,0.112261295318604,0.024761354550719,-0.059928346425295,0.025681920349598,0.026948386803269,-0.126211374998093,-0.051631841808558,0.074834629893303,0.111447334289551));
res += mul(Get(s3,dx,0), float4x4(-0.060983013361692,0.051639921963215,-0.048559095710516,0.002975506475195,-0.087825365364552,0.021579340100288,0.083218432962894,0.169202148914337,-0.015683371573687,-0.062321655452251,0.257207155227661,0.097351431846619,-0.136453092098236,-0.042806670069695,0.102375246584415,-0.123325973749161));
res += mul(Get(s3,dx,dy), float4x4(0.029743617400527,-0.114181987941265,-0.053318280726671,-0.009942636825144,0.009621361270547,-0.137936845421791,0.221373111009598,-0.006122995167971,-0.091098606586456,0.084886215627193,0.080256022512913,0.033698584884405,-0.005799354985356,0.069461829960346,0.099876686930656,0.077893368899822));
return max(float4(0,0,0,0), res);
}
