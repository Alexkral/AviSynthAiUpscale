sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.125876456499100,-0.113009847700596,0.043589696288109,-0.050535872578621,0.022567220032215,-0.064367197453976,-0.025331784039736,0.020711792632937,-0.028907176107168,0.035027604550123,0.120836593210697,0.103073872625828,-0.012673250399530,0.189533516764641,-0.070470429956913,-0.029962146654725));
res += mul(Get(s0,-dx,0), float4x4(0.049808792769909,-0.023678610101342,0.009078991599381,0.028433894738555,-0.064759925007820,0.081556230783463,-0.112178407609463,-0.123291723430157,-0.054502900689840,0.030149590224028,-0.063933156430721,0.175309315323830,0.120162725448608,0.123901866376400,0.026811296120286,-0.019487304612994));
res += mul(Get(s0,-dx,dy), float4x4(-0.064619354903698,0.055299278348684,-0.014603240415454,-0.065935365855694,-0.034602459520102,-0.014257107861340,-0.074117287993431,-0.009800196625292,0.107293978333473,-0.004023153800517,0.086192302405834,-0.088790953159332,0.016553238034248,0.019260233268142,0.093229874968529,-0.010052895173430));
res += mul(Get(s0,0,-dy), float4x4(0.150722354650497,-0.102775834500790,-0.096619568765163,-0.076769754290581,-0.141380473971367,-0.065061762928963,0.117676682770252,-0.060010921210051,-0.107823058962822,0.000208243334782,0.032773241400719,-0.108715519309044,-0.099180191755295,0.088065989315510,-0.042553145438433,-0.061666093766689));
res += mul(Get(s0,0,0), float4x4(0.049080211669207,0.061479762196541,-0.021558400243521,0.109563246369362,-0.032254025340080,0.050395321100950,-0.078210793435574,-0.076013617217541,-0.154847010970116,-0.073223404586315,-0.025144936516881,0.053534328937531,-0.221107736229897,0.080302454531193,0.032282937318087,0.053015317767859));
res += mul(Get(s0,0,dy), float4x4(0.023267891258001,0.141710981726646,0.073757119476795,-0.005467921029776,0.021601894870400,0.001215841621161,0.017264187335968,-0.066128194332123,-0.011905959807336,-0.085546068847179,0.074523523449898,0.098988912999630,0.023812728002667,0.034886885434389,-0.037129025906324,0.043189231306314));
res += mul(Get(s0,dx,-dy), float4x4(-0.025603486225009,-0.056931644678116,-0.020151190459728,-0.062696367502213,-0.103463806211948,-0.030867882072926,-0.056071095168591,0.134421944618225,0.049448680132627,0.052423890680075,-0.054919220507145,0.002170185791329,0.012732147239149,-0.095252998173237,-0.018367156386375,0.073638707399368));
res += mul(Get(s0,dx,0), float4x4(-0.028300469741225,-0.088625393807888,0.052489642053843,-0.162062332034111,-0.065950326621532,-0.061401437968016,-0.129161000251770,-0.087384171783924,-0.138074994087219,0.113287396728992,-0.019279429689050,0.014823744073510,-0.053413819521666,-0.014161934144795,0.087264962494373,0.006709941197187));
res += mul(Get(s0,dx,dy), float4x4(0.018540997058153,-0.027924997732043,-0.040130227804184,0.052120573818684,-0.012109210714698,0.019626559689641,0.094436764717102,0.112354807555676,-0.123067863285542,0.143422156572342,0.022299218922853,-0.151935890316963,-0.020124131813645,-0.056481052190065,-0.023742182180285,-0.177069664001465));
res += mul(Get(s1,-dx,-dy), float4x4(0.133311584591866,-0.026724873110652,0.016083929687738,0.021921070292592,0.023372504860163,0.013406641781330,-0.157623574137688,0.075991831719875,0.021611189469695,0.084837466478348,0.128041923046112,0.106690958142281,-0.030659887939692,-0.080390557646751,-0.004846546333283,-0.083667285740376));
res += mul(Get(s1,-dx,0), float4x4(-0.055159334093332,-0.067385636270046,0.083836846053600,-0.010017132386565,0.051005620509386,0.151574388146400,-0.191995486617088,0.014076283201575,-0.002407936146483,-0.005969565361738,0.050641812384129,-0.096462585031986,-0.051781147718430,-0.128071054816246,0.062973625957966,0.019005440175533));
res += mul(Get(s1,-dx,dy), float4x4(-0.068303309381008,-0.202371671795845,0.011263839900494,-0.077034071087837,-0.026077430695295,0.089892111718655,-0.096748217940331,-0.029623426496983,0.024180186912417,0.078656554222107,0.003488444723189,0.058327689766884,0.049945291131735,-0.017361899837852,-0.105437040328979,-0.140519574284554));
res += mul(Get(s1,0,-dy), float4x4(0.088689565658569,-0.061084520071745,0.035228524357080,-0.049779519438744,-0.048742756247520,-0.028187042102218,-0.110207706689835,-0.243955716490746,-0.109847329556942,0.084406219422817,0.103247582912445,-0.003105829469860,-0.023451386019588,0.017242034897208,-0.002739733550698,0.026537731289864));
res += mul(Get(s1,0,0), float4x4(0.053235284984112,0.144132107496262,-0.042140968143940,-0.031590320169926,-0.162861824035645,-0.094149038195610,-0.181138306856155,0.131803199648857,-0.051249578595161,-0.054517365992069,0.093493223190308,0.030173061415553,-0.123447053134441,0.073684811592102,-0.185817748308182,-0.068194232881069));
res += mul(Get(s1,0,dy), float4x4(0.212717145681381,0.074794486165047,-0.047906093299389,0.090970568358898,0.039461318403482,-0.104982979595661,-0.132330372929573,0.024297134950757,-0.044180601835251,0.013803737238050,0.093151815235615,0.160156756639481,-0.086413696408272,-0.073811441659927,-0.028901925310493,0.056914534419775));
res += mul(Get(s1,dx,-dy), float4x4(0.186620667576790,-0.002060036873445,-0.001076062209904,-0.033039096742868,0.034413449466228,-0.119000717997551,-0.112004637718201,0.016503648832440,0.099138393998146,-0.103529766201973,-0.075293913483620,0.057325769215822,0.011625084094703,-0.115272067487240,0.086687095463276,-0.093198984861374));
res += mul(Get(s1,dx,0), float4x4(-0.102564200758934,-0.129819139838219,-0.151733368635178,-0.100929863750935,0.000289563671686,-0.012713827192783,0.093152292072773,-0.059346258640289,-0.102655060589314,0.107399299740791,0.033201575279236,-0.079257577657700,-0.033992964774370,0.141930088400841,0.083609484136105,-0.098804228007793));
res += mul(Get(s1,dx,dy), float4x4(0.152548044919968,0.008302689529955,0.196000784635544,-0.039646077901125,-0.002028069226071,-0.018241956830025,0.168754428625107,-0.085438929498196,0.014868343248963,0.069476082921028,0.074643038213253,0.001646977616474,0.007132276892662,0.039829567074776,-0.111343309283257,-0.098447911441326));
res += mul(Get(s2,-dx,-dy), float4x4(0.008159630931914,-0.031547922641039,0.102829858660698,-0.177820786833763,0.064345531165600,0.095180116593838,0.036900289356709,-0.114774912595749,0.041949983686209,-0.105790458619595,-0.088542103767395,0.061378069221973,-0.078075341880322,0.034901816397905,-0.044583305716515,0.005370788276196));
res += mul(Get(s2,-dx,0), float4x4(-0.018937319517136,-0.035785824060440,0.109955117106438,0.108946077525616,0.006918300408870,-0.161072090268135,-0.080042101442814,-0.038076411932707,0.001272597466595,-0.076443262398243,-0.045808326452971,0.081806652247906,-0.075646065175533,-0.031122127547860,0.038240302354097,0.029781442135572));
res += mul(Get(s2,-dx,dy), float4x4(0.035147346556187,-0.190866857767105,0.085816398262978,0.020652649924159,-0.025488948449492,-0.053198449313641,-0.070561751723289,0.130962431430817,0.129989892244339,-0.005225386004895,-0.027661528438330,-0.066408783197403,-0.011660816147923,-0.089268378913403,0.057741712778807,-0.148893132805824));
res += mul(Get(s2,0,-dy), float4x4(-0.085339374840260,0.034397102892399,0.013715515844524,-0.004985132254660,-0.095851637423038,0.097325302660465,0.081937849521637,0.001366244978271,-0.051017057150602,0.061846308410168,0.022127911448479,0.075930096209049,-0.061240535229445,0.024955298751593,-0.079268231987953,0.117762155830860));
res += mul(Get(s2,0,0), float4x4(0.034158166497946,-0.109210930764675,-0.056001104414463,0.075950250029564,-0.074714258313179,0.102180972695351,0.083502009510994,0.039205376058817,-0.031234322115779,-0.137136623263359,-0.007984720170498,0.044670049101114,0.160132721066475,0.091404572129250,0.050845891237259,-0.085861526429653));
res += mul(Get(s2,0,dy), float4x4(-0.030093781650066,-0.069126889109612,-0.033681850880384,0.030249215662479,0.129045039415359,-0.025218863040209,-0.060663923621178,0.035775277763605,-0.197154775261879,0.049826860427856,0.020272362977266,-0.058408096432686,0.048390921205282,-0.002252568025142,0.114382758736610,0.224423661828041));
res += mul(Get(s2,dx,-dy), float4x4(0.048586659133434,0.008056241087615,0.067892320454121,0.041218239814043,0.062078978866339,0.147431403398514,0.046898253262043,0.053723163902760,-0.086021937429905,0.083739258348942,-0.014763031154871,-0.141717776656151,-0.003089283360168,-0.104810856282711,-0.057426761835814,0.020839516073465));
res += mul(Get(s2,dx,0), float4x4(-0.115833416581154,0.030059466138482,-0.046388145536184,0.047948773950338,-0.029457418248057,0.061119280755520,0.082146830856800,0.001556701376103,-0.046548306941986,0.181196078658104,0.127614080905914,-0.079764358699322,-0.002834985265508,0.063838481903076,0.034040234982967,0.060829363763332));
res += mul(Get(s2,dx,dy), float4x4(0.082901522517204,0.038116626441479,0.013759104534984,0.054009094834328,0.016631323844194,-0.047225207090378,0.020336927846074,-0.075463734567165,-0.209258675575256,-0.211906850337982,-0.116729632019997,0.045507051050663,-0.055904034525156,0.004964597523212,0.065990716218948,-0.054094862192869));
res += mul(Get(s3,-dx,-dy), float4x4(0.111488409340382,0.039103493094444,0.064632654190063,0.130121633410454,-0.091606669127941,0.190115034580231,-0.111478075385094,0.054025448858738,0.056063272058964,-0.164743289351463,-0.086088173091412,0.024634266272187,-0.035572595894337,-0.008839020505548,-0.094243295490742,0.211160451173782));
res += mul(Get(s3,-dx,0), float4x4(-0.022397525608540,0.127928242087364,-0.149172648787498,-0.063007131218910,0.102408610284328,-0.112142980098724,0.008329641073942,-0.063805177807808,0.026048365980387,0.043220814317465,-0.049465358257294,0.114386297762394,-0.026646932587028,-0.034388378262520,0.095355778932571,0.021867660805583));
res += mul(Get(s3,-dx,dy), float4x4(-0.072302721440792,0.062309935688972,0.187631011009216,-0.040389120578766,0.013148509897292,0.125395700335503,-0.014868459664285,0.047279980033636,-0.048344586044550,0.042969707399607,0.005384383723140,0.034268990159035,0.050216581672430,0.084092408418655,0.038450084626675,-0.039902321994305));
res += mul(Get(s3,0,-dy), float4x4(-0.090545684099197,-0.131809756159782,-0.047763109207153,0.017912939190865,-0.089957930147648,0.074798606336117,0.053593274205923,-0.013929525390267,-0.007066891528666,0.038611736148596,-0.060423132032156,-0.168950453400612,0.089591749012470,0.047024447470903,0.081725828349590,-0.097744539380074));
res += mul(Get(s3,0,0), float4x4(0.078941434621811,0.305338770151138,0.014582319185138,-0.080365784466267,-0.044662743806839,0.079295776784420,-0.114362798631191,0.005827467888594,0.045127898454666,-0.061307765543461,0.033003363758326,-0.052694834768772,-0.073764517903328,-0.086742974817753,0.074643254280090,0.064571864902973));
res += mul(Get(s3,0,dy), float4x4(-0.000283365952782,-0.045305803418159,-0.062912806868553,-0.080005720257759,-0.208991035819054,0.164269849658012,-0.232365071773529,0.021344995126128,0.078913830220699,-0.148635625839233,-0.020229263231158,0.226967409253120,0.188469871878624,0.046050582081079,-0.007287031970918,-0.053543731570244));
res += mul(Get(s3,dx,-dy), float4x4(-0.004203138407320,-0.144120857119560,0.042669735848904,-0.085154511034489,-0.096415832638741,-0.007334183901548,0.065934538841248,-0.102522693574429,-0.063694640994072,-0.067373476922512,0.054072249680758,-0.001694240956567,-0.131174966692924,0.223195478320122,0.057659566402435,0.006106563843787));
res += mul(Get(s3,dx,0), float4x4(0.115292511880398,-0.079684033989906,0.183044597506523,-0.013843920081854,-0.013061258941889,-0.081899039447308,-0.039867110550404,-0.180609256029129,0.009441939182580,-0.093227960169315,-0.116523422300816,-0.030738437548280,0.001852847635746,-0.167719930410385,0.034496020525694,0.141521885991096));
res += mul(Get(s3,dx,dy), float4x4(-0.065908111631870,-0.041885737329721,0.052010327577591,-0.053018834441900,-0.031180804595351,0.067955665290356,0.070023834705353,-0.048794761300087,0.121076837182045,-0.044719614088535,-0.045610655099154,-0.024923782795668,0.017715109512210,0.085582703351974,0.017467206344008,-0.089739613234997));
return max(float4(0,0,0,0), res);
}
