sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.009196275845170,0.022715451195836,-0.113820180296898,-0.074628479778767,-0.009349865838885,0.042110264301300,-0.012260487303138,-0.045744340866804,0.104024834930897,0.012142270803452,-0.037276048213243,0.057498559355736,-0.050512827932835,0.002729710424319,0.135503247380257,-0.001835325849243));
res += mul(Get(s0,-dx,0), float4x4(-0.049898289144039,-0.070138953626156,-0.103425726294518,0.004387589171529,0.035311788320541,0.033304642885923,-0.020273720845580,-0.094009689986706,0.045846264809370,-0.027413176372647,-0.011574325151742,0.145671978592873,0.029676759615541,-0.059428758919239,0.117272354662418,-0.024843350052834));
res += mul(Get(s0,-dx,dy), float4x4(-0.022553881630301,0.034506544470787,-0.001566902385093,0.044875726103783,-0.011484443210065,0.037446219474077,0.035825837403536,-0.042735207825899,0.049674205482006,-0.023306496441364,0.035234339535236,0.027632594108582,0.045400619506836,0.218408018350601,-0.002768214093521,-0.224583700299263));
res += mul(Get(s0,0,-dy), float4x4(-0.026540519669652,-0.022806396707892,-0.045563612133265,-0.066727273166180,0.015012791380286,0.061370071023703,-0.080292791128159,-0.083602316677570,-0.081953890621662,0.030073707923293,-0.115451581776142,-0.003001403994858,0.024818100035191,-0.012894630432129,0.107474766671658,-0.046292975544930));
res += mul(Get(s0,0,0), float4x4(-0.100233532488346,0.003008291358128,0.002031078794971,-0.068501129746437,0.004845048766583,0.014019941911101,0.056711498647928,-0.095891058444977,-0.162690296769142,-0.004628395196050,0.105444774031639,0.008420661091805,0.076959438621998,-0.031088696792722,0.315265446901321,0.061282105743885));
res += mul(Get(s0,0,dy), float4x4(0.049107491970062,0.082778975367546,0.014532326720655,0.028436919674277,0.032966084778309,0.031649831682444,-0.001678439206444,-0.068983614444733,0.061888657510281,0.021779283881187,-0.131720438599586,0.067289106547832,-0.016184691339731,-0.033014189451933,-0.007923749275506,0.094935849308968));
res += mul(Get(s0,dx,-dy), float4x4(-0.057949475944042,-0.049586538225412,-0.150340452790260,-0.038611464202404,0.002633247524500,0.024534048512578,-0.062497101724148,-0.081893637776375,0.030743815004826,0.009921354241669,-0.041828300803900,-0.047050159424543,-0.035070788115263,0.021366363391280,-0.044470403343439,0.019054744392633));
res += mul(Get(s0,dx,0), float4x4(-0.041112072765827,-0.003830391447991,-0.014568738639355,-0.014082360081375,-0.039586011320353,-0.031968817114830,0.049637354910374,-0.047362621873617,-0.170312315225601,0.015596470795572,0.022567657753825,-0.032780420035124,0.036464691162109,0.018961343914270,0.055247481912374,-0.034901496022940));
res += mul(Get(s0,dx,dy), float4x4(-0.068981327116489,0.029871737584472,0.021992377936840,0.006367512047291,0.049563582986593,0.010064900852740,-0.072052508592606,-0.019340712577105,0.104379072785378,-0.040285598486662,-0.083056576550007,0.089719742536545,0.047257184982300,0.067050352692604,-0.018944980576634,-0.017381079494953));
res += mul(Get(s1,-dx,-dy), float4x4(0.017206346616149,-0.028954995796084,0.044787198305130,-0.027564696967602,-0.053652174770832,0.032536547631025,-0.017407122999430,-0.112253576517105,-0.053955387324095,0.037258889526129,-0.016041601076722,0.054181598126888,0.016818642616272,0.029731610789895,0.080943234264851,-0.038379445672035));
res += mul(Get(s1,-dx,0), float4x4(0.086815685033798,-0.007266615051776,0.097932398319244,0.024950634688139,0.034286275506020,0.080596506595612,0.003552902955562,0.050507914274931,0.047426924109459,-0.022617412731051,0.001578357303515,0.199530512094498,0.041099123656750,-0.054601948708296,0.000774165207986,-0.070261940360069));
res += mul(Get(s1,-dx,dy), float4x4(-0.016899293288589,-0.020750738680363,0.079070664942265,-0.021492386236787,-0.008668482303619,-0.013864766806364,-0.039747178554535,-0.053041595965624,0.076244592666626,0.056210894137621,0.060802463442087,-0.041856441646814,-0.017765998840332,0.007119169924408,-0.017940089106560,0.019281640648842));
res += mul(Get(s1,0,-dy), float4x4(0.067546151578426,-0.008583204820752,0.037489101290703,0.025508046150208,-0.079012967646122,0.034480392932892,0.025796070694923,0.006588956806809,0.028184473514557,0.126452624797821,-0.019425652921200,-0.030523423105478,-0.010729257948697,-0.014423259533942,0.057958204299212,0.056551504880190));
res += mul(Get(s1,0,0), float4x4(0.002815281739458,0.039085872471333,0.062033846974373,0.029254386201501,0.099729858338833,0.028166698291898,0.097767390310764,-0.005606050603092,0.023631181567907,0.025265205651522,0.122694738209248,-0.149263292551041,0.086100161075592,-0.047405637800694,0.029928807169199,0.064464345574379));
res += mul(Get(s1,0,dy), float4x4(-0.017985219135880,-0.057332735508680,0.122667349874973,0.028572466224432,0.056423496454954,0.027449147775769,-0.121462658047676,0.036405477672815,0.055487103760242,0.025363497436047,0.074965909123421,-0.052862044423819,-0.061635505408049,-0.001315575325862,0.073756963014603,-0.046337321400642));
res += mul(Get(s1,dx,-dy), float4x4(-0.011999536305666,0.025277996435761,0.079299256205559,0.000771699822508,-0.077117182314396,-0.035159796476364,0.024241758510470,0.050280943512917,0.061391524970531,0.050794541835785,0.065496578812599,-0.062032278627157,-0.159483805298805,0.010259792208672,0.028260570019484,-0.004896532278508));
res += mul(Get(s1,dx,0), float4x4(0.004799530375749,0.039995178580284,-0.005147723015398,0.050296150147915,0.094274550676346,-0.066561140120029,-0.072461545467377,0.093553252518177,-0.007612088229507,0.033996101468801,0.057811919599771,-0.114976823329926,0.024247620254755,-0.009437722153962,-0.082588456571102,-0.032824255526066));
res += mul(Get(s1,dx,dy), float4x4(-0.059136487543583,0.009944664314389,0.042039059102535,0.010096321813762,0.114668436348438,-0.042796775698662,-0.023170787841082,0.083898968994617,0.023659534752369,-0.011331246234477,0.063044562935829,-0.042151477187872,-0.108333192765713,0.036673959344625,-0.011034581810236,0.026101075112820));
res += mul(Get(s2,-dx,-dy), float4x4(0.029757309705019,0.073117665946484,-0.063795648515224,-0.159374862909317,0.096717320382595,-0.007790929637849,0.048792764544487,-0.042136214673519,0.048051398247480,0.146882817149162,0.027687089517713,-0.022227808833122,0.030085980892181,-0.039774432778358,0.001973045291379,-0.025314427912235));
res += mul(Get(s2,-dx,0), float4x4(-0.026668349280953,0.139167845249176,0.004595840815455,-0.064875818789005,0.018052065744996,-0.037330638617277,0.009500102140009,0.073035627603531,0.060152661055326,0.061655096709728,-0.021035175770521,-0.046523019671440,0.014476389624178,-0.050038475543261,0.198658615350723,-0.110911831259727));
res += mul(Get(s2,-dx,dy), float4x4(0.063912533223629,0.013236394152045,0.024194717407227,-0.108337916433811,0.072106860578060,-0.093147195875645,-0.058071576058865,0.101565681397915,0.077523492276669,-0.063129007816315,0.088193088769913,0.021402895450592,0.035716135054827,0.021159837022424,-0.043652743101120,-0.044505774974823));
res += mul(Get(s2,0,-dy), float4x4(-0.005917214322835,0.026773357763886,0.005047783721238,0.068813927471638,-0.117385469377041,-0.028989555314183,0.010914138518274,0.095124289393425,0.016864826902747,0.027122372761369,0.108520083129406,-0.176861315965652,0.071691729128361,0.036788817495108,0.053745407611132,0.050998944789171));
res += mul(Get(s2,0,0), float4x4(-0.091710567474365,0.050588052719831,-0.080962814390659,-0.079449601471424,-0.081584796309471,-0.022301768884063,0.085706025362015,0.026245376095176,0.080011829733849,0.083928138017654,-0.105949841439724,0.030939985066652,-0.166110977530479,0.089332848787308,-0.041116449981928,-0.078133150935173));
res += mul(Get(s2,0,dy), float4x4(0.001755454461090,0.039625287055969,-0.013262514956295,-0.137551248073578,0.015194571577013,-0.009657099843025,-0.056647211313248,0.001767828012817,-0.138127565383911,-0.025141015648842,0.179643988609314,-0.021880811080337,0.015221853740513,0.085188522934914,-0.144219085574150,-0.064644470810890));
res += mul(Get(s2,dx,-dy), float4x4(0.060126945376396,0.018718089908361,0.010037986561656,0.004953854251653,-0.057771541178226,0.048918422311544,-0.024059377610683,0.010351897217333,0.023568702861667,-0.021211300045252,-0.015474157407880,0.101431570947170,0.026196461170912,0.010884296149015,-0.024927487596869,-0.054408188909292));
res += mul(Get(s2,dx,0), float4x4(0.027105579152703,-0.011884380131960,-0.078253045678139,0.071738041937351,-0.062145803123713,-0.084485232830048,0.012519530951977,0.092209570109844,0.098290555179119,-0.025011748075485,-0.011415493674576,0.124920770525932,-0.131077095866203,-0.048661723732948,-0.041157014667988,-0.011056813411415));
res += mul(Get(s2,dx,dy), float4x4(-0.013864951208234,-0.031057257205248,0.062492471188307,-0.044969450682402,-0.033355802297592,-0.036715313792229,0.083859980106354,-0.062874391674995,-0.092808783054352,-0.017978806048632,0.023561226204038,-0.030924674123526,-0.096314385533333,-0.004748121835291,-0.046258278191090,0.008493933826685));
res += mul(Get(s3,-dx,-dy), float4x4(0.051204957067966,0.051739741116762,-0.057234790176153,-0.078637830913067,0.040632523596287,0.050460442900658,-0.038353029638529,-0.032341577112675,-0.024073231965303,-0.004970418754965,0.021133920177817,-0.060276079922915,-0.023091882467270,0.007949635386467,-0.053108185529709,-0.052941691130400));
res += mul(Get(s3,-dx,0), float4x4(0.005478570237756,0.255483150482178,-0.081290617585182,-0.041612211614847,0.026682654395700,0.012489820830524,-0.003447185503319,-0.025698482990265,-0.050717063248158,-0.032200846821070,-0.020836710929871,-0.055642370134592,0.012398164719343,0.115958534181118,0.000841787375975,-0.029454963281751));
res += mul(Get(s3,-dx,dy), float4x4(0.008523546159267,0.046309016644955,0.016812574118376,0.020088214427233,-0.045472927391529,0.011945798993111,-0.001390218152665,0.024782871827483,0.032541606575251,-0.014244617894292,0.080793023109436,-0.006218614522368,0.090057410299778,0.026989990845323,0.053082421422005,0.010810918174684));
res += mul(Get(s3,0,-dy), float4x4(0.062869444489479,-0.100817546248436,0.012369431555271,0.247366741299629,0.032303497195244,-0.101344726979733,0.041780110448599,0.080001458525658,0.028867123648524,-0.044384546577930,0.103345140814781,-0.036900069564581,0.002393861534074,-0.008705062791705,0.045675467699766,0.041586514562368));
res += mul(Get(s3,0,0), float4x4(-0.081532292068005,-0.069542445242405,-0.149475753307343,0.112991563975811,0.079102285206318,-0.039702951908112,0.070744112133980,0.034177858382463,-0.047063294798136,-0.019074650481343,-0.003082389244810,0.213356047868729,0.015972234308720,0.089658811688423,-0.058178469538689,0.013849804177880));
res += mul(Get(s3,0,dy), float4x4(-0.040388274937868,-0.001472400501370,-0.023066414520144,0.068545423448086,0.071614697575569,0.010563189163804,0.090071752667427,0.071826145052910,-0.044261265546083,-0.043502517044544,0.085101060569286,0.024902980774641,0.213595330715179,-0.067293569445610,0.009161039255559,-0.065997920930386));
res += mul(Get(s3,dx,-dy), float4x4(0.113298170268536,-0.039653532207012,-0.037243522703648,-0.061708010733128,-0.018832409754395,0.038171365857124,0.081269271671772,0.050625037401915,0.082225121557713,0.002056613331661,0.011859576217830,-0.056329797953367,0.004966977983713,-0.011363883502781,-0.023052744567394,0.048349238932133));
res += mul(Get(s3,dx,0), float4x4(-0.039750665426254,0.035287786275148,-0.100856177508831,0.032665077596903,-0.017321471124887,-0.091490618884563,0.003199807601050,0.196850910782814,-0.110670156776905,0.021281797438860,-0.011163173243403,-0.055917151272297,-0.026521619409323,-0.000715721689630,0.002329803537577,0.083461932837963));
res += mul(Get(s3,dx,dy), float4x4(-0.043874181807041,0.045561164617538,0.014340192079544,-0.103528797626495,-0.100155398249626,-0.004227473866194,0.008974155411124,0.090731672942638,-0.064550921320915,-0.001803183346055,-0.059526011347771,0.000336303230142,0.109513945877552,-0.021172061562538,0.112403407692909,-0.116174042224884));
return max(float4(0,0,0,0), res);
}
