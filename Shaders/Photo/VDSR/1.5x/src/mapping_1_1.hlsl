sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.063216641545296,0.002370147267357,-0.014193562790751,-0.033862762153149,0.029286172240973,-0.050040964037180,-0.008662948384881,0.008230084553361,-0.034061174839735,0.052226062864065,-0.013540435582399,-0.246681034564972,-0.003668196033686,0.004698014352471,0.008111974224448,0.016454406082630));
res += mul(Get(s0,-dx,0), float4x4(0.023817515000701,-0.024351343512535,0.072812199592590,0.007977654226124,0.025252113118768,-0.114398047327995,-0.002390323905274,-0.037206485867500,-0.062775775790215,-0.018923567607999,-0.046405963599682,-0.156019970774651,-0.010227634571493,-0.020780194550753,0.005466982256621,-0.008131101727486));
res += mul(Get(s0,-dx,dy), float4x4(0.105961695313454,0.079739794135094,0.057235632091761,0.007003407925367,0.044412806630135,-0.069778338074684,-0.001818456221372,-0.022328676655889,0.051743838936090,-0.000632825016510,0.094154179096222,-0.017226491123438,-0.031434260308743,-0.069281987845898,-0.000947151042055,-0.026612039655447));
res += mul(Get(s0,0,-dy), float4x4(0.066388361155987,-0.027914701029658,-0.053344558924437,0.012020461261272,0.039815183728933,0.017690217122436,0.017428310588002,-0.011672687716782,-0.000891170057002,-0.183191582560539,-0.036202602088451,0.246654599905014,0.008229030296206,0.023127160966396,0.031124515458941,0.021288549527526));
res += mul(Get(s0,0,0), float4x4(0.027225652709603,-0.037965454161167,0.019137676805258,0.009844579733908,0.003838425269350,0.087006062269211,0.043591096997261,-0.037690445780754,0.045412339270115,-0.322532057762146,-0.173205494880676,0.270687907934189,0.000155044544954,-0.001311795320362,0.020647309720516,0.067575983703136));
res += mul(Get(s0,0,dy), float4x4(0.132037162780762,0.049584928900003,0.071768589317799,0.003535703523085,0.022722732275724,0.053278215229511,0.033775050193071,-0.007994588464499,-0.038498658686876,0.302388519048691,-0.036860272288322,-0.113883286714554,-0.027605516836047,-0.060948062688112,0.004326724912971,0.074860826134682));
res += mul(Get(s0,dx,-dy), float4x4(0.086536504328251,-0.060468181967735,-0.052342925220728,0.059013903141022,0.034589849412441,0.055251982063055,0.003854635171592,0.005472979508340,-0.049767769873142,-0.048393376171589,0.008090344257653,0.061100210994482,0.017752528190613,-0.010575241409242,0.003143167356029,0.031613595783710));
res += mul(Get(s0,dx,0), float4x4(0.031139554455876,0.055352665483952,-0.043960131704807,-0.059949502348900,0.006109021138400,0.135575249791145,0.035275552421808,0.004049140028656,0.059794399887323,-0.137078627943993,-0.014306901022792,0.049581211060286,0.010178149677813,-0.008726902306080,0.026380384340882,0.021942224353552));
res += mul(Get(s0,dx,dy), float4x4(0.130028292536736,0.100484877824783,-0.008930404670537,-0.086428120732307,0.014473021961749,0.053342409431934,0.027002640068531,0.025018196552992,-0.059002466499805,0.382287025451660,-0.027462128549814,-0.183524638414383,-0.018778653815389,-0.076848246157169,0.014097499661148,0.029964134097099));
res += mul(Get(s1,-dx,-dy), float4x4(0.006501309107989,0.005291062872857,0.023021675646305,0.008240766823292,0.014953212812543,-0.205030992627144,-0.031088151037693,0.062121745198965,0.001443377695978,-0.010334467515349,-0.001079011708498,0.010040008462965,-0.003598324256018,0.026726035401225,0.028070196509361,-0.034921832382679));
res += mul(Get(s1,-dx,0), float4x4(-0.000548109645024,-0.019162936136127,0.014451348222792,-0.039409622550011,0.040369156748056,-0.246076732873917,-0.067653626203537,0.066114865243435,0.001829841407016,-0.014477065764368,0.007818505167961,0.017291033640504,-0.003197224112228,-0.001265185070224,0.015000483952463,-0.053544592112303));
res += mul(Get(s1,-dx,dy), float4x4(0.003919120877981,-0.026041377335787,0.017182655632496,-0.010797405615449,0.009279752150178,0.024037165567279,-0.044842071831226,-0.073015436530113,-0.004340231884271,-0.013522496446967,-0.003330512437969,-0.008679701015353,-0.029695816338062,0.030794249847531,0.029460048303008,-0.025801932439208));
res += mul(Get(s1,0,-dy), float4x4(-0.002820262685418,0.034112278372049,0.033559814095497,0.011604818515480,-0.029790781438351,0.032272484153509,0.028466820716858,-0.046561475843191,-0.001142603578046,0.010224712081254,0.008658213540912,0.014426190406084,-0.021891223266721,-0.017091734334826,0.010504742152989,0.037065718322992));
res += mul(Get(s1,0,0), float4x4(0.000242710884777,0.008750821463764,0.003684265306219,-0.007163041736931,0.015622679144144,0.032088104635477,0.056027933955193,-0.057265505194664,-0.002468485385180,-0.002392899943516,0.000961782410741,0.033433228731155,0.006970557849854,-0.037993360310793,0.001174251199700,0.060548480600119));
res += mul(Get(s1,0,dy), float4x4(-0.001941945869476,-0.020187294110656,0.011090558022261,-0.001082481932826,0.007592527661473,0.206029757857323,0.023765055462718,-0.087465792894363,-0.009151393547654,-0.007912118919194,0.006744842976332,0.025276241824031,-0.039207588881254,0.002343148458749,-0.004615998361260,0.012449844740331));
res += mul(Get(s1,dx,-dy), float4x4(0.006699244491756,0.025411317124963,0.009262337349355,0.007854339666665,-0.031776215881109,-0.020115472376347,-0.062322288751602,-0.021621730178595,-0.001652853679843,0.008750449866056,0.012751258909702,0.002636741148308,-0.027531120926142,-0.030613627284765,-0.003782827407122,0.020910885185003));
res += mul(Get(s1,dx,0), float4x4(-0.001967291114852,0.000995238777250,0.000454048422398,0.025042643770576,-0.003461158601567,-0.031157754361629,-0.003664103336632,-0.024654366075993,0.003431021468714,0.002751201624051,0.015090592205524,0.006171184126288,-0.000918815203477,-0.005934071261436,-0.001485344604589,0.040088970214128));
res += mul(Get(s1,dx,dy), float4x4(-0.000683418475091,-0.036474015563726,0.003544399514794,-0.002328186761588,0.029673907905817,0.089948788285255,-0.027040991932154,0.025060161948204,-0.002065012464300,-0.022711789235473,0.006094352342188,0.008678865619004,-0.025139756500721,0.013284626416862,-0.005577717907727,-0.024094708263874));
res += mul(Get(s2,-dx,-dy), float4x4(0.006054477300495,-0.005261879414320,-0.003081833478063,0.015143839642406,-0.083064399659634,-0.037047017365694,-0.020936449989676,-0.141245752573013,0.002161983633414,-0.010500350035727,0.005042864009738,0.001636043773033,0.011029601097107,-0.028224967420101,0.074313424527645,-0.051949374377728));
res += mul(Get(s2,-dx,0), float4x4(0.002247106051072,-0.016593394801021,-0.001983491005376,-0.005349502898753,-0.000660605728626,0.101711265742779,0.070370249450207,-0.116122774779797,0.002591674914584,0.002920696511865,-0.002379107056186,-0.006310582160950,-0.010362251661718,-0.073101729154587,0.009025411680341,-0.066457003355026));
res += mul(Get(s2,-dx,dy), float4x4(0.021586934104562,0.008994094096124,0.005659861955792,-0.002417832380161,0.015112373977900,0.026516385376453,-0.033272027969360,-0.050137393176556,-0.002276808256283,-0.012869383208454,0.010490539483726,-0.007355217821896,-0.043050907552242,0.039381649345160,0.027666328474879,-0.014047453179955));
res += mul(Get(s2,0,-dy), float4x4(0.014411931857467,0.000084528488514,-0.010279810987413,0.031363833695650,-0.106197245419025,-0.074754007160664,-0.047404378652573,-0.006370366550982,0.005149863660336,0.004681041929871,0.005055308807641,0.031279250979424,-0.024734148755670,0.013627818785608,0.051330894231796,-0.074290871620178));
res += mul(Get(s2,0,0), float4x4(0.007161189336330,0.011936144903302,0.005702168680727,-0.001579752191901,-0.032526586204767,0.110087312757969,0.026218054816127,0.089130625128746,0.006372358649969,0.003990888129920,-0.000379870383767,0.071966029703617,-0.007652381900698,-0.126411601901054,0.004843769595027,0.066939637064934));
res += mul(Get(s2,0,dy), float4x4(0.015854872763157,0.046024240553379,0.006135362200439,-0.024394333362579,0.086874604225159,-0.136036932468414,-0.056982804089785,0.154772698879242,-0.001475292607211,-0.017227169126272,0.006050116382539,0.033136446028948,-0.080997630953789,0.019575679674745,0.012230794876814,0.026632273569703));
res += mul(Get(s2,dx,-dy), float4x4(0.002416770672426,0.034071087837219,0.014337593689561,0.005707318428904,-0.087743483483791,-0.033244892954826,-0.027823712676764,-0.100795790553093,0.009010024368763,0.010494609363377,0.000595371355303,0.015750320628285,-0.039727885276079,-0.065739117562771,-0.024248836562037,0.060715571045876));
res += mul(Get(s2,dx,0), float4x4(0.000526437070221,0.017971105873585,0.024789359420538,0.007254044990987,-0.052372548729181,0.122093968093395,0.014473059214652,0.027419069781899,0.006594136822969,0.009513448923826,0.000584953173529,0.033283732831478,-0.006002558860928,-0.095178231596947,-0.009114618413150,0.125285297632217));
res += mul(Get(s2,dx,dy), float4x4(0.009518564678729,0.020603898912668,0.010164487175643,0.008007566444576,0.073502317070961,-0.006574855186045,0.012212092988193,0.072505377233028,-0.004180188290775,0.001781900878996,0.016151048243046,-0.002565724309534,-0.099752441048622,0.032944411039352,-0.004713344853371,-0.032645318657160));
res += mul(Get(s3,-dx,-dy), float4x4(0.001675616367720,-0.024837682023644,0.011691099964082,-0.006459513679147,0.007166080176830,-0.036702241748571,0.001197214587592,-0.008243195712566,0.000276515813312,-0.001997618470341,-0.007894423790276,0.002305126050487,0.065462931990623,0.038506790995598,0.008919780142605,0.019374690949917));
res += mul(Get(s3,-dx,0), float4x4(-0.007443726062775,0.006044293753803,-0.002209760015830,-0.033929869532585,0.016965271905065,-0.086402460932732,-0.004241135437042,0.003883651457727,0.005289833992720,-0.027104707434773,0.006277682259679,0.001022956683300,0.037529215216637,-0.021109925583005,0.054558336734772,0.021336484700441));
res += mul(Get(s3,-dx,dy), float4x4(-0.004536563996226,-0.001679416163824,-0.001763773267157,-0.019893657416105,0.024950077757239,-0.056217554956675,0.000244030787144,-0.053524285554886,0.008532285690308,-0.004763067234308,0.007200831547379,-0.001329773804173,0.050745397806168,0.057956736534834,0.070306390523911,0.013681231066585));
res += mul(Get(s3,0,-dy), float4x4(-0.003192487871274,0.018348246812820,0.009405041113496,0.018202085047960,0.002022944157943,-0.001292921369895,0.019171025604010,0.062353238463402,0.014938320033252,-0.015109584666789,-0.000481841329020,0.010939573869109,0.061716176569462,-0.016462163999677,-0.016585849225521,0.018560137599707));
res += mul(Get(s3,0,0), float4x4(-0.004185413476080,-0.005412940401584,-0.005448642652482,0.057837795466185,0.013966947793961,-0.034659687429667,0.015473502688110,0.050291020423174,0.003446627175435,-0.015341712161899,0.002357692690566,0.005188145209104,0.025588162243366,-0.010932225733995,0.039060682058334,0.013778842054307));
res += mul(Get(s3,0,dy), float4x4(-0.005545641761273,-0.017181903123856,-0.006186364684254,0.050986155867577,0.007454572245479,0.012373503297567,0.008845600299537,-0.016421852633357,0.003419174114242,0.019077340140939,0.010435768403113,-0.006039766129106,0.028903642669320,0.154592022299767,0.096895091235638,0.009812149219215));
res += mul(Get(s3,dx,-dy), float4x4(-0.005241047590971,0.017426630482078,0.014083103276789,-0.002673646202311,0.011740971356630,0.062091577798128,0.013493580743670,-0.015887085348368,0.019159430637956,-0.018087727949023,0.001242304802872,0.012371262535453,0.094025082886219,-0.117287129163742,-0.008101706393063,0.024809246882796));
res += mul(Get(s3,dx,0), float4x4(-0.002915712771937,-0.009331123903394,0.007306321524084,0.024179657921195,0.010307331569493,-0.003862217068672,0.035824701189995,-0.012848868034780,0.006243947427720,-0.013450892642140,0.006283903960139,0.002078520832583,0.034944340586662,-0.116389438509941,-0.006391528528184,0.031793568283319));
res += mul(Get(s3,dx,dy), float4x4(-0.004380051046610,0.026515055447817,0.012970671057701,0.004081154707819,0.013267676346004,-0.090550504624844,0.005053848959506,-0.002337872283533,0.001905634184368,0.013381005264819,0.006962046492845,-0.002609068294987,0.020409805700183,0.049580164253712,0.009564546868205,-0.006649153307080));
return max(float4(0,0,0,0), res);
}
