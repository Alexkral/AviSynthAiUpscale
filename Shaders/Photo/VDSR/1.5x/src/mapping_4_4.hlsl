sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016362680122256,-0.131942123174667,0.053770434111357,0.054782375693321,-0.062856294214725,0.089611418545246,0.053210832178593,0.123551823198795,-0.132181271910667,0.184867903590202,-0.051664307713509,0.020813010632992,-0.137117579579353,-0.030941020697355,0.025310331955552,0.067935854196548));
res += mul(Get(s0,-dx,0), float4x4(0.088478304445744,-0.064247637987137,-0.006247379817069,-0.091297872364521,0.169182047247887,-0.000763878400903,-0.029458094388247,0.161731153726578,-0.065509945154190,0.038042057305574,0.002271919511259,-0.148838192224503,-0.049894139170647,0.024647880345583,0.015497073531151,0.120831511914730));
res += mul(Get(s0,-dx,dy), float4x4(-0.255404800176620,0.068240456283092,0.148889973759651,-0.061129573732615,-0.250817567110062,-0.069569252431393,-0.010277007706463,0.113732352852821,-0.031410161405802,0.046107318252325,0.093525484204292,-0.135579481720924,0.110322184860706,0.040843266993761,-0.117545753717422,0.032470379024744));
res += mul(Get(s0,0,-dy), float4x4(-0.025316426530480,0.137098580598831,0.029417153447866,0.008759727701545,-0.149418622255325,0.179170206189156,0.201861917972565,-0.167610704898834,0.051314905285835,0.265130668878555,-0.027077915146947,0.117265701293945,-0.122908405959606,0.183304503560066,0.097877003252506,0.021079720929265));
res += mul(Get(s0,0,0), float4x4(0.150918960571289,-0.266241073608398,-0.148739695549011,0.166628673672676,-0.209624409675598,-0.225820869207382,0.122417740523815,0.071400009095669,-0.166089385747910,-0.027527725324035,0.173197031021118,0.070901624858379,-0.097322456538677,-0.204161584377289,0.073749296367168,0.060651566833258));
res += mul(Get(s0,0,dy), float4x4(0.008856303989887,-0.025414239615202,-0.183669596910477,0.005904194433242,-0.001819698838517,-0.005415852181613,-0.002429268322885,0.113461911678314,0.005016756244004,0.012444634921849,0.022458756342530,0.012189512141049,0.011778551153839,0.151383265852928,0.058357771486044,-0.109203822910786));
res += mul(Get(s0,dx,-dy), float4x4(-0.109386190772057,0.015664320439100,-0.147750645875931,0.001636864733882,-0.061780337244272,0.136092409491539,-0.055831667035818,-0.010390482842922,-0.011801606044173,0.041134554892778,-0.010571489110589,-0.061425343155861,0.015303890220821,0.022464737296104,-0.154369398951530,-0.039844579994678));
res += mul(Get(s0,dx,0), float4x4(0.017481014132500,0.296374857425690,-0.003260926110670,-0.099018469452858,-0.018797043710947,-0.003112994134426,-0.034420359879732,-0.169287621974945,-0.146167948842049,0.177511364221573,0.180224403738976,-0.287427425384521,-0.007845696993172,0.017643399536610,-0.193117782473564,-0.006910624913871));
res += mul(Get(s0,dx,dy), float4x4(-0.015870254486799,0.050006113946438,0.055419687181711,-0.054769907146692,0.085857339203358,-0.041721168905497,0.193051189184189,0.159668430685997,-0.031106794252992,0.056610111147165,-0.085590310394764,-0.212435796856880,0.247599318623543,0.000876049220096,-0.152068257331848,0.215790629386902));
res += mul(Get(s1,-dx,-dy), float4x4(0.115474157035351,0.166628718376160,0.070060431957245,-0.106186829507351,0.014898566529155,-0.179460510611534,-0.042486559599638,-0.053316105157137,-0.043801218271255,-0.001510451547801,0.134630531072617,0.016168393194675,-0.031147165223956,-0.207325428724289,0.095148839056492,0.093328185379505));
res += mul(Get(s1,-dx,0), float4x4(-0.105093151330948,0.006359302438796,-0.024898901581764,0.133799165487289,0.068899966776371,-0.035238031297922,0.127107486128807,0.024499440565705,0.072014547884464,0.022822069004178,-0.051725700497627,0.039912596344948,-0.090545877814293,0.172600880265236,0.072344079613686,0.112865582108498));
res += mul(Get(s1,-dx,dy), float4x4(0.064820773899555,0.046084668487310,0.088263243436813,0.072363652288914,0.044388227164745,0.006430520676076,0.115634858608246,-0.247128382325172,-0.017102492973208,0.022772990167141,0.093605399131775,0.009977653622627,0.034946288913488,0.143384277820587,-0.096786297857761,0.088881053030491));
res += mul(Get(s1,0,-dy), float4x4(0.210429027676582,0.244337856769562,0.160314500331879,-0.035611167550087,0.119468346238136,0.002129800384864,-0.011176899075508,-0.108926296234131,-0.020269149914384,0.084467351436615,0.270961701869965,0.116628490388393,0.020452786237001,0.050422873347998,-0.099012888967991,0.008180157281458));
res += mul(Get(s1,0,0), float4x4(0.067680716514587,-0.121658563613892,0.018977174535394,-0.057867489755154,-0.131176143884659,-0.072153970599174,-0.165429875254631,-0.132175967097282,0.064103141427040,0.130680277943611,-0.097671024501324,0.112291209399700,-0.130516350269318,0.126191660761833,0.053208272904158,0.041667018085718));
res += mul(Get(s1,0,dy), float4x4(0.066336430609226,-0.235429942607880,-0.083524852991104,0.012761995196342,0.097874708473682,0.150526359677315,0.090553440153599,-0.007547235116363,0.047430649399757,-0.001897098729387,0.235027477145195,0.129001826047897,-0.131057992577553,-0.008338019251823,-0.003981351852417,-0.020466726273298));
res += mul(Get(s1,dx,-dy), float4x4(0.084026195108891,0.140702113509178,-0.059029605239630,-0.056388281285763,-0.227869331836700,-0.041643951088190,0.192404925823212,0.134911969304085,-0.035132490098476,0.113781712949276,0.031164828687906,-0.210269987583160,-0.115638732910156,-0.029728315770626,-0.021068833768368,0.096043840050697));
res += mul(Get(s1,dx,0), float4x4(-0.016942676156759,0.019400466233492,0.118583589792252,-0.007999552413821,-0.096055850386620,-0.123446986079216,0.009357601404190,0.172543615102768,-0.029757209122181,0.057707086205482,0.022230835631490,-0.089951805770397,0.025220423936844,0.075985692441463,0.008084011264145,-0.007926872931421));
res += mul(Get(s1,dx,dy), float4x4(0.122282356023788,0.289021253585815,0.121752463281155,-0.010804487392306,-0.066278375685215,-0.004160223528743,-0.068170383572578,0.029717978090048,0.041933592408895,0.005931516177952,0.210353866219521,0.126971021294594,-0.003701369976625,0.233712330460548,0.103449128568172,0.028871228918433));
res += mul(Get(s2,-dx,-dy), float4x4(0.054125405848026,0.072168901562691,-0.041510384529829,0.180560201406479,0.032083738595247,-0.141395106911659,-0.004394714720547,-0.039677117019892,0.025031784549356,0.010650547221303,0.064109675586224,0.082109376788139,-0.072089411318302,-0.009953035041690,-0.026274567469954,0.121188007295132));
res += mul(Get(s2,-dx,0), float4x4(0.063513599336147,-0.019040154293180,-0.107633970677853,0.000708061794285,0.077770605683327,-0.065813675522804,-0.085134729743004,-0.100203454494476,-0.029062826186419,-0.030185122042894,0.099724091589451,-0.036454949527979,-0.001229625195265,0.123943254351616,-0.074944257736206,0.032598529011011));
res += mul(Get(s2,-dx,dy), float4x4(0.090811371803284,0.034688211977482,-0.086964383721352,0.098799996078014,0.166526585817337,-0.040919013321400,0.119982898235321,0.027574801817536,0.057863809168339,-0.021658295765519,0.023604786023498,-0.076078876852989,-0.019512243568897,-0.018092315644026,-0.091796010732651,-0.057975228875875));
res += mul(Get(s2,0,-dy), float4x4(0.105585753917694,0.046951618045568,-0.044198032468557,-0.003206807188690,-0.012437662109733,-0.131169885396957,-0.046175893396139,0.098870918154716,-0.096224494278431,-0.073247112333775,0.145805388689041,-0.036394771188498,0.068284228444099,-0.036263670772314,-0.054571550339460,0.090959087014198));
res += mul(Get(s2,0,0), float4x4(-0.038512047380209,0.015159853734076,0.037602562457323,-0.049200173467398,-0.081800512969494,0.076129719614983,0.118306905031204,-0.017045004293323,-0.040098577737808,-0.029234953224659,-0.021522179245949,0.007703051436692,-0.078557200729847,-0.031362403184175,-0.005453288089484,0.085745833814144));
res += mul(Get(s2,0,dy), float4x4(0.104003705084324,-0.225989237427711,-0.008840690366924,0.023685397580266,0.165124312043190,-0.067928008735180,0.123547360301018,0.023449204862118,0.119381301105022,-0.040078479796648,0.104854591190815,-0.045076206326485,-0.099159918725491,0.093761809170246,-0.092950612306595,-0.096677295863628));
res += mul(Get(s2,dx,-dy), float4x4(0.010397717356682,-0.077088244259357,-0.114924594759941,-0.034762971103191,0.047693170607090,0.079228185117245,0.013852969743311,0.049970865249634,-0.010726562701166,-0.048964723944664,-0.053147029131651,0.058075126260519,0.136200934648514,-0.039239279925823,0.053655572235584,0.118320643901825));
res += mul(Get(s2,dx,0), float4x4(-0.035292506217957,0.046053957194090,-0.036552172154188,0.111755810678005,-0.126127734780312,0.172670647501945,-0.144841790199280,-0.066374309360981,0.004849790129811,-0.150748535990715,-0.059026937931776,-0.044699728488922,-0.063071340322495,0.011822971515357,-0.031204400584102,-0.040369845926762));
res += mul(Get(s2,dx,dy), float4x4(0.138719543814659,0.114475220441818,-0.210029557347298,-0.109036274254322,-0.060155518352985,-0.141233071684837,0.131755724549294,-0.145305603742599,-0.067727081477642,0.161105066537857,-0.049025770276785,0.041577573865652,-0.077311605215073,0.098872646689415,-0.019632069393992,-0.065273888409138));
res += mul(Get(s3,-dx,-dy), float4x4(-0.080662988126278,0.074043855071068,-0.114069901406765,-0.011286304332316,-0.041112292557955,0.095846340060234,-0.143488377332687,-0.140962868928909,-0.139698266983032,0.035088405013084,-0.163406521081924,-0.017248531803489,0.104808107018471,0.016313163563609,-0.045286025851965,0.026241036131978));
res += mul(Get(s3,-dx,0), float4x4(0.054696116596460,-0.152392417192459,-0.077763870358467,0.015981167554855,-0.110597223043442,0.131950825452805,0.031774807721376,-0.009562978520989,-0.072534419596195,0.008150719106197,-0.105471596121788,-0.040686737746000,0.014892116189003,-0.116213634610176,-0.010964338667691,0.171396210789680));
res += mul(Get(s3,-dx,dy), float4x4(0.058389447629452,-0.005531059578061,-0.087093092501163,0.019633131101727,-0.033157661557198,-0.028728794306517,0.006863418035209,-0.092771977186203,0.016364965587854,0.113381296396255,-0.083762682974339,-0.064178392291069,-0.127995952963829,-0.046289585530758,-0.134877219796181,0.014083120040596));
res += mul(Get(s3,0,-dy), float4x4(-0.023284267634153,0.003377107903361,0.020986026152968,0.019146434962749,0.019122658297420,0.048112526535988,-0.033505219966173,-0.102514870464802,0.113370053470135,-0.008131993934512,-0.127124190330505,-0.119411259889603,-0.155801445245743,-0.095571234822273,0.087669059634209,-0.091276824474335));
res += mul(Get(s3,0,0), float4x4(-0.126677930355072,-0.007069494575262,-0.089391224086285,-0.151808544993401,-0.012231311760843,-0.177751183509827,0.164608538150787,0.130909174680710,-0.049140177667141,0.087879590690136,0.094914369285107,0.088557519018650,-0.044293418526649,0.081120133399963,0.023160947486758,-0.151672244071960));
res += mul(Get(s3,0,dy), float4x4(-0.009062534198165,0.130937218666077,-0.116735227406025,0.172913670539856,0.180065676569939,-0.109595932066441,-0.085727944970131,0.188485339283943,0.027554042637348,0.079293996095657,0.150261953473091,0.029904549941421,-0.031235175207257,-0.045419666916132,-0.092568665742874,-0.009037621319294));
res += mul(Get(s3,dx,-dy), float4x4(0.169151648879051,0.109914049506187,0.117847010493279,-0.155473709106445,-0.122091904282570,-0.035410594195127,0.160320639610291,-0.008301681838930,-0.137136816978455,-0.029040407389402,0.075226888060570,-0.025024820119143,-0.060414053499699,0.077182888984680,0.067782975733280,-0.036291394382715));
res += mul(Get(s3,dx,0), float4x4(0.054152023047209,0.042709395289421,-0.081089377403259,0.019839687272906,0.069197110831738,-0.125454187393188,0.049681849777699,-0.090363018214703,0.266143649816513,0.032795399427414,-0.036789957433939,0.042749069631100,0.076878540217876,-0.137598976492882,0.010293729603291,-0.072247311472893));
res += mul(Get(s3,dx,dy), float4x4(-0.154496699571609,-0.042147595435381,-0.026174085214734,-0.005536784883589,0.071115858852863,-0.031851992011070,0.024488141760230,-0.062256179749966,0.042783115059137,-0.003735246835276,-0.166212245821953,-0.095161288976669,0.073140263557434,-0.011802757158875,0.047634433954954,0.012573438696563));
return max(float4(0,0,0,0), res);
}
