sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.038469489663839,0.052135534584522,0.050428025424480,0.070012256503105,-0.085825726389885,-0.065135061740875,0.082847230136395,0.029108021408319,-0.198181137442589,-0.144124016165733,-0.140061348676682,0.020145218819380,-0.002077176934108,-0.110349409282207,-0.119242936372757,0.043135516345501));
res += mul(Get(s0,-dx,0), float4x4(0.065668649971485,-0.098086558282375,-0.278304368257523,-0.015911934897304,0.084576249122620,-0.081891089677811,-0.146320506930351,0.067821793258190,0.084995590150356,0.136765107512474,-0.091025643050671,-0.051687318831682,-0.051675826311111,0.102497644722462,-0.025727005675435,-0.079746872186661));
res += mul(Get(s0,-dx,dy), float4x4(-0.025582004338503,0.100497484207153,0.073137283325195,-0.104823738336563,0.090608865022659,-0.113681420683861,0.090722925961018,0.022799910977483,-0.041557822376490,-0.076199151575565,-0.026993144303560,0.135804265737534,-0.154060423374176,0.145898208022118,-0.119634926319122,0.018895341083407));
res += mul(Get(s0,0,-dy), float4x4(0.106467746198177,-0.150186434388161,0.048473961651325,-0.056338906288147,-0.136885613203049,0.022545034065843,0.005555987358093,0.054553240537643,-0.060997616499662,-0.052205495536327,-0.045556575059891,-0.182657942175865,-0.106605380773544,0.033819589763880,0.078196212649345,0.005865431390703));
res += mul(Get(s0,0,0), float4x4(0.052180569618940,0.069272987544537,0.010211876593530,-0.101526834070683,-0.240092426538467,-0.062782965600491,-0.006035244558007,0.035741001367569,0.094440855085850,-0.150231286883354,-0.094536736607552,0.015884371474385,0.012651853263378,-0.041954815387726,-0.072157733142376,0.068132609128952));
res += mul(Get(s0,0,dy), float4x4(0.052950490266085,-0.130292281508446,0.073809593915939,0.036032859236002,-0.050688613206148,0.122525513172150,0.100384794175625,0.189824894070625,-0.184044852852821,-0.037201438099146,0.028544913977385,-0.043868951499462,-0.118911176919937,-0.117552503943443,-0.101980648934841,-0.005191343836486));
res += mul(Get(s0,dx,-dy), float4x4(0.102367602288723,0.009285949170589,0.043026152998209,-0.127163499593735,0.138984069228172,-0.070864170789719,-0.078598737716675,-0.157964736223221,-0.039566252380610,0.027528993785381,-0.149311199784279,0.057962529361248,0.127527073025703,-0.024735890328884,0.123952463269234,-0.005465274211019));
res += mul(Get(s0,dx,0), float4x4(-0.040464565157890,0.080397352576256,0.028897523880005,-0.003950637765229,-0.172669947147369,-0.031246958300471,-0.201019525527954,-0.031057765707374,0.156210422515869,0.052068602293730,0.015159955248237,-0.058249447494745,0.013247627764940,0.001082974253222,-0.201393246650696,0.120005026459694));
res += mul(Get(s0,dx,dy), float4x4(0.077801428735256,-0.028885979205370,-0.038469500839710,-0.046786401420832,0.051623035222292,0.128338456153870,0.002499452559277,0.200825005769730,0.024085903540254,0.030299514532089,-0.062207385897636,0.080412261188030,0.065099798142910,-0.116737522184849,0.063249573111534,-0.024457516148686));
res += mul(Get(s1,-dx,-dy), float4x4(-0.072426840662956,-0.025669181719422,-0.012057948857546,-0.094710983335972,-0.097575068473816,-0.089072920382023,0.018175963312387,-0.086535207927227,0.047072250396013,0.049825493246317,0.018692372366786,-0.116540230810642,0.080245755612850,0.003952627535909,-0.075688660144806,0.065641865134239));
res += mul(Get(s1,-dx,0), float4x4(0.012820105068386,-0.017810404300690,0.001073637278751,0.119355686008930,-0.088519528508186,-0.074167214334011,-0.011876069940627,0.014126216992736,0.134267404675484,-0.028799075633287,0.023060616105795,-0.073440745472908,-0.033504579216242,0.049020849168301,-0.055627591907978,-0.196709007024765));
res += mul(Get(s1,-dx,dy), float4x4(-0.173960387706757,-0.064350165426731,-0.009154709987342,0.137479409575462,-0.081896476447582,0.006834357045591,-0.063134409487247,-0.061928249895573,0.025816066190600,-0.188830077648163,0.019324287772179,-0.037012655287981,-0.018840011209249,-0.093831829726696,-0.004597309976816,0.100929468870163));
res += mul(Get(s1,0,-dy), float4x4(0.060850322246552,-0.071699634194374,-0.015422722324729,0.030470592901111,-0.064334094524384,0.028687695041299,0.041897814720869,-0.090587697923183,0.137372344732285,-0.123609691858292,-0.012403157539666,-0.088133119046688,-0.005365125369281,0.066550418734550,-0.007963128387928,-0.162705108523369));
res += mul(Get(s1,0,0), float4x4(-0.002712144982070,-0.005420059897006,0.064427196979523,-0.031497787684202,-0.210165604948997,0.097371987998486,0.005577853880823,0.057543572038412,0.014642010442913,-0.018400646746159,-0.161952972412109,-0.141640678048134,-0.069136135280132,-0.043411821126938,-0.033845659345388,-0.067597649991512));
res += mul(Get(s1,0,dy), float4x4(-0.081201598048210,0.095639415085316,0.028066247701645,-0.202478215098381,0.081834532320499,-0.188485041260719,0.006281329784542,0.063615284860134,-0.113165818154812,0.121894344687462,0.099292464554310,-0.181770086288452,-0.031420566141605,-0.010447561740875,0.023044416680932,0.062310025095940));
res += mul(Get(s1,dx,-dy), float4x4(0.070386178791523,0.094726376235485,0.028833230957389,-0.242147788405418,0.058849759399891,-0.105875059962273,0.097011111676693,-0.028176726773381,0.014445534907281,0.065232895314693,-0.037247657775879,-0.034238476306200,0.063393212854862,-0.134216293692589,-0.057439148426056,-0.164297759532928));
res += mul(Get(s1,dx,0), float4x4(0.127108290791512,0.073819734156132,0.012084705755115,-0.211061090230942,-0.032828219234943,-0.112287335097790,-0.022743675857782,-0.054028648883104,0.170530766248703,0.057867616415024,0.038280285894871,-0.016156436875463,-0.018709283322096,0.208018675446510,0.156980767846107,0.080155633389950));
res += mul(Get(s1,dx,dy), float4x4(0.016318025067449,-0.201574176549911,-0.092655412852764,0.009310836903751,-0.008555321954191,-0.119476236402988,-0.096982449293137,0.033996243029833,-0.036013830453157,-0.128626510500908,-0.077919133007526,-0.130715280771255,0.004603588953614,-0.018232138827443,0.030770825222135,0.002864066744223));
res += mul(Get(s2,-dx,-dy), float4x4(-0.140604987740517,0.105092853307724,-0.075697705149651,-0.146943300962448,-0.187791556119919,-0.116033121943474,-0.070326805114746,-0.057232469320297,0.101935930550098,-0.046337138861418,0.110210642218590,0.004869014024734,-0.083881638944149,0.069372452795506,0.003719253465533,-0.047984290868044));
res += mul(Get(s2,-dx,0), float4x4(-0.165280312299728,0.084012277424335,-0.002822158625349,0.041943587362766,0.012628925032914,-0.086093708872795,0.042981125414371,0.065755516290665,-0.124112896621227,-0.041175343096256,-0.088851004838943,-0.019504640251398,0.080694906413555,-0.063156127929688,-0.069526106119156,0.050838954746723));
res += mul(Get(s2,-dx,dy), float4x4(-0.071224957704544,-0.125826075673103,-0.022220456972718,-0.212834671139717,-0.002391629386693,0.123841762542725,0.049071975052357,-0.141217559576035,-0.030488185584545,-0.039193935692310,0.099778272211552,0.015832489356399,-0.094879135489464,-0.015282669104636,0.011352217756212,-0.040428675711155));
res += mul(Get(s2,0,-dy), float4x4(-0.217423498630524,0.121014967560768,-0.105095952749252,0.128543198108673,0.096123524010181,-0.026377953588963,-0.079303108155727,-0.085667878389359,0.010231256484985,0.017115049064159,-0.081068634986877,0.050588220357895,-0.073260925710201,0.119321785867214,0.032908979803324,0.129212334752083));
res += mul(Get(s2,0,0), float4x4(-0.065666459500790,-0.123866356909275,-0.055194377899170,-0.023490970954299,-0.139944806694984,-0.139511168003082,-0.031281147152185,-0.034480065107346,-0.049858856946230,0.100250191986561,-0.052339810878038,0.108754761517048,0.210047870874405,-0.063044108450413,0.073909603059292,-0.141869753599167));
res += mul(Get(s2,0,dy), float4x4(-0.174798533320427,0.052419099956751,-0.099933914840221,-0.000798282912001,-0.027407664805651,0.041380766779184,-0.219746828079224,0.087588392198086,0.101583898067474,-0.014898589812219,-0.118703588843346,-0.012889679521322,-0.080712847411633,-0.081466853618622,0.041780214756727,0.125441610813141));
res += mul(Get(s2,dx,-dy), float4x4(-0.052170209586620,0.133245930075645,0.119738996028900,0.155985251069069,0.028124287724495,-0.039126131683588,-0.108629703521729,0.071670964360237,0.042030140757561,-0.043620165437460,-0.088377378880978,0.052734922617674,0.088803596794605,0.079599328339100,-0.140947729349136,0.101229935884476));
res += mul(Get(s2,dx,0), float4x4(0.120957002043724,-0.041919875890017,0.022248806431890,0.181165337562561,-0.195272713899612,-0.083163477480412,0.042170699685812,0.042346157133579,-0.123524539172649,0.113389089703560,-0.033346641808748,-0.051994360983372,0.019694881513715,-0.105138234794140,0.122396118938923,0.037903785705566));
res += mul(Get(s2,dx,dy), float4x4(-0.022691223770380,0.114950835704803,-0.102941580116749,-0.062103465199471,0.064221210777760,-0.026251666247845,-0.170922875404358,0.127728208899498,0.015963846817613,0.101610183715820,0.147989898920059,0.076227121055126,0.205248713493347,0.097922377288342,0.066773280501366,0.032891679555178));
res += mul(Get(s3,-dx,-dy), float4x4(-0.058533985167742,-0.092102915048599,-0.163635402917862,-0.056001331657171,0.032838914543390,0.104807913303375,0.052835416048765,0.029107660055161,-0.049868382513523,-0.105164200067520,0.046060591936111,0.219115316867828,-0.011751784943044,-0.121158465743065,-0.162327855825424,0.077508695423603));
res += mul(Get(s3,-dx,0), float4x4(-0.049522805958986,0.100177101790905,0.017484739422798,0.008321644738317,-0.177398517727852,-0.155229225754738,-0.005449325311929,0.116531357169151,-0.171617165207863,-0.006348616909236,-0.029853763058782,0.114129610359669,-0.065808877348900,-0.149450764060020,0.049716714769602,0.123562529683113));
res += mul(Get(s3,-dx,dy), float4x4(0.213178843259811,-0.094295337796211,0.090635471045971,0.045977808535099,0.000636429060251,0.123439908027649,-0.003282736055553,-0.162340939044952,0.030249873176217,-0.085602231323719,-0.088869020342827,-0.065574072301388,-0.042969323694706,0.015777582302690,0.071216866374016,0.042856600135565));
res += mul(Get(s3,0,-dy), float4x4(-0.057849738746881,0.050667107105255,0.087801396846771,0.039279129356146,0.052719652652740,0.001803666818887,-0.086145132780075,0.086214669048786,-0.062400922179222,-0.078017912805080,0.028261147439480,-0.015618042089045,0.067832872271538,0.027475072070956,-0.031539019197226,0.023446211591363));
res += mul(Get(s3,0,0), float4x4(-0.102316208183765,-0.015664894133806,0.062736459076405,0.030346361920238,0.119504079222679,-0.040877535939217,-0.070760078728199,0.076934337615967,-0.175488039851189,-0.081867150962353,-0.104393780231476,-0.009591011330485,0.082491584122181,0.052420303225517,-0.044027213007212,0.061071496456861));
res += mul(Get(s3,0,dy), float4x4(-0.090359859168530,-0.129057750105858,0.108025796711445,-0.026339344680309,-0.103661082684994,0.006153408903629,0.005960803944618,0.121877610683441,-0.030457783490419,-0.035125177353621,-0.032722186297178,0.105926014482975,0.086070038378239,0.206073522567749,0.022132854908705,-0.005867258645594));
res += mul(Get(s3,dx,-dy), float4x4(-0.075137920677662,0.068659536540508,-0.036088928580284,-0.039667174220085,-0.077343314886093,-0.065747216343880,-0.101467996835709,-0.014727947302163,0.106754034757614,0.160278230905533,-0.008126326836646,0.055897530168295,0.048387173563242,0.037048988044262,-0.058755807578564,0.060049921274185));
res += mul(Get(s3,dx,0), float4x4(0.102277845144272,-0.099444329738617,0.102488420903683,0.004003494977951,-0.060207642614841,-0.034955136477947,-0.094023972749710,0.085209563374519,0.054347623139620,0.091758385300636,-0.231559738516808,0.065319217741489,-0.006141630932689,0.121082559227943,0.105986617505550,0.033289648592472));
res += mul(Get(s3,dx,dy), float4x4(-0.073354206979275,-0.007638201117516,-0.040233518928289,-0.065267600119114,-0.174731627106667,0.042045786976814,-0.002401035744697,0.156884372234344,0.064478628337383,0.047912124544382,-0.091288357973099,-0.083446741104126,-0.076088279485703,-0.081258967518806,-0.094690829515457,0.005856510251760));
return max(float4(0,0,0,0), res);
}
