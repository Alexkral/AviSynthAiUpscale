sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.141977921128273,0.089110128581524,-0.002253978978842,0.043041329830885,0.010091306641698,-0.012508521787822,-0.120438911020756,-0.024871626868844,-0.061234582215548,0.084929071366787,-0.056908831000328,-0.096755318343639,0.051853209733963,0.106567241251469,0.040207400918007,0.056892409920692));
res += mul(Get(s0,-dx,0), float4x4(-0.051957264542580,-0.116160027682781,0.131835430860519,0.014444353058934,0.165183350443840,0.140409693121910,-0.049260616302490,0.045626308768988,-0.092092312872410,0.010213059373200,-0.028945107012987,-0.086034595966339,-0.137611165642738,0.130493476986885,0.137183472514153,0.108638145029545));
res += mul(Get(s0,-dx,dy), float4x4(-0.163764759898186,-0.033435754477978,-0.159978687763214,-0.043943937867880,-0.081545040011406,0.140881776809692,0.054474346339703,0.050539128482342,-0.038548361510038,0.144033983349800,-0.084210194647312,0.172309890389442,-0.058794777840376,0.039521429687738,0.055252231657505,-0.017401797696948));
res += mul(Get(s0,0,-dy), float4x4(0.102932594716549,0.060384240001440,0.175984486937523,-0.067011222243309,-0.082221142947674,0.181676283478737,-0.150232359766960,-0.034461364150047,-0.113242685794830,0.014353550039232,0.164347618818283,0.007295506540686,-0.001317310845479,-0.042945284396410,0.150201395153999,0.032159034162760));
res += mul(Get(s0,0,0), float4x4(0.117207735776901,0.030725644901395,0.085685923695564,0.008152022957802,-0.107278935611248,-0.023481519892812,0.042648967355490,0.009187377989292,0.001066445489414,0.180791124701500,0.013832734897733,0.118291139602661,-0.195941597223282,0.057406488806009,0.075820319354534,0.090389207005501));
res += mul(Get(s0,0,dy), float4x4(0.121852725744247,0.124185062944889,0.032879557460546,-0.014967105351388,-0.084400795400143,0.102180644869804,-0.136807307600975,0.061783455312252,-0.065284982323647,-0.006655619945377,-0.010897409170866,-0.095914825797081,-0.105172932147980,0.109156928956509,-0.167684108018875,0.060671959072351));
res += mul(Get(s0,dx,-dy), float4x4(-0.047074180096388,0.111995138227940,-0.041920308023691,0.077257141470909,0.052496988326311,0.083143889904022,0.164113581180573,0.024114727973938,-0.023782348260283,0.019608611240983,-0.074487037956715,0.136470556259155,-0.290951311588287,-0.225040525197983,-0.127788111567497,-0.053980790078640));
res += mul(Get(s0,dx,0), float4x4(0.016803912818432,0.002345111686736,0.069795139133930,-0.068835988640785,0.264076888561249,0.055370073765516,-0.112934462726116,-0.035370964556932,0.126535773277283,-0.043814573436975,0.013093669898808,0.094999074935913,0.008043423295021,-0.071662768721581,0.180795490741730,-0.112250164151192));
res += mul(Get(s0,dx,dy), float4x4(-0.043360911309719,0.023867541924119,-0.054079376161098,0.018228575587273,-0.013016787357628,-0.015811858698726,-0.013027489185333,0.146012991666794,-0.064906269311905,-0.023913146927953,-0.043397158384323,0.056427426636219,-0.086002141237259,-0.094972580671310,-0.057283617556095,-0.017206279560924));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034089416265488,0.186116620898247,0.104700364172459,-0.026510264724493,-0.077285543084145,0.007481687236577,-0.022633105516434,-0.018090322613716,-0.151433840394020,0.002564256079495,-0.045545853674412,0.031164132058620,0.023413125425577,0.150055781006813,0.148830294609070,0.033024784177542));
res += mul(Get(s1,-dx,0), float4x4(0.125630930066109,0.013065830804408,-0.118321210145950,-0.076582945883274,-0.011172690428793,-0.257903397083282,0.068243496119976,0.086948245763779,-0.106558486819267,0.135687157511711,0.053208999335766,-0.115392148494720,0.134107932448387,-0.029626036062837,0.070494815707207,-0.080983705818653));
res += mul(Get(s1,-dx,dy), float4x4(0.132208690047264,0.064202792942524,0.132725432515144,0.039803314954042,-0.006002804264426,0.000642226950731,0.169451862573624,-0.005726622883230,0.036527115851641,-0.066099815070629,-0.223174765706062,-0.120740249752998,-0.035937417298555,0.231130629777908,0.163220122456551,-0.150200471282005));
res += mul(Get(s1,0,-dy), float4x4(-0.077297188341618,0.090180844068527,-0.106735773384571,0.045610379427671,0.057600185275078,0.033116471022367,-0.148765727877617,-0.083142109215260,-0.086032815277576,0.074498943984509,-0.035114336758852,-0.182938829064369,0.186309397220612,-0.017537813633680,0.023575272411108,0.104982815682888));
res += mul(Get(s1,0,0), float4x4(0.059000074863434,-0.024420442059636,-0.081030182540417,-0.043857127428055,0.152140647172928,-0.052576821297407,0.012012331746519,-0.069144286215305,-0.133485868573189,0.032538719475269,0.003331054467708,-0.013427162542939,0.034341804683208,-0.023169277235866,-0.037251979112625,-0.057753372937441));
res += mul(Get(s1,0,dy), float4x4(-0.047724686563015,0.251581043004990,0.069345243275166,-0.031807526946068,0.041511274874210,-0.123140878975391,0.131581977009773,-0.141656085848808,0.010407961905003,-0.068079471588135,0.072529830038548,0.011675214394927,0.020038628950715,0.026198413223028,0.080102175474167,0.014953267760575));
res += mul(Get(s1,dx,-dy), float4x4(-0.037830624729395,0.061628635972738,-0.060829836875200,0.012640432454646,0.127331107854843,0.017192274332047,0.050850525498390,-0.076630942523479,-0.076374307274818,0.056653078645468,-0.021732892841101,0.086449459195137,0.019732259213924,-0.047193538397551,0.055123776197433,0.011078225448728));
res += mul(Get(s1,dx,0), float4x4(-0.086871378123760,-0.002045932924375,0.028962597250938,0.035525150597095,0.059686198830605,0.099142335355282,0.004037840291858,-0.097658120095730,0.077398963272572,-0.158067643642426,-0.003869461361319,-0.007096925750375,-0.113990724086761,0.052907116711140,0.018167581409216,-0.092629976570606));
res += mul(Get(s1,dx,dy), float4x4(-0.054031483829021,-0.020807674154639,-0.048115678131580,-0.064101703464985,-0.103576891124249,-0.065162599086761,-0.203225165605545,-0.041441135108471,-0.041022889316082,0.002917205216363,-0.019875697791576,0.068363733589649,-0.014272309839725,0.028929535299540,-0.011013767682016,-0.022671643644571));
res += mul(Get(s2,-dx,-dy), float4x4(0.088647291064262,-0.143622189760208,-0.129220768809319,-0.028775256127119,0.007111459039152,0.119714848697186,0.220398411154747,-0.091468289494514,-0.106322124600410,0.143323794007301,0.189364075660706,0.005072800908238,-0.037573210895061,-0.034705217927694,0.024498928338289,0.087855219841003));
res += mul(Get(s2,-dx,0), float4x4(-0.114484988152981,0.172162711620331,-0.038189187645912,0.193482160568237,-0.110603325068951,0.164501234889030,-0.075661189854145,-0.034950967878103,-0.018864661455154,0.118848264217377,0.021923219785094,0.010459519922733,0.057638131082058,-0.128722906112671,-0.031449619680643,0.001977143110707));
res += mul(Get(s2,-dx,dy), float4x4(0.040367923676968,0.113099090754986,0.031015528365970,0.043581683188677,0.038781512528658,0.010043491609395,0.086394712328911,-0.142538011074066,0.055298272520304,0.233735084533691,0.133674517273903,0.012234776280820,-0.000014330455997,-0.112165175378323,-0.002071052556857,0.094997815787792));
res += mul(Get(s2,0,-dy), float4x4(-0.242431014776230,-0.169780209660530,0.197095498442650,0.127741336822510,0.006942987442017,0.070361703634262,0.180663794279099,-0.044738031923771,0.119945816695690,0.088146463036537,0.071553125977516,0.122540242969990,-0.132634013891220,-0.107478320598602,-0.144795939326286,-0.102872788906097));
res += mul(Get(s2,0,0), float4x4(-0.228968784213066,0.075567968189716,0.102966502308846,-0.010082237422466,0.054063756018877,-0.040224350988865,-0.152429476380348,-0.081985354423523,0.025089206174016,0.033506549894810,0.032506722956896,-0.028576510027051,-0.028188765048981,-0.045406635850668,0.245964482426643,-0.184742316603661));
res += mul(Get(s2,0,dy), float4x4(-0.044539492577314,0.117147639393806,0.001372118829750,-0.318992257118225,-0.056402243673801,0.151103660464287,-0.075269177556038,0.074943803250790,-0.020486731082201,0.156413078308105,0.179518565535545,0.053474053740501,0.151939630508423,0.016068860888481,-0.237855643033981,0.096860021352768));
res += mul(Get(s2,dx,-dy), float4x4(0.069223068654537,-0.026072097942233,-0.080484151840210,-0.203423216938972,-0.028780952095985,-0.011400783434510,0.089740961790085,-0.131955161690712,0.015343540348113,-0.071333900094032,0.038997877389193,0.093042433261871,0.116345867514610,-0.012655904516578,0.042738083750010,0.068974807858467));
res += mul(Get(s2,dx,0), float4x4(0.219952970743179,-0.025449819862843,0.054170764982700,-0.102612569928169,-0.086319923400879,0.198299780488014,0.027223406359553,0.021285077556968,0.127372786402702,0.053050283342600,0.050010360777378,0.092856869101524,0.058807656168938,-0.044935051351786,0.155867993831635,-0.057671826332808));
res += mul(Get(s2,dx,dy), float4x4(0.044035285711288,0.122644864022732,-0.109181486070156,0.109051309525967,0.121146708726883,0.127951562404633,-0.089392900466919,0.145960539579391,0.077988423407078,0.092997007071972,-0.052315022796392,-0.071723930537701,0.056634891778231,-0.195976138114929,0.066313870251179,0.122119762003422));
res += mul(Get(s3,-dx,-dy), float4x4(0.007984697818756,0.049064900726080,-0.012773153372109,-0.219794258475304,-0.018101729452610,-0.074020013213158,0.005484154447913,0.012747423723340,-0.147870421409607,-0.115071207284927,0.080750286579132,0.121753811836243,-0.210219666361809,0.083996981382370,-0.006802143529058,0.109092906117439));
res += mul(Get(s3,-dx,0), float4x4(0.133224815130234,-0.138029441237450,-0.082331769168377,0.121733784675598,-0.061022154986858,-0.041605968028307,0.131254926323891,0.025076454505324,0.016872387379408,-0.042675226926804,0.058875236660242,-0.035732839256525,-0.104236237704754,-0.202509984374046,0.062263179570436,-0.145115673542023));
res += mul(Get(s3,-dx,dy), float4x4(0.013351783156395,-0.161415800452232,-0.047010604292154,-0.020355971530080,-0.027365047484636,0.033120416104794,-0.091370239853859,-0.127444863319397,-0.071668364107609,-0.186212196946144,-0.120211407542229,-0.148645013570786,-0.015034697949886,-0.027095070108771,-0.029471991583705,-0.098000302910805));
res += mul(Get(s3,0,-dy), float4x4(0.148059532046318,-0.034321442246437,-0.013990540057421,0.039933223277330,0.041045725345612,-0.079506166279316,-0.031470641493797,-0.000815469771624,-0.163737297058105,-0.051405064761639,0.202902242541313,-0.089617490768433,-0.113473676145077,0.314322799444199,-0.045204158872366,-0.082305714488029));
res += mul(Get(s3,0,0), float4x4(-0.029381424188614,0.046641658991575,0.026763880625367,-0.051665443927050,-0.074709877371788,0.088571712374687,0.118974819779396,0.051936004310846,-0.120268367230892,-0.043795686215162,0.065081790089607,0.092175297439098,-0.004031425341964,0.146608293056488,0.160183891654015,-0.185585126280785));
res += mul(Get(s3,0,dy), float4x4(-0.111056469380856,0.084582172334194,-0.214440733194351,0.034346621483564,0.000693800277077,0.024372635409236,-0.040776994079351,0.055815074592829,-0.120390027761459,0.091898277401924,-0.017963884398341,-0.110447414219379,0.000405609665904,0.031469132751226,0.168756708502769,0.007710413541645));
res += mul(Get(s3,dx,-dy), float4x4(-0.193485304713249,-0.002168806735426,-0.019829884171486,0.021242693066597,-0.081688828766346,-0.048282127827406,-0.010118453763425,-0.043035872280598,0.015462450683117,0.003569475375116,-0.156390294432640,0.065895855426788,0.299084991216660,0.085169330239296,0.087894745171070,-0.151405006647110));
res += mul(Get(s3,dx,0), float4x4(0.140513747930527,-0.030462862923741,0.091554880142212,0.095189161598682,-0.195776507258415,-0.070469133555889,0.064211361110210,0.036344695836306,-0.069011144340038,0.170230388641357,-0.040589686483145,0.121173590421677,0.137648954987526,0.082868143916130,-0.024353252723813,0.148597523570061));
res += mul(Get(s3,dx,dy), float4x4(-0.072180442512035,0.077796712517738,-0.032575491815805,0.029700390994549,-0.073019705712795,-0.139233171939850,-0.068512707948685,-0.066949926316738,0.117979824542999,0.204102203249931,0.038849480450153,0.085931256413460,0.027391400188208,-0.076013445854187,-0.064456284046173,0.080820322036743));
return max(float4(0,0,0,0), res);
}
