sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.015611357055604,-0.097555473446846,-0.171825453639030,0.101989001035690,-0.029611520469189,0.044646270573139,-0.079438306391239,0.269249647855759,0.110242478549480,-0.001319761271589,-0.006870783399791,0.123205333948135,-0.118517413735390,0.134474501013756,-0.011138005182147,0.072448141872883));
res += mul(Get(s0,-dx,0), float4x4(-0.133571863174438,-0.037337373942137,-0.025309897959232,-0.079679213464260,-0.067976467311382,-0.021927684545517,0.105178460478783,-0.074806742370129,-0.030749419704080,-0.044112492352724,0.023750346153975,0.092395693063736,0.006608069874346,-0.087975762784481,-0.006050426047295,0.053648475557566));
res += mul(Get(s0,-dx,dy), float4x4(0.152452006936073,-0.218466237187386,-0.094714261591434,-0.040432803332806,-0.035594932734966,0.063335016369820,0.046482782810926,-0.116791240870953,0.018609432503581,0.100870102643967,0.003244428429753,-0.065412923693657,-0.055194068700075,-0.034870330244303,-0.050186961889267,-0.077989675104618));
res += mul(Get(s0,0,-dy), float4x4(0.056323423981667,0.020255217328668,0.166329413652420,0.064302928745747,0.166685000061989,-0.023476352915168,0.044720631092787,-0.031275603920221,-0.052692320197821,-0.088101677596569,-0.028580088168383,0.105551414191723,0.152777120471001,0.116538934409618,0.072945103049278,0.124113932251930));
res += mul(Get(s0,0,0), float4x4(-0.074990227818489,-0.048157796263695,0.013039158657193,-0.039619345217943,-0.022775815799832,0.109140962362289,-0.080049268901348,-0.295295327901840,-0.047629009932280,0.097554139792919,0.115918762981892,0.091009929776192,0.203612193465233,0.060450736433268,0.222663044929504,0.143109485507011));
res += mul(Get(s0,0,dy), float4x4(0.117021314799786,0.037922155112028,0.203241661190987,-0.071359649300575,-0.154898047447205,-0.145678833127022,0.008725153282285,-0.135354936122894,-0.152737632393837,-0.023641629144549,-0.198711216449738,-0.076032809913158,0.071714997291565,-0.114219874143600,-0.107636556029320,0.057868935167789));
res += mul(Get(s0,dx,-dy), float4x4(-0.201716050505638,-0.015212809666991,0.122432291507721,0.002846528310329,-0.187835529446602,-0.173573836684227,-0.025907916948199,0.008576627820730,0.241150096058846,-0.050135605037212,0.064008764922619,0.143858596682549,-0.040092572569847,-0.067343883216381,-0.144591063261032,0.126603722572327));
res += mul(Get(s0,dx,0), float4x4(-0.019150065258145,-0.160433799028397,-0.086567699909210,-0.014683336950839,0.036675933748484,0.102022938430309,-0.021769415587187,0.038270391523838,-0.061074435710907,-0.093006923794746,0.232634007930756,0.051285438239574,-0.103407748043537,-0.073043435811996,-0.093412823975086,-0.075033150613308));
res += mul(Get(s0,dx,dy), float4x4(-0.063140675425529,-0.138002485036850,-0.072678603231907,0.079271599650383,0.038108833134174,-0.109366692602634,0.080733522772789,-0.148643791675568,-0.204011082649231,-0.016796797513962,0.077569283545017,-0.137269333004951,-0.117104083299637,-0.048379763960838,0.093950882554054,-0.028352456167340));
res += mul(Get(s1,-dx,-dy), float4x4(0.047779519110918,0.084509514272213,-0.023641653358936,-0.304527044296265,-0.063391260802746,-0.132593378424644,-0.114791989326477,-0.102093271911144,0.052599977701902,0.074040509760380,-0.006624198053032,0.159276455640793,-0.002723597688600,0.196579337120056,0.128780528903008,-0.154472216963768));
res += mul(Get(s1,-dx,0), float4x4(-0.130776554346085,0.049073208123446,-0.084176123142242,0.030434252694249,-0.003906887490302,-0.000479970534798,-0.039135027676821,0.060004480183125,-0.089023798704147,-0.045911338180304,-0.050871677696705,0.026724640280008,-0.141845539212227,-0.047738332301378,-0.065287582576275,0.020174182951450));
res += mul(Get(s1,-dx,dy), float4x4(0.046239849179983,0.159597977995872,-0.024591108784080,-0.058214653283358,0.027474012225866,0.052090965211391,-0.045825228095055,-0.034922719001770,-0.133871614933014,0.047565944492817,0.064032807946205,0.050831750035286,-0.070744238793850,0.025196591392159,0.044441685080528,0.059242058545351));
res += mul(Get(s1,0,-dy), float4x4(0.153396278619766,-0.115635141730309,-0.001931118662469,0.015551992692053,0.037561774253845,-0.034320902079344,-0.052842441946268,-0.088090583682060,0.038297738879919,-0.193519651889801,0.028638569638133,0.001346465200186,0.010433593764901,0.019106486812234,0.228690430521965,-0.123535163700581));
res += mul(Get(s1,0,0), float4x4(0.083862453699112,0.029074560850859,0.063542954623699,0.065007872879505,0.161358878016472,-0.134537518024445,-0.011803391389549,0.033862393349409,-0.008457911200821,0.055710326880217,-0.128225892782211,-0.061665590852499,0.130502879619598,0.015921836718917,-0.094699740409851,0.058844078332186));
res += mul(Get(s1,0,dy), float4x4(0.080775506794453,0.077770821750164,-0.026616418734193,0.009160880930722,-0.049613170325756,-0.040735300630331,0.319692194461823,-0.029749481007457,-0.148089408874512,0.006744917482138,0.089196540415287,0.104397661983967,0.103041052818298,0.277812123298645,0.052331335842609,-0.079711578786373));
res += mul(Get(s1,dx,-dy), float4x4(0.053992703557014,-0.168103203177452,0.001567065017298,-0.199307531118393,0.040169294923544,-0.134229436516762,0.042968805879354,0.098445177078247,-0.118594683706760,-0.008398509584367,0.069588653743267,0.004110153764486,0.095388807356358,-0.028663473203778,0.020108720287681,0.061278242617846));
res += mul(Get(s1,dx,0), float4x4(0.011191856116056,-0.010777506977320,-0.037751391530037,-0.116102039813995,-0.101201936602592,0.057222776114941,-0.004610771313310,0.048278570175171,-0.005095826927572,0.061725553125143,0.017927082255483,0.024640934541821,-0.042093131691217,-0.041408076882362,0.055734269320965,0.021199425682425));
res += mul(Get(s1,dx,dy), float4x4(0.027948629111052,-0.083564713597298,-0.003606020472944,-0.006051088217646,-0.020420230925083,0.082891583442688,0.021672422066331,-0.228021562099457,0.014006866142154,-0.132827624678612,0.089222274720669,-0.044506628066301,0.111177533864975,0.136447459459305,0.114132903516293,-0.094386436045170));
res += mul(Get(s2,-dx,-dy), float4x4(-0.048308346420527,0.081216886639595,0.053418647497892,-0.175565704703331,0.089826405048370,0.028694156557322,-0.045786671340466,0.049595683813095,0.014000366441905,-0.061579313129187,0.038037531077862,0.019573727622628,0.055552229285240,-0.146850049495697,0.133110195398331,-0.074561491608620));
res += mul(Get(s2,-dx,0), float4x4(-0.048576314002275,0.030272694304585,-0.116342678666115,-0.138224095106125,-0.181151062250137,-0.053196404129267,-0.020079633221030,-0.043260563164949,-0.065922997891903,0.026453068479896,-0.180422976613045,-0.049830432981253,-0.114785775542259,-0.194053336977959,-0.010954355821013,-0.197587773203850));
res += mul(Get(s2,-dx,dy), float4x4(0.061173815280199,-0.016784260049462,0.092315517365932,0.061201684176922,-0.039609618484974,-0.142460897564888,-0.148885503411293,-0.040374293923378,-0.070730820298195,0.143401756882668,0.172474235296249,0.063207983970642,0.073949053883553,0.034457039088011,0.012684684246778,-0.149034231901169));
res += mul(Get(s2,0,-dy), float4x4(0.108880721032619,-0.042544074356556,0.000429858191637,-0.019627330824733,-0.180208325386047,0.004121939651668,-0.029902957379818,0.013332456350327,0.004553044680506,-0.015877988189459,0.169629842042923,-0.136878907680511,-0.094842478632927,-0.067127898335457,-0.088431626558304,0.137965485453606));
res += mul(Get(s2,0,0), float4x4(0.170969560742378,-0.038506571203470,-0.041428800672293,-0.017418442294002,0.034117978066206,0.033359777182341,-0.035245422273874,-0.059206128120422,-0.092590436339378,-0.050113439559937,-0.035881809890270,0.053013097494841,-0.004100736696273,0.033867921680212,0.092438139021397,-0.150478154420853));
res += mul(Get(s2,0,dy), float4x4(0.081773139536381,-0.026656955480576,-0.047447916120291,0.059908941388130,-0.053543526679277,0.119866319000721,0.037014976143837,0.108697094023228,0.102871216833591,0.029493670910597,0.007037976756692,0.055187616497278,0.038750302046537,-0.024363491684198,0.020126523450017,-0.074683986604214));
res += mul(Get(s2,dx,-dy), float4x4(-0.019518675282598,-0.080772571265697,-0.042372081428766,-0.047389782965183,-0.047353930771351,-0.086176082491875,-0.111501693725586,0.001140292151831,0.033443931490183,0.018646469339728,0.054335325956345,0.094162806868553,0.139471590518951,-0.019843434914947,0.127919077873230,-0.044822301715612));
res += mul(Get(s2,dx,0), float4x4(-0.081830538809299,0.068668805062771,-0.065185137093067,-0.053313389420509,0.056534953415394,-0.123798646032810,0.009731253609061,0.160714879631996,-0.063095882534981,-0.113906331360340,-0.098779477179050,0.048905212432146,0.007568808272481,0.013332062400877,0.067478150129318,-0.028601216152310));
res += mul(Get(s2,dx,dy), float4x4(-0.011264866217971,0.097589284181595,0.071447797119617,0.066869832575321,0.022269165143371,-0.087794266641140,-0.050158049911261,-0.027200156822801,0.040197774767876,0.038706611841917,0.135491043329239,-0.074787721037865,-0.148154124617577,0.113475613296032,-0.040924999862909,-0.026481902226806));
res += mul(Get(s3,-dx,-dy), float4x4(0.035125412046909,0.014298356138170,0.086703248322010,0.037499979138374,0.008118685334921,0.037671994417906,-0.129136726260185,0.028185941278934,-0.156482875347137,-0.116293407976627,0.075166359543800,-0.028413973748684,-0.034324094653130,0.080679975450039,-0.048991963267326,-0.107046879827976));
res += mul(Get(s3,-dx,0), float4x4(0.071224339306355,0.105111949145794,0.019302630797029,-0.168576657772064,0.082109004259109,0.131920248270035,-0.124338805675507,-0.069732613861561,-0.006258908193558,0.059271544218063,-0.006134807132185,-0.120840705931187,-0.121145799756050,0.019477333873510,0.095180295407772,0.059214670211077));
res += mul(Get(s3,-dx,dy), float4x4(0.117812663316727,-0.061484526842833,-0.106575913727283,0.039332482963800,0.008686476387084,-0.085135594010353,-0.099784344434738,0.037493638694286,0.201606273651123,0.065931454300880,-0.075893647968769,-0.190424427390099,-0.172652617096901,0.071068733930588,-0.142545044422150,-0.052666302770376));
res += mul(Get(s3,0,-dy), float4x4(0.064579263329506,0.062886126339436,0.052000254392624,-0.052631217986345,-0.021433588117361,-0.070693328976631,-0.050505045801401,0.189544066786766,-0.059584807604551,-0.022040024399757,0.022406887263060,-0.067821167409420,0.092117957770824,0.019761357456446,0.308667004108429,0.055818110704422));
res += mul(Get(s3,0,0), float4x4(-0.032084397971630,0.037428643554449,-0.022774513810873,-0.190980106592178,0.217873394489288,-0.024890696629882,-0.018483646214008,-0.162218630313873,-0.138960629701614,-0.088775746524334,0.101765096187592,-0.155191004276276,0.019880661740899,-0.046436745673418,0.068029224872589,-0.084325984120369));
res += mul(Get(s3,0,dy), float4x4(-0.039992667734623,0.187197580933571,-0.165282443165779,0.093382835388184,-0.152223840355873,0.066212147474289,-0.013111724518239,-0.075479075312614,-0.013474079780281,0.122751228511333,-0.092308998107910,0.044236738234758,-0.189398631453514,0.031580395996571,0.281370341777802,-0.073522455990314));
res += mul(Get(s3,dx,-dy), float4x4(0.151615887880325,0.060535348951817,-0.017743654549122,-0.007964477874339,0.073931924998760,0.104548156261444,-0.194652438163757,-0.050127238035202,0.107586823403835,-0.068227462470531,-0.036882929503918,-0.050121638923883,0.003177666338161,0.069936037063599,-0.043975427746773,0.050629381090403));
res += mul(Get(s3,dx,0), float4x4(-0.070191279053688,0.020274827256799,-0.054854106158018,-0.025991108268499,-0.157156884670258,-0.056097831577063,0.338489323854446,-0.011644816957414,-0.045683428645134,0.138557463884354,0.222130611538887,0.112832307815552,0.197066172957420,-0.026802076026797,0.027169911190867,-0.009079240262508));
res += mul(Get(s3,dx,dy), float4x4(0.162032157182693,-0.049403544515371,0.070825830101967,-0.056661624461412,0.070132724940777,0.060279406607151,0.118448242545128,0.060338519513607,0.029398743063211,-0.027644354850054,-0.034853540360928,-0.015935357660055,-0.096998706459999,-0.000546617666259,-0.023268973454833,-0.071762770414352));
return max(float4(0,0,0,0), res);
}
