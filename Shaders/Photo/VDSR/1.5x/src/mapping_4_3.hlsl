sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.167235076427460,-0.083205662667751,-0.108995348215103,0.085687659680843,-0.002816411899403,0.017145708203316,-0.018868366256356,0.019819464534521,0.011194566264749,0.039860114455223,-0.081669025123119,0.028152842074633,0.025599665939808,0.028270673006773,-0.033962301909924,0.031382437795401));
res += mul(Get(s0,-dx,0), float4x4(0.080655418336391,-0.038630619645119,-0.137274622917175,0.073668919503689,-0.025532102212310,-0.021468227729201,-0.017182607203722,0.031867466866970,-0.061047554016113,0.093032278120518,0.079658433794975,-0.102428078651428,-0.029295906424522,0.110040999948978,0.148963734507561,-0.110944375395775));
res += mul(Get(s0,-dx,dy), float4x4(0.000719809380826,-0.030371427536011,0.017911165952682,-0.006175182294101,0.023426020517945,-0.033426195383072,-0.003871406428516,0.112069189548492,0.022497402504086,0.093508645892143,0.082057483494282,-0.043347451835871,-0.036980919539928,0.031249687075615,-0.011432624422014,-0.121201545000076));
res += mul(Get(s0,0,-dy), float4x4(0.050918567925692,-0.015776189044118,0.076911054551601,0.070787250995636,-0.008474816568196,-0.012190843001008,0.038428034633398,-0.049834448844194,0.030129957944155,-0.031676065176725,0.118706516921520,0.062180310487747,0.033814076334238,0.003724644193426,-0.075516790151596,-0.074969939887524));
res += mul(Get(s0,0,0), float4x4(0.001661948859692,-0.024160178378224,0.200449898838997,0.016736537218094,0.094978429377079,-0.037771351635456,-0.040827967226505,0.057363491505384,0.055347837507725,0.017517223954201,-0.078467220067978,-0.035491708666086,-0.039938483387232,-0.046575628221035,-0.090855076909065,-0.202427700161934));
res += mul(Get(s0,0,dy), float4x4(0.153015449643135,-0.008510287851095,0.023131396621466,0.035444404929876,0.056729733943939,0.038271617144346,-0.012792901135981,0.134787097573280,0.159236878156662,-0.076773561537266,-0.040214002132416,-0.075380712747574,0.007158052641898,-0.076420933008194,-0.009977704845369,-0.177208662033081));
res += mul(Get(s0,dx,-dy), float4x4(0.081302061676979,-0.000584795547184,-0.000709454470780,0.004374454729259,-0.005376318935305,-0.006007893010974,-0.044015347957611,0.122419923543930,-0.043373681604862,-0.120006769895554,-0.094215869903564,-0.021789830178022,-0.078649111092091,-0.004822244402021,-0.058431647717953,-0.002867987379432));
res += mul(Get(s0,dx,0), float4x4(-0.007022683508694,-0.030303139239550,-0.028704369440675,0.016125988215208,-0.035447657108307,-0.031026637181640,-0.058412011712790,0.091711424291134,0.078737504780293,0.010453792288899,-0.028335563838482,0.020888026803732,0.053684335201979,0.094067551195621,-0.020058935508132,0.010370813310146));
res += mul(Get(s0,dx,dy), float4x4(0.057528246194124,-0.071372888982296,-0.028753269463778,0.033830482512712,-0.085029274225235,0.155713751912117,-0.069511860609055,0.115623943507671,0.002650910057127,0.132112547755241,0.006720215547830,-0.040326744318008,0.072881832718849,0.033907081931829,0.007117073051631,-0.067159421741962));
res += mul(Get(s1,-dx,-dy), float4x4(-0.033392388373613,-0.028851399198174,0.086929835379124,0.012458878569305,-0.008922502398491,0.000370909663616,0.068296507000923,0.077295802533627,0.043916482478380,0.000087175758381,-0.088957473635674,0.018852474167943,0.025276036933064,0.018845042213798,-0.076134949922562,0.120272636413574));
res += mul(Get(s1,-dx,0), float4x4(-0.002141620963812,0.029817080125213,0.085852161049843,0.028060300275683,0.002541171619669,0.012582614086568,-0.006052428390831,-0.061031885445118,-0.005108806770295,0.034573670476675,0.006635596044362,0.004282457754016,0.008370943367481,0.016162591055036,-0.033426295965910,0.058314435184002));
res += mul(Get(s1,-dx,dy), float4x4(-0.035950496792793,-0.043449897319078,0.186325058341026,0.014952626079321,0.058750674128532,0.009455485269427,-0.137537822127342,-0.143251702189445,-0.009905738756061,0.081317722797394,-0.026337472721934,0.017881788313389,-0.069595642387867,0.064003519713879,-0.009085751138628,0.151966929435730));
res += mul(Get(s1,0,-dy), float4x4(-0.021354176104069,-0.044372785836458,0.167419597506523,-0.062508501112461,0.077054023742676,0.026538556441665,-0.020955335348845,-0.113753348588943,-0.014741560444236,0.004509210120887,0.013570919632912,0.110920459032059,0.039854001253843,0.022236766293645,-0.197005212306976,0.027013538405299));
res += mul(Get(s1,0,0), float4x4(0.039107717573643,-0.007405763491988,0.019682755693793,-0.074999161064625,-0.020101474598050,-0.042050153017044,-0.024334320798516,-0.169732317328453,0.024524228647351,0.020886298269033,0.028511280193925,0.157510772347450,0.015965510159731,-0.039166044443846,-0.046623926609755,0.019648643210530));
res += mul(Get(s1,0,dy), float4x4(0.005089720245451,0.014971197582781,0.074583269655704,0.018299743533134,0.013601764105260,-0.010867293924093,-0.051475439220667,-0.089094579219818,0.057505991309881,0.037649817764759,-0.006714542396367,-0.001744435634464,0.021210450679064,0.059626072645187,0.046083860099316,0.074063412845135));
res += mul(Get(s1,dx,-dy), float4x4(0.011481462977827,-0.025840951129794,0.029185825958848,0.036489471793175,-0.036387946456671,-0.027799550443888,0.053159270435572,-0.004881430882961,0.043253686279058,0.061458244919777,-0.006173742935061,0.001945043448359,-0.016153240576386,0.022379068657756,-0.086519740521908,0.131985828280449));
res += mul(Get(s1,dx,0), float4x4(0.090309932827950,-0.023253614082932,0.032011833041906,0.036474078893661,0.087710395455360,0.031816348433495,-0.055055681616068,-0.032234027981758,-0.074603170156479,0.108141578733921,0.044687125831842,0.114342965185642,-0.016310604289174,0.011720010079443,0.012768891640007,0.109206274151802));
res += mul(Get(s1,dx,dy), float4x4(-0.034573018550873,-0.015065974555910,0.098219521343708,0.130330160260201,0.108457885682583,-0.062311954796314,-0.017080653458834,-0.125615030527115,0.016569430008531,0.024269068613648,0.047488082200289,-0.031210051849484,-0.116553790867329,0.011564361862838,-0.005745703820139,0.053289595991373));
res += mul(Get(s2,-dx,-dy), float4x4(-0.025473063811660,-0.068601325154305,0.095645725727081,-0.163209214806557,0.022275041788816,-0.089070260524750,-0.077960848808289,0.063921056687832,-0.032335929572582,0.072741463780403,-0.105554357171059,-0.007289548870176,-0.031342554837465,0.032445944845676,-0.076768040657043,-0.117299631237984));
res += mul(Get(s2,-dx,0), float4x4(-0.010939087718725,-0.008037101477385,0.111550092697144,-0.062902480363846,-0.046785131096840,0.163446545600891,0.005794753786176,0.153806895017624,-0.014980889856815,0.047057434916496,-0.128305226564407,0.217010661959648,-0.022269414737821,0.053753338754177,-0.110669903457165,0.221372038125992));
res += mul(Get(s2,-dx,dy), float4x4(0.047466304153204,0.003598476760089,0.012700462713838,-0.021168861538172,0.024877702817321,0.013616021722555,-0.032385375350714,-0.055289763957262,-0.031068840995431,0.116088546812534,-0.000660367717501,-0.082613505423069,-0.017910134047270,-0.110762551426888,0.026475137099624,0.187724784016609));
res += mul(Get(s2,0,-dy), float4x4(0.065113961696625,0.058879174292088,-0.111797392368317,-0.099375642836094,0.038711935281754,-0.084788620471954,0.117147050797939,-0.063939817249775,-0.053657222539186,0.010352207347751,0.000075192336226,0.060157787054777,-0.073516622185707,-0.016948413103819,0.137858271598816,-0.170303255319595));
res += mul(Get(s2,0,0), float4x4(0.198579177260399,0.025853078812361,-0.149511054158211,-0.038581699132919,0.063656993210316,0.173770904541016,0.087447658181190,-0.009375448338687,-0.021972514688969,-0.022274235263467,0.049707747995853,0.173504069447517,-0.078758053481579,0.060587167739868,0.142468050122261,-0.143796131014824));
res += mul(Get(s2,0,dy), float4x4(-0.076789893209934,-0.023959243670106,-0.037257149815559,0.003625809680670,0.057722482830286,-0.074634157121181,-0.075130254030228,0.027187312021852,0.095284253358841,0.042231485247612,-0.020729755982757,0.089716047048569,0.088849313557148,0.218284845352173,-0.040478777140379,-0.039033383131027));
res += mul(Get(s2,dx,-dy), float4x4(-0.063402250409126,0.012423427775502,-0.043129421770573,0.017476895824075,-0.058849789202213,-0.123147472739220,0.014678853563964,0.007067147642374,-0.024843556806445,0.038337323814631,-0.043149042874575,0.062739409506321,-0.046807307749987,-0.032864626497030,0.070567049086094,-0.198146790266037));
res += mul(Get(s2,dx,0), float4x4(0.093211419880390,0.039999105036259,0.096619546413422,0.147688031196594,0.088182024657726,-0.142930388450623,-0.050881717354059,0.046737987548113,0.041701477020979,0.062340609729290,-0.072715401649475,0.100400798022747,-0.157537326216698,-0.082077331840992,0.021955018863082,-0.137372851371765));
res += mul(Get(s2,dx,dy), float4x4(-0.085659362375736,-0.014929135330021,0.098445773124695,0.068851746618748,0.002439704025164,-0.129938691854477,-0.011642241850495,-0.096487611532211,0.006707796361297,0.083304896950722,-0.014884816482663,0.137843102216721,0.051599465310574,-0.104421935975552,-0.055553685873747,-0.194855004549026));
res += mul(Get(s3,-dx,-dy), float4x4(0.062522165477276,0.033617548644543,-0.131496712565422,-0.031755130738020,0.043256223201752,-0.137898042798042,0.042470570653677,-0.024003343656659,-0.102872252464294,0.015454742126167,0.035234007984400,-0.014931040816009,0.018334453925490,0.109230421483517,0.061484798789024,-0.059932406991720));
res += mul(Get(s3,-dx,0), float4x4(0.026806397363544,-0.007391109131277,-0.098403863608837,-0.161462381482124,0.025692919269204,-0.076382204890251,0.135891407728195,-0.040477436035872,0.007980295456946,-0.034192942082882,-0.086768850684166,-0.058651983737946,-0.089302919805050,0.117499113082886,0.006475698668510,-0.097368054091930));
res += mul(Get(s3,-dx,dy), float4x4(-0.002212244085968,0.006764658726752,-0.095308646559715,-0.009447500109673,0.073767066001892,0.055203385651112,-0.070239625871181,-0.070688277482986,-0.052306335419416,0.128295078873634,-0.056608583778143,-0.045978616923094,-0.005430391523987,-0.016211507841945,-0.049790792167187,0.029597252607346));
res += mul(Get(s3,0,-dy), float4x4(-0.015661856159568,0.053971424698830,0.034695409238338,0.005017599556595,0.061445508152246,-0.060783676803112,-0.091743223369122,-0.029097573831677,-0.056886095553637,0.051659222692251,0.086201593279839,0.092769101262093,-0.080503024160862,-0.074959605932236,-0.166616380214691,-0.005986155942082));
res += mul(Get(s3,0,0), float4x4(-0.103500202298164,-0.068242780864239,0.016038296744227,0.000970108492766,0.029571183025837,-0.003724823705852,0.054893091320992,0.065804257988930,-0.075634583830833,-0.062293991446495,0.056963294744492,0.077024571597576,-0.051916610449553,-0.142728880047798,-0.094598412513733,-0.063381925225258));
res += mul(Get(s3,0,dy), float4x4(-0.082587353885174,-0.006820642389357,0.175005704164505,0.041074033826590,0.065936572849751,-0.024445721879601,0.045161362737417,0.075626082718372,-0.074250563979149,0.028706263750792,0.160222813487053,-0.048038136214018,0.074574582278728,-0.106544323265553,-0.027721626684070,0.029471850022674));
res += mul(Get(s3,dx,-dy), float4x4(0.086568690836430,-0.010863197967410,0.079906173050404,0.016790237277746,0.035865299403667,0.006841512396932,-0.013323797844350,0.077992036938667,-0.003460218431428,0.090566076338291,0.006666352041066,0.123021207749844,0.060832574963570,0.086184613406658,-0.044207625091076,-0.095066443085670));
res += mul(Get(s3,dx,0), float4x4(-0.098057255148888,-0.053673207759857,0.038112647831440,0.004545867443085,0.075137645006180,-0.010601099580526,-0.029506906867027,0.074862778186798,-0.051973592489958,0.063109785318375,-0.056212835013866,0.048468504101038,-0.126599997282028,0.102949537336826,0.023163693025708,-0.070649020373821));
res += mul(Get(s3,dx,dy), float4x4(-0.219110697507858,0.071419619023800,-0.044706333428621,0.082382038235664,0.113030768930912,-0.097346790134907,-0.075706392526627,0.028197476640344,-0.037146288901567,0.024049749597907,-0.009059302508831,0.002114744856954,0.161113172769547,0.127260014414787,0.023234840482473,-0.040300041437149));
return max(float4(0,0,0,0), res);
}
