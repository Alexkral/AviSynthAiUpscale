sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.174170732498169,-0.057868640869856,-0.009856567718089,-0.030087441205978,-0.082789726555347,-0.268875867128372,0.047072831541300,0.108877576887608,0.102901875972748,0.082311138510704,-0.126626372337341,-0.077241763472557,-0.056158967316151,0.035293668508530,-0.064205750823021,0.071300812065601));
res += mul(Get(s0,-dx,0), float4x4(-0.011700359173119,-0.048630587756634,-0.093727856874466,0.062921173870564,-0.044233370572329,-0.076514646410942,0.114348940551281,-0.083883546292782,0.002760323695838,0.008619766682386,0.008638993836939,-0.069382958114147,-0.119999475777149,-0.018054584041238,-0.094902344048023,-0.086461775004864));
res += mul(Get(s0,-dx,dy), float4x4(0.121839448809624,0.113180927932262,-0.076478943228722,-0.030420500785112,0.140310570597649,0.064576983451843,-0.170494586229324,-0.065352052450180,0.040388926863670,0.119268804788589,0.136061266064644,-0.009916235692799,-0.052549548447132,0.122016869485378,-0.055178932845592,0.009905795566738));
res += mul(Get(s0,0,-dy), float4x4(0.026666784659028,0.105668701231480,-0.041542585939169,-0.066375151276588,0.016340678557754,-0.012245086021721,0.085168555378914,0.062505438923836,0.039906214922667,-0.003893565852195,0.068814106285572,-0.059331178665161,-0.020684577524662,0.029818046838045,-0.029283750802279,0.197608426213264));
res += mul(Get(s0,0,0), float4x4(-0.306399166584015,0.101599954068661,0.005356260109693,0.254292935132980,-0.155972257256508,0.016317475587130,0.050219450145960,-0.129363328218460,0.015411054715514,0.013265671208501,0.101451434195042,-0.005647636950016,-0.002802637871355,0.062589041888714,-0.262744635343552,-0.140204414725304));
res += mul(Get(s0,0,dy), float4x4(0.170365884900093,0.068282559514046,-0.036351587623358,-0.051309570670128,0.055116891860962,0.111177481710911,0.040751855820417,0.060577053576708,0.172917917370796,0.027242874726653,0.125970944762230,-0.046530149877071,0.002965337596834,0.102531082928181,0.059466898441315,-0.175977796316147));
res += mul(Get(s0,dx,-dy), float4x4(0.136895015835762,0.055160433053970,0.117227755486965,-0.054019648581743,0.108310185372829,0.121478304266930,-0.004486854188144,0.003301013959572,-0.030352808535099,-0.130986586213112,0.204261943697929,-0.165054395794868,0.179071590304375,0.076328970491886,0.078098364174366,0.078635528683662));
res += mul(Get(s0,dx,0), float4x4(-0.037714950740337,0.165366560220718,0.065823629498482,0.070422589778900,-0.055191673338413,-0.115723878145218,-0.040255032479763,0.020371844992042,0.179032579064369,0.151302859187126,0.111856207251549,-0.193615555763245,-0.082023993134499,0.222190052270889,-0.045325707644224,-0.023479282855988));
res += mul(Get(s0,dx,dy), float4x4(-0.020061541348696,0.014467776753008,-0.031239472329617,0.040033929049969,-0.093931168317795,0.124750196933746,0.072981186211109,-0.083030655980110,0.012850143015385,0.155486851930618,0.045013349503279,-0.008993835188448,0.084921024739742,0.071024999022484,0.026897916570306,-0.106370247900486));
res += mul(Get(s1,-dx,-dy), float4x4(0.118792891502380,0.118914566934109,-0.066971413791180,-0.038194444030523,0.021993117406964,0.041938118636608,-0.171299323439598,-0.085594274103642,0.054546579718590,-0.069359898567200,-0.132081687450409,0.094868652522564,0.090694576501846,-0.040103271603584,-0.020790638402104,-0.109915375709534));
res += mul(Get(s1,-dx,0), float4x4(-0.166561141610146,-0.093596994876862,-0.101490445435047,0.143253207206726,0.132597953081131,0.000704567821231,0.067649483680725,-0.035645369440317,0.066842652857304,-0.170922666788101,0.142548665404320,-0.078499943017960,0.042680885642767,-0.107002846896648,0.023126769810915,-0.001302151591517));
res += mul(Get(s1,-dx,dy), float4x4(-0.013754456304014,-0.106334552168846,-0.028238907456398,-0.108412906527519,0.025778884068131,0.190788269042969,-0.104400001466274,0.074658088386059,0.095793075859547,0.045634720474482,0.100153177976608,-0.132739290595055,-0.012680521234870,-0.008502645418048,-0.092261373996735,0.188854917883873));
res += mul(Get(s1,0,-dy), float4x4(-0.028786431998014,-0.106943845748901,-0.054589133709669,-0.026427291333675,0.141723483800888,0.150292083621025,-0.049772225320339,-0.057069107890129,-0.017950961366296,0.043865077197552,-0.050530698150396,0.058319769799709,0.134565144777298,-0.099834136664867,0.001000506337732,-0.055818606168032));
res += mul(Get(s1,0,0), float4x4(-0.096079468727112,0.099135786294937,-0.136361911892891,0.020283257588744,0.141079634428024,-0.064974665641785,-0.064686171710491,0.165070250630379,-0.052638746798038,0.006448746193200,0.049191821366549,0.158765271306038,0.093290954828262,0.019367396831512,-0.033991843461990,0.174187049269676));
res += mul(Get(s1,0,dy), float4x4(0.041999049484730,-0.162857428193092,0.056636877357960,-0.074652120471001,0.091221690177917,0.096545912325382,-0.090735979378223,0.069373056292534,0.109041735529900,-0.076970614492893,-0.049841083586216,0.103479042649269,0.083221450448036,0.078825898468494,0.096994362771511,0.221868112683296));
res += mul(Get(s1,dx,-dy), float4x4(-0.160616084933281,0.080596886575222,0.079066038131714,0.016734205186367,0.003966273274273,0.057711388915777,0.021300297230482,0.154024675488472,0.036868609488010,0.070285864174366,0.035681888461113,-0.059112008661032,0.008027346804738,-0.043997596949339,-0.039589677006006,0.024231201037765));
res += mul(Get(s1,dx,0), float4x4(0.132992938160896,0.114694789052010,-0.002209739759564,-0.027121705934405,-0.166084513068199,-0.005947960074991,-0.060891192406416,-0.022379156202078,0.084048181772232,0.018811950460076,-0.097799591720104,-0.165662139654160,-0.018973408266902,-0.087317451834679,-0.105200998485088,-0.022397436201572));
res += mul(Get(s1,dx,dy), float4x4(0.097247906029224,-0.000327041372657,0.128526613116264,-0.016020435839891,0.009028156287968,-0.029422584921122,-0.055771131068468,0.025062913075089,-0.011412623338401,-0.138614848256111,-0.062646463513374,-0.080722875893116,0.074937030673027,0.237173765897751,-0.046648789197206,0.018735738471150));
res += mul(Get(s2,-dx,-dy), float4x4(0.044299546629190,0.039415307343006,-0.060311388224363,0.083973482251167,-0.019333766773343,-0.226590827107430,0.169714123010635,-0.102450482547283,0.044725656509399,0.019025703892112,-0.098818153142929,0.028349380940199,-0.140909314155579,-0.017340989783406,-0.052267991006374,-0.028483424335718));
res += mul(Get(s2,-dx,0), float4x4(-0.090669356286526,0.144722238183022,0.030346423387527,-0.198789134621620,-0.143365830183029,-0.104585461318493,0.018930884078145,-0.007204021327198,0.018418675288558,-0.076655268669128,0.072281561791897,-0.046867370605469,0.140122145414352,0.140940085053444,-0.079189963638783,0.094334930181503));
res += mul(Get(s2,-dx,dy), float4x4(0.028617573902011,-0.168923214077950,-0.164620965719223,0.101613149046898,0.214692011475563,0.137062907218933,-0.032389018684626,0.052877828478813,-0.017173599451780,0.163968414068222,-0.072785444557667,0.027785131707788,0.263733267784119,-0.096267618238926,0.009716544300318,0.077692598104477));
res += mul(Get(s2,0,-dy), float4x4(0.021340491250157,0.043437935411930,0.001142425928265,-0.005694780964404,0.037326440215111,0.026891114190221,-0.054149128496647,0.059270314872265,0.206741988658905,-0.115963235497475,0.038238886743784,-0.104348137974739,0.118918657302856,0.056683335453272,0.018747229129076,-0.030180284753442));
res += mul(Get(s2,0,0), float4x4(0.046548470854759,-0.022711586207151,-0.049471952021122,0.026117611676455,0.066547460854053,0.143217146396637,-0.042332638055086,-0.151373147964478,-0.040256980806589,-0.003425475442782,0.188752204179764,0.244728326797485,-0.129106894135475,-0.183688670396805,-0.035546865314245,-0.091409876942635));
res += mul(Get(s2,0,dy), float4x4(0.065513364970684,0.024117300286889,-0.099387899041176,-0.131521746516228,-0.248756945133209,0.032416563481092,0.119164988398552,0.066618211567402,-0.181980073451996,0.063689976930618,-0.089215725660324,0.162085875868797,0.141390651464462,0.038676388561726,0.004861541558057,-0.054618410766125));
res += mul(Get(s2,dx,-dy), float4x4(-0.037101540714502,0.031993512064219,-0.087082415819168,-0.042646054178476,-0.147753387689590,-0.153791114687920,0.064616270363331,0.266184329986572,-0.207340583205223,-0.039912469685078,0.030355734750628,-0.153872340917587,0.069395385682583,0.072745159268379,-0.051980879157782,-0.069479525089264));
res += mul(Get(s2,dx,0), float4x4(0.086043283343315,0.022106835618615,-0.114157289266586,0.011815901845694,0.269327819347382,0.132521361112595,-0.018327895551920,-0.030928535386920,-0.195650830864906,-0.007190207019448,-0.158624902367592,0.020193994045258,-0.103574186563492,-0.114647805690765,-0.041201852262020,0.068984240293503));
res += mul(Get(s2,dx,dy), float4x4(-0.017095770686865,-0.021624410524964,-0.069230541586876,-0.221059784293175,0.080921195447445,-0.087456725537777,-0.000321844941936,-0.138948142528534,0.217531755566597,-0.082841411232948,0.057508487254381,-0.139993473887444,0.035014431923628,-0.076523996889591,0.062204997986555,0.073138348758221));
res += mul(Get(s3,-dx,-dy), float4x4(0.043742816895247,0.009995074011385,0.080860070884228,-0.054425712674856,-0.137370124459267,0.129467993974686,0.043081723153591,0.151960298418999,0.003324298420921,0.043419420719147,-0.125493437051773,-0.052467487752438,0.063026353716850,0.015315312892199,-0.073817431926727,-0.093313068151474));
res += mul(Get(s3,-dx,0), float4x4(0.009487424045801,-0.055641319602728,-0.067109152674675,-0.143721505999565,0.181916251778603,-0.045888312160969,-0.187885895371437,-0.004607519134879,0.283917367458344,-0.053033363074064,0.087796255946159,0.060284227132797,-0.061931565403938,0.053714845329523,0.088144868612289,0.113064035773277));
res += mul(Get(s3,-dx,dy), float4x4(0.102517217397690,-0.001263257348910,0.161381006240845,-0.030280895531178,-0.098504714667797,-0.006142836529762,0.151433318853378,0.015532880090177,-0.057913079857826,-0.074422642588615,0.096847988665104,-0.047685574740171,-0.131080463528633,-0.089856274425983,-0.064313843846321,0.009409590624273));
res += mul(Get(s3,0,-dy), float4x4(-0.010179824195802,-0.046732079237700,-0.027502996847034,0.128529593348503,0.147205486893654,0.049116320908070,-0.126845240592957,0.165960311889648,-0.082208544015884,0.021837463602424,0.103678375482559,-0.070684842765331,0.062480632215738,-0.050598796457052,0.023552093654871,0.020263450220227));
res += mul(Get(s3,0,0), float4x4(-0.047265637665987,0.099910981953144,-0.003615822643042,-0.009914778172970,0.318509638309479,-0.033669840544462,-0.087381832301617,-0.112447090446949,0.023395262658596,-0.058688644319773,-0.052097439765930,-0.020072791725397,-0.010213778354228,0.102114379405975,-0.155507147312164,0.326925456523895));
res += mul(Get(s3,0,dy), float4x4(0.080331891775131,-0.011631080880761,0.015780540183187,0.005763190798461,0.041880883276463,0.121147952973843,-0.050162505358458,-0.132620736956596,-0.043788533657789,-0.103182405233383,-0.043400011956692,-0.092628560960293,0.188314452767372,-0.124716982245445,0.065964803099632,-0.050177641212940));
res += mul(Get(s3,dx,-dy), float4x4(0.012449511326849,0.146060839295387,0.009862488135695,-0.075277946889400,-0.129395514726639,-0.140825033187866,-0.080372467637062,0.087984263896942,0.039180815219879,-0.136290982365608,-0.099804945290089,0.010020106099546,-0.000205920470762,0.070181384682655,-0.051968567073345,-0.231549620628357));
res += mul(Get(s3,dx,0), float4x4(0.160816565155983,0.006022489164025,0.010351181961596,0.124364890158176,0.081461876630783,0.020807953551412,-0.101232796907425,0.166073277592659,-0.033978946506977,-0.072088941931725,0.041912913322449,0.078572392463684,0.008005897514522,0.098469980061054,0.135670125484467,0.031475085765123));
res += mul(Get(s3,dx,dy), float4x4(0.004297623410821,-0.150725468993187,0.015938466414809,0.115545064210892,-0.101188421249390,0.035568632185459,0.107856400310993,-0.167789280414581,-0.005378712434322,0.084387093782425,0.114987090229988,-0.041377689689398,0.007241125684232,-0.014065900817513,-0.072383932769299,0.155389130115509));
return max(float4(0,0,0,0), res);
}
