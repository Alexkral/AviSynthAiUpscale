sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.038974959403276,0.012762264348567,-0.014218195341527,0.012226606719196,-0.058468844741583,0.006387142930180,0.008816896937788,-0.016612172126770,0.003692008787766,0.011550544761121,-0.026710538193583,0.021915957331657,-0.096357583999634,-0.050109874457121,0.003419397631660,0.007812733761966));
res += mul(Get(s0,-dx,0), float4x4(-0.048093277961016,-0.084859706461430,0.006284419447184,-0.014707818627357,0.008964768610895,0.131209313869476,-0.003908247221261,0.034086126834154,-0.000696338131092,0.006342372857034,-0.029209433123469,0.013353985734284,-0.059689309448004,-0.012829603627324,-0.041763927787542,-0.028076156973839));
res += mul(Get(s0,-dx,dy), float4x4(-0.015648946166039,-0.008950123563409,0.026395056396723,0.049941625446081,-0.013258383609354,0.026677472516894,-0.012927928008139,0.001777558121830,-0.011534582823515,-0.003179401624948,-0.048173673450947,0.016825696453452,-0.004745184909552,-0.037886023521423,-0.009840432554483,-0.025863518938422));
res += mul(Get(s0,0,-dy), float4x4(0.027274223044515,0.028064351528883,-0.004639243241400,-0.002587217837572,-0.048811625689268,0.061946220695972,-0.000751849322114,-0.010411531664431,-0.023663109168410,-0.006535010412335,-0.014672771096230,0.019156202673912,-0.053792290389538,-0.092566221952438,0.124905325472355,-0.101257905364037));
res += mul(Get(s0,0,0), float4x4(-0.078268252313137,-0.054833687841892,0.022939439862967,-0.010890644043684,0.166413828730583,0.028992723673582,0.040995676070452,-0.037765789777040,-0.012734245508909,-0.008500566706061,0.007790285162628,-0.033460270613432,-0.007032876368612,0.017094034701586,0.109414130449295,-0.135506793856621));
res += mul(Get(s0,0,dy), float4x4(-0.010608767159283,-0.022031828761101,0.031080389395356,0.028710452839732,-0.056888043880463,0.010130790062249,-0.033194322139025,-0.031222177669406,-0.007249313872308,-0.022383887320757,-0.006106435321271,-0.007894545793533,0.064876310527325,-0.036142677068710,-0.015502935275435,-0.054806608706713));
res += mul(Get(s0,dx,-dy), float4x4(0.022184805944562,-0.006061830092221,-0.027641681954265,0.009412053041160,0.018812820315361,0.081443004310131,0.008320571854711,0.045565295964479,-0.023137999698520,-0.016667436808348,-0.012651954777539,0.007492737378925,-0.020892621949315,-0.018705544993281,0.002541037974879,0.052737515419722));
res += mul(Get(s0,dx,0), float4x4(-0.060087751597166,-0.009211757220328,0.014509823173285,0.024350114166737,0.109091073274612,-0.065703295171261,0.043587826192379,0.010808098129928,-0.019274948164821,-0.005457445047796,0.002951571019366,-0.023563846945763,-0.017704043537378,-0.028782609850168,-0.008481552824378,0.072290055453777));
res += mul(Get(s0,dx,dy), float4x4(-0.042405445128679,-0.008163366466761,0.039442043751478,0.029743475839496,0.009367706254125,0.045041482895613,0.032732229679823,0.080945067107677,-0.009949407540262,-0.032373115420341,0.016627147793770,-0.014926470816135,-0.052463363856077,-0.057473711669445,0.051163297146559,0.074005082249641));
res += mul(Get(s1,-dx,-dy), float4x4(-0.060223486274481,0.041883297264576,0.029505917802453,0.058367714285851,-0.106276214122772,-0.115411855280399,0.030076025053859,-0.066626608371735,-0.149554744362831,-0.151090651750565,0.142558097839355,-0.086908183991909,-0.029685553163290,0.007938888855278,0.033628247678280,-0.022040162235498));
res += mul(Get(s1,-dx,0), float4x4(-0.014811743982136,0.112614452838898,0.026041874662042,0.026261162012815,-0.088973708450794,0.050321113318205,0.196662351489067,-0.139628589153290,-0.154862537980080,-0.038044180721045,0.184276238083839,-0.181693777441978,-0.064464852213860,-0.142105698585510,-0.037429105490446,-0.047973148524761));
res += mul(Get(s1,-dx,dy), float4x4(-0.003364272881299,-0.039847131818533,0.061896946281195,0.027230886742473,0.079967699944973,-0.073063842952251,-0.018883693963289,-0.064095973968506,0.180266410112381,0.142020463943481,-0.012334067374468,0.012296149507165,0.031548071652651,0.134183704853058,-0.023945542052388,-0.037423189729452));
res += mul(Get(s1,0,-dy), float4x4(0.058436255902052,0.010607964359224,-0.012545814737678,0.008373978547752,-0.166389614343643,-0.047627542167902,-0.047085762023926,0.126593992114067,-0.082365922629833,0.063704401254654,0.107578836381435,0.094586484134197,0.045984849333763,-0.046095173805952,-0.165320515632629,0.107252895832062));
res += mul(Get(s1,0,0), float4x4(0.012954936362803,0.026630055159330,-0.018616678193212,-0.018354214727879,0.177913770079613,0.277444601058960,-0.155659198760986,0.317351937294006,-0.039123129099607,0.198947563767433,-0.086113020777702,0.082312293350697,0.097206249833107,-0.111013591289520,-0.141971960663795,0.027651960030198));
res += mul(Get(s1,0,dy), float4x4(-0.025633610785007,-0.146693080663681,0.021615201607347,-0.043022871017456,0.032356485724449,-0.170608341693878,0.098827466368675,-0.132633551955223,0.138686165213585,-0.132555767893791,-0.002374168252572,-0.003134124912322,0.046485021710396,0.183572441339493,-0.096147127449512,-0.038052976131439));
res += mul(Get(s1,dx,-dy), float4x4(0.026477474719286,0.101850628852844,0.036818519234657,-0.022443825379014,-0.090192534029484,-0.107478030025959,-0.152184799313545,-0.050695504993200,0.023660467937589,-0.068979747593403,0.015157820656896,0.045544248074293,-0.073762282729149,-0.098064154386520,0.261414587497711,-0.111877277493477));
res += mul(Get(s1,dx,0), float4x4(-0.056848872452974,0.055702250450850,-0.089519679546356,-0.032272148877382,0.086240299046040,-0.097752667963505,0.111880466341972,-0.073747642338276,-0.110962539911270,0.104953318834305,-0.035401590168476,0.128338277339935,-0.261488765478134,-0.059641577303410,0.203028157353401,-0.185962438583374));
res += mul(Get(s1,dx,dy), float4x4(-0.001176978345029,-0.091927334666252,-0.004948589485139,-0.044333845376968,0.029749089851975,0.193644985556602,0.044916514307261,0.004827315919101,0.078947350382805,-0.045955039560795,-0.029154649004340,0.049900226294994,0.366820573806763,0.251930713653564,-0.235589817166328,0.087297789752483));
res += mul(Get(s2,-dx,-dy), float4x4(0.013434880413115,0.099501594901085,0.031208213418722,-0.004375068470836,-0.016947951167822,0.009537564590573,-0.041463311761618,0.002731557935476,0.012020323425531,0.003039234783500,0.063416644930840,-0.034949127584696,0.004756204318255,0.000513209961355,-0.005026655271649,-0.002454871311784));
res += mul(Get(s2,-dx,0), float4x4(-0.015278911218047,0.001907753292471,0.005074776709080,-0.024326300248504,-0.039659399539232,-0.037324443459511,0.007147651165724,0.008383169770241,0.047548718750477,0.102495610713959,0.124028712511063,-0.038542959839106,-0.001645973883569,0.001690123695880,-0.001624100957997,0.003882705001161));
res += mul(Get(s2,-dx,dy), float4x4(-0.038114532828331,-0.022089522331953,-0.065125450491905,-0.012908199802041,0.002114774892107,-0.052019499242306,0.031339317560196,-0.046065941452980,0.124649874866009,0.052778847515583,-0.118099786341190,0.001342296018265,-0.001807792694308,-0.004445928614587,-0.000229002485867,0.002073297975585));
res += mul(Get(s2,0,-dy), float4x4(0.033799130469561,-0.009159854613245,0.003597558243200,0.037842113524675,-0.015913194045424,-0.018859691917896,0.006854678038508,0.001258417381905,0.002917444799095,0.091142535209656,-0.009228568524122,0.047783330082893,0.001018470851704,-0.003927374724299,0.000458460737718,0.001470961142331));
res += mul(Get(s2,0,0), float4x4(-0.005919612944126,0.009458312764764,-0.032514832913876,0.072736114263535,0.007609605323523,0.007591712288558,0.021169468760490,0.034835830330849,-0.101638339459896,0.154090315103531,0.145719587802887,0.072046563029289,-0.006181301549077,0.001581239281222,0.001704609836452,0.000788569799624));
res += mul(Get(s2,0,dy), float4x4(-0.001403559348546,0.052634950727224,0.086852863430977,0.074575483798981,0.051338717341423,0.020051190629601,0.044356230646372,-0.004163105972111,0.074655242264271,-0.089653633534908,-0.029086615890265,0.036923252046108,-0.003813211806118,-0.002651457907632,-0.003508253255859,0.000173840526259));
res += mul(Get(s2,dx,-dy), float4x4(0.000131536769914,-0.007122328970581,-0.024711890146136,0.011958327144384,-0.003177497303113,-0.032803792506456,0.003802427323535,-0.008097693324089,0.003294334048405,-0.117171801626682,-0.030822388827801,0.120324060320854,0.001150570227765,-0.000012513104593,-0.001108803669922,-0.000656918215100));
res += mul(Get(s2,dx,0), float4x4(0.028437353670597,-0.030327834188938,-0.001099476590753,0.026186581701040,0.002373164752498,-0.057394854724407,0.041287943720818,0.018575461581349,-0.081512190401554,0.049548458307981,0.137507125735283,0.215550526976585,0.005515675526112,0.007124072406441,0.001368752447888,0.006861018016934));
res += mul(Get(s2,dx,dy), float4x4(0.041006252169609,-0.080274447798729,-0.058874603360891,0.007351670879871,0.043876107782125,-0.032030928879976,0.051226012408733,-0.013639875687659,0.053864851593971,-0.078962534666061,0.019639277830720,0.098236627876759,-0.004204368684441,0.000978852971457,-0.004136142320931,0.004611517768353));
res += mul(Get(s3,-dx,-dy), float4x4(0.027001248672605,-0.031842473894358,-0.011164186522365,-0.025905046612024,-0.037798292934895,-0.048431493341923,-0.047459263354540,-0.036080371588469,0.091178648173809,0.020887954160571,0.040999140590429,0.029214775189757,-0.053941257297993,-0.010345478542149,-0.014518106356263,-0.013061446137726));
res += mul(Get(s3,-dx,0), float4x4(-0.034964971244335,-0.024372160434723,0.022560646757483,0.036732885986567,-0.113992050290108,-0.055741026997566,-0.065406396985054,-0.024377420544624,0.048837795853615,0.009454475715756,0.059536181390285,0.002782015129924,0.009392535313964,0.015668330714107,0.091413766145706,-0.016460830345750));
res += mul(Get(s3,-dx,dy), float4x4(-0.067616641521454,0.003936092834920,-0.013923985883594,0.024917310103774,-0.044941734522581,-0.023246087133884,-0.061874214559793,-0.062057927250862,-0.011888136155903,-0.075867459177971,0.012830978259444,0.004189228639007,-0.113308042287827,0.015955194830894,0.052664335817099,-0.022945821285248));
res += mul(Get(s3,0,-dy), float4x4(0.033149398863316,-0.027011919766665,-0.034788429737091,-0.006196740549058,0.026776758953929,-0.076296493411064,-0.007282721344382,-0.099879413843155,0.079101435840130,-0.034266863018274,0.032454930245876,-0.054190788418055,0.041498832404613,-0.066913865506649,0.023867405951023,0.024687755852938));
res += mul(Get(s3,0,0), float4x4(-0.014558220282197,-0.016127638518810,-0.042054854333401,0.069967716932297,0.003389535471797,0.032219007611275,-0.011343677528203,-0.041558422148228,0.020693510770798,0.068416051566601,-0.024856504052877,-0.008001610636711,0.022548386827111,0.031511191278696,0.003679014742374,0.021057261154056));
res += mul(Get(s3,0,dy), float4x4(-0.028822710737586,0.023145679384470,-0.074476055800915,0.008047358132899,0.157021284103394,0.109366752207279,-0.149950742721558,0.002102271886542,-0.002670687390491,-0.087240256369114,-0.107169978320599,0.001058229943737,-0.084141604602337,0.034273799508810,0.073466591536999,-0.038560464978218));
res += mul(Get(s3,dx,-dy), float4x4(0.014626758173108,0.022721257060766,0.019042223691940,0.041690185666084,0.013719496317208,0.034749880433083,0.012526878155768,0.075451701879501,0.069243013858795,0.062958963215351,-0.022688310593367,0.095238626003265,-0.058390524238348,-0.006672916002572,-0.044696308672428,0.055430356413126));
res += mul(Get(s3,dx,0), float4x4(-0.072109684348106,0.011700497940183,0.022373544052243,0.032310232520103,0.007553389761597,0.052038814872503,0.032686602324247,0.065076887607574,0.012455360032618,0.116780705749989,-0.034034769982100,0.072883680462837,-0.153794080018997,0.066195666790009,-0.003914224915206,-0.034320857375860));
res += mul(Get(s3,dx,dy), float4x4(-0.028037006035447,-0.003664953401312,-0.041853491216898,0.027586515992880,0.044261701405048,-0.009271526709199,-0.053423494100571,0.012581498362124,-0.096233233809471,0.004065583925694,-0.002389245899394,-0.005530008114874,-0.014260668307543,-0.045119296759367,0.114411324262619,-0.051625739783049));
return max(float4(0,0,0,0), res);
}
