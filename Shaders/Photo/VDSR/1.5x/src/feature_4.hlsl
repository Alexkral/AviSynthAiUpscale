sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.168709382414818,-0.109721861779690,-0.080481775105000,-0.135200828313828) * Get(-dx,-dy);
res += float4(0.032758262008429,-0.353057563304901,-0.021596852689981,0.167783856391907) * Get(-dx,0);
res += float4(-0.102930471301079,-0.207862347364426,-0.036224942654371,0.338614821434021) * Get(-dx,dy);
res += float4(0.190803885459900,0.009274130687118,-0.104370601475239,-0.406625092029572) * Get(0,-dy);
res += float4(0.111969269812107,-0.050330590456724,0.039957992732525,-0.107914425432682) * Get(0,0);
res += float4(-0.116749443113804,-0.033690333366394,0.110686153173447,0.104731835424900) * Get(0,dy);
res += float4(-0.089193798601627,0.160785719752312,-0.089982412755489,-0.121054753661156) * Get(dx,-dy);
res += float4(0.030161371454597,0.253243833780289,0.006646430585533,-0.010581252165139) * Get(dx,0);
res += float4(0.029108213260770,0.138992398977280,0.042487923055887,-0.006315195467323) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
