sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.063207872211933,0.404310852289200,0.081512741744518,0.038002688437700) * Get(-dx,-dy);
res += float4(-0.076550826430321,-0.209654346108437,-0.053313512355089,-0.064120441675186) * Get(-dx,0);
res += float4(0.008845350705087,0.061345726251602,0.074526414275169,-0.127589985728264) * Get(-dx,dy);
res += float4(-0.068626314401627,0.010949764400721,0.285752207040787,-0.022120194509625) * Get(0,-dy);
res += float4(0.139868751168251,0.023146124556661,-0.148749917745590,-0.110728248953819) * Get(0,0);
res += float4(-0.226373076438904,0.026658667251468,-0.081334710121155,-0.239218130707741) * Get(0,dy);
res += float4(0.053172223269939,0.026461126282811,-0.001000888878480,-0.047157809138298) * Get(dx,-dy);
res += float4(0.006521322764456,-0.053174942731857,-0.030738333240151,-0.100024104118347) * Get(dx,0);
res += float4(-0.121202059090137,-0.098398357629776,0.070052869617939,-0.003312246641144) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
