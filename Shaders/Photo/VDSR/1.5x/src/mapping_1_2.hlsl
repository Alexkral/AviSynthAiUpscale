sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.009130249731243,-0.098760232329369,0.058828108012676,0.084281146526337,-0.050981998443604,-0.071919791400433,-0.049000829458237,0.095981515944004,-0.008790697902441,-0.001023139338940,0.007993282750249,-0.175062730908394,0.145877406001091,-0.019030341878533,0.013939368538558,0.111051894724369));
res += mul(Get(s0,-dx,0), float4x4(0.005729137454182,0.147568002343178,-0.005419455468655,0.025911822915077,0.017624365165830,0.000446899648523,-0.027167476713657,0.041250314563513,-0.356646746397018,0.370308667421341,-0.124086029827595,1.053287506103516,0.071955934166908,-0.039316147565842,-0.056910842657089,0.039138086140156));
res += mul(Get(s0,-dx,dy), float4x4(-0.002636396791786,0.037273447960615,-0.078771024942398,0.054095927625895,0.107886746525764,-0.058105859905481,-0.008912386372685,0.135986506938934,-0.098536409437656,-0.240980371832848,-0.002254978986457,-0.156968221068382,-0.015323644503951,-0.057389643043280,-0.013578755781054,0.027146831154823));
res += mul(Get(s0,0,-dy), float4x4(-0.040528126060963,-0.053344123065472,0.025482060387731,0.263829439878464,-0.078820966184139,-0.045377071946859,-0.030462153255939,0.037038255482912,0.103918761014938,0.182845026254654,0.080247782170773,0.010754103772342,0.131538882851601,0.041678812354803,0.001653036335483,0.056151416152716));
res += mul(Get(s0,0,0), float4x4(-0.021766442805529,0.069518759846687,0.031941693276167,-0.004641897976398,0.033314693719149,0.066217087209225,-0.003579559735954,0.097993098199368,-0.129281222820282,-0.506453156471252,-0.149246305227280,-0.350279241800308,0.118063107132912,0.051760431379080,-0.063253529369831,0.090462714433670));
res += mul(Get(s0,0,dy), float4x4(0.060767620801926,-0.006965006235987,0.008598079904914,-0.046698678284883,0.074013516306877,0.055562503635883,-0.033127095550299,0.042781632393599,-0.018228795379400,0.453915506601334,-0.084525182843208,-0.004024988505989,0.041750535368919,-0.067676082253456,0.040159322321415,-0.069395944476128));
res += mul(Get(s0,dx,-dy), float4x4(-0.139878541231155,-0.157229825854301,0.114741779863834,0.025015499442816,-0.026909831911325,0.050250008702278,-0.047248531132936,0.004083010833710,0.001270120381378,0.069992579519749,-0.020412215963006,0.010406329296529,0.070059262216091,0.053075417876244,0.062005203217268,0.017762674018741));
res += mul(Get(s0,dx,0), float4x4(-0.053947869688272,-0.027446413412690,0.100658304989338,-0.031684231013060,0.024390023201704,0.065356954932213,0.053969174623489,-0.025710098445415,0.087970189750195,0.345023393630981,0.587339639663696,-0.143806979060173,0.035189926624298,0.001360473455861,0.015576109290123,-0.012623678892851));
res += mul(Get(s0,dx,dy), float4x4(-0.033997148275375,-0.149011895060539,-0.081914559006691,0.024161037057638,-0.003094429848716,0.060458838939667,-0.041153106838465,-0.063288599252701,0.054378032684326,-0.246784731745720,-0.168010339140892,0.046593662351370,0.017652757465839,-0.038957055658102,-0.074047215282917,0.009307318367064));
res += mul(Get(s1,-dx,-dy), float4x4(0.112001389265060,0.021489463746548,-0.020637869834900,0.065393127501011,0.043560218065977,-0.117783933877945,-0.000264659291133,0.033545650541782,0.050646342337132,-0.004860734567046,0.023827720433474,0.000766144541558,0.018927475437522,0.067194759845734,-0.025685891509056,0.040827859193087));
res += mul(Get(s1,-dx,0), float4x4(0.022537868469954,0.102206461131573,-0.137625962495804,0.003929137252271,0.095104865729809,-0.245567962527275,-0.057511698454618,-0.086429618299007,0.038913983851671,-0.027689015492797,0.013264002278447,-0.018159527331591,-0.039400782436132,0.024071881547570,-0.035173643380404,0.091888152062893));
res += mul(Get(s1,-dx,dy), float4x4(0.007513497956097,-0.037741564214230,-0.019576549530029,0.077439479529858,0.097897879779339,0.020671576261520,-0.062110528349876,0.093830563127995,0.012094435282052,0.001108283642679,-0.007975603453815,-0.011290967464447,-0.026014303788543,0.081060342490673,0.011706312187016,0.077787742018700));
res += mul(Get(s1,0,-dy), float4x4(0.046022884547710,0.080646678805351,0.000303586537484,0.027505395933986,-0.031043658033013,0.276237815618515,0.120823845267296,0.150961220264435,0.067147739231586,0.011073676869273,-0.008547832258046,-0.000233449711232,0.018676370382309,0.069449335336685,-0.088451318442822,-0.036766652017832));
res += mul(Get(s1,0,0), float4x4(-0.016087880358100,0.071075059473515,-0.062236610800028,-0.017473993822932,0.049435649067163,0.357387602329254,0.314729511737823,0.042559031397104,0.071998029947281,0.062649860978127,0.012088738381863,0.030953396111727,-0.008163075894117,0.036150895059109,0.001836716663092,-0.044985592365265));
res += mul(Get(s1,0,dy), float4x4(-0.003007968422025,-0.073205858469009,-0.028877187520266,0.088587380945683,0.006178013049066,0.149782255291939,-0.062189236283302,0.057434182614088,0.031868431717157,0.015033762902021,0.017485082149506,0.015452794730663,-0.011648058891296,-0.057375241070986,-0.034053090959787,0.027550682425499));
res += mul(Get(s1,dx,-dy), float4x4(-0.005793810356408,-0.013606459833682,0.041538339108229,0.062144692987204,-0.002086469903588,-0.189018607139587,-0.046227332204580,-0.072986856102943,0.038577489554882,-0.004378120880574,0.009864716790617,-0.035964868962765,-0.006210705265403,-0.013949460349977,0.027990572154522,-0.052328169345856));
res += mul(Get(s1,dx,0), float4x4(-0.003048848593608,0.042014714330435,-0.019261140376329,-0.042019665241241,-0.036609839648008,-0.203733488917351,0.062252551317215,0.055987816303968,0.036947876214981,0.019414255395532,0.001866557984613,-0.032040800899267,-0.007071860134602,0.002661058446392,0.081428728997707,-0.003217101097107));
res += mul(Get(s1,dx,dy), float4x4(0.005598825868219,0.006375083699822,0.019495764747262,-0.090654477477074,-0.090037889778614,-0.058821160346270,-0.024425266310573,0.007956075482070,0.004941950552166,0.024846019223332,0.008662326261401,0.024484589695930,-0.007840037345886,-0.036405634135008,0.052450340241194,-0.050928909331560));
res += mul(Get(s2,-dx,-dy), float4x4(-0.000644237268716,-0.053582504391670,-0.002788978861645,0.050296332687140,-0.079949572682381,-0.093508914113045,-0.016871038824320,0.347183763980865,0.050702203065157,0.029263982549310,-0.003477247664705,0.020784221589565,0.186189010739326,0.005346490070224,-0.005576139781624,-0.055044040083885));
res += mul(Get(s2,-dx,0), float4x4(0.010886530391872,0.008087201043963,0.001986951800063,-0.031929347664118,0.110972516238689,0.029353288933635,-0.089287973940372,-0.224775239825249,-0.005301544908434,-0.023130368441343,-0.060969039797783,-0.029448261484504,0.000998786650598,0.006690748501569,-0.044362340122461,0.102788887917995));
res += mul(Get(s2,-dx,dy), float4x4(0.039890203624964,-0.034942258149385,0.015978552401066,-0.052727539092302,-0.165183708071709,-0.007048500236124,-0.039917916059494,0.411762624979019,-0.011110318824649,-0.046038761734962,-0.060345109552145,0.170537889003754,0.000158524984727,0.019719313830137,-0.041028454899788,-0.002216666238382));
res += mul(Get(s2,0,-dy), float4x4(-0.013771614059806,0.018973799422383,0.012970535084605,0.005905803292990,0.042288683354855,-0.040000550448895,-0.020810166373849,-0.262455105781555,0.042991358786821,0.012158715166152,-0.025803953409195,0.008296889252961,0.001720166765153,0.238135248422623,-0.025724118575454,-0.004739708732814));
res += mul(Get(s2,0,0), float4x4(0.009978860616684,0.032646596431732,0.001727167167701,0.046727523207664,0.143405884504318,0.448037058115005,-0.142733633518219,-0.003769035451114,0.022166337817907,0.122033096849918,0.010414269752800,-0.042747694998980,-0.051161199808121,0.084561683237553,0.020870648324490,0.168999299407005));
res += mul(Get(s2,0,dy), float4x4(0.006402182858437,0.086516164243221,-0.047739893198013,-0.015427215024829,-0.076155178248882,-0.344613581895828,0.069557569921017,-0.087927863001823,0.018308553844690,-0.126534268260002,0.051372725516558,0.032432224601507,-0.007130123209208,0.043053794652224,-0.017625054344535,-0.023302186280489));
res += mul(Get(s2,dx,-dy), float4x4(-0.002623402047902,-0.020571278408170,-0.003140856744722,-0.024900265038013,0.135276332497597,-0.000779800640885,0.365004181861877,0.013779353350401,0.027825567871332,-0.008556139655411,0.015777688473463,-0.018755739554763,-0.042926620692015,-0.071134485304356,-0.102972827851772,-0.082309007644653));
res += mul(Get(s2,dx,0), float4x4(0.005674790591002,0.005636330228299,-0.005822589620948,-0.029288835823536,0.069749258458614,0.057728160172701,-0.206357046961784,-0.009772807359695,0.012435155920684,0.110745951533318,0.015980834141374,-0.081132926046848,-0.042975775897503,-0.030464086681604,0.159110665321350,-0.059623487293720));
res += mul(Get(s2,dx,dy), float4x4(-0.001603886135854,0.016702035441995,-0.036394633352757,-0.020817680284381,-0.015487774275243,0.086811773478985,0.284225881099701,-0.029900440946221,0.021642897278070,0.035470198839903,0.000107294996269,0.008393195457757,0.004639754537493,-0.085613653063774,0.019285080954432,0.016474764794111));
res += mul(Get(s3,-dx,-dy), float4x4(0.061550065875053,-0.025070235133171,-0.019891904667020,-0.054031357169151,0.058763910084963,-0.019225396215916,-0.004128328524530,-0.007949158549309,-0.004612518008798,-0.024548390880227,0.009704680182040,0.068938158452511,0.009861625730991,0.006191175431013,0.012842781841755,-0.054151281714439));
res += mul(Get(s3,-dx,0), float4x4(0.011354907415807,0.020961882546544,-0.008623966947198,-0.038054406642914,0.042147148400545,-0.047575112432241,-0.023058490827680,0.026966238394380,0.005730205215514,0.006563293747604,-0.007558442186564,-0.008859961293638,0.020305711776018,-0.008707647211850,-0.046228773891926,0.098768703639507));
res += mul(Get(s3,-dx,dy), float4x4(-0.024744180962443,-0.007625133730471,0.004185118712485,0.112949118018150,0.021534953266382,0.027449768036604,-0.022324072197080,-0.041937999427319,0.024084713310003,-0.040177501738071,-0.009070569649339,0.013444266282022,0.038646388798952,0.028760051354766,-0.015669327229261,0.203718215227127));
res += mul(Get(s3,0,-dy), float4x4(0.058145947754383,0.107357762753963,-0.019051466137171,-0.042712852358818,0.036613836884499,0.031544163823128,-0.053878650069237,0.046276930719614,-0.009348895400763,-0.014040317386389,0.032589197158813,-0.006697619333863,-0.010997339151800,0.043843384832144,-0.015250634402037,-0.001605707569979));
res += mul(Get(s3,0,0), float4x4(0.019900875166059,0.102742739021778,-0.008015139028430,0.049602784216404,0.102554418146610,0.030891185626388,0.002054874785244,0.214424490928650,0.011291995644569,0.046465389430523,-0.004622275941074,-0.030844554305077,-0.001529361354187,0.172314912080765,0.009030981920660,-0.085527561604977));
res += mul(Get(s3,0,dy), float4x4(-0.011699320748448,-0.051131796091795,0.007736388128251,0.009171965532005,0.011402457021177,-0.012400159612298,-0.025794183835387,0.048084795475006,0.010212170891464,0.015938447788358,-0.010690023191273,0.003071536542848,0.039507836103439,0.100638523697853,-0.028102429583669,0.042029626667500));
res += mul(Get(s3,dx,-dy), float4x4(0.025205856189132,-0.013858135789633,0.013570700772107,-0.004881520289928,0.061827350407839,0.061295300722122,0.037165824323893,-0.044854417443275,-0.000914508942515,0.004711917601526,0.044752236455679,-0.029454462230206,-0.015410578809679,0.034881945699453,0.050234906375408,-0.096049062907696));
res += mul(Get(s3,dx,0), float4x4(-0.005402050912380,0.003262964310125,-0.002958104712889,0.004828514531255,0.063847981393337,0.066848061978817,-0.006862106733024,-0.021048130467534,0.001623462769203,0.025764867663383,0.007588167674839,-0.030109809711576,0.009034169837832,0.093011327087879,-0.012148667126894,-0.129732832312584));
res += mul(Get(s3,dx,dy), float4x4(0.015515893697739,0.027774563059211,0.034980192780495,-0.007973841391504,0.019470522180200,0.028098989278078,0.018025396391749,-0.005970157682896,0.000874931691214,0.024346141144633,0.004098423756659,0.000045193362894,-0.013140275143087,0.058834295719862,0.062163155525923,-0.052452493458986));
return max(float4(0,0,0,0), res);
}
