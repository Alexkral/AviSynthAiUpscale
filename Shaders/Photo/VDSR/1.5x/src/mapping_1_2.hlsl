sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.075847931206226,-0.062395092099905,0.031257607042789,-0.005101670976728,0.037343498319387,0.117475189268589,0.003653503954411,0.017838917672634,0.236806809902191,-0.056374676525593,0.075537830591202,-0.191648170351982,0.234766304492950,-0.012212679721415,-0.079559370875359,-0.125210165977478));
res += mul(Get(s0,-dx,0), float4x4(0.116607256233692,-0.003298982046545,-0.147783592343330,0.017674257978797,-0.017078999429941,-0.127373486757278,-0.011637981981039,-0.123776391148567,-0.094635009765625,-0.136266723275185,0.094320431351662,-0.039648577570915,0.035169363021851,0.070082113146782,-0.034045327454805,-0.163699254393578));
res += mul(Get(s0,-dx,dy), float4x4(0.005662334151566,0.013090575113893,-0.317019224166870,-0.214757248759270,-0.053591012954712,-0.077736340463161,-0.052004821598530,-0.092388339340687,-0.097320191562176,-0.092455051839352,0.124519564211369,-0.096722722053528,-0.021412847563624,0.057886067777872,0.130868166685104,0.094978772103786));
res += mul(Get(s0,0,-dy), float4x4(-0.158018097281456,-0.061724267899990,-0.134280771017075,0.044642429798841,0.088182590901852,-0.029993688687682,0.177235826849937,0.063480079174042,0.079872615635395,0.187884896993637,-0.154067412018776,-0.180406972765923,0.077584482729435,0.037761203944683,-0.107675820589066,0.126748412847519));
res += mul(Get(s0,0,0), float4x4(-0.078770913183689,0.062299434095621,-0.139089331030846,-0.020667754113674,-0.067202314734459,0.121074408292770,-0.062139697372913,0.170284911990166,-0.026638135313988,0.124537564814091,0.081122726202011,0.016983052715659,-0.161183401942253,-0.041962895542383,-0.029056603088975,-0.002138227457181));
res += mul(Get(s0,0,dy), float4x4(0.058063142001629,0.030142212286592,-0.023912671953440,0.053746141493320,-0.020217902958393,0.039132829755545,-0.024973947554827,-0.039567977190018,-0.066952876746655,0.045571692287922,-0.078660011291504,0.041048340499401,-0.039354737848043,0.060896784067154,0.011532291769981,-0.151481941342354));
res += mul(Get(s0,dx,-dy), float4x4(0.064732722938061,-0.032654888927937,-0.041833791881800,0.059680201113224,-0.104765035212040,-0.019032193347812,0.096074104309082,0.009568070992827,0.004406671971083,0.036919131875038,-0.127447187900543,-0.186652064323425,-0.111663140356541,0.012833822518587,0.044429417699575,0.160964831709862));
res += mul(Get(s0,dx,0), float4x4(0.087616547942162,-0.061500128358603,0.014748074114323,-0.087408870458603,-0.118067026138306,0.026536568999290,-0.046719223260880,-0.234774887561798,-0.102318614721298,-0.078457392752171,-0.045238088816404,-0.051443729549646,-0.102761849761009,0.069970086216927,-0.064883433282375,-0.127004027366638));
res += mul(Get(s0,dx,dy), float4x4(-0.094758234918118,-0.108305774629116,-0.012720860540867,0.000361093407264,-0.154781192541122,-0.024390447884798,-0.306759059429169,0.083110183477402,0.064247481524944,-0.033316474407911,-0.039887078106403,0.051967747509480,0.115455999970436,-0.092092543840408,0.109155006706715,-0.067301191389561));
res += mul(Get(s1,-dx,-dy), float4x4(-0.027684856206179,0.002721002791077,-0.015164428390563,-0.016243547201157,-0.011694204062223,0.038918033242226,-0.153958797454834,-0.042104363441467,-0.028676539659500,0.072058036923409,0.099420048296452,-0.009410338476300,-0.091372840106487,-0.059575635939837,-0.091475635766983,-0.032880581915379));
res += mul(Get(s1,-dx,0), float4x4(0.151571348309517,0.022053455933928,0.009675009176135,-0.133997067809105,-0.112319611012936,-0.103917650878429,-0.196590349078178,-0.147210076451302,0.215582907199860,0.124829635024071,-0.037884049117565,-0.002606560708955,0.012501421384513,0.004381197504699,-0.059183798730373,0.000727415084839));
res += mul(Get(s1,-dx,dy), float4x4(-0.059087019413710,-0.048337262123823,0.129050910472870,0.001848740619607,0.091467320919037,-0.139887034893036,0.056229729205370,0.052326194941998,0.093361563980579,0.031933896243572,0.099677741527557,-0.060400597751141,0.130998626351357,0.112389124929905,-0.031894776970148,-0.033437356352806));
res += mul(Get(s1,0,-dy), float4x4(0.031141269952059,0.081293784081936,-0.087141960859299,0.034569874405861,-0.107460066676140,-0.058690488338470,-0.070711761713028,-0.136788278818130,-0.052129812538624,-0.175388231873512,0.093800924718380,-0.052645906805992,-0.014951414428651,-0.118101149797440,0.125721678137779,0.086821720004082));
res += mul(Get(s1,0,0), float4x4(0.002921114210039,-0.116633631289005,0.040962021797895,-0.037890460342169,0.112396217882633,-0.049992643296719,-0.059515561908484,-0.124882377684116,-0.156831353902817,-0.133952245116234,0.111437603831291,-0.034878555685282,0.060788370668888,-0.279859095811844,-0.117470815777779,-0.068349681794643));
res += mul(Get(s1,0,dy), float4x4(-0.039721697568893,-0.102207936346531,-0.020570749416947,-0.042537145316601,0.112213887274265,0.053636368364096,-0.130204111337662,0.021361814811826,-0.021309720352292,0.062993630766869,-0.070652462542057,0.022608533501625,-0.025173958390951,0.023605916649103,0.108337163925171,0.003902333322912));
res += mul(Get(s1,dx,-dy), float4x4(-0.098935462534428,0.249756366014481,0.001534413779154,0.134567305445671,-0.036169968545437,0.087034605443478,-0.147211626172066,0.204436719417572,0.057995483279228,0.167745187878609,0.030379114672542,-0.005987809970975,-0.022846626117826,-0.086414225399494,-0.028544450178742,0.067640349268913));
res += mul(Get(s1,dx,0), float4x4(0.052305888384581,0.061150029301643,-0.101039558649063,-0.081727497279644,-0.098732642829418,-0.110323317348957,0.095205470919609,-0.032504096627235,-0.032788369804621,-0.037238921970129,-0.095783740282059,0.130487427115440,-0.095176130533218,-0.047267589718103,-0.079935237765312,0.001092567807063));
res += mul(Get(s1,dx,dy), float4x4(0.081256225705147,-0.031401284039021,0.123370692133904,0.138797640800476,0.024408295750618,0.069800920784473,-0.153243154287338,0.027433604001999,-0.083539858460426,0.140710785984993,-0.065328158438206,0.114147633314133,-0.093409806489944,0.028978025540709,0.021694555878639,-0.157096430659294));
res += mul(Get(s2,-dx,-dy), float4x4(-0.297624379396439,-0.016513578593731,0.065247774124146,0.065154142677784,0.010734304785728,-0.086300611495972,-0.036927200853825,0.109301880002022,-0.000623826519586,-0.009867039509118,0.135480627417564,-0.062707692384720,-0.129277676343918,-0.224017396569252,-0.113485299050808,-0.012262907810509));
res += mul(Get(s2,-dx,0), float4x4(0.101533062756062,0.055936176329851,0.065388999879360,-0.057412389665842,-0.144092425704002,-0.194369107484818,-0.059374637901783,-0.112127006053925,0.155718430876732,-0.030630266293883,-0.120629325509071,-0.092801667749882,-0.030477192252874,-0.188383817672729,0.011758646927774,-0.094126611948013));
res += mul(Get(s2,-dx,dy), float4x4(-0.015021027065814,0.046865608543158,0.134133562445641,-0.013986020348966,-0.256927341222763,-0.004079028032720,0.095856092870235,-0.001375215128064,0.112549088895321,0.001697977422737,0.035182952880859,-0.020725963637233,-0.186452299356461,0.084011822938919,-0.093899585306644,0.195650607347488));
res += mul(Get(s2,0,-dy), float4x4(-0.065237142145634,-0.102338932454586,-0.014396287500858,0.174166902899742,-0.003659993875772,-0.041872657835484,0.094942420721054,0.127318933606148,0.053419612348080,0.019509432837367,-0.020619632676244,-0.076741620898247,0.073968097567558,0.072940595448017,-0.067017219960690,-0.038553431630135));
res += mul(Get(s2,0,0), float4x4(-0.037647090852261,-0.024495733901858,0.055795103311539,0.063673168420792,-0.077260211110115,-0.099098064005375,-0.013772341422737,0.031276125460863,-0.127504125237465,0.199804171919823,0.066334240138531,0.104330763220787,-0.098618954420090,0.085913144052029,-0.078824199736118,-0.010863245464861));
res += mul(Get(s2,0,dy), float4x4(-0.136278614401817,-0.119058080017567,0.060741350054741,-0.050774473696947,-0.081530429422855,0.188187658786774,0.074106395244598,-0.235023617744446,-0.087942667305470,-0.038520041853189,-0.041005861014128,-0.209485933184624,-0.068677887320518,-0.085479572415352,-0.027479339390993,0.024992801249027));
res += mul(Get(s2,dx,-dy), float4x4(0.077147923409939,-0.001114018727094,-0.030042201280594,-0.001819372759201,0.008306732401252,0.005162930116057,0.092757940292358,-0.085632324218750,-0.191348820924759,0.029611738398671,0.066961623728275,-0.113729856908321,-0.066759489476681,0.132813364267349,-0.033530320972204,0.008681694045663));
res += mul(Get(s2,dx,0), float4x4(0.032197464257479,-0.048296857625246,0.076231345534325,0.131167292594910,0.000495417625643,-0.152893140912056,-0.001564139383845,0.001545207458548,-0.068062044680119,-0.026836777105927,0.030186358839273,0.022007213905454,-0.046412561088800,0.030003482475877,-0.211682543158531,0.030542539432645));
res += mul(Get(s2,dx,dy), float4x4(0.146671876311302,0.039162639528513,-0.244911342859268,0.002163284458220,0.208235785365105,0.101449675858021,-0.046287693083286,0.113437987864017,-0.010532398708165,-0.077633850276470,0.096674688160419,0.049916923046112,-0.048352964222431,0.031175278127193,-0.073104456067085,-0.208893865346909));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024339113384485,-0.122997358441353,0.136721134185791,0.072019472718239,0.045069277286530,0.074221834540367,0.107970431447029,0.122560381889343,0.030646929517388,0.137966975569725,-0.059238366782665,-0.131328821182251,0.059146508574486,-0.025342062115669,-0.159020364284515,-0.087869852781296));
res += mul(Get(s3,-dx,0), float4x4(0.023660199716687,-0.141696646809578,0.064749114215374,0.042371544986963,0.124171137809753,-0.013786319643259,-0.094534955918789,-0.036540087312460,-0.104540243744850,0.055084940046072,0.002171495463699,-0.218851581215858,-0.013702632859349,0.001819981611334,-0.191664069890976,-0.006218954455107));
res += mul(Get(s3,-dx,dy), float4x4(0.001764340908267,-0.044190499931574,0.291526049375534,0.096126608550549,-0.144274666905403,-0.046846419572830,0.056435696780682,0.118038780987263,0.082155533134937,-0.126106768846512,-0.005686757620424,0.020164353772998,0.133550077676773,-0.014872912317514,-0.048508666455746,0.094955004751682));
res += mul(Get(s3,0,-dy), float4x4(-0.040983472019434,-0.054822433739901,0.074025161564350,-0.002734833629802,-0.086803399026394,-0.039674237370491,-0.110349833965302,0.106750637292862,0.025163765996695,0.108306355774403,-0.005676897242665,-0.029873955994844,-0.104759812355042,-0.079020410776138,-0.142299100756645,0.054558362811804));
res += mul(Get(s3,0,0), float4x4(-0.078286662697792,0.058063916862011,0.082428783178329,-0.066848687827587,-0.016601718962193,-0.098270826041698,0.008642421104014,-0.031852070242167,0.026821926236153,-0.159318774938583,0.049066223204136,0.107566192746162,-0.060645550489426,-0.157625481486320,-0.052955627441406,-0.055643647909164));
res += mul(Get(s3,0,dy), float4x4(0.100815556943417,-0.202867344021797,-0.203587561845779,0.049803413450718,-0.107854925096035,0.034497953951359,0.094936050474644,-0.056697372347116,-0.067188344895840,0.009549724869430,-0.024443410336971,-0.038768719881773,0.133659392595291,-0.019645098596811,-0.026937892660499,-0.152612462639809));
res += mul(Get(s3,dx,-dy), float4x4(-0.224223598837852,0.094132311642170,-0.052454765886068,-0.034104775637388,-0.030008202418685,0.054744359105825,-0.118460185825825,0.059033315628767,-0.106145910918713,-0.149621769785881,-0.137767598032951,0.027344888076186,-0.011058701202273,-0.181471794843674,-0.049332100898027,0.044918067753315));
res += mul(Get(s3,dx,0), float4x4(-0.127368241548538,0.123385630548000,-0.123478613793850,0.035726964473724,0.120691947638988,0.089455343782902,-0.054006312042475,-0.039576381444931,-0.068042434751987,0.045344781130552,0.118980728089809,0.003550958586857,0.205074474215508,0.209901392459869,-0.017059551551938,-0.065232262015343));
res += mul(Get(s3,dx,dy), float4x4(0.105510562658310,0.156962811946869,0.081926807761192,-0.019017165526748,0.163731724023819,-0.090451233088970,0.043828565627337,0.063157223165035,-0.094966471195221,0.116387471556664,-0.064607881009579,0.019001398235559,-0.029798319563270,-0.188693404197693,-0.172698631882668,-0.037980820983648));
return max(float4(0,0,0,0), res);
}
