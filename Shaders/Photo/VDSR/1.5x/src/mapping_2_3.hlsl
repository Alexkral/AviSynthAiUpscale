sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.195205375552177,0.182446986436844,-0.108226031064987,-0.037819236516953,-0.028152169659734,0.071342118084431,0.131638392806053,-0.102272279560566,-0.175676062703133,0.004371840506792,0.011866216547787,0.022628121078014,0.079471573233604,-0.038568623363972,0.037010814994574,-0.187126904726028));
res += mul(Get(s0,-dx,0), float4x4(-0.009965371340513,-0.022369896993041,0.020620234310627,0.148564711213112,0.105438984930515,0.041654903441668,0.083356030285358,0.158167093992233,-0.018503589555621,-0.163808673620224,-0.015297561883926,-0.076765857636929,-0.078773505985737,-0.028447948396206,0.083077497780323,0.088675975799561));
res += mul(Get(s0,-dx,dy), float4x4(0.041200984269381,-0.130591735243797,0.010975808836520,-0.055447589606047,0.008900472894311,0.087413176894188,0.087812632322311,0.023863378912210,0.065640978515148,-0.169748380780220,0.189152404665947,-0.107115797698498,-0.082943052053452,-0.138352170586586,0.080983877182007,0.005796539131552));
res += mul(Get(s0,0,-dy), float4x4(0.143046498298645,-0.139250919222832,0.089623123407364,0.090209193527699,0.047291297465563,-0.032684776932001,-0.041004288941622,0.071880497038364,-0.068901941180229,-0.002358040306717,-0.161809608340263,0.024912375956774,0.104954823851585,0.137437433004379,0.042333412915468,-0.116539053618908));
res += mul(Get(s0,0,0), float4x4(-0.142960548400879,-0.060092665255070,-0.126391291618347,-0.045962754637003,-0.041912224143744,0.023474980145693,-0.065025530755520,-0.027604591101408,-0.056439921259880,0.041372731328011,0.062998451292515,0.108218759298325,-0.072121962904930,-0.003820317564532,-0.018516041338444,-0.100683033466339));
res += mul(Get(s0,0,dy), float4x4(-0.041517809033394,0.080668956041336,0.027270412072539,-0.102661103010178,-0.000541137706023,-0.053559828549623,-0.065796628594398,-0.078707896173000,-0.003470639465377,0.198413774371147,-0.122550286352634,-0.169063195586205,-0.050286002457142,-0.068805217742920,0.029054004698992,0.010826553218067));
res += mul(Get(s0,dx,-dy), float4x4(-0.066943466663361,-0.030584592372179,-0.027417626231909,-0.101382367312908,0.105569630861282,0.103658288717270,-0.028210667893291,-0.121372438967228,-0.020218612626195,-0.005553169641644,-0.089230164885521,0.072826743125916,0.112369120121002,-0.014953051693738,-0.126666262745857,0.103961646556854));
res += mul(Get(s0,dx,0), float4x4(-0.079729102551937,-0.013664313592017,-0.034815479069948,-0.087806783616543,-0.067006386816502,-0.014774632640183,0.047283872961998,0.039444521069527,0.182914376258850,0.135225713253021,-0.005659346003085,0.193722680211067,0.017823655158281,0.016832320019603,-0.002940786303952,-0.075356744229794));
res += mul(Get(s0,dx,dy), float4x4(-0.081174679100513,0.052770443260670,-0.018179474398494,-0.107161276042461,-0.050168719142675,-0.046312328428030,0.004174693953246,-0.009175028651953,0.096492320299149,0.033193908631802,-0.064979165792465,-0.033685863018036,-0.012695416808128,0.186208680272102,-0.018385441973805,0.024093884974718));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015030068345368,0.039039932191372,-0.082845367491245,-0.020983621478081,-0.081403769552708,-0.026894917711616,-0.109083026647568,-0.045972201973200,0.195967003703117,0.056036394089460,-0.022144680842757,0.024740060791373,0.142612174153328,-0.003006474114954,0.018338821828365,-0.000959381111898));
res += mul(Get(s1,-dx,0), float4x4(-0.054464630782604,0.050218068063259,0.115897737443447,-0.021854113787413,-0.113413803279400,0.167210623621941,0.007232530042529,0.213349118828773,0.037682447582483,-0.068788424134254,0.011438352987170,-0.116827450692654,0.079824231564999,0.029979171231389,0.051070906221867,-0.056747552007437));
res += mul(Get(s1,-dx,dy), float4x4(0.002792530693114,0.152216732501984,-0.076772615313530,-0.108876250684261,-0.133296012878418,0.068272747099400,-0.014134278520942,-0.100966446101665,-0.038134086877108,0.085305869579315,0.135041460394859,0.077359601855278,0.005783514119685,0.070867873728275,-0.108658410608768,-0.012052811682224));
res += mul(Get(s1,0,-dy), float4x4(0.103511013090611,-0.026978358626366,-0.185704708099365,0.020258923992515,0.108442619442940,0.110230542719364,0.048672497272491,-0.014887379482388,-0.003884016536176,0.074918650090694,0.049186281859875,-0.007750697433949,-0.008708909153938,-0.107019402086735,-0.021565498784184,0.050306916236877));
res += mul(Get(s1,0,0), float4x4(-0.076765060424805,-0.147426947951317,-0.071552917361259,0.024397829547524,-0.142595380544662,0.078716225922108,0.030245142057538,-0.033296599984169,0.006505448836833,-0.050269167870283,0.044482134282589,0.064697228372097,0.097261816263199,-0.048160057514906,-0.050412323325872,-0.145464405417442));
res += mul(Get(s1,0,dy), float4x4(0.013091795146465,0.083962678909302,-0.108901754021645,0.001534477225505,-0.049001418054104,0.092217810451984,0.066438712179661,-0.090856008231640,-0.022263541817665,-0.089197494089603,0.140631437301636,0.022521356120706,-0.130066767334938,0.097203873097897,0.066464394330978,-0.064441412687302));
res += mul(Get(s1,dx,-dy), float4x4(-0.203740388154984,-0.238259270787239,-0.062572143971920,-0.003910338971764,0.195851996541023,-0.038615122437477,0.020775958895683,0.045685261487961,0.037197951227427,-0.052789174020290,-0.068011187016964,-0.007732824888080,-0.008587448857725,0.048271328210831,0.096591092646122,-0.053357079625130));
res += mul(Get(s1,dx,0), float4x4(0.057376999408007,-0.082392089068890,0.020004225894809,0.013389969244599,0.072044633328915,-0.001487900502980,0.054102674126625,0.079905755817890,-0.072068810462952,-0.023584838956594,0.064134344458580,0.133604079484940,-0.180186033248901,-0.079021967947483,-0.029085965827107,0.262954264879227));
res += mul(Get(s1,dx,dy), float4x4(-0.048457399010658,-0.070690162479877,-0.062353704124689,0.077271498739719,-0.187643185257912,-0.037829026579857,0.054852154105902,0.047208450734615,0.182931736111641,0.004074406810105,-0.056543704122305,0.153030261397362,-0.123649030923843,-0.184054240584373,0.039605978876352,-0.033790197223425));
res += mul(Get(s2,-dx,-dy), float4x4(0.031526349484921,0.026786215603352,0.026967460289598,-0.114711478352547,0.119353786110878,0.043349262326956,-0.011770314536989,0.037281341850758,0.026737559586763,-0.055408537387848,0.000848019553814,-0.071260161697865,-0.172414571046829,0.111264467239380,-0.183329164981842,-0.110960744321346));
res += mul(Get(s2,-dx,0), float4x4(0.004073411226273,-0.020749762654305,0.073817804455757,-0.157962560653687,0.149661019444466,0.144952878355980,-0.128673940896988,-0.047959987074137,0.134335875511169,0.019735869020224,-0.028886567801237,-0.026869321241975,-0.075890295207500,0.005350301507860,-0.040262922644615,-0.042732737958431));
res += mul(Get(s2,-dx,dy), float4x4(-0.023361941799521,-0.062957882881165,-0.083963759243488,-0.138926088809967,-0.050197672098875,-0.067350067198277,0.117537409067154,-0.041778203099966,-0.106378942728043,-0.114011444151402,-0.124851770699024,-0.001447524642572,-0.046705778688192,-0.173769384622574,0.117264509201050,-0.216165319085121));
res += mul(Get(s2,0,-dy), float4x4(0.061721503734589,-0.026555486023426,0.181249499320984,-0.102153651416302,-0.337857574224472,0.084792695939541,-0.104661814868450,-0.038306985050440,0.162948116660118,-0.194763019680977,0.173685520887375,-0.026532977819443,-0.000490338308737,0.168188467621803,-0.037381239235401,-0.247808828949928));
res += mul(Get(s2,0,0), float4x4(-0.149373665452003,0.203652426600456,0.121871784329414,0.005957568995655,0.050628941506147,0.146572455763817,0.324888378381729,0.083340413868427,0.121992960572243,-0.116088464856148,-0.098344624042511,-0.041065469384193,0.084253646433353,0.017486888915300,-0.098101139068604,0.085099674761295));
res += mul(Get(s2,0,dy), float4x4(-0.037753198295832,0.153630405664444,-0.037001412361860,-0.144348204135895,0.058141108602285,-0.140840172767639,0.001978556392714,0.099875807762146,-0.032573264092207,-0.098798118531704,-0.151050940155983,0.064113594591618,-0.026030525565147,-0.009583630599082,0.082875944674015,-0.004366359207779));
res += mul(Get(s2,dx,-dy), float4x4(-0.171889707446098,-0.202320247888565,0.000417393544922,0.085621856153011,-0.180376738309860,0.111211121082306,0.247164025902748,0.014870252460241,0.028698315843940,0.109195657074451,0.009382029064000,-0.003457637736574,-0.024839488789439,-0.087153106927872,-0.012718967162073,-0.173531875014305));
res += mul(Get(s2,dx,0), float4x4(0.007936537265778,0.196979478001595,0.109973996877670,-0.056710246950388,0.022311134263873,0.001138929044828,0.046163599938154,0.163617089390755,-0.087342873215675,0.069515191018581,-0.098630160093307,-0.203804358839989,0.069420635700226,0.066790200769901,0.210668921470642,0.069905467331409));
res += mul(Get(s2,dx,dy), float4x4(0.232060939073563,-0.003220014739782,-0.126487687230110,0.007627936080098,0.030444707721472,-0.094115361571312,0.079480558633804,0.008970903232694,0.017415644600987,0.039295893162489,0.255884647369385,-0.076977320015430,0.122230120003223,0.003772846888751,-0.144877180457115,0.147726565599442));
res += mul(Get(s3,-dx,-dy), float4x4(0.049380131065845,0.040808655321598,0.125162422657013,0.240898162126541,-0.002925493055955,-0.030711507424712,-0.068774387240410,0.090997390449047,0.008068765513599,0.029683753848076,-0.225011095404625,-0.155228838324547,-0.010018128901720,0.037366636097431,-0.033084347844124,-0.043000172823668));
res += mul(Get(s3,-dx,0), float4x4(0.135538429021835,0.181185573339462,0.049685779958963,0.001170876668766,-0.053637787699699,0.058629229664803,-0.022856222465634,-0.059332840144634,0.081403866410255,0.170762374997139,0.115479320287704,0.015050056390464,0.081916011869907,0.046634849160910,0.047783914953470,0.018328517675400));
res += mul(Get(s3,-dx,dy), float4x4(0.131469860672951,0.040915075689554,-0.292397677898407,0.032967280596495,-0.039419490844011,-0.082614935934544,0.049479667097330,0.052377246320248,-0.031704477965832,0.178697004914284,-0.126571401953697,0.067212060093880,0.171813935041428,0.001489864080213,-0.035996247082949,0.073604837059975));
res += mul(Get(s3,0,-dy), float4x4(-0.084287956357002,0.017956409603357,0.013250457122922,-0.108900651335716,-0.189773842692375,-0.037084929645061,0.029752826318145,-0.056940097361803,-0.031935650855303,0.052815385162830,-0.134828209877014,-0.102387607097626,0.011486419476569,-0.048702839761972,0.171198412775993,0.128222435712814));
res += mul(Get(s3,0,0), float4x4(-0.065475076436996,0.100224427878857,-0.048706855624914,-0.062824867665768,-0.121667385101318,-0.046289928257465,0.059282876551151,0.035933788865805,0.038957193493843,-0.097375176846981,-0.069531522691250,-0.015197973698378,-0.096024788916111,-0.034825239330530,-0.033797331154346,-0.042034931480885));
res += mul(Get(s3,0,dy), float4x4(0.053393896669149,-0.207678586244583,-0.101725861430168,-0.137460723519325,-0.008827793411911,0.288137853145599,0.144859448075294,0.039886657148600,0.053858987987041,-0.081555970013142,0.031692184507847,0.049411956220865,0.120252251625061,-0.110690094530582,-0.044830296188593,-0.084507338702679));
res += mul(Get(s3,dx,-dy), float4x4(-0.150289386510849,-0.001133921905421,0.022616745904088,-0.018603073433042,-0.010418091900647,-0.148793369531631,-0.142891615629196,0.085210904479027,0.034488439559937,-0.031348910182714,0.084509968757629,0.086556360125542,-0.003540644655004,0.008872185833752,0.156581535935402,-0.022932143881917));
res += mul(Get(s3,dx,0), float4x4(0.133059784770012,0.001986931543797,-0.032493658363819,-0.063868507742882,0.072011917829514,0.228850141167641,0.024716371670365,-0.163744390010834,-0.056540850549936,0.005056248977780,-0.001515314797871,-0.132202163338661,0.032063025981188,0.094964109361172,0.061126928776503,0.000253299862379));
res += mul(Get(s3,dx,dy), float4x4(0.124516054987907,-0.010719194076955,-0.076658330857754,-0.159292489290237,0.160418853163719,-0.114933773875237,-0.220867112278938,0.029349187389016,-0.179434105753899,-0.004316407255828,-0.000454333814560,-0.056717313826084,0.090777575969696,0.014074834994972,-0.015591561794281,-0.086454704403877));
return max(float4(0,0,0,0), res);
}
