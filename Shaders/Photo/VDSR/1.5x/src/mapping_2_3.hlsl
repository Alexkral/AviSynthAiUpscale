sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.014437843114138,-0.027422741055489,-0.000734440574888,0.007325863931328,-0.214744567871094,0.103110603988171,-0.077087849378586,0.064737111330032,-0.005125321447849,0.142255738377571,-0.006457202136517,-0.011532657779753,0.085678264498711,0.062138415873051,-0.002110767876729,-0.007524355314672));
res += mul(Get(s0,-dx,0), float4x4(-0.015632139518857,-0.044724244624376,-0.003974605351686,-0.047020152211189,0.005295474547893,0.237242311239243,0.005172948352993,-0.008785900659859,0.023367727175355,0.074140213429928,0.007244179956615,0.007286496926099,-0.066350221633911,-0.012707978487015,-0.062033746391535,0.026866849511862));
res += mul(Get(s0,-dx,dy), float4x4(0.011151890270412,0.046607885509729,0.019094439223409,0.042352527379990,0.009996076114476,0.019091689959168,0.017215110361576,-0.045196909457445,0.033674359321594,0.023919068276882,0.004169024992734,0.008333744481206,0.001251976005733,0.039221096783876,-0.046320371329784,0.004830481484532));
res += mul(Get(s0,0,-dy), float4x4(0.012972070835531,0.029414661228657,-0.019999194890261,0.024903560057282,-0.198701664805412,-0.049780856817961,-0.026258811354637,0.063903391361237,-0.017016125842929,0.046352099627256,-0.000367686152458,0.016263402998447,0.093974351882935,0.099936336278915,-0.010649388656020,-0.014259892515838));
res += mul(Get(s0,0,0), float4x4(-0.010455344803631,0.011824492365122,0.001699820626527,-0.047825686633587,0.004844413138926,-0.053412500768900,-0.017347916960716,0.066178210079670,0.093443140387535,0.034639820456505,0.033606834709644,-0.011928158812225,-0.041620798408985,0.059907265007496,-0.044835157692432,0.017200866714120));
res += mul(Get(s0,0,dy), float4x4(0.007347006350756,0.043962568044662,0.007796039804816,0.007041845005006,-0.039685968309641,0.018604416400194,-0.034230437129736,0.028709726408124,0.041311722248793,0.015128881670535,0.027238581329584,0.004456887021661,-0.054826863110065,0.030643913894892,-0.027386259287596,0.001089382101782));
res += mul(Get(s0,dx,-dy), float4x4(-0.019483514130116,0.015357160940766,0.001779551734217,0.032403953373432,-0.012435516342521,-0.069285698235035,-0.002294515259564,-0.065670266747475,-0.018714614212513,0.005593105219305,0.006673067342490,0.005014950409532,0.003575615584850,0.044935893267393,0.023082396015525,-0.096030503511429));
res += mul(Get(s0,dx,0), float4x4(0.034684054553509,0.018379788845778,0.005646015983075,-0.026172440499067,-0.028098477050662,-0.047686107456684,-0.014449303969741,-0.000355732772732,0.035700045526028,-0.005767015274614,0.009527376852930,0.038908191025257,0.028255233541131,0.022591371089220,0.017412500455976,-0.070145621895790));
res += mul(Get(s0,dx,dy), float4x4(0.004040484316647,0.026422053575516,-0.014049227349460,-0.003315143054351,-0.025557136163116,0.073818482458591,0.010783574543893,0.008061239495873,-0.005420924164355,-0.005516591481864,0.016135670244694,0.047044120728970,0.078835472464561,0.008783022873104,0.025331106036901,-0.072405181825161));
res += mul(Get(s1,-dx,-dy), float4x4(0.027454206719995,0.061268646270037,-0.022699603810906,-0.050864547491074,0.066928938031197,0.237166464328766,0.034977283328772,-0.003342239651829,0.116748496890068,0.019475573673844,-0.046988002955914,-0.139578789472580,0.026125833392143,0.039345558732748,0.212997600436211,0.102617904543877));
res += mul(Get(s1,-dx,0), float4x4(-0.021116109564900,-0.014166871085763,-0.009632457979023,-0.022831767797470,-0.154253795742989,0.174034178256989,0.180904477834702,-0.147972315549850,-0.087288051843643,-0.046366434544325,-0.059799764305353,-0.183371797204018,-0.003221323247999,0.070580258965492,0.489991247653961,0.258656352758408));
res += mul(Get(s1,-dx,dy), float4x4(-0.025339201092720,-0.053429599851370,-0.014741545543075,0.026863386854529,-0.152416259050369,-0.099963448941708,0.062249235808849,-0.195813700556755,-0.037614390254021,-0.061663024127483,-0.037473082542419,0.032227657735348,0.071026593446732,-0.003917604219168,0.155331775546074,-0.108814693987370));
res += mul(Get(s1,0,-dy), float4x4(0.068884715437889,0.212287858128548,-0.003550440771505,-0.051165975630283,-0.116630576550961,-0.112556084990501,-0.095319531857967,-0.014592273160815,0.117349341511726,-0.008702577091753,-0.043535687029362,0.059879992157221,-0.011464468203485,-0.245928421616554,-0.137307703495026,-0.092546276748180));
res += mul(Get(s1,0,0), float4x4(0.120426878333092,0.066028557717800,0.014188618399203,-0.043949659913778,0.458645224571228,-0.048016797751188,0.038911785930395,0.288033008575439,-0.012295446358621,-0.012782530859113,-0.011954453773797,0.061731889843941,-0.014626692049205,-0.096140168607235,-0.191503375768661,0.322488963603973));
res += mul(Get(s1,0,dy), float4x4(-0.043713394552469,-0.076851561665535,0.006225897464901,-0.016402862966061,-0.020839076489210,-0.094226635992527,-0.034309387207031,-0.097124755382538,0.037006299942732,-0.087232284247875,0.011439944617450,-0.024674070999026,-0.004184410441667,0.146622881293297,-0.086916148662567,0.237940207123756));
res += mul(Get(s1,dx,-dy), float4x4(0.083969585597515,0.017207982018590,0.028749749064445,0.022471919655800,0.005865694954991,-0.129547983407974,-0.079511947929859,0.039229281246662,0.007021874189377,-0.042890083044767,0.003564855083823,-0.048321541398764,-0.002766807330772,-0.022481840103865,-0.092222437262535,-0.295886188745499));
res += mul(Get(s1,dx,0), float4x4(0.254392415285110,0.008348119445145,0.080711647868156,-0.002982441801578,-0.084605276584625,-0.115578778088093,-0.099640570580959,0.030444474890828,-0.024462802335620,-0.018262209370732,-0.047076318413019,-0.030052525922656,-0.176516011357307,-0.071900211274624,-0.148300886154175,-0.352142095565796));
res += mul(Get(s1,dx,dy), float4x4(0.062544904649258,-0.034107968211174,0.064637742936611,-0.014024191536009,-0.078784234821796,-0.074419014155865,-0.050458818674088,0.031414829194546,0.034064844250679,0.003117251675576,0.022596040740609,0.016693225130439,0.088396817445755,-0.047004222869873,-0.095509938895702,0.086742505431175));
res += mul(Get(s2,-dx,-dy), float4x4(-0.098010294139385,0.066505908966064,0.040315281599760,0.062580794095993,-0.031614053994417,0.009148066863418,0.011380404233932,0.060598131269217,-0.005247053690255,0.031783062964678,-0.127696990966797,-0.147694364190102,-0.003609150880948,0.002489455975592,-0.003213752759621,0.004042667802423));
res += mul(Get(s2,-dx,0), float4x4(0.244231984019279,-0.074985824525356,0.097641065716743,-0.008311632089317,-0.017060730606318,0.017149874940515,0.015667209401727,0.064238026738167,-0.022205881774426,-0.127593293786049,-0.135484993457794,-0.178114980459213,0.003411124227569,0.002448226790875,0.004594037774950,0.003464093897492));
res += mul(Get(s2,-dx,dy), float4x4(0.059725373983383,-0.057650778442621,0.048226077109575,-0.097377143800259,0.014874633401632,0.005370631348342,-0.003583466168493,0.008427572436631,0.012590390630066,0.041453149169683,-0.152874246239662,0.166264340281487,0.005552440881729,0.000200194204808,-0.006637350190431,-0.002598099410534));
res += mul(Get(s2,0,-dy), float4x4(-0.086669474840164,-0.102615922689438,-0.054364822804928,-0.111697144806385,-0.037855062633753,-0.017561605200171,-0.056703399866819,-0.028259517624974,-0.013477398082614,0.043017826974392,0.026240374892950,0.012108795344830,-0.001367556862533,0.003442483255640,0.003481158521026,0.001352540100925));
res += mul(Get(s2,0,0), float4x4(0.011093375273049,-0.134536504745483,-0.044880434870720,0.037437040358782,-0.020321242511272,0.023724222555757,-0.029822392389178,0.028161354362965,-0.044996812939644,-0.084716208279133,0.003511944087222,-0.179753199219704,-0.000970820779912,0.001910518622026,0.005340988282114,0.001600831281394));
res += mul(Get(s2,0,dy), float4x4(0.017626361921430,-0.069382399320602,-0.026644360274076,0.055632345378399,-0.025870719924569,0.017738109454513,-0.039217039942741,0.001753541640937,0.017114982008934,-0.021183161064982,-0.008444816805422,-0.057645276188850,-0.011567004024982,0.000355116499122,-0.002039553131908,-0.005394728388637));
res += mul(Get(s2,dx,-dy), float4x4(-0.030126407742500,-0.081557676196098,0.063426449894905,-0.001414321828634,-0.045991767197847,-0.023394063115120,-0.030571755021811,-0.000269057083642,0.002756889211014,-0.076217085123062,0.025332877412438,0.097727201879025,0.002152115805075,-0.004380356054753,0.004635008517653,0.002019385807216));
res += mul(Get(s2,dx,0), float4x4(-0.098623827099800,-0.058350879698992,0.022992456331849,0.030069258064032,-0.027342056855559,0.009320615790784,-0.019545689225197,-0.003066185163334,0.019905747845769,-0.033278990536928,-0.009485526941717,-0.107205025851727,0.003104209201410,-0.002599676838145,0.003247056156397,0.000846825132612));
res += mul(Get(s2,dx,dy), float4x4(0.056850586086512,-0.038249742239714,0.058208256959915,0.051263064146042,-0.053816162049770,0.008161362260580,-0.019981006160378,0.008159891702235,0.037535320967436,0.077178187668324,0.010011696256697,-0.051736563444138,-0.000977919786237,0.000434583955212,0.003899995703250,-0.003004035912454));
res += mul(Get(s3,-dx,-dy), float4x4(-0.026129731908441,0.026677198708057,-0.005354366730899,-0.019254175946116,0.028532244265079,0.019552860409021,-0.037524543702602,0.020452268421650,-0.052614241838455,0.062607698142529,-0.006269609555602,0.015482150949538,0.088790141046047,0.001504142885096,0.050132784992456,-0.000077781769505));
res += mul(Get(s3,-dx,0), float4x4(-0.017977681010962,0.154462680220604,-0.008125987835228,-0.012178150936961,0.012725428678095,0.135592505335808,-0.033969271928072,0.130974218249321,-0.053260535001755,-0.024099623784423,-0.011330762878060,0.007640461437404,-0.038941968232393,0.039024870842695,0.054995428770781,-0.127105623483658));
res += mul(Get(s3,-dx,dy), float4x4(0.081162266433239,0.102498322725296,-0.021363940089941,-0.024361182004213,0.066612072288990,0.187359243631363,-0.028258649632335,0.105360798537731,-0.050080079585314,-0.009943269193172,0.004977893549949,0.058151051402092,-0.041143108159304,-0.029588392004371,0.121099434792995,-0.154318600893021));
res += mul(Get(s3,0,-dy), float4x4(-0.054173849523067,0.049383640289307,0.021958339959383,-0.011798505671322,-0.006557193584740,0.003672521561384,-0.085012435913086,-0.110288359224796,-0.133386641740799,0.172698616981506,0.019751032814384,-0.001296754344366,0.117802068591118,-0.030718950554729,-0.017423078417778,0.010518440976739));
res += mul(Get(s3,0,0), float4x4(-0.023538062348962,0.123760662972927,0.015446039848030,-0.017331549897790,-0.040542852133512,0.030548982322216,-0.054336037486792,-0.059444785118103,0.009943819604814,0.185890585184097,-0.005553363356739,-0.045823864638805,0.221637666225433,-0.074876517057419,-0.036019954830408,-0.005441570654511));
res += mul(Get(s3,0,dy), float4x4(0.167062819004059,0.072404690086842,0.018871216103435,-0.043007262051105,0.023975973948836,0.083918772637844,-0.030772192403674,0.083154805004597,-0.057456750422716,0.008390545845032,-0.028782512992620,-0.004216332454234,-0.067535221576691,-0.073920257389545,-0.116505406796932,-0.072288341820240));
res += mul(Get(s3,dx,-dy), float4x4(-0.020216180011630,0.043686684221029,0.014082666486502,-0.002768849954009,0.028858149424195,0.101623788475990,-0.071970373392105,-0.018949488177896,-0.114762030541897,0.110700041055679,0.000294743891573,0.026050264015794,0.075770303606987,-0.052906088531017,0.011675364337862,0.005841252394021));
res += mul(Get(s3,dx,0), float4x4(-0.019768791273236,0.035305462777615,-0.001509672845714,-0.002525194082409,-0.023715810850263,0.081861279904842,-0.085465982556343,-0.064370639622211,0.243270009756088,0.103527523577213,0.025373423472047,-0.080011025071144,0.060921549797058,0.002114687813446,0.057704553008080,0.083156183362007));
res += mul(Get(s3,dx,dy), float4x4(0.045674141496420,0.048789050430059,0.026639785617590,0.020733216777444,-0.003191648749635,0.079582743346691,-0.041217699646950,-0.010040591470897,0.068883985280991,0.025483643636107,-0.002849713666365,-0.044815007597208,-0.172704294323921,-0.026514461264014,0.053951896727085,-0.049428734928370));
return max(float4(0,0,0,0), res);
}
