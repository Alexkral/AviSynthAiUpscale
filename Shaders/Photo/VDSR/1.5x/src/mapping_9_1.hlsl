sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.067102469503880,0.047345660626888,-0.151825398206711,0.150458693504333,-0.151834532618523,0.032669302076101,-0.014544481411576,-0.087218105792999,-0.072163023054600,-0.074405729770660,0.022125152871013,-0.012013847939670,0.090606972575188,-0.065679848194122,-0.142960071563721,-0.021020309999585));
res += mul(Get(s0,-dx,0), float4x4(-0.031761035323143,-0.055692907422781,-0.024550370872021,-0.063172571361065,-0.066132560372353,0.030727641656995,-0.023332910612226,0.077655062079430,-0.025636225938797,-0.050997760146856,-0.039471428841352,-0.129819124937057,-0.196420878171921,-0.024805434048176,-0.077401354908943,-0.061214186251163));
res += mul(Get(s0,-dx,dy), float4x4(0.002395120915025,0.076611712574959,0.008963678963482,0.062939219176769,-0.020327277481556,0.006212364416569,-0.070544637739658,0.118871591985226,0.131312400102615,-0.042003400623798,0.097034238278866,-0.054805260151625,-0.058645121753216,-0.100125350058079,-0.133938044309616,-0.084521532058716));
res += mul(Get(s0,0,-dy), float4x4(0.079775929450989,0.003567122854292,-0.090378507971764,-0.073952503502369,0.043008830398321,-0.151110872626305,0.017792485654354,0.107363477349281,0.091828420758247,0.078095965087414,0.029714161530137,-0.042708911001682,-0.127940148115158,-0.056213539093733,-0.030101669952273,0.075642220675945));
res += mul(Get(s0,0,0), float4x4(0.178328797221184,-0.019396755844355,0.044405762106180,0.059893988072872,-0.095189929008484,-0.095346234738827,-0.011956082656980,-0.190982326865196,-0.090857230126858,0.042660497128963,-0.103490628302097,0.011043566279113,0.087839305400848,0.030930127948523,-0.100482411682606,0.015539855696261));
res += mul(Get(s0,0,dy), float4x4(-0.019895844161510,-0.053370345383883,0.133902996778488,-0.127375900745392,0.186391130089760,-0.165757179260254,-0.034813951700926,0.019481681287289,0.081542760133743,0.099294446408749,-0.098750077188015,0.040953651070595,-0.008075429126620,-0.017625924199820,0.015944395214319,0.051376000046730));
res += mul(Get(s0,dx,-dy), float4x4(-0.174058958888054,0.118313394486904,-0.049347978085279,-0.077246122062206,0.118252769112587,-0.046799972653389,0.061059847474098,0.136868536472321,-0.106230050325394,0.060170318931341,0.030904343351722,0.182309702038765,-0.062811471521854,0.054760973900557,-0.083764582872391,-0.106463350355625));
res += mul(Get(s0,dx,0), float4x4(0.028172550722957,-0.010198653675616,-0.066108919680119,-0.027622096240520,-0.150774985551834,-0.059769555926323,0.170539855957031,0.095170639455318,0.078404568135738,0.002906696870923,-0.127164974808693,0.093010529875755,0.027128936722875,0.031416129320860,-0.046836365014315,-0.030690578743815));
res += mul(Get(s0,dx,dy), float4x4(-0.032166324555874,-0.020290257409215,0.009652898646891,0.076635912060738,-0.076667785644531,-0.154129758477211,0.081112340092659,0.057905770838261,0.016174871474504,0.053911883383989,-0.007998316548765,0.093175865709782,-0.115200728178024,-0.145266652107239,0.025353649631143,0.029768386855721));
res += mul(Get(s1,-dx,-dy), float4x4(0.138394653797150,-0.101987652480602,-0.018937291577458,-0.000914448930416,-0.061549603939056,-0.066619195044041,0.046927519142628,0.075055867433548,0.064585424959660,0.000158886570716,0.059400994330645,-0.095946870744228,0.039083622395992,-0.051550894975662,0.064365498721600,0.078508287668228));
res += mul(Get(s1,-dx,0), float4x4(0.025886388495564,0.008782496675849,-0.006664592307061,-0.035583753138781,0.115841530263424,0.046917539089918,0.125935077667236,-0.000752723659389,-0.078172162175179,0.013805460184813,0.029725709930062,0.022291436791420,0.046760458499193,-0.095937222242355,0.125624045729637,-0.066821113228798));
res += mul(Get(s1,-dx,dy), float4x4(0.054023072123528,-0.169400736689568,-0.191187873482704,0.056474659591913,0.091247200965881,0.112408213317394,0.117210559546947,0.032440721988678,0.013907187618315,-0.025140365585685,0.122637659311295,0.087945498526096,-0.060753043740988,-0.029825253412127,-0.023642711341381,0.000586892012507));
res += mul(Get(s1,0,-dy), float4x4(0.167751193046570,0.049911793321371,0.038423418998718,0.087620712816715,-0.118898279964924,0.216533929109573,0.025967027992010,0.006754970643669,0.052779998630285,-0.015620579011738,0.058975230902433,0.001840066863224,0.169305041432381,-0.130100578069687,-0.036574572324753,-0.031439922749996));
res += mul(Get(s1,0,0), float4x4(0.089243598282337,0.044957634061575,0.027505641803145,-0.153766080737114,-0.107653334736824,0.023183731362224,-0.145297586917877,0.061098631471395,0.030455345287919,0.015202095732093,-0.003036078531295,0.062445037066936,0.293613016605377,-0.061780106276274,-0.182961538434029,0.062939353287220));
res += mul(Get(s1,0,dy), float4x4(-0.022228412330151,-0.030567327514291,0.177322328090668,0.007154226303101,-0.055896610021591,-0.036169443279505,-0.005926736164838,-0.146098822355270,0.070069417357445,0.097998775541782,-0.039095591753721,-0.119214974343777,-0.043151181191206,0.016443327069283,-0.096433527767658,-0.030905283987522));
res += mul(Get(s1,dx,-dy), float4x4(-0.067700326442719,-0.106053076684475,0.190482676029205,0.086871825158596,-0.032934874296188,-0.131690293550491,-0.050384350121021,0.012727812863886,0.060879349708557,-0.155930176377296,-0.006181872915477,-0.021692629903555,-0.076661676168442,0.045697912573814,0.070203095674515,-0.026337487623096));
res += mul(Get(s1,dx,0), float4x4(-0.113645493984222,-0.161984726786613,-0.039503879845142,0.004616470541805,-0.021273871883750,-0.066811867058277,0.008758228272200,-0.020676909014583,-0.059118151664734,-0.014038817025721,0.063229210674763,0.045143023133278,0.038007248193026,-0.040063668042421,0.063618205487728,0.017354000359774));
res += mul(Get(s1,dx,dy), float4x4(-0.057932496070862,0.109872974455357,0.050355620682240,-0.045846916735172,0.021634124219418,-0.032696012407541,-0.004584804177284,0.038225185126066,0.059131737798452,-0.029127243906260,-0.035477269440889,0.016491066664457,-0.149534553289413,0.023993982002139,0.075497247278690,0.020442150533199));
res += mul(Get(s2,-dx,-dy), float4x4(0.055802851915359,0.026863478124142,0.055454928427935,-0.185160890221596,0.223208844661713,0.112177319824696,-0.157120510935783,-0.147604882717133,0.018801765516400,-0.063019037246704,-0.027784597128630,-0.037032090127468,0.029655765742064,0.029834473505616,0.046202734112740,-0.029542010277510));
res += mul(Get(s2,-dx,0), float4x4(0.132272630929947,-0.047367934137583,-0.106518797576427,-0.097000606358051,0.019249217584729,0.070832706987858,0.106299988925457,-0.023128651082516,0.011476521380246,-0.134957119822502,0.006419667508453,0.110738366842270,0.011365483514965,0.050492361187935,-0.114203296601772,-0.015594921074808));
res += mul(Get(s2,-dx,dy), float4x4(0.065181896090508,0.011509363539517,-0.138869434595108,-0.171958595514297,0.055146232247353,-0.119822554290295,0.012096135877073,-0.042635787278414,-0.015018320642412,0.049444336444139,-0.016292043030262,0.083782970905304,-0.012565027922392,-0.094529651105404,-0.021773841232061,-0.028272163122892));
res += mul(Get(s2,0,-dy), float4x4(-0.059218663722277,-0.125202074646950,0.097291864454746,-0.010085878893733,-0.110954396426678,-0.013331851921976,0.059896659106016,-0.018218193203211,0.043006520718336,0.026250954717398,0.086396217346191,-0.019849559292197,0.170336619019508,-0.111248940229416,-0.094796262681484,0.023126183077693));
res += mul(Get(s2,0,0), float4x4(-0.121321089565754,0.009620729833841,-0.047240108251572,-0.115777246654034,0.020164439454675,0.161465659737587,-0.065602183341980,-0.024569332599640,-0.126432761549950,-0.022356180474162,0.021209949627519,-0.080744139850140,0.123273305594921,0.158072501420975,0.177981793880463,-0.011454626917839));
res += mul(Get(s2,0,dy), float4x4(-0.036683611571789,0.029343454167247,0.117289081215858,-0.075014747679234,-0.010560454800725,0.061178587377071,-0.090358525514603,-0.227017760276794,0.024791410192847,-0.140702530741692,0.009636704809964,0.144424706697464,0.044657319784164,-0.110363952815533,0.053190384060144,-0.130372136831284));
res += mul(Get(s2,dx,-dy), float4x4(0.038130395114422,-0.151239469647408,-0.023977659642696,-0.065144032239914,0.046746294945478,-0.145619854331017,0.035473838448524,-0.237024798989296,0.006404300685972,0.006235552951694,0.085020810365677,-0.014242848381400,-0.121734201908112,-0.097305133938789,-0.098005451261997,-0.110353544354439));
res += mul(Get(s2,dx,0), float4x4(0.033047240227461,-0.005261722486466,-0.011784750968218,0.051676381379366,0.203308388590813,0.107264645397663,0.164386495947838,-0.011813771910965,-0.202553376555443,0.006891333032399,-0.111128047108650,0.019959660246968,-0.024813042953610,0.004588009323925,-0.068160571157932,-0.110537990927696));
res += mul(Get(s2,dx,dy), float4x4(0.117410816252232,-0.221281155943871,-0.062464360147715,-0.077182866632938,-0.093519367277622,0.089540377259254,0.091276228427887,-0.008004930801690,-0.074363231658936,0.017473412677646,-0.164950132369995,0.163566663861275,-0.123650774359703,-0.102323502302170,-0.105454765260220,-0.074691094458103));
res += mul(Get(s3,-dx,-dy), float4x4(0.007995692081749,-0.134072080254555,0.061120484024286,0.138874128460884,0.033380791544914,-0.052466571331024,0.021030638366938,-0.058013446629047,0.061185147613287,-0.106447048485279,0.081404633820057,0.055316247045994,-0.115423940122128,0.119520232081413,0.103087164461613,0.289144486188889));
res += mul(Get(s3,-dx,0), float4x4(-0.005582831799984,-0.188628450036049,0.164092957973480,-0.100427091121674,-0.084896579384804,-0.132402256131172,0.081743210554123,0.066022545099258,-0.012940059415996,-0.035038284957409,0.006896215956658,-0.015348607674241,0.023864299058914,0.095342174172401,0.197444871068001,0.124770887196064));
res += mul(Get(s3,-dx,dy), float4x4(0.025318969041109,0.029674509540200,-0.076554588973522,0.008629690855742,-0.005486033856869,0.047322493046522,-0.012907604686916,-0.103330828249454,-0.068149648606777,-0.020159402862191,0.032220661640167,0.050347816199064,0.062752619385719,-0.037173256278038,-0.025106715038419,0.033345852047205));
res += mul(Get(s3,0,-dy), float4x4(-0.080548733472824,-0.018334602937102,-0.043425232172012,0.073043830692768,-0.056866429746151,-0.161700278520584,0.085984617471695,-0.075697235763073,-0.187195807695389,-0.059405136853456,-0.104624144732952,0.220938771963120,0.058996565639973,-0.191340729594231,-0.013396525755525,0.060223694890738));
res += mul(Get(s3,0,0), float4x4(-0.104660995304585,-0.015531042590737,0.008083498105407,0.060879182070494,-0.160187318921089,0.081724733114243,0.135626137256622,-0.123797573149204,-0.135004982352257,-0.008384685963392,-0.366085827350616,-0.042499605566263,-0.119999773800373,-0.020673995837569,-0.043605074286461,0.173434689640999));
res += mul(Get(s3,0,dy), float4x4(0.063060559332371,-0.017101155593991,0.129448071122169,0.097987309098244,0.046056833118200,-0.051727518439293,0.149653285741806,0.188450500369072,-0.064573600888252,0.056159693747759,-0.232100635766983,0.025807635858655,-0.124847017228603,-0.053323760628700,-0.038472101092339,-0.092716351151466));
res += mul(Get(s3,dx,-dy), float4x4(-0.013669140636921,0.024204367771745,0.112076148390770,-0.101723119616508,0.005146366544068,0.003415754530579,-0.029342288151383,-0.122592844069004,0.057876553386450,-0.027826815843582,-0.044481668621302,-0.010884008370340,0.073645636439323,-0.147804722189903,-0.094824060797691,-0.069187961518764));
res += mul(Get(s3,dx,0), float4x4(-0.022899392992258,-0.132413893938065,-0.120599091053009,0.030014060437679,0.165745243430138,0.071394413709641,-0.084775269031525,-0.063315577805042,-0.160703271627426,-0.059731911867857,-0.212876319885254,0.013059394434094,-0.073380336165428,0.048344898968935,-0.020126804709435,0.107392437756062));
res += mul(Get(s3,dx,dy), float4x4(-0.066518500447273,-0.083472549915314,-0.045346599072218,0.004342372994870,-0.038148514926434,0.062023583799601,-0.028705706819892,-0.188597530126572,-0.180176421999931,0.003228356130421,0.031191505491734,0.036586828529835,0.196631386876106,0.054744932800531,-0.032221660017967,0.131268411874771));
return max(float4(0,0,0,0), res);
}
