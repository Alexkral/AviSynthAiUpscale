sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012635505758226,-0.020772974938154,-0.087076485157013,-0.161953866481781,-0.187546715140343,-0.014286672696471,0.046489279717207,0.113564029335976,-0.122176505625248,-0.062779761850834,-0.016765046864748,0.101422995328903,-0.059234268963337,-0.058111891150475,0.030617903918028,-0.020156446844339));
res += mul(Get(s0,-dx,0), float4x4(-0.135071009397507,-0.103241987526417,0.003498001722619,-0.172130122780800,0.052589781582355,-0.041224647313356,0.071406282484531,-0.316764742136002,0.092216074466705,0.089424610137939,-0.002333851298317,-0.001788725843653,0.196116104722023,-0.078555606305599,-0.028451610356569,-0.007559455465525));
res += mul(Get(s0,-dx,dy), float4x4(0.008505280129611,0.100907236337662,-0.066553890705109,0.104636676609516,-0.038618408143520,-0.078195057809353,0.013108629733324,0.068230755627155,0.119601748883724,-0.047449838370085,-0.106056012213230,0.034026149660349,-0.019433343783021,0.032018911093473,0.044079605489969,0.023571291938424));
res += mul(Get(s0,0,-dy), float4x4(0.015471054241061,0.051926385611296,-0.091116279363632,0.070648521184921,-0.090654663741589,-0.004715737421066,-0.013297734782100,0.229531794786453,0.036457527428865,0.237927854061127,-0.033262588083744,0.048746775835752,-0.121836654841900,0.026394629850984,0.133697018027306,0.075542248785496));
res += mul(Get(s0,0,0), float4x4(-0.001150054973550,-0.036679420620203,0.033194195479155,-0.091937668621540,-0.050644740462303,0.070416100323200,-0.090760946273804,0.152611389756203,-0.104048617184162,0.024277918040752,-0.064493164420128,0.025279957801104,0.028647610917687,-0.150895297527313,-0.018246771767735,0.081681221723557));
res += mul(Get(s0,0,dy), float4x4(-0.020780110731721,0.136062175035477,-0.070511415600777,0.000914134026971,-0.079409830272198,-0.089110970497131,-0.025495005771518,-0.018666410818696,-0.100018881261349,-0.095708839595318,-0.047582481056452,0.136418193578720,-0.029317587614059,0.031833264976740,-0.147321566939354,0.020869486033916));
res += mul(Get(s0,dx,-dy), float4x4(-0.024641310796142,0.222090840339661,0.192356824874878,-0.096617706120014,0.163927957415581,-0.051927544176579,-0.082349747419357,-0.223425075411797,-0.032205399125814,-0.046880990266800,0.051066316664219,0.052122019231319,0.126591712236404,-0.017428789287806,0.035177100449800,-0.053539425134659));
res += mul(Get(s0,dx,0), float4x4(-0.016509087756276,-0.044611878693104,0.084191925823689,0.130955025553703,0.100748375058174,0.008471491746604,0.047041594982147,0.037145875394344,0.018993230536580,0.018339462578297,-0.179922744631767,-0.201863870024681,-0.051605042070150,0.085047394037247,-0.143600091338158,-0.035533595830202));
res += mul(Get(s0,dx,dy), float4x4(0.116471655666828,-0.058538865298033,0.038312055170536,0.141628280282021,0.043047696352005,0.013113866560161,-0.057206038385630,-0.083474367856979,-0.002290552482009,0.028679711744189,0.025145065039396,-0.100784182548523,-0.037534918636084,-0.059766899794340,-0.072512947022915,0.091759629547596));
res += mul(Get(s1,-dx,-dy), float4x4(-0.065384492278099,0.174557954072952,-0.131405547261238,0.056135822087526,-0.070252768695354,-0.060542106628418,0.125840395689011,-0.117240168154240,-0.075027540326118,0.069470755755901,0.066098287701607,0.017448740079999,0.045777227729559,-0.122922115027905,-0.085373111069202,-0.073947213590145));
res += mul(Get(s1,-dx,0), float4x4(-0.059616364538670,0.176420912146568,-0.002502969466150,-0.181878924369812,-0.113629177212715,0.044187162071466,-0.072233013808727,-0.105351291596889,0.048396009951830,0.149599179625511,0.048074357211590,0.174189493060112,0.021151265129447,-0.012612313032150,-0.115291759371758,0.076417930424213));
res += mul(Get(s1,-dx,dy), float4x4(0.001587648526765,-0.082972444593906,-0.046789575368166,0.059698980301619,-0.032683648169041,-0.066101841628551,-0.020268157124519,0.075550965964794,0.080282598733902,0.018506418913603,0.026878805831075,0.120339430868626,-0.012955685146153,-0.100453101098537,-0.012031521648169,-0.014837105758488));
res += mul(Get(s1,0,-dy), float4x4(-0.022590927779675,-0.009411625564098,0.129947304725647,-0.169320493936539,-0.052039962261915,-0.065436936914921,0.015992289409041,0.229528218507767,0.061948563903570,0.018944725394249,0.044520992785692,-0.072870433330536,-0.084156163036823,-0.019935918971896,0.189102351665497,0.028789717704058));
res += mul(Get(s1,0,0), float4x4(-0.034697450697422,0.040439955890179,-0.148502767086029,0.054073851555586,0.062430083751678,0.087452553212643,0.035861760377884,-0.068521872162819,0.091080144047737,0.134575888514519,-0.090473860502243,0.085263893008232,0.053977310657501,0.058875486254692,-0.039614766836166,-0.063939258456230));
res += mul(Get(s1,0,dy), float4x4(0.056348558515310,-0.045915771275759,0.094274960458279,-0.161844208836555,0.063199438154697,-0.128180027008057,-0.017526024952531,-0.123259186744690,0.008482716046274,0.009963234886527,-0.057553458958864,0.213819667696953,0.057991962879896,-0.135169759392738,-0.008775535039604,0.007508560083807));
res += mul(Get(s1,dx,-dy), float4x4(-0.013131503015757,0.176010981202126,0.133057266473770,-0.013044618070126,0.105819299817085,-0.049280546605587,-0.174064949154854,-0.020408585667610,-0.221875384449959,-0.014847542159259,-0.136942476034164,-0.050605058670044,-0.123604163527489,0.073311023414135,0.102869138121605,0.159065380692482));
res += mul(Get(s1,dx,0), float4x4(-0.112997867166996,0.085776843130589,0.056331045925617,0.137706011533737,0.121008783578873,-0.010991468094289,0.153742566704750,-0.038591280579567,-0.133501946926117,0.136435016989708,-0.023416427895427,0.087593749165535,0.151648342609406,-0.050005394965410,-0.059589106589556,0.009107585065067));
res += mul(Get(s1,dx,dy), float4x4(-0.148711681365967,-0.076109342277050,0.048062440007925,0.019336389377713,0.023639271035790,-0.110088445246220,-0.005782870575786,0.001444675959647,-0.046008862555027,0.135702267289162,0.195240914821625,0.129625916481018,0.167022928595543,-0.060267072170973,0.093440078198910,-0.188519999384880));
res += mul(Get(s2,-dx,-dy), float4x4(0.081283494830132,-0.047140296548605,-0.069709382951260,-0.030349830165505,-0.073416456580162,0.046432495117188,-0.120746746659279,-0.068938046693802,-0.121743679046631,0.116028487682343,-0.066940695047379,0.008873539045453,-0.024379888549447,0.036225758492947,-0.062750265002251,0.039602238684893));
res += mul(Get(s2,-dx,0), float4x4(-0.064770705997944,-0.050941847264767,-0.048970066010952,-0.043500479310751,-0.113720275461674,0.036171354353428,-0.042794112116098,-0.052894771099091,0.055069230496883,-0.076208934187889,-0.019774362444878,0.015358868986368,-0.004011707380414,-0.219520747661591,-0.103754885494709,0.137348294258118));
res += mul(Get(s2,-dx,dy), float4x4(-0.077254027128220,-0.007576604373753,0.102219991385937,-0.148162141442299,0.055451385676861,0.052496682852507,-0.055028028786182,0.061217561364174,0.048184152692556,0.141022637486458,-0.169295668601990,0.029367601498961,0.104916274547577,-0.122104108333588,-0.116248905658722,-0.043045710772276));
res += mul(Get(s2,0,-dy), float4x4(-0.030675698071718,-0.081525608897209,0.078761935234070,-0.221404388546944,-0.063847564160824,0.061669394373894,0.045166838914156,0.202731281518936,0.039778307080269,-0.147220149636269,-0.018750326707959,0.027978660538793,0.096472322940826,0.143107816576958,-0.073947578668594,0.041569657623768));
res += mul(Get(s2,0,0), float4x4(0.081113621592522,-0.090113632380962,-0.041421618312597,0.194002464413643,-0.061150401830673,0.022029550746083,0.005665831733495,0.050183244049549,-0.119184777140617,0.002456509741023,-0.095644384622574,0.132970020174980,0.024721011519432,0.109738089144230,-0.121167585253716,-0.075652077794075));
res += mul(Get(s2,0,dy), float4x4(-0.039594739675522,0.239671722054482,-0.085560508072376,0.177625402808189,0.054575212299824,0.098849005997181,-0.024841686710715,0.040032722055912,-0.048374898731709,-0.045732542872429,0.054173566401005,0.056099656969309,0.067488461732864,0.057897459715605,-0.004559672437608,-0.125293150544167));
res += mul(Get(s2,dx,-dy), float4x4(-0.041387692093849,0.083187013864517,-0.136869743466377,-0.025218540802598,0.065944999456406,-0.043661214411259,0.044609025120735,0.043699707835913,0.071217544376850,-0.028820626437664,0.008105165325105,0.070122890174389,-0.150659799575806,0.022095965221524,-0.171019122004509,0.059816308319569));
res += mul(Get(s2,dx,0), float4x4(0.053902041167021,-0.157407552003860,0.095872536301613,-0.049024377018213,0.073475800454617,-0.130807563662529,-0.026922971010208,-0.131783157587051,-0.130106270313263,-0.065911136567593,0.224805206060410,-0.042517486959696,0.009289147332311,0.224909082055092,-0.047167200595140,-0.153280213475227));
res += mul(Get(s2,dx,dy), float4x4(0.177431434392929,0.029771637171507,-0.039270211011171,0.096338398754597,0.050219923257828,0.046266656368971,0.110660448670387,0.065453216433525,-0.087586097419262,0.014174384064972,0.028534980490804,-0.130254209041595,-0.074073180556297,-0.018806800246239,-0.036840669810772,0.127214878797531));
res += mul(Get(s3,-dx,-dy), float4x4(0.131917163729668,0.165715187788010,-0.019460929557681,-0.038469292223454,-0.032566055655479,0.039471615105867,0.149063125252724,-0.031191807240248,0.004202911630273,0.137044772505760,-0.091093942523003,-0.043314974755049,0.169692397117615,-0.028954597190022,0.005528012290597,0.011627690866590));
res += mul(Get(s3,-dx,0), float4x4(0.041089672595263,0.328892678022385,-0.018742870539427,-0.134113952517509,0.095030710101128,0.103625968098640,0.066169761121273,0.020332125946879,-0.060591559857130,-0.075022459030151,0.041361372917891,0.008818862028420,-0.014255459420383,-0.087032124400139,0.009556215256453,0.011124142445624));
res += mul(Get(s3,-dx,dy), float4x4(-0.083751924335957,-0.071947962045670,0.119719386100769,0.009446416981518,0.020695790648460,-0.091097153723240,-0.073322169482708,-0.011986780911684,-0.100443124771118,0.086214087903500,0.031938411295414,0.067118890583515,-0.143928602337837,0.044623803347349,0.159405261278152,-0.046432521194220));
res += mul(Get(s3,0,-dy), float4x4(0.071677431464195,-0.031243083998561,-0.137577265501022,0.086118571460247,-0.070795759558678,0.129917040467262,0.158160582184792,0.132593944668770,-0.212700143456459,-0.231999173760414,-0.088740900158882,-0.103252850472927,0.012073508463800,-0.072409830987453,0.077711172401905,0.051350869238377));
res += mul(Get(s3,0,0), float4x4(-0.115184739232063,0.073008939623833,0.042015168815851,-0.140599176287651,0.032210197299719,-0.027176942676306,-0.042451649904251,-0.029228057712317,-0.062076464295387,-0.085827790200710,-0.100624293088913,0.020136639475822,0.184172689914703,0.049643740057945,0.069747947156429,0.077596999704838));
res += mul(Get(s3,0,dy), float4x4(0.033672831952572,0.062903180718422,-0.213181689381599,0.208184570074081,0.074127964675426,0.192995622754097,0.036551933735609,-0.216891512274742,-0.093624457716942,0.111939974129200,0.046810481697321,0.011860567145050,0.177258670330048,0.062796682119370,0.045010995119810,0.051270887255669));
res += mul(Get(s3,dx,-dy), float4x4(-0.139637693762779,0.074254401028156,-0.223291546106339,0.201070204377174,-0.174255266785622,-0.018657362088561,-0.202075287699699,-0.048354234546423,-0.049321372061968,0.045966252684593,0.155398026108742,-0.054686740040779,0.084017790853977,0.015031417831779,0.002862291643396,-0.142989650368690));
res += mul(Get(s3,dx,0), float4x4(-0.035608623176813,0.050716366618872,0.014762081205845,0.100390531122684,0.014646692201495,0.011361434124410,-0.060542222112417,0.109319642186165,-0.150588527321815,-0.012926341965795,0.114021025598049,0.029766375198960,0.138840958476067,-0.069962434470654,-0.060310479253531,-0.053198970854282));
res += mul(Get(s3,dx,dy), float4x4(-0.018814465031028,0.233450904488564,0.091276302933693,0.153913021087646,-0.065453544259071,-0.076673120260239,0.039390552788973,0.186250075697899,-0.027329385280609,0.202493831515312,-0.087562002241611,0.127797588706017,-0.157554939389229,-0.078721344470978,-0.104182623326778,-0.140315443277359));
return max(float4(0,0,0,0), res);
}
