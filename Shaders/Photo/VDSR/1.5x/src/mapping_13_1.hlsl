sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.023281592875719,-0.059967026114464,0.004521906841546,0.084317803382874,0.047717973589897,0.138172984123230,0.006049296818674,0.062167681753635,0.058231070637703,0.012287813238800,0.019513320177794,0.179788008332253,-0.014581514522433,-0.042901311069727,0.041288338601589,0.015138937160373));
res += mul(Get(s0,-dx,0), float4x4(0.044395897537470,-0.020123096182942,-0.005457613151520,0.149349436163902,-0.034318070858717,0.187542989850044,-0.080297924578190,-0.083268500864506,-0.023977458477020,-0.140901342034340,-0.165243849158287,0.055993624031544,-0.126490190625191,0.052667897194624,0.052622765302658,-0.018600413575768));
res += mul(Get(s0,-dx,dy), float4x4(0.026144254952669,0.068466834723949,-0.032011706382036,-0.086656965315342,0.035879224538803,-0.000670553476084,0.145809888839722,0.032212927937508,0.115162104368210,0.026822637766600,0.081677570939064,0.103941857814789,-0.047715835273266,0.122287899255753,0.015036713331938,0.203776285052299));
res += mul(Get(s0,0,-dy), float4x4(-0.107229180634022,0.024491412565112,-0.043368823826313,0.017003383487463,-0.003492336254567,-0.030856058001518,0.042845595628023,0.075698748230934,-0.024763192981482,-0.047574885189533,-0.066740065813065,-0.175171971321106,0.005434630904347,0.011180539615452,-0.123990401625633,0.170831322669983));
res += mul(Get(s0,0,0), float4x4(0.012879479676485,-0.034058798104525,0.048019375652075,0.062461752444506,0.124420307576656,-0.108499765396118,0.091886222362518,-0.205597072839737,-0.011910787783563,0.111038051545620,-0.134709179401398,0.057594325393438,-0.014716474339366,0.038441319018602,-0.014173341915011,0.001921675517224));
res += mul(Get(s0,0,dy), float4x4(0.019127406179905,-0.084874376654625,-0.017762375995517,0.030100924894214,0.110815539956093,0.162657648324966,0.115923255681992,-0.028103761374950,0.029506729915738,-0.018265113234520,0.025570916011930,0.180118367075920,0.061384741216898,-0.180562391877174,-0.216228574514389,-0.116555541753769));
res += mul(Get(s0,dx,-dy), float4x4(-0.019139513373375,-0.082588195800781,-0.123991519212723,0.010740034282207,0.097577393054962,-0.032184757292271,0.025083256885409,-0.068466283380985,0.062173385173082,-0.101286873221397,0.075258426368237,-0.157723337411880,-0.039986468851566,0.084103249013424,0.047349203377962,-0.069462142884731));
res += mul(Get(s0,dx,0), float4x4(-0.031065724790096,0.029427899047732,0.120458595454693,0.059308774769306,0.099816881120205,-0.062789574265480,-0.021820666268468,0.115674003958702,-0.220594555139542,-0.025422489270568,-0.221525385975838,0.011069908738136,0.022399928420782,-0.063463956117630,0.018145622685552,-0.055914260447025));
res += mul(Get(s0,dx,dy), float4x4(-0.003710129763931,-0.070333905518055,0.004960644058883,0.205607116222382,-0.085638090968132,-0.018958492204547,-0.043211128562689,0.007456515450031,0.100369557738304,-0.057189434766769,0.091385774314404,0.121921375393867,-0.035651024430990,-0.180058151483536,0.029509417712688,-0.084516018629074));
res += mul(Get(s1,-dx,-dy), float4x4(-0.068000711500645,0.083646722137928,-0.019112424924970,0.183582574129105,-0.054025776684284,-0.012403232976794,0.046821989119053,0.042773235589266,-0.045558802783489,-0.039678268134594,0.038767162710428,0.145272269845009,-0.052051510661840,-0.024511838331819,0.222393482923508,0.170486941933632));
res += mul(Get(s1,-dx,0), float4x4(0.102459341287613,-0.069760575890541,-0.091863587498665,0.042263098061085,-0.028237299993634,-0.005373856984079,0.017408272251487,-0.062600024044514,-0.173455610871315,0.025686115026474,-0.180069342255592,-0.075647801160812,-0.096354395151138,-0.070233993232250,0.025319654494524,0.052755448967218));
res += mul(Get(s1,-dx,dy), float4x4(0.037797994911671,-0.084541395306587,-0.002305150264874,-0.056981705129147,-0.113739877939224,-0.089444234967232,0.151429548859596,-0.047407418489456,0.061100687831640,0.059507794678211,-0.065179131925106,0.048723630607128,0.014068265445530,-0.136024400591850,0.109784260392189,-0.141247242689133));
res += mul(Get(s1,0,-dy), float4x4(0.020965145900846,0.040018439292908,-0.016632929444313,-0.006656616460532,-0.072497777640820,-0.164162591099739,0.003296440700069,0.005655554123223,0.069400258362293,-0.210814759135246,0.035540264099836,0.177587613463402,0.100519150495529,-0.025952992960811,0.081540696322918,0.036430392414331));
res += mul(Get(s1,0,0), float4x4(0.098746895790100,-0.074915058910847,-0.003740346059203,0.114757791161537,0.118416644632816,0.101765818893909,-0.035859569907188,0.219190046191216,-0.195547565817833,0.057184044271708,0.029051212593913,0.046295024454594,0.063527837395668,-0.043348539620638,0.241466403007507,0.017651543021202));
res += mul(Get(s1,0,dy), float4x4(0.065646551549435,-0.049980226904154,0.075452186167240,-0.010902919806540,-0.215700775384903,-0.278402119874954,-0.001868878607638,-0.011623953469098,0.057004030793905,0.010123551823199,-0.236532405018806,-0.123289890587330,-0.077448740601540,-0.064273513853550,-0.112826451659203,0.045991305261850));
res += mul(Get(s1,dx,-dy), float4x4(-0.004338778089732,0.130579203367233,-0.022720927372575,0.049695130437613,0.028823899105191,-0.043400306254625,-0.112017802894115,-0.082711003720760,0.033800914883614,0.036320120096207,0.008225170895457,-0.053595401346684,-0.024900568649173,0.056521937251091,0.086252398788929,0.062990412116051));
res += mul(Get(s1,dx,0), float4x4(-0.040881354361773,-0.061469815671444,-0.120132505893707,0.107983127236366,-0.128282606601715,0.102325677871704,0.013708819635212,0.044881872832775,-0.095012173056602,0.003951336722821,0.057504143565893,0.100476607680321,0.002378517063335,0.069380514323711,-0.073743946850300,-0.149205863475800));
res += mul(Get(s1,dx,dy), float4x4(0.046460837125778,0.167949169874191,-0.099039971828461,0.075850956141949,-0.001930491998792,0.019522342830896,-0.010427800938487,0.146574452519417,-0.036030344665051,-0.128940105438232,-0.164957210421562,0.069890417158604,0.039572667330503,0.022465309128165,-0.020403468981385,0.154600545763969));
res += mul(Get(s2,-dx,-dy), float4x4(-0.040231220424175,-0.085573315620422,0.061666954308748,-0.040188752114773,0.120117507874966,0.015007996000350,-0.021953126415610,-0.094221785664558,0.000947891094256,0.045058567076921,0.019494231790304,0.014565427787602,-0.056682121008635,-0.088940374553204,-0.110304445028305,-0.041904389858246));
res += mul(Get(s2,-dx,0), float4x4(0.047505348920822,-0.074128344655037,0.057046808302402,0.050224598497152,-0.021829061210155,-0.024196604266763,0.064413085579872,-0.044124249368906,-0.054476294666529,-0.008046509698033,-0.036780878901482,0.114885486662388,0.153846099972725,-0.107898399233818,-0.162635207176208,0.163942590355873));
res += mul(Get(s2,-dx,dy), float4x4(-0.116270370781422,-0.023775346577168,-0.009546896442771,0.120416052639484,0.040830489248037,-0.064518846571445,0.028507422655821,0.066502474248409,0.004123573657125,0.047457657754421,0.016837598755956,0.093419216573238,-0.089796252548695,0.018026703968644,0.039394225925207,-0.101559758186340));
res += mul(Get(s2,0,-dy), float4x4(0.077586725354195,0.032836403697729,-0.011055284179747,0.043749317526817,-0.015802036970854,-0.194336533546448,-0.066425852477551,-0.133683726191521,0.028980555012822,0.006013392470777,-0.074322983622551,0.147631958127022,-0.000538398453500,0.053173851221800,0.013573359698057,0.134754210710526));
res += mul(Get(s2,0,0), float4x4(0.083126574754715,0.060244694352150,0.080172382295132,-0.113033510744572,-0.034161962568760,0.047449607402086,0.016204029321671,0.034452918916941,0.003939254209399,-0.110154367983341,-0.122120127081871,-0.073377728462219,0.061944633722305,-0.055471915751696,0.060882065445185,-0.007859303615987));
res += mul(Get(s2,0,dy), float4x4(0.005736283492297,-0.035110034048557,-0.025247683748603,0.110655389726162,-0.112033680081367,0.008872422389686,-0.182036995887756,0.030220819637179,0.057335134595633,-0.000157840288011,0.128284513950348,0.140792921185493,-0.022732745856047,-0.033397778868675,-0.057676449418068,0.180346384644508));
res += mul(Get(s2,dx,-dy), float4x4(-0.008655900135636,-0.171214774250984,-0.018813190981746,0.041397873312235,-0.110884375870228,0.092865288257599,-0.029718210920691,-0.084208920598030,-0.113423950970173,0.126851782202721,-0.053023748099804,0.051609076559544,-0.092737242579460,-0.085199758410454,0.055885795503855,0.056814856827259));
res += mul(Get(s2,dx,0), float4x4(-0.069893836975098,0.022403534501791,0.065837025642395,0.031543146818876,-0.014147364534438,-0.018017606809735,-0.019793843850493,0.136052757501602,0.075239486992359,-0.036942731589079,-0.183948069810867,0.049951735883951,0.078358642756939,-0.021344572305679,0.099012687802315,-0.128170907497406));
res += mul(Get(s2,dx,dy), float4x4(-0.075927078723907,-0.125435695052147,0.001391479396261,0.015151019208133,0.028584443032742,0.138128176331520,-0.263541400432587,-0.133952260017395,-0.154385030269623,0.017678420990705,-0.028399221599102,0.087834581732750,-0.039212685078382,0.006740564014763,0.068698279559612,0.004797236062586));
res += mul(Get(s3,-dx,-dy), float4x4(0.047947172075510,0.050332944840193,0.253503352403641,0.009156494401395,0.109446540474892,0.063379362225533,-0.151051416993141,0.042616780847311,0.017286142334342,0.080101884901524,-0.055701144039631,-0.041607696563005,0.020178621634841,0.055831205099821,-0.031134545803070,-0.005243873223662));
res += mul(Get(s3,-dx,0), float4x4(0.008246750570834,-0.093911789357662,0.008845917880535,-0.037879861891270,-0.027642328292131,-0.011915269307792,0.055174663662910,-0.002488988218829,-0.097631640732288,-0.010533347725868,0.078206047415733,-0.167309954762459,-0.073643438518047,0.049221232533455,-0.067717522382736,0.046586960554123));
res += mul(Get(s3,-dx,dy), float4x4(-0.015264573507011,-0.114988498389721,-0.054931748658419,0.057087123394012,-0.078500367701054,-0.039516102522612,0.022964103147388,0.026770407333970,0.143513232469559,0.149744316935539,0.035877097398043,-0.051769215613604,-0.048817962408066,0.024563025683165,0.113454379141331,0.069393157958984));
res += mul(Get(s3,0,-dy), float4x4(0.070797882974148,-0.055239338427782,0.124730363488197,0.089344657957554,0.103353701531887,-0.119450308382511,-0.096755422651768,-0.019151819869876,0.032661877572536,0.081994734704494,-0.074859157204628,0.103068105876446,-0.134228795766830,-0.042455937713385,-0.050686433911324,0.150628536939621));
res += mul(Get(s3,0,0), float4x4(0.064418822526932,-0.157182514667511,0.063615255057812,-0.029608553275466,-0.098763145506382,0.008935881778598,0.119261369109154,0.066403619945049,0.026891797780991,-0.040904235094786,-0.091379337012768,0.059343431144953,-0.020741187036037,-0.032392080873251,0.120337285101414,-0.087911598384380));
res += mul(Get(s3,0,dy), float4x4(-0.057438254356384,-0.197082519531250,-0.103921703994274,-0.033297374844551,0.096739098429680,-0.045869898051023,-0.135605633258820,-0.165277898311615,0.135693967342377,0.016335532069206,-0.055812276899815,0.034798681735992,-0.097767956554890,0.147365674376488,0.168990507721901,-0.022791868075728));
res += mul(Get(s3,dx,-dy), float4x4(0.006894861813635,-0.052086200565100,-0.118073478341103,0.063634723424911,-0.059474050998688,-0.088147476315498,-0.209107518196106,0.111847989261150,-0.023732610046864,-0.156976059079170,-0.042933963239193,0.000497765897308,-0.106107056140900,0.007877944037318,0.012977329082787,-0.052173022180796));
res += mul(Get(s3,dx,0), float4x4(-0.050656426697969,0.056706391274929,0.002228654688224,0.050417616963387,-0.007989373058081,-0.092828683555126,0.202615678310394,-0.042801026254892,-0.013740183785558,0.132178127765656,-0.001872096210718,0.014566240832210,-0.037835586816072,-0.001155514619313,-0.046102467924356,0.133566960692406));
res += mul(Get(s3,dx,dy), float4x4(0.077818356454372,-0.063064351677895,-0.017928276211023,-0.023487763479352,-0.165158078074455,0.000646496773697,0.141316950321198,-0.127665266394615,-0.142617449164391,-0.020158953964710,0.085000164806843,0.127706781029701,0.008532797917724,-0.033229462802410,-0.066803246736526,0.001491470378824));
return max(float4(0,0,0,0), res);
}
