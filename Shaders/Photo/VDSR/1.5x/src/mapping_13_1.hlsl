sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.030030883848667,-0.019925059750676,0.047101140022278,-0.055736593902111,0.023827997967601,-0.043983973562717,-0.052430216223001,0.138057872653008,0.007665704004467,-0.044086441397667,0.006936364341527,-0.019094962626696,0.003326494479552,-0.097378231585026,0.004806305747479,-0.104780092835426));
res += mul(Get(s0,-dx,0), float4x4(0.098000861704350,0.139963552355766,0.100150085985661,-0.081268481910229,-0.027506813406944,-0.034828737378120,0.002158176619560,0.075847834348679,-0.009749481454492,-0.026874974370003,0.106811925768852,-0.026769241318107,0.017996896058321,-0.054061003029346,0.055449038743973,0.109026551246643));
res += mul(Get(s0,-dx,dy), float4x4(0.005086553748697,0.136930704116821,0.001339194481261,-0.024673791602254,0.007364313583821,-0.048780974000692,-0.042651068419218,0.004270406439900,0.015877420082688,-0.107555769383907,0.099291980266571,-0.075102597475052,0.054891332983971,-0.041968144476414,0.000507620105054,-0.031184168532491));
res += mul(Get(s0,0,-dy), float4x4(-0.025787966325879,0.133679747581482,0.019179478287697,0.030648026615381,0.016625981777906,-0.022046275436878,-0.093186214566231,0.095550395548344,0.069832682609558,-0.054320890456438,0.003352103754878,-0.017724977806211,-0.014029026962817,0.115112349390984,-0.038570638746023,0.067481487989426));
res += mul(Get(s0,0,0), float4x4(-0.057503320276737,0.080263160169125,-0.048812143504620,0.024450942873955,0.012349338270724,-0.025230573490262,-0.027073113247752,0.011988423764706,-0.010136847384274,0.012691614218056,0.017978560179472,-0.075589187443256,0.005892022047192,0.141494467854500,-0.026942441239953,0.092975318431854));
res += mul(Get(s0,0,dy), float4x4(-0.090221092104912,0.062610350549221,-0.040746178478003,0.056279275566339,0.023983631283045,-0.007045108824968,-0.023543052375317,-0.089003078639507,-0.006825433112681,-0.011631488800049,0.053615834563971,-0.096106782555580,0.020304268226027,0.054763600230217,-0.038605432957411,-0.030087957158685));
res += mul(Get(s0,dx,-dy), float4x4(0.098859682679176,-0.011856890283525,-0.042236372828484,0.036189187318087,0.002482476644218,-0.001786636072211,-0.066225022077560,0.035077545791864,0.000624353706371,-0.010374404489994,0.028691753745079,-0.022105386480689,-0.086607106029987,0.019508782774210,-0.035556863993406,0.086885683238506));
res += mul(Get(s0,dx,0), float4x4(0.070424176752567,-0.028661999851465,0.013490952551365,0.011588887311518,-0.028505435213447,0.019049340859056,-0.015314424410462,0.009196323342621,-0.029192460700870,-0.061410922557116,-0.026450026780367,-0.071177728474140,-0.031422331929207,-0.029466331005096,0.017516156658530,0.067460656166077));
res += mul(Get(s0,dx,dy), float4x4(0.039309281855822,-0.046691935509443,-0.052638601511717,-0.112827129662037,-0.044357892125845,0.026242800056934,-0.052963886409998,-0.056962411850691,-0.030642606317997,-0.132647857069969,-0.049573410302401,-0.049976274371147,-0.009183741174638,-0.062037795782089,-0.012727905996144,-0.093741931021214));
res += mul(Get(s1,-dx,-dy), float4x4(0.068237237632275,0.004696982447058,-0.036643467843533,-0.045651935040951,-0.039114572107792,0.036903999745846,0.021334348246455,0.103386543691158,0.045034959912300,0.127337127923965,-0.068453855812550,-0.027229642495513,-0.013469253666699,0.032177880406380,-0.039444088935852,0.059400543570518));
res += mul(Get(s1,-dx,0), float4x4(-0.017864275723696,0.087848454713821,0.101107105612755,-0.006773415487260,-0.033932376652956,0.081933870911598,-0.043218314647675,0.035002946853638,-0.041545797139406,0.141541182994843,-0.056157849729061,-0.033449489623308,-0.004042897373438,0.200216233730316,-0.064262248575687,-0.073280155658722));
res += mul(Get(s1,-dx,dy), float4x4(-0.036942072212696,-0.013489748351276,-0.034799046814442,0.083185851573944,0.016805296763778,0.050599806010723,0.005344249773771,0.032474085688591,-0.073815472424030,0.104392163455486,-0.135191708803177,0.007668557111174,0.033942110836506,0.008542467840016,-0.131860658526421,0.041024558246136));
res += mul(Get(s1,0,-dy), float4x4(0.056946702301502,-0.064135752618313,-0.155443027615547,-0.024406291544437,0.000424095283961,-0.124961458146572,-0.028593959286809,0.022529333829880,0.269145101308823,0.038677938282490,-0.012070893310010,-0.024976825341582,-0.048359770327806,-0.026332566514611,-0.026066698133945,-0.012311150319874));
res += mul(Get(s1,0,0), float4x4(-0.002575694583356,-0.095891669392586,0.028719572350383,0.094992615282536,-0.035126704722643,-0.053567562252283,0.087437450885773,0.012990067712963,0.205787122249603,0.054713338613510,0.077660650014877,0.106827311217785,-0.118454463779926,0.014736328274012,0.081782914698124,0.085974641144276));
res += mul(Get(s1,0,dy), float4x4(0.065624482929707,0.023700570687652,0.013801599852741,-0.047834694385529,-0.020247444510460,-0.050262466073036,0.094626821577549,0.023815024644136,0.106144227087498,0.039807558059692,0.056422684341669,0.016938067972660,-0.086001574993134,-0.055173717439175,0.074833594262600,0.204683572053909));
res += mul(Get(s1,dx,-dy), float4x4(0.053314849734306,0.142301201820374,-0.019760685041547,-0.032306864857674,0.052080392837524,0.088464803993702,-0.001697966828942,0.065910875797272,0.043359629809856,-0.195355013012886,0.011759703978896,0.046656828373671,0.050293970853090,0.028671646490693,0.004263560287654,-0.044588282704353));
res += mul(Get(s1,dx,0), float4x4(0.090575769543648,0.151510462164879,0.098402425646782,-0.061303112655878,0.027264472097158,-0.010017682798207,0.084976896643639,0.000448155420600,0.031761843711138,-0.131192356348038,0.042282514274120,0.112064346671104,0.098370261490345,0.018753563985229,0.030706953257322,0.167787820100784));
res += mul(Get(s1,dx,dy), float4x4(0.010098729282618,-0.011988589540124,0.066608496010303,-0.006269935518503,0.025696652010083,0.021616021171212,-0.070773296058178,0.028039349243045,0.026330756023526,-0.183685198426247,-0.019370824098587,0.004606709815562,-0.042451497167349,-0.001596205052920,-0.043510623276234,0.045773319900036));
res += mul(Get(s2,-dx,-dy), float4x4(0.035350892692804,0.020635303109884,-0.099152766168118,0.018036056309938,0.021121438592672,-0.062370639294386,0.026881886646152,-0.059963352978230,-0.013335980474949,-0.066600851714611,-0.070186614990234,0.041950404644012,-0.001332106068730,0.031494434922934,0.073610380291939,-0.013985306024551));
res += mul(Get(s2,-dx,0), float4x4(-0.081113278865814,-0.068167664110661,-0.033823572099209,-0.026196276769042,-0.063844859600067,0.018433472141623,-0.122155539691448,-0.030994068831205,0.070626713335514,-0.015609583817422,-0.165851220488548,0.001355143729597,0.065647885203362,0.018294472247362,0.130114778876305,-0.018700920045376));
res += mul(Get(s2,-dx,dy), float4x4(-0.075270876288414,-0.004893156699836,-0.063679881393909,-0.006120849400759,-0.040220297873020,-0.032136194407940,-0.080252222716808,-0.112919241189957,0.012135841883719,-0.108731329441071,-0.150276690721512,-0.003501405473799,-0.000173542954144,-0.043577201664448,-0.039277553558350,-0.034940410405397));
res += mul(Get(s2,0,-dy), float4x4(0.070793859660625,-0.011135798878968,-0.137167200446129,-0.166640177369118,0.031741425395012,0.025965312495828,0.062220953404903,0.056716483086348,0.022537341341376,-0.014927168376744,-0.020999273285270,0.042589455842972,-0.028543507680297,0.008594725281000,0.057701211422682,-0.014947502873838));
res += mul(Get(s2,0,0), float4x4(-0.022432597354054,-0.054554041475058,-0.019002735614777,-0.016533369198442,-0.067340418696404,-0.126485452055931,0.089952148497105,0.068209931254387,-0.026544431224465,-0.085559681057930,-0.103837944567204,0.147858142852783,-0.050317861139774,-0.060460593551397,0.054063871502876,0.025719858705997));
res += mul(Get(s2,0,dy), float4x4(-0.026127094402909,-0.066537156701088,0.043922327458858,-0.015199637040496,-0.021807642653584,-0.047179419547319,0.011122116819024,-0.056610636413097,0.027333632111549,0.004275743383914,-0.072213478386402,0.017145268619061,-0.043223682790995,-0.022902755066752,0.025651700794697,-0.023825848475099));
res += mul(Get(s2,dx,-dy), float4x4(-0.001963664079085,0.026238348335028,0.019236095249653,-0.119632713496685,0.040988456457853,0.016288021579385,-0.026126448065042,-0.055848393589258,-0.067732341587543,-0.015831815078855,-0.128512471914291,0.137639522552490,0.036343734711409,-0.002983197569847,0.046484943479300,-0.070690102875233));
res += mul(Get(s2,dx,0), float4x4(-0.055020455271006,0.022047668695450,0.000567425275221,-0.007198363076895,0.028081981465220,0.131595477461815,-0.032605852931738,-0.056234091520309,0.050986427813768,-0.027958864346147,0.007306497078389,0.008453969843686,0.079740978777409,-0.035676445811987,0.199773266911507,0.039162013679743));
res += mul(Get(s2,dx,dy), float4x4(-0.024375079199672,-0.001917100278661,-0.039094388484955,-0.020052680745721,0.102876558899879,-0.014674996957183,-0.069364033639431,-0.038320340216160,0.023256415501237,-0.044462710618973,-0.065784342586994,0.064014375209808,-0.078414589166641,0.053279474377632,0.038472238928080,0.014981346204877));
res += mul(Get(s3,-dx,-dy), float4x4(-0.034655619412661,-0.105200141668320,-0.053266875445843,0.001213937881403,0.027198072522879,-0.012548719532788,0.045152969658375,-0.053955502808094,0.011927401646972,-0.012401027604938,-0.022621933370829,-0.043619524687529,-0.021211747080088,-0.094029150903225,0.033549200743437,-0.020967768505216));
res += mul(Get(s3,-dx,0), float4x4(-0.038027010858059,-0.028185490518808,0.122864365577698,-0.036510493606329,-0.009589200839400,0.043622925877571,-0.005341885145754,0.058482218533754,0.087256222963333,-0.148403048515320,-0.013197048567235,-0.126215457916260,-0.016161063686013,0.000465924735181,-0.001350171631202,0.088341847062111));
res += mul(Get(s3,-dx,dy), float4x4(-0.034099228680134,-0.084592044353485,-0.088919043540955,-0.037918824702501,0.046266220510006,-0.043945711106062,-0.064593650400639,-0.010865815915167,0.015315428376198,-0.069272637367249,0.001370611251332,-0.004576008301228,-0.030537504702806,0.014540527947247,-0.074954219162464,-0.051551192998886));
res += mul(Get(s3,0,-dy), float4x4(-0.002366058761254,0.027647191658616,-0.077476471662521,0.104010842740536,-0.085966005921364,-0.002808670978993,-0.009312841109931,-0.053080338984728,-0.029378861188889,0.000610919087194,0.099736519157887,-0.002740221098065,0.108111806213856,-0.077975921332836,0.117318175733089,-0.026458792388439));
res += mul(Get(s3,0,0), float4x4(-0.032166596502066,0.044552586972713,0.113225921988487,-0.028987692669034,-0.077623054385185,0.033595409244299,0.044528931379318,0.084429554641247,-0.002329707844183,0.089164137840271,0.013137049041688,-0.087204113602638,0.029151745140553,0.067613042891026,0.134716987609863,0.085100732743740));
res += mul(Get(s3,0,dy), float4x4(-0.084290839731693,0.129758566617966,-0.030626850202680,-0.055527854710817,-0.021073725074530,-0.006759449839592,-0.029499405995011,0.069402284920216,-0.064627885818481,0.059915624558926,0.163144052028656,0.097382389008999,-0.003546677064151,-0.002770967781544,0.062786564230919,-0.093280084431171));
res += mul(Get(s3,dx,-dy), float4x4(0.019980294629931,-0.010362195782363,-0.053769316524267,-0.031940001994371,0.015469242818654,0.024710355326533,-0.000240789828240,-0.021031180396676,-0.056321699172258,-0.035963304340839,-0.048724487423897,-0.046440280973911,0.003294224850833,-0.014133650809526,0.026530653238297,-0.051657725125551));
res += mul(Get(s3,dx,0), float4x4(-0.001763249747455,0.017979055643082,0.046504992991686,-0.052284196019173,-0.006381478626281,0.010355627164245,0.034110572189093,0.118961036205292,-0.085541859269142,-0.051789116114378,0.045323852449656,-0.041858937591314,-0.097943782806396,-0.000950218876824,-0.043445475399494,-0.021214446052909));
res += mul(Get(s3,dx,dy), float4x4(0.021739849820733,-0.020150750875473,-0.030436266213655,-0.044812627136707,-0.037390485405922,-0.040320258587599,-0.112989947199821,-0.069449998438358,-0.049829509109259,-0.039765603840351,0.068743124604225,0.009077686816454,-0.118539422750473,-0.027819646522403,-0.031882468611002,0.135393977165222));
return max(float4(0,0,0,0), res);
}
