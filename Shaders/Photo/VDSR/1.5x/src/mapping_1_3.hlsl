sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.097474128007889,0.079231150448322,0.028967803344131,-0.082140564918518,-0.054498597979546,0.111729100346565,0.062149737030268,0.038349039852619,0.027726408094168,0.030255313962698,-0.130628749728203,-0.047888200730085,-0.076648943126202,0.035405915230513,0.011379042640328,0.015270496718585));
res += mul(Get(s0,-dx,0), float4x4(0.105947025120258,-0.041069407016039,0.072943426668644,0.078423790633678,0.226516902446747,0.057282250374556,-0.067624688148499,-0.060269635170698,0.189543023705482,0.039649661630392,-0.042981203645468,-0.059428691864014,0.015807380899787,0.065334439277649,-0.111308827996254,0.072713233530521));
res += mul(Get(s0,-dx,dy), float4x4(-0.126215264201164,-0.047861829400063,-0.023103890940547,0.010535305365920,0.030424309894443,-0.098352372646332,-0.092558309435844,0.013605081476271,0.009693378582597,0.051572732627392,0.001743943779729,0.081335857510567,0.033828243613243,0.154741257429123,0.257592022418976,0.048004161566496));
res += mul(Get(s0,0,-dy), float4x4(-0.087517701089382,0.127916112542152,-0.131420090794563,0.092470124363899,0.102053605020046,-0.116090841591358,0.061470527201891,0.182047694921494,-0.001815617899410,-0.308878839015961,-0.034816768020391,0.143153235316277,0.000348436675267,0.087962791323662,-0.085158944129944,0.100700877606869));
res += mul(Get(s0,0,0), float4x4(-0.113814078271389,0.013261440210044,0.043246112763882,-0.012384476140141,-0.124418616294861,0.040312521159649,0.004373915027827,-0.087221890687943,-0.053653094917536,0.142278209328651,0.035898879170418,-0.097338519990444,-0.144171744585037,-0.000931161222979,-0.010144734755158,0.020690159872174));
res += mul(Get(s0,0,dy), float4x4(-0.022314578294754,0.130775094032288,-0.053860660642385,-0.140709102153778,0.001618950627744,0.277900785207748,0.033671729266644,0.065684378147125,0.084340475499630,-0.151478946208954,0.070496849715710,-0.093688435852528,-0.002589801792055,-0.057618483901024,-0.155730277299881,-0.037614725530148));
res += mul(Get(s0,dx,-dy), float4x4(0.025003343820572,-0.124552480876446,-0.051496796309948,0.062585897743702,0.025722989812493,0.107012182474136,-0.142962142825127,-0.057599093765020,-0.027127604931593,-0.003963385708630,0.050170220434666,0.209101364016533,0.128070786595345,-0.077206045389175,0.118503473699093,-0.072295047342777));
res += mul(Get(s0,dx,0), float4x4(-0.059513479471207,0.041195094585419,-0.070299766957760,0.049199439585209,-0.144795432686806,-0.083809956908226,-0.040394172072411,0.143602028489113,0.067904859781265,-0.120991036295891,0.009140696376562,0.033684611320496,-0.107065148651600,-0.076979406177998,-0.088171310722828,0.143224835395813));
res += mul(Get(s0,dx,dy), float4x4(0.126857429742813,-0.032030444592237,0.166615605354309,-0.068499296903610,0.077733643352985,-0.078677564859390,0.196298822760582,0.010025502182543,-0.006732583045959,0.082495100796223,-0.067458502948284,-0.092636778950691,-0.002758414950222,-0.030699403956532,0.045358166098595,-0.257125675678253));
res += mul(Get(s1,-dx,-dy), float4x4(0.061441514641047,0.116551183164120,-0.180142924189568,-0.011650085449219,-0.129356518387794,0.125660732388496,-0.099107854068279,0.027101747691631,-0.030595000833273,-0.033628836274147,0.049140889197588,-0.120040602982044,-0.001576512586325,0.006652894895524,-0.024640418589115,0.037020746618509));
res += mul(Get(s1,-dx,0), float4x4(-0.036656707525253,0.065487056970596,-0.125299468636513,-0.143921211361885,-0.054879236966372,0.081201992928982,0.042548641562462,-0.166300445795059,-0.086869701743126,0.021840399131179,0.062533959746361,0.127513036131859,0.125275522470474,-0.018925111740828,0.067071251571178,0.097878910601139));
res += mul(Get(s1,-dx,dy), float4x4(0.017231484875083,-0.037179533392191,0.035964995622635,0.022780487313867,0.093049176037312,-0.005773853044957,0.065773218870163,-0.032261148095131,-0.182646289467812,0.057213880121708,-0.039841599762440,0.072597272694111,-0.004224935546517,0.089467123150826,0.085943013429642,0.012336197309196));
res += mul(Get(s1,0,-dy), float4x4(-0.013533943332732,0.052917882800102,-0.099891103804111,0.153141245245934,-0.068833611905575,-0.054585557430983,0.107368677854538,0.030180618166924,0.049351945519447,0.199049323797226,-0.050149120390415,0.015863042324781,-0.097303017973900,-0.089584685862064,-0.115883216261864,0.071214325726032));
res += mul(Get(s1,0,0), float4x4(0.014112758450210,-0.111705258488655,0.258517473936081,0.201655760407448,0.047758106142282,0.029616245999932,0.130003407597542,-0.053019125014544,0.026539320126176,0.126008048653603,0.015694815665483,0.107012718915939,0.293319612741470,0.215717360377312,0.056480254977942,-0.026463637128472));
res += mul(Get(s1,0,dy), float4x4(0.144904792308807,0.003968944307417,0.007069171406329,0.066447988152504,0.001318079070188,0.107484854757786,0.089323654770851,0.076052568852901,-0.071201883256435,-0.001825847313739,-0.072010204195976,0.084789276123047,-0.026574039831758,-0.093330167233944,0.008078424260020,-0.176763355731964));
res += mul(Get(s1,dx,-dy), float4x4(-0.098828189074993,0.098095946013927,0.085526958107948,-0.052463680505753,-0.012324054725468,0.138550117611885,0.027511389926076,0.014311904087663,-0.019970707595348,0.024475647136569,-0.089461676776409,-0.053193222731352,-0.141377672553062,0.084386721253395,-0.101469688117504,0.071265950798988));
res += mul(Get(s1,dx,0), float4x4(0.116711474955082,0.010135954245925,0.040389940142632,0.003189958399162,0.014063153415918,-0.048787232488394,-0.094728536903858,-0.017146224156022,-0.196213811635971,0.155555695295334,-0.130620047450066,0.270184010267258,-0.018575409427285,-0.082818455994129,0.176859140396118,0.073381610214710));
res += mul(Get(s1,dx,dy), float4x4(-0.069105118513107,-0.001251227338798,-0.129378288984299,0.011344221420586,0.092133387923241,-0.025223476812243,0.034804135560989,0.009790473617613,0.003950812388211,0.069930650293827,0.157515227794647,-0.026143532246351,-0.040460560470819,0.038716878741980,-0.083677835762501,0.151508435606956));
res += mul(Get(s2,-dx,-dy), float4x4(-0.019848667085171,0.004396672360599,0.079304866492748,0.024042448028922,-0.160866394639015,-0.011336727067828,-0.187962368130684,0.058650128543377,-0.157449394464493,0.062653854489326,0.029665932059288,-0.005009177140892,0.305648446083069,-0.065242588520050,0.044224113225937,0.051415391266346));
res += mul(Get(s2,-dx,0), float4x4(0.150581061840057,0.156391292810440,-0.144492879509926,-0.010778107680380,0.227482810616493,-0.067428961396217,0.044590611010790,-0.130683675408363,-0.158469378948212,0.076301679015160,-0.043414898216724,0.151344761252403,0.055100563913584,-0.031622756272554,-0.169587507843971,-0.068982571363449));
res += mul(Get(s2,-dx,dy), float4x4(0.049806989729404,-0.069407716393471,-0.033086948096752,0.094688378274441,0.094898603856564,-0.083116702735424,0.161862522363663,-0.056833125650883,-0.036066927015781,-0.065403357148170,0.110431022942066,-0.105029493570328,-0.005782504100353,0.001110104611143,0.021481901407242,0.027799697592854));
res += mul(Get(s2,0,-dy), float4x4(0.086415164172649,0.178010374307632,0.049726948142052,0.054188083857298,0.104446008801460,0.099507577717304,0.100002184510231,-0.091192461550236,0.067206189036369,-0.097091525793076,-0.093076318502426,-0.036838226020336,0.078192889690399,0.160257309675217,-0.139825642108917,-0.121295087039471));
res += mul(Get(s2,0,0), float4x4(-0.009990505874157,-0.096378661692142,-0.073871694505215,0.117044664919376,-0.094162188470364,0.227212354540825,-0.082397483289242,-0.034572139382362,0.063503600656986,-0.032917506992817,-0.179003104567528,0.066860496997833,-0.158941507339478,0.173205316066742,-0.054786272346973,-0.072108291089535));
res += mul(Get(s2,0,dy), float4x4(-0.002258987398818,0.006788862869143,-0.079598098993301,-0.127874955534935,0.043030254542828,-0.094376794993877,0.110533617436886,-0.093781307339668,0.003267986001447,-0.101355955004692,-0.063910618424416,0.003856709692627,0.112065516412258,-0.066255480051041,0.147185146808624,0.004408244974911));
res += mul(Get(s2,dx,-dy), float4x4(-0.159514591097832,0.190245807170868,0.037361305207014,0.052492368966341,-0.016948845237494,-0.059007987380028,-0.049326416105032,0.060042243450880,-0.125690340995789,0.081155166029930,-0.043111428618431,-0.004410663153976,-0.013906546868384,-0.050474140793085,-0.053020492196083,-0.055148474872112));
res += mul(Get(s2,dx,0), float4x4(0.015847178176045,-0.015289532020688,0.093809448182583,0.093207970261574,-0.027867585420609,0.045089941471815,-0.109194144606590,0.062238596379757,-0.007345747668296,-0.084675140678883,0.164992108941078,-0.010811539366841,-0.018802639096975,-0.076017059385777,-0.021562386304140,0.123052209615707));
res += mul(Get(s2,dx,dy), float4x4(0.021049631759524,0.006430378649384,0.026038860902190,-0.031089572235942,-0.010662368498743,-0.092987582087517,-0.029265193268657,0.105484209954739,-0.027346916496754,-0.220569342374802,0.048521008342505,-0.019153762608767,-0.118071563541889,0.056136038154364,-0.051271338015795,-0.024635097011924));
res += mul(Get(s3,-dx,-dy), float4x4(-0.036991782486439,0.170378759503365,-0.205268561840057,0.026534499600530,0.062208104878664,0.000617733050603,-0.063720434904099,0.001324241748080,-0.121596097946167,-0.000195609027287,-0.093693055212498,-0.103835515677929,-0.143642768263817,-0.086106583476067,0.071162782609463,-0.081188380718231));
res += mul(Get(s3,-dx,0), float4x4(0.004356681369245,-0.076097011566162,-0.038684468716383,0.021476522088051,-0.086500398814678,-0.013386324979365,0.025948338210583,-0.086430877447128,0.096758738160133,-0.024548541754484,0.050027497112751,0.016680400818586,0.067320853471756,-0.036420539021492,0.007979024201632,0.141092896461487));
res += mul(Get(s3,-dx,dy), float4x4(0.282552063465118,-0.098765186965466,-0.014792432077229,0.080564938485622,-0.039253044873476,-0.148028537631035,0.031917896121740,-0.088538043200970,0.049073979258537,0.047149322926998,0.080824345350266,-0.018014721572399,-0.023220116272569,-0.023157522082329,-0.141796037554741,-0.083410546183586));
res += mul(Get(s3,0,-dy), float4x4(-0.296640604734421,-0.098044902086258,0.049336422234774,-0.020949048921466,-0.098720915615559,-0.052552860230207,-0.051993373781443,-0.023349996656179,-0.082645826041698,0.022686854004860,-0.042469177395105,-0.010134582407773,0.057164303958416,-0.012343479320407,0.083705030381680,-0.094580553472042));
res += mul(Get(s3,0,0), float4x4(0.078397102653980,0.083606734871864,0.153098076581955,0.081384956836700,-0.151818215847015,0.189047589898109,-0.012730862945318,0.007179160602391,-0.028919281437993,-0.050409480929375,-0.032488066703081,0.070267491042614,0.100699901580811,0.067081563174725,-0.038967192173004,0.032662142068148));
res += mul(Get(s3,0,dy), float4x4(-0.033551085740328,-0.104663722217083,0.018026510253549,0.044940996915102,0.131849497556686,0.029298486188054,-0.081490464508533,0.142072200775146,-0.135481700301170,0.098055295646191,-0.022800613194704,0.047829356044531,-0.090810403227806,0.042459964752197,-0.157368421554565,0.012432510033250));
res += mul(Get(s3,dx,-dy), float4x4(-0.134499266743660,0.051040347665548,-0.025182668119669,-0.080912992358208,0.054533712565899,0.070412971079350,0.124039649963379,-0.147773861885071,-0.076341293752193,0.123757384717464,0.048619285225868,-0.070978768169880,0.045112311840057,-0.029452189803123,0.078564658761024,-0.044402845203876));
res += mul(Get(s3,dx,0), float4x4(-0.016389427706599,-0.121623277664185,-0.005640338640660,0.066381946206093,0.045094493776560,-0.027319543063641,-0.010966675356030,0.091843232512474,-0.035619378089905,0.152429133653641,-0.075733743607998,0.164796531200409,0.067337013781071,-0.044106777757406,-0.040074575692415,-0.104323968291283));
res += mul(Get(s3,dx,dy), float4x4(-0.124332860112190,0.098357126116753,0.030911166220903,-0.063415408134460,-0.154749900102615,0.041923325508833,0.001421304070391,-0.114577405154705,0.034911263734102,-0.066007465124130,-0.066699199378490,-0.075782999396324,-0.076391614973545,0.094248659908772,0.014613224193454,0.056759070605040));
return max(float4(0,0,0,0), res);
}
