sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012899168767035,-0.031318739056587,-0.198202982544899,-0.000517271808349,-0.038304012268782,0.004173518158495,0.000779900990892,-0.000603398890235,0.093776397407055,-0.042075883597136,-0.074005715548992,0.000741072581150,-0.003124817973003,-0.008805100806057,0.005245254840702,-0.008022286929190));
res += mul(Get(s0,-dx,0), float4x4(0.120993010699749,0.018188828602433,-0.012297238223255,-0.000640979968011,-0.049112450331450,0.028194259852171,0.003067266428843,0.001775657525286,0.224663302302361,-0.017589533701539,-0.434451967477798,-0.007860114797950,0.014580377377570,-0.001231558970176,0.026085102930665,0.002075694967061));
res += mul(Get(s0,-dx,dy), float4x4(0.045307949185371,-0.024811839684844,-0.010820071212947,-0.005890115629882,-0.053060054779053,0.005877742543817,-0.065491750836372,0.006388700101525,0.029761809855700,0.061575286090374,-0.180253922939301,0.000854511104990,-0.054445028305054,0.035385999828577,-0.008981269784272,-0.003609042847529));
res += mul(Get(s0,0,-dy), float4x4(-0.050325188785791,-0.012064752168953,-0.075451731681824,-0.000089732311608,-0.045654065907001,-0.001702197594568,-0.004290865734220,-0.003246491774917,0.024318829178810,-0.005273146554828,-0.071196943521500,-0.006111978087574,0.049870666116476,-0.005024325102568,-0.007772479206324,0.001201631966978));
res += mul(Get(s0,0,0), float4x4(0.056105419993401,0.070337370038033,-0.009085713885725,-0.000786400982179,-0.024126445874572,0.009526806883514,-0.035234633833170,-0.006457325536758,0.086535423994064,0.057858698070049,-0.114995822310448,-0.000230060235481,-0.021378546953201,0.002812804421410,-0.045413319021463,0.001761331572197));
res += mul(Get(s0,0,dy), float4x4(-0.016004199162126,-0.004800983704627,0.007970193400979,0.004382515326142,-0.009635774418712,-0.002646457171068,-0.037958204746246,-0.002871781354770,0.150006473064423,0.131140395998955,-0.125332653522491,0.003191777737811,-0.069768212735653,0.021793369203806,0.010786260478199,0.003366559743881));
res += mul(Get(s0,dx,-dy), float4x4(-0.082286342978477,-0.070144779980183,0.159632503986359,-0.002126627368852,-0.026777423918247,-0.000552403391339,-0.020270541310310,-0.004796829074621,-0.137581571936607,-0.000000307858272,0.111383855342865,0.000324885593727,0.072483122348785,-0.013095458038151,0.052877340465784,0.002295586280525));
res += mul(Get(s0,dx,0), float4x4(-0.045407157391310,-0.047262441366911,0.020633224397898,0.002040557330474,0.029207207262516,0.006388060282916,-0.008612198755145,-0.003834182396531,-0.457525372505188,-0.087983727455139,0.608097553253174,0.000750798615627,0.015542159788311,0.005705004557967,0.027895636856556,0.002908159745857));
res += mul(Get(s0,dx,dy), float4x4(-0.056185003370047,-0.091290816664696,0.017374368384480,-0.004783911164850,0.018448218703270,0.003173371776938,0.024004761129618,-0.000015236931176,-0.102720983326435,-0.090164147317410,0.305024534463882,-0.001258093165234,-0.018911043182015,0.039732031524181,-0.052604936063290,0.002714598551393));
res += mul(Get(s1,-dx,-dy), float4x4(0.028476409614086,0.006692030932754,-0.012118026614189,-0.000419034884544,0.030606620013714,0.030918195843697,-0.142424240708351,0.003782170126215,-0.002454063156620,-0.002237749053165,-0.005144931375980,0.000701326061971,0.052641466259956,0.006384259089828,0.013284454122186,-0.003572223475203));
res += mul(Get(s1,-dx,0), float4x4(0.046908937394619,-0.000525995157659,-0.057683695107698,0.000563592824619,0.047318074852228,0.059301123023033,-0.141759455204010,-0.000240818349994,0.000900603248738,0.007147434633225,-0.000678630138282,-0.009042179211974,0.047267057001591,-0.016808081418276,-0.034172911196947,0.003526630112901));
res += mul(Get(s1,-dx,dy), float4x4(0.029174612835050,0.085689485073090,-0.015964290127158,0.002036928897724,0.109232947230339,0.037654008716345,-0.190740942955017,0.000072083843406,-0.005997376982123,0.003389713820070,-0.014257508330047,-0.004570308141410,0.035887915641069,0.029599675908685,-0.067399352788925,0.000857536680996));
res += mul(Get(s1,0,-dy), float4x4(0.053795956075191,-0.005359604489058,-0.003793447511271,0.000743362877984,-0.076766848564148,-0.004212219268084,0.060651239007711,-0.000504375959281,0.007587417494506,-0.003162279026583,-0.029667386785150,-0.007720019668341,0.021046252921224,-0.004064383916557,-0.023277936503291,0.000081416656030));
res += mul(Get(s1,0,0), float4x4(0.002630466595292,0.002226917771623,-0.013485807925463,-0.001747095840983,-0.192996636033058,-0.027536690235138,0.345526903867722,0.002700847340748,0.002804004121572,-0.006315643899143,-0.004559723194689,0.005372511688620,0.005881557706743,0.017701558768749,0.002782260766253,0.003869689069688));
res += mul(Get(s1,0,dy), float4x4(-0.013705496676266,0.092974372208118,-0.015471999533474,-0.000050454313168,-0.032499834895134,-0.052533745765686,0.147213473916054,0.001226727035828,-0.009772424586117,-0.000086714142526,-0.003191766329110,0.003534261602908,0.039146456867456,0.075295470654964,-0.058264713734388,0.005648401100188));
res += mul(Get(s1,dx,-dy), float4x4(0.115196667611599,-0.003214535070583,0.008642072789371,0.003820917569101,-0.016169797629118,-0.022767992690206,-0.047606859356165,0.003920549061149,0.006553832907230,-0.002135419519618,-0.005974892526865,0.000786731718108,0.022723294794559,-0.006213530432433,-0.021548019722104,0.000171684048837));
res += mul(Get(s1,dx,0), float4x4(0.000075031501183,-0.000182894727914,0.034919463098049,-0.003139299806207,-0.034590139985085,-0.041731473058462,0.235470429062843,-0.004005511756986,0.002680036937818,-0.001019862713292,0.007179229985923,0.001790305366740,-0.054676719009876,-0.017632387578487,0.100713901221752,-0.003939504269511));
res += mul(Get(s1,dx,dy), float4x4(-0.011788400821388,0.067260421812534,0.031406700611115,-0.001487253815867,-0.005000302568078,-0.053974125534296,-0.012661811895669,-0.001457621576265,-0.003757764585316,0.005948457401246,-0.019036635756493,-0.001724699279293,-0.043494421988726,0.003988578449935,0.034258555620909,-0.009953441098332));
res += mul(Get(s2,-dx,-dy), float4x4(0.014031077735126,0.002587717026472,-0.033180069178343,-0.001113621401601,0.040928553789854,-0.001624976168387,-0.069893591105938,0.002262916415930,0.001112270867452,0.002847453579307,-0.008165745064616,-0.000213591119973,0.089132376015186,0.007654158864170,0.035659864544868,-0.001913444371894));
res += mul(Get(s2,-dx,0), float4x4(0.016522312536836,0.013669097796082,-0.025860652327538,0.000783408002462,0.095682881772518,0.000278848892776,0.042091161012650,0.000000679077004,0.031323857605457,0.003670670790598,-0.029652766883373,0.006303430534899,0.132186785340309,-0.040546055883169,-0.090498737990856,-0.000967793399468));
res += mul(Get(s2,-dx,dy), float4x4(0.008954617194831,0.004106179345399,-0.031610883772373,0.001899307011627,0.006716447416693,-0.068871401250362,-0.247236147522926,0.002260237932205,-0.013196500018239,0.081486940383911,-0.004798740148544,0.001719261286780,0.107368841767311,0.078522816300392,-0.023237213492393,-0.006961829494685));
res += mul(Get(s2,0,-dy), float4x4(-0.005971949547529,-0.006722950376570,-0.021143455058336,-0.004606240894645,-0.093244113028049,-0.039687044918537,0.003967265132815,0.000752185471356,-0.001177981612273,-0.000892154988833,-0.025786474347115,-0.003634567838162,0.045608095824718,-0.025343291461468,0.017177507281303,0.002964070299640));
res += mul(Get(s2,0,0), float4x4(0.006435734685510,-0.000372386246454,-0.021670732647181,-0.001456577330828,0.142188161611557,0.002006340771914,-0.046535424888134,-0.005645508877933,0.010027339681983,-0.000517188163940,0.027375809848309,-0.002673368668184,-0.026195662096143,-0.017782699316740,0.025264482945204,-0.007575979456306));
res += mul(Get(s2,0,dy), float4x4(0.018791662529111,-0.002156639471650,-0.038403499871492,0.005557613912970,-0.108383998274803,-0.032331019639969,-0.008535128086805,0.000420823984314,-0.033113479614258,0.064715892076492,0.055262312293053,-0.000712300126906,0.008996645919979,0.105571135878563,-0.007619381882250,-0.002451979322359));
res += mul(Get(s2,dx,-dy), float4x4(-0.005177672952414,-0.003487158101052,-0.020801829174161,-0.000356575503247,-0.149202182888985,-0.044588975608349,0.064554437994957,-0.001355345943011,-0.007239474914968,-0.002751308260486,0.012323983013630,0.004102638456970,0.122633062303066,-0.016795858740807,-0.130669131875038,0.001617782167159));
res += mul(Get(s2,dx,0), float4x4(0.000994785572402,0.006405646447092,-0.014170611277223,0.002760792616755,0.105021342635155,-0.004569485317916,-0.022921565920115,-0.002096568699926,0.000082850550825,-0.000277685176115,0.082949519157410,-0.000787875906099,-0.067609041929245,-0.018608883023262,0.108866408467293,-0.000354020361556));
res += mul(Get(s2,dx,dy), float4x4(0.007671471685171,-0.005799557548016,-0.017828751355410,-0.003591291839257,-0.246715277433395,-0.037116594612598,0.323188871145248,-0.001210335525684,-0.040466073900461,0.049624543637037,0.035379376262426,0.000388515676605,-0.054579321295023,0.021655160933733,0.058959711343050,-0.001819146098569));
res += mul(Get(s3,-dx,-dy), float4x4(0.014140957966447,0.006139955483377,-0.013231423683465,-0.001363599207252,0.005365357268602,0.018827140331268,-0.010539200156927,0.001810867805034,0.001831339322962,0.003329287283123,-0.004608673974872,0.003862129990011,0.009680415503681,-0.005412999074906,0.027315028011799,-0.004524146206677));
res += mul(Get(s3,-dx,0), float4x4(0.034491434693336,0.001807770924643,-0.039014719426632,0.005826889537275,0.019373862072825,0.030660117045045,-0.042949222028255,-0.005762665532529,0.001010674750432,0.017732251435518,-0.014602339826524,-0.001470498973504,0.065392754971981,0.035733349621296,0.013816994614899,-0.003656145883724));
res += mul(Get(s3,-dx,dy), float4x4(0.021032236516476,0.028691561892629,-0.037463583052158,-0.002680863253772,0.011873168870807,0.038629435002804,-0.032664760947227,0.003542420221493,-0.005775577854365,-0.000173700886080,0.004793899133801,0.003108998760581,0.013837595470250,0.004031186923385,0.064758688211441,0.004943239968270));
res += mul(Get(s3,0,-dy), float4x4(-0.024849608540535,-0.007112244609743,-0.016344392672181,-0.003088460303843,0.003183343214914,-0.003299367614090,-0.169183403253555,-0.003499930491671,0.000406490289606,0.001703144051135,0.025862446054816,0.003355425549671,-0.010909130796790,0.010519250296056,-0.007753144484013,0.001458071405068));
res += mul(Get(s3,0,0), float4x4(-0.001168446149677,-0.008774820715189,-0.010718087665737,0.001416275743395,0.007346692960709,-0.005890275351703,-0.168081790208817,-0.003279128111899,-0.002692738547921,0.008515579625964,-0.008448121137917,-0.002826481359079,0.014483160339296,0.056167170405388,-0.014197430573404,-0.003098899265751));
res += mul(Get(s3,0,dy), float4x4(-0.004122647922486,0.019611138850451,-0.008685167878866,-0.000950249552261,0.005199785809964,-0.001525074359961,-0.083638608455658,0.005381452850997,0.005919379647821,0.000799741188530,0.004063243046403,0.004306821618229,0.017557896673679,0.001552883419208,0.044553730636835,0.004562331829220));
res += mul(Get(s3,dx,-dy), float4x4(0.007374132983387,0.000221833775868,0.019961642101407,-0.000676800904330,-0.025249967351556,-0.006089348345995,0.004972322378308,0.002082277555019,-0.004941489081830,0.001082517206669,0.029000515118241,-0.003341025672853,-0.023650478571653,-0.030412424355745,0.041714340448380,0.000689306645654));
res += mul(Get(s3,dx,0), float4x4(-0.022252921015024,-0.004722083918750,0.029245030134916,0.002084634499624,-0.015097344294190,-0.000239442379097,-0.021912032738328,-0.003617862472311,0.005685640498996,0.003314453875646,0.003533371025696,0.000338020763593,0.041476685553789,0.023236690089107,-0.027233684435487,-0.002874888712540));
res += mul(Get(s3,dx,dy), float4x4(-0.031306739896536,0.007337901275605,0.036967817693949,-0.008730368688703,-0.013889162801206,0.000210426806007,-0.006718617398292,-0.003678666660562,0.018094360828400,0.003270435379818,-0.008176173083484,0.003328123595566,0.151032865047455,-0.001895214780234,-0.007200919091702,-0.002786590717733));
return max(float4(0,0,0,0), res);
}
