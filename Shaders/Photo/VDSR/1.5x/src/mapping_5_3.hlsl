sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.165398806333542,0.043006483465433,-0.002628831192851,0.105608046054840,0.003008174477145,-0.061049032956362,0.109504230320454,-0.095948666334152,-0.031411662697792,-0.003578932024539,-0.002571863355115,-0.013342354446650,-0.034860827028751,0.046731870621443,0.047967515885830,0.075629703700542));
res += mul(Get(s0,-dx,0), float4x4(0.056741654872894,-0.004141846671700,-0.135783389210701,-0.032023176550865,0.041765492409468,-0.005018645431846,-0.024023983627558,0.095494702458382,0.125817209482193,-0.167873054742813,0.057170290499926,0.174539327621460,0.060814931988716,0.070125885307789,0.193123295903206,-0.026925509795547));
res += mul(Get(s0,-dx,dy), float4x4(0.072686649858952,0.001995894359425,-0.007478940766305,-0.116109140217304,0.036318313330412,-0.261542558670044,0.070848584175110,-0.041686423122883,0.020179914310575,-0.160659343004227,0.130831643939018,0.073855891823769,-0.035401076078415,0.019298734143376,-0.005080992355943,-0.140649497509003));
res += mul(Get(s0,0,-dy), float4x4(-0.125871762633324,-0.124167948961258,0.045579355210066,0.188625007867813,-0.223943501710892,0.098314329981804,-0.217970460653305,0.040045101195574,0.067373819649220,0.078166320919991,0.225453332066536,0.024130897596478,-0.150363489985466,-0.098734162747860,-0.022143883630633,-0.063545115292072));
res += mul(Get(s0,0,0), float4x4(0.112707711756229,-0.006557855755091,0.203218534588814,0.084282696247101,0.207631662487984,-0.017873691394925,0.091194801032543,0.187117815017700,-0.018624655902386,0.082022361457348,-0.015873221680522,0.102693676948547,-0.056287299841642,-0.052278906106949,0.060684766620398,0.081192165613174));
res += mul(Get(s0,0,dy), float4x4(-0.063474513590336,0.090317599475384,0.025246744975448,0.118678748607635,0.012458292767406,0.007260243408382,-0.147488236427307,0.184255346655846,-0.071473754942417,0.015313058160245,0.159058779478073,-0.094903215765953,-0.127480924129486,0.210404634475708,-0.137858018279076,-0.000642255414277));
res += mul(Get(s0,dx,-dy), float4x4(0.034678455442190,-0.048956654965878,0.045423943549395,0.029267072677612,0.002428283914924,-0.007763800211251,-0.068978153169155,-0.007305451203138,-0.235434040427208,-0.119881406426430,-0.167085975408554,-0.063989616930485,0.015796380117536,-0.140414103865623,0.104200676083565,0.139647826552391));
res += mul(Get(s0,dx,0), float4x4(0.059036906808615,-0.104448989033699,-0.078645199537277,0.051733013242483,-0.012846813537180,0.051295060664415,0.011029175482690,0.126604765653610,0.213460475206375,-0.015635181218386,0.051137056201696,0.130222588777542,-0.016540301963687,0.120031200349331,0.225389271974564,0.055411726236343));
res += mul(Get(s0,dx,dy), float4x4(0.079686246812344,-0.060468237847090,0.009195444174111,0.187426909804344,-0.085640139877796,0.065191835165024,0.034526575356722,-0.130292892456055,0.053623855113983,-0.024947455152869,0.016036370769143,-0.052643463015556,0.079202413558960,0.016056697815657,-0.026050841435790,0.093378916382790));
res += mul(Get(s1,-dx,-dy), float4x4(-0.028424493968487,0.065787658095360,-0.064433947205544,0.029822576791048,0.098604917526245,0.145198419690132,0.052044242620468,0.050704896450043,0.057170614600182,-0.088686503469944,-0.044795949012041,-0.011639400385320,0.012382180429995,-0.068344600498676,0.028828786686063,-0.112566754221916));
res += mul(Get(s1,-dx,0), float4x4(0.064596675336361,-0.073696248233318,0.060937318950891,0.028012702241540,-0.083126872777939,-0.121466122567654,0.115132376551628,-0.037592675536871,0.027099234983325,-0.263815253973007,-0.008934490382671,-0.022501194849610,-0.013294206000865,0.150651335716248,-0.159379646182060,0.001115487073548));
res += mul(Get(s1,-dx,dy), float4x4(-0.116857312619686,0.213700935244560,0.120747782289982,-0.132570028305054,-0.040776353329420,0.018600251525640,-0.119037710130215,0.014480296522379,-0.138150572776794,-0.115753784775734,-0.170931011438370,0.043064747005701,-0.022910982370377,0.003830655943602,0.074355252087116,-0.054120775312185));
res += mul(Get(s1,0,-dy), float4x4(0.114739380776882,-0.103093631565571,0.094923704862595,-0.118196815252304,0.154112964868546,0.043704293668270,0.051254682242870,-0.001538799609989,-0.100144825875759,-0.134485304355621,0.096913732588291,-0.038547504693270,-0.138439893722534,-0.063211187720299,-0.099992796778679,-0.043427839875221));
res += mul(Get(s1,0,0), float4x4(-0.209534257650375,-0.032041884958744,-0.074073866009712,0.076982997357845,0.004845138173550,-0.025837220251560,-0.082743212580681,0.107182890176773,0.029044194146991,0.106420718133450,0.090879447758198,-0.127150610089302,0.050431262701750,-0.152526542544365,0.095753341913223,-0.027485709637403));
res += mul(Get(s1,0,dy), float4x4(-0.071149677038193,0.029510924592614,0.080396629869938,0.077957481145859,-0.000739341950975,-0.026863424107432,-0.106969632208347,-0.077136650681496,0.115155242383480,-0.022582847625017,0.075026527047157,0.140958592295647,-0.197886183857918,0.068284526467323,0.283698052167892,0.060122746974230));
res += mul(Get(s1,dx,-dy), float4x4(-0.072037652134895,-0.029413886368275,0.075016513466835,0.262401640415192,0.001234484137967,0.095451906323433,-0.050922598689795,-0.020944006741047,-0.025021607056260,-0.063927315175533,0.002034307923168,-0.108480155467987,0.170809999108315,0.087130859494209,0.039308160543442,-0.058410730212927));
res += mul(Get(s1,dx,0), float4x4(-0.088922291994095,0.132487386465073,-0.046877603977919,-0.077868796885014,0.058245800435543,0.113717228174210,-0.055390950292349,0.054239653050900,0.079127490520477,-0.038228545337915,0.170325815677643,0.032389178872108,0.048842035233974,-0.030668182298541,-0.087317675352097,-0.007354590576142));
res += mul(Get(s1,dx,dy), float4x4(0.004036402795464,0.021253651008010,0.021144168451428,0.052611485123634,-0.201087027788162,-0.032140091061592,0.189816743135452,-0.008323634043336,-0.018701253458858,-0.057040002197027,-0.033086687326431,-0.051173124462366,0.041637867689133,0.070857703685760,-0.046292368322611,-0.118209488689899));
res += mul(Get(s2,-dx,-dy), float4x4(0.069193050265312,-0.084517627954483,-0.025869524106383,0.020351931452751,0.003077107248828,-0.110815010964870,0.002078704768792,0.056174557656050,0.112585283815861,-0.077928751707077,0.212450891733170,0.123166263103485,0.104895889759064,-0.042941644787788,0.061883606016636,0.073973156511784));
res += mul(Get(s2,-dx,0), float4x4(0.090774349868298,0.119434349238873,0.192649453878403,0.087103627622128,-0.060384146869183,0.027176646515727,-0.017004594206810,-0.155372902750969,0.024666914716363,-0.022347625344992,0.000602315180004,0.229023128747940,0.031984344124794,-0.021683203056455,-0.180120408535004,0.112646460533142));
res += mul(Get(s2,-dx,dy), float4x4(-0.009208117611706,0.023351546376944,0.011828610673547,0.069281429052353,-0.070215269923210,0.145674213767052,-0.020289335399866,0.065741822123528,-0.128885775804520,0.013285939581692,-0.062496215105057,-0.015946980565786,0.010826393961906,-0.001308939070441,-0.017253344878554,-0.090942114591599));
res += mul(Get(s2,0,-dy), float4x4(0.085764214396477,0.174700379371643,-0.117470473051071,0.054726857692003,-0.169034346938133,0.004517513792962,0.000451490690466,-0.056120231747627,-0.013619851320982,0.050585027784109,0.182824298739433,-0.224157482385635,0.000335646618623,-0.171056702733040,0.044773027300835,-0.063244409859180));
res += mul(Get(s2,0,0), float4x4(-0.173444271087646,0.064738884568214,0.195505112409592,-0.044824089854956,-0.079994060099125,-0.006829444319010,0.154202222824097,0.082521609961987,0.050151687115431,0.050919860601425,-0.103048980236053,0.179757595062256,-0.088931225240231,0.121311694383621,-0.019001124426723,0.075192548334599));
res += mul(Get(s2,0,dy), float4x4(-0.014345505274832,-0.180660963058472,-0.007774701341987,-0.043545138090849,-0.014430425129831,-0.038506671786308,0.035320971161127,0.169322282075882,-0.058167237788439,-0.039701368659735,0.164406999945641,-0.220526292920113,-0.103560261428356,-0.003860441036522,0.094945654273033,-0.020955502986908));
res += mul(Get(s2,dx,-dy), float4x4(0.116291962563992,0.138426497578621,-0.011564988642931,-0.000061888829805,-0.054532591253519,0.019404336810112,-0.010198786854744,-0.036976393312216,-0.022196589037776,0.004403791390359,0.071420580148697,0.101476140320301,0.123828776180744,-0.036362256854773,-0.134793713688850,-0.233601063489914));
res += mul(Get(s2,dx,0), float4x4(0.028338786214590,-0.037691950798035,0.003969386219978,0.090884551405907,0.040617667138577,-0.045682527124882,-0.038132663816214,0.161664023995399,0.082646854221821,-0.001325402292423,0.025082483887672,0.060762181878090,-0.062374599277973,-0.135583475232124,-0.045604754239321,0.139728248119354));
res += mul(Get(s2,dx,dy), float4x4(0.258308142423630,-0.096661850810051,-0.147621423006058,-0.048478100448847,0.002552035963163,0.165504828095436,-0.107021205127239,-0.036085959523916,0.104896292090416,-0.099837146699429,-0.051158957183361,-0.137056648731232,-0.008254739455879,0.094206579029560,-0.035771347582340,-0.227492317557335));
res += mul(Get(s3,-dx,-dy), float4x4(0.096228070557117,-0.001774563686922,-0.063990138471127,0.015603392384946,-0.036671638488770,0.008009411394596,-0.058955915272236,-0.184203445911407,0.148925065994263,-0.055869139730930,-0.107374072074890,0.099532738327980,0.008834763430059,0.164387971162796,-0.044339146465063,-0.020180193707347));
res += mul(Get(s3,-dx,0), float4x4(-0.059962667524815,-0.057998556643724,-0.001658474211581,0.053691722452641,-0.164535418152809,0.028219474479556,0.243777483701706,-0.089952208101749,0.009552335366607,0.031973779201508,0.006058343686163,-0.059689458459616,-0.034495849162340,-0.189170628786087,-0.041048318147659,-0.066639326512814));
res += mul(Get(s3,-dx,dy), float4x4(-0.048945136368275,0.069230750203133,-0.016424547880888,0.129102677106857,0.065097026526928,-0.068189561367035,0.267778038978577,-0.004552091471851,0.148785725235939,0.114793241024017,-0.005805362947285,0.155665516853333,0.087271422147751,-0.027506759390235,-0.110700070858002,-0.033697128295898));
res += mul(Get(s3,0,-dy), float4x4(0.230243161320686,-0.012969139963388,0.028659244999290,0.015294520184398,-0.053375400602818,-0.035131745040417,-0.069130502641201,0.245123758912086,0.058343626558781,-0.107096903026104,-0.052090872079134,-0.047646962106228,0.016253074631095,-0.005882230121642,0.049205590039492,0.069399930536747));
res += mul(Get(s3,0,0), float4x4(0.138766065239906,-0.101268731057644,-0.109782233834267,0.082745201885700,-0.190159097313881,0.025691529735923,-0.076647303998470,-0.017219254747033,-0.124261572957039,-0.003367655212060,-0.082509055733681,0.297043323516846,0.070153996348381,0.007814466021955,0.241158977150917,0.034649938344955));
res += mul(Get(s3,0,dy), float4x4(-0.004314694553614,-0.179572522640228,-0.017385743558407,0.174598693847656,-0.021832374855876,0.050379570573568,-0.157540902495384,-0.043595578521490,0.006559561938047,-0.009583574719727,0.043948054313660,0.053861528635025,-0.065724417567253,0.155836597084999,0.121395118534565,0.005990706849843));
res += mul(Get(s3,dx,-dy), float4x4(-0.124212019145489,0.074819907546043,-0.009494723752141,-0.018825795501471,-0.149440556764603,-0.144909888505936,0.066115602850914,0.104376122355461,-0.088597357273102,-0.073965534567833,0.001680573099293,0.008318573236465,-0.148843199014664,0.223545908927917,0.034440752118826,0.010560542345047));
res += mul(Get(s3,dx,0), float4x4(-0.043654020875692,-0.117338344454765,-0.001843184232712,-0.028188701719046,-0.130124405026436,-0.046934954822063,0.213686689734459,0.086384706199169,-0.016782907769084,0.010569583624601,-0.185682445764542,0.056711945682764,-0.059088822454214,0.098385229706764,0.004398656077683,0.056451603770256));
res += mul(Get(s3,dx,dy), float4x4(0.032299570739269,0.106853626668453,-0.012605044059455,0.051240988075733,0.111655183136463,-0.122924804687500,0.100002571940422,0.060053501278162,-0.150659635663033,-0.055776074528694,0.115133382380009,0.072860367596149,-0.104486048221588,0.042418979108334,0.000384557526559,0.009144707582891));
return max(float4(0,0,0,0), res);
}
