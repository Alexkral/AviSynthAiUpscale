sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.034365098923445,-0.017018068581820,0.006861171219498,0.066404871642590,-0.065675698220730,0.000000145253182,0.016118867322803,0.062806054949760,0.016003679484129,0.005548748653382,-0.058816652745008,0.080691568553448,-0.011955585330725,0.033817499876022,-0.014738906174898,0.015660177916288));
res += mul(Get(s0,-dx,0), float4x4(-0.025080803781748,-0.081359483301640,0.066636972129345,0.086402080953121,-0.011874053627253,0.092027068138123,-0.022293819114566,0.026032548397779,0.112957254052162,0.052969571202993,-0.103562101721764,0.035727288573980,-0.055694289505482,0.038654088973999,-0.010118901729584,0.039772193878889));
res += mul(Get(s0,-dx,dy), float4x4(-0.013893126510084,-0.076850801706314,0.051523003727198,0.073437862098217,0.061517197638750,0.152156636118889,-0.022502755746245,-0.005002834368497,0.138263657689095,0.030677266418934,0.053508725017309,-0.042805042117834,-0.039523273706436,0.063348934054375,0.013026681728661,-0.017098525539041));
res += mul(Get(s0,0,-dy), float4x4(0.000401462602895,-0.038249641656876,0.016661889851093,-0.085276134312153,0.013044530525804,0.034215722233057,-0.009928408078849,0.082284063100815,-0.011666421778500,0.048504326492548,-0.165252387523651,0.018642460927367,-0.012113448232412,0.052538782358170,-0.025747230276465,0.017055185511708));
res += mul(Get(s0,0,0), float4x4(-0.040804814547300,-0.041987366974354,0.010174077935517,-0.051245547831059,0.058566335588694,0.081186026334763,-0.009156305342913,-0.048107571899891,-0.066501691937447,-0.112305060029030,-0.021518576890230,-0.096134103834629,0.003333715256304,0.032885089516640,-0.042036905884743,-0.034665483981371));
res += mul(Get(s0,0,dy), float4x4(-0.077248752117157,-0.010497999377549,-0.004275022540241,-0.018313903361559,0.005486853886396,0.045212626457214,-0.017740925773978,0.024873249232769,0.021160069853067,0.048880469053984,0.091394618153572,0.013074959628284,0.020193478092551,0.055541291832924,-0.000951022317167,-0.026143502444029));
res += mul(Get(s0,dx,-dy), float4x4(-0.060573890805244,-0.124254606664181,-0.051473431289196,-0.054696928709745,-0.151426076889038,-0.028549605980515,0.011773337610066,-0.064376778900623,-0.138476923108101,-0.079018935561180,0.050113171339035,0.084247052669525,-0.102813586592674,0.031066870316863,0.008765804581344,0.021015902981162));
res += mul(Get(s0,dx,0), float4x4(0.000407585117500,-0.100666284561157,0.011427138000727,0.015745263546705,0.131244912743568,-0.040761552751064,-0.017320334911346,0.131510093808174,-0.031447183340788,-0.174719110131264,-0.019019547849894,0.013797037303448,-0.026563743129373,0.047532603144646,-0.060154430568218,0.041409671306610));
res += mul(Get(s0,dx,dy), float4x4(-0.084895908832550,-0.031284816563129,0.009314141236246,0.021262101829052,-0.023327682167292,-0.036944255232811,0.022639729082584,0.146220698952675,-0.073775671422482,-0.008361590094864,0.165404066443443,0.048279974609613,0.073217004537582,0.048182509839535,-0.004240920301527,0.079310454428196));
res += mul(Get(s1,-dx,-dy), float4x4(-0.003655972424895,0.002523009898141,0.060746740549803,-0.070381410419941,-0.028195496648550,-0.025741256773472,-0.051354765892029,0.002757626818493,0.022439349442720,0.008780784904957,0.062643818557262,0.055331904441118,0.044793065637350,-0.017675789073110,-0.071507185697556,-0.051436465233564));
res += mul(Get(s1,-dx,0), float4x4(-0.056616391986609,0.050235267728567,-0.001088612014428,-0.107848577201366,0.018666407093406,0.042905692011118,0.042949166148901,-0.006163574289531,0.036985952407122,0.073379792273045,0.058638527989388,-0.003682217793539,-0.061393518000841,-0.061977759003639,0.006389310117811,-0.093078732490540));
res += mul(Get(s1,-dx,dy), float4x4(0.010539275594056,0.013473353348672,0.096532396972179,-0.016656955704093,-0.024786198511720,-0.058474805206060,0.065317079424858,0.051312092691660,0.005699348635972,-0.018780546262860,0.133003696799278,-0.076204836368561,0.081218838691711,-0.097918361425400,0.008133399300277,0.117952987551689));
res += mul(Get(s1,0,-dy), float4x4(0.053784977644682,-0.010077039711177,0.026793980970979,0.090683281421661,-0.068091884255409,0.082364492118359,-0.120341703295708,-0.027047410607338,0.039643257856369,-0.022866161540151,0.003822275437415,0.004377713892609,0.037215001881123,-0.073842510581017,-0.090420514345169,0.077839404344559));
res += mul(Get(s1,0,0), float4x4(0.102777309715748,-0.054592601954937,0.033026468008757,-0.049013100564480,0.009930559433997,-0.100809134542942,-0.038951486349106,-0.113172039389610,0.066639579832554,0.137871399521828,0.093974046409130,-0.007818141020834,0.027209503576159,-0.031619351357222,-0.003285577055067,-0.098229750990868));
res += mul(Get(s1,0,dy), float4x4(0.089102581143379,-0.012880197726190,0.079057641327381,-0.106262028217316,0.068605378270149,-0.035352427512407,0.101628556847572,0.010901935398579,0.032296080142260,-0.012631573714316,0.049479328095913,0.061382576823235,-0.031396225094795,-0.008061748929322,0.030021337792277,-0.011344598606229));
res += mul(Get(s1,dx,-dy), float4x4(-0.019370630383492,-0.008426138199866,-0.054882951080799,-0.020954353734851,0.000228925273404,0.001126800430939,0.009904935956001,-0.029502697288990,0.014481664635241,-0.000016556419723,-0.022858919575810,0.088165558874607,-0.024753505364060,0.056693896651268,0.028639679774642,0.071016885340214));
res += mul(Get(s1,dx,0), float4x4(-0.120700694620609,0.007067516446114,-0.133591711521149,-0.027613773941994,-0.118503920733929,0.145707711577415,-0.109344169497490,-0.116432592272758,0.045011464506388,0.050505258142948,0.032198693603277,0.013010626658797,0.009519011713564,0.039521463215351,0.043747268617153,0.014557964168489));
res += mul(Get(s1,dx,dy), float4x4(-0.049011096358299,-0.019386446103454,-0.065694928169250,0.102920204401016,0.014904014766216,0.201947048306465,-0.027018211781979,0.053341764956713,-0.089065343141556,0.102183051407337,0.012086858972907,-0.003750198055059,-0.021195214241743,-0.044227492064238,0.030221831053495,0.051456253975630));
res += mul(Get(s2,-dx,-dy), float4x4(0.042633939534426,-0.001027874881402,-0.006664716638625,-0.038616549223661,-0.040939856320620,-0.093865692615509,0.031354766339064,-0.094423018395901,-0.005333335138857,-0.002943877130747,0.181158453226089,-0.040238920599222,0.135221958160400,0.051212843507528,0.032142363488674,-0.043821666389704));
res += mul(Get(s2,-dx,0), float4x4(-0.022010775282979,-0.054744925349951,0.034045562148094,-0.188704058527946,0.004914001561701,0.026521166786551,0.040078386664391,-0.031154165044427,-0.128103032708168,0.042338814586401,-0.004568611737341,-0.026569783687592,0.080476358532906,0.059819296002388,0.001261916942894,-0.081077404320240));
res += mul(Get(s2,-dx,dy), float4x4(-0.004276011139154,0.057199340313673,0.064138852059841,-0.080280199646950,0.211941599845886,-0.125552296638489,-0.086761020123959,-0.003275561379269,0.059551082551479,0.014405530877411,0.044708944857121,0.057337168604136,0.015969084575772,0.038566373288631,0.053478226065636,0.018979933112860));
res += mul(Get(s2,0,-dy), float4x4(0.115636199712753,0.027905045077205,0.017080767080188,-0.028550500050187,-0.005348092876375,-0.107989341020584,0.088493779301643,0.026887517422438,-0.090306870639324,0.029284030199051,0.025082275271416,-0.011003173887730,0.103328928351402,-0.018310477957129,-0.011796627193689,-0.011569629423320));
res += mul(Get(s2,0,0), float4x4(0.037591610103846,-0.000465462042484,-0.006197602022439,-0.043103612959385,-0.069823525846004,-0.088060513138771,0.076737396419048,-0.001677290420048,0.026131656020880,-0.002626975299791,0.028224324807525,0.284931361675262,0.115060791373253,0.022548684850335,0.028535183519125,-0.007372988387942));
res += mul(Get(s2,0,dy), float4x4(0.038257349282503,0.056239970028400,-0.010049350559711,0.006344038527459,0.148842602968216,-0.069357350468636,-0.018459944054484,0.051634833216667,-0.089877195656300,0.000210321944905,-0.055546801537275,-0.095025092363358,0.030380848795176,0.021335892379284,0.041401322931051,0.002960248617455));
res += mul(Get(s2,dx,-dy), float4x4(-0.041156575083733,-0.051744062453508,0.036783315241337,-0.057015299797058,0.042359087616205,-0.039234887808561,0.061810486018658,0.000493156781886,-0.067323885858059,0.141813829541206,0.041681390255690,-0.116204641759396,-0.095265880227089,-0.005046921782196,0.012397343292832,-0.069892868399620));
res += mul(Get(s2,dx,0), float4x4(-0.070381402969360,-0.041187308728695,0.083547942340374,0.066349655389786,0.159324273467064,0.069118678569794,-0.026376832276583,-0.017840992659330,-0.053967311978340,0.175792425870895,-0.134948492050171,0.064944490790367,0.096574336290359,0.032193273305893,0.044652469456196,0.118977673351765));
res += mul(Get(s2,dx,dy), float4x4(0.053762674331665,-0.046513728797436,0.056984569877386,0.016578510403633,0.153198525309563,0.043557293713093,-0.022767618298531,0.082624405622482,-0.032830391079187,0.104690007865429,0.004231483675539,-0.094112344086170,-0.040596920996904,-0.028295502066612,-0.022909089922905,-0.038718726485968));
res += mul(Get(s3,-dx,-dy), float4x4(0.038329642266035,-0.054616454988718,0.147841081023216,0.012748199515045,-0.054888039827347,-0.002029504394159,0.057063192129135,0.051266338676214,0.056720081716776,0.017017891630530,0.024858547374606,-0.072734110057354,-0.014397148042917,0.041278284043074,0.117802217602730,-0.055130641907454));
res += mul(Get(s3,-dx,0), float4x4(-0.013603462837636,-0.035227190703154,-0.010829987004399,0.129867285490036,-0.001907599624246,-0.018636312335730,-0.057303059846163,-0.037446197122335,-0.034577179700136,0.022255880758166,-0.007415378931910,-0.073125742375851,0.000907057488803,0.062416952103376,-0.015349794179201,-0.041932042688131));
res += mul(Get(s3,-dx,dy), float4x4(-0.006872752681375,-0.020335603505373,-0.035609785467386,0.035516325384378,-0.064265109598637,-0.006071226205677,-0.116669431328773,0.008425691165030,0.005488579627126,0.062944784760475,-0.001994483172894,-0.142197117209435,-0.012098713777959,0.019107852131128,0.156127497553825,-0.066921211779118));
res += mul(Get(s3,0,-dy), float4x4(0.019514894112945,-0.094826139509678,0.153839290142059,0.010854233056307,-0.009217369370162,0.002841192996129,0.086636193096638,-0.024910293519497,0.017532879486680,0.013230304233730,0.008365667425096,-0.058024559170008,-0.011653774417937,-0.007113736122847,0.060622960329056,0.027166461572051));
res += mul(Get(s3,0,0), float4x4(-0.124933622777462,0.073793351650238,0.094939872622490,0.171470418572426,0.115621149539948,0.013176988810301,0.201145887374878,0.101291164755821,-0.032260563224554,-0.013962312601507,0.021422021090984,-0.060300432145596,-0.010981377214193,0.120954468846321,-0.093360245227814,0.152804836630821));
res += mul(Get(s3,0,dy), float4x4(-0.031954217702150,0.039055552333593,-0.071122489869595,-0.013716204091907,0.001620227587409,-0.055384892970324,0.056132573634386,0.089294046163559,0.042714517563581,0.007826565764844,-0.004527430050075,0.019235370680690,0.077549405395985,0.010699623264372,-0.068601407110691,-0.076192401349545));
res += mul(Get(s3,dx,-dy), float4x4(-0.046410501003265,-0.046840086579323,-0.025646394118667,0.025660984218121,0.077105835080147,-0.011188252829015,0.002840738045052,0.017755867913365,0.016094548627734,-0.010088450275362,-0.017717782407999,-0.015439220704138,-0.043485894799232,-0.099290341138840,0.084421411156654,0.041567478328943));
res += mul(Get(s3,dx,0), float4x4(0.267498642206192,-0.173810064792633,0.073077499866486,0.071474730968475,0.050311431288719,-0.049281448125839,0.049448538571596,-0.102227330207825,-0.052512530237436,-0.049371283501387,0.024215722456574,-0.028090886771679,-0.052669722586870,-0.067059710621834,-0.136788561940193,0.027307925745845));
res += mul(Get(s3,dx,dy), float4x4(0.013517372310162,-0.126803994178772,-0.038124389946461,-0.043168097734451,-0.042399179190397,-0.059328395873308,0.032017964869738,-0.064512826502323,-0.022922402247787,0.091508105397224,-0.006369622424245,-0.022561332210898,0.027449093759060,-0.013041601516306,-0.049116931855679,0.027326812967658));
return max(float4(0,0,0,0), res);
}
