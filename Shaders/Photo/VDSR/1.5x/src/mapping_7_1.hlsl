sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.073869146406651,0.042091436684132,-0.077959112823009,-0.177765622735023,-0.072403348982334,-0.205678433179855,-0.022883784025908,-0.152560770511627,0.139308363199234,-0.039977394044399,-0.098066404461861,-0.081539988517761,-0.116619125008583,-0.012925832532346,0.009848486632109,-0.043957199901342));
res += mul(Get(s0,-dx,0), float4x4(0.131659016013145,0.031555883586407,0.067485779523849,0.212823957204819,0.041967671364546,0.047160398215055,-0.105221018195152,-0.002797503722832,0.301337242126465,-0.100455857813358,-0.024029016494751,-0.114013262093067,-0.114608556032181,0.131521999835968,0.028199721127748,0.077582448720932));
res += mul(Get(s0,-dx,dy), float4x4(0.021616211161017,0.134127825498581,0.137592867016792,0.128613203763962,0.057325389236212,0.065793752670288,0.027181439101696,-0.027217088267207,-0.038036838173866,0.002279627369717,-0.218456059694290,-0.012175482697785,-0.031821362674236,-0.081780314445496,0.101330585777760,-0.008771209977567));
res += mul(Get(s0,0,-dy), float4x4(-0.033662378787994,0.070270352065563,-0.006240655668080,0.181757256388664,0.040682367980480,-0.023475361987948,0.057911586016417,0.129647374153137,-0.047118537127972,-0.005607722327113,-0.107669450342655,0.037439413368702,0.045227296650410,0.052036017179489,-0.261564046144485,-0.064053677022457));
res += mul(Get(s0,0,0), float4x4(-0.026799680665135,0.076078094542027,0.100215665996075,-0.078874796628952,0.002351475879550,0.025885492563248,0.020688226446509,-0.040510084480047,-0.023526798933744,-0.006508795078844,-0.092611551284790,0.159827277064323,-0.114284954965115,-0.045437742024660,0.036637816578150,0.108346223831177));
res += mul(Get(s0,0,dy), float4x4(-0.023240674287081,-0.040179584175348,-0.021287312731147,0.096469596028328,0.095002353191376,-0.177519723773003,0.204180687665939,-0.071492567658424,0.060089975595474,-0.043098699301481,-0.065597563982010,0.088362552225590,-0.104555197060108,-0.009155488573015,-0.008348995819688,-0.009837805293500));
res += mul(Get(s0,dx,-dy), float4x4(-0.072320826351643,-0.120818428695202,0.042554758489132,-0.017214253544807,-0.033337675035000,-0.142051771283150,0.035961225628853,0.052344363182783,0.082040451467037,-0.091809533536434,-0.041807454079390,-0.167268708348274,0.029768390581012,-0.111903391778469,-0.157017350196838,-0.010871700011194));
res += mul(Get(s0,dx,0), float4x4(-0.009085394442081,-0.047137927263975,-0.039770327508450,-0.029983522370458,0.171688109636307,0.098132923245430,-0.090874888002872,0.036753036081791,-0.036247432231903,-0.169953629374504,-0.061008159071207,-0.022017527371645,0.080432571470737,0.011558358557522,-0.007325179874897,0.049475543200970));
res += mul(Get(s0,dx,dy), float4x4(-0.034887015819550,-0.065448559820652,0.059350408613682,-0.055885124951601,-0.026675928384066,0.018244555220008,0.085207790136337,-0.113086968660355,-0.042034052312374,0.077199369668961,-0.046869128942490,0.030576193705201,-0.019775485619903,-0.104888863861561,-0.098923936486244,0.086226321756840));
res += mul(Get(s1,-dx,-dy), float4x4(0.168020501732826,0.079463668167591,-0.085832536220551,-0.135245278477669,0.033678527921438,-0.020617052912712,-0.038827408105135,-0.151762172579765,-0.135961875319481,-0.060398098081350,0.155994608998299,-0.113697156310081,-0.025012521073222,-0.000060851900344,-0.073033690452576,-0.159195795655251));
res += mul(Get(s1,-dx,0), float4x4(-0.145535901188850,-0.067968465387821,0.107595942914486,-0.160588487982750,0.087344571948051,0.252369701862335,0.176381573081017,-0.020977793261409,0.089136712253094,0.078875854611397,0.009599372744560,0.032172679901123,0.045897684991360,-0.045375268906355,0.057900678366423,0.121560491621494));
res += mul(Get(s1,-dx,dy), float4x4(-0.107437722384930,0.038759261369705,0.078720755875111,-0.077332079410553,0.186841025948524,0.120854206383228,-0.178058311343193,-0.132489070296288,-0.069851972162724,-0.107144832611084,0.076002329587936,0.173769474029541,0.040074490010738,0.097519502043724,-0.063702277839184,0.124113298952579));
res += mul(Get(s1,0,-dy), float4x4(-0.023022515699267,-0.085566326975822,-0.044123981148005,0.011781661771238,0.065701678395271,-0.065925225615501,-0.164850056171417,-0.101874679327011,0.063936106860638,-0.042861063033342,-0.099489383399487,-0.011680086143315,-0.114252045750618,0.051618095487356,-0.076989896595478,0.054733045399189));
res += mul(Get(s1,0,0), float4x4(0.040307302027941,-0.029541041702032,0.030547117814422,-0.113511219620705,0.072377212345600,0.051278222352266,-0.019505776464939,-0.094071283936501,-0.022710522636771,-0.075438141822815,0.013763763941824,-0.112753786146641,0.022616062313318,0.092481039464474,0.005449004005641,-0.028639171272516));
res += mul(Get(s1,0,dy), float4x4(-0.102182172238827,-0.005478216335177,-0.070617422461510,-0.036371652036905,0.078667670488358,-0.027157977223396,-0.020128902047873,0.162846028804779,0.072795271873474,-0.099654227495193,-0.049488019198179,-0.193066179752350,-0.045375376939774,-0.056211795657873,0.066808104515076,-0.090899229049683));
res += mul(Get(s1,dx,-dy), float4x4(0.104259528219700,-0.074236698448658,-0.086585424840450,0.011388584971428,-0.056723728775978,0.112208150327206,-0.063949503004551,0.116730608046055,-0.036872290074825,-0.245343551039696,0.200679168105125,0.048704940825701,-0.053433086723089,-0.138495653867722,0.011918298900127,-0.248313426971436));
res += mul(Get(s1,dx,0), float4x4(0.004574855789542,0.167777404189110,-0.094153225421906,0.068588726222515,0.103464640676975,0.066411137580872,-0.004865415859967,-0.147037073969841,-0.040016334503889,0.014629405923188,-0.021315684542060,-0.052437633275986,0.126927524805069,-0.068060204386711,-0.089913055300713,0.129395157098770));
res += mul(Get(s1,dx,dy), float4x4(0.085425242781639,0.062294956296682,-0.154526859521866,0.111111477017403,-0.073046110570431,-0.122129008173943,-0.041974965482950,-0.017726153135300,0.013038096949458,-0.175664052367210,-0.040662001818419,-0.011563556268811,0.105438023805618,0.112565025687218,0.046197701245546,0.020003832876682));
res += mul(Get(s2,-dx,-dy), float4x4(-0.175931200385094,-0.007312656380236,0.104071445763111,-0.108080379664898,0.035279121249914,-0.005607726983726,0.023532507941127,0.034654822200537,-0.110940963029861,0.028814312070608,0.011195141822100,-0.078239455819130,0.030995463952422,-0.127755984663963,0.092335313558578,-0.067506708204746));
res += mul(Get(s2,-dx,0), float4x4(-0.100732408463955,-0.050701946020126,0.134075716137886,-0.043310347944498,0.138097435235977,-0.046924762427807,0.057633064687252,-0.152061983942986,0.017597204074264,-0.147924870252609,0.161007925868034,0.016097713261843,-0.186189830303192,0.047154698520899,0.169788703322411,-0.091093048453331));
res += mul(Get(s2,-dx,dy), float4x4(-0.030646452680230,0.057153556495905,0.071307145059109,-0.098503015935421,0.025891164317727,-0.186506941914558,0.012960735708475,0.050868049263954,-0.057614121586084,0.120818711817265,-0.107567161321640,0.145187973976135,-0.133902072906494,-0.049586623907089,0.050172265619040,0.040564909577370));
res += mul(Get(s2,0,-dy), float4x4(0.244214847683907,0.096646398305893,-0.067786030471325,0.009563311934471,-0.073447577655315,-0.024673936888576,0.032849695533514,0.060970131307840,-0.065207622945309,-0.047366354614496,0.055587217211723,0.140270844101906,0.007049470674247,0.072788722813129,-0.043768394738436,-0.023576466366649));
res += mul(Get(s2,0,0), float4x4(-0.040480796247721,0.038290157914162,0.038456059992313,0.014263649471104,-0.197788536548615,0.034865092486143,0.204849123954773,-0.005442955996841,-0.109484404325485,0.075801722705364,0.066692747175694,0.221740558743477,0.049242570996284,-0.077499657869339,0.093116067349911,-0.058753035962582));
res += mul(Get(s2,0,dy), float4x4(0.014115070924163,-0.172295674681664,-0.147374033927917,0.074513696134090,0.075723193585873,0.009041679091752,-0.038325417786837,-0.030737521126866,-0.044964216649532,-0.068158626556396,0.063780352473259,-0.036842718720436,-0.017468238249421,-0.017804130911827,-0.112144500017166,0.090907238423824));
res += mul(Get(s2,dx,-dy), float4x4(0.093663841485977,-0.064407996833324,-0.087710820138454,-0.078973598778248,-0.077668160200119,-0.126193016767502,-0.013448229990900,-0.114313058555126,-0.057825490832329,-0.078728422522545,-0.156169295310974,0.059173256158829,-0.073191151022911,0.007778127212077,0.069616325199604,0.000255094288150));
res += mul(Get(s2,dx,0), float4x4(0.087845847010612,0.048309117555618,0.012783989310265,0.118952617049217,-0.049369532614946,-0.120471470057964,-0.031045649200678,0.035629965364933,-0.041438285261393,-0.048169199377298,0.058113712817430,0.075643308460712,0.079135790467262,-0.043544832617044,0.049720846116543,-0.058656200766563));
res += mul(Get(s2,dx,dy), float4x4(0.010105940513313,0.072132207453251,-0.094053491950035,0.201018452644348,0.044830270111561,-0.029523102566600,-0.072749137878418,0.000839231535792,0.073174387216568,-0.081476084887981,-0.047630716115236,0.043794464319944,0.087546356022358,-0.023442909121513,0.044293358922005,0.155890196561813));
res += mul(Get(s3,-dx,-dy), float4x4(-0.053260255604982,-0.054455678910017,0.036329589784145,-0.041177436709404,0.000620156584773,0.104143492877483,-0.002165257232264,-0.049295730888844,0.044763233512640,-0.057242665439844,0.076533392071724,-0.059117861092091,0.061165139079094,-0.046075850725174,0.063045710325241,-0.024617340415716));
res += mul(Get(s3,-dx,0), float4x4(-0.149791777133942,-0.068226084113121,-0.102252706885338,0.007182023022324,0.158539712429047,0.100618854165077,0.115009300410748,0.039666943252087,-0.115624561905861,-0.088902242481709,-0.076037302613258,0.064078994095325,0.044310469180346,-0.049702562391758,0.046394862234592,-0.063812844455242));
res += mul(Get(s3,-dx,dy), float4x4(-0.086345978081226,0.023889632895589,0.002904969034716,-0.056895170360804,0.214619323611259,-0.032761458307505,0.063843250274658,-0.023015033453703,-0.085427179932594,-0.026024185121059,-0.189848512411118,-0.090557664632797,-0.031074600294232,0.164495393633842,0.065020538866520,-0.022046683356166));
res += mul(Get(s3,0,-dy), float4x4(0.000399029115215,0.123121820390224,-0.072190836071968,-0.082973644137383,-0.187148854136467,-0.068718731403351,0.025446394458413,0.086397454142570,0.171323701739311,0.100280009210110,-0.138320103287697,-0.049834333360195,-0.220445722341537,-0.080378830432892,-0.028453778475523,0.156642228364944));
res += mul(Get(s3,0,0), float4x4(-0.097588859498501,-0.002132091205567,0.141185775399208,0.084703244268894,-0.165987372398376,0.088140942156315,-0.026485895738006,-0.037598852068186,-0.009231302887201,-0.018171237781644,-0.134977579116821,0.054883744567633,0.001443591434509,0.080952435731888,-0.156826481223106,-0.127599447965622));
res += mul(Get(s3,0,dy), float4x4(0.016160860657692,0.005542911589146,-0.005239516962320,0.186225637793541,-0.001989735523239,0.041820831596851,-0.116106770932674,0.021101744845510,0.126957178115845,0.085726425051689,-0.068876005709171,0.055914290249348,0.153800114989281,-0.002263667527586,0.196416556835175,0.061968103051186));
res += mul(Get(s3,dx,-dy), float4x4(-0.058454383164644,0.029593395069242,-0.127651423215866,-0.001775956014171,0.138438150286674,0.006217257119715,0.044903315603733,-0.059818096458912,-0.111328974366188,0.066490642726421,-0.038044128566980,0.082512445747852,0.033253408968449,-0.023043023422360,0.076122358441353,0.009624036028981));
res += mul(Get(s3,dx,0), float4x4(0.142387032508850,0.031512062996626,0.174975618720055,-0.030580664053559,-0.137692093849182,0.091354601085186,0.060490474104881,-0.114740952849388,-0.004310086835176,0.105334766209126,-0.132240533828735,0.172299429774284,-0.158191978931427,0.096444807946682,-0.086775250732899,-0.171872705221176));
res += mul(Get(s3,dx,dy), float4x4(0.037074655294418,0.006300786044449,-0.126687929034233,-0.026103829964995,-0.018832396715879,-0.135158717632294,-0.082538604736328,-0.182187229394913,-0.089150570333004,0.037415586411953,-0.114664003252983,0.051511716097593,-0.042195603251457,-0.015488853678107,-0.026903003454208,0.012935207225382));
return max(float4(0,0,0,0), res);
}
