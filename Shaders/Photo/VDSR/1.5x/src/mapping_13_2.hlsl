sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.034180376678705,-0.012032332830131,0.030538823455572,0.063432075083256,-0.000300915766275,0.049599509686232,-0.046377114951611,0.073618859052658,0.097281873226166,0.044173426926136,-0.139884591102600,0.016080312430859,0.012396903708577,-0.099723808467388,-0.112690329551697,0.068888947367668));
res += mul(Get(s0,-dx,0), float4x4(0.021519474685192,0.060217659920454,-0.022705916315317,-0.000556310405955,-0.032334197312593,-0.040048655122519,-0.012846789322793,0.004429776687175,-0.065438836812973,-0.047909345477819,-0.006350296083838,0.027151793241501,-0.017703918740153,-0.043358787894249,-0.120427459478378,-0.069814749062061));
res += mul(Get(s0,-dx,dy), float4x4(-0.003852874739096,0.027661615982652,0.019173935055733,-0.006487087346613,-0.016726348549128,0.000775696884375,0.032267302274704,-0.004021837841719,-0.048890300095081,-0.077556475996971,-0.025813560932875,-0.067378170788288,-0.011740879155695,-0.035661313682795,-0.034185219556093,0.049033258110285));
res += mul(Get(s0,0,-dy), float4x4(0.144045874476433,0.065745733678341,0.014972970820963,0.059766978025436,-0.090967744588852,-0.058367040008307,-0.061683312058449,0.216765969991684,0.027201639488339,-0.114382028579712,-0.096590280532837,0.010972044430673,0.160420820116997,-0.039149381220341,-0.108202740550041,0.159928321838379));
res += mul(Get(s0,0,0), float4x4(0.289721965789795,-0.030553003773093,-0.107089087367058,0.001410905737430,-0.112377926707268,-0.009224424138665,-0.014243603684008,-0.032050024718046,0.110623665153980,0.037433113902807,0.015145304612815,0.039809003472328,0.080260477960110,0.055767498910427,-0.116168282926083,0.035295531153679));
res += mul(Get(s0,0,dy), float4x4(0.116962373256683,-0.096968211233616,0.094531588256359,0.107400216162205,-0.083715617656708,0.013505459763110,0.008083110675216,0.020433343946934,0.139648109674454,-0.097970537841320,0.051169913262129,0.008870465680957,0.032963626086712,0.046490758657455,-0.031216263771057,0.072200126945972));
res += mul(Get(s0,dx,-dy), float4x4(0.020773863419890,0.005237664561719,0.029518796131015,0.021313145756721,0.020312312990427,-0.025179892778397,-0.069942608475685,0.120217822492123,0.075671851634979,0.017267076298594,-0.026173714548349,0.046250056475401,0.010638363659382,-0.067683666944504,-0.008432860486209,-0.008813593536615));
res += mul(Get(s0,dx,0), float4x4(-0.029756469652057,0.032976418733597,-0.016918430104852,0.008055558428168,-0.021327761933208,-0.001079602399841,0.007747799623758,0.090122126042843,-0.007998034358025,-0.049106560647488,0.016316590830684,-0.109071023762226,0.065959528088570,-0.046240586787462,-0.059575431048870,0.062279053032398));
res += mul(Get(s0,dx,dy), float4x4(-0.010374843142927,-0.042851608246565,0.035969812422991,0.068303123116493,0.027851954102516,0.024335108697414,0.045657355338335,-0.039942998439074,0.090428799390793,-0.054338790476322,0.086961083114147,-0.083383187651634,0.040246613323689,-0.081480823457241,-0.025822654366493,0.034155152738094));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023210301995277,0.024455403909087,-0.007324692793190,-0.035076700150967,-0.062364380806684,0.007072323467582,0.028329601511359,0.081618882715702,0.040362704545259,-0.031071627512574,0.007853987626731,-0.034912001341581,-0.005248910747468,-0.059386454522610,0.031796172261238,-0.023761646822095));
res += mul(Get(s1,-dx,0), float4x4(-0.072676762938499,-0.068847447633743,-0.038512066006660,-0.007777768187225,-0.105994790792465,0.004482129588723,0.041929151862860,0.026091985404491,-0.066988050937653,0.062822356820107,-0.040665704756975,-0.023449441418052,-0.107301741838455,-0.025348799303174,0.012387728318572,-0.079230569303036));
res += mul(Get(s1,-dx,dy), float4x4(-0.066974200308323,-0.034239482134581,0.044237527996302,0.026501545682549,-0.035747960209846,0.016551645472646,-0.002521756105125,-0.014634041115642,-0.009702199138701,0.113567546010017,0.004261144902557,0.002336710225791,-0.083099082112312,-0.017759237438440,0.063377119600773,-0.022714573889971));
res += mul(Get(s1,0,-dy), float4x4(0.018402088433504,0.044967640191317,-0.031771361827850,-0.003307639388368,0.091348260641098,0.137233376502991,-0.099890597164631,0.091903202235699,0.050079740583897,-0.059641730040312,-0.015139988623559,0.010032236576080,-0.024597670882940,0.050606392323971,-0.006239766720682,-0.105516567826271));
res += mul(Get(s1,0,0), float4x4(0.088912151753902,0.063004359602928,-0.031360939145088,0.050452839583158,-0.025673169642687,0.134316697716713,0.163817718625069,0.033176317811012,0.042474109679461,-0.028246272355318,0.020000820979476,0.058867152780294,0.061748191714287,0.050272095948458,0.094664089381695,0.024963365867734));
res += mul(Get(s1,0,dy), float4x4(0.080478854477406,0.045767173171043,0.029194204136729,0.054171852767467,-0.040500890463591,0.103979080915451,-0.015377563424408,-0.031469136476517,-0.001488996553235,-0.053663637489080,0.010421610437334,-0.041721642017365,0.008920782245696,0.080298855900764,-0.032736055552959,-0.027905611321330));
res += mul(Get(s1,dx,-dy), float4x4(0.031393017619848,-0.138007655739784,-0.088847719132900,-0.022507425397635,-0.066251210868359,0.025961216539145,-0.036810554563999,0.125399678945541,-0.058836128562689,-0.060987763106823,0.100652441382408,-0.049897100776434,-0.026853783056140,-0.016629962250590,-0.053024485707283,-0.130210444331169));
res += mul(Get(s1,dx,0), float4x4(0.016556933522224,0.016360497102141,0.025761442258954,0.033005710691214,-0.000547712901607,0.024655755609274,0.109347894787788,-0.072173804044724,0.060350384563208,0.027823345735669,0.016621565446258,-0.014696239493787,0.009401637129486,0.018989678472281,-0.019690638408065,-0.078561604022980));
res += mul(Get(s1,dx,dy), float4x4(-0.039450880140066,-0.026598492637277,0.058439213782549,-0.097455963492393,-0.036448027938604,0.059569135308266,-0.024714112281799,-0.030107151716948,0.036447245627642,0.130836874246597,0.023143818601966,0.043369341641665,-0.049042727798223,-0.023755986243486,-0.053811829537153,-0.035382013767958));
res += mul(Get(s2,-dx,-dy), float4x4(0.009167198091745,-0.047008417546749,-0.114454850554466,0.034978523850441,0.010811010375619,0.051539540290833,-0.038040038198233,0.007034499663860,-0.016722271218896,0.009995358064771,-0.022063285112381,-0.079597570002079,0.055320542305708,0.038509976118803,0.007072227075696,0.009742743335664));
res += mul(Get(s2,-dx,0), float4x4(0.007677440997213,-0.018520338460803,-0.009291662834585,-0.083820305764675,-0.063156917691231,0.040497906506062,0.116677269339561,0.014399280771613,0.128872200846672,0.083252340555191,-0.101470895111561,0.081661261618137,-0.076654255390167,0.014561977237463,0.002227903110906,0.054595671594143));
res += mul(Get(s2,-dx,dy), float4x4(-0.023315027356148,-0.019012041389942,-0.014518053270876,0.022200401872396,-0.018176330253482,0.024732884019613,-0.000830920238513,0.039181210100651,0.025928225368261,-0.059766817837954,0.007000503130257,-0.007330996450037,0.009093334898353,-0.046699140220881,-0.028225401416421,0.011351945810020));
res += mul(Get(s2,0,-dy), float4x4(0.027514338493347,0.077488981187344,-0.113798446953297,-0.147445261478424,0.024686098098755,-0.034314949065447,0.069648899137974,0.007512088865042,-0.041106451302767,-0.051158647984266,0.059247765690088,0.029226168990135,-0.049541730433702,0.071303315460682,-0.025508536025882,-0.047241516411304));
res += mul(Get(s2,0,0), float4x4(0.014445343054831,-0.032636329531670,-0.051148168742657,0.221886351704597,-0.090267948806286,0.052654121071100,0.102220557630062,0.037101220339537,-0.067217759788036,0.012216328643262,-0.033835548907518,-0.075482137501240,0.121771283447742,0.008668116293848,0.015494246035814,0.062936678528786));
res += mul(Get(s2,0,dy), float4x4(-0.030473720282316,0.053395684808493,-0.047166813164949,-0.040688503533602,-0.087065361440182,0.226001039147377,0.003428606316447,-0.037545979022980,0.089941978454590,-0.003148783929646,-0.084381371736526,-0.013590234331787,-0.060060605406761,-0.020399825647473,-0.023933183401823,-0.012474843300879));
res += mul(Get(s2,dx,-dy), float4x4(-0.055945996195078,-0.047371968626976,-0.106809966266155,-0.037746001034975,-0.007069749757648,-0.008605799637735,0.024459861218929,-0.005190048832446,0.017507715150714,-0.095381602644920,-0.024163164198399,-0.000939320598263,0.015771672129631,-0.142956599593163,0.073940366506577,-0.012260816060007));
res += mul(Get(s2,dx,0), float4x4(-0.002641369821504,-0.020800424739718,-0.060113843530416,0.082912325859070,0.033053103834391,-0.063010334968567,-0.043565753847361,0.015427757054567,-0.097131356596947,-0.157960370182991,-0.045480024069548,-0.074324354529381,-0.016927082091570,-0.083541721105576,-0.069030605256557,-0.015220360830426));
res += mul(Get(s2,dx,dy), float4x4(-0.013164728879929,-0.045710258185863,0.098869547247887,-0.083126939833164,-0.058041732758284,-0.067260466516018,-0.012995732948184,-0.006091519258916,0.003162587760016,-0.111767359077930,-0.087767429649830,-0.093900524079800,0.012151776812971,-0.075884312391281,-0.015406839549541,0.076520740985870));
res += mul(Get(s3,-dx,-dy), float4x4(-0.018519677221775,0.027541007846594,-0.085421137511730,-0.012151081115007,-0.049191743135452,0.034946694970131,0.028649015352130,0.041902177035809,0.037518527358770,-0.003923283889890,0.039537567645311,-0.050777051597834,0.012470990419388,0.047628019005060,-0.025335846468806,-0.024394026026130));
res += mul(Get(s3,-dx,0), float4x4(-0.007223583292216,0.043734613806009,0.106395557522774,0.007957880385220,0.035716734826565,0.003325212514028,0.025781515985727,0.017916250973940,-0.002411917084828,0.025231016799808,0.049729637801647,-0.046000383794308,0.061784569174051,-0.025777196511626,-0.001769253984094,0.012561432085931));
res += mul(Get(s3,-dx,dy), float4x4(0.055532377213240,0.111082449555397,-0.168538242578506,-0.090756647288799,0.028779646381736,-0.041274204850197,-0.012478359043598,-0.046380382031202,-0.073099359869957,0.081614270806313,0.094658568501472,-0.135686621069908,0.091504111886024,-0.012995361350477,0.024345157667994,0.130322396755219));
res += mul(Get(s3,0,-dy), float4x4(-0.084090836346149,-0.080342918634415,-0.007468437775970,-0.031253978610039,-0.102639928460121,0.016232362017035,0.024762298911810,0.028602849692106,-0.076466016471386,0.179736688733101,0.005808600224555,-0.142557755112648,0.100834697484970,0.018483508378267,0.072670906782150,-0.048195939511061));
res += mul(Get(s3,0,0), float4x4(0.021481083706021,-0.114251025021076,0.133125007152557,-0.049069609493017,-0.026980621740222,-0.006610408890992,0.071147374808788,0.021232595667243,0.076208233833313,-0.023822458460927,0.148415729403496,-0.122824579477310,0.015615868382156,0.133149996399879,0.006549865938723,0.113302342593670));
res += mul(Get(s3,0,dy), float4x4(-0.055458109825850,0.034597530961037,-0.181863397359848,-0.018224470317364,-0.008026051335037,0.006866927258670,0.035633228719234,-0.018444018438458,0.023083500564098,-0.033042293041945,0.108837686479092,0.046512249857187,-0.031475335359573,0.094943128526211,-0.016316307708621,-0.021335460245609));
res += mul(Get(s3,dx,-dy), float4x4(0.030686631798744,-0.119385540485382,0.047129534184933,-0.041674986481667,0.029858417809010,-0.025312582030892,-0.129503250122070,-0.020575651898980,0.052860338240862,-0.104733243584633,0.032147996127605,-0.070469744503498,0.035180237144232,0.025602363049984,-0.034920204430819,-0.015944210812449));
res += mul(Get(s3,dx,0), float4x4(-0.014554881490767,-0.142219305038452,0.057866916060448,-0.034548193216324,-0.088539369404316,-0.080704100430012,0.024138690903783,-0.060247249901295,-0.084815651178360,-0.086077310144901,0.098038643598557,-0.124189279973507,0.211890757083893,0.015623254701495,0.049236990511417,-0.117131769657135));
res += mul(Get(s3,dx,dy), float4x4(-0.018588431179523,-0.052538290619850,-0.047659922391176,-0.100790612399578,-0.031483657658100,-0.177103489637375,0.104553662240505,0.025712808594108,0.039938669651747,-0.016574067994952,0.040860060602427,-0.155757263302803,0.151709005236626,0.034544907510281,0.049840830266476,-0.028229149058461));
return max(float4(0,0,0,0), res);
}
