sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.105235181748867,0.152495533227921,-0.045333687216043,0.103430218994617,-0.019229954108596,0.142219349741936,0.011088768020272,-0.082250714302063,0.003439468331635,-0.060324169695377,0.036024160683155,-0.003925233613700,0.187625080347061,-0.024901229888201,-0.181239664554596,-0.046000067144632));
res += mul(Get(s0,-dx,0), float4x4(-0.027603413909674,0.133474722504616,0.010461009107530,-0.043271925300360,0.006005859002471,0.117827840149403,0.011545305140316,0.143647134304047,0.006154311355203,0.124194599688053,0.007047202438116,0.007121192291379,0.038865581154823,-0.049799554049969,-0.118404410779476,-0.019275622442365));
res += mul(Get(s0,-dx,dy), float4x4(-0.054578248411417,-0.035662647336721,-0.102435678243637,0.002929558511823,-0.001415851642378,0.076551929116249,-0.024608138948679,0.042455926537514,-0.133644178509712,-0.027145922183990,-0.029458452016115,0.083118714392185,-0.092290669679642,0.064501456916332,-0.107426553964615,0.066609837114811));
res += mul(Get(s0,0,-dy), float4x4(0.136818945407867,-0.019388217478991,0.028657717630267,0.013276829384267,0.012328786775470,-0.129289716482162,0.048512291163206,-0.051259946078062,0.103873416781425,-0.163077622652054,0.167524173855782,-0.047457370907068,-0.038337282836437,-0.045301429927349,-0.084842234849930,-0.116258531808853));
res += mul(Get(s0,0,0), float4x4(0.216101214289665,0.091559983789921,-0.170392662286758,-0.013945393264294,-0.090675868093967,-0.059029325842857,0.132539466023445,0.068935833871365,0.142248436808586,0.142678931355476,-0.052437920123339,0.139240041375160,-0.040559910237789,0.028685992583632,-0.093099579215050,-0.022468607872725));
res += mul(Get(s0,0,dy), float4x4(0.058933436870575,-0.169300183653831,0.117812119424343,-0.002856475301087,-0.112513698637486,0.035203393548727,-0.011445289477706,0.155365973711014,0.009947606362402,0.010086061432958,-0.029824309051037,0.286600112915039,-0.056928854435682,-0.154086247086525,0.018945991992950,-0.114870153367519));
res += mul(Get(s0,dx,-dy), float4x4(-0.047073598951101,-0.111828215420246,0.110177904367447,-0.116712652146816,-0.012667927891016,0.041303180158138,-0.157609030604362,0.036399878561497,0.054076939821243,-0.023697387427092,0.096303559839725,0.094916887581348,0.012565637938678,0.043318014591932,0.037088736891747,0.116732336580753));
res += mul(Get(s0,dx,0), float4x4(0.016602030023932,-0.005797310732305,-0.185427099466324,0.064400829374790,0.142192333936691,0.011089580133557,0.120601676404476,0.027254797518253,0.027553131803870,0.074700094759464,-0.020722422748804,0.033517900854349,-0.103493846952915,-0.108466751873493,0.133084088563919,0.085789203643799));
res += mul(Get(s0,dx,dy), float4x4(0.023708110675216,-0.128445073962212,0.062924876809120,-0.110502474009991,-0.085445098578930,0.077913619577885,-0.199045389890671,0.045162241905928,-0.161343500018120,-0.022552687674761,0.065890014171600,-0.032545842230320,0.144075244665146,0.090326659381390,-0.088129028677940,-0.014165841974318));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002268287818879,-0.087347753345966,-0.002544829854742,0.060982517898083,-0.182179793715477,0.063564889132977,0.031593084335327,0.002323849126697,-0.003291242755949,-0.131528288125992,0.168230354785919,0.035806450992823,0.033806260675192,-0.016330234706402,0.090778857469559,0.048026587814093));
res += mul(Get(s1,-dx,0), float4x4(0.028934990987182,0.129816845059395,-0.014978771097958,0.022888595238328,-0.028193458914757,0.009434401057661,-0.035540465265512,-0.015423605218530,0.059728790074587,0.029416747391224,-0.034724649041891,-0.006201986223459,-0.037117868661880,-0.033305495977402,0.157137766480446,0.011694830842316));
res += mul(Get(s1,-dx,dy), float4x4(-0.175962194800377,0.090748719871044,-0.051131479442120,0.079766787588596,-0.007445520255715,0.117552570998669,0.059813741594553,0.054888509213924,0.001722284010611,-0.022457273676991,-0.060613516718149,0.094331830739975,-0.059535894542933,0.116794690489769,0.202373206615448,0.073468104004860));
res += mul(Get(s1,0,-dy), float4x4(-0.045314975082874,-0.093478411436081,-0.079439722001553,-0.117627248167992,-0.063819989562035,0.201489344239235,0.058931898325682,0.030797507613897,-0.072061449289322,-0.177881568670273,-0.053947258740664,0.050488822162151,-0.017841441556811,-0.111465357244015,0.098899662494659,0.001188172842376));
res += mul(Get(s1,0,0), float4x4(0.002668048487976,0.049004826694727,0.071392260491848,-0.032026618719101,0.053313773125410,0.043845459818840,0.013600434176624,-0.085009604692459,-0.087593182921410,0.052366588264704,0.067091383039951,-0.154078856110573,0.129142358899117,0.196411520242691,0.096229106187820,-0.043095197528601));
res += mul(Get(s1,0,dy), float4x4(0.004562904126942,0.000404304912081,-0.096121750771999,0.026975674554706,-0.071974419057369,0.004333747085184,0.002303504385054,-0.090751603245735,-0.014549841172993,-0.018309399485588,-0.100999228656292,0.006920391693711,-0.069523476064205,0.089034162461758,0.151493951678276,-0.050788503140211));
res += mul(Get(s1,dx,-dy), float4x4(-0.078936316072941,0.015466606244445,0.077515646815300,-0.006373867392540,0.087954059243202,-0.011587102897465,0.004691852256656,-0.037252411246300,-0.001103360904381,-0.008857046253979,-0.144919410347939,0.148437336087227,-0.015807304531336,-0.150081261992455,0.071953341364861,0.042815245687962));
res += mul(Get(s1,dx,0), float4x4(0.008480271324515,-0.166862934827805,-0.035631615668535,0.084859497845173,0.047934055328369,-0.047454483807087,-0.029170341789722,0.008805049583316,-0.083858527243137,-0.038027144968510,0.085072733461857,0.019123572856188,-0.058218199759722,0.022730968892574,0.037135384976864,-0.075832270085812));
res += mul(Get(s1,dx,dy), float4x4(-0.020094064995646,-0.004592148587108,-0.114515982568264,-0.049228925257921,0.038283728063107,-0.085485130548477,-0.178012683987617,0.028041031211615,-0.089243814349174,0.072421349585056,0.058273728936911,0.103919103741646,0.062697544693947,0.093486160039902,-0.124544635415077,0.063091032207012));
res += mul(Get(s2,-dx,-dy), float4x4(-0.187200248241425,-0.005581714212894,0.134573161602020,0.084314055740833,0.022479407489300,0.058551598340273,-0.044702142477036,0.003608632367104,0.108096912503242,0.034724019467831,0.034927252680063,0.181655466556549,-0.116997636854649,0.031865134835243,-0.002238864311948,0.069824270904064));
res += mul(Get(s2,-dx,0), float4x4(0.032199490815401,-0.071734860539436,-0.018063835799694,-0.058003649115562,0.031805630773306,-0.003785301232710,0.024457773193717,-0.044128816574812,-0.117558620870113,-0.017711922526360,0.007664774544537,-0.034678462892771,0.030224107205868,-0.010226787067950,-0.027085261419415,0.090937025845051));
res += mul(Get(s2,-dx,dy), float4x4(-0.178303778171539,-0.022072510793805,0.048546221107244,-0.114776201546192,-0.115569807589054,0.058197703212500,0.058305103331804,0.071880124509335,0.045183356851339,-0.221868321299553,-0.009288896806538,-0.019889568910003,-0.146877408027649,-0.181246295571327,-0.062161561101675,-0.111555628478527));
res += mul(Get(s2,0,-dy), float4x4(-0.154661431908607,0.058852799236774,0.056764408946037,-0.111755944788456,0.086382426321507,-0.038755323737860,-0.009110398590565,0.057197742164135,-0.160558119416237,-0.054551437497139,-0.051163785159588,-0.146439090371132,-0.060086313635111,0.044030904769897,0.066010758280754,-0.023528981953859));
res += mul(Get(s2,0,0), float4x4(0.024983134120703,0.059079624712467,0.000424000696512,0.013442359864712,-0.026394734159112,-0.066082499921322,0.074942104518414,0.051874388009310,0.078241869807243,-0.009985543787479,0.186728522181511,0.184760034084320,0.093159079551697,0.236780747771263,0.067723348736763,-0.052471790462732));
res += mul(Get(s2,0,dy), float4x4(-0.048295944929123,-0.008965210057795,-0.103381007909775,-0.012738341465592,-0.026194591075182,-0.109528072178364,-0.008307499811053,0.008340551517904,-0.123826093971729,-0.109270483255386,0.023648196831346,0.032908312976360,-0.024440567940474,-0.061259079724550,0.073855109512806,0.226675346493721));
res += mul(Get(s2,dx,-dy), float4x4(-0.074950478971004,0.052930522710085,-0.073958635330200,0.007570911664516,-0.059183817356825,0.056965474039316,-0.033698078244925,0.083055064082146,-0.038025893270969,-0.099095165729523,0.012189174070954,-0.050185102969408,0.022103622555733,-0.100022472441196,0.100753046572208,0.033261515200138));
res += mul(Get(s2,dx,0), float4x4(0.035604704171419,-0.022591818124056,0.118912398815155,-0.110547520220280,0.021970983594656,-0.077458240091801,0.164060711860657,0.086702875792980,0.034620705991983,-0.002434401307255,0.072469055652618,-0.078512564301491,0.079374589025974,-0.006313074845821,0.111012950539589,-0.184557139873505));
res += mul(Get(s2,dx,dy), float4x4(-0.095027156174183,0.032947320491076,-0.004654442425817,-0.067489422857761,-0.230713754892349,-0.084558099508286,-0.027871578931808,-0.070995382964611,-0.067283473908901,-0.042750041931868,-0.008121577091515,-0.091136887669563,-0.134199127554893,0.047917962074280,-0.120328269898891,0.133360564708710));
res += mul(Get(s3,-dx,-dy), float4x4(0.068487361073494,-0.001008598250337,0.032834563404322,-0.100571565330029,-0.172526925802231,0.114145316183567,0.037340462207794,-0.010389795526862,-0.021460998803377,0.123916417360306,0.105071172118187,-0.023156456649303,0.008896504528821,-0.132188260555267,-0.123756371438503,0.061454441398382));
res += mul(Get(s3,-dx,0), float4x4(0.044181343168020,-0.056228708475828,0.085234545171261,-0.099892519414425,-0.028063340112567,-0.166884139180183,0.041234467178583,-0.065079301595688,-0.070292577147484,0.128105744719505,0.238253712654114,-0.019332233816385,0.139807641506195,-0.017446175217628,0.049565844237804,0.030927700921893));
res += mul(Get(s3,-dx,dy), float4x4(-0.113272942602634,-0.034088689833879,0.050921536982059,-0.169830307364464,0.028899546712637,-0.046714417636395,0.000268487987341,0.058458480983973,0.145282685756683,-0.076693840324879,0.038876235485077,-0.088893145322800,0.077808663249016,-0.059994179755449,-0.039055902510881,-0.061324194073677));
res += mul(Get(s3,0,-dy), float4x4(0.080698460340500,-0.042822387069464,0.130356952548027,-0.020655954256654,0.000396998308133,0.051806729286909,0.055711444467306,-0.030213188380003,-0.155681997537613,-0.067331634461880,0.019614029675722,0.012157351709902,-0.065457507967949,-0.007394282147288,-0.082586973905563,0.012880355119705));
res += mul(Get(s3,0,0), float4x4(-0.145287156105042,-0.116656571626663,-0.028853040188551,-0.156508043408394,0.105948030948639,-0.167492285370827,0.056298684328794,0.095961511135101,0.138091713190079,0.007284667342901,-0.127188563346863,-0.043353177607059,-0.106394410133362,0.062562093138695,0.195922315120697,0.009667790494859));
res += mul(Get(s3,0,dy), float4x4(-0.043903097510338,0.125984445214272,-0.048687264323235,-0.008102643303573,-0.158056646585464,-0.027768960222602,0.004718398209661,0.190490931272507,0.077731378376484,0.063793525099754,0.043859943747520,0.081034183502197,-0.149807259440422,-0.013763534836471,0.119462102651596,0.127176076173782));
res += mul(Get(s3,dx,-dy), float4x4(0.016865745186806,0.130730792880058,0.169523626565933,-0.155800014734268,0.117860011756420,-0.037242729216814,-0.060707658529282,0.053529281169176,-0.035718798637390,0.020945405587554,0.001403544330969,-0.125167950987816,-0.063630551099777,-0.033298052847385,0.139702349901199,-0.072066135704517));
res += mul(Get(s3,dx,0), float4x4(0.034496843814850,-0.034417267888784,0.007697213906795,0.030478751286864,-0.078450448811054,-0.088910482823849,-0.127556890249252,-0.221380427479744,-0.018439846113324,0.029006415978074,0.001097764470614,0.103805817663670,-0.165926292538643,0.085439480841160,-0.025255270302296,0.006217172835022));
res += mul(Get(s3,dx,dy), float4x4(-0.023877220228314,0.023688875138760,-0.044425018131733,-0.023833528161049,0.090785823762417,0.009125163778663,0.148861676454544,-0.058940272778273,-0.124379418790340,-0.003670947626233,-0.046202946454287,0.013771817088127,-0.080049738287926,0.111047700047493,-0.062466796487570,0.064050264656544));
return max(float4(0,0,0,0), res);
}
