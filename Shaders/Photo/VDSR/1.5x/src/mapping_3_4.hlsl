sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.014643446542323,-0.056483745574951,-0.004951322451234,-0.122714132070541,0.057037383317947,0.068919464945793,-0.072786815464497,0.022511988878250,0.056096617132425,0.035345647484064,0.012064941227436,-0.003740305546671,-0.026278018951416,0.011252185329795,-0.058840412646532,0.035719163715839));
res += mul(Get(s0,-dx,0), float4x4(0.049352429807186,-0.042988441884518,-0.000523070921190,0.127856105566025,0.012161326594651,0.097190730273724,0.155514448881149,0.044311400502920,-0.133946701884270,-0.029773108661175,0.013236114755273,0.052797067910433,0.000098975440778,0.029297666624188,-0.055840559303761,-0.007927244529128));
res += mul(Get(s0,-dx,dy), float4x4(-0.076652064919472,0.053281545639038,-0.048532340675592,-0.040736712515354,0.007136627566069,-0.018814550712705,-0.033044096082449,-0.028417889028788,0.043759491294622,0.082554943859577,0.065193787217140,-0.020718997344375,-0.254522740840912,0.017038745805621,0.035817451775074,0.078736007213593));
res += mul(Get(s0,0,-dy), float4x4(-0.033056199550629,0.011595541611314,-0.064199037849903,0.141446858644485,0.041681129485369,0.023041052743793,-0.144240617752075,-0.011759896762669,0.137956708669662,0.098011821508408,-0.085068136453629,-0.028285255655646,-0.103923864662647,0.022849394008517,0.116559624671936,-0.020671145990491));
res += mul(Get(s0,0,0), float4x4(0.094837874174118,0.150231927633286,0.186565950512886,-0.162411630153656,0.027029434219003,0.116166740655899,0.000446659425506,-0.011313091963530,-0.036551121622324,-0.165656775236130,-0.141993269324303,0.042943179607391,0.048750545829535,-0.069388613104820,-0.067873746156693,0.037402253597975));
res += mul(Get(s0,0,dy), float4x4(0.129625499248505,0.125030875205994,-0.037122882902622,0.046521868556738,0.088616028428078,-0.071139432489872,0.088787712156773,0.062527962028980,-0.001179151935503,-0.062053643167019,0.159975871443748,0.067072108387947,0.105118721723557,-0.014704799279571,0.108831286430359,-0.079045683145523));
res += mul(Get(s0,dx,-dy), float4x4(-0.130451351404190,0.047934077680111,-0.216490715742111,-0.139088422060013,0.029937677085400,-0.011662605218589,0.091388396918774,0.012588131241500,0.272879272699356,-0.016201976686716,0.101930893957615,-0.070871129631996,0.085080221295357,0.050546023994684,0.088262006640434,-0.223962292075157));
res += mul(Get(s0,dx,0), float4x4(0.157020747661591,-0.042404036968946,-0.190422102808952,0.248072668910027,0.005652835126966,-0.031566049903631,0.110682539641857,0.014293344691396,-0.006611879449338,0.178196400403976,0.082582004368305,0.138128951191902,-0.007697169203311,0.008356406353414,0.011550744995475,-0.042180787771940));
res += mul(Get(s0,dx,dy), float4x4(-0.021478895097971,-0.020230257883668,-0.088857144117355,0.250887095928192,-0.055782217532396,0.055637136101723,-0.005267065018415,0.002013400429860,0.033223990350962,0.122450433671474,-0.096169315278530,-0.095154717564583,0.074214622378349,-0.004954320378602,-0.130474105477333,-0.041506152600050));
res += mul(Get(s1,-dx,-dy), float4x4(-0.078302018344402,0.029854219406843,0.020024500787258,0.028041489422321,-0.202858164906502,0.037602026015520,0.039213418960571,-0.015236247330904,0.024492513388395,-0.084902130067348,0.055908843874931,-0.050068337470293,0.102746166288853,-0.039504252374172,0.060989778488874,0.084454394876957));
res += mul(Get(s1,-dx,0), float4x4(-0.259591132402420,0.114953212440014,-0.010841825976968,0.166394650936127,-0.040129348635674,-0.118111513555050,-0.044140834361315,-0.130704164505005,0.011602727696300,0.013074440881610,-0.087099246680737,0.121598631143570,0.017922105267644,0.042210917919874,0.002243970287964,-0.019786477088928));
res += mul(Get(s1,-dx,dy), float4x4(0.025425275787711,0.002175365341827,0.061414308845997,0.014704100787640,0.115353025496006,-0.118093997240067,-0.019219126552343,-0.033146530389786,0.145086497068405,0.075264550745487,-0.079348601400852,-0.131832838058472,-0.053041875362396,0.040381252765656,0.061510536819696,-0.089581914246082));
res += mul(Get(s1,0,-dy), float4x4(-0.149053856730461,-0.015220427885652,-0.030989371240139,-0.068862050771713,-0.155761450529099,0.005800177343190,0.011196228675544,-0.087581597268581,0.086401291191578,0.058104488998652,0.001165973604657,0.039223872125149,0.117456018924713,-0.155190587043762,-0.115812808275223,-0.088682502508163));
res += mul(Get(s1,0,0), float4x4(0.028889898210764,0.003676442895085,0.100536704063416,-0.117747068405151,-0.074408337473869,0.079290196299553,0.069575823843479,0.092304043471813,-0.066378846764565,-0.098572246730328,0.021213017404079,-0.099806398153305,-0.070718482136726,-0.100242853164673,-0.172836199402809,-0.052581682801247));
res += mul(Get(s1,0,dy), float4x4(-0.096556723117828,0.112611576914787,0.156170368194580,0.043664142489433,-0.116027995944023,0.016471931710839,0.100314907729626,0.059653185307980,-0.111870333552361,0.098451696336269,0.045950975269079,0.009471654891968,0.007325523067266,0.046808078885078,0.153753384947777,-0.053586695343256));
res += mul(Get(s1,dx,-dy), float4x4(0.064695015549660,-0.055393252521753,-0.150864407420158,0.027515411376953,0.140708446502686,0.167956233024597,-0.028269568458200,0.009390714578331,-0.106046922504902,-0.078390479087830,-0.024241089820862,-0.063353508710861,0.127815738320351,-0.059952851384878,0.082233972847462,-0.005597905255854));
res += mul(Get(s1,dx,0), float4x4(0.072409778833389,-0.043696392327547,-0.058097127825022,-0.050304193049669,0.086643472313881,-0.054524607956409,0.122378081083298,-0.079672850668430,-0.093574099242687,-0.052243430167437,-0.000854245503433,0.027974082157016,0.010583582334220,0.085280686616898,0.058048132807016,-0.015505096875131));
res += mul(Get(s1,dx,dy), float4x4(-0.101053610444069,0.042034991085529,-0.037355516105890,0.082582354545593,-0.074357800185680,-0.143114715814590,0.008858772926033,0.040615938603878,-0.107081785798073,0.043480101972818,-0.046072341501713,-0.033921524882317,0.063969530165195,0.028668936342001,-0.131455734372139,0.024432025849819));
res += mul(Get(s2,-dx,-dy), float4x4(0.086829915642738,-0.095393300056458,0.099695816636086,-0.081468343734741,-0.050969231873751,-0.015320289880037,0.020653272047639,-0.036253038793802,-0.134926781058311,-0.034103814512491,0.067466191947460,-0.075391687452793,-0.140467777848244,0.104265525937080,0.081955447793007,-0.047947589308023));
res += mul(Get(s2,-dx,0), float4x4(-0.114348009228706,0.110576316714287,0.039781179279089,0.010767826810479,-0.069210141897202,0.032471682876348,0.008112371899188,0.033817216753960,-0.127490609884262,-0.048101738095284,0.078893035650253,0.077357932925224,0.020238943397999,0.112863302230835,0.068164378404617,-0.067860350012779));
res += mul(Get(s2,-dx,dy), float4x4(-0.197808399796486,-0.288067281246185,0.098091147840023,-0.072045207023621,-0.074693091213703,0.217719987034798,-0.030736569315195,0.084024295210838,0.002420410979539,0.178090170025826,-0.055695012211800,-0.097275063395500,-0.045677274465561,0.004335493780673,0.001159830484539,0.141024470329285));
res += mul(Get(s2,0,-dy), float4x4(-0.133523762226105,-0.046845424920321,0.137656614184380,0.010391671210527,0.033561363816261,-0.030024187639356,0.103302933275700,0.033548377454281,0.076154105365276,0.093614332377911,0.100750155746937,0.111429721117020,0.120051674544811,0.052933812141418,-0.028901154175401,0.027894059196115));
res += mul(Get(s2,0,0), float4x4(0.019332354888320,0.030426073819399,0.152533143758774,0.036544829607010,0.071639940142632,0.085653461515903,0.053974457085133,0.122292116284370,0.061521537601948,-0.028353616595268,0.054724507033825,0.014550871215761,0.113276973366737,0.003806861350313,0.006273152306676,0.106054827570915));
res += mul(Get(s2,0,dy), float4x4(-0.035656493157148,0.000373638788005,-0.143423199653625,0.013728333637118,-0.049694649875164,-0.149889186024666,0.060599640011787,-0.085233636200428,0.017469350248575,0.134911343455315,0.190447732806206,-0.068390034139156,-0.142261311411858,-0.062326945364475,-0.037873633205891,0.026668377220631));
res += mul(Get(s2,dx,-dy), float4x4(0.106264770030975,-0.069084361195564,-0.024201335385442,0.008229301311076,0.109525941312313,0.026642497628927,-0.012226483784616,0.186596572399139,0.045381192117929,-0.014299008063972,-0.173101067543030,-0.050456438213587,-0.201416701078415,-0.043286547064781,0.060073249042034,0.020655555650592));
res += mul(Get(s2,dx,0), float4x4(-0.143444702029228,-0.191955089569092,0.168076246976852,0.013677336275578,0.089016698300838,0.109867863357067,0.100926637649536,-0.053483732044697,-0.063196025788784,-0.102569229900837,0.143861681222916,-0.010837270878255,0.022159244865179,-0.108944311738014,0.021619688719511,0.074517220258713));
res += mul(Get(s2,dx,dy), float4x4(-0.068493485450745,-0.106389008462429,0.160995617508888,0.003988750278950,-0.095532320439816,0.126505985856056,-0.095458246767521,0.018587270751595,-0.024065053090453,-0.000673670438118,-0.008305177092552,0.097850963473320,-0.081097684800625,0.001957593718544,0.025708312168717,0.168528988957405));
res += mul(Get(s3,-dx,-dy), float4x4(0.045813549309969,-0.187601432204247,0.033702887594700,0.046033184975386,-0.113439120352268,0.133959442377090,-0.003266326617450,0.028920618817210,-0.064742319285870,0.098773218691349,0.026234110817313,-0.112179972231388,0.029576621949673,-0.084511086344719,0.104960478842258,0.043139711022377));
res += mul(Get(s3,-dx,0), float4x4(0.060948554426432,-0.027696063742042,0.135612159967422,0.176744908094406,0.028934231027961,-0.108370035886765,0.007161718327552,0.285961657762527,0.123539149761200,-0.053051702678204,-0.074504651129246,0.170530349016190,0.126200318336487,-0.075302816927433,0.019554181024432,-0.095477007329464));
res += mul(Get(s3,-dx,dy), float4x4(-0.010133958421648,0.093770928680897,0.135342359542847,0.084004715085030,0.025125836953521,-0.113364540040493,0.153782859444618,-0.056810662150383,0.122990928590298,-0.015972990542650,-0.009904179722071,0.019863313063979,0.038504023104906,-0.063000150024891,-0.118007056415081,0.039790406823158));
res += mul(Get(s3,0,-dy), float4x4(-0.190850868821144,0.025105053558946,0.062478791922331,0.073191910982132,0.160074859857559,0.172364920377731,0.020406065508723,0.043494239449501,0.140692636370659,0.028464404866099,0.085507541894913,-0.042206190526485,-0.069965630769730,-0.036773540079594,-0.170829012989998,0.023044630885124));
res += mul(Get(s3,0,0), float4x4(0.013715854845941,0.010150624439120,-0.191277995705605,-0.099125728011131,-0.005976272746921,0.158347159624100,0.141842007637024,-0.074051864445210,-0.119722560048103,0.148014947772026,0.181148603558540,-0.038281016051769,0.096609115600586,0.019126374274492,-0.176594525575638,-0.056221857666969));
res += mul(Get(s3,0,dy), float4x4(0.040264673531055,0.028138078749180,-0.043700065463781,-0.074035525321960,-0.039168279618025,0.123095959424973,0.356120318174362,-0.023575767874718,0.082158945500851,0.136382266879082,-0.081994831562042,-0.063109405338764,0.084235481917858,-0.071736082434654,-0.088406898081303,-0.007248894777149));
res += mul(Get(s3,dx,-dy), float4x4(0.047084975987673,-0.032069049775600,-0.156442075967789,-0.000992276123725,-0.044929519295692,-0.097091399133205,-0.120288260281086,-0.123688042163849,0.038608290255070,-0.071423225104809,-0.000592798169237,-0.096807509660721,-0.007636740338057,-0.043241269886494,0.022538905963302,0.026119517162442));
res += mul(Get(s3,dx,0), float4x4(0.274436712265015,-0.074612312018871,-0.097088515758514,0.124558545649052,-0.122451394796371,0.069667972624302,0.061204228550196,-0.145887032151222,-0.116535410284996,0.177473559975624,0.066362492740154,-0.000696167058777,-0.045593842864037,0.122305914759636,-0.109002165496349,-0.151893809437752));
res += mul(Get(s3,dx,dy), float4x4(-0.257566571235657,-0.114905253052711,0.149438485503197,0.014361687935889,-0.062196042388678,-0.006815047468990,-0.023763630539179,-0.079978138208389,0.117835164070129,0.063533857464790,-0.017755584791303,0.054895088076591,0.009660793468356,0.102465718984604,-0.027564549818635,0.114607088267803));
return max(float4(0,0,0,0), res);
}
