sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.020213464275002,-0.047616515308619,0.040825221687555,-0.012244417332113,-0.001605008263141,-0.089143551886082,0.016780648380518,0.067486427724361,0.061668571084738,-0.030309451743960,0.008660978637636,-0.001097704516724,0.116061352193356,-0.077852144837379,-0.010164832696319,-0.010313728824258));
res += mul(Get(s0,-dx,0), float4x4(0.078672870993614,0.063215911388397,0.025825791060925,-0.120471812784672,-0.065466433763504,0.000308692804538,0.121152758598328,0.113516539335251,0.011823242530227,-0.001693263184279,-0.014346891082823,0.025032758712769,0.095789089798927,-0.057494960725307,0.009398167952895,-0.034037742763758));
res += mul(Get(s0,-dx,dy), float4x4(0.071203753352165,-0.019005294889212,0.015641702339053,0.024847421795130,-0.030289081856608,-0.104229316115379,0.094850137829781,0.062271211296320,0.014235169626772,-0.003876073053107,0.032323386520147,-0.012512807734311,-0.002043956425041,-0.036871373653412,0.002504032803699,-0.057361647486687));
res += mul(Get(s0,0,-dy), float4x4(0.009657089598477,-0.080670081079006,0.037449922412634,-0.072521880269051,-0.034333582967520,-0.061811279505491,-0.013327757827938,-0.150483250617981,0.039369605481625,-0.004117418080568,0.009795289486647,-0.039845336228609,0.067362897098064,0.028708774596453,0.080169774591923,0.002977236406878));
res += mul(Get(s0,0,0), float4x4(0.135348886251450,-0.004832996521145,0.009389446116984,-0.047549355775118,-0.023706417530775,-0.043066203594208,-0.033488214015961,-0.129103049635887,0.021003130823374,0.021847529336810,-0.011491566896439,-0.022397650405765,0.119032964110374,0.132460847496986,-0.016768939793110,-0.061292324215174));
res += mul(Get(s0,0,dy), float4x4(0.099198639392853,0.018487978726625,0.054573763161898,0.042280074208975,-0.035423077642918,-0.147389650344849,-0.053719110786915,-0.023822944611311,0.047403175383806,0.074021503329277,-0.020963739603758,0.020836692303419,0.181487798690796,0.102080017328262,-0.001468175905757,-0.076309099793434));
res += mul(Get(s0,dx,-dy), float4x4(-0.033112812787294,-0.110479429364204,-0.011707125231624,-0.049454502761364,-0.038463067263365,-0.048867002129555,0.042350955307484,-0.098019286990166,0.113032475113869,-0.063022755086422,0.033058371394873,-0.016037913039327,0.038457654416561,0.006912033539265,-0.022665552794933,0.014010671526194));
res += mul(Get(s0,dx,0), float4x4(-0.040326192975044,-0.066368810832500,-0.017438689246774,0.013861563988030,-0.167490452528000,-0.017552928999066,0.061217777431011,-0.054614655673504,0.092339284718037,-0.081942111253738,0.009764193557203,-0.066149681806564,0.129193171858788,0.066263861954212,0.085429556667805,0.001252300804481));
res += mul(Get(s0,dx,dy), float4x4(0.020168066024780,0.064183853566647,-0.022189214825630,-0.019386904314160,-0.061917673796415,0.049643091857433,-0.035383190959692,0.089592121541500,0.084779225289822,-0.019732579588890,0.015646014362574,0.024922985583544,-0.020967556163669,-0.004790247883648,0.018464852124453,-0.066073991358280));
res += mul(Get(s1,-dx,-dy), float4x4(-0.051449000835419,0.016444619745016,-0.048461787402630,0.008186683058739,-0.005796835757792,-0.046533402055502,-0.012413932941854,-0.017290532588959,0.010360072366893,-0.091416135430336,0.014373531565070,0.060022305697203,-0.027190804481506,0.022096231579781,-0.000536884821486,0.005316705908626));
res += mul(Get(s1,-dx,0), float4x4(0.078959077596664,-0.025875415652990,-0.001101893023588,0.008138667792082,0.021582057699561,0.140363290905952,-0.035861652344465,-0.015221348963678,-0.035907611250877,-0.135182470083237,-0.051733329892159,0.115436784923077,0.026449609547853,0.073861300945282,0.176782876253128,0.025610785931349));
res += mul(Get(s1,-dx,dy), float4x4(-0.011427494697273,-0.021984023973346,0.049629405140877,0.043512281030416,0.006895307451487,-0.001813670736738,-0.037867527455091,-0.042226966470480,-0.040023274719715,-0.029438756406307,-0.004837912041694,0.041198119521141,-0.040266763418913,0.000771145685576,0.099793232977390,-0.089280627667904));
res += mul(Get(s1,0,-dy), float4x4(-0.089486502110958,0.080549314618111,0.021801168099046,0.021594217047095,0.006370187271386,-0.016034068539739,0.004033918026835,0.019901273772120,0.115690946578979,0.034235924482346,0.068185120820999,-0.000419618270826,-0.076900072395802,-0.006461042910814,0.032567046582699,0.005241166334599));
res += mul(Get(s1,0,0), float4x4(-0.029258582741022,-0.104070834815502,-0.107616379857063,0.078941978514194,0.082945570349693,-0.032939862459898,0.027902364730835,0.077828630805016,-0.027194099500775,0.122479990124702,-0.042457394301891,-0.010899215936661,-0.075494088232517,0.014169559814036,-0.025195268914104,0.017546305432916));
res += mul(Get(s1,0,dy), float4x4(-0.026472350582480,0.052131202071905,0.017663288861513,0.044417954981327,-0.061163760721684,-0.101633086800575,0.111314199864864,-0.002444413024932,-0.130775004625320,0.044675841927528,0.034376334398985,-0.006701917387545,-0.037171944975853,-0.064724221825600,0.253807485103607,0.091974541544914));
res += mul(Get(s1,dx,-dy), float4x4(0.014272231608629,-0.126233711838722,0.016513988375664,0.080337792634964,-0.074850328266621,0.045297835022211,-0.020281657576561,0.016235262155533,0.041089378297329,-0.052570153027773,0.015721309930086,-0.079909339547157,-0.015931269153953,-0.018577532842755,0.011765382252634,0.014525527134538));
res += mul(Get(s1,dx,0), float4x4(0.027077419683337,-0.057968754321337,0.041290014982224,0.064099639654160,-0.060684230178595,0.077525228261948,0.043490156531334,-0.057491626590490,-0.029886843636632,0.023226743564010,-0.045657414942980,0.137618571519852,-0.079632036387920,-0.050800949335098,0.011145107448101,-0.044158373028040));
res += mul(Get(s1,dx,dy), float4x4(0.158669933676720,-0.035909578204155,0.056085079908371,0.060795236378908,-0.036801744252443,-0.072574459016323,-0.070097662508488,-0.081471614539623,-0.029010403901339,-0.083668999373913,0.004755206406116,-0.037943124771118,-0.086174994707108,-0.047346219420433,0.041958425194025,0.127900943160057));
res += mul(Get(s2,-dx,-dy), float4x4(0.006409443449229,0.040953502058983,0.003674375824630,-0.004873757716268,0.002313173608854,-0.066858753561974,0.065990112721920,-0.056624043732882,-0.035068951547146,-0.012867065146565,-0.077835872769356,0.010044710710645,0.094753973186016,-0.077796682715416,0.021166346967220,-0.026947900652885));
res += mul(Get(s2,-dx,0), float4x4(0.020212106406689,0.042827203869820,-0.027660986408591,0.009394539520144,0.073323808610439,0.024019552394748,0.044063922017813,-0.014691311866045,0.066140107810497,0.102150186896324,0.058840118348598,0.033676791936159,-0.024316748604178,0.016119483858347,-0.045453347265720,0.059638403356075));
res += mul(Get(s2,-dx,dy), float4x4(-0.039512105286121,0.077644981443882,-0.019028868526220,0.041136167943478,0.052937339991331,-0.024661192670465,0.018385441973805,-0.006999434437603,-0.047827403992414,-0.119711883366108,-0.033095225691795,0.021473199129105,0.035952556878328,-0.023632511496544,0.012325725518167,0.023578362539411));
res += mul(Get(s2,0,-dy), float4x4(0.043014489114285,0.061932291835546,0.044579066336155,0.009413238614798,-0.047716017812490,0.008156862109900,0.036910951137543,0.034625023603439,-0.125418096780777,0.059012126177549,-0.005760680418462,0.020005229860544,0.136860281229019,-0.049615565687418,0.022187868133187,0.187254980206490));
res += mul(Get(s2,0,0), float4x4(0.090370304882526,0.101086489856243,-0.032123155891895,0.129252120852470,0.001071034814231,0.165416494011879,-0.050429921597242,0.046675443649292,-0.106548063457012,0.229287356138229,-0.060344334691763,-0.121361240744591,0.085903398692608,0.041541542857885,-0.134945496916771,0.102024711668491));
res += mul(Get(s2,0,dy), float4x4(-0.012402767315507,-0.024440893903375,0.112452097237110,-0.022997524589300,0.059572432190180,-0.034250508993864,0.048634894192219,0.038844313472509,-0.013670207932591,0.083733499050140,-0.008800816722214,0.065472401678562,0.070089712738991,-0.013190258294344,0.034966748207808,0.021108323708177));
res += mul(Get(s2,dx,-dy), float4x4(-0.019421549513936,-0.097848311066628,-0.039374042302370,0.047503408044577,-0.095747731626034,0.025303766131401,-0.013985808007419,0.027069397270679,-0.005193548742682,-0.022626757621765,-0.021760400384665,-0.017158040776849,-0.103973776102066,-0.051249906420708,-0.026667524129152,-0.058872181922197));
res += mul(Get(s2,dx,0), float4x4(-0.013277915306389,0.003084086580202,0.033159922808409,-0.077378265559673,-0.016995735466480,0.109659783542156,0.002349793212488,0.084876745939255,0.008499848656356,0.033693924546242,-0.022463584318757,0.062123309820890,-0.169612586498260,0.034493811428547,0.088057346642017,0.319483548402786));
res += mul(Get(s2,dx,dy), float4x4(-0.059807609766722,-0.085059799253941,0.161360263824463,-0.071747042238712,-0.022786395624280,-0.014604501426220,-0.066447407007217,-0.006197457201779,-0.058128204196692,0.030513448640704,0.033218465745449,-0.017388164997101,-0.044615197926760,0.054996643215418,-0.013690209016204,-0.016349442303181));
res += mul(Get(s3,-dx,-dy), float4x4(-0.074470810592175,-0.036869186908007,-0.014040346257389,-0.018475353717804,0.025231791660190,-0.044028837233782,0.029663559049368,-0.001084279268980,-0.040479578077793,0.074887678027153,-0.036773990839720,-0.040415037423372,0.018128428608179,0.054081849753857,-0.019695404917002,0.047800242900848));
res += mul(Get(s3,-dx,0), float4x4(-0.020653536543250,-0.001278758631088,0.029852539300919,-0.043400079011917,-0.003039621049538,0.001703606802039,0.069663502275944,0.031683698296547,0.140607103705406,-0.006796483881772,-0.002539574634284,0.013573417440057,0.009636974893510,-0.022042484954000,0.060459535568953,0.039636507630348));
res += mul(Get(s3,-dx,dy), float4x4(-0.006292698904872,0.079985395073891,-0.043235838413239,-0.035816583782434,-0.097012251615524,0.074178263545036,0.008232044056058,0.012815962545574,0.021777024492621,0.030924990773201,-0.042816825211048,-0.001380578265525,0.010274819098413,-0.007457320578396,-0.137418642640114,0.009532533586025));
res += mul(Get(s3,0,-dy), float4x4(0.052677802741528,0.016092237085104,-0.002211255254224,0.052075427025557,0.047889243811369,-0.041685070842505,0.006474910769612,-0.014905925840139,0.153716668486595,0.178106307983398,-0.018299708142877,0.104474589228630,0.007683880161494,-0.037178914994001,0.083826571702957,-0.002933331765234));
res += mul(Get(s3,0,0), float4x4(-0.015826942399144,-0.088802188634872,0.192727461457253,0.090498566627502,0.089008994400501,-0.077093087136745,-0.021648423746228,-0.032011318951845,0.065248005092144,-0.105369031429291,0.287779152393341,0.027621911838651,-0.005884973332286,0.087537668645382,-0.110142797231674,0.087752364575863));
res += mul(Get(s3,0,dy), float4x4(-0.065815374255180,0.006692766677588,-0.058246552944183,0.028200838714838,0.053261417895555,0.154184311628342,-0.123896375298500,-0.059680864214897,-0.040660757571459,0.087014622986317,0.012838224880397,0.082180634140968,0.044197469949722,-0.009605865925550,-0.014769440516829,0.009181509725749));
res += mul(Get(s3,dx,-dy), float4x4(0.028431670740247,0.014533413574100,-0.051681540906429,0.011828676797450,-0.060806848108768,-0.017643246799707,0.025001540780067,-0.039312068372965,0.105054073035717,0.100096881389618,-0.076967574656010,0.009426042437553,-0.014257697388530,-0.042750023305416,0.041045647114515,0.032902084290981));
res += mul(Get(s3,dx,0), float4x4(0.069536462426186,0.065085284411907,0.008216900750995,-0.056030906736851,-0.079454310238361,-0.075836904346943,-0.003274550894275,-0.013563638553023,-0.026397433131933,0.014093060977757,-0.102560281753540,0.026009857654572,0.064543619751930,0.078992120921612,0.036906145513058,0.167448252439499));
res += mul(Get(s3,dx,dy), float4x4(0.093173786997795,0.103581421077251,-0.070802405476570,-0.090183973312378,0.032795384526253,0.057942014187574,-0.002934612799436,-0.088388793170452,-0.008933417499065,0.011667836457491,0.023197390139103,-0.017465727403760,0.045684553682804,-0.052072465419769,-0.078914850950241,-0.069392308592796));
return max(float4(0,0,0,0), res);
}
