sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.065394602715969,-0.073950625956059,0.051080442965031,0.035503156483173,-0.072701267898083,0.135014563798904,-0.177122846245766,0.081395223736763,-0.108304046094418,0.039095893502235,0.076555833220482,-0.140278339385986,-0.029261285439134,0.064808733761311,-0.007235371973366,0.033194214105606));
res += mul(Get(s0,-dx,0), float4x4(0.006685806438327,-0.035357177257538,0.096966847777367,-0.044920250773430,-0.042780067771673,0.027063617482781,-0.001475576078519,-0.105356156826019,-0.057380091398954,0.110388591885567,-0.003551792819053,-0.129504352807999,-0.121484681963921,-0.097606778144836,-0.136700809001923,0.236728087067604));
res += mul(Get(s0,-dx,dy), float4x4(-0.065633326768875,-0.141989678144455,0.013521936722100,0.034089338034391,-0.032227173447609,0.018213804811239,-0.046663641929626,-0.052484635263681,-0.061497300863266,-0.082116834819317,-0.011750100180507,0.031192306429148,-0.026485295966268,0.029806928709149,0.033243648707867,0.072454780340195));
res += mul(Get(s0,0,-dy), float4x4(-0.010367085225880,-0.055189792066813,-0.005366868805140,0.014132243581116,-0.090285792946815,0.068552955985069,-0.158682391047478,-0.061081293970346,0.030341153964400,-0.074821285903454,-0.107357107102871,0.150815531611443,0.050940159708261,-0.121054522693157,-0.051109269261360,-0.091188110411167));
res += mul(Get(s0,0,0), float4x4(0.104589827358723,-0.013834179379046,-0.013337987475097,-0.113400377333164,-0.130571514368057,-0.030545778572559,0.127488017082214,0.148233205080032,-0.111020497977734,0.086960330605507,0.112348169088364,-0.046072028577328,-0.012004795484245,0.139182358980179,0.097793973982334,-0.136684969067574));
res += mul(Get(s0,0,dy), float4x4(-0.129716172814369,0.084739603102207,-0.093778498470783,0.065534904599190,-0.007370278704911,0.201475679874420,-0.040227588266134,0.111908361315727,-0.022099668160081,-0.035138856619596,0.041752643883228,-0.164952546358109,0.065293028950691,0.066854983568192,0.027985034510493,-0.181773662567139));
res += mul(Get(s0,dx,-dy), float4x4(-0.004494735505432,0.106015823781490,-0.088213376700878,0.130097702145576,-0.044531490653753,0.118798077106476,0.040802363306284,-0.014662499539554,-0.030736023560166,-0.122559078037739,0.041924238204956,-0.039858952164650,0.117638096213341,-0.044316682964563,-0.010609275661409,-0.111249200999737));
res += mul(Get(s0,dx,0), float4x4(0.094476632773876,-0.071130216121674,0.041366621851921,-0.172243922948837,0.083891034126282,-0.017212424427271,-0.046183519065380,-0.077086180448532,-0.052562974393368,0.063771151006222,-0.097343169152737,0.021650098264217,-0.161925956606865,0.134469091892242,0.009152015671134,0.082970134913921));
res += mul(Get(s0,dx,dy), float4x4(0.108604945242405,0.026789937168360,0.156735301017761,-0.042907498776913,-0.089625366032124,-0.015770923346281,-0.038393955677748,-0.102248638868332,-0.126163154840469,0.039921063929796,-0.031438089907169,-0.032461773604155,0.041172083467245,-0.024125335738063,0.033197537064552,0.021849328652024));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030583258718252,-0.030439101159573,-0.006970667280257,0.036245670169592,0.058328196406364,0.003269642591476,0.101824611425400,-0.035704188048840,-0.053066469728947,-0.070314072072506,-0.112797610461712,0.076776407659054,0.045637644827366,0.143608838319778,-0.065943710505962,-0.047367140650749));
res += mul(Get(s1,-dx,0), float4x4(-0.002111789537594,0.047307256609201,-0.127847731113434,0.014653460122645,-0.158356919884682,-0.064177364110947,0.023175599053502,-0.125620350241661,-0.052676536142826,-0.070227384567261,-0.030178319662809,0.023961259052157,-0.078998506069183,0.103285580873489,-0.125357657670975,0.001517630880699));
res += mul(Get(s1,-dx,dy), float4x4(0.037459366023540,0.031282801181078,0.046925935894251,0.047967962920666,-0.011786600574851,-0.028504068031907,0.060125622898340,-0.022444553673267,-0.059797778725624,-0.032128572463989,-0.099385447800159,-0.039361059665680,-0.005956454202533,-0.073150210082531,-0.040862452238798,-0.067848503589630));
res += mul(Get(s1,0,-dy), float4x4(0.012921035289764,0.020256765186787,-0.005297979339957,-0.160784512758255,-0.258802354335785,-0.034006446599960,-0.122222222387791,0.104824721813202,-0.099096253514290,-0.113297939300537,-0.045629251748323,-0.024545922875404,0.130466982722282,-0.007534849457443,0.046955615282059,0.017707187682390));
res += mul(Get(s1,0,0), float4x4(-0.008296912536025,0.030231008306146,-0.025030346587300,0.095145575702190,0.109591521322727,-0.146563723683357,0.014767204411328,-0.059900432825089,-0.044475208967924,-0.137897372245789,-0.067853026092052,0.063836067914963,0.208025261759758,-0.030558859929442,-0.032511401921511,0.065509140491486));
res += mul(Get(s1,0,dy), float4x4(0.079397544264793,-0.156954765319824,0.080310136079788,0.061244320124388,0.006334376521409,0.035690028220415,-0.091901697218418,-0.028336495161057,-0.043989215046167,-0.158161729574203,-0.096938185393810,0.064011462032795,0.061668470501900,-0.106410920619965,0.079749614000320,0.149932131171227));
res += mul(Get(s1,dx,-dy), float4x4(-0.002335488796234,0.019981475546956,-0.032403577119112,0.119630157947540,0.076818890869617,0.095407955348492,0.105515912175179,0.128349795937538,-0.063241824507713,-0.003084533382207,-0.032614592462778,-0.001117481850088,0.200352728366852,0.128912001848221,-0.084435030817986,-0.013696203939617));
res += mul(Get(s1,dx,0), float4x4(0.029956150799990,-0.002003500703722,0.020927678793669,0.100846350193024,-0.000509485660587,-0.001999011263251,0.026810366660357,0.185061722993851,0.012374356389046,-0.031417194753885,0.131093323230743,-0.068115726113319,0.102634035050869,0.098605267703533,-0.122356586158276,0.098288558423519));
res += mul(Get(s1,dx,dy), float4x4(-0.128647029399872,0.018594507128000,-0.174052074551582,-0.026478273794055,0.032725155353546,0.028516648337245,-0.047042436897755,-0.145388945937157,-0.092385560274124,-0.156439960002899,-0.014032843522727,-0.072527334094048,-0.047335878014565,0.215766772627831,-0.098460495471954,-0.080437116324902));
res += mul(Get(s2,-dx,-dy), float4x4(0.024758225306869,0.089254178106785,-0.024717278778553,0.039538528770208,-0.003014715388417,-0.087861880660057,-0.140088111162186,0.062816865742207,-0.037012822926044,-0.056023765355349,-0.048343423753977,0.039838798344135,0.055371325463057,-0.046927955001593,-0.020352598279715,-0.101079821586609));
res += mul(Get(s2,-dx,0), float4x4(0.112854585051537,0.064084254205227,0.047135096043348,-0.140156239271164,0.069717481732368,-0.019625594839454,-0.106066778302193,0.066215112805367,-0.068955227732658,0.071385726332664,0.090914443135262,0.103781752288342,-0.034561090171337,-0.067811764776707,0.062230024486780,0.026061091572046));
res += mul(Get(s2,-dx,dy), float4x4(-0.063768520951271,-0.010946713387966,-0.064508944749832,0.087902754545212,0.001883722725324,-0.211361750960350,0.031887207180262,-0.073121540248394,0.006041626445949,-0.024589449167252,0.049425657838583,0.064564675092697,-0.043470874428749,-0.058450609445572,-0.127679407596588,-0.108184359967709));
res += mul(Get(s2,0,-dy), float4x4(0.163613826036453,0.023253357037902,0.008390909060836,-0.043682433664799,-0.103155620396137,-0.034109916538000,0.047696895897388,-0.139674767851830,-0.137370228767395,0.003725072368979,-0.063633814454079,0.027474893257022,-0.078333489596844,-0.012520486488938,-0.053073905408382,0.217930138111115));
res += mul(Get(s2,0,0), float4x4(0.020004346966743,-0.049951013177633,0.116479918360710,-0.004414369817823,0.083179578185081,0.016617700457573,-0.004652884788811,0.060900740325451,0.117727115750313,-0.103436775505543,-0.003939506597817,0.031334359198809,-0.040298108011484,0.023133343085647,-0.044307988137007,0.033582016825676));
res += mul(Get(s2,0,dy), float4x4(0.015437319874763,0.067560598254204,-0.044540084898472,0.100796543061733,-0.101945452392101,-0.058154299855232,-0.005540972575545,0.041958961635828,-0.058595094829798,0.062048502266407,0.255812883377075,0.002433681394905,-0.022410256788135,-0.101735845208168,0.007864944636822,0.029499905183911));
res += mul(Get(s2,dx,-dy), float4x4(-0.083832316100597,-0.008591781370342,0.030621683225036,0.057065527886152,-0.089995108544827,0.067221455276012,0.085028633475304,0.113567866384983,0.107210420072079,0.038455203175545,0.088388919830322,0.012223671190441,0.031338520348072,0.142419695854187,0.054778583347797,0.053265951573849));
res += mul(Get(s2,dx,0), float4x4(-0.058109104633331,0.085097841918468,-0.065152071416378,0.027278698980808,-0.108889803290367,0.149273216724396,0.087604731321335,0.095798060297966,0.138286605477333,-0.001070232014172,-0.139349922537804,-0.139417886734009,0.080350443720818,0.111975952982903,-0.088452562689781,-0.018224159255624));
res += mul(Get(s2,dx,dy), float4x4(0.012196756899357,0.031384985893965,0.036540716886520,0.014359959401190,0.057605087757111,0.179399192333221,-0.011690710671246,-0.031591109931469,-0.009657078422606,0.047024566680193,0.132369861006737,0.021496886387467,-0.046644486486912,-0.015129449777305,0.084175832569599,0.156790867447853));
res += mul(Get(s3,-dx,-dy), float4x4(-0.118033245205879,-0.015012755058706,-0.082842975854874,-0.071886323392391,0.035176265984774,0.121602565050125,-0.066324748098850,0.051567975431681,0.064518198370934,-0.024886332452297,0.036865621805191,-0.050038818269968,0.016173601150513,-0.077544502913952,-0.088284350931644,-0.113999746739864));
res += mul(Get(s3,-dx,0), float4x4(0.019759351387620,0.036997921764851,-0.081886284053326,-0.030827641487122,-0.060930136591196,-0.095067285001278,0.011517213657498,-0.004613601602614,-0.093757189810276,-0.005869501270354,-0.164632469415665,-0.043803211301565,0.096350759267807,0.103362865746021,0.020679356530309,-0.087247103452682));
res += mul(Get(s3,-dx,dy), float4x4(0.089352890849113,-0.013593536801636,0.123608916997910,-0.075288176536560,-0.014801559038460,0.026852753013372,-0.009554822929204,0.093867592513561,-0.088008649647236,0.041995346546173,0.083267934620380,-0.135729074478149,0.075794264674187,0.031517747789621,-0.063252776861191,0.049372009932995));
res += mul(Get(s3,0,-dy), float4x4(-0.077253185212612,0.085550732910633,0.050824981182814,0.040878757834435,-0.019282706081867,-0.069295600056648,0.082672379910946,0.040337417274714,-0.021845038980246,-0.002613149583340,0.117120787501335,0.019352734088898,0.061745822429657,0.042807366698980,0.120531350374222,-0.113782271742821));
res += mul(Get(s3,0,0), float4x4(-0.022298824042082,-0.082059048116207,-0.062472652643919,0.009563948959112,-0.077416077256203,0.037313021719456,-0.041738010942936,0.110369108617306,-0.031564902514219,0.077077992260456,-0.012627480551600,-0.250305682420731,0.084800593554974,-0.003101276466623,-0.041921332478523,0.089891813695431));
res += mul(Get(s3,0,dy), float4x4(-0.102437384426594,-0.103967361152172,0.065334230661392,-0.042216636240482,-0.028000285848975,0.129391655325890,0.176766514778137,-0.035485439002514,0.028140466660261,-0.040382720530033,-0.105837069451809,0.018318070098758,0.187291488051414,0.031437672674656,-0.073527954518795,0.098157323896885));
res += mul(Get(s3,dx,-dy), float4x4(0.026147015392780,0.035763408988714,-0.071340143680573,0.005085580050945,0.064861744642258,0.054317727684975,0.120487667620182,0.012004673480988,-0.066637031733990,0.076078459620476,-0.005703995935619,-0.076419949531555,0.162386894226074,-0.080205760896206,-0.150867730379105,0.039481729269028));
res += mul(Get(s3,dx,0), float4x4(-0.004986105486751,0.164164200425148,0.055545344948769,-0.217682689428329,0.024921795353293,0.054460089653730,-0.028322920203209,0.005870847031474,0.019790237769485,0.100961670279503,-0.074760444462299,0.033228043466806,0.078970871865749,-0.090363606810570,0.126132801175117,0.063323482871056));
res += mul(Get(s3,dx,dy), float4x4(-0.065275020897388,0.083924271166325,-0.003248247085139,0.035965666174889,-0.037989426404238,0.091738902032375,0.035957593470812,0.031929358839989,-0.193821236491203,0.140147656202316,-0.122320793569088,0.030167775228620,0.015018240548670,-0.090277180075645,-0.054271422326565,-0.037918329238892));
return max(float4(0,0,0,0), res);
}
