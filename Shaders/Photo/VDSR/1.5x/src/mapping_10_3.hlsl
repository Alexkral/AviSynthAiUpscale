sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.060580097138882,-0.049825008958578,0.025980122387409,-0.018516734242439,0.005449544638395,-0.038110379129648,-0.034505024552345,-0.003586965380237,-0.107215315103531,0.015478174202144,0.052761759608984,-0.007306538056582,0.222406283020973,-0.018536658957601,0.051907099783421,0.015409439802170));
res += mul(Get(s0,-dx,0), float4x4(0.006615801714361,0.091192647814751,0.049554288387299,0.086492493748665,-0.024949567392468,0.056649997830391,-0.109155610203743,0.010025890544057,-0.072778061032295,-0.107497818768024,0.081217326223850,-0.045376989990473,-0.098782293498516,0.007533623371273,0.051325518637896,-0.018787046894431));
res += mul(Get(s0,-dx,dy), float4x4(0.016909576952457,-0.014524240978062,-0.100260958075523,0.033453468233347,0.150862351059914,-0.071927547454834,-0.102195151150227,-0.004352408461273,-0.031735312193632,-0.012760745361447,0.054345823824406,-0.022687878459692,0.088271930813789,-0.070572540163994,-0.015146253630519,-0.058683652430773));
res += mul(Get(s0,0,-dy), float4x4(-0.047520920634270,-0.067571483552456,-0.100892171263695,0.069301441311836,0.022189296782017,-0.029908750206232,-0.060691021382809,0.029990173876286,-0.000835727900267,0.046692814677954,0.079418651759624,-0.034835856407881,0.003152157645673,-0.008806463330984,0.015992421656847,-0.010236502625048));
res += mul(Get(s0,0,0), float4x4(-0.019937761127949,-0.116354331374168,-0.033499389886856,0.197520196437836,-0.036141321063042,0.000385397317586,-0.032586980611086,0.037493042647839,0.008959635160863,0.108772851526737,0.094657041132450,-0.010283970274031,-0.081392683088779,0.128766477108002,0.128650411963463,0.105971299111843));
res += mul(Get(s0,0,dy), float4x4(-0.096783623099327,-0.101827666163445,-0.031097831204534,0.105978459119797,-0.028803873807192,-0.025274839252234,-0.081877544522285,-0.153370171785355,-0.028319245204329,0.012886368669569,-0.084747351706028,0.016348553821445,-0.021586418151855,-0.037471789866686,0.003834554459900,0.002473843051121));
res += mul(Get(s0,dx,-dy), float4x4(-0.079112783074379,0.128374204039574,0.031124191358685,0.024253815412521,-0.069883614778519,0.055278420448303,0.051617689430714,0.030318807810545,-0.048211108893156,0.011434738524258,0.005333217326552,0.059589546173811,-0.042335838079453,0.033391740173101,0.043363697826862,-0.053009614348412));
res += mul(Get(s0,dx,0), float4x4(-0.018415285274386,0.187132433056831,0.114520654082298,-0.024659728631377,-0.117239810526371,-0.044024698436260,0.082901827991009,0.057216241955757,-0.054812885820866,0.034495003521442,-0.044825561344624,-0.087301492691040,-0.007502486929297,0.068471722304821,-0.040645074099302,0.008382985368371));
res += mul(Get(s0,dx,dy), float4x4(-0.094327002763748,0.106571719050407,-0.033785745501518,-0.003964588511735,0.009523638524115,0.041333731263876,0.134029641747475,-0.058571476489305,-0.047153074294329,-0.053244259208441,-0.061185143887997,-0.010041056200862,-0.052964150905609,0.018867822363973,-0.082982301712036,-0.047948915511370));
res += mul(Get(s1,-dx,-dy), float4x4(0.143180862069130,0.099026694893837,0.024990310892463,0.031549613922834,0.000553982390556,-0.002854750724509,-0.025405690073967,-0.005135609302670,-0.025154286995530,-0.071099221706390,0.006143311504275,-0.010935286991298,0.046340666711330,-0.035317458212376,-0.006277416832745,0.050549559295177));
res += mul(Get(s1,-dx,0), float4x4(0.112378165125847,0.164374962449074,-0.036140408366919,0.219312474131584,0.164597496390343,0.052721686661243,-0.080011256039143,0.037514347583055,-0.060867488384247,-0.053220752626657,0.073753871023655,-0.035192940384150,0.066668704152107,-0.028430184349418,0.007085976190865,-0.082896985113621));
res += mul(Get(s1,-dx,dy), float4x4(0.089527405798435,0.072195157408714,-0.032500121742487,-0.083282612264156,0.072090372443199,0.006130699999630,-0.025635836645961,-0.017057441174984,0.029426842927933,-0.059292856603861,-0.014840222895145,0.018034005537629,-0.019157420843840,-0.004722144920379,-0.084435969591141,-0.011294160038233));
res += mul(Get(s1,0,-dy), float4x4(0.068143844604492,-0.071864090859890,-0.040389601141214,-0.046217564493418,-0.018965002149343,-0.022951098158956,0.076709523797035,-0.027711372822523,0.048218552023172,-0.222775757312775,0.024012643843889,0.035002280026674,0.046643413603306,-0.008469336666167,-0.031916152685881,0.060045644640923));
res += mul(Get(s1,0,0), float4x4(0.037109300494194,-0.172084271907806,-0.078242801129818,0.215635389089584,0.041875734925270,-0.078607819974422,-0.100358366966248,-0.129505291581154,0.046113163232803,-0.225748881697655,0.084654174745083,0.032195832580328,0.099885687232018,0.035305533558130,0.019077440723777,0.221096143126488));
res += mul(Get(s1,0,dy), float4x4(-0.031010603532195,0.016862785443664,-0.061151158064604,0.146449923515320,-0.037412531673908,-0.050613187253475,-0.114870734512806,-0.228380724787712,-0.008559929206967,-0.225706711411476,0.008137004449964,-0.047669734805822,-0.101624839007854,-0.100173339247704,-0.059292588382959,-0.033261924982071));
res += mul(Get(s1,dx,-dy), float4x4(-0.027093971148133,-0.039532709866762,-0.074175022542477,-0.032821863889694,0.038028463721275,-0.037204973399639,0.049014590680599,-0.011914976872504,0.046672116965055,-0.022765519097447,-0.053069360554218,0.013127577491105,0.022403988987207,0.035380553454161,0.000876053236425,-0.023823292925954));
res += mul(Get(s1,dx,0), float4x4(-0.055559772998095,0.070105254650116,-0.067719489336014,-0.032822899520397,-0.000173686101334,0.033537298440933,0.092261716723442,-0.052008472383022,0.054103784263134,-0.030813548713923,-0.061879742890596,0.001440627034754,0.010341424494982,0.068077854812145,-0.116802647709846,-0.029763210564852));
res += mul(Get(s1,dx,dy), float4x4(0.037432931363583,-0.046934470534325,-0.064239643514156,0.018328454345465,-0.077824987471104,-0.010506126098335,0.072218805551529,-0.069986306130886,0.050801564007998,0.042708639055490,-0.054240893572569,0.038350503891706,-0.052712321281433,0.121582359075546,0.060938186943531,0.096208475530148));
res += mul(Get(s2,-dx,-dy), float4x4(0.046810142695904,-0.017603153362870,0.029216596856713,-0.049084201455116,-0.060806930065155,0.100157521665096,0.011780156753957,-0.094614751636982,0.057250354439020,0.025795977562666,0.052177645266056,-0.085758745670319,-0.021567098796368,-0.014127273112535,0.039429482072592,0.005600064061582));
res += mul(Get(s2,-dx,0), float4x4(0.043892044574022,-0.000585301197134,0.063995800912380,-0.048376418650150,0.042064048349857,-0.017710709944367,0.034528099000454,-0.034763894975185,0.046335183084011,0.013472340069711,0.066937804222107,-0.011632489040494,0.055764969438314,0.038778416812420,0.043995004147291,0.128582850098610));
res += mul(Get(s2,-dx,dy), float4x4(0.004967313725501,0.029776968061924,0.033621698617935,-0.081189081072807,-0.105178773403168,0.093824118375778,0.029290024191141,-0.042234640568495,0.038680095225573,0.005589272361249,-0.007195252459496,-0.124928638339043,-0.056865062564611,0.081725098192692,0.003676963504404,0.024997076019645));
res += mul(Get(s2,0,-dy), float4x4(-0.009092988446355,0.006876917090267,-0.017144164070487,-0.142168998718262,-0.041791908442974,0.055705327540636,-0.029638849198818,0.006697861943394,0.041048672050238,0.016044758260250,0.034619007259607,0.107343636453152,-0.021566886454821,-0.002535635139793,-0.007564257364720,0.034889899194241));
res += mul(Get(s2,0,0), float4x4(-0.012115701101720,0.147713005542755,0.170557454228401,0.085880152881145,-0.010093918070197,-0.007289787754416,-0.054547436535358,-0.060178447514772,-0.020720100030303,0.041523139923811,-0.017924774438143,0.078124590218067,0.071156650781631,-0.011971227824688,-0.029659807682037,0.084271453320980));
res += mul(Get(s2,0,dy), float4x4(-0.013802505098283,-0.020292207598686,-0.014543953351676,0.027280310168862,0.027585063129663,0.032306943088770,-0.001852538203821,-0.024089498445392,-0.081992283463478,0.004373312927783,-0.107338719069958,-0.039357449859381,-0.062669217586517,0.021655686199665,-0.019384372979403,0.001657213200815));
res += mul(Get(s2,dx,-dy), float4x4(0.003825323656201,-0.003736084792763,0.049098979681730,0.030607501044869,0.093211121857166,-0.074394449591637,-0.090794511139393,-0.022689279168844,0.021803831681609,-0.042791843414307,0.080335035920143,-0.005626752041280,0.029375141486526,-0.027702685445547,-0.037511192262173,0.012887577526271));
res += mul(Get(s2,dx,0), float4x4(0.004623139277101,0.001467775786296,-0.018899189308286,0.019133957102895,-0.016844546422362,-0.024890974164009,-0.094802655279636,-0.050261732190847,0.018521286547184,-0.045211266726255,0.015574743971229,0.064255721867085,0.032257534563541,0.024026906117797,-0.041158147156239,-0.026351280510426));
res += mul(Get(s2,dx,dy), float4x4(-0.028938811272383,-0.079555720090866,0.111003078520298,0.052770487964153,-0.036123156547546,0.027313692495227,-0.115754134953022,-0.034892532974482,-0.001031499588862,-0.143501013517380,0.099609650671482,0.065353378653526,0.011884289793670,0.067616984248161,-0.024961791932583,0.045984987169504));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002603294327855,0.117658652365208,0.053383983671665,-0.034428838640451,0.079678565263748,0.016807930544019,-0.000153940985911,-0.070488594472408,-0.067568801343441,0.036511387676001,0.030157288536429,-0.018786245957017,0.079753175377846,0.017406491562724,0.073969937860966,-0.001199893536977));
res += mul(Get(s3,-dx,0), float4x4(0.079968847334385,-0.001746350317262,-0.025828132405877,0.025696987286210,0.009085690602660,-0.000361374986824,-0.003837780095637,-0.085793629288673,0.010795892216265,0.013186851516366,-0.083915054798126,0.032230179756880,0.004244829993695,-0.134673282504082,0.094824902713299,0.073528058826923));
res += mul(Get(s3,-dx,dy), float4x4(0.044116865843534,0.045701228082180,-0.015420387499034,-0.182304888963699,0.039568886160851,-0.012961898930371,-0.012156023643911,-0.118264295160770,-0.010247906669974,-0.091051340103149,0.016099981963634,0.051611077040434,0.058350287377834,0.013896503485739,0.017191585153341,0.076776690781116));
res += mul(Get(s3,0,-dy), float4x4(0.083308443427086,0.011856885626912,-0.079685933887959,-0.023126754909754,-0.080361537635326,0.054915715008974,0.023131327703595,0.008021243847907,-0.040021371096373,-0.008978909812868,-0.042048074305058,-0.045724872499704,-0.022302607074380,0.000042685478547,0.214021176099777,-0.010439917445183));
res += mul(Get(s3,0,0), float4x4(0.022709345445037,-0.021282121539116,-0.049349419772625,-0.034550454467535,-0.062950238585472,0.114156290888786,0.056135810911655,-0.185639262199402,-0.082786180078983,-0.043097276240587,-0.009350416250527,-0.151976078748703,-0.036587465554476,0.115815602242947,0.283821135759354,0.089068919420242));
res += mul(Get(s3,0,dy), float4x4(0.029888024553657,-0.030617309734225,-0.037205860018730,-0.124491266906261,0.093698643147945,0.115344978868961,0.013732121326029,-0.115940146148205,-0.035840395838022,0.036813627928495,0.055623020976782,-0.037084598094225,0.021515995264053,0.020747393369675,0.118637040257454,-0.060176167637110));
res += mul(Get(s3,dx,-dy), float4x4(0.013321140781045,0.032776035368443,-0.020189471542835,-0.084510944783688,0.046794656664133,-0.019126968458295,-0.135090276598930,0.099777683615685,0.005571993533522,-0.024093566462398,-0.005249795038253,-0.060976956039667,-0.029974121600389,-0.001111750141717,0.002008859999478,-0.062001537531614));
res += mul(Get(s3,dx,0), float4x4(0.031060755252838,0.031828038394451,-0.004807427525520,0.005925979930907,0.020330704748631,-0.140375331044197,0.026554312556982,0.080288626253605,-0.024413956329226,-0.038360647857189,0.094872578978539,-0.057057220488787,-0.062335245311260,-0.016459684818983,0.025300977751613,-0.028625542297959));
res += mul(Get(s3,dx,dy), float4x4(-0.019140327349305,0.053668454289436,-0.065236076712608,0.016739366576076,0.023382358253002,-0.038298584520817,0.001613854779862,0.017282100394368,-0.070421151816845,-0.014035755768418,-0.001791675575078,0.015016920864582,0.033496327698231,-0.001332115964033,0.050748735666275,0.006921167951077));
return max(float4(0,0,0,0), res);
}
