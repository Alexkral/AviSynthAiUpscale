sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.267049491405487,0.027412775903940,0.108127117156982,-0.033859636634588,0.026082493364811,0.033942293375731,-0.104344531893730,-0.066325604915619,0.079954773187637,0.108307413756847,0.048551645129919,0.038274575024843,0.153089404106140,-0.017578883096576,-0.071961931884289,-0.024806611239910));
res += mul(Get(s0,-dx,0), float4x4(-0.125141248106956,-0.064297989010811,-0.219215452671051,-0.097281046211720,0.044851601123810,-0.050880394876003,0.082370087504387,0.055608633905649,0.188744038343430,-0.086640901863575,0.061257172375917,-0.105917774140835,-0.059019863605499,-0.078049562871456,0.008394638076425,0.062253028154373));
res += mul(Get(s0,-dx,dy), float4x4(-0.017921755090356,-0.002149712061509,-0.032819248735905,-0.103773027658463,-0.005544669926167,0.061973851174116,0.126444071531296,0.065701939165592,0.127984359860420,0.158675983548164,-0.046852782368660,0.129863858222961,-0.184037879109383,-0.038632638752460,0.042089577764273,-0.103591367602348));
res += mul(Get(s0,0,-dy), float4x4(-0.110647469758987,-0.001846284489147,-0.045635964721441,0.015067849308252,0.000870054063853,0.010911618359387,0.079488523304462,-0.028904909268022,0.091611735522747,-0.054307065904140,0.043560784310102,0.097055211663246,0.086892828345299,-0.038959860801697,-0.024792198091745,-0.007576979231089));
res += mul(Get(s0,0,0), float4x4(-0.026199949905276,-0.066474869847298,0.042525354772806,0.117477484047413,0.000669980712701,0.088589347898960,0.011808744631708,-0.008943910710514,-0.081870801746845,0.021418785676360,0.215423256158829,0.139176204800606,0.106811635196209,-0.218480393290520,-0.080082952976227,-0.106392197310925));
res += mul(Get(s0,0,dy), float4x4(-0.004223077557981,0.055196963250637,-0.147615835070610,0.074865400791168,0.187532633543015,-0.058591607958078,0.017928706482053,-0.077584758400917,0.067310824990273,0.019357847049832,-0.121327377855778,0.096542119979858,0.030565559864044,-0.181357860565186,-0.096919059753418,0.059544358402491));
res += mul(Get(s0,dx,-dy), float4x4(-0.059659793972969,0.000380324432626,-0.059403035789728,0.144371286034584,0.024742146953940,0.076056480407715,-0.089669838547707,-0.034530021250248,-0.160795316100121,-0.134516149759293,0.051497809588909,0.069127351045609,-0.073581054806709,0.101037204265594,-0.067311339080334,0.072773799300194));
res += mul(Get(s0,dx,0), float4x4(0.046161495149136,0.068394355475903,-0.047770339995623,0.141453936696053,-0.020540010184050,0.139793008565903,-0.073578096926212,0.060849115252495,-0.078671842813492,0.129426017403603,-0.008268192410469,0.048112034797668,0.091894552111626,-0.042548272758722,-0.098997890949249,-0.067822717130184));
res += mul(Get(s0,dx,dy), float4x4(-0.056581377983093,-0.071794845163822,0.083283051848412,0.080806806683540,-0.073831707239151,0.031226916238666,-0.016936324536800,0.001702211797237,-0.167349055409431,-0.046455789357424,-0.075442582368851,-0.013849468901753,-0.053387816995382,-0.005097631830722,0.076308660209179,-0.087402746081352));
res += mul(Get(s1,-dx,-dy), float4x4(0.203361704945564,-0.019099218770862,0.014046185649931,0.047180645167828,0.106633231043816,-0.132530838251114,-0.149236038327217,-0.132592692971230,-0.051609821617603,0.017589874565601,-0.029285892844200,-0.086676768958569,0.024133382365108,-0.029910022392869,-0.070559017360210,0.061669770628214));
res += mul(Get(s1,-dx,0), float4x4(0.103130243718624,-0.075139448046684,-0.017140133306384,0.285331577062607,0.113097667694092,-0.041055262088776,-0.005317308939993,-0.045141857117414,-0.025899983942509,0.117617949843407,-0.036329939961433,-0.091525956988335,-0.148739099502563,-0.054734282195568,-0.018542161211371,0.011190509423614));
res += mul(Get(s1,-dx,dy), float4x4(-0.042828075587749,-0.004474081564695,0.002048154827207,0.041909184306860,0.034527063369751,0.020438982173800,-0.025731557980180,-0.000681247038301,0.059611182659864,0.164362475275993,-0.017233902588487,-0.070447146892548,0.083677731454372,-0.010098434984684,0.039129771292210,-0.095175795257092));
res += mul(Get(s1,0,-dy), float4x4(-0.173921719193459,0.032846033573151,0.009437176398933,0.044091358780861,-0.035243541002274,0.089039288461208,-0.033789783716202,-0.004783467855304,-0.097808979451656,-0.106500841677189,0.013552487827837,-0.080364249646664,0.100491091609001,0.032946608960629,-0.003303528297693,0.021034188568592));
res += mul(Get(s1,0,0), float4x4(-0.134394720196724,0.038255911320448,0.001497865421697,-0.022699546068907,-0.105746500194073,-0.131491631269455,-0.075358062982559,-0.051486551761627,0.073192708194256,-0.111696735024452,-0.052197385579348,-0.003283721394837,-0.049622669816017,0.054933831095695,0.135159984230995,-0.045557208359241));
res += mul(Get(s1,0,dy), float4x4(-0.043432362377644,-0.126341283321381,0.023205107077956,0.194139346480370,0.140649810433388,-0.068672478199005,0.084385000169277,0.023839687928557,0.067355446517467,-0.037716824561357,0.009211795404553,-0.019224507734179,-0.064178109169006,-0.002072089118883,0.147050455212593,-0.052435167133808));
res += mul(Get(s1,dx,-dy), float4x4(-0.028728656470776,-0.116321764886379,0.001121645327657,0.048650164157152,0.043271258473396,-0.143039360642433,-0.092311896383762,-0.153864085674286,-0.042035754770041,0.056240916252136,0.054383784532547,-0.059288896620274,0.030106812715530,-0.076608031988144,0.045837771147490,0.023447148501873));
res += mul(Get(s1,dx,0), float4x4(0.045907102525234,-0.291969478130341,0.061642739921808,-0.118553526699543,0.092156589031219,-0.030504163354635,-0.168263107538223,0.116332627832890,0.098520480096340,-0.029668521136045,0.088834069669247,0.027854103595018,-0.055482830852270,-0.000302359578200,-0.005254502408206,0.051945626735687));
res += mul(Get(s1,dx,dy), float4x4(0.131565973162651,-0.026135297492146,-0.099686659872532,-0.048899311572313,-0.174947857856750,-0.014536741189659,0.061358083039522,0.085187375545502,0.045832905918360,-0.048567455261946,-0.111123107373714,-0.003155630081892,-0.152606725692749,-0.099126845598221,-0.115008898079395,-0.086305297911167));
res += mul(Get(s2,-dx,-dy), float4x4(-0.027813503518701,-0.113379091024399,-0.018664913251996,-0.061558589339256,0.055260546505451,0.000197164292331,0.115693807601929,0.151962503790855,0.081287004053593,0.111849218606949,0.034375373274088,-0.030736114829779,-0.085066974163055,-0.078010715544224,0.121225222945213,0.035943076014519));
res += mul(Get(s2,-dx,0), float4x4(0.179669663310051,0.017693160101771,-0.006910274736583,-0.049541212618351,-0.058211036026478,0.085907392203808,0.085375383496284,0.086312055587769,0.042823277413845,0.085423879325390,-0.030533779412508,0.240753337740898,0.070977225899696,0.032820180058479,0.138547420501709,0.131198793649673));
res += mul(Get(s2,-dx,dy), float4x4(-0.100285939872265,-0.035195574164391,-0.150705382227898,-0.045006040483713,-0.122941173613071,0.072658956050873,0.100095398724079,-0.111631289124489,-0.009829852730036,-0.001705013564788,-0.011166940443218,0.168438598513603,-0.116734370589256,0.127306222915649,-0.047856763005257,-0.041388791054487));
res += mul(Get(s2,0,-dy), float4x4(-0.026341272518039,-0.082774437963963,0.025030344724655,-0.013856675475836,-0.046979129314423,-0.028966207057238,-0.103768892586231,-0.008448185399175,-0.218307167291641,0.294711619615555,-0.154967710375786,0.033026378601789,-0.051428120583296,0.048115335404873,0.016907675191760,-0.017906418070197));
res += mul(Get(s2,0,0), float4x4(0.053160201758146,-0.049440499395132,-0.006265653762966,-0.127650514245033,0.071928955614567,0.128170639276505,-0.091456346213818,0.005389477591962,-0.053205490112305,-0.039585713297129,-0.029558079317212,0.011089716106653,-0.079924330115318,0.118201874196529,-0.194051206111908,0.063165441155434));
res += mul(Get(s2,0,dy), float4x4(-0.185855552554131,-0.045561462640762,0.135614290833473,-0.028251819312572,0.037705071270466,0.063317045569420,0.126025736331940,-0.101321466267109,0.039538741111755,0.052352584898472,-0.066396608948708,-0.085083387792110,-0.190489396452904,0.057503182440996,-0.021409366279840,0.092158325016499));
res += mul(Get(s2,dx,-dy), float4x4(-0.164576023817062,0.228455290198326,0.046448778361082,0.029175629839301,0.160211548209190,0.095292448997498,0.078607797622681,-0.089263409376144,-0.033781014382839,0.024988770484924,0.009304417297244,-0.065861292183399,-0.146691024303436,0.028479071334004,-0.098472826182842,0.044517885893583));
res += mul(Get(s2,dx,0), float4x4(-0.129030719399452,0.061239816248417,0.043023623526096,-0.039171125739813,0.017337696626782,0.093800112605095,-0.113587364554405,-0.031635589897633,0.105393067002296,0.112739652395248,0.084727138280869,0.057534020394087,-0.017958009615541,-0.019491357728839,-0.017926549538970,-0.067630961537361));
res += mul(Get(s2,dx,dy), float4x4(-0.061094682663679,0.001340002985671,-0.118309497833252,-0.191900789737701,-0.039154112339020,-0.049824852496386,-0.232475697994232,-0.083382785320282,-0.062008481472731,-0.008497845381498,-0.062403392046690,0.009628134779632,0.003690823446959,-0.037177097052336,-0.116486690938473,-0.031655892729759));
res += mul(Get(s3,-dx,-dy), float4x4(-0.090570881962776,0.028387507423759,0.033402498811483,-0.004154078196734,-0.074828714132309,0.007868852466345,-0.037058200687170,0.095493018627167,-0.121948480606079,-0.034947231411934,-0.108132794499397,-0.004956685472280,0.112548507750034,0.089997515082359,-0.052677694708109,0.036966551095247));
res += mul(Get(s3,-dx,0), float4x4(-0.162602663040161,0.034579005092382,-0.052159857004881,0.001578291528858,0.124415978789330,-0.055792231112719,0.089129760861397,0.001065239077434,-0.086805477738380,-0.004016562364995,0.008383705280721,0.015977945178747,-0.035812549293041,-0.185564845800400,-0.122649274766445,-0.124796047806740));
res += mul(Get(s3,-dx,dy), float4x4(-0.125978082418442,0.023899322375655,0.040441811084747,0.136876031756401,0.020703082904220,0.126720339059830,0.076356977224350,-0.091066449880600,-0.041837248951197,0.172766730189323,-0.107760339975357,-0.050095047801733,0.023398665711284,-0.003467449918389,-0.098160721361637,0.051632169634104));
res += mul(Get(s3,0,-dy), float4x4(0.073718346655369,-0.000484438205604,-0.194614112377167,0.021627906709909,0.093648761510849,0.041699428111315,0.097362793982029,0.018416693434119,-0.145449668169022,-0.089704550802708,-0.051691725850105,0.047754779458046,0.004710932262242,-0.026089167222381,0.043086327612400,0.047704719007015));
res += mul(Get(s3,0,0), float4x4(0.144862636923790,0.080812618136406,-0.045253798365593,-0.023322068154812,0.038704242557287,0.063513949513435,0.099428035318851,-0.037264097481966,-0.058937154710293,0.085793331265450,-0.033043034374714,0.297680884599686,0.160799324512482,0.078191734850407,-0.049339260905981,-0.015049976296723));
res += mul(Get(s3,0,dy), float4x4(-0.001102927140892,0.066646635532379,0.034642342478037,-0.136787518858910,0.096232794225216,-0.080063626170158,-0.005850413814187,-0.017694214358926,0.004242294002324,0.146162405610085,-0.049721296876669,0.055016506463289,0.225914791226387,0.065556414425373,0.141436263918877,0.000250295968726));
res += mul(Get(s3,dx,-dy), float4x4(-0.163049995899200,-0.149607449769974,-0.070314362645149,0.074936002492905,0.203185722231865,-0.000236183521338,0.142514973878860,0.021713398396969,0.127703189849854,-0.148460894823074,0.012596989981830,-0.006447635591030,0.072677500545979,0.002884675515816,-0.024892237037420,0.090156733989716));
res += mul(Get(s3,dx,0), float4x4(-0.036851357668638,-0.194310262799263,0.010859581641853,-0.036330495029688,0.091577917337418,-0.032145809382200,-0.140435501933098,0.181026279926300,0.048784546554089,-0.022821249440312,-0.020468784496188,-0.045808792114258,-0.087688788771629,-0.131781712174416,-0.057155996561050,-0.013007087633014));
res += mul(Get(s3,dx,dy), float4x4(0.090762399137020,-0.068049140274525,0.102476559579372,-0.096051611006260,0.022270787507296,-0.113370046019554,-0.080341391265392,-0.119158133864403,-0.051361247897148,0.025736439973116,0.104432225227356,0.174950838088989,-0.172372609376907,-0.274420022964478,0.053615689277649,0.180975809693336));
return max(float4(0,0,0,0), res);
}
