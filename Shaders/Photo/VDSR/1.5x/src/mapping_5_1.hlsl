sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.085516862571239,-0.088308714330196,0.103317409753799,-0.021476201713085,-0.060909658670425,-0.071945726871490,0.181546539068222,0.014067232608795,-0.110944174230099,0.067742414772511,-0.031299874186516,-0.016436429694295,0.098555006086826,-0.041648980230093,-0.050475928932428,-0.025705249980092));
res += mul(Get(s0,-dx,0), float4x4(0.013494591228664,-0.038000080734491,0.039315328001976,0.003741850377992,0.092187643051147,-0.012270645238459,0.172850593924522,0.053146280348301,0.095715977251530,0.064831487834454,-0.037715546786785,0.077268786728382,-0.119939967989922,0.101082861423492,-0.049694027751684,-0.034593541175127));
res += mul(Get(s0,-dx,dy), float4x4(0.018137227743864,-0.029661741107702,-0.011786396615207,-0.043745920062065,-0.113628454506397,-0.005204063840210,0.027397871017456,-0.000591605494265,-0.014485778287053,-0.072790473699570,-0.076481170952320,0.016210906207561,0.011777219362557,0.010015088133514,0.022376367822289,0.060701832175255));
res += mul(Get(s0,0,-dy), float4x4(-0.075353607535362,0.238340198993683,-0.167063489556313,0.052370771765709,0.093156993389130,0.034336905926466,0.156670689582825,-0.048257756978273,-0.073573231697083,0.006173533387482,-0.034480758011341,0.135206237435341,-0.089568421244621,0.116332754492760,-0.116006493568420,-0.003393167862669));
res += mul(Get(s0,0,0), float4x4(0.015093931928277,-0.086504220962524,-0.050974711775780,0.088775761425495,-0.052487622946501,0.232501864433289,0.088625892996788,-0.034510865807533,0.183229371905327,0.222038283944130,-0.077633373439312,0.012770037166774,0.056926794350147,0.075923167169094,0.038015510886908,0.053116675466299));
res += mul(Get(s0,0,dy), float4x4(0.035023067146540,0.102419055998325,-0.029005145654082,0.073806092143059,-0.002879043342546,0.054314009845257,-0.027288861572742,-0.029285909608006,-0.126153051853180,0.137982144951820,-0.076091594994068,-0.055909339338541,-0.028244458138943,-0.023026656359434,0.096848331391811,0.025082658976316));
res += mul(Get(s0,dx,-dy), float4x4(0.003976284991950,0.092938959598541,-0.001315015018918,-0.100449204444885,0.116143979132175,0.023233328014612,0.015915419906378,-0.046209860593081,0.006640897132456,-0.117331333458424,-0.003270894987509,-0.074432097375393,-0.085387684404850,-0.019258201122284,0.122049927711487,-0.078585550189018));
res += mul(Get(s0,dx,0), float4x4(0.064553722739220,-0.003079663263634,0.060778953135014,-0.093272797763348,-0.110384881496429,-0.174949422478676,-0.029698316007853,-0.022915013134480,-0.082565605640411,-0.122841767966747,-0.018474267795682,-0.084454551339149,0.168258309364319,0.021763347089291,0.043404679745436,-0.068166360259056));
res += mul(Get(s0,dx,dy), float4x4(-0.085570521652699,0.037727173417807,-0.023802703246474,-0.065654724836349,-0.016646729782224,-0.044668585062027,0.082898072898388,-0.090181812644005,0.026641793549061,0.042382355779409,0.038741935044527,-0.099505603313446,-0.029477199539542,0.040647223591805,-0.032792113721371,-0.067801192402840));
res += mul(Get(s1,-dx,-dy), float4x4(-0.012310123071074,-0.028333254158497,-0.065470546483994,0.025538215413690,0.002280954504386,0.024299396201968,0.081429131329060,-0.025652609765530,0.016468623653054,-0.059663377702236,0.008860119618475,0.038856770843267,-0.075491838157177,-0.013426960445940,-0.024219878017902,0.009287766180933));
res += mul(Get(s1,-dx,0), float4x4(0.070607818663120,-0.052200213074684,0.042832627892494,-0.014307196252048,0.025691205635667,0.020568653941154,0.101111136376858,-0.029534539207816,-0.017890157178044,0.005273686721921,0.084848433732986,0.029578555375338,0.097898192703724,-0.033525049686432,0.065357670187950,0.046407863497734));
res += mul(Get(s1,-dx,dy), float4x4(-0.031576927751303,0.011845158413053,0.017847245559096,-0.019739914685488,0.032638218253851,-0.114183381199837,-0.049249075353146,0.007877746596932,0.030314357951283,-0.045703455805779,-0.034250423312187,0.044458620250225,-0.140499278903008,0.061132501810789,-0.038587260991335,0.008284679614007));
res += mul(Get(s1,0,-dy), float4x4(-0.068337999284267,-0.122690625488758,0.006458295509219,0.059834446758032,-0.019381791353226,0.024971397593617,0.028043162077665,-0.006579091306776,0.086220785975456,-0.008286554366350,-0.050762552767992,-0.088374145328999,-0.061557088047266,0.006897687911987,0.039262216538191,0.098704077303410));
res += mul(Get(s1,0,0), float4x4(0.120734177529812,-0.097110278904438,0.047736387699842,0.023896366357803,-0.000455173751106,0.087510488927364,-0.054261494427919,-0.014917763881385,-0.135176956653595,-0.046004638075829,0.023771544918418,-0.049055926501751,0.238724604249001,0.014916638843715,0.028824105858803,0.024458574131131));
res += mul(Get(s1,0,dy), float4x4(-0.116347618401051,0.034242108464241,-0.007013648282737,-0.004440681077540,-0.049288965761662,0.040584634989500,-0.130271002650261,-0.024652224034071,0.075706087052822,0.077588930726051,-0.074083894491196,0.029297064989805,-0.077919088304043,0.042292736470699,-0.082775391638279,0.015285651199520));
res += mul(Get(s1,dx,-dy), float4x4(-0.044723100960255,0.007030597887933,-0.027717897668481,-0.077394396066666,-0.053108453750610,-0.000984222977422,-0.010133535601199,0.039629973471165,0.020989876240492,0.115987874567509,-0.099051073193550,-0.070030599832535,0.005650922656059,-0.004504442214966,-0.068488441407681,-0.052065476775169));
res += mul(Get(s1,dx,0), float4x4(0.053173702210188,-0.019267614930868,0.041677419096231,-0.079554975032806,0.038044702261686,0.111059471964836,0.033599145710468,0.034577753394842,0.010675089433789,0.076890572905540,0.005825015250593,-0.011368061415851,-0.103131219744682,-0.006119810044765,-0.086980998516083,-0.051869183778763));
res += mul(Get(s1,dx,dy), float4x4(-0.122140072286129,0.031563546508551,-0.016035923734307,-0.028041163459420,0.005430651828647,0.074930682778358,-0.042412731796503,0.022741110995412,-0.008556148037314,0.103789225220680,-0.018160860985518,-0.044569242745638,0.081718638539314,-0.063461542129517,-0.096048943698406,-0.031454298645258));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029748111963272,-0.102682106196880,-0.121521703898907,0.032809734344482,-0.002154204528779,0.096943423151970,0.145762905478477,0.070939332246780,-0.023835653439164,0.013337422162294,0.231690645217896,0.049877189099789,-0.025340765714645,0.061757888644934,0.079715259373188,0.033311616629362));
res += mul(Get(s2,-dx,0), float4x4(0.045531544834375,-0.010346935130656,-0.088037580251694,0.066837362945080,-0.032559424638748,0.119707532227039,-0.035343427211046,0.023200482130051,0.028328418731689,-0.005457610823214,0.185686677694321,0.026152597740293,0.014258857816458,-0.069219604134560,0.022504065185785,0.009611055254936));
res += mul(Get(s2,-dx,dy), float4x4(-0.034874219447374,0.009107005782425,-0.093648947775364,0.075628153979778,0.061391029506922,-0.004532766062766,-0.048152334988117,0.003518784651533,-0.028147954493761,-0.003266580635682,0.181820213794708,-0.005339114926755,-0.001491728005931,0.016246486455202,-0.063456296920776,-0.002399107208475));
res += mul(Get(s2,0,-dy), float4x4(-0.070589967072010,-0.024413339793682,0.036023035645485,0.014848540537059,-0.028277110308409,0.106856323778629,0.024044962599874,-0.033344011753798,0.051664486527443,0.009356776252389,0.042697664350271,0.005906117148697,0.058226495981216,0.005032678600401,0.134612947702408,0.003995903767645));
res += mul(Get(s2,0,0), float4x4(0.125279963016510,-0.033781472593546,0.054062072187662,0.059654790908098,0.042853306978941,-0.138814404606819,0.050527770072222,-0.009407396428287,-0.015970995649695,0.069294705986977,0.009284703060985,0.049259521067142,-0.052549857646227,0.055489968508482,0.110233634710312,-0.032809887081385));
res += mul(Get(s2,0,dy), float4x4(-0.040746312588453,0.014545980840921,0.019822480157018,0.064176425337791,0.041042871773243,-0.035045973956585,-0.003627646248788,-0.067115470767021,0.026899604126811,-0.002112555084750,0.049197956919670,0.066373638808727,0.051178555935621,0.062649473547935,0.045303434133530,-0.006680253893137));
res += mul(Get(s2,dx,-dy), float4x4(0.010826157405972,-0.068368978798389,-0.057933688163757,-0.078999631106853,-0.001006980077364,0.034795220941305,-0.090052120387554,-0.058963861316442,0.043624054640532,-0.050440441817045,0.114463664591312,-0.028186691924930,0.011486838571727,0.052218850702047,-0.065123341977596,-0.007934833876789));
res += mul(Get(s2,dx,0), float4x4(-0.020861282944679,-0.073295369744301,-0.039803232997656,-0.107032537460327,0.069839604198933,-0.020910877734423,-0.076360985636711,-0.059111878275871,0.053180284798145,-0.086592704057693,0.115597471594810,-0.067350678145885,-0.090898595750332,-0.051469594240189,0.049825597554445,0.005857430398464));
res += mul(Get(s2,dx,dy), float4x4(0.000132314264192,0.039787009358406,-0.029143188148737,-0.034393865615129,-0.067894741892815,0.008134109899402,0.021729029715061,-0.045559924095869,-0.015162655152380,0.039217565208673,0.038442570716143,-0.086856916546822,0.073715895414352,-0.030867328867316,-0.002095580101013,-0.007044114638120));
res += mul(Get(s3,-dx,-dy), float4x4(0.084412492811680,-0.028150899335742,0.054211117327213,-0.059632506221533,-0.088840074837208,0.015407069586217,-0.049045644700527,0.048707846552134,-0.231372609734535,0.025226067751646,-0.066202029585838,0.041341058909893,-0.016418710350990,0.067377895116806,-0.136787205934525,-0.059957232326269));
res += mul(Get(s3,-dx,0), float4x4(-0.024248000234365,0.051687248051167,-0.012859285809100,-0.040174782276154,-0.016342414543033,0.003926215227693,-0.070104271173477,-0.000364037608961,0.110432244837284,-0.009897422045469,-0.055722881108522,0.051304288208485,-0.025275109335780,-0.013910173438489,0.000074516690802,-0.018460210412741));
res += mul(Get(s3,-dx,dy), float4x4(0.040972609072924,-0.032517183572054,-0.028723256662488,0.033379197120667,0.004148178733885,-0.018898319453001,-0.083254031836987,-0.002371870214120,-0.086343653500080,-0.176497384905815,0.104531109333038,0.021960439160466,0.035616382956505,0.072338052093983,-0.016327681019902,-0.028710963204503));
res += mul(Get(s3,0,-dy), float4x4(0.049793932586908,0.080202482640743,-0.042623680084944,-0.067835249006748,0.085060797631741,-0.047742228955030,-0.128984943032265,0.077053569257259,-0.210961997509003,-0.043978471308947,-0.033030554652214,0.034733656793833,-0.013331659138203,0.020335165783763,-0.035290762782097,0.133120954036713));
res += mul(Get(s3,0,0), float4x4(-0.085572101175785,-0.130695372819901,-0.072095222771168,0.052576173096895,-0.082560554146767,-0.023327900096774,-0.083511441946030,0.091095514595509,0.154384791851044,0.122937701642513,0.063950531184673,0.079899437725544,0.192217841744423,0.013702210970223,0.027109671384096,0.044419765472412));
res += mul(Get(s3,0,dy), float4x4(0.073536403477192,0.052763599902391,-0.008896679617465,0.055734630674124,0.118353925645351,0.069733925163746,-0.056505482643843,0.049158774316311,0.001478307414800,0.166165292263031,0.030418468639255,-0.021506464108825,-0.095814839005470,0.101546190679073,-0.034080605953932,0.019985517486930));
res += mul(Get(s3,dx,-dy), float4x4(-0.043728895485401,0.018632203340530,0.158891588449478,-0.058359641581774,0.099039815366268,-0.020196169614792,0.024377459660172,-0.095850773155689,0.072311311960220,0.042044799774885,0.062027055770159,-0.103311479091644,0.080610796809196,-0.063441038131714,0.052819304168224,-0.148682504892349));
res += mul(Get(s3,dx,0), float4x4(0.094133056700230,0.024781927466393,0.003181496169418,0.000552944664378,-0.079177550971508,-0.080624096095562,0.037899285554886,-0.116008959710598,-0.012205989100039,0.003924477845430,-0.066973425447941,-0.134087830781937,-0.034400068223476,0.072098635137081,0.032040860503912,-0.133719205856323));
res += mul(Get(s3,dx,dy), float4x4(-0.016658399254084,0.054668620228767,-0.024772819131613,-0.017853084951639,0.002010930562392,0.020225849002600,-0.006402287166566,-0.139101296663284,-0.010466210544109,-0.066636912524700,-0.055665522813797,-0.080058805644512,-0.050064936280251,-0.053841833025217,0.068015463650227,-0.081107370555401));
return max(float4(0,0,0,0), res);
}
