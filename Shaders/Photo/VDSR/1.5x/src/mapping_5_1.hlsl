sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.100019715726376,-0.087451979517937,0.207170143723488,-0.053966522216797,0.036446474492550,-0.170526847243309,-0.096978679299355,-0.101077944040298,-0.040005367249250,-0.223752170801163,0.076112255454063,-0.103390872478485,0.206967428326607,-0.091065056622028,0.122383698821068,0.128304660320282));
res += mul(Get(s0,-dx,0), float4x4(0.000677555799484,-0.043813582509756,0.197753533720970,-0.079684682190418,0.063181996345520,-0.004866647999734,0.057683814316988,-0.110838733613491,0.117409363389015,-0.178473085165024,-0.000442743097665,-0.061266019940376,0.017018346115947,-0.048160947859287,-0.165810629725456,0.005339323543012));
res += mul(Get(s0,-dx,dy), float4x4(-0.088764853775501,0.058236740529537,0.147036269307137,-0.023776056244969,0.120321333408356,0.043427240103483,0.128444060683250,0.178721889853477,-0.016742624342442,-0.032049618661404,-0.056434813886881,-0.048173855990171,0.007418654393405,0.008746507577598,-0.017395742237568,0.124269597232342));
res += mul(Get(s0,0,-dy), float4x4(0.084469407796860,-0.142957016825676,-0.061823971569538,-0.157655194401741,-0.065508775413036,0.110441036522388,0.000882524414919,-0.075511932373047,-0.054366931319237,-0.088831245899200,0.169509917497635,0.196897968649864,0.051275942474604,0.119618497788906,0.058238331228495,-0.055190630257130));
res += mul(Get(s0,0,0), float4x4(0.022337310016155,-0.062359806150198,0.019172878935933,-0.094934321939945,0.085242271423340,0.228373959660530,0.040265891700983,0.115094497799873,0.020998340100050,0.051618471741676,0.081770606338978,-0.034939818084240,0.052685853093863,0.199320405721664,-0.008771297521889,0.074188284575939));
res += mul(Get(s0,0,dy), float4x4(0.161340609192848,0.041176542639732,-0.050648741424084,-0.092996418476105,-0.193751603364944,-0.098047025501728,-0.266561299562454,0.004358225036412,-0.142005696892738,0.111375793814659,0.059264857321978,-0.049493011087179,0.091404303908348,-0.096423976123333,0.159030064940453,0.102491706609726));
res += mul(Get(s0,dx,-dy), float4x4(0.088044427335262,-0.059956587851048,-0.050035830587149,0.039979971945286,0.055937707424164,0.072953194379807,-0.130840852856636,-0.017199713736773,0.155857101082802,0.179179593920708,0.159856036305428,-0.031568437814713,0.047761611640453,-0.030915237963200,-0.047507379204035,-0.082616582512856));
res += mul(Get(s0,dx,0), float4x4(0.044618595391512,-0.234086290001869,-0.120825707912445,0.124742552638054,0.095985323190689,0.021355094388127,0.035338617861271,-0.010419246740639,-0.019067460671067,0.132074803113937,-0.100141018629074,-0.195221588015556,0.004049324430525,-0.010664753615856,-0.165652647614479,-0.010808529332280));
res += mul(Get(s0,dx,dy), float4x4(-0.230694711208344,0.015519049949944,-0.090998947620392,0.137605443596840,0.070302180945873,-0.122166045010090,-0.133582994341850,0.082879103720188,-0.116317503154278,0.031843900680542,0.011998072266579,0.021410515531898,0.096214897930622,0.190099254250526,0.146878048777580,0.020794944837689));
res += mul(Get(s1,-dx,-dy), float4x4(0.021699359640479,0.099985733628273,0.085319995880127,-0.029959956184030,0.135673105716705,0.058377586305141,-0.005175043363124,-0.006282168906182,-0.032282829284668,0.072552844882011,-0.102128989994526,0.071579866111279,-0.025103250518441,-0.110928535461426,0.070035010576248,-0.083238251507282));
res += mul(Get(s1,-dx,0), float4x4(-0.026826301589608,-0.047507915645838,-0.106946133077145,0.027460239827633,0.070594646036625,-0.115580849349499,0.059387549757957,-0.029767520725727,-0.063051640987396,0.001678924309090,-0.068788819015026,-0.059895377606153,0.035728108137846,0.065379828214645,-0.154534459114075,0.055710572749376));
res += mul(Get(s1,-dx,dy), float4x4(-0.145303741097450,-0.118019610643387,0.111998580396175,0.181123435497284,-0.039931017905474,-0.064105823636055,-0.034819506108761,-0.125622391700745,0.111346535384655,0.085026986896992,-0.139066502451897,-0.021196875721216,0.000243459304329,-0.023849025368690,0.126878947019577,-0.040213499218225));
res += mul(Get(s1,0,-dy), float4x4(0.076350346207619,-0.011571099050343,0.003387164324522,0.096475042402744,-0.125200226902962,0.083202913403511,-0.137342438101768,0.037516944110394,-0.024999009445310,-0.035056423395872,0.147907748818398,-0.102988980710506,0.189557760953903,0.009672045707703,-0.089393228292465,-0.015501445159316));
res += mul(Get(s1,0,0), float4x4(-0.044631026685238,-0.034792430698872,-0.076576814055443,-0.052042722702026,0.170118868350983,0.209015488624573,-0.037352632731199,0.006496391724795,0.017854761332273,0.079390406608582,-0.054909836500883,-0.149821236729622,-0.153915584087372,-0.103232979774475,-0.150035560131073,0.007832103408873));
res += mul(Get(s1,0,dy), float4x4(0.113891810178757,0.030704634264112,-0.007923734374344,0.080637983977795,0.001496877404861,0.055008407682180,0.134757742285728,0.002553003840148,0.062368370592594,-0.178714692592621,-0.098246231675148,-0.018977124243975,0.138212144374847,-0.083598226308823,-0.002149734646082,0.047043532133102));
res += mul(Get(s1,dx,-dy), float4x4(-0.032360333949327,0.029935553669930,0.108371287584305,0.101843528449535,0.231287300586700,0.090553157031536,0.022820936515927,-0.095068864524364,-0.170849621295929,-0.079945832490921,0.039220154285431,0.040451481938362,0.035039901733398,0.015224000439048,-0.059691958129406,-0.155208826065063));
res += mul(Get(s1,dx,0), float4x4(-0.006025928072631,-0.048139404505491,-0.074837483465672,0.077005431056023,-0.021939080208540,0.117080770432949,0.013997490517795,-0.018665952607989,0.008058244362473,-0.129110023379326,0.110575057566166,-0.107041835784912,-0.152261048555374,-0.147202149033546,0.095465548336506,0.009421246126294));
res += mul(Get(s1,dx,dy), float4x4(-0.009103155694902,0.100278168916702,-0.117755539715290,-0.022260975092649,0.029914526268840,-0.031752850860357,-0.076751887798309,-0.065488018095493,-0.023206735029817,0.054557416588068,0.047832790762186,-0.019990678876638,0.062149617820978,0.016259158030152,-0.055329017341137,-0.050534274429083));
res += mul(Get(s2,-dx,-dy), float4x4(-0.150989770889282,0.071300826966763,0.186793878674507,0.044246569275856,-0.023368556052446,-0.198733955621719,-0.038675297051668,0.190285056829453,0.030322350561619,-0.098698481917381,-0.000178039568709,-0.055025137960911,-0.012824271805584,-0.078321523964405,-0.026242833584547,-0.183059215545654));
res += mul(Get(s2,-dx,0), float4x4(-0.121644005179405,-0.049477893859148,0.028842302039266,0.067798241972923,-0.152501702308655,0.014327590353787,0.145105719566345,0.146161139011383,-0.001257149851881,0.138107940554619,-0.078797616064548,-0.129014179110527,0.074778772890568,-0.193844333291054,0.055722821503878,0.087717525660992));
res += mul(Get(s2,-dx,dy), float4x4(0.106735341250896,0.029380694031715,-0.035508781671524,0.027997504919767,-0.100925050675869,0.151569589972496,-0.099949479103088,-0.084317766129971,-0.103942036628723,-0.057714171707630,0.122768782079220,0.207896590232849,-0.105793565511703,0.007740826811641,-0.098443567752838,0.005896661430597));
res += mul(Get(s2,0,-dy), float4x4(-0.112811729311943,-0.047571562230587,0.151535272598267,-0.046032536774874,0.027434010058641,-0.138746365904808,0.089675702154636,0.023264167830348,0.028458144515753,-0.201361298561096,-0.183751180768013,0.232937738299370,-0.014349044300616,-0.071937173604965,0.006490413099527,-0.238332539796829));
res += mul(Get(s2,0,0), float4x4(-0.113508187234402,-0.003319873008877,0.086805090308189,-0.008286851458251,-0.043247293680906,0.174542531371117,0.112038113176823,-0.052642781287432,0.005409619305283,-0.086183361709118,0.006264475639910,0.058434855192900,-0.014289875514805,0.223325297236443,0.145871400833130,0.114263802766800));
res += mul(Get(s2,0,dy), float4x4(0.053966838866472,-0.061212927103043,0.124169185757637,0.066253565251827,-0.091250322759151,0.043806824833155,0.145115792751312,-0.087333276867867,0.081845074892044,0.268919914960861,-0.082392200827599,-0.158775761723518,-0.036739159375429,-0.159680202603340,-0.100229315459728,-0.047866739332676));
res += mul(Get(s2,dx,-dy), float4x4(-0.047866962850094,-0.086487777531147,0.077958218753338,0.045248787850142,-0.070077210664749,-0.061532147228718,-0.063535347580910,-0.048363961279392,-0.094720631837845,-0.018983354791999,-0.022020639851689,-0.096158757805824,-0.081506356596947,-0.028546405956149,0.024650081992149,-0.010211065411568));
res += mul(Get(s2,dx,0), float4x4(0.061487078666687,-0.124533414840698,0.101014450192451,-0.027052620425820,-0.042762078344822,0.035049866884947,0.118467144668102,0.014726687222719,0.030191306024790,0.106596909463406,-0.082497991621494,0.063598498702049,0.000871086376719,0.110602706670761,-0.052443094551563,-0.010479193180799));
res += mul(Get(s2,dx,dy), float4x4(0.057051524519920,-0.171670719981194,-0.097844719886780,0.083022892475128,-0.095210000872612,-0.155052289366722,-0.167350426316261,-0.026217693462968,-0.126875355839729,-0.126364186406136,0.080071240663528,0.075484819710255,-0.129994049668312,0.004512629006058,-0.029894480481744,0.107198171317577));
res += mul(Get(s3,-dx,-dy), float4x4(0.141307950019836,-0.108399800956249,-0.015293608419597,-0.021325005218387,-0.102496765553951,-0.066431947052479,0.062497541308403,-0.073336482048035,-0.051984529942274,-0.044268991798162,0.088553652167320,-0.100657068192959,-0.110689111053944,0.129542917013168,-0.008994206786156,-0.031134786084294));
res += mul(Get(s3,-dx,0), float4x4(-0.161886751651764,-0.012485705316067,0.064652815461159,0.061173513531685,0.091316990554333,0.019490038976073,0.095917180180550,0.229413121938705,0.179991096258163,-0.113058298826218,0.005911078769714,0.042845934629440,0.067979589104652,-0.083003014326096,0.154358118772507,0.069415107369423));
res += mul(Get(s3,-dx,dy), float4x4(0.005109511315823,-0.099308833479881,0.047115355730057,0.037726826965809,-0.020030582323670,0.027365883812308,-0.005623444449157,-0.023921748623252,-0.065550789237022,-0.037805493921041,-0.133766457438469,0.001474717166275,-0.057336423546076,-0.045258849859238,0.031597360968590,-0.050544615834951));
res += mul(Get(s3,0,-dy), float4x4(0.075408928096294,-0.058002315461636,-0.030823729932308,-0.022421346977353,-0.005679018329829,-0.197619736194611,0.124517381191254,-0.094556733965874,-0.027708929032087,-0.056691750884056,0.113334514200687,-0.147175088524818,-0.223173618316650,-0.044818177819252,0.134039759635925,0.101996272802353));
res += mul(Get(s3,0,0), float4x4(0.019529335200787,0.028133571147919,0.075847625732422,0.064832173287868,0.012088152579963,0.097084425389767,0.072479315102100,0.047516107559204,0.142794117331505,-0.114306055009365,0.010784087702632,-0.067133247852325,-0.012043192982674,0.058016125112772,0.113414138555527,0.126764431595802));
res += mul(Get(s3,0,dy), float4x4(0.104382336139679,-0.019925240427256,0.024278126657009,0.026549708098173,0.319625467061996,0.136736929416656,0.030858615413308,-0.120518527925014,-0.064999155700207,-0.034963879734278,-0.014724902808666,-0.167319625616074,0.113097019493580,-0.072149351239204,0.099637828767300,-0.173027530312538));
res += mul(Get(s3,dx,-dy), float4x4(0.070655360817909,0.078153900802135,0.236389577388763,-0.006068604066968,0.042532883584499,-0.050076790153980,-0.069599531590939,-0.124620281159878,0.087654300034046,0.072637028992176,-0.045651927590370,0.042096626013517,0.006938132923096,-0.045577075332403,0.100708380341530,-0.165419831871986));
res += mul(Get(s3,dx,0), float4x4(-0.093391641974449,0.060926396399736,0.022806473076344,-0.030987786129117,0.208486467599869,0.119084559381008,-0.115890495479107,-0.032946359366179,-0.025212332606316,0.070921607315540,-0.150403007864952,-0.089920610189438,-0.102916643023491,-0.129705026745796,0.042322739958763,-0.015518263913691));
res += mul(Get(s3,dx,dy), float4x4(-0.029352817684412,-0.186744436621666,-0.129942983388901,0.113185793161392,-0.048831872642040,-0.104614280164242,-0.120439022779465,-0.240350604057312,-0.138586685061455,-0.133565351366997,0.009650409221649,0.020312895998359,0.065779983997345,-0.111361846327782,0.072419390082359,0.204093545675278));
return max(float4(0,0,0,0), res);
}
