sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.067699603736401,-0.139808550477028,-0.132120549678802,0.058284536004066,0.044680755585432,0.085844442248344,0.067068755626678,-0.017023777589202,0.131535321474075,-0.019943118095398,-0.001145959948190,-0.050726585090160,0.014356704428792,-0.052910808473825,-0.040419571101665,0.043058130890131));
res += mul(Get(s0,-dx,0), float4x4(-0.038840338587761,-0.036404792219400,-0.012127485126257,0.101953580975533,-0.008797649294138,0.036427978426218,0.019723711535335,-0.205996677279472,-0.015000663697720,-0.137030318379402,-0.053774695843458,0.037009190768003,0.017762783914804,-0.094607107341290,-0.071122080087662,-0.128074735403061));
res += mul(Get(s0,-dx,dy), float4x4(-0.081173561513424,-0.109428748488426,-0.048388831317425,0.005392236169428,-0.009510191157460,-0.048678714782000,-0.017893161624670,0.028512693941593,0.062491208314896,-0.090379759669304,-0.097809299826622,0.048193391412497,0.037458792328835,-0.031221585348248,-0.019521031528711,-0.104351416230202));
res += mul(Get(s0,0,-dy), float4x4(-0.107670225203037,-0.028508841991425,-0.031928908079863,-0.038154590874910,0.120581150054932,0.085838548839092,-0.126790434122086,-0.046097092330456,0.030180810019374,0.118299573659897,-0.012395583093166,0.159156814217567,0.009629654698074,0.188922584056854,0.108289256691933,0.089043870568275));
res += mul(Get(s0,0,0), float4x4(-0.187190830707550,-0.030176650732756,0.027548011392355,-0.143296197056770,-0.149155125021935,0.167387917637825,-0.067469067871571,-0.027493705973029,-0.011915655806661,0.088837131857872,-0.050579037517309,-0.048135966062546,-0.084353581070900,0.163378834724426,-0.146187916398048,-0.105109654366970));
res += mul(Get(s0,0,dy), float4x4(-0.045080795884132,0.084576480090618,-0.100749291479588,0.061489559710026,0.143299430608749,-0.066309675574303,0.029183702543378,-0.108834125101566,0.282608598470688,0.132622063159943,-0.026632500812411,-0.065050050616264,-0.109022691845894,0.179932132363319,-0.088050760328770,0.051303155720234));
res += mul(Get(s0,dx,-dy), float4x4(-0.143678203225136,-0.018614763393998,-0.086749874055386,-0.000653133844025,0.105202995240688,0.051311567425728,0.011290718801320,0.105857841670513,0.040036104619503,-0.121823698282242,-0.055189590901136,-0.028040498495102,0.051028631627560,-0.117949582636356,-0.037684191018343,-0.056952890008688));
res += mul(Get(s0,dx,0), float4x4(0.191258028149605,-0.046372342854738,0.049928344786167,0.073562309145927,0.191748350858688,0.365618228912354,0.017916794866323,0.110893689095974,-0.089266262948513,0.039567936211824,-0.120552323758602,-0.096609972417355,-0.233137995004654,0.073633104562759,0.090716555714607,0.067057624459267));
res += mul(Get(s0,dx,dy), float4x4(0.022344978526235,-0.021338433027267,0.022396236658096,-0.001390915364027,0.016407011076808,-0.169333904981613,-0.245980083942413,-0.122157335281372,-0.055165231227875,-0.028451833873987,0.045871797949076,0.169907063245773,0.123347088694572,0.128815218806267,-0.080465488135815,0.074800863862038));
res += mul(Get(s1,-dx,-dy), float4x4(-0.039981011301279,0.037235163152218,-0.050116136670113,-0.064230464398861,0.125475704669952,0.101243801414967,0.071551345288754,-0.035288739949465,0.024282025173306,-0.174867540597916,0.040625423192978,-0.085334390401840,0.009508052840829,-0.042032532393932,-0.043100349605083,0.101986750960350));
res += mul(Get(s1,-dx,0), float4x4(0.144304215908051,-0.068295001983643,-0.026718031615019,-0.073766067624092,-0.091830641031265,0.039751358330250,-0.081761434674263,0.043610509485006,0.113859519362450,0.047364927828312,-0.037630680948496,0.014211176894605,-0.001925816992298,0.109264671802521,0.151037827134132,0.134081259369850));
res += mul(Get(s1,-dx,dy), float4x4(-0.009707454591990,0.055470496416092,-0.070660822093487,-0.104131065309048,0.100410528481007,0.046526029706001,-0.007010846398771,0.040677074342966,0.030610481277108,-0.041737090796232,-0.130160793662071,0.076365664601326,-0.013628328219056,0.107095450162888,-0.046413779258728,-0.016154818236828));
res += mul(Get(s1,0,-dy), float4x4(0.130989983677864,0.079221755266190,0.044637423008680,0.120631545782089,-0.014144574292004,-0.085770294070244,-0.037493005394936,0.002391189336777,-0.081515572965145,-0.035232067108154,0.232892915606499,-0.158499479293823,0.008491878397763,-0.039470139890909,-0.097211614251137,-0.011560639366508));
res += mul(Get(s1,0,0), float4x4(0.078300274908543,-0.020820159465075,0.006906665395945,0.160618945956230,-0.073333472013474,0.153720960021019,-0.054855875670910,0.055340979248285,-0.092179037630558,0.122201636433601,0.099328376352787,0.011477154679596,-0.056160632520914,0.003037553513423,-0.027623223140836,-0.039578318595886));
res += mul(Get(s1,0,dy), float4x4(0.047363422811031,0.191755294799805,-0.025852398946881,0.177658110857010,-0.027182141318917,0.019964199513197,-0.201076343655586,-0.026748245581985,-0.080031946301460,0.101294465363026,0.005821562837809,0.004582457244396,0.097542099654675,0.032811034470797,-0.033922173082829,-0.138749539852142));
res += mul(Get(s1,dx,-dy), float4x4(-0.061516933143139,0.149542436003685,0.125466510653496,0.131224572658539,-0.146615698933601,0.020623289048672,-0.021587027236819,-0.063899606466293,-0.031901188194752,0.108556054532528,0.011949368752539,0.161997705698013,-0.078803189098835,0.033098362386227,0.025670589879155,0.011397296562791));
res += mul(Get(s1,dx,0), float4x4(-0.027594147250056,-0.088074974715710,-0.048165056854486,-0.019791586324573,0.212188169360161,-0.006297970656306,0.018199047073722,-0.070349797606468,-0.062273226678371,0.135541245341301,0.003831146983430,0.049473553895950,0.151112124323845,0.193960413336754,0.032503046095371,0.093977093696594));
res += mul(Get(s1,dx,dy), float4x4(0.020479908213019,0.097546793520451,0.010946834459901,0.056056488305330,0.009347392246127,-0.038409881293774,-0.015787057578564,0.042585603892803,-0.050679761916399,0.081079691648483,-0.007433622144163,0.021637024357915,0.041485231369734,0.070797987282276,-0.070982545614243,-0.090594314038754));
res += mul(Get(s2,-dx,-dy), float4x4(0.047457020729780,-0.055182941257954,0.061888620257378,0.058342333883047,0.068177238106728,-0.080431625247002,0.067112222313881,-0.025762435048819,-0.088534101843834,0.043516237288713,0.184754908084869,-0.096908628940582,-0.029372528195381,-0.025487387552857,-0.058034140616655,0.041732858866453));
res += mul(Get(s2,-dx,0), float4x4(-0.028891734778881,-0.059572715312243,-0.040740303695202,0.199459403753281,0.116216748952866,0.007417969405651,0.019849758595228,-0.091062307357788,0.065028123557568,-0.042447526007891,0.030678713694215,-0.103828988969326,0.023357199504972,0.071765385568142,0.031591307371855,-0.099852979183197));
res += mul(Get(s2,-dx,dy), float4x4(0.106410726904869,-0.011668819002807,0.021718818694353,-0.169362038373947,-0.041515100747347,0.081352487206459,0.067774780094624,0.062059942632914,-0.106057867407799,0.020604927092791,-0.091889165341854,-0.064895831048489,0.032937411218882,0.123082987964153,-0.145732104778290,-0.052719719707966));
res += mul(Get(s2,0,-dy), float4x4(0.030090777203441,-0.119031712412834,0.061468701809645,0.017154132947326,-0.051250949501991,0.061116777360439,-0.001773986266926,0.061423793435097,0.045577518641949,0.054720584303141,-0.051145091652870,-0.098504282534122,-0.066741861402988,-0.024919373914599,0.213530689477921,-0.002350030699745));
res += mul(Get(s2,0,0), float4x4(0.031130168586969,-0.148420944809914,-0.047151386737823,0.086834870278835,-0.025227854028344,-0.023710897192359,0.112599186599255,-0.083251059055328,-0.016984168440104,0.053489286452532,0.086694806814194,-0.087149523198605,0.030395800247788,0.253899663686752,0.143550619482994,-0.043695919215679));
res += mul(Get(s2,0,dy), float4x4(-0.026281569153070,-0.075668208301067,-0.102181822061539,-0.053300380706787,-0.130997106432915,-0.044333964586258,-0.020991882309318,0.083393588662148,-0.257634490728378,-0.177307665348053,0.009330520406365,-0.084055818617344,0.076312705874443,-0.070240601897240,0.143210157752037,-0.102352268993855));
res += mul(Get(s2,dx,-dy), float4x4(0.044130850583315,0.074163243174553,0.084664314985275,-0.090585529804230,0.000706626451574,-0.028588421642780,-0.026926893740892,0.079621128737926,0.023386579006910,0.030978521332145,-0.071462430059910,0.034658960998058,-0.074218228459358,-0.141085356473923,-0.149938747286797,-0.073857851326466));
res += mul(Get(s2,dx,0), float4x4(0.123536191880703,0.206920564174652,-0.065186806023121,0.089073084294796,-0.063889324665070,-0.051154658198357,0.214494347572327,-0.087818413972855,-0.090888664126396,0.034814618527889,0.196395441889763,0.075157396495342,-0.077938571572304,-0.183380812406540,-0.062595665454865,0.021639637649059));
res += mul(Get(s2,dx,dy), float4x4(0.182227909564972,0.125371232628822,0.007610124070197,-0.033477604389191,-0.045337013900280,-0.032110732048750,-0.114708177745342,-0.131375923752785,-0.111287340521812,-0.026791665703058,0.005147134885192,0.070922851562500,-0.009283356368542,-0.007262923754752,0.142635971307755,-0.001473814132623));
res += mul(Get(s3,-dx,-dy), float4x4(-0.054877322167158,-0.045098423957825,-0.021858299151063,0.005912514403462,-0.011724370531738,0.009051754139364,0.091042406857014,-0.037635378539562,0.054662711918354,-0.040112402290106,0.033477164804935,0.009401181712747,0.018568839877844,-0.055669073015451,-0.099814511835575,-0.024954622611403));
res += mul(Get(s3,-dx,0), float4x4(-0.107428416609764,-0.044337142258883,0.009277193807065,0.075078204274178,-0.000189801372471,0.065634064376354,0.003627466037869,0.116611383855343,0.080656327307224,0.060179043561220,0.007604849059135,-0.049066185951233,0.095925495028496,0.071441471576691,-0.015729086473584,0.018761090934277));
res += mul(Get(s3,-dx,dy), float4x4(-0.008267631754279,-0.035119354724884,-0.042506173253059,0.001431847456843,0.065816923975945,-0.081894315779209,0.061466615647078,-0.031977195292711,-0.000970873457845,-0.131022840738297,0.125062197446823,-0.078972436487675,0.131364226341248,0.177207991480827,0.006837180349976,-0.051053870469332));
res += mul(Get(s3,0,-dy), float4x4(0.079853884875774,0.147287964820862,0.098584033548832,-0.031823068857193,-0.019900098443031,-0.086116835474968,-0.003632849082351,0.043484237045050,-0.035940147936344,-0.103081807494164,0.054078754037619,-0.106335394084454,-0.027795553207397,0.018202751874924,-0.071913518011570,-0.051136620342731));
res += mul(Get(s3,0,0), float4x4(-0.033495385199785,-0.040624339133501,-0.012294593267143,0.033622324466705,-0.009269394911826,0.069481849670410,0.131445229053497,-0.134040847420692,-0.085635907948017,0.022111715748906,-0.026553163304925,0.082856580615044,-0.061829388141632,-0.079176448285580,0.072116240859032,-0.032089911401272));
res += mul(Get(s3,0,dy), float4x4(-0.153402552008629,0.035921812057495,0.147634416818619,-0.046981688588858,-0.016301752999425,-0.046951919794083,0.036963995546103,0.011213460005820,0.087814316153526,0.003372756531462,0.033064171671867,0.135362863540649,-0.020955093204975,-0.068684116005898,-0.069925308227539,0.009056487120688));
res += mul(Get(s3,dx,-dy), float4x4(-0.135215267539024,0.024562682956457,0.029128272086382,0.053073450922966,-0.121266715228558,-0.107410907745361,0.008991100825369,-0.148533672094345,0.074195519089699,-0.106871530413628,-0.099741667509079,-0.143091410398483,-0.049585498869419,0.037214864045382,0.099763147532940,-0.035551823675632));
res += mul(Get(s3,dx,0), float4x4(0.119810335338116,0.040175814181566,0.050697043538094,0.056381843984127,-0.119982898235321,0.070518441498280,0.073615774512291,-0.103267326951027,-0.034867431968451,0.020893910899758,-0.263506203889847,-0.024144219234586,-0.066900260746479,-0.021971898153424,0.003959149122238,-0.008244333788753));
res += mul(Get(s3,dx,dy), float4x4(0.033710021525621,0.017614409327507,-0.085522167384624,-0.103669829666615,0.104890652000904,0.107716597616673,0.052383832633495,0.092503666877747,-0.023684531450272,-0.071794331073761,0.004085166845471,-0.162788569927216,0.097892180085182,-0.005975404754281,0.050476107746363,0.019060786813498));
return max(float4(0,0,0,0), res);
}
