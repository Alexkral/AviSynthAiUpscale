sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006133409217000,-0.047714240849018,-0.015905812382698,0.151609867811203,0.055149871855974,-0.037186264991760,0.051726352423429,-0.001018549781293,0.033158238977194,-0.008815243840218,0.047114085406065,0.084086023271084,-0.002795360982418,-0.003122145542875,0.047695577144623,-0.011949853040278));
res += mul(Get(s0,-dx,0), float4x4(0.000417638395447,0.111312448978424,0.025030883029103,-0.023773685097694,-0.130804300308228,-0.053753197193146,0.080296665430069,-0.056757882237434,-0.036395847797394,-0.129884600639343,0.115588240325451,0.030585778877139,-0.033095192164183,-0.006465410813689,0.021791128441691,0.002346871420741));
res += mul(Get(s0,-dx,dy), float4x4(0.048006571829319,0.010757612064481,0.013062851503491,0.006209526676685,-0.083568602800369,-0.061583545058966,0.058643218129873,-0.014845569618046,-0.014157287776470,-0.102985069155693,-0.028879331424832,0.007081921678036,0.002143289893866,-0.026362936943769,0.014032422564924,-0.003647311357781));
res += mul(Get(s0,0,-dy), float4x4(0.077858716249466,-0.007657961919904,-0.029319068416953,0.082530602812767,0.118743903934956,0.046663794666529,0.007538258098066,0.014685872942209,0.031611923128366,-0.001005939906463,0.031127141788602,0.020510962232947,0.018895758315921,0.071441158652306,-0.046957984566689,0.030285244807601));
res += mul(Get(s0,0,0), float4x4(0.074036478996277,0.099571041762829,-0.052979204803705,0.043977566063404,-0.031355995684862,-0.185771197080612,0.183247461915016,-0.044016622006893,-0.079260416328907,-0.001102923415601,-0.124001860618591,0.013098577037454,0.059439133852720,0.020354026928544,-0.090417020022869,0.047241751104593));
res += mul(Get(s0,0,dy), float4x4(0.023852478712797,-0.017314119264483,-0.054547030478716,0.021751228719950,0.099361568689346,0.029937652871013,0.017019933089614,-0.114601068198681,-0.014075651764870,-0.045641057193279,-0.198209777474403,0.081270702183247,0.045864231884480,-0.002493274630979,-0.137314438819885,0.042612310498953));
res += mul(Get(s0,dx,-dy), float4x4(-0.008295332081616,0.029458953067660,-0.016580345109105,0.020510042086244,0.070485696196556,-0.021552959457040,-0.107868351042271,0.016708567738533,0.039784260094166,-0.029760409146547,-0.028744360432029,-0.033390831202269,0.004877884406596,0.051932688802481,-0.070940345525742,0.012910013087094));
res += mul(Get(s0,dx,0), float4x4(-0.012182326056063,0.072257399559021,0.015420797280967,0.062113162130117,-0.051780235022306,-0.005715887993574,-0.051514320075512,-0.019221782684326,-0.023673940449953,0.008171958848834,-0.077642977237701,0.018828608095646,0.030870441347361,-0.003684738650918,0.023886684328318,0.048057481646538));
res += mul(Get(s0,dx,dy), float4x4(0.112564601004124,0.098687604069710,-0.053295142948627,-0.003940020687878,0.101945690810680,-0.012132527306676,-0.045803196728230,0.061575099825859,-0.024788757786155,-0.110076755285263,0.001594071974978,0.042426835745573,0.015415976755321,-0.044447194784880,0.091353163123131,0.033190760761499));
res += mul(Get(s1,-dx,-dy), float4x4(0.019870940595865,-0.073268555104733,-0.091610610485077,0.107730396091938,0.004236763808876,-0.076179876923561,-0.049466349184513,-0.022541409358382,0.030512718483806,0.090777657926083,0.001678870990872,-0.012818128801882,0.027281181886792,-0.062438692897558,-0.035447221249342,-0.102370642125607));
res += mul(Get(s1,-dx,0), float4x4(0.021022431552410,-0.050376038998365,0.029770115390420,0.021441834047437,0.037943404167891,0.035095904022455,0.150239557027817,-0.051613975316286,0.141180291771889,0.075107224285603,-0.012683830223978,-0.034756075590849,0.035241678357124,-0.027294537052512,0.198051109910011,-0.033345904201269));
res += mul(Get(s1,-dx,dy), float4x4(-0.030623972415924,0.054822884500027,0.074747622013092,-0.052721839398146,-0.006236779503524,0.067342802882195,0.043780799955130,-0.032193668186665,-0.045092169195414,0.007191236596555,-0.027781831100583,0.027686754241586,-0.054538626223803,0.004776102490723,-0.069540642201900,-0.082838498055935));
res += mul(Get(s1,0,-dy), float4x4(0.076816052198410,-0.029512759298086,0.050714988261461,0.085592463612556,0.067629091441631,-0.026978274807334,0.022839251905680,0.052703309804201,0.037498079240322,0.072120584547520,-0.019033618271351,0.098813757300377,-0.039195019751787,-0.088583201169968,0.089337117969990,0.007842191495001));
res += mul(Get(s1,0,0), float4x4(0.083088785409927,-0.033214364200830,-0.047711346298456,0.042676370590925,0.025241836905479,-0.001391311292537,0.139949411153793,-0.058988951146603,0.117980077862740,-0.000431271502748,0.058895863592625,0.158037602901459,0.029618198052049,-0.008670714683831,-0.013738051988184,-0.067853786051273));
res += mul(Get(s1,0,dy), float4x4(0.020004287362099,-0.099026240408421,-0.085314802825451,-0.018907139077783,0.016884149983525,0.022960675880313,0.089481651782990,-0.070716179907322,0.035638187080622,-0.001442404580303,-0.006834848783910,0.031179668381810,-0.078177697956562,-0.038257941603661,0.046335484832525,-0.127809852361679));
res += mul(Get(s1,dx,-dy), float4x4(-0.094152562320232,-0.012738497927785,-0.083328530192375,0.012819005176425,0.016102174296975,-0.001312500331551,-0.013035524636507,-0.005136140156537,0.063104987144470,0.054536946117878,0.029886463657022,-0.027153639122844,0.005596845876426,-0.031308174133301,-0.034338727593422,0.041072383522987));
res += mul(Get(s1,dx,0), float4x4(0.051843173801899,0.054364532232285,0.027521448209882,0.035718169063330,-0.001591338077560,0.058360129594803,0.080331094563007,-0.058336816728115,0.107103623449802,0.159250572323799,-0.020514141768217,-0.012449528090656,0.025687195360661,0.065533354878426,0.049712557345629,-0.069980621337891));
res += mul(Get(s1,dx,dy), float4x4(-0.115707397460938,0.111271582543850,-0.075756728649139,-0.031906735152006,-0.010141039267182,0.054962962865829,0.047004137188196,-0.016261521726847,0.052549839019775,0.074488900601864,-0.066341727972031,0.008060552179813,0.022806452587247,-0.022112844511867,0.086555533111095,-0.078628577291965));
res += mul(Get(s2,-dx,-dy), float4x4(-0.031309951096773,0.009681902825832,0.029328782111406,-0.027217414230108,-0.104138955473900,-0.085206352174282,0.115070149302483,0.026240438222885,0.012468683533370,-0.021172478795052,0.006411936134100,0.012743702158332,-0.023211443796754,0.032098870724440,0.054400868713856,-0.014437990263104));
res += mul(Get(s2,-dx,0), float4x4(0.017600744962692,-0.106539420783520,0.082549527287483,-0.069217920303345,0.043599463999271,-0.198541194200516,0.090367764234543,0.165566802024841,-0.079436905682087,0.022986005991697,-0.039368946105242,0.038536258041859,0.032302085310221,-0.037602931261063,-0.014322699047625,0.091178417205811));
res += mul(Get(s2,-dx,dy), float4x4(0.072337731719017,-0.085019148886204,-0.010900605469942,-0.084768325090408,0.021471662446856,-0.203210040926933,0.020228628069162,-0.196531236171722,-0.059019107371569,-0.043956764042377,0.003342948853970,-0.061044808477163,-0.045997072011232,-0.046829897910357,0.064609721302986,0.031704388558865));
res += mul(Get(s2,0,-dy), float4x4(-0.045900288969278,-0.069839797914028,0.038060482591391,0.003243969520554,-0.038009528070688,-0.130681276321411,-0.038781106472015,0.166420549154282,0.088095903396606,-0.053027089685202,-0.120972737669945,-0.093471787869930,-0.065327182412148,0.003303413745016,-0.021682098507881,-0.037248466163874));
res += mul(Get(s2,0,0), float4x4(0.053352434188128,-0.300826013088226,-0.200275108218193,0.041305247694254,0.046706330031157,0.058799847960472,-0.067322574555874,0.028946643695235,-0.008895874954760,0.020143397152424,0.115369401872158,0.053127583116293,-0.056730236858130,0.103513151407242,-0.055707130581141,0.057655863463879));
res += mul(Get(s2,0,dy), float4x4(-0.072939716279507,-0.106453873217106,-0.043449286371469,-0.101273290812969,-0.005322375334799,0.015698947012424,0.018005339428782,-0.222639828920364,-0.051821433007717,0.131115108728409,-0.135010823607445,-0.074095398187637,-0.155743598937988,0.020139923319221,0.018331585451961,-0.029252720996737));
res += mul(Get(s2,dx,-dy), float4x4(0.070116586983204,-0.034207992255688,-0.012916038744152,0.081807374954224,0.038391660898924,-0.020865805447102,-0.093420937657356,0.121096931397915,0.013357004150748,0.108540542423725,-0.009737716987729,-0.049070499837399,0.008513292297721,0.079328909516335,0.029234806075692,0.046197772026062));
res += mul(Get(s2,dx,0), float4x4(0.056367121636868,-0.126074224710464,-0.062601961195469,0.016371421515942,0.048046831041574,0.094128988683224,-0.011147673241794,-0.056419052183628,-0.056810297071934,-0.010605154559016,-0.039553660899401,-0.019884280860424,0.028614545240998,0.017919190227985,0.018800932914019,0.013757862150669));
res += mul(Get(s2,dx,dy), float4x4(-0.138921871781349,-0.070791795849800,-0.046600021421909,-0.184464186429977,0.042794119566679,0.146775200963020,0.017214363440871,-0.042777579277754,-0.050026442855597,0.025825394317508,-0.060886897146702,-0.134572237730026,0.002329491078854,0.178093791007996,0.126951098442078,-0.061784230172634));
res += mul(Get(s3,-dx,-dy), float4x4(0.079701095819473,0.058581326156855,0.054091278463602,0.046066891402006,-0.068015396595001,0.132793501019478,0.055542390793562,0.094939552247524,0.006153574213386,-0.144320115447044,0.071774899959564,0.059203498065472,-0.036328919231892,0.101873487234116,-0.080936968326569,-0.009320558048785));
res += mul(Get(s3,-dx,0), float4x4(0.076576143503189,-0.169837564229965,0.012248998507857,0.082554377615452,-0.044448606669903,0.116474919021130,0.072529315948486,-0.130048900842667,-0.145596429705620,-0.115244239568710,0.020404167473316,-0.068197198212147,-0.032747916877270,0.139303371310234,0.124113403260708,-0.046785846352577));
res += mul(Get(s3,-dx,dy), float4x4(0.044769477099180,-0.108697056770325,0.075038701295853,-0.042753592133522,-0.042268969118595,0.054871078580618,-0.091456659138203,0.003701822366565,0.085276700556278,0.045467063784599,0.098966293036938,-0.182959049940109,0.091384023427963,0.003355913329870,0.048467706888914,-0.094795495271683));
res += mul(Get(s3,0,-dy), float4x4(0.053727649152279,0.111700050532818,0.088020630180836,0.064518578350544,0.023719213902950,0.096668787300587,0.090522125363350,0.020681247115135,0.014807958155870,-0.063932612538338,0.025294525548816,-0.058661520481110,0.005746182985604,0.091966055333614,-0.039250165224075,0.056705672293901));
res += mul(Get(s3,0,0), float4x4(-0.039598912000656,0.034020401537418,-0.075881257653236,0.042703524231911,-0.068137533962727,0.117849655449390,0.183931440114975,-0.024047836661339,-0.133360594511032,-0.070223174989223,-0.053570568561554,-0.018553685396910,0.108596011996269,-0.033354248851538,0.043279994279146,-0.027460318058729));
res += mul(Get(s3,0,dy), float4x4(-0.001657238579355,-0.101355023682117,0.036083921790123,0.009926551952958,-0.102746263146400,-0.030205871909857,-0.045949164777994,0.042180962860584,-0.109651505947113,0.048765044659376,0.037467956542969,-0.058168210089207,0.065268278121948,-0.008499756455421,0.017172997817397,-0.003820067504421));
res += mul(Get(s3,dx,-dy), float4x4(-0.013136934489012,-0.023237520828843,0.193127855658531,-0.055165905505419,-0.047115541994572,-0.043633706867695,0.088887110352516,-0.024199485778809,0.016552902758121,-0.058997873216867,-0.007626433856785,-0.017588859423995,0.030478047206998,-0.005344211589545,0.047175616025925,0.138455480337143));
res += mul(Get(s3,dx,0), float4x4(-0.063098803162575,0.038935694843531,0.115300007164478,-0.071167655289173,-0.158451378345490,0.092309013009071,0.008091158233583,-0.021428234875202,-0.055054794996977,-0.029078466817737,-0.009797234088182,-0.044497445225716,0.055316850543022,0.009616150520742,0.107218869030476,0.049449391663074));
res += mul(Get(s3,dx,dy), float4x4(0.047373894602060,0.035494554787874,0.105859734117985,0.022845182567835,-0.099643521010876,0.118776351213455,-0.059850562363863,-0.080670669674873,0.003271134104580,-0.045447964221239,0.044629793614149,-0.084460496902466,-0.041625972837210,-0.083166092634201,0.032245617359877,0.082361444830894));
return max(float4(0,0,0,0), res);
}
