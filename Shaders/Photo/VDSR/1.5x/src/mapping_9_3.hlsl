sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.029846286401153,0.123246729373932,0.060597933828831,0.033348105847836,0.142846301198006,0.043881598860025,0.025198074057698,0.053237430751324,0.032727424055338,0.017903676256537,0.102161712944508,0.058957304805517,-0.081769265234470,0.080291979014874,-0.035998333245516,0.004391254391521));
res += mul(Get(s0,-dx,0), float4x4(-0.149660483002663,0.077481664717197,-0.049157135188580,0.167298644781113,-0.010504561476409,-0.043605335056782,0.091444358229637,-0.005685223732144,0.035316187888384,-0.024176366627216,0.018503492698073,0.030439689755440,-0.161318913102150,0.049523193389177,0.035646948963404,-0.018391259014606));
res += mul(Get(s0,-dx,dy), float4x4(-0.088625930249691,-0.096390247344971,0.069741599261761,-0.050793975591660,-0.035704869776964,0.003165954723954,0.123241074383259,0.006425621919334,-0.014646542258561,0.008776776492596,0.032376449555159,-0.019992932677269,-0.004572307690978,-0.066152684390545,0.028380801901221,0.038933962583542));
res += mul(Get(s0,0,-dy), float4x4(0.139919668436050,-0.045844592154026,0.009487715549767,-0.002941077342257,0.132831096649170,-0.008117133751512,0.020562915131450,0.080496244132519,-0.011975396424532,0.059984419494867,-0.076155520975590,0.088345572352409,-0.029404193162918,-0.141867235302925,-0.131731390953064,-0.033961299806833));
res += mul(Get(s0,0,0), float4x4(-0.012250691652298,-0.025804292410612,-0.043646216392517,0.030845690518618,0.051449827849865,-0.002895460696891,0.192474886775017,-0.061526164412498,0.064823463559151,0.007385655306280,-0.156876593828201,0.028486264869571,-0.045253355056047,0.032219115644693,0.007843859493732,-0.005519242025912));
res += mul(Get(s0,0,dy), float4x4(0.095732919871807,-0.055509109050035,-0.058613114058971,-0.056667331606150,-0.020650332793593,-0.017326027154922,-0.042734306305647,-0.034528706222773,-0.051415663212538,-0.027147822082043,0.048047587275505,0.048796650022268,-0.013714822940528,-0.055666688829660,-0.043565060943365,0.053934324532747));
res += mul(Get(s0,dx,-dy), float4x4(0.038886167109013,0.009454079903662,-0.033517066389322,-0.003515418386087,0.023547736927867,-0.020503295585513,-0.068387806415558,0.012652669101954,0.000469174236059,-0.002165960846469,-0.121471107006073,0.009545252658427,-0.053133085370064,-0.150003269314766,-0.059634327888489,-0.006713355891407));
res += mul(Get(s0,dx,0), float4x4(0.090165629982948,-0.061173938214779,-0.073995955288410,0.036020327359438,0.015736836940050,0.026549378409982,-0.093062266707420,-0.068615823984146,-0.051486141979694,0.069248341023922,-0.150466158986092,0.060472954064608,-0.048451572656631,0.047454126179218,-0.000428913219366,0.034846641123295));
res += mul(Get(s0,dx,dy), float4x4(0.053707495331764,-0.065877862274647,-0.083844967186451,-0.039957039058208,-0.123326584696770,-0.031197575852275,-0.087038993835449,0.031783074140549,-0.041165366768837,0.005439826752990,-0.003389112185687,0.042742013931274,-0.045684851706028,0.010077217593789,0.036591619253159,0.055768009275198));
res += mul(Get(s1,-dx,-dy), float4x4(-0.018657721579075,0.057254258543253,0.124943815171719,0.009496470913291,-0.106026977300644,-0.000086348700279,0.055796150118113,-0.047095451503992,-0.052106723189354,-0.067297935485840,-0.066425524652004,0.010503670200706,0.060607831925154,-0.011477144435048,0.079515479505062,-0.011543574742973));
res += mul(Get(s1,-dx,0), float4x4(0.049163661897182,-0.000763092131820,0.031292736530304,0.027435395866632,-0.013457673601806,0.051745723932981,0.051024354994297,0.014150918461382,0.127888545393944,-0.006517894566059,-0.015598670579493,-0.066810742020607,0.115366995334625,-0.002821819856763,0.039164196699858,-0.049529608339071));
res += mul(Get(s1,-dx,dy), float4x4(-0.010639830492437,-0.035300310701132,-0.004172943066806,0.022103555500507,0.059810031205416,0.004046352580190,0.048910085111856,0.045141991227865,0.061835855245590,0.022568732500076,-0.079724654555321,-0.092255242168903,0.049987606704235,0.072999313473701,-0.014192732982337,0.024791555479169));
res += mul(Get(s1,0,-dy), float4x4(-0.102055191993713,0.112718865275383,-0.042092736810446,0.024955742061138,-0.092670977115631,0.010927859693766,-0.020729755982757,-0.030243344604969,-0.067511640489101,-0.077923700213432,0.163565620779991,-0.007379814516753,0.007895324379206,-0.024686492979527,0.033292647451162,-0.020987888798118));
res += mul(Get(s1,0,0), float4x4(0.094273798167706,0.119701199233532,0.056982934474945,0.044091802090406,0.064176879823208,-0.025682462379336,0.083738744258881,0.021735878661275,0.074696011841297,-0.051580928266048,0.096881099045277,-0.014050663448870,0.267048090696335,0.019999828189611,0.033271085470915,-0.044062353670597));
res += mul(Get(s1,0,dy), float4x4(-0.027099361643195,0.047043289989233,0.045966763049364,0.001316205365583,0.086850091814995,-0.004382285289466,-0.014320647343993,0.062086034566164,0.020070113241673,-0.000492040766403,-0.131459817290306,-0.020428707823157,-0.022067779675126,0.143667757511139,0.039071142673492,0.042255856096745));
res += mul(Get(s1,dx,-dy), float4x4(0.004376904107630,-0.039783943444490,0.200259268283844,0.028376184403896,0.015167565084994,0.051877915859222,0.008158631622791,-0.013838647864759,-0.086653187870979,0.078105062246323,-0.064578123390675,-0.005080298520625,0.059702135622501,0.026607386767864,0.014583285897970,-0.037809800356627));
res += mul(Get(s1,dx,0), float4x4(0.158351212739944,-0.031511399894953,0.117535606026649,-0.069069676101208,-0.019322652369738,0.064059093594551,-0.044641483575106,0.018469097092748,-0.060576811432838,0.072430178523064,-0.115160696208477,0.085601083934307,0.080692917108536,0.033939920365810,-0.000202338851523,-0.024081544950604));
res += mul(Get(s1,dx,dy), float4x4(-0.000586686132010,0.010884521529078,-0.106755703687668,0.028499355539680,-0.044819753617048,0.025333283469081,-0.000839044980239,0.040627617388964,-0.040161386132240,0.071738578379154,-0.061988692730665,-0.022780248895288,0.041587535291910,0.158240005373955,0.000188440171769,-0.001432399265468));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001406403607689,0.048188459128141,-0.059929724782705,0.019369058310986,-0.005825770553201,-0.075957193970680,-0.024459507316351,-0.080717749893665,0.004926748573780,0.029240990057588,0.044486545026302,-0.099776588380337,-0.027867723256350,0.022923801094294,0.060731519013643,-0.007068479899317));
res += mul(Get(s2,-dx,0), float4x4(-0.070911511778831,-0.100355535745621,-0.027290891855955,0.080110408365726,-0.014735973440111,-0.040734637528658,0.009185052476823,-0.053245961666107,-0.077922843396664,-0.001918374793604,0.070244759321213,-0.021851308643818,0.051271311938763,-0.049280300736427,-0.002497823676094,0.009935960173607));
res += mul(Get(s2,-dx,dy), float4x4(-0.032512962818146,-0.067045189440250,0.099192269146442,0.027447886765003,0.032366860657930,-0.041295345872641,0.042841713875532,-0.054539252072573,-0.055415745824575,-0.140951484441757,0.210291117429733,0.114918939769268,0.099638462066650,-0.065350167453289,-0.021635346114635,0.026184439659119));
res += mul(Get(s2,0,-dy), float4x4(-0.000595643708948,-0.015674861148000,-0.083029165863991,0.038341619074345,0.157029479742050,-0.018370417878032,-0.047347191721201,-0.111846357584000,-0.103866964578629,-0.001217397511937,0.123726658523083,-0.017184032127261,0.038034334778786,0.063927702605724,-0.007417747750878,-0.050231579691172));
res += mul(Get(s2,0,0), float4x4(-0.014767639338970,0.082313634455204,-0.037603896111250,0.023375537246466,-0.038566831499338,-0.084343627095222,0.038497436791658,-0.060411047190428,-0.060014843940735,-0.020690448582172,-0.068709060549736,-0.029949517920613,-0.051476590335369,0.027770893648267,0.007277503143996,0.072756506502628));
res += mul(Get(s2,0,dy), float4x4(-0.013114088214934,-0.086875759065151,0.014947504736483,0.036971487104893,-0.044688105583191,-0.015628477558494,0.066284768283367,-0.004533298779279,0.131175994873047,0.009818103164434,0.208942338824272,0.046738389879465,0.073806591331959,-0.034568417817354,0.002948769601062,0.011018553748727));
res += mul(Get(s2,dx,-dy), float4x4(0.012390282005072,-0.058125473558903,-0.002194438828155,0.017399039119482,-0.110041171312332,-0.000615367491264,-0.017817430198193,-0.092778190970421,-0.075330205261707,0.037928581237793,0.086221471428871,-0.031312741339207,0.041066523641348,0.064873233437538,0.015492036007345,0.020204856991768));
res += mul(Get(s2,dx,0), float4x4(0.009350005537271,-0.003473136341199,0.058113053441048,-0.001066438038833,-0.012062453664839,-0.083205476403236,0.046261589974165,-0.017459500581026,0.014989454299212,0.011723876930773,0.086052253842354,-0.016705982387066,0.021412260830402,0.014756371267140,0.004761842079461,0.054928295314312));
res += mul(Get(s2,dx,dy), float4x4(-0.078715488314629,-0.004853266291320,-0.024556372314692,0.021345749497414,-0.031216800212860,-0.014247916638851,0.038084115833044,-0.013924368657172,0.123798787593842,-0.052484523504972,0.263880282640457,0.015579519793391,0.024575406685472,-0.064310841262341,-0.069885909557343,0.008023503236473));
res += mul(Get(s3,-dx,-dy), float4x4(0.131449446082115,0.044552274048328,0.013287932612002,0.008526902645826,-0.062150523066521,0.057330410927534,0.062866412103176,0.038997467607260,-0.033832594752312,0.065795347094536,0.092169575393200,-0.023960748687387,-0.064104370772839,-0.087372519075871,0.011911271139979,0.130657166242599));
res += mul(Get(s3,-dx,0), float4x4(0.064678221940994,0.069043211638927,0.027943873777986,-0.013487493619323,-0.109849840402603,0.073554232716560,-0.032811060547829,0.028050847351551,0.051782973110676,0.159359067678452,-0.009416593238711,0.042330853641033,0.031633276492357,0.089620180428028,-0.000210335827433,-0.054454151540995));
res += mul(Get(s3,-dx,dy), float4x4(0.100053735077381,0.016813499853015,-0.097218230366707,-0.119869284331799,0.079535365104675,-0.000163182790857,-0.054948311299086,0.010893465951085,-0.073746673762798,0.086347363889217,0.068356670439243,-0.023018233478069,0.031648308038712,-0.024777414277196,-0.086605906486511,-0.079537488520145));
res += mul(Get(s3,0,-dy), float4x4(0.096274562180042,0.081467613577843,-0.073954954743385,0.017547599971294,-0.028308169916272,-0.006080646533519,0.102362431585789,-0.004571696743369,-0.018954647704959,0.117912970483303,0.067343235015869,-0.037353262305260,-0.066523618996143,-0.021145008504391,0.066686771810055,0.060367852449417));
res += mul(Get(s3,0,0), float4x4(0.119764864444733,-0.004600234795362,0.024656904861331,-0.055723071098328,-0.110919564962387,0.042460631579161,-0.000895621138625,0.042642898857594,-0.033043127506971,0.116719499230385,-0.006708831992000,0.035303805023432,-0.117767326533794,0.143818736076355,0.022002214565873,-0.071178361773491));
res += mul(Get(s3,0,dy), float4x4(-0.031799133867025,-0.012820496223867,-0.176157101988792,-0.093523241579533,-0.052385557442904,0.007579527795315,-0.050108082592487,-0.011328410357237,-0.022624472156167,-0.042335961014032,0.052158504724503,-0.016144789755344,0.086428038775921,-0.062753669917583,0.000337156583555,-0.090370200574398));
res += mul(Get(s3,dx,-dy), float4x4(-0.013510605320334,0.050768613815308,-0.041559722274542,0.026103939861059,0.025927729904652,0.034627392888069,-0.010123595595360,0.003776535857469,0.062032070010900,0.096119865775108,0.113978177309036,-0.009629963897169,0.021146617829800,-0.103458330035210,0.087301000952721,0.025331638753414));
res += mul(Get(s3,dx,0), float4x4(0.170303806662560,0.071472011506557,-0.111654981970787,-0.063877180218697,-0.107469633221626,0.009534458629787,-0.058208949863911,-0.005121144000441,-0.021033816039562,0.133407831192017,-0.054250404238701,0.052371852099895,-0.030427362769842,0.029679153114557,0.009622155688703,-0.017661534249783));
res += mul(Get(s3,dx,dy), float4x4(0.018891708925366,-0.086975850164890,-0.157930642366409,-0.102950915694237,-0.090783439576626,-0.011358261108398,-0.091985575854778,0.008576549589634,-0.014516520313919,-0.039070833474398,0.030098121613264,-0.045676033943892,0.004745457787067,-0.175943151116371,-0.032397374510765,-0.041341833770275));
return max(float4(0,0,0,0), res);
}
