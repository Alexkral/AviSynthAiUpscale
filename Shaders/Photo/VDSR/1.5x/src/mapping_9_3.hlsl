sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.089466542005539,0.234818309545517,-0.038258519023657,0.016424361616373,0.008871751837432,-0.106822200119495,-0.006489054299891,-0.172186896204948,-0.051528289914131,-0.128760322928429,-0.104922279715538,0.011123397387564,0.051614545285702,0.132759779691696,-0.064085789024830,0.086327664554119));
res += mul(Get(s0,-dx,0), float4x4(0.029701525345445,-0.079740740358829,-0.072477951645851,-0.015484623610973,-0.057713232934475,-0.024562787264585,-0.040276378393173,0.000042065308662,-0.040404822677374,-0.119681239128113,-0.043662812560797,0.039774350821972,-0.157823562622070,0.016060773283243,0.051061853766441,0.027985550463200));
res += mul(Get(s0,-dx,dy), float4x4(0.067192688584328,-0.059793036431074,-0.122069455683231,-0.047791723161936,-0.018884861841798,0.012316391803324,0.043482977896929,-0.085685633122921,-0.081344172358513,-0.049218412488699,-0.109535925090313,0.082432784140110,-0.156540155410767,0.039484865963459,-0.134190395474434,0.034234318882227));
res += mul(Get(s0,0,-dy), float4x4(0.129775479435921,-0.043596692383289,-0.073294624686241,0.071696877479553,0.122782416641712,-0.004614502657205,0.124426886439323,-0.105326242744923,-0.074936047196388,0.086746752262115,-0.068850837647915,0.101736389100552,-0.027080828323960,0.118332944810390,0.187600776553154,-0.013734873384237));
res += mul(Get(s0,0,0), float4x4(0.096688508987427,0.059990778565407,0.058220949023962,0.112364001572132,0.006736659444869,0.012215022929013,-0.013980539515615,-0.046064417809248,0.003903109580278,0.007195970974863,0.063563846051693,0.055199775844812,-0.007926760241389,0.093830876052380,-0.006601113826036,0.054013133049011));
res += mul(Get(s0,0,dy), float4x4(0.005379777401686,-0.076291017234325,0.014864590950310,-0.119463041424751,0.100340060889721,-0.084398888051510,-0.031722187995911,0.041991353034973,0.014709382317960,0.041071608662605,0.009522479027510,-0.075654178857803,-0.072625249624252,0.019545355811715,0.052106183022261,0.116576597094536));
res += mul(Get(s0,dx,-dy), float4x4(-0.011628810316324,0.115065366029739,0.149301663041115,0.054552819579840,0.104921400547028,0.067719854414463,0.005946810357273,-0.110464841127396,-0.034874822944403,0.008486439473927,0.093405872583389,0.008561920374632,-0.060343809425831,0.017367294058204,0.107077948749065,-0.016698338091373));
res += mul(Get(s0,dx,0), float4x4(0.136652663350105,0.015963859856129,0.070762500166893,0.191898375749588,-0.150886371731758,0.083471722900867,0.054464127868414,-0.126114964485168,-0.093195423483849,0.108323022723198,0.068209409713745,-0.020894072949886,0.116552047431469,-0.077065415680408,0.081188164651394,0.274897545576096));
res += mul(Get(s0,dx,dy), float4x4(-0.080367818474770,-0.051181960850954,0.155900090932846,-0.103282049298286,0.000631055678241,0.009949654340744,-0.030918419361115,-0.146982848644257,0.051567725837231,-0.125023767352104,-0.010372644290328,0.117338933050632,0.041398949921131,0.140126451849937,-0.062491953372955,0.112043105065823));
res += mul(Get(s1,-dx,-dy), float4x4(0.021687205880880,-0.021794896572828,-0.078620843589306,-0.058318372815847,0.100421093404293,-0.049245163798332,-0.073529675602913,0.107388079166412,-0.002549210097641,0.112087890505791,-0.014869940467179,0.053409464657307,-0.133256494998932,-0.110342204570770,0.154811039566994,-0.038271311670542));
res += mul(Get(s1,-dx,0), float4x4(0.018659327179193,-0.072452753782272,-0.053475830703974,0.034483715891838,0.012169296853244,-0.084702566266060,-0.048983532935381,0.093358203768730,0.034477639943361,-0.062163650989532,0.023168275132775,-0.096290089190006,0.039330195635557,0.089541077613831,0.040313500910997,-0.083949171006680));
res += mul(Get(s1,-dx,dy), float4x4(-0.027419779449701,0.094062522053719,-0.069168537855148,-0.075424700975418,-0.109700053930283,-0.051320530474186,-0.033623617142439,0.168897807598114,0.038972284644842,0.026607092469931,-0.040074694901705,0.031818494200706,0.052373629063368,-0.120877012610435,-0.058894108980894,-0.175661519169807));
res += mul(Get(s1,0,-dy), float4x4(0.081619940698147,0.060912556946278,-0.081255838274956,-0.169929727911949,0.070762023329735,-0.018222702667117,-0.036929953843355,-0.138601809740067,0.094189234077930,0.036754131317139,0.019193971529603,-0.100121513009071,-0.062370423227549,0.022295789793134,0.069140702486038,-0.002775965025648));
res += mul(Get(s1,0,0), float4x4(-0.079759486019611,0.247678980231285,-0.019999958574772,-0.091683275997639,-0.127666011452675,-0.008116506040096,-0.141619399189949,0.147816851735115,0.061287265270948,0.030373761430383,-0.128251001238823,0.114811159670353,-0.145223274827003,0.074550405144691,0.050765972584486,-0.147625222802162));
res += mul(Get(s1,0,dy), float4x4(-0.054805446416140,0.040718145668507,0.070236578583717,0.037388622760773,0.015960149466991,-0.071629494428635,-0.063797481358051,0.113682068884373,0.059842094779015,-0.049032106995583,0.106298722326756,0.068095691502094,0.002078247955069,-0.062257811427116,0.043033134192228,0.079694218933582));
res += mul(Get(s1,dx,-dy), float4x4(-0.086621508002281,0.048252575099468,0.118815742433071,-0.062819704413414,0.033809281885624,0.141919106245041,-0.043439418077469,0.053665742278099,-0.064394757151604,0.023022344335914,0.000054872503824,-0.113952048122883,0.072271548211575,-0.012415281496942,-0.150167584419250,0.237775102257729));
res += mul(Get(s1,dx,0), float4x4(0.033956907689571,-0.031830247491598,0.049526598304510,-0.093815512955189,0.057347469031811,0.015098860487342,-0.030992230400443,-0.049250658601522,0.085902914404869,-0.092376969754696,-0.134890943765640,-0.025706863030791,0.066445216536522,0.064297139644623,-0.101464912295341,-0.014743912965059));
res += mul(Get(s1,dx,dy), float4x4(-0.074107818305492,0.070767179131508,0.094483189284801,-0.012670819647610,0.020816046744585,-0.144887670874596,-0.029786575585604,0.016346426680684,0.005088576581329,0.037591166794300,-0.053836505860090,-0.094354450702667,-0.032470047473907,-0.097197458148003,0.039422396570444,-0.157597362995148));
res += mul(Get(s2,-dx,-dy), float4x4(0.047918751835823,-0.013238452374935,-0.036960072815418,0.087957598268986,0.072136767208576,0.039823401719332,0.045238427817822,-0.049019459635019,0.055523343384266,-0.053194854408503,-0.047684285789728,0.033579744398594,-0.105596482753754,0.017596580088139,-0.035846199840307,0.189626932144165));
res += mul(Get(s2,-dx,0), float4x4(0.078058466315269,-0.163950130343437,-0.150841683149338,-0.013424753211439,-0.021021625027061,-0.017442919313908,-0.025617256760597,0.045593652874231,0.070536695420742,0.118605017662048,-0.094444498419762,0.025681558996439,-0.107507772743702,0.023636598140001,0.050598226487637,-0.119136713445187));
res += mul(Get(s2,-dx,dy), float4x4(-0.011049710214138,-0.002699950477108,-0.042775202542543,-0.011267797090113,-0.022843511775136,-0.052973307669163,0.063941553235054,0.143480658531189,-0.017084892839193,0.076969131827354,-0.096696645021439,-0.090044632554054,-0.106360673904419,0.050312496721745,0.039036642760038,0.083346508443356));
res += mul(Get(s2,0,-dy), float4x4(-0.159546494483948,0.161920905113220,-0.033823054283857,0.200850218534470,0.009575029835105,-0.156825080513954,0.110871590673923,0.031008066609502,-0.038637187331915,-0.072036273777485,0.057281050831079,0.073858201503754,-0.079970397055149,-0.089650303125381,0.070750191807747,-0.184991329908371));
res += mul(Get(s2,0,0), float4x4(-0.079968407750130,-0.034323919564486,0.034812431782484,-0.004282820504159,0.071123376488686,0.066274479031563,-0.096049472689629,0.144168600440025,0.002085922984406,-0.060078810900450,-0.151201620697975,0.157822817564011,0.107456676661968,0.023998165503144,-0.022123476490378,-0.214768946170807));
res += mul(Get(s2,0,dy), float4x4(-0.057216580957174,0.047399636358023,0.101944603025913,-0.011987952515483,-0.117047771811485,-0.086293138563633,0.195533648133278,-0.055554907768965,-0.069631472229958,-0.091324053704739,-0.132122814655304,-0.069311477243900,-0.031185878440738,-0.053008440881968,0.103984475135803,0.125318855047226));
res += mul(Get(s2,dx,-dy), float4x4(0.028326382860541,0.058804970234632,-0.145779341459274,0.056633114814758,0.169433236122131,-0.160218328237534,-0.000832517282106,-0.077957279980183,-0.053245946764946,0.047183826565742,-0.054873052984476,0.076266467571259,0.063620306551456,-0.176827713847160,0.005885887891054,-0.029086740687490));
res += mul(Get(s2,dx,0), float4x4(-0.034690957516432,0.002492400119081,0.115462794899940,0.086016155779362,-0.043495714664459,0.111345492303371,0.001640776055865,-0.022351033985615,-0.162134528160095,-0.153081834316254,-0.008265949785709,0.194375440478325,-0.008078469894826,0.109818615019321,-0.108291536569595,0.175579920411110));
res += mul(Get(s2,dx,dy), float4x4(0.054369829595089,-0.030624939128757,0.079363033175468,0.272557944059372,0.002632850082591,0.126702308654785,0.097794376313686,-0.076000586152077,-0.141222253441811,-0.110674940049648,-0.149306729435921,0.010064309462905,0.041621174663305,0.076390884816647,-0.039205916225910,0.045229345560074));
res += mul(Get(s3,-dx,-dy), float4x4(0.082537680864334,0.100769244134426,-0.180246382951736,0.040549002587795,0.015602507628500,0.073044113814831,-0.059983178973198,0.199322119355202,0.059408869594336,-0.040669344365597,-0.044997572898865,0.077771656215191,-0.010763983242214,-0.147565826773643,0.022261859849095,-0.068403124809265));
res += mul(Get(s3,-dx,0), float4x4(-0.098881334066391,0.109352618455887,0.104390569031239,-0.077812910079956,0.017265031114221,-0.034956790506840,0.018338775262237,0.187904939055443,0.013231271877885,-0.063941612839699,0.101625695824623,0.111034542322159,-0.019409360364079,-0.216835096478462,0.264821648597717,0.052566289901733));
res += mul(Get(s3,-dx,dy), float4x4(-0.005243186838925,-0.089029073715210,0.072207443416119,-0.071244858205318,-0.243074908852577,0.030925311148167,0.036363337188959,0.105732403695583,-0.082348339259624,-0.094710990786552,0.041414357721806,0.003599012503400,0.117261998355389,0.131340727210045,0.045123714953661,0.000793168670498));
res += mul(Get(s3,0,-dy), float4x4(0.068489387631416,0.112194724380970,-0.037527479231358,-0.038619030267000,0.054008182138205,-0.087418034672737,0.039503093808889,0.102183774113655,0.123658053576946,0.021582234650850,-0.120054922997952,-0.052238304167986,-0.163615614175797,0.029621576890349,-0.055361960083246,-0.030777091160417));
res += mul(Get(s3,0,0), float4x4(-0.087844297289848,0.053639028221369,-0.151238650083542,-0.069946967065334,-0.060733459889889,0.087334111332893,0.095305681228638,-0.230545178055763,-0.078379333019257,0.016301246359944,0.058524362742901,0.106243349611759,0.059718199074268,0.019169868901372,-0.084637060761452,0.081838272511959));
res += mul(Get(s3,0,dy), float4x4(-0.025665443390608,0.063198193907738,0.001960279420018,0.002584594301879,-0.151674240827560,-0.117676042020321,-0.012819862924516,-0.007040130440146,0.071857213973999,-0.060360554605722,0.107803121209145,-0.049712684005499,-0.094692468643188,-0.093040250241756,-0.011109472252429,0.068081252276897));
res += mul(Get(s3,dx,-dy), float4x4(0.024600636214018,-0.132265359163284,0.000120418866572,0.092641606926918,0.069911226630211,0.039864107966423,0.000618963502347,0.072682082653046,0.086116723716259,-0.145763114094734,0.095604099333286,-0.184248149394989,-0.018954759463668,0.139320790767670,0.046974491328001,-0.103956259787083));
res += mul(Get(s3,dx,0), float4x4(0.046611022204161,0.085875585675240,0.111562676727772,0.103398866951466,0.040494937449694,0.038263171911240,-0.185331851243973,0.060359619557858,0.094002179801464,-0.118111111223698,0.051058456301689,0.189107209444046,0.045251637697220,0.002785957884043,-0.004835401196033,0.042750447988510));
res += mul(Get(s3,dx,dy), float4x4(0.120832122862339,-0.046339403837919,0.069682478904724,0.163544997572899,-0.153191208839417,-0.100053839385509,0.026735268533230,0.029533643275499,0.100777335464954,-0.166091382503510,0.027763670310378,-0.004380168393254,-0.152482911944389,0.013501473702490,0.008902295492589,0.036161791533232));
return max(float4(0,0,0,0), res);
}
