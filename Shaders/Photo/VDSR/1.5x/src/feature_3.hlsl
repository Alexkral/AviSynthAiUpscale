sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.054209083318710,-0.124888703227043,-0.048615325242281,0.063562124967575) * Get(-dx,-dy);
res += float4(-0.210759639739990,0.104766257107258,0.065050721168518,-0.126800179481506) * Get(-dx,0);
res += float4(0.269664406776428,-0.002410719403997,0.009714973159134,-0.002351900329813) * Get(-dx,dy);
res += float4(0.188451752066612,0.043109320104122,-0.094955757260323,-0.052114214748144) * Get(0,-dy);
res += float4(-0.214152067899704,0.211929395794868,-0.131552547216415,0.151648074388504) * Get(0,0);
res += float4(0.146717980504036,0.048303138464689,0.050211220979691,0.391074210405350) * Get(0,dy);
res += float4(-0.129629850387573,0.099691517651081,-0.007888905704021,-0.022984698414803) * Get(dx,-dy);
res += float4(0.085060141980648,-0.076902657747269,0.053881570696831,0.041246883571148) * Get(dx,0);
res += float4(-0.017276121303439,-0.067591279745102,-0.180779263377190,-0.157318621873856) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
