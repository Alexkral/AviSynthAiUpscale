sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.013284726999700,0.068505629897118,0.044947493821383,0.017693337053061,-0.011000558733940,0.077788628637791,-0.156021282076836,0.028602126985788,-0.003167964983732,-0.008071566000581,-0.009686852805316,-0.064073763787746,-0.038343727588654,0.031757164746523,0.023580089211464,0.077732056379318));
res += mul(Get(s0,-dx,0), float4x4(-0.074949011206627,-0.017814509570599,-0.059006053954363,0.115204885601997,0.013302516192198,-0.021376922726631,-0.132094740867615,0.003525225911289,-0.004038704559207,-0.022225484251976,-0.062967568635941,0.037118196487427,0.042521573603153,0.002649838570505,0.092382363975048,-0.003775432938710));
res += mul(Get(s0,-dx,dy), float4x4(-0.100782752037048,0.162210270762444,0.012503867968917,0.000058733265178,-0.069878965616226,-0.108057737350464,0.000093662914878,0.013164868578315,0.027528306469321,0.037554062902927,-0.051138300448656,-0.037004072219133,0.030478836968541,0.041964877396822,0.096827551722527,-0.030731884762645));
res += mul(Get(s0,0,-dy), float4x4(0.011695033870637,-0.011159491725266,0.088810078799725,0.145201548933983,-0.045338597148657,0.018386377021670,-0.103226400911808,0.036243226379156,-0.048054877668619,0.027374044060707,0.066733568906784,0.020717453211546,0.164637506008148,0.087958514690399,-0.065340608358383,0.052996981889009));
res += mul(Get(s0,0,0), float4x4(-0.068717896938324,-0.013279064558446,0.008855791762471,0.059297803789377,0.107317559421062,-0.035438694059849,-0.114247635006905,0.046226661652327,-0.123640418052673,0.163586556911469,0.002403661608696,0.003912666346878,0.100778035819530,-0.104578554630280,-0.028520101681352,0.115899451076984));
res += mul(Get(s0,0,dy), float4x4(-0.065095886588097,0.045984949916601,0.150802433490753,0.009374330751598,-0.106745667755604,0.077437780797482,-0.042554479092360,-0.044962774962187,-0.134661808609962,0.007135926745832,0.016400324180722,0.060854177922010,0.014478197321296,0.038786239922047,0.083277672529221,0.051932673901320));
res += mul(Get(s0,dx,-dy), float4x4(0.118794336915016,-0.054055124521255,0.041316926479340,0.026007585227489,-0.023078950121999,-0.020979642868042,-0.088827431201935,0.018791235983372,-0.063802331686020,0.011058189906180,-0.020640755072236,0.049926239997149,0.027662569656968,-0.050356268882751,-0.013675466179848,-0.004738208372146));
res += mul(Get(s0,dx,0), float4x4(0.039774071425200,0.037583004683256,-0.036505229771137,0.003215217730030,0.126276940107346,-0.037726867944002,-0.039614237844944,-0.034478146582842,-0.000388621614547,-0.045834213495255,0.010953177697957,-0.004321139305830,-0.021318687126040,-0.014757825061679,0.027821773663163,0.024282686412334));
res += mul(Get(s0,dx,dy), float4x4(0.178631708025932,-0.017404615879059,0.001514440053143,0.091257490217686,0.003217480611056,0.011140626855195,-0.034192867577076,-0.036355394870043,-0.021889016032219,-0.064179800450802,-0.017505703493953,-0.099001899361610,-0.075529001653194,0.005652248859406,0.115943670272827,0.068418443202972));
res += mul(Get(s1,-dx,-dy), float4x4(0.036226145923138,-0.006586620118469,-0.181515842676163,0.011930782347918,-0.014655846171081,0.060489684343338,-0.042493153363466,0.015091818757355,0.021616749465466,0.140968516469002,0.069667473435402,0.068511188030243,-0.013881037943065,-0.065489910542965,-0.089703358709812,-0.021736925467849));
res += mul(Get(s1,-dx,0), float4x4(0.019201152026653,0.037735901772976,-0.012753100134432,0.044641319662333,-0.011769295670092,-0.010853889398277,-0.015803672373295,0.040418732911348,0.052212968468666,0.098061054944992,0.055502779781818,-0.026137379929423,0.115043699741364,-0.106505773961544,0.010398160666227,-0.076264515519142));
res += mul(Get(s1,-dx,dy), float4x4(-0.047266039997339,-0.002940329490229,0.141711294651031,0.013542900793254,0.011719266884029,-0.063801869750023,0.005089332815260,0.022057594731450,-0.033323243260384,0.099929198622704,0.034697499126196,0.101389311254025,-0.078641846776009,-0.121520854532719,0.029436981305480,0.042587243020535));
res += mul(Get(s1,0,-dy), float4x4(0.118448309600353,0.013565691187978,-0.131581321358681,0.033259700983763,0.110163606703281,0.000519743654877,-0.064542278647423,0.021346639841795,0.009199399501085,0.026376657187939,0.099326029419899,0.042105358093977,0.024463808164001,-0.026641894131899,0.010434231720865,0.014209256507456));
res += mul(Get(s1,0,0), float4x4(0.219002187252045,-0.043409168720245,0.025256486609578,-0.011447839438915,0.084016017615795,-0.104844979941845,-0.041981492191553,0.027969019487500,0.033562250435352,-0.054306913167238,0.041500344872475,0.079811133444309,0.041909903287888,-0.132423147559166,0.037663031369448,0.240355700254440));
res += mul(Get(s1,0,dy), float4x4(0.027942670509219,0.090454086661339,0.075744852423668,0.032711490988731,0.037896867841482,0.126241490244865,0.099922806024551,0.117661990225315,-0.021370537579060,0.076224781572819,0.016643144190311,0.003698614658788,-0.186124742031097,0.054465413093567,0.109758421778679,-0.129735216498375));
res += mul(Get(s1,dx,-dy), float4x4(-0.055658113211393,-0.018123337998986,-0.029071746394038,-0.094693504273891,-0.024373080581427,0.003937188535929,-0.013965133577585,-0.026577366515994,0.056178539991379,-0.196305498480797,0.006899253465235,-0.065804600715637,-0.089560523629189,-0.000205320844543,-0.120183371007442,-0.042740914970636));
res += mul(Get(s1,dx,0), float4x4(-0.110842227935791,0.025527000427246,0.014412826858461,-0.151090666651726,0.015131021849811,0.029063312336802,-0.099433690309525,-0.090238742530346,0.014749278314412,-0.156364127993584,-0.011455112136900,-0.028813879936934,0.109250061213970,0.197827115654945,-0.097114913165569,-0.173694923520088));
res += mul(Get(s1,dx,dy), float4x4(-0.034213948994875,0.035177316516638,0.092394977807999,-0.090684615075588,0.054308380931616,0.110797852277756,-0.041806843131781,-0.023061065003276,0.041437197476625,-0.152012795209885,-0.025819242000580,-0.098398461937904,-0.235709279775620,0.198685094714165,0.035791907459497,-0.092778451740742));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046352714300156,-0.008377902209759,-0.026465598493814,0.034223292022943,-0.049498368054628,-0.045051995664835,-0.013880424201488,-0.020449696108699,0.052852887660265,-0.054354906082153,0.113950833678246,-0.010243164375424,-0.020323853939772,0.023551944643259,-0.058472502976656,0.040476437658072));
res += mul(Get(s2,-dx,0), float4x4(0.038554217666388,-0.012007589451969,-0.135796085000038,0.043085664510727,0.085304461419582,0.064679056406021,-0.054164811968803,0.026412857696414,0.080331116914749,0.022741181775928,0.077980652451515,0.036023285239935,-0.008695935830474,-0.008330727927387,-0.031357597559690,0.010197504423559));
res += mul(Get(s2,-dx,dy), float4x4(0.017626127228141,0.026391670107841,0.053963374346495,0.061513062566519,0.010500679723918,-0.043814454227686,0.044127855449915,0.006642557680607,-0.043306872248650,0.047232780605555,0.065340600907803,0.057455141097307,0.020205937325954,0.010807508602738,0.017567371949553,0.010762710124254));
res += mul(Get(s2,0,-dy), float4x4(-0.039275672286749,0.036508277058601,-0.044684380292892,0.003720277221873,-0.048958916217089,-0.018733821809292,0.019361615180969,0.058306265622377,0.027230063453317,0.035424832254648,0.065230049192905,0.043877787888050,-0.091015249490738,0.108508415520191,-0.042397949844599,-0.043651394546032));
res += mul(Get(s2,0,0), float4x4(0.142230242490768,0.051214464008808,-0.112992979586124,-0.038913398981094,0.058082886040211,0.098757579922676,-0.024363497272134,0.025904528796673,0.037221562117338,0.050480291247368,-0.013737168163061,0.109274528920650,-0.038042832165956,-0.017600562423468,-0.057447507977486,0.000853399280459));
res += mul(Get(s2,0,dy), float4x4(-0.006694510113448,0.239027202129364,-0.039158865809441,-0.062691159546375,0.004059722647071,-0.026493942365050,0.076774820685387,0.077760122716427,0.064166247844696,0.060391653329134,-0.039714049547911,-0.005075264256448,0.004634459968656,0.011611031368375,-0.008187348954380,0.016040921211243));
res += mul(Get(s2,dx,-dy), float4x4(-0.031254764646292,0.019653737545013,-0.010538831353188,0.061637751758099,-0.011360610835254,0.003914190921932,-0.028321333229542,0.028161998838186,0.083577372133732,0.119674816727638,0.029141336679459,-0.041409894824028,-0.079307794570923,0.070102490484715,-0.061010602861643,-0.041704636067152));
res += mul(Get(s2,dx,0), float4x4(0.048384655267000,-0.043279811739922,-0.088855460286140,0.021288918331265,0.121642380952835,0.235200598835945,-0.047526448965073,-0.048502724617720,0.048978846520185,-0.001334938337095,-0.032800897955894,0.082552410662174,-0.012343293055892,0.065444834530354,-0.060653384774923,-0.032181881368160));
res += mul(Get(s2,dx,dy), float4x4(0.032839458435774,0.053663127124310,-0.046124700456858,-0.078487172722816,0.049773793667555,0.029331436380744,0.024568343535066,-0.037324208766222,-0.043992582708597,-0.007895928807557,-0.028519324958324,0.242412149906158,-0.017638869583607,0.049888573586941,-0.014606639742851,-0.017344186082482));
res += mul(Get(s3,-dx,-dy), float4x4(0.023841140791774,0.061207879334688,0.080816365778446,-0.045987531542778,0.012296211905777,-0.039503179490566,0.045119281858206,-0.067279435694218,-0.041128743439913,-0.023703502491117,-0.063971072435379,-0.000361154641723,0.028324961662292,-0.030612075701356,-0.097479633986950,0.014956641010940));
res += mul(Get(s3,-dx,0), float4x4(-0.001985169947147,0.017686612904072,0.003138627624139,-0.033894851803780,-0.001500202924944,0.000373601738829,-0.065099366009235,0.003004013560712,-0.019970195367932,0.084364183247089,-0.050365194678307,-0.014056568965316,0.077255308628082,-0.062826946377754,-0.004077924881130,0.041349608451128));
res += mul(Get(s3,-dx,dy), float4x4(-0.017573380842805,-0.088479474186897,-0.045777380466461,-0.086816854774952,-0.046902827918530,-0.014519795775414,0.133810907602310,-0.007760107051581,-0.100272238254547,-0.004898408427835,0.009201840497553,-0.024456452578306,0.063674710690975,-0.041181452572346,-0.003442081855610,0.027531746774912));
res += mul(Get(s3,0,-dy), float4x4(-0.004378841258585,-0.029692422598600,0.113459885120392,-0.017329517751932,0.046115428209305,-0.073985964059830,-0.006120629142970,-0.006036874838173,0.031250100582838,-0.069072186946869,-0.136030867695808,0.024218060076237,-0.014289577491581,0.073823183774948,0.051049776375294,-0.069564431905746));
res += mul(Get(s3,0,0), float4x4(-0.028757460415363,-0.047541312873363,0.029325911775231,-0.032323084771633,-0.036429114639759,0.003826219821349,-0.072300508618355,0.035159669816494,0.149589255452156,0.140694618225098,-0.117980428040028,-0.064400486648083,-0.020156636834145,-0.022127160802484,0.055428680032492,0.104475870728493));
res += mul(Get(s3,0,dy), float4x4(-0.027672389522195,-0.022636393085122,-0.013314312323928,0.000221493275603,-0.074770651757717,0.052633035928011,0.114152476191521,-0.051072463393211,0.182718262076378,-0.069264695048332,-0.061576299369335,0.043384969234467,0.050480041652918,0.033515892922878,0.053792685270309,-0.039299946278334));
res += mul(Get(s3,dx,-dy), float4x4(0.126919522881508,-0.015898466110229,0.129202663898468,0.037734728306532,-0.096740394830704,0.026886736974120,-0.013972750864923,-0.004004436079413,-0.130151376128197,-0.021992178633809,-0.090760380029678,-0.016843540593982,-0.088719747960567,0.053558811545372,0.033196583390236,-0.082564756274223));
res += mul(Get(s3,dx,0), float4x4(-0.011606167070568,-0.012042865157127,0.074684351682663,0.082928128540516,-0.019967846572399,0.032535884529352,-0.053469628095627,-0.038320556282997,-0.071548588573933,-0.041685651987791,-0.057584080845118,0.078837879002094,-0.009958515875041,0.028530677780509,0.083293430507183,-0.139685094356537));
res += mul(Get(s3,dx,dy), float4x4(-0.046255927532911,0.038535550236702,0.034911341965199,0.070788778364658,0.030965341255069,0.036317333579063,0.094202995300293,-0.100968040525913,-0.121787548065186,-0.035177648067474,0.025885570794344,-0.073675185441971,-0.142810747027397,0.023672560229897,0.026666546240449,-0.110096424818039));
return max(float4(0,0,0,0), res);
}
