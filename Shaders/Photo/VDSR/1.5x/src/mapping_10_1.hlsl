sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.069712862372398,-0.073742501437664,-0.037546534091234,-0.193553537130356,0.105978280305862,-0.073280967772007,-0.070792742073536,0.007065269164741,-0.080380082130432,0.097427822649479,-0.056274212896824,-0.016300674527884,0.039103493094444,0.006100369617343,-0.172094628214836,0.058854591101408));
res += mul(Get(s0,-dx,0), float4x4(-0.084557436406612,0.047204431146383,-0.104557909071445,-0.039361216127872,0.019584152847528,-0.047821436077356,-0.109925389289856,0.073093369603157,0.038290571421385,0.042985428124666,0.052341390401125,0.098583281040192,-0.175802811980247,-0.102872416377068,-0.056032270193100,-0.179217174649239));
res += mul(Get(s0,-dx,dy), float4x4(-0.005729382857680,0.066377088427544,0.068991757929325,-0.008239404298365,-0.014993228949606,0.008003418333828,-0.061589643359184,-0.049301937222481,0.084370382130146,0.170783042907715,-0.034224674105644,0.005747827701271,0.000354958290700,-0.124961532652378,0.010208016261458,0.105918385088444));
res += mul(Get(s0,0,-dy), float4x4(0.014329294674098,-0.078099399805069,0.016371535137296,0.093628741800785,-0.052613336592913,-0.159762635827065,-0.043100614100695,-0.011935206130147,-0.183065995573997,-0.019146814942360,0.028840810060501,0.220788002014160,0.128676667809486,0.000570125470404,-0.024699106812477,0.151563510298729));
res += mul(Get(s0,0,0), float4x4(-0.066509559750557,0.001438367762603,-0.029318321496248,0.116341896355152,-0.013280566781759,-0.009616446681321,0.005167409311980,0.026149928569794,-0.006305159069598,-0.039583642035723,0.060235004872084,0.187989592552185,0.014506256207824,0.099620021879673,-0.014683873392642,-0.157727256417274));
res += mul(Get(s0,0,dy), float4x4(0.056859880685806,0.029801499098539,0.007672701030970,0.110512383282185,0.138182520866394,-0.039047028869390,-0.016597410663962,0.096304439008236,-0.009588654153049,-0.046659260988235,0.051658406853676,0.104016304016113,-0.007900527678430,0.066236861050129,-0.101298697292805,-0.025038572028279));
res += mul(Get(s0,dx,-dy), float4x4(0.049161560833454,-0.082523360848427,0.051401060074568,-0.039437558501959,0.084963031113148,-0.181754827499390,0.053962744772434,0.075378671288490,-0.084768548607826,-0.041257932782173,-0.046548929065466,0.052282057702541,-0.028063775971532,-0.040831174701452,0.008935534395278,-0.044793304055929));
res += mul(Get(s0,dx,0), float4x4(0.042946893721819,-0.024354929104447,-0.059864014387131,-0.004929389338940,-0.211065918207169,0.090748965740204,-0.056034035980701,-0.062660567462444,-0.058964408934116,-0.032199438661337,0.051572505384684,-0.036167737096548,0.028411122038960,-0.109531931579113,0.123487628996372,0.031795606017113));
res += mul(Get(s0,dx,dy), float4x4(0.064822994172573,-0.037848539650440,-0.147960111498833,-0.029863148927689,-0.089756034314632,-0.132072195410728,0.044761732220650,-0.116068549454212,0.148678913712502,0.013471060432494,-0.117738910019398,0.098858058452606,0.073880888521671,-0.051909700036049,-0.192705467343330,-0.027532964944839));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023203745484352,0.114474125206470,-0.072003036737442,-0.215105861425400,0.046173058450222,0.048332568258047,0.094435602426529,0.023303324356675,0.088537707924843,-0.003663719864562,-0.046063356101513,-0.048974893987179,-0.082440838217735,-0.137459322810173,-0.024494396522641,-0.075421527028084));
res += mul(Get(s1,-dx,0), float4x4(-0.048481795936823,0.057390436530113,-0.197030112147331,0.140297219157219,-0.067956462502480,0.130901888012886,0.275006592273712,0.070022389292717,0.007289070170373,-0.029621005058289,0.037621285766363,0.045139931142330,-0.072742722928524,-0.116381011903286,0.020740645006299,0.228063330054283));
res += mul(Get(s1,-dx,dy), float4x4(-0.046906694769859,-0.024340275675058,0.087900862097740,0.096770428121090,0.219964951276779,-0.158592045307159,0.084653824567795,0.185016661882401,0.019576357677579,-0.093125902116299,0.174469992518425,0.120036646723747,0.009556246921420,0.076069444417953,-0.024188419803977,0.018784744665027));
res += mul(Get(s1,0,-dy), float4x4(-0.103233985602856,-0.098124399781227,-0.048365432769060,0.064178213477135,0.054931320250034,-0.189481973648071,-0.061410505324602,-0.180253267288208,-0.094585493206978,0.061293534934521,0.065488338470459,-0.154800117015839,0.063083529472351,-0.028787879273295,0.012712691910565,-0.094531849026680));
res += mul(Get(s1,0,0), float4x4(0.018847016617656,-0.077244415879250,-0.045573264360428,0.182333350181580,0.024786833673716,0.141920283436775,-0.001580324489623,0.024682836607099,0.000355179770850,-0.006332350429147,-0.119345448911190,0.100973874330521,0.026279121637344,0.153444737195969,0.019420752301812,-0.075962781906128));
res += mul(Get(s1,0,dy), float4x4(-0.028907660394907,-0.019374443218112,0.059571433812380,0.120012462139130,-0.042829297482967,0.076014801859856,0.021051136776805,-0.047580253332853,-0.109025754034519,0.191623926162720,0.005250071175396,0.114207014441490,-0.017366137355566,-0.030609421432018,0.011788662523031,-0.010357902385294));
res += mul(Get(s1,dx,-dy), float4x4(0.085481680929661,0.094093404710293,-0.219591334462166,-0.108908258378506,0.043260801583529,0.008403315208852,0.088435627520084,0.057924676686525,-0.091841921210289,0.014998056925833,-0.004905791487545,-0.073780596256256,0.081560976803303,0.040314804762602,-0.122225046157837,-0.037411358207464));
res += mul(Get(s1,dx,0), float4x4(-0.020033495500684,0.082132749259472,0.056490957736969,-0.175043687224388,-0.022475088015199,0.037374846637249,-0.127167060971260,-0.014919333159924,-0.046248175203800,-0.121214658021927,-0.064963988959789,-0.029374141246080,-0.079311288893223,0.041495028883219,0.142538025975227,0.062053736299276));
res += mul(Get(s1,dx,dy), float4x4(-0.031642552465200,0.063739709556103,0.103900723159313,-0.029955001547933,0.108080796897411,-0.101255826652050,-0.038305521011353,0.051405575126410,-0.039963323622942,-0.008437230251729,-0.028847439214587,0.000935688847676,-0.044310126453638,0.119974523782730,0.075380034744740,0.135642260313034));
res += mul(Get(s2,-dx,-dy), float4x4(-0.142463669180870,-0.033861994743347,0.046134434640408,0.011263857595623,-0.082416452467442,-0.041046451777220,0.105255983769894,0.082409709692001,0.139809176325798,-0.075914524495602,0.025666821748018,0.145612508058548,0.016887564212084,0.102111294865608,0.252477735280991,0.268122941255569));
res += mul(Get(s2,-dx,0), float4x4(0.073407411575317,0.144340246915817,-0.046172626316547,-0.091144554316998,-0.073758982121944,-0.255161374807358,-0.041059408336878,0.113009788095951,-0.087944947183132,0.099163770675659,-0.069958262145519,-0.050159733742476,-0.151653677225113,0.133001819252968,-0.041802927851677,-0.006618033163249));
res += mul(Get(s2,-dx,dy), float4x4(-0.037650346755981,0.036593604832888,0.026128446683288,0.062886923551559,-0.043455332517624,0.001408945885487,-0.056125164031982,0.028712583705783,-0.111380912363529,-0.001488733221777,-0.132665649056435,0.167770862579346,-0.013475430198014,-0.068036966025829,0.050305332988501,0.060409430414438));
res += mul(Get(s2,0,-dy), float4x4(0.035273563116789,0.000654854869936,0.031011607497931,-0.058791641145945,0.054755322635174,-0.103888653218746,0.104800581932068,-0.060894958674908,0.019027994945645,-0.036999776959419,-0.041046340018511,0.035405345261097,-0.030403489246964,-0.052380863577127,0.248170852661133,-0.073694691061974));
res += mul(Get(s2,0,0), float4x4(-0.012729311361909,0.242038652300835,-0.030049825087190,-0.057184249162674,0.073477491736412,0.033038679510355,0.159967392683029,0.070425570011139,-0.147094249725342,0.011261256411672,0.114192485809326,0.049367494881153,-0.159431681036949,0.000479074777104,0.048059172928333,0.027499241754413));
res += mul(Get(s2,0,dy), float4x4(-0.039953626692295,0.055164847522974,-0.084045797586441,0.134226694703102,0.021177541464567,0.171510934829712,0.021572962403297,-0.042452536523342,-0.034761913120747,-0.002685145707801,-0.000762582232710,0.006901796441525,-0.010033914819360,0.042476352304220,0.059272401034832,0.057391449809074));
res += mul(Get(s2,dx,-dy), float4x4(0.055150665342808,-0.137613773345947,-0.092157989740372,-0.123626150190830,0.025042988359928,-0.056597232818604,-0.100616507232189,-0.010166031308472,0.078915171325207,0.044095054268837,0.027281638234854,0.042252615094185,-0.007014419417828,-0.014673252590001,0.150875881314278,0.031484331935644));
res += mul(Get(s2,dx,0), float4x4(0.067571967840195,0.109000697731972,-0.032578077167273,-0.106438219547272,-0.088615782558918,0.030720457434654,0.084166526794434,-0.050580859184265,0.083008281886578,0.016076058149338,-0.080053888261318,0.045038152486086,-0.093084931373596,0.204859688878059,0.051573678851128,0.005776376929134));
res += mul(Get(s2,dx,dy), float4x4(0.092709809541702,0.014064503833652,-0.021047139540315,0.068805538117886,0.083739243447781,0.159427657723427,0.180448204278946,0.064261145889759,-0.106708094477654,-0.059398707002401,-0.014894518069923,-0.007300038356334,0.046988036483526,0.002002614317462,0.080063499510288,0.040089473128319));
res += mul(Get(s3,-dx,-dy), float4x4(-0.030470598489046,0.154022917151451,0.099227659404278,-0.032282855361700,0.088722288608551,0.098021447658539,0.031586863100529,0.123934961855412,0.086949825286865,-0.087808720767498,0.006589642725885,0.300045520067215,0.068175636231899,0.077388793230057,-0.048583392053843,0.101391620934010));
res += mul(Get(s3,-dx,0), float4x4(-0.092686943709850,0.122631944715977,-0.043966192752123,-0.307278275489807,-0.031816951930523,-0.089815765619278,-0.024138741195202,0.026831218972802,0.020620884373784,0.210284054279327,-0.026905840262771,0.029828278347850,-0.047327551990747,0.159691944718361,-0.017532438039780,0.058554418385029));
res += mul(Get(s3,-dx,dy), float4x4(0.017930839210749,0.110976301133633,-0.015403688885272,0.052778601646423,-0.131106525659561,-0.042747683823109,0.073521278798580,-0.023410772904754,-0.195208087563515,-0.158724799752235,-0.069984175264835,0.081111423671246,-0.054679732769728,0.131876647472382,-0.018744727596641,0.019116155803204));
res += mul(Get(s3,0,-dy), float4x4(-0.086337685585022,-0.069117732346058,-0.069355487823486,0.075257062911987,0.013605035841465,-0.063612334430218,-0.031912181526423,-0.261196076869965,-0.013203199021518,0.033454783260822,0.068487718701363,-0.023462630808353,0.122116111218929,-0.089758485555649,0.004325592424721,-0.095574341714382));
res += mul(Get(s3,0,0), float4x4(-0.041142955422401,0.236180335283279,0.073044598102570,0.152588933706284,-0.059216741472483,-0.204439789056778,0.128404915332794,0.096249021589756,-0.061642516404390,-0.147021606564522,0.066844992339611,-0.087407641112804,0.023453736677766,0.052158705890179,0.116969831287861,-0.085991740226746));
res += mul(Get(s3,0,dy), float4x4(0.022536933422089,0.048318009823561,-0.039479151368141,-0.285034209489822,-0.025564419105649,0.108705051243305,0.154887050390244,0.067966468632221,0.129295364022255,-0.055965296924114,-0.088981226086617,0.039104625582695,-0.017754061147571,0.036683883517981,-0.042458616197109,0.067874677479267));
res += mul(Get(s3,dx,-dy), float4x4(-0.176096647977829,-0.049205675721169,0.078375920653343,0.055219087749720,-0.013836145401001,0.250772804021835,-0.038493521511555,0.054437406361103,0.138924852013588,0.072025597095490,0.067972354590893,0.122182287275791,-0.024924671277404,0.017804449424148,0.003078822046518,0.048613127321005));
res += mul(Get(s3,dx,0), float4x4(-0.145595207810402,0.144381165504456,-0.030836503952742,0.160938575863838,0.156370326876640,0.043683271855116,0.135263368487358,0.008523480035365,-0.136000826954842,0.130739495158195,0.023650918155909,0.095614872872829,-0.098064042627811,-0.013035709969699,0.035137385129929,0.046633131802082));
res += mul(Get(s3,dx,dy), float4x4(-0.012745394371450,-0.127041414380074,0.051026590168476,-0.027776915580034,-0.064100615680218,-0.007478710729629,-0.125886574387550,-0.030534170567989,0.118165500462055,-0.100028052926064,-0.089318811893463,0.028060464188457,-0.178529784083366,-0.092600256204605,0.025264285504818,0.111200965940952));
return max(float4(0,0,0,0), res);
}
