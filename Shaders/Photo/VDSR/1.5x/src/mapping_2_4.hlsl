sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020450955256820,-0.015803974121809,0.011915028095245,0.038731519132853,-0.175111308693886,-0.008692441508174,-0.027911389246583,0.017927631735802,-0.006865987088531,0.013572932220995,0.011769966222346,0.021329639479518,-0.088961824774742,0.138675779104233,-0.130348220467567,0.055961135774851));
res += mul(Get(s0,-dx,0), float4x4(-0.016151985153556,-0.011608459055424,-0.014863538555801,0.008492135442793,-0.081414751708508,0.141711145639420,0.066690132021904,0.024106223136187,-0.004836721811444,0.038561396300793,-0.002045092172921,0.000676095311064,-0.000980309094302,0.037905175238848,-0.005426955875009,0.022144686430693));
res += mul(Get(s0,-dx,dy), float4x4(0.018004270270467,0.037051387131214,0.074873246252537,-0.019034320488572,-0.071459636092186,0.060730639845133,-0.023531896993518,0.043578375130892,-0.012960247695446,0.046884227544069,0.001907527563162,0.017403613775969,0.036376781761646,-0.066054940223694,-0.018671125173569,-0.021602476015687));
res += mul(Get(s0,0,-dy), float4x4(-0.004056073725224,-0.035773489624262,-0.002830633893609,0.009084952063859,-0.147270902991295,0.032434806227684,-0.012813436798751,0.026004986837506,-0.010034034028649,0.010507228784263,0.056715238839388,0.001350731705315,-0.033005565404892,-0.038853220641613,-0.038807295262814,0.138651803135872));
res += mul(Get(s0,0,0), float4x4(-0.012404875829816,0.003817021846771,-0.013178561814129,0.059537719935179,0.012062834575772,0.026005078107119,0.096782289445400,0.079921290278435,0.008484303951263,0.016242165118456,0.035806823521852,-0.021453307941556,0.053741101175547,-0.021472917869687,0.073959335684776,0.099805220961571));
res += mul(Get(s0,0,dy), float4x4(0.007771332748234,0.047332521528006,0.065319165587425,-0.032565917819738,-0.065754748880863,-0.017696285620332,0.123943738639355,-0.035559128969908,0.011009355075657,0.035586923360825,-0.015177007764578,-0.011004282161593,0.077938780188560,0.103159464895725,0.087925218045712,0.067814804613590));
res += mul(Get(s0,dx,-dy), float4x4(-0.007429043296725,-0.023932149633765,0.017191462218761,0.055322725325823,-0.082971185445786,0.037260055541992,-0.017912259325385,0.034275442361832,0.003447510069236,0.012741078622639,-0.010583030991256,-0.018938699737191,-0.017915846779943,-0.000001546937824,0.081024773418903,0.064409896731377));
res += mul(Get(s0,dx,0), float4x4(-0.013503453694284,0.004724190570414,0.005021422635764,0.016429405659437,-0.008345304057002,-0.041044067591429,-0.024714291095734,0.026486556977034,0.002590091899037,0.006459556054324,0.016887834295630,0.000868477567565,-0.054148480296135,0.031461913138628,0.046142593026161,-0.007300652097911));
res += mul(Get(s0,dx,dy), float4x4(-0.001012256019749,0.021087162196636,0.024844592437148,-0.003038008464500,-0.053678546100855,-0.002796893473715,0.056681782007217,0.020275011658669,0.015168542042375,0.017264563590288,0.021983269602060,0.019127156585455,-0.067255377769470,0.078787624835968,-0.042338371276855,-0.042171772569418));
res += mul(Get(s1,-dx,-dy), float4x4(0.017043702304363,-0.014294563792646,-0.009422471746802,-0.060604937374592,-0.041614972054958,-0.142937853932381,0.020846309140325,-0.009747725911438,0.064674757421017,0.046323843300343,0.136158183217049,0.061143442988396,0.067752443253994,0.187429174780846,-0.062519840896130,0.026358004659414));
res += mul(Get(s1,-dx,0), float4x4(0.038621250540018,-0.052590794861317,0.037172798067331,-0.054277781397104,0.088892765343189,0.119908101856709,0.017632661387324,0.101470299065113,0.196249574422836,-0.143815726041794,-0.058875110000372,0.179098084568977,0.048336364328861,0.125145956873894,0.040574971586466,0.149153739213943));
res += mul(Get(s1,-dx,dy), float4x4(0.050214931368828,-0.043965246528387,-0.015010919421911,0.043166689574718,0.087177596986294,0.018851406872272,-0.172845244407654,-0.170963048934937,-0.104282431304455,0.062716916203499,0.025066900998354,-0.138786941766739,0.000664665945806,-0.286648690700531,-0.034555025398731,-0.110266916453838));
res += mul(Get(s1,0,-dy), float4x4(0.004250924102962,0.052774459123611,0.036096803843975,0.000653062597848,0.024027083069086,0.016437588259578,-0.174605622887611,0.144873514771461,0.100155502557755,-0.110811494290829,-0.060014717280865,-0.094105750322342,-0.081352487206459,0.328024923801422,-0.068329252302647,-0.012124161235988));
res += mul(Get(s1,0,0), float4x4(-0.035365384072065,0.000348295579897,-0.034041114151478,0.033579651266336,-0.248020768165588,0.209087356925011,0.420578032732010,-0.342490673065186,0.037721976637840,0.017753258347511,0.201457262039185,0.193907469511032,-0.086478710174561,-0.252383232116699,0.261586606502533,-0.194580703973770));
res += mul(Get(s1,0,dy), float4x4(0.059483073651791,0.023327140137553,-0.075208157300949,0.067203514277935,0.200113400816917,-0.123597145080566,0.257892310619354,0.267192155122757,-0.044075123965740,0.046047382056713,-0.044528115540743,-0.083831429481506,0.004179066978395,-0.083686709403992,0.066678255796432,0.159020692110062));
res += mul(Get(s1,dx,-dy), float4x4(0.055873185396194,-0.019553491845727,0.028635153546929,0.036136399954557,0.050769384950399,0.094381384551525,0.068598955869675,0.017605226486921,0.067163556814194,-0.078530617058277,-0.053337130695581,-0.052709132432938,0.035272430628538,-0.163847535848618,0.226365759968758,-0.000418214767706));
res += mul(Get(s1,dx,0), float4x4(0.019648648798466,-0.036884717643261,-0.058497063815594,-0.077544391155243,0.023017633706331,-0.149884626269341,-0.141099572181702,-0.066549435257912,0.059594247490168,-0.047999981790781,-0.035158276557922,-0.001649897778407,0.161119461059570,-0.196167439222336,-0.310440093278885,0.316294640302658));
res += mul(Get(s1,dx,dy), float4x4(0.027081562206149,0.022434262558818,-0.044124331325293,0.035101890563965,0.055492103099823,-0.104969657957554,-0.110687009990215,0.186640188097954,-0.153667077422142,0.001397373271175,-0.096261143684387,-0.076817497611046,-0.147022485733032,0.337421298027039,-0.028646849095821,-0.276094973087311));
res += mul(Get(s2,-dx,-dy), float4x4(0.043465238064528,-0.001822992577218,0.005141334142536,-0.027810769155622,-0.098373450338840,0.030457617715001,0.008162149228156,-0.023323426023126,0.064884096384048,-0.051428336650133,-0.141582101583481,-0.029200654476881,-0.001673846971244,0.000014692462173,-0.004454799462110,-0.001683287904598));
res += mul(Get(s2,-dx,0), float4x4(0.108950801193714,0.020550306886435,-0.035228233784437,0.009040683507919,0.013836907222867,-0.003448880044743,0.042583595961332,0.049176950007677,0.162096083164215,-0.094279773533344,0.043774783611298,-0.039270896464586,-0.005755443591624,0.000023507202059,0.000779646274168,-0.001864969963208));
res += mul(Get(s2,-dx,dy), float4x4(0.020374864339828,0.052729524672031,0.039762701839209,0.005981913767755,-0.000297698075883,0.036988947540522,0.044452242553234,0.051031693816185,-0.052414502948523,0.037802062928677,0.007340864278376,0.007056066766381,0.004447489511222,-0.002336999634281,0.001360413269140,0.003687222721055));
res += mul(Get(s2,0,-dy), float4x4(0.064338013529778,0.009315309114754,0.006259450688958,0.056150078773499,-0.009845966473222,-0.035849243402481,-0.044314488768578,-0.002703181002289,0.037236999720335,-0.171063542366028,-0.058111935853958,0.083626672625542,0.002299363957718,0.003396391868591,0.001277753734030,-0.003694865154102));
res += mul(Get(s2,0,0), float4x4(0.031900651752949,-0.010594497434795,-0.028718646615744,0.009988471865654,0.032066754996777,-0.000520535570104,-0.028377346694469,-0.004135651048273,0.089077591896057,0.063917309045792,0.047718673944473,0.047477673739195,-0.002171710832044,-0.002192086307332,-0.002548356074840,0.003071597544476));
res += mul(Get(s2,0,dy), float4x4(0.000242853886448,-0.032720889896154,-0.010712514631450,0.109002389013767,-0.025903789326549,0.043221510946751,-0.018638886511326,0.032250270247459,-0.144559308886528,0.060137540102005,0.176243677735329,-0.041601914912462,-0.000166673053172,0.003469408722594,0.002605484100059,0.001853466383182));
res += mul(Get(s2,dx,-dy), float4x4(0.039980962872505,-0.102699719369411,0.013245618902147,0.058985773473978,-0.006254011299461,-0.048232179135084,0.026211336255074,-0.033822014927864,0.009014431387186,-0.213924139738083,0.009947541169822,0.003614194924012,0.001046228688210,0.005879444535822,-0.001962122740224,0.001851343433373));
res += mul(Get(s2,dx,0), float4x4(0.005868532229215,-0.117314182221889,0.009698331356049,-0.043916579335928,0.031339954584837,0.002384743886068,-0.028852215036750,0.024633662775159,0.019126312807202,-0.082973703742027,0.055211089551449,-0.012883908115327,-0.006908441893756,-0.000204324082006,0.005860225297511,-0.002970935311168));
res += mul(Get(s2,dx,dy), float4x4(-0.011091465130448,-0.009256842546165,-0.020099515095353,0.054143205285072,-0.006570115219802,0.024432970210910,0.011538793332875,0.001816962147132,-0.099723517894745,0.033280700445175,0.082600735127926,-0.040804024785757,0.003815422300249,0.000205524644116,0.001746119000018,-0.001312311622314));
res += mul(Get(s3,-dx,-dy), float4x4(0.007456834893674,-0.016159500926733,-0.032420050352812,-0.080876238644123,-0.063872605562210,0.118134200572968,-0.009657023474574,0.042305454611778,-0.006938838865608,-0.021759489551187,0.050355486571789,0.006311354693025,0.023591214790940,-0.060979552567005,-0.015094927512109,0.038014855235815));
res += mul(Get(s3,-dx,0), float4x4(0.018855094909668,0.055316746234894,-0.032638397067785,-0.029228273779154,-0.040423996746540,0.029364077374339,-0.002868356648833,0.025342909619212,0.015335733070970,-0.040523312985897,0.018093999475241,-0.035730082541704,-0.000237295578700,-0.078150279819965,0.024909511208534,-0.032031979411840));
res += mul(Get(s3,-dx,dy), float4x4(0.004877074621618,0.046863824129105,-0.011840794235468,-0.002394627546892,0.000902477710042,-0.003975601866841,0.002505265409127,-0.067300446331501,0.011243807151914,-0.054296109825373,0.010595712810755,0.005345250945538,-0.072836555540562,0.016557224094868,-0.068375520408154,-0.024670965969563));
res += mul(Get(s3,0,-dy), float4x4(0.034009233117104,0.037422947585583,-0.011627075262368,-0.013003002852201,0.124762237071991,-0.064576759934425,0.035601966083050,0.133476093411446,0.002467695623636,0.041283451020718,-0.002613498829305,-0.015715643763542,-0.071975745260715,-0.071129329502583,-0.068575523793697,0.010649763979018));
res += mul(Get(s3,0,0), float4x4(-0.011519812047482,0.128393203020096,-0.022384392097592,-0.024331115186214,0.098910763859749,-0.026301559060812,0.063966184854507,0.063106328248978,-0.040825303643942,0.049121383577585,-0.009966694749892,0.007570727728307,-0.052858594805002,0.195102423429489,0.122470453381538,0.031806387007236));
res += mul(Get(s3,0,dy), float4x4(-0.015664519742131,0.066422246396542,-0.052490700036287,-0.042184017598629,0.025633653625846,0.062654227018356,0.009787565097213,-0.043586410582066,0.020753948017955,0.081388853490353,-0.051716387271881,0.000951596884988,-0.160313516855240,0.037450794130564,0.052814889699221,0.051655754446983));
res += mul(Get(s3,dx,-dy), float4x4(0.028977194800973,0.004074051044881,0.032431766390800,-0.016244756057858,0.055177774280310,-0.007657555397600,-0.076680496335030,0.026041511446238,-0.008750461041927,0.064789757132530,0.029719715937972,0.013101872988045,-0.095628798007965,0.040323682129383,-0.001998757477850,0.138543605804443));
res += mul(Get(s3,dx,0), float4x4(0.002255483763292,0.059415880590677,0.012017533183098,0.004715508781374,-0.004708087071776,0.093697294592857,0.055404718965292,-0.003909427206963,0.051015708595514,-0.001786220353097,0.048604302108288,0.056018795818090,-0.184571236371994,0.063612647354603,-0.023497687652707,-0.015632838010788));
res += mul(Get(s3,dx,dy), float4x4(0.002160702832043,0.014509428292513,0.005031148903072,-0.041161157190800,-0.002995488001034,0.062841206789017,-0.014550059102476,-0.014322911389172,0.055342931300402,0.020969405770302,-0.008921644650400,-0.041450224816799,-0.259402334690094,-0.051960799843073,-0.028857409954071,0.182375475764275));
return max(float4(0,0,0,0), res);
}
