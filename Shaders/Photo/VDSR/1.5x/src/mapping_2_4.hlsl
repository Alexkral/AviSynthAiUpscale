sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015572382137179,-0.097851417958736,0.120580807328224,0.019236348569393,-0.208839356899261,0.094103537499905,0.022612987086177,-0.030527034774423,-0.057232551276684,-0.032409489154816,0.003747933078557,0.106509111821651,0.022515384480357,-0.026674149557948,-0.128999590873718,0.047284323722124));
res += mul(Get(s0,-dx,0), float4x4(-0.061817087233067,-0.083606667816639,0.132025808095932,0.038096375763416,0.032514628022909,-0.088604643940926,-0.005440029781312,0.062429737299681,-0.103746153414249,0.143171742558479,-0.174668818712234,0.011090056970716,-0.086672030389309,0.100664407014847,0.051922447979450,0.045261602848768));
res += mul(Get(s0,-dx,dy), float4x4(0.022471806034446,0.087996885180473,0.015501100569963,-0.147006079554558,-0.014524221420288,0.162139356136322,-0.031203191727400,0.233063727617264,-0.091450601816177,0.116383478045464,0.167738258838654,0.012092141434550,0.216390103101730,-0.062880232930183,-0.011660953052342,0.027498614042997));
res += mul(Get(s0,0,-dy), float4x4(-0.097801230847836,-0.025682261213660,-0.199970081448555,-0.037925615906715,-0.064701475203037,-0.072350412607193,0.092770867049694,-0.034927114844322,-0.031787741929293,0.038632873445749,-0.176635682582855,-0.050563160330057,0.036403514444828,-0.140592575073242,0.020311200991273,-0.148293077945709));
res += mul(Get(s0,0,0), float4x4(-0.039960298687220,-0.110189534723759,-0.015149866230786,0.074841812252998,-0.001515885232948,0.034950695931911,-0.090544380247593,0.023936819285154,0.008909173309803,-0.047176599502563,0.034931853413582,-0.018157323822379,0.170768737792969,-0.010968116112053,0.059174016118050,0.013063793070614));
res += mul(Get(s0,0,dy), float4x4(0.123463124036789,-0.097850516438484,0.024975400418043,0.147271573543549,0.094776257872581,-0.193082749843597,-0.007427733857185,0.065784931182861,0.059071868658066,0.133744567632675,0.088337041437626,0.112678252160549,-0.039721585810184,0.075117893517017,-0.027373755350709,0.029276249930263));
res += mul(Get(s0,dx,-dy), float4x4(0.034533120691776,0.030188383534551,0.244786769151688,-0.022503986954689,-0.062925755977631,-0.085620485246181,0.049765884876251,-0.099778100848198,0.031693905591965,0.074051737785339,-0.098570011556149,0.006112859584391,-0.040118347853422,0.078820325434208,0.105162158608437,0.076366767287254));
res += mul(Get(s0,dx,0), float4x4(0.073560543358326,0.010577220469713,0.125432342290878,-0.045473068952560,0.112723283469677,-0.041342165321112,-0.149155646562576,-0.171857252717018,0.239477723836899,-0.119389057159424,0.044279914349318,0.103078708052635,0.119966581463814,-0.037363182753325,-0.121324181556702,-0.167102411389351));
res += mul(Get(s0,dx,dy), float4x4(-0.069893397390842,-0.046530172228813,0.032861258834600,-0.115571178495884,-0.072429925203323,-0.106623254716396,0.126423597335815,-0.000131015636725,0.063041739165783,-0.053735475987196,-0.082787163555622,-0.044611036777496,-0.023082504048944,0.126539766788483,-0.161567553877831,0.056129772216082));
res += mul(Get(s1,-dx,-dy), float4x4(-0.134785562753677,0.092098265886307,-0.143631994724274,-0.120504304766655,0.022954922169447,-0.062766909599304,0.062879152595997,-0.067377790808678,-0.000930603826419,-0.029839662835002,0.049159709364176,0.013493908569217,0.023803131654859,0.135484591126442,0.082084521651268,-0.050787709653378));
res += mul(Get(s1,-dx,0), float4x4(-0.104063548147678,-0.155994594097137,0.161248996853828,-0.142838969826698,0.081697367131710,-0.039306133985519,-0.097022674977779,-0.039100356400013,-0.042051050812006,0.133520260453224,-0.022423967719078,-0.139323621988297,0.087139621376991,0.073418624699116,0.063805960118771,-0.162531986832619));
res += mul(Get(s1,-dx,dy), float4x4(0.099796704947948,-0.070334054529667,-0.103787168860435,-0.001797554781660,0.077340528368950,-0.016341019421816,0.016300622373819,-0.062962993979454,-0.178162366151810,-0.067918054759502,0.010756392963231,-0.048567488789558,-0.106341414153576,0.008695716969669,-0.092748664319515,-0.071264743804932));
res += mul(Get(s1,0,-dy), float4x4(-0.007712734397501,0.085561968386173,0.046551004052162,-0.046308230608702,0.031056590378284,0.118026331067085,-0.091898202896118,0.033955149352551,-0.032992545515299,-0.033011712133884,-0.173289120197296,0.133898735046387,0.045625571161509,-0.059961032122374,0.040572255849838,-0.048520717769861));
res += mul(Get(s1,0,0), float4x4(0.137695744633675,0.152910381555557,-0.014337892644107,-0.019597239792347,0.072999320924282,-0.027355905622244,-0.023915816098452,0.002957022981718,-0.042615026235580,0.069702140986919,0.062192417681217,-0.018621617928147,-0.006468094885349,-0.010039289481938,-0.008350982330739,0.014783564023674));
res += mul(Get(s1,0,dy), float4x4(0.117767065763474,-0.139896154403687,0.024449447169900,0.083583258092403,0.003060802584514,0.033084779977798,0.044533811509609,-0.035096317529678,0.003571110079065,-0.108627408742905,-0.030375294387341,-0.014687343500555,0.004338492639363,0.062979340553284,-0.023921310901642,-0.010716985911131));
res += mul(Get(s1,dx,-dy), float4x4(0.150905817747116,-0.048764374107122,-0.085247404873371,-0.035338878631592,0.110676512122154,0.048799969255924,-0.087870821356773,-0.069496646523476,-0.006646564695984,-0.132926166057587,0.001898655318655,-0.037388052791357,0.124850273132324,-0.064528644084930,0.053717218339443,0.033281803131104));
res += mul(Get(s1,dx,0), float4x4(0.155329450964928,0.066459327936172,-0.021466713398695,0.030000373721123,-0.016002861782908,0.042861655354500,-0.001096365740523,0.104605704545975,-0.098496958613396,-0.047634255141020,0.035180713981390,0.019238905981183,0.019457960501313,0.026810083538294,-0.044753182679415,0.066406071186066));
res += mul(Get(s1,dx,dy), float4x4(0.028417563065886,-0.099473319947720,-0.130622223019600,0.098974436521530,-0.147165372967720,0.077418208122253,-0.054712869226933,-0.019904812797904,0.036680027842522,-0.034583289176226,0.170435279607773,0.062928430736065,-0.035681214183569,-0.076881095767021,-0.058362387120724,0.082335442304611));
res += mul(Get(s2,-dx,-dy), float4x4(-0.032955918461084,0.007668409496546,0.086359918117523,0.068700499832630,0.015511117875576,-0.148267596960068,-0.048316121101379,-0.104562863707542,0.046771604567766,-0.096091888844967,0.041609819978476,0.064600765705109,0.083730071783066,-0.108205467462540,-0.079093538224697,-0.048139482736588));
res += mul(Get(s2,-dx,0), float4x4(0.055044319480658,-0.092146001756191,0.030513104051352,0.027018954977393,-0.011158075183630,-0.094940215349197,0.014866795390844,-0.053393106907606,0.098664522171021,0.057361170649529,0.032082881778479,0.028413685038686,0.064948640763760,0.144105896353722,-0.022460497915745,-0.077126681804657));
res += mul(Get(s2,-dx,dy), float4x4(0.088294632732868,-0.009686999954283,-0.034230101853609,-0.090507432818413,-0.011567830108106,-0.034619223326445,0.026302920654416,0.007187240757048,0.168413832783699,0.054031953215599,0.156180188059807,0.059656359255314,0.142577260732651,-0.060134582221508,0.110423244535923,0.010387020185590));
res += mul(Get(s2,0,-dy), float4x4(0.083206914365292,0.120582886040211,0.015060340985656,0.010122504085302,-0.062148153781891,-0.173794373869896,0.156417518854141,-0.201727852225304,0.036605767905712,0.035843372344971,-0.216481879353523,-0.103411726653576,-0.080489292740822,-0.013303364627063,-0.131791085004807,0.119559526443481));
res += mul(Get(s2,0,0), float4x4(-0.229327917098999,-0.044279910624027,0.068521380424500,-0.098590254783630,0.054777581244707,-0.024210700765252,0.086628474295139,0.124191828072071,-0.009568759240210,0.027224481105804,-0.062990039587021,0.127506032586098,0.038393951952457,-0.046191275119781,-0.131492331624031,0.013761924579740));
res += mul(Get(s2,0,dy), float4x4(-0.077770486474037,0.046047277748585,0.110686637461185,-0.108674824237823,-0.230740964412689,-0.121386326849461,0.042337007820606,0.020108170807362,-0.232712566852570,-0.054361708462238,0.053107578307390,0.156197652220726,-0.058898709714413,-0.108926169574261,0.027875281870365,-0.102247722446918));
res += mul(Get(s2,dx,-dy), float4x4(-0.020882068201900,0.121026135981083,0.072998970746994,-0.194817200303078,0.209340035915375,-0.049609191715717,-0.011770895682275,-0.099140301346779,-0.034566804766655,-0.093037396669388,0.202320799231529,-0.170467644929886,-0.025491515174508,-0.109267003834248,0.110995315015316,-0.000740724964999));
res += mul(Get(s2,dx,0), float4x4(0.061247300356627,0.018815089017153,-0.021010475233197,-0.051293313503265,-0.111903004348278,0.134154275059700,-0.112424977123737,-0.081330269575119,-0.170753344893456,0.100821748375893,0.091455779969692,0.094943352043629,-0.033836785703897,0.004655043594539,0.022727126255631,-0.029855333268642));
res += mul(Get(s2,dx,dy), float4x4(0.053796570748091,-0.091931320726871,0.096642136573792,0.015124456025660,-0.028151154518127,0.143518999218941,-0.037412270903587,0.120658673346043,0.228285029530525,-0.041584596037865,-0.200047999620438,0.107786022126675,0.141616240143776,-0.037473730742931,-0.108449779450893,0.032094430178404));
res += mul(Get(s3,-dx,-dy), float4x4(0.096014261245728,0.066233821213245,0.014854492619634,-0.109013080596924,0.072986692190170,0.039901461452246,-0.025122068822384,0.110952213406563,0.036302335560322,-0.041509356349707,-0.004032595548779,0.035298503935337,0.131585434079170,-0.021184952929616,-0.109988935291767,-0.089627459645271));
res += mul(Get(s3,-dx,0), float4x4(0.114563316106796,-0.026237301528454,0.053511567413807,-0.017467452213168,-0.009519445709884,0.038375500589609,0.080774642527103,-0.068840555846691,-0.154346033930779,0.115535184741020,0.057028602808714,0.066413268446922,0.002820519730449,0.048715300858021,0.070776909589767,0.012969078496099));
res += mul(Get(s3,-dx,dy), float4x4(0.104386471211910,-0.119961984455585,0.029998542740941,-0.087962575256824,-0.035769682377577,0.168505206704140,-0.116957344114780,-0.072136379778385,-0.007910877466202,0.031333528459072,-0.066120848059654,-0.034175205975771,-0.107135564088821,0.168634280562401,0.004997774492949,0.117558978497982));
res += mul(Get(s3,0,-dy), float4x4(-0.001212892821059,0.097920127213001,-0.101821005344391,-0.096552796661854,-0.034389752894640,0.093361422419548,0.006104679778218,-0.263033747673035,-0.157735809683800,-0.062052957713604,-0.020859824493527,-0.021026838570833,-0.003242564387619,-0.017078978940845,-0.078441433608532,-0.104280546307564));
res += mul(Get(s3,0,0), float4x4(0.020631747320294,-0.006740229669958,0.028907941654325,0.096889220178127,0.162502199411392,-0.013792669400573,0.074682645499706,0.048123694956303,0.035447720438242,0.154565066099167,-0.064765796065331,0.202297300100327,0.125676199793816,0.081437200307846,0.079853251576424,-0.025976421311498));
res += mul(Get(s3,0,dy), float4x4(-0.034137677401304,0.191010013222694,-0.002571776742116,-0.120771564543247,0.107317455112934,-0.147515758872032,-0.298842430114746,-0.164319366216660,0.084042258560658,0.007946803234518,0.051119662821293,-0.024722700938582,-0.005452756769955,0.039750218391418,0.054967150092125,0.083808854222298));
res += mul(Get(s3,dx,-dy), float4x4(-0.031549222767353,0.046051964163780,0.020950609818101,0.000151584768901,-0.147215962409973,-0.112899214029312,0.161680534482002,0.053192112594843,-0.031682830303907,0.126091137528419,-0.042615573853254,0.057546664029360,-0.053755942732096,-0.027851963415742,-0.084749490022659,-0.153242886066437));
res += mul(Get(s3,dx,0), float4x4(-0.062240868806839,-0.081127583980560,-0.098146148025990,-0.055774062871933,0.118696577847004,-0.193916097283363,-0.107938967645168,-0.146521165966988,0.002754045883194,0.040500227361917,0.079704731702805,0.072088353335857,-0.055353265255690,-0.107334330677986,-0.011910567060113,0.064136095345020));
res += mul(Get(s3,dx,dy), float4x4(0.036064483225346,0.026194218546152,0.043474290519953,0.099404796957970,-0.118947833776474,0.046772062778473,-0.048818819224834,-0.004708055406809,0.007942688651383,-0.155533701181412,0.012990268878639,0.061058904975653,0.098078936338425,-0.038168758153915,-0.078697673976421,-0.038542401045561));
return max(float4(0,0,0,0), res);
}
