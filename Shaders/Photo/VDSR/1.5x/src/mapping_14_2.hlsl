sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.015637019649148,-0.045259017497301,0.030751138925552,-0.003600484225899,0.055152319371700,-0.016941700130701,0.002910070586950,-0.039109095931053,0.015843702480197,-0.004260343033820,0.029610369354486,0.091779328882694,-0.034938830882311,0.121291153132915,-0.009498677216470,0.007299990858883));
res += mul(Get(s0,-dx,0), float4x4(-0.012748147360981,-0.013553142547607,0.022288402542472,-0.010917956009507,0.065159611403942,0.025209525600076,0.109563648700714,0.046783406287432,-0.053185068070889,0.050908271223307,0.039302736520767,0.073617577552795,0.063433647155762,-0.039050471037626,-0.001094206119888,-0.029208181425929));
res += mul(Get(s0,-dx,dy), float4x4(-0.046060688793659,-0.045470498502254,-0.072527036070824,-0.033385302871466,-0.039405938237906,-0.023299898952246,0.015313717536628,0.045236919075251,-0.009931673295796,0.085435755550861,0.033170938491821,0.053665895015001,-0.015845892950892,-0.032228369265795,-0.002304727910087,-0.036183446645737));
res += mul(Get(s0,0,-dy), float4x4(0.044523540884256,0.038646645843983,0.070469677448273,-0.026482744142413,-0.012608814984560,0.032072138041258,-0.097274661064148,-0.055879641324282,-0.005759359337389,0.087334543466568,0.030369434505701,0.032070208340883,-0.019400298595428,0.076895810663700,0.088125258684158,0.004752092063427));
res += mul(Get(s0,0,0), float4x4(0.016807848587632,0.053528599441051,0.028667284175754,-0.032410800457001,0.008658047765493,0.048980578780174,-0.097280144691467,-0.052216112613678,0.045376647263765,0.072447024285793,0.066142849624157,0.068020947277546,0.152314469218254,0.001126260263845,0.079274490475655,0.012292291969061));
res += mul(Get(s0,0,dy), float4x4(-0.054282184690237,0.013863028958440,-0.074717566370964,-0.047512218356133,-0.007318653631955,0.005201220046729,-0.049673672765493,0.072454653680325,0.017189735546708,0.030161466449499,0.049155000597239,0.170440450310707,-0.032386191189289,0.044096395373344,-0.071522489190102,-0.111964754760265));
res += mul(Get(s0,dx,-dy), float4x4(0.015832016244531,0.031323131173849,0.109331026673317,-0.034504760056734,-0.024148110300303,0.054886292666197,-0.136143803596497,0.015856971964240,-0.006929149385542,0.005478649400175,0.027197545394301,0.097285285592079,-0.020529773086309,0.055791087448597,-0.008312208577991,-0.057091601192951));
res += mul(Get(s0,dx,0), float4x4(-0.056717734783888,-0.019082078710198,0.108404882252216,-0.005870988592505,0.018163768574595,-0.070568539202213,-0.129588842391968,-0.047946698963642,-0.030732188373804,0.052195005118847,-0.021508457139134,-0.039817225188017,0.043757110834122,-0.069351553916931,-0.013607286848128,-0.046992093324661));
res += mul(Get(s0,dx,dy), float4x4(-0.005909371655434,-0.002048962749541,0.063234515488148,-0.018793515861034,-0.020772678777575,0.109411709010601,-0.048946671187878,-0.016652330756187,-0.028938341885805,0.003718987340108,0.049953334033489,0.104090720415115,-0.032744299620390,-0.010326542891562,0.033268254250288,-0.105059780180454));
res += mul(Get(s1,-dx,-dy), float4x4(0.003189152339473,-0.095782592892647,0.003282833611593,0.028290156275034,-0.022849718108773,-0.066978357732296,-0.084017321467400,-0.026136344298720,-0.025118438526988,0.011839895509183,0.005962084513158,-0.010448750108480,0.043643686920404,0.070082023739815,0.074152365326881,-0.021982084959745));
res += mul(Get(s1,-dx,0), float4x4(0.137399777770042,-0.012142591178417,0.097612649202347,0.016234464943409,-0.004439135082066,-0.043511383235455,0.021584445610642,0.005354790948331,-0.046848550438881,0.051521334797144,-0.022097218781710,-0.018467837944627,0.023170601576567,-0.081155791878700,0.018776219338179,-0.046810232102871));
res += mul(Get(s1,-dx,dy), float4x4(-0.051283948123455,-0.053737271577120,-0.036939159035683,-0.004129625391215,-0.042171388864517,-0.050820223987103,0.078933738172054,0.050938945263624,-0.076208844780922,-0.082542240619659,0.011597587727010,0.087645299732685,0.005439064465463,-0.017193851992488,0.015958990901709,-0.008571359328926));
res += mul(Get(s1,0,-dy), float4x4(-0.025339145213366,-0.111930266022682,-0.007478064857423,0.087656296789646,0.041271254420280,-0.010150829330087,0.009434665553272,-0.061974495649338,-0.053716275840998,-0.027429595589638,-0.027616472914815,0.073428906500340,-0.033120211213827,0.080214053392410,-0.030722176656127,-0.028972476720810));
res += mul(Get(s1,0,0), float4x4(-0.062461316585541,0.040055803954601,-0.015130292624235,-0.082525476813316,-0.015191935934126,0.004234832245857,-0.020056625828147,0.111691005527973,-0.062941402196884,0.119809642434120,0.067445814609528,-0.081745415925980,0.107241362333298,-0.038969255983829,0.015464268624783,0.000164949524333));
res += mul(Get(s1,0,dy), float4x4(-0.074263758957386,-0.108294405043125,-0.117813639342785,0.006109335925430,-0.000782837742008,-0.043727964162827,0.003791821654886,0.004038079176098,-0.108148619532585,-0.074246421456337,0.044125229120255,0.169048607349396,0.007631239946932,-0.038001105189323,0.010684315115213,-0.022573953494430));
res += mul(Get(s1,dx,-dy), float4x4(0.047505475580692,-0.005402614362538,-0.003592030843720,-0.056481704115868,0.007117982953787,0.032057762145996,0.039450485259295,-0.010891632176936,-0.031581923365593,-0.003372671781108,-0.012913879007101,-0.035565555095673,0.064053386449814,0.055562391877174,0.031731024384499,0.084240756928921));
res += mul(Get(s1,dx,0), float4x4(0.031655240803957,-0.044336173683405,0.086452782154083,0.054645501077175,0.004135907161981,-0.074503764510155,0.124848283827305,-0.016462434083223,-0.040041405707598,0.085018321871758,0.059243798255920,-0.005820072256029,0.014229972846806,-0.016129696741700,-0.033776272088289,-0.016510389745235));
res += mul(Get(s1,dx,dy), float4x4(-0.045833326876163,-0.013863044790924,0.025961427018046,-0.010242708958685,-0.009670075029135,0.041459515690804,0.135509893298149,0.020841272547841,-0.096645772457123,0.004956594202667,-0.022066861391068,0.139349535107613,0.004653062671423,-0.042949844151735,-0.014358274638653,-0.025017777457833));
res += mul(Get(s2,-dx,-dy), float4x4(0.023359650745988,-0.014021183364093,-0.048198584467173,-0.013301256112754,0.007636875379831,-0.011664212681353,-0.049968533217907,-0.066989682614803,0.017658531665802,0.008903529495001,-0.023695385083556,-0.045364324003458,-0.027572425082326,0.065335273742676,-0.019449226558208,-0.005362898111343));
res += mul(Get(s2,-dx,0), float4x4(-0.069314911961555,-0.022943351417780,-0.059792395681143,-0.008225683122873,0.013526052236557,0.018644182011485,-0.037620522081852,-0.040597148239613,0.040979076176882,0.037891425192356,0.188777193427086,0.059785112738609,-0.064706765115261,-0.050384759902954,-0.013345534913242,-0.101682096719742));
res += mul(Get(s2,-dx,dy), float4x4(-0.043909810483456,-0.056275792419910,-0.026948798447847,0.006418994627893,-0.090895190834999,-0.007336718961596,-0.024802254512906,-0.029977736994624,-0.122308112680912,-0.001105572911911,0.098382398486137,-0.109591931104660,-0.023842934519053,-0.046529628336430,0.082606628537178,-0.055188622325659));
res += mul(Get(s2,0,-dy), float4x4(0.037987362593412,0.016373045742512,0.002026197500527,-0.043605566024780,0.041854284703732,-0.006539745256305,-0.095367528498173,-0.081532239913940,0.028674501925707,-0.114354021847248,-0.097227983176708,0.015322289429605,-0.030695585533977,-0.046158291399479,0.058941069990396,-0.056040186434984));
res += mul(Get(s2,0,0), float4x4(-0.003952148836106,-0.078570246696472,0.084144212305546,0.192416802048683,-0.019954368472099,0.120696999132633,-0.019819898530841,0.027391450479627,0.020076785236597,0.096113033592701,-0.027752527967095,0.008723773993552,-0.011630776338279,-0.033118691295385,0.078259631991386,0.013833558186889));
res += mul(Get(s2,0,dy), float4x4(-0.027323065325618,0.091825671494007,-0.038903865963221,-0.068559244275093,-0.085042774677277,-0.038125336170197,-0.021557401865721,0.001299344818108,0.018524689599872,-0.095235757529736,-0.018418550491333,-0.117411524057388,-0.023855468258262,-0.022049231454730,-0.020193690434098,-0.039374507963657));
res += mul(Get(s2,dx,-dy), float4x4(0.056189641356468,0.120258033275604,-0.073624141514301,-0.064706519246101,0.064640782773495,-0.077140219509602,-0.082101769745350,0.023997906595469,0.075087748467922,-0.069593898952007,-0.055784914642572,0.038973912596703,0.036752089858055,0.030851563438773,-0.150700256228447,-0.093964129686356));
res += mul(Get(s2,dx,0), float4x4(0.054669611155987,0.026297597214580,-0.017003156244755,0.102486021816730,-0.122479431331158,-0.036596670746803,-0.124010354280472,-0.097125686705112,-0.059759233146906,-0.001602848758921,0.005464088171721,-0.079782798886299,0.066666848957539,0.121121324598789,-0.021291164681315,0.016906622797251));
res += mul(Get(s2,dx,dy), float4x4(-0.122407890856266,0.033899959176779,0.032562147825956,-0.004795341752470,-0.068831808865070,-0.035211652517319,-0.119911104440689,0.044282212853432,0.020955419167876,-0.103917412459850,-0.051712382584810,-0.057001482695341,-0.082743696868420,0.007606712169945,-0.066693507134914,-0.010126220993698));
res += mul(Get(s3,-dx,-dy), float4x4(-0.047593690454960,0.012973733246326,-0.109868206083775,-0.001143064233474,-0.016092125326395,-0.036646630614996,0.037617597728968,0.030613902956247,-0.003519760211930,-0.013780436478555,0.070979543030262,0.004892920609564,0.013677620328963,0.026377981528640,0.027622627094388,0.043967116624117));
res += mul(Get(s3,-dx,0), float4x4(0.063047587871552,0.066661857068539,-0.017720980569720,-0.006619278341532,-0.043226830661297,0.102833166718483,0.005444386042655,-0.076339647173882,-0.010053380392492,-0.033494144678116,0.005282085854560,0.123515613377094,0.116824157536030,0.051103577017784,0.025670252740383,-0.002808541990817));
res += mul(Get(s3,-dx,dy), float4x4(-0.034664295613766,0.046799190342426,-0.003855546936393,-0.080464884638786,0.064456246793270,0.120180726051331,0.004419616423547,0.020768785849214,-0.035577122122049,0.016981093212962,0.047049574553967,-0.033904403448105,-0.016154855489731,0.042952343821526,0.009446758776903,0.014726899564266));
res += mul(Get(s3,0,-dy), float4x4(-0.030655538663268,0.091714814305305,-0.064368836581707,0.134579971432686,0.088010437786579,-0.026623982936144,0.003305730875582,0.086383476853371,-0.033752866089344,-0.046957228332758,0.098168246448040,-0.080275721848011,0.042650908231735,-0.113383650779724,-0.016286799684167,0.091279931366444));
res += mul(Get(s3,0,0), float4x4(0.065006762742996,0.095821097493172,-0.036710340529680,0.014711068011820,-0.030099602416158,0.084016360342503,-0.070943020284176,0.052313134074211,0.012956944294274,-0.061073396354914,0.231894254684448,0.005849097855389,0.056003253906965,0.096972465515137,0.026909010484815,-0.016884587705135));
res += mul(Get(s3,0,dy), float4x4(-0.051062028855085,-0.015009825117886,-0.049124680459499,0.094809927046299,0.038988474756479,0.039601974189281,0.014406918548048,-0.037929605692625,-0.087476879358292,-0.110494583845139,0.122411958873272,0.164374247193336,-0.025854289531708,0.075928084552288,0.042666096240282,-0.016092924401164));
res += mul(Get(s3,dx,-dy), float4x4(-0.010397300124168,-0.003828981891274,-0.003235042095184,0.099028564989567,0.072329767048359,-0.030377535149455,-0.046322032809258,-0.022724591195583,-0.030936615541577,-0.070296354591846,0.015425217337906,-0.021795485168695,0.048621002584696,0.067796595394611,-0.021438781172037,0.039509154856205));
res += mul(Get(s3,dx,0), float4x4(-0.026871809735894,-0.001663976698183,0.064358599483967,0.001238254364580,-0.046342767775059,0.034186806529760,0.009005948901176,0.047187060117722,0.022793244570494,-0.067017480731010,-0.084980331361294,-0.088257014751434,0.050999391824007,0.054857794195414,0.019174605607986,0.011532666161656));
res += mul(Get(s3,dx,dy), float4x4(-0.123913966119289,-0.036022111773491,-0.028892628848553,0.009113646112382,0.000484926189529,0.070554859936237,0.022664327174425,-0.055982220917940,-0.113681919872761,-0.009959705173969,-0.045017942786217,0.058175481855869,-0.009851709008217,0.022243851795793,0.008733991533518,-0.034326735883951));
return max(float4(0,0,0,0), res);
}
