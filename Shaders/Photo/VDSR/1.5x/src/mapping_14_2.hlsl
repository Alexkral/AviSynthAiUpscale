sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.004662820138037,-0.081684060394764,-0.029245376586914,0.005432933103293,0.028096728026867,0.000363451341400,0.159671485424042,-0.002054268959910,0.062143892049789,0.091895014047623,0.053867898881435,0.128773853182793,-0.082731693983078,-0.154373601078987,-0.111793659627438,-0.111714906990528));
res += mul(Get(s0,-dx,0), float4x4(-0.075472369790077,0.067090570926666,0.145863011479378,-0.022991059347987,0.009653083048761,-0.061500933021307,0.153488412499428,0.006480493117124,0.113310709595680,-0.091381132602692,0.065209560096264,0.017029441893101,-0.035748708993196,-0.207051590085030,-0.080012775957584,0.101070292294025));
res += mul(Get(s0,-dx,dy), float4x4(-0.029307018965483,-0.054107833653688,-0.132818758487701,-0.074241094291210,-0.010870381258428,-0.001124685979448,0.076218709349632,-0.043394174426794,-0.054923139512539,-0.085022494196892,0.190193235874176,0.032001115381718,-0.086338162422180,0.045936707407236,0.095835968852043,0.200307771563530));
res += mul(Get(s0,0,-dy), float4x4(0.164002805948257,-0.040737360715866,0.035386256873608,-0.046668928116560,0.025845954194665,0.179557144641876,-0.008298711851239,0.022132355719805,0.044765461236238,-0.011731516569853,0.040732394903898,-0.061235360801220,0.144152879714966,0.021509872749448,0.104036077857018,-0.071491271257401));
res += mul(Get(s0,0,0), float4x4(-0.029373172670603,0.024422571063042,0.075700603425503,0.052499685436487,0.079880282282829,0.091371379792690,0.066943898797035,-0.012656498700380,-0.022528234869242,-0.003249377245083,-0.158878073096275,0.059424441307783,-0.063000902533531,-0.043801758438349,-0.110180929303169,0.128117546439171));
res += mul(Get(s0,0,dy), float4x4(0.017129333689809,0.054822351783514,0.090190090239048,0.049623396247625,-0.004252978600562,-0.041388627141714,0.097154632210732,0.173713684082031,-0.068902529776096,-0.185936167836189,0.066293083131313,0.007264411542565,-0.222182095050812,-0.020972987636924,0.073852136731148,-0.133264929056168));
res += mul(Get(s0,dx,-dy), float4x4(0.039278823882341,-0.020229337736964,-0.099506624042988,0.114188902080059,0.128427550196648,0.154222756624222,0.013911671005189,-0.027720665559173,0.037202451378107,-0.023870613425970,-0.009836995974183,-0.074059538543224,0.083063058555126,0.055935341864824,-0.096073366701603,0.044849932193756));
res += mul(Get(s0,dx,0), float4x4(-0.186511233448982,0.007230982184410,0.099053367972374,0.062347657978535,-0.037680599838495,-0.043817956000566,0.093674004077911,-0.072218425571918,0.086044840514660,0.121309325098991,0.075174555182457,0.065780349075794,-0.144587174057961,0.026735994964838,0.024538686499000,0.101621881127357));
res += mul(Get(s0,dx,dy), float4x4(-0.032582338899374,0.039168376475573,-0.008352688513696,0.093095146119595,0.021571770310402,0.001901624375023,-0.003552324604243,0.063129760324955,-0.065302036702633,-0.012972162105143,-0.014653081074357,-0.060693975538015,-0.082551814615726,0.020986588671803,0.074330016970634,-0.115517176687717));
res += mul(Get(s1,-dx,-dy), float4x4(0.018684474751353,0.032173179090023,-0.097783364355564,-0.077329508960247,0.015748390927911,-0.003478096099570,-0.032570015639067,-0.086800001561642,0.044089935719967,0.110219530761242,-0.094734899699688,0.016672376543283,0.043153222650290,0.005170155316591,-0.003103073919192,-0.084292985498905));
res += mul(Get(s1,-dx,0), float4x4(0.025691423565149,0.018869243562222,-0.007575363852084,0.013259515166283,-0.045691937208176,-0.084788076579571,-0.106311641633511,0.039284359663725,0.117015942931175,-0.074431367218494,0.088876619935036,-0.143255949020386,-0.119485177099705,0.002317951992154,0.031324703246355,0.093042679131031));
res += mul(Get(s1,-dx,dy), float4x4(-0.046503458172083,0.060200363397598,0.000265314272838,-0.003802815917879,-0.016858762130141,-0.010470121167600,-0.067981265485287,-0.118066050112247,-0.104838162660599,0.022383328527212,0.115040116012096,0.032918401062489,-0.160811781883240,0.057030744850636,-0.043522268533707,-0.021915255114436));
res += mul(Get(s1,0,-dy), float4x4(0.039876144379377,-0.091491386294365,0.055292036384344,0.001088969642296,0.094305977225304,-0.016891082748771,-0.097605831921101,-0.143788471817970,-0.090800642967224,-0.035509146749973,0.075345844030380,0.234153136610985,-0.081489235162735,0.022585237398744,-0.045702520757914,0.043656930327415));
res += mul(Get(s1,0,0), float4x4(-0.000140065618325,-0.075307592749596,0.068675689399242,-0.071334108710289,-0.029481975361705,0.025414671748877,0.029933502897620,0.114415213465691,0.067873604595661,-0.003561251331121,-0.142881393432617,-0.073834858834743,0.012788295745850,0.051403991878033,-0.018558681011200,0.157923638820648));
res += mul(Get(s1,0,dy), float4x4(0.028885308653116,-0.081768549978733,0.021726246923208,0.083258956670761,0.009354175068438,-0.001546121435240,-0.027681196108460,-0.093017190694809,-0.048148892819881,0.056302055716515,0.091846480965614,0.203368902206421,-0.055166020989418,0.067505083978176,0.071284264326096,0.047919783741236));
res += mul(Get(s1,dx,-dy), float4x4(-0.027965545654297,0.094545498490334,0.036734417080879,0.056060753762722,0.073773130774498,0.040375009179115,-0.038190577179193,-0.040544386953115,-0.046102240681648,0.057592645287514,0.043211895972490,0.043652661144733,0.182267814874649,-0.078692600131035,-0.020555451512337,0.128542616963387));
res += mul(Get(s1,dx,0), float4x4(0.146925896406174,0.047858573496342,0.119370140135288,0.021121714264154,-0.052964489907026,0.038463782519102,0.037749022245407,-0.003950491547585,0.013411836698651,-0.021835949271917,-0.189561739563942,-0.008700548671186,-0.011119663715363,-0.107262037694454,-0.072032667696476,0.140779346227646));
res += mul(Get(s1,dx,dy), float4x4(0.115276604890823,0.051811054348946,-0.006996704265475,0.079491578042507,-0.032852400094271,0.040277939289808,-0.069687865674496,0.132526531815529,-0.115959644317627,-0.071908280253410,-0.001121366512962,0.090830586850643,-0.075110808014870,-0.030644016340375,0.033306609839201,-0.002732992637902));
res += mul(Get(s2,-dx,-dy), float4x4(-0.056925952434540,0.018936851993203,0.052923962473869,-0.020987100899220,0.071313902735710,-0.009475352242589,-0.108094625174999,-0.057739704847336,0.218079164624214,-0.061799220740795,-0.043592855334282,0.029418041929603,0.002257874468341,-0.014147030189633,0.018960295245051,-0.133750945329666));
res += mul(Get(s2,-dx,0), float4x4(-0.047803852707148,0.054967708885670,0.087047643959522,-0.107716359198093,0.081498786807060,-0.061740152537823,-0.099830448627472,-0.049063947051764,0.086550287902355,-0.102407686412334,-0.024533413350582,-0.176865860819817,0.100060515105724,0.001443247543648,-0.016265433281660,0.015347700566053));
res += mul(Get(s2,-dx,dy), float4x4(-0.038252592086792,-0.137230083346367,0.071484841406345,-0.149773731827736,-0.063830062747002,0.003803116036579,-0.063566610217094,-0.096317842602730,-0.020212028175592,-0.062393564730883,-0.020570812746882,-0.048503048717976,-0.037131842225790,0.029413502663374,-0.063710071146488,-0.003638162510470));
res += mul(Get(s2,0,-dy), float4x4(0.024142144247890,-0.173558503389359,-0.146748006343842,0.012908213771880,-0.033849284052849,-0.038293652236462,-0.122587382793427,0.083661794662476,-0.075043380260468,-0.043959148228168,-0.111266732215881,0.079800382256508,0.029925672337413,0.019033275544643,0.014466666616499,0.070594362914562));
res += mul(Get(s2,0,0), float4x4(-0.029553977772593,-0.000716790964361,-0.033886801451445,-0.013671564869583,-0.109743602573872,0.012602051720023,-0.043628960847855,0.008090217597783,-0.041939798742533,-0.026893181726336,0.076836891472340,-0.011266319081187,0.012515799142420,-0.102370783686638,-0.079557031393051,0.241678595542908));
res += mul(Get(s2,0,dy), float4x4(0.016771867871284,0.145206585526466,0.018904216587543,0.077553041279316,0.015687394887209,0.003826315514743,0.013733665458858,-0.096908181905746,-0.213428124785423,-0.051688075065613,-0.008369088172913,0.126155689358711,-0.004049762152135,-0.035344559699297,0.002745152683929,-0.052190069109201));
res += mul(Get(s2,dx,-dy), float4x4(-0.041880834847689,0.134748801589012,0.086596615612507,0.029194274917245,0.005203179549426,0.006651841104031,-0.063288554549217,-0.005490713287145,-0.097031496465206,-0.106828652322292,-0.057454805821180,-0.230111524462700,0.125912293791771,-0.085798598825932,-0.066128201782703,-0.037236362695694));
res += mul(Get(s2,dx,0), float4x4(0.141475453972816,-0.099522709846497,0.017672704532743,-0.113727092742920,-0.018425073474646,-0.022097555920482,-0.032089244574308,-0.033883210271597,0.134957060217857,0.078400343656540,0.181489214301109,0.080859541893005,0.043254241347313,-0.040915846824646,0.079120203852654,0.080525748431683));
res += mul(Get(s2,dx,dy), float4x4(0.053288109600544,-0.125382572412491,-0.047983847558498,-0.077327243983746,0.005254474468529,-0.111281923949718,-0.031635515391827,-0.058140799403191,-0.093764655292034,-0.053749121725559,-0.097852937877178,0.076471164822578,0.076403148472309,-0.122173093259335,0.082086026668549,0.023879777640104));
res += mul(Get(s3,-dx,-dy), float4x4(0.074766337871552,0.076224103569984,-0.135803982615471,-0.006351138930768,-0.032018128782511,-0.140096783638000,0.016996217891574,-0.090665981173515,-0.048518788069487,0.045350234955549,0.149022251367569,-0.052033159881830,-0.007947454228997,0.032383583486080,-0.180703818798065,-0.060618907213211));
res += mul(Get(s3,-dx,0), float4x4(0.158378839492798,-0.054420292377472,0.108654767274857,-0.015983715653419,0.074020005762577,0.021297736093402,-0.084769390523434,-0.041759360581636,-0.157640859484673,0.021274143829942,-0.006830628961325,0.158300980925560,0.057841163128614,-0.086569018661976,0.049998987466097,0.013123937882483));
res += mul(Get(s3,-dx,dy), float4x4(-0.067288257181644,0.076239466667175,0.297096043825150,0.021166590973735,0.211447909474373,-0.014281203970313,-0.004885716829449,0.052481044083834,-0.035774625837803,-0.007710964418948,0.079622291028500,-0.149239629507065,0.087727487087250,0.110304340720177,-0.099370501935482,-0.118006877601147));
res += mul(Get(s3,0,-dy), float4x4(-0.057035062462091,0.055317699909210,-0.140207335352898,0.034421790391207,0.046754330396652,-0.001906005898491,0.016434635967016,0.087769113481045,0.150534316897392,0.006841026246548,-0.011257779784501,-0.036345295608044,0.038630779832602,0.052360262721777,0.049956355243921,-0.068858452141285));
res += mul(Get(s3,0,0), float4x4(0.003560139099136,0.024935051798820,0.005948761478066,-0.108665004372597,0.114772774279118,0.110674843192101,-0.057967796921730,0.129881307482719,0.008809448219836,0.012119218707085,-0.131870985031128,-0.079522855579853,0.000223973547691,-0.115692719817162,-0.143579080700874,0.028927452862263));
res += mul(Get(s3,0,dy), float4x4(-0.011085797101259,0.071042768657207,0.021946668624878,-0.081301078200340,0.013046177104115,0.002492426196113,0.042411182075739,-0.019649801775813,-0.124769851565361,0.022233674302697,0.064114458858967,-0.049440175294876,0.077490635216236,-0.093761056661606,0.113914042711258,0.016783734783530));
res += mul(Get(s3,dx,-dy), float4x4(0.048341605812311,0.000609826412983,-0.101349502801895,-0.136209920048714,0.070070505142212,-0.015204168856144,0.085427120327950,0.109954781830311,0.058834988623857,0.017640015110373,-0.119334504008293,0.134740635752678,0.055926419794559,0.048457689583302,0.177347451448441,0.073542378842831));
res += mul(Get(s3,dx,0), float4x4(0.012890569865704,0.011712070554495,-0.009035787545145,0.229582145810127,-0.071449927985668,0.003225716762245,-0.027085276320577,-0.023833638057113,0.174789369106293,-0.083339214324951,0.030200034379959,-0.109848462045193,0.020655924454331,-0.030073318630457,0.052018951624632,-0.045019526034594));
res += mul(Get(s3,dx,dy), float4x4(-0.064657501876354,0.012615175917745,0.011561297811568,0.087180539965630,0.068038254976273,0.091731272637844,-0.006126084364951,-0.003529665526003,-0.025752466171980,-0.026946604251862,0.102708868682384,-0.062420267611742,-0.003155694575980,0.103627592325211,0.130231022834778,0.063964404165745));
return max(float4(0,0,0,0), res);
}
