sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.071631908416748,-0.080018594861031,0.033715210855007,0.044796299189329,-0.014822905883193,0.138875320553780,0.061522122472525,0.019283602014184,0.024458838626742,-0.009398023597896,0.069944322109222,0.112365946173668,-0.022690471261740,0.024687388911843,-0.016752410680056,0.027240386232734));
res += mul(Get(s0,-dx,0), float4x4(0.061492569744587,0.053193178027868,0.151912182569504,-0.048307634890079,0.022548545151949,0.108944371342659,0.123706974089146,0.030667012557387,-0.054305709898472,0.026299895718694,0.055620227009058,0.053252719342709,0.055731020867825,-0.038501270115376,-0.039083935320377,0.083184227347374));
res += mul(Get(s0,-dx,dy), float4x4(0.006879517808557,-0.059996008872986,0.036212835460901,-0.013727331534028,-0.054121356457472,0.111290648579597,0.024460839107633,-0.037894584238529,-0.005863328929991,0.003552573965862,0.011690382845700,0.017949527129531,-0.017670853063464,0.024294435977936,0.046054683625698,-0.075046807527542));
res += mul(Get(s0,0,-dy), float4x4(-0.046844094991684,0.011740989051759,-0.042042706161737,0.014804238453507,-0.035941202193499,-0.037090532481670,-0.111858144402504,-0.034086685627699,0.029005000367761,0.035120870918036,0.015323196537793,-0.019382514059544,-0.054706916213036,0.021706463769078,0.131708726286888,-0.046907000243664));
res += mul(Get(s0,0,0), float4x4(-0.030909139662981,0.085198335349560,-0.075923904776573,-0.086973831057549,-0.008209477178752,-0.029555004090071,-0.058371834456921,-0.003717563115060,0.145335689187050,0.136020570993423,-0.013022270053625,0.095114737749100,0.050469193607569,0.000622722669505,0.042028933763504,0.125385463237762));
res += mul(Get(s0,0,dy), float4x4(-0.000083319326222,0.003868513274938,-0.045539047569036,0.011726365424693,0.015349707566202,-0.014497331343591,-0.034325979650021,0.049132816493511,0.117321088910103,0.098232716321945,-0.016383863985538,0.109243646264076,-0.016489326953888,0.059510692954063,-0.012888572178781,-0.062577106058598));
res += mul(Get(s0,dx,-dy), float4x4(-0.027848552912474,0.008269854821265,-0.046131111681461,0.028594149276614,-0.014227358624339,-0.057625100016594,-0.030161103233695,-0.061338052153587,0.029626859351993,0.012336418963969,0.064779706299305,-0.021152412518859,0.055215209722519,0.058127980679274,0.012091608718038,-0.083004087209702));
res += mul(Get(s0,dx,0), float4x4(-0.043883558362722,0.072666145861149,-0.057459179311991,-0.050086859613657,-0.011492770165205,-0.067203834652901,0.032330196350813,-0.011268148198724,0.006317230872810,0.042002107948065,-0.031217589974403,0.050971616059542,0.103104054927826,0.006368686910719,-0.024009544402361,0.014927695505321));
res += mul(Get(s0,dx,dy), float4x4(-0.036241509020329,0.067781828343868,-0.058050014078617,0.000867774477229,0.067647449672222,0.015783408656716,0.008865762501955,0.036893893033266,0.013929840177298,0.028976805508137,0.022407470270991,0.011665211059153,-0.054936263710260,-0.029909657314420,0.031859975308180,-0.069725580513477));
res += mul(Get(s1,-dx,-dy), float4x4(0.010122660547495,-0.125309765338898,0.083145327866077,-0.104649320244789,-0.067321345210075,-0.024723012000322,-0.028322236612439,-0.036241512745619,0.011204401962459,-0.050814267247915,0.016630120575428,-0.039649724960327,-0.004320898558944,0.119897522032261,0.015512686222792,0.009747276082635));
res += mul(Get(s1,-dx,0), float4x4(0.074221737682819,-0.099346578121185,0.048948265612125,0.006093278061599,-0.027458604425192,-0.010083860717714,-0.008046847768128,-0.038058042526245,-0.011550563387573,0.012061418965459,-0.052221167832613,-0.001642502262257,-0.039469793438911,-0.000404265563702,0.049199320375919,0.038688071072102));
res += mul(Get(s1,-dx,dy), float4x4(-0.021307235583663,-0.021491393446922,0.082200855016708,-0.010887937620282,0.074815064668655,-0.000454815570265,-0.037951812148094,-0.054556384682655,-0.020216781646013,-0.049728013575077,-0.036208607256413,0.026158496737480,-0.007709898985922,0.042442057281733,-0.028071980923414,-0.015312367118895));
res += mul(Get(s1,0,-dy), float4x4(-0.016411669552326,-0.087018795311451,0.038419507443905,-0.041869856417179,0.042355928570032,0.005747226532549,-0.058714654296637,0.047265656292439,-0.019783476367593,0.043053932487965,-0.033320128917694,-0.027394982054830,-0.075175374746323,0.209326624870300,0.056246664375067,-0.100326620042324));
res += mul(Get(s1,0,0), float4x4(-0.063929028809071,-0.020275590941310,-0.014677488245070,-0.058560468256474,0.107301905751228,-0.008902234956622,-0.045347403734922,0.112563855946064,-0.061361726373434,0.149563178420067,0.077772520482540,-0.094768092036247,-0.011525779031217,-0.024986388161778,-0.087628804147243,0.095944948494434));
res += mul(Get(s1,0,dy), float4x4(0.056368201971054,-0.040392983704805,-0.000751877494622,0.019373193383217,0.002670561429113,0.049431923776865,-0.011626762337983,-0.032163564115763,0.083985738456249,-0.043198008090258,-0.032115202397108,0.154131621122360,-0.017648868262768,0.022342558950186,0.062695078551769,0.021074984222651));
res += mul(Get(s1,dx,-dy), float4x4(0.018778942525387,0.071498908102512,0.013763371855021,0.039110686630011,-0.042388811707497,0.011656863614917,-0.069776967167854,-0.005317523609847,0.034160006791353,-0.027039213106036,-0.039208371192217,-0.026977792382240,0.141756370663643,0.155090123414993,0.101580955088139,0.016614660620689));
res += mul(Get(s1,dx,0), float4x4(0.041224591434002,0.053992014378309,0.059686556458473,-0.018961410969496,-0.074795305728912,0.095472969114780,-0.025562701746821,0.029144058004022,-0.005430526565760,0.091600105166435,0.048252850770950,-0.101967483758926,0.002276091137901,0.048435576260090,-0.012710771523416,-0.023653157055378));
res += mul(Get(s1,dx,dy), float4x4(-0.045090965926647,0.035269323736429,0.036537595093250,0.017908986657858,-0.022378141060472,0.080549813807011,0.042588364332914,-0.043530289083719,0.020611846819520,-0.004948517307639,-0.054107379168272,0.098400592803955,0.004952838178724,0.033050622791052,0.032033443450928,-0.006753641180694));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007841875776649,-0.006858982145786,0.053695637732744,0.006425769999623,-0.020370796322823,-0.062780328094959,-0.091397210955620,0.010217308998108,0.006017053034157,-0.047726232558489,0.123923204839230,-0.064756341278553,-0.089925266802311,0.002249227603897,-0.101310275495052,-0.043273095041513));
res += mul(Get(s2,-dx,0), float4x4(0.041357044130564,-0.062484361231327,0.006843321025372,-0.069988287985325,-0.018359292298555,-0.022071767598391,-0.037717871367931,-0.071609511971474,0.031500849872828,-0.078903362154961,0.084060601890087,0.012591432780027,-0.119601301848888,-0.004776167683303,-0.079821102321148,0.024490922689438));
res += mul(Get(s2,-dx,dy), float4x4(0.062016975134611,-0.049212709069252,-0.001484454842284,0.001687600160949,0.000115495058708,-0.050747819244862,-0.036763846874237,0.025163386017084,0.094914972782135,-0.037434872239828,0.047706309705973,-0.078922525048256,-0.041633199900389,0.026281749829650,0.104189865291119,0.021336317062378));
res += mul(Get(s2,0,-dy), float4x4(0.029329122975469,-0.074440404772758,0.014671956188977,0.096525520086288,-0.012186057865620,0.031124407425523,-0.043264120817184,0.016425879672170,0.004570045974106,-0.096891030669212,-0.045254435390234,0.027900412678719,-0.114703297615051,0.003421877510846,0.015007399953902,-0.029579022899270));
res += mul(Get(s2,0,0), float4x4(0.015436485409737,-0.097550921142101,0.158809378743172,-0.062079750001431,0.025312621146441,0.081474035978317,-0.051920861005783,-0.027228271588683,0.139630705118179,-0.079422697424889,-0.016434723511338,-0.018279975280166,-0.093523576855659,0.011349971406162,0.014348844997585,0.014555551111698));
res += mul(Get(s2,0,dy), float4x4(-0.052361261099577,-0.060952652245760,0.009923039935529,-0.068401880562305,0.032334394752979,0.020539313554764,-0.013433091342449,-0.025457270443439,-0.071052953600883,-0.067001551389694,-0.004546659998596,-0.061146661639214,0.011806292459369,0.063554003834724,-0.029070138931274,0.005624697543681));
res += mul(Get(s2,dx,-dy), float4x4(0.087024807929993,0.046725314110518,-0.062209818512201,0.103667244315147,-0.059711910784245,-0.079618148505688,-0.011853910982609,-0.043369974941015,-0.045140020549297,-0.018956508487463,-0.026832316070795,-0.024567199870944,0.112777166068554,0.014175441116095,0.022001335397363,-0.011936434544623));
res += mul(Get(s2,dx,0), float4x4(0.198975235223770,0.023989805951715,-0.011280836537480,-0.055359426885843,-0.165597677230835,0.002145788399503,0.083054408431053,-0.071534730494022,-0.037109337747097,-0.012717390432954,0.015589383430779,0.001000839518383,0.221036866307259,0.036175802350044,-0.005452359095216,-0.035599727183580));
res += mul(Get(s2,dx,dy), float4x4(0.090205907821655,0.022720746695995,0.064409516751766,-0.093585528433323,-0.082863628864288,-0.074193641543388,-0.067629791796207,0.024539720267057,-0.003784063039348,-0.020784817636013,-0.011972726322711,-0.037274528294802,0.110820755362511,0.003845936153084,0.005741606932133,-0.004613486584276));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021887263283134,0.038831919431686,0.025577653199434,-0.009406748227775,-0.025730503723025,-0.022196831181645,0.041248418390751,0.049033790826797,-0.033468361943960,0.014593018218875,-0.027150508016348,0.038409095257521,-0.023735141381621,-0.012016423977911,0.185817420482635,-0.054374046623707));
res += mul(Get(s3,-dx,0), float4x4(0.082017429172993,0.015725690871477,0.025156473740935,-0.002400616416708,-0.020471466705203,0.172610521316528,0.031158236786723,-0.125014141201973,-0.029108358547091,-0.059334278106689,-0.033918727189302,-0.027750959619880,0.026327401399612,0.052678368985653,-0.012759980745614,-0.035797581076622));
res += mul(Get(s3,-dx,dy), float4x4(-0.012194141745567,-0.024207629263401,0.070211693644524,0.041508525609970,0.000447725935373,0.110803946852684,0.049135167151690,0.090274222195148,-0.021154273301363,-0.055125843733549,0.066493131220341,0.034688044339418,0.044124774634838,-0.054581571370363,-0.020009657368064,-0.065093249082565));
res += mul(Get(s3,0,-dy), float4x4(-0.055968761444092,-0.029832046478987,0.037015359848738,0.088983021676540,0.079111844301224,0.008724831975996,-0.037345312535763,-0.022274078801274,-0.014188796281815,0.045820012688637,0.013233851641417,0.007775211706758,0.036655366420746,-0.021419806405902,-0.045572407543659,0.180863589048386));
res += mul(Get(s3,0,0), float4x4(-0.051978446543217,-0.030352586880326,0.015197628177702,-0.081666059792042,-0.028003495186567,0.079106122255325,0.036877285689116,0.056666087359190,0.030590079724789,-0.099804103374481,0.043208431452513,-0.002429084619507,-0.019889224320650,0.086675338447094,0.000055076838180,-0.041028376668692));
res += mul(Get(s3,0,dy), float4x4(0.052537184208632,0.025004712864757,-0.007699980866164,0.068993024528027,-0.057506598532200,0.005985539406538,0.067870244383812,0.134652778506279,0.077753894031048,-0.102065533399582,0.035050950944424,0.063000790774822,-0.042973514646292,-0.004255651496351,0.080264881253242,0.000180030387128));
res += mul(Get(s3,dx,-dy), float4x4(-0.031325936317444,-0.040714032948017,0.028617056086659,0.069414280354977,-0.092405043542385,-0.073656536638737,-0.076627857983112,-0.081268958747387,0.015891436487436,-0.018684422597289,0.007772534154356,0.051366660743952,0.031486243009567,-0.049074098467827,-0.124973177909851,0.178111985325813));
res += mul(Get(s3,dx,0), float4x4(-0.095766708254814,0.024861551821232,0.061879809945822,-0.109005987644196,-0.008237212896347,0.088494114577770,-0.057265210896730,-0.032581139355898,-0.082553133368492,-0.060381025075912,0.015237022191286,-0.050684206187725,0.042686700820923,0.052432309836149,0.122760362923145,-0.015536432154477));
res += mul(Get(s3,dx,dy), float4x4(0.008514334447682,0.022081982344389,-0.032144490629435,0.121463738381863,0.056863177567720,0.015950145199895,-0.043192341923714,0.061773452907801,-0.055898401886225,-0.074682198464870,0.008767852559686,0.038020219653845,0.012625999748707,-0.015446100383997,0.026407642289996,-0.038994859904051));
return max(float4(0,0,0,0), res);
}
