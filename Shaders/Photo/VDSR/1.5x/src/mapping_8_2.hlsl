sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.117268115282059,0.112234376370907,0.015799460932612,-0.028510265052319,-0.025689754635096,-0.117655649781227,0.028041213750839,-0.069158926606178,0.034094285219908,0.063382960855961,-0.027533620595932,-0.017943080514669,-0.049016501754522,-0.031576167792082,0.153475314378738,0.000107408195618));
res += mul(Get(s0,-dx,0), float4x4(0.024069609120488,0.002643770072609,0.117843337357044,0.077944062650204,-0.167004242539406,-0.159253910183907,-0.046460434794426,-0.003628268139437,0.064681746065617,-0.000985837308690,0.015931390225887,0.038667153567076,-0.089700363576412,-0.074340745806694,-0.073746658861637,0.008461766876280));
res += mul(Get(s0,-dx,dy), float4x4(-0.013184642419219,-0.039281673729420,0.053580734878778,-0.116162523627281,0.009546067565680,0.004934821277857,0.031387034803629,-0.049221426248550,-0.117632694542408,-0.048443321138620,0.009906966239214,-0.042308494448662,0.048233505338430,0.050093848258257,0.041885916143656,-0.014644335955381));
res += mul(Get(s0,0,-dy), float4x4(-0.103785678744316,0.068989090621471,-0.005936526227742,-0.132961660623550,0.028395382687449,-0.011796566657722,0.189655974507332,-0.084353648126125,0.093453668057919,-0.055009141564369,0.093913167715073,-0.002473884494975,-0.107134200632572,-0.143837437033653,-0.001115267747082,0.082704775035381));
res += mul(Get(s0,0,0), float4x4(-0.026165369898081,-0.027224881574512,-0.027951218187809,0.025488432496786,-0.038952399045229,0.184303820133209,0.040199816226959,0.213205009698868,0.244960024952888,0.041337039321661,-0.021574372425675,0.002197150373831,-0.009955859743059,-0.070872470736504,0.086601607501507,0.012468001805246));
res += mul(Get(s0,0,dy), float4x4(0.045172445476055,0.059383060783148,-0.080459557473660,-0.058601811528206,-0.001831686240621,-0.066772133111954,-0.044851735234261,-0.087594300508499,0.071571066975594,-0.019646076485515,-0.069997146725655,-0.110399834811687,0.025794390588999,0.010917934589088,-0.013218764215708,-0.095589250326157));
res += mul(Get(s0,dx,-dy), float4x4(0.196715787053108,0.039286185055971,-0.061586495488882,0.133433237671852,0.055591426789761,-0.091479063034058,-0.060292415320873,-0.029253605753183,0.034042894840240,-0.074408799409866,0.074296943843365,0.016761317849159,0.037673510611057,-0.076922327280045,0.111771181225777,-0.054722819477320));
res += mul(Get(s0,dx,0), float4x4(-0.098255328834057,-0.138489916920662,0.118704922497272,-0.080090649425983,0.016675081104040,-0.017068857327104,-0.064507983624935,0.068475440144539,-0.016842762008309,0.082209177315235,-0.082498386502266,-0.003631202969700,0.042590994387865,0.135820522904396,-0.043440923094749,0.007631949614733));
res += mul(Get(s0,dx,dy), float4x4(-0.054114680737257,-0.119841791689396,0.005902025848627,-0.014932495541871,0.041712280362844,-0.017387079074979,-0.038979403674603,-0.029018031433225,0.063360638916492,-0.047393541783094,-0.140800654888153,-0.126435562968254,0.019313378259540,0.015524968504906,0.033116385340691,-0.020626684650779));
res += mul(Get(s1,-dx,-dy), float4x4(0.008878167718649,-0.014271646738052,-0.017907688394189,-0.105818942189217,-0.039944171905518,-0.080886974930763,0.160179406404495,0.065850868821144,0.023100804537535,-0.126241192221642,0.093457952141762,0.054595075547695,-0.133274123072624,0.250648826360703,0.043202832341194,-0.139772936701775));
res += mul(Get(s1,-dx,0), float4x4(0.104668848216534,0.003356049302965,0.044161353260279,-0.024253470823169,-0.066188283264637,-0.091457404196262,-0.070973359048367,-0.157657682895660,-0.147140979766846,-0.149264022707939,-0.016888633370399,0.073489621281624,0.059682935476303,0.113447062671185,-0.022153103724122,0.013532411307096));
res += mul(Get(s1,-dx,dy), float4x4(-0.075322620570660,0.140680909156799,0.083830796182156,0.001934482017532,-0.008852306753397,0.064819872379303,0.056406639516354,-0.002446127589792,0.192628130316734,-0.104830712080002,0.032547488808632,-0.096889965236187,0.058853659778833,0.053631763905287,-0.050901308655739,0.094471864402294));
res += mul(Get(s1,0,-dy), float4x4(-0.055324729532003,0.003220079932362,-0.078326500952244,-0.011530706658959,0.002685336628929,0.147409260272980,-0.001264785183594,0.043593335896730,-0.101757988333702,0.057303342968225,-0.187494799494743,-0.078565306961536,-0.211738705635071,0.000582118518651,0.017134856432676,-0.065352983772755));
res += mul(Get(s1,0,0), float4x4(-0.062474265694618,-0.033099167048931,-0.059058602899313,-0.039890512824059,0.061792522668839,0.051399748772383,-0.099425554275513,0.181917756795883,0.099689900875092,-0.065566435456276,0.177800491452217,0.057931333780289,0.149654746055603,0.048779293894768,0.221710234880447,0.004440870136023));
res += mul(Get(s1,0,dy), float4x4(-0.011032975278795,0.036952935159206,-0.061773192137480,-0.012710782699287,0.094771437346935,0.092091411352158,0.013825585134327,-0.061236597597599,0.004099543672055,0.028784489259124,-0.059896118938923,0.119413889944553,0.131919994950294,-0.018829230219126,-0.032346811145544,-0.009476866573095));
res += mul(Get(s1,dx,-dy), float4x4(0.174211144447327,0.018703700974584,-0.061526332050562,0.006470483727753,-0.018422260880470,0.071865431964397,0.056739997118711,-0.057262822985649,0.126805946230888,-0.091177843511105,-0.085921533405781,-0.044007129967213,-0.139919355511665,0.054135959595442,0.107275284826756,0.068217597901821));
res += mul(Get(s1,dx,0), float4x4(0.057558022439480,-0.013459310866892,0.061276007443666,-0.014292065985501,0.093876011669636,0.034267015755177,-0.025847198441625,0.060009211301804,0.037362102419138,0.057366665452719,0.052094921469688,0.114931449294090,-0.010441490449011,0.054232548922300,-0.096262671053410,0.015009879134595));
res += mul(Get(s1,dx,dy), float4x4(-0.021173268556595,0.039956264197826,0.049050301313400,-0.142336189746857,-0.000480771559523,0.005471458192915,-0.156753748655319,0.032909188419580,0.064498730003834,0.070886150002480,-0.053097344934940,-0.053422484546900,-0.128501459956169,-0.094278819859028,0.042787939310074,-0.059257466346025));
res += mul(Get(s2,-dx,-dy), float4x4(0.052322432398796,0.025510642677546,-0.137753933668137,-0.058334931731224,-0.222064286470413,-0.050271067768335,0.035684023052454,-0.027267305180430,0.077584482729435,0.098732538521290,0.025375977158546,0.059477958828211,-0.031792026013136,-0.028001308441162,-0.068609669804573,-0.048990998417139));
res += mul(Get(s2,-dx,0), float4x4(-0.030140824615955,0.100836314260960,0.058665160089731,0.188429996371269,-0.200961321592331,0.043987914919853,0.010956233367324,-0.006845484487712,0.075792498886585,0.062105152755976,-0.112657636404037,-0.052313022315502,-0.004712492227554,-0.190649524331093,0.042792331427336,0.067718766629696));
res += mul(Get(s2,-dx,dy), float4x4(-0.188493400812149,0.059749480336905,-0.180378109216690,0.013871219009161,-0.117581717669964,-0.146745055913925,-0.035174861550331,-0.152546107769012,0.076490327715874,0.011703078635037,0.044660314917564,-0.023227846249938,-0.021357659250498,0.154839172959328,-0.024056674912572,-0.083076424896717));
res += mul(Get(s2,0,-dy), float4x4(0.076317586004734,0.154443979263306,-0.051543250679970,-0.097235858440399,-0.171206429600716,-0.067009828984737,0.076461732387543,-0.004333037883043,0.065010026097298,0.034133851528168,0.114908844232559,0.060803204774857,-0.102554760873318,0.165160104632378,-0.075741298496723,0.235065504908562));
res += mul(Get(s2,0,0), float4x4(-0.021779675036669,0.005594719201326,0.006191237829626,0.207982107996941,0.050408780574799,0.060109596699476,-0.046341724693775,-0.210397630929947,0.093903295695782,-0.055154155939817,0.078919373452663,0.056819275021553,-0.148218870162964,0.134617209434509,-0.008223277516663,-0.085860058665276));
res += mul(Get(s2,0,dy), float4x4(0.024076154455543,-0.070786558091640,-0.081073515117168,-0.030381754040718,-0.003555517643690,-0.147903352975845,0.254107832908630,0.099806688725948,-0.178556606173515,-0.030349308624864,0.034304689615965,0.037077572196722,0.118714831769466,0.128879114985466,-0.082041069865227,0.092367969453335));
res += mul(Get(s2,dx,-dy), float4x4(0.122703433036804,0.002075032331049,-0.046467069536448,-0.031761519610882,-0.149116322398186,0.045775379985571,-0.038490943610668,-0.068869650363922,-0.043217837810516,0.000405550497817,0.056929521262646,-0.028918925672770,0.134999468922615,-0.098948918282986,0.044474463909864,-0.088556692004204));
res += mul(Get(s2,dx,0), float4x4(-0.058698814362288,-0.049552306532860,0.009230379015207,-0.076334170997143,0.077337786555290,0.032929174602032,0.114070653915405,0.011394404806197,-0.034046988934278,0.091664843261242,0.000200276597752,-0.035559777170420,-0.184760823845863,-0.044032014906406,-0.037974715232849,-0.157645165920258));
res += mul(Get(s2,dx,dy), float4x4(-0.120954424142838,0.240415722131729,0.096552036702633,-0.066299468278885,0.087575584650040,0.158841744065285,-0.061885442584753,0.113675937056541,-0.007417681161314,0.053940854966640,0.094185031950474,-0.071725018322468,-0.005716038402170,-0.096409499645233,-0.009490874595940,0.015262241475284));
res += mul(Get(s3,-dx,-dy), float4x4(-0.010642488487065,0.035416729748249,-0.113401137292385,-0.091323293745518,-0.001796537078917,0.058606132864952,0.127420663833618,-0.147552073001862,0.039397928863764,-0.090570390224457,-0.157309800386429,-0.018408324569464,0.027428610250354,0.007561792619526,0.090804174542427,-0.027133999392390));
res += mul(Get(s3,-dx,0), float4x4(0.084832653403282,0.093985974788666,-0.013682930730283,-0.077302664518356,-0.097573854029179,0.003261812729761,-0.002077212557197,0.108424358069897,-0.071518257260323,0.059714615345001,0.033704210072756,0.055030964314938,-0.151233702898026,0.007744906004518,-0.130420088768005,0.158210188150406));
res += mul(Get(s3,-dx,dy), float4x4(-0.015052948147058,0.112538650631905,-0.103413693606853,-0.076907999813557,0.056610159575939,-0.025611678138375,-0.063016869127750,0.130733251571655,-0.048923999071121,0.023828202858567,0.049038857221603,0.157279118895531,-0.221494749188423,-0.092971861362457,-0.161135092377663,0.138765051960945));
res += mul(Get(s3,0,-dy), float4x4(0.088684342801571,-0.033563286066055,0.024815483018756,0.029107550159097,-0.001488670823164,-0.010206637904048,0.162989675998688,0.042187724262476,0.094020701944828,-0.013573440723121,-0.048808641731739,-0.019458241760731,0.018135089427233,-0.040427345782518,-0.002679924946278,-0.050305660814047));
res += mul(Get(s3,0,0), float4x4(0.046023223549128,0.070348307490349,-0.101061724126339,0.128463253378868,0.127700269222260,-0.124381460249424,0.161476194858551,-0.036616127938032,0.116087794303894,0.145421445369720,0.000495196902193,0.011938118375838,-0.011907228268683,0.155586093664169,-0.004145492333919,0.032404817640781));
res += mul(Get(s3,0,dy), float4x4(-0.242196872830391,-0.050573427230120,0.087805762887001,-0.164761453866959,0.033395085483789,-0.109388314187527,0.046595476567745,-0.101420268416405,-0.131129369139671,0.063991740345955,-0.096988216042519,0.034517332911491,-0.152531072497368,-0.128986358642578,-0.081823550164700,0.127125307917595));
res += mul(Get(s3,dx,-dy), float4x4(0.210363239049911,0.037726197391748,0.034484896808863,0.091144546866417,-0.020186927169561,0.093520060181618,-0.050182644277811,-0.005950815044343,-0.107709608972073,-0.059562038630247,0.082698829472065,0.091590866446495,-0.028425922617316,-0.026873210445046,0.006036085076630,0.048209562897682));
res += mul(Get(s3,dx,0), float4x4(-0.031135251745582,0.008083562366664,0.040617909282446,-0.018108054995537,0.042245667427778,-0.112232342362404,0.117184937000275,0.070044539868832,-0.027882281690836,0.034906126558781,-0.049048356711864,0.165361791849136,0.211254671216011,-0.048196524381638,-0.077415183186531,0.098508812487125));
res += mul(Get(s3,dx,dy), float4x4(0.032620407640934,-0.100924782454967,-0.153148546814919,-0.064806848764420,0.098500221967697,-0.065033838152885,-0.037451468408108,-0.052263230085373,0.120144583284855,-0.002880308311433,0.058630205690861,0.123934946954250,0.057101078331470,0.026597077026963,0.046954512596130,0.005832255352288));
return max(float4(0,0,0,0), res);
}
