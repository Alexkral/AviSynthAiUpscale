sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.096412338316441,-0.064621925354004,0.008527730591595,-0.083543159067631,-0.091387562453747,0.025460071861744,-0.053012646734715,0.032144300639629,0.053501646965742,-0.194633066654205,-0.023489737883210,0.059749025851488,0.054230343550444,-0.020709129050374,-0.003280764212832,-0.018789554014802));
res += mul(Get(s0,-dx,0), float4x4(-0.106314934790134,-0.017633182927966,0.085197284817696,0.094343960285187,0.033922959119081,-0.044085200875998,0.018162289634347,-0.056519258767366,0.065612919628620,-0.122176773846149,-0.003361908718944,-0.069819428026676,0.000115909140732,0.016313521191478,0.028297664597631,-0.000913585361559));
res += mul(Get(s0,-dx,dy), float4x4(-0.088000401854515,-0.098415136337280,0.043019931763411,-0.050331581383944,-0.061875119805336,-0.025028174743056,-0.031986333429813,-0.151938706636429,0.005074830260128,-0.055986151099205,-0.031516179442406,0.008943770080805,-0.012376814149320,0.008912054821849,-0.008276949636638,-0.062469292432070));
res += mul(Get(s0,0,-dy), float4x4(-0.009263817220926,0.091134592890739,0.048416052013636,-0.021552089601755,-0.124662585556507,0.045618899166584,-0.036681476980448,0.091412514448166,0.009804625995457,0.139447852969170,-0.071180738508701,0.076129712164402,-0.057893462479115,-0.060396432876587,-0.020844180136919,0.018919125199318));
res += mul(Get(s0,0,0), float4x4(-0.091898731887341,0.054115287959576,0.147254258394241,0.077560976147652,0.109267011284828,0.183342754840851,-0.008800020441413,0.083588369190693,0.058391094207764,0.304168581962585,0.031238809227943,0.059093035757542,-0.058354165405035,-0.002328680595383,0.018166672438383,0.017177093774080));
res += mul(Get(s0,0,dy), float4x4(0.004881891421974,0.037835881114006,0.040468700230122,-0.104502908885479,-0.023082491010427,0.211349278688431,-0.085439704358578,0.103634700179100,-0.003881021402776,0.039842732250690,-0.091253288090229,-0.080610670149326,-0.082740716636181,0.090079784393311,-0.000125675112940,0.044192809611559));
res += mul(Get(s0,dx,-dy), float4x4(-0.029535051435232,-0.002460685791448,0.033711791038513,0.000961752317380,-0.080158606171608,0.006976390257478,0.005691107362509,-0.038233697414398,-0.004606520757079,-0.002823756542057,-0.055334184318781,0.051939528435469,0.004827989265323,-0.042862620204687,-0.007127418182790,-0.042360566556454));
res += mul(Get(s0,dx,0), float4x4(-0.082388222217560,-0.024492213502526,0.040654651820660,0.012687900103629,-0.129831790924072,-0.008409596048295,0.007531093433499,-0.067594669759274,-0.113946549594402,-0.040539145469666,0.109520383179188,0.063731424510479,-0.032073765993118,-0.056434888392687,0.030860029160976,-0.035040963441133));
res += mul(Get(s0,dx,dy), float4x4(0.047329913824797,-0.037080373615026,0.076088748872280,-0.056388158351183,-0.104268662631512,-0.011630929075181,-0.052860476076603,-0.075134359300137,-0.009790361858904,0.029375890269876,0.115093663334846,-0.041418388485909,-0.075251251459122,0.005498135928065,-0.031756807118654,-0.067545019090176));
res += mul(Get(s1,-dx,-dy), float4x4(0.006759769283235,0.016306202858686,0.072191737592220,0.089170798659325,0.089555546641350,-0.082870289683342,-0.035132069140673,0.079832889139652,0.028116989880800,0.030477384105325,-0.032622523605824,0.021239820867777,-0.061623197048903,0.206246927380562,-0.047778274863958,0.020906610414386));
res += mul(Get(s1,-dx,0), float4x4(0.014805882237852,0.030238233506680,0.062110345810652,0.080083951354027,-0.075996190309525,0.004613710101694,0.054624494165182,-0.030822999775410,-0.068911746144295,-0.037442401051521,0.052804280072451,0.116552181541920,0.132195264101028,0.177942574024200,0.063204057514668,-0.039081688970327));
res += mul(Get(s1,-dx,dy), float4x4(0.116702862083912,0.007936955429614,0.009691485203803,-0.015288396738470,-0.173015713691711,0.069831311702728,0.024026682600379,0.060999646782875,-0.013149772770703,-0.076454430818558,0.071105018258095,0.051952309906483,0.019735623151064,-0.000228083095863,0.013230815529823,-0.070673331618309));
res += mul(Get(s1,0,-dy), float4x4(0.177905172109604,0.039402447640896,-0.032137300819159,0.025367990136147,0.175775691866875,0.068748541176319,-0.052259430289268,-0.043779090046883,-0.005895745940506,-0.035332567989826,-0.001522998907603,0.031981430947781,-0.065876908600330,-0.072675101459026,-0.035203404724598,-0.026903474703431));
res += mul(Get(s1,0,0), float4x4(0.099084869027138,-0.012318442575634,-0.040508646517992,-0.027358030900359,-0.057126309722662,-0.000385274790460,-0.017137676477432,0.053079117089510,0.103046774864197,0.161181092262268,0.059336505830288,0.090437397360802,0.015869250521064,-0.040014788508415,0.031865142285824,0.056487955152988));
res += mul(Get(s1,0,dy), float4x4(-0.000150880150613,-0.069542661309242,0.006882097572088,0.060556519776583,-0.219081193208694,-0.094142824411392,0.005264275241643,0.075204677879810,-0.039660062640905,0.015767881646752,0.100158549845219,-0.030685495585203,0.083990737795830,0.015014620497823,-0.001566563267261,-0.011533943004906));
res += mul(Get(s1,dx,-dy), float4x4(0.035870466381311,-0.016586452722549,0.050785712897778,0.011661411263049,0.051679886877537,-0.033962912857533,0.054879821836948,0.002674865303561,-0.031335342675447,-0.019014360383153,0.018430562689900,0.010232415050268,-0.083586826920509,-0.103680692613125,-0.057312205433846,-0.027527658268809));
res += mul(Get(s1,dx,0), float4x4(0.049241162836552,0.016992241144180,0.128713011741638,-0.028106186538935,-0.068132437765598,0.026985695585608,0.094652257859707,0.031890708953142,-0.026395250111818,0.005591419059783,0.044791251420975,0.019919965416193,-0.022687105461955,-0.091871187090874,-0.010765000246465,-0.014517435804009));
res += mul(Get(s1,dx,dy), float4x4(0.072368063032627,-0.030388984829187,0.013048660941422,0.014046190306544,-0.104768767952919,0.041719801723957,0.009515210986137,-0.093122065067291,-0.060777224600315,0.020443461835384,0.105075828731060,-0.149915799498558,0.088038846850395,-0.016964480280876,0.021844565868378,0.041711036115885));
res += mul(Get(s2,-dx,-dy), float4x4(-0.071772091090679,0.017395250499249,-0.109296858310699,0.116656146943569,-0.025759333744645,-0.070600621402264,0.083388470113277,-0.092624045908451,-0.109862796962261,0.005994986742735,0.015126814134419,0.013898110017180,0.012792439199984,0.056317467242479,-0.105550460517406,0.001013024593703));
res += mul(Get(s2,-dx,0), float4x4(0.002415096154436,0.066237248480320,-0.057993311434984,0.153586581349373,-0.014140788465738,0.080820508301258,0.038420863449574,-0.218361735343933,-0.023888887837529,0.009492618031800,-0.036349553614855,0.101951330900192,0.004356222692877,0.061355933547020,-0.003090381855145,0.098721571266651));
res += mul(Get(s2,-dx,dy), float4x4(-0.040447071194649,0.006353121250868,-0.053608655929565,-0.053142506629229,-0.108576379716396,-0.055429738014936,0.020489916205406,-0.050054989755154,0.055404413491488,-0.075605742633343,-0.084428928792477,0.092101581394672,-0.030782639980316,-0.039140328764915,0.023464338853955,-0.095000408589840));
res += mul(Get(s2,0,-dy), float4x4(-0.014919225126505,0.026146767660975,-0.080794490873814,-0.085663832724094,-0.089583121240139,0.051782906055450,0.061972085386515,0.031944289803505,-0.074887543916702,-0.030158357694745,-0.078216351568699,0.024937596172094,-0.057750757783651,-0.046127378940582,-0.053318388760090,-0.049285877496004));
res += mul(Get(s2,0,0), float4x4(0.013852798379958,0.073778040707111,0.007163917645812,0.088072486221790,-0.013304824940860,0.085123851895332,0.012714105658233,-0.006079060956836,-0.089378893375397,-0.143737360835075,-0.081589825451374,-0.008918907493353,0.047891706228256,-0.014279858209193,0.004602485336363,0.061754293739796));
res += mul(Get(s2,0,dy), float4x4(0.031586632132530,0.124108225107193,-0.083653055131435,-0.096750460565090,-0.084803164005280,-0.092586837708950,-0.040821321308613,0.020712280645967,0.112678468227386,-0.047855693846941,-0.011836811900139,0.075141273438931,0.029520004987717,0.009535443037748,0.013512221165001,-0.089652359485626));
res += mul(Get(s2,dx,-dy), float4x4(-0.044988073408604,-0.008031670935452,-0.055487837642431,0.105131298303604,0.012531822547317,0.014967265538871,0.002974845003337,-0.070576593279839,0.033272881060839,0.076789051294327,-0.005770714487880,-0.029230615124106,0.024637773633003,-0.036710459738970,0.071436457335949,0.085016675293446));
res += mul(Get(s2,dx,0), float4x4(0.007462032139301,0.069317974150181,-0.016987865790725,-0.035331267863512,-0.049286026507616,-0.094151280820370,-0.037523202598095,-0.096117109060287,-0.138327389955521,-0.006873239297420,0.012475927360356,-0.007225898560137,-0.013782777823508,0.006072518415749,0.064295537769794,0.076335154473782));
res += mul(Get(s2,dx,dy), float4x4(-0.021111672744155,0.029049055650830,-0.003661663271487,-0.034351557493210,0.019049391150475,-0.067628435790539,-0.005657614208758,-0.072730727493763,0.134596571326256,-0.012331298552454,-0.022167032584548,-0.080516152083874,-0.012320711277425,-0.009655878879130,-0.005701300688088,-0.017291350290179));
res += mul(Get(s3,-dx,-dy), float4x4(-0.103256151080132,0.155609682202339,-0.075613982975483,-0.088860727846622,-0.013137569651008,-0.067491799592972,0.118281655013561,-0.037471760064363,0.084823213517666,0.054404430091381,-0.024840528145432,0.029904101043940,0.030761525034904,-0.094949990510941,-0.040592245757580,-0.125278294086456));
res += mul(Get(s3,-dx,0), float4x4(0.021133763715625,0.021133311092854,0.006180326454341,0.053339678794146,-0.046158131211996,-0.029329122975469,0.145465657114983,0.003939241636544,0.138640269637108,0.039811532944441,0.084681861102581,-0.070510216057301,-0.036898441612720,-0.160995796322823,-0.033797089010477,-0.104852765798569));
res += mul(Get(s3,-dx,dy), float4x4(0.087333440780640,-0.116164103150368,-0.034513819962740,-0.057901725172997,0.045297428965569,-0.054304510354996,0.038474746048450,0.119889684021473,-0.017462175339460,0.014901904389262,0.001190325361677,-0.051196057349443,-0.042446099221706,-0.035123739391565,0.078653946518898,-0.014254276640713));
res += mul(Get(s3,0,-dy), float4x4(-0.275032937526703,-0.129255652427673,0.009677318856120,0.119781076908112,-0.056087721139193,-0.030221024528146,0.102897800505161,0.187242031097412,0.026697251945734,-0.013618663884699,-0.005456787068397,0.018118239939213,-0.079278290271759,-0.054206430912018,0.063069179654121,0.188795238733292));
res += mul(Get(s3,0,0), float4x4(0.024081911891699,0.028249921277165,0.001013607834466,-0.023624554276466,0.035437781363726,0.046740826219320,-0.014985599555075,-0.087172254920006,0.249377951025963,0.010888986289501,0.073412850499153,-0.072570957243443,0.054910652339458,0.010674295015633,-0.091854460537434,0.116127721965313));
res += mul(Get(s3,0,dy), float4x4(0.171578049659729,0.138634532690048,-0.050385076552629,-0.022265015169978,-0.126840665936470,-0.034152533859015,-0.003528581466526,0.052396874874830,-0.000743232783861,0.002585666254163,0.033535677939653,0.023833090439439,-0.030013205483556,-0.056461885571480,-0.030227964743972,0.069514721632004));
res += mul(Get(s3,dx,-dy), float4x4(-0.106761857867241,-0.040661305189133,-0.047697678208351,0.025050364434719,0.053765136748552,-0.097666472196579,0.062087494879961,0.044498436152935,-0.003393906634301,0.054524518549442,-0.047165825963020,0.007211674936116,-0.034062802791595,0.097362495958805,-0.058179482817650,0.085228890180588));
res += mul(Get(s3,dx,0), float4x4(0.139518991112709,-0.015382963232696,0.000782520044595,-0.063415922224522,-0.068369522690773,-0.062556505203247,0.147606670856476,0.004223962314427,0.060115296393633,0.000739216979127,0.133950278162956,0.023949623107910,0.075997330248356,0.055015597492456,-0.080845721065998,0.115734428167343));
res += mul(Get(s3,dx,dy), float4x4(0.032533846795559,-0.083907738327980,-0.002651992486790,0.099649548530579,-0.113999292254448,-0.105551734566689,0.112105235457420,-0.081413589417934,0.005602377001196,-0.018196346238256,0.065482407808304,-0.006145504303277,-0.127891927957535,0.121365971863270,0.051200304180384,-0.038638513535261));
return max(float4(0,0,0,0), res);
}
