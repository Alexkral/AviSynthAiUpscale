sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.183977156877518,0.017341321334243,-0.072859421372414,-0.059724505990744,0.031776655465364,-0.070281684398651,0.166846185922623,-0.048262033611536,-0.065307982265949,0.066996976733208,0.020752584561706,-0.158536121249199,-0.136021211743355,-0.052488010376692,-0.042813673615456,0.006549823097885));
res += mul(Get(s0,-dx,0), float4x4(-0.121672041714191,0.141412138938904,0.164683952927589,0.079367190599442,0.050677631050348,0.185711652040482,0.111017867922783,0.166713878512383,-0.151042282581329,-0.196177944540977,-0.121024556457996,-0.019596289843321,0.037263255566359,0.132276147603989,0.187579691410065,0.062136545777321));
res += mul(Get(s0,-dx,dy), float4x4(0.013828410767019,-0.004773018416017,-0.111175388097763,0.022329807281494,-0.217708066105843,-0.084467634558678,0.056163355708122,-0.175282046198845,-0.064907737076283,-0.071261644363403,-0.020887399092317,-0.081641569733620,-0.050906863063574,-0.034204445779324,0.198522835969925,-0.035301513969898));
res += mul(Get(s0,0,-dy), float4x4(-0.012522545643151,-0.001307422295213,-0.094012469053268,0.007192505057901,0.042629905045033,0.066077359020710,-0.037007849663496,0.032080922275782,0.083537369966507,-0.018364397808909,-0.012813550420105,0.164266601204872,-0.099812224507332,0.126570150256157,-0.021771788597107,-0.052845843136311));
res += mul(Get(s0,0,0), float4x4(0.078703902661800,-0.029538899660110,0.036082480102777,-0.122381038963795,0.093164928257465,-0.163613572716713,0.073052763938904,-0.155238077044487,-0.046022363007069,-0.052750963717699,0.206221058964729,0.067392945289612,-0.105028897523880,0.100643269717693,0.047130752354860,-0.100301504135132));
res += mul(Get(s0,0,dy), float4x4(-0.064098939299583,-0.066041782498360,0.050874527543783,0.066068753600121,-0.116934299468994,0.076305933296680,0.087106615304947,0.123899951577187,0.220823496580124,0.046074517071247,-0.100330099463463,-0.094759792089462,0.059344567358494,-0.075591921806335,-0.087474107742310,-0.094337284564972));
res += mul(Get(s0,dx,-dy), float4x4(0.000321455416270,-0.046452265232801,-0.074536979198456,0.058606356382370,0.026851760223508,0.101733833551407,-0.048069559037685,-0.093309149146080,0.269058078527451,0.004657186567783,0.083705067634583,-0.159721791744232,0.010008142329752,0.081583000719547,0.014072719030082,0.115059785544872));
res += mul(Get(s0,dx,0), float4x4(-0.089044228196144,-0.108515195548534,0.070076748728752,-0.033018410205841,-0.071301907300949,0.085408382117748,-0.076450675725937,0.007156612351537,0.053803063929081,0.003825095249340,0.221522331237793,-0.081187687814236,-0.156229227781296,-0.067610412836075,0.061725661158562,-0.003609302220866));
res += mul(Get(s0,dx,dy), float4x4(0.175282612442970,0.047430451959372,0.201663494110107,-0.048060514032841,0.033512528985739,-0.039061944931746,-0.052310120314360,0.189428269863129,-0.003073477186263,0.075771607458591,-0.073077231645584,0.016641808673739,0.142558619379997,-0.113962695002556,0.047663271427155,-0.043128393590450));
res += mul(Get(s1,-dx,-dy), float4x4(0.127343356609344,-0.120485752820969,0.044787555932999,0.003835284616798,-0.126317039132118,-0.012245520018041,-0.095002897083759,-0.003770117182285,0.090530812740326,0.037364441901445,0.083367861807346,-0.082258544862270,-0.037530280649662,-0.137719660997391,0.053040422499180,-0.037369828671217));
res += mul(Get(s1,-dx,0), float4x4(0.058633010834455,-0.117202728986740,0.093137994408607,-0.021028570830822,-0.090257681906223,0.016222920268774,-0.017808072268963,0.031885061413050,-0.024622902274132,0.003486052853987,0.038524508476257,-0.037306360900402,-0.027118487283587,0.112965233623981,0.028900630772114,-0.150695919990540));
res += mul(Get(s1,-dx,dy), float4x4(-0.082785710692406,0.049225866794586,0.147587493062019,-0.071445010602474,0.004834648221731,0.131827682256699,-0.025016918778419,-0.181912556290627,-0.050262670964003,0.138977512717247,-0.063472077250481,0.031786736100912,-0.061732828617096,0.076870970427990,0.206993237137794,0.002629028633237));
res += mul(Get(s1,0,-dy), float4x4(-0.017106423154473,0.012166883796453,-0.107061088085175,-0.003298362251371,0.067216627299786,0.115770198404789,0.230073645710945,-0.028431657701731,0.054815590381622,0.069925792515278,-0.102074161171913,0.158510118722916,-0.005245850887150,0.070828527212143,0.030508184805512,0.093332104384899));
res += mul(Get(s1,0,0), float4x4(-0.127096712589264,-0.142145931720734,-0.090164616703987,-0.040153089910746,0.123269654810429,-0.013475233688951,0.182011529803276,0.000587017275393,-0.013879781588912,0.128115311264992,-0.007200258783996,-0.054049976170063,0.076037153601646,-0.084274038672447,0.047223094850779,-0.178608343005180));
res += mul(Get(s1,0,dy), float4x4(0.124430425465107,0.039675146341324,0.048886820673943,0.030837489292026,-0.136064529418945,-0.045161984860897,0.131822898983955,0.009169009514153,-0.065203525125980,0.086986005306244,0.022338094189763,-0.010913305915892,0.053086061030626,0.087929040193558,-0.174131736159325,0.017085034400225));
res += mul(Get(s1,dx,-dy), float4x4(-0.118378795683384,-0.067937076091766,-0.060835577547550,-0.049390874803066,-0.047952447086573,0.004486533347517,-0.134880959987640,-0.031714703887701,-0.005941808223724,-0.089810431003571,0.022401783615351,-0.044887885451317,0.185248404741287,0.027551170438528,0.030785392969847,-0.010090707801282));
res += mul(Get(s1,dx,0), float4x4(0.025268290191889,-0.006516134832054,-0.075095243752003,0.006459798198193,0.033312868326902,-0.118089079856873,-0.027655383571982,-0.015986286103725,0.019584225490689,0.045390088111162,-0.072780199348927,0.155450478196144,0.133431181311607,0.119782857596874,0.060119744390249,0.033904444426298));
res += mul(Get(s1,dx,dy), float4x4(-0.214208513498306,-0.115783467888832,-0.113469243049622,-0.041624642908573,0.031806364655495,0.010267321020365,-0.059218309819698,-0.107235275208950,-0.038973499089479,0.157029584050179,-0.075531743466854,-0.159580186009407,0.250332951545715,-0.068863868713379,0.074390016496181,-0.033878616988659));
res += mul(Get(s2,-dx,-dy), float4x4(-0.032908909022808,-0.104446984827518,-0.041749998927116,0.032160598784685,-0.063773795962334,0.070907123386860,0.065661102533340,0.110743336379528,0.008559583686292,0.125681117177010,-0.092545524239540,-0.048948436975479,0.081174850463867,0.071066297590733,-0.165265023708344,0.053437270224094));
res += mul(Get(s2,-dx,0), float4x4(0.090438023209572,0.099716819822788,0.048471365123987,0.089190371334553,-0.131500214338303,-0.108449809253216,-0.008539154194295,-0.157242357730865,0.034159317612648,0.084829747676849,0.079268664121628,0.198799565434456,0.069188147783279,0.052045218646526,-0.017401140183210,-0.098617248237133));
res += mul(Get(s2,-dx,dy), float4x4(-0.155242323875427,0.052592314779758,-0.009357977658510,-0.142904371023178,0.040263738483191,0.004612384364009,-0.003595146583393,0.037900935858488,-0.143045738339424,-0.090387135744095,0.098580986261368,0.019957033917308,-0.027522828429937,-0.099406242370605,0.065419077873230,0.042519006878138));
res += mul(Get(s2,0,-dy), float4x4(0.108425796031952,0.034804612398148,0.242587849497795,0.019026985391974,0.140037581324577,0.037156116217375,0.194732591509819,0.014859204180539,-0.124771632254124,-0.025927765294909,-0.021119466051459,0.085678018629551,-0.040795885026455,-0.121420823037624,0.113429479300976,-0.101988717913628));
res += mul(Get(s2,0,0), float4x4(-0.075077854096889,0.018219955265522,0.059138335287571,0.180894255638123,0.240917950868607,-0.152728661894798,-0.001495367730968,-0.039599087089300,0.099801972508430,-0.033057335764170,0.073090724647045,-0.007871205918491,0.033158883452415,0.212069198489189,0.145531460642815,-0.263199746608734));
res += mul(Get(s2,0,dy), float4x4(0.080691933631897,0.116263948380947,-0.169176295399666,0.017453029751778,0.210671946406364,0.063843145966530,0.040666982531548,-0.049304965883493,-0.215651735663414,-0.001807207358070,-0.077356427907944,-0.058244612067938,-0.112184002995491,0.012779654935002,0.102707616984844,0.096541188657284));
res += mul(Get(s2,dx,-dy), float4x4(0.127482399344444,-0.058148153126240,-0.106520071625710,-0.092408500611782,-0.046795200556517,-0.078336045145988,-0.090081229805946,-0.043738204985857,-0.054679479449987,0.012116618454456,-0.056243799626827,0.103501558303833,0.170305967330933,-0.079189985990524,-0.088404163718224,-0.000616710342001));
res += mul(Get(s2,dx,0), float4x4(0.057107448577881,-0.078914634883404,-0.044340822845697,0.023796848952770,-0.063659988343716,0.075539164245129,0.012276715599000,0.012011033482850,-0.090440146625042,0.066242776811123,-0.017959576100111,-0.148228347301483,-0.052975866943598,0.019403062760830,-0.058462176471949,-0.095991045236588));
res += mul(Get(s2,dx,dy), float4x4(0.038921784609556,0.095035910606384,-0.065314397215843,-0.090471439063549,-0.049594447016716,0.101041391491890,0.064326137304306,0.056810986250639,-0.110361859202385,-0.013622418045998,-0.034304250031710,-0.022073145955801,0.072486929595470,0.040710397064686,-0.111762300133705,0.230841368436813));
res += mul(Get(s3,-dx,-dy), float4x4(0.030641613528132,0.049210082739592,-0.021853776648641,-0.015942335128784,-0.109988488256931,0.056711625307798,-0.099083237349987,-0.130281165242195,0.263056635856628,-0.177673280239105,-0.129804715514183,0.160994291305542,0.010100120678544,0.080695688724518,0.109765909612179,-0.087406985461712));
res += mul(Get(s3,-dx,0), float4x4(0.028682701289654,0.034277249127626,-0.020498884841800,-0.084760196506977,-0.064975552260876,-0.059304703027010,0.054985202848911,0.040504530072212,0.090728811919689,0.086428150534630,0.005623557139188,-0.007238227874041,-0.081224419176579,-0.109444729983807,0.079432800412178,-0.027647851034999));
res += mul(Get(s3,-dx,dy), float4x4(-0.107930481433868,0.050636786967516,0.133056461811066,-0.135407507419586,0.073863759636879,-0.094677686691284,0.095063023269176,0.029767245054245,0.084516175091267,-0.004238664172590,0.017051544040442,-0.087720207870007,0.225602358579636,-0.153901606798172,-0.023371251299977,-0.001287708058953));
res += mul(Get(s3,0,-dy), float4x4(0.056169569492340,-0.056529618799686,-0.022629277780652,0.113609530031681,0.106303922832012,0.007951173931360,0.088738232851028,-0.096083410084248,0.022193994373083,0.028458954766393,0.092012591660023,-0.116071306169033,-0.023407310247421,0.108534969389439,-0.008802806958556,0.050350423902273));
res += mul(Get(s3,0,0), float4x4(0.154687210917473,-0.066896110773087,-0.039832741022110,-0.000217672859435,0.056273967027664,0.024832341820002,0.030329158529639,-0.033674594014883,-0.003349582199007,0.106485642492771,-0.096366338431835,0.036624252796173,-0.125784516334534,0.007968287914991,0.018058314919472,-0.013085356913507));
res += mul(Get(s3,0,dy), float4x4(0.048714999109507,-0.133621528744698,-0.001924296724610,0.178144887089729,0.073023460805416,-0.028495240956545,-0.024447448551655,0.019476851448417,0.015574096702039,-0.115366920828819,-0.067232392728329,-0.187479332089424,-0.037660561501980,-0.103206746280193,0.018554357811809,0.125857263803482));
res += mul(Get(s3,dx,-dy), float4x4(-0.070120148360729,-0.104673348367214,0.047578752040863,-0.102066695690155,-0.038149096071720,0.040943339467049,-0.004530986305326,0.006326321512461,0.066824302077293,0.066041372716427,0.086513251066208,-0.005202113185078,-0.080407358705997,0.017308946698904,0.059063270688057,0.062957264482975));
res += mul(Get(s3,dx,0), float4x4(-0.107808068394661,0.012760397046804,-0.066905647516251,0.033428803086281,0.154710665345192,0.072327584028244,0.023649720475078,-0.014948263764381,0.039533663541079,0.070975743234158,0.049259766936302,-0.067443691194057,0.053359452635050,0.090184435248375,0.069635823369026,-0.150529041886330));
res += mul(Get(s3,dx,dy), float4x4(-0.003251387504861,-0.075452066957951,-0.092919208109379,0.056568931788206,0.052342861890793,-0.132159277796745,0.070447534322739,0.175976350903511,0.075892992317677,-0.004043752327561,-0.045269314199686,0.007160218898207,-0.003963672090322,0.010527876205742,-0.141259238123894,0.062769956886768));
return max(float4(0,0,0,0), res);
}
