sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016409143805504,0.025772770866752,-0.020247604697943,-0.001695948070846,-0.109516076743603,0.005262357648462,0.111485719680786,0.097680814564228,0.006419593933970,0.033243991434574,0.010140777565539,-0.027632264420390,-0.038653597235680,-0.073123604059219,-0.022978564724326,0.028561364859343));
res += mul(Get(s0,-dx,0), float4x4(0.017093185335398,0.001150417258032,0.021080281585455,0.008331095799804,-0.078073091804981,0.013317491859198,0.029887346550822,0.051750570535660,0.036613691598177,0.016719451174140,-0.004563292488456,-0.026921747252345,-0.053093668073416,0.021775355562568,-0.024455728009343,0.017980348318815));
res += mul(Get(s0,-dx,dy), float4x4(0.041534770280123,0.069751769304276,-0.003672232385725,-0.006152588408440,0.017056971788406,-0.036923184990883,-0.009113145992160,0.050098061561584,0.048325654119253,0.031221292912960,0.016534194350243,0.016547860577703,0.001442307024263,0.079815052449703,-0.045792650431395,-0.026671318337321));
res += mul(Get(s0,0,-dy), float4x4(-0.064356707036495,0.018576813861728,-0.009494281373918,-0.007964250631630,0.153130128979683,-0.035772491246462,0.038428876549006,-0.025099016726017,0.050421133637428,0.002776399720460,0.011386687867343,-0.014185091480613,-0.017298012971878,-0.027396114543080,-0.037518132477999,0.038907304406166));
res += mul(Get(s0,0,0), float4x4(-0.019133973866701,-0.064032189548016,0.033107113093138,-0.018498433753848,0.102249570190907,-0.009215614758432,-0.085565835237503,-0.028063194826245,0.008098288439214,0.011360469274223,-0.009208785369992,0.013202786445618,-0.049780260771513,-0.025491122156382,0.053906671702862,-0.010122231207788));
res += mul(Get(s0,0,dy), float4x4(0.099499285221100,0.022818896919489,0.003261715173721,-0.013499112799764,0.001929260557517,0.054543137550354,-0.017972033470869,0.042323790490627,0.033231690526009,0.037819355726242,0.009624096564949,0.023517465218902,-0.042277265340090,-0.069197677075863,0.137833490967751,-0.046146370470524));
res += mul(Get(s0,dx,-dy), float4x4(-0.067842677235603,0.017963856458664,-0.024105414748192,-0.029097029939294,0.261024266481400,-0.023330930620432,0.029427159577608,-0.014370239339769,0.152206659317017,-0.043439395725727,0.016168233007193,-0.019233796745539,-0.016882790252566,-0.040244799107313,-0.027093855664134,-0.050406087189913));
res += mul(Get(s0,dx,0), float4x4(-0.022255104035139,-0.071843586862087,-0.008492491208017,-0.069006204605103,0.120860800147057,0.026742724701762,0.007875252515078,0.008015509694815,0.017469761893153,-0.013579601421952,-0.007871578447521,0.015081101097167,-0.009636912494898,-0.059543732553720,0.044793784618378,-0.026288595050573));
res += mul(Get(s0,dx,dy), float4x4(0.086383052170277,0.006912758108228,-0.015314501710236,0.003973565995693,-0.044451702386141,0.020511323586106,0.081949867308140,-0.040398150682449,0.026816196739674,-0.002740715630352,-0.007709264755249,-0.011247309856117,-0.035468246787786,-0.094833485782146,0.098812907934189,0.013104733079672));
res += mul(Get(s1,-dx,-dy), float4x4(-0.056127961724997,0.036355562508106,0.055611800402403,0.035146877169609,-0.074922807514668,-0.017782505601645,-0.020546596497297,-0.065691396594048,-0.039249729365110,-0.046801861375570,-0.089692883193493,-0.021406697109342,-0.099637307226658,-0.093020379543304,0.082012079656124,0.014439754188061));
res += mul(Get(s1,-dx,0), float4x4(-0.062387812882662,-0.038859125226736,0.061496704816818,-0.018594240769744,-0.029383745044470,-0.054002296179533,0.102042488753796,0.208444043993950,0.007527606096119,0.141960069537163,0.244740352034569,0.327294766902924,-0.000772413972300,0.081767134368420,-0.024067576974630,0.135230958461761));
res += mul(Get(s1,-dx,dy), float4x4(-0.041702385991812,0.048446148633957,0.053381569683552,-0.099727161228657,0.099898003041744,-0.055804628878832,0.148682191967964,0.149028867483139,-0.051036324352026,0.099070310592651,0.047952596098185,-0.015962408855557,0.007090893574059,-0.111319966614246,0.054203834384680,-0.001791451359168));
res += mul(Get(s1,0,-dy), float4x4(-0.064368285238743,0.015171871520579,0.028693664819002,-0.019337130710483,-0.050694014877081,-0.102244257926941,0.183499142527580,-0.015752533450723,-0.079866655170918,-0.034146849066019,-0.082608856260777,-0.038824040442705,0.058051031082869,0.012376733124256,0.050708606839180,-0.106398008763790));
res += mul(Get(s1,0,0), float4x4(-0.097905822098255,-0.066842243075371,-0.001216742326505,0.034077897667885,-0.130063340067863,-0.020671395584941,-0.144215896725655,-0.248452216386795,-0.068961396813393,-0.102876491844654,0.014422379434109,-0.186932772397995,-0.129942312836647,0.455131918191910,-0.182837307453156,-0.148450598120689));
res += mul(Get(s1,0,dy), float4x4(-0.063809499144554,-0.019066097214818,0.058632396161556,-0.027993407100439,0.001769492984749,-0.063111431896687,-0.102783717215061,-0.096737317740917,-0.013210942037404,-0.122485935688019,0.005120005924255,-0.059928618371487,-0.016453713178635,0.185187205672264,-0.065252088010311,0.017612766474485));
res += mul(Get(s1,dx,-dy), float4x4(0.038238741457462,0.037923451513052,-0.009515110403299,-0.051140952855349,0.321982353925705,-0.033540938049555,-0.014965564943850,-0.077072598040104,-0.001090768957511,-0.039690762758255,-0.056773744523525,-0.007250068243593,-0.033012386411428,-0.080911196768284,-0.087848231196404,-0.094511337578297));
res += mul(Get(s1,dx,0), float4x4(-0.134425714612007,0.046062555164099,0.000757396861445,0.026231812313199,0.028366014361382,0.292133331298828,-0.014180453494191,0.150196403264999,-0.009049507789314,-0.111101537942886,0.019285704940557,-0.029071697965264,-0.040497504174709,-0.051893934607506,0.016688615083694,0.405790925025940));
res += mul(Get(s1,dx,dy), float4x4(-0.059358984231949,0.057626020163298,0.014295136556029,-0.025923319160938,-0.131677448749542,0.123433515429497,-0.073854744434357,-0.051302507519722,-0.044229809194803,0.005076488014311,-0.002064252737910,0.045824423432350,0.093454748392105,-0.010532268323004,-0.125750392675400,-0.062592543661594));
res += mul(Get(s2,-dx,-dy), float4x4(0.258289128541946,0.004563122987747,-0.023642668500543,-0.029783133417368,0.026910960674286,0.040277477353811,-0.009762332774699,0.036730859428644,-0.030053308233619,-0.024416847154498,0.008259793743491,-0.014103970490396,0.006757547613233,-0.000008858637557,-0.005855605937541,0.002253433689475));
res += mul(Get(s2,-dx,0), float4x4(0.067865990102291,0.021014293655753,-0.067068606615067,0.093428239226341,0.044271044433117,0.049483437091112,-0.017490662634373,-0.008264002390206,0.038100566715002,-0.196572303771973,0.196632489562035,-0.050274357199669,0.001475666067563,0.007546766661108,0.001441039144993,-0.000722431053873));
res += mul(Get(s2,-dx,dy), float4x4(0.012107735499740,0.048413291573524,-0.002905384404585,-0.010391216725111,0.014167829416692,0.045768365263939,0.005489931441844,-0.003303632605821,-0.087391398847103,-0.066543966531754,0.021712107583880,0.147392928600311,-0.001575461123139,-0.005322087556124,-0.001548694446683,0.007441686931998));
res += mul(Get(s2,0,-dy), float4x4(0.370026379823685,-0.076019592583179,0.042008012533188,0.034366399049759,-0.020471865311265,0.038735199719667,0.039964783936739,0.109388664364815,-0.112120628356934,-0.089715749025345,-0.082221545279026,0.067159064114094,-0.000515118939802,-0.000607241294347,-0.000349077919964,0.005770233459771));
res += mul(Get(s2,0,0), float4x4(0.036388177424669,-0.077889122068882,0.036196272820234,0.072325639426708,0.044932171702385,0.015891142189503,0.047950103878975,0.065870486199856,-0.000634600000922,-0.462212592363358,0.054972682148218,-0.142620727419853,0.003236707765609,0.000236877225689,-0.002313232980669,-0.006383812986314));
res += mul(Get(s2,0,dy), float4x4(-0.087349116802216,-0.050765361636877,0.067820288240910,0.039973933249712,0.008283032104373,0.006862026173621,0.040055088698864,0.018231868743896,0.004047011956573,-0.230006664991379,0.061407726258039,0.063103623688221,-0.004016269929707,0.001718945568427,0.000257177569438,0.001379337161779));
res += mul(Get(s2,dx,-dy), float4x4(0.070167481899261,0.055254362523556,-0.031708750873804,0.026641724631190,-0.035223390907049,0.008739484474063,-0.014403983019292,0.034296173602343,0.022630317136645,0.119508653879166,0.023949414491653,0.116834849119186,-0.000552288256586,0.000649759487715,-0.006625212263316,0.002842798363417));
res += mul(Get(s2,dx,0), float4x4(0.019512007012963,0.114979080855846,-0.010949121788144,0.152524769306183,0.040393631905317,0.000632010400295,0.000917013734579,0.081062465906143,-0.008573466911912,-0.205661028623581,-0.034124739468098,0.085134021937847,-0.002489617792889,-0.003119215369225,-0.005256724543869,0.004138944670558));
res += mul(Get(s2,dx,dy), float4x4(0.031674917787313,0.043544538319111,-0.007988026365638,0.030490335077047,0.058818478137255,-0.023846520110965,0.037284061312675,0.031850498169661,0.065902017056942,0.040230851620436,-0.011219895444810,-0.014366399496794,0.000043752886995,0.000977256451733,0.000658888777252,0.001927940058522));
res += mul(Get(s3,-dx,-dy), float4x4(-0.014954864978790,0.020499335601926,-0.027461530640721,-0.004789882805198,0.065513551235199,0.003570146160200,-0.056582193821669,0.035556472837925,-0.126960426568985,0.015439444221556,0.000526744523086,-0.051644671708345,0.016791535541415,0.060269095003605,-0.057430896908045,0.075720906257629));
res += mul(Get(s3,-dx,0), float4x4(-0.033666029572487,0.048217549920082,0.058351993560791,0.018046969547868,0.107033848762512,0.066478192806244,-0.086084321141243,0.064563497900963,-0.071262538433075,0.013636115938425,0.006209590937942,0.011338054202497,-0.000255622959230,0.095801934599876,-0.008338586427271,0.079132333397865));
res += mul(Get(s3,-dx,dy), float4x4(-0.031169369816780,-0.023198215290904,0.048768170177937,0.031438264995813,0.034510016441345,-0.026646269485354,-0.054094776511192,0.053460683673620,-0.010918491519988,0.020857259631157,0.077863737940788,-0.046667300164700,-0.050850991159678,0.085769720375538,0.077548205852509,-0.017142102122307));
res += mul(Get(s3,0,-dy), float4x4(-0.022780669853091,-0.043988041579723,-0.003018724033609,-0.065484896302223,0.019829042255878,0.001910591730848,-0.007542428560555,0.015030468814075,-0.119415067136288,-0.010743406601250,0.061426516622305,0.054208695888519,0.007620446383953,-0.012650529854000,-0.007740901317447,-0.003069709055126));
res += mul(Get(s3,0,0), float4x4(0.061338953673840,0.012607104144990,0.036560971289873,-0.046117164194584,0.105930827558041,-0.019385920837522,0.122322380542755,0.134117424488068,-0.090895846486092,-0.040629792958498,0.030511943623424,0.017397006973624,-0.027358286082745,-0.011566764675081,-0.048805758357048,0.022038642317057));
res += mul(Get(s3,0,dy), float4x4(-0.016208285465837,0.007484394591302,0.016830034554005,0.069005236029625,0.021830778568983,-0.061979893594980,0.077085316181183,0.099666334688663,-0.003848067484796,-0.044073175638914,0.096153505146503,-0.065337389707565,-0.031331136822701,-0.076012797653675,0.046437658369541,0.019456174224615));
res += mul(Get(s3,dx,-dy), float4x4(0.019164497032762,-0.055719245225191,-0.025293920189142,-0.075388289988041,-0.064267858862877,-0.007141000125557,0.031589962542057,-0.031750034540892,0.025081939995289,-0.059766575694084,0.023459300398827,-0.074164189398289,0.071519374847412,0.006040855776519,-0.031184589490294,-0.042776610702276));
res += mul(Get(s3,dx,0), float4x4(0.148252591490746,-0.010066342540085,0.005061756353825,-0.054184999316931,0.049266446381807,-0.063319981098175,0.032201372087002,-0.036381080746651,-0.087890915572643,-0.007398222107440,-0.054986439645290,-0.031866841018200,-0.115723423659801,0.085947163403034,-0.008323661983013,0.045401323586702));
res += mul(Get(s3,dx,dy), float4x4(-0.023143397644162,0.045476518571377,0.002659484976903,0.016895698383451,0.054721608757973,-0.061041325330734,0.053543023765087,0.027530776336789,-0.010105623863637,0.023513318970799,-0.005802673753351,-0.057228002697229,-0.142464473843575,-0.010725279338658,-0.034253146499395,-0.082594491541386));
return max(float4(0,0,0,0), res);
}
