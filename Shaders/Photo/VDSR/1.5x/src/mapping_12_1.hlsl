sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.083339743316174,-0.213176965713501,0.048818357288837,0.044681344181299,0.189208850264549,-0.038149427622557,-0.091343328356743,-0.029312068596482,-0.000098559423350,0.021606948226690,-0.121642895042896,-0.209040686488152,-0.087689585983753,-0.037749432027340,0.045425627380610,-0.013459533452988));
res += mul(Get(s0,-dx,0), float4x4(0.143459796905518,0.002115573966876,0.062721751630306,-0.061856351792812,0.108305215835571,0.110473610460758,0.175768181681633,0.002741286763921,0.031701315194368,0.051006268709898,-0.140068069100380,-0.091140404343605,-0.097104810178280,-0.069112129509449,0.076559506356716,-0.045171923935413));
res += mul(Get(s0,-dx,dy), float4x4(-0.032124988734722,0.115144491195679,0.152863621711731,0.077808864414692,0.129534691572189,-0.048900850117207,0.199857264757156,-0.065191015601158,0.052720498293638,-0.048950418829918,-0.056994970887899,-0.041574802249670,0.007272945716977,0.159393459558487,0.201308935880661,0.133693322539330));
res += mul(Get(s0,0,-dy), float4x4(-0.097065873444080,0.060127567499876,0.071133278310299,-0.011180053465068,-0.098720133304596,-0.022139333188534,-0.165996268391609,-0.077323094010353,-0.044895939528942,-0.057790067046881,0.073073789477348,0.015180204063654,0.035185083746910,-0.120973631739616,-0.046813748776913,-0.034150674939156));
res += mul(Get(s0,0,0), float4x4(-0.053987536579370,-0.047844521701336,-0.084201388061047,-0.004018419887871,0.093754656612873,0.215634092688560,-0.033483956009150,0.062657304108143,-0.003370923688635,0.080270834267139,0.104446552693844,-0.025764165446162,0.148974820971489,0.177011623978615,-0.108322508633137,-0.108828164637089));
res += mul(Get(s0,0,dy), float4x4(-0.075536929070950,-0.065835565328598,-0.009394894354045,-0.078867442905903,0.035551808774471,-0.019662456586957,-0.162526205182076,-0.002163479104638,-0.024177378043532,0.124953359365463,0.045550987124443,0.018821600824594,-0.023517796769738,-0.079092323780060,0.095005370676517,0.089976094663143));
res += mul(Get(s0,dx,-dy), float4x4(-0.054837431758642,-0.064198777079582,0.024330733343959,0.105866566300392,-0.041165899485350,-0.028688617050648,-0.069959469139576,0.053895045071840,0.073641501367092,0.133917868137360,0.092341385781765,-0.022316573187709,-0.000729707942810,-0.084796510636806,0.019830783829093,-0.070307105779648));
res += mul(Get(s0,dx,0), float4x4(-0.052497360855341,-0.027541151270270,-0.025942711159587,-0.033065695315599,-0.062822960317135,-0.078285738825798,-0.054912887513638,-0.046214010566473,-0.086238555610180,0.042913928627968,0.008475177921355,0.055377602577209,0.064652286469936,0.109649538993835,0.166073188185692,0.034988451749086));
res += mul(Get(s0,dx,dy), float4x4(0.099999696016312,-0.010816626250744,-0.018761869519949,-0.030653975903988,0.104480311274529,0.139314725995064,0.072928100824356,0.150207012891769,-0.019106527790427,-0.078703716397285,0.029492292553186,0.049934331327677,-0.192314580082893,0.057291567325592,0.108148530125618,0.006545204669237));
res += mul(Get(s1,-dx,-dy), float4x4(0.135408446192741,-0.007842853665352,0.076988577842712,-0.028599556535482,-0.042689140886068,0.068124480545521,0.006969935260713,-0.023388188332319,-0.052296288311481,0.070459567010403,0.047341886907816,0.005587617866695,-0.219338536262512,-0.020209779962897,-0.031300399452448,0.086269006133080));
res += mul(Get(s1,-dx,0), float4x4(0.042996235191822,-0.051880005747080,-0.047658592462540,0.005500831641257,0.074250072240829,-0.005376588087529,-0.017877524718642,-0.029547514393926,0.004543654154986,0.002376600401476,0.086816772818565,0.024760965257883,0.037969790399075,-0.038724217563868,0.035256788134575,-0.112058058381081));
res += mul(Get(s1,-dx,dy), float4x4(0.082188777625561,-0.027154831215739,0.192627057433128,0.085562340915203,0.075963929295540,0.010214823298156,0.049664195626974,0.035893965512514,0.009630077518523,-0.125353530049324,0.012035490944982,0.099401250481606,0.050220374017954,0.139736890792847,-0.029042296111584,-0.056013286113739));
res += mul(Get(s1,0,-dy), float4x4(0.004919877741486,0.017277291044593,0.000837827392388,0.109669692814350,0.067105166614056,-0.059402700513601,0.092453807592392,-0.123876273632050,0.092688515782356,0.025916004553437,-0.058143202215433,-0.129099220037460,-0.117691844701767,-0.208311527967453,0.078970544040203,0.080055266618729));
res += mul(Get(s1,0,0), float4x4(0.006385084707290,-0.070112809538841,-0.066452868282795,-0.026467457413673,-0.090582765638828,-0.175364792346954,-0.142542481422424,0.024018203839660,-0.040161389857531,0.106370769441128,0.159240782260895,0.025932341814041,-0.207200065255165,0.023763082921505,-0.137021943926811,-0.017958033829927));
res += mul(Get(s1,0,dy), float4x4(0.102962598204613,0.133664399385452,-0.030948532745242,0.063251025974751,-0.131494402885437,-0.059668362140656,-0.020104631781578,0.089358314871788,0.140355989336967,-0.041444905102253,-0.063814535737038,-0.005048833321780,-0.011147845536470,0.024057265371084,0.026653593406081,-0.146340593695641));
res += mul(Get(s1,dx,-dy), float4x4(-0.054375220090151,-0.082670144736767,0.129532262682915,0.180855721235275,0.244069740176201,0.094956509768963,0.080305583775043,0.064270198345184,0.119185201823711,-0.189742460846901,-0.100471563637257,-0.015781264752150,-0.014343375340104,-0.108405716717243,0.062296044081450,0.007273255847394));
res += mul(Get(s1,dx,0), float4x4(0.004259058739990,0.051528848707676,0.093762740492821,0.010510109364986,0.114828750491142,-0.144855141639709,-0.137440517544746,-0.042537353932858,0.031922217458487,-0.111360602080822,-0.106530994176865,-0.026538101956248,-0.156109079718590,-0.121987283229828,0.003267527092248,-0.084898859262466));
res += mul(Get(s1,dx,dy), float4x4(-0.029603667557240,-0.129229754209518,-0.035652838647366,0.008813868276775,0.038374997675419,0.048210162669420,0.266485512256622,-0.004212149418890,0.089566834270954,-0.017856830731034,-0.052845913916826,-0.035050004720688,0.000316142628435,0.083548389375210,-0.039391372352839,-0.057921782135963));
res += mul(Get(s2,-dx,-dy), float4x4(0.010737227275968,0.087836466729641,-0.105512842535973,0.012396554462612,-0.035330835729837,0.088181771337986,-0.121151097118855,-0.056173484772444,-0.206155270338058,0.081188231706619,-0.005520869977772,-0.037564955651760,-0.168490216135979,-0.027869943529367,-0.048533909022808,-0.044247016310692));
res += mul(Get(s2,-dx,0), float4x4(0.023054730147123,-0.027235165238380,0.068378768861294,-0.004953584633768,0.093881182372570,0.014150850474834,-0.035415176302195,0.023486386984587,0.099545665085316,0.005815843585879,-0.116243124008179,-0.151433616876602,0.042670425027609,-0.021899081766605,-0.107278265058994,-0.083876483142376));
res += mul(Get(s2,-dx,dy), float4x4(0.093074634671211,0.049320057034492,-0.015507860109210,0.039353616535664,0.134267151355743,0.034687466919422,0.157327488064766,-0.113145843148232,0.006703585386276,-0.038509447127581,0.145545706152916,-0.024916466325521,0.052914790809155,0.048488624393940,-0.078345976769924,-0.009215491823852));
res += mul(Get(s2,0,-dy), float4x4(0.128571301698685,0.093487769365311,0.182584732770920,0.030264394357800,0.073111362755299,-0.005781533662230,-0.003220394952223,0.026831993833184,-0.012869236990809,0.030509414151311,0.060510843992233,0.076777808368206,-0.035646423697472,-0.153071761131287,0.094260774552822,0.027161132544279));
res += mul(Get(s2,0,0), float4x4(-0.054644558578730,-0.037818763405085,-0.079007662832737,0.094736218452454,0.015241936780512,-0.103304482996464,-0.146932110190392,-0.132211238145828,0.071007668972015,0.032695449888706,-0.057688068598509,-0.028039693832397,0.187474012374878,-0.023741029202938,0.040513042360544,-0.019078839570284));
res += mul(Get(s2,0,dy), float4x4(-0.100418403744698,0.024000050500035,-0.159329324960709,0.073525115847588,-0.172606527805328,0.014233825728297,0.033420383930206,0.002112256595865,0.124756410717964,0.194004371762276,-0.130413994193077,0.248123168945313,-0.100693762302399,-0.201009944081306,0.080106146633625,-0.059999719262123));
res += mul(Get(s2,dx,-dy), float4x4(-0.019033368676901,0.066776454448700,-0.029418107122183,0.137411087751389,0.002557039260864,0.049072973430157,-0.052579745650291,-0.041022483259439,-0.034278262406588,-0.017402721568942,-0.081726431846619,0.066110678017139,-0.091193854808807,0.038138788193464,-0.038303598761559,-0.039896260946989));
res += mul(Get(s2,dx,0), float4x4(-0.097171857953072,0.067150756716728,-0.138249948620796,0.069622561335564,-0.000198462468688,-0.071352191269398,0.224135696887970,-0.022549921646714,-0.062425624579191,0.063259661197662,0.025738351047039,-0.003153912257403,0.095462776720524,0.059993967413902,0.190246745944023,0.107338406145573));
res += mul(Get(s2,dx,dy), float4x4(0.056985080242157,-0.187526971101761,0.043009255081415,-0.148963212966919,-0.029314100742340,0.084981948137283,0.046205431222916,-0.059628814458847,0.192031070590019,-0.039200384169817,0.071108877658844,0.076689235866070,-0.068692728877068,0.064357273280621,0.013924516737461,0.056003879755735));
res += mul(Get(s3,-dx,-dy), float4x4(0.063356257975101,0.061399936676025,0.033297270536423,0.037725880742073,-0.024382602423429,-0.083027616143227,-0.046391401439905,-0.006009489297867,0.054915890097618,-0.005823245737702,-0.102376155555248,-0.065369121730328,0.069060370326042,-0.070952616631985,0.024692121893167,-0.148669004440308));
res += mul(Get(s3,-dx,0), float4x4(-0.033446524292231,-0.035275988280773,0.010357792489231,0.018142728134990,0.004660311620682,0.098016634583473,0.304362416267395,-0.043627891689539,-0.020804924890399,0.117972381412983,-0.028786122798920,-0.095663696527481,-0.087255574762821,-0.130833819508553,0.169972971081734,0.038624677807093));
res += mul(Get(s3,-dx,dy), float4x4(0.005369307007641,0.115811362862587,-0.014275504276156,-0.026843883097172,0.129038497805595,-0.209687843918800,0.051961921155453,0.055656176060438,-0.069687142968178,-0.001378883374855,-0.057024907320738,0.023860648274422,0.111966736614704,0.057118676602840,0.124110847711563,0.001937782508321));
res += mul(Get(s3,0,-dy), float4x4(-0.145367935299873,-0.141435921192169,0.193051323294640,-0.102230019867420,0.041565090417862,0.146758988499641,0.111715108156204,0.005974708590657,0.094587169587612,0.046372365206480,0.061490271240473,0.088748879730701,0.003990103956312,-0.025462972000241,0.095299370586872,0.004469349514693));
res += mul(Get(s3,0,0), float4x4(-0.019812759011984,-0.034451816231012,0.032163750380278,0.030360518023372,-0.025313491001725,0.329639583826065,0.251333594322205,-0.174753651022911,0.072975873947144,-0.198150947690010,-0.077639363706112,-0.083826735615730,0.028436424210668,0.168231442570686,0.085889153182507,0.045139759778976));
res += mul(Get(s3,0,dy), float4x4(-0.061833854764700,0.023888647556305,-0.155128687620163,0.027129089459777,0.037854321300983,0.125701427459717,-0.134417057037354,-0.065698713064194,0.010310423560441,0.041283242404461,-0.029532959684730,0.032600764185190,0.078665353357792,0.131648778915405,0.206417530775070,0.034811291843653));
res += mul(Get(s3,dx,-dy), float4x4(-0.048264924436808,0.020319692790508,-0.033576689660549,0.131733343005180,0.024457424879074,-0.004372873343527,0.002554507460445,-0.113245174288750,0.001893706037663,0.095762431621552,0.007496492005885,0.033573765307665,0.033693358302116,-0.002556846244261,0.010502546094358,0.102082967758179));
res += mul(Get(s3,dx,0), float4x4(-0.016014972701669,-0.073464930057526,0.125373139977455,-0.035143759101629,-0.047836702316999,0.194962933659554,0.095973894000053,-0.109648041427135,-0.097787693142891,-0.037204463034868,-0.022474551573396,0.057296290993690,-0.099521741271019,-0.029847839847207,-0.150018587708473,-0.076014757156372));
res += mul(Get(s3,dx,dy), float4x4(-0.025935130193830,-0.089716799557209,0.072346203029156,0.116285063326359,-0.026286326348782,-0.038739088922739,0.001647486118600,-0.032563991844654,0.045570444315672,-0.060031864792109,-0.161564886569977,0.127283826470375,-0.060615099966526,-0.044026244431734,-0.040761101990938,-0.117347493767738));
return max(float4(0,0,0,0), res);
}
