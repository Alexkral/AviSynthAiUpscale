sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.033401239663363,0.096022374927998,-0.067122913897038,-0.024009143933654,-0.077394053339958,0.002008144976571,-0.026983527466655,0.035889111459255,-0.004606993403286,0.082351252436638,0.126126527786255,0.081528618931770,-0.035031396895647,-0.051341846585274,-0.082081072032452,0.006205284036696));
res += mul(Get(s0,-dx,0), float4x4(0.001676289015450,-0.003944349009544,0.001976202474907,0.064034946262836,-0.059621211141348,0.020269935950637,0.001049704616889,-0.067345999181271,-0.078289344906807,0.015008705668151,-0.027672169730067,0.085845768451691,-0.115149207413197,-0.127726227045059,-0.056486397981644,0.024032562971115));
res += mul(Get(s0,-dx,dy), float4x4(0.008993616327643,0.050295580178499,-0.008823835290968,0.033584121614695,-0.002765853190795,0.029857842251658,0.028121829032898,-0.051325507462025,-0.043791908770800,-0.031325235962868,-0.019102741032839,-0.019718836992979,0.096507318317890,0.049543380737305,0.005889149848372,0.030235502868891));
res += mul(Get(s0,0,-dy), float4x4(0.006234143860638,0.157035306096077,-0.055311892181635,0.134178578853607,-0.010592957027256,-0.034616943448782,-0.094275102019310,0.001106552546844,-0.123075388371944,0.030785277485847,-0.065723441541195,-0.058797728270292,0.033463884145021,-0.035958789288998,-0.044537976384163,0.039971843361855));
res += mul(Get(s0,0,0), float4x4(0.019987449049950,-0.081723988056183,-0.049082167446613,0.012809805572033,-0.032695818692446,0.024832602590322,-0.028900517150760,-0.034291613847017,-0.049813155084848,0.101154267787933,0.071231491863728,-0.011802580207586,0.137099355459213,-0.202053397893906,-0.032626286149025,0.058330934494734));
res += mul(Get(s0,0,dy), float4x4(0.021317034959793,0.065451435744762,0.019149037078023,-0.076548293232918,0.022866692394018,0.018958263099194,0.045652531087399,-0.049854855984449,-0.019325468689203,0.000753564876504,-0.104324914515018,0.030694033950567,-0.086392715573311,-0.017928516492248,-0.177402362227440,0.130596026778221));
res += mul(Get(s0,dx,-dy), float4x4(-0.061023626476526,0.116206042468548,-0.062710836529732,0.138223260641098,-0.063422754406929,0.010288084857166,-0.070045240223408,0.020036585628986,0.108865469694138,0.095234833657742,-0.017430407926440,0.017705190926790,-0.016862392425537,-0.059004273265600,0.016049649566412,-0.003131870878860));
res += mul(Get(s0,dx,0), float4x4(0.003321996191517,0.138372197747231,-0.055223882198334,-0.005850375164300,-0.123126804828644,0.043924920260906,0.029881013557315,-0.018081905320287,0.102505750954151,0.085038699209690,0.010662850923836,0.030754754319787,-0.037502698600292,-0.083268716931343,0.049270726740360,-0.040515210479498));
res += mul(Get(s0,dx,dy), float4x4(-0.017593331634998,-0.005054373759776,-0.031651910394430,0.045696452260017,-0.088727287948132,0.070800252258778,0.012384734116495,-0.020108830183744,-0.009960442781448,0.024918027222157,0.025051241740584,0.106352642178535,-0.045460376888514,0.067090004682541,0.120588213205338,0.097780764102936));
res += mul(Get(s1,-dx,-dy), float4x4(0.000825712515507,0.018934357911348,-0.048396971076727,0.042596150189638,-0.045741003006697,-0.014567832462490,0.100422859191895,-0.053441584110260,-0.137135908007622,0.024349266663194,0.149137124419212,0.022548433393240,-0.009403621777892,0.015241975896060,-0.067071251571178,-0.015259709209204));
res += mul(Get(s1,-dx,0), float4x4(0.089215360581875,0.070897951722145,0.008735925890505,-0.061537966132164,-0.121011570096016,-0.064148031175137,-0.037117242813110,0.108206830918789,-0.221261993050575,0.051335193216801,0.108082331717014,-0.008663705550134,0.094265207648277,-0.024996269494295,-0.088168770074844,-0.054488148540258));
res += mul(Get(s1,-dx,dy), float4x4(-0.048117883503437,0.046980578452349,-0.041447401046753,-0.004132518079132,-0.057489003986120,0.055283382534981,0.026007380336523,0.096906460821629,-0.148015633225441,-0.039816033095121,0.005425931420177,-0.048723235726357,-0.049368299543858,0.059753943234682,0.019302163273096,0.025470403954387));
res += mul(Get(s1,0,-dy), float4x4(-0.023148261010647,0.050335343927145,0.007751292549074,0.075824052095413,-0.041026275604963,0.133164271712303,0.053335119038820,-0.037719331681728,-0.027378048747778,-0.003287950763479,-0.060952167958021,-0.018193461000919,0.009145233780146,-0.006308213341981,0.082538239657879,0.104846380650997));
res += mul(Get(s1,0,0), float4x4(0.036855254322290,0.087996274232864,-0.016655826941133,0.002202514559031,-0.011772495694458,0.005377910099924,0.080105319619179,0.124573856592178,-0.083180621266365,-0.032719291746616,0.074597865343094,-0.010163445957005,0.057396035641432,-0.010351854376495,-0.043720431625843,0.106472492218018));
res += mul(Get(s1,0,dy), float4x4(-0.043939553201199,0.001696777297184,-0.000734059431124,-0.042534098029137,-0.001341714640148,0.054963428527117,0.035161253064871,0.021102396771312,-0.113185569643974,0.082535088062286,-0.011999265290797,-0.012474121525884,0.070804901421070,-0.016697581857443,-0.032253012061119,0.118452616035938));
res += mul(Get(s1,dx,-dy), float4x4(0.002601066604257,0.058443550020456,0.039218343794346,0.046782713383436,0.008431279100478,-0.020651388913393,-0.049836318939924,0.019892791286111,-0.002162326825783,0.032502949237823,0.046426653862000,-0.029795801267028,0.068988114595413,-0.065304972231388,0.037666112184525,-0.089766547083855));
res += mul(Get(s1,dx,0), float4x4(-0.070218555629253,0.061239134520292,0.082944415509701,0.051588542759418,-0.080580018460751,-0.020506642758846,-0.028342556208372,0.012149247340858,0.187384977936745,0.002041688421741,-0.053101334720850,-0.016633620485663,0.075320236384869,0.047875631600618,0.051565993577242,0.011942528188229));
res += mul(Get(s1,dx,dy), float4x4(-0.009450898505747,0.054693941026926,0.039449762552977,-0.073677510023117,-0.034390188753605,0.022925700992346,0.030504275113344,0.040642663836479,0.023945858702064,-0.025482557713985,0.019077209755778,-0.097732342779636,0.068011470139027,-0.041336260735989,-0.000775146472733,-0.102953612804413));
res += mul(Get(s2,-dx,-dy), float4x4(-0.013166317716241,0.079078204929829,-0.069256141781807,-0.033740840852261,-0.039641421288252,0.013268007896841,0.021307669579983,-0.087913267314434,0.101611562073231,0.082670673727989,-0.088871926069260,-0.057278078049421,0.056790608912706,-0.156598746776581,-0.070193670690060,0.060255050659180));
res += mul(Get(s2,-dx,0), float4x4(-0.039637461304665,-0.034753479063511,-0.010174519382417,-0.049679551273584,-0.089603282511234,0.003886727849022,-0.030104639008641,-0.085969895124435,0.259494513273239,-0.025788623839617,-0.063578486442566,0.016530793160200,0.180143550038338,-0.038399562239647,0.015162446536124,0.031011385843158));
res += mul(Get(s2,-dx,dy), float4x4(-0.036997582763433,-0.023742413148284,-0.005829315632582,-0.014144500717521,-0.070208907127380,-0.003754661185667,-0.031532812863588,-0.033769924193621,0.040462244302034,-0.036553848534822,-0.014815161935985,0.017210369929671,-0.083790637552738,0.026630267500877,-0.007490045856684,0.037212595343590));
res += mul(Get(s2,0,-dy), float4x4(-0.009248989634216,0.026989229023457,-0.104941703379154,-0.019912753254175,-0.017803244292736,-0.000477232999401,0.007666265126318,0.110814340412617,-0.012613040395081,0.000633854477201,-0.010235359892249,0.065779298543930,0.019758377224207,-0.258363842964172,0.049802530556917,0.105844229459763));
res += mul(Get(s2,0,0), float4x4(0.099151223897934,0.010695192031562,-0.132943317294121,-0.064552322030067,0.083886548876762,-0.062416620552540,0.106809832155704,0.073023915290833,-0.061801213771105,-0.011378462426364,-0.080263860523701,-0.070580698549747,0.035778481513262,-0.055819258093834,-0.106300793588161,-0.088289029896259));
res += mul(Get(s2,0,dy), float4x4(0.184219509363174,0.040399812161922,-0.108060672879219,0.002684903796762,0.017666516825557,0.008771556429565,0.059124596416950,0.141525283455849,0.044938310980797,0.000510385667440,-0.034401684999466,-0.125422388315201,0.136887818574905,0.014962407760322,-0.093719325959682,-0.079240694642067));
res += mul(Get(s2,dx,-dy), float4x4(-0.012284619733691,-0.000406160135753,-0.051584184169769,-0.012647169642150,-0.093895904719830,-0.021431500092149,-0.016365936025977,-0.053834505379200,-0.032144274562597,0.049618478864431,0.038812521845102,0.051347188651562,-0.069512635469437,-0.035646047443151,0.231244817376137,0.020525909960270));
res += mul(Get(s2,dx,0), float4x4(0.036071501672268,-0.007476715836674,0.035347107797861,0.071432061493397,-0.070045404136181,-0.004488093312830,-0.031763121485710,-0.065025739371777,-0.098015770316124,-0.046083670109510,0.021522920578718,-0.068834975361824,-0.011470380239189,-0.038032785058022,0.145612552762032,0.067189887166023));
res += mul(Get(s2,dx,dy), float4x4(0.054391879588366,-0.034217979758978,-0.019489629194140,0.028417179360986,-0.021946242079139,0.057963971048594,-0.038114435970783,-0.018368201330304,-0.038469787687063,-0.056061957031488,0.092134818434715,-0.092400044202805,0.041778776794672,0.003053254680708,0.042302805930376,0.035616766661406));
res += mul(Get(s3,-dx,-dy), float4x4(-0.018312670290470,-0.017958747223020,0.026145957410336,0.020144784823060,0.117340914905071,-0.074676476418972,-0.054557658731937,0.009496103040874,-0.086245618760586,-0.050582237541676,-0.122081115841866,-0.007293708156794,0.101907014846802,-0.000805138202850,0.005017073359340,-0.006962806452066));
res += mul(Get(s3,-dx,0), float4x4(-0.018647776916623,-0.001037561800331,0.074143901467323,-0.031400173902512,0.064584113657475,-0.068436667323112,0.062828339636326,0.128905013203621,-0.043538160622120,-0.127591714262962,-0.087640985846519,-0.077397808432579,0.102481454610825,-0.003240381833166,0.006763567682356,0.004195799119771));
res += mul(Get(s3,-dx,dy), float4x4(-0.087437450885773,-0.053812149912119,-0.012404357083142,0.049489811062813,0.013845004141331,-0.019176207482815,-0.060538448393345,0.017475666478276,-0.049438819289207,-0.051251374185085,-0.050722163170576,-0.065822154283524,0.011167789809406,-0.044143233448267,-0.041095443069935,-0.073307923972607));
res += mul(Get(s3,0,-dy), float4x4(-0.095007628202438,-0.065914869308472,0.104666903614998,0.025308463722467,-0.011949577368796,0.012287566438317,0.027895027771592,0.050414215773344,-0.093215867877007,-0.130138427019119,-0.034217238426208,-0.123238980770111,0.061215292662382,-0.074466392397881,0.049085889011621,-0.074275150895119));
res += mul(Get(s3,0,0), float4x4(-0.004049118608236,0.018680231645703,0.006907773204148,0.058911144733429,0.062568828463554,-0.027311228215694,-0.098008066415787,-0.036564834415913,-0.075476437807083,-0.077790774405003,-0.064341664314270,0.059029031544924,0.073284782469273,-0.039024669677019,0.104185029864311,-0.072736404836178));
res += mul(Get(s3,0,dy), float4x4(-0.057327203452587,-0.044840354472399,0.006874659564346,-0.013287255540490,0.126010939478874,-0.035964131355286,-0.039140261709690,0.069692321121693,-0.038769654929638,0.015861770138144,-0.114908143877983,0.041852552443743,-0.034625571221113,0.036517091095448,0.136918723583221,-0.024316100403666));
res += mul(Get(s3,dx,-dy), float4x4(0.007149914279580,-0.051779814064503,0.021927917376161,0.070191621780396,0.028178792446852,0.057627975940704,0.182496890425682,-0.096617013216019,-0.023530686274171,-0.117626167833805,0.017356883734465,-0.075000025331974,-0.035759478807449,0.121717333793640,0.061422601342201,-0.060882363468409));
res += mul(Get(s3,dx,0), float4x4(0.051420308649540,-0.023344308137894,0.125645965337753,0.083420060575008,0.008492322638631,0.093248434364796,0.127471134066582,0.052007116377354,0.023524878546596,-0.008116150274873,-0.072980858385563,0.021322272717953,-0.039440911263227,0.098918206989765,0.014787756837904,0.041951112449169));
res += mul(Get(s3,dx,dy), float4x4(-0.011492066085339,-0.026290955021977,0.077775664627552,0.092503257095814,-0.074587091803551,0.063634105026722,0.030946455895901,0.088265053927898,-0.000361555605195,0.058255281299353,-0.124679222702980,-0.043518748134375,-0.002268259413540,0.063125662505627,0.011146368458867,-0.142966702580452));
return max(float4(0,0,0,0), res);
}
