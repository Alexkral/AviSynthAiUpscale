sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006942504085600,0.004068308044225,-0.034780211746693,0.002781071467325,0.055568315088749,0.039019308984280,0.055032480508089,-0.070296145975590,0.057589445263147,-0.029239840805531,-0.049569115042686,0.076023325324059,-0.054611995816231,-0.063870899379253,-0.060299336910248,-0.140977859497070));
res += mul(Get(s0,-dx,0), float4x4(-0.014553694054484,-0.061065465211868,0.032380111515522,-0.025316428393126,-0.052118476480246,-0.046209141612053,-0.028773071244359,0.111674599349499,0.001155120786279,-0.058597330003977,0.055915001779795,0.004285213537514,-0.004052396863699,-0.003916496876627,0.041044529527426,-0.050246499478817));
res += mul(Get(s0,-dx,dy), float4x4(-0.066807687282562,-0.035562273114920,-0.046616908162832,-0.042599428445101,-0.033751375973225,-0.051818646490574,0.128617465496063,-0.081104271113873,0.023861525580287,0.114173114299774,-0.070871829986572,-0.207292720675468,-0.021908333525062,-0.042134772986174,0.079265713691711,0.088055849075317));
res += mul(Get(s0,0,-dy), float4x4(-0.030497092753649,0.068689204752445,0.044469762593508,-0.008400986902416,0.020216939970851,0.044683933258057,0.038728013634682,-0.062046304345131,-0.006153438240290,-0.139463588595390,-0.097569078207016,-0.009535229764879,-0.061756096780300,-0.056665021926165,-0.006648864131421,-0.081502914428711));
res += mul(Get(s0,0,0), float4x4(0.040865428745747,-0.028836984187365,0.097666844725609,0.006016674451530,-0.120608523488045,0.055020127445459,0.041489355266094,0.072369210422039,0.023361654952168,0.038727059960365,-0.045266050845385,0.008715593256056,0.009337703697383,0.028466319665313,-0.026402717456222,-0.003141414606944));
res += mul(Get(s0,0,dy), float4x4(-0.089351415634155,0.017779149115086,0.031126176938415,0.025118049234152,-0.108396679162979,-0.039601359516382,0.090906172990799,0.052777547389269,0.105974614620209,0.117583543062210,0.002630432369187,-0.168064072728157,-0.068168327212334,0.032583255320787,0.028623586520553,0.034691300243139));
res += mul(Get(s0,dx,-dy), float4x4(0.061085313558578,0.068609498441219,-0.048574421554804,0.011974998749793,0.057819928973913,-0.021936913952231,0.022762313485146,-0.031560137867928,0.061749845743179,0.050668325275183,-0.057234175503254,-0.029871596023440,-0.048998989164829,0.074675098061562,-0.018832029774785,-0.156099155545235));
res += mul(Get(s0,dx,0), float4x4(0.077921047806740,0.168238401412964,-0.040467772632837,-0.018593387678266,-0.020112954080105,-0.028704293072224,0.091695122420788,-0.035746943205595,0.040939129889011,0.129671379923820,-0.036343157291412,0.111023396253586,-0.065660484135151,-0.036051027476788,-0.089303135871887,-0.026790285483003));
res += mul(Get(s0,dx,dy), float4x4(0.079644650220871,0.028190599754453,-0.112750321626663,0.018674574792385,-0.036625698208809,0.048492625355721,-0.114675201475620,0.033703569322824,0.083634272217751,0.004616886842996,0.024385722354054,-0.112975187599659,-0.064374864101410,-0.041885618120432,-0.002992062596604,0.119297899305820));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015293717384338,-0.088651217520237,-0.126441240310669,-0.046257626265287,-0.064034283161163,-0.021562358364463,-0.007760215085000,-0.047373779118061,-0.000775479245931,-0.012912545353174,0.020732710137963,0.011782564222813,-0.060274332761765,-0.072256393730640,-0.049269132316113,0.049837727099657));
res += mul(Get(s1,-dx,0), float4x4(-0.118341051042080,0.059725183993578,-0.037703283131123,0.094675436615944,0.033981569111347,0.066165857017040,0.039156921207905,-0.004278826061636,0.046407345682383,0.049159754067659,0.138873592019081,0.025353452190757,0.078880004584789,-0.000908076413907,-0.022165538743138,0.049021165817976));
res += mul(Get(s1,-dx,dy), float4x4(-0.165889680385590,0.048848360776901,-0.104765936732292,-0.016486283391714,0.131695702672005,-0.021288523450494,-0.044205442070961,0.108788155019283,0.015843825414777,0.000642602273729,0.007839335128665,-0.045328315347433,0.019998287782073,-0.045467719435692,-0.102797895669937,-0.111821725964546));
res += mul(Get(s1,0,-dy), float4x4(0.007657302543521,-0.037155069410801,0.116272717714310,-0.090987287461758,0.021669581532478,0.034025028347969,0.026566825807095,0.020638080313802,0.004462602548301,0.007535522338003,0.054194469004869,0.008349059149623,0.010131807066500,-0.029911044985056,0.005717209540308,0.050995305180550));
res += mul(Get(s1,0,0), float4x4(0.244082406163216,0.074906244874001,0.330730587244034,0.116185933351517,0.035661846399307,0.068516552448273,0.037455901503563,-0.034853622317314,-0.099180579185486,0.075245216488838,-0.152301460504532,0.043631587177515,-0.018320230767131,-0.110214605927467,-0.070436589419842,0.156771570444107));
res += mul(Get(s1,0,dy), float4x4(-0.043619029223919,-0.005346816498786,-0.022304005920887,-0.050126750022173,-0.001349343219772,0.018073227256536,-0.129126757383347,0.152270212769508,-0.052314460277557,0.052677933126688,0.036522515118122,-0.027602443471551,0.075260564684868,0.035115655511618,0.120444327592850,-0.224187254905701));
res += mul(Get(s1,dx,-dy), float4x4(0.014834599569440,-0.015531812794507,0.043827023357153,-0.078452907502651,0.012252766638994,0.008658979088068,-0.040762141346931,-0.026255417615175,0.008763165213168,-0.057808578014374,0.047706104815006,-0.009049887768924,-0.037582069635391,0.011317088268697,-0.001280270051211,0.032976843416691));
res += mul(Get(s1,dx,0), float4x4(0.039046648889780,-0.030221827328205,-0.091910898685455,0.124173313379288,-0.054400920867920,0.004576160106808,-0.086550891399384,-0.059132698923349,0.041428469121456,-0.027956340461969,0.067116700112820,-0.003025390906259,0.060042165219784,0.075864546000957,0.064192987978458,-0.002191075589508));
res += mul(Get(s1,dx,dy), float4x4(-0.035034503787756,-0.028042217716575,-0.037334777414799,-0.071171067655087,-0.016268534585834,0.090695984661579,-0.058309789747000,0.093769870698452,0.046688601374626,0.024625161662698,0.023808922618628,-0.018311580643058,-0.041876289993525,-0.143798455595970,-0.023607596755028,-0.050592701882124));
res += mul(Get(s2,-dx,-dy), float4x4(0.023028604686260,-0.043350659310818,-0.083184227347374,0.047812044620514,-0.007253717631102,-0.016761314123869,-0.024313906207681,-0.062412321567535,0.055078674107790,0.054191805422306,0.021010480821133,-0.056563276797533,-0.020309196785092,-0.077909074723721,-0.037243735045195,0.041802726686001));
res += mul(Get(s2,-dx,0), float4x4(-0.003387104487047,-0.033353842794895,-0.067112959921360,0.002767934231088,0.051220525056124,0.041189026087523,0.044446993619204,0.068936318159103,0.020433897152543,0.059193748980761,-0.041233096271753,-0.072939559817314,-0.010766946710646,0.081497222185135,-0.029361793771386,-0.078788317739964));
res += mul(Get(s2,-dx,dy), float4x4(-0.015041115693748,0.009890360757709,-0.143282547593117,-0.043488223105669,0.059874806553125,0.074672393500805,-0.058383330702782,-0.022755324840546,0.190750151872635,0.110170081257820,-0.111665382981300,-0.057351570576429,0.062154073268175,-0.041919551789761,-0.031560678035021,0.077289916574955));
res += mul(Get(s2,0,-dy), float4x4(-0.017964813858271,0.014608725905418,-0.080275721848011,-0.005167107097805,0.102421522140503,-0.001424211426638,-0.033843837678432,-0.058734036982059,0.017033353447914,-0.084906354546547,-0.008191890083253,-0.016555834561586,-0.026768479496241,-0.036094170063734,0.008242091163993,0.070225410163403));
res += mul(Get(s2,0,0), float4x4(-0.038093056529760,0.015542551875114,-0.058338671922684,0.064575314521790,-0.016746260225773,0.051624681800604,0.067859388887882,0.017052192240953,0.019468644633889,-0.027025986462831,0.008886408060789,-0.076400518417358,0.007098230533302,-0.010078144259751,-0.022165419533849,-0.076163403689861));
res += mul(Get(s2,0,dy), float4x4(0.055215407162905,-0.078438781201839,-0.082955799996853,0.014091338030994,-0.070069231092930,0.045550238341093,-0.024640971794724,0.077058978378773,0.257779031991959,0.131869837641716,0.094206012785435,-0.043304905295372,0.079684071242809,-0.047498825937510,0.020310182124376,0.054331392049789));
res += mul(Get(s2,dx,-dy), float4x4(0.050553623586893,-0.003935217391700,-0.002240528119728,-0.062134221196175,0.044730100780725,0.017703259363770,-0.020601896569133,-0.087497860193253,0.031064255163074,-0.008424244821072,-0.006329557858407,0.029433758929372,-0.005392007064074,0.015548933297396,-0.042165834456682,0.075167149305344));
res += mul(Get(s2,dx,0), float4x4(-0.010707078501582,-0.055390954017639,-0.127043426036835,-0.007984815165401,0.036957450211048,0.097323775291443,0.096500337123871,0.068337418138981,0.060006625950336,0.007948379032314,0.075227670371532,-0.019135622307658,-0.043469429016113,0.066299594938755,-0.012698382139206,-0.077491901814938));
res += mul(Get(s2,dx,dy), float4x4(-0.010335177183151,-0.091853007674217,-0.171579807996750,0.038204740732908,-0.121360898017883,0.009173908270895,0.036886379122734,0.051170762628317,0.100949063897133,-0.057503942400217,-0.011411500163376,-0.008778165094554,-0.001365284086205,-0.049976490437984,0.046651337295771,0.057702261954546));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001269498607144,-0.102712914347649,-0.044713262468576,-0.010402910411358,-0.062181983143091,0.056996107101440,0.057771135121584,0.103404380381107,-0.030741861090064,-0.032994985580444,0.019030753523111,0.034878849983215,0.022449251264334,-0.026373628526926,-0.002629220718518,0.025541121140122));
res += mul(Get(s3,-dx,0), float4x4(0.135611191391945,-0.017388937994838,-0.079221211373806,-0.072656020522118,-0.076596543192863,0.197000861167908,-0.027518160641193,0.049194097518921,-0.033416174352169,-0.082283392548561,0.085770815610886,-0.040331292897463,0.126243159174919,-0.021971872076392,0.095238626003265,0.022356338799000));
res += mul(Get(s3,-dx,dy), float4x4(0.298637300729752,0.015548208728433,-0.065080791711807,0.032382033765316,-0.105775833129883,0.057903897017241,0.045878030359745,-0.087959736585617,-0.142838194966316,0.048097446560860,0.030362622812390,-0.081750780344009,0.023583790287375,0.008006855845451,0.023684302344918,-0.012882412411273));
res += mul(Get(s3,0,-dy), float4x4(-0.081998586654663,0.084572225809097,0.048512909561396,0.000583418179303,0.051913775503635,-0.132744982838631,0.067058376967907,0.205468907952309,0.049683537334204,0.013017728924751,0.000352593749994,0.044274512678385,0.004088154993951,-0.103506818413734,-0.045096073299646,0.050452385097742));
res += mul(Get(s3,0,0), float4x4(-0.049669202417135,0.077853113412857,-0.043404117226601,-0.042434476315975,-0.014372103847563,0.249996721744537,-0.058495827019215,-0.091365747153759,0.088692739605904,0.016591310501099,0.299730598926544,-0.007454604841769,-0.038163784891367,0.132398128509521,-0.001231596688740,0.018544191494584));
res += mul(Get(s3,0,dy), float4x4(0.191278845071793,0.003405291587114,-0.049826279282570,0.001713403034955,-0.252502977848053,0.147814378142357,0.026146341115236,0.004317683633417,-0.043578766286373,-0.035654425621033,0.018024429678917,-0.010166116990149,0.032135304063559,0.080013833940029,-0.020605538040400,-0.007329223211855));
res += mul(Get(s3,dx,-dy), float4x4(0.070417419075966,0.050412371754646,0.033289585262537,-0.028563387691975,-0.051509004086256,-0.109029047191143,-0.099645085632801,0.161014363169670,-0.034640032798052,0.009933907538652,0.023380432277918,-0.015137108974159,0.025132231414318,-0.024549596011639,-0.020121455192566,0.003965902607888));
res += mul(Get(s3,dx,0), float4x4(0.004208171740174,0.026001654565334,-0.050210561603308,-0.036495275795460,-0.000178164700628,-0.084912985563278,0.157164350152016,-0.026894640177488,-0.005162795074284,0.004617015831172,0.083270691335201,0.012531962245703,0.054479077458382,0.098939500749111,0.059600822627544,0.046832684427500));
res += mul(Get(s3,dx,dy), float4x4(0.022707803174853,-0.036985266953707,0.002546165138483,0.024394458159804,-0.084185235202312,0.042560376226902,0.058293584734201,-0.058532390743494,-0.081631526350975,-0.039018563926220,-0.082976303994656,-0.008634165860713,0.006064153276384,0.025539284572005,-0.035947661846876,-0.005105134099722));
return max(float4(0,0,0,0), res);
}
