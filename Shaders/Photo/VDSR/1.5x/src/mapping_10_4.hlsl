sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.039797361940145,-0.072169125080109,0.018411576747894,0.129698291420937,0.056457076221704,-0.062983140349388,-0.062167126685381,-0.082068793475628,0.080033585429192,-0.008812913671136,0.006917693186551,0.116219505667686,-0.038521852344275,0.051794279366732,0.159307271242142,-0.040340207517147));
res += mul(Get(s0,-dx,0), float4x4(0.044743936508894,0.045484144240618,0.142648860812187,-0.013960679061711,-0.162040188908577,-0.017671549692750,0.007314485963434,0.170331388711929,0.199120908975601,-0.065397240221500,-0.134110718965530,0.007857792079449,-0.065990343689919,-0.012054375372827,0.093674436211586,-0.050217099487782));
res += mul(Get(s0,-dx,dy), float4x4(0.051405109465122,-0.044429663568735,-0.074233010411263,-0.135313853621483,0.072005249559879,-0.007723639719188,0.044150736182928,0.026610208675265,-0.043204121291637,0.101437166333199,0.138390973210335,0.002560843247920,-0.048624712973833,-0.038172218948603,0.105810552835464,-0.040770113468170));
res += mul(Get(s0,0,-dy), float4x4(-0.081362992525101,-0.061432059854269,-0.078784532845020,-0.087908826768398,0.015774918720126,0.039142776280642,-0.072999887168407,0.015755873173475,-0.163811653852463,-0.148240879178047,-0.080657839775085,-0.064537517726421,-0.108372800052166,-0.042505007237196,-0.024911798536777,0.021144449710846));
res += mul(Get(s0,0,0), float4x4(0.134193360805511,-0.066429942846298,-0.175070241093636,0.044620510190725,-0.060924723744392,-0.077108196914196,-0.033808059990406,-0.102025985717773,-0.061298433691263,0.024469416588545,-0.133761405944824,-0.074368305504322,0.009419296868145,-0.216023296117783,-0.091263696551323,0.079139299690723));
res += mul(Get(s0,0,dy), float4x4(0.211917147040367,0.061172872781754,0.087477430701256,0.010214027948678,0.131737634539604,0.018014801666141,0.003185911336914,0.062016412615776,-0.050424311310053,0.036690928041935,-0.078745871782303,-0.117846384644508,-0.056464873254299,-0.032713133841753,0.048094004392624,-0.210306957364082));
res += mul(Get(s0,dx,-dy), float4x4(0.000535915198270,-0.111454494297504,0.059918280690908,0.149689972400665,0.086719758808613,0.040340766310692,0.004522215109318,-0.101167999207973,0.058328967541456,-0.040761150419712,-0.010586532764137,-0.233490109443665,-0.040144287049770,-0.000566923059523,0.136557579040527,-0.072775892913342));
res += mul(Get(s0,dx,0), float4x4(-0.009426204487681,-0.094966970384121,-0.084746226668358,0.103273548185825,-0.084437295794487,-0.116201005876064,0.077744819223881,-0.155341997742653,-0.101318374276161,0.009245314635336,-0.019050095230341,-0.038207940757275,-0.081342704594135,0.023432102054358,0.035355631262064,-0.079534411430359));
res += mul(Get(s0,dx,dy), float4x4(-0.013443465344608,0.092290379106998,-0.156516104936600,0.199827864766121,0.162556618452072,-0.146152272820473,0.066102951765060,-0.029775528237224,-0.135780438780785,-0.039153367280960,0.041920211166143,0.073096871376038,-0.090428389608860,0.069669999182224,-0.009349002502859,0.129736006259918));
res += mul(Get(s1,-dx,-dy), float4x4(0.195824861526489,-0.043399721384048,-0.036216020584106,0.074627406895161,-0.261806994676590,-0.062119375914335,0.042208056896925,-0.035204052925110,0.021432992070913,-0.051875263452530,0.154071837663651,0.029689107090235,0.168233215808868,0.019586099311709,0.003090819809586,-0.106220029294491));
res += mul(Get(s1,-dx,0), float4x4(0.011167986318469,-0.052207250148058,-0.032551553100348,0.010094517841935,-0.085025906562805,-0.150802105665207,0.076274171471596,-0.120517075061798,0.056666113436222,0.064001746475697,-0.108211778104305,0.194084927439690,0.011814418248832,-0.035935506224632,0.024790219962597,0.191777795553207));
res += mul(Get(s1,-dx,dy), float4x4(0.053622446954250,-0.017687767744064,0.147703528404236,0.048922937363386,-0.060755688697100,-0.015102770179510,-0.069905094802380,-0.000652846239973,-0.016280367970467,0.134797289967537,-0.192821785807610,0.150327146053314,0.024403469637036,0.031135249882936,0.128315135836601,-0.005962947849184));
res += mul(Get(s1,0,-dy), float4x4(0.075505666434765,-0.089598283171654,0.023457119241357,0.105532184243202,-0.089163452386856,0.098043292760849,-0.028663367033005,-0.034117911010981,-0.123614065349102,0.009147014468908,0.149296596646309,0.001355457701720,0.061968591064215,0.099439598619938,-0.054172907024622,-0.105077452957630));
res += mul(Get(s1,0,0), float4x4(0.286203235387802,-0.057552676647902,0.025999667122960,0.003956033848226,0.102813854813576,-0.086275689303875,0.200910314917564,0.148951739072800,-0.119656704366207,0.077962301671505,-0.033728968352079,0.190832659602165,-0.107943147420883,0.075926594436169,0.174934387207031,-0.028867347165942));
res += mul(Get(s1,0,dy), float4x4(0.002462079515681,0.042346742004156,0.184291169047356,0.103884957730770,-0.118423320353031,-0.076225876808167,-0.036290213465691,-0.024914903566241,-0.076183319091797,-0.065805785357952,0.101899683475494,0.031926307827234,0.158464834094048,-0.054327268153429,0.252010464668274,-0.116652250289917));
res += mul(Get(s1,dx,-dy), float4x4(-0.166398391127586,-0.027420282363892,-0.002808220684528,0.009821017272770,-0.082381710410118,0.173056319355965,-0.024071604013443,0.025588046759367,0.053227797150612,0.015989448875189,-0.063553154468536,-0.068792052567005,0.080190800130367,-0.046393729746342,-0.109535068273544,0.092316381633282));
res += mul(Get(s1,dx,0), float4x4(-0.122788012027740,0.012648832052946,-0.009090838953853,0.046962652355433,0.119462065398693,-0.144790217280388,-0.081709809601307,-0.096935346722603,-0.046776641160250,-0.010125289671123,-0.050411123782396,0.032948855310678,-0.020741263404489,0.016821099445224,0.002544759539887,-0.050751287490129));
res += mul(Get(s1,dx,dy), float4x4(-0.188854366540909,-0.070604503154755,0.005011884961277,-0.098600767552853,-0.034991096705198,0.077591642737389,0.147551730275154,-0.029990322887897,0.026476953178644,0.003861934412271,-0.045588742941618,0.012678149156272,-0.007486101239920,-0.084606915712357,0.044882394373417,0.140540987253189));
res += mul(Get(s2,-dx,-dy), float4x4(0.041176918894053,0.046680189669132,0.026264075189829,-0.089534148573875,0.058400239795446,-0.004316452890635,-0.187168478965759,-0.092413201928139,0.138836026191711,0.013671048916876,-0.037053164094687,-0.212144404649734,0.137647986412048,-0.230342805385590,0.027979526668787,-0.076172739267349));
res += mul(Get(s2,-dx,0), float4x4(0.027968952432275,-0.075222179293633,0.013532289303839,-0.150096341967583,0.036233253777027,0.105644613504410,-0.032661993056536,-0.159519270062447,-0.106333412230015,0.053573831915855,0.080035075545311,0.071926936507225,-0.098254606127739,-0.015411913394928,0.051566001027822,0.065260708332062));
res += mul(Get(s2,-dx,dy), float4x4(-0.035337176173925,0.045732885599136,-0.001535950112157,-0.105813242495060,-0.033015735447407,0.083792418241501,0.031030004844069,0.062685921788216,0.094120599329472,-0.135763585567474,0.048426620662212,-0.209791377186775,0.076132997870445,0.032319389283657,-0.019490960985422,-0.023564627394080));
res += mul(Get(s2,0,-dy), float4x4(-0.153440296649933,-0.044624742120504,0.089696675539017,0.042005922645330,-0.025976642966270,-0.009809040464461,-0.004366594366729,-0.040237177163363,0.077723748981953,0.059858534485102,-0.041343390941620,-0.069973535835743,0.019116308540106,0.002154474379495,0.079820923507214,-0.066180773079395));
res += mul(Get(s2,0,0), float4x4(0.161455079913139,0.031467072665691,0.029509192332625,0.074600331485271,0.012124108150601,-0.057800255715847,0.050317060202360,0.070601560175419,0.045852944254875,0.059296511113644,0.045323804020882,0.035712465643883,0.141402468085289,-0.015159444883466,0.082960508763790,-0.084547974169254));
res += mul(Get(s2,0,dy), float4x4(0.122824430465698,0.028125328943133,-0.027572916820645,0.098542585968971,-0.124110616743565,0.043931532651186,0.069892548024654,0.025905197486281,0.028870156034827,-0.112191721796989,-0.003238978562877,-0.145157560706139,0.037846606224775,-0.072864584624767,0.171468630433083,0.010668173432350));
res += mul(Get(s2,dx,-dy), float4x4(-0.032111618667841,0.045725662261248,0.026970850303769,0.084216691553593,-0.086801938712597,-0.034188084304333,-0.129639849066734,0.102334171533585,-0.060049682855606,0.088992863893509,-0.011242204345763,0.023966876789927,0.048384387046099,-0.014222885482013,0.066204555332661,0.004001225810498));
res += mul(Get(s2,dx,0), float4x4(-0.074950493872166,0.034857317805290,-0.009985922835767,-0.082274109125137,-0.053767010569572,0.058926377445459,-0.064570866525173,-0.058436866849661,-0.120649024844170,0.061198417097330,0.143126815557480,-0.030314849689603,0.100539654493332,0.148276448249817,0.078811034560204,-0.060339067131281));
res += mul(Get(s2,dx,dy), float4x4(-0.074113383889198,0.013109831139445,-0.036333855241537,0.177958473563194,-0.046886637806892,0.021123627200723,-0.009861726313829,-0.016086371615529,-0.150698497891426,0.008512586355209,-0.040493905544281,-0.017157062888145,0.003761511761695,0.019934507086873,0.183377608656883,-0.155346587300301));
res += mul(Get(s3,-dx,-dy), float4x4(-0.005986841861159,0.018592454493046,-0.012034418061376,0.043014071881771,-0.012847298756242,-0.051335718482733,-0.032336011528969,-0.066232524812222,0.017668982967734,0.062417276203632,-0.023325387388468,-0.034921500831842,-0.067744538187981,0.003923668526113,-0.041028968989849,0.068669706583023));
res += mul(Get(s3,-dx,0), float4x4(0.106439977884293,-0.120978362858295,0.022978076711297,0.054286498576403,-0.000540471170098,0.026589570567012,0.030815742909908,-0.065395675599575,0.133486434817314,0.042130902409554,0.156123831868172,-0.056407224386930,-0.086112871766090,-0.014665606431663,-0.138561427593231,0.010083381086588));
res += mul(Get(s3,-dx,dy), float4x4(0.037106618285179,-0.069949634373188,0.034858703613281,-0.098319821059704,-0.100979469716549,-0.039087373763323,-0.086670778691769,-0.141891360282898,0.144248604774475,0.063509941101074,0.134588435292244,-0.016792848706245,-0.083933658897877,0.019280241802335,-0.062228757888079,-0.059666212648153));
res += mul(Get(s3,0,-dy), float4x4(0.009200208820403,0.087168283760548,0.059365075081587,0.113849677145481,-0.059958714991808,-0.012103376910090,-0.044441673904657,0.021944005042315,-0.028943466022611,0.080479957163334,0.045966614037752,0.107786677777767,0.079168483614922,0.075752913951874,-0.033019967377186,0.025934098288417));
res += mul(Get(s3,0,0), float4x4(0.019566688686609,-0.018218582496047,-0.152176946401596,-0.071084171533585,-0.019041508436203,0.044610764831305,0.122090362012386,0.149316340684891,0.109757855534554,-0.088626280426979,-0.162256300449371,-0.045836966484785,0.096785403788090,0.054488118737936,-0.062529884278774,-0.125459656119347));
res += mul(Get(s3,0,dy), float4x4(-0.106086917221546,-0.077976256608963,0.095496125519276,0.045250311493874,-0.030604060739279,0.192430108785629,0.089028976857662,0.020999258384109,-0.038497161120176,-0.088564641773701,0.029101982712746,-0.064727701246738,-0.047440990805626,-0.028243469074368,-0.109525240957737,0.045969720929861));
res += mul(Get(s3,dx,-dy), float4x4(0.009295212104917,-0.003542852355167,-0.071739107370377,-0.013220183551311,-0.061121106147766,0.004314487334341,0.102808922529221,-0.066856205463409,-0.026171971112490,-0.058420814573765,0.063693389296532,-0.012928515672684,-0.056868392974138,-0.003366721328348,0.116890832781792,-0.058123387396336));
res += mul(Get(s3,dx,0), float4x4(-0.226734519004822,-0.104055374860764,-0.008230014704168,-0.130214273929596,0.149322956800461,-0.067943640053272,0.072136521339417,0.000782192219049,-0.158571809530258,0.014578229747713,-0.042963415384293,0.025207502767444,0.016368487849832,-0.084006436169147,-0.080016732215881,-0.083226159214973));
res += mul(Get(s3,dx,dy), float4x4(-0.192588031291962,0.062493409961462,-0.043062195181847,0.083392158150673,-0.176845803856850,-0.035532940179110,0.119908154010773,-0.103703662753105,0.083612360060215,-0.099737465381622,-0.090826615691185,0.000736975693144,-0.045833222568035,-0.047923360019922,-0.104160040616989,-0.013147154822946));
return max(float4(0,0,0,0), res);
}
