sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.052811294794083,0.146435514092445,0.070365481078625,-0.031961835920811,0.104858823120594,-0.097233116626740,0.098304003477097,-0.055084343999624,-0.047314018011093,0.059927895665169,-0.032510098069906,0.104572646319866,0.069936133921146,-0.163464829325676,-0.021919148042798,-0.017685530707240));
res += mul(Get(s0,-dx,0), float4x4(0.092144086956978,-0.034613199532032,-0.155181199312210,-0.140534386038780,-0.042536687105894,0.024442967027426,0.107447795569897,-0.092747747898102,0.009698959067464,-0.063853330910206,0.007700618356466,-0.117368631064892,-0.075767114758492,-0.191587775945663,0.002271450357512,-0.010527578182518));
res += mul(Get(s0,-dx,dy), float4x4(-0.077864155173302,-0.007197152357548,0.054722331464291,-0.044264517724514,0.039255741983652,-0.127259358763695,0.085022397339344,-0.152708560228348,-0.121669769287109,0.110497072339058,-0.040412653237581,-0.041623342782259,-0.083268247544765,-0.378711760044098,0.055013164877892,0.060073904693127));
res += mul(Get(s0,0,-dy), float4x4(-0.096130825579166,-0.065036386251450,-0.114935725927353,-0.030355758965015,-0.170069172978401,0.111254625022411,0.183168455958366,-0.121802389621735,-0.110690832138062,-0.033503424376249,-0.031753443181515,0.038345593959093,-0.034884653985500,-0.020289640873671,-0.033207006752491,0.075118854641914));
res += mul(Get(s0,0,0), float4x4(0.043987844139338,0.036437615752220,-0.146564736962318,-0.066084645688534,0.001941652502865,0.043372280895710,0.248220250010490,0.077619731426239,0.043785437941551,-0.092672616243362,0.013329457491636,0.061592359095812,-0.114057622849941,0.175051227211952,-0.108092032372952,0.025933824479580));
res += mul(Get(s0,0,dy), float4x4(0.045325677841902,-0.094782844185829,0.075942739844322,0.085542067885399,-0.007318992167711,-0.069885276257992,0.160783126950264,0.007392516359687,0.004654820542783,0.059292834252119,-0.071642607450485,-0.042743071913719,0.032150425016880,0.158540412783623,-0.103063881397247,-0.000235701678321));
res += mul(Get(s0,dx,-dy), float4x4(-0.059631910175085,0.245641276240349,-0.020593728870153,0.063326492905617,-0.103267215192318,0.090811468660831,-0.144818291068077,0.031720258295536,-0.046088304370642,-0.065076358616352,0.008969449438155,0.112281993031502,-0.040159363299608,0.031034683808684,-0.035031348466873,-0.118174813687801));
res += mul(Get(s0,dx,0), float4x4(0.083932578563690,0.074229106307030,-0.109745845198631,0.082867451012135,-0.063540495932102,0.017980325967073,-0.219468727707863,0.016420137137175,0.090980783104897,-0.069676876068115,-0.077469006180763,0.130619868636131,-0.079183347523212,0.239656746387482,-0.038274724036455,0.022485869005322));
res += mul(Get(s0,dx,dy), float4x4(0.081633165478706,0.086447782814503,0.076224923133850,-0.042230017483234,0.033705029636621,-0.064879342913628,-0.190370827913284,0.032903335988522,-0.091771699488163,-0.110422208905220,-0.088855952024460,-0.052556104958057,-0.004701631609350,0.053679764270782,-0.046470317989588,0.034424353390932));
res += mul(Get(s1,-dx,-dy), float4x4(0.117211900651455,-0.057213827967644,0.056294057518244,0.020640363916755,-0.039538651704788,0.042919624596834,0.055740714073181,0.026566969230771,0.053253721445799,0.091578185558319,-0.041814111173153,0.010304790921509,0.171110466122627,0.107796832919121,0.003210372291505,-0.024730658158660));
res += mul(Get(s1,-dx,0), float4x4(-0.186703592538834,-0.206498160958290,-0.133861199021339,-0.000987630453892,0.014356972649693,-0.116028919816017,-0.090282134711742,-0.102788463234901,-0.007598639000207,-0.159507051110268,0.039797779172659,-0.028113147243857,-0.085072420537472,0.029923196882010,-0.081632412970066,-0.074858173727989));
res += mul(Get(s1,-dx,dy), float4x4(0.112252071499825,-0.056289896368980,-0.098534412682056,0.019137926399708,-0.064907744526863,0.053138501942158,-0.041233021765947,-0.006364946719259,-0.027351282536983,-0.066888950765133,0.121751584112644,0.044041763991117,0.140803381800652,0.023548329249024,-0.133515208959579,0.141627028584480));
res += mul(Get(s1,0,-dy), float4x4(0.035874847322702,-0.105324655771255,0.034448098391294,-0.049383889883757,0.130508795380592,-0.050627768039703,0.084822744131088,0.061012331396341,-0.044821992516518,0.015190985053778,0.028713045641780,-0.135142713785172,-0.073033630847931,0.017502328380942,0.095368422567844,-0.046883072704077));
res += mul(Get(s1,0,0), float4x4(0.205804139375687,-0.153331801295280,-0.010313640348613,0.101717442274094,0.057685863226652,0.018313454464078,-0.004518878180534,0.007971473969519,-0.103237636387348,-0.086751788854599,0.029180256649852,0.010731527581811,0.052474673837423,-0.036690939217806,0.095010012388229,0.063418060541153));
res += mul(Get(s1,0,dy), float4x4(0.040069229900837,-0.151240810751915,-0.099934279918671,0.042614568024874,-0.065011031925678,-0.162263438105583,-0.072756089270115,-0.045905608683825,-0.019211346283555,-0.028084641322494,0.028342563658953,0.066756531596184,0.026494784280658,0.131047576665878,0.043550543487072,-0.013344829902053));
res += mul(Get(s1,dx,-dy), float4x4(-0.103295527398586,-0.077118948101997,0.034032572060823,0.023781912401319,0.033498741686344,0.026605254039168,-0.128436908125877,-0.010740438476205,0.180203497409821,0.042037114500999,-0.030528377741575,0.130811855196953,-0.025547921657562,-0.195649296045303,-0.149597361683846,0.053772829473019));
res += mul(Get(s1,dx,0), float4x4(0.079384133219719,-0.093137204647064,-0.040279947221279,0.125507369637489,-0.034105855971575,0.035169448703527,-0.023546718060970,-0.087177179753780,-0.175066769123077,0.110238544642925,-0.073434673249722,0.114181511104107,0.091371819376945,-0.026091126725078,-0.036702387034893,-0.045963332056999));
res += mul(Get(s1,dx,dy), float4x4(0.188882559537888,-0.081269249320030,-0.079132355749607,0.063268199563026,-0.111301362514496,0.026176773011684,-0.130464345216751,-0.024630121886730,-0.021349931135774,-0.013031390495598,-0.057840894907713,-0.065368264913559,0.013394925743341,-0.063812904059887,-0.006385856773704,0.051883593201637));
res += mul(Get(s2,-dx,-dy), float4x4(0.063253551721573,-0.080770708620548,-0.090637274086475,0.035470582544804,0.054276812821627,0.026947855949402,0.177049830555916,-0.097853593528271,0.014027155935764,-0.043820362538099,-0.188166663050652,-0.018471283838153,-0.114963404834270,-0.185151085257530,0.009041861630976,-0.101023830473423));
res += mul(Get(s2,-dx,0), float4x4(-0.018339024856687,-0.179608523845673,-0.001498333178461,-0.004758899100125,-0.049947388470173,-0.039073064923286,0.110610812902451,-0.043310131877661,0.004825406242162,-0.057812709361315,0.041143532842398,-0.081043057143688,-0.068536534905434,-0.038363885134459,0.003815856296569,0.030349740758538));
res += mul(Get(s2,-dx,dy), float4x4(0.161748573184013,-0.004099337849766,0.115929462015629,-0.061239905655384,0.003783555701375,-0.109628573060036,0.152554720640182,-0.124136589467525,-0.019715977832675,-0.043068956583738,-0.248800888657570,0.050068188458681,0.004934913013130,0.006527143064886,0.096180886030197,-0.101905219256878));
res += mul(Get(s2,0,-dy), float4x4(0.004847311880440,0.009941836819053,-0.063736505806446,-0.078845985233784,0.062009312212467,0.004646387416869,-0.067191548645496,-0.044859714806080,-0.118484765291214,0.002103239065036,-0.035220451653004,-0.064949855208397,0.127057284116745,-0.174697846174240,-0.180579289793968,0.063946180045605));
res += mul(Get(s2,0,0), float4x4(-0.016349039971828,-0.072075404226780,-0.099185556173325,-0.040116753429174,0.036148961633444,-0.052615679800510,-0.074276797473431,0.067312754690647,-0.041575826704502,-0.029753206297755,0.008203827776015,0.041152428835630,-0.164659947156906,-0.135486617684364,-0.126894697546959,-0.029397346079350));
res += mul(Get(s2,0,dy), float4x4(-0.036635354161263,0.101761296391487,-0.106567613780499,0.063058204948902,-0.070090331137180,-0.050882939249277,-0.013553427532315,-0.013744261115789,-0.025713888928294,-0.121527493000031,0.154910787940025,-0.020428000018001,-0.052899181842804,-0.104983463883400,-0.077606551349163,-0.021397000178695));
res += mul(Get(s2,dx,-dy), float4x4(0.096945188939571,0.024103814736009,0.092421002686024,0.125114172697067,-0.105720110237598,0.272823810577393,-0.012966455891728,0.072023980319500,-0.066304340958595,0.055726088583469,-0.015556291677058,0.137201249599457,0.023492982611060,0.176294848322868,-0.016322821378708,-0.188428133726120));
res += mul(Get(s2,dx,0), float4x4(0.011623255908489,0.074529640376568,0.083249695599079,0.102591402828693,-0.033369503915310,-0.026020638644695,-0.045315846800804,-0.072754777967930,-0.043648000806570,0.002187248086557,0.031917657703161,0.131541922688484,-0.018985640257597,0.103388346731663,-0.076468892395496,-0.083599187433720));
res += mul(Get(s2,dx,dy), float4x4(-0.092875950038433,-0.003475023200735,0.078199528157711,0.189813241362572,0.044871237128973,0.049414463341236,0.048025600612164,0.046674974262714,-0.012124404311180,0.079723060131073,0.045406714081764,-0.134061112999916,-0.098573029041290,0.081230647861958,-0.079828426241875,-0.067638240754604));
res += mul(Get(s3,-dx,-dy), float4x4(-0.030359717085958,-0.037153758108616,0.014536416158080,-0.265245079994202,-0.034174479544163,-0.020587071776390,-0.101654164493084,0.129835829138756,-0.015345178544521,0.157396912574768,0.112209990620613,-0.021070513874292,-0.067921482026577,-0.098793365061283,0.029906541109085,-0.043639224022627));
res += mul(Get(s3,-dx,0), float4x4(-0.024816384539008,-0.037515576928854,-0.153047651052475,-0.105537705123425,-0.069353319704533,-0.168779626488686,0.021774955093861,-0.113378450274467,0.038314986974001,0.250088393688202,-0.053736127912998,-0.035184558480978,-0.179990574717522,0.072342939674854,0.058555457741022,-0.091284662485123));
res += mul(Get(s3,-dx,dy), float4x4(0.038984145969152,0.149643436074257,0.079908229410648,-0.005300096236169,0.105420522391796,-0.097481019794941,-0.105714872479439,0.007496740203351,-0.063646964728832,0.069987773895264,-0.058659464120865,-0.078502595424652,-0.067316830158234,0.040927555412054,-0.106286436319351,0.018453799188137));
res += mul(Get(s3,0,-dy), float4x4(-0.012440798804164,0.083103924989700,0.140597000718117,0.011687775142491,-0.044718168675900,0.053873769938946,0.017165040597320,-0.076345592737198,-0.065490148961544,-0.069207541644573,-0.132664680480957,-0.072939857840538,-0.047688018530607,-0.078364692628384,0.127119049429893,-0.078113608062267));
res += mul(Get(s3,0,0), float4x4(-0.107173793017864,-0.042541984468699,-0.047958686947823,-0.101423271000385,0.081062264740467,-0.007509577088058,-0.093430176377296,-0.085295341908932,0.021386537700891,-0.037160884588957,0.124741941690445,-0.022041635587811,-0.037353392690420,-0.012932220473886,-0.017220094799995,0.049067612737417));
res += mul(Get(s3,0,dy), float4x4(0.194945320487022,0.018332606181502,-0.102748379111290,0.054247807711363,-0.084381982684135,0.099957823753357,-0.100634761154652,-0.178717419505119,0.074831321835518,-0.076667048037052,0.022101080045104,-0.025943133980036,0.081984505057335,-0.156646534800529,0.021424001082778,-0.033485401421785));
res += mul(Get(s3,dx,-dy), float4x4(0.033814154565334,-0.032275199890137,0.066440112888813,-0.081218659877777,-0.148186817765236,0.192450672388077,0.057121202349663,0.112983867526054,0.015905335545540,-0.072611816227436,-0.022679829970002,-0.106207229197025,-0.034248489886522,-0.006118169985712,-0.004412947222590,0.005570593755692));
res += mul(Get(s3,dx,0), float4x4(-0.050148710608482,0.051074337214231,0.152997121214867,0.033444967120886,0.053786765784025,-0.029770955443382,0.082172647118568,0.037071034312248,-0.105902217328548,-0.014656702056527,0.026371216401458,0.117876358330250,0.065481632947922,0.042527332901955,-0.138770133256912,0.033600684255362));
res += mul(Get(s3,dx,dy), float4x4(0.052226547151804,0.134945333003998,0.020321499556303,-0.137057095766068,0.025756200775504,-0.055404812097549,0.259095966815948,0.086244344711304,0.058184389024973,0.030262615531683,-0.005656173918396,0.038005724549294,0.099927648901939,0.118124216794968,0.106806084513664,-0.006184827070683));
return max(float4(0,0,0,0), res);
}
