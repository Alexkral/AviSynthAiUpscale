sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.010779375210404,-0.124524503946304,0.018422059714794,-0.008015383034945,0.004180946853012,-0.120789118111134,-0.046944461762905,0.028858443722129,0.039370667189360,-0.108883753418922,-0.004219270776957,-0.136973097920418,0.049055181443691,0.060465116053820,0.094686873257160,-0.089950785040855));
res += mul(Get(s0,-dx,0), float4x4(-0.038140773773193,-0.140230506658554,-0.042110636830330,0.113886140286922,-0.075410410761833,0.219202995300293,-0.127861633896828,-0.107655785977840,-0.027537623420358,-0.075904652476311,0.027423966675997,-0.043787375092506,0.019304944202304,-0.067361101508141,0.127245679497719,-0.026131285354495));
res += mul(Get(s0,-dx,dy), float4x4(-0.104562431573868,-0.090088255703449,0.105744525790215,0.012617425993085,-0.076134227216244,-0.139690190553665,-0.041520144790411,0.012945554219186,0.038541294634342,-0.027681441977620,-0.128915011882782,-0.010641108267009,0.005418465938419,0.021472033113241,-0.002142651937902,0.055869664996862));
res += mul(Get(s0,0,-dy), float4x4(0.285593271255493,-0.055745061486959,-0.161992162466049,-0.316843450069427,-0.036505140364170,-0.024997415021062,0.020838622003794,0.146506667137146,0.011031357571483,-0.080528944730759,0.001138797262684,0.068537034094334,-0.042697507888079,0.147672489285469,-0.109435386955738,-0.067229889333248));
res += mul(Get(s0,0,0), float4x4(0.105381064116955,0.039112064987421,-0.036992650479078,0.009975831024349,0.103410549461842,-0.072836607694626,-0.056188806891441,-0.272912234067917,-0.053536068648100,-0.072929903864861,0.071254156529903,0.096068128943443,0.060025215148926,0.154268249869347,0.088945560157299,-0.093511566519737));
res += mul(Get(s0,0,dy), float4x4(0.003883202560246,-0.095050953328609,0.061807647347450,0.263446807861328,0.032344836741686,0.044433452188969,-0.207877531647682,0.028949130326509,0.084297709167004,-0.017774922773242,0.084969490766525,0.120590887963772,-0.008065700531006,0.011908543296158,-0.074328675866127,-0.162018209695816));
res += mul(Get(s0,dx,-dy), float4x4(-0.030502470210195,0.007219254970551,-0.035122167319059,0.041097525507212,-0.044701203703880,-0.116400435566902,0.136982351541519,0.167633071541786,0.037633817642927,-0.146433636546135,-0.136222183704376,0.077029004693031,0.006712406408042,-0.091023951768875,0.006506118923426,0.004761872813106));
res += mul(Get(s0,dx,0), float4x4(0.147061586380005,-0.013459379784763,0.168705582618713,-0.158226817846298,-0.089950993657112,-0.067366451025009,0.056323088705540,-0.097719877958298,-0.063784308731556,-0.014924021437764,0.066958077251911,-0.041831955313683,0.024607149884105,-0.051677491515875,0.114981122314930,-0.118567869067192));
res += mul(Get(s0,dx,dy), float4x4(0.207662731409073,0.041789278388023,-0.106707490980625,-0.016702443361282,0.043860197067261,0.048474412411451,-0.074363328516483,-0.140747055411339,0.058267444372177,0.211391195654869,-0.056900151073933,0.062118917703629,-0.009513762779534,-0.022942107170820,0.007620713207871,0.075747489929199));
res += mul(Get(s1,-dx,-dy), float4x4(0.243309691548347,0.131991162896156,0.004031420219690,0.042671032249928,-0.045687519013882,0.138650193810463,-0.050984896719456,0.041514214128256,-0.081850253045559,-0.151528730988503,0.104446299374104,0.038801480084658,-0.025388734415174,-0.047631245106459,-0.023619033396244,-0.225211665034294));
res += mul(Get(s1,-dx,0), float4x4(0.036427840590477,0.092270180583000,-0.052332695573568,0.085508085787296,-0.025255355983973,-0.223555743694305,-0.058665379881859,0.028069946914911,-0.039741802960634,-0.149914085865021,-0.081357724964619,-0.030601909384131,0.087286457419395,0.013734284788370,0.046184688806534,0.042205028235912));
res += mul(Get(s1,-dx,dy), float4x4(0.131023094058037,-0.051129963248968,0.040313206613064,-0.020304350182414,0.019160928204656,-0.088663235306740,0.117486573755741,-0.099689960479736,-0.096824124455452,-0.002090953057632,-0.047470968216658,-0.099026814103127,-0.048518821597099,0.039277356117964,-0.018313374370337,0.131085455417633));
res += mul(Get(s1,0,-dy), float4x4(0.130010202527046,0.003181399544701,0.039045318961143,0.159181952476501,0.348151326179504,-0.166799694299698,-0.049563482403755,-0.083583936095238,0.087387584149837,-0.092549517750740,0.085266649723053,-0.027601581066847,-0.001348857651465,-0.002243270864710,0.007794523611665,0.040099397301674));
res += mul(Get(s1,0,0), float4x4(0.033969949930906,0.124783143401146,-0.004957389552146,0.111869923770428,-0.039618395268917,0.017010444775224,-0.032430846244097,0.005927803460509,0.000661191530526,0.055359855294228,0.219030931591988,-0.139648765325546,-0.019802192226052,0.024646103382111,0.004886100068688,0.042136557400227));
res += mul(Get(s1,0,dy), float4x4(-0.086495786905289,-0.054445322602987,0.056052897125483,-0.088379748165607,-0.258976131677628,0.043393783271313,-0.259474456310272,-0.071933239698410,0.071857243776321,-0.084167733788490,-0.033414855599403,-0.055614814162254,0.018356546759605,0.071290299296379,-0.082347147166729,0.216077506542206));
res += mul(Get(s1,dx,-dy), float4x4(-0.108088515698910,-0.056151237338781,-0.207478523254395,-0.103158563375473,0.090833649039268,0.199348017573357,0.012232998386025,0.045660115778446,-0.129948437213898,0.021502749994397,0.009620567783713,-0.031977728009224,-0.204899877309799,0.033883646130562,0.022651039063931,0.176312342286110));
res += mul(Get(s1,dx,0), float4x4(-0.112041011452675,-0.113006524741650,-0.143575206398964,0.316564917564392,0.021645205095410,-0.080604173243046,0.036358017474413,-0.091942012310028,0.016753405332565,0.009168026037514,-0.128568351268768,-0.055785324424505,0.057786025106907,0.060817554593086,-0.199950769543648,0.154624938964844));
res += mul(Get(s1,dx,dy), float4x4(0.155211254954338,-0.018932295963168,0.117281615734100,0.054321441799402,-0.006037514656782,-0.036852408200502,0.005756724160165,-0.143534094095230,0.046648938208818,-0.094454057514668,-0.016612475737929,0.064060218632221,-0.330676347017288,-0.032407291233540,0.010512495413423,0.089240826666355));
res += mul(Get(s2,-dx,-dy), float4x4(0.117163531482220,0.074058085680008,-0.092873975634575,0.064569942653179,-0.080598428845406,0.089880019426346,0.122369565069675,0.098572932183743,0.045083001255989,-0.055384445935488,-0.123639404773712,0.064793772995472,0.012522189877927,0.066164933145046,0.026567224413157,-0.100500792264938));
res += mul(Get(s2,-dx,0), float4x4(0.050617270171642,-0.048675544559956,-0.050384882837534,-0.092806302011013,0.071387268602848,-0.014052544720471,-0.253766745328903,0.099321559071541,0.109636835753918,0.114188015460968,-0.146855831146240,0.117955088615417,-0.075611896812916,-0.066999837756157,0.132088825106621,0.150952994823456));
res += mul(Get(s2,-dx,dy), float4x4(-0.068181216716766,-0.042170219123363,0.116231679916382,-0.063055127859116,0.044772967696190,0.028313582763076,-0.063228882849216,0.227492332458496,0.075367249548435,0.018950607627630,-0.039404366165400,-0.033328313380480,-0.040103867650032,-0.039426971226931,0.035900764167309,-0.089389778673649));
res += mul(Get(s2,0,-dy), float4x4(0.029561653733253,0.000680572353303,-0.168700188398361,0.023441886529326,-0.023600526154041,0.138815775513649,-0.010447993874550,0.031270209699869,0.015602302737534,-0.021547244861722,0.074341751635075,-0.050953857600689,0.030655169859529,0.154739364981651,-0.001770321163349,-0.009068091399968));
res += mul(Get(s2,0,0), float4x4(0.095221906900406,0.129283025860786,0.033023789525032,0.049276769161224,0.093521319329739,-0.029148953035474,0.009511969983578,0.039446253329515,-0.027735229581594,0.054543089121580,0.161757871508598,0.154214799404144,-0.070153154432774,-0.073583647608757,0.014052609913051,0.075383171439171));
res += mul(Get(s2,0,dy), float4x4(0.051477391272783,0.001295223133639,-0.060935523360968,-0.061146818101406,0.028677059337497,0.115488938987255,-0.010421074926853,-0.179504156112671,0.048154551535845,-0.016206881031394,-0.062935419380665,-0.003353484440595,0.091370455920696,0.106758937239647,0.189430594444275,-0.007391992956400));
res += mul(Get(s2,dx,-dy), float4x4(0.036680877208710,-0.026423450559378,0.100740164518356,-0.154537633061409,0.108285218477249,0.003834939328954,0.019027585163713,-0.125192314386368,-0.181685090065002,0.052685651928186,0.012412707321346,-0.058106992393732,0.029958050698042,0.080889925360680,-0.122592665255070,-0.241018965840340));
res += mul(Get(s2,dx,0), float4x4(-0.002613009652123,-0.020721586421132,0.056752167642117,0.074695102870464,-0.152762532234192,-0.260338276624680,-0.150710850954056,0.150687962770462,-0.250214099884033,0.131261974573135,-0.142411798238754,0.020773639902472,0.167712554335594,-0.065512225031853,-0.091989070177078,0.112703271210194));
res += mul(Get(s2,dx,dy), float4x4(-0.036584824323654,0.127087503671646,-0.042381085455418,-0.102256819605827,0.087719261646271,0.060091167688370,-0.032146580517292,0.174349755048752,-0.128179699182510,0.018407722935081,-0.047270994633436,-0.168226823210716,0.103133670985699,-0.056812442839146,-0.067509971559048,-0.120990157127380));
res += mul(Get(s3,-dx,-dy), float4x4(-0.004953393712640,0.154892906546593,0.046355735510588,-0.071386054158211,-0.042957544326782,-0.225426286458969,-0.014691511169076,0.121530920267105,-0.047179553657770,0.106398902833462,-0.147510856389999,-0.079436622560024,-0.039648164063692,0.023131271824241,0.098826155066490,0.158823236823082));
res += mul(Get(s3,-dx,0), float4x4(-0.117522820830345,-0.012275781482458,-0.037418339401484,0.219053685665131,0.005217237863690,-0.098383292555809,-0.019022278487682,-0.175011381506920,-0.001162931090221,-0.014005042612553,-0.049850177019835,-0.034005142748356,0.014747130684555,0.026703156530857,-0.059778999537230,0.074711389839649));
res += mul(Get(s3,-dx,dy), float4x4(-0.040762942284346,0.112111926078796,-0.012629842385650,-0.005853147711605,0.153283655643463,0.058172836899757,-0.061854388564825,-0.139916405081749,0.052253540605307,-0.081790335476398,0.036850247532129,-0.033566266298294,0.148449435830116,0.056197743862867,0.033897493034601,-0.047067165374756));
res += mul(Get(s3,0,-dy), float4x4(0.041685879230499,-0.013422078453004,0.055757697671652,-0.021582894027233,-0.072001904249191,0.130546703934669,-0.110076233744621,0.050143163651228,-0.005068833939731,0.130077704787254,0.009159387089312,-0.049687746912241,-0.049529414623976,0.071470022201538,-0.003058057976887,-0.036772061139345));
res += mul(Get(s3,0,0), float4x4(0.010427943430841,0.000247482297709,0.078685492277145,0.001437240862288,-0.073248721659184,0.027098080143332,0.076275967061520,0.205055445432663,0.018260538578033,-0.055588420480490,0.024505058303475,-0.147603765130043,-0.046104501932859,-0.070785246789455,0.137763887643814,-0.137854829430580));
res += mul(Get(s3,0,dy), float4x4(-0.056724186986685,0.107707753777504,0.298235177993774,-0.044432990252972,-0.106497921049595,-0.089841201901436,0.027467655017972,-0.128283619880676,0.125080555677414,-0.135964602231979,-0.136986956000328,-0.168834298849106,0.109565451741219,0.012360173277557,0.081243440508842,-0.112974181771278));
res += mul(Get(s3,dx,-dy), float4x4(0.011479172855616,-0.024532321840525,0.130496799945831,-0.150898560881615,0.058879848569632,-0.115667805075645,-0.133384227752686,-0.121221333742142,-0.227610141038895,-0.120843492448330,-0.070895701646805,0.015807170420885,-0.016809385269880,0.174917429685593,0.034952860325575,0.123975396156311));
res += mul(Get(s3,dx,0), float4x4(0.060752589255571,-0.090632177889347,-0.060884304344654,-0.024056410416961,0.126241445541382,-0.120578780770302,-0.155385449528694,0.185406357049942,-0.117074087262154,-0.169735953211784,0.038695778697729,-0.150580212473869,-0.057701066136360,0.015118528157473,0.098952747881413,-0.131472975015640));
res += mul(Get(s3,dx,dy), float4x4(-0.088159225881100,-0.043507389724255,-0.065166383981705,-0.048703018575907,-0.116232939064503,0.059406198561192,-0.107172355055809,-0.192075818777084,-0.155641570687294,0.021487222984433,-0.209309905767441,-0.111468955874443,-0.031372219324112,-0.149849846959114,-0.242968574166298,0.113225750625134));
return max(float4(0,0,0,0), res);
}
