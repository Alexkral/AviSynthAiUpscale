sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.102293141186237,0.036118950694799,-0.057146094739437,0.085747919976711,0.037758853286505,-0.110780820250511,-0.016325488686562,0.132475480437279,0.029285395517945,-0.194240182638168,-0.043016493320465,-0.094522543251514,-0.015683898702264,-0.118808336555958,0.081055738031864,-0.006551863159984));
res += mul(Get(s0,-dx,0), float4x4(-0.018799383193254,0.002089149784297,-0.015003846958280,0.017549665644765,-0.052171289920807,-0.165524721145630,0.004571847617626,-0.102924033999443,-0.098957501351833,-0.078220620751381,-0.113566994667053,0.017379488795996,0.013716858811677,0.032659776508808,0.088733039796352,-0.131143659353256));
res += mul(Get(s0,-dx,dy), float4x4(0.011671472340822,0.020783917978406,-0.110779054462910,-0.023923303931952,0.111564412713051,-0.131704583764076,-0.030368676409125,0.020285185426474,0.052133075892925,0.023830946534872,-0.066844403743744,0.064126029610634,0.001815006951801,0.012298139743507,0.018242295831442,0.040574956685305));
res += mul(Get(s0,0,-dy), float4x4(0.018588138744235,0.054953634738922,0.013044143095613,-0.050415683537722,0.048122722655535,0.183356910943985,0.026401471346617,0.018102141097188,0.012461027130485,-0.042670756578445,0.052715774625540,-0.036051858216524,0.068995706737041,-0.059237957000732,0.005474529694766,-0.100721597671509));
res += mul(Get(s0,0,0), float4x4(0.015877276659012,-0.058886237442493,-0.003785862121731,-0.083573698997498,-0.014477347955108,0.191934451460838,0.115243792533875,0.060175977647305,0.039155725389719,0.007580570410937,0.081017971038818,0.198004886507988,0.062856145203114,0.026837097480893,-0.088178798556328,-0.049561340361834));
res += mul(Get(s0,0,dy), float4x4(0.027065370231867,-0.037132255733013,-0.088771298527718,-0.071746997535229,0.117695294320583,0.029231498017907,-0.062170322984457,0.048050489276648,-0.057219721376896,-0.008605977520347,-0.022432001307607,0.051758430898190,-0.039056044071913,0.063179939985275,-0.077045731246471,-0.000192241641344));
res += mul(Get(s0,dx,-dy), float4x4(0.006594290491194,0.151546671986580,-0.126235574483871,0.046263232827187,-0.042029809206724,0.048432454466820,0.010925397276878,-0.045336931943893,-0.003022343385965,-0.056608263403177,0.086140625178814,-0.063987411558628,-0.124946437776089,-0.061091020703316,-0.012110094539821,-0.020712394267321));
res += mul(Get(s0,dx,0), float4x4(-0.066910631954670,0.025151805952191,-0.054051157087088,0.006660740822554,-0.016789468005300,-0.073163233697414,-0.066956005990505,0.120526552200317,0.117134593427181,0.020577421411872,0.153860673308372,0.033025551587343,-0.080194026231766,-0.040655810385942,-0.038008462637663,0.067605882883072));
res += mul(Get(s0,dx,dy), float4x4(-0.001723798457533,-0.032772094011307,-0.111229352653027,-0.019823951646686,0.026463069021702,-0.064401194453239,-0.098496884107590,0.007915688678622,0.004209047183394,0.116741962730885,-0.057785533368587,0.014712717384100,0.075874105095863,0.095331408083439,-0.047305762767792,-0.019791983067989));
res += mul(Get(s1,-dx,-dy), float4x4(0.069175139069557,-0.029206741601229,0.055200077593327,-0.016653910279274,0.019355123862624,-0.005122227128595,-0.019831921905279,-0.044970933347940,0.006770219188184,-0.106066852807999,0.030367549508810,-0.025468768551946,0.003002091310918,0.124203190207481,-0.052726756781340,0.000504694471601));
res += mul(Get(s1,-dx,0), float4x4(0.124288909137249,-0.020459722727537,0.048316180706024,-0.090086497366428,-0.068212799727917,-0.164406850934029,0.012874371372163,0.032234996557236,-0.023738542571664,-0.064541295170784,-0.104107178747654,-0.057818681001663,0.181693434715271,-0.006151075009257,0.004794082604349,0.122035503387451));
res += mul(Get(s1,-dx,dy), float4x4(0.037245694547892,0.042047541588545,0.046047229319811,0.005950769409537,0.145366996526718,-0.106832124292850,-0.129051372408867,0.074249394237995,-0.000126302737044,-0.043207027018070,-0.134952843189240,-0.138581886887550,0.047030393034220,-0.083419062197208,0.013965577818453,-0.006265350617468));
res += mul(Get(s1,0,-dy), float4x4(-0.011352620087564,-0.084003366529942,0.033710237592459,0.013599232770503,0.041064959019423,-0.151489377021790,0.013065911829472,0.147559702396393,0.064654283225536,-0.089135274291039,0.057370085269213,-0.078808106482029,-0.042898148298264,0.096122309565544,0.038234494626522,0.065326876938343));
res += mul(Get(s1,0,0), float4x4(0.078766748309135,-0.023294094949961,0.026626212522388,-0.049460195004940,-0.091931276023388,-0.330397993326187,0.226763516664505,-0.030695194378495,-0.075014680624008,-0.059447951614857,0.061426211148500,-0.060780774801970,0.340237200260162,0.047892227768898,0.044638428837061,-0.014317935332656));
res += mul(Get(s1,0,dy), float4x4(-0.051776833832264,-0.013550640083849,0.067269653081894,-0.089991047978401,-0.016220474615693,-0.246726676821709,0.153131470084190,-0.094207569956779,0.040390722453594,-0.043952520936728,-0.013474100269377,-0.078292131423950,0.087883450090885,-0.018490400165319,-0.005577161442488,-0.070369586348534));
res += mul(Get(s1,dx,-dy), float4x4(0.131588891148567,-0.004673494026065,0.069168984889984,-0.025016753003001,-0.038687426596880,-0.042818229645491,-0.000916767574381,0.000043480111344,-0.017056819051504,-0.060692589730024,-0.012381447479129,-0.125644877552986,0.178550228476524,0.152914062142372,0.005142773501575,0.074858434498310));
res += mul(Get(s1,dx,0), float4x4(0.066174462437630,0.018686667084694,0.082235865294933,-0.072734393179417,0.129112571477890,-0.097129032015800,-0.105660870671272,-0.068560235202312,0.080789849162102,0.039384670555592,-0.125796556472778,-0.028690608218312,0.102299012243748,0.049089923501015,0.088314302265644,0.059650178998709));
res += mul(Get(s1,dx,dy), float4x4(-0.015769857913256,-0.018458666279912,0.060708828270435,-0.091801732778549,-0.043934520334005,-0.093483999371529,-0.043195050209761,-0.041773583739996,-0.032340809702873,0.034052863717079,-0.011378757655621,-0.091641873121262,-0.009803651832044,-0.010231167078018,-0.014472081325948,-0.070768922567368));
res += mul(Get(s2,-dx,-dy), float4x4(0.076734110713005,-0.015834197402000,0.023505955934525,-0.036422505974770,0.038277894258499,-0.083185203373432,-0.033635202795267,-0.108766391873360,-0.039717391133308,-0.113632552325726,-0.058408524841070,0.097784578800201,-0.088310025632381,0.004616010002792,0.002217454835773,0.036837164312601));
res += mul(Get(s2,-dx,0), float4x4(0.105499722063541,0.088854454457760,0.008386045694351,0.015991348773241,0.044227488338947,-0.066277451813221,-0.009765512309968,-0.050414685159922,-0.071978688240051,-0.122722551226616,-0.033006832003593,0.074676305055618,-0.117541112005711,-0.057490881532431,0.041046027094126,0.047801602631807));
res += mul(Get(s2,-dx,dy), float4x4(-0.060574129223824,0.110203005373478,0.013708563521504,0.001951986574568,0.022493695840240,0.031934935599566,0.054617207497358,-0.085539989173412,0.105228424072266,-0.144943296909332,-0.003986609634012,0.093625180423260,0.038266077637672,-0.049179937690496,-0.033569835126400,-0.056064620614052));
res += mul(Get(s2,0,-dy), float4x4(-0.038316961377859,-0.041107162833214,0.027751887217164,0.027081247419119,0.063253723084927,-0.029644234105945,-0.023212980479002,-0.020235722884536,0.002614275086671,-0.049175713211298,-0.015228360891342,0.024624034762383,0.001915485830978,-0.046090118587017,-0.021559461951256,0.086494952440262));
res += mul(Get(s2,0,0), float4x4(-0.026935799047351,0.016228225082159,0.183248639106750,0.036799449473619,0.034874524921179,0.058390628546476,0.051218725740910,0.172735437750816,0.096977896988392,-0.099359482526779,0.029042989015579,-0.066049523651600,0.112766042351723,-0.066536240279675,0.103504262864590,-0.080732330679893));
res += mul(Get(s2,0,dy), float4x4(-0.038129456341267,0.093262456357479,0.005003191065043,0.145815476775169,0.080470785498619,0.096856810152531,-0.018841084092855,0.039568159729242,0.060529667884111,-0.030897246673703,-0.005778650287539,0.108146660029888,0.038498729467392,-0.044705122709274,0.037723943591118,-0.047650292515755));
res += mul(Get(s2,dx,-dy), float4x4(0.044495861977339,0.040786974132061,-0.042127542197704,-0.051744792610407,0.146082177758217,-0.012252967804670,-0.023442953824997,0.037864487618208,-0.068569906055927,0.068952254951000,-0.029856780543923,0.028208073228598,-0.105268493294716,-0.054193057119846,0.021832611411810,0.021328704431653));
res += mul(Get(s2,dx,0), float4x4(0.040670145303011,0.057361934334040,0.074304446578026,-0.018937559798360,0.000211338367080,-0.039959795773029,-0.001488065230660,0.101992040872574,0.061727061867714,0.122640080749989,-0.017119515687227,0.095523320138454,-0.083551503717899,-0.041796781122684,-0.030957106500864,-0.044788841158152));
res += mul(Get(s2,dx,dy), float4x4(-0.028933739289641,0.035714104771614,-0.041873291134834,0.021389536559582,-0.038095522671938,-0.037481460720301,0.026534082368016,0.062897548079491,0.073632657527924,0.082327954471111,-0.042092811316252,0.020825888961554,0.064697690308094,-0.077360890805721,0.001922532916069,-0.081925176084042));
res += mul(Get(s3,-dx,-dy), float4x4(0.067057780921459,-0.175309881567955,0.019322603940964,-0.103181079030037,-0.033365946263075,-0.012325097806752,-0.043050654232502,-0.013913948088884,-0.074706844985485,0.007286795880646,-0.019373068585992,0.047694507986307,-0.057692352682352,0.061375964432955,-0.018888520076871,0.038050778210163));
res += mul(Get(s3,-dx,0), float4x4(-0.001688766642474,-0.080866336822510,0.066742427647114,-0.137327060103416,0.034297890961170,0.069779209792614,0.009886142797768,0.070800609886646,0.117144145071507,0.016306782141328,-0.040770318359137,0.062256991863251,-0.039710097014904,0.072575248777866,0.018084865063429,0.113859765231609));
res += mul(Get(s3,-dx,dy), float4x4(-0.000369675923139,-0.034050196409225,0.035090457648039,-0.065388910472393,-0.075488634407520,0.042472094297409,0.021757803857327,-0.004735747352242,0.066103316843510,0.002789105055854,-0.048556569963694,0.025680758059025,-0.018780928105116,-0.006146352272481,-0.104580521583557,0.136454761028290));
res += mul(Get(s3,0,-dy), float4x4(-0.029645938426256,-0.024408001452684,0.009849372319877,-0.057616025209427,0.107464075088501,0.044267680495977,0.007850511930883,-0.009473527781665,-0.101777859032154,-0.014390743337572,0.001996811013669,-0.057027228176594,0.000657567346934,0.004102459177375,-0.047963511198759,0.030053405091166));
res += mul(Get(s3,0,0), float4x4(-0.122207850217819,-0.001931236009113,0.040411330759525,-0.080041244626045,-0.037959124892950,0.058017116039991,0.076916955411434,0.086356267333031,0.008059576153755,0.058361090719700,0.219363033771515,0.126470208168030,0.034299414604902,-0.107781268656254,-0.003595636924729,0.117395915091038));
res += mul(Get(s3,0,dy), float4x4(-0.013102467171848,0.033699106425047,0.128089129924774,-0.013942427933216,0.053657382726669,0.036540534347296,0.055566564202309,-0.054947603493929,0.089067459106445,0.060670774430037,-0.092391915619373,0.136782184243202,-0.064389586448669,-0.085619866847992,0.012357275001705,-0.064750403165817));
res += mul(Get(s3,dx,-dy), float4x4(0.037475544959307,0.075191900134087,-0.014472125098109,-0.058226026594639,0.112826213240623,0.004733313340694,-0.036808967590332,0.030635403469205,-0.076916776597500,0.143194690346718,-0.078038640320301,-0.023988854140043,-0.007208198308945,-0.000528726959601,-0.037280865013599,0.101126767694950));
res += mul(Get(s3,dx,0), float4x4(0.061562862247229,0.006062890868634,-0.042300645262003,-0.007350766565651,-0.164112791419029,0.062604248523712,0.025415427982807,0.049965504556894,0.018154351040721,0.046791397035122,0.153869360685349,0.015415217727423,0.023970171809196,-0.045241095125675,0.029545605182648,-0.020891578868032));
res += mul(Get(s3,dx,dy), float4x4(0.001684252754785,0.122341290116310,-0.043450824916363,-0.082916229963303,-0.069967798888683,0.038585983216763,0.017368895933032,0.079411014914513,-0.019897438585758,0.026305634528399,-0.051766674965620,0.002181394025683,-0.082072339951992,-0.076644778251648,-0.036342214792967,0.024413285776973));
return max(float4(0,0,0,0), res);
}
