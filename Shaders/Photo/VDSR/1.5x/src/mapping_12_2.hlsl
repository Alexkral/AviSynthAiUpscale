sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.086225003004074,0.135493621230125,-0.045204207301140,0.016298666596413,-0.024859782308340,0.002867619739845,-0.019151071086526,0.014092436060309,0.019442548975348,0.085483789443970,-0.101164013147354,-0.005202671978623,0.023635827004910,-0.029187474399805,0.016153909265995,-0.060113392770290));
res += mul(Get(s0,-dx,0), float4x4(0.045984920114279,-0.001440055202693,-0.003685506293550,0.041133448481560,-0.010342774912715,0.024715537205338,-0.026324260979891,-0.009028480388224,0.165679410099983,0.055825985968113,-0.154756233096123,-0.046055119484663,0.042944055050611,-0.119936048984528,-0.082320608198643,-0.077380627393723));
res += mul(Get(s0,-dx,dy), float4x4(0.044168811291456,0.068999342620373,0.023446053266525,-0.029863877221942,0.045576490461826,-0.000811090401839,-0.003719433443621,0.007376042660326,-0.058047469705343,-0.058190453797579,-0.155234172940254,0.042813878506422,-0.025793645530939,-0.123488239943981,-0.023401176556945,0.014736491255462));
res += mul(Get(s0,0,-dy), float4x4(-0.014873446896672,0.137548595666885,-0.052523061633110,-0.085229694843292,0.000191303726751,-0.046886615455151,-0.018285036087036,0.055687464773655,-0.005607348866761,-0.069492086768150,0.176960676908493,-0.050255130976439,0.061066050082445,0.049194857478142,-0.007426951080561,0.003223516745493));
res += mul(Get(s0,0,0), float4x4(-0.090596467256546,0.017855506390333,-0.037618245929480,0.176425352692604,-0.029644837602973,-0.029551031067967,-0.058975722640753,-0.002262863097712,0.129234895110130,0.214461952447891,0.304551690816879,-0.039734765887260,-0.044526591897011,0.085275001823902,0.000457731279312,0.278253078460693));
res += mul(Get(s0,0,dy), float4x4(0.034944206476212,-0.048776034265757,0.097349204123020,-0.008968587033451,0.007914577610791,0.003684144234285,-0.043261095881462,0.075201794505119,0.026727180927992,0.062730543315411,0.343265563249588,0.082060441374779,0.045389410108328,-0.108657829463482,-0.012502407655120,0.037737134844065));
res += mul(Get(s0,dx,-dy), float4x4(0.101687915623188,0.065085679292679,0.056342341005802,0.018854433670640,0.055472552776337,-0.059429489076138,-0.027827206999063,-0.033512603491545,-0.056414872407913,0.032166440039873,-0.186149537563324,0.085626780986786,-0.027591750025749,-0.007588160689920,0.062335323542356,0.007706612348557));
res += mul(Get(s0,dx,0), float4x4(-0.006262647453696,0.072808139026165,0.057548239827156,0.008966470137239,0.065408758819103,-0.041617427021265,-0.042236540466547,-0.054124228656292,-0.190116092562675,-0.045131675899029,-0.184297218918800,-0.080290421843529,0.076084010303020,0.020884938538074,0.036447897553444,0.104640841484070));
res += mul(Get(s0,dx,dy), float4x4(-0.060393929481506,-0.004866826813668,-0.008651348762214,0.018609268590808,0.033798102289438,-0.050466772168875,-0.003893620101735,-0.018411023542285,-0.082328364253044,-0.009889101609588,-0.164898708462715,-0.048300717025995,-0.004930741619319,-0.073246411979198,0.012821156531572,-0.045523490756750));
res += mul(Get(s1,-dx,-dy), float4x4(0.092737063765526,0.037318501621485,-0.001563302357681,-0.034647326916456,0.008493098430336,0.023543009534478,-0.009124387055635,-0.014782919548452,0.020278276875615,-0.036211423575878,-0.014751242473722,-0.098255135118961,0.022219859063625,0.000475174514577,-0.054899636656046,-0.095375567674637));
res += mul(Get(s1,-dx,0), float4x4(-0.039930138736963,0.060659889131784,-0.030476007610559,0.026836657896638,0.099001459777355,0.070356234908104,0.067296884953976,-0.000605810666457,0.157935753464699,-0.036466464400291,-0.041354779154062,-0.225393474102020,0.015725241973996,-0.055092006921768,0.010567393153906,0.025649795308709));
res += mul(Get(s1,-dx,dy), float4x4(0.044732052832842,0.040373343974352,-0.003606803249568,-0.000663898536004,0.051610060036182,-0.075036533176899,-0.069390363991261,-0.058809425681829,0.089751534163952,0.132775083184242,-0.009856815449893,-0.078288346529007,-0.065296567976475,0.000063341496571,-0.025353351607919,-0.052457850426435));
res += mul(Get(s1,0,-dy), float4x4(0.077767595648766,0.094256997108459,0.091811291873455,0.085102625191212,0.029550444334745,0.048484869301319,-0.028794238343835,-0.023630065843463,-0.052557941526175,-0.008874358609319,-0.041741818189621,-0.125287935137749,-0.011362233199179,0.017088837921619,0.031670197844505,0.017268642783165));
res += mul(Get(s1,0,0), float4x4(0.022032182663679,0.088135510683060,0.015531102195382,0.070078067481518,-0.063578419387341,0.108156077563763,-0.006341529078782,0.040879622101784,0.062919922173023,-0.091848582029343,0.050987057387829,-0.101080663502216,-0.044652249664068,0.084777586162090,0.003818259574473,-0.006825571879745));
res += mul(Get(s1,0,dy), float4x4(0.025858655571938,0.104967467486858,0.032380435615778,0.030284954234958,0.079819500446320,-0.044023752212524,-0.027867747470737,0.066640943288803,-0.022342881187797,0.106289148330688,0.062337059527636,-0.012994143180549,-0.046295057982206,0.004757170099765,0.018308572471142,-0.043755352497101));
res += mul(Get(s1,dx,-dy), float4x4(0.067942433059216,-0.013872349634767,-0.051216091960669,-0.073215693235397,0.015338542871177,0.042548749595881,-0.012128787115216,0.021343594416976,-0.001029642997310,0.012843710370362,0.033210717141628,-0.028443992137909,-0.066848196089268,0.027408050373197,0.124391809105873,0.028380000963807));
res += mul(Get(s1,dx,0), float4x4(0.109771728515625,0.015904404222965,0.065105423331261,0.013141010887921,-0.012672117911279,0.127922371029854,0.065841287374496,-0.026681482791901,0.086013369262218,-0.051294814795256,-0.024425445124507,0.143823921680450,0.116276741027832,0.103893831372261,0.059891067445278,-0.001691067242064));
res += mul(Get(s1,dx,dy), float4x4(0.025143083184958,0.012235251255333,0.041438676416874,-0.050185851752758,0.065831489861012,-0.050365552306175,-0.000643960607704,-0.057944625616074,-0.031121240928769,0.019670058041811,0.011257329024374,0.046917669475079,-0.003091924358159,0.084360681474209,0.108144760131836,-0.029914973303676));
res += mul(Get(s2,-dx,-dy), float4x4(0.120631687343121,0.018703455105424,0.001859858864918,-0.085157454013824,-0.038210675120354,0.016609448939562,-0.014471051283181,0.071076825261116,-0.005665424279869,-0.050909243524075,-0.051417980343103,0.004619644954801,0.059954695403576,-0.079256631433964,0.080916307866573,-0.071169316768646));
res += mul(Get(s2,-dx,0), float4x4(-0.007580496370792,0.019986988976598,-0.085720017552376,-0.050866879522800,0.041731372475624,-0.075220443308353,0.028010252863169,0.142173632979393,-0.090977847576141,-0.080780632793903,0.067827999591827,0.000453918182757,0.002933672396466,-0.087942630052567,0.024198515340686,-0.083659246563911));
res += mul(Get(s2,-dx,dy), float4x4(0.056773856282234,-0.038235709071159,-0.048952516168356,0.053747594356537,0.035584058612585,-0.055726110935211,0.022075053304434,0.116329506039619,0.020327556878328,-0.098284989595413,0.010960740037262,-0.080496899783611,0.134507700800896,-0.082258410751820,0.047698348760605,0.024950340390205));
res += mul(Get(s2,0,-dy), float4x4(-0.044667590409517,0.010062776505947,0.060615099966526,0.158191546797752,0.086444213986397,-0.061041109263897,0.053058736026287,-0.020231684669852,0.107669033110142,0.012389544397593,0.070043042302132,-0.013526295311749,-0.071851558983326,-0.061058621853590,0.000525608775206,0.017157323658466));
res += mul(Get(s2,0,0), float4x4(0.046274237334728,-0.011877874843776,0.045711439102888,0.257679283618927,0.022031560540199,0.141312554478645,0.016656553372741,0.212675482034683,-0.007296339608729,-0.158018052577972,-0.036936767399311,-0.045924834907055,-0.034026436507702,-0.083289325237274,0.059027813374996,0.120499648153782));
res += mul(Get(s2,0,dy), float4x4(0.039505768567324,-0.021338755264878,-0.051183469593525,0.068464592099190,0.110731378197670,0.003284464823082,0.120456263422966,0.079962514340878,-0.005905391182750,-0.101717293262482,0.033569574356079,-0.043861702084541,0.048517920076847,0.039346959441900,0.008249699138105,-0.052866373211145));
res += mul(Get(s2,dx,-dy), float4x4(-0.014254121109843,-0.050497580319643,-0.002993785077706,0.120731577277184,0.090261980891228,-0.095225125551224,-0.000535694649443,0.079198725521564,0.060375761240721,0.095482714474201,-0.068824976682663,-0.018494637683034,-0.052546132355928,0.035109829157591,-0.067120552062988,0.056785386055708));
res += mul(Get(s2,dx,0), float4x4(0.012116611003876,-0.010947009548545,0.038473639637232,-0.073044821619987,-0.019465968012810,0.053744830191135,-0.005662890151143,0.023904828354716,0.036477532237768,0.009027106687427,-0.049309469759464,-0.060968741774559,0.023294351994991,-0.003171993885189,-0.065813213586807,0.020615125074983));
res += mul(Get(s2,dx,dy), float4x4(0.044745858758688,0.066966176033020,0.049143519252539,-0.048680908977985,-0.044210944324732,-0.009755277074873,0.082779064774513,-0.022778274491429,0.116988308727741,-0.086646549403667,-0.082140974700451,0.072497315704823,0.043152511119843,0.064255222678185,-0.020901126787066,-0.017019050195813));
res += mul(Get(s3,-dx,-dy), float4x4(-0.019908107817173,-0.023443093523383,0.002373108174652,0.046017415821552,-0.059611111879349,0.031015019863844,-0.087231770157814,-0.044589791446924,0.032530285418034,0.019532082602382,-0.086031250655651,-0.045520864427090,0.007421364542097,0.037664294242859,0.011970932595432,0.029733568429947));
res += mul(Get(s3,-dx,0), float4x4(0.030589971691370,0.019800692796707,0.173260003328323,-0.079567030072212,0.001868215156719,0.085200414061546,-0.073785983026028,-0.004804224707186,-0.039665460586548,0.034258548170328,0.026879671961069,0.053010672330856,-0.006456480827183,0.096679843962193,-0.055261243134737,0.102448038756847));
res += mul(Get(s3,-dx,dy), float4x4(0.038138214498758,0.007834740914404,0.053775757551193,-0.104147478938103,0.036242336034775,0.055123347789049,0.028386859223247,0.055476069450378,0.034600488841534,-0.074670813977718,-0.015671076253057,0.080437868833542,0.000625216518529,0.162712559103966,-0.106578767299652,0.108570858836174));
res += mul(Get(s3,0,-dy), float4x4(-0.021443981677294,-0.014037976041436,-0.000882096821442,-0.018111135810614,-0.096121355891228,0.069725349545479,-0.125882029533386,0.106019675731659,-0.034601412713528,-0.000695892667864,-0.015851473435760,0.045439656823874,-0.008342003449798,0.029472088441253,0.037034712731838,-0.050711639225483));
res += mul(Get(s3,0,0), float4x4(0.014413747936487,-0.021708937361836,0.052819482982159,-0.023531874641776,-0.039210785180330,0.013277294114232,-0.169271484017372,0.043647147715092,0.046717077493668,-0.036061350256205,0.034424971789122,0.054447032511234,0.001156202051789,-0.046341866254807,0.025360209867358,0.113496512174606));
res += mul(Get(s3,0,dy), float4x4(-0.007497066166252,0.004688994493335,-0.020367708057165,-0.145002543926239,-0.014914265833795,0.107234820723534,-0.260787665843964,-0.013821152038872,-0.034878525882959,0.089769698679447,0.079962827265263,0.074913181364536,0.047648265957832,0.078148610889912,0.061438784003258,-0.063847817480564));
res += mul(Get(s3,dx,-dy), float4x4(-0.040673375129700,-0.024648776277900,0.011311716400087,0.002787174191326,-0.031857740134001,-0.065338380634785,0.116266742348671,0.003030427964404,-0.031892720609903,0.078155301511288,-0.010303853079677,0.060038324445486,-0.046391438692808,-0.022755095735192,0.095089599490166,0.089501231908798));
res += mul(Get(s3,dx,0), float4x4(-0.063248053193092,-0.017130037769675,-0.045431964099407,0.011167160235345,-0.098649606108665,0.012606471776962,0.012103225104511,0.002148171653971,-0.029796551913023,0.083324760198593,-0.043456088751554,0.005565976258367,0.065121293067932,-0.096265390515327,0.047496546059847,-0.011899013072252));
res += mul(Get(s3,dx,dy), float4x4(-0.017618816345930,-0.086479850113392,-0.092951901257038,-0.057667359709740,0.030039796605706,0.014775246381760,-0.030988533049822,0.003654824336991,-0.029672611504793,0.120354555547237,-0.036601629108191,0.037552509456873,-0.036105383187532,-0.085455574095249,0.089254133403301,-0.047059178352356));
return max(float4(0,0,0,0), res);
}
