sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.087955951690674,-0.037515290081501,0.146921634674072,0.081484362483025,0.092882364988327,0.025240117684007,-0.026426771655679,-0.142937466502190,-0.045789424329996,0.053938601166010,0.020788211375475,-0.154970899224281,-0.132462546229362,0.017534574493766,-0.030234092846513,0.101753219962120));
res += mul(Get(s0,-dx,0), float4x4(0.026041746139526,0.062289450317621,-0.032936073839664,-0.007745057810098,-0.021170556545258,0.009101705625653,-0.010212378576398,-0.052069745957851,0.038433589041233,-0.033774327486753,0.101689748466015,-0.219934955239296,0.040273707360029,0.078011058270931,0.052928376942873,0.063993215560913));
res += mul(Get(s0,-dx,dy), float4x4(-0.135187059640884,0.031808748841286,0.013368790969253,0.012450918555260,0.017452968284488,-0.051709398627281,0.075370296835899,0.092271685600281,-0.036902941763401,-0.002190592698753,0.176297858357430,-0.065670534968376,-0.049831852316856,-0.084389790892601,-0.036231540143490,0.102816186845303));
res += mul(Get(s0,0,-dy), float4x4(0.068120829761028,0.050686608999968,-0.000109981257992,-0.148984029889107,0.113927125930786,-0.109785862267017,0.060197796672583,-0.097891099750996,-0.001732922741212,0.040806390345097,0.057820610702038,-0.030422169715166,0.060145523399115,0.066018275916576,-0.017035754397511,0.069816604256630));
res += mul(Get(s0,0,0), float4x4(-0.157611414790154,0.085501998662949,-0.078096799552441,-0.033822394907475,-0.017905991524458,-0.079396285116673,0.157224804162979,-0.048550602048635,0.424340903759003,-0.015925509855151,0.116595432162285,-0.077835351228714,0.179899036884308,0.151796713471413,0.106192566454411,0.170217886567116));
res += mul(Get(s0,0,dy), float4x4(-0.000369663292076,-0.071431376039982,0.020928589627147,0.184754788875580,0.114716216921806,-0.062163144350052,-0.013871617615223,0.008163951337337,0.091892048716545,-0.088865406811237,-0.035525474697351,-0.000951788737439,0.081246331334114,0.087120063602924,0.067190416157246,0.235471159219742));
res += mul(Get(s0,dx,-dy), float4x4(0.036647237837315,0.063367262482643,-0.043924883008003,-0.111463218927383,0.004843938164413,0.039736606180668,-0.001229808549397,-0.028170743957162,-0.147922396659851,0.178982973098755,0.032767303287983,-0.075545310974121,-0.054541829973459,0.028443414717913,0.027721490710974,0.055341448634863));
res += mul(Get(s0,dx,0), float4x4(-0.071627475321293,-0.158075034618378,-0.234260350465775,-0.080396555364132,-0.073085501790047,0.047200806438923,-0.068525314331055,-0.069724068045616,0.004182585049421,-0.011195045895875,-0.048542663455009,-0.148101449012756,0.072789333760738,0.131262376904488,0.054782882332802,0.024832194671035));
res += mul(Get(s0,dx,dy), float4x4(0.045308444648981,-0.031442567706108,-0.068036615848541,0.087326511740685,-0.014784734696150,0.065404877066612,0.069765970110893,-0.074232876300812,-0.030407747253776,-0.082336358726025,0.039290230721235,-0.176342770457268,-0.104841068387032,0.045399799942970,-0.005937630310655,0.130175471305847));
res += mul(Get(s1,-dx,-dy), float4x4(-0.061015736311674,-0.063872329890728,0.097199022769928,0.043676573783159,0.034584708511829,-0.033454727381468,-0.056921850889921,-0.023135088384151,-0.115239225327969,0.041948847472668,0.066339738667011,-0.161549821496010,-0.083747357130051,0.055410459637642,-0.093391731381416,0.083516597747803));
res += mul(Get(s1,-dx,0), float4x4(0.138507291674614,-0.128424003720284,0.051080074161291,0.036452285945415,0.029846530407667,-0.008176300674677,-0.085226871073246,-0.106253542006016,-0.097266808152199,-0.027845637872815,0.014630023390055,-0.074425652623177,0.092991709709167,-0.031471427530050,-0.058569308370352,0.127879783511162));
res += mul(Get(s1,-dx,dy), float4x4(0.027122614905238,0.027537798509002,-0.070975080132484,0.116940692067146,-0.099175736308098,-0.067372985184193,0.091880746185780,0.002592142904177,-0.107950270175934,-0.112894512712955,-0.145969644188881,0.011928549036384,0.009568560868502,0.070918694138527,-0.107940338551998,0.043096832931042));
res += mul(Get(s1,0,-dy), float4x4(-0.078264914453030,-0.137303337454796,0.264353960752487,-0.038540463894606,0.065608195960522,-0.044502586126328,0.084694936871529,-0.090362355113029,-0.009322134777904,-0.072513692080975,0.088241830468178,-0.079264521598816,0.044372532516718,0.079648926854134,-0.037471473217010,0.100341878831387));
res += mul(Get(s1,0,0), float4x4(0.134991422295570,0.051582571119070,0.055569604039192,-0.082793198525906,0.027664061635733,0.114995993673801,-0.007220719009638,-0.117004007101059,-0.009388023056090,0.115524634718895,-0.023759355768561,-0.042600665241480,-0.004809759557247,-0.076635375618935,0.011535495519638,0.062831483781338));
res += mul(Get(s1,0,dy), float4x4(-0.001510210800916,-0.072702884674072,0.123731754720211,0.011546685360372,0.002732115564868,-0.072287417948246,0.094873204827309,-0.067986026406288,0.042301006615162,0.022472724318504,-0.088511392474174,-0.058012135326862,0.102994643151760,-0.104605890810490,-0.006659593433142,-0.026236636564136));
res += mul(Get(s1,dx,-dy), float4x4(-0.232936933636665,0.069212794303894,-0.035478610545397,-0.013490438461304,-0.071486592292786,-0.000746294157580,-0.041539330035448,0.004524578806013,0.027048531919718,0.048202980309725,-0.024913167580962,0.015170356258750,0.051369559019804,0.015501108951867,0.041496600955725,0.065849430859089));
res += mul(Get(s1,dx,0), float4x4(0.140453338623047,0.103190198540688,-0.034084141254425,0.073762536048889,0.039712954312563,0.043160032480955,-0.031123179942369,0.051346171647310,0.049002408981323,-0.076133400201797,0.019694911316037,0.026091471314430,0.060403950512409,0.032097447663546,-0.033495780080557,0.012696773745120));
res += mul(Get(s1,dx,dy), float4x4(0.054211974143982,0.081814400851727,-0.074632063508034,0.025536682456732,-0.075880020856857,-0.198703229427338,-0.122366122901440,0.122248277068138,-0.042601354420185,0.115131229162216,0.062644697725773,0.020683875307441,0.025386445224285,-0.001809300738387,-0.046410337090492,0.033307764679193));
res += mul(Get(s2,-dx,-dy), float4x4(0.069373004138470,-0.151682004332542,0.090649783611298,0.132340043783188,-0.034273695200682,0.050602704286575,0.065246142446995,0.030081719160080,-0.015742223709822,0.065775863826275,0.085240602493286,-0.209779143333435,-0.028999168425798,0.016377242282033,0.028085317462683,0.030688283964992));
res += mul(Get(s2,-dx,0), float4x4(-0.013105507008731,0.062140166759491,0.009117390960455,0.119534611701965,0.065206907689571,0.020789384841919,0.067360900342464,-0.054805353283882,-0.052959203720093,0.100984901189804,0.031366124749184,-0.149799033999443,0.037545613944530,0.017565529793501,0.086630284786224,-0.088331624865532));
res += mul(Get(s2,-dx,dy), float4x4(-0.053432259708643,-0.103329129517078,-0.133487090468407,0.127739235758781,0.024901421740651,0.028012419119477,-0.004916043486446,-0.025330685079098,-0.063494272530079,-0.140871450304985,0.011640348471701,0.004880885593593,0.043137729167938,0.023598089814186,-0.046516545116901,0.016966890543699));
res += mul(Get(s2,0,-dy), float4x4(0.003973281010985,-0.007170950528234,0.034593772143126,0.061327386647463,-0.020748915150762,0.079075321555138,-0.012726435437799,0.131490856409073,0.085644491016865,-0.093901440501213,-0.013072616420686,-0.130206182599068,0.034506220370531,0.059904109686613,0.038248088210821,-0.062288720160723));
res += mul(Get(s2,0,0), float4x4(0.014699409715831,0.223848968744278,0.058511100709438,0.045482385903597,-0.043050687760115,0.020044842734933,-0.024925453588367,0.015162291005254,0.051387228071690,0.192373842000961,0.028701813891530,-0.026063425466418,0.045560367405415,0.022726591676474,0.154323920607567,-0.108074627816677));
res += mul(Get(s2,0,dy), float4x4(-0.015909150242805,0.056171592324972,-0.075775519013405,-0.033822804689407,0.015929797664285,0.095115147531033,-0.006689729634672,0.086654707789421,-0.028451889753342,-0.094815500080585,0.067709565162659,-0.043117675930262,-0.029445692896843,-0.081921674311161,-0.158363133668900,-0.109402552247047));
res += mul(Get(s2,dx,-dy), float4x4(-0.050213966518641,-0.004221843089908,0.025819223374128,0.200708493590355,0.033395744860172,-0.048028077930212,-0.145323961973190,0.068814672529697,0.077897690236568,0.069928161799908,-0.062588922679424,-0.180677428841591,0.070480734109879,0.002142932731658,0.078829474747181,0.001339493668638));
res += mul(Get(s2,dx,0), float4x4(0.156248927116394,0.018427612259984,0.051780913025141,0.027453668415546,-0.082501977682114,0.066958151757717,0.000618807447609,-0.044942434877157,0.083397336304188,0.197929471731186,-0.088775344192982,-0.107262268662453,-0.015673527494073,-0.050372369587421,0.110811047255993,-0.050590045750141));
res += mul(Get(s2,dx,dy), float4x4(0.091947913169861,0.067031294107437,-0.129226699471474,0.046543888747692,0.018901659175754,-0.144765302538872,-0.025024771690369,0.096458785235882,-0.054371114820242,0.059542573988438,0.114127464592457,-0.004283424932510,-0.090596824884415,0.071953915059566,0.011728696525097,0.008555598556995));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021845920011401,0.069386430084705,-0.017748083919287,-0.073470294475555,-0.114083059132099,-0.130230143666267,0.095120228827000,0.048812985420227,0.012126284651458,0.110219120979309,-0.082939587533474,-0.184413403272629,-0.054254729300737,-0.046630699187517,-0.025869790464640,0.143708139657974));
res += mul(Get(s3,-dx,0), float4x4(-0.012839483097196,-0.053145382553339,0.105864077806473,-0.083490684628487,0.010129150003195,0.007059627678245,0.052505034953356,-0.017404403537512,0.148892983794212,0.102172888815403,-0.211099192500114,-0.178875818848610,-0.022111292928457,-0.106888949871063,-0.005292803980410,0.129579439759254));
res += mul(Get(s3,-dx,dy), float4x4(0.104718193411827,0.048836503177881,-0.028275283053517,-0.039079759269953,-0.036103289574385,-0.000036018416722,-0.092657752335072,-0.012646858580410,-0.066631726920605,0.005794980563223,0.052791472524405,0.013719213195145,-0.027000047266483,-0.052513360977173,-0.047153610736132,0.090660579502583));
res += mul(Get(s3,0,-dy), float4x4(-0.108794748783112,0.094538301229477,0.075562417507172,-0.019665211439133,0.046838767826557,-0.093342572450638,0.007036915514618,0.048146393150091,0.036181617528200,0.020838927477598,-0.020517487078905,0.015222717076540,-0.035158261656761,0.001387868775055,-0.037691585719585,0.192184716463089));
res += mul(Get(s3,0,0), float4x4(-0.061281718313694,0.122757673263550,-0.124951697885990,-0.000815762963612,-0.007555350661278,-0.057535436004400,0.001175974612124,-0.068796046078205,0.001763603882864,-0.161977082490921,-0.125451922416687,0.113513007760048,0.025518542155623,-0.134333640336990,0.132833018898964,0.139586254954338));
res += mul(Get(s3,0,dy), float4x4(-0.049357268959284,0.109653271734715,-0.158630415797234,-0.045433588325977,0.119242876768112,0.073912315070629,0.016925007104874,-0.081538870930672,-0.025237346068025,-0.037550881505013,0.048567984253168,-0.060576200485229,-0.112598635256290,-0.100667692720890,0.074704118072987,0.131783500313759));
res += mul(Get(s3,dx,-dy), float4x4(-0.159811213612556,0.079124204814434,0.144227534532547,-0.025653917342424,0.073549993336201,0.032209064811468,0.058347098529339,-0.039709948003292,0.023044042289257,-0.026959316805005,-0.116177968680859,0.062946662306786,-0.001670167664997,0.039676878601313,-0.002258238848299,0.108458146452904));
res += mul(Get(s3,dx,0), float4x4(-0.031705714762211,-0.021968014538288,-0.011316387914121,0.025171278044581,0.025097411125898,0.005101261194795,-0.064321972429752,-0.041126001626253,-0.003101575886831,-0.090009197592735,0.009041581302881,0.128954797983170,-0.090141050517559,-0.108379445970058,0.046401992440224,0.148044586181641));
res += mul(Get(s3,dx,dy), float4x4(-0.085797183215618,0.010290559381247,0.072367824614048,0.043559417128563,-0.036933172494173,-0.026160307228565,-0.017708400264382,-0.046783898025751,-0.069924324750900,-0.084398038685322,0.111860841512680,0.017647458240390,-0.052462436258793,-0.079166725277901,0.019121743738651,0.122189171612263));
return max(float4(0,0,0,0), res);
}
