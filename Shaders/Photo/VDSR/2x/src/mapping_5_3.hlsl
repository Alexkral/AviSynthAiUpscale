sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.145574003458023,-0.131953597068787,-0.257934868335724,-0.023541763424873,0.012118782848120,-0.025270976126194,0.123236060142517,-0.065465874969959,-0.105895549058914,-0.056943107396364,0.039229385554790,0.018435578793287,-0.091277703642845,-0.107497423887253,0.058888569474220,-0.047353688627481));
res += mul(Get(s0,-dx,0), float4x4(0.054588399827480,-0.007096985355020,-0.141849830746651,-0.075239144265652,-0.093602918088436,0.165123805403709,0.094520293176174,0.099050045013428,0.093033254146576,-0.069873563945293,-0.044946774840355,-0.138590157032013,-0.042327813804150,0.279321581125259,0.012683724053204,-0.108106285333633));
res += mul(Get(s0,-dx,dy), float4x4(-0.136063411831856,0.036330752074718,0.126908138394356,0.056306082755327,0.071217797696590,0.002372920978814,0.098399743437767,0.216129630804062,0.073331855237484,-0.066221810877323,-0.005952040199190,-0.015249758958817,0.086578868329525,-0.035502322018147,0.038838140666485,-0.038760066032410));
res += mul(Get(s0,0,-dy), float4x4(-0.069731786847115,0.103168852627277,-0.125721290707588,0.049901738762856,0.091964341700077,0.221412658691406,-0.212145447731018,0.063776321709156,-0.178000435233116,-0.096408024430275,0.170611575245857,0.101935833692551,-0.028288148343563,-0.031125998124480,-0.127347573637962,-0.238125279545784));
res += mul(Get(s0,0,0), float4x4(0.007944462820888,-0.077030085027218,0.007507026195526,0.017906518653035,0.060713421553373,0.255921840667725,0.215856015682220,-0.026279084384441,-0.134763300418854,0.143547967076302,-0.026686388999224,0.194053262472153,-0.040602769702673,0.158758789300919,-0.003271838882938,-0.053253125399351));
res += mul(Get(s0,0,dy), float4x4(0.020923597738147,0.067634917795658,-0.059800282120705,0.010430571623147,0.027520099654794,-0.020753940567374,-0.025642534717917,-0.066487640142441,-0.087746553122997,0.033901982009411,0.003401755820960,0.197228372097015,0.036384474486113,0.023059308528900,0.105788454413414,0.003231659298763));
res += mul(Get(s0,dx,-dy), float4x4(-0.196583166718483,-0.126403048634529,0.000315907906042,0.070440538227558,-0.214413717389107,-0.096812188625336,0.207587718963623,0.042884085327387,-0.169164732098579,-0.114492468535900,-0.148214742541313,-0.085137166082859,0.078454509377480,0.005912235938013,0.053727056831121,-0.190806970000267));
res += mul(Get(s0,dx,0), float4x4(0.003402529517189,-0.077472597360611,-0.032497201114893,0.031230352818966,0.166695937514305,0.014174999669194,-0.034001741558313,-0.145474344491959,0.069079078733921,0.111789137125015,0.045724995434284,0.028076661750674,-0.005829329602420,0.055943448096514,0.113415755331516,-0.018079638481140));
res += mul(Get(s0,dx,dy), float4x4(0.197873294353485,-0.093376070261002,-0.049822635948658,-0.188074305653572,0.071573972702026,-0.021546160802245,-0.043607972562313,0.048816200345755,-0.057325173169374,-0.148867025971413,0.060533959418535,0.007114024832845,0.013596941716969,0.037327252328396,0.060753047466278,0.101837024092674));
res += mul(Get(s1,-dx,-dy), float4x4(0.170477330684662,-0.031064424663782,-0.113293960690498,0.024035608395934,-0.023532493039966,-0.089879475533962,0.097389467060566,-0.111071698367596,-0.057089250534773,-0.044639110565186,-0.030729103833437,0.012892141006887,0.124593071639538,-0.109517998993397,0.106499008834362,-0.005651228129864));
res += mul(Get(s1,-dx,0), float4x4(-0.126347586512566,0.068558506667614,-0.000861685024574,-0.059100516140461,0.105985090136528,-0.106589846313000,-0.071922428905964,0.052007149904966,-0.098637081682682,0.192512035369873,0.182379484176636,-0.033015452325344,-0.181420445442200,0.109672173857689,0.057068474590778,-0.017994625493884));
res += mul(Get(s1,-dx,dy), float4x4(-0.073375649750233,-0.121131822466850,-0.070281222462654,-0.144568338990211,-0.142463862895966,0.069757856428623,0.163633406162262,0.051969196647406,-0.006154175847769,0.015941914170980,-0.028224639594555,-0.091237530112267,0.188654959201813,-0.006491122767329,-0.052613276988268,-0.023576961830258));
res += mul(Get(s1,0,-dy), float4x4(-0.056896686553955,0.146414443850517,0.092995285987854,0.089487358927727,0.098500885069370,-0.009850030764937,0.059385586529970,-0.232609614729881,-0.122749663889408,0.071911484003067,-0.002174533903599,-0.084603779017925,-0.037647828459740,0.022669099271297,-0.071904338896275,-0.022169042378664));
res += mul(Get(s1,0,0), float4x4(0.258092135190964,0.091841928660870,0.119764380156994,-0.014384093694389,-0.040599960833788,-0.007618378382176,0.167117133736610,0.034997027367353,-0.034864824265242,0.134198427200317,0.108033195137978,-0.012566572986543,-0.159903094172478,-0.038968026638031,-0.043773554265499,0.023722423240542));
res += mul(Get(s1,0,dy), float4x4(0.017927393317223,-0.088860318064690,-0.132598459720612,-0.135760575532913,-0.065321497619152,0.147895708680153,0.063072629272938,-0.056862197816372,-0.021488716825843,0.155845358967781,-0.010602035559714,-0.006490834988654,0.025774059817195,0.112197443842888,0.042487282305956,0.312153875827789));
res += mul(Get(s1,dx,-dy), float4x4(-0.135895863175392,0.074074313044548,-0.134981393814087,-0.062752798199654,-0.025434853509068,-0.041024956852198,0.089318409562111,0.026765082031488,0.094558827579021,-0.250303894281387,0.016680853441358,0.061523448675871,0.216336533427238,-0.075728721916676,0.128796845674515,0.151061519980431));
res += mul(Get(s1,dx,0), float4x4(0.096542648971081,-0.047561172395945,0.193504095077515,-0.129491090774536,0.038598842918873,-0.061496883630753,-0.165571004152298,-0.109277464449406,0.143768757581711,-0.176380202174187,0.047363445162773,-0.066982410848141,-0.019190972670913,0.076921410858631,0.061117067933083,-0.006842714734375));
res += mul(Get(s1,dx,dy), float4x4(-0.086907677352428,0.017544860020280,0.038336869329214,0.004366663284600,0.001618521288037,-0.114752486348152,-0.017465300858021,-0.133427545428276,-0.066089741885662,-0.019784579053521,0.015346126630902,-0.094704173505306,-0.045857306569815,0.079339377582073,-0.002771773608401,-0.012771409004927));
res += mul(Get(s2,-dx,-dy), float4x4(0.044324349611998,0.019913636147976,0.006631202995777,0.218429490923882,0.089417032897472,0.072592303156853,-0.160602018237114,0.012374904938042,0.084365822374821,0.070484749972820,-0.163730770349503,0.052847974002361,0.139932245016098,0.052041389048100,-0.197362229228020,-0.011555715464056));
res += mul(Get(s2,-dx,0), float4x4(-0.041705045849085,-0.026825442910194,0.052910204976797,0.019346330314875,-0.071448214352131,0.239632070064545,-0.258967131376266,0.065649874508381,-0.179629594087601,-0.168875783681870,-0.105827867984772,0.016656979918480,-0.004405207931995,-0.062963053584099,-0.009555608034134,-0.190778464078903));
res += mul(Get(s2,-dx,dy), float4x4(0.016170974820852,-0.087149038910866,-0.055363938212395,-0.022550411522388,0.044116578996181,0.123109109699726,-0.088492423295975,-0.050053115934134,0.085267260670662,0.039464619010687,0.106534570455551,-0.036853641271591,-0.046285495162010,-0.029098574072123,-0.219366014003754,0.028677266091108));
res += mul(Get(s2,0,-dy), float4x4(-0.090680792927742,-0.078885138034821,0.193537831306458,-0.061132263392210,-0.051309991627932,-0.015357984229922,0.026245847344398,0.129658699035645,0.194130957126617,-0.175368160009384,-0.041169088333845,-0.030159251764417,0.017421746626496,0.054593987762928,0.170177772641182,0.068660154938698));
res += mul(Get(s2,0,0), float4x4(-0.076262995600700,0.084574311971664,0.040021747350693,0.109580568969250,-0.127351611852646,-0.020129695534706,-0.184040129184723,-0.229975357651711,0.060682080686092,-0.134917452931404,-0.042636081576347,0.193153366446495,0.248380258679390,-0.146584436297417,-0.142783418297768,0.119974434375763));
res += mul(Get(s2,0,dy), float4x4(-0.019503770396113,-0.061461318284273,0.001455376739614,-0.224720433354378,0.066732957959175,-0.110511757433414,-0.044734206050634,-0.160061433911324,-0.137439191341400,-0.035302404314280,-0.218160957098007,-0.027843965217471,0.088683262467384,-0.137419432401657,-0.295950591564178,0.025516126304865));
res += mul(Get(s2,dx,-dy), float4x4(0.109310209751129,0.022909609600902,0.048417091369629,-0.011515049263835,-0.102847255766392,0.002211545826867,-0.196212098002434,-0.124428607523441,0.018205024302006,0.055154033005238,0.057836711406708,0.099563278257847,-0.209378629922867,-0.105154290795326,-0.022499220445752,-0.011093446984887));
res += mul(Get(s2,dx,0), float4x4(-0.146207556128502,-0.149263650178909,0.055307127535343,0.018031196668744,0.010043728165329,0.053288511931896,0.168576374650002,-0.020358840003610,0.095711722970009,0.204635635018349,-0.075636602938175,0.031730026006699,0.008373053744435,-0.148848354816437,-0.160137236118317,0.181816309690475));
res += mul(Get(s2,dx,dy), float4x4(-0.057194381952286,-0.237223073840141,-0.019442707300186,-0.083794154226780,-0.058664645999670,0.278495013713837,0.020978009328246,-0.040293127298355,-0.046021580696106,0.056706618517637,0.014487830922008,-0.060350731015205,0.150472700595856,0.010146651417017,-0.039288487285376,-0.006024669855833));
res += mul(Get(s3,-dx,-dy), float4x4(0.031269561499357,-0.009073064662516,0.157877922058105,0.096921235322952,-0.044185373932123,0.072156362235546,-0.029728183522820,0.064347840845585,-0.064246445894241,-0.039570577442646,0.199271738529205,0.031596079468727,-0.159017577767372,-0.034496802836657,-0.042037975043058,-0.008948241360486));
res += mul(Get(s3,-dx,0), float4x4(-0.006302372552454,0.146342471241951,-0.238953739404678,-0.063787601888180,-0.054371766746044,0.078405685722828,-0.038316134363413,-0.086644038558006,-0.296814441680908,0.187481582164764,0.271848648786545,-0.031498115509748,0.087162524461746,0.047801677137613,0.027599453926086,-0.036353010684252));
res += mul(Get(s3,-dx,dy), float4x4(-0.099553667008877,-0.012188122607768,0.013324767351151,-0.009839215315878,-0.020158804953098,-0.100281350314617,-0.127394691109657,-0.004691261332482,0.069592267274857,0.048797842115164,-0.145859479904175,-0.190129518508911,0.036776036024094,0.053733494132757,-0.069775804877281,0.090115755796432));
res += mul(Get(s3,0,-dy), float4x4(0.078587330877781,-0.220831647515297,-0.078989520668983,0.130638808012009,-0.125151276588440,0.123313315212727,0.077281028032303,-0.051869850605726,-0.089841403067112,0.040344130247831,0.087146230041981,0.047697547823191,-0.062328424304724,0.043617818504572,0.022644016891718,-0.032804232090712));
res += mul(Get(s3,0,0), float4x4(-0.321167409420013,0.117556385695934,0.021133791655302,0.030274406075478,0.011050851084292,0.069339208304882,0.181564703583717,-0.066544540226460,-0.133927211165428,0.085642807185650,-0.092195190489292,-0.300298720598221,-0.014357024803758,-0.162274047732353,-0.119803436100483,-0.063167244195938));
res += mul(Get(s3,0,dy), float4x4(-0.013824407011271,0.009790179319680,0.111656762659550,0.044850546866655,-0.148215577006340,0.085307851433754,-0.003922382835299,-0.005509197246283,-0.161009222269058,-0.067857809364796,-0.079181574285030,-0.158127903938293,-0.106851086020470,0.004453544039279,0.103070691227913,-0.035908419638872));
res += mul(Get(s3,dx,-dy), float4x4(0.023984363302588,-0.001535250339657,0.060505345463753,0.065569162368774,-0.000809953606222,-0.127125442028046,-0.072347663342953,0.012554039247334,-0.086944736540318,0.082138553261757,-0.082925572991371,0.095732524991035,-0.153809949755669,0.127157762646675,0.122674711048603,0.047312375158072));
res += mul(Get(s3,dx,0), float4x4(-0.114850252866745,0.008540522307158,0.136911034584045,0.127937063574791,-0.001696241088212,-0.196552067995071,0.175240948796272,-0.015133377164602,0.110806226730347,-0.116640239953995,0.108835041522980,-0.016042904928327,0.195841863751411,-0.167621031403542,0.063820496201515,-0.197703495621681));
res += mul(Get(s3,dx,dy), float4x4(-0.036644253879786,0.094543308019638,-0.013050419278443,-0.135877192020416,-0.041403099894524,0.054389301687479,0.003649723716080,-0.087283357977867,-0.046139318495989,0.094794578850269,-0.025563586503267,-0.010691948235035,0.023003529757261,-0.017573351040483,-0.148259907960892,-0.015870548784733));
return max(float4(0,0,0,0), res);
}
