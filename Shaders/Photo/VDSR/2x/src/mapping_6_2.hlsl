sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.053916361182928,-0.073012657463551,0.090898908674717,-0.000680944649503,0.174554601311684,0.087905675172806,0.116287529468536,-0.123668536543846,0.112064719200134,0.082138568162918,0.084163986146450,-0.113276734948158,-0.011273839510977,-0.069160543382168,-0.077662698924541,-0.020005317404866));
res += mul(Get(s0,-dx,0), float4x4(-0.061401639133692,-0.010961608029902,-0.141758576035500,-0.056461248546839,0.033995416015387,0.021591661497951,-0.113437540829182,0.081021130084991,-0.155572071671486,-0.032758258283138,0.012084602378309,-0.075227648019791,-0.034992337226868,0.186526224017143,0.199296072125435,0.029279464855790));
res += mul(Get(s0,-dx,dy), float4x4(0.069934889674187,0.031874578446150,-0.048506014049053,0.040608417242765,0.179833143949509,0.163575187325478,0.069895327091217,-0.089492812752724,-0.117798462510109,-0.062249727547169,0.230165645480156,0.072653599083424,-0.055150445550680,-0.004198804963380,-0.096787735819817,-0.002515694359317));
res += mul(Get(s0,0,-dy), float4x4(-0.087046965956688,0.137666150927544,0.009288911707699,0.166199252009392,0.087075211107731,-0.013422200456262,0.026770889759064,0.010696322657168,-0.039657928049564,0.005046432837844,0.050398580729961,0.037479069083929,0.083175875246525,0.150641441345215,-0.059385634958744,-0.138853177428246));
res += mul(Get(s0,0,0), float4x4(-0.078220918774605,0.119400605559349,0.187355414032936,0.056121308356524,0.036708366125822,-0.029035244137049,0.072602264583111,0.015109926462173,-0.022729011252522,-0.103972725570202,-0.054546941071749,0.151962071657181,-0.091793522238731,-0.167100697755814,0.128235831856728,0.133288607001305));
res += mul(Get(s0,0,dy), float4x4(-0.201615735888481,0.050072964280844,-0.098329044878483,-0.011047274805605,-0.094122275710106,0.051574714481831,-0.031049080193043,0.056156609207392,0.001964197726920,-0.192822709679604,-0.012312555685639,-0.132874846458435,-0.195617541670799,-0.027649706229568,0.012233386747539,-0.235923320055008));
res += mul(Get(s0,dx,-dy), float4x4(0.052144922316074,-0.025494949892163,-0.008955159224570,-0.124653518199921,0.077857278287411,-0.006788403261453,-0.008666543290019,0.089566841721535,-0.093842551112175,-0.055792436003685,0.130078926682472,-0.040532998740673,-0.087944224476814,-0.086521640419960,0.135564535856247,-0.072093427181244));
res += mul(Get(s0,dx,0), float4x4(0.062400709837675,0.182912960648537,-0.020962564274669,-0.051566079258919,0.070409461855888,-0.010825935751200,0.035451676696539,-0.089233122766018,-0.150272876024246,-0.131571665406227,0.150412932038307,0.005426734685898,0.102391578257084,-0.010849938727915,0.046282734721899,-0.102082379162312));
res += mul(Get(s0,dx,dy), float4x4(0.005778966937214,0.113178946077824,-0.079365238547325,-0.164563059806824,-0.063161738216877,-0.079836852848530,-0.042060203850269,-0.006288630422205,0.094446063041687,-0.314681529998779,0.029428903013468,0.032673016190529,0.144615605473518,0.169035285711288,0.021252159029245,-0.077272400259972));
res += mul(Get(s1,-dx,-dy), float4x4(-0.117596134543419,-0.099828459322453,-0.026819758117199,-0.124363131821156,0.119554437696934,0.003941168077290,-0.098709255456924,-0.100142560899258,0.008871586062014,-0.170921236276627,0.024981018155813,0.073977708816528,-0.199155166745186,0.088322982192039,0.203687265515327,0.089262768626213));
res += mul(Get(s1,-dx,0), float4x4(-0.159087508916855,-0.054019514471292,-0.095215059816837,0.175077155232430,-0.002860124688596,-0.042754992842674,-0.143664777278900,0.102691344916821,-0.024370897561312,0.052667275071144,0.103782005608082,0.015253083780408,0.030877966433764,0.035873807966709,0.172946020960808,-0.068077825009823));
res += mul(Get(s1,-dx,dy), float4x4(0.144984692335129,-0.076581656932831,-0.103503637015820,-0.000793699640781,0.055209066718817,0.012821543961763,0.041979666799307,-0.034227389842272,-0.104113653302193,-0.030350353568792,0.079320289194584,-0.017558084800839,-0.062746442854404,-0.094226621091366,0.002349417656660,0.024203522130847));
res += mul(Get(s1,0,-dy), float4x4(0.020787760615349,0.005602359306067,-0.090445168316364,-0.096318162977695,-0.072325043380260,0.005776621866971,-0.215795278549194,0.074215002357960,-0.128796592354774,-0.010470074601471,0.108689956367016,-0.012684081681073,-0.058546293526888,-0.073312126100063,0.125370398163795,-0.135977625846863));
res += mul(Get(s1,0,0), float4x4(0.174542158842087,-0.038306619971991,0.335745930671692,0.066966213285923,-0.069655023515224,0.105869747698307,-0.147106945514679,0.032415840774775,0.026550805196166,0.131200805306435,0.099803507328033,-0.113994285464287,0.042781110852957,-0.134528592228889,0.133685797452927,-0.021111149340868));
res += mul(Get(s1,0,dy), float4x4(-0.229483649134636,0.043154150247574,-0.141945198178291,0.012248513288796,0.067989267408848,0.130988493561745,-0.026860587298870,0.017162485048175,-0.234362274408340,0.047409493476152,0.006008594762534,0.046753816306591,0.192242056131363,-0.185800239443779,-0.013879738748074,-0.208774730563164));
res += mul(Get(s1,dx,-dy), float4x4(0.090747952461243,0.005377925932407,-0.088788099586964,0.222659513354301,0.061442095786333,0.028532050549984,-0.100555218756199,0.136423975229263,0.124780431389809,0.086050711572170,0.104190021753311,0.073634080588818,-0.044059660285711,-0.063295796513557,0.180602788925171,0.014573789201677));
res += mul(Get(s1,dx,0), float4x4(-0.019837856292725,0.055538833141327,0.028368901461363,-0.113384485244751,-0.085017330944538,-0.014479416422546,-0.152875065803528,-0.007542212959379,-0.012259212322533,0.008734231814742,0.071324199438095,0.011034365743399,-0.107559815049171,-0.083806358277798,0.070593826472759,0.058979883790016));
res += mul(Get(s1,dx,dy), float4x4(-0.024230035021901,0.185119554400444,0.041276507079601,0.032525379210711,-0.055734507739544,0.066835880279541,0.057671215385199,0.046768974512815,0.000403733865824,0.135926812887192,0.118302367627621,-0.043896172195673,-0.027336683124304,0.116970270872116,0.116529613733292,-0.022706927731633));
res += mul(Get(s2,-dx,-dy), float4x4(-0.068567030131817,-0.072629563510418,0.155955418944359,0.041110228747129,0.083679229021072,-0.143644690513611,-0.287788450717926,-0.131366938352585,0.118091665208340,-0.032495778053999,0.166228339076042,-0.098662964999676,-0.012456990778446,-0.018366809934378,0.134358927607536,-0.014687092043459));
res += mul(Get(s2,-dx,0), float4x4(-0.105405919253826,-0.008264779113233,-0.010229230858386,-0.063236899673939,-0.053507123142481,0.002403280232102,0.015793357044458,-0.089009881019592,0.071836635470390,0.018395638093352,0.139294177293777,-0.011172437109053,-0.105308942496777,-0.084385022521019,-0.142252311110497,0.110549010336399));
res += mul(Get(s2,-dx,dy), float4x4(0.039065621793270,-0.005669218488038,-0.203347370028496,-0.134924128651619,-0.075159654021263,-0.035993009805679,0.000263417809037,0.086961053311825,-0.042020846158266,0.060433369129896,0.026760235428810,0.124729529023170,-0.057057216763496,0.061110194772482,-0.141817748546600,0.326720386743546));
res += mul(Get(s2,0,-dy), float4x4(-0.004520739428699,-0.004834099207073,-0.017479939386249,0.008448761887848,0.008218995295465,0.062304548919201,-0.078123040497303,-0.198970973491669,-0.028634980320930,-0.051963023841381,0.162933379411697,-0.085122123360634,-0.066929973661900,0.046506393700838,-0.028193483129144,0.028552390635014));
res += mul(Get(s2,0,0), float4x4(0.007349099963903,0.174381256103516,0.186474725604057,-0.003139483975247,-0.146866247057915,-0.092045873403549,0.000749510945752,-0.070353135466576,-0.206611186265945,0.205530986189842,0.068636476993561,0.272900968790054,0.149456918239594,0.061074547469616,-0.021402239799500,0.123769044876099));
res += mul(Get(s2,0,dy), float4x4(0.159344509243965,-0.087595440447330,0.177046120166779,-0.263601034879684,0.058273479342461,-0.166958615183830,0.134775906801224,0.189647108316422,-0.104463048279285,-0.156741589307785,-0.097748614847660,0.180654600262642,0.060004871338606,0.103792406618595,0.045238070189953,0.021647660061717));
res += mul(Get(s2,dx,-dy), float4x4(0.062899507582188,0.186188951134682,-0.214071691036224,-0.246210291981697,-0.043447341769934,0.002501359442249,-0.063066348433495,0.010771933011711,0.104657143354416,-0.068044327199459,0.099974915385246,-0.062535494565964,0.164416417479515,0.262882739305496,-0.099614717066288,-0.128369480371475));
res += mul(Get(s2,dx,0), float4x4(0.005152866244316,0.015507726930082,-0.001125211594626,0.100426584482193,-0.023752814158797,0.091084040701389,-0.108121782541275,0.021573301404715,-0.157556369900703,0.048716373741627,-0.042093429714441,0.017369994893670,-0.176567673683167,-0.058652929961681,-0.089152351021767,0.136424809694290));
res += mul(Get(s2,dx,dy), float4x4(-0.152301460504532,0.073656588792801,0.185262009501457,-0.069394372403622,0.090053334832191,0.037083778530359,0.173663362860680,-0.100553169846535,-0.158984884619713,0.023024931550026,0.001325513119809,-0.167288407683372,-0.033420063555241,-0.236000388860703,0.086686581373215,-0.046783510595560));
res += mul(Get(s3,-dx,-dy), float4x4(0.103478848934174,0.026419760659337,0.253815323114395,-0.038856513798237,-0.153637856245041,0.118852466344833,0.071628116071224,0.076329275965691,-0.085293620824814,0.154996931552887,-0.100695669651031,0.004236239008605,-0.004421919584274,0.062465779483318,0.189707651734352,-0.070400975644588));
res += mul(Get(s3,-dx,0), float4x4(0.011106565594673,-0.062327530235052,-0.114115968346596,0.172574400901794,-0.003209859598428,-0.020400434732437,0.006857509259135,-0.145126178860664,-0.250949263572693,-0.129647657275200,-0.112070158123970,-0.047017291188240,0.149072051048279,0.060913126915693,-0.003585542785004,-0.048548389226198));
res += mul(Get(s3,-dx,dy), float4x4(0.059752143919468,-0.002252820879221,0.073985531926155,0.042459700256586,-0.032404895871878,-0.023892160505056,0.159453675150871,0.026722254231572,0.106289081275463,-0.122024446725845,-0.144726365804672,0.121891640126705,0.061254609376192,-0.019669808447361,0.076413512229919,-0.109347276389599));
res += mul(Get(s3,0,-dy), float4x4(-0.048386864364147,0.155912220478058,-0.037598103284836,-0.028827646747231,0.102708473801613,-0.177419394254684,-0.102971732616425,0.168415606021881,-0.000246505747782,0.123516872525215,0.007354564033449,-0.086036324501038,-0.018206136301160,0.056405805051327,-0.022043975070119,0.093172326683998));
res += mul(Get(s3,0,0), float4x4(0.012606505304575,0.193289503455162,-0.044918794184923,-0.057181376963854,-0.076182000339031,-0.143393486738205,0.021155586466193,-0.000548946729396,0.080331243574619,0.085019633173943,0.048692788928747,0.171675279736519,0.049532704055309,-0.035783533006907,0.126428589224815,0.064414873719215));
res += mul(Get(s3,0,dy), float4x4(0.104435145854950,0.097448006272316,-0.134917676448822,0.141071990132332,0.031797736883163,-0.032260254025459,-0.052895426750183,0.004027563612908,0.027196418493986,-0.101255863904953,-0.258631855249405,0.007733101490885,0.009913356974721,-0.169226855039597,0.052168034017086,-0.044955570250750));
res += mul(Get(s3,dx,-dy), float4x4(-0.091998383402824,-0.126094564795494,-0.190920561552048,0.029553139582276,-0.122115105390549,0.068567261099815,0.065059803426266,-0.005470908246934,0.055241774767637,0.169327601790428,-0.064959906041622,0.092748068273067,0.065427877008915,-0.006456611678004,0.097839117050171,0.009332726709545));
res += mul(Get(s3,dx,0), float4x4(-0.053911291062832,0.028225801885128,0.122678555548191,0.001509585767053,-0.004472778178751,-0.086363837122917,-0.307494968175888,0.090037934482098,-0.204270362854004,0.036561079323292,-0.098217964172363,0.116933047771454,-0.037100423127413,-0.121414303779602,0.140835821628571,-0.052820131182671));
res += mul(Get(s3,dx,dy), float4x4(0.268695801496506,-0.011046506464481,-0.136353552341461,-0.174901232123375,-0.045456424355507,-0.015230467543006,0.007690598256886,-0.105305373668671,-0.150019556283951,0.081115551292896,-0.094581387937069,-0.075683042407036,0.076016061007977,0.188772991299629,-0.025302397087216,-0.119040377438068));
return max(float4(0,0,0,0), res);
}
