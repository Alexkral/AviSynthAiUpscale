sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006713130977005,0.042215894907713,0.050418511033058,-0.029558334499598,-0.139196529984474,-0.079284638166428,0.084541201591492,-0.258301794528961,0.032511059194803,-0.052870232611895,0.056209973990917,0.003136050421745,-0.036004412919283,-0.047176379710436,-0.013665883801877,-0.062592409551144));
res += mul(Get(s0,-dx,0), float4x4(-0.075079694390297,0.017069010064006,-0.017495954409242,-0.124913454055786,0.057844370603561,-0.143816620111465,-0.017335290089250,-0.148214504122734,-0.062569804489613,0.072610475122929,0.038463182747364,-0.037599328905344,-0.080965280532837,0.053207725286484,0.027851322665811,-0.131504431366920));
res += mul(Get(s0,-dx,dy), float4x4(0.013301947154105,0.009006403386593,-0.036031834781170,0.013628291897476,0.125565662980080,-0.089005962014198,-0.036768522113562,-0.046720936894417,-0.082886777818203,-0.079190365970135,-0.002106637228280,0.063206143677235,0.010645663365722,0.060449261218309,-0.013726305216551,0.021521847695112));
res += mul(Get(s0,0,-dy), float4x4(-0.062156993895769,0.101911358535290,-0.028570430353284,0.057102233171463,-0.065472759306431,-0.090456403791904,0.007066365331411,-0.148528531193733,-0.028789272531867,-0.165324032306671,0.254556596279144,0.033123098313808,-0.016682963818312,0.230591654777527,-0.081811159849167,0.103282965719700));
res += mul(Get(s0,0,0), float4x4(0.176191866397858,0.137359857559204,-0.075966298580170,-0.033560719341040,-0.074869833886623,0.095436409115791,0.048728335648775,-0.138715744018555,-0.111155658960342,0.026212619617581,0.006006423849612,-0.041475549340248,-0.020145975053310,0.077458754181862,0.078014343976974,0.105382464826107));
res += mul(Get(s0,0,dy), float4x4(0.165065437555313,0.029498036950827,-0.071685068309307,0.032017983496189,0.016738770529628,0.041001733392477,-0.079135306179523,-0.114329300820827,0.011900684796274,-0.097687527537346,-0.058951541781425,-0.105371743440628,0.006151086185127,-0.005135491956025,-0.047592248767614,0.124330438673496));
res += mul(Get(s0,dx,-dy), float4x4(0.021425450220704,0.017625069245696,0.060959368944168,-0.038316830992699,0.015092850662768,-0.141906931996346,0.008249991573393,0.135858863592148,-0.054326824843884,-0.082046896219254,0.114655509591103,0.075087651610374,-0.008012000471354,0.239767953753471,0.053213302046061,-0.129162296652794));
res += mul(Get(s0,dx,0), float4x4(-0.011093962006271,-0.010727872140706,-0.003766708308831,0.066534794867039,-0.066624045372009,-0.047928184270859,0.042748000472784,0.018562553450465,0.040631223469973,-0.003441664390266,0.044812828302383,0.168415144085884,0.072718568146229,0.067827738821507,-0.007679229136556,0.075923100113869));
res += mul(Get(s0,dx,dy), float4x4(0.082187488675117,-0.008859977126122,0.054641276597977,0.079090677201748,0.072557456791401,0.059256095439196,-0.017747914418578,-0.049338135868311,0.055295944213867,0.025994585826993,-0.067636035382748,-0.126117542386055,-0.008326137438416,-0.007367260288447,-0.029827764257789,0.005888918880373));
res += mul(Get(s1,-dx,-dy), float4x4(0.033031295984983,-0.119959369301796,0.018432898446918,0.038813460618258,-0.064143158495426,-0.059127058833838,-0.020683232694864,0.206312566995621,-0.016193464398384,-0.030542816966772,0.087233304977417,-0.067789748311043,0.002039516810328,-0.028462095186114,0.053498562425375,-0.137775674462318));
res += mul(Get(s1,-dx,0), float4x4(-0.007095964625478,-0.030888115987182,-0.063964962959290,0.043360490351915,0.043547343462706,0.010482292622328,-0.046270146965981,-0.018814379349351,0.008308998309076,-0.112287491559982,0.131388649344444,-0.093440636992455,0.161026924848557,0.168857201933861,0.063374228775501,-0.102675519883633));
res += mul(Get(s1,-dx,dy), float4x4(-0.056390948593616,-0.141163364052773,0.043463803827763,0.000775152293500,0.087309099733829,-0.130194917321205,-0.079975053668022,0.039005950093269,0.016300005838275,-0.016308924183249,0.044573701918125,-0.148948654532433,-0.048285901546478,0.122200347483158,-0.037939533591270,-0.027880264446139));
res += mul(Get(s1,0,-dy), float4x4(0.039705254137516,-0.006757361814380,0.037217684090137,-0.017137309536338,-0.013423520140350,-0.105073340237141,0.056375581771135,0.118150733411312,-0.105907954275608,-0.024978518486023,0.072626650333405,0.012322492897511,-0.026151001453400,-0.039544686675072,0.002874543890357,0.003676534397528));
res += mul(Get(s1,0,0), float4x4(0.009432890452445,0.142564952373505,-0.099272690713406,-0.111897833645344,-0.060335371643305,0.010223047807813,-0.014587434940040,-0.132127001881599,-0.029758676886559,0.087532758712769,-0.046080961823463,-0.039290372282267,0.021768230944872,0.085633121430874,0.024959692731500,-0.133615955710411));
res += mul(Get(s1,0,dy), float4x4(-0.011732278391719,0.034399289637804,-0.049726001918316,0.087863922119141,0.056118931621313,0.060964792966843,-0.054857626557350,-0.093634486198425,-0.100062116980553,0.015080356039107,0.017437547445297,-0.093065463006496,0.067206755280495,0.090485878288746,-0.004707740619779,-0.154375806450844));
res += mul(Get(s1,dx,-dy), float4x4(-0.026954589411616,-0.142172053456306,0.060792554169893,0.051600031554699,-0.070859126746655,-0.040069680660963,0.010641857050359,0.181802257895470,-0.030689910054207,-0.063114129006863,0.005659783259034,0.024747667834163,0.051292493939400,-0.092293970286846,-0.007923225872219,0.243255496025085));
res += mul(Get(s1,dx,0), float4x4(0.058646272867918,-0.035975810140371,-0.082022950053215,-0.038708467036486,0.065484687685966,-0.013970345258713,-0.031713970005512,0.029656426981091,-0.024170901626348,-0.005945153068751,-0.048379119485617,-0.090063974261284,-0.068084277212620,0.000750978535507,-0.013278003782034,0.151154473423958));
res += mul(Get(s1,dx,dy), float4x4(0.005454906728119,0.003105028299615,0.007240124512464,0.177645012736320,0.075783535838127,0.076311737298965,-0.016087185591459,0.007479990366846,-0.024331897497177,-0.004002526868135,0.011586593464017,-0.045983958989382,0.012077329680324,0.065118111670017,0.036334235221148,-0.009048681706190));
res += mul(Get(s2,-dx,-dy), float4x4(-0.086048997938633,0.054988089948893,0.067043848335743,-0.077289238572121,0.035580120980740,0.086493872106075,0.148465484380722,0.085210807621479,0.035095978528261,-0.010213938541710,0.106377422809601,-0.130620956420898,-0.019205491989851,0.079206809401512,-0.022390568628907,-0.019206436350942));
res += mul(Get(s2,-dx,0), float4x4(-0.144980788230896,0.009070762433112,0.048182945698500,-0.035089239478111,0.051672719419003,0.056614991277456,-0.073010280728340,0.114937663078308,0.031573906540871,-0.060796048492193,-0.020310895517468,-0.126724988222122,0.055810809135437,-0.074486948549747,-0.025132831186056,-0.175534605979919));
res += mul(Get(s2,-dx,dy), float4x4(0.013754007406533,-0.019050704315305,-0.040506865829229,-0.007432383485138,-0.048961989581585,0.026237171143293,0.049008563160896,0.087112642824650,0.158982664346695,-0.071547217667103,-0.020846756175160,-0.087880738079548,-0.055666446685791,-0.023901781067252,0.034418158233166,-0.268644571304321));
res += mul(Get(s2,0,-dy), float4x4(-0.012036747299135,0.043317001312971,0.125113755464554,-0.028835929930210,-0.079371489584446,0.113500483334064,0.013370320200920,-0.054030049592257,0.044385436922312,-0.047697514295578,0.163984686136246,0.127346023917198,-0.058363620191813,-0.162375897169113,-0.006418175064027,-0.068141698837280));
res += mul(Get(s2,0,0), float4x4(0.046461544930935,0.142470523715019,-0.044341746717691,-0.010841182433069,-0.076330073177814,-0.023239498957992,-0.041405174881220,-0.005687257274985,0.074619755148888,-0.102200686931610,0.159306183457375,0.015411745756865,0.114764809608459,-0.018272969871759,-0.105672232806683,-0.065728545188904));
res += mul(Get(s2,0,dy), float4x4(0.008315370418131,-0.030470179393888,0.008508739992976,-0.050589635968208,0.022189995273948,-0.005693343933672,-0.065302439033985,0.035227969288826,0.038210604339838,-0.039517194032669,-0.051656026393175,-0.136957988142967,0.054993029683828,-0.029792523011565,-0.035517971962690,-0.200410142540932));
res += mul(Get(s2,dx,-dy), float4x4(0.021998828276992,-0.066714227199554,0.037043977528811,0.026018034666777,-0.053429890424013,0.048729140311480,-0.054887734353542,-0.066382884979248,0.022057572379708,-0.079220086336136,-0.056413248181343,-0.054868385195732,-0.043477244675159,-0.192401617765427,0.109932258725166,-0.008843276649714));
res += mul(Get(s2,dx,0), float4x4(-0.042283806949854,0.050631251186132,-0.040302451699972,0.283799618482590,-0.012525849044323,-0.123021312057972,-0.161856934428215,-0.088291816413403,0.036084730178118,-0.051278810948133,0.018909867852926,0.057621154934168,0.006865410134196,0.009894956834614,-0.013396774418652,0.073263294994831));
res += mul(Get(s2,dx,dy), float4x4(0.076457194983959,0.053866114467382,-0.045361340045929,0.026988664641976,-0.080576367676258,-0.000332797761075,0.048163093626499,-0.008548699319363,-0.050488490611315,-0.046282634139061,-0.038474533706903,0.061782911419868,0.103065416216850,-0.104090727865696,-0.030093215405941,-0.023286100476980));
res += mul(Get(s3,-dx,-dy), float4x4(0.062814965844154,0.112556919455528,0.094021089375019,0.055620361119509,0.078864447772503,0.157110363245010,0.115343056619167,-0.070383355021477,-0.109276026487350,-0.086759500205517,0.217743411660194,-0.072033978998661,0.103032939136028,-0.165236398577690,-0.072312787175179,0.212289497256279));
res += mul(Get(s3,-dx,0), float4x4(-0.074262410402298,0.010253326036036,-0.009443989023566,0.016028594225645,0.048002135008574,0.061251502484083,-0.010453004390001,-0.062793456017971,0.014329870231450,0.098356910049915,0.042307287454605,-0.059274841099977,-0.098438546061516,-0.022501606494188,0.017414318397641,0.011667166836560));
res += mul(Get(s3,-dx,dy), float4x4(0.201883867383003,0.044565927237272,-0.020239099860191,-0.007819559425116,-0.005870505701751,0.112291082739830,0.018152469769120,0.085574902594090,0.143695399165154,0.093236550688744,0.075040318071842,-0.049867916852236,-0.042341172695160,-0.142827913165092,-0.089234061539173,0.003900815965608));
res += mul(Get(s3,0,-dy), float4x4(0.051126968115568,0.115601807832718,0.018302680924535,-0.030056873336434,-0.027656702324748,0.114771962165833,-0.016867801547050,-0.062641650438309,-0.015192040242255,-0.019956544041634,0.042825561016798,-0.023453544825315,-0.080407992005348,-0.035375293344259,0.005080588161945,-0.019068837165833));
res += mul(Get(s3,0,0), float4x4(-0.034300830215216,-0.125084787607193,0.019520312547684,-0.077570252120495,0.073607407510281,-0.072756193578243,-0.114743642508984,-0.106650099158287,-0.060843292623758,0.187361806631088,-0.103567034006119,-0.075765401124954,-0.078685820102692,0.057388149201870,-0.083417922258377,0.013221300207078));
res += mul(Get(s3,0,dy), float4x4(0.073527492582798,0.033047992736101,-0.015379683114588,0.048323433846235,0.075581714510918,0.135696694254875,0.136928856372833,0.013196688145399,0.083153277635574,0.002051502000540,0.047733716666698,0.020680962130427,0.046961538493633,0.015155227854848,0.068484455347061,-0.031616725027561));
res += mul(Get(s3,dx,-dy), float4x4(0.000071354959800,0.115838117897511,0.039439879357815,0.102183252573013,0.010039441287518,0.030209768563509,0.097455479204655,-0.024341991171241,0.058270677924156,0.169372290372849,0.124958090484142,-0.058904044330120,0.022290283814073,-0.154278427362442,-0.132674440741539,0.121357209980488));
res += mul(Get(s3,dx,0), float4x4(0.015618663281202,0.010480065830052,0.025460647419095,-0.022052543237805,0.059608213603497,-0.024962753057480,0.035158038139343,-0.008802955970168,0.014257911592722,0.139916598796844,0.033215481787920,-0.050116986036301,-0.139088809490204,-0.062495104968548,0.016532870009542,0.037503160536289));
res += mul(Get(s3,dx,dy), float4x4(0.073064588010311,0.101091101765633,-0.017124785110354,0.133711129426956,-0.195589080452919,0.027684051543474,0.003949724137783,0.031310249119997,0.039901491254568,0.074646100401878,0.097763523459435,0.141468837857246,0.268741220235825,-0.045013945549726,-0.022833518683910,0.016890121623874));
return max(float4(0,0,0,0), res);
}
