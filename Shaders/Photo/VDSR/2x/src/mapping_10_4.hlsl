sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.228639468550682,-0.042340435087681,-0.052844215184450,0.086237117648125,-0.007640551775694,-0.084267772734165,-0.005768153816462,0.128501862287521,0.117298282682896,-0.232669129967690,0.043652933090925,0.084064550697803,0.155199781060219,0.033644966781139,0.053697325289249,0.011079920455813));
res += mul(Get(s0,-dx,0), float4x4(-0.005950664170086,0.112864814698696,0.060372862964869,0.087979495525360,-0.132866472005844,0.024021718651056,-0.192231521010399,0.019757213070989,0.015365082770586,0.162304431200027,0.012077430263162,0.016478501260281,-0.143277674913406,0.102239392697811,0.061920464038849,-0.007784612942487));
res += mul(Get(s0,-dx,dy), float4x4(0.200773477554321,-0.128236249089241,0.097400411963463,-0.039899155497551,0.129812210798264,-0.011071683838964,-0.033313728868961,-0.032783787697554,0.003971877042204,0.030158650130033,-0.088496215641499,0.066751487553120,0.065046012401581,-0.190326765179634,0.067016214132309,-0.043218240141869));
res += mul(Get(s0,0,-dy), float4x4(-0.166257441043854,0.089049421250820,-0.029145700857043,-0.140838250517845,0.124749265611172,-0.104251630604267,0.128616616129875,-0.133450910449028,-0.112608566880226,0.002778151538223,0.047328852117062,0.055558387190104,-0.036972917616367,0.022760389372706,-0.028875781223178,-0.057931635528803));
res += mul(Get(s0,0,0), float4x4(0.047085963189602,0.071307644248009,0.054780021309853,-0.129819273948669,-0.119722627103329,0.048233848065138,0.005034639965743,0.131110921502113,-0.079527087509632,-0.206366494297981,-0.018479624763131,-0.130241349339485,-0.069949448108673,-0.121756881475449,0.013794501312077,0.103431530296803));
res += mul(Get(s0,0,dy), float4x4(-0.156987845897675,0.094681084156036,0.107560321688652,-0.015812546014786,0.144464030861855,-0.018222792074084,-0.009919835254550,-0.042682711035013,-0.017018510028720,0.079166002571583,-0.013074151240289,0.118489503860474,0.109882846474648,-0.011340974830091,0.005384360905737,-0.121568359434605));
res += mul(Get(s0,dx,-dy), float4x4(-0.106936156749725,0.104359291493893,0.100981391966343,0.187660560011864,0.080958172678947,0.158733561635017,-0.022138463333249,0.129604965448380,-0.043721284717321,-0.030551047995687,0.037954874336720,0.021186603233218,0.299916028976440,-0.162867963314056,-0.056070145219564,-0.140690073370934));
res += mul(Get(s0,dx,0), float4x4(0.032288916409016,-0.106166638433933,0.101090975105762,0.063079416751862,0.004465652629733,0.142769753932953,-0.067590981721878,0.241523757576942,0.154954656958580,-0.057923257350922,0.272601127624512,-0.268309742212296,-0.053247518837452,-0.040344476699829,0.011911203153431,0.220959410071373));
res += mul(Get(s0,dx,dy), float4x4(0.028987322002649,0.047936357557774,0.024637650698423,0.133448645472527,-0.015901135280728,0.004391025751829,-0.177850812673569,-0.007702707778662,0.164530336856842,0.013775097206235,0.165525481104851,-0.034485202282667,-0.086264006793499,-0.002879199339077,0.095266297459602,-0.084359236061573));
res += mul(Get(s1,-dx,-dy), float4x4(-0.060391020029783,-0.090631566941738,0.047371674329042,0.113092944025993,-0.027646526694298,-0.098028562963009,-0.285127013921738,0.100006841123104,-0.005369791295379,0.037033509463072,0.033662915229797,0.093845091760159,0.135303393006325,-0.071203947067261,-0.090489283204079,-0.048172861337662));
res += mul(Get(s1,-dx,0), float4x4(-0.076952435076237,-0.169541820883751,0.265250831842422,0.013323938474059,-0.035669129341841,0.048932909965515,-0.065460354089737,-0.090445637702942,-0.169117525219917,0.124912485480309,0.105802483856678,-0.040670931339264,-0.015121216885746,0.087350077927113,0.160613968968391,-0.035055421292782));
res += mul(Get(s1,-dx,dy), float4x4(0.017156595364213,-0.001451912103221,0.041485022753477,0.000091148562205,-0.063425257802010,0.008539516478777,-0.051460828632116,0.084308177232742,0.040210209786892,-0.035142097622156,0.160534471273422,0.080998510122299,-0.013159426860511,-0.009622287005186,-0.079833529889584,0.016232114285231));
res += mul(Get(s1,0,-dy), float4x4(-0.075303830206394,0.189994782209396,-0.012035388499498,0.083129644393921,0.044728118926287,-0.050380039960146,0.108529284596443,-0.282369673252106,-0.078802853822708,0.003662019502372,0.155216455459595,0.062287423759699,0.059818524867296,0.011613452807069,0.034359231591225,-0.200057461857796));
res += mul(Get(s1,0,0), float4x4(0.068592116236687,-0.097548909485340,0.071144111454487,-0.099710665643215,-0.060243632644415,-0.096415638923645,0.067137867212296,0.198206201195717,0.026789383962750,-0.028165703639388,0.024306822568178,-0.206017658114433,0.106979362666607,-0.037634402513504,0.032925687730312,-0.025883844122291));
res += mul(Get(s1,0,dy), float4x4(0.008660423569381,-0.093876428902149,-0.081863954663277,0.007279488258064,0.167096078395844,-0.007165835704654,0.037860516458750,-0.048648986965418,0.013162912800908,-0.075641736388206,0.101607337594032,0.082796774804592,0.097887091338634,-0.089141115546227,-0.042789433151484,0.161657378077507));
res += mul(Get(s1,dx,-dy), float4x4(-0.184461876749992,0.134614810347557,-0.023635836318135,0.034678857773542,-0.034351810812950,-0.021253934130073,-0.052671063691378,-0.103089146316051,-0.008405148983002,0.174028709530830,-0.121373958885670,-0.025483340024948,0.031714204698801,0.097822412848473,0.219264447689056,-0.074641808867455));
res += mul(Get(s1,dx,0), float4x4(-0.002269176067784,-0.016624515876174,0.002181154908612,-0.063588768243790,-0.141687586903572,-0.126182854175568,0.155725032091141,0.020005768164992,0.031319145113230,-0.015743467956781,-0.090078383684158,-0.120989635586739,-0.019380165264010,-0.038601927459240,-0.071740739047527,-0.064217977225780));
res += mul(Get(s1,dx,dy), float4x4(-0.061157271265984,-0.086963392794132,0.283142209053040,-0.121152587234974,0.097922228276730,-0.043573103845119,0.012257529422641,-0.179027542471886,0.003523301100358,0.016294812783599,0.123983725905418,-0.028299218043685,-0.157286748290062,-0.085113041102886,0.033972054719925,-0.100579895079136));
res += mul(Get(s2,-dx,-dy), float4x4(-0.208345428109169,0.043605249375105,0.071200527250767,-0.000887419213541,-0.094523519277573,0.028063399717212,-0.016543598845601,-0.056592967361212,-0.087612964212894,0.170859277248383,-0.063642717897892,0.179439187049866,0.100319974124432,0.182478144764900,-0.259889483451843,0.062539741396904));
res += mul(Get(s2,-dx,0), float4x4(-0.091220848262310,-0.001924032345414,0.024761304259300,-0.003629886312410,-0.087932512164116,-0.123670339584351,-0.072466924786568,-0.035946309566498,0.130402877926826,-0.033278010785580,-0.027135426178575,-0.005278360564262,-0.065299324691296,-0.002509807236493,-0.071820944547653,-0.018619107082486));
res += mul(Get(s2,-dx,dy), float4x4(-0.146110162138939,-0.098247990012169,0.010176187381148,0.051609206944704,0.151728630065918,-0.031211353838444,-0.011566514149308,0.049570374190807,-0.148324310779572,-0.099144272506237,0.041624169796705,0.001256908406503,-0.087990552186966,0.076671168208122,0.021774876862764,-0.083153218030930));
res += mul(Get(s2,0,-dy), float4x4(0.017985625192523,-0.109291218221188,-0.012253263033926,-0.057689085602760,-0.129208460450172,-0.025367701426148,-0.130869239568710,0.129188612103462,-0.112211562693119,0.012507626786828,0.000661411671899,-0.200454339385033,-0.051684357225895,-0.169477120041847,0.079027280211449,-0.135682433843613));
res += mul(Get(s2,0,0), float4x4(-0.079178474843502,-0.119371250271797,0.027556931599975,-0.094509430229664,0.028787476941943,0.153660595417023,-0.190174341201782,-0.105915464460850,0.095523625612259,-0.188405379652977,0.297863036394119,-0.190167888998985,-0.064536139369011,0.212189391255379,0.018250841647387,-0.085193477571011));
res += mul(Get(s2,0,dy), float4x4(0.146819040179253,-0.057691425085068,0.029725642874837,0.080652005970478,0.146932855248451,0.015509192831814,0.014224982820451,-0.133647009730339,-0.063071623444557,-0.067780375480652,0.089611671864986,-0.130305662751198,-0.094545014202595,-0.069222733378410,0.024204205721617,0.093590743839741));
res += mul(Get(s2,dx,-dy), float4x4(-0.091848745942116,-0.081646502017975,-0.126053914427757,-0.029552705585957,0.012769447639585,-0.169327780604362,0.088408455252647,-0.022341284900904,-0.022113768383861,0.033666543662548,-0.252976298332214,0.040523033589125,-0.100910872220993,0.001466801855713,0.028169075027108,-0.023087600246072));
res += mul(Get(s2,dx,0), float4x4(0.234153360128403,0.037315875291824,0.083701908588409,-0.161605373024940,-0.006663790438324,0.004465017933398,0.052636913955212,0.003657453227788,0.158965140581131,0.064536690711975,-0.101676329970360,0.165502741932869,-0.001252889400348,0.093329586088657,-0.053687300533056,0.085105739533901));
res += mul(Get(s2,dx,dy), float4x4(-0.025478914380074,-0.056226521730423,0.084655188024044,-0.026963466778398,0.042316406965256,0.099788054823875,-0.096097998321056,0.234770670533180,0.093895174562931,-0.042147252708673,-0.152439072728157,0.065637432038784,-0.154552787542343,-0.166380792856216,0.038430802524090,-0.047463953495026));
res += mul(Get(s3,-dx,-dy), float4x4(-0.046122007071972,-0.025861451402307,0.071727931499481,0.173950001597404,-0.017423227429390,-0.084766201674938,-0.005837871227413,-0.018869945779443,0.116438880562782,0.225424170494080,0.251156270503998,-0.035726685076952,0.047941535711288,-0.050587479025126,0.041906386613846,-0.059387292712927));
res += mul(Get(s3,-dx,0), float4x4(0.075725428760052,-0.045640602707863,0.153660863637924,0.040304202586412,0.006435862742364,-0.035213030874729,-0.138291820883751,0.054511994123459,0.120442204177380,-0.123547725379467,0.095172569155693,-0.101856410503387,-0.051294773817062,0.022903973236680,-0.011864417232573,0.031496368348598));
res += mul(Get(s3,-dx,dy), float4x4(0.048833683133125,0.194257408380508,-0.157902732491493,0.155854567885399,0.000645736581646,-0.002321179257706,0.053280103951693,-0.080694101750851,0.043968014419079,-0.072372578084469,0.100731924176216,0.042716838419437,0.027624242007732,0.080418601632118,-0.083367042243481,-0.095250092446804));
res += mul(Get(s3,0,-dy), float4x4(-0.115109138190746,-0.106352962553501,0.204375982284546,0.077259384095669,-0.090508736670017,-0.010578944347799,-0.025789331644773,0.105030909180641,-0.111153386533260,0.009397322311997,0.102751292288303,0.063638433814049,-0.162837609648705,-0.089877717196941,-0.107917912304401,0.104209974408150));
res += mul(Get(s3,0,0), float4x4(-0.108801767230034,-0.118111066520214,0.250023066997528,-0.012635730206966,-0.131587505340576,0.039472553879023,0.001535243121907,0.079426214098930,0.045558057725430,0.040505774319172,-0.046827055513859,0.052408758550882,-0.166495740413666,0.016874438151717,0.125404208898544,0.135941728949547));
res += mul(Get(s3,0,dy), float4x4(0.067508287727833,-0.108529418706894,-0.126622885465622,-0.010488883592188,-0.049427982419729,0.157206609845161,-0.057345408946276,0.075230680406094,-0.002128245541826,0.044193189591169,0.033667601644993,0.083364360034466,0.004108112305403,0.075849212706089,0.025448745116591,-0.009484329260886));
res += mul(Get(s3,dx,-dy), float4x4(-0.038418855518103,0.124145820736885,-0.006135893519968,0.252705454826355,0.065481469035149,-0.061618249863386,0.047556634992361,-0.096715554594994,0.002379904966801,0.085868738591671,0.085770286619663,0.109984040260315,0.074341364204884,0.007387224584818,-0.196072861552238,0.062289636582136));
res += mul(Get(s3,dx,0), float4x4(-0.048032715916634,0.012564765289426,0.082405529916286,0.127180546522141,0.014450026676059,0.015622726641595,0.156207352876663,-0.050853047519922,-0.012634094804525,-0.022506117820740,0.188942924141884,0.043979220092297,0.142463654279709,0.012452095746994,-0.103038966655731,0.101249478757381));
res += mul(Get(s3,dx,dy), float4x4(0.116533912718296,0.055859304964542,-0.124241292476654,0.140447676181793,0.074295707046986,0.104574061930180,-0.095532111823559,-0.260518103837967,-0.023867083713412,-0.067975111305714,0.081479094922543,0.087920665740967,-0.149121209979057,0.012116212397814,0.095793873071671,0.083885610103607));
return max(float4(0,0,0,0), res);
}
