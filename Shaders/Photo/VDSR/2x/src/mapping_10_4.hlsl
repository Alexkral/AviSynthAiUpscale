sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.023192128166556,0.050092104822397,-0.003119306406006,0.113736569881439,-0.012952001765370,-0.061500448733568,-0.004978488199413,-0.267665147781372,0.089707605540752,-0.038236442953348,0.045066531747580,-0.009332377463579,0.038840144872665,0.057655017822981,-0.040924020111561,0.041186355054379));
res += mul(Get(s0,-dx,0), float4x4(0.023677945137024,0.072293601930141,0.008404155261815,0.057723175734282,-0.030362553894520,0.016314536333084,0.068798951804638,-0.108308561146259,-0.048901852220297,-0.079517036676407,0.045584265142679,0.075853988528252,-0.046466365456581,0.120102979242802,-0.102189064025879,0.048628818243742));
res += mul(Get(s0,-dx,dy), float4x4(0.034954801201820,-0.093278147280216,-0.100135326385498,0.027420205995440,-0.082681395113468,0.013601797632873,0.131235301494598,-0.160109877586365,-0.026721755042672,-0.063395999372005,0.027668641880155,0.017929464578629,0.109188333153725,0.020654469728470,-0.105806626379490,0.073082685470581));
res += mul(Get(s0,0,-dy), float4x4(0.010306680575013,0.065439589321613,0.005072487983853,-0.040751062333584,0.006595585960895,-0.001788645400666,0.155364200472832,0.137105748057365,0.072850666940212,-0.067654512822628,0.019526563584805,0.018619813024998,-0.027206575497985,0.128574848175049,-0.004741616081446,-0.017213579267263));
res += mul(Get(s0,0,0), float4x4(-0.115728162229061,0.027594987303019,0.011261353269219,0.011069414205849,-0.106661193072796,0.065415687859058,0.115126609802246,0.013207547366619,0.067702658474445,-0.058266527950764,-0.008353686891496,0.120201900601387,-0.083995819091797,0.029641477391124,0.020067051053047,-0.010991642251611));
res += mul(Get(s0,0,dy), float4x4(-0.023440228775144,-0.033745747059584,0.019142525270581,-0.016518006101251,-0.051836561411619,0.011881135404110,0.020015019923449,0.099823579192162,0.042164407670498,0.118367820978165,-0.018115442246199,-0.002261026529595,0.110734641551971,-0.099464893341064,-0.019558141008019,-0.088724821805954));
res += mul(Get(s0,dx,-dy), float4x4(0.038793656975031,-0.041653841733932,-0.051158063113689,0.068184606730938,0.004990472458303,0.153927579522133,0.118550688028336,-0.074980765581131,0.008482613600791,-0.062074016779661,-0.000444186851382,-0.062419593334198,-0.019922155886889,0.035063307732344,-0.023867350071669,0.009981418959796));
res += mul(Get(s0,dx,0), float4x4(-0.147358670830727,0.032567109912634,-0.210623472929001,0.047545596957207,-0.143249839544296,0.096129775047302,0.244620114564896,0.024249654263258,-0.053775765001774,-0.037411198019981,0.049427255988121,0.076816804707050,-0.037226576358080,-0.009209692478180,-0.123261854052544,-0.039044328033924));
res += mul(Get(s0,dx,dy), float4x4(0.001334429369308,0.008973233401775,-0.069591037929058,0.047569341957569,-0.112576588988304,-0.014885948039591,0.028049534186721,-0.128932774066925,-0.061753720045090,0.033179890364408,0.105796471238136,0.073277615010738,0.199289485812187,-0.038219854235649,-0.236715853214264,-0.067998439073563));
res += mul(Get(s1,-dx,-dy), float4x4(0.023435220122337,-0.070639602839947,0.109144352376461,0.065847210586071,0.012187467887998,0.051678948104382,0.013762868009508,0.047024160623550,0.166715711355209,0.104050643742085,-0.121551774442196,0.089278705418110,-0.024078473448753,0.054960630834103,0.041753388941288,0.078673422336578));
res += mul(Get(s1,-dx,0), float4x4(0.021678034216166,-0.055966578423977,0.043823674321175,0.009287521243095,0.044703349471092,0.101962439715862,-0.005972234066576,0.190493807196617,0.065165117383003,0.037990119308233,-0.091541938483715,0.030132215470076,-0.129388213157654,0.051659483462572,-0.009916033595800,0.015370095148683));
res += mul(Get(s1,-dx,dy), float4x4(-0.082977592945099,-0.084130860865116,0.030307490378618,-0.123389028012753,0.035364210605621,0.068955875933170,0.021220859140158,0.156822636723518,0.063557468354702,-0.058945678174496,-0.075764305889606,-0.026125838980079,-0.039405945688486,-0.041068632155657,0.089170224964619,0.136652335524559));
res += mul(Get(s1,0,-dy), float4x4(0.092766039073467,-0.048898987472057,0.042392957955599,0.102776534855366,0.048943463712931,0.200762376189232,0.016992280259728,0.017860878258944,-0.034208592027426,-0.036867693066597,-0.149687513709068,-0.011957287788391,-0.102472640573978,-0.078697912395000,0.046270918101072,-0.134846836328506));
res += mul(Get(s1,0,0), float4x4(0.005102084483951,-0.031868234276772,0.122663229703903,0.081244990229607,0.055166203528643,0.061842642724514,0.094604901969433,0.154142260551453,-0.075683414936066,0.034171998500824,0.027641518041492,-0.063656225800514,-0.130872666835785,-0.093891799449921,0.038936603814363,0.025739038363099));
res += mul(Get(s1,0,dy), float4x4(0.054997693747282,-0.089397668838501,0.036828447133303,0.015709692612290,0.011174348182976,-0.009468228556216,0.138558760285378,0.021456612274051,0.068496569991112,0.088061928749084,-0.055367097258568,-0.036800917237997,0.085910730063915,-0.068920351564884,-0.001994051039219,0.043310429900885));
res += mul(Get(s1,dx,-dy), float4x4(0.118093818426132,0.029860543087125,0.103348620235920,0.022845426574349,-0.014528681524098,-0.112083114683628,0.009715157561004,0.095336019992828,-0.161275520920753,0.077721804380417,-0.149806678295135,0.007889134809375,-0.071772880852222,-0.069826327264309,0.002198267495260,0.055775333195925));
res += mul(Get(s1,dx,0), float4x4(-0.207255929708481,-0.025875756517053,0.135208263993263,-0.020364891737700,0.035254485905170,-0.000531679834239,0.034521255642176,0.090192385017872,-0.083483219146729,0.028494311496615,-0.038347329944372,-0.107695713639259,-0.198864221572876,-0.002378650242463,0.041860692203045,0.030755821615458));
res += mul(Get(s1,dx,dy), float4x4(0.045463137328625,-0.001609667204320,0.033424340188503,0.037428136914968,0.025657717138529,-0.020584886893630,-0.006806594785303,0.016879836097360,-0.000901531835552,-0.033232092857361,-0.041779078543186,-0.054048676043749,0.226190373301506,-0.044684886932373,0.014037300832570,0.068862557411194));
res += mul(Get(s2,-dx,-dy), float4x4(0.045483261346817,-0.003288669977337,-0.133269086480141,0.074496693909168,0.109974965453148,-0.101836815476418,-0.068385854363441,-0.027883328497410,0.051967643201351,-0.082091651856899,-0.132636114954948,-0.088907286524773,0.009973525069654,0.011839279904962,0.026061804965138,-0.013758981600404));
res += mul(Get(s2,-dx,0), float4x4(0.092584766447544,-0.060883492231369,0.045450214296579,-0.034087304025888,-0.056763473898172,-0.021239770576358,0.003511496353894,0.194064214825630,0.014907941222191,-0.059300504624844,-0.001884696073830,0.011859248392284,-0.060000758618116,0.160878106951714,-0.029289204627275,-0.021681061014533));
res += mul(Get(s2,-dx,dy), float4x4(-0.172681614756584,-0.124996870756149,-0.071983925998211,0.090172156691551,0.050756245851517,-0.119229719042778,-0.116970568895340,0.009526220150292,0.199635103344917,0.031999789178371,0.033456042408943,0.026795592159033,-0.005054586101323,0.162929669022560,-0.045547418296337,-0.054517593234777));
res += mul(Get(s2,0,-dy), float4x4(-0.074293926358223,-0.028931796550751,-0.066717289388180,-0.199319109320641,-0.004371118731797,-0.105225659906864,-0.068326398730278,-0.016471136361361,0.033697668462992,0.026035554707050,0.002475973451510,-0.028330165892839,0.109570614993572,0.050198011100292,0.023623870685697,0.009969796054065));
res += mul(Get(s2,0,0), float4x4(0.061666756868362,-0.040977559983730,0.019057692959905,-0.154585063457489,0.087755665183067,-0.089812047779560,0.062545619904995,0.010872686281800,0.068173646926880,0.072142310440540,0.086118318140507,0.018958181142807,-0.005587398540229,-0.015636077150702,0.148498341441154,-0.043817538768053));
res += mul(Get(s2,0,dy), float4x4(-0.013326834887266,-0.009128724224865,-0.020217934623361,-0.134078949689865,0.003981741145253,-0.108535885810852,-0.080436266958714,-0.018088454380631,0.069795638322830,0.148989215493202,0.006276716012508,0.045746419578791,-0.239788591861725,0.027126803994179,0.090599909424782,-0.068148128688335));
res += mul(Get(s2,dx,-dy), float4x4(-0.048601519316435,0.035090308636427,-0.002967422828078,0.031322102993727,-0.193651184439659,-0.139090269804001,-0.051810242235661,-0.040931597352028,0.024610148742795,0.048406381160021,-0.086514733731747,-0.005098353605717,0.166871845722198,0.008999449200928,0.031542688608170,0.081380471587181));
res += mul(Get(s2,dx,0), float4x4(-0.013469345867634,0.074759870767593,-0.072447814047337,0.262762814760208,-0.017064260318875,0.004608369432390,0.066616564989090,-0.041262768208981,0.061547085642815,0.051080871373415,0.108980417251587,-0.010319846682250,-0.019476082175970,-0.045051570981741,-0.032068662345409,0.050337519496679));
res += mul(Get(s2,dx,dy), float4x4(0.014560701325536,0.035402715206146,-0.030919175595045,0.166452646255493,0.122108094394207,-0.018234536051750,-0.210973247885704,-0.079599753022194,0.028998889029026,0.003635443281382,0.086874894797802,-0.021499462425709,-0.051768705248833,-0.052484791725874,-0.159993320703506,0.072044789791107));
res += mul(Get(s3,-dx,-dy), float4x4(-0.019581662490964,0.150624394416809,-0.051675952970982,0.028384597972035,-0.120184473693371,-0.001270395121537,-0.091733150184155,-0.056712020188570,0.048337835818529,-0.072127722203732,-0.100735388696194,0.061836216598749,-0.083645194768906,0.054096318781376,0.019080057740211,0.038317777216434));
res += mul(Get(s3,-dx,0), float4x4(-0.097869180142879,0.016792844980955,0.067606985569000,-0.089621499180794,-0.018965667113662,0.124469421803951,0.001287128194235,0.030146360397339,0.005342435557395,-0.094376116991043,0.006461595185101,-0.002352276816964,0.145105108618736,0.004485514014959,0.155916020274162,0.064968653023243));
res += mul(Get(s3,-dx,dy), float4x4(0.060978472232819,-0.083635896444321,0.086307391524315,-0.131796345114708,-0.154493853449821,0.130858018994331,-0.111091531813145,-0.035737738013268,-0.027574973180890,0.098256051540375,-0.104409627616405,0.009628833271563,-0.065172597765923,-0.138298019766808,-0.082380346953869,0.021684540435672));
res += mul(Get(s3,0,-dy), float4x4(-0.016434572637081,0.124870024621487,-0.069421656429768,0.063410438597202,-0.080297388136387,-0.119022160768509,-0.159119457006454,-0.046204093843699,0.066913336515427,-0.025520503520966,0.026270264759660,-0.067774087190628,-0.027220625430346,-0.099362887442112,-0.082901082932949,-0.023840464651585));
res += mul(Get(s3,0,0), float4x4(-0.062413662672043,0.035613819956779,-0.109288662672043,0.057001832872629,0.021458122879267,-0.024930236861110,0.032731667160988,0.063940927386284,-0.011011060327291,-0.015419078059494,0.013803447596729,-0.063612654805183,0.169839978218079,-0.099972918629646,0.098510488867760,-0.064268708229065));
res += mul(Get(s3,0,dy), float4x4(0.172393828630447,-0.005090892314911,-0.008115530014038,0.038367234170437,-0.118899807333946,0.124883592128754,0.022199986502528,0.139758393168449,-0.006638092454523,0.039885323494673,-0.055879797786474,-0.019760543480515,-0.092511780560017,-0.038601834326982,0.095686264336109,0.034951433539391));
res += mul(Get(s3,dx,-dy), float4x4(-0.079658597707748,0.097757987678051,-0.115199193358421,-0.032576359808445,-0.067651353776455,0.118677489459515,0.103961460292339,-0.001794615644030,0.021624626591802,-0.074227720499039,-0.119861885905266,0.013833458535373,-0.074123166501522,0.016271624714136,-0.005265630781651,-0.076648682355881));
res += mul(Get(s3,dx,0), float4x4(0.004737698473036,0.024440467357635,0.039507836103439,0.001003199373372,0.032659024000168,-0.006932920310646,0.003224716056138,-0.039342828094959,-0.151833131909370,-0.043948337435722,0.031171660870314,0.015357007272542,0.214558690786362,-0.062257695943117,0.060368396341801,0.016263775527477));
res += mul(Get(s3,dx,dy), float4x4(0.043333664536476,0.155665129423141,0.021433841437101,0.005381032824516,-0.154423475265503,-0.025258753448725,-0.044467020779848,-0.029574712738395,-0.018124256283045,0.021294860169291,-0.006205539684743,0.003507783170789,-0.123930737376213,-0.094914965331554,-0.034997623413801,-0.039258789271116));
return max(float4(0,0,0,0), res);
}
