sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.087538063526154,0.030089801177382,0.086112864315510,-0.010663935914636,-0.071150943636894,-0.020435055717826,0.084014184772968,0.049514077603817,-0.041650593280792,-0.107359796762466,-0.033314872533083,-0.008465696126223,-0.054163593798876,-0.067522205412388,0.101874068379402,-0.089405328035355));
res += mul(Get(s0,-dx,0), float4x4(-0.009766694158316,0.009762031026185,-0.008791306987405,0.130966037511826,0.029884275048971,-0.111524380743504,-0.366837650537491,0.064180769026279,0.034673836082220,0.052189964801073,-0.028704863041639,-0.062809944152832,0.066179946064949,-0.015419875271618,0.011085283942521,-0.116701155900955));
res += mul(Get(s0,-dx,dy), float4x4(-0.010604809038341,0.079698748886585,0.054537139832973,-0.007978882640600,-0.027663517743349,-0.084330640733242,-0.232913881540298,-0.011717690154910,0.013759997673333,-0.132584661245346,0.142565220594406,-0.027750117704272,0.060725178569555,-0.105335772037506,0.009679393842816,0.033615890890360));
res += mul(Get(s0,0,-dy), float4x4(-0.131046473979950,0.099716216325760,-0.003795042168349,-0.028025567531586,0.001850465778261,0.159903556108475,0.075234651565552,0.128414556384087,0.014973586425185,-0.038305450230837,-0.070548363029957,0.016642093658447,-0.096889346837997,0.125842303037643,0.040059108287096,-0.056500110775232));
res += mul(Get(s0,0,0), float4x4(-0.048899136483669,-0.013463182374835,-0.029480004683137,-0.032615855336189,0.143522918224335,0.087770238518715,-0.014642163179815,0.172967925667763,0.109335340559483,0.115592867136002,-0.086086131632328,-0.110691644251347,0.045686405152082,0.175861001014709,0.055875483900309,-0.028579724952579));
res += mul(Get(s0,0,dy), float4x4(-0.027571683749557,0.072261184453964,-0.013348020613194,-0.110805392265320,0.130388304591179,-0.048924922943115,-0.038138780742884,-0.135714560747147,0.099255688488483,-0.139653176069260,0.014262855052948,0.086508177220821,0.128043264150620,-0.072937466204166,-0.030144080519676,0.076601333916187));
res += mul(Get(s0,dx,-dy), float4x4(-0.064528211951256,-0.023842606693506,-0.067678809165955,-0.024759571999311,0.042298167943954,-0.011662962846458,0.012224287725985,-0.029905503615737,-0.112825095653534,-0.021615885198116,0.105972647666931,0.075732916593552,-0.087529294192791,-0.020027067512274,0.006937894038856,0.110352449119091));
res += mul(Get(s0,dx,0), float4x4(-0.031943473964930,-0.113678455352783,-0.014768777415156,0.015011513605714,-0.071260996162891,0.066546000540257,0.156822770833969,-0.152430966496468,-0.058672264218330,-0.007177164778113,0.078727632761002,0.020668854936957,-0.048150908201933,-0.035525456070900,-0.004021256230772,-0.022223416715860));
res += mul(Get(s0,dx,dy), float4x4(-0.050306342542171,0.020091252401471,-0.093794941902161,-0.092770397663116,-0.148223340511322,0.025163264945149,0.018940281122923,0.030323719605803,-0.005558392964303,-0.228827401995659,-0.111744388937950,-0.024681033566594,0.065232671797276,-0.090975314378738,0.038507111370564,-0.041907016187906));
res += mul(Get(s1,-dx,-dy), float4x4(-0.035019155591726,-0.015438715927303,0.049940798431635,-0.099854871630669,-0.091024421155453,-0.025013152509928,-0.036121878772974,-0.002208283403888,-0.027310406789184,-0.017093067988753,0.065544687211514,0.010090338066220,0.066734306514263,-0.151215478777885,-0.082091353833675,0.021819014102221));
res += mul(Get(s1,-dx,0), float4x4(-0.057689093053341,-0.007896563969553,0.078359350562096,0.040254600346088,0.045283503830433,0.184415608644485,0.004729423671961,-0.026913575828075,0.113927185535431,-0.059432756155729,0.012569849379361,0.091970399022102,0.006432583089918,-0.022235916927457,0.006967102177441,-0.020145613700151));
res += mul(Get(s1,-dx,dy), float4x4(-0.106311194598675,-0.083665274083614,0.069732420146465,0.037907183170319,0.013098746538162,0.021509252488613,0.060530949383974,0.093707218766212,0.063535675406456,0.017922576516867,-0.075071081519127,0.002500595990568,-0.041275881230831,-0.041992247104645,0.035551607608795,0.068431772291660));
res += mul(Get(s1,0,-dy), float4x4(-0.024765742942691,-0.057063601911068,0.036470837891102,-0.018981596454978,0.071188479661942,-0.002052602358162,0.036931667476892,-0.010919559746981,-0.067681990563869,0.022050378844142,-0.097344152629375,0.037443425506353,0.013988392427564,0.027750007808208,-0.001856345101260,0.022323133423924));
res += mul(Get(s1,0,0), float4x4(0.020826444029808,-0.031916443258524,-0.026086751371622,-0.054373349994421,0.135234370827675,0.062497928738594,-0.082135066390038,-0.053681124001741,0.033161088824272,0.067526035010815,-0.072364330291748,-0.117118187248707,-0.015262400731444,0.017064539715648,0.095621779561043,-0.046192742884159));
res += mul(Get(s1,0,dy), float4x4(-0.032102245837450,0.025608452036977,-0.042324099689722,0.062912970781326,0.031645528972149,0.155762210488319,-0.040722418576479,-0.051233369857073,-0.051491197198629,-0.020927689969540,-0.110526032745838,0.051868412643671,0.012830784544349,-0.078122943639755,0.147881016135216,0.053066272288561));
res += mul(Get(s1,dx,-dy), float4x4(-0.009523488581181,0.086813166737556,-0.038259774446487,-0.026879027485847,-0.069842383265495,0.159678608179092,-0.027922173961997,0.056836273521185,-0.078496083617210,-0.033177681267262,0.003217173507437,-0.060860432684422,-0.003478105412796,0.077629856765270,-0.048629142343998,0.067359328269958));
res += mul(Get(s1,dx,0), float4x4(0.002932431874797,0.008858035318553,0.013813799247146,-0.024149401113391,-0.012326735071838,0.083540417253971,-0.063199847936630,0.059680406004190,-0.048672940582037,0.082841128110886,0.121506147086620,-0.037659320980310,0.037578426301479,0.060064379125834,-0.025281824171543,0.079511046409607));
res += mul(Get(s1,dx,dy), float4x4(-0.068486623466015,0.044274482876062,0.015414513647556,0.043500464409590,-0.019182026386261,0.059777807444334,-0.117104381322861,0.025322213768959,-0.031099909916520,0.157807081937790,0.122810460627079,-0.108895123004913,0.004938668571413,-0.038438543677330,0.003181737847626,0.090750321745872));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029367463663220,-0.085138753056526,0.001520336256362,-0.063397899270058,-0.046352952718735,0.097170166671276,0.113852344453335,-0.096490561962128,-0.088007070124149,0.088710896670818,-0.095522768795490,0.036750569939613,-0.027129087597132,-0.032063219696283,0.124885842204094,-0.191572710871696));
res += mul(Get(s2,-dx,0), float4x4(-0.076262801885605,-0.128289669752121,-0.099110946059227,-0.039029620587826,-0.042646992951632,0.019079362973571,0.186683565378189,-0.025708124041557,0.121624909341335,-0.094712838530540,0.030616400763392,-0.002049969974905,0.013210935518146,0.061896685510874,-0.127705529332161,0.004295877180994));
res += mul(Get(s2,-dx,dy), float4x4(0.044370904564857,-0.025684170424938,-0.025848934426904,0.135352537035942,0.053894389420748,-0.025060949847102,-0.137645751237869,0.058421861380339,0.059713076800108,-0.003655260195956,0.058851502835751,0.013812295161188,-0.083660937845707,-0.041449949145317,0.120923794806004,-0.012669827789068));
res += mul(Get(s2,0,-dy), float4x4(-0.091055527329445,-0.129287794232368,-0.056591078639030,0.128775537014008,-0.071081876754761,-0.089742496609688,0.115205749869347,0.004222854971886,-0.073587685823441,-0.019733659923077,0.052130758762360,0.037674263119698,-0.013752931728959,0.167152956128120,0.029525924474001,0.167639985680580));
res += mul(Get(s2,0,0), float4x4(-0.070974320173264,-0.065848149359226,-0.084479384124279,0.034213792532682,-0.002781011862680,-0.047386232763529,-0.004650520626456,-0.057689949870110,0.063671916723251,0.079582445323467,-0.020255370065570,-0.104682438075542,0.142368495464325,0.028432045131922,0.049475088715553,0.500722706317902));
res += mul(Get(s2,0,dy), float4x4(0.115433469414711,0.142010375857353,0.012931210920215,0.104716755449772,0.072729319334030,-0.023685198277235,-0.128477141261101,-0.031413577497005,0.020519208163023,0.077574282884598,-0.122492425143719,0.042985104024410,-0.073136247694492,-0.173355832695961,0.036298044025898,-0.239562675356865));
res += mul(Get(s2,dx,-dy), float4x4(0.036881122738123,0.148260042071342,0.035626500844955,-0.084801688790321,-0.018169691786170,-0.014806292951107,0.035142041742802,-0.051567751914263,0.033288292586803,0.030332336202264,-0.011170020326972,0.057181920856237,-0.104769416153431,0.082838162779808,-0.054178234189749,-0.153641223907471));
res += mul(Get(s2,dx,0), float4x4(-0.024776583537459,-0.069399468600750,-0.102962270379066,0.151124089956284,0.058139320462942,-0.056613538414240,0.181827172636986,0.000091804511612,0.101943485438824,-0.059161942452192,-0.064007051289082,0.023685110732913,0.037644449621439,0.166292145848274,0.164029806852341,-0.076729245483875));
res += mul(Get(s2,dx,dy), float4x4(0.084349960088730,-0.010968548245728,-0.030030241236091,0.107625514268875,0.028607361018658,0.065515242516994,-0.031932123005390,-0.062641389667988,-0.022761283442378,-0.072596177458763,-0.153487667441368,0.020926853641868,-0.010954242199659,-0.187784016132355,-0.035166110843420,-0.077531263232231));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001027939375490,-0.028360260650516,-0.041186727583408,0.109314627945423,-0.028613427653909,0.101411767303944,-0.031821940094233,0.014132567681372,-0.076219975948334,0.140696689486504,-0.118710815906525,-0.187623307108879,0.186838075518608,-0.012993006967008,0.004828840494156,-0.076721929013729));
res += mul(Get(s3,-dx,0), float4x4(0.007291727233678,0.134095981717110,-0.042380604892969,-0.059703450649977,-0.103573620319366,0.065769992768764,-0.073150843381882,-0.037382844835520,-0.032990559935570,0.117611236870289,0.121357366442680,0.212635889649391,0.068853028118610,-0.128334924578667,0.027979362756014,0.096539236605167));
res += mul(Get(s3,-dx,dy), float4x4(0.046933766454458,0.064007185399532,-0.051376793533564,-0.027782790362835,-0.054885968565941,-0.053607791662216,-0.092922382056713,-0.027066895738244,-0.054974943399429,-0.038056228309870,0.163636848330498,-0.040317013859749,0.135815575718880,0.140940353274345,-0.060563530772924,0.026295386254787));
res += mul(Get(s3,0,-dy), float4x4(-0.096362829208374,-0.075964167714119,0.141174867749214,0.042398288846016,0.136471599340439,0.106344729661942,-0.043712735176086,0.015157847665250,-0.001545207574964,-0.073636457324028,-0.067783273756504,0.107158534228802,-0.028650527819991,0.128354340791702,0.017146160826087,-0.035922516137362));
res += mul(Get(s3,0,0), float4x4(-0.097462117671967,-0.169399708509445,-0.001642686431296,0.141973629593849,0.058848466724157,0.038398262113333,0.012728364206851,-0.062501296401024,0.082327023148537,0.045946229249239,0.006976184435189,-0.183355584740639,-0.163061708211899,0.009911919943988,0.025195527821779,-0.025331815704703));
res += mul(Get(s3,0,dy), float4x4(0.013064031489193,0.016437903046608,-0.001728451810777,-0.063573777675629,-0.046688862144947,0.040841456502676,0.029614176601171,0.007152701728046,-0.096321985125542,-0.074835546314716,-0.070593692362309,0.033970266580582,0.050881311297417,0.085191376507282,0.132435426115990,-0.031259234994650));
res += mul(Get(s3,dx,-dy), float4x4(-0.152583733201027,0.005786760710180,-0.109940826892853,-0.029859472066164,0.025374691933393,0.172867789864540,-0.144830301403999,0.097381211817265,-0.154516771435738,-0.158019304275513,-0.060924388468266,0.063483990728855,0.058872506022453,-0.068730272352695,-0.065269730985165,0.059694260358810));
res += mul(Get(s3,dx,0), float4x4(-0.004223688971251,-0.128454208374023,0.153288453817368,0.235647380352020,0.279469490051270,-0.032782871276140,-0.094068460166454,0.069567285478115,0.048820748925209,-0.040362592786551,0.019133251160383,-0.090077549219131,-0.052696418017149,0.036166928708553,-0.019990645349026,0.014973912388086));
res += mul(Get(s3,dx,dy), float4x4(0.005681894253939,0.047717783600092,0.147877484560013,-0.182653784751892,0.107578366994858,-0.055035073310137,-0.116355270147324,-0.048567593097687,-0.108328476548195,-0.034638330340385,-0.052068497985601,0.179401874542236,0.065000899136066,0.157080814242363,0.002730203093961,0.020952690392733));
return max(float4(0,0,0,0), res);
}
