sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.096675552427769,-0.117161460220814,-0.156631037592888,0.079439908266068,-0.048593051731586,0.014026477932930,-0.013371999375522,0.073355719447136,-0.069039642810822,-0.033520560711622,-0.070134215056896,-0.021816030144691,-0.076385155320168,0.165807053446770,-0.061888910830021,-0.026498829945922));
res += mul(Get(s0,-dx,0), float4x4(0.012179080396891,-0.017054760828614,-0.102991513907909,0.031006792560220,-0.057821810245514,-0.057564429938793,0.066658876836300,0.057060297578573,0.068320803344250,0.021539242938161,0.048200201243162,0.120021685957909,-0.050355590879917,0.082811690866947,-0.096363104879856,0.085496023297310));
res += mul(Get(s0,-dx,dy), float4x4(0.016101617366076,0.036897383630276,-0.021825304254889,0.087012141942978,0.018464429304004,0.071398697793484,-0.026302462443709,-0.053587913513184,-0.001437038532458,-0.022683836519718,-0.050901707261801,0.039014346897602,-0.013234036974609,-0.013306641019881,-0.029241636395454,0.009816058911383));
res += mul(Get(s0,0,-dy), float4x4(0.078253939747810,-0.017713231965899,-0.046903289854527,0.016929620876908,-0.051978439092636,0.007708512246609,-0.077819198369980,-0.044683091342449,-0.027464736253023,0.013498377986252,0.004582446068525,0.047722365707159,-0.003394971136004,-0.008578124456108,0.018822524696589,0.036516949534416));
res += mul(Get(s0,0,0), float4x4(0.027779513970017,-0.022288314998150,0.094143390655518,0.105165496468544,0.057462204247713,0.054228723049164,0.030420085415244,0.009543898515403,-0.065597474575043,-0.069064415991306,0.076147824525833,0.037435457110405,0.021756174042821,0.031678907573223,-0.048931397497654,0.025345735251904));
res += mul(Get(s0,0,dy), float4x4(-0.052997086197138,-0.063606284558773,-0.047318827360868,0.048427574336529,-0.055611420422792,0.085467368364334,0.044971790164709,-0.159923106431961,-0.063818477094173,-0.076790340244770,0.015412815846503,0.154866665601730,0.087065532803535,-0.085020415484905,0.088173694908619,0.082353010773659));
res += mul(Get(s0,dx,-dy), float4x4(-0.010395209304988,0.011684307828546,-0.054309982806444,-0.040120158344507,-0.140671938657761,-0.012472148053348,0.102908842265606,-0.177441492676735,0.004583975300193,0.011365794576705,0.050862085074186,-0.077915221452713,-0.067429594695568,-0.054469019174576,0.050584312528372,0.002124658087268));
res += mul(Get(s0,dx,0), float4x4(-0.145809635519981,0.039121426641941,0.251251637935638,0.009774930775166,0.019074121490121,-0.108923144638538,0.134786546230316,0.016708513721824,0.015049886889756,0.015025142580271,-0.058697972446680,-0.137175917625427,-0.027868513017893,-0.015200193040073,0.040142126381397,-0.089451149106026));
res += mul(Get(s0,dx,dy), float4x4(-0.147205293178558,-0.112088710069656,-0.055738948285580,-0.010656996630132,-0.061136078089476,-0.056845203042030,-0.004732591565698,0.004073090385646,-0.044469188898802,0.036233492195606,0.030638929456472,-0.048645410686731,0.077242627739906,0.127929046750069,0.088559567928314,-0.047699157148600));
res += mul(Get(s1,-dx,-dy), float4x4(0.064356535673141,0.003917654976249,-0.120421290397644,0.014946771785617,0.118998952209949,-0.032706994563341,-0.021089484915137,0.021733902394772,0.071722827851772,0.101002156734467,0.098217792809010,-0.032982330769300,-0.106636747717857,-0.042957801371813,-0.026408843696117,0.121895946562290));
res += mul(Get(s1,-dx,0), float4x4(0.036722037941217,-0.081680849194527,-0.002287803217769,0.025867763906717,0.203793570399284,-0.095256902277470,0.019889630377293,-0.170379340648651,0.025991644710302,-0.024780645966530,-0.022059818729758,0.071103893220425,-0.095913894474506,0.017305240035057,-0.110628820955753,0.116879962384701));
res += mul(Get(s1,-dx,dy), float4x4(0.149583682417870,0.038339544087648,0.025095952674747,0.186366617679596,-0.047687638550997,0.016757199540734,0.064449883997440,0.026420615613461,0.012932693585753,-0.087132818996906,-0.052035491913557,0.110399067401886,-0.148044794797897,0.043127086013556,-0.063680246472359,-0.058316286653280));
res += mul(Get(s1,0,-dy), float4x4(-0.091509379446507,0.029976563528180,0.076446205377579,0.147822439670563,0.063335292041302,-0.113967016339302,0.024102285504341,-0.044306416064501,-0.017472725361586,0.090269811451435,-0.112201444804668,-0.022464111447334,-0.033094409853220,-0.012709616683424,-0.067161411046982,0.027034126222134));
res += mul(Get(s1,0,0), float4x4(0.120248824357986,0.144472509622574,0.072470583021641,-0.022507278248668,0.164070218801498,-0.038299921900034,0.125996649265289,-0.103111036121845,-0.092859014868736,0.010767964646220,-0.095459349453449,0.118322312831879,0.057684231549501,0.065588198602200,-0.025378199294209,-0.004868079908192));
res += mul(Get(s1,0,dy), float4x4(0.060704674571753,0.015209225937724,-0.109624922275543,0.013049883767962,-0.031606573611498,0.026394242420793,-0.058452859520912,0.028339274227619,-0.250381708145142,-0.062045447528362,-0.080310896039009,-0.012318548746407,-0.024884961545467,-0.058475248515606,0.051176480948925,0.110119275748730));
res += mul(Get(s1,dx,-dy), float4x4(0.035747002810240,-0.116750396788120,-0.082988016307354,0.015123034827411,0.093375869095325,-0.094380609691143,0.109522573649883,-0.096242047846317,0.129506066441536,0.026776000857353,0.078820362687111,-0.056178063154221,-0.051403511315584,0.028963286429644,-0.108266375958920,0.079876154661179));
res += mul(Get(s1,dx,0), float4x4(-0.029979875311255,0.141934767365456,-0.144464075565338,-0.091041862964630,-0.012499603442848,-0.020032253116369,0.063040561974049,0.079669982194901,0.035649016499519,-0.075539894402027,-0.059348519891500,0.020060701295733,0.022934537380934,-0.000949616543949,0.080551050603390,-0.019563725218177));
res += mul(Get(s1,dx,dy), float4x4(-0.078161373734474,0.117795690894127,-0.016726907342672,-0.035584062337875,0.157015532255173,0.030078774318099,0.060506150126457,0.061888653784990,0.019566947594285,-0.048054084181786,-0.093097962439060,-0.143663331866264,0.018635870888829,-0.086735397577286,-0.080163523554802,-0.086104124784470));
res += mul(Get(s2,-dx,-dy), float4x4(-0.080818928778172,0.089443661272526,-0.057562630623579,0.031514760106802,0.003967257682234,0.051911920309067,-0.006500645074993,-0.100521788001060,-0.053063619881868,0.062874257564545,-0.026496877893806,-0.072500906884670,0.006875669118017,0.036984927952290,0.023133706301451,0.000741949537769));
res += mul(Get(s2,-dx,0), float4x4(0.021314190700650,-0.085754424333572,-0.042658433318138,0.026537792757154,0.034831117838621,-0.009141544811428,0.024916483089328,-0.050690386444330,-0.041494470089674,0.095064662396908,0.036878015846014,-0.027057729661465,0.099040739238262,0.189821064472198,0.007986264303327,-0.011966812424362));
res += mul(Get(s2,-dx,dy), float4x4(-0.059113569557667,0.241340816020966,0.051231779158115,-0.001114023267291,-0.068653397262096,-0.000610664952546,0.035457767546177,0.031237546354532,-0.006290793884546,0.010411071591079,0.096173323690891,0.033408131450415,0.036578338593245,0.219570308923721,0.043609414249659,0.029107287526131));
res += mul(Get(s2,0,-dy), float4x4(-0.082674182951450,0.152378737926483,0.104078441858292,-0.058413863182068,-0.001206670305692,-0.040224883705378,0.082905560731888,-0.029607836157084,-0.140116825699806,-0.160490497946739,0.096510581672192,-0.010521332733333,0.001686936244369,0.002415511757135,-0.098163187503815,0.037989530712366));
res += mul(Get(s2,0,0), float4x4(-0.014958951622248,-0.056819155812263,0.139627739787102,0.006936673540622,0.091999515891075,0.083946622908115,-0.046877030283213,0.036474816501141,-0.023906607180834,-0.181261658668518,0.001462919637561,-0.099410571157932,0.033246736973524,-0.027240483090281,-0.043263964354992,-0.023607494309545));
res += mul(Get(s2,0,dy), float4x4(-0.086276561021805,0.030791658908129,0.031997676938772,-0.075998418033123,-0.030092108994722,0.052297830581665,-0.049082506448030,0.053274095058441,-0.064606361091137,-0.043405272066593,-0.025190640240908,-0.046910028904676,0.119864314794540,-0.017171960324049,-0.073605604469776,0.147233292460442));
res += mul(Get(s2,dx,-dy), float4x4(0.030306974425912,0.080648154020309,-0.147384345531464,0.024703660979867,-0.091696821153164,-0.109034426510334,0.145473062992096,-0.019146108999848,0.024482687935233,-0.013854600489140,-0.022994371131063,-0.084693998098373,-0.012348976917565,0.053174402564764,0.034343086183071,-0.017802475020289));
res += mul(Get(s2,dx,0), float4x4(0.115981295704842,-0.002459609182552,-0.101045809686184,-0.029196461662650,-0.017228871583939,-0.132525041699409,0.084456153213978,0.158354476094246,-0.012402813881636,0.004613881465048,0.079031780362129,-0.032922666519880,0.051799554377794,0.004718951415271,-0.004848060198128,0.058853685855865));
res += mul(Get(s2,dx,dy), float4x4(0.020217023789883,0.094704978168011,-0.043671596795321,0.025045128539205,-0.134975537657738,-0.002493116306141,0.071867719292641,0.042573366314173,0.027886567637324,-0.011140458285809,0.005499921273440,-0.038496695458889,-0.005507841706276,0.056231040507555,0.045409616082907,-0.007924277335405));
res += mul(Get(s3,-dx,-dy), float4x4(0.056627992540598,-0.183015704154968,0.026852842420340,0.097114145755768,-0.009965294972062,0.039931315928698,-0.056611556559801,-0.129828318953514,-0.119272433221340,0.120898827910423,0.136471107602119,0.019211363047361,0.057008154690266,-0.075451187789440,0.031541261821985,0.089424774050713));
res += mul(Get(s3,-dx,0), float4x4(-0.010698765516281,-0.090904727578163,0.083628475666046,0.193795114755630,0.149884104728699,0.067524060606956,0.159307017922401,0.011383374221623,0.190725326538086,-0.022755578160286,0.166661024093628,0.116999201476574,0.083172522485256,-0.058849319815636,-0.020248383283615,0.006296319421381));
res += mul(Get(s3,-dx,dy), float4x4(0.073412887752056,-0.016226306557655,0.032985065132380,0.007544283289462,0.072748519480228,0.013966440223157,0.012383341789246,-0.126989334821701,0.113612949848175,0.013635742478073,-0.020070485770702,-0.043687351047993,0.058877673000097,-0.027847385033965,0.024286720901728,0.035637881606817));
res += mul(Get(s3,0,-dy), float4x4(-0.022706482559443,0.029896743595600,-0.020665377378464,0.028006982058287,-0.151511952280998,-0.089882515370846,0.051693361252546,-0.118158496916294,-0.100900053977966,0.095322176814079,0.040111765265465,-0.029749276116490,0.055668957531452,-0.119232028722763,0.048525307327509,0.102641135454178));
res += mul(Get(s3,0,0), float4x4(0.057369027286768,0.059257134795189,0.053649995476007,0.004995513241738,0.042446121573448,-0.005940969102085,0.197969049215317,-0.053004089742899,0.008432921022177,0.157173171639442,0.089566566050053,-0.020404338836670,0.089751109480858,-0.086704254150391,0.093451261520386,0.080489337444305));
res += mul(Get(s3,0,dy), float4x4(0.144921168684959,0.094327978789806,0.112791694700718,0.036572616547346,0.012293416075408,-0.096156343817711,-0.045988798141479,-0.083799175918102,-0.025218296796083,-0.003766669658944,0.009638591669500,-0.124116517603397,-0.055612482130527,-0.056669309735298,0.056108925491571,0.037038661539555));
res += mul(Get(s3,dx,-dy), float4x4(0.065757930278778,-0.026075266301632,-0.177734524011612,-0.004044815432280,-0.062911458313465,-0.040471643209457,-0.022616028785706,-0.019998364150524,-0.023370198905468,0.108388833701611,-0.191857099533081,-0.093346856534481,0.002099565695971,-0.068992473185062,0.101059176027775,-0.065595448017120));
res += mul(Get(s3,dx,0), float4x4(0.062091287225485,0.130242764949799,-0.052506525069475,-0.010405773296952,0.004575796891004,0.018449783325195,0.055600643157959,0.065328657627106,-0.038973286747932,0.009946075268090,-0.089842036366463,-0.066558644175529,-0.024494547396898,-0.076988242566586,0.074564374983311,-0.018870834261179));
res += mul(Get(s3,dx,dy), float4x4(0.102112971246243,-0.097005128860474,-0.006441200152040,0.114545874297619,0.045904856175184,-0.070221506059170,-0.017695764079690,-0.057980503886938,-0.001113340957090,-0.077559627592564,-0.007024828810245,-0.003806452266872,-0.134565174579620,-0.028395386412740,-0.013464353047311,0.066031888127327));
return max(float4(0,0,0,0), res);
}
