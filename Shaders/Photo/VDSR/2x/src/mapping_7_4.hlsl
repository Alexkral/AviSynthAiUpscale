sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.057658031582832,-0.078914694488049,-0.235544145107269,-0.195984616875648,-0.071709558367729,0.153091043233871,0.126175403594971,-0.123195461928844,-0.023375770077109,-0.135219171643257,0.130896091461182,0.101850286126137,0.046661492437124,-0.023418644443154,-0.179023370146751,0.130957216024399));
res += mul(Get(s0,-dx,0), float4x4(0.009901785291731,-0.091218754649162,0.026547549292445,0.094819031655788,0.084697566926479,-0.139447093009949,-0.109099984169006,-0.018341656774282,-0.213246732950211,0.023292010650039,-0.006463242694736,0.073562376201153,0.020240347832441,0.100732177495956,-0.096383117139339,-0.102315850555897));
res += mul(Get(s0,-dx,dy), float4x4(0.076693013310432,-0.004462003707886,-0.051196880638599,-0.209523648023605,-0.019933825358748,-0.116941489279270,-0.055940005928278,0.148720338940620,-0.057394504547119,0.071932576596737,0.077410042285919,0.156001016497612,0.168827801942825,-0.074261963367462,-0.004429390653968,-0.231356814503670));
res += mul(Get(s0,0,-dy), float4x4(-0.003934476990253,-0.084475003182888,-0.087264798581600,-0.058120355010033,0.033600192517042,0.011903602629900,0.144038438796997,-0.095124244689941,0.194503396749496,-0.107728593051434,0.101620994508266,-0.009777165949345,-0.111755222082138,0.066966310143471,0.175717443227768,0.015184878371656));
res += mul(Get(s0,0,0), float4x4(0.034497391432524,0.039959993213415,-0.045038882642984,0.176609098911285,-0.111882686614990,-0.036367107182741,0.048306308686733,-0.019162045791745,-0.106965817511082,0.144072532653809,0.070274129509926,-0.107961565256119,-0.031180322170258,-0.056684631854296,-0.177682906389236,0.028284432366490));
res += mul(Get(s0,0,dy), float4x4(0.146375864744186,0.217703908681870,0.079000562429428,0.129132732748985,-0.015757607296109,-0.057744603604078,0.053594172000885,0.186361119151115,-0.007380654104054,0.072864525020123,-0.016306338831782,0.042834259569645,0.081230007112026,-0.093902565538883,-0.006983316503465,-0.330233991146088));
res += mul(Get(s0,dx,-dy), float4x4(-0.028273042291403,0.136848151683807,-0.083855122327805,-0.161006867885590,-0.067283906042576,-0.201348885893822,0.131187871098518,-0.116822794079781,0.015627121552825,-0.048085831105709,0.044392075389624,0.049899183213711,0.121449209749699,-0.067726619541645,0.012023603543639,-0.012063635513186));
res += mul(Get(s0,dx,0), float4x4(-0.053659427911043,0.163285329937935,0.103493578732014,0.220376938581467,-0.129929065704346,-0.128947257995605,-0.149505421519279,-0.024102665483952,0.054566767066717,0.032456181943417,-0.030228257179260,-0.094006508588791,-0.009697209112346,-0.080205082893372,0.018800478428602,-0.043900530785322));
res += mul(Get(s0,dx,dy), float4x4(0.092723853886127,0.016391297802329,0.039085745811462,0.016393676400185,-0.015833359211683,0.143760457634926,-0.102002389729023,0.156684204936028,-0.107661403715611,-0.089091181755066,0.063047647476196,-0.005699307192117,0.142936497926712,-0.079488761723042,0.072702780365944,-0.067072808742523));
res += mul(Get(s1,-dx,-dy), float4x4(0.072310864925385,0.156656205654144,-0.183902963995934,-0.014469906687737,-0.134631365537643,0.215285450220108,0.107618845999241,0.177768945693970,-0.074615791440010,0.181951761245728,-0.117638483643532,0.009531809017062,0.116805620491505,-0.086685031652451,0.033555418252945,-0.046356748789549));
res += mul(Get(s1,-dx,0), float4x4(0.155346676707268,0.067115619778633,0.063954040408134,0.031788192689419,0.074697092175484,0.110413461923599,-0.020879888907075,-0.040882237255573,-0.007150151301175,0.132893458008766,0.089136093854904,0.139639601111412,-0.005903229583055,-0.018768331035972,0.049606807529926,-0.091346584260464));
res += mul(Get(s1,-dx,dy), float4x4(-0.032320559024811,0.056473214179277,0.086551606655121,-0.055374227464199,-0.114912644028664,-0.022404436022043,-0.052603904157877,-0.000342761253705,0.052658740431070,0.110665798187256,-0.142716154456139,0.026892581954598,-0.012367223389447,0.081403203308582,-0.076114006340504,0.074594452977180));
res += mul(Get(s1,0,-dy), float4x4(-0.058430228382349,-0.026370957493782,0.065806545317173,0.001993810292333,-0.254014194011688,0.033840365707874,0.047191221266985,0.019179796800017,0.115772813558578,0.053616695106030,-0.078879646956921,0.038214206695557,0.180604413151741,0.033885091543198,0.017421744763851,0.065369285643101));
res += mul(Get(s1,0,0), float4x4(0.001802427461371,-0.074710972607136,-0.035137824714184,-0.129811733961105,-0.118732154369354,0.024891806766391,-0.000634078227449,-0.059070523828268,0.217754095792770,0.036456383764744,-0.004733745474368,-0.039007417857647,0.021711733192205,-0.149068370461464,0.121944189071655,0.020139779895544));
res += mul(Get(s1,0,dy), float4x4(0.068366900086403,-0.039706967771053,-0.084320530295372,0.023149104788899,0.128972232341766,0.140039727091789,-0.075757496058941,-0.125254631042480,-0.204419061541557,-0.029765957966447,-0.022207161411643,-0.087289452552795,0.254545003175735,-0.078043013811111,0.042599879205227,0.044381145387888));
res += mul(Get(s1,dx,-dy), float4x4(-0.007230949122459,0.065882503986359,0.093352109193802,-0.201946839690208,0.045052930712700,-0.229268655180931,-0.131200045347214,0.066216103732586,-0.099087677896023,0.050754744559526,-0.047336705029011,0.118415877223015,0.065728127956390,0.049180977046490,-0.186810657382011,-0.130712315440178));
res += mul(Get(s1,dx,0), float4x4(-0.132455796003342,-0.122394837439060,0.037869106978178,0.128448486328125,-0.078600309789181,-0.088652059435844,0.140045747160912,-0.055908799171448,0.121481388807297,0.137280970811844,0.000556261744350,-0.227613463997841,-0.053457021713257,0.057238385081291,-0.054273325949907,-0.029092919081450));
res += mul(Get(s1,dx,dy), float4x4(0.014494839124382,0.142911121249199,-0.014522273093462,-0.071667000651360,-0.038589537143707,-0.007555054500699,0.014106087386608,0.144711866974831,-0.095745250582695,-0.028893774375319,-0.088814325630665,-0.225741103291512,0.048639528453350,-0.168706774711609,-0.074984669685364,0.059123340994120));
res += mul(Get(s2,-dx,-dy), float4x4(-0.026590213179588,-0.242147907614708,0.156086355447769,0.015197380445898,0.075897656381130,-0.125162512063980,0.025396710261703,-0.051115978509188,-0.009383179247379,0.122798807919025,-0.248793855309486,-0.017634475603700,-0.009120130911469,-0.085322022438049,0.069752141833305,0.051737397909164));
res += mul(Get(s2,-dx,0), float4x4(0.084082171320915,0.150097936391830,-0.120218336582184,-0.030352173373103,-0.063665606081486,0.186562493443489,-0.058381527662277,-0.098590172827244,0.141779690980911,-0.004605706781149,-0.037181545048952,-0.106909424066544,0.001041756710038,-0.103561773896217,0.066034615039825,0.064425647258759));
res += mul(Get(s2,-dx,dy), float4x4(-0.042365867644548,0.272855460643768,-0.147846519947052,-0.011349655687809,-0.062685899436474,0.202582463622093,-0.006982164457440,-0.220776498317719,-0.098283588886261,-0.135707780718803,0.064180038869381,-0.135076954960823,0.077469348907471,-0.023345762863755,-0.075508311390877,0.124847829341888));
res += mul(Get(s2,0,-dy), float4x4(-0.180749684572220,-0.004799145273864,-0.107384137809277,0.018014812842011,-0.185817003250122,0.101822614669800,0.103834897279739,0.089511409401894,0.018385276198387,-0.101858831942081,-0.097021475434303,-0.016436334699392,-0.144959256052971,-0.119288988411427,-0.110986761748791,-0.079415030777454));
res += mul(Get(s2,0,0), float4x4(-0.143974483013153,-0.031651828438044,0.230759024620056,0.078088596463203,-0.206834420561790,0.101292632520199,-0.043392736464739,0.154281616210938,0.038221430033445,-0.159442514181137,-0.101525574922562,0.039791703224182,0.070030316710472,0.074199773371220,-0.279812425374985,0.008459207601845));
res += mul(Get(s2,0,dy), float4x4(-0.100581482052803,0.086086288094521,0.073120690882206,-0.018420279026031,-0.056814376264811,0.011836455203593,-0.030797181650996,-0.209285706281662,0.015552029944956,0.046504903584719,-0.154336020350456,0.082037329673767,-0.023812428116798,0.007751184515655,0.130119830369949,-0.089845821261406));
res += mul(Get(s2,dx,-dy), float4x4(-0.238776952028275,0.021468952298164,-0.091358914971352,0.009985271841288,-0.152957737445831,0.177479818463326,-0.010069588199258,0.035718109458685,0.086590752005577,0.155886381864548,-0.174120485782623,0.246228531002998,-0.026691216975451,0.006619386840612,0.026247180998325,0.032737415283918));
res += mul(Get(s2,dx,0), float4x4(-0.146444693207741,-0.034790456295013,0.050737220793962,-0.107578806579113,-0.018149847164750,0.114397779107094,-0.042972996830940,0.027631109580398,-0.038064662367105,-0.010704618878663,0.051887985318899,-0.056865680962801,0.091115131974220,0.102425798773766,-0.201364949345589,0.062249381095171));
res += mul(Get(s2,dx,dy), float4x4(0.098283551633358,-0.038725711405277,0.038841716945171,0.097091823816299,-0.007838541641831,-0.022933438420296,0.066552020609379,0.082035303115845,-0.091124616563320,0.043939426541328,-0.040851876139641,0.108939617872238,-0.001026754733175,-0.084343016147614,-0.015423800796270,0.015730982646346));
res += mul(Get(s3,-dx,-dy), float4x4(-0.119789905846119,0.015867255628109,0.101007759571075,0.002494395244867,0.026666477322578,0.065726973116398,-0.029092300683260,-0.126018151640892,0.018902553245425,0.015741536393762,-0.127322316169739,-0.073677591979504,0.039027161896229,0.085419543087482,-0.136382237076759,-0.032375369220972));
res += mul(Get(s3,-dx,0), float4x4(-0.066219195723534,0.080222025513649,-0.044886805117130,0.060213055461645,-0.003093752311543,-0.011334380134940,0.032310355454683,0.079140849411488,0.067772828042507,0.146504074335098,-0.075719192624092,-0.118754260241985,-0.009028374217451,-0.000212130515138,0.041373196989298,-0.012046602554619));
res += mul(Get(s3,-dx,dy), float4x4(0.035399343818426,-0.012904102914035,0.113671876490116,0.091949701309204,0.022031329572201,-0.089580714702606,-0.173359259963036,0.015878729522228,0.032461639493704,0.029177078977227,-0.015871223062277,0.086461707949638,-0.074419476091862,0.014679129235446,-0.198536232113838,0.067238405346870));
res += mul(Get(s3,0,-dy), float4x4(0.030306031927466,0.208646818995476,-0.066268965601921,0.052402202039957,0.072661675512791,0.098580226302147,0.072560809552670,0.043174736201763,-0.090845689177513,-0.001680266344920,-0.091739133000374,0.111586779356003,0.314250051975250,-0.076006464660168,-0.042430873960257,0.096416361629963));
res += mul(Get(s3,0,0), float4x4(-0.015770189464092,0.011086033657193,0.050587385892868,0.011872727423906,-0.109605096280575,-0.125296995043755,0.118170827627182,-0.089039839804173,0.108275003731251,-0.164122164249420,0.190968975424767,-0.011282253079116,0.048497527837753,-0.006837743334472,-0.041978985071182,0.077810965478420));
res += mul(Get(s3,0,dy), float4x4(0.081313259899616,-0.113177217543125,0.155073270201683,-0.185728713870049,0.002139689167961,-0.081952281296253,-0.070750959217548,-0.126801788806915,-0.167158380150795,0.083660185337067,-0.126367136836052,-0.042327031493187,0.080688148736954,-0.004112832248211,-0.254703164100647,0.093407429754734));
res += mul(Get(s3,dx,-dy), float4x4(0.022711636498570,0.088546618819237,0.250475317239761,-0.071108937263489,-0.156571090221405,-0.009795021265745,0.095786273479462,-0.215395271778107,-0.156019672751427,-0.074698999524117,-0.099762007594109,-0.047876901924610,0.137256935238838,-0.098720826208591,0.140736788511276,-0.025733105838299));
res += mul(Get(s3,dx,0), float4x4(0.021947972476482,-0.100482255220413,-0.022790113463998,-0.044989686459303,0.072784692049026,0.027851136401296,-0.077068410813808,-0.139302954077721,0.003500451566651,-0.000976648530923,0.108852952718735,0.178185284137726,0.192765086889267,-0.000956543139182,0.145455703139305,-0.143383100628853));
res += mul(Get(s3,dx,dy), float4x4(-0.013375941663980,-0.157438620924950,0.118451900780201,-0.005320276133716,-0.058582715690136,0.070927746593952,-0.036860838532448,-0.096721537411213,-0.113373801112175,0.157012015581131,0.113660730421543,-0.086520418524742,0.029728513211012,0.041591200977564,0.029294474050403,-0.057864028960466));
return max(float4(0,0,0,0), res);
}
