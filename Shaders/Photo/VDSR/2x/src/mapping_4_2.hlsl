sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000657144177239,0.110055513679981,0.199763610959053,0.159116625785828,-0.166358917951584,-0.119446672499180,-0.079627677798271,-0.075412154197693,0.012447965331376,0.223689734935760,-0.076924569904804,0.130407035350800,-0.042742650955915,0.166087582707405,-0.000571515760385,-0.088095627725124));
res += mul(Get(s0,-dx,0), float4x4(-0.098922304809093,-0.003726732451469,0.135364398360252,0.268490254878998,-0.146575957536697,0.012023510411382,0.066065460443497,0.044889941811562,0.002889210125431,0.124093368649483,0.035577256232500,0.097193211317062,0.061415012925863,0.177343443036079,0.042227473109961,-0.006904928479344));
res += mul(Get(s0,-dx,dy), float4x4(0.068025067448616,0.063595816493034,-0.187791705131531,0.062905453145504,-0.024183135479689,0.174299821257591,-0.080186173319817,0.088900431990623,0.000785048294347,-0.081456184387207,0.029837064445019,0.101774841547012,0.024389885365963,0.180736422538757,0.020463438704610,0.015777846798301));
res += mul(Get(s0,0,-dy), float4x4(-0.096516974270344,0.003904199227691,0.001105393865146,-0.093076162040234,-0.059189703315496,0.168922901153564,0.033340118825436,-0.088266499340534,0.144990116357803,-0.201460704207420,0.195537254214287,-0.000097644588095,0.116033159196377,0.021416697651148,0.009375416673720,-0.032192371785641));
res += mul(Get(s0,0,0), float4x4(0.142233952879906,0.203280761837959,0.126687213778496,-0.139801055192947,0.075293280184269,-0.116634614765644,-0.132195606827736,0.045597899705172,0.153243601322174,-0.128040879964828,0.123899668455124,0.099685601890087,-0.045377980917692,0.103653416037560,-0.106749534606934,0.071108661592007));
res += mul(Get(s0,0,dy), float4x4(-0.003219527425244,-0.015105973929167,-0.057320993393660,0.088385961949825,-0.074099503457546,0.190862238407135,-0.159858033061028,-0.043139677494764,-0.066497266292572,0.036932259798050,-0.091784819960594,-0.038705367594957,0.103396579623222,0.016648065298796,0.002032535616308,0.140707507729530));
res += mul(Get(s0,dx,-dy), float4x4(-0.096390254795551,0.071035593748093,-0.020302345976233,-0.068388476967812,-0.069233909249306,0.048337358981371,0.052886754274368,0.016148470342159,0.078055076301098,0.051615651696920,0.066299185156822,-0.058823172003031,-0.108086682856083,-0.060977224260569,0.155331626534462,0.041468288749456));
res += mul(Get(s0,dx,0), float4x4(0.040628276765347,0.125143408775330,0.006380657665431,-0.240521177649498,-0.041498567909002,0.095673710107803,-0.123118542134762,0.024188963696361,-0.079750783741474,-0.196779951453209,0.084963358938694,0.111872345209122,-0.230602622032166,0.066830925643444,-0.046553026884794,0.128815487027168));
res += mul(Get(s0,dx,dy), float4x4(0.003297233488411,0.025773378089070,-0.164412990212440,-0.033449631184340,-0.266572356224060,0.028182646259665,0.002550613600761,0.044833201915026,0.188071966171265,0.111368335783482,-0.004531757906079,0.104453943669796,0.017296189442277,0.306623816490173,-0.128300115466118,-0.108788877725601));
res += mul(Get(s1,-dx,-dy), float4x4(-0.074030004441738,-0.083014585077763,-0.037701383233070,-0.243967533111572,0.025779433548450,-0.018664238974452,-0.151167258620262,-0.040089119225740,-0.012589136138558,-0.222361966967583,-0.039570555090904,-0.013483492657542,-0.138549372553825,-0.009097887203097,0.004809868056327,0.108984127640724));
res += mul(Get(s1,-dx,0), float4x4(-0.049045991152525,0.004324978217483,0.074963986873627,-0.082805901765823,-0.008720790036023,-0.180335506796837,0.171444073319435,-0.078308761119843,0.021939238533378,0.230682104825974,-0.059410937130451,0.257737308740616,0.073034368455410,-0.142382353544235,0.227663591504097,0.085583873093128));
res += mul(Get(s1,-dx,dy), float4x4(0.099422976374626,0.190461009740829,0.056993842124939,-0.115853331983089,-0.072977490723133,-0.176875352859497,-0.081340491771698,-0.185859635472298,0.001692773425020,0.247530683875084,0.001931696664542,-0.049720194190741,0.062105070799589,0.215513497591019,0.017564242705703,0.029030755162239));
res += mul(Get(s1,0,-dy), float4x4(0.087850645184517,0.030220855027437,-0.181168898940086,0.017315108329058,-0.124981179833412,0.124139845371246,-0.018940366804600,0.017111126333475,0.161792129278183,-0.034032955765724,0.120411351323128,-0.158331647515297,0.025823229923844,-0.053129032254219,0.078796938061714,-0.077276997268200));
res += mul(Get(s1,0,0), float4x4(-0.135644629597664,-0.119136676192284,0.101582422852516,0.046371012926102,0.096783220767975,0.294217944145203,-0.005572683643550,0.139614805579185,-0.146197259426117,0.120636165142059,-0.038817796856165,-0.002053051022813,0.090087980031967,-0.011764778755605,-0.209581837058067,-0.016456665471196));
res += mul(Get(s1,0,dy), float4x4(-0.015173055231571,-0.060288872569799,-0.080465450882912,-0.048432286828756,0.075088545680046,0.014038408175111,-0.160461708903313,-0.166603669524193,-0.098891265690327,0.173198625445366,0.044763214886189,0.013130130246282,-0.186669662594795,-0.093390583992004,-0.057135812938213,0.060962267220020));
res += mul(Get(s1,dx,-dy), float4x4(0.263421565294266,-0.079082958400249,-0.117192104458809,-0.135246604681015,-0.018769141286612,-0.036312270909548,-0.132694706320763,0.165752679109573,-0.069550983607769,-0.043829690665007,0.024708675220609,0.026432167738676,-0.002844955073670,0.140454202890396,0.150242671370506,-0.100296288728714));
res += mul(Get(s1,dx,0), float4x4(0.018650341778994,-0.040929328650236,-0.034030366688967,0.080785080790520,-0.061551373451948,0.001282244455069,-0.116276696324348,0.096435666084290,0.150438413023949,-0.090008750557899,0.001024496625178,0.090959563851357,-0.064217865467072,0.013055778108537,0.195792019367218,0.001633056555875));
res += mul(Get(s1,dx,dy), float4x4(-0.011098259128630,-0.087805010378361,-0.025394795462489,-0.069015607237816,0.024042014032602,0.073961228132248,0.043760910630226,0.009993608109653,-0.029845878481865,-0.084784418344498,-0.106869906187057,0.050339717417955,0.066113084554672,0.143112123012543,-0.136114031076431,0.053177285939455));
res += mul(Get(s2,-dx,-dy), float4x4(-0.038016300648451,0.092780150473118,-0.049421995878220,0.031261097639799,0.020063182339072,-0.061833847314119,-0.263745456933975,0.054685138165951,-0.078809045255184,0.343908190727234,-0.109646238386631,-0.079701431095600,-0.082756720483303,-0.252786844968796,0.170959845185280,0.102760531008244));
res += mul(Get(s2,-dx,0), float4x4(-0.089238755404949,-0.074875757098198,0.059079613536596,-0.127672716975212,-0.058818273246288,-0.069586776196957,0.113082297146320,0.098270066082478,0.132868587970734,0.086573205888271,-0.053165629506111,-0.074855543673038,-0.100504063069820,0.107963338494301,0.016499742865562,0.000861734617501));
res += mul(Get(s2,-dx,dy), float4x4(0.007248133420944,-0.031710948795080,-0.135490253567696,0.098176524043083,0.279312938451767,0.203751131892204,0.125856950879097,-0.041326660662889,0.115626089274883,-0.074501521885395,-0.182366639375687,0.283889472484589,0.112640514969826,0.037215102463961,-0.118363566696644,-0.109951093792915));
res += mul(Get(s2,0,-dy), float4x4(-0.205728143453598,-0.026073114946485,0.149862289428711,-0.073071122169495,-0.003136250190437,-0.098296709358692,-0.111666589975357,-0.029929935932159,-0.086605489253998,-0.065465345978737,-0.050403855741024,-0.259512513875961,0.259324580430984,0.044219609349966,-0.128006875514984,-0.039382543414831));
res += mul(Get(s2,0,0), float4x4(-0.215653494000435,0.022513192147017,0.093394778668880,-0.008852526545525,0.122562296688557,-0.136846348643303,-0.029388517141342,-0.068172089755535,-0.136395096778870,0.027013333514333,0.150973796844482,-0.114179894328117,0.096507020294666,-0.100474916398525,0.002954764990136,0.065783187747002));
res += mul(Get(s2,0,dy), float4x4(0.058218050748110,0.150138348340988,-0.035093910992146,-0.057398669421673,0.037009336054325,-0.111017890274525,0.094292268157005,-0.064367674291134,0.188128501176834,0.004662259016186,0.154672920703888,0.092052288353443,-0.051464106887579,-0.068054564297199,0.074555590748787,-0.186848759651184));
res += mul(Get(s2,dx,-dy), float4x4(-0.012626637704670,0.040966767817736,-0.005869102198631,0.031680509448051,-0.163830280303955,-0.106405518949032,0.054310355335474,-0.077487237751484,-0.135647848248482,-0.355890244245529,0.046563327312469,-0.200078368186951,0.062520965933800,0.196863904595375,0.033465992659330,-0.090455979108810));
res += mul(Get(s2,dx,0), float4x4(0.026833396404982,0.019603338092566,0.007314158603549,-0.044061202555895,0.143550217151642,-0.227237626910210,0.080659948289394,-0.110707528889179,-0.111381419003010,-0.035991985350847,0.240780353546143,-0.091306425631046,-0.047751303762197,0.054392479360104,0.023962507024407,-0.035933565348387));
res += mul(Get(s2,dx,dy), float4x4(-0.118501543998718,0.063545636832714,0.136941641569138,-0.077811464667320,0.131095841526985,-0.098234720528126,-0.066375620663166,0.178102985024452,-0.089571654796600,0.029591185972095,0.033927436918020,-0.011998381465673,0.123511061072350,0.046115465462208,0.024586832150817,0.068566404283047));
res += mul(Get(s3,-dx,-dy), float4x4(-0.041016221046448,0.046727962791920,0.054111845791340,0.157420635223389,0.069912277162075,-0.205132320523262,0.194902583956718,0.128506392240524,-0.058327008038759,-0.092525027692318,0.280707091093063,-0.265398055315018,0.018263395875692,0.146602511405945,-0.085810974240303,0.033657744526863));
res += mul(Get(s3,-dx,0), float4x4(-0.275445342063904,0.093323893845081,0.060837071388960,0.057184845209122,-0.080269850790501,-0.151542186737061,0.240579009056091,0.014722071588039,0.007385634351522,0.002213844563812,0.022257143631577,0.124217063188553,-0.072137363255024,0.142927616834641,0.014401027932763,-0.064356245100498));
res += mul(Get(s3,-dx,dy), float4x4(0.031733237206936,0.210112944245338,0.000987286330201,0.182063817977905,0.018318731337786,-0.176881417632103,-0.021002180874348,-0.077219672501087,0.056802187114954,-0.030494812875986,0.061723899096251,0.248810797929764,0.039447493851185,-0.019376907497644,-0.127186655998230,0.118228778243065));
res += mul(Get(s3,0,-dy), float4x4(0.013779832050204,-0.007440811023116,0.084848411381245,-0.041870314627886,-0.066553436219692,0.116533122956753,0.146928638219833,0.103633075952530,0.116352133452892,-0.049269102513790,-0.055862993001938,0.032297696918249,-0.061817038804293,-0.135533943772316,-0.094045802950859,-0.025651410222054));
res += mul(Get(s3,0,0), float4x4(0.278946727514267,-0.049688078463078,0.020094912499189,-0.009991514496505,-0.132907390594482,-0.171791285276413,-0.062763668596745,-0.006518504582345,-0.097948387265205,0.048927273601294,0.094848856329918,0.138171777129173,-0.053078129887581,-0.020376207306981,0.010373022407293,0.069722078740597));
res += mul(Get(s3,0,dy), float4x4(-0.108399458229542,0.003289051353931,0.006193486507982,-0.167401194572449,0.100632555782795,0.033722165971994,0.050929393619299,-0.058192420750856,-0.218663588166237,0.092795051634312,-0.059591956436634,0.119069896638393,0.017872286960483,0.109112441539764,0.096729911863804,0.166653245687485));
res += mul(Get(s3,dx,-dy), float4x4(-0.149236172437668,-0.151692301034927,0.052544496953487,-0.112210586667061,0.005653409752995,0.003005667123944,0.020494394004345,-0.048869598656893,-0.043272741138935,0.108291901648045,-0.035512562841177,-0.153056994080544,0.034280758351088,-0.226344764232635,-0.144640177488327,-0.085161410272121));
res += mul(Get(s3,dx,0), float4x4(0.059277258813381,-0.147883161902428,0.046863313764334,-0.045237276703119,0.144085049629211,-0.162705406546593,0.050110515207052,0.051533579826355,-0.061184477061033,-0.027942921966314,-0.012812498956919,0.098135024309158,-0.212278872728348,-0.011575141921639,-0.082303784787655,-0.146918460726738));
res += mul(Get(s3,dx,dy), float4x4(0.102340266108513,-0.012023016810417,0.044506512582302,0.115749217569828,-0.100328713655472,-0.079331904649734,-0.040752649307251,-0.064698986709118,-0.002674923744053,-0.017613656818867,-0.226646363735199,-0.083106428384781,0.116388373076916,-0.048531047999859,-0.020513931289315,0.032439682632685));
return max(float4(0,0,0,0), res);
}
