sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.023811092600226,-0.051083620637655,0.001429968047887,-0.030593406409025,0.017980322241783,0.134473174810410,0.020178604871035,0.017560256645083,0.051740318536758,0.039623901247978,-0.138406291604042,0.073840104043484,0.113338835537434,0.086221672594547,0.009396746754646,-0.111593134701252));
res += mul(Get(s0,-dx,0), float4x4(-0.044821258634329,-0.026402436196804,0.023669343441725,-0.010628418996930,-0.074936710298061,-0.076630711555481,-0.078778460621834,0.044617544859648,-0.216000974178314,0.002262706635520,-0.023407660424709,0.023877428844571,0.032374698668718,0.033458191901445,-0.149326011538506,-0.120758309960365));
res += mul(Get(s0,-dx,dy), float4x4(0.008046456612647,0.169991090893745,-0.004565844777972,-0.007954301312566,-0.090266473591328,0.055949438363314,-0.017773998901248,0.023438047617674,-0.072525300085545,0.092892676591873,0.149331465363503,-0.069788604974747,0.045365538448095,-0.191955834627151,0.065742269158363,-0.029455056414008));
res += mul(Get(s0,0,-dy), float4x4(-0.031293224543333,-0.069433778524399,-0.077277660369873,0.091906696557999,0.037915106862783,0.099663622677326,0.092636629939079,0.016393449157476,0.064925990998745,-0.161932796239853,0.079825408756733,0.131715238094330,-0.158571481704712,0.288113325834274,-0.004960411228240,0.097365707159042));
res += mul(Get(s0,0,0), float4x4(0.002394533716142,-0.027301797643304,-0.018572850152850,0.141022920608521,-0.048921890556812,-0.069048464298248,0.132907345890999,0.028264435008168,-0.042908601462841,-0.201391413807869,0.109258346259594,-0.050298620015383,0.142564669251442,0.045728087425232,0.047515653073788,0.181986093521118));
res += mul(Get(s0,0,dy), float4x4(0.139088988304138,0.221991240978241,0.014238744974136,0.070109710097313,-0.013610601425171,0.052874818444252,0.117950424551964,0.002709609922022,0.009754067286849,0.005356878042221,0.018003145232797,0.013359199278057,0.059990834444761,-0.058312159031630,-0.114715144038200,-0.062185771763325));
res += mul(Get(s0,dx,-dy), float4x4(-0.044849496334791,-0.056793197989464,0.028150161728263,-0.105796612799168,0.082994341850281,0.001398917636834,0.113795340061188,-0.020532142370939,-0.069210723042488,-0.006176908034831,0.059248488396406,0.122943855822086,0.001273434143513,0.010878391563892,0.060995981097221,-0.055828854441643));
res += mul(Get(s0,dx,0), float4x4(-0.070117324590683,-0.063294857740402,0.093728095293045,-0.053597189486027,-0.088037952780724,0.013751139864326,-0.092738196253777,0.031750440597534,-0.069167882204056,-0.138168036937714,0.022340796887875,-0.153672844171524,0.151389196515083,0.022291230037808,0.067659668624401,-0.100317589938641));
res += mul(Get(s0,dx,dy), float4x4(0.015864133834839,0.052141692489386,0.015691639855504,-0.048908591270447,-0.043220210820436,0.051117047667503,-0.044818960130215,0.004042025189847,-0.086836218833923,-0.003234328236431,0.079456530511379,-0.119683250784874,-0.074828453361988,-0.005687955301255,-0.012146406807005,-0.017737437039614));
res += mul(Get(s1,-dx,-dy), float4x4(-0.004308027680963,-0.050530668348074,0.001145136426203,-0.014801443554461,-0.106041163206100,-0.016993334516883,0.038211528211832,0.051036983728409,0.107918135821819,-0.026112895458937,0.002532687503844,-0.001677717780694,-0.058245092630386,-0.007143961265683,0.049935862421989,0.118345133960247));
res += mul(Get(s1,-dx,0), float4x4(-0.056356858462095,-0.019709305837750,-0.099672056734562,-0.077892839908600,-0.055913124233484,0.020603099837899,0.021332884207368,0.016741318628192,-0.021403657272458,0.156175181269646,0.012941988185048,-0.054390706121922,-0.074390359222889,-0.006266976241022,-0.032961126416922,-0.024709947407246));
res += mul(Get(s1,-dx,dy), float4x4(-0.099381230771542,0.043140329420567,-0.019904896616936,-0.172960713505745,0.022076951339841,0.048218037933111,0.098319426178932,-0.013215946033597,0.006795442197472,-0.040498543530703,-0.031872186809778,-0.016805205494165,-0.137166842818260,-0.093148991465569,0.009542486630380,-0.125008195638657));
res += mul(Get(s1,0,-dy), float4x4(-0.061458606272936,0.017317842692137,-0.063900277018547,0.040122598409653,-0.053351476788521,-0.030984798446298,-0.019546611234546,0.048165671527386,-0.070921286940575,-0.052944961935282,-0.100120343267918,-0.034570265561342,0.171674191951752,0.040714520961046,-0.064066618680954,-0.055696766823530));
res += mul(Get(s1,0,0), float4x4(-0.003777489531785,0.040566314011812,-0.058508802205324,0.197033405303955,0.047434650361538,-0.044453348964453,0.033621717244387,0.034171696752310,-0.139778539538383,0.311612695455551,-0.023737270385027,-0.061295554041862,-0.115193843841553,-0.130315378308296,-0.060853082686663,-0.050903517752886));
res += mul(Get(s1,0,dy), float4x4(-0.074401274323463,0.055707562714815,-0.078351683914661,0.040428586304188,0.121329359710217,0.080827303230762,0.017619652673602,-0.059716075658798,-0.026917187497020,-0.168013840913773,-0.036954928189516,0.045058365911245,-0.108519352972507,-0.039377063512802,0.080401711165905,0.127616718411446));
res += mul(Get(s1,dx,-dy), float4x4(-0.025301678106189,0.027164645493031,-0.032227817922831,-0.020402204245329,0.004839704371989,-0.069845221936703,-0.025913313031197,0.003760598832741,0.056825224310160,-0.157787188887596,-0.056963294744492,0.041495647281408,0.084174066781998,0.067901581525803,-0.035183094441891,0.078893974423409));
res += mul(Get(s1,dx,0), float4x4(0.057423595339060,0.022413037717342,0.206805855035782,0.078956887125969,-0.016083454713225,0.010020336136222,0.014199003577232,0.028096644207835,-0.014244926162064,-0.087165735661983,0.044605378061533,0.088328309357166,-0.014884719625115,-0.070170655846596,0.024974755942822,0.024286678060889));
res += mul(Get(s1,dx,dy), float4x4(-0.057743873447180,-0.001257291645743,0.056870941072702,-0.050925642251968,0.085043221712112,0.062225993722677,0.009333242662251,0.033308889716864,-0.032216317951679,-0.103265158832073,-0.007170516531914,-0.030483512207866,-0.072929404675961,-0.053922444581985,0.074856832623482,0.245436966419220));
res += mul(Get(s2,-dx,-dy), float4x4(0.053083177655935,0.012560552917421,-0.010247017256916,-0.058196093887091,-0.159351289272308,0.002121555386111,0.023135444149375,0.088032521307468,0.052427958697081,-0.055185150355101,0.162355735898018,-0.108477555215359,0.032490205019712,0.131198808550835,0.086270824074745,-0.035402029752731));
res += mul(Get(s2,-dx,0), float4x4(-0.100798800587654,-0.051712494343519,0.056450776755810,0.099651023745537,-0.139569655060768,-0.072078928351402,-0.021820656955242,-0.084116712212563,0.070728488266468,0.024673178792000,0.043006934225559,0.017074735835195,0.015252786688507,0.061147242784500,-0.031470842659473,-0.052440203726292));
res += mul(Get(s2,-dx,dy), float4x4(0.043917749077082,-0.049834515899420,0.020798454061151,0.012139054015279,-0.053081408143044,0.016884550452232,-0.072550542652607,0.018293021246791,-0.227018892765045,0.038298822939396,-0.063493780791759,-0.080213420093060,-0.033157404512167,0.041845250874758,-0.023594586178660,0.008894328027964));
res += mul(Get(s2,0,-dy), float4x4(0.116017192602158,0.037480410188437,0.030164182186127,0.082479514181614,0.172993689775467,-0.022327790036798,-0.007499787490815,0.030871428549290,0.045811921358109,-0.153651922941208,-0.157875224947929,-0.149040028452873,0.031085692346096,0.003465048503131,0.024188740178943,-0.029369512572885));
res += mul(Get(s2,0,0), float4x4(-0.037949163466692,-0.033994730561972,-0.058974180370569,0.038872703909874,-0.165735155344009,0.094922304153442,0.048191763460636,-0.181130006909370,-0.127914339303970,0.008939683437347,-0.100289545953274,-0.066118702292442,0.072080574929714,0.013158746063709,0.048494677990675,0.052618987858295));
res += mul(Get(s2,0,dy), float4x4(0.039691112935543,-0.012703009881079,0.003715272294357,0.068487733602524,-0.015176697634161,0.148949980735779,0.117329366505146,0.001751360483468,-0.098301410675049,-0.008825704455376,0.043881405144930,0.043042421340942,-0.002498949877918,0.039234731346369,-0.004372638650239,0.056988757103682));
res += mul(Get(s2,dx,-dy), float4x4(0.028071982786059,0.013466512784362,0.062344621866941,-0.037819959223270,0.286922067403793,-0.081506505608559,-0.033015899360180,0.007549031171948,0.031309511512518,0.008029118180275,0.118308089673519,-0.057444818317890,-0.007212751079351,-0.032091520726681,-0.007992613129318,-0.028226519003510));
res += mul(Get(s2,dx,0), float4x4(0.013660775497556,-0.154916942119598,0.038263030350208,-0.090321481227875,0.069384433329105,0.013360503129661,-0.048214748501778,-0.012575682252645,0.013715676963329,-0.005036681890488,-0.060818951576948,0.130060926079750,-0.061086717993021,-0.055725384503603,-0.033227074891329,0.009784371592104));
res += mul(Get(s2,dx,dy), float4x4(0.003717326093465,-0.100904203951359,0.011448080651462,0.007328561041504,-0.007050951942801,-0.049910880625248,-0.001555964467116,0.075183726847172,0.017895162105560,0.085539571940899,0.031845621764660,0.075934246182442,-0.034582626074553,0.094710394740105,0.041766840964556,0.002194509608671));
res += mul(Get(s3,-dx,-dy), float4x4(0.026945596560836,-0.064989134669304,-0.061314184218645,0.032875575125217,0.069791592657566,-0.051442772150040,0.024735439568758,0.006155755370855,-0.100588396191597,-0.070127904415131,0.101003311574459,-0.049189567565918,0.049186423420906,0.166038572788239,-0.020492877811193,-0.031783938407898));
res += mul(Get(s3,-dx,0), float4x4(-0.147696152329445,0.031095545738935,-0.013731548562646,0.150566667318344,0.033802669495344,-0.116461478173733,-0.117569990456104,0.030662678182125,0.031190874055028,0.013266996480525,0.068915665149689,0.107449151575565,0.083312422037125,0.076854601502419,-0.163832515478134,0.008420092985034));
res += mul(Get(s3,-dx,dy), float4x4(-0.137725129723549,0.049301385879517,-0.071514837443829,-0.026317300274968,0.053341213613749,-0.146997720003128,0.041208740323782,-0.030399059876800,-0.116803035140038,0.031737215816975,0.057029634714127,0.008411909453571,-0.050500601530075,0.123768694698811,-0.108227193355560,-0.013283122330904));
res += mul(Get(s3,0,-dy), float4x4(0.063752844929695,-0.060913968831301,-0.013806845061481,0.046986445784569,-0.139734208583832,0.045238919556141,0.013300835154951,-0.092752367258072,0.064159072935581,-0.111159652471542,0.028611321002245,0.117332682013512,-0.055366169661283,-0.054888345301151,0.012397321872413,-0.047514460980892));
res += mul(Get(s3,0,0), float4x4(0.152751028537750,-0.123385451734066,0.190377101302147,0.013062659651041,-0.055187311023474,0.008596827276051,-0.118588201701641,-0.119933336973190,0.095950186252594,0.034988690167665,-0.184013128280640,-0.071101389825344,0.134022444486618,-0.000223543829634,0.087809145450592,0.210974186658859));
res += mul(Get(s3,0,dy), float4x4(0.137755826115608,-0.048839926719666,0.024543171748519,-0.179259642958641,0.030178328976035,-0.026412563398480,-0.003126800758764,-0.100402235984802,-0.025907894596457,0.012501389719546,-0.011284304782748,0.097713604569435,-0.067240342497826,0.120856538414955,0.063722908496857,0.010784886777401));
res += mul(Get(s3,dx,-dy), float4x4(0.100151151418686,-0.004619066603482,-0.022708280012012,-0.037879295647144,-0.048755943775177,-0.095636613667011,-0.002250627381727,-0.135180383920670,0.165985181927681,-0.096139393746853,0.029353788122535,-0.013281753286719,-0.052668523043394,-0.010640027001500,-0.038922809064388,0.041443780064583));
res += mul(Get(s3,dx,0), float4x4(-0.023174474015832,-0.064798206090927,0.055667992681265,-0.048781558871269,-0.009885117411613,0.040527693927288,-0.032833315432072,-0.125252425670624,0.009906806051731,0.164902940392494,-0.069302767515182,0.014774396084249,0.003228622721508,0.032798349857330,0.013443005271256,-0.002302887849510));
res += mul(Get(s3,dx,dy), float4x4(-0.025348937138915,-0.043541584163904,-0.016453318297863,-0.090708963572979,0.054860267788172,0.077217787504196,-0.010924451984465,-0.044011715799570,0.010962476022542,0.073283337056637,0.041849251836538,0.076466403901577,-0.061366192996502,0.056516360491514,0.024769851937890,-0.010843544267118));
return max(float4(0,0,0,0), res);
}
