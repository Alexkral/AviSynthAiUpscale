sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.036406289786100,0.002568727824837,-0.275658816099167,0.212881237268448) * Get(-dx,-dy);
res += float4(0.058595642447472,-0.014388454146683,-0.481420755386353,-0.602989435195923) * Get(-dx,0);
res += float4(-0.167666599154472,-0.017171151936054,-0.402449786663055,0.065391808748245) * Get(-dx,dy);
res += float4(0.087566547095776,-0.012799454852939,0.024582752957940,-0.279773741960526) * Get(0,-dy);
res += float4(0.088391661643982,0.002393501577899,-0.023351725190878,1.275691509246826) * Get(0,0);
res += float4(-0.205544263124466,-0.000437150534708,0.040569379925728,0.909813642501831) * Get(0,dy);
res += float4(0.030182093381882,-0.010354375466704,0.093266203999519,0.050715286284685) * Get(dx,-dy);
res += float4(0.021256474778056,0.011829456314445,0.308129966259003,-0.239079982042313) * Get(dx,0);
res += float4(-0.185404419898987,0.013777088373899,0.242095425724983,-0.348028123378754) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
