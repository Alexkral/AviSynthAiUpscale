sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.071830429136753,-0.075158424675465,0.075606748461723,-0.004346929024905,0.154906749725342,-0.070371285080910,0.132707595825195,0.117779195308685,-0.000691947934683,0.023702593520284,0.118277616798878,-0.100434966385365,-0.265872091054916,-0.172981008887291,-0.046030744910240,-0.081104449927807));
res += mul(Get(s0,-dx,0), float4x4(-0.044281296432018,0.150131598114967,-0.128459230065346,0.052416931837797,-0.114941753447056,-0.005979523062706,0.144439890980721,-0.111828975379467,0.125447154045105,0.089701928198338,0.039373025298119,-0.045647013932467,-0.126847684383392,0.121130108833313,-0.065711148083210,-0.142932042479515));
res += mul(Get(s0,-dx,dy), float4x4(-0.191919818520546,-0.071548245847225,-0.078880704939365,0.001062489114702,-0.264294147491455,0.014164462685585,-0.071514293551445,-0.061375360935926,0.106770277023315,0.028998846188188,-0.000622479361482,-0.108318597078323,-0.043126225471497,0.144978791475296,-0.041419919580221,0.068542741239071));
res += mul(Get(s0,0,-dy), float4x4(0.090791828930378,0.016884472221136,0.025077736005187,0.102911137044430,-0.021129816770554,0.011949190869927,-0.088363789021969,0.108949929475784,-0.305723249912262,0.022262373939157,-0.105329051613808,-0.029558494687080,-0.007283896673471,-0.005488778930157,-0.139217793941498,0.108852297067642));
res += mul(Get(s0,0,0), float4x4(-0.163110524415970,0.008538654074073,-0.009722964838147,0.095264121890068,0.002051311545074,0.008391426876187,0.140085592865944,-0.050501413643360,0.002333939773962,0.073638521134853,-0.070085227489471,0.037552252411842,-0.067691937088966,-0.104817144572735,-0.016240455210209,0.038395527750254));
res += mul(Get(s0,0,dy), float4x4(-0.117342621088028,0.199561536312103,-0.142187044024467,-0.062406644225121,-0.218465715646744,0.000990772270598,0.010148909874260,-0.234621658921242,0.004922640044242,-0.166105270385742,0.090700127184391,0.033894713968039,-0.098314583301544,0.045541990548372,0.049991905689240,0.179586023092270));
res += mul(Get(s0,dx,-dy), float4x4(0.010762343183160,0.033975690603256,-0.125012278556824,0.066069640219212,0.152013972401619,-0.025456190109253,-0.044482212513685,0.218200877308846,0.082945719361305,0.046510420739651,0.116008833050728,-0.002589527983218,0.024330040439963,0.042833667248487,0.059476185590029,0.079696454107761));
res += mul(Get(s0,dx,0), float4x4(-0.065797612071037,0.193486660718918,0.014803815633059,-0.076154805719852,0.299067139625549,0.219911471009254,-0.127413332462311,-0.023404538631439,0.074781067669392,-0.093178331851959,0.020873755216599,-0.221468672156334,0.141128793358803,-0.007420094683766,0.093550562858582,-0.125467970967293));
res += mul(Get(s0,dx,dy), float4x4(-0.027699947357178,0.194270908832550,0.213503435254097,0.183439016342163,0.070087976753712,-0.191660955548286,-0.038890447467566,-0.068935699760914,-0.003175505669788,0.021545045077801,-0.016293445602059,0.037488203495741,-0.014903077855706,-0.015040949918330,0.079073257744312,0.235694423317909));
res += mul(Get(s1,-dx,-dy), float4x4(0.013412498869002,0.202174484729767,0.168505325913429,0.074156999588013,-0.008807828649879,-0.031937424093485,0.182440564036369,0.139843747019768,-0.066922336816788,0.030236005783081,-0.000344524742104,0.091020919382572,0.028434935957193,-0.044684346765280,-0.060666102916002,0.016441592946649));
res += mul(Get(s1,-dx,0), float4x4(-0.029260791838169,-0.155040949583054,0.107937648892403,-0.025763224810362,0.212308958172798,0.232366651296616,-0.056621730327606,-0.012191530317068,-0.013693510554731,-0.013759109191597,-0.028716558590531,-0.038688965141773,-0.059215333312750,0.056360755115747,-0.099244877696037,0.090475425124168));
res += mul(Get(s1,-dx,dy), float4x4(0.123815156519413,-0.083942949771881,-0.075883492827415,0.031189737841487,0.074472188949585,-0.263459533452988,-0.046128667891026,-0.027281844988465,0.080866880714893,0.049560427665710,-0.022301655262709,0.022599510848522,-0.056096166372299,-0.067096896469593,0.129541143774986,-0.104908369481564));
res += mul(Get(s1,0,-dy), float4x4(-0.054107602685690,0.019898708909750,0.089332953095436,-0.202808558940887,-0.007012794259936,-0.002148811006919,-0.156854823231697,-0.019175156950951,0.034168832004070,-0.138583302497864,-0.167138054966927,0.113395065069199,-0.026453491300344,0.064595378935337,0.260875046253204,0.122014321386814));
res += mul(Get(s1,0,0), float4x4(0.162007778882980,-0.046201921999454,0.037347815930843,0.032330438494682,-0.059590004384518,-0.157516106963158,-0.180493354797363,-0.094810403883457,-0.004120538476855,0.260252028703690,-0.022329002618790,0.043617263436317,-0.086551569402218,-0.104071699082851,-0.032952766865492,-0.056022483855486));
res += mul(Get(s1,0,dy), float4x4(0.072440370917320,0.142993539571762,0.025757148861885,0.080956019461155,0.038592249155045,-0.120014272630215,0.194449275732040,0.175538480281830,-0.097996383905411,-0.137608945369720,-0.055713720619678,0.020103637129068,-0.074137143790722,0.016594082117081,0.172720581293106,-0.106910064816475));
res += mul(Get(s1,dx,-dy), float4x4(0.044990353286266,-0.062490351498127,-0.119365453720093,-0.076720274984837,-0.195012971758842,-0.111227877438068,-0.022967310622334,0.061234794557095,-0.010846949182451,0.107154145836830,0.001265616156161,0.030180064961314,-0.156182393431664,0.222674429416656,0.089136652648449,-0.024550430476665));
res += mul(Get(s1,dx,0), float4x4(0.223353832960129,-0.024170318618417,0.053906336426735,-0.097907543182373,-0.061148397624493,0.182367041707039,0.158163711428642,0.094517849385738,-0.081082351505756,0.130667254328728,0.082110397517681,-0.045631904155016,-0.177703589200974,0.073670685291290,-0.109488375484943,0.144331112504005));
res += mul(Get(s1,dx,dy), float4x4(0.133758619427681,-0.074597120285034,0.128506511449814,0.051740948110819,-0.048050802201033,0.157592877745628,-0.238139405846596,-0.030439171940088,-0.073773510754108,0.111852429807186,-0.084809124469757,-0.168263614177704,-0.134472861886024,0.053236018866301,-0.007159052882344,0.054738353937864));
res += mul(Get(s2,-dx,-dy), float4x4(-0.035120539367199,0.212937250733376,-0.055690314620733,0.127112910151482,-0.010239427909255,0.088170781731606,0.016695909202099,-0.042540110647678,0.063590027391911,0.146869912743568,0.221545189619064,-0.083044216036797,0.123047478497028,-0.021937057375908,0.018354605883360,-0.021727383136749));
res += mul(Get(s2,-dx,0), float4x4(-0.141880303621292,0.195600077509880,0.069885432720184,0.138508632779121,-0.002045326633379,-0.041396565735340,0.148252531886101,0.035251408815384,-0.137352779507637,-0.074519120156765,-0.038866490125656,-0.194681659340858,0.101665548980236,-0.075989745557308,0.086788423359394,0.038177892565727));
res += mul(Get(s2,-dx,dy), float4x4(-0.003882257267833,-0.031067304313183,-0.011660000309348,0.171447277069092,-0.043605808168650,0.053635064512491,-0.013871301896870,-0.098556675016880,-0.010122847743332,-0.041494332253933,-0.061707850545645,0.046304661780596,-0.029892444610596,-0.021109860390425,0.021832691505551,0.121350258588791));
res += mul(Get(s2,0,-dy), float4x4(-0.009845937602222,-0.179343998432159,-0.037846818566322,0.047969475388527,0.069378219544888,0.067261837422848,-0.001400575158186,0.193941906094551,-0.054234482347965,-0.008491111919284,0.234654545783997,-0.018445136025548,-0.020972242578864,0.031173421069980,-0.061295613646507,-0.026739984750748));
res += mul(Get(s2,0,0), float4x4(-0.020227706059813,-0.027585968375206,-0.292436122894287,-0.082750923931599,0.176626369357109,0.218838572502136,0.010329134762287,-0.056708697229624,-0.115012101829052,-0.139350727200508,0.056680895388126,-0.023934237658978,-0.144948661327362,-0.226966932415962,0.051247388124466,0.050117734819651));
res += mul(Get(s2,0,dy), float4x4(-0.207851976156235,-0.028554033488035,0.092895328998566,-0.104468986392021,-0.119848795235157,0.125072062015533,0.121764786541462,-0.068429373204708,-0.225098118185997,-0.027225457131863,0.028126068413258,0.012020878493786,0.111918412148952,-0.047378510236740,0.035310558974743,0.053042203187943));
res += mul(Get(s2,dx,-dy), float4x4(-0.076545640826225,0.012833183631301,0.036520346999168,0.016042491421103,0.003170198295265,-0.138209089636803,-0.201002702116966,0.061179157346487,0.042046286165714,0.094253130257130,-0.001113930018619,-0.102519363164902,0.041427768766880,-0.142523586750031,-0.090846747159958,0.015354119241238));
res += mul(Get(s2,dx,0), float4x4(0.089958906173706,-0.001276145922020,0.182533010840416,0.045931290835142,0.142595127224922,0.116888970136642,-0.229416146874428,-0.071372039616108,-0.022746726870537,0.006322338245809,0.137991249561310,0.024111770093441,0.195693299174309,0.085559204220772,-0.020176729187369,-0.124392934143543));
res += mul(Get(s2,dx,dy), float4x4(0.125639155507088,0.077811546623707,-0.027680706232786,0.088192425668240,0.242979660630226,-0.016774939373136,0.111061021685600,0.134211778640747,-0.024375244975090,-0.092665605247021,-0.016421334818006,-0.041873686015606,0.271892398595810,-0.056207098066807,-0.037886973470449,0.097945533692837));
res += mul(Get(s3,-dx,-dy), float4x4(0.000504808616824,-0.067995838820934,-0.013464777730405,0.009521362371743,-0.021620007231832,-0.158198565244675,-0.232747241854668,0.158374324440956,0.028840897604823,0.133084669709206,0.177846729755402,-0.000893931894097,-0.052119366824627,0.055623386055231,-0.013489698991179,-0.119870506227016));
res += mul(Get(s3,-dx,0), float4x4(-0.154415681958199,0.030937572941184,-0.069136127829552,-0.140751019120216,-0.012338691391051,0.042810887098312,0.107175894081593,0.009411163628101,-0.028645955026150,-0.103668160736561,0.033310584723949,0.045660782605410,-0.019905835390091,0.194509640336037,0.015043159946799,0.037862230092287));
res += mul(Get(s3,-dx,dy), float4x4(-0.098324812948704,-0.014513003639877,-0.045948687940836,0.020810540765524,0.094451598823071,0.018280265852809,-0.020336292684078,0.044591195881367,0.060860212892294,-0.055085625499487,0.157387554645538,-0.018331883475184,0.132652059197426,0.101838469505310,0.046355366706848,0.099186487495899));
res += mul(Get(s3,0,-dy), float4x4(-0.017063206061721,-0.011276608332992,-0.043092653155327,-0.050319425761700,-0.012910746037960,-0.135362356901169,-0.007414894178510,-0.134046122431755,-0.047004546970129,-0.028119839727879,0.089618578553200,-0.190149605274200,-0.127038583159447,0.263073176145554,0.220506787300110,-0.019964151084423));
res += mul(Get(s3,0,0), float4x4(-0.271600365638733,-0.156094729900360,0.027719907462597,-0.099682018160820,-0.011334558017552,0.041748329997063,0.030636796727777,0.037536386400461,0.022391539067030,-0.009972283616662,0.014725688844919,0.060313005000353,-0.042205236852169,-0.100043922662735,-0.011299902573228,0.076853014528751));
res += mul(Get(s3,0,dy), float4x4(-0.041001271456480,0.017249982804060,0.032345317304134,-0.231983199715614,-0.060182224959135,0.031278479844332,0.161418899893761,-0.015180900692940,-0.151170402765274,-0.126721009612083,0.061330977827311,-0.057189747691154,-0.208288133144379,-0.162242919206619,0.184785649180412,-0.036386594176292));
res += mul(Get(s3,dx,-dy), float4x4(0.029148211702704,0.032823007553816,0.034076202660799,-0.115988999605179,0.237879619002342,-0.047420352697372,0.079360924661160,0.008160359226167,-0.365506947040558,-0.002995020477101,0.164740830659866,-0.197013899683952,-0.051358550786972,-0.031423199921846,0.088420622050762,-0.012052958831191));
res += mul(Get(s3,dx,0), float4x4(-0.095695823431015,-0.022098731249571,0.004810993093997,-0.176500052213669,-0.042542606592178,-0.059897791594267,-0.106896668672562,0.028898727148771,-0.085983790457249,-0.137619897723198,0.030171563848853,-0.023902988061309,0.031968485563993,0.187159582972527,0.333791434764862,0.250207513570786));
res += mul(Get(s3,dx,dy), float4x4(-0.055447105318308,-0.119580186903477,-0.074398092925549,0.006528580095619,-0.117012366652489,-0.087224267423153,0.085255935788155,0.103792853653431,0.049894813448191,0.108813658356667,0.024286516010761,-0.067728720605373,0.031576283276081,0.016945954412222,-0.039289999753237,-0.004375453107059));
return max(float4(0,0,0,0), res);
}
