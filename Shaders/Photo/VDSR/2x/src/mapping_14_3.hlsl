sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.119808323681355,-0.006025897338986,-0.187543556094170,-0.045060984790325,-0.009570030495524,0.002495321212336,0.098538659512997,-0.000891920761205,-0.049659084528685,0.000331235205522,0.031146066263318,0.004560142289847,-0.028587318956852,-0.000833722471725,0.035345911979675,-0.105121508240700));
res += mul(Get(s0,-dx,0), float4x4(-0.019038535654545,-0.002825525589287,0.093343891203403,-0.036624524742365,0.011551751755178,-0.004653968382627,0.074039891362190,0.019429983571172,-0.010660663247108,-0.000803464266937,0.054059047251940,-0.001782665145583,0.099329762160778,-0.004479373339564,0.076642200350761,-0.009830101393163));
res += mul(Get(s0,-dx,dy), float4x4(0.042893759906292,0.000007555840057,-0.028461633250117,0.033033736050129,0.052164804190397,-0.001531058805995,0.048917233943939,0.035594306886196,0.011686947196722,-0.001432344201021,0.022742440924048,-0.010572145693004,0.129871413111687,-0.004173576831818,0.129954263567924,0.224504455924034));
res += mul(Get(s0,0,-dy), float4x4(0.013292958959937,-0.001846971688792,-0.110785409808159,-0.075149632990360,0.037485860288143,-0.001413187128492,-0.034626886248589,0.066501304507256,-0.123065464198589,-0.002490696031600,0.013476894237101,-0.019412491470575,0.044414605945349,-0.000376675947336,-0.025852225720882,-0.066491417586803));
res += mul(Get(s0,0,0), float4x4(-0.001680058427155,0.004977665375918,0.060683172196150,0.023000307381153,0.102778665721416,0.001821691635996,-0.074507310986519,0.086028128862381,0.113487064838409,-0.002243183087558,-0.070603378117085,0.094856999814510,0.108447670936584,-0.001151843462139,0.058473471552134,0.133660703897476));
res += mul(Get(s0,0,dy), float4x4(-0.070922598242760,-0.009092220105231,0.029060292989016,0.038394227623940,0.154931381344795,-0.003458542050794,-0.225642532110214,-0.003276644973084,0.134837150573730,0.000717223505490,-0.119954839348793,-0.006136487703770,0.126036882400513,-0.001388826058246,-0.015952046960592,-0.094824962317944));
res += mul(Get(s0,dx,-dy), float4x4(0.188249439001083,0.001407064264640,0.030405843630433,0.009483328089118,-0.111548312008381,0.006009464152157,-0.015735618770123,0.020470526069403,0.016803206875920,0.003765774657950,0.042821343988180,-0.045926764607430,0.047506336122751,0.001468599541113,-0.073447659611702,-0.041584998369217));
res += mul(Get(s0,dx,0), float4x4(-0.012714949436486,-0.001769123948179,0.110063396394253,0.019191766157746,-0.080017149448395,0.000087881810032,-0.036674421280622,-0.002637185389176,0.152648136019707,-0.006610564421862,0.080496370792389,0.030418325215578,-0.051959186792374,0.001025543897413,-0.045351792126894,0.014763407409191));
res += mul(Get(s0,dx,dy), float4x4(-0.050961747765541,0.001912113395520,-0.056302342563868,0.063649840652943,-0.050510447472334,0.001074556377716,-0.009077847935259,0.017129573971033,0.075917184352875,-0.000441790994955,-0.004496113397181,0.000767042045482,-0.016382442787290,-0.000658622244373,-0.111735433340073,-0.109805949032307));
res += mul(Get(s1,-dx,-dy), float4x4(0.098995439708233,-0.002244936302304,0.036120392382145,-0.066994942724705,0.107871502637863,0.000258505198872,0.025965647771955,0.035956382751465,-0.024089237675071,0.000696573872119,-0.019407842308283,0.021844968199730,-0.041489146649837,0.002195079578087,0.013588632456958,0.042562685906887));
res += mul(Get(s1,-dx,0), float4x4(-0.051170941442251,-0.002886527217925,-0.036676295101643,0.052896659821272,0.065538346767426,0.003996825776994,0.064119838178158,-0.017906215041876,-0.054924819618464,0.002786793513224,-0.006163913290948,-0.036882374435663,-0.109315730631351,-0.003159708343446,-0.081552587449551,-0.029999742284417));
res += mul(Get(s1,-dx,dy), float4x4(-0.058001887053251,-0.000548995274585,0.141029164195061,-0.003452048171312,-0.057727895677090,0.005770717747509,0.164838090538979,-0.008959891274571,0.121477589011192,0.000682991696522,0.001568781328388,0.033285096287727,0.057904977351427,-0.004167888779193,0.005488939583302,0.056125126779079));
res += mul(Get(s1,0,-dy), float4x4(0.289323866367340,-0.001400007633492,-0.093004465103149,-0.008513641543686,-0.015318126417696,0.001975100720301,0.152847230434418,-0.048804737627506,-0.007050440646708,0.004513340070844,-0.026195764541626,0.050838045775890,-0.049968399107456,-0.002239340916276,0.220760017633438,-0.081954516470432));
res += mul(Get(s1,0,0), float4x4(0.096298366785049,-0.001438885112293,-0.002703873673454,-0.042295970022678,0.081063002347946,-0.006263739895076,-0.108055233955383,0.030687170103192,0.012432088144124,-0.003563591279089,0.014140774495900,-0.034106016159058,0.094234637916088,-0.002304649911821,0.251740664243698,0.049272350966930));
res += mul(Get(s1,0,dy), float4x4(-0.197116851806641,-0.000980310491286,0.078803002834320,-0.053954854607582,-0.038827568292618,-0.004157300572842,-0.031475439667702,-0.093657590448856,-0.036377094686031,0.004346775822341,0.160914614796638,0.169366061687469,0.177041649818420,-0.001285900012590,-0.088275402784348,0.149216592311859));
res += mul(Get(s1,dx,-dy), float4x4(0.057933241128922,-0.003316709306091,-0.073336765170097,-0.056361075490713,0.000206223456189,0.001075998181477,0.019465303048491,0.073431886732578,0.055116496980190,-0.001253916765563,0.008823656477034,0.023986859247088,-0.011038884520531,0.002243620809168,0.114009454846382,0.037109918892384));
res += mul(Get(s1,dx,0), float4x4(0.065145052969456,-0.002883680863306,-0.070026099681854,-0.028788698837161,0.050792858004570,-0.002275681123137,0.111063435673714,0.140680626034737,0.014815875329077,0.004780148155987,-0.015618151985109,-0.049608170986176,-0.081785365939140,-0.000707688333932,0.106626652181149,-0.094738915562630));
res += mul(Get(s1,dx,dy), float4x4(0.096654988825321,-0.003181673120707,0.126336738467216,0.028718957677484,0.065609276294708,0.002368313027546,0.013618800789118,0.052277721464634,0.004681591875851,-0.004477577283978,0.090104512870312,-0.055030580610037,0.105167351663113,0.002727587940171,-0.114562295377254,0.108250856399536));
res += mul(Get(s2,-dx,-dy), float4x4(0.057695351541042,0.003708255011588,0.007977425120771,0.055204492062330,0.103517107665539,0.000063523526478,0.075819849967957,-0.107819654047489,0.074772648513317,-0.005428792908788,-0.015667233616114,0.007345836609602,0.080090738832951,-0.001549914712086,-0.093618281185627,-0.006447269115597));
res += mul(Get(s2,-dx,0), float4x4(-0.028678713366389,-0.001879034680314,0.026867479085922,0.065944947302341,0.034057207405567,-0.001403047936037,-0.041946478188038,-0.058166570961475,0.020967204123735,0.004785071127117,-0.054292779415846,-0.048225659877062,-0.016189226880670,-0.003790176007897,0.011995880864561,-0.033420767635107));
res += mul(Get(s2,-dx,dy), float4x4(0.004204570315778,0.003276481991634,-0.008951849304140,-0.033539146184921,0.025365388020873,0.002553282771260,0.028384443372488,-0.049947239458561,0.012022615410388,0.004810308571905,0.031764779239893,0.009477109648287,0.055959265679121,0.000789401005022,0.107355818152428,-0.030329041182995));
res += mul(Get(s2,0,-dy), float4x4(0.179457187652588,-0.004574974067509,-0.080343723297119,-0.004159075673670,-0.093392446637154,-0.001786407898180,0.088152669370174,-0.189008742570877,-0.089870899915695,-0.009539222344756,0.193795248866081,0.046385798603296,-0.102071486413479,0.000818175496534,0.033536393195391,0.007956037297845));
res += mul(Get(s2,0,0), float4x4(-0.093480505049229,-0.004183029290289,0.007145737297833,-0.040882226079702,-0.062532998621464,-0.001762234605849,0.024542717263103,0.002818606095389,0.083070777356625,0.005299909505993,0.185826987028122,0.137761920690536,0.051380213350058,-0.003104895818979,-0.032789167016745,0.039358988404274));
res += mul(Get(s2,0,dy), float4x4(0.041286624968052,-0.008684386499226,-0.038861002773046,-0.036971408873796,-0.015073556452990,0.006000258959830,-0.012753894552588,-0.034711070358753,0.072984352707863,-0.004299256950617,0.189034640789032,0.086326524615288,-0.007903241552413,0.000607796362601,0.053603317588568,-0.051321584731340));
res += mul(Get(s2,dx,-dy), float4x4(0.149788290262222,-0.000827041862067,-0.048905730247498,-0.010214629583061,-0.032902192324400,-0.003441944951192,0.127399638295174,-0.189868241548538,0.035360980778933,-0.002684874925762,0.004645916633308,0.095874682068825,0.034987010061741,0.003535457188264,0.086663931608200,-0.011543307453394));
res += mul(Get(s2,dx,0), float4x4(-0.070235915482044,0.004404236096889,0.064771145582199,-0.201845645904541,0.177072912454605,0.004271804355085,-0.097260959446430,0.010893919505179,0.017157753929496,-0.002806287957355,-0.090247184038162,0.057971406728029,0.015480414032936,0.005043566692621,-0.009163524955511,-0.002941130194813));
res += mul(Get(s2,dx,dy), float4x4(0.016261598095298,0.002322006504983,0.108959406614304,0.024855257943273,0.044894471764565,-0.001821474172175,-0.085473209619522,-0.049471404403448,-0.008468890562654,0.001397944753990,0.013868385925889,-0.087786398828030,0.011130635626614,-0.003806133754551,-0.024799173697829,-0.042266227304935));
res += mul(Get(s3,-dx,-dy), float4x4(-0.076048687100410,0.002080220961943,0.058161634951830,-0.026272952556610,-0.045042380690575,-0.001439583487809,0.095380745828152,0.002967224223539,-0.048051249235868,-0.005202073603868,0.094255425035954,-0.112187728285789,0.023318776860833,-0.008218235336244,0.059679254889488,0.162505969405174));
res += mul(Get(s3,-dx,0), float4x4(0.044273298233747,-0.000300948391668,-0.210051760077477,-0.039195280522108,0.026297593489289,0.006165363825858,-0.041056197136641,-0.062162343412638,0.145615950226784,0.003479046979919,-0.030216839164495,0.028493866324425,0.026140294969082,-0.008043026551604,-0.005258797667921,-0.019053032621741));
res += mul(Get(s3,-dx,dy), float4x4(0.031195495277643,-0.001112301717512,-0.103383623063564,-0.085930742323399,0.082025460898876,-0.000494051317219,-0.104691915214062,0.088957376778126,0.000609196373262,-0.000089359949925,0.070080965757370,0.021284116432071,0.079990774393082,0.002134444657713,0.045859508216381,-0.010524651035666));
res += mul(Get(s3,0,-dy), float4x4(0.231857866048813,0.002620628569275,0.082976207137108,0.103619739413261,-0.110182784497738,-0.000533851329237,0.080498121678829,0.075399376451969,-0.202634334564209,-0.002938878489658,0.002682475140318,-0.084176197648048,-0.045197404921055,0.002519818488508,0.049869019538164,0.167073100805283));
res += mul(Get(s3,0,0), float4x4(-0.019592694938183,0.000272846955340,0.219348490238190,0.062211815267801,0.037716612219810,0.000712051289156,-0.044489614665508,0.113330073654652,0.154797792434692,-0.002538311062381,-0.102995857596397,0.031728018075228,-0.092493101954460,0.000596314726863,0.040327448397875,0.283033341169357));
res += mul(Get(s3,0,dy), float4x4(0.006438835524023,-0.002483491552994,0.200508177280426,0.113613739609718,0.071909099817276,-0.005143243819475,0.029895413666964,0.071369774639606,-0.018115160986781,0.001134865684435,0.035562112927437,-0.072897650301456,-0.000582880515140,-0.002355005126446,0.029225636273623,0.041264824569225));
res += mul(Get(s3,dx,-dy), float4x4(-0.013327123597264,-0.003079951740801,-0.083108857274055,0.038769718259573,-0.011554013006389,-0.002604756504297,-0.108327768743038,-0.040974061936140,0.064480371773243,-0.007032488938421,0.031972687691450,-0.032705977559090,0.088214501738548,-0.003944465424865,0.000801774731372,0.150197327136993));
res += mul(Get(s3,dx,0), float4x4(0.016042931005359,-0.003914175089449,-0.046293240040541,-0.035939648747444,-0.020564157515764,-0.001239730394445,0.027536531910300,-0.023895114660263,0.244191095232964,-0.006737209856510,0.164170071482658,0.118557818233967,0.150100082159042,-0.005570166278630,0.152625769376755,0.299729079008102));
res += mul(Get(s3,dx,dy), float4x4(0.021270120516419,-0.002943634521216,-0.051788728684187,0.026959717273712,-0.116978816688061,0.007051051594317,0.100724130868912,-0.024225248023868,-0.097511313855648,-0.003907208796591,0.111702099442482,-0.057864598929882,0.068760983645916,-0.002179997274652,-0.071913883090019,-0.019432725384831));
return max(float4(0,0,0,0), res);
}
