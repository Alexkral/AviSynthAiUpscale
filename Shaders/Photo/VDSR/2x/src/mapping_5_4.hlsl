sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.087331175804138,-0.132188916206360,0.002883673645556,0.046217132359743,0.202820897102356,-0.041589796543121,-0.022138737142086,-0.048305310308933,-0.057107847183943,0.047095876187086,-0.086391493678093,-0.097646504640579,0.012000520713627,0.072144255042076,0.020298013463616,-0.026684528216720));
res += mul(Get(s0,-dx,0), float4x4(-0.054590474814177,-0.088502712547779,0.080359742045403,0.090123213827610,-0.015488131903112,0.002742493059486,-0.046172622591257,0.009381468407810,-0.010719879530370,-0.025775173678994,-0.031809289008379,0.002357996301726,-0.110561363399029,0.142429336905479,0.031617883592844,-0.042013771831989));
res += mul(Get(s0,-dx,dy), float4x4(-0.020143510773778,-0.000971191504505,-0.003835857845843,0.167095854878426,-0.030794199556112,-0.161721616983414,-0.009780187159777,-0.154323801398277,-0.075296565890312,0.058524705469608,-0.012222330085933,-0.035809818655252,-0.077339939773083,-0.080739416182041,-0.005033419933170,-0.018177419900894));
res += mul(Get(s0,0,-dy), float4x4(0.149751037359238,-0.078831352293491,0.132443904876709,-0.105063393712044,0.115639552474022,0.016551224514842,0.001732403528877,-0.039905060082674,0.166962578892708,0.167114034295082,-0.116478778421879,-0.075600817799568,0.006122233346105,-0.014732880517840,-0.073978520929813,0.014838259667158));
res += mul(Get(s0,0,0), float4x4(-0.148248940706253,-0.075596526265144,-0.015191880986094,0.070276297628880,-0.047974783927202,0.024967407807708,0.069897957146168,0.099741511046886,0.167790904641151,0.084827601909637,0.071294762194157,0.031374298036098,-0.101684905588627,0.076989732682705,-0.007632883265615,0.073864236474037));
res += mul(Get(s0,0,dy), float4x4(-0.063883125782013,0.009125690907240,-0.128800094127655,-0.034935407340527,-0.008989211171865,-0.131930530071259,0.131068766117096,-0.082333184778690,0.059760816395283,0.052892986685038,0.023996539413929,0.115088298916817,-0.042340088635683,-0.088451221585274,0.020905351266265,0.014822395518422));
res += mul(Get(s0,dx,-dy), float4x4(-0.017424380406737,0.000560832151677,0.048950269818306,0.002264026086777,0.039554242044687,-0.033487156033516,-0.046410862356424,-0.120349735021591,-0.056208487600088,0.002945155138150,-0.000970333989244,0.044939208775759,0.206552654504776,0.109320871531963,0.055574193596840,-0.067354850471020));
res += mul(Get(s0,dx,0), float4x4(0.053761944174767,-0.079529948532581,-0.047071058303118,0.095265418291092,-0.041972402483225,-0.119950793683529,-0.025382468476892,0.037216253578663,0.102049395442009,0.123352207243443,0.087546996772289,-0.038145579397678,-0.022758638486266,0.024996001273394,0.102846540510654,0.178129732608795));
res += mul(Get(s0,dx,dy), float4x4(-0.084292538464069,-0.042951982468367,0.005983353592455,0.011413872241974,-0.007907073944807,-0.024206507951021,-0.041990298777819,-0.013178995810449,-0.003449606709182,0.027185313403606,0.084269985556602,-0.019134923815727,-0.014465999789536,-0.046266630291939,0.058113574981689,-0.085983589291573));
res += mul(Get(s1,-dx,-dy), float4x4(-0.009314183145761,0.062566794455051,-0.067736484110355,-0.059668060392141,0.001162971951999,-0.059650015085936,-0.166885152459145,-0.020654376596212,0.062624484300613,-0.169746488332748,-0.110917665064335,0.066425703465939,-0.003944924101233,0.137051805853844,0.120522931218147,-0.000780982954893));
res += mul(Get(s1,-dx,0), float4x4(-0.053403154015541,0.078714802861214,-0.063925273716450,0.107711412012577,-0.042092487215996,-0.152710273861885,-0.031484499573708,-0.018160825595260,-0.260765701532364,-0.048801161348820,0.010720005258918,0.134896829724312,-0.078195996582508,-0.000659635232296,0.078482203185558,-0.026096437126398));
res += mul(Get(s1,-dx,dy), float4x4(0.016531333327293,-0.110076807439327,-0.137294992804527,0.054682575166225,0.035629689693451,-0.020151276141405,-0.044586256146431,-0.021849457174540,-0.074817582964897,0.020913766697049,0.009817499667406,0.154192596673965,0.123897895216942,0.091341033577919,0.013985605910420,0.047346115112305));
res += mul(Get(s1,0,-dy), float4x4(-0.018480392172933,0.193788290023804,0.058520313352346,0.021736191585660,-0.016618287190795,-0.030800126492977,-0.099873200058937,-0.097900569438934,0.108598969876766,-0.041827213019133,-0.072268553078175,0.018260888755322,0.262840628623962,0.047090783715248,0.134199723601341,-0.115499377250671));
res += mul(Get(s1,0,0), float4x4(-0.049362447112799,0.184331595897675,-0.020877188071609,0.183287143707275,-0.055711969733238,-0.015045564621687,0.080726921558380,-0.057331066578627,-0.065314456820488,0.080204628407955,-0.042809303849936,-0.058716583997011,0.095841579139233,0.013823689892888,0.173987254500389,-0.041947610676289));
res += mul(Get(s1,0,dy), float4x4(0.082780063152313,0.034106854349375,-0.079338908195496,-0.011359341442585,0.022566301748157,-0.093846730887890,-0.082532368600368,0.100460156798363,-0.094122566282749,0.107927709817886,-0.047074183821678,-0.079391598701477,0.107740603387356,0.048525646328926,0.054600838571787,0.012471603229642));
res += mul(Get(s1,dx,-dy), float4x4(-0.055387254804373,0.075127162039280,0.016829328611493,0.142203986644745,0.049516312777996,0.012835439294577,0.016250625252724,-0.033646658062935,0.062685735523701,-0.163372039794922,-0.048433702439070,0.121073625981808,-0.088331028819084,0.021129054948688,-0.035085763782263,-0.019052809104323));
res += mul(Get(s1,dx,0), float4x4(0.087823584675789,-0.045542463660240,-0.067070610821247,0.035394504666328,0.010109405964613,-0.071497477591038,0.024933643639088,0.078302688896656,0.089083105325699,0.072496235370636,-0.088964015245438,-0.027773760259151,0.026184856891632,0.085213713347912,0.000598842801992,-0.095643699169159));
res += mul(Get(s1,dx,dy), float4x4(-0.058110527694225,-0.118579886853695,0.003855640068650,0.013919895514846,-0.017904780805111,-0.078753165900707,-0.116279169917107,-0.002943191444501,-0.074221894145012,0.079525917768478,-0.039997950196266,0.031350135803223,0.059101749211550,0.045862462371588,-0.009061526507139,0.048088971525431));
res += mul(Get(s2,-dx,-dy), float4x4(0.038134042173624,-0.055187001824379,0.127705603837967,-0.048233684152365,-0.109177313745022,0.128522261977196,-0.025820581242442,-0.102583698928356,-0.208803370594978,-0.116996057331562,-0.129212141036987,0.085658006370068,-0.055960353463888,-0.002754625165835,-0.154176980257034,0.063391953706741));
res += mul(Get(s2,-dx,0), float4x4(-0.074658103287220,-0.002940794453025,0.057192068547010,-0.002724530175328,-0.080404333770275,-0.065754130482674,-0.104826889932156,-0.084852710366249,-0.045360732823610,-0.050050437450409,0.095400668680668,-0.025129344314337,-0.135544985532761,0.166256666183472,-0.084578916430473,0.055737785995007));
res += mul(Get(s2,-dx,dy), float4x4(0.093889735639095,-0.019613912329078,-0.097771972417831,-0.037858426570892,-0.051065601408482,-0.009458394721150,0.189652889966965,-0.049297016113997,-0.009823902510107,-0.055989369750023,-0.051315620541573,0.011323182843626,0.021570719778538,-0.037339832633734,-0.009481751359999,-0.034327737987041));
res += mul(Get(s2,0,-dy), float4x4(-0.066907390952110,-0.083722054958344,0.004857523366809,0.229803934693336,-0.004478489514440,-0.108253911137581,0.106215730309486,-0.036486536264420,-0.127694174647331,0.018034439533949,-0.139731585979462,0.030922411009669,0.098070040345192,0.060393795371056,-0.013018168509007,-0.043534405529499));
res += mul(Get(s2,0,0), float4x4(-0.133412927389145,0.166080057621002,-0.024705870077014,0.137585103511810,-0.092929512262344,-0.101928271353245,0.139269068837166,0.050817932933569,0.176148071885109,0.024700656533241,-0.023610396310687,0.064448311924934,-0.031144820153713,0.098491169512272,-0.022911960259080,0.060813486576080));
res += mul(Get(s2,0,dy), float4x4(0.006694389041513,0.063164725899696,-0.093245103955269,-0.079063184559345,0.073794394731522,-0.141020014882088,0.091419436037540,0.038666602224112,0.027064615860581,-0.028244292363524,-0.066298328340054,0.150899574160576,0.063762314617634,0.007628812920302,-0.005911048967391,-0.001182505744509));
res += mul(Get(s2,dx,-dy), float4x4(-0.007770540192723,-0.019723640754819,-0.022316956892610,-0.083361931145191,0.059704158455133,0.009997210465372,0.244586855173111,0.024070046842098,-0.095347180962563,-0.025975601747632,-0.174186363816261,0.071309998631477,-0.084800533950329,-0.147529765963554,0.157358050346375,0.005770594812930));
res += mul(Get(s2,dx,0), float4x4(0.020166413858533,0.062689200043678,-0.070171803236008,0.021687228232622,0.069411300122738,-0.042355842888355,-0.042395375669003,-0.052579522132874,0.044429656118155,-0.041354048997164,-0.101521201431751,-0.001300219330005,0.146674171090126,-0.011038197204471,0.076788790524006,-0.053234890103340));
res += mul(Get(s2,dx,dy), float4x4(0.051518954336643,0.040472585707903,-0.029255408793688,0.005516155622900,0.044734939932823,0.033430557698011,0.015042503364384,-0.070397332310677,-0.107473969459534,-0.095380641520023,-0.060639962553978,0.131126642227173,-0.015666102990508,-0.112482391297817,-0.041509896516800,-0.038221064954996));
res += mul(Get(s3,-dx,-dy), float4x4(0.020290343090892,0.010890104807913,0.132870286703110,0.147573515772820,-0.121066190302372,0.093271762132645,0.117987193167210,-0.143339604139328,-0.078337647020817,-0.062749616801739,-0.066349141299725,-0.108893170952797,-0.179419755935669,-0.016056144610047,-0.016581669449806,0.021673601120710));
res += mul(Get(s3,-dx,0), float4x4(0.120843008160591,0.084844358265400,0.083724170923233,-0.044141270220280,0.039727013558149,-0.044147264212370,-0.044340990483761,0.033981312066317,0.138402909040451,0.092996515333652,0.053199496120214,0.042232181876898,0.024599790573120,0.051254384219646,-0.046561904251575,-0.032992891967297));
res += mul(Get(s3,-dx,dy), float4x4(-0.234165474772453,-0.029024483636022,0.013840734027326,-0.110750138759613,-0.054690245538950,0.026821061968803,-0.031576696783304,-0.004503302276134,-0.060605660080910,0.031670834869146,-0.005838239099830,-0.063264191150665,0.088085092604160,-0.035595860332251,-0.205900117754936,-0.007847452536225));
res += mul(Get(s3,0,-dy), float4x4(-0.103539645671844,0.031115578487515,-0.100859649479389,-0.030503574758768,0.066071674227715,0.126383870840073,-0.027925860136747,-0.029437404125929,0.063876010477543,-0.083066351711750,-0.028845790773630,-0.062602847814560,-0.142164885997772,0.202320307493210,0.034278646111488,0.106454432010651));
res += mul(Get(s3,0,0), float4x4(0.020485229790211,-0.001126701594330,-0.086425006389618,-0.053113300353289,0.038852803409100,-0.022950230166316,0.106276042759418,0.003964856266975,0.191641718149185,0.157223910093307,-0.041928153485060,0.064744174480438,0.133150234818459,0.320963084697723,-0.011096745729446,-0.068750105798244));
res += mul(Get(s3,0,dy), float4x4(-0.041702095419168,-0.161336913704872,0.232851490378380,0.028851598501205,-0.053083181381226,-0.064656741917133,0.064800493419170,-0.003300813026726,-0.094423063099384,-0.064071871340275,-0.005119474139065,0.016424572095275,0.066619060933590,-0.131541773676872,-0.216357842087746,-0.128163650631905));
res += mul(Get(s3,dx,-dy), float4x4(0.023738790303469,-0.069027781486511,-0.046270232647657,0.010834575630724,0.113422408699989,-0.045874316245317,0.051045455038548,0.073112919926643,-0.134438470005989,0.045113299041986,0.125438392162323,0.011552180163562,0.068930961191654,-0.082497388124466,-0.115014769136906,0.113989531993866));
res += mul(Get(s3,dx,0), float4x4(0.070350863039494,-0.071317411959171,0.042946435511112,0.142895430326462,0.018930273130536,-0.024051394313574,0.064007140696049,-0.048510465770960,0.082629293203354,0.120407558977604,-0.019380142912269,-0.153700351715088,-0.123630009591579,0.024456785991788,-0.075345426797867,0.066905409097672));
res += mul(Get(s3,dx,dy), float4x4(-0.003040007082745,-0.047826647758484,0.033775158226490,-0.014898533001542,-0.029082499444485,-0.113318428397179,-0.059761889278889,0.045658603310585,-0.077130690217018,-0.045976467430592,0.262866765260696,-0.070951320230961,0.004661779385060,-0.085921078920364,-0.079238303005695,-0.017927488312125));
return max(float4(0,0,0,0), res);
}
