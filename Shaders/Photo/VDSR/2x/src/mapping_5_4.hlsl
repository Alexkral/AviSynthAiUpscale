sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.102235749363899,0.193910524249077,-0.081997722387314,-0.038521423935890,0.048180811107159,-0.034172408282757,0.221663951873779,-0.239420101046562,0.131052628159523,0.057551227509975,0.135498374700546,-0.089580886065960,-0.076614059507847,-0.044064808636904,-0.130309343338013,0.098486416041851));
res += mul(Get(s0,-dx,0), float4x4(-0.145015731453896,0.125180199742317,0.016274375841022,0.063328199088573,-0.062225271016359,-0.085373729467392,0.126759827136993,-0.000711948261596,-0.047317214310169,-0.091585382819176,0.132050022482872,-0.038551282137632,0.088945321738720,0.056668922305107,0.112888269126415,0.059813138097525));
res += mul(Get(s0,-dx,dy), float4x4(0.016586229205132,0.021291041746736,0.068008951842785,-0.017802732065320,-0.116566874086857,0.088933199644089,-0.240653231739998,-0.020658457651734,-0.125452741980553,-0.027782032266259,0.053312260657549,-0.165182247757912,0.004539849702269,-0.038543395698071,0.042472325265408,-0.046222154051065));
res += mul(Get(s0,0,-dy), float4x4(-0.161956667900085,0.145691812038422,0.076877854764462,0.074904404580593,-0.012895094230771,0.035313192754984,-0.010636660270393,0.189868181943893,-0.066845618188381,0.280572801828384,0.169600591063499,-0.028578385710716,0.183730617165565,0.183387577533722,-0.042668763548136,-0.079439245164394));
res += mul(Get(s0,0,0), float4x4(-0.021663067862391,-0.044449556618929,0.071232572197914,-0.010776064358652,0.037080623209476,-0.167741581797600,0.008762060664594,-0.115465506911278,-0.058232415467501,-0.141922727227211,0.143035069108009,0.096450902521610,-0.041994873434305,0.074220336973667,0.054668318480253,-0.003629904240370));
res += mul(Get(s0,0,dy), float4x4(-0.031870398670435,-0.021111866459250,-0.082648977637291,0.011147921904922,-0.107116751372814,0.050672978162766,-0.175865009427071,-0.058444056659937,0.063129231333733,-0.084653377532959,0.003818639554083,-0.131541550159454,0.059692554175854,0.185547515749931,0.036871582269669,-0.047353856265545));
res += mul(Get(s0,dx,-dy), float4x4(-0.041893735527992,-0.020003261044621,-0.089086130261421,-0.063071981072426,-0.068513154983521,-0.041750829666853,0.121230125427246,0.170323550701141,-0.162177205085754,0.054270155727863,0.048514362424612,-0.130063250660896,0.198712468147278,-0.083935789763927,0.109996028244495,0.078913167119026));
res += mul(Get(s0,dx,0), float4x4(-0.001811298192479,0.177482098340988,-0.003291671397164,-0.033282373100519,-0.023780103772879,0.070029325783253,-0.229209348559380,0.320280700922012,0.158904999494553,-0.056622024625540,0.011163112707436,-0.051361910998821,-0.067758776247501,-0.118519932031631,-0.036890145391226,-0.044012174010277));
res += mul(Get(s0,dx,dy), float4x4(0.060899954289198,0.089083425700665,-0.130152851343155,-0.142545565962791,-0.111502036452293,0.122531943023205,-0.200747519731522,0.168930068612099,0.064766645431519,0.004861210472882,-0.024973807856441,0.003246064996347,-0.147110983729362,-0.035415962338448,0.078099548816681,-0.027427634224296));
res += mul(Get(s1,-dx,-dy), float4x4(0.081550292670727,0.095865592360497,0.073954820632935,-0.125855743885040,0.043251119554043,-0.155623808503151,-0.063405320048332,0.042753610759974,0.119001232087612,-0.166292682290077,-0.093564093112946,-0.236100018024445,-0.141040548682213,-0.079607181251049,0.041380148380995,0.029713891446590));
res += mul(Get(s1,-dx,0), float4x4(-0.085874609649181,0.131061255931854,-0.205818012356758,0.055203672498465,-0.043118007481098,-0.112695246934891,-0.076618485152721,-0.084065370261669,0.148518919944763,0.229290917515755,-0.162706628441811,-0.116803757846355,-0.265099734067917,0.025179788470268,0.036086473613977,-0.110590718686581));
res += mul(Get(s1,-dx,dy), float4x4(0.046174895018339,-0.072764918208122,-0.026153702288866,0.095590643584728,0.052310820668936,0.020059907808900,0.081091016530991,-0.052982032299042,-0.075396828353405,0.072986140847206,-0.126520723104477,-0.124415569007397,-0.032821193337440,0.016011960804462,-0.050708793103695,-0.001815856434405));
res += mul(Get(s1,0,-dy), float4x4(-0.064808182418346,-0.165934890508652,0.009596054442227,0.079536244273186,0.051392670720816,0.096512995660305,-0.209117650985718,0.060373224318027,-0.202596127986908,0.083106957376003,-0.095995269715786,-0.120271377265453,-0.019272241741419,-0.106671646237373,0.049079243093729,0.057557631283998));
res += mul(Get(s1,0,0), float4x4(0.242093965411186,-0.102858565747738,0.119705237448215,-0.016735505312681,0.242040842771530,0.067260436713696,0.174629122018814,0.065495550632477,-0.093352034687996,-0.059206087142229,-0.147015124559402,-0.021214850246906,-0.022764232009649,-0.019767722114921,-0.210399329662323,0.034053783863783));
res += mul(Get(s1,0,dy), float4x4(-0.084212139248848,0.072029732167721,0.026674415916204,0.051343638449907,-0.026596339419484,0.039156462997198,0.138405248522758,-0.068934850394726,-0.159253850579262,0.071769073605537,-0.029453106224537,0.040025990456343,-0.140063226222992,-0.133331030607224,0.040234390646219,0.061210244894028));
res += mul(Get(s1,dx,-dy), float4x4(0.047014143317938,-0.108580552041531,0.064264424145222,-0.175179332494736,-0.026708588004112,-0.134991139173508,-0.102861523628235,-0.116974517703056,-0.002674308372661,0.050098560750484,0.116064973175526,-0.089099705219269,0.090213805437088,0.168120011687279,-0.049648601561785,-0.044168286025524));
res += mul(Get(s1,dx,0), float4x4(-0.076491773128510,0.147958397865295,0.178806692361832,0.021995805203915,-0.009262632578611,0.066629901528358,0.051020491868258,-0.107295639812946,0.073483467102051,-0.081091716885567,-0.155816569924355,-0.076983332633972,-0.061516050249338,0.256695896387100,-0.082288235425949,-0.124542601406574));
res += mul(Get(s1,dx,dy), float4x4(-0.193648189306259,-0.057419400662184,0.081053383648396,-0.158421590924263,-0.114043608307838,-0.027789680287242,-0.039891835302114,0.241419643163681,0.139830172061920,0.192131742835045,0.048090405762196,-0.087256319820881,-0.135275542736053,0.093806788325310,-0.131918758153915,0.259723961353302));
res += mul(Get(s2,-dx,-dy), float4x4(0.010561831295490,0.083275690674782,-0.131745442748070,-0.032949388027191,-0.060943838208914,0.028823554515839,-0.084761552512646,-0.049503926187754,-0.114233888685703,-0.109816275537014,0.099659979343414,-0.274847716093063,0.145121097564697,-0.033845636993647,-0.035806603729725,0.068426504731178));
res += mul(Get(s2,-dx,0), float4x4(-0.066742338240147,-0.081041902303696,-0.053692784160376,-0.155884847044945,0.116555660963058,0.091694921255112,0.030637636780739,-0.074655026197433,0.066962338984013,-0.112950623035431,-0.160725429654121,-0.057656396180391,0.078703589737415,-0.088907092809677,-0.044757742434740,0.114533066749573));
res += mul(Get(s2,-dx,dy), float4x4(0.007254919502884,0.177404880523682,0.088348269462585,0.109366215765476,0.031159337610006,-0.013743730261922,-0.048097856342793,-0.058143910020590,-0.051759470254183,-0.097267709672451,0.053319115191698,-0.034019604325294,0.199538141489029,0.201616629958153,-0.091041848063469,0.040640641003847));
res += mul(Get(s2,0,-dy), float4x4(0.008697001263499,0.086168833076954,0.190262004733086,0.024027315899730,-0.063074454665184,0.061636149883270,0.029910441488028,-0.083407469093800,0.030430424958467,0.131268620491028,0.083971939980984,0.076496452093124,-0.026517424732447,0.042947970330715,-0.051418684422970,-0.037113744765520));
res += mul(Get(s2,0,0), float4x4(-0.098957218229771,-0.060692224651575,-0.089940309524536,-0.183896303176880,-0.019736414775252,-0.014691331423819,-0.106804370880127,-0.085467889904976,-0.093499012291431,0.035119228065014,0.112029321491718,-0.079598210752010,-0.134633213281631,-0.034457813948393,0.058965858072042,0.065845869481564));
res += mul(Get(s2,0,dy), float4x4(0.073939055204391,-0.082869775593281,-0.029073484241962,-0.072833135724068,-0.173370420932770,-0.031492371112108,0.127943798899651,0.002531051170081,0.007304754108191,-0.075349196791649,0.120331764221191,0.015325890854001,-0.048974603414536,-0.014179524034262,-0.023503754287958,-0.156069576740265));
res += mul(Get(s2,dx,-dy), float4x4(0.077271774411201,0.002950191497803,-0.123776726424694,0.054972428828478,0.007215718738735,0.079526156187057,0.020305806770921,-0.030339073389769,-0.029870267957449,0.103606879711151,0.258517831563950,0.013905242085457,-0.069422461092472,-0.091625623404980,0.025934925302863,-0.045437168329954));
res += mul(Get(s2,dx,0), float4x4(-0.038152247667313,0.026908919215202,0.026335863396525,-0.220270887017250,-0.065098859369755,0.295882940292358,-0.053964763879776,0.157078176736832,0.148096486926079,0.105451881885529,0.012728592380881,0.092052534222603,-0.014939568005502,-0.030811145901680,0.116698302328587,0.094815358519554));
res += mul(Get(s2,dx,dy), float4x4(0.142237663269043,-0.205840647220612,0.013457037508488,-0.125423267483711,-0.019589764997363,-0.036891981959343,-0.118987277150154,-0.235833361744881,-0.004375427495688,0.205560132861137,0.087030626833439,-0.000137268376420,-0.071229346096516,-0.047876156866550,0.206947982311249,-0.119618460536003));
res += mul(Get(s3,-dx,-dy), float4x4(-0.191584900021553,0.012722304090858,-0.099673829972744,0.191676124930382,0.052443444728851,0.121590271592140,0.028772288933396,0.024062626063824,0.068930782377720,0.030729236081243,0.097742296755314,-0.152644574642181,-0.061699029058218,0.134079545736313,-0.063767850399017,-0.024290256202221));
res += mul(Get(s3,-dx,0), float4x4(0.041236769407988,0.194943040609360,-0.203372061252594,-0.174174502491951,0.090655535459518,-0.013953854329884,0.125844821333885,-0.066827341914177,-0.102464072406292,-0.082622557878494,-0.029110088944435,-0.008736820891500,-0.152131676673889,0.005043458193541,-0.063144415616989,-0.101828992366791));
res += mul(Get(s3,-dx,dy), float4x4(0.163036435842514,0.062724418938160,0.226606458425522,0.063551440834999,-0.066948764026165,-0.032360043376684,-0.101382575929165,0.167622968554497,-0.166642755270004,0.159625470638275,0.009178561158478,0.065915435552597,0.147764384746552,-0.014268414117396,0.122054383158684,0.129185348749161));
res += mul(Get(s3,0,-dy), float4x4(0.143471032381058,0.205270424485207,0.120016522705555,-0.207159578800201,0.099518157541752,-0.104784168303013,0.025322925299406,0.188821956515312,0.108808375895023,-0.025491088628769,0.140075460076332,-0.093277752399445,-0.226991578936577,0.194909289479256,0.022627377882600,-0.059408653527498));
res += mul(Get(s3,0,0), float4x4(0.070714026689529,0.084496736526489,0.046750701963902,-0.186207473278046,-0.084523104131222,-0.043140117079020,-0.148907780647278,-0.078403905034065,-0.043650310486555,-0.132805779576302,0.012102415785193,-0.034431319683790,0.173773273825645,-0.061978206038475,0.347810775041580,-0.013169259764254));
res += mul(Get(s3,0,dy), float4x4(0.107878051698208,0.040097162127495,0.134398564696312,-0.016510987654328,-0.078785412013531,0.121677726507187,-0.270499259233475,0.086242578923702,0.003669201629236,-0.034216027706861,0.074672251939774,0.103211343288422,-0.185861304402351,0.156420335173607,-0.031529840081930,0.210904747247696));
res += mul(Get(s3,dx,-dy), float4x4(-0.035968955606222,-0.042322400957346,-0.012448546476662,0.153801783919334,-0.017244439572096,-0.081788584589958,-0.146716132760048,0.045939270406961,-0.068322040140629,-0.089826375246048,-0.153383523225784,0.089074812829494,-0.169299259781837,-0.036226477473974,0.002654865616933,0.026397334411740));
res += mul(Get(s3,dx,0), float4x4(-0.008395404554904,0.001562679419294,-0.077767662703991,0.003098433138803,-0.060506250709295,0.029142955318093,-0.177576154470444,-0.100869022309780,0.095934614539146,-0.136385068297386,-0.015797903761268,-0.031489595770836,-0.082289017736912,-0.203995615243912,-0.003572920802981,0.033777091652155));
res += mul(Get(s3,dx,dy), float4x4(-0.035770025104284,-0.023731900379062,0.147854641079903,-0.079590015113354,0.150887489318848,0.146290972828865,-0.261205881834030,-0.112330138683319,0.043026991188526,0.034582808613777,-0.050045780837536,-0.088659420609474,-0.054319746792316,0.042999140918255,0.082905478775501,0.031930956989527));
return max(float4(0,0,0,0), res);
}
