sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.206937700510025,0.003731542266905,0.122974872589111,0.036883130669594,-0.022067250683904,0.024389127269387,0.055169593542814,0.098468527197838,0.046234127134085,0.020641176030040,-0.060744926333427,-0.058934193104506,-0.162895053625107,-0.034664459526539,-0.030655320733786,0.198133394122124));
res += mul(Get(s0,-dx,0), float4x4(-0.002519693225622,0.019244741648436,0.087703049182892,-0.006405324675143,-0.120181657373905,-0.160593450069427,0.093708775937557,-0.021680537611246,0.109961114823818,0.041784275323153,0.047054693102837,0.026065584272146,-0.051616076380014,0.006467735394835,-0.009938661940396,-0.057478871196508));
res += mul(Get(s0,-dx,dy), float4x4(-0.036658741533756,0.007467918563634,0.158548668026924,-0.034414760768414,0.092480666935444,0.041039470583200,0.062720224261284,-0.032557614147663,0.042758408933878,-0.017257234081626,-0.046194177120924,0.015366583131254,0.033051833510399,-0.078560702502728,-0.181241139769554,0.032401069998741));
res += mul(Get(s0,0,-dy), float4x4(0.105080582201481,-0.091312743723392,-0.061608798801899,0.045970879495144,0.144376128911972,-0.095932245254517,0.130865707993507,0.010329512879252,-0.018380330875516,0.212334841489792,-0.096947446465492,-0.055559206753969,0.073380328714848,0.002437040908262,-0.039538543671370,0.248094767332077));
res += mul(Get(s0,0,0), float4x4(0.005247592926025,-0.036317382007837,-0.040297977626324,-0.129515781998634,0.028020018711686,0.035996261984110,0.002395674353465,-0.017510019242764,-0.092387273907661,0.043222140520811,0.032353401184082,0.083973601460457,0.023408051580191,0.018271949142218,-0.011894476599991,-0.064830288290977));
res += mul(Get(s0,0,dy), float4x4(-0.021079394966364,-0.005737273953855,0.036130506545305,0.070233024656773,0.021830078214407,0.065088309347630,-0.094246886670589,-0.063541360199451,-0.028848176822066,-0.034077119082212,0.066081225872040,0.090480551123619,0.055048037320375,-0.065212063491344,-0.118487246334553,-0.026333982124925));
res += mul(Get(s0,dx,-dy), float4x4(0.054027359932661,-0.018549544736743,-0.042640708386898,0.069572612643242,-0.106415130198002,0.048763290047646,-0.021819878369570,-0.006790420040488,-0.040671337395906,-0.026922749355435,-0.066917411983013,-0.118563517928123,0.107459016144276,-0.087207525968552,0.062888219952583,0.047462143003941));
res += mul(Get(s0,dx,0), float4x4(0.100492641329765,-0.011281713843346,0.004526159260422,0.070614449679852,-0.064027912914753,0.066929921507835,-0.091004550457001,0.074553541839123,0.038429159671068,-0.105191536247730,0.186071798205376,0.104439795017242,0.029993806034327,-0.027424741536379,0.062082238495350,-0.034330174326897));
res += mul(Get(s0,dx,dy), float4x4(0.050848424434662,0.008941047824919,0.069232530891895,0.085874199867249,0.177092358469963,0.018722541630268,-0.093344345688820,-0.029955528676510,0.023379176855087,-0.162642106413841,0.020138984546065,-0.044087555259466,-0.012317419052124,-0.050282947719097,-0.024302421137691,0.058792587369680));
res += mul(Get(s1,-dx,-dy), float4x4(-0.165895432233810,0.032506264746189,-0.129697769880295,-0.055144645273685,-0.024602007120848,0.023252412676811,0.087599396705627,-0.054214354604483,0.003150448203087,0.058448806405067,0.091947428882122,0.097526840865612,0.044194813817739,-0.104130476713181,-0.098030976951122,0.019131809473038));
res += mul(Get(s1,-dx,0), float4x4(-0.139341264963150,-0.011156992986798,0.016129883006215,-0.029372626915574,-0.078010886907578,0.028136590495706,0.258104294538498,-0.018680011853576,0.088153198361397,-0.075641147792339,-0.093879021704197,-0.073833458125591,0.084989100694656,-0.027890140190721,-0.183414697647095,0.059205718338490));
res += mul(Get(s1,-dx,dy), float4x4(0.019850019365549,-0.039051193743944,-0.117191851139069,0.061162400990725,0.006548667326570,-0.022901732474566,0.010687097907066,-0.008073099888861,-0.010385235771537,-0.002979196375236,-0.016531070694327,-0.039158366620541,-0.045039933174849,-0.028538683429360,-0.097826093435287,0.124330312013626));
res += mul(Get(s1,0,-dy), float4x4(-0.036047771573067,0.071885794401169,0.027739293873310,0.047865267843008,-0.038270406424999,0.030313326045871,0.011940590105951,-0.052549626678228,-0.115911342203617,0.039601329714060,-0.065151460468769,-0.100174613296986,0.096131503582001,-0.034342829138041,0.049651585519314,-0.021839063614607));
res += mul(Get(s1,0,0), float4x4(-0.077847659587860,-0.041287023574114,0.140298083424568,0.105361908674240,-0.044427435845137,-0.062901653349400,0.331363469362259,0.186510711908340,-0.084890253841877,0.081439301371574,-0.154473334550858,0.027206333354115,0.035819131880999,-0.062934264540672,0.170190557837486,0.211633890867233));
res += mul(Get(s1,0,dy), float4x4(-0.025554792955518,-0.041972566395998,-0.115308903157711,0.100216597318649,0.021879129111767,-0.095594972372055,0.146468713879585,0.057206198573112,0.063760638237000,0.076211243867874,-0.128472983837128,-0.029954517260194,0.030355365946889,-0.078007683157921,0.106994070112705,0.061322819441557));
res += mul(Get(s1,dx,-dy), float4x4(0.134195163846016,0.056768022477627,-0.170701354742050,-0.005028112791479,-0.020140519365668,0.011952591128647,-0.038516178727150,-0.001122354646213,-0.029190422967076,0.074705630540848,-0.076382592320442,-0.117794148623943,0.003715702798218,0.005013247020543,0.026487290859222,0.051192674785852));
res += mul(Get(s1,dx,0), float4x4(0.104768492281437,-0.023604156449437,-0.052810560911894,-0.072783492505550,0.002206671517342,-0.041599083691835,0.044755510985851,-0.001769287628122,0.066597454249859,0.054518580436707,0.205630764365196,0.041719105094671,0.047371022403240,0.014426873996854,0.021482570096850,-0.039370760321617));
res += mul(Get(s1,dx,dy), float4x4(0.056688237935305,-0.011070035398006,-0.080458827316761,-0.005142916459590,-0.030253704637289,0.053613658994436,0.014406234957278,-0.027968227863312,-0.022759487852454,0.017794257029891,0.054174065589905,0.015662182122469,0.183574020862579,0.041778814047575,-0.071166098117828,-0.045032940804958));
res += mul(Get(s2,-dx,-dy), float4x4(-0.191650703549385,-0.070429861545563,-0.044332746416330,-0.005839845165610,-0.037689231336117,0.081775113940239,-0.169914796948433,0.032208915799856,-0.040569368749857,-0.059711232781410,-0.042656369507313,-0.196377694606781,-0.080655567348003,-0.027368051931262,0.034057881683111,0.069096289575100));
res += mul(Get(s2,-dx,0), float4x4(-0.205947086215019,-0.035217136144638,-0.082891494035721,0.156409025192261,0.001586101716384,0.151034936308861,0.010146866552532,0.001357418252155,-0.051934618502855,-0.008060672320426,-0.106260821223259,-0.138114959001541,-0.145025804638863,-0.129471927881241,0.003134622704238,-0.016385080292821));
res += mul(Get(s2,-dx,dy), float4x4(-0.058769248425961,-0.026064077392220,-0.106810972094536,-0.015017270110548,-0.077199980616570,-0.003663762938231,-0.071017287671566,0.008641259744763,0.087907366454601,-0.003249397967011,-0.046114742755890,-0.025354605168104,0.170483246445656,-0.159008190035820,-0.081958070397377,0.058792777359486));
res += mul(Get(s2,0,-dy), float4x4(-0.147364094853401,-0.055788077414036,0.041783500462770,0.148751288652420,-0.008221974596381,-0.118221081793308,-0.002361891092733,-0.007354780100286,-0.076059244573116,-0.028480904176831,-0.058252349495888,0.004699606448412,0.157264575362206,-0.078717365860939,0.135012492537498,0.046430066227913));
res += mul(Get(s2,0,0), float4x4(-0.041432149708271,0.009933854453266,0.101041339337826,-0.091887474060059,0.031540837138891,-0.053706523030996,0.026593768969178,0.107688285410404,0.039519306272268,0.020083691924810,-0.092235699295998,0.227749302983284,-0.125059545040131,0.150583103299141,-0.037112765014172,-0.086615778505802));
res += mul(Get(s2,0,dy), float4x4(0.046802543103695,0.072924204170704,0.095165856182575,-0.080330066382885,0.036803651601076,0.007295389194041,0.032412420958281,-0.150385737419128,0.100589282810688,-0.118552058935165,0.026681713759899,0.033819839358330,-0.134715288877487,-0.056563626974821,-0.040840826928616,0.188190340995789));
res += mul(Get(s2,dx,-dy), float4x4(-0.014581635594368,-0.090114928781986,0.164207354187965,-0.060054417699575,0.139475286006927,-0.043883834034204,-0.029324119910598,0.020681746304035,0.199304416775703,0.014502161182463,0.004145038314164,0.029107816517353,-0.039422567933798,-0.106589116156101,-0.052263960242271,-0.037414785474539));
res += mul(Get(s2,dx,0), float4x4(-0.016213515773416,-0.060379587113857,0.023089308291674,-0.082043431699276,0.089671261608601,-0.021861128509045,-0.079034611582756,-0.063531711697578,0.159202873706818,-0.007375796325505,-0.000363552535418,-0.015523536130786,0.097786359488964,0.058339100331068,-0.089625321328640,-0.112310171127319));
res += mul(Get(s2,dx,dy), float4x4(-0.067163191735744,-0.008032592944801,-0.107248097658157,0.073427699506283,0.058758530765772,0.100851699709892,0.097099386155605,0.036017481237650,-0.086128681898117,0.008847611024976,0.066774345934391,-0.140400409698486,0.200006708502769,-0.085437767207623,0.069252565503120,-0.023780586197972));
res += mul(Get(s3,-dx,-dy), float4x4(-0.042664341628551,0.009397857822478,0.057919178158045,-0.115268602967262,-0.093600787222385,-0.052215345203876,-0.047943077981472,-0.103801444172859,-0.046669077128172,-0.004693461116403,0.008805613964796,0.069489486515522,0.049146041274071,0.069489896297455,0.101832181215286,-0.014547672122717));
res += mul(Get(s3,-dx,0), float4x4(-0.076027907431126,0.115075543522835,0.036692276597023,0.056886374950409,-0.083761692047119,-0.011224466376007,-0.011738612316549,0.060011487454176,-0.002325038425624,0.065345235168934,0.031629532575607,-0.140853360295296,0.138250038027763,-0.031037570908666,0.036591596901417,-0.079258278012276));
res += mul(Get(s3,-dx,dy), float4x4(-0.041462872177362,0.122602552175522,-0.071409709751606,-0.075173549354076,-0.034564692527056,0.130279004573822,-0.111149191856384,0.011610298417509,-0.107725381851196,0.009015142917633,0.058659736067057,-0.069094091653824,0.046685907989740,0.018403217196465,-0.001076374319382,0.010720988735557));
res += mul(Get(s3,0,-dy), float4x4(-0.119649305939674,-0.038843438029289,-0.041572950780392,0.176099434494972,-0.094308920204639,0.181228518486023,-0.131259113550186,0.065395511686802,-0.115039639174938,0.071816086769104,-0.009750200435519,-0.198733419179916,-0.143569722771645,-0.086468748748302,0.043231267482042,-0.040209073573351));
res += mul(Get(s3,0,0), float4x4(0.038381364196539,0.106105789542198,0.009826135821640,0.025780426338315,-0.077729590237141,-0.028609562665224,-0.153868541121483,0.053338520228863,-0.211757868528366,0.101897083222866,-0.087164282798767,0.084660120308399,0.039382752031088,-0.116961523890495,-0.073801726102829,-0.070462010800838));
res += mul(Get(s3,0,dy), float4x4(-0.063150495290756,0.145704090595245,-0.112882494926453,-0.070430018007755,0.015890909358859,0.064335219562054,-0.025172712281346,0.000297574442811,-0.115644067525864,-0.033777073025703,0.109976984560490,-0.137762695550919,-0.004546543117613,0.071053735911846,0.012233598157763,0.027671506628394));
res += mul(Get(s3,dx,-dy), float4x4(-0.007203413173556,-0.051591843366623,0.014536952599883,0.088681399822235,0.020924789831042,-0.088843800127506,-0.060006938874722,-0.062872469425201,0.043795209378004,0.027363063767552,-0.163108319044113,-0.093176364898682,-0.145007058978081,0.018844550475478,-0.050942692905664,-0.024986525997519));
res += mul(Get(s3,dx,0), float4x4(0.266167014837265,0.146371155977249,0.060189794749022,-0.191203370690346,-0.048088621348143,-0.035262219607830,-0.001002200529911,-0.075514413416386,0.170615836977959,-0.074880495667458,-0.059381701052189,0.212583974003792,-0.048620227724314,-0.093568995594978,-0.025408145040274,-0.007663717493415));
res += mul(Get(s3,dx,dy), float4x4(-0.045463453978300,-0.008614088408649,0.075249902904034,-0.133616000413895,-0.034734252840281,0.022905284538865,-0.075715295970440,-0.026091886684299,-0.038317032158375,0.102985329926014,0.196208491921425,-0.221051454544067,0.017599863931537,0.043268781155348,0.067493528127670,0.052707124501467));
return max(float4(0,0,0,0), res);
}
