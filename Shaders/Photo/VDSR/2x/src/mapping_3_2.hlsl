sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.017512748017907,0.029599180445075,-0.041587799787521,0.106676600873470,0.084239363670349,0.064517393708229,-0.012827264145017,0.000740313320421,0.208630159497261,0.126417830586433,-0.113250881433487,0.122081086039543,-0.059051066637039,0.038223877549171,-0.002892518416047,0.105594500899315));
res += mul(Get(s0,-dx,0), float4x4(0.093449316918850,0.067764818668365,-0.078632026910782,-0.128383383154869,0.049908943474293,0.033824697136879,-0.132152900099754,0.013330411165953,0.181672617793083,-0.028348982334137,0.033046800643206,-0.120378702878952,-0.054078053683043,-0.064851850271225,-0.024091253057122,0.070802859961987));
res += mul(Get(s0,-dx,dy), float4x4(0.016549086198211,0.119964361190796,0.123452752828598,0.173541203141212,0.056593511253595,-0.156451195478439,0.092541381716728,-0.006954992190003,-0.067644894123077,0.093975350260735,-0.101434588432312,0.045757692307234,-0.186581209301949,-0.001870257081464,0.076456248760223,0.070280715823174));
res += mul(Get(s0,0,-dy), float4x4(0.045429095625877,-0.020277267321944,-0.032694198191166,0.012145635671914,-0.160763323307037,0.106205679476261,-0.146815299987793,-0.137250304222107,-0.043667148798704,0.106341674923897,-0.041900120675564,-0.194014489650726,-0.033183820545673,-0.037366084754467,0.001827548607253,-0.108956173062325));
res += mul(Get(s0,0,0), float4x4(-0.163030594587326,-0.026908338069916,0.042187944054604,0.226555764675140,-0.054146155714989,-0.064306668937206,0.099034428596497,0.008443832397461,0.091604560613632,0.125955462455750,-0.169671729207039,-0.101482771337032,-0.127356037497520,0.000014149670278,-0.126073285937309,-0.019796740263700));
res += mul(Get(s0,0,dy), float4x4(0.119756110012531,-0.020376969128847,0.044612880796194,-0.085582651197910,-0.164952114224434,0.100703135132790,-0.010606902651489,0.050521384924650,-0.005987235344946,-0.117461189627647,0.084686532616615,-0.052731875330210,-0.077741764485836,0.153509303927422,-0.025000100955367,0.261784017086029));
res += mul(Get(s0,dx,-dy), float4x4(-0.031758043915033,-0.088541366159916,0.031116027384996,0.001302876742557,-0.067505821585655,-0.112299501895905,-0.011376129463315,0.032831925898790,0.051686007529497,-0.136095598340034,0.054332088679075,0.055527370423079,-0.055584825575352,-0.150067865848541,0.021240519359708,-0.195224598050117));
res += mul(Get(s0,dx,0), float4x4(0.114917926490307,-0.043826706707478,0.029144957661629,-0.106270484626293,-0.041525896638632,0.003834472969174,-0.003494321601465,-0.110650166869164,-0.028230972588062,0.021956276148558,0.259937316179276,-0.036705344915390,-0.058612957596779,0.060396660119295,-0.029841439798474,-0.241655826568604));
res += mul(Get(s0,dx,dy), float4x4(0.002995457965881,-0.033407308161259,-0.012326823547482,-0.057175591588020,0.122814275324345,0.015228508971632,-0.016754943877459,-0.033560767769814,0.018754532560706,0.043193217366934,-0.267536461353302,0.078076347708702,-0.085977964103222,-0.003315559821203,-0.054130572825670,-0.205843627452850));
res += mul(Get(s1,-dx,-dy), float4x4(0.058400060981512,0.038309611380100,0.084419593214989,-0.081791177392006,0.140197604894638,0.161426961421967,-0.010419621132314,0.004421812947839,-0.023292653262615,0.061279177665710,-0.024786600843072,0.101646319031715,-0.185958161950111,0.056380465626717,-0.258229464292526,0.029352867975831));
res += mul(Get(s1,-dx,0), float4x4(-0.113797813653946,0.171979844570160,-0.050926495343447,-0.090457774698734,0.055722534656525,-0.035611696541309,0.059449072927237,-0.090521119534969,-0.024414407089353,0.070384830236435,0.050153970718384,-0.020185386762023,0.038467712700367,0.044150635600090,0.091035306453705,0.051593348383904));
res += mul(Get(s1,-dx,dy), float4x4(0.005936392582953,0.095176286995411,-0.083107858896255,-0.311001569032669,-0.116602465510368,0.033988066017628,0.042796358466148,-0.116981744766235,-0.042857907712460,-0.049885202199221,0.034435205161572,-0.155469536781311,0.132614612579346,-0.000394518749090,0.032130874693394,0.041503258049488));
res += mul(Get(s1,0,-dy), float4x4(-0.075126945972443,0.175942629575729,-0.031533308327198,0.086730644106865,-0.077283740043640,0.148466289043427,-0.074391961097717,-0.104252360761166,0.181105002760887,0.121562659740448,-0.047925356775522,-0.041628584265709,-0.043421465903521,0.177059680223465,0.128233224153519,0.008203074336052));
res += mul(Get(s1,0,0), float4x4(0.077000029385090,0.008340926840901,0.059354692697525,-0.096068017184734,-0.011280097998679,0.124263666570187,-0.090613573789597,-0.063735984265804,-0.117915846407413,0.094256609678268,-0.022457158192992,0.028415365144610,-0.005337668117136,-0.010286145843565,-0.014496936462820,-0.086327157914639));
res += mul(Get(s1,0,dy), float4x4(0.019071787595749,0.192387402057648,-0.155133217573166,-0.048765677958727,-0.094405651092529,0.104151152074337,0.046420272439718,-0.125287264585495,-0.108378529548645,0.059913907200098,-0.054340984672308,0.053365997970104,0.055376131087542,-0.041443642228842,-0.046115800738335,-0.115889087319374));
res += mul(Get(s1,dx,-dy), float4x4(-0.097438335418701,-0.028635943308473,-0.063637353479862,0.031884733587503,-0.030250759795308,0.046217363327742,-0.063905015587807,0.103378362953663,-0.152581363916397,0.335664629936218,-0.088625490665436,0.199047133326530,0.325396627187729,0.038449410349131,-0.030648732557893,-0.097845330834389));
res += mul(Get(s1,dx,0), float4x4(0.002642153529450,-0.163133069872856,0.152359858155251,-0.190225675702095,0.002199129201472,0.034383859485388,0.142019674181938,-0.147316396236420,0.138600349426270,0.161673516035080,-0.102524839341640,0.063526168465614,0.098912708461285,-0.060876198112965,0.095893964171410,0.175218120217323));
res += mul(Get(s1,dx,dy), float4x4(-0.103250928223133,0.008416469208896,-0.181845217943192,0.161986082792282,-0.253573238849640,-0.020724978297949,-0.057616770267487,0.110235519707203,0.101339384913445,-0.011601340025663,0.149700224399567,0.255387067794800,-0.070255272090435,-0.004170957952738,0.004087821114808,0.026994280517101));
res += mul(Get(s2,-dx,-dy), float4x4(-0.081033490598202,0.127545997500420,0.212916895747185,-0.076324544847012,-0.107962891459465,0.129132717847824,0.072310514748096,-0.281215637922287,-0.199335381388664,0.114064015448093,0.105475261807442,-0.121629297733307,0.081184864044189,-0.136304348707199,-0.166082531213760,-0.104084320366383));
res += mul(Get(s2,-dx,0), float4x4(0.079148985445499,0.053267266601324,0.074858792126179,-0.106191895902157,-0.078314781188965,0.040077295154333,0.102260611951351,0.123774051666260,-0.192819461226463,0.001976976636797,0.095746420323849,0.017689259722829,-0.072863891720772,-0.078167110681534,-0.137247383594513,-0.064228668808937));
res += mul(Get(s2,-dx,dy), float4x4(-0.066721312701702,-0.042682379484177,-0.044944118708372,-0.017196679487824,0.051546406000853,0.037587098777294,0.030674554407597,-0.042110811918974,0.224587053060532,0.095798857510090,0.084431320428848,0.048597410321236,-0.163582906126976,-0.144445627927780,0.119348183274269,0.111474908888340));
res += mul(Get(s2,0,-dy), float4x4(0.140389293432236,0.152410030364990,-0.032590884715319,-0.091437980532646,0.043208021670580,0.146674484014511,0.034383721649647,-0.145020812749863,-0.010294211097062,-0.141800895333290,-0.031661182641983,0.128084301948547,-0.050641439855099,-0.121243812143803,-0.135947436094284,0.220111757516861));
res += mul(Get(s2,0,0), float4x4(-0.074795916676521,0.066810794174671,-0.061534948647022,0.012319661676884,0.017734760418534,0.055803220719099,-0.096597187221050,-0.035310227423906,0.107015721499920,-0.069651648402214,-0.031915958970785,-0.044126678258181,0.061761688441038,-0.023457439616323,0.157022804021835,-0.077040858566761));
res += mul(Get(s2,0,dy), float4x4(0.002335375174880,0.019893432036042,-0.053680852055550,0.012260198593140,-0.062040396034718,0.109442681074142,-0.097709812223911,-0.014949098229408,0.021581195294857,0.222585141658783,0.022935416549444,-0.023147884756327,-0.076672397553921,-0.037329088896513,0.010681217536330,-0.342512786388397));
res += mul(Get(s2,dx,-dy), float4x4(-0.127866759896278,-0.134106367826462,0.001442502718419,-0.065436117351055,-0.050180077552795,0.046012867242098,-0.105061762034893,0.139943897724152,-0.057665713131428,-0.051362663507462,-0.029733361676335,-0.022063326090574,0.069911032915115,0.002450349973515,-0.122136659920216,0.161112383008003));
res += mul(Get(s2,dx,0), float4x4(-0.041613180190325,0.133804976940155,0.111471325159073,-0.111972786486149,-0.063646592199802,0.142914474010468,-0.031141456216574,-0.037643656134605,-0.089865468442440,0.113909900188446,0.093514621257782,-0.015384972095490,-0.025337856262922,-0.225591525435448,0.051653176546097,-0.042814135551453));
res += mul(Get(s2,dx,dy), float4x4(-0.074084386229515,-0.055758941918612,-0.013522342778742,-0.071314997971058,0.060890872031450,0.034530721604824,-0.120695121586323,-0.022515414282680,0.026477519422770,-0.135530084371567,-0.078496128320694,-0.199008926749229,-0.094130001962185,-0.160078659653664,0.017435183748603,0.091359183192253));
res += mul(Get(s3,-dx,-dy), float4x4(-0.115790076553822,0.002567493123934,-0.205719426274300,-0.155034989118576,-0.239298701286316,0.057108726352453,0.048618603497744,0.120801538228989,0.091139674186707,0.061096131801605,-0.004216034896672,-0.023776222020388,-0.024533268064260,0.016402522101998,-0.006429997738451,-0.200854972004890));
res += mul(Get(s3,-dx,0), float4x4(0.076983116567135,-0.003784586209804,0.033127091825008,0.020282987505198,0.105589814484119,-0.108998745679855,0.069787092506886,-0.003526963759214,-0.319491803646088,-0.161763280630112,-0.151907041668892,0.050975617021322,0.249604627490044,-0.007943201810122,-0.130151271820068,-0.007057417184114));
res += mul(Get(s3,-dx,dy), float4x4(-0.061851490288973,0.012868530116975,-0.080694049596786,-0.213533565402031,0.046139538288116,-0.015919893980026,0.173066675662994,0.037225306034088,0.055493123829365,0.139714300632477,0.120101273059845,0.134363844990730,-0.024937568232417,-0.025695297867060,-0.001586872502230,0.002320803701878));
res += mul(Get(s3,0,-dy), float4x4(0.087854519486427,0.019720537588000,-0.180474892258644,0.081529445946217,0.099538974463940,-0.077956862747669,0.062405154109001,0.115900993347168,0.057889882475138,0.029656486585736,-0.019219523295760,-0.071131505072117,-0.116826228797436,-0.015712369233370,-0.102971769869328,0.023761590942740));
res += mul(Get(s3,0,0), float4x4(0.018219823017716,-0.098941922187805,-0.058017190545797,0.059554625302553,-0.052731491625309,-0.044807028025389,-0.013343442231417,-0.057791192084551,0.031524024903774,0.171900391578674,0.132076576352119,0.006529376842082,0.215557068586349,-0.082904800772667,-0.071537002921104,-0.088508777320385));
res += mul(Get(s3,0,dy), float4x4(0.012817896902561,-0.002133022062480,-0.000390391942346,0.019608857110143,0.066368147730827,0.077014833688736,-0.106566108763218,0.094031840562820,-0.182639062404633,-0.039647717028856,-0.031361680477858,-0.054266698658466,0.051345948129892,0.210661634802818,-0.035734266042709,-0.052190862596035));
res += mul(Get(s3,dx,-dy), float4x4(0.021857375279069,-0.010045334696770,-0.091410897672176,0.042444642633200,0.144635677337646,0.108327880501747,0.241967305541039,0.143928006291389,0.030903965234756,-0.136209473013878,0.000969637359958,0.153948485851288,0.003381728660315,-0.168794095516205,-0.045223280787468,0.066534750163555));
res += mul(Get(s3,dx,0), float4x4(-0.138565450906754,-0.059397000819445,-0.129197731614113,-0.045756563544273,-0.017876209691167,-0.101318128407001,0.148365944623947,-0.150623649358749,0.131474569439888,0.087310731410980,-0.045226845890284,0.076444000005722,-0.079601645469666,0.108106531202793,-0.127262681722641,0.172093808650970));
res += mul(Get(s3,dx,dy), float4x4(-0.090480022132397,-0.184503242373466,0.143421769142151,-0.037627324461937,0.091552749276161,-0.033028222620487,-0.114635348320007,-0.061327122151852,0.045005470514297,-0.018497956916690,0.111378416419029,-0.020449081435800,0.030204201117158,-0.117774404585361,0.024550421163440,-0.036295413970947));
return max(float4(0,0,0,0), res);
}
