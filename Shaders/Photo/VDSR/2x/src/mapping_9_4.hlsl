sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.121298655867577,0.033785041421652,0.001144524314441,0.081358402967453,0.128966212272644,0.055336084216833,-0.067985184490681,-0.091556988656521,0.153657838702202,0.121847093105316,-0.020567765459418,0.058485258370638,0.005911585874856,-0.024032579734921,0.093309298157692,0.008807981386781));
res += mul(Get(s0,-dx,0), float4x4(-0.070968255400658,-0.084414236247540,0.077073514461517,-0.071765802800655,0.077600471675396,-0.017940089106560,0.027688786387444,0.021043216809630,0.022558417171240,0.067559011280537,-0.054351028054953,0.007863787002861,-0.093126617372036,-0.008216177113354,0.009041008539498,-0.014367152005434));
res += mul(Get(s0,-dx,dy), float4x4(-0.024747932329774,0.054373975843191,0.123228207230568,-0.027891496196389,0.133591473102570,-0.045417971909046,-0.094380713999271,0.098035924136639,-0.021494584158063,-0.029410630464554,-0.014872123487294,-0.072921469807625,-0.132297009229660,0.022874910384417,0.005373436491936,0.011135794222355));
res += mul(Get(s0,0,-dy), float4x4(-0.122504249215126,0.005017169285566,0.066577814519405,-0.016101002693176,0.037972696125507,-0.019079376012087,-0.058782052248716,-0.076897606253624,0.022812498733401,0.068216875195503,0.012391452677548,0.048894554376602,-0.086278147995472,-0.134552836418152,0.097857788205147,0.076562181115150));
res += mul(Get(s0,0,0), float4x4(-0.031295519322157,-0.081827715039253,0.006150117143989,0.043133314698935,-0.058555673807859,-0.065883129835129,0.165058270096779,-0.008824354037642,-0.061019226908684,-0.008061468601227,-0.088798120617867,-0.038024123758078,-0.001787761924788,-0.045646674931049,0.186226055026054,0.012983636930585));
res += mul(Get(s0,0,dy), float4x4(0.014845529571176,0.040256913751364,-0.125312343239784,-0.023936325684190,-0.007449673954397,-0.018100725486875,-0.139807194471359,-0.015971723943949,-0.027274262160063,0.007732245139778,-0.079699158668518,-0.035881865769625,0.041024297475815,0.039327584207058,0.042289447039366,-0.026607675477862));
res += mul(Get(s0,dx,-dy), float4x4(-0.081348165869713,0.066230520606041,0.130797848105431,-0.036164689809084,0.092869132757187,0.110667608678341,-0.075544185936451,-0.052814956754446,-0.018187841400504,0.005964819341898,0.099796392023563,0.042909592390060,-0.077094539999962,-0.094345465302467,-0.004977469798177,-0.046948265284300));
res += mul(Get(s0,dx,0), float4x4(-0.110145784914494,-0.089724451303482,0.047978572547436,-0.001689782831818,-0.019877934828401,0.011364690959454,0.059053219854832,-0.071322076022625,-0.059222698211670,-0.062040422111750,-0.055901076644659,0.077078938484192,-0.007574981544167,-0.210540249943733,0.080342032015324,-0.073815368115902));
res += mul(Get(s0,dx,dy), float4x4(-0.046555742621422,0.046090088784695,0.024596931412816,-0.007899657823145,-0.036391142755747,0.060688063502312,-0.027970382943749,0.059348639100790,0.014500413089991,-0.026963330805302,-0.023755630478263,-0.036542028188705,-0.030910694971681,-0.016967637464404,0.038863681256771,-0.022296715527773));
res += mul(Get(s1,-dx,-dy), float4x4(-0.019920008257031,0.051832612603903,0.125489279627800,0.138795018196106,-0.042627085000277,0.010522115044296,0.021010274067521,0.075029037892818,0.076864324510098,0.041476391255856,-0.080627545714378,0.010154037736356,0.032046563923359,0.007931255735457,-0.002404400380328,0.081101551651955));
res += mul(Get(s1,-dx,0), float4x4(0.021000700071454,0.091166660189629,-0.069429300725460,-0.030484231188893,-0.059262756258249,-0.077222771942616,-0.132230877876282,0.076082669198513,0.052701670676470,-0.029028888791800,0.097208671271801,0.041058480739594,0.112419359385967,-0.012938186526299,0.070602558553219,-0.007523868698627));
res += mul(Get(s1,-dx,dy), float4x4(-0.110002815723419,0.084427453577518,-0.035597175359726,-0.027445608749986,0.016484610736370,-0.041768580675125,0.032439373433590,0.064317271113396,0.032342236489058,-0.006224909797311,0.064537823200226,-0.089539088308811,0.043965976685286,-0.002388419816270,0.050656698644161,-0.048431295901537));
res += mul(Get(s1,0,-dy), float4x4(-0.057191628962755,-0.127809479832649,0.156541272997856,0.115188904106617,-0.066705711185932,-0.077252238988876,0.190109118819237,-0.013852612115443,-0.062953107059002,0.105333134531975,-0.055176440626383,-0.017124900594354,0.126638457179070,0.047340881079435,-0.027800278738141,0.160761117935181));
res += mul(Get(s1,0,0), float4x4(-0.045608196407557,-0.066001281142235,-0.003864351427183,-0.074616007506847,0.299415528774261,-0.016001688316464,-0.030918993055820,0.260883092880249,0.071684882044792,-0.104872487485409,0.081619612872601,0.076944790780544,-0.027776466682553,0.018660692498088,0.045404404401779,-0.009461274370551));
res += mul(Get(s1,0,dy), float4x4(-0.062257815152407,-0.055097799748182,0.108303211629391,0.047662839293480,-0.043790321797132,-0.107672147452831,0.002931082155555,0.044194918125868,0.157770901918411,-0.078958116471767,-0.077974714338779,-0.070601776242256,0.076564237475395,0.197497755289078,0.160359904170036,-0.009674462489784));
res += mul(Get(s1,dx,-dy), float4x4(-0.088197834789753,0.097936213016510,0.039833597838879,0.080255903303623,0.031970344483852,-0.079170659184456,0.066623620688915,0.063968636095524,-0.010359099134803,-0.001100415131077,-0.005990760400891,0.081391409039497,-0.021271528676152,-0.123870857059956,-0.009158384054899,0.000623778556474));
res += mul(Get(s1,dx,0), float4x4(-0.133989542722702,0.115128077566624,-0.150607913732529,0.001152561628260,0.015414253808558,-0.060557715594769,-0.005064097698778,0.034064099192619,0.067002519965172,-0.106217332184315,-0.095664121210575,0.035926394164562,0.034842066466808,-0.036523278802633,-0.071324273943901,-0.020067481324077));
res += mul(Get(s1,dx,dy), float4x4(-0.212544351816177,0.019687967374921,0.038751371204853,-0.047519303858280,-0.054277122020721,-0.058188773691654,-0.098370127379894,-0.034323260188103,0.074577398598194,-0.216045096516609,-0.088138535618782,0.056271795183420,0.050797238945961,0.041332881897688,0.044971000403166,0.014485090970993));
res += mul(Get(s2,-dx,-dy), float4x4(0.064263455569744,0.009047251194715,-0.001754819415510,0.046817168593407,0.072485886514187,0.011664313264191,-0.153252676129341,0.085343800485134,0.011511147953570,-0.043289691209793,-0.071314193308353,-0.081326037645340,0.012854486703873,-0.069248951971531,0.059843342751265,-0.009340126067400));
res += mul(Get(s2,-dx,0), float4x4(-0.010723548009992,-0.002156740985811,0.071480296552181,0.116538740694523,0.001807548920624,0.042503617703915,-0.036141332238913,-0.133287921547890,0.006181204691529,0.012703506276011,-0.029232300817966,-0.014142898842692,0.009687262587249,0.037106584757566,0.051775235682726,-0.026924671605229));
res += mul(Get(s2,-dx,dy), float4x4(-0.150818392634392,-0.034560482949018,0.058990832418203,0.064773797988892,0.118979133665562,-0.006808820646256,-0.002239305758849,-0.031124383211136,0.001590777072124,0.002842554124072,0.020119266584516,-0.041750267148018,0.046014443039894,0.018765633925796,-0.106792926788330,0.001391216181219));
res += mul(Get(s2,0,-dy), float4x4(-0.019405001774430,0.001764640212059,0.009446236304939,0.033938240259886,0.008414196781814,-0.058063913136721,-0.097027882933617,-0.031200038269162,0.027031380683184,0.180190995335579,0.105613894760609,-0.105494022369385,0.046296931803226,-0.050577670335770,-0.049697969108820,0.051476556807756));
res += mul(Get(s2,0,0), float4x4(-0.045575432479382,-0.054011750966311,0.083654411137104,0.099259257316589,0.041102539747953,0.057914521545172,0.066842734813690,-0.084175348281860,0.132663354277611,0.195539996027946,-0.148791879415512,0.019742935895920,-0.010809506289661,0.085329927504063,0.049397941678762,0.054020285606384));
res += mul(Get(s2,0,dy), float4x4(-0.023942518979311,0.025809723883867,0.107234843075275,-0.012854153290391,0.057391170412302,0.025702971965075,-0.094922631978989,0.016114247962832,0.171593755483627,-0.062822073698044,-0.028797084465623,0.040663059800863,0.000221166803385,0.059998307377100,0.028751531615853,-0.076603412628174));
res += mul(Get(s2,dx,-dy), float4x4(0.020433822646737,-0.081824764609337,0.060751009732485,-0.036274459213018,0.015036648139358,-0.036488249897957,-0.092465646564960,0.027946447953582,0.073507174849510,0.092150203883648,-0.039116904139519,0.064739026129246,-0.050294660031796,-0.028733665123582,-0.123267225921154,-0.027003413066268));
res += mul(Get(s2,dx,0), float4x4(0.039948180317879,0.001935198670253,0.028973560780287,0.037623755633831,-0.040792550891638,-0.014580071903765,-0.022664323449135,-0.013274606317282,-0.032864373177290,0.051608581095934,0.086166650056839,-0.007675257045776,0.046007890254259,0.023416867479682,0.010302256792784,-0.013536807149649));
res += mul(Get(s2,dx,dy), float4x4(0.120115190744400,-0.060188189148903,0.177734807133675,-0.097102381289005,0.056210990995169,-0.031039236113429,-0.081282727420330,0.013739860616624,-0.056722018867731,0.020404143258929,0.045290939509869,-0.069462262094021,0.086177490651608,0.050389382988214,-0.077845677733421,-0.016068195924163));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000000930236070,0.054629139602184,-0.085106626152992,-0.024190917611122,0.020622050389647,-0.021743338555098,-0.079268552362919,0.026815410703421,-0.083455137908459,0.034900348633528,-0.062012877315283,-0.047687664628029,0.040483675897121,0.140422105789185,-0.086280822753906,-0.086653254926205));
res += mul(Get(s3,-dx,0), float4x4(0.006699278019369,-0.057490043342113,-0.060803893953562,-0.141584739089012,-0.013872955925763,0.024022264406085,-0.027092676609755,0.027856502681971,-0.028313625603914,0.028706466779113,-0.105861999094486,0.117943398654461,-0.004676128737628,-0.001698089530692,-0.124687418341637,0.012174676172435));
res += mul(Get(s3,-dx,dy), float4x4(0.118189312517643,-0.021351376548409,0.000268921401585,-0.134193405508995,-0.015107231214643,-0.028299694880843,0.018806016072631,0.178649291396141,0.046826854348183,0.039303701370955,0.102680034935474,-0.037705916911364,0.007152447476983,-0.014150537550449,-0.043712779879570,-0.014508549124002));
res += mul(Get(s3,0,-dy), float4x4(-0.029946291819215,-0.007505625486374,-0.024111723527312,-0.079370751976967,0.021980352699757,0.027798548340797,0.005344011355191,-0.047601468861103,0.075655832886696,0.115349166095257,-0.026497816666961,-0.084612160921097,0.024303883314133,0.111795239150524,-0.034631840884686,-0.032822571694851));
res += mul(Get(s3,0,0), float4x4(0.080620981752872,0.076926566660404,-0.037916116416454,-0.085196599364281,-0.025454208254814,0.083143524825573,-0.050982348620892,0.018101336434484,0.064745642244816,0.046823814511299,-0.036053936928511,0.045181822031736,-0.038304656744003,-0.002398740267381,-0.067603088915348,-0.078769266605377));
res += mul(Get(s3,0,dy), float4x4(-0.150073766708374,0.254842728376389,-0.012667243368924,-0.108809128403664,0.037812948226929,-0.086537674069405,0.018304163590074,0.131404265761375,-0.051401183009148,-0.050148159265518,0.116039283573627,-0.004634760785848,-0.016373850405216,-0.037668049335480,-0.018723912537098,0.054258991032839));
res += mul(Get(s3,dx,-dy), float4x4(0.020563077181578,0.025469360873103,0.025800636038184,-0.013582026585937,-0.017782792448997,-0.049712479114532,-0.061796382069588,-0.027603128924966,-0.042242370545864,-0.058976251631975,-0.105329930782318,-0.061636578291655,0.008152337744832,0.173131540417671,-0.043526116758585,0.079194299876690));
res += mul(Get(s3,dx,0), float4x4(0.057868693023920,0.012727073393762,-0.003753552446142,-0.139389351010323,-0.090141348540783,-0.047606192529202,0.000455143192085,-0.079616487026215,-0.095650061964989,-0.047248903661966,0.022382734343410,-0.008608152158558,0.043721947818995,0.056900553405285,-0.031547419726849,0.032092213630676));
res += mul(Get(s3,dx,dy), float4x4(-0.076485335826874,0.200907796621323,-0.062997147440910,-0.020792754366994,0.089926905930042,-0.111763633787632,0.032597023993731,0.004380215425044,0.043658144772053,0.022689027711749,0.021249463781714,-0.036441214382648,0.052066229283810,-0.007174485363066,0.019938483834267,-0.054187614470720));
return max(float4(0,0,0,0), res);
}
