sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.024574847891927,-0.217124730348587,-0.160087794065475,-0.023895440623164,-0.296680212020874,-0.113514445722103,-0.063377887010574,0.223820194602013,-0.165394797921181,-0.082759492099285,0.048097312450409,0.012522912584245,0.005962728057057,-0.173804789781570,0.101755619049072,0.092438131570816));
res += mul(Get(s0,-dx,0), float4x4(0.106017328798771,-0.212016701698303,0.008627031929791,-0.045302033424377,-0.154115214943886,-0.276625037193298,0.027380986139178,0.255660235881805,0.095356971025467,-0.129988491535187,0.135915905237198,-0.058817028999329,0.153461411595345,-0.178152546286583,0.014069304801524,0.046063445508480));
res += mul(Get(s0,-dx,dy), float4x4(-0.067894220352173,0.125010102987289,-0.155446231365204,0.096249468624592,-0.017226940020919,0.016648357734084,-0.044354312121868,0.155082896351814,-0.055892575532198,0.092434309422970,-0.137126505374908,0.042265616357327,0.070453621447086,-0.046331845223904,-0.010919889435172,-0.101866498589516));
res += mul(Get(s0,0,-dy), float4x4(0.054104030132294,0.009581189602613,-0.175800666213036,-0.040111087262630,0.319910407066345,-0.136272966861725,-0.005432805977762,-0.033352985978127,-0.036860175430775,-0.077685430645943,-0.037759404629469,0.054592881351709,-0.092358738183975,0.029006166383624,0.011600969359279,0.024774080142379));
res += mul(Get(s0,0,0), float4x4(-0.116990864276886,0.115644320845604,0.133324459195137,0.019323511049151,0.039193615317345,-0.031338181346655,0.157322943210602,-0.056482635438442,0.067097105085850,-0.057331316173077,0.104261070489883,-0.098415121436119,-0.061124183237553,-0.154570788145065,-0.243987590074539,0.263248503208160));
res += mul(Get(s0,0,dy), float4x4(-0.158692538738251,-0.014982558786869,0.027687674388289,-0.064290277659893,0.191057205200195,-0.082204073667526,-0.086865730583668,0.102547340095043,-0.248176559805870,0.083988443017006,0.147948220372200,-0.151165634393692,-0.040414962917566,-0.125473961234093,-0.000331722694682,0.120971716940403));
res += mul(Get(s0,dx,-dy), float4x4(0.121267631649971,0.004419045057148,-0.114192187786102,0.104386419057846,0.028906578198075,0.127816826105118,-0.065238393843174,-0.174268066883087,-0.046551629900932,0.001487026689574,-0.000649124791380,0.086781024932861,-0.098687425255775,-0.086524635553360,-0.104179218411446,-0.059257488697767));
res += mul(Get(s0,dx,0), float4x4(0.157237827777863,-0.041996654123068,0.180307164788246,-0.000647010921966,-0.146071568131447,0.306446641683578,-0.183702483773232,-0.077595502138138,-0.032112110406160,0.134738042950630,0.178695499897003,-0.021483814343810,0.106392487883568,0.126771926879883,0.023065412417054,-0.190326958894730));
res += mul(Get(s0,dx,dy), float4x4(-0.198955446481705,-0.162941187620163,-0.061827588826418,-0.009453223086894,-0.011228756047785,0.068480201065540,0.035257473587990,-0.115179345011711,0.071366488933563,-0.003836664138362,0.107223749160767,0.196274042129517,0.064055964350700,0.020817730575800,-0.065119646489620,0.031654261052608));
res += mul(Get(s1,-dx,-dy), float4x4(-0.058012999594212,-0.124710023403168,-0.069461435079575,0.111371591687202,0.092681862413883,-0.014637923799455,-0.031021757051349,-0.035148035734892,-0.152469381690025,-0.088148444890976,-0.137616127729416,0.024463323876262,0.029210701584816,-0.117145366966724,0.118807524442673,0.015424354933202));
res += mul(Get(s1,-dx,0), float4x4(0.011720155365765,-0.174061238765717,-0.161280587315559,-0.052471756935120,0.017905522137880,0.111440822482109,0.003297468181700,-0.105541102588177,-0.020054033026099,-0.054219320416451,-0.043272219598293,-0.039641991257668,0.081948116421700,0.103333108127117,0.155025586485863,-0.016487313434482));
res += mul(Get(s1,-dx,dy), float4x4(0.011608978733420,0.083407349884510,0.004066738765687,-0.251879513263702,0.077528722584248,-0.065616972744465,0.073984883725643,-0.060657460242510,-0.049373760819435,-0.033472701907158,-0.006597398780286,0.112675279378891,0.013568855822086,0.040813911706209,-0.158209487795830,0.039870239794254));
res += mul(Get(s1,0,-dy), float4x4(0.052363190799952,0.146201625466347,0.006895730271935,0.038561169058084,-0.003678101813421,0.175617337226868,-0.055476311594248,0.057087879627943,-0.030449496582150,-0.033595442771912,0.003979439381510,0.136291161179543,-0.047240305691957,0.109010331332684,0.087271668016911,0.008037804625928));
res += mul(Get(s1,0,0), float4x4(-0.015814900398254,-0.116419322788715,-0.117916755378246,0.025998212397099,-0.064881555736065,0.074884101748466,-0.109613955020905,-0.052918419241905,-0.052120823413134,0.104518227279186,-0.028602808713913,0.012414992786944,-0.077795453369617,0.056568555533886,-0.020191285759211,0.226261094212532));
res += mul(Get(s1,0,dy), float4x4(0.061447337269783,0.048707321286201,-0.039651520550251,-0.039908096194267,0.041830528527498,-0.199363410472870,-0.133626922965050,0.110095754265785,-0.164416030049324,-0.130572050809860,0.019127519801259,-0.003874827874824,0.031800404191017,-0.031627729535103,0.020719211548567,0.187225073575974));
res += mul(Get(s1,dx,-dy), float4x4(-0.002619178034365,0.023896370083094,-0.051003172993660,0.063434481620789,-0.059026103466749,-0.041071381419897,0.015013737604022,-0.026354484260082,0.005844251718372,0.065521195530891,0.052057318389416,-0.034443669021130,-0.072436638176441,-0.068407714366913,0.213976621627808,-0.032212387770414));
res += mul(Get(s1,dx,0), float4x4(-0.016461970284581,0.043145809322596,-0.131815463304520,-0.013340913690627,-0.039336770772934,0.130645066499710,0.087042368948460,0.026850694790483,-0.197780117392540,0.055530950427055,0.205880180001259,-0.106404483318329,-0.240036904811859,-0.108535878360271,0.082474820315838,-0.138746634125710));
res += mul(Get(s1,dx,dy), float4x4(0.057951677590609,-0.204254314303398,0.084157675504684,-0.036314450204372,0.096374794840813,-0.017486324533820,0.158134132623672,0.177600309252739,-0.053411405533552,-0.000724754354451,0.192128881812096,0.115354895591736,-0.119048357009888,0.055657960474491,0.221757814288139,-0.236914470791817));
res += mul(Get(s2,-dx,-dy), float4x4(0.208788424730301,0.040445707738400,-0.012886442244053,-0.118980586528778,0.013194921426475,0.043554343283176,-0.147637963294983,0.033771939575672,-0.245684310793877,-0.059952635318041,0.103985570371151,0.194131746888161,0.043020274490118,-0.170718550682068,0.014489522203803,0.055489860475063));
res += mul(Get(s2,-dx,0), float4x4(0.162230089306831,0.003729006508365,0.114677518606186,0.058128580451012,0.107529982924461,0.010384238325059,0.028667761012912,0.045774549245834,-0.098265834152699,0.087739132344723,-0.016101565212011,0.027118951082230,0.006884249858558,-0.031886287033558,-0.076103620231152,-0.076332494616508));
res += mul(Get(s2,-dx,dy), float4x4(-0.143807470798492,0.045699298381805,0.061405658721924,0.123206198215485,-0.021011145785451,0.127455860376358,-0.118490524590015,0.050475731492043,0.074107989668846,0.077838100492954,-0.102383375167847,0.221162736415863,0.066286146640778,-0.050857655704021,-0.005937341600657,-0.018980270251632));
res += mul(Get(s2,0,-dy), float4x4(0.137229651212692,0.106904298067093,-0.064115889370441,0.026463374495506,-0.047701627016068,0.123078815639019,0.114208005368710,-0.100944131612778,0.185391932725906,-0.066801771521568,0.159352287650108,-0.219567358493805,-0.018925165757537,0.170409873127937,0.003360135480762,0.157006800174713));
res += mul(Get(s2,0,0), float4x4(-0.193484753370285,-0.148022890090942,0.013401074334979,0.135123416781425,0.030417136847973,-0.009104362688959,0.017454916611314,-0.236872389912605,0.232383966445923,-0.068500772118568,-0.145119607448578,-0.093130186200142,-0.021486433222890,-0.001372179947793,-0.028261965140700,-0.073625691235065));
res += mul(Get(s2,0,dy), float4x4(0.064701780676842,0.048342946916819,0.099994346499443,-0.062413625419140,0.049738179892302,-0.011127440258861,-0.011355859227479,-0.094991944730282,0.227659970521927,0.043453317135572,-0.167759105563164,-0.190549090504646,0.251213848590851,-0.004433212801814,0.166462332010269,0.048559144139290));
res += mul(Get(s2,dx,-dy), float4x4(-0.017437787726521,0.042852040380239,-0.127250403165817,0.060487508773804,0.151036337018013,0.110320538282394,0.111270785331726,-0.096856303513050,-0.063989847898483,-0.092395760118961,0.067549876868725,0.032048478722572,0.105833798646927,0.026358492672443,-0.040690008550882,-0.085739031434059));
res += mul(Get(s2,dx,0), float4x4(0.070789076387882,0.098031826317310,0.087671346962452,0.033505741506815,-0.007944649085402,0.119030743837357,0.005850824993104,-0.037570137530565,-0.145466282963753,-0.099609717726707,-0.019718719646335,-0.111378967761993,-0.106991872191429,0.035747312009335,-0.028732627630234,-0.332094132900238));
res += mul(Get(s2,dx,dy), float4x4(0.112890757620335,-0.144000440835953,-0.168304055929184,0.038531631231308,0.064067378640175,-0.131202295422554,-0.159505560994148,-0.158800259232521,-0.091390848159790,-0.135164499282837,0.057093597948551,-0.150340557098389,0.176447823643684,-0.051245238631964,-0.095008805394173,-0.061599057167768));
res += mul(Get(s3,-dx,-dy), float4x4(-0.148858621716499,0.049620583653450,0.073078237473965,0.004139923956245,-0.164134576916695,0.122633010149002,0.140295132994652,0.038270656019449,0.054772265255451,0.222537130117416,0.062044817954302,0.039014101028442,-0.143201217055321,-0.027389293536544,0.117041707038879,0.054692991077900));
res += mul(Get(s3,-dx,0), float4x4(-0.035363387316465,0.000681313103996,-0.039971537888050,-0.002902310341597,0.054352730512619,0.016072288155556,0.099110782146454,-0.035371743142605,0.162785604596138,0.139304459095001,0.044376805424690,-0.089477099478245,0.061943273991346,0.017722051590681,-0.099458768963814,0.035314958542585));
res += mul(Get(s3,-dx,dy), float4x4(0.066058941185474,-0.022415347397327,0.004065119661391,0.235041916370392,-0.089739531278610,-0.001892506959848,-0.080346219241619,-0.051175814121962,0.109626963734627,-0.002449079183862,-0.023595253005624,0.091682724654675,0.014818801544607,0.018985915929079,-0.088609054684639,-0.197060406208038));
res += mul(Get(s3,0,-dy), float4x4(0.137940138578415,0.054958138614893,0.041183248162270,-0.148136049509048,0.173016875982285,-0.103545255959034,0.019949134439230,-0.103480614721775,-0.124256707727909,-0.039557825773954,0.065853796899319,0.200620219111443,-0.153345122933388,-0.004483869299293,-0.205701664090157,-0.032705575227737));
res += mul(Get(s3,0,0), float4x4(0.068362385034561,-0.023962175473571,0.079110443592072,-0.134399533271790,0.159015640616417,-0.270048797130585,0.067189976572990,-0.088763877749443,0.054064895957708,0.013465042226017,0.059810649603605,-0.004511666484177,0.096774488687515,0.073615111410618,-0.012681995518506,-0.029200125485659));
res += mul(Get(s3,0,dy), float4x4(0.056407153606415,-0.131297871470451,-0.027028126642108,0.060474850237370,0.017113266512752,0.071940116584301,0.058262933045626,0.018200213089585,0.067032188177109,0.230451151728630,-0.062148623168468,0.064718551933765,-0.045968424528837,0.027924243360758,0.080370940268040,-0.143924564123154));
res += mul(Get(s3,dx,-dy), float4x4(-0.047537360340357,0.119348339736462,0.009004645980895,-0.056294608861208,0.146720871329308,0.080932013690472,-0.072103887796402,0.049989037215710,0.163509950041771,-0.003094538347796,-0.025294004008174,0.118604995310307,0.187698498368263,-0.100510701537132,0.109604172408581,0.097681768238544));
res += mul(Get(s3,dx,0), float4x4(0.046971354633570,0.003320654621348,0.097596451640129,-0.057195499539375,-0.208134576678276,-0.012308168224990,-0.150495961308479,-0.091669499874115,0.008743847720325,-0.081631489098072,-0.041968852281570,0.038304064422846,0.252692550420761,0.087393358349800,0.135214358568192,0.147676676511765));
res += mul(Get(s3,dx,dy), float4x4(-0.194729149341583,0.011447146534920,0.023470146581531,-0.076734416186810,-0.068181864917278,-0.021928433328867,-0.042986422777176,-0.090674459934235,-0.019815443083644,0.018618207424879,-0.128894791007042,0.137132138013840,0.005159779917449,-0.087598964571953,-0.134736508131027,0.196872889995575));
return max(float4(0,0,0,0), res);
}
