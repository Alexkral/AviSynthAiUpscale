sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.056466251611710,-0.008786403574049,0.138275042176247,-0.017154019325972,-0.124971427023411,-0.010844469070435,-0.013186466880143,0.022994739934802,-0.146644175052643,-0.035104848444462,-0.210492968559265,0.075570493936539,-0.121104903519154,-0.234410583972931,0.015298963524401,0.035222060978413));
res += mul(Get(s0,-dx,0), float4x4(-0.097240194678307,-0.148759678006172,-0.151000648736954,0.099820502102375,0.012020446360111,0.028947999700904,-0.056118819862604,0.045248869806528,0.125371024012566,-0.126250833272934,0.114103123545647,0.016484584659338,-0.006947248242795,-0.075261592864990,0.071675233542919,0.038995046168566));
res += mul(Get(s0,-dx,dy), float4x4(0.019191132858396,-0.038584325462580,0.096984237432480,-0.119275443255901,0.031026935204864,-0.065617948770523,-0.204431384801865,0.101703174412251,0.046470150351524,-0.038580507040024,0.070179954171181,0.133616551756859,0.095390886068344,0.223946258425713,-0.076609306037426,0.042120330035686));
res += mul(Get(s0,0,-dy), float4x4(0.085438482463360,-0.003746908158064,-0.054144792258739,-0.115191347897053,0.105140835046768,-0.065147176384926,0.027919761836529,0.063602730631828,-0.014415796846151,-0.069674476981163,-0.039613816887140,0.105549454689026,-0.116206839680672,0.016249848529696,0.040945105254650,0.130502253770828));
res += mul(Get(s0,0,0), float4x4(-0.023456985130906,0.093331597745419,0.133072137832642,-0.218276813626289,0.014414234086871,-0.026969213038683,-0.011418434791267,0.066401295363903,0.087604746222496,-0.030228372663260,0.031407538801432,-0.225237488746643,0.176922217011452,-0.015494087710977,0.033285703510046,-0.078817740082741));
res += mul(Get(s0,0,dy), float4x4(0.069334059953690,-0.027926208451390,0.122833050787449,-0.055935185402632,-0.041241183876991,-0.063794016838074,0.010039866901934,0.020914506167173,0.001829785294831,-0.174899742007256,0.026336969807744,0.103443779051304,0.024643484503031,0.075367771089077,-0.084963321685791,-0.046879071742296));
res += mul(Get(s0,dx,-dy), float4x4(0.032561294734478,-0.179385691881180,0.044699471443892,-0.120467767119408,0.031390625983477,0.030541334301233,0.071858339011669,0.054037515074015,-0.130588978528976,-0.049002181738615,0.035359293222427,0.035537637770176,0.181801289319992,0.009841009043157,0.046750541776419,-0.034542631357908));
res += mul(Get(s0,dx,0), float4x4(0.006553562823683,-0.023329468443990,0.103569172322750,0.079275228083134,-0.096426345407963,-0.136206209659576,-0.002208108082414,0.076916225254536,0.075531475245953,-0.055699888616800,-0.014766331762075,0.087242074310780,0.099123857915401,0.104737870395184,-0.015065493062139,-0.006691885646433));
res += mul(Get(s0,dx,dy), float4x4(-0.139277264475822,-0.122951179742813,0.001403777860105,-0.219038680195808,0.048188168555498,-0.084566384553909,-0.052332751452923,0.010377692990005,0.073284678161144,-0.046123016625643,0.080551467835903,0.113920807838440,-0.087205581367016,0.037386648356915,-0.083059951663017,-0.018563630059361));
res += mul(Get(s1,-dx,-dy), float4x4(0.033621303737164,-0.034928526729345,0.147364273667336,0.052287377417088,0.065610162913799,-0.014143287204206,0.143912896513939,0.082368351519108,0.120084762573242,-0.004150160122663,-0.039576791226864,-0.179198354482651,-0.009095882996917,-0.127021789550781,0.018793359398842,0.129785969853401));
res += mul(Get(s1,-dx,0), float4x4(-0.161287412047386,-0.006272486411035,0.187117442488670,-0.003945859149098,0.177765980362892,-0.056657344102859,-0.142552331089973,-0.069726817309856,0.001380619709380,-0.042912244796753,0.032442916184664,0.073241144418716,-0.058499559760094,0.014155629090965,-0.091742470860481,0.160913199186325));
res += mul(Get(s1,-dx,dy), float4x4(-0.113103181123734,-0.154801279306412,0.144907683134079,0.084637172520161,0.092782020568848,0.196739122271538,-0.034940470010042,-0.054625719785690,0.056068919599056,0.017279179766774,-0.027046455070376,-0.049648158252239,-0.019622931256890,0.033822838217020,-0.058259669691324,0.033108074218035));
res += mul(Get(s1,0,-dy), float4x4(0.115193419158459,0.044704947620630,-0.031530644744635,0.080677859485149,0.071761153638363,-0.056097522377968,0.040632300078869,-0.063740737736225,-0.142246454954147,0.169164538383484,-0.038094673305750,0.033313535153866,0.075061544775963,0.010113761760294,0.004358604084700,0.058167811483145));
res += mul(Get(s1,0,0), float4x4(0.088468722999096,-0.062361646443605,-0.025446059182286,0.096858635544777,0.093364000320435,0.117295287549496,-0.073164142668247,0.129192650318146,-0.089001521468163,0.001719067688100,0.006979577708989,0.137623012065887,-0.013585797511041,0.052683234214783,-0.103106312453747,0.125951260328293));
res += mul(Get(s1,0,dy), float4x4(0.043633580207825,0.109623163938522,0.026240520179272,0.047584295272827,0.020129373297095,0.000629556423519,-0.187022641301155,-0.117485046386719,-0.022537520155311,0.210500851273537,0.037031818181276,0.015726089477539,0.007133489940315,-0.031327158212662,-0.038728605955839,0.001562668592669));
res += mul(Get(s1,dx,-dy), float4x4(-0.004151459317654,0.083829484879971,0.053846120834351,0.177450194954872,-0.045133739709854,0.001502237864770,-0.023527745157480,-0.064484208822250,0.036150276660919,-0.102701462805271,-0.041025422513485,-0.219514295458794,-0.080938339233398,0.071697123348713,0.052598729729652,0.063830278813839));
res += mul(Get(s1,dx,0), float4x4(0.066259041428566,0.029036283493042,0.095910817384720,0.140952154994011,0.127451524138451,-0.064657941460609,0.037451244890690,0.117669604718685,0.089083254337311,0.093440487980843,0.044656138867140,-0.075408637523651,0.067220009863377,0.052674721926451,0.017549894750118,0.230634748935699));
res += mul(Get(s1,dx,dy), float4x4(-0.047162309288979,0.062754929065704,-0.061441984027624,0.025585198774934,0.031269904226065,0.036768749356270,0.096455082297325,-0.045705378055573,-0.215874791145325,-0.015513476915658,-0.090040832757950,0.016988979652524,0.026757234707475,0.016143826767802,-0.112275339663029,0.092586256563663));
res += mul(Get(s2,-dx,-dy), float4x4(0.082437463104725,0.097959399223328,0.041735429316759,-0.148080185055733,0.206159889698029,0.031039247289300,-0.030095685273409,-0.095386043190956,-0.071750476956367,-0.086803086102009,-0.028130352497101,0.057879839092493,-0.017834905534983,0.031205730512738,0.042217958718538,0.053123962134123));
res += mul(Get(s2,-dx,0), float4x4(0.003291656496003,0.037097375839949,0.005999618209898,-0.160944655537605,-0.162038728594780,0.048938129097223,0.127693966031075,0.055730279535055,-0.035870049148798,-0.033683713525534,0.174522802233696,-0.046363074332476,0.217695266008377,0.018150024116039,0.019646860659122,0.055295493453741));
res += mul(Get(s2,-dx,dy), float4x4(0.183892875909805,0.092907555401325,-0.204065546393394,0.020186910405755,0.059233874082565,-0.001809077570215,-0.052898190915585,-0.049683924764395,-0.112593002617359,-0.003616970730945,0.395558923482895,0.210706576704979,-0.050439819693565,0.092515483498573,-0.087687425315380,-0.074960649013519));
res += mul(Get(s2,0,-dy), float4x4(0.075346633791924,0.177904263138771,-0.150041431188583,-0.003610039362684,-0.050160896033049,-0.000242608366534,0.043892301619053,0.106272764503956,-0.031805817037821,-0.027765002101660,-0.031715922057629,0.068480007350445,-0.110583908855915,0.054991967976093,-0.035741083323956,0.258506625890732));
res += mul(Get(s2,0,0), float4x4(0.051054425537586,-0.210702449083328,-0.117581285536289,0.080507725477219,-0.063176088035107,-0.054060332477093,0.139253944158554,-0.092408820986748,0.158065453171730,-0.069682657718658,0.085642561316490,-0.146706059575081,-0.006498923525214,0.151609346270561,0.122945740818977,-0.061895120888948));
res += mul(Get(s2,0,dy), float4x4(0.011731702834368,0.156967014074326,-0.078362911939621,0.063643224537373,-0.215794265270233,-0.055463057011366,0.022551912814379,-0.032866656780243,0.009232491254807,-0.082553081214428,-0.114772349596024,-0.113214306533337,0.065226107835770,0.058315005153418,0.032209768891335,0.021708721294999));
res += mul(Get(s2,dx,-dy), float4x4(-0.055117297917604,-0.140765413641930,0.156484961509705,-0.161176085472107,0.084625802934170,0.004840896464884,-0.130455538630486,-0.165642291307449,0.039626307785511,-0.142170578241348,-0.039192724972963,-0.020435456186533,-0.160225152969360,-0.104075744748116,0.005947914440185,0.131069928407669));
res += mul(Get(s2,dx,0), float4x4(0.042212042957544,-0.017164966091514,-0.044581275433302,0.035013940185308,0.024320740252733,-0.017270632088184,-0.003897159593180,0.051690880209208,0.033422898501158,0.014641639776528,0.086810089647770,0.045317906886339,0.071810036897659,-0.011332441121340,-0.021621225401759,-0.130643472075462));
res += mul(Get(s2,dx,dy), float4x4(0.111906684935093,-0.131922587752342,-0.020512627437711,-0.047664511948824,0.027466000989079,-0.127879008650780,0.090190365910530,0.157272368669510,-0.012825602665544,-0.098053365945816,0.094766378402710,-0.052593160420656,-0.018638812005520,-0.016314350068569,-0.060479793697596,-0.137863010168076));
res += mul(Get(s3,-dx,-dy), float4x4(-0.006237461697310,0.065299913287163,-0.125709399580956,-0.101188227534294,0.138780683279037,0.144325613975525,-0.057950865477324,-0.029044045135379,0.017444124445319,-0.169178977608681,-0.004039264284074,-0.009553292766213,-0.124447606503963,-0.019807569682598,-0.229909688234329,0.128821954131126));
res += mul(Get(s3,-dx,0), float4x4(0.144536003470421,0.044819660484791,0.196482285857201,-0.054784562438726,0.034342534840107,-0.154838994145393,-0.031572259962559,-0.049055047333241,-0.178745523095131,0.071719981729984,-0.003984875045717,0.138837441802025,0.004538473673165,-0.052179332822561,-0.072485305368900,0.104227401316166));
res += mul(Get(s3,-dx,dy), float4x4(0.059306867420673,0.134166479110718,0.065667070448399,-0.118371091783047,0.020446250215173,0.066584132611752,0.050049141049385,0.213306024670601,0.213859722018242,0.085290729999542,0.039465904235840,0.107371471822262,-0.047076329588890,0.089398436248302,-0.131055727601051,-0.086973205208778));
res += mul(Get(s3,0,-dy), float4x4(0.007941007614136,-0.122644998133183,0.151083365082741,0.015685852617025,0.014192195609212,-0.059429239481688,-0.051841799169779,0.124998234212399,-0.040340717881918,0.134807854890823,-0.053933840245008,0.020625330507755,0.069038189947605,-0.029288949444890,-0.076638251543045,0.077049002051353));
res += mul(Get(s3,0,0), float4x4(0.040976881980896,-0.150109723210335,0.114324077963829,-0.167171359062195,-0.024340704083443,0.070922650396824,0.038690235465765,0.002555795246735,0.033359915018082,0.023147249594331,0.036821272224188,-0.166611611843109,0.014558252878487,0.003744219895452,-0.089254789054394,-0.028802473098040));
res += mul(Get(s3,0,dy), float4x4(-0.055342216044664,0.061270233243704,0.044728621840477,-0.037322249263525,-0.015693426132202,-0.110348604619503,-0.037503570318222,-0.201515212655067,0.087163075804710,-0.027673922479153,-0.004818991757929,0.048570573329926,-0.135309934616089,-0.112649224698544,-0.018583402037621,-0.014233776368201));
res += mul(Get(s3,dx,-dy), float4x4(0.077319674193859,-0.038795232772827,0.034650687128305,0.080098211765289,0.094579003751278,0.017362222075462,0.066106565296650,0.010640476830304,-0.174059957265854,-0.077767200767994,0.155207723379135,-0.159788548946381,-0.042097717523575,0.041656002402306,-0.009465225040913,-0.168448626995087));
res += mul(Get(s3,dx,0), float4x4(0.064691543579102,0.054857984185219,0.008206416852772,-0.179595619440079,0.024666473269463,-0.012612171471119,0.021205466240644,0.041377097368240,0.015208868309855,-0.041511099785566,-0.090089030563831,0.111699633300304,-0.101101197302341,0.110856652259827,-0.018083915114403,-0.132894828915596));
res += mul(Get(s3,dx,dy), float4x4(0.190736308693886,0.105129703879356,0.160498499870300,-0.107022136449814,-0.081464976072311,-0.044693201780319,-0.026045640930533,-0.069757424294949,-0.058966614305973,-0.049300927668810,-0.089820519089699,0.056132577359676,-0.031349368393421,-0.018331918865442,-0.018848234787583,0.036002017557621));
return max(float4(0,0,0,0), res);
}
