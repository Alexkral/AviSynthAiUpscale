sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.047591552138329,-0.056325167417526,0.093832790851593,-0.033138599246740,-0.077635422348976,-0.085299335420132,-0.211418911814690,0.002450272208080,0.037953682243824,0.062707923352718,0.030010363087058,-0.092014446854591,0.010540775023401,0.017083730548620,0.019323688000441,-0.038867045193911));
res += mul(Get(s0,-dx,0), float4x4(0.023820852860808,-0.005862110294402,-0.005736635532230,0.010646468028426,0.032670985907316,-0.033205594867468,-0.110337346792221,-0.092172868549824,0.090798310935497,0.100138403475285,-0.050125341862440,-0.009257610887289,0.003128082258627,-0.086704790592194,-0.002893464174122,0.019281972199678));
res += mul(Get(s0,-dx,dy), float4x4(0.063439145684242,-0.090261861681938,-0.051711078733206,-0.023414967581630,-0.005998894106597,0.009980299510062,-0.003166194539517,-0.126789689064026,0.046449262648821,0.082939296960831,-0.074710376560688,0.045186575502157,-0.016312779858708,0.033744856715202,0.068880304694176,-0.017464956268668));
res += mul(Get(s0,0,-dy), float4x4(0.020983345806599,0.034759230911732,0.027371784672141,-0.048321098089218,-0.065623700618744,0.042237058281898,0.025137992575765,0.004147828556597,-0.026144580915570,-0.004957377444953,0.057578094303608,0.067375667393208,-0.023799384012818,0.048210036009550,-0.012907902710140,0.016162734478712));
res += mul(Get(s0,0,0), float4x4(0.063441604375839,0.011346321552992,0.050635285675526,0.034313380718231,0.028474118560553,0.148468911647797,0.041306424885988,-0.008121382445097,0.078870393335819,0.008169953711331,0.018353862687945,0.166497811675072,0.034009035676718,0.089873969554901,-0.110974408686161,0.002843833528459));
res += mul(Get(s0,0,dy), float4x4(-0.115758389234543,-0.083479955792427,0.005261632613838,-0.000736506422982,0.028921131044626,-0.025334997102618,-0.009728767909110,0.044096540659666,-0.001783129293472,-0.012125789187849,-0.038132410496473,0.060259867459536,0.006276928819716,0.034906730055809,-0.043309565633535,0.005528307519853));
res += mul(Get(s0,dx,-dy), float4x4(0.041279364377260,0.043843079358339,0.006262044887990,-0.042144175618887,-0.030063295736909,0.078377418220043,0.151726007461548,-0.059262432157993,0.009800013154745,-0.012908140197396,0.052601106464863,-0.029822355136275,-0.004799922462553,-0.038692608475685,0.013408435508609,-0.054009746760130));
res += mul(Get(s0,dx,0), float4x4(0.007618005853146,-0.076612167060375,-0.022310700267553,-0.019560674205422,-0.000074733157817,-0.055849783122540,0.114678457379341,0.029588289558887,0.049633994698524,0.040866095572710,-0.011934204958379,0.013176312670112,0.042844716459513,0.003007482737303,0.125201508402824,0.034498419612646));
res += mul(Get(s0,dx,dy), float4x4(-0.004665392916650,-0.050458092242479,-0.050125807523727,0.008953809738159,-0.118231542408466,-0.070074327290058,0.027796732261777,0.076250642538071,0.056311696767807,0.029661335051060,0.090741559863091,0.066701769828796,0.053099554032087,-0.029656337574124,0.034477513283491,0.086613483726978));
res += mul(Get(s1,-dx,-dy), float4x4(0.033044513314962,-0.000123424993944,-0.048478007316589,0.012571061961353,-0.063663564622402,-0.036643221974373,-0.000947046617512,0.024146173149347,-0.004838933702558,-0.146931871771812,-0.066437624394894,0.012552937492728,0.040907859802246,-0.135972961783409,-0.007470341399312,0.014837667346001));
res += mul(Get(s1,-dx,0), float4x4(0.042049217969179,0.096732780337334,-0.035366464406252,0.010125454515219,0.103869542479515,0.124132640659809,0.073404081165791,0.060619249939919,-0.013417121954262,-0.072465837001801,-0.054375071078539,-0.078834913671017,0.119070418179035,0.052185382694006,0.047492653131485,-0.031878754496574));
res += mul(Get(s1,-dx,dy), float4x4(0.046090602874756,0.102218523621559,-0.051847573369741,0.020846374332905,-0.155490085482597,-0.030968040227890,0.050996247678995,0.108617879450321,0.049477461725473,0.097743876278400,-0.028443632647395,-0.016472041606903,0.038465656340122,-0.003470706520602,-0.094467699527740,-0.003693078877404));
res += mul(Get(s1,0,-dy), float4x4(-0.060226667672396,0.151700526475906,0.003571075620130,0.000458453228930,0.014739066362381,0.037196546792984,0.013784967362881,-0.003293255576864,0.015765869989991,-0.041647892445326,0.012847349047661,-0.002382646314800,0.006282135844231,0.023642655462027,-0.051466114819050,-0.014079270884395));
res += mul(Get(s1,0,0), float4x4(-0.126464083790779,0.058976877480745,0.074746415019035,0.051090855151415,0.084495827555656,0.018525041639805,-0.005476125050336,-0.047356039285660,-0.026052828878164,0.020548153668642,0.051826372742653,0.001815344323404,-0.017404435202479,-0.074020661413670,-0.053997054696083,-0.093683019280434));
res += mul(Get(s1,0,dy), float4x4(0.025039730593562,-0.024323446676135,0.066726543009281,0.030244037508965,-0.110696263611317,-0.050764814019203,-0.036856822669506,0.034259647130966,0.149109467864037,0.002313024597242,0.037897307425737,0.025048308074474,-0.030384352430701,-0.107574112713337,-0.092740602791309,-0.053793732076883));
res += mul(Get(s1,dx,-dy), float4x4(-0.012496624141932,-0.008329547941685,0.022696228697896,-0.020928969606757,0.002916061319411,0.068174459040165,-0.055481154471636,-0.030597848817706,0.014191867783666,0.122030101716518,0.069508768618107,0.014117995277047,-0.013945179991424,0.134516179561615,-0.135979965329170,-0.121792256832123));
res += mul(Get(s1,dx,0), float4x4(0.077059045433998,-0.033475108444691,-0.049422588199377,-0.050966091454029,-0.078651398420334,0.041835170239210,-0.087842822074890,-0.050166565924883,-0.010085325688124,-0.055871300399303,0.014780545607209,-0.005764873232692,0.009482459165156,-0.094734281301498,-0.200270935893059,-0.067501500248909));
res += mul(Get(s1,dx,dy), float4x4(-0.051923930644989,0.042504228651524,-0.014186236076057,0.022529361769557,0.046002630144358,0.154261901974678,0.002623861655593,0.040106575936079,-0.027001356706023,-0.133573397994041,-0.028159374371171,-0.019746707752347,0.047563273459673,-0.091512724757195,-0.168271571397781,-0.083251267671585));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024229103699327,-0.053779244422913,-0.012538695707917,0.109899900853634,0.012582585215569,0.036556582897902,0.041133508086205,-0.131572291254997,-0.021858483552933,-0.000069198576966,-0.064612388610840,-0.040406290441751,0.009126077406108,-0.050478871911764,0.062114499509335,0.043953981250525));
res += mul(Get(s2,-dx,0), float4x4(0.014982134103775,-0.127633452415466,-0.066950723528862,-0.093602351844311,0.085640765726566,-0.116089582443237,-0.014801281504333,0.120238214731216,0.276359766721725,0.197066053748131,-0.009891337715089,-0.157087162137032,0.082966379821301,-0.056192405521870,0.080519899725914,-0.018645014613867));
res += mul(Get(s2,-dx,dy), float4x4(-0.008649748750031,0.024100614711642,-0.010802232660353,-0.022558379918337,0.135200619697571,-0.057971142232418,-0.009858724661171,0.039887640625238,0.157095357775688,-0.001839194796048,0.048640586435795,0.021319165825844,0.074919708073139,-0.028387604281306,-0.004931456409395,-0.161077246069908));
res += mul(Get(s2,0,-dy), float4x4(0.077683486044407,-0.010089349001646,-0.060265168547630,-0.003384724957868,0.001560363220051,-0.046393126249313,0.071484550833702,0.019080666825175,0.001780364196748,-0.012758966535330,0.066376000642776,-0.025438867509365,0.046300053596497,0.058780156075954,0.094765551388264,-0.133473590016365));
res += mul(Get(s2,0,0), float4x4(-0.074849680066109,-0.141278088092804,0.006575664039701,-0.008577181957662,-0.077936761081219,0.013653234578669,0.082204453647137,0.104953348636627,-0.051305640488863,0.023115495219827,0.001600108109415,-0.061473414301872,-0.053696360439062,-0.145590499043465,0.011518837884068,-0.124367989599705));
res += mul(Get(s2,0,dy), float4x4(-0.006149849388748,0.047319803386927,0.121465526521206,0.094024188816547,0.040961738675833,-0.052808910608292,0.034439556300640,-0.050705648958683,0.093511536717415,-0.014600397087634,-0.016506675630808,0.071924768388271,0.029303815215826,-0.156381964683533,-0.025609759613872,-0.075541570782661));
res += mul(Get(s2,dx,-dy), float4x4(-0.008524255827069,-0.089985460042953,-0.073661647737026,0.037849113345146,0.042337570339441,-0.064252704381943,0.026897069066763,0.054194532334805,0.004893644712865,-0.033097535371780,-0.049644310027361,-0.037625353783369,0.072436459362507,-0.012147073633969,0.099191002547741,-0.004377502482384));
res += mul(Get(s2,dx,0), float4x4(0.059430301189423,-0.008035100996494,-0.021400904282928,0.140145123004913,-0.013272614218295,-0.044691056013107,0.046090040355921,-0.005657752044499,0.011184426024556,-0.075262442231178,0.015076750889421,0.018594454973936,0.012938252650201,-0.108820207417011,0.069945588707924,-0.049140609800816));
res += mul(Get(s2,dx,dy), float4x4(0.098015591502190,0.106449544429779,-0.028021989390254,0.059605684131384,0.000331884599291,-0.050189558416605,-0.056026279926300,-0.049643255770206,-0.072938330471516,0.003807204775512,-0.019538128748536,0.072521492838860,0.076246604323387,-0.005080817267299,0.012161788530648,-0.075833082199097));
res += mul(Get(s3,-dx,-dy), float4x4(-0.037438683211803,0.041637554764748,0.042277552187443,0.089592054486275,0.016824472695589,0.049281366169453,0.028051471337676,0.001894202781841,0.135722130537033,0.126594454050064,0.039596728980541,0.110880121588707,0.163208216428757,0.009064574725926,-0.024205047637224,-0.038440946489573));
res += mul(Get(s3,-dx,0), float4x4(0.005452639423311,0.101691640913486,0.107836507260799,0.018092814832926,-0.130996555089951,0.007890420034528,0.004033366683871,0.121201105415821,-0.009068225510418,0.243405982851982,0.049870669841766,-0.114266805350780,-0.059278089553118,-0.004534369800240,-0.077710732817650,-0.021179834380746));
res += mul(Get(s3,-dx,dy), float4x4(-0.039273973554373,0.040607720613480,0.093302823603153,0.075236387550831,-0.066726632416248,0.059316255152225,-0.003444316098467,-0.040734913200140,-0.044975928962231,-0.044843673706055,0.006814447231591,0.036853522062302,-0.111930266022682,-0.072047464549541,0.048459906131029,0.030478920787573));
res += mul(Get(s3,0,-dy), float4x4(-0.033397559076548,0.126039922237396,-0.001975953578949,0.038139559328556,0.000573670899030,-0.038683705031872,0.102976351976395,0.095520906150341,0.076321668922901,0.191282778978348,0.135492160916328,0.065445043146610,0.188146874308586,-0.079074949026108,-0.025908142328262,-0.072746820747852));
res += mul(Get(s3,0,0), float4x4(0.046096339821815,0.137640729546547,0.015947058796883,0.045192871242762,-0.075143180787563,0.135564357042313,0.121700815856457,0.146472856402397,0.015865534543991,-0.142145678400993,0.075741499662399,0.098599523305893,-0.003229014575481,0.032869614660740,-0.083094939589500,-0.063903771340847));
res += mul(Get(s3,0,dy), float4x4(0.043995033949614,0.013852522708476,-0.025854924693704,0.135538548231125,0.031172618269920,0.021329667419195,-0.019143700599670,0.089863941073418,0.234769180417061,-0.039166085422039,0.077581442892551,0.010141672566533,-0.028650870546699,-0.008731636218727,-0.042781360447407,0.018155852332711));
res += mul(Get(s3,dx,-dy), float4x4(0.009673240594566,0.162131711840630,0.017678102478385,-0.040752664208412,0.052894957363605,0.006845020689070,0.027026731520891,0.091141141951084,0.010428067296743,0.038356561213732,-0.015954600647092,-0.038763847202063,0.013995597139001,-0.040383219718933,-0.013455057516694,0.013307838700712));
res += mul(Get(s3,dx,0), float4x4(0.037262499332428,-0.003561167046428,-0.073822364211082,0.124086312949657,-0.015636235475540,0.046285357326269,0.031519148498774,0.061152599751949,-0.085774883627892,-0.116935133934021,-0.004809420090169,-0.023687636479735,0.067321285605431,0.080523699522018,0.122380733489990,0.077823035418987));
res += mul(Get(s3,dx,dy), float4x4(-0.015833087265491,-0.021833319216967,-0.041658293455839,0.074790380895138,0.018395142629743,-0.058666374534369,-0.024280989542603,0.109063215553761,-0.041459675878286,-0.158999115228653,-0.040706060826778,0.062918260693550,-0.012216961942613,-0.099489621818066,-0.010079908184707,0.149605557322502));
return max(float4(0,0,0,0), res);
}
