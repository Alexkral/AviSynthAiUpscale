sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.051889792084694,0.081778421998024,-0.087344080209732,-0.125136032700539,-0.020358618348837,-0.169554144144058,-0.134629458189011,-0.225894749164581,-0.041892424225807,-0.120259672403336,-0.029233692213893,0.110148116946220,0.053832333534956,0.030519153922796,-0.071941927075386,-0.091451086103916));
res += mul(Get(s0,-dx,0), float4x4(-0.013823120854795,-0.037210080772638,-0.040795888751745,0.221926316618919,-0.020709188655019,-0.009533491916955,-0.067005194723606,-0.015186784788966,0.094809986650944,-0.081199951469898,-0.028167266398668,0.012446010485291,0.158115580677986,-0.026584133505821,-0.053755994886160,0.056078590452671));
res += mul(Get(s0,-dx,dy), float4x4(-0.031178418546915,0.049712531268597,-0.039567876607180,-0.006529352162033,0.040885612368584,-0.018202425912023,-0.348293811082840,-0.068445898592472,-0.069988161325455,-0.158615797758102,-0.098948225378990,-0.021977780386806,-0.030327212065458,0.045055724680424,-0.184112429618835,-0.047678202390671));
res += mul(Get(s0,0,-dy), float4x4(0.039080690592527,0.011871168389916,-0.040885634720325,0.007890354841948,-0.062944673001766,-0.073032841086388,0.091694489121437,-0.006987954955548,-0.154838308691978,0.047187123447657,-0.102837502956390,0.217460393905640,0.019275996834040,-0.121678888797760,0.149073794484138,-0.017574856057763));
res += mul(Get(s0,0,0), float4x4(0.034930385649204,-0.102637164294720,-0.020225116983056,-0.019316207617521,-0.178071975708008,-0.178479805588722,-0.115195028483868,-0.215034678578377,-0.167655318975449,0.083560131490231,-0.189351767301559,0.012128048576415,0.012572734616697,0.014968180097640,0.166788384318352,-0.009980297647417));
res += mul(Get(s0,0,dy), float4x4(-0.056721884757280,0.158708572387695,-0.030296875163913,-0.150825381278992,0.105791144073009,-0.030300164595246,-0.052825115621090,0.054700978100300,-0.070053793489933,-0.174053549766541,-0.166901051998138,-0.174252688884735,0.064549833536148,0.102917723357677,0.091416507959366,0.001251681707799));
res += mul(Get(s0,dx,-dy), float4x4(0.136501803994179,-0.051573012024164,-0.007905676960945,0.034722339361906,-0.239372313022614,0.210940375924110,0.122077442705631,-0.052330359816551,-0.011623191647232,0.025199759751558,0.144111052155495,-0.154872357845306,0.040829077363014,-0.121844865381718,-0.051740732043982,-0.076330356299877));
res += mul(Get(s0,dx,0), float4x4(-0.185450211167336,0.140843510627747,0.187991917133331,-0.024382213130593,-0.181485667824745,-0.154944598674774,0.045717731118202,-0.103707782924175,0.225209936499596,-0.098754368722439,-0.039574477821589,-0.117547392845154,0.104368865489960,0.022635571658611,-0.124723829329014,0.045703046023846));
res += mul(Get(s0,dx,dy), float4x4(0.084458515048027,-0.075129225850105,-0.014348956756294,-0.028095807880163,0.213642731308937,-0.209803268313408,-0.137687876820564,-0.034008864313364,-0.328078538179398,-0.077288709580898,0.216086015105247,0.103113315999508,0.043576721101999,0.191487371921539,-0.116799131035805,0.149843707680702));
res += mul(Get(s1,-dx,-dy), float4x4(-0.060713306069374,-0.018522720783949,-0.088295981287956,0.148810163140297,0.027380440384150,0.013408971019089,0.043492127209902,-0.272839963436127,-0.134438157081604,0.030789576470852,0.199995711445808,0.100353598594666,-0.079889848828316,-0.187975928187370,0.151665955781937,0.171208098530769));
res += mul(Get(s1,-dx,0), float4x4(-0.199876904487610,0.149127155542374,-0.017163082957268,-0.239767819643021,-0.012175759300590,0.042106185108423,0.177188217639923,-0.088657803833485,-0.036799132823944,-0.218190059065819,0.076437130570412,0.202799201011658,-0.106470130383968,-0.098717987537384,0.119137786328793,0.048224702477455));
res += mul(Get(s1,-dx,dy), float4x4(-0.027295473963022,-0.153485506772995,0.167475774884224,-0.059068046510220,0.038771934807301,0.024517564103007,-0.164650678634644,0.000990155851468,0.013130673207343,-0.105072841048241,-0.104644738137722,-0.182545185089111,-0.102403573691845,-0.073768660426140,-0.001033021486364,-0.139562293887138));
res += mul(Get(s1,0,-dy), float4x4(-0.011494138278067,0.040981877595186,0.120575189590454,-0.107206486165524,-0.036997813731432,0.010756938718259,0.051815152168274,0.080969043076038,-0.021311575546861,0.059851385653019,-0.182609900832176,-0.075188614428043,-0.051377311348915,0.096498399972916,-0.217743054032326,-0.077789999544621));
res += mul(Get(s1,0,0), float4x4(0.025103773921728,0.078902266919613,0.100017547607422,-0.100331433117390,-0.081075862050056,0.003499881131575,-0.011221815831959,-0.079191453754902,-0.190931931138039,0.010566520504653,-0.016941880807281,-0.204732134938240,-0.129136517643929,-0.073236204683781,0.144193455576897,0.142723485827446));
res += mul(Get(s1,0,dy), float4x4(0.088217563927174,-0.135466858744621,0.154361143708229,0.104231655597687,0.137037053704262,0.009464933536947,0.077358372509480,-0.089574165642262,-0.014780827797949,0.048925634473562,-0.087215103209019,-0.021801697090268,-0.009083745069802,-0.021805230528116,-0.016747631132603,0.147063866257668));
res += mul(Get(s1,dx,-dy), float4x4(-0.120121568441391,-0.123102828860283,0.047553822398186,0.023174695670605,-0.086937218904495,0.078828915953636,0.015831675380468,0.175209000706673,-0.059334523975849,-0.046323977410793,-0.035642888396978,-0.260304063558578,0.031815823167562,0.019276188686490,-0.060083840042353,0.039647787809372));
res += mul(Get(s1,dx,0), float4x4(-0.028219182044268,0.101343557238579,-0.019668642431498,-0.082973800599575,-0.135719209909439,0.145057752728462,0.120350264012814,0.039179474115372,-0.000006551617389,0.168228730559349,-0.116691157221794,0.031452894210815,0.021142251789570,0.018620744347572,0.009475651197135,-0.017888819798827));
res += mul(Get(s1,dx,dy), float4x4(0.021068569272757,0.247725620865822,-0.112893499433994,0.089647531509399,0.131483182311058,-0.019844731315970,-0.038688752800226,-0.107396304607391,0.274994879961014,0.024301217868924,-0.071118578314781,0.152910396456718,-0.057285215705633,0.068706288933754,0.125044822692871,-0.046654146164656));
res += mul(Get(s2,-dx,-dy), float4x4(0.103136219084263,-0.107097342610359,0.195631667971611,0.067757293581963,-0.037757780402899,-0.040554761886597,-0.127262264490128,0.018925355747342,-0.010993797332048,0.116409078240395,-0.142625615000725,-0.111014589667320,0.109719686210155,0.017553998157382,-0.074128307402134,-0.021923316642642));
res += mul(Get(s2,-dx,0), float4x4(-0.179467558860779,-0.110417433083057,-0.049353204667568,-0.144867509603500,0.109327800571918,0.040663272142410,-0.050667010247707,0.048726364970207,-0.028538297861814,0.244814872741699,-0.240744665265083,0.095547050237656,0.094476759433746,-0.158148571848869,-0.014296499080956,0.015730172395706));
res += mul(Get(s2,-dx,dy), float4x4(-0.206875398755074,-0.166464880108833,0.139054834842682,-0.038597043603659,0.035345006734133,0.149146333336830,-0.036747056990862,-0.149750024080276,-0.017828769981861,-0.004426712635905,0.037066336721182,-0.035099491477013,0.017630523070693,-0.078754939138889,0.011318508535624,-0.060477528721094));
res += mul(Get(s2,0,-dy), float4x4(0.095681384205818,0.013983379118145,0.013967302627861,0.228814095258713,0.041035633534193,0.226328864693642,-0.249677643179893,-0.095589742064476,0.143315911293030,0.086057074368000,-0.159035429358482,0.073535189032555,-0.045805361121893,0.001624720986001,-0.056613169610500,-0.024011705070734));
res += mul(Get(s2,0,0), float4x4(0.044231981039047,0.021401664242148,-0.041006684303284,0.004980325233191,-0.165286257863045,-0.026051830500364,0.239441752433777,0.181755095720291,0.279897302389145,-0.113759651780128,-0.021414244547486,0.063295133411884,-0.094232141971588,0.078722693026066,-0.035182006657124,-0.000324695400195));
res += mul(Get(s2,0,dy), float4x4(0.022980306297541,-0.109790883958340,-0.065615907311440,-0.037367776036263,0.086139164865017,-0.030528774484992,-0.077061101794243,0.062735125422478,-0.048867225646973,-0.076876997947693,-0.117535151541233,0.123831182718277,-0.035246036946774,0.034169442951679,-0.071830309927464,-0.146886661648750));
res += mul(Get(s2,dx,-dy), float4x4(-0.171378627419472,-0.042782515287399,-0.016947440803051,-0.043123926967382,-0.207173228263855,0.022450702264905,0.224491655826569,-0.052359275519848,-0.127217084169388,0.191065818071365,-0.064430601894855,0.058490715920925,0.132258564233780,-0.043964777141809,0.265105605125427,0.056879296898842));
res += mul(Get(s2,dx,0), float4x4(0.033767443150282,0.065465286374092,-0.138040557503700,0.025487123057246,-0.039759200066328,-0.098935246467590,0.127579227089882,0.060876093804836,0.173692315816879,-0.136137425899506,-0.062281075865030,-0.121451579034328,0.087126277387142,-0.056897051632404,0.085949450731277,-0.080472409725189));
res += mul(Get(s2,dx,dy), float4x4(-0.013415935449302,-0.083105169236660,-0.004048372153193,0.111288413405418,0.088377155363560,-0.137297749519348,0.147132381796837,-0.063230320811272,0.115574203431606,-0.045497037470341,0.007211617659777,-0.020501971244812,-0.019179925322533,-0.046743039041758,0.116515509784222,-0.081399835646152));
res += mul(Get(s3,-dx,-dy), float4x4(-0.099533170461655,-0.034582424908876,0.045705150812864,0.035277523100376,-0.119175605475903,-0.213104516267776,-0.103564016520977,-0.135643795132637,-0.016099710017443,-0.099248670041561,-0.080920465290546,0.043119646608829,0.177052989602089,-0.055997092276812,-0.367667168378830,-0.077561229467392));
res += mul(Get(s3,-dx,0), float4x4(0.097677290439606,0.038086365908384,-0.057766973972321,0.017432926222682,-0.108852289617062,-0.032485302537680,-0.056484587490559,0.102491348981857,0.043393347412348,-0.085976488888264,-0.115161694586277,-0.007186698727310,-0.016335748136044,0.148929283022881,-0.109903201460838,-0.011278713122010));
res += mul(Get(s3,-dx,dy), float4x4(0.037530757486820,0.058307651430368,-0.052682872861624,0.050968304276466,-0.008881786838174,-0.001236393931322,-0.104937359690666,0.146492883563042,0.142069324851036,-0.029157163575292,-0.232795536518097,0.052375465631485,0.054201405495405,0.023219419643283,0.005433041136712,0.038972459733486));
res += mul(Get(s3,0,-dy), float4x4(0.052887346595526,-0.015521422959864,-0.044593758881092,0.050937701016665,0.135818392038345,-0.116779439151287,0.146622285246849,-0.089410595595837,0.163236200809479,0.125570416450500,-0.031732123345137,-0.210112944245338,0.111566849052906,0.061748314648867,-0.129950359463692,-0.021174106746912));
res += mul(Get(s3,0,0), float4x4(0.120370492339134,-0.044037714600563,-0.018605150282383,-0.144523292779922,0.122884646058083,-0.009382574819028,0.003004062920809,-0.032950084656477,0.118425898253918,0.038175582885742,0.207148477435112,0.037092532962561,0.031986914575100,-0.066969856619835,-0.021117949858308,-0.056492540985346));
res += mul(Get(s3,0,dy), float4x4(-0.116065740585327,-0.246534496545792,-0.027685411274433,0.081266023218632,-0.130036175251007,0.109356202185154,-0.168767347931862,0.059685654938221,-0.187265977263451,0.110922716557980,-0.008331857621670,-0.123485520482063,-0.015476849861443,0.298352986574173,0.088354006409645,0.019116990268230));
res += mul(Get(s3,dx,-dy), float4x4(0.016358843073249,0.063820458948612,0.095573663711548,0.056042760610580,0.136456385254860,-0.206255391240120,0.020279776304960,-0.085050970315933,-0.211594507098198,-0.052696652710438,0.138682067394257,-0.093792945146561,-0.067076981067657,0.117305889725685,-0.182777911424637,0.058753695338964));
res += mul(Get(s3,dx,0), float4x4(-0.087555333971977,-0.154563024640083,0.134867951273918,0.013404057361186,0.025502491742373,0.156220480799675,0.073235891759396,-0.204864382743835,-0.012768194079399,0.025547156110406,-0.024594364687800,0.014899444766343,-0.069914430379868,0.057351946830750,0.047972604632378,0.001430920907296));
res += mul(Get(s3,dx,dy), float4x4(0.170960664749146,0.057853441685438,0.013370340690017,0.038711786270142,0.021283123642206,0.094045959413052,0.088077716529369,-0.068425603210926,0.068910323083401,-0.131392866373062,-0.073002584278584,-0.071546047925949,-0.053442902863026,0.020596584305167,0.005674738436937,-0.070576943457127));
return max(float4(0,0,0,0), res);
}
