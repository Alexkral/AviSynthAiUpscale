sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.246334642171860,0.189643278717995,-0.037116523832083,-0.034158635884523,0.064938902854919,-0.158407106995583,-0.057649094611406,-0.069824315607548,-0.024714298546314,-0.091616779565811,-0.051538769155741,-0.036591444164515,0.009570494294167,-0.072406336665154,-0.039555739611387,0.048322636634111));
res += mul(Get(s0,-dx,0), float4x4(-0.078622363507748,0.219997689127922,-0.037169698625803,-0.024846529588103,-0.023438178002834,0.025107888504863,0.039905659854412,0.024808391928673,-0.083762601017952,-0.074182212352753,-0.085044778883457,0.055645879358053,-0.102752529084682,-0.016741627827287,-0.146057307720184,0.046080350875854));
res += mul(Get(s0,-dx,dy), float4x4(0.067119292914867,0.034618746489286,0.036920174956322,-0.152537018060684,0.026961587369442,-0.097687125205994,0.064722239971161,-0.080550506711006,0.046735677868128,-0.008924658410251,-0.005919869057834,-0.071098111569881,-0.045677643269300,0.008114004507661,-0.035720843821764,0.011090036481619));
res += mul(Get(s0,0,-dy), float4x4(-0.133640229701996,-0.077142558991909,-0.111502058804035,-0.111591964960098,0.036590807139874,-0.099838614463806,-0.028698092326522,-0.119599878787994,-0.024501133710146,-0.006559358444065,-0.071094296872616,0.038476131856441,0.292558252811432,-0.082840844988823,0.065125346183777,0.033744446933270));
res += mul(Get(s0,0,0), float4x4(-0.023491034284234,0.008460282348096,-0.026533806696534,0.069420099258423,0.047812215983868,0.098841518163681,0.076315551996231,0.157937243580818,0.013063578866422,-0.003848745021969,-0.079164788126945,0.063712485134602,0.045656625181437,0.012138309888542,-0.264281600713730,0.058728076517582));
res += mul(Get(s0,0,dy), float4x4(0.088582269847393,0.062555968761444,0.074559889733791,0.072664856910706,0.078442029654980,0.046447947621346,0.177450567483902,-0.032537974417210,0.082898989319801,-0.032312806695700,-0.104811824858189,0.006373808253556,-0.093784533441067,-0.030587960034609,0.117742970585823,0.047829221934080));
res += mul(Get(s0,dx,-dy), float4x4(-0.008529320359230,0.031906206160784,0.097792729735374,-0.010921388864517,-0.020113080739975,-0.073556974530220,-0.006675132550299,-0.119125284254551,-0.004841526038945,0.151811197400093,-0.094727799296379,-0.025083459913731,0.059501994401217,0.037913691252470,-0.097372919321060,0.027135556563735));
res += mul(Get(s0,dx,0), float4x4(-0.036701139062643,-0.046905044466257,0.139615342020988,-0.063947968184948,0.081223629415035,0.047758731991053,-0.006099680438638,-0.032997243106365,-0.043425455689430,0.068561598658562,0.002574213314801,-0.002100507495925,0.032966978847980,-0.003793681971729,-0.061249066144228,-0.041323598474264));
res += mul(Get(s0,dx,dy), float4x4(0.114088192582130,-0.113744057714939,0.136426538228989,0.064101047813892,0.024914674460888,-0.086883828043938,0.137726053595543,-0.047889299690723,-0.063846297562122,0.031585283577442,-0.019256588071585,-0.072227641940117,0.056838352233171,-0.031150816008449,0.091593667864799,0.100987516343594));
res += mul(Get(s1,-dx,-dy), float4x4(-0.043823920190334,-0.253379285335541,0.001151835313067,-0.046254046261311,-0.072914652526379,-0.022566964849830,0.050197251141071,0.097445562481880,-0.015313960611820,-0.030987875536084,-0.006817457266152,0.040514688938856,0.030318222939968,0.013839177787304,-0.011807906441391,-0.076535224914551));
res += mul(Get(s1,-dx,0), float4x4(0.006334087811410,-0.093434669077396,0.049828462302685,0.039081435650587,-0.068463012576103,-0.012568420730531,-0.064376085996628,0.068303614854813,-0.076169341802597,-0.069821283221245,-0.129902854561806,-0.122121974825859,-0.032779183238745,-0.085051834583282,0.003925736062229,0.046277757734060));
res += mul(Get(s1,-dx,dy), float4x4(0.049864191561937,-0.040921326726675,0.039798080921173,0.029492292553186,-0.011288460344076,-0.036840956658125,0.006165741477162,-0.026392806321383,-0.159645602107048,0.034883663058281,-0.078742213547230,0.286803573369980,-0.009336326271296,-0.172851338982582,0.063665293157101,-0.068300895392895));
res += mul(Get(s1,0,-dy), float4x4(0.033838454633951,-0.089417882263660,-0.164254710078239,-0.061138913035393,-0.087551668286324,0.044454835355282,-0.014673685654998,-0.011608782224357,0.053048849105835,-0.017863504588604,0.076314620673656,0.153105944395065,-0.030650198459625,0.128818377852440,-0.052411731332541,0.045921456068754));
res += mul(Get(s1,0,0), float4x4(0.024285580962896,0.133413657546043,-0.103958629071712,-0.087395228445530,-0.020035121589899,0.005341633222997,-0.015052546747029,0.123159766197205,0.006399819627404,-0.098969072103500,-0.165557533502579,-0.054128292948008,0.031840514391661,0.261241853237152,0.011050394736230,0.025683866813779));
res += mul(Get(s1,0,dy), float4x4(0.059049837291241,0.057932782918215,0.150295272469521,-0.103978663682938,-0.029161013662815,-0.015529840253294,0.045010518282652,0.011720421724021,0.037180472165346,0.091396816074848,-0.090912424027920,0.329048037528992,0.013687621802092,0.131533622741699,0.044617712497711,-0.041552606970072));
res += mul(Get(s1,dx,-dy), float4x4(0.133168235421181,-0.047109249979258,-0.009024621918797,0.005684963427484,0.127687603235245,-0.058501999825239,-0.047674871981144,0.003077650908381,0.075916968286037,-0.025672553107142,-0.054737519472837,0.055458087474108,-0.020633414387703,0.092809207737446,-0.071868143975735,-0.048388049006462));
res += mul(Get(s1,dx,0), float4x4(0.025097331032157,-0.026292348280549,0.078423187136650,-0.039249692112207,0.119833983480930,0.040610682219267,0.040721885859966,-0.033456377685070,0.007838545367122,-0.141902968287468,-0.060644276440144,-0.086792998015881,0.106726512312889,-0.008811779320240,-0.045208338648081,-0.015069748274982));
res += mul(Get(s1,dx,dy), float4x4(-0.004570695571601,-0.001046497607604,-0.077308125793934,0.032279185950756,0.041313420981169,-0.019654892385006,0.080543823540211,0.066986843943596,0.073696032166481,-0.088710159063339,-0.107478536665440,0.022123143076897,0.018011676147580,-0.004484221339226,0.107206679880619,0.011900304816663));
res += mul(Get(s2,-dx,-dy), float4x4(-0.118075706064701,-0.049306754022837,-0.087540380656719,0.041901957243681,-0.096519045531750,-0.166956335306168,0.231773793697357,-0.015998279675841,-0.048091199249029,0.077915504574776,-0.001789349946193,-0.044070865958929,0.083747811615467,0.070567965507507,-0.034463234245777,0.125251904129982));
res += mul(Get(s2,-dx,0), float4x4(-0.005480818450451,0.150348663330078,-0.063179746270180,0.093378007411957,-0.115484505891800,-0.086610347032547,-0.015818450599909,-0.046216744929552,0.002890177769586,0.049980707466602,-0.054512050002813,-0.024313898757100,0.052093621343374,0.074721269309521,0.021241502836347,-0.040461901575327));
res += mul(Get(s2,-dx,dy), float4x4(-0.107738576829433,0.088971778750420,0.016080681234598,-0.071245811879635,-0.165003120899200,-0.149818241596222,-0.026222342625260,0.066614121198654,0.006473186425865,0.006559787783772,-0.085726611316204,-0.005237066186965,-0.020521882921457,-0.089916028082371,-0.028284613043070,0.072038695216179));
res += mul(Get(s2,0,-dy), float4x4(-0.036039147526026,-0.080299988389015,-0.077720239758492,0.081782139837742,-0.021443791687489,0.097428478300571,0.041688162833452,-0.045247755944729,0.060986090451479,0.014907171018422,-0.164206609129906,-0.004955158568919,0.074157163500786,-0.023431565612555,-0.080550864338875,0.092353202402592));
res += mul(Get(s2,0,0), float4x4(0.003359897993505,0.215948462486267,0.064244367182255,0.098609156906605,0.040199078619480,0.208765342831612,-0.107755333185196,-0.069681040942669,-0.037411864846945,-0.028739927336574,-0.052177257835865,-0.029439616948366,-0.120306693017483,0.257718920707703,-0.093977846205235,-0.041861157864332));
res += mul(Get(s2,0,dy), float4x4(-0.055459693074226,-0.028237657621503,0.095154754817486,-0.083255678415298,0.055601660162210,-0.025906613096595,0.041191101074219,0.131430566310883,0.076191365718842,-0.017840635031462,-0.042823124676943,0.074164442718029,-0.051460761576891,0.178301349282265,0.030061859637499,0.012792780995369));
res += mul(Get(s2,dx,-dy), float4x4(0.120547905564308,-0.091828174889088,0.031154578551650,0.053963258862495,-0.005879167001694,-0.042304620146751,-0.064981453120708,-0.071237921714783,0.089693665504456,-0.114441677927971,-0.066149309277534,0.049124043434858,0.061604436486959,-0.102993890643120,-0.033101025968790,0.006210346240550));
res += mul(Get(s2,dx,0), float4x4(0.059631690382957,0.090855449438095,0.006530195474625,-0.040364366024733,-0.032553628087044,-0.116102062165737,0.032491419464350,0.051236741244793,0.139588743448257,0.187320470809937,-0.108073927462101,-0.040307793766260,-0.068046979606152,-0.036618128418922,0.055874772369862,-0.075272321701050));
res += mul(Get(s2,dx,dy), float4x4(0.001110516372137,0.019288873299956,-0.057963673025370,-0.036481525748968,-0.025238303467631,0.046638213098049,0.056520175188780,0.004927514120936,0.070719368755817,0.005480656400323,0.013909447006881,0.022620432078838,-0.022141927853227,-0.041330512613058,0.097870275378227,-0.015634765848517));
res += mul(Get(s3,-dx,-dy), float4x4(0.012771246954799,0.103841431438923,0.063712216913700,0.029540671035647,-0.010122540406883,0.008091827854514,-0.089193738996983,-0.154224812984467,-0.004878557752818,-0.071048744022846,0.076894417405128,0.076066344976425,-0.151520460844040,0.021629523485899,0.167507544159889,-0.097534291446209));
res += mul(Get(s3,-dx,0), float4x4(0.075065545737743,0.006897572893649,-0.058433506637812,0.023711256682873,-0.019775111228228,0.012113616801798,-0.019186971709132,-0.060231953859329,-0.089292086660862,-0.024342799559236,0.079114012420177,-0.162733048200607,0.003655733540654,0.081501156091690,0.160655856132507,-0.089070081710815));
res += mul(Get(s3,-dx,dy), float4x4(-0.007688040845096,0.007328382693231,-0.109635382890701,-0.097976677119732,-0.045460592955351,-0.036122124642134,0.019321011379361,-0.124077811837196,-0.034344539046288,0.005080250091851,-0.041221026331186,-0.119367420673370,0.028477231040597,-0.020137086510658,0.077758513391018,0.001682974281721));
res += mul(Get(s3,0,-dy), float4x4(0.004177368246019,0.015012752264738,-0.003722932655364,-0.034313526004553,0.030747080221772,-0.045416805893183,0.011773922480643,0.001196146244183,-0.062868133187294,-0.140100523829460,0.109486974775791,0.025978615507483,-0.134424760937691,-0.168966501951218,0.286127954721451,-0.087465874850750));
res += mul(Get(s3,0,0), float4x4(-0.002444437472150,-0.018113471567631,-0.048041138797998,0.008615169674158,0.045806050300598,-0.030667090788484,0.101370058953762,-0.011846479959786,-0.028977679088712,0.052284732460976,0.072507895529270,-0.080409385263920,-0.001127228024416,0.035284169018269,-0.008751896210015,-0.057671729475260));
res += mul(Get(s3,0,dy), float4x4(-0.041904728859663,0.077897012233734,-0.064705960452557,-0.169124409556389,-0.015011329203844,0.048316743224859,-0.103202909231186,-0.075808599591255,0.100488767027855,0.052934128791094,-0.022139269858599,-0.018523771315813,-0.038533337414265,0.060263939201832,-0.019915124401450,-0.014099801890552));
res += mul(Get(s3,dx,-dy), float4x4(-0.034200325608253,-0.043857075273991,0.003401794470847,0.047674968838692,-0.144277587532997,-0.010342514142394,0.056601699441671,-0.130416139960289,0.021381381899118,-0.130201548337936,0.050429012626410,0.137677595019341,-0.056573629379272,-0.130518063902855,0.111608259379864,-0.045293021947145));
res += mul(Get(s3,dx,0), float4x4(0.016788251698017,-0.034534182399511,-0.058964684605598,0.002315556630492,0.149200558662415,0.091344133019447,0.147736966609955,0.005307054612786,-0.024320980533957,0.005249176174402,-0.036602392792702,-0.038425039499998,-0.026812469586730,0.053070336580276,-0.007702584844083,0.002157096518204));
res += mul(Get(s3,dx,dy), float4x4(0.020475646480918,0.029718495905399,-0.087659716606140,0.110803693532944,0.036884199827909,0.086527846753597,-0.016017269343138,-0.017835535109043,0.023782832548022,-0.048600595444441,-0.073923699557781,0.204690903425217,0.012542263604701,-0.009533466771245,0.072454474866390,-0.115184567868710));
return max(float4(0,0,0,0), res);
}
