sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.169139429926872,-0.062058992683887,0.055951781570911,0.093678399920464,-0.030484251677990,-0.092033259570599,-0.076108574867249,-0.074911445379257,0.046118486672640,0.190537303686142,0.100365713238716,0.211576834321022,-0.093291833996773,0.151736095547676,0.119356229901314,0.005208223592490));
res += mul(Get(s0,-dx,0), float4x4(-0.089031316339970,-0.021953668445349,0.095547549426556,0.181826084852219,0.053432453423738,0.033481325954199,0.025665391236544,0.109011232852936,0.332771062850952,-0.064306877553463,-0.209636062383652,0.029939651489258,-0.134595721960068,-0.031639408320189,0.133877262473106,-0.009649655781686));
res += mul(Get(s0,-dx,dy), float4x4(-0.115111418068409,0.157728835940361,-0.004623307380825,-0.019820021465421,-0.045547157526016,-0.073008961975574,0.008522742427886,-0.089313983917236,0.142026796936989,-0.065779738128185,-0.082265682518482,0.095165513455868,0.010274231433868,-0.012137975543737,0.080824173986912,-0.255414277315140));
res += mul(Get(s0,0,-dy), float4x4(0.130245134234428,-0.002104292158037,-0.110754974186420,0.027739793062210,0.219856932759285,-0.144255101680756,0.061087477952242,0.205643013119698,0.083963908255100,-0.067983381450176,0.012743537314236,-0.044799201190472,-0.084633804857731,0.105178482830524,0.090535141527653,0.034290060400963));
res += mul(Get(s0,0,0), float4x4(0.008876429870725,-0.030914653092623,0.192880809307098,-0.001562569173984,-0.061410237103701,0.047049451619387,0.106735184788704,0.036023195832968,0.151163935661316,-0.140664696693420,-0.037255130708218,0.055421013385057,-0.001012215041555,0.123857781291008,0.030663711950183,0.115303762257099));
res += mul(Get(s0,0,dy), float4x4(-0.082013905048370,0.186758100986481,-0.025273848325014,-0.149260386824608,0.011022923514247,-0.118007525801659,-0.039749920368195,0.036004815250635,0.246621161699295,0.025050533935428,-0.118107423186302,0.166850358247757,0.042479336261749,0.006333902012557,0.038916829973459,0.140287920832634));
res += mul(Get(s0,dx,-dy), float4x4(-0.115481905639172,0.075325317680836,-0.026829918846488,-0.012638331390917,-0.041220858693123,0.096583142876625,0.023245900869370,-0.160302728414536,-0.084064960479736,-0.003325003199279,0.053233589977026,-0.049420226365328,0.055021923035383,0.017249487340450,-0.105354808270931,0.007793718483299));
res += mul(Get(s0,dx,0), float4x4(0.064232274889946,-0.006349878851324,0.127833649516106,0.169515550136566,-0.094896934926510,-0.011747051961720,0.010721340775490,-0.129607394337654,0.006568466313183,-0.018652638420463,0.205800831317902,0.005702627822757,0.004627452697605,0.046133413910866,0.072401873767376,0.108122110366821));
res += mul(Get(s0,dx,dy), float4x4(0.047922436147928,-0.029877275228500,0.047266762703657,0.038075912743807,-0.029208634048700,-0.058859840035439,-0.171866700053215,-0.008549639023840,0.099101640284061,0.082656666636467,-0.070995353162289,-0.074362717568874,0.151566445827484,0.105589725077152,0.103206038475037,-0.182622283697128));
res += mul(Get(s1,-dx,-dy), float4x4(0.014463400468230,-0.018754852935672,0.062058921903372,-0.069176472723484,-0.066836781799793,-0.221753820776939,0.103024169802666,0.128190368413925,-0.016634402796626,-0.067236796021461,-0.051730230450630,-0.028402226045728,0.059762228280306,-0.071474619209766,-0.105703137814999,0.060951836407185));
res += mul(Get(s1,-dx,0), float4x4(-0.159024208784103,0.054707542061806,-0.002672597067431,-0.000285476737190,-0.078463204205036,-0.082111798226833,0.069466039538383,-0.102497443556786,-0.037504553794861,-0.029730368405581,-0.041922781616449,0.039535380899906,-0.071163609623909,-0.036136880517006,0.134131520986557,0.064264670014381));
res += mul(Get(s1,-dx,dy), float4x4(0.074015274643898,-0.083852134644985,-0.067685335874557,-0.133333101868629,-0.071007609367371,0.074626721441746,0.104250542819500,0.074063256382942,0.086514458060265,-0.010196199640632,0.086880162358284,-0.223123297095299,-0.079098291695118,0.079248309135437,-0.030560852959752,-0.051143422722816));
res += mul(Get(s1,0,-dy), float4x4(-0.053409658372402,0.146532490849495,0.063064873218536,0.081800118088722,0.000859205960296,-0.016826597973704,-0.069811210036278,0.064210139214993,-0.155805647373199,-0.068176291882992,0.068945504724979,-0.001146354945377,-0.014521530829370,-0.036692000925541,-0.047445584088564,-0.126394584774971));
res += mul(Get(s1,0,0), float4x4(-0.022452810779214,0.094593897461891,-0.001175726181827,0.015908375382423,0.024156246334314,0.032080315053463,-0.051957424730062,0.052706424146891,0.000149566112668,-0.048246797174215,0.000316166842822,0.122479036450386,0.143239110708237,0.011001440696418,-0.093934498727322,-0.116789855062962));
res += mul(Get(s1,0,dy), float4x4(-0.014585842378438,0.146296888589859,0.026619149371982,0.090728633105755,-0.026334311813116,-0.019741099327803,-0.037368867546320,0.166511580348015,0.027208272367716,0.110635563731194,0.101501837372780,0.008714194409549,0.011915464885533,-0.014778473414481,0.145486623048782,-0.065579913556576));
res += mul(Get(s1,dx,-dy), float4x4(0.064532108604908,0.066178463399410,0.174671187996864,-0.030888518318534,-0.078854113817215,0.008904467336833,0.091027960181236,0.062407698482275,-0.110804207623005,0.101216189563274,0.023823730647564,-0.185258254408836,-0.062594376504421,-0.141858696937561,0.063507102429867,-0.058407120406628));
res += mul(Get(s1,dx,0), float4x4(0.039195507764816,-0.089119561016560,-0.136335372924805,-0.002232121536508,0.059240594506264,-0.149448364973068,0.206991448998451,0.158743605017662,-0.111597023904324,-0.051727209240198,0.050734840333462,-0.052557304501534,0.089337214827538,-0.028015645220876,0.046893659979105,-0.207063883543015));
res += mul(Get(s1,dx,dy), float4x4(-0.015634041279554,0.132766276597977,-0.000234883875237,-0.166521519422531,-0.020823961123824,-0.132402062416077,0.018122479319572,-0.000891107833013,0.135821476578712,-0.104102768003941,0.033174306154251,0.025194894522429,0.066534973680973,-0.058054935187101,0.149050071835518,-0.007089871447533));
res += mul(Get(s2,-dx,-dy), float4x4(0.013446890749037,0.047782763838768,0.080764383077621,-0.143636509776115,0.000000090686569,0.091387271881104,-0.035467375069857,-0.001611095853150,-0.091816946864128,0.027889318764210,0.096527725458145,-0.010919426567852,-0.106595665216446,0.011466437950730,0.208503052592278,0.108894310891628));
res += mul(Get(s2,-dx,0), float4x4(0.075285620987415,0.025175742805004,0.010330355726182,-0.028747761622071,-0.010984900407493,-0.131059229373932,0.024425167590380,-0.080025687813759,-0.028409101068974,0.030432628467679,-0.010075339116156,-0.095909573137760,-0.037886008620262,0.019742123782635,0.023124270141125,-0.021512193605304));
res += mul(Get(s2,-dx,dy), float4x4(-0.078796572983265,0.011683996766806,0.065190277993679,0.026914561167359,-0.164361700415611,-0.140255585312843,-0.037850648164749,-0.033279277384281,-0.181514441967010,-0.005706263706088,0.217376917600632,-0.020617986097932,-0.084570921957493,-0.046612832695246,0.102847360074520,0.187173902988434));
res += mul(Get(s2,0,-dy), float4x4(-0.135412022471428,0.103485152125359,0.231486290693283,0.060395170003176,-0.045049730688334,0.043230701237917,0.124916009604931,0.083250604569912,0.039936106652021,-0.177277505397797,0.084476217627525,-0.045269615948200,0.002477558329701,0.275115430355072,0.160629525780678,-0.019925566390157));
res += mul(Get(s2,0,0), float4x4(0.025541871786118,0.017605964094400,-0.061864927411079,0.246578827500343,-0.134125202894211,-0.033446509391069,-0.044796109199524,0.035952005535364,0.078472599387169,-0.021637404337525,-0.063061654567719,-0.038922268897295,0.021065905690193,0.011187288910151,-0.096358887851238,-0.090996526181698));
res += mul(Get(s2,0,dy), float4x4(-0.072486855089664,0.031114507466555,-0.017063513398170,0.157722309231758,-0.070796601474285,0.055969260632992,0.130710363388062,0.129663363099098,0.124548137187958,-0.050998456776142,0.091571755707264,-0.040644094347954,-0.175156846642494,0.017245110124350,0.131287693977356,0.021203411743045));
res += mul(Get(s2,dx,-dy), float4x4(0.126051098108292,-0.022684076800942,0.117514744400978,0.222618669271469,0.040602620691061,-0.004288373980671,0.007905550301075,-0.024360172450542,-0.040658582001925,-0.169213369488716,-0.007819548249245,-0.044531360268593,0.080566324293613,-0.094259746372700,-0.028554281219840,-0.139088749885559));
res += mul(Get(s2,dx,0), float4x4(0.040414784103632,-0.066423594951630,0.055014863610268,0.037757977843285,0.173621684312820,-0.105358481407166,0.051427938044071,-0.123093575239182,0.030069710686803,0.002011129865423,0.031916864216328,0.062328308820724,0.222325548529625,0.077598266303539,-0.069766268134117,-0.099562488496304));
res += mul(Get(s2,dx,dy), float4x4(0.057731457054615,-0.053556516766548,0.121902652084827,0.074913568794727,-0.056843157857656,0.110369317233562,-0.114302180707455,-0.044502940028906,0.105605550110340,-0.033345423638821,-0.176671028137207,-0.012608375400305,0.256728112697601,-0.024809971451759,-0.301383644342422,-0.004882152657956));
res += mul(Get(s3,-dx,-dy), float4x4(-0.086018927395344,-0.010600533336401,0.022970696911216,-0.106043517589569,0.008055923506618,-0.000582864158787,-0.090949349105358,0.006420204881579,-0.099994242191315,-0.046317275613546,0.096142195165157,0.038885176181793,0.018840597942472,0.277569115161896,0.190747693181038,-0.108324490487576));
res += mul(Get(s3,-dx,0), float4x4(-0.127237766981125,-0.033695522695780,-0.015922142192721,0.035579320043325,-0.029751081019640,0.072939291596413,0.040110521018505,0.113369010388851,0.111040733754635,-0.156820356845856,0.106150031089783,-0.149404525756836,0.110581576824188,-0.112806610763073,0.006550954189152,0.091136306524277));
res += mul(Get(s3,-dx,dy), float4x4(-0.075207985937595,0.035098765045404,0.038610529154539,0.050630148500204,-0.000764326192439,0.024973144754767,-0.034833759069443,0.014477322809398,0.025864681228995,-0.082065902650356,-0.082873828709126,0.008980153128505,0.060805719345808,-0.195122331380844,0.019031934440136,0.067192114889622));
res += mul(Get(s3,0,-dy), float4x4(0.076665289700031,-0.090267136693001,-0.177310660481453,-0.040848560631275,0.055884681642056,-0.123568706214428,-0.076774097979069,0.091778233647346,0.022009469568729,0.087123662233353,-0.014708833768964,0.167240604758263,-0.030507873743773,-0.033024121075869,-0.049957327544689,-0.112668082118034));
res += mul(Get(s3,0,0), float4x4(0.001903815427795,0.043097585439682,-0.001038269838318,0.006407077889889,-0.182277649641037,-0.091927327215672,-0.026352245360613,-0.005241862498224,0.043255895376205,-0.046797264367342,-0.018771732226014,-0.109171085059643,-0.028689669445157,0.083674691617489,0.019219996407628,0.157077908515930));
res += mul(Get(s3,0,dy), float4x4(0.023579612374306,0.066065803170204,0.086231701076031,-0.004897445905954,-0.138702854514122,0.118792422115803,0.041779819875956,0.214653030037880,-0.105880267918110,-0.099384345114231,0.177056536078453,-0.004675823729485,-0.043583016842604,0.140000656247139,-0.022766640409827,-0.002558615757152));
res += mul(Get(s3,dx,-dy), float4x4(0.135273322463036,0.026902947574854,-0.039675805717707,-0.005244865082204,-0.122672118246555,-0.010286269709468,0.018027547746897,-0.197727248072624,0.048260264098644,-0.021548895165324,-0.162693575024605,-0.024645313620567,-0.028800604864955,-0.000715291826054,-0.136984035372734,0.068084999918938));
res += mul(Get(s3,dx,0), float4x4(0.114357568323612,0.074995510280132,0.331629812717438,0.100033462047577,0.013506091199815,-0.131451845169067,-0.152743071317673,-0.065262869000435,-0.036069165915251,-0.019688012078404,0.008945590816438,0.191782400012016,-0.022658087313175,0.102043233811855,0.077665060758591,0.127943336963654));
res += mul(Get(s3,dx,dy), float4x4(-0.101430237293243,-0.060615353286266,0.046295147389174,0.066016897559166,0.095488257706165,-0.001396581996232,-0.016923326998949,-0.026245871558785,-0.105738267302513,0.040678769350052,0.059290997684002,-0.226078957319260,0.044438753277063,0.175925686955452,0.028348412364721,-0.001129082054831));
return max(float4(0,0,0,0), res);
}
