sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.037756621837616,-0.004128374624997,0.004289372358471,0.080178007483482,0.023691248148680,-0.030745193362236,-0.005681270267814,0.031972695142031,0.018002178519964,-0.044818900525570,-0.039122879505157,-0.025123428553343,0.088245674967766,0.027262041345239,0.025323880836368,-0.066943712532520));
res += mul(Get(s0,-dx,0), float4x4(-0.023563284426928,0.025388643145561,0.068532407283783,0.006034869235009,0.061485156416893,0.018795620650053,-0.020761638879776,0.058391276746988,0.049187317490578,-0.208328157663345,-0.095196217298508,0.083212271332741,0.049589741975069,0.003961926326156,-0.032137647271156,-0.077725492417812));
res += mul(Get(s0,-dx,dy), float4x4(-0.015301443636417,-0.157518252730370,0.148083671927452,0.037913866341114,-0.005617218092084,0.029243370518088,0.032806281000376,-0.064231976866722,0.035360779613256,-0.098051778972149,-0.159683197736740,0.099010571837425,0.037352040410042,0.035117141902447,-0.015848474577069,-0.029506705701351));
res += mul(Get(s0,0,-dy), float4x4(0.023438662290573,-0.070144921541214,0.086714237928391,0.096089281141758,-0.032370124012232,-0.070197410881519,-0.055035617202520,0.019571837037802,0.064355954527855,0.084089487791061,-0.029124572873116,0.099137708544731,0.003941369708627,0.010959946550429,-0.002660331083462,0.090908430516720));
res += mul(Get(s0,0,0), float4x4(-0.118882298469543,0.050545975565910,-0.039286717772484,-0.028372453525662,-0.064623996615410,0.002483430085704,0.016032436862588,0.043470639735460,0.047389097511768,-0.042857393622398,-0.026657674461603,-0.013910382986069,0.028398716822267,0.074286013841629,0.006565821357071,0.037016440182924));
res += mul(Get(s0,0,dy), float4x4(0.153140500187874,0.096969410777092,0.064394704997540,-0.129116922616959,0.031542636454105,0.025007732212543,0.128996416926384,0.079542331397533,0.064116425812244,-0.072548307478428,-0.021803302690387,-0.073968328535557,0.147701919078827,0.039120893925428,0.065872892737389,0.055083177983761));
res += mul(Get(s0,dx,-dy), float4x4(0.001638022367842,0.009739982895553,0.147001177072525,0.028332298621535,0.021001145243645,-0.005434297025204,-0.053040914237499,0.075373619794846,-0.065983422100544,-0.045798838138580,-0.000647713313811,0.022090759128332,-0.020916787907481,0.028945682570338,0.022587154060602,-0.045326247811317));
res += mul(Get(s0,dx,0), float4x4(-0.053812157362700,0.066209562122822,0.131782859563828,0.025012645870447,0.131801262497902,-0.025035675615072,-0.048781208693981,-0.023661656305194,-0.123038388788700,0.078458987176418,-0.130153626203537,0.011559639126062,0.092723891139030,-0.014234847389162,0.022332133725286,0.009872124530375));
res += mul(Get(s0,dx,dy), float4x4(0.164040818810463,0.228027522563934,-0.011193139478564,0.000973886752035,-0.066111877560616,0.000590387673583,0.039666194468737,-0.033410612493753,0.110010042786598,-0.081804931163788,-0.042123824357986,0.016304735094309,0.018873896449804,-0.015973920002580,0.026166152209044,-0.012174071744084));
res += mul(Get(s1,-dx,-dy), float4x4(0.035338174551725,-0.050609454512596,0.001831148401834,0.001943135517649,-0.099570475518703,0.190724372863770,0.031459089368582,-0.139742150902748,0.047778863459826,-0.042096868157387,-0.005420488305390,0.050850976258516,0.036271419376135,0.076392486691475,-0.039926066994667,-0.000862832181156));
res += mul(Get(s1,-dx,0), float4x4(0.010700305923820,0.012172540649772,-0.025702545419335,-0.156430989503860,-0.048748068511486,-0.127534091472626,0.024278653785586,0.004885263741016,0.061736520379782,-0.121496103703976,0.139279365539551,0.039882063865662,-0.010375044308603,-0.173375412821770,-0.005040718708187,-0.069565519690514));
res += mul(Get(s1,-dx,dy), float4x4(0.011940680444241,-0.007097027264535,-0.030613660812378,-0.070458561182022,0.020787984132767,-0.062992252409458,0.024611227214336,0.038004115223885,0.022410789504647,-0.003977422136813,0.123130761086941,0.174479112029076,-0.017420262098312,-0.096185602247715,0.006436231546104,0.005769687239081));
res += mul(Get(s1,0,-dy), float4x4(0.090116932988167,0.043266352266073,0.038639701902866,-0.101685628294945,-0.155254036188126,-0.004979179240763,-0.066249653697014,0.041023671627045,0.088059581816196,0.002269325079396,-0.057571522891521,0.133191376924515,-0.060241412371397,0.127851158380508,0.003124149050564,0.029817866161466));
res += mul(Get(s1,0,0), float4x4(-0.045818381011486,0.023324495181441,0.007689008023590,0.121164657175541,0.023694131523371,0.109145678579807,-0.055251277983189,0.047760765999556,0.043358650058508,-0.004187465179712,0.122662179172039,-0.023773008957505,0.103189252316952,0.094879254698753,-0.025826914235950,0.057739268988371));
res += mul(Get(s1,0,dy), float4x4(0.083441384136677,0.020714364945889,-0.007525938097388,0.132523700594902,0.019926102831960,0.032868903130293,0.021655639633536,0.027323858812451,0.137141868472099,-0.070048563182354,0.215132385492325,0.044497225433588,0.064027085900307,-0.069485060870647,-0.033096175640821,-0.043011680245399));
res += mul(Get(s1,dx,-dy), float4x4(-0.089987315237522,0.003763740649447,-0.017868436872959,0.030463287606835,-0.016636289656162,-0.065200358629227,-0.022132715210319,-0.016791883856058,0.068034894764423,0.005059954710305,0.041054647415876,-0.020315000787377,0.044449865818024,-0.103907644748688,0.020573027431965,0.015285111032426));
res += mul(Get(s1,dx,0), float4x4(-0.018261749297380,-0.022496510297060,-0.020174004137516,0.096940562129021,-0.008682149462402,0.019718810915947,-0.043080650269985,-0.092675723135471,0.054844096302986,0.007818066515028,0.017459031194448,0.024264149367809,-0.018612904474139,0.072699956595898,-0.087453015148640,0.022919496521354));
res += mul(Get(s1,dx,dy), float4x4(-0.014871549792588,-0.045805826783180,-0.041814167052507,-0.082728125154972,0.082953974604607,0.005716989748180,0.093400545418262,-0.029207248240709,0.035101465880871,-0.052208930253983,0.221265032887459,-0.015159167349339,0.176865860819817,0.054515819996595,0.079688824713230,0.038933772593737));
res += mul(Get(s2,-dx,-dy), float4x4(-0.080950088799000,-0.060863785445690,0.042114473879337,-0.089791856706142,0.110514231026173,-0.092463411390781,0.014866179786623,0.046506758779287,0.043921023607254,-0.007309425156564,-0.034335117787123,0.133396640419960,0.113823965191841,0.230050325393677,0.029113329946995,-0.005693523678929));
res += mul(Get(s2,-dx,0), float4x4(-0.067133136093616,0.037363082170486,0.021992688998580,0.127802923321724,0.032745368778706,0.017194379121065,-0.032760396599770,0.128882393240929,0.045970465987921,-0.041748683899641,-0.007469279691577,0.244022756814957,0.120293915271759,0.160921692848206,-0.024898072704673,0.155838236212730));
res += mul(Get(s2,-dx,dy), float4x4(-0.062612473964691,0.003300871932879,-0.065922543406487,-0.153299197554588,-0.004119590856135,-0.002162432996556,-0.034766577184200,0.029555657878518,0.141236782073975,0.018983315676451,-0.017596239224076,0.081733971834183,0.009673597291112,0.223031386733055,-0.108402073383331,0.065004363656044));
res += mul(Get(s2,0,-dy), float4x4(-0.033847045153379,-0.094247736036777,-0.058133281767368,-0.001269177533686,0.044607609510422,-0.105911388993263,0.093827813863754,-0.007199236657470,0.030129190534353,-0.045646265149117,-0.096990630030632,0.102897688746452,0.011540838517249,0.096347875893116,-0.056505776941776,0.085385806858540));
res += mul(Get(s2,0,0), float4x4(-0.044327188283205,-0.069221787154675,0.060668755322695,0.142136245965958,-0.016320448368788,-0.031155832111835,-0.034803498536348,-0.058864761143923,0.101888835430145,-0.048183418810368,-0.013176602311432,-0.001004189951345,0.058198686689138,0.072066187858582,0.008171693421900,-0.017937589436769));
res += mul(Get(s2,0,dy), float4x4(-0.024828722700477,-0.046642340719700,0.070476777851582,0.091982014477253,0.060159854590893,0.068730458617210,0.009346168488264,0.002791196806356,-0.019522175192833,-0.079706139862537,-0.036512717604637,-0.012969515286386,0.163256406784058,0.105211742222309,0.045370109379292,0.076927192509174));
res += mul(Get(s2,dx,-dy), float4x4(-0.074172005057335,-0.069379210472107,-0.034508958458900,0.019363848492503,0.042845394462347,0.050653871148825,-0.009550956077874,-0.055464133620262,0.042783845216036,0.014730934984982,-0.009726134128869,-0.026874862611294,0.002871701493859,-0.036989118903875,-0.059778127819300,0.081442706286907));
res += mul(Get(s2,dx,0), float4x4(-0.153504461050034,-0.050163369625807,-0.108451873064041,-0.012222894467413,0.018131224438548,-0.111035257577896,0.071922615170479,0.001307458267547,0.070768669247627,0.030407022684813,-0.028477516025305,0.003871845547110,-0.081459112465382,0.073925115168095,-0.053101714700460,0.042686194181442));
res += mul(Get(s2,dx,dy), float4x4(0.055644705891609,-0.031593196094036,-0.025205336511135,-0.002255897270516,0.134320348501205,-0.003953700885177,-0.045527242124081,0.016233230009675,-0.005812582559884,0.021840894594789,-0.016455052420497,-0.010333192534745,0.038335148245096,0.017549024894834,0.084086582064629,0.026077749207616));
res += mul(Get(s3,-dx,-dy), float4x4(0.032470706850290,-0.019118435680866,-0.033628154546022,0.002651565242559,0.039835005998611,-0.022989323362708,-0.066970869898796,-0.024163028225303,-0.001847112551332,0.039525810629129,-0.073490984737873,0.032050713896751,-0.068457365036011,-0.085689321160316,-0.087163463234901,-0.004166358616203));
res += mul(Get(s3,-dx,0), float4x4(-0.004706794861704,0.139440491795540,-0.014340350404382,0.011334738694131,-0.003661141963676,-0.065820604562759,0.062170822173357,-0.101496264338493,-0.056088648736477,-0.022390050813556,-0.038854636251926,-0.016844458878040,-0.051782384514809,-0.161529779434204,-0.079950049519539,-0.079547584056854));
res += mul(Get(s3,-dx,dy), float4x4(0.056434191763401,-0.082446768879890,0.021989207714796,-0.020688816905022,0.060545153915882,-0.087392650544643,-0.101790271699429,0.040464557707310,-0.046351373195648,-0.091565616428852,-0.004728671163321,-0.009178137406707,-0.042900923639536,-0.116141125559807,0.021249823272228,-0.036396671086550));
res += mul(Get(s3,0,-dy), float4x4(0.010445425286889,-0.005542753729969,-0.043000396341085,-0.048125840723515,-0.027608284726739,0.004148513078690,0.001376029569656,0.042291413992643,0.018268998712301,0.003523837542161,0.117840006947517,-0.030539816245437,0.046358324587345,0.021897483617067,0.018559779971838,-0.034277126193047));
res += mul(Get(s3,0,0), float4x4(0.019552508369088,0.034189041703939,-0.014917233958840,0.327686399221420,0.110792636871338,0.059265997260809,0.048301961272955,0.152425050735474,0.065907366573811,0.044987555593252,0.035153709352016,0.038225051015615,-0.059175457805395,-0.004520377144217,-0.114288836717606,0.001083533745259));
res += mul(Get(s3,0,dy), float4x4(0.058529444038868,0.126621007919312,0.060315690934658,0.083709597587585,-0.085770681500435,0.059127103537321,-0.117267839610577,0.008539029397070,-0.010473589412868,0.000073157869338,0.015597770921886,-0.006918332073838,0.082150615751743,0.046877481043339,0.001147706760094,-0.027159258723259));
res += mul(Get(s3,dx,-dy), float4x4(0.129370480775833,0.098437942564487,-0.101261779665947,-0.021405296400189,0.052494656294584,0.054160427302122,-0.034113258123398,0.006522161886096,0.004754830151796,0.004362634383142,-0.031627785414457,0.011144932359457,-0.035666279494762,-0.014485640451312,-0.030966203659773,-0.006453508976847));
res += mul(Get(s3,dx,0), float4x4(-0.020241744816303,0.007886128500104,0.057646557688713,0.115230999886990,0.131938725709915,0.001422609668225,0.100618727505207,-0.072755597531796,0.063764162361622,-0.038598526269197,0.012823558412492,-0.015978833660483,0.029805887490511,0.028313647955656,-0.090247079730034,0.056516095995903));
res += mul(Get(s3,dx,dy), float4x4(-0.102666251361370,-0.017061457037926,-0.052372675389051,-0.023441826924682,-0.077075794339180,0.051492165774107,-0.074864611029625,-0.014644867740571,-0.017720062285662,-0.123754933476448,0.087882183492184,-0.026313925161958,0.024786079302430,0.008614036254585,0.003237721975893,-0.036672286689281));
return max(float4(0,0,0,0), res);
}
