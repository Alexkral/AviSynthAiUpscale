sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.048682052642107,0.058942385017872,-0.022436067461967,-0.109359852969646,0.121331602334976,-0.113693058490753,0.032620750367641,-0.008608740754426,-0.112264730036259,0.176778048276901,0.035434894263744,0.107848301529884,0.073688812553883,-0.041274636983871,-0.058738104999065,-0.043936081230640));
res += mul(Get(s0,-dx,0), float4x4(0.012136622332036,0.122843749821186,0.028519183397293,0.147868037223816,0.169163331389427,-0.144873246550560,0.174171879887581,0.206216484308243,0.013032368384302,-0.085206143558025,0.205276533961296,0.066181108355522,-0.064294919371605,-0.186945274472237,0.034911677241325,-0.066839069128036));
res += mul(Get(s0,-dx,dy), float4x4(-0.094582535326481,0.168823063373566,0.008267728611827,0.065910302102566,0.091606780886650,-0.001615269342437,0.075430236756802,0.121061839163303,-0.034622400999069,0.284270316362381,-0.099017105996609,0.094226144254208,0.068051107227802,0.060362860560417,-0.197864413261414,0.072429895401001));
res += mul(Get(s0,0,-dy), float4x4(-0.056241922080517,0.158297345042229,-0.080708518624306,0.129352748394012,-0.098146952688694,0.035746216773987,0.123267166316509,-0.138216108083725,-0.180609449744225,0.101501427590847,0.030848098918796,-0.199286803603172,-0.050876896828413,-0.123881168663502,0.150416657328606,-0.071104407310486));
res += mul(Get(s0,0,0), float4x4(-0.061020568013191,-0.079809240996838,-0.033765319734812,-0.101843930780888,0.022642327472568,-0.181190192699432,-0.015914805233479,-0.011803749948740,0.105631351470947,-0.057870022952557,-0.033907346427441,0.004851456265897,0.067698843777180,0.037972636520863,-0.093699194490910,-0.134120911359787));
res += mul(Get(s0,0,dy), float4x4(0.181723207235336,0.160082504153252,0.021885517984629,0.273631542921066,0.095172025263309,-0.014978602528572,-0.030647711828351,0.107686102390289,-0.031329698860645,-0.091130509972572,0.195917323231697,0.000459234957816,0.185427293181419,-0.254913955926895,-0.117008909583092,0.015089863911271));
res += mul(Get(s0,dx,-dy), float4x4(-0.011971874162555,-0.048169665038586,0.134995341300964,-0.175931602716446,-0.035221949219704,-0.124092750251293,-0.037630435079336,-0.001994085032493,0.218862682580948,-0.098376184701920,0.040932901203632,-0.106812544167042,0.042068459093571,0.185852482914925,0.015943281352520,-0.093288436532021));
res += mul(Get(s0,dx,0), float4x4(0.079302959144115,0.038855295628309,-0.092296324670315,0.011033182032406,-0.049623597413301,-0.060302205383778,-0.027999360114336,0.054789289832115,0.007812988013029,0.011577143333852,0.088600695133209,0.016660694032907,0.009204995818436,-0.062282655388117,0.306769430637360,0.057099826633930));
res += mul(Get(s0,dx,dy), float4x4(-0.020266385748982,-0.085470743477345,-0.086265951395035,0.084663532674313,-0.136554434895515,-0.017804857343435,-0.128810763359070,0.068685322999954,-0.184750393033028,-0.098596058785915,-0.080647848546505,-0.164844185113907,0.052904162555933,0.021673992276192,0.006493037566543,-0.018137462437153));
res += mul(Get(s1,-dx,-dy), float4x4(0.056185580790043,-0.053813923150301,0.005877703893930,-0.012049046345055,-0.173667356371880,0.024496631696820,0.117212079465389,-0.049007263034582,0.022630138322711,0.093907594680786,0.028767101466656,-0.100432038307190,0.135482326149940,-0.033488649874926,0.206922307610512,-0.009276156313717));
res += mul(Get(s1,-dx,0), float4x4(-0.086904056370258,-0.059001028537750,-0.012129696086049,0.211515694856644,-0.135771244764328,0.044996947050095,-0.043321236968040,-0.021502315998077,-0.058397125452757,0.084992140531540,-0.132920861244202,-0.115674465894699,0.059070941060781,-0.198527336120605,-0.073611326515675,0.208859637379646));
res += mul(Get(s1,-dx,dy), float4x4(-0.131858617067337,0.097988851368427,-0.040593352168798,0.047535907477140,0.110528819262981,0.093819387257099,0.126262739300728,0.151418894529343,0.111745387315750,-0.135143205523491,0.001600007992238,0.255190074443817,0.128452569246292,0.185998260974884,-0.043272968381643,-0.145559564232826));
res += mul(Get(s1,0,-dy), float4x4(0.021471858024597,0.018811572343111,0.038117237389088,0.036265365779400,-0.060711789876223,0.073802359402180,0.024655608460307,-0.087442807853222,0.157456070184708,-0.037109035998583,0.042540673166513,-0.003496134188026,-0.176535531878471,0.034224789589643,0.030367972329259,-0.049396794289351));
res += mul(Get(s1,0,0), float4x4(-0.039543107151985,0.053843416273594,-0.022456843405962,-0.011341227218509,-0.031806599348783,-0.058216780424118,-0.074069790542126,-0.095225512981415,-0.052579738199711,-0.000194591557374,0.046971436589956,0.179493665695190,0.170100420713425,-0.085293397307396,0.074363380670547,0.038981288671494));
res += mul(Get(s1,0,dy), float4x4(-0.217364683747292,-0.000477484456496,-0.008788451552391,0.135767459869385,-0.034035101532936,-0.052291821688414,-0.042549654841423,0.207869708538055,-0.081601850688457,-0.076478593051434,0.034295074641705,0.139441609382629,0.029539123177528,0.039487477391958,-0.071298457682133,-0.057512305676937));
res += mul(Get(s1,dx,-dy), float4x4(-0.008899888955057,0.154220357537270,-0.034734528511763,0.277409315109253,-0.093213409185410,0.043961036950350,0.111964784562588,-0.263544738292694,-0.074718765914440,0.102105833590031,-0.030504399910569,-0.178958788514137,-0.099463082849979,-0.125859454274178,-0.006929262541234,-0.023877490311861));
res += mul(Get(s1,dx,0), float4x4(-0.068112760782242,0.074953220784664,-0.084847971796989,0.042570278048515,-0.094578146934509,0.061159923672676,-0.086937613785267,0.172324061393738,-0.028268942609429,0.044634904712439,0.115173108875751,0.039521101862192,-0.091174215078354,-0.107521809637547,0.030023029074073,-0.087464615702629));
res += mul(Get(s1,dx,dy), float4x4(0.023256681859493,-0.229136809706688,-0.199273958802223,0.106406003236771,-0.007326337508857,-0.120444342494011,0.089141115546227,0.059386994689703,0.030465433374047,0.016050620004535,-0.117261148989201,0.070947252213955,0.190190553665161,-0.238553643226624,0.089765034615993,0.027551243081689));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017434123903513,-0.061220165342093,-0.067756190896034,-0.119222998619080,-0.118523024022579,-0.242547973990440,0.141012474894524,0.063885614275932,-0.040311481803656,0.019788173958659,-0.064913325011730,0.052249394357204,0.008849120698869,0.014164737425745,0.014171447604895,-0.024758607149124));
res += mul(Get(s2,-dx,0), float4x4(-0.066562518477440,0.219181329011917,-0.024904783815145,0.098891742527485,-0.095701687037945,0.084229677915573,0.228882700204849,0.033591978251934,0.013761314563453,-0.037889298051596,0.085221707820892,0.102350972592831,-0.064820490777493,-0.107426278293133,-0.109427809715271,0.020819004625082));
res += mul(Get(s2,-dx,dy), float4x4(-0.001002988079563,-0.080339282751083,0.081154540181160,0.112736709415913,-0.193888053297997,0.077433459460735,0.083142563700676,0.044201605021954,-0.125794947147369,0.014817349612713,0.021942891180515,0.074558824300766,0.007843536324799,-0.102549083530903,-0.085100978612900,0.029377935454249));
res += mul(Get(s2,0,-dy), float4x4(0.114411443471909,0.031501907855272,0.102505542337894,-0.145881146192551,0.124713264405727,0.039371538907290,-0.086808085441589,-0.048730928450823,-0.143625974655151,0.008756116963923,0.165147364139557,-0.133532479405403,0.069315530359745,0.265193611383438,-0.020292423665524,-0.032555080950260));
res += mul(Get(s2,0,0), float4x4(-0.151200443506241,0.167474463582039,0.079649731516838,0.127567991614342,-0.029297534376383,0.108455091714859,-0.007581402081996,-0.056182596832514,-0.279631882905960,-0.081421159207821,-0.153645798563957,-0.194341450929642,-0.111898288130760,-0.056799598038197,0.470382094383240,-0.176002323627472));
res += mul(Get(s2,0,dy), float4x4(-0.130948245525360,-0.108929380774498,-0.111737713217735,0.027079718187451,0.118839576840401,0.101017780601978,-0.071851804852486,-0.095588348805904,0.111153975129128,0.109795697033405,0.063282728195190,-0.001548390137032,0.089227110147476,-0.079420410096645,0.097257427871227,0.015331435017288));
res += mul(Get(s2,dx,-dy), float4x4(-0.093243598937988,0.141403347253799,0.056668307632208,-0.064632132649422,0.017532549798489,-0.043135292828083,-0.056752160191536,-0.061628453433514,0.074734255671501,-0.017943885177374,-0.152302086353302,-0.241895422339439,0.072105005383492,0.214800417423248,-0.108667083084583,-0.114425472915173));
res += mul(Get(s2,dx,0), float4x4(-0.075492165982723,0.020480496808887,-0.100876323878765,-0.168025553226471,0.007794605568051,-0.114481218159199,-0.018469417467713,-0.139163643121719,-0.082621842622757,0.015783263370395,0.090266562998295,0.036547087132931,-0.082258708775043,-0.198221743106842,0.096894167363644,-0.263761162757874));
res += mul(Get(s2,dx,dy), float4x4(-0.037596613168716,-0.048245858401060,0.025167888030410,0.052650813013315,-0.067683354020119,-0.024889009073377,-0.151824027299881,-0.207034483551979,0.074000284075737,-0.037928577512503,-0.067179560661316,-0.050232633948326,-0.081977903842926,-0.129921421408653,0.043766483664513,-0.033006858080626));
res += mul(Get(s3,-dx,-dy), float4x4(-0.102590717375278,-0.019574597477913,-0.071236267685890,-0.022688142955303,0.007255650125444,-0.112477540969849,-0.199655652046204,0.122642137110233,0.040123462677002,0.156199589371681,-0.038576140999794,-0.124275021255016,-0.087269246578217,-0.102368690073490,0.130584076046944,-0.211722299456596));
res += mul(Get(s3,-dx,0), float4x4(0.051739566028118,-0.221542060375214,0.313915669918060,0.071238093078136,-0.032934620976448,-0.104237072169781,0.002564323833212,-0.128458276391029,0.290221035480499,-0.001373532810248,-0.017785519361496,0.003119335975498,-0.021800287067890,0.120268337428570,-0.058272540569305,0.112172588706017));
res += mul(Get(s3,-dx,dy), float4x4(-0.132979616522789,-0.038946066051722,-0.091314233839512,0.153432965278625,-0.068219073116779,0.174386993050575,-0.161702468991280,-0.081439852714539,-0.070083595812321,0.017271971330047,0.003027022816241,0.009252186864614,-0.000513945997227,-0.045588385313749,0.082640632987022,0.310018926858902));
res += mul(Get(s3,0,-dy), float4x4(0.023463003337383,-0.131353244185448,0.019679671153426,0.070569582283497,-0.037020981311798,0.200037166476250,-0.063830696046352,-0.081254042685032,-0.048945002257824,0.188932493329048,-0.032346546649933,0.072220847010612,0.023154834285378,-0.169794708490372,0.163510754704475,-0.026583289727569));
res += mul(Get(s3,0,0), float4x4(-0.003861712291837,-0.000684733153321,0.309531956911087,-0.025407820940018,-0.131903067231178,-0.068621329963207,-0.141779333353043,-0.069557301700115,-0.064827337861061,0.019321318715811,-0.097289510071278,-0.058523848652840,-0.049793861806393,-0.149281874299049,-0.039490174502134,-0.008217842318118));
res += mul(Get(s3,0,dy), float4x4(0.035587836056948,-0.144882038235664,-0.234482884407043,-0.124434433877468,-0.025627408176661,0.054230038076639,-0.017901711165905,0.024240000173450,0.089037656784058,-0.093944579362869,0.143933236598969,-0.109526976943016,0.061699692159891,-0.104685187339783,0.190984666347504,-0.011158977635205));
res += mul(Get(s3,dx,-dy), float4x4(-0.079296417534351,0.014966468326747,0.084879875183105,0.000916727702133,0.073392547667027,-0.055546455085278,-0.063472263514996,-0.157537966966629,-0.004646975081414,-0.037867434322834,-0.106732316315174,0.024140393361449,0.072003938257694,-0.004262215457857,0.006066134665161,0.122087217867374));
res += mul(Get(s3,dx,0), float4x4(-0.144060447812080,0.214165017008781,-0.102969892323017,-0.193339571356773,-0.132420778274536,-0.070843905210495,-0.003319818759337,-0.016214556992054,-0.013011674396694,0.074683591723442,0.022347323596478,-0.005744842346758,-0.126192688941956,-0.150147184729576,0.017833041027188,0.005434241611511));
res += mul(Get(s3,dx,dy), float4x4(-0.180211707949638,0.171335741877556,0.109803423285484,-0.156406044960022,-0.231391832232475,-0.008914227597415,0.145179167389870,-0.020366905257106,-0.006477009039372,0.024776736274362,0.261736154556274,0.134692266583443,0.078400894999504,0.043847776949406,-0.040017139166594,-0.233151376247406));
return max(float4(0,0,0,0), res);
}
