sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.014394702389836,-0.020244350656867,-0.055830452591181,0.123529419302940,-0.052060931921005,0.037984460592270,-0.186249583959579,-0.069846622645855,0.041445065289736,0.023629514500499,0.132112637162209,0.072240576148033,0.046396311372519,0.037554822862148,0.091399393975735,0.035346567630768));
res += mul(Get(s0,-dx,0), float4x4(0.000877158832736,-0.004818879533559,0.165939092636108,0.052126348018646,-0.089365348219872,-0.077313594520092,0.381607472896576,0.070729486644268,-0.161994189023972,-0.020653728395700,0.024037744849920,0.165529280900955,-0.081538744270802,-0.063560158014297,-0.013019496574998,0.044843140989542));
res += mul(Get(s0,-dx,dy), float4x4(-0.123213417828083,0.044496916234493,0.010621792636812,0.118633158504963,-0.010168759152293,0.051410607993603,0.188326641917229,-0.073328748345375,-0.056753300130367,0.055962566286325,0.068584233522415,0.198871105909348,0.144479453563690,-0.051243692636490,0.049886934459209,0.011819252744317));
res += mul(Get(s0,0,-dy), float4x4(0.049217961728573,-0.043444339185953,0.006524087861180,-0.023829750716686,0.076884515583515,-0.009675618261099,-0.027309792116284,-0.011619642376900,0.032319676131010,0.219850972294807,0.076511844992638,-0.100081562995911,0.014701987616718,-0.083980552852154,0.107563570141792,-0.037486638873816));
res += mul(Get(s0,0,0), float4x4(-0.046401783823967,0.030746545642614,0.047361452132463,-0.053024265915155,0.041822735220194,-0.016900300979614,-0.019439797848463,0.183142006397247,-0.162866324186325,0.254504173994064,-0.049901127815247,0.037116516381502,0.018453150987625,-0.178097799420357,-0.030796527862549,-0.057224165648222));
res += mul(Get(s0,0,dy), float4x4(-0.050902288407087,-0.032504949718714,-0.083951547741890,0.009722796268761,0.054224610328674,0.050598841160536,0.006009270902723,0.024173093959689,-0.063559792935848,0.076385237276554,0.006943723652512,0.074440412223339,0.208474367856979,0.034781865775585,-0.012000880204141,-0.063350319862366));
res += mul(Get(s0,dx,-dy), float4x4(-0.004030521027744,-0.005186300724745,-0.016572590917349,0.159681215882301,0.058837626129389,-0.062747888267040,-0.081383414566517,-0.121338032186031,-0.000201809016289,-0.060399737209082,-0.166795462369919,-0.097186371684074,-0.059922490268946,0.055949550122023,0.084010779857635,0.040801029652357));
res += mul(Get(s0,dx,0), float4x4(-0.057928469032049,0.020592957735062,-0.072406090795994,0.102396480739117,-0.005846730899066,-0.000252179946983,0.063998639583588,-0.000534321006853,-0.028592247515917,0.081950008869171,-0.061747927218676,-0.035863440483809,0.067670442163944,-0.188905760645866,0.126255616545677,-0.061886195093393));
res += mul(Get(s0,dx,dy), float4x4(-0.086566694080830,-0.085475541651249,-0.059350132942200,-0.058013819158077,-0.118660636246204,0.012508073821664,-0.007966673932970,-0.047338332980871,-0.053631931543350,0.003640644019470,-0.005707823671401,-0.004875248298049,0.152918741106987,-0.028033208101988,0.034630227833986,-0.068978652358055));
res += mul(Get(s1,-dx,-dy), float4x4(-0.016618968918920,-0.029817672446370,-0.064575687050819,-0.106450617313385,-0.031654573976994,0.094371184706688,0.000568601593841,0.068782031536102,0.070293851196766,0.094535216689110,-0.009138513356447,-0.089883558452129,0.007504182402045,0.017861375585198,-0.064194336533546,-0.064816311001778));
res += mul(Get(s1,-dx,0), float4x4(0.030676122754812,-0.170830383896828,-0.108023181557655,-0.058229140937328,-0.012666752561927,-0.051576439291239,-0.076196864247322,0.135945737361908,0.086149282753468,0.008939473889768,-0.065917059779167,-0.088858477771282,0.004601334687322,0.023295877501369,-0.082699872553349,-0.053298614919186));
res += mul(Get(s1,-dx,dy), float4x4(-0.024309441447258,0.010555909015238,-0.015630440786481,-0.065691240131855,0.053080435842276,-0.055140826851130,0.029565764591098,-0.017283812165260,0.204823136329651,-0.185666486620903,-0.027562685310841,-0.008231445215642,0.085011906921864,0.028637168928981,-0.065150648355484,-0.056017894297838));
res += mul(Get(s1,0,-dy), float4x4(0.007671114057302,0.011787648312747,0.116418756544590,-0.050625357776880,-0.012796089984477,0.013385958038270,-0.069133087992668,-0.022335646674037,0.021575948223472,0.022383939474821,-0.120042398571968,-0.097053773701191,-0.041918683797121,0.113240852952003,0.044343024492264,-0.082346096634865));
res += mul(Get(s1,0,0), float4x4(-0.029230104759336,-0.133170500397682,0.086009882390499,-0.045065067708492,-0.011559986509383,-0.042299836874008,0.189622268080711,0.134652137756348,-0.045562572777271,-0.051898501813412,-0.120022393763065,-0.136274203658104,-0.048576898872852,0.008808067999780,0.018266355618834,0.001658502151258));
res += mul(Get(s1,0,dy), float4x4(-0.006148396525532,-0.051530465483665,-0.013250574469566,-0.091770529747009,0.051548294723034,-0.033366054296494,0.104787178337574,0.007463628891855,-0.073984712362289,-0.051799267530441,-0.140896245837212,-0.050414633005857,-0.013866403140128,-0.054378751665354,-0.011006672866642,-0.011686035431921));
res += mul(Get(s1,dx,-dy), float4x4(0.109587296843529,-0.038452096283436,0.047859195619822,0.024376237764955,-0.020256293937564,-0.019181577488780,-0.014025189913809,-0.076304413378239,-0.024164790287614,0.243662133812904,0.044550031423569,-0.122209332883358,0.012257114984095,0.118067912757397,-0.035765148699284,0.001676495769061));
res += mul(Get(s1,dx,0), float4x4(0.058964211493731,0.002303747925907,0.046776618808508,-0.034555546939373,-0.037881560623646,-0.049682367593050,-0.025485862046480,0.111154220998287,-0.005334677640349,0.088973544538021,-0.001064902520739,-0.149254247546196,-0.024788558483124,-0.017853287979960,-0.096171550452709,0.024987421929836));
res += mul(Get(s1,dx,dy), float4x4(0.078653268516064,0.040357057005167,-0.055867303162813,-0.001201975741424,0.007727726362646,-0.083402283489704,-0.000936658645514,0.064575567841530,-0.068676970899105,-0.000785083568189,-0.065010711550713,0.014161900617182,0.087954439222813,0.074380360543728,-0.025835227221251,-0.006549124605954));
res += mul(Get(s2,-dx,-dy), float4x4(-0.070319153368473,0.083138309419155,-0.054042231291533,0.083460509777069,-0.005000348202884,0.093728266656399,-0.092343918979168,-0.125999912619591,0.095391862094402,0.042685873806477,-0.226013332605362,-0.103097617626190,-0.038343697786331,0.002912176772952,0.103022970259190,0.011950215324759));
res += mul(Get(s2,-dx,0), float4x4(-0.160104125738144,0.046147730201483,-0.071320407092571,0.145241424441338,-0.045030076056719,-0.031695168465376,-0.043138962239027,-0.013001832179725,0.050961107015610,-0.080764189362526,-0.098377950489521,-0.025910641998053,-0.015655642375350,0.127034172415733,0.220779567956924,0.030054237693548));
res += mul(Get(s2,-dx,dy), float4x4(-0.194423466920853,0.029220007359982,0.114387579262257,0.088114447891712,0.045140236616135,0.079884946346283,0.070858329534531,0.090958721935749,0.081215664744377,0.041252020746469,-0.087849937379360,-0.026423566043377,-0.080270282924175,0.027239114046097,-0.177416935563087,0.068605229258537));
res += mul(Get(s2,0,-dy), float4x4(-0.017052512615919,-0.047022562474012,-0.014717492274940,-0.121701054275036,-0.118107415735722,0.019287217408419,-0.031821422278881,-0.113153852522373,-0.061140712350607,0.110343463718891,-0.067274555563927,-0.070443451404572,-0.004272427409887,-0.078365899622440,0.044822715222836,-0.055664159357548));
res += mul(Get(s2,0,0), float4x4(-0.074910745024681,-0.078451111912727,-0.046874992549419,-0.018903169780970,-0.041509851813316,-0.080219909548759,-0.010816777125001,-0.056358654052019,-0.100780576467514,0.065589003264904,0.043289437890053,-0.091175153851509,0.117792546749115,-0.024407122284174,-0.204483136534691,-0.014459780417383));
res += mul(Get(s2,0,dy), float4x4(-0.002074747812003,0.057554084807634,0.080553464591503,0.113229058682919,0.026113661006093,0.068972878158092,0.022968752309680,-0.026573961600661,-0.077708370983601,-0.075793854892254,-0.071214564144611,-0.045397132635117,0.108948618173599,0.073963403701782,0.114993430674076,-0.084952965378761));
res += mul(Get(s2,dx,-dy), float4x4(0.049329571425915,-0.032743919640779,0.000143506811582,-0.169664055109024,-0.029869074001908,-0.063046962022781,-0.018633481115103,-0.147573798894882,-0.034355413168669,-0.050314210355282,-0.051172766834497,0.049889929592609,0.016643382608891,-0.071116305887699,0.077587813138962,0.023622445762157));
res += mul(Get(s2,dx,0), float4x4(0.050380617380142,0.036629714071751,-0.037340294569731,-0.132435739040375,0.080079339444637,-0.026455357670784,-0.104272939264774,-0.079924330115318,-0.050482824444771,0.021931057795882,-0.030289718881249,-0.124528437852859,0.006979669909924,0.034119941294193,-0.068990111351013,0.064158521592617));
res += mul(Get(s2,dx,dy), float4x4(0.100173808634281,0.098319463431835,0.110294297337532,-0.076597467064857,0.166002184152603,0.051478028297424,0.144336119294167,0.052980810403824,0.018002536147833,-0.080426067113876,0.083146139979362,-0.099866650998592,-0.039514176547527,-0.079748913645744,0.134382843971252,-0.136646896600723));
res += mul(Get(s3,-dx,-dy), float4x4(-0.044591024518013,-0.050817407667637,0.009799357503653,-0.083591066300869,0.013268355280161,-0.073687702417374,-0.017810055986047,0.027018768712878,-0.010740963742137,0.050001874566078,0.065119192004204,-0.071991741657257,-0.007986986078322,0.019668638706207,-0.026669304817915,-0.073481485247612));
res += mul(Get(s3,-dx,0), float4x4(0.059987492859364,-0.019988838583231,0.053250029683113,0.008921116590500,-0.065588362514973,0.006931230891496,-0.056891944259405,0.018142770975828,-0.141163870692253,-0.124508015811443,-0.101562365889549,0.105722524225712,-0.041638944298029,-0.044391892850399,0.032257638871670,-0.009704417549074));
res += mul(Get(s3,-dx,dy), float4x4(0.033271197229624,-0.050513610243797,0.057185988873243,0.036425150930882,-0.005136380437762,-0.003959040623158,-0.029026817530394,-0.095101773738861,0.007250805851072,0.057929504662752,-0.059568125754595,0.082142926752567,-0.057469882071018,0.112079083919525,0.026292437687516,0.143561810255051));
res += mul(Get(s3,0,-dy), float4x4(-0.068944796919823,-0.000772496510763,-0.015089056454599,0.043181817978621,0.000415822345531,-0.114599421620369,-0.063768602907658,0.088027663528919,0.036722939461470,-0.022243032231927,0.070197969675064,-0.082473546266556,0.014577210880816,0.000551711360458,0.037341650575399,-0.095224104821682));
res += mul(Get(s3,0,0), float4x4(-0.000555885548238,0.042554579675198,-0.087599605321884,-0.064791359007359,-0.046675041317940,-0.060017202049494,-0.014550841413438,0.072071664035320,-0.041660048067570,0.174559637904167,-0.039024222642183,0.079798936843872,-0.085651636123657,-0.053187012672424,-0.101221092045307,-0.094136931002140));
res += mul(Get(s3,0,dy), float4x4(-0.003810126567259,-0.011220982298255,0.156601414084435,-0.085314273834229,-0.026411537081003,-0.038258880376816,-0.047229930758476,0.026353841647506,-0.004486397374421,0.014509602449834,0.082011304795742,0.138940110802650,-0.081446893513203,0.126917019486427,-0.034125719219446,0.017889762297273));
res += mul(Get(s3,dx,-dy), float4x4(0.002341571031138,-0.034702122211456,-0.018450861796737,0.115852892398834,0.055658861994743,-0.088898524641991,0.124419309198856,0.004506802652031,-0.009712793864310,-0.069487072527409,-0.006990181747824,-0.070188127458096,0.076109886169434,0.020180821418762,0.077484153211117,-0.040555041283369));
res += mul(Get(s3,dx,0), float4x4(0.003191931871697,-0.010821977630258,-0.153903588652611,0.048342060297728,-0.039476260542870,-0.095797218382359,0.054058041423559,0.197866886854172,0.073431350290775,0.158874928951263,-0.016337404027581,-0.190030261874199,0.022061118856072,0.005944378674030,0.018109600991011,-0.029229803010821));
res += mul(Get(s3,dx,dy), float4x4(0.067477978765965,-0.056021690368652,-0.203225553035736,-0.074839308857918,-0.016679322347045,-0.020697804167867,0.003844464896247,-0.037973191589117,0.037280999124050,-0.038322307169437,0.131727367639542,-0.023843463510275,0.007694320753217,0.041849613189697,0.047521952539682,0.090610809624195));
return max(float4(0,0,0,0), res);
}
