sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.147328168153763,-0.116851769387722,0.042663805186749,-0.008524619974196,-0.045022100210190,0.031348921358585,-0.074148356914520,-0.028314415365458,-0.016587311401963,0.016350626945496,-0.016023524105549,0.089157931506634,-0.052320849150419,0.054938402026892,-0.010896293446422,-0.026005655527115));
res += mul(Get(s0,-dx,0), float4x4(0.057595793157816,0.129634216427803,0.185623809695244,0.207239538431168,0.002941101556644,-0.058610487729311,-0.067087009549141,-0.002669882262126,0.023946765810251,0.043088290840387,-0.070660986006260,-0.050840143114328,-0.050291866064072,-0.072157941758633,0.005992870777845,-0.069845996797085));
res += mul(Get(s0,-dx,dy), float4x4(0.117769517004490,0.015421931631863,0.099715031683445,0.024342592805624,0.035689435899258,-0.027778118848801,-0.032817140221596,-0.027558764442801,-0.170750662684441,0.021903766319156,-0.058404073119164,-0.009669534862041,0.026580324396491,0.058187622576952,-0.127826064825058,-0.024482363834977));
res += mul(Get(s0,0,-dy), float4x4(-0.046235714107752,-0.046592310070992,0.043543294072151,-0.055256929248571,-0.015830134972930,-0.037559393793344,-0.045072514563799,-0.093409761786461,-0.124466925859451,0.062102939933538,0.033911060541868,0.099985875189304,-0.025020152330399,0.027962531894445,0.016919266432524,-0.018520927056670));
res += mul(Get(s0,0,0), float4x4(-0.095699116587639,-0.050165370106697,0.107613772153854,-0.031501155346632,-0.011339597404003,-0.019382357597351,0.010070392861962,-0.033156506717205,0.012355781160295,0.033706657588482,-0.033699274063110,0.059274755418301,-0.035774428397417,0.017074780538678,0.133331716060638,0.020123822614551));
res += mul(Get(s0,0,dy), float4x4(0.070442892611027,0.018238887190819,-0.020833484828472,0.138611942529678,0.050598092377186,-0.008390521630645,-0.025533121079206,0.003642803756520,-0.024644374847412,-0.053124360740185,-0.142743170261383,-0.048864345997572,0.040331292897463,0.116671629250050,0.034012049436569,-0.055960167199373));
res += mul(Get(s0,dx,-dy), float4x4(-0.052142355591059,0.012835469096899,-0.009531035088003,0.035882651805878,-0.057402156293392,-0.057813115417957,0.178264319896698,0.054485127329826,0.000862577289809,-0.030383827164769,0.027636134997010,0.059950750321150,-0.094124130904675,0.054401624947786,0.011024669744074,-0.014114814810455));
res += mul(Get(s0,dx,0), float4x4(-0.028250781819224,0.025388626381755,0.117227524518967,-0.052662879228592,-0.001131005003117,-0.077639617025852,0.097744695842266,-0.058702647686005,-0.006797490641475,0.066131740808487,-0.018518989905715,0.162946581840515,0.058578893542290,-0.082517080008984,0.111339226365089,0.042691756039858));
res += mul(Get(s0,dx,dy), float4x4(0.055171318352222,-0.062907598912716,-0.005237899720669,-0.039171431213617,0.099143169820309,-0.079458765685558,0.073161281645298,-0.062724925577641,-0.053734242916107,0.069043926894665,-0.130415886640549,0.036519292742014,-0.069307111203671,0.083953499794006,-0.033432267606258,-0.000421296048444));
res += mul(Get(s1,-dx,-dy), float4x4(0.058926053345203,-0.106151394546032,0.048274990171194,0.028659449890256,0.074329309165478,0.179761603474617,-0.045166470110416,0.040593668818474,-0.036868214607239,-0.036849532276392,0.000844081630930,0.004749608691782,-0.105337589979172,-0.035516984760761,0.149728044867516,0.032144695520401));
res += mul(Get(s1,-dx,0), float4x4(-0.000939882069360,-0.123110689222813,-0.055719085037708,0.028409501537681,0.063923582434654,0.049838889390230,0.031194835901260,0.019804611802101,0.128505721688271,0.017617164179683,-0.020305162295699,0.007718395907432,0.095611929893494,-0.059463858604431,0.115738056600094,-0.081784263253212));
res += mul(Get(s1,-dx,dy), float4x4(-0.034197378903627,0.046425711363554,-0.028648879379034,-0.014672131277621,-0.006909675430506,0.064427562057972,0.034956183284521,0.014579841867089,0.036558549851179,0.067849516868591,-0.202719986438751,-0.100101739168167,0.093853034079075,0.061205789446831,0.085642442107201,-0.148438051342964));
res += mul(Get(s1,0,-dy), float4x4(-0.005419049877673,0.021574255079031,-0.084556601941586,0.022562613710761,-0.088142849504948,0.178114593029022,-0.024952745065093,0.003002453595400,-0.082485519349575,-0.033724151551723,-0.008522614836693,-0.019244659692049,-0.119825042784214,-0.006662406492978,-0.005252887494862,0.081469014286995));
res += mul(Get(s1,0,0), float4x4(-0.017371570691466,0.140266269445419,0.073178842663765,0.008983339183033,0.009662277065217,0.151016637682915,-0.012803655117750,0.023923529312015,-0.091098360717297,0.027754936367273,0.050607379525900,0.079148910939693,0.166178300976753,-0.036047454923391,0.052403122186661,0.138662979006767));
res += mul(Get(s1,0,dy), float4x4(-0.001857343595475,0.045222517102957,0.054345920681953,0.061671882867813,0.075093798339367,0.104163788259029,-0.005638424307108,-0.012494071386755,0.107712566852570,-0.068309180438519,-0.110531359910965,-0.077279292047024,-0.001977036939934,-0.000785837415606,-0.031961109489202,-0.117806792259216));
res += mul(Get(s1,dx,-dy), float4x4(-0.033261924982071,0.014991433359683,0.081821285188198,0.007525943219662,0.109817370772362,-0.011021040380001,0.053089972585440,0.054814174771309,-0.032176252454519,0.066051550209522,-0.020714933052659,-0.015017814002931,-0.123051919043064,-0.046234589070082,-0.002389863599092,-0.101301379501820));
res += mul(Get(s1,dx,0), float4x4(-0.029508186504245,-0.056999731808901,0.126451760530472,0.034402821213007,0.049260161817074,-0.033431250602007,0.089831389486790,-0.060266256332397,-0.036913421005011,0.020802605897188,0.011336414143443,-0.115064479410648,0.047355726361275,-0.020862292498350,0.013612272217870,-0.021667338907719));
res += mul(Get(s1,dx,dy), float4x4(-0.012274182401597,-0.049781188368797,-0.003100412664935,-0.049736179411411,0.061946466565132,0.059777554124594,0.058713354170322,-0.047514714300632,0.032962627708912,-0.088375300168991,-0.078474819660187,-0.013594118878245,0.027992524206638,-0.024343365803361,-0.037482000887394,0.042470607906580));
res += mul(Get(s2,-dx,-dy), float4x4(-0.080591782927513,-0.042984671890736,-0.001812618691474,-0.052623618394136,0.129783034324646,-0.052299968898296,-0.049203902482986,-0.041485428810120,-0.062907576560974,0.096199072897434,0.000986651750281,-0.076295249164104,0.002205326221883,-0.038624256849289,0.138108342885971,-0.004625384695828));
res += mul(Get(s2,-dx,0), float4x4(-0.061145111918449,0.062047176063061,-0.141140744090080,-0.059137236326933,0.033949833363295,0.045963618904352,-0.157950535416603,-0.035438574850559,0.031880106776953,0.001352594816126,0.078540787100792,-0.054962597787380,0.008047943003476,0.001407389412634,0.188131749629974,-0.072767548263073));
res += mul(Get(s2,-dx,dy), float4x4(-0.054203521460295,-0.049724198877811,-0.142094209790230,0.052314620465040,0.081060647964478,0.034677159041166,-0.138001382350922,0.011436023749411,0.057113975286484,0.063326127827168,-0.005428203847259,-0.009309023618698,-0.013298139907420,0.011548237875104,0.243322491645813,-0.031629282981157));
res += mul(Get(s2,0,-dy), float4x4(-0.032580386847258,-0.035256616771221,-0.000101619283669,-0.009350351989269,0.238261789083481,-0.089705385267735,0.093400537967682,0.075987361371517,-0.103323966264725,0.044692333787680,0.117927052080631,0.079613834619522,-0.078739240765572,0.004679906181991,0.053120762109756,0.088459171354771));
res += mul(Get(s2,0,0), float4x4(0.000048324658565,0.009645294398069,0.017647378146648,-0.056797739118338,0.044717416167259,-0.007416781503707,0.008488217368722,-0.094561129808426,-0.014582767151296,-0.003985682502389,0.052404243499041,0.027666699141264,0.068898417055607,0.004656403791159,0.100488133728504,0.025513382628560));
res += mul(Get(s2,0,dy), float4x4(-0.004173506516963,-0.038752261549234,0.002822658512741,-0.091574408113956,0.016392858698964,0.130436241626740,-0.009149183519185,-0.077120259404182,-0.002764791483060,0.058626394718885,0.011099044233561,-0.085108786821365,0.089379578828812,-0.045844454318285,0.180737286806107,-0.080157168209553));
res += mul(Get(s2,dx,-dy), float4x4(0.043583579361439,-0.027200795710087,0.056883286684752,0.034662246704102,0.034871499985456,0.024962371215224,0.063444264233112,0.156497180461884,-0.044368613511324,0.071713276207447,-0.068951755762100,0.065414853394032,-0.034360922873020,-0.007487151771784,-0.091850310564041,-0.006578363943845));
res += mul(Get(s2,dx,0), float4x4(-0.056006174534559,0.080163374543190,0.049590021371841,0.031083114445210,0.160347223281860,-0.029492801055312,0.060818083584309,0.012478005141020,-0.038395348936319,0.025221453979611,-0.057048663496971,0.020991314202547,-0.122697614133358,-0.011986279860139,-0.065075822174549,0.017882205545902));
res += mul(Get(s2,dx,dy), float4x4(-0.121120907366276,-0.023962020874023,0.004358681850135,-0.144630342721939,-0.028647419065237,0.012809201143682,0.097874522209167,-0.133288428187370,-0.004937889985740,0.030726021155715,-0.009030213579535,-0.029828250408173,-0.031986083835363,-0.013205047696829,-0.042382806539536,-0.018555525690317));
res += mul(Get(s3,-dx,-dy), float4x4(0.002060082275420,-0.013901202939451,0.001427067560144,0.042537547647953,-0.030954832211137,0.035851478576660,-0.108606286346912,-0.041830137372017,-0.013214134611189,0.004328158218414,0.017998823896050,0.031922779977322,0.027320282533765,-0.003319098381326,-0.038556709885597,0.083021238446236));
res += mul(Get(s3,-dx,0), float4x4(-0.044464454054832,0.011715547181666,-0.114177756011486,0.020266804844141,0.009238696657121,-0.083107501268387,0.037915807217360,-0.068521887063980,-0.083265408873558,-0.067100442945957,0.053219150751829,0.073100671172142,-0.063637927174568,-0.017605064436793,-0.038512464612722,0.039136942476034));
res += mul(Get(s3,-dx,dy), float4x4(-0.096556387841702,0.021792603656650,-0.143412590026855,0.050909075886011,0.057868171483278,-0.081253789365292,0.035177923738956,-0.100147947669029,0.049146827310324,-0.049028094857931,-0.065047897398472,-0.122278869152069,-0.024069566279650,0.117023862898350,-0.059940911829472,-0.026496784761548));
res += mul(Get(s3,0,-dy), float4x4(-0.135489732027054,0.091970130801201,0.070158675312996,-0.038891337811947,-0.111401386559010,-0.088441655039787,0.047827839851379,-0.038214333355427,0.028886927291751,0.057416658848524,-0.008865572512150,-0.073800489306450,-0.042356017976999,0.125129982829094,-0.080322094261646,0.026797046884894));
res += mul(Get(s3,0,0), float4x4(0.024878380820155,0.113611452281475,0.131308987736702,-0.074399396777153,0.221870675683022,-0.154727980494499,0.144198954105377,0.054523169994354,0.046152822673321,0.065171897411346,-0.050321027636528,0.061760324984789,-0.071175917983055,0.217508852481842,-0.048085827380419,-0.051852956414223));
res += mul(Get(s3,0,dy), float4x4(-0.040713485330343,0.053754437714815,-0.007110620383173,-0.021893570199609,-0.029308376833797,-0.002485319273546,-0.019747199490666,-0.085997261106968,-0.041451539844275,0.122484162449837,-0.126268908381462,-0.030368410050869,0.066223554313183,0.172670587897301,0.017979258671403,-0.036493968218565));
res += mul(Get(s3,dx,-dy), float4x4(-0.129473000764847,0.036048442125320,-0.047224171459675,0.095472335815430,-0.034370649605989,-0.085277378559113,-0.013821471482515,0.001446973881684,0.080505348742008,0.027098910883069,-0.016698289662600,-0.019385714083910,-0.027150236070156,0.049473706632853,-0.078671775758266,-0.000198451365577));
res += mul(Get(s3,dx,0), float4x4(0.080655843019485,-0.100242674350739,-0.109992839396000,0.040185309946537,0.179134652018547,-0.017480468377471,-0.047160226851702,0.055582679808140,0.040103308856487,0.028889864683151,-0.038016419857740,0.014639355242252,-0.006739653181285,-0.124883934855461,0.052797801792622,-0.027155961841345));
res += mul(Get(s3,dx,dy), float4x4(-0.054078303277493,0.010498462244868,-0.129248827695847,-0.153274506330490,0.054233301430941,0.155850395560265,-0.023456538096070,-0.001375812105834,-0.052706878632307,0.096741810441017,-0.070912428200245,-0.020982710644603,0.019717846065760,-0.085148222744465,0.087591290473938,-0.002884611953050));
return max(float4(0,0,0,0), res);
}
