sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.035067282617092,-0.001381002948619,-0.046443663537502,-0.086923085153103,0.120736159384251,0.089623086154461,0.161836296319962,0.078458689153194,-0.035752542316914,-0.055820323526859,-0.110202416777611,0.069414407014847,0.076988898217678,0.135299831628799,0.094562873244286,0.104486346244812));
res += mul(Get(s0,-dx,0), float4x4(0.094979017972946,-0.032566096633673,-0.043871335685253,0.017644420266151,0.090773679316044,-0.154856368899345,0.099369905889034,0.062212172895670,0.125749051570892,0.022732378914952,0.107238583266735,0.070158518850803,0.072036579251289,-0.174335494637489,-0.035773288458586,-0.020136410370469));
res += mul(Get(s0,-dx,dy), float4x4(-0.089471295475960,-0.103414446115494,-0.088236369192600,-0.007521755527705,-0.106581099331379,0.045202072709799,0.070670895278454,-0.096219673752785,-0.110467202961445,-0.015005914494395,0.083123080432415,-0.012835511937737,-0.197458684444427,0.106552734971046,0.006166567094624,-0.028723603114486));
res += mul(Get(s0,0,-dy), float4x4(-0.074339278042316,0.124322295188904,0.148454710841179,-0.105432420969009,-0.042338438332081,0.124894402921200,-0.014167142100632,-0.092503234744072,0.031780548393726,-0.060019984841347,-0.053838726133108,0.079182118177414,0.048674833029509,0.100986227393150,-0.035902202129364,0.061549957841635));
res += mul(Get(s0,0,0), float4x4(0.041063938289881,-0.013600938022137,-0.200426042079926,-0.200272887945175,0.008601222187281,0.009621400386095,-0.063131913542747,0.102190144360065,-0.050127957016230,-0.009261760860682,-0.157071888446808,0.045832514762878,-0.036148659884930,0.155015945434570,-0.096935719251633,0.221727788448334));
res += mul(Get(s0,0,dy), float4x4(0.001022057374939,-0.310376137495041,-0.113262005150318,0.049277212470770,-0.014342634007335,0.076022341847420,0.093637235462666,0.136579617857933,-0.129532590508461,-0.129524141550064,0.028126575052738,-0.003657392458990,0.026559900492430,-0.135999277234077,-0.083990767598152,0.088382348418236));
res += mul(Get(s0,dx,-dy), float4x4(-0.196071505546570,0.044498082250357,-0.122653812170029,-0.060027979314327,0.096265219151974,0.100998662412167,-0.168065741658211,0.053587894886732,-0.015081905759871,0.079195931553841,-0.024911703541875,-0.145223513245583,-0.010312371887267,-0.016163416206837,0.075856827199459,-0.127144932746887));
res += mul(Get(s0,dx,0), float4x4(0.024096483364701,-0.023320393636823,-0.041632059961557,0.022769980132580,-0.045049134641886,0.013123677112162,-0.054192982614040,-0.016288610175252,-0.072329781949520,0.116976425051689,-0.031807206571102,-0.070203363895416,-0.105999156832695,0.015596609562635,0.027574254199862,-0.150199800729752));
res += mul(Get(s0,dx,dy), float4x4(-0.035269491374493,-0.087239384651184,-0.044986929744482,0.066131621599197,0.075000457465649,0.095419466495514,-0.062658756971359,-0.050838038325310,-0.049526467919350,0.118230603635311,0.015630375593901,-0.021905338391662,-0.097402393817902,0.060921959578991,0.076188541948795,0.134758934378624));
res += mul(Get(s1,-dx,-dy), float4x4(-0.076951645314693,-0.008792258799076,0.004327011294663,0.103193424642086,0.174334451556206,0.131867349147797,0.168331742286682,-0.066059768199921,-0.107461787760258,-0.009217788465321,0.075717777013779,0.107318937778473,-0.026108199730515,0.025119222700596,-0.001870171399787,-0.051020316779613));
res += mul(Get(s1,-dx,0), float4x4(0.058230835944414,-0.140294164419174,-0.060755483806133,-0.007075236178935,0.001686716452241,0.104898542165756,0.012261010706425,-0.041394595056772,-0.075929746031761,0.011236197315156,-0.076438814401627,-0.082033246755600,-0.276883929967880,-0.023324519395828,0.055659744888544,0.002480568364263));
res += mul(Get(s1,-dx,dy), float4x4(-0.107337206602097,0.100265279412270,-0.154031991958618,0.037292625755072,-0.147770762443542,0.182020828127861,-0.131400644779205,0.075408458709717,-0.085952557623386,0.122289314866066,0.000683367950842,0.031175620853901,-0.009791742078960,-0.105037488043308,-0.005046499893069,0.111572980880737));
res += mul(Get(s1,0,-dy), float4x4(-0.097189903259277,0.196455582976341,-0.068604275584221,0.198021158576012,0.068841949105263,-0.022774096578360,0.052528087049723,-0.038217835128307,0.021042766049504,-0.008718634955585,-0.102063611149788,-0.028682412579656,-0.109241634607315,-0.109222553670406,0.036115035414696,0.101270005106926));
res += mul(Get(s1,0,0), float4x4(-0.061440329998732,-0.049983095377684,0.023316329345107,-0.031397569924593,-0.047601558268070,0.369272112846375,0.005698270164430,-0.083243452012539,0.120361022651196,0.124913133680820,0.242290928959846,-0.006914065219462,0.195077955722809,0.106448963284492,0.050737679004669,-0.050067491829395));
res += mul(Get(s1,0,dy), float4x4(0.033127639442682,0.059704538434744,0.192417562007904,0.029448585584760,-0.001130622695200,-0.018569795414805,-0.030537921935320,0.105671294033527,0.042668763548136,0.063560910522938,-0.048543706536293,-0.194940358400345,-0.055033434182405,0.014435358345509,-0.020293183624744,0.149407908320427));
res += mul(Get(s1,dx,-dy), float4x4(0.061855144798756,0.056510437279940,0.054441235959530,-0.022475065663457,-0.022714799270034,-0.054985530674458,-0.022766102105379,0.169431254267693,0.060984231531620,0.021563302725554,-0.112001940608025,-0.064794562757015,0.028379738330841,-0.075659401714802,0.017902726307511,-0.055786054581404));
res += mul(Get(s1,dx,0), float4x4(-0.086387827992439,0.240341946482658,-0.153337731957436,0.111159764230251,-0.051833838224411,0.106039956212044,-0.093833744525909,-0.053783874958754,-0.089339956641197,0.017579512670636,0.039533309638500,-0.002380381803960,-0.072918802499771,0.004325299523771,0.060816694051027,-0.084003888070583));
res += mul(Get(s1,dx,dy), float4x4(0.110457584261894,0.013204734772444,0.040560130029917,0.028848886489868,-0.064137421548367,0.024976428598166,-0.086066722869873,0.136977642774582,0.069541960954666,-0.164965644478798,-0.027937196195126,0.193918228149414,0.064248971641064,-0.046131987124681,0.055115152150393,0.087753735482693));
res += mul(Get(s2,-dx,-dy), float4x4(-0.039162363857031,-0.240703627467155,-0.083201333880424,-0.007354008965194,-0.023939890787005,-0.075420044362545,-0.015948478132486,0.033948261290789,-0.158042594790459,-0.109256811439991,-0.109688505530357,-0.030656795948744,-0.211699396371841,0.057852528989315,-0.039293732494116,-0.149889960885048));
res += mul(Get(s2,-dx,0), float4x4(-0.134684547781944,-0.024793086573482,-0.009404371492565,-0.089153945446014,0.069502592086792,0.110140979290009,0.137897372245789,0.085098050534725,-0.016927890479565,0.126418292522430,0.041872285306454,0.076972208917141,-0.059841889888048,0.002502706833184,-0.029844379052520,-0.083412513136864));
res += mul(Get(s2,-dx,dy), float4x4(-0.058127846568823,-0.083994559943676,-0.061281748116016,-0.148063361644745,-0.122362300753593,-0.015621047466993,-0.014836573973298,0.040370803326368,0.109654657542706,-0.110335715115070,0.000190387640032,-0.029873885214329,0.012327813543379,-0.005157927516848,0.093977563083172,0.133450061082840));
res += mul(Get(s2,0,-dy), float4x4(-0.003508803900331,-0.245759770274162,-0.072356536984444,0.281246453523636,-0.097584456205368,0.214629545807838,0.091996029019356,0.204727172851563,-0.084614410996437,-0.185760989785194,-0.049480620771646,0.008429017849267,0.015478279441595,0.011757832020521,-0.027760758996010,-0.093894064426422));
res += mul(Get(s2,0,0), float4x4(-0.076784074306488,0.084283918142319,-0.114270977675915,0.018664458766580,0.149655401706696,0.028375884518027,0.060241539031267,0.115732386708260,-0.072920717298985,0.211516842246056,0.051614090800285,-0.217337995767593,-0.118945091962814,-0.027405194938183,-0.067124664783478,-0.057296622544527));
res += mul(Get(s2,0,dy), float4x4(-0.017401594668627,-0.074105180799961,0.122261837124825,0.073441371321678,0.199619099497795,-0.042440682649612,-0.104559764266014,0.042714610695839,0.000054290343542,-0.035882022231817,0.131480082869530,-0.033831402659416,0.139816954731941,0.108399242162704,-0.145107224583626,0.006900049746037));
res += mul(Get(s2,dx,-dy), float4x4(-0.036749754101038,-0.082467488944530,0.196749299764633,0.145848885178566,-0.020115738734603,0.155416131019592,0.028116457164288,-0.004839189816266,0.026051055639982,-0.214322939515114,-0.044515509158373,0.041118893772364,0.019645497202873,0.009201013483107,0.115269415080547,0.041492849588394));
res += mul(Get(s2,dx,0), float4x4(-0.019588792696595,-0.166639834642410,0.021937286481261,0.034666109830141,-0.013101785443723,-0.110855437815189,0.092951670289040,-0.032387498766184,0.007002929225564,0.035183131694794,0.044641375541687,0.165686771273613,-0.139196455478668,0.016051668673754,0.042939443141222,-0.070482254028320));
res += mul(Get(s2,dx,dy), float4x4(-0.083738684654236,-0.000775198219344,0.065948538482189,0.056751299649477,0.001514519914053,0.047115065157413,-0.084256887435913,0.116319328546524,-0.021031633019447,0.115304999053478,0.067243769764900,-0.206093162298203,-0.127347722649574,-0.163634181022644,-0.021633541211486,0.000000528884186));
res += mul(Get(s3,-dx,-dy), float4x4(-0.010283405892551,0.049870710819960,-0.293615907430649,0.064952187240124,-0.038439448922873,0.035883981734514,0.172979921102524,-0.177814200520515,-0.092303857207298,-0.151463434100151,0.049801770597696,0.031730275601149,-0.014204224571586,-0.092988982796669,0.085129059851170,0.062051292508841));
res += mul(Get(s3,-dx,0), float4x4(-0.077848568558693,0.023614723235369,0.069410808384418,-0.049118939787149,-0.042359825223684,0.030271511524916,0.100027926266193,-0.055044446140528,-0.076200723648071,0.062031298875809,0.004394654184580,-0.078065909445286,0.066837571561337,0.044001955538988,0.148846641182899,0.037199042737484));
res += mul(Get(s3,-dx,dy), float4x4(-0.046937663108110,-0.063006557524204,0.137853100895882,-0.056376922875643,0.056299362331629,-0.144915282726288,0.195536151528358,-0.005692054983228,-0.121869653463364,0.201369419693947,-0.023105759173632,0.050457619130611,0.074558578431606,0.032640047371387,0.042539715766907,0.128152102231979));
res += mul(Get(s3,0,-dy), float4x4(-0.064305894076824,0.116878367960453,0.065712876617908,0.108738914132118,-0.088581323623657,-0.038955569267273,0.048358559608459,0.008200833573937,0.012195466086268,-0.146804109215736,0.126177027821541,-0.116448767483234,-0.120218291878700,0.019593318924308,0.042384762316942,-0.119548425078392));
res += mul(Get(s3,0,0), float4x4(-0.038137461990118,-0.029008520767093,0.111776478588581,0.030187964439392,-0.021498721092939,0.109266877174377,-0.032152403146029,-0.143132209777832,0.019108336418867,-0.069850876927376,-0.006071165204048,-0.037255339324474,0.088355764746666,0.119661778211594,0.004603559151292,0.194627091288567));
res += mul(Get(s3,0,dy), float4x4(0.085301280021667,-0.049347288906574,0.060109589248896,-0.023502243682742,0.006038867868483,-0.026124408468604,-0.015533331781626,0.111912406980991,-0.090072602033615,0.023118764162064,-0.121587760746479,-0.060787081718445,0.019306937232614,0.095036432147026,0.220524907112122,0.062092009931803));
res += mul(Get(s3,dx,-dy), float4x4(-0.017056135460734,0.154180631041527,-0.162124067544937,0.076688081026077,0.002681208774447,-0.105933696031570,-0.019553849473596,0.020820520818233,0.067937381565571,-0.056061290204525,0.037657964974642,-0.139939904212952,0.099143780767918,-0.089974865317345,0.077565819025040,-0.002896265825257));
res += mul(Get(s3,dx,0), float4x4(0.035030420869589,0.020509086549282,0.005344693083316,-0.046488318592310,-0.024658041074872,-0.037858564406633,-0.077411539852619,-0.085852347314358,-0.161462426185608,0.093432337045670,-0.118992201983929,-0.124313428997993,0.071489728987217,-0.033609949052334,0.058634851127863,0.049760442227125));
res += mul(Get(s3,dx,dy), float4x4(-0.066792070865631,-0.157795488834381,0.036138229072094,-0.016064099967480,-0.019005712121725,-0.117199882864952,0.222492784261703,-0.003697800915688,0.013075883500278,0.123623996973038,0.028684522956610,-0.000034569751733,-0.098466150462627,0.101464927196503,0.023390097543597,0.246542721986771));
return max(float4(0,0,0,0), res);
}
