sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.041269846260548,0.049482397735119,0.045706104487181,0.024044457823038,-0.075265012681484,0.001472040545195,-0.059577696025372,-0.034723505377769,-0.010359116829932,0.103650331497192,0.084362596273422,-0.001196488505229,0.084792166948318,0.100713580846786,0.068242341279984,0.029330022633076));
res += mul(Get(s0,-dx,0), float4x4(-0.044060032814741,-0.027990581467748,-0.151817634701729,-0.082519009709358,0.027474448084831,0.178966313600540,-0.083490721881390,0.042976241558790,0.022786993533373,-0.103058658540249,-0.170009404420853,0.143692031502724,-0.007218895945698,-0.125977724790573,-0.026439869776368,-0.166632056236267));
res += mul(Get(s0,-dx,dy), float4x4(0.006237928289920,-0.149329677224159,-0.103102914988995,0.061664551496506,-0.045120965689421,-0.113711051642895,0.217559605836868,0.205095529556274,-0.007874652743340,-0.075421944260597,-0.118384465575218,-0.002484421245754,-0.085134379565716,-0.083693094551563,-0.020155722275376,0.058405768126249));
res += mul(Get(s0,0,-dy), float4x4(0.088488742709160,0.111278913915157,-0.109911032021046,0.188222825527191,0.055786460638046,0.145631417632103,-0.219388231635094,-0.021021893247962,-0.140689179301262,0.012373743578792,-0.006437124218792,0.012150955386460,-0.133154064416885,-0.144428044557571,0.041296627372503,-0.022595757618546));
res += mul(Get(s0,0,0), float4x4(-0.040855731815100,0.002520534442738,-0.115516558289528,0.125826060771942,-0.127012103796005,-0.176995500922203,-0.041774090379477,-0.096380338072777,0.140665516257286,-0.222933486104012,0.083929494023323,0.021804708987474,-0.119526416063309,0.120710827410221,-0.012123339809477,0.142307102680206));
res += mul(Get(s0,0,dy), float4x4(-0.181963339447975,0.014708120375872,-0.026888553053141,-0.178728297352791,-0.041734039783478,0.147754371166229,-0.030657781288028,-0.023935435339808,0.186476811766624,0.002755134366453,0.012322213500738,0.021726405248046,0.002430899301544,0.016050418838859,-0.258157104253769,-0.065867297351360));
res += mul(Get(s0,dx,-dy), float4x4(-0.008117669261992,0.124232739210129,0.141494944691658,-0.061547927558422,0.105456650257111,-0.125527098774910,-0.135902017354965,0.152854204177856,0.089858517050743,0.119041003286839,-0.104845166206360,0.071798272430897,0.052025664597750,-0.037106517702341,-0.054092854261398,0.213945314288139));
res += mul(Get(s0,dx,0), float4x4(0.165730163455009,-0.234623000025749,0.022743824869394,0.068014129996300,-0.173358142375946,-0.046446844935417,0.020244216546416,0.081706486642361,0.017607290297747,0.123270079493523,0.136844560503960,0.005239342339337,0.033546794205904,0.016650000587106,0.041630599647760,0.088146530091763));
res += mul(Get(s0,dx,dy), float4x4(0.128979310393333,0.075557552278042,0.015585484914482,-0.087922312319279,0.149575546383858,0.108791090548038,-0.015860203653574,-0.122054815292358,-0.079810172319412,0.083695381879807,-0.099077396094799,-0.073202192783356,-0.000639642064925,-0.040222957730293,-0.099998712539673,0.091211229562759));
res += mul(Get(s1,-dx,-dy), float4x4(0.092743128538132,-0.103144243359566,0.128831297159195,0.215931102633476,0.057931486517191,0.118480108678341,-0.093954525887966,0.028510039672256,-0.033474374562502,0.147597521543503,0.212994039058685,-0.032293517142534,0.120257779955864,0.283330261707306,0.019467664882541,0.078518889844418));
res += mul(Get(s1,-dx,0), float4x4(0.103385150432587,0.003817670978606,-0.092396669089794,-0.029822820797563,-0.008805676363409,0.002969207940623,-0.003974487539381,-0.106346808373928,-0.084844082593918,0.070535108447075,-0.059347432106733,-0.031251568347216,-0.094714492559433,-0.007130065001547,0.098234228789806,-0.077451534569263));
res += mul(Get(s1,-dx,dy), float4x4(-0.006884848233312,0.030183587223291,-0.005768067203462,0.160610735416412,0.003124292707071,0.005923557560891,0.062531031668186,0.055879920721054,0.116011559963226,0.122780621051788,-0.097831949591637,0.002686856081709,0.174716874957085,-0.037586659193039,0.221967443823814,-0.191128030419350));
res += mul(Get(s1,0,-dy), float4x4(-0.023478142917156,-0.129414796829224,0.088835462927818,-0.047080826014280,-0.021470749750733,-0.160022571682930,0.005249981302768,0.076276719570160,-0.054879929870367,0.034602455794811,0.037897571921349,-0.159485667943954,0.206193774938583,0.025765370577574,-0.087145194411278,-0.082307316362858));
res += mul(Get(s1,0,0), float4x4(-0.131610617041588,0.073645234107971,-0.128562644124031,-0.035893633961678,-0.031932082027197,-0.131878614425659,0.085868448019028,0.158172041177750,0.125376388430595,-0.075628645718098,-0.023404460400343,-0.071085847914219,0.115245833992958,0.038392562419176,-0.129079639911652,0.087969101965427));
res += mul(Get(s1,0,dy), float4x4(-0.083985880017281,-0.108809195458889,0.092877477407455,0.085880376398563,0.034408450126648,0.034306719899178,-0.075199589133263,0.104975588619709,0.042650535702705,-0.065798126161098,0.000191405531950,-0.161487817764282,0.106176033616066,0.016633482649922,-0.023731900379062,-0.039901725947857));
res += mul(Get(s1,dx,-dy), float4x4(-0.106227084994316,-0.049701109528542,-0.080711662769318,-0.174788817763329,0.134360238909721,-0.218548700213432,-0.027332948520780,-0.241840064525604,0.189012646675110,0.269261568784714,-0.068167291581631,0.004014583770186,-0.217836543917656,-0.010385071858764,-0.083052575588226,0.174324020743370));
res += mul(Get(s1,dx,0), float4x4(-0.020635370165110,0.025951292365789,0.074536301195621,0.100672781467438,0.105713836848736,0.043731283396482,-0.045637730509043,0.073582112789154,0.041451953351498,0.018038962036371,-0.005915343295783,-0.067297458648682,-0.098759487271309,-0.000095412367955,-0.030254831537604,-0.059775613248348));
res += mul(Get(s1,dx,dy), float4x4(0.005214091856033,0.058811653405428,-0.119932666420937,0.068037934601307,0.115146659314632,-0.102313689887524,0.056073959916830,0.260266661643982,0.173523679375648,-0.102096378803253,-0.028286689892411,0.158489346504211,-0.011988469399512,0.077612146735191,0.078098230063915,0.090284191071987));
res += mul(Get(s2,-dx,-dy), float4x4(-0.137953758239746,-0.086993865668774,-0.005380360409617,0.004592929501086,0.109970442950726,0.230209559202194,-0.083871915936470,0.247207403182983,0.083181291818619,-0.074965484440327,0.002683582250029,-0.099427655339241,0.158340841531754,0.024662742391229,-0.152179837226868,-0.001283804653212));
res += mul(Get(s2,-dx,0), float4x4(0.067656442523003,-0.188206851482391,0.099207982420921,-0.026265958324075,0.137134760618210,-0.238285481929779,0.063598088920116,0.059285301715136,-0.159008115530014,0.044232174754143,-0.051725607365370,0.055030118674040,0.028845164924860,-0.020201813429594,-0.018960865214467,-0.076155036687851));
res += mul(Get(s2,-dx,dy), float4x4(-0.033393584191799,0.202496513724327,0.140612348914146,-0.067469745874405,0.001265640719794,0.183117747306824,0.005327624268830,0.188297912478447,-0.034282241016626,0.116343945264816,0.011729799211025,0.133011266589165,-0.138269081711769,0.085758410394192,-0.001709921751171,0.077212452888489));
res += mul(Get(s2,0,-dy), float4x4(0.048487063497305,-0.006897982675582,-0.047137755900621,0.111370638012886,0.003625876735896,0.192653909325600,0.043004643172026,0.006697364151478,0.108036257326603,-0.170532077550888,-0.154187694191933,0.084478743374348,-0.159819096326828,-0.011724997311831,0.201047375798225,-0.043347232043743));
res += mul(Get(s2,0,0), float4x4(-0.097075924277306,0.062177564948797,0.122505798935890,0.014400449581444,-0.212537497282028,0.066558837890625,0.062327682971954,0.049817774444818,0.055427610874176,0.096473991870880,0.138689398765564,0.130033805966377,0.031255964189768,-0.026937929913402,-0.283277988433838,-0.107240207493305));
res += mul(Get(s2,0,dy), float4x4(0.092249490320683,0.088471665978432,-0.024491881951690,0.002093573333696,0.134729981422424,-0.042409878224134,-0.110469467937946,0.096277408301830,-0.005652874242514,0.145163774490356,0.036941379308701,-0.211170330643654,-0.203903675079346,-0.025758121162653,-0.120164379477501,0.062036149203777));
res += mul(Get(s2,dx,-dy), float4x4(-0.023842725902796,0.079759225249290,-0.002669530455023,-0.039683267474174,0.005978078581393,0.060619480907917,-0.128623932600021,0.055556826293468,-0.120926253497601,0.046527039259672,0.153921723365784,-0.022663988173008,-0.066154025495052,-0.107427105307579,-0.167433351278305,0.088436737656593));
res += mul(Get(s2,dx,0), float4x4(0.151946187019348,0.070197723805904,-0.033177699893713,0.046116039156914,-0.061924036592245,-0.137121498584747,0.023684421554208,-0.162939831614494,-0.085433229804039,0.106125779449940,0.096292302012444,0.047197196632624,-0.038297314196825,-0.100416570901871,-0.030176579952240,-0.041586410254240));
res += mul(Get(s2,dx,dy), float4x4(-0.187931552529335,-0.119941323995590,0.185339376330376,-0.104009144008160,0.028493082150817,0.092357732355595,-0.094352826476097,-0.023264978080988,-0.197669982910156,-0.149930775165558,-0.066828303039074,-0.140737816691399,0.388437896966934,-0.106166534125805,0.055997449904680,0.098232463002205));
res += mul(Get(s3,-dx,-dy), float4x4(0.044248457998037,-0.001843877136707,0.181797668337822,-0.014440430328250,-0.012772988528013,-0.026536077260971,0.091074004769325,0.202819496393204,0.113533973693848,0.070468015968800,-0.074620075523853,-0.069070309400558,-0.088698200881481,-0.055133435875177,0.009874610230327,-0.030654713511467));
res += mul(Get(s3,-dx,0), float4x4(-0.175782054662704,-0.077877886593342,0.134850457310677,-0.108382798731327,-0.140307411551476,0.004953883122653,-0.044660344719887,0.154743641614914,-0.105610936880112,0.050983089953661,0.053475286811590,-0.036240343004465,0.093402810394764,0.167837455868721,0.155360251665115,0.036428090184927));
res += mul(Get(s3,-dx,dy), float4x4(0.034484367817640,0.167722254991531,-0.012829527258873,-0.209697619080544,-0.211662545800209,-0.075507164001465,0.092666730284691,0.022096607834101,-0.206220999360085,-0.062460318207741,0.082422882318497,0.228583097457886,0.123998269438744,0.054072294384241,0.003402613569051,0.161412224173546));
res += mul(Get(s3,0,-dy), float4x4(0.177271395921707,-0.033652357757092,0.122479170560837,0.113558731973171,0.004026607144624,0.126857176423073,0.064461283385754,0.066444225609303,-0.025235498324037,-0.011707915924489,0.089142546057701,0.083411365747452,0.141091346740723,-0.213772803544998,0.050549883395433,0.041103798896074));
res += mul(Get(s3,0,0), float4x4(0.034250285476446,0.176154196262360,0.013043023645878,0.173649892210960,0.059384219348431,-0.078733295202255,-0.080947145819664,-0.074762873351574,-0.164924427866936,-0.076364904642105,0.120403483510017,-0.104149483144283,-0.051441758871078,0.093620114028454,-0.006667611189187,-0.013212059624493));
res += mul(Get(s3,0,dy), float4x4(0.010676519945264,0.031860992312431,-0.124021351337433,-0.004053683020175,-0.290822058916092,-0.005075905472040,-0.009443472139537,0.045302737504244,-0.094770066440105,-0.171114787459373,0.044516939669847,0.227972850203514,0.135662496089935,0.012009144760668,0.098784647881985,0.158574953675270));
res += mul(Get(s3,dx,-dy), float4x4(-0.143751248717308,-0.083953022956848,-0.107729136943817,0.069595232605934,-0.097835414111614,-0.058561418205500,0.100495323538780,-0.057426635175943,0.300756335258484,0.028147179633379,0.014494509436190,-0.168457880616188,-0.075236789882183,-0.082698918879032,-0.090068422257900,0.171951994299889));
res += mul(Get(s3,dx,0), float4x4(-0.438981056213379,0.070920206606388,-0.060698933899403,-0.056159745901823,-0.026857275515795,0.112295769155025,-0.003146266099066,0.204310551285744,-0.001344757154584,-0.054079797118902,-0.066903650760651,-0.047047089785337,0.087081268429756,-0.010872006416321,-0.132188990712166,-0.098714955151081));
res += mul(Get(s3,dx,dy), float4x4(-0.026785364374518,0.121552415192127,0.086173169314861,0.163775011897087,-0.005766449496150,0.057154674082994,0.052544131875038,0.060812775045633,-0.010872893966734,-0.126957118511200,-0.008879683911800,0.027339551597834,-0.331338018178940,0.058545578271151,0.220839038491249,-0.103434428572655));
return max(float4(0,0,0,0), res);
}
