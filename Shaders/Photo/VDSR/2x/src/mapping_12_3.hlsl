sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.016231808811426,-0.050487231463194,0.046896502375603,-0.084567323327065,0.055429242551327,0.065256312489510,0.018647566437721,-0.020115531980991,-0.002049471018836,-0.196403935551643,-0.055378034710884,-0.081797115504742,-0.076488591730595,-0.017670707777143,0.002805603900924,0.157815843820572));
res += mul(Get(s0,-dx,0), float4x4(0.155713915824890,-0.013920406810939,0.155648112297058,-0.065890878438950,-0.197430744767189,0.094894506037235,0.143897473812103,0.060615368187428,-0.058957621455193,-0.159303516149521,0.111865192651749,-0.067968115210533,0.065622135996819,-0.049069289118052,0.067536741495132,0.027987625449896));
res += mul(Get(s0,-dx,dy), float4x4(-0.099109023809433,-0.044192679226398,0.067732997238636,-0.056899778544903,-0.105874478816986,-0.112191587686539,-0.094639696180820,0.019414326176047,0.066445857286453,0.009317479096353,0.106919072568417,0.009857457131147,-0.009533650241792,0.011726957745850,-0.058382742106915,-0.079823158681393));
res += mul(Get(s0,0,-dy), float4x4(-0.065795958042145,-0.054066412150860,0.110675290226936,-0.002219035755843,0.056159034371376,-0.117582097649574,0.097235739231110,0.076047569513321,0.232904672622681,-0.029259977862239,0.026238951832056,-0.059997994452715,0.089617066085339,-0.152630358934402,0.061875794082880,-0.198085993528366));
res += mul(Get(s0,0,0), float4x4(0.003665728727356,0.067432343959808,0.045586690306664,0.121658235788345,0.096431538462639,-0.023684021085501,0.050602823495865,0.097590148448944,0.126349389553070,0.032449886202812,0.036861471831799,-0.101342201232910,0.114999286830425,0.125223904848099,-0.017656296491623,-0.012653498910367));
res += mul(Get(s0,0,dy), float4x4(-0.023662667721510,-0.004459419287741,-0.060499168932438,-0.054819956421852,0.000442634802312,-0.115534551441669,-0.101628914475441,0.091333545744419,0.007980359718204,-0.007894151844084,-0.171620756387711,-0.134151667356491,0.077555708587170,0.159188583493233,0.081025913357735,0.049407716840506));
res += mul(Get(s0,dx,-dy), float4x4(-0.038116876035929,-0.123537398874760,-0.119072869420052,-0.029147855937481,-0.125319108366966,-0.151784032583237,0.017842112109065,-0.113546773791313,0.030834194272757,-0.068752378225327,0.148331508040428,0.137770548462868,-0.037043362855911,0.048475105315447,-0.037483695894480,-0.155829966068268));
res += mul(Get(s0,dx,0), float4x4(0.195768103003502,-0.054807256907225,0.055533736944199,-0.078570075333118,0.157348155975342,0.125280991196632,0.111579984426498,0.026368973776698,-0.035889867693186,-0.139703065156937,0.148522645235062,-0.151473760604858,-0.080689959228039,-0.040257714688778,0.005341061856598,0.033675078302622));
res += mul(Get(s0,dx,dy), float4x4(0.055546756833792,-0.057577274739742,-0.113079220056534,-0.063728369772434,0.111570499837399,0.036300446838140,-0.081511519849300,0.033289574086666,-0.051297057420015,-0.151194959878922,0.190212354063988,-0.027054633945227,-0.171861752867699,0.142295762896538,-0.147547423839569,-0.045197352766991));
res += mul(Get(s1,-dx,-dy), float4x4(0.022936085239053,-0.123075194656849,0.145028486847878,-0.199941813945770,0.014786131680012,-0.040918018668890,-0.008377183228731,0.011797103099525,0.027324555441737,0.188595697283745,0.031471561640501,-0.035373568534851,-0.132687702775002,0.001753041055053,0.132326647639275,0.030493708327413));
res += mul(Get(s1,-dx,0), float4x4(0.180829331278801,0.082797504961491,0.053811382502317,0.001412574667484,0.057105194777250,-0.042980451136827,-0.102213039994240,-0.123621873557568,0.026803266257048,-0.021312268450856,-0.135864883661270,0.135000571608543,0.045499630272388,-0.015260812826455,0.132440790534019,0.032771077007055));
res += mul(Get(s1,-dx,dy), float4x4(-0.136839509010315,0.145422473549843,0.019478205591440,0.074884243309498,-0.088375188410282,0.099036417901516,0.012611457146704,0.020627148449421,0.073509089648724,-0.058744918555021,-0.073230884969234,-0.001804496976547,-0.023274637758732,0.003066604258493,0.081312358379364,0.150567293167114));
res += mul(Get(s1,0,-dy), float4x4(0.039119683206081,0.012123044580221,0.074579074978828,-0.169154450297356,-0.008774843066931,0.096263244748116,-0.109504736959934,-0.145871043205261,0.054426878690720,0.039257377386093,-0.116000317037106,0.134052276611328,-0.221407055854797,0.095590598881245,0.006545631680638,-0.054741989821196));
res += mul(Get(s1,0,0), float4x4(0.086421400308609,0.204230234026909,0.010534858331084,0.102871291339397,0.132890880107880,-0.063142672181129,0.094589434564114,-0.234766378998756,0.162928715348244,0.086160443723202,-0.064367935061455,-0.051569119095802,0.029516374692321,0.130865737795830,-0.009625698439777,0.065594464540482));
res += mul(Get(s1,0,dy), float4x4(0.014997248537838,0.152991488575935,-0.027866682037711,-0.001852083369158,0.039909578859806,0.081233702600002,0.024842496961355,-0.067622520029545,0.164621204137802,0.078896209597588,0.043449010699987,0.110135123133659,0.133424505591393,-0.065631330013275,0.061836946755648,-0.022054392844439));
res += mul(Get(s1,dx,-dy), float4x4(-0.010686075314879,-0.172250941395760,-0.020862286910415,0.051504243165255,-0.022776285186410,0.009257216006517,0.154044136404991,0.190121456980705,-0.076884582638741,-0.232977077364922,-0.071562007069588,-0.108585566282272,-0.002527631120756,0.096115469932556,-0.054124876856804,-0.062356211245060));
res += mul(Get(s1,dx,0), float4x4(0.199870347976685,0.019433824345469,0.077542096376419,0.019539630040526,-0.022827584296465,-0.037981994450092,0.150827720761299,0.192364484071732,-0.105554424226284,0.138889461755753,0.055636845529079,0.220069229602814,0.125052571296692,-0.052426628768444,-0.169269695878029,-0.077884659171104));
res += mul(Get(s1,dx,dy), float4x4(0.044108439236879,0.085433013737202,0.014591519720852,-0.089214883744717,0.081702329218388,0.104959554970264,0.102982200682163,0.159419924020767,-0.130715072154999,0.041961930692196,0.158227905631065,0.061445973813534,0.152274459600449,-0.081932321190834,0.033111944794655,-0.225935012102127));
res += mul(Get(s2,-dx,-dy), float4x4(0.073552854359150,-0.062774732708931,-0.004640729632229,0.159095570445061,0.031589087098837,-0.003109270008281,-0.039097134023905,0.105715334415436,0.246859550476074,0.017680730670691,0.153004586696625,-0.113909333944321,-0.090595640242100,0.253730088472366,-0.147436037659645,0.058586709201336));
res += mul(Get(s2,-dx,0), float4x4(0.231814131140709,0.196445539593697,-0.085461221635342,0.016726309433579,-0.027670525014400,-0.071852624416351,0.264524340629578,-0.039855290204287,-0.044154252856970,0.009656614623964,0.096965491771698,0.115201428532600,0.058720827102661,0.088002324104309,-0.154538393020630,0.178984358906746));
res += mul(Get(s2,-dx,dy), float4x4(-0.186777219176292,-0.038117483258247,-0.014327903278172,0.141685247421265,-0.127784073352814,-0.068394668400288,0.132886141538620,-0.036555089056492,0.096885763108730,0.077117063105106,0.154360234737396,0.045266747474670,0.096734002232552,-0.052885141223669,-0.080637387931347,-0.085744403302670));
res += mul(Get(s2,0,-dy), float4x4(0.161281526088715,0.107403919100761,-0.079324781894684,-0.151492401957512,0.094162017107010,-0.086863249540329,-0.107743896543980,0.089557372033596,-0.046340487897396,0.024413393810391,-0.137962296605110,-0.095717690885067,0.014966301620007,-0.015037681907415,0.153859436511993,0.137564361095428));
res += mul(Get(s2,0,0), float4x4(0.039175160229206,0.007959552109241,-0.075900517404079,-0.027964554727077,0.055779494345188,0.089969091117382,-0.101920843124390,0.012476455420256,0.141604423522949,-0.006386412773281,0.193737387657166,0.067863345146179,0.012040787376463,-0.090321905910969,0.163649916648865,0.075513869524002));
res += mul(Get(s2,0,dy), float4x4(-0.136351719498634,0.043281160295010,0.187005877494812,-0.040836073458195,0.013718367554247,-0.032499242573977,0.009261560626328,0.069365188479424,-0.069934673607349,0.072403065860271,0.111084528267384,0.047060005366802,0.125194504857063,-0.072851829230785,0.021408952772617,0.001375723048113));
res += mul(Get(s2,dx,-dy), float4x4(0.138873890042305,-0.133220657706261,-0.141352117061615,0.029323000460863,0.054922156035900,-0.135699629783630,0.024079132825136,0.014972778037190,-0.036012105643749,-0.065679110586643,-0.022145742550492,-0.147439882159233,-0.023653758689761,-0.243988111615181,0.029365761205554,-0.008385460823774));
res += mul(Get(s2,dx,0), float4x4(0.084111675620079,0.146960526704788,0.074521511793137,0.039929706603289,-0.071182399988174,0.066618494689465,-0.100523099303246,-0.258889943361282,0.319892555475235,-0.138518109917641,0.013203285634518,0.065433718264103,0.106417514383793,-0.083517126739025,-0.103996247053146,-0.187599182128906));
res += mul(Get(s2,dx,dy), float4x4(0.040230281651020,-0.227786183357239,-0.049340460449457,0.068976826965809,-0.065016977488995,-0.045554980635643,-0.108277782797813,-0.015894304960966,0.193469196557999,-0.152081593871117,0.000528584176209,0.025170937180519,0.009566362947226,-0.073533236980438,0.019349941983819,-0.106953375041485));
res += mul(Get(s3,-dx,-dy), float4x4(0.047779720276594,0.023510588333011,-0.020377703011036,-0.186475977301598,-0.068611487746239,-0.115932449698448,0.061638269573450,0.129650160670280,-0.121030718088150,-0.031245740130544,0.167313113808632,0.019550459459424,-0.027251100167632,0.026294175535440,0.109913058578968,-0.117874175310135));
res += mul(Get(s3,-dx,0), float4x4(-0.188557133078575,0.070959255099297,0.135347887873650,-0.035442925989628,0.104639016091824,-0.053041506558657,0.067706823348999,0.035840593278408,-0.008083672262728,-0.039135575294495,-0.015944274142385,-0.063879325985909,-0.035500034689903,0.017508236691356,-0.137275874614716,-0.139649853110313));
res += mul(Get(s3,-dx,dy), float4x4(0.020407114177942,0.025089634582400,-0.158772945404053,0.009320325218141,0.214643314480782,-0.051256474107504,-0.045249037444592,-0.007258873898536,0.162604779005051,-0.089735105633736,-0.098499774932861,0.002325559966266,0.079817838966846,-0.026668807491660,0.072710469365120,-0.163945809006691));
res += mul(Get(s3,0,-dy), float4x4(0.084889873862267,0.048726335167885,0.151953384280205,0.132639050483704,0.021386440843344,-0.040611531585455,-0.047243803739548,-0.096567332744598,-0.135135546326637,0.053142558783293,0.002280107233673,-0.161685526371002,-0.085827678442001,0.014200166799128,0.017716281116009,-0.170096099376678));
res += mul(Get(s3,0,0), float4x4(-0.168922260403633,0.059241138398647,-0.024626713246107,-0.019861739128828,-0.058865517377853,0.010047727264464,0.020485041663051,-0.031285364180803,-0.081087931990623,-0.069545127451420,-0.026939317584038,0.002335818484426,0.082549303770065,-0.144739583134651,-0.108006015419960,0.015942314639688));
res += mul(Get(s3,0,dy), float4x4(-0.010926950722933,-0.134258493781090,-0.129914507269859,-0.132978364825249,-0.128999590873718,0.064082540571690,0.057736597955227,-0.040069859474897,0.122970983386040,0.028135325759649,0.045456167310476,0.001317517482676,0.230763733386993,-0.097287945449352,-0.093901216983795,-0.022295972332358));
res += mul(Get(s3,dx,-dy), float4x4(0.014612049795687,-0.033655483275652,0.017869256436825,0.114467486739159,0.068974934518337,-0.120723217725754,-0.057983115315437,0.024585871025920,-0.008892203681171,-0.029922883957624,0.096370294690132,0.078069165349007,-0.061347242444754,-0.010862864553928,-0.130264475941658,-0.038869548588991));
res += mul(Get(s3,dx,0), float4x4(0.118697799742222,-0.064905598759651,0.097201168537140,-0.008265469223261,-0.119762204587460,-0.024461172521114,-0.137399256229401,-0.015565344132483,0.029625585302711,-0.063910916447639,0.079135291278362,0.028699314221740,0.110901221632957,0.178367003798485,0.018703322857618,0.050250962376595));
res += mul(Get(s3,dx,dy), float4x4(-0.000327856047079,-0.249183565378189,-0.157349631190300,0.034969020634890,-0.057961374521255,0.137776285409927,-0.049817301332951,-0.116314373910427,0.003203494008631,-0.074256420135498,-0.138048470020294,0.177356004714966,-0.013215533457696,0.086082510650158,0.032683093100786,0.052467554807663));
return max(float4(0,0,0,0), res);
}
