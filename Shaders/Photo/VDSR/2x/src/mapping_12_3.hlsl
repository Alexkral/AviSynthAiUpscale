sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.030920783057809,0.044954903423786,-0.011928974650800,-0.076203785836697,-0.003492147894576,-0.077070564031601,-0.150590032339096,0.102741979062557,0.006505407392979,0.038135230541229,0.099832251667976,0.045969270169735,-0.045187234878540,-0.050126042217016,-0.029176268726587,-0.034913867712021));
res += mul(Get(s0,-dx,0), float4x4(-0.035245582461357,0.147148221731186,-0.001709927688353,-0.040378354489803,0.118677012622356,0.189784526824951,0.109751001000404,0.237610563635826,-0.064012400805950,0.042752355337143,0.156259953975677,-0.075061693787575,0.066461808979511,-0.006531212013215,-0.011233707889915,-0.070961430668831));
res += mul(Get(s0,-dx,dy), float4x4(-0.000485630938783,0.058612905442715,-0.017788786441088,0.059348795562983,-0.094654656946659,-0.012168437242508,0.137059882283211,-0.193180382251740,0.024170529097319,-0.111401095986366,0.125218719244003,-0.143373012542725,0.049197304993868,-0.068603165447712,-0.003560841083527,-0.039069380611181));
res += mul(Get(s0,0,-dy), float4x4(-0.002495605265722,0.006596203893423,-0.050078827887774,0.011588777415454,-0.009493422694504,-0.003018244635314,-0.093024931848049,-0.145510405302048,-0.000479407695821,-0.031754571944475,-0.002050480572507,0.032439369708300,-0.091478645801544,-0.003532411763445,-0.007209918927401,-0.002837016247213));
res += mul(Get(s0,0,0), float4x4(-0.029967701062560,0.163982421159744,-0.063051626086235,-0.028793230652809,0.016078738495708,-0.010417204350233,-0.109323985874653,-0.131998434662819,-0.058861333876848,-0.006557281129062,0.027159519493580,0.021574247628450,-0.119301587343216,-0.003306336468086,-0.008331953547895,0.028412265703082));
res += mul(Get(s0,0,dy), float4x4(0.003597502829507,-0.069093912839890,-0.056859765201807,0.057975396513939,-0.090273745357990,-0.021672360599041,-0.154896825551987,-0.074540942907333,0.038078494369984,0.012054835446179,0.017484027892351,-0.030935313552618,-0.075271055102348,0.054854545742273,0.033718209713697,0.229754701256752));
res += mul(Get(s0,dx,-dy), float4x4(-0.096965000033379,0.024175487458706,0.039879400283098,0.124572634696960,-0.017362302169204,0.071526423096657,-0.028628261759877,0.039459686726332,-0.021725455299020,0.030198048800230,0.007728160358965,-0.036537207663059,0.101438790559769,0.012150021269917,-0.028352405875921,-0.002253796905279));
res += mul(Get(s0,dx,0), float4x4(-0.002010668627918,0.043502837419510,0.081755556166172,0.092694066464901,-0.004061512649059,-0.031982641667128,-0.053973816335201,0.014853952452540,-0.059560786932707,-0.056044794619083,0.036922521889210,-0.062172092497349,-0.040297068655491,0.088251322507858,-0.025523770600557,0.004371036775410));
res += mul(Get(s0,dx,dy), float4x4(0.056023225188255,-0.017667545005679,-0.034438356757164,0.037157017737627,0.104745447635651,-0.152000248432159,-0.111306928098202,0.085716083645821,0.049661159515381,-0.053391519933939,0.019056592136621,-0.053743727505207,-0.109517209231853,-0.105572380125523,-0.031965073198080,0.022965380921960));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015283098444343,0.030986083671451,-0.000620791513938,-0.039561655372381,0.074124045670033,-0.024928042665124,-0.085037305951118,-0.017231633886695,-0.010359806008637,-0.121124938130379,-0.134302169084549,-0.099993258714676,0.080992624163628,0.086830034852028,-0.080363906919956,-0.182916969060898));
res += mul(Get(s1,-dx,0), float4x4(-0.020832715556026,0.002766098594293,0.080186508595943,-0.023338932543993,0.055159114301205,-0.042867209762335,-0.037715379148722,-0.037963688373566,0.041788823902607,0.147736459970474,-0.135841071605682,-0.070764862000942,0.065087646245956,-0.125611767172813,-0.105871491134167,-0.182832121849060));
res += mul(Get(s1,-dx,dy), float4x4(0.013038638047874,-0.037358582019806,0.004646856803447,-0.051784306764603,0.018023377284408,0.021740665659308,-0.038015503436327,0.006533356383443,-0.020136963576078,-0.067537330091000,-0.177532345056534,-0.056730642914772,-0.014317052438855,0.050888311117887,-0.140563160181046,-0.097853668034077));
res += mul(Get(s1,0,-dy), float4x4(-0.015636222437024,-0.089416369795799,-0.018949292600155,0.008253031410277,0.006418083794415,-0.094513706862926,-0.072861574590206,0.004726975690573,-0.065185569226742,-0.134149000048637,0.179391831159592,-0.077009312808514,-0.077576279640198,0.163095653057098,0.053915206342936,-0.049414914101362));
res += mul(Get(s1,0,0), float4x4(0.025082981213927,0.039576638489962,-0.072483338415623,-0.005740873981267,0.073414847254753,-0.064653120934963,-0.056402612477541,0.025166416540742,-0.002520801499486,0.036299265921116,0.097680523991585,0.003073127474636,-0.002814720151946,0.018835019320250,0.048863127827644,-0.046502463519573));
res += mul(Get(s1,0,dy), float4x4(-0.034259602427483,-0.140878513455391,-0.006875667721033,-0.011440159752965,0.084796682000160,-0.004530286882073,-0.055895268917084,0.000743138429243,0.025704510509968,-0.027730666100979,-0.020140523090959,0.062005899846554,0.097746908664703,-0.016539867967367,-0.010425714775920,-0.086351454257965));
res += mul(Get(s1,dx,-dy), float4x4(0.113442063331604,-0.087514676153660,0.012088805437088,-0.019912648946047,-0.059081949293613,-0.048572026193142,-0.030851032584906,-0.074155494570732,-0.037277407944202,0.045951101928949,-0.089273557066917,0.049146149307489,-0.059196110814810,0.059501178562641,-0.094131305813789,0.225879088044167));
res += mul(Get(s1,dx,0), float4x4(-0.014190949499607,0.049232523888350,-0.081260144710541,-0.018103303387761,0.075789295136929,0.023754594847560,-0.118260495364666,-0.003163087647408,0.010908903554082,-0.138621836900711,-0.059186570346355,-0.000386617233744,-0.017111491411924,0.049932479858398,-0.133888483047485,0.255004882812500));
res += mul(Get(s1,dx,dy), float4x4(-0.030389960855246,0.062937937676907,-0.043709360063076,-0.050800386816263,-0.099512375891209,-0.101337008178234,-0.091091454029083,0.083665587007999,0.071224242448807,0.016640977934003,-0.038698416203260,-0.014235720969737,0.099657356739044,-0.002747254446149,-0.118555776774883,0.109418697655201));
res += mul(Get(s2,-dx,-dy), float4x4(0.059307575225830,-0.053511701524258,-0.100731827318668,-0.139830306172371,-0.088742576539516,0.125103682279587,0.067243024706841,-0.041249938309193,0.006515951361507,-0.108947016298771,0.006349558010697,-0.116001740098000,-0.003903866512701,-0.011836291290820,0.058285966515541,-0.034491192549467));
res += mul(Get(s2,-dx,0), float4x4(-0.014951745048165,-0.012120017781854,-0.083861723542213,-0.058034230023623,-0.060919664800167,-0.038370896130800,-0.010961341671646,-0.026711799204350,-0.112267062067986,0.224802091717720,0.131384298205376,-0.125459685921669,0.003352017840371,-0.036854326725006,-0.012545260600746,-0.078914634883404));
res += mul(Get(s2,-dx,dy), float4x4(-0.000357158773113,0.097401313483715,0.029370563104749,-0.017706446349621,-0.001871560700238,0.017870958894491,0.047023817896843,0.014005343429744,-0.044032003730536,0.024954603984952,0.087214462459087,-0.125451847910881,0.002970407018438,0.026894776150584,-0.107414454221725,-0.033473409712315));
res += mul(Get(s2,0,-dy), float4x4(0.046123467385769,-0.064242340624332,0.141579493880272,0.131147578358650,-0.128503113985062,0.131027862429619,0.128823295235634,-0.010738675482571,-0.005324606783688,0.017413392663002,0.010254928842187,-0.030199447646737,-0.086998738348484,0.006444654427469,0.107394427061081,-0.007145461160690));
res += mul(Get(s2,0,0), float4x4(0.018423445522785,0.080162487924099,0.065711513161659,0.211815312504768,-0.009668881073594,-0.089495763182640,0.038595888763666,0.042510364204645,-0.070139169692993,0.035785213112831,0.088432930409908,0.098291233181953,-0.044404011219740,-0.089441440999508,0.073475271463394,0.032975498586893));
res += mul(Get(s2,0,dy), float4x4(-0.007614130154252,-0.022521935403347,0.036429613828659,0.168242409825325,0.061756383627653,0.089080221951008,-0.013905652798712,-0.015340237878263,0.092733480036259,0.086034841835499,0.037734847515821,0.042802494019270,0.016536401584744,-0.062461186200380,0.005688135046512,0.102222926914692));
res += mul(Get(s2,dx,-dy), float4x4(-0.009883924387395,-0.035327013581991,0.077348999679089,-0.072861269116402,-0.054921265691519,0.125553697347641,-0.063198000192642,0.035558726638556,0.077602230012417,-0.029201995581388,-0.079123832285404,0.017307344824076,0.070209108293056,0.000305598106934,-0.119257844984531,0.039509806782007));
res += mul(Get(s2,dx,0), float4x4(0.104806795716286,0.030666111037135,-0.025265593081713,-0.106512494385242,0.019556527957320,-0.089474394917488,-0.028622794896364,0.005240178667009,0.018142290413380,0.016126222908497,-0.046782869845629,0.062162809073925,0.085502974689007,-0.061600498855114,0.064126551151276,0.021373204886913));
res += mul(Get(s2,dx,dy), float4x4(0.002623311011121,-0.001373548526317,-0.044704310595989,-0.113577209413052,-0.058174919337034,-0.006629365030676,-0.079584710299969,-0.028312513604760,0.009496279992163,-0.046942841261625,0.017814604565501,0.027561370283365,0.009042013436556,-0.115099228918552,0.077811315655708,-0.027426986023784));
res += mul(Get(s3,-dx,-dy), float4x4(0.055394735187292,-0.061984658241272,-0.009584259241819,-0.200518280267715,0.023282205685973,0.138127237558365,0.021884575486183,-0.029446491971612,-0.020016755908728,-0.051891244947910,-0.077405326068401,-0.048266120254993,0.037850901484489,0.002410535467789,0.031868427991867,-0.148589402437210));
res += mul(Get(s3,-dx,0), float4x4(-0.034740570932627,0.105821654200554,-0.078637719154358,-0.209694504737854,-0.100617215037346,0.056370489299297,0.019300764426589,0.019552428275347,0.027548881247640,-0.051075957715511,-0.063375547528267,-0.052578426897526,-0.041428871452808,0.053323473781347,-0.024327181279659,-0.171396210789680));
res += mul(Get(s3,-dx,dy), float4x4(0.007477332372218,0.031297922134399,-0.178880363702774,-0.187101542949677,0.056486964225769,0.050646707415581,0.025482408702374,0.021460706368089,-0.002653168514371,0.023587739095092,-0.056015182286501,0.014897648245096,-0.026360446587205,0.129087626934052,-0.112429335713387,-0.051247559487820));
res += mul(Get(s3,0,-dy), float4x4(0.073477193713188,0.009740707464516,-0.040182869881392,0.176389291882515,0.018006205558777,0.108913838863373,-0.011087348684669,-0.029779270291328,-0.003257552161813,-0.005469259340316,0.105772182345390,0.064560435712337,0.014504234306514,0.049566041678190,0.055267281830311,-0.063325241208076));
res += mul(Get(s3,0,0), float4x4(0.092343807220459,0.079369507730007,0.003935555927455,0.106821402907372,-0.084265887737274,0.007832119241357,0.030105112120509,-0.021259820088744,-0.021691504865885,0.159255728125572,-0.001000318094157,-0.003518604207784,0.022142995148897,0.008957846090198,0.037592794746161,-0.047189746052027));
res += mul(Get(s3,0,dy), float4x4(0.039258480072021,0.015736473724246,-0.119063928723335,0.087378554046154,0.022240974009037,0.066626742482185,-0.004479670431465,0.041538625955582,0.001213298994116,-0.014814821071923,0.058301102370024,0.001544721075334,0.018509652465582,0.035155713558197,0.063873291015625,0.018119608983397));
res += mul(Get(s3,dx,-dy), float4x4(-0.043877787888050,-0.053247455507517,0.112522251904011,-0.115849904716015,0.227809458971024,0.030986145138741,-0.055239651352167,0.010399252176285,-0.050490465015173,0.053938120603561,-0.016158128157258,0.012537950649858,0.204264566302299,0.042359754443169,-0.098457574844360,0.037329364567995));
res += mul(Get(s3,dx,0), float4x4(-0.009908572770655,-0.010007774457335,0.053804669529200,-0.088010340929031,0.014510880224407,0.005213806405663,-0.005139309447259,-0.043019633740187,0.235445812344551,-0.033717941492796,-0.026398863643408,0.112021841108799,-0.071553401648998,0.028343206271529,-0.008403757587075,0.107296191155910));
res += mul(Get(s3,dx,dy), float4x4(0.016454692929983,-0.006718768272549,0.006113991606981,-0.051403488963842,0.137417748570442,0.030059522017837,0.003443766152486,-0.021440804004669,0.125997588038445,0.040702186524868,0.041587483137846,0.030711917206645,-0.141817256808281,0.000700341595802,0.025537099689245,0.112931273877621));
return max(float4(0,0,0,0), res);
}
