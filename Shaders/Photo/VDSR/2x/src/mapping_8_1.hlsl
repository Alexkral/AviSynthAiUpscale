sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.183313742280006,-0.102640539407730,-0.253456294536591,-0.102457381784916,-0.183139950037003,-0.043094027787447,0.038619730621576,0.094631262123585,-0.016124313697219,-0.042889896780252,-0.030276786535978,0.085654862225056,-0.047787245362997,0.117537215352058,0.036694806069136,-0.121260896325111));
res += mul(Get(s0,-dx,0), float4x4(-0.134412601590157,0.199286431074142,0.014947596006095,0.096630781888962,-0.041370466351509,-0.065906420350075,0.010481743142009,0.029210491105914,-0.032422587275505,-0.047921240329742,-0.103327542543411,0.044478759169579,0.003079919843003,-0.006802292540669,-0.036146298050880,-0.100386366248131));
res += mul(Get(s0,-dx,dy), float4x4(0.134943425655365,-0.138771742582321,0.036373771727085,0.048322942107916,-0.136609673500061,-0.114050291478634,-0.052149653434753,-0.144884958863258,0.072815462946892,-0.036248527467251,-0.056592661887407,-0.054560475051403,0.015672236680984,0.008734988979995,-0.185217857360840,0.058846443891525));
res += mul(Get(s0,0,-dy), float4x4(-0.111395657062531,0.132627218961716,0.097462050616741,-0.128669753670692,-0.064696021378040,-0.096358187496662,0.027153726667166,0.182817146182060,-0.043829083442688,0.017150046303868,0.064414829015732,-0.033562764525414,-0.083864010870457,0.068247936666012,0.024408685043454,-0.101697891950607));
res += mul(Get(s0,0,0), float4x4(0.136224761605263,0.112287163734436,-0.053153667598963,-0.177020937204361,0.133242532610893,-0.002905911067501,-0.039595782756805,0.054563377052546,-0.072269894182682,0.085557110607624,0.057761166244745,-0.076006062328815,0.095015347003937,0.207441732287407,-0.071490980684757,0.187062129378319));
res += mul(Get(s0,0,dy), float4x4(-0.166745230555534,-0.067353278398514,0.056496948003769,-0.127391591668129,-0.166529476642609,0.159965097904205,-0.176480829715729,-0.003882203251123,0.018856229260564,-0.019835742190480,0.041672855615616,0.106238022446632,-0.136625975370407,-0.248570650815964,-0.177942126989365,-0.163128823041916));
res += mul(Get(s0,dx,-dy), float4x4(0.204539671540260,0.019282465800643,0.121286094188690,-0.138616561889648,-0.093180716037750,-0.020012592896819,0.076739400625229,-0.053523294627666,0.005868565756828,-0.196649834513664,-0.243253126740456,0.131564125418663,-0.065863527357578,-0.100323468446732,-0.069746129214764,-0.022058293223381));
res += mul(Get(s0,dx,0), float4x4(-0.027698555961251,0.116060219705105,-0.019291490316391,-0.001780537888408,0.012030626647174,-0.192802637815475,-0.263939827680588,-0.078850075602531,0.108285859227180,0.013428724370897,-0.039807789027691,0.073590993881226,-0.097667895257473,-0.070281840860844,0.093890830874443,-0.087382301688194));
res += mul(Get(s0,dx,dy), float4x4(0.053181361407042,0.083626821637154,0.073232091963291,-0.135892838239670,-0.059154629707336,0.005825073458254,-0.044026665389538,-0.033908531069756,-0.128906086087227,-0.261501431465149,0.097305618226528,0.095792293548584,-0.111337758600712,0.068497031927109,0.132994472980499,0.144306644797325));
res += mul(Get(s1,-dx,-dy), float4x4(-0.038744874298573,-0.019126717001200,-0.046843096613884,-0.030704442411661,0.179093852639198,0.004232119303197,-0.166073530912399,0.015961084514856,-0.063781581819057,-0.073058292269707,0.052486453205347,0.097090780735016,0.067812763154507,0.092734165489674,0.015114853158593,-0.100334405899048));
res += mul(Get(s1,-dx,0), float4x4(-0.057674955576658,-0.196635082364082,-0.095312148332596,0.142075598239899,0.156824514269829,-0.049041621387005,0.024554384872317,0.100321888923645,-0.169413745403290,-0.027545120567083,0.095372490584850,0.051930915564299,0.052219580858946,0.044146783649921,-0.051402252167463,-0.016159448772669));
res += mul(Get(s1,-dx,dy), float4x4(-0.135130062699318,-0.021448627114296,0.070077523589134,0.004044987726957,-0.006743273232132,0.047935679554939,0.012997948564589,-0.160342127084732,0.102848142385483,0.046903785318136,-0.105127118527889,-0.081069879233837,-0.017428290098906,-0.083272300660610,0.011005093343556,-0.052020628005266));
res += mul(Get(s1,0,-dy), float4x4(0.047765750437975,0.071018382906914,-0.143616974353790,-0.108718380331993,-0.050078794360161,-0.161229312419891,-0.005158717744052,0.006415422540158,0.019195508211851,0.282234907150269,-0.171845704317093,0.341360539197922,0.078141599893570,-0.172879546880722,0.110219277441502,-0.080828152596951));
res += mul(Get(s1,0,0), float4x4(-0.035941958427429,-0.073100924491882,-0.008168197236955,-0.035345178097486,-0.080662794411182,-0.062616556882858,-0.132375016808510,0.079986065626144,-0.194248422980309,0.050678350031376,-0.018155755475163,0.109298445284367,0.084134869277477,0.010484414175153,-0.011881086975336,0.047866206616163));
res += mul(Get(s1,0,dy), float4x4(-0.087196581065655,-0.102223575115204,0.220348209142685,-0.011028607375920,0.158493295311928,0.098257914185524,0.205377355217934,0.173348456621170,-0.093764647841454,-0.036944486200809,0.074978724122047,0.152355089783669,-0.001079571084119,-0.099477827548981,0.094685576856136,-0.077428176999092));
res += mul(Get(s1,dx,-dy), float4x4(0.019010366871953,0.044382046908140,-0.010576675646007,-0.037750292569399,-0.106087923049927,0.025098728016019,0.139904841780663,-0.056097928434610,-0.187206685543060,-0.048838466405869,-0.151970356702805,-0.181047081947327,0.280207157135010,0.061171695590019,0.147862225770950,-0.138474985957146));
res += mul(Get(s1,dx,0), float4x4(0.057617455720901,0.197706118226051,0.113561041653156,0.160471096634865,0.004691738635302,-0.147192984819412,0.069548927247524,-0.082054652273655,-0.129679962992668,0.231043294072151,-0.160785213112831,-0.185084968805313,-0.014306343160570,-0.002653061877936,0.004238226450980,-0.043214518576860));
res += mul(Get(s1,dx,dy), float4x4(0.091190218925476,-0.056157633662224,0.142307534813881,0.066707082092762,0.009989486075938,0.041846390813589,-0.204571798443794,-0.050556078553200,0.046106152236462,0.056400701403618,-0.087630301713943,-0.030202353373170,0.087428674101830,0.069664649665356,0.055947989225388,0.009396327659488));
res += mul(Get(s2,-dx,-dy), float4x4(-0.164623677730560,0.017962085083127,-0.117969244718552,0.032949008047581,0.137052059173584,-0.030946487560868,0.126095741987228,0.038565248250961,-0.000617007899564,-0.020182756707072,0.241196095943451,0.097589641809464,-0.162827134132385,-0.138311192393303,-0.074160188436508,-0.031066332012415));
res += mul(Get(s2,-dx,0), float4x4(-0.076346747577190,0.020529378205538,0.085545152425766,0.127947106957436,0.011574246920645,0.040685936808586,-0.202870637178421,-0.040707353502512,-0.043048366904259,0.090550199151039,0.213535904884338,0.097925096750259,0.045576326549053,-0.039733566343784,-0.170656174421310,-0.011295543983579));
res += mul(Get(s2,-dx,dy), float4x4(0.049638248980045,0.364901840686798,0.156408891081810,0.152134016156197,0.011596557684243,-0.128265500068665,-0.133279457688332,-0.099824421107769,-0.106857873499393,0.142378926277161,0.004827565513551,-0.155600577592850,0.061682790517807,-0.023242147639394,0.068453073501587,0.093508832156658));
res += mul(Get(s2,0,-dy), float4x4(-0.087528772652149,0.123805217444897,-0.055151689797640,0.144783452153206,0.112779520452023,0.131354764103889,-0.051589757204056,0.087791837751865,-0.114685736596584,-0.115560770034790,-0.136590674519539,-0.062429677695036,0.017576524987817,-0.175495505332947,-0.010628263466060,-0.035474073141813));
res += mul(Get(s2,0,0), float4x4(0.058536581695080,0.100018151104450,-0.027792792767286,-0.025660041719675,0.034053411334753,0.167294234037399,0.233987525105476,0.029419416561723,0.109922856092453,0.031026478856802,-0.055593974888325,-0.036548163741827,-0.013539369218051,-0.020670013502240,-0.004045777954161,-0.063039004802704));
res += mul(Get(s2,0,dy), float4x4(-0.049618870019913,0.044853694736958,-0.134984359145164,-0.065858013927937,-0.086686521768570,-0.003416183637455,0.012781454250216,0.049365021288395,-0.001904851291329,0.006029273848981,0.028130987659097,-0.042511723935604,-0.111357375979424,-0.006106962915510,-0.251322180032730,-0.164340645074844));
res += mul(Get(s2,dx,-dy), float4x4(-0.011328869499266,0.054882682859898,0.181681796908379,-0.074420914053917,0.151524752378464,-0.000956259609666,0.003592499531806,0.085364960134029,0.107219241559505,0.069565773010254,-0.053293265402317,0.053307432681322,-0.149367123842239,-0.135460779070854,0.113652773201466,0.085963718593121));
res += mul(Get(s2,dx,0), float4x4(-0.010458776727319,0.020636543631554,0.094548508524895,-0.012408740818501,0.061623107641935,0.009660834446549,-0.036486789584160,-0.102243348956108,-0.025098593905568,0.011594682000577,0.269076079130173,-0.109165221452713,0.033584278076887,0.145082071423531,-0.088793605566025,0.083673745393753));
res += mul(Get(s2,dx,dy), float4x4(-0.016248708590865,0.039003103971481,0.094782538712025,0.106863811612129,0.057563323527575,-0.023515772074461,0.049751099199057,0.138976603746414,0.039859589189291,0.151190266013145,-0.052643436938524,0.048993792384863,0.041805528104305,-0.010628988035023,-0.214232087135315,0.014604046940804));
res += mul(Get(s3,-dx,-dy), float4x4(0.007318197283894,-0.037923738360405,-0.341012835502625,0.058728273957968,-0.030805042013526,-0.049290515482426,0.065176956355572,-0.009695430286229,-0.073691859841347,-0.024558780714869,0.148587152361870,0.142204821109772,0.223307505249977,0.138816773891449,-0.046112351119518,0.074532724916935));
res += mul(Get(s3,-dx,0), float4x4(-0.017186075448990,0.143685653805733,-0.123491972684860,-0.087726302444935,0.070626683533192,-0.192444726824760,-0.091727942228317,-0.003039426170290,-0.086510986089706,0.020889999344945,-0.150651022791862,0.170892462134361,0.053823135793209,-0.112422011792660,-0.176697850227356,-0.041226163506508));
res += mul(Get(s3,-dx,dy), float4x4(-0.139349386096001,0.088583089411259,-0.087146915495396,0.123670615255833,-0.012486064806581,-0.041795145720243,-0.048797741532326,0.030193015933037,-0.037996407598257,-0.016104597598314,0.014163332991302,-0.071567878127098,-0.043911654502153,0.002840446541086,0.016499148681760,0.018192192539573));
res += mul(Get(s3,0,-dy), float4x4(0.114557281136513,0.182913094758987,0.110475815832615,-0.052047155797482,0.213378697633743,-0.145970687270164,0.081420294940472,0.221872478723526,0.000257936801063,0.038735151290894,0.063197091221809,-0.071216709911823,-0.024385072290897,0.193856224417686,-0.151760995388031,-0.187618926167488));
res += mul(Get(s3,0,0), float4x4(0.014698778279126,0.125176727771759,-0.017732514068484,0.187643706798553,-0.035925209522247,0.138439357280731,-0.114062644541264,0.003734508063644,-0.035156812518835,-0.059018019586802,-0.041502993553877,-0.112871311604977,0.055872309952974,-0.046114020049572,0.051551532000303,0.123933278024197));
res += mul(Get(s3,0,dy), float4x4(-0.024698249995708,0.112906225025654,-0.165589943528175,-0.022101342678070,-0.146854817867279,0.099636256694794,-0.067233756184578,-0.120621509850025,-0.051550243049860,-0.068273417651653,-0.147040486335754,-0.118107229471207,0.094183593988419,0.138903632760048,0.026516161859035,0.066835716366768));
res += mul(Get(s3,dx,-dy), float4x4(-0.021204078570008,-0.091405943036079,-0.114707224071026,0.113467626273632,-0.153688177466393,-0.005682053510100,-0.152118965983391,-0.063486970961094,-0.128934100270271,-0.222448348999023,-0.146572574973106,0.135277539491653,-0.082312606275082,0.086729563772678,-0.137488916516304,-0.079177059233189));
res += mul(Get(s3,dx,0), float4x4(0.092826649546623,-0.094796538352966,-0.227205619215965,-0.049831300973892,0.084401540458202,-0.010140917263925,0.003031469648704,-0.000927027256694,0.112533979117870,0.085824720561504,0.193157851696014,0.093043938279152,0.007333472836763,0.015617392025888,0.020408680662513,0.181402400135994));
res += mul(Get(s3,dx,dy), float4x4(-0.160655558109283,-0.094927310943604,-0.038449473679066,0.019495014101267,-0.011631559580564,0.077473320066929,0.029664348810911,-0.025605468079448,0.037178289145231,0.115133799612522,-0.135382965207100,0.096181675791740,-0.122741490602493,-0.030143996700644,-0.095936834812164,-0.116601139307022));
return max(float4(0,0,0,0), res);
}
