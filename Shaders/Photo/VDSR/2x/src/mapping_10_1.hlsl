sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.034439161419868,0.082167766988277,0.120246477425098,0.016445605084300,-0.128484934568405,0.031046714633703,0.077614434063435,-0.109141446650028,-0.011131306178868,0.069430202245712,0.017081489786506,0.044404149055481,0.085829928517342,-0.019991580396891,0.080764554440975,-0.112493216991425));
res += mul(Get(s0,-dx,0), float4x4(0.002349406946450,0.004279261454940,0.104547269642353,-0.140345379710197,-0.095408283174038,0.120221026241779,0.022837156429887,-0.043839320540428,-0.068316705524921,-0.073358066380024,-0.029148610308766,0.206796452403069,0.168690294027328,-0.035197503864765,0.082762695848942,0.021698202937841));
res += mul(Get(s0,-dx,dy), float4x4(-0.045610342174768,0.026531934738159,0.023043997585773,0.004600122570992,0.013256208971143,0.010489007458091,0.056095939129591,0.043251469731331,-0.032674375921488,0.044446233659983,-0.038397390395403,-0.006090444978327,0.073902502655983,0.008236580528319,0.086163446307182,0.074893780052662));
res += mul(Get(s0,0,-dy), float4x4(-0.021712586283684,0.032241944223642,-0.039870608597994,0.048461671918631,-0.012278450652957,0.025972262024879,0.137860089540482,0.039104212075472,-0.082357406616211,0.045891482383013,0.019325856119394,0.159690335392952,0.018561039119959,-0.060304440557957,0.100549824535847,0.108247965574265));
res += mul(Get(s0,0,0), float4x4(0.010974493809044,0.167810261249542,-0.139394193887711,0.092062868177891,-0.086758866906166,0.004317235667259,0.050148554146290,0.087642103433609,-0.033505190163851,-0.124463461339474,-0.090562887489796,0.002059466671199,0.090321108698845,-0.043169971555471,-0.036275010555983,0.170616537332535));
res += mul(Get(s0,0,dy), float4x4(0.025584641844034,0.100459322333336,-0.017609121277928,-0.024605300277472,0.023230364546180,0.161594212055206,0.020169842988253,-0.029648358002305,0.027938796207309,-0.019633252173662,0.007250085473061,-0.066757991909981,0.093870580196381,0.013218723237514,-0.090372540056705,-0.009586927480996));
res += mul(Get(s0,dx,-dy), float4x4(-0.150630384683609,0.154222428798676,-0.002426143269986,-0.044539023190737,0.145232662558556,0.014859601855278,-0.119258373975754,0.017404068261385,0.023126907646656,0.036684200167656,-0.152126982808113,0.078381277620792,-0.057302545756102,0.057558201253414,0.050888001918793,-0.140462964773178));
res += mul(Get(s0,dx,0), float4x4(-0.018350871279836,0.111317321658134,0.029010642319918,-0.072839193046093,0.023222140967846,-0.094609886407852,-0.021585263311863,0.032146047800779,0.071385771036148,-0.141407877206802,0.034035120159388,0.027388064190745,-0.042865086346865,0.045288551598787,0.030851501971483,-0.054476875811815));
res += mul(Get(s0,dx,dy), float4x4(-0.049831662327051,0.053435955196619,0.037541739642620,0.013816681690514,0.115726038813591,-0.030643351376057,-0.022952947765589,-0.048137377947569,0.023687029257417,-0.075790815055370,-0.058870352804661,0.054320223629475,-0.083576008677483,0.094287343323231,-0.004579733125865,-0.081687621772289));
res += mul(Get(s1,-dx,-dy), float4x4(-0.135119557380676,-0.010560540482402,0.009445412084460,-0.003965502604842,0.009006516076624,0.037460070103407,0.069387786090374,-0.004720702301711,-0.026036595925689,-0.028667291626334,0.099833056330681,0.132228448987007,0.107374265789986,-0.067941434681416,0.068428784608841,-0.028979716822505));
res += mul(Get(s1,-dx,0), float4x4(-0.115728482604027,0.079158119857311,0.068935766816139,-0.029470112174749,-0.042244870215654,0.067388124763966,0.104813292622566,-0.016555326059461,0.033936597406864,-0.085468925535679,-0.052925013005733,0.016373835504055,0.100922189652920,-0.025972738862038,-0.021613005548716,-0.024348171427846));
res += mul(Get(s1,-dx,dy), float4x4(-0.085287138819695,-0.050847668200731,-0.017670230939984,-0.003585547907278,-0.032502721995115,-0.018271133303642,-0.050890777260065,0.078734979033470,-0.018405344337225,-0.003114270512015,0.076123654842377,-0.061874754726887,-0.028296697884798,-0.009116711094975,-0.070143386721611,-0.120772272348404));
res += mul(Get(s1,0,-dy), float4x4(-0.024730686098337,-0.031253390014172,0.096311502158642,-0.036861453205347,-0.019365737214684,-0.101215548813343,0.012344537302852,0.087140224874020,-0.008017481304705,0.149983689188957,-0.050093922764063,0.066847637295723,0.113048151135445,-0.089064590632915,-0.012710712850094,0.040305927395821));
res += mul(Get(s1,0,0), float4x4(-0.034287996590137,0.026118518784642,-0.038495428860188,-0.077294155955315,-0.065877780318260,-0.102211825549603,0.123349696397781,0.237989500164986,0.130801945924759,0.125419318675995,0.020927509292960,-0.085637249052525,-0.073085598647594,-0.104555591940880,0.005175509490073,0.066978931427002));
res += mul(Get(s1,0,dy), float4x4(0.000564093817957,-0.104666672646999,-0.072185792028904,0.072408601641655,0.015482364222407,0.008750836364925,-0.048140279948711,0.041564453393221,-0.085908561944962,-0.021574281156063,-0.046032067388296,-0.004040706437081,-0.104208894073963,-0.083382621407509,-0.017365433275700,-0.017610117793083));
res += mul(Get(s1,dx,-dy), float4x4(0.064280278980732,-0.106912128627300,0.054815407842398,0.029608141630888,0.089993014931679,0.021525774151087,0.013679549098015,0.005324210505933,-0.092708311975002,0.131870046257973,0.042933955788612,-0.023201787844300,0.171346947550774,0.077130086719990,-0.047530613839626,-0.069438241422176));
res += mul(Get(s1,dx,0), float4x4(0.075320310890675,0.088350214064121,-0.062584787607193,0.022945610806346,0.020322520285845,0.029374105855823,0.220515936613083,-0.001059276517481,-0.039742186665535,0.155908271670341,-0.064720250666142,-0.071671761572361,-0.094271875917912,-0.083325229585171,0.095894515514374,0.028173312544823));
res += mul(Get(s1,dx,dy), float4x4(-0.014810725115240,-0.063629955053329,0.037245102226734,-0.014286014251411,-0.061145577579737,-0.052372161298990,0.121205262839794,0.027961404994130,0.021646089851856,-0.004983723629266,-0.025469282642007,-0.019952438771725,-0.056322984397411,-0.055446259677410,-0.072501212358475,-0.037709597498178));
res += mul(Get(s2,-dx,-dy), float4x4(-0.126519247889519,-0.022570209577680,-0.075293906033039,0.205062642693520,0.142329648137093,0.029135011136532,0.135868623852730,-0.026087218895555,0.050422225147486,-0.069492302834988,-0.032445523887873,-0.084330648183823,0.079704247415066,0.079116709530354,-0.180019333958626,-0.051484324038029));
res += mul(Get(s2,-dx,0), float4x4(-0.064496807754040,-0.010852510109544,-0.005014374852180,0.094102211296558,0.046262744814157,0.073403201997280,0.063566677272320,-0.119766697287560,0.077661521732807,0.158734202384949,-0.017174042761326,-0.037549883127213,0.046690482646227,-0.053073853254318,-0.118307702243328,0.026965154334903));
res += mul(Get(s2,-dx,dy), float4x4(0.029184253886342,-0.009859008714557,-0.068492598831654,0.015130471438169,0.073504999279976,-0.008488278836012,0.004317779093981,-0.024155568331480,-0.020681269466877,0.003919623792171,0.038040004670620,-0.099127508699894,0.059166055172682,-0.093539252877235,-0.143093183636665,-0.025757800787687));
res += mul(Get(s2,0,-dy), float4x4(0.079096682369709,-0.122410356998444,-0.145873531699181,0.091069951653481,-0.073755882680416,0.045833934098482,0.065594375133514,-0.010236074216664,0.043168094009161,0.008370816707611,-0.023446818813682,0.015834901481867,-0.045551676303148,0.114670194685459,-0.160704329609871,0.021027278155088));
res += mul(Get(s2,0,0), float4x4(0.083883032202721,-0.084259815514088,0.037149388343096,0.137570053339005,-0.111236870288849,0.021247528493404,0.021315772086382,0.017074121162295,-0.008202816359699,0.138283893465996,0.058431647717953,0.001730196760036,0.026882262900472,-0.076353907585144,-0.044534444808960,0.131106615066528));
res += mul(Get(s2,0,dy), float4x4(0.014814792200923,-0.114790521562099,-0.033853575587273,0.032210085541010,0.012447320856154,0.109691277146339,0.014526792801917,0.066762700676918,-0.021440081298351,-0.017063783481717,0.091482207179070,-0.014311012811959,0.068919725716114,-0.015007497742772,-0.106107503175735,-0.008135054260492));
res += mul(Get(s2,dx,-dy), float4x4(-0.077584996819496,-0.111029841005802,-0.067059963941574,-0.077040210366249,-0.056972879916430,0.031489834189415,-0.107849299907684,0.120981991291046,0.104348324239254,0.049764815717936,-0.078563831746578,-0.118267223238945,0.003510320093483,0.125687062740326,-0.107704788446426,0.081519313156605));
res += mul(Get(s2,dx,0), float4x4(-0.021633323282003,-0.120105624198914,-0.035039946436882,0.041638534516096,-0.050952576100826,-0.029863081872463,-0.103495679795742,0.015533499419689,0.071531631052494,0.133799776434898,-0.065384574234486,-0.029197540134192,-0.014510059729218,0.112220861017704,-0.142525702714920,-0.018769931048155));
res += mul(Get(s2,dx,dy), float4x4(-0.085528157651424,-0.093967325985432,-0.027377910912037,0.043515544384718,-0.041545223444700,0.054279021918774,-0.016610775142908,0.025491714477539,0.023503912612796,-0.027869362384081,-0.064968302845955,0.013366314582527,0.008134195581079,0.237541943788528,0.049464110285044,-0.043923646211624));
res += mul(Get(s3,-dx,-dy), float4x4(-0.056479189544916,-0.023402385413647,0.046982925385237,-0.037419643253088,0.089008681476116,0.030917773023248,0.015351007692516,-0.020189495757222,-0.017478723078966,-0.084486998617649,0.109135836362839,-0.081429310142994,0.070361450314522,-0.064650118350983,0.050413455814123,0.057670123875141));
res += mul(Get(s3,-dx,0), float4x4(-0.097068242728710,-0.014110145159066,-0.008469698019326,0.058189228177071,0.054030291736126,0.112071178853512,-0.039118222892284,-0.098358571529388,-0.063323423266411,0.023625401780009,0.007808684837073,0.052671294659376,-0.091401040554047,-0.036897800862789,-0.090148739516735,-0.050903316587210));
res += mul(Get(s3,-dx,dy), float4x4(-0.033083669841290,0.092325955629349,-0.030297921970487,0.093162678182125,0.073360584676266,0.003426700364798,0.001895424444228,-0.052829276770353,0.117085300385952,-0.003986838739365,-0.019284091889858,-0.092893123626709,0.032079238444567,-0.070066615939140,0.063033811748028,-0.094094298779964));
res += mul(Get(s3,0,-dy), float4x4(-0.062605440616608,0.028888439759612,-0.006382931489497,-0.091996297240257,0.012697841040790,-0.000430562300608,-0.027607426047325,0.018244015052915,0.080300070345402,0.063566714525223,0.117900982499123,-0.114179074764252,0.026333009824157,0.013674676418304,-0.058628235012293,-0.050760593265295));
res += mul(Get(s3,0,0), float4x4(0.011231704615057,0.223956510424614,-0.105091951787472,-0.011961434036493,-0.014368463307619,0.039570726454258,-0.049315653741360,-0.022118424996734,0.082007788121700,-0.004894769284874,0.023387258872390,0.098735079169273,-0.010111507028341,0.064357087016106,0.013264721259475,0.037979107350111));
res += mul(Get(s3,0,dy), float4x4(0.092663988471031,0.011125168763101,0.147224679589272,-0.030445959419012,0.065262809395790,0.019236655905843,-0.061386324465275,0.048345524817705,0.062218926846981,0.030385795980692,-0.012197724543512,-0.063710138201714,0.081207446753979,-0.055702652782202,0.236144751310349,-0.100775748491287));
res += mul(Get(s3,dx,-dy), float4x4(-0.134852781891823,-0.099537476897240,0.031137814745307,0.150624811649323,-0.030516458675265,-0.020716954022646,0.038651991635561,-0.017137276008725,0.058153599500656,0.063363336026669,-0.078603364527225,-0.112207248806953,0.105960033833981,0.022245451807976,0.047361493110657,-0.076240316033363));
res += mul(Get(s3,dx,0), float4x4(-0.002509632613510,-0.048040844500065,0.291343659162521,0.007341499906033,-0.023545265197754,-0.069982960820198,0.089861392974854,0.002931574126706,0.067829169332981,0.101795531809330,-0.003555170260370,0.083731710910797,0.088257588446140,-0.068165816366673,-0.001837508287281,-0.073154076933861));
res += mul(Get(s3,dx,dy), float4x4(0.038293022662401,-0.060261894017458,0.054832357913256,0.035736050456762,0.108916670084000,0.005578162614256,0.024655109271407,-0.015708988532424,-0.012880289927125,-0.078994132578373,0.115196943283081,-0.003877810668200,-0.000570071802940,0.095742657780647,-0.189461112022400,-0.010973611846566));
return max(float4(0,0,0,0), res);
}
