sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.069016747176647,-0.046124488115311,0.094325028359890,-0.061932489275932,-0.078543327748775,0.046152103692293,0.143066912889481,-0.053996533155441,0.092054031789303,-0.033563416451216,-0.092801488935947,-0.136589005589485,-0.057217463850975,-0.017649916931987,0.028754217550159,0.048512630164623));
res += mul(Get(s0,-dx,0), float4x4(0.015322116203606,-0.069168709218502,0.141998454928398,-0.062862716615200,0.050993219017982,0.091533377766609,-0.033172708004713,-0.001721343724057,-0.022559462115169,-0.087411612272263,-0.183905914425850,0.190217927098274,0.090826690196991,-0.010675760917366,0.019390294328332,-0.075121782720089));
res += mul(Get(s0,-dx,dy), float4x4(0.181953981518745,-0.207485526800156,-0.062070421874523,0.041566111147404,0.059698134660721,0.048178113996983,-0.100573681294918,0.026128124445677,-0.045325580984354,-0.068091191351414,-0.059536971151829,-0.035971950739622,0.031786244362593,0.154309734702110,-0.096495516598225,-0.004571429919451));
res += mul(Get(s0,0,-dy), float4x4(0.079007789492607,0.024676900357008,0.106664307415485,-0.107004716992378,-0.022495698183775,-0.024116449058056,-0.044806476682425,0.004582286812365,0.100297100841999,-0.033254709094763,-0.028186677023768,-0.082948774099350,-0.118812285363674,-0.016469938680530,0.043763905763626,0.039852924644947));
res += mul(Get(s0,0,0), float4x4(-0.077171333134174,-0.103033870458603,0.024929087609053,0.077187329530716,0.163400784134865,0.238316074013710,0.097460970282555,0.031585875898600,-0.030302224680781,0.031272880733013,0.065100476145744,-0.247139081358910,0.236155241727829,0.164353042840958,-0.071127139031887,-0.061564221978188));
res += mul(Get(s0,0,dy), float4x4(0.027170712128282,-0.111349165439606,-0.119168587028980,-0.091098062694073,0.120613127946854,0.004697987344116,0.069095306098461,0.093538142740726,-0.130086556077003,0.052945222705603,0.041717998683453,-0.067738421261311,-0.029128108173609,0.033865928649902,0.087484017014503,-0.065539643168449));
res += mul(Get(s0,dx,-dy), float4x4(0.090561702847481,-0.148612588644028,-0.254681706428528,-0.033392641693354,0.064334906637669,-0.027835715562105,-0.198743447661400,-0.039298262447119,0.079951815307140,0.068021424114704,0.105036050081253,0.111706554889679,-0.092285573482513,-0.023031840100884,0.028624041005969,-0.096191205084324));
res += mul(Get(s0,dx,0), float4x4(-0.004417353309691,-0.144979834556580,0.025693586096168,0.067126691341400,-0.013275090605021,-0.159015879034996,0.041021216660738,0.115325726568699,-0.202624291181564,0.000823082111310,-0.073066540062428,0.041049316525459,0.169973760843277,-0.032726403325796,0.144356742501259,0.047614507377148));
res += mul(Get(s0,dx,dy), float4x4(0.149817749857903,-0.102109394967556,0.040591966360807,0.155801415443420,0.052471213042736,-0.204435795545578,-0.029866514727473,0.074765466153622,-0.086090721189976,-0.006189039908350,-0.104655571281910,0.124434158205986,-0.088118828833103,0.017862131819129,-0.011795125901699,0.012483053840697));
res += mul(Get(s1,-dx,-dy), float4x4(-0.021401571109891,-0.126409754157066,0.004990541841835,0.068039745092392,0.049218911677599,-0.149008288979530,0.123755514621735,0.138584002852440,0.024782558903098,0.029319329187274,0.104838848114014,-0.075270086526871,0.033291183412075,-0.031913295388222,-0.067794926464558,0.047328595072031));
res += mul(Get(s1,-dx,0), float4x4(0.086937561631203,0.036472868174314,0.129238605499268,-0.344719439744949,-0.187109366059303,-0.053612276911736,0.001885903300717,0.242377415299416,0.084980264306068,-0.192217230796814,-0.047212850302458,-0.114852704107761,-0.129581734538078,0.038988973945379,-0.056448724120855,-0.094571895897388));
res += mul(Get(s1,-dx,dy), float4x4(0.087428703904152,0.048993650823832,-0.020823920145631,0.022924136370420,0.059847515076399,0.063950382173061,0.029842084273696,-0.003377922344953,0.083763733506203,-0.068067565560341,0.081775933504105,0.020996021106839,-0.161001369357109,-0.005752975121140,0.028120987117290,-0.114478692412376));
res += mul(Get(s1,0,-dy), float4x4(0.129294887185097,0.022998437285423,0.111664772033691,0.190246373414993,-0.068567477166653,0.017479836940765,0.137539267539978,0.032664924860001,-0.046157676726580,0.130904629826546,-0.004365221597254,-0.103531435132027,0.042380709201097,0.090829588472843,0.079601898789406,0.051641944795847));
res += mul(Get(s1,0,0), float4x4(-0.140977650880814,-0.091444157063961,-0.110314868390560,0.065847411751747,-0.024248383939266,0.093081206083298,0.006032892968506,-0.049736652523279,-0.022017637267709,-0.149151146411896,0.093958817422390,-0.032007005065680,-0.016748217865825,-0.044634692370892,-0.072079643607140,-0.010375097393990));
res += mul(Get(s1,0,dy), float4x4(-0.044160313904285,0.234296724200249,-0.045611165463924,-0.163949951529503,0.143580138683319,0.105150125920773,-0.086740545928478,-0.084816351532936,-0.039211392402649,-0.001973630627617,-0.071817874908447,-0.011563556268811,-0.078915774822235,-0.008807441219687,0.062980055809021,-0.003728149924427));
res += mul(Get(s1,dx,-dy), float4x4(-0.040568456053734,-0.011191710829735,0.020137090235949,-0.219213411211967,0.033748298883438,0.132611244916916,0.145712047815323,-0.030696904286742,-0.082906305789948,0.056202709674835,0.225370347499847,-0.018358740955591,0.055605188012123,0.112363412976265,0.155626654624939,-0.046228691935539));
res += mul(Get(s1,dx,0), float4x4(0.123208522796631,-0.066668286919594,0.058550868183374,0.121300138533115,0.129927575588226,-0.051461961120367,0.137399554252625,-0.041691936552525,0.007471701595932,0.033382505178452,-0.061976768076420,-0.050279177725315,-0.054231196641922,-0.077496439218521,0.243189722299576,0.020937221124768));
res += mul(Get(s1,dx,dy), float4x4(-0.186004742980003,-0.080035194754601,0.001962904352695,-0.045969910919666,-0.031570393592119,-0.013072876259685,0.052215553820133,-0.006795722991228,-0.207759782671928,-0.114628218114376,-0.039999429136515,0.054532330483198,0.014028600417078,0.137077972292900,0.030263490974903,-0.135530307888985));
res += mul(Get(s2,-dx,-dy), float4x4(-0.091994255781174,0.218881502747536,-0.062191888689995,-0.046118251979351,0.019659668207169,-0.008089059963822,0.060824807733297,-0.048729397356510,-0.052324015647173,-0.208004012703896,-0.007251791190356,0.144541561603546,0.038688149303198,0.028024839237332,-0.144156903028488,-0.112740963697433));
res += mul(Get(s2,-dx,0), float4x4(0.121194250881672,-0.065648287534714,-0.215177819132805,-0.129600271582603,0.159339800477028,0.131628304719925,-0.078367531299591,-0.247695103287697,-0.078486882150173,-0.106915555894375,-0.072393685579300,0.132358923554420,0.126673370599747,-0.095976740121841,0.021616201847792,0.023308778181672));
res += mul(Get(s2,-dx,dy), float4x4(0.034077845513821,0.089199729263783,0.219720631837845,0.089967198669910,-0.092916965484619,-0.049398180097342,-0.011876847594976,0.043235260993242,0.032661058008671,-0.167114734649658,-0.003382196417078,0.074647948145866,0.130208209156990,0.034830488264561,-0.111553087830544,0.081307746469975));
res += mul(Get(s2,0,-dy), float4x4(-0.030495511367917,-0.181955024600029,0.119717620313168,0.198157221078873,-0.194784790277481,-0.084866262972355,0.046177625656128,-0.130688026547432,-0.018748814240098,-0.056072577834129,0.127619102597237,-0.055787481367588,0.026332976296544,0.082746557891369,0.030654469504952,-0.063078857958317));
res += mul(Get(s2,0,0), float4x4(-0.039101824164391,0.070483013987541,-0.028567930683494,0.110559225082397,0.040984045714140,-0.055630914866924,-0.035738356411457,-0.108252681791782,0.041311327368021,-0.118630386888981,0.045894850045443,-0.012935633771122,-0.074373126029968,0.010996022261679,-0.011140811257064,0.077822536230087));
res += mul(Get(s2,0,dy), float4x4(0.104171358048916,-0.025734011083841,-0.080685697495937,0.157207816839218,0.112633876502514,0.057807631790638,-0.010379484854639,-0.117521278560162,-0.190383493900299,-0.047587014734745,0.066735200583935,0.101867467164993,0.018990611657500,-0.053599461913109,0.038968458771706,-0.105852447450161));
res += mul(Get(s2,dx,-dy), float4x4(0.044342771172523,-0.044816851615906,-0.059485707432032,-0.002903684275225,-0.039800819009542,0.063289485871792,-0.197831794619560,0.157442793250084,-0.042397435754538,-0.011918189935386,0.036136697977781,0.013589275069535,0.176624178886414,0.215062722563744,0.067510582506657,0.052807975560427));
res += mul(Get(s2,dx,0), float4x4(0.080091029405594,0.001345370314084,-0.193784430623055,-0.060456082224846,0.037913873791695,0.066217496991158,0.033873312175274,0.052747339010239,0.024736789986491,-0.044845610857010,-0.080601453781128,-0.026588629931211,-0.031210500746965,0.016817146912217,-0.041545696556568,-0.191996231675148));
res += mul(Get(s2,dx,dy), float4x4(0.016039690002799,0.079740561544895,-0.114998616278172,0.070044472813606,0.091298833489418,-0.021871656179428,-0.018403036519885,-0.027668526396155,-0.098444446921349,-0.001606694073416,0.159872904419899,0.156381979584694,0.134458318352699,-0.048843514174223,-0.007182258646935,-0.000301872787531));
res += mul(Get(s3,-dx,-dy), float4x4(0.028433447703719,-0.012356637045741,-0.024091551080346,0.066262118518353,-0.072682194411755,0.137548014521599,0.094998106360435,0.013219806365669,0.040184035897255,-0.063069492578506,-0.013623639009893,0.025532310828567,0.076944276690483,-0.040158085525036,-0.098109953105450,-0.007551385089755));
res += mul(Get(s3,-dx,0), float4x4(0.079425491392612,-0.078156210482121,0.117469787597656,0.264488965272903,-0.066799327731133,-0.019895609468222,-0.115214981138706,0.051015619188547,0.038261748850346,-0.018086213618517,-0.043099649250507,-0.013842707499862,-0.162471488118172,0.037547487765551,-0.136051416397095,0.072558924555779));
res += mul(Get(s3,-dx,dy), float4x4(-0.113058544695377,0.011819495819509,0.026138370856643,0.013751740567386,0.203505471348763,0.015540507622063,-0.063201002776623,0.006591607350856,0.059549242258072,-0.011406453326344,-0.154480293393135,-0.146803557872772,0.074516460299492,-0.032847095280886,-0.068747110664845,-0.164454251527786));
res += mul(Get(s3,0,-dy), float4x4(0.134317621588707,-0.123143360018730,0.193258255720139,-0.054587721824646,-0.046664644032717,0.013324710540473,0.029094548895955,-0.100326217710972,-0.081876315176487,-0.033537916839123,0.105841681361198,-0.084864690899849,0.091254211962223,-0.127203688025475,-0.045537590980530,-0.004358831793070));
res += mul(Get(s3,0,0), float4x4(-0.024900821968913,-0.007983040995896,-0.087303571403027,-0.000483457784867,-0.164609611034393,-0.030597642064095,-0.150446757674217,-0.055837202817202,0.113727003335953,0.175509080290794,-0.069833867251873,0.206361606717110,0.193297818303108,-0.156913787126541,-0.013077229261398,-0.082460239529610));
res += mul(Get(s3,0,dy), float4x4(0.026309505105019,0.233098283410072,-0.039532031863928,0.000512076192535,0.025189727544785,-0.006508037447929,0.008981766179204,0.031406965106726,-0.119417697191238,-0.171444356441498,0.101297408342361,-0.072490528225899,-0.105551250278950,-0.163518056273460,-0.080543667078018,-0.123577110469341));
res += mul(Get(s3,dx,-dy), float4x4(-0.136959686875343,-0.046910334378481,0.120923414826393,-0.023293063044548,0.041772477328777,-0.139618679881096,0.044261272996664,-0.059112884104252,-0.025675835087895,0.000750088773202,0.100173078477383,0.001233770628460,0.011211675591767,-0.065129160881042,0.006347431801260,0.035448275506496));
res += mul(Get(s3,dx,0), float4x4(0.102186888456345,0.111120589077473,0.116757750511169,0.051083501428366,-0.200935557484627,-0.110783964395523,0.071825645864010,0.118728600442410,0.048946961760521,-0.031581930816174,0.018274428322911,0.035145089030266,0.106635048985481,-0.021104391664267,-0.034524925053120,-0.007802552077919));
res += mul(Get(s3,dx,dy), float4x4(0.003114999039099,0.152395725250244,0.119371712207794,-0.139046579599380,-0.033177211880684,0.122604362666607,-0.115544766187668,0.009194000624120,-0.081876583397388,0.011774205602705,0.127372458577156,0.031717687845230,-0.056632816791534,-0.101412057876587,0.016341255977750,-0.041722603142262));
return max(float4(0,0,0,0), res);
}
