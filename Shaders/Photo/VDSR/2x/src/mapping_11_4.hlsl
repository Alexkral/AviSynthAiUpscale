sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.062649928033352,0.027441073209047,-0.020673096179962,0.030517563223839,0.040189635008574,-0.026109402999282,-0.034452803432941,-0.138762965798378,0.118519365787506,0.065304413437843,0.004241573624313,-0.000603161344770,-0.142538070678711,0.019866541028023,0.040702339261770,0.009083606302738));
res += mul(Get(s0,-dx,0), float4x4(-0.072496645152569,0.020043337717652,0.056164365261793,-0.011975497938693,0.016511082649231,-0.022591974586248,-0.034138202667236,0.063578769564629,0.009399465285242,0.024511678144336,-0.034955162554979,0.044139552861452,-0.078916572034359,0.057249862700701,0.094466969370842,0.008995623327792));
res += mul(Get(s0,-dx,dy), float4x4(0.034067541360855,-0.032137911766768,0.044164199382067,0.036658257246017,-0.049491021782160,-0.127196416258812,-0.008395609445870,-0.025986393913627,-0.041845433413982,0.049161985516548,0.053716987371445,-0.055728554725647,-0.016491519287229,0.017939133569598,0.063479542732239,-0.014475638978183));
res += mul(Get(s0,0,-dy), float4x4(-0.093480318784714,0.080249689519405,-0.017809988930821,0.005179127212614,0.044907659292221,0.136201560497284,-0.005474936682731,0.044848289340734,0.085368424654007,0.025555728003383,0.102851182222366,-0.044949762523174,-0.072601176798344,-0.081787280738354,0.090819507837296,-0.048269078135490));
res += mul(Get(s0,0,0), float4x4(-0.082793027162552,0.035806056112051,0.069581262767315,-0.041494831442833,0.012097652070224,0.149289920926094,0.001711228629574,-0.020575219765306,-0.019194629043341,-0.010871364735067,0.345260083675385,-0.052407812327147,-0.037737697362900,0.058496650308371,-0.008340947329998,0.087124615907669));
res += mul(Get(s0,0,dy), float4x4(-0.047186717391014,0.025032043457031,0.029593858867884,-0.022699864581227,-0.144175499677658,0.105637624859810,0.072332672774792,-0.012869140133262,0.098328977823257,0.093368753790855,0.070459820330143,0.018564529716969,0.067123271524906,-0.077717520296574,-0.004711824469268,0.020685020834208));
res += mul(Get(s0,dx,-dy), float4x4(0.085487432777882,0.081011041998863,-0.076333843171597,-0.030692728236318,0.157039240002632,-0.044778451323509,-0.093693681061268,-0.113747812807560,0.036857791244984,-0.045926030725241,-0.002409319626167,0.013220272026956,-0.015354276634753,-0.173083201050758,0.014257454313338,0.120565995573997));
res += mul(Get(s0,dx,0), float4x4(-0.020174669101834,0.013224098831415,-0.045149199664593,0.041922155767679,0.031286176294088,-0.051208421587944,-0.065914146602154,0.086616396903992,0.042633697390556,-0.101680055260658,-0.051398642361164,-0.078476577997208,-0.073551833629608,0.073974296450615,-0.005878385622054,0.086658447980881));
res += mul(Get(s0,dx,dy), float4x4(0.057378530502319,0.024372495710850,-0.019401593133807,0.009062142111361,-0.031368888914585,-0.108126208186150,-0.070786744356155,0.027332473546267,0.023102700710297,-0.029722496867180,0.011526835151017,0.039155226200819,0.064696162939072,-0.164433225989342,-0.073735155165195,0.035883150994778));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024084547534585,-0.077850744128227,-0.009326455183327,-0.000336141063599,0.009803092107177,0.044411730021238,0.002850454067811,0.094794154167175,0.013663774356246,-0.150963783264160,-0.004566348157823,0.068076081573963,-0.011667499318719,-0.034227237105370,-0.104005493223667,-0.105896405875683));
res += mul(Get(s1,-dx,0), float4x4(-0.047926038503647,0.038337245583534,-0.045117996633053,0.034543428570032,0.028898488730192,-0.008771246299148,0.025709828361869,0.045326650142670,-0.052043344825506,-0.013027218170464,0.041394654661417,0.055950991809368,-0.029468260705471,-0.128741115331650,-0.089566633105278,0.026522196829319));
res += mul(Get(s1,-dx,dy), float4x4(0.013092968612909,0.005198219325393,-0.075237780809402,-0.033190194517374,0.038824766874313,-0.016606573015451,0.006677145138383,-0.005466294009238,-0.084959574043751,-0.156772971153259,0.037529069930315,-0.029578089714050,-0.091278649866581,0.005456374026835,-0.098777823150158,0.048850353807211));
res += mul(Get(s1,0,-dy), float4x4(0.015479163266718,-0.052174016833305,-0.061772204935551,-0.037724573165178,-0.004731445107609,0.015465886332095,-0.003965537995100,0.061180341988802,-0.016878563910723,0.094368696212769,0.107500106096268,0.163545534014702,0.033622983843088,0.120442442595959,-0.094465591013432,0.054320793598890));
res += mul(Get(s1,0,0), float4x4(0.045564472675323,0.098327420651913,-0.080449476838112,-0.019211130216718,-0.015297787263989,0.023864919319749,-0.079149886965752,0.139956280589104,0.065875247120857,0.257913261651993,-0.056758679449558,0.176884338259697,0.097541041672230,-0.106166638433933,-0.038498025387526,0.008948614820838));
res += mul(Get(s1,0,dy), float4x4(-0.036467369645834,0.042973265051842,0.051963590085506,-0.048696145415306,0.058607913553715,-0.046790003776550,-0.047179657965899,0.037763968110085,0.033101599663496,0.045459881424904,0.123859710991383,-0.058187268674374,-0.072169356048107,0.099075563251972,-0.091062515974045,0.144234448671341));
res += mul(Get(s1,dx,-dy), float4x4(0.170638382434845,-0.068212494254112,-0.050206981599331,-0.000143921934068,0.040752042084932,0.000675765506458,0.015750471502542,0.026216790080070,-0.086143262684345,-0.098521307110786,0.097159475088120,0.027747787535191,-0.010602449998260,-0.044963788241148,-0.050569899380207,0.106861211359501));
res += mul(Get(s1,dx,0), float4x4(0.210807770490646,0.119647778570652,-0.001775782322511,-0.019871436059475,-0.021795501932502,0.020654277876019,-0.012537013739347,0.100685939192772,0.065455585718155,-0.015434532426298,0.031979404389858,0.075891487300396,0.052710834890604,-0.110193163156509,-0.073700010776520,-0.045253071933985));
res += mul(Get(s1,dx,dy), float4x4(-0.048455212265253,0.018156027421355,0.108245261013508,-0.017846528440714,0.032105010002851,-0.060696803033352,-0.020321898162365,0.005891330074519,0.021292963996530,-0.167094692587852,0.094946891069412,-0.059856373816729,-0.102436706423759,-0.037483148276806,-0.089961051940918,0.088668301701546));
res += mul(Get(s2,-dx,-dy), float4x4(-0.151980713009834,-0.023790005594492,-0.055378109216690,-0.040204573422670,0.039914868772030,-0.052698373794556,0.139943778514862,-0.004527851473540,-0.112275376915932,-0.100175105035305,0.064793378114700,-0.034825365990400,-0.045846492052078,-0.060927618294954,0.133189693093300,0.177488654851913));
res += mul(Get(s2,-dx,0), float4x4(-0.099247023463249,0.118484795093536,-0.042319178581238,0.076574124395847,-0.048252504318953,0.089963786303997,0.001660248963162,0.013844217173755,-0.121087834239006,0.001154599245638,-0.066756121814251,0.065044723451138,-0.020122304558754,0.135060608386993,-0.029939286410809,-0.034405045211315));
res += mul(Get(s2,-dx,dy), float4x4(-0.017773382365704,-0.032801851630211,-0.034444961696863,-0.083343259990215,-0.015339952893555,0.022222524508834,-0.025610238313675,-0.031124934554100,-0.125570714473724,-0.079410694539547,0.059967622160912,0.044452067464590,0.028244586661458,-0.003578793723136,0.018532468006015,-0.082152381539345));
res += mul(Get(s2,0,-dy), float4x4(-0.008870756253600,-0.085228502750397,0.109793759882450,-0.144602239131927,0.039467956870794,-0.069038622081280,0.033807054162025,0.002208288293332,0.034977171570063,-0.000295871141134,0.016126472502947,0.087024934589863,-0.169162973761559,-0.008394934237003,0.133979901671410,0.204522222280502));
res += mul(Get(s2,0,0), float4x4(-0.023298842832446,0.083694174885750,0.159561708569527,0.061193346977234,0.004129854030907,0.091971799731255,0.095470435917377,0.021424703299999,0.080128446221352,0.019946688786149,-0.011010638438165,-0.011245453730226,0.075076296925545,0.229395940899849,-0.047574955970049,-0.047200616449118));
res += mul(Get(s2,0,dy), float4x4(0.082988269627094,-0.021491369232535,-0.090799160301685,-0.117913693189621,0.054553870111704,0.072575822472572,0.008484737016261,0.014148430898786,-0.081483185291290,-0.009294781833887,0.121663182973862,0.148848116397858,0.114510528743267,-0.038577035069466,0.011551806703210,-0.176052302122116));
res += mul(Get(s2,dx,-dy), float4x4(-0.021753054112196,-0.001176689984277,-0.093732096254826,-0.008417713455856,0.010078684426844,-0.170754626393318,0.014405613765121,-0.034079506993294,-0.068366795778275,-0.021628823131323,-0.032225742936134,-0.017496414482594,-0.032558683305979,-0.162591844797134,-0.056099843233824,-0.020523294806480));
res += mul(Get(s2,dx,0), float4x4(-0.013937192969024,-0.010816204361618,-0.000050666290917,0.024398364126682,-0.003537602256984,-0.109777987003326,0.004406712949276,0.009985510259867,-0.006575562991202,-0.106513850390911,0.037703119218349,-0.136884108185768,0.127342015504837,0.066285446286201,-0.021426534280181,0.050555024296045));
res += mul(Get(s2,dx,dy), float4x4(0.102912642061710,-0.044878043234348,0.066012248396873,-0.010788822546601,0.018598109483719,-0.119987279176712,0.061847854405642,0.027388179674745,-0.042599767446518,-0.077204369008541,-0.052559047937393,-0.029998874291778,-0.088341228663921,-0.125860646367073,0.063867568969727,-0.056076303124428));
res += mul(Get(s3,-dx,-dy), float4x4(0.002114554168656,-0.029336113482714,-0.027451928704977,-0.020029507577419,0.026900820434093,0.051373653113842,-0.028067642822862,0.050970628857613,-0.070409424602985,0.063986584544182,-0.046454995870590,0.008986609056592,0.046892300248146,-0.003659275593236,0.047436852008104,0.043085884302855));
res += mul(Get(s3,-dx,0), float4x4(0.098125748336315,-0.004068478010595,0.141091242432594,-0.020130194723606,0.044563829898834,-0.001368780969642,-0.054777286946774,-0.041158378124237,0.045576345175505,-0.160724297165871,0.091842330992222,0.110816359519958,-0.011966954916716,-0.053830321878195,-0.113647483289242,-0.026426341384649));
res += mul(Get(s3,-dx,dy), float4x4(-0.026496864855289,0.008579179644585,-0.078188084065914,0.051529183983803,-0.046211101114750,-0.030457580462098,-0.080415777862072,-0.031177874654531,0.034643560647964,0.100119024515152,-0.049213524907827,0.035230688750744,-0.028452008962631,0.040680695325136,-0.073249273002148,0.029383989050984));
res += mul(Get(s3,0,-dy), float4x4(0.064876817166805,0.025421289727092,-0.065121762454510,0.064546614885330,0.119634099304676,0.021473465487361,-0.037781152874231,-0.159766063094139,-0.001477561541833,0.106388874351978,0.020609527826309,-0.104617662727833,-0.131230235099792,0.036101065576077,0.052556212991476,-0.029702709987760));
res += mul(Get(s3,0,0), float4x4(0.134512528777122,0.006450750399381,0.171991497278214,-0.002440731739625,0.082812882959843,-0.046431526541710,-0.169731259346008,-0.070195987820625,0.069180265069008,-0.089822776615620,0.222602099180222,0.050729796290398,-0.112903289496899,0.083986982703209,0.082498490810394,0.010641376487911));
res += mul(Get(s3,0,dy), float4x4(0.069737024605274,0.043575592339039,-0.086476437747478,0.088992275297642,0.002716687507927,0.025321424007416,-0.044805351644754,-0.031779825687408,0.086930759251118,0.085088729858398,-0.045227769762278,0.010619529522955,0.147778600454330,0.089285433292389,-0.034737400710583,-0.045202802866697));
res += mul(Get(s3,dx,-dy), float4x4(0.055797912180424,-0.018669009208679,-0.007935832254589,0.015698419883847,0.051510646939278,-0.102377057075500,-0.102795302867889,0.009870564565063,-0.122868508100510,0.074655577540398,-0.041132878512144,0.093954868614674,0.060490135103464,-0.104496948421001,0.009325849823654,0.032026190310717));
res += mul(Get(s3,dx,0), float4x4(0.163585856556892,-0.012752036564052,0.010454741306603,-0.066935449838638,0.086538493633270,-0.152987048029900,0.023967308923602,0.029966872185469,-0.000579890678637,-0.063115663826466,0.058340035378933,0.078442692756653,0.064875751733780,-0.002586564747617,-0.009558217599988,0.017867263406515));
res += mul(Get(s3,dx,dy), float4x4(0.094070650637150,0.001329676713794,-0.027934610843658,-0.017095739021897,0.029395496472716,-0.081772431731224,-0.095477387309074,0.032352723181248,0.080994673073292,0.108379647135735,0.053959403187037,0.021043317392468,0.087772391736507,-0.074402272701263,-0.003889439394698,0.027845401316881));
return max(float4(0,0,0,0), res);
}
