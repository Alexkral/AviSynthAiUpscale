sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073310375213623,0.025948500260711,0.035653352737427,-0.010024472139776,0.141945913434029,-0.024632971733809,-0.008594718761742,-0.001189827919006,0.043178100138903,-0.045781306922436,0.027298763394356,0.030005600303411,-0.001286956947297,-0.000132251472678,0.001599491573870,0.001922919647768));
res += mul(Get(s0,-dx,0), float4x4(0.008502420037985,-0.132280185818672,-0.004282575566322,0.035536777228117,0.059532411396503,-0.075862571597099,-0.293173670768738,-0.021116271615028,-0.036730069667101,-0.043982315808535,0.098850503563881,0.105101510882378,-0.002933374373242,0.002437599468976,-0.000771922583226,0.006477405782789));
res += mul(Get(s0,-dx,dy), float4x4(-0.067877426743507,0.142869487404823,-0.016878949478269,0.037701398134232,-0.109811522066593,0.269787847995758,0.084213800728321,-0.037082072347403,0.031638476997614,0.003336542751640,0.110638082027435,0.029633034020662,-0.000990613829345,0.000587501504924,0.002777519635856,-0.000965433195233));
res += mul(Get(s0,0,-dy), float4x4(-0.102084398269653,0.121835060417652,0.025859590619802,0.008111585862935,0.104343943297863,-0.211884513497353,-0.522884368896484,0.031032217666507,-0.052175652235746,0.040138240903616,0.083586879074574,-0.011718556284904,0.012444608844817,-0.005361716262996,-0.005296552088112,0.003722544992343));
res += mul(Get(s0,0,0), float4x4(-0.102591253817081,-0.047053415328264,-0.127982035279274,0.070658899843693,0.084202826023102,-0.317549467086792,0.820649802684784,-0.102502249181271,-0.038456760346889,-0.006966175511479,-0.004134452436119,0.032810442149639,0.011901552788913,-0.005416986998171,-0.003765821689740,-0.007315377239138));
res += mul(Get(s0,0,dy), float4x4(-0.012827109545469,0.180249914526939,0.062147468328476,0.093689449131489,0.026945069432259,0.272598147392273,-0.189199969172478,-0.090262062847614,-0.034426465630531,-0.025700096040964,-0.008450272493064,-0.022745070978999,0.004003270994872,0.003008143510669,-0.010705959051847,0.002229857258499));
res += mul(Get(s0,dx,-dy), float4x4(-0.097760543227196,0.084240145981312,0.014617319218814,0.017492741346359,-0.267906516790390,-0.013141074217856,-0.002153351437300,0.054059401154518,0.013743944466114,0.004661293700337,-0.034922312945127,-0.036480374634266,0.002744968747720,-0.000470688421046,0.001793373143300,0.001295558875427));
res += mul(Get(s0,dx,0), float4x4(0.079348675906658,-0.152536287903786,-0.012863748706877,0.054464947432280,0.017256438732147,-0.114642873406410,0.058837074786425,0.049441907554865,0.074745193123817,-0.030620120465755,-0.043536212295294,-0.001161002670415,-0.004471298772842,-0.001339589129202,-0.003488396061584,-0.001291913795285));
res += mul(Get(s0,dx,dy), float4x4(-0.043162140995264,0.064457722008228,0.002538099884987,0.026109777390957,0.188132911920547,0.145358055830002,0.088542498648167,-0.020264903083444,0.108439251780510,-0.026219854131341,0.007399151101708,-0.020215135067701,-0.002054100856185,0.004563884343952,-0.000875003926922,0.002437434159219));
res += mul(Get(s1,-dx,-dy), float4x4(0.013152468018234,-0.022425474599004,0.014857943169773,0.002281816443428,0.015325675718486,0.048013761639595,0.114011481404305,0.047654841095209,-0.026189321652055,-0.102755829691887,0.076734170317650,0.010852808132768,-0.001295779249631,-0.004174107685685,-0.003976595588028,0.004186748992652));
res += mul(Get(s1,-dx,0), float4x4(0.010856751352549,-0.019214859232306,-0.003004641039297,0.008793698623776,0.086678862571716,0.009514897130430,0.045819722115993,0.092082992196083,-0.056623745709658,-0.036323908716440,0.085844978690147,0.088232770562172,0.004162250086665,-0.000846996961627,0.002242038957775,0.003807033644989));
res += mul(Get(s1,-dx,dy), float4x4(-0.010723645798862,0.010158410295844,0.026651976630092,0.011334162205458,0.069257922470570,-0.003792844945565,0.052144281566143,0.075538046658039,-0.115341208875179,0.020097868517041,0.037588559091091,-0.023733675479889,0.003329958301038,0.003504716558382,-0.000046259454393,-0.001253450172953));
res += mul(Get(s1,0,-dy), float4x4(-0.023818513378501,0.000030681589124,-0.015082161873579,0.019311597570777,-0.077947400510311,0.154647558927536,-0.003417673986405,-0.000979793840088,0.020568801090121,-0.066884852945805,0.050243474543095,0.047154035419226,-0.004953152965754,-0.006709337234497,0.003190063172951,-0.000451128464192));
res += mul(Get(s1,0,0), float4x4(-0.038769844919443,-0.013438603840768,-0.034436788409948,0.035571478307247,-0.034007024019957,0.110499620437622,-0.005889786873013,0.021271396428347,0.099360279738903,-0.021898128092289,-0.053027037531137,0.110727280378342,-0.000124615602545,0.002177660586312,0.003863783553243,0.002560854190961));
res += mul(Get(s1,0,dy), float4x4(-0.045384809374809,-0.000640198122710,0.023325156420469,0.025889785960317,-0.087291717529297,0.066443167626858,0.088478751480579,0.033236354589462,-0.007561784703285,0.008169829845428,0.055635292083025,-0.009130577556789,0.000957409385592,0.002623452572152,0.002828653203323,0.000420419790316));
res += mul(Get(s1,dx,-dy), float4x4(-0.024568781256676,0.006184708792716,-0.023383893072605,0.005911219399422,-0.012572214938700,-0.088100738823414,-0.106312789022923,-0.015969173982739,0.010602820664644,-0.073946848511696,0.028441783040762,0.004199735354632,0.001822890946642,0.000746512669139,-0.002853235928342,0.003979682456702));
res += mul(Get(s1,dx,0), float4x4(0.008247982710600,-0.014171258546412,0.002685297979042,0.023323513567448,-0.068376719951630,-0.022176921367645,-0.007564029190689,-0.011169160716236,0.077186591923237,-0.042303297668695,0.004367457237095,0.110220275819302,0.002358330180869,-0.002685704967007,-0.000441292941105,-0.002387885702774));
res += mul(Get(s1,dx,dy), float4x4(-0.005359568167478,0.002273015445098,0.002670815447345,0.007008883170784,0.022704299539328,0.022757450118661,-0.012854413129389,0.005093705374748,0.057674959301949,-0.003141716122627,-0.010724822059274,0.023716621100903,0.002331428695470,-0.000024786102585,0.000913092051633,0.001652009435929));
res += mul(Get(s2,-dx,-dy), float4x4(-0.029278611764312,-0.018035650253296,-0.012373851612210,-0.003851373679936,-0.003120200708508,0.000692080473527,-0.004911119118333,0.001004618941806,0.131384760141373,-0.048273138701916,-0.017689166590571,0.017242403700948,0.149327158927917,0.021420020610094,-0.124596372246742,-0.001371061778627));
res += mul(Get(s2,-dx,0), float4x4(-0.035646192729473,-0.003376875771210,0.009927629493177,0.018959363922477,-0.003393774619326,0.003095237305388,0.002940053585917,-0.001620218856260,-0.029521020129323,-0.166346564888954,-0.110733397305012,0.075058259069920,0.024342019110918,-0.073512375354767,-0.104352287948132,-0.047697357833385));
res += mul(Get(s2,-dx,dy), float4x4(-0.002759648719802,0.010924704372883,0.009239817969501,-0.005120255518705,-0.001732621341944,0.000225397714530,-0.005565455649048,0.001340265967883,0.050595734268427,-0.009522824548185,-0.059144876897335,0.045397695153952,-0.002206045435742,0.035072796046734,-0.127911701798439,-0.050224155187607));
res += mul(Get(s2,0,-dy), float4x4(-0.019426364451647,-0.013185910880566,0.028693320229650,-0.000604581669904,0.001510586356744,0.008667780086398,-0.006366476882249,-0.001323526492342,-0.049269936978817,-0.041647817939520,0.041732758283615,0.010898100212216,0.053541172295809,0.072666950523853,-0.064325451850891,0.051719643175602));
res += mul(Get(s2,0,0), float4x4(-0.005393580533564,0.004386952612549,-0.036069564521313,0.009124896489084,-0.000727940641809,-0.005780756473541,0.001065105898306,-0.000353149982402,-0.079441778361797,-0.211765304207802,-0.113154657185078,0.058436993509531,-0.069545499980450,0.032002709805965,-0.060636505484581,0.100805908441544));
res += mul(Get(s2,0,dy), float4x4(0.001662646536715,-0.002163242315874,-0.011696949601173,-0.012005953118205,-0.003404085990041,-0.001437598606572,-0.003297676565126,0.005659374408424,0.066196314990520,-0.041716292500496,0.135973557829857,0.078214198350906,-0.081628330051899,0.075707398355007,-0.040806811302900,0.085555978119373));
res += mul(Get(s2,dx,-dy), float4x4(-0.007595952600241,-0.016945008188486,-0.020033134147525,-0.000315258308547,-0.005502662155777,-0.000267599039944,-0.003097487846389,-0.002954078838229,-0.093908488750458,-0.077837012708187,0.024922177195549,0.020759835839272,-0.010890457779169,0.040847826749086,0.025168145075440,-0.029406193643808));
res += mul(Get(s2,dx,0), float4x4(0.027435418218374,-0.012977583333850,-0.034902542829514,0.015285382978618,-0.001255602343008,0.000400642311433,-0.000593247474171,-0.001990186050534,-0.129807755351067,-0.201499715447426,-0.110476210713387,0.064580611884594,0.046185716986656,-0.021699605509639,0.094824939966202,0.028151100501418));
res += mul(Get(s2,dx,dy), float4x4(0.006411323323846,-0.008587846532464,0.025100437924266,-0.004950795788318,-0.000830657139886,0.005101696588099,-0.001736391452141,-0.000222501243115,0.004693500697613,-0.031257174909115,0.069432161748409,0.033103864639997,-0.047629885375500,-0.000679991324432,0.073105722665787,-0.024873523041606));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024160502478480,-0.010665886104107,-0.012647945433855,0.006605827715248,0.003167256945744,0.001216374337673,0.010161232203245,0.002022271975875,0.005559314507991,-0.017916047945619,0.047426450997591,-0.010640762746334,0.033923450857401,-0.070257514715195,0.067661710083485,-0.060324154794216));
res += mul(Get(s3,-dx,0), float4x4(-0.001574706635438,-0.006642851512879,-0.019781200215220,0.027223331853747,0.012648900970817,0.005926794372499,-0.009243933483958,-0.008086386136711,0.018532423302531,-0.037139885127544,0.055512763559818,-0.003428059630096,-0.271389275789261,-0.050637498497963,-0.106216222047806,-0.103376924991608));
res += mul(Get(s3,-dx,dy), float4x4(-0.005265134852380,0.022560739889741,0.042348928749561,0.001056424574926,0.000960944744293,0.007423938717693,0.001691509387456,-0.001887028920464,0.033336114138365,0.017248762771487,0.050817288458347,-0.002340628299862,-0.124189585447311,0.294931232929230,0.054321162402630,-0.054416954517365));
res += mul(Get(s3,0,-dy), float4x4(0.013246373273432,-0.004385096952319,-0.017213106155396,0.004591296892613,0.003852433292195,0.001003148267046,-0.006763826124370,0.004644866101444,-0.027113288640976,0.037685595452785,-0.011168075725436,0.053567901253700,-0.127291679382324,-0.388287901878357,0.063553817570210,-0.140092864632607));
res += mul(Get(s3,0,0), float4x4(0.023420229554176,0.002357336226851,-0.042676676064730,0.031763233244419,-0.002048821421340,-0.002007104223594,-0.000633509829640,0.004267984069884,-0.070480749011040,0.002777197863907,-0.070375360548496,0.107016555964947,0.125434905290604,-0.170306250452995,0.454644292593002,-0.123876355588436));
res += mul(Get(s3,0,dy), float4x4(0.011740281246603,0.014568710699677,0.055928155779839,0.003390138503164,-0.001911710947752,0.000376568175852,0.001092254417017,0.008687165565789,-0.123380869626999,0.025601116940379,0.038672819733620,0.086315840482712,0.274243831634521,0.378756523132324,-0.190881907939911,-0.028948925435543));
res += mul(Get(s3,dx,-dy), float4x4(0.009047725237906,-0.005411977879703,-0.012110506184399,0.002183031756431,0.001112832804210,0.000447060097940,0.000420155061875,0.006437222007662,0.041037846356630,0.007908773608506,0.067377775907516,-0.001536759198643,-0.113582544028759,-0.137331649661064,0.040397830307484,-0.006881438661367));
res += mul(Get(s3,dx,0), float4x4(-0.005924157332629,-0.000540524313692,-0.004503179341555,0.026976628229022,-0.003118387889117,0.000862861401401,0.004497258923948,0.003120853099972,0.084871836006641,-0.016453126445413,0.153731271624565,0.028056681156158,0.184381499886513,-0.067371889948845,-0.303915441036224,0.055817566812038));
res += mul(Get(s3,dx,dy), float4x4(0.020672548562288,0.015607551671565,0.042945623397827,0.016875851899385,0.004933676682413,-0.001124389469624,0.001354211010039,0.000381530437153,0.049763470888138,0.008967487141490,0.023763382807374,-0.026118293404579,-0.000899574893992,0.257513731718063,0.233371332287788,0.032026365399361));
return max(float4(0,0,0,0), res);
}
