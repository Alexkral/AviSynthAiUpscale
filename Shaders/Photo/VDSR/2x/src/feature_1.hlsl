sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.241562202572823,0.013885644264519,0.351693093776703,0.000771686667576) * Get(-dx,-dy);
res += float4(-0.035411804914474,0.315391063690186,0.251646369695663,-0.002440767129883) * Get(-dx,0);
res += float4(0.336031854152679,-0.160311058163643,0.153867959976196,0.001168836257420) * Get(-dx,dy);
res += float4(-0.339160323143005,-0.197064489126205,0.023699328303337,-0.000326509645674) * Get(0,-dy);
res += float4(-0.134127914905548,2.317646503448486,-0.273936599493027,-0.003319401526824) * Get(0,0);
res += float4(0.287961632013321,-0.660357952117920,-0.328843057155609,0.000223702460062) * Get(0,dy);
res += float4(-0.169125452637672,-0.099584937095642,0.086680099368095,-0.000929034140427) * Get(dx,-dy);
res += float4(-0.009982141666114,-0.202987045049667,-0.256669014692307,-0.001452194876038) * Get(dx,0);
res += float4(0.299360662698746,0.064897552132607,-0.232067152857780,-0.002550701610744) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
