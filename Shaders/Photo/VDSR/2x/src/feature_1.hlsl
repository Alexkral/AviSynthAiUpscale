sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.016827564686537,-0.068283155560493,0.092312686145306,-0.015738973394036) * Get(-dx,-dy);
res += float4(-0.107984960079193,0.093713320791721,0.238505452871323,0.210099011659622) * Get(-dx,0);
res += float4(0.026087142527103,-0.050378303974867,0.213930204510689,-0.102090112864971) * Get(-dx,dy);
res += float4(-0.027025496587157,-0.004511161707342,-0.208967655897141,0.068373456597328) * Get(0,-dy);
res += float4(-0.014831622131169,0.188289284706116,0.088186040520668,0.020602811127901) * Get(0,0);
res += float4(0.028068030253053,0.261289387941360,-0.366014212369919,-0.185029789805412) * Get(0,dy);
res += float4(0.087525337934494,-0.008019872009754,-0.035575624555349,-0.006899572443217) * Get(dx,-dy);
res += float4(0.351909279823303,-0.158668369054794,0.052466053515673,0.086856216192245) * Get(dx,0);
res += float4(-0.056896992027760,-0.154645621776581,0.057212051004171,0.081584438681602) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
