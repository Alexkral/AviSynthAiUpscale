sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.275057256221771,0.125884205102921,-0.154072806239128,0.036207702010870,-0.071058303117752,0.039767742156982,-0.032130818814039,0.139863118529320,0.075718887150288,-0.025954436510801,-0.070120923221111,0.019140267744660,-0.051828637719154,0.042179204523563,-0.013307618908584,-0.022463975474238));
res += mul(Get(s0,-dx,0), float4x4(-0.181195825338364,0.240695744752884,0.153532475233078,-0.152154311537743,0.011371721513569,-0.036761216819286,0.138411045074463,-0.021173767745495,-0.063180491328239,-0.010149066336453,0.103435829281807,0.034857790917158,-0.072765909135342,0.027402885258198,0.037909589707851,0.010593591257930));
res += mul(Get(s0,-dx,dy), float4x4(-0.055626209825277,-0.034964460879564,-0.020261991769075,0.128523990511894,-0.003594896523282,-0.017752515152097,-0.053632065653801,0.004940577782691,0.047607082873583,0.025988103821874,0.096613898873329,0.016963370144367,0.018320869654417,0.054207399487495,0.051706358790398,0.070163801312447));
res += mul(Get(s0,0,-dy), float4x4(-0.068106226623058,-0.214543104171753,-0.216007068753242,0.281428545713425,0.035230610519648,-0.004665511194617,-0.033355619758368,0.223954036831856,0.003508007852361,0.006806720048189,0.035562407225370,0.018933659419417,0.161002159118652,-0.002362658968195,0.015240329317749,0.017300505191088));
res += mul(Get(s0,0,0), float4x4(0.134184360504150,-0.032215632498264,0.042211532592773,-0.070290595293045,-0.069723203778267,-0.075904242694378,0.076205410063267,-0.011593537405133,-0.098862588405609,-0.012160434387624,0.172730043530464,0.014704360626638,-0.025894245132804,0.186650961637497,0.165564805269241,-0.155886247754097));
res += mul(Get(s0,0,dy), float4x4(0.083513140678406,0.080555193126202,0.025081168860197,-0.011557871475816,-0.092363514006138,-0.088141433894634,-0.055870823562145,0.029433449730277,0.140833362936974,-0.015215121209621,-0.025394575670362,0.046413481235504,-0.014756520278752,0.061548817902803,-0.131792381405830,-0.066591776907444));
res += mul(Get(s0,dx,-dy), float4x4(-0.040912825614214,-0.106996469199657,0.255613386631012,0.132617592811584,0.029483793303370,0.017010981217027,-0.017390547320247,0.170790120959282,0.043005954474211,0.038539938628674,-0.016751619055867,-0.000208913261304,0.043331764638424,-0.149286061525345,-0.081557162106037,0.046584606170654));
res += mul(Get(s0,dx,0), float4x4(-0.004115246236324,-0.115623593330383,-0.017019597813487,-0.146921470761299,-0.048929400742054,0.033366233110428,0.027929989621043,-0.055965706706047,-0.065336883068085,0.010386382229626,-0.010331334546208,-0.027933718636632,-0.070820450782776,0.003954442217946,-0.018451530486345,-0.057251598685980));
res += mul(Get(s0,dx,dy), float4x4(-0.020867291837931,0.009066985920072,-0.047665696591139,0.018741032108665,-0.023718833923340,-0.033758692443371,0.043295100331306,0.038347918540239,-0.048485450446606,-0.016209581866860,-0.036291345953941,0.099137686192989,0.007487966679037,-0.006203282624483,-0.067706130445004,0.020855747163296));
res += mul(Get(s1,-dx,-dy), float4x4(0.048087436705828,-0.036214698106050,-0.032012056559324,0.065671667456627,-0.067283995449543,0.026933172717690,0.032675456255674,-0.004442183766514,-0.077446378767490,-0.080265603959560,0.191056117415428,0.015137050300837,-0.004931066650897,0.008913454599679,0.016250021755695,0.022269936278462));
res += mul(Get(s1,-dx,0), float4x4(0.074393711984158,0.023408638313413,0.083443932235241,0.004266088828444,0.005583963356912,-0.103963129222393,0.026067070662975,-0.029079724103212,0.252944290637970,0.186110436916351,-0.078858539462090,-0.087433822453022,-0.006102697923779,0.002226038137451,-0.032676599919796,0.034210573881865));
res += mul(Get(s1,-dx,dy), float4x4(-0.017914678901434,0.422235816717148,0.006084207445383,-0.074338600039482,-0.001242140075192,-0.194489970803261,0.107872828841209,0.076292380690575,-0.292024105787277,0.250732004642487,0.063993625342846,-0.048180032521486,-0.003544760635123,0.003611986525357,-0.030514787882566,-0.000763629213907));
res += mul(Get(s1,0,-dy), float4x4(-0.031575720757246,-0.133281707763672,0.032397385686636,0.075255677103996,-0.161548182368279,0.150080814957619,0.058409441262484,0.128617703914642,0.027929453179240,0.021755443885922,0.069540873169899,-0.252887189388275,-0.012454858981073,-0.013352236710489,0.026700897142291,0.046200472861528));
res += mul(Get(s1,0,0), float4x4(0.003491173731163,-0.137455269694328,0.040951877832413,0.032184883952141,0.052424434572458,0.080182418227196,0.114210844039917,-0.130201756954193,0.058569859713316,-0.146780252456665,0.004182751756161,0.187656030058861,-0.018797805532813,-0.005332172382623,-0.035443019121885,0.017940891906619));
res += mul(Get(s1,0,dy), float4x4(0.095473475754261,0.140390023589134,-0.210202217102051,-0.005922008305788,-0.057515304535627,0.069034531712532,0.044195156544447,0.095282189548016,0.011721663177013,0.064795933663845,0.159534409642220,-0.044410031288862,-0.009370057843626,-0.000668753928039,-0.024600233882666,0.024144845083356));
res += mul(Get(s1,dx,-dy), float4x4(0.055369794368744,-0.092268414795399,0.036958470940590,-0.102711558341980,-0.086412116885185,0.037595219910145,-0.042189281433821,0.173255562782288,0.079663120210171,-0.089870549738407,-0.346142977476120,-0.107306033372879,-0.013020358048379,-0.025612106546760,0.011986567638814,0.010434100404382));
res += mul(Get(s1,dx,0), float4x4(-0.004840494133532,-0.136117011308670,0.098261877894402,-0.129442438483238,0.017053321003914,-0.058283973485231,-0.082621984183788,-0.031432487070560,-0.001143854693510,-0.199563011527061,0.243190497159958,0.102789409458637,0.020852407440543,-0.037589266896248,0.000702966994140,0.002812662860379));
res += mul(Get(s1,dx,dy), float4x4(-0.068675957620144,-0.018508968874812,-0.035834226757288,-0.005586083978415,-0.084341719746590,-0.048266142606735,0.014670697972178,0.133144363760948,-0.032095190137625,-0.045811809599400,-0.308297842741013,-0.021025506779552,0.018064016476274,-0.023252492770553,0.021753484383225,0.017415780574083));
res += mul(Get(s2,-dx,-dy), float4x4(-0.169553473591805,-0.043906707316637,-0.077564127743244,0.031203877180815,0.109679266810417,0.007197918370366,0.102303698658943,-0.006587564479560,0.009762431494892,-0.045055665075779,-0.051023662090302,-0.021015971899033,0.021024432033300,-0.046128343790770,-0.236291885375977,0.018200987949967));
res += mul(Get(s2,-dx,0), float4x4(-0.041044965386391,-0.008355745114386,0.036906369030476,0.037500444799662,0.066346406936646,0.109855249524117,-0.007161142304540,-0.079429499804974,-0.020556880161166,-0.033684354275465,0.008391708135605,0.003451684257016,-0.191721975803375,-0.023515002802014,0.305194765329361,0.166749343276024));
res += mul(Get(s2,-dx,dy), float4x4(-0.010887848213315,-0.044361367821693,0.050921067595482,0.046151436865330,0.032200735062361,-0.013458017259836,0.055181592702866,-0.015572858043015,0.029066493734717,-0.004285866394639,0.017396016046405,-0.022348951548338,0.052210688591003,0.033831067383289,0.047083571553230,0.108399190008640));
res += mul(Get(s2,0,-dy), float4x4(0.002885620575398,-0.111402943730354,-0.087934657931328,0.072743602097034,0.003675077110529,-0.103127501904964,0.036997966468334,0.019338361918926,0.085516698658466,-0.035796131938696,-0.030708555132151,0.088633425533772,0.036195654422045,0.058452785015106,0.087097525596619,-0.006415139883757));
res += mul(Get(s2,0,0), float4x4(0.042330510914326,-0.050869621336460,0.012390770949423,0.093445859849453,-0.009954746812582,-0.142684325575829,-0.051615398377180,0.135853230953217,-0.010126350447536,-0.013800811022520,-0.170548260211945,0.071718111634254,0.185508877038956,0.207791104912758,0.267617434263229,-0.145229771733284));
res += mul(Get(s2,0,dy), float4x4(0.061180923134089,-0.018675839528441,0.082848332822323,0.092344984412193,0.067342787981033,-0.036710292100906,0.046738270670176,0.009699015878141,-0.007298642769456,-0.015450722537935,-0.073318198323250,0.080932818353176,-0.122579254209995,0.114904560148716,0.015176850371063,0.038024514913559));
res += mul(Get(s2,dx,-dy), float4x4(-0.004732382018119,-0.024439154192805,-0.025950118899345,0.064884468913078,0.016504269093275,0.079482592642307,-0.045183900743723,-0.033180460333824,-0.040996816009283,-0.076605290174484,-0.017926145344973,-0.034594375640154,-0.080421365797520,-0.088469892740250,-0.063545867800713,-0.085326194763184));
res += mul(Get(s2,dx,0), float4x4(0.097476691007614,-0.001665299758315,-0.046096988022327,0.027558725327253,0.011832199990749,-0.110333263874054,0.033039007335901,0.063298024237156,-0.056235060095787,-0.101961858570576,0.007925513200462,0.006420934107155,0.234206229448318,-0.075757063925266,-0.393896371126175,-0.159361243247986));
res += mul(Get(s2,dx,dy), float4x4(-0.000482712348457,0.027957160025835,-0.031917098909616,0.092953078448772,-0.032537296414375,0.019794620573521,0.016072036698461,0.026442673057318,0.057052914053202,-0.039788115769625,0.020364360883832,0.056257795542479,-0.074533082544804,-0.083448328077793,0.022497437894344,-0.026230262592435));
res += mul(Get(s3,-dx,-dy), float4x4(0.013719236478209,-0.008902613073587,-0.053566772490740,-0.044296722859144,0.013131606392562,-0.059580337256193,0.023661283776164,-0.059882100671530,0.025517743080854,0.046972073614597,0.016906755045056,0.006726853083819,0.113611802458763,-0.012849577702582,-0.001099339569919,0.013731896877289));
res += mul(Get(s3,-dx,0), float4x4(0.038478631526232,0.004739556461573,-0.056934729218483,-0.097533017396927,-0.146697580814362,-0.083531521260738,0.040690146386623,0.008698537945747,-0.082911871373653,-0.117571383714676,-0.023113371804357,-0.013684635050595,0.063227385282516,-0.121724709868431,0.034714695066214,0.081956505775452));
res += mul(Get(s3,-dx,dy), float4x4(0.076693460345268,-0.012389922514558,-0.030202619731426,-0.057565417140722,0.153671532869339,-0.139968663454056,0.105746395885944,-0.009021831676364,-0.095182165503502,-0.078859455883503,-0.027092223986983,0.055952198803425,-0.049641232937574,0.078986585140228,0.007783657871187,0.004850479308516));
res += mul(Get(s3,0,-dy), float4x4(-0.096922680735588,-0.039201963692904,-0.102595910429955,-0.046126246452332,-0.002123065758497,0.041641280055046,-0.005470385774970,-0.066999286413193,0.078275501728058,0.022833349183202,0.106762275099754,0.064272552728653,-0.025974065065384,-0.129966497421265,-0.016471404582262,-0.116529844701290));
res += mul(Get(s3,0,0), float4x4(-0.015016336925328,0.024375516921282,-0.114617913961411,-0.060635928064585,-0.102477841079235,-0.119825035333633,-0.012421201914549,-0.035936810076237,0.163636893033981,0.031535971909761,-0.019500056281686,-0.028673028573394,-0.026204388588667,-0.228041633963585,0.046524155884981,-0.044566042721272));
res += mul(Get(s3,0,dy), float4x4(0.098673559725285,0.000782373186667,-0.074732720851898,0.010931503027678,-0.042054492980242,-0.194894343614578,-0.039309538900852,-0.018846025690436,0.054311156272888,0.030014939606190,0.032819535583258,-0.047155480831861,0.014586389064789,-0.121677465736866,-0.008726661093533,0.037350334227085));
res += mul(Get(s3,dx,-dy), float4x4(-0.061640031635761,-0.011338766664267,0.052092418074608,-0.001455951016396,0.066714338958263,0.054052889347076,-0.026283673942089,-0.004297639708966,-0.003969374578446,-0.006533032283187,0.037583563476801,0.014873685315251,0.033312637358904,0.007897691801190,0.020445792004466,0.083462513983250));
res += mul(Get(s3,dx,0), float4x4(0.082385398447514,0.025106981396675,0.090260893106461,-0.048448655754328,0.020998973399401,-0.093447208404541,0.025737853720784,0.033411331474781,-0.091989248991013,-0.000212400278542,0.094939760863781,0.011140515096486,0.001930051832460,-0.042259227484465,0.043341189622879,-0.086264312267303));
res += mul(Get(s3,dx,dy), float4x4(0.079503975808620,-0.024802450090647,-0.007646614219993,0.011677964590490,-0.006596426479518,-0.162295177578926,0.021653117612004,-0.215448796749115,0.029471097514033,0.051324862986803,-0.012575683183968,0.061511170119047,-0.046363301575184,-0.128958269953728,0.039936605840921,0.001304342877120));
return max(float4(0,0,0,0), res);
}
