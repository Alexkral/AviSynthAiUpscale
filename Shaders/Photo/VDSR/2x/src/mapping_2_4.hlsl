sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.095517724752426,-0.016693586483598,-0.045410700142384,-0.138551726937294,-0.055939909070730,-0.057103447616100,-0.062565036118031,-0.115158937871456,0.098576195538044,0.016098484396935,-0.201855659484863,0.011932719498873,-0.153821125626564,0.117361187934875,-0.045154917985201,0.102548077702522));
res += mul(Get(s0,-dx,0), float4x4(0.097933724522591,-0.074813157320023,-0.103023931384087,-0.122195407748222,0.035219278186560,-0.182713761925697,-0.034719306975603,0.048373818397522,-0.047156762331724,0.069910950958729,0.047369446605444,0.011501148343086,0.017037985846400,-0.048379987478256,0.075831502676010,0.033306665718555));
res += mul(Get(s0,-dx,dy), float4x4(-0.023304618895054,-0.046380285173655,0.061543997377157,-0.040961962193251,-0.047887694090605,-0.196382641792297,-0.092583477497101,0.177669435739517,-0.011141676455736,-0.069936372339725,-0.122632250189781,-0.054016556590796,0.146990269422531,-0.005676439497620,0.137684091925621,0.051886927336454));
res += mul(Get(s0,0,-dy), float4x4(-0.063964910805225,-0.329862117767334,-0.170652806758881,-0.076365694403648,0.085951387882233,-0.024273755028844,-0.142573162913322,-0.004210551269352,-0.090219937264919,0.019463496282697,-0.070613719522953,-0.032102663069963,-0.193220987915993,0.090019218623638,-0.227330580353737,0.061454020440578));
res += mul(Get(s0,0,0), float4x4(0.001192250871100,0.028005423024297,0.150306090712547,-0.087932199239731,0.047180723398924,-0.000020629357095,-0.011037178337574,-0.128003984689713,-0.087015375494957,-0.034703694283962,0.005991857498884,0.020086903125048,-0.092662408947945,0.152710944414139,0.072785101830959,0.006109735462815));
res += mul(Get(s0,0,dy), float4x4(0.043402004987001,0.019958589226007,0.082687616348267,-0.137512847781181,-0.111281879246235,0.050062678754330,0.050773859024048,0.064314618706703,0.034041084349155,-0.132675707340240,-0.123841121792793,-0.013061844743788,-0.113156698644161,-0.083792343735695,-0.109765179455280,0.140416741371155));
res += mul(Get(s0,dx,-dy), float4x4(0.054574195295572,0.065559692680836,-0.178997978568077,0.270831197500229,0.064934179186821,-0.103787302970886,0.028135057538748,0.062645234167576,-0.133265599608421,-0.018558351323009,-0.222409382462502,0.243483588099480,0.027138175442815,0.065724648535252,-0.102495312690735,0.094193272292614));
res += mul(Get(s0,dx,0), float4x4(0.208994552493095,0.083326809108257,0.110072538256645,-0.165771082043648,-0.083920322358608,0.135514989495277,-0.041132055222988,-0.005832300055772,0.012155241332948,-0.022021925076842,-0.066966131329536,-0.121016085147858,-0.065940357744694,0.140134394168854,-0.032695356756449,0.079212829470634));
res += mul(Get(s0,dx,dy), float4x4(0.005851331632584,0.121009521186352,-0.140090271830559,-0.044902089983225,0.031638652086258,0.007726417388767,-0.065961182117462,0.056259386241436,0.088297344744205,0.075908645987511,-0.013436573557556,0.177458271384239,-0.218767359852791,0.007560532074422,0.026515211910009,0.098091579973698));
res += mul(Get(s1,-dx,-dy), float4x4(0.100630991160870,-0.009217134676874,-0.090843588113785,0.250633358955383,0.105799198150635,0.031194267794490,-0.059679370373487,-0.073656134307384,-0.018265211954713,-0.037698179483414,-0.047069329768419,-0.067208759486675,0.005827642977238,-0.052734978497028,-0.115713089704514,0.119841203093529));
res += mul(Get(s1,-dx,0), float4x4(0.043880894780159,0.043433461338282,0.089762605726719,0.048690803349018,0.090472377836704,-0.040652845054865,0.198488295078278,0.091638423502445,-0.027091611176729,-0.142795175313950,0.140378132462502,-0.068900018930435,0.002531774342060,-0.222360476851463,-0.162822514772415,-0.089944824576378));
res += mul(Get(s1,-dx,dy), float4x4(-0.053065553307533,0.054184980690479,0.109591335058212,0.112080730497837,0.056322813034058,0.047935046255589,-0.012025653384626,-0.027314756065607,0.135804042220116,-0.074260868132114,0.106717854738235,0.092819079756737,0.102527961134911,-0.124003887176514,-0.118448667228222,-0.111877709627151));
res += mul(Get(s1,0,-dy), float4x4(0.046872176229954,-0.028042187914252,-0.014720829203725,-0.008128503337502,0.067976951599121,0.005270093679428,0.034435644745827,-0.016462091356516,0.047858837991953,-0.083893232047558,0.061705064028502,0.033601894974709,0.031459979712963,-0.078102387487888,0.036916710436344,-0.247891306877136));
res += mul(Get(s1,0,0), float4x4(0.158355191349983,-0.120925173163414,-0.047651741653681,-0.121978618204594,0.042896028608084,-0.056344613432884,0.143097847700119,-0.117928855121136,-0.027062175795436,0.095644310116768,0.098605327308178,0.188092321157455,0.027616359293461,0.220227047801018,0.085822351276875,0.123406425118446));
res += mul(Get(s1,0,dy), float4x4(-0.121351957321167,0.100256964564323,-0.026281701400876,0.007681900169700,0.256429553031921,-0.278016895055771,0.067692846059799,0.122596405446529,-0.024368820711970,0.128592610359192,0.060832757502794,-0.131335824728012,-0.091880738735199,-0.128877207636833,0.115719348192215,-0.028599912300706));
res += mul(Get(s1,dx,-dy), float4x4(-0.041088338941336,0.030282562598586,-0.005089318845421,-0.140666499733925,-0.027694253250957,0.145075440406799,0.192841917276382,-0.132237687706947,-0.046561010181904,-0.033633448183537,0.053443640470505,0.155435517430305,-0.007446935866028,-0.026093268766999,0.086876399815083,0.050572648644447));
res += mul(Get(s1,dx,0), float4x4(-0.092199563980103,0.145575702190399,0.075344964861870,0.110462054610252,-0.070674262940884,0.008537578396499,-0.066421166062355,0.089927904307842,-0.058473795652390,0.005090953782201,0.073692813515663,0.155466914176941,-0.278289079666138,0.113130979239941,0.010181162506342,0.053094711154699));
res += mul(Get(s1,dx,dy), float4x4(-0.159134954214096,0.165100634098053,-0.130503460764885,0.269205421209335,-0.033817294985056,0.147862166166306,0.083278894424438,-0.005663420539349,-0.121663860976696,0.111537843942642,0.008140779100358,-0.226860180497169,0.175686225295067,0.051951024681330,-0.037595067173243,0.035658821463585));
res += mul(Get(s2,-dx,-dy), float4x4(-0.096816778182983,-0.179989933967590,-0.146148249506950,0.034556511789560,0.072907678782940,-0.031956754624844,-0.187611788511276,-0.110553242266178,-0.007087128236890,0.002099722623825,-0.002275590319186,-0.203416004776955,-0.094835177063942,0.026965934783220,-0.121296986937523,-0.053685504943132));
res += mul(Get(s2,-dx,0), float4x4(-0.142285823822021,0.030203690752387,-0.149907618761063,0.048510178923607,0.204792812466621,0.061863634735346,-0.169536098837852,-0.120380572974682,0.059618227183819,0.049484085291624,0.076347224414349,0.108521245419979,-0.003311994485557,-0.040422461926937,0.045496426522732,-0.308779954910278));
res += mul(Get(s2,-dx,dy), float4x4(0.093114972114563,0.134910359978676,0.111920386552811,0.049853857606649,-0.033005502074957,0.047347389161587,0.138271525502205,0.215515807271004,0.016202419996262,-0.106280662119389,0.087719514966011,0.090836502611637,-0.046086445450783,-0.180617347359657,-0.107562355697155,-0.119595736265182));
res += mul(Get(s2,0,-dy), float4x4(-0.000275244237855,-0.039793513715267,0.008552563376725,-0.023734293878078,0.144348934292793,0.064674250781536,-0.092591434717178,0.127675861120224,0.099111489951611,-0.060612611472607,0.043403714895248,-0.146715939044952,-0.006692407652736,0.088708795607090,0.107003048062325,-0.088975086808205));
res += mul(Get(s2,0,0), float4x4(0.044673122465611,-0.079635143280029,0.120574928820133,-0.061576195061207,-0.183452144265175,0.035537768155336,0.057721890509129,-0.134377747774124,-0.314741134643555,0.137436360120773,0.161629661917686,-0.073794998228550,0.138083592057228,-0.006104709114879,0.017871545627713,0.008705392479897));
res += mul(Get(s2,0,dy), float4x4(-0.088525712490082,0.062739893794060,-0.093607872724533,-0.100641325116158,-0.073490545153618,-0.117579586803913,-0.034702885895967,-0.196110665798187,-0.118525318801403,-0.151438310742378,0.047030929476023,-0.090768568217754,-0.203001737594604,-0.063954681158066,-0.022213969379663,0.019758608192205));
res += mul(Get(s2,dx,-dy), float4x4(-0.106023252010345,-0.014067027717829,0.043859060853720,0.126189991831779,-0.103681668639183,0.041206676512957,0.044039942324162,-0.000754428619985,-0.011023126542568,-0.002610069233924,0.032885577529669,-0.002094983356073,-0.046211216598749,-0.050350040197372,0.001846848637797,-0.080326385796070));
res += mul(Get(s2,dx,0), float4x4(0.104012228548527,0.205201327800751,-0.001550973509438,0.115946233272552,0.026589181274176,0.074019491672516,-0.274027556180954,0.068279221653938,0.247998386621475,-0.086627021431923,-0.001851955195889,0.035755168646574,0.001348947873339,0.033691495656967,-0.012764262035489,0.079473115503788));
res += mul(Get(s2,dx,dy), float4x4(0.020333990454674,-0.205820932984352,-0.309535413980484,-0.095568038523197,0.082359172403812,0.050745461136103,0.019047155976295,0.019137414172292,0.076117157936096,0.101931177079678,0.024248518049717,0.002703055972233,-0.042290836572647,0.188239768147469,-0.082412622869015,-0.071072623133659));
res += mul(Get(s3,-dx,-dy), float4x4(0.103278979659081,-0.145656257867813,0.004634528420866,0.180578947067261,0.255538970232010,0.132023140788078,-0.119592830538750,-0.081206180155277,0.076412260532379,0.118006020784378,-0.166597619652748,0.037929121404886,-0.032150059938431,-0.138766258955002,0.013634398579597,-0.396801650524139));
res += mul(Get(s3,-dx,0), float4x4(0.000344835687429,-0.095356278121471,-0.146972239017487,-0.027886910364032,-0.184699162840843,0.163126543164253,0.010572373867035,0.099852427840233,0.043921399861574,0.185046508908272,-0.181802481412888,-0.018622897565365,0.125347226858139,0.154670655727386,-0.106812447309494,0.102800078690052));
res += mul(Get(s3,-dx,dy), float4x4(-0.071440599858761,0.127866297960281,-0.003942153416574,-0.124584428966045,-0.201128587126732,-0.224619075655937,-0.100641302764416,0.002720155753195,-0.029189448803663,-0.065992787480354,-0.036521993577480,0.067655541002750,-0.193994760513306,0.028808930888772,-0.003306258004159,0.057542398571968));
res += mul(Get(s3,0,-dy), float4x4(-0.042511913925409,0.011140250600874,0.054915867745876,-0.055718712508678,-0.033442411571741,-0.100410088896751,0.071316182613373,-0.044159475713968,0.001352693187073,-0.081699371337891,-0.180590972304344,-0.167390123009682,-0.091011911630630,0.226811885833740,-0.085384547710419,0.008084487169981));
res += mul(Get(s3,0,0), float4x4(0.033197112381458,0.105064921081066,-0.047578543424606,-0.006970434915274,0.100050598382950,0.098184674978256,-0.050496108829975,0.028133302927017,-0.139763683080673,-0.015521743334830,-0.065847888588905,0.137383207678795,0.014937088824809,-0.042357120662928,-0.200758501887321,-0.201370656490326));
res += mul(Get(s3,0,dy), float4x4(-0.093346931040287,-0.021428273990750,-0.019672550261021,0.083376497030258,-0.055877696722746,0.053442526608706,-0.114088952541351,-0.133151516318321,-0.209587857127190,-0.092224955558777,0.066577509045601,-0.129747405648232,0.022162986919284,-0.073923423886299,0.067242637276649,0.085146166384220));
res += mul(Get(s3,dx,-dy), float4x4(0.043568436056376,0.104483805596828,0.037574529647827,-0.009367792867124,-0.188919767737389,0.077392108738422,0.098860248923302,-0.012511950917542,-0.116832166910172,0.164034932851791,0.067928634583950,-0.099499069154263,-0.001410372555256,-0.238404572010040,-0.073445625603199,-0.088896580040455));
res += mul(Get(s3,dx,0), float4x4(0.222005918622017,-0.171493664383888,-0.138705670833588,-0.062219098210335,0.079510226845741,-0.159527838230133,-0.097498141229153,0.113007955253124,0.027994690462947,-0.165691852569580,0.028033249080181,-0.267112195491791,0.044576812535524,0.044677902013063,-0.004226956982166,0.041758820414543));
res += mul(Get(s3,dx,dy), float4x4(-0.083054825663567,-0.088294677436352,-0.055142056196928,0.097783423960209,-0.075419776141644,0.103216104209423,0.129822880029678,0.024605121463537,-0.062534250319004,0.171099826693535,-0.255621105432510,0.115472421050072,0.275819689035416,-0.006924420595169,0.050829604268074,0.257182955741882));
return max(float4(0,0,0,0), res);
}
