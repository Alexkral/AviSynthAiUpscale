sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.082435138523579,0.030163023620844,-0.128672733902931,-0.063796199858189,-0.023901503533125,-0.120130196213722,-0.029082627967000,-0.019658429548144,-0.027316836640239,0.067059516906738,0.005454341880977,0.022375736385584,0.014962345361710,-0.038419593125582,0.038092169910669,0.087508626282215));
res += mul(Get(s0,-dx,0), float4x4(-0.002065542852506,0.202963247895241,-0.047513864934444,-0.027327021583915,-0.023297211155295,-0.096893608570099,0.041112683713436,-0.000941561884247,-0.077215231955051,0.107983820140362,0.021412640810013,0.068031318485737,-0.069905325770378,0.019717179238796,-0.052194762974977,0.080797865986824));
res += mul(Get(s0,-dx,dy), float4x4(-0.039193712174892,-0.087716303765774,0.101660981774330,0.007015117444098,0.021090392023325,-0.094884701073170,0.103966191411018,0.024507369846106,-0.037723064422607,0.070370458066463,-0.067039906978607,0.022909490391612,0.004571823403239,0.030741466209292,-0.118428029119968,-0.009573523886502));
res += mul(Get(s0,0,-dy), float4x4(0.128486782312393,-0.198419049382210,-0.116936415433884,-0.072840876877308,-0.043468944728374,-0.075276464223862,0.024373810738325,-0.036827113479376,0.014572105370462,0.107102684676647,0.088721722364426,0.069078691303730,-0.000758027716074,-0.096488110721111,0.011739996261895,-0.016552524641156));
res += mul(Get(s0,0,0), float4x4(-0.013376394286752,0.030592326074839,-0.038554865866899,0.024508774280548,-0.049620956182480,-0.070588991045952,-0.009990624152124,-0.038919746875763,0.000982044497505,0.136198356747627,0.075475029647350,0.132783666253090,-0.081518515944481,0.201465129852295,-0.065309762954712,-0.082483768463135));
res += mul(Get(s0,0,dy), float4x4(0.015005674213171,0.109654098749161,0.081173129379749,0.061581108719110,0.049058299511671,0.034646686166525,0.001290571759455,0.038237255066633,-0.008893260732293,0.006251289043576,0.020542548969388,0.040290780365467,0.008471576496959,0.174863487482071,-0.087755918502808,-0.156507149338722));
res += mul(Get(s0,dx,-dy), float4x4(0.116396382451057,-0.059713516384363,0.081936933100224,-0.113392531871796,-0.079985357820988,-0.035210747271776,0.019794022664428,-0.081112384796143,0.030548362061381,0.097585961222649,0.020686887204647,0.043410707265139,0.078241184353828,-0.096318140625954,-0.079790733754635,-0.010285991244018));
res += mul(Get(s0,dx,0), float4x4(-0.107847467064857,-0.092167153954506,0.002028834074736,0.022147830575705,-0.053903024643660,0.028889356181026,-0.032476536929607,-0.086391448974609,0.034366890788078,0.123834051191807,0.011547197587788,0.093175530433655,-0.011442421004176,-0.100341118872166,-0.070926450192928,-0.076044715940952));
res += mul(Get(s0,dx,dy), float4x4(-0.035131685435772,-0.021958764642477,-0.122285775840282,0.014718282967806,0.054671298712492,0.080596499145031,0.013259656727314,-0.003240068443120,0.007771587464958,-0.009515028446913,0.008589878678322,0.056901317089796,-0.103922583162785,-0.031320020556450,-0.058097191154957,-0.149773597717285));
res += mul(Get(s1,-dx,-dy), float4x4(0.077677041292191,-0.045328825712204,-0.026732526719570,-0.058215681463480,0.037419416010380,-0.051946770399809,-0.073883689939976,0.010488417930901,0.016821628436446,-0.068136475980282,0.078486099839211,0.030590342357755,0.002050225390121,-0.004757348448038,0.091089248657227,0.035137243568897));
res += mul(Get(s1,-dx,0), float4x4(-0.047426808625460,-0.004070114344358,0.052792653441429,-0.003289285115898,0.023320304229856,0.146944344043732,0.168154239654541,-0.014189741574228,0.011312963441014,0.009833114221692,-0.043976500630379,-0.107342079281807,0.011997496709228,0.009011830203235,0.148269042372704,0.073107361793518));
res += mul(Get(s1,-dx,dy), float4x4(-0.206140428781509,0.006787129212171,-0.004219795577228,0.039341423660517,-0.032810717821121,-0.039360284805298,0.026927892118692,-0.025333713740110,-0.172372862696648,0.027614055201411,0.088865615427494,-0.089026413857937,0.022175081074238,0.022218894213438,0.037726625800133,0.056305158883333));
res += mul(Get(s1,0,-dy), float4x4(0.079610615968704,-0.022394189611077,0.024593254551291,-0.063493393361568,-0.033970497548580,-0.107150085270405,-0.098174564540386,-0.051037285476923,0.098115317523479,0.161242678761482,0.022645100951195,0.129043862223625,0.015575346536934,0.018905002623796,0.018104106187820,0.053538173437119));
res += mul(Get(s1,0,0), float4x4(-0.004477382637560,0.056204833090305,0.025834994390607,0.047347091138363,-0.128961518406868,0.089900873601437,0.024008762091398,-0.056145031005144,0.101452864706516,-0.108638264238834,-0.132214426994324,-0.034836910665035,0.031075717881322,0.099872238934040,0.007070857100189,0.138570800423622));
res += mul(Get(s1,0,dy), float4x4(-0.173490196466446,0.061015069484711,-0.137755066156387,0.071050204336643,-0.134843155741692,0.074664764106274,-0.012337463907897,0.115479998290539,-0.154734611511230,-0.036153979599476,-0.012288756668568,0.044782008975744,0.022127781063318,0.060878198593855,-0.012306249700487,0.129258811473846));
res += mul(Get(s1,dx,-dy), float4x4(0.145600050687790,0.029380312189460,-0.001005418365821,-0.056763064116240,-0.020487295463681,-0.195069715380669,-0.014984210953116,-0.021306777372956,0.073463894426823,0.016432888805866,-0.049060601741076,0.037119220942259,0.016789106652141,0.075172968208790,-0.015998406335711,0.010525439865887));
res += mul(Get(s1,dx,0), float4x4(0.064822956919670,0.094197288155556,0.030507545918226,0.075418040156364,-0.148189410567284,-0.047120235860348,-0.008513091132045,-0.006175655405968,0.159880384802818,-0.063615217804909,0.216773331165314,-0.039558533579111,0.019316783174872,0.204289302229881,-0.030706187710166,0.045541189610958));
res += mul(Get(s1,dx,dy), float4x4(-0.096990726888180,-0.072191044688225,-0.024225458502769,0.014431991614401,-0.087480619549751,-0.077681779861450,0.107321076095104,0.018912367522717,-0.069286033511162,-0.057347457855940,0.015313604846597,0.070656396448612,0.016858560964465,0.111564017832279,-0.004872616846114,0.043630920350552));
res += mul(Get(s2,-dx,-dy), float4x4(-0.038480158895254,0.020841648802161,-0.099684722721577,0.005910254549235,-0.031038178130984,-0.021799487993121,-0.113514624536037,0.061095364391804,0.019248055294156,-0.004908017814159,0.085449889302254,-0.077106699347496,0.070933967828751,-0.107519872486591,0.045978341251612,-0.142189294099808));
res += mul(Get(s2,-dx,0), float4x4(-0.035822071135044,0.030290331691504,-0.096414647996426,-0.004301607143134,0.034532282501459,0.116095162928104,-0.134932696819305,-0.000256663130131,0.007869800552726,-0.044038411229849,0.275392204523087,-0.065613195300102,-0.110766366124153,-0.135619148612022,0.225555375218391,-0.149332910776138));
res += mul(Get(s2,-dx,dy), float4x4(-0.019120514392853,0.080347545444965,-0.088586889207363,0.004655676428229,0.036291707307100,0.002817428903654,-0.071235328912735,0.042435485869646,-0.031891379505396,-0.016414729878306,0.048667859286070,-0.014660423621535,-0.249835029244423,-0.093103833496571,0.086545303463936,-0.072449602186680));
res += mul(Get(s2,0,-dy), float4x4(0.025419468060136,-0.028241315856576,0.069063857197762,0.000296972313663,-0.044988896697760,-0.041687976568937,-0.047356497496367,0.000657590397168,0.057824335992336,-0.034955006092787,0.044535025954247,-0.001177885569632,0.118934638798237,-0.082617044448853,-0.136160090565681,0.024381669238210));
res += mul(Get(s2,0,0), float4x4(-0.007518138270825,-0.003938371781260,0.056506935507059,0.022085482254624,0.047735694795847,-0.082496084272861,-0.079984001815319,-0.036768231540918,-0.070676155388355,-0.028812073171139,0.145213276147842,0.086677484214306,0.050599455833435,0.115439988672733,-0.119891762733459,0.139457464218140));
res += mul(Get(s2,0,dy), float4x4(-0.045245267450809,0.034608010202646,0.027198020368814,-0.018696643412113,-0.011962571181357,-0.047905392944813,-0.058985482901335,0.006946609821171,-0.112699583172798,-0.028647111728787,0.015351003035903,0.100127622485161,-0.029601950198412,0.077064156532288,-0.068986058235168,0.095292776823044));
res += mul(Get(s2,dx,-dy), float4x4(0.038450341671705,0.059430081397295,-0.029054580256343,0.049901742488146,-0.081466540694237,-0.123975507915020,0.003466566326097,-0.019452735781670,0.054996248334646,0.003978943917900,0.063928142189980,0.008764704689384,0.132021993398666,-0.110100239515305,-0.000342623650795,0.065688304603100));
res += mul(Get(s2,dx,0), float4x4(0.025919353589416,0.087015047669411,0.015451538376510,0.122087948024273,0.013534867204726,-0.101374492049217,0.110555961728096,0.016544170677662,0.074296712875366,0.157684668898582,0.028098344802856,0.121921524405479,0.009760481305420,-0.035906597971916,-0.134824782609940,0.083546511828899));
res += mul(Get(s2,dx,dy), float4x4(0.024144351482391,-0.014791509136558,0.003494015894830,0.076819121837616,-0.022078225389123,-0.085138529539108,0.022594977170229,0.060339245945215,0.093139618635178,0.033201929181814,0.092144556343555,0.064173959195614,-0.071526966989040,0.015002042055130,0.040215615183115,0.060632340610027));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011412977240980,0.042347058653831,0.073434077203274,0.000785362324677,0.020576981827617,0.020454578101635,-0.037121061235666,-0.022876819595695,-0.025977740064263,-0.018207151442766,0.071840956807137,-0.103929072618484,0.030818197876215,0.035796988755465,0.102793581783772,0.003924584947526));
res += mul(Get(s3,-dx,0), float4x4(-0.013524467125535,-0.066015712916851,0.252981036901474,0.038767330348492,0.096608117222786,-0.060140557587147,0.105327598750591,0.078104972839355,0.004495815839618,0.067191384732723,-0.041462197899818,0.083112522959709,-0.020772166550159,-0.141532331705093,0.031940054148436,-0.009431067854166));
res += mul(Get(s3,-dx,dy), float4x4(0.050908643752337,0.011284692212939,-0.150976777076721,0.060136660933495,0.099028594791889,-0.036104433238506,-0.096559651196003,0.082479193806648,0.106765881180763,-0.038436464965343,-0.004190794657916,-0.000610531133134,-0.031696509569883,-0.008285450749099,-0.078249610960484,0.001015081536025));
res += mul(Get(s3,0,-dy), float4x4(0.009975916706026,0.017956087365746,-0.081076353788376,0.011181556619704,0.049505449831486,0.047966912388802,-0.054390944540501,0.116296239197254,-0.029316700994968,0.124563254415989,-0.026729706674814,-0.025747837498784,0.051906540989876,0.122290171682835,0.010352140292525,-0.064119823276997));
res += mul(Get(s3,0,0), float4x4(0.008332759141922,0.123580940067768,-0.032992016524076,0.165476292371750,0.206642478704453,0.099215716123581,0.105777598917484,-0.012823863886297,0.001201059552841,0.292894691228867,-0.042551599442959,-0.072867475450039,-0.035179760307074,-0.099986255168915,0.241162642836571,-0.164476618170738));
res += mul(Get(s3,0,dy), float4x4(-0.014137465506792,-0.077969394624233,-0.105846956372261,0.016384769231081,-0.127867981791496,-0.176298946142197,-0.013175735250115,-0.118019662797451,0.089516691863537,0.125423401594162,-0.062470261007547,-0.109514482319355,-0.153984367847443,-0.072508461773396,-0.062583625316620,-0.081857822835445));
res += mul(Get(s3,dx,-dy), float4x4(-0.054155077785254,-0.001980725442991,0.071178376674652,0.013798935338855,0.039536397904158,-0.123729906976223,0.056521590799093,-0.018493404611945,-0.099571801722050,-0.019050320610404,-0.037876613438129,0.034028537571430,0.171315535902977,0.043337129056454,-0.006153720896691,-0.037650089710951));
res += mul(Get(s3,dx,0), float4x4(0.081331819295883,0.301882803440094,-0.061527077108622,0.131925046443939,-0.006738927680999,0.073571957647800,-0.047336038202047,-0.134900882840157,-0.143863901495934,-0.180788367986679,-0.085653834044933,-0.064415320754051,0.055378809571266,-0.063244350254536,0.058544728904963,0.132240355014801));
res += mul(Get(s3,dx,dy), float4x4(-0.005997717380524,-0.138335421681404,-0.011270695365965,-0.062007218599319,-0.160286903381348,-0.074071787297726,-0.048588495701551,-0.179925277829170,-0.073530159890652,-0.151610374450684,-0.098057270050049,-0.059783164411783,-0.024103401228786,-0.158999532461166,0.001840051612817,0.174370929598808));
return max(float4(0,0,0,0), res);
}
