sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.001053675892763,0.083657480776310,-0.032394912093878,0.015220128931105) * Get(-dx,-dy);
res += float4(-0.201826333999634,0.229974538087845,0.114428982138634,-0.074944898486137) * Get(-dx,0);
res += float4(-0.204548671841621,0.045932251960039,0.068797998130322,0.006439426448196) * Get(-dx,dy);
res += float4(0.165477499365807,-0.193081438541412,-0.032533239573240,-0.088401347398758) * Get(0,-dy);
res += float4(0.148696288466454,-0.129336431622505,0.188277363777161,0.286561995744705) * Get(0,0);
res += float4(0.027195027098060,-0.135900333523750,-0.112193278968334,-0.030518312007189) * Get(0,dy);
res += float4(-0.160326659679413,0.142393827438354,-0.004514120984823,-0.077033787965775) * Get(dx,-dy);
res += float4(0.039613828063011,-0.014504453167319,-0.063227921724319,0.244442477822304) * Get(dx,0);
res += float4(-0.133126020431519,0.091359525918961,0.010788912884891,-0.126762464642525) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
