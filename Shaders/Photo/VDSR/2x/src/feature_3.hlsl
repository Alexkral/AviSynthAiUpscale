sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.112522520124912,-0.003599266987294,-0.505965411663055,-0.342406153678894) * Get(-dx,-dy);
res += float4(0.053596932440996,-0.001018388429657,0.099773094058037,-0.383740067481995) * Get(-dx,0);
res += float4(-0.093414820730686,-0.001953545259312,0.287564069032669,-0.126101359724998) * Get(-dx,dy);
res += float4(0.101750314235687,-0.001158089609817,-0.477057844400406,-0.097347654402256) * Get(0,-dy);
res += float4(0.015750056132674,-0.000496578635648,0.059567775577307,-0.031083792448044) * Get(0,0);
res += float4(-0.114053070545197,0.004772920627147,0.262978166341782,-0.117891550064087) * Get(0,dy);
res += float4(-0.060518175363541,0.001011743443087,-0.187687784433365,0.308351218700409) * Get(dx,-dy);
res += float4(-0.091658063232899,-0.001174378325231,0.054994095116854,0.523064374923706) * Get(dx,0);
res += float4(-0.084320574998856,-0.006939742714167,0.023585217073560,0.239538669586182) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
