sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.043552026152611,0.162149533629417,-0.028530869632959,0.118324570357800,0.000430715095717,0.037269234657288,0.009105337783694,0.052512980997562,-0.012924051843584,-0.094788216054440,0.019815728068352,0.076877772808075,-0.066318750381470,0.016604397445917,-0.090246543288231,0.026057446375489));
res += mul(Get(s0,-dx,0), float4x4(0.126444652676582,0.023892883211374,-0.016811717301607,-0.056557074189186,0.047459889203310,-0.022471804171801,0.020630508661270,-0.063852846622467,-0.001446070848033,-0.142393052577972,0.150436714291573,0.107037499547005,0.095781691372395,-0.009403315372765,0.043333474546671,0.048019587993622));
res += mul(Get(s0,-dx,dy), float4x4(-0.063719607889652,-0.065248057246208,0.016774062067270,0.085751540958881,-0.007564980536699,-0.009158452041447,0.005403099581599,-0.144000545144081,-0.039748333394527,0.018758064135909,0.113435111939907,0.253791630268097,-0.049397844821215,-0.069923333823681,-0.026349589228630,0.110354945063591));
res += mul(Get(s0,0,-dy), float4x4(-0.077516689896584,0.027331905439496,0.086916334927082,-0.071335218846798,-0.035475783050060,0.007702729199082,-0.036299005150795,-0.013459185138345,-0.109803840517998,-0.095867462456226,-0.047222372144461,-0.002244289265946,-0.132209181785583,-0.023128643631935,0.052032478153706,0.027579322457314));
res += mul(Get(s0,0,0), float4x4(0.136339381337166,-0.044671114534140,0.024595519527793,-0.150879129767418,0.074733734130859,-0.055254481732845,-0.017744429409504,-0.125912904739380,-0.089436560869217,-0.099781505763531,0.027590278536081,-0.034690380096436,-0.001476797391661,0.021690476685762,-0.087786190211773,0.061280518770218));
res += mul(Get(s0,0,dy), float4x4(-0.025729130953550,-0.174174964427948,-0.008406375534832,-0.149067357182503,-0.011764041148126,-0.049734994769096,-0.079009257256985,-0.176935181021690,0.051843568682671,-0.020684774965048,0.010533832013607,-0.046900685876608,0.194327384233475,-0.051507841795683,-0.016169151291251,0.050861105322838));
res += mul(Get(s0,dx,-dy), float4x4(-0.043145321309566,0.135942026972771,0.009922047145665,0.034731384366751,0.018110113218427,-0.090490490198135,-0.001088882214390,-0.064441233873367,-0.052126999944448,-0.087783701717854,0.038629807531834,0.016674138605595,-0.057627908885479,0.021769300103188,0.052581138908863,-0.007371131330729));
res += mul(Get(s0,dx,0), float4x4(0.133323103189468,-0.014110740274191,0.071313187479973,-0.046144075691700,0.039369270205498,0.034795146435499,0.050632037222385,-0.084465108811855,-0.022932277992368,-0.081641271710396,-0.077616900205612,-0.070876225829124,0.031652089208364,0.009611158631742,0.044718731194735,-0.025464277714491));
res += mul(Get(s0,dx,dy), float4x4(-0.038328565657139,-0.006506147328764,0.025666879490018,0.097407244145870,-0.060531020164490,-0.043871250003576,-0.029995160177350,-0.215712547302246,-0.025869794189930,0.000840966124088,-0.115045987069607,-0.067846015095711,-0.053274553269148,-0.028136156499386,0.016249462962151,-0.111843191087246));
res += mul(Get(s1,-dx,-dy), float4x4(0.005326762795448,-0.001492814044468,-0.001003384357318,-0.022423757240176,-0.072587206959724,-0.036809485405684,0.099304787814617,0.086092211306095,0.064730472862720,0.016932792961597,0.007890983484685,0.096986651420593,-0.046194303780794,0.005832423921674,0.099867790937424,-0.107307583093643));
res += mul(Get(s1,-dx,0), float4x4(0.149201259016991,-0.010197089985013,-0.073119044303894,-0.105923257768154,-0.097428984940052,-0.119937174022198,0.021759558469057,-0.079200834035873,0.050265535712242,-0.030431795865297,0.075712263584137,0.083459764719009,-0.016275890171528,0.063344061374664,0.203104451298714,0.060253411531448));
res += mul(Get(s1,-dx,dy), float4x4(0.025234203785658,-0.018246255815029,-0.085368834435940,-0.095019310712814,-0.095905072987080,-0.033878151327372,0.048177227377892,-0.183273881673813,0.028673795983195,-0.055462963879108,0.097241640090942,-0.018750790506601,0.008786185644567,0.118192456662655,0.046816676855087,-0.054675046354532));
res += mul(Get(s1,0,-dy), float4x4(-0.133305147290230,0.073067694902420,0.004641227424145,0.101202614605427,0.027690205723047,-0.045416381210089,-0.032077010720968,0.022163309156895,-0.171388566493988,0.036321546882391,0.086904138326645,0.032619573175907,-0.093655280768871,-0.051075980067253,-0.033946149051189,-0.085106059908867));
res += mul(Get(s1,0,0), float4x4(-0.053054116666317,-0.029073011130095,0.022944346070290,-0.123069204390049,0.012235023081303,0.008161490783095,0.045480627566576,-0.089052639901638,0.107469409704208,-0.036657273769379,-0.025182843208313,-0.076843574643135,-0.002273047575727,-0.027667567133904,-0.067088097333908,0.197136014699936));
res += mul(Get(s1,0,dy), float4x4(-0.175962075591087,0.095528833568096,-0.058745432645082,-0.046239789575338,-0.056961290538311,-0.004868266172707,0.028210977092385,-0.071375615894794,0.117654927074909,-0.155632004141808,-0.025038706138730,-0.167394325137138,-0.067368499934673,-0.043459348380566,0.016820380464196,-0.035458393394947));
res += mul(Get(s1,dx,-dy), float4x4(-0.123536989092827,0.104517281055450,0.014238611795008,-0.013814699836075,-0.125003248453140,0.041163083165884,0.005522557068616,-0.094765961170197,-0.013676590286195,0.065534189343452,0.076454743742943,0.144333004951477,0.020419651642442,-0.069869071245193,0.012242760509253,-0.090794824063778));
res += mul(Get(s1,dx,0), float4x4(-0.145698517560959,-0.037086497992277,0.050718691200018,-0.085687816143036,-0.058767080307007,0.051315307617188,0.019027046859264,-0.122420676052570,0.064308151602745,0.054789558053017,0.009553870186210,-0.042005650699139,-0.042400896549225,0.089038670063019,0.020549612119794,0.141604423522949));
res += mul(Get(s1,dx,dy), float4x4(0.024133702740073,-0.051505152136087,0.046949252486229,-0.050594504922628,-0.012879712507129,0.003991652280092,-0.047805462032557,-0.113541714847088,0.129359304904938,0.057362508028746,-0.017194779589772,0.004438167437911,-0.007293816190213,0.035654116421938,-0.096598610281944,-0.137938946485519));
res += mul(Get(s2,-dx,-dy), float4x4(0.010541375726461,-0.008030146360397,-0.108653321862221,0.155808389186859,0.042426701635122,0.086277201771736,0.044576823711395,0.036079451441765,0.068851448595524,0.002664572326466,-0.007452883291990,0.060184862464666,-0.068809874355793,0.050674177706242,0.026636993512511,-0.031421918421984));
res += mul(Get(s2,-dx,0), float4x4(-0.062643364071846,0.063660889863968,0.035310883074999,-0.075804166495800,0.054763462394476,0.046440403908491,0.015367878600955,0.067076481878757,-0.056653883308172,0.041609290987253,-0.006049417890608,-0.093401625752449,0.050887268036604,-0.048476375639439,-0.054562494158745,0.071575291454792));
res += mul(Get(s2,-dx,dy), float4x4(-0.037722576409578,-0.069276377558708,-0.189700812101364,0.047264028340578,-0.043295357376337,-0.029850112274289,-0.000780328467954,0.003997996449471,0.047093261033297,-0.063854895532131,0.098892249166965,-0.134317934513092,-0.019438756629825,0.106751397252083,-0.018286015838385,-0.047979772090912));
res += mul(Get(s2,0,-dy), float4x4(0.115694023668766,0.019903624430299,0.002805535681546,0.052224017679691,-0.024351717904210,0.031560320407152,-0.047593135386705,0.022691840305924,0.055362660437822,-0.078651122748852,-0.020614719018340,-0.104965507984161,0.012208369560540,0.089371465146542,0.017677070572972,0.200974807143211));
res += mul(Get(s2,0,0), float4x4(0.019810387864709,0.037958692759275,0.003462616587058,-0.015986276790500,-0.050582803785801,0.037517834454775,0.034824322909117,0.179975524544716,0.110045298933983,-0.092747718095779,-0.109667241573334,-0.001446594134904,0.156783550977707,0.152369290590286,0.072156630456448,0.100201532244682));
res += mul(Get(s2,0,dy), float4x4(0.009881253354251,-0.049075111746788,-0.051651887595654,-0.052564553916454,-0.070240706205368,-0.056230690330267,0.076739989221096,0.043390687555075,0.045942153781652,-0.101478651165962,0.073073506355286,0.001697910600342,0.005297313909978,-0.072125710546970,-0.090221270918846,-0.044507112354040));
res += mul(Get(s2,dx,-dy), float4x4(0.112337134778500,0.017311073839664,-0.042395938187838,-0.006032953038812,-0.107125118374825,0.017395457252860,0.164334848523140,0.028144227340817,-0.094755373895168,-0.048855599015951,-0.019568435847759,0.081764280796051,0.008788213133812,0.052645407617092,0.004136339295655,0.038268297910690));
res += mul(Get(s2,dx,0), float4x4(-0.000834490230773,0.091495163738728,-0.004447516985238,-0.046718593686819,-0.040937546640635,0.042428430169821,0.279651314020157,0.027046401053667,-0.000754767621402,-0.022808704525232,-0.019687494263053,0.072755880653858,0.046302337199450,-0.070986308157444,-0.048145160079002,-0.166126891970634));
res += mul(Get(s2,dx,dy), float4x4(0.037469409406185,0.039070952683687,-0.059316799044609,0.064078085124493,-0.063595958054066,0.073079124093056,0.029712796211243,-0.102376952767372,0.077554382383823,-0.010398683138192,0.114704042673111,-0.065984599292278,-0.016227895393968,-0.045577019453049,-0.026507331058383,-0.210673898458481));
res += mul(Get(s3,-dx,-dy), float4x4(0.074670910835266,-0.005785535555333,-0.093108154833317,0.010096343234181,0.051883082836866,0.049248412251472,-0.054843775928020,0.148954749107361,-0.083540335297585,-0.019560923799872,-0.028841763734818,0.104829445481300,-0.134680941700935,-0.047871299088001,-0.059134550392628,-0.004016011022031));
res += mul(Get(s3,-dx,0), float4x4(0.056440331041813,0.105103485286236,0.018611144274473,0.061992686241865,0.001530054374598,-0.049986373633146,-0.044577561318874,0.095886155962944,-0.069039590656757,0.002918206853792,-0.038308642804623,-0.018910875543952,-0.020468253642321,0.035685762763023,0.062713861465454,0.018843125551939));
res += mul(Get(s3,-dx,dy), float4x4(0.182710647583008,-0.153551027178764,-0.025628173723817,0.012976824305952,0.016033612191677,-0.005693109240383,0.056099008768797,0.116114765405655,0.053118988871574,-0.047920890152454,0.012930547818542,-0.139836788177490,-0.057708293199539,-0.060527764260769,0.019460769370198,0.017896566540003));
res += mul(Get(s3,0,-dy), float4x4(0.151618555188179,0.002145701553673,0.053018145263195,0.027462830767035,0.013466934673488,0.066656425595284,0.040408451110125,0.080634914338589,0.241293281316757,-0.014097793959081,-0.076431699097157,0.027779888361692,0.158397048711777,0.007670368999243,-0.026039920747280,-0.098288767039776));
res += mul(Get(s3,0,0), float4x4(0.052455749362707,-0.062511265277863,-0.017853070050478,0.038783948868513,-0.106563903391361,-0.023123633116484,-0.018216861411929,-0.064004890620708,0.139927044510841,-0.083556219935417,0.108638525009155,-0.197319477796555,0.059702828526497,0.135249450802803,0.238114878535271,-0.211951270699501));
res += mul(Get(s3,0,dy), float4x4(0.046689432114363,-0.146509394049644,0.033713098615408,0.057597182691097,0.065865658223629,-0.088456712663174,-0.038256172090769,0.093120306730270,0.033799532800913,0.101999431848526,0.031837545335293,-0.106054745614529,0.008090437389910,-0.055868051946163,-0.034160185605288,-0.205976799130440));
res += mul(Get(s3,dx,-dy), float4x4(0.007525511551648,0.003541450481862,-0.063939683139324,-0.022643428295851,0.123268090188503,-0.035929840058088,-0.080978780984879,0.025196751579642,0.042355086654425,-0.022370671853423,-0.029710190370679,-0.011118319816887,-0.086087711155415,-0.027566568925977,0.067145742475986,0.162786290049553));
res += mul(Get(s3,dx,0), float4x4(0.020335920155048,-0.014042451977730,0.010856903158128,-0.026106338948011,0.002351523144171,0.350515186786652,0.024772936478257,-0.080161407589912,-0.074147604405880,-0.062425680458546,0.006464757025242,-0.069485716521740,-0.154469981789589,0.096614994108677,0.004877037834376,0.019042216241360));
res += mul(Get(s3,dx,dy), float4x4(0.086972102522850,-0.042596813291311,-0.026132028549910,-0.014921892434359,0.040325131267309,0.110221974551678,0.004387785680592,0.079557918012142,0.075878039002419,0.025787256658077,-0.021531505510211,0.069880366325378,-0.029747724533081,0.176169514656067,-0.005911064799875,0.046481426805258));
return max(float4(0,0,0,0), res);
}
