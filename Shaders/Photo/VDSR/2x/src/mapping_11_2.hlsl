sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.030081091448665,0.220046177506447,0.028080184012651,0.136519327759743,-0.063112884759903,-0.097316965460777,-0.139886945486069,0.203090652823448,0.060763318091631,-0.145031258463860,-0.065994851291180,-0.187760144472122,0.076089851558208,0.053618825972080,-0.026919271796942,-0.077920243144035));
res += mul(Get(s0,-dx,0), float4x4(0.004381999373436,0.284449040889740,-0.042247619479895,-0.119118005037308,0.022335726767778,-0.114291012287140,0.097376085817814,-0.016219444572926,0.014976149424911,0.028285149484873,0.023132150992751,-0.252734839916229,0.165988758206367,0.056407801806927,-0.225570902228355,0.050932265818119));
res += mul(Get(s0,-dx,dy), float4x4(-0.026992062106729,0.150132000446320,-0.018680477514863,0.238239973783493,-0.066761299967766,-0.054217875003815,-0.229893937706947,0.138331070542336,0.139289051294327,0.159069284796715,0.031253617256880,-0.029296655207872,0.025582479313016,0.189798712730408,-0.066365003585815,0.104883797466755));
res += mul(Get(s0,0,-dy), float4x4(0.002235357882455,-0.104850679636002,-0.040877733379602,0.103101186454296,0.164565920829773,0.098404511809349,0.072421163320541,0.105261534452438,0.053807985037565,0.071862332522869,0.065228730440140,0.155892118811607,0.096964597702026,0.005505640991032,-0.089605182409286,0.079045079648495));
res += mul(Get(s0,0,0), float4x4(-0.104729831218719,0.012552251107991,0.009754820726812,0.042072668671608,-0.073414228856564,-0.146897599101067,-0.014874991960824,-0.131245970726013,-0.067222870886326,0.041509486734867,0.046449944376945,-0.100351668894291,-0.080535486340523,-0.063277006149292,0.020154809579253,0.114806495606899));
res += mul(Get(s0,0,dy), float4x4(-0.018921995535493,-0.059743557125330,0.255517899990082,-0.017068773508072,-0.023202177137136,0.009264928288758,0.092595010995865,0.169176459312439,-0.105681844055653,0.074286282062531,-0.182893127202988,0.165322005748749,-0.047135006636381,-0.025809349492192,-0.156305894255638,-0.045359395444393));
res += mul(Get(s0,dx,-dy), float4x4(-0.043607261031866,0.153631135821342,0.120498478412628,-0.062739588320255,-0.065811388194561,0.142988055944443,0.099851943552494,-0.055223405361176,-0.095842406153679,-0.121995858848095,-0.248829200863838,-0.033442478626966,-0.000201561852009,0.063145749270916,0.027588048949838,0.049702797085047));
res += mul(Get(s0,dx,0), float4x4(0.221690222620964,-0.022709639742970,0.074111312627792,0.095524892210960,-0.202866539359093,-0.081289157271385,-0.178868085145950,-0.166806727647781,0.045612860471010,-0.020897712558508,-0.144699007272720,-0.158215492963791,-0.130993157625198,0.136055856943130,-0.206894904375076,0.087162725627422));
res += mul(Get(s0,dx,dy), float4x4(-0.089673146605492,0.139740735292435,-0.106527186930180,-0.108158171176910,-0.060675937682390,-0.009631248190999,-0.140312761068344,-0.009133186191320,-0.101032547652721,-0.043646927922964,-0.073388464748859,0.018772827461362,-0.136091619729996,0.076056770980358,0.030427962541580,-0.066251374781132));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023269193246961,0.003192061791196,-0.135608822107315,-0.171365067362785,-0.047188185155392,0.073252618312836,-0.051437295973301,-0.078181043267250,-0.030910938978195,0.152046993374825,-0.035271681845188,0.074877969920635,0.067788489162922,0.067951500415802,-0.045198462903500,0.273027598857880));
res += mul(Get(s1,-dx,0), float4x4(-0.055915214121342,-0.067441530525684,0.106811188161373,-0.086887471377850,-0.201496168971062,0.106576800346375,0.095137797296047,-0.015910649672151,-0.119563609361649,0.092860445380211,0.150694876909256,0.155100524425507,0.054801091551781,-0.070876576006413,-0.037180870771408,-0.060082148760557));
res += mul(Get(s1,-dx,dy), float4x4(0.033522821962833,-0.010601238347590,-0.075434111058712,-0.013443063013256,0.100226156413555,0.035696998238564,-0.133346274495125,-0.144240945577621,-0.035889834165573,0.039316978305578,0.044830311089754,-0.120449788868427,-0.070361316204071,-0.089548178017139,0.087900876998901,0.094889268279076));
res += mul(Get(s1,0,-dy), float4x4(0.115197099745274,0.239432752132416,0.011725318618119,-0.143030688166618,-0.125043287873268,0.083384998142719,0.049413472414017,-0.016567723825574,-0.051047846674919,0.035998910665512,0.033700805157423,-0.215001553297043,0.037518240511417,0.016506543383002,-0.004195054527372,0.155248239636421));
res += mul(Get(s1,0,0), float4x4(-0.058458864688873,0.034582011401653,0.026177067309618,-0.136603221297264,0.194326147437096,0.102280989289284,0.180888667702675,-0.066005289554596,0.074201740324497,-0.008549253456295,-0.037512496113777,0.006603327579796,0.065799750387669,0.183601826429367,0.151993334293365,0.077901817858219));
res += mul(Get(s1,0,dy), float4x4(0.014341644011438,0.083537630736828,0.000602961343247,0.048345372080803,-0.127888023853302,0.126937046647072,-0.004133234266192,0.009268445894122,-0.036678753793240,0.019603237509727,0.044050246477127,0.128594517707825,0.040777198970318,0.131530195474625,0.021388560533524,-0.039427779614925));
res += mul(Get(s1,dx,-dy), float4x4(0.003606113372371,-0.302713006734848,0.109205819666386,-0.174966529011726,0.213984370231628,-0.045910976827145,0.003537410637364,-0.031974323093891,-0.068928562104702,0.058019276708364,-0.059424158185720,-0.091896310448647,0.014635690487921,0.006674196105450,0.134937807917595,-0.032893262803555));
res += mul(Get(s1,dx,0), float4x4(-0.194554924964905,-0.104787364602089,-0.070397213101387,0.023176921531558,0.004695366602391,-0.128989443182945,-0.075121246278286,0.002114959526807,0.121874265372753,-0.019922433421016,0.056585285812616,0.110060222446918,-0.149011716246605,-0.103943370282650,-0.183573588728905,-0.046999718993902));
res += mul(Get(s1,dx,dy), float4x4(0.028954755514860,-0.137563899159431,-0.073416382074356,-0.004247930832207,0.010709837079048,-0.068019650876522,-0.093937180936337,-0.024933958426118,0.017841560766101,0.111915633082390,-0.101324230432510,0.105535008013248,-0.031913243234158,-0.086468040943146,-0.009450184181333,-0.089812017977238));
res += mul(Get(s2,-dx,-dy), float4x4(-0.047661934047937,-0.234253570437431,0.120943248271942,-0.011934355832636,-0.115214847028255,0.067634060978889,0.017231153324246,-0.012881477363408,-0.108687669038773,-0.003175246529281,0.033300064504147,0.010166654363275,-0.004871038720012,-0.028487473726273,0.107191175222397,-0.052750945091248));
res += mul(Get(s2,-dx,0), float4x4(-0.007991575635970,0.004111683461815,-0.066491588950157,0.049652405083179,0.008948782458901,-0.167856156826019,0.028348080813885,0.003219449892640,0.005702437367290,0.083880558609962,-0.029480112716556,0.072271607816219,0.006615037098527,-0.068300180137157,-0.111742392182350,0.057019606232643));
res += mul(Get(s2,-dx,dy), float4x4(-0.070359237492085,0.125261485576630,-0.032884344458580,0.092601589858532,0.064293079078197,-0.022739306092262,0.070124566555023,-0.203789308667183,0.071316458284855,0.118651226162910,0.254624545574188,0.033952001482248,-0.022722816094756,0.061885740607977,-0.210784927010536,-0.152916193008423));
res += mul(Get(s2,0,-dy), float4x4(-0.070133708417416,0.014058979228139,0.051144037395716,0.093503803014755,0.150022625923157,-0.065815739333630,0.028307169675827,-0.001709753181785,-0.133792579174042,-0.108168765902519,-0.089078657329082,-0.062637709081173,-0.100673541426659,0.111105054616928,0.040401808917522,0.137043476104736));
res += mul(Get(s2,0,0), float4x4(-0.060481458902359,-0.072546124458313,-0.017201133072376,0.089557230472565,0.022475922480226,-0.020004227757454,0.092707745730877,-0.083305753767490,-0.004300345666707,-0.058538027107716,0.072812959551811,-0.024846794083714,0.307365834712982,-0.081633351743221,-0.039111047983170,0.017150202766061));
res += mul(Get(s2,0,dy), float4x4(-0.025592902675271,-0.133239641785622,-0.054483469575644,-0.203209325671196,-0.009482469409704,-0.017845347523689,0.169918477535248,0.071987614035606,-0.056499838829041,0.000973817950580,-0.133720293641090,0.124222397804260,0.192989379167557,-0.071261323988438,0.031943000853062,0.022594053298235));
res += mul(Get(s2,dx,-dy), float4x4(-0.147719293832779,-0.075236469507217,-0.118369527161121,-0.045585520565510,-0.054906651377678,-0.023421356454492,0.022014753893018,-0.088519297540188,-0.021446140483022,-0.058784436434507,0.185436993837357,0.037939462810755,0.156726136803627,-0.098086446523666,-0.027482325211167,0.080644056200981));
res += mul(Get(s2,dx,0), float4x4(-0.062620349228382,0.095656566321850,0.048903763294220,0.045711945742369,0.055238708853722,-0.012486386112869,0.049797285348177,0.049064747989178,-0.110041417181492,-0.099997863173485,0.024618180468678,-0.045040339231491,0.083876118063927,-0.010393817909062,0.093969970941544,0.024105604737997));
res += mul(Get(s2,dx,dy), float4x4(0.069353573024273,0.042067002505064,-0.070164032280445,-0.099249616265297,0.043354395776987,-0.076216541230679,-0.101134233176708,0.035250030457973,-0.027227705344558,-0.061075791716576,-0.209304109215736,0.078528784215450,-0.054234426468611,0.087268926203251,0.039290145039558,-0.087275147438049));
res += mul(Get(s3,-dx,-dy), float4x4(-0.042731683701277,0.016488699242473,0.064909592270851,-0.134055614471436,0.029674015939236,-0.103702664375305,-0.069673657417297,0.143929854035378,0.048844318836927,0.108373083174229,0.029362455010414,-0.038172271102667,0.173606798052788,-0.006420682184398,0.131333872675896,0.073986373841763));
res += mul(Get(s3,-dx,0), float4x4(0.252191573381424,0.076528668403625,0.039130311459303,0.082678221166134,-0.013367806561291,0.052527409046888,-0.136121526360512,-0.045963723212481,0.007817782461643,0.269828498363495,-0.074599139392376,-0.143885284662247,0.163650497794151,-0.043998681008816,-0.040466696023941,0.351219177246094));
res += mul(Get(s3,-dx,dy), float4x4(-0.034347523003817,0.099555574357510,-0.080830067396164,-0.006016410887241,-0.162326887249947,0.123510181903839,-0.301550060510635,-0.082863390445709,0.064875110983849,0.105375632643700,-0.066709227859974,0.137525141239166,0.035120576620102,0.244409233331680,0.006341478787363,0.028171334415674));
res += mul(Get(s3,0,-dy), float4x4(0.224238008260727,0.023913241922855,-0.046258140355349,-0.010702927596867,-0.159929141402245,0.068283870816231,-0.131497189402580,-0.121422044932842,0.023610077798367,-0.092922762036324,-0.301783919334412,0.012507079169154,-0.148461729288101,-0.020941298455000,-0.045179080218077,-0.150052741169930));
res += mul(Get(s3,0,0), float4x4(-0.012648147530854,-0.023164371028543,0.106640689074993,0.060584370046854,-0.097175322473049,0.084504790604115,0.014928402379155,0.151253730058670,0.032737091183662,0.005414498969913,0.192522183060646,-0.089164301753044,-0.129129990935326,-0.058103382587433,-0.057076089084148,-0.105810783803463));
res += mul(Get(s3,0,dy), float4x4(0.062363993376493,0.016457777470350,-0.002985110972077,0.057652875781059,0.055555552244186,0.129977822303772,0.051850821822882,0.151828855276108,0.142351508140564,0.040824204683304,0.040286604315042,-0.036287192255259,-0.186134085059166,0.054177649319172,0.011360178701580,0.000575643964112));
res += mul(Get(s3,dx,-dy), float4x4(-0.021907327696681,-0.025544995442033,-0.083486594259739,0.135077238082886,-0.130280345678329,-0.063634127378464,-0.179303646087646,-0.056056983768940,-0.117839902639389,0.075285196304321,-0.044147942215204,-0.068158261477947,-0.201100707054138,0.019445715472102,0.194934993982315,-0.008393758907914));
res += mul(Get(s3,dx,0), float4x4(-0.039092089980841,-0.002981836907566,0.123269945383072,0.034717481583357,-0.013633552007377,-0.208725214004517,0.002193308202550,0.095155559480190,-0.019269706681371,0.057698648422956,-0.016374550759792,-0.087621308863163,-0.238647475838661,0.114353254437447,0.090087547898293,-0.167275175452232));
res += mul(Get(s3,dx,dy), float4x4(-0.002875135513023,0.053067084401846,0.131881788372993,-0.161228984594345,-0.028883125633001,-0.043722353875637,0.039285134524107,0.234841763973236,-0.196865260601044,-0.020014448091388,0.052675947546959,0.145627111196518,-0.267437815666199,0.081719808280468,-0.019927402958274,-0.232043281197548));
return max(float4(0,0,0,0), res);
}
