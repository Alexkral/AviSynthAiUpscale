sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.088476307690144,-0.057617221027613,-0.183384805917740,-0.061703212559223,0.036426190286875,0.064343109726906,0.042950578033924,-0.035621594637632,-0.012065054848790,0.134054869413376,-0.076808817684650,-0.207331582903862,0.067928336560726,-0.171451613306999,0.122765444219112,-0.042507845908403));
res += mul(Get(s0,-dx,0), float4x4(-0.172693654894829,0.025787089020014,0.081993691623211,-0.040198389440775,0.066200211644173,0.115470036864281,0.035024829208851,-0.048532601445913,-0.374184161424637,-0.076127104461193,0.233287051320076,0.245925381779671,0.184608608484268,0.057809751480818,-0.109533868730068,-0.169781342148781));
res += mul(Get(s0,-dx,dy), float4x4(0.020473690703511,-0.154522538185120,-0.103645645081997,0.093145348131657,-0.076555505394936,-0.007254885509610,-0.018812859430909,0.070957772433758,0.055269185453653,0.147272527217865,0.150936201214790,0.175280719995499,0.051845181733370,0.029812002554536,-0.078461192548275,0.035929612815380));
res += mul(Get(s0,0,-dy), float4x4(-0.032856464385986,0.044613245874643,-0.018927421420813,0.272615104913712,0.016695216298103,-0.087759114801884,-0.005536372307688,-0.134318426251411,0.111586779356003,-0.107254877686501,0.169742986559868,-0.341718375682831,0.043869838118553,0.051279995590448,-0.174347743391991,-0.079971820116043));
res += mul(Get(s0,0,0), float4x4(-0.032439116388559,0.119839869439602,0.001638573827222,0.153353512287140,0.191633179783821,0.074295915663242,-0.138616681098938,0.089999571442604,0.151865676045418,0.076450601220131,0.158242419362068,0.060536909848452,-0.145026549696922,0.180421382188797,0.017601719126105,-0.261351883411407));
res += mul(Get(s0,0,dy), float4x4(0.145455911755562,0.029146639630198,-0.083336800336838,0.148515984416008,0.123856700956821,0.184166342020035,-0.127487659454346,0.150613889098167,0.105116441845894,-0.190585136413574,-0.126408219337463,-0.012701299972832,0.129925176501274,-0.035184498876333,0.156093984842300,-0.004085761029273));
res += mul(Get(s0,dx,-dy), float4x4(-0.073190815746784,0.028941763564944,0.001542166341096,0.106619141995907,-0.045265618711710,-0.069070011377335,-0.068235956132412,-0.120842181146145,0.028120312839746,0.082364678382874,0.062477607280016,-0.087805360555649,-0.054135266691446,0.053577609360218,0.285565108060837,-0.134649753570557));
res += mul(Get(s0,dx,0), float4x4(-0.019005479291081,0.028221821412444,-0.041789967566729,-0.018983768299222,-0.078609034419060,-0.006263201124966,0.002004936803132,0.029559625312686,0.070384122431278,-0.044693272560835,-0.098041191697121,-0.080543957650661,-0.002517623361200,0.152062669396400,0.108915984630585,-0.048254620283842));
res += mul(Get(s0,dx,dy), float4x4(-0.075995124876499,-0.016497146338224,-0.241120070219040,0.090108141303062,-0.169572785496712,0.188075989484787,-0.090453431010246,-0.098793856799603,-0.002386542037129,-0.134668305516243,-0.031378503888845,0.065464884042740,-0.066777087748051,-0.102004885673523,-0.035904996097088,-0.021373581141233));
res += mul(Get(s1,-dx,-dy), float4x4(0.163302034139633,0.052158504724503,-0.017823673784733,-0.145768672227859,0.111817814409733,0.082791902124882,0.130527630448341,0.026378098875284,0.087547607719898,-0.156975045800209,0.096565499901772,0.066624484956264,-0.183318927884102,-0.041629943996668,0.168594941496849,-0.100862801074982));
res += mul(Get(s1,-dx,0), float4x4(0.129156827926636,-0.040407344698906,-0.009340376593173,0.086585447192192,0.149612188339233,0.152264535427094,0.119236439466476,0.086283892393112,-0.240946233272552,-0.020658250898123,0.072471112012863,0.082477450370789,-0.020302973687649,0.214228332042694,-0.000264918460744,-0.054970528930426));
res += mul(Get(s1,-dx,dy), float4x4(0.038357019424438,-0.044110644608736,-0.128899887204170,-0.008017743937671,-0.023942599073052,0.000720086100046,-0.073692426085472,0.186513587832451,0.010985031723976,0.041644990444183,-0.158431217074394,0.120865367352962,0.181607976555824,0.149314835667610,0.181337118148804,0.054595809429884));
res += mul(Get(s1,0,-dy), float4x4(0.076911501586437,0.076156266033649,0.092024572193623,-0.132144346833229,-0.180931985378265,0.153127461671829,-0.032457694411278,0.080691203474998,0.103803522884846,-0.212046876549721,-0.033168178051710,0.001666350872256,0.086278900504112,0.042609315365553,0.129807546734810,-0.148824647068977));
res += mul(Get(s1,0,0), float4x4(0.039945337921381,0.020190872251987,0.216737225651741,-0.092758193612099,0.107623204588890,-0.169190734624863,-0.027538791298866,-0.134563744068146,0.000611782423221,0.078968919813633,-0.022633034735918,-0.174026876688004,0.042365904897451,0.038566768169403,0.203116834163666,0.026533804833889));
res += mul(Get(s1,0,dy), float4x4(-0.181146293878555,0.009083371609449,0.012026932090521,-0.038567338138819,-0.071972854435444,-0.103650204837322,0.146533459424973,-0.030969195067883,0.027206106111407,-0.048642363399267,0.087445542216301,0.158999443054199,0.027283607050776,-0.079138480126858,0.081471234560013,0.082432404160500));
res += mul(Get(s1,dx,-dy), float4x4(0.022545639425516,-0.138123318552971,0.122838899493217,0.190906137228012,-0.071479521691799,0.104508906602859,0.017590150237083,-0.019934678450227,-0.065149165689945,-0.051669269800186,0.010989953763783,0.033681858330965,0.039519596844912,0.159962058067322,-0.011354163289070,0.051404535770416));
res += mul(Get(s1,dx,0), float4x4(0.029936429113150,0.037295587360859,0.043339204043150,-0.018941843882203,-0.069067046046257,0.000687562220264,0.104376219213009,0.041043318808079,-0.006309607531875,-0.060263533145189,0.028948483988643,-0.018422178924084,-0.127984806895256,0.026471527293324,-0.020688442513347,0.106633000075817));
res += mul(Get(s1,dx,dy), float4x4(0.052767027169466,0.034158039838076,0.018041832372546,0.002084730658680,0.042908072471619,-0.129745468497276,-0.049205232411623,0.001812672475353,-0.048992965370417,-0.105557106435299,-0.061182815581560,0.015583472326398,-0.042053762823343,-0.031297802925110,0.116612367331982,-0.036700941622257));
res += mul(Get(s2,-dx,-dy), float4x4(0.019996149465442,-0.075463540852070,0.051035802811384,0.201611429452896,0.067570194602013,0.044168043881655,-0.004896140191704,-0.084714323282242,0.122361928224564,-0.075698859989643,-0.036624975502491,-0.044644996523857,-0.129410296678543,0.016850212588906,0.030124885961413,-0.061580732464790));
res += mul(Get(s2,-dx,0), float4x4(-0.044993530958891,-0.049153577536345,0.113101363182068,-0.050117980688810,-0.092726200819016,0.089596472680569,-0.138574764132500,0.104080744087696,-0.111680001020432,-0.222801029682159,0.040298841893673,0.074493251740932,-0.063033334910870,0.062062349170446,-0.061874140053988,-0.003821129910648));
res += mul(Get(s2,-dx,dy), float4x4(0.141218453645706,-0.123978212475777,0.118553750216961,0.094458349049091,0.018437663093209,-0.184551864862442,0.073770046234131,-0.136773720383644,-0.214158490300179,0.095316566526890,-0.120521508157253,-0.033245429396629,0.010487277060747,-0.007036522030830,-0.004274700302631,-0.129303067922592));
res += mul(Get(s2,0,-dy), float4x4(-0.041080769151449,-0.047042071819305,-0.040190353989601,0.020919585600495,-0.081017218530178,0.114266186952591,0.069406531751156,-0.136509522795677,-0.042167566716671,0.111843951046467,0.012780569493771,-0.083518125116825,-0.021732481196523,-0.187456905841827,-0.134634882211685,-0.115074940025806));
res += mul(Get(s2,0,0), float4x4(0.004632496740669,-0.223594576120377,-0.035867396742105,0.144908323884010,0.011694535613060,0.036269936710596,0.123067907989025,0.108008667826653,0.178085371851921,0.113984324038029,-0.058862160891294,0.013076091185212,0.130603983998299,0.069258712232113,-0.074339695274830,0.185073807835579));
res += mul(Get(s2,0,dy), float4x4(0.131919726729393,-0.110309682786465,-0.044058099389076,0.040968380868435,-0.189374461770058,0.151473432779312,0.142159998416901,0.087176233530045,-0.166097506880760,0.060948781669140,0.059838488698006,-0.040373895317316,0.110772274434566,0.261863648891449,0.034056860953569,0.118751890957355));
res += mul(Get(s2,dx,-dy), float4x4(0.017375145107508,-0.120663926005363,0.020392818376422,0.084432430565357,0.138085544109344,0.130084782838821,-0.069291077554226,0.147979915142059,0.242622599005699,0.045430228114128,-0.067658416926861,-0.037608493119478,-0.010826911777258,0.016604812815785,0.113594055175781,-0.029543559998274));
res += mul(Get(s2,dx,0), float4x4(-0.046362288296223,0.114412955939770,0.093684487044811,0.009733621962368,0.063661955296993,-0.106985695660114,0.013751001097262,-0.028029952198267,-0.133427485823631,-0.012517726048827,0.027621924877167,0.123424522578716,0.129885017871857,0.125618636608124,0.131238639354706,-0.051788534969091));
res += mul(Get(s2,dx,dy), float4x4(-0.214165955781937,0.050097268074751,0.030283473432064,-0.063221544027328,-0.051988154649734,-0.155051484704018,0.252772837877274,-0.057505745440722,-0.053889740258455,0.087217733263969,0.091146931052208,0.205373331904411,-0.020528111606836,0.019199766218662,0.173446446657181,-0.018208822235465));
res += mul(Get(s3,-dx,-dy), float4x4(0.109668657183647,0.118354260921478,0.040347006171942,-0.090747863054276,-0.132990285754204,-0.103120714426041,-0.055614579468966,0.002269998192787,-0.135414123535156,-0.158137395977974,-0.120577417314053,-0.068240515887737,0.059138476848602,-0.088630609214306,-0.033012464642525,0.103369116783142));
res += mul(Get(s3,-dx,0), float4x4(0.012291044928133,-0.220012545585632,0.078529410064220,0.039093431085348,-0.097052574157715,-0.097903490066528,-0.090840160846710,-0.121040992438793,-0.242155209183693,-0.256625324487686,-0.081982761621475,-0.011872630566359,-0.019720911979675,0.080619819462299,-0.150712311267853,-0.118753641843796));
res += mul(Get(s3,-dx,dy), float4x4(-0.057856142520905,0.019697213545442,0.120075382292271,0.006156476680189,0.047264266759157,-0.087377615272999,-0.029639007523656,-0.035683542490005,0.119311109185219,-0.135652050375938,-0.133353114128113,0.018957937136292,-0.127066820859909,-0.028448464348912,0.103727355599403,0.111534506082535));
res += mul(Get(s3,0,-dy), float4x4(-0.120737969875336,0.082720287144184,0.175562039017677,-0.115203343331814,-0.018019005656242,0.121695794165134,0.017069049179554,0.121203407645226,-0.085850648581982,-0.100910663604736,-0.000088594475528,-0.144758552312851,-0.170105636119843,-0.034547813236713,0.205452889204025,0.024712277576327));
res += mul(Get(s3,0,0), float4x4(-0.111790604889393,0.037508744746447,0.004427828360349,0.009773756377399,-0.203093752264977,0.015395272523165,0.000202620300115,0.097334280610085,-0.150275498628616,-0.104236632585526,0.040160048753023,-0.031985212117434,0.008357812650502,0.087128475308418,0.335614055395126,0.101649552583694));
res += mul(Get(s3,0,dy), float4x4(-0.068849921226501,-0.057078242301941,0.040363144129515,0.210280805826187,-0.158871456980705,-0.035561613738537,-0.021726921200752,-0.048776928335428,0.029845906421542,0.025720467790961,-0.039278488606215,0.195816621184349,0.136962860822678,0.136376723647118,-0.052838679403067,0.237518042325974));
res += mul(Get(s3,dx,-dy), float4x4(-0.049241829663515,0.004770130850375,0.135631501674652,-0.125602155923843,-0.080077320337296,0.155149593949318,-0.007451249752194,0.039618503302336,0.019115582108498,-0.178061485290527,0.014703215099871,-0.028123620897532,0.077297046780586,-0.030263986438513,-0.249658986926079,-0.031047135591507));
res += mul(Get(s3,dx,0), float4x4(0.033110983669758,-0.028630452230573,0.026722323149443,-0.133057698607445,0.208316624164581,-0.234131395816803,0.047756370157003,0.154330104589462,0.183347314596176,0.074028439819813,0.075903952121735,0.154902964830399,0.000351037480868,-0.173028662800789,0.089520782232285,-0.034102741628885));
res += mul(Get(s3,dx,dy), float4x4(0.073903918266296,-0.072562888264656,0.090365588665009,0.107213109731674,-0.186914339661598,0.028821500018239,0.125564247369766,0.049132827669382,0.053309842944145,-0.010608411394060,0.183625996112823,0.003297590417787,0.013034043833613,-0.035782147198915,0.019298315048218,-0.028222877532244));
return max(float4(0,0,0,0), res);
}
