sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.191410943865776,0.000954182003625,-0.104082278907299,-0.099716350436211,0.008904705755413,-0.002325238892809,0.028007594868541,-0.034964244812727,0.035157393664122,0.034788839519024,0.076225206255913,-0.066916272044182,-0.013494268991053,-0.013102120719850,-0.087285235524178,-0.105342030525208));
res += mul(Get(s0,-dx,0), float4x4(0.107651136815548,-0.047311108559370,-0.066806748509407,-0.027232775464654,-0.066365294158459,0.108612306416035,0.062450900673866,0.003563855076209,0.035209074616432,0.004444396588951,-0.007794897537678,-0.053975880146027,0.097130097448826,0.021376198157668,-0.097671627998352,0.059325948357582));
res += mul(Get(s0,-dx,dy), float4x4(-0.086511626839638,0.163699060678482,0.095929712057114,-0.031025649979711,-0.028160417452455,-0.019095392897725,0.052516929805279,0.062863908708096,-0.123554006218910,0.101900614798069,0.047816738486290,-0.013579845428467,-0.039596706628799,-0.011122528463602,0.007513838354498,0.134059295058250));
res += mul(Get(s0,0,-dy), float4x4(-0.038860052824020,-0.074105478823185,0.052430193871260,-0.065119192004204,0.118956945836544,-0.043995164334774,0.052222408354282,0.075608223676682,-0.006875929888338,0.044594392180443,-0.049804970622063,-0.183514952659607,0.030663598328829,0.006126541178674,-0.060333095490932,-0.176862463355064));
res += mul(Get(s0,0,0), float4x4(-0.051674019545317,0.119154267013073,-0.147395581007004,-0.111252814531326,0.070253632962704,-0.013382744044065,0.069597586989403,0.026484416797757,0.072805352509022,-0.069294266402721,0.023903032764792,-0.142829209566116,0.116704873740673,-0.052051328122616,-0.053804460912943,-0.181904315948486));
res += mul(Get(s0,0,dy), float4x4(-0.062196910381317,0.075434595346451,-0.037753421813250,0.010006193071604,-0.015154503285885,0.001250647706911,-0.005275201518089,-0.011556859128177,0.040623027831316,0.013691923581064,-0.052585285156965,-0.135775998234749,-0.185173869132996,0.106701709330082,-0.108630090951920,-0.177291378378868));
res += mul(Get(s0,dx,-dy), float4x4(-0.079107590019703,-0.157072052359581,0.041188854724169,-0.148233100771904,-0.077093616127968,-0.039843164384365,0.067755527794361,0.161772310733795,0.018967999145389,-0.071651279926300,-0.121226735413074,-0.117189168930054,-0.023547871038318,-0.168731465935707,0.000029533885026,-0.054184421896935));
res += mul(Get(s0,dx,0), float4x4(0.030486807227135,-0.139057859778404,0.139077872037888,0.023092757910490,0.018569169566035,-0.037750273942947,0.022404473274946,0.019533740356565,0.019514380022883,0.052577368915081,-0.066985823214054,-0.100986450910568,0.096572175621986,-0.071728743612766,0.052420880645514,-0.061991021037102));
res += mul(Get(s0,dx,dy), float4x4(-0.007519847247750,-0.101699300110340,-0.002838837448508,-0.048884440213442,-0.055986031889915,-0.090860404074192,0.094658367335796,0.013607036322355,0.019928984344006,-0.071704395115376,0.000497553788591,-0.081294283270836,0.029161622747779,-0.084677688777447,-0.056343983858824,-0.123078271746635));
res += mul(Get(s1,-dx,-dy), float4x4(0.059830568730831,0.044696528464556,-0.017965694889426,-0.026088589802384,0.056274916976690,0.047980010509491,-0.010218460112810,-0.017697015777230,-0.116890378296375,-0.130199164152145,-0.028410803526640,-0.069062739610672,0.121009290218353,0.018299929797649,-0.017906397581100,0.022129882127047));
res += mul(Get(s1,-dx,0), float4x4(-0.053198043256998,0.047304295003414,0.004011365119368,-0.072452127933502,0.046229336410761,0.042737793177366,0.082832574844360,0.121657155454159,0.143394336104393,-0.062514930963516,0.047322209924459,0.089567266404629,0.067229047417641,-0.042963959276676,0.034619245678186,-0.062335900962353));
res += mul(Get(s1,-dx,dy), float4x4(-0.022330604493618,0.028442401438951,-0.067942559719086,-0.065991610288620,-0.040145240724087,0.020926943048835,0.007806036155671,0.135490000247955,-0.020905645564198,-0.096557803452015,-0.039872948080301,0.038476582616568,-0.058985482901335,0.045278266072273,-0.018019214272499,-0.037705752998590));
res += mul(Get(s1,0,-dy), float4x4(0.056981552392244,0.009608142077923,0.062757521867752,-0.035527490079403,0.168994620442390,0.094660721719265,0.059019811451435,-0.221390098333359,-0.052831381559372,0.041858654469252,-0.009234355762601,-0.041413653641939,0.012546814046800,-0.061074055731297,-0.007768819108605,0.030332086607814));
res += mul(Get(s1,0,0), float4x4(0.008066734299064,0.078074365854263,-0.050176244229078,-0.032684646546841,0.099931791424751,-0.022592723369598,-0.098043322563171,0.232690736651421,0.024040348827839,-0.051757317036390,0.126464873552322,0.118120171129704,-0.042675036936998,-0.088583417236805,0.235520198941231,0.054336931556463));
res += mul(Get(s1,0,dy), float4x4(0.176826000213623,-0.061783552169800,-0.024765815585852,-0.011006115935743,0.072346352040768,0.020289581269026,-0.013910280540586,0.123891867697239,0.173067644238472,0.054659955203533,-0.090728811919689,0.054017838090658,0.064164809882641,-0.202266335487366,-0.066231243312359,-0.011738566681743));
res += mul(Get(s1,dx,-dy), float4x4(0.139532566070557,-0.051415611058474,-0.041698340326548,-0.190428182482719,0.011142816394567,-0.006439310964197,-0.084468632936478,-0.055338025093079,-0.057622715830803,-0.097883358597755,0.001397240557708,-0.023511335253716,0.060843281447887,-0.081869408488274,0.072542116045952,0.026717660948634));
res += mul(Get(s1,dx,0), float4x4(-0.073724508285522,0.014034837484360,-0.057466790080070,0.061044260859489,0.008159692399204,-0.005544058978558,-0.009495062753558,-0.053019843995571,0.011678324081004,0.124913834035397,-0.016549760475755,-0.088321030139923,-0.058459367603064,-0.171242967247963,0.039886768907309,0.111133083701134));
res += mul(Get(s1,dx,dy), float4x4(0.034517057240009,-0.073586270213127,-0.015032159164548,0.073747992515564,0.051837939769030,0.048610117286444,0.104759924113750,0.063753746449947,0.057733695954084,0.103836923837662,-0.022540071979165,-0.066832296550274,-0.005544717889279,-0.067410573363304,-0.024699067696929,0.073548920452595));
res += mul(Get(s2,-dx,-dy), float4x4(0.026644801720977,0.076685100793839,0.031286124140024,0.076869495213032,-0.069575056433678,-0.005586382001638,0.042073156684637,-0.110654257237911,0.056757736951113,-0.064258418977261,-0.014279717579484,-0.014081938192248,0.071454435586929,0.044261686503887,0.037607606500387,0.127932608127594));
res += mul(Get(s2,-dx,0), float4x4(-0.070950672030449,0.072546795010567,0.050197981297970,0.150178104639053,0.046118147671223,-0.061817590147257,0.033864058554173,0.047196760773659,-0.000911108218133,-0.044287033379078,0.032406434416771,-0.015946190804243,0.053940176963806,-0.065188266336918,-0.033230300992727,-0.011157633736730));
res += mul(Get(s2,-dx,dy), float4x4(-0.138120606541634,0.032786943018436,0.052139662206173,0.041896071285009,0.055754497647285,-0.088564775884151,0.037866283208132,0.035993326455355,-0.001160000683740,0.111944794654846,0.068595044314861,-0.078619256615639,0.073181025683880,-0.117799989879131,-0.005295305978507,0.029339596629143));
res += mul(Get(s2,0,-dy), float4x4(-0.034922990947962,0.062430802732706,-0.051898039877415,-0.130315110087395,-0.066495597362518,0.008757323026657,0.091219313442707,-0.128560945391655,0.027367198839784,0.163295045495033,0.094708189368248,0.032453555613756,0.106745064258575,-0.078827671706676,0.070582270622253,0.103979863226414));
res += mul(Get(s2,0,0), float4x4(-0.025405902415514,0.008216741494834,-0.019283983856440,0.153811529278755,-0.103648766875267,-0.032222613692284,0.149472624063492,0.009852273389697,-0.095704220235348,0.029312983155251,0.089849025011063,-0.061824239790440,0.047160215675831,0.071132384240627,-0.045690998435020,-0.211606383323669));
res += mul(Get(s2,0,dy), float4x4(-0.042657412588596,-0.014912799932063,-0.035491231828928,0.162985131144524,-0.110970534384251,0.121886663138866,-0.057510714977980,-0.058651998639107,-0.127456113696098,-0.002068342873827,-0.016178620979190,-0.163248255848885,0.143252342939377,0.084111310541630,0.012474746443331,0.002082212595269));
res += mul(Get(s2,dx,-dy), float4x4(0.037507370114326,0.014406077563763,-0.141757145524025,-0.059324659407139,-0.143439173698425,0.089122086763382,0.113320462405682,-0.139272928237915,0.048645492643118,-0.011170275509357,-0.025866489857435,0.028070874512196,0.030116857960820,0.012601855210960,0.120859228074551,0.209997937083244));
res += mul(Get(s2,dx,0), float4x4(0.005508792120963,-0.071575455367565,-0.014618325978518,0.000638047058601,-0.084401950240135,0.037134747952223,0.128275454044342,-0.072026349604130,-0.017755694687366,0.202684640884399,-0.144797980785370,0.089358486235142,-0.134551227092743,-0.025983856990933,0.064277075231075,0.172372758388519));
res += mul(Get(s2,dx,dy), float4x4(0.045907754451036,-0.110814563930035,-0.009055935777724,-0.003721974790096,-0.044712632894516,0.013023480772972,-0.013352544978261,-0.073061294853687,-0.004650106653571,0.166510984301567,-0.008739824406803,0.020157610997558,-0.056920271366835,-0.030610114336014,-0.029078518971801,0.031095771118999));
res += mul(Get(s3,-dx,-dy), float4x4(-0.028964145109057,-0.000125998994918,-0.036980260163546,0.008102329447865,0.001275970600545,-0.214857488870621,0.017901510000229,0.261979430913925,-0.017185904085636,-0.032850839197636,-0.029029317200184,-0.193522498011589,-0.085390768945217,-0.012391812168062,-0.089602231979370,-0.113937050104141));
res += mul(Get(s3,-dx,0), float4x4(-0.032067399471998,0.044417843222618,-0.008058190345764,0.168954566121101,-0.080563612282276,-0.106767602264881,0.106698237359524,-0.070611335337162,0.024131203070283,0.045376840978861,0.059082232415676,-0.134429588913918,-0.119049191474915,-0.018253618851304,-0.013715327717364,-0.027919653803110));
res += mul(Get(s3,-dx,dy), float4x4(-0.010365609079599,0.104044564068317,-0.017115578055382,-0.128846138715744,-0.007064618635923,0.014943757094443,-0.044617593288422,-0.181443154811859,-0.097496084868908,-0.054914861917496,-0.009164562448859,-0.167544633150101,-0.111744195222855,-0.029048962518573,0.046121541410685,-0.102703556418419));
res += mul(Get(s3,0,-dy), float4x4(-0.017933519557118,-0.071584939956665,0.010734485462308,0.064461685717106,-0.025028293952346,-0.065732643008232,-0.022439040243626,-0.120209090411663,0.056602295488119,0.025921663269401,-0.056913323700428,-0.095134772360325,-0.042995005846024,-0.017350330948830,-0.020949905738235,-0.107511445879936));
res += mul(Get(s3,0,0), float4x4(0.089481204748154,0.076774731278419,-0.017500232905149,0.254125386476517,-0.108271084725857,-0.029362712055445,0.098899774253368,-0.016293328255415,0.153791278600693,-0.098181135952473,0.017235064879060,-0.168223187327385,0.051177918910980,-0.016069309785962,0.092380590736866,-0.144389435648918));
res += mul(Get(s3,0,dy), float4x4(-0.222408622503281,0.150474667549133,0.000755381013732,-0.059195648878813,-0.098765917122364,0.133534193038940,-0.025816684588790,-0.067777022719383,0.120416350662708,0.018019394949079,-0.023510474711657,-0.087304838001728,0.032012391835451,-0.018675617873669,0.022294383496046,-0.031977891921997));
res += mul(Get(s3,dx,-dy), float4x4(-0.015030360780656,0.045530822128057,-0.030062343925238,0.005227219313383,0.040446057915688,-0.009883361868560,0.090156175196171,-0.058433793485165,-0.063890166580677,-0.017586115747690,0.030013078823686,0.002149449428543,-0.115388885140419,0.063505224883556,-0.009476362727582,0.038742884993553));
res += mul(Get(s3,dx,0), float4x4(0.019520174711943,-0.012756500393152,-0.034983150660992,0.086062185466290,-0.046286351978779,-0.073503948748112,0.088136546313763,-0.075199089944363,0.079169511795044,0.341985195875168,-0.087403215467930,-0.002402628073469,-0.028927868232131,-0.009955250658095,-0.007312537170947,0.212347850203514));
res += mul(Get(s3,dx,dy), float4x4(0.094719886779785,-0.007024912163615,-0.032551724463701,-0.004647802561522,0.021533615887165,0.045015331357718,-0.053011126816273,-0.124032855033875,-0.070676296949387,0.051695387810469,-0.055567361414433,0.064041711390018,0.118409000337124,0.031857721507549,-0.067540571093559,0.065673090517521));
return max(float4(0,0,0,0), res);
}
