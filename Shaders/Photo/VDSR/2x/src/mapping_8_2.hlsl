sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.084904260933399,-0.044357944279909,0.035365376621485,-0.110544554889202,-0.068174168467522,-0.031669814139605,-0.054056543856859,-0.008000838570297,-0.059626903384924,-0.021472267806530,0.005311586894095,0.091629326343536,-0.084942780435085,-0.199085295200348,0.043401483446360,-0.125690951943398));
res += mul(Get(s0,-dx,0), float4x4(0.191307500004768,-0.065575696527958,-0.026726715266705,0.130926489830017,-0.118959076702595,-0.044860798865557,-0.045395661145449,-0.022839270532131,-0.020669730380177,0.098716959357262,-0.017444591969252,-0.062698721885681,0.032198280096054,-0.066523708403111,0.103546008467674,-0.053370848298073));
res += mul(Get(s0,-dx,dy), float4x4(0.107020273804665,0.161010518670082,-0.067265048623085,-0.148817151784897,-0.087348341941833,0.009975458495319,-0.017858140170574,-0.029113028198481,-0.094202585518360,0.027108713984489,-0.155247896909714,0.058646716177464,-0.111078090965748,-0.005133361089975,-0.060989733785391,-0.287806510925293));
res += mul(Get(s0,0,-dy), float4x4(0.059015933424234,-0.027521613985300,-0.064143881201744,-0.073985219001770,0.137436479330063,-0.037505324929953,0.000154644207214,-0.024777432903647,0.153694465756416,-0.083013340830803,-0.047880776226521,-0.039223290979862,0.030418263748288,0.271995663642883,0.118428751826286,0.155081897974014));
res += mul(Get(s0,0,0), float4x4(-0.222124487161636,0.120130069553852,0.012056075036526,-0.122447051107883,0.042029377073050,-0.014510655775666,0.014047485776246,-0.152298301458359,-0.083404563367367,-0.091556966304779,-0.095936365425587,-0.063840657472610,-0.056818239390850,-0.020651141181588,0.049315515905619,-0.002067034598440));
res += mul(Get(s0,0,dy), float4x4(-0.075158499181271,0.040799606591463,-0.091777153313160,-0.159733846783638,-0.005265728104860,-0.078124694526196,-0.091383717954159,0.092258282005787,0.222919702529907,0.002184974495322,0.060728240758181,0.207045450806618,0.080999016761780,0.109246604144573,-0.139770001173019,-0.183753818273544));
res += mul(Get(s0,dx,-dy), float4x4(-0.050286777317524,0.077556565403938,-0.079107508063316,0.096435472369194,0.039770066738129,0.193582385778427,-0.066986508667469,0.051495369523764,-0.167771190404892,0.125526055693626,-0.054370954632759,0.117140270769596,-0.057682074606419,0.020743586122990,-0.027974307537079,0.142486318945885));
res += mul(Get(s0,dx,0), float4x4(0.157897800207138,0.162681862711906,0.275012731552124,-0.038136467337608,0.077964209020138,-0.074418261647224,-0.115132682025433,0.005942713003606,0.017217542976141,0.055138107389212,0.091580353677273,-0.028775630518794,-0.189690008759499,-0.084530912339687,-0.088536970317364,0.138401895761490));
res += mul(Get(s0,dx,dy), float4x4(0.039188768714666,-0.038053464144468,-0.125774919986725,0.026051238179207,-0.016010362654924,-0.138793602585793,-0.091883920133114,0.050674326717854,0.069830998778343,-0.067303031682968,-0.089442215859890,0.021295132115483,-0.089582778513432,0.051706958562136,0.057025346904993,0.076200775802135));
res += mul(Get(s1,-dx,-dy), float4x4(0.116397410631180,0.085013456642628,-0.033694487065077,-0.154796481132507,-0.055288519710302,-0.094477571547031,-0.168267711997032,-0.018606394529343,0.068247318267822,0.049033965915442,-0.092016056180000,-0.171919912099838,-0.038782723248005,-0.127266302704811,0.006027994677424,-0.040257286280394));
res += mul(Get(s1,-dx,0), float4x4(0.071889534592628,-0.171431228518486,-0.018826652318239,-0.116924934089184,0.032891228795052,-0.052139908075333,-0.059463504701853,-0.105040080845356,-0.008350996300578,-0.015868540853262,0.032626476138830,-0.081920236349106,0.011486266739666,0.106559664011002,-0.064766556024551,-0.039466172456741));
res += mul(Get(s1,-dx,dy), float4x4(0.038194634020329,0.091755278408527,0.030052451416850,-0.151595830917358,-0.147880136966705,0.153879582881927,0.027964508160949,0.046929754316807,0.035032950341702,0.046552378684282,0.005101571325213,-0.205646529793739,0.026856761425734,-0.000592300144490,-0.022878656163812,-0.045779880136251));
res += mul(Get(s1,0,-dy), float4x4(0.081534862518311,0.205646380782127,0.026866950094700,0.039421197026968,0.098411612212658,0.077723458409309,-0.130445420742035,-0.159564882516861,-0.039142426103354,0.088556230068207,0.124379664659500,-0.043570388108492,-0.126351743936539,-0.123843595385551,0.074700489640236,0.015629813075066));
res += mul(Get(s1,0,0), float4x4(-0.110384464263916,0.132502511143684,-0.028923405334353,-0.036898460239172,-0.104579851031303,-0.010445711202919,0.210350468754768,-0.090307578444481,-0.114619724452496,-0.174393087625504,-0.062380943447351,-0.007086260709912,-0.059219662100077,0.102055922150612,-0.051161631941795,0.095078572630882));
res += mul(Get(s1,0,dy), float4x4(0.007448108401150,0.232804298400879,-0.051864270120859,0.044715795665979,0.015249638818204,0.018368415534496,-0.007772722281516,-0.000892484851647,-0.010692928917706,-0.130219534039497,0.077450022101402,-0.021047921851277,-0.096893943846226,-0.017332250252366,0.035608455538750,0.104548685252666));
res += mul(Get(s1,dx,-dy), float4x4(0.003228186862543,-0.146865472197533,-0.031518094241619,0.116640605032444,0.009484616108239,-0.010199452750385,-0.166274935007095,0.026164973154664,0.121159672737122,-0.014032084494829,-0.073350757360458,-0.049873966723680,0.072264134883881,-0.137471929192543,-0.108100853860378,0.028670160099864));
res += mul(Get(s1,dx,0), float4x4(-0.040871936827898,-0.102635771036148,0.204786002635956,-0.038367398083210,0.018029104918242,-0.040442265570164,-0.093965463340282,-0.105317130684853,-0.031421817839146,-0.231273308396339,-0.116390794515610,0.015419759787619,0.098509959876537,-0.028553012758493,-0.033844124525785,-0.201422676444054));
res += mul(Get(s1,dx,dy), float4x4(-0.088385947048664,-0.014153347350657,0.086179599165916,-0.033204719424248,0.025775479152799,-0.039494607597589,-0.032515428960323,-0.035406649112701,0.032846610993147,-0.044301986694336,-0.017850864678621,0.012116104364395,-0.206172212958336,-0.004263698123395,0.002655483083799,0.014253000728786));
res += mul(Get(s2,-dx,-dy), float4x4(-0.094890572130680,-0.037073757499456,-0.025807198137045,0.023833848536015,0.034216880798340,0.057823862880468,-0.147541791200638,0.131134629249573,-0.061629556119442,-0.064324267208576,0.017373040318489,0.035731829702854,0.015856157988310,0.020182188600302,-0.061159349977970,-0.002365726046264));
res += mul(Get(s2,-dx,0), float4x4(-0.038279246538877,-0.019705183804035,-0.102668687701225,0.078259885311127,0.110317006707191,0.058170087635517,-0.042042989283800,-0.020033506676555,-0.146762281656265,-0.160331264138222,0.100756511092186,-0.010266476310790,0.044830195605755,0.028379753232002,0.008969941176474,-0.101664938032627));
res += mul(Get(s2,-dx,dy), float4x4(0.056744355708361,0.060470849275589,0.032410979270935,-0.030725324526429,0.254845589399338,0.117917597293854,-0.099725127220154,0.044686157256365,-0.043863147497177,0.017669115215540,-0.100460395216942,-0.063647031784058,-0.036072209477425,0.107799492776394,0.127827376127243,-0.093468748033047));
res += mul(Get(s2,0,-dy), float4x4(-0.025045784190297,-0.202455222606659,0.069435283541679,-0.030410004779696,-0.039666455239058,-0.035559237003326,0.148092180490494,-0.065230906009674,-0.029243757948279,-0.067688599228859,-0.030018860474229,0.006661618128419,-0.129495486617088,-0.030896635726094,-0.086591117084026,0.034262835979462));
res += mul(Get(s2,0,0), float4x4(0.018870577216148,0.001481410581619,-0.019389323890209,-0.119596198201180,0.032049439847469,-0.108602985739708,-0.031725119799376,0.131667926907539,0.025660011917353,-0.008384176529944,0.129429310560226,-0.200457930564880,0.026068722829223,0.011070703156292,0.065834783017635,0.121153779327869));
res += mul(Get(s2,0,dy), float4x4(-0.109759874641895,-0.166015684604645,0.031064795330167,-0.182012036442757,-0.029550282284617,0.135755956172943,0.048375736922026,0.084289148449898,0.041942816227674,-0.056157346814871,-0.056256286799908,-0.012706297449768,-0.067943915724754,-0.025067107751966,0.017123891040683,-0.152962312102318));
res += mul(Get(s2,dx,-dy), float4x4(-0.016586789861321,-0.168405562639236,0.094712212681770,0.026520812883973,-0.029907157644629,0.103920139372349,-0.141671150922775,-0.015687830746174,-0.189786314964294,0.030494574457407,0.111185416579247,-0.042936049401760,0.142938598990440,0.124941684305668,0.068299777805805,-0.120412051677704));
res += mul(Get(s2,dx,0), float4x4(-0.052928108721972,-0.018776573240757,-0.177053585648537,0.192263260483742,0.032442811876535,-0.248236477375031,-0.144891843199730,-0.245266050100327,-0.066619105637074,-0.154107943177223,-0.038622520864010,-0.055834826081991,-0.265698641538620,-0.043584115803242,0.072029516100883,0.094197817146778));
res += mul(Get(s2,dx,dy), float4x4(-0.134891495108604,-0.015914749354124,0.141485631465912,-0.048329193145037,-0.183546051383018,0.149873122572899,-0.092197880148888,0.144038021564484,-0.104213342070580,-0.029618185013533,-0.149175807833672,0.059973645955324,0.032796613872051,-0.002296249847859,-0.102647170424461,0.207902848720551));
res += mul(Get(s3,-dx,-dy), float4x4(0.088363334536552,-0.200880259275436,0.101454004645348,0.188136637210846,0.060604695230722,-0.017439063638449,-0.164996877312660,-0.058293763548136,0.113587453961372,-0.174736782908440,-0.073605105280876,-0.095390714704990,-0.056658849120140,-0.074308179318905,-0.302783817052841,0.013553672470152));
res += mul(Get(s3,-dx,0), float4x4(-0.024684814736247,0.053415052592754,0.092422567307949,-0.118885055184364,-0.149303480982780,-0.046588081866503,0.090305037796497,0.037824988365173,-0.062346126884222,-0.047098781913519,0.059754401445389,0.058127637952566,0.019662590697408,0.006107786670327,0.002645805710927,-0.119961038231850));
res += mul(Get(s3,-dx,dy), float4x4(0.035055376589298,-0.086592242121696,0.112826935946941,-0.054993882775307,0.053445242345333,-0.186627730727196,0.121341310441494,0.086495675146580,0.135774463415146,-0.106219045817852,0.244206175208092,-0.028627002611756,0.140049427747726,-0.001926568802446,0.095479629933834,0.058244109153748));
res += mul(Get(s3,0,-dy), float4x4(0.042000520974398,-0.124455355107784,-0.176566258072853,-0.140343636274338,0.020189886912704,-0.016711626201868,-0.118969224393368,0.160079926252365,-0.086372688412666,-0.125137001276016,0.249874725937843,-0.117379881441593,0.063132919371128,0.205391436815262,0.016700578853488,-0.034509874880314));
res += mul(Get(s3,0,0), float4x4(-0.017950190231204,0.163402140140533,0.152541771531105,0.025495853275061,-0.142323106527328,0.022937575355172,-0.007141432724893,0.105650596320629,0.039053298532963,0.069811150431633,-0.088081061840057,0.029029065743089,0.082072213292122,-0.028302241116762,-0.065048769116402,-0.008348743431270));
res += mul(Get(s3,0,dy), float4x4(0.015851417556405,-0.002448461251333,0.135401740670204,-0.035140749067068,-0.156944200396538,0.079880990087986,0.115751661360264,-0.010789007879794,-0.019611537456512,0.031828343868256,-0.027613788843155,-0.024613540619612,-0.118481814861298,-0.063122496008873,0.230129241943359,0.164500489830971));
res += mul(Get(s3,dx,-dy), float4x4(-0.036844402551651,0.010784558020532,-0.143803268671036,-0.027221003547311,-0.080780297517776,-0.016781361773610,-0.154377952218056,0.000757308735047,-0.070104122161865,-0.027652813121676,-0.006850124802440,-0.097025386989117,-0.221864461898804,-0.004768370185047,0.070430383086205,0.021879974752665));
res += mul(Get(s3,dx,0), float4x4(-0.013438819907606,-0.117022462189198,-0.110896766185760,-0.159605219960213,-0.114083707332611,-0.080871030688286,-0.117773987352848,-0.102465443313122,-0.093488194048405,-0.036667175590992,-0.020618932321668,0.044066682457924,0.059126511216164,-0.047806777060032,0.045919984579086,0.000068694076617));
res += mul(Get(s3,dx,dy), float4x4(-0.024912586435676,-0.061781141906977,0.146365925669670,-0.148181751370430,0.029698928818107,0.076684705913067,0.050601255148649,-0.141155898571014,-0.107550293207169,0.038964152336121,0.036324657499790,0.155902564525604,-0.008966192603111,0.189287036657333,0.016738815233111,0.028104724362493));
return max(float4(0,0,0,0), res);
}
