sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.044316224753857,-0.024693077430129,0.043372578918934,0.008848494850099,-0.027572151273489,0.109473116695881,-0.023391498252749,0.080466464161873,-0.059921972453594,0.023759827017784,-0.019806792959571,0.017258819192648,0.229396492242813,-0.132187113165855,0.151367470622063,-0.005686758086085));
res += mul(Get(s0,-dx,0), float4x4(0.086720690131187,0.071449421346188,-0.035723444074392,-0.017088321968913,-0.035928253084421,0.097438044846058,-0.033422674983740,0.075493708252907,0.019677463918924,0.110072329640388,0.007036062423140,0.025328150019050,0.084399305284023,0.019888645038009,-0.018874250352383,0.047124426811934));
res += mul(Get(s0,-dx,dy), float4x4(0.104697741568089,-0.010911071673036,-0.018823467195034,0.013092949986458,0.013873028568923,-0.057324700057507,0.021466335281730,-0.076924391090870,-0.123621091246605,-0.065392367541790,-0.013271874748170,0.017164291813970,0.101406708359718,-0.083903931081295,-0.022720191627741,0.001683908049017));
res += mul(Get(s0,0,-dy), float4x4(0.034060914069414,-0.043006125837564,0.058066248893738,0.118235327303410,-0.008752833120525,-0.015782203525305,0.043812777847052,-0.005560306832194,-0.026086766272783,0.039091806858778,-0.084050163626671,0.055530764162540,0.101822771131992,-0.001286512357183,0.365018904209137,-0.017186246812344));
res += mul(Get(s0,0,0), float4x4(0.015270702540874,-0.024924248456955,0.010136316530406,-0.028407571837306,-0.176795735955238,0.131738707423210,0.041863620281219,0.026255499571562,0.049332000315189,0.108348309993744,-0.146858587861061,0.126531362533569,0.049085721373558,-0.006916304118931,0.021137792617083,-0.039769701659679));
res += mul(Get(s0,0,dy), float4x4(-0.057272486388683,0.044708658009768,-0.035954609513283,-0.090215764939785,0.088710099458694,-0.084333807229996,0.012888312339783,0.016640722751617,-0.018707660958171,0.115635916590691,0.037043139338493,0.012384943664074,-0.139508113265038,-0.010364318266511,-0.003630032530054,0.066218838095665));
res += mul(Get(s0,dx,-dy), float4x4(0.039250500500202,-0.063282631337643,0.008426933549345,0.026549514383078,-0.043739221990108,-0.080953940749168,0.004170359577984,0.086939096450806,-0.142942413687706,-0.030561391264200,-0.041209667921066,-0.116962216794491,0.075937382876873,0.023257179185748,0.011030528694391,0.023521406576037));
res += mul(Get(s0,dx,0), float4x4(0.066782049834728,-0.004538651090115,-0.018986746668816,-0.066430315375328,0.042694866657257,0.018441936001182,0.012165586464107,0.001177234924398,-0.053299676626921,0.074941135942936,-0.034309156239033,-0.114200033247471,-0.000490640115459,-0.002742243232206,-0.048147942870855,-0.011886234395206));
res += mul(Get(s0,dx,dy), float4x4(0.086731120944023,0.066871784627438,0.040459502488375,-0.074255309998989,-0.004808702971786,0.017049428075552,-0.056769348680973,-0.110088840126991,-0.104693308472633,-0.012352667748928,-0.058641143143177,-0.074931211769581,0.057742051780224,0.024172641336918,-0.036771260201931,-0.017214022576809));
res += mul(Get(s1,-dx,-dy), float4x4(-0.057559277862310,-0.177943915128708,0.022194007411599,-0.013916809111834,0.027115119621158,0.048009473830462,0.135777592658997,-0.044226039201021,-0.082144126296043,0.175291836261749,0.013236255384982,-0.041140172630548,-0.140403419733047,-0.039475340396166,-0.109928652644157,-0.039583656936884));
res += mul(Get(s1,-dx,0), float4x4(0.049511350691319,-0.064471587538719,0.042486447840929,-0.064808286726475,-0.103210717439651,-0.046217001974583,0.109109953045845,-0.014299126341939,-0.096233658492565,0.052596878260374,-0.022007895633578,-0.000998102244921,-0.058695036917925,0.095759525895119,0.036067143082619,0.047618307173252));
res += mul(Get(s1,-dx,dy), float4x4(-0.014183575287461,-0.083900742232800,-0.105173103511333,-0.078004747629166,-0.081398569047451,-0.117776133120060,-0.036152575165033,-0.054247651249170,0.067008316516876,-0.042732119560242,0.027242416515946,0.031549647450447,-0.053778931498528,0.082746528089046,-0.048426210880280,0.037160538136959));
res += mul(Get(s1,0,-dy), float4x4(0.066781774163246,0.028650086373091,0.046583563089371,-0.097067475318909,-0.163751006126404,-0.017733994871378,0.154680490493774,0.072249114513397,-0.064649865031242,0.150118693709373,0.073811598122120,-0.064032651484013,-0.065548487007618,-0.009034266695380,-0.018495112657547,-0.034583624452353));
res += mul(Get(s1,0,0), float4x4(0.022670034319162,0.234490841627121,0.040535748004913,-0.041262876242399,0.015114711597562,-0.098476454615593,0.102311238646507,0.315476745367050,0.085255436599255,-0.054979555308819,-0.122295007109642,0.167468085885048,0.130905166268349,-0.055528555065393,0.192992687225342,-0.039544533938169));
res += mul(Get(s1,0,dy), float4x4(0.096242077648640,0.017109906300902,-0.045629870146513,0.064011476933956,-0.015730680897832,0.048544593155384,-0.213309928774834,0.122243463993073,0.086469724774361,0.004998446907848,0.063736423850060,-0.049203772097826,0.099824965000153,0.040458019822836,-0.101875297725201,0.059338625520468));
res += mul(Get(s1,dx,-dy), float4x4(0.021343400701880,-0.049910455942154,0.029595404863358,0.206683501601219,-0.025496296584606,-0.073879383504391,-0.095887310802937,-0.042573068290949,0.005058047827333,0.025054177269340,0.019324464723468,-0.089572362601757,-0.095593109726906,-0.071375504136086,0.048392608761787,-0.060179509222507));
res += mul(Get(s1,dx,0), float4x4(-0.034134287387133,0.090591810643673,-0.019050249829888,0.090109348297119,0.069145999848843,-0.052247446030378,-0.026493586599827,0.053218074142933,0.014234182424843,0.072134129703045,0.031939689069986,-0.034533064812422,-0.007455400191247,0.049952451139688,0.078556574881077,-0.108370609581470));
res += mul(Get(s1,dx,dy), float4x4(0.088426433503628,-0.024333639070392,0.030420769006014,-0.042657911777496,0.057964343577623,-0.043392080813646,-0.043373510241508,-0.049139335751534,-0.057293061167002,0.029176350682974,0.035009596496820,0.107867613434792,-0.091903053224087,-0.069499507546425,-0.001313448417932,-0.032316204160452));
res += mul(Get(s2,-dx,-dy), float4x4(0.059007439762354,-0.002621515188366,-0.025884605944157,0.034792777150869,0.078644916415215,-0.020902628079057,-0.082922674715519,0.034159362316132,-0.012675233185291,0.021300122141838,0.085993029177189,0.052530128508806,0.020815279334784,0.061529934406281,0.081771805882454,0.039482541382313));
res += mul(Get(s2,-dx,0), float4x4(0.022356487810612,0.096084296703339,-0.029763130471110,0.095903478562832,0.006865164730698,0.080529831349850,0.033421121537685,-0.056959476321936,0.092755466699600,-0.090895727276802,0.049120593816042,-0.030587095767260,0.051669534295797,0.076635196805000,-0.012029825709760,0.086992442607880));
res += mul(Get(s2,-dx,dy), float4x4(-0.100187033414841,-0.177872881293297,-0.091445408761501,-0.044522292912006,-0.030347429215908,-0.008480927906930,0.019285541027784,0.022405933588743,-0.050226133316755,0.039827026426792,-0.001726572867483,-0.093905344605446,0.055727399885654,-0.029883222654462,0.129997417330742,-0.032394319772720));
res += mul(Get(s2,0,-dy), float4x4(-0.015492877922952,0.137612000107765,-0.015591547824442,-0.100582607090473,0.135001376271248,-0.144661828875542,-0.033767685294151,-0.065204799175262,-0.018591186031699,0.027361467480659,-0.045492228120565,0.070164375007153,-0.014089402742684,-0.003577573923394,0.110580787062645,-0.019673027098179));
res += mul(Get(s2,0,0), float4x4(0.107736334204674,-0.028746323660016,-0.063830748200417,0.122427716851234,0.072638690471649,0.064227975904942,0.065338969230652,-0.059738121926785,0.038154844194651,0.028694681823254,0.061932545155287,0.064970210194588,0.013340470381081,0.031505275517702,0.075162373483181,-0.025059632956982));
res += mul(Get(s2,0,dy), float4x4(0.196023747324944,-0.059124801307917,-0.007180134300143,0.019325975328684,-0.077474296092987,-0.006592933088541,0.011352314613760,0.039188265800476,0.093462519347668,0.086913794279099,-0.071537539362907,0.033359635621309,-0.047328155487776,0.047258991748095,0.158487200737000,-0.055603209882975));
res += mul(Get(s2,dx,-dy), float4x4(0.024165742099285,0.110360011458397,-0.071466512978077,-0.140975698828697,0.079502478241920,-0.093555808067322,-0.131100699305534,-0.100375860929489,0.033584441989660,0.054346270859241,-0.087685473263264,0.063615545630455,0.039776213467121,0.014985078014433,0.081584699451923,-0.001476651290432));
res += mul(Get(s2,dx,0), float4x4(-0.035664163529873,0.053472343832254,-0.062837623059750,0.059208177030087,0.186709642410278,-0.087571740150452,0.008233328349888,-0.075473427772522,0.009033157490194,-0.131904095411301,0.135626971721649,0.040224451571703,0.010718882083893,0.027986429631710,0.070357128977776,-0.109343737363815));
res += mul(Get(s2,dx,dy), float4x4(-0.009152700193226,0.068816490471363,-0.002295780228451,-0.008337267674506,0.091616779565811,0.017837064340711,0.026122700423002,0.009667009115219,0.002661150414497,0.074138157069683,0.095682106912136,-0.054845165461302,0.003050914965570,-0.017740782350302,0.045638170093298,-0.083103790879250));
res += mul(Get(s3,-dx,-dy), float4x4(-0.139166906476021,-0.000130189422634,-0.068629242479801,0.091943047940731,0.003262544283643,-0.021572481840849,0.072604924440384,-0.032177109271288,0.042334493249655,0.098006032407284,-0.055829804390669,-0.045090992003679,-0.114095002412796,-0.049406841397285,-0.011570611037314,-0.033471681177616));
res += mul(Get(s3,-dx,0), float4x4(0.036099039018154,0.044983182102442,-0.037949241697788,0.076806545257568,0.007603656500578,0.028667261824012,-0.005435780622065,0.067349776625633,-0.128148987889290,-0.016337996348739,0.031718678772449,0.023082708939910,-0.046237543225288,-0.030262453481555,-0.106545604765415,0.002104128012434));
res += mul(Get(s3,-dx,dy), float4x4(-0.050561737269163,-0.069829970598221,-0.015812003985047,0.016068790107965,0.115420766174793,-0.108033366501331,0.104069255292416,-0.056371461600065,0.005950172431767,-0.035894587635994,-0.070205613970757,-0.003594643902034,0.019743163138628,0.025245239958167,0.027144737541676,0.038990460336208));
res += mul(Get(s3,0,-dy), float4x4(-0.109328687191010,-0.099182173609734,-0.013534114696085,-0.014590146020055,0.042598534375429,-0.054215922951698,0.102742992341518,-0.110661484301090,-0.032175656408072,0.064704351127148,-0.031291641294956,0.026921061798930,0.045156452804804,-0.076102443039417,-0.076909609138966,0.046810705214739));
res += mul(Get(s3,0,0), float4x4(-0.058844499289989,-0.023394640535116,-0.125919207930565,0.127966269850731,0.210278511047363,0.016455080360174,-0.042816258966923,0.063434720039368,-0.091710433363914,0.070622064173222,0.052060391753912,-0.077430352568626,-0.109941214323044,0.008339394815266,-0.035811912268400,0.013906454667449));
res += mul(Get(s3,0,dy), float4x4(0.008490541949868,-0.078158333897591,-0.096175588667393,-0.007518439088017,0.053192470222712,-0.106407150626183,0.052634142339230,-0.073496937751770,-0.051693908870220,-0.054128501564264,0.010836387053132,-0.012422489002347,0.046174515038729,0.099264115095139,-0.005598157178611,0.069444984197617));
res += mul(Get(s3,dx,-dy), float4x4(0.033159870654345,0.019472630694509,-0.122241429984570,-0.149027779698372,-0.023655889555812,-0.064865693449974,0.099359691143036,-0.121115498244762,-0.071303062140942,0.076609380543232,0.055872235447168,0.046549469232559,0.123365536332130,-0.034354746341705,0.046195760369301,-0.184698790311813));
res += mul(Get(s3,dx,0), float4x4(-0.061351012438536,-0.039346832782030,-0.070303604006767,-0.052919093519449,-0.107672236859798,-0.088943593204021,-0.043994981795549,0.004681209567934,-0.055484756827354,0.154410809278488,0.024049589410424,0.108468368649483,-0.016448164358735,0.058544542640448,0.102311603724957,-0.085889518260956));
res += mul(Get(s3,dx,dy), float4x4(-0.055108182132244,-0.019506229087710,0.035994455218315,-0.093495272099972,0.054547574371099,-0.026567883789539,0.094805203378201,-0.063750237226486,0.051571439951658,-0.045350924134254,-0.130186945199966,0.019761476665735,0.006806528661400,0.041280392557383,-0.051312685012817,-0.015313810668886));
return max(float4(0,0,0,0), res);
}
