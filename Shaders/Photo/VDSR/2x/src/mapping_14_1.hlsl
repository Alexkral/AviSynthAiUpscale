sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.038058828562498,-0.042916994541883,0.103965267539024,0.056754056364298,0.052470698952675,0.049533635377884,0.049739196896553,-0.010046764276922,-0.038222629576921,-0.018934646621346,-0.015336254611611,0.000029341556001,0.034895531833172,-0.001273458823562,0.039742339402437,-0.035447053611279));
res += mul(Get(s0,-dx,0), float4x4(-0.063885726034641,0.030833536759019,0.012553427368402,-0.084985934197903,0.064773388206959,0.056362517178059,0.006669152062386,-0.018987279385328,0.046855326741934,0.045408476144075,0.057579673826694,0.006357988808304,0.030691467225552,0.129195779561996,0.049545627087355,-0.268183857202530));
res += mul(Get(s0,-dx,dy), float4x4(-0.048158571124077,-0.017299218103290,0.019665496423841,0.020095119252801,0.057056128978729,-0.015570577234030,-0.043460745364428,-0.060372587293386,0.020309014245868,-0.038948807865381,-0.021350242197514,0.024455780163407,-0.083435349166393,-0.022747516632080,-0.012195532210171,-0.072062142193317));
res += mul(Get(s0,0,-dy), float4x4(0.101095736026764,0.051623716950417,-0.047679889947176,0.102486275136471,-0.009455957449973,-0.052071850746870,-0.085942134261131,-0.023743147030473,-0.107684418559074,0.366260588169098,-0.038960330188274,0.024568950757384,0.021376097574830,-0.074681244790554,-0.023016689345241,0.011745778843760));
res += mul(Get(s0,0,0), float4x4(-0.029333205893636,0.050364218652248,-0.055130194872618,0.074434481561184,0.046437535434961,-0.093258067965508,-0.094897806644440,-0.006666187662631,0.088541112840176,0.509320199489594,-0.120417430996895,0.083718121051788,0.112225502729416,-0.115512058138847,-0.051635555922985,-0.085422560572624));
res += mul(Get(s0,0,dy), float4x4(-0.051071785390377,-0.050084516406059,0.055693913251162,0.024279978126287,0.122994333505630,-0.059255093336105,-0.045681040734053,-0.018143268302083,0.097066618502140,0.014926995150745,0.069391451776028,0.038541011512280,0.044482234865427,-0.204655930399895,0.036945160478354,0.088190577924252));
res += mul(Get(s0,dx,-dy), float4x4(0.215961039066315,0.118108503520489,-0.074052996933460,0.025835610926151,-0.014567310921848,0.010552523657680,0.013979298993945,0.027812359854579,0.048557255417109,0.014699187129736,-0.095922105014324,-0.012867875397205,0.026580134406686,0.021415861323476,-0.057863373309374,0.030887499451637));
res += mul(Get(s0,dx,0), float4x4(0.050726346671581,0.117701448500156,-0.071205355226994,0.019987048581243,-0.064608551561832,-0.063214391469955,0.032534930855036,0.025381969287992,-0.022407591342926,0.161482647061348,-0.132580220699310,0.060110900551081,-0.083679966628551,0.006338572595268,-0.017358493059874,0.008640130981803));
res += mul(Get(s0,dx,dy), float4x4(-0.000053027019021,-0.032015740871429,-0.081960000097752,-0.009325953200459,0.015293031930923,-0.027250574901700,-0.062948293983936,-0.000936308584642,0.065218694508076,-0.007851107046008,-0.058065898716450,0.033007029443979,-0.069167636334896,-0.114488340914249,0.029277956113219,0.069618418812752));
res += mul(Get(s1,-dx,-dy), float4x4(-0.103642828762531,-0.014536546543241,0.095483578741550,-0.049042817205191,0.047206465154886,-0.008946627378464,0.035954769700766,-0.084104195237160,-0.018208924680948,-0.050910253077745,0.045758843421936,0.030327184125781,0.012063419446349,0.030100088566542,0.042775407433510,0.041536163538694));
res += mul(Get(s1,-dx,0), float4x4(-0.029472313821316,-0.020132659003139,0.039409320801497,-0.033711317926645,0.012392816133797,-0.036249313503504,-0.054631292819977,-0.027450112625957,-0.040899530053139,0.035056319087744,-0.030812945216894,0.040446054190397,-0.070026636123657,0.027741258963943,0.077753186225891,-0.027770698070526));
res += mul(Get(s1,-dx,dy), float4x4(0.015014824457467,0.068191982805729,0.106557913124561,-0.009853194467723,0.036996502429247,0.048690587282181,0.012397273443639,-0.020885804668069,0.042814102023840,0.101394854485989,0.053291596472263,0.026330370455980,0.035194497555494,-0.017437621951103,0.069734565913677,-0.000770835555159));
res += mul(Get(s1,0,-dy), float4x4(0.118893809616566,-0.036041658371687,-0.023147791624069,-0.035892892628908,0.023559654131532,0.048936020582914,0.044950079172850,-0.064236894249916,0.077642761170864,-0.027811633422971,-0.002934706164524,0.060521658509970,0.043553315103054,0.135119155049324,0.139387995004654,-0.076118268072605));
res += mul(Get(s1,0,0), float4x4(0.023066580295563,-0.164504766464233,0.002568333642557,-0.105440340936184,0.139825269579887,-0.024591725319624,0.124987192451954,-0.072106450796127,0.012178586795926,-0.133198797702789,0.031732622534037,0.053702302277088,0.007173904683441,0.015280868858099,0.038783192634583,-0.023236786946654));
res += mul(Get(s1,0,dy), float4x4(-0.084353007376194,0.027076417580247,0.094754248857498,-0.100048750638962,-0.118976064026356,-0.041991636157036,0.094387054443359,-0.020730176940560,-0.141184285283089,0.027201183140278,0.015136099420488,0.007023109123111,0.038680374622345,0.025212243199348,0.118233606219292,-0.025926403701305));
res += mul(Get(s1,dx,-dy), float4x4(0.047723777592182,-0.066099636256695,-0.110490672290325,0.091210052371025,0.040959652513266,0.021176828071475,0.008042545989156,0.141955852508545,-0.048215173184872,-0.040257364511490,-0.037276621907949,0.046555571258068,0.005013240035623,0.061725925654173,-0.158355697989464,-0.013605836778879));
res += mul(Get(s1,dx,0), float4x4(0.005339363124222,-0.077015042304993,0.015369965694845,-0.035674612969160,0.023930761963129,0.014689868316054,0.008059642277658,0.042591258883476,0.118831612169743,-0.047589559108019,0.047883700579405,0.018758689984679,-0.067267626523972,-0.035060100257397,-0.119303725659847,0.052967868745327));
res += mul(Get(s1,dx,dy), float4x4(0.103585109114647,-0.293919801712036,-0.079215139150620,-0.052966866642237,0.014286250807345,0.001390454592183,0.165963277220726,0.038287788629532,0.007427649106830,-0.037327907979488,-0.048772133886814,-0.002344534965232,-0.048919923603535,-0.176096260547638,-0.134765833616257,0.015943821519613));
res += mul(Get(s2,-dx,-dy), float4x4(0.082485273480415,-0.006183985620737,0.025563858449459,0.000933927018195,0.085199572145939,-0.079231850802898,-0.002498687710613,0.140111505985260,0.033556010574102,-0.020832484588027,0.027828928083181,0.004781694151461,0.015286281704903,-0.087636016309261,0.067423559725285,-0.012618354521692));
res += mul(Get(s2,-dx,0), float4x4(0.049996200948954,0.065183572471142,0.017473910003901,0.041537467390299,-0.021388618275523,-0.004020219203085,0.023336626589298,0.070884764194489,-0.015374551527202,0.042439013719559,0.105029337108135,0.043709427118301,-0.083901993930340,0.141058847308159,0.044882159680128,0.004119915887713));
res += mul(Get(s2,-dx,dy), float4x4(-0.061165299266577,0.064201898872852,0.001744560315274,0.027557531371713,-0.051254894584417,0.062410973012447,-0.011488380841911,0.049004074186087,-0.001056884997524,-0.069825716316700,0.052246600389481,-0.013781547546387,-0.005519608035684,0.050330020487309,0.071253702044487,-0.022594280540943));
res += mul(Get(s2,0,-dy), float4x4(0.122831270098686,-0.011692297644913,0.042903676629066,-0.012154757045209,0.065118558704853,0.182661548256874,0.043960858136415,0.171722099184990,-0.046064216643572,0.066733479499817,0.047902490943670,0.023826640099287,0.073502168059349,0.042561545968056,-0.027150556445122,0.076155975461006));
res += mul(Get(s2,0,0), float4x4(-0.116802915930748,-0.075907520949841,0.044242478907108,-0.015467816963792,0.016701962798834,0.085595138370991,-0.057309929281473,0.052105128765106,0.093837179243565,-0.099954806268215,0.039092399179935,0.011021346785128,0.108047999441624,0.036786023527384,0.138895452022552,0.014516033232212));
res += mul(Get(s2,0,dy), float4x4(0.010003779083490,0.121502920985222,0.050846561789513,0.022919105365872,-0.041645124554634,-0.063012748956680,-0.136481925845146,0.081492401659489,0.068948470056057,0.030357033014297,-0.012357655912638,-0.061214230954647,-0.067456014454365,0.015109561383724,-0.025914870202541,-0.007537430152297));
res += mul(Get(s2,dx,-dy), float4x4(0.013430972583592,-0.064522281289101,0.019747635349631,0.108025714755058,0.024331456050277,0.023244485259056,-0.195518285036087,0.011163801886141,0.061914172023535,-0.042162045836449,0.050646074116230,-0.058677889406681,-0.020715551450849,-0.002310445066541,-0.056140664964914,-0.027342742308974));
res += mul(Get(s2,dx,0), float4x4(-0.036059707403183,-0.064124442636967,0.151384636759758,-0.057003840804100,-0.026315134018660,-0.088499031960964,-0.085266947746277,-0.045103758573532,0.051555916666985,-0.087986454367638,0.071506708860397,-0.075153954327106,0.056496385484934,0.150113478302956,0.077348619699478,0.011084482073784));
res += mul(Get(s2,dx,dy), float4x4(-0.049158141016960,-0.028872422873974,-0.033757761120796,0.018458548933268,-0.064646929502487,-0.047047801315784,-0.024757163599133,-0.000844544381835,-0.055264115333557,-0.008463622070849,0.010623165406287,-0.012894437648356,0.015031402930617,-0.000466223078547,0.078783527016640,0.029250625520945));
res += mul(Get(s3,-dx,-dy), float4x4(0.049222052097321,0.076774008572102,0.070220410823822,0.007935591042042,-0.020394673570991,0.031929340213537,0.017187723889947,0.026119891554117,0.033598121255636,0.036196798086166,0.065270118415356,-0.149841845035553,0.078998021781445,-0.015106719918549,-0.060941185802221,0.072616569697857));
res += mul(Get(s3,-dx,0), float4x4(-0.025970889255404,-0.076246969401836,0.123705312609673,-0.013005441986024,-0.080368861556053,-0.000698351184838,0.085357405245304,-0.026379482820630,0.004310233518481,-0.031858194619417,0.087494216859341,-0.032106485217810,0.009611998684704,0.132885560393333,0.051202386617661,0.031758047640324));
res += mul(Get(s3,-dx,dy), float4x4(-0.117982380092144,-0.021754773333669,-0.000104682665551,-0.019056728109717,-0.013141416013241,-0.032790362834930,0.011605916544795,0.079107426106930,0.036625493317842,-0.040993053466082,0.006694884039462,0.069895885884762,0.105527713894844,0.019780160859227,0.024899734184146,0.016695460304618));
res += mul(Get(s3,0,-dy), float4x4(0.000873374519870,-0.113449484109879,0.088740453124046,0.053657282143831,-0.103887341916561,0.079260602593422,0.158733457326889,0.112099923193455,-0.093653500080109,0.124513983726501,0.023342754691839,-0.131032586097717,-0.035747580230236,0.085695825517178,0.004047071561217,0.096490152180195));
res += mul(Get(s3,0,0), float4x4(0.016649397090077,0.067135103046894,0.030235180631280,-0.005000939592719,0.038648635149002,0.044805765151978,0.070236384868622,0.083761230111122,0.089919149875641,-0.130089879035950,0.085623249411583,0.086338005959988,-0.049775086343288,0.240438893437386,-0.013547073118389,0.041453517973423));
res += mul(Get(s3,0,dy), float4x4(0.077266789972782,0.093831151723862,0.100565008819103,0.003023952944204,0.060856990516186,-0.032841376960278,0.104260593652725,0.117511712014675,-0.046703241765499,-0.085322543978691,-0.006405764259398,0.023765612393618,0.086156658828259,0.110769674181938,-0.055863156914711,0.041653800755739));
res += mul(Get(s3,dx,-dy), float4x4(0.090521454811096,-0.053470011800528,0.072639897465706,0.084129534661770,-0.036647837609053,0.016492087393999,0.088555112481117,-0.052857611328363,-0.061614435166121,0.153106167912483,-0.177558407187462,-0.032964285463095,0.083284825086594,0.033343628048897,-0.047189999371767,0.029158400371671));
res += mul(Get(s3,dx,0), float4x4(0.062843963503838,0.013127218931913,0.044721346348524,-0.024950563907623,0.064709141850471,-0.049582913517952,-0.004882533568889,0.084231369197369,0.085535727441311,-0.008693711832166,-0.291383177042007,0.101215124130249,0.055203948169947,-0.010570975951850,-0.116633944213390,-0.020321313291788));
res += mul(Get(s3,dx,dy), float4x4(0.025026448071003,0.001869251602329,-0.009648969396949,0.026828203350306,-0.029165323823690,0.002713769441471,0.157613158226013,-0.023720854893327,0.007954910397530,-0.156736671924591,-0.167707815766335,-0.057336408644915,-0.024316839873791,0.004567993804812,-0.065025560557842,-0.007278213743120));
return max(float4(0,0,0,0), res);
}
