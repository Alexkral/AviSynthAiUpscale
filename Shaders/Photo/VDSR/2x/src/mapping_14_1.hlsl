sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.028833964839578,-0.021991517394781,0.047424852848053,-0.020093701779842,-0.154636815190315,0.046457700431347,-0.052653133869171,0.040143590420485,0.117474064230919,0.033462334424257,-0.105233527719975,-0.040122363716364,-0.102316975593567,0.156765028834343,0.182169243693352,-0.006497143302113));
res += mul(Get(s0,-dx,0), float4x4(-0.030434928834438,-0.014460536651313,0.001950766541995,-0.051522221416235,0.022602001205087,-0.121725231409073,-0.118776261806488,0.107758343219757,0.076015003025532,-0.016769442707300,-0.033872283995152,-0.024541759863496,0.030970824882388,0.057147737592459,0.108691461384296,-0.046296279877424));
res += mul(Get(s0,-dx,dy), float4x4(-0.307328999042511,0.050094403326511,-0.035705022513866,0.119461379945278,-0.026437798514962,-0.020136356353760,0.138256072998047,0.077087752521038,-0.057489395141602,0.018923712894320,0.042575679719448,0.046254198998213,0.025827405974269,0.142733559012413,0.013001738116145,-0.036004066467285));
res += mul(Get(s0,0,-dy), float4x4(0.006205233279616,-0.166329532861710,-0.045054528862238,0.092540778219700,-0.007296762894839,0.055989563465118,0.017289353534579,0.021124737337232,0.148749634623528,-0.010646267794073,0.089060619473457,-0.151623621582985,-0.109779201447964,0.014895876869559,-0.110087707638741,-0.096429705619812));
res += mul(Get(s0,0,0), float4x4(0.108315706253052,0.024737164378166,0.072464883327484,-0.166324093937874,0.006458410061896,-0.067417398095131,0.017657937481999,-0.007521051913500,0.220323964953423,-0.019457507878542,0.042746454477310,0.006463618017733,-0.104520283639431,0.024870911613107,-0.031593915075064,0.121534377336502));
res += mul(Get(s0,0,dy), float4x4(-0.025104390457273,0.025512779131532,0.074502840638161,-0.124420329928398,0.031875476241112,-0.026364099234343,0.044673278927803,-0.086799256503582,-0.090605244040489,0.054009065032005,-0.135124042630196,0.099534928798676,0.196820199489594,-0.069736704230309,0.126448884606361,0.106181949377060));
res += mul(Get(s0,dx,-dy), float4x4(0.007014415692538,0.094210915267467,-0.194955229759216,0.018274068832397,0.114065870642662,-0.182979568839073,0.017767416313291,0.015189977362752,-0.112666197121143,-0.053205315023661,-0.120665699243546,-0.052907653152943,-0.154916331171989,-0.002822390990332,-0.089237116277218,0.126782640814781));
res += mul(Get(s0,dx,0), float4x4(-0.271378904581070,-0.051124233752489,-0.128163605928421,0.225466221570969,-0.023082716390491,0.169020101428032,-0.051130227744579,-0.163323804736137,-0.011543666012585,0.059046737849712,-0.045668393373489,0.052300471812487,-0.149520382285118,-0.196924746036530,-0.141246378421783,0.117451511323452));
res += mul(Get(s0,dx,dy), float4x4(-0.078512512147427,-0.060835935175419,0.116859763860703,-0.006393549498171,0.107491448521614,0.049637883901596,0.239291042089462,-0.093737326562405,-0.094518020749092,0.014008970931172,0.004380739293993,-0.069700881838799,0.106781855225563,-0.023751402273774,-0.020009556785226,0.029746109619737));
res += mul(Get(s1,-dx,-dy), float4x4(0.034406963735819,0.181437999010086,0.031587708741426,0.026737898588181,0.043292984366417,-0.120376452803612,-0.126302540302277,0.015161298215389,0.034971244633198,0.084030918776989,-0.054675016552210,0.033968679606915,-0.246768027544022,0.189348742365837,0.048778064548969,-0.119657725095749));
res += mul(Get(s1,-dx,0), float4x4(0.012106487527490,0.189261630177498,-0.170022994279861,-0.115178048610687,-0.039409190416336,0.003209615126252,0.044665835797787,-0.143770560622215,-0.028497511520982,-0.154940560460091,-0.029354136437178,-0.091244466602802,0.019347948953509,0.052732545882463,0.027370456606150,0.005343172699213));
res += mul(Get(s1,-dx,dy), float4x4(0.090490452945232,0.029674103483558,-0.084202840924263,0.063731901347637,0.173654332756996,0.106666795909405,-0.064516581594944,0.153108611702919,0.114391192793846,-0.100892677903175,0.115683533251286,-0.056778252124786,-0.035994581878185,-0.144229903817177,-0.057860437780619,-0.081199355423450));
res += mul(Get(s1,0,-dy), float4x4(0.147925704717636,0.003687328426167,0.010363297536969,-0.034651678055525,-0.087691940367222,0.149008765816689,0.028757788240910,-0.042379021644592,0.044186960905790,0.012245899066329,-0.150762841105461,0.139721095561981,0.126772150397301,-0.066097848117352,0.099437288939953,-0.081726908683777));
res += mul(Get(s1,0,0), float4x4(-0.126278087496758,-0.089763529598713,-0.042466823011637,-0.023768505081534,-0.094392172992229,0.164442315697670,0.015733312815428,-0.057010274380445,0.079540349543095,-0.016321975737810,0.036813672631979,-0.072229720652103,0.035936012864113,0.009806152433157,-0.044065825641155,-0.035164743661880));
res += mul(Get(s1,0,dy), float4x4(-0.221592947840691,-0.011081680655479,0.050122831016779,0.021099539473653,0.011705427430570,0.080214560031891,0.018820837140083,0.084149181842804,0.247345104813576,-0.016720511019230,-0.047947444021702,0.004982053767890,0.211242839694023,0.078785784542561,-0.042638938874006,0.108086220920086));
res += mul(Get(s1,dx,-dy), float4x4(0.026117201894522,0.042880814522505,-0.201456114649773,0.146873146295547,-0.089876636862755,-0.008200678043067,0.190557599067688,0.158962324261665,0.212739452719688,-0.074594415724277,-0.077573820948601,-0.176205947995186,-0.024653535336256,0.173937514424324,0.120294451713562,0.084366321563721));
res += mul(Get(s1,dx,0), float4x4(-0.013903915882111,0.031815290451050,-0.000986285391264,0.048782363533974,-0.038774199783802,0.124462313950062,0.065701529383659,0.073099523782730,0.074317060410976,0.073031850159168,0.000442446587840,-0.071021549403667,0.043512985110283,0.070869401097298,-0.095338113605976,0.082075245678425));
res += mul(Get(s1,dx,dy), float4x4(-0.019968254491687,-0.000595914316364,0.045682460069656,-0.154252216219902,-0.087892778217793,-0.025617385283113,0.093238867819309,-0.108194686472416,0.219696745276451,0.140594899654388,-0.071959629654884,0.031200740486383,-0.056293785572052,0.190999284386635,0.036212731152773,-0.157102853059769));
res += mul(Get(s2,-dx,-dy), float4x4(0.037225350737572,-0.156217008829117,0.038907840847969,-0.156510859727859,0.117083393037319,0.142549291253090,-0.075560808181763,-0.053940732032061,-0.142566055059433,-0.232527792453766,-0.028879400342703,-0.052632834762335,-0.103880904614925,0.054079402238131,0.116069160401821,0.001881212810986));
res += mul(Get(s2,-dx,0), float4x4(0.005697965156287,-0.054319418966770,-0.133197784423828,-0.102535508573055,-0.039195120334625,0.259739607572556,0.039703682065010,0.006554463412613,0.184493422508240,0.097834452986717,-0.028586985543370,-0.056244570761919,-0.010473518632352,0.036211706697941,-0.040948010981083,0.055125717073679));
res += mul(Get(s2,-dx,dy), float4x4(0.074819169938564,-0.050836484879255,0.155678838491440,-0.190941661596298,0.081679426133633,0.029267450794578,0.085710406303406,-0.116563007235527,0.043016899377108,-0.067529834806919,-0.114154264330864,0.027591940015554,-0.253838866949081,0.083530239760876,-0.098627135157585,0.075961552560329));
res += mul(Get(s2,0,-dy), float4x4(-0.035592745989561,-0.116806700825691,0.102061562240124,0.032278567552567,0.070381253957748,-0.142015218734741,-0.007341941818595,0.003651820821688,0.068844117224216,-0.060841761529446,0.156688928604126,-0.019249375909567,0.025813879445195,0.010848668403924,-0.106095619499683,-0.179798811674118));
res += mul(Get(s2,0,0), float4x4(-0.043255195021629,-0.040123455226421,-0.044174969196320,0.075842596590519,-0.166508376598358,0.059683304280043,-0.126735046505928,0.059590090066195,0.048526495695114,0.000870848132763,0.037861514836550,0.118731707334518,0.254889756441116,-0.001093356637284,0.092085555195808,0.010996882803738));
res += mul(Get(s2,0,dy), float4x4(0.134655877947807,-0.053399834781885,-0.099502190947533,0.049307685345411,0.033967304974794,-0.066009968519211,-0.060992628335953,-0.002523486968130,0.018780840560794,-0.126549810171127,0.005373071413487,-0.152702689170837,0.058715086430311,-0.193294435739517,-0.111857287585735,-0.086469620466232));
res += mul(Get(s2,dx,-dy), float4x4(0.079764746129513,-0.061395842581987,0.002786159515381,-0.051186226308346,0.105238012969494,-0.023506846278906,-0.038068588823080,-0.044470470398664,0.089091263711452,-0.012983728200197,0.149248048663139,0.108038134872913,0.022226277738810,-0.003719877218828,0.046338204294443,0.031539950519800));
res += mul(Get(s2,dx,0), float4x4(0.058521807193756,0.046338632702827,0.071101650595665,0.247781410813332,-0.052388105541468,-0.030348306521773,-0.046548970043659,-0.031852088868618,-0.090504020452499,-0.104772791266441,-0.015129894018173,-0.178655281662941,-0.041365720331669,0.130378469824791,0.059486657381058,0.064283423125744));
res += mul(Get(s2,dx,dy), float4x4(-0.177127227187157,0.204336479306221,-0.109342887997627,0.090019039809704,-0.021026559174061,0.026953469961882,0.109810896217823,-0.049144942313433,0.122546032071114,0.171283170580864,-0.108502984046936,-0.096534281969070,0.005578558426350,0.059644259512424,-0.034366738051176,-0.088446930050850));
res += mul(Get(s3,-dx,-dy), float4x4(0.117986507713795,0.192847415804863,-0.000990553642623,0.053942397236824,0.166244819760323,0.047094613313675,-0.196123749017715,0.043680574744940,-0.075943149626255,0.114900954067707,0.031538896262646,0.242535963654518,0.067690290510654,0.044738680124283,-0.022534947842360,0.074954532086849));
res += mul(Get(s3,-dx,0), float4x4(0.006682346574962,-0.038888193666935,0.076094619929790,-0.110701717436314,-0.206619679927826,-0.105563506484032,0.013883088715374,0.006294810678810,-0.037879887968302,-0.016864111647010,0.116331137716770,-0.025396728888154,0.050205763429403,0.268853574991226,-0.051844526082277,-0.011038254946470));
res += mul(Get(s3,-dx,dy), float4x4(-0.053978357464075,-0.031593333929777,-0.109937280416489,0.074410364031792,-0.014277867972851,0.005609019659460,0.054487921297550,-0.006407319568098,0.099209465086460,0.183266907930374,-0.243226915597916,0.078634843230247,-0.075844541192055,0.130765914916992,0.102384217083454,-0.091697305440903));
res += mul(Get(s3,0,-dy), float4x4(-0.009880436584353,0.083011999726295,0.249918788671494,0.078373566269875,-0.041561543941498,0.111293330788612,-0.170097470283508,0.030538961291313,0.122492849826813,0.056434381753206,-0.065154358744621,0.055042143911123,0.012289698235691,-0.020149750635028,0.016658632084727,-0.135454803705215));
res += mul(Get(s3,0,0), float4x4(0.000895644014236,-0.054344739764929,0.248784527182579,-0.089606553316116,0.001874428358860,0.073779433965683,0.010750929825008,-0.068879328668118,-0.239160716533661,-0.090940974652767,-0.079833455383778,-0.019716432318091,-0.310997039079666,-0.003508576890454,-0.005309673026204,-0.053937636315823));
res += mul(Get(s3,0,dy), float4x4(-0.019392177462578,0.101524412631989,0.115516453981400,0.050892028957605,-0.040831372141838,0.011403687298298,0.003670618869364,0.061068978160620,-0.141507372260094,0.049999833106995,-0.052769649773836,-0.007464260328561,0.151819586753845,0.107553362846375,0.121302694082260,-0.047210358083248));
res += mul(Get(s3,dx,-dy), float4x4(-0.142377287149429,-0.011157615110278,0.005312163848430,-0.099749609827995,-0.028930386528373,0.011437024921179,-0.015578522346914,-0.163767576217651,-0.072542339563370,0.143735647201538,-0.000827964511700,-0.125968962907791,0.069404311478138,-0.153645053505898,-0.075943589210510,-0.117936789989471));
res += mul(Get(s3,dx,0), float4x4(0.050860345363617,-0.017348390072584,-0.043815732002258,0.022654403001070,0.005065834615380,-0.055510871112347,-0.147418111562729,-0.006538294255733,0.202551081776619,-0.040697980672121,0.075641274452209,0.007453255355358,0.135511294007301,-0.007359881885350,-0.085526071488857,0.067226663231850));
res += mul(Get(s3,dx,dy), float4x4(-0.122475214302540,0.164038285613060,-0.076989270746708,-0.024775933474302,0.175566703081131,-0.015268146060407,0.032522071152925,0.033283177763224,0.140531480312347,-0.143704265356064,0.057842455804348,0.067717902362347,0.264271289110184,0.059811968356371,-0.009451952762902,-0.062225490808487));
return max(float4(0,0,0,0), res);
}
