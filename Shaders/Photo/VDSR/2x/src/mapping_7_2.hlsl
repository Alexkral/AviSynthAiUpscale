sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.005462205968797,-0.109117306768894,0.100116327404976,0.069880872964859,-0.025151561945677,0.182814449071884,-0.140156328678131,-0.051619824022055,0.070434421300888,-0.108623139560223,-0.055565148591995,-0.033431053161621,0.139897659420967,-0.086225070059299,0.026355115696788,0.072336614131927));
res += mul(Get(s0,-dx,0), float4x4(-0.108146838843822,0.018071372061968,0.162663981318474,0.026207990944386,0.150349214673042,0.106593333184719,0.028228938579559,-0.129338249564171,-0.016712773591280,0.120123118162155,0.003691521473229,0.012726964429021,0.235979586839676,0.055391915142536,-0.057557601481676,-0.240037634968758));
res += mul(Get(s0,-dx,dy), float4x4(-0.121272668242455,-0.078522145748138,0.056909602135420,-0.068310439586639,0.119196482002735,0.099525168538094,0.051906920969486,-0.153916865587234,-0.014768377877772,0.039828497916460,-0.132718339562416,0.010200543329120,0.052121195942163,-0.146521613001823,-0.020385969430208,0.024091474711895));
res += mul(Get(s0,0,-dy), float4x4(-0.101990178227425,0.018716719001532,0.078602552413940,0.013975385576487,-0.137353762984276,0.090224519371986,-0.021867450326681,0.051010094583035,-0.125970482826233,-0.104216881096363,0.122525177896023,0.077894181013107,0.021984683349729,0.006173355039209,0.091866210103035,-0.113232128322124));
res += mul(Get(s0,0,0), float4x4(-0.023874886333942,0.032258268445730,0.227974399924278,-0.021280894055963,0.072324372828007,0.119895510375500,0.090619795024395,0.104081794619560,0.247557610273361,0.042230226099491,-0.061003692448139,0.192725747823715,0.026398725807667,-0.076914206147194,0.095402382314205,-0.182619601488113));
res += mul(Get(s0,0,dy), float4x4(0.016274863854051,0.174825295805931,0.018171602860093,-0.121039301156998,0.056759066879749,0.183653920888901,-0.111787006258965,0.066016815602779,0.184337988495827,-0.140167057514191,-0.127251401543617,-0.009191330522299,-0.122917830944061,-0.088218361139297,0.078071452677250,0.074856549501419));
res += mul(Get(s0,dx,-dy), float4x4(0.080975569784641,-0.013203270733356,-0.028859298676252,0.070698775351048,-0.176140323281288,0.087539993226528,0.048469211906195,0.048858322203159,-0.074925832450390,-0.087177090346813,0.026943335309625,-0.170005828142166,-0.077705681324005,-0.119073927402496,0.196339905261993,-0.084096245467663));
res += mul(Get(s0,dx,0), float4x4(0.095413289964199,0.084024906158447,-0.004360730759799,-0.147045716643333,-0.027042368426919,-0.228083342313766,0.120155178010464,-0.034799035638571,-0.005984463263303,-0.036299951374531,-0.103757299482822,-0.035229414701462,0.072544321417809,0.150607883930206,-0.073222413659096,0.008475909009576));
res += mul(Get(s0,dx,dy), float4x4(-0.013673759065568,0.031461060047150,0.083563089370728,-0.121791429817677,0.074876196682453,-0.152276396751404,0.041675761342049,-0.048211466521025,0.005477521102875,-0.093737892806530,0.117451436817646,-0.069472379982471,-0.146244555711746,0.086485750973225,0.149909391999245,0.030615964904428));
res += mul(Get(s1,-dx,-dy), float4x4(0.106182269752026,-0.057368341833353,0.034018620848656,-0.221110492944717,0.224294051527977,-0.093127176165581,0.179148271679878,0.012006439268589,0.022065337747335,-0.018303351476789,-0.024376448243856,0.104659959673882,0.037699561566114,0.069940932095051,0.063880495727062,0.218005493283272));
res += mul(Get(s1,-dx,0), float4x4(-0.060513209551573,0.152128741145134,0.093131244182587,0.017245270311832,-0.067802295088768,-0.028765488415956,0.091717600822449,-0.095133505761623,-0.146477684378624,-0.025891803205013,-0.143104702234268,0.074392966926098,0.079193100333214,0.210465088486671,0.050360187888145,-0.030040636658669));
res += mul(Get(s1,-dx,dy), float4x4(0.069306455552578,0.065338425338268,0.140685871243477,0.005738601088524,0.044373039156199,-0.044871956110001,-0.007140174973756,0.043447997421026,-0.193944796919823,-0.107073374092579,0.118043549358845,-0.093915954232216,-0.055245023220778,-0.063501432538033,0.136322721838951,-0.004907735157758));
res += mul(Get(s1,0,-dy), float4x4(-0.129632651805878,-0.065016113221645,0.063818238675594,-0.041900206357241,-0.046447407454252,-0.000605021195952,-0.146343097090721,0.030203344300389,-0.001845951308496,-0.062121674418449,-0.077527895569801,0.106902629137039,-0.133243739604950,0.025669697672129,-0.046420339494944,0.060115084052086));
res += mul(Get(s1,0,0), float4x4(0.102630414068699,-0.072734303772449,-0.176689997315407,0.145998165011406,0.108885630965233,-0.048579584807158,-0.053839463740587,0.047306489199400,0.099275738000870,-0.037427064031363,0.072583355009556,-0.116781406104565,0.112990625202656,-0.141781151294708,0.139478206634521,0.048803195357323));
res += mul(Get(s1,0,dy), float4x4(-0.007387521676719,-0.054421342909336,0.025269240140915,-0.065699920058250,0.088703416287899,0.160086661577225,0.038904421031475,-0.061438925564289,0.041453436017036,-0.076623611152172,0.045110706239939,-0.010712446644902,-0.134410113096237,0.017354201525450,0.076222561299801,-0.112914092838764));
res += mul(Get(s1,dx,-dy), float4x4(0.014488277956843,0.021170465275645,-0.051100414246321,-0.044226400554180,-0.161267042160034,-0.064841598272324,-0.104597225785255,-0.045940399169922,-0.057393211871386,0.065210349857807,-0.015756705775857,-0.149448573589325,-0.002490056212991,0.044345643371344,0.145477801561356,0.224106073379517));
res += mul(Get(s1,dx,0), float4x4(0.116209715604782,0.175674930214882,-0.049692295491695,0.013761237263680,-0.019552549347281,0.088862605392933,0.058148894459009,-0.066665641963482,-0.106020443141460,0.079773969948292,0.046265922486782,-0.053175922483206,-0.067993789911270,0.239728242158890,0.274614423513412,0.057941049337387));
res += mul(Get(s1,dx,dy), float4x4(-0.033727481961250,-0.009130126796663,-0.267208635807037,-0.148791179060936,0.042351521551609,-0.181606799364090,0.023977603763342,0.030045239254832,-0.097412534058094,0.067012421786785,-0.099058084189892,-0.005051752552390,-0.044331669807434,0.021030168980360,0.050797093659639,0.028596082702279));
res += mul(Get(s2,-dx,-dy), float4x4(-0.147230520844460,-0.084585651755333,-0.020344033837318,-0.099023997783661,0.133876621723175,0.059268690645695,0.022414572536945,-0.047620948404074,0.066425316035748,-0.217175245285034,0.068596899509430,-0.010118208825588,-0.009659045375884,-0.214487120509148,0.038931548595428,0.013946943916380));
res += mul(Get(s2,-dx,0), float4x4(-0.222327306866646,-0.020489204674959,0.141144946217537,0.033253606408834,0.094686746597290,-0.029981514438987,-0.140552982687950,0.191921338438988,0.047429695725441,0.174336507916451,0.043841701000929,-0.073882855474949,0.068833373486996,0.005913301371038,0.313965916633606,-0.149289667606354));
res += mul(Get(s2,-dx,dy), float4x4(0.113025069236755,-0.072530694305897,-0.020869413390756,0.067573606967926,-0.026408785954118,0.020105460658669,0.001499771839008,0.014637295156717,0.225087642669678,0.127383962273598,0.075612455606461,-0.162828907370567,0.012329313904047,0.108716472983360,-0.118530042469501,0.146364718675613));
res += mul(Get(s2,0,-dy), float4x4(-0.004659446887672,0.087008610367775,0.020936181768775,0.017381330952048,0.050583921372890,0.237296283245087,-0.120680212974548,0.018959099426866,-0.111625202000141,0.021972533315420,-0.072845496237278,-0.134799927473068,-0.139209285378456,0.003174059092999,0.102989777922630,0.042111270129681));
res += mul(Get(s2,0,0), float4x4(-0.077652923762798,-0.031060060486197,0.129179447889328,-0.039013121277094,-0.091782718896866,0.079550482332706,0.051223669201136,-0.066328726708889,-0.056683383882046,0.007798317819834,-0.003868457861245,0.108004353940487,-0.023159133270383,0.027616444975138,-0.062645502388477,0.090166412293911));
res += mul(Get(s2,0,dy), float4x4(0.002558375243098,-0.059535793960094,-0.094460979104042,-0.031599454581738,0.036146208643913,0.073299624025822,0.073233738541603,0.009549060836434,-0.180707558989525,-0.026074951514602,0.121735893189907,0.021707246080041,0.127550899982452,-0.047576662153006,-0.047319997102022,-0.081179335713387));
res += mul(Get(s2,dx,-dy), float4x4(-0.170370206236839,0.064125187695026,0.145306229591370,-0.149587303400040,0.021546263247728,0.171826466917992,0.094004757702351,-0.076327934861183,0.046086635440588,-0.073859721422195,0.054461933672428,0.154103592038155,0.086524665355682,0.051782734692097,0.103476308286190,0.183600142598152));
res += mul(Get(s2,dx,0), float4x4(0.007487094029784,-0.200851753354073,0.025539247319102,0.006307296454906,-0.120015129446983,-0.187462747097015,0.058143910020590,0.105410948395729,-0.106246359646320,-0.106520697474480,-0.100342273712158,-0.100961044430733,0.084970615804195,-0.206472620368004,-0.012679785490036,0.041263610124588));
res += mul(Get(s2,dx,dy), float4x4(0.145631611347198,-0.109074227511883,-0.035885907709599,-0.137306958436966,0.073802001774311,-0.042866513133049,0.191801771521568,-0.066551968455315,-0.015508978627622,0.090059146285057,-0.066797517240047,-0.108662374317646,-0.059545170515776,0.004958709701896,0.064817093312740,-0.147478774189949));
res += mul(Get(s3,-dx,-dy), float4x4(-0.159938499331474,-0.157541498541832,-0.125405132770538,0.099191494286060,0.074526920914650,0.014586766250432,-0.032374799251556,0.021824046969414,-0.160330623388290,-0.068314149975777,0.098199009895325,0.013837530277669,0.200569584965706,0.115300700068474,-0.136984810233116,-0.109732769429684));
res += mul(Get(s3,-dx,0), float4x4(0.007813483476639,0.065038517117500,0.018530704081059,-0.048067659139633,-0.007258305326104,0.064038686454296,-0.047712203115225,0.092690981924534,0.076678574085236,-0.069322019815445,0.034738764166832,0.150542855262756,-0.088647902011871,0.077075816690922,0.113844580948353,-0.026569485664368));
res += mul(Get(s3,-dx,dy), float4x4(0.181284278631210,0.023194216191769,0.000885885441676,-0.015303581953049,0.135536864399910,0.065319553017616,-0.048668012022972,0.030244279652834,0.089421264827251,0.141324743628502,0.049788456410170,0.251056164503098,-0.101741991937160,-0.174073308706284,-0.048109296709299,-0.095895469188690));
res += mul(Get(s3,0,-dy), float4x4(-0.005208443384618,-0.060497846454382,-0.077087342739105,-0.180183932185173,-0.049754001200199,-0.076359294354916,0.014883523806930,0.016883214935660,0.167586714029312,0.086453884840012,0.074919827282429,-0.095030620694160,-0.054923154413700,0.163339689373970,-0.008039976470172,-0.143891990184784));
res += mul(Get(s3,0,0), float4x4(0.061355918645859,0.074276253581047,-0.017456747591496,-0.008493172936141,0.080705113708973,0.155191421508789,0.025844912976027,-0.180274069309235,0.043577510863543,-0.116682052612305,0.326265692710876,-0.055776137858629,0.046969797462225,-0.107166819274426,0.019004449248314,-0.055293552577496));
res += mul(Get(s3,0,dy), float4x4(0.028944192454219,0.062946394085884,0.051219195127487,0.112463966012001,-0.012198700569570,0.089622244238853,-0.186753407120705,-0.127874553203583,0.013638785108924,-0.077922672033310,-0.010897989384830,0.099629938602448,-0.009158251807094,0.099550887942314,0.120803460478783,0.082905240356922));
res += mul(Get(s3,dx,-dy), float4x4(-0.024634853005409,0.147789523005486,0.033832289278507,-0.088080964982510,0.090014792978764,0.110648654401302,-0.146401003003120,-0.009257112629712,0.062596477568150,0.024843700230122,-0.051213685423136,0.108908481895924,-0.199133902788162,-0.065762937068939,-0.088722847402096,0.149939745664597));
res += mul(Get(s3,dx,0), float4x4(0.048900388181210,0.072619698941708,-0.012269846163690,-0.010111608542502,0.116175621747971,0.081470243632793,0.137805864214897,-0.100649416446686,-0.193533465266228,-0.109085269272327,-0.098047375679016,-0.050138503313065,-0.097847759723663,-0.199262455105782,0.114594548940659,-0.029272587969899));
res += mul(Get(s3,dx,dy), float4x4(0.177473351359367,0.092188686132431,-0.007946564815938,0.074428752064705,0.037917748093605,0.149918228387833,-0.098272487521172,0.227776050567627,0.004327746108174,-0.096406377851963,-0.153581842780113,0.092984795570374,-0.027979731559753,0.025479374453425,-0.204717308282852,0.047527946531773));
return max(float4(0,0,0,0), res);
}
