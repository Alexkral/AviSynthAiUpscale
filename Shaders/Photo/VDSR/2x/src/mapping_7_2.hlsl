sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.019892990589142,-0.049985136836767,-0.147990316152573,0.050224713981152,0.006202896591276,-0.042505707591772,-0.090689010918140,0.034532357007265,0.017586594447494,0.029526401311159,-0.057136356830597,0.016959248110652,0.014293082058430,-0.067489966750145,-0.061726894229650,-0.064210176467896));
res += mul(Get(s0,-dx,0), float4x4(-0.063751406967640,-0.035426564514637,-0.114989094436169,-0.113866366446018,-0.022155370563269,-0.047911409288645,0.006019740831107,-0.000877789861988,-0.021420851349831,-0.046362839639187,-0.076866172254086,0.016026131808758,0.024992845952511,-0.014199366793036,-0.152919575572014,-0.075628928840160));
res += mul(Get(s0,-dx,dy), float4x4(-0.128885909914970,-0.051254842430353,-0.104032874107361,0.058098480105400,-0.121391780674458,-0.027641218155622,0.058688666671515,0.038630750030279,-0.058412130922079,-0.006786159239709,0.013808689080179,0.019332371652126,0.052999544888735,0.068858824670315,-0.082894891500473,0.031575050204992));
res += mul(Get(s0,0,-dy), float4x4(0.068024285137653,-0.132262811064720,-0.103688366711140,-0.005931467283517,-0.030507449060678,0.121969625353813,0.007858749479055,-0.047823652625084,0.185245826840401,0.012271274812520,0.031718567013741,-0.029254697263241,0.019241455942392,0.177530646324158,0.114010415971279,0.063734650611877));
res += mul(Get(s0,0,0), float4x4(-0.109026394784451,-0.004578335676342,-0.014221644960344,0.151438921689987,0.122894883155823,0.018779536709189,0.033910740166903,-0.100872062146664,-0.011295473203063,-0.005422456655651,0.063288055360317,-0.088030435144901,-0.121368907392025,0.124009907245636,0.089536748826504,-0.011166826821864));
res += mul(Get(s0,0,dy), float4x4(-0.012553466483951,-0.074515782296658,0.074714630842209,0.089683748781681,-0.003552956273779,-0.051810365170240,0.051378749310970,0.006156275048852,0.085316203534603,-0.015646034851670,-0.022564755752683,-0.028482776135206,0.080050751566887,-0.041312109678984,0.027471687644720,0.091449387371540));
res += mul(Get(s0,dx,-dy), float4x4(-0.030448546633124,-0.005181742832065,-0.043235126882792,0.010362055152655,-0.027261462062597,-0.043102350085974,-0.017788551747799,0.030805055052042,0.023738492280245,-0.042185038328171,0.052780427038670,0.022112578153610,0.040603037923574,0.018397113308311,-0.074781872332096,-0.052904188632965));
res += mul(Get(s0,dx,0), float4x4(-0.055839095264673,-0.084596566855907,-0.018395181745291,0.039349913597107,0.055943399667740,-0.123300872743130,0.083002291619778,-0.035469308495522,-0.114752098917961,-0.049236103892326,0.044490739703178,0.000949594017584,-0.067306779325008,-0.072509407997131,-0.129122734069824,0.060500498861074));
res += mul(Get(s0,dx,dy), float4x4(0.041215188801289,0.018830560147762,0.026553111150861,0.075149998068810,-0.084093809127808,-0.048428647220135,0.146506741642952,0.003356418106705,-0.014215921983123,-0.186072587966919,-0.043334554880857,0.113611504435539,0.129866704344749,-0.050643168389797,-0.007514783646911,-0.031369090080261));
res += mul(Get(s1,-dx,-dy), float4x4(-0.028521668165922,-0.050360042601824,-0.036586824804544,0.068177103996277,-0.016130056232214,0.057854238897562,0.090327829122543,-0.043226763606071,0.094478741288185,0.031967122107744,0.052133087068796,-0.008778642863035,0.001150923082605,-0.090985469520092,-0.024394923821092,0.088271245360374));
res += mul(Get(s1,-dx,0), float4x4(0.088260844349861,0.067020617425442,-0.204982563853264,-0.075659468770027,0.064914189279079,0.041664123535156,0.080322444438934,0.078488424420357,0.028861647471786,-0.029870372265577,0.019662450999022,0.015237252227962,0.219868838787079,-0.040937088429928,-0.207116886973381,0.154165714979172));
res += mul(Get(s1,-dx,dy), float4x4(-0.111820198595524,0.084383748471737,0.031733214855194,0.068964198231697,0.157891660928726,-0.100613452494144,0.092543564736843,0.007509144954383,0.028820283710957,0.041358985006809,0.171458750963211,-0.058034170418978,0.101233541965485,0.004724370315671,-0.098801426589489,0.141711652278900));
res += mul(Get(s1,0,-dy), float4x4(-0.049482498317957,-0.153236687183380,-0.088471099734306,0.087516799569130,0.175779297947884,-0.021384296938777,-0.093021370470524,-0.039197940379381,0.103227168321609,-0.018561109900475,-0.033027011901140,-0.092565812170506,0.048350729048252,0.049111470580101,-0.037036903202534,-0.037333603948355));
res += mul(Get(s1,0,0), float4x4(-0.043000537902117,-0.074341461062431,-0.066863335669041,0.056902315467596,0.062679655849934,0.014033641666174,0.145615667104721,-0.076829135417938,0.100682012736797,0.021817177534103,-0.029198698699474,0.067803561687469,0.132039248943329,-0.006119284778833,-0.024281321093440,0.135113641619682));
res += mul(Get(s1,0,dy), float4x4(0.072331070899963,0.034480046480894,0.107088476419449,0.188664361834526,0.021227255463600,-0.030852839350700,-0.096830047667027,0.049831397831440,0.141447231173515,0.270724564790726,-0.055878132581711,-0.131268739700317,0.184312850236893,0.084124498069286,0.002515858504921,0.087093755602837));
res += mul(Get(s1,dx,-dy), float4x4(-0.006462163291872,-0.013882274739444,0.044755630195141,0.017774200066924,0.104574404656887,-0.088113278150558,0.170501485466957,-0.035724978893995,-0.029502768069506,0.053266569972038,0.017791600897908,-0.075992710888386,0.087592460215092,0.011883058585227,-0.005812963936478,0.025744954124093));
res += mul(Get(s1,dx,0), float4x4(0.032706692814827,-0.074345223605633,-0.029630459845066,-0.068299442529678,0.048720452934504,0.068925805389881,0.054692275822163,-0.136785283684731,-0.111979179084301,-0.016277361661196,0.114555008709431,0.194066911935806,0.033124607056379,-0.007349043153226,-0.006993372924626,0.013519418425858));
res += mul(Get(s1,dx,dy), float4x4(0.043689839541912,-0.026850251480937,0.017439043149352,0.015444133430719,0.035007249563932,0.045645095407963,-0.052711311727762,-0.111735336482525,-0.073114745318890,0.108444221317768,0.010025929659605,-0.123507574200630,0.122928977012634,0.027198961004615,-0.016467446461320,-0.078205816447735));
res += mul(Get(s2,-dx,-dy), float4x4(-0.077871344983578,0.012004915624857,-0.071262545883656,-0.054072760045528,0.032206796109676,0.042731534689665,0.025213839486241,-0.056234553456306,-0.003918601665646,-0.061084724962711,0.025865741074085,-0.057711012661457,0.028062267228961,0.039302106946707,0.033775489777327,-0.033163208514452));
res += mul(Get(s2,-dx,0), float4x4(-0.046701326966286,-0.028632612898946,-0.131789341568947,-0.039356917142868,-0.016817156225443,0.008421488106251,0.088848412036896,0.036002770066261,0.015312992967665,0.027558943256736,0.050325471907854,0.062168613076210,-0.090212538838387,0.014365430921316,0.044985756278038,-0.031591210514307));
res += mul(Get(s2,-dx,dy), float4x4(-0.176633343100548,-0.006741036660969,0.016435688361526,-0.057398974895477,-0.022856436669827,-0.015738345682621,0.009582662023604,-0.084455594420433,-0.085448592901230,0.000206528144190,0.038255494087934,0.002177710412070,-0.045398727059364,0.041917093098164,-0.043006885796785,0.069228701293468));
res += mul(Get(s2,0,-dy), float4x4(0.116473004221916,0.010782117955387,-0.006082338746637,-0.005706304684281,-0.018176648765802,0.001383875962347,0.057090923190117,0.008071781136096,-0.000829085183796,0.024401137605309,0.010850740596652,-0.008336324244738,0.011136358603835,0.274958819150925,-0.056120049208403,-0.037645865231752));
res += mul(Get(s2,0,0), float4x4(0.185793161392212,0.077301740646362,0.011693247593939,-0.083184875547886,-0.015634424984455,0.006909348536283,-0.067145094275475,0.026207195594907,0.202689915895462,-0.097252920269966,0.067957192659378,0.017447788268328,-0.066135838627815,0.078727848827839,0.080888800323009,-0.117681533098221));
res += mul(Get(s2,0,dy), float4x4(0.000138923773193,0.075862050056458,0.231366544961929,-0.025224031880498,0.028126381337643,0.016516258940101,-0.039123479276896,0.022995673120022,-0.059915911406279,-0.038191277533770,0.246748313307762,0.014617991633713,-0.163346499204636,0.070386908948421,0.036510091274977,0.003148224437609));
res += mul(Get(s2,dx,-dy), float4x4(-0.062466837465763,0.134560510516167,-0.045602250844240,0.011531208641827,-0.095359630882740,0.058897633105516,-0.085587583482265,-0.046264167875051,-0.049519643187523,-0.050657376646996,-0.075718127191067,0.016606867313385,-0.144017815589905,0.084451980888844,-0.111400678753853,-0.034807261079550));
res += mul(Get(s2,dx,0), float4x4(-0.041753388941288,-0.030949488282204,0.039346374571323,0.069863170385361,-0.073504529893398,-0.044474534690380,-0.096854031085968,-0.066661268472672,0.065544545650482,-0.112402290105820,0.059344820678234,0.077727243304253,0.046765945851803,-0.070000790059566,-0.091916218400002,0.104701809585094));
res += mul(Get(s2,dx,dy), float4x4(-0.209289371967316,0.081193923950195,0.018210396170616,-0.032253947108984,-0.029574133455753,-0.029451427981257,-0.215532228350639,0.034825190901756,-0.173012360930443,-0.134108245372772,-0.026841338723898,0.161405667662621,-0.008932420052588,-0.040223628282547,0.004179581534117,-0.125507414340973));
res += mul(Get(s3,-dx,-dy), float4x4(-0.093446590006351,0.103524908423424,0.055181365460157,0.003618526039645,-0.094316244125366,0.051064677536488,-0.122387543320656,-0.041708048433065,-0.126217469573021,-0.027602599933743,-0.117963321506977,-0.077881380915642,0.034521419554949,0.071594007313251,0.031976170837879,-0.014788949862123));
res += mul(Get(s3,-dx,0), float4x4(-0.053766161203384,0.016810819506645,-0.154420539736748,-0.024014405906200,0.064882092177868,-0.080903388559818,0.043017920106649,0.056314591318369,-0.002277134452015,0.041726559400558,0.115640871226788,0.122701689600945,0.012995108962059,0.004164859186858,-0.038169942796230,0.058407433331013));
res += mul(Get(s3,-dx,dy), float4x4(-0.001056776847690,0.022576136514544,-0.030909454450011,-0.002452191431075,0.022826900705695,-0.018211781978607,-0.058769449591637,0.142925634980202,-0.048772756010294,-0.054660998284817,-0.014245894737542,-0.065657667815685,0.054883174598217,0.084790229797363,-0.035607375204563,0.043938424438238));
res += mul(Get(s3,0,-dy), float4x4(0.082246936857700,0.033174276351929,-0.112645387649536,-0.040254361927509,0.015923839062452,0.077450238168240,-0.040430463850498,0.020492533221841,-0.132564604282379,0.204869180917740,0.074765354394913,0.019723223522305,-0.013716736808419,-0.048024851828814,-0.056307204067707,0.034270960837603));
res += mul(Get(s3,0,0), float4x4(0.241241097450256,-0.104085296392441,-0.028775518760085,0.044115696102381,-0.108110159635544,-0.145139247179031,0.064788088202477,0.101885542273521,0.052101269364357,0.004948032554239,0.208843052387238,-0.076939724385738,0.055541835725307,-0.010785760357976,-0.057677567005157,0.058569829910994));
res += mul(Get(s3,0,dy), float4x4(0.120261587202549,0.001950422069058,0.042757615447044,-0.041631028056145,-0.109202302992344,0.063302740454674,-0.006338763982058,0.234413191676140,0.015632409602404,-0.106980994343758,0.076884284615517,-0.023932944983244,0.123204432427883,0.086057536303997,-0.029702180996537,-0.031031964346766));
res += mul(Get(s3,dx,-dy), float4x4(0.031033370643854,0.094307139515877,0.041577119380236,-0.045149728655815,0.062964022159576,0.023914299905300,-0.052956182509661,0.048505935817957,-0.029677264392376,0.047589164227247,-0.004737935494632,0.022596785798669,0.065469808876514,-0.036428485065699,-0.020553689450026,-0.065768569707870));
res += mul(Get(s3,dx,0), float4x4(0.126417070627213,0.070803835988045,0.063292957842350,-0.013835620135069,-0.030164390802383,-0.111965358257294,-0.020135089755058,-0.039990827441216,0.095962941646576,0.057529684156179,-0.033752892166376,-0.078996874392033,0.115359038114548,0.000601403298788,-0.030888309702277,-0.001066907891072));
res += mul(Get(s3,dx,dy), float4x4(0.029806002974510,0.014871663413942,0.045225694775581,-0.094108946621418,-0.052081149071455,-0.041188500821590,0.043259978294373,0.182685285806656,-0.173691615462303,-0.097616188228130,0.057878471910954,-0.062541127204895,-0.003328314051032,0.101173460483551,0.016387362033129,-0.084835000336170));
return max(float4(0,0,0,0), res);
}
