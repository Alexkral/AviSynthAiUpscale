sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.010542545467615,-0.073618881404400,0.009975976310670,-0.221725031733513,-0.078765042126179,-0.172666355967522,-0.109748154878616,0.113123536109924,0.013600518926978,0.013416057452559,-0.015892278403044,0.044250775128603,0.033987250179052,0.129646807909012,-0.081478521227837,-0.160549506545067));
res += mul(Get(s0,-dx,0), float4x4(-0.051109910011292,0.077273577451706,-0.236132740974426,0.092000737786293,0.119197815656662,-0.029250537976623,-0.008104193955660,0.063098922371864,0.003882943419740,-0.056487914174795,-0.053460165858269,-0.043558664619923,-0.155336514115334,-0.029914842918515,-0.039988681674004,0.239824593067169));
res += mul(Get(s0,-dx,dy), float4x4(0.069802924990654,0.062370911240578,-0.074961476027966,-0.077824823558331,0.089952230453491,0.033722121268511,-0.056152448058128,-0.014395627193153,-0.105635106563568,0.252258509397507,-0.018808383494616,-0.025696389377117,-0.027449391782284,0.135984495282173,-0.093861363828182,-0.128211304545403));
res += mul(Get(s0,0,-dy), float4x4(-0.139982149004936,-0.139534473419189,-0.162694066762924,0.015806766226888,0.161519840359688,-0.089915670454502,0.165624201297760,0.090008765459061,-0.161340817809105,-0.140358954668045,0.004558802116662,-0.165918052196503,-0.113629318773746,-0.134617537260056,-0.010637958534062,-0.010061624459922));
res += mul(Get(s0,0,0), float4x4(0.027980273589492,0.065031364560127,0.010288201272488,-0.147388443350792,-0.017633145675063,0.015554569661617,0.156178042292595,0.269366830587387,0.110511124134064,-0.040898736566305,0.058122944086790,0.073799923062325,-0.111417181789875,-0.127520710229874,-0.044126253575087,0.084809042513371));
res += mul(Get(s0,0,dy), float4x4(0.098381914198399,-0.142104819417000,0.053244695067406,-0.017864676192403,0.042123742401600,-0.004243638366461,-0.022793056443334,0.099432907998562,-0.041112057864666,-0.097329385578632,-0.136973962187767,0.114886164665222,-0.026082731783390,0.132642269134521,-0.112483322620392,-0.034714233130217));
res += mul(Get(s0,dx,-dy), float4x4(0.232127055525780,0.046848163008690,0.000782181625254,-0.202897042036057,0.006556827109307,0.094785735011101,-0.009773793630302,-0.209890410304070,0.007433831226081,-0.077294275164604,0.079472258687019,-0.164066076278687,0.027806596830487,-0.126063942909241,-0.189365774393082,0.081648886203766));
res += mul(Get(s0,dx,0), float4x4(-0.097613632678986,-0.128417551517487,-0.090452305972576,0.031996406614780,-0.002182835945860,-0.049207795411348,0.159539818763733,-0.106840781867504,-0.064056977629662,-0.023516843095422,0.046664688736200,-0.018628761172295,0.054860308766365,0.087742812931538,-0.148377478122711,0.057316157966852));
res += mul(Get(s0,dx,dy), float4x4(-0.085966639220715,0.034394994378090,0.140791863203049,-0.008487693965435,-0.038219213485718,-0.069045767188072,0.024940190836787,0.021198086440563,0.063210867345333,-0.107078857719898,0.009800446219742,0.021261356770992,-0.108988717198372,-0.144005581736565,-0.020234128460288,-0.070220708847046));
res += mul(Get(s1,-dx,-dy), float4x4(0.038900699466467,0.067090347409248,0.125568270683289,-0.037262719124556,-0.048579763621092,0.078965820372105,-0.087222717702389,-0.272966682910919,0.104181036353111,-0.054313626140356,0.054813731461763,0.002618451369926,0.131800785660744,0.068453975021839,0.163971140980721,0.138058885931969));
res += mul(Get(s1,-dx,0), float4x4(-0.035164281725883,0.092634074389935,0.122184291481972,-0.075403004884720,-0.117917463183403,-0.114100888371468,0.121041685342789,-0.086031228303909,-0.003127825679258,-0.041402012109756,-0.034622348845005,-0.060865234583616,0.055922202765942,-0.002016827464104,0.043769869953394,-0.158344730734825));
res += mul(Get(s1,-dx,dy), float4x4(-0.044062286615372,0.107634708285332,0.032772116363049,0.057734388858080,-0.075588181614876,-0.050033260136843,0.077545486390591,0.056601155549288,0.045271355658770,0.089585959911346,-0.026175038889050,-0.029871933162212,0.134282410144806,0.136856883764267,-0.059830792248249,-0.077920570969582));
res += mul(Get(s1,0,-dy), float4x4(-0.056533157825470,-0.010119395330548,0.051433037966490,-0.008937001228333,-0.191998317837715,0.012097856029868,-0.173113435506821,-0.030095826834440,-0.103472217917442,0.026672372594476,0.085407532751560,0.059263482689857,-0.050580073148012,-0.090049199759960,-0.061609443277121,0.100506067276001));
res += mul(Get(s1,0,0), float4x4(0.046214006841183,-0.103117547929287,-0.182546004652977,0.055493075400591,-0.149419903755188,0.007967085577548,-0.119761519134045,0.015737775713205,-0.057538866996765,0.055606599897146,-0.052470479160547,0.005686088930815,-0.035313591361046,0.034902069717646,0.059217337518930,-0.103083722293377));
res += mul(Get(s1,0,dy), float4x4(0.035125717520714,0.198838800191879,0.055264715105295,-0.062714613974094,0.009654813446105,0.011783477850258,-0.145685955882072,0.005144760943949,-0.048769719898701,-0.020486721768975,-0.000220126617933,-0.048566136509180,0.054009120911360,0.054144319146872,0.081844583153725,-0.038860831409693));
res += mul(Get(s1,dx,-dy), float4x4(0.090836763381958,-0.095184795558453,0.060066748410463,0.228917568922043,0.022260898724198,-0.004933568648994,-0.302634358406067,0.095708861947060,-0.078250125050545,0.066462479531765,-0.052438471466303,-0.091426618397236,0.039117243140936,-0.067262724041939,-0.138241350650787,-0.062477219849825));
res += mul(Get(s1,dx,0), float4x4(-0.188405215740204,0.109995909035206,0.195989668369293,0.073636420071125,-0.033016923815012,0.120424844324589,-0.064275532960892,-0.235328704118729,-0.027136567980051,0.008363577537239,0.097325615584850,-0.033342093229294,0.148335009813309,0.214681237936020,-0.097560495138168,-0.134737968444824));
res += mul(Get(s1,dx,dy), float4x4(0.016581755131483,0.174326881766319,0.033671095967293,0.066308386623859,-0.036229640245438,-0.106329783797264,-0.072832770645618,-0.010098842903972,-0.063369892537594,0.090507365763187,-0.042218666523695,0.024906810373068,0.170844629406929,-0.171441107988358,0.006677807308733,-0.044146228581667));
res += mul(Get(s2,-dx,-dy), float4x4(0.034861154854298,-0.033845815807581,0.083059526979923,0.022848714143038,0.000032316624129,-0.072355069220066,-0.182566508650780,-0.021616308018565,-0.005150577053428,-0.022259850054979,-0.116495020687580,0.039026655256748,0.047889504581690,-0.056726813316345,0.213109284639359,-0.040346942842007));
res += mul(Get(s2,-dx,0), float4x4(-0.048629350960255,0.109741620719433,-0.110607661306858,-0.028646586462855,-0.221322044730186,-0.092038311064243,0.029040297493339,0.178085058927536,0.092485629022121,0.155812725424767,-0.024891654029489,0.012540413998067,-0.023150090128183,-0.003492024494335,-0.014505080878735,0.012741604819894));
res += mul(Get(s2,-dx,dy), float4x4(-0.057511001825333,-0.011685957200825,-0.050366889685392,-0.016051396727562,-0.042551461607218,0.107401922345161,0.154453873634338,0.054596420377493,0.087078221142292,0.286193549633026,0.058670200407505,0.151706397533417,-0.072676122188568,-0.056675944477320,-0.046985872089863,-0.087247610092163));
res += mul(Get(s2,0,-dy), float4x4(-0.306693375110626,-0.091337658464909,-0.084169887006283,-0.032480280846357,0.056892625987530,0.023230956867337,0.038110520690680,0.157824337482452,-0.089419953525066,-0.053430985659361,0.004410246387124,-0.064963780343533,-0.014787865802646,-0.068072400987148,0.001376657397486,-0.108007825911045));
res += mul(Get(s2,0,0), float4x4(-0.019657846540213,0.032923594117165,-0.042750772088766,0.061636563390493,0.026475602760911,0.137860581278801,-0.004560781177133,0.021657900884748,-0.045012541115284,-0.043474961072206,-0.117366306483746,0.010815612040460,0.003270494518802,-0.044601097702980,0.100118413567543,0.012849659658968));
res += mul(Get(s2,0,dy), float4x4(-0.068799175322056,-0.004073767922819,-0.074180282652378,0.126286059617996,-0.105244010686874,-0.079086966812611,-0.005635221023113,-0.068779662251472,0.093495100736618,0.020827792584896,-0.174701899290085,0.215521767735481,0.151957944035530,-0.020601022988558,0.106241405010223,0.059552188962698));
res += mul(Get(s2,dx,-dy), float4x4(-0.095025613903999,0.048864420503378,-0.123168736696243,-0.052172254770994,-0.091889925301075,-0.120831124484539,-0.155666083097458,0.077952817082405,0.058041267096996,0.093223325908184,-0.040582075715065,-0.005012296605855,-0.057289399206638,-0.033988799899817,0.216976121068001,-0.067558065056801));
res += mul(Get(s2,dx,0), float4x4(0.039198648184538,0.014356219209731,-0.078623175621033,-0.027427705004811,0.043287377804518,-0.058567959815264,0.130009248852730,-0.115662172436714,-0.058888528496027,0.039356488734484,0.107317946851254,-0.225440993905067,-0.098311260342598,0.058197595179081,0.392880022525787,0.037999972701073));
res += mul(Get(s2,dx,dy), float4x4(-0.055998869240284,-0.015300787985325,0.002746799262241,0.166649028658867,-0.046561244875193,0.044715762138367,-0.057712726294994,0.192655310034752,0.045171130448580,-0.033428482711315,0.031863689422607,0.223733887076378,-0.077420316636562,0.026648331433535,0.018555216491222,0.008923890069127));
res += mul(Get(s3,-dx,-dy), float4x4(-0.100832119584084,0.111130632460117,-0.056210067123175,0.074447616934776,-0.046290755271912,0.049477249383926,0.062873154878616,0.056883703917265,0.089180707931519,0.037928305566311,0.023562040179968,0.080380342900753,-0.097352504730225,-0.035273980349302,-0.042213369160891,-0.089759171009064));
res += mul(Get(s3,-dx,0), float4x4(0.197993502020836,-0.006749633233994,0.085799857974052,-0.116249121725559,-0.115244030952454,0.044393856078386,0.132034093141556,-0.101635746657848,-0.075186342000961,0.014834270812571,-0.014017482288182,0.067593090236187,-0.006167167332023,0.080681607127190,-0.076841205358505,-0.095758318901062));
res += mul(Get(s3,-dx,dy), float4x4(-0.021282244473696,0.073273517191410,-0.013679087162018,-0.207926407456398,0.060049910098314,-0.215665876865387,-0.114042468369007,0.202022239565849,-0.181611806154251,-0.044152196496725,0.037548288702965,0.019500277936459,-0.027855215594172,0.045448243618011,-0.095222406089306,0.040276087820530));
res += mul(Get(s3,0,-dy), float4x4(0.137781471014023,-0.055528648197651,0.007110447157174,-0.086789920926094,-0.087573170661926,0.024845832958817,-0.040758579969406,-0.019644869491458,-0.013646428473294,0.037264429032803,-0.028525115922093,0.026204351335764,-0.192955419421196,0.238091111183167,0.063637912273407,-0.046887680888176));
res += mul(Get(s3,0,0), float4x4(-0.088184416294098,-0.051524031907320,0.021757910028100,0.079835548996925,0.043273560702801,0.032436762005091,-0.126810207962990,-0.040894709527493,0.123138323426247,-0.159591913223267,0.024092409759760,0.229358434677124,-0.056199036538601,0.097189381718636,0.196327298879623,-0.136419832706451));
res += mul(Get(s3,0,dy), float4x4(0.035403370857239,-0.027434123679996,0.026727519929409,0.074288278818130,-0.217215090990067,0.043142680078745,-0.075366117060184,0.047773420810699,-0.055226907134056,0.108600750565529,0.046369131654501,0.090435899794102,0.170950293540955,-0.010878090746701,-0.180573701858521,0.002650294452906));
res += mul(Get(s3,dx,-dy), float4x4(-0.195306122303009,0.015715945512056,0.142189756035805,-0.136173173785210,-0.006056956481189,-0.110873416066170,-0.089156731963158,0.016558771952987,-0.040607359260321,0.039658438414335,-0.070712238550186,-0.025411937385798,0.009549479000270,-0.059754233807325,-0.018406923860312,-0.045019675046206));
res += mul(Get(s3,dx,0), float4x4(0.143852114677429,0.068551756441593,0.098912671208382,-0.096358597278595,-0.043369747698307,-0.051676008850336,-0.016655033454299,-0.017817098647356,-0.183690190315247,0.041508637368679,0.072026103734970,0.147465974092484,-0.172625824809074,0.012779532931745,-0.134633272886276,0.068131886422634));
res += mul(Get(s3,dx,dy), float4x4(-0.075888611376286,-0.081815116107464,-0.143794327974319,-0.047161020338535,0.026013158261776,-0.074816897511482,0.024930724874139,-0.018493976444006,-0.224888727068901,-0.273368507623672,0.123705178499222,0.232438236474991,-0.029524074867368,-0.088230833411217,-0.153020694851875,-0.118766523897648));
return max(float4(0,0,0,0), res);
}
