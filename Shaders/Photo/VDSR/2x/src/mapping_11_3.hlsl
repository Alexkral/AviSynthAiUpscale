sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.090802654623985,-0.013683918863535,-0.046957559883595,-0.055174555629492,0.020164400339127,0.002667858731002,0.020531542599201,-0.142086327075958,-0.049285944551229,-0.063408076763153,-0.063912063837051,0.050588604062796,-0.108081996440887,-0.039490379393101,0.034473367035389,0.120236262679100));
res += mul(Get(s0,-dx,0), float4x4(0.048414729535580,-0.089481092989445,0.002317395061255,-0.045459683984518,0.049383573234081,0.036295797675848,-0.045570690184832,-0.114491194486618,-0.090481549501419,0.053024619817734,0.022474417462945,0.149494364857674,-0.188975259661674,0.014544764533639,-0.025942217558622,0.115502879023552));
res += mul(Get(s0,-dx,dy), float4x4(0.145810022950172,-0.091839611530304,0.067267321050167,-0.012039143592119,-0.090173259377480,-0.091352887451649,0.014341933652759,-0.108324691653252,-0.091321252286434,-0.034323386847973,-0.059704098850489,0.041230451315641,-0.117931395769119,0.015617079101503,-0.026363294571638,0.057434048503637));
res += mul(Get(s0,0,-dy), float4x4(0.099391579627991,0.084677174687386,-0.025358894839883,-0.025401500985026,-0.008697352372110,0.066330961883068,-0.079979322850704,-0.051817681640387,0.062428336590528,-0.066456273198128,0.003125444054604,-0.091734871268272,0.052812013775110,-0.058503318578005,-0.017955306917429,-0.175618112087250));
res += mul(Get(s0,0,0), float4x4(0.100652769207954,-0.025234384462237,0.016135368496180,0.037005331367254,0.055283743888140,0.082367621362209,-0.052415244281292,0.023256262764335,-0.004050359129906,0.057055253535509,0.024885984137654,0.035096257925034,-0.051879268139601,-0.047436658293009,-0.043701600283384,-0.035365328192711));
res += mul(Get(s0,0,dy), float4x4(-0.040296576917171,0.000524634728208,0.138681396842003,0.034582182765007,-0.082000024616718,-0.089406169950962,-0.015357965603471,0.127504348754883,0.007045388687402,0.061746753752232,-0.051541257649660,-0.125284165143967,0.119189038872719,-0.064839102327824,-0.062075756490231,-0.107078790664673));
res += mul(Get(s0,dx,-dy), float4x4(0.072123862802982,-0.010883932933211,0.046073507517576,-0.001610231120139,-0.100113660097122,0.068301633000374,-0.075836256146431,0.044282969087362,0.014664020389318,-0.037275202572346,-0.032959584146738,-0.075180597603321,0.150015234947205,0.058275327086449,0.030507141724229,-0.141836449503899));
res += mul(Get(s0,dx,0), float4x4(-0.037983383983374,0.001183939049952,-0.061692532151937,-0.004571824800223,0.033169221132994,0.120043389499187,-0.002044224413112,0.099293507635593,-0.011269712820649,-0.021548792719841,-0.030763791874051,0.047928139567375,0.097364485263824,0.074409388005733,0.161496117711067,-0.078852355480194));
res += mul(Get(s0,dx,dy), float4x4(0.046014491468668,0.054103456437588,0.019472299143672,-0.020819801837206,0.014381761662662,-0.019697297364473,-0.093013301491737,-0.010433415882289,-0.016277991235256,-0.054259173572063,0.039502274245024,0.038676436990499,0.073267117142677,0.045864526182413,0.158250570297241,-0.125102058053017));
res += mul(Get(s1,-dx,-dy), float4x4(0.041784141212702,-0.002976214513183,-0.040904458612204,-0.111757218837738,0.027328718453646,0.019289243966341,0.010697617195547,-0.012635118328035,-0.074624434113503,0.169377058744431,-0.012261278927326,-0.070012755692005,-0.010608504526317,-0.099569395184517,0.030245548114181,-0.097065649926662));
res += mul(Get(s1,-dx,0), float4x4(-0.076183877885342,0.015210847370327,0.050803013145924,-0.125021085143089,-0.029249586164951,0.001871569547802,-0.008708303794265,-0.073816858232021,0.014533411711454,-0.028312642127275,-0.018523700535297,-0.015520637854934,0.147015854716301,0.011761570349336,0.015234180726111,-0.050898436456919));
res += mul(Get(s1,-dx,dy), float4x4(-0.054840549826622,0.012172165326774,0.042719952762127,-0.152989953756332,0.011083236895502,-0.017545174807310,-0.044290658086538,-0.082497872412205,-0.043379437178373,-0.022665999829769,0.078244820237160,-0.085206307470798,0.017214817926288,0.088790751993656,-0.100739859044552,-0.094997063279152));
res += mul(Get(s1,0,-dy), float4x4(0.215424537658691,-0.012611011043191,-0.030675303190947,-0.077560640871525,0.019885214045644,0.008101337589324,-0.038629487156868,0.013069744221866,-0.033869050443172,0.030874308198690,0.013976179063320,-0.040835890918970,-0.067858114838600,0.045816261321306,-0.114276386797428,0.074122726917267));
res += mul(Get(s1,0,0), float4x4(-0.007333028130233,-0.044923573732376,0.224592253565788,-0.113639689981937,0.002769414801151,0.056367706507444,-0.027605790644884,-0.008922253735363,-0.098065741360188,-0.094365395605564,-0.112000465393066,0.024226387962699,-0.000815706793219,-0.052612707018852,0.008610008284450,-0.013053924776614));
res += mul(Get(s1,0,dy), float4x4(0.048539839684963,-0.055723365396261,0.071186304092407,-0.094347685575485,0.030176442116499,-0.011161570437253,0.033657994121313,-0.033169940114021,-0.048248495906591,-0.051875304430723,0.050606589764357,0.013828191906214,0.025146123021841,0.025782460346818,-0.059987396001816,-0.035694576799870));
res += mul(Get(s1,dx,-dy), float4x4(-0.046806726604700,-0.024897847324610,-0.084426119923592,-0.011702386662364,0.065671652555466,-0.036008439958096,-0.064545877277851,-0.027066497132182,0.022732635959983,0.006804459262639,-0.018417865037918,-0.022017380222678,-0.036569371819496,-0.059586860239506,-0.039295881986618,0.016425671055913));
res += mul(Get(s1,dx,0), float4x4(0.000224594914471,-0.045894593000412,0.055591393262148,-0.054819915443659,0.083555221557617,-0.024325994774699,-0.056916244328022,-0.071089103817940,0.043446518480778,-0.038913052529097,0.027436528354883,0.187333852052689,-0.012488797307014,0.020749645307660,0.118590839207172,0.050922308117151));
res += mul(Get(s1,dx,dy), float4x4(0.014557065442204,0.018416596576571,0.115575440227985,-0.095566727221012,0.033637519925833,-0.016776317730546,-0.031646944582462,-0.046380717307329,-0.068534307181835,0.060141108930111,0.172076717019081,0.046244870871305,-0.048231478780508,0.062001056969166,0.027838882058859,0.053567759692669));
res += mul(Get(s2,-dx,-dy), float4x4(0.058677028864622,0.070943608880043,0.007220569532365,0.124169230461121,-0.035752307623625,0.117809124290943,-0.079855218529701,-0.052817456424236,0.024091051891446,-0.026572221890092,-0.026027658954263,-0.052890300750732,0.000627724337392,0.088968798518181,0.059653397649527,0.028634825721383));
res += mul(Get(s2,-dx,0), float4x4(-0.028066828846931,-0.070044949650764,0.009320688433945,0.027489697560668,-0.036271285265684,0.144538596272469,-0.064939074218273,-0.065768204629421,0.101764671504498,-0.032931480556726,0.023079117760062,0.001112970989197,0.114480383694172,-0.009712852537632,-0.028580227866769,0.060280762612820));
res += mul(Get(s2,-dx,dy), float4x4(-0.078831031918526,-0.160057783126831,0.082965090870857,-0.053650692105293,0.072558037936687,-0.021289803087711,0.049884364008904,-0.131269142031670,0.035624533891678,-0.065549954771996,0.173967480659485,-0.088570289313793,-0.057514529675245,0.006067018955946,0.015546430833638,-0.024452667683363));
res += mul(Get(s2,0,-dy), float4x4(-0.064327843487263,0.059780485928059,0.057137545198202,-0.069966971874237,0.065289311110973,0.271325051784515,0.005280727520585,0.050176914781332,0.028255181387067,-0.008121190592647,-0.059762284159660,0.146899417042732,-0.006679429206997,0.113881833851337,-0.018966825678945,-0.012902857735753));
res += mul(Get(s2,0,0), float4x4(0.081880889832973,0.067687503993511,-0.103346630930901,-0.007559882942587,0.020375359803438,0.091289967298508,-0.081338331103325,0.036820285022259,0.059472497552633,-0.100667700171471,0.012730098329484,0.072868026793003,0.131700918078423,-0.026207907125354,-0.055052708834410,0.023155678063631));
res += mul(Get(s2,0,dy), float4x4(0.036118406802416,-0.039597332477570,0.060355536639690,0.013927743770182,0.087266482412815,0.029179979115725,-0.069107152521610,0.003026410471648,0.083835832774639,-0.029663866385818,0.030467489734292,0.070749819278717,-0.047821823507547,0.009776417165995,0.179683893918991,-0.064507044851780));
res += mul(Get(s2,dx,-dy), float4x4(0.087025202810764,0.063811495900154,0.036543697118759,-0.013955395668745,-0.002466497244313,0.214811831712723,0.022824317216873,0.125568911433220,-0.078591138124466,-0.085937157273293,-0.058083686977625,0.097428150475025,0.056495141237974,-0.034623399376869,-0.007410710211843,-0.085123747587204));
res += mul(Get(s2,dx,0), float4x4(0.016340345144272,-0.016032729297876,0.095271289348602,0.024479940533638,0.030185438692570,0.144858345389366,0.037923086434603,0.046013344079256,-0.004173760768026,-0.112972706556320,-0.052012246102095,0.069834016263485,-0.060216937214136,0.028905946761370,-0.035367920994759,0.039761055260897));
res += mul(Get(s2,dx,dy), float4x4(-0.042970985174179,-0.035997118800879,-0.033015843480825,-0.084116309881210,0.073354922235012,0.076271034777164,-0.044196341186762,-0.038935270160437,0.003628708189353,-0.079167693853378,-0.050851777195930,-0.040284611284733,0.000268976902589,0.076016843318939,0.018183642998338,0.068569295108318));
res += mul(Get(s3,-dx,-dy), float4x4(0.104634799063206,0.018681323155761,0.061565905809402,-0.051072176545858,-0.058538399636745,-0.010589406825602,0.029359534382820,0.085020788013935,-0.102359108626842,-0.188965231180191,-0.006386979948729,-0.029522508382797,-0.123496122658253,-0.098859101533890,0.019026840105653,0.065790608525276));
res += mul(Get(s3,-dx,0), float4x4(0.020548000931740,-0.010918867774308,0.022612787783146,-0.081828713417053,0.076630458235741,-0.033711362630129,0.045643385499716,0.099436722695827,-0.043657969683409,0.001352612744085,0.032590080052614,0.146585226058960,-0.212093099951744,0.010010856203735,0.105412118136883,-0.016866035759449));
res += mul(Get(s3,-dx,dy), float4x4(-0.062053225934505,-0.066625036299229,-0.118031501770020,0.015249056741595,-0.015098423697054,-0.013328148052096,-0.017640989273787,0.066328421235085,-0.205036967992783,0.046182870864868,-0.061079755425453,0.075918264687061,-0.103914983570576,0.033169742673635,-0.054196696728468,0.036012582480907));
res += mul(Get(s3,0,-dy), float4x4(0.026477256789804,-0.065630905330181,0.019795767962933,0.036434870213270,0.125767320394516,-0.002422558609396,-0.050034485757351,0.044827546924353,0.056122317910194,-0.015748426318169,0.051540449261665,-0.082681506872177,0.003056760411710,0.110739856958389,0.084611795842648,-0.018701547756791));
res += mul(Get(s3,0,0), float4x4(0.054242342710495,0.021601352840662,0.041397906839848,-0.038419738411903,0.111611753702164,0.003013082081452,0.019486799836159,0.028502574190497,0.034723073244095,-0.106357097625732,-0.060878448188305,-0.009621887467802,-0.049000930041075,0.061118021607399,0.043400947004557,0.139808163046837));
res += mul(Get(s3,0,dy), float4x4(0.045912899076939,-0.097902663052082,-0.098598137497902,0.000426535290899,0.012126656249166,0.098670683801174,-0.034939438104630,0.178222402930260,-0.038301374763250,-0.011661028489470,-0.035488177090883,-0.081995941698551,0.055956803262234,0.012729186564684,0.046679228544235,-0.000451704720035));
res += mul(Get(s3,dx,-dy), float4x4(0.016570171341300,-0.118018358945847,0.042069148272276,0.030121527612209,0.095308132469654,0.087338909506798,-0.027140216901898,0.101115569472313,0.018248515203595,-0.080577142536640,-0.015102569945157,0.118792705237865,-0.012505421414971,-0.037100877612829,0.068705327808857,-0.005124555900693));
res += mul(Get(s3,dx,0), float4x4(0.010837023146451,0.077729217708111,0.021981127560139,-0.045495394617319,0.082481838762760,0.008453017100692,-0.032655436545610,0.062860853970051,0.001814344082959,-0.060773864388466,0.160465240478516,-0.000712051114533,0.039122950285673,-0.037749610841274,0.033021073788404,0.063865587115288));
res += mul(Get(s3,dx,dy), float4x4(-0.024826476350427,0.041595432907343,-0.004366667009890,-0.039269413799047,-0.003035539295524,-0.035371199250221,-0.052545681595802,0.011418516747653,0.008553762920201,-0.002107824897394,-0.016661785542965,-0.046705268323421,0.083971373736858,-0.055606033653021,0.073466032743454,-0.007797804661095));
return max(float4(0,0,0,0), res);
}
