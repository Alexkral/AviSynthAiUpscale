sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.083884753286839,-0.005364080425352,0.122933454811573,0.159391522407532,0.077558487653732,0.012495475821197,-0.122098334133625,-0.024012742564082,0.018253555521369,0.058977480977774,-0.321865230798721,0.074214436113834,-0.108846977353096,0.137744769454002,-0.100890345871449,-0.045696038752794));
res += mul(Get(s0,-dx,0), float4x4(-0.072249531745911,-0.067335866391659,-0.056383874267340,0.008014936931431,0.217009440064430,0.116941109299660,-0.051652684807777,-0.014722953550518,-0.105393312871456,0.148492723703384,-0.008513208478689,0.139712303876877,-0.072530098259449,-0.015957994386554,-0.039401914924383,0.071674838662148));
res += mul(Get(s0,-dx,dy), float4x4(-0.023776443675160,-0.069620221853256,0.007803141139448,-0.016580492258072,-0.082140207290649,-0.167785808444023,-0.036782279610634,0.132158041000366,0.032781358808279,-0.107960075139999,0.168070271611214,0.013470625504851,0.019927231594920,0.075969815254211,0.164691716432571,-0.074087522923946));
res += mul(Get(s0,0,-dy), float4x4(-0.027440598234534,-0.016133524477482,-0.012000301852822,0.161575779318810,0.017533265054226,0.146539673209190,0.042391646653414,0.020103532820940,0.144007652997971,0.207603380084038,0.001458814018406,-0.025586811825633,-0.083318278193474,0.079729668796062,0.009780640713871,-0.174842759966850));
res += mul(Get(s0,0,0), float4x4(0.119737088680267,-0.039813343435526,-0.020065177232027,-0.005302724894136,0.045268822461367,-0.105376243591309,-0.157739609479904,-0.057097461074591,-0.186335697770119,0.047154609113932,0.101479090750217,0.071366436779499,-0.049660053104162,0.082183897495270,0.044167734682560,0.062190495431423));
res += mul(Get(s0,0,dy), float4x4(0.207256868481636,-0.089194014668465,0.030428884550929,-0.089492179453373,-0.012473731301725,0.011413551867008,-0.069132216274738,0.008168591186404,0.023282319307327,-0.029968747869134,-0.012087634764612,0.223728790879250,-0.071657724678516,-0.025920836254954,0.004565276671201,0.020503541454673));
res += mul(Get(s0,dx,-dy), float4x4(-0.031355116516352,0.074863679707050,-0.058831226080656,-0.052457805722952,-0.008001047186553,-0.014376674778759,0.020940121263266,-0.080806590616703,-0.142092287540436,0.150689110159874,0.082007989287376,0.125018566846848,0.145921468734741,0.068607918918133,0.098031111061573,-0.033109299838543));
res += mul(Get(s0,dx,0), float4x4(-0.021661067381501,-0.130411371588707,-0.013285920023918,-0.145438894629478,0.126890704035759,-0.175111725926399,0.048009391874075,-0.110566467046738,0.033602479845285,-0.022678332403302,0.116029277443886,0.069879934191704,0.016363063827157,-0.108763970434666,-0.064152970910072,-0.122705183923244));
res += mul(Get(s0,dx,dy), float4x4(0.018230937421322,-0.202070906758308,0.069541789591312,-0.097241997718811,0.150367230176926,0.050046641379595,-0.028768057003617,0.106701098382473,0.010680702514946,-0.043685331940651,-0.086607590317726,0.135670855641365,-0.011606771498919,0.005991559941322,0.137248516082764,-0.076465517282486));
res += mul(Get(s1,-dx,-dy), float4x4(-0.192793115973473,0.145523235201836,0.071554854512215,-0.063225522637367,0.087862662971020,0.153320908546448,-0.061008423566818,-0.010600894689560,-0.086788661777973,-0.151199966669083,0.085092276334763,0.062450293451548,-0.058276694267988,-0.172407910227776,0.229032471776009,-0.062292665243149));
res += mul(Get(s1,-dx,0), float4x4(0.215406388044357,-0.030226211994886,0.230718120932579,-0.076266728341579,0.047596842050552,0.049794897437096,0.002530493307859,-0.007425939198583,0.032077908515930,-0.170222505927086,-0.062766775488853,0.138284236192703,0.082180209457874,-0.063598141074181,0.167953804135323,0.051012597978115));
res += mul(Get(s1,-dx,dy), float4x4(0.098338112235069,-0.154694736003876,0.029922282323241,-0.144722849130630,0.093053065240383,-0.005759844090790,-0.086406670510769,-0.054713603109121,0.085013359785080,-0.024582451209426,-0.071883067488670,0.039910260587931,0.183554857969284,0.171218365430832,-0.056039456278086,-0.058072812855244));
res += mul(Get(s1,0,-dy), float4x4(-0.054798617959023,0.130443587899208,-0.061946883797646,-0.110549718141556,-0.030241139233112,0.106897242367268,-0.116104677319527,-0.000761248753406,-0.089758940041065,-0.085603021085262,0.052859395742416,-0.036271486431360,-0.116829589009285,-0.071054883301258,-0.004923680797219,-0.037044197320938));
res += mul(Get(s1,0,0), float4x4(0.186410859227180,-0.035187747329473,-0.164590612053871,-0.084153115749359,0.032274994999170,0.146242916584015,0.061984688043594,0.116008818149567,-0.070320300757885,0.109620161354542,-0.062321923673153,-0.030838966369629,0.052428197115660,0.101814426481724,0.007148305419832,0.056774716824293));
res += mul(Get(s1,0,dy), float4x4(0.094991184771061,-0.001877420581877,0.077178329229355,-0.031498320400715,-0.067132107913494,0.052457392215729,0.004197930451483,0.052280087023973,-0.013382466509938,0.013885162770748,0.087483637034893,0.083461515605450,-0.153610929846764,0.079328611493111,0.047677934169769,-0.072219341993332));
res += mul(Get(s1,dx,-dy), float4x4(0.202375188469887,0.115019276738167,-0.019801124930382,-0.073621004819870,0.101949341595173,-0.025484604761004,-0.043322484940290,-0.047316707670689,-0.123075291514397,-0.181280061602592,0.097367785871029,-0.032231103628874,0.004684319254011,-0.006478348281235,-0.097685150802135,-0.149926081299782));
res += mul(Get(s1,dx,0), float4x4(-0.058266241103411,0.006770442705601,0.061091654002666,-0.165420562028885,0.067695103585720,0.097384050488472,-0.024463368579745,0.083928860723972,0.085130453109741,-0.072175830602646,0.122759640216827,-0.120344981551170,-0.013211912475526,0.011281818151474,0.138783037662506,-0.102494567632675));
res += mul(Get(s1,dx,dy), float4x4(0.161720901727676,-0.166482061147690,-0.252257466316223,-0.163184046745300,-0.117688715457916,-0.118378013372421,0.060051098465919,0.101635955274105,0.075189344584942,0.005535163916647,-0.015010600909591,-0.241648569703102,0.055117912590504,-0.009468030184507,0.047867298126221,-0.241258814930916));
res += mul(Get(s2,-dx,-dy), float4x4(-0.079863145947456,0.016218055039644,-0.007902132347226,0.142072513699532,0.044608727097511,-0.055717028677464,0.071510352194309,-0.114153139293194,0.194380208849907,0.014287646859884,0.012596597895026,-0.022497761994600,-0.074477039277554,-0.030201772227883,-0.033605296164751,0.014026122167706));
res += mul(Get(s2,-dx,0), float4x4(0.013142342679203,0.103599928319454,0.050147242844105,0.015420317649841,0.116610571742058,-0.178602203726768,-0.051078978925943,0.154067620635033,0.011280497536063,-0.095708765089512,-0.193303108215332,-0.277240812778473,0.029529558494687,0.022727729752660,0.156024008989334,-0.055224012583494));
res += mul(Get(s2,-dx,dy), float4x4(0.019247347488999,-0.114843904972076,-0.033586051315069,-0.032810535281897,-0.063879445195198,-0.019170973449945,-0.074567787349224,-0.034238636493683,0.055532917380333,-0.005076866596937,-0.026867909356952,-0.007868674583733,0.115848600864410,0.040040832012892,0.043838988989592,0.010588265955448));
res += mul(Get(s2,0,-dy), float4x4(-0.075871236622334,0.159724473953247,-0.072689436376095,-0.000110621993372,-0.039494283497334,-0.032709583640099,0.108418993651867,-0.150287598371506,-0.006149122491479,0.019868645817041,0.035286117345095,-0.044974077492952,-0.017522094771266,-0.104072161018848,-0.166337087750435,-0.001986535964534));
res += mul(Get(s2,0,0), float4x4(-0.122714698314667,-0.099624112248421,0.076042436063290,0.216389596462250,-0.028255818411708,-0.060392279177904,-0.122519671916962,-0.166806384921074,0.074202992022038,0.074595645070076,0.036511626094580,-0.064219430088997,0.168986618518829,0.092876702547073,0.083520501852036,-0.165800407528877));
res += mul(Get(s2,0,dy), float4x4(0.015904447063804,0.070689633488655,0.002760491799563,-0.037086389958858,-0.156840950250626,0.035324826836586,0.028799481689930,-0.085454955697060,-0.168612971901894,-0.005676554981619,-0.017619380727410,-0.136656820774078,-0.180951431393623,0.072582289576530,-0.001544160069898,-0.014428730122745));
res += mul(Get(s2,dx,-dy), float4x4(0.011043561622500,-0.009879811666906,-0.077834121882915,-0.032781466841698,0.211966469883919,-0.057067994028330,-0.120848201215267,-0.130522087216377,0.175627768039703,-0.009739791043103,-0.084260165691376,-0.089583784341812,0.123524755239487,-0.069182351231575,0.048172518610954,-0.079844795167446));
res += mul(Get(s2,dx,0), float4x4(0.072653688490391,0.015863429754972,-0.040140986442566,-0.062933668494225,-0.071454912424088,-0.053469043225050,0.083134554326534,-0.005332496017218,0.047075752168894,0.016643624752760,-0.018744785338640,-0.071123391389847,0.026007486507297,0.093182079493999,-0.035135839134455,-0.002181896008551));
res += mul(Get(s2,dx,dy), float4x4(0.104159481823444,-0.110445089638233,-0.054519582539797,0.038572896271944,0.145602881908417,0.023566726595163,0.002571026794612,-0.057226959615946,0.105333380401134,-0.097784563899040,0.115092784166336,0.067484959959984,0.015244659967721,0.034706957638264,0.098318353295326,-0.158386811614037));
res += mul(Get(s3,-dx,-dy), float4x4(-0.039522875100374,-0.093015357851982,-0.001014153705910,-0.046532552689314,0.003080900525674,-0.030774068087339,-0.003075669286773,0.078934229910374,-0.043600026518106,0.065641820430756,0.052223280072212,-0.121370300650597,-0.102630622684956,-0.064290516078472,0.009082756005228,-0.087123297154903));
res += mul(Get(s3,-dx,0), float4x4(-0.075458154082298,-0.042831726372242,0.059944305568933,-0.286027878522873,-0.057140111923218,-0.016245832666755,-0.133181408047676,-0.012256686575711,0.078537993133068,-0.139978498220444,-0.222761765122414,0.026333181187510,0.038520295172930,-0.000098234202596,0.088972970843315,-0.231159895658493));
res += mul(Get(s3,-dx,dy), float4x4(0.031135989353061,-0.002666359534487,0.054372806102037,-0.155833259224892,0.089368954300880,-0.093569859862328,0.050603508949280,0.146719887852669,0.057536736130714,0.034642212092876,0.055448599159718,-0.043432522565126,-0.170110076665878,0.005911746062338,0.017888959497213,-0.217868834733963));
res += mul(Get(s3,0,-dy), float4x4(-0.044807363301516,0.003290440654382,-0.068659096956253,-0.221766710281372,-0.029487861320376,0.023725725710392,0.016831450164318,-0.063910722732544,0.077297233045101,0.127222627401352,0.032079484313726,-0.060805458575487,-0.263808161020279,0.136880606412888,-0.018810125067830,0.002315641148016));
res += mul(Get(s3,0,0), float4x4(0.111411727964878,-0.120001457631588,-0.226444005966187,0.142059266567230,-0.065706886351109,0.057425919920206,-0.212058290839195,0.140070378780365,0.129384383559227,0.013586411252618,0.092200145125389,0.116917558014393,0.066002480685711,0.016889864578843,0.007600482087582,0.202636867761612));
res += mul(Get(s3,0,dy), float4x4(-0.031497504562140,-0.071942977607250,-0.241539478302002,-0.005868181120604,0.034326747059822,0.175158217549324,0.108126699924469,0.001856218324974,-0.035588577389717,-0.009914406575263,-0.111674584448338,-0.206065088510513,-0.051941342651844,0.003216373501346,0.133586496114731,-0.040356706827879));
res += mul(Get(s3,dx,-dy), float4x4(0.037982646375895,-0.214678764343262,-0.082842484116554,-0.128393933176994,-0.017736233770847,0.035026393830776,-0.028348235413432,0.051373351365328,0.295782834291458,0.016146872192621,0.075393110513687,0.008091023191810,-0.093200482428074,-0.167091667652130,0.079611346125603,0.142837747931480));
res += mul(Get(s3,dx,0), float4x4(0.004773214925081,-0.056732881814241,0.026825189590454,0.039958018809557,0.213096976280212,0.096307240426540,0.030664741992950,-0.090598575770855,-0.069294676184654,-0.068644158542156,-0.004624442197382,-0.090998671948910,-0.106004752218723,0.024204893037677,-0.073260456323624,0.192904293537140));
res += mul(Get(s3,dx,dy), float4x4(0.019302902743220,0.042883295565844,-0.292474389076233,-0.036822818219662,0.164297536015511,0.071666605770588,0.152768850326538,-0.121696405112743,0.159649625420570,-0.098665513098240,-0.033248700201511,-0.044648617506027,-0.133212327957153,-0.005478165112436,0.152098849415779,0.072954833507538));
return max(float4(0,0,0,0), res);
}
