sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002910600975156,0.127580896019936,-0.008284266106784,-0.038182932883501,0.039129909127951,-0.037763636559248,-0.032128918915987,0.005296284332871,-0.007700903341174,-0.004657752811909,0.023985816165805,0.005974513478577,0.017578482627869,0.021306712180376,-0.002740326570347,0.015703430399299));
res += mul(Get(s0,-dx,0), float4x4(-0.069466531276703,-0.013625659979880,0.049554217606783,-0.025093385949731,0.078660175204277,-0.043058712035418,-0.006974964868277,-0.050109636038542,-0.017206776887178,0.043639428913593,0.023855185136199,-0.021582651883364,-0.027642287313938,-0.072510033845901,-0.077427968382835,0.081674478948116));
res += mul(Get(s0,-dx,dy), float4x4(-0.014113380573690,-0.009799630381167,-0.060645829886198,-0.081976845860481,-0.020011939108372,-0.043709889054298,-0.041344396770000,0.015153323300183,-0.007784342858940,0.029544096440077,0.085460066795349,0.023800672963262,-0.037017926573753,0.025515807792544,-0.037284988909960,0.012862910516560));
res += mul(Get(s0,0,-dy), float4x4(0.091682419180870,0.107638217508793,-0.066461838781834,-0.023791467770934,-0.052152831107378,0.011048387736082,0.002230301266536,0.054429836571217,0.046784967184067,-0.044100064784288,0.220273673534393,-0.013806222006679,0.034480206668377,0.058104529976845,-0.082183040678501,0.125762730836868));
res += mul(Get(s0,0,0), float4x4(0.038146648555994,0.027318524196744,0.025696601718664,0.060441493988037,0.011293384246528,-0.016201380640268,-0.014324710704386,0.017731420695782,-0.067747861146927,0.062015458941460,-0.072281762957573,0.130603283643723,-0.107580110430717,-0.043098103255033,-0.005127050913870,0.055385190993547));
res += mul(Get(s0,0,dy), float4x4(0.034106176346540,0.003194122808054,-0.023525308817625,-0.027236130088568,-0.221913546323776,-0.040041491389275,-0.074776187539101,0.023550318554044,0.059546548873186,0.137552917003632,-0.045829620212317,0.205880954861641,-0.059597328305244,-0.004473730921745,0.102056704461575,-0.074502639472485));
res += mul(Get(s0,dx,-dy), float4x4(0.109424218535423,0.118588149547577,-0.064583368599415,0.133143141865730,0.006202349904925,-0.023473192006350,-0.036970421671867,-0.061065617948771,-0.042458664625883,-0.044729117304087,0.050833772867918,0.062905661761761,-0.066320300102234,0.014173513278365,-0.040394753217697,0.014133678749204));
res += mul(Get(s0,dx,0), float4x4(0.034722965210676,0.054522298276424,0.081696487963200,-0.040744628757238,0.113279968500137,-0.028979646041989,-0.035506386309862,-0.055499631911516,0.011164595372975,0.038473397493362,0.026236329227686,0.085884660482407,0.060337148606777,-0.061050146818161,0.006913224700838,-0.098953925073147));
res += mul(Get(s0,dx,dy), float4x4(0.054645828902721,0.023500600829720,0.002828268334270,-0.031152835115790,0.036061275750399,-0.070554144680500,-0.118717394769192,0.010217682458460,0.032714311033487,0.096165403723717,0.029917780309916,0.012547965161502,-0.004120797384530,-0.054051604121923,-0.061122778803110,0.032734062522650));
res += mul(Get(s1,-dx,-dy), float4x4(0.185854345560074,0.040820986032486,-0.048981495201588,-0.005697804037482,-0.065621696412563,-0.012672364711761,0.063103437423706,-0.018441582098603,-0.016846114769578,-0.042392883449793,-0.043313726782799,-0.014983445405960,0.025084001943469,-0.005621000193059,0.056215185672045,-0.095014423131943));
res += mul(Get(s1,-dx,0), float4x4(0.150339424610138,-0.043033394962549,0.008691173046827,-0.014333928935230,-0.070208273828030,0.022650478407741,0.073137044906616,0.052866466343403,0.128425747156143,-0.036564692854881,0.028111007064581,-0.005741018801928,-0.003240670077503,-0.070530109107494,0.018454842269421,-0.193036302924156));
res += mul(Get(s1,-dx,dy), float4x4(0.225955829024315,-0.040314856916666,-0.108448982238770,-0.117758780717850,0.033324994146824,-0.021373474970460,-0.042672187089920,-0.036732345819473,-0.062315590679646,0.011513639241457,-0.023639511317015,-0.065035149455070,-0.039293400943279,-0.008959572762251,-0.061534315347672,-0.135754823684692));
res += mul(Get(s1,0,-dy), float4x4(-0.061182517558336,0.008225873112679,-0.099800914525986,0.129135265946388,0.045517206192017,-0.018050970509648,0.119813829660416,-0.047735065221786,-0.105939611792564,-0.080656558275223,-0.039729259908199,-0.027619635686278,-0.062571652233601,-0.066591896116734,0.112134441733360,-0.038955442607403));
res += mul(Get(s1,0,0), float4x4(0.080466605722904,-0.029959244653583,-0.049875337630510,0.035657443106174,-0.124756932258606,0.016816563904285,0.015485674142838,0.065458230674267,0.174884364008904,-0.037049673497677,-0.107899494469166,0.041639197617769,0.048225447535515,0.009575108066201,-0.115187183022499,-0.038681536912918));
res += mul(Get(s1,0,dy), float4x4(0.204145133495331,0.013002381660044,0.000227177995839,-0.098694346845150,-0.035030029714108,-0.041161507368088,0.106226034462452,-0.026634436100721,0.086662158370018,0.000947977765463,-0.060846541076899,-0.103320650756359,-0.116879753768444,-0.075501650571823,0.002930502407253,-0.027687365189195));
res += mul(Get(s1,dx,-dy), float4x4(0.067541830241680,0.045111712068319,-0.087493054568768,-0.007084380835295,0.084848798811436,-0.019047312438488,0.126229792833328,-0.097271636128426,-0.111764363944530,-0.070400469005108,-0.032011780887842,-0.059163600206375,0.015585565939546,-0.055291108787060,-0.062141541391611,0.094681665301323));
res += mul(Get(s1,dx,0), float4x4(0.016842359676957,-0.047241095453501,0.090838074684143,-0.054052874445915,-0.023666899651289,0.045865628868341,0.061791691929102,-0.028462978079915,0.111552760004997,-0.056507539004087,-0.097514815628529,-0.040724676102400,0.067336097359657,0.035369761288166,-0.075544483959675,-0.067177325487137));
res += mul(Get(s1,dx,dy), float4x4(0.044311430305243,-0.071033686399460,-0.012997310608625,-0.078159339725971,-0.035865630954504,-0.013473793864250,-0.007589275017381,0.097100690007210,-0.026867780834436,0.006862872280180,-0.130068793892860,-0.096164360642433,-0.105423048138618,-0.060570839792490,-0.024817615747452,-0.014012034982443));
res += mul(Get(s2,-dx,-dy), float4x4(0.037100836634636,0.131666153669357,-0.050667542964220,0.018824625760317,0.011727215722203,0.155507341027260,0.030255209654570,0.083801858127117,0.041205290704966,0.030930584296584,-0.017214337363839,0.008777546696365,-0.025472290813923,0.082780793309212,0.011858500540257,-0.004529729019850));
res += mul(Get(s2,-dx,0), float4x4(0.128430590033531,0.015446168370545,0.005784706212580,0.042801067233086,-0.047415018081665,0.017735810950398,0.144554197788239,0.013200103305280,0.000134485235321,0.039289012551308,0.027555868029594,0.085363186895847,0.073060542345047,-0.029539190232754,0.110591992735863,0.115169428288937));
res += mul(Get(s2,-dx,dy), float4x4(-0.048680137842894,-0.027810925617814,0.066402807831764,0.026378756389022,-0.019750414416194,0.055747088044882,0.057676881551743,0.047969833016396,0.016441822052002,0.045213960111141,0.017581017687917,0.061702750623226,-0.024437684565783,0.050620742142200,0.094955302774906,0.067870229482651));
res += mul(Get(s2,0,-dy), float4x4(-0.170629322528839,0.104149959981441,-0.123371802270412,0.015025271102786,0.061251722276211,0.092800371348858,0.261072039604187,0.093789510428905,0.160698398947716,0.004160887096077,0.092600129544735,-0.079935371875763,0.111222997307777,-0.015715667977929,0.020610097795725,-0.029401903972030));
res += mul(Get(s2,0,0), float4x4(0.310059130191803,0.011082298122346,-0.035983990877867,-0.015213417820632,0.027090759947896,-0.040203958749771,0.064445652067661,0.065633617341518,0.064297012984753,0.053247183561325,-0.012352352030575,0.203595504164696,0.018235431984067,0.015152689069510,0.011004132218659,0.037763450294733));
res += mul(Get(s2,0,dy), float4x4(-0.176330015063286,-0.020532006397843,0.034806214272976,0.000185466778930,0.059734202921391,0.025733621791005,-0.058557938784361,0.110629610717297,-0.030816389247775,0.022997878491879,-0.009604120627046,0.065028309822083,0.003629463957623,0.033619742840528,0.097977563738823,0.030215039849281));
res += mul(Get(s2,dx,-dy), float4x4(-0.033528096973896,0.097443878650665,-0.132369741797447,0.052187774330378,-0.119838856160641,0.095607101917267,0.170563012361526,0.050764024257660,-0.027174580842257,0.059066820889711,0.026329902932048,0.182875961065292,-0.072358839213848,-0.028267119079828,0.119121618568897,-0.000144558129250));
res += mul(Get(s2,dx,0), float4x4(0.062239468097687,-0.006448068656027,0.068622879683971,-0.044450145214796,-0.153163939714432,-0.020263491198421,-0.074562117457390,-0.094754517078400,-0.055715501308441,0.114088132977486,0.039980020374060,0.230360642075539,-0.018600750714540,-0.002591327996925,0.030967444181442,-0.083038650453091));
res += mul(Get(s2,dx,dy), float4x4(-0.023369308561087,-0.014530353248119,-0.017479320988059,-0.054372876882553,-0.108364164829254,0.023072859272361,-0.027062367647886,-0.072544716298580,-0.068806797266006,0.010359146632254,0.142903313040733,0.119290448725224,0.048464849591255,-0.023614564910531,0.014682265929878,-0.015601661056280));
res += mul(Get(s3,-dx,-dy), float4x4(-0.030362090095878,-0.011465071700513,0.077693723142147,-0.055808413773775,0.027222543954849,-0.014531331136823,-0.071904197335243,-0.058635652065277,-0.037029143422842,0.001027139835060,-0.010731164366007,-0.064360670745373,0.060759842395782,-0.029498279094696,-0.032319381833076,0.007429448887706));
res += mul(Get(s3,-dx,0), float4x4(-0.102968461811543,0.014041152782738,-0.066567234694958,-0.062652103602886,-0.055896349251270,-0.016567615792155,-0.059295780956745,-0.006277151871473,-0.028611348941922,0.075540691614151,0.010938406921923,-0.023270566016436,0.058660823851824,-0.016181772574782,-0.090812690556049,-0.022923901677132));
res += mul(Get(s3,-dx,dy), float4x4(-0.104205712676048,-0.029112135991454,0.043159749358892,-0.019725304096937,-0.005407838616520,-0.010195384733379,-0.016867009922862,0.045047905296087,-0.035916060209274,-0.021460862830281,0.013975137844682,0.000762556097470,0.066661104559898,0.000335635908414,-0.033200550824404,-0.008292327634990));
res += mul(Get(s3,0,-dy), float4x4(-0.030645152553916,0.115082927048206,0.017431503161788,0.110590420663357,0.013870589435101,-0.029527692124248,0.247594803571701,-0.083844296634197,-0.003725401591510,-0.079496853053570,0.121942311525345,-0.104317300021648,0.175711646676064,-0.011797507293522,-0.033767107874155,0.022328682243824));
res += mul(Get(s3,0,0), float4x4(0.040591239929199,-0.006093138828874,0.148515120148659,-0.042485617101192,-0.099630914628506,-0.006193576846272,0.020082848146558,-0.064920142292976,0.061791945248842,0.070361860096455,-0.144652456045151,0.099718809127808,0.135150521993637,-0.030902048572898,-0.066193163394928,0.026986263692379));
res += mul(Get(s3,0,dy), float4x4(0.102358013391495,0.013385145924985,-0.043037846684456,0.014069134369493,0.135923549532890,0.014200619421899,-0.034404382109642,0.081933692097664,0.006439486052841,-0.035817109048367,0.118479944765568,-0.017463453114033,0.021348634734750,-0.015365758910775,-0.026469754055142,0.031611558049917));
res += mul(Get(s3,dx,-dy), float4x4(0.063470497727394,0.135616466403008,-0.049835287034512,0.071831688284874,-0.002953837625682,-0.022374227643013,0.150005221366882,-0.021540623158216,-0.066464208066463,-0.119497910141945,0.047438248991966,0.003488314570859,-0.011746738106012,-0.011982833966613,-0.025253329426050,0.032304596155882));
res += mul(Get(s3,dx,0), float4x4(0.019378751516342,0.017010677605867,0.100249290466309,-0.006069553550333,0.139273062348366,0.011286796070635,-0.002912660129368,0.069761596620083,0.138130843639374,0.034519277513027,-0.000839339278173,0.104519389569759,0.091928347945213,-0.007619651034474,-0.058453753590584,-0.004389386624098));
res += mul(Get(s3,dx,dy), float4x4(-0.001889015547931,0.011624251492321,0.029546601697803,-0.060192763805389,0.029994701966643,-0.029338384047151,0.031385157257318,-0.010474533773959,0.065898977220058,0.006426156032830,-0.014040414243937,0.018453815951943,-0.055985160171986,-0.006421527359635,0.035111721605062,0.001343832700513));
return max(float4(0,0,0,0), res);
}
