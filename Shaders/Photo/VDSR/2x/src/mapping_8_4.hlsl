sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.065548576414585,-0.054898485541344,-0.052883535623550,-0.069020852446556,0.019851280376315,0.055995658040047,0.097627848386765,-0.099229991436005,0.039251592010260,-0.062649428844452,-0.042081806808710,0.001951897633262,0.008003684692085,-0.012262952513993,-0.127727866172791,-0.158729657530785));
res += mul(Get(s0,-dx,0), float4x4(0.063068404793739,-0.071862362325191,-0.055777966976166,-0.082594878971577,0.118816643953323,-0.003790878923610,-0.084318540990353,0.105424493551254,0.019630882889032,-0.071277357637882,-0.152497082948685,-0.173650756478310,-0.017335604876280,0.003506683511660,-0.088665291666985,-0.025503145530820));
res += mul(Get(s0,-dx,dy), float4x4(-0.049322728067636,0.145278185606003,-0.023185778409243,-0.154718831181526,0.047194920480251,0.022453503683209,0.002839473308995,-0.075962677598000,-0.038094669580460,-0.220562398433685,-0.108870506286621,-0.109752699732780,0.276199936866760,-0.059796918183565,-0.040123406797647,-0.000114090420539));
res += mul(Get(s0,0,-dy), float4x4(0.046599984169006,-0.053488470613956,0.032702080905437,0.014884185045958,0.020174412056804,0.116216562688351,-0.044260095804930,0.132488295435905,-0.078529722988605,0.060666304081678,-0.073513433337212,-0.138924732804298,0.131337895989418,-0.050938125699759,-0.067022755742073,-0.095211163163185));
res += mul(Get(s0,0,0), float4x4(-0.115401767194271,0.085781939327717,-0.109758496284485,-0.094919882714748,0.150257349014282,0.150320991873741,-0.146385118365288,0.073628321290016,0.088770262897015,0.016180081292987,-0.021830664947629,-0.080280013382435,-0.130228266119957,0.030889626592398,-0.042706433683634,0.121134504675865));
res += mul(Get(s0,0,dy), float4x4(-0.189053669571877,-0.000745737808757,-0.175596415996552,-0.145525380969048,-0.151605367660522,-0.021569294854999,0.002553463680670,0.081211075186729,-0.000292650103802,-0.136977359652519,-0.222631096839905,0.046533305197954,0.024899002164602,0.070971496403217,0.051096871495247,-0.109318509697914));
res += mul(Get(s0,dx,-dy), float4x4(0.180444747209549,-0.100624904036522,-0.088314101099968,-0.015591504983604,0.028283307328820,-0.075043961405754,-0.062255587428808,-0.090344026684761,-0.004544456023723,0.098295792937279,0.045513316988945,0.217532187700272,0.296404719352722,0.005188953131437,-0.207909002900124,-0.060417439788580));
res += mul(Get(s0,dx,0), float4x4(-0.037468068301678,0.004144333302975,0.034859742969275,-0.037919156253338,0.023179724812508,-0.193342581391335,-0.057154376059771,-0.085220247507095,-0.023833150044084,0.015334241092205,0.132924646139145,-0.016033302992582,-0.096949562430382,0.024766642600298,-0.051786642521620,-0.009345734491944));
res += mul(Get(s0,dx,dy), float4x4(0.127160415053368,-0.069873340427876,0.030454386025667,0.014303284697235,-0.146105840802193,-0.214487135410309,0.020935969427228,-0.209127008914948,0.042705204337835,-0.163594067096710,-0.097340829670429,0.089876212179661,0.093350522220135,-0.002609843621030,0.052052877843380,-0.105272434651852));
res += mul(Get(s1,-dx,-dy), float4x4(-0.072225764393806,-0.078562483191490,-0.161432921886444,0.045390747487545,0.047601934522390,0.093157269060612,0.067184612154961,-0.284341365098953,0.042614601552486,-0.050726756453514,-0.021710664033890,0.198992416262627,-0.144375056028366,-0.101556241512299,0.046276189386845,0.096808426082134));
res += mul(Get(s1,-dx,0), float4x4(0.063088804483414,-0.010596946813166,0.239762663841248,-0.041248623281717,-0.003318114439026,0.027198033407331,-0.105158761143684,-0.091982394456863,-0.000743970507756,0.061006102710962,0.047319713979959,0.242039397358894,-0.082466207444668,-0.022687777876854,-0.038813740015030,-0.059343378990889));
res += mul(Get(s1,-dx,dy), float4x4(0.163202926516533,0.038083143532276,-0.032142464071512,-0.085644990205765,-0.116162486374378,0.050391338765621,0.042698111385107,0.136828318238258,-0.150832712650299,-0.059294991195202,0.004829935729504,-0.025511305779219,0.110683292150497,0.055429648607969,-0.029822902753949,-0.166975617408752));
res += mul(Get(s1,0,-dy), float4x4(-0.003278360469267,0.047246132045984,-0.110911540687084,0.086438328027725,-0.086103245615959,0.058770645409822,0.074266590178013,0.063973069190979,-0.072465784847736,-0.065580040216446,0.175006777048111,0.150489881634712,0.091130629181862,0.049375664442778,0.026225831359625,-0.021919429302216));
res += mul(Get(s1,0,0), float4x4(-0.090883530676365,0.077908411622047,-0.097708538174629,0.250616103410721,-0.025104157626629,-0.015469050034881,-0.015417783521116,0.016178393736482,0.162962317466736,-0.147994205355644,0.052907653152943,-0.055473964661360,-0.072366289794445,0.109195090830326,0.037737276405096,0.101867802441120));
res += mul(Get(s1,0,dy), float4x4(0.001433302997611,-0.038736019283533,-0.308086782693863,0.179355308413506,0.000132052970002,0.038530126214027,-0.021164208650589,0.163075357675552,-0.037498354911804,0.041151516139507,-0.030821092426777,-0.139100968837738,-0.044329229742289,0.148575559258461,-0.139357417821884,0.054904617369175));
res += mul(Get(s1,dx,-dy), float4x4(0.166199073195457,0.071716040372849,-0.000374431780074,-0.027453998103738,0.030563240870833,-0.026393901556730,-0.023921700194478,0.206819683313370,-0.088638551533222,-0.098890610039234,-0.148015171289444,0.016909677535295,0.015452797524631,0.112085916101933,0.028687860816717,-0.028025237843394));
res += mul(Get(s1,dx,0), float4x4(-0.088391080498695,0.066819481551647,-0.000155414003530,0.008083303458989,0.023347619920969,0.028120717033744,-0.205741718411446,0.184450715780258,0.065344773232937,-0.165828272700310,0.133896857500076,-0.056011881679296,0.077856637537479,0.022661818191409,-0.201862812042236,0.003871741238981));
res += mul(Get(s1,dx,dy), float4x4(-0.046926259994507,-0.015562362968922,-0.170764699578285,-0.005874261725694,-0.068446978926659,0.099389865994453,0.062876462936401,0.124270409345627,-0.085862398147583,-0.010498502291739,-0.158362612128258,0.075485289096832,-0.135524347424507,0.061783820390701,0.011438339948654,0.132842317223549));
res += mul(Get(s2,-dx,-dy), float4x4(-0.059324752539396,-0.011661561205983,-0.200511738657951,-0.108697623014450,-0.052364323288202,0.177322462201118,-0.057981517165899,-0.175319373607635,0.087529174983501,-0.132131546735764,0.180458143353462,-0.053880423307419,0.152706995606422,0.146641567349434,-0.136625319719315,0.093703597784042));
res += mul(Get(s2,-dx,0), float4x4(-0.000502455979586,0.120323322713375,-0.137082591652870,-0.146655082702637,-0.205730378627777,0.044628001749516,-0.141549423336983,-0.039636880159378,-0.067740000784397,-0.080969862639904,-0.006093667354435,0.055459700524807,-0.281017303466797,-0.056724224239588,0.004048564936966,0.118027471005917));
res += mul(Get(s2,-dx,dy), float4x4(0.076988838613033,-0.146982222795486,0.017143134027719,-0.007198664359748,0.059434927999973,0.133233666419983,0.149406522512436,0.026767354458570,0.031291440129280,-0.034021016210318,0.021158322691917,0.049769759178162,-0.147413253784180,-0.008476350456476,-0.045542404055595,0.020113369449973));
res += mul(Get(s2,0,-dy), float4x4(-0.185108885169029,-0.033275254070759,-0.033601809293032,0.049836516380310,0.004522512666881,-0.133871018886566,-0.051153779029846,0.042956337332726,0.062402501702309,0.059299297630787,-0.005767856724560,-0.359492242336273,0.009377820417285,0.079486556351185,-0.105666175484657,0.181891694664955));
res += mul(Get(s2,0,0), float4x4(0.045438859611750,-0.077396720647812,0.010382211767137,-0.167171791195869,0.011295265518129,0.194038033485413,-0.139831557869911,-0.071250617504120,-0.014427866786718,0.017586242407560,-0.031729817390442,-0.050416704267263,0.216805055737495,0.165517985820770,-0.149602711200714,0.164873629808426));
res += mul(Get(s2,0,dy), float4x4(-0.152786195278168,0.096787877380848,-0.131591945886612,0.040237322449684,-0.098124146461487,0.115562826395035,0.078262172639370,-0.147506475448608,-0.250695794820786,0.119520664215088,0.111294060945511,-0.118632704019547,-0.003434944897890,-0.113754801452160,0.007531657814980,-0.008044586516917));
res += mul(Get(s2,dx,-dy), float4x4(0.082875259220600,0.130526885390282,0.210270002484322,-0.081634685397148,-0.104899704456329,-0.055419150739908,-0.042956616729498,0.033987041562796,0.007608017418534,0.065500035881996,-0.052686240524054,0.008198814466596,-0.069983065128326,-0.248851701617241,0.065481916069984,0.054834667593241));
res += mul(Get(s2,dx,0), float4x4(-0.025228148326278,0.034888673573732,0.038393575698137,-0.073248974978924,0.034344587475061,0.095033980906010,-0.066460385918617,-0.027137955650687,-0.017678294330835,0.092372223734856,-0.037185993045568,-0.113879188895226,0.012119006365538,-0.080595903098583,-0.014118709601462,0.212876811623573));
res += mul(Get(s2,dx,dy), float4x4(-0.041815601289272,-0.063579455018044,-0.136513933539391,-0.034116405993700,0.131810054183006,-0.003496893215925,-0.081931717693806,-0.000870713847689,0.024441160261631,0.115360453724861,-0.053421914577484,0.160737276077271,0.151944011449814,-0.085299342870712,0.068224690854549,0.012512631714344));
res += mul(Get(s3,-dx,-dy), float4x4(0.222918197512627,-0.071028485894203,0.013137314468622,-0.091468051075935,0.106081321835518,0.023313496261835,0.258386969566345,0.022696988657117,-0.043881781399250,-0.044561352580786,-0.096459448337555,0.117265179753304,0.082506291568279,0.058137085288763,0.031479824334383,-0.122772119939327));
res += mul(Get(s3,-dx,0), float4x4(-0.049752462655306,0.047935564070940,0.044149171561003,0.074700340628624,-0.260559886693954,-0.048476353287697,-0.000896160665434,-0.089629203081131,0.045034185051918,0.128698542714119,0.020120281726122,0.126784130930901,0.035726170986891,0.148852467536926,0.012272598221898,-0.039589785039425));
res += mul(Get(s3,-dx,dy), float4x4(-0.055389832705259,-0.053460713475943,0.091257050633430,-0.027876522392035,0.057867538183928,-0.137343898415565,-0.045758783817291,-0.170017302036285,-0.110736005008221,-0.063030347228050,0.015012471936643,0.108500257134438,-0.053602557629347,-0.004203494172543,0.031077334657311,-0.006749038118869));
res += mul(Get(s3,0,-dy), float4x4(-0.013532192446291,-0.180949300527573,-0.189313754439354,-0.105191625654697,-0.063571989536285,0.002044334309176,0.028225660324097,-0.054472751915455,-0.091827683150768,-0.133538410067558,-0.063149355351925,-0.061278421431780,0.001800089259632,-0.288163363933563,-0.154516264796257,-0.199871107935905));
res += mul(Get(s3,0,0), float4x4(-0.146185442805290,0.112987466156483,-0.160345792770386,0.014283007942140,-0.016713451594114,0.125239416956902,-0.055223677307367,-0.076317794620991,-0.046996295452118,0.056103322654963,-0.126259535551071,-0.192628696560860,0.145114064216614,-0.095803812146187,-0.160973519086838,0.035554155707359));
res += mul(Get(s3,0,dy), float4x4(-0.033637814223766,-0.093411400914192,0.078800082206726,-0.033948980271816,-0.027965005487204,0.005722779780626,0.089693300426006,-0.051575608551502,-0.099979251623154,-0.094257898628712,-0.084041975438595,-0.240913957357407,0.106541968882084,0.103711955249310,0.048748537898064,0.052003249526024));
res += mul(Get(s3,dx,-dy), float4x4(0.092765927314758,0.056298688054085,-0.074333161115646,0.109012775123119,0.017345353960991,-0.159897267818451,-0.034708049148321,0.127822160720825,0.129516184329987,-0.106882765889168,-0.104600831866264,-0.121233917772770,-0.011768638156354,0.037795849144459,-0.011363944038749,-0.076494678854942));
res += mul(Get(s3,dx,0), float4x4(-0.112927302718163,0.096231929957867,-0.049775380641222,0.018692810088396,0.260303497314453,0.029835954308510,-0.032465327531099,0.030162440612912,0.123427361249924,-0.168101638555527,-0.072837270796299,-0.205809742212296,-0.061748947948217,0.152151688933372,-0.020336842164397,0.083352066576481));
res += mul(Get(s3,dx,dy), float4x4(-0.022610679268837,-0.069498866796494,0.189796879887581,-0.089962355792522,0.050730872899294,0.029286921024323,0.056734044104815,-0.032573457807302,-0.147055193781853,0.044512335211039,-0.079226404428482,-0.049128349870443,-0.152923360466957,-0.024593807756901,-0.041218779981136,-0.045153249055147));
return max(float4(0,0,0,0), res);
}
