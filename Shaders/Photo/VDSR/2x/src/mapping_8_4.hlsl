sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.060783602297306,-0.009787741117179,-0.010370885953307,-0.045003157109022,0.045448604971170,0.067596226930618,0.017208907753229,-0.162457019090652,0.117673538625240,0.122396111488342,-0.032460719347000,-0.026979137212038,-0.040519293397665,-0.028681552037597,-0.084228321909904,0.197971627116203));
res += mul(Get(s0,-dx,0), float4x4(-0.028403269127011,-0.042758900672197,-0.029638158157468,-0.069754533469677,-0.078515939414501,-0.043209008872509,-0.035519793629646,-0.040681056678295,-0.083204597234726,0.022123983129859,-0.016172217205167,-0.027306813746691,-0.030414082109928,-0.087040536105633,0.001123636960983,-0.040745846927166));
res += mul(Get(s0,-dx,dy), float4x4(-0.024734793230891,-0.042920891195536,0.138681486248970,0.064961485564709,-0.125803515315056,0.044135536998510,-0.087084911763668,0.047077428549528,0.065715938806534,0.011535091325641,0.007421687245369,0.114341251552105,0.012098141014576,-0.013616987504065,-0.027332099154592,0.037331968545914));
res += mul(Get(s0,0,-dy), float4x4(-0.000037835536205,-0.092693887650967,-0.007392934523523,-0.153433039784431,-0.095089115202427,0.148015305399895,0.020045639947057,-0.065105579793453,0.032552894204855,-0.075926430523396,0.020699970424175,-0.113649837672710,-0.082961574196815,-0.072833731770515,-0.179286867380142,0.197236701846123));
res += mul(Get(s0,0,0), float4x4(-0.046916820108891,-0.020919354632497,-0.037945669144392,-0.145083680748940,-0.114751584827900,0.047986764460802,0.064999371767044,0.070368289947510,-0.062702886760235,0.057913042604923,0.170321643352509,0.034230601042509,-0.034283850342035,-0.048152886331081,-0.005130954086781,-0.125107586383820));
res += mul(Get(s0,0,dy), float4x4(-0.221063524484634,0.074395626783371,0.070924907922745,0.080441072583199,-0.091703832149506,0.044300016015768,-0.084054470062256,-0.041124753654003,-0.120790474116802,-0.001646693097427,-0.093268908560276,0.159013763070107,0.065384820103645,0.015027879737318,-0.045294869691133,0.089420966804028));
res += mul(Get(s0,dx,-dy), float4x4(0.118762664496899,-0.110872521996498,0.030221879482269,-0.098662540316582,0.036371637135744,-0.114317752420902,0.027154130861163,-0.121387936174870,0.031381905078888,0.044354759156704,0.017707627266645,-0.127600669860840,-0.005053462926298,-0.006282735150307,-0.008634765632451,0.053620796650648));
res += mul(Get(s0,dx,0), float4x4(0.066332526504993,-0.068373292684555,-0.017689207568765,-0.156026065349579,-0.043434973806143,-0.061597727239132,-0.125420913100243,-0.011905353516340,-0.033707588911057,0.017781516537070,-0.015460529364645,-0.029657382518053,-0.006070871371776,0.089817129075527,0.113088905811310,0.022039860486984));
res += mul(Get(s0,dx,dy), float4x4(0.031133355572820,0.000346774206264,-0.049198795109987,0.023940384387970,0.032759521156549,-0.083771616220474,-0.150860771536827,-0.021372240036726,-0.003029061947018,0.081745170056820,-0.168783634901047,0.127035573124886,0.083539225161076,0.005780721083283,0.102328188717365,0.153827503323555));
res += mul(Get(s1,-dx,-dy), float4x4(0.023263683542609,-0.036359213292599,-0.017740665003657,0.049756318330765,-0.108781948685646,0.004605569411069,0.012930091470480,-0.005636297632009,-0.083043105900288,0.188920408487320,-0.066594824194908,-0.065891169011593,-0.060302637517452,0.211295351386070,0.026572488248348,-0.065613463521004));
res += mul(Get(s1,-dx,0), float4x4(-0.009650644846261,-0.056493200361729,-0.018384037539363,-0.002067258348688,-0.007397087290883,-0.071827568113804,-0.034877739846706,0.022386973723769,0.033190641552210,-0.007719902787358,0.126353248953819,0.060650359839201,-0.101025268435478,-0.175583139061928,0.080343268811703,0.019821977242827));
res += mul(Get(s1,-dx,dy), float4x4(0.061581291258335,0.000725902209524,0.112762995064259,0.043213061988354,0.238754749298096,-0.109614185988903,-0.017822889611125,0.066895537078381,-0.128333389759064,0.043656907975674,-0.065057583153248,0.041970219463110,-0.175076380372047,0.049180161207914,0.079827204346657,-0.042502913624048));
res += mul(Get(s1,0,-dy), float4x4(0.063010133802891,0.086204104125500,-0.031568784266710,-0.015467057004571,-0.050912905484438,0.165807500481606,0.028479771688581,-0.112319469451904,0.016418509185314,0.111893348395824,0.053507402539253,-0.054140932857990,0.033216703683138,0.124338455498219,0.079684078693390,-0.095107078552246));
res += mul(Get(s1,0,0), float4x4(-0.005263256374747,0.070204287767410,0.099551983177662,-0.033131908625364,-0.020590061321855,-0.113658659160137,-0.069903299212456,-0.041127048432827,-0.042488709092140,-0.028868015855551,0.055120382457972,0.058232370764017,-0.071923486888409,-0.086654067039490,-0.190933436155319,0.118403613567352));
res += mul(Get(s1,0,dy), float4x4(0.015587167814374,0.052523341029882,0.187047854065895,0.000460792507511,0.268021017313004,0.037078399211168,0.063594155013561,-0.102091319859028,-0.133524328470230,0.057283367961645,-0.050364773720503,-0.054509475827217,-0.069568924605846,0.037174917757511,-0.088797807693481,-0.037499323487282));
res += mul(Get(s1,dx,-dy), float4x4(0.006436851806939,0.039440464228392,0.092381305992603,0.009792713448405,0.134415641427040,-0.127564877271652,0.109321132302284,-0.017325287684798,-0.090321533381939,0.060698721557856,-0.098226591944695,0.014364041388035,0.028774825856090,-0.056679055094719,-0.070632398128510,-0.061709571629763));
res += mul(Get(s1,dx,0), float4x4(-0.045557495206594,0.084578223526478,0.025654993951321,0.022270668298006,0.153467968106270,-0.009414008818567,0.000076345851994,-0.008244629949331,-0.074426703155041,-0.039900243282318,-0.042077627032995,0.023215375840664,0.000877292768564,-0.102750830352306,0.026792850345373,0.028726536780596));
res += mul(Get(s1,dx,dy), float4x4(0.037395089864731,-0.040676057338715,-0.020312860608101,0.017594248056412,0.075110688805580,0.036203138530254,0.073104657232761,0.019901366904378,-0.222671404480934,0.016002755612135,-0.069066494703293,0.076146848499775,-0.053738884627819,0.065215349197388,-0.198690354824066,-0.007283897604793));
res += mul(Get(s2,-dx,-dy), float4x4(0.098151259124279,-0.187850520014763,0.114354394376278,-0.146383315324783,0.084280826151371,-0.004590878728777,-0.005627697333694,-0.048955105245113,-0.020277816802263,-0.021478284150362,-0.043726995587349,-0.003415214130655,-0.001170571078546,0.016131855547428,0.062868349254131,-0.032165672630072));
res += mul(Get(s2,-dx,0), float4x4(-0.003739319043234,0.088968850672245,-0.053007498383522,-0.034366235136986,-0.045689076185226,0.051737401634455,-0.127800300717354,-0.026489142328501,-0.109241813421249,-0.051379263401031,-0.116094104945660,0.000923965300899,-0.057313527911901,0.004371318500489,-0.031548857688904,-0.046975210309029));
res += mul(Get(s2,-dx,dy), float4x4(-0.081064432859421,-0.092996694147587,0.080915093421936,-0.039964143186808,-0.089272193610668,-0.034880392253399,0.166996404528618,-0.020984586328268,0.017838614061475,0.012515533715487,-0.000631769478787,-0.093876264989376,0.118921302258968,0.027509229257703,-0.015774380415678,0.047613982111216));
res += mul(Get(s2,0,-dy), float4x4(0.131221830844879,-0.041448652744293,0.020644869655371,-0.256161332130432,0.043155081570148,0.067526519298553,0.021934393793344,0.014081314206123,-0.054224316030741,0.057997427880764,-0.030441412702203,0.004644026048481,0.121457405388355,-0.138391226530075,0.020867364481091,-0.003764934372157));
res += mul(Get(s2,0,0), float4x4(0.013093506917357,-0.005383252166212,0.040788203477859,-0.035932764410973,-0.069518707692623,0.013317609205842,0.094819620251656,0.011974601075053,-0.085124105215073,-0.063166059553623,0.001669917837717,0.017749862745404,-0.113518811762333,-0.157133594155312,0.014458555728197,-0.007686230354011));
res += mul(Get(s2,0,dy), float4x4(-0.210473254323006,0.050079040229321,0.132853850722313,-0.006107854656875,0.005280460696667,0.009769193828106,0.165340423583984,-0.012876945547760,-0.039836369454861,-0.135474294424057,0.023763950914145,0.070870399475098,-0.041244406253099,-0.100096173584461,0.059996258467436,0.064370006322861));
res += mul(Get(s2,dx,-dy), float4x4(0.013617899268866,-0.050697810947895,0.044952079653740,-0.225255623459816,0.031805437058210,0.182044163346291,0.062008801847696,-0.065935432910919,0.068905830383301,0.003144057700410,-0.036840133368969,-0.029241766780615,0.158313885331154,-0.016890510916710,0.096712686121464,-0.006059784907848));
res += mul(Get(s2,dx,0), float4x4(-0.026422720402479,0.121881969273090,0.026485018432140,-0.032934024930000,-0.044270198792219,0.019648738205433,0.241254255175591,0.117135345935822,0.036865420639515,0.027443232014775,-0.054448734968901,0.079199030995369,-0.066408611834049,-0.036578424274921,-0.061929162591696,0.002878441009670));
res += mul(Get(s2,dx,dy), float4x4(-0.129215508699417,-0.107161536812782,0.153495237231255,-0.071720831096172,0.049319833517075,-0.038875669240952,0.072301521897316,-0.006294535007328,-0.024427570402622,0.006090276874602,-0.111606694757938,-0.121003091335297,0.095319971442223,-0.005910057108849,0.091866441071033,0.070184603333473));
res += mul(Get(s3,-dx,-dy), float4x4(0.062805600464344,0.094004988670349,0.006484087090939,0.034853301942348,0.038745928555727,-0.062088266015053,0.015527642332017,0.089648149907589,0.105742789804935,-0.069753833115101,0.000804155133665,-0.180336400866508,0.112947113811970,0.101807489991188,0.018774539232254,0.073247730731964));
res += mul(Get(s3,-dx,0), float4x4(0.032704506069422,0.144011825323105,0.127763316035271,-0.036548893898726,0.002819084329531,-0.027909437194467,0.076016612350941,-0.014293638058007,0.036449994891882,0.257067590951920,0.074865214526653,0.042926412075758,0.080332569777966,0.018449265509844,0.113122783601284,-0.034459166228771));
res += mul(Get(s3,-dx,dy), float4x4(-0.057234607636929,0.049065466970205,-0.015758970752358,-0.037652313709259,-0.006070466712117,-0.016585815697908,0.054369039833546,0.009956292808056,-0.084106415510178,-0.045823514461517,-0.090175166726112,0.125036090612411,0.105499334633350,0.039317846298218,0.069829940795898,0.051119290292263));
res += mul(Get(s3,0,-dy), float4x4(-0.075529359281063,-0.035229861736298,-0.024704555049539,0.030330840498209,-0.043257016688585,-0.023634728044271,-0.046783123165369,0.042887400835752,0.036170382052660,-0.053657561540604,0.062136840075254,-0.133596107363701,0.198400214314461,-0.044368717819452,0.050013441592455,0.081904128193855));
res += mul(Get(s3,0,0), float4x4(0.067467205226421,-0.006770350970328,-0.010416861623526,0.022756883874536,-0.043274588882923,-0.019708655774593,0.024809667840600,0.060007877647877,0.049270763993263,0.088234096765518,0.047419622540474,-0.019103208556771,-0.087121620774269,-0.088717311620712,-0.082975223660469,-0.015665572136641));
res += mul(Get(s3,0,dy), float4x4(0.134680882096291,-0.004021613858640,-0.047070041298866,0.105488590896130,0.012435943819582,0.026066523045301,-0.105097971856594,0.183376610279083,-0.051609065383673,0.015589812770486,-0.101045794785023,0.148681908845901,0.071579478681087,0.113169550895691,-0.097988344728947,-0.010147084482014));
res += mul(Get(s3,dx,-dy), float4x4(0.012630347162485,0.075852386653423,-0.101476199924946,0.054365459829569,0.019445605576038,-0.050789609551430,-0.075566634535789,-0.055849839001894,0.018403347581625,-0.116096213459969,-0.002745656529441,-0.121183700859547,-0.030635913833976,-0.034697819501162,0.015998121351004,0.182336181402206));
res += mul(Get(s3,dx,0), float4x4(0.082799084484577,0.088781006634235,-0.091500237584114,0.029808390885592,0.091417767107487,0.057212304323912,-0.052319508045912,-0.089156173169613,-0.004181187134236,0.042542498558760,-0.024106387048960,0.017888806760311,-0.003384603653103,-0.155937567353249,-0.079899877309799,-0.017655607312918));
res += mul(Get(s3,dx,dy), float4x4(-0.015051335096359,0.084154047071934,0.058241575956345,0.044622592628002,0.021109655499458,-0.046610843390226,-0.250253021717072,0.069277785718441,0.047436967492104,0.054980322718620,0.017308274284005,-0.000531421625055,0.069148495793343,0.047399759292603,0.063576832413673,0.064654938876629));
return max(float4(0,0,0,0), res);
}
