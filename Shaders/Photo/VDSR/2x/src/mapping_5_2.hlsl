sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.100023604929447,-0.165334329009056,0.036819647997618,0.090101599693298,-0.033547885715961,-0.174246653914452,-0.119469739496708,-0.018387829884887,-0.112964823842049,-0.132579088211060,-0.058200478553772,0.310995221138000,0.055516663938761,-0.198676303029060,0.128781646490097,-0.110405050218105));
res += mul(Get(s0,-dx,0), float4x4(-0.091765247285366,0.038685061037540,-0.105194032192230,0.036199133843184,0.053582675755024,-0.112984232604504,0.010689063929021,0.058589763939381,0.162362068891525,-0.240018606185913,0.124219559133053,-0.181152328848839,0.047340266406536,0.124329991638660,0.192753583192825,-0.059702586382627));
res += mul(Get(s0,-dx,dy), float4x4(0.062455311417580,0.086781889200211,0.040604483336210,-0.110725641250610,-0.070008359849453,0.239529520273209,0.040985692292452,-0.079034522175789,0.003257780801505,-0.026455413550138,-0.108235187828541,0.111025676131248,-0.143337368965149,-0.192839682102203,0.029940579086542,-0.226224347949028));
res += mul(Get(s0,0,-dy), float4x4(0.039293061941862,-0.079968824982643,-0.155707225203514,-0.052862666547298,-0.151290506124496,0.064225144684315,-0.008697522804141,0.143961533904076,-0.065840132534504,-0.048143327236176,-0.006113242823631,-0.057791899889708,-0.042557958513498,-0.011542004533112,-0.046126622706652,0.196258261799812));
res += mul(Get(s0,0,0), float4x4(-0.126870796084404,-0.029115129262209,0.120223566889763,0.105479501187801,0.059006862342358,-0.024453433230519,-0.007921386510134,-0.087157852947712,0.062278747558594,-0.121679686009884,0.097928971052170,0.016070162877440,-0.232657685875893,-0.007582389283925,-0.135612756013870,0.048396687954664));
res += mul(Get(s0,0,dy), float4x4(-0.163544014096260,-0.096450246870518,-0.157455176115036,-0.075017221271992,0.119788683950901,0.179259762167931,-0.007044882047921,-0.037167627364397,0.019366750493646,-0.012661738321185,-0.196155056357384,0.004641082137823,-0.232413813471794,-0.078666925430298,0.077123671770096,-0.006396603770554));
res += mul(Get(s0,dx,-dy), float4x4(0.074144206941128,0.037502609193325,-0.087245538830757,0.012863453477621,0.021902315318584,-0.084223851561546,0.027300603687763,0.073847122490406,0.040431994944811,-0.061305742710829,0.094245344400406,0.124038442969322,0.075256176292896,0.014941912144423,-0.138912841677666,-0.005194298923016));
res += mul(Get(s0,dx,0), float4x4(0.189966797828674,-0.043771162629128,0.062797650694847,0.067458122968674,-0.122412607073784,0.182946592569351,0.282330960035324,0.158471077680588,0.046069521456957,0.149117395281792,0.048228345811367,-0.010288991965353,-0.026555983349681,-0.098806045949459,0.161549970507622,0.086334370076656));
res += mul(Get(s0,dx,dy), float4x4(0.072866030037403,0.148991748690605,-0.013144536875188,-0.101615533232689,-0.035226516425610,0.166634723544121,-0.117190770804882,-0.146868631243706,0.000390245520975,0.032624453306198,0.040298998355865,0.013624223880470,0.050741937011480,-0.126142874360085,0.183152496814728,0.029919870197773));
res += mul(Get(s1,-dx,-dy), float4x4(0.160771489143372,-0.035325184464455,-0.115849241614342,-0.138374999165535,-0.201657354831696,-0.021994987502694,-0.025518743321300,0.078244566917419,0.161705464124680,-0.017572591081262,-0.255298107862473,0.001781333470717,-0.085582785308361,-0.092000313103199,0.053184974938631,0.081848308444023));
res += mul(Get(s1,-dx,0), float4x4(-0.086059883236885,-0.002561423694715,-0.164837419986725,0.071149654686451,-0.216843500733376,0.035977765917778,0.100026652216911,0.084642656147480,0.036007244139910,0.171595454216003,0.023020673543215,-0.028953997418284,-0.141117244958878,0.005463940557092,-0.134508192539215,0.109063766896725));
res += mul(Get(s1,-dx,dy), float4x4(-0.048194129019976,-0.082025811076164,-0.033703539520502,0.125714510679245,-0.052414439618587,-0.077466808259487,-0.081278696656227,0.014980176463723,-0.058412931859493,0.007212858647108,-0.035843309015036,0.004680917132646,0.002228178316727,-0.159867569804192,-0.107722498476505,0.178172171115875));
res += mul(Get(s1,0,-dy), float4x4(0.122035026550293,-0.005315017420799,0.064564660191536,-0.165889978408813,-0.201460808515549,-0.067729309201241,0.059615325182676,0.227621927857399,0.013825552538037,0.011676630936563,-0.016460714861751,-0.152523756027222,0.052797980606556,-0.011505972594023,-0.138993233442307,0.022238187491894));
res += mul(Get(s1,0,0), float4x4(-0.185576379299164,-0.043075069785118,-0.091868638992310,0.068173773586750,0.114269681274891,-0.095722489058971,0.209612339735031,0.017706047743559,0.008544520474970,0.161181345582008,-0.225029364228249,0.067895345389843,-0.016084518283606,0.050170727074146,-0.089358761906624,-0.064630389213562));
res += mul(Get(s1,0,dy), float4x4(0.129052668809891,-0.070717133581638,-0.016793217509985,-0.107665538787842,0.012483119033277,0.102087654173374,-0.214943200349808,0.042505040764809,-0.054681017994881,0.066596075892448,-0.263049334287643,0.017970094457269,-0.213778078556061,0.066917560994625,0.224816828966141,-0.021139100193977));
res += mul(Get(s1,dx,-dy), float4x4(0.126335337758064,-0.226843088865280,-0.032364360988140,0.043284144252539,-0.094669528305531,-0.013652624562383,0.210801973938942,0.109879449009895,0.101448714733124,0.131870731711388,-0.008418829180300,-0.028489660471678,-0.009392115287483,-0.098182126879692,-0.086023271083832,0.095767021179199));
res += mul(Get(s1,dx,0), float4x4(-0.126835435628891,-0.028929455205798,-0.049708083271980,0.103135950863361,0.131625115871429,-0.020417584106326,-0.109534405171871,-0.066599287092686,0.086216650903225,0.175498947501183,-0.059536747634411,0.042433541268110,-0.043244827538729,-0.071558564901352,0.010597340762615,-0.029468102380633));
res += mul(Get(s1,dx,dy), float4x4(-0.028786521404982,-0.154551357030869,-0.074470676481724,0.242207616567612,0.115175232291222,0.125374332070351,0.071834683418274,0.073225378990173,0.094995379447937,-0.083463475108147,-0.037349514663219,-0.136768162250519,-0.028301201760769,0.060503855347633,-0.024630881845951,0.077173843979836));
res += mul(Get(s2,-dx,-dy), float4x4(-0.023984687402844,0.032928593456745,0.034803640097380,-0.164801105856895,0.062787882983685,0.059134859591722,0.087944187223911,0.044708803296089,-0.171858668327332,0.046824790537357,0.117811314761639,0.035851377993822,-0.131527945399284,0.135805696249008,-0.018462831154466,-0.126807540655136));
res += mul(Get(s2,-dx,0), float4x4(0.215051859617233,0.014819581992924,0.236749470233917,0.074999779462814,0.114200420677662,-0.100457631051540,-0.069307155907154,0.042860835790634,0.120454430580139,0.050889864563942,0.032960027456284,0.043536853045225,0.011086436919868,0.014106397517025,0.036497168242931,-0.184917584061623));
res += mul(Get(s2,-dx,dy), float4x4(-0.145235493779182,0.025895442813635,0.171902433037758,0.006004207767546,0.173337832093239,0.036673780530691,0.157554179430008,0.164512410759926,-0.014275532215834,0.056983720511198,0.017575087025762,0.028453778475523,-0.013681039214134,-0.102403767406940,0.045918662101030,0.223400011658669));
res += mul(Get(s2,0,-dy), float4x4(-0.153376817703247,0.036552149802446,0.127413973212242,0.015135341323912,-0.073909983038902,-0.001590506988578,-0.134693801403046,-0.082557268440723,-0.091166526079178,0.174353152513504,0.087440311908722,-0.005147333722562,0.023245006799698,-0.002103577600792,0.018546795472503,-0.018154364079237));
res += mul(Get(s2,0,0), float4x4(0.109238162636757,0.014815995469689,0.175547301769257,0.283937931060791,-0.011083294637501,-0.169570669531822,-0.004150717053562,0.016615834087133,0.007731908466667,-0.113092526793480,-0.119850881397724,0.073070853948593,0.067225508391857,0.148341640830040,-0.170601263642311,-0.018329711630940));
res += mul(Get(s2,0,dy), float4x4(0.026824727654457,-0.101368755102158,-0.046185042709112,-0.278691262006760,-0.042942229658365,-0.006710824556649,0.010442068800330,0.176258459687233,-0.053133279085159,-0.008251952007413,-0.169929653406143,-0.010944080539048,0.025309231132269,0.107202939689159,-0.085342302918434,0.161059200763702));
res += mul(Get(s2,dx,-dy), float4x4(-0.061382681131363,-0.116988383233547,0.031152868643403,-0.086115919053555,0.097639434039593,-0.139519557356834,0.042504984885454,0.140626788139343,-0.043685529381037,-0.009738347493112,0.082330964505672,-0.034231707453728,0.127588704228401,0.071204729378223,-0.190879017114639,-0.035364776849747));
res += mul(Get(s2,dx,0), float4x4(0.221436262130737,0.060773573815823,-0.047965522855520,0.031524866819382,0.024308517575264,0.006316762883216,-0.012725854292512,0.053944244980812,0.017281426116824,-0.059295609593391,0.222592905163765,-0.139280557632446,0.144955813884735,-0.071654558181763,-0.010702976025641,0.027075588703156));
res += mul(Get(s2,dx,dy), float4x4(0.093558810651302,0.064116373658180,0.158276811242104,0.080647580325603,0.071271061897278,0.037623394280672,-0.030688239261508,-0.056498490273952,0.183448791503906,-0.013342412188649,0.128223478794098,0.015673680230975,0.004242554772645,-0.013225363567472,-0.007542155683041,-0.054181206971407));
res += mul(Get(s3,-dx,-dy), float4x4(0.014624609611928,-0.133066013455391,0.052795015275478,-0.006452795118093,0.042906455695629,-0.100463993847370,0.139459744095802,0.061996150761843,0.094257086515427,-0.316653162240982,-0.035111881792545,0.024392539635301,-0.110293813049793,0.043310414999723,-0.216010406613350,-0.072909198701382));
res += mul(Get(s3,-dx,0), float4x4(0.026182631030679,0.060260493308306,-0.089988924562931,-0.040953584015369,-0.082539781928062,0.100626051425934,-0.007406341843307,-0.002205535536632,-0.052408795803785,-0.046485584229231,-0.190115764737129,0.107292264699936,-0.013545961119235,-0.127754181623459,-0.129850417375565,-0.178061917424202));
res += mul(Get(s3,-dx,dy), float4x4(0.104190871119499,0.109728842973709,-0.123762436211109,0.106645740568638,0.119861081242561,0.136948823928833,0.107536837458611,0.124131523072720,0.241953939199448,0.039179857820272,-0.167600423097610,-0.066387474536896,-0.186396867036819,-0.054562691599131,0.036356288939714,-0.125928491353989));
res += mul(Get(s3,0,-dy), float4x4(-0.103281110525131,0.216854661703110,-0.014836625196040,-0.013090289197862,0.176286086440086,-0.027432220056653,0.177423506975174,-0.090993121266365,0.002283772220835,0.003350565442815,0.082695588469505,-0.006455446593463,0.032302748411894,-0.171291634440422,-0.099897481501102,0.056707002222538));
res += mul(Get(s3,0,0), float4x4(0.184054642915726,0.056905545294285,-0.028196267783642,-0.084715031087399,0.105477266013622,0.032807782292366,-0.294883251190186,0.076813086867332,0.017107792198658,0.227987408638000,-0.121033862233162,-0.108930163085461,0.146241694688797,-0.116550274193287,-0.110263995826244,0.162153437733650));
res += mul(Get(s3,0,dy), float4x4(0.007068346254528,-0.087929986417294,0.113726876676083,-0.037927892059088,-0.037328686565161,-0.011951570399106,-0.204964488744736,0.029126178473234,0.146723687648773,0.195782944560051,-0.009897863492370,-0.156158164143562,0.184489905834198,0.013431889936328,-0.204099133610725,0.007192526943982));
res += mul(Get(s3,dx,-dy), float4x4(0.052909914404154,-0.069511070847511,-0.067324034869671,-0.161013454198837,0.169404253363609,0.084152683615685,0.045380167663097,-0.070288166403770,-0.088102422654629,-0.170420587062836,0.043373174965382,0.023507120087743,0.102990902960300,-0.029917109757662,0.038151681423187,0.130273908376694));
res += mul(Get(s3,dx,0), float4x4(0.053250074386597,-0.007656730711460,0.131179645657539,0.010554855689406,0.048426605761051,0.063615828752518,-0.130575343966484,-0.028419673442841,0.001232742331922,0.059646893292665,-0.055530946701765,0.025452392175794,-0.078220903873444,0.060783062130213,0.144271001219749,-0.049193903803825));
res += mul(Get(s3,dx,dy), float4x4(-0.058548156172037,-0.001850292203017,-0.045155234634876,0.027670614421368,0.014943646267056,0.089066021144390,-0.079068601131439,0.109223723411560,-0.022600907832384,-0.062380779534578,0.022282807156444,0.028698539361358,0.085107088088989,-0.015879761427641,0.172440022230148,0.059510216116905));
return max(float4(0,0,0,0), res);
}
