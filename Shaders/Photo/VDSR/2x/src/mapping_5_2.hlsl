sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.046329736709595,-0.028744956478477,0.199507787823677,-0.207302108407021,0.089615628123283,0.032725207507610,0.027076324447989,-0.014477084390819,0.094011850655079,0.012015282176435,0.132840946316719,-0.057246334850788,-0.131408393383026,0.067845612764359,-0.020888201892376,-0.031223168596625));
res += mul(Get(s0,-dx,0), float4x4(0.042674873024225,-0.033511128276587,0.108019761741161,-0.239474356174469,0.012710665352643,-0.028521412983537,0.024384606629610,0.045754447579384,0.033201094716787,0.001858698669821,0.190022617578506,-0.073241353034973,-0.055107228457928,-0.047508809715509,0.043298363685608,-0.072349555790424));
res += mul(Get(s0,-dx,dy), float4x4(-0.015239311382174,-0.030428882688284,0.016854368150234,-0.086897365748882,-0.070058517158031,0.025600530207157,-0.094236239790916,0.171082630753517,0.060774043202400,0.215221583843231,0.009718565270305,0.027115318924189,0.001454423763789,-0.054546251893044,-0.041783742606640,-0.052741222083569));
res += mul(Get(s0,0,-dy), float4x4(-0.020714344456792,0.013011871837080,0.182504430413246,0.002665480831638,0.029253747314215,0.057281542569399,0.079363532364368,0.076738804578781,0.172432571649551,0.048148643225431,-0.022372655570507,0.080343753099442,-0.135747179389000,-0.034835800528526,-0.163039252161980,-0.019239993765950));
res += mul(Get(s0,0,0), float4x4(-0.196907073259354,-0.012091990560293,0.038156870752573,0.025914631783962,0.000500307942275,-0.127070233225822,0.076435312628746,0.102325737476349,0.171008616685867,0.016192911192775,-0.060523509979248,0.076334610581398,-0.057712204754353,0.253984570503235,0.059623476117849,-0.117991946637630));
res += mul(Get(s0,0,dy), float4x4(-0.063839018344879,-0.023995839059353,0.083300486207008,0.112974844872952,0.016021903604269,0.105763219296932,0.046978160738945,0.028015227988362,0.055251099169254,0.088943712413311,-0.015379219315946,0.003241874743253,-0.079324342310429,0.061418201774359,0.163438051939011,0.008792888373137));
res += mul(Get(s0,dx,-dy), float4x4(0.017501495778561,-0.121814891695976,0.043777402490377,-0.088379770517349,-0.061936162412167,0.047436080873013,-0.055498696863651,0.033299520611763,-0.066612467169762,-0.122478000819683,-0.061131469905376,0.030645750463009,-0.070837944746017,-0.111974962055683,-0.035420376807451,0.139202788472176));
res += mul(Get(s0,dx,0), float4x4(-0.196398079395294,-0.047327890992165,-0.053911875933409,0.190903082489967,0.038901783525944,-0.128800705075264,0.025465039536357,0.056226618587971,-0.067379795014858,-0.009330399334431,-0.047316864132881,0.058346275240183,0.008191256783903,0.055377498269081,0.032967045903206,0.041284378618002));
res += mul(Get(s0,dx,dy), float4x4(-0.010458378121257,0.171274065971375,-0.126856759190559,0.012019202113152,0.010574873536825,0.017858741804957,0.109317615628242,-0.144231796264648,0.010308605618775,-0.096103310585022,0.011946321465075,-0.008000328205526,0.003417649306357,-0.045231275260448,0.059926263988018,0.117318280041218));
res += mul(Get(s1,-dx,-dy), float4x4(0.095103934407234,0.011657319031656,0.062210284173489,-0.106283083558083,-0.018300995230675,-0.080282658338547,0.056054499000311,-0.027350589632988,0.025958305224776,-0.080061115324497,-0.040899608284235,0.007586471736431,-0.019363140687346,0.015058081597090,0.006946910638362,-0.113270081579685));
res += mul(Get(s1,-dx,0), float4x4(-0.182654038071632,0.064062997698784,0.025669401511550,0.074727401137352,-0.007580221164972,-0.075467765331268,0.061936385929585,0.043500386178493,-0.066661611199379,-0.055307108908892,-0.043047007173300,0.075016707181931,0.004563745111227,0.031184416264296,-0.069270603358746,-0.065272703766823));
res += mul(Get(s1,-dx,dy), float4x4(-0.057029370218515,0.019604267552495,0.004031174350530,-0.021596871316433,-0.098588198423386,-0.016230856999755,0.038148112595081,0.002894459525123,-0.097406275570393,0.037534326314926,-0.100009337067604,-0.110574655234814,0.143667817115784,0.057614758610725,-0.010148698464036,0.023958321660757));
res += mul(Get(s1,0,-dy), float4x4(0.057381372898817,-0.032260987907648,-0.039444755762815,-0.038583714514971,-0.040053304284811,0.007554363459349,0.020118409767747,-0.096451029181480,0.110832042992115,0.026994636282325,0.012049906887114,0.036783389747143,0.033648382872343,0.005892049521208,-0.107999451458454,-0.166878998279572));
res += mul(Get(s1,0,0), float4x4(-0.121483840048313,-0.016726631671190,-0.112546734511852,0.006751474924386,0.044269938021898,-0.001666915370151,0.034981075674295,-0.162699282169342,0.006875787395984,-0.062494765967131,0.080957174301147,0.099193945527077,-0.049990750849247,0.155008539557457,-0.173493757843971,-0.050704151391983));
res += mul(Get(s1,0,dy), float4x4(-0.128730356693268,0.140924811363220,-0.023350961506367,0.090875886380672,0.059918444603682,0.017002867534757,-0.079694390296936,-0.064712025225163,0.024415705353022,-0.127339616417885,0.068125762045383,0.076098076999187,-0.108101874589920,0.090897873044014,-0.010729709640145,-0.050876125693321));
res += mul(Get(s1,dx,-dy), float4x4(0.000699918542523,0.005495550576597,0.076539747416973,-0.029380036517978,0.026340737938881,-0.042420335114002,0.012856925837696,0.135018944740295,0.078354589641094,0.077548868954182,-0.078186623752117,-0.023217080160975,-0.020307222381234,-0.061827033758163,-0.005748970434070,-0.056645270437002));
res += mul(Get(s1,dx,0), float4x4(-0.025375379249454,0.018424786627293,0.017832038924098,0.034113902598619,0.039074614644051,0.103095456957817,0.080177813768387,0.019900299608707,0.013782502152026,-0.010508020408452,-0.071298122406006,-0.165243074297905,0.041546732187271,0.281068295240402,-0.011436668224633,0.034236673265696));
res += mul(Get(s1,dx,dy), float4x4(-0.149070724844933,-0.021441981196404,0.065440297126770,0.021846754476428,0.057099796831608,-0.019714701920748,0.103342242538929,0.072987586259842,-0.057886462658644,-0.124689593911171,-0.154969409108162,0.068648248910904,-0.011178081855178,-0.022550212219357,-0.034966986626387,0.006306602619588));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024616733193398,0.029035232961178,0.029519902542233,-0.001495693461038,0.029574384912848,-0.031604498624802,-0.071317456662655,0.064465232193470,0.047966849058867,0.072864681482315,0.165979936718941,-0.129006803035736,0.023351309821010,0.043686751276255,0.020442897453904,-0.066772662103176));
res += mul(Get(s2,-dx,0), float4x4(-0.119028002023697,-0.020919276401401,-0.029424836859107,0.060012359172106,0.102849341928959,-0.096428014338017,-0.053158797323704,0.202420130372047,0.024777371436357,-0.016241269186139,-0.040222626179457,-0.015401775017381,-0.075240045785904,-0.197162151336670,-0.054955430328846,-0.089373365044594));
res += mul(Get(s2,-dx,dy), float4x4(-0.073790438473225,-0.023456715047359,-0.036578498780727,0.048644308000803,-0.015111646614969,-0.209025412797928,-0.077629812061787,-0.009805344045162,0.068578630685806,0.135679185390472,0.019099943339825,-0.004834046587348,-0.014722292311490,-0.045407142490149,-0.064188823103905,-0.047715898603201));
res += mul(Get(s2,0,-dy), float4x4(-0.077463231980801,-0.003709310898557,-0.022287916392088,-0.045946732163429,0.138143971562386,-0.049766849726439,-0.090107835829258,-0.073565922677517,-0.002762638963759,0.098284661769867,0.033620975911617,-0.009225882589817,0.122261323034763,0.051371213048697,0.073208928108215,-0.070651218295097));
res += mul(Get(s2,0,0), float4x4(0.005967327393591,-0.035172205418348,-0.015951871871948,-0.052602432668209,-0.059766955673695,-0.012259145267308,-0.091238766908646,-0.020968941971660,0.274031758308411,-0.046459797769785,-0.044158916920424,-0.000737170339562,0.017309136688709,-0.114634782075882,0.051542006433010,0.055482331663370));
res += mul(Get(s2,0,dy), float4x4(-0.201939269900322,0.085757069289684,-0.069933779537678,-0.030419073998928,-0.010353332385421,-0.076170608401299,0.028178187087178,-0.035070016980171,0.020268304273486,0.003502680221573,-0.038164056837559,-0.077082358300686,0.093088380992413,-0.089766047894955,-0.029579369351268,-0.029614545404911));
res += mul(Get(s2,dx,-dy), float4x4(-0.100931003689766,-0.006566577125341,-0.014084562659264,0.071063719689846,-0.019591670483351,-0.031383488327265,-0.055180713534355,-0.165034160017967,-0.096584878861904,0.125539898872375,0.034395694732666,-0.056212086230516,-0.018743373453617,-0.095168851315975,0.010844352655113,-0.058345794677734));
res += mul(Get(s2,dx,0), float4x4(-0.076487243175507,-0.067797526717186,-0.045446977019310,-0.099494509398937,0.006014115642756,-0.134113430976868,0.048032283782959,0.049684528261423,0.115662559866905,-0.007529487833381,-0.048231415450573,0.106307536363602,-0.019334558397532,-0.029830880463123,0.039333440363407,-0.030294775962830));
res += mul(Get(s2,dx,dy), float4x4(-0.007014873437583,0.031759764999151,0.000606404559221,0.046729668974876,-0.003594379406422,-0.143494859337807,0.009772915393114,0.134683862328529,0.092290922999382,-0.087012618780136,-0.001275860471651,-0.072007298469543,-0.050577409565449,0.000125224105432,0.049447704106569,0.004869073163718));
res += mul(Get(s3,-dx,-dy), float4x4(-0.018157001584768,0.040261127054691,0.005150830373168,0.010309118777514,0.042990807443857,-0.143788978457451,-0.017496716231108,-0.065675921738148,0.087047286331654,-0.020727982744575,0.093006893992424,-0.006777352653444,-0.055152315646410,-0.028235698118806,-0.077457435429096,-0.059465419501066));
res += mul(Get(s3,-dx,0), float4x4(0.035737134516239,0.052036266773939,-0.053472567349672,0.012054053135216,0.100618205964565,0.040545597672462,0.016220983117819,0.044516623020172,-0.011289873160422,-0.041630107909441,0.085084453225136,-0.097389340400696,-0.012177067808807,0.150372937321663,-0.009089808911085,0.069812178611755));
res += mul(Get(s3,-dx,dy), float4x4(0.019839607179165,0.047920096665621,0.009081359952688,0.141344085335732,0.114352650940418,0.132924169301987,0.070600956678391,-0.004170116968453,-0.009188875555992,0.000712213513907,-0.012028830125928,0.000194404565264,0.059690233319998,0.056064847856760,-0.073097981512547,-0.013440934009850));
res += mul(Get(s3,0,-dy), float4x4(-0.114100024104118,0.017112214118242,0.011335168965161,0.036961406469345,0.078807577490807,-0.074547052383423,0.073624022305012,-0.121542945504189,-0.118045806884766,-0.024641340598464,-0.062521301209927,-0.006184777244925,-0.030610444024205,0.057851403951645,-0.142942592501640,0.158366933465004));
res += mul(Get(s3,0,0), float4x4(0.002726953476667,0.008370587602258,0.181833118200302,0.089535653591156,0.088589712977409,0.004792244639248,0.001779320882633,0.008362798951566,0.011069823987782,-0.118219688534737,0.009151750244200,0.060512073338032,-0.024477479979396,0.211200729012489,-0.158427461981773,0.072896495461464));
res += mul(Get(s3,0,dy), float4x4(0.079303011298180,0.172751680016518,0.251427948474884,0.046167641878128,0.094699464738369,0.122481070458889,0.087422564625740,-0.078382536768913,0.061927162110806,-0.152028709650040,-0.066985748708248,0.075454093515873,0.023522144183517,0.128206804394722,-0.066625349223614,0.073538623750210));
res += mul(Get(s3,dx,-dy), float4x4(0.021412231028080,0.045653242617846,-0.002176271285862,0.040161639451981,-0.048657990992069,0.050360534340143,0.027074176818132,-0.085263431072235,-0.077520668506622,0.019397923722863,0.009206960909069,-0.121677510440350,-0.041375104337931,0.141715794801712,-0.098366484045982,-0.036695078015327));
res += mul(Get(s3,dx,0), float4x4(0.045222386717796,0.000443814700702,0.029035562649369,0.094487324357033,0.197305306792259,0.058230958878994,0.021094571799040,-0.020830288529396,0.011517970822752,0.032900035381317,-0.028298094868660,-0.026369540020823,-0.048342239111662,-0.026563176885247,-0.128645062446594,0.089440800249577));
res += mul(Get(s3,dx,dy), float4x4(0.023211488500237,-0.036563929170370,0.001571136410348,0.057079214602709,0.071944005787373,0.021474126726389,-0.059383597224951,0.025326076894999,0.092572823166847,-0.151266738772392,-0.047522880136967,0.192527979612350,-0.118894971907139,-0.044888954609632,-0.023964576423168,0.071288295090199));
return max(float4(0,0,0,0), res);
}
