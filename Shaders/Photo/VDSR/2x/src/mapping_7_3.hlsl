sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.004295671358705,-0.255043715238571,-0.019377088174224,0.175681844353676,0.127835065126419,0.113796599209309,0.216388568282127,0.004905236884952,0.207576662302017,-0.127363696694374,-0.185455977916718,-0.090018831193447,0.041487570852041,0.058658186346292,-0.200632542371750,-0.106129758059978));
res += mul(Get(s0,-dx,0), float4x4(0.038409944623709,-0.014116231352091,-0.082358099520206,0.051712203770876,-0.201333597302437,-0.003472188953310,0.038852065801620,-0.012035695835948,-0.044293224811554,-0.101417675614357,-0.039427693933249,0.092917934060097,-0.007398324087262,-0.068148873746395,0.062066305428743,0.050797861069441));
res += mul(Get(s0,-dx,dy), float4x4(-0.059676859527826,-0.034635916352272,0.033688180148602,-0.020162338390946,0.061317853629589,-0.129059299826622,0.097566246986389,-0.166784688830376,0.002179393777624,-0.014857787638903,-0.005123098846525,-0.079213418066502,-0.033429257571697,-0.019583381712437,0.107156343758106,0.087075285613537));
res += mul(Get(s0,0,-dy), float4x4(-0.007504610344768,0.050343219190836,-0.068223640322685,-0.054345324635506,-0.091993123292923,0.062592893838882,-0.101166658103466,0.393878310918808,-0.067076042294502,-0.029118277132511,-0.136335179209709,0.125054091215134,-0.080921821296215,-0.014757202006876,0.076878696680069,-0.036521248519421));
res += mul(Get(s0,0,0), float4x4(0.186917081475258,0.037729851901531,0.027887742966413,-0.070588536560535,0.125021070241928,0.100139133632183,-0.068317286670208,0.033042650669813,0.111212737858295,0.177713096141815,0.038844890892506,-0.079807139933109,0.041531033813953,0.034858334809542,-0.041421305388212,0.217480763792992));
res += mul(Get(s0,0,dy), float4x4(-0.025090565904975,-0.054818101227283,-0.181129336357117,-0.144622698426247,0.078056477010250,-0.086028389632702,-0.111270822584629,0.158858984708786,0.052091032266617,0.006196583621204,-0.122010231018066,0.062815293669701,-0.037989150732756,-0.154666870832443,-0.048007450997829,0.076791740953922));
res += mul(Get(s0,dx,-dy), float4x4(0.153579205274582,0.068487077951431,0.072938956320286,-0.049754112958908,-0.002087115775794,0.107044272124767,-0.220079034566879,-0.029783876612782,0.028017781674862,0.214761719107628,-0.146934121847153,-0.071219503879547,0.093739397823811,-0.015699679031968,0.053578156977892,0.053427979350090));
res += mul(Get(s0,dx,0), float4x4(-0.225724294781685,0.018117738887668,-0.013071688823402,-0.016976708546281,-0.035129491239786,0.000735092966352,-0.148947805166245,0.108625121414661,-0.108888417482376,0.044819165021181,0.035297002643347,0.023244325071573,0.041370678693056,-0.012347846291959,0.079437986016273,-0.009711300022900));
res += mul(Get(s0,dx,dy), float4x4(0.121514350175858,-0.015438062138855,-0.001273750560358,0.248980835080147,0.236899867653847,0.035192072391510,-0.051493976265192,0.057926721870899,-0.020328151062131,-0.130038127303123,0.016529545187950,-0.013149223290384,0.122311256825924,0.092462100088596,-0.001130362157710,-0.195770680904388));
res += mul(Get(s1,-dx,-dy), float4x4(0.042835216969252,-0.018096486106515,-0.020283836871386,0.006806400138885,-0.090572513639927,0.120154835283756,0.001871626824141,-0.092747107148170,0.118197828531265,0.133250758051872,-0.195945471525192,-0.094763956964016,0.150961279869080,-0.008525684475899,0.148511067032814,-0.108599931001663));
res += mul(Get(s1,-dx,0), float4x4(-0.016458781436086,-0.046352125704288,0.037449922412634,-0.007428398821503,-0.060877896845341,0.017092065885663,0.001923996605910,0.092727787792683,-0.007146482355893,-0.085338324308395,0.054000884294510,-0.070790603756905,-0.042860683053732,-0.112705528736115,0.081128545105457,0.170837849378586));
res += mul(Get(s1,-dx,dy), float4x4(0.076681613922119,-0.112880952656269,0.040123037993908,-0.113904230296612,0.073202311992645,0.033793449401855,-0.011787669733167,-0.058616530150175,0.015569789335132,-0.017486775293946,-0.181998997926712,-0.114251144230366,-0.022097690030932,0.108503364026546,0.060335289686918,0.215188533067703));
res += mul(Get(s1,0,-dy), float4x4(0.190044492483139,0.162618637084961,0.013507076539099,-0.045110646635294,-0.032254081219435,-0.071902342140675,-0.089524306356907,0.082875989377499,0.042329970747232,-0.034931663423777,-0.081758849322796,-0.050383139401674,0.099721074104309,0.107946507632732,-0.123490348458290,0.013120595365763));
res += mul(Get(s1,0,0), float4x4(0.026321187615395,-0.094529494643211,0.064758807420731,0.002030968898907,0.058436743915081,-0.007360109128058,0.168765738606453,-0.122775688767433,-0.175409957766533,0.139582321047783,-0.346844315528870,-0.037062998861074,-0.058168113231659,-0.003762625856325,-0.017903232946992,0.114791765809059));
res += mul(Get(s1,0,dy), float4x4(-0.144032269716263,0.128618314862251,0.199229314923286,0.113414451479912,-0.031162647530437,-0.137140735983849,-0.061475239694118,0.058752313256264,-0.180176168680191,0.085109665989876,0.101019889116287,0.023907732218504,-0.125058546662331,0.036003805696964,-0.101165451109409,-0.021884232759476));
res += mul(Get(s1,dx,-dy), float4x4(0.054385300725698,0.181961908936501,-0.045439884066582,0.090484671294689,-0.035626783967018,-0.001197256846353,0.033153973519802,0.011436346918344,-0.097969993948936,-0.155109494924545,0.067897841334343,-0.220321789383888,0.201344132423401,0.032092362642288,0.031538903713226,0.114984579384327));
res += mul(Get(s1,dx,0), float4x4(0.098001301288605,-0.141444072127342,-0.008438902907073,0.024030378088355,0.023201620206237,-0.220186784863472,0.109412848949432,-0.057731844484806,0.305793970823288,0.038146749138832,-0.130071103572845,0.043056469410658,-0.086993806064129,-0.007590240798891,-0.058473367244005,0.101852402091026));
res += mul(Get(s1,dx,dy), float4x4(-0.050054073333740,-0.146080359816551,0.111005015671253,0.185229659080505,-0.126019060611725,0.020840220153332,-0.033623274415731,-0.098027937114239,-0.083908580243587,0.082833491265774,-0.108078844845295,-0.032937299460173,0.031928114593029,-0.026224171742797,0.021368939429522,0.090601295232773));
res += mul(Get(s2,-dx,-dy), float4x4(0.143614992499352,0.160633802413940,-0.126419484615326,0.085059434175491,0.030667528510094,0.072166487574577,0.102047875523567,0.161978527903557,0.131221160292625,-0.047237016260624,0.099394917488098,0.218226253986359,0.009955932386220,0.166067540645599,0.150786593556404,0.104630865156651));
res += mul(Get(s2,-dx,0), float4x4(0.107659824192524,0.114959396421909,0.022730667144060,0.145107552409172,-0.107926711440086,0.041792403906584,0.029950382187963,-0.031850934028625,0.123932398855686,0.014409000054002,-0.139834746718407,0.029418922960758,-0.067379213869572,0.013280067592859,-0.027133667841554,-0.076431870460510));
res += mul(Get(s2,-dx,dy), float4x4(0.123720906674862,-0.002087718807161,-0.030073130503297,-0.192144334316254,0.060031224042177,0.109038040041924,0.016659801825881,0.193484574556351,-0.075906246900558,0.122414670884609,-0.089702971279621,0.120666079223156,0.025734836235642,-0.016911232843995,-0.021813673898578,0.107501998543739));
res += mul(Get(s2,0,-dy), float4x4(0.024152413010597,0.021185100078583,0.060197301208973,0.012515244074166,-0.006802718155086,0.043079890310764,0.016662759706378,0.051005534827709,0.111980579793453,0.065877117216587,0.134172558784485,-0.206545397639275,-0.076218381524086,-0.073617637157440,-0.010561782866716,-0.071513161063194));
res += mul(Get(s2,0,0), float4x4(0.014619227498770,0.051734201610088,-0.078795671463013,-0.029246428981423,-0.132928445935249,-0.033286321908236,0.090492665767670,-0.015545896254480,-0.104912735521793,0.034927457571030,-0.062701031565666,0.136581405997276,-0.019502243027091,0.251827806234360,0.031863048672676,-0.135260745882988));
res += mul(Get(s2,0,dy), float4x4(-0.126321211457253,-0.037214379757643,0.092547312378883,0.004328296519816,0.045627165585756,0.151557683944702,-0.097859278321266,-0.068863295018673,-0.095043994486332,-0.003230484435335,0.091043941676617,0.082124084234238,-0.052380088716745,-0.054810196161270,0.028393542394042,0.276617199182510));
res += mul(Get(s2,dx,-dy), float4x4(0.013331446796656,0.143713295459747,0.030511738732457,-0.061079878360033,-0.143573299050331,0.021840192377567,0.004687618464231,0.032544203102589,0.108798205852509,-0.048757169395685,0.111422136425972,0.133164584636688,-0.087414905428886,-0.067347690463066,0.091910272836685,-0.018203360959888));
res += mul(Get(s2,dx,0), float4x4(0.180364355444908,0.067868538200855,-0.021105609834194,-0.055567897856236,0.032837122678757,-0.009880191646516,0.120594747364521,0.171584814786911,-0.053045824170113,-0.010991227813065,0.011042701080441,0.170112848281860,0.046647235751152,-0.241143167018890,-0.053586319088936,0.079095929861069));
res += mul(Get(s2,dx,dy), float4x4(0.047168839722872,0.193242415785789,-0.101214453577995,-0.243366867303848,-0.173735171556473,-0.033196214586496,-0.077233247458935,0.035744555294514,0.025473291054368,-0.061413366347551,0.023681817576289,0.041805617511272,0.144648298621178,-0.084856607019901,-0.073046691715717,-0.000555787817575));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001023333403282,-0.020797330886126,0.055696222931147,-0.009190121665597,-0.119227766990662,-0.116128675639629,0.012379021383822,0.065863631665707,-0.118427433073521,-0.042080521583557,-0.007067673839629,0.008107214234769,0.156213387846947,-0.338652610778809,-0.061701275408268,-0.021270783618093));
res += mul(Get(s3,-dx,0), float4x4(-0.166539415717125,-0.028854034841061,-0.020960956811905,-0.103240922093391,-0.018915656954050,0.129896432161331,0.024851519614458,-0.099400274455547,-0.169027507305145,-0.045656476169825,-0.018353695049882,0.014143322594464,0.057158086448908,0.159739479422569,0.026951437816024,-0.085990361869335));
res += mul(Get(s3,-dx,dy), float4x4(0.084573082625866,0.075553543865681,-0.014990145340562,0.063023164868355,-0.031474467366934,-0.044926077127457,0.020592300221324,0.193819463253021,-0.158801078796387,-0.031633615493774,0.005223201587796,-0.016928574070334,0.065337046980858,-0.023780150339007,-0.064676322042942,0.090677566826344));
res += mul(Get(s3,0,-dy), float4x4(0.072875581681728,-0.085220165550709,0.016417928040028,0.036626812070608,-0.054391808807850,0.106622375547886,-0.171752721071243,-0.014356963336468,-0.081143088638783,0.029414022341371,-0.028554728254676,-0.018923643976450,-0.156067565083504,0.050788149237633,-0.162497192621231,-0.045601084828377));
res += mul(Get(s3,0,0), float4x4(0.043003477156162,-0.145351111888885,-0.101107135415077,-0.107849739491940,-0.068641178309917,-0.041002865880728,-0.093486547470093,0.023142157122493,0.094056017696857,-0.169672697782516,0.011768246069551,0.057466141879559,0.044166602194309,-0.077947363257408,-0.101936452090740,0.350497573614120));
res += mul(Get(s3,0,dy), float4x4(0.063966408371925,0.104087479412556,-0.048217684030533,0.168177843093872,0.145475581288338,-0.034741744399071,-0.096663512289524,0.166996598243713,-0.093726821243763,-0.102107763290405,0.045299451798201,0.116271965205669,-0.068783663213253,-0.091443590819836,-0.045984383672476,0.078416079282761));
res += mul(Get(s3,dx,-dy), float4x4(0.016594013199210,-0.138943046331406,0.036343902349472,0.094183571636677,0.161413311958313,0.010062572546303,0.003108205040917,0.024514332413673,0.235505819320679,0.169542938470840,0.049505051225424,-0.119972839951515,0.065680809319019,-0.223927006125450,-0.311710268259048,-0.137646853923798));
res += mul(Get(s3,dx,0), float4x4(0.053491938859224,0.109886780381203,0.033978592604399,0.366573899984360,-0.062722310423851,0.021792320534587,-0.109186984598637,-0.058674830943346,-0.100986868143082,-0.017048032954335,-0.104061417281628,0.028479259461164,0.200047463178635,-0.242277562618256,0.059069424867630,0.040055800229311));
res += mul(Get(s3,dx,dy), float4x4(-0.050352852791548,0.054555218666792,0.133236184716225,0.014121382497251,0.240934744477272,0.020858364179730,-0.018174838274717,0.218727320432663,0.096993222832680,0.112915098667145,-0.048651602119207,0.001427053706720,0.030030973255634,-0.089018672704697,0.050703670829535,-0.175142198801041));
return max(float4(0,0,0,0), res);
}
