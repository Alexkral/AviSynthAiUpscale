sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.025114163756371,-0.013879782520235,0.144519016146660,0.193095624446869,0.133802071213722,0.030685679987073,-0.059177283197641,0.047804094851017,0.040349800139666,0.059539295732975,-0.029333874583244,-0.008511085063219,-0.095235861837864,0.060666985809803,-0.049321409314871,-0.080193758010864));
res += mul(Get(s0,-dx,0), float4x4(-0.185700997710228,-0.049849692732096,-0.117949083447456,-0.051927108317614,0.078489527106285,0.062155254185200,-0.124929495155811,0.108441479504108,-0.162675172090530,0.178038969635963,0.074021600186825,-0.020259678363800,-0.096186496317387,0.094116255640984,-0.031652297824621,0.117413021624088));
res += mul(Get(s0,-dx,dy), float4x4(-0.193289741873741,0.007453055121005,-0.004245273303241,0.004191818647087,0.011071291752160,0.028171567246318,0.064262688159943,0.039234809577465,0.003044554032385,-0.022132009267807,-0.030085815116763,-0.017464663833380,0.019657904282212,0.057102173566818,-0.117815926671028,-0.171781286597252));
res += mul(Get(s0,0,-dy), float4x4(0.069761723279953,0.027194963768125,-0.050381660461426,-0.092304274439812,0.220943063497543,-0.121817730367184,-0.055472970008850,0.114918552339077,0.029495589435101,-0.051908511668444,-0.044288516044617,-0.012560806237161,0.044438462704420,-0.048991821706295,0.139518395066261,0.034289289265871));
res += mul(Get(s0,0,0), float4x4(0.014587088488042,0.069459803402424,0.021381434053183,0.141168519854546,-0.065058216452599,0.080309711396694,-0.182351037859917,-0.036748562008142,-0.133579790592194,-0.009122105315328,0.022572673857212,0.015116846188903,-0.028068013489246,-0.050681039690971,0.177005723118782,0.156675040721893));
res += mul(Get(s0,0,dy), float4x4(0.010978654958308,0.079950131475925,0.008140810765326,0.080462895333767,-0.028115712106228,-0.097513228654861,0.343531727790833,0.058918062597513,-0.136465400457382,0.002222516341135,-0.092456519603729,-0.021292150020599,0.205561906099319,0.016243774443865,0.008229926228523,0.084611274302006));
res += mul(Get(s0,dx,-dy), float4x4(0.067259535193443,0.016393121331930,0.022037789225578,0.213796302676201,0.035588666796684,0.062999650835991,0.065509125590324,0.111216478049755,-0.053239133208990,-0.068648681044579,-0.129307121038437,-0.077663026750088,0.096584692597389,0.275908946990967,0.148598492145538,-0.040192101150751));
res += mul(Get(s0,dx,0), float4x4(0.007503482513130,0.124570116400719,-0.021870205178857,0.245661690831184,0.163053900003433,-0.069776654243469,0.050723914057016,0.032988399267197,0.150482088327408,0.014148372225463,-0.045212183147669,0.072909966111183,-0.002068885136396,0.002052717842162,0.065546318888664,0.125920757651329));
res += mul(Get(s0,dx,dy), float4x4(-0.209431678056717,0.196779325604439,-0.088350214064121,-0.042550306767225,-0.030637796968222,-0.192564755678177,-0.074722215533257,0.014882141724229,0.096123315393925,0.237242147326469,-0.050251729786396,-0.079005606472492,-0.073534257709980,-0.060863573104143,0.150239065289497,0.126413911581039));
res += mul(Get(s1,-dx,-dy), float4x4(-0.057130303233862,-0.133082345128059,-0.073913261294365,0.033802635967731,-0.075716949999332,-0.048487525433302,0.161240205168724,0.101594783365726,-0.025550065562129,0.094819948077202,-0.031083488836884,-0.123751685023308,-0.082609139382839,-0.235445454716682,0.028094027191401,-0.171275869011879));
res += mul(Get(s1,-dx,0), float4x4(0.025761103257537,0.123189844191074,0.041423607617617,-0.033638458698988,-0.302831321954727,-0.121835358440876,-0.030807510018349,0.101895995438099,-0.072724148631096,-0.101727023720741,0.049533627927303,0.103560172021389,-0.033582378178835,-0.054344378411770,0.117622464895248,0.056262269616127));
res += mul(Get(s1,-dx,dy), float4x4(0.127787917852402,-0.035440575331450,0.060678705573082,0.073054902255535,0.051064226776361,-0.070703610777855,-0.013258499093354,-0.007116107270122,0.187091648578644,-0.092385664582253,0.010906482115388,0.084856048226357,0.094835847616196,0.060484614223242,-0.058604121208191,0.148392140865326));
res += mul(Get(s1,0,-dy), float4x4(-0.073527649044991,-0.125561788678169,-0.103978909552097,0.071765601634979,-0.078396379947662,-0.080080047249794,0.032601393759251,0.161556378006935,0.026380158960819,-0.095728971064091,-0.009725690819323,-0.058472178876400,0.059269394725561,0.083273276686668,0.103822559118271,0.196226239204407));
res += mul(Get(s1,0,0), float4x4(0.037699073553085,-0.048280496150255,0.128845423460007,0.101480975747108,0.150479331612587,0.011845744214952,-0.018030745908618,0.087989881634712,-0.107753477990627,0.072265714406967,0.034284021705389,-0.077061392366886,0.014398573897779,0.179239645600319,0.163765296339989,-0.114648878574371));
res += mul(Get(s1,0,dy), float4x4(-0.070697575807571,-0.002207685494795,0.064743079245090,-0.049149684607983,0.123134255409241,-0.021626006811857,0.011315463110805,-0.009491192176938,-0.111375682055950,0.168587073683739,0.065351977944374,0.264820367097855,0.039848547428846,0.032507982105017,0.000330653012497,0.054006520658731));
res += mul(Get(s1,dx,-dy), float4x4(0.085733197629452,0.061623379588127,-0.021919621154666,0.055506762117147,-0.285168826580048,-0.034065511077642,0.063799016177654,0.055768240243196,-0.038489460945129,0.004539297893643,-0.044235654175282,-0.121627248823643,0.147975295782089,-0.054909370839596,0.077920064330101,0.088976316154003));
res += mul(Get(s1,dx,0), float4x4(-0.049203582108021,0.026323659345508,0.052274957299232,0.059593968093395,-0.083773560822010,-0.047509606927633,-0.057498555630445,0.181752771139145,0.004297723993659,0.167254492640495,0.055966828018427,0.090591594576836,0.003226323053241,0.074167057871819,-0.059029996395111,-0.019697183743119));
res += mul(Get(s1,dx,dy), float4x4(-0.035065375268459,-0.136103600263596,-0.192708283662796,-0.135327681899071,-0.034905344247818,0.164957761764526,-0.094950594007969,-0.055855676531792,0.061411928385496,0.066664107143879,-0.022856144234538,-0.032939378172159,0.052444227039814,0.004106283187866,-0.225479185581207,-0.079481706023216));
res += mul(Get(s2,-dx,-dy), float4x4(0.027207035571337,-0.149166479706764,-0.006140846759081,-0.044172018766403,-0.169415563344955,-0.050402034074068,-0.034561850130558,0.089183107018471,0.124464571475983,0.089149996638298,0.067676983773708,-0.036348320543766,-0.089673914015293,-0.124826580286026,-0.099257536232471,-0.123717345297337));
res += mul(Get(s2,-dx,0), float4x4(-0.089207701385021,0.012516798451543,0.013952746056020,0.049122560769320,0.063391909003258,0.120344899594784,0.036104295402765,0.010589881800115,-0.033438567072153,0.187331929802895,-0.122140042483807,0.050697334110737,0.034561280161142,-0.000200013353606,0.013931899331510,-0.199034199118614));
res += mul(Get(s2,-dx,dy), float4x4(0.035122044384480,-0.075527407228947,-0.055809844285250,-0.004852104932070,-0.062159534543753,0.073325097560883,0.070410586893559,0.044464431703091,-0.147179901599884,0.044115796685219,-0.080680049955845,0.021460842341185,-0.159776270389557,-0.184328079223633,-0.029935974627733,-0.108400575816631));
res += mul(Get(s2,0,-dy), float4x4(0.032201644033194,0.041727349162102,0.018291160464287,0.000789703568444,0.008331615477800,0.015774657949805,-0.112474285066128,0.105249911546707,-0.011125558055937,0.129362165927887,-0.010881539434195,0.055921256542206,0.153750360012054,-0.080689914524555,-0.018734438344836,-0.049815203994513));
res += mul(Get(s2,0,0), float4x4(0.074357628822327,-0.110428094863892,0.051239896565676,0.168237403035164,-0.047501821070910,0.071982800960541,0.049050882458687,-0.179473310709000,0.019391998648643,-0.235383287072182,-0.152711033821106,-0.138603597879410,-0.028835695236921,-0.038556147366762,-0.039006751030684,-0.053599998354912));
res += mul(Get(s2,0,dy), float4x4(0.123491682112217,0.188498690724373,0.306940585374832,-0.112957537174225,0.004737872630358,0.088647603988647,0.161879107356071,-0.113771766424179,-0.084648706018925,0.041517592966557,-0.216025978326797,-0.058801829814911,0.000164057695656,-0.039317656308413,0.073857031762600,0.084231317043304));
res += mul(Get(s2,dx,-dy), float4x4(0.100181020796299,-0.013709163293242,-0.157181978225708,0.102904565632343,0.051304087042809,-0.139473244547844,0.055712979286909,0.074067287147045,0.126597717404366,0.125436842441559,-0.206258192658424,-0.067914448678493,-0.103534311056137,0.105369143188000,0.075818762183189,0.012806651182473));
res += mul(Get(s2,dx,0), float4x4(0.014488529413939,-0.083276472985744,0.153788939118385,-0.024503206834197,-0.054228980094194,0.155441850423813,0.036214631050825,0.200473293662071,-0.140166208148003,-0.046655870974064,-0.242147669196129,-0.086711503565311,-0.033633034676313,-0.006568891461939,-0.176267445087433,0.125348493456841));
res += mul(Get(s2,dx,dy), float4x4(-0.028061900287867,0.069277837872505,0.033019088208675,-0.142017528414726,-0.010064137168229,-0.096357800066471,-0.119068212807178,-0.248929023742676,-0.110380828380585,0.001062067574821,0.086299791932106,0.188813939690590,-0.048704605549574,-0.152046486735344,-0.105889655649662,0.045286245644093));
res += mul(Get(s3,-dx,-dy), float4x4(-0.150145083665848,0.117051385343075,0.020685020834208,0.213759720325470,-0.084931090474129,-0.084371872246265,-0.199375659227371,-0.086545526981354,-0.056081682443619,0.099380582571030,-0.080791629850864,0.044504500925541,0.032787896692753,-0.087124243378639,-0.087159186601639,-0.001588499872014));
res += mul(Get(s3,-dx,0), float4x4(0.039754204452038,-0.079574942588806,0.108072541654110,0.075029797852039,-0.008387685753405,0.035649474710226,-0.018245100975037,-0.085629925131798,0.078994669020176,-0.056874461472034,0.072202585637569,-0.040318980813026,-0.107120670378208,-0.009141741320491,-0.017674820497632,0.163059815764427));
res += mul(Get(s3,-dx,dy), float4x4(0.200177952647209,-0.129223793745041,0.110134296119213,-0.119240507483482,-0.084378950297832,-0.010127780959010,-0.039168272167444,-0.108161367475986,0.015276410616934,-0.106196455657482,-0.082941867411137,-0.078752316534519,-0.077549226582050,-0.014374492689967,-0.000447570229881,-0.058116137981415));
res += mul(Get(s3,0,-dy), float4x4(0.096778444945812,0.008295143023133,-0.110472947359085,-0.040575318038464,0.041874039918184,-0.000311457930366,-0.042741231620312,-0.030160631984472,0.001064319163561,0.102893911302090,-0.116408236324787,0.069339118897915,0.169509813189507,0.290678024291992,0.040676757693291,0.108776696026325));
res += mul(Get(s3,0,0), float4x4(0.017456574365497,0.098457194864750,-0.009438102133572,0.077771417796612,-0.060424759984016,-0.070222586393356,0.006750230677426,0.087992385029793,0.264514446258545,0.082743674516678,-0.029212078079581,-0.121334247291088,-0.180148482322693,0.111708447337151,-0.091273777186871,-0.036130651831627));
res += mul(Get(s3,0,dy), float4x4(-0.203850537538528,0.285364747047424,-0.007397280074656,0.046017777174711,-0.015458102338016,-0.069222353398800,-0.132936492562294,-0.008553332649171,-0.152146235108376,-0.124911844730377,-0.083653405308723,-0.147976055741310,0.032255839556456,-0.056791927665472,-0.143924519419670,-0.103533625602722));
res += mul(Get(s3,dx,-dy), float4x4(-0.007229927927256,-0.155713140964508,-0.102212049067020,0.039262559264898,0.049246534705162,0.020009880885482,-0.133085384964943,0.040892008692026,0.180050149559975,-0.049646623432636,-0.131313845515251,-0.015361141413450,0.108309462666512,0.114628009498119,0.070785537362099,-0.163356706500053));
res += mul(Get(s3,dx,0), float4x4(-0.044326122850180,-0.103259131312370,-0.037191763520241,-0.017574056982994,0.108500503003597,-0.095509722828865,-0.240231156349182,0.115710675716400,0.065978676080704,0.064916975796223,-0.192287638783455,-0.007404894568026,-0.105733692646027,-0.293156147003174,-0.005581706296653,-0.005686723161489));
res += mul(Get(s3,dx,dy), float4x4(-0.136759266257286,0.031429357826710,-0.172677412629128,0.145200937986374,-0.010840440168977,0.021229850128293,-0.025328867137432,-0.052254397422075,-0.173117056488991,-0.071030050516129,-0.082840614020824,-0.058256991207600,0.085126280784607,-0.032015666365623,-0.102766945958138,-0.232577428221703));
return max(float4(0,0,0,0), res);
}
