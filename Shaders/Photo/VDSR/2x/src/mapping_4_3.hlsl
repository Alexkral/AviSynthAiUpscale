sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.019584629684687,0.058698058128357,-0.084301389753819,-0.062316291034222,0.135510191321373,0.049919683486223,0.059991143643856,0.047821179032326,-0.055198587477207,0.125888571143150,0.155466586351395,0.034358885139227,0.014566544443369,-0.209385052323341,0.084806635975838,0.124001294374466));
res += mul(Get(s0,-dx,0), float4x4(0.066399969160557,0.061122898012400,-0.091267906129360,-0.063565410673618,0.001368357916363,-0.015790648758411,0.219119563698769,0.125519201159477,-0.081923410296440,-0.106914952397346,0.100014179944992,0.158089101314545,0.061692629009485,0.009202930144966,-0.162850290536880,0.120328277349472));
res += mul(Get(s0,-dx,dy), float4x4(0.030080782249570,-0.093496963381767,-0.034699734300375,-0.018072055652738,0.172789022326469,-0.040295839309692,-0.022408483549953,0.157992079854012,0.017631288617849,-0.111986666917801,-0.068088546395302,0.052924260497093,0.050177264958620,0.026311468333006,-0.005559740122408,0.060502897948027));
res += mul(Get(s0,0,-dy), float4x4(-0.017928345128894,0.014169693924487,-0.081077665090561,-0.129202857613564,0.055799752473831,0.043910816311836,-0.021494669839740,0.018212605267763,0.100449897348881,0.089521043002605,-0.044495798647404,-0.042397733777761,-0.034892950206995,0.133929520845413,0.114701814949512,0.050740007311106));
res += mul(Get(s0,0,0), float4x4(0.164326593279839,-0.002905683824793,-0.098994053900242,-0.101360157132149,0.072128258645535,-0.065470196306705,0.168614581227303,-0.146043688058853,-0.045594096183777,0.043118227273226,-0.029232850298285,0.088589452207088,0.035273369401693,0.251131981611252,-0.046743459999561,0.201716884970665));
res += mul(Get(s0,0,dy), float4x4(0.084163539111614,-0.118882052600384,-0.121346771717072,-0.067572340369225,0.099190361797810,-0.136041194200516,0.176383182406425,0.098824962973595,-0.005778308026493,-0.067567251622677,-0.027025062590837,-0.035409465432167,0.153479516506195,0.053897868841887,-0.026129761710763,-0.039121508598328));
res += mul(Get(s0,dx,-dy), float4x4(-0.012031287886202,-0.021063327789307,0.032289884984493,-0.071785926818848,-0.001203788793646,-0.037527509033680,0.001921005081385,0.017467778176069,0.078834787011147,-0.013962498866022,0.199676543474197,-0.107520759105682,-0.078315451741219,-0.070000559091568,0.008512103930116,0.026768404990435));
res += mul(Get(s0,dx,0), float4x4(0.095415793359280,0.061277341097593,0.045108597725630,0.028030538931489,0.062918812036514,0.122314281761646,0.072513021528721,-0.099462598562241,-0.087980628013611,-0.013667606748641,0.023208713158965,-0.122606769204140,0.091737404465675,-0.009467262774706,-0.038959901779890,0.114943400025368));
res += mul(Get(s0,dx,dy), float4x4(0.008313672617078,-0.086951643228531,0.025842929258943,0.070270106196404,0.123513773083687,0.121578194200993,0.018628548830748,-0.067189760506153,-0.059352368116379,0.052050434052944,0.040502443909645,0.049456328153610,-0.000568096002098,0.026277679949999,-0.118901573121548,0.077602006494999));
res += mul(Get(s1,-dx,-dy), float4x4(0.032014399766922,-0.087057135999203,-0.047602456063032,0.059005271643400,-0.063445530831814,0.105688296258450,0.049909304827452,0.062278188765049,0.020039165392518,0.050902217626572,-0.120100066065788,0.012915783561766,-0.009642807766795,-0.081065841019154,0.002037243917584,0.043645121157169));
res += mul(Get(s1,-dx,0), float4x4(0.078983753919601,-0.043877720832825,-0.047232121229172,-0.031931053847075,-0.089726395905018,0.177331924438477,0.059230986982584,-0.034865509718657,0.040796563029289,0.125754043459892,-0.096340343356133,0.036671992391348,-0.075373031198978,-0.026331499218941,0.119276717305183,0.019719963893294));
res += mul(Get(s1,-dx,dy), float4x4(0.012241994030774,-0.011318139731884,-0.074022650718689,-0.057533495128155,0.121633797883987,0.054629720747471,-0.023811424151063,-0.000962348130997,0.064618773758411,0.074593164026737,0.027631785720587,-0.005270136520267,-0.023640036582947,-0.080326050519943,0.052977286279202,-0.013248328119516));
res += mul(Get(s1,0,-dy), float4x4(0.080847851932049,-0.111461281776428,-0.008815429173410,0.139106437563896,-0.014730131253600,-0.030827589333057,-0.083993881940842,0.117573745548725,0.088015407323837,0.144535720348358,-0.117871828377247,0.029653191566467,0.089121133089066,-0.088015660643578,-0.034843925386667,0.111320503056049));
res += mul(Get(s1,0,0), float4x4(-0.008753869682550,0.047762747853994,-0.033262029290199,0.114229306578636,0.064581148326397,-0.025480197742581,0.059979874640703,-0.016933575272560,0.097039327025414,0.130192115902901,-0.118912674486637,-0.151757374405861,-0.079621344804764,-0.116571187973022,-0.058914098888636,0.079429753124714));
res += mul(Get(s1,0,dy), float4x4(0.131317213177681,0.124168984591961,0.087718702852726,0.012646082788706,0.092883229255676,-0.018383339047432,-0.022459452971816,-0.109300062060356,0.046486016362906,-0.051627460867167,-0.020540015771985,0.091450370848179,-0.057641994208097,-0.090845778584480,-0.023720238357782,-0.049641974270344));
res += mul(Get(s1,dx,-dy), float4x4(-0.022904513403773,-0.032232981175184,-0.050654239952564,0.156439363956451,0.066397637128830,0.020643295720220,-0.005038467235863,0.099573306739330,0.001881477073766,0.004110731184483,-0.142459571361542,-0.141717359423637,-0.055036988109350,-0.071982108056545,-0.071771115064621,0.129475936293602));
res += mul(Get(s1,dx,0), float4x4(0.097653053700924,-0.043743625283241,-0.017742220312357,-0.009506183676422,0.064557693898678,0.039441145956516,0.055798076093197,-0.045099496841431,0.007704885210842,0.025685198605061,-0.127266556024551,-0.011901298537850,0.056467872112989,-0.010481528006494,-0.098618924617767,0.017730819061399));
res += mul(Get(s1,dx,dy), float4x4(0.090920001268387,-0.136743903160095,-0.014171160757542,0.106125302612782,0.013499797321856,-0.121258638799191,-0.026032235473394,-0.014258245937526,0.056406836956739,-0.028716782107949,-0.099381081759930,0.133969396352768,-0.076544634997845,-0.050710987299681,0.026986472308636,-0.119947642087936));
res += mul(Get(s2,-dx,-dy), float4x4(0.001357329310849,0.054151501506567,-0.030810931697488,0.000833728932776,0.098661661148071,0.011979795061052,-0.041135188192129,-0.100447557866573,0.057621374726295,0.045217253267765,-0.143801525235176,-0.110868774354458,0.045019928365946,-0.112753421068192,0.027490288019180,0.032411858439445));
res += mul(Get(s2,-dx,0), float4x4(0.003545979037881,0.156255915760994,0.028692616149783,0.047905392944813,-0.087613627314568,-0.167550787329674,-0.014402152039111,-0.176486819982529,0.018032295629382,0.021732430905104,0.001181566040032,-0.050833173096180,0.056256350129843,0.010694794356823,-0.023620899766684,0.079026475548744));
res += mul(Get(s2,-dx,dy), float4x4(-0.067220702767372,0.007839945144951,0.091832555830479,0.070681832730770,0.017241545021534,0.002784722018987,0.064702741801739,0.061890326440334,0.014239181764424,0.015177555382252,-0.085724279284477,-0.023240720853209,0.160579353570938,-0.113943606615067,-0.063191182911396,0.077597595751286));
res += mul(Get(s2,0,-dy), float4x4(-0.026443773880601,0.061026334762573,0.049253262579441,-0.007723784539849,0.204322353005409,0.051365878432989,-0.120395503938198,0.009828959591687,-0.098348833620548,0.018424641340971,-0.153649017214775,-0.184387370944023,0.015801101922989,-0.066840596497059,-0.008306567557156,-0.031583067029715));
res += mul(Get(s2,0,0), float4x4(-0.109218619763851,0.077624484896660,0.037936560809612,-0.005901192780584,-0.039820410311222,-0.092226736247540,-0.049543447792530,-0.116719514131546,-0.038707327097654,-0.054188478738070,-0.078989744186401,-0.033674035221338,-0.158571332693100,0.016707243397832,0.010026986710727,0.013944538310170));
res += mul(Get(s2,0,dy), float4x4(-0.077345266938210,0.033605795353651,0.099547147750854,-0.048454724252224,0.081199675798416,-0.045338600873947,-0.033827982842922,-0.025769758969545,0.067919827997684,0.004296435974538,-0.191177740693092,-0.094522930681705,0.004393197596073,-0.112632676959038,-0.088892742991447,0.095005869865417));
res += mul(Get(s2,dx,-dy), float4x4(0.011618306860328,0.068045690655708,0.049349166452885,0.035837534815073,-0.085113011300564,0.109867997467518,-0.091569855809212,0.000239971035626,-0.051546413451433,-0.030195822939277,-0.042728856205940,-0.062242340296507,-0.036885637789965,-0.090434409677982,0.092914149165154,-0.056894641369581));
res += mul(Get(s2,dx,0), float4x4(-0.060936626046896,-0.028591154143214,0.073183074593544,0.130457013845444,-0.126254215836525,0.053473535925150,-0.073255807161331,-0.098972029983997,0.056148875504732,-0.233245044946671,-0.059756446629763,-0.035734951496124,-0.166108876466751,-0.016672957688570,0.043831855058670,-0.040036398917437));
res += mul(Get(s2,dx,dy), float4x4(0.021127199754119,0.024232476949692,-0.051134485751390,0.107415564358234,0.006358062382787,-0.024675706401467,-0.125580474734306,0.025252673774958,0.009337780997157,0.119035780429840,0.000095064620837,-0.074485562741756,-0.027943762019277,-0.134755477309227,-0.074924781918526,0.003861231729388));
res += mul(Get(s3,-dx,-dy), float4x4(0.070780500769615,0.106376811861992,-0.018706789240241,0.074051797389984,0.054454684257507,-0.035066973417997,-0.100755542516708,0.120581060647964,-0.140449792146683,-0.054828230291605,0.113861322402954,-0.036556180566549,-0.040232662111521,-0.111135318875313,0.011508770287037,0.032117825001478));
res += mul(Get(s3,-dx,0), float4x4(-0.118750870227814,0.076647363603115,0.117657952010632,0.005460192449391,-0.099703446030617,0.024815004318953,0.043468952178955,0.049533676356077,-0.186909779906273,-0.103566251695156,0.140584081411362,-0.147941380739212,0.025613829493523,0.017426172271371,-0.125615134835243,0.054963234812021));
res += mul(Get(s3,-dx,dy), float4x4(0.063571810722351,-0.171256616711617,0.024471776559949,-0.054559189826250,-0.135429859161377,0.068416036665440,0.016370778903365,-0.044754531234503,-0.025412991642952,-0.120460174977779,0.093626640737057,-0.042788993567228,-0.026035448536277,-0.169388592243195,0.026640126481652,0.008853361941874));
res += mul(Get(s3,0,-dy), float4x4(-0.032863192260265,0.155240193009377,-0.023605080321431,-0.096112541854382,0.199639990925789,0.000143204175401,0.005952837876976,-0.086679466068745,0.179240971803665,-0.017400607466698,-0.024390969425440,-0.034067876636982,0.079462133347988,-0.005562422797084,0.142023146152496,-0.008906824514270));
res += mul(Get(s3,0,0), float4x4(-0.035465426743031,0.016110364347696,0.045144230127335,0.055905632674694,-0.114366970956326,0.054876148700714,0.049170482903719,-0.033697996288538,-0.165724411606789,-0.060538928955793,-0.008559647016227,-0.008472431451082,-0.066182136535645,0.008159674704075,0.219224631786346,-0.006547953467816));
res += mul(Get(s3,0,dy), float4x4(0.151856198906898,-0.078879639506340,-0.260864287614822,0.107635676860809,-0.119815699756145,0.076183259487152,0.025087904185057,0.003707467578351,-0.016074078157544,0.118165075778961,0.108121573925018,0.107492893934250,-0.079538516700268,0.104146130383015,-0.030191684141755,-0.025327151641250));
res += mul(Get(s3,dx,-dy), float4x4(-0.017505731433630,0.029437823221087,-0.008849258534610,-0.032025393098593,0.014909326098859,-0.041582670062780,0.087415255606174,-0.073136180639267,-0.120875641703606,-0.128707766532898,0.043995305895805,-0.023367090150714,0.014163997955620,-0.040574233978987,-0.066767901182175,-0.037903413176537));
res += mul(Get(s3,dx,0), float4x4(0.061902526766062,-0.028407078236341,0.133354887366295,0.012667976319790,-0.114312693476677,0.048762474209070,0.046062804758549,-0.078429609537125,-0.017439398914576,-0.146298453211784,0.053986370563507,-0.008609979413450,0.000130462503876,0.022450758144259,0.068166606128216,-0.029302408918738));
res += mul(Get(s3,dx,dy), float4x4(-0.040470972657204,-0.030275130644441,0.098268628120422,0.100550495088100,-0.022056266665459,0.113861791789532,0.058483861386776,-0.044634703546762,0.062325123697519,-0.085379667580128,-0.123084247112274,0.114099130034447,-0.018726879730821,-0.071062043309212,0.102248452603817,-0.055251725018024));
return max(float4(0,0,0,0), res);
}
