sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.002401154488325,-0.107301585376263,-0.006089853588492,0.155784353613853,-0.029394153505564,0.032393854111433,0.002076838631183,0.109263397753239,-0.013068513013422,0.009350425563753,-0.195483937859535,0.117720894515514,0.082796260714531,-0.265741080045700,0.078044965863228,0.007952156476676));
res += mul(Get(s0,-dx,0), float4x4(-0.045383580029011,-0.008211899548769,-0.092920221388340,-0.082398429512978,0.095503449440002,0.025074766948819,-0.032049011439085,-0.047323837876320,0.027093416079879,0.215665131807327,-0.073635675013065,0.095369555056095,0.162934064865112,-0.261923104524612,-0.129283010959625,-0.035797338932753));
res += mul(Get(s0,-dx,dy), float4x4(-0.032407406717539,0.108269713819027,-0.052683819085360,0.032679278403521,-0.088859587907791,-0.058566812425852,0.165447786450386,-0.053289446979761,0.024693954735994,-0.016683068126440,0.036510221660137,-0.059189122170210,-0.035784818232059,-0.091051682829857,-0.060740791261196,-0.075494937598705));
res += mul(Get(s0,0,-dy), float4x4(0.040265683084726,-0.006997580174357,0.225658461451530,-0.079746752977371,0.210008621215820,0.030254080891609,-0.128642901778221,-0.041786897927523,-0.036954976618290,-0.107919126749039,-0.083232320845127,0.030957862734795,0.208112940192223,0.135811001062393,-0.222672209143639,-0.147808089852333));
res += mul(Get(s0,0,0), float4x4(-0.148893296718597,0.017898527905345,-0.066251270473003,0.064168378710747,0.238860338926315,0.103472515940666,-0.008972392417490,0.076518028974533,0.009255416691303,0.220435708761215,-0.110999524593353,-0.117216140031815,-0.177632570266724,-0.033380910754204,0.086084179580212,0.056304968893528));
res += mul(Get(s0,0,dy), float4x4(-0.009118938818574,-0.081258423626423,-0.102892667055130,-0.037647534161806,-0.131553888320923,-0.037252709269524,0.016561327502131,0.038785077631474,0.141749337315559,0.139409974217415,-0.082292102277279,-0.079890862107277,-0.124200195074081,-0.165083363652229,-0.034849282354116,-0.044623840600252));
res += mul(Get(s0,dx,-dy), float4x4(-0.156758725643158,0.133635982871056,-0.052527911961079,0.029636133462191,-0.096187591552734,-0.055083852261305,0.064156316220760,-0.048518329858780,-0.089313954114914,0.190758079290390,-0.060750089585781,-0.031601332128048,0.101380161941051,-0.044839646667242,0.086067400872707,-0.033021539449692));
res += mul(Get(s0,dx,0), float4x4(-0.142421156167984,0.180317342281342,0.089861735701561,-0.020467150956392,-0.128484517335892,0.157892137765884,0.057516533881426,0.123632743954659,-0.010366445407271,-0.075750917196274,0.062095880508423,0.151705756783485,0.088366821408272,0.142039909958839,-0.027404071763158,0.073302589356899));
res += mul(Get(s0,dx,dy), float4x4(-0.076488032937050,0.039818339049816,-0.160395726561546,0.143292635679245,-0.077033624053001,0.035780426114798,-0.190878152847290,0.060135096311569,-0.005390990991145,-0.024311065673828,0.096371263265610,-0.009222434833646,0.103440582752228,0.088547289371490,0.044536519795656,-0.013051535934210));
res += mul(Get(s1,-dx,-dy), float4x4(0.000534336722922,0.242828413844109,0.059025403112173,0.062668710947037,-0.239606499671936,0.170355737209320,-0.089890845119953,0.161646813154221,0.257383435964584,-0.028445906937122,-0.000878649298102,-0.057165633887053,-0.125533029437065,0.001503452542238,0.199937611818314,-0.102193698287010));
res += mul(Get(s1,-dx,0), float4x4(0.052008803933859,-0.124325722455978,-0.238638892769814,0.121488302946091,0.027885800227523,-0.021281385794282,-0.215712994337082,0.060832358896732,0.016171071678400,0.017358643934131,-0.023620454594493,-0.005605847574770,-0.022493122145534,0.059737835079432,0.214080825448036,0.140917181968689));
res += mul(Get(s1,-dx,dy), float4x4(-0.197492122650146,0.068983599543571,0.076464600861073,0.116140268743038,-0.103291980922222,-0.003918078728020,-0.024384845048189,0.032527517527342,-0.054001167416573,0.117756552994251,0.006119931582361,0.069141156971455,0.059915140271187,0.075138509273529,-0.278596818447113,-0.189328879117966));
res += mul(Get(s1,0,-dy), float4x4(-0.047712996602058,-0.122473813593388,0.025807525962591,0.010515735484660,0.169204890727997,-0.060418475419283,-0.074226818978786,0.074917770922184,0.144718199968338,-0.176164254546165,0.146550863981247,-0.014070757664740,-0.015268168412149,-0.088930577039719,0.047954510897398,-0.090591549873352));
res += mul(Get(s1,0,0), float4x4(0.057934604585171,-0.067244865000248,-0.128000900149345,-0.017775179818273,0.050650451332331,0.109118551015854,-0.159243807196617,-0.058480370789766,-0.212976634502411,-0.026781732216477,-0.170622810721397,-0.148273497819901,-0.015229047276080,0.061532810330391,0.111179247498512,0.232270672917366));
res += mul(Get(s1,0,dy), float4x4(0.104151025414467,-0.110541835427284,0.061434306204319,0.040809080004692,-0.021785834804177,-0.098787732422352,0.034227441996336,-0.249806419014931,0.063947647809982,-0.065701588988304,0.126062944531441,-0.028169417753816,-0.003489371389151,0.062994912266731,-0.180498719215393,-0.131413072347641));
res += mul(Get(s1,dx,-dy), float4x4(0.025589672848582,0.019144058227539,0.064891047775745,-0.079206079244614,-0.007247014436871,0.052379395812750,0.119278952479362,-0.056193057447672,0.020641023293138,0.044822536408901,-0.030797069892287,0.035317074507475,-0.027404537424445,0.018108105286956,-0.183299958705902,-0.049570329487324));
res += mul(Get(s1,dx,0), float4x4(0.005181099288166,-0.024938995018601,0.134240657091141,0.172215148806572,0.014339606277645,0.017918687313795,-0.093261629343033,0.117533594369888,0.028707129880786,-0.018748180940747,-0.006896316539496,-0.023510079830885,-0.024781068786979,0.149671539664268,0.021548872813582,0.017420683056116));
res += mul(Get(s1,dx,dy), float4x4(0.149779871106148,0.141176477074623,-0.005502620246261,0.096543155610561,-0.029741659760475,0.004192533902824,0.343948304653168,0.044875919818878,0.114070475101471,0.053098779171705,0.098160676658154,0.140149563550949,-0.009088580496609,-0.020377553999424,-0.212112382054329,-0.239705622196198));
res += mul(Get(s2,-dx,-dy), float4x4(-0.015204411000013,-0.064057551324368,-0.051482159644365,0.067829936742783,0.134568214416504,0.026542393490672,-0.129299208521843,-0.107847578823566,0.104657232761383,0.100352823734283,-0.144102916121483,-0.053359169512987,0.055791977792978,0.070928491652012,-0.028711104765534,0.144600152969360));
res += mul(Get(s2,-dx,0), float4x4(-0.038758255541325,-0.004291812889278,0.042959395796061,-0.185537755489349,0.172750011086464,0.130968227982521,0.025415278971195,0.014224971644580,-0.041633851826191,0.118026152253151,-0.023593399673700,0.238792091608047,0.213263541460037,-0.105453722178936,-0.108739696443081,0.014605084434152));
res += mul(Get(s2,-dx,dy), float4x4(0.144651368260384,-0.036599662154913,-0.004888190887868,-0.111921422183514,0.097702480852604,-0.009953217580914,0.089653618633747,0.056287214159966,-0.222579598426819,0.052987296134233,-0.079687133431435,-0.132613658905029,-0.146193638443947,0.022230248898268,0.143325462937355,0.108265742659569));
res += mul(Get(s2,0,-dy), float4x4(0.154632627964020,-0.035493444651365,-0.078198619186878,0.074255235493183,0.192924216389656,-0.006698973476887,0.102301478385925,0.133564800024033,-0.066971831023693,-0.108998134732246,-0.189681574702263,-0.019956208765507,-0.080961130559444,0.042951598763466,0.082367673516273,-0.178220018744469));
res += mul(Get(s2,0,0), float4x4(-0.198019102215767,-0.034943316131830,0.033484391868114,0.006241126917303,0.184692740440369,0.053409405052662,0.096007592976093,0.202473744750023,0.006104229483753,-0.183179482817650,0.026127081364393,0.166791707277298,0.087448209524155,0.006566928699613,-0.029595764353871,0.152564078569412));
res += mul(Get(s2,0,dy), float4x4(-0.106211625039577,0.101002454757690,-0.016007544472814,0.111819624900818,0.175161525607109,-0.181719601154327,-0.099784605205059,-0.112001076340675,-0.035651091486216,-0.058763988316059,0.006688217632473,0.032007917761803,-0.138013467192650,-0.214239925146103,0.049445919692516,0.074875518679619));
res += mul(Get(s2,dx,-dy), float4x4(-0.125802934169769,0.029499128460884,-0.206923142075539,0.000449252489489,-0.117747627198696,0.155256345868111,0.140460997819901,-0.103195630013943,0.016167616471648,-0.088789321482182,-0.189078018069267,0.182864800095558,0.012606983073056,-0.078536458313465,0.195293307304382,-0.075182110071182));
res += mul(Get(s2,dx,0), float4x4(-0.078392073512077,0.068064443767071,-0.061660505831242,0.133175969123840,0.198521926999092,-0.001360991271213,0.011544362641871,-0.045002020895481,0.171470135450363,0.249374479055405,0.016568519175053,-0.188882991671562,0.109306879341602,-0.079767949879169,0.031656350940466,-0.035402413457632));
res += mul(Get(s2,dx,dy), float4x4(0.086367867887020,0.028425564989448,0.019631259143353,-0.065901473164558,-0.054544541984797,-0.186045080423355,0.088209383189678,0.120276130735874,0.060796111822128,-0.042023930698633,-0.245253160595894,-0.125947639346123,-0.188325256109238,0.088344499468803,-0.087623037397861,0.074292086064816));
res += mul(Get(s3,-dx,-dy), float4x4(0.156953558325768,-0.044582907110453,0.049610096961260,-0.153587013483047,0.014418609440327,-0.088954836130142,-0.149632617831230,0.048803005367517,0.164633229374886,-0.078599788248539,0.048081498593092,0.109654285013676,-0.140706002712250,-0.168538674712181,0.043542984873056,-0.094566009938717));
res += mul(Get(s3,-dx,0), float4x4(-0.107641384005547,0.021149097010493,-0.110763192176819,0.117356039583683,-0.046031914651394,0.028198562562466,0.033788569271564,-0.024924436584115,-0.067481741309166,-0.009744955226779,-0.008630543947220,0.005244465079159,0.081686139106750,0.070877820253372,0.020373035222292,-0.089375667273998));
res += mul(Get(s3,-dx,dy), float4x4(-0.080414846539497,-0.100329943001270,0.143404617905617,0.043718345463276,-0.155631527304649,0.291386932134628,0.171625524759293,0.084510549902916,-0.048479743301868,0.037363886833191,0.057807769626379,-0.013093131594360,-0.194407030940056,0.058090232312679,0.090685397386551,-0.076566450297832));
res += mul(Get(s3,0,-dy), float4x4(0.089041061699390,0.093974635004997,-0.031986415386200,-0.019315868616104,0.111566938459873,-0.136885270476341,0.032536357641220,0.083884097635746,-0.074414566159248,0.011955934576690,0.117630481719971,0.068825811147690,0.009287612512708,0.010034354403615,0.102923259139061,0.055911052972078));
res += mul(Get(s3,0,0), float4x4(-0.028928337618709,-0.091731972992420,0.149085178971291,0.180335760116577,-0.045483063906431,0.045191869139671,0.071137547492981,0.198223859071732,-0.153773173689842,-0.033004645258188,0.069356761872768,0.042980484664440,-0.153947010636330,0.017418881878257,0.041641164571047,0.072179630398750));
res += mul(Get(s3,0,dy), float4x4(0.076424464583397,-0.114773847162724,-0.113575577735901,0.082202523946762,0.045351196080446,0.128549680113792,0.213536962866783,-0.125697791576385,0.094847761094570,0.136043965816498,-0.114249035716057,0.112078711390495,0.014256909489632,0.078793585300446,-0.013227968476713,0.014542451128364));
res += mul(Get(s3,dx,-dy), float4x4(-0.015913438051939,-0.055514257401228,-0.198603883385658,-0.037073910236359,0.031525023281574,0.043476585298777,-0.253507643938065,0.137224867939949,-0.052597850561142,-0.068625770509243,0.140726774930954,0.303194314241409,0.005841840058565,-0.154330790042877,0.048496138304472,0.076741427183151));
res += mul(Get(s3,dx,0), float4x4(-0.091495275497437,-0.033824436366558,-0.078742094337940,0.116711124777794,0.009912209585309,-0.047323688864708,0.009932773187757,-0.042288478463888,-0.121319800615311,0.061987001448870,0.046724174171686,-0.155822187662125,-0.110057659447193,-0.093259319663048,-0.127396717667580,0.054737705737352));
res += mul(Get(s3,dx,dy), float4x4(-0.037318035960197,0.089161634445190,-0.121635802090168,-0.106823094189167,0.111403658986092,0.144609197974205,0.136200189590454,-0.009629258885980,0.083301723003387,0.024967728182673,-0.107663653790951,-0.041709963232279,0.061714950948954,-0.003363555064425,0.069400005042553,-0.007704328279942));
return max(float4(0,0,0,0), res);
}
