sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.000133570225444,-0.093610927462578,-0.072433784604073,-0.081555821001530,0.148851990699768,-0.020455714315176,0.083922080695629,-0.301060706377029,-0.006738054566085,0.017317283898592,-0.022440342232585,-0.020293097943068,-0.003014528425410,0.003425688017160,0.004150445107371,0.001154726953246));
res += mul(Get(s0,-dx,0), float4x4(0.045907091349363,-0.020501103252172,-0.029357528313994,0.009123616851866,0.035700276494026,0.011525190435350,-0.081961400806904,0.468085885047913,0.013931133784354,-0.009098887443542,0.099208295345306,-0.056385397911072,-0.000329545495333,-0.006130388472229,-0.001441946835257,0.004414619412273));
res += mul(Get(s0,-dx,dy), float4x4(0.070982836186886,-0.063629403710365,0.022703830152750,-0.021455924957991,-0.240604490041733,-0.104802198708057,-0.028318416327238,0.118502251803875,-0.018733618780971,0.054302278906107,0.031152699142694,-0.065096050500870,0.004832676146179,-0.000517192238476,-0.002295071724802,0.003803479950875));
res += mul(Get(s0,0,-dy), float4x4(0.029605776071548,-0.086584962904453,-0.051342092454433,-0.029116436839104,0.065908774733543,-0.188261285424232,0.011734329164028,0.227847352623940,0.034492839127779,0.046621218323708,-0.020584136247635,-0.090436980128288,0.004555272869766,0.000862402783241,0.003434743965045,-0.003304549492896));
res += mul(Get(s0,0,0), float4x4(0.082865655422211,-0.014411493204534,-0.005851604510099,0.045468404889107,0.069749645888805,0.302958548069000,-0.207290038466454,-0.598284244537354,0.030138211324811,-0.002039892831817,-0.001818366115913,-0.086050033569336,-0.000431569613284,-0.002127629471943,0.000380029756343,-0.001550475135446));
res += mul(Get(s0,0,dy), float4x4(0.077949963510036,-0.065638355910778,0.050044711679220,0.030154056847095,-0.029045026749372,0.104774773120880,-0.119045995175838,-0.039500597864389,0.003292734967545,0.022783452644944,-0.024858973920345,-0.025394786149263,-0.002078983467072,0.002652131253853,-0.001252032816410,0.001175538287498));
res += mul(Get(s0,dx,-dy), float4x4(0.044878561049700,-0.085315220057964,0.024506051093340,0.003850739682093,-0.187059208750725,-0.182358399033546,0.002958631841466,-0.017262503504753,0.034124620258808,0.021263744682074,-0.028139343485236,0.010392496362329,-0.005291611887515,0.000885755929630,-0.002577582839876,-0.000164938785019));
res += mul(Get(s0,dx,0), float4x4(0.079322062432766,-0.019104786217213,0.018921649083495,0.042759757488966,-0.185880213975906,0.005659089423716,0.139993652701378,0.301249325275421,-0.013237738981843,0.001486942870542,-0.017301270738244,-0.058511704206467,0.002345446031541,-0.000533926417120,-0.005142473615706,0.008841089904308));
res += mul(Get(s0,dx,dy), float4x4(0.036735087633133,-0.038107857108116,-0.026008833199739,-0.010124316439033,-0.051135908812284,0.013232314959168,0.092252112925053,0.009001392871141,-0.008318181149662,0.104154638946056,-0.024323811754584,0.030075943097472,0.000081735182903,-0.001947957789525,0.000545546761714,0.001522747799754));
res += mul(Get(s1,-dx,-dy), float4x4(-0.004084190819412,-0.014920746907592,-0.006744069047272,0.001531633781269,0.011137634515762,-0.037155993282795,0.026661831885576,0.023316578939557,0.017445849254727,0.004327492788434,0.027521761134267,0.055012270808220,-0.003434108803049,0.001842927653342,0.002892830176279,-0.000802121649031));
res += mul(Get(s1,-dx,0), float4x4(0.014514193870127,0.017703404650092,0.006555961444974,-0.025479445233941,0.003222204511985,-0.060042440891266,0.078389994800091,-0.035953398793936,-0.013838518410921,-0.047153938561678,0.069394282996655,0.079045981168747,0.000181962881470,0.003687335643917,0.000022471396733,-0.005100179929286));
res += mul(Get(s1,-dx,dy), float4x4(0.013297811150551,0.001768484944478,0.021612597629428,-0.030172923579812,0.023881722241640,-0.017217531800270,0.060217328369617,-0.087592348456383,-0.028140135109425,0.155312627553940,0.013373068533838,-0.066830478608608,0.003058958332986,0.000051166403864,-0.000823551730718,-0.010067847557366));
res += mul(Get(s1,0,-dy), float4x4(0.024269441142678,-0.004482940770686,0.021310130134225,-0.014558321796358,0.092959709465504,0.007544431835413,-0.008654697798193,-0.104125186800957,0.034704193472862,-0.010694511234760,0.005684177391231,-0.002993546426296,0.003528223605826,0.005636639893055,0.002284416463226,-0.000168511280208));
res += mul(Get(s1,0,0), float4x4(0.025188341736794,0.004289625678211,0.054053630679846,-0.019130922853947,0.051966831088066,0.020050613209605,-0.000811834412161,-0.020108517259359,-0.028822612017393,-0.058044519275427,0.056090176105499,0.009061256423593,-0.000307323382003,-0.002858950290829,0.006865271832794,-0.001615205314010));
res += mul(Get(s1,0,dy), float4x4(0.033303316682577,-0.011795912869275,0.044192414730787,-0.011432198807597,0.044884040951729,0.037349361926317,0.014257051981986,0.015595378354192,-0.023285683244467,0.179751962423325,-0.000106082145066,-0.065466374158859,-0.006458629854023,-0.006978310644627,0.003083923598751,-0.002017441205680));
res += mul(Get(s1,dx,-dy), float4x4(-0.001524930237792,0.007210255600512,-0.000450842111604,-0.000414483598433,0.003070889972150,0.019269919022918,-0.128121912479401,-0.061853107064962,0.032668638974428,0.010692833922803,0.002603638917208,0.053800482302904,-0.003829388879240,-0.002606380265206,0.000308020651573,-0.002962927101180));
res += mul(Get(s1,dx,0), float4x4(-0.002508509438485,-0.000002410794650,0.021402791142464,-0.025851288810372,0.017443919554353,0.147494614124298,-0.137702450156212,-0.145198062062263,-0.062408942729235,-0.040652204304934,0.052326556295156,-0.042508143931627,0.000763282412663,-0.000696707749739,-0.001987503608689,-0.006230161059648));
res += mul(Get(s1,dx,dy), float4x4(-0.004095715004951,-0.001801107660867,0.011795935221016,-0.023215711116791,0.042295716702938,0.069598190486431,-0.142036586999893,-0.105128586292267,-0.017847210168839,0.147123634815216,0.040179803967476,0.016121203079820,0.002770652994514,-0.001313074724749,0.001761965802871,-0.001741554820910));
res += mul(Get(s2,-dx,-dy), float4x4(0.004068482201546,0.000206697251997,-0.012973632663488,-0.015418764203787,0.006358904298395,-0.002870291704312,-0.003218453843147,0.000674571318086,-0.015158524736762,-0.000407879677368,-0.017809664830565,0.075803980231285,-0.022767864167690,0.051371477544308,-0.010193765163422,-0.030932227149606));
res += mul(Get(s2,-dx,0), float4x4(0.002950202673674,-0.000691680295859,0.011587278917432,-0.016300555318594,-0.001845240592957,0.000355805183062,-0.006965717300773,0.006909187417477,0.036077577620745,0.059488445520401,0.021431339904666,-0.042828314006329,-0.013791116885841,0.128208279609680,-0.171877503395081,0.104753255844116));
res += mul(Get(s2,-dx,dy), float4x4(0.000619555939920,-0.002517645014450,0.005221409257501,-0.027168836444616,-0.005685119424015,0.003798067802563,-0.001248698099516,0.002654190175235,-0.004376183729619,-0.043340392410755,0.046284515410662,0.144734099507332,0.035345766693354,0.105711415410042,-0.205967411398888,0.017673024907708));
res += mul(Get(s2,0,-dy), float4x4(0.015134274028242,0.021260106936097,0.005191534291953,-0.039655528962612,0.005625888239592,-0.006471564527601,-0.001165162539110,0.003668906399980,-0.015570072457194,-0.009341551922262,-0.015993360430002,-0.079943068325520,0.039322596043348,-0.031648449599743,0.041363041847944,-0.107000246644020));
res += mul(Get(s2,0,0), float4x4(0.028498066589236,-0.003385497955605,0.003993951249868,-0.020676020532846,0.000942400307395,0.006246201228350,0.000890810391866,0.008273102343082,0.057805139571428,0.119313240051270,-0.022511869668961,-0.052350938320160,0.060329049825668,0.002320539439097,0.210154563188553,-0.099368058145046));
res += mul(Get(s2,0,dy), float4x4(0.007518155965954,0.001595861511305,0.002074411138892,-0.037992253899574,-0.003934320062399,-0.003076079767197,0.001057610963471,0.004131886642426,0.027395494282246,-0.054313030093908,0.028531519696116,0.065665073692799,0.098799504339695,-0.000700648233760,0.197953402996063,-0.055638443678617));
res += mul(Get(s2,dx,-dy), float4x4(0.002853257115930,-0.000173195236130,-0.001020490541123,-0.042800951749086,-0.001917082932778,0.002267497824505,-0.002400014782324,0.001496983575635,0.017707562074065,-0.007361309137195,0.003100318601355,0.025109432637691,-0.045988049358130,0.050790760666132,-0.005351303145289,0.000378179072868));
res += mul(Get(s2,dx,0), float4x4(-0.004801298491657,0.000040519164031,-0.010889607481658,-0.038069244474173,-0.002789844991639,0.003660409944132,-0.002838405082002,0.006978044286370,0.057026006281376,0.138774558901787,-0.008312333375216,-0.122408531606197,-0.086987651884556,0.031719673424959,0.077237263321877,0.115388914942741));
res += mul(Get(s2,dx,dy), float4x4(-0.003304478013888,0.018564343452454,-0.014564356766641,-0.049373026937246,0.004049093462527,0.004615947138518,0.002802304690704,-0.003150057280436,0.042604878544807,-0.034313995391130,-0.051655396819115,0.030632600188255,-0.078112937510014,0.039840944111347,0.083770185709000,0.113261155784130));
res += mul(Get(s3,-dx,-dy), float4x4(0.006549475248903,-0.003109303768724,0.009015796706080,-0.005993197206408,0.006543979514390,-0.005164506379515,-0.000481101247715,-0.005983249284327,0.002075924538076,0.081665076315403,0.013049212284386,-0.043884616345167,0.034777067601681,-0.056599624454975,0.005102949682623,0.317668378353119));
res += mul(Get(s3,-dx,0), float4x4(0.004322282969952,-0.014574624598026,0.023602347820997,0.016820292919874,0.001172304386273,0.004794793669134,0.004602938890457,0.004230977036059,0.015178962610662,0.116131730377674,-0.032548710703850,-0.071522094309330,-0.141853302717209,0.052295822650194,-0.122333101928234,0.287874430418015));
res += mul(Get(s3,-dx,dy), float4x4(0.000063551749918,0.037996571511030,0.009482013061643,-0.032821744680405,0.000482702278532,-0.001710740383714,0.003983265254647,0.008257034234703,0.033044878393412,0.098307557404041,-0.019716763868928,-0.004027210175991,-0.143143862485886,-0.019073646515608,0.032486721873283,-0.080695331096649));
res += mul(Get(s3,0,-dy), float4x4(0.008961793966591,0.003380117472261,-0.002633548574522,-0.023840356618166,0.008710923604667,0.000253610080108,0.012668533250690,-0.001099613728002,0.046642899513245,-0.055690515786409,0.039334397763014,-0.020227229222655,0.089256860315800,-0.064594306051731,-0.270735949277878,-0.336791515350342));
res += mul(Get(s3,0,0), float4x4(0.003681536298245,-0.010069392621517,0.009025950916111,-0.018047973513603,-0.007841760292649,0.001636530971155,0.008866779506207,0.003150379285216,0.089072793722153,-0.046990100294352,0.157609283924103,0.000290056341328,0.168425247073174,0.293127357959747,-0.175188779830933,-0.617700099945068));
res += mul(Get(s3,0,dy), float4x4(-0.002793068066239,0.037399336695671,0.011135736480355,-0.046993400901556,-0.001112150144763,0.002376817865297,-0.002278298139572,-0.000817915308289,0.116592757403851,-0.036818314343691,0.118465915322304,0.043286524713039,0.184903368353844,-0.056570604443550,0.080859430134296,0.096438281238079));
res += mul(Get(s3,dx,-dy), float4x4(0.014168620109558,-0.004617274273187,0.000106893952761,-0.012993310578167,0.007842702791095,0.005342940334231,0.000005723979029,0.001174489851110,-0.037779457867146,-0.004331887234002,0.024769870564342,0.046714242547750,-0.052715271711349,-0.072107806801796,0.019959811121225,0.044710654765368));
res += mul(Get(s3,dx,0), float4x4(-0.010932103730738,-0.006193874403834,0.015214959159493,-0.014415907673538,-0.001907258643769,-0.000265764654614,0.004005124792457,-0.006120485253632,-0.045939467847347,-0.005619816947728,0.096127942204475,0.026267677545547,0.098131939768791,-0.125126644968987,0.187360823154449,0.429355770349503));
res += mul(Get(s3,dx,dy), float4x4(-0.004112133756280,0.040329717099667,0.032075166702271,-0.021692406386137,-0.001879328163341,-0.005860046483576,0.000363967992598,-0.000804607872851,-0.031284559518099,0.002322293585166,0.052482765167952,0.004347829613835,0.084732763469219,-0.192049726843834,0.025310732424259,-0.063695371150970));
return max(float4(0,0,0,0), res);
}
