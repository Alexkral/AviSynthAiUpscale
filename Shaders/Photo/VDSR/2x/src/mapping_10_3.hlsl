sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.018147028982639,0.074238173663616,-0.126249641180038,0.104721054434776,0.085678249597549,-0.082240164279938,-0.083299450576305,-0.063747741281986,-0.094188407063484,-0.199626326560974,0.075605757534504,0.011751930229366,0.085323505103588,0.115247353911400,-0.105193339288235,0.080876514315605));
res += mul(Get(s0,-dx,0), float4x4(0.057105746120214,-0.018504392355680,0.066687658429146,0.033019542694092,-0.134311795234680,0.024440975859761,-0.288541734218597,0.325913161039352,-0.006266991607845,0.047086089849472,0.195501595735550,0.080585613846779,0.009430841542780,0.030332323163748,0.071575626730919,-0.061890747398138));
res += mul(Get(s0,-dx,dy), float4x4(-0.135820418596268,-0.212105929851532,-0.063884742558002,0.121721245348454,-0.015935668721795,-0.086248710751534,-0.116579212248325,0.002690091263503,0.088420361280441,-0.080372720956802,-0.001458049053326,-0.005924425553530,-0.000656822696328,-0.124178789556026,-0.152985364198685,-0.067932203412056));
res += mul(Get(s0,0,-dy), float4x4(0.053853776305914,-0.086495414376259,-0.124534614384174,-0.006586074363440,0.018671374768019,-0.181983008980751,0.011484518647194,0.151722058653831,-0.048120513558388,-0.072242192924023,-0.105598397552967,-0.049039669334888,-0.023491889238358,-0.099331647157669,-0.009325699880719,0.170439824461937));
res += mul(Get(s0,0,0), float4x4(0.097978465259075,0.080730095505714,-0.076282478868961,-0.087667532265186,-0.117130264639854,-0.006140484008938,-0.074001871049404,-0.066542096436024,-0.018621722236276,-0.081527784466743,-0.040235571563244,-0.165659636259079,-0.045695252716541,-0.076059140264988,0.135138347744942,-0.140525802969933));
res += mul(Get(s0,0,dy), float4x4(0.161394104361534,-0.039707943797112,-0.016491187736392,-0.078005023300648,-0.087013766169548,0.052082292735577,-0.129914179444313,0.116537742316723,-0.055749930441380,0.077518679201603,-0.064123474061489,-0.058409597724676,0.103028543293476,-0.046756710857153,-0.054173115640879,0.025474159047008));
res += mul(Get(s0,dx,-dy), float4x4(0.126539826393127,0.072319976985455,-0.025479540228844,0.122666776180267,0.054179526865482,0.024050731211901,0.165087938308716,-0.086383968591690,0.204617142677307,-0.021438645198941,-0.067923255264759,0.028121557086706,0.133970603346825,-0.150151282548904,-0.083776444196701,-0.038278132677078));
res += mul(Get(s0,dx,0), float4x4(-0.166808664798737,-0.042586669325829,0.135004907846451,-0.146089926362038,-0.047570794820786,-0.040654383599758,0.254968374967575,0.005196196027100,-0.136654123663902,0.141191810369492,0.061152420938015,0.205514699220657,0.004764820449054,-0.227733477950096,0.064724363386631,-0.077516078948975));
res += mul(Get(s0,dx,dy), float4x4(-0.172920793294907,0.167748078703880,0.154570654034615,-0.045165438205004,-0.097236134111881,-0.039266359061003,-0.015493592247367,-0.157549321651459,-0.006863520946354,0.015191338956356,0.065678790211678,0.282096147537231,-0.090860806405544,0.103863254189491,0.167480289936066,-0.053595170378685));
res += mul(Get(s1,-dx,-dy), float4x4(0.007798868697137,-0.092863939702511,-0.004558275919408,-0.128640756011009,-0.077026680111885,-0.049826756119728,-0.053456120193005,0.068912178277969,0.059924405068159,-0.000285337941023,0.007724439259619,0.017261752858758,-0.105813592672348,-0.034729860723019,-0.141103714704514,-0.046784792095423));
res += mul(Get(s1,-dx,0), float4x4(-0.096724331378937,0.185091733932495,0.108011558651924,-0.034361235797405,-0.013537538237870,-0.016817273572087,0.125559568405151,0.077278219163418,-0.077803663909435,-0.090648375451565,0.044235646724701,-0.065086975693703,-0.027397541329265,-0.068493217229843,-0.275439858436584,-0.061306722462177));
res += mul(Get(s1,-dx,dy), float4x4(0.102944381535053,-0.079433374106884,0.009757556021214,-0.201019704341888,0.030905904248357,-0.062949292361736,-0.001930188853294,0.015720937401056,-0.134237378835678,-0.072153471410275,-0.022770849987864,0.027595302090049,0.139586731791496,0.039364311844110,-0.259962022304535,-0.135581135749817));
res += mul(Get(s1,0,-dy), float4x4(-0.083557277917862,0.089620605111122,0.103061668574810,0.082224845886230,0.062663994729519,-0.021834585815668,0.058439850807190,0.078544199466705,0.069283992052078,-0.132081657648087,-0.082734860479832,-0.052014086395502,-0.031740337610245,0.031779188662767,-0.041752785444260,-0.023013265803456));
res += mul(Get(s1,0,0), float4x4(-0.107028156518936,-0.067263871431351,-0.074109144508839,0.098144076764584,0.009158949367702,-0.192942827939987,0.110697902739048,-0.157167375087738,0.076636187732220,0.101460605859756,-0.033782616257668,-0.219506844878197,-0.217225492000580,-0.088061660528183,0.308637410402298,0.066103771328926));
res += mul(Get(s1,0,dy), float4x4(-0.000558409665246,-0.146540805697441,0.103909529745579,-0.038698323071003,-0.043980911374092,0.045392211526632,0.015105532482266,-0.013640908524394,0.020962517708540,0.000774955435190,-0.040392700582743,-0.058254547417164,0.087855994701385,0.052797723561525,-0.053802952170372,-0.169550970196724));
res += mul(Get(s1,dx,-dy), float4x4(0.039550084620714,-0.110240258276463,-0.050550319254398,-0.040192116051912,-0.156417995691299,-0.075281105935574,-0.052230909466743,-0.086486585438251,-0.052119575440884,-0.131643608212471,0.170719400048256,0.110838294029236,0.042235456407070,-0.018828038126230,0.061356477439404,-0.107528939843178));
res += mul(Get(s1,dx,0), float4x4(-0.025279218330979,-0.067766271531582,0.070531025528908,0.104409985244274,-0.019467815756798,0.096699036657810,-0.116772182285786,0.069396555423737,0.029201045632362,0.015237851068377,-0.172138288617134,0.066742599010468,0.020722206681967,0.019365889951587,-0.085391402244568,-0.014861170202494));
res += mul(Get(s1,dx,dy), float4x4(0.022355597466230,-0.047594152390957,-0.165064081549644,-0.107151716947556,0.005713739898056,0.064936317503452,0.044223904609680,-0.072279177606106,-0.044772867113352,-0.030255807563663,0.105574287474155,-0.042205948382616,-0.022690031677485,-0.009567383676767,0.033309347927570,-0.099767722189426));
res += mul(Get(s2,-dx,-dy), float4x4(-0.109791971743107,0.003541576210409,-0.028460657224059,0.034475617110729,-0.102948367595673,0.213483303785324,0.023323863744736,0.116382084786892,-0.068690277636051,-0.116019859910011,-0.166115790605545,-0.122839875519276,0.076359763741493,0.042282931506634,0.003161059692502,-0.084635563194752));
res += mul(Get(s2,-dx,0), float4x4(-0.049646228551865,0.054189473390579,0.125956818461418,0.135637179017067,-0.019537555053830,0.025897884741426,-0.067801669239998,0.106119535863400,0.040430046617985,-0.165555104613304,0.111071735620499,-0.019706903025508,-0.027587296441197,-0.183430671691895,0.008528019301593,0.218359708786011));
res += mul(Get(s2,-dx,dy), float4x4(0.041690740734339,-0.059301175177097,-0.139701992273331,-0.086724825203419,0.152216702699661,-0.182591557502747,0.080402381718159,-0.153817549347878,0.028261911123991,-0.064416907727718,0.047908164560795,0.158595010638237,-0.039998106658459,0.029598534107208,-0.019591310992837,0.229052588343620));
res += mul(Get(s2,0,-dy), float4x4(-0.050123948603868,-0.083817340433598,0.008725682273507,-0.018830493092537,-0.061526320874691,0.050815843045712,0.056070938706398,0.093390405178070,-0.156708732247353,-0.005444114096463,-0.052861090749502,-0.109325982630253,0.031304746866226,-0.059813521802425,0.143768608570099,0.089421339333057));
res += mul(Get(s2,0,0), float4x4(0.083008892834187,-0.145344465970993,-0.028708154335618,0.008876116015017,-0.062945157289505,-0.140450075268745,-0.217866718769073,0.086498729884624,-0.146678954362869,-0.043652266263962,0.019124703481793,0.081398189067841,-0.117379538714886,-0.102938011288643,-0.035986110568047,-0.087409831583500));
res += mul(Get(s2,0,dy), float4x4(0.184548825025558,0.097243748605251,0.049322482198477,-0.108022108674049,0.049991313368082,-0.039395924657583,-0.112183436751366,0.064843341708183,-0.037552643567324,-0.076373964548111,0.112520523369312,0.020135922357440,0.178408741950989,0.021659946069121,-0.181414887309074,0.070982120931149));
res += mul(Get(s2,dx,-dy), float4x4(0.089902929961681,0.030956560745835,0.343909978866577,-0.085546806454659,-0.083919174969196,0.194286987185478,0.203122988343239,-0.156558498740196,-0.006595708895475,-0.198610290884972,-0.060299016535282,0.009196194820106,0.102838389575481,-0.072781331837177,-0.134522631764412,0.011024176143110));
res += mul(Get(s2,dx,0), float4x4(0.008972739800811,0.027894861996174,0.238579794764519,0.001551544410177,-0.031524602323771,0.065925121307373,-0.052145909518003,0.012392454780638,0.014633388258517,0.221558928489685,-0.117003634572029,0.162874743342400,-0.067109286785126,-0.125422999262810,-0.244815394282341,-0.044456794857979));
res += mul(Get(s2,dx,dy), float4x4(0.035744659602642,0.037167705595493,0.262480705976486,-0.067783072590828,-0.140854239463806,-0.100624494254589,-0.181531324982643,-0.049780111759901,0.010256036184728,-0.161882698535919,0.038612160831690,0.041901364922523,-0.143451109528542,0.162313118577003,0.001037075649947,0.216599196195602));
res += mul(Get(s3,-dx,-dy), float4x4(0.148204371333122,-0.038905955851078,-0.027131475508213,-0.125649228692055,-0.028879610821605,-0.064567647874355,0.115957573056221,0.167711406946182,0.035514552146196,0.169200494885445,-0.197982028126717,0.137652292847633,-0.041722200810909,-0.103115223348141,-0.019357150420547,0.010370935313404));
res += mul(Get(s3,-dx,0), float4x4(0.092403277754784,0.095928959548473,0.130463555455208,0.189107283949852,-0.043924309313297,0.041813973337412,0.110490471124649,0.103786878287792,0.049645565450191,0.010644687339664,-0.010196247138083,0.067135654389858,0.118959233164787,0.011115104891360,-0.097053982317448,-0.017285570502281));
res += mul(Get(s3,-dx,dy), float4x4(-0.022883422672749,-0.051172044128180,-0.001299815252423,0.202990710735321,0.036855250597000,0.085120350122452,0.019629048183560,0.015063384547830,-0.020365951582789,0.074349887669086,0.037860240787268,-0.113062143325806,-0.096088543534279,-0.010222938843071,0.054111391305923,0.160220116376877));
res += mul(Get(s3,0,-dy), float4x4(-0.195282921195030,0.033963177353144,-0.111874215304852,-0.202476710081100,0.080311819911003,-0.113647893071175,0.157895892858505,-0.081141620874405,0.151414945721626,0.013692677952349,-0.144293308258057,0.139307051897049,-0.092172071337700,-0.093970537185669,-0.105028435587883,-0.027719046920538));
res += mul(Get(s3,0,0), float4x4(-0.087459333240986,0.088007472455502,-0.048577122390270,-0.027537416666746,0.060587905347347,-0.069490037858486,0.070054754614830,-0.095694363117218,-0.029082555323839,-0.080585092306137,-0.137881681323051,0.006497795227915,0.154561370611191,0.050095520913601,0.024558169767261,0.021264469251037));
res += mul(Get(s3,0,dy), float4x4(0.083886042237282,-0.209998831152916,-0.034630857408047,-0.068779885768890,0.233151674270630,0.144268929958344,-0.030515674501657,-0.019399577751756,0.027228809893131,-0.112685322761536,-0.026708882302046,-0.032810129225254,0.048263017088175,0.014526950195432,0.208861768245697,-0.020379383116961));
res += mul(Get(s3,dx,-dy), float4x4(0.060650743544102,-0.203266680240631,0.196229100227356,0.026324564591050,0.057091381400824,-0.025240695104003,0.108010277152061,-0.077925696969032,-0.045990139245987,-0.017785411328077,0.049961026757956,-0.040108941495419,0.084195896983147,0.096157051622868,0.206833198666573,0.004373406060040));
res += mul(Get(s3,dx,0), float4x4(-0.059692438691854,-0.077847495675087,0.017882890999317,-0.077985391020775,0.064168490469456,-0.216433823108673,-0.049488738179207,0.055407468229532,-0.185168966650963,-0.052347034215927,0.180746212601662,0.031309604644775,0.134216010570526,0.076620236039162,-0.145311906933784,-0.019589997828007));
res += mul(Get(s3,dx,dy), float4x4(-0.054431039839983,-0.094718292355537,0.083444885909557,-0.037490956485271,0.018529111519456,-0.117022380232811,-0.004557887092233,-0.076835110783577,0.065727934241295,-0.094646401703358,-0.116871803998947,-0.073300801217556,-0.081315770745277,-0.050659626722336,-0.030310804024339,0.021756395697594));
return max(float4(0,0,0,0), res);
}
