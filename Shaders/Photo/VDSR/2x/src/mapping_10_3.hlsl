sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.080833777785301,-0.123102255165577,0.092901527881622,0.007538401056081,-0.007564270868897,0.005470616742969,0.159599289298058,-0.151432082056999,-0.031076477840543,-0.136692717671394,0.051863197237253,0.064880169928074,0.164629280567169,-0.034210499376059,0.036751955747604,-0.036939803510904));
res += mul(Get(s0,-dx,0), float4x4(0.007939902134240,-0.089007697999477,0.060981255024672,-0.093074575066566,0.047221254557371,0.135473117232323,0.040705583989620,0.349238455295563,0.019215853884816,-0.147977724671364,-0.033147849142551,-0.177751675248146,0.165225490927696,-0.087333381175995,0.041075117886066,0.056469596922398));
res += mul(Get(s0,-dx,dy), float4x4(0.081008307635784,0.019018365070224,-0.011121703311801,-0.020669458433986,-0.092804647982121,0.063696518540382,0.041829735040665,-0.179054483771324,-0.086891680955887,0.066324837505817,-0.047019913792610,0.065885506570339,0.035069864243269,-0.006352594122291,0.134467110037804,-0.028798270970583));
res += mul(Get(s0,0,-dy), float4x4(-0.008671042509377,0.230753973126411,-0.033065777271986,-0.062479499727488,-0.018822172656655,-0.010992987081409,0.053674653172493,-0.123666577041149,-0.033094286918640,0.203598320484161,-0.000406237668358,0.211139932274818,0.036400649696589,0.035046014934778,-0.027141027152538,-0.038581177592278));
res += mul(Get(s0,0,0), float4x4(-0.037374977022409,0.161813169717789,-0.074695155024529,-0.074802063405514,0.117620311677456,0.040570560842752,-0.004813306964934,0.120841823518276,0.067380152642727,0.105315245687962,-0.032560281455517,-0.088989369571209,0.058561712503433,0.077212102711201,0.004380441736430,0.128577619791031));
res += mul(Get(s0,0,dy), float4x4(-0.005290553905070,0.044524051249027,0.031364541500807,0.053686350584030,-0.097548827528954,0.044840645045042,0.003505308181047,-0.099146857857704,-0.016356851905584,0.084810584783554,0.025269523262978,-0.001920524402522,0.113204888999462,0.095711544156075,0.135883241891861,-0.082017436623573));
res += mul(Get(s0,dx,-dy), float4x4(-0.010006572119892,0.051390442997217,0.154351726174355,-0.111194275319576,0.036959987133741,-0.071858830749989,0.025141756981611,-0.124964259564877,0.033116601407528,-0.031662851572037,-0.059099197387695,0.258618116378784,0.082526504993439,0.115999788045883,-0.026148393750191,0.006570212077349));
res += mul(Get(s0,dx,0), float4x4(0.010919891297817,0.063521683216095,-0.087804786860943,-0.033019412308931,-0.050132956355810,-0.022455209866166,0.048428550362587,0.141813427209854,0.055643767118454,-0.083552025258541,-0.183754727244377,-0.072769969701767,-0.047249328345060,0.032231170684099,-0.016386864706874,0.041510276496410));
res += mul(Get(s0,dx,dy), float4x4(0.036228220909834,-0.046341050416231,0.058733571320772,0.014062896370888,-0.101096883416176,0.005612525623292,0.056779041886330,-0.076780319213867,0.001244475832209,0.005290172062814,-0.057289991527796,0.095146983861923,-0.011548168957233,-0.034900277853012,0.089858651161194,-0.098329231142998));
res += mul(Get(s1,-dx,-dy), float4x4(-0.113109320402145,-0.001504603540525,0.061379838734865,-0.028138194233179,0.015594322234392,-0.135626673698425,-0.000309272174491,0.022264957427979,0.006299876142293,0.067218862473965,0.013794926926494,0.039262108504772,0.042258780449629,0.027908790856600,0.066919274628162,-0.037202179431915));
res += mul(Get(s1,-dx,0), float4x4(-0.043825984001160,0.061172243207693,0.007844516076148,0.004689332563430,0.079023212194443,-0.071576476097107,0.014212099835277,-0.017056258395314,-0.063894912600517,0.183585941791534,-0.016583018004894,0.004778281785548,0.197440594434738,-0.064358562231064,-0.015172256156802,-0.125319689512253));
res += mul(Get(s1,-dx,dy), float4x4(-0.083900019526482,0.093949668109417,-0.002583577763289,0.017594523727894,0.014305567368865,-0.025757702067494,-0.015312921255827,0.025984240695834,-0.065402299165726,0.039548929780722,-0.019197357818484,-0.074242182075977,0.015608596615493,-0.023424172773957,-0.046657789498568,0.103333227336407));
res += mul(Get(s1,0,-dy), float4x4(0.086720265448093,-0.016759058460593,0.156472966074944,0.060521487146616,0.007246536668390,0.028604354709387,0.082978904247284,-0.032177213579416,-0.057944707572460,0.179267570376396,-0.060122702270746,0.275929957628250,-0.084549404680729,-0.038289263844490,0.052432555705309,0.203520670533180));
res += mul(Get(s1,0,0), float4x4(0.070400074124336,-0.058904774487019,0.111382514238358,0.026974260807037,0.146827697753906,0.059594564139843,-0.042121075093746,0.029388505965471,-0.044750466942787,0.042070142924786,-0.035664923489094,0.023287985473871,-0.143660053610802,-0.133205398917198,0.221663966774940,0.018991502001882));
res += mul(Get(s1,0,dy), float4x4(0.075906030833721,-0.021504737436771,-0.009109443984926,-0.037964936345816,0.058059450238943,0.028318265452981,-0.016707099974155,0.029109044000506,0.025608995929360,-0.009992246516049,-0.018155612051487,-0.058370936661959,0.056914668530226,-0.069173924624920,0.050831381231546,-0.095834143459797));
res += mul(Get(s1,dx,-dy), float4x4(0.043147105723619,0.025061586871743,-0.054935384541750,0.087435603141785,-0.014927810057998,0.072275504469872,0.005143419839442,0.029448419809341,-0.124994456768036,0.095646597445011,-0.127543494105339,0.010603220202029,0.010861601680517,0.070571064949036,0.009337483905256,0.152965933084488));
res += mul(Get(s1,dx,0), float4x4(0.109529785811901,0.112497076392174,0.043918810784817,-0.034297566860914,-0.034001097083092,-0.010870218276978,0.036498147994280,0.007574213668704,-0.092004157602787,-0.139043822884560,-0.082225888967514,0.053574744611979,-0.032278865575790,-0.004039681516588,0.027883347123861,-0.085218496620655));
res += mul(Get(s1,dx,dy), float4x4(0.046698346734047,0.115070849657059,-0.071186065673828,0.069584503769875,-0.078727453947067,-0.089140132069588,-0.109253562986851,0.050017300993204,-0.015315960161388,0.107285231351852,0.031290676444769,0.037394721060991,-0.048241250216961,0.079756252467632,-0.067824512720108,-0.081010490655899));
res += mul(Get(s2,-dx,-dy), float4x4(-0.071075096726418,0.084410734474659,-0.113944746553898,0.038815394043922,0.083103768527508,-0.082337401807308,-0.026493996381760,-0.028859708458185,0.135169878602028,0.040007688105106,-0.012069194577634,0.091208994388580,-0.166121155023575,-0.020867893472314,0.096366763114929,0.044060837477446));
res += mul(Get(s2,-dx,0), float4x4(0.091472536325455,0.142942592501640,-0.093661673367023,-0.016644731163979,0.226631417870522,-0.116986043751240,-0.042072858661413,-0.095977559685707,0.132785305380821,-0.060010999441147,0.032793477177620,-0.055072337388992,-0.071224406361580,-0.044319141656160,-0.003782476065680,-0.067825049161911));
res += mul(Get(s2,-dx,dy), float4x4(0.067232511937618,-0.029989147558808,-0.187136977910995,-0.078588634729385,0.021814251318574,-0.079794086515903,0.163029029965401,0.135100632905960,0.053802989423275,0.039170216768980,0.077025018632412,0.028816796839237,-0.034275785088539,-0.042250473052263,-0.007547560613602,0.029520371928811));
res += mul(Get(s2,0,-dy), float4x4(0.012771612033248,0.023490289226174,-0.004893506411463,-0.025196464732289,-0.086874619126320,-0.042006969451904,-0.059477411210537,-0.013292523100972,0.034466676414013,0.154668197035789,-0.022699898108840,0.039708424359560,-0.076242379844189,0.055361129343510,0.104471005499363,-0.007550654001534));
res += mul(Get(s2,0,0), float4x4(-0.064424879848957,-0.001797763863578,0.140278443694115,0.019561788067222,-0.002501790644601,-0.084503024816513,-0.144781440496445,-0.103828161954880,0.150752454996109,-0.014385927468538,0.042734880000353,0.022825226187706,0.078550025820732,-0.078009948134422,-0.119436219334602,-0.051844913512468));
res += mul(Get(s2,0,dy), float4x4(0.076777264475822,0.031013093888760,0.005966884084046,-0.089143082499504,-0.033408503979445,-0.134730905294418,0.039817620068789,0.072168856859207,0.135293275117874,0.041381713002920,-0.061684299260378,-0.012767026200891,0.036974530667067,-0.121522538363934,0.063775226473808,0.155774429440498));
res += mul(Get(s2,dx,-dy), float4x4(0.006828950252384,-0.017583498731256,-0.014366735704243,-0.083384886384010,-0.019827688112855,0.013379975222051,0.079822205007076,0.095316030085087,0.128898724913597,0.055149164050817,0.045705020427704,-0.039384867995977,-0.017295975238085,0.041596513241529,0.080374091863632,-0.062837429344654));
res += mul(Get(s2,dx,0), float4x4(0.060056518763304,-0.052395828068256,0.047921229153872,0.072524264454842,0.078808620572090,-0.029445575550199,0.029530612751842,-0.079972214996815,-0.007994594052434,-0.045086771249771,-0.005365085788071,0.007621683645993,-0.017994958907366,-0.037210419774055,0.015250925906003,-0.073061347007751));
res += mul(Get(s2,dx,dy), float4x4(0.048882514238358,0.142093703150749,-0.077928729355335,-0.125789240002632,-0.023985464125872,-0.174285739660263,0.089469395577908,-0.064143158495426,-0.033319737762213,0.020728308707476,0.037879906594753,-0.003704575123265,-0.018876230344176,-0.015616111457348,0.048549707978964,0.021623615175486));
res += mul(Get(s3,-dx,-dy), float4x4(-0.084357641637325,-0.081103280186653,0.031310863792896,-0.056988045573235,-0.078276567161083,0.222905024886131,0.018919520080090,0.100037924945354,-0.006271287333220,-0.057779755443335,-0.038746062666178,-0.060696858912706,-0.011365392245352,0.044580806046724,0.012102285400033,0.032690513879061));
res += mul(Get(s3,-dx,0), float4x4(-0.099112905561924,0.069625742733479,0.093286283314228,0.126885294914246,0.070897564291954,0.091935209929943,0.081911787390709,-0.153862163424492,0.068350084125996,-0.038055162876844,0.008521453477442,-0.035537160933018,-0.042135160416365,0.020219858735800,-0.010079960338771,0.055795427411795));
res += mul(Get(s3,-dx,dy), float4x4(-0.037532340735197,-0.029217692092061,0.048609558492899,-0.023447783663869,0.211196303367615,-0.025804670527577,-0.096553161740303,0.009965213946998,0.025200340896845,-0.030268725007772,-0.015081907622516,0.047785870730877,-0.097954683005810,-0.021201960742474,0.002696535084397,-0.071578249335289));
res += mul(Get(s3,0,-dy), float4x4(0.039360791444778,-0.045917507261038,-0.180645272135735,0.014527142979205,0.071518152952194,0.009147163480520,-0.001788465538993,0.142831012606621,-0.021159756928682,-0.088512212038040,0.058057665824890,-0.166512578725815,-0.053979154676199,-0.047832738608122,-0.010858250781894,0.037544008344412));
res += mul(Get(s3,0,0), float4x4(-0.105255670845509,-0.012465530075133,0.072218708693981,0.060853868722916,-0.041734002530575,-0.040653560310602,0.005008148960769,-0.092610783874989,0.143522247672081,-0.084740541875362,-0.061335738748312,0.000917520490475,-0.113216005265713,0.047029487788677,0.054833766072989,-0.036957189440727));
res += mul(Get(s3,0,dy), float4x4(-0.177795693278313,0.095348052680492,0.012807094492018,-0.109691068530083,-0.104963302612305,-0.044989142566919,-0.026490852236748,0.075932331383228,-0.096578307449818,-0.032812722027302,0.003720214590430,0.073026120662689,0.093099631369114,0.066712096333504,-0.092508435249329,0.069845564663410));
res += mul(Get(s3,dx,-dy), float4x4(-0.002915520453826,-0.140271395444870,0.040335625410080,-0.081036522984505,0.020732192322612,0.029299059882760,-0.050935756415129,0.077882893383503,-0.094158589839935,-0.055371470749378,-0.060291912406683,-0.139899969100952,-0.060983996838331,-0.035732466727495,-0.017150692641735,-0.007941205054522));
res += mul(Get(s3,dx,0), float4x4(-0.015713114291430,-0.090183310210705,0.027953837066889,-0.046498261392117,0.083875268697739,-0.159437462687492,-0.033223167061806,0.004674497060478,-0.001495810458437,0.011141771450639,0.090371511876583,-0.005596743896604,-0.026861865073442,-0.131866618990898,0.031678397208452,-0.010819224640727));
res += mul(Get(s3,dx,dy), float4x4(-0.040922764688730,-0.025520907714963,-0.095105044543743,-0.010085813701153,-0.039385907351971,0.034602075815201,0.000694979215041,0.089501768350601,-0.186220720410347,-0.053691439330578,-0.022597175091505,0.176383927464485,-0.027624579146504,0.043793633580208,-0.088099114596844,-0.048345956951380));
return max(float4(0,0,0,0), res);
}
