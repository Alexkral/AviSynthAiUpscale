sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.118994355201721,0.047084394842386,-0.011212456971407,-0.007744109258056,-0.111764013767242,0.045930054038763,-0.003399159759283,0.050787322223186,0.044025555253029,0.101215049624443,0.152647286653519,-0.108848348259926,0.128271609544754,-0.054915469139814,-0.219933599233627,-0.098075635731220));
res += mul(Get(s0,-dx,0), float4x4(0.036935307085514,0.089527182281017,-0.100498512387276,0.003594004316255,-0.021184230223298,-0.054546106606722,-0.195856556296349,-0.205526545643806,0.010279775597155,0.047642879188061,-0.156104207038879,-0.108475223183632,-0.080421216785908,0.202424690127373,0.018776232376695,0.158184304833412));
res += mul(Get(s0,-dx,dy), float4x4(-0.036786034703255,0.061816409230232,-0.057601530104876,0.191791564226151,-0.224183157086372,0.007033716887236,-0.053057838231325,-0.098596625030041,0.066123142838478,0.001740031759255,0.241322949528694,0.025337256491184,0.096981704235077,0.033922377973795,0.017851898446679,0.004384662955999));
res += mul(Get(s0,0,-dy), float4x4(0.023164266720414,0.028681101277471,-0.026437258347869,-0.081298567354679,-0.165463164448738,0.192757904529572,-0.165899142622948,0.182861551642418,0.067870244383812,0.049973126500845,0.031800270080566,0.004049802199006,0.149786695837975,0.079992160201073,-0.041181582957506,0.201241239905357));
res += mul(Get(s0,0,0), float4x4(0.116878345608711,0.066042266786098,0.019016766920686,0.015824457630515,0.126835733652115,-0.108739003539085,-0.058341808617115,-0.073857143521309,-0.051714021712542,0.095506645739079,-0.073789976537228,0.099854916334152,0.039898660033941,-0.151281803846359,0.020732983946800,-0.095312625169754));
res += mul(Get(s0,0,dy), float4x4(0.044927015900612,0.010229655541480,-0.091081358492374,0.057891476899385,-0.018312491476536,0.219357073307037,0.116094209253788,-0.028239991515875,0.092481538653374,0.016025748103857,-0.158486366271973,0.081444308161736,0.056351527571678,-0.245811730623245,-0.006229576189071,0.040342867374420));
res += mul(Get(s0,dx,-dy), float4x4(0.245828747749329,-0.003873793408275,0.079823240637779,0.178129568696022,-0.118351861834526,0.013101174496114,-0.050794199109077,0.141972303390503,0.105803564190865,0.122745461761951,0.133260339498520,0.021755430847406,-0.054608132690191,0.204980656504631,-0.154338315129280,-0.113602638244629));
res += mul(Get(s0,dx,0), float4x4(-0.058356843888760,-0.029876086860895,-0.034850299358368,-0.091644465923309,-0.124066546559334,0.052239894866943,0.040767837315798,-0.074339963495731,-0.055863920599222,0.115508988499641,-0.063217468559742,0.088140830397606,-0.023772906512022,-0.076943419873714,0.125902920961380,-0.195562809705734));
res += mul(Get(s0,dx,dy), float4x4(0.023279834538698,-0.032436933368444,0.119245409965515,-0.024255372583866,-0.113628402352333,-0.185911700129509,0.095324844121933,0.203092470765114,-0.062721364200115,-0.066626377403736,-0.063566237688065,-0.144125819206238,-0.000240693974774,0.060150474309921,0.111811310052872,0.288363248109818));
res += mul(Get(s1,-dx,-dy), float4x4(-0.090106882154942,0.016523135825992,0.066205665469170,0.053404171019793,-0.094226911664009,-0.193040475249290,0.091221049427986,-0.114313937723637,0.126814544200897,-0.012384778819978,0.079888589680195,-0.136210858821869,0.047698792070150,0.070497147738934,0.145667225122452,0.122177943587303));
res += mul(Get(s1,-dx,0), float4x4(-0.082246340811253,-0.147348061203957,0.059168130159378,-0.031333573162556,-0.109600901603699,-0.044010818004608,-0.080412656068802,-0.091994017362595,-0.063251420855522,-0.116151615977287,-0.019344694912434,-0.024817325174809,0.014808511361480,-0.034815061837435,0.027733623981476,0.199670463800430));
res += mul(Get(s1,-dx,dy), float4x4(-0.054500780999660,-0.011345437727869,-0.101721055805683,0.131888628005981,-0.049473091959953,0.019569229334593,0.052675690501928,0.053151782602072,0.171782225370407,-0.073005333542824,0.176254853606224,-0.021278828382492,-0.001084018964320,-0.067714460194111,-0.003238452598453,-0.008143205195665));
res += mul(Get(s1,0,-dy), float4x4(0.022271158173680,-0.004110004752874,-0.157044857740402,0.094683147966862,0.091464340686798,0.068502366542816,-0.096929982304573,0.040193799883127,0.086456261575222,0.086088903248310,-0.280276566743851,-0.001179543673061,-0.125397071242332,-0.094544403254986,-0.048675850033760,-0.018304901197553));
res += mul(Get(s1,0,0), float4x4(0.025025818496943,0.076506800949574,-0.223461315035820,-0.068937405943871,-0.014620993286371,-0.169021368026733,0.012063601054251,-0.087543658912182,-0.102178514003754,0.017689034342766,-0.000527552911080,-0.050263229757547,-0.066780447959900,-0.023924399167299,-0.100230894982815,0.080396927893162));
res += mul(Get(s1,0,dy), float4x4(-0.014459040015936,-0.055183656513691,-0.106312461197376,0.205232694745064,-0.018547473475337,-0.102640636265278,0.084359332919121,0.010768922045827,-0.028995277360082,0.158097520470619,0.042857561260462,-0.013878479599953,0.099062919616699,0.127852097153664,-0.111246339976788,0.038969025015831));
res += mul(Get(s1,dx,-dy), float4x4(-0.126948565244675,-0.159575626254082,-0.022856028750539,-0.038741752505302,0.026547089219093,-0.060739941895008,0.009041852317750,-0.077620469033718,-0.138678103685379,-0.017351558431983,0.010377486236393,-0.200557589530945,-0.192389950156212,0.113824620842934,0.067080497741699,0.155708491802216));
res += mul(Get(s1,dx,0), float4x4(-0.057751182466745,-0.021887974813581,-0.099280312657356,-0.045738697052002,0.029191713780165,-0.040855895727873,-0.055311135947704,0.270496368408203,0.184452012181282,-0.112262681126595,-0.065874829888344,0.086198575794697,0.137151807546616,-0.020142693072557,0.120919592678547,0.137475147843361));
res += mul(Get(s1,dx,dy), float4x4(0.116766683757305,-0.092163018882275,-0.019218763336539,-0.082312829792500,-0.087827637791634,0.022386202588677,-0.043874807655811,0.144392311573029,-0.053098846226931,0.021224709227681,-0.152407318353653,-0.000020363193471,-0.048773523420095,-0.102917090058327,0.125213250517845,-0.007600971963257));
res += mul(Get(s2,-dx,-dy), float4x4(0.170219257473946,0.048821531236172,-0.042932912707329,-0.161971777677536,-0.034059774130583,0.177739232778549,-0.058062985539436,-0.111331604421139,-0.190461218357086,-0.195659488439560,0.001987677766010,-0.040804769843817,-0.033061753958464,-0.180575430393219,-0.210248917341232,0.002915912540630));
res += mul(Get(s2,-dx,0), float4x4(-0.241078406572342,-0.105498030781746,0.106703408062458,-0.069311708211899,0.110634014010429,0.195438772439957,0.053521253168583,0.259871125221252,-0.060973837971687,-0.149692207574844,0.184767514467239,0.125286281108856,0.004726725164801,0.204673320055008,-0.108884811401367,-0.041807454079390));
res += mul(Get(s2,-dx,dy), float4x4(0.117985337972641,-0.000355470605427,-0.128796935081482,0.047827303409576,0.061584871262312,-0.053079377859831,-0.013100531883538,-0.132761389017105,-0.046414881944656,-0.011583529412746,-0.214787766337395,-0.018181608989835,-0.070718616247177,0.173863321542740,0.137138664722443,0.029949035495520));
res += mul(Get(s2,0,-dy), float4x4(0.148472070693970,0.283541023731232,0.023250073194504,-0.009422111324966,-0.046413984149694,-0.094176046550274,-0.012217775918543,0.028484459966421,-0.046965606510639,0.114611029624939,0.113703362643719,0.259444892406464,0.042810745537281,0.235470861196518,0.043166641145945,0.063221663236618));
res += mul(Get(s2,0,0), float4x4(-0.080084882676601,-0.101868599653244,0.055683307349682,-0.007900770753622,0.190775170922279,-0.195314601063728,0.009207637049258,0.161692455410957,-0.175950512290001,0.337265998125076,0.161812484264374,0.042723152786493,0.074847534298897,-0.003942530602217,-0.076037824153900,-0.003195699770004));
res += mul(Get(s2,0,dy), float4x4(-0.023795578628778,0.123574674129486,0.082070156931877,-0.134409070014954,-0.136618018150330,0.084050647914410,0.332173883914948,-0.048151776194572,0.015069046989083,0.010932040400803,-0.124201670289040,-0.253808051347733,-0.011084792204201,0.195642098784447,-0.089965291321278,-0.070509359240532));
res += mul(Get(s2,dx,-dy), float4x4(0.020028639584780,0.049562431871891,0.192338675260544,-0.112833268940449,0.085451886057854,-0.010478870011866,-0.135134413838387,0.165262639522552,-0.030687810853124,0.050701215863228,-0.093046814203262,0.115206934511662,-0.048067096620798,0.021677548065782,-0.016705736517906,-0.054427549242973));
res += mul(Get(s2,dx,0), float4x4(-0.027504002675414,0.119685590267181,0.121805660426617,-0.072816364467144,-0.021605852991343,0.032857719808817,-0.020659424364567,0.216701865196228,0.054630022495985,0.070924952626228,0.074914023280144,0.074914105236530,0.037724554538727,-0.022327095270157,0.241823464632034,0.033386811614037));
res += mul(Get(s2,dx,dy), float4x4(0.020976090803742,-0.128777280449867,0.107254870235920,-0.071610569953918,0.233917966485023,-0.036431804299355,-0.073539935052395,0.038009926676750,0.155661091208458,-0.087921485304832,-0.065408073365688,0.076080359518528,0.076269634068012,-0.135348141193390,-0.242143437266350,0.107305884361267));
res += mul(Get(s3,-dx,-dy), float4x4(-0.164612323045731,-0.037107661366463,0.043639358133078,0.042045418173075,0.083517760038376,0.044965859502554,0.069004878401756,-0.002441342687234,0.126563072204590,0.024993387982249,-0.012874322943389,-0.000440155796241,-0.101407736539841,-0.063828825950623,0.192949086427689,-0.016562987118959));
res += mul(Get(s3,-dx,0), float4x4(-0.348428994417191,0.172573134303093,-0.143703654408455,-0.133539527654648,-0.046740040183067,-0.050564084202051,0.059999845921993,-0.214734077453613,0.010770441964269,-0.066987469792366,-0.113366879522800,-0.017364893108606,-0.095683746039867,-0.094299755990505,-0.089772179722786,0.014726769179106));
res += mul(Get(s3,-dx,dy), float4x4(0.088583476841450,0.138995334506035,-0.182397723197937,0.001868295017630,-0.043339148163795,0.065160684287548,0.085526108741760,0.073273651301861,0.017943190410733,-0.062659367918968,0.122611097991467,0.077985472977161,-0.081024698913097,-0.102867901325226,-0.009280915372074,0.085235193371773));
res += mul(Get(s3,0,-dy), float4x4(0.197765782475471,0.134218081831932,0.108952224254608,0.013151898048818,-0.164888113737106,-0.019944639876485,0.019786404445767,-0.046117555350065,-0.049277853220701,0.065532632172108,-0.118751101195812,0.046871911734343,0.020410969853401,0.079599142074585,0.070733077824116,-0.004917577840388));
res += mul(Get(s3,0,0), float4x4(-0.016306431964040,-0.040083494037390,0.011793771758676,-0.073338508605957,0.112010873854160,-0.133915975689888,0.015316141769290,-0.065655574202538,-0.064499333500862,0.033606898039579,0.066267810761929,0.220561087131500,-0.227776005864143,0.142458379268646,-0.067749142646790,-0.162435293197632));
res += mul(Get(s3,0,dy), float4x4(0.134464100003242,0.152708888053894,-0.028667425736785,-0.116945683956146,0.126948475837708,0.048061836510897,-0.053915407508612,0.087614364922047,0.148035332560539,0.103767044842243,0.096124045550823,0.072126843035221,0.140068650245667,-0.062575802206993,-0.006651094183326,-0.068783245980740));
res += mul(Get(s3,dx,-dy), float4x4(-0.005519408266991,-0.036446012556553,0.071023628115654,-0.103909276425838,-0.021510787308216,0.096581719815731,-0.038485795259476,0.057617496699095,0.102768987417221,0.148592412471771,-0.026201672852039,0.064628355205059,-0.039576798677444,-0.021591210737824,-0.057674918323755,0.247264832258224));
res += mul(Get(s3,dx,0), float4x4(-0.134024858474731,-0.007095508743078,0.170115783810616,-0.117649026215076,-0.004147028084844,-0.103379197418690,-0.053977642208338,-0.074462957680225,-0.134454563260078,-0.034980058670044,-0.010338126681745,-0.006951216142625,0.051820099353790,-0.000218856279389,0.203397542238235,-0.134906470775604));
res += mul(Get(s3,dx,dy), float4x4(-0.006890689954162,0.010094948112965,-0.206471815705299,0.086124591529369,0.066372074186802,0.013776864856482,0.101006999611855,0.143532723188400,-0.036719970405102,-0.042739734053612,-0.003843659767881,-0.125116109848022,0.078214168548584,0.097610287368298,0.020213346928358,-0.236299112439156));
return max(float4(0,0,0,0), res);
}
