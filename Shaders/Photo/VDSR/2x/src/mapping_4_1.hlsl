sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.034475740045309,0.031937561929226,0.112544380128384,-0.058306261897087,0.054152164608240,-0.026413869112730,-0.070985332131386,-0.017703220248222,0.046751301735640,-0.183958932757378,-0.192516043782234,0.012833368964493,-0.054085299372673,0.111781768500805,-0.103790603578091,-0.058590475469828));
res += mul(Get(s0,-dx,0), float4x4(-0.063917122781277,-0.017564743757248,-0.104571551084518,0.033082205802202,-0.004252369049937,0.051304373890162,-0.071536473929882,-0.058010570704937,0.050020027905703,-0.048595651984215,-0.106687366962433,-0.053791962563992,-0.034991666674614,0.145288065075874,0.169111222028732,0.210029661655426));
res += mul(Get(s0,-dx,dy), float4x4(0.053071357309818,-0.037463210523129,0.008102055639029,0.063265308737755,-0.019476473331451,0.074111498892307,-0.090380519628525,0.020456530153751,-0.046112652868032,0.165717899799347,0.181615278124809,0.060703508555889,0.017233926802874,-0.127334356307983,0.042176850140095,-0.068562291562557));
res += mul(Get(s0,0,-dy), float4x4(0.109236225485802,-0.103190921247005,0.102102577686310,-0.025821544229984,0.091888532042503,-0.017789455130696,0.077514119446278,-0.043403133749962,-0.113000452518463,0.107929915189743,-0.000477015011711,-0.091571897268295,-0.178694710135460,-0.035333454608917,-0.029231440275908,0.056752394884825));
res += mul(Get(s0,0,0), float4x4(0.047333382070065,-0.027393234893680,-0.088388048112392,0.058412544429302,0.083462268114090,0.053344909101725,0.021942624822259,-0.122219309210777,-0.003920682240278,-0.048073939979076,-0.110486835241318,-0.096358723938465,0.261639505624771,0.014902136288583,0.211035937070847,-0.061730630695820));
res += mul(Get(s0,0,dy), float4x4(-0.034051422029734,-0.121791355311871,-0.019306235015392,0.035849623382092,0.038945484906435,0.060712847858667,0.080229558050632,-0.040555350482464,0.092804767191410,0.136601969599724,-0.009623341262341,0.058528393507004,-0.192308425903320,-0.027621792629361,-0.157340735197067,0.126228839159012));
res += mul(Get(s0,dx,-dy), float4x4(0.038151871412992,-0.030531154945493,0.024365397170186,-0.063226804137230,0.043505676090717,0.070326119661331,0.111155219376087,0.008714501745999,-0.103494845330715,-0.033398009836674,0.023799084126949,-0.155360341072083,0.029475862160325,0.118096284568310,-0.131157830357552,-0.173023268580437));
res += mul(Get(s0,dx,0), float4x4(0.051212467253208,-0.050803743302822,-0.046539191156626,-0.010593226179481,0.086012996733189,0.074843041598797,-0.002897776197642,0.004942089319229,-0.068093463778496,-0.209215849637985,0.141661748290062,-0.057798307389021,0.085889890789986,-0.078107006847858,0.024938682094216,-0.097051434218884));
res += mul(Get(s0,dx,dy), float4x4(0.002670345129445,-0.056898828595877,0.020227430388331,-0.072179846465588,0.005274956114590,-0.024016618728638,-0.121048338711262,0.028607999905944,-0.059193469583988,0.107465729117393,0.138773128390312,0.113584920763969,-0.059317316859961,-0.003565576393157,0.067937485873699,0.057745818048716));
res += mul(Get(s1,-dx,-dy), float4x4(-0.040467359125614,-0.033471219241619,-0.068813331425190,-0.045502349734306,0.142226934432983,0.025671426206827,-0.007148692850024,-0.044592775404453,-0.057311803102493,-0.042602706700563,-0.094692379236221,0.050494510680437,-0.092488475143909,-0.001320935785770,-0.024287981912494,0.021019784733653));
res += mul(Get(s1,-dx,0), float4x4(-0.040687795728445,-0.057087540626526,-0.092441052198410,0.016314731910825,0.078866004943848,-0.024293947964907,-0.016922594979405,-0.039233889430761,-0.089325174689293,0.085331641137600,-0.087732456624508,0.043170414865017,-0.075791537761688,0.072972401976585,0.135896310210228,-0.030484946444631));
res += mul(Get(s1,-dx,dy), float4x4(-0.051398824900389,-0.078392453491688,-0.090476505458355,-0.023139158263803,0.007566095795482,-0.057200722396374,-0.061993218958378,0.009427689015865,-0.115920566022396,-0.077395319938660,-0.076522745192051,-0.007459288462996,0.034896109253168,0.111293464899063,0.015790525823832,0.031216438859701));
res += mul(Get(s1,0,-dy), float4x4(-0.059556387364864,0.073476403951645,0.065831020474434,-0.046894397586584,0.137595847249031,0.013495762832463,-0.087128818035126,0.064765073359013,0.068229608237743,0.014137890189886,-0.038799639791250,0.022720232605934,-0.047329302877188,-0.037331875413656,0.031912874430418,0.049153998494148));
res += mul(Get(s1,0,0), float4x4(-0.019128480926156,0.113157324492931,0.180776029825211,-0.015589573420584,0.037727419286966,-0.020723532885313,-0.037256740033627,0.039834197610617,0.023911593481898,0.020964289084077,0.049898464232683,-0.022440796718001,-0.042974717915058,0.095799170434475,-0.089324325323105,-0.033273741602898));
res += mul(Get(s1,0,dy), float4x4(-0.047829490154982,0.054834056645632,0.016074579209089,-0.005847014952451,0.063943073153496,-0.022568171843886,-0.013469433411956,0.102596461772919,0.015805648639798,-0.074529565870762,-0.011046831496060,0.031658101826906,0.015722015872598,-0.076936669647694,0.170168101787567,-0.008838475681841));
res += mul(Get(s1,dx,-dy), float4x4(0.041914284229279,-0.023387691006064,-0.167005866765976,-0.062340982258320,-0.100424729287624,0.008867658674717,0.037975810468197,-0.047674868255854,-0.163389340043068,-0.106611423194408,-0.003235694486648,0.145375460386276,-0.045646753162146,-0.031584713608027,-0.034025076776743,0.090990111231804));
res += mul(Get(s1,dx,0), float4x4(-0.036455579102039,-0.011648993007839,-0.052290365099907,-0.083467900753021,-0.072025500237942,-0.039563726633787,-0.076011233031750,-0.154071986675262,0.027118735015392,0.002258043270558,0.012761365622282,0.088389016687870,-0.095066457986832,-0.023000074550509,-0.102837651968002,0.110193885862827));
res += mul(Get(s1,dx,dy), float4x4(-0.038070928305387,0.004727074876428,-0.128635734319687,-0.068158641457558,0.027209781110287,0.031481821089983,-0.067747563123703,-0.105979189276695,-0.107431553304195,-0.060965992510319,-0.000469459744636,0.063544563949108,-0.012629801407456,-0.045622810721397,0.000048155907280,-0.047033168375492));
res += mul(Get(s2,-dx,-dy), float4x4(0.035000097006559,0.055143602192402,0.033869676291943,-0.055990446358919,-0.023362128064036,0.010072869248688,0.198110520839691,0.093968637287617,-0.013268323615193,0.080397821962833,-0.027669977396727,-0.015184645541012,-0.012094759382308,0.029747024178505,-0.228652477264404,-0.027530502527952));
res += mul(Get(s2,-dx,0), float4x4(-0.020253639668226,0.028909744694829,-0.053785793483257,-0.024166619405150,-0.014190371148288,0.085575968027115,0.001866434817202,-0.074885897338390,-0.088256753981113,-0.004123655147851,0.246755063533783,-0.061182510107756,0.059379149228334,0.024332875385880,-0.146096214652061,0.114692397415638));
res += mul(Get(s2,-dx,dy), float4x4(0.067395478487015,0.057103693485260,0.043903760612011,0.010126598179340,-0.024382723495364,0.026563102379441,-0.029702033847570,-0.038207825273275,-0.018647827208042,-0.030242322012782,-0.031806699931622,0.029491115361452,0.049854952841997,0.015089645981789,-0.071511887013912,-0.034552179276943));
res += mul(Get(s2,0,-dy), float4x4(0.047065407037735,0.063991025090218,-0.076860003173351,-0.049511544406414,0.106649652123451,0.037041686475277,0.068268612027168,-0.024219481274486,0.048931732773781,0.079649798572063,-0.099209159612656,0.139007195830345,0.051419280469418,-0.068172320723534,0.008011233992875,0.103427641093731));
res += mul(Get(s2,0,0), float4x4(-0.020830029621720,0.036098130047321,-0.131048262119293,-0.019566347822547,0.018816841766238,-0.047755710780621,-0.063628003001213,-0.119368277490139,0.112134583294392,0.087190993130207,0.068903975188732,0.163882568478584,0.036298554390669,-0.082699827849865,0.006033594720066,0.056323129683733));
res += mul(Get(s2,0,dy), float4x4(0.071605443954468,0.020065557211637,0.022092685103416,-0.016511645168066,-0.021999226883054,-0.035082161426544,-0.014086350798607,-0.153313487768173,0.047299586236477,-0.079140111804008,0.122737981379032,-0.067760229110718,0.046496339142323,0.002660183003172,-0.160941958427429,0.094818644225597));
res += mul(Get(s2,dx,-dy), float4x4(-0.052042793482542,0.127632915973663,-0.107802003622055,-0.027403481304646,0.007280668709427,0.073640309274197,0.035894274711609,-0.027181543409824,0.213658198714256,-0.075281962752342,0.069291301071644,0.044530346989632,-0.009081654250622,0.024794647470117,-0.027835503220558,0.129716590046883));
res += mul(Get(s2,dx,0), float4x4(0.008572904393077,0.042404353618622,0.051083907485008,-0.093904867768288,-0.025016333907843,-0.061812434345484,-0.030319731682539,0.273408532142639,0.109555773437023,0.115554757416248,0.021238656714559,0.089635469019413,0.056732345372438,-0.054201781749725,-0.024113170802593,0.078467100858688));
res += mul(Get(s2,dx,dy), float4x4(0.037568058818579,0.045863483101130,0.039898402988911,-0.013682671822608,0.074604749679565,-0.040502939373255,-0.043906863778830,0.096008136868477,0.009795097634196,-0.099277004599571,-0.002294379286468,-0.110375635325909,0.057515744119883,0.014929207973182,-0.073149710893631,0.039294205605984));
res += mul(Get(s3,-dx,-dy), float4x4(0.031458117067814,0.089877150952816,-0.184769406914711,0.040770046412945,-0.054828770458698,0.001517702243291,-0.032315645366907,0.005741747096181,-0.032312422990799,0.067393563687801,0.006395495496690,-0.073065914213657,-0.009450101293623,0.083796672523022,-0.043286398053169,0.049158737063408));
res += mul(Get(s3,-dx,0), float4x4(0.049349997192621,-0.005119014531374,-0.036918994039297,0.032578945159912,-0.058358244597912,0.055555634200573,0.025700842961669,0.003771159565076,-0.020881343632936,0.045653462409973,0.104252919554710,-0.024807291105390,0.107518598437309,0.097614124417305,0.038505330681801,0.117319881916046));
res += mul(Get(s3,-dx,dy), float4x4(-0.034316804260015,-0.066420786082745,0.031233973801136,-0.014242522418499,0.001081051072106,-0.030662169679999,0.151925280690193,-0.077260196208954,0.018415577709675,-0.091262996196747,-0.036064613610506,-0.108809947967529,0.102557428181171,-0.018624184653163,-0.020322140306234,0.032424323260784));
res += mul(Get(s3,0,-dy), float4x4(-0.058748569339514,0.089785344898701,0.025314768776298,-0.016814766451716,0.061249773949385,0.010229106992483,-0.142551884055138,-0.060952272266150,-0.000646879605483,-0.019944034516811,0.029934063553810,-0.108559772372246,-0.001288556260988,0.108053423464298,0.043680619448423,0.037149991840124));
res += mul(Get(s3,0,0), float4x4(-0.237840443849564,-0.102665640413761,0.012498560361564,-0.040092088282108,0.054558288305998,-0.036951828747988,-0.063868306577206,-0.069919459521770,0.055679403245449,-0.022295704111457,-0.010288118384778,0.009025936014950,-0.049480661749840,-0.075342074036598,0.196767881512642,0.101761341094971));
res += mul(Get(s3,0,dy), float4x4(-0.100919045507908,-0.146551892161369,-0.037588637322187,-0.068422488868237,0.038014989346266,-0.056925419718027,0.102017685770988,0.019672039896250,-0.015828287228942,0.006489672698081,0.079121299088001,0.005215744487941,0.057957772165537,0.041473221033812,-0.129583880305290,-0.030706897377968));
res += mul(Get(s3,dx,-dy), float4x4(-0.020690247416496,-0.018474239856005,-0.000690932793077,0.022397847846150,-0.066298410296440,-0.033053744584322,-0.021572055295110,0.005738699343055,-0.037322308868170,0.015895782038569,-0.035103373229504,-0.093381196260452,0.016944218426943,-0.032175641506910,-0.099023997783661,0.008619361557066));
res += mul(Get(s3,dx,0), float4x4(-0.123033381998539,-0.123625256121159,0.038744907826185,-0.063728980720043,0.040427494794130,-0.036211136728525,-0.032233387231827,0.013556986115873,0.065567605197430,0.031571228057146,-0.036760125309229,0.172932818531990,-0.018505616113544,-0.083985425531864,0.062628112733364,-0.031746111810207));
res += mul(Get(s3,dx,dy), float4x4(-0.066175907850266,-0.165387168526649,-0.083019800484180,0.049036886543036,-0.015043814666569,0.005097748246044,0.016149224713445,-0.008716882206500,0.030397875234485,0.036397796124220,-0.078349962830544,-0.071248039603233,0.031300507485867,0.016025286167860,0.005641859956086,-0.134840235114098));
return max(float4(0,0,0,0), res);
}
