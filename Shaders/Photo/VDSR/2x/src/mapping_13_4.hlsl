sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.007037271745503,-0.021310044452548,-0.042988661676645,0.045113645493984,-0.051802534610033,0.019979340955615,0.028663983568549,-0.008797578513622,0.110325314104557,-0.050295088440180,0.018178658559918,-0.046806409955025,-0.138089790940285,-0.031036565080285,-0.061996083706617,0.005525171291083));
res += mul(Get(s0,-dx,0), float4x4(-0.054820239543915,-0.073088392615318,0.058912727981806,0.083657607436180,-0.078604936599731,-0.008947355672717,0.011645499616861,0.029889002442360,0.022647559642792,-0.077879093587399,0.106264233589172,0.017877064645290,-0.131759643554688,0.038063544780016,-0.162048637866974,-0.042333770543337));
res += mul(Get(s0,-dx,dy), float4x4(-0.009380033239722,0.009426303207874,0.016618372872472,-0.023220436647534,-0.038031890988350,-0.009691737592220,-0.024266080930829,0.099625602364540,-0.071580201387405,0.152588561177254,-0.019672347232699,0.145908996462822,-0.097834147512913,0.043725732713938,0.049791801720858,0.034300964325666));
res += mul(Get(s0,0,-dy), float4x4(-0.007324883248657,0.007190634030849,-0.067368529736996,0.075774073600769,0.092203564941883,-0.004322218243033,-0.013008872978389,-0.100555449724197,0.053116314113140,-0.099478207528591,-0.027050042524934,-0.065489664673805,0.125656679272652,-0.036832515150309,0.043149065226316,0.123531490564346));
res += mul(Get(s0,0,0), float4x4(-0.003607982071117,0.003422841895372,0.032905329018831,0.103946961462498,0.061047285795212,-0.005140425171703,-0.007738330867141,0.005404528696090,0.115668006241322,0.016239862889051,-0.021081978455186,-0.015360333956778,0.014792490750551,0.077970862388611,0.279813647270203,0.209946930408478));
res += mul(Get(s0,0,dy), float4x4(-0.071847602725029,-0.102952882647514,0.004453196655959,0.016204677522182,0.044461395591497,0.066914573311806,0.046008534729481,-0.015513853169978,0.091581709682941,-0.010785500518978,0.148493424057961,0.038486111909151,0.147235885262489,-0.054032195359468,0.002491707215086,0.006238460075110));
res += mul(Get(s0,dx,-dy), float4x4(-0.037404667586088,-0.013231146149337,0.000077466582297,0.076739937067032,0.016854073852301,-0.032748512923717,-0.208717584609985,-0.075412906706333,-0.117874331772327,0.012095090001822,0.092263773083687,-0.281504869461060,0.029495090246201,0.123632140457630,-0.021481331437826,-0.088362514972687));
res += mul(Get(s0,dx,0), float4x4(0.065078385174274,0.017093487083912,-0.043952748179436,0.070433020591736,0.099751442670822,0.052116151899099,-0.170367926359177,-0.052319150418043,-0.086435794830322,0.085658341646194,0.088554263114929,-0.048644937574863,0.106612861156464,0.040255188941956,-0.019487984478474,-0.038822595030069));
res += mul(Get(s0,dx,dy), float4x4(-0.048418328166008,-0.024757612496614,0.037869080901146,0.090887121856213,0.077029794454575,0.012220813892782,0.086400263011456,0.020322706550360,-0.066758431494236,-0.100234240293503,-0.099041447043419,-0.183758214116096,0.035339117050171,-0.064727045595646,-0.024349166080356,-0.031589046120644));
res += mul(Get(s1,-dx,-dy), float4x4(-0.066900722682476,-0.016518343240023,0.081403642892838,-0.026939982548356,-0.007065966259688,-0.048976879566908,0.025969432666898,-0.145525306463242,-0.014071927405894,-0.080132998526096,0.029193028807640,0.011446991935372,-0.002416703617200,-0.237606674432755,0.038492843508720,-0.084770515561104));
res += mul(Get(s1,-dx,0), float4x4(-0.027711765840650,-0.018715452402830,-0.030730435624719,-0.009464738890529,0.024238262325525,0.014462861232460,-0.007185256108642,-0.059426676481962,0.067442983388901,-0.065521217882633,0.024510622024536,-0.056394148617983,0.048292085528374,0.085256576538086,0.132390871644020,0.007551539689302));
res += mul(Get(s1,-dx,dy), float4x4(-0.051605258136988,0.069594591856003,0.128888681530952,0.093595564365387,-0.010047443211079,-0.010022708214819,-0.001532653346658,-0.080525018274784,-0.065461926162243,0.002774569904432,0.043245106935501,0.125516712665558,-0.041699320077896,-0.044055882841349,0.031779646873474,-0.050262954086065));
res += mul(Get(s1,0,-dy), float4x4(0.025193374603987,-0.080089569091797,0.024978747591376,0.066313587129116,0.133996710181236,0.158874109387398,-0.067418627440929,-0.133926361799240,-0.053905293345451,-0.031584370881319,0.018212700262666,0.033207468688488,-0.087228834629059,-0.017289610579610,0.049349680542946,-0.114427037537098));
res += mul(Get(s1,0,0), float4x4(0.024286247789860,0.035916890949011,0.067515514791012,0.066002428531647,-0.150582700967789,-0.067871116101742,0.053216062486172,-0.007905217818916,-0.101285032927990,-0.023956460878253,0.055915437638760,0.002326603746042,0.071497902274132,0.039832562208176,0.112107776105404,-0.067883752286434));
res += mul(Get(s1,0,dy), float4x4(-0.028270188719034,-0.048089426010847,-0.064518995583057,0.008353374898434,0.011451208963990,-0.104754500091076,-0.144666731357574,-0.036069631576538,0.048913709819317,-0.155351459980011,-0.134171292185783,-0.042598307132721,0.111703984439373,-0.149035498499870,0.032032091170549,0.085696309804916));
res += mul(Get(s1,dx,-dy), float4x4(-0.011484446935356,0.014748435467482,0.021554475650191,-0.089558072388172,0.113932542502880,0.106984160840511,-0.064071200788021,-0.086709119379520,0.067093819379807,0.019946010783315,-0.026653591543436,-0.047204650938511,-0.025096800178289,0.070687264204025,0.156455710530281,-0.164353713393211));
res += mul(Get(s1,dx,0), float4x4(-0.022402625530958,-0.024788517504930,0.007690867409110,0.005605039652437,0.104438997805119,-0.008340364322066,0.010064051486552,0.006325316149741,0.061759956181049,-0.023974047973752,-0.012390156276524,-0.044527847319841,-0.051631115376949,-0.045377954840660,0.143527373671532,0.067972004413605));
res += mul(Get(s1,dx,dy), float4x4(-0.019098646938801,-0.039962112903595,-0.053207457065582,-0.037876028567553,0.091831654310226,-0.051207195967436,-0.017048908397555,-0.069459609687328,-0.110640540719032,-0.080522365868092,0.054886408150196,0.053359098732471,-0.051374569535255,0.045623838901520,0.165317058563232,0.080129355192184));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046356771141291,-0.033994629979134,0.041671235114336,0.044610783457756,0.068244837224483,0.039508074522018,-0.034281056374311,-0.142689466476440,0.069514244794846,-0.000051288916438,0.010565414093435,0.017967624589801,0.150721386075020,-0.052696704864502,-0.026135846972466,-0.010408643633127));
res += mul(Get(s2,-dx,0), float4x4(-0.080744251608849,-0.046106196939945,0.035050861537457,0.160103499889374,0.037705920636654,-0.022818453609943,0.008940989151597,0.125117257237434,0.019364155828953,0.009399799630046,0.003768914844841,0.121255986392498,0.160494819283485,0.021199733018875,-0.005827344954014,0.099956415593624));
res += mul(Get(s2,-dx,dy), float4x4(-0.107692547142506,0.073034062981606,0.058371391147375,0.037264619022608,0.031803492456675,-0.027098448947072,-0.045531310141087,-0.038037203252316,-0.055770829319954,-0.008416657336056,-0.126047953963280,0.085788048803806,0.039235521107912,0.011426089331508,0.116048499941826,0.021448237821460));
res += mul(Get(s2,0,-dy), float4x4(-0.045834131538868,-0.022370399907231,0.031761698424816,-0.024847853928804,0.118456520140171,0.005734938196838,0.016266556456685,-0.146733134984970,-0.000486980774440,0.012371152639389,-0.078035265207291,0.024915285408497,0.056190799921751,0.191449224948883,0.070090852677822,-0.017361577600241));
res += mul(Get(s2,0,0), float4x4(0.011319389566779,0.187907233834267,0.033208124339581,0.011898562312126,0.087425597012043,-0.085359998047352,-0.066233336925507,0.040471691638231,0.011615036986768,-0.060128305107355,-0.077889233827591,-0.012052492238581,0.138409838080406,0.196651101112366,-0.064072541892529,-0.012501982972026));
res += mul(Get(s2,0,dy), float4x4(-0.109543778002262,0.035699829459190,0.053362917155027,0.037927310913801,-0.063474886119366,0.036647263914347,0.139723286032677,0.019257793202996,0.036213070154190,0.005212689284235,0.016268782317638,0.034320503473282,0.247507765889168,0.162186414003372,-0.006530638318509,0.012257494032383));
res += mul(Get(s2,dx,-dy), float4x4(-0.060861200094223,0.114346317946911,0.030931936576962,-0.047850608825684,-0.103912308812141,-0.143617779016495,-0.136447399854660,-0.193580538034439,-0.072008028626442,-0.079417333006859,0.003093076869845,-0.016555549576879,-0.009350584819913,-0.021313285455108,-0.034549836069345,-0.008852227590978));
res += mul(Get(s2,dx,0), float4x4(-0.029155982658267,0.133836269378662,0.046119607985020,-0.039311312139034,-0.108343966305256,0.051795296370983,-0.134160414338112,-0.063114076852798,-0.037944566458464,-0.038646042346954,-0.093052409589291,-0.025508934631944,-0.074249714612961,-0.058621630072594,0.014643133617938,-0.004002364818007));
res += mul(Get(s2,dx,dy), float4x4(-0.064931318163872,-0.072097033262253,-0.005983800627291,-0.015333042480052,-0.071019209921360,0.053134534507990,0.053970076143742,0.045367822051048,-0.006653265561908,0.037165865302086,0.013841008767486,0.024903319776058,0.021022459492087,-0.057172641158104,-0.060678519308567,-0.021644338965416));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021938933059573,0.016527825966477,0.018215015530586,-0.134144887328148,-0.019361931830645,-0.009602386504412,-0.036178369075060,0.015338009223342,-0.028656456619501,-0.010362139903009,0.043357014656067,0.024197433143854,-0.044058203697205,-0.095485754311085,0.047538749873638,-0.100969024002552));
res += mul(Get(s3,-dx,0), float4x4(-0.044043540954590,-0.006786773912609,-0.016143864020705,0.132233664393425,-0.033241074532270,0.167032167315483,0.069034427404404,0.028321783989668,0.009644383564591,0.070942759513855,0.092831164598465,0.022479457780719,-0.067166954278946,0.018231401219964,0.013584457337856,-0.017190428450704));
res += mul(Get(s3,-dx,dy), float4x4(-0.051328245550394,-0.134279429912567,-0.010266231372952,0.026571499183774,0.084390014410019,0.003333897329867,0.017637060955167,-0.018263844773173,0.066780090332031,-0.023838898167014,-0.044031966477633,-0.057583793997765,-0.058962713927031,0.179779067635536,-0.061813045293093,-0.050700820982456));
res += mul(Get(s3,0,-dy), float4x4(0.142114341259003,0.024011710658669,0.000198089197511,-0.040950141847134,-0.011832336895168,0.179138824343681,-0.066976875066757,-0.035514999181032,0.010378925129771,-0.032860405743122,0.020864065736532,0.064303182065487,-0.038729995489120,-0.085543021559715,-0.024168919771910,-0.004850421566516));
res += mul(Get(s3,0,0), float4x4(0.070147857069969,-0.127756699919701,0.000831179553643,-0.019331099465489,-0.018422730267048,0.030534099787474,0.094462841749191,-0.044370949268341,0.032234616577625,-0.046505395323038,0.039758071303368,0.113872811198235,-0.066678985953331,0.069656237959862,0.028137771412730,0.101692102849483));
res += mul(Get(s3,0,dy), float4x4(-0.003357200883329,0.003795118769631,-0.062202963978052,0.005362895783037,-0.000126570259454,0.020535450428724,-0.041590288281441,0.090759254992008,0.009526291862130,-0.050399255007505,0.106522813439369,0.185538396239281,0.016136664897203,-0.071130126714706,-0.092371374368668,-0.025336109101772));
res += mul(Get(s3,dx,-dy), float4x4(-0.189395219087601,-0.067615792155266,-0.013485151343048,-0.070578768849373,-0.118499524891376,0.049510307610035,-0.017957201227546,0.032546568661928,0.053346302360296,-0.044872917234898,0.001189250731841,0.063833683729172,-0.043647617101669,0.081521362066269,-0.064321503043175,-0.071540430188179));
res += mul(Get(s3,dx,0), float4x4(-0.026882931590080,-0.119425974786282,0.048986047506332,0.020089862868190,-0.088274605572224,-0.027934662997723,-0.031700208783150,0.090315386652946,0.087722554802895,0.011009803973138,-0.046538595110178,-0.000685471866746,-0.104192577302456,-0.044650670140982,0.093498736619949,0.034637827426195));
res += mul(Get(s3,dx,dy), float4x4(0.017514102160931,0.059732187539339,0.040474437177181,0.058958657085896,-0.071651518344879,0.133924975991249,0.108678124845028,0.086297944188118,0.057739526033401,0.031423948705196,-0.007451108656824,0.045728955417871,-0.122749127447605,-0.084173567593098,-0.114851810038090,-0.066635183990002));
return max(float4(0,0,0,0), res);
}
