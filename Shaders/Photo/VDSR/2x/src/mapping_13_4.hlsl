sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.039192281663418,0.039558012038469,-0.076588660478592,-0.002620506566018,0.043794658035040,-0.083033658564091,-0.046844851225615,0.014758790843189,-0.052640557289124,0.061858814209700,-0.047347374260426,-0.000344143889379,0.060770582407713,-0.070073924958706,-0.097320497035980,-0.011809171177447));
res += mul(Get(s0,-dx,0), float4x4(-0.091929815709591,-0.007912904955447,0.052766658365726,-0.162584587931633,0.055021136999130,0.002178187482059,-0.131034940481186,-0.064434349536896,-0.104219257831573,-0.044515702873468,0.104191571474075,0.037504844367504,0.026461143046618,0.051489695906639,-0.045122366398573,-0.059800550341606));
res += mul(Get(s0,-dx,dy), float4x4(0.013409684412181,-0.064150258898735,0.030694289132953,-0.074204489588737,0.038334041833878,-0.017969766631722,0.156674414873123,-0.000771787133999,-0.041389890015125,-0.115529961884022,0.024578107520938,-0.134957283735275,0.085754945874214,0.140087932348251,-0.013514147140086,-0.056569077074528));
res += mul(Get(s0,0,-dy), float4x4(-0.052087005227804,0.053513497114182,0.222683399915695,-0.191475257277489,0.149750515818596,0.004800919443369,0.166535332798958,0.063486061990261,0.002463059965521,-0.090089708566666,0.048903871327639,0.102913007140160,-0.068612836301327,-0.042655266821384,0.049912102520466,0.067496478557587));
res += mul(Get(s0,0,0), float4x4(0.065614461898804,-0.001502388855442,0.046465422958136,0.148757249116898,0.196295723319054,-0.198663830757141,0.004082179628313,0.110510893166065,0.121794044971466,-0.025025159120560,-0.010133293457329,-0.003228108631447,-0.107405342161655,-0.024673990905285,-0.047658808529377,-0.110247150063515));
res += mul(Get(s0,0,dy), float4x4(0.078986249864101,0.068185850977898,-0.066378310322762,0.042178995907307,0.132690146565437,-0.076642863452435,0.101789467036724,0.067698620259762,0.003052247455344,-0.156941592693329,0.113267801702023,-0.076316043734550,0.019680026918650,-0.036342162638903,-0.042675606906414,-0.040382221341133));
res += mul(Get(s0,dx,-dy), float4x4(-0.109700232744217,-0.077298142015934,0.040457978844643,-0.003704098984599,-0.092499561607838,-0.078427590429783,-0.005371790844947,0.129713848233223,-0.110674835741520,0.024213815107942,0.049825444817543,0.036385092884302,-0.021343056112528,-0.105897456407547,-0.092756465077400,0.175587087869644));
res += mul(Get(s0,dx,0), float4x4(-0.110312633216381,-0.220283329486847,-0.065499164164066,-0.007782575208694,0.098777592182159,0.066987916827202,0.082896918058395,-0.032603099942207,-0.221561640501022,0.069552943110466,-0.136292412877083,-0.105790168046951,-0.099507518112659,-0.069357104599476,-0.120554588735104,0.028364349156618));
res += mul(Get(s0,dx,dy), float4x4(-0.041418202221394,0.061386592686176,-0.043991032987833,-0.025461798533797,-0.045315381139517,-0.136486306786537,-0.104716166853905,-0.090576454997063,-0.053122438490391,-0.192767396569252,-0.094697512686253,0.177836373448372,-0.072387106716633,0.037739902734756,-0.076300114393234,-0.108372688293457));
res += mul(Get(s1,-dx,-dy), float4x4(0.003797213314101,0.070578888058662,-0.030109733343124,-0.033969830721617,-0.094806261360645,-0.139059603214264,0.079349301755428,-0.192925542593002,-0.072021611034870,-0.031240522861481,-0.246897011995316,-0.171540841460228,0.015056136995554,-0.056843142956495,0.146876662969589,-0.024705560877919));
res += mul(Get(s1,-dx,0), float4x4(0.001642021583393,-0.001774917007424,-0.063487783074379,-0.045435793697834,-0.160138636827469,-0.011160199530423,-0.010048381052911,-0.019232755526900,-0.071249179542065,-0.136180356144905,-0.093683414161205,0.067963257431984,-0.070882275700569,-0.019204603508115,-0.026230262592435,0.093504391610622));
res += mul(Get(s1,-dx,dy), float4x4(-0.075218029320240,0.128428146243095,-0.027244875207543,0.066653452813625,-0.080063045024872,-0.048925660550594,0.071480132639408,0.128222152590752,-0.041607592254877,0.021197477355599,0.015561356209219,0.055147577077150,0.026018617674708,0.081504851579666,-0.048760145902634,-0.096569366753101));
res += mul(Get(s1,0,-dy), float4x4(0.016123928129673,0.019079504534602,-0.018418846651912,0.072162300348282,-0.030483430251479,0.012186444364488,0.093591660261154,-0.070716969668865,-0.003418656997383,0.021254580467939,0.004881436470896,0.084513582289219,0.005932653788477,-0.056597393006086,0.035709250718355,-0.084851413965225));
res += mul(Get(s1,0,0), float4x4(0.125956431031227,-0.113799698650837,-0.095335766673088,0.051365099847317,-0.015484500676394,0.268123239278793,0.111288405954838,0.218227952718735,0.023407092317939,0.034419875591993,-0.077465862035751,0.076427355408669,0.075731992721558,-0.129403427243233,0.127316638827324,0.187931582331657));
res += mul(Get(s1,0,dy), float4x4(-0.032559227198362,0.097632557153702,-0.046181555837393,0.053781837224960,0.189704045653343,0.037543412297964,-0.008065576665103,0.192753687500954,-0.036892276257277,-0.017880776897073,-0.072416506707668,-0.011340454220772,-0.166293933987617,0.077476218342781,-0.121332064270973,-0.121621452271938));
res += mul(Get(s1,dx,-dy), float4x4(0.010871561244130,-0.098204858601093,0.159456551074982,-0.080113269388676,-0.103698045015335,0.112818688154221,-0.095541484653950,-0.257396191358566,0.119376167654991,-0.235277876257896,-0.038751017302275,0.074525155127048,-0.013072826899588,0.039787262678146,-0.135002598166466,-0.242578715085983));
res += mul(Get(s1,dx,0), float4x4(0.067934036254883,-0.079634882509708,0.119081705808640,0.117900937795639,0.093196921050549,0.100563846528530,-0.062589116394520,-0.023324569687247,-0.211900860071182,-0.069318540394306,0.042857483029366,-0.158020928502083,0.126303583383560,0.059598572552204,-0.107252381742001,0.059525374323130));
res += mul(Get(s1,dx,dy), float4x4(0.011061418801546,-0.074264355003834,-0.015143690630794,0.035552784800529,0.070477925240993,0.036241449415684,0.077783219516277,-0.046360474079847,0.002087667118758,-0.114370994269848,0.110044717788696,-0.125169187784195,0.040482927113771,-0.011728147976100,-0.076434992253780,0.085636176168919));
res += mul(Get(s2,-dx,-dy), float4x4(-0.110230803489685,0.081713981926441,-0.057792510837317,-0.031594440340996,-0.055758800357580,0.111666895449162,-0.035242632031441,-0.089069381356239,-0.112117491662502,0.061442680656910,-0.240321606397629,0.068326771259308,0.062963373959064,-0.096466280519962,0.186989977955818,-0.040700398385525));
res += mul(Get(s2,-dx,0), float4x4(0.065901108086109,-0.026216302067041,-0.107380591332912,0.118420533835888,-0.151128888130188,0.020489389076829,-0.006225151475519,-0.141035854816437,0.056151401251554,0.094972535967827,-0.071700416505337,-0.061313591897488,0.157509252429008,-0.010360791347921,-0.181490272283554,0.085440590977669));
res += mul(Get(s2,-dx,dy), float4x4(-0.147135034203529,-0.288699805736542,-0.196480438113213,0.041162747889757,0.045042764395475,-0.019586779177189,0.090984553098679,0.082024663686752,-0.055836044251919,-0.082811072468758,-0.088434174656868,-0.022911885753274,0.041364759206772,0.150466740131378,-0.125111058354378,0.083348669111729));
res += mul(Get(s2,0,-dy), float4x4(0.042397823184729,0.102327026426792,0.061997074633837,0.015381834469736,-0.111378699541092,0.070480577647686,-0.058845952153206,-0.006793619133532,-0.184262022376060,-0.042308371514082,0.107548028230667,0.068178996443748,-0.148569837212563,-0.038624610751867,0.000503348303027,0.005930012557656));
res += mul(Get(s2,0,0), float4x4(0.013087467290461,0.083587624132633,-0.173609271645546,-0.121688000857830,-0.034155193716288,0.010497010312974,-0.058226455003023,-0.128168821334839,-0.027398964390159,0.063678212463856,0.045080725103617,0.172623261809349,0.040338236838579,-0.065420225262642,0.006426206789911,-0.206773087382317));
res += mul(Get(s2,0,dy), float4x4(-0.110990814864635,0.056462209671736,0.043739989399910,0.095074117183685,0.119084700942039,0.060006685554981,0.003965142183006,-0.094334565103054,-0.038280989974737,-0.049071699380875,0.092288732528687,-0.075421541929245,0.058140702545643,-0.068364784121513,0.094243258237839,-0.144267216324806));
res += mul(Get(s2,dx,-dy), float4x4(0.105342462658882,-0.117143727838993,0.209256038069725,-0.068305864930153,-0.201922953128815,-0.237555474042892,0.079798310995102,-0.109398387372494,0.086907438933849,-0.107214458286762,-0.001219823257998,0.137246102094650,-0.332093715667725,0.060902904719114,-0.081174306571484,0.037471409887075));
res += mul(Get(s2,dx,0), float4x4(-0.049152787774801,-0.064593672752380,-0.069508425891399,-0.280461519956589,0.063952058553696,-0.033131349831820,0.152091667056084,0.117358081042767,-0.129447966814041,0.031761407852173,0.119234159588814,0.091804012656212,-0.112148076295853,-0.020655171945691,-0.146636277437210,0.041040565818548));
res += mul(Get(s2,dx,dy), float4x4(-0.073789268732071,-0.077321410179138,0.222971230745316,0.158449709415436,0.151187628507614,-0.033837217837572,0.075387805700302,0.020243683829904,0.019939461722970,-0.115978173911572,0.045488744974136,-0.005754722282290,0.286733895540237,0.018430236726999,0.066847391426563,0.133415102958679));
res += mul(Get(s3,-dx,-dy), float4x4(-0.114511832594872,0.099928580224514,0.000787049182691,0.011184947565198,0.057990737259388,-0.051087155938148,0.046349126845598,-0.078989967703819,-0.050272088497877,0.015721973031759,-0.146804630756378,0.189541786909103,-0.016454605385661,0.060648608952761,-0.032942157238722,-0.000927061715629));
res += mul(Get(s3,-dx,0), float4x4(0.014192661270499,-0.035996016114950,-0.083862446248531,0.006261185277253,-0.015883617103100,0.013775818981230,0.096599511802197,-0.076155968010426,-0.094074532389641,0.042447570711374,0.022801397368312,0.170289069414139,0.006132425740361,0.086797550320625,0.053957659751177,0.080167040228844));
res += mul(Get(s3,-dx,dy), float4x4(-0.078393906354904,0.017566613852978,0.028655523434281,0.131150886416435,0.024796215817332,0.040084850043058,-0.048349998891354,-0.000409544678405,0.054035179316998,-0.199366271495819,0.081917762756348,0.012473445385695,0.073661416769028,0.122531734406948,0.014223705045879,-0.052402336150408));
res += mul(Get(s3,0,-dy), float4x4(-0.077695772051811,-0.020302215591073,-0.036168787628412,0.079227991402149,-0.152452960610390,-0.027046667411923,-0.003744515823200,0.092000626027584,-0.090472288429737,-0.086184069514275,-0.048856142908335,-0.090625248849392,-0.091939948499203,-0.018909642472863,0.142425745725632,0.034742563962936));
res += mul(Get(s3,0,0), float4x4(-0.120100289583206,-0.007770876400173,-0.202117487788200,0.020330304279923,0.046164609491825,0.007866690866649,-0.074067026376724,0.063215047121048,0.064648129045963,0.016149429604411,-0.138305947184563,0.107179172337055,0.117277555167675,0.024318564683199,0.172427728772163,-0.113536842167377));
res += mul(Get(s3,0,dy), float4x4(-0.083723559975624,-0.079044468700886,0.032190553843975,0.067448675632477,0.172100454568863,0.109210796654224,-0.006019297521561,0.041870556771755,0.029443575069308,-0.248084202408791,-0.095075637102127,0.239364042878151,-0.158065572381020,0.087279267609119,0.129522159695625,-0.016584528610110));
res += mul(Get(s3,dx,-dy), float4x4(-0.005038110073656,0.183245494961739,-0.072399504482746,0.114842213690281,-0.202183157205582,0.037244100123644,0.001551166642457,-0.085051961243153,0.191725552082062,0.050572108477354,0.073189310729504,0.101436935365200,-0.066878825426102,0.021493934094906,0.204892486333847,-0.034537311643362));
res += mul(Get(s3,dx,0), float4x4(-0.090283170342445,0.034201364964247,-0.050611566752195,-0.011927583254874,0.155507951974869,0.004775594919920,-0.062515802681446,-0.139729321002960,0.034043658524752,0.053572788834572,0.133858516812325,0.129511788487434,-0.106472745537758,-0.006779149640352,0.143400385975838,0.115873724222183));
res += mul(Get(s3,dx,dy), float4x4(-0.145376905798912,0.088127270340919,-0.142987608909607,0.127995610237122,0.018503699451685,-0.145312353968620,0.052000138908625,0.025467725470662,-0.116201154887676,0.106369733810425,0.065276250243187,-0.066310413181782,-0.113344252109528,0.008530227467418,-0.008020788431168,-0.051536500453949));
return max(float4(0,0,0,0), res);
}
