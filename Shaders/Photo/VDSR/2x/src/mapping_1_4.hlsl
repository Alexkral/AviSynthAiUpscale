sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.114200577139854,-0.110958985984325,0.041074141860008,0.014556899666786,0.224377870559692,0.315136313438416,0.158328324556351,-0.056977070868015,0.029791448265314,0.011513574980199,-0.008525392971933,-0.036434423178434,0.000839039334096,-0.002647012704983,-0.005116535350680,0.007402134127915));
res += mul(Get(s0,-dx,0), float4x4(-0.085105426609516,0.088448405265808,0.004679650533944,-0.083269663155079,-0.251899927854538,-0.294125318527222,0.462985694408417,-0.574561715126038,0.180163294076920,-0.039848398417234,-0.035334084182978,-0.033401418477297,-0.000325086934026,0.001212819712237,-0.000362437509466,0.004346126224846));
res += mul(Get(s0,-dx,dy), float4x4(-0.026537436991930,-0.166821599006653,0.035385992377996,0.049534983932972,-0.103049017488956,-0.042403396219015,0.260252267122269,-0.260938763618469,0.063925638794899,0.026473147794604,-0.011936488561332,-0.086140193045139,0.002774669555947,-0.002435039496049,-0.002873607445508,-0.003932911902666));
res += mul(Get(s0,0,-dy), float4x4(-0.131695389747620,-0.144899070262909,-0.009776728227735,-0.030775811523199,0.390314280986786,0.706430017948151,-0.110717378556728,0.195402204990387,-0.042065463960171,-0.003268840489909,0.051920272409916,0.014658013358712,0.003350229235366,0.007039898540825,0.001480058766901,-0.002877989551052));
res += mul(Get(s0,0,0), float4x4(-0.086468711495399,0.079694665968418,-0.013586408458650,-0.032914116978645,-0.268507122993469,-0.305863559246063,-0.146903842687607,0.146086618304253,0.000775574590079,0.011186019517481,0.157362043857574,-0.024764124304056,0.003810113528743,-0.006263894028962,-0.006473608314991,-0.000427679566201));
res += mul(Get(s0,0,dy), float4x4(0.022800000384450,-0.147406727075577,0.008565380237997,0.044616449624300,-0.208107873797417,-0.294010519981384,-0.146938487887383,0.129211798310280,-0.067591853439808,0.063462518155575,0.092827826738358,-0.075483880937099,0.002278883941472,-0.002307644113898,0.002990870969370,-0.002249159384519));
res += mul(Get(s0,dx,-dy), float4x4(-0.093092948198318,-0.036064565181732,-0.062734030187130,0.039348285645247,0.125820904970169,0.292207956314087,0.019775224849582,-0.043353773653507,-0.112304404377937,0.099483922123909,0.018029406666756,0.003386982716620,0.002203899668530,0.002689067972824,0.001072363113053,-0.000283361674519));
res += mul(Get(s0,dx,0), float4x4(-0.043536972254515,0.048604216426611,-0.032999444752932,0.076815865933895,-0.097653746604919,-0.299319505691528,-0.206746667623520,0.347228199243546,-0.125028893351555,0.017174450680614,0.117487356066704,-0.021537803113461,0.006655523553491,-0.002880844753236,-0.003873297013342,0.004271284211427));
res += mul(Get(s0,dx,dy), float4x4(0.035210069268942,-0.143358200788498,-0.007570818066597,0.031451057642698,0.056069396436214,-0.124315775930882,-0.250967621803284,0.195410117506981,-0.077142395079136,0.021638859063387,-0.013032210059464,-0.037644799798727,-0.004042230080813,0.000057993074734,-0.001092240912840,-0.001868418301456));
res += mul(Get(s1,-dx,-dy), float4x4(-0.017362684011459,-0.026393802836537,-0.019044121727347,-0.002801986411214,0.018332328647375,0.037724692374468,0.009039090946317,-0.037492174655199,0.095008693635464,-0.045663911849260,0.032041136175394,-0.018050540238619,0.001309555140324,0.005635196343064,-0.001125005655922,0.004887041635811));
res += mul(Get(s1,-dx,0), float4x4(-0.009218014776707,-0.035549797117710,-0.003064053365961,-0.035057805478573,0.084908157587051,-0.025671837851405,-0.019345296546817,-0.023414740338922,0.088329412043095,-0.226925030350685,0.057110577821732,0.026740642264485,0.002671984257177,0.001747213653289,-0.002934451214969,-0.006189231295139));
res += mul(Get(s1,-dx,dy), float4x4(0.021798519417644,-0.032681606709957,-0.010240859352052,-0.049597695469856,0.121869400143623,0.010575319640338,-0.073653385043144,-0.061776362359524,-0.008399690501392,-0.051852058619261,0.008277210406959,-0.082028567790985,0.005308802239597,-0.001129890209995,-0.005801209714264,0.001149816205725));
res += mul(Get(s1,0,-dy), float4x4(-0.021046202629805,0.005366977304220,-0.006837172899395,-0.059533223509789,0.010141205042601,-0.065073043107986,-0.071879856288433,0.034276399761438,0.066945344209671,-0.039154440164566,-0.034173477441072,-0.053802233189344,0.002032776130363,0.001910632592626,0.010497118346393,-0.003697463311255));
res += mul(Get(s1,0,0), float4x4(-0.008089973591268,-0.016550632193685,-0.005156261846423,-0.079894743859768,0.026341384276748,-0.102526552975178,0.014481653459370,0.057836301624775,0.082664936780930,-0.104048602283001,-0.001693087629974,0.017322272062302,0.001516576041467,0.002226654905826,0.005222294945270,-0.002201265422627));
res += mul(Get(s1,0,dy), float4x4(0.006309428252280,-0.026034414768219,0.004866399336606,-0.039718493819237,0.068091727793217,-0.063159368932247,-0.039553400129080,0.049960482865572,-0.024730753153563,0.006780240219086,-0.033552978187799,-0.017081961035728,-0.000142325283377,0.000677853648085,-0.001258653705008,0.000938690034673));
res += mul(Get(s1,dx,-dy), float4x4(-0.013722077012062,0.017148509621620,-0.002211460145190,-0.003409483237192,-0.043169546872377,0.030862173065543,0.011784338392317,-0.087530516088009,0.021334012970328,-0.057996381074190,0.033076718449593,0.041492071002722,-0.004324149806052,-0.007093620486557,-0.000405427766964,0.003090575337410));
res += mul(Get(s1,dx,0), float4x4(-0.004391047172248,-0.006299271248281,0.016912784427404,-0.018513012677431,-0.048069581389427,-0.024187209084630,0.012658138759434,-0.007810112554580,0.008401600643992,-0.066733479499817,0.083988539874554,0.127827957272530,-0.001739460392855,0.003531219204888,0.001257682917640,-0.002927076304331));
res += mul(Get(s1,dx,dy), float4x4(0.005167114082724,-0.017663381993771,0.015073110349476,0.012114224024117,-0.040200527757406,-0.051249865442514,0.040509037673473,-0.071312598884106,0.019905943423510,0.011381402611732,-0.027653500437737,0.048696294426918,0.001165068941191,-0.012136773206294,-0.000046502304031,0.001922037103213));
res += mul(Get(s2,-dx,-dy), float4x4(0.004792342893779,-0.014089629985392,0.011254084296525,-0.005729268770665,-0.000314846605761,-0.001717449980788,0.003227720735595,-0.001602439559065,-0.111462295055389,-0.079491369426250,0.084810428321362,-0.044352389872074,0.037799216806889,0.180628731846809,-0.062578745186329,0.126731157302856));
res += mul(Get(s2,-dx,0), float4x4(0.033966861665249,-0.031583461910486,0.014328178018332,-0.001538489712402,-0.009212200529873,0.001319884671830,0.000580739288125,-0.003958543762565,-0.022590804845095,0.000554729020223,0.044563662260771,-0.107900448143482,-0.069935575127602,-0.046476315706968,-0.061096094548702,0.098325572907925));
res += mul(Get(s2,-dx,dy), float4x4(0.028796955943108,-0.012903620488942,-0.005815773736686,-0.021643657237291,-0.001696536666714,-0.008272875100374,-0.002843339927495,0.001509561319835,0.032751366496086,-0.104909591376781,0.015236278995872,-0.037731207907200,-0.091454319655895,0.049657881259918,-0.055909626185894,0.162490293383598));
res += mul(Get(s2,0,-dy), float4x4(0.010119901038706,-0.009318243712187,-0.008866395801306,0.008700943551958,0.000693413196132,0.002166695659980,0.001410308410414,0.000071764734457,-0.124960437417030,-0.107858754694462,0.019943697378039,-0.004864403977990,0.058507531881332,-0.028167149052024,-0.002776263281703,0.020227091386914));
res += mul(Get(s2,0,0), float4x4(0.018774529919028,-0.026138424873352,0.004358689766377,0.013254770077765,0.003362648654729,0.000983892008662,0.002639796352014,-0.001222874154337,-0.034701067954302,0.000823139853310,0.018712338060141,-0.053223256021738,0.035995487123728,-0.062921628355980,0.016685584560037,-0.151452660560608));
res += mul(Get(s2,0,dy), float4x4(0.007750642020255,0.017783552408218,0.024725623428822,-0.003187884110957,0.004853856749833,0.002858347026631,0.007627721410245,-0.002178973751143,0.048241119831800,-0.089074753224850,0.000983065809123,-0.073154866695404,-0.015460507944226,0.062441408634186,0.003533469280228,-0.070676729083061));
res += mul(Get(s2,dx,-dy), float4x4(-0.008792646229267,0.008772036060691,0.029228564351797,0.022209104150534,-0.003277990035713,0.007123811636120,-0.000325015251292,-0.001788639230654,-0.132291734218597,-0.096071839332581,-0.100464373826981,0.061958063393831,0.101867981255054,-0.026922753080726,-0.064627766609192,0.147188380360603));
res += mul(Get(s2,dx,0), float4x4(-0.002787394914776,0.000230518591707,0.056056186556816,-0.005551948677748,0.002639568177983,-0.001134512946010,-0.001027341117151,-0.003031906671822,-0.052522450685501,-0.002749109873548,-0.014761127531528,0.046708740293980,0.040573097765446,-0.025527803227305,-0.053486697375774,0.041443277150393));
res += mul(Get(s2,dx,dy), float4x4(0.006469433195889,0.025260325521231,0.009772481396794,-0.008027088828385,0.000854345795233,-0.003446194576100,-0.001761560561135,-0.003654052037746,-0.010368567891419,-0.131895989179611,0.040135957300663,0.016681456938386,0.047347549349070,0.024662012234330,-0.035365879535675,0.075969576835632));
res += mul(Get(s3,-dx,-dy), float4x4(0.021116135641932,-0.040546208620071,0.002656709402800,-0.010591336525977,0.000279139174381,-0.002478182781488,0.002840446308255,0.009323883801699,-0.018199644982815,0.009534302167594,-0.098917365074158,-0.080158948898315,0.017350582405925,0.123196810483932,0.251441776752472,-0.272253930568695));
res += mul(Get(s3,-dx,0), float4x4(0.033531643450260,-0.060152720659971,0.011324705556035,0.021914897486567,-0.000479964626720,0.007678982801735,0.004651793744415,0.007302661892027,-0.024932395666838,-0.109850689768791,-0.085716225206852,-0.056396421045065,-0.111252337694168,0.069503106176853,0.314118355512619,-0.214660286903381));
res += mul(Get(s3,-dx,dy), float4x4(0.028337256982923,0.022466922178864,0.017381086945534,-0.002615971723571,0.000925409141928,0.006458328105509,0.003678589826450,0.001512552029453,0.011179961264133,-0.066395916044712,-0.075561605393887,-0.057991966605186,0.003995760343969,-0.166254773736000,0.042221307754517,-0.186016947031021));
res += mul(Get(s3,0,-dy), float4x4(0.017265712842345,-0.025318626314402,-0.014170243404806,-0.002532699843869,-0.001045153592713,-0.005339845549315,-0.002006073715165,-0.003879787633196,-0.026502925902605,0.081417351961136,-0.004693638999015,-0.190761044621468,-0.068307302892208,0.302870988845825,-0.188492193818092,0.067240320146084));
res += mul(Get(s3,0,0), float4x4(0.021542977541685,-0.041911974549294,0.004697408527136,0.018214374780655,0.008641168475151,-0.002164617646486,-0.001365223317407,-0.006482031196356,0.012948900461197,-0.019745606929064,-0.000109770975541,-0.235396176576614,-0.179660305380821,-0.051672000437975,-0.280653834342957,0.321916431188583));
res += mul(Get(s3,0,dy), float4x4(0.022960431873798,0.037959940731525,0.006546309217811,0.022372588515282,0.003282943740487,0.002346533117816,-0.003443973138928,-0.000436860806076,-0.004108009394258,0.021620973944664,0.002341263229027,-0.201507404446602,-0.009940759278834,-0.263193547725677,-0.202732592821121,0.129106909036636));
res += mul(Get(s3,dx,-dy), float4x4(0.007188386749476,-0.032782431691885,0.011601885780692,0.014213759452105,0.002328370232135,-0.006965648848563,0.001073802704923,-0.000017251948520,-0.012603310868144,0.040136363357306,0.011925801634789,0.015808882191777,-0.034948498010635,0.008673362433910,-0.056181583553553,-0.070375978946686));
res += mul(Get(s3,dx,0), float4x4(0.003221423365176,-0.043320041149855,0.017444623634219,0.027548465877771,0.005420310422778,0.003914691973478,0.001709364936687,0.000531799043529,0.046484693884850,-0.014622620306909,0.018399698659778,0.007197608705610,0.097133554518223,0.129600837826729,-0.092006497085094,0.130548104643822));
res += mul(Get(s3,dx,dy), float4x4(0.038540940731764,0.041704397648573,-0.015343092381954,0.037064656615257,0.000350290210918,-0.001886687241495,-0.002318149898201,0.002456846414134,0.054516788572073,-0.020719524472952,0.000784163887147,0.012897619977593,0.102615997195244,-0.054457619786263,0.071713350713253,0.059862934052944));
return max(float4(0,0,0,0), res);
}
