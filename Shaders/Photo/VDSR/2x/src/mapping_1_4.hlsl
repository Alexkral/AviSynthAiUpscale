sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.281525194644928,-0.045922346413136,-0.220879077911377,0.145425215363503,0.212252214550972,0.067849606275558,-0.033735439181328,0.060101479291916,-0.042915094643831,-0.016512613743544,0.094621688127518,0.085098408162594,-0.056747671216726,0.068892247974873,-0.050834793597460,0.056891478598118));
res += mul(Get(s0,-dx,0), float4x4(0.101211510598660,0.019481960684061,0.014050216414034,0.109501749277115,-0.036150082945824,-0.027852687984705,0.159476920962334,0.042565345764160,-0.017921609804034,-0.135580316185951,0.164351016283035,-0.138331696391106,-0.004385770298541,-0.024225434288383,-0.176207587122917,0.160579070448875));
res += mul(Get(s0,-dx,dy), float4x4(0.354371398687363,0.046914000064135,-0.168857872486115,-0.100733369588852,-0.088380806148052,-0.083264492452145,0.082617849111557,-0.061333678662777,0.119723707437515,0.018010582774878,-0.072457544505596,-0.102599658071995,-0.213201478123665,-0.029769564047456,-0.170805051922798,0.078095391392708));
res += mul(Get(s0,0,-dy), float4x4(-0.043287526816130,-0.075053542852402,0.051721576601267,-0.135247513651848,-0.048069436103106,-0.013412717729807,0.084976382553577,0.231910213828087,-0.046816524118185,0.030204711481929,-0.129089027643204,-0.075082935392857,-0.016792818903923,0.108131676912308,-0.099563978612423,-0.187989294528961));
res += mul(Get(s0,0,0), float4x4(-0.017198763787746,-0.112104125320911,0.094105429947376,-0.030942898243666,0.118824020028114,-0.058358933776617,-0.163195461034775,-0.213533982634544,-0.017947077751160,-0.247215360403061,0.032918412238359,0.284006863832474,0.039623443037271,0.048919960856438,0.112189069390297,0.152700096368790));
res += mul(Get(s0,0,dy), float4x4(-0.119084559381008,0.031752169132233,-0.177214533090591,0.146806940436363,0.062240079045296,0.075404554605484,-0.180272340774536,-0.052326325327158,0.096314616501331,0.129333063960075,-0.006255599670112,-0.050107069313526,0.067771859467030,-0.002961409511045,-0.197428256273270,-0.006777442526072));
res += mul(Get(s0,dx,-dy), float4x4(-0.180052116513252,0.035067051649094,-0.036201994866133,0.033743388950825,-0.130277425050735,-0.036540955305099,-0.027992008253932,0.077884390950203,0.098578110337257,-0.111398540437222,-0.034389987587929,0.097630806267262,-0.154173702001572,-0.009552230127156,-0.020350592210889,-0.046882577240467));
res += mul(Get(s0,dx,0), float4x4(0.053003478795290,0.035790145397186,0.053133502602577,0.047849941998720,0.027273342013359,-0.026627456769347,-0.183938696980476,-0.058433484286070,0.183499172329903,-0.011599651537836,0.203218773007393,-0.039061710238457,0.062546670436859,0.127327725291252,0.108288712799549,0.000152520398842));
res += mul(Get(s0,dx,dy), float4x4(-0.081904478371143,0.059001773595810,-0.113659478724003,-0.005981999915093,0.060674026608467,-0.063531570136547,0.033970884978771,0.085348077118397,-0.134811893105507,0.082935437560081,-0.213758036494255,0.081395566463470,0.166164159774780,0.014848651364446,-0.000833038822748,-0.097159720957279));
res += mul(Get(s1,-dx,-dy), float4x4(0.005258245859295,0.114626325666904,-0.137067347764969,0.000334555108566,0.000055248823628,-0.062748841941357,-0.201445206999779,0.039273254573345,0.062906488776207,0.023601694032550,-0.040220662951469,0.203529760241508,0.145978242158890,0.144573017954826,0.089267753064632,0.117168657481670));
res += mul(Get(s1,-dx,0), float4x4(0.139110326766968,0.031371112912893,-0.078512921929359,-0.176664799451828,0.065811663866043,-0.120958380401134,0.137406393885612,0.156746163964272,0.071356430649757,-0.157753467559814,-0.035869985818863,0.008465418592095,-0.081100836396217,-0.048766851425171,-0.011431872844696,0.046026673167944));
res += mul(Get(s1,-dx,dy), float4x4(0.004043054766953,0.026412375271320,-0.104926854372025,-0.078061126172543,-0.040877491235733,-0.228500738739967,0.042619075626135,-0.183102905750275,-0.005670094396919,-0.063698805868626,-0.018432158976793,0.055978778749704,0.024430165067315,0.179435566067696,-0.150480657815933,0.081201098859310));
res += mul(Get(s1,0,-dy), float4x4(-0.066470041871071,-0.076735585927963,0.138042852282524,-0.075224943459034,0.170300304889679,-0.084795176982880,0.001101931673475,-0.014094674028456,0.092981778085232,0.076452657580376,0.041881561279297,0.072839684784412,0.121213793754578,-0.008192967623472,0.069030240178108,-0.028304658830166));
res += mul(Get(s1,0,0), float4x4(-0.170820191502571,0.078725039958954,-0.181370943784714,0.168897092342377,-0.063129961490631,-0.120266720652580,-0.221878662705421,-0.205686688423157,0.050322141498327,0.118941135704517,-0.012138058431447,-0.054762411862612,-0.029710432514548,0.168751001358032,-0.062593743205070,0.044297348707914));
res += mul(Get(s1,0,dy), float4x4(0.105508968234062,-0.115369230508804,0.037085168063641,-0.023498710244894,-0.149599120020866,-0.024293955415487,-0.296608150005341,0.121107235550880,0.084358356893063,0.047893300652504,0.103707589209080,-0.114268094301224,-0.042483586817980,0.045233525335789,-0.047758489847183,0.125531524419785));
res += mul(Get(s1,dx,-dy), float4x4(0.051128257066011,-0.014483424834907,-0.000853647245094,0.043463606387377,0.090283535420895,0.056871123611927,-0.274260520935059,0.046967599540949,0.036700166761875,0.016484420746565,-0.131077602505684,0.024472331628203,0.075555928051472,0.262036472558975,-0.118204280734062,0.169446408748627));
res += mul(Get(s1,dx,0), float4x4(0.088979341089725,-0.005533521994948,-0.020087029784918,-0.293281733989716,0.055004589259624,-0.109662592411041,0.036767251789570,-0.044273618608713,0.030038513243198,-0.272090941667557,0.004694728646427,0.047044571489096,0.083871282637119,0.075016401708126,-0.084775052964687,0.087879799306393));
res += mul(Get(s1,dx,dy), float4x4(-0.190088033676147,-0.003564774291590,0.123426459729671,0.062552839517593,-0.034097991883755,0.056419875472784,0.153554812073708,0.138096109032631,0.062941707670689,-0.080665305256844,0.071378022432327,-0.012945558875799,-0.093426674604416,0.054415050894022,0.033566553145647,-0.052637342363596));
res += mul(Get(s2,-dx,-dy), float4x4(0.059603013098240,0.129953086376190,0.153019368648529,-0.085114181041718,0.144153118133545,0.059123277664185,-0.083698540925980,0.089744970202446,-0.032891422510147,0.032219175249338,-0.108633890748024,-0.117214590311050,-0.043362803757191,-0.104520924389362,-0.015537159517407,-0.066470265388489));
res += mul(Get(s2,-dx,0), float4x4(-0.070232056081295,0.026276821270585,-0.028596296906471,-0.166111111640930,0.129903152585030,-0.036539752036333,-0.115393228828907,-0.048274483531713,0.033493731170893,0.016352295875549,0.054673455655575,0.086232796311378,0.111079454421997,0.114815011620522,-0.229202017188072,-0.059314385056496));
res += mul(Get(s2,-dx,dy), float4x4(-0.045987743884325,0.126878261566162,0.055456560105085,-0.027123020961881,-0.025700338184834,0.093271568417549,-0.057977888733149,0.174392655491829,-0.029931599274278,-0.023654103279114,0.022059328854084,0.142969563603401,0.021663337945938,-0.058771826326847,-0.257349967956543,-0.036132972687483));
res += mul(Get(s2,0,-dy), float4x4(0.044846851378679,0.009892906062305,0.150353461503983,-0.054024796932936,-0.073288746178150,-0.148253619670868,-0.058881346136332,-0.078371673822403,-0.190218642354012,0.095922358334064,-0.081118881702423,-0.073019340634346,0.012993265874684,0.021582907065749,-0.038990233093500,0.096051551401615));
res += mul(Get(s2,0,0), float4x4(0.033307753503323,-0.129652738571167,0.098501734435558,0.179437056183815,-0.019779054448009,-0.071363657712936,0.072798132896423,-0.081002123653889,0.103402681648731,-0.092662870883942,-0.105556622147560,0.117352768778801,0.014848846942186,-0.000058152010752,0.029882451519370,0.115472480654716));
res += mul(Get(s2,0,dy), float4x4(0.018751289695501,-0.134010687470436,-0.076201662421227,-0.080228954553604,-0.023405898362398,-0.160475924611092,0.058506201952696,0.048258867114782,0.123236007988453,-0.001876012654975,0.018886243924499,-0.037954363971949,0.043258700519800,0.003516807919368,0.133873447775841,0.001068179961294));
res += mul(Get(s2,dx,-dy), float4x4(0.000133099092636,0.034387338906527,0.115049369633198,-0.092359922826290,-0.091159284114838,-0.110429763793945,-0.014473845250905,0.037139795720577,0.122934356331825,0.060509636998177,-0.044845484197140,0.005506567191333,-0.099815174937248,-0.079829528927803,0.128057569265366,-0.057817284017801));
res += mul(Get(s2,dx,0), float4x4(0.061497338116169,-0.144089668989182,0.105761535465717,-0.098794318735600,-0.014436298981309,0.083020687103271,0.052329346537590,0.076488867402077,0.195495009422302,-0.099606558680534,0.100467406213284,0.060301829129457,-0.032072283327579,0.123993068933487,-0.048367578536272,0.043786335736513));
res += mul(Get(s2,dx,dy), float4x4(-0.029399391263723,0.182206019759178,0.101803295314312,0.189153864979744,0.003560502547771,-0.083531171083450,-0.017253443598747,0.101600036025047,-0.087562784552574,0.003286827821285,-0.065369144082069,0.055451687425375,-0.103781670331955,-0.103102825582027,-0.021887851879001,0.067698851227760));
res += mul(Get(s3,-dx,-dy), float4x4(0.092305213212967,0.159547746181488,-0.148600637912750,0.012516858056188,-0.002454182831571,-0.013438822701573,-0.148981899023056,-0.007960382848978,-0.151158973574638,-0.084330044686794,-0.003298003226519,-0.032158400863409,-0.005778194405138,-0.078767783939838,0.032489929348230,0.135102808475494));
res += mul(Get(s3,-dx,0), float4x4(-0.016240950673819,-0.133577406406403,0.042150285094976,0.065247267484665,0.063705742359161,-0.038500785827637,-0.139704108238220,-0.020523793995380,0.104373753070831,-0.047607105225325,-0.122199326753616,0.013964247889817,0.137472197413445,0.204206079244614,0.031540896743536,0.013218455016613));
res += mul(Get(s3,-dx,dy), float4x4(-0.057087168097496,-0.076325267553329,-0.103770360350609,-0.077489882707596,-0.046168759465218,-0.115825332701206,-0.142851710319519,0.018049774691463,-0.086141049861908,-0.081357084214687,0.027451632544398,0.023502707481384,0.112847670912743,0.038188070058823,0.062655188143253,-0.017187077552080));
res += mul(Get(s3,0,-dy), float4x4(0.061072636395693,-0.138816103339195,0.042491775006056,-0.073147691786289,0.097986146807671,0.041424803435802,-0.022585285827518,0.186139076948166,0.251909285783768,-0.163171514868736,-0.005952917039394,0.141939580440521,-0.128524139523506,-0.060715645551682,0.026920957490802,0.040206003934145));
res += mul(Get(s3,0,0), float4x4(-0.027365401387215,-0.082472145557404,0.159291893243790,0.089100807905197,0.026505511254072,-0.072055034339428,-0.080587558448315,0.053159628063440,0.083362683653831,-0.047436129301786,-0.209672793745995,-0.086882948875427,0.010066337883472,0.016779450699687,0.139928579330444,-0.303219705820084));
res += mul(Get(s3,0,dy), float4x4(-0.057345006614923,0.039115000516176,-0.110095247626305,-0.046391427516937,-0.253617823123932,-0.220019415020943,0.003802452003583,0.079486168920994,-0.055518493056297,0.156376928091049,-0.023511758074164,-0.043727226555347,-0.034569725394249,0.074597366154194,-0.069148369133472,0.004335832782090));
res += mul(Get(s3,dx,-dy), float4x4(0.116924248635769,0.070167653262615,0.050157297402620,-0.211064562201500,0.020791452378035,-0.100297056138515,0.149996668100357,-0.109287306666374,-0.036414761096239,-0.172983855009079,0.077541410923004,0.000228974415222,0.037534300237894,-0.004089413210750,-0.204319760203362,0.178348004817963));
res += mul(Get(s3,dx,0), float4x4(0.040745332837105,-0.073774784803391,-0.008034139871597,-0.003135388018563,-0.028643155470490,0.142882779240608,0.095887154340744,-0.009478935040534,-0.106106102466583,0.004049739334732,0.115048363804817,0.132920175790787,0.015736246481538,0.035358447581530,-0.049578052014112,0.040907997637987));
res += mul(Get(s3,dx,dy), float4x4(0.146387293934822,-0.079424105584621,-0.021449334919453,0.021682776510715,-0.054205037653446,0.070806406438351,-0.035603884607553,-0.112241871654987,0.047946609556675,0.195360153913498,-0.017283931374550,0.092034526169300,0.055885832756758,0.070522189140320,-0.015622220002115,0.091062471270561));
return max(float4(0,0,0,0), res);
}
