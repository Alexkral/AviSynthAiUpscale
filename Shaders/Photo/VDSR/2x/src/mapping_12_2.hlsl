sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.009110199287534,-0.041980732232332,0.078573048114777,0.032802376896143,0.132094368338585,0.018841877579689,0.187850564718246,-0.047692693769932,0.139393091201782,-0.060487907379866,0.130300208926201,0.007135188672692,-0.020651223137975,0.067990653216839,-0.029517592862248,0.016346864402294));
res += mul(Get(s0,-dx,0), float4x4(-0.011944438330829,0.073394522070885,0.046444982290268,0.006065134424716,0.017737692221999,0.011279888451099,0.027606099843979,-0.002997183939442,0.010096519254148,-0.098306186497211,0.058902647346258,0.056518279016018,0.073012053966522,0.035830147564411,-0.099982611835003,-0.092438794672489));
res += mul(Get(s0,-dx,dy), float4x4(0.015463681891561,0.049813825637102,0.013081327080727,0.051416762173176,-0.179776579141617,0.088406540453434,-0.032631326466799,-0.076215192675591,0.055442076176405,-0.047514382749796,-0.009339896962047,0.049443639814854,0.031591303646564,0.141605481505394,-0.096605785191059,-0.108412176370621));
res += mul(Get(s0,0,-dy), float4x4(-0.045155063271523,-0.037781536579132,-0.043747380375862,0.064180828630924,-0.040498342365026,-0.028038701042533,-0.005023322533816,0.030418220907450,0.102532520890236,-0.076163113117218,-0.079472340643406,0.035287436097860,0.006338109727949,0.036908142268658,0.075933560729027,-0.018662247806787));
res += mul(Get(s0,0,0), float4x4(0.015109013766050,0.009447118267417,-0.094643622636795,-0.032627318054438,-0.115931831300259,-0.064775742590427,0.016612872481346,0.042401358485222,0.201675042510033,0.029401697218418,-0.004039015620947,-0.000244955270318,-0.077982082962990,0.049426298588514,0.145841941237450,0.083512738347054));
res += mul(Get(s0,0,dy), float4x4(-0.023620525375009,0.110550358891487,-0.072697654366493,0.121799916028976,0.104538209736347,-0.018264751881361,-0.008735913783312,-0.032070811837912,0.004903723951429,-0.015928145498037,-0.062802009284496,0.128356695175171,-0.143426224589348,-0.081722758710384,-0.004249438177794,-0.018073061481118));
res += mul(Get(s0,dx,-dy), float4x4(0.024919856339693,0.011350054293871,0.118430100381374,0.018257286399603,-0.118347331881523,0.065519750118256,0.014701217412949,0.018321342766285,0.092479653656483,0.062504090368748,0.012273480184376,0.013928079977632,-0.014203994534910,0.047527428716421,-0.000510243757162,-0.074138484895229));
res += mul(Get(s0,dx,0), float4x4(0.015951894223690,-0.083661884069443,-0.052831385284662,-0.048480585217476,0.093587301671505,0.041390977799892,-0.050147570669651,0.096549496054649,0.095694273710251,0.104213513433933,0.054217480123043,0.017204215750098,-0.028523698449135,0.001498630037531,-0.111542440950871,-0.078826516866684));
res += mul(Get(s0,dx,dy), float4x4(-0.009286349639297,0.096632108092308,-0.028986118733883,0.029682815074921,0.160628095269203,0.087829835712910,0.021788517013192,0.101563476026058,0.041789267212152,-0.026828480884433,-0.018942717462778,0.070426315069199,0.008859835565090,-0.000491318176500,-0.000659357581753,0.083528630435467));
res += mul(Get(s1,-dx,-dy), float4x4(0.098493553698063,-0.040327306836843,0.015473824925721,-0.033696115016937,-0.061215437948704,0.019013157114387,0.074818506836891,0.002403746591881,-0.024817693978548,0.054902482777834,0.013912655413151,0.024468448013067,-0.047908149659634,0.087279476225376,0.003135581035167,0.045648630708456));
res += mul(Get(s1,-dx,0), float4x4(-0.067462004721165,-0.044720910489559,-0.020739309489727,0.087696067988873,-0.017798103392124,0.057816971093416,0.027772281318903,0.010755449533463,-0.059733729809523,-0.041899524629116,0.096487931907177,-0.051899429410696,-0.069545418024063,0.025445692241192,0.075550235807896,0.003662358969450));
res += mul(Get(s1,-dx,dy), float4x4(0.053089566528797,-0.074578382074833,-0.022290810942650,0.066600047051907,-0.060473155230284,-0.034755989909172,0.085699260234833,0.090544335544109,-0.096077084541321,0.016922516748309,0.032670933753252,-0.006542196031660,-0.025266094133258,0.008801204152405,-0.043295845389366,-0.025311468169093));
res += mul(Get(s1,0,-dy), float4x4(0.016091711819172,-0.081581510603428,0.027676086872816,-0.015811482444406,-0.014722246676683,-0.073703981935978,0.189048707485199,0.014499015174806,0.033722881227732,0.135622128844261,-0.073524385690689,0.033854484558105,-0.045570898801088,0.003875668626279,0.083042308688164,-0.012902862392366));
res += mul(Get(s1,0,0), float4x4(0.113838933408260,-0.033856056630611,-0.136270478367805,-0.126320987939835,-0.043887052685022,-0.048178851604462,-0.111884362995625,-0.056592870503664,-0.061032198369503,-0.083379678428173,-0.036123283207417,-0.007467639166862,-0.035227991640568,0.104651518166065,0.015770623460412,-0.037089690566063));
res += mul(Get(s1,0,dy), float4x4(0.159755080938339,0.033083606511354,-0.155945345759392,0.025923037901521,-0.009618502110243,-0.034985270351171,0.115446642041206,-0.079756893217564,-0.088378608226776,-0.045082092285156,0.118634365499020,-0.041093699634075,-0.029371434822679,0.066493891179562,-0.054815847426653,0.029686311259866));
res += mul(Get(s1,dx,-dy), float4x4(0.052829395979643,-0.029248846694827,-0.009858102537692,-0.007545149419457,-0.075548760592937,0.041157394647598,0.139207720756531,0.040247153490782,-0.033442918211222,0.072963938117027,0.083039961755276,0.088518038392067,0.004648549016565,-0.017253033816814,0.158489510416985,-0.004514947999269));
res += mul(Get(s1,dx,0), float4x4(0.077776193618774,-0.069974794983864,-0.086045615375042,0.018299369141459,-0.062251448631287,0.039296302944422,0.049532871693373,-0.021732898429036,0.075703144073486,0.032291896641254,-0.111064217984676,0.158317089080811,0.050945390015841,0.001513188704848,-0.065350390970707,-0.000073449635238));
res += mul(Get(s1,dx,dy), float4x4(-0.023600662127137,0.000449781247880,-0.032282233238220,-0.050113372504711,-0.051062170416117,-0.051297839730978,0.156655117869377,-0.028495745733380,0.093986310064793,0.063821226358414,-0.046252626925707,0.134849503636360,0.098054036498070,0.183423161506653,-0.100137256085873,-0.004265851341188));
res += mul(Get(s2,-dx,-dy), float4x4(0.033977907150984,0.139495834708214,0.088279657065868,-0.143454030156136,-0.043373499065638,0.122673794627190,0.045333605259657,-0.021159566938877,0.064962282776833,-0.077871434390545,0.242054507136345,-0.060104280710220,0.059648223221302,-0.045396275818348,-0.041244190186262,0.065155752003193));
res += mul(Get(s2,-dx,0), float4x4(0.078821875154972,0.048965893685818,0.077018938958645,-0.002575721126050,0.088453806936741,-0.015709627419710,0.041873902082443,0.035557217895985,-0.077096715569496,-0.045495036989450,-0.071704946458340,0.098257757723331,0.000833498255815,0.021107466891408,-0.012836053967476,0.029867941513658));
res += mul(Get(s2,-dx,dy), float4x4(0.019837403669953,0.024668160825968,0.034293636679649,-0.037155926227570,0.010603721253574,-0.003454812802374,0.077927283942699,0.020676478743553,-0.074917919933796,0.135549277067184,-0.028385402634740,-0.079335473477840,-0.071833968162537,0.079412296414375,0.029624208807945,-0.061079703271389));
res += mul(Get(s2,0,-dy), float4x4(0.106578350067139,0.103574931621552,0.039508178830147,0.067428313195705,0.011461002752185,0.094888456165791,0.041472338140011,-0.130848079919815,-0.080072231590748,-0.023309735581279,0.209935799241066,-0.100479900836945,-0.174064800143242,-0.076698862016201,0.176200896501541,0.132181867957115));
res += mul(Get(s2,0,0), float4x4(0.024812741205096,-0.021833416074514,0.076650783419609,-0.039693176746368,0.017864683642983,-0.002602318068966,-0.020550517365336,0.141303971409798,-0.070769593119621,0.035354528576136,-0.024014610797167,-0.028002995997667,-0.109966836869717,-0.001559300348163,0.084584534168243,0.153393253684044));
res += mul(Get(s2,0,dy), float4x4(-0.002226344542578,-0.073079809546471,0.076145060360432,-0.035493589937687,-0.061628539115191,-0.111419342458248,-0.052694875746965,0.012086078524590,0.088717140257359,0.150806009769440,0.005440425127745,-0.097673125565052,0.004787928424776,-0.042509816586971,-0.054184928536415,0.132118329405785));
res += mul(Get(s2,dx,-dy), float4x4(-0.068555824458599,-0.024177163839340,0.044958598911762,-0.041511099785566,0.081021547317505,0.015299139544368,-0.046695850789547,-0.060962468385696,-0.046332936733961,-0.105883829295635,0.011163760907948,0.015306164510548,-0.079809576272964,0.168332993984222,0.101851798593998,-0.002959809266031));
res += mul(Get(s2,dx,0), float4x4(-0.004958448465914,-0.048775177448988,0.013545081019402,-0.012601403519511,-0.085972651839256,0.145071253180504,-0.041579626500607,0.061360415071249,0.011818164959550,-0.057419948279858,-0.053991504013538,-0.003091278253123,0.058973733335733,0.096084654331207,0.013570835813880,-0.043720409274101));
res += mul(Get(s2,dx,dy), float4x4(0.033925373107195,-0.075489677488804,0.094188995659351,-0.116991996765137,-0.101876251399517,0.050150554627180,-0.073016740381718,-0.061697207391262,-0.032492138445377,-0.000770569196902,-0.012433002702892,-0.016495162621140,-0.099873870611191,0.103544615209103,0.016304373741150,0.051087480038404));
res += mul(Get(s3,-dx,-dy), float4x4(-0.031735457479954,0.098702535033226,-0.014688478782773,0.032655414193869,-0.017223197966814,0.077327743172646,-0.039495818316936,-0.080646850168705,0.064035177230835,-0.040767896920443,0.020829094573855,0.053807988762856,-0.089821495115757,-0.043091561645269,0.027821384370327,-0.001798709155992));
res += mul(Get(s3,-dx,0), float4x4(0.025376394391060,0.046767964959145,-0.059180971235037,0.072226211428642,-0.003378855064511,0.146666809916496,0.014190353453159,0.028121272101998,-0.050341811031103,-0.067693628370762,-0.030297484248877,0.167390689253807,0.014741213992238,0.012146404944360,-0.028662497177720,0.055371198803186));
res += mul(Get(s3,-dx,dy), float4x4(-0.020017962902784,-0.009913750924170,-0.048779722303152,-0.000985030201264,-0.048791188746691,0.053229246288538,-0.009259201586246,-0.127963870763779,-0.050341937690973,0.000075328214734,-0.086815364658833,0.063900850713253,-0.056839525699615,-0.148290663957596,-0.067396335303783,0.007751339580864));
res += mul(Get(s3,0,-dy), float4x4(0.038859814405441,0.057653069496155,0.024504274129868,0.155601054430008,0.011735608801246,0.082790009677410,0.027020178735256,-0.067410096526146,-0.036159474402666,-0.152994975447655,0.081215351819992,0.016392137855291,0.082140319049358,-0.094739153981209,0.046146031469107,-0.162839770317078));
res += mul(Get(s3,0,0), float4x4(-0.035667389631271,0.002915107412264,-0.040867105126381,-0.033134020864964,0.043013442307711,0.123761929571629,0.086301311850548,0.187872484326363,0.033905141055584,-0.166625067591667,-0.160382926464081,-0.038242124021053,-0.041775967925787,0.142986103892326,-0.009513307362795,0.025097304955125));
res += mul(Get(s3,0,dy), float4x4(-0.061333037912846,0.044124085456133,0.014961020089686,-0.064041115343571,-0.047842465341091,-0.006948621012270,-0.017694853246212,-0.035100858658552,0.058849126100540,0.099935941398144,-0.068895630538464,0.163441270589828,-0.121309421956539,-0.028614662587643,0.097319290041924,0.200021043419838));
res += mul(Get(s3,dx,-dy), float4x4(-0.062991105020046,0.015827292576432,-0.042052555829287,0.043699610978365,0.006262786686420,-0.028773518279195,0.086958244442940,0.030907895416021,-0.053336460143328,-0.119755811989307,0.084205947816372,-0.056603245437145,-0.042094577103853,-0.097269922494888,0.076135568320751,-0.018876746296883));
res += mul(Get(s3,dx,0), float4x4(-0.016089104115963,-0.032973699271679,-0.119881026446819,0.076684899628162,-0.047962252050638,0.123537860810757,0.017892848700285,0.041685584932566,0.065160579979420,-0.090671204030514,0.074030540883541,0.086515545845032,-0.016920797526836,-0.053236383944750,-0.069406822323799,0.079717099666595));
res += mul(Get(s3,dx,dy), float4x4(-0.088370472192764,-0.034488342702389,-0.036433562636375,0.072338834404945,-0.004512455314398,-0.022636624053121,-0.056364111602306,-0.014740967191756,-0.017802746966481,-0.069890893995762,-0.042702119797468,0.056219667196274,0.028171401470900,-0.038596026599407,-0.072096370160580,-0.004758625756949));
return max(float4(0,0,0,0), res);
}
