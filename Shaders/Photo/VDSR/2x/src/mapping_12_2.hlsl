sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.055612742900848,-0.032891139388084,0.010405346751213,-0.085293814539909,0.060492631047964,0.059026747941971,0.009450254030526,0.046594310551882,-0.046912126243114,-0.013465567491949,0.102751076221466,-0.053710605949163,0.046681553125381,-0.048066064715385,0.092310391366482,0.002185801975429));
res += mul(Get(s0,-dx,0), float4x4(-0.094495087862015,-0.167799219489098,0.101724632084370,-0.091870427131653,0.131757125258446,0.076275847852230,-0.088702611625195,-0.160714998841286,-0.057236120104790,0.204666614532471,-0.023639585822821,0.103948101401329,0.124006681144238,0.098382554948330,-0.013225744478405,0.258755445480347));
res += mul(Get(s0,-dx,dy), float4x4(0.030727727338672,0.046622514724731,0.019074318930507,-0.072321541607380,0.015682009980083,0.135244667530060,0.130865722894669,0.111104533076286,0.014120308682323,0.027387648820877,-0.055908888578415,-0.129831373691559,0.021197466179729,0.109062179923058,-0.110313683748245,-0.091938376426697));
res += mul(Get(s0,0,-dy), float4x4(0.020865160971880,-0.252557992935181,0.019798368215561,-0.030999138951302,-0.071178406476974,0.025659814476967,-0.120978586375713,0.052690621465445,0.005928852595389,-0.103523463010788,-0.025524346157908,-0.267113953828812,0.013949941843748,0.084240362048149,0.103693671524525,0.030427319929004));
res += mul(Get(s0,0,0), float4x4(0.100773483514786,-0.039840232580900,0.002214112551883,-0.043748423457146,0.075783289968967,0.095343843102455,0.109441213309765,0.027267193421721,-0.117444634437561,0.304721713066101,0.053186576813459,0.147943362593651,0.062939368188381,-0.066271401941776,-0.009302830323577,-0.074474416673183));
res += mul(Get(s0,0,dy), float4x4(-0.102454483509064,-0.114827252924442,0.025892203673720,0.063430868089199,-0.013665981590748,0.007595404516906,-0.064680449664593,-0.033524800091982,-0.011070769280195,0.159695133566856,-0.016711110249162,0.094490766525269,0.066437430679798,-0.039095558226109,0.018071858212352,0.028176512569189));
res += mul(Get(s0,dx,-dy), float4x4(-0.074416637420654,-0.099583171308041,-0.116360068321228,0.024036366492510,0.140586242079735,0.118178829550743,0.039425961673260,-0.035743426531553,-0.217671096324921,0.102733619511127,0.026226652786136,-0.302352935075760,0.112975515425205,0.026793166995049,0.024499129503965,0.074738956987858));
res += mul(Get(s0,dx,0), float4x4(-0.055481024086475,-0.009994237683713,0.018811339512467,0.110382914543152,0.021752763539553,0.029485024511814,-0.053229350596666,-0.024824989959598,0.163213342428207,0.063032723963261,-0.021145710721612,-0.110475003719330,-0.000754445500206,-0.128984794020653,-0.133043780922890,0.075642205774784));
res += mul(Get(s0,dx,dy), float4x4(-0.037167523056269,-0.009033856913447,0.129845157265663,-0.096246287226677,-0.042634632438421,0.113738447427750,0.066377811133862,-0.038520649075508,0.209655448794365,-0.044641993939877,0.093727082014084,-0.036957867443562,-0.120158441364765,0.007710503879935,0.025348937138915,0.034376796334982));
res += mul(Get(s1,-dx,-dy), float4x4(-0.017283963039517,-0.054466392844915,-0.074958793818951,-0.033378854393959,-0.032237973064184,0.054980780929327,0.082916498184204,0.175493508577347,0.098094619810581,-0.062475413084030,0.018822720274329,-0.071126766502857,0.030555371195078,0.040070459246635,-0.015374080277979,0.048604797571898));
res += mul(Get(s1,-dx,0), float4x4(-0.080467313528061,-0.085319764912128,0.069318272173405,0.004320202860981,0.144102424383163,0.175925731658936,-0.016002455726266,0.130487203598022,0.046835463494062,0.106475867331028,-0.038918275386095,-0.057789884507656,-0.012037761509418,-0.151314496994019,0.010226587764919,0.086039781570435));
res += mul(Get(s1,-dx,dy), float4x4(-0.027431080117822,-0.027299186214805,0.142071887850761,-0.046877931803465,0.020978465676308,-0.096259735524654,0.100596986711025,-0.164450526237488,0.202975794672966,0.091077074408531,0.088718026876450,0.132243677973747,-0.000872613687534,-0.127598777413368,0.013581885956228,-0.022637071087956));
res += mul(Get(s1,0,-dy), float4x4(0.180041715502739,0.066309697926044,0.045479305088520,-0.050701510161161,0.018580481410027,0.111701212823391,-0.028270069509745,0.040213651955128,-0.104851961135864,-0.187340259552002,-0.051811672747135,-0.064333409070969,0.106253944337368,0.013361723162234,-0.189325973391533,0.171767428517342));
res += mul(Get(s1,0,0), float4x4(0.025497492402792,0.081262640655041,0.109160959720612,0.027116598561406,0.093736045062542,-0.029031274840236,0.074700683355331,0.198239713907242,0.111608199775219,-0.050952345132828,0.004751736298203,0.062040723860264,-0.042711284011602,-0.135053992271423,0.030087063089013,0.030155895277858));
res += mul(Get(s1,0,dy), float4x4(-0.015161518007517,0.153964385390282,0.022238627076149,-0.023187886923552,-0.048257976770401,-0.079309619963169,0.007742651738226,-0.048953589051962,-0.152962416410446,0.074669532477856,0.060672696679831,-0.111554913222790,-0.047700721770525,-0.126440599560738,-0.044229779392481,0.068313159048557));
res += mul(Get(s1,dx,-dy), float4x4(-0.146173283457756,0.032577745616436,0.031523037701845,-0.060995247215033,0.026203682646155,0.044109996408224,0.107139371335506,-0.014354514889419,0.079279169440269,-0.175260886549950,0.058851007372141,0.018510645255446,-0.001988870557398,-0.042824756354094,-0.012769407592714,0.105395965278149));
res += mul(Get(s1,dx,0), float4x4(-0.156472802162170,0.152101248502731,0.190897479653358,-0.032687157392502,-0.065401807427406,-0.047259476035833,-0.111424669623375,0.033055230975151,0.026884112507105,-0.020540833473206,0.158301949501038,-0.031065285205841,-0.095970638096333,0.147768139839172,0.132192701101303,0.029855590313673));
res += mul(Get(s1,dx,dy), float4x4(0.012148523703218,-0.165270239114761,0.016248725354671,-0.108381763100624,0.082862451672554,-0.300200909376144,0.032646361738443,-0.043502047657967,0.112204387784004,0.156904801726341,0.019302025437355,0.092388093471527,0.096900694072247,0.206491410732269,0.121505379676819,0.101491019129753));
res += mul(Get(s2,-dx,-dy), float4x4(-0.019322169944644,-0.024932011961937,-0.029341556131840,-0.000400483579142,-0.076374530792236,-0.104641079902649,0.034375719726086,-0.075798816978931,-0.149099484086037,0.124117650091648,0.062733925879002,-0.044635675847530,-0.056013707071543,0.020692886784673,0.066864289343357,0.120937794446945));
res += mul(Get(s2,-dx,0), float4x4(-0.052398800849915,-0.082297503948212,0.035605639219284,0.133685812354088,0.097648337483406,0.075771607458591,-0.083401806652546,-0.002735622227192,0.011991224251688,-0.256097137928009,-0.087042137980461,0.086142808198929,-0.018829757347703,-0.031935442239046,0.071146890521049,-0.063223235309124));
res += mul(Get(s2,-dx,dy), float4x4(0.111135363578796,-0.116901524364948,-0.149421498179436,-0.069098614156246,0.082481272518635,-0.019020739942789,-0.002686908002943,0.024101007729769,0.194658875465393,0.090922303497791,0.060327779501677,-0.179327011108398,0.002939807716757,-0.170636937022209,0.027177296578884,0.060818664729595));
res += mul(Get(s2,0,-dy), float4x4(-0.050574306398630,0.028517400845885,-0.053371082991362,0.035173971205950,0.161742568016052,0.042159426957369,-0.036059767007828,0.002696711104363,-0.215713605284691,0.218974873423576,-0.021137919276953,-0.018860518932343,0.022824551910162,0.173536092042923,0.011066111736000,0.161346808075905));
res += mul(Get(s2,0,0), float4x4(0.052221365272999,0.010964292101562,0.003847179934382,-0.132349863648415,-0.101155020296574,-0.013559948652983,0.021020136773586,-0.048802927136421,0.119829960167408,-0.095262125134468,0.035066325217485,0.026057654991746,0.047663222998381,0.181022480130196,-0.063869215548038,0.106877543032169));
res += mul(Get(s2,0,dy), float4x4(0.146803990006447,0.108823105692863,-0.123810537159443,-0.095082238316536,-0.006032355129719,-0.031644191592932,0.116763368248940,-0.027206940576434,-0.107372023165226,0.004212644416839,0.183009549975395,0.048494026064873,0.017414443194866,0.090151861310005,-0.086702100932598,-0.183139488101006));
res += mul(Get(s2,dx,-dy), float4x4(0.007541212718934,-0.026991063728929,0.022772921249270,-0.004196671769023,-0.117139488458633,-0.139733046293259,-0.001567107159644,-0.062976419925690,-0.255283385515213,0.114095263183117,-0.058869428932667,0.006467701867223,0.241519778966904,0.083443500101566,-0.035576682537794,-0.134966909885406));
res += mul(Get(s2,dx,0), float4x4(0.094157248735428,-0.041491918265820,0.003107640426606,0.050389669835567,-0.135798260569572,0.011789876036346,-0.081742733716965,-0.058357961475849,-0.080275140702724,-0.112895764410496,0.105157263576984,-0.065273538231850,0.019292822107673,0.134632036089897,0.018586251884699,0.094205185770988));
res += mul(Get(s2,dx,dy), float4x4(0.010636042803526,-0.014318053610623,0.018228748813272,-0.066135488450527,-0.056690689176321,-0.153062388300896,0.046849954873323,0.058573178946972,0.084069691598415,-0.134118333458900,-0.138390526175499,-0.089998640120029,-0.171459883451462,-0.016715178266168,-0.066526442766190,0.113286197185516));
res += mul(Get(s3,-dx,-dy), float4x4(-0.070547617971897,0.008254968561232,0.163823381066322,-0.028431473299861,-0.167974442243576,0.191124498844147,-0.038958985358477,-0.118560835719109,-0.190382912755013,0.055779073387384,0.036383006721735,-0.021530129015446,0.099919311702251,0.049881108105183,-0.072363257408142,0.133781448006630));
res += mul(Get(s3,-dx,0), float4x4(-0.101088650524616,-0.031578943133354,0.020129408687353,0.014401412568986,0.037196490913630,0.014793934300542,0.153075203299522,0.003709547221661,-0.040230922400951,-0.026827793568373,-0.066863253712654,-0.046584025025368,0.034812908619642,0.052326194941998,0.007331803441048,-0.020761584863067));
res += mul(Get(s3,-dx,dy), float4x4(0.029804930090904,0.025526164099574,-0.127042695879936,-0.173905178904533,0.193198531866074,0.158080935478210,0.077901728451252,-0.132550209760666,0.037667188793421,-0.178473830223083,0.021518006920815,0.038727588951588,0.100880332291126,-0.028214780613780,-0.072156399488449,0.090473540127277));
res += mul(Get(s3,0,-dy), float4x4(0.016501724720001,-0.076439298689365,0.062497630715370,0.092784754931927,-0.004263516515493,0.060300774872303,0.009530196897686,-0.038754779845476,-0.026679014787078,0.127549007534981,0.080794192850590,0.058528676629066,-0.023235598579049,-0.057508159428835,-0.057594835758209,0.056284274905920));
res += mul(Get(s3,0,0), float4x4(-0.063011199235916,-0.010999569669366,-0.062988430261612,0.111475251615047,-0.011261752806604,-0.109960697591305,-0.026194412261248,0.050243847072124,-0.138836860656738,0.208188042044640,0.048865810036659,0.101786598563194,0.032319679856300,0.018632927909493,-0.105990692973137,-0.065116055309772));
res += mul(Get(s3,0,dy), float4x4(0.043235082179308,-0.045223049819469,0.184980347752571,-0.150023072957993,-0.099659636616707,0.187022447586060,-0.011361612007022,-0.087010443210602,-0.090444654226303,0.020067382603884,0.021731993183494,-0.201923638582230,-0.027169030159712,-0.094396680593491,-0.095392987132072,-0.012595261447132));
res += mul(Get(s3,dx,-dy), float4x4(-0.196358010172844,0.021671706810594,-0.005142326466739,-0.005460955668241,-0.058609183877707,0.058748669922352,0.194066390395164,-0.051948163658381,-0.064096525311470,0.025287454947829,-0.057236872613430,-0.209725499153137,-0.063655421137810,-0.041718859225512,-0.077366702258587,-0.022599298506975));
res += mul(Get(s3,dx,0), float4x4(0.005521669518203,0.013503234833479,0.093018494546413,0.201269701123238,-0.112383633852005,0.120438158512115,-0.030321028083563,-0.108226224780083,-0.001024617347866,0.099776685237885,0.066435940563679,-0.043290395289660,-0.057918071746826,-0.097293689846992,0.054840724915266,0.135850846767426));
res += mul(Get(s3,dx,dy), float4x4(-0.098076499998569,-0.001914445543662,0.061861600726843,-0.012466534972191,0.037192977964878,-0.015252027660608,0.019859883934259,0.110687591135502,0.206632152199745,-0.002382316393778,-0.009481679648161,-0.045322019606829,-0.107910096645355,0.050049375742674,-0.069196298718452,0.135021895170212));
return max(float4(0,0,0,0), res);
}
