sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.162622049450874,-0.199086889624596,-0.079461082816124,-0.075925953686237,0.013886800967157,0.108636111021042,-0.059567257761955,0.155749529600143,-0.000363512139302,-0.015153501182795,-0.053250338882208,0.121740691363811,0.158286303281784,-0.119472928345203,0.148544296622276,0.116546593606472));
res += mul(Get(s0,-dx,0), float4x4(-0.034994322806597,0.067884095013142,0.081777073442936,-0.061701867729425,-0.175573676824570,-0.280312150716782,0.216057911515236,0.030925376340747,0.137516736984253,-0.113176137208939,0.201421409845352,0.126679271459579,0.142412096261978,0.064437560737133,-0.057081084698439,0.008765174075961));
res += mul(Get(s0,-dx,dy), float4x4(0.089288562536240,-0.114775389432907,-0.032037556171417,-0.106178559362888,-0.170508518815041,0.055692963302135,0.068258330225945,0.125313833355904,0.031314510852098,0.063341625034809,-0.042560942471027,0.000209778954741,0.009732039645314,0.042546328157187,-0.066892541944981,-0.083310015499592));
res += mul(Get(s0,0,-dy), float4x4(0.075567886233330,0.141066342592239,-0.024390112608671,-0.100096762180328,0.072358392179012,-0.151283636689186,0.050585865974426,-0.039992369711399,0.024277990683913,0.028607914224267,0.043404657393694,0.055474709719419,-0.023459050804377,0.075344890356064,-0.091728180646896,0.065643414855003));
res += mul(Get(s0,0,0), float4x4(0.159186676144600,0.006917777936906,0.054874029010534,0.122268728911877,0.276861101388931,-0.210288375616074,-0.135137334465981,-0.134773746132851,-0.097516283392906,0.028715083375573,0.100868836045265,-0.166617155075073,-0.243624076247215,-0.046554964035749,0.099221892654896,-0.066777072846889));
res += mul(Get(s0,0,dy), float4x4(-0.034813199192286,0.060297243297100,-0.070459797978401,-0.008866176009178,-0.084074750542641,0.058202285319567,-0.017694529145956,0.130890861153603,-0.028930202126503,-0.029742360115051,-0.140999794006348,-0.126301869750023,-0.072171211242676,-0.037875190377235,0.106351308524609,-0.131350651383400));
res += mul(Get(s0,dx,-dy), float4x4(-0.003396918764338,0.170486912131310,0.017221856862307,-0.149877741932869,-0.071314081549644,-0.134007334709167,-0.042134892195463,-0.020595934242010,0.004171870648861,-0.010491336695850,0.016377808526158,0.005126686766744,-0.018810493871570,0.019297234714031,-0.094536766409874,-0.040541317313910));
res += mul(Get(s0,dx,0), float4x4(0.115429468452930,0.022246642038226,-0.009426218457520,0.002820974914357,0.033918898552656,0.208539664745331,0.043058268725872,-0.118656948208809,0.040202885866165,-0.021921852603555,-0.218510285019875,-0.152929946780205,0.176491558551788,0.063303939998150,0.001388192526065,-0.070051029324532));
res += mul(Get(s0,dx,dy), float4x4(-0.137343123555183,-0.047275424003601,0.097347691655159,0.044955711811781,0.020395824685693,0.235280573368073,0.073462523519993,-0.057548061013222,0.166567340493202,-0.057730972766876,-0.013464439660311,0.038329929113388,-0.154753163456917,0.071405254304409,-0.115844629704952,0.089007280766964));
res += mul(Get(s1,-dx,-dy), float4x4(-0.026898650452495,-0.088716909289360,-0.168851196765900,-0.063345655798912,-0.045347683131695,0.014451869763434,-0.017143316566944,-0.069652162492275,0.119883850216866,-0.086880855262280,-0.160333931446075,0.126424446702003,-0.027640981599689,0.020651226863265,0.129830747842789,0.056897703558207));
res += mul(Get(s1,-dx,0), float4x4(-0.136100903153419,0.179169967770576,0.026102725416422,-0.096288964152336,0.194861918687820,-0.131572976708412,0.096151292324066,-0.114157252013683,-0.007061220239848,-0.108380153775215,-0.121259853243828,-0.001606723060831,0.077251479029655,0.072938263416290,0.166512325406075,0.032886102795601));
res += mul(Get(s1,-dx,dy), float4x4(0.084517411887646,0.093097127974033,-0.052796248346567,-0.092700086534023,0.008604892529547,-0.045267429202795,-0.128701135516167,0.357719302177429,-0.044820971786976,0.005794705823064,-0.207394450902939,0.134252652525902,0.234126880764961,-0.036191236227751,-0.135737895965576,-0.172322556376457));
res += mul(Get(s1,0,-dy), float4x4(0.078601382672787,-0.104595534503460,0.053716462105513,0.088044747710228,0.085929743945599,-0.086060941219330,0.149131745100021,-0.005451097618788,-0.024542486295104,-0.062877714633942,-0.055908966809511,-0.044655639678240,-0.051674637943506,0.214060187339783,0.047438159584999,0.026101078838110));
res += mul(Get(s1,0,0), float4x4(-0.003909877967089,-0.113607034087181,-0.169968366622925,0.161385595798492,-0.002225542208180,0.051395982503891,-0.139899238944054,0.176896318793297,-0.035692516714334,0.071257241070271,-0.094599895179272,0.159591361880302,0.064942657947540,0.139093279838562,0.019671563059092,-0.074146077036858));
res += mul(Get(s1,0,dy), float4x4(0.062883459031582,0.090059496462345,0.066315762698650,0.054525602608919,-0.130917817354202,-0.035987716168165,-0.000045936820243,-0.045719403773546,0.033432096242905,-0.185697108507156,-0.077612385153770,-0.079453334212303,0.041076857596636,0.016599804162979,-0.015602923929691,-0.162295013666153));
res += mul(Get(s1,dx,-dy), float4x4(0.011052810586989,-0.122741073369980,0.017311109229922,0.116495564579964,-0.244853824377060,-0.017010068520904,0.060462698340416,-0.060359816998243,0.103656634688377,0.069341711699963,0.212819695472717,-0.137921556830406,-0.049696527421474,0.161148786544800,0.055812664330006,-0.146770849823952));
res += mul(Get(s1,dx,0), float4x4(-0.107503771781921,0.072857879102230,-0.120158359408379,-0.085270069539547,0.282236397266388,0.017287556082010,0.102483667433262,0.042433630675077,-0.166675150394440,-0.014846649952233,-0.085896328091621,0.012245824560523,0.001599591807462,0.229780137538910,0.090545564889908,0.131802320480347));
res += mul(Get(s1,dx,dy), float4x4(0.080631755292416,0.023833602666855,-0.188666969537735,0.041420266032219,-0.006042271852493,0.123952530324459,-0.019401937723160,-0.123768769204617,0.102317117154598,-0.060174774378538,0.034592334181070,0.018247257918119,0.010539889335632,-0.256660670042038,0.105346336960793,-0.050654526799917));
res += mul(Get(s2,-dx,-dy), float4x4(0.055194187909365,-0.179560422897339,0.037894077599049,0.023571169003844,0.138606891036034,-0.085767321288586,0.027226828038692,0.025767300277948,-0.066345550119877,0.083593286573887,0.054178647696972,-0.093946181237698,-0.078702092170715,0.023464476689696,0.092809282243252,-0.048297002911568));
res += mul(Get(s2,-dx,0), float4x4(-0.161664381623268,-0.098447710275650,-0.028179666027427,-0.080905482172966,0.015020649880171,0.098538905382156,0.028158232569695,-0.160274848341942,0.019405208528042,0.031500585377216,-0.074631512165070,0.038069903850555,-0.048737391829491,-0.185513913631439,-0.032381568104029,0.161517292261124));
res += mul(Get(s2,-dx,dy), float4x4(0.215769067406654,-0.050087235867977,-0.106861576437950,-0.067226886749268,0.140992030501366,-0.064214788377285,-0.296566873788834,0.101737774908543,0.114150755107403,-0.150988325476646,-0.001174597302452,-0.137888103723526,0.245330303907394,-0.059832520782948,-0.071071922779083,0.203718692064285));
res += mul(Get(s2,0,-dy), float4x4(0.049966603517532,0.085805155336857,0.118014462292194,-0.011500448919833,-0.286089777946472,0.024218894541264,0.070369377732277,0.142287209630013,-0.089365787804127,0.039335433393717,-0.143734678626060,0.153468281030655,0.076539732515812,-0.076213583350182,-0.170590817928314,-0.068360768258572));
res += mul(Get(s2,0,0), float4x4(0.106939963996410,-0.005793726537377,-0.018529275432229,0.003984669689089,-0.152940422296524,0.012812182307243,-0.097153648734093,0.043118588626385,-0.008688816800714,0.009414530359209,-0.006846049334854,0.038632411509752,0.043953362852335,0.025874871760607,-0.044577326625586,0.021862521767616));
res += mul(Get(s2,0,dy), float4x4(0.054811298847198,-0.064111240208149,0.178417682647705,0.002011114498600,-0.064526438713074,0.017306147143245,-0.109707497060299,0.123686999082565,0.250742644071579,0.100975222885609,0.006610407494009,-0.130758166313171,-0.023223154246807,0.214857131242752,0.001107927295379,-0.003012251108885));
res += mul(Get(s2,dx,-dy), float4x4(-0.089825764298439,0.049456134438515,0.044866912066936,-0.084662042558193,0.073662824928761,-0.009784425608814,-0.056652005761862,-0.067450702190399,0.111247211694717,-0.215393096208572,0.150816008448601,-0.011052192188799,-0.106349997222424,0.057206567376852,-0.027678674086928,-0.137295752763748));
res += mul(Get(s2,dx,0), float4x4(-0.073989301919937,0.076159693300724,-0.017324006184936,-0.090756729245186,0.059019003063440,0.117174006998539,0.004814055282623,0.159543022513390,-0.004813494160771,-0.129735991358757,-0.124899595975876,0.040056329220533,0.049988996237516,0.036485988646746,-0.112943433225155,-0.010200695134699));
res += mul(Get(s2,dx,dy), float4x4(-0.008952336385846,0.082200914621353,-0.014363808557391,-0.040006920695305,0.012401893734932,0.107973635196686,-0.082124672830105,-0.032931689172983,-0.038383673876524,0.110356338322163,0.123450681567192,-0.020527174696326,-0.109914310276508,-0.134704172611237,-0.077914275228977,-0.009739042259753));
res += mul(Get(s3,-dx,-dy), float4x4(0.033768717199564,-0.243358150124550,-0.037368278950453,-0.184582993388176,-0.120724827051163,0.083904363214970,0.209746539592743,0.138142406940460,-0.269362181425095,-0.083534225821495,-0.249894604086876,-0.071421369910240,-0.153025314211845,-0.052046269178391,-0.215411573648453,0.011968169361353));
res += mul(Get(s3,-dx,0), float4x4(-0.078484892845154,-0.029601799324155,-0.128522470593452,0.187193676829338,-0.063987024128437,0.038622569292784,-0.132761999964714,0.008806290104985,0.108425140380859,-0.177915871143341,-0.147469237446785,-0.108239151537418,0.049054782837629,-0.042964227497578,0.124775707721710,-0.030999587848783));
res += mul(Get(s3,-dx,dy), float4x4(-0.090287633240223,0.167571395635605,0.043646316975355,0.107981584966183,0.001308517996222,0.112408727407455,0.094530709087849,-0.264170050621033,-0.045705795288086,0.087314136326313,0.076132066547871,-0.169408619403839,-0.002283669309691,-0.159910261631012,-0.190631613135338,-0.046008706092834));
res += mul(Get(s3,0,-dy), float4x4(-0.093769744038582,0.199759110808372,-0.057639203965664,0.055540550500154,-0.070928648114204,0.179762065410614,0.051681224256754,-0.065947376191616,0.084783457219601,-0.110006667673588,-0.105058707296848,0.056472852826118,0.213850080966949,-0.191861256957054,-0.039526835083961,0.072685562074184));
res += mul(Get(s3,0,0), float4x4(-0.002132299588993,0.093415662646294,0.038694255053997,0.028714727610350,-0.211880788207054,-0.052726835012436,-0.148570984601974,0.082394950091839,0.075816303491592,-0.036711841821671,-0.114238969981670,-0.171743720769882,0.115398086607456,0.107025504112244,0.001340452930890,-0.095961935818195));
res += mul(Get(s3,0,dy), float4x4(-0.060318503528833,0.124172508716583,0.084045201539993,-0.072738967835903,-0.078336700797081,0.049542859196663,0.102254860103130,-0.082598440349102,0.006610921118408,-0.015060054138303,0.002372873714194,0.011344606988132,-0.007046069484204,0.123018883168697,0.088069513440132,-0.066589862108231));
res += mul(Get(s3,dx,-dy), float4x4(-0.072050295770168,-0.095140159130096,0.213092520833015,-0.041877880692482,-0.017572313547134,-0.076937802135944,-0.205190241336823,0.078833758831024,0.100224263966084,0.120751217007637,0.037319030612707,-0.003590310225263,-0.028572607785463,0.043877813965082,0.045804150402546,-0.066218875348568));
res += mul(Get(s3,dx,0), float4x4(0.032053776085377,-0.029577931389213,0.125753521919250,0.110628768801689,0.021974882110953,-0.093347772955894,-0.072201289236546,0.008717766962945,-0.016437571495771,-0.067303739488125,0.112943105399609,0.121274746954441,0.180624470114708,0.135289520025253,-0.065160840749741,0.004546155221760));
res += mul(Get(s3,dx,dy), float4x4(0.031272985041142,0.090725541114807,-0.076334714889526,0.128609493374825,0.138389721512794,0.059920735657215,-0.085276879370213,-0.047021262347698,-0.005403179675341,0.156081721186638,0.046690590679646,-0.062874987721443,0.067499011754990,0.017301311716437,0.021415086463094,0.115130178630352));
return max(float4(0,0,0,0), res);
}
