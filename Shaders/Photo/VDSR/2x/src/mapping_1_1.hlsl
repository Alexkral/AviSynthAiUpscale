sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.058466710150242,-0.034484770148993,-0.031168896704912,0.105634666979313,-0.108128063380718,0.017049459740520,-0.066176198422909,0.228627979755402,0.029031084850430,0.040585864335299,-0.015828199684620,-0.006946703419089,0.008302026428282,-0.002140655880794,0.004496021196246,0.002630644477904));
res += mul(Get(s0,-dx,0), float4x4(0.110877394676208,0.027774576097727,-0.038744848221540,-0.030084624886513,0.116775743663311,-0.129902392625809,0.035393990576267,-0.045209143310785,0.061684299260378,-0.006683548446745,0.125392198562622,-0.119347669184208,0.005313599947840,0.004585353657603,0.004682830534875,-0.001024435274303));
res += mul(Get(s0,-dx,dy), float4x4(0.093391776084900,-0.007950924336910,0.104325681924820,0.049858219921589,-0.243127390742302,0.118080489337444,-0.113178245723248,0.349306225776672,0.123265244066715,0.002017240272835,0.067233458161354,-0.071549713611603,0.000580263207667,-0.005077857058495,-0.002030035713688,0.001597843714990));
res += mul(Get(s0,0,-dy), float4x4(-0.119103938341141,-0.081557668745518,-0.026640130206943,0.023195751011372,0.262109309434891,-0.075626268982887,0.037173565477133,0.169498428702354,0.007111283019185,0.025558408349752,0.012927794829011,0.045133147388697,-0.001051004859619,-0.006066595669836,0.003054696368054,0.006126521620899));
res += mul(Get(s0,0,0), float4x4(0.036399081349373,0.105801790952682,0.007488733623177,-0.111459068953991,-0.503097772598267,-0.269941210746765,0.239145964384079,-0.393051356077194,0.046971529722214,-0.029082844033837,0.178877294063568,-0.057582199573517,-0.002462331671268,0.000721664750017,0.004894278012216,0.003221960971132));
res += mul(Get(s0,0,dy), float4x4(-0.008220537565649,0.070056103169918,0.086224190890789,0.037741914391518,0.662553071975708,0.108539611101151,-0.243939876556396,0.027954155579209,-0.032062619924545,-0.017395317554474,0.012942490167916,-0.080092296004295,0.002900328952819,0.004163741599768,0.001124574686401,0.002842880785465));
res += mul(Get(s0,dx,-dy), float4x4(0.001340480637737,-0.026735786348581,-0.071909211575985,0.050148665904999,0.299677371978760,0.031709369271994,-0.251404821872711,-0.136444911360741,-0.003211690112948,-0.037173431366682,-0.097257949411869,-0.026332071051002,-0.002410803455859,-0.002783961361274,0.005667709279805,-0.002830932149664));
res += mul(Get(s0,dx,0), float4x4(0.086856096982956,0.072232805192471,-0.011090609245002,0.010751095600426,-0.214226752519608,-0.197568744421005,0.082574687898159,-0.070946089923382,-0.047471251338720,-0.052697025239468,0.042288344353437,-0.106416448950768,-0.001624781871215,-0.004407689440995,0.003712721634656,-0.001860036165453));
res += mul(Get(s0,dx,dy), float4x4(0.049103580415249,0.060075309127569,-0.015431795269251,0.054519020020962,0.038362909108400,0.079831749200821,-0.059856060892344,-0.076126202940941,0.084265656769276,-0.023683218285441,-0.048673432320356,-0.078198574483395,0.003056152723730,-0.000524866569322,0.000754982873332,0.000840596447233));
res += mul(Get(s1,-dx,-dy), float4x4(-0.057198263704777,-0.012005859054625,0.014349899254739,-0.024152072146535,0.014292175881565,0.089677162468433,0.036097411066294,-0.036957513540983,0.019705208018422,-0.002763997530565,-0.007983673363924,0.000141216194606,-0.001107811578549,0.000544198148418,-0.001047569210641,-0.006793712265790));
res += mul(Get(s1,-dx,0), float4x4(-0.019282989203930,-0.004281377885491,0.017515473067760,-0.016309168189764,0.110168188810349,0.056915812194347,0.078733921051025,0.065774023532867,-0.009347244165838,-0.052938044071198,0.211473852396011,0.043869342654943,0.006165365688503,0.005573661997914,-0.001744575682096,0.005309875588864));
res += mul(Get(s1,-dx,dy), float4x4(-0.008979771286249,0.015041998587549,0.021161595359445,0.003263452555984,0.175017014145851,-0.010543024167418,0.084477670490742,0.007908799685538,-0.076113492250443,-0.058887936174870,-0.038359388709068,0.003755250480026,0.005264024250209,0.000392300280510,0.002503996947780,0.001906563411467));
res += mul(Get(s1,0,-dy), float4x4(-0.072007998824120,0.005656013265252,0.017451953142881,0.002961516613141,0.070403195917606,0.010043828748167,0.163522109389305,-0.051790595054626,-0.017924368381500,0.027209585532546,-0.019438290968537,-0.036050751805305,0.000599756836891,-0.001070076250471,0.004652529023588,0.006986442022026));
res += mul(Get(s1,0,0), float4x4(-0.052416443824768,0.005440450739115,0.037406023591757,0.005366872530431,-0.100199952721596,0.012766754254699,0.072673462331295,0.082250334322453,0.080525316298008,-0.038001667708158,0.254711747169495,0.009756677784026,-0.000979729462415,0.001594080356881,0.007428521756083,0.004968998488039));
res += mul(Get(s1,0,dy), float4x4(-0.000758487964049,0.017138380557299,0.018137747421861,0.002789216116071,-0.091263622045517,-0.000803673989139,0.079957693815231,0.025932563468814,-0.066499233245850,-0.055931609123945,-0.043588209897280,-0.079294987022877,0.003978312946856,-0.000960797944572,0.000206462005735,0.000060040481912));
res += mul(Get(s1,dx,-dy), float4x4(-0.041932474821806,0.028726050630212,0.002612326759845,-0.009841977618635,-0.119487605988979,-0.015474391169846,0.048376780003309,0.147346302866936,-0.080324202775955,0.030101163312793,-0.050105165690184,0.064400367438793,-0.003969193901867,0.001553241512738,0.000567939539906,-0.003301522927359));
res += mul(Get(s1,dx,0), float4x4(-0.005344639066607,0.020659850910306,0.018220841884613,0.017005724832416,0.126582518219948,-0.026282068341970,-0.009890435263515,0.042935770004988,-0.022048292681575,-0.039174046367407,0.108819559216499,0.078487068414688,0.002391617046669,-0.000468219252070,-0.002167716622353,-0.006031677126884));
res += mul(Get(s1,dx,dy), float4x4(0.052600838243961,0.020296819508076,0.003389057237655,0.004506358411163,0.168063759803772,-0.010618114843965,0.013717837631702,0.090830653905869,-0.122262291610241,-0.046037439256907,-0.011454706080258,-0.028735933825374,-0.002435753587633,-0.000059863472416,0.005633581895381,0.000069540481491));
res += mul(Get(s2,-dx,-dy), float4x4(-0.019378213211894,0.005719920620322,-0.012307292781770,-0.006151264999062,0.001001383992843,0.002157257869840,-0.000783920404501,0.006555521395057,0.004280616063625,0.022168248891830,0.027526637539268,-0.010884471237659,-0.064278848469257,-0.039035473018885,0.091732017695904,0.087125405669212));
res += mul(Get(s2,-dx,0), float4x4(0.002926787827164,0.001795601216145,-0.008926765061915,-0.020075069740415,-0.008925359696150,0.002139954129234,-0.001408040057868,0.002073160605505,0.099346183240414,0.014674584381282,-0.014563664793968,0.036492083221674,-0.042425047606230,-0.083802498877048,0.091092169284821,0.021475072950125));
res += mul(Get(s2,-dx,dy), float4x4(-0.038653116673231,-0.004406370688230,0.008062740787864,-0.019745055586100,0.001682064495981,0.001012585824355,0.001837871619500,-0.000456818233943,0.054170317947865,0.077042028307915,0.052873168140650,0.077941194176674,0.191757470369339,0.018100930377841,-0.016405766829848,-0.075621917843819));
res += mul(Get(s2,0,-dy), float4x4(-0.004541316069663,0.010725877247751,0.021771170198917,-0.020674191415310,0.006448341067880,0.001382215763442,-0.003515113377944,0.000920257531106,0.014296403154731,-0.053401544690132,0.005543002393097,-0.047239445149899,-0.018491351976991,0.034765686839819,0.037190780043602,0.103867709636688));
res += mul(Get(s2,0,0), float4x4(0.071694351732731,-0.010532640852034,0.050131719559431,-0.016931757330894,0.003661219263449,-0.003012346802279,0.003828472224995,0.000335011834977,0.134242206811905,0.043437302112579,0.006419780198485,-0.090508393943310,-0.049997020512819,-0.009065483696759,0.155829563736916,0.127842426300049));
res += mul(Get(s2,0,dy), float4x4(-0.041009172797203,-0.009416172280908,-0.005353290122002,0.003203754778951,0.003114672144875,-0.001723838853650,0.006245397496969,0.000599538674578,-0.038212586194277,0.142871677875519,0.065580263733864,-0.041658908128738,-0.012531249783933,0.049632281064987,0.125226601958275,0.095789454877377));
res += mul(Get(s2,dx,-dy), float4x4(-0.053026568144560,-0.004932103212923,-0.002776469103992,0.028752291575074,-0.000862263725139,-0.000361074256944,-0.001066156430170,0.001590193249285,-0.051046825945377,-0.060725934803486,-0.006446210667491,-0.007582430262119,-0.046965654939413,0.056478541344404,-0.074249900877476,-0.065289407968521));
res += mul(Get(s2,dx,0), float4x4(-0.009049248881638,-0.009079632349312,0.014437336474657,0.015594895929098,0.000719680741895,-0.002335102995858,-0.000015696426999,-0.002078230725601,0.239188730716705,-0.002172145759687,0.005026550497860,-0.014379438012838,0.001229123910889,0.036405935883522,-0.042411934584379,-0.072010166943073));
res += mul(Get(s2,dx,dy), float4x4(-0.034243028610945,-0.011925657279789,-0.007166887167841,-0.000819372886326,0.000836406252347,0.001183663029224,0.001775014679879,-0.002798225730658,-0.004218543414026,0.117182105779648,-0.007929041050375,-0.004840839188546,0.037825714796782,0.006110089831054,-0.020004518330097,-0.171446472406387));
res += mul(Get(s3,-dx,-dy), float4x4(0.008399548940361,0.005058517213911,-0.004074693191797,-0.013616439886391,0.011034789495170,-0.002624480985105,-0.000235519546550,-0.007625221274793,-0.065013825893402,0.007392096333206,0.076385207474232,0.005432239267975,0.066524781286716,-0.048649456351995,-0.045382332056761,0.264302432537079));
res += mul(Get(s3,-dx,0), float4x4(0.038260996341705,-0.004190684296191,0.033895242959261,0.011459866538644,0.005984017159790,-0.000645813124720,-0.004129290115088,-0.001582638476975,-0.005965800490230,-0.029696524143219,0.083243720233440,-0.104170069098473,0.059539675712585,-0.047710228711367,-0.019155070185661,0.190237075090408));
res += mul(Get(s3,-dx,dy), float4x4(-0.118659257888794,-0.016726601868868,-0.001834252383560,-0.004559629131109,-0.006564924493432,-0.004254076629877,-0.007126116193831,-0.001891838270240,0.070646576583385,0.006599531508982,0.043120909482241,-0.106331273913383,-0.217753216624260,0.066832095384598,0.043059691786766,0.224084928631783));
res += mul(Get(s3,0,-dy), float4x4(-0.010783844627440,0.005795985925943,-0.003910608589649,-0.012476461008191,0.002178875729442,-0.002637168858200,-0.003630222054198,-0.003883751109242,-0.014981647022069,0.016585549339652,0.071989081799984,0.003947450779378,-0.409075379371643,-0.182601600885391,0.001071515376680,-0.279835164546967));
res += mul(Get(s3,0,0), float4x4(0.050091173499823,-0.004043505992740,0.050530318170786,0.008079245686531,-0.001233922783285,-0.000994252390228,0.002855692757294,-0.007100984454155,-0.105200827121735,-0.018713226541877,0.161823034286499,-0.003765276167542,0.316081136465073,-0.049325037747622,-0.111456446349621,-0.137944787740707));
res += mul(Get(s3,0,dy), float4x4(-0.116504624485970,-0.012375376187265,0.002993043279275,-0.022945914417505,-0.003176146885380,-0.001933205989189,-0.001853062654845,0.001882826676592,-0.020368557423353,0.005246710963547,0.096844524145126,-0.004862274508923,0.349605619907379,0.147131875157356,-0.013414672575891,-0.031179876998067));
res += mul(Get(s3,dx,-dy), float4x4(-0.018132291734219,-0.005822347942740,-0.005219095852226,0.001289919135161,-0.000378608616302,-0.001377282431349,-0.002210908336565,0.006593044847250,-0.036666277796030,0.052493307739496,-0.024951361119747,-0.036098461598158,0.001255704089999,-0.010034090839326,-0.077586747705936,-0.081101812422276));
res += mul(Get(s3,dx,0), float4x4(0.023539261892438,-0.011390774510801,0.012281702831388,0.004755664616823,-0.001544880913571,-0.002321115694940,0.000961164420005,0.007895859889686,-0.003334358567372,-0.006692179478705,0.013196763582528,-0.049678232520819,0.146230638027191,0.044925626367331,0.044016994535923,0.100020244717598));
res += mul(Get(s3,dx,dy), float4x4(-0.086086243391037,-0.012825128622353,0.005042275413871,-0.022960931062698,-0.000821666209958,-0.003032905980945,-0.002683683764189,-0.001535065239295,0.133076772093773,-0.007836775854230,0.001360160531476,-0.021165862679482,-0.344565629959106,0.129342421889305,0.031517233699560,-0.159047812223434));
return max(float4(0,0,0,0), res);
}
