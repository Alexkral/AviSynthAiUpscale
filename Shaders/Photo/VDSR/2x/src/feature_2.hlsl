sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.101423025131226,-0.024418884888291,0.113103106617928,-0.000012559763491) * Get(-dx,-dy);
res += float4(-0.132742568850517,0.154619902372360,0.025309538468719,-0.005894519854337) * Get(-dx,0);
res += float4(-0.084769047796726,0.394060224294662,-0.350193649530411,-0.002732400316745) * Get(-dx,dy);
res += float4(-0.064452409744263,0.026303211227059,0.365287929773331,0.002323365071788) * Get(0,-dy);
res += float4(0.006805184297264,-0.051685761660337,0.123635679483414,0.000861597713083) * Get(0,0);
res += float4(0.098529793322086,0.141555845737457,-0.507566630840302,-0.004691559821367) * Get(0,dy);
res += float4(-0.065606534481049,-0.179031029343605,0.191897258162498,-0.007680673152208) * Get(dx,-dy);
res += float4(0.094806440174580,-0.451255738735199,0.025032041594386,-0.001990429824218) * Get(dx,0);
res += float4(0.152321845293045,-0.372424751520157,-0.341926366090775,0.000751660438254) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
