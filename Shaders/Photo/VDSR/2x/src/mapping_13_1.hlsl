sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.091728225350380,-0.071110151708126,0.038879528641701,0.138612106442451,0.028571665287018,0.033086735755205,-0.013084921985865,0.062181003391743,-0.077289193868637,-0.166208997368813,0.006689057219774,-0.100404016673565,-0.027698667719960,0.063247464597225,0.081686943769455,-0.027728149667382));
res += mul(Get(s0,-dx,0), float4x4(0.040816329419613,0.010704037733376,-0.204062268137932,-0.062152776867151,-0.015175200067461,0.031567074358463,-0.136040434241295,0.107834875583649,-0.041090860962868,-0.140788614749908,0.155485972762108,-0.130498707294464,-0.041327748447657,-0.026187689974904,0.081036701798439,0.128592684864998));
res += mul(Get(s0,-dx,dy), float4x4(-0.045620232820511,-0.070672348141670,0.020097488537431,-0.045041676610708,0.097414486110210,-0.163352668285370,0.050882246345282,0.086548142135143,0.068180046975613,0.060528632253408,0.078411504626274,-0.077987186610699,-0.097399391233921,-0.136054992675781,0.055997710675001,0.055882405489683));
res += mul(Get(s0,0,-dy), float4x4(-0.074659645557404,0.009620565921068,0.188177466392517,0.161898851394653,-0.070500962436199,0.011471038684249,-0.010733794420958,-0.028848575428128,-0.110325075685978,0.040578965097666,-0.143847838044167,0.016297426074743,-0.162407338619232,-0.049545407295227,0.003349949838594,0.065430276095867));
res += mul(Get(s0,0,0), float4x4(0.035923641175032,-0.042775023728609,-0.030260505154729,0.034658774733543,-0.092436656355858,-0.059222519397736,-0.046595841646194,-0.055300012230873,-0.084747537970543,0.105219326913357,0.004383734427392,0.029871599748731,-0.064575105905533,0.025930356234312,-0.028167510405183,0.077458918094635));
res += mul(Get(s0,0,dy), float4x4(-0.009197625331581,-0.069005742669106,0.088804677128792,-0.100619263947010,-0.089477740228176,0.056273195892572,-0.087714545428753,0.193250477313995,0.026410927996039,-0.092326916754246,-0.271992325782776,-0.095479086041451,0.035707365721464,-0.100497849285603,0.075245663523674,0.084388948976994));
res += mul(Get(s0,dx,-dy), float4x4(-0.026351172477007,0.027531422674656,0.055396653711796,0.014338361099362,-0.023415010422468,0.008746135048568,-0.138542234897614,0.026641288772225,-0.002409121952951,-0.051864158362150,-0.146149724721909,0.059409558773041,0.087505161762238,-0.108097977936268,0.066715396940708,-0.015795614570379));
res += mul(Get(s0,dx,0), float4x4(0.025234106928110,0.075228102505207,-0.042004287242889,0.066833131015301,-0.209484070539474,-0.088121041655540,-0.179100692272186,0.119871534407139,0.094139210879803,0.052159082144499,-0.070816777646542,-0.047888968139887,-0.110583454370499,0.101104579865932,0.048698335886002,0.062293559312820));
res += mul(Get(s0,dx,dy), float4x4(0.035734914243221,-0.050563767552376,0.196069270372391,-0.046580329537392,-0.094847083091736,-0.034813009202480,-0.031425286084414,-0.145303487777710,-0.151858478784561,0.024188654497266,0.074916414916515,0.111605539917946,-0.186824455857277,0.023802410811186,-0.033588152378798,-0.159289047122002));
res += mul(Get(s1,-dx,-dy), float4x4(0.022332752123475,0.166303068399429,0.029351050034165,-0.042237889021635,0.077699765563011,-0.100714862346649,-0.206658944487572,0.010811058804393,0.097412161529064,0.007462577894330,-0.066987171769142,0.008920207619667,-0.076278150081635,-0.029388919472694,0.127963706851006,-0.021431110799313));
res += mul(Get(s1,-dx,0), float4x4(-0.018993357196450,-0.071775756776333,-0.037925854325294,-0.065228633582592,-0.000543401867617,-0.093192420899868,0.096237085759640,0.101830057799816,0.050360850989819,-0.053769230842590,0.161957904696465,-0.083779230713844,-0.126674458384514,-0.045229051262140,-0.000513225211762,0.097655244171619));
res += mul(Get(s1,-dx,dy), float4x4(0.006016782950610,0.092693224549294,-0.006263283081353,0.063590332865715,0.037167020142078,-0.199399307370186,-0.042874399572611,0.043736901134253,-0.149203255772591,0.063418015837669,-0.013147954829037,-0.049174964427948,0.026187071576715,0.027990581467748,0.145797550678253,0.013470492325723));
res += mul(Get(s1,0,-dy), float4x4(0.003437049686909,-0.081898398697376,-0.068587869405746,0.024857394397259,-0.027412360534072,-0.142017409205437,-0.094327829778194,-0.002258556196466,0.078156866133213,-0.148397743701935,0.101234257221222,0.032999839633703,0.000770577287767,-0.014640795066953,-0.012284132651985,-0.228186935186386));
res += mul(Get(s1,0,0), float4x4(0.047804109752178,0.126190915703773,-0.002754286862910,-0.059163630008698,0.017132274806499,-0.006152870599180,-0.036506388336420,0.081042394042015,0.003890095278621,-0.264754414558411,0.048987559974194,-0.129001617431641,-0.195788711309433,-0.064110070466995,0.022412862628698,0.035938251763582));
res += mul(Get(s1,0,dy), float4x4(0.089046560227871,-0.017579544335604,-0.028003044426441,0.061252266168594,0.133806377649307,-0.192303493618965,0.003039187751710,0.017986336722970,-0.032549172639847,-0.046206910163164,0.016185600310564,-0.042945154011250,-0.132234811782837,0.007215806748718,0.064548231661320,-0.095809504389763));
res += mul(Get(s1,dx,-dy), float4x4(0.039098937064409,0.027906136587262,0.095261804759502,-0.139982536435127,-0.081001691520214,0.042415946722031,-0.034744329750538,-0.031645826995373,0.147505596280098,0.133417963981628,-0.094138376414776,-0.024588828906417,0.017592003569007,0.013256635516882,0.042255219072104,0.029871044680476));
res += mul(Get(s1,dx,0), float4x4(0.094211600720882,0.000592312251683,-0.008741165511310,0.013428424485028,-0.005493495147675,-0.048861160874367,0.001301946467720,0.010484642349184,0.017232228070498,-0.015358844771981,0.150148183107376,-0.033506844192743,-0.059533230960369,-0.087549872696400,0.123798407614231,-0.096508704125881));
res += mul(Get(s1,dx,dy), float4x4(0.204536974430084,-0.168283343315125,-0.067167334258556,-0.113992467522621,-0.026780562475324,-0.001923085656017,-0.044732596725225,-0.008571952581406,0.088197417557240,-0.006385492626578,0.286500573158264,-0.047900270670652,-0.060780975967646,0.076566249132156,0.004037919454277,-0.120671607553959));
res += mul(Get(s2,-dx,-dy), float4x4(0.072216533124447,-0.048709064722061,0.105155766010284,-0.045594595372677,-0.136497318744659,-0.037354398518801,-0.101817056536674,-0.047253921627998,0.085057690739632,-0.028978016227484,-0.003619913244620,-0.003969936631620,-0.084773398935795,0.132544040679932,0.201152488589287,0.084830962121487));
res += mul(Get(s2,-dx,0), float4x4(-0.000868819828611,0.107312962412834,0.058603081852198,-0.015914555639029,-0.098502047359943,-0.224092036485672,-0.271412581205368,0.040560785681009,0.046647299081087,0.118226699531078,-0.008886097930372,-0.003319935640320,-0.085843637585640,0.050051003694534,-0.060120575129986,0.000112409376015));
res += mul(Get(s2,-dx,dy), float4x4(-0.003467615460977,-0.078092820942402,0.046556621789932,0.030690362676978,0.059880170971155,-0.024419976398349,0.104314252734184,-0.028393400833011,0.108272612094879,0.089521393179893,-0.019045699387789,-0.037318911403418,0.007002251688391,0.200506731867790,0.020708899945021,0.156034201383591));
res += mul(Get(s2,0,-dy), float4x4(-0.075914606451988,0.054164208471775,0.124441035091877,-0.011487074196339,0.019350396469235,-0.079674534499645,0.148941457271576,0.050145290791988,-0.115786172449589,-0.042138267308474,-0.075271144509315,0.053255852311850,0.066335193812847,-0.022740768268704,0.016705412417650,-0.066654771566391));
res += mul(Get(s2,0,0), float4x4(-0.006212780252099,-0.033829756081104,0.171305179595947,-0.032978717237711,0.202943697571754,-0.018542969599366,0.027402237057686,0.013959971256554,0.050478491932154,0.107713162899017,0.126208931207657,0.009980679489672,0.035944573581219,-0.123336039483547,0.154942110180855,0.079287648200989));
res += mul(Get(s2,0,dy), float4x4(-0.133991509675980,-0.012900264933705,-0.008071432821453,-0.157157793641090,0.066266812384129,-0.047062963247299,-0.022981336340308,0.077627450227737,0.009451821446419,-0.050814375281334,-0.079026602208614,-0.022762930020690,-0.084473751485348,0.008119481615722,-0.026212332770228,-0.014581377618015));
res += mul(Get(s2,dx,-dy), float4x4(0.011498623527586,-0.001779161626473,-0.148353204131126,-0.197068050503731,-0.057875499129295,0.081118240952492,0.091224938631058,0.099606513977051,-0.140584290027618,-0.021638287231326,0.053179293870926,-0.062457628548145,-0.171344131231308,0.008080173283815,0.040320824831724,-0.002171966247261));
res += mul(Get(s2,dx,0), float4x4(-0.076326280832291,0.088505767285824,0.134429708123207,0.044460255652666,-0.193774372339249,0.154379352927208,0.030611861497164,0.076570913195610,-0.157559514045715,0.083807870745659,0.126724153757095,0.022690678015351,-0.037182696163654,0.021026298403740,-0.017465753480792,-0.107244424521923));
res += mul(Get(s2,dx,dy), float4x4(0.049459747970104,-0.079621836543083,0.109651289880276,-0.001955376239493,-0.087771870195866,0.069746114313602,0.095413208007813,-0.010338955558836,-0.134066164493561,-0.097427859902382,-0.199446558952332,-0.002318841638044,0.176402404904366,0.004600291606039,0.151494801044464,-0.030785111710429));
res += mul(Get(s3,-dx,-dy), float4x4(-0.060636539012194,0.120144389569759,-0.005974981468171,0.092901110649109,0.013809308409691,-0.122440308332443,0.051706857979298,-0.022853901609778,0.005050241015851,-0.178180724382401,-0.143899187445641,0.083744823932648,-0.017945686355233,0.045019544661045,-0.087951518595219,0.022496180608869));
res += mul(Get(s3,-dx,0), float4x4(0.124583423137665,-0.049741055816412,-0.131001785397530,0.162319377064705,0.020488221198320,0.059707012027502,0.103677764534950,0.117627918720245,-0.073656693100929,0.124189168214798,0.174928665161133,-0.168907150626183,-0.139495640993118,-0.196340337395668,-0.030053937807679,0.072167769074440));
res += mul(Get(s3,-dx,dy), float4x4(0.011777607724071,-0.132785335183144,0.195007979869843,-0.068013370037079,-0.041299071162939,0.058672957122326,0.019392209127545,-0.019898194819689,-0.087208405137062,0.053354769945145,-0.116818986833096,-0.124080523848534,-0.074979081749916,-0.193576127290726,0.012950665317476,0.061332989484072));
res += mul(Get(s3,0,-dy), float4x4(0.089721582829952,0.031225617974997,0.056835267692804,0.016477206721902,0.088415041565895,-0.036799136549234,-0.146658897399902,-0.076519392430782,-0.197487339377403,0.063458420336246,0.113044969737530,-0.126936167478561,-0.024737687781453,0.006729877553880,0.071807518601418,-0.079990059137344));
res += mul(Get(s3,0,0), float4x4(-0.081831894814968,0.043907798826694,0.053446616977453,-0.139085561037064,-0.039392556995153,0.092213630676270,0.011201906017959,-0.071583755314350,0.025724768638611,0.126113876700401,0.182308197021484,0.014354680664837,0.079967699944973,0.041375536471605,0.223563671112061,-0.024121753871441));
res += mul(Get(s3,0,dy), float4x4(-0.074307940900326,-0.020243106409907,0.021255873143673,-0.005470605567098,0.063839681446552,-0.072254255414009,0.097674869000912,-0.059945929795504,0.081278316676617,-0.190793678164482,-0.160793721675873,0.002295671496540,-0.057254869490862,0.114560343325138,0.050169274210930,-0.094174243509769));
res += mul(Get(s3,dx,-dy), float4x4(-0.047184921801090,0.111749202013016,0.120998777449131,0.005200361367315,0.213958144187927,-0.027010481804609,0.093965344130993,0.037068761885166,0.026575295254588,0.136919587850571,0.168914824724197,0.066646173596382,0.006747485604137,0.079413473606110,-0.019574044272304,0.004877126310021));
res += mul(Get(s3,dx,0), float4x4(0.024299606680870,0.017493322491646,-0.017739543691278,0.189611822366714,0.155014544725418,0.057881981134415,-0.032030440866947,-0.019321458414197,-0.148374095559120,-0.048981774598360,-0.036867279559374,-0.052395038306713,-0.089202605187893,0.075342819094658,0.096093438565731,-0.087892591953278));
res += mul(Get(s3,dx,dy), float4x4(0.028129752725363,-0.216689556837082,0.074752718210220,-0.089755184948444,-0.024477256461978,0.271086990833282,-0.007580719422549,0.008735157549381,-0.124875068664551,-0.003732155542821,-0.095187298953533,-0.074126601219177,-0.034993514418602,0.131224840879440,0.068032085895538,0.144845485687256));
return max(float4(0,0,0,0), res);
}
