sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003695725463331,0.029681731015444,-0.053464952856302,0.049711182713509,0.071098700165749,0.044284868985415,0.014382022432983,-0.027565984055400,-0.012246940284967,-0.106203608214855,0.031009083613753,-0.017305741086602,0.020316980779171,0.004866288509220,-0.083649680018425,0.006094986572862));
res += mul(Get(s0,-dx,0), float4x4(-0.051220539957285,0.024074051529169,0.089192353188992,-0.016392668709159,-0.036339506506920,0.060680136084557,0.015290623530746,-0.005257578101009,-0.025221277028322,-0.012220345437527,0.051002860069275,-0.118619672954082,-0.014063365757465,-0.029699204489589,-0.023619009181857,-0.002708503510803));
res += mul(Get(s0,-dx,dy), float4x4(-0.013056588359177,-0.117239311337471,-0.002525514690205,0.027941705659032,-0.028068447485566,-0.004641423467547,0.038010284304619,0.018844714388251,-0.074890457093716,0.066798470914364,-0.069478489458561,-0.109842188656330,-0.055374935269356,-0.009245079942048,0.081736527383327,-0.012320833280683));
res += mul(Get(s0,0,-dy), float4x4(0.022901292890310,0.003652870887890,-0.120818749070168,-0.072592228651047,0.069570831954479,0.072863064706326,-0.113340981304646,-0.038137987256050,-0.016935832798481,0.027139319106936,0.078324429690838,0.086651816964149,-0.029134333133698,0.008821328170598,0.176397919654846,-0.133639961481094));
res += mul(Get(s0,0,0), float4x4(-0.059113852679729,0.138148412108421,0.123298048973083,0.045166224241257,-0.022750606760383,-0.043796312063932,-0.024107750505209,-0.038224045187235,0.027939250692725,-0.009108283556998,0.045060526579618,0.010563139803708,-0.015821650624275,-0.024623807519674,0.318850219249725,0.049504473805428));
res += mul(Get(s0,0,dy), float4x4(-0.057180348783731,-0.076917372643948,0.006539949681610,-0.012172568589449,-0.010671774856746,-0.051821924746037,-0.045670282095671,0.011101405136287,0.018600216135383,-0.096100360155106,-0.040752716362476,0.031374283134937,-0.091704413294792,-0.030168237164617,0.004724803380668,0.060219049453735));
res += mul(Get(s0,dx,-dy), float4x4(0.018127962946892,-0.061453327536583,0.029448887333274,-0.016728442162275,0.060396421700716,0.021852646023035,-0.054164491593838,0.128668442368507,0.105898894369602,-0.012469870038331,0.077979102730751,-0.022847637534142,-0.041500490158796,0.035535741597414,-0.048046521842480,-0.036097738891840));
res += mul(Get(s0,dx,0), float4x4(0.030692860484123,0.031499903649092,0.187708571553230,-0.021510073915124,-0.048610471189022,-0.017757371068001,-0.090541370213032,0.064935147762299,0.083539038896561,0.029647795483470,-0.196972578763962,0.200613960623741,0.017483111470938,-0.037026491016150,-0.065388910472393,0.060786407440901));
res += mul(Get(s0,dx,dy), float4x4(-0.018296100199223,-0.112821951508522,-0.085960879921913,0.000753292406444,-0.051673490554094,0.062072683125734,-0.093506462872028,0.024003878235817,-0.025101810693741,-0.106657512485981,-0.011074096895754,0.005524161271751,0.030352074652910,0.003944071009755,-0.097344629466534,-0.026209447532892));
res += mul(Get(s1,-dx,-dy), float4x4(0.093893110752106,-0.024452332407236,-0.024070821702480,0.196994379162788,0.007084109820426,-0.009748163633049,0.015854472294450,0.008667715825140,-0.010328443720937,0.183097258210182,0.024322060868144,0.061821464449167,-0.096405014395714,-0.085270665585995,-0.053452931344509,0.025537524372339));
res += mul(Get(s1,-dx,0), float4x4(-0.056660879403353,-0.001535363844596,0.037792138755322,-0.059458926320076,-0.000506394484546,-0.038565374910831,-0.005735383834690,-0.033567670732737,-0.042923483997583,0.036403603851795,0.045687116682529,-0.061291232705116,0.003917964175344,-0.105445027351379,-0.001873233471997,0.108522266149521));
res += mul(Get(s1,-dx,dy), float4x4(-0.008956143632531,-0.030834492295980,0.045288059860468,-0.055680464953184,-0.065754212439060,0.035707890987396,-0.050818577408791,0.041730336844921,0.025804478675127,-0.022452369332314,0.003296225098893,0.002099953824654,0.020752688869834,0.007952910847962,0.011984543874860,-0.006825891323388));
res += mul(Get(s1,0,-dy), float4x4(0.054640877991915,-0.077164217829704,0.002929421607405,-0.033766709268093,0.098400264978409,-0.041793905198574,0.100966200232506,0.045368790626526,0.044542092829943,0.135757699608803,-0.066004306077957,0.015888737514615,-0.063674852252007,0.029127815738320,0.200093477964401,0.084989160299301));
res += mul(Get(s1,0,0), float4x4(0.010832275263965,-0.071751721203327,0.038849119096994,0.055587001144886,0.089570730924606,-0.024179385975003,0.004583382047713,-0.152362555265427,-0.110937923192978,0.080875173211098,-0.106941483914852,0.115919455885887,0.119062624871731,0.046922821551561,-0.033799603581429,0.001321757095866));
res += mul(Get(s1,0,dy), float4x4(0.026909315958619,-0.080256588757038,-0.057080604135990,0.146888241171837,0.034520301967859,-0.032306991517544,-0.129516199231148,-0.015847427770495,-0.092143379151821,-0.007905934005976,-0.200092881917953,0.000494283449370,0.031538616865873,0.056101750582457,-0.104470059275627,-0.043394591659307));
res += mul(Get(s1,dx,-dy), float4x4(-0.039344403892756,0.007145617622882,0.017457040026784,-0.016511291265488,0.090976223349571,0.012520047836006,-0.002883459674194,-0.020919652655721,-0.007923347875476,-0.038676373660564,0.015994876623154,-0.069719754159451,0.043404910713434,-0.022752081975341,-0.050266336649656,-0.023868972435594));
res += mul(Get(s1,dx,0), float4x4(0.100410506129265,0.050398088991642,-0.034511681646109,0.093143284320831,-0.057066835463047,-0.015013869851828,-0.097218282520771,-0.040052957832813,-0.047577686607838,0.067427411675453,-0.045994956046343,0.034653987735510,0.132608488202095,-0.017107153311372,-0.120596192777157,-0.068938530981541));
res += mul(Get(s1,dx,dy), float4x4(-0.106756895780563,0.068734526634216,-0.002301358152181,-0.021468371152878,-0.064045555889606,0.037705935537815,-0.113979317247868,0.075762920081615,0.059067353606224,0.113209038972855,-0.184925049543381,-0.044053494930267,0.196267411112785,-0.083457805216312,-0.201317638158798,-0.012340230867267));
res += mul(Get(s2,-dx,-dy), float4x4(-0.115047879517078,-0.063596710562706,-0.039375614374876,-0.125505089759827,-0.043131340295076,-0.041891042143106,0.046783447265625,-0.004861829336733,-0.052017737179995,0.003628322621807,0.085314571857452,-0.126612067222595,-0.001495815347880,-0.002009247895330,0.047348573803902,-0.070674933493137));
res += mul(Get(s2,-dx,0), float4x4(-0.033441249281168,-0.060996256768703,0.129779860377312,0.034895729273558,0.071795687079430,-0.073708914220333,0.052699360996485,-0.024766480550170,0.031289007514715,-0.015520367771387,0.075355596840382,-0.024198601022363,-0.014068815857172,-0.001558105461299,0.027041453868151,-0.005229152739048));
res += mul(Get(s2,-dx,dy), float4x4(-0.048330392688513,0.027724480256438,0.185526162385941,0.090548135340214,-0.027621526271105,-0.029152775183320,0.092263177037239,0.069247305393219,0.067320540547371,-0.123359382152557,0.037476640194654,-0.027445975691080,0.027084155008197,0.037506435066462,-0.017491772770882,0.121447175741196));
res += mul(Get(s2,0,-dy), float4x4(0.079918138682842,-0.089140437543392,0.036333743482828,-0.017511550337076,0.163040071725845,-0.021695788949728,-0.067229047417641,0.063017465174198,-0.042439848184586,0.181832447648048,-0.013127136975527,0.195432722568512,0.104260832071304,0.109986715018749,0.018736226484179,0.081161744892597));
res += mul(Get(s2,0,0), float4x4(0.004914631135762,-0.038915239274502,-0.006665280088782,-0.016117112711072,-0.045474182814360,-0.064129576086998,0.083946891129017,0.090037785470486,-0.092846281826496,0.099738545715809,0.041884131729603,0.070572607219219,0.021568430587649,0.045579861849546,0.004904977045953,0.035119161009789));
res += mul(Get(s2,0,dy), float4x4(0.075530514121056,0.026293154805899,-0.160516604781151,-0.035413172096014,-0.067897394299507,-0.042141396552324,0.074525721371174,-0.081807255744934,-0.029573863372207,0.117127485573292,0.007176249288023,0.003564803861082,-0.108790688216686,-0.007660689298064,-0.023184319958091,-0.010682404041290));
res += mul(Get(s2,dx,-dy), float4x4(0.035023588687181,-0.056648559868336,0.010076228529215,0.023435750976205,0.106675259768963,-0.035809513181448,0.000311494979542,0.076598197221756,0.027843700721860,0.025000579655170,0.004447673913091,0.066852055490017,-0.048756640404463,0.074443683028221,0.015363469719887,0.044862043112516));
res += mul(Get(s2,dx,0), float4x4(0.028063936159015,-0.036856759339571,0.054875947535038,0.062198881059885,0.042225766927004,-0.098318561911583,-0.095242515206337,0.000799329776783,0.002171350875869,-0.003566175699234,0.016747795045376,-0.014600963331759,0.003202715655789,0.026202216744423,-0.001156430458650,0.052329525351524));
res += mul(Get(s2,dx,dy), float4x4(-0.080215416848660,-0.055683724582195,-0.017924251034856,-0.037092942744493,-0.087021179497242,-0.018299765884876,-0.092250369489193,0.016797868534923,0.045317430049181,0.029497817158699,0.000590854382608,0.043233551084995,-0.019508825615048,0.025408031418920,-0.012612716294825,-0.080221347510815));
res += mul(Get(s3,-dx,-dy), float4x4(-0.044100057333708,0.000648188637570,0.029469270259142,0.009862220846117,0.020087797194719,0.053725618869066,-0.038156904280186,-0.044059988111258,-0.044302716851234,0.096212677657604,0.050074227154255,0.006633549463004,0.057808130979538,0.020196251571178,0.059914682060480,0.075086176395416));
res += mul(Get(s3,-dx,0), float4x4(0.003632982028648,0.037944938987494,0.078568376600742,0.079636588692665,-0.071397662162781,-0.070802003145218,-0.064379207789898,0.038477350026369,0.045815035700798,0.062371581792831,0.018186846747994,0.169860973954201,-0.035545103251934,0.006823296193033,-0.033503662794828,-0.046508688479662));
res += mul(Get(s3,-dx,dy), float4x4(-0.008477986790240,-0.056341826915741,0.035618860274553,0.069290839135647,-0.016919255256653,-0.042927905917168,-0.085282720625401,0.048631563782692,-0.052516393363476,0.112412072718143,0.028677336871624,-0.036371003836393,-0.024320000782609,0.050336986780167,-0.025333637371659,-0.040227897465229));
res += mul(Get(s3,0,-dy), float4x4(0.070009455084801,-0.006113196257502,-0.078054226934910,0.161037951707840,-0.008796433918178,0.084282346069813,-0.046803031116724,0.045194923877716,0.105070084333420,0.002206951845437,0.132738381624222,0.015511839650571,-0.009417213499546,-0.052097097039223,0.075369857251644,-0.046179480850697));
res += mul(Get(s3,0,0), float4x4(0.026268878951669,-0.049616999924183,0.123733863234520,0.046001009643078,-0.000910568516701,-0.036929529160261,-0.145835369825363,-0.022257300093770,0.020058933645487,-0.062960065901279,0.030238436535001,-0.027681289240718,-0.019688103348017,-0.062987603247166,0.103159874677658,-0.009846808388829));
res += mul(Get(s3,0,dy), float4x4(-0.048237737268209,0.104135245084763,-0.020869059488177,0.063386850059032,-0.036729767918587,0.047459166496992,-0.015045633539557,0.015981411561370,0.092639818787575,0.012056643143296,0.040758818387985,-0.064889624714851,-0.032276142388582,-0.034143093973398,-0.021232949569821,0.023503348231316));
res += mul(Get(s3,dx,-dy), float4x4(0.106379151344299,0.086282625794411,-0.018425757065415,0.063532561063766,-0.077894188463688,-0.006212168373168,-0.017340095713735,0.042133584618568,0.065093547105789,-0.001208652509376,0.021006505936384,0.053884342312813,0.023623108863831,-0.064758062362671,0.044777911156416,-0.021632798016071));
res += mul(Get(s3,dx,0), float4x4(-0.000280035223113,-0.002793793333694,-0.006285269744694,0.025567136704922,-0.007180602289736,-0.141859576106071,0.050624433904886,-0.061469268053770,-0.052588369697332,-0.026032136753201,0.072712510824203,-0.060945332050323,0.008954782038927,-0.028656568378210,-0.010160995647311,-0.080603681504726));
res += mul(Get(s3,dx,dy), float4x4(-0.129961147904396,0.175009489059448,-0.377942383289337,0.034849222749472,-0.035479433834553,-0.040047988295555,-0.166680186986923,0.001375201507472,0.036037411540747,-0.052483394742012,-0.045588515698910,0.045256014913321,-0.030195474624634,-0.014434709213674,-0.037945330142975,-0.017114400863647));
return max(float4(0,0,0,0), res);
}
