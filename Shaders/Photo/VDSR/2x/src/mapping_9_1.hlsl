sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.197827443480492,-0.048776607960463,-0.016898263245821,0.115839451551437,0.043654732406139,0.139528617262840,0.061498291790485,0.003684298368171,-0.081382498145103,0.056122299283743,0.134536549448967,-0.191256046295166,-0.019175963476300,0.000625223794486,0.026810327544808,-0.119442060589790));
res += mul(Get(s0,-dx,0), float4x4(0.028958356007934,-0.082135088741779,-0.091836102306843,0.145802646875381,0.076207868754864,-0.055856831371784,0.048421695828438,-0.022959429770708,0.015657605603337,0.057171586900949,-0.019440341740847,-0.048954084515572,0.049960371106863,0.024098463356495,0.064433678984642,-0.178108930587769));
res += mul(Get(s0,-dx,dy), float4x4(-0.112177595496178,0.049370538443327,0.006802422460169,0.063632644712925,0.141104787588120,0.071855597198009,-0.078472420573235,0.017124934121966,0.020722301676869,-0.036522716283798,0.028374260291457,0.060707714408636,0.012141713872552,-0.051142595708370,0.046911064535379,-0.200835958123207));
res += mul(Get(s0,0,-dy), float4x4(-0.088351964950562,-0.046200435608625,-0.036607071757317,-0.063089005649090,-0.111866317689419,-0.138917431235313,-0.031108090654016,0.028257660567760,-0.044950596988201,0.036020170897245,0.087808012962341,0.082386963069439,-0.147075459361076,0.138347595930099,-0.123327724635601,-0.087404057383537));
res += mul(Get(s0,0,0), float4x4(0.169323965907097,-0.049026757478714,0.009792580269277,-0.020625092089176,-0.108353421092033,-0.055515233427286,0.033290967345238,0.051743213087320,-0.061014108359814,0.117562018334866,-0.014098389074206,0.003742132103071,-0.036158345639706,0.048025328665972,0.130108907818794,-0.142838329076767));
res += mul(Get(s0,0,dy), float4x4(0.023292038589716,0.046670060604811,-0.059284292161465,0.125705316662788,0.019113447517157,-0.046535436064005,0.013141294941306,0.034952670335770,0.012083887122571,0.013977492228150,-0.094162791967392,-0.017596701160073,-0.003139971522614,0.014631669968367,0.002450801664963,-0.012642767280340));
res += mul(Get(s0,dx,-dy), float4x4(-0.097727887332439,0.030482374131680,-0.054016377776861,0.046191837638617,-0.026982471346855,0.058519646525383,0.003325559198856,0.076785303652287,0.001364722033031,-0.060254868119955,0.084826111793518,0.147061169147491,-0.038766510784626,-0.001715301186778,0.046593096107244,0.069386586546898));
res += mul(Get(s0,dx,0), float4x4(0.006968915462494,0.083465427160263,-0.029976790770888,-0.019531499594450,-0.155429929494858,0.175625532865524,0.118477031588554,0.051507860422134,0.107827924191952,0.042646735906601,-0.018492221832275,-0.032294139266014,-0.077816486358643,0.054709803313017,0.271944403648376,-0.038543730974197));
res += mul(Get(s0,dx,dy), float4x4(-0.045126728713512,0.033558242022991,-0.053529329597950,-0.035465724766254,-0.208007752895355,0.300378024578094,-0.076709024608135,0.058180842548609,0.105996191501617,0.022355575114489,0.100876785814762,0.056970857083797,-0.026577876880765,0.010051763616502,0.022605435922742,-0.074583023786545));
res += mul(Get(s1,-dx,-dy), float4x4(-0.050165444612503,0.071407377719879,-0.036390364170074,-0.199121281504631,-0.029310384765267,-0.059013694524765,-0.041111003607512,0.029220324009657,-0.100202135741711,0.004900844302028,0.120737299323082,-0.055037315934896,0.054186873137951,0.056449733674526,-0.037745214998722,0.050625842064619));
res += mul(Get(s1,-dx,0), float4x4(0.059930413961411,0.095562122762203,-0.073935791850090,-0.132550552487373,-0.028966177254915,-0.030867347493768,0.078390210866928,-0.081615723669529,0.080880187451839,-0.027977677062154,-0.028508327901363,-0.064451850950718,0.006723543629050,0.048413265496492,0.064283326268196,-0.116859912872314));
res += mul(Get(s1,-dx,dy), float4x4(-0.098218850791454,0.015242452733219,-0.088722541928291,-0.006196056492627,0.049852266907692,-0.008393765427172,0.006551591679454,-0.124915510416031,-0.045317780226469,-0.039428584277630,-0.122671514749527,0.089989013969898,0.073066428303719,0.123320668935776,0.005989458411932,-0.087096318602562));
res += mul(Get(s1,0,-dy), float4x4(-0.003331765765324,-0.033974524587393,0.064820744097233,-0.002027540933341,0.084074512124062,-0.023940289393067,-0.036404427140951,0.057001184672117,-0.066607579588890,-0.041627161204815,0.037714257836342,0.100448660552502,0.058638442307711,-0.029558252543211,-0.054549958556890,0.105288833379745));
res += mul(Get(s1,0,0), float4x4(0.038342911750078,0.199994951486588,0.028049357235432,-0.009473579935730,-0.011032426729798,-0.012496322393417,0.142234057188034,-0.081549502909184,0.031736306846142,0.009496307931840,-0.053054336458445,0.058943584561348,0.068468995392323,0.032988447695971,-0.034210842102766,0.009820867329836));
res += mul(Get(s1,0,dy), float4x4(0.055077634751797,-0.081380590796471,-0.003693216480315,-0.092315793037415,-0.049964036792517,-0.005043260287493,-0.024445291608572,-0.074832960963249,0.004626914393157,0.028172500431538,-0.130039215087891,0.051053520292044,0.033537559211254,0.139073342084885,0.022507585585117,0.020944222807884));
res += mul(Get(s1,dx,-dy), float4x4(0.038399454206228,-0.131482705473900,-0.030624451115727,0.052940402179956,-0.110455498099327,-0.060277577489614,0.019442761316895,0.055637687444687,0.051370929926634,-0.015319908969104,-0.000547244795598,-0.024759626016021,0.009052980691195,-0.009002570994198,0.028006386011839,0.093730367720127));
res += mul(Get(s1,dx,0), float4x4(0.022965498268604,0.149796560406685,0.091051347553730,-0.011312258429825,-0.130182951688766,0.096974551677704,0.012662911787629,0.043370012193918,0.097558379173279,-0.108828686177731,0.025928869843483,-0.006900052074343,0.036796793341637,-0.044232394546270,0.029298769310117,-0.088190868496895));
res += mul(Get(s1,dx,dy), float4x4(-0.059098385274410,-0.014077644795179,-0.000099891673017,-0.029469296336174,-0.075479894876480,0.021735135465860,0.075335673987865,-0.030130153521895,0.013367722742260,-0.051361437886953,0.111628547310829,-0.012943904846907,-0.007231662981212,0.027870859950781,-0.093739025294781,-0.067639753222466));
res += mul(Get(s2,-dx,-dy), float4x4(-0.022292813286185,-0.012125080451369,0.043593686074018,-0.029184086248279,-0.074361972510815,0.063888236880302,0.036915656179190,0.105824336409569,-0.000575842568651,0.049051228910685,-0.040524613112211,-0.025447567924857,0.123835995793343,-0.062773704528809,0.055356554687023,-0.079398021101952));
res += mul(Get(s2,-dx,0), float4x4(0.073188900947571,0.012659225612879,-0.007558419834822,0.071972265839577,-0.030346687883139,-0.023589340969920,-0.031694084405899,0.110244840383530,0.099491946399212,0.098219282925129,-0.004294447135180,-0.106757685542107,0.119498454034328,0.041358575224876,-0.002877836581320,-0.157303884625435));
res += mul(Get(s2,-dx,dy), float4x4(0.022164987400174,-0.126755908131599,0.099607586860657,0.091855570673943,-0.087143249809742,-0.028282906860113,-0.036794543266296,-0.104982547461987,0.007150531746447,-0.002709483494982,-0.006737692281604,-0.098199360072613,-0.012633330188692,-0.010201428085566,-0.001442499691620,-0.283694654703140));
res += mul(Get(s2,0,-dy), float4x4(0.039819199591875,-0.005946839693934,0.152903810143471,0.131319910287857,-0.003867899999022,-0.036268275231123,0.016318244859576,0.116663537919521,0.130993500351906,-0.047075591981411,-0.000227816330153,0.086440883576870,-0.130223587155342,0.002563945250586,-0.056325934827328,-0.034320399165154));
res += mul(Get(s2,0,0), float4x4(0.001673848601058,0.076116152107716,0.052966110408306,0.068943150341511,0.142643332481384,0.038132384419441,0.014928210526705,0.160177186131477,0.202709183096886,-0.048925109207630,0.064712263643742,0.002291125711054,0.033813528716564,0.104740388691425,-0.008206732571125,0.085253998637199));
res += mul(Get(s2,0,dy), float4x4(0.019746454432607,-0.088000886142254,0.026421429589391,-0.108814574778080,0.011378507129848,-0.011853774078190,0.018447853624821,0.220010936260223,0.090474329888821,-0.135176122188568,-0.066892720758915,-0.015168360434473,0.034091353416443,0.125050753355026,0.136584535241127,0.070992901921272));
res += mul(Get(s2,dx,-dy), float4x4(0.018672546371818,0.059516355395317,0.038276314735413,0.022409398108721,-0.072404257953167,-0.117775820195675,-0.121192574501038,-0.032098930329084,-0.139000773429871,0.024303736165166,-0.036663193255663,0.075332134962082,-0.159070223569870,-0.072494745254517,0.036474131047726,0.024788293987513));
res += mul(Get(s2,dx,0), float4x4(0.025158707052469,-0.019635492935777,-0.010190505534410,0.038580499589443,0.007451087702066,-0.068571008741856,0.121214091777802,-0.036407042294741,-0.023517955094576,0.047157537192106,0.038097828626633,0.142562210559845,-0.015601422637701,-0.028309607878327,0.057207223027945,-0.036915078759193));
res += mul(Get(s2,dx,dy), float4x4(-0.028291901573539,0.073637358844280,0.006612010765821,-0.086845934391022,-0.053308025002480,-0.032517369836569,-0.063942432403564,0.079652957618237,0.008578189648688,0.109550014138222,-0.026744060218334,-0.096510462462902,0.028906792402267,0.062561556696892,0.021210672333837,-0.028308212757111));
res += mul(Get(s3,-dx,-dy), float4x4(0.006028372794390,-0.008898157626390,0.056323822587729,0.039539035409689,0.023451669141650,-0.014196231029928,-0.145139962434769,-0.139519646763802,-0.074007749557495,-0.052756361663342,-0.046922862529755,0.023371931165457,0.025799604132771,0.081895217299461,0.081357426941395,0.162441521883011));
res += mul(Get(s3,-dx,0), float4x4(-0.031454700976610,0.053067393600941,0.002133702160791,0.112887844443321,-0.106112822890282,-0.045243378728628,0.029083212837577,-0.101410463452339,0.082179620862007,0.062456745654345,0.057096876204014,0.007702360395342,-0.045868042856455,0.025144003331661,0.027669791132212,0.050267413258553));
res += mul(Get(s3,-dx,dy), float4x4(-0.023324809968472,-0.040008183568716,-0.007139377295971,0.100602895021439,0.000187210796867,0.139161601662636,-0.077927626669407,-0.030355773866177,-0.056287571787834,-0.102219916880131,0.107384510338306,-0.025419970974326,0.044900242239237,-0.003542909631506,0.029673825949430,-0.058257721364498));
res += mul(Get(s3,0,-dy), float4x4(0.039867881685495,-0.072928950190544,-0.045800097286701,-0.043847955763340,0.118697553873062,-0.035577293485403,-0.014132690615952,-0.055119287222624,-0.108292751014233,0.024005867540836,-0.045235365629196,0.038382608443499,0.056145880371332,0.059048186987638,0.081814728677273,-0.008727070875466));
res += mul(Get(s3,0,0), float4x4(0.065736509859562,-0.011843380518258,-0.003519267775118,0.040720116347075,-0.135126993060112,-0.062505401670933,0.193704411387444,-0.090166740119457,-0.049838859587908,0.109093509614468,0.120606496930122,-0.094815313816071,-0.025438189506531,-0.019729446619749,0.005180207546800,0.026396026834846));
res += mul(Get(s3,0,dy), float4x4(0.005327508319169,-0.038693524897099,-0.130678102374077,-0.001948241260834,-0.071176029741764,0.057935521006584,-0.047614160925150,-0.034256894141436,-0.112206533551216,-0.007199656683952,0.046284019947052,-0.012551635503769,0.072922490537167,-0.012370800599456,0.033748369663954,0.051104288548231));
res += mul(Get(s3,dx,-dy), float4x4(-0.092025309801102,0.050966352224350,0.003054549684748,0.014441360719502,0.165739446878433,0.198719725012779,-0.142047747969627,-0.048421368002892,0.121422462165356,-0.075397126376629,-0.057434666901827,0.056556172668934,0.100582577288151,0.073720604181290,0.006974469870329,0.018220396712422));
res += mul(Get(s3,dx,0), float4x4(-0.071730390191078,0.070039227604866,-0.063810475170612,-0.014248470775783,0.169277876615524,-0.217280924320221,0.031887311488390,-0.086727790534496,0.107203759253025,0.065019950270653,-0.022142009809613,-0.031645141541958,0.077679634094238,0.025180092081428,0.016845162957907,0.006348506081849));
res += mul(Get(s3,dx,dy), float4x4(0.122441582381725,-0.163701370358467,-0.180228099226952,-0.006294101476669,0.191500023007393,-0.079297140240669,-0.143734455108643,-0.011991372331977,0.039278216660023,-0.087871409952641,-0.008292153477669,0.037887271493673,-0.014731848612428,0.033200558274984,0.051643766462803,-0.127340003848076));
return max(float4(0,0,0,0), res);
}
