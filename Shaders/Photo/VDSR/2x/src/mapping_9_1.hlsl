sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000415166083258,0.022618325427175,-0.027890833094716,-0.013367356732488,-0.044787235558033,-0.199815049767494,-0.170816078782082,0.116509534418583,0.204466357827187,0.035331849008799,0.078232839703560,-0.130419135093689,0.091254048049450,-0.120065674185753,0.080170877277851,0.101985193789005));
res += mul(Get(s0,-dx,0), float4x4(-0.026278123259544,0.087233595550060,0.167075619101524,0.234782084822655,-0.145844370126724,0.047829501330853,-0.203046023845673,-0.008752391673625,-0.014902681112289,-0.066583409905434,-0.039246384054422,0.101344473659992,-0.114070340991020,-0.227989301085472,0.014052191749215,-0.209351673722267));
res += mul(Get(s0,-dx,dy), float4x4(0.033547699451447,0.112627759575844,-0.068158671259880,-0.047394786030054,0.041194580495358,0.003968136850744,-0.053694680333138,0.018243525177240,0.070590034127235,0.001893031527288,-0.159789174795151,-0.048663120716810,0.056915190070868,0.013456935994327,-0.002638454083353,0.004900868982077));
res += mul(Get(s0,0,-dy), float4x4(0.164879634976387,0.159672603011131,0.092722252011299,-0.119600653648376,-0.011781116947532,0.016725501045585,-0.109974369406700,-0.052726257592440,0.144206061959267,0.141913175582886,0.061548601835966,0.050724681466818,-0.030739096924663,0.113158807158470,0.093846820294857,0.113105900585651));
res += mul(Get(s0,0,0), float4x4(-0.068302720785141,0.140420675277710,0.103582419455051,-0.114407785236835,-0.174955815076828,-0.051245972514153,0.004119335673749,-0.150456443428993,-0.029145808890462,-0.029980810359120,0.111076407134533,0.028856268152595,0.071476519107819,0.003546871012077,0.118568845093250,-0.321236491203308));
res += mul(Get(s0,0,dy), float4x4(-0.003973474260420,0.106894582509995,-0.049946285784245,-0.022637836635113,0.041153755038977,-0.125723779201508,-0.050668910145760,-0.007448171731085,-0.044674824923277,-0.130205363035202,-0.031630408018827,-0.133067458868027,0.002628877991810,-0.059414029121399,0.090347625315189,-0.014010080136359));
res += mul(Get(s0,dx,-dy), float4x4(-0.056898146867752,-0.065686352550983,0.068351820111275,0.176217272877693,0.019701220095158,-0.022817177698016,-0.232713147997856,-0.134690091013908,-0.083974190056324,0.066460847854614,-0.151222974061966,0.106307648122311,-0.056979790329933,0.217232868075371,0.068363562226295,-0.018237037584186));
res += mul(Get(s0,dx,0), float4x4(-0.058963224291801,0.072101011872292,0.029407564550638,0.133152008056641,0.022508630529046,-0.034533023834229,0.030706901103258,-0.115387886762619,-0.082385674118996,-0.002734835026786,-0.019076855853200,-0.155790552496910,-0.066207908093929,-0.072034791111946,-0.082124806940556,-0.082944221794605));
res += mul(Get(s0,dx,dy), float4x4(0.052722197026014,0.156562313437462,-0.128454700112343,-0.191830769181252,-0.211029186844826,0.148758620023727,-0.084599055349827,0.177588835358620,0.080652669072151,0.058061003684998,0.138073027133942,-0.065219447016716,-0.059273574501276,0.003373411484063,-0.132089227437973,0.058147858828306));
res += mul(Get(s1,-dx,-dy), float4x4(0.094159059226513,0.008340647444129,0.004146725870669,0.121884860098362,0.040160238742828,0.026872845366597,-0.035333130508661,-0.054611459374428,0.093666471540928,0.090465232729912,-0.152249559760094,-0.165494441986084,0.113149993121624,0.030482856556773,-0.012508637271821,0.078069224953651));
res += mul(Get(s1,-dx,0), float4x4(-0.031258393079042,-0.042832255363464,0.093239724636078,0.086302764713764,-0.078144408762455,0.146042376756668,0.112349182367325,0.064005941152573,0.144368603825569,-0.085251778364182,0.077606678009033,-0.060907214879990,-0.192016810178757,-0.113165237009525,0.004290422890335,-0.254303514957428));
res += mul(Get(s1,-dx,dy), float4x4(0.174618199467659,-0.029668182134628,0.046099640429020,0.088091105222702,0.006379626225680,0.198407277464867,0.003978241700679,-0.193523287773132,0.085132874548435,0.077667608857155,-0.033122386783361,-0.016165666282177,-0.225330680608749,-0.003014177549630,0.098056189715862,-0.092132791876793));
res += mul(Get(s1,0,-dy), float4x4(-0.029383640736341,0.046057097613811,0.314388036727905,0.028500819578767,-0.136747390031815,0.062645383179188,0.151931077241898,0.126454144716263,0.060299806296825,0.043405018746853,-0.042493395507336,-0.135495960712433,-0.015814140439034,0.146745905280113,0.109410010278225,-0.122985497117043));
res += mul(Get(s1,0,0), float4x4(-0.056373279541731,-0.195052385330200,-0.084519572556019,-0.056003656238317,-0.151572957634926,0.043369252234697,0.058920133858919,0.047797769308090,-0.091021150350571,-0.055983722209930,0.003583885263652,0.095280431210995,-0.082672350108624,0.038350399583578,-0.060587007552385,0.118781842291355));
res += mul(Get(s1,0,dy), float4x4(-0.147782251238823,0.097473114728928,-0.144964858889580,-0.139790818095207,0.020297056064010,-0.174975246191025,-0.064463458955288,0.076335042715073,0.148482680320740,-0.061629846692085,-0.162838324904442,-0.040629561990499,-0.292232900857925,-0.115225724875927,0.174142882227898,0.014334551990032));
res += mul(Get(s1,dx,-dy), float4x4(-0.085308015346527,0.173460245132446,0.026149233803153,-0.035620979964733,-0.016462758183479,0.161393493413925,-0.103992208838463,0.032265909016132,0.163255438208580,-0.016804985702038,0.150496110320091,0.090730100870132,0.046058923006058,-0.004733216483146,-0.010104959830642,0.112915232777596));
res += mul(Get(s1,dx,0), float4x4(0.044368799775839,0.113955758512020,0.034899204969406,-0.033694155514240,-0.061291351914406,0.136861890554428,-0.027605814859271,-0.083181202411652,0.071824610233307,-0.017900241538882,0.124394439160824,0.003681945381686,-0.002645252505317,0.063129171729088,0.017733821645379,0.010694907046854));
res += mul(Get(s1,dx,dy), float4x4(-0.019462672993541,-0.026170644909143,0.165579050779343,0.123204842209816,0.048654004931450,0.101809062063694,-0.027980536222458,-0.104807369410992,0.046427402645350,-0.134975925087929,0.040082484483719,0.102671541273594,0.000784043397289,-0.019786322489381,-0.045508068054914,0.249176219105721));
res += mul(Get(s2,-dx,-dy), float4x4(-0.052276913076639,-0.041380926966667,-0.106859691441059,0.117107450962067,-0.059868242591619,-0.084926672279835,-0.086702652275562,0.014804569073021,0.218865841627121,-0.078713305294514,0.167940884828568,0.175749361515045,0.109389178454876,0.014555036090314,0.021465044468641,0.028399443253875));
res += mul(Get(s2,-dx,0), float4x4(0.086444810032845,-0.068596661090851,0.040658012032509,-0.020855456590652,0.183589190244675,0.049843173474073,-0.064364679157734,-0.028239581733942,-0.075139731168747,0.337924063205719,-0.043664533644915,0.086973085999489,0.099723316729069,-0.045685257762671,0.104099661111832,-0.224939420819283));
res += mul(Get(s2,-dx,dy), float4x4(-0.120006531476974,0.105136573314667,0.089017041027546,0.105907298624516,0.066862910985947,0.020583143457770,0.140181094408035,-0.122931145131588,-0.100640647113323,0.089452654123306,0.055917084217072,0.115739330649376,-0.156717509031296,-0.023422440513968,-0.012277144938707,0.130850434303284));
res += mul(Get(s2,0,-dy), float4x4(0.017989953979850,-0.024346409365535,-0.011104338802397,0.145647644996643,-0.047431726008654,0.173536345362663,-0.110689491033554,0.112700439989567,0.102044582366943,0.187418699264526,-0.049647748470306,0.032375257462263,0.025398423895240,0.233540073037148,-0.006389402318746,-0.112241096794605));
res += mul(Get(s2,0,0), float4x4(0.007502616383135,-0.084423199295998,0.030841095373034,-0.071830131113529,-0.176761016249657,0.247360333800316,0.106949053704739,0.053333625197411,0.141184151172638,-0.101523272693157,-0.000639290374238,-0.109994083642960,-0.065405003726482,0.002778538735583,-0.087043873965740,0.000696372415405));
res += mul(Get(s2,0,dy), float4x4(-0.058235276490450,0.021301427856088,0.066852971911430,-0.073583185672760,-0.112719282507896,-0.169316157698631,-0.147314295172691,-0.161709651350975,0.076239995658398,0.034122865647078,0.032670952379704,-0.015147980302572,-0.086526148021221,0.150204613804817,0.009803405031562,0.056064572185278));
res += mul(Get(s2,dx,-dy), float4x4(-0.076843880116940,-0.213107869029045,-0.006104905623943,-0.120940417051315,-0.194224581122398,-0.060413721948862,-0.070762269198895,0.072882063686848,0.002192563842982,-0.054401729255915,0.005701030138880,0.030925419181585,-0.204360097646713,-0.065582804381847,-0.022311344742775,-0.073865756392479));
res += mul(Get(s2,dx,0), float4x4(0.069446697831154,0.155622020363808,-0.153070822358131,0.006386740133166,-0.184502661228180,0.107353627681732,0.058619119226933,0.157366618514061,0.019362742081285,-0.018270902335644,0.139785051345825,-0.085504062473774,0.025306854397058,-0.100613258779049,0.057944886386395,0.140993952751160));
res += mul(Get(s2,dx,dy), float4x4(0.171903505921364,0.002545519266278,0.004584989044815,0.138415262103081,0.081428140401840,0.019302356988192,-0.132810965180397,-0.213825643062592,-0.083766669034958,-0.052503116428852,0.057638518512249,0.021274201571941,0.020514396950603,0.103503413498402,-0.098667897284031,0.036769527941942));
res += mul(Get(s3,-dx,-dy), float4x4(0.322327017784119,0.103846266865730,-0.004363570362329,0.048391167074442,-0.013914205133915,0.008033320307732,0.075947284698486,0.078902475535870,-0.039373312145472,-0.003116392996162,0.036875147372484,-0.100146345794201,-0.108016580343246,0.060347691178322,0.061763834208250,0.021277014166117));
res += mul(Get(s3,-dx,0), float4x4(0.073737554252148,0.069927647709846,0.090987145900726,-0.156043365597725,-0.064162880182266,-0.088862597942352,0.043985005468130,-0.108323581516743,0.095587477087975,-0.177545100450516,-0.047372113913298,-0.080898813903332,-0.013860167935491,0.259922862052917,0.010881735943258,-0.211056008934975));
res += mul(Get(s3,-dx,dy), float4x4(-0.069920331239700,-0.008628266863525,0.029202880337834,-0.128468364477158,0.167896553874016,-0.023516498506069,0.137100532650948,0.102503925561905,0.025341002270579,0.098475515842438,0.025173416361213,-0.003226651344448,0.183663085103035,0.243779078125954,0.096770964562893,0.124129705131054));
res += mul(Get(s3,0,-dy), float4x4(-0.118533380329609,-0.226624801754951,0.124952465295792,0.085319578647614,-0.011816297657788,-0.023329934105277,0.015365579165518,-0.098208494484425,-0.073094271123409,-0.075405381619930,-0.064027436077595,-0.059657931327820,-0.022282399237156,0.129341393709183,0.140824973583221,-0.034851308912039));
res += mul(Get(s3,0,0), float4x4(-0.092152290046215,0.053128655999899,-0.050145052373409,0.123255923390388,0.016353005543351,0.140570670366287,-0.045692138373852,0.019912764430046,0.054678820073605,-0.071047611534595,0.007793386466801,-0.163291200995445,-0.121532864868641,-0.030269568786025,0.016639033332467,-0.013686833903193));
res += mul(Get(s3,0,dy), float4x4(0.044197041541338,-0.135510608553886,0.137214928865433,0.114726394414902,0.028461745008826,-0.054043170064688,0.045269500464201,-0.092706464231014,-0.113859482109547,-0.122190669178963,-0.174632668495178,0.152351170778275,-0.011097331531346,0.004451083485037,-0.098339624702930,-0.170791134238243));
res += mul(Get(s3,dx,-dy), float4x4(0.164975583553314,-0.080643475055695,-0.010904848575592,0.162764415144920,0.124201945960522,0.092944480478764,-0.177782952785492,-0.173638850450516,-0.071525916457176,0.087486743927002,0.051352802664042,-0.050506826490164,-0.162258356809616,0.059423595666885,0.039634674787521,-0.003179718274623));
res += mul(Get(s3,dx,0), float4x4(-0.034844413399696,-0.120615422725677,0.150836661458015,0.083814121782780,0.043197710067034,0.003911171108484,0.043434057384729,-0.077690273523331,0.104363508522511,-0.085814535617828,-0.155737355351448,0.152147039771080,0.019901659339666,-0.102190367877483,-0.182608813047409,-0.098887585103512));
res += mul(Get(s3,dx,dy), float4x4(0.036692779511213,-0.298373132944107,0.138750150799751,-0.059954170137644,-0.205968871712685,-0.124366492033005,0.029313165694475,0.049382004886866,-0.009050019085407,0.090421393513680,-0.110409334301949,-0.005398900248110,0.090443216264248,0.228535071015358,-0.032342713326216,-0.117569804191589));
return max(float4(0,0,0,0), res);
}
