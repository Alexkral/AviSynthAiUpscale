sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.164034605026245,0.010272767394781,0.248928636312485,0.189977049827576,-0.055303245782852,-0.129771053791046,-0.007171037606895,-0.003808856010437,0.085911408066750,-0.028630210086703,0.028974207118154,0.126201480627060,-0.060101721435785,-0.125340074300766,-0.105620220303535,0.162565365433693));
res += mul(Get(s0,-dx,0), float4x4(-0.025620849803090,0.166512504220009,-0.134083926677704,-0.075714871287346,-0.113436177372932,0.181443229317665,-0.014490196481347,-0.066101394593716,-0.071566544473171,0.126351907849312,0.133329659700394,0.066022083163261,-0.146798223257065,0.218243837356567,0.084703229367733,0.046758264303207));
res += mul(Get(s0,-dx,dy), float4x4(0.040767822414637,-0.055265754461288,0.164239659905434,0.029305737465620,0.022862272337079,0.099845267832279,0.005615824833512,-0.140311896800995,0.036465123295784,0.082266464829445,0.059342287480831,-0.047339182347059,0.116571344435215,0.074648320674896,0.095446653664112,-0.139686629176140));
res += mul(Get(s0,0,-dy), float4x4(-0.010726017877460,0.048733055591583,-0.023155480623245,-0.055381111800671,-0.028041452169418,0.023233028128743,0.098448321223259,-0.033487830311060,0.025784106925130,0.024390788748860,-0.027329768985510,0.016215378418565,0.032181229442358,0.032035730779171,0.016664449125528,-0.174084618687630));
res += mul(Get(s0,0,0), float4x4(0.181734099984169,0.083266451954842,-0.113163478672504,0.021704318001866,0.072850838303566,-0.027536636218429,-0.061295650899410,0.122696571052074,-0.004308330360800,-0.045901127159595,0.056566197425127,0.037719234824181,0.094940245151520,0.033733811229467,0.068333327770233,0.042498435825109));
res += mul(Get(s0,0,dy), float4x4(0.106379613280296,0.057156614959240,-0.115683816373348,-0.159661874175072,-0.095544509589672,-0.145967215299606,-0.016399329528213,0.119441755115986,0.058652468025684,-0.270643144845963,0.098281271755695,0.076129406690598,0.025282401591539,0.214648500084877,-0.196911409497261,0.192531064152718));
res += mul(Get(s0,dx,-dy), float4x4(-0.131806612014771,-0.020663427188993,-0.172891557216644,-0.103522881865501,-0.023799993097782,-0.027657520025969,-0.096674621105194,0.152858793735504,0.141325369477272,0.153570979833603,0.105137981474400,-0.006761194206774,-0.098300360143185,-0.173976093530655,-0.054743837565184,-0.139103919267654));
res += mul(Get(s0,dx,0), float4x4(-0.029073970392346,0.008533451706171,0.061804056167603,0.005071449093521,0.028368184342980,-0.047664787620306,0.129928335547447,-0.006551194004714,0.045521799474955,0.127377688884735,0.032536007463932,0.084436163306236,-0.165117442607880,0.010776513256133,-0.090205825865269,-0.004495061002672));
res += mul(Get(s0,dx,dy), float4x4(0.134816125035286,-0.225435882806778,0.078330591320992,0.136724531650543,0.071653515100479,0.175187036395073,-0.165029406547546,0.008409200236201,-0.067080251872540,-0.007382842246443,0.130486428737640,-0.010324097238481,-0.082576565444469,-0.103491365909576,-0.127696335315704,0.127550989389420));
res += mul(Get(s1,-dx,-dy), float4x4(-0.101363182067871,-0.043605189770460,0.046728435903788,0.068460345268250,-0.051569651812315,-0.012690806761384,-0.045133911073208,-0.091496132314205,0.041773408651352,0.011535991914570,-0.055805183947086,0.069086618721485,0.060717023909092,0.079215079545975,0.017006689682603,-0.079357147216797));
res += mul(Get(s1,-dx,0), float4x4(0.058832783252001,-0.060469038784504,-0.155177101492882,0.173945277929306,0.091874152421951,-0.096929095685482,-0.066819556057453,0.053011152893305,0.041750084608793,-0.071754790842533,0.117991797626019,-0.013434965163469,0.045597925782204,0.083235628902912,-0.140339061617851,-0.065411791205406));
res += mul(Get(s1,-dx,dy), float4x4(0.106303952634335,0.134901583194733,-0.025660872459412,0.150126084685326,-0.274661988019943,-0.006799560505897,0.187514185905457,0.005071897991002,0.090307213366032,-0.132082343101501,0.038601409643888,-0.087103970348835,0.126500368118286,0.052715655416250,-0.141618445515633,0.003293570131063));
res += mul(Get(s1,0,-dy), float4x4(0.019701797515154,-0.003612261964008,0.062455791980028,-0.120273277163506,0.032072033733130,0.011977781541646,0.010040367953479,0.009604314342141,0.161577686667442,0.004928056616336,0.029499229043722,-0.039963521063328,-0.046040128916502,-0.005942336749285,-0.080361708998680,0.023078003898263));
res += mul(Get(s1,0,0), float4x4(-0.070904389023781,0.026504019275308,0.056900035589933,0.088684804737568,0.032720252871513,0.059950385242701,0.228952899575233,-0.084053881466389,-0.024147352203727,0.043264131993055,0.016781976446509,-0.032906416803598,0.055674768984318,0.035636458545923,0.080619908869267,0.050952319055796));
res += mul(Get(s1,0,dy), float4x4(-0.060398772358894,-0.005567227955908,0.014209862798452,0.020861163735390,-0.052413150668144,0.119999058544636,-0.169534698128700,-0.094440072774887,-0.083830803632736,-0.073974490165710,0.040292743593454,0.123261570930481,-0.048509292304516,0.106344945728779,-0.088667899370193,-0.031262990087271));
res += mul(Get(s1,dx,-dy), float4x4(0.088915973901749,-0.187986120581627,0.231553941965103,-0.118227399885654,0.144690260291100,0.012308911420405,0.065970323979855,0.020758643746376,-0.178463429212570,0.154312163591385,0.169651880860329,-0.024337287992239,-0.030783252790570,-0.027984282001853,-0.119354575872421,0.017850173637271));
res += mul(Get(s1,dx,0), float4x4(-0.028397120535374,-0.170889317989349,0.122463554143906,-0.006985494401306,0.030815580859780,0.072708785533905,-0.149070739746094,-0.021017421036959,-0.071158453822136,0.184787184000015,-0.025363458320498,0.058419212698936,-0.038355845957994,0.051513381302357,-0.131175592541695,-0.252198934555054));
res += mul(Get(s1,dx,dy), float4x4(0.101132035255432,-0.070356532931328,0.081137798726559,0.158107995986938,-0.286238133907318,0.037974223494530,-0.050015382468700,0.194848179817200,-0.072152398526669,-0.078066214919090,0.115752771496773,0.130269721150398,0.006187865044922,0.023978261277080,-0.076784729957581,-0.006899307016283));
res += mul(Get(s2,-dx,-dy), float4x4(-0.131008699536324,0.034126099199057,0.189063102006912,0.034009527415037,0.076324976980686,0.108057528734207,-0.053881496191025,0.015600945800543,-0.017138643190265,0.069156773388386,0.140998095273972,-0.058305919170380,0.094303496181965,0.028255168348551,0.017796512693167,-0.084741964936256));
res += mul(Get(s2,-dx,0), float4x4(0.100966565310955,0.037475280463696,0.074357777833939,0.064553447067738,0.025151904672384,0.157314926385880,-0.063858136534691,-0.024421857669950,0.149752333760262,0.077206060290337,0.137129336595535,-0.097190245985985,-0.085454799234867,0.099167130887508,0.161821380257607,-0.089624233543873));
res += mul(Get(s2,-dx,dy), float4x4(-0.138015553355217,0.180799454450607,0.108433395624161,-0.113347604870796,-0.045645657926798,-0.175220012664795,-0.043795004487038,0.023101717233658,-0.048171114176512,-0.129544124007225,0.075809337198734,-0.063363999128342,0.036319751292467,-0.007928863167763,-0.048204254359007,-0.060039859265089));
res += mul(Get(s2,0,-dy), float4x4(-0.079235985875130,0.074489839375019,-0.284852087497711,0.006769436411560,0.043212316930294,-0.091695375740528,-0.006459320895374,0.082977600395679,-0.122580327093601,-0.137473642826080,-0.017205528914928,0.046521842479706,0.079648055136204,-0.122730188071728,0.085969150066376,0.132629320025444));
res += mul(Get(s2,0,0), float4x4(-0.066699422895908,-0.289599657058716,0.203272342681885,0.303546905517578,0.039288736879826,-0.048537053167820,-0.035289704799652,-0.000212362836464,0.162366792559624,-0.072900012135506,-0.119156077504158,-0.086870089173317,0.093265265226364,0.033408623188734,0.104980275034904,0.088081985712051));
res += mul(Get(s2,0,dy), float4x4(-0.044504735618830,0.165786623954773,0.063610248267651,0.108699128031731,-0.092094153165817,-0.082829222083092,-0.065504506230354,-0.007372893393040,-0.043633665889502,0.057927019894123,0.004945227410644,0.026193149387836,-0.031154436990619,-0.182435318827629,-0.097958728671074,0.178139328956604));
res += mul(Get(s2,dx,-dy), float4x4(-0.056905999779701,-0.084586344659328,0.050195053219795,-0.098049782216549,-0.239289984107018,0.097179472446442,0.086976982653141,-0.095854431390762,0.091241531074047,-0.011850334703922,0.029537905007601,-0.046015795320272,-0.045079097151756,-0.014218885451555,0.000639551377390,-0.034093569964170));
res += mul(Get(s2,dx,0), float4x4(0.185339808464050,0.102587334811687,-0.147531494498253,-0.083605661988258,-0.007055961992592,-0.048824090510607,0.273075610399246,0.048363622277975,0.160178691148758,-0.163702338933945,-0.214391753077507,0.032921619713306,-0.046726465225220,-0.185334026813507,0.146460950374603,0.015497072599828));
res += mul(Get(s2,dx,dy), float4x4(-0.090859308838844,-0.105403259396553,-0.053505443036556,0.088393524289131,0.012932914309204,0.039336364716291,0.062088347971439,-0.055251806974411,-0.084937579929829,-0.050425708293915,-0.169838786125183,-0.093722417950630,0.023375280201435,-0.036602415144444,-0.210943624377251,0.009132188744843));
res += mul(Get(s3,-dx,-dy), float4x4(0.107786104083061,0.048626173287630,0.126159295439720,0.022852523252368,0.022995287552476,-0.006892865523696,-0.091509647667408,0.046850241720676,0.214705467224121,0.243680745363235,0.026444153860211,0.178260713815689,-0.069398060441017,-0.031012412160635,-0.070886395871639,-0.086163848638535));
res += mul(Get(s3,-dx,0), float4x4(0.079502299427986,0.008730049245059,-0.083831317722797,0.045668307691813,-0.261186599731445,-0.000034061606129,-0.006693520117551,0.118183247745037,0.003373144892976,-0.140886679291725,0.134516417980194,0.051504477858543,-0.099401995539665,0.157197445631027,-0.082052446901798,0.153832554817200));
res += mul(Get(s3,-dx,dy), float4x4(-0.055185388773680,0.029633095487952,0.139892876148224,-0.036926619708538,0.034389533102512,0.088343173265457,-0.018598405644298,-0.206249505281448,-0.021294737234712,-0.113935403525829,0.021117473021150,0.032124329358339,-0.058505743741989,-0.115662686526775,0.235124081373215,0.120808660984039));
res += mul(Get(s3,0,-dy), float4x4(-0.122899562120438,-0.082262754440308,-0.128504127264023,-0.003101298818365,-0.364951848983765,-0.200885728001595,-0.108782686293125,0.096985049545765,0.013580488041043,0.117089368402958,-0.140681684017181,-0.067289739847183,-0.126375600695610,-0.000482673756778,-0.142843455076218,0.042383182793856));
res += mul(Get(s3,0,0), float4x4(-0.152696147561073,0.053488586097956,0.008614872582257,0.072841197252274,0.216153100132942,0.181034982204437,-0.015656819567084,-0.070694051682949,-0.015460579656065,0.038166329264641,-0.226132899522781,0.221458837389946,0.023358860984445,0.078117378056049,-0.117585897445679,-0.071482382714748));
res += mul(Get(s3,0,dy), float4x4(0.055762745440006,-0.087511897087097,0.097606472671032,0.067041404545307,0.091368101537228,0.025661246851087,-0.094921469688416,0.077554158866405,0.034362349659204,-0.135637938976288,0.033822488039732,0.137346506118774,0.117102950811386,-0.239761739969254,0.013597179204226,0.154040619730949));
res += mul(Get(s3,dx,-dy), float4x4(-0.154422610998154,-0.093462996184826,0.008713033981621,-0.111161097884178,-0.011931662447751,-0.081201814115047,-0.093133024871349,-0.183515444397926,-0.073456332087517,0.081943310797215,0.063466869294643,0.072839044034481,-0.068893797695637,0.064240694046021,-0.000622680643573,0.161273434758186));
res += mul(Get(s3,dx,0), float4x4(0.077469237148762,-0.065851092338562,-0.032534200698137,0.059680934995413,0.050888240337372,0.019898805767298,-0.063822209835052,-0.086789593100548,-0.114273123443127,-0.126265332102776,0.124744124710560,-0.101904273033142,-0.093276605010033,-0.127252742648125,-0.065725691616535,0.113601185381413));
res += mul(Get(s3,dx,dy), float4x4(-0.028721498325467,-0.146329224109650,-0.146492630243301,0.042513653635979,-0.230249747633934,-0.180821225047112,0.066688150167465,0.002351134549826,-0.048671469092369,0.095330454409122,-0.124839216470718,-0.014182546176016,-0.113757207989693,-0.060198560357094,-0.234332144260406,-0.117819793522358));
return max(float4(0,0,0,0), res);
}
