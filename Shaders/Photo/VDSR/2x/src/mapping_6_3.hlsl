sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.040175106376410,0.036656495183706,0.155332237482071,0.054282512515783,0.133168220520020,0.011635562404990,-0.089350938796997,0.152871578931808,0.018871571868658,0.079581439495087,0.172791197896004,-0.149425774812698,0.044477425515652,0.012634777463973,-0.104745477437973,0.005792101845145));
res += mul(Get(s0,-dx,0), float4x4(0.100125163793564,-0.001996241742745,0.027868459001184,0.116795025765896,-0.058968748897314,0.095571897923946,-0.065517865121365,0.168706923723221,0.018271844834089,0.099099457263947,0.028981510549784,-0.043959788978100,-0.018707793205976,-0.008578473702073,0.008607836440206,0.038683041930199));
res += mul(Get(s0,-dx,dy), float4x4(0.016872957348824,0.077970415353775,0.031060891225934,-0.070063762366772,0.125361576676369,0.137803360819817,-0.040659584105015,-0.006745007354766,0.075163863599300,0.110119633376598,-0.054230760782957,0.011861003004014,0.074655614793301,0.026068281382322,0.022976873442531,0.006115934345871));
res += mul(Get(s0,0,-dy), float4x4(0.092571116983891,0.011693133041263,-0.096321187913418,0.035277806222439,-0.060249730944633,-0.116536132991314,-0.151226773858070,0.095124229788780,0.131709203124046,-0.109661541879177,0.107869207859039,0.086172886192799,0.001708547817543,0.121620282530785,-0.053640361875296,-0.032995618879795));
res += mul(Get(s0,0,0), float4x4(0.041543051600456,-0.011492592282593,0.047460705041885,0.103331938385963,0.065521478652954,-0.106304928660393,0.037862159311771,0.176322892308235,-0.010156511329114,-0.089292891323566,0.028989259153605,-0.020594112575054,-0.119561463594437,0.224465087056160,-0.148439913988113,-0.090230524539948));
res += mul(Get(s0,0,dy), float4x4(0.003289044834673,-0.095910288393497,0.023703096434474,0.064629830420017,0.187482610344887,-0.022948570549488,0.011940972879529,0.017965907230973,-0.007709207944572,-0.122852765023708,-0.043721497058868,0.004779518116266,-0.060402125120163,0.002628456102684,0.048534885048866,-0.017918575555086));
res += mul(Get(s0,dx,-dy), float4x4(0.029937185347080,-0.130018249154091,-0.035487931221724,-0.057482302188873,-0.072645328938961,-0.143715381622314,-0.001610152074136,-0.026149757206440,-0.077969245612621,-0.089033797383308,-0.060135915875435,-0.013418057002127,0.007189278025180,-0.104256980121136,-0.060801394283772,0.227023690938950));
res += mul(Get(s0,dx,0), float4x4(0.134383603930473,-0.118743002414703,0.072968408465385,0.036562424153090,0.083772093057632,-0.146418765187263,0.068056084215641,0.025675438344479,-0.084137752652168,0.030811807140708,-0.065166234970093,0.157268658280373,-0.031512070447206,0.119581431150436,0.027837293222547,0.047980345785618));
res += mul(Get(s0,dx,dy), float4x4(-0.072514727711678,-0.127088546752930,-0.018980277702212,-0.033041723072529,0.027112696319818,-0.111006803810596,-0.003026984632015,-0.062976755201817,-0.023086553439498,-0.058323219418526,0.059214122593403,0.003957238513976,-0.052833236753941,-0.000982056721114,0.041016988456249,0.041998412460089));
res += mul(Get(s1,-dx,-dy), float4x4(-0.061002321541309,-0.017258508130908,-0.117222666740417,-0.024437252432108,0.043427772819996,0.057352375239134,-0.078191295266151,-0.014396719634533,-0.078401394188404,0.045208122581244,-0.002253715181723,-0.031303402036428,-0.007379374001175,-0.053323931992054,-0.131917268037796,0.028912967070937));
res += mul(Get(s1,-dx,0), float4x4(-0.036563050001860,0.062964484095573,0.041529424488544,-0.086897604167461,-0.158208250999451,0.101640775799751,0.035749502480030,-0.004781743977219,0.045573405921459,0.073409423232079,0.150482922792435,-0.035447407513857,-0.017925953492522,-0.018181784078479,0.029987081885338,0.002483513439074));
res += mul(Get(s1,-dx,dy), float4x4(-0.002018611645326,0.137502431869507,0.021711358800530,-0.043305750936270,0.000148130449816,0.039813738316298,-0.063340261578560,0.078680954873562,-0.021743118762970,-0.006248841527849,0.089888840913773,0.093824259936810,-0.004680893849581,0.085168391466141,0.028038730844855,-0.057017344981432));
res += mul(Get(s1,0,-dy), float4x4(0.112125985324383,-0.085642747581005,0.190590336918831,0.103141583502293,0.109622023999691,0.011881742626429,-0.021310770884156,-0.196728169918060,0.003839907469228,-0.133081018924713,-0.009003760293126,-0.060531981289387,0.083180196583271,-0.066026538610458,-0.117536775767803,-0.033415984362364));
res += mul(Get(s1,0,0), float4x4(-0.035903569310904,0.043387863785028,0.242706924676895,-0.010661182925105,0.285405457019806,-0.085559196770191,0.176514416933060,-0.056562520563602,0.169844150543213,-0.139019399881363,0.179890543222427,-0.077725343406200,0.043707475066185,-0.138132497668266,0.012458072043955,-0.010092356242239));
res += mul(Get(s1,0,dy), float4x4(-0.034824553877115,0.005720020737499,0.025633608922362,0.004227151628584,0.017008649185300,0.050734221935272,-0.063574954867363,0.085744723677635,0.155080273747444,-0.080459661781788,-0.039798866957426,-0.005465173162520,-0.037879906594753,-0.055591981858015,0.055641502141953,0.074598878622055));
res += mul(Get(s1,dx,-dy), float4x4(0.049431115388870,0.007597031537443,0.072975628077984,-0.111677668988705,-0.042253389954567,0.089237950742245,0.052047885954380,0.059404198080301,0.028984664008021,-0.028688516467810,0.025898318737745,-0.032492548227310,-0.043064344674349,-0.076330490410328,-0.003181187435985,-0.059459518641233));
res += mul(Get(s1,dx,0), float4x4(0.198199942708015,0.044194743037224,0.077369324862957,-0.081758961081505,-0.078714936971664,0.038118291646242,0.173187553882599,0.049340885132551,0.009014581330121,-0.131846040487289,-0.034553319215775,-0.027630731463432,0.009830441325903,-0.076345428824425,0.033386100083590,-0.037316691130400));
res += mul(Get(s1,dx,dy), float4x4(-0.013964674435556,0.097705788910389,-0.039072275161743,-0.049085915088654,0.096013210713863,0.118453837931156,0.037575569003820,0.008704270236194,0.011867612600327,-0.199964076280594,-0.047586929053068,0.068427786231041,-0.024451710283756,-0.121524035930634,-0.019971853122115,0.030033206567168));
res += mul(Get(s2,-dx,-dy), float4x4(0.025898315012455,-0.015535293146968,0.022311037406325,0.095711961388588,-0.043039660900831,0.069191664457321,-0.012564824894071,-0.117531754076481,-0.143341675400734,0.045909613370895,0.087027236819267,-0.112344264984131,-0.056885953992605,0.098061397671700,-0.086737766861916,0.027634849771857));
res += mul(Get(s2,-dx,0), float4x4(-0.005705914925784,0.056006409227848,0.050743874162436,0.083815254271030,0.043654318898916,-0.037550568580627,-0.021206224337220,-0.048414021730423,-0.015791850164533,0.027306493371725,0.009596378542483,-0.049210019409657,0.051455397158861,0.037434071302414,-0.096375495195389,0.128029882907867));
res += mul(Get(s2,-dx,dy), float4x4(-0.000102406127553,-0.001325675635599,-0.084527768194675,0.073017872869968,-0.026277067139745,0.142220884561539,-0.024120651185513,-0.101264290511608,-0.078753687441349,-0.049362186342478,0.019315304234624,0.055031567811966,0.022258769720793,0.146002635359764,0.064155310392380,0.038904316723347));
res += mul(Get(s2,0,-dy), float4x4(-0.104711502790451,-0.002072068629786,0.049360811710358,0.032542087137699,-0.004829069599509,0.119334146380424,0.013829597271979,-0.056295350193977,-0.072121217846870,0.100911155343056,0.038099456578493,0.002147512976080,0.032467186450958,-0.060891155153513,-0.057194717228413,-0.127052739262581));
res += mul(Get(s2,0,0), float4x4(0.000440058938693,0.032418455928564,-0.020023835822940,0.032010294497013,0.074109591543674,0.158655181527138,0.094194337725639,-0.045183338224888,0.027731116861105,-0.081357762217522,0.090875007212162,0.016695247963071,0.085310898721218,-0.060921661555767,0.000295091769658,-0.036234322935343));
res += mul(Get(s2,0,dy), float4x4(0.031530387699604,-0.066409133374691,0.013260503299534,0.073513522744179,-0.000827706651762,0.077293246984482,0.012397290207446,-0.021567899733782,-0.085172377526760,-0.117141246795654,0.019406802952290,-0.010600212030113,0.126904055476189,-0.113055907189846,-0.095299273729324,-0.007373095024377));
res += mul(Get(s2,dx,-dy), float4x4(0.022154584527016,-0.071389652788639,-0.003840448101982,-0.008195561356843,-0.112106926739216,0.016143744811416,-0.048094525933266,-0.112309709191322,0.019574552774429,0.038916941732168,0.027700919657946,-0.069427281618118,0.002657284261659,-0.023319568485022,0.118091166019440,0.059570934623480));
res += mul(Get(s2,dx,0), float4x4(0.029836125671864,-0.093328662216663,0.016572171822190,-0.050720047205687,-0.043116819113493,0.012855421751738,0.161006093025208,-0.109299235045910,0.046820092946291,-0.004519317764789,-0.018688652664423,-0.123370490968227,-0.078132040798664,-0.030846336856484,-0.052965722978115,0.029396904632449));
res += mul(Get(s2,dx,dy), float4x4(0.079377971589565,-0.124305985867977,-0.125170290470123,0.042200654745102,-0.001543349935673,0.129081785678864,-0.128401905298233,0.026567706838250,0.114144563674927,-0.027528792619705,-0.000630956550594,-0.069652684032917,-0.007627035491168,-0.200290039181709,-0.064831547439098,-0.057773873209953));
res += mul(Get(s3,-dx,-dy), float4x4(-0.036654900759459,0.047867681831121,0.011783950030804,0.027253514155746,-0.058848768472672,0.011034392751753,0.026857936754823,-0.002973634283990,-0.057640373706818,-0.013816121034324,0.050293590873480,-0.080924980342388,-0.081758730113506,0.032068140804768,-0.093272693455219,-0.095069341361523));
res += mul(Get(s3,-dx,0), float4x4(0.030545696616173,0.137920185923576,0.105216450989246,-0.054525479674339,-0.044658377766609,0.006413335446268,-0.077995993196964,0.002442725002766,0.022608002647758,-0.009660388343036,0.068457297980785,-0.000294179859338,0.251618862152100,0.125564530491829,-0.105047754943371,-0.016411062330008));
res += mul(Get(s3,-dx,dy), float4x4(-0.049345672130585,-0.014372636564076,0.091861978173256,0.109411418437958,0.052252765744925,0.074175179004669,-0.020497934892774,-0.092050112783909,-0.116626255214214,-0.016112331300974,0.015705727040768,0.080847963690758,-0.053489070385695,0.004442078992724,0.009203985333443,-0.051455315202475));
res += mul(Get(s3,0,-dy), float4x4(-0.001614889595658,0.119140878319740,-0.023017873987556,0.063587464392185,-0.063338823616505,-0.035536702722311,-0.048024453222752,0.156625151634216,-0.038255359977484,-0.007307519204915,0.090524263679981,-0.050133820623159,-0.044564884155989,0.015801006928086,-0.021040961146355,-0.013731471262872));
res += mul(Get(s3,0,0), float4x4(0.050384379923344,0.048940688371658,0.164060249924660,0.071319282054901,-0.137878909707069,-0.148292928934097,-0.063458815217018,0.235310912132263,-0.086406409740448,-0.005156394559890,-0.090002372860909,-0.026674335822463,0.051713854074478,0.064865119755268,-0.077695511281490,0.087886855006218));
res += mul(Get(s3,0,dy), float4x4(-0.019784379750490,0.041551601141691,-0.023183995857835,-0.013854750432074,-0.013948586769402,-0.010767677798867,0.113721482455730,-0.068669542670250,-0.007635320536792,-0.023939045146108,-0.005436684936285,-0.077017314732075,-0.009856585413218,0.020336290821433,-0.018035484477878,-0.021722314879298));
res += mul(Get(s3,dx,-dy), float4x4(-0.106611758470535,0.007710322737694,-0.039741218090057,-0.004298144485801,-0.052335999906063,0.052751842886209,-0.001130288350396,-0.111604467034340,-0.149036467075348,-0.044997539371252,0.052428461611271,0.003386921714991,0.053685706108809,-0.025056215003133,-0.066624864935875,-0.069633267819881));
res += mul(Get(s3,dx,0), float4x4(0.086730010807514,-0.061896640807390,0.023899113759398,0.071431629359722,-0.078108705580235,-0.003601773874834,-0.057093534618616,-0.059107869863510,-0.079853422939777,-0.125199332833290,-0.017912296578288,0.132605522871017,0.028984265401959,0.133173093199730,-0.053879693150520,0.143903702497482));
res += mul(Get(s3,dx,dy), float4x4(-0.060005269944668,-0.087475202977657,-0.031395368278027,-0.009401058778167,-0.067213810980320,-0.044303786009550,0.005423668306321,0.021451830863953,-0.112228803336620,-0.150446310639381,0.022611299529672,-0.060235168784857,-0.055572498589754,-0.079788193106651,-0.090639837086201,-0.085058964788914));
return max(float4(0,0,0,0), res);
}
