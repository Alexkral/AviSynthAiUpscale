sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.009197718463838,0.071468353271484,0.020395096391439,0.018550284206867,-0.067453093826771,0.160998478531837,0.134414583444595,-0.020070903003216,-0.216592058539391,0.142432242631912,-0.145371347665787,-0.067897811532021,0.078203387558460,0.087647177278996,-0.054793633520603,0.148571670055389));
res += mul(Get(s0,-dx,0), float4x4(-0.060594126582146,0.004405533429235,-0.253126561641693,-0.113482832908630,0.191664695739746,-0.169283449649811,0.090592950582504,0.119069933891296,-0.065499871969223,-0.012061608023942,-0.013696656562388,-0.255057573318481,-0.049242395907640,0.052666332572699,0.170457243919373,-0.054488357156515));
res += mul(Get(s0,-dx,dy), float4x4(0.012738700956106,-0.131366059184074,0.060974422842264,0.088528990745544,0.129437208175659,-0.087200254201889,0.183632805943489,0.006183361634612,-0.083452753722668,-0.005391882732511,0.014888176694512,-0.076549641788006,0.060188461095095,0.071184299886227,0.089105263352394,0.139734148979187));
res += mul(Get(s0,0,-dy), float4x4(0.125494375824928,-0.085995651781559,0.139230713248253,-0.052296724170446,0.002532997168601,-0.072737246751785,-0.036909867078066,0.074759364128113,-0.188104242086411,-0.204967319965363,-0.138550400733948,-0.151386693120003,0.013085732236505,0.082720614969730,-0.118418082594872,-0.066057965159416));
res += mul(Get(s0,0,0), float4x4(-0.015135736204684,-0.070284858345985,0.113886527717113,0.127005964517593,0.042203132063150,0.098614946007729,-0.041550394147635,0.020509853959084,-0.165135517716408,0.067129358649254,0.018774604424834,0.038062885403633,-0.076232522726059,-0.221381172537804,0.050423700362444,0.094790346920490));
res += mul(Get(s0,0,dy), float4x4(-0.137599036097527,-0.031626414507627,0.014399372972548,0.072256691753864,-0.228220611810684,0.001165210851468,-0.023224009200931,0.029242904856801,-0.064928740262985,0.077294893562794,-0.097118824720383,-0.105822540819645,0.041883151978254,-0.140006303787231,-0.109631501138210,0.166931554675102));
res += mul(Get(s0,dx,-dy), float4x4(0.019827403128147,0.071066133677959,0.095781825482845,-0.124526552855968,-0.192995622754097,0.034324035048485,-0.036000438034534,0.009858394041657,0.017350753769279,0.008604663424194,-0.176824748516083,-0.119185283780098,0.094170153141022,-0.149082943797112,-0.007791250478476,-0.169613108038902));
res += mul(Get(s0,dx,0), float4x4(-0.021727591753006,-0.070136696100235,0.011095832102001,-0.052170220762491,0.034058235585690,-0.020887408405542,0.108357794582844,-0.177729874849319,0.038352195173502,-0.028636608272791,0.030131960287690,-0.116940349340439,0.096513792872429,-0.101058930158615,-0.125501811504364,0.051281820982695));
res += mul(Get(s0,dx,dy), float4x4(0.082689233124256,-0.128842741250992,0.048026453703642,-0.034213174134493,-0.199295639991760,-0.001674591563642,-0.084193028509617,0.054340884089470,0.138528853654861,-0.098298072814941,0.023960743099451,-0.026410566642880,-0.031072748824954,-0.059538580477238,-0.178295031189919,0.131127670407295));
res += mul(Get(s1,-dx,-dy), float4x4(-0.077300444245338,0.061329782009125,-0.005360788200051,-0.025567552074790,-0.025038251653314,-0.077789716422558,-0.264064043760300,-0.104578629136086,0.056754488497972,-0.183148205280304,0.125979557633400,0.098295375704765,-0.099745132029057,0.034886691719294,-0.141225025057793,-0.085655465722084));
res += mul(Get(s1,-dx,0), float4x4(-0.114425733685493,0.044845938682556,0.128813788294792,-0.065754733979702,0.209185361862183,-0.157491013407707,-0.036630664020777,0.047801729291677,-0.048421092331409,0.097991749644279,0.053982362151146,-0.069636531174183,0.053457718342543,-0.028687868267298,-0.006858041975647,0.060506019741297));
res += mul(Get(s1,-dx,dy), float4x4(0.139192476868629,0.006650755647570,0.133966505527496,0.183091387152672,-0.058325849473476,-0.004188732244074,-0.084492303431034,0.025440214201808,0.136155918240547,0.020094390958548,0.178074449300766,-0.038469273597002,0.141640752553940,0.002940255450085,-0.098929710686207,-0.111292421817780));
res += mul(Get(s1,0,-dy), float4x4(-0.045627661049366,-0.071536771953106,-0.057862598448992,0.058485254645348,-0.173485264182091,0.087422080338001,-0.022190708667040,-0.088881172239780,-0.131798788905144,0.114274404942989,0.109677396714687,-0.061461582779884,-0.228873476386070,-0.257071375846863,-0.165616035461426,0.104885645210743));
res += mul(Get(s1,0,0), float4x4(-0.128127560019493,0.120270214974880,0.034965362399817,0.083497598767281,-0.007439624518156,0.113522499799728,0.072095990180969,0.063428387045860,-0.116785436868668,0.035669054836035,-0.147917777299881,0.159013226628304,0.114697128534317,-0.065175376832485,0.048695072531700,-0.009354551322758));
res += mul(Get(s1,0,dy), float4x4(-0.152266502380371,-0.010893428698182,0.053803257644176,-0.043960135430098,0.050268683582544,0.006597003899515,-0.040576264262199,-0.124398060142994,0.073945097625256,-0.137781962752342,0.033051963895559,0.124152213335037,-0.026961114257574,0.098724737763405,0.200676187872887,-0.113739967346191));
res += mul(Get(s1,dx,-dy), float4x4(-0.135249823331833,0.207407668232918,0.078404404222965,-0.139382049441338,0.084456011652946,-0.007372518535703,-0.086370661854744,0.034573618322611,-0.063321128487587,0.017861915752292,-0.098524972796440,-0.084358379244804,0.116993546485901,0.096538022160530,-0.042427279055119,0.106424674391747));
res += mul(Get(s1,dx,0), float4x4(-0.034645397216082,-0.024520849809051,0.031712632626295,0.130987554788589,-0.069271974265575,-0.093015186488628,-0.045509990304708,0.086875125765800,-0.039369773119688,-0.050078865140676,0.073592990636826,0.044501300901175,-0.055811427533627,0.062406867742538,-0.058129567652941,-0.252390235662460));
res += mul(Get(s1,dx,dy), float4x4(0.024328853935003,0.114620357751846,0.050546996295452,-0.038913980126381,0.028345096856356,0.147898450493813,-0.060738876461983,-0.147117510437965,0.039660334587097,0.075034283101559,0.117524482309818,-0.121394112706184,0.051961012184620,0.072523854672909,-0.007940681651235,-0.060374651104212));
res += mul(Get(s2,-dx,-dy), float4x4(0.007674667518586,0.012061506509781,0.001198728452437,0.186418518424034,-0.069121286273003,-0.302811741828918,0.018355067819357,-0.039332699030638,-0.034910622984171,-0.084368348121643,-0.030504206195474,0.047744806855917,-0.026975126937032,0.073403440415859,-0.093296542763710,-0.012053403072059));
res += mul(Get(s2,-dx,0), float4x4(-0.022291949018836,0.064419977366924,-0.075103916227818,0.074006356298923,-0.062945507466793,-0.057409457862377,-0.045990899205208,0.055763393640518,-0.143125176429749,-0.079093515872955,-0.054423704743385,0.025202551856637,-0.012091330252588,0.151486769318581,0.103119343519211,0.054953813552856));
res += mul(Get(s2,-dx,dy), float4x4(-0.115922361612320,-0.241274937987328,0.040336251258850,0.261613041162491,-0.102140627801418,0.042892917990685,-0.031408723443747,0.137516900897026,-0.027793850749731,0.114444807171822,-0.032867260277271,-0.082972630858421,0.074652448296547,-0.030917296186090,-0.161411717534065,0.066566385328770));
res += mul(Get(s2,0,-dy), float4x4(-0.087596677243710,-0.170482218265533,-0.170688390731812,-0.024187434464693,0.055358082056046,0.096481144428253,0.214319705963135,-0.167858645319939,-0.142163321375847,-0.109893150627613,0.027173850685358,-0.055482402443886,0.105803124606609,-0.017869222909212,-0.178107872605324,-0.059595167636871));
res += mul(Get(s2,0,0), float4x4(0.015136169269681,0.173470839858055,0.275024235248566,-0.016447359696031,0.071163102984428,-0.074411332607269,0.030880250036716,-0.018605027347803,-0.043495498597622,-0.049100846052170,-0.192685499787331,-0.018329482525587,0.037734370678663,0.162297084927559,0.043429628014565,0.003203344531357));
res += mul(Get(s2,0,dy), float4x4(-0.015508322976530,0.011819672770798,-0.030568385496736,0.214152365922928,-0.080136075615883,-0.077051132917404,-0.005773185752332,0.011407401412725,-0.032099779695272,0.216144084930420,0.034915145486593,-0.168723642826080,0.079236820340157,-0.035298943519592,0.055728003382683,-0.039260189980268));
res += mul(Get(s2,dx,-dy), float4x4(0.076930612325668,-0.163634330034256,-0.106089368462563,-0.166456729173660,-0.063818208873272,0.078160502016544,-0.241968944668770,0.154825985431671,0.117761917412281,-0.056073818355799,0.204014182090759,0.148633405566216,-0.128867551684380,0.031051093712449,0.027660328894854,-0.014855608344078));
res += mul(Get(s2,dx,0), float4x4(-0.010800522752106,-0.003737731836736,-0.113732174038887,-0.032225150614977,0.069957867264748,0.050253961235285,-0.105624258518219,-0.012097674421966,0.079352527856827,0.055235490202904,0.052518304437399,-0.065718829631805,-0.002732195658609,-0.072515189647675,-0.276184052228928,-0.112740702927113));
res += mul(Get(s2,dx,dy), float4x4(0.035075742751360,-0.118138790130615,0.118576042354107,0.111780591309071,-0.104148119688034,0.042887099087238,-0.176442354917526,-0.193893343210220,-0.019282542169094,0.038974005728960,-0.021483264863491,-0.028012240305543,-0.075933203101158,0.155655696988106,0.171478003263474,0.071289695799351));
res += mul(Get(s3,-dx,-dy), float4x4(0.137031927704811,0.193252861499786,-0.024670256301761,0.061412412673235,-0.139957532286644,-0.023775437846780,-0.109731495380402,0.038219951093197,-0.030293416231871,-0.039974562823772,0.025219863280654,0.070242889225483,0.134389996528625,0.149508059024811,0.019582495093346,0.032531205564737));
res += mul(Get(s3,-dx,0), float4x4(0.163916125893593,-0.059992626309395,-0.062923617660999,0.166420206427574,-0.024701708927751,0.180528476834297,-0.191482871770859,0.086092233657837,-0.006019113119692,0.020113619044423,0.052283156663179,-0.071797326207161,-0.142954453825951,-0.081681013107300,-0.047485932707787,-0.184710159897804));
res += mul(Get(s3,-dx,dy), float4x4(0.189433038234711,0.045636273920536,0.121480673551559,0.059181634336710,-0.119024790823460,-0.146129161119461,0.106119118630886,-0.072013072669506,-0.015368011780083,-0.031637866050005,-0.043700717389584,0.143446847796440,0.005563550628722,-0.047809708863497,-0.059783402830362,0.077620185911655));
res += mul(Get(s3,0,-dy), float4x4(0.123502641916275,-0.168934971094131,0.036553930491209,-0.154706925153732,-0.006906147580594,-0.020660541951656,0.056271068751812,0.066770046949387,0.030543547123671,-0.089341737329960,-0.044180743396282,-0.084570258855820,-0.033261168748140,0.078643232584000,-0.093364000320435,-0.022351030260324));
res += mul(Get(s3,0,0), float4x4(0.032739747315645,0.058119889348745,0.009118045680225,-0.022127350792289,-0.034672047942877,-0.159962236881256,0.156394526362419,0.042381525039673,0.026293285191059,-0.034301199018955,-0.128095194697380,0.184169426560402,0.039588771760464,-0.036036524921656,0.110844746232033,0.051273733377457));
res += mul(Get(s3,0,dy), float4x4(-0.190591841936111,0.034397378563881,-0.018281215801835,0.123751007020473,0.094760254025459,0.027565510943532,0.091025054454803,-0.119347169995308,0.016421398147941,-0.046000920236111,0.031919728964567,-0.011854756623507,0.064173534512520,0.100025571882725,-0.223306357860565,-0.175804272294044));
res += mul(Get(s3,dx,-dy), float4x4(-0.055995520204306,0.039394319057465,0.003917437046766,0.167367070913315,-0.081252865493298,-0.040555093437433,-0.097888283431530,-0.017381321638823,-0.126850485801697,0.057337667793036,-0.122698478400707,-0.074590094387531,0.048510700464249,0.067740373313427,0.042199984192848,-0.150470778346062));
res += mul(Get(s3,dx,0), float4x4(0.141202449798584,-0.097407065331936,-0.103148691356182,-0.059500817209482,-0.146863862872124,0.025503449141979,-0.122285887598991,0.029546463862062,-0.016798967495561,0.106895163655281,0.104702264070511,-0.034385699778795,0.188669234514236,-0.130071699619293,-0.035271413624287,0.126461192965508));
res += mul(Get(s3,dx,dy), float4x4(-0.081845156848431,0.039279729127884,-0.084891051054001,0.203551173210144,0.084524333477020,0.008660646155477,-0.096504710614681,-0.052665956318378,0.001065997639671,-0.188396185636520,-0.014512122608721,-0.163956776261330,-0.036373060196638,-0.089034304022789,0.124803058803082,0.117217712104321));
return max(float4(0,0,0,0), res);
}
