sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000725174089894,-0.065251432359219,0.024168659001589,-0.096546858549118,-0.044994045048952,-0.015330558642745,0.191397383809090,0.026079712435603,0.002809234661981,-0.047807164490223,-0.054861038923264,0.141885012388229,-0.117073915898800,-0.052028689533472,-0.109074816107750,0.001683584414423));
res += mul(Get(s0,-dx,0), float4x4(0.042456604540348,-0.032133087515831,0.183256253600121,0.090783841907978,0.341972440481186,-0.075793385505676,0.130673065781593,0.154612764716148,0.027071412652731,0.034159872680902,-0.061825539916754,0.015191627666354,-0.027398010715842,0.197052344679832,-0.082465842366219,-0.039846453815699));
res += mul(Get(s0,-dx,dy), float4x4(0.032976474612951,-0.102647788822651,-0.177900522947311,0.015981376171112,0.080581419169903,-0.101625047624111,0.072077721357346,0.042889378964901,-0.091611057519913,0.053233180195093,0.004882432986051,0.043432343751192,-0.003723150584847,0.018785884603858,0.048624493181705,-0.061798192560673));
res += mul(Get(s0,0,-dy), float4x4(-0.004489419516176,0.020831981673837,0.019507031887770,0.216974198818207,0.113810785114765,-0.126320987939835,-0.030781293287873,-0.178756207227707,-0.060560967773199,0.076637439429760,-0.053239654749632,0.001794068841264,-0.071023605763912,0.070837423205376,-0.048949450254440,-0.116607747972012));
res += mul(Get(s0,0,0), float4x4(0.046815805137157,0.092589698731899,0.052903853356838,0.223120018839836,0.154453292489052,-0.096293784677982,-0.018352884799242,0.062290661036968,0.136232912540436,0.176825553178787,0.078120350837708,0.185296654701233,-0.018134282901883,-0.065496921539307,-0.012616666965187,-0.106528624892235));
res += mul(Get(s0,0,dy), float4x4(-0.000042473879148,0.009831449948251,0.063805297017097,-0.006507321726531,-0.086458526551723,0.020275011658669,0.009036798030138,0.019931716844440,-0.022262677550316,-0.044881965965033,-0.021052068099380,-0.047900490462780,0.025750359520316,-0.080701634287834,-0.051834158599377,-0.109982170164585));
res += mul(Get(s0,dx,-dy), float4x4(0.081710696220398,0.039245247840881,-0.051225747913122,0.001724877511151,0.033812850713730,0.034229569137096,0.093590520322323,-0.007415861357003,-0.243348047137260,0.041935417801142,-0.004516423679888,0.122104309499264,-0.002314281417057,0.020523300394416,0.025456564500928,0.004482939839363));
res += mul(Get(s0,dx,0), float4x4(0.150487408041954,-0.039357841014862,-0.103517331182957,0.041922055184841,0.147524714469910,0.120125547051430,0.021726833656430,-0.051401291042566,0.117185734212399,0.121128581464291,0.069110587239265,0.159285873174667,-0.091657422482967,0.007805282715708,0.022604648023844,-0.009866300970316));
res += mul(Get(s0,dx,dy), float4x4(-0.148233920335770,0.002758148824796,-0.081196352839470,-0.100730367004871,0.041536547243595,-0.037004496902227,-0.014338801614940,-0.085209488868713,-0.058736294507980,0.054379835724831,-0.010694502852857,0.104751005768776,-0.075076900422573,0.032197378575802,0.074349157512188,0.041381068527699));
res += mul(Get(s1,-dx,-dy), float4x4(0.116257019340992,0.108294479548931,-0.017305329442024,-0.137467846274376,-0.076334699988365,-0.048797413706779,-0.039403211325407,-0.086244814097881,-0.184235438704491,0.037600710988045,-0.026456428691745,0.003308812389150,0.060162268579006,0.078614056110382,-0.139855459332466,-0.075949549674988));
res += mul(Get(s1,-dx,0), float4x4(0.130717173218727,0.141241386532784,0.085294909775257,-0.039237622171640,-0.013280386105180,-0.020095981657505,-0.002684365957975,-0.166399404406548,-0.090701505541801,-0.040201365947723,0.062503412365913,0.021030019968748,0.000979955075309,-0.126714780926704,0.237963974475861,-0.050878845155239));
res += mul(Get(s1,-dx,dy), float4x4(0.092801734805107,0.199351996183395,-0.061821844428778,-0.107026249170303,0.099496461451054,0.006155530456454,-0.080112375319004,-0.179079949855804,-0.070376075804234,0.038897190243006,0.045496154576540,0.092611499130726,0.011578963138163,-0.046904716640711,0.070297673344612,-0.060161903500557));
res += mul(Get(s1,0,-dy), float4x4(-0.053314261138439,-0.080776236951351,-0.071397505700588,0.033297121524811,-0.030016267672181,-0.050378207117319,0.135173231363297,0.023059178143740,-0.057200737297535,0.095242634415627,-0.103526473045349,-0.003005365142599,-0.062729626893997,-0.092640608549118,-0.027915010228753,-0.081521704792976));
res += mul(Get(s1,0,0), float4x4(-0.015796232968569,-0.073486767709255,-0.027673581615090,0.020949326455593,-0.027176100760698,0.020381750538945,0.061317507177591,0.010715901851654,0.190573185682297,-0.000870893243700,-0.097722858190536,0.002055432880297,-0.055886924266815,-0.121845833957195,-0.035928595811129,-0.040217742323875));
res += mul(Get(s1,0,dy), float4x4(0.067090138792992,0.131241038441658,-0.137351661920547,0.056685663759708,0.098758518695831,-0.041164781898260,0.018868016079068,0.011174261569977,0.105692721903324,0.063439153134823,-0.020486423745751,-0.006427185609937,0.049913249909878,-0.089855797588825,-0.008054603822529,0.009214961901307));
res += mul(Get(s1,dx,-dy), float4x4(-0.107212014496326,0.117828384041786,0.011563193984330,0.017726738005877,-0.056298993527889,-0.050257112830877,0.050559241324663,0.064629368484020,-0.182110264897346,0.076792657375336,-0.069801829755306,0.005535298027098,-0.051432434469461,0.095985025167465,0.032808199524879,0.009980997070670));
res += mul(Get(s1,dx,0), float4x4(-0.076284937560558,0.118562065064907,0.019827105104923,0.018850017338991,-0.010287148877978,0.037263259291649,-0.031965333968401,0.015122230164707,-0.055102117359638,0.210968285799026,0.027375388890505,0.064861297607422,0.090384565293789,0.015390718355775,0.005328034050763,-0.028629217296839));
res += mul(Get(s1,dx,dy), float4x4(0.075891554355621,0.105706222355366,0.006879096385092,0.010567928664386,0.064180664718151,-0.005884317215532,0.043192993849516,-0.007626764476299,-0.116333328187466,-0.061445303261280,-0.005984175950289,-0.003350951708853,0.042517900466919,0.049213245511055,0.072423204779625,-0.027711190283298));
res += mul(Get(s2,-dx,-dy), float4x4(-0.024139458313584,0.051930196583271,-0.018123932182789,0.070903845131397,-0.073560684919357,-0.000415222864831,-0.095739811658859,0.071105815470219,-0.084079705178738,-0.046767216175795,-0.043836001306772,0.045987263321877,-0.015128769911826,-0.040651913732290,-0.050870455801487,0.034119136631489));
res += mul(Get(s2,-dx,0), float4x4(0.040160298347473,-0.043723691254854,-0.050429690629244,-0.103190317749977,0.011087281629443,-0.039814136922359,-0.136002153158188,-0.069266758859158,0.028041372075677,0.057423759251833,-0.137115299701691,0.107818357646465,-0.012562722899020,-0.077651821076870,-0.085320033133030,0.115824133157730));
res += mul(Get(s2,-dx,dy), float4x4(-0.059836611151695,-0.157285779714584,0.059694938361645,-0.074769876897335,0.101605214178562,-0.084796480834484,-0.074475094676018,-0.027757925912738,0.106476955115795,-0.043573591858149,-0.137671679258347,-0.079614914953709,-0.065097920596600,-0.016105575487018,-0.020454343408346,-0.052070420235395));
res += mul(Get(s2,0,-dy), float4x4(0.021971806883812,0.126245453953743,0.026170585304499,-0.001778974430636,-0.045656353235245,-0.015577282756567,-0.127396076917648,0.017632640898228,0.005579718854278,-0.033040404319763,-0.001379713881761,0.036776680499315,-0.053954314440489,-0.067616410553455,0.070122480392456,-0.095816574990749));
res += mul(Get(s2,0,0), float4x4(-0.006118374876678,-0.110370688140392,0.028051927685738,-0.117673598229885,0.093806557357311,-0.094583526253700,-0.119243584573269,-0.036326799541712,0.029348690062761,0.085509344935417,0.050319060683250,0.123069852590561,-0.000558672647458,-0.071579158306122,0.021450664848089,0.000266949034994));
res += mul(Get(s2,0,dy), float4x4(-0.119302183389664,-0.012884564697742,-0.144172862172127,0.013139395043254,0.023301284760237,-0.032242309302092,-0.179889649152756,0.084941297769547,0.085744507610798,-0.051702588796616,-0.033818870782852,-0.058705933392048,-0.003713211975992,-0.038343738764524,0.135102063417435,0.013309023343027));
res += mul(Get(s2,dx,-dy), float4x4(0.037943065166473,-0.108503721654415,-0.092225663363934,0.033221326768398,-0.073453232645988,-0.007944369688630,-0.056900952011347,-0.047812122851610,-0.029268715530634,-0.059900254011154,-0.085190914571285,-0.022881446406245,-0.090931408107281,0.006767630111426,-0.052800238132477,0.051845572888851));
res += mul(Get(s2,dx,0), float4x4(0.043146144598722,0.034893669188023,-0.050015669316053,0.043585166335106,0.170531764626503,-0.064422562718391,-0.150709807872772,0.008637254126370,-0.135130539536476,0.012596112675965,-0.006334786303341,0.034680694341660,-0.032782729715109,0.001599991461262,0.049342509359121,0.060163129121065));
res += mul(Get(s2,dx,dy), float4x4(-0.055814262479544,0.019626073539257,-0.013509995304048,-0.044481471180916,-0.050790984183550,0.017499852925539,-0.104334801435471,-0.023665342479944,0.043376304209232,-0.072167173027992,-0.069714628160000,0.052106864750385,-0.071792043745518,-0.103558227419853,-0.017606632784009,-0.090531989932060));
res += mul(Get(s3,-dx,-dy), float4x4(-0.096191786229610,0.186886146664619,0.051838405430317,-0.159738540649414,0.020778885111213,-0.264139026403427,0.002652213210240,0.047533672302961,0.073184370994568,-0.033829145133495,0.050974622368813,-0.170877650380135,-0.076107628643513,-0.053760834038258,0.051692757755518,-0.021623404696584));
res += mul(Get(s3,-dx,0), float4x4(-0.029691848903894,-0.006366773508489,0.209736824035645,-0.090247176587582,-0.036739367991686,-0.047545380890369,0.104045912623405,0.032939139753580,-0.064922727644444,-0.114593185484409,0.082439392805099,-0.003437708131969,0.013367898762226,0.120997697114944,-0.077562436461449,0.164368435740471));
res += mul(Get(s3,-dx,dy), float4x4(-0.105816401541233,0.036792013794184,0.190286010503769,0.121936641633511,0.067599460482597,-0.064317889511585,-0.025528123602271,-0.028944183140993,0.042529117316008,-0.016516126692295,0.061307307332754,-0.052851267158985,-0.007812303956598,0.016706559807062,-0.049601685255766,0.091125607490540));
res += mul(Get(s3,0,-dy), float4x4(0.056187693029642,0.004561784677207,-0.029422907158732,-0.186785623431206,-0.177078247070313,-0.043321430683136,-0.030174111947417,-0.002707423875108,0.089534476399422,-0.027806965634227,0.004998199641705,-0.055686175823212,-0.048327006399632,-0.024403600022197,0.019697371870279,-0.018111748620868));
res += mul(Get(s3,0,0), float4x4(0.060852784663439,-0.002863007597625,0.046456776559353,-0.001204481115565,-0.001825306448154,0.008072229102254,0.018195200711489,-0.029897950589657,-0.110819965600967,-0.050681691616774,0.208514824509621,-0.009975063614547,-0.052312906831503,0.237589761614799,0.040504261851311,0.121655374765396));
res += mul(Get(s3,0,dy), float4x4(0.047152929008007,0.128486633300781,-0.043211083859205,0.085974685847759,-0.065323777496815,0.031287509948015,0.103146068751812,0.110808216035366,-0.041144881397486,0.022473413497210,0.072451755404472,0.010172780603170,-0.017789294943213,0.000712336506695,0.044037107378244,0.100020878016949));
res += mul(Get(s3,dx,-dy), float4x4(0.008377064950764,-0.042465351521969,-0.029140604659915,-0.057466376572847,-0.007628691848367,-0.017907734960318,0.002063182415441,0.013790376484394,0.033889502286911,-0.063048735260963,0.037174943834543,-0.031894907355309,-0.015662631019950,-0.067000992596149,-0.116106986999512,-0.157419532537460));
res += mul(Get(s3,dx,0), float4x4(0.081043221056461,0.128421142697334,0.014150345697999,-0.013589243404567,-0.050229266285896,-0.000285592861474,0.035415437072515,0.051133539527655,-0.128558620810509,0.053233534097672,0.004291730467230,-0.092124342918396,-0.095113873481750,-0.007352966815233,-0.013425104320049,0.024353019893169));
res += mul(Get(s3,dx,dy), float4x4(0.001663977163844,0.112245187163353,-0.025001676753163,0.012569576501846,0.002302083652467,0.000619736500084,-0.060080435127020,0.059751845896244,-0.061899352818727,0.004387610126287,0.030277896672487,-0.035312052816153,0.026859488338232,-0.094123564660549,0.019500289112329,0.033256437629461));
return max(float4(0,0,0,0), res);
}
