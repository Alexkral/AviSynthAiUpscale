sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.046274937689304,0.106872253119946,0.025112653151155,0.087718412280083,-0.011684896424413,0.128952398896217,0.038437653332949,-0.092953823506832,0.001732790493406,-0.019721630960703,0.002216984285042,0.060020577162504,0.103144846856594,0.089647568762302,-0.003804313950241,-0.037985719740391));
res += mul(Get(s0,-dx,0), float4x4(-0.086480811238289,-0.309091687202454,-0.031358726322651,0.076709307730198,0.041126362979412,-0.071625106036663,0.026054417714477,0.016132142394781,-0.196417868137360,-0.077790908515453,-0.057353969663382,0.220908120274544,0.016637876629829,-0.026098204776645,0.078594312071800,0.065983489155769));
res += mul(Get(s0,-dx,dy), float4x4(0.016469400376081,-0.057963393628597,0.009766637347639,0.105272881686687,-0.025827292352915,-0.109469957649708,0.108083114027977,-0.106089599430561,-0.209442600607872,0.299910128116608,-0.113007873296738,0.119745902717113,0.109079807996750,0.229807049036026,-0.128893598914146,0.110785216093063));
res += mul(Get(s0,0,-dy), float4x4(-0.136955678462982,0.094472073018551,-0.078340567648411,-0.167139366269112,-0.021032154560089,-0.020895976573229,0.097321584820747,-0.124772608280182,0.047024287283421,-0.004736343398690,0.122687235474586,-0.034446910023689,0.068765796720982,-0.041990179568529,-0.064218461513519,-0.087427616119385));
res += mul(Get(s0,0,0), float4x4(0.034807324409485,0.283700644969940,0.028491105884314,0.033439975231886,-0.111603572964668,0.108991779386997,0.037714492529631,0.050596274435520,-0.013168179430068,0.044647693634033,0.166493132710457,-0.020179072394967,0.054068282246590,0.107371650636196,-0.031591031700373,-0.209864884614944));
res += mul(Get(s0,0,dy), float4x4(-0.013146189972758,0.358528971672058,0.041336104273796,-0.033360607922077,-0.036508575081825,0.190613687038422,0.036923635751009,0.118445076048374,-0.201384201645851,0.230690062046051,0.067274726927280,0.050366189330816,-0.202110424637794,0.041257862001657,-0.108330927789211,-0.204476609826088));
res += mul(Get(s0,dx,-dy), float4x4(0.055152971297503,-0.052740998566151,0.032157368957996,-0.297663807868958,-0.032476939260960,-0.006454593036324,-0.152085259556770,-0.029452435672283,-0.047879129648209,0.079034104943275,0.030908646062016,-0.089954674243927,0.071566954255104,0.005056891590357,0.081223122775555,-0.160888224840164));
res += mul(Get(s0,dx,0), float4x4(0.042168635874987,-0.140089824795723,-0.136375203728676,-0.151738613843918,0.047617804259062,-0.276565939188004,-0.135176077485085,0.011169772595167,0.142088681459427,-0.075428925454617,0.108675949275494,0.026493027806282,0.050605408847332,-0.094758383929729,0.113820038735867,-0.006352021824569));
res += mul(Get(s0,dx,dy), float4x4(-0.092150285840034,-0.060497812926769,0.183827385306358,-0.029204612597823,0.113416545093060,-0.034328181296587,0.067796394228935,0.027930492535233,0.097295589745045,-0.046041652560234,-0.028483519330621,0.136549830436707,0.080379314720631,-0.121250927448273,-0.147066354751587,-0.336263358592987));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034717779606581,-0.184534668922424,0.229242026805878,-0.156846836209297,0.068477809429169,0.003683294868097,0.137261003255844,0.111991263926029,-0.102367959916592,-0.038454599678516,-0.085962571203709,0.113372161984444,0.013707607984543,0.060036465525627,0.033605210483074,0.006494999397546));
res += mul(Get(s1,-dx,0), float4x4(0.012923748232424,0.154089391231537,0.039093140512705,0.155231788754463,-0.031813681125641,0.053877364844084,-0.000737457710784,0.157250612974167,0.001129647833295,-0.134898424148560,0.137535154819489,-0.117355898022652,0.080494955182076,-0.173056766390800,-0.191633954644203,-0.107034653425217));
res += mul(Get(s1,-dx,dy), float4x4(0.121894128620625,0.140309691429138,-0.024219546467066,0.003451019991189,0.063575834035873,0.043242752552032,0.034596238285303,0.063699826598167,0.013642614707351,-0.198661208152771,-0.039502177387476,-0.108326785266399,0.035604011267424,-0.180928111076355,0.040324009954929,0.098320387303829));
res += mul(Get(s1,0,-dy), float4x4(-0.119611121714115,0.073950432240963,-0.163018420338631,-0.031821519136429,0.057989455759525,0.104263432323933,-0.314697712659836,-0.013755396939814,-0.063289046287537,-0.037965733557940,0.100161895155907,-0.140175551176071,0.141149386763573,0.099127188324928,-0.145243212580681,-0.036526627838612));
res += mul(Get(s1,0,0), float4x4(0.158514186739922,-0.045802004635334,-0.000438897579443,0.105925731360912,0.074795365333557,0.071877107024193,-0.064881660044193,0.162550076842308,0.082493484020233,0.119287610054016,0.146722167730331,-0.004647652618587,-0.091475501656532,0.021129753440619,-0.037006996572018,0.118539333343506));
res += mul(Get(s1,0,dy), float4x4(0.026794185861945,0.004773090593517,-0.072269044816494,-0.248175397515297,-0.003381144953892,0.028898768126965,-0.020921492949128,0.017787551507354,-0.097123451530933,-0.086900196969509,0.008354170247912,0.099653124809265,-0.110022723674774,-0.058013636618853,-0.020350348204374,0.203488335013390));
res += mul(Get(s1,dx,-dy), float4x4(-0.118847601115704,-0.094797238707542,0.044698916375637,-0.064410589635372,-0.080995112657547,0.001618497655727,-0.021477364003658,-0.110716827213764,-0.061355605721474,0.010533986613154,-0.201316952705383,0.056648138910532,-0.069884382188320,-0.111784912645817,-0.018155677244067,0.014834489673376));
res += mul(Get(s1,dx,0), float4x4(-0.059681527316570,-0.061965007334948,-0.042075045406818,0.067808523774147,-0.004652292933315,-0.033000726252794,0.179003089666367,-0.020055217668414,-0.000011605925465,0.090797051787376,0.088742345571518,0.051629371941090,-0.061690501868725,0.089099913835526,0.140619173645973,0.013895852491260));
res += mul(Get(s1,dx,dy), float4x4(0.012342204339802,-0.012241392396390,0.039334073662758,-0.144577905535698,-0.063981160521507,0.154501348733902,0.175793468952179,-0.174079045653343,0.129964947700500,0.024686658754945,0.102491833269596,-0.275655031204224,-0.037754856050014,-0.085087269544601,-0.009581569582224,0.167272895574570));
res += mul(Get(s2,-dx,-dy), float4x4(-0.105169542133808,-0.016863448545337,0.021879782900214,-0.037311043590307,0.041520010679960,-0.009342658333480,-0.006616461556405,0.157507091760635,0.006452261935920,-0.015031540766358,-0.092670850455761,-0.004633406177163,-0.045345827937126,0.186378613114357,0.088909797370434,0.004851656034589));
res += mul(Get(s2,-dx,0), float4x4(-0.160181865096092,0.240884140133858,-0.271788269281387,0.173272386193275,0.060734644532204,0.159959927201271,-0.033879015594721,0.150343209505081,0.029738998040557,-0.104838170111179,0.043094556778669,0.050879102200270,-0.117978177964687,0.073953852057457,0.039898488670588,-0.184176191687584));
res += mul(Get(s2,-dx,dy), float4x4(0.050404239445925,-0.124064601957798,-0.047691557556391,-0.056483685970306,-0.017001064494252,0.084901295602322,-0.165522933006287,0.061852324754000,0.145625919103622,-0.104066848754883,-0.113525368273258,-0.049043018370867,-0.188902914524078,-0.116491064429283,0.131050288677216,0.002636874094605));
res += mul(Get(s2,0,-dy), float4x4(-0.127664119005203,-0.086494222283363,0.019658522680402,0.068690106272697,0.085426598787308,-0.043395701795816,0.187267854809761,-0.032280493527651,-0.271036773920059,0.092349685728550,0.012417948804796,0.156927764415741,0.117362268269062,-0.032017510384321,0.245084896683693,0.020094020292163));
res += mul(Get(s2,0,0), float4x4(0.034161448478699,-0.008532591164112,-0.019662406295538,0.037773434072733,-0.015953222289681,-0.172599717974663,-0.171109035611153,-0.122428730130196,0.100832901895046,-0.123002678155899,0.037763092666864,-0.081375099718571,-0.177722454071045,0.077493652701378,0.090147234499454,0.057484190911055));
res += mul(Get(s2,0,dy), float4x4(0.040420468896627,0.206612765789032,0.128126412630081,-0.176584854722023,-0.129440531134605,-0.053240705281496,-0.101353839039803,0.078698948025703,-0.063292749226093,0.111684165894985,-0.226042807102203,-0.087777711451054,-0.154204562306404,0.159763887524605,0.131292283535004,-0.052086260169744));
res += mul(Get(s2,dx,-dy), float4x4(0.063320800662041,0.045417930930853,-0.036153309047222,-0.071343183517456,0.071456931531429,-0.007220012601465,0.082157053053379,0.037698399275541,0.046914216130972,0.017617581412196,0.060011759400368,-0.064548417925835,-0.056993007659912,-0.075161993503571,-0.197174325585365,-0.072284527122974));
res += mul(Get(s2,dx,0), float4x4(0.048387486487627,0.064523875713348,-0.056198269128799,-0.074785999953747,-0.103086479008198,0.074120506644249,-0.031370066106319,0.105365388095379,-0.111474566161633,0.135303169488907,0.091080926358700,-0.135281860828400,-0.030456142500043,0.145223304629326,-0.194772049784660,0.093100175261497));
res += mul(Get(s2,dx,dy), float4x4(-0.081726737320423,-0.039219729602337,0.035473726689816,-0.106713250279427,0.047411907464266,-0.070376418530941,-0.044157709926367,-0.261319220066071,-0.125092804431915,-0.011199774220586,0.110903590917587,-0.170577511191368,-0.041905906051397,0.060955148190260,-0.048515304923058,-0.165286973118782));
res += mul(Get(s3,-dx,-dy), float4x4(0.040759574621916,0.212616056203842,0.087143622338772,0.210963189601898,0.086925990879536,0.152268305420876,-0.104928068816662,-0.046407062560320,-0.088716171681881,-0.006911619566381,-0.084791518747807,-0.056202482432127,-0.027621211484075,-0.098559096455574,0.012696322053671,-0.098850131034851));
res += mul(Get(s3,-dx,0), float4x4(-0.219328895211220,0.067724861204624,-0.024799561128020,0.181779354810715,0.056845862418413,0.039473447948694,-0.062314704060555,0.084092967212200,-0.185082584619522,-0.081012733280659,0.010886461474001,-0.022894475609064,0.081195801496506,0.041071932762861,0.077598117291927,0.048323176801205));
res += mul(Get(s3,-dx,dy), float4x4(0.087810330092907,-0.233307585120201,-0.027278834953904,0.085012964904308,0.153201907873154,-0.096424505114555,0.057084694504738,0.032298378646374,-0.052564151585102,0.111007794737816,0.049559071660042,0.207708582282066,0.082418173551559,0.001788866589777,-0.100536793470383,0.160774767398834));
res += mul(Get(s3,0,-dy), float4x4(-0.022491959854960,-0.058920320123434,0.247286438941956,0.010557824745774,0.138155296444893,-0.116963095963001,0.406307935714722,-0.148408800363541,-0.198508471250534,0.159199446439743,-0.010411404073238,0.015197798609734,-0.054455719888210,0.072474636137486,0.181011289358139,0.176463112235069));
res += mul(Get(s3,0,0), float4x4(-0.163167446851730,0.070301100611687,0.037648331373930,-0.069253861904144,-0.089081786572933,-0.071962453424931,-0.048057418316603,-0.038019925355911,-0.004772917367518,0.019486837089062,-0.040055811405182,0.058648567646742,-0.009090361185372,0.005040844436735,0.126689806580544,0.043639566749334));
res += mul(Get(s3,0,dy), float4x4(-0.115795768797398,0.092971637845039,-0.155688345432281,0.061079211533070,-0.087655134499073,0.186433643102646,0.195674851536751,-0.091631174087524,0.005925630219281,-0.091991767287254,0.002777801593766,0.070637814700603,0.064110234379768,0.053151752799749,-0.257795542478561,0.136962980031967));
res += mul(Get(s3,dx,-dy), float4x4(0.013986450619996,0.075816705822945,0.148034527897835,0.004279706627131,-0.038468591868877,0.048351746052504,0.042469792068005,0.078203842043877,-0.028501877561212,0.022131484001875,0.138247564435005,0.014636929146945,0.041386261582375,-0.067493207752705,0.065385960042477,0.077572219073772));
res += mul(Get(s3,dx,0), float4x4(-0.049134310334921,-0.082521498203278,-0.082455813884735,-0.136126801371574,0.006581519730389,0.105460315942764,0.061011131852865,-0.090672835707664,-0.215048968791962,-0.127348512411118,-0.087143145501614,-0.027208078652620,-0.089209847152233,0.104736365377903,0.077310666441917,0.011765214614570));
res += mul(Get(s3,dx,dy), float4x4(0.031981568783522,-0.129388228058815,-0.072469912469387,-0.124011009931564,-0.003174558049068,0.085251964628696,0.147215917706490,0.111687846481800,0.005841271951795,-0.026112135499716,-0.079637013375759,-0.141160503029823,0.082917511463165,0.018971484154463,-0.142949923872948,-0.064022377133369));
return max(float4(0,0,0,0), res);
}
