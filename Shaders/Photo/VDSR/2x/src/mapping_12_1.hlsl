sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.168172881007195,0.104118943214417,0.158290430903435,-0.037828098982573,0.147720456123352,-0.031803641468287,0.151621133089066,0.032755181193352,0.136180058121681,-0.094341598451138,0.023088632151484,-0.077791802585125,-0.014533303678036,0.078667506575584,-0.013321120291948,0.002994384616613));
res += mul(Get(s0,-dx,0), float4x4(0.011101878248155,0.148457393050194,-0.065955169498920,0.078953027725220,0.161167547106743,0.021636996418238,0.094980016350746,-0.061750985682011,0.050664864480495,0.036498084664345,0.141792446374893,-0.231899961829185,0.024057056754827,0.186119154095650,0.145050287246704,0.040077190846205));
res += mul(Get(s0,-dx,dy), float4x4(0.099650569260120,0.000398788572056,-0.044004257768393,-0.129140675067902,0.005235300399363,-0.004816143773496,-0.105122476816177,0.037551954388618,0.109450854361057,-0.070050023496151,-0.055773127824068,-0.029322277754545,-0.012541220523417,0.116395175457001,-0.093769609928131,-0.017852352932096));
res += mul(Get(s0,0,-dy), float4x4(0.222567468881607,0.057238515466452,-0.077591687440872,-0.006463707890362,0.101177603006363,0.019156495109200,0.111979216337204,0.059630863368511,0.036191720515490,0.051233384758234,0.169216319918633,0.025285154581070,0.146103501319885,-0.086619161069393,-0.069377705454826,0.038407534360886));
res += mul(Get(s0,0,0), float4x4(-0.063647523522377,0.018068594858050,0.004809725098312,-0.169051080942154,0.055999945849180,0.078181676566601,-0.070479832589626,0.147597238421440,-0.009598741307855,-0.155299231410027,0.052774727344513,0.108510375022888,0.045704875141382,0.049101348966360,0.297211319208145,0.010023240000010));
res += mul(Get(s0,0,dy), float4x4(0.003571181092411,0.039279248565435,-0.054415561258793,-0.120251819491386,0.077775299549103,-0.224243178963661,0.051817137748003,-0.093674845993519,-0.098650582134724,0.073875792324543,0.068131811916828,0.029451001435518,0.216313958168030,0.038213338702917,0.075896359980106,0.044578239321709));
res += mul(Get(s0,dx,-dy), float4x4(-0.031933240592480,0.031901791691780,-0.032908577471972,-0.069067895412445,0.095079354941845,0.162864089012146,0.051207084208727,-0.193269938230515,0.001300212228671,0.021659193560481,0.126513347029686,-0.123544350266457,0.104447521269321,0.082987077534199,-0.047492340207100,-0.049098748713732));
res += mul(Get(s0,dx,0), float4x4(-0.096005432307720,-0.133577987551689,0.154608473181725,0.234993264079094,-0.130136623978615,0.055702988058329,-0.000370591995306,-0.016336625441909,0.219310447573662,-0.268132925033569,0.017216546460986,-0.093340478837490,0.089527688920498,0.004255441017449,0.025910004973412,-0.122350260615349));
res += mul(Get(s0,dx,dy), float4x4(0.049882937222719,0.008738514967263,0.028554106131196,-0.072875395417213,-0.055477395653725,-0.120868511497974,-0.020636074244976,0.130730569362640,-0.031680926680565,-0.105185128748417,0.199505865573883,-0.095616213977337,-0.225983515381813,0.008045067079365,-0.007754846476018,0.113120123744011));
res += mul(Get(s1,-dx,-dy), float4x4(0.009669698774815,-0.105370476841927,-0.126233905553818,-0.069892339408398,-0.137488707900047,0.127650797367096,0.036423053592443,0.068893179297447,0.018762324005365,-0.121353529393673,0.137497395277023,0.053203135728836,0.074430875480175,0.191231146454811,0.049339991062880,-0.115630857646465));
res += mul(Get(s1,-dx,0), float4x4(-0.112664178013802,-0.025198662653565,-0.082958444952965,-0.021739896386862,-0.008887298405170,0.143613591790199,0.067746996879578,0.063159957528114,0.044806286692619,-0.055340204387903,0.066677458584309,0.005922530312091,0.044811528176069,-0.009979913942516,-0.002707937732339,-0.052362948656082));
res += mul(Get(s1,-dx,dy), float4x4(-0.098309502005577,-0.087093465030193,-0.166025802493095,0.115912646055222,-0.037560332566500,-0.107224404811859,0.146039560437202,-0.058500796556473,-0.037798140197992,0.044239044189453,-0.000259275984718,-0.045999418944120,-0.042907476425171,0.046975858509541,-0.039698705077171,0.083952307701111));
res += mul(Get(s1,0,-dy), float4x4(0.035984590649605,0.025432066991925,-0.189527288079262,0.139986827969551,-0.053317524492741,0.008448315784335,-0.070286460220814,0.010628930293024,0.039879009127617,-0.064274609088898,-0.035470508038998,-0.100255981087685,0.032666504383087,0.141884684562683,-0.103972241282463,0.062791652977467));
res += mul(Get(s1,0,0), float4x4(0.204459354281425,0.031323723495007,0.076694950461388,0.031699102371931,0.027287468314171,-0.077592633664608,0.016980271786451,-0.014463650994003,0.047688357532024,-0.045477509498596,0.145321547985077,0.022534389048815,-0.075994037091732,0.094856083393097,0.053968135267496,-0.071211092174053));
res += mul(Get(s1,0,dy), float4x4(-0.013539601117373,0.079997442662716,-0.093314878642559,0.004689817782491,-0.115087635815144,0.113186508417130,0.058915000408888,-0.048789229243994,0.060774534940720,-0.257502406835556,0.148824721574783,-0.037946518510580,-0.082397475838661,-0.034866522997618,-0.115006253123283,0.032287642359734));
res += mul(Get(s1,dx,-dy), float4x4(0.048293132334948,0.052384667098522,0.098254263401031,0.049409329891205,0.039007205516100,-0.172087997198105,0.081809066236019,-0.053696256130934,0.030885647982359,-0.055387895554304,0.071701556444168,0.075828865170479,-0.049149245023727,0.110545523464680,0.126766890287399,-0.050770744681358));
res += mul(Get(s1,dx,0), float4x4(0.007223052904010,0.058934859931469,0.233436852693558,-0.085698843002319,0.124219246208668,-0.084098912775517,-0.239962264895439,-0.177548676729202,0.054904807358980,0.034500863403082,0.118790365755558,0.102661281824112,0.027650106698275,-0.167707517743111,0.026874342933297,-0.056321255862713));
res += mul(Get(s1,dx,dy), float4x4(0.139642283320427,-0.010675808414817,-0.044777013361454,-0.050693918019533,0.024079436436296,0.106180541217327,-0.014405025169253,-0.166021496057510,-0.053754929453135,0.012032655999064,-0.036282807588577,0.079009033739567,-0.027902398258448,0.020382115617394,-0.037544280290604,0.152244955301285));
res += mul(Get(s2,-dx,-dy), float4x4(-0.015562847256660,-0.039005193859339,0.091680698096752,0.060367461293936,-0.051415354013443,0.025747641921043,0.045645173639059,0.213492020964622,0.128960475325584,-0.021475572139025,0.064255148172379,-0.009697955101728,0.029411302879453,0.146340906620026,-0.113956503570080,0.116279304027557));
res += mul(Get(s2,-dx,0), float4x4(-0.015361825004220,0.027659138664603,-0.102931618690491,0.051334861665964,0.035788036882877,-0.019168086349964,-0.114280328154564,0.027525875717402,-0.202619254589081,-0.018564866855741,-0.110577225685120,0.080003522336483,0.142345428466797,0.060959085822105,-0.005011619068682,0.050767764449120));
res += mul(Get(s2,-dx,dy), float4x4(-0.133177474141121,-0.056655045598745,0.174996048212051,-0.018301440402865,-0.056675560772419,-0.026134911924601,-0.113105364143848,-0.070588760077953,0.136107251048088,-0.057652186602354,-0.004992335103452,0.037797618657351,-0.275073498487473,0.014901421032846,0.002703116741031,0.118344359099865));
res += mul(Get(s2,0,-dy), float4x4(0.003657320979983,-0.027206653729081,-0.070251531898975,-0.013837062753737,0.035613872110844,-0.066564433276653,0.097119346261024,-0.065891928970814,0.042688533663750,-0.206232622265816,0.126046672463417,-0.044420707970858,0.005926426965743,0.097383342683315,-0.114965677261353,-0.001969825942069));
res += mul(Get(s2,0,0), float4x4(0.096339002251625,0.175774186849594,0.041964244097471,-0.101667426526546,-0.204315885901451,-0.109231650829315,-0.049389228224754,0.011256703175604,-0.018989769741893,0.051143653690815,0.034657564014196,-0.142909705638885,0.136351212859154,0.087717756628990,-0.065752670168877,-0.072731137275696));
res += mul(Get(s2,0,dy), float4x4(0.165647059679031,-0.080646261572838,0.060014329850674,-0.001805206877179,-0.013676789589226,-0.017178000882268,-0.103987522423267,-0.042728397995234,0.001978877931833,-0.151644021272659,0.210715204477310,-0.047651093453169,0.007435377687216,0.007596914656460,0.071901038289070,-0.087249279022217));
res += mul(Get(s2,dx,-dy), float4x4(-0.101572148501873,-0.069815695285797,-0.047606233507395,0.088119670748711,0.040394473820925,0.012755976058543,0.094738177955151,0.000474134285469,0.103355906903744,0.172633156180382,0.041642069816589,0.060590460896492,-0.098656326532364,-0.055350344628096,0.136344611644745,-0.115665473043919));
res += mul(Get(s2,dx,0), float4x4(0.021602135151625,0.208230018615723,-0.013204338960350,-0.022930221632123,-0.004010980948806,0.052163325250149,-0.116981990635395,-0.107713103294373,0.098583735525608,0.070733100175858,0.001113165635616,-0.082420751452446,-0.096497550606728,0.020400861278176,0.100090280175209,0.139941811561584));
res += mul(Get(s2,dx,dy), float4x4(-0.194098114967346,0.041356857866049,-0.063731357455254,0.009166657924652,0.000514012121130,-0.009030883200467,-0.018884470686316,-0.009171052835882,-0.090535178780556,0.027405612170696,0.031482324004173,0.000439482886577,-0.118152469396591,-0.038026988506317,-0.016203656792641,0.065859355032444));
res += mul(Get(s3,-dx,-dy), float4x4(0.000268888892606,-0.000303348351736,0.061195634305477,0.224762782454491,-0.049644641578197,-0.156269788742065,-0.047014866024256,-0.038706976920366,0.010981843806803,0.009943734854460,0.004757909569889,-0.026900915428996,0.097354575991631,-0.052393402904272,-0.189112797379494,-0.091619223356247));
res += mul(Get(s3,-dx,0), float4x4(0.236045271158218,0.037568461149931,-0.058757483959198,-0.186543792486191,0.096314892172813,-0.126331746578217,-0.126194909214973,-0.049034740775824,-0.015023131854832,0.059593148529530,-0.112342305481434,-0.119992606341839,0.007877700030804,0.098326653242111,-0.015686871483922,0.070613212883472));
res += mul(Get(s3,-dx,dy), float4x4(0.068397052586079,0.093942716717720,0.034075345844030,-0.030880207195878,-0.078258506953716,-0.045727219432592,-0.139466688036919,-0.047318696975708,0.019600415602326,0.026479961350560,-0.042999748140574,-0.067202232778072,-0.085596576333046,-0.037683267146349,0.004515431821346,-0.052101042121649));
res += mul(Get(s3,0,-dy), float4x4(-0.209798768162727,-0.076667480170727,0.247885659337044,-0.010115071199834,0.042042899876833,0.071478888392448,-0.192584708333015,-0.006973380222917,0.086613863706589,-0.109902344644070,-0.127157136797905,0.066586792469025,-0.066430844366550,-0.008743872866035,0.115048661828041,-0.042783815413713));
res += mul(Get(s3,0,0), float4x4(0.026589086279273,-0.001104500843212,-0.064266219735146,-0.113246366381645,0.091682299971581,-0.050171498209238,-0.196619406342506,-0.087989903986454,-0.065597489476204,0.050508242100477,-0.050545763224363,-0.043569851666689,0.076327323913574,-0.025090483948588,0.061481758952141,-0.098213091492653));
res += mul(Get(s3,0,dy), float4x4(0.087498463690281,-0.026852613314986,-0.054349150508642,-0.005923728458583,-0.099481359124184,-0.139576390385628,0.007736042607576,0.129194632172585,-0.038733631372452,0.100979939103127,0.042573090642691,0.073694407939911,-0.029274391010404,-0.028178162872791,0.121520213782787,0.026803171262145));
res += mul(Get(s3,dx,-dy), float4x4(-0.082524277269840,-0.145491063594818,0.084833696484566,-0.095348834991455,-0.005884009879082,0.102501869201660,-0.049116138368845,0.070664763450623,0.035586804151535,-0.054862841963768,0.069912865757942,0.062983758747578,-0.126649409532547,-0.076607979834080,0.047469597309828,-0.068832673132420));
res += mul(Get(s3,dx,0), float4x4(-0.103287838399410,-0.062664061784744,-0.103740595281124,-0.071155153214931,-0.071358919143677,0.031567674130201,0.192081153392792,-0.085289910435677,0.002694756258279,0.016265016049147,0.078410297632217,-0.047599747776985,0.070972777903080,0.007155467290431,-0.005425462964922,-0.070099838078022));
res += mul(Get(s3,dx,dy), float4x4(0.083973899483681,0.103286184370518,-0.060938995331526,-0.074412330985069,-0.084792383015156,-0.157131806015968,0.155580043792725,-0.052339151501656,-0.075907871127129,0.065868534147739,0.045306447893381,0.045279495418072,-0.069082252681255,-0.064765892922878,0.098383784294128,-0.130254372954369));
return max(float4(0,0,0,0), res);
}
