sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.170837000012398,-0.025777647271752,-0.096664451062679,0.014648712240160,0.003843442536891,-0.002673437353224,0.231513440608978,0.010913240723312,0.011953786015511,0.023494698107243,-0.036562226712704,0.010475434362888,0.053303759545088,-0.104771465063095,0.159682139754295,0.011105265468359));
res += mul(Get(s0,-dx,0), float4x4(0.099904403090477,0.042274456471205,0.005569131113589,0.015205499716103,0.027637979015708,0.086488857865334,0.037893936038017,0.196148231625557,-0.077248901128769,-0.052306711673737,-0.001629820442759,-0.058910757303238,-0.032569784671068,-0.129049167037010,0.233560740947723,0.041709002107382));
res += mul(Get(s0,-dx,dy), float4x4(0.069878853857517,-0.034014306962490,0.133285090327263,-0.040010835975409,0.053541056811810,0.020212000235915,-0.138432174921036,0.147844210267067,-0.063526265323162,-0.054158028215170,-0.023013003170490,0.031988553702831,0.024262050166726,-0.122637070715427,-0.025682738050818,-0.020351860672235));
res += mul(Get(s0,0,-dy), float4x4(0.057861991226673,0.083936534821987,0.012490951456130,-0.039864778518677,0.061399854719639,-0.120395042002201,0.086217597126961,0.064467236399651,0.046923246234655,-0.036350015550852,-0.009399390779436,-0.029280785471201,0.080201007425785,-0.038836490362883,0.045724868774414,0.043014887720346));
res += mul(Get(s0,0,0), float4x4(0.092507258057594,0.084948867559433,-0.093097791075706,0.039233997464180,0.010355824604630,0.041404314339161,-0.042228911072016,0.050555147230625,0.033233851194382,0.046966448426247,0.019492581486702,-0.033263858407736,-0.023502031341195,-0.020975794643164,0.009234467521310,0.056580800563097));
res += mul(Get(s0,0,dy), float4x4(0.202662229537964,-0.004375587217510,0.059102755039930,0.030766109004617,-0.018070772290230,0.047229133546352,-0.051922820508480,-0.021330276504159,0.033675290644169,0.020843574777246,0.022001517936587,-0.115696370601654,-0.066718384623528,-0.026437524706125,0.078201524913311,-0.041710577905178));
res += mul(Get(s0,dx,-dy), float4x4(0.163207069039345,0.001661208691075,-0.019074073061347,0.016866590827703,0.022691648453474,-0.059330839663744,-0.024502182379365,-0.101235784590244,-0.033084683120251,-0.067073658108711,0.022179219871759,-0.124446518719196,-0.040242590010166,0.108757257461548,0.021525273099542,0.031782623380423));
res += mul(Get(s0,dx,0), float4x4(0.003730274736881,-0.013405790552497,-0.009292408823967,-0.009234896861017,-0.023439094424248,-0.060915809124708,0.005479208193719,-0.164689287543297,0.124452248215675,0.005720924120396,0.060427710413933,0.034342974424362,0.062862768769264,0.021657144650817,-0.094647079706192,-0.008701249957085));
res += mul(Get(s0,dx,dy), float4x4(0.374171823263168,-0.015816854313016,0.088159814476967,0.063738025724888,-0.034835737198591,-0.059379968792200,0.054785195738077,-0.053509265184402,0.032449476420879,-0.015965200960636,0.009534655138850,-0.032138921320438,0.021641910076141,-0.026793830096722,-0.124021694064140,0.026093978434801));
res += mul(Get(s1,-dx,-dy), float4x4(-0.049228597432375,0.055650249123573,0.031325977295637,-0.015227642841637,0.000086510197434,-0.007744199130684,0.009038809686899,0.019686838611960,-0.076527133584023,0.045890223234892,0.172725662589073,0.058051325380802,-0.010126177221537,-0.069471366703510,-0.048895161598921,-0.019106544554234));
res += mul(Get(s1,-dx,0), float4x4(0.041239000856876,0.119906552135944,0.122866928577423,-0.007247945293784,0.065617203712463,0.016160612925887,-0.083193652331829,-0.042123429477215,-0.088115483522415,0.122074849903584,0.069641821086407,0.042568903416395,-0.055142302066088,-0.053689599037170,-0.063450731337070,-0.046528771519661));
res += mul(Get(s1,-dx,dy), float4x4(-0.098518460988998,-0.058023147284985,0.047373287379742,-0.021686190739274,0.064792647957802,0.035705417394638,-0.018106235191226,-0.011095820926130,0.055419951677322,0.092101030051708,0.018667653203011,-0.022732710465789,-0.096539884805679,-0.050031173974276,0.050221383571625,-0.095549866557121));
res += mul(Get(s1,0,-dy), float4x4(-0.020651036873460,0.011144605465233,0.007164244074374,-0.010552568361163,-0.040323857218027,0.000300714018522,0.072846271097660,-0.040761701762676,0.011894876137376,-0.040498249232769,-0.075487509369850,0.059138312935829,-0.050978709012270,0.156147241592407,-0.023331839591265,-0.002164397854358));
res += mul(Get(s1,0,0), float4x4(0.109164126217365,0.053745187819004,0.045003466308117,0.147242888808250,0.099451601505280,0.016368579119444,0.028367957100272,-0.050933554768562,-0.133075997233391,-0.058623984456062,0.039230059832335,-0.142833590507507,0.015338263474405,-0.034819483757019,-0.060907635837793,0.035019848495722));
res += mul(Get(s1,0,dy), float4x4(0.038454424589872,0.077814869582653,-0.028205789625645,0.057129621505737,0.190110206604004,0.131748214364052,0.070039704442024,0.139432728290558,0.038163796067238,-0.043230306357145,-0.012338399887085,-0.145616680383682,-0.112202242016792,-0.028854878619313,0.077325977385044,0.016442608088255));
res += mul(Get(s1,dx,-dy), float4x4(-0.034695554524660,0.079364269971848,0.136922165751457,-0.001300735515542,-0.008129349909723,-0.020262958481908,-0.054018694907427,0.057222701609135,-0.003076973371208,-0.092120476067066,-0.176512405276299,-0.084205038845539,-0.018323773518205,0.086909577250481,0.045669697225094,0.018240597099066));
res += mul(Get(s1,dx,0), float4x4(0.011631665751338,0.088178791105747,-0.135866731405258,0.330063194036484,0.069376319646835,0.060463212430477,-0.109727010130882,0.083117932081223,-0.059654496610165,-0.244714975357056,-0.071511812508106,-0.109860546886921,-0.103635534644127,-0.006346072070301,0.051555711776018,0.062963448464870));
res += mul(Get(s1,dx,dy), float4x4(-0.008188725449145,-0.038867231458426,-0.055625181645155,0.091566242277622,0.167907401919365,0.023319058120251,-0.069285035133362,0.044942602515221,-0.004470951855183,-0.184283822774887,0.120474845170975,-0.087464533746243,-0.139421850442886,-0.014840345829725,-0.004858190659434,0.117125108838081));
res += mul(Get(s2,-dx,-dy), float4x4(-0.077314645051956,-0.045402981340885,-0.010913294740021,-0.018477730453014,-0.039584599435329,0.078799173235893,0.052106235176325,-0.055885877460241,-0.050317209213972,-0.016104973852634,0.134009912610054,0.007274182513356,0.012144267559052,0.013717407360673,-0.075339831411839,-0.004631056915969));
res += mul(Get(s2,-dx,0), float4x4(0.087997779250145,-0.028616491705179,0.008132096379995,-0.078860633075237,-0.021795472130179,0.051599077880383,0.077437341213226,0.007560758385807,0.024752084165812,0.018543686717749,0.025525027886033,-0.027820117771626,-0.090948820114136,0.116977453231812,0.031776994466782,0.022935314103961));
res += mul(Get(s2,-dx,dy), float4x4(0.030225306749344,-0.084074176847935,-0.005115992855281,-0.077463351190090,-0.126658752560616,0.030275376513600,0.075821734964848,0.016537249088287,0.057244900614023,0.080181203782558,0.047680068761110,-0.033204484730959,0.027300141751766,0.087892882525921,-0.076754271984100,-0.015243455767632));
res += mul(Get(s2,0,-dy), float4x4(-0.113449223339558,0.044040493667126,-0.012864007614553,0.006595114711672,-0.085869669914246,0.051219712942839,-0.004052439704537,0.011758142150939,0.010477220639586,-0.022862153127789,0.017140407115221,0.008807020261884,-0.033165246248245,0.003882196964696,-0.013025511987507,0.043259859085083));
res += mul(Get(s2,0,0), float4x4(0.181861042976379,0.033548660576344,-0.036883000284433,-0.005295827053487,-0.079747952520847,-0.024760877713561,-0.004217452835292,0.010459704324603,-0.076561443507671,-0.004483636002988,-0.058241222053766,-0.023331871256232,0.008616500534117,0.056978080421686,-0.001654900028370,0.082542181015015));
res += mul(Get(s2,0,dy), float4x4(0.072783835232258,0.071633383631706,0.010268013924360,-0.012103749439120,-0.026412678882480,-0.045936826616526,-0.020603934302926,0.022063426673412,0.065641909837723,0.050617784261703,-0.022491436451674,0.035613153129816,0.055576942861080,0.040020208805799,0.050743889063597,0.075166516005993));
res += mul(Get(s2,dx,-dy), float4x4(-0.181121259927750,-0.097866728901863,0.069890335202217,-0.006351175718009,-0.021338250488043,0.010972100310028,-0.013685635291040,0.024906989187002,-0.021940821781754,0.054152015596628,-0.030512657016516,-0.068511582911015,-0.079217880964279,0.035744514316320,-0.122640445828438,0.029139226302505));
res += mul(Get(s2,dx,0), float4x4(-0.032865591347218,0.051326915621758,0.050523106008768,-0.002473399741575,-0.019299091771245,-0.002786320634186,-0.009569809772074,0.133185371756554,0.006661111023277,0.039853297173977,0.011332717724144,-0.091575130820274,0.043813392519951,0.086880072951317,0.026761539280415,0.051297251135111));
res += mul(Get(s2,dx,dy), float4x4(0.046388875693083,0.021132895722985,-0.051973279565573,-0.044769614934921,-0.021408364176750,-0.015094501897693,0.068354710936546,0.060184378176928,0.044514864683151,0.000391845707782,-0.008630062453449,-0.072844117879868,-0.012427613139153,0.102580159902573,-0.002196948044002,0.072216302156448));
res += mul(Get(s3,-dx,-dy), float4x4(-0.152390807867050,-0.002223891904578,-0.022816201671958,0.008146762847900,0.017400667071342,-0.029518177732825,-0.097184717655182,-0.103386051952839,-0.030450398102403,0.001198362442665,-0.031529441475868,0.083023443818092,0.004458714742213,-0.060083586722612,-0.008555941283703,0.045663971453905));
res += mul(Get(s3,-dx,0), float4x4(-0.075894393026829,-0.038299109786749,-0.042073361575603,0.040341638028622,0.021385751664639,0.117012560367584,-0.114765696227551,0.109669081866741,-0.001426990027539,0.098116524517536,0.020863210782409,-0.000586284848396,0.099429510533810,-0.081714019179344,0.124124072492123,-0.031872976571321));
res += mul(Get(s3,-dx,dy), float4x4(-0.088624730706215,-0.007893898524344,0.111820496618748,0.010579707100987,-0.023575223982334,0.059266258031130,0.030504956841469,-0.022973507642746,-0.074450023472309,0.139988705515862,0.023900117725134,-0.026110177859664,-0.003635343397036,0.015729764476418,-0.042032565921545,0.057510711252689));
res += mul(Get(s3,0,-dy), float4x4(-0.078147597610950,0.112099029123783,-0.048886373639107,0.036552529782057,0.079755373299122,-0.135356143116951,0.023282505571842,0.103170387446880,-0.043831054121256,-0.029969615861773,0.007111048791558,0.088773779571056,-0.140790864825249,0.045849360525608,0.044316254556179,-0.153384283185005));
res += mul(Get(s3,0,0), float4x4(-0.034474007785320,0.049824856221676,-0.070542387664318,-0.027096616104245,0.066987670958042,-0.080527357757092,-0.028840983286500,0.213775098323822,0.089755639433861,0.014833276160061,0.019487367942929,0.065159209072590,0.209731683135033,0.002772621577606,0.106952115893364,0.092417210340500));
res += mul(Get(s3,0,dy), float4x4(-0.001431085867807,0.012691967189312,-0.008408347144723,0.030204802751541,-0.051375143229961,-0.143008708953857,0.020221758633852,-0.079960636794567,0.047989800572395,-0.037058874964714,0.105224408209324,0.243332043290138,-0.071342885494232,-0.024983426555991,0.140805631875992,-0.099551782011986));
res += mul(Get(s3,dx,-dy), float4x4(0.004371347371489,-0.030268589034677,-0.038308605551720,0.040397033095360,-0.034000415354967,-0.110733456909657,-0.033298660069704,0.017543207854033,-0.071924321353436,-0.004277819301933,-0.046928919851780,-0.086311727762222,-0.037956811487675,0.051447205245495,-0.029255863279104,-0.025484707206488));
res += mul(Get(s3,dx,0), float4x4(0.013400644063950,-0.029218226671219,-0.023160880431533,0.053828716278076,0.119010128080845,-0.054335821419954,-0.052195787429810,0.052856344729662,0.010615389794111,-0.081868484616280,0.090979002416134,-0.178178593516350,0.215974345803261,-0.065770283341408,-0.129670307040215,-0.037264920771122));
res += mul(Get(s3,dx,dy), float4x4(-0.032539691776037,-0.019339092075825,0.088165588676929,0.018689477816224,-0.060212962329388,-0.067806273698807,0.022310337051749,0.075062103569508,-0.059939309954643,-0.030432827770710,0.017195567488670,-0.217171415686607,0.041813306510448,-0.075355492532253,-0.031598318368196,-0.148819312453270));
return max(float4(0,0,0,0), res);
}
