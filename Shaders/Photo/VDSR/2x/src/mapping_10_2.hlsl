sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.105412773787975,-0.083417683839798,-0.028726859018207,-0.191908121109009,-0.029914245009422,-0.087553627789021,-0.047506395727396,-0.117230094969273,-0.042898219078779,-0.153209343552589,-0.095135860145092,0.164502099156380,0.147369995713234,-0.060796659439802,-0.024842938408256,0.067670427262783));
res += mul(Get(s0,-dx,0), float4x4(-0.106670007109642,-0.148396655917168,0.023500893265009,-0.097912885248661,-0.030621320009232,-0.121770605444908,-0.101535126566887,-0.033052962273359,0.134097561240196,0.116728402674198,0.053835850208998,-0.020112274214625,0.013256144709885,-0.261321932077408,-0.001463201129809,0.056100878864527));
res += mul(Get(s0,-dx,dy), float4x4(-0.073502801358700,-0.037184137851000,0.039931375533342,-0.042485494166613,-0.014715065248311,-0.096764624118805,-0.047231730073690,0.101634509861469,0.016005784273148,-0.022953284904361,-0.234684526920319,0.117583207786083,0.091623254120350,0.001210648682900,0.106910668313503,0.020328640937805));
res += mul(Get(s0,0,-dy), float4x4(-0.116140335798264,-0.008416641503572,-0.140367567539215,0.178173005580902,-0.049469407647848,0.190377980470657,0.003494209842756,-0.030684277415276,-0.013338271528482,0.114607311785221,-0.024392824620008,0.119573339819908,-0.049629073590040,-0.017267962917686,-0.074177891016006,-0.133721068501472));
res += mul(Get(s0,0,0), float4x4(-0.005822485312819,-0.109765768051147,0.065029345452785,-0.167889073491096,0.038113202899694,-0.042399838566780,-0.219923794269562,0.225542411208153,-0.039849020540714,-0.092123508453369,0.075868926942348,-0.069640755653381,-0.120999015867710,-0.081428796052933,-0.151896566152573,-0.014398891478777));
res += mul(Get(s0,0,dy), float4x4(0.010495780967176,-0.181176751852036,-0.049931939691305,-0.057614855468273,0.001535696792416,-0.020798711106181,0.015184070914984,-0.001220979378559,0.025645151734352,0.111028872430325,0.096237786114216,-0.016762746497989,-0.090318113565445,-0.259957134723663,-0.207343220710754,0.000090686880867));
res += mul(Get(s0,dx,-dy), float4x4(-0.123486295342445,-0.101974084973335,0.098284445703030,0.050664685666561,-0.121888369321823,0.008125922642648,-0.082605950534344,-0.083528265357018,-0.013337894342840,0.145717814564705,-0.140966117382050,0.071068845689297,-0.053835354745388,-0.020205311477184,-0.119398660957813,-0.108410954475403));
res += mul(Get(s0,dx,0), float4x4(-0.132859006524086,0.053126808255911,0.128836542367935,0.082244418561459,-0.054469447582960,-0.277711689472198,-0.038015700876713,-0.021521698683500,0.170664757490158,0.040024582296610,-0.133447900414467,0.057230316102505,-0.005649568513036,-0.119567826390266,0.063967444002628,0.178758978843689));
res += mul(Get(s0,dx,dy), float4x4(0.055085528641939,0.030502576380968,0.031785432249308,-0.065253689885139,-0.057299815118313,-0.003884766018018,0.016138305887580,0.090875826776028,-0.007844445295632,0.142250582575798,0.118639416992664,-0.062965564429760,-0.011008650064468,0.068368583917618,0.170396730303764,0.081665016710758));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030932566151023,0.187172710895538,-0.004980527795851,-0.145229935646057,0.096854537725449,0.077151916921139,-0.047181203961372,0.044208668172359,0.095490157604218,-0.036855746060610,0.155077576637268,-0.047345392405987,-0.124784916639328,0.006573113147169,0.026578964665532,-0.036188587546349));
res += mul(Get(s1,-dx,0), float4x4(0.055095575749874,-0.160984873771667,0.202968046069145,0.096506983041763,0.075197838246822,-0.073615968227386,0.037195805460215,0.028072835877538,-0.001143243745901,-0.040386799722910,-0.068974442780018,-0.087269254028797,-0.004536882508546,0.030820999294519,0.022796545177698,-0.169265493750572));
res += mul(Get(s1,-dx,dy), float4x4(-0.032020259648561,-0.114208176732063,-0.043859019875526,0.047445636242628,0.122152380645275,-0.093479305505753,0.021157264709473,-0.175319075584412,-0.110462069511414,0.025685414671898,0.033644013106823,0.043138738721609,0.046985164284706,-0.037365768104792,-0.050446592271328,-0.097448810935020));
res += mul(Get(s1,0,-dy), float4x4(0.136833637952805,-0.048765551298857,0.090680338442326,-0.159505918622017,0.028963780030608,-0.014712884090841,0.026194024831057,0.044011682271957,-0.018250027671456,0.005808671005070,0.072640910744667,0.030998760834336,-0.037910867482424,0.056159924715757,0.063184745609760,-0.099624164402485));
res += mul(Get(s1,0,0), float4x4(-0.004514731466770,0.046118140220642,-0.101278133690357,-0.160127326846123,0.000620694132522,0.050271153450012,-0.168359771370888,0.007614216767251,-0.138044923543930,-0.071682967245579,-0.090737007558346,0.124050304293633,-0.044462725520134,-0.056216385215521,-0.166181430220604,-0.086113065481186));
res += mul(Get(s1,0,dy), float4x4(0.037449225783348,-0.031354583799839,0.024666395038366,0.169043332338333,-0.134580269455910,0.020258085802197,0.062039125710726,0.075663290917873,0.085314765572548,-0.081297554075718,-0.184311866760254,0.018134145066142,0.102746486663818,-0.089919857680798,-0.095190636813641,-0.089360892772675));
res += mul(Get(s1,dx,-dy), float4x4(-0.054032694548368,0.000932065246161,-0.075595371425152,0.031990554183722,0.053061556071043,-0.001669916789979,-0.019254758954048,-0.277635067701340,-0.012626213952899,0.013685410842299,-0.038551010191441,-0.051359027624130,0.051438592374325,-0.228554695844650,-0.195824250578880,0.083424858748913));
res += mul(Get(s1,dx,0), float4x4(-0.003459719475359,-0.036250460892916,-0.034630190581083,-0.015511159785092,-0.094659857451916,-0.050295088440180,0.020978480577469,-0.065547585487366,0.097012042999268,-0.050464529544115,-0.007812972180545,-0.067137233912945,-0.018829770386219,-0.162817195057869,0.006296254228801,0.150986924767494));
res += mul(Get(s1,dx,dy), float4x4(-0.039191480726004,0.111673898994923,-0.092841595411301,-0.007553935982287,0.149290785193443,0.057278566062450,-0.122364491224289,-0.039708673954010,-0.122450403869152,-0.046880062669516,-0.067514173686504,-0.050135344266891,0.033102251589298,0.027672616764903,0.064750239253044,-0.041276048868895));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034597788006067,-0.145106405019760,0.035906102508307,-0.047990515828133,-0.051687549799681,-0.071872949600220,-0.064478628337383,0.012578011490405,0.133031234145164,0.052595544606447,-0.216394871473312,-0.034634340554476,0.153315946459770,0.151078894734383,-0.108614191412926,0.103373117744923));
res += mul(Get(s2,-dx,0), float4x4(-0.049509748816490,-0.194049924612045,0.065747626125813,0.024642316624522,-0.117204427719116,-0.121869720518589,-0.090611323714256,0.003049944993109,0.232132136821747,-0.209088712930679,-0.135117694735527,0.040425501763821,-0.006851413287222,0.061923336237669,-0.031921334564686,-0.067124515771866));
res += mul(Get(s2,-dx,dy), float4x4(0.025436555966735,0.035228643566370,-0.047971799969673,-0.036685802042484,-0.047095395624638,-0.034387137740850,-0.013427259400487,-0.003163309069350,0.327006161212921,-0.111932471394539,-0.170041546225548,-0.114056110382080,0.035216126590967,0.058136649429798,-0.192179888486862,0.098755508661270));
res += mul(Get(s2,0,-dy), float4x4(-0.072448499500751,-0.105301856994629,-0.024038363248110,-0.053828094154596,-0.022640177980065,-0.059906609356403,0.069287382066250,-0.038320757448673,-0.118528723716736,0.014563228003681,-0.048512089997530,-0.157954528927803,0.100384466350079,0.052765268832445,-0.102880887687206,0.021748431026936));
res += mul(Get(s2,0,0), float4x4(0.020134074613452,-0.048602856695652,0.050490472465754,-0.029096132144332,-0.216140031814575,0.016447758302093,-0.022540077567101,-0.036102060228586,0.020398698747158,0.077535748481750,-0.089239172637463,0.022643780335784,-0.036208327859640,-0.051851753145456,-0.126770213246346,0.085516892373562));
res += mul(Get(s2,0,dy), float4x4(0.016329159960151,-0.069379471242428,0.007101790979505,-0.192582294344902,-0.188274025917053,0.031200433149934,-0.006774100009352,-0.131456002593040,-0.007187020964921,-0.024947661906481,-0.155275464057922,0.043016485869884,-0.262020617723465,-0.070053786039352,0.085662171244621,0.049702007323503));
res += mul(Get(s2,dx,-dy), float4x4(0.067330174148083,-0.091093882918358,0.013178453780711,-0.050269979983568,0.054868072271347,-0.131422773003578,-0.147877663373947,-0.080412000417709,-0.060767952352762,-0.000374314462533,-0.018401775509119,-0.092887863516808,0.080627173185349,0.030009308829904,0.017371186986566,-0.046837899833918));
res += mul(Get(s2,dx,0), float4x4(-0.103906735777855,0.085226781666279,-0.073326572775841,0.063185557723045,0.141224712133408,-0.036535874009132,0.093944951891899,-0.077427543699741,-0.183466672897339,0.146688371896744,-0.117136403918266,0.073638558387756,0.118333227932453,0.122478991746902,-0.012840520590544,0.100345157086849));
res += mul(Get(s2,dx,dy), float4x4(0.137209102511406,-0.043215692043304,-0.147534087300301,-0.118796236813068,0.107944816350937,-0.056241463869810,0.053815748542547,-0.099389947950840,-0.197572037577629,0.227593004703522,0.171930968761444,0.021845670416951,-0.003561110701412,0.095878325402737,-0.053012024611235,0.128515794873238));
res += mul(Get(s3,-dx,-dy), float4x4(-0.139804229140282,0.104313336312771,-0.057686042040586,0.029247885569930,0.018613720312715,-0.040243748575449,-0.286895841360092,0.051399629563093,0.012694961391389,-0.227052658796310,-0.040274709463120,-0.206491485238075,0.079398892819881,0.019219415262341,0.199243605136871,0.045453693717718));
res += mul(Get(s3,-dx,0), float4x4(0.105695888400078,0.030969088897109,-0.156723842024803,-0.082233630120754,-0.001862371922471,-0.176760986447334,-0.010295686312020,-0.111188836395741,-0.119317732751369,0.026484373956919,0.056087922304869,0.081241734325886,0.107616834342480,0.004279967397451,0.099186860024929,0.153699621558189));
res += mul(Get(s3,-dx,dy), float4x4(0.063854634761810,0.153498768806458,-0.054565276950598,0.034962695091963,0.004222773481160,0.004350448958576,-0.023244785144925,-0.055430363863707,-0.087131381034851,0.016401242464781,-0.081587187945843,0.064764469861984,0.138620540499687,0.038333453238010,-0.060352001339197,-0.016867147758603));
res += mul(Get(s3,0,-dy), float4x4(-0.095445305109024,-0.063219830393791,-0.027661804109812,-0.058570157736540,-0.130341857671738,-0.287924766540527,0.100412689149380,-0.003715128637850,-0.215341106057167,-0.141977667808533,-0.093998789787292,0.162880823016167,0.128022551536560,-0.161358296871185,-0.084133803844452,-0.176821485161781));
res += mul(Get(s3,0,0), float4x4(-0.095604591071606,0.005511583760381,-0.138256117701530,0.042747493833303,-0.207709982991219,0.130627989768982,0.014442127197981,-0.127649798989296,-0.001536654541269,0.030880490317941,-0.068289101123810,-0.164864212274551,0.028694164007902,-0.103105477988720,-0.042981859296560,0.069959565997124));
res += mul(Get(s3,0,dy), float4x4(-0.036659426987171,-0.178454712033272,0.151584848761559,0.012089727446437,-0.013494247570634,-0.021576801314950,-0.062120962888002,-0.162564113736153,0.128523766994476,0.070559501647949,-0.054885894060135,-0.084068670868874,0.009464375674725,-0.229844346642494,0.254039734601974,0.066084779798985));
res += mul(Get(s3,dx,-dy), float4x4(-0.122181519865990,-0.111055143177509,0.181481286883354,0.070641748607159,0.007535113021731,0.026223042979836,-0.096156835556030,-0.142960086464882,-0.307965755462646,0.029960220679641,-0.153145119547844,-0.053444720804691,0.024424409493804,0.013550951145589,0.022506158798933,-0.059331063181162));
res += mul(Get(s3,dx,0), float4x4(-0.147399365901947,-0.270346730947495,-0.107961334288120,0.023432010784745,-0.044170297682285,0.073745451867580,-0.061391305178404,-0.013381374068558,0.108750820159912,-0.074187897145748,0.017791125923395,-0.115830942988396,-0.025126101449132,0.154654264450073,-0.075465433299541,-0.021455191075802));
res += mul(Get(s3,dx,dy), float4x4(0.023741044104099,-0.114360354840755,0.053500059992075,-0.016363702714443,-0.049554709345102,0.078760616481304,-0.068461373448372,-0.089007697999477,0.108579903841019,-0.055366542190313,-0.018930688500404,-0.181836068630219,0.017769666388631,0.012686365284026,-0.019275648519397,0.027999088168144));
return max(float4(0,0,0,0), res);
}
