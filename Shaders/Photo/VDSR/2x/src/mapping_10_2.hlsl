sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.059100147336721,0.001989887095988,0.107766062021255,0.023918464779854,-0.054037820547819,-0.006168646737933,-0.053286030888557,0.021614639088511,-0.014868991449475,-0.023885678499937,-0.101155616343021,-0.072419747710228,-0.106624662876129,-0.014414416626096,-0.022348133847117,0.003528228262439));
res += mul(Get(s0,-dx,0), float4x4(-0.086279533803463,0.001900673029013,0.013697536662221,0.044849727302790,-0.040273427963257,0.001779677579179,-0.053149148821831,-0.006744813174009,0.000661208934616,0.083954274654388,0.126786738634109,0.040072236210108,-0.012437574565411,0.042129188776016,-0.019721964374185,-0.072411343455315));
res += mul(Get(s0,-dx,dy), float4x4(0.092619098722935,0.101059578359127,0.021690219640732,0.007443169131875,-0.114292137324810,0.021865792572498,0.009062878787518,0.099067516624928,-0.139041632413864,-0.001189062604681,0.016579408198595,0.099427476525307,-0.116451799869537,0.113523513078690,-0.016474880278111,-0.105346649885178));
res += mul(Get(s0,0,-dy), float4x4(-0.020802313461900,0.037305802106857,0.055365767329931,0.042579937726259,0.036396533250809,-0.037381637841463,-0.095007449388504,0.169908225536346,0.026746965944767,-0.020538173615932,0.008852636441588,-0.091798879206181,0.003365573473275,0.027763064950705,0.005350810941309,0.011955050751567));
res += mul(Get(s0,0,0), float4x4(0.045890033245087,-0.014464966021478,0.118306428194046,0.178803414106369,0.002838651649654,0.016675898805261,-0.112589173018932,-0.086730502545834,0.030530260875821,0.036749292165041,0.194372937083244,-0.113470099866390,0.031500335782766,0.029287137091160,-0.015683094039559,0.014641921035945));
res += mul(Get(s0,0,dy), float4x4(0.005908648483455,-0.013719270005822,0.044345639646053,0.160120025277138,0.031352892518044,0.002990603912622,0.026761820539832,-0.063683144748211,-0.051595866680145,-0.045842714607716,-0.022793877869844,0.129406362771988,0.064380899071693,0.042252276092768,-0.040890324860811,-0.108770698308945));
res += mul(Get(s0,dx,-dy), float4x4(-0.030894743278623,-0.011180253699422,-0.063861183822155,0.020410127937794,-0.050509579479694,-0.015768488869071,0.099147424101830,0.078180201351643,-0.101366892457008,-0.055501095950603,-0.102820061147213,0.047833114862442,0.057417906820774,0.072552971541882,-0.005860200151801,0.007276292424649));
res += mul(Get(s0,dx,0), float4x4(0.008898642845452,0.014867878518999,-0.065776631236076,0.009854897856712,-0.007828113622963,0.029128585010767,0.016506338492036,-0.033342882990837,0.049748294055462,0.020261395722628,0.005834622774273,-0.057541675865650,0.043815989047289,0.066620603203773,-0.066119067370892,0.008208895102143));
res += mul(Get(s0,dx,dy), float4x4(0.043568704277277,-0.011971054598689,-0.044336907565594,0.139616593718529,-0.051037713885307,0.053224131464958,-0.088673204183578,-0.117139779031277,0.062885552644730,0.022375779226422,0.015073627233505,0.095241628587246,0.116140037775040,0.061571236699820,-0.064813271164894,-0.062976904213428));
res += mul(Get(s1,-dx,-dy), float4x4(-0.036139462143183,-0.002812096849084,0.159149900078773,-0.023053651675582,-0.098282970488071,-0.021265799179673,0.040401741862297,0.077171921730042,0.021496048197150,0.058429822325706,-0.010367947630584,0.015561402775347,0.059171237051487,-0.014577815309167,0.010821633040905,-0.021310897544026));
res += mul(Get(s1,-dx,0), float4x4(-0.088576309382915,0.033404335379601,0.177230715751648,0.023864367976785,-0.071066819131374,-0.004112155642360,0.093927443027496,0.093846753239632,-0.106889203190804,0.055791381746531,-0.045300718396902,0.030149636790156,-0.101350732147694,0.009809849783778,0.083610720932484,0.036410100758076));
res += mul(Get(s1,-dx,dy), float4x4(-0.086448997259140,0.029955552890897,0.101215697824955,-0.061911441385746,-0.059860259294510,0.053766366094351,-0.015135878697038,-0.039566453546286,-0.020786922425032,0.046564448624849,-0.042194280773401,0.081821620464325,-0.034400783479214,0.019809046760201,0.083293162286282,-0.075007610023022));
res += mul(Get(s1,0,-dy), float4x4(-0.001618567621335,-0.054292783141136,-0.063893817365170,-0.118216328322887,0.070641145110130,0.018656099215150,0.100636512041092,0.001060997834429,0.089685052633286,0.070670634508133,-0.095161817967892,0.016533831134439,0.079631246626377,-0.024962345138192,0.051611483097076,0.034002497792244));
res += mul(Get(s1,0,0), float4x4(0.001186981098726,-0.024938333779573,-0.014753521420062,0.018349083140492,0.020961955189705,-0.002444697543979,0.090148493647575,0.053814288228750,-0.051940634846687,0.013706972822547,-0.056120123714209,0.043330680578947,0.028772795572877,0.007960784249008,0.012653333134949,0.153308033943176));
res += mul(Get(s1,0,dy), float4x4(-0.067611098289490,0.076088190078735,0.043137848377228,-0.008517953567207,-0.129972204566002,-0.049255158752203,0.017133414745331,-0.041544936597347,0.041306689381599,0.026188915595412,0.002520836191252,-0.057968825101852,-0.103914931416512,0.031374823302031,0.002006673486903,-0.012938925065100));
res += mul(Get(s1,dx,-dy), float4x4(-0.043489594012499,0.021251557394862,-0.008295520208776,-0.165685206651688,-0.017795136198401,0.082706011831760,0.073160514235497,-0.043454371392727,0.073637388646603,0.031030129641294,-0.090347826480865,0.026865987107158,0.027564750984311,-0.001459049293771,-0.079562917351723,0.042475935071707));
res += mul(Get(s1,dx,0), float4x4(0.003049496794119,-0.026320319622755,0.100301921367645,0.002310307230800,0.019670227542520,-0.040772959589958,0.062925465404987,0.035844106227160,-0.028421316295862,0.028838498517871,0.005793152377009,0.011171305552125,-0.014941161498427,0.052949186414480,-0.017058409750462,0.030567055568099));
res += mul(Get(s1,dx,dy), float4x4(-0.089909292757511,0.035373784601688,-0.021981906145811,0.129418343305588,0.013506572693586,-0.042160771787167,-0.011978976428509,-0.093012169003487,0.024222688749433,0.022702863439918,-0.035987939685583,0.103235423564911,0.077231213450432,0.027430564165115,-0.025127813220024,-0.015194466337562));
res += mul(Get(s2,-dx,-dy), float4x4(0.063116654753685,0.050607055425644,-0.071078740060329,-0.053634453564882,0.027824766933918,-0.083233870565891,0.021945985034108,0.008863454684615,-0.010927021503448,0.001767085515894,-0.065162293612957,0.009299966506660,-0.015925383195281,-0.034458652138710,-0.085250161588192,-0.060002598911524));
res += mul(Get(s2,-dx,0), float4x4(-0.053753163665533,-0.000112293142593,0.072636507451534,-0.037930890917778,-0.005646230652928,0.002056096680462,0.085789628326893,-0.048673562705517,0.094988204538822,0.028319332748652,0.027596067637205,0.023367371410131,0.024875573813915,-0.060392092913389,-0.076865091919899,-0.068160422146320));
res += mul(Get(s2,-dx,dy), float4x4(-0.007697850465775,-0.061792355030775,-0.056009270250797,-0.089674279093742,0.028062248602509,0.048533733934164,-0.012499715201557,0.023415567353368,-0.107455745339394,0.033505704253912,0.052556656301022,0.145615696907043,0.006482918281108,0.009573471732438,0.004283910617232,-0.073067605495453));
res += mul(Get(s2,0,-dy), float4x4(-0.012200084514916,-0.015538549982011,0.050778523087502,-0.015280785970390,0.011708739213645,-0.011096011847258,0.045730702579021,-0.054007627069950,0.007459410466254,0.045968160033226,-0.049003355205059,-0.034206535667181,-0.005543352104723,-0.036810092628002,-0.001821078243665,0.035320982336998));
res += mul(Get(s2,0,0), float4x4(0.149935856461525,-0.061177406460047,0.060420230031013,0.087392061948776,-0.046731770038605,0.018125558272004,0.023193258792162,-0.012234054505825,0.037840057164431,0.017398215830326,0.030938463285565,-0.060558095574379,-0.001693573314697,-0.015071844682097,0.130386278033257,-0.058618046343327));
res += mul(Get(s2,0,dy), float4x4(0.044727262109518,-0.032011620700359,-0.023123793303967,0.029793445020914,-0.002211187034845,0.081566251814365,0.133876621723175,-0.087125368416309,-0.049366410821676,0.022218156605959,0.036349248141050,-0.055167179554701,0.003227811073884,-0.018910473212600,0.082335777580738,0.008826369419694));
res += mul(Get(s2,dx,-dy), float4x4(-0.044387012720108,-0.003887539729476,0.002492557978258,0.043302297592163,0.147293016314507,-0.018287371844053,-0.029157588258386,-0.056584767997265,-0.058423843234777,0.031574152410030,-0.005071744322777,0.041268073022366,0.007348625920713,-0.035431738942862,0.028187360614538,0.071901991963387));
res += mul(Get(s2,dx,0), float4x4(0.044882748275995,0.079091563820839,-0.037080246955156,-0.086541138589382,-0.010769423097372,0.007936678826809,0.011236279271543,-0.041612181812525,0.131365120410919,0.069974839687347,0.091686122119427,0.040019400417805,0.017739817500114,-0.022653937339783,-0.032447721809149,-0.087225340306759));
res += mul(Get(s2,dx,dy), float4x4(0.054559662938118,0.062540329992771,0.072748973965645,-0.019376946613193,0.014449089765549,-0.007401125505567,-0.049727711826563,-0.028875403106213,-0.024245908483863,0.032371420413256,0.104095511138439,-0.084791563451290,0.010455342009664,-0.026576820760965,-0.138147801160812,-0.005221412051469));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011380997486413,-0.053646877408028,0.004726980347186,-0.061970755457878,-0.083596982061863,0.026990020647645,-0.035088349133730,-0.001720539876260,0.007541046012193,-0.020781066268682,0.013115205802023,0.241270244121552,0.021430242806673,0.002186933066696,-0.044938750565052,-0.058210443705320));
res += mul(Get(s3,-dx,0), float4x4(0.140895172953606,-0.016098614782095,0.009324940852821,-0.092783741652966,-0.033283438533545,-0.032929632812738,-0.084236145019531,0.078031107783318,0.090702228248119,0.084501445293427,0.092611066997051,0.084842853248119,0.147378742694855,0.007656152825803,0.008448436856270,0.058276589959860));
res += mul(Get(s3,-dx,dy), float4x4(0.010688269510865,-0.034371916204691,0.086936436593533,-0.068327859044075,-0.005664296448231,0.018259653821588,-0.118764705955982,-0.135790809988976,0.029451057314873,0.003432636382058,-0.105604000389576,0.046752408146858,-0.031316973268986,-0.032121416181326,-0.006723512895405,-0.011685281060636));
res += mul(Get(s3,0,-dy), float4x4(0.031650520861149,-0.080230936408043,0.164115101099014,-0.041917815804482,-0.087302714586258,-0.024954516440630,-0.001003456767648,-0.084945403039455,0.029312990605831,-0.016357982531190,0.005833036731929,0.165155127644539,0.001753216143698,-0.022894116118550,0.206623569130898,-0.039468970149755));
res += mul(Get(s3,0,0), float4x4(0.070116408169270,-0.048343624919653,-0.054221402853727,-0.039195194840431,-0.057085789740086,-0.018734723329544,0.210419729351997,0.154740422964096,0.114130653440952,0.076785929501057,-0.033729307353497,-0.073216699063778,0.271432459354401,-0.010221355594695,-0.024771712720394,0.116565197706223));
res += mul(Get(s3,0,dy), float4x4(-0.043322268873453,-0.034199677407742,0.028050605207682,0.012775160372257,-0.062915936112404,-0.029920803382993,0.238309025764465,0.139839246869087,0.075205206871033,-0.019429935142398,0.142332032322884,0.080238021910191,-0.027358958497643,-0.028255354613066,-0.045865882188082,0.036883998662233));
res += mul(Get(s3,dx,-dy), float4x4(0.047158826142550,-0.075168050825596,-0.045883961021900,-0.081329256296158,-0.055441789329052,-0.040815487504005,0.044060826301575,-0.001740750856698,-0.080104902386665,0.009912762790918,-0.031123522669077,0.169315576553345,-0.000957331503741,-0.012005599215627,-0.004080709069967,-0.062301818281412));
res += mul(Get(s3,dx,0), float4x4(-0.024430193006992,-0.048667244613171,-0.006908743176609,-0.136212483048439,0.025888236239552,0.020914014428854,0.032506369054317,-0.116286277770996,0.007958825677633,0.010003221221268,-0.046729877591133,0.079110227525234,0.108638212084770,0.010581019334495,-0.069694958627224,0.034266468137503));
res += mul(Get(s3,dx,dy), float4x4(-0.001587217557244,-0.042687099426985,0.020971814170480,-0.030357766896486,0.035700950771570,0.025564704090357,0.042541019618511,-0.054926708340645,0.019086973741651,0.048398289829493,-0.088034711778164,0.106395550072193,0.068722240626812,-0.051130775362253,-0.027927635237575,0.033263687044382));
return max(float4(0,0,0,0), res);
}
