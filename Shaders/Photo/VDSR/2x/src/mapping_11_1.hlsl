sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.072388462722301,-0.051152851432562,0.033805560320616,-0.043556030839682,-0.105332806706429,-0.170222714543343,-0.110637374222279,-0.167319580912590,0.166818678379059,-0.126042261719704,0.068745538592339,-0.133220016956329,0.029457269236445,-0.003014754503965,0.172657981514931,0.028547521680593));
res += mul(Get(s0,-dx,0), float4x4(-0.056287489831448,-0.028280794620514,0.054982181638479,0.057974971830845,0.040176566690207,0.037426393479109,-0.113013394176960,0.022483054548502,-0.041442696005106,0.045830052345991,0.100330062210560,-0.020188957452774,-0.059820551425219,-0.116155378520489,0.092664539813995,0.102046079933643));
res += mul(Get(s0,-dx,dy), float4x4(0.062226835638285,-0.030016629025340,-0.049940142780542,0.139420732855797,-0.052215717732906,-0.064096741378307,-0.107133440673351,-0.316918998956680,0.061281021684408,0.098944075405598,-0.043555997312069,-0.059459395706654,-0.179259404540062,0.025217035785317,0.078518517315388,0.061923038214445));
res += mul(Get(s0,0,-dy), float4x4(-0.187469199299812,0.037528477609158,0.054170176386833,-0.107608914375305,-0.237135678529739,-0.271736592054367,0.076328463852406,-0.070406399667263,-0.081459313631058,-0.122733920812607,0.168507605791092,-0.095902428030968,0.135553047060966,-0.110103197395802,0.071439415216446,0.122175209224224));
res += mul(Get(s0,0,0), float4x4(-0.177084609866142,0.035859566181898,0.077292673289776,0.074308320879936,0.072182707488537,0.157086580991745,0.123394414782524,0.000018288843421,-0.132582962512970,0.118571445345879,-0.086623542010784,0.067359276115894,-0.091864898800850,-0.059999588876963,0.195819094777107,0.090486459434032));
res += mul(Get(s0,0,dy), float4x4(-0.222191408276558,0.116239048540592,0.000256883067777,-0.016906507313251,0.070352204144001,-0.049402587115765,-0.187925130128860,0.120836928486824,0.217965275049210,-0.116381093859673,-0.088894851505756,-0.121864661574364,0.253908336162567,-0.051760457456112,-0.050842572003603,0.260286539793015));
res += mul(Get(s0,dx,-dy), float4x4(-0.104171916842461,0.023657590150833,-0.242979481816292,0.065422102808952,-0.000445027457317,-0.015410470776260,0.018283110111952,-0.070341117680073,0.111102357506752,-0.002820299006999,0.092657588422298,0.046452149748802,-0.145186200737953,0.100143708288670,0.192328557372093,-0.059074126183987));
res += mul(Get(s0,dx,0), float4x4(0.121542669832706,0.018948035314679,0.059396211057901,-0.139747038483620,-0.099090039730072,-0.090523473918438,0.101822353899479,-0.009363974444568,0.092672504484653,0.070452839136124,-0.084935314953327,-0.050907690078020,0.034949608147144,0.017485506832600,0.114018537104130,0.065678194165230));
res += mul(Get(s0,dx,dy), float4x4(-0.051359642297029,0.137664884328842,0.035833667963743,-0.072779245674610,0.159128129482269,-0.056087605655193,0.080533728003502,0.049524214118719,0.103502169251442,0.071414284408092,0.175126567482948,-0.104922994971275,0.023152576759458,0.231108129024506,-0.047602001577616,0.058236461132765));
res += mul(Get(s1,-dx,-dy), float4x4(-0.093580856919289,-0.124941460788250,-0.028713295236230,0.338147550821304,-0.008951083756983,-0.152676850557327,0.119216814637184,-0.170594483613968,-0.120703816413879,0.072660528123379,-0.123917840421200,0.014086473733187,0.111527621746063,-0.045809406787157,0.074879825115204,0.032190304249525));
res += mul(Get(s1,-dx,0), float4x4(0.067291975021362,0.045263085514307,-0.015030147507787,-0.148373767733574,0.111987747251987,-0.095224037766457,0.101505003869534,-0.076324194669724,-0.012071465142071,-0.030691202729940,-0.106384031474590,-0.095998376607895,-0.065917745232582,0.050156142562628,-0.093792386353016,0.162152647972107));
res += mul(Get(s1,-dx,dy), float4x4(-0.098759956657887,-0.114308871328831,0.120992138981819,-0.085682474076748,-0.037788521498442,0.065206162631512,0.060909055173397,0.005232476629317,0.208282440900803,-0.147716864943504,0.112570792436600,-0.201564073562622,0.075767524540424,-0.077542550861835,-0.020973082631826,-0.067960344254971));
res += mul(Get(s1,0,-dy), float4x4(-0.182367578148842,-0.107102230191231,0.009332695975900,-0.068938173353672,-0.018861709162593,0.253569930791855,0.026260774582624,-0.002578274579719,-0.123539909720421,0.052234597504139,0.116502925753593,0.108341172337532,-0.054098118096590,-0.116132386028767,-0.037479594349861,-0.005272821988910));
res += mul(Get(s1,0,0), float4x4(0.048036191612482,0.072386197745800,-0.039373382925987,-0.095623522996902,-0.071795761585236,-0.019011976197362,-0.054802380502224,-0.017300851643085,0.111052423715591,0.113781869411469,-0.034872785210609,0.007030652835965,0.096456624567509,-0.042700085788965,0.187696024775505,-0.264636427164078));
res += mul(Get(s1,0,dy), float4x4(0.007886135019362,-0.055676605552435,-0.091737113893032,-0.149217188358307,0.037020377814770,0.036761362105608,-0.075335338711739,0.119643151760101,-0.056443858891726,-0.011196164414287,0.139649152755737,0.050699144601822,-0.073916129767895,-0.016750067472458,0.037738695740700,-0.100119620561600));
res += mul(Get(s1,dx,-dy), float4x4(-0.011013939976692,-0.001127419061959,-0.035923931747675,-0.006705948617309,0.118860453367233,-0.100906245410442,0.001144558191299,0.016880493611097,-0.162656113505363,-0.087342940270901,0.046706929802895,-0.112469963729382,0.040736630558968,-0.099549435079098,-0.060965314507484,-0.105795875191689));
res += mul(Get(s1,dx,0), float4x4(0.151277124881744,0.202048882842064,0.042941473424435,-0.166971847414970,0.073336251080036,0.031899470835924,-0.096115715801716,0.054576598107815,-0.097857818007469,-0.088849179446697,0.077138580381870,0.130921185016632,0.128807500004768,0.074561350047588,-0.003925047349185,0.002570384182036));
res += mul(Get(s1,dx,dy), float4x4(-0.034426122903824,0.138155058026314,0.063057966530323,-0.080896511673927,-0.048690386116505,0.019864546135068,0.008733335882425,-0.004829891491681,-0.119530692696571,-0.016635812819004,-0.130921527743340,0.006511162966490,-0.067605093121529,0.098119884729385,0.004342638887465,0.080073855817318));
res += mul(Get(s2,-dx,-dy), float4x4(-0.095910400152206,0.033560104668140,-0.275858998298645,-0.116727553308010,-0.035107303410769,0.070982307195663,-0.054860878735781,0.114387899637222,-0.161574646830559,0.023336296901107,-0.057011380791664,-0.108247019350529,-0.038111079484224,0.050538871437311,-0.081188395619392,-0.085422329604626));
res += mul(Get(s2,-dx,0), float4x4(-0.104970477521420,0.076328396797180,0.014480288140476,0.108309313654900,-0.168545663356781,-0.081419333815575,-0.033897977322340,0.047410186380148,-0.008951766416430,-0.056822996586561,0.113782219588757,0.061133190989494,-0.025738675147295,0.247477039694786,0.172278016805649,0.025086326524615));
res += mul(Get(s2,-dx,dy), float4x4(-0.089458510279655,-0.048076007515192,0.018710585311055,-0.118213623762131,0.048205491155386,0.061784863471985,-0.029179956763983,-0.082651391625404,-0.046553082764149,0.004680487792939,-0.158446520566940,0.201657846570015,0.002644405467436,-0.122676685452461,-0.046946927905083,-0.091079108417034));
res += mul(Get(s2,0,-dy), float4x4(-0.084448412060738,0.160935893654823,-0.147111997008324,-0.255043804645538,-0.026677358895540,-0.067774698138237,0.137222722172737,0.041742123663425,-0.021271577104926,-0.075223870575428,-0.041205920279026,-0.047577474266291,-0.046931691467762,-0.120695620775223,0.035593941807747,-0.006205169484019));
res += mul(Get(s2,0,0), float4x4(0.039888795465231,0.067516230046749,0.036074273288250,0.148906156420708,-0.076661922037601,-0.226670235395432,0.047381401062012,-0.132074341177940,-0.057190798223019,0.083516761660576,-0.018451312556863,0.004737545736134,-0.019605712965131,0.064764663577080,0.036544241011143,0.145146861672401));
res += mul(Get(s2,0,dy), float4x4(-0.014697141945362,0.102260515093803,-0.042905576527119,0.115307159721851,0.063481532037258,-0.040154084563255,-0.090966366231441,-0.034162931144238,0.033063005656004,0.029576377943158,-0.196060478687286,-0.098219536244869,0.163545787334442,0.152785420417786,-0.047388050705194,0.012347077950835));
res += mul(Get(s2,dx,-dy), float4x4(-0.063457660377026,0.046584330499172,-0.099025353789330,0.025666343048215,-0.023165557533503,-0.135416820645332,-0.052781522274017,0.045298330485821,-0.154051974415779,-0.023627020418644,0.081336461007595,-0.068787075579166,0.023422490805387,-0.154567167162895,-0.234528675675392,0.011847378686070));
res += mul(Get(s2,dx,0), float4x4(-0.199030756950378,-0.122667744755745,-0.031980942934752,0.106045775115490,-0.059078920632601,-0.079679027199745,0.189924120903015,-0.051746848970652,0.011446273885667,-0.073821038007736,-0.006105828098953,-0.070722699165344,0.008562320843339,0.058944080024958,0.070596121251583,-0.041494086384773));
res += mul(Get(s2,dx,dy), float4x4(0.188759401440620,-0.060191106051207,0.007432532962412,0.167675033211708,-0.021116973832250,-0.045585583895445,-0.187789022922516,-0.065870776772499,-0.078872427344322,-0.025842638686299,-0.072264038026333,-0.003787302877754,-0.131420075893402,-0.176412627100945,0.145750701427460,-0.093751534819603));
res += mul(Get(s3,-dx,-dy), float4x4(0.016021410003304,-0.030664680525661,0.061896238476038,-0.081852406263351,0.004948148969561,-0.167410299181938,0.083095110952854,-0.043112140148878,-0.029609629884362,0.024750603362918,0.033621899783611,-0.010597518645227,-0.052169937640429,-0.044630777090788,-0.089876167476177,-0.025087729096413));
res += mul(Get(s3,-dx,0), float4x4(-0.036049541085958,0.111744180321693,0.096931040287018,-0.013003682717681,-0.081881180405617,0.170826509594917,0.014692473225296,0.053675916045904,-0.167931973934174,0.072593398392200,-0.043574925512075,-0.104350678622723,-0.013028047978878,-0.100546590983868,0.215870231389999,-0.095901712775230));
res += mul(Get(s3,-dx,dy), float4x4(-0.063939079642296,0.111896261572838,0.131999298930168,0.065573491156101,-0.170498907566071,0.056156318634748,0.115189746022224,-0.155211091041565,-0.053740341216326,-0.075665861368179,-0.040805932134390,-0.019682006910443,-0.022472217679024,0.032540291547775,0.068514682352543,-0.058658979833126));
res += mul(Get(s3,0,-dy), float4x4(0.140114858746529,-0.057757262140512,-0.078223161399364,-0.088526599109173,-0.044812936335802,0.179673582315445,-0.223997324705124,0.192660555243492,-0.054650995880365,-0.089414484798908,0.152717903256416,0.141023501753807,-0.081659719347954,0.008759303949773,-0.004629621282220,-0.127135425806046));
res += mul(Get(s3,0,0), float4x4(0.017492830753326,0.059016477316618,0.206994593143463,0.095220208168030,-0.249562874436378,-0.047188982367516,-0.003769684815779,-0.181199252605438,-0.030114207416773,0.062886372208595,-0.007512777578086,-0.121465899050236,-0.158229172229767,-0.060740735381842,0.223657682538033,-0.030255474150181));
res += mul(Get(s3,0,dy), float4x4(-0.106311947107315,0.091934360563755,-0.017732495442033,-0.016081985086203,-0.010216832160950,-0.030481418594718,-0.079532288014889,-0.052356980741024,-0.127186238765717,-0.078585200011730,-0.028677333146334,0.099868722259998,0.008497886359692,0.025071660056710,-0.104006774723530,-0.065348371863365));
res += mul(Get(s3,dx,-dy), float4x4(0.112088762223721,0.205387100577354,-0.066493347287178,-0.214480161666870,-0.027797218412161,0.015627732500434,-0.034698225557804,-0.110759772360325,-0.148143917322159,-0.038038548082113,-0.050400052219629,0.000235680359765,0.119810052216053,0.066645100712776,-0.097651593387127,-0.017858596518636));
res += mul(Get(s3,dx,0), float4x4(-0.008452223613858,-0.058725882321596,0.119083315134048,0.009018915705383,0.080611944198608,-0.088995724916458,-0.044018596410751,0.137650728225708,-0.213159963488579,0.038206491619349,-0.023390199989080,0.033440090715885,0.086172312498093,0.009202551096678,-0.004718434065580,-0.059531737118959));
res += mul(Get(s3,dx,dy), float4x4(-0.039995957165956,-0.024628542363644,-0.091673478484154,0.209775477647781,-0.003889148356393,0.113369844853878,0.088861152529716,-0.051984839141369,-0.008953405544162,0.094361118972301,-0.010789703577757,-0.053737830370665,0.067393869161606,-0.014186916872859,-0.007490419317037,-0.088654361665249));
return max(float4(0,0,0,0), res);
}
