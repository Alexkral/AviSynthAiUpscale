sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.085009232163429,0.175390094518661,0.026056297123432,0.062424790114164,-0.167058035731316,-0.092439778149128,0.068488113582134,-0.125587835907936,0.063759945333004,0.149171620607376,0.002677496988326,-0.123149961233139,-0.046577554196119,0.101852647960186,0.150045335292816,0.039896350353956));
res += mul(Get(s0,-dx,0), float4x4(-0.054006248712540,-0.038383767008781,-0.065603844821453,0.082115210592747,0.073580063879490,0.053002711385489,0.126210480928421,-0.106745615601540,-0.057715576142073,-0.055220402777195,-0.060358133167028,-0.103432722389698,0.080742605030537,0.016394041478634,0.075555533170700,-0.092696964740753));
res += mul(Get(s0,-dx,dy), float4x4(-0.070042677223682,-0.044832717627287,0.042073890566826,-0.013060044497252,-0.042328454554081,-0.078962452709675,-0.091810449957848,0.099657677114010,-0.142910316586494,0.140508085489273,-0.016364257782698,-0.053268987685442,0.048190090805292,0.068925708532333,-0.211675137281418,0.090159684419632));
res += mul(Get(s0,0,-dy), float4x4(-0.099094353616238,-0.146842196583748,0.035315599292517,0.010013181716204,0.085308082401752,0.017944408580661,-0.102746598422527,0.048575777560472,0.125078096985817,0.027185149490833,-0.021973978728056,-0.046701826155186,0.015848115086555,-0.074171006679535,-0.133581757545471,0.058121696114540));
res += mul(Get(s0,0,0), float4x4(-0.029050998389721,0.009408112615347,0.222261667251587,-0.098350189626217,0.128452256321907,-0.193628832697868,0.054458603262901,0.017810396850109,0.190407395362854,-0.073979720473289,0.050377067178488,0.243952974677086,0.116564035415649,0.104325331747532,0.021313559263945,0.137458965182304));
res += mul(Get(s0,0,dy), float4x4(-0.192991539835930,0.003163530258462,-0.081891871988773,-0.176719710230827,-0.042119920253754,-0.108423061668873,0.139976352453232,0.164467349648476,0.029124274849892,0.091525927186012,0.185071334242821,-0.000033255852031,0.102609299123287,0.012245807796717,-0.055722922086716,0.000777072214987));
res += mul(Get(s0,dx,-dy), float4x4(-0.047315571457148,-0.010473411530256,-0.040413603186607,-0.039321247488260,0.051132366061211,-0.122737966477871,-0.024420607835054,0.043623954057693,-0.001162010943517,-0.087583556771278,-0.078342743217945,0.027443502098322,0.016749026253819,-0.017686707898974,0.148076772689819,0.043161001056433));
res += mul(Get(s0,dx,0), float4x4(-0.047998536378145,0.152152180671692,-0.024306749925017,-0.017749935388565,0.075359866023064,0.028755074366927,-0.017527628690004,0.013606181368232,-0.025726912543178,-0.019772913306952,0.023240217939019,-0.015460480935872,0.072617389261723,-0.097649864852428,0.060455858707428,-0.078675016760826));
res += mul(Get(s0,dx,dy), float4x4(-0.239542111754417,-0.106650978326797,-0.151992499828339,-0.230601757764816,0.050944246351719,-0.108600579202175,0.000535153143574,-0.006589392665774,-0.124802902340889,0.001908736187033,-0.105592325329781,-0.015138230286539,0.027362136170268,0.221964389085770,0.103274509310722,-0.059011563658714));
res += mul(Get(s1,-dx,-dy), float4x4(0.032669689506292,-0.016105445101857,0.072741098701954,-0.083642244338989,-0.000958498858381,0.030332261696458,-0.061277322471142,-0.017394684255123,-0.164956107735634,0.009872796013951,-0.054766897112131,0.171123534440994,-0.019006628543139,-0.034684576094151,0.060988653451204,0.121377520263195));
res += mul(Get(s1,-dx,0), float4x4(-0.143035069108009,0.110526010394096,0.020256068557501,0.054195653647184,-0.053065001964569,0.066661708056927,-0.186351910233498,-0.109419964253902,-0.041171636432409,0.147552892565727,0.067198820412159,0.026586748659611,-0.125810429453850,0.054530426859856,0.021252978593111,0.031390726566315));
res += mul(Get(s1,-dx,dy), float4x4(0.164553567767143,0.053709857165813,-0.093495145440102,-0.120708204805851,-0.044035274535418,-0.061931453645229,0.018016180023551,0.111831784248352,0.102240025997162,0.057314828038216,0.014752887189388,-0.030821353197098,-0.000558205298148,0.042465884238482,-0.022678714245558,0.155277401208878));
res += mul(Get(s1,0,-dy), float4x4(-0.015234918333590,0.150035694241524,-0.028999192640185,0.041025519371033,0.156787633895874,0.093915894627571,0.053824920207262,0.083808705210686,-0.023820549249649,0.008459233678877,-0.030883256345987,0.035630520433187,0.056525867432356,-0.043417826294899,-0.226702421903610,0.038465186953545));
res += mul(Get(s1,0,0), float4x4(-0.262403488159180,-0.118638254702091,0.118352726101875,-0.059413045644760,0.112585827708244,-0.125978305935860,-0.089438118040562,0.153091266751289,0.033329036086798,0.128412544727325,-0.075707897543907,-0.233191281557083,0.015621932223439,0.039788980036974,0.058969762176275,-0.005165132228285));
res += mul(Get(s1,0,dy), float4x4(0.031055638566613,-0.051674261689186,-0.087280623614788,0.061931781470776,0.064578346908092,0.062841117382050,-0.077083550393581,0.104130782186985,-0.052931290119886,0.120070800185204,-0.005296212155372,0.002161046024412,0.008412100374699,0.117855258285999,-0.134376227855682,-0.000792621402070));
res += mul(Get(s1,dx,-dy), float4x4(-0.015713280066848,0.113186314702034,-0.034993708133698,0.153615728020668,0.188454881310463,-0.001102779177018,-0.044759064912796,-0.058643646538258,0.038982920348644,0.007572904694825,0.095402605831623,0.084613561630249,0.088855862617493,0.048884436488152,0.024995462968946,0.080313391983509));
res += mul(Get(s1,dx,0), float4x4(0.060492154210806,-0.107797227799892,0.015720723196864,-0.114484533667564,0.040406640619040,-0.095047906041145,-0.225173741579056,0.137824937701225,0.075691036880016,0.145182356238365,-0.143890142440796,-0.014413204975426,0.099831640720367,0.144937038421631,0.072971142828465,0.119049802422523));
res += mul(Get(s1,dx,dy), float4x4(-0.039883535355330,0.092921011149883,0.007125524803996,0.060579761862755,0.030385326594114,-0.053911317139864,-0.143727079033852,0.130248278379440,-0.072537548840046,0.043435316532850,-0.200162455439568,0.099860914051533,-0.074077300727367,-0.152105525135994,-0.137585029006004,0.061037894338369));
res += mul(Get(s2,-dx,-dy), float4x4(0.041583936661482,-0.062778413295746,0.025486545637250,0.098583795130253,-0.046759434044361,0.062529996037483,0.090868100523949,-0.108028516173363,-0.085402257740498,0.003635900560766,-0.063237152993679,-0.076704420149326,-0.236235678195953,-0.313840448856354,0.251920610666275,0.054296802729368));
res += mul(Get(s2,-dx,0), float4x4(-0.137858778238297,-0.036234702914953,0.036012761294842,0.122169278562069,0.088876292109489,-0.029962548986077,-0.065948344767094,0.013353304006159,-0.073714308440685,-0.032162535935640,-0.113806292414665,0.072906605899334,0.088742054998875,-0.318730711936951,-0.027536088600755,0.259280234575272));
res += mul(Get(s2,-dx,dy), float4x4(-0.131840258836746,-0.028887437656522,-0.062872812151909,0.141257196664810,0.099571526050568,-0.108421348035336,-0.059050846844912,-0.056697186082602,-0.090344309806824,0.063444480299950,-0.103496536612511,0.158902853727341,-0.108909107744694,0.055341549217701,0.062180124223232,-0.144339308142662));
res += mul(Get(s2,0,-dy), float4x4(0.225353851914406,0.133023887872696,0.117336355149746,-0.138917461037636,0.056405149400234,0.006953213363886,-0.010706956498325,0.091456457972527,0.076343499124050,0.107122845947742,-0.188011333346367,0.054726209491491,-0.236958518624306,-0.255959481000900,0.142513930797577,0.034793227910995));
res += mul(Get(s2,0,0), float4x4(-0.121772982180119,-0.014525901526213,0.007591989357024,0.079833306372166,0.084184408187866,-0.030187269672751,-0.188510701060295,0.027729414403439,0.090786710381508,0.334454178810120,0.085786320269108,0.137341201305389,-0.016311861574650,0.032212164252996,-0.142459824681282,0.005756544880569));
res += mul(Get(s2,0,dy), float4x4(-0.005944040138274,-0.032447919249535,0.130034878849983,-0.073992170393467,-0.063367448747158,-0.017955003306270,-0.152670443058014,0.031600583344698,-0.060517836362123,-0.001708017778583,-0.020310200750828,-0.109872974455357,0.123928986489773,-0.095587074756622,-0.082227848470211,-0.048273544758558));
res += mul(Get(s2,dx,-dy), float4x4(-0.057401340454817,0.111772879958153,0.009812136180699,0.050125267356634,0.150370910763741,-0.104281887412071,0.214666515588760,-0.020507551729679,0.075108855962753,0.122405156493187,-0.001925203599967,-0.033931531012058,0.006398572120816,-0.125200554728508,0.132945075631142,-0.058221425861120));
res += mul(Get(s2,dx,0), float4x4(0.184680998325348,0.173240825533867,-0.147222980856895,0.029060499742627,-0.119478940963745,-0.027053287252784,-0.042277399450541,-0.017803294584155,-0.150438249111176,-0.052260313183069,0.112600207328796,0.013622579164803,0.132958635687828,0.021932728588581,-0.202985569834709,0.101459018886089));
res += mul(Get(s2,dx,dy), float4x4(0.059877391904593,0.156870201230049,0.068047687411308,0.018039226531982,-0.062456957995892,0.001909202779643,0.024661842733622,-0.080246388912201,0.152553632855415,-0.015265858732164,-0.131227180361748,-0.006216192152351,0.073579028248787,0.146087095141411,0.145556330680847,0.076632626354694));
res += mul(Get(s3,-dx,-dy), float4x4(0.068173550069332,-0.111517757177353,-0.096890516579151,0.191828161478043,0.190128013491631,0.160055413842201,0.094308823347092,-0.046965714544058,-0.078288935124874,-0.057797461748123,-0.075822725892067,0.101516298949718,0.013366229832172,-0.070316746830940,0.056379105895758,0.180333405733109));
res += mul(Get(s3,-dx,0), float4x4(0.068556658923626,-0.083010010421276,-0.092497073113918,-0.103529632091522,0.177744179964066,-0.071122735738754,0.072977535426617,-0.022871762514114,-0.136671870946884,0.076992072165012,0.011666307225823,0.081781737506390,-0.028140954673290,-0.007125892210752,0.115694314241409,0.040161736309528));
res += mul(Get(s3,-dx,dy), float4x4(-0.101426795125008,0.136491298675537,0.044936511665583,0.004639040678740,0.273716598749161,0.092626027762890,-0.124174654483795,0.011208224110305,0.039411954581738,-0.031163383275270,-0.079033501446247,0.060732364654541,0.042256090790033,0.133048295974731,-0.104178644716740,0.027140265330672));
res += mul(Get(s3,0,-dy), float4x4(0.126816466450691,0.002944997278973,0.105808317661285,-0.166093170642853,0.138086080551147,-0.119124732911587,0.012369378469884,-0.104100495576859,-0.041805781424046,0.106565505266190,-0.040341496467590,-0.022980008274317,0.095792837440968,0.088122501969337,-0.071381635963917,0.038891095668077));
res += mul(Get(s3,0,0), float4x4(-0.000572542368900,-0.115212969481945,0.165881067514420,0.167132258415222,0.204712361097336,-0.093465819954872,-0.037105720490217,-0.083492107689381,-0.069594860076904,-0.177299663424492,0.066548578441143,-0.166803300380707,-0.167466387152672,-0.155912578105927,-0.086066983640194,-0.122207939624786));
res += mul(Get(s3,0,dy), float4x4(0.118588745594025,-0.060487344861031,0.069991640746593,-0.040057852864265,0.050633855164051,0.008712141774595,0.169182017445564,-0.182947203516960,-0.002549378667027,0.077038578689098,0.062944158911705,0.099300168454647,-0.056499172002077,0.017597002908587,-0.239974901080132,0.086577393114567));
res += mul(Get(s3,dx,-dy), float4x4(-0.029312551021576,0.118964575231075,-0.049611523747444,-0.020513426512480,-0.216362789273262,0.121369972825050,0.000732607906684,-0.094469889998436,0.063110999763012,-0.080945357680321,0.107135310769081,0.115279346704483,0.214827328920364,0.030969459563494,0.001593792811036,0.292289465665817));
res += mul(Get(s3,dx,0), float4x4(0.120320022106171,-0.015654308721423,0.067249298095703,-0.099923849105835,-0.095780238509178,0.070906922221184,-0.018306348472834,0.172380402684212,0.120320267975330,0.037612378597260,-0.139115348458290,0.027281261980534,-0.121646426618099,0.102910831570625,0.041817169636488,0.066857106983662));
res += mul(Get(s3,dx,dy), float4x4(-0.042056735605001,-0.009570904076099,0.091159842908382,0.075439415872097,-0.173971801996231,-0.068272329866886,-0.061895325779915,-0.043662045150995,0.099290892481804,0.024038596078753,0.115498296916485,0.135379329323769,0.045759081840515,-0.195846781134605,-0.174539595842361,0.159528106451035));
return max(float4(0,0,0,0), res);
}
