sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.028329707682133,0.010975088924170,-0.110557220876217,0.070932053029537,-0.027411125600338,0.015510922297835,-0.140310332179070,-0.044507715851068,-0.022833969444036,0.046079993247986,0.019725728780031,-0.108340516686440,-0.262804150581360,-0.163041263818741,-0.008185392245650,0.103887081146240));
res += mul(Get(s0,-dx,0), float4x4(-0.060556456446648,0.024309048429132,-0.070112586021423,0.010438744910061,-0.231418892741203,0.029495224356651,-0.116562232375145,-0.041680749505758,-0.013628118671477,0.007861334830523,-0.060110561549664,-0.057141177356243,-0.128823414444923,-0.165127366781235,-0.082627207040787,0.289343923330307));
res += mul(Get(s0,-dx,dy), float4x4(-0.063915245234966,-0.010422986932099,-0.000520289933775,0.018155740574002,0.030671201646328,0.054724842309952,0.088673084974289,-0.017271330580115,-0.051581393927336,0.023995818570256,-0.091255083680153,0.025503303855658,-0.111203499138355,-0.100980848073959,-0.113897398114204,-0.142731323838234));
res += mul(Get(s0,0,-dy), float4x4(0.000469659804367,0.096039049327374,0.053150556981564,0.036782041192055,-0.111948482692242,-0.051448099315166,-0.026295406743884,0.001159564126283,0.186515167355537,-0.145173221826553,-0.178248256444931,-0.208730727434158,-0.038897663354874,0.090565286576748,0.148537203669548,-0.046187374740839));
res += mul(Get(s0,0,0), float4x4(0.073311083018780,0.043684378266335,-0.020952051505446,0.038438320159912,0.018824836239219,-0.039827693253756,-0.163614690303802,-0.036379974335432,-0.017609044909477,-0.139398604631424,0.095595546066761,-0.148395135998726,0.038711890578270,-0.064015217125416,0.138519540429115,0.204345226287842));
res += mul(Get(s0,0,dy), float4x4(0.061154074966908,0.054726731032133,0.024128450080752,-0.049437787383795,0.045767858624458,-0.118447154760361,0.073323108255863,-0.143539369106293,-0.019953787326813,0.010997185483575,0.183521032333374,0.003649627789855,0.062723025679588,-0.129584431648254,-0.115356013178825,0.046469412744045));
res += mul(Get(s0,dx,-dy), float4x4(-0.003800917416811,0.089127115905285,-0.087453410029411,-0.091581620275974,0.009174078702927,-0.014988936483860,0.067695833742619,0.038877591490746,0.068953849375248,-0.008110824972391,-0.130784913897514,-0.085443757474422,-0.003844782477245,0.072745397686958,-0.077755674719810,-0.082396894693375));
res += mul(Get(s0,dx,0), float4x4(-0.010050450451672,-0.009348575025797,0.002760078525171,-0.118154644966125,-0.020299317315221,0.102370791137218,0.166212201118469,0.026422657072544,0.018776481971145,-0.061084896326065,-0.012078933417797,-0.105587549507618,0.090372577309608,0.071075692772865,0.080826073884964,-0.094645589590073));
res += mul(Get(s0,dx,dy), float4x4(0.077462747693062,-0.021726699545979,-0.033260282129049,-0.018562486395240,0.047415472567081,0.001495767966844,-0.013720512390137,0.000824001734145,0.120437689125538,-0.011119296774268,0.144907698035240,-0.048114530742168,-0.006771686021239,0.002558516105637,-0.006474808789790,-0.041118457913399));
res += mul(Get(s1,-dx,-dy), float4x4(-0.226774945855141,-0.084372021257877,-0.017103897407651,0.062600851058960,-0.047119092196226,0.042879160493612,-0.037509433925152,-0.043444950133562,-0.033265672624111,-0.028016516938806,0.034404430538416,-0.039597265422344,0.037782408297062,-0.040440179407597,0.015484918840230,-0.051085107028484));
res += mul(Get(s1,-dx,0), float4x4(-0.021190090104938,0.004235018510371,0.127168312668800,0.004170311149210,0.015472772531211,0.059505801647902,-0.002157497452572,-0.013871687464416,0.073173254728317,-0.050424057990313,-0.039209682494402,0.067719988524914,-0.027210662141442,-0.092634446918964,0.021269965916872,-0.040579002350569));
res += mul(Get(s1,-dx,dy), float4x4(-0.045402374118567,0.017621520906687,0.127582445740700,-0.001979351276532,-0.008019058965147,0.000371400063159,-0.006722724065185,0.116953887045383,0.052387136965990,0.080634638667107,0.037297602742910,-0.085584945976734,0.089636690914631,0.126847505569458,0.043532069772482,-0.033138401806355));
res += mul(Get(s1,0,-dy), float4x4(-0.145026132464409,0.092043578624725,-0.015259684994817,-0.153568908572197,0.023027073591948,-0.056793771684170,-0.067421987652779,-0.056710567325354,0.183732897043228,-0.094529941678047,-0.009707358665764,0.033237993717194,-0.006023848894984,-0.037088863551617,-0.042047470808029,-0.056469839066267));
res += mul(Get(s1,0,0), float4x4(0.041821524500847,0.065809920430183,-0.049052525311708,-0.164644062519073,-0.084732614457607,-0.027900792658329,0.010044865310192,-0.046012360602617,-0.075548313558102,-0.164274841547012,0.244661927223206,0.007704684510827,0.000810966244899,0.027158169075847,-0.086121737957001,-0.019851615652442));
res += mul(Get(s1,0,dy), float4x4(0.024221584200859,-0.004878262057900,0.079396724700928,0.047040477395058,-0.095045574009418,0.140100553631783,-0.019255774095654,0.069845840334892,0.015126121230423,0.017287574708462,-0.050567377358675,0.087776757776737,-0.022768881171942,0.120515003800392,0.023933181539178,-0.018320679664612));
res += mul(Get(s1,dx,-dy), float4x4(-0.056380771100521,0.084108285605907,-0.075322046875954,-0.048201713711023,-0.030653260648251,-0.034945160150528,-0.031946137547493,0.071483120322227,-0.047655642032623,-0.065894640982151,0.066993914544582,0.043684963136911,0.016945580020547,0.012368047609925,0.073736637830734,-0.015545801259577));
res += mul(Get(s1,dx,0), float4x4(0.015941517427564,0.005179493688047,0.012554201297462,-0.085591457784176,-0.045187659561634,-0.027474319562316,-0.045209273695946,0.142371430993080,-0.013730081729591,-0.004735169932246,0.025012999773026,-0.024280818179250,-0.050201062113047,0.043957259505987,0.057210385799408,0.019535971805453));
res += mul(Get(s1,dx,dy), float4x4(-0.014208431355655,-0.015919255092740,0.006232652813196,0.059767518192530,-0.102711640298367,0.083607845008373,0.048095956444740,-0.020361375063658,-0.032786071300507,0.137588754296303,0.054472047835588,-0.051572725176811,0.000516083557159,-0.008311373181641,0.044739853590727,-0.074304498732090));
res += mul(Get(s2,-dx,-dy), float4x4(0.003313576336950,0.003232703544199,-0.028915464878082,-0.052602462470531,0.116156555712223,-0.110656991600990,-0.011154340580106,-0.071979343891144,0.075057573616505,-0.006314215250313,0.040923599153757,0.031880382448435,0.068332217633724,-0.012396180070937,0.039795491844416,-0.097257718443871));
res += mul(Get(s2,-dx,0), float4x4(-0.066379308700562,0.135580107569695,-0.023296296596527,0.050626397132874,0.057215660810471,0.017053145915270,0.024122254922986,0.030306346714497,0.164065569639206,0.017468012869358,-0.055083844810724,0.236262470483780,0.046159487217665,-0.133120745420456,-0.059954419732094,-0.087160721421242));
res += mul(Get(s2,-dx,dy), float4x4(-0.055457547307014,0.084154196083546,-0.096156224608421,-0.154407441616058,-0.026224784553051,-0.048853505402803,0.033284600824118,0.010400809347630,0.126811444759369,0.128195002675056,-0.064947798848152,-0.016997398808599,-0.061580341309309,-0.027095776051283,0.056954950094223,0.119098320603371));
res += mul(Get(s2,0,-dy), float4x4(0.002202227013186,-0.029177403077483,-0.087746784090996,0.029700228944421,0.033955115824938,-0.074875332415104,0.068130619823933,-0.034182231873274,0.073583588004112,0.018776303157210,0.016447667032480,-0.102431647479534,0.019895676523447,0.055376213043928,-0.060666110366583,0.097839191555977));
res += mul(Get(s2,0,0), float4x4(-0.116536431014538,-0.025506896898150,-0.006486444734037,0.085521236062050,0.059606753289700,0.077314324676991,-0.031531412154436,-0.039783574640751,0.008353918790817,0.090722993016243,0.188282027840614,-0.136349946260452,0.059430789202452,-0.041810180991888,-0.242677018046379,0.050893574953079));
res += mul(Get(s2,0,dy), float4x4(0.018580308184028,-0.006954662501812,0.046111118048429,-0.108407422900200,-0.009147414937615,-0.053944375365973,-0.051843460649252,-0.010866713710129,-0.018714062869549,0.175458639860153,-0.003921437077224,-0.064000599086285,-0.176061108708382,-0.009732917882502,0.291324198246002,-0.001256336807273));
res += mul(Get(s2,dx,-dy), float4x4(0.032878026366234,0.025089256465435,0.002887356327847,0.057223215699196,0.098494932055473,0.019004132598639,0.055600069463253,0.029355961829424,0.052748434245586,0.037428855895996,0.012591019272804,0.162213459610939,0.092296577990055,-0.068002417683601,0.108852587640285,-0.129821971058846));
res += mul(Get(s2,dx,0), float4x4(-0.023181345313787,-0.041358005255461,-0.077277511358261,0.033306013792753,0.064989097416401,0.012863814830780,-0.090287707746029,0.047523658722639,0.048706911504269,0.002865310758352,0.007505367044359,0.093036949634552,-0.052822619676590,-0.109050869941711,0.016180403530598,-0.015407075174153));
res += mul(Get(s2,dx,dy), float4x4(-0.101332858204842,0.004917988087982,-0.030741492286325,-0.141038820147514,-0.001255179173313,-0.015279848128557,0.098014846444130,-0.098847657442093,0.047631021589041,0.041861735284328,-0.026774249970913,0.005147069692612,-0.116151437163353,-0.010696293786168,-0.023006316274405,0.007344456855208));
res += mul(Get(s3,-dx,-dy), float4x4(-0.031038684770465,-0.013636173680425,-0.020183300599456,-0.038940768688917,0.005111524835229,0.012681738473475,-0.035911515355110,0.079734310507774,-0.036566503345966,0.057514138519764,0.049033556133509,-0.032906420528889,-0.013689588755369,-0.055571835488081,-0.096858195960522,0.001829567947425));
res += mul(Get(s3,-dx,0), float4x4(-0.024769641458988,0.038824785500765,0.024712730199099,-0.035447727888823,-0.013015341013670,-0.012452759779990,0.226092755794525,0.103884667158127,0.278195828199387,0.010040950961411,-0.249204412102699,0.179592370986938,-0.027161892503500,-0.067569255828857,-0.024604473263025,-0.055510640144348));
res += mul(Get(s3,-dx,dy), float4x4(-0.005082610063255,0.013841398991644,0.072371847927570,0.038305599242449,0.011614368297160,0.052551284432411,0.078672982752323,0.082048371434212,-0.019373251125216,0.022164268419147,0.068318389356136,-0.021693103015423,-0.012959089130163,-0.058695558458567,-0.010998619720340,-0.086408577859402));
res += mul(Get(s3,0,-dy), float4x4(0.076692529022694,0.047403603792191,-0.018803592771292,0.082390539348125,-0.127921432256699,-0.081863299012184,0.106136851012707,0.074410140514374,0.022250438109040,0.010005494579673,-0.145824283361435,-0.105382367968559,-0.007086188532412,-0.014113499782979,0.015607558190823,0.046257071197033));
res += mul(Get(s3,0,0), float4x4(-0.053597923368216,0.065033778548241,-0.045598275959492,-0.009139528498054,-0.081496208906174,-0.129831179976463,0.215850964188576,-0.019404292106628,-0.019691333174706,0.030392123386264,0.284568578004837,-0.031243817880750,0.196725443005562,-0.039268132299185,0.044321522116661,0.213035628199577));
res += mul(Get(s3,0,dy), float4x4(0.111758463084698,-0.001741901505738,0.039808191359043,-0.175379604101181,-0.004170169122517,0.155623644590378,0.069741092622280,0.093959867954254,-0.015445785596967,0.042050886899233,0.105390951037407,0.004965547472239,-0.016771629452705,-0.081358827650547,0.028489321470261,0.022880932316184));
res += mul(Get(s3,dx,-dy), float4x4(-0.197516158223152,-0.006778570823371,0.001361653208733,0.018396362662315,-0.007837821729481,0.035485494881868,0.039382625371218,0.125774890184402,-0.044710446149111,-0.031110610812902,-0.120768770575523,0.103630289435387,-0.031956154853106,-0.003903638804331,0.054029934108257,0.004813448525965));
res += mul(Get(s3,dx,0), float4x4(0.105832800269127,-0.043120361864567,-0.089764147996902,0.302650481462479,0.023455094546080,-0.064253509044647,0.019683724269271,-0.086290180683136,-0.116345912218094,-0.000688639527652,0.043163791298866,0.009388069622219,0.030816400423646,-0.073928661644459,0.080801747739315,0.021108187735081));
res += mul(Get(s3,dx,dy), float4x4(0.108898416161537,0.028562782332301,-0.140862211585045,-0.077962525188923,-0.032050818204880,-0.054705742746592,0.028890347108245,0.079576164484024,0.063157737255096,-0.067197315394878,-0.100204646587372,0.035538941621780,0.014920534566045,-0.039029832929373,-0.094967082142830,-0.011767814867198));
return max(float4(0,0,0,0), res);
}
