sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.211482644081116,0.026013527065516,-0.063224717974663,0.144380956888199,0.084095962345600,0.006370365153998,0.001902748364955,-0.062516108155251,-0.018079908564687,-0.005558199249208,-0.012789198197424,0.012536876834929,0.042852614074945,0.041322253644466,0.017584782093763,-0.023605285212398));
res += mul(Get(s0,-dx,0), float4x4(0.126778230071068,-0.200820311903954,0.052690058946609,-0.038676083087921,0.008776242844760,-0.003624437376857,0.019804634153843,0.118367291986942,-0.011638070456684,0.028424371033907,-0.032603785395622,-0.080431163311005,-0.041210792958736,-0.063661471009254,0.015099862590432,0.013034701347351));
res += mul(Get(s0,-dx,dy), float4x4(0.056035161018372,-0.165581569075584,-0.066000230610371,-0.090498797595501,0.007565371226519,-0.018330043181777,-0.032346315681934,-0.013211358338594,-0.056623145937920,0.032479509711266,-0.054723631590605,-0.142429649829865,-0.025034569203854,-0.052708443254232,-0.032549902796745,-0.029794421046972));
res += mul(Get(s0,0,-dy), float4x4(-0.011162566952407,-0.095292352139950,-0.295165866613388,0.217371180653572,0.036151822656393,0.024369856342673,-0.013517444022000,-0.039116133004427,-0.028485935181379,0.005016322247684,0.069928981363773,0.047033313661814,0.053166668862104,-0.031933583319187,-0.082939133048058,0.118606321513653));
res += mul(Get(s0,0,0), float4x4(-0.047422122210264,-0.143291816115379,-0.042856302112341,0.292210310697556,-0.010414979420602,0.047971863299608,-0.020588699728251,0.026978891342878,-0.057934563606977,0.025385746732354,0.070426993072033,-0.084277510643005,-0.027233123779297,-0.093828953802586,-0.021968984976411,-0.037390369921923));
res += mul(Get(s0,0,dy), float4x4(-0.021245021373034,0.064355455338955,0.081568196415901,-0.366501986980438,0.003033930202946,-0.045359458774328,-0.066172569990158,-0.002842890564352,-0.013335530646145,0.018711924552917,-0.008293462917209,-0.240881457924843,0.111277572810650,-0.087100975215435,0.029721422120929,-0.127201631665230));
res += mul(Get(s0,dx,-dy), float4x4(-0.232467517256737,0.090015359222889,0.138844370841980,-0.021335272118449,-0.000820435117930,0.045627724379301,0.028773730620742,-0.061978250741959,0.001393415732309,-0.004632619675249,0.031986929476261,0.004231829661876,0.050879336893559,0.088748626410961,-0.091149114072323,0.035258762538433));
res += mul(Get(s0,dx,0), float4x4(-0.098092533648014,0.301573514938354,0.222090125083923,-0.060824688524008,-0.013006623834372,0.037130635231733,-0.016489138826728,-0.050603937357664,-0.033523190766573,0.043286245316267,0.041158244013786,-0.040194585919380,-0.042596537619829,0.162429749965668,-0.029332078993320,-0.061030622571707));
res += mul(Get(s0,dx,dy), float4x4(-0.091643378138542,0.047290716320276,0.032932501286268,0.094483844935894,-0.004107756074518,-0.030093215405941,0.022927666082978,-0.078047841787338,-0.021541811525822,0.042643602937460,-0.012525352649391,-0.057243421673775,0.030480500310659,0.153153806924820,0.026320559903979,0.089953690767288));
res += mul(Get(s1,-dx,-dy), float4x4(0.127117022871971,-0.058190118521452,-0.104505375027657,-0.172571331262589,0.065829537808895,0.099504910409451,-0.018391398712993,0.057573162019253,0.063027828931808,-0.129797428846359,-0.114672057330608,0.045986991375685,0.001520691555925,0.005137912463397,0.035781327635050,0.003720395499840));
res += mul(Get(s1,-dx,0), float4x4(-0.016538787633181,-0.035844057798386,-0.102522224187851,0.104569576680660,0.035496026277542,-0.028868798166513,-0.017191845923662,0.113375313580036,0.270180940628052,-0.129797801375389,-0.106168761849403,-0.035053025931120,-0.000655152602121,-0.017235681414604,0.019803535193205,-0.000654616276734));
res += mul(Get(s1,-dx,dy), float4x4(-0.040637847036123,-0.090421520173550,-0.028802979737520,-0.037482805550098,-0.046171046793461,-0.007336657959968,-0.088808849453926,-0.008389288559556,0.095949999988079,-0.221180319786072,-0.070437833666801,-0.085169829428196,0.008193463087082,-0.005890333559364,0.043645232915878,0.060382071882486));
res += mul(Get(s1,0,-dy), float4x4(-0.005107908975333,-0.158783391118050,-0.026297561824322,0.141491740942001,0.011423304677010,0.017515689134598,-0.003059506649151,0.102640189230442,0.066887386143208,0.147318616509438,0.105154342949390,-0.351440429687500,-0.003896786831319,0.010612904094160,0.043613728135824,0.055834379047155));
res += mul(Get(s1,0,0), float4x4(-0.035321295261383,0.036386772990227,-0.037127159535885,-0.019857773557305,-0.080641001462936,-0.056098271161318,-0.051307752728462,0.196132823824883,-0.005080852191895,-0.052229527384043,-0.073748223483562,0.168795138597488,-0.001059619826265,0.001475768513046,0.028077896684408,0.035200651735067));
res += mul(Get(s1,0,dy), float4x4(0.020361153408885,0.115754716098309,-0.099552273750305,-0.076703749597073,-0.071040295064449,-0.035872500389814,-0.066240772604942,-0.039835322648287,-0.013091716915369,-0.057602554559708,-0.006849979516119,0.085054636001587,-0.007737306412309,0.028741603717208,0.039512343704700,0.055736437439919));
res += mul(Get(s1,dx,-dy), float4x4(-0.094527237117290,-0.045734152197838,0.246849164366722,0.041962321847677,0.015607902780175,0.014939120970666,0.108535930514336,0.091041274368763,-0.069130763411522,0.027505690231919,-0.038965720683336,0.151815384626389,-0.017951654270291,0.024326935410500,-0.022100105881691,0.002816251944751));
res += mul(Get(s1,dx,0), float4x4(0.032194964587688,0.272706598043442,0.172166287899017,-0.070313237607479,-0.164927244186401,0.046720538288355,-0.025429023429751,0.082307122647762,-0.328849464654922,0.106294363737106,0.162891849875450,-0.002604571636766,-0.007649968378246,-0.015110053122044,-0.026527142152190,0.010409384034574));
res += mul(Get(s1,dx,dy), float4x4(0.062808923423290,0.073324717581272,-0.060211922973394,0.029343439266086,0.008786910213530,0.061313785612583,-0.014100170694292,-0.028227528557181,-0.158997997641563,0.366058200597763,0.057630516588688,-0.005560291465372,-0.017487071454525,-0.012636410072446,-0.017882909625769,0.039726622402668));
res += mul(Get(s2,-dx,-dy), float4x4(-0.056631937623024,0.019313808530569,0.030694436281919,0.011378120630980,0.041460882872343,0.060885500162840,-0.023286439478397,0.084463611245155,-0.094718821346760,0.039543777704239,-0.102641955018044,-0.055964902043343,0.108837872743607,0.069287963211536,-0.066385552287102,-0.090312235057354));
res += mul(Get(s2,-dx,0), float4x4(-0.079211093485355,-0.025259055197239,0.029868964105844,0.091720193624496,0.142155036330223,-0.022509543225169,0.000421483448008,0.115864545106888,-0.108165971934795,-0.005807807203382,-0.105569072067738,-0.021210374310613,-0.035006221383810,-0.225444227457047,-0.068099401891232,-0.087663091719151));
res += mul(Get(s2,-dx,dy), float4x4(-0.077538505196571,-0.002644904190674,-0.037019561976194,0.001208573114127,0.008711551316082,0.009388673119247,0.002342720981687,0.033738438040018,-0.065799713134766,-0.069252878427505,-0.055687107145786,0.037065401673317,-0.053286094218493,-0.243382513523102,-0.130620837211609,-0.000770619022660));
res += mul(Get(s2,0,-dy), float4x4(-0.028711443766952,-0.018113115802407,0.042317904531956,0.025238925591111,-0.023691469803452,0.029281746596098,-0.027042469009757,0.102884136140347,-0.005922547075897,-0.077255837619305,0.005569535773247,0.013205748051405,-0.022789387032390,-0.041927207261324,0.069420449435711,0.110139317810535));
res += mul(Get(s2,0,0), float4x4(-0.004641897510737,-0.092102505266666,0.057260733097792,0.107313692569733,-0.005340369883925,-0.036572977900505,-0.016647206619382,0.121194891631603,0.001984982751310,-0.054267987608910,0.026415390893817,-0.006154320202768,0.049204848706722,0.142978012561798,0.226194277405739,-0.088484637439251));
res += mul(Get(s2,0,dy), float4x4(0.054561641067266,-0.051273960620165,0.000692061323207,-0.016169091686606,-0.033864434808493,0.032419055700302,-0.029430231079459,0.071541763842106,-0.041465759277344,-0.077426649630070,0.017610255628824,0.053028333932161,0.060857083648443,0.121116295456886,0.104935780167580,-0.094631731510162));
res += mul(Get(s2,dx,-dy), float4x4(-0.047164414077997,-0.036284815520048,-0.066581100225449,0.032611437141895,-0.047546815127134,-0.023504154756665,0.008434087969363,-0.059701178222895,-0.047541413456202,0.026592873036861,-0.097736328840256,-0.011087363585830,-0.064952678978443,0.050390958786011,-0.006922404281795,-0.151702821254730));
res += mul(Get(s2,dx,0), float4x4(0.045266829431057,-0.030783269554377,-0.030340841040015,0.002881335327402,-0.015844926238060,0.059360135346651,0.137662887573242,0.037292506545782,-0.085343942046165,-0.044574469327927,-0.146019265055656,-0.051936518400908,0.093398660421371,0.066482998430729,-0.183107540011406,0.209761887788773));
res += mul(Get(s2,dx,dy), float4x4(0.012297905050218,-0.066280573606491,-0.085961215198040,-0.020272929221392,0.060306895524263,-0.026888322085142,-0.028731893748045,0.045110255479813,-0.088998712599277,-0.037354104220867,-0.085349805653095,-0.040829420089722,-0.034565955400467,0.120273955166340,-0.079050131142139,0.149508535861969));
res += mul(Get(s3,-dx,-dy), float4x4(-0.049270469695330,0.001862004282884,-0.035153821110725,-0.018379481509328,0.049465101212263,-0.025387564674020,0.040018349885941,0.104672975838184,0.018979884684086,-0.047182675451040,0.024342680349946,-0.044905424118042,0.016956226900220,-0.021413341164589,-0.016705820336938,-0.007854635827243));
res += mul(Get(s3,-dx,0), float4x4(-0.064980171620846,0.020459620282054,-0.001485340995714,-0.065970107913017,-0.048621065914631,0.036424651741982,-0.020817283540964,-0.042594835162163,-0.023699885234237,-0.006201708689332,-0.027957791462541,-0.026404727250338,0.048842474818230,-0.045790642499924,0.040921512991190,-0.051470730453730));
res += mul(Get(s3,-dx,dy), float4x4(0.073645338416100,0.081711724400520,0.077569432556629,0.034556716680527,0.094477295875549,0.113385185599327,0.051243040710688,0.001393681275658,0.018698621541262,-0.084235392510891,-0.065882340073586,0.104344159364700,-0.064504809677601,0.097841337323189,0.051090210676193,-0.004543517716229));
res += mul(Get(s3,0,-dy), float4x4(-0.000677881878801,0.061280015856028,0.008667192421854,0.064713522791862,0.037673838436604,-0.098458305001259,-0.038465607911348,0.173802539706230,0.003978995140642,-0.131455913186073,0.101887293159962,-0.005810562055558,0.003125261282548,-0.129698619246483,-0.085458517074585,0.035927403718233));
res += mul(Get(s3,0,0), float4x4(-0.093673326075077,0.016966357827187,-0.022560818120837,-0.002361937891692,-0.017695328220725,0.056396204978228,-0.101614691317081,-0.002086965600029,0.126970469951630,-0.050612520426512,0.064294070005417,-0.055833924561739,0.016880124807358,-0.152563065290451,-0.018072891980410,-0.039057813584805));
res += mul(Get(s3,0,dy), float4x4(-0.043681193143129,0.093658387660980,-0.009150037541986,0.015097134746611,0.087951406836510,-0.095140583813190,-0.064532838761806,0.078813366591930,0.095771029591560,-0.080100499093533,0.088829874992371,-0.009684743359685,-0.078304767608643,-0.015821024775505,-0.083755195140839,-0.016803333535790));
res += mul(Get(s3,dx,-dy), float4x4(0.044903703033924,0.069935768842697,0.037471737712622,-0.006599143613130,-0.038714084774256,0.091253712773323,0.067112103104591,-0.039533529430628,0.028438344597816,-0.029660448431969,0.033481758087873,-0.017917973920703,-0.227014288306236,-0.137503653764725,0.157041728496552,0.130747899413109));
res += mul(Get(s3,dx,0), float4x4(-0.062413755804300,-0.065260246396065,-0.000520032190252,-0.085915572941303,0.062977477908134,0.008749793283641,0.049631327390671,-0.048253852874041,0.103527963161469,-0.088501214981079,-0.022432805970311,0.030627153813839,-0.147057488560677,0.047266326844692,0.320218652486801,-0.028550745919347));
res += mul(Get(s3,dx,dy), float4x4(-0.021320277824998,-0.035896856337786,0.015724197030067,-0.069585002958775,-0.092293865978718,0.012043379247189,0.130346551537514,0.022651504725218,0.006097414530814,-0.013935755938292,-0.095659881830215,0.093117155134678,-0.120905257761478,0.176258996129036,0.044301595538855,-0.049715112894773));
return max(float4(0,0,0,0), res);
}
