sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002830940065905,-0.054856400936842,0.039466366171837,-0.007797646801919,-0.041240554302931,-0.049536373466253,0.114209286868572,-0.089601054787636,0.085951626300812,0.058079283684492,-0.132912829518318,0.017866618931293,0.060224305838346,0.079028338193893,0.013518497347832,0.129116669297218));
res += mul(Get(s0,-dx,0), float4x4(-0.058765590190887,0.000598752871156,0.098717577755451,0.195561662316322,0.066334865987301,-0.051721706986427,-0.088764727115631,0.101516984403133,-0.119432553648949,0.107553333044052,-0.155051887035370,-0.058529816567898,0.081550724804401,0.116406738758087,0.069323271512985,-0.054005004465580));
res += mul(Get(s0,-dx,dy), float4x4(0.047216519713402,0.055252861231565,-0.028280913829803,0.001096355845220,0.161808356642723,-0.019569739699364,0.091475412249565,0.059834461659193,-0.159056082367897,0.090885661542416,0.067685820162296,0.067866750061512,-0.016405818983912,-0.013922994025052,-0.050285931676626,0.091079860925674));
res += mul(Get(s0,0,-dy), float4x4(-0.036060124635696,0.137468263506889,-0.183533892035484,0.012923914007843,-0.158859118819237,0.059138841927052,0.013565267436206,0.165504127740860,0.056062880903482,0.039354804903269,0.032677512615919,0.013538778759539,0.203588768839836,0.119824990630150,-0.024773234501481,-0.018638079985976));
res += mul(Get(s0,0,0), float4x4(-0.134481579065323,-0.003972067497671,0.025148559361696,0.095721140503883,0.029369069263339,0.080232270061970,-0.084879100322723,-0.007690249942243,0.098106950521469,-0.034439653158188,-0.102548480033875,0.195632398128510,-0.217200666666031,0.027243182063103,0.072620108723640,-0.048635549843311));
res += mul(Get(s0,0,dy), float4x4(-0.195246964693069,0.022876514121890,-0.015098212286830,0.056979656219482,0.049369644373655,0.000389383902075,-0.041786395013332,0.022197481244802,0.079365000128746,0.039340674877167,0.020878350362182,0.015282617881894,0.054109122604132,0.111161559820175,0.029678100720048,0.056127265095711));
res += mul(Get(s0,dx,-dy), float4x4(-0.044184248894453,0.002662031678483,0.013173868879676,-0.226301401853561,0.004673279821873,-0.039558887481689,0.016036828979850,0.069786362349987,0.007240219041705,-0.032662235200405,0.203811287879944,-0.088584408164024,0.018025688827038,-0.002805189928040,-0.063930526375771,-0.020637499168515));
res += mul(Get(s0,dx,0), float4x4(0.032152827829123,-0.135750308632851,0.015690103173256,0.067519254982471,-0.112748697400093,-0.118938244879246,-0.089520372450352,0.043904330581427,0.177757263183594,-0.109701737761497,-0.019931459799409,-0.123668573796749,0.011167339049280,-0.082221820950508,0.033059895038605,0.136957556009293));
res += mul(Get(s0,dx,dy), float4x4(-0.032795380800962,0.140054881572723,-0.056061916053295,-0.060469914227724,-0.067408800125122,0.239533945918083,0.116237998008728,-0.072884127497673,-0.019225820899010,0.002662790007889,0.027814034372568,0.022304780781269,-0.111291863024235,0.043290816247463,-0.156177952885628,0.115696616470814));
res += mul(Get(s1,-dx,-dy), float4x4(-0.019163744524121,-0.060242746025324,-0.127690151333809,-0.023047098889947,0.019358200952411,-0.159128919243813,0.023050481453538,-0.039103623479605,-0.175508067011833,0.169891282916069,0.085135161876678,-0.144586637616158,-0.096643216907978,-0.052815511822701,-0.122242517769337,0.147786244750023));
res += mul(Get(s1,-dx,0), float4x4(-0.073661200702190,0.119049452245235,0.238983705639839,-0.079060800373554,0.038508012890816,-0.138188183307648,0.135428234934807,0.061645083129406,-0.197554782032967,0.040567550808191,0.012270441278815,0.153445556759834,0.029242189601064,-0.016820857301354,-0.055993575602770,0.164427936077118));
res += mul(Get(s1,-dx,dy), float4x4(0.057106293737888,-0.164806783199310,-0.109583303332329,0.004943381994963,0.111425466835499,0.065512344241142,-0.160707458853722,-0.101832389831543,0.024613687768579,-0.201584145426750,-0.000600229133852,0.036925811320543,-0.181482583284378,-0.080641873180866,-0.007368945050985,0.038135927170515));
res += mul(Get(s1,0,-dy), float4x4(0.082447580993176,0.042500812560320,0.136392548680305,-0.139102071523666,-0.170473828911781,-0.013034256175160,-0.062434103339911,-0.093398131430149,-0.099722936749458,0.097010418772697,-0.032945118844509,0.143983632326126,0.176478594541550,-0.159588977694511,-0.023817664012313,0.062511891126633));
res += mul(Get(s1,0,0), float4x4(0.131666421890259,0.191155031323433,0.019010322168469,0.065381705760956,0.083621524274349,-0.161077663302422,0.028208829462528,-0.051056984812021,-0.141631692647934,0.020828522741795,-0.241161614656448,-0.022180734202266,-0.060798361897469,0.127895534038544,-0.140605539083481,-0.128064215183258));
res += mul(Get(s1,0,dy), float4x4(0.134537100791931,0.130127638578415,-0.006407816894352,0.015372023917735,-0.059181112796068,0.060233961790800,-0.011225882917643,-0.097911246120930,0.007353550288826,-0.170163884758949,-0.115335397422314,-0.185365185141563,-0.054512239992619,-0.112760789692402,-0.106862694025040,-0.014306783676147));
res += mul(Get(s1,dx,-dy), float4x4(-0.056192923337221,-0.064949803054333,-0.009059711359441,-0.083161242306232,0.189017444849014,0.064163647592068,0.155235111713409,-0.036855101585388,0.037876062095165,-0.083702638745308,-0.003913328517228,0.116262018680573,-0.163083538413048,-0.076395697891712,-0.081695735454559,-0.268770307302475));
res += mul(Get(s1,dx,0), float4x4(-0.042500704526901,0.071597851812840,0.101827107369900,0.000255857507000,-0.046104162931442,-0.046033345162868,-0.013726430945098,0.025777962058783,-0.096381619572639,0.061388820409775,-0.008413982577622,0.203408971428871,0.080434866249561,-0.092848919332027,-0.089809089899063,0.104531742632389));
res += mul(Get(s1,dx,dy), float4x4(-0.028254851698875,-0.057432666420937,-0.154919475317001,-0.105723500251770,-0.048457037657499,-0.198885202407837,-0.069084107875824,0.075341604650021,-0.070933304727077,-0.050942093133926,0.085738122463226,0.104539930820465,-0.007066772785038,-0.022119453176856,0.006667266599834,-0.023701569065452));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004454893060029,-0.009528356604278,0.020187029615045,-0.044322878122330,-0.129274562001228,0.021263472735882,-0.067134365439415,-0.131005302071571,-0.009311935864389,0.095029041171074,0.075409702956676,-0.009447765536606,-0.017326422035694,-0.049002408981323,0.133387476205826,-0.060638099908829));
res += mul(Get(s2,-dx,0), float4x4(0.014786536805332,0.133640632033348,0.060373339802027,0.112211532890797,0.079240463674068,0.047271005809307,0.083272457122803,-0.053473208099604,-0.051084090024233,0.028699684888124,-0.018056640401483,-0.008654702454805,-0.089719034731388,-0.085295468568802,-0.087109230458736,-0.047397274523973));
res += mul(Get(s2,-dx,dy), float4x4(-0.074993066489697,-0.133877813816071,-0.055365074425936,0.031997829675674,0.016810648143291,0.023000475019217,0.191002100706100,-0.017976019531488,-0.067684754729271,-0.106556363403797,0.113527417182922,-0.077250294387341,-0.055841680616140,0.069918110966682,-0.049122359603643,0.051149040460587));
res += mul(Get(s2,0,-dy), float4x4(-0.106560468673706,0.001863147015683,0.117907635867596,-0.043223764747381,-0.130478546023369,0.052266795188189,-0.027428442612290,-0.067805908620358,-0.021117275580764,-0.128058835864067,-0.033277701586485,-0.026637375354767,-0.115937262773514,0.079930752515793,0.150573447346687,-0.160828098654747));
res += mul(Get(s2,0,0), float4x4(0.001663148053922,0.079991206526756,0.055051773786545,0.098520815372467,0.001683320268057,-0.134331211447716,0.066270120441914,0.021196125075221,-0.069219842553139,0.079212926328182,0.003423983929679,-0.065369747579098,0.111799813807011,-0.309298455715179,0.029302906244993,-0.065841749310493));
res += mul(Get(s2,0,dy), float4x4(-0.034745227545500,0.182841911911964,-0.091761477291584,0.065755784511566,-0.015759736299515,-0.066646739840508,-0.052086032927036,-0.088539220392704,-0.003348139114678,-0.028069382533431,-0.047188520431519,-0.081943526864052,0.115561537444592,-0.131639987230301,-0.137485831975937,-0.011570918373764));
res += mul(Get(s2,dx,-dy), float4x4(-0.102058008313179,0.070209987461567,0.032165154814720,-0.063226163387299,0.046690288931131,0.107435613870621,-0.091641299426556,0.012867500074208,0.033063080161810,-0.066944822669029,0.097224920988083,0.048988141119480,-0.117662094533443,-0.048127938061953,0.088180571794510,-0.057141937315464));
res += mul(Get(s2,dx,0), float4x4(-0.140586942434311,-0.008813507854939,0.143678098917007,0.161185532808304,0.003278219606727,-0.006370515562594,-0.094814628362656,0.055240821093321,0.063797019422054,0.340773820877075,0.018248721957207,-0.004541658330709,-0.118180602788925,0.063471622765064,0.097853876650333,0.009238756261766));
res += mul(Get(s2,dx,dy), float4x4(-0.035920191556215,-0.147893905639648,0.071422055363655,0.043481677770615,0.094303108751774,-0.068332821130753,-0.106939338147640,0.090503200888634,0.015844501554966,-0.021359622478485,0.080936148762703,0.113237813115120,-0.039072547107935,0.005692772101611,-0.085265047848225,0.021082146093249));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001141220913269,0.053685374557972,-0.115809239447117,-0.130510583519936,-0.137034073472023,-0.036407023668289,-0.021193465217948,-0.005650352220982,-0.208671599626541,0.003704482689500,-0.041421443223953,-0.036338180303574,0.048828218132257,-0.301200181245804,-0.089577756822109,-0.008211899548769));
res += mul(Get(s3,-dx,0), float4x4(-0.041481632739305,-0.141136303544044,-0.129148840904236,0.175399705767632,0.104984737932682,0.098100967705250,-0.004619199316949,-0.049289669841528,-0.021031545475125,-0.066989913582802,0.014595329761505,0.018541632220149,-0.168848395347595,0.083335690200329,-0.057270038872957,0.020331207662821));
res += mul(Get(s3,-dx,dy), float4x4(-0.053255803883076,-0.044242329895496,0.016210800036788,-0.028112905099988,-0.173881456255913,0.077273294329643,0.097085982561111,0.071562394499779,-0.076780274510384,0.015644358471036,0.047657597810030,-0.015230315737426,-0.144027009606361,-0.081808045506477,-0.105089396238327,-0.002869307529181));
res += mul(Get(s3,0,-dy), float4x4(-0.041470032185316,0.065206721425056,0.078562021255493,0.135660991072655,0.064479239284992,-0.051439926028252,-0.003150339936838,0.148486405611038,0.038701947778463,-0.055063210427761,-0.076002426445484,-0.142568707466125,0.152692779898643,-0.015112434513867,0.135924950242043,0.063439302146435));
res += mul(Get(s3,0,0), float4x4(0.110322326421738,0.008506063371897,-0.044829517602921,-0.133333116769791,0.087476626038551,-0.114599384367466,0.040999229997396,-0.019453177228570,0.191806599497795,0.035494618117809,0.099723905324936,-0.173677235841751,-0.052625030279160,0.013898055069149,0.032041493803263,-0.028830379247665));
res += mul(Get(s3,0,dy), float4x4(0.075071766972542,-0.069691181182861,0.019818687811494,0.102289125323296,0.068950593471527,0.061146456748247,-0.040235839784145,0.105925589799881,0.062026318162680,0.159319356083870,0.051778908818960,-0.348964422941208,-0.214252397418022,-0.038954563438892,-0.063110612332821,-0.044177681207657));
res += mul(Get(s3,dx,-dy), float4x4(0.080701492726803,0.051693648099899,0.084182813763618,0.030600193887949,-0.081539280712605,0.107478007674217,-0.063136219978333,0.070791661739349,0.022337054833770,0.098654136061668,-0.140823930501938,0.143333613872528,0.132223606109619,0.038308851420879,0.000147419210407,-0.119480259716511));
res += mul(Get(s3,dx,0), float4x4(-0.129398509860039,0.182461202144623,-0.150268048048019,-0.004124329425395,0.022577473893762,-0.065022550523281,-0.050665881484747,0.067348621785641,-0.157005175948143,0.036662958562374,-0.033010743558407,-0.148230671882629,0.128965362906456,-0.047430824488401,0.022616727277637,-0.006257325876504));
res += mul(Get(s3,dx,dy), float4x4(0.053680762648582,-0.062263056635857,-0.150646150112152,0.017719455063343,0.016906347125769,0.019082264974713,0.012994334101677,0.071796596050262,0.004219626542181,-0.163967728614807,0.003545626299456,0.107195906341076,-0.007894534617662,-0.115019313991070,-0.032296136021614,0.044528193771839));
return max(float4(0,0,0,0), res);
}
