sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.142738685011864,-0.104031026363373,0.026303172111511,0.107945255935192,0.012102191336453,0.035421140491962,-0.032193705439568,0.009743533097208,-0.046319682151079,-0.007067804690450,-0.000898015394341,-0.046881124377251,0.113762035965919,-0.011387388221920,0.085399590432644,0.082152158021927));
res += mul(Get(s0,-dx,0), float4x4(-0.073377035558224,0.069946736097336,0.014403034001589,-0.019339604303241,-0.023432828485966,-0.011514449492097,-0.031695950776339,-0.046916972845793,0.001589749357663,0.006121018901467,0.005277072545141,0.006071260664612,-0.144760966300964,-0.031336452811956,0.013628900051117,0.111215896904469));
res += mul(Get(s0,-dx,dy), float4x4(-0.074307307600975,-0.043244186788797,-0.015825720503926,0.046852871775627,-0.151980876922607,-0.056251469999552,-0.083139859139919,-0.113449096679688,0.094387143850327,0.005593982059509,0.006654842756689,0.035005021840334,-0.232120454311371,0.044538535177708,-0.031359527260065,0.007519491482526));
res += mul(Get(s0,0,-dy), float4x4(0.161692306399345,-0.046375844627619,0.024304972961545,-0.098407104611397,-0.028969014063478,0.054726704955101,-0.039727844297886,-0.003606427228078,0.110515274107456,0.027234775945544,-0.011183662340045,-0.016203114762902,-0.036393344402313,-0.013889729045331,-0.071844153106213,-0.039591990411282));
res += mul(Get(s0,0,0), float4x4(0.055094070732594,0.069369539618492,0.039817430078983,-0.022070758044720,-0.019339658319950,0.065533168613911,-0.040740266442299,-0.022369977086782,0.056251961737871,-0.021336982026696,-0.025770179927349,0.031263716518879,-0.142343953251839,0.057835921645164,0.015662614256144,-0.019354451447725));
res += mul(Get(s0,0,dy), float4x4(-0.025264700874686,0.042581677436829,-0.028322372585535,0.009707164019346,-0.020224569365382,-0.054762832820415,-0.101884476840496,0.047988414764404,0.129944965243340,0.055941287428141,0.027699004858732,-0.027652837336063,-0.091392621397972,-0.010311246849597,-0.046783167868853,0.039305876940489));
res += mul(Get(s0,dx,-dy), float4x4(-0.045253038406372,0.018323112279177,0.075707286596298,-0.091385439038277,0.091951720416546,-0.030593093484640,-0.015932064503431,0.001235125819221,0.093622431159019,0.025967432186007,0.001754433498718,-0.112872093915939,0.061605669558048,-0.016712654381990,-0.047282036393881,-0.043887715786695));
res += mul(Get(s0,dx,0), float4x4(0.018514983355999,0.123679883778095,0.050025757402182,0.020730558782816,0.061160288751125,-0.020853098481894,-0.057713314890862,-0.076286338269711,-0.131543397903442,0.125895082950592,-0.013935587368906,0.046381223946810,0.176073491573334,0.006917488761246,0.017597939819098,-0.003644783515483));
res += mul(Get(s0,dx,dy), float4x4(-0.032535836100578,0.005766083486378,-0.042482048273087,0.006806571967900,-0.034452464431524,-0.081830143928528,-0.112850837409496,-0.120047189295292,0.122876875102520,0.101852819323540,0.041323371231556,-0.046949967741966,0.338637977838516,-0.088931590318680,-0.084014847874641,0.076862141489983));
res += mul(Get(s1,-dx,-dy), float4x4(-0.084267087280750,0.014113170094788,-0.031321283429861,-0.007510165218264,-0.009847134351730,0.016472848132253,0.004074947442859,0.057757984846830,0.046471204608679,-0.031080694869161,0.020379774272442,-0.016736138612032,0.179639816284180,0.061012234538794,0.044120766222477,0.169527098536491));
res += mul(Get(s1,-dx,0), float4x4(0.111150152981281,0.031954906880856,0.043818946927786,0.109586447477341,-0.015398442745209,-0.021137218922377,0.002953869756311,-0.036646526306868,0.013222007080913,-0.024089770391583,-0.011267587542534,-0.028061030432582,0.235605716705322,-0.043112918734550,0.019387757405639,0.063262023031712));
res += mul(Get(s1,-dx,dy), float4x4(0.153591826558113,-0.022281797602773,-0.027207009494305,0.086825810372829,-0.004319300409406,-0.003020662348717,-0.027927037328482,0.099204808473587,0.131882414221764,-0.059052761644125,-0.024710686877370,0.211214512586594,0.100352182984352,-0.197967186570168,-0.056114789098501,0.070864319801331));
res += mul(Get(s1,0,-dy), float4x4(-0.051446888595819,0.020633604377508,-0.011934431269765,-0.088536433875561,0.036693096160889,-0.032099410891533,-0.036270380020142,-0.083249457180500,0.102148674428463,-0.006739726755768,0.021133046597242,-0.031047323718667,-0.091923929750919,-0.032078970223665,0.009171508252621,0.031695611774921));
res += mul(Get(s1,0,0), float4x4(0.076543822884560,0.087645187973976,0.061131305992603,-0.167834475636482,0.203371539711952,0.006223398726434,-0.015449785627425,0.201091825962067,-0.033749990165234,-0.046604886651039,-0.031930375844240,-0.121200218796730,-0.106390193104744,0.002306594979018,-0.016692997887731,-0.078727118670940));
res += mul(Get(s1,0,dy), float4x4(0.089429095387459,-0.018710035830736,-0.061822555959225,-0.019425978884101,0.095556043088436,-0.037182867527008,0.026378862559795,0.028502922505140,-0.119672141969204,-0.064907871186733,-0.033239401876926,0.002349878428504,0.026964778080583,-0.041368089616299,-0.022976977750659,0.227070331573486));
res += mul(Get(s1,dx,-dy), float4x4(0.044275321066380,-0.014288313686848,-0.048018183559179,0.079977326095104,0.033571295440197,-0.128461346030235,-0.002466083969921,-0.140298306941986,-0.057347696274519,0.007001535035670,-0.006389465648681,-0.014484365470707,0.001760295475833,0.016381893306971,0.066634967923164,-0.159602195024490));
res += mul(Get(s1,dx,0), float4x4(0.097913339734077,-0.057209271937609,0.055720455944538,-0.135299742221832,-0.068719282746315,0.043922584503889,-0.006030365359038,0.120282754302025,0.023955965414643,-0.052897125482559,0.000494768959470,-0.085783913731575,0.244441241025925,-0.047835495322943,-0.070532083511353,-0.008315715007484));
res += mul(Get(s1,dx,dy), float4x4(-0.018811868503690,-0.031014120206237,-0.045568186789751,-0.132777988910675,0.025753637775779,0.019635936245322,0.012652134522796,0.022820819169283,0.050129402428865,-0.076363906264305,-0.044933576136827,0.117014132440090,-0.036907061934471,-0.102789871394634,-0.013512890785933,-0.003145673777908));
res += mul(Get(s2,-dx,-dy), float4x4(0.001506766187958,-0.083917051553726,0.020331989973783,0.056443743407726,0.069927640259266,0.085078999400139,0.102100975811481,0.075445301830769,0.057077743113041,0.020908562466502,0.001079639652744,0.097504042088985,0.124465405941010,0.024760687723756,0.022408086806536,0.063405714929104));
res += mul(Get(s2,-dx,0), float4x4(0.112497806549072,0.030430253595114,0.108224481344223,0.165552616119385,0.020806699991226,0.075923092663288,0.039077267050743,0.095031298696995,0.043373629450798,-0.022005399689078,0.051981534808874,0.191514164209366,-0.046504423022270,-0.032182998955250,0.051541574299335,-0.056665051728487));
res += mul(Get(s2,-dx,dy), float4x4(0.006104952190071,-0.070808008313179,0.040325719863176,-0.039468541741371,-0.031673751771450,0.072351954877377,-0.023543948307633,0.005457155406475,0.024906983599067,0.010637392289937,0.016272317618132,0.087942577898502,0.003960719332099,0.082169562578201,0.023421470075846,0.091013930737972));
res += mul(Get(s2,0,-dy), float4x4(0.029153926298022,-0.139784559607506,0.029089396819472,0.078869350254536,0.071273364126682,0.084052905440331,0.017111273482442,-0.044498939067125,-0.005392147228122,-0.016298590227962,0.012365750968456,0.003645478747785,0.020183460786939,0.033999487757683,-0.053534694015980,0.004291990306228));
res += mul(Get(s2,0,0), float4x4(0.024814525619149,0.006558170076460,0.054052174091339,0.027854477986693,-0.019744668155909,0.029992217198014,-0.018647085875273,-0.064926423132420,-0.102750137448311,-0.034532845020294,0.083153769373894,0.001425943220966,0.121839739382267,0.032971646636724,0.124708928167820,0.000533604703378));
res += mul(Get(s2,0,dy), float4x4(-0.002697727410123,-0.002570447046310,-0.023456156253815,0.098179683089256,0.047361653298140,0.049326896667480,-0.031589865684509,-0.070025444030762,-0.050679173320532,0.064126789569855,0.029249398037791,0.111218996345997,-0.088531881570816,0.035022683441639,0.005501529201865,-0.015066798776388));
res += mul(Get(s2,dx,-dy), float4x4(-0.049940783530474,-0.114663183689117,0.028011525049806,-0.011343343183398,-0.029369244351983,0.156958580017090,0.022473338991404,-0.196301847696304,0.134730741381645,0.020432433113456,0.004288305994123,0.027810027822852,-0.165009289979935,0.003140454180539,-0.044299572706223,-0.049535706639290));
res += mul(Get(s2,dx,0), float4x4(0.119116954505444,0.058383826166391,0.070946797728539,-0.034582983702421,-0.029474215582013,0.111304476857185,-0.022957675158978,0.068818323314190,0.264398574829102,0.050808593630791,0.122546240687370,0.024661233648658,0.052972499281168,0.026658676564693,0.064551159739494,-0.010920940898359));
res += mul(Get(s2,dx,dy), float4x4(-0.148751795291901,0.128710716962814,-0.037792723625898,0.023883340880275,-0.058702833950520,-0.064982697367668,-0.047534309327602,-0.063579425215721,0.138192862272263,-0.001250120927580,0.079927928745747,-0.020053619518876,0.116557680070400,-0.025861652567983,0.013046842999756,-0.041191369295120));
res += mul(Get(s3,-dx,-dy), float4x4(0.065591074526310,-0.008397433906794,-0.044663216918707,0.049445215612650,0.078470893204212,0.112197652459145,0.031669151037931,0.075222723186016,0.006898385472596,0.048421211540699,-0.028259856626391,0.172644078731537,-0.001424419577233,0.020422862842679,0.000192865598365,-0.007657695561647));
res += mul(Get(s3,-dx,0), float4x4(0.189765676856041,0.005079391878098,-0.026437889784575,0.141851931810379,0.102987177670002,-0.079074196517467,-0.014136429876089,0.201586678624153,-0.040131263434887,-0.093344822525978,-0.062255688011646,0.144134774804115,0.207920655608177,-0.043580025434494,0.000538523134310,0.111909650266171));
res += mul(Get(s3,-dx,dy), float4x4(-0.010594258084893,-0.077049374580383,-0.016384217888117,-0.047429520636797,-0.075401954352856,0.003106884658337,0.013781082816422,-0.006642366759479,0.029749985784292,0.078954458236694,0.027297968044877,0.031743265688419,0.064561486244202,-0.001010662293993,-0.012016339227557,0.069242961704731));
res += mul(Get(s3,0,-dy), float4x4(-0.081486359238625,-0.037481579929590,0.062028016895056,-0.027439771220088,0.116317942738533,0.000877351616509,0.029493156820536,0.175539568066597,0.103052794933319,-0.047289699316025,-0.091196350753307,0.135799586772919,0.046565677970648,-0.005888642743230,-0.002124742371961,0.033586990088224));
res += mul(Get(s3,0,0), float4x4(-0.087663263082504,0.031120849773288,0.015613174065948,-0.045161720365286,-0.088112697005272,-0.053352624177933,-0.002371253911406,-0.003441429464146,0.083702370524406,-0.036355208605528,0.011893577873707,0.045681849122047,0.120800867676735,-0.051783207803965,-0.013576298952103,-0.001483028172515));
res += mul(Get(s3,0,dy), float4x4(-0.020675159990788,0.055628161877394,0.005963170900941,0.043031357228756,0.021127112209797,0.018268158659339,0.040625557303429,-0.097004920244217,0.038440339267254,0.091874800622463,-0.004407382104546,-0.049975812435150,-0.007908700965345,0.013522045686841,-0.010423171333969,-0.022458052262664));
res += mul(Get(s3,dx,-dy), float4x4(0.166419461369514,0.001248111948371,0.022827090695500,0.137359380722046,-0.047886859625578,-0.064784780144691,-0.045629903674126,0.081308998167515,-0.085163302719593,-0.063171327114105,-0.010184602811933,-0.011138170026243,0.055269200354815,-0.020226933062077,0.017325881868601,-0.059151578694582));
res += mul(Get(s3,dx,0), float4x4(0.038939625024796,-0.046696614474058,0.060147028416395,0.098444819450378,0.048159442842007,0.019897973164916,0.011032756417990,-0.134435191750526,-0.120047092437744,0.073276437819004,0.078577756881714,-0.195543959736824,-0.106681525707245,-0.014282136224210,-0.012479475699365,-0.139565229415894));
res += mul(Get(s3,dx,dy), float4x4(-0.037994239479303,-0.029681697487831,0.011859053745866,0.034085355699062,0.122561693191528,0.010924948379397,0.038206815719604,0.013164470903575,0.002035943325609,0.020549867302179,-0.032803200185299,-0.045446570962667,-0.015766954049468,-0.005044011864811,-0.004330058116466,0.006794855929911));
return max(float4(0,0,0,0), res);
}
