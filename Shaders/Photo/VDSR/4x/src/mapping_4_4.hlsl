sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.166630744934082,-0.061113342642784,0.266484022140503,-0.343830943107605,-0.017896382138133,-0.027503415942192,-0.078843630850315,-0.002060125814751,-0.220660343766212,-0.170546859502792,0.113000266253948,-0.007656751666218,-0.096171528100967,0.045007582753897,0.030656939372420,0.059304166585207));
res += mul(Get(s0,-dx,0), float4x4(-0.008625674992800,-0.056164201349020,-0.044052779674530,-0.088896684348583,0.024951485916972,0.084852069616318,-0.070278868079185,-0.109199739992619,0.074047021567822,-0.054967068135738,0.095243431627750,0.100938878953457,0.080118685960770,0.110589303076267,-0.024727053940296,-0.061398942023516));
res += mul(Get(s0,-dx,dy), float4x4(-0.142007887363434,-0.113293640315533,0.030086923390627,0.265673220157623,0.025017008185387,-0.097667410969734,-0.011168366298079,-0.003469645278528,-0.037945300340652,-0.197618871927261,-0.019412172958255,0.187210574746132,-0.029257019981742,-0.199348822236061,0.017488744109869,0.063024103641510));
res += mul(Get(s0,0,-dy), float4x4(-0.063092626631260,-0.053459264338017,-0.054501309990883,-0.311994910240173,-0.002608726266772,0.086920477449894,-0.013990349136293,-0.061703544110060,-0.222195550799370,-0.271867454051971,-0.053487889468670,-0.011570340953767,-0.066245496273041,-0.043447829782963,0.124247767031193,-0.044297032058239));
res += mul(Get(s0,0,0), float4x4(0.107760630548000,-0.010112761519849,-0.115695312619209,-0.156361594796181,0.044907946139574,0.135379523038864,-0.038796242326498,-0.110352650284767,-0.046707712113857,-0.016915358603001,-0.038311745971441,-0.018436027690768,-0.009906337596476,0.124117776751518,-0.039180476218462,-0.117900632321835));
res += mul(Get(s0,0,dy), float4x4(0.011430676095188,-0.091524347662926,0.152734830975533,0.205064401030540,0.076373815536499,-0.145749613642693,-0.023020375519991,-0.017237860709429,0.018481636419892,-0.128474354743958,-0.010068891569972,0.168480500578880,-0.126400768756866,-0.097650967538357,-0.021923409774899,0.080311708152294));
res += mul(Get(s0,dx,-dy), float4x4(-0.062195643782616,0.116145618259907,-0.125804990530014,-0.465058296918869,0.106892943382263,-0.038855969905853,0.149124473333359,-0.004742789547890,-0.077543042600155,-0.097158879041672,-0.125207960605621,0.165691331028938,0.039343155920506,-0.030967652797699,0.116437330842018,-0.007974617183208));
res += mul(Get(s0,dx,0), float4x4(0.085255190730095,0.155623212456703,-0.135473221540451,-0.233209818601608,-0.003414292819798,0.005135226063430,0.001465955283493,-0.081472672522068,0.006746866274625,-0.034229487180710,-0.076318673789501,-0.123750373721123,0.018235871568322,0.008613980375230,-0.033335063606501,-0.136572718620300));
res += mul(Get(s0,dx,dy), float4x4(0.285362064838409,-0.054385147988796,0.155258119106293,0.043941747397184,-0.055572252720594,-0.199945464730263,-0.015733620151877,-0.088479645550251,0.246461480855942,-0.112237147986889,-0.052087783813477,0.022414084523916,-0.012321203015745,-0.067680902779102,-0.013044928200543,0.112170897424221));
res += mul(Get(s1,-dx,-dy), float4x4(-0.007611678447574,0.023724989965558,-0.007783965207636,-0.029358178377151,-0.082961782813072,-0.107282616198063,0.081904128193855,-0.142968177795410,-0.090161092579365,0.233818262815475,0.071569405496120,0.048028573393822,-0.343826472759247,-0.103094294667244,0.053469724953175,-0.083666503429413));
res += mul(Get(s1,-dx,0), float4x4(-0.073305420577526,-0.021191284060478,0.218777686357498,-0.113288015127182,-0.139167338609695,0.074619501829147,-0.019273119047284,-0.030464166775346,-0.064995452761650,0.152103245258331,-0.016731502488256,0.044672209769487,0.110157392919064,-0.059126760810614,0.159812226891518,-0.121903553605080));
res += mul(Get(s1,-dx,dy), float4x4(0.020730627700686,-0.003657243680209,0.209689736366272,-0.129269331693649,-0.076421834528446,0.019263671711087,-0.098769575357437,-0.105380944907665,-0.145156502723694,0.005422657821327,-0.012908411212265,0.072837248444557,0.077242568135262,-0.091804131865501,0.026120254769921,0.063475690782070));
res += mul(Get(s1,0,-dy), float4x4(0.080601654946804,0.117563016712666,-0.002640725579113,-0.065654017031193,-0.006086465436965,-0.004139798227698,0.081212282180786,-0.063737004995346,0.060050930827856,0.088811770081520,0.187797814607620,-0.121775977313519,0.000019285660528,0.088880762457848,0.080888986587524,0.067991316318512));
res += mul(Get(s1,0,0), float4x4(0.053068347275257,0.028097907081246,0.161169692873955,-0.094748824834824,-0.095338635146618,-0.037005290389061,0.061012435704470,0.078359976410866,0.032137010246515,0.146899431943893,-0.120258316397667,-0.135850250720978,0.162250727415085,-0.094603456556797,-0.165414243936539,0.085121318697929));
res += mul(Get(s1,0,dy), float4x4(0.107826799154282,0.050452459603548,-0.063344113528728,-0.078629344701767,-0.078300476074219,0.133492931723595,-0.080477595329285,0.006986962631345,-0.027991695329547,-0.164379477500916,-0.044016610831022,0.107849679887295,-0.057221703231335,-0.186310738325119,-0.120695188641548,0.172582626342773));
res += mul(Get(s1,dx,-dy), float4x4(0.073377206921577,0.101030841469765,0.142526224255562,0.206639423966408,0.067053131759167,0.057052616029978,0.001887441962026,-0.148452594876289,0.050503700971603,0.032464038580656,0.108125582337379,0.089164808392525,-0.003960007801652,-0.065757520496845,-0.045988623052835,-0.390066593885422));
res += mul(Get(s1,dx,0), float4x4(-0.012113743461668,0.019447259604931,-0.034339111298323,0.183251217007637,-0.002242393791676,0.018520919606090,0.082936458289623,-0.014513521455228,-0.021858556196094,0.152005821466446,-0.155873239040375,-0.018466252833605,0.073305472731590,-0.008439980447292,-0.220621004700661,-0.222526907920837));
res += mul(Get(s1,dx,dy), float4x4(0.099661804735661,0.085141249001026,-0.207373201847076,0.111867554485798,0.045998226851225,0.007360933814198,-0.060488186776638,-0.048500835895538,-0.016634706407785,-0.025748398154974,-0.037757400423288,0.286206692457199,-0.055708777159452,-0.061382144689560,-0.107058554887772,0.138507291674614));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004440899472684,-0.049093268811703,-0.084354624152184,-0.213981211185455,-0.041298296302557,0.001559480791911,-0.020458767190576,-0.047263685613871,-0.199599146842957,0.017789084464312,-0.007575877476484,0.061131134629250,0.041175536811352,-0.090445972979069,-0.046381704509258,0.092890277504921));
res += mul(Get(s2,-dx,0), float4x4(-0.088181056082249,0.098083160817623,-0.130536511540413,-0.210035607218742,0.013665977865458,-0.107305899262428,-0.042325433343649,0.056863699108362,-0.203288793563843,0.041886817663908,0.115781307220459,0.028015101328492,-0.095178343355656,0.060266248881817,-0.086902089416981,0.067427277565002));
res += mul(Get(s2,-dx,dy), float4x4(-0.114451527595520,0.273698300123215,-0.119120247662067,-0.059153389185667,0.031934019178152,-0.120907455682755,0.019575238227844,-0.025570785626769,0.025501841679215,0.106699518859386,-0.018105419352651,0.124118380248547,-0.032560274004936,-0.025155050680041,-0.044080678373575,0.143469229340553));
res += mul(Get(s2,0,-dy), float4x4(0.009620442986488,0.035889297723770,-0.019237844273448,-0.178567215800285,-0.105205312371254,-0.039877884089947,-0.054814707487822,-0.027232151478529,0.000322732841596,0.029537614434958,-0.052305515855551,0.033630024641752,-0.012325087562203,-0.039104323834181,-0.062811508774757,-0.024951580911875));
res += mul(Get(s2,0,0), float4x4(-0.033795129507780,0.107166185975075,-0.040052711963654,-0.243066102266312,-0.003515319433063,0.116817966103554,-0.023343579843640,0.096141688525677,0.107464715838432,-0.004992845933884,0.009553176350892,0.026299336925149,0.051129702478647,0.078033179044724,-0.099223256111145,-0.025921875610948));
res += mul(Get(s2,0,dy), float4x4(-0.034549526870251,0.103905841708183,-0.074461258947849,0.062111940234900,-0.035153955221176,0.134281516075134,0.085073202848434,0.251441359519958,0.279406547546387,-0.005745009984821,-0.086612336337566,-0.039575759321451,0.091660939157009,-0.038600869476795,-0.028366612270474,0.214369878172874));
res += mul(Get(s2,dx,-dy), float4x4(0.014443958178163,0.186634004116058,-0.024459231644869,-0.060886319726706,-0.000572412507609,-0.110058590769768,-0.157061219215393,-0.230854108929634,0.020643038675189,0.076829642057419,-0.018641548231244,-0.152916833758354,0.080657087266445,-0.088789105415344,-0.004553947597742,-0.151894986629486));
res += mul(Get(s2,dx,0), float4x4(0.025418641045690,0.021357744932175,-0.075546920299530,0.026712357997894,0.071330085396767,-0.044712450355291,-0.112224489450455,-0.191861972212791,0.147497296333313,-0.083271794021130,0.095158830285072,-0.071135215461254,0.166842281818390,-0.025502992793918,-0.077507764101028,-0.086514338850975));
res += mul(Get(s2,dx,dy), float4x4(0.201364323496819,-0.135296747088432,-0.094307363033295,0.360907167196274,0.152360782027245,-0.207926899194717,0.045901771634817,-0.010085378773510,-0.028890268877149,-0.093204125761986,-0.095903761684895,-0.069311119616032,0.068484380841255,-0.136685013771057,-0.071293629705906,0.144561395049095));
res += mul(Get(s3,-dx,-dy), float4x4(-0.081865400075912,0.064970538020134,-0.072297029197216,-0.162235781550407,-0.185944542288780,0.011077160015702,-0.126738861203194,-0.141694396734238,-0.146475777029991,-0.118840254843235,-0.018269952386618,-0.195185333490372,-0.100613199174404,-0.137511074542999,0.081698313355446,-0.090067915618420));
res += mul(Get(s3,-dx,0), float4x4(-0.077630184590816,0.027071170508862,-0.072905644774437,-0.008503838442266,-0.162324368953705,-0.030277444049716,-0.083238825201988,-0.038125146180391,-0.241487160325050,-0.107685506343842,-0.137955650687218,-0.120127826929092,-0.164755001664162,-0.148871779441833,0.048845835030079,-0.088670164346695));
res += mul(Get(s3,-dx,dy), float4x4(-0.083422645926476,-0.030173266306520,-0.099675573408604,-0.034654069691896,-0.098259449005127,0.022281737998128,-0.001219124183990,0.025409305468202,-0.365806490182877,-0.175969108939171,-0.091548763215542,0.187577098608017,-0.216454043984413,0.039689414203167,-0.041337154805660,-0.051647745072842));
res += mul(Get(s3,0,-dy), float4x4(0.025436177849770,0.139390721917152,0.091663517057896,-0.167533710598946,0.007213792763650,0.038832008838654,-0.037381894886494,-0.227289274334908,0.035140767693520,-0.079711437225342,0.062604509294033,-0.033567663282156,-0.008690142072737,0.020543403923512,-0.149294987320900,0.228313997387886));
res += mul(Get(s3,0,0), float4x4(0.022891554981470,-0.015688167884946,0.036587163805962,0.017199361696839,0.149695590138435,-0.092657878994942,0.109872229397297,-0.045465949922800,0.131421819329262,-0.111553028225899,0.009075222536922,-0.052326962351799,0.059795536100864,-0.116563245654106,-0.083543166518211,0.123002745211124));
res += mul(Get(s3,0,dy), float4x4(0.065869309008121,0.063375368714333,-0.005542878061533,0.114059567451477,0.170781910419464,-0.090240225195885,0.040623582899570,-0.102217391133308,0.081987261772156,-0.197108939290047,0.191364571452141,0.170531496405602,0.021207433193922,-0.066911213099957,-0.107881143689156,0.091592997312546));
res += mul(Get(s3,dx,-dy), float4x4(0.072153262794018,-0.009066477417946,0.122109562158585,-0.235022231936455,0.032611064612865,0.256216317415237,0.163761347532272,0.096826761960983,-0.005079313647002,0.082390159368515,-0.048792332410812,-0.125486686825752,-0.062471065670252,0.132059976458549,-0.090309225022793,-0.064978450536728));
res += mul(Get(s3,dx,0), float4x4(-0.037960510700941,-0.169342905282974,0.061703760176897,-0.048926960676908,0.093260131776333,-0.002925370587036,0.196122139692307,0.118909031152725,0.133813127875328,-0.024558704346418,-0.018742375075817,-0.129035323858261,0.088234871625900,-0.007673929445446,0.088363498449326,-0.136193439364433));
res += mul(Get(s3,dx,dy), float4x4(-0.004622428677976,0.040071725845337,-0.010177912190557,0.092862859368324,0.089345328509808,-0.097311913967133,-0.076146014034748,0.035569857805967,0.027265975251794,-0.078348651528358,0.280026912689209,0.067240513861179,0.133697122335434,-0.049315597862005,0.011433299630880,-0.190676823258400));
return max(float4(0,0,0,0), res);
}
