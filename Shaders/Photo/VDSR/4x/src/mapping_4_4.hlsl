sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.068917691707611,-0.061415851116180,-0.073588751256466,0.123403042554855,-0.099606744945049,-0.159060746431351,0.094618842005730,0.201545253396034,-0.059258241206408,0.006754977628589,-0.048923838883638,-0.059979010373354,0.077279508113861,-0.007130468729883,0.242724776268005,0.047041047364473));
res += mul(Get(s0,-dx,0), float4x4(0.041990648955107,0.060467369854450,0.073982857167721,-0.107105411589146,-0.109331905841827,-0.068614952266216,-0.174132764339447,0.092608772218227,-0.096930302679539,-0.124573864042759,0.053202975541353,0.100159406661987,-0.066145896911621,-0.041790511459112,0.087340496480465,0.048374991863966));
res += mul(Get(s0,-dx,dy), float4x4(-0.175044581294060,0.156725004315376,-0.194048389792442,-0.016509460285306,0.078404337167740,-0.064616985619068,-0.062804482877254,0.210587233304977,0.249848678708076,-0.093100406229496,-0.049620557576418,0.182621404528618,-0.105249948799610,-0.011883126571774,-0.001376849133521,0.071064516901970));
res += mul(Get(s0,0,-dy), float4x4(0.174534007906914,-0.067533351480961,0.032686501741409,0.154588758945465,0.167789638042450,-0.014460843987763,0.077001281082630,-0.114781163632870,0.133600369095802,-0.027062091976404,0.028837308287621,0.164483949542046,0.003315092064440,-0.015762286260724,0.022630352526903,-0.164955765008926));
res += mul(Get(s0,0,0), float4x4(0.110350139439106,-0.021842582151294,0.008673677220941,0.057036392390728,-0.101497113704681,-0.001309176441282,0.122599273920059,0.032667681574821,0.208409100770950,-0.031012605875731,-0.039912376552820,-0.027471423149109,0.012421170249581,0.073782533407211,0.033475700765848,0.011888473294675));
res += mul(Get(s0,0,dy), float4x4(0.151302367448807,-0.116458326578140,-0.124686002731323,-0.109803341329098,0.007351010106504,-0.343873351812363,-0.122659295797348,-0.235060364007950,0.201610237360001,-0.018308121711016,-0.027706678956747,-0.054816376417875,-0.016512108966708,-0.096047438681126,0.029139546677470,0.025283578783274));
res += mul(Get(s0,dx,-dy), float4x4(0.045230343937874,0.025092961266637,-0.129442617297173,0.004656998440623,0.181075274944305,-0.030250810086727,-0.113464839756489,0.060666128993034,-0.061096366494894,-0.123933166265488,0.015155450440943,0.165109708905220,0.009312542155385,0.022621046751738,-0.135999292135239,-0.103751711547375));
res += mul(Get(s0,dx,0), float4x4(-0.146612465381622,-0.037623316049576,-0.011919666081667,0.078175395727158,0.136054381728172,-0.020725527778268,-0.109026126563549,-0.102719314396381,0.064609572291374,-0.049105267971754,-0.182664453983307,-0.069054700434208,-0.001141805667430,0.164697483181953,-0.139099493622780,0.042034868150949));
res += mul(Get(s0,dx,dy), float4x4(-0.094862252473831,-0.022585198283195,0.024590309709311,-0.122113659977913,-0.033275499939919,0.017430393025279,0.105830498039722,-0.037758331745863,-0.110058464109898,-0.097135566174984,-0.002742299344391,-0.031524907797575,0.210350885987282,-0.027027672156692,-0.072683811187744,-0.222100719809532));
res += mul(Get(s1,-dx,-dy), float4x4(0.173934459686279,0.005902197211981,-0.043979380279779,0.006403897888958,-0.198885858058929,0.067888617515564,0.125780805945396,-0.123973801732063,0.188520863652229,-0.144166097044945,-0.162682563066483,-0.055954590439796,0.170749172568321,-0.100541234016418,0.424458682537079,0.043617486953735));
res += mul(Get(s1,-dx,0), float4x4(0.060820546001196,-0.006518513895571,0.145670101046562,-0.057044960558414,-0.143412321805954,-0.075435146689415,-0.219143182039261,0.001982501475140,0.106974363327026,-0.011290848255157,-0.090210355818272,0.138357117772102,-0.060143966227770,0.139655098319054,0.010243752039969,0.050653938204050));
res += mul(Get(s1,-dx,dy), float4x4(-0.078999325633049,0.010912054218352,0.024866543710232,0.036225758492947,0.048688169568777,-0.065851405262947,0.022465091198683,0.003338481532410,-0.051075100898743,0.269024908542633,0.039198689162731,-0.133166149258614,-0.141472592949867,-0.129740014672279,0.209297806024551,0.051363103091717));
res += mul(Get(s1,0,-dy), float4x4(-0.034083180129528,-0.243985295295715,-0.103199414908886,-0.126787558197975,-0.066642202436924,0.120345704257488,-0.036349099129438,0.014909405261278,0.095955483615398,-0.024140585213900,-0.193001598119736,0.064199902117252,0.226516231894493,0.042559348046780,-0.018814038485289,0.033140908926725));
res += mul(Get(s1,0,0), float4x4(-0.071743287146091,-0.260545045137405,-0.104145064949989,-0.079600341618061,0.019687566906214,0.042555186897516,-0.034327603876591,-0.156906232237816,-0.181758761405945,-0.145353421568871,0.083281122148037,-0.126195788383484,-0.118675649166107,0.080618165433407,-0.058354649692774,-0.135334223508835));
res += mul(Get(s1,0,dy), float4x4(-0.005216862540692,0.081520706415176,0.084884107112885,0.035372618585825,0.071867287158966,-0.081009916961193,-0.114279791712761,-0.151216223835945,-0.041425921022892,-0.225294262170792,0.015713484957814,-0.012488820590079,0.003732334123924,0.002070658141747,-0.073697455227375,0.032697461545467));
res += mul(Get(s1,dx,-dy), float4x4(0.049057826399803,0.046042948961258,0.050317928195000,-0.128713011741638,-0.168820440769196,0.035616371780634,0.152475312352180,-0.200816079974174,-0.189737439155579,-0.155921190977097,-0.059288151562214,0.126189514994621,0.164681613445282,-0.201363086700439,-0.071004502475262,0.047220002859831));
res += mul(Get(s1,dx,0), float4x4(0.020665079355240,0.222615763545036,0.188509598374367,-0.117273561656475,0.011925127357244,-0.045161500573158,-0.012994052842259,0.215003490447998,0.193812191486359,0.117300838232040,-0.032776314765215,-0.020515972748399,-0.231581911444664,0.039860595017672,-0.100269041955471,0.189352065324783));
res += mul(Get(s1,dx,dy), float4x4(0.066946245729923,-0.076190315186977,0.002131829969585,-0.038175035268068,-0.001378508633934,0.161248311400414,0.060799032449722,0.181701928377151,-0.011355606839061,-0.171591326594353,-0.124294988811016,-0.131229877471924,-0.067978575825691,-0.119064345955849,-0.004598538856953,-0.066833920776844));
res += mul(Get(s2,-dx,-dy), float4x4(0.054343238472939,0.008452217094600,-0.036400888115168,-0.019412858411670,-0.208066582679749,-0.046753428876400,-0.024013444781303,0.013856982812285,0.117774084210396,0.009755013510585,-0.030177164822817,-0.033087927848101,0.146463036537170,0.089421376585960,-0.094027660787106,-0.081731058657169));
res += mul(Get(s2,-dx,0), float4x4(-0.020454563200474,0.040196478366852,0.049025479704142,-0.048324946314096,0.094148270785809,0.047558609396219,-0.129935979843140,-0.146645799279213,0.048299867659807,0.016519898548722,0.160008177161217,0.165771365165710,-0.048189926892519,0.082339175045490,-0.057817898690701,-0.149735882878304));
res += mul(Get(s2,-dx,dy), float4x4(0.048109713941813,-0.028445160016418,-0.098254032433033,0.243222922086716,0.069749355316162,0.084886126220226,-0.042124509811401,-0.128498136997223,-0.057634525001049,0.119346365332603,0.068193964660168,0.029618404805660,-0.001049267360941,0.021984435617924,0.094301514327526,0.036062613129616));
res += mul(Get(s2,0,-dy), float4x4(0.173305138945580,0.140865236520767,-0.036533582955599,-0.108634799718857,-0.037615373730659,0.021746650338173,0.121039390563965,-0.088784642517567,0.012551911175251,-0.095858149230480,0.187649860978127,0.142525464296341,-0.154862672090530,0.034538395702839,0.072523534297943,-0.056573092937469));
res += mul(Get(s2,0,0), float4x4(0.205996945500374,-0.106186568737030,-0.100029811263084,-0.128327608108521,0.193387687206268,-0.020560313016176,-0.061563834547997,0.105942934751511,-0.064153321087360,0.040583848953247,-0.104316197335720,-0.066754378378391,0.181589677929878,-0.156569063663483,0.064385890960693,-0.006008833646774));
res += mul(Get(s2,0,dy), float4x4(0.163770675659180,-0.292641371488571,-0.062498081475496,-0.029843723401427,0.163712218403816,0.071525529026985,0.129159942269325,-0.046560529619455,0.172446161508560,0.033384025096893,0.077493831515312,-0.042618792504072,-0.273975998163223,0.091989636421204,0.033302266150713,-0.004869153257459));
res += mul(Get(s2,dx,-dy), float4x4(0.052395235747099,0.084291517734528,0.141727894544601,0.194756954908371,-0.262110948562622,-0.104651018977165,-0.167249590158463,-0.137081786990166,-0.056158334016800,0.075439862906933,0.202696070075035,0.001731031574309,0.098517060279846,-0.160018727183342,0.165939882397652,-0.195155918598175));
res += mul(Get(s2,dx,0), float4x4(-0.001408091280609,0.009516458027065,0.154930457472801,0.160005927085876,0.150906816124916,-0.009113642387092,0.031513135880232,0.050067584961653,0.062930181622505,0.097010657191277,0.283441007137299,0.090266980230808,0.023344509303570,0.049526300281286,-0.257961958646774,0.151638776063919));
res += mul(Get(s2,dx,dy), float4x4(0.053831689059734,-0.189012408256531,-0.029022272676229,-0.116831943392754,-0.052377201616764,0.021983932703733,-0.099345490336418,-0.217598214745522,0.009438068605959,-0.249827355146408,-0.030204160138965,0.223837003111839,-0.234159529209137,-0.038828410208225,-0.209284827113152,-0.075400941073895));
res += mul(Get(s3,-dx,-dy), float4x4(0.144849896430969,-0.001111064571887,0.014437261037529,0.278033643960953,-0.018660645931959,-0.174830585718155,-0.047543860971928,-0.005173855926841,-0.100265517830849,-0.009677423164248,0.179386362433434,-0.106806509196758,-0.036169264465570,-0.012370769865811,0.029720950871706,0.089512757956982));
res += mul(Get(s3,-dx,0), float4x4(-0.107656121253967,-0.023034838959575,-0.096077866852283,0.152121499180794,0.010751399211586,0.001840645447373,-0.168944060802460,0.147339776158333,0.053457275032997,-0.113091759383678,0.034617621451616,-0.069352753460407,-0.092612370848656,0.159424394369125,0.085849530994892,0.008594715967774));
res += mul(Get(s3,-dx,dy), float4x4(0.016788298264146,-0.055168300867081,-0.031679984182119,0.226391509175301,-0.179671600461006,-0.222451344132423,-0.320353984832764,-0.190422594547272,0.097920663654804,-0.018348662182689,-0.264082938432693,-0.258870065212250,-0.008495759218931,0.160751149058342,0.117960028350353,0.037519633769989));
res += mul(Get(s3,0,-dy), float4x4(-0.124857611954212,0.200675562024117,-0.041510619223118,-0.242974311113358,0.089554801583290,-0.090655796229839,0.038730617612600,-0.136221915483475,0.006105043459684,-0.063579633831978,-0.130792364478111,-0.170500129461288,-0.168244779109955,0.107713147997856,0.028333405032754,0.127522975206375));
res += mul(Get(s3,0,0), float4x4(0.067932739853859,0.131449908018112,0.051155280321836,0.214545518159866,0.131343081593513,-0.154162764549255,0.017243303358555,-0.189097508788109,-0.192835807800293,0.041582975536585,0.023181308060884,-0.290187805891037,-0.023341679945588,-0.169185310602188,0.060133576393127,-0.175290077924728));
res += mul(Get(s3,0,dy), float4x4(0.055238280445337,0.074426561594009,0.094568267464638,0.063027292490005,0.121367797255516,0.260666370391846,-0.091962635517120,0.195978820323944,-0.126109108328819,-0.125671043992043,0.049065396189690,-0.128314673900604,-0.124189533293247,-0.196974992752075,-0.028470519930124,-0.056120730936527));
res += mul(Get(s3,dx,-dy), float4x4(0.005223766900599,0.022776039317250,-0.122679777443409,0.005471394397318,-0.034931421279907,0.053659413009882,0.079768575727940,-0.027833048254251,0.009239410050213,-0.161319881677628,-0.000760933093261,0.054867111146450,-0.108154051005840,0.097755059599876,-0.096325613558292,0.057589896023273));
res += mul(Get(s3,dx,0), float4x4(0.065592803061008,-0.249615922570229,0.010087896138430,0.020110962912440,0.057081244885921,0.158664360642433,0.070803821086884,0.036929201334715,0.011195798404515,0.053919527679682,-0.189471930265427,-0.037235241383314,-0.006479621864855,0.046056352555752,-0.031053673475981,0.039572328329086));
res += mul(Get(s3,dx,dy), float4x4(0.149841770529747,-0.051062412559986,-0.151979386806488,-0.358494311571121,0.072761885821819,0.139813825488091,-0.017546847462654,-0.266929447650909,0.024810338392854,0.185261860489845,-0.192287400364876,0.113845191895962,-0.096718914806843,-0.064599834382534,0.076506353914738,0.007993800565600));
return max(float4(0,0,0,0), res);
}
