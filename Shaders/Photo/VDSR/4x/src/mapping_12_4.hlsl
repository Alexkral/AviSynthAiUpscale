sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.137885287404060,-0.033385187387466,-0.045683253556490,0.141063809394836,-0.031968124210835,0.182813659310341,0.036521039903164,0.076300427317619,0.151777952909470,-0.130118921399117,0.062541246414185,-0.033429663628340,0.105156034231186,0.017911432310939,-0.075239464640617,-0.037180442363024));
res += mul(Get(s0,-dx,0), float4x4(0.031144216656685,-0.126795068383217,0.069691337645054,0.104287996888161,-0.021650863811374,0.036226276308298,0.047976605594158,0.130540892481804,0.037727527320385,-0.044758688658476,-0.016821777448058,-0.020607173442841,0.074744276702404,0.164469048380852,-0.020785383880138,-0.069166906177998));
res += mul(Get(s0,-dx,dy), float4x4(-0.069713592529297,-0.179052010178566,0.097668595612049,0.111535228788853,0.001549137057737,0.079080492258072,0.048879057168961,0.033871401101351,0.056605856865644,-0.024305785074830,0.034150395542383,-0.047538544982672,-0.026312878355384,0.005638128146529,0.028145255520940,-0.047540955245495));
res += mul(Get(s0,0,-dy), float4x4(0.051266282796860,0.053107783198357,-0.036175489425659,0.067055374383926,-0.054817758500576,0.023009479045868,0.046277929097414,-0.005413758568466,0.081452324986458,0.023647356778383,0.044869847595692,-0.023381620645523,0.103742539882660,0.113527894020081,0.008917982690036,-0.034462310373783));
res += mul(Get(s0,0,0), float4x4(0.095079876482487,-0.064433783292770,-0.060750462114811,-0.116165153682232,-0.034497499465942,0.023185025900602,-0.045171637088060,-0.116287708282471,0.099170513451099,0.040441401302814,-0.033968012779951,0.060902360826731,0.115532867610455,-0.033607188612223,-0.003852392779663,-0.020971540361643));
res += mul(Get(s0,0,dy), float4x4(0.106813184916973,-0.020719394087791,0.012903385795653,0.046276167035103,-0.003385828109458,0.068017289042473,0.021644404157996,-0.140880137681961,-0.020607976242900,-0.065420977771282,-0.048453070223331,-0.099821917712688,0.043122775852680,-0.097192153334618,-0.000728078652173,-0.052378699183464));
res += mul(Get(s0,dx,-dy), float4x4(-0.016902949661016,0.028731754049659,0.137441679835320,-0.086914397776127,-0.069386333227158,0.089108012616634,-0.080310113728046,-0.081354983150959,-0.020125493407249,0.030438808724284,0.124791376292706,-0.034717991948128,0.139413073658943,0.147491842508316,0.024392569437623,-0.046730712056160));
res += mul(Get(s0,dx,0), float4x4(-0.091234572231770,-0.029158536344767,-0.061395827680826,-0.087372116744518,0.027231160551310,-0.114234119653702,0.089857719838619,-0.045277956873178,-0.029474489390850,0.038518823683262,0.054549381136894,-0.040235228836536,0.047420427203178,0.038725279271603,-0.052041526883841,-0.063503205776215));
res += mul(Get(s0,dx,dy), float4x4(-0.187010496854782,-0.053234763443470,0.015765881165862,-0.046433303505182,0.014288707636297,-0.028325034305453,-0.021627763286233,-0.003490289673209,-0.122892647981644,0.084036551415920,0.190516144037247,-0.062972709536552,0.046587739139795,-0.121678084135056,-0.093555845320225,0.011766122654080));
res += mul(Get(s1,-dx,-dy), float4x4(-0.015596028417349,-0.056161347776651,0.035763286054134,0.276801377534866,0.060917701572180,0.021130988374352,-0.029592974111438,-0.038216289132833,0.072809636592865,-0.034221056848764,-0.134431958198547,0.136574238538742,-0.115693069994450,0.202958673238754,-0.039400301873684,0.135187104344368));
res += mul(Get(s1,-dx,0), float4x4(0.162657648324966,-0.115479081869125,-0.146831139922142,-0.053619164973497,0.083708316087723,-0.044124521315098,0.021276518702507,-0.062793634831905,0.062860868871212,-0.056809283792973,-0.105227448046207,0.129413440823555,-0.029190326109529,0.197433501482010,-0.090849965810776,0.129149824380875));
res += mul(Get(s1,-dx,dy), float4x4(-0.026653505861759,-0.064865894615650,0.101791903376579,0.012123308144510,0.328961908817291,0.068789795041084,-0.056202910840511,0.050520628690720,0.077715151011944,-0.024770693853498,-0.062764570116997,0.004171109758317,-0.101644158363342,0.166679412126541,-0.096222624182701,0.051935169845819));
res += mul(Get(s1,0,-dy), float4x4(0.150449082255363,0.057677119970322,0.019532958045602,-0.015642251819372,-0.033647324889898,0.113609731197357,0.061963923275471,-0.055676724761724,-0.060710310935974,-0.010864310897887,-0.006382438354194,-0.082640632987022,-0.016388159245253,0.054180696606636,-0.034644354134798,0.003263846971095));
res += mul(Get(s1,0,0), float4x4(0.028999533504248,-0.023707669228315,0.046781748533249,0.057233162224293,-0.096006885170937,-0.120342276990414,0.029035825282335,-0.097219429910183,0.007255293894559,-0.014041398651898,-0.026086142286658,0.031780127435923,-0.021853534504771,-0.028272029012442,-0.087742291390896,0.065607026219368));
res += mul(Get(s1,0,dy), float4x4(-0.037211697548628,-0.083848483860493,-0.011244644410908,0.041561152786016,0.030923012644053,-0.014383083209395,-0.029719652608037,-0.041868910193443,0.068068623542786,-0.043522562831640,0.055511675775051,0.110080540180206,-0.076287813484669,0.108969144523144,-0.063732862472534,-0.019941236823797));
res += mul(Get(s1,dx,-dy), float4x4(-0.026461938396096,0.124557524919510,0.024002034217119,0.007583339698613,0.079372555017471,-0.068000189960003,0.095438070595264,-0.028279131278396,-0.041142757982016,0.119941204786301,-0.126551836729050,-0.076501853764057,0.011329614557326,0.222582638263702,0.089508228003979,0.077457644045353));
res += mul(Get(s1,dx,0), float4x4(-0.079228930175304,0.034376226365566,0.054966874420643,-0.037126161158085,-0.049550522118807,0.081005625426769,0.142236843705177,-0.088383011519909,-0.101725786924362,0.014479259960353,-0.073653399944305,0.084077022969723,-0.085004195570946,-0.025556435808539,0.001832566224039,-0.005128486081958));
res += mul(Get(s1,dx,dy), float4x4(0.026522260159254,-0.008645945228636,-0.011289524845779,-0.044399201869965,-0.138614803552628,-0.014922010712326,-0.015040965750813,-0.083582252264023,-0.042316902428865,-0.014594718813896,-0.048065084964037,-0.038328692317009,-0.019154170528054,0.020933773368597,0.020019760355353,-0.012866912409663));
res += mul(Get(s2,-dx,-dy), float4x4(0.191713035106659,-0.058002531528473,-0.064365573227406,-0.014771425165236,-0.029379703104496,0.069499671459198,0.065353579819202,-0.005095703061670,0.022791242226958,-0.010736125521362,-0.000619073573034,0.174445003271103,0.107682473957539,0.028769958764315,-0.016646998003125,0.153824448585510));
res += mul(Get(s2,-dx,0), float4x4(0.108401976525784,-0.039003729820251,-0.006531664170325,-0.010989142581820,0.055369868874550,0.024131074547768,0.081255733966827,0.111321225762367,0.011423720046878,-0.082461684942245,0.156210213899612,0.210533916950226,0.268108069896698,-0.096439428627491,0.030526889488101,0.012993048876524));
res += mul(Get(s2,-dx,dy), float4x4(0.035517297685146,0.025875451043248,0.108189620077610,0.007005770225078,0.006025703158230,-0.094829350709915,0.030830921605229,0.016286337748170,-0.017884315922856,-0.139717683196068,0.012655266560614,0.058025799691677,-0.012985015287995,-0.101829886436462,0.003021523123607,0.197142958641052));
res += mul(Get(s2,0,-dy), float4x4(0.011071988381445,-0.019307529553771,-0.086885817348957,-0.017167305573821,-0.011967013590038,-0.055682603269815,0.086761668324471,0.026342075318098,0.103292927145958,0.244789317250252,0.057951595634222,0.194643780589104,-0.009230954572558,0.067240908741951,0.023086741566658,0.103071011602879));
res += mul(Get(s2,0,0), float4x4(0.098755873739719,-0.051782295107841,0.116084419190884,-0.031785517930984,-0.042899966239929,-0.046088833361864,-0.030986120924354,0.088244006037712,-0.024261124432087,-0.007927029393613,-0.197139188647270,-0.009679734706879,-0.056085459887981,-0.052490878850222,0.020556991919875,-0.052784629166126));
res += mul(Get(s2,0,dy), float4x4(0.026428194716573,0.019192358478904,0.079248182475567,-0.030747178941965,-0.004227667581290,-0.077874802052975,-0.024291610345244,-0.016581380739808,-0.013857218436897,-0.075392045080662,-0.057691987603903,-0.147014990448952,0.065721645951271,-0.130064800381660,-0.024096926674247,-0.070485077798367));
res += mul(Get(s2,dx,-dy), float4x4(-0.063996903598309,0.004329386167228,0.072379745543003,-0.056157305836678,-0.038234800100327,0.004557461012155,0.122859828174114,0.183253869414330,0.041710503399372,-0.028599578887224,0.220218524336815,0.017137436196208,-0.027234271168709,0.007951466366649,-0.038739822804928,-0.033806692808867));
res += mul(Get(s2,dx,0), float4x4(0.008315588347614,0.134206995368004,0.052788451313972,-0.043919626623392,-0.029531555250287,0.043198969215155,0.012408838607371,0.077814660966396,-0.017511961981654,0.023133741691709,0.169293314218521,-0.105500511825085,-0.044027041643858,-0.026623653247952,-0.028209073469043,-0.086793906986713));
res += mul(Get(s2,dx,dy), float4x4(-0.036303352564573,-0.044352136552334,0.336268335580826,-0.002151198918000,0.004956485237926,-0.048930030316114,0.134895965456963,0.056041236966848,-0.016808351501822,0.041834454983473,0.030256230384111,-0.153281658887863,-0.057643935084343,-0.085072033107281,-0.064230553805828,-0.177177622914314));
res += mul(Get(s3,-dx,-dy), float4x4(-0.033901207149029,0.106908813118935,-0.143316954374313,-0.064737722277641,-0.101209893822670,-0.124241374433041,-0.004878997802734,0.051763467490673,-0.025089681148529,-0.120043732225895,0.053748305886984,0.078759334981441,-0.066156417131424,-0.023052718490362,0.064400598406792,-0.080317929387093));
res += mul(Get(s3,-dx,0), float4x4(-0.001245509018190,0.052372485399246,-0.071120597422123,0.041848577558994,-0.008665646426380,0.059460360556841,0.046053212136030,0.013814557343721,0.104195900261402,-0.130091235041618,-0.091961339116096,-0.007467143237591,-0.074398674070835,-0.063525363802910,0.022771915420890,-0.056059036403894));
res += mul(Get(s3,-dx,dy), float4x4(0.071618013083935,-0.055532552301884,-0.021902032196522,-0.109810918569565,0.011155216023326,-0.051517900079489,0.020433135330677,-0.072228901088238,-0.040194038301706,-0.140661880373955,-0.046388134360313,0.106160990893841,-0.103268176317215,-0.045435044914484,-0.008482376113534,-0.157524883747101));
res += mul(Get(s3,0,-dy), float4x4(-0.250117838382721,0.036509916186333,-0.112276680767536,-0.085032880306244,-0.010996196419001,-0.034927997738123,-0.040945358574390,0.018532918766141,-0.035644367337227,-0.018874907866120,-0.041606698185205,0.050541337579489,-0.001717475126497,0.047395300120115,0.002558726584539,-0.082410834729671));
res += mul(Get(s3,0,0), float4x4(-0.048041921108961,-0.122778251767159,0.089714042842388,-0.112673051655293,-0.118747510015965,-0.000195899934624,-0.003874072805047,0.059292338788509,0.119834631681442,-0.071724466979504,0.057266138494015,-0.039692983031273,-0.010407510213554,0.132629439234734,-0.012477815151215,-0.073505677282810));
res += mul(Get(s3,0,dy), float4x4(-0.140889912843704,-0.179185196757317,0.057262640446424,-0.194271132349968,-0.085856594145298,-0.102367945015430,-0.007581003941596,-0.081004187464714,-0.025247668847442,-0.003371968865395,-0.011594341136515,0.072900190949440,-0.053604785352945,-0.057703692466021,-0.021657476201653,-0.051290079951286));
res += mul(Get(s3,dx,-dy), float4x4(-0.006583263631910,0.061362594366074,0.012860167771578,-0.133490264415741,-0.075441136956215,0.101491659879684,0.002917426405475,0.112472392618656,0.000699377444107,0.091356351971626,-0.010392510332167,0.082699909806252,-0.004101035185158,-0.054666809737682,-0.067561246454716,-0.028668062761426));
res += mul(Get(s3,dx,0), float4x4(0.076827108860016,0.083000108599663,0.146816611289978,-0.132272258400917,0.084928862750530,0.105444036424160,-0.001003788667731,0.106481939554214,0.066160783171654,0.107423007488251,-0.137676700949669,0.110155187547207,-0.038109131157398,0.007001581601799,0.005674939602613,-0.046749100089073));
res += mul(Get(s3,dx,dy), float4x4(0.045068357139826,0.047101378440857,-0.090944245457649,-0.075735941529274,-0.068329706788063,0.073834165930748,-0.066627204418182,0.073549263179302,0.004101363942027,0.068916104733944,-0.041738767176867,0.193048134446144,-0.088652186095715,0.063690461218357,-0.067726053297520,0.010674659162760));
return max(float4(0,0,0,0), res);
}
