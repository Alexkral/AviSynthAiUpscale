sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.115092404186726,-0.014558268710971,-0.057561378926039,0.046468842774630,-0.018171008676291,-0.005348424892873,0.070377729833126,0.102332971990108,-0.014833084307611,0.022919198498130,0.001151413074695,-0.036453936249018,0.003282688790932,-0.099670313298702,-0.103066235780716,-0.103290371596813));
res += mul(Get(s0,-dx,0), float4x4(0.155608862638474,-0.176032990217209,-0.057990096509457,0.082568936049938,-0.013077436946332,0.041581001132727,-0.056303959339857,0.092214345932007,0.037198767066002,-0.140038222074509,0.028796415776014,-0.138608545064926,0.017920581623912,-0.071953684091568,-0.133175894618034,-0.123858943581581));
res += mul(Get(s0,-dx,dy), float4x4(0.047288827598095,-0.098305702209473,0.096586883068085,-0.008622280322015,0.067913591861725,0.120172463357449,-0.067464828491211,0.054813977330923,0.035488519817591,-0.177615895867348,-0.070341579616070,-0.106759317219257,-0.011140164919198,0.375205546617508,-0.018520005047321,-0.194967150688171));
res += mul(Get(s0,0,-dy), float4x4(0.073106363415718,-0.056615989655256,-0.080067098140717,0.035543665289879,0.001455247984268,-0.043672889471054,-0.069559626281261,0.011619975790381,0.086095362901688,0.064853176474571,-0.004823419731110,0.157158449292183,0.032347861677408,-0.058167792856693,-0.068618670105934,-0.080158419907093));
res += mul(Get(s0,0,0), float4x4(0.052630543708801,-0.021310407668352,-0.035410929471254,0.092624120414257,-0.002419770462438,0.108929537236691,-0.028437320142984,0.044090926647186,0.036979425698519,-0.066210314631462,0.122899919748306,0.067685589194298,0.043603871017694,-0.052631366997957,-0.108707413077354,0.006197052542120));
res += mul(Get(s0,0,dy), float4x4(-0.011968786828220,0.081385210156441,0.068703316152096,0.043000962585211,-0.025766653940082,0.002851988654584,-0.045136291533709,-0.067305468022823,0.107074506580830,-0.138226062059402,0.041691444814205,0.032468970865011,0.050461560487747,0.084430061280727,-0.035193014889956,0.003834867617115));
res += mul(Get(s0,dx,-dy), float4x4(0.006469384301454,-0.048909276723862,-0.006349069997668,-0.030591839924455,-0.091373898088932,-0.078449986875057,-0.032918535172939,0.148436740040779,-0.132417783141136,-0.000500968890265,-0.176293894648552,0.110473215579987,0.022521659731865,0.180557042360306,-0.030300805345178,0.004532387480140));
res += mul(Get(s0,dx,0), float4x4(-0.051028244197369,-0.051126316189766,0.081242971122265,0.094357341527939,-0.099661402404308,-0.032073628157377,-0.044822972267866,0.010712209157646,-0.028573144227266,0.054002966731787,-0.144298821687698,-0.086292363703251,0.029714308679104,0.031773295253515,0.020999502390623,0.087587438523769));
res += mul(Get(s0,dx,dy), float4x4(-0.078510515391827,-0.042734622955322,0.080877289175987,0.098502926528454,-0.034002278000116,-0.089188180863857,-0.140248760581017,-0.076737962663174,0.069175697863102,-0.039827995002270,0.098152764141560,0.041142653673887,0.098195597529411,0.093720018863678,-0.053683847188950,0.044199045747519));
res += mul(Get(s1,-dx,-dy), float4x4(-0.011782754212618,0.040407028049231,0.087966360151768,0.049103032797575,0.029345562681556,0.069678299129009,0.061467677354813,-0.038287740200758,-0.069242157042027,0.024172773584723,0.110578954219818,-0.075792789459229,0.111814275383949,-0.109559364616871,-0.099922619760036,0.070545010268688));
res += mul(Get(s1,-dx,0), float4x4(-0.051852330565453,-0.118463099002838,0.003502285107970,-0.102943733334541,0.074446164071560,0.196590587496758,0.047962196171284,-0.004174649249762,-0.170527130365372,0.036472681909800,-0.000692048342898,0.104062780737877,0.030392425134778,0.014700845815241,-0.002323390450329,0.081390932202339));
res += mul(Get(s1,-dx,dy), float4x4(-0.030937567353249,0.026612499728799,-0.009552231058478,-0.109247930347919,0.036406837403774,-0.146525934338570,-0.101393520832062,0.022896552458405,-0.135500669479370,-0.039515692740679,0.091135628521442,-0.008060659281909,0.184037134051323,-0.095149077475071,0.003065968398005,-0.167133301496506));
res += mul(Get(s1,0,-dy), float4x4(0.097469650208950,-0.035571891814470,0.042497836053371,-0.036323010921478,0.110963143408298,-0.059995125979185,0.019466107711196,-0.113443575799465,-0.100159771740437,0.009949578903615,0.086183920502663,-0.108944393694401,0.081602111458778,-0.066374666988850,-0.122923001646996,-0.013807710260153));
res += mul(Get(s1,0,0), float4x4(0.056141775101423,-0.020726403221488,0.075863458216190,0.046286512166262,0.051364101469517,0.101539254188538,0.042190309613943,-0.010577084496617,-0.149053037166595,-0.082293532788754,0.028863037005067,0.175958380103111,0.014945164322853,-0.102914586663246,-0.067918039858341,-0.018958609551191));
res += mul(Get(s1,0,dy), float4x4(-0.073938608169556,0.059955101460218,0.054107777774334,0.006858477368951,0.015939939767122,-0.025624878704548,0.050896838307381,0.115442052483559,-0.161761030554771,-0.017482750117779,0.048752266913652,0.277040779590607,0.166833996772766,0.045363336801529,-0.052335429936647,-0.042729504406452));
res += mul(Get(s1,dx,-dy), float4x4(0.081678517162800,0.027780538424850,0.002599630272016,-0.078968562185764,0.077245570719242,-0.025754183530807,-0.035291496664286,-0.004761347081512,-0.140310212969780,-0.063626497983932,0.156602874398232,0.243373200297356,0.091017246246338,0.025745678693056,-0.053293146193027,-0.125903993844986));
res += mul(Get(s1,dx,0), float4x4(-0.121397659182549,-0.026898596435785,-0.058902945369482,-0.141170367598534,0.045295938849449,-0.009218309074640,0.058767896145582,0.065969437360764,-0.165781110525131,0.059851586818695,0.004256043117493,-0.059118609875441,0.079005040228367,-0.039043899625540,-0.049635499715805,-0.067856192588806));
res += mul(Get(s1,dx,dy), float4x4(-0.157996430993080,0.007240862585604,0.058458030223846,-0.170932561159134,-0.050629045814276,-0.026026051491499,-0.004726914688945,0.106650732457638,-0.142838284373283,-0.010291540995240,0.003740056185052,-0.188741043210030,0.131391033530235,0.058173336088657,0.021180244162679,-0.009288731031120));
res += mul(Get(s2,-dx,-dy), float4x4(-0.009658660739660,0.180723667144775,0.144353330135345,0.308220088481903,-0.010172936134040,0.021913688629866,0.238054722547531,-0.057220887392759,-0.007784558925778,-0.076735727488995,-0.250979959964752,-0.091895416378975,0.012338247150183,-0.078212179243565,0.019689830020070,0.033681493252516));
res += mul(Get(s2,-dx,0), float4x4(-0.004506194498390,-0.008263465948403,0.127476856112480,-0.170284718275070,0.060695987194777,-0.013197727501392,0.099788717925549,0.057928819209337,0.015298744663596,-0.015444380231202,-0.066463842988014,0.047929774969816,0.128414794802666,0.043963298201561,0.044580087065697,-0.124347843229771));
res += mul(Get(s2,-dx,dy), float4x4(0.039920710027218,0.051582578569651,0.009304438717663,-0.086982689797878,0.124348558485508,0.014171559363604,0.018114330247045,0.087386287748814,-0.039496954530478,-0.058676894754171,0.027242984622717,-0.003348222933710,0.041165977716446,-0.005268466658890,-0.007709779310971,0.003176886355504));
res += mul(Get(s2,0,-dy), float4x4(0.099932208657265,0.065496854484081,0.119141913950443,0.050068248063326,-0.032908070832491,-0.053101822733879,0.068465806543827,0.007864540442824,0.020870435982943,-0.059097941964865,-0.074604444205761,-0.024262556806207,-0.028507618233562,-0.053815152496099,0.111097313463688,0.110118202865124));
res += mul(Get(s2,0,0), float4x4(0.008677439764142,-0.108007490634918,-0.174528658390045,-0.058968100696802,0.031484913080931,0.055854037404060,0.123830698430538,0.047958444803953,0.034104239195585,-0.002160851610824,-0.003874369198456,0.049274742603302,0.011567334644496,0.173561871051788,0.002657253993675,0.017569599673152));
res += mul(Get(s2,0,dy), float4x4(0.009692326188087,-0.030355513095856,0.045415192842484,-0.029667450115085,0.064646497368813,0.092707000672817,-0.069813080132008,-0.028400858864188,0.067590147256851,-0.086817629635334,0.038300316780806,0.077225469052792,0.014326521195471,-0.035356406122446,0.140300244092941,0.091222271323204));
res += mul(Get(s2,dx,-dy), float4x4(-0.020187277346849,-0.062588833272457,0.105594307184219,0.024910820648074,-0.057731069624424,-0.060103107243776,-0.062044613063335,-0.026941129937768,-0.011934508569539,0.109460219740868,0.045612987130880,-0.039613198488951,-0.047031659632921,0.074731782078743,0.132914498448372,0.089113466441631));
res += mul(Get(s2,dx,0), float4x4(0.009267867542803,-0.119943186640739,0.058363992720842,-0.012553881853819,0.132445082068443,-0.040770836174488,0.049943611025810,0.038449868559837,0.001645654672757,0.087897300720215,0.157260045409203,0.045677151530981,0.012966100126505,0.002209204481915,0.005850808229297,0.028038997203112));
res += mul(Get(s2,dx,dy), float4x4(0.032566241919994,-0.060463231056929,0.085865817964077,-0.003252490423620,0.040978793054819,0.028194131329656,0.095780968666077,0.045367483049631,-0.055793400853872,0.110704250633717,0.039065521210432,0.035788927227259,-0.038705658167601,0.064533613622189,-0.001836920622736,0.078201897442341));
res += mul(Get(s3,-dx,-dy), float4x4(0.030051441863179,0.057428669184446,0.063644804060459,-0.060225341469049,0.037594590336084,-0.080611407756805,-0.103928998112679,-0.133575305342674,-0.162665054202080,-0.027206873521209,-0.041000887751579,-0.077748984098434,-0.152732014656067,-0.040156286209822,-0.089914292097092,-0.095395453274250));
res += mul(Get(s3,-dx,0), float4x4(0.136864379048347,-0.085708171129227,0.027343099936843,0.009524127468467,-0.036871470510960,-0.111674606800079,-0.019720252603292,-0.043098431080580,-0.142731532454491,0.025819204747677,-0.031445257365704,-0.004043807275593,-0.107797011733055,-0.032126631587744,-0.079231582581997,0.023977756500244));
res += mul(Get(s3,-dx,dy), float4x4(-0.042485199868679,0.064554847776890,-0.069958135485649,0.041630193591118,-0.032535243779421,-0.024918938055634,0.051575019955635,-0.044053453952074,-0.018072806298733,-0.085359007120132,-0.084568478167057,-0.021804878488183,-0.068968512117863,-0.049321770668030,-0.086766950786114,-0.029544962570071));
res += mul(Get(s3,0,-dy), float4x4(0.011557133868337,-0.020157404243946,0.206775203347206,0.002268846379593,-0.124937497079372,-0.045709125697613,-0.154519557952881,-0.118710108101368,-0.090286925435066,-0.018556900322437,0.049957152456045,0.015488909557462,-0.035650022327900,-0.072750002145767,-0.098650112748146,0.029204709455371));
res += mul(Get(s3,0,0), float4x4(-0.083400495350361,-0.082077488303185,0.076291762292385,0.047929164022207,0.008644876070321,-0.047633841633797,-0.011348433792591,0.019735433161259,-0.137842625379562,0.013471432030201,-0.010031249374151,0.060894157737494,-0.042547982186079,-0.019279526546597,-0.041354019194841,0.055465981364250));
res += mul(Get(s3,0,dy), float4x4(0.093056708574295,-0.034468561410904,0.071490623056889,0.008071446791291,-0.061737935990095,-0.054372239857912,-0.009332494810224,-0.065970264375210,0.052938520908356,-0.073805913329124,-0.088208094239235,-0.025569131597877,-0.035690095275640,0.057114519178867,-0.023839140310884,-0.009420095011592));
res += mul(Get(s3,dx,-dy), float4x4(0.021925589069724,0.204588234424591,0.057429797947407,-0.023307299241424,-0.079428300261497,-0.039896316826344,0.067649103701115,-0.008971869014204,-0.088164545595646,0.035760551691055,0.074653029441833,0.087004981935024,-0.141388133168221,-0.046152587980032,0.001413221354596,0.067022100090981));
res += mul(Get(s3,dx,0), float4x4(0.039820533245802,0.077110022306442,0.002498343586922,0.021722868084908,0.069331198930740,-0.007441369816661,-0.001023949938826,-0.071674518287182,-0.023657938465476,0.087508305907249,0.105007782578468,0.127956673502922,-0.072213858366013,-0.044316325336695,-0.072353854775429,0.058523725718260));
res += mul(Get(s3,dx,dy), float4x4(0.059737507253885,-0.024778129532933,-0.034375496208668,0.052309922873974,0.014899491332471,-0.081935606896877,0.129151314496994,-0.046235386282206,0.174277558922768,0.148984029889107,0.086578220129013,-0.018429854884744,-0.083340398967266,0.141717404127121,-0.027517369017005,-0.038387797772884));
return max(float4(0,0,0,0), res);
}
