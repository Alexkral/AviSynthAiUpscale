sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.069663263857365,-0.072827830910683,0.405577212572098,0.169257909059525,-0.059971332550049,-0.127430155873299,-0.027957981452346,0.130691155791283,0.115669988095760,-0.122840061783791,0.000921447470319,0.086009696125984,-0.126074433326721,0.007223630789667,-0.041564241051674,-0.024583032354712));
res += mul(Get(s0,-dx,0), float4x4(-0.044002529233694,-0.017305143177509,-0.041575524955988,-0.060696363449097,-0.031323026865721,0.015894930809736,0.009579559788108,0.052502039819956,-0.050567228347063,-0.087365753948689,-0.082666926085949,-0.014865855686367,0.032825089991093,-0.018134199082851,-0.051926892250776,-0.041826173663139));
res += mul(Get(s0,-dx,dy), float4x4(0.102612853050232,0.061156742274761,0.097510091960430,0.096543736755848,-0.087982013821602,-0.029555179178715,0.034634463489056,-0.012921546585858,-0.048950623720884,0.034828569740057,0.046633291989565,-0.062244612723589,0.033358290791512,0.047402631491423,0.102098658680916,-0.025854133069515));
res += mul(Get(s0,0,-dy), float4x4(0.100666686892509,-0.084144264459610,0.192091196775436,0.036762990057468,-0.128560543060303,-0.001380333094858,0.148619711399078,-0.050568893551826,-0.097185693681240,-0.049708038568497,-0.025351351127028,-0.001178562873974,-0.003271524328738,0.004104625433683,-0.009781589731574,0.034269932657480));
res += mul(Get(s0,0,0), float4x4(-0.061277810484171,-0.053380504250526,-0.081911407411098,0.012298348359764,-0.083254866302013,0.196207925677299,0.020349694415927,-0.104933246970177,-0.017345486208797,-0.014890022575855,-0.088117033243179,0.001476932782680,-0.042927883565426,0.077568277716637,-0.064651973545551,0.033738519996405));
res += mul(Get(s0,0,dy), float4x4(-0.044383428990841,-0.153749406337738,-0.032995104789734,-0.020740756765008,-0.201462581753731,-0.033208508044481,-0.079398930072784,-0.005765422713012,-0.053518801927567,0.039050545543432,-0.041882026940584,0.028991604223847,-0.077224776148796,0.121351629495621,-0.000326568231685,-0.059741031378508));
res += mul(Get(s0,dx,-dy), float4x4(-0.068197458982468,-0.122025921940804,0.029433937743306,-0.107550717890263,0.255691647529602,0.012183044105768,0.099941417574883,-0.066960282623768,-0.082777738571167,-0.042731408029795,0.042250696569681,0.004032027442008,0.251491457223892,-0.108152322471142,-0.062381953001022,-0.071084715425968));
res += mul(Get(s0,dx,0), float4x4(-0.080760002136230,0.188795298337936,-0.100350491702557,0.113449431955814,-0.047666456550360,-0.030139125883579,0.034072946757078,-0.253278642892838,-0.015322000719607,-0.031962372362614,0.036853540688753,-0.169604569673538,0.168999657034874,-0.048935748636723,0.013584625907242,-0.084651283919811));
res += mul(Get(s0,dx,dy), float4x4(-0.012133974581957,0.030414817854762,-0.003588711842895,-0.086415626108646,-0.164714500308037,-0.048926632851362,-0.061575599014759,-0.166497424244881,-0.061400800943375,0.001534596667625,0.060214787721634,-0.004895777907223,0.022508472204208,0.096303805708885,0.016536865383387,-0.144933611154556));
res += mul(Get(s1,-dx,-dy), float4x4(-0.059834744781256,-0.241772621870041,0.049983583390713,0.064948223531246,-0.053584117442369,-0.076570466160774,0.013701171614230,-0.036997824907303,0.003874562447891,0.066831082105637,0.168339371681213,0.112227030098438,-0.018443755805492,-0.015812963247299,0.023642169311643,0.119102172553539));
res += mul(Get(s1,-dx,0), float4x4(0.081487759947777,-0.207524567842484,-0.121613308787346,0.033306904137135,0.023014999926090,0.133985757827759,-0.071408167481422,-0.034289583563805,-0.002598599297926,0.031622920185328,0.030406929552555,-0.017795557156205,-0.047051414847374,-0.016998348757625,0.003754349658266,0.119261600077152));
res += mul(Get(s1,-dx,dy), float4x4(-0.061251711100340,-0.064718522131443,-0.033372413367033,-0.077257215976715,-0.036892119795084,0.008292341604829,0.009352856315672,-0.023580621927977,0.089917898178101,0.126782238483429,0.075373128056526,-0.063934020698071,0.015256845392287,0.001276779803447,0.091882675886154,-0.065211378037930));
res += mul(Get(s1,0,-dy), float4x4(-0.023310720920563,0.017864206805825,-0.098748825490475,-0.031354643404484,-0.119433790445328,0.130076378583908,-0.094800680875778,-0.037500757724047,0.130966618657112,0.135295704007149,-0.111951746046543,0.009996892884374,-0.039045557379723,-0.090933136641979,0.038758598268032,0.071002401411533));
res += mul(Get(s1,0,0), float4x4(0.064259424805641,0.101422958076000,-0.074232168495655,0.005967921111733,0.017103224992752,0.089127920567989,-0.082240425050259,-0.102808155119419,0.001575940172188,-0.106769144535065,-0.075667135417461,-0.064415410161018,-0.061627209186554,-0.040389534085989,0.023976191878319,0.065962500870228));
res += mul(Get(s1,0,dy), float4x4(-0.034807775169611,0.139337077736855,-0.107296146452427,-0.091636292636395,0.143387392163277,-0.006372727919370,0.012986920773983,-0.075546450912952,0.098654553294182,0.201511740684509,-0.079445257782936,-0.086961053311825,-0.042311266064644,-0.073045507073402,0.049465414136648,-0.076275303959846));
res += mul(Get(s1,dx,-dy), float4x4(0.113903999328613,0.025373110547662,-0.021878372877836,0.028225928544998,-0.027307767421007,-0.017843952402472,-0.041963644325733,0.023052377626300,0.129341766238213,0.123236887156963,-0.106807433068752,-0.034555993974209,0.068125486373901,-0.081592790782452,-0.111913844943047,0.169843330979347));
res += mul(Get(s1,dx,0), float4x4(0.011000409722328,-0.041767410933971,0.058621462434530,0.015171146020293,-0.014163054525852,-0.021409809589386,0.012666224502027,-0.073498740792274,0.124758645892143,-0.013857666403055,-0.003566208994016,-0.064671687781811,-0.181451722979546,-0.141329705715179,-0.151913404464722,0.116707265377045));
res += mul(Get(s1,dx,dy), float4x4(-0.092654414474964,0.077626496553421,0.049980040639639,-0.032478205859661,0.070625603199005,-0.174578815698624,0.136678546667099,-0.089113414287567,0.184553146362305,-0.099035508930683,-0.023485135287046,-0.048773407936096,-0.040430616587400,0.022503897547722,-0.005798806436360,0.145908534526825));
res += mul(Get(s2,-dx,-dy), float4x4(-0.191615909337997,-0.153423085808754,-0.062745720148087,0.010175147093832,-0.121099211275578,-0.017899194732308,-0.094504259526730,0.053928345441818,0.036092996597290,-0.012796113267541,-0.185669720172882,-0.014726091176271,0.041816413402557,-0.000476512097521,0.054691072553396,0.064902290701866));
res += mul(Get(s2,-dx,0), float4x4(-0.077434882521629,0.037507876753807,0.084929093718529,0.048590511083603,0.006256875582039,0.260345339775085,0.122935742139816,-0.007140699774027,-0.063292525708675,-0.069479025900364,-0.114886261522770,0.081362344324589,0.003036747453734,0.138136327266693,0.153666034340858,0.087838388979435));
res += mul(Get(s2,-dx,dy), float4x4(-0.101100139319897,-0.104655399918556,-0.033660214394331,-0.081177599728107,-0.070200443267822,0.120827302336693,0.149211063981056,-0.063345946371555,0.033695567399263,-0.085862711071968,-0.049797493964434,0.161485776305199,-0.031518392264843,0.096297711133957,-0.029592901468277,0.178570315241814));
res += mul(Get(s2,0,-dy), float4x4(-0.125401705503464,-0.051231708377600,-0.169963181018829,-0.080002427101135,-0.085351735353470,-0.039812918752432,-0.113897740840912,0.031729131937027,-0.010285652242601,-0.016280448064208,0.064075589179993,-0.088661380112171,0.052933376282454,-0.009758947417140,0.188893675804138,0.070485137403011));
res += mul(Get(s2,0,0), float4x4(-0.045824714004993,0.165749609470367,0.044133190065622,-0.044777791947126,-0.040759116411209,0.058604303747416,0.005670052487403,0.034812293946743,0.126790836453438,-0.106903634965420,0.100598342716694,-0.044199410825968,0.029904615134001,0.177534148097038,0.093346312642097,-0.028561787679791));
res += mul(Get(s2,0,dy), float4x4(0.000284874055069,-0.089449353516102,0.049093481153250,-0.143750771880150,-0.124668486416340,0.012672570534050,-0.082929112017155,-0.022835703566670,0.236839383840561,-0.050470110028982,0.021824607625604,0.231945648789406,-0.124186888337135,-0.028761936351657,-0.064675360918045,0.032099816948175));
res += mul(Get(s2,dx,-dy), float4x4(-0.085591912269592,0.067901991307735,-0.040915980935097,-0.170944526791573,0.034604325890541,-0.198387488722801,-0.029352316632867,-0.119437500834465,-0.015135671943426,-0.149413004517555,0.017240304499865,0.068806961178780,0.002001283923164,-0.113405562937260,0.103401191532612,0.026794858276844));
res += mul(Get(s2,dx,0), float4x4(-0.072747655212879,0.323118567466736,0.025230431929231,-0.090270690619946,0.008847814053297,0.067985184490681,-0.014008739031851,0.020425552502275,0.073939755558968,0.010296335443854,0.043621618300676,-0.042525608092546,0.176567807793617,-0.008335092104971,-0.016873097047210,-0.050384070724249));
res += mul(Get(s2,dx,dy), float4x4(-0.119123660027981,-0.092528961598873,-0.005895171780139,-0.174177870154381,-0.086123451590538,-0.048512622714043,-0.106488190591335,-0.085417643189430,-0.012587087228894,0.083204425871372,-0.090334951877594,0.234081014990807,0.021393094211817,-0.131462380290031,-0.009100170806050,0.044865228235722));
res += mul(Get(s3,-dx,-dy), float4x4(-0.001023453194648,-0.005278367083520,-0.121829308569431,-0.008069432340562,-0.022977652028203,-0.107371941208839,0.099453240633011,-0.027442833408713,-0.100161559879780,0.071991696953773,-0.133652761578560,0.045003950595856,0.042168311774731,-0.098331473767757,0.053879383951426,0.011679904535413));
res += mul(Get(s3,-dx,0), float4x4(0.040885563939810,0.007350046653301,-0.019959932193160,-0.006122512277216,-0.004686909262091,0.093807727098465,-0.073799028992653,-0.003561805468053,-0.138845503330231,-0.037614531815052,-0.036222916096449,0.082756578922272,0.005065091885626,-0.031144009903073,0.021431762725115,0.105274856090546));
res += mul(Get(s3,-dx,dy), float4x4(0.132533743977547,0.022039484232664,-0.021011199802160,0.055166531354189,-0.088912464678288,0.019575338810682,-0.140537843108177,-0.043398313224316,-0.094362072646618,-0.005781506188214,0.029350906610489,0.062556333839893,-0.049438703805208,-0.146913379430771,0.040382683277130,-0.171110644936562));
res += mul(Get(s3,0,-dy), float4x4(0.158685833215714,0.119760438799858,0.006890346761793,0.043022643774748,0.119208827614784,-0.093965359032154,0.118318915367126,0.015342869795859,0.016711913049221,0.027601974084973,-0.034092832356691,0.006013941485435,0.028600340709090,-0.033224415034056,-0.140522405505180,0.010290986858308));
res += mul(Get(s3,0,0), float4x4(0.062184818089008,0.156281933188438,0.088256672024727,0.050070554018021,-0.024249736219645,0.053276468068361,-0.087923698127270,0.022293921560049,-0.085184343159199,-0.033773887902498,0.158130466938019,-0.060689434409142,0.091470442712307,-0.095565117895603,-0.023523382842541,-0.061132304370403));
res += mul(Get(s3,0,dy), float4x4(0.078269332647324,0.008752012625337,0.084044694900513,0.018765056505799,-0.079556435346603,0.061837248504162,0.003804954467341,-0.078235313296318,-0.077471978962421,0.036009963601828,-0.055517774075270,-0.039103887975216,-0.082324258983135,0.016637686640024,0.019550424069166,-0.024306898936629));
res += mul(Get(s3,dx,-dy), float4x4(0.043203927576542,-0.021060522645712,0.016867516562343,-0.030481852591038,0.141285315155983,-0.100578375160694,0.109069004654884,-0.052064456045628,0.001269319327548,-0.134704858064651,0.116598583757877,-0.037198740988970,-0.006679643876851,0.043569214642048,0.293875902891159,-0.042670201510191));
res += mul(Get(s3,dx,0), float4x4(0.056237779557705,-0.089547932147980,0.046231448650360,0.058163706213236,-0.055040292441845,-0.001559766009450,-0.045974809676409,-0.022146102041006,-0.015324132516980,-0.009991075843573,0.009920775890350,-0.081269040703773,0.043643295764923,0.013797040097415,0.009635823778808,-0.156444251537323));
res += mul(Get(s3,dx,dy), float4x4(0.125463232398033,-0.132195487618446,0.111566156148911,0.030491774901748,-0.084490321576595,-0.076706081628799,0.106046497821808,-0.151249647140503,-0.009839143604040,-0.009747799485922,-0.069152623414993,-0.124955676496029,-0.052609901875257,0.000453857966932,-0.013726502656937,-0.088361538946629));
return max(float4(0,0,0,0), res);
}
