sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.064085818827152,0.073136895895004,0.075270555913448,-0.009272698312998,0.021862378343940,-0.022293746471405,-0.062743306159973,-0.104040607810020,-0.065106824040413,-0.016246959567070,-0.061267159879208,-0.183959200978279,-0.066137485206127,-0.045932255685329,-0.014112866483629,-0.134940639138222));
res += mul(Get(s0,-dx,0), float4x4(-0.040853586047888,-0.013757659122348,-0.095334701240063,-0.038787528872490,0.015152252279222,-0.018555196002126,-0.051833819597960,-0.087226063013077,0.100213520228863,-0.073434725403786,-0.002153272042051,-0.056023154407740,0.026436340063810,-0.058110322803259,-0.178452163934708,-0.026944326236844));
res += mul(Get(s0,-dx,dy), float4x4(-0.197758436203003,-0.094778917729855,-0.277307510375977,-0.067613780498505,0.048221252858639,0.116566345095634,-0.049074959009886,-0.171750888228416,-0.066497147083282,-0.140506356954575,-0.035388704389334,-0.055796008557081,0.090479083359241,0.044974699616432,-0.025780469179153,0.159309551119804));
res += mul(Get(s0,0,-dy), float4x4(0.221149906516075,0.173756256699562,-0.043599165976048,-0.029045015573502,-0.090378277003765,-0.083007857203484,-0.031908340752125,0.033771406859159,0.009515400044620,-0.014881167560816,-0.071227394044399,-0.053089920431376,0.055814310908318,0.017601631581783,0.181208789348602,0.105804793536663));
res += mul(Get(s0,0,0), float4x4(0.069135501980782,-0.033869635313749,-0.026773612946272,-0.085100390017033,-0.075674451887608,-0.034422744065523,-0.066772937774658,-0.013485735282302,0.147049605846405,-0.010761994868517,-0.066490650177002,-0.088554754853249,-0.082200683653355,-0.022587303072214,0.010142187587917,-0.021467216312885));
res += mul(Get(s0,0,dy), float4x4(0.082385905086994,-0.222992867231369,-0.020424630492926,-0.069272033870220,-0.014939139597118,0.093519955873489,-0.054638523608446,-0.150659456849098,0.086078539490700,-0.087703987956047,-0.148806318640709,-0.048554621636868,0.008192322216928,-0.021142328158021,0.018228860571980,0.087482444941998));
res += mul(Get(s0,dx,-dy), float4x4(0.005462912842631,0.115765593945980,-0.103856831789017,-0.006252029910684,-0.041145272552967,0.134181141853333,0.142003074288368,0.116020716726780,-0.212978988885880,-0.219209134578705,-0.023242108523846,0.031802579760551,0.133438244462013,0.039443150162697,-0.106339506804943,0.028766874223948));
res += mul(Get(s0,dx,0), float4x4(-0.164460137486458,0.071940198540688,-0.023635083809495,-0.020447520539165,-0.065961509943008,0.122157491743565,0.084176167845726,0.111796528100967,-0.078635826706886,-0.169928967952728,-0.076272726058960,-0.172334834933281,-0.074023261666298,0.001642553950660,-0.014843159355223,-0.130804046988487));
res += mul(Get(s0,dx,dy), float4x4(0.193488970398903,-0.121561579406261,0.022022649645805,-0.094027057290077,-0.062646426260471,0.121449835598469,0.046330377459526,-0.053875513374805,-0.283389449119568,-0.197068780660629,-0.211156353354454,0.028690144419670,-0.117231205105782,0.041325002908707,0.211050152778625,-0.083291910588741));
res += mul(Get(s1,-dx,-dy), float4x4(-0.068148858845234,-0.203096255660057,-0.064678922295570,0.040171589702368,-0.035210680216551,-0.049388829618692,0.083834834396839,-0.061810411512852,-0.043885517865419,-0.112208776175976,-0.226919770240784,-0.108430325984955,-0.254193872213364,-0.027346294373274,-0.211026653647423,-0.203187540173531));
res += mul(Get(s1,-dx,0), float4x4(0.040054395794868,-0.095129266381264,-0.090636521577835,0.034131791442633,-0.076607227325439,0.055547989904881,0.136404737830162,-0.045636460185051,0.021663319319487,-0.028808003291488,-0.168079316616058,-0.033384405076504,-0.019281914457679,-0.054510645568371,-0.123539611697197,-0.193796753883362));
res += mul(Get(s1,-dx,dy), float4x4(-0.099959947168827,-0.030091749504209,0.005368861835450,-0.213407590985298,0.041281931102276,0.048707116395235,-0.080431342124939,-0.035226125270128,0.101393677294254,0.152893558144569,0.038463648408651,0.016442205756903,-0.030453301966190,-0.028772281482816,-0.043386809527874,-0.155611798167229));
res += mul(Get(s1,0,-dy), float4x4(-0.058979235589504,-0.179683715105057,-0.128560051321983,-0.033191744238138,-0.032169174402952,0.001883559627458,0.046690721064806,0.038357142359018,-0.037472631782293,-0.029811214655638,0.033352963626385,-0.037681374698877,-0.167846545577049,-0.052406784147024,-0.130649641156197,-0.061676185578108));
res += mul(Get(s1,0,0), float4x4(-0.023061539977789,-0.135160550475121,-0.129227727651596,0.038749847561121,-0.066140390932560,0.207096353173256,0.122826419770718,0.089087776839733,-0.012682227417827,0.000029386499591,-0.077740773558617,0.025796072557569,-0.026050360873342,-0.010983733460307,0.151404738426208,-0.004996032454073));
res += mul(Get(s1,0,dy), float4x4(-0.125337228178978,0.033123698085546,-0.003508040215820,-0.110741101205349,-0.122361108660698,0.028157595545053,-0.291817873716354,-0.032290995121002,0.009793869219720,0.102437198162079,0.166116356849670,0.019097741693258,-0.042724262923002,-0.055856462568045,0.113909147679806,-0.102236516773701));
res += mul(Get(s1,dx,-dy), float4x4(-0.024306286126375,0.063872650265694,-0.094594568014145,-0.041456699371338,0.121955536305904,0.086769357323647,-0.001575907226652,0.023928677663207,-0.024949152022600,0.032748863101006,0.266443043947220,0.009946977719665,-0.042032729834318,0.015214374288917,0.119807995855808,0.050289742648602));
res += mul(Get(s1,dx,0), float4x4(0.006644392386079,0.050361458212137,-0.077591933310032,0.125854298472404,0.270555943250656,0.182632178068161,0.099022790789604,0.142716541886330,0.061587024480104,-0.045556813478470,0.102372206747532,-0.032801497727633,0.008969509974122,-0.116663821041584,0.212024584412575,-0.000559883192182));
res += mul(Get(s1,dx,dy), float4x4(-0.131572678685188,0.115721777081490,0.058840040117502,0.006598008796573,-0.083196088671684,0.016844030469656,-0.179052367806435,-0.063650161027908,0.154175639152527,-0.011316725052893,0.016933942213655,0.011261239647865,-0.073866300284863,-0.136218383908272,-0.062597103416920,-0.181137651205063));
res += mul(Get(s2,-dx,-dy), float4x4(0.251996755599976,0.133158087730408,0.196195051074028,-0.062903523445129,-0.084208153188229,0.083571523427963,-0.041979372501373,-0.029731024056673,0.067705191671848,0.009637719020247,-0.090180255472660,0.020663127303123,-0.002528479089960,-0.001746222376823,0.085641413927078,-0.066365987062454));
res += mul(Get(s2,-dx,0), float4x4(-0.020150380209088,0.043480303138494,0.102005220949650,-0.173841834068298,0.169667214155197,-0.063635744154453,-0.020257577300072,-0.050771307200193,-0.117790579795837,-0.113891378045082,-0.023921228945255,0.058619696646929,0.066116079688072,0.001714791171253,0.012545846402645,-0.073332436382771));
res += mul(Get(s2,-dx,dy), float4x4(-0.202032551169395,0.016885317862034,-0.063332587480545,-0.136491537094116,0.126614302396774,-0.094731196761131,0.075457356870174,-0.031225364655256,-0.154447585344315,-0.044791121035814,-0.003243827028200,-0.119003310799599,0.055130422115326,0.048428043723106,0.068785771727562,0.175942018628120));
res += mul(Get(s2,0,-dy), float4x4(0.177253693342209,0.017045063897967,0.009277836419642,-0.003446350339800,-0.025900853797793,0.127717062830925,0.061424981802702,0.019760647788644,0.047191455960274,0.022505199536681,-0.081001192331314,0.055030334740877,0.020859863609076,0.008244775235653,0.125043407082558,0.026587482541800));
res += mul(Get(s2,0,0), float4x4(-0.111843451857567,-0.053561333566904,0.070743449032307,-0.055468253791332,-0.110705472528934,-0.122082501649857,-0.095985919237137,-0.032087095081806,-0.117153666913509,-0.045212019234896,-0.001599862123840,0.119581624865532,-0.082964845001698,-0.042140543460846,0.016625285148621,-0.015411986969411));
res += mul(Get(s2,0,dy), float4x4(-0.147197321057320,-0.040712580084801,0.040350865572691,-0.010393055155873,-0.023640500381589,-0.089529216289520,0.064778409898281,-0.052721291780472,-0.050641808658838,-0.007175651378930,0.004537402186543,0.062994301319122,-0.057564854621887,-0.025482686236501,-0.034512944519520,0.162527516484261));
res += mul(Get(s2,dx,-dy), float4x4(0.126847967505455,-0.021644601598382,0.118347339332104,-0.087654195725918,0.179588004946709,-0.000161693853443,0.094748370349407,-0.077220141887665,-0.048752479255199,0.087428547441959,-0.109006434679031,0.026157660409808,-0.000718406052329,0.017863821238279,0.036790933459997,0.163071587681770));
res += mul(Get(s2,dx,0), float4x4(-0.029505863785744,-0.045619923621416,-0.012415929697454,-0.076893225312233,-0.179342687129974,-0.099671013653278,0.089718863368034,-0.127574086189270,-0.023580906912684,0.145158931612968,0.084081903100014,-0.068389348685741,0.037934280931950,0.032301604747772,0.045740373432636,0.061776604503393));
res += mul(Get(s2,dx,dy), float4x4(-0.076048791408539,-0.017039855942130,-0.025520110502839,0.103299945592880,0.066233299672604,-0.109908632934093,0.467354327440262,-0.162065982818604,0.142386749386787,0.129197895526886,0.077743552625179,-0.191346555948257,-0.031902786344290,-0.084704115986824,0.000195236716536,0.236665710806847));
res += mul(Get(s3,-dx,-dy), float4x4(-0.077760271728039,-0.034038472920656,-0.016335293650627,0.081638015806675,-0.003457355545834,0.027816938236356,-0.008336064405739,-0.024693714454770,0.194162383675575,0.184504330158234,-0.084666535258293,0.149626284837723,0.173625841736794,0.036805335432291,0.000345396663761,0.096969008445740));
res += mul(Get(s3,-dx,0), float4x4(-0.043079301714897,-0.072661973536015,-0.138935282826424,-0.022995876148343,-0.029408162459731,-0.025570984929800,0.125325724482536,-0.102688893675804,0.094869144260883,-0.106511838734150,-0.034918829798698,-0.051770016551018,0.160533934831619,0.055331770330667,0.097576357424259,-0.141055151820183));
res += mul(Get(s3,-dx,dy), float4x4(-0.008188120089471,0.009135153144598,-0.153294801712036,-0.033053271472454,-0.103951156139374,-0.027309829369187,0.066855296492577,-0.076726071536541,-0.014726743102074,-0.114827483892441,0.094200238585472,-0.102500587701797,-0.001915026805364,-0.077595181763172,-0.041285168379545,-0.027295220643282));
res += mul(Get(s3,0,-dy), float4x4(-0.012665553949773,-0.072569712996483,-0.046974536031485,0.227910324931145,0.088710106909275,-0.098582699894905,-0.111533798277378,0.061062652617693,0.117707937955856,0.117287382483482,-0.095192089676857,-0.064483098685741,-0.166854396462440,-0.098377637565136,-0.069900102913380,-0.039849430322647));
res += mul(Get(s3,0,0), float4x4(-0.070681013166904,-0.127021655440331,-0.014033112674952,0.003618760267273,-0.013622835278511,-0.072954192757607,-0.008718515746295,-0.048752579838037,0.117598459124565,-0.137053549289703,-0.146900549530983,0.015664223581553,0.101205401122570,0.052158869802952,-0.023870462551713,0.022922536358237));
res += mul(Get(s3,0,dy), float4x4(-0.082385398447514,-0.093519039452076,-0.060925938189030,-0.045249246060848,0.047358185052872,-0.036962717771530,-0.037586852908134,-0.043977528810501,-0.017313497141004,-0.164063587784767,-0.160270243883133,0.259071946144104,0.162969365715981,0.060295905917883,0.108036540448666,0.064306810498238));
res += mul(Get(s3,dx,-dy), float4x4(0.114005178213120,0.043353073298931,-0.113829791545868,0.196053460240364,-0.009160134010017,-0.062294270843267,-0.057817686349154,0.018931152299047,0.031920872628689,0.154613181948662,-0.105041451752186,-0.082952037453651,-0.099384672939777,0.061792075634003,0.066480897367001,-0.184132471680641));
res += mul(Get(s3,dx,0), float4x4(-0.005189005751163,-0.030207999050617,-0.022944143041968,-0.040624812245369,-0.117577217519283,0.080911986529827,0.106166958808899,0.085860848426819,0.039328243583441,0.044401280581951,-0.077039934694767,-0.062565848231316,-0.115757085382938,0.073723889887333,-0.008849767968059,0.152353078126907));
res += mul(Get(s3,dx,dy), float4x4(-0.014322007074952,0.023649850860238,0.055802956223488,-0.142544746398926,-0.029499853029847,0.158753961324692,0.217256531119347,0.077743895351887,0.053514875471592,-0.060883406549692,0.067473612725735,0.227468580007553,-0.254134804010391,0.062584668397903,-0.085665643215179,0.147078633308411));
return max(float4(0,0,0,0), res);
}
