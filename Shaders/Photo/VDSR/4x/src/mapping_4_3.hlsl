sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.069680429995060,0.125688806176186,0.176626920700073,-0.308338224887848,-0.043352667242289,-0.067805491387844,0.023648403584957,0.064648464322090,-0.041109234094620,-0.084261521697044,0.135432466864586,0.000072270144301,-0.260545969009399,0.114851929247379,-0.136820644140244,-0.192908376455307));
res += mul(Get(s0,-dx,0), float4x4(0.037798985838890,-0.107080146670341,-0.050338171422482,-0.035808544605970,-0.054769258946180,-0.153715789318085,-0.066671088337898,0.155428290367126,-0.068564146757126,0.246345177292824,0.044654440134764,-0.081609129905701,-0.011508142575622,-0.063547566533089,0.002804384566844,0.055461138486862));
res += mul(Get(s0,-dx,dy), float4x4(-0.024528792127967,-0.182703480124474,0.051649164408445,-0.097076900303364,0.012993573211133,-0.026433177292347,0.028870157897472,0.062297560274601,-0.156507566571236,0.095241963863373,-0.056593801826239,0.002768439473584,-0.095631808042526,-0.077845960855484,0.253431946039200,0.249029427766800));
res += mul(Get(s0,0,-dy), float4x4(-0.039678428322077,0.179012924432755,0.122502863407135,-0.028057707473636,0.218323439359665,0.026008734479547,-0.027840040624142,-0.017900764942169,0.077576130628586,-0.178838729858398,0.115825548768044,-0.004275084473193,-0.236683443188667,0.119646318256855,0.170400708913803,-0.069934129714966));
res += mul(Get(s0,0,0), float4x4(0.113809697329998,0.054444517940283,-0.040863893926144,0.133780986070633,-0.230456545948982,-0.079718150198460,-0.089007072150707,0.188055410981178,0.005662992130965,0.129284888505936,0.070671945810318,-0.081297174096107,-0.017140857875347,-0.102923572063446,-0.222492843866348,0.019377429038286));
res += mul(Get(s0,0,dy), float4x4(-0.229514613747597,0.087028898298740,-0.150249943137169,0.187662154436111,0.020389050245285,-0.008102064020932,0.044494852423668,-0.204472601413727,-0.061910450458527,0.015248515643179,0.039253003895283,-0.023126283660531,0.064216271042824,0.048461556434631,0.059278752654791,0.008855222724378));
res += mul(Get(s0,dx,-dy), float4x4(-0.135592326521873,0.042531266808510,-0.106681510806084,-0.055946487933397,0.091214299201965,-0.139521121978760,-0.026059729978442,0.082330413162708,0.057043213397264,0.062659300863743,0.065131284296513,0.197133198380470,0.011061624623835,-0.148368954658508,-0.149662852287292,-0.260130196809769));
res += mul(Get(s0,dx,0), float4x4(-0.006248682271689,-0.039784047752619,-0.084062471985817,-0.106606960296631,-0.122152954339981,-0.306275576353073,-0.087862618267536,0.074803911149502,-0.120646923780441,0.062148734927177,0.124783530831337,0.115418002009392,0.046265993267298,-0.065239444375038,-0.162408545613289,0.008683689869940));
res += mul(Get(s0,dx,dy), float4x4(0.011045609600842,0.286859184503555,-0.114137038588524,0.131597220897675,0.009555038996041,0.035519074648619,0.062287949025631,-0.076269753277302,-0.051024820655584,0.024114241823554,-0.042507648468018,-0.126455068588257,-0.091450177133083,0.013652385212481,-0.131041407585144,0.112814858555794));
res += mul(Get(s1,-dx,-dy), float4x4(0.318690508604050,-0.114300757646561,-0.019025383517146,-0.073126956820488,0.012938279658556,-0.061390217393637,0.058350842446089,0.121229775249958,-0.016308724880219,0.041945271193981,0.147117286920547,0.090925894677639,0.049736585468054,-0.173041060566902,-0.015778345987201,-0.202983498573303));
res += mul(Get(s1,-dx,0), float4x4(-0.134927213191986,-0.056511465460062,-0.024145847186446,0.063280828297138,0.049883358180523,-0.111253246665001,0.165939867496490,0.018845004960895,-0.023771952837706,-0.024850929155946,-0.076266810297966,0.064784415066242,0.022373270243406,0.176713496446609,-0.039560027420521,-0.016362713649869));
res += mul(Get(s1,-dx,dy), float4x4(0.080796040594578,0.017044104635715,-0.137554228305817,-0.022057097405195,0.075846344232559,-0.069533206522465,0.007067823782563,0.028805220499635,-0.017979515716434,0.077263981103897,-0.208796873688698,0.111671447753906,0.012352709658444,-0.129040554165840,-0.169503435492516,-0.149534508585930));
res += mul(Get(s1,0,-dy), float4x4(0.119108870625496,0.068408280611038,-0.008232560008764,0.003820679849014,0.067391186952591,0.119090609252453,-0.064331859350204,-0.059080373495817,0.240023523569107,0.035784382373095,-0.109051123261452,0.066276088356972,0.279310375452042,0.061532232910395,-0.097527846693993,0.018094455823302));
res += mul(Get(s1,0,0), float4x4(0.128331571817398,0.016723023727536,0.087279014289379,0.143258392810822,-0.096054747700691,-0.048988323658705,-0.012068606913090,0.251727610826492,-0.137145683169365,-0.005571885500103,-0.082984417676926,-0.137197002768517,-0.234977185726166,-0.086318098008633,0.096888646483421,0.030282482504845));
res += mul(Get(s1,0,dy), float4x4(-0.026334499940276,0.011209259741008,0.095928229391575,-0.066826097667217,-0.233793705701828,-0.127460047602654,-0.033136729151011,0.043121896684170,0.163703367114067,0.202428236603737,0.092584855854511,-0.053307574242353,-0.100113376975060,0.013606636784971,0.086758479475975,0.096634551882744));
res += mul(Get(s1,dx,-dy), float4x4(0.127967908978462,-0.055563375353813,0.104770652949810,0.088100701570511,-0.011235882528126,0.181323528289795,-0.075988024473190,0.173446506261826,-0.136044308543205,-0.102882944047451,-0.055559087544680,-0.116516426205635,0.075000844895840,-0.185037687420845,0.104502148926258,-0.158108502626419));
res += mul(Get(s1,dx,0), float4x4(-0.024112179875374,-0.064145579934120,0.072441816329956,0.204077705740929,-0.069844536483288,0.172403216362000,0.134487360715866,0.145109862089157,0.010580051690340,-0.097660496830940,-0.139196246862411,-0.075791239738464,0.151253595948219,-0.187313705682755,-0.015019894577563,0.026873124763370));
res += mul(Get(s1,dx,dy), float4x4(-0.087359793484211,-0.099053382873535,-0.085828945040703,0.023092962801456,0.185204431414604,-0.015249151736498,0.008435644209385,-0.116793669760227,-0.123248495161533,-0.104932740330696,-0.093137204647064,-0.010151284746826,-0.085105471313000,0.023384125903249,-0.141997739672661,0.065624617040157));
res += mul(Get(s2,-dx,-dy), float4x4(0.071244917809963,-0.120731577277184,0.088404037058353,0.052158772945404,0.003032074309886,0.003549061482772,0.069153644144535,0.039016459137201,-0.076805986464024,-0.133795291185379,-0.221123889088631,-0.118796721100807,0.059124104678631,0.018378691747785,0.036116030067205,-0.107922852039337));
res += mul(Get(s2,-dx,0), float4x4(-0.006682659033686,0.002766792895272,-0.106709554791451,-0.247150912880898,-0.072417557239532,0.137696683406830,-0.017778920009732,0.028174621984363,-0.159566044807434,0.027513831853867,0.087051153182983,0.079403497278690,0.170989871025085,-0.057278022170067,0.046378288418055,-0.010227070190012));
res += mul(Get(s2,-dx,dy), float4x4(-0.158989921212196,0.015780925750732,-0.095168910920620,0.116284802556038,0.120809063315392,-0.022535054013133,-0.094159506261349,0.003031129948795,-0.023952823132277,-0.048058260232210,0.020726984366775,0.162520483136177,-0.058271419256926,0.201975941658020,0.070698715746403,0.162281006574631));
res += mul(Get(s2,0,-dy), float4x4(-0.136396437883377,-0.025408705696464,-0.072003848850727,-0.199796289205551,0.041246365755796,0.011596881784499,0.148430600762367,0.083916313946247,-0.081853426992893,-0.077624842524529,-0.107830889523029,0.048368118703365,0.089530371129513,-0.020172134041786,0.136373683810234,0.021688088774681));
res += mul(Get(s2,0,0), float4x4(-0.061423201113939,-0.136989116668701,0.110597379505634,-0.072689361870289,-0.061655219644308,0.172200530767441,-0.051592834293842,0.272446125745773,-0.111014507710934,0.013423994183540,-0.012672054581344,-0.082867838442326,0.290095627307892,-0.236406981945038,-0.155156314373016,-0.034381732344627));
res += mul(Get(s2,0,dy), float4x4(0.016150541603565,-0.162289023399353,-0.108908876776695,-0.082902982831001,-0.047338638454676,-0.000898368482012,-0.106325030326843,0.008403546176851,0.004432473331690,-0.042766463011503,-0.095907084643841,0.215028181672096,-0.122435756027699,0.067305669188499,-0.085986629128456,-0.088558867573738));
res += mul(Get(s2,dx,-dy), float4x4(-0.080202102661133,0.040376633405685,-0.017413184046745,0.146678194403648,-0.054581023752689,-0.177752390503883,0.121654719114304,0.139621987938881,-0.141816616058350,-0.030547402799129,-0.151512503623962,-0.112534694373608,0.023959744721651,0.124176047742367,-0.173388689756393,-0.098600834608078));
res += mul(Get(s2,dx,0), float4x4(0.175064295530319,0.024447362869978,-0.194347262382507,0.003466540714726,0.144232705235481,0.118570268154144,-0.052500739693642,0.004020775668323,0.077859774231911,-0.164905503392220,-0.055252481251955,-0.131388649344444,0.020999887958169,-0.018811443820596,0.037359017878771,-0.012786556035280));
res += mul(Get(s2,dx,dy), float4x4(0.177745133638382,0.108735300600529,0.020889861509204,-0.002321417676285,-0.089511893689632,0.123301640152931,0.189927935600281,0.079659909009933,-0.041407585144043,-0.001175842131488,0.236241668462753,-0.128207549452782,0.030018134042621,-0.128915354609489,0.102896273136139,-0.204495891928673));
res += mul(Get(s3,-dx,-dy), float4x4(-0.057016301900148,-0.182670369744301,0.047123700380325,0.183945268392563,-0.080242484807968,-0.064840450882912,-0.000959288794547,0.003609755774960,-0.047111049294472,-0.022855576127768,-0.103108122944832,-0.149248823523521,0.171031385660172,0.113210149109364,-0.161550134420395,-0.033503390848637));
res += mul(Get(s3,-dx,0), float4x4(0.223758444190025,0.215996563434601,-0.190107062458992,0.035112675279379,0.153216809034348,0.088678896427155,0.005577921867371,-0.059553999453783,-0.012311832979321,-0.125391021370888,-0.193583488464355,0.069014981389046,-0.085943937301636,0.044471815228462,0.091466732323170,0.033922631293535));
res += mul(Get(s3,-dx,dy), float4x4(-0.014361614361405,-0.018440289422870,-0.145669758319855,0.100037425756454,0.139100387692451,0.194755464792252,0.121891878545284,0.002060694154352,0.112145841121674,-0.049129515886307,-0.040456023067236,-0.098365984857082,-0.118929818272591,0.013904294930398,0.028509756550193,-0.010711591690779));
res += mul(Get(s3,0,-dy), float4x4(0.010447208769619,0.164944946765900,-0.090600579977036,0.064900211989880,0.048985116183758,0.151031538844109,-0.067255862057209,0.016836579889059,-0.059534762054682,-0.055705625563860,0.128395795822144,0.115223661065102,0.033458009362221,-0.065179370343685,0.169053032994270,0.100820057094097));
res += mul(Get(s3,0,0), float4x4(-0.057044807821512,-0.036664970219135,-0.143610507249832,0.103417538106441,-0.063990607857704,0.068181850016117,0.008148422464728,0.001097961678170,-0.166968241333961,0.038630049675703,-0.108945004642010,0.027279583737254,-0.080617651343346,-0.008327567949891,0.168489918112755,0.141241356730461));
res += mul(Get(s3,0,dy), float4x4(0.111471451818943,-0.196587532758713,-0.104272052645683,0.066112123429775,0.266963362693787,-0.103681080043316,-0.187388613820076,-0.074189379811287,0.182009160518646,-0.204632103443146,-0.092129535973072,0.111623682081699,0.039794135838747,0.122439287602901,-0.013977729715407,-0.154502466320992));
res += mul(Get(s3,dx,-dy), float4x4(-0.036145862191916,-0.096205301582813,-0.177987173199654,0.198938190937042,-0.044969938695431,0.049135457724333,-0.100149981677532,-0.044900406152010,-0.159071654081345,-0.035593051463366,-0.103477291762829,-0.219806551933289,0.086479671299458,0.176409691572189,-0.299407243728638,0.010229550302029));
res += mul(Get(s3,dx,0), float4x4(-0.122623175382614,-0.133546024560928,-0.252340376377106,-0.066615477204323,-0.120532572269440,-0.206115767359734,-0.129731282591820,0.122694194316864,-0.008677178062499,-0.036097437143326,-0.064062245190144,0.183249443769455,0.112947426736355,0.236881613731384,0.050900399684906,0.099963761866093));
res += mul(Get(s3,dx,dy), float4x4(0.218003079295158,-0.036850612610579,0.037864781916142,0.062714755535126,0.042575512081385,-0.061782971024513,0.049968216568232,-0.175413474440575,0.062254533171654,0.088485144078732,-0.218504443764687,-0.109498463571072,0.151719495654106,0.072475373744965,0.023242188617587,0.272842466831207));
return max(float4(0,0,0,0), res);
}
