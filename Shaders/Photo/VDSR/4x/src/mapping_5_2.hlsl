sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.293036550283432,-0.161002308130264,-0.016769714653492,-0.077910065650940,-0.022390319034457,0.095105051994324,-0.073402255773544,-0.158164054155350,-0.056266415864229,0.128965348005295,-0.088682755827904,-0.083510257303715,-0.053455535322428,-0.090609066188335,-0.101232290267944,-0.179465979337692));
res += mul(Get(s0,-dx,0), float4x4(0.112038068473339,-0.007329052779824,-0.276901900768280,0.109231889247894,0.042801320552826,0.039639890193939,-0.187735006213188,-0.048580143600702,-0.149608731269836,0.102205678820610,0.032680340111256,-0.006086355540901,0.024976570159197,0.050739564001560,0.203089341521263,-0.002024383749813));
res += mul(Get(s0,-dx,dy), float4x4(0.071858569979668,-0.080190777778625,-0.264768362045288,0.115344926714897,-0.278173595666885,0.020003952085972,0.016815947368741,0.157826706767082,0.069304615259171,-0.007787194568664,0.066375978291035,-0.035617202520370,0.038866922259331,-0.035086676478386,0.068598017096519,0.147582113742828));
res += mul(Get(s0,0,-dy), float4x4(0.289483368396759,0.058963362127542,0.179830580949783,-0.234739363193512,-0.038146484643221,-0.061789937317371,0.056751139461994,0.208871826529503,0.019083909690380,0.282192379236221,-0.318793475627899,0.081905387341976,0.026197673752904,0.037128351628780,0.069360502064228,0.007792447693646));
res += mul(Get(s0,0,0), float4x4(-0.008688963018358,-0.078386701643467,0.048092935234308,-0.046069983392954,-0.167602077126503,0.025783438235521,-0.036895051598549,-0.024414379149675,-0.000380748766474,0.120034538209438,0.114429272711277,0.072011433541775,-0.168135166168213,0.043910130858421,0.103539541363716,0.019598856568336));
res += mul(Get(s0,0,dy), float4x4(-0.275107681751251,0.019217351451516,-0.083343341946602,0.003149804426357,0.189811125397682,0.051461420953274,0.026169210672379,-0.071426108479500,0.339644730091095,-0.083768136799335,-0.084162361919880,0.018464233726263,0.321493804454803,0.003056916873902,0.072773426771164,-0.026060344651341));
res += mul(Get(s0,dx,-dy), float4x4(-0.111819870769978,0.005446837283671,-0.173898920416832,0.069602437317371,-0.027883321046829,-0.043267287313938,-0.091964706778526,0.017360331490636,0.037109535187483,-0.061679042875767,-0.208360955119133,0.001851520850323,-0.041147097945213,0.058424416929483,0.157023608684540,0.005277385469526));
res += mul(Get(s0,dx,0), float4x4(-0.170784220099449,-0.154064089059830,-0.069709360599518,0.074458174407482,0.188679814338684,0.135509490966797,-0.104661889374256,0.064204618334770,-0.105529211461544,-0.116611398756504,0.150238409638405,0.182669252157211,-0.035700671374798,0.019465250894427,-0.148712545633316,-0.101038530468941));
res += mul(Get(s0,dx,dy), float4x4(-0.009594292379916,-0.230657517910004,0.075096882879734,-0.057865966111422,0.073201030492783,0.088069424033165,0.081059440970421,-0.309420675039291,0.045982401818037,-0.092310853302479,0.158124789595604,0.090960137546062,0.127872228622437,0.094661876559258,-0.170576766133308,0.347361147403717));
res += mul(Get(s1,-dx,-dy), float4x4(-0.122637361288071,-0.012491407804191,-0.012861270457506,-0.051881771534681,-0.058340728282928,0.036304123699665,-0.210456356406212,0.087681069970131,-0.050953619182110,-0.112614177167416,-0.066276445984840,-0.022537976503372,-0.082590438425541,0.068221747875214,-0.023518564179540,-0.162045940756798));
res += mul(Get(s1,-dx,0), float4x4(-0.052822776138783,-0.030860083177686,-0.067086949944496,0.057379826903343,-0.153529793024063,0.103783592581749,0.127922803163528,0.043988101184368,0.077735751867294,-0.158887177705765,0.088036186993122,-0.050785157829523,0.011285017244518,-0.223741561174393,0.015083783306181,0.018581409007311));
res += mul(Get(s1,-dx,dy), float4x4(0.082054138183594,0.099738240242004,0.091239608824253,-0.121132560074329,0.012250593863428,-0.010353405959904,-0.083207987248898,-0.119803629815578,-0.091496139764786,0.134444475173950,-0.111153349280357,-0.042492177337408,0.080242179334164,0.189440235495567,0.023107601329684,0.122441142797470));
res += mul(Get(s1,0,-dy), float4x4(-0.249044373631477,0.082257620990276,0.002828336786479,-0.218718871474266,0.078019618988037,-0.159225851297379,0.128444805741310,-0.083711750805378,0.065551824867725,-0.000631761271507,-0.072625070810318,0.247844472527504,-0.188448876142502,0.167838364839554,0.024389039725065,0.112192757427692));
res += mul(Get(s1,0,0), float4x4(0.193815663456917,0.187891066074371,-0.040500298142433,0.037838190793991,0.177014485001564,0.068119376897812,-0.099697865545750,-0.024716764688492,-0.021718399599195,-0.097544677555561,-0.041913844645023,-0.142773985862732,0.079878464341164,0.086977764964104,0.090455755591393,-0.077644184231758));
res += mul(Get(s1,0,dy), float4x4(0.253870844841003,0.000381724617910,-0.004967649932951,-0.023143291473389,-0.093663312494755,-0.035266883671284,-0.080789931118488,0.027063550427556,0.100381165742874,0.044344089925289,-0.023126717656851,0.009033340960741,0.047172132879496,-0.010231125168502,0.039239123463631,0.163166806101799));
res += mul(Get(s1,dx,-dy), float4x4(0.282867997884750,-0.039943747222424,0.000987575273030,-0.156196475028992,-0.110144153237343,-0.048282150179148,0.026932921260595,-0.096344940364361,0.241996884346008,0.095791220664978,0.097048230469227,0.000293781515211,-0.052127208560705,-0.206299826502800,0.084439478814602,0.190217792987823));
res += mul(Get(s1,dx,0), float4x4(-0.001777749159373,-0.097428470849991,-0.213177725672722,0.037478361278772,0.059759341180325,0.139721453189850,-0.064713723957539,-0.085227087140083,-0.168984740972519,0.241301015019417,-0.178325861692429,-0.047478642314672,-0.006082242354751,-0.029848305508494,-0.075672551989555,0.132487416267395));
res += mul(Get(s1,dx,dy), float4x4(0.032859142869711,-0.103009209036827,0.098375409841537,0.145323872566223,-0.015282998792827,-0.076194554567337,-0.041667204350233,0.067121788859367,0.165601968765259,0.191384702920914,0.005824414547533,0.036804784089327,0.139539629220963,-0.152077525854111,0.092223569750786,0.099034510552883));
res += mul(Get(s2,-dx,-dy), float4x4(-0.004543297924101,-0.099820189177990,0.106580026447773,-0.061771910637617,-0.011707021854818,0.138589456677437,-0.016635224223137,0.134509772062302,0.112311325967312,0.148486316204071,-0.053635701537132,0.039442762732506,0.061662223190069,0.036291897296906,-0.000730198633391,-0.075826205313206));
res += mul(Get(s2,-dx,0), float4x4(-0.064329899847507,-0.072989843785763,-0.122464843094349,0.037962000817060,0.067655563354492,-0.041526354849339,-0.064066812396049,-0.151573643088341,0.025004275143147,0.023142453283072,0.144683524966240,-0.104398101568222,-0.008525737561285,0.089104525744915,0.138620108366013,-0.235621824860573));
res += mul(Get(s2,-dx,dy), float4x4(-0.022520408034325,-0.027169460430741,-0.100985728204250,-0.010135781951249,-0.135982617735863,0.021078344434500,-0.059150341898203,-0.025647951290011,-0.047631435096264,-0.228028506040573,-0.208583503961563,0.187246859073639,-0.039399996399879,0.098323881626129,-0.095634721219540,0.195756629109383));
res += mul(Get(s2,0,-dy), float4x4(0.071102589368820,-0.096688613295555,0.045524816960096,0.003458780236542,0.034456044435501,0.121372379362583,-0.008841344155371,0.058859195560217,-0.036186993122101,0.126640960574150,-0.093778215348721,-0.063283093273640,0.267152845859528,0.002042489359155,-0.289898186922073,-0.014084337279201));
res += mul(Get(s2,0,0), float4x4(-0.013747950084507,0.156851679086685,0.047637227922678,0.158374816179276,-0.106058552861214,0.059909235686064,-0.011684388853610,0.088903360068798,-0.008265988901258,0.010477438569069,0.026977984234691,-0.008483927696943,0.043648596853018,0.021640712395310,0.119450762867928,-0.062148127704859));
res += mul(Get(s2,0,dy), float4x4(-0.002112943446264,-0.114235416054726,0.059298533946276,0.155232667922974,0.033956982195377,0.109039500355721,-0.151311680674553,0.056555323302746,-0.177003085613251,-0.022990755736828,0.047162447124720,-0.057900618761778,-0.103870324790478,0.146392017602921,-0.011995850130916,0.069404564797878));
res += mul(Get(s2,dx,-dy), float4x4(0.075654514133930,-0.054368704557419,-0.057580228894949,-0.111075811088085,-0.031961314380169,-0.046405334025621,0.200836658477783,0.020577909424901,0.109374053776264,0.007786260452121,-0.019043177366257,-0.149420380592346,-0.086419843137264,0.213151246309280,-0.058802995830774,-0.142192661762238));
res += mul(Get(s2,dx,0), float4x4(-0.128281190991402,-0.102169826626778,0.040244746953249,-0.086839593946934,0.173569008708000,-0.015177791006863,-0.236783146858215,0.040845900774002,0.134403005242348,-0.057348862290382,0.010072107426822,0.146986588835716,-0.127101793885231,-0.038306079804897,-0.042323097586632,0.026199098676443));
res += mul(Get(s2,dx,dy), float4x4(-0.007408145815134,-0.089918471872807,0.076507195830345,0.173459872603416,0.019655629992485,0.090243190526962,0.114422693848610,0.105640485882759,0.160255655646324,0.002183468546718,0.095200665295124,-0.146693676710129,-0.110764861106873,-0.094419173896313,0.043599803000689,-0.095377549529076));
res += mul(Get(s3,-dx,-dy), float4x4(-0.047486830502748,-0.217765808105469,0.063352391123772,0.039611168205738,0.092308387160301,-0.085595056414604,-0.116252258419991,-0.119671620428562,-0.016435803845525,-0.131951466202736,-0.121743202209473,-0.030697364360094,0.018003297969699,-0.021420814096928,-0.185430333018303,-0.205169871449471));
res += mul(Get(s3,-dx,0), float4x4(-0.057646434754133,0.064159914851189,0.077162489295006,0.051852900534868,-0.009800813160837,-0.012647225521505,0.142271846532822,0.169555753469467,-0.100292503833771,0.003210857277736,0.032897152006626,-0.016831180080771,0.115458756685257,-0.120477311313152,0.217348739504814,-0.109563067555428));
res += mul(Get(s3,-dx,dy), float4x4(0.205838918685913,0.132663220167160,-0.094804637134075,0.093490056693554,-0.038451876491308,-0.087511979043484,0.119317464530468,0.044740434736013,0.130261361598969,0.092522323131561,0.011643291451037,0.199241504073143,-0.194676250219345,-0.116123721003532,0.046002510935068,-0.000481457245769));
res += mul(Get(s3,0,-dy), float4x4(0.128713220357895,-0.036178249865770,-0.013632768765092,0.090701371431351,0.010019239038229,-0.104972496628761,0.095987021923065,0.117611922323704,-0.023127643391490,0.003873800626025,-0.097275137901306,-0.045837447047234,-0.002540271496400,-0.044646330177784,-0.048740275204182,-0.012938919477165));
res += mul(Get(s3,0,0), float4x4(-0.183361977338791,0.043953757733107,-0.128673151135445,-0.096048690378666,0.031317442655563,-0.157633960247040,0.092185929417610,0.017453085631132,-0.036765940487385,0.027907807379961,-0.073664970695972,0.098523624241352,0.002733593340963,0.075348295271397,-0.078853234648705,-0.242456480860710));
res += mul(Get(s3,0,dy), float4x4(-0.087533339858055,0.072641000151634,-0.084612339735031,-0.079725705087185,-0.026631304994226,0.004357298370451,0.159992411732674,-0.007115932647139,0.111434750258923,-0.090207129716873,0.031814299523830,0.052963096648455,-0.147174447774887,0.137532174587250,0.051385428756475,0.089883014559746));
res += mul(Get(s3,dx,-dy), float4x4(0.189684674143791,-0.090729810297489,0.038712531328201,0.083990141749382,0.031523365527391,-0.080483026802540,-0.016970891505480,-0.111868232488632,0.017382189631462,-0.029552459716797,-0.157509133219719,-0.068517401814461,-0.072787463665009,-0.079361625015736,-0.092863731086254,-0.037135213613510));
res += mul(Get(s3,dx,0), float4x4(0.051782321184874,-0.060819704085588,0.076507061719894,-0.036464065313339,-0.077105231583118,-0.003623400116339,0.036055162549019,0.174957633018494,0.199023738503456,-0.014215142466128,-0.084501087665558,0.055345300585032,0.103650666773319,0.259790986776352,0.190955400466919,-0.134306102991104));
res += mul(Get(s3,dx,dy), float4x4(0.089902035892010,-0.277496874332428,0.112729378044605,0.047812856733799,0.065829344093800,0.230595558881760,0.118614248931408,0.077542006969452,-0.110278055071831,-0.200915753841400,0.137530460953712,0.134377881884575,0.090662464499474,0.090861044824123,-0.194359153509140,-0.001194235752337));
return max(float4(0,0,0,0), res);
}
