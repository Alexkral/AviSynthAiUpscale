sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.124292612075806,-0.014479555189610,0.211385771632195,0.021491844207048,-0.074744068086147,-0.082333222031593,0.001623003161512,0.022713864222169,0.009183202870190,0.083175800740719,0.093010440468788,-0.081826411187649,-0.041453909128904,-0.036404229700565,-0.056133087724447,-0.019098633900285));
res += mul(Get(s0,-dx,0), float4x4(0.075729563832283,0.034183587878942,-0.137228354811668,-0.108124934136868,-0.074089430272579,-0.061268128454685,0.001846020808443,-0.056843385100365,-0.015838479623199,-0.023328069597483,0.078176572918892,-0.074560180306435,-0.043873317539692,-0.069400750100613,0.027055809274316,-0.030616864562035));
res += mul(Get(s0,-dx,dy), float4x4(-0.081637814640999,-0.035672448575497,-0.163929894566536,-0.055142834782600,-0.106814607977867,-0.105157122015953,-0.102531321346760,-0.076955288648605,-0.080877445638180,-0.069345623254776,-0.074155852198601,0.113922461867332,-0.129176318645477,-0.092203319072723,-0.113179869949818,-0.057660371065140));
res += mul(Get(s0,0,-dy), float4x4(-0.002377120777965,0.016929049044847,0.134355261921883,0.071675501763821,-0.024948777630925,-0.080918475985527,-0.003761031664908,-0.023672349750996,0.041500661522150,0.038899034261703,0.123388178646564,-0.066333450376987,-0.028840526938438,-0.039892964065075,-0.048646323382854,0.111136086285114));
res += mul(Get(s0,0,0), float4x4(-0.044014554470778,0.128764778375626,-0.040729947388172,0.009149102494121,-0.004539230372757,-0.069770887494087,-0.087104514241219,-0.043777428567410,0.057195514440536,-0.014925527386367,-0.073657020926476,0.018533360213041,-0.063618555665016,0.008176001720130,-0.047500297427177,-0.040043685585260));
res += mul(Get(s0,0,dy), float4x4(-0.085390903055668,-0.016726560890675,-0.010445380583405,0.052409805357456,0.016456689685583,-0.082722723484039,-0.107313521206379,-0.063896834850311,0.000733505235985,0.002613126300275,-0.072350099682808,0.058838095515966,-0.123208150267601,-0.054755497723818,-0.120434306561947,-0.056419685482979));
res += mul(Get(s0,dx,-dy), float4x4(0.055729363113642,-0.030785815790296,-0.043601579964161,-0.000705386803020,-0.062741175293922,-0.093762926757336,0.035510569810867,-0.003425866598263,0.055698893964291,-0.074100933969021,-0.041890993714333,0.165267437696457,0.006796398200095,-0.061734687536955,-0.185098901391029,-0.037253241986036));
res += mul(Get(s0,dx,0), float4x4(-0.063299752771854,0.232388287782669,-0.020476292818785,0.075170539319515,0.007691185921431,-0.080219887197018,-0.059509299695492,-0.006471365224570,0.084870792925358,-0.081661298871040,-0.225433573126793,0.078358411788940,0.008693457581103,-0.055429924279451,-0.085757777094841,-0.101422868669033));
res += mul(Get(s0,dx,dy), float4x4(-0.109372466802597,0.074958793818951,-0.179698243737221,0.116192758083344,0.026231171563268,-0.071921862661839,-0.003016623668373,-0.056337952613831,0.076531976461411,0.006089082453400,-0.029969172552228,-0.092836886644363,-0.068482398986816,-0.048943325877190,-0.090449154376984,-0.103824265301228));
res += mul(Get(s1,-dx,-dy), float4x4(-0.082112327218056,-0.003982712980360,-0.157177254557610,0.072672881186008,-0.337624579668045,-0.094736717641354,-0.036828424781561,-0.186190575361252,-0.081456385552883,-0.016277849674225,0.013637942261994,-0.105851337313652,0.382629007101059,-0.014673093333840,-0.057553440332413,-0.041194416582584));
res += mul(Get(s1,-dx,0), float4x4(-0.013108693063259,0.093480169773102,-0.027782898396254,-0.008529841899872,-0.267532676458359,-0.175518363714218,-0.127900019288063,-0.122311785817146,-0.105705946683884,0.094471156597137,0.137969493865967,-0.120594143867493,0.040848903357983,0.064169324934483,-0.076462298631668,0.031986724585295));
res += mul(Get(s1,-dx,dy), float4x4(-0.051286716014147,0.056286647915840,0.058763686567545,-0.032250799238682,-0.099410921335220,-0.180797174572945,-0.049875769764185,-0.118153385818005,-0.057969436049461,0.142596632242203,0.142361730337143,-0.052022438496351,-0.071211047470570,0.177266478538513,0.023776682093740,-0.128885760903358));
res += mul(Get(s1,0,-dy), float4x4(0.024628743529320,-0.087952055037022,-0.090890876948833,0.064789570868015,0.089976400136948,-0.008183026686311,-0.061607725918293,-0.154275014996529,0.003408458083868,0.046241756528616,0.278274267911911,-0.068135082721710,0.186192274093628,-0.189702868461609,-0.158658817410469,0.077080518007278));
res += mul(Get(s1,0,0), float4x4(0.046785902231932,-0.016658516600728,0.077959336340427,0.021665420383215,0.063295871019363,-0.121165089309216,-0.076433949172497,-0.042678792029619,-0.059065673500299,0.027995828539133,-0.016332849860191,-0.116790764033794,0.069092340767384,0.001080439658836,-0.059060141444206,0.099817857146263));
res += mul(Get(s1,0,dy), float4x4(-0.015868937596679,-0.094104073941708,0.005272317677736,0.034670975059271,0.073954150080681,0.075366005301476,0.127084895968437,-0.160569056868553,-0.027818357571959,-0.044347446411848,0.012349854223430,-0.030531913042068,-0.048381522297859,0.127867698669434,0.007186558097601,0.019499136134982));
res += mul(Get(s1,dx,-dy), float4x4(0.037689872086048,-0.103898085653782,-0.057625774294138,0.026982206851244,0.015525406226516,-0.046664614230394,0.218225836753845,0.005132023245096,-0.077958293259144,-0.050830580294132,0.044734314084053,0.052869547158480,0.049386303871870,-0.035106576979160,-0.059511318802834,0.049662679433823));
res += mul(Get(s1,dx,0), float4x4(0.044290632009506,0.015896497294307,0.088589437305927,0.127787172794342,-0.067296542227268,0.123448058962822,0.185494929552078,-0.031074075028300,-0.026917416602373,-0.053004026412964,-0.019538167864084,-0.041087079793215,-0.007004627492279,-0.088943541049957,-0.008573403581977,-0.077102102339268));
res += mul(Get(s1,dx,dy), float4x4(0.166163831949234,0.024413522332907,-0.183815896511078,0.116851039230824,-0.246779561042786,0.170844838023186,0.026874350383878,-0.119604714214802,0.106609359383583,-0.028498223051429,0.036098282784224,0.049312278628349,0.026363307610154,0.069922491908073,0.120900437235832,-0.165690675377846));
res += mul(Get(s2,-dx,-dy), float4x4(0.201412349939346,-0.145060852169991,-0.104573018848896,0.064415641129017,0.008249331265688,-0.020947689190507,0.114520490169525,-0.060475621372461,0.034378405660391,-0.270008444786072,-0.016004396602511,-0.020372476428747,-0.099853627383709,0.125820428133011,0.154392763972282,0.063109733164310));
res += mul(Get(s2,-dx,0), float4x4(0.135023921728134,-0.184360146522522,-0.046520635485649,0.014358593150973,0.023358585312963,-0.017755087465048,0.018740858882666,-0.044035311788321,-0.030347006395459,-0.092806831002235,-0.050226185470819,-0.084423929452896,0.010885335505009,0.009471606463194,0.192101776599884,0.078775674104691));
res += mul(Get(s2,-dx,dy), float4x4(0.155168697237968,0.036012798547745,0.026597687974572,0.069578073918819,-0.034683831036091,-0.029113380238414,-0.132326066493988,0.098084904253483,-0.028525175526738,0.075464516878128,-0.130960702896118,-0.054570425301790,-0.056942265480757,0.034439302980900,-0.095800206065178,0.030222050845623));
res += mul(Get(s2,0,-dy), float4x4(0.101286962628365,0.159085825085640,0.037954062223434,-0.154129445552826,-0.024202736094594,-0.043987672775984,-0.028289813548326,0.039157863706350,0.248796328902245,0.090083517134190,-0.112605988979340,0.049538873136044,-0.120983839035034,-0.025825591757894,0.093254111707211,-0.121666751801968));
res += mul(Get(s2,0,0), float4x4(-0.037116471678019,0.068423487246037,0.054200459271669,-0.020431520417333,0.013988117687404,-0.022585347294807,-0.074907787144184,0.008760350756347,-0.012639707885683,-0.049547076225281,-0.178378432989120,-0.011974985711277,-0.028424415737391,-0.075831063091755,0.109724909067154,0.092409044504166));
res += mul(Get(s2,0,dy), float4x4(0.145556405186653,0.207006379961967,0.134991139173508,-0.044957261532545,-0.031046083196998,-0.021858906373382,-0.097387447953224,0.023887915536761,-0.152646735310555,0.083505183458328,-0.082337118685246,-0.127944454550743,0.134071022272110,0.054260943084955,-0.015595322474837,0.235852792859077));
res += mul(Get(s2,dx,-dy), float4x4(-0.096524193882942,-0.064988672733307,0.009573359042406,-0.035186845809221,-0.024409294128418,-0.068733572959900,-0.037555970251560,0.033323038369417,-0.050431948155165,-0.075936548411846,-0.104366570711136,-0.023191759362817,-0.009876533411443,-0.082883700728416,0.004780188202858,-0.072557166218758));
res += mul(Get(s2,dx,0), float4x4(-0.187923207879066,-0.090117678046227,0.054834164679050,0.053602412343025,0.002081209793687,0.001189560396597,0.119127154350281,0.199917420744896,-0.018160726875067,-0.032204635441303,-0.002488244557753,0.153000950813293,-0.090097658336163,-0.087750896811485,0.000473819469335,0.150084570050240));
res += mul(Get(s2,dx,dy), float4x4(-0.028908757492900,0.286931008100510,0.034929443150759,-0.060156121850014,-0.035051960498095,0.135535955429077,-0.004806550685316,0.049026779830456,0.079779744148254,0.154970750212669,0.079774856567383,0.011788992211223,-0.011640688404441,0.066290482878685,0.000418062438257,0.193296313285828));
res += mul(Get(s3,-dx,-dy), float4x4(-0.136026114225388,-0.020549291744828,0.355014950037003,-0.249080002307892,-0.083710022270679,-0.185738384723663,-0.023446086794138,-0.087673649191856,-0.016036335378885,-0.272655665874481,0.166712239384651,-0.110329113900661,-0.192872092127800,0.064063847064972,-0.164035931229591,-0.066037930548191));
res += mul(Get(s3,-dx,0), float4x4(-0.064216181635857,0.119559712707996,-0.020351644605398,-0.083237528800964,-0.053999818861485,-0.228976503014565,-0.020920319482684,-0.013464516028762,0.008115842007101,-0.150111690163612,0.066350758075714,-0.082044988870621,-0.021981047466397,0.106772251427174,0.033308666199446,0.135502189397812));
res += mul(Get(s3,-dx,dy), float4x4(0.046356420964003,-0.056098159402609,0.031139031052589,-0.055871564894915,0.004667523782700,-0.042917292565107,0.040618844330311,-0.066530846059322,-0.024972248822451,-0.055934421718121,-0.121879145503044,0.057247620075941,0.063065819442272,0.085656188428402,0.023997623473406,-0.085627533495426));
res += mul(Get(s3,0,-dy), float4x4(0.012740568257868,0.212321981787682,-0.063933998346329,0.061887148767710,0.059351995587349,-0.053439244627953,-0.118488445878029,-0.030948592349887,-0.016988119110465,-0.201903447508812,-0.003880840027705,-0.002545409137383,-0.156976237893105,-0.186729595065117,-0.104640997946262,-0.197153896093369));
res += mul(Get(s3,0,0), float4x4(0.031897868961096,0.073058821260929,-0.099358089268208,0.112702086567879,-0.006496949587017,0.076614134013653,-0.033887498080730,-0.051158692687750,0.032809600234032,-0.051354754716158,0.048773959279060,0.151028737425804,-0.002241323469207,-0.072940550744534,0.083289004862309,0.014601511880755));
res += mul(Get(s3,0,dy), float4x4(0.077309787273407,0.131978958845139,0.008502949960530,0.154415696859360,0.017922678962350,0.130193471908569,0.062272734940052,-0.146180838346481,-0.002971078036353,-0.041401796042919,0.027437973767519,0.342097431421280,-0.036801777780056,0.014806969091296,0.007287779822946,0.032929949462414));
res += mul(Get(s3,dx,-dy), float4x4(-0.147103145718575,0.010310600511730,-0.098050355911255,-0.106824368238449,0.131254762411118,0.058711893856525,0.041699361056089,0.227274358272552,-0.059928670525551,-0.131765052676201,0.027377445250750,-0.195382431149483,-0.128342851996422,-0.320362210273743,0.002786469878629,-0.052434854209423));
res += mul(Get(s3,dx,0), float4x4(-0.120648644864559,-0.064983777701855,-0.032997921109200,-0.124773904681206,-0.086441412568092,0.164878085255623,-0.001401647343300,-0.031780034303665,-0.039850398898125,-0.077922806143761,-0.042885899543762,0.072856463491917,0.059089049696922,-0.249582737684250,-0.019558878615499,-0.050848849117756));
res += mul(Get(s3,dx,dy), float4x4(-0.057893972843885,-0.027419690042734,-0.104113996028900,-0.185122415423393,-0.065012603998184,-0.089586943387985,0.014600356109440,-0.133037656545639,0.021793186664581,0.010966712608933,-0.097201742231846,0.105826310813427,0.053161550313234,-0.070121452212334,0.018801782280207,0.141143649816513));
return max(float4(0,0,0,0), res);
}
