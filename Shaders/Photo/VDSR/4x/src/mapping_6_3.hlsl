sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.108648769557476,0.029688121750951,0.290745466947556,0.041854150593281,-0.032380979508162,-0.086768426001072,0.168283194303513,-0.010123890824616,-0.016581818461418,-0.052918415516615,0.066219650208950,0.083543419837952,-0.106034241616726,0.367056816816330,-0.021565221250057,-0.038580480962992));
res += mul(Get(s0,-dx,0), float4x4(0.095428675413132,-0.074922285974026,0.079307831823826,-0.011575866490602,-0.006107350811362,-0.077094078063965,-0.049282111227512,-0.041858706623316,0.086572997272015,0.083413131535053,-0.124144710600376,-0.150082081556320,-0.098463818430901,-0.000177159730811,-0.108201295137405,-0.152113348245621));
res += mul(Get(s0,-dx,dy), float4x4(-0.054108552634716,-0.110985621809959,0.122070759534836,0.064491897821426,-0.063245318830013,-0.093834228813648,0.241823449730873,0.219376340508461,-0.146272867918015,0.044413328170776,0.007830237969756,0.150994807481766,0.011029694229364,0.019430352374911,0.029827874153852,-0.090375766158104));
res += mul(Get(s0,0,-dy), float4x4(0.047791242599487,-0.035945530980825,0.053178172558546,-0.099947154521942,-0.047873724251986,-0.082234919071198,-0.011353321373463,0.112531363964081,-0.103255391120911,0.026787335053086,-0.050750263035297,-0.162656068801880,0.146117925643921,0.037500381469727,-0.082578316330910,-0.124152503907681));
res += mul(Get(s0,0,0), float4x4(0.080446943640709,0.174965590238571,-0.063629172742367,-0.048293676227331,-0.056359302252531,-0.022317232564092,-0.033773720264435,-0.059876974672079,0.101100049912930,0.044458091259003,-0.159783080220222,-0.051745541393757,-0.393482983112335,-0.169184610247612,-0.052497487515211,-0.162466943264008));
res += mul(Get(s0,0,dy), float4x4(0.088292695581913,-0.035988703370094,0.157546535134315,0.056207727640867,-0.086422808468342,-0.042924862354994,-0.066054053604603,0.167713612318039,0.118003800511360,-0.019565353170037,0.027875469997525,0.045301962643862,-0.046554874628782,-0.174976840615273,-0.037474960088730,-0.011336804367602));
res += mul(Get(s0,dx,-dy), float4x4(-0.065245822072029,-0.026495449244976,0.020238963887095,-0.241588041186333,-0.113669365644455,-0.017877958714962,-0.008316339924932,0.377649933099747,0.001546958577819,-0.056837864220142,0.015377829782665,-0.183151900768280,0.321575075387955,0.006957587786019,0.009958311915398,-0.162884578108788));
res += mul(Get(s0,dx,0), float4x4(-0.010782443918288,0.288539946079254,-0.080060206353664,-0.170572191476822,-0.166304916143417,-0.001992872683331,-0.044086191803217,-0.049745306372643,0.057956829667091,0.099080301821232,-0.093701086938381,-0.006576000247151,0.095815129578114,-0.086113587021828,0.057475831359625,-0.132770597934723));
res += mul(Get(s0,dx,dy), float4x4(-0.100778847932816,0.007428998127580,0.061440683901310,-0.091477416455746,-0.152907207608223,-0.084833137691021,-0.033840071409941,0.108397297561169,0.072852328419685,0.056215684860945,0.084621913731098,0.045462615787983,0.400691926479340,-0.207114532589912,0.030169857665896,0.196436628699303));
res += mul(Get(s1,-dx,-dy), float4x4(-0.182303443551064,-0.158499225974083,-0.035924054682255,0.039941947907209,0.018266703933477,-0.166422337293625,-0.061367757618427,0.102446548640728,-0.122952610254288,0.028151156380773,-0.021802727133036,0.257731586694717,-0.091758742928505,-0.057357661426067,-0.113097935914993,-0.022023715078831));
res += mul(Get(s1,-dx,0), float4x4(-0.047591220587492,0.012497815303504,-0.020009214058518,0.005957878660411,-0.046275846660137,-0.190314427018166,0.196220144629478,0.102412432432175,0.099871173501015,-0.056125495582819,-0.083825133740902,-0.209987148642540,-0.146971508860588,0.150186985731125,0.077160567045212,0.059876281768084));
res += mul(Get(s1,-dx,dy), float4x4(0.004625034052879,-0.003965660464019,0.183021441102028,-0.110716633498669,0.119759783148766,0.023380357772112,0.061550632119179,0.137881621718407,0.111320666968822,-0.030051801353693,-0.077836349606514,0.076032049953938,-0.151622995734215,-0.087022133171558,0.031751569360495,-0.005746020004153));
res += mul(Get(s1,0,-dy), float4x4(-0.141489133238792,-0.018111603334546,-0.033846117556095,0.269006103277206,-0.022359242662787,-0.088114991784096,-0.154408484697342,0.102783940732479,-0.092509478330612,-0.087773293256760,-0.033621415495872,-0.040600460022688,-0.117292694747448,-0.075113490223885,-0.056268282234669,-0.056523017585278));
res += mul(Get(s1,0,0), float4x4(-0.009649681858718,-0.019021699205041,-0.055373694747686,0.111296348273754,-0.097260355949402,-0.145045906305313,0.002286460017785,0.012495366856456,0.061015632003546,0.000905847584363,-0.131024166941643,-0.014735163189471,0.075125396251678,0.031764436513186,0.030736535787582,0.001247085514478));
res += mul(Get(s1,0,dy), float4x4(0.182435661554337,-0.044101770967245,0.131308108568192,0.012772052548826,-0.012923390604556,0.042550828307867,0.026957839727402,0.012866117060184,-0.021529057994485,0.038410402834415,0.128442317247391,0.285829395055771,-0.002353898715228,-0.076428987085819,0.112722195684910,-0.118015699088573));
res += mul(Get(s1,dx,-dy), float4x4(-0.066987439990044,0.068769484758377,-0.099295750260353,-0.100850097835064,-0.168757423758507,0.133891925215721,-0.136663153767586,0.136045277118683,-0.029547752812505,-0.118675857782364,-0.145584732294083,-0.041534487158060,-0.135772287845612,-0.082281097769737,-0.045851852744818,-0.028036441653967));
res += mul(Get(s1,dx,0), float4x4(-0.070515386760235,0.047091465443373,-0.051483508199453,-0.118270874023438,-0.185292407870293,-0.085491657257080,-0.093503408133984,0.066280677914619,-0.054860897362232,-0.019919592887163,-0.102851606905460,-0.157830923795700,0.072458975017071,0.085786059498787,-0.023972650989890,-0.055442720651627));
res += mul(Get(s1,dx,dy), float4x4(0.050746329128742,0.101070217788219,0.021472787484527,-0.083321370184422,-0.116653449833393,-0.063433997333050,-0.059889234602451,0.024487858638167,-0.092153340578079,-0.022941777482629,-0.009781995788217,-0.093978114426136,0.110130481421947,0.141074508428574,0.012180171906948,-0.067220859229565));
res += mul(Get(s2,-dx,-dy), float4x4(0.160464346408844,0.060119759291410,-0.074070416390896,-0.041929304599762,0.011430465616286,-0.084066063165665,0.067294649779797,0.036896672099829,-0.127205938100815,-0.064613543450832,-0.138432726264000,-0.182358667254448,-0.047489751130342,-0.087056025862694,-0.038023564964533,0.008365538902581));
res += mul(Get(s2,-dx,0), float4x4(0.161791712045670,-0.151800379157066,0.049174964427948,-0.007985359057784,-0.009532183408737,0.070266202092171,0.138088971376419,-0.019264213740826,-0.026468323543668,0.070234708487988,0.096489384770393,0.184545964002609,-0.134263083338737,-0.132874473929405,0.032190822064877,0.018443752080202));
res += mul(Get(s2,-dx,dy), float4x4(0.076290659606457,-0.054012022912502,-0.123822249472141,0.018028376623988,-0.124946944415569,0.087709739804268,0.057781767100096,-0.100571572780609,-0.042540948837996,-0.116178929805756,0.069284781813622,-0.010093507356942,-0.100874386727810,-0.203858315944672,0.069831378757954,0.078970566391945));
res += mul(Get(s2,0,-dy), float4x4(-0.082035116851330,-0.009006791748106,-0.115812622010708,-0.037559840828180,0.012911908328533,-0.020316604524851,-0.011648545041680,-0.050476953387260,0.001791573595256,-0.116304501891136,-0.016404516994953,-0.136569708585739,-0.046845894306898,-0.115366466343403,-0.102158494293690,-0.185317516326904));
res += mul(Get(s2,0,0), float4x4(0.131808578968048,-0.031851381063461,0.030870523303747,-0.017256598919630,-0.071107625961304,0.084584929049015,0.053032603114843,0.011518027633429,-0.101006865501404,-0.005014342721552,0.174271389842033,0.177902683615685,0.056853376328945,-0.058058377355337,0.064988762140274,0.071235746145248));
res += mul(Get(s2,0,dy), float4x4(0.036343183368444,0.158719569444656,-0.066016897559166,0.078478604555130,-0.075039446353912,0.152533739805222,0.020181788131595,-0.068612262606621,-0.057481560856104,0.015998087823391,0.108044221997261,-0.010650640353560,0.096586726605892,-0.060069859027863,0.231883078813553,0.021728791296482));
res += mul(Get(s2,dx,-dy), float4x4(-0.069566927850246,-0.018973652273417,-0.111702114343643,-0.080130629241467,0.035026635974646,-0.058891966938972,-0.044318091124296,-0.138860285282135,0.006689640693367,-0.172357812523842,-0.076375328004360,-0.331759393215179,-0.084055587649345,0.018977740779519,-0.257024317979813,-0.263918876647949));
res += mul(Get(s2,dx,0), float4x4(0.033874761313200,0.021579496562481,0.051640532910824,-0.064294926822186,-0.065629646182060,0.027496606111526,0.001652456121519,0.068476907908916,-0.097394645214081,-0.065187543630600,-0.016514981165528,-0.111110441386700,-0.117512695491314,-0.071715757250786,-0.176029413938522,0.044878132641315));
res += mul(Get(s2,dx,dy), float4x4(0.148986846208572,0.152078106999397,0.034164693206549,-0.090432263910770,0.094022549688816,-0.050632674247026,-0.062504671514034,0.044475417584181,-0.078064844012260,-0.016014557331800,0.007811216171831,-0.083397716283798,-0.034366123378277,0.189423099160194,-0.064413025975227,-0.161810666322708));
res += mul(Get(s3,-dx,-dy), float4x4(0.052755478769541,0.068489842116833,-0.074765853583813,-0.026073774322867,-0.074798896908760,-0.147145122289658,0.176031857728958,-0.059341788291931,-0.061576083302498,0.117756992578506,0.005381848197430,-0.026829680427909,0.078386373817921,0.043103355914354,0.110188506543636,-0.193695887923241));
res += mul(Get(s3,-dx,0), float4x4(0.175893157720566,-0.032136697322130,-0.001944627496414,-0.061331454664469,-0.006011122372001,-0.093661710619926,0.116901412606239,0.037730265408754,-0.076882921159267,0.038497250527143,-0.000303845765302,0.068126454949379,0.112816698849201,0.094273366034031,-0.063214942812920,-0.105892620980740));
res += mul(Get(s3,-dx,dy), float4x4(0.100936494767666,-0.124588318169117,-0.152008429169655,-0.045713007450104,0.092036731541157,0.012801970355213,-0.042901050299406,0.060346003621817,-0.020996173843741,-0.032132547348738,0.094516530632973,0.169985771179199,0.002055581659079,0.219778910279274,0.096512980759144,-0.069760076701641));
res += mul(Get(s3,0,-dy), float4x4(-0.072137556970119,-0.013468275777996,0.018971063196659,0.001953154569492,-0.066764511168003,-0.060980875045061,-0.039745476096869,0.031562995165586,-0.266083508729935,-0.053377892822027,-0.010614030063152,-0.091729104518890,-0.134565383195877,0.028321580961347,0.016624534502625,-0.004014025907964));
res += mul(Get(s3,0,0), float4x4(-0.027561431750655,0.022229555994272,0.150971099734306,-0.046601772308350,-0.047742895781994,0.077460937201977,0.019751744344831,0.121218554675579,-0.144094124436378,-0.020563710480928,0.127434104681015,0.017902163788676,0.056469429284334,0.023324469104409,-0.022560024634004,-0.052392933517694));
res += mul(Get(s3,0,dy), float4x4(0.011283381842077,-0.028051080182195,0.089221544563770,-0.024322699755430,0.018237056210637,0.135184645652771,-0.054472070187330,0.047516200691462,0.037847768515348,-0.019612288102508,0.108508735895157,0.235535889863968,0.002898849314079,-0.037970744073391,0.225338980555534,-0.009975927881896));
res += mul(Get(s3,dx,-dy), float4x4(-0.092553786933422,-0.053901504725218,-0.165700703859329,0.082267768681049,-0.053133159875870,-0.043692838400602,-0.031452272087336,-0.124977804720402,-0.077474936842918,-0.049071047455072,-0.015569311566651,-0.049048349261284,-0.007196696940809,-0.085968442261219,-0.012326052412391,-0.002917218953371));
res += mul(Get(s3,dx,0), float4x4(-0.124084129929543,-0.038375191390514,-0.070675760507584,-0.035870712250471,-0.067095629870892,-0.012340771965683,0.055786117911339,0.092115700244904,-0.033316712826490,-0.037367854267359,-0.042846206575632,-0.098352253437042,0.065429814159870,-0.032242290675640,0.018274523317814,-0.071465454995632));
res += mul(Get(s3,dx,dy), float4x4(0.005081363022327,-0.028005959466100,-0.089137747883797,0.044708237051964,-0.035875089466572,0.085296161472797,-0.036462370306253,0.034343026578426,0.017283372581005,-0.135104134678841,-0.166323125362396,0.213893219828606,-0.025939473882318,-0.028762558475137,-0.023083427920938,0.001204710337333));
return max(float4(0,0,0,0), res);
}
