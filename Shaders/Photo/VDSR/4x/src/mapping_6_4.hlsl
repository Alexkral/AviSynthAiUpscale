sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.006570696365088,0.080014243721962,-0.090932190418243,-0.003839213866740,-0.053539823740721,-0.074479296803474,0.022067543119192,0.176168888807297,0.013274934142828,0.088026948273182,0.150750204920769,-0.068711608648300,-0.058088295161724,0.170891821384430,-0.099446035921574,0.039382986724377));
res += mul(Get(s0,-dx,0), float4x4(-0.011668408289552,0.045438006520271,-0.107793070375919,-0.088659048080444,-0.030258255079389,0.032397061586380,0.081542685627937,-0.245884329080582,-0.058462798595428,-0.013700813986361,0.085577748715878,0.311377644538879,-0.033009435981512,-0.093805566430092,0.109615042805672,-0.136179745197296));
res += mul(Get(s0,-dx,dy), float4x4(0.162028566002846,0.234798163175583,0.075615718960762,-0.061535146087408,-0.001839998411015,-0.054071217775345,0.001943956594914,-0.192179203033447,0.037434380501509,0.159261450171471,0.179954081773758,0.317443281412125,0.090861149132252,0.055814832448959,-0.144518420100212,-0.046710636466742));
res += mul(Get(s0,0,-dy), float4x4(0.063404381275177,0.095593303442001,0.000434677465819,-0.083831332623959,-0.216832011938095,0.009830122813582,-0.150558277964592,-0.041900053620338,-0.398478120565414,-0.072475366294384,-0.212459400296211,-0.051874119788408,0.074115894734859,-0.006045721936971,-0.010703302919865,-0.111844509840012));
res += mul(Get(s0,0,0), float4x4(-0.038555640727282,-0.039766237139702,-0.179084166884422,-0.001120085944422,0.046365685760975,-0.096126534044743,-0.169392809271812,0.049476403743029,-0.055698346346617,-0.176057159900665,0.071340501308441,-0.089927420020103,-0.055408451706171,-0.019508022814989,0.015713188797235,-0.050711166113615));
res += mul(Get(s0,0,dy), float4x4(0.045753385871649,-0.191247150301933,0.126124024391174,0.165580779314041,0.081056706607342,-0.023899907246232,0.009948113933206,0.149626508355141,-0.063045658171177,0.068040244281292,-0.153814911842346,0.015006074681878,0.290730804204941,-0.191835537552834,-0.065338023006916,0.056788839399815));
res += mul(Get(s0,dx,-dy), float4x4(0.176579102873802,0.023428376764059,0.182942137122154,0.175008639693260,-0.230637535452843,0.040630940347910,0.011833944357932,0.095644973218441,0.033863581717014,-0.000849811767694,-0.178016185760498,0.005187823437154,-0.101533301174641,-0.044845845550299,0.045704811811447,0.065154671669006));
res += mul(Get(s0,dx,0), float4x4(0.135859265923500,0.006824185140431,0.044852465391159,0.038189738988876,0.261218994855881,-0.009186985902488,0.103230804204941,-0.096642144024372,0.030453348532319,0.121762298047543,-0.229014188051224,-0.102868288755417,-0.180143341422081,-0.170729875564575,0.160865053534508,-0.019089875742793));
res += mul(Get(s0,dx,dy), float4x4(-0.018391598016024,0.079009905457497,0.198574706912041,0.015798835083842,-0.076028920710087,0.035886112600565,0.021001510322094,-0.097095787525177,-0.081751547753811,0.075266733765602,-0.233990535140038,-0.146832928061485,0.308856397867203,-0.047256223857403,0.133752703666687,-0.128535553812981));
res += mul(Get(s1,-dx,-dy), float4x4(0.049584865570068,-0.158724933862686,-0.043944824486971,-0.105252496898174,0.102942571043968,-0.057608608156443,-0.074845358729362,-0.063518702983856,0.145446524024010,0.049959447234869,-0.192287042737007,0.067271046340466,-0.170223951339722,0.100241295993328,-0.005479467567056,-0.125321343541145));
res += mul(Get(s1,-dx,0), float4x4(-0.002878780476749,0.012837299145758,0.155120044946671,0.112057536840439,0.067146055400372,0.015960304066539,0.056886538863182,-0.210722714662552,-0.063637800514698,0.035852324217558,0.012753451243043,0.119511760771275,0.154745787382126,0.043788503855467,-0.026760447770357,0.117080174386501));
res += mul(Get(s1,-dx,dy), float4x4(-0.016846083104610,0.099591083824635,0.129262357950211,0.168908655643463,0.084631040692329,0.133971527218819,0.079883143305779,-0.162357971072197,0.077822841703892,0.004235234111547,0.126916706562042,0.041984818875790,0.179699093103409,0.127712920308113,-0.030878027901053,0.218961849808693));
res += mul(Get(s1,0,-dy), float4x4(0.207600563764572,0.022982582449913,-0.102557092905045,-0.148576378822327,0.109239533543587,-0.015015756711364,-0.097441740334034,0.013994836248457,0.052176997065544,-0.027920160442591,-0.042059790343046,0.272481381893158,-0.060020692646503,-0.138688847422600,0.197606399655342,0.128723651170731));
res += mul(Get(s1,0,0), float4x4(-0.008179575204849,0.165371134877205,0.047980260103941,-0.336186468601227,-0.174150198698044,-0.032931983470917,-0.102944932878017,0.222157210111618,-0.199115991592407,-0.258677899837494,0.135303840041161,0.164784699678421,0.081973247230053,-0.053244169801474,-0.122120365500450,-0.203533262014389));
res += mul(Get(s1,0,dy), float4x4(-0.192401632666588,0.002769336337224,0.133209452033043,0.069755151867867,0.017788540571928,0.110934257507324,0.030882870778441,0.056011427193880,-0.004726769402623,-0.014209111221135,0.298167824745178,0.147703632712364,-0.015369847416878,0.135556533932686,-0.097500704228878,0.008899456821382));
res += mul(Get(s1,dx,-dy), float4x4(-0.010865953750908,-0.089904829859734,0.283732086420059,-0.168369889259338,0.007667372468859,0.047251645475626,-0.125664904713631,-0.080458015203476,0.016784204170108,-0.031734060496092,0.048151973634958,0.248105600476265,0.156504139304161,-0.028052773326635,0.088385716080666,-0.026135085150599));
res += mul(Get(s1,dx,0), float4x4(-0.168503135442734,-0.045394293963909,0.177832692861557,-0.034854538738728,-0.035345420241356,0.043800167739391,-0.172980681061745,0.196147367358208,-0.249723181128502,-0.077073983848095,-0.058302085846663,0.119723118841648,-0.150146707892418,0.127724573016167,-0.197120621800423,-0.044905964285135));
res += mul(Get(s1,dx,dy), float4x4(-0.035155672580004,0.166338846087456,-0.041248820722103,0.095919832587242,0.082875162363052,-0.026573432609439,0.039678595960140,0.011920595541596,-0.013325110077858,0.006000749301165,0.068461500108242,-0.340618729591370,0.067462436854839,0.002831175923347,0.194825798273087,-0.172827512025833));
res += mul(Get(s2,-dx,-dy), float4x4(0.045237675309181,0.092439472675323,0.137755766510963,0.053650509566069,-0.005464802961797,0.173635095357895,-0.005168863572180,0.009172316640615,0.008737616240978,-0.191861540079117,-0.033321961760521,0.065151624381542,-0.019627872854471,0.001216688309796,-0.257452368736267,0.172651201486588));
res += mul(Get(s2,-dx,0), float4x4(-0.074117772281170,-0.018296480178833,0.045196838676929,0.036542437970638,0.008925396017730,0.136219963431358,0.138493493199348,-0.067639768123627,0.072751916944981,-0.276924997568130,-0.093869671225548,-0.062975533306599,0.037476148456335,0.027835581451654,-0.043410383164883,-0.027570690959692));
res += mul(Get(s2,-dx,dy), float4x4(-0.140934914350510,0.085149101912975,-0.015275878831744,0.017786724492908,-0.010736096650362,-0.020583702251315,0.130780279636383,0.046902529895306,-0.030844070017338,0.028288682922721,-0.068037211894989,-0.063647270202637,-0.045354682952166,0.166488856077194,0.193990543484688,0.159628927707672));
res += mul(Get(s2,0,-dy), float4x4(-0.216331526637077,0.124336972832680,-0.073494359850883,0.103442452847958,0.072389118373394,-0.045635771006346,-0.001666043419391,-0.139898300170898,-0.167135313153267,0.066136531531811,0.058808997273445,-0.012207698076963,-0.132848247885704,0.041711449623108,-0.031165994703770,0.062436915934086));
res += mul(Get(s2,0,0), float4x4(-0.024653898552060,0.022467212751508,0.114791765809059,0.030240269377828,-0.081926099956036,-0.199224770069122,0.089309960603714,0.122186154127121,0.055375806987286,0.147228166460991,0.149460375308990,0.007066471967846,-0.164875626564026,-0.060816835612059,-0.025771195068955,0.105645865201950));
res += mul(Get(s2,0,dy), float4x4(0.063449807465076,0.078269146382809,0.076324276626110,0.170608505606651,0.045969597995281,-0.022327654063702,0.003341173287481,-0.012834611348808,-0.135053113102913,-0.070614814758301,-0.038546849042177,-0.105318062007427,-0.042199280112982,0.182006984949112,-0.150170460343361,-0.004452622495592));
res += mul(Get(s2,dx,-dy), float4x4(-0.010411568917334,-0.159874677658081,-0.140115350484848,0.076901838183403,0.230842843651772,-0.129892587661743,0.086265817284584,-0.152551844716072,0.070662446320057,0.227360203862190,0.033591773360968,0.133722364902496,-0.088074646890163,0.029259584844112,0.066003352403641,-0.120100565254688));
res += mul(Get(s2,dx,0), float4x4(0.137304291129112,-0.031667038798332,-0.006127176340669,0.115883469581604,-0.022055223584175,0.077565684914589,-0.145992487668991,-0.047892626374960,0.080957949161530,-0.002971875946969,0.090902566909790,-0.009971044957638,-0.069268539547920,-0.171966344118118,-0.041496846824884,-0.023766351863742));
res += mul(Get(s2,dx,dy), float4x4(0.124383710324764,-0.031171608716249,0.067264944314957,-0.068533353507519,-0.080732680857182,0.019701816141605,0.098140314221382,0.152373358607292,-0.132641047239304,0.085165672004223,0.020108690485358,0.011392519809306,0.079609945416451,-0.052645571529865,-0.100979521870613,0.075276553630829));
res += mul(Get(s3,-dx,-dy), float4x4(0.067809864878654,0.021773343905807,-0.201958864927292,-0.074010513722897,0.091668106615543,-0.129173785448074,0.092193417251110,0.054815948009491,-0.057454369962215,0.147495850920677,-0.016550946980715,-0.213897809386253,-0.186216428875923,-0.004124078433961,0.133192777633667,-0.000848115945701));
res += mul(Get(s3,-dx,0), float4x4(0.218152090907097,-0.061265140771866,0.061992254108191,0.001300747506320,0.046317823231220,-0.089208871126175,-0.075988329946995,-0.064596816897392,-0.036656010895967,-0.119845837354660,-0.046252187341452,-0.048385087400675,0.072196282446384,-0.076192513108253,0.030121373012662,-0.205674931406975));
res += mul(Get(s3,-dx,dy), float4x4(-0.050458524376154,-0.116426378488541,-0.105099849402905,-0.017323594540358,0.104546085000038,0.001577464630827,0.062299586832523,0.127595782279968,0.138676807284355,-0.100372165441513,0.151536718010902,-0.198819100856781,-0.015319941565394,-0.109966933727264,-0.164438545703888,-0.045128077268600));
res += mul(Get(s3,0,-dy), float4x4(-0.029024502262473,-0.121746174991131,-0.231900885701180,0.279171049594879,0.002954301657155,-0.211544543504715,0.072755418717861,-0.022927019745111,0.058254089206457,-0.145216867327690,0.096154086291790,0.035311460494995,0.052262254059315,-0.030434414744377,-0.208938434720039,0.002044688677415));
res += mul(Get(s3,0,0), float4x4(-0.017033688724041,-0.049473971128464,-0.081833429634571,-0.033547252416611,-0.014378221705556,-0.094669960439205,0.086177982389927,-0.030483398586512,-0.220678016543388,0.000130213506054,-0.143295064568520,-0.008058745414019,-0.123215995728970,0.103572942316532,-0.139513179659843,0.048934936523438));
res += mul(Get(s3,0,dy), float4x4(-0.026268590241671,0.054352290928364,0.110296301543713,-0.000622539373580,0.086763560771942,-0.113478451967239,-0.098884038627148,0.095394864678383,-0.027428127825260,0.026067273691297,-0.128759175539017,-0.031356886029243,0.055320315063000,-0.193699553608894,0.103047505021095,-0.190842106938362));
res += mul(Get(s3,dx,-dy), float4x4(0.028185967355967,-0.109321363270283,-0.125326231122017,0.026133326813579,0.039020188152790,0.116347603499889,0.094172604382038,-0.216633185744286,0.056561086326838,-0.023338411003351,-0.015140818431973,0.240215718746185,0.047230143100023,-0.011988943442702,0.150863468647003,0.130717813968658));
res += mul(Get(s3,dx,0), float4x4(0.065391123294830,0.057332910597324,0.045803714543581,0.023501349613070,-0.106701895594597,0.297610074281693,-0.170803606510162,0.140730738639832,-0.016989020630717,0.032319702208042,-0.145570218563080,0.165271818637848,0.248764932155609,0.024025982245803,0.137043207883835,0.116365283727646));
res += mul(Get(s3,dx,dy), float4x4(-0.074259594082832,-0.016068346798420,-0.068678624927998,0.058546401560307,0.260089665651321,-0.123055793344975,-0.050005577504635,0.014298085123301,0.136923879384995,0.090478412806988,-0.103434666991234,-0.095608010888100,0.071815147995949,-0.163708209991455,-0.065026007592678,0.072883777320385));
return max(float4(0,0,0,0), res);
}
