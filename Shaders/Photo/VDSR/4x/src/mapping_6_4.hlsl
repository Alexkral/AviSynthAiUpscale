sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.019396744668484,-0.016695648431778,-0.020708765834570,0.071308746933937,0.032029822468758,-0.263315677642822,0.063227333128452,0.041534312069416,-0.052260786294937,-0.198527276515961,-0.082703322172165,-0.010804228484631,-0.157735407352448,-0.063443295657635,-0.151637166738510,-0.025379788130522));
res += mul(Get(s0,-dx,0), float4x4(0.073610760271549,-0.009567690081894,-0.078989036381245,-0.148213565349579,-0.022739989683032,0.058089099824429,0.108197212219238,-0.032827794551849,0.014845196157694,-0.026664776727557,-0.141885653138161,0.023111462593079,0.079920373857021,-0.172844439744949,-0.172215908765793,-0.053881831467152));
res += mul(Get(s0,-dx,dy), float4x4(-0.056430961936712,-0.146406561136246,-0.123123809695244,-0.110609635710716,0.092656038701534,0.015606237575412,0.063708387315273,0.161912217736244,-0.038825333118439,-0.036113206297159,-0.106456018984318,-0.032145805656910,0.075196452438831,0.060498502105474,-0.219482913613319,-0.153204202651978));
res += mul(Get(s0,0,-dy), float4x4(-0.057841245085001,0.050988048315048,0.089640811085701,-0.020743882283568,0.062015011906624,-0.275207638740540,-0.021866457536817,-0.020892817527056,-0.042745459824800,-0.043673757463694,0.140041157603264,-0.117254652082920,0.015128508210182,0.071951419115067,0.051703784614801,-0.107673019170761));
res += mul(Get(s0,0,0), float4x4(0.063584893941879,0.192158743739128,-0.015976013615727,-0.033821206539869,-0.031405121088028,0.072990559041500,0.035895209759474,-0.112289309501648,0.096689634025097,-0.090269550681114,-0.205388009548187,-0.060035102069378,-0.012820410542190,0.045984331518412,0.045221615582705,-0.042943447828293));
res += mul(Get(s0,0,dy), float4x4(-0.018214048817754,-0.021960651502013,0.014979116618633,-0.050374049693346,0.072507239878178,-0.030026720836759,-0.051081541925669,-0.055448852479458,-0.007941666990519,-0.123414300382137,-0.061862144619226,-0.041418630629778,-0.189910948276520,0.011969494633377,0.183238983154297,-0.006173723377287));
res += mul(Get(s0,dx,-dy), float4x4(-0.023728555068374,0.053728736937046,-0.014352138154209,0.094406701624393,-0.176729395985603,-0.293176591396332,0.040838681161404,-0.028462912887335,-0.042407933622599,0.049097418785095,0.162179008126259,-0.043321408331394,0.195105746388435,0.037106551229954,0.010994409210980,-0.088499166071415));
res += mul(Get(s0,dx,0), float4x4(0.232081785798073,0.155734300613403,-0.046100676059723,-0.018498701974750,-0.172406211495399,-0.046248372644186,-0.094825878739357,-0.014615138992667,-0.067792341113091,-0.141660884022713,-0.154174715280533,-0.053859423846006,-0.022821636870503,-0.030140345916152,0.118805900216103,0.011350745335221));
res += mul(Get(s0,dx,dy), float4x4(0.207394078373909,0.081073760986328,-0.005260567180812,-0.060067519545555,0.074053920805454,-0.125544026494026,-0.195093348622322,0.106904372572899,-0.049806624650955,-0.113516375422478,-0.011396220885217,-0.057901401072741,-0.076447993516922,-0.132192537188530,0.258919328451157,-0.108306430280209));
res += mul(Get(s1,-dx,-dy), float4x4(-0.023412132635713,-0.105986729264259,-0.017121151089668,0.140611261129379,-0.142565831542015,-0.041687957942486,0.051969945430756,0.136374205350876,-0.062940485775471,-0.116590447723866,0.247399687767029,-0.084590084850788,-0.103807747364044,-0.074526421725750,-0.039872102439404,-0.043009713292122));
res += mul(Get(s1,-dx,0), float4x4(-0.010802913457155,-0.022573212161660,0.049339789897203,0.059808213263750,-0.133327558636665,0.074455827474594,0.062248669564724,-0.140429943799973,-0.029978185892105,0.157189920544624,0.012789837084711,-0.163653627038002,0.025115014985204,0.026765469461679,-0.043340276926756,-0.070010900497437));
res += mul(Get(s1,-dx,dy), float4x4(0.154163971543312,-0.106318913400173,0.032440878450871,-0.002911993302405,-0.054278448224068,0.218809112906456,-0.054336998611689,-0.065239727497101,-0.105204857885838,0.041217636317015,-0.135365754365921,-0.059279963374138,-0.047865618020296,0.096992522478104,-0.081786699593067,-0.079939723014832));
res += mul(Get(s1,0,-dy), float4x4(-0.022538058459759,-0.139423266053200,-0.030468743294477,0.103517487645149,-0.162740677595139,-0.004237064160407,0.030394040048122,0.015110370703042,-0.037856791168451,0.068370036780834,0.052485682070255,-0.064190305769444,-0.120954006910324,-0.116402767598629,-0.008371052332222,0.314074605703354));
res += mul(Get(s1,0,0), float4x4(0.041173949837685,0.023490382358432,-0.101109795272350,-0.099530130624771,-0.021484941244125,0.013215890154243,-0.069415658712387,-0.038528125733137,-0.042369928210974,-0.043787386268377,-0.085635408759117,-0.068870753049850,0.211547300219536,-0.128399178385735,0.013052707538009,0.048187647014856));
res += mul(Get(s1,0,dy), float4x4(-0.033504843711853,0.072517335414886,-0.135663673281670,-0.064777232706547,0.042334102094173,0.089197561144829,-0.056402537971735,-0.066190972924232,0.084644623100758,-0.068219795823097,-0.100446112453938,-0.030394738540053,0.003184559755027,-0.068468801677227,-0.072333119809628,-0.158364057540894));
res += mul(Get(s1,dx,-dy), float4x4(-0.059684108942747,-0.062098100781441,-0.016199078410864,0.137697383761406,-0.050705816596746,-0.232060059905052,-0.032975420355797,-0.101747475564480,-0.159964755177498,0.023475099354982,-0.171520128846169,0.094291634857655,-0.044780772179365,-0.061676733195782,-0.068433776497841,0.073182158172131));
res += mul(Get(s1,dx,0), float4x4(-0.083711877465248,0.012255514971912,0.023411886766553,-0.088042609393597,-0.021921940147877,-0.001436093356460,-0.049516469240189,-0.081518441438675,-0.053082115948200,-0.165035068988800,-0.149817660450935,0.140696540474892,0.216420426964760,-0.058815013617277,-0.093063890933990,0.051158841699362));
res += mul(Get(s1,dx,dy), float4x4(-0.028014991432428,0.103703640401363,0.080293260514736,-0.079921633005142,0.191598907113075,0.171565175056458,0.007378744427115,-0.051004908978939,-0.072889976203442,-0.121437162160873,-0.083946853876114,-0.043225578963757,-0.147632330656052,-0.118971183896065,-0.145473808050156,-0.109387882053852));
res += mul(Get(s2,-dx,-dy), float4x4(0.066332250833511,0.123941861093044,0.004084754269570,-0.096034169197083,0.154073685407639,0.021653562784195,-0.129361167550087,0.032861873507500,-0.082099571824074,0.051832821220160,0.042285468429327,0.229366347193718,-0.008258000947535,-0.035760730504990,0.021938061341643,0.075550861656666));
res += mul(Get(s2,-dx,0), float4x4(0.070172242820263,0.050733171403408,-0.062079977244139,-0.065953612327576,0.017783630639315,-0.043471876531839,0.036804392933846,-0.001974194776267,-0.127531737089157,0.211149707436562,0.081351950764656,0.162985235452652,0.054335925728083,-0.016953350976110,0.070005230605602,-0.029809959232807));
res += mul(Get(s2,-dx,dy), float4x4(-0.052082445472479,0.100424811244011,-0.029354643076658,0.079603634774685,0.144792675971985,-0.028150662779808,0.031520675867796,0.070633739233017,0.020418923348188,-0.174048125743866,-0.033446516841650,-0.062803648412228,0.061576049774885,0.052390802651644,0.348173350095749,0.025310019031167));
res += mul(Get(s2,0,-dy), float4x4(0.081751175224781,0.023677425459027,0.021004732698202,-0.062805086374283,0.150305986404419,0.089090511202812,-0.076884306967258,0.063258044421673,-0.044203247874975,-0.119403772056103,0.080217234790325,0.081091403961182,-0.123036965727806,-0.102138817310333,0.042594972997904,-0.007423611357808));
res += mul(Get(s2,0,0), float4x4(0.049359329044819,-0.030306134372950,-0.024985561147332,-0.171814188361168,-0.024588782340288,-0.050965584814548,-0.072331428527832,0.049046780914068,-0.025814291089773,0.061950102448463,-0.003510721959174,-0.050015874207020,-0.070370621979237,-0.067593254148960,-0.048291731625795,-0.074877344071865));
res += mul(Get(s2,0,dy), float4x4(-0.002762560267001,0.015023713000119,-0.064418852329254,-0.033481132239103,0.182517200708389,-0.020338391885161,-0.056931294500828,0.129542872309685,-0.021830610930920,0.073592975735664,-0.057325329631567,-0.017718873918056,0.146903216838837,-0.135260865092278,-0.109334439039230,-0.049950446933508));
res += mul(Get(s2,dx,-dy), float4x4(-0.102114118635654,-0.025648072361946,0.075548119843006,0.139774367213249,0.006023460999131,0.019098849967122,-0.029282402247190,-0.005673978943378,-0.061009619385004,-0.036757539957762,0.001568050705828,0.158619359135628,0.105343133211136,-0.124937489628792,0.074019409716129,0.056127984076738));
res += mul(Get(s2,dx,0), float4x4(0.033446878194809,-0.075202569365501,-0.040781807154417,-0.069208025932312,-0.016774270683527,-0.045950740575790,-0.027563573792577,-0.014149201102555,0.160233139991760,-0.107995606958866,-0.189225867390633,0.032770089805126,0.088120296597481,-0.084163740277290,-0.081670075654984,-0.042537342756987));
res += mul(Get(s2,dx,dy), float4x4(-0.044437363743782,0.190100610256195,0.016397390514612,0.080454178154469,0.042184837162495,0.024896513670683,-0.011475157923996,0.054671831429005,0.105067908763885,-0.167310446500778,-0.261393517255783,0.024606743827462,0.309351831674576,-0.086335912346840,-0.112054951488972,-0.029617318883538));
res += mul(Get(s3,-dx,-dy), float4x4(0.038397889584303,-0.008773408830166,0.149172142148018,-0.075212463736534,-0.026044750586152,-0.087746538221836,0.151545941829681,-0.023752948269248,-0.093917258083820,-0.047360721975565,-0.067601978778839,0.002344063948840,0.053255949169397,0.125663638114929,0.058168999850750,0.126224368810654));
res += mul(Get(s3,-dx,0), float4x4(0.163706034421921,0.089551538228989,-0.035677660256624,0.045774873346090,0.009403924457729,0.022650053724647,-0.044881958514452,-0.005694955121726,-0.020310133695602,0.165808901190758,-0.064154140651226,0.182089269161224,-0.047899130731821,-0.094087861478329,0.127213224768639,-0.057999368757010));
res += mul(Get(s3,-dx,dy), float4x4(0.068408511579037,0.131415188312531,0.018897062167525,0.124209880828857,0.137304678559303,-0.005589134991169,0.004819527734071,-0.041831206530333,-0.007125829346478,0.138756766915321,0.000350929884007,0.114927791059017,-0.003524173051119,0.005062459502369,-0.022277835756540,-0.020614473149180));
res += mul(Get(s3,0,-dy), float4x4(-0.094137676060200,-0.053743582218885,0.086388304829597,-0.079281702637672,-0.095409698784351,-0.128977760672569,0.018996737897396,-0.056082520633936,-0.022796601057053,0.046440567821264,0.021175164729357,-0.058154653757811,-0.074221953749657,0.316719979047775,-0.023261532187462,0.082401454448700));
res += mul(Get(s3,0,0), float4x4(0.002220509108156,0.007632726803422,0.045117892324924,0.024030847474933,-0.009307335130870,-0.078137673437595,-0.068554237484932,-0.050758887082338,-0.064685858786106,0.270815581083298,0.115058980882168,-0.025761043652892,0.025981746613979,-0.098389588296413,0.099788390100002,0.051956009119749));
res += mul(Get(s3,0,dy), float4x4(0.296729683876038,0.183216840028763,-0.005950582679361,-0.113567702472210,0.061108753085136,-0.104110136628151,-0.016938894987106,-0.085553459823132,0.033187944442034,0.055657025426626,-0.005962511524558,-0.066195830702782,-0.045780763030052,-0.065786376595497,-0.063120968639851,0.026103537529707));
res += mul(Get(s3,dx,-dy), float4x4(-0.166201949119568,-0.073776446282864,-0.021167298778892,-0.107504963874817,-0.168884679675102,-0.053292743861675,0.010809891857207,-0.033505856990814,-0.056062351912260,-0.074053794145584,0.038154527544975,-0.038848344236612,-0.125878840684891,0.122578330338001,0.012507145293057,0.127567529678345));
res += mul(Get(s3,dx,0), float4x4(-0.180891543626785,-0.105313912034035,-0.166533902287483,-0.017917398363352,-0.006434460170567,-0.046536237001419,-0.053712081164122,-0.016534091904759,0.022430082783103,-0.113009020686150,0.042897246778011,-0.081254921853542,0.024211574345827,0.052208874374628,0.244972795248032,-0.060929521918297));
res += mul(Get(s3,dx,dy), float4x4(-0.029559558257461,0.038035649806261,-0.075061544775963,-0.032886039465666,0.031528279185295,-0.011794716119766,0.070324033498764,0.037805858999491,0.260729134082794,0.033077191561460,-0.251286506652832,0.067473247647285,-0.036023639142513,-0.046426147222519,-0.148398160934448,0.102266177535057));
return max(float4(0,0,0,0), res);
}
