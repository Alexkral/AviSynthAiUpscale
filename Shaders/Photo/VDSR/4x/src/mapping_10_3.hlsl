sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.015621415339410,0.030946068465710,-0.011139270849526,0.031021244823933,0.021686922758818,-0.011788032017648,-0.102037437260151,0.034562334418297,0.055224664509296,-0.086793370544910,-0.042757261544466,-0.090745002031326,-0.053177181631327,-0.051678586751223,0.102956593036652,-0.006299708969891));
res += mul(Get(s0,-dx,0), float4x4(-0.001252577290870,0.034943953156471,-0.142377167940140,0.097673401236534,-0.057517200708389,0.050147119909525,-0.219699025154114,-0.065657474100590,-0.149692431092262,-0.128843620419502,-0.076806701719761,-0.032756593078375,0.022084599360824,-0.016339886933565,0.006791428197175,-0.045671463012695));
res += mul(Get(s0,-dx,dy), float4x4(0.090942762792110,-0.047814141958952,0.112955622375011,-0.067479535937309,-0.072115845978260,0.199751436710358,0.245666429400444,-0.122250653803349,-0.094400644302368,0.138349622488022,-0.128009825944901,0.035618841648102,-0.260573148727417,0.039626039564610,-0.192450210452080,-0.062202118337154));
res += mul(Get(s0,0,-dy), float4x4(-0.062736287713051,0.068560294806957,-0.108950428664684,-0.105108693242073,0.040260910987854,0.126507297158241,-0.105296164751053,-0.047570142894983,0.109488531947136,-0.116947881877422,-0.035940591245890,-0.064995989203453,-0.079022996127605,0.001781087368727,-0.093428641557693,0.107906714081764));
res += mul(Get(s0,0,0), float4x4(-0.061483580619097,0.052011780440807,0.017767723649740,0.063817970454693,0.059910755604506,0.025831844657660,0.158373937010765,-0.015244171023369,-0.032783828675747,-0.040311403572559,-0.033780012279749,0.096445083618164,0.021593702957034,-0.047304902225733,0.014625756070018,-0.000303463486489));
res += mul(Get(s0,0,dy), float4x4(0.121512226760387,-0.092006035149097,0.021890264004469,0.106617011129856,0.090440578758717,0.037316858768463,0.092803850769997,0.071858800947666,0.167270570993423,-0.035067506134510,-0.048519410192966,0.065093956887722,-0.087794728577137,0.024738015606999,-0.135430693626404,-0.047121800482273));
res += mul(Get(s0,dx,-dy), float4x4(-0.020040417090058,0.064549423754215,-0.063791997730732,0.029824169352651,0.174533680081367,-0.230289533734322,0.057694256305695,-0.057055659592152,0.049775328487158,-0.127755984663963,-0.041628859937191,-0.038155905902386,-0.024354420602322,0.034169789403677,0.035765897482634,0.142916023731232));
res += mul(Get(s0,dx,0), float4x4(-0.067808225750923,0.102802291512489,0.064357981085777,0.039819419384003,0.117760911583900,-0.105736874043941,0.065263040363789,-0.055706460028887,-0.128077834844589,0.114364974200726,-0.072728782892227,0.000846346141770,0.057736508548260,-0.071281112730503,-0.073545366525650,0.085929758846760));
res += mul(Get(s0,dx,dy), float4x4(0.000333760108333,-0.034407299011946,0.107646375894547,0.037761475890875,0.020226612687111,-0.170739576220512,-0.051669020205736,0.015419009141624,0.110864944756031,-0.076289772987366,-0.084317900240421,0.029997492209077,-0.133197009563446,-0.056538313627243,-0.031789965927601,-0.016497718170285));
res += mul(Get(s1,-dx,-dy), float4x4(-0.093011654913425,-0.131541818380356,-0.110156200826168,0.008294131606817,0.071646191179752,0.049421623349190,-0.019365020096302,0.021945061162114,0.031914293766022,-0.050527140498161,0.078194141387939,-0.000278733787127,0.091905139386654,0.054382741451263,-0.047929897904396,0.003156506922096));
res += mul(Get(s1,-dx,0), float4x4(0.301933556795120,-0.094652943313122,-0.058208197355270,0.008500116877258,0.070503570139408,-0.125610604882240,0.128961667418480,-0.028590820729733,-0.015461925417185,-0.053017094731331,-0.059442993253469,0.019248493015766,0.026610504835844,-0.090469308197498,-0.018276659771800,0.082611910998821));
res += mul(Get(s1,-dx,dy), float4x4(0.072640702128410,-0.055015057325363,0.011191734112799,-0.017194954678416,0.003016235306859,-0.043674055486917,0.049509204924107,-0.101490147411823,0.003833188209683,0.048187866806984,-0.123015753924847,0.109728656709194,0.041277505457401,-0.141411796212196,0.087506398558617,0.032234385609627));
res += mul(Get(s1,0,-dy), float4x4(-0.178154438734055,-0.151178970932961,-0.107212275266647,-0.092870451509953,0.079661183059216,-0.086724393069744,0.132085949182510,0.033579919487238,-0.008684311993420,-0.050756357610226,0.010759526863694,0.101233370602131,0.070571534335613,0.142723575234413,-0.071182094514370,-0.137460604310036));
res += mul(Get(s1,0,0), float4x4(-0.062086272984743,-0.090427175164223,-0.072644539177418,-0.072021864354610,0.064853541553020,0.002699477365240,-0.059005524963140,-0.067084006965160,-0.039619233459234,0.088774330914021,-0.017489260062575,0.075797528028488,-0.027745459228754,-0.030951222404838,0.069289632141590,0.027372268959880));
res += mul(Get(s1,0,dy), float4x4(-0.086126908659935,-0.136172920465469,-0.074624069035053,-0.008105373941362,-0.031994838267565,-0.013568364083767,-0.136958315968513,-0.071478724479675,-0.024021506309509,0.064515136182308,-0.040985062718391,0.019931059330702,-0.087353520095348,-0.016163069754839,0.073233507573605,-0.113377973437309));
res += mul(Get(s1,dx,-dy), float4x4(-0.158568575978279,-0.050944101065397,-0.022791117429733,0.001000905758701,0.031776744872332,-0.058378115296364,0.124320827424526,-0.027391999959946,0.083613000810146,0.170205801725388,-0.075607754290104,-0.036809451878071,0.002471255371347,0.099692739546299,-0.050184935331345,-0.126713857054710));
res += mul(Get(s1,dx,0), float4x4(0.089000649750233,-0.012369103729725,-0.056559938937426,-0.134476989507675,-0.072649247944355,0.020125832408667,-0.101135253906250,-0.095095634460449,-0.013819604180753,0.120037943124771,-0.009406666271389,0.071292117238045,-0.075048752129078,0.006122175604105,0.065541394054890,0.127552732825279));
res += mul(Get(s1,dx,dy), float4x4(-0.059857185930014,0.076318733394146,-0.126541271805763,-0.058953855186701,-0.109672844409943,0.010509681887925,0.030643451958895,0.006623771041632,0.183167755603790,0.065425120294094,-0.009233385324478,0.149371638894081,-0.052329137921333,0.022162800654769,0.054295912384987,0.201039150357246));
res += mul(Get(s2,-dx,-dy), float4x4(0.269513815641403,0.035264607518911,-0.054608646780252,0.002467754296958,0.054881319403648,-0.005481728352606,-0.048196718096733,-0.048599731177092,-0.022958924993873,-0.005501993931830,-0.004763670731336,0.090239197015762,-0.034685224294662,0.029614027589560,-0.094603635370731,-0.028492366895080));
res += mul(Get(s2,-dx,0), float4x4(0.073156297206879,-0.066325858235359,-0.005797427613288,0.021124508231878,-0.030565576627851,0.076116621494293,-0.011958118528128,-0.043676543980837,0.079432696104050,0.129478901624680,-0.166712582111359,0.128009870648384,0.113395586609840,0.054422013461590,0.065302163362503,-0.072384491562843));
res += mul(Get(s2,-dx,dy), float4x4(-0.037666980177164,0.173023119568825,-0.266498297452927,-0.114640355110168,0.042137406766415,-0.091179169714451,0.007530225440860,0.066951610147953,0.054706659168005,-0.038614045828581,-0.099197700619698,-0.099753938615322,-0.045729614794254,-0.051357671618462,0.016717800870538,-0.011508294381201));
res += mul(Get(s2,0,-dy), float4x4(-0.040160167962313,0.051693174988031,-0.057378180325031,0.094474956393242,0.086171351373196,0.099877543747425,-0.061359811574221,-0.133533418178558,-0.134925395250320,-0.000886951922439,-0.091327898204327,0.070002190768719,-0.080490060150623,0.024703701958060,-0.065152794122696,0.050138320773840));
res += mul(Get(s2,0,0), float4x4(-0.116990819573402,-0.161438867449760,0.030671143904328,-0.026669526472688,-0.003045729361475,-0.070745669305325,0.020726311951876,0.138881847262383,0.026433395221829,0.070955544710159,-0.032261084765196,-0.048994500190020,0.102844491600990,-0.077479399740696,0.054423835128546,-0.045805461704731));
res += mul(Get(s2,0,dy), float4x4(-0.140351861715317,0.031034080311656,-0.048410493880510,-0.046674817800522,0.022480083629489,-0.053302064538002,0.044347949326038,0.216120839118958,-0.038986530154943,0.090128734707832,0.178318396210670,-0.041340794414282,-0.058458961546421,-0.094495020806789,-0.079767830669880,-0.049660377204418));
res += mul(Get(s2,dx,-dy), float4x4(0.055986609309912,-0.036676187068224,0.006934917066246,0.049433119595051,0.037621378898621,0.031414896249771,-0.004777855239809,-0.011375023052096,-0.067033492028713,-0.141473382711411,0.041934918612242,-0.074171356856823,-0.079362079501152,0.109092950820923,-0.108927808701992,0.060887999832630));
res += mul(Get(s2,dx,0), float4x4(0.010754409246147,0.037094768136740,-0.011956719681621,0.010947848670185,0.016109017655253,-0.028463056311011,0.081923209130764,0.011634703725576,-0.015836263075471,0.003741743974388,0.116328597068787,-0.063091494143009,0.003107448341325,0.054250113666058,-0.071535795927048,-0.109697066247463));
res += mul(Get(s2,dx,dy), float4x4(-0.032979693263769,-0.110309883952141,-0.005572362337261,-0.130650997161865,-0.023691561073065,-0.018447509035468,-0.088154710829258,0.035115465521812,0.026414260268211,-0.002342677442357,-0.025112921372056,-0.077778004109859,-0.021993478760123,-0.001701111905277,-0.113928832113743,-0.085746981203556));
res += mul(Get(s3,-dx,-dy), float4x4(-0.174544036388397,0.068757466971874,0.094515368342400,0.005974574945867,-0.187074899673462,-0.079701483249664,0.142386719584465,-0.162542700767517,0.040945239365101,-0.004159238655120,0.002662564162165,0.022638462483883,-0.069048129022121,0.061618670821190,-0.092150889337063,0.051613084971905));
res += mul(Get(s3,-dx,0), float4x4(0.006795651279390,-0.046958979219198,0.046211529523134,-0.010339167900383,0.007614740170538,-0.022871064022183,-0.024730158969760,-0.109124235808849,0.055131390690804,0.092771545052528,0.104017861187458,-0.158514767885208,0.025864018127322,0.146559372544289,0.049652572721243,-0.040174067020416));
res += mul(Get(s3,-dx,dy), float4x4(-0.020116990432143,-0.007735867984593,0.056851290166378,0.011613671667874,-0.022852772846818,-0.114978767931461,0.035895224660635,-0.080347120761871,0.071076765656471,0.052715655416250,0.178755030035973,-0.018091732636094,-0.012373460456729,0.014058961533010,0.021315492689610,-0.023517847061157));
res += mul(Get(s3,0,-dy), float4x4(-0.030013879761100,-0.012984238564968,0.045133575797081,-0.088674500584602,-0.019666966050863,-0.116953872144222,0.107693821191788,-0.004613883327693,0.050173606723547,0.032971482723951,0.031582597643137,-0.132537618279457,-0.016409980133176,-0.013981732539833,-0.025244660675526,0.115629948675632));
res += mul(Get(s3,0,0), float4x4(0.089672364294529,-0.026423534378409,-0.000571862270590,-0.067721277475357,0.259730279445648,-0.048549138009548,0.017666622996330,-0.004160377662629,0.040663886815310,-0.097199097275734,0.024892674759030,-0.048254862427711,0.033982053399086,0.137354001402855,0.075419858098030,0.051901184022427));
res += mul(Get(s3,0,dy), float4x4(-0.023473642766476,-0.067625112831593,0.024325780570507,0.042828999459743,0.150703325867653,-0.131465971469879,-0.005256354343146,0.043346785008907,-0.102456495165825,0.123706482350826,-0.142335653305054,0.194670274853706,-0.066129431128502,0.155077800154686,0.100343905389309,0.118423804640770));
res += mul(Get(s3,dx,-dy), float4x4(-0.080475673079491,0.035872451961040,0.021361442282796,-0.159318149089813,-0.088147334754467,-0.165638327598572,0.123880743980408,0.090939655900002,-0.012378410436213,-0.045467674732208,-0.041245192289352,-0.081203483045101,-0.066672638058662,0.061470180749893,-0.073999054729939,0.066323354840279));
res += mul(Get(s3,dx,0), float4x4(0.063836202025414,-0.016358481720090,-0.141642466187477,-0.078679926693439,0.291056871414185,-0.125568598508835,0.010593299753964,-0.028463248163462,0.109745532274246,-0.051566217094660,-0.215306669473648,-0.039575967937708,-0.020783266052604,-0.143406882882118,0.042800817638636,0.190942823886871));
res += mul(Get(s3,dx,dy), float4x4(-0.090897560119629,-0.031381059437990,-0.107773393392563,-0.031022375449538,-0.043722186237574,-0.102675244212151,0.017986644059420,0.045340199023485,-0.056327365338802,-0.090074919164181,-0.110589630901814,0.093677081167698,-0.146238565444946,0.015847694128752,0.127048090100288,0.008065167814493));
return max(float4(0,0,0,0), res);
}
