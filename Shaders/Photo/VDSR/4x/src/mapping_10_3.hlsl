sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.027091011404991,0.089926712214947,0.042790319770575,0.152561455965042,0.023337846621871,0.014732396230102,-0.230832278728485,-0.046948295086622,0.140463888645172,-0.292452484369278,0.167292520403862,-0.033627457916737,-0.022156607359648,-0.063251964747906,0.007272585295141,0.075800321996212));
res += mul(Get(s0,-dx,0), float4x4(0.109512999653816,-0.063127063214779,0.136645525693893,-0.234511971473694,-0.016508940607309,0.022237870842218,-0.015350311063230,0.127434000372887,0.113030619919300,-0.022062521427870,0.007610008120537,-0.022149426862597,-0.189086988568306,0.164365217089653,0.026353361085057,-0.047922380268574));
res += mul(Get(s0,-dx,dy), float4x4(-0.088026061654091,0.090802371501923,0.078428804874420,0.099983699619770,0.060176547616720,-0.073631808161736,0.107224166393280,-0.038940425962210,-0.043241348117590,-0.033186845481396,-0.075709238648415,0.069806136190891,0.079941697418690,-0.187037512660027,-0.150443807244301,0.031800262629986));
res += mul(Get(s0,0,-dy), float4x4(0.010326430201530,0.046134196221828,0.155890151858330,-0.106092743575573,-0.028109626844525,0.081252403557301,0.033251039683819,-0.074986368417740,0.220959514379501,-0.083711646497250,-0.067160010337830,-0.068837195634842,-0.094023063778877,0.043813686817884,-0.069526866078377,0.287991672754288));
res += mul(Get(s0,0,0), float4x4(-0.024210903793573,0.031063355505466,0.109704233705997,0.059194926172495,0.062077708542347,0.028506333008409,-0.181174859404564,-0.067505866289139,-0.154583811759949,0.164470732212067,0.155837967991829,-0.032578527927399,-0.003242075443268,-0.123580336570740,0.031842265278101,0.084916777908802));
res += mul(Get(s0,0,dy), float4x4(0.105543076992035,-0.115118615329266,-0.115867510437965,-0.097766131162643,-0.059347089380026,-0.082197859883308,-0.021809589117765,0.119791634380817,-0.090440332889557,0.084371231496334,-0.189163193106651,-0.095468252897263,-0.087456218898296,-0.010688521899283,-0.040574397891760,0.100709982216358));
res += mul(Get(s0,dx,-dy), float4x4(0.023743078112602,-0.041163500398397,-0.081297673285007,0.008009451441467,-0.029530834406614,0.045268725603819,0.236854448914528,-0.241052284836769,0.009766858071089,0.018915936350822,0.266838431358337,-0.125390410423279,-0.047858837991953,0.255565404891968,0.150817945599556,-0.040102608501911));
res += mul(Get(s0,dx,0), float4x4(-0.003899569390342,-0.030709784477949,-0.234030261635780,0.167772322893143,-0.045644763857126,0.058530967682600,-0.074047341942787,0.028468051925302,0.076725639402866,0.172429531812668,0.054946765303612,0.061504486948252,0.025751268491149,0.122060924768448,0.086257278919220,-0.062236882746220));
res += mul(Get(s0,dx,dy), float4x4(0.084005765616894,-0.001273055910133,0.063370376825333,-0.058617286384106,-0.239954054355621,-0.136557072401047,-0.110840342938900,-0.216443911194801,-0.036915961652994,-0.120690442621708,-0.018559683114290,-0.013167224824429,0.005048834253103,0.012568792328238,-0.269165486097336,-0.098641641438007));
res += mul(Get(s1,-dx,-dy), float4x4(-0.129239350557327,-0.136229157447815,0.055008616298437,-0.140838697552681,-0.009872228838503,-0.078535571694374,-0.210414215922356,-0.182397484779358,-0.135660305619240,-0.141458049416542,0.004191716201603,0.035769712179899,-0.112988121807575,0.035196933895350,0.060511667281389,-0.080048292875290));
res += mul(Get(s1,-dx,0), float4x4(-0.054417576640844,-0.087931707501411,0.040659610182047,0.050289642065763,0.011973259970546,-0.009414491243660,-0.246642023324966,0.198115110397339,0.129975244402885,0.012693699449301,-0.037281647324562,0.036748148500919,-0.034787300974131,-0.067220509052277,0.273178637027740,0.128091543912888));
res += mul(Get(s1,-dx,dy), float4x4(-0.011102788150311,-0.092812940478325,-0.060988672077656,0.111073881387711,0.022317327558994,-0.085642725229263,-0.090002439916134,-0.252278953790665,0.023638667538762,0.128818005323410,0.088338017463684,0.082108385860920,-0.029072655364871,-0.244199872016907,0.045161567628384,-0.149682104587555));
res += mul(Get(s1,0,-dy), float4x4(-0.175881311297417,-0.024391151964664,-0.114719606935978,0.087053462862968,-0.065422698855400,0.181256935000420,0.147120609879494,-0.160352036356926,-0.053928878158331,0.056428242474794,-0.014367033727467,-0.109451472759247,0.062009818851948,-0.085760958492756,0.063089236617088,-0.029440207406878));
res += mul(Get(s1,0,0), float4x4(0.115248203277588,0.010555133223534,0.190307021141052,-0.206283181905746,0.024442292749882,0.167737349867821,-0.112732745707035,0.035389464348555,-0.164754509925842,0.077877394855022,0.081434994935989,0.012324057519436,-0.050770949572325,0.258527666330338,0.119798406958580,0.079129420220852));
res += mul(Get(s1,0,dy), float4x4(0.105482406914234,0.057061281055212,0.086093321442604,0.037277363240719,-0.115107700228691,-0.025905797258019,-0.155309334397316,0.010949389077723,0.031015157699585,0.106227479875088,-0.029754254966974,0.070659868419170,-0.008763357065618,-0.061217989772558,-0.009323048405349,0.081200636923313));
res += mul(Get(s1,dx,-dy), float4x4(0.021742282435298,-0.136794775724411,-0.067797094583511,0.360177010297775,-0.096829734742641,0.182445108890533,0.003585248254240,-0.159854933619499,0.069934070110321,-0.104981727898121,0.111906059086323,-0.058541025966406,0.070706814527512,-0.081166118383408,0.206565618515015,0.132971569895744));
res += mul(Get(s1,dx,0), float4x4(-0.187683835625648,0.172214522957802,0.039976764470339,0.021770529448986,-0.026991140097380,0.026601569727063,-0.127992272377014,0.038070108741522,-0.041323889046907,-0.071917712688446,0.038293119519949,0.176439151167870,-0.100971311330795,0.131767749786377,-0.115785181522369,0.174294501543045));
res += mul(Get(s1,dx,dy), float4x4(-0.114883966743946,0.129783704876900,0.021660313010216,-0.065456934273243,0.059941321611404,0.043438442051411,-0.175379425287247,0.059832889586687,0.055176842957735,-0.100077398121357,-0.118345513939857,-0.209421917796135,-0.033011343330145,0.042887780815363,-0.066163025796413,-0.067835867404938));
res += mul(Get(s2,-dx,-dy), float4x4(0.005400330759585,0.055438280105591,0.046704288572073,-0.226338788866997,0.163987457752228,-0.194215148687363,0.074148051440716,0.023098202422261,-0.082475692033768,-0.160996302962303,0.026855546981096,-0.018990136682987,0.041971117258072,0.138295263051987,-0.019373806193471,-0.019686793908477));
res += mul(Get(s2,-dx,0), float4x4(-0.154445409774780,0.004078232217580,-0.027996337041259,-0.012600873596966,0.099197998642921,-0.039017718285322,0.204886496067047,-0.007647707127035,0.022955739870667,-0.091370537877083,-0.024527117609978,-0.042198844254017,0.084778130054474,-0.172324955463409,0.076072588562965,0.041212704032660));
res += mul(Get(s2,-dx,dy), float4x4(-0.006852125283331,-0.201703265309334,0.012500167824328,0.138873189687729,0.204270616173744,0.013400519266725,0.012559306807816,0.031498599797487,-0.126345157623291,-0.003071936080232,-0.075468443334103,0.006156799383461,-0.141792938113213,0.112801395356655,0.091299429535866,-0.077887870371342));
res += mul(Get(s2,0,-dy), float4x4(0.094079457223415,0.128910139203072,0.015592660754919,0.168716385960579,-0.117625676095486,0.003470428753644,0.030814900994301,-0.050753664225340,0.065177500247955,-0.073999240994453,0.226674109697342,0.010941267944872,-0.071673117578030,0.032793406397104,-0.150722146034241,0.018620215356350));
res += mul(Get(s2,0,0), float4x4(-0.308863162994385,-0.050544958561659,-0.015002086758614,-0.197270721197128,-0.088064908981323,0.111885428428650,0.018315384164453,-0.006680198013783,-0.077293366193771,0.017515460029244,0.002296484773979,0.225796788930893,0.098529130220413,0.133197650313377,0.011337768286467,0.183434173464775));
res += mul(Get(s2,0,dy), float4x4(-0.040396995842457,-0.084095738828182,0.048167794942856,0.077874526381493,-0.013820611871779,-0.086629576981068,-0.021164279431105,0.028423912823200,-0.126777306199074,-0.119082525372505,0.006892459467053,-0.063653044402599,-0.087407790124416,0.082873046398163,0.142833992838860,0.092848904430866));
res += mul(Get(s2,dx,-dy), float4x4(-0.222951874136925,-0.044111914932728,-0.018232990056276,-0.035200383514166,-0.137039840221405,0.084607131779194,0.138078883290291,-0.053778186440468,-0.184834420681000,-0.017082678154111,0.227161064743996,-0.027767172083259,0.086345016956329,0.258414983749390,0.075165256857872,-0.031647887080908));
res += mul(Get(s2,dx,0), float4x4(0.240915149450302,-0.086578898131847,-0.129346504807472,0.104266330599785,-0.005719865206629,-0.062517166137695,0.048851288855076,-0.017022909596562,-0.134756729006767,-0.131069034337997,0.033222313970327,0.186568722128868,0.017438692972064,0.072859190404415,-0.027227096259594,-0.000094459806860));
res += mul(Get(s2,dx,dy), float4x4(0.035863362252712,0.020700450986624,0.009601850062609,0.084799237549305,-0.021839113906026,0.096090689301491,0.034373808652163,0.010437262244523,-0.156486794352531,0.099251717329025,-0.242794871330261,-0.050864845514297,-0.066019274294376,0.099282175302505,0.065067097544670,-0.089503385126591));
res += mul(Get(s3,-dx,-dy), float4x4(0.195737078785896,0.052059717476368,-0.053720198571682,0.145727768540382,-0.003468277864158,-0.032364714890718,0.035671163350344,-0.035291470587254,-0.081629380583763,-0.134010165929794,0.096394762396812,0.177830800414085,-0.156386956572533,0.126286536455154,-0.100344277918339,0.018953286111355));
res += mul(Get(s3,-dx,0), float4x4(0.022801231592894,-0.004392047412694,0.011771102435887,0.136921763420105,0.054033961147070,0.100028097629547,-0.058397304266691,-0.024799903854728,-0.029822465032339,0.021657250821590,0.088472798466682,-0.032581906765699,0.066644065082073,0.078419521450996,0.100360013544559,-0.166995123028755));
res += mul(Get(s3,-dx,dy), float4x4(0.020705845206976,-0.000323577492964,-0.041505429893732,-0.026834372431040,-0.066918335855007,-0.009849257767200,0.064897313714027,-0.045083120465279,0.095843531191349,-0.182158619165421,-0.121374912559986,0.065234467387199,-0.030564136803150,-0.079080946743488,0.097651802003384,0.069548085331917));
res += mul(Get(s3,0,-dy), float4x4(-0.202315896749496,0.119773842394352,-0.071938410401344,0.077688217163086,0.033892750740051,0.146504119038582,0.233851447701454,0.224364787340164,0.084365740418434,-0.145002573728561,0.071112677454948,0.174412235617638,-0.058254968374968,-0.104116447269917,-0.056535627692938,-0.100881338119507));
res += mul(Get(s3,0,0), float4x4(-0.023002400994301,-0.065469749271870,-0.032174330204725,0.036438252776861,0.035884529352188,-0.147876903414726,0.064485020935535,-0.101164944469929,0.067242726683617,-0.033628687262535,-0.151088163256645,-0.192652761936188,-0.113716997206211,-0.077375084161758,0.164773061871529,-0.108912758529186));
res += mul(Get(s3,0,dy), float4x4(0.015756620094180,-0.093765616416931,0.004955858457834,0.050889298319817,0.113655596971512,-0.133297786116600,0.171666234731674,-0.003537993878126,0.008023204281926,0.194646954536438,0.084691867232323,0.066103786230087,-0.033881593495607,-0.090133540332317,-0.175952553749084,-0.126611664891243));
res += mul(Get(s3,dx,-dy), float4x4(0.026669755578041,-0.176326528191566,-0.049131914973259,-0.142330527305603,0.148377522826195,0.169114604592323,-0.150562301278114,0.197551518678665,-0.037690792232752,-0.052285011857748,0.180649489164352,0.078881546854973,0.016855269670486,0.017363298684359,0.000204782467335,-0.203455805778503));
res += mul(Get(s3,dx,0), float4x4(-0.072466261684895,0.005541575141251,-0.068800456821918,-0.000659903336782,-0.146989136934280,0.060351498425007,-0.057334650307894,-0.167379051446915,-0.054083567112684,0.125998735427856,0.007521890103817,-0.035228107124567,-0.047931991517544,-0.022469012066722,-0.172193899750710,0.128157123923302));
res += mul(Get(s3,dx,dy), float4x4(-0.050049547106028,-0.055995836853981,-0.056293264031410,0.091505095362663,0.045806646347046,0.109444022178650,0.064144372940063,0.044919930398464,-0.015504985116422,0.165956020355225,-0.110409185290337,0.217031106352806,-0.043803021311760,0.097624905407429,0.087707258760929,0.067621394991875));
return max(float4(0,0,0,0), res);
}
