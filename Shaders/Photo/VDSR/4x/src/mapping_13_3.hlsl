sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.082590423524380,0.245558738708496,-0.033420920372009,-0.010377242229879,-0.024099232628942,-0.026160111650825,-0.052886005491018,-0.051034145057201,0.089354649186134,0.084839545190334,-0.095510378479958,0.015647195279598,0.142964377999306,-0.148820593953133,0.059632796794176,-0.015777571126819));
res += mul(Get(s0,-dx,0), float4x4(0.159947499632835,-0.063626110553741,-0.040348723530769,0.064488880336285,-0.015578271821141,0.159751325845718,0.041616298258305,-0.040695987641811,0.149985507130623,0.050929170101881,-0.097522586584091,-0.097956761717796,-0.081157267093658,-0.144617766141891,0.092618837952614,-0.057039979845285));
res += mul(Get(s0,-dx,dy), float4x4(0.063662678003311,0.020034877583385,0.124412685632706,-0.094127655029297,0.102446913719177,0.033753432333469,0.004821890965104,-0.090525530278683,0.138397887349129,0.051331635564566,-0.049162831157446,-0.041947491466999,-0.037726528942585,-0.075442098081112,0.156527712941170,-0.036815326660872));
res += mul(Get(s0,0,-dy), float4x4(0.275304079055786,-0.103066250681877,-0.086709402501583,0.225403249263763,-0.062307611107826,-0.019787030294538,-0.012993283569813,0.064821235835552,0.057016927748919,-0.137179970741272,-0.131266012787819,0.115536652505398,0.044334210455418,-0.085831165313721,0.082856304943562,-0.008083347231150));
res += mul(Get(s0,0,0), float4x4(0.093146815896034,0.113751485943794,-0.128420457243919,-0.028675675392151,-0.133623927831650,0.158930212259293,0.029717963188887,0.018728978931904,0.031067593023181,0.001502898870967,0.023590281605721,-0.040179379284382,-0.027084393426776,-0.045015916228294,0.037366136908531,-0.005094195250422));
res += mul(Get(s0,0,dy), float4x4(-0.014319803565741,0.230219662189484,0.125509843230247,-0.021040873602033,0.031644925475121,0.026029538363218,0.063552126288414,0.098501339554787,-0.029383899644017,-0.087657347321510,-0.002285784576088,-0.022430881857872,-0.044769395142794,-0.075167544186115,-0.056041158735752,0.018112985417247));
res += mul(Get(s0,dx,-dy), float4x4(0.138122573494911,-0.072750203311443,0.089675746858120,0.129820004105568,-0.041409194469452,-0.027740912511945,0.119971819221973,0.050679650157690,-0.022749485448003,-0.017798192799091,0.020595515146852,0.006773250643164,0.114739477634430,-0.021641762927175,0.240952134132385,-0.062126904726028));
res += mul(Get(s0,dx,0), float4x4(-0.063227325677872,-0.148814320564270,0.104311101138592,-0.068630374968052,-0.045003190636635,0.121486768126488,0.147574290633202,0.023711794987321,-0.027474159374833,0.025921072810888,0.072681330144405,0.019654056057334,-0.063862822949886,-0.012675154954195,-0.054908834397793,-0.058653328567743));
res += mul(Get(s0,dx,dy), float4x4(0.103233084082603,-0.050296176224947,0.179425418376923,-0.017181545495987,0.109680116176605,0.012654756195843,0.134310245513916,-0.037876043468714,0.028083197772503,-0.059527054429054,0.099534422159195,-0.025627916678786,-0.011877282522619,0.007218228653073,-0.057303905487061,-0.097830161452293));
res += mul(Get(s1,-dx,-dy), float4x4(-0.055269047617912,0.047738008201122,0.020113959908485,-0.075995407998562,0.094984702765942,0.014828566461802,-0.024816712364554,-0.010739648714662,0.082348123192787,0.033500317484140,-0.090439766645432,-0.022083928808570,-0.070344746112823,-0.006182275246829,-0.079459331929684,-0.054336849600077));
res += mul(Get(s1,-dx,0), float4x4(-0.023873921483755,0.126713916659355,-0.005811956245452,-0.097156561911106,-0.044751014560461,0.005833316128701,0.029479112476110,0.048628553748131,0.033043388277292,0.118774905800819,-0.055425081402063,-0.120300985872746,-0.073666624724865,-0.023059649392962,-0.074522577226162,-0.035006981343031));
res += mul(Get(s1,-dx,dy), float4x4(-0.059633225202560,0.057933788746595,0.025505857542157,0.146779730916023,-0.026269061490893,-0.047464411705732,-0.020347638055682,0.025207577273250,0.004346540663391,0.094484500586987,-0.141877636313438,-0.038409523665905,-0.017756395041943,-0.022080535069108,-0.079401895403862,0.021386025473475));
res += mul(Get(s1,0,-dy), float4x4(-0.041222605854273,-0.018758034333587,0.162454396486282,-0.030986690893769,0.183325171470642,0.031920269131660,-0.156475633382797,0.122713349759579,-0.112606279551983,-0.094158284366131,-0.030258787795901,0.003922649193555,-0.132038906216621,0.007727293763310,0.061120264232159,0.016733424738050));
res += mul(Get(s1,0,0), float4x4(-0.018593830987811,-0.069876216351986,-0.136156037449837,0.000227103082580,-0.156065046787262,-0.008875184692442,0.104395441710949,-0.054115694016218,0.023599123582244,-0.075720526278019,-0.007982441224158,0.007199958898127,-0.010416458360851,-0.077967233955860,0.035523626953363,0.000484952295665));
res += mul(Get(s1,0,dy), float4x4(-0.070256248116493,-0.078288868069649,-0.000697867362760,0.036556594073772,-0.036098029464483,0.021014044061303,0.013975771144032,-0.068120300769806,-0.028589719906449,-0.020318752154708,-0.096224002540112,-0.014049078337848,-0.046807780861855,-0.138735145330429,0.032216716557741,0.005114685744047));
res += mul(Get(s1,dx,-dy), float4x4(-0.026405416429043,-0.025042386725545,0.040989086031914,-0.061422634869814,0.187348738312721,-0.093810692429543,-0.129523441195488,0.088751919567585,0.048012733459473,-0.058411814272404,-0.039434339851141,-0.009279557503760,-0.100015819072723,-0.000519134220667,-0.026796059682965,-0.012316397391260));
res += mul(Get(s1,dx,0), float4x4(-0.043956335633993,0.013104994781315,-0.125696271657944,-0.041798893362284,0.037725560367107,-0.117725208401680,0.108663409948349,-0.065222330391407,-0.038689900189638,0.045503795146942,-0.054196845740080,0.068618036806583,-0.053825810551643,0.096540488302708,-0.071156017482281,-0.006305589806288));
res += mul(Get(s1,dx,dy), float4x4(-0.139742389321327,-0.071368448436260,0.076177172362804,0.065800875425339,-0.048703711479902,-0.004577708896250,0.029920708388090,-0.049523744732141,0.056329067796469,0.099079012870789,0.003504843916744,0.036258075386286,-0.047710355371237,-0.204693675041199,-0.002183781471103,0.070000998675823));
res += mul(Get(s2,-dx,-dy), float4x4(-0.068723194301128,-0.029942916706204,-0.039940476417542,-0.013355007395148,0.144571304321289,-0.000567516835872,0.039423074573278,-0.135109677910805,0.060145922005177,-0.024841040372849,-0.070973210036755,0.033148813992739,-0.107801407575607,0.004806882236153,-0.058603052049875,0.030443096533418));
res += mul(Get(s2,-dx,0), float4x4(-0.047101624310017,-0.062069837003946,0.077720262110233,-0.008964389562607,-0.033939789980650,0.004930818453431,0.020360412076116,-0.135946229100227,0.088978365063667,0.051241874694824,-0.008006622083485,-0.068896017968655,0.061296228319407,-0.016485286876559,-0.095049113035202,0.097380407154560));
res += mul(Get(s2,-dx,dy), float4x4(-0.013788443990052,-0.081635639071465,-0.003018140792847,0.031681925058365,0.002606794005260,-0.040427863597870,0.021214319393039,-0.013394512236118,0.094620972871780,-0.075035497546196,-0.029165878891945,-0.112285934388638,-0.028759039938450,0.095781415700912,-0.031971894204617,0.111952222883701));
res += mul(Get(s2,0,-dy), float4x4(-0.077956326305866,0.085436783730984,-0.094359628856182,-0.086084261536598,0.006934030912817,-0.008009306155145,-0.099654510617256,-0.094185248017311,-0.161538735032082,0.045118987560272,-0.026434367522597,0.037102390080690,0.169741854071617,0.043279964476824,-0.137672007083893,0.093991398811340));
res += mul(Get(s2,0,0), float4x4(-0.083903633058071,-0.024987677112222,0.090639486908913,-0.029598722234368,-0.012474869377911,0.095116741955280,0.018754906952381,-0.040073182433844,-0.080393791198730,0.162874400615692,-0.055049385875463,0.248017221689224,-0.150354489684105,0.095104463398457,-0.154404297471046,0.035548646003008));
res += mul(Get(s2,0,dy), float4x4(0.013732497580349,-0.090777099132538,0.007373417261988,0.039771072566509,-0.019756872206926,0.136830419301987,0.136588647961617,0.001857027993537,-0.011984863318503,0.077784866094589,-0.015352291055024,0.007679028436542,-0.030038500204682,-0.115660414099693,-0.031146766617894,0.138301432132721));
res += mul(Get(s2,dx,-dy), float4x4(-0.038103166967630,0.112648807466030,-0.018696676939726,-0.039639748632908,0.013773282989860,0.050849091261625,0.002143921330571,-0.087926715612411,0.073259010910988,-0.038489393889904,-0.003733922727406,-0.137190192937851,0.103881850838661,0.121514253318310,-0.100775510072708,0.041019588708878));
res += mul(Get(s2,dx,0), float4x4(-0.051141306757927,0.128931626677513,0.064686380326748,-0.029502239078283,-0.008016004227102,-0.048690572381020,-0.089493989944458,-0.059156324714422,0.015497809275985,0.037355564534664,-0.017057837918401,-0.075220398604870,0.110703378915787,-0.053060598671436,-0.068407237529755,0.000950649729930));
res += mul(Get(s2,dx,dy), float4x4(-0.064300499856472,-0.036350969225168,0.102138549089432,0.062875442206860,0.020896378904581,-0.105849437415600,0.069842927157879,0.056930344551802,0.093343861401081,-0.020379828289151,0.005508259404451,-0.051664836704731,0.026538854464889,-0.017503688111901,0.014094226993620,-0.037363670766354));
res += mul(Get(s3,-dx,-dy), float4x4(0.012362341396511,0.000291488104267,-0.166881248354912,-0.067645415663719,0.046946704387665,0.090062446892262,-0.037557322531939,-0.086125932633877,-0.114189885556698,-0.004578222054988,-0.068107873201370,0.009138768538833,-0.070308379828930,-0.060156457126141,-0.102293208241463,0.009028887376189));
res += mul(Get(s3,-dx,0), float4x4(-0.099645175039768,-0.109336793422699,-0.052022736519575,-0.058027204126120,0.033025737851858,0.203008264303207,-0.152115508913994,0.095790296792984,-0.037827819585800,-0.122044578194618,-0.042957745492458,0.024854067713022,-0.155536711215973,-0.031624585390091,0.018423244357109,-0.132453784346581));
res += mul(Get(s3,-dx,dy), float4x4(0.044217541813850,-0.164427220821381,0.019954062998295,-0.009885674342513,0.062625966966152,0.076684996485710,-0.073921501636505,-0.013215056620538,-0.146405324339867,-0.214365735650063,0.066372305154800,0.219478428363800,-0.103693552315235,0.053464774042368,-0.033749587833881,0.035436596721411));
res += mul(Get(s3,0,-dy), float4x4(-0.035542391240597,0.031699515879154,0.007676186040044,0.098874591290951,0.079858079552650,-0.016267959028482,0.025531260296702,-0.013243398629129,-0.005502135958523,0.112693220376968,-0.110807172954082,-0.159972473978996,-0.093132190406322,-0.056019406765699,0.091972053050995,0.047932665795088));
res += mul(Get(s3,0,0), float4x4(-0.018434606492519,-0.070323035120964,0.178295120596886,0.075173586606979,-0.010294116102159,-0.052110183984041,-0.033967334777117,-0.089256159961224,0.064413681626320,0.132967025041580,0.074872113764286,0.046059329062700,-0.055178169161081,-0.035523179918528,-0.045465975999832,-0.075953707098961));
res += mul(Get(s3,0,dy), float4x4(0.076386108994484,-0.041009448468685,0.068889558315277,0.108350053429604,-0.099944502115250,0.006404492538422,0.080625295639038,-0.007203616667539,-0.046504832804203,0.008420152589679,0.059265457093716,0.086103834211826,-0.073143906891346,-0.135463193058968,-0.094352096319199,-0.001756607205607));
res += mul(Get(s3,dx,-dy), float4x4(-0.123919934034348,0.100249536335468,-0.012567347846925,-0.036291684955359,-0.068054713308811,-0.021667411550879,0.131067872047424,-0.058218587189913,0.026068342849612,0.013240769505501,-0.137716218829155,-0.079785510897636,-0.013049960136414,-0.076384156942368,-0.003738179337233,-0.009803910739720));
res += mul(Get(s3,dx,0), float4x4(-0.027927676215768,0.129043668508530,0.047999724745750,-0.063413836061954,-0.027832692489028,0.013990488834679,-0.024165041744709,-0.108847573399544,0.059754777699709,0.111802369356155,0.083495900034904,-0.061512093991041,0.029169281944633,-0.078122846782207,0.023586247116327,-0.192467808723450));
res += mul(Get(s3,dx,dy), float4x4(-0.044750466942787,0.013469511643052,0.077306702733040,-0.029077792540193,0.036699213087559,0.057465124875307,-0.015272778458893,-0.002206169068813,0.098665177822113,-0.081081099808216,0.113743826746941,-0.029678927734494,-0.078763999044895,-0.197693809866905,-0.123294517397881,-0.071087174117565));
return max(float4(0,0,0,0), res);
}
