sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.077615603804588,0.263846725225449,0.039409250020981,0.051398344337940,-0.053768660873175,0.022168677300215,0.104651533067226,-0.018054278567433,0.056092791259289,-0.150919362902641,-0.193386152386665,0.187114208936691,-0.076649062335491,-0.167960360646248,0.054577298462391,0.064366534352303));
res += mul(Get(s0,-dx,0), float4x4(-0.031236780807376,-0.130343660712242,0.028197215870023,0.105080038309097,-0.031057411804795,-0.117081090807915,-0.035270895808935,-0.168928906321526,-0.118584901094437,0.024207673966885,-0.154125392436981,-0.007581749930978,-0.073723562061787,-0.141753926873207,0.116951681673527,-0.081379443407059));
res += mul(Get(s0,-dx,dy), float4x4(0.151644185185432,0.085431046783924,0.063157163560390,0.101829223334789,0.253474384546280,-0.026201667264104,0.103537403047085,-0.069435082376003,-0.044604294002056,0.002440518932417,-0.126097008585930,0.102503582835197,0.003294963156804,0.046145152300596,0.090332582592964,0.014384468086064));
res += mul(Get(s0,0,-dy), float4x4(-0.103110685944557,0.082902491092682,-0.131862565875053,0.067659050226212,0.134626686573029,-0.029579669237137,0.063007794320583,0.143903523683548,0.001290326821618,-0.015521571971476,0.034649446606636,0.003862918820232,0.041471645236015,0.068259268999100,0.060641076415777,0.027061624452472));
res += mul(Get(s0,0,0), float4x4(-0.101029977202415,-0.064009651541710,0.040577452629805,-0.158536553382874,0.031679760664701,0.231515690684319,-0.112856395542622,0.034883130341768,-0.041192322969437,-0.199886500835419,-0.104614757001400,-0.062033135443926,0.018175063654780,0.244330763816833,0.098887071013451,-0.077249184250832));
res += mul(Get(s0,0,dy), float4x4(-0.036441773176193,0.200503796339035,-0.223204106092453,0.049197588115931,0.105728484690189,-0.045107997953892,-0.003986387979239,0.131557017564774,0.002165045123547,0.002332953037694,-0.086121134459972,0.087405525147915,-0.030901025980711,0.254127025604248,-0.381443917751312,-0.173920214176178));
res += mul(Get(s0,dx,-dy), float4x4(-0.048660568892956,0.024455955252051,0.125725343823433,-0.228457093238831,0.098829679191113,-0.023100867867470,0.170630574226379,0.190412819385529,-0.135781317949295,0.088375143706799,0.183616012334824,-0.162086784839630,-0.067618541419506,-0.020577786490321,0.147817581892014,-0.010004578158259));
res += mul(Get(s0,dx,0), float4x4(-0.002713162451982,0.175196945667267,-0.144791364669800,0.153685763478279,0.107217259705067,-0.010460961610079,0.219703271985054,-0.036072742193937,0.092653147876263,0.055422376841307,-0.105560958385468,-0.013553301803768,0.080517403781414,0.098811917006969,0.116199813783169,0.013053973205388));
res += mul(Get(s0,dx,dy), float4x4(-0.154984354972839,-0.153239756822586,-0.025682386010885,-0.054337769746780,0.106603182852268,-0.035162109881639,-0.101002275943756,-0.110824830830097,0.237774893641472,0.002481188625097,0.110085234045982,-0.074126273393631,-0.133487686514854,-0.115561917424202,0.152067467570305,-0.199243128299713));
res += mul(Get(s1,-dx,-dy), float4x4(-0.210219219326973,-0.201594665646553,-0.038601256906986,-0.003091362770647,0.050448685884476,-0.094012431800365,-0.074657551944256,-0.026900989934802,0.126734241843224,-0.004491372033954,0.105851173400879,-0.064088232815266,-0.074048131704330,0.184475168585777,0.054104477167130,-0.088196165859699));
res += mul(Get(s1,-dx,0), float4x4(-0.105726532638073,0.082343563437462,-0.111808933317661,-0.009151327423751,-0.236103937029839,0.154846131801605,0.191992744803429,0.140726879239082,0.083769805729389,-0.188539505004883,-0.171367943286896,-0.004937143530697,0.000825539580546,0.002623451407999,-0.075733646750450,0.077359840273857));
res += mul(Get(s1,-dx,dy), float4x4(-0.043705146759748,-0.103367626667023,-0.005833866540343,-0.076946109533310,-0.007404230069369,-0.069464698433876,0.203607395291328,-0.001848079264164,-0.096854239702225,0.212496176362038,0.127037405967712,0.023718444630504,0.018664738163352,0.179623529314995,0.084791660308838,-0.156673461198807));
res += mul(Get(s1,0,-dy), float4x4(-0.068671911954880,0.155173212289810,-0.014708008617163,-0.065750628709793,-0.065652601420879,0.103913448750973,-0.163008689880371,-0.107116863131523,-0.005226624663919,0.019671849906445,0.171195417642593,0.013521333225071,0.132472604513168,-0.122611671686172,0.133888766169548,-0.114083424210548));
res += mul(Get(s1,0,0), float4x4(0.141441851854324,0.169530451297760,0.023765560239553,0.207224890589714,-0.032425332814455,-0.003452105913311,-0.101285405457020,0.076038874685764,-0.009494553320110,-0.025396706536412,0.010204684920609,0.112880595028400,0.013048363849521,0.152435317635536,-0.095738515257835,-0.089983627200127));
res += mul(Get(s1,0,dy), float4x4(-0.063614644110203,0.151687905192375,0.088217884302139,-0.002013365039602,0.001123426947743,-0.152888596057892,0.159144699573517,-0.043572019785643,0.096062250435352,-0.014924291521311,0.089446172118187,-0.104447521269321,-0.055584054440260,0.015875473618507,-0.034336972981691,0.028317164629698));
res += mul(Get(s1,dx,-dy), float4x4(-0.059595230966806,0.154398903250694,-0.046488445252180,0.017579516395926,0.000432115310105,0.045001838356256,-0.021898182108998,-0.109892748296261,-0.031347334384918,0.000358252727892,-0.102051310241222,-0.202428475022316,0.093162491917610,-0.162656888365746,-0.041099924594164,-0.083399668335915));
res += mul(Get(s1,dx,0), float4x4(0.067755639553070,0.068332873284817,-0.112835638225079,-0.002469769679010,0.100094966590405,0.082258991897106,0.149066179990768,-0.123719900846481,-0.136579334735870,0.016205785796046,0.230965867638588,0.096215642988682,0.073348365724087,-0.110551573336124,0.071347542107105,0.081980220973492));
res += mul(Get(s1,dx,dy), float4x4(-0.021608414128423,-0.191512912511826,0.091292642056942,0.048043165355921,0.200527071952820,-0.148000061511993,-0.008089628070593,0.013166300021112,-0.026476057246327,-0.131622731685638,-0.027386924251914,-0.000139373689308,0.015095835551620,-0.160160765051842,-0.019304985180497,0.202466338872910));
res += mul(Get(s2,-dx,-dy), float4x4(0.140489906072617,0.117477864027023,-0.171493977308273,-0.178049951791763,0.143425285816193,0.062144044786692,0.080855913460255,-0.108399137854576,-0.094789534807205,-0.050476182252169,-0.076220057904720,-0.039154216647148,0.007148478180170,0.039216361939907,-0.013087476603687,0.192505210638046));
res += mul(Get(s2,-dx,0), float4x4(-0.053297314792871,0.069963671267033,-0.040334340184927,-0.064730122685432,-0.080877758562565,-0.089800566434860,0.037799768149853,-0.177752435207367,0.009988555684686,0.084851674735546,0.023419834673405,-0.018111426383257,-0.138424977660179,-0.208913132548332,-0.233872503042221,0.003559224773198));
res += mul(Get(s2,-dx,dy), float4x4(-0.092573828995228,-0.125081568956375,0.144628331065178,0.166888892650604,-0.139866784214973,-0.209802150726318,0.058841601014137,-0.051722381263971,0.044803727418184,-0.108826175332069,-0.161719635128975,-0.012543574906886,0.001674931612797,0.095206178724766,0.031214777380228,-0.029150644317269));
res += mul(Get(s2,0,-dy), float4x4(-0.194571346044540,0.096132270991802,-0.188264966011047,-0.026241770014167,0.047046389430761,0.199541106820107,-0.018218593671918,0.235582411289215,0.001273384783417,0.068081915378571,0.310005784034729,-0.184898898005486,-0.010669074952602,0.052487630397081,0.130223870277405,0.020293202251196));
res += mul(Get(s2,0,0), float4x4(-0.004100396297872,0.109930321574211,-0.098800398409367,0.158203780651093,0.178217738866806,0.086570709943771,0.069668591022491,0.087662339210510,0.099181957542896,0.006715990602970,-0.160140559077263,-0.121374517679214,0.089646779000759,0.168933689594269,-0.008221970871091,-0.015207113698125));
res += mul(Get(s2,0,dy), float4x4(-0.122037410736084,0.036129947751760,0.148521631956100,-0.165295720100403,0.100486576557159,-0.076041005551815,0.076665423810482,-0.284583270549774,0.085975565016270,-0.104825004935265,-0.066420532763004,-0.004666090477258,-0.030547775328159,0.002180154900998,0.090154573321342,-0.006884044501930));
res += mul(Get(s2,dx,-dy), float4x4(0.030907841399312,-0.069377765059471,0.101631902158260,-0.193934097886086,-0.001214557210915,-0.139067471027374,0.024541998282075,0.089947275817394,-0.169443160295486,-0.083799503743649,0.169003367424011,-0.016562227159739,-0.073972269892693,0.217079773545265,-0.073890559375286,-0.081372603774071));
res += mul(Get(s2,dx,0), float4x4(-0.164939060807228,0.211234956979752,-0.026201579719782,-0.025137601420283,-0.097508430480957,-0.085866652429104,-0.220937877893448,-0.058748427778482,-0.048561699688435,-0.054694123566151,0.105557061731815,0.204435601830482,0.045709986239672,-0.213526174426079,0.194760605692863,0.123067311942577));
res += mul(Get(s2,dx,dy), float4x4(-0.155500918626785,0.168246120214462,0.141504868865013,-0.120102100074291,-0.181452944874763,-0.010684263892472,0.015333361923695,0.132300451397896,0.022689018398523,0.045459337532520,-0.042895719408989,-0.068149112164974,0.078210458159447,0.104736521840096,-0.009572927840054,-0.050912484526634));
res += mul(Get(s3,-dx,-dy), float4x4(0.203912645578384,0.190741196274757,-0.002946698572487,0.038545280694962,0.027391050010920,0.010163908824325,-0.028928272426128,0.063924759626389,0.008520462550223,0.011605193838477,-0.190648019313812,-0.059491269290447,0.428308218717575,0.050332520157099,0.046995978802443,-0.086569115519524));
res += mul(Get(s3,-dx,0), float4x4(-0.012007373385131,-0.033017434179783,0.162247419357300,0.008484160527587,0.082807011902332,0.121054947376251,-0.245239213109016,-0.024476164951921,-0.001774089876562,0.011921546421945,0.001124561997131,0.004224757663906,0.109976492822170,0.181343868374825,-0.171590864658356,0.063086979091167));
res += mul(Get(s3,-dx,dy), float4x4(-0.036333210766315,0.063502579927444,-0.012929151766002,-0.024295771494508,-0.173215493559837,0.181255489587784,-0.092691190540791,-0.151744186878204,-0.068282790482044,0.053510218858719,0.025513730943203,-0.154870927333832,-0.080855175852776,-0.029620524495840,0.114322364330292,-0.068422473967075));
res += mul(Get(s3,0,-dy), float4x4(-0.111526168882847,0.054637707769871,0.126661598682404,-0.094581246376038,-0.036604233086109,-0.148716181516647,0.037582926452160,-0.103219516575336,0.148952260613441,-0.098819866776466,-0.035056803375483,-0.063767358660698,0.069262191653252,-0.014595292508602,-0.046526074409485,-0.290637671947479));
res += mul(Get(s3,0,0), float4x4(0.138480737805367,0.004842333495617,-0.063942164182663,-0.013985600322485,0.027806425467134,0.045013107359409,-0.127618849277496,0.288188248872757,-0.048810906708241,0.035406544804573,-0.146563708782196,0.045768424868584,-0.013448218815029,0.306129753589630,0.027656245976686,0.197945192456245));
res += mul(Get(s3,0,dy), float4x4(-0.101463623344898,-0.038107544183731,0.140003815293312,-0.094521693885326,0.102753162384033,0.233908295631409,-0.109422467648983,-0.058684874325991,-0.151476368308067,0.104914791882038,-0.183751150965691,0.048175912350416,-0.012379785999656,0.184321358799934,-0.078616626560688,0.153811231255531));
res += mul(Get(s3,dx,-dy), float4x4(0.116159059107304,0.041282974183559,-0.015456356108189,-0.099362000823021,-0.109127692878246,-0.060130022466183,-0.132272973656654,-0.000041642819269,0.120530918240547,0.116064518690109,0.051749806851149,0.065259583294392,-0.135606020689011,-0.161421790719032,-0.164369896054268,-0.036605946719646));
res += mul(Get(s3,dx,0), float4x4(-0.026615049690008,0.001167232170701,-0.064876593649387,-0.052807059139013,0.090875640511513,0.122794486582279,-0.061102725565434,-0.262995779514313,0.035089723765850,-0.160196214914322,0.143288284540176,-0.032787710428238,0.007514173630625,-0.089818805456161,0.177519977092743,-0.039806049317122));
res += mul(Get(s3,dx,dy), float4x4(-0.084941864013672,-0.057765711098909,0.128609523177147,0.289652258157730,0.042358476668596,0.001565476879478,-0.127637520432472,0.142920881509781,0.053320709615946,0.145120829343796,-0.052815612405539,0.165366664528847,0.019090399146080,-0.032384652644396,-0.148414358496666,-0.135490357875824));
return max(float4(0,0,0,0), res);
}
