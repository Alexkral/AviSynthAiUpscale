sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.127131149172783,-0.296591669321060,-0.045897446572781,-0.054121643304825,-0.078382253646851,0.129621937870979,0.012315207161009,-0.002845270326361,0.052444744855165,0.032236743718386,-0.001695759128779,-0.005361636169255,0.048417124897242,0.033040028065443,-0.202111303806305,-0.007077732589096));
res += mul(Get(s0,-dx,0), float4x4(-0.125972062349319,-0.194882228970528,-0.090141266584396,-0.087289296090603,-0.164976999163628,0.200965195894241,0.061700731515884,-0.010167459957302,-0.027691397815943,0.044938549399376,-0.027320679277182,0.003417351748794,0.073108837008476,0.029776904731989,0.083551079034805,-0.022293163463473));
res += mul(Get(s0,-dx,dy), float4x4(-0.063475035130978,-0.184124499559402,-0.098731540143490,-0.077694088220596,-0.250667065382004,0.017451219260693,0.001711345394142,0.012986698187888,-0.090967580676079,0.018099080771208,-0.032303605228662,-0.005725038703531,0.104401156306267,0.017980905249715,0.236625462770462,-0.007443118374795));
res += mul(Get(s0,0,-dy), float4x4(0.363843470811844,-0.127268433570862,0.098609678447247,-0.030875958502293,0.114070869982243,-0.017807623371482,-0.051162857562304,0.007797982078046,0.024130798876286,0.044839445501566,0.066463544964790,0.003918486181647,0.033227480947971,-0.023637980222702,-0.028128461912274,-0.008163970895112));
res += mul(Get(s0,0,0), float4x4(0.321954041719437,-0.243769407272339,0.060274098068476,-0.069630712270737,0.135241553187370,0.075433164834976,-0.107123136520386,0.006023161578923,0.048237901180983,0.083413437008858,0.103416040539742,0.007640441413969,-0.068865224719048,-0.066419564187527,0.232348516583443,-0.022222045809031));
res += mul(Get(s0,0,dy), float4x4(-0.418560892343521,-0.354646503925323,-0.045224245637655,-0.061532445251942,0.004844395909458,-0.009449058212340,-0.111698679625988,0.022762868553400,-0.022129835560918,0.060009632259607,0.059135470539331,-0.003879143856466,-0.086274467408657,-0.083624340593815,0.278248697519302,-0.024894794449210));
res += mul(Get(s0,dx,-dy), float4x4(0.443292200565338,-0.121315591037273,-0.400134444236755,-0.024158373475075,-0.201712042093277,0.012336851097643,0.034712839871645,0.005902092903852,-0.093158617615700,-0.020510155707598,0.025134215131402,0.005037032999098,-0.187644287943840,-0.095486365258694,-0.125639677047729,0.007749891839921));
res += mul(Get(s0,dx,0), float4x4(0.372041344642639,-0.138001650571823,-0.495655506849289,-0.057011745870113,-0.156207635998726,0.081783503293991,0.034429740160704,-0.000235968225752,0.017852768301964,0.006260520778596,0.171785339713097,0.008490991778672,-0.267465502023697,-0.104815490543842,-0.094754002988338,-0.018766768276691));
res += mul(Get(s0,dx,dy), float4x4(-0.692199409008026,-0.201258376240730,-0.353882282972336,-0.053849030286074,-0.186380073428154,0.009775674901903,0.032042905688286,0.011960776522756,-0.043636985123158,0.013694036751986,0.132321849465370,-0.001031720894389,-0.306424766778946,-0.133018821477890,-0.184774130582809,-0.034967962652445));
res += mul(Get(s1,-dx,-dy), float4x4(0.185422807931900,0.074511863291264,0.089928746223450,-0.015394167974591,0.079590454697609,-0.057909112423658,-0.085021950304508,-0.028205676004291,-0.056732762604952,-0.029724542051554,-0.002745510078967,-0.006460479926318,0.000284061417915,0.026114352047443,0.047370459884405,0.001155895763077));
res += mul(Get(s1,-dx,0), float4x4(0.061114661395550,0.029621083289385,-0.001359537942335,-0.021097049117088,-0.056012801826000,-0.012921175919473,-0.014928675256670,-0.017418121919036,0.045858938246965,0.061068870127201,0.081940360367298,-0.004036574624479,0.010728302411735,0.047995775938034,0.093749418854713,-0.000194571213797));
res += mul(Get(s1,-dx,dy), float4x4(-0.031990963965654,-0.053357191383839,-0.020290035754442,-0.023861667141318,0.005848788190633,0.051654554903507,0.073816247284412,0.016430178657174,-0.001142401830293,0.115081883966923,0.066757224500179,0.016867445781827,-0.004641183186322,0.068936362862587,0.082122623920441,0.003077019471675));
res += mul(Get(s1,0,-dy), float4x4(-0.026204854249954,0.102042853832245,-0.108367949724197,-0.003109417622909,0.161823719739914,-0.000051510236517,-0.048620339483023,-0.010461523197591,-0.058364786207676,0.082644373178482,-0.037003260105848,0.004213181324303,0.004821976646781,0.012556497007608,0.029294181615114,0.002939561847597));
res += mul(Get(s1,0,0), float4x4(-0.009183532558382,0.095559097826481,-0.166266396641731,-0.002662070794031,0.045573856681585,0.043259464204311,0.020288014784455,-0.013469474390149,-0.020372774451971,0.125904694199562,0.060121558606625,0.001017491100356,0.012659372761846,0.033593595027924,0.076617337763309,0.006796063855290));
res += mul(Get(s1,0,dy), float4x4(-0.039351038634777,0.064722277224064,-0.153896346688271,-0.007288633845747,0.065082095563412,0.082308970391750,0.013547209091485,0.008783696219325,-0.045352097600698,0.159432828426361,0.092887498438358,0.018095158040524,0.005776915699244,0.056702274829149,0.092695035040379,0.000963124155533));
res += mul(Get(s1,dx,-dy), float4x4(-0.104410275816917,0.073462270200253,-0.066845022141933,-0.005450598895550,0.006379102356732,0.015562017448246,0.024510497227311,-0.003840047167614,-0.113966606557369,0.049260307103395,0.028119074180722,0.018108550459146,0.000596347032115,0.014637120068073,0.041629150509834,0.005393915344030));
res += mul(Get(s1,dx,0), float4x4(-0.016523590311408,0.101866625249386,0.048011701554060,-0.005207492038608,-0.058087609708309,0.048866823315620,0.030655818060040,-0.000082619291788,-0.045094724744558,0.072021670639515,0.018290406093001,0.014894310384989,0.023799967020750,0.025239139795303,0.066602416336536,0.007601598743349));
res += mul(Get(s1,dx,dy), float4x4(-0.026760000735521,0.109569154679775,0.024515436962247,-0.001734844641760,0.093932263553143,0.061374753713608,0.013976557180285,0.004874745849520,-0.071431323885918,0.087236151099205,0.010146929882467,0.015374515205622,0.008128768764436,0.040945529937744,0.077704221010208,0.008551495149732));
res += mul(Get(s2,-dx,-dy), float4x4(0.182514548301697,0.054839055985212,-0.176725789904594,-0.032054353505373,-0.272174715995789,0.011783844791353,-0.251909106969833,0.019516807049513,-0.627572476863861,-0.114982113242149,-0.107760764658451,-0.059867493808270,-0.000798491935711,-0.003580523654819,-0.011173833161592,-0.005572855006903));
res += mul(Get(s2,-dx,0), float4x4(0.052228737622499,-0.018064541742206,-0.215849623084068,-0.032505717128515,-0.345708668231964,-0.033181294798851,0.185911133885384,-0.002047601155937,-0.418736457824707,-0.082914039492607,0.045320045202971,0.023317091166973,0.076755926012993,0.007827469147742,-0.013634696602821,0.041581153869629));
res += mul(Get(s2,-dx,dy), float4x4(-0.114020928740501,-0.045281503349543,-0.114385753870010,-0.032320622354746,-0.237771809101105,0.050372652709484,0.323056668043137,-0.005663169547915,-0.338210195302963,-0.059542242437601,0.048863954842091,0.048593409359455,-0.137406602501869,-0.035130985081196,0.009048517793417,-0.019860789179802));
res += mul(Get(s2,0,-dy), float4x4(0.016673911362886,0.115410581231117,-0.145689517259598,-0.027293689548969,0.039594776928425,0.018863258883357,-0.195588856935501,0.012569277547300,0.039777372032404,0.021561466157436,-0.170593127608299,-0.050469670444727,0.047244526445866,-0.123518005013466,-0.032128609716892,-0.014637914486229));
res += mul(Get(s2,0,0), float4x4(-0.014787884429097,0.096289530396461,-0.148990109562874,-0.032005187124014,0.086134210228920,-0.052817124873400,0.017524570226669,-0.004625751171261,-0.064223319292068,0.150895133614540,-0.092371381819248,0.029489943757653,-0.011368665844202,-0.092921778559685,0.094955898821354,0.063662648200989));
res += mul(Get(s2,0,dy), float4x4(-0.067204341292381,0.070109412074089,-0.068922169506550,-0.024527220055461,-0.020401526242495,-0.031824767589569,0.160195648670197,-0.018550569191575,-0.059546485543251,0.134388044476509,-0.257670313119888,0.041068475693464,-0.237452551722527,-0.096050158143044,0.103522390127182,0.036940820515156));
res += mul(Get(s2,dx,-dy), float4x4(-0.045504216104746,-0.032192114740610,0.101223856210709,-0.009806894697249,-0.059333298355341,-0.044007420539856,0.104174546897411,0.033881828188896,0.161842390894890,0.050622142851353,0.234598830342293,-0.035814929753542,-0.078787684440613,-0.098032794892788,-0.344545453786850,-0.020714666694403));
res += mul(Get(s2,dx,0), float4x4(-0.075640544295311,0.028429865837097,0.237730264663696,-0.021158238872886,0.012338044121861,-0.069716662168503,-0.001940956455655,0.004523394163698,-0.073623627424240,0.236685663461685,0.322005778551102,0.032259374856949,0.017695011571050,-0.047202054411173,-0.023404426872730,0.047746930271387));
res += mul(Get(s2,dx,dy), float4x4(-0.011403470300138,0.064915351569653,0.227430015802383,-0.019191479310393,-0.115512982010841,-0.040728371590376,-0.025311538949609,-0.016291439533234,0.112891823053360,0.225664302706718,0.133383125066757,0.063312634825706,-0.101478978991508,-0.025531742721796,0.192404970526695,0.056079737842083));
res += mul(Get(s3,-dx,-dy), float4x4(-0.002298589795828,0.006319277919829,-0.081517003476620,0.024318002164364,-0.030599327757955,0.010774092748761,0.032441776245832,-0.003387694479898,0.293975591659546,-0.088615939021111,-0.085683770477772,-0.028770800679922,0.069288544356823,0.018890250474215,-0.060520440340042,0.017350990325212));
res += mul(Get(s3,-dx,0), float4x4(-0.070112392306328,-0.018192769959569,0.069602139294147,-0.001186304143630,-0.024949532002211,-0.004510738421232,0.019972166046500,-0.003318211529404,-0.040047105401754,-0.017187230288982,0.042581576853991,-0.020901802927256,-0.060375645756721,-0.005993361584842,0.024646600708365,0.001048084348440));
res += mul(Get(s3,-dx,dy), float4x4(-0.312481701374054,-0.079805441200733,-0.065452009439468,-0.024148808792233,-0.019798919558525,-0.015766639262438,-0.016346648335457,0.002483858959749,0.126470476388931,0.005460002925247,0.064331896603107,0.035660136491060,0.022503132000566,0.015639526769519,0.066821031272411,0.059821892529726));
res += mul(Get(s3,0,-dy), float4x4(0.227302372455597,-0.005842205137014,-0.051582317799330,0.030080288648605,0.022337144240737,-0.004317263141274,-0.024678960442543,0.007674166001379,0.017777780070901,0.029943469911814,-0.030971312895417,0.013601254671812,0.094441175460815,-0.034023262560368,-0.074827365577221,0.011131238192320));
res += mul(Get(s3,0,0), float4x4(0.141976028680801,0.002309540519491,0.037970326840878,0.013407754711807,0.040995813906193,-0.007320769131184,-0.022934786975384,0.006369586568326,-0.016753029078245,0.087390743196011,-0.039892498403788,0.002769297454506,-0.029339337721467,-0.038950268179178,-0.010285264812410,0.010971995070577));
res += mul(Get(s3,0,dy), float4x4(-0.054780259728432,-0.060231287032366,-0.090815857052803,-0.033371534198523,-0.002170377410948,-0.015316222794354,-0.024939011782408,0.002057899255306,0.181508421897888,0.105287641286850,0.004315877798945,0.022870296612382,0.058867137879133,-0.020083423703909,0.057964365929365,0.070624440908432));
res += mul(Get(s3,dx,-dy), float4x4(0.128132998943329,-0.132682964205742,-0.080562442541122,0.028195960447192,-0.021865488961339,0.003239201148972,-0.013771397061646,0.000075155563536,-0.143936231732368,0.032398328185081,0.080141782760620,0.025062946602702,0.034335914999247,-0.002119909040630,-0.056206867098808,-0.000066551925556));
res += mul(Get(s3,dx,0), float4x4(0.038367770612240,-0.060766622424126,0.091730222105980,0.029136169701815,-0.004143861588091,0.002260694513097,0.002099278382957,-0.000437101989519,-0.109359815716743,0.024230260401964,0.020697047933936,0.012935164384544,0.074603743851185,-0.016949033364654,0.049268748611212,0.006102250888944));
res += mul(Get(s3,dx,dy), float4x4(-0.168399006128311,-0.104237668216228,0.000656672636978,-0.025836644694209,-0.012134066782892,0.001598225324415,-0.006176983006299,-0.004116289317608,0.153976902365685,-0.033839616924524,-0.029467407613993,0.017729889601469,0.079024635255337,-0.019336784258485,0.002898128004745,0.042423013597727));
return max(float4(0,0,0,0), res);
}
