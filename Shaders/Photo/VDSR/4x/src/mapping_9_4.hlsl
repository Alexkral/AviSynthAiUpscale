sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.079186633229256,0.009532346390188,-0.059962224215269,0.025984700769186,-0.006193525157869,-0.041081938892603,-0.170946449041367,0.020399997010827,-0.219033882021904,0.049354340881109,0.247553482651711,0.138240694999695,-0.038677971810102,-0.040100499987602,-0.035376232117414,0.044872451573610));
res += mul(Get(s0,-dx,0), float4x4(-0.085710451006889,-0.151584774255753,0.056953255087137,0.153403788805008,-0.094513922929764,0.226901799440384,0.196947678923607,-0.230397790670395,0.102250069379807,-0.155339375138283,-0.243523374199867,-0.039032809436321,-0.080537505447865,0.033120825886726,0.120755255222321,0.187789231538773));
res += mul(Get(s0,-dx,dy), float4x4(0.162738695740700,-0.055797539651394,0.159066006541252,-0.013059063814580,0.083847962319851,0.023966161534190,0.000936538854148,-0.115393616259098,0.070376478135586,-0.156139254570007,-0.097707755863667,0.014288608916104,-0.038980856537819,0.120048254728317,0.073875091969967,0.044906910508871));
res += mul(Get(s0,0,-dy), float4x4(0.069289922714233,-0.070469848811626,0.059952802956104,-0.080338999629021,-0.023172615095973,-0.029593043029308,0.022730294615030,0.032840415835381,-0.097451440989971,-0.177182614803314,0.056850858032703,0.019185317680240,0.031715076416731,-0.013128563761711,-0.245244279503822,-0.039142537862062));
res += mul(Get(s0,0,0), float4x4(-0.124052315950394,-0.086203955113888,-0.191985070705414,0.070892617106438,0.100713819265366,0.007718013133854,0.193720147013664,0.165312647819519,-0.122532397508621,-0.116407409310341,0.028357312083244,0.016114525496960,-0.124020889401436,-0.101295858621597,0.087407857179642,0.016377395018935));
res += mul(Get(s0,0,dy), float4x4(-0.037114132195711,0.201061904430389,0.253566235303879,0.010724595747888,-0.278808265924454,0.041889421641827,0.097380004823208,0.000230679870583,0.101187348365784,-0.033470839262009,0.020954873412848,-0.069448359310627,-0.141655400395393,-0.097647868096828,0.008417454548180,-0.227189272642136));
res += mul(Get(s0,dx,-dy), float4x4(-0.063498772680759,-0.055545233190060,0.001283040852286,-0.011533438228071,0.032333277165890,0.175251230597496,0.125170320272446,0.162975713610649,-0.133745372295380,-0.048453554511070,-0.020125009119511,0.077920652925968,-0.035283640027046,-0.051325779408216,0.084765225648880,0.047845020890236));
res += mul(Get(s0,dx,0), float4x4(0.044125303626060,0.137070238590240,0.041689004749060,0.035060673952103,-0.025428481400013,-0.143628925085068,-0.171246618032455,0.014082798734307,0.051663186401129,-0.084715381264687,0.060207601636648,-0.001122923102230,-0.025471311062574,0.055554986000061,0.056589718908072,0.085101246833801));
res += mul(Get(s0,dx,dy), float4x4(0.093076482415199,-0.108408473432064,-0.023704912513494,0.212382212281227,0.139194905757904,0.121982283890247,0.045846749097109,0.103067748248577,-0.027951290830970,-0.097493886947632,0.079514317214489,0.090278454124928,-0.054322373121977,-0.035901848226786,-0.179191142320633,0.138608679175377));
res += mul(Get(s1,-dx,-dy), float4x4(-0.053944494575262,-0.007298012729734,0.106232173740864,0.054345492273569,-0.234505832195282,-0.179538190364838,0.093108505010605,0.108729273080826,0.164589837193489,-0.024997364729643,-0.112139485776424,0.210079357028008,-0.097757257521152,-0.015647664666176,0.063965499401093,-0.042377021163702));
res += mul(Get(s1,-dx,0), float4x4(0.027411755174398,-0.072480902075768,0.013540457002819,0.121243506669998,0.069385945796967,0.050873536616564,-0.040187373757362,0.099504142999649,-0.221980169415474,-0.039746053516865,-0.069941043853760,0.115665003657341,-0.013148646801710,-0.056069970130920,0.026667870581150,-0.063128277659416));
res += mul(Get(s1,-dx,dy), float4x4(0.172876089811325,0.025079866871238,-0.077746316790581,-0.271443158388138,-0.084518037736416,-0.017649598419666,0.018410036340356,0.136263892054558,0.030206026509404,0.117094144225121,-0.030142210423946,-0.065705031156540,-0.268691301345825,-0.117553383111954,-0.165334641933441,-0.102745391428471));
res += mul(Get(s1,0,-dy), float4x4(-0.194876462221146,-0.331619203090668,0.104565910995007,0.102651685476303,0.028545109555125,-0.045436609536409,-0.047937024384737,-0.024581091478467,0.048861443996429,-0.080865398049355,0.091485835611820,0.019704410806298,-0.105904325842857,0.004739046096802,0.247172415256500,0.024945182725787));
res += mul(Get(s1,0,0), float4x4(-0.216532871127129,-0.124601274728775,0.124986045062542,-0.058098629117012,0.145673200488091,-0.045063663274050,-0.002611818257719,-0.177013516426086,0.100338384509087,0.310758054256439,0.001797972014174,-0.085783429443836,0.148393154144287,-0.165388926863670,-0.036889519542456,0.052789829671383));
res += mul(Get(s1,0,dy), float4x4(-0.148469194769859,0.075808167457581,-0.032959908246994,-0.248065933585167,0.230153247714043,-0.003106101183221,0.032086681574583,-0.082970499992371,0.031562637537718,-0.084619626402855,-0.014811509288847,-0.096592269837856,0.017901210114360,-0.175538107752800,0.095401905477047,0.190330788493156));
res += mul(Get(s1,dx,-dy), float4x4(0.027121733874083,0.082113489508629,0.105377376079559,0.053223852068186,0.129648149013519,0.241588160395622,-0.071496538817883,0.035209387540817,0.140320032835007,-0.025145843625069,-0.017653930932283,0.134841158986092,-0.110443517565727,0.112203560769558,0.148774802684784,0.036078508943319));
res += mul(Get(s1,dx,0), float4x4(-0.244580999016762,0.110824562609196,-0.023236989974976,-0.029860781505704,-0.028203967958689,-0.074226088821888,-0.052769966423512,-0.057820044457912,-0.032799016684294,-0.081808395683765,0.137048006057739,-0.067260548472404,0.066901750862598,-0.094750516116619,-0.036672148853540,0.212155625224113));
res += mul(Get(s1,dx,dy), float4x4(0.025325573980808,0.072667732834816,-0.000858294835780,0.023425709456205,-0.050940997898579,0.067928798496723,0.060791201889515,-0.019558817148209,-0.152742907404900,-0.104019790887833,-0.136596530675888,-0.044470947235823,-0.091483555734158,-0.140814155340195,0.074362963438034,0.199139058589935));
res += mul(Get(s2,-dx,-dy), float4x4(-0.151481464505196,0.045312993228436,0.250876039266586,0.032743334770203,0.036930374801159,-0.041105650365353,0.160277172923088,-0.049396477639675,-0.007913945242763,0.020440952852368,-0.279380291700363,-0.007561062462628,-0.126117646694183,0.160498067736626,0.071031071245670,0.046053465455770));
res += mul(Get(s2,-dx,0), float4x4(-0.071503132581711,-0.080390848219395,0.048436496406794,0.290510982275009,-0.025204107165337,0.163220465183258,-0.073527380824089,-0.080012626945972,-0.107990391552448,0.020213957875967,0.010510435327888,0.043646477162838,0.026423523202538,0.043883323669434,0.180775776505470,-0.042922116816044));
res += mul(Get(s2,-dx,dy), float4x4(-0.125566110014915,-0.025256626307964,0.019279114902020,0.221367999911308,0.038648385554552,0.146868363022804,-0.060155816376209,-0.058892108500004,-0.059822600334883,0.103231556713581,-0.115170001983643,-0.026421353220940,0.024631671607494,0.199910447001457,-0.008387206122279,0.076846025884151));
res += mul(Get(s2,0,-dy), float4x4(0.065732747316360,-0.043774288147688,-0.101904332637787,0.144019052386284,-0.246915966272354,0.187309131026268,0.129241377115250,-0.055795866996050,0.075494818389416,0.104427598416805,0.135758191347122,0.037155870348215,0.057182874530554,0.046084847301245,-0.178606450557709,-0.032051105052233));
res += mul(Get(s2,0,0), float4x4(0.031645167618990,-0.055121444165707,-0.070300482213497,-0.076427176594734,-0.038331966847181,0.004168573766947,0.092693693935871,-0.028459357097745,0.076213285326958,0.013194740749896,-0.049043856561184,-0.031676981598139,0.118744321167469,0.035105947405100,-0.133195564150810,0.010862928815186));
res += mul(Get(s2,0,dy), float4x4(0.059209745377302,0.128152504563332,0.170533508062363,0.216324150562286,-0.142687708139420,0.079028211534023,0.081515133380890,-0.064895257353783,-0.220728367567062,-0.005951166618615,-0.053131699562073,0.057685971260071,-0.020429857075214,-0.133806154131889,0.148601561784744,0.113263718783855));
res += mul(Get(s2,dx,-dy), float4x4(-0.127490624785423,-0.089496113359928,0.014306246303022,0.012590411119163,-0.061200037598610,-0.067517146468163,0.085634760558605,0.022401055321097,0.113190107047558,0.084038332104683,-0.018895691260695,-0.098525226116180,-0.050403892993927,0.066234827041626,0.040692202746868,0.024446720257401));
res += mul(Get(s2,dx,0), float4x4(-0.114425227046013,-0.019743876531720,-0.060815203934908,0.247728288173676,-0.010278110392392,-0.213074117898941,-0.091460041701794,0.118028618395329,0.026735464110970,-0.126298561692238,0.010220674797893,0.080134503543377,0.017002698034048,0.185327947139740,0.125018671154976,0.000516895379405));
res += mul(Get(s2,dx,dy), float4x4(0.063449345529079,0.027278261259198,-0.081477768719196,-0.133067131042480,0.110908068716526,-0.060610976070166,-0.116333164274693,-0.099884785711765,0.018239332363009,0.142324551939964,0.046802297234535,0.109665602445602,-0.121491588652134,-0.118966475129128,-0.150332391262054,-0.110707595944405));
res += mul(Get(s3,-dx,-dy), float4x4(0.160886809229851,0.020730677992105,0.024179581552744,-0.141242131590843,-0.025975231081247,-0.068123757839203,-0.358019292354584,-0.026252008974552,0.017961805686355,-0.149514839053154,-0.012114285491407,0.066181279718876,-0.226172909140587,0.008460486307740,-0.337120831012726,0.045709881931543));
res += mul(Get(s3,-dx,0), float4x4(-0.018015328794718,-0.072461679577827,0.141158849000931,-0.206101194024086,-0.079624764621258,-0.144007265567780,-0.177283704280853,0.047002460807562,0.073122859001160,-0.148587286472321,-0.197091221809387,-0.002183605683967,-0.130217775702477,0.016914352774620,0.175691440701485,0.059451662003994));
res += mul(Get(s3,-dx,dy), float4x4(-0.167931258678436,-0.086943268775940,0.094073958694935,0.023782862350345,-0.106018893420696,-0.172505617141724,0.107970163226128,-0.104473933577538,-0.039177987724543,-0.103317886590958,0.035447768867016,0.015087991021574,-0.059623122215271,-0.090681567788124,-0.071786060929298,0.060493022203445));
res += mul(Get(s3,0,-dy), float4x4(-0.060290254652500,0.079282201826572,0.193635091185570,-0.011839438229799,-0.047795452177525,-0.035525914281607,-0.027866037562490,-0.087086729705334,0.038211248815060,0.080963924527168,0.051303993910551,-0.013888775371015,0.093429714441299,0.029703311622143,-0.105697967112064,0.066490337252617));
res += mul(Get(s3,0,0), float4x4(-0.017653377726674,-0.095148451626301,0.008347755298018,-0.147571429610252,0.126381307840347,-0.070285074412823,0.002526470925659,-0.067182682454586,0.010722571052611,0.090788945555687,0.027765870094299,-0.205208241939545,0.123622886836529,-0.000776157481596,0.046507552266121,0.007839482277632));
res += mul(Get(s3,0,dy), float4x4(-0.180246263742447,-0.214265540242195,-0.068808890879154,0.052710015326738,-0.023465763777494,0.028035972267389,-0.007877714931965,-0.075775906443596,-0.153500273823738,-0.169305503368378,0.034337893128395,-0.058406140655279,-0.014410303905606,0.034672632813454,-0.090657517313957,-0.127456218004227));
res += mul(Get(s3,dx,-dy), float4x4(0.163338690996170,0.039703071117401,-0.015668969601393,0.023891739547253,-0.092807732522488,0.110039703547955,-0.068399675190449,0.014653310179710,0.006625201087445,-0.145353078842163,0.108496129512787,0.151305183768272,0.126275420188904,-0.060172859579325,-0.058876931667328,0.030443955212831));
res += mul(Get(s3,dx,0), float4x4(-0.049073077738285,-0.225036770105362,-0.064024925231934,-0.017481656745076,-0.134403616189957,-0.092776693403721,0.127837643027306,-0.016325384378433,0.210479989647865,0.043625663965940,0.096445955336094,0.001441226108000,-0.157412961125374,0.076751634478569,-0.145395800471306,0.032687187194824));
res += mul(Get(s3,dx,dy), float4x4(-0.045203298330307,-0.042011816054583,-0.012308108620346,-0.120998553931713,-0.010413087904453,-0.034730408340693,0.131631612777710,-0.004496795590967,0.025087345391512,0.073435008525848,-0.118317857384682,0.221491545438766,0.175288319587708,-0.138923272490501,0.061684593558311,0.011127623729408));
return max(float4(0,0,0,0), res);
}
