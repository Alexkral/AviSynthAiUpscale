sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.011037550866604,0.165770217776299,0.155349135398865,-0.072929039597511,-0.087619498372078,-0.096218161284924,-0.063390813767910,0.032168835401535,0.125853061676025,-0.122659295797348,0.034916646778584,-0.092772558331490,0.037811934947968,-0.093788109719753,-0.080667845904827,0.054361052811146));
res += mul(Get(s0,-dx,0), float4x4(0.019862750545144,0.031975548714399,0.187321916222572,-0.052610825747252,-0.070766761898994,-0.016706001013517,-0.117392979562283,0.011367221362889,0.147245138883591,0.010559589602053,0.077164568006992,-0.110907092690468,-0.081880599260330,0.081186830997467,-0.020670050755143,0.053682200610638));
res += mul(Get(s0,-dx,dy), float4x4(0.169559419155121,-0.160762220621109,-0.116525501012802,0.093433812260628,-0.120285503566265,0.160938948392868,-0.137205556035042,-0.150008603930473,0.012135062366724,-0.156524345278740,0.009422691538930,-0.058385167270899,-0.131712242960930,-0.007310113403946,-0.053027514368296,-0.014256526716053));
res += mul(Get(s0,0,-dy), float4x4(-0.138973385095596,0.054955370724201,0.020942617207766,-0.166164278984070,-0.036855135113001,-0.060702811926603,-0.094556525349617,0.055112481117249,0.145714014768600,0.217763990163803,-0.115755423903465,-0.017290268093348,-0.104559004306793,-0.066578388214111,-0.152530953288078,-0.029710076749325));
res += mul(Get(s0,0,0), float4x4(-0.009655443020165,0.101482883095741,0.137409910559654,-0.013311296701431,-0.062049426138401,0.021567221730947,0.111475713551044,-0.017512010410428,-0.126703023910522,0.118443362414837,-0.150245532393456,-0.006163814105093,0.112945802509785,0.014813811518252,-0.086359202861786,-0.086881734430790));
res += mul(Get(s0,0,dy), float4x4(0.152732402086258,-0.093533389270306,0.022343106567860,-0.000629005488008,-0.010690959170461,-0.029717978090048,-0.012984095141292,-0.062654443085194,-0.012771880254149,0.017679750919342,0.037413638085127,0.123601801693439,-0.005631469655782,-0.015305443666875,-0.103695794939995,-0.144660323858261));
res += mul(Get(s0,dx,-dy), float4x4(-0.046889152377844,-0.022430907934904,-0.054663680493832,0.071070276200771,0.009889842011034,-0.053308799862862,-0.208276391029358,-0.074930369853973,0.111059203743935,0.127514943480492,-0.066444501280785,-0.025606647133827,0.056596633046865,-0.100445896387100,-0.172994121909142,0.150999605655670));
res += mul(Get(s0,dx,0), float4x4(0.037291102111340,-0.006545504089445,-0.010685048997402,0.001049252925441,-0.037978433072567,0.051032364368439,0.114871993660927,0.089303717017174,0.030759558081627,-0.021413873881102,-0.008796443231404,-0.113237924873829,0.117061398923397,-0.034427911043167,-0.157592996954918,0.063905425369740));
res += mul(Get(s0,dx,dy), float4x4(0.169362202286720,0.023169228807092,-0.078690424561501,-0.048252940177917,-0.057179395109415,0.035062789916992,-0.004281903617084,-0.134072154760361,-0.048793718218803,-0.001595159177668,-0.026741262525320,-0.022893581539392,0.089498102664948,0.038025543093681,-0.135028228163719,-0.120443187654018));
res += mul(Get(s1,-dx,-dy), float4x4(0.010746223852038,0.011038451455534,-0.114899605512619,-0.080680660903454,0.112147994339466,-0.094177044928074,-0.041636426001787,0.025276627391577,-0.140026599168777,0.068682983517647,0.010842128656805,-0.030397960916162,0.023711033165455,-0.110631681978703,-0.070767194032669,0.086455166339874));
res += mul(Get(s1,-dx,0), float4x4(0.010761732235551,0.090431690216064,0.139838308095932,0.032637339085340,0.042610291391611,-0.060312677174807,-0.059830334037542,-0.023917382583022,-0.044349383562803,-0.035982567816973,-0.045676361769438,-0.039175432175398,-0.038805130869150,0.001293478999287,0.011829867027700,-0.013461412861943));
res += mul(Get(s1,-dx,dy), float4x4(-0.070126496255398,0.332641631364822,0.038591358810663,-0.075133882462978,0.023099513724446,0.017885860055685,0.130036994814873,0.131262719631195,-0.067832797765732,-0.011840637773275,0.020531490445137,0.166738018393517,0.085497140884399,-0.048592235893011,-0.022882796823978,-0.113055080175400));
res += mul(Get(s1,0,-dy), float4x4(0.109447382390499,-0.048676360398531,-0.042558282613754,-0.045456349849701,0.093704186379910,-0.017625054344535,0.069606266915798,-0.016855530440807,-0.057249680161476,0.037808515131474,0.079129040241241,-0.060084827244282,0.016943736001849,-0.035021804273129,0.002803235780448,0.003692593658343));
res += mul(Get(s1,0,0), float4x4(0.009014045819640,0.052496116608381,0.072578847408295,-0.006499225273728,0.070287048816681,0.002907368121669,0.127899482846260,-0.152107015252113,0.043631926178932,-0.052563499659300,-0.009455943480134,0.060305330902338,-0.088512234389782,-0.015742104500532,0.135686606168747,-0.037638079375029));
res += mul(Get(s1,0,dy), float4x4(0.138483628630638,0.034716520458460,0.096667863428593,-0.061581689864397,0.051546268165112,0.039635013788939,0.092356093227863,0.046734597533941,0.097480751574039,-0.031521867960691,0.022526877000928,0.063322253525257,0.082514114677906,0.001454115146771,0.045537557452917,-0.038371559232473));
res += mul(Get(s1,dx,-dy), float4x4(0.233631715178490,0.032189287245274,-0.097775600850582,0.097519680857658,-0.049584701657295,-0.033090677112341,0.022167311981320,0.031247319653630,-0.121343329548836,0.008002389222383,0.191046789288521,-0.027207264676690,0.035640399903059,-0.146172195672989,-0.139051154255867,0.170630440115929));
res += mul(Get(s1,dx,0), float4x4(0.068559132516384,0.010568805038929,-0.129095718264580,0.040640711784363,-0.007650543935597,-0.002184775192291,-0.032541420310736,-0.061300400644541,-0.038806360214949,-0.086359716951847,-0.073597796261311,0.045338425785303,0.012063209898770,-0.167959064245224,-0.124150656163692,0.061342239379883));
res += mul(Get(s1,dx,dy), float4x4(0.000012463421626,0.001588269951753,-0.082614034414291,-0.027689175680280,-0.036476187407970,0.144489601254463,-0.107724562287331,-0.006545859389007,0.034182611852884,0.025974310934544,-0.121401645243168,-0.000800211331807,-0.031604018062353,-0.205800428986549,-0.078628435730934,0.002308529801667));
res += mul(Get(s2,-dx,-dy), float4x4(-0.062934026122093,-0.008891977369785,0.077499605715275,-0.150442466139793,-0.061027970165014,-0.047298312187195,-0.105656854808331,0.157062411308289,0.063367962837219,0.070874460041523,-0.066811583936214,0.085733786225319,0.001002418110147,-0.071072489023209,0.001632808591239,0.062927603721619));
res += mul(Get(s2,-dx,0), float4x4(-0.062072481960058,-0.063395589590073,-0.044255316257477,-0.117369815707207,-0.027563938871026,-0.068379119038582,-0.130732625722885,0.013840050436556,-0.085877805948257,-0.156594648957253,-0.087101973593235,-0.009222615510225,0.068067774176598,0.015594522468746,-0.073867067694664,0.100234068930149));
res += mul(Get(s2,-dx,dy), float4x4(-0.002493842039257,-0.083310663700104,-0.003963495139033,-0.030632523819804,-0.014991464093328,-0.034129764884710,-0.064840674400330,-0.089124202728271,0.055965419858694,-0.157665163278580,-0.073482573032379,0.050334174185991,0.060246404260397,0.133035570383072,-0.130509153008461,0.010472813621163));
res += mul(Get(s2,0,-dy), float4x4(-0.058784332126379,-0.049300841987133,0.183129087090492,-0.049601357430220,-0.035272914916277,-0.071437977254391,-0.047957662492990,0.008902543224394,0.099091388285160,-0.139359399676323,0.041303541511297,0.001186267938465,0.043489586561918,0.121686644852161,0.054541815072298,-0.121382415294647));
res += mul(Get(s2,0,0), float4x4(-0.075236186385155,-0.067200869321823,0.054054792970419,0.267674893140793,-0.053820941597223,-0.053922176361084,-0.051010828465223,-0.127628043293953,-0.111041620373726,-0.048405691981316,0.036985516548157,0.021347373723984,-0.035977616906166,0.172667473554611,0.012131812982261,0.035560231655836));
res += mul(Get(s2,0,dy), float4x4(0.022700322791934,-0.032146204262972,0.022597247734666,0.112897709012032,0.075971052050591,-0.033966034650803,0.003951818682253,-0.073020808398724,0.015532575547695,-0.085047960281372,-0.093756660819054,0.046885222196579,-0.024850105866790,0.034704543650150,-0.032902754843235,-0.001047455123626));
res += mul(Get(s2,dx,-dy), float4x4(-0.037797063589096,0.028966289013624,0.138035163283348,0.074721515178680,0.043026838451624,0.023123160004616,-0.058290716260672,0.045152649283409,0.202433630824089,-0.048939771950245,-0.080102652311325,0.018517186865211,-0.035298597067595,-0.070965290069580,-0.005383539479226,-0.045504707843065));
res += mul(Get(s2,dx,0), float4x4(-0.149789482355118,-0.054933205246925,0.217262327671051,-0.009747153148055,-0.080284699797630,-0.074221521615982,-0.027129009366035,-0.004169628489763,0.020527644082904,-0.030197251588106,-0.059009451419115,0.041414253413677,-0.076698862016201,0.040237158536911,-0.102837376296520,-0.093889683485031));
res += mul(Get(s2,dx,dy), float4x4(-0.077272005379200,-0.052452851086855,0.099528983235359,0.007863764651120,0.082641564309597,0.218716487288475,-0.055551256984472,-0.049474488943815,-0.052470702677965,-0.040781430900097,-0.075568661093712,0.087807387113571,0.087897829711437,0.040947400033474,-0.079706318676472,-0.061058353632689));
res += mul(Get(s3,-dx,-dy), float4x4(0.122591502964497,0.003615841036662,-0.035588424652815,-0.040298257023096,-0.023896152153611,-0.006973166950047,-0.027434779331088,0.155741378664970,0.107642605900764,0.049460176378489,-0.097432330250740,0.031950179487467,-0.098348557949066,-0.067026026546955,0.004646237939596,0.025182295590639));
res += mul(Get(s3,-dx,0), float4x4(0.035398308187723,-0.043028384447098,-0.101532243192196,0.022452849894762,0.054379571229219,0.102875985205173,-0.097663640975952,0.087034605443478,-0.008038693107665,-0.063889257609844,0.015996307134628,-0.006758120376617,-0.001224874169566,-0.054900046437979,0.008488085120916,-0.028877397999167));
res += mul(Get(s3,-dx,dy), float4x4(0.165653631091118,-0.223419502377510,-0.047230545431376,0.136774897575378,0.195847392082214,-0.041843030601740,-0.016200760379434,-0.076673939824104,-0.106515921652317,-0.128744125366211,0.124039851129055,0.001911522005685,-0.086210235953331,0.060625724494457,-0.013328845612705,-0.125558748841286));
res += mul(Get(s3,0,-dy), float4x4(-0.006672209128737,-0.047740790992975,0.042053636163473,0.100671797990799,-0.028494762256742,-0.051936503499746,0.016218841075897,-0.047360349446535,0.023605640977621,0.070321634411812,0.156037688255310,0.009636810980737,0.011323305778205,-0.016273079439998,0.116221778094769,-0.019558757543564));
res += mul(Get(s3,0,0), float4x4(0.002748039318249,-0.018592368811369,-0.019340980798006,-0.015633543953300,0.051155548542738,0.091466210782528,0.155292794108391,0.032322056591511,0.023231158033013,-0.023446077480912,-0.060605220496655,0.026097655296326,0.039878565818071,-0.057739991694689,-0.044710904359818,0.034426439553499));
res += mul(Get(s3,0,dy), float4x4(-0.013819799758494,-0.192179247736931,0.097755908966064,0.163982570171356,-0.034225240349770,-0.100970424711704,0.028852514922619,-0.018475688993931,0.036350961774588,-0.124347969889641,0.156396552920341,-0.021622342988849,-0.079668104648590,0.123348601162434,-0.060071069747210,-0.086198285222054));
res += mul(Get(s3,dx,-dy), float4x4(-0.024732392281294,0.024386463686824,0.031943477690220,-0.018179904669523,-0.165859431028366,-0.094969093799591,0.081903085112572,-0.051925301551819,-0.054382089525461,0.217010453343391,-0.014699015766382,-0.096914634108543,-0.048661570996046,0.049509026110172,0.233578860759735,-0.027068430557847));
res += mul(Get(s3,dx,0), float4x4(0.041814010590315,0.100642167031765,-0.138988301157951,-0.045024093240499,-0.015849862247705,0.055191032588482,0.057269129902124,0.014878376387060,-0.091226451098919,0.140082150697708,-0.025248993188143,-0.085956037044525,0.032746840268373,0.064556747674942,0.179233729839325,0.013403899036348));
res += mul(Get(s3,dx,dy), float4x4(0.080766953527927,-0.040924679487944,0.025826672092080,0.176343083381653,-0.112045809626579,-0.163088336586952,0.064715497195721,-0.035516973584890,-0.043562415987253,0.040182538330555,-0.057636328041553,-0.015878943726420,0.036650799214840,0.062158010900021,-0.062784604728222,-0.052513953298330));
return max(float4(0,0,0,0), res);
}
