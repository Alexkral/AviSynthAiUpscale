sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.033230945467949,0.128405600786209,-0.110405206680298,-0.047819159924984,0.022042127326131,0.041413243860006,-0.011435496620834,-0.009930807165802,0.034776423126459,-0.020740330219269,-0.000225203169975,0.076917961239815,-0.069493733346462,-0.038446359336376,0.058052849024534,0.201242059469223));
res += mul(Get(s0,-dx,0), float4x4(-0.237922042608261,0.154880374670029,-0.089293472468853,-0.159211859107018,-0.110165171325207,0.138882339000702,-0.089016713202000,0.081500314176083,0.057712864130735,0.014063737355173,0.001075894339010,0.104298666119576,0.150273308157921,-0.053426701575518,-0.022333234548569,0.123268961906433));
res += mul(Get(s0,-dx,dy), float4x4(-0.032975364476442,-0.223993882536888,0.417307168245316,-0.371819257736206,-0.005727820098400,-0.001173816272058,-0.079990305006504,0.040801048278809,-0.112326659262180,-0.002173114800826,-0.012711372226477,-0.041620694100857,0.101655364036560,-0.047932896763086,-0.065947987139225,0.080679126083851));
res += mul(Get(s0,0,-dy), float4x4(0.204721793532372,0.126295372843742,-0.061694663017988,-0.217897191643715,0.168316498398781,-0.059737723320723,0.044814597815275,-0.164703980088234,-0.109527781605721,0.011650481261313,-0.009355291724205,-0.015817115083337,-0.226852983236313,-0.060303889214993,-0.083155997097492,0.099189899861813));
res += mul(Get(s0,0,0), float4x4(-0.127478301525116,0.109231881797314,-0.118811026215553,0.292148709297180,0.144422754645348,-0.005430423188955,-0.030526336282492,-0.085445962846279,0.066862277686596,0.042516980320215,-0.018570529296994,-0.018232479691505,-0.094962604343891,-0.089187867939472,-0.152096986770630,0.201338261365891));
res += mul(Get(s0,0,dy), float4x4(-0.182432249188423,-0.172677218914032,0.382391899824142,0.171115204691887,-0.004160398151726,-0.042903296649456,-0.081542305648327,-0.008649669587612,-0.027576295658946,0.041413534432650,-0.052745580673218,-0.115351535379887,-0.030127668753266,-0.098828583955765,-0.194312795996666,0.105978354811668));
res += mul(Get(s0,dx,-dy), float4x4(0.431667387485504,-0.118411794304848,0.193120017647743,-0.229456976056099,-0.101642899215221,0.011920714750886,0.111634880304337,0.035119939595461,-0.141957402229309,-0.030515454709530,-0.011206806637347,0.024989305064082,0.217156350612640,-0.006431066896766,0.103588648140430,-0.172303318977356));
res += mul(Get(s0,dx,0), float4x4(0.237975597381592,-0.077725753188133,-0.176278710365295,0.299505323171616,0.065227381885052,0.015763914212584,0.057671267539263,-0.053788881748915,0.120568715035915,-0.002500067930669,-0.012464055791497,-0.035363275557756,-0.017630066722631,-0.025106238201261,0.033627476543188,-0.074629262089729));
res += mul(Get(s0,dx,dy), float4x4(-0.366352945566177,-0.114951796829700,0.018948627635837,0.312320828437805,0.006586517672986,-0.025773113593459,0.028298487886786,0.001159807317890,0.130573406815529,-0.003715434344485,-0.013200368732214,-0.059384919703007,-0.411482125520706,-0.059958565980196,-0.005754413548857,-0.366812407970428));
res += mul(Get(s1,-dx,-dy), float4x4(0.302177876234055,0.009569182060659,-0.031244954094291,0.006301374174654,-0.029891297221184,-0.043990779668093,-0.066830955445766,-0.064016789197922,-0.073274016380310,0.014177073724568,0.155188977718353,0.010373591445386,-0.068618908524513,-0.017054267227650,0.034357476979494,-0.028819996863604));
res += mul(Get(s1,-dx,0), float4x4(-0.007828602567315,-0.003459822153673,0.017343511804938,0.156463682651520,-0.088338427245617,-0.004313650075346,-0.009749555028975,0.001704932539724,0.104717917740345,-0.032080780714750,-0.011868749745190,0.022014610469341,0.044190451502800,-0.012887567281723,0.008836879394948,-0.008997988887131));
res += mul(Get(s1,-dx,dy), float4x4(-0.187653765082359,-0.029095523059368,0.128569409251213,0.039117690175772,0.072290860116482,0.073079876601696,0.033229038119316,0.068790383636951,0.137253254652023,-0.014298222959042,-0.124710731208324,0.078191637992859,0.069130204617977,0.023653946816921,-0.000791744620074,-0.011779111810029));
res += mul(Get(s1,0,-dy), float4x4(0.083061017096043,-0.032278783619404,0.017591519281268,-0.074656710028648,-0.034538075327873,-0.042797133326530,0.056992128491402,-0.056711483746767,-0.111387290060520,0.019769417122006,0.164108440279961,-0.045269999653101,-0.063857480883598,-0.010009990073740,0.050850398838520,-0.009818197228014));
res += mul(Get(s1,0,0), float4x4(-0.009321325458586,-0.011897671036422,-0.029827915132046,-0.044397950172424,-0.051967840641737,0.007415996864438,-0.045313984155655,-0.015368291176856,0.040120691061020,-0.005712727550417,-0.011461840011179,0.021331375464797,-0.014258760027587,-0.009032098576427,0.028379892930388,-0.005196752026677));
res += mul(Get(s1,0,dy), float4x4(-0.256781011819839,-0.006664950400591,0.006680521182716,-0.003952419850975,0.062519989907742,0.045696970075369,-0.046042043715715,0.068498857319355,0.095040142536163,-0.006972886621952,-0.073599316179752,0.023107536137104,0.052624773234129,0.010550384409726,0.001349990721792,0.001069278456271));
res += mul(Get(s1,dx,-dy), float4x4(-0.159770131111145,-0.047942418605089,0.082216456532478,-0.110950492322445,-0.026930965483189,0.034542053937912,0.035284612327814,0.013879748061299,-0.030191240832210,0.028780544176698,0.100358247756958,-0.088083624839783,-0.048809744417667,-0.008702767081559,0.027358811348677,-0.002373647177592));
res += mul(Get(s1,dx,0), float4x4(0.157930240035057,-0.026117555797100,0.038468752056360,-0.264164209365845,-0.043193481862545,0.027933875098825,-0.032258808612823,-0.034261301159859,0.069203294813633,-0.046982467174530,-0.044272188097239,-0.056651294231415,-0.036077231168747,-0.005549598019570,0.041331082582474,0.001707614515908));
res += mul(Get(s1,dx,dy), float4x4(0.190323457121849,-0.023824429139495,0.008111251518130,-0.141752347350121,0.008998562581837,0.021087951958179,-0.018309112638235,0.033212542533875,0.090552367269993,-0.045789957046509,-0.083803318440914,-0.008565583266318,0.034538500010967,0.013475769199431,0.014746781438589,0.011141018010676));
res += mul(Get(s2,-dx,-dy), float4x4(0.058979667723179,0.052747834473848,0.035009078681469,-0.023688524961472,-0.219035878777504,-0.066114328801632,-0.023997720330954,0.134215429425240,-0.118693843483925,0.065935268998146,-0.025709372013807,0.153014987707138,-0.203694820404053,0.079626858234406,0.119867578148842,-0.260520279407501));
res += mul(Get(s2,-dx,0), float4x4(-0.182250261306763,-0.004367950372398,0.054451558738947,0.120435580611229,0.067476719617844,-0.134340882301331,-0.126858338713646,-0.058629088103771,0.030991781502962,0.036158248782158,0.239706784486771,-0.120907410979271,-0.099236987531185,-0.056275643408298,0.138902321457863,-0.221609801054001));
res += mul(Get(s2,-dx,dy), float4x4(-0.247585356235504,0.013110752217472,0.107777670025826,0.150729015469551,0.243798151612282,-0.028365146368742,-0.214605361223221,-0.102964960038662,0.098795630037785,-0.023213496431708,0.113567508757114,-0.121331028640270,0.477802217006683,-0.048472329974174,-0.222243294119835,-0.044453319162130));
res += mul(Get(s2,0,-dy), float4x4(0.074552454054356,0.015045802108943,0.033306300640106,-0.034907095134258,-0.057903468608856,-0.097861833870411,-0.075484991073608,0.001041474053636,0.093098431825638,0.050785351544619,-0.029598725959659,-0.140476137399673,-0.275733053684235,0.084774725139141,0.074457913637161,0.339967131614685));
res += mul(Get(s2,0,0), float4x4(-0.006669298280030,0.026608956977725,-0.011077475734055,-0.026419490575790,-0.052740704268217,-0.207965061068535,-0.173467233777046,-0.036923564970493,0.018712330609560,0.064216315746307,0.066713973879814,-0.180897653102875,-0.310353994369507,-0.034767609089613,0.172320678830147,-0.025899438187480));
res += mul(Get(s2,0,dy), float4x4(-0.099331781268120,0.047001797705889,0.043446373194456,0.084028549492359,0.118081517517567,-0.103771947324276,-0.217593222856522,-0.027101444080472,-0.033965822309256,-0.099125377833843,-0.125182226300240,-0.170750901103020,0.142783299088478,-0.013035958632827,-0.178325280547142,-0.273956537246704));
res += mul(Get(s2,dx,-dy), float4x4(-0.084386870265007,-0.057013772428036,-0.069085061550140,-0.085329852998257,0.239987805485725,-0.071596801280975,0.149872094392776,-0.187699541449547,0.048387296497822,0.217121377587318,-0.002551063895226,0.160335704684258,-0.068895742297173,-0.028024112805724,-0.205916360020638,0.298158377408981));
res += mul(Get(s2,dx,0), float4x4(0.156926989555359,-0.013294843956828,-0.134796008467674,-0.176428601145744,0.128757312893867,-0.155968666076660,0.067792184650898,-0.070551201701164,-0.070150986313820,0.179806530475616,-0.024458436295390,0.143565833568573,-0.180944323539734,0.005259667057544,0.036414545029402,-0.016997080296278));
res += mul(Get(s2,dx,dy), float4x4(0.227568656206131,0.005339608062059,-0.023066505789757,-0.054328773170710,-0.044519074261189,-0.087620802223682,0.027358347550035,0.113981738686562,-0.096244931221008,-0.077955670654774,-0.328030824661255,-0.045834362506866,0.080415636301041,0.077890515327454,0.088745966553688,0.030805299058557));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000676018884405,0.064499333500862,0.008711776696146,0.007986675947905,-0.000847797724418,-0.000560408167075,0.000318737758789,-0.032320514321327,-0.209938824176788,0.134233102202415,0.283688396215439,-0.118940360844135,0.082738041877747,0.000639921694528,0.055936321616173,-0.032525666058064));
res += mul(Get(s3,-dx,0), float4x4(0.086087360978127,0.026223000138998,-0.042506061494350,-0.003732914570719,-0.003481941763312,0.002529498422518,0.010092488490045,-0.013011069968343,-0.201630353927612,0.208516389131546,-0.101674906909466,0.083953656256199,-0.022598607465625,0.003004092955962,0.052880275994539,0.056862846016884));
res += mul(Get(s3,-dx,dy), float4x4(0.037700265645981,0.024311410263181,-0.107980728149414,-0.178134068846703,-0.011268580332398,-0.008519655093551,0.038205035030842,-0.052189834415913,-0.161138340830803,-0.043866567313671,-0.152011334896088,-0.054042663425207,-0.050746977329254,0.042428359389305,0.083657898008823,-0.072200208902359));
res += mul(Get(s3,0,-dy), float4x4(-0.155227541923523,0.017432242631912,0.072884984314442,-0.016572861000896,0.003108248580247,-0.018489032983780,0.018976878374815,-0.003686487441882,-0.000606061890721,0.102366514503956,0.234806373715401,-0.070309303700924,0.029497766867280,-0.035858482122421,0.031380124390125,0.065163530409336));
res += mul(Get(s3,0,0), float4x4(0.070279553532600,-0.050233155488968,0.095025539398193,0.075846970081329,-0.012962420471013,-0.025393260642886,0.016168650239706,0.000977738527581,0.106032632291317,0.119184635579586,-0.237285703420639,0.025440458208323,-0.003603543387726,-0.040101360529661,0.022390734404325,0.088676340878010));
res += mul(Get(s3,0,dy), float4x4(0.238367557525635,-0.017879774793983,-0.207229033112526,-0.040717542171478,-0.067779295146465,-0.010594693943858,0.025188315659761,0.003869617590681,-0.082713089883327,-0.062679275870323,-0.248611718416214,0.004140627104789,-0.020424954593182,0.036709647625685,0.075398340821266,-0.039305020123720));
res += mul(Get(s3,dx,-dy), float4x4(-0.329889059066772,-0.038726601749659,0.081437364220619,0.395548522472382,0.013136903755367,-0.003849048865959,0.004907538183033,0.017042621970177,0.010940711013973,0.138083085417747,0.090265952050686,-0.028653148561716,0.029766447842121,-0.021924063563347,-0.006823218893260,0.077093511819839));
res += mul(Get(s3,dx,0), float4x4(-0.075961470603943,-0.115046843886375,0.171248555183411,0.090075358748436,0.028897220268846,-0.010821178555489,0.018216677010059,0.003856052178890,0.182267516851425,0.025892874225974,-0.300236612558365,-0.161470860242844,-0.046210873872042,-0.015827400609851,-0.038356322795153,0.102336071431637));
res += mul(Get(s3,dx,dy), float4x4(0.242832407355309,-0.055270865559578,-0.206516191363335,-0.194620683789253,-0.015283484943211,-0.009271715767682,0.001477551879361,0.016970790922642,0.150944381952286,-0.103243909776211,-0.258555948734283,-0.116835243999958,-0.031433731317520,0.036333527415991,0.030943548306823,0.098392285406590));
return max(float4(0,0,0,0), res);
}
