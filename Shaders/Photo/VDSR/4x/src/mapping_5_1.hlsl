sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.078660324215889,-0.214312180876732,-0.010472830384970,-0.095464803278446,-0.133359730243683,-0.193120867013931,-0.016639348119497,0.089840628206730,0.011399893090129,0.388746976852417,0.039581544697285,-0.007897355593741,0.099255293607712,-0.076281853020191,0.097776904702187,0.005964939948171));
res += mul(Get(s0,-dx,0), float4x4(-0.126837313175201,-0.077499926090240,-0.010617912746966,-0.117177590727806,0.085014350712299,0.025036485865712,0.040423244237900,0.040531307458878,0.048942826688290,0.097467876970768,-0.057626433670521,-0.118612751364708,-0.246569156646729,0.023915350437164,0.169129058718681,-0.102633871138096));
res += mul(Get(s0,-dx,dy), float4x4(-0.291138052940369,-0.109097085893154,0.093880221247673,-0.084620326757431,0.062820248305798,0.066901512444019,0.153371140360832,-0.124366134405136,0.040265716612339,0.079982571303844,-0.062973909080029,-0.149997085332870,0.195371806621552,-0.076445519924164,0.074603363871574,-0.062239300459623));
res += mul(Get(s0,0,-dy), float4x4(0.209246486425400,-0.163779512047768,0.042999602854252,-0.086806043982506,0.131580516695976,0.173024475574493,-0.011880944482982,-0.037662498652935,-0.026725061237812,0.118179738521576,0.064536713063717,0.033613909035921,-0.122232362627983,0.104980476200581,-0.077149234712124,0.147815689444542));
res += mul(Get(s0,0,0), float4x4(0.105458885431290,-0.289422333240509,0.256950259208679,-0.046111170202494,0.113119073212147,-0.058753404766321,-0.182800143957138,0.101385056972504,0.098519697785378,0.083133421838284,0.021253818646073,-0.160717904567719,0.043909136205912,0.145495042204857,-0.119620122015476,0.140891358256340));
res += mul(Get(s0,0,dy), float4x4(-0.065605841577053,0.162767887115479,-0.230243101716042,0.110241934657097,-0.046236436814070,0.205568403005600,0.102224320173264,-0.206637099385262,0.135672092437744,-0.122358664870262,-0.049992401152849,0.069914303719997,-0.015717115253210,-0.058689232915640,-0.137502074241638,0.026237562298775));
res += mul(Get(s0,dx,-dy), float4x4(-0.031793899834156,-0.126214012503624,0.145198196172714,0.093947291374207,0.059897780418396,0.192255392670631,0.118085995316505,-0.205297604203224,0.004490043036640,0.016253344714642,0.115503236651421,0.098192252218723,0.043369952589273,-0.070128850638866,0.136343061923981,0.138394594192505));
res += mul(Get(s0,dx,0), float4x4(-0.002050624694675,-0.081073768436909,0.042210366576910,-0.061746209859848,0.036614712327719,0.059422034770250,-0.014758792705834,0.115626104176044,-0.127266392111778,0.022248551249504,-0.112174049019814,0.088345237076283,-0.100591756403446,-0.086945235729218,0.015553207136691,-0.170494452118874));
res += mul(Get(s0,dx,dy), float4x4(-0.051339063793421,0.139082536101341,-0.058392595499754,-0.167008474469185,-0.133000239729881,0.003052583662793,0.178753092885017,0.016628269106150,-0.119927823543549,-0.166252568364143,0.137161314487457,-0.084953069686890,0.072481416165829,-0.116738699376583,0.062757402658463,0.274093985557556));
res += mul(Get(s1,-dx,-dy), float4x4(-0.152830481529236,0.161981195211411,0.029567232355475,0.079641789197922,0.076734974980354,-0.023001462221146,0.100276999175549,0.052651852369308,-0.126060798764229,0.008410799317062,-0.034102402627468,0.108823619782925,0.018237115815282,-0.005200032610446,-0.035543274134398,-0.121869549155235));
res += mul(Get(s1,-dx,0), float4x4(-0.004296244122088,0.045764546841383,-0.111464783549309,0.025187632068992,0.187392458319664,0.077617831528187,-0.134832039475441,-0.003325890516862,0.121507115662098,0.187506780028343,0.099889047443867,-0.229462414979935,-0.109783686697483,0.047827858477831,-0.096788808703423,0.059674233198166));
res += mul(Get(s1,-dx,dy), float4x4(-0.193270727992058,-0.025345152243972,-0.111564643681049,0.060964960604906,0.158652633428574,0.013481695204973,-0.191447645425797,-0.138018757104874,-0.032724477350712,-0.117821738123894,-0.266057014465332,0.152575969696045,-0.005611830856651,0.070144779980183,0.231870070099831,-0.111097209155560));
res += mul(Get(s1,0,-dy), float4x4(-0.016941703855991,0.039585862308741,-0.203618213534355,0.025226872414351,-0.076801598072052,0.211073011159897,0.043545037508011,-0.119005501270294,-0.098982423543930,-0.050870012491941,0.033727657049894,-0.021281978115439,0.062547430396080,0.058993879705667,-0.016751945018768,-0.017131550237536));
res += mul(Get(s1,0,0), float4x4(0.095608003437519,0.126241430640221,0.038425900042057,-0.022765135392547,-0.251377165317535,0.314930140972137,0.165636062622070,0.096783883869648,0.090580217540264,0.030105469748378,-0.073980212211609,-0.007798263803124,-0.034871805459261,-0.002152550034225,0.174235284328461,-0.131792962551117));
res += mul(Get(s1,0,dy), float4x4(0.005652578081936,-0.031055448576808,-0.036528684198856,0.183720961213112,-0.057298198342323,-0.131445303559303,0.079692818224430,0.012109045870602,0.032354872673750,-0.168508917093277,-0.103314600884914,0.117327123880386,0.022123601287603,-0.082097738981247,0.013652480207384,-0.055598478764296));
res += mul(Get(s1,dx,-dy), float4x4(0.060035329312086,0.018279403448105,-0.104818999767303,0.060817703604698,0.045782756060362,0.090162381529808,0.052489653229713,-0.173329561948776,-0.173175945878029,0.032485842704773,0.166638433933258,-0.076669149100780,0.233234331011772,-0.249954372644424,0.095195971429348,0.043134659528732));
res += mul(Get(s1,dx,0), float4x4(0.129245027899742,0.153817191720009,0.013796537183225,-0.024537354707718,-0.002499563619494,-0.018261527642608,0.053511060774326,0.058910325169563,-0.071909956634045,0.010849718004465,0.112930566072464,0.023618958890438,-0.013480836525559,-0.009392086416483,-0.087404094636440,-0.016143359243870));
res += mul(Get(s1,dx,dy), float4x4(0.123939387500286,-0.025716997683048,-0.069231621921062,-0.110438108444214,-0.107010267674923,-0.141892209649086,-0.021643258631229,-0.038127616047859,-0.041348423808813,-0.055667884647846,-0.048227958381176,-0.289607852697372,-0.198665827512741,-0.001967732328922,-0.031019333750010,0.305783599615097));
res += mul(Get(s2,-dx,-dy), float4x4(0.057970855385065,-0.014569074846804,0.239378944039345,-0.017490116879344,-0.171185150742531,-0.024144299328327,0.081168062984943,0.051111560314894,0.019166085869074,0.021143488585949,-0.080412127077579,0.105159498751163,-0.139074951410294,0.035517740994692,-0.031623076647520,0.012325973249972));
res += mul(Get(s2,-dx,0), float4x4(-0.056200172752142,0.061590719968081,-0.013671563938260,-0.048673100769520,0.043120045214891,-0.029805166646838,-0.051712207496166,-0.025107711553574,-0.315135538578033,-0.045819740742445,-0.169584080576897,0.037596121430397,-0.133686065673828,0.051998808979988,-0.015405749902129,0.199900954961777));
res += mul(Get(s2,-dx,dy), float4x4(0.155150964856148,-0.074005424976349,-0.128839299082756,-0.006178376264870,0.134999424219131,-0.043200902640820,-0.035607296973467,-0.139737471938133,-0.077389985322952,0.032854355871677,-0.024892628192902,-0.055014126002789,-0.148762941360474,-0.066407762467861,0.047237142920494,-0.071963548660278));
res += mul(Get(s2,0,-dy), float4x4(0.026158545166254,-0.030062321573496,0.291048437356949,-0.062093198299408,0.061342962086201,0.183581933379173,-0.030651528388262,-0.016274686902761,-0.034228075295687,0.051555816084146,0.009954299777746,0.046614687889814,-0.123463995754719,0.030081056058407,-0.095846638083458,0.019524302333593));
res += mul(Get(s2,0,0), float4x4(0.099026829004288,-0.105700969696045,0.111860238015652,-0.040606342256069,0.007603199686855,-0.109892807900906,0.097607374191284,-0.052206609398127,-0.083999216556549,-0.128887251019478,-0.139832660555840,0.180999055504799,-0.183706641197205,0.074263215065002,-0.048316705971956,0.161933362483978));
res += mul(Get(s2,0,dy), float4x4(0.014971028082073,0.284552812576294,0.047154337167740,0.042521446943283,-0.206540063023567,0.044489428400993,0.147967979311943,0.187737658619881,-0.126877695322037,-0.230209857225418,-0.038387078791857,-0.056937977671623,-0.058474827557802,0.137114688754082,-0.084264576435089,-0.069458268582821));
res += mul(Get(s2,dx,-dy), float4x4(0.114737980067730,0.124146103858948,-0.057809412479401,0.029486294835806,0.052542727440596,-0.103409282863140,-0.015296265482903,0.235791683197021,0.145328670740128,0.052875697612762,-0.206259280443192,0.009025342762470,0.224958688020706,0.049372591078281,0.113650493323803,-0.212390869855881));
res += mul(Get(s2,dx,0), float4x4(-0.089341975748539,0.096784323453903,-0.117081381380558,-0.006564206909388,-0.047243166714907,-0.079155057668686,-0.037680480629206,-0.003821560181677,-0.054304741322994,0.039967492222786,0.059256758540869,0.025894727557898,-0.099117241799831,-0.063977681100368,-0.025426520034671,0.315389811992645));
res += mul(Get(s2,dx,dy), float4x4(0.012250630185008,0.108845405280590,0.209373176097870,0.079453945159912,-0.042163837701082,-0.074833080172539,0.065914995968342,0.048901181668043,-0.113077923655510,0.059883967041969,0.147093579173088,-0.019719270989299,-0.033165115863085,0.276617974042892,0.082935042679310,-0.231874808669090));
res += mul(Get(s3,-dx,-dy), float4x4(-0.107977673411369,0.011229477822781,-0.038636498153210,0.111697308719158,-0.066018983721733,0.048890918493271,0.030495429411530,-0.007681297603995,0.082870684564114,-0.038611374795437,0.050726301968098,0.211389839649200,-0.016916474327445,-0.222304254770279,0.065714694559574,-0.082619130611420));
res += mul(Get(s3,-dx,0), float4x4(-0.055723682045937,-0.044350937008858,0.067750193178654,-0.007363176438957,-0.074132978916168,0.317991465330124,-0.093008704483509,-0.037072591483593,-0.046118896454573,0.010885933414102,0.138173609972000,0.165533915162086,0.079975143074989,0.087887845933437,-0.023128073662519,-0.039705049246550));
res += mul(Get(s3,-dx,dy), float4x4(-0.072317004203796,-0.017984380945563,-0.263531833887100,-0.004962021950632,0.034524552524090,0.001164825749584,-0.092768415808678,0.005039296578616,-0.092022851109505,0.007432042155415,-0.096710219979286,-0.073590233922005,0.225453376770020,0.091653041541576,-0.114567950367928,-0.021241793408990));
res += mul(Get(s3,0,-dy), float4x4(-0.085409052670002,-0.028574572876096,0.104526206851006,0.071594998240471,-0.015915896743536,0.016741598024964,-0.059603448957205,-0.122382842004299,0.100180700421333,0.164269238710403,0.259130477905273,0.026741959154606,-0.091738760471344,0.123726896941662,0.104527011513710,0.090140260756016));
res += mul(Get(s3,0,0), float4x4(0.100018806755543,0.056154403835535,0.068818263709545,-0.002062894636765,-0.241959333419800,0.043763861060143,-0.017600951716304,0.028564490377903,-0.028927072882652,-0.001408590003848,0.162749215960503,-0.078291766345501,-0.083764582872391,0.101495705544949,-0.009709241800010,0.032682899385691));
res += mul(Get(s3,0,dy), float4x4(-0.009138200432062,0.024297514930367,0.224944844841957,0.025572048500180,0.039934501051903,0.218152999877930,0.184706002473831,0.038604866713285,0.025513229891658,-0.001340501708910,0.087332151830196,0.008954854682088,0.064336091279984,0.323093980550766,-0.000587513844948,0.059645392000675));
res += mul(Get(s3,dx,-dy), float4x4(-0.067951075732708,-0.106343075633049,0.190459966659546,0.126178830862045,0.004602164961398,0.043816458433867,-0.172177255153656,-0.023779438808560,0.042876310646534,0.176720693707466,0.159310564398766,-0.053381431847811,-0.035762988030910,0.135413318872452,-0.069841302931309,0.014297856949270));
res += mul(Get(s3,dx,0), float4x4(0.127986460924149,-0.045160897076130,0.033443897962570,-0.041116237640381,0.047083690762520,-0.022719820961356,-0.146307185292244,-0.034870646893978,-0.005690449383110,-0.065881885588169,0.056838504970074,0.095247216522694,-0.093768745660782,0.013003483414650,0.180982545018196,0.031556263566017));
res += mul(Get(s3,dx,dy), float4x4(0.107429228723049,0.040982421487570,0.225939467549324,-0.126691117882729,-0.138666242361069,0.009552727453411,-0.010220864787698,-0.194112226366997,-0.290327757596970,-0.115458503365517,-0.080996140837669,-0.062293868511915,-0.130808830261230,-0.053740102797747,-0.016904663294554,0.006166821345687));
return max(float4(0,0,0,0), res);
}
