sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.388592213392258,0.365946948528290,-0.299963057041168,-0.132439762353897,0.263729423284531,0.075512498617172,-0.138287961483002,-0.120499469339848,-0.035554248839617,-0.142189189791679,-0.015124257653952,-0.033225301653147,0.176941752433777,-0.084395080804825,-0.055193815380335,0.165958672761917));
res += mul(Get(s0,-dx,0), float4x4(-0.058776233345270,0.284051895141602,0.290582090616226,-0.140547290444374,0.053033627569675,-0.058862913399935,0.049746375530958,-0.119221389293671,-0.051120568066835,0.015051199123263,-0.078267231583595,0.020370606333017,-0.084164306521416,0.031051028519869,-0.086146339774132,0.277030318975449));
res += mul(Get(s0,-dx,dy), float4x4(-0.177717432379723,0.078767910599709,-0.051141012459993,-0.070940397679806,0.013836790807545,-0.088280297815800,-0.008588605560362,-0.212407901883125,-0.043981067836285,-0.059581689536572,-0.016705891117454,0.071943342685699,-0.165814489126205,0.031344197690487,-0.121174402534962,0.182310253381729));
res += mul(Get(s0,0,-dy), float4x4(0.383092254400253,0.615706622600555,-0.075745552778244,-0.255730152130127,0.323754757642746,0.096118591725826,0.089818768203259,-0.204900264739990,-0.019243966788054,-0.105542510747910,0.025718228891492,-0.018844269216061,0.165548503398895,-0.132088646292686,-0.160455569624901,-0.068248182535172));
res += mul(Get(s0,0,0), float4x4(-0.083739325404167,-0.056008007377386,0.425284415483475,-0.234534412622452,0.021121971309185,-0.015373107977211,0.020708542317152,-0.063200175762177,-0.010073693469167,0.057738289237022,-0.056401293724775,0.043520584702492,-0.006408167071640,0.057300277054310,-0.121469751000404,-0.089074239134789));
res += mul(Get(s0,0,dy), float4x4(-0.116563066840172,-0.425011396408081,0.223926112055779,-0.004896215628833,-0.019087197259068,-0.000889359915163,-0.116317808628082,-0.012064686045051,-0.024300510063767,0.037006027996540,0.002159607363865,-0.003755678422749,-0.060805760324001,0.142359912395477,-0.057411301881075,-0.162063151597977));
res += mul(Get(s0,dx,-dy), float4x4(0.186882391571999,0.223437353968620,0.168177694082260,-0.035627480596304,0.103775307536125,-0.114985764026642,0.011064438149333,-0.139425992965698,0.023117318749428,-0.103635497391224,-0.005832212977111,0.061772316694260,0.128612115979195,-0.093476489186287,0.150830566883087,0.000220971705858));
res += mul(Get(s0,dx,0), float4x4(-0.182602718472481,-0.224662244319916,-0.364188015460968,0.370236694812775,-0.092143155634403,-0.108373485505581,0.163179129362106,-0.061192989349365,0.064956463873386,0.074567072093487,-0.096016772091389,0.172381520271301,-0.113000094890594,0.138230785727501,0.217869699001312,-0.007660316769034));
res += mul(Get(s0,dx,dy), float4x4(-0.159247741103172,-0.475569188594818,-0.259832441806793,0.606943786144257,-0.036259878426790,0.027733778581023,0.052669677883387,-0.060925245285034,0.043416015803814,0.098766900599003,-0.039637181907892,0.036985218524933,-0.175856113433838,0.154601797461510,0.170390412211418,0.209678858518600));
res += mul(Get(s1,-dx,-dy), float4x4(-0.072527065873146,0.100734427571297,0.041202925145626,-0.046400893479586,-0.041313931345940,0.021949147805572,-0.011203565634787,-0.065585568547249,0.082914851605892,-0.177715569734573,-0.026107078418136,-0.047325003892183,0.074529461562634,-0.070960551500320,-0.003994395025074,-0.020945975556970));
res += mul(Get(s1,-dx,0), float4x4(-0.194509759545326,-0.036589812487364,0.003141522873193,-0.102998435497284,0.015420096926391,-0.116712309420109,-0.043918408453465,0.040631767362356,-0.006642135325819,-0.008732566609979,-0.111416883766651,-0.029947653412819,0.072314083576202,-0.042628385126591,-0.043353479355574,-0.056132253259420));
res += mul(Get(s1,-dx,dy), float4x4(-0.156569570302963,-0.192468687891960,0.073555819690228,-0.020362587645650,0.007601177785546,0.050625193864107,0.032438013702631,-0.001817323383875,-0.137148782610893,0.070360317826271,-0.152577131986618,-0.031476885080338,0.083334319293499,-0.021935783326626,-0.056511081755161,-0.038737926632166));
res += mul(Get(s1,0,-dy), float4x4(-0.047589547932148,0.037424057722092,0.164648130536079,-0.117588981986046,0.026770364493132,-0.094461746513844,0.013067294843495,0.021381624042988,0.183840245008469,-0.153403654694557,-0.033913772553205,-0.004567251075059,0.091417357325554,-0.056550845503807,0.025584166869521,-0.030384013429284));
res += mul(Get(s1,0,0), float4x4(-0.193347781896591,0.051388282328844,-0.013561144471169,0.000600314582698,0.064275041222572,-0.035720530897379,-0.129477337002754,0.085701018571854,0.096239410340786,0.002768668113276,-0.020266827195883,-0.025636117905378,0.107239648699760,-0.028753314167261,-0.008259520865977,-0.057326346635818));
res += mul(Get(s1,0,dy), float4x4(-0.169110938906670,-0.053914289921522,0.172085121273994,0.006963464431465,-0.020028769969940,0.128215774893761,0.007277681957930,0.007897825911641,-0.091414399445057,0.034859005361795,0.038863990455866,-0.061315424740314,0.116595029830933,-0.008094335906208,-0.044033177196980,-0.040283925831318));
res += mul(Get(s1,dx,-dy), float4x4(0.011319049634039,-0.130215644836426,0.053130485117435,0.108556933701038,0.056367777287960,0.013868971727788,0.082890495657921,-0.095283962786198,0.184966310858727,-0.005885279271752,-0.064583845436573,0.027949344366789,0.062512792646885,-0.061175398528576,-0.002243670634925,-0.016998227685690));
res += mul(Get(s1,dx,0), float4x4(-0.071139506995678,0.026787966489792,-0.089674606919289,0.263719052076340,0.003070259932429,0.126188561320305,-0.041244670748711,-0.030106779187918,0.061233066022396,0.048469774425030,-0.006809825543314,-0.008503206074238,0.095185749232769,-0.015962624922395,0.026011452078819,-0.042221974581480));
res += mul(Get(s1,dx,dy), float4x4(-0.044121380895376,0.060943033546209,0.009310064837337,0.082511432468891,-0.044193390756845,0.170152649283409,-0.012727523222566,-0.105859160423279,-0.026376234367490,0.033401172608137,-0.020635256543756,-0.027489138767123,0.127780184149742,-0.007615539245307,-0.035112250596285,-0.046500012278557));
res += mul(Get(s2,-dx,-dy), float4x4(-0.081495575606823,0.122332856059074,-0.003134804079309,-0.316989898681641,0.222292616963387,-0.044100277125835,0.115466184914112,0.053163517266512,0.180201858282089,-0.124329492449760,-0.287195593118668,-0.087844528257847,0.079146832227707,-0.197941362857819,0.311359792947769,-0.094135284423828));
res += mul(Get(s2,-dx,0), float4x4(-0.082890860736370,-0.068978399038315,0.032294996082783,-0.267880082130432,0.022960646077991,-0.087610833346844,-0.098051764070988,0.010916033759713,-0.020341828465462,-0.002833937294781,-0.062753051519394,-0.173658981919289,0.030659595504403,0.001254470436834,-0.138830289244652,-0.277517378330231));
res += mul(Get(s2,-dx,dy), float4x4(-0.078123144805431,-0.143868833780289,0.080149695277214,-0.132859066128731,-0.122073076665401,0.092711903154850,-0.121671609580517,0.053344473242760,0.062236815690994,0.170952320098877,0.130503103137016,-0.269238054752350,-0.086140736937523,-0.028351442888379,-0.226779699325562,0.011277299374342));
res += mul(Get(s2,0,-dy), float4x4(-0.042961183935404,-0.044429302215576,0.099358104169369,-0.000465145625640,0.133397787809372,-0.041959065943956,-0.077583074569702,-0.012700240127742,0.093967057764530,-0.345996439456940,-0.083187483251095,-0.118191137909889,-0.020464582368731,-0.241056755185127,0.223438084125519,-0.265052169561386));
res += mul(Get(s2,0,0), float4x4(-0.087702639400959,-0.067388534545898,0.050352610647678,0.074319079518318,0.021307898685336,-0.026362352073193,-0.149908646941185,-0.074396401643753,-0.126212731003761,0.008907972835004,-0.099880002439022,-0.206382945179939,-0.066106729209423,-0.137473002076149,0.089088797569275,-0.055018302053213));
res += mul(Get(s2,0,dy), float4x4(-0.116513960063457,-0.076912812888622,0.070403389632702,0.042896948754787,-0.007274069823325,0.108164541423321,-0.035466667264700,0.165197625756264,-0.044757805764675,0.077772513031960,-0.111915975809097,-0.158769100904465,-0.201516941189766,-0.013162001036108,0.017497859895229,0.140900164842606));
res += mul(Get(s2,dx,-dy), float4x4(0.110872723162174,-0.111855365335941,-0.056179162114859,0.124272003769875,0.090915843844414,-0.142486453056335,0.256273597478867,0.039226233959198,0.059142012149096,0.089772664010525,0.205005556344986,-0.105116114020348,-0.061978273093700,-0.160122126340866,-0.582557141780853,0.113320134580135));
res += mul(Get(s2,dx,0), float4x4(0.072838939726353,-0.006640619598329,-0.076473131775856,0.242557227611542,0.000433799490565,-0.074093014001846,0.226325646042824,-0.129666835069656,-0.196695372462273,0.199644058942795,0.318369060754776,-0.118914499878883,-0.080770775675774,-0.124911993741989,-0.115848481655121,0.457225829362869));
res += mul(Get(s2,dx,dy), float4x4(-0.006264057010412,0.049612551927567,0.019464524462819,0.086697787046432,0.092859350144863,-0.005670525133610,0.257115811109543,0.092802993953228,-0.102165788412094,-0.037911120802164,-0.080300137400627,-0.065121613442898,-0.249915748834610,0.121251031756401,0.329588055610657,0.228421360254288));
res += mul(Get(s3,-dx,-dy), float4x4(0.043706018477678,0.298948585987091,-0.168402463197708,0.008403817191720,0.020792223513126,0.033605866134167,-0.031670253723860,-0.004252746235579,0.304694145917892,0.215270295739174,-0.035412374883890,-0.154280677437782,-0.168776631355286,0.147078543901443,0.128258049488068,-0.006223070900887));
res += mul(Get(s3,-dx,0), float4x4(-0.025848820805550,0.028803868219256,-0.076312996447086,0.005541828460991,-0.003405196126550,0.001377229113132,0.007181642111391,-0.008832989260554,0.053585056215525,0.101277507841587,0.039496138691902,-0.172206819057465,-0.134494453668594,-0.105881474912167,0.057816151529551,0.016055382788181));
res += mul(Get(s3,-dx,dy), float4x4(-0.129309937357903,-0.148535817861557,0.385938823223114,-0.185435518622398,-0.015624510124326,-0.015498607419431,0.003469831543043,-0.012124776840210,-0.303454905748367,0.137591019272804,0.083687111735344,-0.149374663829803,0.004654010757804,-0.049739040434361,0.050538074225187,-0.108762197196484));
res += mul(Get(s3,0,-dy), float4x4(0.101186476647854,-0.021811662241817,0.421845048666000,-0.112953275442123,0.015869440510869,0.054117027670145,0.034746572375298,-0.079863026738167,0.429613918066025,0.057485271245241,-0.053372256457806,-0.125946357846260,-0.173117369413376,0.021744012832642,0.061797596514225,-0.037383586168289));
res += mul(Get(s3,0,0), float4x4(-0.006663967855275,-0.057310033589602,-0.240007415413857,0.014379663392901,-0.014144913293421,0.010459604673088,0.017747476696968,-0.049201153218746,0.066293537616730,0.084868520498276,-0.017192056402564,-0.061589106917381,-0.114129185676575,-0.118323743343353,0.053413197398186,-0.000262946181465));
res += mul(Get(s3,0,dy), float4x4(-0.171328619122505,-0.065972231328487,-0.260781317949295,0.007285313215107,-0.013028876855969,-0.020178314298391,0.041752632707357,-0.028550857678056,-0.321452766656876,-0.027334734797478,0.106659054756165,0.057657912373543,-0.004681761376560,-0.014153592288494,0.090932615101337,-0.090909443795681));
res += mul(Get(s3,dx,-dy), float4x4(0.077628456056118,-0.327240228652954,0.523779451847076,-0.151112198829651,-0.030421471223235,0.057349476963282,0.029705252498388,-0.020883815363050,0.394165128469467,0.053427778184414,-0.166438937187195,0.109639249742031,-0.167090758681297,0.029068674892187,0.063850715756416,-0.069106496870518));
res += mul(Get(s3,dx,0), float4x4(-0.037678569555283,-0.119559064507484,-0.106715634465218,0.177768275141716,-0.039294920861721,0.054593455046415,0.009279080666602,0.001724238740280,0.021678112447262,0.135559692978859,-0.007291876245290,0.126634910702705,-0.098364308476448,-0.024964330717921,0.026614814996719,0.001435069483705));
res += mul(Get(s3,dx,dy), float4x4(-0.238588884472847,0.009882248938084,-0.282506793737411,0.244144663214684,-0.038233973085880,0.036002218723297,-0.008791853673756,0.005626762285829,-0.213968709111214,0.051506873220205,-0.034520387649536,0.156645864248276,-0.008598540909588,0.003843580372632,0.049427587538958,-0.085300877690315));
return max(float4(0,0,0,0), res);
}
