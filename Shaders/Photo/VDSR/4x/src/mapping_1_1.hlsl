sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001067688805051,-0.002248047152534,0.001945150084794,0.001971643185243,-0.346714645624161,0.037107113748789,0.049530453979969,-0.376024961471558,-0.001029195263982,0.006332675926387,-0.004828327335417,-0.003875720780343,0.000999886658974,0.005697698798031,-0.003457300830632,0.004704941995442));
res += mul(Get(s0,-dx,0), float4x4(-0.004931074567139,-0.005633597262204,-0.000451941596111,-0.003552745794877,0.351854532957077,0.088132739067078,0.249839037656784,-0.370539486408234,0.001000159420073,0.000098132040875,0.001400834415108,0.000131350403535,-0.001374368788674,-0.004488050937653,-0.004308964125812,0.002624857937917));
res += mul(Get(s0,-dx,dy), float4x4(-0.001218214514665,-0.002866897499189,0.001179241342470,-0.000463290198240,-0.058300264179707,-0.132010519504547,0.202462956309319,-0.415300101041794,0.004264891613275,0.002746489597484,0.001100766006857,0.002634382108226,-0.003617075737566,-0.000661552650854,0.004413219634444,0.001844783895649));
res += mul(Get(s0,0,-dy), float4x4(0.000994753092527,-0.003178752260283,-0.003017750335857,0.000285092217382,0.069793820381165,0.237424626946449,-0.004500242881477,-0.295454859733582,-0.004907309077680,0.001544856349938,-0.006688148248941,0.000290612195386,-0.004366718698293,-0.000650963047519,-0.007000611629337,-0.000618949881755));
res += mul(Get(s0,0,0), float4x4(-0.000595991208684,-0.000682496582158,-0.006084462627769,-0.005382633302361,-0.238015085458755,0.317373991012573,0.121409639716148,-0.079227462410927,0.003826618893072,-0.001302396296524,-0.002536295913160,-0.004027214366943,-0.003150290576741,-0.001617382047698,-0.003492519492283,0.000462729076389));
res += mul(Get(s0,0,dy), float4x4(-0.003754636272788,-0.003327204845846,-0.000404779304517,0.001043782802299,-0.357704013586044,0.157472699880600,0.031035929918289,-0.289608597755432,-0.005548887420446,-0.001483220490627,-0.003613559529185,-0.000667400192469,-0.006345729343593,0.000168353304616,-0.002469639759511,-0.003000940429047));
res += mul(Get(s0,dx,-dy), float4x4(-0.001792581868358,-0.008069904521108,-0.002818320645019,-0.005167390685529,0.111085459589958,-0.257962197065353,-0.129455715417862,0.488286495208740,-0.001756106270477,-0.003197842044756,-0.000373418879462,-0.002612939337268,0.001528085791506,-0.000770610291511,0.007740395609289,0.004120575729758));
res += mul(Get(s0,dx,0), float4x4(-0.005140180233866,-0.004824298899621,0.001419282751158,0.000269365031272,0.034053813666105,-0.268471360206604,-0.041986845433712,1.062229156494141,-0.009097044356167,-0.004325808491558,0.002736344235018,0.000266514281975,0.000328789756168,0.007684355136007,0.003321279771626,0.000324441876728));
res += mul(Get(s0,dx,dy), float4x4(0.003929310478270,-0.004781435243785,0.001633743639104,-0.000081078287621,0.376533031463623,-0.169606402516365,-0.150080591440201,0.787139058113098,-0.001371769118123,0.003321303520352,-0.002803874202073,-0.000920055201277,-0.000153399989358,-0.005468680523336,0.004231851547956,0.000130996937514));
res += mul(Get(s1,-dx,-dy), float4x4(0.014190734364092,-0.006771360523999,0.002272296929732,-0.063587151467800,0.000156339126988,0.002152291359380,0.000926311244257,0.000526215939317,0.006019501015544,0.002260941779241,0.002366614528000,0.002298002131283,-0.083371482789516,-0.099454797804356,0.025556627660990,0.029382120817900));
res += mul(Get(s1,-dx,0), float4x4(-0.136950016021729,0.014150728471577,0.000352259346982,-0.038828738033772,-0.004590577445924,-0.003139073960483,0.008034431375563,-0.001909564947709,0.004129900131375,-0.001644951174967,0.001697502098978,-0.007393390405923,-0.221901163458824,-0.011054066009820,0.059163514524698,0.033854331821203));
res += mul(Get(s1,-dx,dy), float4x4(0.037454243749380,0.012072666548193,-0.001331937965006,-0.015783801674843,-0.000134889924084,-0.009230633266270,-0.003347816877067,-0.004460494033992,-0.005495694000274,-0.001412797952071,0.000278393941699,-0.001298862975091,0.030093405395746,0.004165740683675,0.005986972711980,0.014968593604863));
res += mul(Get(s1,0,-dy), float4x4(-0.207814931869507,0.006493363995105,0.020504146814346,-0.013904093764722,0.005696487147361,0.004599423147738,-0.003448355477303,-0.011958832852542,-0.008990462869406,0.000162626311067,0.002119756303728,-0.001236303360201,-0.165016189217567,-0.099310755729675,0.016480917111039,0.058808606117964));
res += mul(Get(s1,0,0), float4x4(-0.118274495005608,0.050655972212553,0.060254640877247,-0.022310534492135,-0.001892088330351,-0.001269890461117,0.002270135795698,-0.000911525974516,-0.003142340341583,-0.001409361837432,0.004143239930272,0.001404319191352,-0.238972932100296,0.001180391525850,0.042465288192034,0.009932598099113));
res += mul(Get(s1,0,dy), float4x4(-0.112627118825912,0.011497096158564,0.071360178291798,-0.021693196147680,0.001250407774933,0.000875943282153,0.001577189192176,-0.008216158486903,0.001754117431119,-0.006401141174138,0.001524957362562,-0.003199251368642,0.024146609008312,-0.002745580626652,-0.009938444010913,-0.023437170311809));
res += mul(Get(s1,dx,-dy), float4x4(0.086194328963757,-0.033887453377247,-0.013767799362540,-0.027015548199415,-0.000366656691767,-0.004610910080373,-0.004779500421137,-0.002028053393587,0.002045754110441,-0.000264644011622,-0.005097282119095,-0.000801627931651,-0.031099764630198,-0.089493744075298,0.013710869476199,0.096452184021473));
res += mul(Get(s1,dx,0), float4x4(-0.094141162931919,0.001653223647736,0.006052588578314,-0.036717645823956,-0.003707125550136,-0.000927224697080,-0.002337465994060,-0.006018784362823,-0.003773728618398,0.005918730515987,0.008615255355835,-0.003157953266054,-0.158192515373230,-0.017798142507672,0.038336973637342,0.025206720456481));
res += mul(Get(s1,dx,dy), float4x4(-0.071073733270168,-0.063767679035664,-0.004629218950868,-0.057751540094614,-0.000245623203227,0.002506102435291,0.002514374908060,-0.002038029022515,0.000974439608399,0.001947901560925,0.007740858942270,-0.004803419578820,0.027678214013577,0.002069695619866,-0.000561133900192,-0.028014326468110));
res += mul(Get(s2,-dx,-dy), float4x4(0.000020949708414,-0.003980446141213,0.008176952600479,-0.008076113648713,0.005417975597084,-0.025801483541727,0.002698336960748,0.006993094459176,0.010320798493922,0.002958712400869,-0.000559051346499,0.005786129739136,-0.287951052188873,0.145438015460968,-0.118076473474503,-0.406146615743637));
res += mul(Get(s2,-dx,0), float4x4(-0.000094368580903,-0.002523982431740,-0.003040352603421,0.000539703352842,-0.045512150973082,0.001790132839233,0.007062946446240,-0.001466259825975,0.002333594486117,0.007870975881815,-0.005237041041255,-0.002410615328699,-0.732665777206421,0.195708379149437,-0.166714325547218,-0.368099272251129));
res += mul(Get(s2,-dx,dy), float4x4(0.004198065958917,-0.002934200922027,-0.002611194271594,-0.007535848766565,0.004350318107754,-0.000025066385206,-0.004392957314849,0.008062558248639,0.000729256600607,0.001158139319159,-0.002336609875783,0.001697787200101,-0.044839158654213,-0.264452904462814,-0.161646485328674,-0.348619908094406));
res += mul(Get(s2,0,-dy), float4x4(-0.004738769028336,0.003105005482212,0.003468121169135,-0.000026775118386,-0.036319144070148,-0.018859175965190,0.003069063415751,0.013220507651567,-0.004448847379535,0.001742349471897,0.004011719487607,-0.002883711596951,0.146932870149612,-0.006741511635482,-0.125407710671425,-0.048014450818300));
res += mul(Get(s2,0,0), float4x4(0.003775926074013,-0.000721179647371,0.005090106278658,0.002534427912906,-0.062717579305172,0.001309338142164,0.003288530046120,-0.006028817500919,-0.001243546605110,0.003169980132952,-0.009863900952041,-0.000527002499439,1.075110435485840,-0.029965555295348,0.031978413462639,0.028178796172142));
res += mul(Get(s2,0,dy), float4x4(-0.003977174405009,-0.007896550931036,-0.000066691674874,0.002525243908167,0.002242682734504,0.002971097594127,-0.001502621220425,-0.009669902734458,-0.004650420509279,-0.004066289402544,-0.003973718732595,0.006204796489328,-0.307075142860413,-0.559212446212769,-0.100364163517952,0.218070790171623));
res += mul(Get(s2,dx,-dy), float4x4(0.005922114010900,0.001409827149473,-0.001728529226966,-0.000199914284167,-0.039384376257658,-0.036075789481401,-0.000247738847975,0.016599241644144,0.003461957210675,0.002338621532544,-0.002812836086378,0.000963397324085,0.204095229506493,0.413047283887863,-0.217855840921402,0.150285407900810));
res += mul(Get(s2,dx,0), float4x4(-0.000940645288210,0.006359533872455,0.002978021511808,0.000622504623607,-0.063215978443623,0.001405691145919,0.005556319374591,-0.007556726224720,-0.000232862643315,0.002451590728015,-0.006749527994543,-0.004807214252651,1.054658770561218,0.411646127700806,-0.148989915847778,0.040245059877634));
res += mul(Get(s2,dx,dy), float4x4(-0.010866886936128,-0.000008712013368,0.005592928733677,0.003555636387318,0.007473712787032,0.001606620731764,0.010055360384285,-0.001171892625280,-0.000880026316736,0.001058074063621,0.000751474581193,-0.004064123611897,-0.726552844047546,-0.450881540775299,-0.226329818367958,0.438573271036148));
res += mul(Get(s3,-dx,-dy), float4x4(0.008193464949727,0.010549513623118,0.004395586438477,0.003272789763287,-0.104960486292839,-0.112553432583809,0.055902753025293,-0.062312431633472,0.110867731273174,-0.189977958798409,0.018328513950109,0.057271804660559,-0.274871677160263,0.009026783518493,-0.065544933080673,0.044453203678131));
res += mul(Get(s3,-dx,0), float4x4(-0.065548025071621,-0.012973112985492,0.029087211936712,0.024005966261029,-0.141510039567947,0.007541630417109,0.187767639756203,-0.015097312629223,-0.198308452963829,-0.036097254604101,0.026655819267035,0.023351604118943,-0.319035410881042,0.037080299109221,-0.012416550889611,0.079187683761120));
res += mul(Get(s3,-dx,dy), float4x4(-0.012105021625757,0.034765142947435,0.039876084774733,0.012314615771174,0.116777405142784,0.027798401191831,0.097297318279743,0.040856834501028,0.323484033346176,-0.003108112607151,0.010092315264046,-0.021623868495226,-0.184635594487190,0.001401364570484,-0.010864979587495,0.033406998962164));
res += mul(Get(s3,0,-dy), float4x4(0.017921544611454,0.005468574818224,0.007903538644314,-0.026784621179104,-0.029457129538059,-0.166803985834122,0.070876993238926,-0.041847463697195,0.033185470849276,-0.205136716365814,0.080114036798477,-0.003260442521423,-0.077063322067261,0.123168587684631,0.107201792299747,-0.200131669640541));
res += mul(Get(s3,0,0), float4x4(-0.043753363192081,-0.006642703898251,0.025740247219801,-0.007208080496639,-0.090233527123928,-0.034418832510710,0.109330199658871,-0.051781468093395,-0.200545758008957,-0.022028278559446,0.155894905328751,-0.067065194249153,0.214492097496986,0.141246140003204,0.168251886963844,-0.198122173547745));
res += mul(Get(s3,0,dy), float4x4(0.006123776547611,0.040404539555311,0.027098188176751,-0.020518133416772,0.214125961065292,-0.046791195869446,0.014464206993580,-0.076843515038490,0.093813136219978,0.001529489876702,0.053930100053549,-0.123157531023026,0.185392364859581,0.055423364043236,0.155388727784157,-0.259956508874893));
res += mul(Get(s3,dx,-dy), float4x4(0.010597228072584,-0.004504591226578,0.003100589616224,-0.033914770931005,0.164159268140793,-0.157412365078926,0.033258799463511,0.169198706746101,-0.167668446898460,-0.149238169193268,0.031637039035559,0.074211075901985,0.047961652278900,0.075209572911263,-0.015102489851415,0.023647466674447));
res += mul(Get(s3,dx,0), float4x4(-0.007661892101169,-0.021284459158778,0.011124427430332,0.003367383498698,-0.026604875922203,-0.051055166870356,0.062800005078316,0.112729892134666,-0.187919929623604,0.045059353113174,0.069321990013123,-0.066391929984093,-0.161124244332314,0.104607559740543,0.047298964112997,0.073659814894199));
res += mul(Get(s3,dx,dy), float4x4(-0.006429243367165,0.030539320781827,0.031837545335293,0.005837114993483,0.085751175880432,0.003922413103282,-0.023062694817781,-0.033586043864489,0.250236868858337,0.041272748261690,0.006124016828835,-0.131742760539055,-0.019690198823810,0.088588401675224,0.022195758298039,-0.015155077911913));
return max(float4(0,0,0,0), res);
}
