sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.001303857658058,0.002563450718299,0.002101158723235,0.004993768408895,-0.237741127610207,-0.252080351114273,-0.073099605739117,-0.419461935758591,-0.000120295386296,-0.003995012491941,0.001571226748638,0.001239383243956,0.003270253539085,0.002989211119711,-0.002831474877894,0.005497771780938));
res += mul(Get(s0,-dx,0), float4x4(0.005679505411536,-0.002026553731412,0.004464197903872,0.000497826724313,0.380393981933594,-0.758808553218842,-0.132617518305779,-0.437712132930756,0.007114273030311,0.003051144070923,0.004667535424232,-0.000591583200730,0.000688457628712,-0.002578240819275,-0.006058609113097,0.002467345679179));
res += mul(Get(s0,-dx,dy), float4x4(0.000458729307866,0.003901185002178,0.000647980370559,-0.000365434680134,0.506318688392639,-0.902408301830292,0.090763144195080,0.754389107227325,0.002871978096664,-0.002823158400133,0.005973978433758,-0.005410421639681,-0.005693858489394,-0.001898662536405,0.000124787533423,-0.002664122963324));
res += mul(Get(s0,0,-dy), float4x4(0.000987563282251,0.001229290501215,-0.004758388269693,0.003675329964608,0.021322382614017,0.223570555448532,0.023178348317742,0.280464589595795,-0.005766429938376,-0.004202604293823,-0.000262307934463,-0.004462561104447,0.001696357387118,0.002553928177804,0.004352314863354,-0.003480870276690));
res += mul(Get(s0,0,0), float4x4(-0.003957622684538,-0.003166981274262,-0.000505397852976,-0.003341971896589,0.337101340293884,-0.040117971599102,0.046553000807762,-0.261858999729156,0.001657348009758,0.000816989457235,0.000692504865583,0.000614198681433,-0.003565113293007,0.004579457454383,0.004742617718875,-0.000596650294028));
res += mul(Get(s0,0,dy), float4x4(-0.000410962733440,-0.005250398069620,-0.000094072849606,0.001454757293686,0.367563515901566,-0.442668914794922,0.167526409029961,0.099222160875797,0.006688683293760,-0.006505105644464,0.000913869414944,0.002536576008424,-0.000366839522030,-0.001209193258546,0.000339062768035,-0.006287024356425));
res += mul(Get(s0,dx,-dy), float4x4(-0.003838496515527,0.005650420207530,-0.001416760496795,-0.004323857370764,-0.342576354742050,0.889699757099152,-0.200989350676537,0.032397128641605,0.001899012131616,-0.000699671043549,-0.003024853067473,0.005185376852751,0.005443768110126,-0.002604164415970,0.004594911355525,-0.000401976227295));
res += mul(Get(s0,dx,0), float4x4(-0.004908380564302,0.003391935257241,-0.001066054217517,0.003995068836957,-0.394572287797928,0.975867390632629,-0.250141263008118,-0.240679964423180,-0.003690720768645,0.000230528414249,0.002573723671958,-0.000074349984061,0.003563837846741,-0.002571241930127,0.000819539884105,0.007318419404328));
res += mul(Get(s0,dx,dy), float4x4(0.002234082203358,0.001191408373415,0.001409769640304,-0.001004437799565,-0.322925031185150,0.568534135818481,-0.381220310926437,-0.009565230458975,0.002270922297612,0.005314118228853,-0.001903489930555,0.002558777807280,0.005224923137575,0.000217930210056,0.000183114156243,-0.005553671158850));
res += mul(Get(s1,-dx,-dy), float4x4(0.093468539416790,-0.006249344907701,0.115582130849361,-0.058489151299000,-0.001819817349315,-0.003874726360664,0.007291761226952,-0.001374540035613,0.001360311871395,0.000129440333694,0.004462501034141,0.001907427445985,0.057211603969336,-0.025363635271788,-0.055321734398603,0.083049558103085));
res += mul(Get(s1,-dx,0), float4x4(0.102507822215557,-0.003890884341672,0.186633318662643,-0.045960344374180,0.000848011870403,-0.005165226757526,-0.002216778462753,-0.004428145475686,0.001195747288875,0.000082428538008,0.001491496688686,0.004383614286780,-0.013567139394581,0.019734062254429,-0.069182917475700,-0.035524111241102));
res += mul(Get(s1,-dx,dy), float4x4(0.068228803575039,0.116255313158035,0.252238005399704,-0.073446214199066,-0.005594967398793,-0.002024830086157,-0.001879021408968,0.002670336049050,-0.006201309151947,0.001508488552645,-0.003685032948852,-0.000481876399135,-0.020149694755673,0.006450530141592,-0.044844079762697,-0.145823374390602));
res += mul(Get(s1,0,-dy), float4x4(-0.169846251606941,0.000236938780290,-0.049388628453016,-0.207654327154160,0.001961622852832,0.003073814557865,0.002188785234466,0.000228898541536,-0.001364339375868,0.000581964908633,-0.003024796256796,0.001930287806317,0.012306739576161,0.049999684095383,-0.058789737522602,0.077303200960159));
res += mul(Get(s1,0,0), float4x4(-0.113506384193897,-0.028839880600572,-0.036611068993807,-0.097638674080372,0.003126213792711,-0.005248352419585,0.000849331612699,0.000533469894435,-0.003472892800346,0.003147147363052,-0.003863063640893,-0.004058809019625,-0.067198581993580,0.046781379729509,-0.067188292741776,-0.096663422882557));
res += mul(Get(s1,0,dy), float4x4(-0.071969874203205,0.063136361539364,-0.043740596622229,0.050879001617432,-0.006887088529766,-0.000406907987781,-0.000441674375907,0.002190151019022,0.001274947309867,0.006716391537338,-0.001247733714990,0.003989996854216,-0.020013470202684,-0.002705204300582,-0.062581554055214,-0.126661092042923));
res += mul(Get(s1,dx,-dy), float4x4(-0.165199816226959,0.015046929940581,0.139147460460663,-0.033665388822556,0.002700304612517,-0.005754322744906,-0.000493888743222,-0.002068266039714,0.002513793064281,-0.002779274247587,0.001465379726142,0.002986120758578,-0.011872184462845,0.073027938604355,-0.081096731126308,-0.054852075874805));
res += mul(Get(s1,dx,0), float4x4(-0.144058510661125,-0.020185032859445,0.210977181792259,-0.040440138429403,0.003157752100378,0.004839259199798,-0.003444910980761,0.000044433960284,-0.001657818327658,0.000864155299496,-0.004258460830897,-0.006733143702149,-0.073699168860912,0.036343585699797,-0.068109139800072,-0.069906748831272));
res += mul(Get(s1,dx,dy), float4x4(-0.129626020789146,0.063512206077576,0.254192054271698,-0.030820114538074,-0.003532987553626,0.002273354213685,0.006266664247960,-0.001570456661284,-0.004026021342725,0.002888908144087,0.002856697188690,-0.001262767822482,-0.008058538660407,-0.029216652736068,-0.037366062402725,-0.092972524464130));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003757651196793,-0.000398394535296,0.003923732321709,0.002194473752752,0.004878841806203,-0.012640697881579,-0.014217871241271,-0.006300209555775,-0.000378089869628,0.005302373785526,-0.000501505623106,0.002282698173076,0.288530290126801,-0.268776774406433,1.300301074981689,0.210881620645523));
res += mul(Get(s2,-dx,0), float4x4(-0.003653879975900,0.001991156954318,0.005712307989597,-0.001052332576364,-0.006582828238606,0.000720952986740,-0.012182420119643,-0.027358068153262,-0.003287050407380,0.004806152544916,-0.008719570003450,-0.001449167844839,0.215803846716881,-0.118640191853046,1.448843121528625,-0.336783051490784));
res += mul(Get(s2,-dx,dy), float4x4(0.004309376236051,0.004083810839802,0.001906530000269,-0.000306731264573,-0.004996463656425,-0.004143919795752,-0.010332806035876,-0.038178738206625,-0.004419136792421,0.000701581302565,-0.005424698814750,0.001554667134769,0.507962346076965,-0.553474128246307,0.623891890048981,-0.563227057456970));
res += mul(Get(s2,0,-dy), float4x4(0.002827923512086,0.002230091020465,-0.004796823021024,-0.003668014192954,0.002040740568191,-0.004300758708268,-0.010472992435098,0.011717298999429,0.006912292446941,-0.005200092215091,0.001712198834866,0.008131677284837,-0.300419509410858,-0.178994730114937,-0.402856707572937,-0.288431137800217));
res += mul(Get(s2,0,0), float4x4(0.001262492965907,0.003672716207802,-0.001394325634465,0.000866676855367,-0.002643305109814,-0.004798890091479,-0.007817652076483,-0.030772954225540,0.006005106028169,-0.004677190445364,-0.002450295956805,0.003366218879819,-0.237223237752914,-0.055003158748150,-0.498315215110779,0.037744022905827));
res += mul(Get(s2,0,dy), float4x4(0.001476258621551,-0.005109215620905,0.000839349173475,0.010968150570989,-0.000230969511904,-0.006794881075621,-0.007112314924598,-0.041209973394871,-0.005737177096307,-0.004618321079761,-0.000489454367198,-0.008044313639402,0.039585314691067,-0.208602488040924,-0.585996329784393,0.859501183032990));
res += mul(Get(s2,dx,-dy), float4x4(0.001534357666969,-0.004394376650453,0.001345246448182,-0.001999348634854,-0.000650085275993,0.011401131749153,-0.012806531973183,0.009810062125325,-0.007462458685040,-0.006256712600589,-0.003095216816291,-0.006084440741688,-0.213560000061989,0.492236793041229,-0.513986468315125,-0.595454931259155));
res += mul(Get(s2,dx,0), float4x4(-0.004041938576847,0.001281031873077,-0.003522027516738,-0.001189568080008,-0.022397289052606,-0.000454942899523,0.003559622913599,-0.032479874789715,0.003114136867225,-0.003979686647654,0.006874948274344,-0.004252949263901,-0.131580337882042,0.345119774341583,-0.619048595428467,-0.233206436038017));
res += mul(Get(s2,dx,dy), float4x4(-0.000713406712748,0.009479656815529,-0.004662749823183,0.005243481136858,-0.003266336396337,-0.004915403667837,0.000018803264538,-0.029495734721422,0.001188205089420,0.010567225515842,0.011153480038047,0.000567162467632,-0.141877621412277,0.313977599143982,-0.315199643373489,1.092568039894104));
res += mul(Get(s3,-dx,-dy), float4x4(-0.019612301141024,0.025269027799368,-0.011982939206064,-0.034002397209406,0.087724708020687,-0.135783553123474,-0.041876230388880,0.086876161396503,-0.050034839659929,-0.074582859873772,-0.052564874291420,0.084075823426247,-0.121275074779987,0.039208859205246,0.006595328915864,-0.156535714864731));
res += mul(Get(s3,-dx,0), float4x4(-0.005096806678921,0.040996115654707,-0.016026904806495,-0.002098038792610,0.076674990355968,0.011756615713239,-0.119579449295998,0.078931614756584,-0.109385378658772,0.148545578122139,0.054509375244379,0.028983680531383,-0.110828876495361,-0.023386800661683,0.047026257961988,-0.175930500030518));
res += mul(Get(s3,-dx,dy), float4x4(-0.008456694893539,0.051674243062735,-0.008284166455269,-0.057013928890228,-0.040493518114090,0.071501828730106,-0.114859133958817,-0.115594677627087,-0.060347646474838,0.057974472641945,-0.066296152770519,-0.307273656129837,-0.120897427201271,0.109777048230171,0.077187709510326,-0.184915006160736));
res += mul(Get(s3,0,-dy), float4x4(0.015709871426225,0.005999007262290,-0.035919293761253,-0.008077454753220,0.150634318590164,-0.075663641095161,-0.013514898717403,0.156728118658066,0.017271682620049,-0.078487843275070,-0.221788033843040,0.303928971290588,-0.052407432347536,0.000521830166690,-0.280783295631409,-0.019888008013368));
res += mul(Get(s3,0,0), float4x4(-0.002173114335164,0.045824617147446,-0.025375973433256,0.001801308244467,0.032771404832602,0.004025191534311,-0.095347508788109,-0.004622227977961,-0.013388116843998,0.033861201256514,-0.075042665004730,0.188623145222664,0.023100001737475,-0.062816821038723,-0.335055857896805,0.086975842714310));
res += mul(Get(s3,0,dy), float4x4(0.005113063845783,0.053958151489496,-0.016209127381444,-0.059165447950363,-0.026817969977856,-0.024501798674464,-0.173673480749130,-0.106556534767151,0.040826544165611,-0.066416263580322,0.051146142184734,-0.093481965363026,0.071178510785103,-0.010160593315959,-0.287763148546219,0.132028087973595));
res += mul(Get(s3,dx,-dy), float4x4(0.014166244305670,-0.005829046946019,-0.022251613438129,-0.011794519610703,0.137702301144600,0.121972694993019,-0.014920053072274,0.057068448513746,-0.091240756213665,0.037198398262262,0.040232516825199,-0.066017732024193,-0.234611675143242,0.009292705915868,-0.061632074415684,0.128253176808357));
res += mul(Get(s3,dx,0), float4x4(-0.000557505351026,0.045733984559774,-0.018281381577253,0.008710076101124,-0.039058383554220,0.104522235691547,-0.055365357547998,0.173655658960342,-0.165747910737991,0.027533801272511,0.183796495199203,-0.047739710658789,-0.202376335859299,0.002064057393000,0.029041644185781,-0.027703162282705));
res += mul(Get(s3,dx,dy), float4x4(-0.012515104375780,0.084594212472439,-0.007490538060665,-0.049683962017298,0.002796671353281,-0.048121362924576,-0.119136996567249,0.084374681115150,-0.036099497228861,-0.094073973596096,0.313009083271027,-0.050983797758818,-0.231001108884811,0.098889075219631,0.111353658139706,-0.239764526486397));
return max(float4(0,0,0,0), res);
}
