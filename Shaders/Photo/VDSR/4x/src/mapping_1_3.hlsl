sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.026103522628546,0.098318092525005,0.095951959490776,0.028039868921041,-0.142175748944283,-0.038376707583666,0.023823987692595,0.130539059638977,0.087848819792271,-0.061600513756275,0.152820244431496,-0.070159636437893,-0.066304057836533,0.136719897389412,-0.068097978830338,0.088168501853943));
res += mul(Get(s0,-dx,0), float4x4(-0.029828352853656,0.019847268238664,0.356628060340881,0.075454130768776,0.148223027586937,0.104403205215931,0.069978877902031,-0.070163629949093,0.068710975348949,0.013679294846952,-0.146609529852867,0.147694870829582,-0.116594851016998,-0.064105160534382,0.283619046211243,-0.106482841074467));
res += mul(Get(s0,-dx,dy), float4x4(-0.031353570520878,-0.251342743635178,-0.129382014274597,-0.002961604157463,0.024513766169548,-0.092079550027847,-0.055427644401789,0.108212351799011,-0.213286817073822,-0.066107161343098,-0.135446295142174,-0.005976867862046,-0.047201894223690,0.049691028892994,-0.019528204575181,-0.053401693701744));
res += mul(Get(s0,0,-dy), float4x4(-0.017400674521923,0.200429216027260,0.127553135156631,-0.040959212929010,0.138576820492744,0.123791716992855,-0.187298685312271,0.069581590592861,-0.119447790086269,-0.055168237537146,0.052039686590433,-0.045347355306149,-0.056067302823067,0.168690264225006,0.185487776994705,0.126802206039429));
res += mul(Get(s0,0,0), float4x4(-0.182726562023163,0.066081494092941,-0.054904691874981,0.224752768874168,-0.084282994270325,-0.221189320087433,0.147382512688637,0.178928941488266,0.018442325294018,0.132135063409805,-0.164725229144096,-0.008624735288322,-0.188840761780739,-0.074858941137791,-0.082878656685352,-0.027801420539618));
res += mul(Get(s0,0,dy), float4x4(-0.240911200642586,-0.098174594342709,-0.046282071620226,0.103553265333176,-0.003841101890430,-0.164798408746719,0.088583908975124,0.008739822544158,-0.098572976887226,-0.133072867989540,0.168274983763695,0.020939497277141,0.066975332796574,0.325314939022064,0.012192947790027,0.272129774093628));
res += mul(Get(s0,dx,-dy), float4x4(-0.010080635547638,-0.036723539233208,-0.113583721220493,-0.139933645725250,0.092314653098583,0.078142568469048,0.046944689005613,0.010406925342977,-0.048823527991772,0.021980827674270,-0.092259593307972,-0.007783981505781,-0.063225753605366,-0.079592674970627,0.117747627198696,0.033493738621473));
res += mul(Get(s0,dx,0), float4x4(-0.026846520602703,-0.059440176934004,0.069854527711868,0.122210107743740,-0.055518258363008,-0.038772325962782,-0.035516768693924,-0.091338604688644,-0.031913239508867,0.166827782988548,-0.060417149215937,-0.181398585438728,-0.202581107616425,-0.011728628538549,0.130819261074066,0.072361759841442));
res += mul(Get(s0,dx,dy), float4x4(0.051713395863771,-0.268033713102341,-0.294947952032089,0.032942414283752,-0.057342499494553,-0.289409488439560,-0.059871122241020,-0.118902295827866,-0.031298160552979,-0.108440190553665,-0.006485107820481,-0.022992253303528,-0.063034608960152,-0.027629438787699,-0.240623652935028,-0.028529031202197));
res += mul(Get(s1,-dx,-dy), float4x4(-0.020583508536220,0.035004653036594,-0.121709562838078,0.069103233516216,0.068488135933876,0.116557002067566,0.034126788377762,-0.146234437823296,0.008394644595683,-0.166594743728638,-0.055984828621149,-0.030176080763340,0.022698096930981,0.026872362941504,-0.017788164317608,0.054197512567043));
res += mul(Get(s1,-dx,0), float4x4(0.105151996016502,-0.054638601839542,0.133505731821060,0.150078341364861,-0.015696801245213,-0.279728859663010,-0.331372559070587,-0.068097658455372,0.034108422696590,0.142014846205711,-0.054195076227188,-0.188652694225311,-0.197719350457191,-0.115908950567245,0.033816814422607,0.044260319322348));
res += mul(Get(s1,-dx,dy), float4x4(-0.038766238838434,-0.097304806113243,-0.063587658107281,0.018024198710918,0.065175332129002,-0.068877302110195,-0.019144222140312,-0.183153152465820,-0.084146164357662,0.263861417770386,0.116944864392281,-0.002765369601548,0.000905071094166,0.056802704930305,-0.052959576249123,-0.081601329147816));
res += mul(Get(s1,0,-dy), float4x4(0.009597563184798,0.220979213714600,0.095082856714725,0.047386974096298,0.049641851335764,-0.026731822639704,0.142493277788162,0.005828912835568,-0.068968489766121,0.158353269100189,0.088685519993305,0.018008042126894,0.045670635998249,0.107088960707188,0.140076249837875,-0.167964160442352));
res += mul(Get(s1,0,0), float4x4(-0.213575661182404,0.112367063760757,0.080684877932072,-0.020602840930223,0.029005438089371,-0.100223220884800,-0.115161463618279,0.124222248792648,-0.197532996535301,0.181572288274765,0.076723366975784,-0.063555091619492,-0.140660107135773,0.230098992586136,0.189490348100662,-0.268018484115601));
res += mul(Get(s1,0,dy), float4x4(-0.017269123345613,-0.080274574458599,-0.053143188357353,-0.036761336028576,-0.042104389518499,-0.335260450839996,0.072723120450974,-0.124850802123547,0.043937623500824,0.193825021386147,0.002230246784166,0.054124355316162,0.003612227039412,0.053414758294821,-0.137671381235123,-0.009098401293159));
res += mul(Get(s1,dx,-dy), float4x4(-0.041006080806255,0.028977038338780,-0.013187917880714,0.063719272613525,-0.059939939528704,0.299669623374939,-0.064632855355740,0.053406700491905,-0.107239596545696,-0.015267004258931,-0.042974594980478,0.172443017363548,0.046832278370857,-0.124567985534668,0.073101021349430,-0.054020296782255));
res += mul(Get(s1,dx,0), float4x4(0.166460901498795,-0.068441517651081,0.099691092967987,0.092729255557060,0.083266519010067,0.182753324508667,0.086116425693035,0.062103096395731,0.084018252789974,0.192869901657104,0.104194127023220,-0.017692312598228,0.046204257756472,0.083436384797096,0.140204086899757,-0.066921971738338));
res += mul(Get(s1,dx,dy), float4x4(0.093625821173191,-0.044907737523317,-0.179226249456406,0.190164923667908,0.047483418136835,-0.095676690340042,0.237861499190331,0.052486293017864,-0.080594368278980,0.017991874366999,0.043284785002470,-0.158689960837364,0.085653178393841,-0.229690894484520,-0.006926725152880,0.044205915182829));
res += mul(Get(s2,-dx,-dy), float4x4(-0.061716876924038,-0.131962954998016,0.095483526587486,0.023741260170937,0.094317182898521,0.014344476163387,-0.168513849377632,-0.097224757075310,0.030077066272497,0.049552503973246,-0.030757952481508,-0.024151721969247,0.020392408594489,-0.073785260319710,-0.110154911875725,0.147516041994095));
res += mul(Get(s2,-dx,0), float4x4(0.144752353429794,-0.067566014826298,0.171986475586891,0.019658800214529,0.021372394636273,0.119128406047821,0.043513130396605,0.004036881495267,-0.151734739542007,-0.002592392032966,0.102443963289261,-0.052613239735365,0.014516088180244,0.014828979037702,-0.124606005847454,-0.070637561380863));
res += mul(Get(s2,-dx,dy), float4x4(0.061541415750980,0.159944847226143,-0.127297490835190,0.029845450073481,0.078901089727879,0.077541001141071,0.031413879245520,0.004397767130286,-0.019743977114558,0.036267753690481,-0.015100483782589,0.223244741559029,0.145511865615845,-0.098357059061527,0.050316244363785,-0.092821657657623));
res += mul(Get(s2,0,-dy), float4x4(0.045477226376534,-0.064469546079636,-0.016394324600697,0.141598388552666,0.089837893843651,-0.091844715178013,0.017616497352719,0.128750205039978,-0.054593149572611,-0.014979333616793,-0.262321531772614,-0.126050293445587,-0.108907580375671,-0.020042140036821,0.055533248931170,0.001901883515529));
res += mul(Get(s2,0,0), float4x4(0.023888016119599,-0.070565544068813,0.052090659737587,0.254209578037262,0.016674432903528,0.014619113877416,-0.015989767387509,0.215895041823387,0.014979560859501,-0.075551137328148,0.227526649832726,0.065208077430725,-0.060888506472111,-0.001700851251371,0.150811105966568,0.125576391816139));
res += mul(Get(s2,0,dy), float4x4(-0.113463491201401,-0.069812580943108,0.173846513032913,-0.147801131010056,-0.044958420097828,-0.057369273155928,0.124724388122559,-0.238660812377930,0.084980979561806,-0.236287772655487,0.150081127882004,-0.004442144650966,0.017358543351293,0.148084461688995,0.128595754504204,-0.037511054426432));
res += mul(Get(s2,dx,-dy), float4x4(0.148600801825523,0.097367905080318,0.047182068228722,-0.073148094117641,-0.135982915759087,0.197867095470428,0.014947550371289,0.030577417463064,-0.066120743751526,0.043209962546825,-0.002235279884189,0.051761873066425,-0.038929611444473,0.200200751423836,0.024835497140884,-0.069349154829979));
res += mul(Get(s2,dx,0), float4x4(-0.171988368034363,0.193876966834068,0.227304816246033,0.083878718316555,0.043507389724255,-0.026974538341165,-0.091451868414879,0.049208246171474,-0.017026972025633,-0.345463454723358,0.050269950181246,0.043208550661802,-0.020001443102956,-0.010831211693585,0.080392733216286,0.086609452962875));
res += mul(Get(s2,dx,dy), float4x4(0.001646146527492,0.032111767679453,0.183533012866974,-0.072547331452370,-0.118870921432972,-0.223493754863739,-0.055106334388256,-0.093230493366718,-0.201152831315994,0.299561679363251,0.037273649126291,-0.138806015253067,-0.106727704405785,0.065090902149677,-0.018827818334103,-0.022955123335123));
res += mul(Get(s3,-dx,-dy), float4x4(0.025377605110407,-0.204819172620773,-0.092947646975517,-0.120243638753891,-0.006268556695431,0.057727795094252,0.083091557025909,0.016513634473085,0.113521978259087,0.051689010113478,-0.122446954250336,0.179486051201820,-0.047820717096329,0.237657442688942,0.080590315163136,0.078086152672768));
res += mul(Get(s3,-dx,0), float4x4(0.046194922178984,0.033029459416866,-0.044546917080879,-0.036793205887079,0.042898099869490,-0.107752934098244,0.017051501199603,-0.019520891830325,0.032625209540129,-0.005425108596683,0.015024527907372,0.054152425378561,-0.096196420490742,-0.011447762139142,0.118832364678383,-0.101622074842453));
res += mul(Get(s3,-dx,dy), float4x4(-0.088242851197720,0.136492386460304,0.158326134085655,0.018645476549864,-0.057038191705942,0.202203020453453,-0.037442784756422,0.035524699836969,-0.082084201276302,0.124957278370857,-0.008713359013200,0.035878691822290,-0.011765960603952,-0.018476912751794,0.188014253973961,-0.235746398568153));
res += mul(Get(s3,0,-dy), float4x4(-0.036531452089548,0.183204099535942,-0.142465144395828,0.284724354743958,0.037340655922890,-0.072362124919891,-0.153746470808983,0.001900715171359,0.012787498533726,0.003649521619081,-0.162374541163445,0.004269184079021,-0.048952456563711,-0.025882808491588,-0.206028699874878,0.029565803706646));
res += mul(Get(s3,0,0), float4x4(-0.182310581207275,-0.041461464017630,0.059104964137077,-0.025737594813108,0.120181746780872,-0.046386498957872,0.033071335405111,0.135881051421165,0.000225930038141,-0.143041238188744,0.064568206667900,-0.129449561238289,0.062843352556229,0.011088261380792,-0.032009813934565,0.067263774573803));
res += mul(Get(s3,0,dy), float4x4(-0.018027080222964,0.181894958019257,0.078150354325771,-0.138934135437012,-0.121253140270710,-0.262031972408295,-0.062308348715305,-0.236515969038010,0.004427966661751,0.265533864498138,0.023356841877103,-0.115798614919186,-0.231908515095711,-0.125959351658821,0.075847938656807,0.085482761263847));
res += mul(Get(s3,dx,-dy), float4x4(0.005331445951015,0.161058053374290,0.038593336939812,0.041523348540068,-0.045939031988382,0.161365270614624,-0.050705403089523,-0.086758106946945,-0.001140806823969,0.219093069434166,0.022736841812730,-0.003313697641715,0.035143818706274,-0.072692736983299,-0.098471425473690,0.021059338003397));
res += mul(Get(s3,dx,0), float4x4(0.020295536145568,-0.200521394610405,-0.013141398318112,-0.097701013088226,-0.224713101983070,0.032916821539402,0.008907640352845,-0.094312511384487,-0.065145306289196,-0.036503139883280,-0.008156989701092,-0.094296231865883,-0.020966054871678,-0.163385480642319,0.054812904447317,0.095499850809574));
res += mul(Get(s3,dx,dy), float4x4(-0.079467914998531,0.185789853334427,0.247314304113388,0.000846552778967,-0.001552396337502,-0.119574382901192,-0.200495854020119,-0.080696754157543,-0.077044032514095,-0.170199275016785,-0.162813663482666,-0.056052036583424,-0.104069992899895,0.129160284996033,0.036465272307396,0.038690585643053));
return max(float4(0,0,0,0), res);
}
