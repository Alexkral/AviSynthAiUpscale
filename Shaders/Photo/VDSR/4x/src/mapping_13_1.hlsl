sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.092611193656921,0.070223502814770,-0.057499334216118,0.026678968220949,0.077064685523510,-0.094759345054626,-0.127578690648079,0.083421483635902,0.172044038772583,-0.016691558063030,-0.287746965885162,-0.040706664323807,0.109475053846836,-0.081184096634388,-0.064374685287476,0.028483523055911));
res += mul(Get(s0,-dx,0), float4x4(-0.016677500680089,0.038128558546305,-0.218445613980293,0.149611055850983,-0.051108948886395,-0.015345323830843,0.041484422981739,0.006222486030310,0.209541633725166,-0.023086547851563,0.065972819924355,0.090050652623177,-0.139298334717751,-0.107751175761223,-0.131349891424179,-0.039376288652420));
res += mul(Get(s0,-dx,dy), float4x4(0.113123692572117,0.152747064828873,0.037657018750906,0.073270641267300,-0.156549140810966,-0.102903127670288,-0.002293187193573,-0.029652962461114,-0.051881358027458,-0.130397707223892,0.093638889491558,0.046748612076044,0.084881834685802,-0.112052336335182,0.199380055069923,-0.054566059261560));
res += mul(Get(s0,0,-dy), float4x4(-0.113113917410374,-0.123458221554756,-0.004258078522980,-0.037678979337215,-0.064514234662056,0.094604082405567,-0.016492960974574,-0.047632347792387,-0.061010237783194,0.161841988563538,0.106986969709396,0.030863659456372,0.097057297825813,0.015580705367029,0.007835958153009,0.088291503489017));
res += mul(Get(s0,0,0), float4x4(0.091122023761272,0.000597500067670,-0.046603448688984,0.151926070451736,0.021876705810428,-0.071619749069214,0.027264144271612,0.068143971264362,0.062940716743469,-0.014332786202431,-0.121218793094158,-0.084128186106682,-0.071055553853512,-0.142874523997307,0.105284757912159,-0.118476323783398));
res += mul(Get(s0,0,dy), float4x4(-0.167586579918861,0.058702595531940,0.140488341450691,0.079845897853374,-0.109034903347492,-0.121732316911221,-0.029054459184408,0.034708376973867,0.130205303430557,0.011811582371593,0.178911074995995,0.153102084994316,-0.051082041114569,-0.135926604270935,0.097535476088524,-0.117210052907467));
res += mul(Get(s0,dx,-dy), float4x4(-0.084312565624714,-0.202920958399773,0.052635420113802,-0.061790116131306,-0.034707430750132,-0.035691391676664,-0.117925658822060,0.006991203408688,0.137563258409500,0.131245762109756,-0.042893055826426,-0.017397528514266,-0.121607884764671,-0.137514904141426,-0.048547338694334,-0.034228418022394));
res += mul(Get(s0,dx,0), float4x4(0.117326803505421,-0.040328595787287,0.097677342593670,-0.144641041755676,0.053647719323635,-0.035105619579554,0.007034799549729,0.119071215391159,-0.188181847333908,0.049474082887173,-0.060774900019169,0.061317831277847,0.124734900891781,0.082234784960747,-0.108938559889793,-0.124450191855431));
res += mul(Get(s0,dx,dy), float4x4(-0.020801411941648,-0.233933001756668,0.003680913941935,0.072694301605225,0.056940093636513,0.015853272750974,0.040084857493639,0.072962440550327,-0.161551609635353,0.098064564168453,0.057874966412783,-0.074042990803719,-0.128502756357193,0.068824671208858,-0.144738957285881,-0.175192221999168));
res += mul(Get(s1,-dx,-dy), float4x4(-0.120537944138050,0.057663604617119,0.079474285244942,0.089138202369213,-0.161345586180687,0.056842382997274,-0.057495184242725,-0.006656075362116,-0.061511520296335,0.010727285407484,0.032213859260082,0.095409907400608,-0.052615445107222,0.204388201236725,-0.062512539327145,0.037569876760244));
res += mul(Get(s1,-dx,0), float4x4(-0.002431776141748,-0.039890099316835,0.055983345955610,-0.047587502747774,0.003344725584611,0.166039079427719,0.051099307835102,0.156401261687279,0.039324350655079,0.026307428255677,-0.000577671511564,-0.087137795984745,-0.038666773587465,-0.049539715051651,-0.068440206348896,-0.015272287651896));
res += mul(Get(s1,-dx,dy), float4x4(0.107423961162567,-0.064335919916630,-0.316970497369766,0.081207454204559,0.071047335863113,0.064772598445415,-0.005340546369553,0.031951535493135,-0.083622783422470,0.190037816762924,0.167944028973579,0.009133489802480,-0.048805695027113,0.100073903799057,-0.046465311199427,0.047437809407711));
res += mul(Get(s1,0,-dy), float4x4(-0.013239088468254,0.065455779433250,0.133069470524788,-0.126030802726746,-0.008180580101907,0.036925703287125,-0.039939530193806,-0.033286917954683,-0.038281455636024,0.166015744209290,0.149879053235054,-0.018536655232310,-0.174231216311455,0.019877746701241,0.048725474625826,0.179292917251587));
res += mul(Get(s1,0,0), float4x4(0.020587053149939,0.196975022554398,0.053355298936367,0.050444826483727,0.094055436551571,0.003159485990182,-0.011281536892056,0.160585552453995,-0.089373111724854,0.163342371582985,-0.008050496689975,0.052211366593838,0.208423301577568,0.024101840332150,0.055026553571224,0.007980412803590));
res += mul(Get(s1,0,dy), float4x4(-0.139140129089355,-0.027232851833105,-0.199271753430367,0.108960658311844,0.004487215541303,-0.048122689127922,-0.192873820662498,-0.021380491554737,-0.067031487822533,0.030509231612086,-0.059648949652910,-0.005146053619683,0.030974905937910,-0.079225428402424,0.098376251757145,-0.032283179461956));
res += mul(Get(s1,dx,-dy), float4x4(0.206077530980110,0.118524588644505,0.074915267527103,-0.048343043774366,-0.090003520250320,0.128953427076340,0.020138129591942,0.017453249543905,0.004318566992879,-0.046716362237930,0.063998527824879,-0.175478786230087,-0.141864597797394,-0.326275765895844,-0.154942139983177,0.140704259276390));
res += mul(Get(s1,dx,0), float4x4(-0.125315725803375,0.056377328932285,0.165311947464943,-0.184197306632996,0.063608907163143,-0.032846353948116,-0.064556576311588,0.055638678371906,-0.108145155012608,-0.126149311661720,-0.125397905707359,0.007379501592368,0.171528041362762,-0.041133582592010,-0.018537543714046,-0.056227218359709));
res += mul(Get(s1,dx,dy), float4x4(-0.234770759940147,0.024951541796327,-0.044667199254036,-0.018337938934565,-0.048312325030565,-0.058981321752071,-0.254572778940201,-0.107378631830215,0.028665479272604,0.105627030134201,0.136770710349083,-0.119682610034943,0.071125768125057,0.087927527725697,-0.038861084729433,0.010628905147314));
res += mul(Get(s2,-dx,-dy), float4x4(-0.132229655981064,0.068083047866821,-0.014261463657022,0.157998055219650,-0.150601744651794,-0.128587558865547,0.072135321795940,0.073232091963291,-0.124201357364655,0.076415859162807,-0.037737999111414,-0.159670636057854,0.136519894003868,0.065982133150101,0.157010734081268,-0.104198515415192));
res += mul(Get(s2,-dx,0), float4x4(-0.179468750953674,-0.234906256198883,0.174978181719780,-0.067897729575634,-0.047741390764713,0.100482523441315,-0.129140675067902,0.066448122262955,-0.082379430532455,0.171620145440102,0.186707302927971,-0.013329835608602,-0.002542907372117,-0.051688071340322,0.142486527562141,-0.020606888458133));
res += mul(Get(s2,-dx,dy), float4x4(-0.103944428265095,-0.121652103960514,0.097746789455414,0.011692983098328,0.004339025821537,0.048315644264221,0.087352693080902,0.119696155190468,-0.082154899835587,0.119115315377712,-0.161465227603912,-0.014449853450060,-0.182346805930138,-0.019648818299174,0.135253340005875,0.049374714493752));
res += mul(Get(s2,0,-dy), float4x4(0.196741566061974,-0.103683732450008,-0.124510332942009,0.142924919724464,0.084236994385719,0.040833763778210,0.094610176980495,0.112411119043827,-0.006565616931766,-0.069688789546490,-0.025469411164522,-0.002071410184726,0.046095557510853,0.013109385967255,0.073413573205471,0.012625520117581));
res += mul(Get(s2,0,0), float4x4(0.118782937526703,-0.012065766379237,0.171352878212929,0.045753091573715,-0.060593228787184,-0.053586397320032,-0.009403252974153,-0.042663581669331,0.126355022192001,0.174850463867188,-0.063818484544754,-0.171504378318787,-0.072627305984497,0.187473207712173,-0.147640749812126,-0.053938757628202));
res += mul(Get(s2,0,dy), float4x4(-0.009960222057998,0.075194671750069,-0.100438483059406,0.033793382346630,-0.074140414595604,0.033034652471542,-0.018405104056001,0.043699204921722,0.036924120038748,0.074116371572018,-0.181107327342033,0.069299660623074,0.003249153727666,-0.013511040247977,0.046450968831778,-0.010371151380241));
res += mul(Get(s2,dx,-dy), float4x4(0.070841483771801,-0.227239936590195,0.025469675660133,0.038344465196133,-0.207940235733986,-0.049342431128025,-0.039198044687510,0.018135702237487,0.075311116874218,0.150818094611168,0.111501388251781,0.081131614744663,0.136110782623291,0.006947949528694,-0.113346830010414,0.149798467755318));
res += mul(Get(s2,dx,0), float4x4(-0.004340680316091,-0.017343852669001,-0.105981804430485,-0.023171840235591,-0.065997801721096,0.117716647684574,0.097254954278469,0.102369777858257,0.147958114743233,0.122715473175049,0.001532737980597,0.033552698791027,0.054636783897877,-0.003399751381949,0.001465533045121,0.095935650169849));
res += mul(Get(s2,dx,dy), float4x4(0.038064610213041,0.081028133630753,-0.031518355011940,0.105530202388763,-0.219862461090088,0.023130213841796,0.107248283922672,-0.251727044582367,-0.002588551957160,0.058065082877874,0.127769097685814,0.263732820749283,0.038136281073093,-0.071481615304947,0.019237576052547,-0.004475147929043));
res += mul(Get(s3,-dx,-dy), float4x4(-0.174890786409378,-0.071575224399567,0.038754280656576,0.139693900942802,-0.043593402951956,-0.112960949540138,0.028629899024963,0.032350737601519,0.028844403102994,0.052469484508038,-0.097758457064629,0.030047070235014,-0.031775847077370,0.054788675159216,-0.065611593425274,-0.084148354828358));
res += mul(Get(s3,-dx,0), float4x4(-0.185554772615433,-0.007320214994252,-0.107259877026081,0.011105098761618,0.101507209241390,0.128524869680405,0.108854025602341,0.104775555431843,0.059604752808809,-0.056153722107410,-0.054619912058115,-0.247557744383812,0.047017879784107,-0.007362048141658,-0.037448454648256,0.023224912583828));
res += mul(Get(s3,-dx,dy), float4x4(-0.157016053795815,-0.079311273992062,-0.114272937178612,-0.043075092136860,0.080999061465263,-0.008870383724570,-0.055689055472612,-0.171382561326027,-0.027228627353907,0.104979880154133,0.075114086270332,-0.056955013424158,-0.093181326985359,-0.098712883889675,0.039645686745644,0.108203195035458));
res += mul(Get(s3,0,-dy), float4x4(0.125768750905991,0.051702555269003,0.025700060650706,0.219703376293182,-0.148558661341667,-0.017351539805532,0.139398947358131,0.131176203489304,0.073570623993874,-0.014318673871458,-0.039501819759607,-0.035081356763840,0.006205281242728,0.103349156677723,-0.031157672405243,-0.118033334612846));
res += mul(Get(s3,0,0), float4x4(-0.013259219937027,-0.022313296794891,0.008037175983191,0.337191104888916,-0.048270162194967,-0.064177513122559,0.053138103336096,0.142354249954224,-0.059520903974771,0.092598006129265,-0.055615808814764,0.021090680733323,-0.271645486354828,0.044857643544674,-0.057449642568827,-0.086424686014652));
res += mul(Get(s3,0,dy), float4x4(-0.094645477831364,0.174813747406006,-0.070798419415951,0.098416224122047,-0.076142922043800,0.185181453824043,-0.018168881535530,0.024930773302913,0.066124044358730,0.129151165485382,0.174600407481194,-0.212252765893936,0.034879002720118,-0.016007190570235,0.108621053397655,-0.102293752133846));
res += mul(Get(s3,dx,-dy), float4x4(-0.103482946753502,-0.106424465775490,-0.027625089511275,0.051450524479151,0.287695109844208,-0.105881571769714,-0.021986925974488,-0.139292269945145,-0.059577543288469,-0.037452083081007,0.128635257482529,-0.184328958392143,-0.021990953013301,0.071342170238495,-0.199412703514099,-0.013860354200006));
res += mul(Get(s3,dx,0), float4x4(0.045650631189346,-0.181549280881882,0.026406191289425,0.075998499989510,-0.008899289183319,-0.139716073870659,0.017122507095337,0.051020175218582,-0.181568115949631,0.185073062777519,-0.015107239596546,-0.112745329737663,0.001992529490963,0.196759626269341,-0.006110853981227,0.182339742779732));
res += mul(Get(s3,dx,dy), float4x4(0.129427522420883,0.198256179690361,-0.126265287399292,-0.150918126106262,0.153681337833405,-0.174366831779480,-0.039267539978027,0.089232675731182,0.019523356109858,-0.111007131636143,0.290641188621521,-0.149763196706772,0.010054854676127,0.115749694406986,-0.071253307163715,-0.030119286850095));
return max(float4(0,0,0,0), res);
}
