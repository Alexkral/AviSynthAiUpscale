sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.201654091477394,-0.003751274431124,-0.209095910191536,-0.187991261482239,-0.036719471216202,0.001824116101488,-0.054666258394718,0.084963038563728,0.022510042414069,0.030436091125011,0.143709599971771,0.006496586371213,0.012887613847852,0.003290541237220,0.043297439813614,0.028522044420242));
res += mul(Get(s0,-dx,0), float4x4(-0.098415143787861,0.047465182840824,-0.350720942020416,-0.096583694219589,0.066323138773441,0.057998400181532,-0.046047441661358,-0.003715579863638,-0.088872730731964,-0.035028647631407,-0.032428219914436,0.001729816896841,0.115156874060631,-0.055681712925434,0.091509863734245,0.029065724462271));
res += mul(Get(s0,-dx,dy), float4x4(-0.110031567513943,0.054466303437948,-0.223426610231400,-0.068790867924690,0.018044659867883,0.019792364910245,0.088451579213142,-0.032745473086834,-0.025604533031583,0.018195167183876,0.217319890856743,-0.103988148272038,0.163241043686867,0.079586848616600,0.167306959629059,-0.013132568448782));
res += mul(Get(s0,0,-dy), float4x4(-0.185062110424042,0.004606363829225,0.270941764116287,-0.076408669352531,-0.068615384399891,-0.040202178061008,0.090130433440208,0.060701508074999,-0.022974211722612,0.023396560922265,0.095637805759907,-0.030898973345757,-0.009843389503658,-0.078851945698261,0.034307271242142,-0.169008523225784));
res += mul(Get(s0,0,0), float4x4(0.024220049381256,0.067526549100876,0.243853315711021,-0.125636115670204,0.073471896350384,0.007503804285079,0.090310692787170,0.088178709149361,-0.085572868585587,0.012020135298371,-0.136738896369934,0.038013812154531,-0.071760348975658,0.025954823940992,-0.060387618839741,-0.062638774514198));
res += mul(Get(s0,0,dy), float4x4(-0.043272309005260,0.026933791115880,0.140860572457314,-0.022045971825719,-0.031736392527819,-0.108502611517906,0.141960382461548,0.069796502590179,-0.001981255365536,0.069724656641483,0.103853121399879,-0.017788963392377,0.162480011582375,0.001744305365719,-0.033064834773540,0.045973949134350));
res += mul(Get(s0,dx,-dy), float4x4(-0.091840624809265,-0.011650568805635,-0.107171632349491,0.069292657077312,-0.005370373371989,-0.033340480178595,0.030159736052155,0.013653699308634,0.011983612552285,-0.057430665940046,0.096100285649300,-0.083639502525330,-0.036225888878107,-0.082476839423180,0.089210271835327,0.052341464906931));
res += mul(Get(s0,dx,0), float4x4(-0.033370595425367,-0.042969919741154,-0.123273216187954,0.013963501900434,0.096837319433689,-0.052164640277624,-0.022314170375466,-0.006737638264894,-0.102621354162693,-0.006701316684484,0.034095041453838,0.096533685922623,0.166561111807823,-0.071355842053890,0.062482129782438,-0.022714456543326));
res += mul(Get(s0,dx,dy), float4x4(-0.046313475817442,-0.032915074378252,-0.052774757146835,-0.097425229847431,-0.008702908642590,-0.039001490920782,0.023590683937073,-0.040561772882938,-0.046122629195452,0.060390826314688,0.183651342988014,-0.000456443871371,-0.078489422798157,0.130314975976944,0.063327327370644,-0.055297438055277));
res += mul(Get(s1,-dx,-dy), float4x4(-0.040433116257191,0.028908343985677,-0.041059128940105,0.059531062841415,-0.005957881454378,0.042774520814419,0.100318402051926,-0.093706920742989,-0.079967014491558,0.115891464054585,-0.113742463290691,0.083398908376694,-0.074174612760544,-0.043976090848446,-0.188254356384277,-0.023014787584543));
res += mul(Get(s1,-dx,0), float4x4(-0.023513814434409,0.071645565330982,-0.125348418951035,0.177147224545479,-0.079757332801819,-0.007076892536134,-0.080945111811161,0.096220143139362,-0.067378222942352,0.096868328750134,-0.007552890107036,-0.036908399313688,0.060076601803303,-0.045418266206980,-0.050752364099026,-0.076596423983574));
res += mul(Get(s1,-dx,dy), float4x4(0.024022400379181,0.203288763761520,-0.251889467239380,0.160604178905487,-0.036824271082878,0.036108892410994,0.012814322486520,-0.058095749467611,-0.121343828737736,-0.017659856006503,-0.158993065357208,0.059144817292690,0.042141884565353,-0.023143906146288,-0.059434071183205,0.011104121804237));
res += mul(Get(s1,0,-dy), float4x4(0.058201886713505,-0.081996850669384,0.016421621665359,0.056276749819517,-0.102153189480305,0.118192113935947,0.043943110853434,-0.127752438187599,-0.112370893359184,-0.022256027907133,0.003164410358295,0.087862186133862,-0.056944575160742,-0.027834771201015,0.054076552391052,0.045113332569599));
res += mul(Get(s1,0,0), float4x4(-0.031252387911081,-0.015031073242426,-0.067444361746311,0.037404451519251,-0.027801947668195,-0.160439327359200,-0.039573580026627,0.140941053628922,-0.091438852250576,-0.017510147765279,-0.029440443962812,0.176156252622604,0.009489767253399,-0.025221424177289,0.067900493741035,-0.007954457774758));
res += mul(Get(s1,0,dy), float4x4(0.146873608231544,0.089505791664124,-0.049353379756212,0.132810398936272,-0.015113420784473,-0.001774764852598,-0.034783586859703,0.019610410556197,-0.112516939640045,0.042738743126392,0.005762606393546,-0.054122593253851,0.084233075380325,-0.014507297426462,0.020146554335952,0.284794837236404));
res += mul(Get(s1,dx,-dy), float4x4(0.061672244220972,-0.033332396298647,-0.053497850894928,0.074062779545784,-0.165211856365204,0.026638699695468,0.035167973488569,-0.237045943737030,-0.085145071148872,0.033032659441233,0.097792081534863,-0.019944518804550,-0.012592241168022,-0.010404048487544,-0.113727413117886,0.108447685837746));
res += mul(Get(s1,dx,0), float4x4(-0.088325425982475,0.021211501210928,-0.116461805999279,0.059313349425793,-0.073204986751080,0.163116052746773,0.029280975461006,0.051518347114325,-0.115080744028091,0.061613474041224,0.086161293089390,-0.015473989769816,0.295975744724274,0.123335458338261,-0.087577395141125,-0.162486851215363));
res += mul(Get(s1,dx,dy), float4x4(0.047272183001041,0.103919520974159,0.019926419481635,0.155329704284668,-0.037558484822512,0.020348438993096,-0.001156950835139,-0.079904742538929,-0.071958653628826,-0.056987948715687,0.046398017555475,0.082750774919987,0.203137755393982,0.112500838935375,0.089454941451550,-0.059955623000860));
res += mul(Get(s2,-dx,-dy), float4x4(0.004350631963462,-0.085364103317261,0.063220813870430,-0.020834622904658,0.000625364889856,-0.075701497495174,-0.116496868431568,-0.012219991534948,0.155944481492043,0.068362332880497,0.078952938318253,-0.051956031471491,0.138780221343040,0.051779791712761,0.000515502935741,-0.123302221298218));
res += mul(Get(s2,-dx,0), float4x4(0.072821877896786,-0.099569544196129,-0.039678972214460,0.126414373517036,0.096632249653339,-0.093232013285160,-0.092172347009182,0.016694199293852,0.016762778162956,0.134058803319931,0.036160670220852,-0.074182048439980,-0.100027553737164,0.068816810846329,-0.047663766890764,-0.090146504342556));
res += mul(Get(s2,-dx,dy), float4x4(0.076743870973587,0.064370863139629,-0.082993380725384,0.007415420375764,0.038131602108479,0.022402776405215,-0.123674303293228,-0.115338176488876,-0.005237401928753,-0.072421692311764,0.135494336485863,0.033998403698206,-0.003787073306739,0.027910377830267,-0.089787922799587,-0.124044105410576));
res += mul(Get(s2,0,-dy), float4x4(-0.001617233268917,-0.128190696239471,-0.064637750387192,-0.076653867959976,0.008543292060494,-0.036046791821718,-0.144185110926628,0.001366431475617,-0.011059513315558,-0.056918878108263,0.067697606980801,0.008480686694384,0.001118940417655,0.096399679780006,0.107467763125896,-0.108551181852818));
res += mul(Get(s2,0,0), float4x4(0.041567035019398,-0.043178360909224,-0.100358217954636,0.073591507971287,-0.003421319182962,-0.023026149719954,-0.040583483874798,-0.205349072813988,-0.037948857992887,0.060862287878990,0.077955096960068,-0.124174855649471,-0.069761000573635,0.046711675822735,0.032452467828989,-0.004285679664463));
res += mul(Get(s2,0,dy), float4x4(-0.028325855731964,0.073205791413784,-0.110413633286953,-0.016442794352770,0.026970205828547,-0.036024369299412,-0.122984349727631,-0.082137212157249,-0.102195098996162,-0.053579632192850,0.006087972316891,-0.021226922050118,-0.018173201009631,-0.040464058518410,-0.114736817777157,0.047384902834892));
res += mul(Get(s2,dx,-dy), float4x4(-0.018942417576909,-0.052449233829975,-0.015983255580068,-0.015768757089972,0.011169573292136,-0.135922849178314,-0.011068144813180,0.122612722218037,-0.003890981897712,-0.135863587260246,0.074913084506989,0.010351203382015,-0.068786442279816,0.047946300357580,0.070570833981037,-0.032651964575052));
res += mul(Get(s2,dx,0), float4x4(-0.069303832948208,0.261860251426697,0.042269334197044,0.087488152086735,0.101668089628220,-0.067181229591370,-0.045982796698809,0.158408686518669,-0.093143895268440,-0.065878607332706,-0.030929151922464,0.029612151905894,-0.091322049498558,-0.026344025507569,-0.013293947093189,0.007988032884896));
res += mul(Get(s2,dx,dy), float4x4(0.045216143131256,-0.016482416540384,0.054232120513916,0.085201494395733,-0.181043148040771,-0.012024243362248,0.055896773934364,-0.042532350867987,-0.097379937767982,-0.120858244597912,0.029299370944500,-0.059876963496208,0.035549938678741,-0.116052679717541,-0.044806607067585,0.024897838011384));
res += mul(Get(s3,-dx,-dy), float4x4(-0.085534408688545,-0.011650741100311,0.074046753346920,0.116475060582161,0.140514627099037,0.047044888138771,-0.089175201952457,0.092987753450871,0.098615959286690,0.000608220230788,0.002926712390035,0.042216595262289,-0.027454057708383,-0.007809476926923,-0.075363248586655,-0.038857027888298));
res += mul(Get(s3,-dx,0), float4x4(-0.084557421505451,-0.089890554547310,0.044607695192099,0.086188219487667,0.041477728635073,0.081022314727306,-0.143360927700996,-0.033132150769234,-0.147438094019890,-0.060822896659374,0.046894248574972,-0.179602265357971,-0.097017288208008,-0.145844727754593,0.124650031328201,0.003021397860721));
res += mul(Get(s3,-dx,dy), float4x4(0.108310736715794,-0.110503233969212,0.196553558111191,-0.084924973547459,0.027598820626736,0.010171131230891,0.096774853765965,-0.129222691059113,0.092380888760090,0.036238115280867,-0.035332385450602,-0.065813809633255,-0.056164529174566,0.069820076227188,-0.069221884012222,0.098162613809109));
res += mul(Get(s3,0,-dy), float4x4(0.051953759044409,-0.043052833527327,-0.020714111626148,-0.081059202551842,0.079112417995930,-0.034441068768501,-0.084317423403263,0.086619801819324,0.081908665597439,0.035393916070461,-0.031763557344675,0.084743879735470,-0.045042224228382,0.071612372994423,-0.088113225996494,-0.101277314126492));
res += mul(Get(s3,0,0), float4x4(-0.049438044428825,-0.014038453809917,-0.026301734149456,0.055321343243122,-0.002455372130498,0.058893345296383,-0.052531547844410,0.010308258235455,0.046188935637474,0.095920749008656,-0.051251564174891,-0.020125849172473,-0.062656685709953,0.056571774184704,-0.092287570238113,0.109345488250256));
res += mul(Get(s3,0,dy), float4x4(-0.012814695946872,-0.110518254339695,-0.089252673089504,0.012995887547731,-0.044668991118670,-0.054573368281126,0.014064490795135,0.024693964049220,0.083354681730270,0.071951009333134,0.007225007750094,-0.043416138738394,-0.098162196576595,0.108952447772026,0.062556847929955,0.025858819484711));
res += mul(Get(s3,dx,-dy), float4x4(-0.042981069535017,-0.052431639283895,0.168973118066788,-0.089380189776421,0.089017957448959,-0.135301560163498,-0.100072413682938,-0.011794191785157,-0.062121208757162,-0.167785435914993,-0.000957773823757,0.018154213204980,-0.093572750687599,0.083833053708076,-0.029998179525137,-0.172802418470383));
res += mul(Get(s3,dx,0), float4x4(-0.018342373892665,0.060115382075310,0.098254933953285,0.161048337817192,0.025914536789060,0.155255332589149,-0.050271704792976,0.104850165545940,-0.019055912271142,-0.097932361066341,0.017966896295547,-0.002469228813425,0.019595187157393,0.068709954619408,-0.084610350430012,-0.146931156516075));
res += mul(Get(s3,dx,dy), float4x4(0.017618900164962,-0.003049942664802,0.159741684794426,0.021753218024969,-0.047832198441029,-0.108089350163937,0.237885057926178,-0.083686970174313,-0.054792005568743,-0.043306540697813,-0.072734817862511,0.068381391465664,-0.113677322864532,0.015595830045640,0.158449903130531,0.080530330538750));
return max(float4(0,0,0,0), res);
}
