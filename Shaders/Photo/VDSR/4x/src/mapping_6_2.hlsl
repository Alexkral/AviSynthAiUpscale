sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.110243044793606,0.101487889885902,0.033443048596382,-0.069408729672432,0.012382792308927,-0.010130094364285,0.015751743689179,0.174371421337128,0.106425523757935,0.009165761992335,0.086996227502823,-0.151069775223732,0.013992222025990,-0.017664575949311,-0.016487240791321,0.010616228915751));
res += mul(Get(s0,-dx,0), float4x4(0.145159035921097,-0.130204796791077,-0.084187954664230,0.092178978025913,-0.045943681150675,0.119852870702744,0.172280684113503,0.111524201929569,-0.139519020915031,0.108408503234386,-0.076266661286354,0.006280617788434,0.039444219321012,0.127870887517929,-0.035627562552691,-0.101012669503689));
res += mul(Get(s0,-dx,dy), float4x4(-0.003647251985967,-0.010033048689365,0.215144097805023,-0.013847205787897,0.108641475439072,0.126550450921059,-0.052617762237787,0.138641908764839,-0.139023244380951,-0.069695472717285,0.085876502096653,0.210195362567902,0.143409296870232,-0.010456540621817,-0.061083961278200,0.085376322269440));
res += mul(Get(s0,0,-dy), float4x4(0.087984412908554,-0.071835137903690,0.060335598886013,-0.085471503436565,-0.154821678996086,0.238060712814331,0.003798961639404,-0.128763794898987,0.097768753767014,-0.126875892281532,0.077643275260925,0.048735342919827,0.259409457445145,-0.020710377022624,-0.017411688342690,0.006985279265791));
res += mul(Get(s0,0,0), float4x4(0.136528894305229,0.221133992075920,0.042267341166735,-0.033923685550690,0.011816761456430,-0.010613868013024,-0.138174265623093,0.089635856449604,0.285854518413544,-0.098733559250832,0.077325910329819,-0.055263999849558,-0.327128767967224,-0.179579153656960,0.148827448487282,0.066507071256638));
res += mul(Get(s0,0,dy), float4x4(0.101061187684536,-0.140883818268776,0.113262236118317,0.028593137860298,-0.163025096058846,0.177846148610115,-0.039843674749136,0.075955219566822,0.055144306272268,0.277960121631622,0.090203709900379,0.173908948898315,0.002873920835555,-0.043362293392420,0.091302610933781,0.178468361496925));
res += mul(Get(s0,dx,-dy), float4x4(0.015502856113017,-0.126101255416870,-0.093961447477341,0.052169594913721,-0.029241712763906,0.027113689109683,0.016714163124561,0.025134280323982,-0.031889215111732,0.057500928640366,0.099897138774395,-0.064248360693455,0.074951171875000,-0.044810313731432,0.110628448426723,-0.133903384208679));
res += mul(Get(s0,dx,0), float4x4(0.093607082962990,-0.061221003532410,0.030927469953895,-0.145119234919548,0.042489942163229,0.107680007815361,-0.036626644432545,0.165373608469963,0.018105210736394,-0.089522525668144,-0.012287773191929,-0.016369450837374,0.102164767682552,-0.090006917715073,-0.051890529692173,-0.053186677396297));
res += mul(Get(s0,dx,dy), float4x4(0.021588232368231,-0.132207676768303,-0.076632991433144,-0.056940272450447,-0.009165612980723,-0.003787118708715,-0.153636887669563,-0.179078847169876,-0.068242177367210,0.145119845867157,0.189944803714752,0.142526611685753,0.188013851642609,0.138798698782921,-0.060645975172520,-0.044227238744497));
res += mul(Get(s1,-dx,-dy), float4x4(-0.005162585992366,-0.101793684065342,0.162263676524162,0.054283704608679,-0.014732315205038,0.035646863281727,-0.029021106660366,-0.202119156718254,0.124980710446835,0.106416918337345,-0.143941625952721,-0.157297015190125,0.097874991595745,0.054451532661915,-0.217314675450325,-0.077531121671200));
res += mul(Get(s1,-dx,0), float4x4(-0.072215750813484,0.152264371514320,0.012107673101127,0.028247520327568,0.069245435297489,-0.139886319637299,0.114242501556873,-0.167855381965637,-0.016580538824201,0.322285473346710,-0.079722732305527,-0.153617501258850,0.129433110356331,-0.002405082574114,0.010316468775272,-0.024112422019243));
res += mul(Get(s1,-dx,dy), float4x4(0.102285973727703,-0.099987499415874,-0.175067290663719,-0.139608606696129,0.172421187162399,-0.153074130415916,0.092638202011585,0.061456300318241,-0.052481289952993,-0.117634721100330,0.077938906848431,-0.078069329261780,0.117987319827080,0.003610763931647,-0.021048637107015,-0.056955121457577));
res += mul(Get(s1,0,-dy), float4x4(-0.098187118768692,-0.161956489086151,-0.140882387757301,0.019401755183935,-0.187099978327751,0.020226089283824,0.088566191494465,-0.086638987064362,0.232759445905685,0.099888369441032,0.145008072257042,-0.045776650309563,0.038497678935528,0.198408871889114,0.027963783591986,0.223266810178757));
res += mul(Get(s1,0,0), float4x4(-0.079613722860813,0.046525560319424,-0.035270959138870,-0.200180366635323,0.022069836035371,0.118193209171295,-0.168099790811539,-0.183540657162666,0.154286473989487,0.070027373731136,-0.084235772490501,-0.000648283632472,0.072467915713787,0.078953303396702,-0.057098757475615,0.019075591117144));
res += mul(Get(s1,0,dy), float4x4(0.125042811036110,-0.023013126105070,-0.132400393486023,0.043045010417700,-0.004406302701682,-0.136693075299263,0.041227698326111,0.167443290352821,-0.087127722799778,-0.020141877233982,-0.172595202922821,-0.285358399152756,0.021049013361335,0.141203716397285,-0.166662499308586,-0.053366277366877));
res += mul(Get(s1,dx,-dy), float4x4(0.034039232879877,-0.147047489881516,-0.035321410745382,-0.006216514855623,-0.097829371690750,0.024814922362566,0.039324872195721,-0.217190325260162,-0.009823238477111,0.061021354049444,-0.094879329204559,-0.039539847522974,0.151486933231354,-0.056793496012688,0.078577414155006,-0.073579743504524));
res += mul(Get(s1,dx,0), float4x4(-0.216055139899254,-0.046393778175116,-0.005936112254858,-0.042161952704191,0.062735855579376,-0.119210988283157,-0.138798922300339,0.039819054305553,0.032290522009134,-0.069314479827881,-0.019621107727289,0.012657680548728,0.053066339343786,0.029219862073660,-0.002260942943394,-0.163794547319412));
res += mul(Get(s1,dx,dy), float4x4(0.084839195013046,-0.133831247687340,-0.318684935569763,-0.027815101668239,-0.090572319924831,0.175786420702934,0.019336417317390,-0.068633906543255,0.044142369180918,-0.070402503013611,-0.108900539577007,-0.087147660553455,-0.046343281865120,0.032620470970869,-0.118749931454659,0.032836999744177));
res += mul(Get(s2,-dx,-dy), float4x4(-0.052737489342690,-0.247323498129845,0.106077186763287,0.090356744825840,0.172767460346222,-0.136075481772423,-0.084420800209045,-0.322943150997162,-0.257817208766937,0.007673221174628,0.072977200150490,-0.072546452283859,0.051086276769638,-0.157788425683975,0.011467658914626,0.030294861644506));
res += mul(Get(s2,-dx,0), float4x4(0.040094021707773,0.056983735412359,-0.057713847607374,-0.108169756829739,0.102432534098625,-0.129708424210548,0.092625170946121,-0.203663751482964,0.032697472721338,-0.143495753407478,-0.050258528441191,0.043885841965675,-0.004016170743853,0.004342153668404,0.120418488979340,0.063123725354671));
res += mul(Get(s2,-dx,dy), float4x4(-0.035223800688982,-0.066184870898724,-0.114921957254410,0.145648360252380,-0.023324918001890,-0.196449339389801,-0.183504119515419,0.122477725148201,0.075696222484112,-0.223484918475151,-0.256114870309830,0.011898604221642,0.029540769755840,0.019781248643994,-0.057951346039772,-0.134867355227470));
res += mul(Get(s2,0,-dy), float4x4(0.040985837578773,0.109385259449482,0.052972108125687,-0.050051033496857,-0.067882567644119,-0.055794928222895,-0.243168368935585,0.093769244849682,0.120813928544521,0.047001481056213,0.078660517930984,0.013036822900176,0.148250371217728,0.014247698709369,0.024769576266408,0.053531378507614));
res += mul(Get(s2,0,0), float4x4(0.054504297673702,0.027366269379854,0.072779208421707,0.078512810170650,0.029494486749172,0.060011204332113,-0.203082934021950,-0.144493296742439,-0.009630654938519,-0.050287935882807,-0.134772107005119,-0.043038971722126,0.096785321831703,0.161412164568901,0.057954616844654,-0.065316580235958));
res += mul(Get(s2,0,dy), float4x4(0.143102571368217,-0.038154684007168,-0.019506139680743,-0.268395453691483,-0.017939940094948,0.054818451404572,-0.162853434681892,0.059279013425112,-0.091850467026234,-0.057979587465525,-0.186649024486542,0.095642991364002,-0.126317247748375,0.069533273577690,-0.243923023343086,-0.126598671078682));
res += mul(Get(s2,dx,-dy), float4x4(-0.102413550019264,0.096371375024319,0.129405111074448,0.188332751393318,0.079300940036774,-0.068934887647629,0.121817864477634,0.209124028682709,-0.167080998420715,0.039473082870245,0.030408300459385,-0.093870118260384,0.289677858352661,0.083205513656139,0.077987201511860,-0.174884542822838));
res += mul(Get(s2,dx,0), float4x4(0.067103356122971,-0.185383617877960,-0.024388140067458,-0.076179668307304,-0.115667372941971,0.340813905000687,0.093594893813133,0.056203413754702,-0.241485238075256,0.115315392613411,-0.196864113211632,-0.074465319514275,0.082120127975941,0.012132324278355,-0.127169430255890,0.208340510725975));
res += mul(Get(s2,dx,dy), float4x4(-0.072778195142746,0.000582036213018,0.003078221809119,0.084686115384102,-0.063156306743622,0.024285852909088,0.003148235613480,-0.118103772401810,0.102981850504875,0.005768498405814,0.030408635735512,0.005614794325083,0.018132839351892,0.043374620378017,0.112741909921169,0.103390179574490));
res += mul(Get(s3,-dx,-dy), float4x4(0.003438675310463,0.044075898826122,-0.122721217572689,-0.074874415993690,0.028691273182631,-0.054035428911448,0.028682740405202,0.022396096959710,0.024250136688352,-0.009084555320442,-0.092213116586208,-0.176509663462639,0.183116540312767,-0.026378476992249,0.231653824448586,0.096133925020695));
res += mul(Get(s3,-dx,0), float4x4(-0.123052410781384,-0.012145175598562,-0.101691223680973,0.183275178074837,0.132887914776802,0.093906782567501,-0.162170961499214,0.099973276257515,0.044429369270802,-0.037307932972908,0.076627522706985,0.210610538721085,0.233299940824509,-0.050535272806883,-0.288910716772079,0.110117070376873));
res += mul(Get(s3,-dx,dy), float4x4(0.165024399757385,-0.062208846211433,0.029209174215794,0.196515426039696,0.163688898086548,-0.007350725587457,0.322064101696014,0.023233260959387,0.088602885603905,0.109775088727474,-0.076095752418041,0.116568356752396,-0.023617200553417,-0.102198839187622,-0.037209887057543,-0.219367310404778));
res += mul(Get(s3,0,-dy), float4x4(0.221828609704971,-0.076970517635345,-0.024997618049383,-0.046897217631340,0.088899552822113,0.021092763170600,-0.038229830563068,-0.024145340546966,0.088369511067867,0.160830542445183,0.040037911385298,-0.069582305848598,0.168271541595459,0.181821465492249,-0.048116058111191,0.084027603268623));
res += mul(Get(s3,0,0), float4x4(-0.050429273396730,0.024712337180972,0.002819219138473,0.062001746147871,0.007283801678568,0.082111850380898,-0.018534585833549,-0.112140268087387,0.018195077776909,-0.028330968692899,-0.063412092626095,-0.041304204612970,-0.006153423804790,-0.046923510730267,-0.096196264028549,0.001494463533163));
res += mul(Get(s3,0,dy), float4x4(0.157103583216667,0.085375949740410,0.218306764960289,-0.023718435317278,0.001190347480588,0.189162299036980,-0.092651851475239,-0.006411647889763,0.064796298742294,-0.051206346601248,0.202594354748726,-0.120891883969307,0.040754392743111,0.054346352815628,0.001008588355035,-0.199159651994705));
res += mul(Get(s3,dx,-dy), float4x4(0.136935800313950,0.024447005242109,-0.132526651024818,-0.128695741295815,-0.078894816339016,0.058478202670813,-0.046432975679636,0.078501954674721,0.061199676245451,0.018399145454168,0.016405850648880,0.140319794416428,-0.008784160017967,0.017673723399639,0.220625504851341,0.043219659477472));
res += mul(Get(s3,dx,0), float4x4(0.063819065690041,-0.075433976948261,-0.022855704650283,-0.029388099908829,-0.061233621090651,-0.078445099294186,-0.078694440424442,0.008786254562438,-0.011904428713024,0.000334386597387,0.070150472223759,-0.177966475486755,-0.197159662842751,-0.020312327891588,0.146277010440826,0.054484549909830));
res += mul(Get(s3,dx,dy), float4x4(-0.098055616021156,-0.138738930225372,-0.172501310706139,0.036665525287390,-0.042887579649687,-0.171083062887192,0.005020500160754,-0.067907057702541,-0.059779796749353,-0.169422462582588,0.079643167555332,-0.079417958855629,-0.038805626332760,0.032907746732235,-0.233328461647034,-0.161594539880753));
return max(float4(0,0,0,0), res);
}
