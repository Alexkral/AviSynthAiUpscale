sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.103977590799332,-0.062493532896042,0.022109525278211,-0.116508424282074,0.125664934515953,0.023275092244148,-0.091851979494095,-0.143837854266167,-0.097238928079605,0.037338197231293,-0.177411079406738,-0.057144213467836,0.070163182914257,0.014016969129443,-0.050930187106133,-0.045450821518898));
res += mul(Get(s0,-dx,0), float4x4(-0.042028538882732,-0.128340154886246,0.058166287839413,-0.038924373686314,0.018536919727921,0.011218068189919,-0.007421299815178,-0.060929752886295,-0.107125349342823,-0.031197486445308,0.280142903327942,-0.033925887197256,-0.047094978392124,0.007175106555223,-0.086924687027931,0.034663572907448));
res += mul(Get(s0,-dx,dy), float4x4(0.071034245193005,0.012198951095343,0.133006051182747,0.161370918154716,-0.121659651398659,0.113749928772449,-0.037504084408283,-0.110220827162266,-0.120867669582367,0.176815345883369,0.074115060269833,-0.032587409019470,0.542055130004883,0.089565560221672,-0.120619922876358,0.138181328773499));
res += mul(Get(s0,0,-dy), float4x4(-0.045393440872431,0.006537056062371,-0.067245192825794,-0.177484944462776,0.013668786734343,-0.186315536499023,0.048206001520157,-0.032470185309649,-0.021078659221530,0.000403079175157,-0.034479796886444,-0.090838909149170,-0.000763838354032,-0.042545698583126,0.014412991702557,-0.152255848050117));
res += mul(Get(s0,0,0), float4x4(-0.081635139882565,-0.118298880755901,-0.035701166838408,-0.025730201974511,-0.052300252020359,0.072129815816879,0.075862064957619,-0.147503942251205,0.026529107242823,-0.062867127358913,0.172267451882362,-0.101214781403542,-0.040141317993402,-0.042299568653107,-0.055431693792343,0.013488303869963));
res += mul(Get(s0,0,dy), float4x4(-0.036524523049593,0.038546744734049,0.030559182167053,-0.014446680434048,-0.149352744221687,0.155073836445808,-0.070370897650719,-0.079123891890049,-0.063029095530510,0.008677544072270,0.007615063339472,-0.011105572804809,-0.096170872449875,-0.074660547077656,-0.112956747412682,0.080898270010948));
res += mul(Get(s0,dx,-dy), float4x4(-0.019813019782305,-0.069842062890530,-0.044770341366529,0.136983960866928,0.011850869283080,-0.092267066240311,0.070402435958385,0.081479646265507,0.021011615172029,-0.094203591346741,0.030733339488506,-0.118168622255325,0.093409724533558,-0.154019862413406,0.092569254338741,-0.165389657020569));
res += mul(Get(s0,dx,0), float4x4(-0.028300249949098,-0.127136468887329,-0.033991347998381,0.119377315044403,0.052996788173914,0.055553860962391,0.041415274143219,-0.027647018432617,0.037087414413691,-0.090537443757057,-0.017752120271325,-0.105579294264317,-0.069215789437294,-0.064549364149570,-0.077056005597115,-0.094918288290501));
res += mul(Get(s0,dx,dy), float4x4(-0.041189435869455,-0.042388729751110,0.147918328642845,-0.026958623901010,-0.092774525284767,0.183725818991661,-0.030327687039971,-0.019801553338766,-0.011888265609741,-0.003863525344059,-0.014555920846760,-0.095055401325226,-0.158175677061081,-0.104050241410732,-0.090697623789310,-0.077122926712036));
res += mul(Get(s1,-dx,-dy), float4x4(-0.176069423556328,-0.135319277644157,0.142419159412384,-0.103404156863689,-0.066565483808517,0.055354688316584,0.149985253810883,-0.130995854735374,-0.037729751318693,0.015670118853450,-0.052132140845060,0.068238250911236,0.002654443727806,-0.063223250210285,-0.146458074450493,-0.101821228861809));
res += mul(Get(s1,-dx,0), float4x4(-0.170975431799889,-0.014147979207337,0.142256379127502,-0.056746087968349,-0.113469891250134,-0.073272101581097,0.006494055967778,0.026598991826177,0.043237432837486,-0.018119245767593,0.080941542983055,-0.134360656142235,-0.174153715372086,-0.096937738358974,0.161601528525352,0.041814669966698));
res += mul(Get(s1,-dx,dy), float4x4(-0.106330424547195,-0.011299733072519,-0.153746172785759,-0.048010781407356,-0.167299777269363,-0.123973779380322,0.102998867630959,0.100355193018913,0.007840875536203,0.064245231449604,0.159075587987900,-0.120306968688965,-0.088685639202595,-0.115827992558479,-0.079482041299343,-0.075757756829262));
res += mul(Get(s1,0,-dy), float4x4(0.009225550107658,-0.035840872675180,0.075642019510269,0.035523362457752,0.020387543365359,-0.031520906835794,0.050714354962111,-0.048324219882488,0.057529438287020,-0.048236906528473,-0.132939040660858,0.049530148506165,-0.043025072664022,0.059448435902596,-0.011740872636437,-0.260493546724319));
res += mul(Get(s1,0,0), float4x4(-0.083933711051941,-0.090909712016582,0.028535595163703,-0.042387370020151,-0.104508623480797,0.020614689216018,0.123007804155350,0.047984838485718,-0.034495260566473,-0.138133496046066,0.024287128821015,-0.086747966706753,0.096848353743553,0.079756394028664,0.217227876186371,-0.048852853477001));
res += mul(Get(s1,0,dy), float4x4(-0.068738594651222,-0.035253390669823,0.129927560687065,-0.094904981553555,-0.122400060296059,-0.045130569487810,0.101521804928780,0.049663014709949,-0.165068402886391,0.073629982769489,-0.150724440813065,-0.083380818367004,-0.017834898084402,0.113991893827915,0.051626436412334,-0.190542519092560));
res += mul(Get(s1,dx,-dy), float4x4(0.011781335808337,-0.006101100239903,0.003232672810555,-0.040479082614183,0.107916615903378,-0.107425399124622,-0.030405623838305,0.036304578185081,0.044680718332529,-0.019704427570105,-0.096965812146664,0.269074916839600,0.014460545964539,0.002733208006248,-0.045059330761433,-0.158198893070221));
res += mul(Get(s1,dx,0), float4x4(0.113232225179672,-0.009083467535675,0.000491356244311,-0.019578048959374,0.044461831450462,-0.023461911827326,-0.019482739269733,0.091183260083199,0.026069035753608,-0.165673837065697,-0.022885296493769,0.204134315252304,0.081557080149651,0.054763693362474,0.106863953173161,-0.018411425873637));
res += mul(Get(s1,dx,dy), float4x4(0.034535583108664,-0.130389958620071,-0.085675731301308,-0.024947332218289,-0.085096105933189,0.086646653711796,0.049767453223467,-0.057149969041348,0.009760424494743,0.478049933910370,-0.025107797235250,0.249379441142082,-0.063481777906418,0.044481795281172,-0.142274901270866,-0.130209147930145));
res += mul(Get(s2,-dx,-dy), float4x4(0.000173719017766,-0.035296693444252,-0.171413078904152,-0.023823633790016,-0.054491914808750,-0.030372932553291,0.034891780465841,0.188319444656372,-0.001652232254855,0.022248499095440,-0.161450922489166,-0.142611116170883,-0.109493568539619,-0.048034697771072,-0.191103652119637,-0.068377494812012));
res += mul(Get(s2,-dx,0), float4x4(0.023460423573852,-0.001733146142215,-0.087119393050671,0.124304264783859,-0.017005121335387,-0.105129726231098,-0.027156192809343,0.028611717745662,-0.060017790645361,-0.053107537329197,-0.061100404709578,-0.050700102001429,-0.105708740651608,-0.075357161462307,-0.104119718074799,-0.005763778928667));
res += mul(Get(s2,-dx,dy), float4x4(-0.070517852902412,-0.029258081689477,0.034528914839029,-0.074176527559757,0.040088977664709,-0.010064022615552,-0.091576389968395,0.088549576699734,0.029112083837390,0.043212622404099,-0.022842483595014,0.016491105780005,-0.095113895833492,0.042333994060755,0.065056540071964,0.057401675730944));
res += mul(Get(s2,0,-dy), float4x4(-0.117635197937489,-0.106741838157177,-0.132854431867599,-0.075271025300026,0.140691816806793,-0.009391899220645,-0.049416314810514,0.080066226422787,0.002001897897571,0.122174747288227,-0.164280757308006,0.102864436805248,-0.084326587617397,-0.049836453050375,-0.061169266700745,-0.077763684093952));
res += mul(Get(s2,0,0), float4x4(-0.041340447962284,-0.060509208589792,-0.062814414501190,0.147523462772369,0.106521405279636,-0.098716028034687,-0.014004236087203,-0.074664883315563,-0.062379706650972,-0.084529362618923,-0.053624682128429,0.039827723056078,-0.062208052724600,0.024061646312475,0.193242028355598,-0.029774038121104));
res += mul(Get(s2,0,dy), float4x4(-0.163007438182831,0.042009871453047,0.010080675594509,-0.131835207343102,0.048225220292807,-0.016384109854698,-0.072333104908466,0.020117733627558,-0.080230921506882,0.058072905987501,0.189412653446198,-0.055466633290052,-0.097190245985985,-0.024665780365467,0.087317183613777,-0.010880039073527));
res += mul(Get(s2,dx,-dy), float4x4(-0.072085328400135,0.186132520437241,-0.127418890595436,-0.054463259875774,0.001477902638726,0.003685075324029,-0.019152592867613,0.072733074426651,-0.092138014733791,0.026449721306562,0.010301539674401,-0.030457423999906,0.106022790074348,-0.095941662788391,-0.039071634411812,-0.022424831986427));
res += mul(Get(s2,dx,0), float4x4(0.010947620496154,0.042743798345327,-0.173981711268425,0.118070334196091,0.030440848320723,0.025716239586473,0.133184179663658,-0.007177053950727,-0.058433193713427,-0.031322132796049,0.077532462775707,0.086520098149776,0.195158660411835,-0.152162447571754,0.040474854409695,-0.040698453783989));
res += mul(Get(s2,dx,dy), float4x4(0.142940655350685,0.135542854666710,-0.121239654719830,-0.232408285140991,0.013684124685824,-0.038187410682440,-0.060700487345457,0.005326621234417,-0.064945027232170,0.156181186437607,0.175528690218925,-0.116494759917259,0.012410288676620,-0.113438814878464,0.099729217588902,-0.079888455569744));
res += mul(Get(s3,-dx,-dy), float4x4(-0.078376494348049,-0.074732854962349,0.018742475658655,0.009264823980629,0.000112225927296,0.070524998009205,0.016645053401589,-0.131214469671249,-0.046604935079813,0.080895088613033,-0.132497414946556,0.000790299091022,0.171662345528603,0.088573127985001,-0.041008956730366,0.006939851213247));
res += mul(Get(s3,-dx,0), float4x4(-0.166584908962250,0.047470845282078,-0.026604047045112,0.030530882999301,-0.037354074418545,-0.040973234921694,-0.024697940796614,0.003396286396310,0.072848923504353,-0.046540804207325,0.069496192038059,0.010471005924046,0.094536870718002,0.093663133680820,0.022582592442632,0.075174167752266));
res += mul(Get(s3,-dx,dy), float4x4(-0.042405452579260,-0.133871600031853,-0.027796622365713,0.022647652775049,-0.055038128048182,0.029568850994110,-0.103557623922825,0.045282881706953,-0.160405293107033,0.016370000317693,-0.150133475661278,-0.019382357597351,0.029512278735638,-0.108797155320644,-0.147277846932411,-0.009216499514878));
res += mul(Get(s3,0,-dy), float4x4(0.012877810746431,-0.092227458953857,0.108759567141533,-0.032887760549784,0.075290799140930,0.054265722632408,-0.003025991609320,-0.053152300417423,0.172965541481972,0.046521663665771,-0.083240985870361,-0.016680954024196,-0.113499954342842,-0.000579745159484,0.142856806516647,0.081997267901897));
res += mul(Get(s3,0,0), float4x4(0.217320755124092,0.065594129264355,0.043320421129465,0.074435375630856,0.081536322832108,-0.048610541969538,-0.012379797175527,-0.004772524349391,0.030151037499309,-0.029125679284334,0.021529257297516,-0.060167036950588,0.094245925545692,0.128620877861977,-0.082978047430515,-0.071167364716530));
res += mul(Get(s3,0,dy), float4x4(-0.037145551294088,0.017107963562012,0.063805937767029,0.101537667214870,-0.084316566586494,-0.075439564883709,0.006301651708782,-0.071951352059841,-0.103774555027485,-0.177893340587616,-0.124130509793758,-0.047759573906660,0.127456203103065,0.012652554549277,-0.032823648303747,-0.050506651401520));
res += mul(Get(s3,dx,-dy), float4x4(0.056756384670734,-0.037555579096079,0.032379578799009,-0.005813484545797,0.056179270148277,-0.029158122837543,0.089315108954906,-0.022938778623939,0.057320632040501,0.025967653840780,-0.083703294396400,0.080756932497025,-0.109749034047127,-0.021853152662516,0.026016816496849,-0.008687334135175));
res += mul(Get(s3,dx,0), float4x4(0.104963257908821,0.163508415222168,-0.078924134373665,0.036436803638935,-0.045603174716234,0.000992120825686,-0.076189287006855,0.021991748362780,-0.017557704821229,-0.045294247567654,-0.091004543006420,0.106236815452576,0.000398595351726,0.061446230858564,-0.093749918043613,-0.103631429374218));
res += mul(Get(s3,dx,dy), float4x4(0.102845095098019,0.168837070465088,0.062766090035439,0.102456271648407,0.159194365143776,0.196240961551666,-0.076839782297611,-0.035465024411678,-0.033687204122543,0.117113322019577,-0.106233045458794,0.098529435694218,0.052386861294508,-0.015777023509145,-0.008799873292446,0.128468975424767));
return max(float4(0,0,0,0), res);
}
