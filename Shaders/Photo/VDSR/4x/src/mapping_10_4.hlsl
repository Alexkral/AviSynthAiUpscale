sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.069019451737404,0.205438867211342,0.044862158596516,0.061142895370722,-0.074745126068592,-0.101225920021534,0.069387525320053,-0.196203187108040,-0.088066697120667,-0.051517289131880,-0.082177013158798,0.203041002154350,-0.048533774912357,-0.163090690970421,-0.064298741519451,0.118283331394196));
res += mul(Get(s0,-dx,0), float4x4(0.068961903452873,0.126547619700432,0.053834427148104,0.144185349345207,-0.008770867250860,-0.028904808685184,-0.040996573865414,-0.147580429911613,0.076141647994518,0.108505278825760,0.000830777862575,-0.184283122420311,-0.159737259149551,-0.021761070936918,-0.192052200436592,0.017396219074726));
res += mul(Get(s0,-dx,dy), float4x4(0.077861197292805,-0.047662843018770,0.019241988658905,0.033674146980047,0.076359413564205,0.204483881592751,0.100992798805237,-0.023291306570172,-0.010641324333847,-0.038327205926180,-0.059808678925037,0.114614903926849,-0.122575625777245,0.017293583601713,-0.208171606063843,-0.123688727617264));
res += mul(Get(s0,0,-dy), float4x4(0.150769367814064,0.217433109879494,0.045185159891844,-0.018621778115630,0.055679168552160,-0.097884565591812,-0.030921539291739,0.046540662646294,-0.046510711312294,0.064301095902920,0.137557625770569,0.062821596860886,0.030988011509180,0.019161598756909,-0.087621606886387,0.013459748588502));
res += mul(Get(s0,0,0), float4x4(0.091244518756866,-0.024868037551641,-0.146130427718163,0.040729090571404,0.040268301963806,0.110009111464024,-0.071828916668892,-0.116665512323380,-0.029675772413611,0.070154763758183,-0.044979363679886,-0.033876512199640,-0.090966440737247,0.045807745307684,0.065858401358128,-0.051965381950140));
res += mul(Get(s0,0,dy), float4x4(0.003977939952165,-0.018023397773504,-0.070761971175671,0.007825194858015,-0.193975940346718,-0.187119290232658,-0.067783229053020,-0.010360984131694,0.030755173414946,-0.033996317535639,0.038335073739290,-0.045579291880131,-0.222531825304031,0.043579254299402,-0.061322886496782,0.054672341793776));
res += mul(Get(s0,dx,-dy), float4x4(-0.264313369989395,0.060749068856239,-0.185447081923485,-0.106951422989368,0.099846974015236,0.196419835090637,-0.068942360579967,0.000990236178041,-0.226972520351410,-0.133067443966866,-0.129201933741570,0.080228313803673,0.038449168205261,0.099888324737549,-0.012170999310911,-0.044778298586607));
res += mul(Get(s0,dx,0), float4x4(-0.092568255960941,0.079481512308121,-0.049316357821226,0.002689014421776,0.089738190174103,0.004440437071025,-0.184002712368965,0.168446004390717,0.083091594278812,-0.175213620066643,-0.031144764274359,-0.114027507603168,0.177630409598351,-0.020219210535288,0.055251549929380,0.044726382941008));
res += mul(Get(s0,dx,dy), float4x4(-0.153845012187958,-0.134359106421471,0.043371580541134,-0.049829896539450,0.090849503874779,0.117683641612530,-0.012740113772452,0.040864370763302,0.027034111320972,-0.079275190830231,0.134635940194130,0.048924833536148,0.035762622952461,0.158171176910400,0.132243737578392,-0.032507192343473));
res += mul(Get(s1,-dx,-dy), float4x4(0.043067708611488,0.081910237669945,-0.123689413070679,-0.005696593783796,-0.055200785398483,0.125973999500275,-0.018312921747565,0.302291452884674,-0.261182904243469,-0.120551645755768,-0.019439937546849,0.058790139853954,-0.052684348076582,0.098225504159927,-0.000207820921787,0.002799059031531));
res += mul(Get(s1,-dx,0), float4x4(-0.115368887782097,0.010059162043035,-0.108718946576118,0.052406612783670,-0.001278915908188,-0.150112792849541,0.157304614782333,0.003631866537035,0.178254663944244,0.238076165318489,-0.040842607617378,-0.060617573559284,0.103990137577057,-0.012128177098930,0.031831208616495,-0.006462145131081));
res += mul(Get(s1,-dx,dy), float4x4(-0.017040411010385,0.058815598487854,0.017404526472092,0.128191381692886,0.051496837288141,-0.119636893272400,0.023408679291606,-0.088632293045521,0.097946777939796,-0.026651320978999,0.226107984781265,-0.093358293175697,-0.126702830195427,0.195409134030342,0.048433572053909,-0.034927889704704));
res += mul(Get(s1,0,-dy), float4x4(0.080482549965382,0.064871661365032,0.043350189924240,0.151832357048988,0.116309307515621,-0.011098759248853,-0.019245266914368,-0.072509497404099,0.071421876549721,-0.103497095406055,0.034210715442896,0.037293557077646,0.033118177205324,0.062420982867479,0.160511896014214,-0.167915374040604));
res += mul(Get(s1,0,0), float4x4(0.023556726053357,-0.106980971992016,-0.040529008954763,-0.011889418587089,0.034607540816069,0.079661570489407,-0.031432908028364,0.081464722752571,0.201342821121216,-0.114539593458176,0.009725622832775,0.158032655715942,-0.097438298165798,-0.027288509532809,0.186652898788452,-0.236721560359001));
res += mul(Get(s1,0,dy), float4x4(-0.060557238757610,0.101779825985432,-0.011294274590909,-0.005503141321242,0.023147752508521,0.030784152448177,0.024585077539086,0.126621991395950,-0.035506214946508,-0.021530408412218,0.029828561469913,-0.172217160463333,-0.022524591535330,-0.029201457276940,0.157323986291885,0.185275524854660));
res += mul(Get(s1,dx,-dy), float4x4(0.093990363180637,-0.189930930733681,0.125657305121422,0.204710587859154,0.075549550354481,-0.161683738231659,-0.179201647639275,-0.058166857808828,-0.001963684335351,0.081126376986504,0.073549292981625,-0.120671242475510,0.157978430390358,-0.191156223416328,0.084516488015652,-0.013211176730692));
res += mul(Get(s1,dx,0), float4x4(0.000046891836973,0.167016565799713,-0.065949074923992,-0.024982150644064,0.111707746982574,0.058350607752800,0.001535014132969,0.106252923607826,-0.069248162209988,0.044168371707201,-0.006225707475096,-0.094476982951164,-0.001443914836273,-0.022069826722145,-0.167861685156822,0.181852385401726));
res += mul(Get(s1,dx,dy), float4x4(-0.107957504689693,-0.065843723714352,0.070819981396198,-0.057408977299929,-0.080731600522995,-0.015223005786538,0.116615369915962,-0.059944700449705,0.042025003582239,-0.077921591699123,0.087178476154804,-0.030859895050526,-0.114171400666237,0.009223826229572,0.044677745550871,0.170334920287132));
res += mul(Get(s2,-dx,-dy), float4x4(-0.046157214790583,0.008949072100222,0.044339396059513,0.105048216879368,0.013498350977898,-0.053270410746336,0.074829787015915,0.100049071013927,0.102530039846897,-0.034913275390863,0.027039214968681,-0.138941124081612,0.032654896378517,-0.354501932859421,-0.127993926405907,0.043236780911684));
res += mul(Get(s2,-dx,0), float4x4(-0.129372805356979,-0.027606815099716,-0.067290037870407,0.002320919651538,0.097074173390865,-0.015813449397683,0.029979966580868,-0.136365070939064,-0.022159418091178,0.025186268612742,0.048929825425148,0.099510788917542,0.163798689842224,-0.057992901653051,0.022432837635279,-0.081789113581181));
res += mul(Get(s2,-dx,dy), float4x4(-0.028629887849092,-0.114890478551388,0.096399366855621,-0.105764195322990,0.098086841404438,0.034124221652746,-0.184745624661446,-0.009298671036959,-0.009546826593578,-0.109361529350281,0.064779803156853,-0.030157109722495,0.096277862787247,0.034867879003286,-0.040599670261145,-0.016217023134232));
res += mul(Get(s2,0,-dy), float4x4(-0.082774914801121,-0.037105731666088,0.033791106194258,-0.080167636275291,0.126229465007782,0.177136823534966,-0.006860496476293,0.019353842362761,0.084174126386642,0.177488848567009,0.005116555374116,-0.128439560532570,0.052637614309788,0.109430819749832,-0.099542662501335,-0.118872687220573));
res += mul(Get(s2,0,0), float4x4(-0.013894439674914,-0.047235392034054,0.035234387964010,0.077386371791363,-0.149878814816475,0.037777956575155,-0.047797285020351,-0.053772363811731,0.067229785025120,0.038870651274920,0.157807871699333,-0.209857836365700,0.057884033769369,-0.257524192333221,-0.164894208312035,0.021015567705035));
res += mul(Get(s2,0,dy), float4x4(-0.075048156082630,-0.036172308027744,0.045028671622276,0.072537139058113,0.081623584032059,-0.145201340317726,0.059098556637764,-0.219937697052956,0.078357882797718,0.007900991477072,0.047295551747084,-0.058588262647390,-0.153854176402092,-0.054851688444614,-0.055460706353188,-0.156318455934525));
res += mul(Get(s2,dx,-dy), float4x4(-0.054307859390974,-0.130643278360367,0.062756463885307,-0.092373788356781,0.020762814208865,-0.111570902168751,0.051829136908054,-0.107171431183815,-0.054931372404099,-0.126891598105431,0.026033585891128,-0.027727099135518,0.080062143504620,-0.008419647812843,-0.048653975129128,0.068276993930340));
res += mul(Get(s2,dx,0), float4x4(0.008387554436922,-0.001999681815505,0.103979676961899,0.049765422940254,-0.223666131496429,0.056115593761206,0.183560371398926,-0.008944046683609,-0.103082202374935,-0.103143483400345,-0.016968736425042,0.079278588294983,0.124391958117485,-0.113265343010426,-0.036700576543808,0.109934300184250));
res += mul(Get(s2,dx,dy), float4x4(-0.116541601717472,-0.218793913722038,0.232428267598152,0.173449859023094,0.004609930329025,-0.102252252399921,0.110232956707478,0.074485622346401,0.138083100318909,0.069540522992611,0.122714787721634,0.196714937686920,0.009499788284302,-0.129693984985352,0.100143425166607,-0.029656438156962));
res += mul(Get(s3,-dx,-dy), float4x4(0.058034658432007,0.131370961666107,0.167528718709946,-0.085968427360058,-0.014972875826061,-0.015877196565270,-0.034353382885456,0.183864936232567,0.006857710424811,-0.068477943539619,-0.049488265067339,0.047482885420322,-0.087104938924313,-0.198197141289711,0.066729910671711,0.039660036563873));
res += mul(Get(s3,-dx,0), float4x4(0.204443052411079,-0.028653720393777,0.046502530574799,0.024790352210402,-0.010702840052545,-0.134968459606171,-0.015497148036957,-0.096835389733315,-0.018553320318460,0.012703486718237,-0.084517449140549,0.012347275391221,0.042978141456842,-0.070792697370052,0.278885811567307,0.051932804286480));
res += mul(Get(s3,-dx,dy), float4x4(-0.094444952905178,0.002506584161893,-0.101701967418194,0.281894803047180,0.075704827904701,-0.053438343107700,-0.034336626529694,-0.014063588343561,0.012658928520977,-0.171851187944412,0.002322358544916,0.022720076143742,0.015844782814384,0.157019913196564,-0.021955382078886,-0.081077411770821));
res += mul(Get(s3,0,-dy), float4x4(0.102959364652634,-0.205272063612938,0.074630655348301,-0.250961095094681,0.045821651816368,-0.026035437360406,0.058533050119877,-0.014689494855702,0.031798817217350,-0.129416167736053,0.027495319023728,0.074474483728409,0.113267660140991,0.255605816841125,0.178212746977806,0.052068315446377));
res += mul(Get(s3,0,0), float4x4(0.009423565119505,0.127318501472473,-0.017183797433972,0.088648818433285,-0.085107430815697,0.058491535484791,-0.045899439603090,-0.101384811103344,0.083654992282391,-0.043809581547976,0.013400526717305,0.087431006133556,-0.141260534524918,-0.051533252000809,0.071519292891026,0.104740545153618));
res += mul(Get(s3,0,dy), float4x4(-0.008124767802656,0.026745807379484,0.105040945112705,-0.063940457999706,0.004664155188948,-0.114291243255138,0.005418009124696,0.098594933748245,0.013971339911222,0.027175707742572,-0.087435401976109,-0.002717901254073,0.060614585876465,0.051993075758219,0.110313393175602,0.190916374325752));
res += mul(Get(s3,dx,-dy), float4x4(0.202370315790176,0.156653597950935,-0.015164652839303,-0.132637590169907,-0.036459706723690,-0.074161283671856,-0.027693690732121,0.154673486948013,-0.253520965576172,0.191878363490105,-0.152499124407768,-0.020800204947591,-0.144018486142159,0.084303915500641,-0.079266816377640,-0.189786985516548));
res += mul(Get(s3,dx,0), float4x4(0.033147353678942,0.214853435754776,-0.048765245825052,0.024811608716846,0.036981765180826,0.015034766867757,-0.096265681087971,0.083367735147476,-0.195387944579124,0.023851150646806,0.108938060700893,0.118652932345867,-0.116562388837337,-0.030705405399203,-0.059888806194067,0.104169070720673));
res += mul(Get(s3,dx,dy), float4x4(0.051380567252636,-0.019684053957462,0.043235328048468,-0.212544620037079,-0.038321703672409,0.141638413071632,-0.105619095265865,-0.182903856039047,-0.053288351744413,0.019039219245315,0.194496631622314,-0.030623875558376,-0.000990101485513,-0.051196493208408,0.055526755750179,0.068565651774406));
return max(float4(0,0,0,0), res);
}
