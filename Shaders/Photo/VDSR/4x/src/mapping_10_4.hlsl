sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.001132200821303,-0.103339396417141,0.095819115638733,0.081067673861980,0.040003679692745,-0.131207630038261,-0.103185132145882,-0.163360983133316,-0.003832718823105,-0.165982142090797,-0.126041203737259,0.007546422071755,-0.049799993634224,-0.339890152215958,-0.094823420047760,-0.088452629745007));
res += mul(Get(s0,-dx,0), float4x4(-0.032594505697489,-0.162268310785294,0.162583798170090,0.050403267145157,0.092361204326153,-0.023241722956300,-0.024488659575582,0.080706574022770,-0.133259207010269,-0.026019182056189,-0.133968681097031,-0.023051910102367,-0.059949163347483,-0.062301337718964,-0.005564756225795,0.029066016897559));
res += mul(Get(s0,-dx,dy), float4x4(-0.084129184484482,-0.144425019621849,0.077626541256905,-0.035509128123522,0.024229917675257,-0.079591564834118,-0.124490559101105,-0.129569351673126,-0.098210573196411,0.024882575497031,0.032245699316263,-0.051936667412519,0.053959347307682,-0.141517922282219,-0.026423644274473,-0.095231845974922));
res += mul(Get(s0,0,-dy), float4x4(0.060195382684469,-0.052855424582958,-0.010093181394041,-0.055062972009182,0.038809791207314,-0.032950550317764,-0.075503021478653,-0.058565318584442,-0.071477971971035,-0.042626954615116,-0.076604470610619,-0.092452570796013,-0.080587886273861,-0.015000754967332,-0.003927275072783,-0.211363464593887));
res += mul(Get(s0,0,0), float4x4(0.088728740811348,-0.020764747634530,-0.108566492795944,-0.016353992745280,0.032358128577471,0.020538929849863,-0.048369575291872,0.024519383907318,0.070950061082840,0.110743887722492,0.047262128442526,-0.079789206385612,-0.086879417300224,0.457102060317993,-0.059195421636105,-0.041279684752226));
res += mul(Get(s0,0,dy), float4x4(-0.025954397395253,-0.085743360221386,0.136123940348625,-0.045460458844900,0.015930872410536,-0.024210583418608,0.096901096403599,-0.110926263034344,0.070157870650291,0.090934298932552,-0.016424380242825,0.186740919947624,-0.042208354920149,-0.030808873474598,-0.061705645173788,0.075556397438049));
res += mul(Get(s0,dx,-dy), float4x4(0.031141616404057,0.074540629982948,-0.036483656615019,0.037742897868156,-0.010821835137904,-0.098062247037888,-0.079224817454815,0.063909530639648,0.048187877982855,-0.059804592281580,-0.028048105537891,-0.079456694424152,-0.036211829632521,-0.183665558695793,0.111672766506672,-0.087735369801521));
res += mul(Get(s0,dx,0), float4x4(-0.028209269046783,0.037741038948298,0.031172947958112,-0.081174671649933,0.043809328228235,-0.079932972788811,-0.013396471738815,0.024916199967265,0.062334738671780,0.146790042519569,-0.058440629392862,0.218388527631760,0.025003798305988,0.340434223413467,-0.053158417344093,-0.111454539000988));
res += mul(Get(s0,dx,dy), float4x4(-0.018517402932048,-0.018870525062084,0.020067112520337,-0.127441808581352,-0.065791875123978,0.067005693912506,-0.115252181887627,-0.099937967956066,-0.106846138834953,-0.009492599405348,-0.085429154336452,0.207300245761871,-0.104725986719131,0.004197014030069,0.032908987253904,0.097829453647137));
res += mul(Get(s1,-dx,-dy), float4x4(-0.166741609573364,-0.129294112324715,-0.137322366237640,-0.121613137423992,0.047569446265697,0.033420257270336,-0.013867742381990,-0.094243094325066,-0.027904750779271,0.033251833170652,-0.062480870634317,-0.065424479544163,-0.057433448731899,-0.091850608587265,0.065505906939507,-0.043334875255823));
res += mul(Get(s1,-dx,0), float4x4(-0.027988379821181,0.082499928772449,-0.049833420664072,-0.072811633348465,0.026964629068971,0.059062380343676,-0.004960911814123,-0.036388795822859,-0.041266232728958,0.214978992938995,-0.062569946050644,0.039827287197113,0.031131416559219,-0.114059373736382,0.169422477483749,-0.009799964725971));
res += mul(Get(s1,-dx,dy), float4x4(0.027218045666814,-0.018434172496200,-0.038794912397861,-0.032891161739826,0.024976376444101,0.025841200724244,-0.066444396972656,-0.072670891880989,-0.050687484443188,0.088475041091442,-0.057728905230761,0.050565816462040,0.011388700455427,-0.034310407936573,-0.060855280607939,-0.075209029018879));
res += mul(Get(s1,0,-dy), float4x4(-0.035340659320354,0.116774506866932,-0.178600326180458,-0.171309426426888,-0.033052127808332,0.016419202089310,-0.006456697359681,-0.047836229205132,-0.063668042421341,-0.080212011933327,0.104607932269573,0.006814834196121,-0.028627583757043,-0.000793575833086,0.073754534125328,0.039572078734636));
res += mul(Get(s1,0,0), float4x4(0.034661959856749,0.008865961804986,-0.024534482508898,-0.119850672781467,0.022353524342179,0.037397395819426,0.094233877956867,-0.070984259247780,-0.034086097031832,0.007741373032331,0.059158645570278,0.043555550277233,0.040873266756535,-0.027912881225348,0.042240273207426,-0.056027375161648));
res += mul(Get(s1,0,dy), float4x4(0.075360335409641,-0.092184908688068,-0.118052266538143,-0.038095947355032,0.004106142558157,0.098784998059273,0.082181110978127,-0.075579866766930,-0.015058117918670,0.115342102944851,-0.113597281277180,0.010069678537548,0.056867659091949,0.052738908678293,-0.066057160496712,-0.115493297576904));
res += mul(Get(s1,dx,-dy), float4x4(-0.160326495766640,0.228327259421349,0.137375071644783,-0.115296632051468,-0.075214020907879,-0.055688861757517,0.048262704163790,-0.072159297764301,-0.097539909183979,-0.045877955853939,0.081886135041714,0.012212740257382,-0.014458167366683,-0.090084694325924,0.026669526472688,0.135110199451447));
res += mul(Get(s1,dx,0), float4x4(-0.081751331686974,0.065384879708290,0.109136268496513,-0.023595454171300,0.125984668731689,0.022449636831880,-0.058998223394156,0.011201105080545,-0.060034886002541,-0.070552498102188,0.011377209797502,0.012306977063417,0.060282628983259,0.028276389464736,0.151682466268539,0.039913974702358));
res += mul(Get(s1,dx,dy), float4x4(0.112233214080334,0.132306516170502,0.057605866342783,0.080800987780094,0.073640331625938,-0.045930627733469,-0.032951284199953,-0.046691980212927,-0.027770243585110,-0.087882317602634,-0.165650695562363,-0.003518746234477,-0.037677410990000,0.149767637252808,0.061633124947548,0.049340192228556));
res += mul(Get(s2,-dx,-dy), float4x4(0.023098461329937,-0.064051836729050,-0.074261896312237,-0.109845936298370,-0.001784950844012,-0.135978281497955,0.169047921895981,-0.027895476669073,0.118878491222858,-0.037157654762268,0.057755947113037,0.035497546195984,0.078908562660217,0.013611682690680,-0.018454279750586,0.158200055360794));
res += mul(Get(s2,-dx,0), float4x4(-0.171283587813377,-0.056222710758448,-0.096950985491276,-0.147889450192451,-0.019680712372065,-0.011520316824317,0.172938048839569,0.094344973564148,0.088327981531620,-0.000616333563812,-0.010638038627803,-0.041560087352991,0.012331932783127,0.056933518499136,-0.001492858049460,0.020763818174601));
res += mul(Get(s2,-dx,dy), float4x4(-0.067459255456924,-0.152056127786636,-0.197727322578430,-0.131905987858772,0.092311128973961,0.009571927599609,-0.025435335934162,0.005807475652546,0.031190978363156,-0.183371752500534,0.014386774972081,0.119610056281090,0.118472576141357,-0.146329015493393,-0.082837790250778,-0.043937616050243));
res += mul(Get(s2,0,-dy), float4x4(0.090827487409115,0.020499799400568,-0.141038969159126,-0.074764519929886,0.060547851026058,0.080113776028156,-0.116785697638988,0.128768414258957,0.227219998836517,0.012775151990354,0.053362067788839,0.000860492582433,0.057985831052065,0.099428385496140,0.027762392535806,0.023547690361738));
res += mul(Get(s2,0,0), float4x4(0.049430195242167,0.083862237632275,0.020676037296653,-0.056909728795290,-0.049197591841221,0.035608626902103,0.262171298265457,-0.022312385961413,-0.099500939249992,-0.105467170476913,0.028620660305023,0.019002648070455,0.115082584321499,0.073308125138283,0.108216919004917,-0.042092327028513));
res += mul(Get(s2,0,dy), float4x4(0.041372224688530,-0.064175434410572,-0.130943372845650,0.053346261382103,-0.052589502185583,0.082669556140900,-0.043511971831322,-0.121340177953243,-0.034639023244381,0.126134306192398,-0.077112019062042,0.097814001142979,0.036884579807520,0.005238255485892,-0.118831709027290,-0.022833649069071));
res += mul(Get(s2,dx,-dy), float4x4(-0.023105962201953,-0.038961518555880,-0.020757045596838,0.027751857414842,0.018329301849008,-0.065543018281460,-0.024628572165966,0.105816207826138,0.254887968301773,0.076694898307323,0.145019441843033,0.034435823559761,0.075145006179810,-0.086350373923779,-0.119343250989914,-0.031906172633171));
res += mul(Get(s2,dx,0), float4x4(0.062366478145123,-0.014659617096186,-0.020572263747454,-0.046129100024700,-0.054037023335695,0.071657896041870,0.068003296852112,0.048627059906721,0.064286753535271,-0.001165077672340,0.078504286706448,-0.093037709593773,0.083962805569172,0.003117874031886,0.197334334254265,0.048717692494392));
res += mul(Get(s2,dx,dy), float4x4(0.045468106865883,-0.042680475860834,-0.130821302533150,0.006085621193051,0.062634736299515,0.052575327455997,-0.065808832645416,-0.119184449315071,0.078465260565281,0.103874415159225,-0.124040924012661,0.144342616200447,0.066983588039875,0.016655236482620,-0.067882373929024,0.031184032559395));
res += mul(Get(s3,-dx,-dy), float4x4(-0.024506218731403,-0.323988109827042,-0.129375427961349,-0.105019703507423,-0.021767463535070,0.092508018016815,0.024409445002675,-0.146348908543587,-0.070954032242298,-0.068852871656418,-0.055369962006807,-0.171773225069046,-0.069861754775047,-0.143480181694031,0.108090020716190,-0.014717691577971));
res += mul(Get(s3,-dx,0), float4x4(-0.027245925739408,-0.197025060653687,0.055912997573614,-0.020997030660510,-0.045844979584217,0.129025071859360,-0.065347097814083,-0.087284676730633,0.029718123376369,0.011536227539182,0.110419169068336,0.042763330042362,-0.019316894933581,-0.139702633023262,0.014047660864890,0.004794931970537));
res += mul(Get(s3,-dx,dy), float4x4(-0.069517709314823,-0.090960212051868,0.133709847927094,-0.035882506519556,-0.024227980524302,0.157888948917389,-0.060424525290728,0.012546273879707,-0.048328530043364,-0.048030383884907,-0.150553837418556,-0.012631144374609,0.072128430008888,-0.185567453503609,0.056023351848125,0.133136689662933));
res += mul(Get(s3,0,-dy), float4x4(-0.060775682330132,-0.008719650097191,-0.027966594323516,-0.087239950895309,-0.092747092247009,-0.093252182006836,0.036452423781157,-0.107113957405090,-0.042186129838228,-0.019086539745331,-0.009653383865952,0.097888320684433,0.053893994539976,0.045108679682016,-0.004516978748143,0.118242479860783));
res += mul(Get(s3,0,0), float4x4(-0.042788382619619,0.087282106280327,0.002351139904931,0.030516443774104,0.032465130090714,-0.026451306417584,-0.092355944216251,-0.041440088301897,0.012738018296659,-0.017344478517771,-0.074641294777393,0.057295475155115,0.002065811771899,0.078486859798431,0.019259532913566,-0.025490313768387));
res += mul(Get(s3,0,dy), float4x4(-0.078806236386299,0.079984299838543,-0.028653513640165,0.021299922838807,0.000603056512773,-0.017147554084659,-0.084186181426048,-0.064485803246498,0.042514238506556,0.093139007687569,0.066093109548092,-0.071829445660114,0.035600330680609,0.001337707042694,-0.070165671408176,0.014881181530654));
res += mul(Get(s3,dx,-dy), float4x4(-0.101283274590969,-0.078308328986168,0.094351872801781,-0.063133716583252,0.064608380198479,0.142756283283234,0.160289391875267,-0.050973441451788,-0.073730029165745,0.007567388936877,0.025557825341821,0.062005810439587,0.057947788387537,-0.062243241816759,-0.099564768373966,0.172281593084335));
res += mul(Get(s3,dx,0), float4x4(0.063637018203735,-0.165380164980888,0.025311479344964,-0.026145923882723,-0.028271332383156,-0.049723539501429,0.082568675279617,0.000387530686567,-0.005170111544430,0.082601010799408,-0.096977710723877,0.265073210000992,-0.114440016448498,0.004091053735465,0.033518012613058,-0.124772332608700));
res += mul(Get(s3,dx,dy), float4x4(-0.033601727336645,-0.085288971662521,0.032994989305735,-0.098014920949936,0.054865878075361,0.064199388027191,-0.007192150689662,0.022829269990325,0.098604790866375,0.053484529256821,-0.079984262585640,-0.028522927314043,-0.023771822452545,-0.036432027816772,0.026392063125968,-0.013700123876333));
return max(float4(0,0,0,0), res);
}
