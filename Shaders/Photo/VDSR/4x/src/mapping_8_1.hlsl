sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.006823323201388,-0.019000792875886,-0.018149519339204,-0.089539229869843,-0.095584288239479,-0.026804341003299,0.023131191730499,0.061970397830009,-0.145718693733215,0.001533901551738,-0.142672002315521,0.092562593519688,0.045505568385124,-0.104974381625652,0.059150788933039,-0.131474152207375));
res += mul(Get(s0,-dx,0), float4x4(0.000989897293039,0.191268280148506,-0.106121398508549,-0.046218086034060,-0.059027001261711,0.034419469535351,-0.012848138809204,0.043767452239990,-0.162418976426125,0.032623104751110,0.017816232517362,0.028425399214029,0.010868408717215,0.143642589449883,-0.147939398884773,-0.088098026812077));
res += mul(Get(s0,-dx,dy), float4x4(-0.030502580106258,-0.249688595533371,-0.080055505037308,0.179179340600967,0.010084293782711,0.070944547653198,0.009651928208768,0.019486185163260,-0.045135568827391,0.123250566422939,-0.118044920265675,0.050753459334373,-0.066895201802254,0.045685108751059,0.146576553583145,-0.044347718358040));
res += mul(Get(s0,0,-dy), float4x4(-0.072928108274937,-0.022010816261172,0.031112020835280,-0.069470219314098,0.015193209983408,-0.019395483657718,-0.060485452413559,-0.104236245155334,-0.088497735559940,-0.074972622096539,0.095773115754128,0.264248311519623,-0.118472337722778,-0.079822011291981,0.103080220520496,-0.078500002622604));
res += mul(Get(s0,0,0), float4x4(0.015308307483792,0.002342208521441,-0.097078882157803,0.032832488417625,-0.013578574173152,0.080591186881065,-0.081778563559055,-0.112651892006397,0.039662435650826,-0.011186127550900,0.125355228781700,0.158090189099312,-0.085003860294819,-0.071619294583797,0.218519270420074,-0.077108509838581));
res += mul(Get(s0,0,dy), float4x4(0.047331906855106,0.057362176477909,-0.101897865533829,-0.036784976720810,0.065246142446995,0.083914898335934,-0.041335381567478,-0.002780841896310,-0.015874268487096,0.063035048544407,-0.094338044524193,0.125650510191917,-0.054169137030840,0.035448294132948,-0.014172669500113,-0.036068562418222));
res += mul(Get(s0,dx,-dy), float4x4(-0.147800236940384,0.101944163441658,-0.042317587882280,-0.121990367770195,-0.012705477885902,-0.000178426431376,0.043553300201893,-0.141696140170097,0.011382291093469,-0.010785308666527,0.156839340925217,0.046389166265726,0.050930883735418,-0.076172605156898,-0.120052188634872,0.025181135162711));
res += mul(Get(s0,dx,0), float4x4(-0.083010718226433,-0.060518521815538,-0.062424752861261,0.000314366508974,-0.019131820648909,0.001137211802416,0.196087703108788,-0.106934227049351,0.022929118946195,-0.127934738993645,0.080868355929852,-0.062086921185255,-0.114358924329281,-0.170417442917824,-0.038100048899651,-0.037863738834858));
res += mul(Get(s0,dx,dy), float4x4(-0.117621161043644,0.026411494240165,-0.082999505102634,0.089285261929035,0.071240834891796,-0.008025520481169,0.031999744474888,0.080257497727871,0.021526595577598,-0.071353852748871,-0.102374158799648,0.114699140191078,0.002197949215770,0.088423989713192,-0.092166312038898,-0.121206231415272));
res += mul(Get(s1,-dx,-dy), float4x4(0.061853121966124,-0.133298218250275,0.004613876342773,-0.151775151491165,-0.022304434329271,-0.040597792714834,0.018445380032063,-0.130447313189507,-0.162667572498322,-0.129393637180328,0.182802692055702,-0.108564205467701,-0.009729340672493,-0.021085843443871,0.156204387545586,-0.052053991705179));
res += mul(Get(s1,-dx,0), float4x4(0.126343086361885,-0.026743520051241,-0.064087711274624,0.021106900647283,0.157375738024712,0.032203298062086,0.027159241959453,-0.150386795401573,-0.038365609943867,-0.059227149933577,0.090208627283573,-0.015244591049850,0.240323424339294,-0.155860841274261,0.100383080542088,-0.054104879498482));
res += mul(Get(s1,-dx,dy), float4x4(0.090359963476658,0.078509658575058,0.047948915511370,-0.047424215823412,-0.037828333675861,-0.031736556440592,-0.009308177977800,-0.085047952830791,-0.113911680877209,-0.069252781569958,-0.016059443354607,-0.058143187314272,0.155394062399864,0.027883030474186,0.090810507535934,0.056886304169893));
res += mul(Get(s1,0,-dy), float4x4(0.036751199513674,0.043553914874792,-0.048946306109428,0.003026251215488,-0.007999837398529,0.085760004818439,-0.054554168134928,-0.144772827625275,-0.052457623183727,-0.145129755139351,-0.039098136126995,0.072597764432430,-0.152940854430199,0.067741513252258,-0.047498621046543,-0.015234736725688));
res += mul(Get(s1,0,0), float4x4(0.030026562511921,0.068473011255264,0.034049019217491,0.207747772336006,0.429371893405914,-0.068441577255726,-0.204308137297630,-0.064448706805706,-0.048160541802645,-0.054509770125151,-0.167892947793007,0.054363388568163,0.057912915945053,0.017921067774296,0.044579941779375,0.002492758678272));
res += mul(Get(s1,0,dy), float4x4(0.153874963521957,-0.088552251458168,0.072484679520130,0.080059155821800,0.064967155456543,-0.115461356937885,-0.140051230788231,0.161272913217545,-0.093715764582157,-0.174187541007996,0.110437892377377,0.044311448931694,-0.088341690599918,0.005434519145638,-0.087551377713680,0.125070184469223));
res += mul(Get(s1,dx,-dy), float4x4(-0.062168333679438,0.062689937651157,-0.000548908486962,0.054024685174227,-0.129561111330986,0.076148405671120,-0.104116179049015,-0.062425192445517,0.046083662658930,-0.174596592783928,0.052541483193636,0.062433458864689,-0.084508396685123,-0.065426491200924,-0.043217353522778,0.040167417377234));
res += mul(Get(s1,dx,0), float4x4(0.008299279958010,0.013602556660771,-0.005749578587711,0.110385596752167,0.042680151760578,0.241161763668060,-0.086939111351967,0.043816894292831,0.061401750892401,-0.097845084965229,-0.095130920410156,0.195487663149834,0.061190757900476,0.062511540949345,0.033819038420916,-0.054730385541916));
res += mul(Get(s1,dx,dy), float4x4(0.191344484686852,-0.059089750051498,0.071736998856068,0.010791508480906,-0.036414694041014,0.097076825797558,0.040137812495232,0.087118417024612,0.011227213777602,-0.211394295096397,0.073889687657356,-0.033056546002626,-0.047206144779921,-0.159808889031410,-0.005595846567303,0.109947249293327));
res += mul(Get(s2,-dx,-dy), float4x4(-0.177096053957939,-0.080634586513042,-0.142803266644478,-0.000010519367606,-0.082045651972294,0.023831473663449,-0.183625325560570,0.006622869055718,0.048311408609152,-0.074118480086327,-0.158893316984177,-0.200023084878922,0.098181225359440,-0.205785170197487,-0.102246828377247,-0.033729214221239));
res += mul(Get(s2,-dx,0), float4x4(-0.079305790364742,0.241970717906952,0.047271557152271,-0.003737949067727,-0.014989700168371,-0.019350226968527,0.216568037867546,-0.019865296781063,-0.109687492251396,-0.016923751682043,-0.012143334373832,-0.036548633128405,0.011985401622951,-0.104035645723343,-0.009933750145137,-0.072149276733398));
res += mul(Get(s2,-dx,dy), float4x4(-0.086981788277626,0.192158550024033,-0.137030556797981,0.019936848431826,-0.035597253590822,-0.011434956453741,0.035842016339302,0.019644562155008,-0.099852964282036,-0.064670681953430,0.061558380723000,-0.039908304810524,-0.126600801944733,-0.074271224439144,-0.003179373219609,0.007850014604628));
res += mul(Get(s2,0,-dy), float4x4(-0.121668614447117,-0.149783506989479,-0.126530006527901,-0.022186232730746,-0.002441034885123,-0.051399551331997,0.252557814121246,-0.015602507628500,0.018651964142919,-0.010688925161958,-0.102477528154850,0.022609196603298,-0.023459473624825,-0.168651834130287,-0.110419020056725,-0.088318064808846));
res += mul(Get(s2,0,0), float4x4(-0.050698466598988,-0.011915213428438,0.093170106410980,-0.028968458995223,-0.022240690886974,-0.000450772029581,0.156781733036041,-0.030307993292809,-0.044101797044277,-0.018474854528904,-0.055189102888107,0.139969646930695,-0.062159318476915,-0.147137522697449,-0.029205460101366,0.003103872993961));
res += mul(Get(s2,0,dy), float4x4(0.053358912467957,-0.061912517994642,-0.050698641687632,0.038217607885599,-0.050840493291616,0.086905747652054,-0.146856114268303,-0.003874882357195,-0.049065478146076,-0.056258730590343,0.084527283906937,0.092527210712433,0.013810297474265,-0.082151561975479,-0.044237483292818,0.252196043729782));
res += mul(Get(s2,dx,-dy), float4x4(0.065146192908287,-0.038543473929167,-0.163706690073013,-0.076437927782536,-0.118567414581776,-0.028023729100823,0.049976550042629,-0.063072711229324,0.036533106118441,-0.036309968680143,-0.046504747122526,0.032395612448454,0.067757360637188,0.014030616730452,-0.090330913662910,-0.041361190378666));
res += mul(Get(s2,dx,0), float4x4(0.209861144423485,0.106102347373962,-0.116729460656643,-0.064968973398209,-0.057233285158873,-0.023631641641259,0.195473268628120,-0.010623005218804,0.036829616874456,-0.050360426306725,-0.083433873951435,0.045260757207870,-0.022068178281188,-0.041100081056356,-0.053469795733690,-0.106313668191433));
res += mul(Get(s2,dx,dy), float4x4(0.133659034967422,-0.031219586730003,0.078085683286190,-0.043503891676664,-0.023918576538563,0.050124570727348,-0.102580823004246,-0.023436442017555,0.062767013907433,-0.026004508137703,0.077912956476212,-0.076002404093742,-0.042316418141127,0.107065446674824,-0.048976778984070,-0.004140523262322));
res += mul(Get(s3,-dx,-dy), float4x4(0.024739991873503,-0.064035892486572,0.040332514792681,0.109577715396881,-0.022123759612441,0.177341803908348,-0.128751069307327,-0.060294322669506,0.109766133129597,-0.040133904665709,-0.042758829891682,-0.009293314069510,-0.131247058510780,0.101671285927296,-0.044631525874138,0.019387478008866));
res += mul(Get(s3,-dx,0), float4x4(0.160253807902336,-0.094144679605961,0.012406994588673,0.059702370315790,0.051834717392921,-0.101163342595100,0.026681575924158,-0.018375372514129,0.172458648681641,0.013452394865453,-0.042777169495821,-0.011411392129958,-0.118177451193333,-0.074196048080921,0.046204820275307,-0.032990001142025));
res += mul(Get(s3,-dx,dy), float4x4(-0.036910206079483,-0.041686292737722,0.105647109448910,0.087452009320259,-0.077120162546635,0.061414413154125,0.074581593275070,0.079657919704914,-0.095349065959454,-0.107363604009151,-0.030731314793229,-0.020410349592566,-0.115380801260471,-0.035208098590374,0.043013226240873,0.110771879553795));
res += mul(Get(s3,0,-dy), float4x4(-0.083184778690338,0.038448859006166,0.394378483295441,0.036776915192604,-0.033996816724539,-0.050504315644503,-0.017611913383007,-0.053620282560587,0.040616814047098,-0.000914078205824,-0.101717755198479,0.097479864954948,-0.036025594919920,-0.044058017432690,-0.034078609198332,-0.027664117515087));
res += mul(Get(s3,0,0), float4x4(0.076338969171047,-0.062229666858912,0.069277264177799,0.001513364957646,-0.017807655036449,0.098995849490166,-0.073042474687099,-0.010471435263753,-0.000107195308374,0.111006185412407,-0.050135120749474,0.043143525719643,-0.038778584450483,0.059308137744665,-0.107337482273579,-0.083772487938404));
res += mul(Get(s3,0,dy), float4x4(-0.127372562885284,0.026559863239527,0.000417898991145,-0.002436976414174,-0.043444249778986,0.065779335796833,0.137284159660339,0.075846165418625,-0.007215186487883,0.063715107738972,-0.089125111699104,-0.039510156959295,-0.007095734123141,-0.043197695165873,0.096224851906300,-0.008592448197305));
res += mul(Get(s3,dx,-dy), float4x4(-0.048761401325464,0.098332166671753,0.326412260532379,-0.058522459119558,0.011577620171010,-0.151195183396339,0.060059133917093,-0.024075057357550,-0.028863303363323,-0.021011110395193,-0.153733894228935,-0.024152485653758,-0.033709194511175,-0.067207559943199,-0.029123004525900,0.031199773773551));
res += mul(Get(s3,dx,0), float4x4(0.097673006355762,0.011575505137444,-0.005442235153168,0.011855181306601,0.098078645765781,-0.061980519443750,0.052967172116041,0.027306590229273,-0.162932261824608,0.124696850776672,-0.049121432006359,-0.063203521072865,-0.053492754697800,-0.135437935590744,0.046138375997543,-0.055990204215050));
res += mul(Get(s3,dx,dy), float4x4(-0.137364938855171,-0.145475611090660,-0.041595410555601,-0.068460412323475,-0.012146393768489,0.141762793064117,0.026533698663116,0.024075973778963,-0.151536062359810,0.114707753062248,-0.092407852411270,-0.011045213788748,-0.089931659400463,0.119694925844669,0.067677706480026,-0.091290980577469));
return max(float4(0,0,0,0), res);
}
