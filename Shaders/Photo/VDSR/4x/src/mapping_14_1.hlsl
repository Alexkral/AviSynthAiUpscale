sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.160589501261711,-0.095969535410404,0.074307046830654,-0.075089327991009,-0.073625184595585,-0.157357454299927,-0.019480569288135,-0.051704097539186,0.160367473959923,-0.093148693442345,-0.173629611730576,-0.053818758577108,-0.295275539159775,-0.041088223457336,-0.083502776920795,0.215165972709656));
res += mul(Get(s0,-dx,0), float4x4(-0.052070986479521,-0.037623971700668,-0.094872139394283,0.030903326347470,0.070754952728748,-0.346870511770248,0.005463209468871,-0.053573921322823,-0.076110847294331,0.267369061708450,-0.227311789989471,-0.090090595185757,0.034803658723831,0.039969060570002,-0.283227145671844,0.030423771589994));
res += mul(Get(s0,-dx,dy), float4x4(0.082516133785248,-0.160914197564125,-0.072860173881054,-0.012132590636611,-0.159297049045563,-0.017585726454854,-0.050556946545839,-0.012951681390405,-0.094111450016499,0.173905745148659,0.063677489757538,-0.080877840518951,0.132056176662445,0.132044106721878,-0.034326944500208,-0.106793835759163));
res += mul(Get(s0,0,-dy), float4x4(0.040893997997046,0.355667501688004,-0.066632412374020,0.010757649317384,-0.011427207849920,0.105986125767231,-0.168042853474617,-0.098851852118969,0.041362922638655,0.075447484850883,0.182432070374489,0.051954649388790,-0.092038959264755,0.015542382374406,-0.193389400839806,-0.051936052739620));
res += mul(Get(s0,0,0), float4x4(-0.101560875773430,0.234433531761169,-0.075133576989174,0.071472465991974,-0.235232383012772,0.042884837836027,-0.013277116231620,-0.155388534069061,0.029854955151677,0.114870935678482,-0.250199764966965,0.046655591577291,0.023644678294659,-0.008676671423018,0.038359932601452,0.027805831283331));
res += mul(Get(s0,0,dy), float4x4(-0.151210829615593,0.090878173708916,-0.103012926876545,0.065591864287853,0.173077613115311,0.203013524413109,0.065061077475548,-0.081026509404182,-0.027657888829708,0.035360686480999,0.130780115723610,0.060205101966858,-0.046697206795216,0.046041749417782,0.071403168141842,0.218118757009506));
res += mul(Get(s0,dx,-dy), float4x4(-0.124638132750988,0.040739368647337,0.068190567195415,0.020872348919511,-0.033805005252361,0.051697302609682,0.001292668981478,0.048114847391844,-0.143402457237244,-0.133052557706833,-0.252225518226624,-0.058178916573524,-0.008842948824167,-0.087603911757469,0.050081714987755,-0.010399538092315));
res += mul(Get(s0,dx,0), float4x4(-0.016955200582743,0.040747374296188,-0.132629737257957,0.065303586423397,-0.040035691112280,-0.026713268831372,0.016091046854854,0.129186302423477,-0.056187495589256,0.007434063125402,0.072556443512440,0.109655633568764,-0.312323242425919,-0.207156822085381,0.063447274267673,0.135337859392166));
res += mul(Get(s0,dx,dy), float4x4(-0.160233393311501,-0.236137419939041,-0.028659952804446,-0.066735900938511,0.010116524994373,0.035546761006117,0.152097880840302,-0.064559139311314,0.062938019633293,-0.100809909403324,-0.130910381674767,0.132265567779541,-0.068460889160633,0.163628458976746,0.122100777924061,-0.134877607226372));
res += mul(Get(s1,-dx,-dy), float4x4(-0.002814743900672,0.059516720473766,0.088487170636654,-0.095088854432106,-0.169176191091537,-0.063131190836430,-0.100676782429218,0.052638184279203,-0.030259026214480,-0.001843430683948,0.041832868009806,0.194648146629333,-0.048694662749767,-0.058079965412617,-0.092857629060745,-0.001748369191773));
res += mul(Get(s1,-dx,0), float4x4(-0.120350614190102,-0.098262839019299,-0.132229015231133,-0.052562490105629,0.059201382100582,0.139662832021713,0.111719720065594,-0.074105553328991,-0.011867422610521,-0.041071057319641,-0.048631992191076,-0.017250180244446,-0.162118852138519,-0.171011433005333,-0.011118003167212,0.132137075066566));
res += mul(Get(s1,-dx,dy), float4x4(0.041304171085358,0.353779256343842,-0.066300660371780,0.063721098005772,-0.075745351612568,0.017734348773956,0.122974477708340,-0.048071399331093,0.115974485874176,0.016952533274889,-0.006821618415415,0.001348352641799,0.118241749703884,0.136871010065079,-0.026500103995204,0.071464590728283));
res += mul(Get(s1,0,-dy), float4x4(0.106680817902088,-0.211135223507881,-0.030112255364656,0.139271184802055,0.167259022593498,0.044760894030333,0.013508031144738,0.028015941381454,-0.208025440573692,-0.047708742320538,-0.063778907060623,-0.076039545238018,-0.041664633899927,0.089219167828560,-0.139250829815865,0.057071626186371));
res += mul(Get(s1,0,0), float4x4(-0.083232171833515,-0.025711424648762,-0.120420843362808,-0.109162427484989,-0.035364538431168,0.091835200786591,-0.051440179347992,-0.016648542135954,-0.116400219500065,-0.178561717271805,0.016411369666457,-0.088122382760048,0.009648569859564,-0.032024204730988,0.113573409616947,-0.123353756964207));
res += mul(Get(s1,0,dy), float4x4(0.103712387382984,0.044852118939161,0.040425494313240,0.114967919886112,0.117921292781830,0.166122406721115,-0.154472932219505,-0.045984208583832,0.223664715886116,-0.035347703844309,0.060276873409748,-0.269221216440201,0.045369915664196,0.015083096921444,-0.017648745328188,0.047232951968908));
res += mul(Get(s1,dx,-dy), float4x4(-0.152822852134705,-0.229968249797821,-0.028743863105774,0.069798678159714,-0.064482532441616,0.012392209842801,0.158700093626976,0.027983365580440,-0.057620067149401,-0.088081672787666,-0.000934778712690,0.063306458294392,-0.013785910792649,-0.179481044411659,0.160231396555901,-0.052330743521452));
res += mul(Get(s1,dx,0), float4x4(-0.113439664244652,0.009803711436689,-0.006814789026976,-0.223130494356155,-0.033491078764200,0.077479429543018,-0.005054257810116,0.000496572698466,-0.049663629382849,0.089201331138611,0.031447369605303,0.057045310735703,-0.018564553931355,-0.034582246094942,-0.147053614258766,0.081181094050407));
res += mul(Get(s1,dx,dy), float4x4(0.109230235219002,0.148769065737724,0.122330054640770,-0.059488642960787,-0.222154244780540,-0.175624176859856,0.092642754316330,-0.053793352097273,0.134817928075790,-0.013789311982691,-0.012583559378982,0.046745888888836,0.028505101799965,0.116223424673080,-0.048594623804092,-0.047399822622538));
res += mul(Get(s2,-dx,-dy), float4x4(0.016235470771790,0.052841503173113,0.012098097242415,0.119703337550163,0.008915265090764,-0.241930127143860,-0.032393712550402,-0.113832026720047,-0.068697176873684,-0.127339556813240,-0.135621622204781,0.203981295228004,0.164150655269623,-0.028645042330027,-0.086045309901237,0.140377029776573));
res += mul(Get(s2,-dx,0), float4x4(0.001432618708350,-0.247839808464050,0.036254175007343,0.044532433152199,0.036720376461744,0.163614258170128,-0.010265726596117,0.213612660765648,-0.028726670891047,0.028793824836612,0.187907949090004,-0.162730142474174,0.209137290716171,-0.166184082627296,-0.022731365635991,-0.106987565755844));
res += mul(Get(s2,-dx,dy), float4x4(-0.005148785188794,-0.117327474057674,-0.126362651586533,0.046485755592585,-0.087035275995731,-0.099542230367661,-0.074271947145462,0.145846530795097,-0.157161593437195,0.086665041744709,0.257420808076859,0.080866910517216,-0.081164322793484,-0.191804155707359,0.171617105603218,-0.190085604786873));
res += mul(Get(s2,0,-dy), float4x4(-0.120446972548962,0.054269514977932,-0.048393718898296,-0.049508370459080,-0.039797455072403,-0.138241216540337,0.075336001813412,0.123353235423565,-0.176489651203156,0.042205501347780,-0.030711164698005,0.112644612789154,0.100067302584648,-0.163852810859680,-0.026697263121605,-0.015464371070266));
res += mul(Get(s2,0,0), float4x4(-0.016415081918240,-0.008469306863844,-0.096662648022175,-0.035984888672829,-0.171611011028290,-0.002190061379224,0.051429640501738,0.139505684375763,-0.077897131443024,-0.140291407704353,-0.037232603877783,0.159646779298782,0.017601439729333,-0.028929725289345,-0.065549112856388,0.060998436063528));
res += mul(Get(s2,0,dy), float4x4(-0.163860246539116,-0.227357730269432,-0.183946743607521,0.160165235400200,-0.104501351714134,-0.194047674536705,-0.058565199375153,-0.087560705840588,0.304126650094986,-0.093747764825821,-0.092504993081093,-0.051433652639389,0.105729795992374,0.272392094135284,-0.219609647989273,-0.058260429650545));
res += mul(Get(s2,dx,-dy), float4x4(-0.196511238813400,0.116445019841194,0.022773997858167,0.166199505329132,0.060665838420391,0.152932927012444,0.148122325539589,0.164263978600502,0.069440096616745,-0.038702894002199,-0.039427962154150,0.194648399949074,-0.060442455112934,-0.078270070254803,0.083211816847324,-0.099615149199963));
res += mul(Get(s2,dx,0), float4x4(0.114469625055790,0.011204252950847,-0.095230035483837,-0.013311529532075,-0.002485191216692,-0.018603621050715,-0.065072312951088,0.173937991261482,0.129277288913727,0.049055557698011,-0.034515336155891,-0.039950996637344,0.159038528800011,0.049628086388111,-0.100246287882328,0.105798982083797));
res += mul(Get(s2,dx,dy), float4x4(-0.109167948365211,-0.050379835069180,-0.108548328280449,0.084815315902233,0.050581496208906,0.023018665611744,-0.024270871654153,0.013323686085641,0.017209274694324,0.193484455347061,0.021790890023112,-0.015957614406943,0.091375999152660,-0.012751863338053,0.056608814746141,0.046053025871515));
res += mul(Get(s3,-dx,-dy), float4x4(-0.046739220619202,0.002473043045029,0.050289284437895,0.043378870934248,0.019468087702990,0.120366364717484,-0.098126642405987,-0.056806884706020,0.083090543746948,0.087445281445980,0.091016203165054,0.090717762708664,0.164157867431641,-0.208791211247444,-0.006007874850184,0.022400779649615));
res += mul(Get(s3,-dx,0), float4x4(-0.019305722787976,0.164071828126907,0.019203394651413,0.002261006738991,-0.049399133771658,0.055137220770121,-0.095668047666550,-0.061655402183533,-0.060890197753906,-0.065723747014999,0.059634115546942,0.042619124054909,-0.162925094366074,-0.001901627867483,-0.038633380085230,0.192537158727646));
res += mul(Get(s3,-dx,dy), float4x4(-0.133250892162323,0.271490067243576,-0.107785098254681,0.058244682848454,0.013550479896367,0.134749487042427,0.209604784846306,0.072625242173672,-0.028564004227519,0.089577607810497,-0.149495229125023,-0.006134559866041,-0.249214664101601,-0.135153099894524,0.132177427411079,0.069976873695850));
res += mul(Get(s3,0,-dy), float4x4(-0.160412058234215,0.011969654820859,0.026082675904036,-0.150837540626526,0.069456197321415,0.050858281552792,0.011864764615893,-0.102962426841259,-0.083345547318459,-0.123465381562710,0.084127806127071,-0.025691540911794,-0.054703548550606,0.030185582116246,-0.134727895259857,-0.050186634063721));
res += mul(Get(s3,0,0), float4x4(0.009512723423541,0.066480971872807,0.109570227563381,0.063790798187256,0.114274181425571,-0.102937944233418,-0.025118559598923,0.132181078195572,0.144399195909500,-0.107724659144878,-0.102865740656853,-0.096386685967445,0.022630024701357,-0.081555478274822,-0.105129785835743,-0.006298678927124));
res += mul(Get(s3,0,dy), float4x4(0.039898697286844,0.002321323147044,-0.068307161331177,0.042433701455593,-0.137644335627556,-0.219440892338753,0.139305546879768,0.188994705677032,-0.168467819690704,-0.019455406814814,0.038624335080385,0.150722160935402,0.107212066650391,-0.088672488927841,0.019026510417461,0.045689068734646));
res += mul(Get(s3,dx,-dy), float4x4(0.060300163924694,-0.038209117949009,-0.046072732657194,0.019631424918771,0.008251489140093,-0.063708454370499,-0.129254773259163,-0.114767946302891,0.192714691162109,0.101496376097202,-0.081021465361118,0.053358029574156,-0.021229598671198,0.272325485944748,0.001960904803127,-0.014648759737611));
res += mul(Get(s3,dx,0), float4x4(0.066390179097652,0.123226188123226,-0.047602385282516,0.000224655654165,-0.020582322031260,0.085153341293335,0.146619200706482,0.037838280200958,-0.006702554877847,0.054447557777166,0.119598053395748,0.195078536868095,0.028396837413311,-0.068800449371338,-0.071206137537956,0.094863712787628));
res += mul(Get(s3,dx,dy), float4x4(0.003628683276474,0.043942678719759,0.028796683996916,-0.082754120230675,0.244392618536949,0.110107943415642,-0.043871957808733,-0.125103875994682,-0.283705890178680,-0.116557329893112,-0.173235967755318,0.052690558135509,0.113314032554626,-0.150558173656464,0.001174962148070,0.037085343152285));
return max(float4(0,0,0,0), res);
}
