sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.011639233678579,-0.044785819947720,0.172540158033371,-0.035376317799091,-0.005974467843771,-0.081743121147156,0.035543944686651,0.131664976477623,0.062652416527271,0.139914825558662,0.100111842155457,0.113833479583263,-0.026605529710650,0.071351543068886,-0.110441878437996,-0.086716204881668));
res += mul(Get(s0,-dx,0), float4x4(-0.059565108269453,-0.070892177522182,-0.009554586373270,0.003318972885609,-0.070067323744297,0.004674429073930,-0.033078406006098,0.094817414879799,0.028964811936021,0.114384874701500,-0.051220286637545,0.027090527117252,-0.024118468165398,-0.031610455363989,-0.207115381956100,-0.060172881931067));
res += mul(Get(s0,-dx,dy), float4x4(0.172679036855698,-0.075801335275173,-0.057196527719498,0.074050925672054,0.078327611088753,0.031747121363878,-0.061716619879007,0.188177362084389,-0.067313596606255,-0.009288338012993,-0.047071829438210,-0.158418968319893,-0.086884617805481,-0.007259363308549,0.074162393808365,0.193016648292542));
res += mul(Get(s0,0,-dy), float4x4(-0.022136278450489,-0.010945070534945,0.126673787832260,-0.069617927074432,0.027876565232873,0.018201354891062,-0.029239123687148,0.128030851483345,-0.071216426789761,0.064992032945156,0.003998586442322,0.130887076258659,-0.017167929559946,-0.007451535202563,0.070746712386608,0.021302256733179));
res += mul(Get(s0,0,0), float4x4(0.164089962840080,0.031723007559776,-0.023740574717522,-0.028058296069503,-0.016651684418321,0.023178577423096,0.014821821823716,-0.222762748599052,0.002892268821597,-0.039971902966499,-0.110611379146576,0.028826504945755,0.041299398988485,0.014330552890897,0.105376586318016,0.018682258203626));
res += mul(Get(s0,0,dy), float4x4(-0.110378041863441,0.055390678346157,-0.025341644883156,0.001151322852820,0.119941852986813,-0.001082805567421,-0.009151449427009,0.110379725694656,-0.028809357434511,0.020974552258849,-0.027472404763103,-0.078488811850548,-0.065842390060425,-0.047987256199121,-0.021949233487248,0.101885177195072));
res += mul(Get(s0,dx,-dy), float4x4(0.036571327596903,-0.033285275101662,0.124696679413319,-0.086772739887238,-0.040276065468788,0.100412413477898,-0.210797473788261,-0.038215260952711,0.014231064356863,0.202194511890411,-0.113743886351585,0.044299975037575,-0.005298413801938,0.076387383043766,0.032174453139305,-0.049667742103338));
res += mul(Get(s0,dx,0), float4x4(-0.099873654544353,0.010603008791804,0.110997915267944,0.046272233128548,0.173707500100136,0.123967990279198,-0.029028143733740,-0.038454495370388,0.013403594493866,0.029610987752676,-0.020022062584758,-0.026610810309649,0.036907505244017,0.060727048665285,0.060662310570478,-0.014723299071193));
res += mul(Get(s0,dx,dy), float4x4(-0.020815843716264,-0.052805908024311,0.035800598561764,0.071463078260422,-0.066574804484844,0.095858633518219,-0.053791560232639,0.180221587419510,-0.028159197419882,0.035363044589758,0.063409544527531,-0.068885423243046,-0.051815491169691,0.037747811526060,-0.019957626238465,-0.001977995038033));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045338135212660,-0.048619952052832,-0.001532502472401,0.102761872112751,0.008363820612431,0.075424723327160,-0.070033527910709,0.041172344237566,-0.070132061839104,-0.111150890588760,-0.101589620113373,0.102960757911205,-0.057045985013247,-0.054989591240883,-0.095151156187057,-0.040281299501657));
res += mul(Get(s1,-dx,0), float4x4(0.060282748192549,0.090958967804909,0.010208298452199,0.049107324331999,-0.088088355958462,0.089640945196152,0.031280826777220,-0.042473923414946,0.003236306831241,0.119012974202633,-0.125682428479195,-0.080021768808365,0.004287182353437,-0.044902168214321,0.122061312198639,-0.042986530810595));
res += mul(Get(s1,-dx,dy), float4x4(0.050801690667868,-0.015728307887912,-0.119755059480667,-0.063343122601509,-0.005187613889575,0.090383432805538,0.021161675453186,0.064536847174168,-0.149859189987183,-0.009399877861142,-0.328889399766922,-0.107069402933121,0.137905865907669,0.055482398718596,0.026166316121817,0.149579718708992));
res += mul(Get(s1,0,-dy), float4x4(0.068239040672779,0.122698247432709,-0.035573225468397,0.107252128422260,-0.032841693609953,0.043887961655855,0.100974485278130,0.047582518309355,-0.054440632462502,-0.148366957902908,-0.117560259997845,0.007415408734232,0.045855212956667,0.076426059007645,0.053930539637804,0.015294227749109));
res += mul(Get(s1,0,0), float4x4(-0.025798004120588,0.090579450130463,-0.059281509369612,0.090391494333744,-0.009952343069017,0.060088708996773,0.046622265130281,-0.013720094226301,0.033163011074066,-0.010637862607837,-0.101900987327099,-0.172179654240608,0.098088689148426,0.000021749290681,-0.000684639438987,0.049154382199049));
res += mul(Get(s1,0,dy), float4x4(-0.079726308584213,0.005036370363086,0.001193569507450,-0.092698164284229,0.126208111643791,0.045913275331259,0.034130062907934,-0.039252806454897,-0.073908954858780,-0.052362155169249,-0.109050177037716,-0.065274395048618,0.030989905819297,0.088111802935600,-0.073610521852970,-0.041552294045687));
res += mul(Get(s1,dx,-dy), float4x4(0.009459014981985,0.036084476858377,0.041652988642454,0.033449776470661,-0.011972326785326,0.026695448905230,0.165876984596252,0.031905811280012,0.055654022842646,0.085136108100414,-0.040834147483110,-0.043733172118664,0.065017499029636,-0.070052392780781,0.126734927296638,-0.030379626899958));
res += mul(Get(s1,dx,0), float4x4(-0.118810236454010,-0.016869399696589,0.050877440720797,0.011272369883955,-0.011602493003011,0.006079926621169,0.040165662765503,-0.005814943928272,-0.135704070329666,0.093358650803566,-0.073344007134438,0.055340796709061,-0.024761909618974,-0.066453740000725,0.046217065304518,-0.007699584122747));
res += mul(Get(s1,dx,dy), float4x4(-0.124279148876667,-0.079475052654743,0.172094523906708,-0.148300483822823,-0.069694660604000,0.039803575724363,-0.080100543797016,0.112627290189266,-0.144791871309280,0.139682456851006,-0.033509127795696,0.063619099557400,0.002001169603318,0.042198345065117,0.047900289297104,0.000805207237136));
res += mul(Get(s2,-dx,-dy), float4x4(0.044547595083714,0.065356470644474,-0.034063648432493,0.045441392809153,-0.147804915904999,-0.079811677336693,0.011078614741564,0.069332227110863,0.065389364957809,-0.074367545545101,0.174316510558128,-0.101585410535336,-0.015648933127522,-0.060548827052116,-0.053269281983376,0.122864842414856));
res += mul(Get(s2,-dx,0), float4x4(0.113858096301556,-0.019140472635627,-0.110980965197086,0.124018967151642,0.039225935935974,0.005819808226079,-0.028321163728833,0.113999880850315,0.031433776021004,0.012070538476110,-0.030243944376707,-0.048398796468973,0.013856833800673,0.007474854588509,-0.024221010506153,-0.115368463099003));
res += mul(Get(s2,-dx,dy), float4x4(0.017120441421866,-0.133102938532829,-0.038626506924629,-0.100219689309597,0.029201503843069,-0.019428530707955,0.011856868863106,0.035292893648148,0.078640788793564,-0.029428608715534,-0.049282949417830,0.022294679656625,0.014591628685594,0.040607240051031,-0.107605919241905,0.025696285068989));
res += mul(Get(s2,0,-dy), float4x4(-0.072718523442745,-0.084648460149765,-0.033736817538738,-0.049298431724310,-0.027172410860658,0.006912699900568,-0.076759546995163,-0.037149779498577,0.067380063235760,-0.130703896284103,0.054983712732792,0.002092287875712,0.122708611190319,-0.051230806857347,-0.034216791391373,0.078463517129421));
res += mul(Get(s2,0,0), float4x4(-0.026313031092286,-0.062813580036163,-0.014113977551460,-0.043595023453236,0.110236480832100,-0.032344348728657,-0.004631916526705,0.022469647228718,-0.016902219504118,0.003099755849689,-0.058789890259504,-0.039742946624756,0.125789836049080,-0.007667518220842,-0.040533773601055,0.020204113796353));
res += mul(Get(s2,0,dy), float4x4(-0.021873813122511,-0.110385261476040,0.143657073378563,-0.005638243164867,-0.209403336048126,-0.122649602591991,0.112934648990631,0.026487117633224,-0.017671335488558,-0.089162580668926,0.006320972461253,0.048407301306725,0.106429710984230,0.071338042616844,-0.064121007919312,0.083793729543686));
res += mul(Get(s2,dx,-dy), float4x4(-0.119324415922165,-0.014645030722022,0.090012080967426,0.017954967916012,-0.010439525358379,0.004740032367408,0.137944966554642,0.017957415431738,0.041960448026657,-0.055688988417387,0.096994258463383,-0.010624249465764,-0.129283711314201,-0.016156962141395,0.053402595221996,0.053101729601622));
res += mul(Get(s2,dx,0), float4x4(-0.044883813709021,-0.114773876965046,-0.007701143622398,-0.028670039027929,0.140221089124680,-0.011670585721731,0.132440701127052,0.002695930888876,-0.039713636040688,0.052686020731926,-0.082654662430286,0.035965047776699,-0.084639817476273,0.009792328812182,0.053565587848425,0.098904728889465));
res += mul(Get(s2,dx,dy), float4x4(-0.014807835221291,-0.113439254462719,0.027775458991528,-0.049223728477955,-0.105126753449440,-0.171789005398750,0.004199809860438,-0.009610728360713,-0.015973385423422,0.072282113134861,-0.005386129487306,0.160765171051025,-0.141233697533607,-0.047589238733053,0.042756456881762,0.072377465665340));
res += mul(Get(s3,-dx,-dy), float4x4(0.063920274376869,-0.017940688878298,-0.079833909869194,-0.018100604414940,0.127095475792885,-0.045024167746305,-0.004269415512681,-0.091897733509541,0.058815915137529,0.017084321007133,0.082679405808449,0.023459432646632,-0.049925625324249,0.256062090396881,-0.054328389465809,-0.058993931859732));
res += mul(Get(s3,-dx,0), float4x4(-0.010260440409184,-0.043579500168562,-0.053078133612871,-0.139663055539131,0.077964693307877,0.061797082424164,0.065201267600060,0.018289567902684,-0.059475883841515,0.023742372170091,0.042019765824080,-0.014885773882270,-0.050633672624826,0.125221073627472,-0.117031157016754,-0.031613688915968));
res += mul(Get(s3,-dx,dy), float4x4(-0.028032766655087,0.010974601842463,-0.017710568383336,0.009396292269230,-0.040340889245272,0.021272044628859,0.132977724075317,-0.097269870340824,-0.120764948427677,-0.009237424470484,-0.104051411151886,-0.181457787752151,-0.047939077019691,0.040794353932142,-0.132427841424942,-0.045438390225172));
res += mul(Get(s3,0,-dy), float4x4(0.154979228973389,-0.029991209506989,0.037106782197952,0.036208286881447,-0.080374464392662,-0.075339049100876,0.088283032178879,-0.034662391990423,0.018140573054552,-0.082439877092838,0.087340191006660,0.031065985560417,-0.073468871414661,-0.113393768668175,0.032016366720200,-0.100581802427769));
res += mul(Get(s3,0,0), float4x4(0.029427006840706,-0.025976095348597,0.132038965821266,-0.028566367924213,-0.067357234656811,-0.039255719631910,-0.111412093043327,0.074159502983093,-0.020565558224916,-0.008123211562634,0.064302183687687,-0.023532977327704,0.035565208643675,-0.048081506043673,-0.015603783540428,-0.015858661383390));
res += mul(Get(s3,0,dy), float4x4(-0.092909812927246,-0.031569968909025,0.013818289153278,-0.006806346587837,-0.128064200282097,-0.027628095820546,-0.083622962236404,-0.124653875827789,-0.011149605736136,-0.055248770862818,0.029474193230271,-0.094238094985485,0.021778669208288,0.065192371606827,-0.071885749697685,0.081915631890297));
res += mul(Get(s3,dx,-dy), float4x4(0.013323848135769,-0.020377418026328,0.077638342976570,0.062245566397905,-0.123485736548901,-0.035207498818636,0.103124313056469,-0.097121775150299,0.009245999157429,-0.039900399744511,-0.050524588674307,0.164219364523888,-0.046709302812815,0.125239983201027,-0.004686302505434,0.003829360706732));
res += mul(Get(s3,dx,0), float4x4(-0.122942402958870,-0.069639720022678,0.054673638194799,-0.076113305985928,-0.034750506281853,-0.044329535216093,0.015870472416282,-0.097696162760258,0.203007578849792,0.065038844943047,-0.020747041329741,0.064898349344730,-0.055987387895584,0.107158519327641,-0.046606823801994,-0.101693749427795));
res += mul(Get(s3,dx,dy), float4x4(-0.085158258676529,-0.012638817541301,-0.021528676152229,-0.037935707718134,-0.058521978557110,-0.140555605292320,-0.044971514493227,-0.149234429001808,0.148566246032715,-0.046266194432974,0.059789020568132,-0.067277491092682,-0.062333624809980,0.050886698067188,-0.050876706838608,0.153191402554512));
return max(float4(0,0,0,0), res);
}
