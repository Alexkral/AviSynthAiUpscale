sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.143144115805626,-0.166691631078720,-0.321500331163406,-0.118406929075718,-0.013975499197841,0.016233922913671,-0.012913840822875,0.039197456091642,0.116631574928761,-0.021368250250816,0.192649215459824,0.015086475759745,-0.009132291190326,0.002966434461996,0.003274749964476,-0.001689004711807));
res += mul(Get(s0,-dx,0), float4x4(-0.050435300916433,0.044586610049009,0.021532014012337,-0.051215983927250,-0.019448939710855,0.003831900423393,-0.102010406553745,0.018756587058306,0.099166519939899,0.043640583753586,0.002264725975692,0.174220472574234,0.109534882009029,0.002934688469395,0.025615522637963,0.003223443636671));
res += mul(Get(s0,-dx,dy), float4x4(-0.030724195763469,-0.076206967234612,0.501390814781189,-0.098974525928497,-0.122079208493233,0.098268762230873,-0.078334577381611,-0.071485280990601,-0.191957652568817,0.108551681041718,0.051331471651793,0.133647143840790,0.045536573976278,0.006715565919876,0.005277781281620,0.013199066743255));
res += mul(Get(s0,0,-dy), float4x4(-0.187410578131676,-0.248919337987900,-0.135305657982826,-0.107681475579739,0.016325050964952,0.059493757784367,0.003988949581981,-0.002245943527669,-0.034080721437931,0.098110496997833,-0.023804148659110,-0.084664784371853,-0.042985793203115,-0.014732105657458,0.004193437285721,-0.008984241634607));
res += mul(Get(s0,0,0), float4x4(-0.043640695512295,0.014766676351428,0.153169736266136,-0.037834186106920,0.065589986741543,0.107167117297649,-0.089697703719139,0.087970271706581,0.059144034981728,0.160183936357498,-0.123398900032043,-0.015087988227606,0.045550208538771,-0.006257711444050,0.020655686035752,-0.025079548358917));
res += mul(Get(s0,0,dy), float4x4(0.043720904737711,0.032492186874151,0.236618712544441,-0.072682969272137,-0.026341430842876,0.161866113543510,-0.100086428225040,0.030817510560155,0.026816973462701,0.072978273034096,-0.080685161054134,-0.012721745297313,0.005302695557475,0.002764364704490,-0.011016152799129,-0.000245391915087));
res += mul(Get(s0,dx,-dy), float4x4(-0.301116913557053,-0.074666976928711,0.127755507826805,-0.228433892130852,-0.124076910316944,-0.097097344696522,0.121123984456062,0.069291293621063,-0.070500761270523,-0.039973441511393,0.046145476400852,-0.045570205897093,-0.075982093811035,-0.003804311156273,0.016848789528012,-0.009145038202405));
res += mul(Get(s0,dx,0), float4x4(-0.165428951382637,0.041160862892866,0.104079514741898,-0.155336216092110,-0.069833643734455,-0.047459468245506,0.037956871092319,0.146903589367867,-0.106512516736984,0.023007337003946,-0.003336692461744,0.010661460459232,-0.007424106355757,-0.005001569166780,0.044541571289301,-0.036321353167295));
res += mul(Get(s0,dx,dy), float4x4(0.036493625491858,-0.012194085866213,-0.122041709721088,-0.000972492271103,-0.053900331258774,0.038574207574129,-0.017258776351810,0.117749109864235,-0.155511096119881,0.073770850896835,-0.014073731377721,0.005397837609053,-0.022694215178490,-0.003790045389906,-0.007907954975963,-0.004787115380168));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030702777206898,0.060217335820198,0.079089283943176,-0.095123305916786,-0.158447697758675,-0.114947557449341,-0.041388075798750,-0.049517996609211,0.038571983575821,-0.166924729943275,0.237735405564308,-0.133684039115906,-0.186752125620842,-0.009910098277032,-0.026151165366173,-0.055504158139229));
res += mul(Get(s1,-dx,0), float4x4(-0.108758874237537,-0.029544202610850,-0.028589567169547,0.016930608078837,-0.143882840871811,-0.045833449810743,-0.158518567681313,-0.036565706133842,0.081009492278099,-0.148308247327805,0.095373235642910,-0.016911920160055,0.046089619398117,-0.072988189756870,-0.027610175311565,-0.039279762655497));
res += mul(Get(s1,-dx,dy), float4x4(-0.179749190807343,0.298267275094986,-0.212885588407516,-0.021035093814135,-0.168730616569519,0.101702786982059,-0.095180772244930,-0.115082599222660,-0.010338812135160,-0.031500201672316,-0.133577138185501,0.044395167380571,0.242946833372116,-0.106800973415375,-0.056738696992397,-0.073981896042824));
res += mul(Get(s1,0,-dy), float4x4(0.050507966428995,0.108505599200726,0.090120211243629,-0.031207319349051,0.013243261724710,-0.064855888485909,-0.092804558575153,-0.021509908139706,-0.273809850215912,0.176135316491127,-0.278165638446808,-0.063895471394062,-0.028433954343200,-0.040696073323488,-0.194872602820396,-0.112893596291542));
res += mul(Get(s1,0,0), float4x4(-0.056544139981270,-0.058011732995510,0.039454348385334,0.043634913861752,-0.147116363048553,-0.054951705038548,-0.095791526138783,0.087508939206600,-0.171948790550232,0.094135247170925,0.260724812746048,0.089295759797096,0.167748332023621,-0.051026463508606,-0.054810542613268,0.036259856075048));
res += mul(Get(s1,0,dy), float4x4(-0.161739319562912,0.214156776666641,-0.137200370430946,0.093003422021866,-0.096638441085815,0.001371307182126,-0.007992787286639,0.056543666869402,0.557133376598358,-0.046990532428026,0.201503694057465,-0.013068587519228,-0.120650276541710,0.067974120378494,-0.132115676999092,-0.130720943212509));
res += mul(Get(s1,dx,-dy), float4x4(0.009180879220366,0.072833172976971,-0.035484135150909,-0.046319074928761,-0.113749250769615,0.091884344816208,-0.241029486060143,-0.114798285067081,0.033713005483150,-0.183170735836029,-0.175743997097015,-0.072851128876209,0.068024232983589,-0.063941910862923,-0.224589481949806,-0.177450522780418));
res += mul(Get(s1,dx,0), float4x4(-0.151608303189278,-0.132054969668388,0.064113460481167,-0.037243489176035,-0.180609136819839,-0.070506528019905,-0.206846654415131,-0.036840252578259,-0.164671450853348,-0.125916436314583,0.282008498907089,0.163521602749825,0.050662532448769,-0.040300108492374,-0.086421407759190,-0.029902990907431));
res += mul(Get(s1,dx,dy), float4x4(-0.179518863558769,0.040832333266735,-0.136423483490944,0.015540708787739,0.012563675642014,-0.125210031867027,0.026152584701777,0.044263500720263,0.232350781559944,-0.078493118286133,0.204461753368378,-0.070937126874924,-0.133487164974213,0.076977148652077,-0.064114928245544,-0.105583809316158));
res += mul(Get(s2,-dx,-dy), float4x4(0.017845390364528,0.195627003908157,0.011298005469143,0.118594132363796,0.082322597503662,-0.042356714606285,-0.065249927341938,0.022567475214601,0.061375148594379,0.009537250734866,0.075020253658295,0.051524341106415,0.066668793559074,0.077940948307514,-0.045017790049314,-0.092569395899773));
res += mul(Get(s2,-dx,0), float4x4(-0.026272535324097,0.237187281250954,-0.027579165995121,0.213379159569740,0.001561531214975,-0.025201402604580,-0.056238930672407,0.082311928272247,0.255553781986237,-0.065843939781189,0.009649453684688,-0.009234153665602,-0.138241961598396,-0.001121195266023,0.251789867877960,-0.061950281262398));
res += mul(Get(s2,-dx,dy), float4x4(-0.118753723800182,0.050347469747066,-0.120428532361984,-0.043423667550087,-0.030736342072487,0.046790856868029,-0.171256363391876,0.020782275125384,-0.050914239138365,-0.106551080942154,-0.099933169782162,0.033118925988674,0.257477283477783,-0.077971257269382,0.158151775598526,-0.164620086550713));
res += mul(Get(s2,0,-dy), float4x4(0.030724020674825,0.015246747061610,-0.005871406756341,-0.016525149345398,0.062903396785259,0.001510296948254,-0.091071411967278,-0.049166962504387,-0.090362958610058,0.042287010699511,0.138708695769310,-0.017227008938789,-0.069321058690548,-0.009371990337968,0.128330290317535,-0.101815424859524));
res += mul(Get(s2,0,0), float4x4(-0.107034288346767,0.028383223339915,-0.140007823705673,0.279857128858566,-0.002778222085908,0.044648267328739,-0.045455731451511,0.048387121409178,0.205568134784698,-0.039167061448097,0.126954942941666,-0.069990620017052,-0.171574085950851,-0.018996715545654,-0.000616672798060,-0.002320301253349));
res += mul(Get(s2,0,dy), float4x4(-0.060508791357279,-0.077869206666946,-0.062276855111122,0.346644997596741,-0.046976588666439,0.054844159632921,-0.171177715063095,-0.019254000857472,0.134760230779648,-0.038040325045586,-0.118281394243240,-0.068369626998901,0.125506550073624,0.005434484221041,0.071580447256565,-0.116412512958050));
res += mul(Get(s2,dx,-dy), float4x4(0.029749242588878,-0.018429361283779,0.126909077167511,-0.189017236232758,0.084030628204346,-0.034963231533766,-0.046512302011251,0.007683888077736,-0.251602202653885,-0.070399492979050,0.076369300484657,-0.041967917233706,0.188410848379135,0.007893519476056,0.049952711910009,0.020205499604344));
res += mul(Get(s2,dx,0), float4x4(-0.058768622577190,0.009460429660976,-0.260157287120819,-0.152681916952133,0.021671766415238,-0.006088670808822,0.026841569691896,0.137410551309586,0.007567846216261,-0.037885028868914,0.151677697896957,-0.022930843755603,0.104539982974529,-0.023461122065783,-0.276517063379288,0.107349462807178));
res += mul(Get(s2,dx,dy), float4x4(0.020716072991490,-0.085033237934113,-0.215802431106567,0.067202202975750,-0.056225512176752,-0.027132580056787,-0.095894902944565,0.043498944491148,0.063514091074467,-0.002828212222084,-0.089244119822979,-0.077866919338703,0.123990289866924,0.076710596680641,-0.028648495674133,-0.008584821596742));
res += mul(Get(s3,-dx,-dy), float4x4(0.182579308748245,-0.065252155065536,-0.003347132820636,0.054747726768255,0.311475843191147,-0.037446193397045,-0.167164713144302,0.073914960026741,0.037670705467463,-0.043906949460506,-0.094320252537727,0.126455172896385,-0.030901385471225,0.031786229461432,0.018986929208040,-0.017665293067694));
res += mul(Get(s3,-dx,0), float4x4(-0.004269201774150,-0.071441411972046,-0.076597489416599,0.005886623170227,0.193934589624405,-0.062529772520065,-0.020562255755067,0.015209699049592,0.095477126538754,-0.055735126137733,0.068960115313530,0.076985597610474,0.017876828089356,0.089437425136566,0.265770077705383,0.116311401128769));
res += mul(Get(s3,-dx,dy), float4x4(-0.118214190006256,-0.044360060244799,-0.115105703473091,-0.006340768653899,-0.013054775074124,-0.069053359329700,0.028127070516348,-0.084381267428398,0.168333277106285,-0.164451003074646,0.212832406163216,0.155492469668388,-0.080138541758060,0.057763505727053,0.209913238883018,0.021994417533278));
res += mul(Get(s3,0,-dy), float4x4(0.215183049440384,-0.065346084535122,0.024837579578161,0.027874387800694,0.074848324060440,0.003412290243432,-0.013776473701000,0.012562913820148,0.142902970314026,-0.022874513641000,-0.042840752750635,0.054016087204218,0.067139700055122,-0.051760971546173,-0.018847469240427,-0.025015346705914));
res += mul(Get(s3,0,0), float4x4(-0.003616718575358,-0.091616630554199,0.011428653262556,-0.040083121508360,0.069624893367290,-0.008441329002380,0.066280514001846,-0.045674636960030,0.068462625145912,-0.018960990011692,0.055972576141357,0.070602282881737,0.045916270464659,0.010764162056148,-0.056210681796074,0.048649851232767));
res += mul(Get(s3,0,dy), float4x4(-0.138287499547005,-0.066479004919529,-0.062505759298801,-0.066945537924767,-0.094602636992931,-0.026093827560544,0.042505923658609,-0.133109658956528,-0.083988904953003,-0.109909199178219,0.140337780117989,0.104864545166492,-0.084453970193863,0.019704684615135,-0.068893596529961,-0.113893635571003));
res += mul(Get(s3,dx,-dy), float4x4(0.167821571230888,-0.080777935683727,0.106903851032257,0.069989800453186,0.190350458025932,0.014447377994657,-0.033875145018101,-0.079927951097488,0.153325110673904,-0.016213698312640,-0.173367887735367,-0.096357360482216,0.121997930109501,-0.126560404896736,-0.171715751290321,-0.019073920324445));
res += mul(Get(s3,dx,0), float4x4(0.021613035351038,-0.081293135881424,0.136191979050636,0.005195251666009,0.090693429112434,-0.001979112625122,-0.031411003321409,-0.112150572240353,0.017107568681240,-0.004837648477405,-0.115990437567234,-0.003864624770358,0.052819564938545,-0.061844982206821,-0.229573652148247,0.077966354787350));
res += mul(Get(s3,dx,dy), float4x4(-0.005839304998517,-0.080739639699459,0.047506961971521,-0.007840367034078,-0.116420350968838,-0.019683226943016,-0.058383788913488,-0.149230211973190,-0.000519959779922,-0.117050528526306,-0.123656287789345,0.154565885663033,-0.065087839961052,-0.056657593697309,-0.150106355547905,-0.068751849234104));
return max(float4(0,0,0,0), res);
}
