sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.018811110407114,-0.156572178006172,-0.138453051447868,0.024116421118379,-0.175141677260399,0.075453884899616,-0.036831773817539,0.050517734140158,0.069498568773270,-0.047017820179462,-0.030709277838469,0.111403927206993,0.029671935364604,-0.007539936807007,-0.085474953055382,0.072617784142494));
res += mul(Get(s0,-dx,0), float4x4(0.020355220884085,0.189089372754097,-0.034921936690807,0.115814484655857,-0.063008941709995,-0.096559546887875,-0.058695774525404,-0.070570893585682,-0.149007797241211,-0.188882961869240,0.083078823983669,0.140586346387863,0.014678910374641,-0.109633505344391,0.054749440401793,-0.058638319373131));
res += mul(Get(s0,-dx,dy), float4x4(0.075085900723934,0.058257188647985,0.058118235319853,-0.175784274935722,-0.155410647392273,-0.043835427612066,-0.010830384679139,-0.102934814989567,0.086737722158432,0.159872487187386,0.048307545483112,-0.022805972024798,-0.140481844544411,0.043489031493664,0.015667701140046,-0.150648966431618));
res += mul(Get(s0,0,-dy), float4x4(0.137091144919395,0.178934916853905,0.039717428386211,0.287858814001083,0.208136796951294,0.227446958422661,0.043428607285023,0.062600418925285,-0.037724774330854,-0.126778900623322,0.016200484707952,-0.097597844898701,0.012514164671302,-0.060810830444098,0.114549212157726,-0.008845755830407));
res += mul(Get(s0,0,0), float4x4(-0.033866830170155,0.040562525391579,-0.027990784496069,0.126071140170097,0.067566074430943,0.028820369392633,0.063782207667828,0.023409586399794,-0.038814917206764,0.114266373217106,-0.099274463951588,0.031916998326778,0.102402627468109,0.122423738241196,0.208752423524857,-0.058625794947147));
res += mul(Get(s0,0,dy), float4x4(0.005334867164493,0.048500575125217,0.019621297717094,0.003703073831275,0.296532779932022,-0.081862106919289,-0.122142948210239,-0.091999568045139,0.157747343182564,-0.141024023294449,-0.079188510775566,0.047909155488014,-0.005020525306463,0.092884577810764,0.039327155798674,0.032854724675417));
res += mul(Get(s0,dx,-dy), float4x4(-0.151118487119675,0.217827975749969,-0.107983984053135,0.060137059539557,0.256640404462814,-0.153569519519806,0.118233613669872,-0.007912830449641,0.197239190340042,0.013975876383483,-0.128664925694466,0.140750616788864,0.065742887556553,0.031467463821173,-0.030466863885522,0.260262638330460));
res += mul(Get(s0,dx,0), float4x4(0.084124624729156,-0.245404243469238,0.097694687545300,-0.046504523605108,-0.060897327959538,-0.089938990771770,0.080214872956276,0.014895545318723,0.001837166957557,0.171534210443497,-0.033534530550241,0.143169745802879,-0.031670775264502,0.075922220945358,-0.080411374568939,0.082218460738659));
res += mul(Get(s0,dx,dy), float4x4(-0.227222859859467,0.024265309795737,-0.262845486402512,-0.118280649185181,-0.222623810172081,0.019874230027199,0.057912200689316,0.135957196354866,-0.070149600505829,-0.157271459698677,0.057691868394613,0.057122003287077,-0.019789448007941,-0.035603296011686,0.105477586388588,-0.049600418657064));
res += mul(Get(s1,-dx,-dy), float4x4(-0.014196370728314,0.016643814742565,0.135952115058899,0.150487393140793,0.054688706994057,0.183785080909729,0.046293124556541,0.109669744968414,-0.007982693612576,-0.044875361025333,-0.172034144401550,-0.034339185804129,-0.047166530042887,0.025497425347567,-0.019370673224330,0.168805241584778));
res += mul(Get(s1,-dx,0), float4x4(-0.075143553316593,-0.057347122579813,0.075939163565636,0.119516164064407,-0.074616417288780,-0.036123156547546,0.050886489450932,-0.053040064871311,0.067570216953754,-0.143519654870033,-0.077402271330357,0.201552152633667,0.218741714954376,0.030974131077528,0.006782521028072,0.000384390732506));
res += mul(Get(s1,-dx,dy), float4x4(-0.007616426795721,-0.018358983099461,0.074987120926380,-0.019321257248521,-0.116229481995106,0.066481083631516,-0.032586529850960,-0.008345450274646,-0.077107846736908,0.141751438379288,-0.106877930462360,0.143083155155182,-0.024712318554521,-0.222518235445023,0.166851624846458,-0.150105595588684));
res += mul(Get(s1,0,-dy), float4x4(0.121454671025276,-0.032485846430063,0.108009658753872,-0.184374198317528,-0.154146343469620,0.169178187847137,0.004240426234901,-0.128013536334038,0.003649129299447,-0.146651461720467,-0.092837616801262,0.006924984045327,-0.026211041957140,0.005878244061023,0.085414178669453,0.298229157924652));
res += mul(Get(s1,0,0), float4x4(0.001074653817341,0.015586939640343,-0.110077805817127,0.226552665233612,0.062971547245979,-0.078056670725346,-0.042327571660280,0.020445099100471,0.007871025241911,0.098083093762398,-0.014010719954967,0.211423665285110,0.033457871526480,-0.236004263162613,0.051230527460575,0.048067212104797));
res += mul(Get(s1,0,dy), float4x4(0.053217288106680,0.073051095008850,0.000679873046465,0.143927648663521,-0.033649131655693,0.018459632992744,0.051850039511919,-0.099206097424030,-0.027224320918322,-0.015507088974118,0.059448238462210,-0.101300925016403,-0.048333864659071,-0.013267825357616,-0.113115936517715,-0.100197575986385));
res += mul(Get(s1,dx,-dy), float4x4(-0.053395558148623,0.039781089872122,-0.055540669709444,-0.136891767382622,-0.009911205619574,-0.035657063126564,0.093040116131306,-0.181928426027298,-0.010198902338743,0.037873230874538,-0.174315109848976,0.091912247240543,-0.020833905786276,-0.077169336378574,-0.113033309578896,0.082427337765694));
res += mul(Get(s1,dx,0), float4x4(0.186302587389946,0.107707522809505,-0.099081195890903,-0.260545134544373,0.018469223752618,-0.077567279338837,-0.066672652959824,0.161995857954025,0.016407335177064,0.260632842779160,-0.107365608215332,0.128473624587059,-0.159890100359917,-0.040087979286909,-0.115842051804066,-0.239365100860596));
res += mul(Get(s1,dx,dy), float4x4(-0.119036585092545,0.055457212030888,0.092209264636040,-0.066514864563942,-0.106673918664455,0.080079227685928,-0.093707375228405,-0.034843835979700,0.079146042466164,0.177486419677734,-0.035809140652418,-0.148777112364769,-0.022014744579792,0.141009241342545,0.197774723172188,0.033180527389050));
res += mul(Get(s2,-dx,-dy), float4x4(-0.037525679916143,0.161801993846893,-0.023049164563417,-0.220799997448921,-0.083019822835922,0.136893138289452,0.169857367873192,0.087700419127941,0.020571934059262,0.146097674965858,-0.270854622125626,0.205805942416191,-0.055099252611399,-0.012493862770498,0.024141281843185,-0.172984912991524));
res += mul(Get(s2,-dx,0), float4x4(-0.061015553772449,0.140288054943085,-0.083361744880676,-0.048107437789440,0.053590979427099,-0.100665509700775,0.064076095819473,-0.024740165099502,-0.143665537238121,-0.062647297978401,-0.028944004327059,0.068577319383621,-0.031408090144396,-0.059187319129705,0.008470609784126,-0.186355397105217));
res += mul(Get(s2,-dx,dy), float4x4(-0.052772928029299,0.154842346906662,0.137386262416840,-0.281668484210968,0.127333536744118,0.005664004012942,0.270539313554764,-0.051496468484402,-0.033416252583265,-0.138721421360970,0.091029472649097,-0.179885089397430,-0.071287162601948,0.033700291067362,-0.037633255124092,0.001099585555494));
res += mul(Get(s2,0,-dy), float4x4(0.016930494457483,0.094131909310818,-0.067759066820145,0.152625963091850,-0.014964781701565,0.082384407520294,-0.212850496172905,0.036177299916744,0.120090305805206,-0.054489880800247,0.052519980818033,0.198424398899078,0.101233541965485,0.097340054810047,0.163504391908646,-0.018499046564102));
res += mul(Get(s2,0,0), float4x4(-0.011213088408113,-0.038235075771809,0.019057881087065,0.010646546259522,-0.272972136735916,0.173407301306725,0.016503389924765,-0.307569146156311,0.088181212544441,-0.055543497204781,-0.221098437905312,0.046435400843620,0.359823018312454,0.018311062827706,0.187803119421005,0.005827620625496));
res += mul(Get(s2,0,dy), float4x4(-0.105063043534756,0.026299890130758,-0.071231357753277,0.097255386412144,0.168756470084190,-0.088310301303864,-0.170570060610771,0.067936941981316,0.210708707571030,-0.071612916886806,0.086143508553505,0.121848613023758,0.067555762827396,0.083891957998276,-0.033903688192368,0.264167457818985));
res += mul(Get(s2,dx,-dy), float4x4(-0.133001253008842,-0.082072071731091,0.139615148305893,0.077654726803303,0.133350417017937,0.160903468728065,0.044690527021885,-0.001054608263075,0.185868799686432,0.012003962881863,0.066918358206749,-0.090015269815922,-0.110621295869350,0.099454820156097,0.074897602200508,0.008128514513373));
res += mul(Get(s2,dx,0), float4x4(-0.005892679560930,0.342320859432220,-0.013057786971331,0.067622177302837,-0.087925694882870,-0.063105151057243,-0.137459203600883,0.039736405014992,0.168839007616043,0.073366492986679,0.085480675101280,-0.077084288001060,0.157601490616798,0.079820089042187,0.061823680996895,0.150635406374931));
res += mul(Get(s2,dx,dy), float4x4(0.167741507291794,0.168436959385872,-0.007319482509047,-0.253386259078979,0.118017517030239,-0.241767629981041,-0.140761345624924,-0.011328349821270,-0.058746982365847,-0.152109503746033,0.274551749229431,-0.222815304994583,-0.011160795576870,-0.117631450295448,-0.009599305689335,0.066807784140110));
res += mul(Get(s3,-dx,-dy), float4x4(0.114322021603584,-0.038723330944777,0.198424592614174,-0.056767787784338,-0.018496723845601,0.094459980726242,-0.173499494791031,0.149673417210579,-0.022306501865387,0.082325227558613,0.128181532025337,0.092207439243793,-0.093402169644833,-0.108755894005299,0.086349710822105,-0.292923688888550));
res += mul(Get(s3,-dx,0), float4x4(0.021285446360707,-0.121580407023430,-0.126665219664574,0.050818596035242,0.062138427048922,-0.277280151844025,-0.148396208882332,-0.026596220210195,-0.104229241609573,-0.071640275418758,-0.054118160158396,0.036418467760086,-0.101968303322792,-0.138996884226799,0.104678913950920,0.069636642932892));
res += mul(Get(s3,-dx,dy), float4x4(0.167990937829018,0.168018937110901,0.124366246163845,-0.016841197386384,-0.210262954235077,-0.167439460754395,-0.125594586133957,-0.083323664963245,-0.124734491109848,-0.158905223011971,0.065814986824989,-0.052846781909466,-0.151520729064941,0.048802413046360,-0.149764835834503,0.210390537977219));
res += mul(Get(s3,0,-dy), float4x4(-0.083305031061172,-0.073914490640163,-0.137248665094376,0.117061033844948,-0.203692391514778,0.144322201609612,0.156357824802399,0.049213390797377,0.111281365156174,-0.032067071646452,-0.070527292788029,-0.082155473530293,0.153573215007782,0.171887874603271,0.010304308496416,0.019548697397113));
res += mul(Get(s3,0,0), float4x4(-0.124620921909809,0.114039003849030,0.229836627840996,-0.029467975720763,-0.044528409838676,-0.016923479735851,0.063201837241650,-0.141471087932587,0.018852125853300,-0.069768778979778,0.000583486689720,0.121635027229786,0.036829758435488,0.039423815906048,-0.083578005433083,-0.153519228100777));
res += mul(Get(s3,0,dy), float4x4(0.050883479416370,-0.045628808438778,0.108780644834042,0.163926884531975,-0.197013378143311,0.257996588945389,0.082520276308060,-0.076782442629337,-0.081203490495682,0.048732884228230,0.061009198427200,0.178182721138000,-0.108736366033554,-0.034581050276756,-0.070476040244102,-0.019916063174605));
res += mul(Get(s3,dx,-dy), float4x4(0.149584487080574,0.010446558706462,-0.068260073661804,0.011390347965062,-0.069480374455452,0.158036440610886,-0.086684793233871,0.182456880807877,0.069522298872471,-0.086658231914043,0.174945607781410,-0.060774385929108,-0.278646826744080,-0.030167553573847,0.179792046546936,0.099846117198467));
res += mul(Get(s3,dx,0), float4x4(0.108635857701302,0.207634210586548,-0.133453771471977,0.034701418131590,-0.001964998431504,0.126446321606636,0.124167345464230,-0.022552780807018,-0.051074352115393,-0.044351130723953,0.056556262075901,0.115869715809822,0.316262990236282,-0.119444981217384,-0.147425517439842,-0.025110587477684));
res += mul(Get(s3,dx,dy), float4x4(-0.088714875280857,0.094726160168648,0.065250799059868,0.099981792271137,0.097132898867130,0.169855177402496,0.077195249497890,-0.005934221670032,-0.024668617174029,0.035621359944344,0.225344046950340,-0.032397568225861,0.126201480627060,0.079431332647800,-0.127073526382446,0.006861838512123));
return max(float4(0,0,0,0), res);
}
