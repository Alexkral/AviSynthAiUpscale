sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.036584287881851,0.189707487821579,-0.283017307519913,-0.029141223058105,0.178215011954308,-0.078780256211758,0.105128571391106,-0.009539733640850,0.229364633560181,-0.008083567954600,-0.069578133523464,-0.089881345629692,0.037000603973866,0.306843429803848,-0.171610310673714,0.024771677330136));
res += mul(Get(s0,-dx,0), float4x4(-0.113903880119324,0.027346305549145,-0.127597317099571,-0.157380566000938,0.102793425321579,0.035767108201981,-0.105652466416359,0.166873082518578,0.007455159910023,0.124595873057842,-0.004903863649815,-0.058794695883989,0.087925225496292,-0.028390657156706,-0.073003031313419,0.152194261550903));
res += mul(Get(s0,-dx,dy), float4x4(-0.008336585015059,0.009067032486200,-0.134300187230110,-0.081821508705616,0.079164057970047,-0.075652308762074,0.014048768207431,-0.092238217592239,-0.084958434104919,0.095203258097172,-0.155046790838242,0.035328060388565,-0.149540543556213,-0.120779216289520,-0.102677457034588,-0.201222434639931));
res += mul(Get(s0,0,-dy), float4x4(-0.027303900569677,0.107750535011292,-0.052804641425610,0.119765095412731,0.014948775991797,-0.200337037444115,-0.012499114498496,0.005478374660015,0.199774831533432,0.066886678338051,0.010776917450130,-0.028061212971807,-0.072736084461212,0.071468368172646,0.101822264492512,-0.007954454980791));
res += mul(Get(s0,0,0), float4x4(0.018741117790341,-0.087290860712528,-0.071802690625191,-0.175542578101158,0.028564415872097,-0.160369649529457,0.095811150968075,0.018574656918645,0.059153687208891,0.090953372418880,0.095570899546146,-0.035331234335899,0.032430388033390,0.256181418895721,-0.218962877988815,-0.014622173272073));
res += mul(Get(s0,0,dy), float4x4(-0.097105957567692,-0.161141097545624,-0.027115637436509,0.123841904103756,0.033707801252604,-0.202285751700401,-0.083089224994183,0.067709267139435,0.230522677302361,0.112807482481003,-0.029299488291144,-0.160322085022926,-0.042663600295782,-0.101115979254246,-0.000126853832626,0.185155749320984));
res += mul(Get(s0,dx,-dy), float4x4(-0.087109059095383,-0.180669903755188,-0.035092372447252,-0.001344745629467,0.103048130869865,0.023551544174552,-0.024458672851324,-0.078796349465847,-0.091106697916985,-0.002445379504934,-0.016959592700005,0.255283385515213,0.071725934743881,-0.051188498735428,0.181661918759346,-0.025134801864624));
res += mul(Get(s0,dx,0), float4x4(0.018873624503613,-0.032770372927189,0.020918181166053,0.169793590903282,-0.164132669568062,-0.091402530670166,0.048159968107939,0.035051118582487,0.025775328278542,0.027876518666744,0.194490119814873,0.169019430875778,0.032691556960344,0.034500535577536,0.054283641278744,-0.019627396017313));
res += mul(Get(s0,dx,dy), float4x4(-0.031947117298841,-0.029301747679710,0.057021394371986,-0.129880711436272,0.043584372848272,-0.181726977229118,-0.059259735047817,0.174659535288811,0.184148579835892,-0.099458537995815,-0.019102308899164,0.037213958799839,-0.141774892807007,-0.010216659866273,0.000141865413752,-0.066864095628262));
res += mul(Get(s1,-dx,-dy), float4x4(0.094101533293724,0.077166080474854,0.139723688364029,0.027913618832827,0.071721322834492,0.201561063528061,-0.081020690500736,0.004164844751358,0.093363918364048,-0.039350017905235,-0.092749491333961,0.092456661164761,0.127204239368439,0.006109539885074,-0.008281567133963,-0.090607792139053));
res += mul(Get(s1,-dx,0), float4x4(-0.089338608086109,-0.072625406086445,0.055264331400394,-0.043094079941511,-0.005521256476641,-0.153523951768875,-0.172164857387543,0.044024668633938,-0.080795668065548,0.072857670485973,-0.002005845075473,0.083323240280151,0.065908402204514,-0.114565037190914,-0.046531986445189,0.029401505365968));
res += mul(Get(s1,-dx,dy), float4x4(-0.178479954600334,-0.189673259854317,0.092201001942158,-0.035634703934193,0.088609278202057,-0.172188267111778,-0.031750392168760,-0.160513430833817,-0.200536578893661,0.174678102135658,0.021778585389256,-0.059282515197992,0.102379076182842,-0.171851068735123,0.043292932212353,0.026433084160089));
res += mul(Get(s1,0,-dy), float4x4(0.186338856816292,0.155622184276581,0.026854928582907,0.088267311453819,-0.099419757723808,0.132632151246071,-0.008047873154283,0.210756331682205,-0.052464511245489,0.039527025073767,-0.067264668643475,0.172592222690582,0.049908936023712,0.306088387966156,0.056506343185902,0.049335919320583));
res += mul(Get(s1,0,0), float4x4(-0.209817275404930,0.082244262099266,0.023103084415197,0.073947869241238,-0.016884274780750,-0.089235126972198,0.192788183689117,-0.084895685315132,0.097129039466381,-0.034961704164743,-0.025468681007624,-0.264090210199356,0.056595828384161,0.217743307352066,0.031024055555463,-0.066636055707932));
res += mul(Get(s1,0,dy), float4x4(-0.109243512153625,0.109300628304482,-0.015495676547289,0.230099484324455,0.089071646332741,-0.166550979018211,0.108850754797459,0.036886554211378,0.017945664003491,0.026281641796231,-0.085632510483265,-0.105083890259266,0.278951823711395,-0.096822813153267,-0.072499841451645,-0.002327209804207));
res += mul(Get(s1,dx,-dy), float4x4(0.035268474370241,0.045532986521721,-0.013469668105245,0.199118733406067,-0.089766703546047,0.105450704693794,0.046747241169214,0.163355067372322,-0.033694297075272,0.335497498512268,0.144367322325706,-0.012888947501779,0.029948359355330,0.035157363861799,0.069246269762516,-0.105531595647335));
res += mul(Get(s1,dx,0), float4x4(0.105358406901360,0.096033543348312,0.119665250182152,0.080384820699692,-0.194520652294159,-0.087727345526218,0.107449643313885,0.122500717639923,0.070176079869270,0.036916002631187,0.021405356004834,0.106127850711346,-0.115367770195007,-0.007120247930288,-0.116248220205307,-0.011041989549994));
res += mul(Get(s1,dx,dy), float4x4(0.043274670839310,-0.039976455271244,-0.128376632928848,-0.171389028429985,0.074278339743614,-0.087234035134315,-0.055077981203794,0.011188074946404,-0.161520063877106,0.064480200409889,0.145406767725945,-0.064828142523766,0.058569006621838,-0.113610662519932,0.081755667924881,0.106162823736668));
res += mul(Get(s2,-dx,-dy), float4x4(-0.071103170514107,-0.003908310551196,-0.054585173726082,0.071839906275272,0.007907176390290,-0.074374750256538,-0.092584550380707,-0.100651614367962,0.037256907671690,-0.123668536543846,0.007644223049283,0.007127233780921,-0.013338888064027,-0.083121821284294,0.094331361353397,0.154714509844780));
res += mul(Get(s2,-dx,0), float4x4(-0.042346831411123,0.137547329068184,0.143724367022514,-0.090421341359615,-0.152923330664635,-0.077489398419857,0.150266021490097,-0.085756145417690,0.214075610041618,-0.156106919050217,-0.146477162837982,-0.036005850881338,-0.040594823658466,0.099801547825336,0.188434109091759,-0.047694873064756));
res += mul(Get(s2,-dx,dy), float4x4(0.074671372771263,-0.223078683018684,0.073889553546906,-0.087247684597969,0.020605968311429,-0.070330604910851,0.050687316805124,0.049426551908255,-0.032838847488165,0.145353555679321,0.193516358733177,0.274021327495575,0.014238880947232,0.228714734315872,0.030222591012716,-0.011694562621415));
res += mul(Get(s2,0,-dy), float4x4(-0.037577938288450,-0.061442289501429,0.064806275069714,0.048271082341671,0.033841408789158,0.059937782585621,-0.133164316415787,0.088538967072964,0.159860834479332,0.130419895052910,-0.031809628009796,0.006661631166935,0.131985366344452,-0.002068196656182,-0.124727301299572,0.115078464150429));
res += mul(Get(s2,0,0), float4x4(0.037125822156668,-0.050629634410143,0.019009534269571,-0.036896571516991,0.020520174875855,0.068425834178925,0.126886591315269,-0.195094138383865,-0.179992586374283,-0.065875560045242,-0.010743306949735,0.073406904935837,0.069197610020638,-0.006959226448089,-0.037778146564960,-0.038312736898661));
res += mul(Get(s2,0,dy), float4x4(-0.063807062804699,-0.175072789192200,-0.059670981019735,-0.082269236445427,-0.223496466875076,0.067460641264915,0.115157753229141,0.014859225600958,-0.166915610432625,0.003252743510529,0.064494453370571,0.021778983995318,-0.069325588643551,0.036400016397238,0.233580544590950,-0.181425958871841));
res += mul(Get(s2,dx,-dy), float4x4(0.022700982168317,-0.116807118058205,0.102514393627644,0.087372876703739,0.007389339618385,-0.021275993436575,-0.248570784926414,0.020875755697489,0.026745617389679,0.152877435088158,0.076414346694946,0.110528171062469,-0.039321593940258,0.000105809536763,-0.108874008059502,0.158661007881165));
res += mul(Get(s2,dx,0), float4x4(0.121334165334702,-0.203066125512123,0.123172342777252,0.055954068899155,-0.049203228205442,-0.023929338902235,-0.170698717236519,-0.007508041337132,-0.129718780517578,0.052478265017271,0.000909567112103,-0.050787907093763,0.099350146949291,0.090077564120293,-0.200417041778564,-0.223214760422707));
res += mul(Get(s2,dx,dy), float4x4(-0.099734723567963,-0.203481659293175,0.019660331308842,-0.051231339573860,0.053050439804792,0.089309819042683,-0.056557763367891,-0.030631707981229,-0.076635308563709,-0.033004038035870,-0.090912111103535,-0.039388988167048,0.211169198155403,-0.117884702980518,0.006367254070938,0.175176560878754));
res += mul(Get(s3,-dx,-dy), float4x4(-0.073106378316879,-0.177702352404594,0.023014517500997,-0.279897481203079,0.083515159785748,0.033966887742281,0.088823720812798,-0.028097135946155,0.032956216484308,-0.179883792996407,-0.036301687359810,-0.005021173506975,0.137383982539177,0.134983792901039,-0.025524919852614,0.117784887552261));
res += mul(Get(s3,-dx,0), float4x4(-0.015800110995770,-0.083027042448521,-0.074569955468178,-0.008288948796690,0.064466945827007,0.082293048501015,0.073418743908405,0.002655210206285,0.050324756652117,-0.158491238951683,-0.041079428046942,0.148367673158646,-0.002220631809905,0.022221658378839,-0.070593126118183,0.157903224229813));
res += mul(Get(s3,-dx,dy), float4x4(0.003281742800027,-0.039396986365318,-0.205730929970741,0.214150890707970,0.139214649796486,-0.052392024546862,0.052662223577499,-0.200096458196640,-0.133132666349411,0.060243014246225,0.005571557674557,-0.036373630166054,0.030735801905394,-0.016204353421926,-0.030258296057582,0.025378486141562));
res += mul(Get(s3,0,-dy), float4x4(-0.096921138465405,-0.035411249846220,0.148172110319138,0.117341674864292,0.087752126157284,0.073446638882160,0.065934374928474,-0.142832681536674,-0.193369433283806,0.054757140576839,-0.093523770570755,0.180010303854942,-0.192930161952972,-0.033985339105129,0.059305932372808,0.175837635993958));
res += mul(Get(s3,0,0), float4x4(0.078455105423927,0.026274679228663,-0.184518784284592,0.106008499860764,-0.109834752976894,0.084933817386627,-0.119025826454163,0.025143833830953,0.013752360828221,-0.070951104164124,-0.100593708455563,0.141673594713211,0.251792550086975,-0.113683819770813,0.052502270787954,-0.046919837594032));
res += mul(Get(s3,0,dy), float4x4(0.119181305170059,0.149720355868340,0.244801461696625,0.059922628104687,-0.058448314666748,-0.006375380791724,-0.096101209521294,0.010134181939065,0.080480404198170,0.105651125311852,-0.060681194067001,0.016717303544283,0.137180730700493,-0.149237021803856,-0.046890560537577,0.014419850893319));
res += mul(Get(s3,dx,-dy), float4x4(0.074748925864697,-0.204413712024689,-0.141865476965904,-0.080954141914845,-0.240492552518845,0.038003448396921,0.115873470902443,-0.080169528722763,-0.179572016000748,0.005253079347312,0.183525040745735,-0.016834704205394,-0.109662905335426,0.221180930733681,-0.107082329690456,0.145073041319847));
res += mul(Get(s3,dx,0), float4x4(0.129299789667130,0.002544771879911,-0.096468262374401,0.156858369708061,-0.057579211890697,-0.022423220798373,0.060509525239468,0.079539313912392,-0.138543412089348,0.085509911179543,0.142942667007446,-0.105338491499424,0.110374957323074,-0.016980186104774,0.027396690100431,0.166883498430252));
res += mul(Get(s3,dx,dy), float4x4(0.115458592772484,-0.049959793686867,-0.006391867995262,-0.048119224607944,-0.139320492744446,0.142897710204124,-0.073504231870174,0.101701371371746,-0.137340575456619,-0.040136206895113,0.032014966011047,0.053254209458828,-0.133606389164925,-0.115135431289673,0.112743690609932,-0.100605912506580));
return max(float4(0,0,0,0), res);
}
