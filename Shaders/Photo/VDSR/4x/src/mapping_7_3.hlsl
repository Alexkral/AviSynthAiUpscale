sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.082247972488403,0.238799959421158,-0.114780887961388,-0.046730302274227,-0.022599020972848,-0.037134904414415,-0.054951529949903,0.033147454261780,-0.047853458672762,-0.057812739163637,0.059196908026934,-0.013759944587946,-0.134378775954247,0.037553790956736,0.216088920831680,0.053336519747972));
res += mul(Get(s0,-dx,0), float4x4(0.009862898848951,0.093877770006657,-0.158596470952034,-0.007650845218450,0.013299350626767,-0.039957679808140,-0.022732079029083,-0.055710088461637,0.073639571666718,0.007027035113424,-0.037525136023760,0.018192617222667,0.067435160279274,-0.036973550915718,0.124137453734875,-0.103384472429752));
res += mul(Get(s0,-dx,dy), float4x4(-0.049863554537296,-0.106216870248318,-0.104576371610165,0.086942911148071,0.107176780700684,0.053543925285339,0.150701791048050,-0.072208173573017,-0.054092258214951,0.248681694269180,-0.006109909154475,-0.017980288714170,-0.142196878790855,0.136479243636131,0.097947597503662,-0.105213157832623));
res += mul(Get(s0,0,-dy), float4x4(0.055705893784761,-0.072728611528873,-0.156350120902061,-0.159477263689041,0.131698697805405,-0.003977998159826,-0.046549931168556,-0.007940080948174,-0.041226904839277,-0.094353295862675,0.059925831854343,0.002984896302223,-0.036120265722275,-0.005459181033075,0.076999351382256,-0.028156764805317));
res += mul(Get(s0,0,0), float4x4(-0.020859660580754,-0.060541704297066,-0.101169750094414,-0.034695480018854,0.205655559897423,-0.087896801531315,0.031231349334121,-0.053016308695078,0.065775707364082,-0.068549461662769,0.032067980617285,0.091664984822273,0.313042819499969,-0.229400202631950,-0.061975505203009,-0.008555862121284));
res += mul(Get(s0,0,dy), float4x4(-0.068891443312168,-0.020839251577854,-0.079575672745705,-0.042579982429743,0.083265513181686,0.016050368547440,0.080145902931690,-0.090769268572330,-0.149521946907043,-0.049053311347961,0.154312565922737,-0.100770272314548,0.097809582948685,-0.004173314664513,-0.010150386020541,0.078135080635548));
res += mul(Get(s0,dx,-dy), float4x4(-0.045005764812231,0.122082717716694,0.143067374825478,-0.051698226481676,-0.005978414788842,-0.076686024665833,-0.127256095409393,-0.013987177051604,-0.074871242046356,0.211445286870003,-0.012043702416122,0.097800806164742,0.022108765318990,0.016391783952713,-0.031820543110371,0.122109808027744));
res += mul(Get(s0,dx,0), float4x4(0.117731124162674,0.193633601069450,0.229779720306396,0.191210418939590,-0.015226880088449,-0.064398288726807,-0.067337289452553,-0.021783972159028,0.120910547673702,0.083130098879337,-0.101481683552265,-0.033640533685684,0.059376824647188,-0.082698881626129,-0.141687855124474,0.102501414716244));
res += mul(Get(s0,dx,dy), float4x4(-0.023273913189769,0.094823300838470,-0.141275167465210,-0.013469684869051,-0.130307853221893,0.002783334814012,-0.054954651743174,-0.085936620831490,-0.005147845484316,-0.034569591283798,0.137313693761826,0.024114463478327,0.059593923389912,-0.052521869540215,-0.089452050626278,0.124102346599102));
res += mul(Get(s1,-dx,-dy), float4x4(0.330170512199402,0.009675429202616,-0.053173113614321,-0.141451135277748,0.024872863665223,-0.149309352040291,-0.031566273421049,-0.056250162422657,-0.092037901282310,-0.150567680597305,-0.146454870700836,-0.121891163289547,0.202109754085541,0.034430887550116,-0.017107604071498,0.079625047743320));
res += mul(Get(s1,-dx,0), float4x4(0.162852317094803,0.027094086632133,-0.020265098661184,-0.112790010869503,0.015068725682795,0.174206972122192,-0.073309421539307,-0.177752390503883,-0.026250684633851,-0.130542516708374,-0.051202964037657,0.073490932583809,0.081560358405113,-0.002702866913751,0.031668033450842,0.198702886700630));
res += mul(Get(s1,-dx,dy), float4x4(-0.050083119422197,0.098922036588192,0.106016919016838,-0.140545040369034,0.067777827382088,-0.080331861972809,0.088026061654091,-0.082581438124180,-0.085715770721436,-0.093353077769279,-0.128462821245193,0.056224558502436,-0.102184735238552,-0.113326728343964,0.126803994178772,0.009372973814607));
res += mul(Get(s1,0,-dy), float4x4(-0.012630509212613,-0.072718642652035,0.033178318291903,-0.125328898429871,-0.119958959519863,-0.083667889237404,-0.006048251409084,-0.075118020176888,-0.101668864488602,-0.082121342420578,-0.080269865691662,-0.168961286544800,0.103084765374660,-0.106620475649834,0.034204959869385,0.044469736516476));
res += mul(Get(s1,0,0), float4x4(0.145350232720375,-0.216089218854904,0.076696217060089,-0.145156115293503,0.083379849791527,0.042434073984623,-0.163892760872841,0.057004246860743,-0.006897329818457,-0.092825852334499,0.108701594173908,-0.060794405639172,0.096535831689835,0.003673132974654,-0.060289938002825,0.024137226864696));
res += mul(Get(s1,0,dy), float4x4(-0.080170303583145,0.231419280171394,0.129545241594315,-0.056938689202070,-0.032690797001123,-0.067049935460091,0.020197266712785,0.251735568046570,-0.105324037373066,-0.111464902758598,0.058649506419897,-0.038326866924763,-0.044857274740934,-0.019276559352875,-0.233591154217720,-0.048871599137783));
res += mul(Get(s1,dx,-dy), float4x4(0.047468692064285,-0.030023058876395,-0.159573271870613,-0.110656656324863,0.036367401480675,-0.019455840811133,-0.123807668685913,-0.099203221499920,-0.143718674778938,-0.025771182030439,-0.000136870599817,-0.019764427095652,-0.112118363380432,-0.169193074107170,0.354213267564774,0.034297633916140));
res += mul(Get(s1,dx,0), float4x4(0.158628866076469,-0.013756230473518,0.022234153002501,-0.175271615386009,-0.085938632488251,0.067351758480072,0.054008428007364,0.043064638972282,0.047145865857601,-0.085718251764774,0.003078241134062,-0.032462697476149,0.109004035592079,-0.068646892905235,0.181110441684723,-0.084620438516140));
res += mul(Get(s1,dx,dy), float4x4(-0.099934153258801,0.033201772719622,0.145900011062622,-0.080585159361362,-0.043499041348696,0.158752813935280,0.100291699171066,0.184284403920174,-0.020691338926554,-0.108499534428120,0.253436475992203,-0.006933761294931,-0.046943727880716,-0.095057621598244,0.026227511465549,-0.003807083470747));
res += mul(Get(s2,-dx,-dy), float4x4(-0.119503736495972,-0.170288577675819,-0.100031450390816,0.036101605743170,0.106416828930378,-0.170993402600288,0.029067805036902,0.079051852226257,-0.105882309377193,-0.016070986166596,0.032175183296204,0.176664218306541,-0.114031463861465,0.066960446536541,-0.024097457528114,-0.034921877086163));
res += mul(Get(s2,-dx,0), float4x4(0.004811886698008,-0.076646909117699,-0.051575243473053,-0.067444853484631,0.109465606510639,-0.114299751818180,0.034814570099115,-0.115917764604092,-0.112623982131481,0.058743327856064,-0.108044311404228,0.022635748609900,-0.069814905524254,0.118134982883930,0.005554373841733,0.081689886748791));
res += mul(Get(s2,-dx,dy), float4x4(-0.152976229786873,-0.081264697015285,-0.123047038912773,-0.041701890528202,0.125544190406799,-0.174121260643005,0.121830038726330,-0.031974662095308,-0.014029639773071,-0.101749517023563,-0.076140411198139,0.001009726664051,0.081295363605022,-0.089395187795162,0.033966261893511,0.040383271872997));
res += mul(Get(s2,0,-dy), float4x4(-0.078584671020508,-0.127052381634712,-0.079936914145947,-0.069299802184105,-0.091120667755604,-0.139934450387955,0.063552156090736,0.090143233537674,0.129874393343925,-0.070476949214935,-0.010102746076882,0.025339530780911,0.070008940994740,0.105410039424896,-0.020905220881104,0.031164484098554));
res += mul(Get(s2,0,0), float4x4(-0.000100128068880,-0.112389422953129,-0.028074815869331,-0.095820747315884,0.128680795431137,-0.069175116717815,0.107287093997002,0.021328518167138,0.032240103930235,0.255322396755219,-0.011921556666493,-0.059947725385427,0.066707909107208,0.006063469219953,0.023555122315884,0.001856458024122));
res += mul(Get(s2,0,dy), float4x4(0.059691540896893,-0.101586110889912,-0.090201646089554,-0.031860992312431,0.019622474908829,-0.086473703384399,-0.054327975958586,0.003148888237774,0.006098619662225,0.133195996284485,0.027829246595502,-0.030776375904679,0.122000679373741,-0.132243782281876,0.045568101108074,-0.090477645397186));
res += mul(Get(s2,dx,-dy), float4x4(-0.256996333599091,-0.159628108143806,-0.202148377895355,0.038741391152143,-0.056107696145773,-0.075395844876766,0.004722253885120,0.005777717102319,-0.058835256844759,0.025135524570942,-0.105032838881016,0.047808293253183,-0.038708269596100,0.239901199936867,0.157473370432854,0.021064523607492));
res += mul(Get(s2,dx,0), float4x4(-0.256241232156754,-0.123602874577045,-0.120209559798241,-0.182283088564873,-0.017859291285276,-0.047056902199984,-0.102974392473698,0.145297840237617,-0.044615454971790,0.114159934222698,-0.003229364985600,0.025357218459249,0.005874857306480,0.088547535240650,0.074733197689056,0.001386239076965));
res += mul(Get(s2,dx,dy), float4x4(-0.185835435986519,-0.075193494558334,-0.053430564701557,-0.076393060386181,-0.052170563489199,-0.118610680103302,-0.127566516399384,-0.063717670738697,-0.131705328822136,-0.070632450282574,-0.067397713661194,-0.022374214604497,0.022763084620237,-0.094575949013233,0.048578657209873,-0.024222850799561));
res += mul(Get(s3,-dx,-dy), float4x4(0.086774520576000,-0.036367777734995,0.026162039488554,0.030172444880009,0.031773846596479,0.004494677763432,0.127425208687782,0.084026604890823,-0.044777978211641,-0.023423181846738,-0.062575727701187,-0.034224353730679,0.032259497791529,0.285526931285858,-0.011295109055936,-0.065503396093845));
res += mul(Get(s3,-dx,0), float4x4(-0.061743929982185,0.018686836585402,-0.011784010566771,0.038098432123661,0.033057946711779,-0.024371681734920,0.046549864113331,0.011633042246103,-0.052923291921616,-0.211282774806023,0.008873164653778,-0.038487430661917,0.066312104463577,0.153839409351349,-0.066254153847694,0.171326920390129));
res += mul(Get(s3,-dx,dy), float4x4(-0.043454669415951,-0.014930197969079,-0.033678825944662,0.020397141575813,-0.062963493168354,0.084502361714840,-0.030567307025194,0.018320450559258,-0.034137483686209,0.145022884011269,0.003828645916656,-0.110564671456814,0.001889069564641,-0.110218971967697,-0.135651811957359,-0.086409896612167));
res += mul(Get(s3,0,-dy), float4x4(0.028208661824465,0.051936194300652,-0.004684819839895,-0.075107388198376,0.033849995583296,-0.096341282129288,0.104372605681419,0.064504347741604,-0.098720781505108,-0.033448845148087,-0.054423958063126,-0.053663551807404,-0.038008034229279,0.029207972809672,0.031043576076627,-0.071173481643200));
res += mul(Get(s3,0,0), float4x4(-0.055010117590427,0.096207752823830,0.048992402851582,0.012409607879817,0.130591273307800,-0.037906434386969,0.044249352067709,-0.129463464021683,0.053151570260525,0.057113863527775,-0.005448845215142,-0.140448972582817,0.131343364715576,-0.064603850245476,-0.041900694370270,0.019054973497987));
res += mul(Get(s3,0,dy), float4x4(-0.098436690866947,-0.059316352009773,0.091558717191219,0.064824663102627,0.130205690860748,0.085450768470764,-0.015260867774487,0.129558861255646,-0.056430973112583,0.175805568695068,-0.004723580088466,-0.132082507014275,0.096287399530411,-0.122263640165329,-0.119469374418259,0.051822926849127));
res += mul(Get(s3,dx,-dy), float4x4(0.046102702617645,-0.037007968872786,-0.143311515450478,-0.152827352285385,-0.170313224196434,-0.067805536091328,-0.099060676991940,0.431942552328110,-0.144852578639984,-0.035955835133791,-0.099049374461174,-0.076937355101109,-0.014095229096711,-0.125087231397629,0.037236057221889,-0.016513491049409));
res += mul(Get(s3,dx,0), float4x4(0.038472678512335,-0.057136613875628,-0.098028838634491,-0.075305335223675,-0.163973212242126,-0.120945505797863,-0.031128987669945,0.293218642473221,-0.004146558698267,-0.081773154437542,-0.034299835562706,-0.002102865371853,-0.126133278012276,-0.064751856029034,-0.003690517041832,0.001620830968022));
res += mul(Get(s3,dx,dy), float4x4(-0.100204616785049,-0.116665832698345,-0.098288752138615,0.048513941466808,-0.126922890543938,-0.029066264629364,-0.003021814860404,-0.057175856083632,-0.112098775804043,-0.022476587444544,-0.086931131780148,0.058436580002308,-0.056735623627901,-0.006545183248818,-0.064481697976589,0.031936656683683));
return max(float4(0,0,0,0), res);
}
