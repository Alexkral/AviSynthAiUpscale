sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.309111803770065,-0.048940960317850,-0.043847210705280,-0.117906525731087,-0.151878863573074,-0.069475911557674,-0.035613678395748,0.009503815323114,-0.070575661957264,-0.072114236652851,0.067969970405102,0.031299259513617,-0.141978129744530,0.088279321789742,-0.105847783386707,0.028354715555906));
res += mul(Get(s0,-dx,0), float4x4(-0.068032443523407,0.097123049199581,0.066357821226120,-0.045971918851137,-0.013236411847174,-0.007466477807611,-0.000059658315877,0.033848010003567,-0.110679633915424,0.144884049892426,0.052907910197973,0.019140750169754,-0.038553312420845,0.115405946969986,0.450368642807007,0.117637872695923));
res += mul(Get(s0,-dx,dy), float4x4(-0.226144015789032,-0.214441061019897,0.119378715753555,0.163997590541840,-0.063404425978661,-0.022868428379297,-0.065807461738586,-0.023146793246269,-0.119717776775360,-0.054158385843039,0.040098316967487,0.082259833812714,-0.018552768975496,-0.083287678658962,-0.064059644937515,-0.073757044970989));
res += mul(Get(s0,0,-dy), float4x4(-0.111838012933731,0.013987386599183,-0.065404914319515,-0.063242420554161,-0.023454630747437,0.353704601526260,-0.060067944228649,0.103279627859592,-0.127905175089836,-0.014000257477164,-0.073936469852924,0.012498588301241,-0.067343488335609,-0.067468993365765,-0.109327174723148,-0.000389049324440));
res += mul(Get(s0,0,0), float4x4(-0.033892948180437,0.149382412433624,-0.011904317885637,-0.115534923970699,0.050175514072180,0.178907886147499,-0.027902297675610,-0.102908521890640,0.027575246989727,0.153997689485550,-0.030263969674706,-0.007077820133418,-0.074907295405865,-0.093123570084572,0.164776131510735,-0.027889793738723));
res += mul(Get(s0,0,dy), float4x4(-0.144370764493942,0.074917204678059,0.097235128283501,0.006518378853798,0.036783762276173,0.031614687293768,-0.074943855404854,-0.031798493117094,-0.041195094585419,-0.125453040003777,0.080616876482964,0.152564749121666,-0.001749674789608,-0.092965178191662,0.010012442246079,0.018733004108071));
res += mul(Get(s0,dx,-dy), float4x4(-0.097851529717445,-0.008789704181254,-0.083080768585205,-0.080682151019573,-0.052308123558760,-0.128150433301926,-0.143409356474876,0.144639134407043,-0.021008817479014,0.041343126446009,-0.101936131715775,-0.000849259260576,-0.103548057377338,0.012498757801950,-0.034563917666674,0.058829385787249));
res += mul(Get(s0,dx,0), float4x4(0.064581021666527,0.089424967765808,-0.071445688605309,-0.017806645482779,0.131226211786270,-0.283664315938950,0.112725317478180,-0.119035743176937,0.026223260909319,-0.032583031803370,-0.107287749648094,-0.094251878559589,-0.043827075511217,0.035296723246574,0.073641158640385,0.061491366475821));
res += mul(Get(s0,dx,dy), float4x4(0.249392494559288,-0.201422974467278,0.200912192463875,0.060947775840759,0.112900681793690,-0.175432428717613,-0.005418493412435,-0.021096833050251,0.174684777855873,-0.225515842437744,-0.037438370287418,0.167077422142029,0.111349746584892,0.076543152332306,-0.008203542791307,0.029053643345833));
res += mul(Get(s1,-dx,-dy), float4x4(-0.050241407006979,0.158795163035393,-0.070651203393936,-0.179159626364708,-0.179976657032967,-0.059262789785862,-0.021457556635141,0.077148661017418,-0.053672812879086,0.022965047508478,0.044224768877029,0.185928732156754,0.005052198655903,-0.041477277874947,-0.061815001070499,-0.025016997009516));
res += mul(Get(s1,-dx,0), float4x4(-0.053793929517269,0.114124387502670,0.016531346365809,-0.060035545378923,-0.174982577562332,0.073627397418022,0.190310820937157,-0.001670847064815,-0.092736572027206,0.156779170036316,0.020766336470842,0.037571109831333,0.159347295761108,-0.021434040740132,-0.053943727165461,-0.122937902808189));
res += mul(Get(s1,-dx,dy), float4x4(0.104181453585625,0.117162331938744,0.013995664194226,-0.009037274867296,-0.022306917235255,-0.012331957928836,-0.052971247583628,-0.029621511697769,-0.168021857738495,0.093981638550758,0.070767544209957,0.154800847172737,0.176816672086716,-0.096677154302597,0.093780845403671,-0.073580116033554));
res += mul(Get(s1,0,-dy), float4x4(0.094421312212944,-0.000046631608711,-0.105984501540661,-0.048088531941175,-0.095138162374496,0.020301882177591,-0.038964841514826,-0.040826752781868,-0.128175631165504,-0.071647889912128,0.041270229965448,-0.042099252343178,0.049052774906158,0.007384612224996,-0.069802731275558,-0.066587626934052));
res += mul(Get(s1,0,0), float4x4(-0.047669541090727,-0.057301338762045,-0.018092183396220,-0.037507843226194,0.045079078525305,0.252562046051025,-0.136696413159370,-0.099830083549023,-0.147627905011177,0.033081755042076,-0.011027167551219,-0.074826374650002,0.032553918659687,0.149910390377045,0.011914565227926,-0.061991687864065));
res += mul(Get(s1,0,dy), float4x4(-0.077890083193779,-0.120028592646122,0.051457025110722,-0.105971135199070,0.178044855594635,-0.038329329341650,0.111417941749096,-0.124155625700951,-0.032760500907898,-0.018813276663423,0.023434905335307,0.100231245160103,0.129709035158157,-0.058347746729851,-0.086292378604412,0.046793207526207));
res += mul(Get(s1,dx,-dy), float4x4(-0.020657852292061,0.008438923396170,-0.019546112045646,0.020514089614153,0.012018367648125,0.020034637302160,-0.090786583721638,-0.055224742740393,-0.057732932269573,-0.042561881244183,0.012667812407017,-0.070106409490108,-0.082541160285473,0.005974910687655,-0.020085163414478,-0.098277859389782));
res += mul(Get(s1,dx,0), float4x4(-0.017064878717065,0.003303022589535,0.005171157885343,-0.063450492918491,0.145450219511986,0.188066765666008,-0.009464799426496,-0.011089057661593,0.134549930691719,0.035781685262918,0.077115446329117,-0.086220145225525,0.018822336569428,0.004989629145712,0.016728198155761,-0.140572249889374));
res += mul(Get(s1,dx,dy), float4x4(0.047324199229479,-0.059448242187500,-0.039230905473232,-0.055355459451675,0.129667758941650,-0.176264896988869,0.053624708205462,-0.053880691528320,0.111396022140980,-0.098134241998196,-0.095613285899162,0.111241817474365,-0.028283260762691,-0.217799723148346,-0.032268553972244,0.015739493072033));
res += mul(Get(s2,-dx,-dy), float4x4(-0.037057034671307,-0.079632647335529,0.111897103488445,-0.062368273735046,-0.066071785986423,-0.023346560075879,-0.068290509283543,-0.019836472347379,-0.231436684727669,0.047081861644983,-0.056805476546288,-0.007902015000582,0.036302600055933,0.140736281871796,0.066588483750820,0.044627722352743));
res += mul(Get(s2,-dx,0), float4x4(-0.037951134145260,-0.013384998776019,0.036207795143127,0.016914233565331,-0.137973010540009,-0.009292303584516,0.030935415998101,-0.002992115449160,-0.137640848755836,0.018058050423861,-0.048508420586586,0.073954984545708,-0.028997724875808,0.013519969768822,-0.020569924265146,0.096099711954594));
res += mul(Get(s2,-dx,dy), float4x4(0.000114469432447,0.031937833875418,0.013180486857891,0.153955891728401,-0.127774089574814,-0.061937212944031,0.028896875679493,-0.027084568515420,-0.114330977201462,-0.099333472549915,-0.119395777583122,0.000025468199965,-0.077659294009209,0.089224234223366,-0.013704425655305,0.047113273292780));
res += mul(Get(s2,0,-dy), float4x4(0.085697561502457,-0.044516339898109,0.015077277086675,-0.067999757826328,0.035321980714798,0.037950262427330,-0.122252047061920,-0.088947378098965,-0.335608392953873,0.072595357894897,-0.078580319881439,0.054766271263361,-0.002985544502735,-0.007059599272907,-0.030508609488606,-0.014055516570807));
res += mul(Get(s2,0,0), float4x4(0.057596448808908,0.079792425036430,0.034273345023394,-0.020158082246780,0.067135639488697,0.070383861660957,-0.061662882566452,0.003480650484562,-0.106372214853764,-0.013338360004127,-0.076571956276894,-0.038088269531727,0.060169424861670,0.010285001248121,-0.031003585085273,-0.022664494812489));
res += mul(Get(s2,0,dy), float4x4(0.055825170129538,0.131139338016510,0.020990896970034,0.094777747988701,0.033519398421049,0.014794675633311,-0.074896626174450,-0.022488063201308,0.016820153221488,-0.072679392993450,0.016155295073986,-0.060875188559294,0.165273383259773,-0.057929232716560,0.011294484138489,-0.060051184147596));
res += mul(Get(s2,dx,-dy), float4x4(0.112843938171864,-0.113148070871830,-0.164149388670921,-0.016043014824390,-0.147249266505241,-0.092304624617100,-0.142750740051270,-0.119397208094597,-0.139355972409248,0.094255506992340,-0.179436445236206,-0.025068813934922,0.145306855440140,-0.035485789179802,0.052303869277239,-0.005061789881438));
res += mul(Get(s2,dx,0), float4x4(-0.027744034305215,-0.044665645807981,0.065808556973934,-0.050408910959959,0.075967706739902,-0.013755480758846,0.023833500221372,-0.051751073449850,0.057343579828739,0.035093575716019,-0.054158903658390,-0.089500680565834,0.114163011312485,0.002826521405950,-0.070594593882561,0.044373683631420));
res += mul(Get(s2,dx,dy), float4x4(0.030698226764798,-0.053877081722021,0.095398142933846,0.067004688084126,0.099864266812801,-0.161474913358688,0.006494322326034,-0.010704847052693,0.228664606809616,-0.173749625682831,0.223774582147598,-0.051367823034525,0.066225789487362,-0.086594820022583,-0.030035935342312,-0.048909056931734));
res += mul(Get(s3,-dx,-dy), float4x4(-0.073928937315941,0.041156936436892,-0.097593054175377,0.472338318824768,0.067849740386009,-0.074126288294792,-0.113113433122635,-0.078198760747910,0.114166200160980,0.064511850476265,-0.006220884155482,0.146063163876534,-0.215182796120644,0.044581949710846,0.008207391016185,0.065182343125343));
res += mul(Get(s3,-dx,0), float4x4(-0.128563418984413,-0.085746474564075,-0.024473328143358,0.109617501497269,0.022081810981035,0.037207823246717,0.078775197267532,0.030604900792241,-0.065492883324623,0.082536876201630,-0.011486142873764,0.068224541842937,-0.234191447496414,-0.060498390346766,-0.063235528767109,-0.046165939420462));
res += mul(Get(s3,-dx,dy), float4x4(0.037021663039923,-0.086952254176140,-0.081092268228531,0.040370274335146,0.026054205372930,-0.127584740519524,0.045280508697033,-0.066634975373745,-0.044298529624939,0.114973612129688,-0.098365835845470,0.055194836109877,0.014772861264646,-0.126034215092659,0.133150234818459,-0.072703003883362));
res += mul(Get(s3,0,-dy), float4x4(-0.131543591618538,-0.009241867810488,-0.111059479415417,-0.065108321607113,0.119895063340664,0.037446588277817,-0.017924901098013,-0.046233084052801,0.002384603256360,-0.037932790815830,-0.096432790160179,0.144080162048340,-0.171883434057236,0.072564661502838,-0.070702634751797,-0.089148297905922));
res += mul(Get(s3,0,0), float4x4(-0.117594629526138,-0.149973556399345,-0.079366952180862,-0.037909455597401,0.042738184332848,0.176537543535233,-0.046604856848717,-0.010768117383122,-0.023520495742559,-0.043319296091795,0.064751140773296,0.004273351747543,-0.029682220891118,-0.000881931220647,-0.007523566484451,-0.046818610280752));
res += mul(Get(s3,0,dy), float4x4(0.234902054071426,-0.053777255117893,-0.107660017907619,0.009615147486329,-0.066540479660034,0.054614435881376,0.053132977336645,0.090314172208309,0.045286387205124,-0.092275105416775,-0.001421601162292,-0.028846841305494,-0.102839797735214,0.026463236659765,0.024207603186369,-0.054053377360106));
res += mul(Get(s3,dx,-dy), float4x4(0.072764836251736,0.014368700794876,-0.084747642278671,0.014794792048633,0.146429002285004,-0.147041559219360,-0.001297370763496,-0.115330010652542,-0.008005478419363,-0.055030632764101,-0.124485090374947,0.012233836576343,0.008170546032488,-0.042352888733149,-0.153912737965584,-0.120645537972450));
res += mul(Get(s3,dx,0), float4x4(0.148386791348457,0.090519621968269,-0.137999400496483,0.036325439810753,-0.019621320068836,0.006995112635195,0.108506858348846,-0.006832904182374,0.054508939385414,-0.010615419596434,0.028760001063347,-0.023226654157043,0.063704036176205,-0.057986926287413,-0.069024100899696,-0.063335128128529));
res += mul(Get(s3,dx,dy), float4x4(-0.075232535600662,0.040571462363005,-0.158216893672943,-0.034504547715187,0.022578753530979,-0.282377749681473,0.062758021056652,0.082106113433838,0.108017154037952,0.005427323747426,-0.079944089055061,-0.010395130142570,0.108784042298794,-0.128958538174629,0.025912443175912,0.008524024859071));
return max(float4(0,0,0,0), res);
}
