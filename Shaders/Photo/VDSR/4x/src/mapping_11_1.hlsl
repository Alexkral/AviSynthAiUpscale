sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.068585336208344,0.061708990484476,0.020751442760229,0.085190825164318,0.066940292716026,0.233953028917313,0.003946965560317,0.117257207632065,0.080323711037636,0.109173648059368,-0.155257269740105,-0.018238278105855,-0.050378106534481,-0.047962576150894,-0.025320764631033,0.034937657415867));
res += mul(Get(s0,-dx,0), float4x4(0.000708476000000,0.118948407471180,0.125631302595139,-0.047135382890701,-0.040352672338486,-0.044277783483267,0.032544214278460,0.100974485278130,-0.124870307743549,-0.027798647060990,0.041982401162386,-0.010911449790001,-0.048252537846565,-0.024720102548599,0.030972050502896,0.078564397990704));
res += mul(Get(s0,-dx,dy), float4x4(0.050587289035320,0.006772730965167,0.028400758281350,0.054054558277130,-0.108987435698509,-0.002744539640844,0.002304387511685,0.009637436829507,-0.096063934266567,0.105370089411736,0.020419502630830,0.098210498690605,-0.025705901905894,-0.014717035926878,-0.032577104866505,-0.059167157858610));
res += mul(Get(s0,0,-dy), float4x4(-0.039072770625353,0.037160884588957,-0.006085902452469,0.034656554460526,0.070531927049160,0.217750191688538,-0.060941390693188,0.034693017601967,0.030513698235154,-0.037198849022388,-0.097604878246784,0.002159271156415,0.091732352972031,0.043242234736681,-0.024602809920907,0.036549862474203));
res += mul(Get(s0,0,0), float4x4(0.067209936678410,0.083649665117264,0.033465523272753,-0.052711598575115,0.030790843069553,0.243562728166580,-0.062383607029915,-0.034711763262749,-0.078788176178932,-0.049084350466728,0.060876611620188,0.055778779089451,0.088340818881989,-0.049556139856577,-0.025170665234327,0.027355654165149));
res += mul(Get(s0,0,dy), float4x4(0.028895165771246,0.057008523494005,-0.064484842121601,-0.038885261863470,0.110795363783836,0.119488514959812,-0.008711757138371,0.009227446280420,-0.079364106059074,0.016555193811655,0.079010829329491,-0.031339786946774,0.006527648773044,-0.061822272837162,-0.063772551715374,-0.113428413867950));
res += mul(Get(s0,dx,-dy), float4x4(-0.064226672053337,-0.161374256014824,-0.083602562546730,0.111008465290070,-0.092653833329678,-0.040523782372475,0.072506815195084,0.131186738610268,0.025177320465446,-0.159764543175697,0.104006804525852,0.059448804706335,-0.026080701500177,0.022995240986347,-0.087734021246433,0.201371774077415));
res += mul(Get(s0,dx,0), float4x4(-0.046724610030651,-0.076755903661251,-0.046254396438599,0.125338912010193,-0.059049844741821,-0.050977773964405,0.013283913023770,0.046461854130030,0.075777873396873,-0.080274261534214,0.089853793382645,-0.054961949586868,-0.070642240345478,-0.141466885805130,-0.023554392158985,-0.033551119267941));
res += mul(Get(s0,dx,dy), float4x4(0.019811574369669,-0.100430041551590,0.097539491951466,0.250687927007675,-0.063381694257259,0.029415091499686,-0.019939484074712,0.105946667492390,0.069477923214436,-0.012094405479729,-0.093213908374310,0.121540732681751,-0.036360803991556,-0.049510966986418,0.175080314278603,0.103730671107769));
res += mul(Get(s1,-dx,-dy), float4x4(0.067275382578373,0.147145256400108,0.033940594643354,-0.067102797329426,-0.149999290704727,0.029209686443210,-0.050494924187660,-0.065451249480247,0.130531787872314,0.010776519775391,-0.118473626673222,0.017002042382956,0.060618635267019,-0.169481873512268,0.078022822737694,-0.158311992883682));
res += mul(Get(s1,-dx,0), float4x4(-0.007481975015253,0.157718583941460,0.036883313208818,0.025643739849329,-0.031551070511341,-0.056837607175112,0.014810637570918,0.031204743310809,0.024267418310046,0.041171524673700,0.015326137654483,-0.061883024871349,-0.010603138245642,-0.122764192521572,0.045168753713369,-0.100600093603134));
res += mul(Get(s1,-dx,dy), float4x4(0.010055356658995,0.052312955260277,-0.093450948596001,-0.037620432674885,-0.043341696262360,0.001253997324966,-0.073345646262169,-0.014346038922668,-0.059528619050980,0.025874190032482,0.026249170303345,-0.119809679687023,0.013624165207148,0.038897328078747,0.063076727092266,-0.104186825454235));
res += mul(Get(s1,0,-dy), float4x4(-0.099872209131718,0.003546082414687,0.094223089516163,-0.096092157065868,-0.060839354991913,-0.052136398851871,-0.060576867312193,-0.076966740190983,0.203288421034813,-0.035205375403166,-0.006677343975753,-0.000947437307332,0.209381073713303,-0.072174347937107,-0.067331425845623,-0.142819792032242));
res += mul(Get(s1,0,0), float4x4(-0.019060729071498,0.068768031895161,-0.063031755387783,-0.056286640465260,-0.003925744909793,0.129507377743721,-0.020759103819728,0.023740105330944,-0.027543088421226,-0.051514856517315,-0.086643882095814,0.041182804852724,-0.033961359411478,-0.053223218768835,-0.053394973278046,0.028974296525121));
res += mul(Get(s1,0,dy), float4x4(-0.053532116115093,0.122773848474026,-0.076383441686630,-0.078000821173191,-0.027380395680666,0.178113475441933,-0.013588714413345,0.039881031960249,-0.028019612655044,0.027588106691837,-0.000769260979723,-0.031041255220771,-0.077119678258896,0.034893959760666,0.015194889158010,0.107408270239830));
res += mul(Get(s1,dx,-dy), float4x4(-0.035857021808624,0.135392472147942,-0.053599625825882,-0.043516900390387,-0.132777854800224,-0.076003074645996,-0.089826546609402,-0.080162771046162,0.008213264867663,-0.040038190782070,-0.011966243386269,0.339013218879700,0.005279062315822,-0.089183919131756,0.292390823364258,-0.237103745341301));
res += mul(Get(s1,dx,0), float4x4(-0.021591583266854,0.100433044135571,-0.110916562378407,0.020099380984902,-0.060325741767883,-0.048612825572491,-0.029734995216131,0.027655133977532,-0.058275558054447,-0.096236966550350,0.031034335494041,-0.059605758637190,-0.058211613446474,-0.157353773713112,-0.033171370625496,0.067534469068050));
res += mul(Get(s1,dx,dy), float4x4(-0.063634514808655,0.081441156566143,0.047536734491587,0.062314987182617,-0.026251252740622,0.013072501868010,0.044112142175436,-0.079089097678661,-0.098148323595524,-0.083177924156189,-0.013412996195257,0.059923186898232,-0.012791615910828,-0.011003597639501,0.187854334712029,-0.056149020791054));
res += mul(Get(s2,-dx,-dy), float4x4(0.142300993204117,0.052709516137838,0.124136358499527,0.015162819996476,0.154710888862610,0.044671852141619,0.103024579584599,0.031843893229961,-0.092105850577354,-0.126078248023987,0.017313774675131,0.027392275631428,0.062994979321957,-0.158763483166695,0.030699422582984,-0.093171469867229));
res += mul(Get(s2,-dx,0), float4x4(0.061485439538956,-0.035268388688564,-0.014257681556046,0.095923148095608,0.035258579999208,0.063800118863583,0.129601255059242,0.050246234983206,-0.042929001152515,0.133271932601929,-0.013169824145734,0.049762979149818,0.126810938119888,0.015538967214525,0.051021669059992,-0.071927860379219));
res += mul(Get(s2,-dx,dy), float4x4(0.054996632039547,0.042089309543371,-0.102742694318295,0.046200379729271,-0.095852248370647,0.166245013475418,-0.150965645909309,0.075772479176521,-0.083940431475639,-0.046702899038792,-0.067736797034740,0.008095948956907,-0.070604801177979,0.078095130622387,0.014264527708292,-0.070436753332615));
res += mul(Get(s2,0,-dy), float4x4(0.034717828035355,0.066948965191841,0.065171927213669,0.069501064717770,0.073288500308990,-0.107008479535580,0.068969398736954,-0.075903750956059,-0.063146375119686,-0.117197088897228,-0.048028081655502,-0.069119259715080,0.016015958040953,-0.025936853140593,-0.033290419727564,-0.206553265452385));
res += mul(Get(s2,0,0), float4x4(0.085355110466480,-0.037444833666086,-0.059802651405334,-0.024810584262013,-0.032519605010748,-0.080306060612202,0.051168493926525,-0.073561564087868,-0.000025019557143,-0.024578751996160,-0.058231923729181,0.021081967279315,0.087750352919102,-0.040581155568361,-0.028431581333280,0.010428312234581));
res += mul(Get(s2,0,dy), float4x4(0.095164850354195,0.142132773995399,-0.044189892709255,-0.028274836018682,-0.030242463573813,0.106879480183125,-0.060668267309666,0.023752797394991,-0.128008142113686,0.022090448066592,-0.043840594589710,-0.036839984357357,-0.013625395484269,0.023472005501390,0.050269447267056,-0.039829310029745));
res += mul(Get(s2,dx,-dy), float4x4(0.015781145542860,0.013361803255975,0.070914693176746,-0.030072722584009,-0.091137833893299,-0.107468642294407,0.052133366465569,0.054546147584915,0.007888588123024,-0.205404832959175,-0.069648183882236,-0.083945162594318,0.014124398119748,-0.127946957945824,0.002960420912132,-0.057962138205767));
res += mul(Get(s2,dx,0), float4x4(0.069580405950546,-0.154296144843102,0.243479058146477,-0.078520119190216,-0.045809216797352,-0.142139062285423,-0.017989894375205,0.087123632431030,0.035289037972689,-0.104308158159256,-0.068409703671932,0.208576843142509,0.026473427191377,-0.138034582138062,0.005534782540053,0.175332069396973));
res += mul(Get(s2,dx,dy), float4x4(0.033695209771395,0.023838182911277,-0.063445031642914,-0.077596798539162,-0.065054520964622,-0.180542722344398,-0.080912373960018,0.113734878599644,0.057900745421648,-0.158388212323189,-0.021280832588673,-0.020563803613186,-0.018519846722484,-0.029254462569952,0.075809769332409,-0.084839530289173));
res += mul(Get(s3,-dx,-dy), float4x4(0.149984940886497,-0.128159150481224,0.008122063241899,-0.087314061820507,0.137612864375114,0.043021120131016,0.155635371804237,0.047026742249727,-0.006068326067179,0.013226624578238,0.071720302104950,-0.119526155292988,0.412883877754211,0.088423870503902,-0.209594115614891,-0.000658589589875));
res += mul(Get(s3,-dx,0), float4x4(0.065753348171711,-0.033702589571476,-0.098359927535057,0.017498990520835,-0.086875699460506,0.011893221177161,0.181362509727478,0.146349385380745,0.088119171559811,-0.035083513706923,-0.058543443679810,-0.079290241003036,0.053853198885918,-0.078095480799675,-0.046256188303232,0.051623791456223));
res += mul(Get(s3,-dx,dy), float4x4(0.017131647095084,0.154083505272865,-0.155719459056854,0.073030419647694,-0.014556928537786,-0.012400039471686,0.106178410351276,-0.038525674492121,-0.026340467855334,0.019190585240722,0.044529523700476,-0.027609188109636,-0.009463270194829,0.063336655497551,-0.074453301727772,0.020798975601792));
res += mul(Get(s3,0,-dy), float4x4(-0.074356511235237,-0.086437396705151,-0.017151053994894,-0.078379489481449,0.086474038660526,0.067506149411201,0.014368880540133,-0.054345495998859,-0.005606237798929,-0.064436212182045,-0.052605319768190,-0.006114261224866,-0.095075875520706,-0.067388214170933,0.175457149744034,-0.094556964933872));
res += mul(Get(s3,0,0), float4x4(-0.076748386025429,-0.073402866721153,-0.004346258006990,-0.025909805670381,-0.036844771355391,-0.067846521735191,-0.024073978886008,0.003454478690401,0.081337325274944,-0.022023892030120,-0.000924840860534,0.074549034237862,-0.103082709014416,-0.059742044657469,0.179707348346710,-0.039402015507221));
res += mul(Get(s3,0,dy), float4x4(-0.145651713013649,-0.019161790609360,0.007036152761430,0.025310739874840,-0.074462600052357,-0.030046787112951,-0.090885221958160,-0.013262989930809,-0.088011085987091,0.006982788443565,0.024674592539668,0.029443604871631,-0.036749996244907,-0.046044852584600,-0.120518356561661,0.048515133559704));
res += mul(Get(s3,dx,-dy), float4x4(-0.059637915343046,-0.061177682131529,0.049466919153929,-0.148025795817375,-0.069865427911282,-0.015844475477934,0.144514784216881,-0.050120580941439,0.023245200514793,-0.108248606324196,0.008339829742908,-0.023327624425292,0.027265891432762,0.006671494804323,0.138036116957664,-0.019706660881639));
res += mul(Get(s3,dx,0), float4x4(0.036520086228848,-0.038103785365820,-0.025336189195514,-0.155357003211975,-0.076045788824558,-0.117417365312576,-0.063281096518040,-0.118648201227188,-0.075265362858772,-0.208345800638199,0.124222554266453,0.249575793743134,-0.070649735629559,0.029761914163828,0.253249228000641,0.126050412654877));
res += mul(Get(s3,dx,dy), float4x4(-0.166436165571213,0.013963138684630,0.046552285552025,0.072933651506901,-0.030381228774786,0.071460552513599,-0.005889229010791,0.004147965926677,-0.110553562641144,-0.042869694530964,-0.116980448365211,-0.113598890602589,-0.058856155723333,0.005084468983114,0.091773390769958,0.185946092009544));
return max(float4(0,0,0,0), res);
}
