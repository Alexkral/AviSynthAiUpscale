sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.371428877115250,-0.001856145332567,-0.001805864972994,-0.344662129878998) * Get(-dx,-dy);
res += float4(0.412667661905289,-0.001320070237853,-0.004863341804594,-0.142984867095947) * Get(-dx,0);
res += float4(-0.029035331681371,-0.002490230603144,0.003407303011045,0.001128238160163) * Get(-dx,dy);
res += float4(0.044049154967070,-0.002164529869333,-0.001940674846992,-0.362871021032333) * Get(0,-dy);
res += float4(0.073688402771950,-0.000608890841249,-0.003208642825484,0.015940001234412) * Get(0,0);
res += float4(-0.274988055229187,-0.004534919280559,0.001394936465658,0.180651545524597) * Get(0,dy);
res += float4(-0.301091909408569,-0.005148659925908,-0.005646398756653,-0.293056607246399) * Get(dx,-dy);
res += float4(-0.356797873973846,-0.003880386939272,-0.000811446865555,0.076581783592701) * Get(dx,0);
res += float4(-0.515050947666168,-0.004108448978513,0.001549274194986,0.187046527862549) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
