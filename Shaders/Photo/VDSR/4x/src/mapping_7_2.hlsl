sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.097457684576511,-0.077318474650383,-0.164838656783104,-0.384541809558868,-0.093315362930298,-0.007842692546546,0.034036934375763,-0.084541723132133,0.163623973727226,-0.061006501317024,-0.245491728186607,0.204466342926025,0.053374037146568,-0.109162196516991,0.146446600556374,-0.182065933942795));
res += mul(Get(s0,-dx,0), float4x4(-0.143960818648338,0.044324453920126,-0.043331760913134,0.009790536947548,0.102233648300171,0.037804685533047,-0.097188092768192,0.010656455531716,0.127384543418884,-0.052642535418272,0.108034066855907,0.032234806567430,0.168669626116753,0.016389738768339,-0.012408707290888,-0.045636646449566));
res += mul(Get(s0,-dx,dy), float4x4(-0.031833283603191,0.201976403594017,0.082647122442722,-0.015599365346134,-0.028041845187545,0.178998470306396,0.111550204455853,0.074798494577408,0.082441963255405,-0.089144922792912,-0.264375865459442,0.057627040892839,-0.044881343841553,0.106160618364811,-0.027117844671011,-0.001766291097738));
res += mul(Get(s0,0,-dy), float4x4(0.060298077762127,-0.253886014223099,0.048253569751978,-0.144067257642746,-0.015281392261386,0.200423970818520,0.029392518103123,-0.025855455547571,-0.216402634978294,-0.009885665029287,0.214279383420944,0.078929178416729,-0.106898941099644,-0.090410679578781,-0.040368475019932,0.131075724959373));
res += mul(Get(s0,0,0), float4x4(0.075287185609341,-0.049114201217890,0.082546390593052,0.113002896308899,0.064310468733311,-0.092782884836197,0.019125727936625,0.125223100185394,-0.059409458190203,0.188403829932213,0.068052545189857,0.006574097555131,0.015271116048098,0.005578326061368,-0.067062303423882,0.077258013188839));
res += mul(Get(s0,0,dy), float4x4(-0.064408317208290,-0.081700198352337,-0.074399672448635,-0.106407627463341,0.139951527118683,-0.070826098322868,0.261530041694641,0.015803568065166,0.045734308660030,0.143315389752388,0.024760765954852,0.002003849949688,-0.031801864504814,-0.096196264028549,-0.041275206953287,0.172477617859840));
res += mul(Get(s0,dx,-dy), float4x4(0.070974908769131,-0.037082631140947,-0.008386962115765,0.000153879649588,-0.088386788964272,0.062166333198547,0.065467588603497,-0.051009871065617,-0.142226472496986,-0.082415357232094,0.061891052871943,-0.011854209937155,0.083123207092285,-0.045682650059462,0.048793669790030,0.120102450251579));
res += mul(Get(s0,dx,0), float4x4(-0.008329221047461,0.082094259560108,-0.011780499480665,-0.023753125220537,-0.048189066350460,-0.086576916277409,0.044692244380713,0.122846238315105,0.023252701386809,0.020378287881613,-0.114310741424561,-0.034913051873446,-0.084542259573936,-0.223001107573509,-0.209119647741318,0.150863230228424));
res += mul(Get(s0,dx,dy), float4x4(-0.223358303308487,-0.004450237844139,0.087323471903801,0.229679837822914,-0.025356449186802,0.055055979639292,0.000807079137303,0.105972453951836,0.008818609640002,0.013131574727595,-0.068836495280266,-0.011895733885467,-0.079886600375175,-0.028372041881084,-0.063421465456486,0.083098828792572));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034635126590729,0.075444579124451,0.096867963671684,0.271001368761063,-0.144687026739120,-0.083240680396557,-0.042778462171555,0.121921151876450,-0.013028301298618,0.011098661459982,-0.127299562096596,0.046507738530636,-0.151704549789429,-0.089757062494755,-0.071431688964367,0.010563667863607));
res += mul(Get(s1,-dx,0), float4x4(0.207884714007378,0.028112314641476,0.000684621860273,0.028781993314624,-0.231016963720322,0.169611871242523,0.117957249283791,0.031298432499170,0.079592339694500,-0.153520062565804,-0.075663045048714,0.079459376633167,-0.009141324087977,-0.055050678551197,0.049216143786907,-0.033676929771900));
res += mul(Get(s1,-dx,dy), float4x4(0.057690080255270,-0.137447893619537,0.016772819682956,-0.010607929900289,-0.053536005318165,0.116815708577633,0.039099846035242,-0.088877327740192,-0.154936686158180,-0.027884116396308,-0.038054738193750,0.121714554727077,0.067748725414276,-0.049968786537647,-0.130928352475166,-0.054712850600481));
res += mul(Get(s1,0,-dy), float4x4(0.006553126033396,-0.129210740327835,-0.020921504124999,0.049943808466196,0.014953882433474,0.060038782656193,0.020586870610714,-0.096393600106239,-0.058831125497818,-0.088198214769363,-0.131722122430801,0.008465240709484,-0.180834338068962,-0.129825785756111,-0.118487015366554,0.085616275668144));
res += mul(Get(s1,0,0), float4x4(0.024993209168315,-0.039498172700405,0.003908022306859,-0.140876144170761,0.014619969762862,0.007000002544373,-0.099578656256199,-0.133302375674248,-0.073076963424683,0.108342953026295,0.107471421360970,0.125400841236115,0.114751733839512,-0.013293424621224,-0.041372474282980,-0.004096691962332));
res += mul(Get(s1,0,dy), float4x4(0.137691944837570,0.116939373314381,0.081399865448475,0.020209025591612,0.107019282877445,0.034797489643097,-0.119065888226032,0.158352792263031,-0.144201517105103,-0.031694352626801,-0.065000653266907,0.096851155161858,-0.061967507004738,0.263945519924164,0.007580579724163,0.089325532317162));
res += mul(Get(s1,dx,-dy), float4x4(-0.001560839009471,-0.016842268407345,0.045867796987295,0.097683466970921,0.079804793000221,-0.172721356153488,-0.097595661878586,-0.373406708240509,-0.007120504975319,0.036202937364578,0.064117953181267,-0.011592210270464,-0.090224944055080,-0.052115160971880,-0.187652349472046,0.141715958714485));
res += mul(Get(s1,dx,0), float4x4(-0.165778264403343,-0.038825061172247,-0.172704875469208,0.141698077321053,-0.031870551407337,-0.165619820356369,0.094350740313530,0.006915828678757,0.024528743699193,-0.075825594365597,-0.028170065954328,0.011737685650587,0.053475953638554,-0.035909753292799,-0.181733608245850,0.091735400259495));
res += mul(Get(s1,dx,dy), float4x4(0.000662528036628,-0.002651490969583,-0.046443618834019,-0.065415702760220,-0.081496246159077,0.115423507988453,0.184041529893875,0.065838329493999,-0.067000731825829,-0.259113222360611,-0.262869119644165,0.120705321431160,0.026977224275470,-0.067285001277924,0.099215097725391,0.099689222872257));
res += mul(Get(s2,-dx,-dy), float4x4(-0.162471413612366,-0.065396428108215,0.203285440802574,0.061772663146257,0.139127761125565,0.002136687980965,-0.110172100365162,-0.003549349494278,0.075028337538242,-0.059295557439327,-0.066000156104565,-0.157270565629005,-0.255465030670166,0.069211766123772,-0.028920603916049,-0.065386652946472));
res += mul(Get(s2,-dx,0), float4x4(-0.014992287382483,0.082943551242352,-0.041345942765474,0.020571826025844,-0.072696603834629,-0.069983966648579,0.045256804674864,-0.050887126475573,0.070507727563381,0.015938870608807,-0.025870865210891,-0.010422214865685,-0.199639141559601,0.053753592073917,-0.039576943963766,0.063162222504616));
res += mul(Get(s2,-dx,dy), float4x4(-0.096209958195686,-0.051206450909376,0.104011200368404,-0.103263378143311,-0.000131976266857,-0.075649641454220,-0.150090903043747,0.129230171442032,0.001103985821828,-0.037282891571522,0.110342405736446,-0.022023368626833,-0.047171350568533,-0.062406506389380,-0.026104476302862,0.116900116205215));
res += mul(Get(s2,0,-dy), float4x4(-0.012444978579879,0.010943892411888,0.168975144624710,0.013656020164490,-0.016462747007608,-0.058965340256691,0.018048537895083,-0.037217564880848,0.057672806084156,0.171913191676140,-0.073077626526356,0.061436794698238,0.182447537779808,0.013640700839460,-0.004323144443333,-0.043566182255745));
res += mul(Get(s2,0,0), float4x4(-0.107874900102615,-0.065769374370575,0.007768475916237,-0.136692345142365,0.066189005970955,-0.130382701754570,-0.101562418043613,-0.105728685855865,0.052123725414276,0.031211871653795,0.206087693572044,0.403642743825912,0.131936982274055,-0.092444762587547,0.021567890420556,-0.125893324613571));
res += mul(Get(s2,0,dy), float4x4(0.027161197736859,0.078370861709118,0.083302676677704,0.115329667925835,0.075746469199657,-0.094032853841782,-0.016798492521048,-0.155763968825340,0.239868968725204,0.127495989203453,0.022943284362555,0.052525077015162,0.047874588519335,-0.117653414607048,-0.010181882418692,-0.022320754826069));
res += mul(Get(s2,dx,-dy), float4x4(-0.084753863513470,-0.116917289793491,0.082192040979862,-0.110433712601662,0.020423404872417,0.209424123167992,0.114460654556751,0.201974332332611,-0.145808383822441,-0.031222639605403,0.031986854970455,0.007709159050137,-0.185560524463654,0.050195403397083,0.165730521082878,0.237375959753990));
res += mul(Get(s2,dx,0), float4x4(-0.034911818802357,-0.036993905901909,0.061286225914955,0.049309633672237,-0.035419896245003,-0.179196596145630,-0.205554217100143,0.040257506072521,-0.019454006105661,-0.065432742238045,0.067583657801151,0.070254877209663,0.044189993292093,0.062650918960571,0.034661728888750,-0.291354149580002));
res += mul(Get(s2,dx,dy), float4x4(-0.263369888067245,0.034751731902361,0.086309999227524,0.147596508264542,-0.053565826267004,-0.103662505745888,0.008786083199084,-0.070761889219284,0.005379627458751,-0.075186438858509,0.025843145325780,0.192497327923775,-0.098906338214874,0.029715199023485,0.024272793903947,0.110090874135494));
res += mul(Get(s3,-dx,-dy), float4x4(-0.017140682786703,0.208818376064301,0.035499431192875,0.008276402950287,-0.232748538255692,0.034511066973209,0.057790599763393,0.067840643227100,0.060413416475058,-0.031410772353411,-0.072661571204662,0.016884179785848,-0.254654258489609,0.150832653045654,-0.029740367084742,-0.106447055935860));
res += mul(Get(s3,-dx,0), float4x4(0.041380479931831,0.032964687794447,-0.012015445157886,-0.143016666173935,0.079545542597771,-0.069573402404785,-0.026542607694864,-0.106016486883163,0.081003390252590,-0.041051447391510,-0.362525612115860,0.072555571794510,-0.050314456224442,-0.068053476512432,-0.073695339262486,0.117847852408886));
res += mul(Get(s3,-dx,dy), float4x4(-0.147024497389793,-0.211064860224724,-0.098220854997635,0.137128606438637,0.050330843776464,0.014889973215759,0.047105606645346,0.349318325519562,-0.118810713291168,-0.035262666642666,-0.041163738816977,-0.070460699498653,-0.030909471213818,-0.100577145814896,0.016095276921988,-0.015324500389397));
res += mul(Get(s3,0,-dy), float4x4(0.100031942129135,0.020120467990637,0.138485923409462,-0.175687149167061,-0.070231080055237,0.076458394527435,0.074142672121525,0.051576104015112,-0.022677984088659,-0.036362212151289,0.078288845717907,0.060086846351624,-0.033757220953703,-0.045577120035887,-0.032059222459793,-0.070369079709053));
res += mul(Get(s3,0,0), float4x4(-0.220199987292290,-0.376971274614334,-0.083821475505829,-0.134538963437080,0.094702690839767,-0.082354709506035,0.022092558443546,-0.038635268807411,-0.126345023512840,0.023137263953686,-0.031040547415614,-0.113671146333218,-0.027215538546443,-0.016189269721508,-0.018425876274705,-0.052395422011614));
res += mul(Get(s3,0,dy), float4x4(0.072516620159149,-0.039249863475561,0.075887121260166,0.214197054505348,-0.102865800261497,0.018257383257151,-0.182193011045456,0.298973619937897,0.010968186892569,-0.016219018027186,-0.063370488584042,0.006613186094910,0.163599073886871,0.092310063540936,0.108660355210304,-0.032282982021570));
res += mul(Get(s3,dx,-dy), float4x4(0.094207733869553,0.091532953083515,-0.250233441591263,-0.149844437837601,0.002141047036275,0.210491612553596,-0.107412554323673,-0.119222976267338,0.071809351444244,-0.038870938122272,-0.035055518150330,-0.096260972321033,0.103220261633396,-0.165212184190750,0.144857764244080,0.092576816678047));
res += mul(Get(s3,dx,0), float4x4(0.130374327301979,-0.206495061516762,-0.093854874372482,-0.084794245660305,-0.012147640809417,-0.107787512242794,0.034007757902145,0.069656983017921,-0.126285254955292,0.026840824633837,-0.183379694819450,0.034348420798779,-0.012618822045624,-0.021704122424126,0.101529203355312,-0.083838477730751));
res += mul(Get(s3,dx,dy), float4x4(-0.027212265878916,0.074514687061310,0.037770736962557,0.044178057461977,0.140905275940895,-0.039343003183603,0.112335339188576,-0.068908028304577,-0.004512381739914,0.146397113800049,0.066812209784985,-0.049307383596897,0.056627836078405,0.107826948165894,-0.034074362367392,0.111272953450680));
return max(float4(0,0,0,0), res);
}
