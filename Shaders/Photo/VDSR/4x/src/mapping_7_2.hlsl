sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.013834482990205,-0.097921609878540,0.026874909177423,0.153871312737465,-0.013774253427982,0.190453574061394,-0.028362933546305,0.080908328294754,0.019774250686169,-0.173514381051064,0.066182054579258,-0.139612212777138,-0.101730257272720,-0.051074188202620,0.087718747556210,0.025947052985430));
res += mul(Get(s0,-dx,0), float4x4(-0.151347592473030,0.341247946023941,-0.104021176695824,0.017050916329026,-0.086141377687454,0.132531598210335,-0.141540914773941,0.021119169890881,0.009799432940781,0.043922554701567,-0.095101565122604,-0.012400581501424,-0.097607314586639,-0.090277485549450,-0.046516772359610,0.005263945087790));
res += mul(Get(s0,-dx,dy), float4x4(-0.163091689348221,0.047111041843891,-0.069955684244633,0.060076925903559,-0.005597048904747,-0.095142863690853,0.051812570542097,-0.065591059625149,-0.052220292389393,-0.014529438689351,-0.013879188336432,0.124431915581226,-0.163749545812607,-0.183529496192932,-0.027178309857845,-0.001909709069878));
res += mul(Get(s0,0,-dy), float4x4(0.015422062948346,0.002870221622288,0.180557891726494,0.115833476185799,-0.061519701033831,0.123536482453346,0.036694489419460,0.046755492687225,-0.010616002604365,-0.058744635432959,0.133903726935387,0.004556357860565,-0.015031395480037,0.022316304966807,0.139777392148972,-0.000803031492978));
res += mul(Get(s0,0,0), float4x4(0.038700267672539,0.116947427392006,-0.015506657771766,-0.041828963905573,-0.160874158143997,0.112167820334435,-0.080755062401295,0.066033609211445,0.085651181638241,-0.000166132580489,-0.022387823089957,-0.011736826971173,0.079682826995850,-0.089106835424900,0.033833716064692,0.102162778377533));
res += mul(Get(s0,0,dy), float4x4(-0.005394435022026,-0.048111736774445,-0.061138764023781,-0.058592807501554,0.077319234609604,-0.018320750445127,0.161305770277977,-0.105973504483700,0.061911892145872,0.116991423070431,0.009086143225431,-0.110929898917675,-0.059715233743191,-0.110289931297302,-0.050021175295115,-0.065960779786110));
res += mul(Get(s0,dx,-dy), float4x4(-0.065188392996788,0.009219744242728,-0.009233662858605,0.009665503166616,-0.051501080393791,0.005239981226623,0.018614767119288,-0.052784182131290,0.002498066751286,0.004800090566278,0.058849137276411,-0.011635989882052,0.013763404451311,-0.005056674592197,0.070108532905579,0.041245266795158));
res += mul(Get(s0,dx,0), float4x4(-0.000588905648328,-0.206370949745178,-0.018680879846215,-0.009967861697078,0.080897435545921,-0.049102142453194,-0.056409344077110,0.023061802610755,0.098684787750244,0.043879892677069,-0.042764317244291,-0.062173910439014,-0.084162555634975,-0.101451106369495,0.058346208184958,0.087129287421703));
res += mul(Get(s0,dx,dy), float4x4(0.062133751809597,-0.046528764069080,-0.109228529036045,-0.038237273693085,0.215564548969269,0.171846464276314,0.045612223446369,-0.145183891057968,0.084239058196545,0.158193781971931,-0.072491899132729,-0.061297453939915,0.003404015675187,-0.113568022847176,-0.045421853661537,-0.024701375514269));
res += mul(Get(s1,-dx,-dy), float4x4(-0.138475105166435,-0.158187121152878,-0.031642079353333,-0.085342198610306,-0.051415663212538,-0.037881892174482,-0.031993880867958,-0.220504075288773,-0.020813325420022,0.164872542023659,-0.061363026499748,0.307766854763031,-0.031938813626766,-0.160108730196953,-0.084654301404953,0.182679697871208));
res += mul(Get(s1,-dx,0), float4x4(-0.292881339788437,-0.140410557389259,0.091891296207905,-0.059123720973730,-0.065579779446125,-0.123804174363613,-0.034959863871336,-0.141361489892006,-0.116509616374969,-0.133956462144852,-0.106227748095989,0.082402862608433,-0.105335533618927,-0.100947536528111,-0.026164589449763,-0.045892462134361));
res += mul(Get(s1,-dx,dy), float4x4(-0.093497782945633,-0.128794848918915,0.021159479394555,-0.028212698176503,-0.046156663447618,0.091599710285664,-0.037987511605024,-0.122544176876545,0.079730786383152,0.109040454030037,-0.048219077289104,0.133341088891029,-0.041281796991825,-0.097514130175114,-0.063902951776981,-0.205070480704308));
res += mul(Get(s1,0,-dy), float4x4(-0.000733845925424,-0.042341709136963,-0.115989021956921,-0.076069138944149,-0.008219179697335,-0.009367376565933,0.028801793232560,0.121551781892776,0.083792567253113,0.186210229992867,-0.058110430836678,-0.153172820806503,0.059142474085093,-0.011675308458507,0.062261693179607,-0.048653382807970));
res += mul(Get(s1,0,0), float4x4(0.080928750336170,-0.111635521054268,0.040802240371704,-0.065798372030258,-0.018395774066448,-0.067382737994194,-0.076035164296627,0.058330848813057,0.038668472319841,-0.041977334767580,-0.082611709833145,-0.105876214802265,0.011002001352608,-0.027425441890955,0.007836631499231,-0.005562750622630));
res += mul(Get(s1,0,dy), float4x4(0.228602647781372,-0.140149787068367,0.116901554167271,-0.109075404703617,0.021218055859208,-0.057688798755407,-0.129203677177429,-0.106923915445805,0.158539712429047,0.013171867467463,-0.097112230956554,0.031818173825741,-0.006912525277585,-0.018487891182303,-0.081950165331364,-0.010618035681546));
res += mul(Get(s1,dx,-dy), float4x4(-0.068715736269951,-0.135311976075172,0.093950778245926,-0.087366655468941,0.194018393754959,-0.091697447001934,-0.013698210939765,0.199954658746719,-0.058660905808210,-0.087410144507885,-0.114365883171558,0.137055426836014,0.010169479064643,-0.037165578454733,-0.072488911449909,0.179685279726982));
res += mul(Get(s1,dx,0), float4x4(-0.079699009656906,-0.069484144449234,0.008458447642624,-0.059927973896265,0.060663845390081,-0.090215831995010,-0.117779575288296,-0.082493692636490,-0.063525572419167,-0.112322904169559,-0.118851743638515,0.107054024934769,0.059303782880306,-0.065663419663906,0.098879054188728,0.029148725792766));
res += mul(Get(s1,dx,dy), float4x4(0.046214617788792,-0.074187010526657,0.231973871588707,-0.197472363710403,0.115061722695827,-0.038603734225035,-0.137336343526840,-0.016736015677452,-0.039302576333284,0.003429361619055,0.026613773778081,0.086979053914547,0.024001091718674,-0.025812748819590,-0.055776119232178,-0.017391819506884));
res += mul(Get(s2,-dx,-dy), float4x4(-0.180144086480141,0.008079118095338,-0.146062776446342,-0.133728712797165,-0.129697576165199,-0.058769024908543,-0.120598927140236,-0.116919077932835,0.129875645041466,-0.057286437600851,0.166347146034241,0.042703408747911,0.175387918949127,0.091823838651180,-0.012891588732600,0.056166108697653));
res += mul(Get(s2,-dx,0), float4x4(-0.065975509583950,-0.079162076115608,-0.012946594506502,-0.097559258341789,-0.084871247410774,-0.194215580821037,-0.095281250774860,-0.086082734167576,0.211123108863831,0.084278151392937,0.067096397280693,0.017861546948552,-0.000188774807611,-0.096077561378479,0.005362533498555,0.079175040125847));
res += mul(Get(s2,-dx,dy), float4x4(0.056147389113903,0.145127564668655,0.060661360621452,-0.005515584722161,-0.060160219669342,-0.177266240119934,-0.071314871311188,-0.023234032094479,0.081680119037628,0.045744340866804,0.062194518744946,0.119454227387905,-0.051711168140173,-0.025128632783890,-0.067111968994141,0.076722189784050));
res += mul(Get(s2,0,-dy), float4x4(-0.089269757270813,0.139274999499321,-0.105478607118130,-0.063541397452354,-0.001271185115911,0.081818558275700,-0.054669424891472,-0.124523282051086,-0.053468547761440,-0.029846636578441,-0.016148516908288,0.057202186435461,0.073009684681892,-0.167272448539734,-0.151840895414352,0.095555648207664));
res += mul(Get(s2,0,0), float4x4(-0.025239637121558,-0.064234279096127,-0.011735594831407,-0.086075693368912,0.032210081815720,-0.050417959690094,-0.056743185967207,-0.123176522552967,-0.005032251589000,0.184093952178955,-0.073711767792702,0.042575147002935,0.040239635854959,0.018649484962225,-0.037635292857885,0.167236879467964));
res += mul(Get(s2,0,dy), float4x4(0.063298009335995,0.101482294499874,-0.205536812543869,-0.026473116129637,0.016717283055186,-0.109071932733059,-0.042491693049669,-0.118142344057560,0.011627028696239,-0.052254870533943,-0.056705646216869,0.008134078234434,-0.144353657960892,0.198343321681023,0.025423994287848,0.170783147215843));
res += mul(Get(s2,dx,-dy), float4x4(-0.100741118192673,-0.060945291072130,-0.014526481740177,-0.081673502922058,-0.028584128245711,-0.071412131190300,-0.005616428330541,-0.135234534740448,-0.050874669104815,0.080015100538731,0.042399242520332,-0.201140612363815,0.070513777434826,-0.178100794553757,0.020351625978947,-0.140291482210159));
res += mul(Get(s2,dx,0), float4x4(-0.035729825496674,0.018163427710533,0.055072538554668,-0.063873961567879,-0.000889316143002,-0.120990574359894,-0.066746369004250,-0.046949040144682,0.011469510383904,0.213297292590141,0.070710860192776,-0.129467964172363,0.254839569330215,-0.003999418113381,-0.068592153489590,-0.054100885987282));
res += mul(Get(s2,dx,dy), float4x4(-0.023025529459119,-0.145824328064919,0.173480257391930,-0.133243709802628,0.040869336575270,-0.101098068058491,-0.122177600860596,-0.029373478144407,0.174268648028374,0.047668274492025,0.003340788884088,-0.016933484002948,-0.036014061421156,-0.143169015645981,0.013356481678784,0.034197989851236));
res += mul(Get(s3,-dx,-dy), float4x4(-0.099433809518814,0.010036944411695,-0.054212629795074,-0.097446650266647,-0.036522716283798,0.043493993580341,0.127174988389015,0.013093858025968,0.007356584072113,-0.143341541290283,0.085313655436039,-0.052838847041130,-0.047214441001415,-0.015692718327045,0.081252485513687,0.059918697923422));
res += mul(Get(s3,-dx,0), float4x4(-0.028175130486488,0.055778544396162,0.012048894539475,-0.067834876477718,0.002404398517683,0.022064024582505,-0.126924857497215,0.025801870971918,-0.011684176512063,-0.105914458632469,-0.078228279948235,-0.015091520734131,0.068998135626316,-0.032950803637505,-0.003775878110901,0.146047174930573));
res += mul(Get(s3,-dx,dy), float4x4(-0.105535976588726,-0.073054634034634,0.129710033535957,-0.019574619829655,-0.054269570857286,0.031713899224997,-0.003991208504885,-0.077159695327282,0.027923153713346,-0.000645689258818,0.018215423449874,-0.066798441112041,0.053761273622513,0.046113494783640,-0.103584423661232,0.098256431519985));
res += mul(Get(s3,0,-dy), float4x4(-0.000885849411134,0.096815504133701,-0.086433306336403,0.142376273870468,-0.000489328464027,0.091179266571999,0.030542585998774,0.023784767836332,0.103083617985249,-0.185160040855408,-0.037749052047729,-0.077400319278240,-0.086575657129288,0.003243750194088,0.089308068156242,0.110044747591019));
res += mul(Get(s3,0,0), float4x4(0.016182534396648,0.201048597693443,-0.111864447593689,0.046814665198326,0.028243999928236,0.071299962699413,0.013300268910825,-0.041173096746206,-0.082501962780952,-0.098648451268673,0.210268437862396,0.038382638245821,0.004433102905750,-0.017643814906478,-0.060788318514824,0.078374199569225));
res += mul(Get(s3,0,dy), float4x4(0.078688308596611,0.009669959545135,-0.107157178223133,0.102455168962479,-0.077661007642746,-0.047692693769932,0.013963974080980,-0.020274160429835,-0.117057979106903,0.110472925007343,0.180737182497978,-0.126707851886749,-0.014120947569609,-0.010303007438779,-0.172492355108261,-0.047031175345182));
res += mul(Get(s3,dx,-dy), float4x4(-0.051119044423103,0.036021113395691,0.106638841331005,-0.003676297841594,-0.034284435212612,-0.063738107681274,0.198662504553795,-0.050089921802282,0.199064731597900,0.114233203232288,-0.055456612259150,-0.150725170969963,0.052099574357271,-0.080354787409306,0.108089096844196,-0.017556220293045));
res += mul(Get(s3,dx,0), float4x4(-0.075908713042736,-0.063590243458748,-0.054805893450975,0.167471870779991,-0.088782340288162,-0.019805762916803,-0.137966528534889,-0.095740072429180,0.136972352862358,0.209113746881485,0.169486030936241,-0.173984318971634,-0.020351322367787,-0.112287633121014,-0.032549448311329,0.030536951497197));
res += mul(Get(s3,dx,dy), float4x4(0.028498446568847,-0.146921709179878,-0.135627686977386,0.275285750627518,-0.136828616261482,-0.000334490061505,-0.009170843288302,-0.083010919392109,-0.013361889868975,0.091748125851154,0.183584436774254,-0.139064624905586,-0.103781215846539,0.050448667258024,-0.182815328240395,-0.027844641357660));
return max(float4(0,0,0,0), res);
}
