sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.013539179228246,0.020557884126902,0.000938245793805,0.075585745275021,-0.097177565097809,0.170137271285057,-0.158139616250992,0.065255023539066,-0.149799421429634,-0.056816305965185,0.261346101760864,-0.037830702960491,0.103622697293758,0.014381286688149,0.136704370379448,-0.097374156117439));
res += mul(Get(s0,-dx,0), float4x4(0.091293543577194,-0.053420919924974,-0.290354728698730,0.036806568503380,-0.068396307528019,-0.181122511625290,-0.151397004723549,-0.257445037364960,-0.177472025156021,0.011141569353640,0.044849362224340,-0.049046229571104,-0.018012272194028,-0.165088906884193,0.173279628157616,0.192085489630699));
res += mul(Get(s0,-dx,dy), float4x4(0.127680286765099,0.261443883180618,-0.141097530722618,0.022696888074279,0.039541807025671,0.007077785208821,-0.068968847393990,0.055124059319496,0.095368392765522,-0.122256480157375,0.062174141407013,-0.008249988779426,0.113371327519417,-0.230655536055565,0.006524177733809,-0.031631909310818));
res += mul(Get(s0,0,-dy), float4x4(-0.058434076607227,-0.109884850680828,0.024863442406058,-0.178834468126297,-0.109155796468258,-0.079934023320675,-0.082459196448326,-0.098236046731472,0.065172225236893,0.013959783129394,-0.033012274652719,0.020252518355846,-0.010851279832423,0.137023508548737,-0.065166100859642,0.046473618596792));
res += mul(Get(s0,0,0), float4x4(0.171449273824692,-0.006236764602363,-0.011040948331356,0.120067670941353,0.086533457040787,0.192563265562057,-0.093181148171425,-0.028773104771972,0.129687920212746,0.073183953762054,0.112285695970058,-0.214049831032753,-0.104913562536240,0.115598753094673,0.179842144250870,-0.003796959994361));
res += mul(Get(s0,0,dy), float4x4(-0.052746832370758,-0.009232102893293,-0.061176888644695,0.311456978321075,-0.153606727719307,0.104889996349812,0.333836704492569,0.203266650438309,0.207885950803757,0.047523099929094,0.220435217022896,0.114185869693756,0.095894686877728,0.036040481179953,0.021987857297063,0.084443673491478));
res += mul(Get(s0,dx,-dy), float4x4(0.109685868024826,-0.068680979311466,0.057138070464134,0.068789787590504,0.174537941813469,-0.020807508379221,0.219903916120529,-0.077334217727184,0.154508754611015,0.201241567730904,0.103730201721191,-0.218594789505005,0.213574498891830,0.036332726478577,0.063373431563377,-0.027430674061179));
res += mul(Get(s0,dx,0), float4x4(-0.243600353598595,-0.037772934883833,0.057528078556061,0.001034862943925,0.148859977722168,0.061956916004419,0.042258579283953,-0.019732205197215,-0.103704802691936,-0.044205307960510,-0.013474281877279,0.201694414019585,0.115185678005219,0.123160205781460,-0.096831448376179,0.120115615427494));
res += mul(Get(s0,dx,dy), float4x4(0.104147009551525,0.061119776219130,-0.053228747099638,-0.024993872269988,-0.158017128705978,-0.030725998803973,0.191806003451347,-0.032071601599455,-0.097520388662815,-0.010135705582798,0.188994884490967,-0.177518367767334,0.160680115222931,0.020626448094845,0.111204937100410,0.087802261114120));
res += mul(Get(s1,-dx,-dy), float4x4(0.002921986859292,0.051015976816416,-0.101567469537258,0.025407316163182,0.099330909550190,0.106141112744808,-0.097187325358391,0.097330614924431,-0.046938203275204,-0.099402949213982,-0.016161387786269,-0.201197743415833,-0.031267609447241,0.117576465010643,-0.204177901148796,0.046268485486507));
res += mul(Get(s1,-dx,0), float4x4(0.065833151340485,0.057397641241550,0.080213718116283,-0.020746421068907,0.091876521706581,0.127431690692902,0.087230734527111,-0.136728003621101,-0.042713630944490,-0.012441786006093,0.066946372389793,0.121969245374203,-0.106038905680180,0.001713983248919,0.136594370007515,0.081828117370605));
res += mul(Get(s1,-dx,dy), float4x4(-0.146542057394981,0.037789173424244,-0.080349437892437,0.038830272853374,0.005902821663767,0.000274871883448,-0.038610074669123,-0.044528469443321,-0.072579666972160,-0.033084899187088,-0.048129990696907,-0.269753575325012,0.008191985078156,-0.061879966408014,-0.070489078760147,-0.011134681291878));
res += mul(Get(s1,0,-dy), float4x4(-0.050613965839148,0.277913480997086,0.058972086757421,0.019903760403395,0.021727506071329,0.046020261943340,-0.146483778953552,0.146036833524704,0.113316632807255,0.000908941146918,0.059673324227333,-0.058048386126757,0.097144618630409,-0.232861250638962,0.016972824931145,-0.074952676892281));
res += mul(Get(s1,0,0), float4x4(-0.090410515666008,-0.023273564875126,0.114789471030235,-0.008799412287772,-0.088586315512657,-0.031241312623024,0.009548032656312,-0.010821064002812,0.162032186985016,0.075951941311359,0.157009854912758,0.080527387559414,-0.184697940945625,-0.189586937427521,-0.079351998865604,0.157165944576263));
res += mul(Get(s1,0,dy), float4x4(-0.003939996007830,0.008010316640139,0.085261672735214,-0.059463113546371,0.107382953166962,0.111423462629318,-0.136614769697189,-0.003559577278793,0.071158692240715,0.094244241714478,0.133708968758583,-0.006608768831939,0.050058163702488,-0.076012596487999,0.120686315000057,-0.092008873820305));
res += mul(Get(s1,dx,-dy), float4x4(-0.143966034054756,-0.071042120456696,0.040044203400612,0.050518725067377,0.071642212569714,0.087933622300625,-0.082699425518513,-0.230627402663231,0.003803212661296,-0.042991824448109,-0.096410356462002,-0.057801418006420,-0.012025267817080,0.002615488367155,-0.077637985348701,0.076508671045303));
res += mul(Get(s1,dx,0), float4x4(0.000168099737493,0.083113245666027,-0.049499336630106,-0.024973273277283,-0.036643013358116,0.026007726788521,0.019824946299195,-0.060063958168030,0.024013843387365,-0.017163427546620,0.110492661595345,0.074567481875420,0.198485165834427,-0.132797360420227,-0.238839447498322,-0.142752021551132));
res += mul(Get(s1,dx,dy), float4x4(0.144139915704727,-0.131922304630280,0.030162168666720,-0.091681078076363,-0.030935393646359,-0.061110481619835,0.081011302769184,0.093338139355183,-0.180846840143204,-0.051949933171272,0.129389762878418,0.041167639195919,-0.001973566832021,-0.124877855181694,0.110916614532471,-0.135660827159882));
res += mul(Get(s2,-dx,-dy), float4x4(0.118349961936474,-0.090456858277321,0.095475077629089,-0.070492289960384,0.053641572594643,0.043634388595819,-0.012561234645545,0.133358567953110,-0.089061550796032,0.160910427570343,-0.023775629699230,-0.237061560153961,-0.246211320161819,-0.011537091806531,0.020651651546359,-0.092029899358749));
res += mul(Get(s2,-dx,0), float4x4(0.050449665635824,-0.033154472708702,-0.191520914435387,0.007427975069731,0.211744353175163,0.134776189923286,0.085375286638737,-0.133097231388092,0.047145139425993,-0.101058043539524,0.065660879015923,-0.058761421591043,0.022520996630192,0.094303406774998,-0.074583135545254,-0.059292417019606));
res += mul(Get(s2,-dx,dy), float4x4(-0.053184717893600,0.181286811828613,0.085036940872669,0.142590120434761,0.117546848952770,0.019462149590254,-0.127891823649406,0.064777672290802,0.228910207748413,-0.067104279994965,-0.288910627365112,0.065765023231506,-0.036742467433214,-0.031230263411999,0.199399977922440,-0.011082032695413));
res += mul(Get(s2,0,-dy), float4x4(0.008339951746166,0.245846569538116,0.006450898014009,0.231278166174889,-0.278197437524796,-0.029255045577884,-0.074336364865303,-0.085523128509521,-0.026375589892268,0.061413925141096,0.029181942343712,0.024682242423296,0.030964847654104,0.137914016842842,0.262054204940796,0.063446603715420));
res += mul(Get(s2,0,0), float4x4(-0.070506848394871,0.175573453307152,0.057533770799637,0.053480818867683,-0.090604007244110,-0.067750170826912,-0.002530097495764,0.119459204375744,0.012613678351045,-0.190182507038116,0.180398181080818,0.216503396630287,0.117038272321224,-0.214690372347832,0.065790437161922,0.240966320037842));
res += mul(Get(s2,0,dy), float4x4(-0.021721538156271,-0.019480714574456,-0.076966643333435,0.140560284256935,-0.013341837562621,-0.073176279664040,-0.153681501746178,0.037235483527184,0.100329823791981,-0.051974590867758,0.093301631510258,0.057074561715126,0.092014506459236,0.072269618511200,0.087026447057724,-0.006736882030964));
res += mul(Get(s2,dx,-dy), float4x4(0.108487255871296,-0.012190612033010,0.085075095295906,-0.147283434867859,-0.108402885496616,-0.080323934555054,0.089259929955006,-0.039812590926886,0.099214695394039,-0.002033589873463,-0.017015354707837,0.032375447452068,0.042459685355425,0.133914351463318,-0.109906516969204,-0.026954144239426));
res += mul(Get(s2,dx,0), float4x4(0.018798992037773,-0.042798317968845,0.091604895889759,0.107484295964241,-0.163888007402420,-0.034372176975012,0.150305092334747,-0.146661624312401,0.112610109150410,0.100369088351727,0.266259670257568,-0.254248410463333,0.111566960811615,0.104976609349251,0.045393012464046,0.120156869292259));
res += mul(Get(s2,dx,dy), float4x4(-0.006865561474115,-0.032657779753208,-0.202546194195747,0.129324480891228,-0.124840244650841,-0.059063818305731,-0.086443580687046,0.066886566579342,0.166761815547943,0.085088163614273,-0.004494382999837,0.155896306037903,0.147935837507248,0.037382531911135,0.008031808771193,-0.179135799407959));
res += mul(Get(s3,-dx,-dy), float4x4(0.100556172430515,0.003945981618017,-0.118283830583096,-0.003195673460141,-0.080236375331879,0.111244849860668,-0.094255268573761,-0.064022362232208,-0.122430518269539,0.047933571040630,-0.025616319850087,-0.059429626911879,-0.114543072879314,0.011848713271320,0.100035421550274,-0.213955849409103));
res += mul(Get(s3,-dx,0), float4x4(0.120605044066906,0.024277659133077,-0.101533479988575,0.046480383723974,0.027544030919671,0.028558176010847,-0.013164300471544,-0.135317116975784,-0.053769677877426,-0.064864084124565,0.024309286847711,-0.135120138525963,0.123302534222603,-0.049604006111622,0.026655551046133,-0.022991925477982));
res += mul(Get(s3,-dx,dy), float4x4(0.113219439983368,0.055730246007442,-0.083285614848137,-0.176700085401535,-0.051507625728846,-0.198841810226440,-0.124544188380241,0.079914227128029,0.045836236327887,-0.038330376148224,-0.077892586588860,0.151511609554291,-0.061291296035051,0.023827940225601,-0.123750366270542,0.009897162206471));
res += mul(Get(s3,0,-dy), float4x4(-0.076071977615356,0.115758620202541,-0.075756967067719,0.316350251436234,-0.128241360187531,0.039094895124435,-0.223612979054451,-0.139175638556480,0.055116973817348,-0.044159434735775,0.066751725971699,0.006465164013207,-0.069352731108665,0.099015466868877,0.135783746838570,-0.266619563102722));
res += mul(Get(s3,0,0), float4x4(-0.053950309753418,-0.069213949143887,0.052733764052391,0.031431790441275,-0.050916310399771,-0.027576239779592,-0.061472266912460,0.161807745695114,0.301669031381607,0.106888778507710,0.133485838770866,0.134264171123505,-0.068706378340721,-0.096778251230717,0.073363408446312,0.156736925244331));
res += mul(Get(s3,0,dy), float4x4(-0.030669735744596,0.165200263261795,-0.194429606199265,0.050833422690630,0.011319844052196,-0.188141480088234,-0.264851838350296,0.011176835745573,-0.110123179852962,0.155636966228485,-0.120552703738213,-0.178285002708435,-0.198033064603806,-0.100421123206615,0.004428997170180,0.284292072057724));
res += mul(Get(s3,dx,-dy), float4x4(-0.000548743177205,-0.141617178916931,-0.072807684540749,-0.113053433597088,0.213827043771744,-0.011025217361748,0.179093956947327,-0.064754217863083,-0.273844808340073,-0.022183135151863,0.052149474620819,-0.238213196396828,0.212337493896484,0.190053731203079,0.074730396270752,0.109729692339897));
res += mul(Get(s3,dx,0), float4x4(-0.001441524364054,0.167415216565132,0.082617864012718,-0.043902952224016,-0.190171852707863,-0.027772599831223,0.042000282555819,-0.095063477754593,-0.085409134626389,-0.224152147769928,0.176632165908813,-0.016344616189599,0.042865149676800,0.046652156859636,-0.149052351713181,-0.079279877245426));
res += mul(Get(s3,dx,dy), float4x4(0.050856646150351,-0.009523709304631,-0.020344825461507,-0.026050630956888,-0.065512329339981,-0.039439231157303,-0.109454490244389,0.111227951943874,0.202915579080582,0.109885185956955,-0.052078537642956,-0.103094398975372,0.091250918805599,-0.181329265236855,-0.077310830354691,0.036154102534056));
return max(float4(0,0,0,0), res);
}
