sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.162208616733551,0.117929495871067,0.120837606489658,-0.114545390009880,-0.046616226434708,0.009673973545432,0.035796038806438,0.016081850975752,0.073015771806240,-0.124570235610008,-0.009131909348071,0.056336339563131,-0.028201781213284,-0.031578782945871,-0.000607126625255,0.017804076895118));
res += mul(Get(s0,-dx,0), float4x4(-0.061974611133337,0.024711275473237,0.091941848397255,-0.077054679393768,-0.078679703176022,-0.054862879216671,0.020996572449803,0.122716635465622,0.179130792617798,0.055510062724352,0.110152453184128,0.299403429031372,0.004927020985633,-0.007823162712157,0.034277785569429,0.056691825389862));
res += mul(Get(s0,-dx,dy), float4x4(-0.083166345953941,-0.190153673291206,-0.117821991443634,-0.029809249565005,-0.102198056876659,-0.114573366940022,-0.002451444044709,0.011898891068995,0.045508269220591,-0.121501699090004,-0.009089137427509,0.249458506703377,0.003749271854758,-0.001403114874847,0.020267855376005,0.046641122549772));
res += mul(Get(s0,0,-dy), float4x4(-0.158210039138794,0.135647073388100,-0.009045746177435,-0.119657255709171,0.091496326029301,-0.016442093998194,0.173725545406342,-0.000310486415401,0.167547225952148,-0.038176558911800,0.132889762520790,-0.127528399229050,-0.019335139542818,-0.031997147947550,0.004328989423811,0.010506156831980));
res += mul(Get(s0,0,0), float4x4(-0.134059637784958,-0.002978094154969,0.029288314282894,-0.108891658484936,-0.007895428687334,-0.000864025088958,0.124481827020645,0.048975940793753,0.174834758043289,-0.053458537906408,0.089038021862507,0.062927745282650,-0.000129941967316,-0.017477875575423,0.029956553131342,0.034917328506708));
res += mul(Get(s0,0,dy), float4x4(-0.179426014423370,-0.163923308253288,-0.009806073270738,-0.143910706043243,-0.092305742204189,-0.049852430820465,0.036639157682657,0.024485269561410,-0.044425174593925,-0.155780509114265,-0.073593646287918,0.056241773068905,-0.013476038351655,0.000801088579465,0.016383688896894,0.042469922453165));
res += mul(Get(s0,dx,-dy), float4x4(-0.093514308333397,0.136761248111725,-0.141063645482063,-0.128835946321487,0.120242625474930,-0.019609689712524,0.043669998645782,-0.097209833562374,0.048158951103687,-0.044294681400061,0.010203550569713,0.034987829625607,-0.035889673978090,-0.018947778269649,-0.002374937525019,-0.019938088953495));
res += mul(Get(s0,dx,0), float4x4(0.011140341870487,-0.124796122312546,-0.083805598318577,-0.036005288362503,0.038114394992590,0.023648934438825,-0.100095957517624,-0.125440761446953,-0.003110183868557,0.001597419031896,0.035059195011854,0.073785103857517,-0.016713328659534,-0.017028067260981,-0.000178081914783,0.016997231170535));
res += mul(Get(s0,dx,dy), float4x4(0.023383306339383,0.026893777772784,-0.024383828043938,-0.080053068697453,-0.070449277758598,0.039514541625977,-0.148288652300835,-0.133131816983223,-0.120370544493198,-0.004676733631641,-0.030264193192124,0.072305470705032,-0.024563316255808,-0.004683029837906,-0.010100245475769,0.016878185793757));
res += mul(Get(s1,-dx,-dy), float4x4(0.091999411582947,-0.079336434602737,-0.098741963505745,-0.081436559557915,0.006105463951826,0.252569615840912,0.008362819440663,0.111434586346149,0.068394951522350,-0.251048386096954,-0.081175118684769,-0.267870128154755,-0.058837197721004,-0.242715343832970,-0.014935373328626,-0.146610900759697));
res += mul(Get(s1,-dx,0), float4x4(0.017386803403497,-0.063859030604362,0.120433896780014,-0.036242112517357,-0.078366346657276,-0.022712940350175,0.392170518636703,0.016626704484224,-0.059629883617163,-0.085484690964222,0.040610980242491,-0.106330290436745,0.081181429326534,0.053382817655802,-0.040466319769621,0.069307431578636));
res += mul(Get(s1,-dx,dy), float4x4(0.069377921521664,0.002555398270488,0.090842977166176,-0.002568483585492,-0.057650398463011,-0.002977623138577,-0.047910079360008,-0.073781825602055,-0.221008390188217,-0.107520304620266,0.005387389566749,0.030098227784038,-0.013780555687845,0.037085331976414,0.112727418541908,0.082837268710136));
res += mul(Get(s1,0,-dy), float4x4(0.127258345484734,-0.103284187614918,-0.072299890220165,-0.069396525621414,-0.034350566565990,0.085458934307098,0.164832904934883,0.010096306912601,-0.005524806212634,-0.075942344963551,0.013543051667511,-0.095274455845356,0.023900281637907,-0.082482561469078,-0.142160385847092,-0.041021499782801));
res += mul(Get(s1,0,0), float4x4(-0.005834428593516,-0.042167879641056,-0.037443477660418,-0.034498531371355,-0.085689596831799,0.000524637987837,0.034522417932749,-0.069690831005573,0.019108999520540,-0.069023489952087,-0.024650692939758,0.050217796117067,0.262003868818283,0.331980109214783,-0.209418773651123,-0.019143614917994));
res += mul(Get(s1,0,dy), float4x4(0.045826874673367,0.092469900846481,-0.007558162789792,-0.034118458628654,0.005964778363705,0.035612754523754,-0.343540906906128,-0.110073670744896,0.067343033850193,-0.045279525220394,0.001532711903565,-0.018430508673191,0.044309947639704,0.076843641698360,0.018882961943746,0.044878866523504));
res += mul(Get(s1,dx,-dy), float4x4(-0.015109276399016,-0.059321593493223,-0.018198771402240,-0.016091834753752,0.067390702664852,-0.041213527321815,0.039034724235535,0.011906813830137,-0.093518219888210,-0.011058697476983,-0.158842504024506,0.021657815203071,0.039758704602718,-0.175041392445564,-0.095207475125790,-0.097027972340584));
res += mul(Get(s1,dx,0), float4x4(-0.081358619034290,-0.047750163823366,0.020654564723372,0.181146934628487,0.013951357454062,-0.094114854931831,-0.294319272041321,-0.042266286909580,-0.108074836432934,0.024219460785389,-0.125379368662834,0.077067464590073,0.219627112150192,-0.069595418870449,-0.005712049547583,-0.086986154317856));
res += mul(Get(s1,dx,dy), float4x4(-0.042140953242779,-0.010352400131524,0.022922191768885,0.150373280048370,0.019966946914792,-0.067140452563763,-0.265036225318909,0.030822739005089,0.036970783025026,0.025200318545103,0.023842543363571,-0.015784364193678,-0.050219792872667,0.039951156824827,0.185047298669815,-0.072216823697090));
res += mul(Get(s2,-dx,-dy), float4x4(-0.064992360770702,-0.036370374262333,-0.008363901637495,-0.017854327335954,0.004686629865319,-0.002446508035064,0.129561200737953,-0.026886427775025,-0.047967653721571,-0.081458747386932,-0.027445062994957,0.058286648243666,-0.081662841141224,0.101994499564171,0.012271593324840,-0.097134836018085));
res += mul(Get(s2,-dx,0), float4x4(0.008527820929885,0.122783221304417,0.018257567659020,0.025687633082271,-0.008396579883993,-0.067551307380199,0.250647097826004,-0.029902968555689,-0.207528069615364,-0.139180377125740,-0.120059475302696,-0.095015168190002,-0.052104029804468,-0.073588334023952,-0.059520110487938,-0.088206812739372));
res += mul(Get(s2,-dx,dy), float4x4(-0.017833342775702,0.099867023527622,-0.063645988702774,0.051479239016771,-0.060680292546749,-0.117088288068771,-0.024279795587063,-0.005447152070701,-0.289913147687912,-0.168666049838066,0.063662059605122,-0.242532491683960,-0.165969043970108,0.007863570004702,-0.132554024457932,-0.209047600626945));
res += mul(Get(s2,0,-dy), float4x4(0.169262811541557,-0.095909766852856,-0.074053063988686,-0.061133410781622,0.019801203161478,-0.023557627573609,0.094601191580296,0.030142594128847,0.011525661684573,-0.053698733448982,0.061234388500452,0.060134772211313,-0.129113316535950,-0.050363551825285,0.014024222269654,-0.125925675034523));
res += mul(Get(s2,0,0), float4x4(0.065949924290180,-0.048367030918598,-0.146322548389435,0.035495314747095,-0.060859788209200,-0.062482677400112,0.058102879673243,0.022978473454714,-0.081206418573856,-0.053302392363548,-0.082224465906620,0.087775520980358,-0.061954539269209,0.042209055274725,0.034183319658041,-0.104852706193924));
res += mul(Get(s2,0,dy), float4x4(-0.205086573958397,0.170476227998734,-0.056508552283049,0.079920254647732,-0.050776518881321,-0.146624341607094,-0.045508928596973,0.010829980485141,-0.079470753669739,-0.044348508119583,0.043631389737129,-0.034157596528530,0.074966304004192,0.097653254866600,0.038856655359268,-0.135614991188049));
res += mul(Get(s2,dx,-dy), float4x4(-0.050309151411057,-0.043983284384012,-0.094523228704929,-0.004406550899148,0.011618472635746,-0.004094448871911,0.119596026837826,-0.100817784667015,0.005722569767386,0.060289181768894,0.078960068523884,0.086663924157619,-0.055999509990215,-0.041608732193708,-0.192171320319176,-0.129647865891457));
res += mul(Get(s2,dx,0), float4x4(-0.014207405969501,-0.044059921056032,-0.157599046826363,0.000277511280729,-0.046141069382429,-0.054680999368429,0.036797139793634,-0.106461696326733,-0.031727775931358,0.189244315028191,0.048561431467533,0.119331702589989,-0.032470587641001,0.385744005441666,-0.049757361412048,-0.209610417485237));
res += mul(Get(s2,dx,dy), float4x4(-0.093851827085018,0.044694010168314,-0.101634971797466,-0.008967777714133,-0.012498939409852,-0.083837889134884,0.026382179930806,-0.164090082049370,0.047978840768337,0.179742574691772,0.068568237125874,0.038987517356873,-0.031074319034815,0.428134739398956,-0.023312894627452,-0.215909466147423));
res += mul(Get(s3,-dx,-dy), float4x4(-0.016807822510600,0.088731914758682,-0.041296761482954,0.042546819895506,0.138466194272041,-0.081616245210171,-0.017595592886209,-0.023217760026455,-0.251316905021667,0.068224877119064,-0.078612811863422,-0.045938931405544,-0.160948053002357,0.012732498347759,0.062348093837500,0.111484870314598));
res += mul(Get(s3,-dx,0), float4x4(0.067847348749638,0.066873103380203,0.034291222691536,0.139469474554062,0.083681017160416,-0.021125802770257,-0.056610532104969,-0.035806648433208,0.066200442612171,0.102652803063393,-0.098752103745937,0.090874321758747,0.071371361613274,0.066254906356335,-0.051236074417830,-0.055468335747719));
res += mul(Get(s3,-dx,dy), float4x4(0.136253386735916,0.054638870060444,0.103334017097950,0.193346679210663,0.062884442508221,0.016715472564101,-0.022473216056824,-0.080429501831532,-0.011322127655149,-0.017362620681524,-0.065544761717319,0.139394149184227,-0.089771673083305,-0.011479735374451,0.199694871902466,-0.041548378765583));
res += mul(Get(s3,0,-dy), float4x4(0.040149275213480,0.014376750215888,0.029491320252419,-0.132622525095940,0.039423979818821,-0.059946037828922,0.018205596134067,-0.066749975085258,0.027683673426509,0.270595014095306,-0.112363889813423,-0.054299224168062,-0.021615037694573,-0.079805955290794,-0.219009801745415,0.008179409429431));
res += mul(Get(s3,0,0), float4x4(0.085676468908787,0.012605026364326,0.113723240792751,-0.069940723478794,-0.096689850091934,-0.028230883181095,0.045940883457661,0.025794753804803,0.246231749653816,-0.050660226494074,-0.059911534190178,0.109793886542320,-0.011230475269258,-0.084979847073555,-0.198413580656052,0.091673411428928));
res += mul(Get(s3,0,dy), float4x4(0.104416921734810,0.014839743264019,0.092161744832993,0.043308578431606,-0.063851870596409,0.032173871994019,0.128303572535515,-0.012124936096370,0.070484310388565,-0.221601024270058,0.120431602001190,-0.036106638610363,-0.126576289534569,-0.067500084638596,0.153174147009850,-0.096058562397957));
res += mul(Get(s3,dx,-dy), float4x4(0.002905048662797,-0.000556151964702,-0.153494060039520,-0.135429814457893,0.103406526148319,0.004046610090882,0.036494027823210,-0.025977000594139,0.114686332643032,0.176764100790024,0.065765336155891,-0.025205811485648,0.108588717877865,-0.026941625401378,0.160003095865250,-0.018036652356386));
res += mul(Get(s3,dx,0), float4x4(-0.040792666375637,-0.004671238362789,-0.104676224291325,-0.128346636891365,-0.040276732295752,0.047777496278286,0.013894272036850,0.071064725518227,-0.110579237341881,-0.166891619563103,0.008972221054137,0.182223498821259,-0.098259359598160,0.056881342083216,0.083862580358982,0.308980107307434));
res += mul(Get(s3,dx,dy), float4x4(-0.033392362296581,0.020845117047429,-0.077698178589344,-0.090094387531281,-0.026848329231143,0.046743892133236,0.050757654011250,0.075540937483311,-0.086347542703152,-0.052627436816692,-0.063912637531757,-0.125444710254669,-0.231520369648933,0.035251077264547,0.026620320975780,0.073305368423462));
return max(float4(0,0,0,0), res);
}
