sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.095434397459030,-0.043343432247639,-0.164443895220757,0.152397766709328,-0.167008757591248,0.256243884563446,0.278757661581039,0.065656848251820,-0.119377404451370,0.021963665261865,0.028179455548525,0.022252006456256,-0.179111465811729,0.061019435524940,-0.219285205006599,0.077596083283424));
res += mul(Get(s0,-dx,0), float4x4(-0.273575752973557,-0.070618554949760,0.063255928456783,-0.072478458285332,0.084586367011070,0.127354115247726,-0.058737359941006,-0.092464707791805,-0.123012185096741,-0.051885057240725,0.067302130162716,-0.101261116564274,-0.145904436707497,0.167583987116814,0.174078419804573,0.048858359456062));
res += mul(Get(s0,-dx,dy), float4x4(-0.133306190371513,-0.123133502900600,-0.063496492803097,0.012812253087759,-0.104282028973103,-0.017368366941810,-0.063492648303509,-0.139866784214973,0.009879919700325,0.000649554305710,0.095532849431038,0.063382439315319,-0.054914820939302,0.040799379348755,0.089646644890308,0.089633181691170));
res += mul(Get(s0,0,-dy), float4x4(-0.166407853364944,0.144395232200623,-0.055115047842264,0.055317342281342,-0.221811354160309,0.087623856961727,-0.052665274590254,-0.047610707581043,-0.194962456822395,0.043353173881769,0.164626836776733,-0.002064475091174,-0.018532671034336,0.114035792648792,-0.101356603205204,0.073354974389076));
res += mul(Get(s0,0,0), float4x4(0.002518797758967,-0.035872839391232,0.005121313035488,-0.065993890166283,0.030031519010663,-0.100506164133549,-0.085390076041222,0.033638343214989,0.175936460494995,0.038405191153288,0.042986966669559,-0.000746311387047,0.066416874527931,-0.044313117861748,0.054530628025532,-0.047278292477131));
res += mul(Get(s0,0,dy), float4x4(-0.029449777677655,-0.267752528190613,-0.016762508079410,-0.073008939623833,0.187444642186165,0.076545991003513,-0.150455459952354,-0.093097470700741,-0.086408279836178,0.078015141189098,0.079502314329147,-0.020048644393682,-0.145804658532143,-0.098292186856270,-0.052368346601725,0.128862842917442));
res += mul(Get(s0,dx,-dy), float4x4(0.090200163424015,0.283444553613663,0.292858958244324,-0.111408740282059,0.037668365985155,-0.099314965307713,-0.011358900927007,0.020300928503275,0.164896339178085,-0.008675299584866,-0.028029559180140,-0.064517043530941,-0.176088392734528,0.175348579883575,-0.088125303387642,-0.227513700723648));
res += mul(Get(s0,dx,0), float4x4(0.164462938904762,-0.221292555332184,0.271631240844727,0.029632663354278,-0.032075956463814,0.200758710503578,0.015065607614815,0.094813510775566,0.077493444085121,-0.113354124128819,0.059943642467260,-0.064616203308105,0.074596911668777,-0.105622954666615,-0.027979161590338,0.036054830998182));
res += mul(Get(s0,dx,dy), float4x4(0.138167530298233,-0.160121574997902,0.261049658060074,0.060669727623463,-0.002423057565466,0.100663453340530,0.045973494648933,0.148767113685608,-0.010654243640602,0.044069286435843,-0.111617475748062,0.090282008051872,-0.054176755249500,0.079771265387535,0.079747617244720,0.146509498357773));
res += mul(Get(s1,-dx,-dy), float4x4(-0.063214890658855,0.049912679940462,-0.037516277283430,0.048644181340933,0.180761620402336,-0.098499186336994,0.010848478414118,0.096101291477680,-0.139028146862984,0.117893800139427,0.025257494300604,0.033055040985346,-0.115380473434925,0.039432182908058,0.035137105733156,0.030461654067039));
res += mul(Get(s1,-dx,0), float4x4(0.097054705023766,0.124359853565693,0.033588793128729,-0.079963020980358,0.201889008283615,-0.002976503688842,0.131860122084618,0.204233810305595,-0.147208780050278,-0.064232319593430,-0.128718867897987,0.132956445217133,-0.062091227620840,-0.188392087817192,-0.044468451291323,0.173107236623764));
res += mul(Get(s1,-dx,dy), float4x4(-0.004353583324701,-0.013786410912871,0.052885342389345,0.021672733128071,0.070648290216923,-0.193290725350380,-0.043866492807865,0.172595009207726,-0.137472420930862,-0.255193203687668,-0.139718756079674,-0.061138067394495,-0.139786317944527,0.039540670812130,0.049947787076235,0.032279588282108));
res += mul(Get(s1,0,-dy), float4x4(-0.009125401265919,-0.077160045504570,0.069618143141270,0.048768125474453,-0.008196727372706,-0.174535349011421,-0.097215063869953,-0.067445032298565,-0.073438063263893,0.121465846896172,-0.022674761712551,-0.125726982951164,-0.148709967732430,0.055184353142977,0.110376782715321,0.055680658668280));
res += mul(Get(s1,0,0), float4x4(-0.183564439415932,-0.065893582999706,-0.046915769577026,-0.113219290971756,-0.044423576444387,0.061135228723288,-0.000038364076318,-0.121402040123940,-0.200217828154564,-0.136550530791283,0.018409516662359,0.079856216907501,0.017041485756636,0.054428044706583,0.063378512859344,-0.010284235700965));
res += mul(Get(s1,0,dy), float4x4(0.057254906743765,0.074414514005184,0.029042934998870,-0.227920755743980,-0.063620232045650,0.067230165004730,0.020421925932169,-0.069809369742870,-0.131762176752090,-0.032748065888882,0.095533557236195,0.148587211966515,-0.090669408440590,0.099906876683235,0.195029780268669,0.117159761488438));
res += mul(Get(s1,dx,-dy), float4x4(-0.081301629543304,-0.054480303078890,-0.024152630940080,0.055188875645399,0.089535154402256,0.096519865095615,0.127864331007004,-0.165671020746231,0.014158959500492,-0.013939164578915,0.069797366857529,-0.072959229350090,-0.081840626895428,-0.144956722855568,-0.027911873534322,0.087408326566219));
res += mul(Get(s1,dx,0), float4x4(-0.253506392240524,-0.021994201466441,0.004135029390454,-0.160862728953362,-0.036457739770412,-0.018997006118298,-0.128954797983170,-0.108257472515106,0.116703279316425,0.002063663676381,0.083851441740990,-0.142767146229744,-0.013447910547256,-0.004749568644911,-0.000670179026201,-0.158141165971756));
res += mul(Get(s1,dx,dy), float4x4(-0.185357809066772,0.013276780024171,-0.126405447721481,-0.044647838920355,-0.104442685842514,0.039735823869705,0.037762247025967,-0.171755090355873,0.174341380596161,0.083407714962959,0.185011506080627,-0.036613319069147,0.127196401357651,-0.103672571480274,0.084196187555790,0.179076284170151));
res += mul(Get(s2,-dx,-dy), float4x4(0.016712013632059,-0.013029278255999,-0.104356430470943,-0.015096226707101,-0.066727340221405,-0.174840226769447,0.225300461053848,0.180880576372147,-0.067834340035915,-0.033361766487360,0.037584487348795,-0.032546304166317,-0.002409324981272,-0.016777591779828,-0.036442674696445,-0.148703902959824));
res += mul(Get(s2,-dx,0), float4x4(-0.144461929798126,-0.082654662430286,0.111096844077110,-0.072614878416061,0.003226975444704,-0.046370606869459,0.095651753246784,-0.025191361084580,0.016195550560951,0.057988077402115,0.132721275091171,0.054706294089556,0.151128873229027,0.107434302568436,0.033366266638041,0.188808232545853));
res += mul(Get(s2,-dx,dy), float4x4(-0.173842579126358,0.073914289474487,0.018047800287604,0.020912973210216,-0.063234105706215,-0.024381957948208,-0.058163214474916,-0.189526379108429,0.208543702960014,0.020462444052100,-0.129281118512154,-0.118139922618866,0.043675642460585,-0.123731486499310,-0.081656754016876,0.149124115705490));
res += mul(Get(s2,0,-dy), float4x4(-0.032499663531780,-0.054093010723591,-0.128826707601547,0.032484520226717,-0.025165518745780,-0.055744264274836,-0.055984765291214,-0.161018311977386,0.290726572275162,-0.077795378863811,0.064784146845341,0.180880576372147,0.150716096162796,0.264040052890778,-0.113370783627033,-0.143799737095833));
res += mul(Get(s2,0,0), float4x4(0.060971371829510,-0.063489496707916,0.012975760735571,-0.001543854945339,-0.040632609277964,0.001774303731509,0.006816133856773,0.057481843978167,0.123649738729000,0.176724985241890,-0.054166253656149,-0.109080448746681,0.123883657157421,0.025795014575124,-0.052005324512720,0.079828590154648));
res += mul(Get(s2,0,dy), float4x4(0.083797968924046,0.156875506043434,0.073407799005508,0.129433631896973,-0.004319305066019,-0.052332188934088,-0.198291435837746,-0.074179038405418,0.062764436006546,-0.105521216988564,-0.151581391692162,0.183867141604424,-0.075552262365818,0.081105142831802,-0.220675706863403,0.057823948562145));
res += mul(Get(s2,dx,-dy), float4x4(0.058069922029972,-0.039557505398989,-0.051319438964128,-0.021221350878477,0.141967594623566,0.068845756351948,-0.059965286403894,0.038063924759626,0.008435398340225,-0.052210189402103,-0.030866784974933,-0.079497724771500,-0.061647348105907,0.185419216752052,-0.076167032122612,-0.097640641033649));
res += mul(Get(s2,dx,0), float4x4(0.190316155552864,-0.040315330028534,0.121820569038391,0.107430465519428,0.127666980028152,0.035486467182636,-0.099390730261803,-0.237197175621986,0.026092400774360,-0.062867872416973,-0.167946204543114,0.106075443327427,-0.126239091157913,0.005707785952836,-0.130253270268440,0.059209275990725));
res += mul(Get(s2,dx,dy), float4x4(0.022814255207777,-0.019794801250100,-0.148315697908401,-0.108141832053661,0.102104455232620,-0.049590308219194,-0.109512411057949,0.168419271707535,-0.145284011960030,-0.045349594205618,-0.027329120784998,0.080481961369514,-0.058807801455259,0.007689985912293,0.094980545341969,0.166562020778656));
res += mul(Get(s3,-dx,-dy), float4x4(0.161684334278107,-0.001558215706609,-0.043970763683319,0.102308653295040,-0.207379266619682,-0.046780992299318,-0.023256063461304,0.062247559428215,0.075937449932098,-0.131649374961853,-0.085738509893417,-0.054755568504333,0.191703662276268,-0.062404818832874,0.008124698884785,-0.212951719760895));
res += mul(Get(s3,-dx,0), float4x4(0.049627866595984,0.072105705738068,-0.011193908751011,-0.074405230581760,-0.006459377706051,0.162572816014290,-0.059628024697304,-0.000498841342051,0.057202450931072,0.045631274580956,-0.095797166228294,-0.143552407622337,0.204873532056808,-0.052147094160318,-0.097755022346973,-0.130480945110321));
res += mul(Get(s3,-dx,dy), float4x4(-0.008479874581099,-0.226353272795677,-0.103529557585716,-0.040846128016710,-0.012146338820457,0.121089279651642,0.001452667172998,-0.024284340441227,-0.069775432348251,0.019965758547187,-0.119827002286911,-0.148215770721436,0.078779406845570,-0.118950553238392,-0.088496275246143,-0.009702028706670));
res += mul(Get(s3,0,-dy), float4x4(0.118117652833462,0.090955816209316,-0.042618915438652,0.161007210612297,0.348694443702698,0.070056699216366,0.125443026423454,0.120448425412178,0.187050268054008,0.012024624273181,0.024378890171647,-0.011347563005984,0.336574018001556,0.045061733573675,-0.041521642357111,0.221006989479065));
res += mul(Get(s3,0,0), float4x4(-0.080182284116745,0.221407443284988,-0.130759075284004,-0.202595636248589,0.077458813786507,-0.071817681193352,-0.027464022859931,-0.080509006977081,0.191807180643082,0.143759027123451,-0.017466926947236,-0.115912631154060,0.187409386038780,-0.090958766639233,-0.116940282285213,0.036590009927750));
res += mul(Get(s3,0,dy), float4x4(-0.021606462076306,0.110960453748703,0.053723242133856,0.124211207032204,-0.025061734020710,0.167787775397301,0.102355234324932,-0.106443062424660,0.125947281718254,0.043104030191898,0.023080348968506,0.149153977632523,-0.040625091642141,0.082587629556656,-0.075664937496185,0.179676502943039));
res += mul(Get(s3,dx,-dy), float4x4(0.001952731865458,0.071396231651306,0.035952005535364,-0.062202461063862,0.145819157361984,0.109967678785324,0.064999856054783,0.065594412386417,-0.123295336961746,0.005983721930534,-0.014235666953027,0.071481026709080,-0.018766757100821,0.283945202827454,0.068213447928429,-0.071052089333534));
res += mul(Get(s3,dx,0), float4x4(0.159336000680923,0.021652897819877,-0.154637128114700,0.003040632465854,0.126669600605965,0.132989928126335,-0.038422312587500,0.141670301556587,-0.269628256559372,-0.035903368145227,-0.170779272913933,-0.026385413482785,-0.047725863754749,-0.056045282632113,0.108435586094856,0.041690114885569));
res += mul(Get(s3,dx,dy), float4x4(0.031153505668044,-0.025036692619324,0.112159065902233,-0.021179942414165,0.091736957430840,-0.004381546285003,-0.006917066872120,-0.113332659006119,0.012044646777213,-0.071642473340034,-0.035756066441536,-0.096914045512676,0.048185031861067,0.067313447594643,0.085217811167240,0.172219991683960));
return max(float4(0,0,0,0), res);
}
