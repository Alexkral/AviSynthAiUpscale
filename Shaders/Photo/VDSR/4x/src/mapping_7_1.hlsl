sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.098867483437061,-0.049769483506680,-0.154336690902710,-0.144848525524139,-0.137512728571892,-0.088460080325603,-0.092039912939072,0.044545155018568,0.003496029414237,0.011352310888469,0.126682713627815,-0.033838495612144,-0.011296698823571,0.013848409056664,0.021339973434806,0.012290851213038));
res += mul(Get(s0,-dx,0), float4x4(-0.008787045255303,-0.110769852995872,-0.116257607936859,-0.036880325525999,-0.093464761972427,0.110539436340332,-0.015605106018484,0.042853735387325,-0.180139750242233,-0.031222024932504,0.031466901302338,-0.023265957832336,0.026877861469984,0.128456041216850,0.204557314515114,-0.041473403573036));
res += mul(Get(s0,-dx,dy), float4x4(-0.005714150145650,-0.012532878667116,-0.118285723030567,-0.166643604636192,0.010119295679033,0.034349545836449,-0.111863270401955,0.000157503964147,0.027342243120074,-0.053942941129208,-0.090766191482544,0.169927075505257,-0.005151274148375,0.063215531408787,0.113762080669403,0.014122705906630));
res += mul(Get(s0,0,-dy), float4x4(-0.072494588792324,-0.021395269781351,-0.050028108060360,-0.093429632484913,-0.064277730882168,0.116081856191158,-0.069555424153805,0.076340802013874,-0.069753535091877,0.019280472770333,0.109783798456192,0.122669585049152,-0.067989319562912,0.036487180739641,0.029642008244991,0.020416069775820));
res += mul(Get(s0,0,0), float4x4(0.036351487040520,-0.062430720776320,-0.066967621445656,-0.057755146175623,-0.057220447808504,0.075386367738247,-0.035750262439251,-0.053474877029657,-0.024861091747880,0.085873045027256,-0.032438315451145,0.000757071888074,0.001546143554151,-0.006188975181431,0.121863596141338,-0.035549066960812));
res += mul(Get(s0,0,dy), float4x4(0.114845223724842,0.230427786707878,0.033338211476803,-0.153900593519211,0.012937720865011,0.083805806934834,-0.114466339349747,-0.009622794575989,0.116006322205067,-0.009220262989402,-0.083161056041718,-0.001311875181273,-0.096848055720329,0.208539932966232,0.095774717628956,-0.013811887241900));
res += mul(Get(s0,dx,-dy), float4x4(-0.087915562093258,-0.066321499645710,-0.037379346787930,0.004043852910399,0.256429225206375,-0.085541494190693,0.117075957357883,0.187803491950035,0.113467194139957,0.056766338646412,0.041818566620350,0.177663728594780,-0.039410855621099,-0.016599474474788,0.039814118295908,0.052492242306471));
res += mul(Get(s0,dx,0), float4x4(0.033804323524237,0.024627983570099,-0.100617699325085,-0.063835978507996,0.148263990879059,-0.116170786321163,0.163409978151321,0.054183252155781,0.049527183175087,0.105852738022804,-0.039277840405703,-0.137435182929039,0.234779134392738,-0.145370036363602,0.019412197172642,0.121272802352905));
res += mul(Get(s0,dx,dy), float4x4(0.038989543914795,0.080455869436264,0.062171068042517,-0.138744011521339,-0.001269891043194,-0.128569647669792,-0.079358175396919,-0.009919620119035,-0.056503210216761,-0.002902855863795,-0.015481409616768,-0.120716840028763,-0.164635375142097,-0.066071085631847,0.049818277359009,0.159864321351051));
res += mul(Get(s1,-dx,-dy), float4x4(0.109943009912968,0.001640676870011,0.024593386799097,0.060474988073111,-0.093533053994179,-0.002698681550100,-0.053183555603027,0.021391393616796,-0.267989784479141,-0.094952814280987,-0.148746713995934,-0.102646008133888,-0.178478136658669,0.075093947350979,-0.156947061419487,-0.057620741426945));
res += mul(Get(s1,-dx,0), float4x4(0.028514422476292,0.031361550092697,0.069672830402851,0.019474307075143,0.099328711628914,0.159001037478447,-0.029096566140652,-0.169422730803490,-0.088990323245525,-0.077556438744068,0.003401918336749,0.024958794936538,-0.049565818160772,0.087481208145618,-0.122941702604294,-0.060047913342714));
res += mul(Get(s1,-dx,dy), float4x4(-0.024566821753979,0.066433884203434,-0.017061833292246,0.050334457308054,0.182135298848152,0.077306829392910,-0.192765682935715,-0.131226286292076,-0.018439214676619,-0.046765349805355,-0.050093341618776,-0.131585776805878,0.066996142268181,-0.040680095553398,0.100062243640423,-0.138310208916664));
res += mul(Get(s1,0,-dy), float4x4(-0.058560837060213,-0.105405963957310,-0.033763367682695,0.096389897167683,-0.130034938454628,-0.146720513701439,-0.117083735764027,0.018598787486553,-0.031019439920783,-0.024942304939032,-0.131519585847855,-0.028320746496320,-0.184386178851128,0.006556782871485,-0.072712555527687,0.042356994003057));
res += mul(Get(s1,0,0), float4x4(-0.084941454231739,-0.066949687898159,0.014718604274094,-0.064075537025928,0.017334833741188,0.038861576467752,-0.048547346144915,-0.006771985441446,-0.023701835423708,-0.005887633189559,0.041476093232632,-0.012334896251559,-0.005584239959717,-0.065436825156212,-0.068402893841267,0.010129833593965));
res += mul(Get(s1,0,dy), float4x4(0.013045153580606,-0.115036286413670,0.011106936261058,-0.017233788967133,0.163203909993172,0.023526297882199,-0.161145344376564,-0.074397847056389,-0.090733282268047,-0.015976011753082,-0.136676862835884,-0.080748736858368,0.004049594048411,-0.238626182079315,0.017120324075222,-0.035473693162203));
res += mul(Get(s1,dx,-dy), float4x4(-0.012745828367770,-0.118915528059006,-0.037218872457743,-0.040239550173283,-0.016280710697174,0.200880870223045,-0.109766937792301,-0.049452431499958,0.149453356862068,-0.156429901719093,-0.152417108416557,-0.076435916125774,-0.148798450827599,0.107358738780022,-0.075477212667465,-0.091504856944084));
res += mul(Get(s1,dx,0), float4x4(-0.042437508702278,-0.080816432833672,-0.096742667257786,0.093576848506927,0.112442165613174,0.145718783140182,-0.072679452598095,-0.056125946342945,0.058563079684973,-0.137228712439537,0.235563516616821,-0.148176684975624,-0.100113660097122,0.370323389768600,-0.114011690020561,-0.069387540221214));
res += mul(Get(s1,dx,dy), float4x4(-0.044790722429752,-0.132038012146950,-0.139927417039871,-0.071560740470886,-0.045500967651606,0.080757208168507,-0.168702304363251,-0.118383035063744,0.065152220427990,-0.107228212058544,0.116955056786537,-0.068624913692474,0.119927741587162,-0.067239284515381,-0.089711368083954,0.073821701109409));
res += mul(Get(s2,-dx,-dy), float4x4(0.036328110843897,-0.088346004486084,-0.037172149866819,-0.050390891730785,0.034610629081726,0.133623883128166,0.149391293525696,-0.028304716572165,-0.082621462643147,-0.023151554167271,-0.139473959803581,-0.056016862392426,-0.086087532341480,0.137272149324417,-0.016914533451200,0.142768591642380));
res += mul(Get(s2,-dx,0), float4x4(-0.070400975644588,-0.076662503182888,0.108038499951363,0.051765065640211,0.045262277126312,-0.015959739685059,-0.017620902508497,-0.041668668389320,0.002713422756642,0.033695440739393,0.084720626473427,-0.035610187798738,-0.061590507626534,-0.078631877899170,0.279989242553711,0.134934201836586));
res += mul(Get(s2,-dx,dy), float4x4(-0.003722418332472,-0.058161083608866,-0.041929334402084,0.186034426093102,0.069125905632973,-0.018586704507470,0.017761278897524,-0.121701866388321,0.034636311233044,-0.092525951564312,0.046612169593573,0.049437180161476,0.080084197223186,0.024580013006926,-0.075313463807106,0.076297290623188));
res += mul(Get(s2,0,-dy), float4x4(0.193378031253815,-0.022129448130727,0.026171717792749,-0.093877166509628,0.012507267296314,-0.106759481132030,0.016282496973872,-0.095959849655628,-0.080846704542637,-0.013168983161449,-0.062821492552757,0.090457111597061,-0.103600122034550,0.029000783339143,-0.005383183714002,-0.012819095514715));
res += mul(Get(s2,0,0), float4x4(-0.123120993375778,0.009478459134698,0.068367272615433,-0.012702682055533,-0.034635607153177,-0.101778820157051,-0.031426522880793,-0.056991156190634,-0.096316657960415,0.253732413053513,-0.010543523356318,0.027344141155481,-0.142371773719788,0.114149235188961,0.078074820339680,-0.040188591927290));
res += mul(Get(s2,0,dy), float4x4(-0.014230584725738,-0.006006408482790,-0.121357828378677,0.059045296162367,0.076898343861103,-0.039688497781754,-0.052227251231670,-0.135549500584602,-0.006728856824338,-0.014436561614275,0.023509176447988,0.053871255367994,-0.028762945905328,0.117605395615101,-0.104779042303562,-0.122261703014374));
res += mul(Get(s2,dx,-dy), float4x4(0.114369057118893,-0.109985522925854,0.267787575721741,0.049132116138935,0.442715823650360,-0.139489546418190,-0.118845514953136,-0.084315530955791,-0.038196895271540,-0.103055335581303,0.071729958057404,0.041424032300711,-0.056178420782089,-0.122869789600372,0.024135667830706,0.150436177849770));
res += mul(Get(s2,dx,0), float4x4(-0.139634862542152,-0.120886646211147,0.278452217578888,0.034341763705015,-0.004978155251592,0.064820975065231,-0.105911716818810,0.029266979545355,-0.020588018000126,0.136361137032509,0.007382361683995,0.099450588226318,-0.057475332170725,-0.055985469371080,-0.017106074839830,0.018036248162389));
res += mul(Get(s2,dx,dy), float4x4(-0.119675792753696,-0.116597115993500,0.067473508417606,0.053033441305161,-0.018672971054912,-0.025089580565691,-0.105926468968391,0.109098903834820,0.106967575848103,-0.158642768859863,0.110244393348694,0.099394761025906,0.030763946473598,-0.132706776261330,-0.056123040616512,-0.134232223033905));
res += mul(Get(s3,-dx,-dy), float4x4(0.081947088241577,-0.060679160058498,0.147359088063240,0.049026280641556,-0.015858935192227,-0.058853302150965,-0.000007875112715,0.027827600017190,0.099926650524139,-0.029827415943146,-0.202209323644638,0.068939499557018,-0.085341952741146,0.006223978474736,-0.054325792938471,0.045171644538641));
res += mul(Get(s3,-dx,0), float4x4(0.078322105109692,0.045010104775429,-0.132081970572472,-0.033501856029034,0.026449725031853,0.022275509312749,-0.047021061182022,0.006934256758541,-0.062909111380577,-0.030205335468054,-0.034166935831308,0.248071908950806,-0.004315418656915,0.144182994961739,-0.138146877288818,-0.046527512371540));
res += mul(Get(s3,-dx,dy), float4x4(-0.117071829736233,-0.157148137688637,0.078274451196194,0.064069412648678,-0.014747076667845,-0.118557281792164,0.034146226942539,0.036050423979759,-0.197962522506714,-0.071246795356274,-0.085511989891529,0.153580084443092,0.160709962248802,0.049178183078766,-0.178343445062637,-0.104337483644485));
res += mul(Get(s3,0,-dy), float4x4(0.165588021278381,0.027640292420983,0.116725027561188,-0.108270101249218,-0.155265539884567,-0.184406802058220,0.067965731024742,0.167793661355972,-0.120772168040276,-0.086202688515186,0.041721776127815,0.246878772974014,-0.117129370570183,-0.127339035272598,-0.068551748991013,0.028597800061107));
res += mul(Get(s3,0,0), float4x4(0.023400548845530,0.112981811165810,0.083403691649437,-0.131452858448029,-0.030105687677860,-0.044039804488420,-0.017616840079427,-0.003528122091666,-0.105368919670582,-0.086011014878750,0.164212748408318,-0.126614034175873,-0.026696119457483,-0.048523094505072,-0.075759343802929,0.017635811120272));
res += mul(Get(s3,0,dy), float4x4(-0.132265359163284,0.022678241133690,0.065894693136215,-0.107969090342522,-0.044116109609604,-0.021860457956791,0.073244288563728,0.089373037219048,-0.207026705145836,-0.130129262804985,0.034993134438992,-0.039170447736979,0.004549896810204,-0.003573793452233,0.103497385978699,0.031862776726484));
res += mul(Get(s3,dx,-dy), float4x4(0.057076428085566,0.051132984459400,-0.058249637484550,-0.048797335475683,-0.068227626383305,-0.151134207844734,0.050902787595987,0.141154631972313,-0.210503429174423,-0.113642945885658,0.048353847116232,0.010607684031129,-0.135659217834473,-0.035513985902071,-0.061636153608561,0.024620313197374));
res += mul(Get(s3,dx,0), float4x4(0.065132707357407,0.103194542229176,-0.002237879205495,-0.009400316514075,-0.005997485946864,-0.100586906075478,-0.006510420236737,0.040163826197386,-0.119082987308502,-0.176066398620605,0.004429774824530,-0.197378218173981,0.028702151030302,-0.020879179239273,-0.078404188156128,-0.036730397492647));
res += mul(Get(s3,dx,dy), float4x4(0.074451707303524,-0.022361688315868,0.154912143945694,-0.080779559910297,0.006659667007625,-0.181160911917686,-0.097975373268127,-0.082976706326008,-0.186656072735786,-0.218177765607834,0.029298247769475,-0.121076636016369,-0.056687913835049,0.114782124757767,-0.003032205393538,-0.097014836966991));
return max(float4(0,0,0,0), res);
}
