sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.060460720211267,0.151303797960281,0.188075274229050,-0.080134414136410,0.021665941923857,0.070052720606327,0.177093386650085,-0.011670211330056,-0.182932704687119,0.011333353817463,0.121756948530674,-0.061463885009289,0.140201419591904,0.025944875553250,0.073448680341244,-0.119538083672523));
res += mul(Get(s0,-dx,0), float4x4(-0.223141774535179,-0.110696263611317,0.108742773532867,0.135164812207222,0.091103784739971,0.322193711996078,0.075092777609825,-0.007915385067463,-0.220896154642105,0.111907638609409,0.014350418001413,0.052871923893690,0.224483191967010,-0.079202294349670,0.013846654444933,0.059136491268873));
res += mul(Get(s0,-dx,dy), float4x4(0.025315873324871,0.128207013010979,0.321993857622147,-0.222902148962021,-0.109308116137981,-0.135556265711784,-0.072755791246891,-0.117301754653454,-0.114199213683605,-0.151416450738907,0.039692286401987,-0.032271631062031,0.060280401259661,0.173520311713219,0.122469902038574,0.053900912404060));
res += mul(Get(s0,0,-dy), float4x4(0.057395856827497,0.002155842958018,0.045771569013596,0.210163012146950,0.051098484545946,0.132808387279510,-0.037058863788843,0.025878373533487,-0.024225870147347,0.005431502126157,0.054410036653280,-0.142900303006172,-0.017222521826625,-0.063225559890270,0.145680010318756,-0.062109436839819));
res += mul(Get(s0,0,0), float4x4(0.149764001369476,-0.085413619875908,0.126751899719238,0.052333861589432,0.018977692350745,0.079807512462139,-0.113331079483032,0.097028166055679,0.123436719179153,0.052226629108191,0.036725565791130,-0.102560281753540,-0.060775246471167,-0.137336179614067,0.137189447879791,-0.027186656370759));
res += mul(Get(s0,0,dy), float4x4(0.064451806247234,-0.014591378159821,-0.026101952418685,-0.062941476702690,0.113555848598480,-0.033302467316389,-0.011838262900710,-0.044153075665236,-0.008005975745618,-0.102172277867794,0.279943346977234,0.181357339024544,0.313549101352692,0.031871046870947,-0.182329863309860,0.119432151317596));
res += mul(Get(s0,dx,-dy), float4x4(0.047834374010563,-0.079978682100773,0.147450089454651,0.046584364026785,0.009385621175170,0.240695372223854,-0.044699419289827,-0.103821486234665,-0.054371912032366,-0.046886600553989,-0.215996846556664,-0.196174427866936,-0.073787771165371,-0.044583514332771,-0.033787373453379,0.051942285150290));
res += mul(Get(s0,dx,0), float4x4(-0.146245777606964,0.118729211390018,0.017743034288287,-0.049568716436625,-0.145446643233299,-0.119728915393353,0.074805229902267,0.328472077846527,0.026795754209161,0.063900887966156,-0.084161110222340,-0.066752493381500,0.042564608156681,-0.038857642561197,0.073908880352974,-0.124670624732971));
res += mul(Get(s0,dx,dy), float4x4(0.118618242442608,-0.066714890301228,0.026357293128967,0.195437848567963,-0.006640349514782,-0.011720434762537,-0.158256128430367,0.043701387941837,0.001666895113885,0.017001794651151,0.028020165860653,-0.070852510631084,0.169021919369698,0.024767262861133,0.109335854649544,-0.211902067065239));
res += mul(Get(s1,-dx,-dy), float4x4(0.137360334396362,0.216536641120911,0.109720624983311,-0.094691634178162,-0.001812435686588,0.205839484930038,0.103787787258625,-0.098601140081882,-0.253828525543213,0.116997569799423,-0.119019187986851,-0.025959314778447,0.092181190848351,0.126064762473106,-0.119710944592953,-0.045695725828409));
res += mul(Get(s1,-dx,0), float4x4(-0.103432729840279,-0.050452526658773,-0.335071474313736,-0.079145781695843,-0.053900085389614,-0.100904151797295,0.106543377041817,-0.034210976213217,0.028328124433756,-0.194136261940002,0.190409973263741,0.186836808919907,-0.041715618222952,-0.048144843429327,0.006536135915667,0.071623586118221));
res += mul(Get(s1,-dx,dy), float4x4(-0.284398704767227,0.049920134246349,0.078163526952267,0.053161554038525,-0.034682255238295,-0.198949664831161,0.155015140771866,-0.152874886989594,0.012587321922183,0.009123678319156,-0.062189090996981,-0.003290505846962,0.014370155520737,0.064481370151043,0.003204383421689,-0.141181156039238));
res += mul(Get(s1,0,-dy), float4x4(-0.005803626496345,-0.050719235092402,0.019559802487493,-0.114164240658283,0.024420049041510,0.123178094625473,0.241307437419891,0.038016892969608,-0.024769587442279,-0.093308225274086,0.102298051118851,0.045913081616163,-0.155618846416473,-0.099388495087624,-0.041999652981758,-0.003769499482587));
res += mul(Get(s1,0,0), float4x4(0.023663910105824,-0.141397446393967,0.046331800520420,-0.146503493189812,-0.129935771226883,0.016498522832990,0.187647536396980,-0.079337328672409,-0.092019192874432,0.163784191012383,-0.124337948858738,-0.063434801995754,-0.093111477792263,0.075884200632572,-0.069891750812531,-0.107475697994232));
res += mul(Get(s1,0,dy), float4x4(0.220755591988564,0.060375645756721,0.025224620476365,0.035872429609299,-0.159465551376343,0.084209218621254,0.004631259478629,0.215793445706367,0.230223223567009,-0.029798526316881,0.043008316308260,-0.125563159584999,0.151434108614922,0.118015721440315,0.192609623074532,0.037421584129333));
res += mul(Get(s1,dx,-dy), float4x4(0.153675481677055,0.132669597864151,-0.011038804426789,-0.135242208838463,-0.022577835246921,-0.136771738529205,0.068559877574444,0.120228439569473,0.118171043694019,-0.157283008098602,0.003629212267697,-0.002298099920154,-0.021563531830907,0.178328037261963,-0.024761520326138,0.051110189408064));
res += mul(Get(s1,dx,0), float4x4(0.068958178162575,-0.055993746966124,0.080427356064320,0.055738434195518,-0.076013214886189,0.106949284672737,0.134780541062355,-0.046553365886211,0.088400922715664,-0.027629544958472,0.010915817692876,-0.047235213220119,-0.217344075441360,0.021132767200470,0.046699896454811,-0.225143134593964));
res += mul(Get(s1,dx,dy), float4x4(0.181381538510323,0.083771318197250,-0.036053672432899,-0.108340315520763,0.022862901911139,0.134087890386581,0.005682781338692,0.048700589686632,-0.143130376935005,-0.104060649871826,0.020594626665115,-0.169801548123360,0.033490091562271,0.104667931795120,-0.059628847986460,-0.202451795339584));
res += mul(Get(s2,-dx,-dy), float4x4(-0.017813481390476,0.045886553823948,0.082192055881023,-0.005579234566540,0.124169752001762,0.088434584438801,0.072475522756577,-0.270187854766846,-0.088499732315540,0.013509111478925,-0.144433274865150,-0.025607107207179,0.145242467522621,-0.061342578381300,0.027699517086148,-0.138155102729797));
res += mul(Get(s2,-dx,0), float4x4(0.002728972816840,0.126940697431564,-0.196562513709068,0.010628223419189,-0.154425382614136,-0.012970086187124,-0.008297546766698,0.085697211325169,0.026350757107139,0.116078332066536,0.019942410290241,0.102506197988987,-0.140386283397675,0.040628883987665,0.122890494763851,-0.099081173539162));
res += mul(Get(s2,-dx,dy), float4x4(-0.056300617754459,-0.098725378513336,0.069293908774853,0.093086145818233,-0.119371585547924,-0.000804486568086,0.038390878587961,0.010176604613662,0.052561946213245,-0.193371608853340,0.124824747443199,0.052019469439983,-0.165439411997795,-0.098672173917294,-0.128050416707993,0.075748987495899));
res += mul(Get(s2,0,-dy), float4x4(-0.144751280546188,-0.064455375075340,-0.095818139612675,-0.006760022137314,0.169334620237350,-0.054047238081694,-0.174230411648750,0.002134797396138,-0.000685191305820,-0.076119907200336,-0.047770254313946,0.059363465756178,-0.139110535383224,-0.034135539084673,-0.007408455014229,-0.010074296034873));
res += mul(Get(s2,0,0), float4x4(-0.020238684490323,-0.021405244246125,0.094854786992073,-0.022887498140335,-0.038431257009506,-0.104341141879559,0.054148629307747,0.077110901474953,0.117378696799278,0.153786674141884,-0.010567054152489,-0.000446146266768,-0.015922820195556,-0.046002760529518,-0.012469074688852,-0.061979167163372));
res += mul(Get(s2,0,dy), float4x4(0.040044315159321,-0.048840217292309,-0.015542251057923,-0.021616090089083,0.153256788849831,0.071767151355743,0.110620357096195,-0.018480084836483,0.106247723102570,-0.029632637277246,-0.051703501492739,0.031049527227879,-0.153141438961029,0.050690878182650,0.105820216238499,0.035595439374447));
res += mul(Get(s2,dx,-dy), float4x4(-0.117064312100410,-0.098167762160301,-0.211376219987869,0.121006570756435,-0.137566253542900,0.081871770322323,0.022826338186860,0.103253424167633,0.094868525862694,-0.001528352615424,0.234759390354156,0.047109276056290,-0.151856943964958,0.023714585229754,0.053991153836250,0.070770658552647));
res += mul(Get(s2,dx,0), float4x4(-0.107046216726303,0.106540568172932,-0.119466774165630,0.289222598075867,0.020351104438305,-0.012858870439231,-0.167728617787361,-0.035210095345974,0.064061008393764,-0.193775758147240,0.044190920889378,-0.041848525404930,-0.069756098091602,0.068821042776108,0.005915727000684,-0.050097439438105));
res += mul(Get(s2,dx,dy), float4x4(0.073762193322182,-0.025644194334745,0.120252974331379,-0.044473662972450,-0.052200660109520,-0.027340877801180,-0.078994430601597,0.051035236567259,0.188523933291435,-0.044874835759401,-0.016046876087785,0.057760614901781,-0.067231908440590,-0.011447310447693,-0.130487143993378,-0.087974652647972));
res += mul(Get(s3,-dx,-dy), float4x4(0.035975180566311,-0.151070654392242,0.080304786562920,0.250161230564117,-0.095836706459522,0.047855027019978,-0.177240908145905,0.144928500056267,-0.000581254134886,0.040626455098391,-0.108318999409676,-0.185621514916420,-0.017676739022136,-0.092207789421082,-0.088474586606026,0.032252416014671));
res += mul(Get(s3,-dx,0), float4x4(0.130153223872185,0.015339619480073,0.113383747637272,0.092616640031338,-0.010571485385299,-0.038623481988907,0.185272693634033,0.230597585439682,-0.110630631446838,-0.072756975889206,-0.191769793629646,0.137174949049950,0.126162797212601,0.127760007977486,-0.003394770435989,-0.034472178667784));
res += mul(Get(s3,-dx,dy), float4x4(-0.150520309805870,0.033053576946259,0.125800088047981,0.062673382461071,-0.042419508099556,0.020187869668007,-0.044017121195793,-0.010840282775462,-0.008533713407815,0.253907740116119,0.197604998946190,0.039901725947857,-0.071936748921871,0.066372506320477,-0.024834685027599,0.056217815726995));
res += mul(Get(s3,0,-dy), float4x4(0.023673424497247,0.023306131362915,0.032460074871778,-0.246313825249672,-0.153700917959213,0.144538819789886,-0.037290628999472,-0.170723170042038,-0.035204708576202,0.040295951068401,0.048682555556297,0.073278896510601,0.175089374184608,0.080136135220528,-0.042288359254599,-0.009969937615097));
res += mul(Get(s3,0,0), float4x4(0.068967029452324,0.151383221149445,0.184901267290115,-0.105656534433365,0.096115194261074,-0.139790132641792,0.078726202249527,-0.064709059894085,-0.066901288926601,-0.026029588654637,0.007568329107016,-0.134250357747078,0.083083532750607,-0.161877140402794,-0.053145393729210,0.012849542312324));
res += mul(Get(s3,0,dy), float4x4(0.016505843028426,-0.067903473973274,0.038339179009199,-0.068657152354717,-0.015437614172697,-0.017463857308030,-0.119631491601467,0.010319352149963,0.191957563161850,0.048124715685844,0.014632396399975,-0.066617548465729,-0.010015016421676,0.083259508013725,0.162495926022530,-0.172667637467384));
res += mul(Get(s3,dx,-dy), float4x4(0.077045202255249,-0.005239444784820,-0.043282132595778,-0.156472414731979,0.110894352197647,0.084470078349113,-0.057787820696831,-0.208689317107201,0.035666070878506,-0.064033314585686,-0.013086248189211,-0.021293481811881,-0.008814273402095,0.107639998197556,-0.050044722855091,0.008059518411756));
res += mul(Get(s3,dx,0), float4x4(0.097073644399643,0.034889392554760,-0.030198652297258,-0.026707600802183,-0.210327148437500,-0.014001713134348,-0.048641350120306,-0.043862104415894,-0.177478879690170,0.063664853572845,0.080775260925293,-0.059881702065468,0.157895013689995,0.042201612144709,0.059041999280453,-0.096418142318726));
res += mul(Get(s3,dx,dy), float4x4(0.107358954846859,0.149649798870087,-0.022204468026757,0.067222692072392,-0.016365054994822,0.099126867949963,-0.167441278696060,0.062556184828281,-0.160482406616211,-0.249448314309120,0.228686019778252,-0.057990703731775,0.072653993964195,0.096451096236706,-0.002062112558633,-0.060000311583281));
return max(float4(0,0,0,0), res);
}
