sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003201864426956,0.091741085052490,0.231507211923599,0.209255203604698,-0.019823692739010,-0.066393323242664,-0.091037772595882,-0.102262847125530,0.102965086698532,-0.076515413820744,0.184211924672127,-0.153707027435303,0.173398420214653,0.090263105928898,0.066678740084171,-0.180012598633766));
res += mul(Get(s0,-dx,0), float4x4(-0.077183358371258,-0.043096769601107,0.046400774270296,-0.033831790089607,-0.087745219469070,-0.065798290073872,0.081441350281239,-0.063121840357780,0.097534276545048,0.136834695935249,0.089177839457989,0.064195290207863,0.007388998288661,0.091914094984531,0.063449732959270,0.230467706918716));
res += mul(Get(s0,-dx,dy), float4x4(-0.099453084170818,-0.065665170550346,0.103630512952805,0.007473232690245,-0.074548542499542,0.000708136067260,0.038889143615961,-0.087552346289158,0.119683884084225,0.225788295269012,0.130979120731354,0.143481537699699,-0.030901214107871,-0.042151171714067,0.016458416357636,-0.129938170313835));
res += mul(Get(s0,0,-dy), float4x4(-0.104184158146381,0.015565347857773,-0.043782036751509,0.008727427572012,-0.035898979753256,-0.064735233783722,-0.018116494640708,-0.036598518490791,-0.074433267116547,-0.069179356098175,0.058427911251783,-0.091220386326313,0.168937742710114,-0.191506043076515,0.181281298398972,0.070530019700527));
res += mul(Get(s0,0,0), float4x4(0.010255744680762,-0.067461177706718,0.090589940547943,-0.073978185653687,-0.024737792089581,-0.016737433150411,0.046155534684658,-0.013311222195625,-0.015068104490638,-0.072077989578247,0.050995767116547,0.063941113650799,0.022173153236508,0.220664545893669,0.052902247756720,0.077942371368408));
res += mul(Get(s0,0,dy), float4x4(-0.056204378604889,-0.026274036616087,0.055205889046192,-0.035354863852262,-0.055274520069361,0.003005289239809,-0.080496214330196,-0.045461442321539,0.119347691535950,0.070596508681774,0.087106809020042,0.078668259084225,0.043179880827665,0.020299021154642,-0.073627993464470,-0.120949730277061));
res += mul(Get(s0,dx,-dy), float4x4(-0.088858716189861,0.011652989313006,0.029950812458992,0.055601816624403,-0.051504779607058,-0.133516982197762,-0.090466685593128,-0.066873952746391,-0.017262941226363,-0.085499681532383,-0.073814786970615,0.040563274174929,0.043613947927952,-0.008309924975038,0.069915316998959,-0.052767630666494));
res += mul(Get(s0,dx,0), float4x4(0.003289737971500,-0.018754370510578,0.174830123782158,0.039054270833731,-0.066293478012085,-0.110493659973145,0.018492061644793,-0.018534712493420,-0.093476697802544,-0.016094464808702,-0.039855942130089,0.042098283767700,0.127132505178452,-0.009051112458110,0.014383864589036,-0.113416120409966));
res += mul(Get(s0,dx,dy), float4x4(-0.102838866412640,-0.055892635136843,0.131488978862762,-0.025559244677424,-0.090820252895355,-0.139722853899002,-0.040767081081867,-0.110670723021030,0.030799763277173,0.025632180273533,0.037442024797201,0.094793729484081,-0.060329649597406,-0.020698655396700,-0.012802285142243,-0.114826552569866));
res += mul(Get(s1,-dx,-dy), float4x4(0.010377814993262,-0.082582876086235,-0.072785593569279,-0.007770744618028,-0.069728091359138,0.017027646303177,0.150291442871094,-0.045993521809578,0.044697687029839,0.021588716655970,-0.026260230690241,-0.035650666803122,-0.007471492979676,-0.090839900076389,0.019983077421784,-0.123175621032715));
res += mul(Get(s1,-dx,0), float4x4(0.004842399153858,-0.037762876600027,-0.082055784761906,0.008118832483888,-0.049837499856949,-0.071158885955811,0.093552172183990,-0.095640525221825,-0.079775184392929,0.080531217157841,0.027894226834178,-0.097747370600700,0.045030798763037,-0.044366408139467,-0.035936150699854,-0.004549717530608));
res += mul(Get(s1,-dx,dy), float4x4(0.159241512417793,0.006920320447534,0.044867280870676,0.192467853426933,0.071287244558334,0.039455965161324,0.078120209276676,0.002588673029095,0.201976001262665,0.147360026836395,-0.015218853950500,0.013589698821306,0.084088154137135,0.019295992329717,-0.049008201807737,-0.005122895352542));
res += mul(Get(s1,0,-dy), float4x4(0.076594226062298,-0.058882057666779,-0.034209247678518,-0.020062815397978,0.144096344709396,0.027911435812712,0.146795079112053,-0.025937229394913,-0.039010666310787,-0.006842155940831,-0.070288829505444,0.037648942321539,0.060461103916168,0.064131073653698,0.065938420593739,-0.066121615469456));
res += mul(Get(s1,0,0), float4x4(-0.079554468393326,-0.044600330293179,-0.102253258228302,-0.097551517188549,0.047157995402813,0.071792751550674,0.135321661829948,-0.027513593435287,-0.070626117289066,-0.035862512886524,-0.018176844343543,0.004418999422342,0.002240032423288,-0.086212947964668,0.018126405775547,-0.099213965237141));
res += mul(Get(s1,0,dy), float4x4(-0.134615868330002,0.003314719535410,-0.136188060045242,0.092620223760605,0.110332310199738,0.045165196061134,0.099868677556515,0.010768542997539,0.143021747469902,-0.096376255154610,-0.045814707875252,-0.040961287915707,-0.024285165593028,-0.056016191840172,0.047859057784081,-0.031611900776625));
res += mul(Get(s1,dx,-dy), float4x4(0.021918388083577,-0.028960982337594,-0.050411108881235,0.087818771600723,0.098290264606476,-0.014200258068740,0.041164860129356,0.028471082448959,-0.105096578598022,-0.070655249059200,-0.089526981115341,-0.040716119110584,0.071589522063732,-0.024337053298950,-0.016185259446502,0.060270451009274));
res += mul(Get(s1,dx,0), float4x4(-0.045971605926752,-0.032079957425594,-0.068386442959309,0.125401422381401,-0.052527487277985,0.166056945919991,0.024382913485169,0.073434822261333,-0.049683362245560,-0.024086318910122,-0.058691952377558,0.041685190051794,-0.123364880681038,0.027353070676327,-0.085660561919212,-0.030264496803284));
res += mul(Get(s1,dx,dy), float4x4(0.348805010318756,0.102240897715092,-0.234181821346283,0.143950924277306,-0.034999161958694,-0.011707188561559,-0.031531266868114,-0.027768628671765,0.031956125050783,-0.038212794810534,-0.022804616019130,0.013464046642184,0.028121674433351,-0.130959585309029,0.024014169350266,0.131666108965874));
res += mul(Get(s2,-dx,-dy), float4x4(-0.040042817592621,-0.001850695465691,-0.012192587368190,-0.040298752486706,-0.076055362820625,-0.053304642438889,-0.027753710746765,-0.021337999030948,0.033308472484350,0.033084671944380,0.140814587473869,0.037884935736656,-0.027709839865565,-0.042044997215271,-0.096153587102890,-0.032326363027096));
res += mul(Get(s2,-dx,0), float4x4(-0.044083822518587,0.029140751808882,-0.128284588456154,-0.076705366373062,-0.044021617621183,-0.030017197132111,-0.059881873428822,-0.088320113718510,-0.034701205790043,0.155106335878372,0.110001891851425,0.078094206750393,0.048120733350515,0.027409739792347,-0.040016960352659,0.005598702467978));
res += mul(Get(s2,-dx,dy), float4x4(0.008883876726031,-0.031080162152648,-0.093805208802223,0.044865924865007,0.053537670522928,0.086475528776646,-0.014112723991275,-0.056863680481911,-0.074021182954311,-0.075001977384090,0.012151400558650,0.000615386408754,0.003759952262044,0.099203392863274,0.030490435659885,-0.041778717190027));
res += mul(Get(s2,0,-dy), float4x4(-0.003953123930842,-0.044375445693731,-0.170107603073120,-0.043284706771374,0.060450863093138,-0.045326165854931,0.006463672500104,-0.061365488916636,0.066903017461300,-0.139396399259567,0.006144118495286,0.105872556567192,-0.062870956957340,-0.084254063665867,-0.066587552428246,-0.073270805180073));
res += mul(Get(s2,0,0), float4x4(0.127947136759758,-0.030214138329029,-0.085199221968651,-0.035455014556646,-0.014690550975502,0.018430197611451,-0.084339790046215,-0.078773789107800,0.009368702769279,-0.070500329136848,0.063258163630962,0.117037057876587,0.041420355439186,-0.055545505136251,-0.034474384039640,-0.028993429616094));
res += mul(Get(s2,0,dy), float4x4(-0.152128234505653,-0.057042278349400,-0.079226084053516,0.040654554963112,0.105685338377953,0.058412048965693,-0.024550842121243,-0.004428603220731,-0.017406618222594,-0.106649696826935,-0.001632609753869,-0.052945911884308,0.034429486840963,-0.105287991464138,-0.038662560284138,-0.047841269522905));
res += mul(Get(s2,dx,-dy), float4x4(0.093857973814011,-0.015261982567608,-0.103743180632591,-0.165924966335297,0.081230439245701,-0.033583279699087,-0.027634574100375,-0.070753432810307,-0.037232860922813,-0.066893167793751,-0.042212061583996,-0.008231418207288,-0.043129198253155,-0.094553023576736,0.035685073584318,-0.042140319943428));
res += mul(Get(s2,dx,0), float4x4(0.038914658129215,-0.056213270872831,-0.134403958916664,-0.045028842985630,0.013725847937167,0.005110337864608,-0.016659339889884,-0.025082781910896,-0.030194066464901,0.033253461122513,0.067152425646782,-0.052032735198736,0.032325599342585,-0.029655549675226,0.020528336986899,-0.005360354669392));
res += mul(Get(s2,dx,dy), float4x4(0.143651217222214,0.218826085329056,-0.050778932869434,0.088260032236576,0.141362160444260,-0.025570761412382,-0.066757321357727,0.022031335160136,-0.087620526552200,-0.103491500020027,0.022773025557399,0.021772695705295,0.081198163330555,-0.022837322205305,-0.025815179571509,0.036994937807322));
res += mul(Get(s3,-dx,-dy), float4x4(-0.023063387721777,0.113116070628166,0.094882093369961,-0.059421621263027,0.053035352379084,0.090444266796112,0.063054256141186,-0.042558897286654,-0.035894114524126,-0.053085811436176,0.001530039007775,0.104944512248039,0.040490519255400,0.081773459911346,-0.004009246826172,-0.037843335419893));
res += mul(Get(s3,-dx,0), float4x4(0.019368791952729,0.164853632450104,0.114349678158760,0.081130713224411,-0.102690383791924,-0.039720028638840,0.003832624992356,0.135895803570747,-0.132955193519592,0.078914456069469,0.029564067721367,0.139976352453232,0.161912262439728,0.086456336081028,-0.089179657399654,0.017946084961295));
res += mul(Get(s3,-dx,dy), float4x4(-0.019761677831411,-0.070890165865421,0.119559511542320,0.096960812807083,-0.021854655817151,-0.018322179093957,-0.080461978912354,0.002141162985936,0.123060286045074,0.066584743559361,-0.036998271942139,0.052649326622486,0.107940718531609,-0.072890982031822,0.042076703161001,0.188198342919350));
res += mul(Get(s3,0,-dy), float4x4(-0.100134946405888,0.012834282591939,-0.040195096284151,-0.009131162427366,-0.085538618266582,0.114983163774014,0.073628246784210,0.017639199271798,0.051116380840540,-0.145344272255898,0.043679945170879,-0.058451112359762,0.061128944158554,0.040939968079329,0.121321387588978,-0.047602385282516));
res += mul(Get(s3,0,0), float4x4(-0.056140791624784,0.175677880644798,-0.048021674156189,-0.155697673559189,-0.003207585075870,-0.197305813431740,-0.094413541257381,0.114109471440315,0.052529696375132,-0.113293580710888,0.062263756990433,-0.020938845351338,-0.066353477537632,-0.079214364290237,0.082893408834934,-0.064887329936028));
res += mul(Get(s3,0,dy), float4x4(0.044439002871513,0.005170958582312,0.070300906896591,0.109138377010822,0.078672684729099,-0.083556570112705,-0.131400182843208,0.123341232538223,0.121395811438560,-0.031619407236576,-0.025376738980412,0.180922850966454,-0.088902674615383,-0.128373011946678,0.011221559718251,-0.069647304713726));
res += mul(Get(s3,dx,-dy), float4x4(-0.125218421220779,-0.096795439720154,-0.030264670029283,0.108565375208855,0.105393446981907,0.048598166555166,0.096650086343288,0.019196536391973,-0.129297927021980,-0.080154947936535,-0.036303088068962,-0.147223085165024,-0.008074964396656,0.067877002060413,0.063356444239616,-0.028395319357514));
res += mul(Get(s3,dx,0), float4x4(-0.026525922119617,0.131575167179108,-0.067686565220356,-0.100466728210449,0.064331784844398,0.094298668205738,0.009879583492875,0.065527595579624,-0.057593751698732,-0.019852858036757,0.076622232794762,-0.002574909478426,0.037618376314640,-0.003939856309444,0.037703394889832,0.031487140804529));
res += mul(Get(s3,dx,dy), float4x4(-0.009370812214911,0.053553115576506,0.012378090061247,0.172313034534454,0.045877166092396,0.098718672990799,-0.096389375627041,0.087684772908688,0.012506614439189,-0.012687006965280,-0.031088095158339,-0.044302776455879,-0.112844586372375,-0.079211048781872,0.011593682691455,-0.011275234632194));
return max(float4(0,0,0,0), res);
}
