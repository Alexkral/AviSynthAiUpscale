sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.121173471212387,0.236252501606941,0.041690472513437,-0.125667989253998,0.058123566210270,0.027622133493423,-0.007577159442008,0.114655219018459,-0.029613684862852,-0.002244994277135,-0.010775874368846,0.052613362669945,-0.019162755459547,-0.090016156435013,-0.038659859448671,-0.077637352049351));
res += mul(Get(s0,-dx,0), float4x4(0.043048817664385,0.093690618872643,-0.092422932386398,0.032704368233681,0.030037170276046,-0.025350946933031,-0.130022600293159,0.079666249454021,0.022823382169008,0.179546475410461,-0.190704688429832,0.032120250165462,0.014769849367440,0.183746501803398,-0.035421475768089,-0.146233573555946));
res += mul(Get(s0,-dx,dy), float4x4(0.101875938475132,-0.017703132703900,-0.021576860919595,0.086127676069736,-0.133455798029900,-0.005733951926231,0.063541211187840,0.138151735067368,-0.086317121982574,0.023844728246331,0.028841821476817,-0.081997260451317,0.090419434010983,0.133290871977806,-0.000746777397580,-0.029673170298338));
res += mul(Get(s0,0,-dy), float4x4(-0.077392116189003,0.004868898075074,-0.014662845991552,0.160280793905258,0.163145318627357,0.079118043184280,-0.030832581222057,0.029746795073152,0.207469195127487,-0.068776644766331,0.126216381788254,-0.146505162119865,-0.124958276748657,-0.158014267683029,-0.061816725879908,0.044293921440840));
res += mul(Get(s0,0,0), float4x4(0.022948116064072,-0.152104556560516,-0.098548471927643,-0.024325029924512,-0.160311937332153,-0.098093740642071,-0.079054631292820,0.044504631310701,-0.013922783546150,0.237251162528992,0.014770790934563,-0.171058669686317,0.201746061444283,-0.039472516626120,-0.056454427540302,0.131167963147163));
res += mul(Get(s0,0,dy), float4x4(-0.173368200659752,0.160979732871056,-0.152422159910202,0.014969027601182,0.298334687948227,0.111744783818722,0.070222258567810,0.014333846047521,0.069708839058876,0.094527222216129,-0.043307986110449,0.068666383624077,-0.130540460348129,0.127460554242134,-0.140371367335320,0.078637696802616));
res += mul(Get(s0,dx,-dy), float4x4(0.067261457443237,0.178467631340027,-0.006633165758103,-0.108794279396534,0.142075970768929,-0.072708010673523,0.117507986724377,-0.106125593185425,0.123766340315342,0.052729833871126,-0.091956742107868,0.237661376595497,-0.211582288146019,0.069012060761452,0.035252243280411,0.018689077347517));
res += mul(Get(s0,dx,0), float4x4(-0.189393714070320,-0.093661420047283,-0.084606140851974,0.017959378659725,0.101122424006462,0.062323037534952,-0.043527275323868,0.251490741968155,0.064109772443771,0.155760109424591,-0.220297709107399,-0.134302854537964,-0.043427575379610,0.078184634447098,-0.167128130793571,0.088605567812920));
res += mul(Get(s0,dx,dy), float4x4(0.016984781250358,0.089613482356071,0.119160093367100,0.161138445138931,0.086428835988045,-0.078476458787918,0.289125591516495,-0.012877365574241,-0.028225392103195,0.034043174237013,-0.084697648882866,-0.106194123625755,-0.106915928423405,0.139049559831619,-0.016057111322880,-0.005270658992231));
res += mul(Get(s1,-dx,-dy), float4x4(0.240613773465157,-0.118295468389988,0.042814452201128,-0.000474160508020,-0.037989143282175,0.070926852524281,0.083462543785572,0.133364662528038,-0.168528139591217,-0.025316122919321,-0.012047394178808,-0.010314399376512,0.133565172553062,0.031971808522940,-0.044968191534281,-0.103477343916893));
res += mul(Get(s1,-dx,0), float4x4(-0.057616908103228,-0.128099203109741,-0.256342649459839,0.119314029812813,-0.267748743295670,-0.119809187948704,0.008447611704469,0.008524274453521,0.088625445961952,0.118239156901836,0.101262591779232,0.047360241413116,-0.122130818665028,-0.008130194619298,-0.023065324872732,0.011933102272451));
res += mul(Get(s1,-dx,dy), float4x4(0.067458391189575,0.193132117390633,-0.132953882217407,-0.061799585819244,0.194566190242767,-0.019062010571361,-0.113364897668362,-0.047651302069426,-0.056735586374998,-0.037565890699625,-0.015072843059897,-0.178395614027977,0.101886920630932,0.017946373671293,0.042910829186440,-0.090835332870483));
res += mul(Get(s1,0,-dy), float4x4(0.209357261657715,-0.119812898337841,0.011397917754948,-0.017864838242531,-0.011425737291574,-0.083187863230705,0.082675881683826,0.149644881486893,-0.056052200496197,0.056603994220495,0.179250791668892,0.012216379866004,-0.121685326099396,0.157172560691833,0.187190219759941,-0.019653839990497));
res += mul(Get(s1,0,0), float4x4(0.027332443743944,-0.032319214195013,0.056186281144619,0.062395904213190,-0.106071867048740,-0.066011875867844,-0.040631327778101,0.047155782580376,0.091964401304722,0.162777647376060,0.066248275339603,0.100330188870430,0.026368053629994,0.095300950109959,0.105145163834095,-0.087658792734146));
res += mul(Get(s1,0,dy), float4x4(0.123904757201672,0.036156762391329,0.037305664271116,0.087580606341362,-0.096746891736984,0.025442525744438,-0.066286437213421,-0.035180758684874,0.064001031219959,-0.104778565466404,0.106550961732864,-0.069828934967518,-0.057109761983156,-0.022337241098285,0.064025215804577,-0.125909760594368));
res += mul(Get(s1,dx,-dy), float4x4(-0.181298136711121,-0.106242984533310,0.093529082834721,0.087393335998058,-0.025510001927614,-0.140462994575500,0.186940997838974,0.125940084457397,-0.178602829575539,0.083498381078243,-0.046052157878876,-0.123003967106342,0.002481452655047,0.057259347289801,0.132634550333023,-0.083022035658360));
res += mul(Get(s1,dx,0), float4x4(-0.171393305063248,-0.131605446338654,0.153663098812103,0.035127095878124,-0.065989524126053,0.080721683800220,-0.050071224570274,0.186591312289238,-0.101312488317490,0.179679617285728,0.177405312657356,-0.048058662563562,-0.080735959112644,0.137863636016846,-0.065734364092350,-0.074404306709766));
res += mul(Get(s1,dx,dy), float4x4(-0.106037490069866,-0.023218497633934,-0.004477834329009,0.032618325203657,0.131180480122566,-0.138934612274170,-0.005139916203916,0.153357937932014,0.183116391301155,-0.047587104141712,-0.080181486904621,0.122935287654400,0.087438002228737,0.113378465175629,-0.165187984704971,0.071439683437347));
res += mul(Get(s2,-dx,-dy), float4x4(0.065914139151573,-0.103987559676170,0.059552926570177,0.000818507454824,0.098861664533615,-0.076832167804241,0.066042229533195,0.013434604741633,-0.130509853363037,-0.078689374029636,0.212508589029312,0.114373557269573,0.040994927287102,0.015241385437548,0.192766025662422,-0.184256047010422));
res += mul(Get(s2,-dx,0), float4x4(-0.003774562850595,0.199708029627800,0.171654924750328,0.016572512686253,-0.258594244718552,0.107402898371220,-0.266742020845413,0.026456331834197,0.203310340642929,0.108243942260742,0.059716630727053,-0.040473349392414,-0.016329130157828,0.106513842940331,-0.238871455192566,0.129381015896797));
res += mul(Get(s2,-dx,dy), float4x4(-0.110555186867714,-0.128536418080330,0.045569062232971,0.013706538826227,0.030336676165462,-0.181734755635262,-0.195555552840233,0.121981814503670,-0.118131704628468,-0.062543243169785,-0.094542659819126,0.011776638217270,-0.108380623161793,0.138888195157051,-0.097094468772411,0.024549668654799));
res += mul(Get(s2,0,-dy), float4x4(-0.106107972562313,-0.012645833194256,-0.085089780390263,0.015173568390310,-0.064007572829723,0.058446023613214,0.100366808474064,0.268309354782104,0.013256546109915,0.167007654905319,-0.124645277857780,0.010357161983848,-0.018810562789440,-0.127487957477570,0.076544702053070,-0.007396800909191));
res += mul(Get(s2,0,0), float4x4(-0.178824350237846,0.152683869004250,-0.014377065002918,0.115539386868477,-0.114433214068413,-0.059354353696108,-0.057592544704676,-0.107721820473671,-0.116977632045746,-0.043196488171816,0.009710364043713,0.219796597957611,-0.188327655196190,-0.060735277831554,-0.070106118917465,-0.099737145006657));
res += mul(Get(s2,0,dy), float4x4(0.065989017486572,0.090685598552227,0.229249566793442,0.054833907634020,0.020397193729877,-0.051484178751707,-0.038810376077890,0.188605710864067,-0.082817353308201,-0.026055483147502,0.069080188870430,0.068018503487110,-0.048507351428270,0.082489684224129,-0.087246343493462,-0.052114736288786));
res += mul(Get(s2,dx,-dy), float4x4(-0.090589217841625,-0.054692950099707,-0.038266461342573,-0.096988521516323,0.032183043658733,0.079650074243546,0.077668592333794,0.096389859914780,-0.079061709344387,0.012061570771039,0.061731256544590,0.008656442165375,-0.017484683543444,-0.031923718750477,-0.005261808633804,0.004817376844585));
res += mul(Get(s2,dx,0), float4x4(-0.003871427616104,0.126768335700035,0.064813971519470,-0.044928122311831,0.027985790744424,-0.234082549810410,-0.008234903216362,-0.177013605833054,0.104107052087784,0.028606658801436,-0.062131494283676,0.184082478284836,-0.151220425963402,0.128416463732719,-0.053390529006720,0.071626052260399));
res += mul(Get(s2,dx,dy), float4x4(0.033405981957912,-0.134801030158997,-0.036577742546797,-0.228768616914749,0.049155801534653,0.024170661345124,0.128105521202087,-0.014441228471696,-0.024515017867088,-0.125254601240158,0.151776701211929,0.196215867996216,-0.045813057571650,-0.045847203582525,-0.144104808568954,-0.011816174723208));
res += mul(Get(s3,-dx,-dy), float4x4(0.135720849037170,-0.021300556138158,0.096899747848511,-0.056807942688465,-0.051870513707399,0.036542654037476,-0.068116590380669,-0.036737754940987,-0.260649234056473,-0.140458211302757,-0.157013744115829,0.048996467143297,-0.063597746193409,-0.177261427044868,0.033573802560568,-0.135950267314911));
res += mul(Get(s3,-dx,0), float4x4(0.133573204278946,0.066511079668999,-0.007717111147940,-0.080381400883198,-0.000967913249042,0.179414585232735,0.042681232094765,-0.070753462612629,0.000581808737479,-0.021975260227919,0.051104068756104,-0.115736410021782,0.012989697977901,-0.008044661954045,0.026229102164507,0.046863786876202));
res += mul(Get(s3,-dx,dy), float4x4(-0.040901776403189,0.087548166513443,-0.163570329546928,-0.207302913069725,0.044376756995916,-0.039679490029812,-0.050579633563757,0.107737563550472,0.081750161945820,-0.102008260786533,0.093325749039650,0.128997802734375,-0.184752583503723,-0.221502169966698,0.037497282028198,0.205689132213593));
res += mul(Get(s3,0,-dy), float4x4(0.083052694797516,-0.018781853839755,-0.128780856728554,0.095143198966980,0.215736985206604,-0.033058051019907,-0.028809498995543,0.028045453131199,0.071146756410599,-0.157030835747719,-0.203836485743523,-0.028674112632871,0.043519672006369,0.137273311614990,-0.121996060013771,-0.096560522913933));
res += mul(Get(s3,0,0), float4x4(0.219840005040169,0.115765027701855,0.176726028323174,-0.015710145235062,0.103265047073364,0.015257001854479,-0.153128907084465,0.146681591868401,-0.260139435529709,0.110420152544975,0.038524575531483,0.073652468621731,-0.157222047448158,0.070176564157009,-0.068891994655132,-0.120482094585896));
res += mul(Get(s3,0,dy), float4x4(-0.076527759432793,0.096256114542484,0.014740358106792,-0.052153393626213,0.024266537278891,0.012101987376809,-0.273415207862854,0.000370680645574,0.118281349539757,0.008957959711552,0.175720185041428,-0.019830010831356,-0.078166030347347,-0.025343278422952,-0.089781910181046,0.047006141394377));
res += mul(Get(s3,dx,-dy), float4x4(-0.046368923038244,0.138453498482704,0.046249270439148,0.057964030653238,-0.203112080693245,0.176895514130592,0.053101833909750,0.197622507810593,-0.039861034601927,0.007232354022563,-0.014990412630141,-0.003478746628389,-0.063750587403774,-0.040471553802490,0.082633428275585,0.100517384707928));
res += mul(Get(s3,dx,0), float4x4(0.099013969302177,0.080368958413601,0.170597672462463,-0.181156322360039,-0.012200969271362,0.064595900475979,0.130497440695763,0.055076688528061,-0.061397977173328,-0.037246283143759,-0.107390917837620,-0.031248109415174,0.089943431317806,0.091149836778641,-0.101713068783283,0.206267043948174));
res += mul(Get(s3,dx,dy), float4x4(0.030499869957566,0.016340605914593,-0.090275593101978,-0.013048665598035,0.033304031938314,-0.155739292502403,0.091878302395344,-0.145481273531914,0.013467268086970,0.054595764726400,0.155933812260628,-0.170448243618011,-0.035164393484592,-0.003619811963290,-0.019105155020952,0.225936427712440));
return max(float4(0,0,0,0), res);
}
