sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.007295440416783,0.002092457842082,0.121519677340984,-0.037884801626205,-0.009779985994101,0.133373647928238,-0.031856492161751,-0.222745999693871,-0.033689033240080,0.049358744174242,-0.070833429694176,-0.068435899913311,-0.108635663986206,0.047081235796213,0.010766862891614,-0.021622586995363));
res += mul(Get(s0,-dx,0), float4x4(0.223858788609505,0.072591610252857,0.091662652790546,-0.030613826587796,-0.046388987451792,0.296481370925903,-0.081692531704903,-0.124366156756878,0.226226046681404,0.063722647726536,-0.013522345572710,-0.104120723903179,0.023114318028092,-0.085358224809170,-0.089896477758884,-0.089533947408199));
res += mul(Get(s0,-dx,dy), float4x4(-0.037790756672621,-0.025470292195678,-0.155052602291107,0.033119458705187,0.083746045827866,-0.176658853888512,-0.122876845300198,-0.094201818108559,0.220597252249718,-0.076801978051662,0.047394413501024,-0.030594931915402,-0.107166104018688,-0.045551910996437,-0.147054821252823,0.005771949887276));
res += mul(Get(s0,0,-dy), float4x4(-0.110509604215622,-0.056671641767025,-0.079313315451145,0.005958728492260,-0.069731645286083,-0.135137602686882,-0.047127224504948,-0.076066225767136,-0.045287285000086,-0.000952181813773,0.022359788417816,-0.135475710034370,-0.018451955169439,0.027114838361740,-0.063982978463173,-0.115369133651257));
res += mul(Get(s0,0,0), float4x4(0.080031834542751,-0.097636237740517,0.203383371233940,-0.134954348206520,-0.100552313029766,0.096077114343643,-0.111213259398937,-0.102071024477482,0.074011236429214,0.038956824690104,0.003537710988894,-0.099796555936337,0.080212980508804,0.049793038517237,-0.109718136489391,-0.196122884750366));
res += mul(Get(s0,0,dy), float4x4(0.121001526713371,-0.048496849834919,0.017643593251705,-0.015756361186504,-0.035994496196508,-0.137946769595146,-0.170488461852074,-0.094763562083244,0.072351910173893,-0.052676588296890,0.049892753362656,0.030747856944799,-0.021683625876904,0.031831093132496,-0.121287770569324,-0.055642243474722));
res += mul(Get(s0,dx,-dy), float4x4(-0.162589773535728,0.211717724800110,-0.190750733017921,0.141990229487419,-0.164780303835869,-0.142741680145264,0.059620350599289,0.111742906272411,-0.026593470945954,0.138920590281487,-0.008267655968666,0.464398115873337,-0.082204543054104,-0.107638560235500,-0.160659298300743,0.057367131114006));
res += mul(Get(s0,dx,0), float4x4(-0.119018271565437,-0.053066715598106,-0.076600939035416,-0.119690775871277,-0.073249347507954,-0.057915706187487,0.022656034678221,-0.066674448549747,0.059856027364731,0.032573007047176,-0.078889682888985,0.015816651284695,0.060704376548529,0.004646980203688,-0.002978501142934,0.216929927468300));
res += mul(Get(s0,dx,dy), float4x4(0.085629060864449,0.038660198450089,0.165633693337440,0.021753242239356,0.003263980848715,-0.150402009487152,-0.146294787526131,-0.250944167375565,0.031440991908312,-0.061336286365986,-0.041691068559885,0.085955925285816,0.011124244891107,0.003009687643498,-0.055814314633608,-0.084962390363216));
res += mul(Get(s1,-dx,-dy), float4x4(0.017595913261175,-0.017058469355106,-0.028220875188708,-0.014563431963325,-0.111914977431297,-0.042481381446123,-0.167604088783264,-0.022067707031965,-0.142552718520164,-0.022174015641212,0.131733730435371,0.038591887801886,-0.009457851760089,-0.062330588698387,0.105913341045380,-0.143846884369850));
res += mul(Get(s1,-dx,0), float4x4(-0.097331061959267,-0.004229161888361,-0.058072596788406,0.038975715637207,-0.053387381136417,-0.086998641490936,-0.016046425327659,0.098651245236397,-0.133007749915123,0.059763986617327,-0.006221083924174,0.019588815048337,-0.124499276280403,-0.047338988631964,0.075492553412914,0.027757301926613));
res += mul(Get(s1,-dx,dy), float4x4(-0.016026545315981,0.021252639591694,0.003800352569669,0.104166246950626,0.046566322445869,-0.005198059137911,0.314336389303207,0.120792835950851,0.011794408783317,-0.145287066698074,0.217991575598717,0.048901036381721,-0.098190337419510,-0.106980636715889,-0.017036706209183,-0.119655936956406));
res += mul(Get(s1,0,-dy), float4x4(0.039330489933491,0.070899233222008,-0.051829736679792,-0.054949540644884,-0.054295368492603,-0.017270805314183,0.025299480184913,0.156154870986938,-0.183992236852646,-0.109427757561207,0.032054115086794,0.016044840216637,-0.019040843471885,-0.076816566288471,0.042921628803015,0.048674825578928));
res += mul(Get(s1,0,0), float4x4(-0.006452848203480,-0.056541878730059,-0.057264667004347,0.002760399365798,-0.016800055280328,-0.049573257565498,0.049843862652779,0.085379078984261,-0.089990638196468,0.112471029162407,-0.072168760001659,-0.015044383704662,-0.046373203396797,-0.081424593925476,-0.006480200681835,0.045753486454487));
res += mul(Get(s1,0,dy), float4x4(0.014157803729177,-0.035573553293943,0.021850792691112,0.082156032323837,0.072162114083767,-0.015339297242463,-0.064526073634624,0.194505900144577,0.008520588278770,-0.206427961587906,0.011091385036707,0.000029923779948,-0.006172725465149,-0.129444226622581,-0.007779947947711,0.145688846707344));
res += mul(Get(s1,dx,-dy), float4x4(0.028263980522752,0.105669736862183,0.028510030359030,-0.056861627846956,-0.093121729791164,0.039005570113659,0.043874975293875,-0.197153493762016,0.100054308772087,-0.035549245774746,-0.081059038639069,-0.001744135981426,0.067683286964893,0.134060397744179,0.156038001179695,0.017495488747954));
res += mul(Get(s1,dx,0), float4x4(-0.014001345261931,-0.092173554003239,-0.035942085087299,-0.054835338145494,-0.052325878292322,-0.039030924439430,-0.101575233042240,-0.152287155389786,0.130708247423172,0.239742904901505,-0.172342702746391,-0.134186759591103,-0.007089946884662,0.203860089182854,0.000537795072887,-0.009631329216063));
res += mul(Get(s1,dx,dy), float4x4(-0.001991125987843,-0.052995670586824,-0.007259175181389,0.003534889314324,0.072038024663925,0.017759310081601,-0.075531661510468,0.010064692236483,0.080093100667000,-0.145470738410950,-0.146083161234856,-0.074208855628967,-0.051724173128605,0.097544051706791,-0.137604609131813,-0.020389603450894));
res += mul(Get(s2,-dx,-dy), float4x4(0.059004113078117,-0.076705381274223,-0.028299445286393,-0.139935821294785,-0.016636705026031,0.000063807754486,-0.058584593236446,-0.029464440420270,-0.165847092866898,-0.002147201681510,0.149305582046509,0.076220251619816,0.012302246876061,0.073112465441227,0.112938582897186,0.005179170519114));
res += mul(Get(s2,-dx,0), float4x4(0.119559973478317,-0.039546873420477,0.072486482560635,-0.004479875788093,-0.089518390595913,-0.052557282149792,-0.138226196169853,-0.003181329229847,-0.110052995383739,-0.001755301258527,0.114184863865376,-0.093316107988358,-0.133473694324493,0.015264807268977,-0.062741003930569,0.033264640718699));
res += mul(Get(s2,-dx,dy), float4x4(-0.013590862974524,-0.016439421102405,0.130928754806519,0.056006453931332,0.001674085739069,-0.088464833796024,0.038715377449989,-0.043167684227228,0.016128720715642,-0.060323972254992,0.121615044772625,-0.039932798594236,0.014110493473709,-0.000609728333075,-0.064072571694851,0.001798563287593));
res += mul(Get(s2,0,-dy), float4x4(-0.059275597333908,-0.041457246989012,-0.094994388520718,-0.026210863143206,-0.001493311254308,0.037248782813549,-0.094282396137714,0.064887002110481,-0.119769640266895,-0.025352163240314,-0.055216968059540,-0.224043756723404,-0.038199730217457,0.011753696948290,0.110610619187355,0.013606855645776));
res += mul(Get(s2,0,0), float4x4(-0.009442511014640,-0.030157295987010,-0.053231034427881,0.070449136197567,-0.065014593303204,-0.011301845312119,-0.131437554955482,0.199441179633141,0.002053059171885,-0.027981925755739,0.061000715941191,0.199940070509911,-0.068164303898811,-0.061962071806192,0.029848195612431,0.002922625280917));
res += mul(Get(s2,0,dy), float4x4(-0.123961493372917,0.003857139730826,0.094968982040882,-0.019515048712492,0.020190218463540,-0.136336028575897,0.044522847980261,0.013107601553202,0.059957858175039,-0.076905451714993,0.025453854352236,0.227958902716637,0.054629240185022,-0.065215311944485,-0.030146645382047,0.070597819983959));
res += mul(Get(s2,dx,-dy), float4x4(-0.096584513783455,0.046921573579311,0.039372432976961,-0.092665724456310,0.054538674652576,0.085239470005035,-0.065480798482895,0.048607051372528,-0.086630478501320,-0.002692375564948,-0.198161289095879,-0.070858560502529,-0.009769573807716,-0.077507950365543,0.166470080614090,-0.009330368600786));
res += mul(Get(s2,dx,0), float4x4(-0.041686203330755,0.059959489852190,-0.027160838246346,-0.177784129977226,-0.061662849038839,0.097710289061069,-0.157146334648132,0.143296524882317,-0.011084527708590,0.022434921935201,-0.082325004041195,0.201513543725014,0.020820006728172,-0.057953339070082,-0.003088628640398,-0.051994148641825));
res += mul(Get(s2,dx,dy), float4x4(-0.043037455528975,-0.043122012168169,-0.024241197854280,-0.103494778275490,-0.062955208122730,-0.021550754085183,-0.065572232007980,0.011934503912926,0.089135885238647,-0.070709452033043,0.028123319149017,-0.083303995430470,-0.015926837921143,-0.061671864241362,-0.060210656374693,0.010283948853612));
res += mul(Get(s3,-dx,-dy), float4x4(-0.149707138538361,0.019918993115425,-0.071273803710938,-0.064772434532642,-0.026636378839612,0.193756356835365,-0.098917752504349,-0.148573786020279,0.128457784652710,-0.030784564092755,0.050061419606209,-0.073150441050529,-0.032710425555706,0.107872270047665,-0.048904005438089,-0.138209044933319));
res += mul(Get(s3,-dx,0), float4x4(0.043784093111753,0.036301657557487,0.107010886073112,-0.034216582775116,0.016644658520818,0.180484607815742,0.068021655082703,-0.004138580057770,0.022120092064142,0.094090268015862,-0.100303180515766,0.122994117438793,-0.019937446340919,0.010765544138849,-0.055751372128725,0.038312267512083));
res += mul(Get(s3,-dx,dy), float4x4(0.052441038191319,-0.132380872964859,-0.090684816241264,-0.039656292647123,-0.059525802731514,0.042796280235052,0.090313360095024,0.126530885696411,0.180844575166702,-0.038356803357601,0.017136072739959,-0.107554502785206,0.138606071472168,0.117052160203457,-0.085381761193275,-0.088849395513535));
res += mul(Get(s3,0,-dy), float4x4(-0.093518786132336,0.167208805680275,-0.022978840395808,0.070939615368843,-0.058581665158272,0.041008636355400,0.051853202283382,0.144304960966110,0.134032890200615,-0.212060734629631,0.026196414604783,-0.081398800015450,0.037473201751709,-0.000549510295969,-0.048296287655830,-0.171448975801468));
res += mul(Get(s3,0,0), float4x4(0.105824828147888,0.063498556613922,0.088634759187698,-0.009605863131583,-0.031792376190424,0.028760127723217,0.003410350531340,0.010546392761171,-0.024058500304818,0.062029711902142,-0.107526734471321,-0.020800570026040,0.030127404257655,-0.035833153873682,0.027958074584603,-0.021822765469551));
res += mul(Get(s3,0,dy), float4x4(0.226768076419830,-0.034984480589628,0.033207856118679,0.036225549876690,-0.099153213202953,-0.032139074057341,0.029447162523866,0.061483744531870,0.168645977973938,-0.104941450059414,-0.088681131601334,-0.089422784745693,0.132130414247513,-0.017988072708249,-0.014967367984354,-0.062938511371613));
res += mul(Get(s3,dx,-dy), float4x4(-0.189124330878258,0.142767801880836,-0.029758496209979,0.017256921157241,-0.059890303760767,-0.022494455799460,-0.072214208543301,0.182671710848808,-0.026706654578447,-0.021898433566093,0.048469461500645,-0.078241772949696,-0.034860175102949,0.101681403815746,0.157178491353989,-0.012809591367841));
res += mul(Get(s3,dx,0), float4x4(-0.224931970238686,-0.093001887202263,-0.056965846568346,-0.141155868768692,0.001380625530146,-0.058570750057697,-0.104188986122608,-0.066794455051422,-0.111051820218563,0.218288525938988,0.034902993589640,-0.040828332304955,0.094489827752113,-0.054078873246908,0.233723223209381,-0.019435063004494));
res += mul(Get(s3,dx,dy), float4x4(-0.249118626117706,-0.124421343207359,0.001984434202313,-0.105974845588207,0.001611038343981,-0.065444275736809,-0.184125274419785,-0.038215007632971,0.001539494842291,0.003062037052587,0.045069031417370,-0.019285179674625,0.129917278885841,-0.090178683400154,-0.084194839000702,-0.044421970844269));
return max(float4(0,0,0,0), res);
}
