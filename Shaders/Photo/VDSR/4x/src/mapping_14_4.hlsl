sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.164233386516571,0.023819142952561,0.005763628054410,0.003793271724135,-0.145406991243362,-0.077678076922894,-0.011240977793932,-0.064798161387444,-0.050548672676086,0.002017135731876,-0.080259427428246,0.017240462824702,0.071544520556927,0.141470775008202,-0.014749690890312,-0.083781652152538));
res += mul(Get(s0,-dx,0), float4x4(-0.056925892829895,-0.052033253014088,0.071413420140743,0.049765255302191,0.018004219979048,-0.046121858060360,0.034383770078421,0.010654606856406,-0.076265938580036,0.024223908782005,-0.090691067278385,0.088137932121754,-0.276209294795990,0.138728365302086,-0.025726241990924,-0.105353064835072));
res += mul(Get(s0,-dx,dy), float4x4(-0.092348739504814,-0.070261187851429,-0.034638766199350,-0.004753246437758,0.105129793286324,0.002350712195039,-0.107119135558605,0.018007436767220,-0.010605534538627,0.021780358627439,0.059182815253735,0.095443785190582,-0.022346558049321,-0.031287878751755,0.066579125821590,-0.109297104179859));
res += mul(Get(s0,0,-dy), float4x4(0.017694555222988,-0.089642480015755,-0.014395822770894,0.051229078322649,-0.063744358718395,-0.058958332985640,0.049909923225641,0.036662001162767,0.035621322691441,-0.008728342130780,0.123099759221077,0.069291152060032,0.167075574398041,-0.121002234518528,-0.096172690391541,-0.067956820130348));
res += mul(Get(s0,0,0), float4x4(-0.080142676830292,-0.036642454564571,0.016913183033466,0.012965563684702,-0.012296070344746,-0.021967612206936,0.048757024109364,0.168704241514206,0.056900795549154,-0.031691052019596,0.089398652315140,0.208152234554291,0.159632176160812,-0.128549888730049,-0.093989185988903,-0.110005959868431));
res += mul(Get(s0,0,dy), float4x4(-0.007676663342863,-0.047583069652319,0.123298667371273,0.074574619531631,0.051147911697626,-0.032993271946907,-0.078819289803505,0.009702347218990,0.039371568709612,-0.064763426780701,0.032909173518419,0.009774931706488,0.025078373029828,-0.138194978237152,-0.025946673005819,0.058581508696079));
res += mul(Get(s0,dx,-dy), float4x4(-0.072543971240520,-0.056953039020300,-0.051446121186018,-0.001859586220235,-0.139991447329521,-0.090549930930138,0.045104339718819,0.000778972811531,-0.083380103111267,-0.016947742551565,-0.071758255362511,-0.021749353036284,-0.023505127057433,0.003982090856880,0.013332779519260,-0.040596708655357));
res += mul(Get(s0,dx,0), float4x4(-0.053226415067911,0.014653691090643,-0.187102884054184,0.190649330615997,-0.049934383481741,-0.091853469610214,0.144986510276794,-0.048825655132532,-0.140073478221893,0.021215714514256,-0.090641520917416,-0.068187065422535,-0.073757186532021,0.029226563870907,0.005717251915485,0.030910713598132));
res += mul(Get(s0,dx,dy), float4x4(-0.048353094607592,-0.008362459018826,-0.013820809312165,-0.146120950579643,-0.027451386675239,-0.037371009588242,0.001062144758180,0.147536233067513,0.007855417206883,0.139832004904747,0.054092075675726,-0.036882210522890,-0.029911700636148,-0.130911722779274,-0.126908898353577,0.052992694079876));
res += mul(Get(s1,-dx,-dy), float4x4(-0.084792383015156,0.030910713598132,-0.023140944540501,-0.059634957462549,-0.049313485622406,-0.093119695782661,0.137611508369446,0.022048175334930,0.051812194287777,0.028885539621115,-0.192597508430481,0.113519497215748,0.019921060651541,0.074115492403507,0.062744826078415,-0.040084235370159));
res += mul(Get(s1,-dx,0), float4x4(-0.048784699290991,-0.029173329472542,-0.014571529813111,-0.086176082491875,-0.088047735393047,-0.108354620635509,0.244824036955833,0.122765488922596,-0.042156834155321,-0.041405081748962,0.097433172166348,-0.035778008401394,-0.003436194965616,-0.005554575007409,0.105208888649940,-0.038168363273144));
res += mul(Get(s1,-dx,dy), float4x4(0.037547737360001,-0.044099599123001,-0.020198123529553,-0.091892465949059,-0.026890128850937,-0.045967549085617,-0.009778872132301,-0.062385015189648,0.108849652111530,-0.209814473986626,-0.006365004926920,-0.058886472135782,0.047822769731283,0.103699684143066,-0.099482625722885,0.022575052455068));
res += mul(Get(s1,0,-dy), float4x4(-0.095194265246391,0.059287086129189,-0.057156126946211,0.035802505910397,0.264118373394012,0.036455880850554,-0.057226292788982,0.071142420172691,-0.090353928506374,0.026784401386976,0.068297289311886,-0.039067331701517,0.109694883227348,-0.017437843605876,0.008284871466458,-0.056425999850035));
res += mul(Get(s1,0,0), float4x4(-0.088126748800278,-0.026202432811260,-0.046851061284542,-0.008794894441962,0.087908886373043,0.093192964792252,-0.002829543082044,0.022154457867146,-0.059339072555304,-0.004410813562572,-0.022648315876722,0.007704057730734,-0.035185284912586,0.137032300233841,-0.021102083846927,-0.011577473022044));
res += mul(Get(s1,0,dy), float4x4(0.137371107935905,0.114244624972343,-0.010514111258090,-0.013715461827815,0.118502460420132,0.045065250247717,-0.022056605666876,-0.051471818238497,-0.143941432237625,-0.124318882822990,-0.007480380591005,-0.054852135479450,0.064273469150066,0.124445445835590,0.018128456547856,0.122939467430115));
res += mul(Get(s1,dx,-dy), float4x4(-0.028561435639858,-0.039290130138397,-0.094396904110909,-0.050154577940702,-0.043923284858465,0.029585905373096,-0.078449055552483,0.048900734633207,-0.066024720668793,-0.063457027077675,0.185922265052795,-0.145811975002289,0.032741799950600,0.118517227470875,0.139980360865593,0.036824803799391));
res += mul(Get(s1,dx,0), float4x4(0.063493706285954,0.109162509441376,-0.093543849885464,0.005623920354992,-0.038787093013525,0.160985335707664,-0.046098433434963,-0.023181162774563,-0.029579715803266,-0.112433776259422,0.197419136762619,0.144377991557121,-0.003505580360070,0.028535980731249,0.086162626743317,0.091281861066818));
res += mul(Get(s1,dx,dy), float4x4(-0.129467532038689,-0.154805317521095,-0.105171166360378,-0.146609991788864,-0.021730991080403,-0.055354643613100,-0.071795865893364,-0.056269571185112,0.009893050417304,-0.023835567757487,0.054264985024929,-0.147189706563950,0.111590318381786,0.361289888620377,0.135438352823257,0.105532288551331));
res += mul(Get(s2,-dx,-dy), float4x4(-0.079230286180973,-0.018368231132627,-0.263375014066696,-0.119329720735550,-0.115773811936378,-0.090457007288933,0.065330825746059,-0.183793336153030,-0.057525787502527,0.164780423045158,-0.053486637771130,-0.057704951614141,-0.037229757755995,-0.036196772009134,-0.015664260834455,-0.106029137969017));
res += mul(Get(s2,-dx,0), float4x4(-0.118594497442245,-0.082613363862038,-0.024903077632189,0.021313283592463,-0.039844404906034,-0.092055492103100,0.029142564162612,0.252142548561096,0.093884281814098,0.128183200955391,-0.039397124201059,-0.098593980073929,0.021986890584230,-0.012092905119061,-0.091825492680073,-0.046879135072231));
res += mul(Get(s2,-dx,dy), float4x4(0.034242343157530,0.030921705067158,0.058167967945337,0.027461731806397,-0.045362204313278,0.017316564917564,0.080342099070549,-0.116272464394569,0.108639292418957,0.009213766083121,-0.018709888681769,-0.094325505197048,0.023828245699406,-0.094397008419037,-0.030386731028557,0.080508992075920));
res += mul(Get(s2,0,-dy), float4x4(-0.119984626770020,-0.024585155770183,0.272158235311508,0.081278987228870,-0.055624261498451,-0.015941873192787,-0.076263368129730,0.072956286370754,0.160732164978981,-0.131550550460815,-0.048634540289640,-0.103908866643906,-0.077186509966850,-0.074205279350281,-0.075811073184013,0.114161074161530));
res += mul(Get(s2,0,0), float4x4(-0.118612505495548,-0.050199460238218,-0.009538862854242,-0.012012950144708,-0.031893830746412,0.067231081426144,0.073684804141521,0.221357911825180,-0.051759652793407,-0.160426080226898,0.014838857576251,-0.017714202404022,-0.046663820743561,-0.051561497151852,0.058915477246046,0.181649193167686));
res += mul(Get(s2,0,dy), float4x4(-0.025220684707165,0.061878681182861,-0.004749330226332,-0.011842544190586,0.024234937503934,0.010420298203826,-0.011970061808825,-0.143731757998466,-0.036492850631475,-0.145923256874084,-0.086062118411064,-0.146846979856491,-0.066431224346161,-0.057482626289129,0.033595658838749,0.043234501034021));
res += mul(Get(s2,dx,-dy), float4x4(0.021605480462313,0.077781543135643,-0.081616871058941,0.089730255305767,-0.083176270127296,-0.099916666746140,-0.060852471739054,-0.063959538936615,0.185881137847900,-0.028483651578426,-0.101205669343472,-0.089557223021984,-0.116647399961948,-0.024761704728007,-0.141727909445763,0.065786987543106));
res += mul(Get(s2,dx,0), float4x4(-0.099714808166027,0.082631841301918,0.020002137869596,-0.119582079350948,-0.037140116095543,0.043812572956085,-0.035041932016611,0.044698674231768,-0.042568460106850,0.031429782509804,0.050972811877728,0.082569763064384,-0.062743134796619,-0.001987850060686,0.001008441322483,0.024770876392722));
res += mul(Get(s2,dx,dy), float4x4(-0.076065935194492,-0.116743221879005,0.010247242636979,-0.078655160963535,-0.016124388203025,0.051824804395437,0.002996944123879,-0.129914700984955,-0.033237520605326,-0.068249799311161,0.012678102590144,-0.121602296829224,0.009775717742741,-0.029253922402859,0.001087766373530,0.062401033937931));
res += mul(Get(s3,-dx,-dy), float4x4(0.063449896872044,-0.061395339667797,0.021377915516496,-0.002885137218982,-0.049663450568914,-0.062943845987320,0.019275598227978,-0.056946802884340,0.123101226985455,0.112361989915371,-0.205625176429749,-0.040177430957556,0.126993253827095,-0.033338282257318,-0.060476996004581,-0.081939473748207));
res += mul(Get(s3,-dx,0), float4x4(0.184447318315506,0.018829759210348,0.064275898039341,0.009749443270266,0.070461757481098,-0.120967447757721,-0.053936008363962,-0.047676272690296,0.072422586381435,0.240531474351883,-0.115063935518265,-0.006843104492873,0.027408126741648,0.062235787510872,-0.011741824448109,-0.049935620278120));
res += mul(Get(s3,-dx,dy), float4x4(0.026395607739687,0.037375960499048,0.055979277938604,-0.066958494484425,-0.097007758915424,-0.042909882962704,-0.069340541958809,-0.139454066753387,-0.132985115051270,0.085626155138016,-0.142014205455780,-0.067571602761745,-0.032677497714758,-0.035762228071690,-0.074582479894161,0.028426641598344));
res += mul(Get(s3,0,-dy), float4x4(-0.141201123595238,-0.064862862229347,-0.032240852713585,0.160683378577232,0.151703551411629,0.023697089403868,-0.113371655344963,-0.116133913397789,-0.068066924810410,0.017504729330540,-0.126617863774300,-0.087074428796768,-0.014582559466362,-0.010296430438757,-0.020218433812261,-0.040126085281372));
res += mul(Get(s3,0,0), float4x4(0.141976192593575,0.107674963772297,0.076355457305908,0.026138149201870,0.274296969175339,0.005049493163824,-0.020284118130803,-0.007968823425472,-0.081205613911152,-0.026055550202727,-0.063929684460163,-0.023256806656718,-0.071542166173458,0.064572989940643,0.039051689207554,0.021147856488824));
res += mul(Get(s3,0,dy), float4x4(0.243006765842438,0.012185306288302,0.014228327199817,-0.063045956194401,-0.065125130116940,0.171178996562958,-0.048047337681055,-0.035341400653124,0.133881583809853,-0.066404953598976,-0.144979864358902,-0.111206091940403,0.016433367505670,-0.204310327768326,0.050762210041285,0.065705657005310));
res += mul(Get(s3,dx,-dy), float4x4(0.010032258927822,0.048545558005571,0.110149472951889,0.201182410120964,-0.054394662380219,0.093045853078365,-0.069626376032829,-0.147590398788452,-0.119243644177914,0.016171053051949,0.008652374148369,0.007814142853022,-0.004339945502579,-0.006836444605142,0.207272991538048,0.061247579753399));
res += mul(Get(s3,dx,0), float4x4(0.212069451808929,0.044080607593060,0.070311374962330,0.032099153846502,0.002932300325483,-0.043193940073252,-0.020048797130585,-0.101301878690720,-0.010286668315530,0.015294250100851,0.049700077623129,0.130597248673439,0.018265884369612,0.031293168663979,-0.018918376415968,-0.026408551260829));
res += mul(Get(s3,dx,dy), float4x4(-0.086733639240265,-0.020084779709578,-0.043409898877144,-0.099921882152557,0.007976075634360,-0.046643365174532,-0.104876920580864,-0.080484047532082,0.008846049197018,-0.055709816515446,-0.030907427892089,-0.058281544595957,0.048821888864040,-0.127450078725815,0.126501426100731,-0.124213770031929));
return max(float4(0,0,0,0), res);
}
