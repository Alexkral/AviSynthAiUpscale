sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.058046303689480,0.013823486864567,0.018233496695757,0.009988227859139,-0.026446703821421,-0.110534183681011,-0.113489910960197,-0.076641455292702,-0.014438257552683,-0.067950725555420,-0.162471145391464,-0.265228986740112,0.132717728614807,0.093079902231693,0.068803548812866,0.098810128867626));
res += mul(Get(s0,-dx,0), float4x4(-0.030414938926697,0.129892557859421,0.073102839291096,-0.084477737545967,0.049318574368954,0.196192950010300,-0.234619706869125,0.014322861097753,-0.074057832360268,-0.050831884145737,0.085414387285709,-0.023170396685600,0.140642181038857,0.074397146701813,0.163249343633652,-0.054706145077944));
res += mul(Get(s0,-dx,dy), float4x4(-0.021756812930107,0.146229743957520,-0.121799930930138,0.115810856223106,0.168803378939629,0.080958172678947,-0.199137076735497,0.107727266848087,0.024281656369567,0.247469216585159,-0.095506422221661,-0.141246572136879,-0.035610359162092,0.159772530198097,-0.113769046962261,-0.120206460356712));
res += mul(Get(s0,0,-dy), float4x4(-0.016877878457308,0.048653710633516,0.008185734041035,-0.057079583406448,0.017662363126874,0.123691566288471,-0.031348977237940,0.035896535962820,0.047654815018177,0.274198770523071,0.129243716597557,-0.094535589218140,0.001856427057646,-0.186396956443787,0.026672819629312,0.070780567824841));
res += mul(Get(s0,0,0), float4x4(0.033169340342283,-0.020917680114508,0.012194620445371,-0.183968365192413,0.107098400592804,0.108090944588184,0.025442857295275,0.075884848833084,0.098385490477085,0.067777045071125,-0.024997314438224,0.073881298303604,0.016299294307828,0.095618076622486,-0.133108496665955,-0.025395156815648));
res += mul(Get(s0,0,dy), float4x4(-0.086478695273399,-0.054079018533230,0.021592540666461,-0.006823158357292,-0.048150751739740,0.031762234866619,-0.070342257618904,-0.009961327537894,0.070928901433945,0.207944408059120,0.032065987586975,-0.024335805326700,-0.037336006760597,0.119814880192280,-0.212966233491898,-0.002307701855898));
res += mul(Get(s0,dx,-dy), float4x4(-0.105470575392246,-0.297034651041031,0.079272091388702,-0.045466013252735,0.035026550292969,-0.094500757753849,-0.005964938551188,-0.014993174001575,0.208072945475578,0.019126713275909,0.031104337424040,0.057858388870955,-0.123505964875221,-0.202779054641724,0.106656000018120,-0.084061056375504));
res += mul(Get(s0,dx,0), float4x4(-0.100879684090614,-0.140638083219528,-0.023681461811066,-0.051797229796648,-0.090900339186192,-0.035863488912582,0.075294241309166,-0.046525292098522,-0.042026679962873,-0.225031346082687,-0.156875491142273,0.173202723264694,0.102334886789322,-0.225087463855743,0.090380772948265,0.230621486902237));
res += mul(Get(s0,dx,dy), float4x4(-0.168399125337601,0.009269318543375,-0.009892573580146,-0.186099693179131,-0.187755852937698,-0.023702092468739,-0.000510277925059,-0.206025213003159,0.171966955065727,-0.137731000781059,0.105295099318027,0.170023396611214,-0.006289876997471,0.071929633617401,-0.100084528326988,0.054167218506336));
res += mul(Get(s1,-dx,-dy), float4x4(-0.219106897711754,0.026946794241667,-0.040705695748329,0.003781031118706,0.032602258026600,0.127801641821861,0.171024903655052,0.204437956213951,0.009250720031559,-0.015488901175559,0.082515984773636,-0.056082572788000,-0.013233078643680,-0.055683515965939,-0.087385594844818,0.025537963956594));
res += mul(Get(s1,-dx,0), float4x4(-0.000075206196925,0.008186089806259,-0.126185908913612,-0.104037486016750,-0.020936110988259,-0.045137047767639,-0.038410477340221,-0.019185859709978,0.009631058201194,0.009887244552374,0.147279962897301,-0.053475730121136,-0.069648869335651,-0.003172386670485,0.280235469341278,0.154065772891045));
res += mul(Get(s1,-dx,dy), float4x4(-0.030168995261192,0.034647140651941,-0.007959034293890,-0.062009617686272,-0.059956692159176,-0.000692631292623,-0.016811845824122,-0.015105914324522,-0.084976896643639,0.004875211045146,-0.085884258151054,-0.095874108374119,-0.061219707131386,0.076231576502323,-0.276182800531387,0.037257481366396));
res += mul(Get(s1,0,-dy), float4x4(-0.045301198959351,-0.043789152055979,0.108648203313351,0.004939522128552,0.118781782686710,0.086327522993088,0.066984713077545,0.020534839481115,0.060433343052864,0.197547420859337,-0.062627226114273,0.031493183225393,-0.010027185082436,0.141400635242462,-0.029527751728892,-0.051591899245977));
res += mul(Get(s1,0,0), float4x4(-0.098097987473011,0.143779069185257,-0.019806310534477,0.106855630874634,0.039538826793432,-0.035350948572159,0.166882038116455,0.068123303353786,-0.060058761388063,-0.224736794829369,0.126683592796326,0.019304133951664,-0.000262055429630,-0.099548459053040,0.018395274877548,0.040757104754448));
res += mul(Get(s1,0,dy), float4x4(-0.024600649252534,-0.051777377724648,0.138308033347130,-0.103356398642063,-0.102257050573826,-0.054222039878368,-0.036255985498428,0.128966733813286,-0.079627402126789,-0.010866886004806,-0.008722624741495,0.039910197257996,-0.010688490234315,-0.127837106585503,-0.066186964511871,0.220039799809456));
res += mul(Get(s1,dx,-dy), float4x4(0.102370567619801,-0.016945956274867,0.068787217140198,-0.100764296948910,-0.152030125260353,0.117745906114578,-0.098123230040073,0.010469445027411,-0.016988059505820,-0.129815623164177,0.028925707563758,-0.063921235501766,-0.076734997332096,0.008323328569531,-0.036819044500589,-0.123647384345531));
res += mul(Get(s1,dx,0), float4x4(-0.005323755089194,0.071563966572285,-0.058728463947773,0.014165864326060,-0.070538125932217,0.155731484293938,0.021025232970715,-0.304965794086456,-0.099670290946960,0.013621265068650,-0.093203209340572,0.175502955913544,-0.003691515652463,0.026066983118653,0.106179796159267,-0.099991492927074));
res += mul(Get(s1,dx,dy), float4x4(-0.156226053833961,0.004027529619634,0.057512454688549,0.325105249881744,-0.256299465894699,-0.033537838608027,-0.027460437268019,0.225956425070763,-0.005966592580080,-0.225361362099648,-0.013112727552652,0.071667686104774,-0.029359934851527,-0.249111026525497,0.053373437374830,0.051263786852360));
res += mul(Get(s2,-dx,-dy), float4x4(-0.177685797214508,-0.130545422434807,-0.091379374265671,0.097039245069027,0.046190027147532,0.089568756520748,0.076645523309708,0.029693871736526,0.033370472490788,-0.175244301557541,-0.033313453197479,0.146417513489723,-0.146199792623520,0.002505303127691,0.049560151994228,0.019236709922552));
res += mul(Get(s2,-dx,0), float4x4(0.081112354993820,-0.199130937457085,-0.026436069980264,-0.028043067082763,-0.084365695714951,-0.034841153770685,-0.056450355798006,0.069093905389309,0.009074206463993,-0.182408273220062,-0.226388096809387,-0.020118005573750,0.109855405986309,0.078812398016453,-0.000902874802705,-0.156872227787971));
res += mul(Get(s2,-dx,dy), float4x4(-0.018958030268550,-0.051450856029987,-0.073645591735840,-0.123970627784729,-0.144981056451797,-0.005268868058920,-0.107076592743397,0.068806208670139,0.231310516595840,0.026006201282144,-0.003785313805565,-0.154863849282265,-0.016963239759207,0.017058150842786,0.034797158092260,0.114965237677097));
res += mul(Get(s2,0,-dy), float4x4(-0.127587556838989,-0.248864606022835,0.083110027015209,0.065961666405201,0.177720636129379,-0.135897964239120,0.089918158948421,0.002638544188812,-0.149231776595116,-0.056713525205851,-0.187729090452194,0.003071398939937,-0.025556705892086,0.130659773945808,-0.043487060815096,-0.088383391499519));
res += mul(Get(s2,0,0), float4x4(-0.033747997134924,-0.105910301208496,-0.077289529144764,-0.021911639720201,0.205625370144844,0.043280869722366,-0.191754236817360,0.034060224890709,-0.068606354296207,0.101577706634998,-0.224460259079933,0.024921514093876,-0.051712427288294,-0.027262492105365,-0.013483115471900,0.024721186608076));
res += mul(Get(s2,0,dy), float4x4(0.010529862716794,0.086316764354706,0.192336529493332,-0.140724152326584,-0.055725198239088,0.033227514475584,-0.163619250059128,0.073437966406345,0.027812188491225,0.125701919198036,-0.071353197097778,-0.208822533488274,-0.011737725697458,0.005389155820012,-0.055915009230375,0.070655949413776));
res += mul(Get(s2,dx,-dy), float4x4(0.031497046351433,-0.102633334696293,0.085325308144093,0.189365237951279,0.082425370812416,-0.146936103701591,0.092826589941978,0.078397169709206,-0.106622114777565,0.120295368134975,-0.010796366259456,-0.011631520465016,-0.276275604963303,0.026731079444289,0.110077761113644,0.064409248530865));
res += mul(Get(s2,dx,0), float4x4(0.119380868971348,-0.199930295348167,-0.114445865154266,0.168817743659019,-0.061389312148094,-0.059516698122025,-0.049651328474283,-0.088319763541222,0.037493612617254,0.156415477395058,0.083453930914402,0.121655598282814,0.189004048705101,0.129875540733337,-0.001930486178026,-0.091334469616413));
res += mul(Get(s2,dx,dy), float4x4(0.121754683554173,-0.253189921379089,-0.121829792857170,0.021448634564877,0.108712479472160,0.126073583960533,-0.002698289696127,-0.044230036437511,-0.125799223780632,-0.099974758923054,0.043205741792917,-0.118330106139183,-0.096979081630707,0.107435010373592,0.047200664877892,0.102982155978680));
res += mul(Get(s3,-dx,-dy), float4x4(0.051217097789049,-0.015852496027946,0.010182647034526,-0.096726082265377,-0.014697619713843,-0.059752061963081,0.043333094567060,0.130610570311546,-0.042074974626303,0.026058336719871,0.151842817664146,-0.110846474766731,-0.006266740616411,0.004184024408460,-0.131476968526840,-0.128452181816101));
res += mul(Get(s3,-dx,0), float4x4(-0.068406596779823,-0.036026857793331,0.180122256278992,-0.088962525129318,0.150969117879868,-0.012233988381922,0.063153333961964,0.023658301681280,0.223172456026077,0.057901144027710,0.030902717262506,-0.016224907711148,-0.013673699460924,-0.003237797878683,0.114907249808311,0.062550403177738));
res += mul(Get(s3,-dx,dy), float4x4(0.024354869499803,-0.060084789991379,-0.147221624851227,0.227245986461639,-0.194547832012177,0.054681953042746,0.118045978248119,-0.109757266938686,-0.054568428546190,0.056519415229559,0.007942989468575,-0.066845662891865,0.098615474998951,-0.107245989143848,-0.092446707189083,-0.110508933663368));
res += mul(Get(s3,0,-dy), float4x4(-0.073770567774773,-0.003544423263520,0.003502462757751,-0.005445222370327,0.007247795816511,0.104030400514603,0.054220713675022,-0.039822939783335,0.191670328378677,0.047655533999205,-0.084780544042587,0.100737549364567,0.067292645573616,0.038722611963749,-0.075015693902969,-0.159597933292389));
res += mul(Get(s3,0,0), float4x4(0.062314473092556,0.067562997341156,0.132210120558739,-0.035148739814758,0.174182757735252,-0.083227977156639,-0.010782454162836,0.072371058166027,0.040170285850763,0.070615597069263,0.082370191812515,-0.314787477254868,0.058097168803215,0.072777718305588,-0.044338412582874,-0.015564506873488));
res += mul(Get(s3,0,dy), float4x4(0.097176216542721,-0.063923306763172,-0.065270446240902,0.017527563497424,0.212242871522903,0.085866644978523,-0.068884648382664,-0.036773547530174,0.076290361583233,-0.164899021387100,-0.072791352868080,-0.058604329824448,-0.108207300305367,0.138684153556824,0.046081546694040,-0.181933641433716));
res += mul(Get(s3,dx,-dy), float4x4(0.057884082198143,-0.028583854436874,0.282240718603134,-0.008240785449743,0.267775207757950,0.019091704860330,-0.034463085234165,-0.144955754280090,0.016621774062514,0.027454819530249,0.195411846041679,0.057826854288578,-0.033391866832972,0.085193455219269,-0.131174564361572,-0.103154338896275));
res += mul(Get(s3,dx,0), float4x4(0.175229206681252,0.131966665387154,-0.019835701212287,-0.066103473305702,0.072479240596294,-0.005309672094882,-0.054882865399122,-0.202998533844948,0.096214815974236,0.007344329729676,0.166927710175514,0.062137916684151,0.232955023646355,-0.018042983487248,-0.000267046445515,-0.215635314583778));
res += mul(Get(s3,dx,dy), float4x4(0.049076877534389,0.072165399789810,0.085435479879379,0.015261838212609,-0.000639698817395,-0.067788772284985,0.060978911817074,-0.067483082413673,-0.211085230112076,-0.084739677608013,-0.025212092325091,0.086205489933491,-0.137844592332840,-0.068900004029274,-0.198302775621414,-0.029853893443942));
return max(float4(0,0,0,0), res);
}
