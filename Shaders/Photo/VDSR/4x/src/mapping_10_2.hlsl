sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008502414450049,0.027524130418897,0.055667918175459,-0.011545182205737,-0.002352612791583,0.004133205860853,0.014354756101966,-0.088422805070877,-0.094240605831146,-0.028386743739247,-0.103732615709305,0.022026309743524,-0.078923501074314,0.142693206667900,-0.032644875347614,0.022009722888470));
res += mul(Get(s0,-dx,0), float4x4(-0.138263210654259,-0.032548982650042,-0.029092330485582,-0.072163827717304,0.143108353018761,0.033465426415205,-0.013881496153772,-0.140761330723763,-0.077522084116936,-0.000616869365331,0.109413333237171,0.056259531527758,0.090649195015430,0.000327556830598,0.038325659930706,0.068666569888592));
res += mul(Get(s0,-dx,dy), float4x4(-0.067791596055031,-0.048004634678364,-0.020883951336145,-0.070328973233700,0.041698329150677,-0.002314435783774,-0.127697691321373,-0.104504726827145,-0.006244275253266,0.019271316006780,0.164663314819336,0.104987345635891,0.097702600061893,0.023010512813926,0.122713826596737,0.118566505610943));
res += mul(Get(s0,0,-dy), float4x4(0.121361285448074,0.000169345497852,0.115112602710724,0.123333632946014,-0.047472450882196,-0.099970117211342,0.030329626053572,-0.057961970567703,-0.082259394228458,-0.029032047837973,-0.089802458882332,-0.114209219813347,-0.026479179039598,0.221735671162605,-0.111716099083424,0.110719822347164));
res += mul(Get(s0,0,0), float4x4(0.037103991955519,0.103321462869644,0.017611710354686,-0.051787838339806,-0.002648989437148,-0.048524655401707,0.089174680411816,-0.007932933978736,-0.053258430212736,-0.051581498235464,0.074540875852108,-0.030155487358570,-0.066690966486931,0.019703906029463,-0.015476495027542,-0.092787049710751));
res += mul(Get(s0,0,dy), float4x4(0.046764373779297,0.010816585272551,-0.097300961613655,-0.020083790645003,-0.107508108019829,0.023092290386558,-0.176713809370995,-0.061472356319427,0.046762447804213,-0.076543562114239,0.136114001274109,-0.130739778280258,0.000769678212237,0.048198629170656,-0.090283334255219,0.131962016224861));
res += mul(Get(s0,dx,-dy), float4x4(0.033974219113588,-0.132355079054832,0.139687672257423,-0.090023353695869,-0.054334782063961,-0.017056610435247,-0.013405658304691,0.210410043597221,-0.044057309627533,-0.155278533697128,0.053542889654636,-0.007883667014539,-0.033043470233679,0.053857173770666,-0.159101709723473,0.028457861393690));
res += mul(Get(s0,dx,0), float4x4(-0.059715464711189,0.006206186488271,0.196458682417870,-0.123431608080864,-0.000721972901374,-0.004165270365775,-0.033434171229601,0.016461590304971,0.051599476486444,-0.090022459626198,0.017924305051565,0.062582664191723,-0.021571656689048,-0.091095298528671,-0.035860087722540,-0.061594799160957));
res += mul(Get(s0,dx,dy), float4x4(-0.009225553832948,0.069990664720535,0.132045879960060,-0.104065008461475,-0.060284089297056,-0.078161440789700,-0.127095177769661,0.181220605969429,0.136516749858856,-0.041895065456629,0.045366164296865,-0.142848879098892,0.016649369150400,-0.170538991689682,-0.062377825379372,0.087931908667088));
res += mul(Get(s1,-dx,-dy), float4x4(0.091100543737411,0.078455135226250,-0.066980488598347,0.082072883844376,-0.156204089522362,0.196359515190125,0.050981957465410,-0.014836276881397,0.039044294506311,0.012721554376185,-0.021368013694882,0.070675522089005,0.108589507639408,0.061544600874186,0.038900867104530,-0.100171588361263));
res += mul(Get(s1,-dx,0), float4x4(-0.026800176128745,-0.019905839115381,-0.094002299010754,-0.186586886644363,0.108490347862244,0.082695253193378,-0.055424980819225,-0.032250724732876,-0.061608560383320,0.042017653584480,0.083789221942425,0.019873872399330,0.026925131678581,-0.078258670866489,0.030919454991817,-0.058642804622650));
res += mul(Get(s1,-dx,dy), float4x4(-0.107609249651432,-0.074264019727707,-0.158200129866600,-0.149904802441597,0.013228923082352,0.081565633416176,-0.030635006725788,-0.080232381820679,0.076881133019924,0.065731510519981,0.005113761406392,0.183165967464447,-0.002187885111198,-0.017372591421008,0.053082697093487,-0.056393019855022));
res += mul(Get(s1,0,-dy), float4x4(0.110616616904736,0.112969473004341,-0.102505542337894,-0.132453247904778,-0.086789913475513,0.127717360854149,-0.081191509962082,0.098577342927456,0.097751751542091,0.035358648747206,-0.037925254553556,-0.073187410831451,0.091267041862011,0.039190649986267,0.108997449278831,0.017367469146848));
res += mul(Get(s1,0,0), float4x4(-0.023969611153007,0.052986245602369,-0.072278045117855,-0.064106710255146,0.063997238874435,0.029293697327375,-0.017071414738894,-0.042994163930416,-0.057348519563675,0.111023165285587,0.089359797537327,0.055983453989029,-0.001044982345775,0.028055887669325,-0.041383713483810,-0.087652005255222));
res += mul(Get(s1,0,dy), float4x4(-0.100317120552063,-0.062436021864414,-0.000865527312271,-0.041316810995340,0.004000746645033,0.039350468665361,-0.024783503264189,0.067766696214676,0.025537120178342,0.077950835227966,-0.031193353235722,0.020637843757868,-0.015130185522139,0.170927435159683,0.012751950882375,-0.008571553975344));
res += mul(Get(s1,dx,-dy), float4x4(0.102234199643135,0.078089661896229,-0.089801669120789,-0.166334316134453,-0.117404229938984,0.095856316387653,-0.148149669170380,0.213859677314758,0.115614190697670,0.121649250388145,0.066063173115253,-0.102722100913525,0.011530284769833,0.023360148072243,0.102645628154278,-0.075404629111290));
res += mul(Get(s1,dx,0), float4x4(0.041656203567982,0.183416217565536,-0.074360594153404,-0.077588044106960,-0.004462568555027,-0.145004317164421,0.019952075555921,0.004768796730787,-0.086045496165752,0.186935991048813,-0.095010049641132,-0.000372132810298,0.029856806620955,-0.097455948591232,0.021268337965012,-0.026463083922863));
res += mul(Get(s1,dx,dy), float4x4(0.024007352069020,0.011610379442573,0.019942503422499,-0.069776885211468,-0.014954305253923,0.018679309636354,0.038790956139565,-0.017851687967777,0.173402711749077,0.071864999830723,-0.046775355935097,-0.112264566123486,-0.091808706521988,0.033516407012939,-0.124277636408806,-0.081167705357075));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003262272803113,0.034728094935417,-0.040954016149044,0.062864303588867,0.014486911706626,-0.182878568768501,0.025775218382478,-0.019541369751096,-0.077603444457054,-0.110303573310375,0.009571163915098,0.159068718552589,0.148825138807297,-0.095325306057930,-0.064937524497509,0.032567169517279));
res += mul(Get(s2,-dx,0), float4x4(-0.142057687044144,0.161131411790848,0.047945518046618,-0.033575307577848,0.020449366420507,-0.019750976935029,0.008757685311139,0.008574407547712,-0.101407259702682,-0.109373480081558,0.034007731825113,-0.021639073267579,-0.096444755792618,-0.037907041609287,0.039345111697912,-0.065351113677025));
res += mul(Get(s2,-dx,dy), float4x4(-0.134052157402039,0.174940511584282,0.028657861053944,0.023961488157511,0.039144057780504,-0.005308867897838,-0.078719407320023,-0.011392473243177,-0.101889684796333,-0.042947608977556,-0.070595324039459,0.136374711990356,0.133202850818634,-0.089584223926067,-0.098773337900639,-0.078619480133057));
res += mul(Get(s2,0,-dy), float4x4(0.057584248483181,0.050706479698420,0.004196027759463,0.000509227917064,0.020897265523672,-0.093915656208992,0.075070135295391,0.000298391067190,-0.091275237500668,-0.178087338805199,-0.051074113696814,-0.072916358709335,0.023040827363729,-0.054041206836700,-0.032745555043221,-0.065802037715912));
res += mul(Get(s2,0,0), float4x4(0.014515072107315,-0.020820483565331,-0.076237991452217,0.108133755624294,-0.068550586700439,0.041840597987175,0.039117958396673,0.086982563138008,-0.070793733000755,-0.125991001725197,-0.067502424120903,-0.081756003201008,-0.121227808296680,-0.050126943737268,0.055541947484016,0.034894410520792));
res += mul(Get(s2,0,dy), float4x4(-0.018180536106229,0.070292770862579,0.096447572112083,0.191382333636284,-0.025893101468682,0.029779380187392,-0.146754473447800,0.046199642121792,-0.062408916652203,0.074668549001217,-0.110822185873985,0.099588900804520,0.087517566978931,0.030683541670442,-0.068809196352959,-0.018806641921401));
res += mul(Get(s2,dx,-dy), float4x4(0.053702313452959,-0.013926611281931,0.055133689194918,0.055232807993889,-0.047246593981981,0.050294842571020,-0.014377380721271,-0.078081458806992,0.059918254613876,-0.125641331076622,-0.011656226590276,0.070071198046207,0.127068489789963,0.048133607953787,0.010078429244459,-0.053884644061327));
res += mul(Get(s2,dx,0), float4x4(-0.048817951232195,-0.005628313403577,0.125488743185997,-0.050597012042999,-0.027460291981697,0.174360290169716,0.116246715188026,0.078953690826893,-0.122630968689919,-0.081804089248180,-0.025478590279818,-0.065350532531738,-0.012338301166892,-0.052393708378077,-0.011901529505849,-0.048302579671144));
res += mul(Get(s2,dx,dy), float4x4(0.009030990302563,-0.079150699079037,-0.021805519238114,-0.030281964689493,-0.048765417188406,0.099791496992111,-0.058000858873129,-0.122466437518597,0.154517933726311,-0.029382700100541,-0.040187440812588,0.073307409882545,0.228501245379448,-0.039550498127937,-0.010171384550631,-0.052928991615772));
res += mul(Get(s3,-dx,-dy), float4x4(0.091180898249149,0.128251880407333,0.056697715073824,-0.118532456457615,0.123548462986946,-0.107026726007462,-0.017058735713363,0.070840187370777,-0.004274111706764,0.005594870075583,0.337471753358841,-0.088036440312862,0.014650678262115,0.048502601683140,0.000935310381465,-0.108870282769203));
res += mul(Get(s3,-dx,0), float4x4(0.017364431172609,0.072746567428112,0.120637826621532,0.165186017751694,-0.162896350026131,-0.006119890138507,0.010105313733220,0.065735250711441,-0.005715635139495,-0.008260780945420,-0.136486425995827,-0.044699206948280,-0.106405705213547,0.118089146912098,-0.199295118451118,-0.054412201046944));
res += mul(Get(s3,-dx,dy), float4x4(-0.060762904584408,0.039902251213789,0.065120160579681,-0.007788840681314,-0.064920090138912,0.021387618035078,-0.137442216277122,-0.014735351316631,0.172314465045929,-0.083876319229603,-0.152483522891998,0.114325709640980,0.158978536725044,0.040775716304779,0.083441115915775,-0.014731020666659));
res += mul(Get(s3,0,-dy), float4x4(0.097957797348499,-0.035605899989605,0.061202634125948,0.154613673686981,0.218731313943863,-0.186252549290657,-0.018246918916702,0.058641061186790,-0.050899591296911,-0.201905161142349,-0.077179245650768,0.110553994774818,-0.057073477655649,-0.019623465836048,-0.016023641452193,-0.059155952185392));
res += mul(Get(s3,0,0), float4x4(-0.005554715637118,-0.209499731659889,0.013089347630739,0.109317295253277,-0.151302352547646,0.039882797747850,-0.008402234874666,-0.032486055046320,-0.015520270913839,0.111061938107014,0.013234738260508,0.230403393507004,-0.020227083936334,0.049804117530584,0.082047864794731,0.062049064785242));
res += mul(Get(s3,0,dy), float4x4(-0.030674071982503,-0.017078813165426,-0.048619601875544,-0.020852839574218,-0.125157460570335,0.030801285058260,0.001432846067473,-0.076438307762146,0.143625363707542,-0.057722561061382,-0.071280382573605,-0.053446277976036,0.140570819377899,-0.109466284513474,-0.015251946635544,0.014183595776558));
res += mul(Get(s3,dx,-dy), float4x4(0.051458176225424,0.073317885398865,0.028834387660027,0.021802125498652,-0.002156141446903,-0.150570809841156,-0.047283992171288,0.119613662362099,0.058776758611202,-0.215482890605927,-0.075024805963039,-0.122511111199856,0.001060172100551,-0.022789550945163,0.114809706807137,-0.028399923816323));
res += mul(Get(s3,dx,0), float4x4(-0.084192976355553,0.061484869569540,0.034990262240171,-0.093750655651093,-0.097131669521332,-0.089935548603535,-0.086893662810326,0.050127822905779,0.000766371493228,-0.070941299200058,-0.002165921032429,0.098079837858677,-0.013074228540063,0.102645412087440,0.101670682430267,-0.037553679198027));
res += mul(Get(s3,dx,dy), float4x4(-0.052837919443846,0.053886555135250,0.033013768494129,-0.090812027454376,-0.070788986980915,0.000034086402593,0.020049110054970,0.054496865719557,0.124041184782982,-0.124376796185970,0.098878152668476,0.017501074820757,0.087512627243996,0.148863717913628,0.057638470083475,0.050651807337999));
return max(float4(0,0,0,0), res);
}
