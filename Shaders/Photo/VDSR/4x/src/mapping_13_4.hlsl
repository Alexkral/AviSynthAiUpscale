sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.045757070183754,-0.053832035511732,-0.088349439203739,-0.243634283542633,-0.003957861568779,-0.054615218192339,-0.013107153587043,0.039739236235619,0.080844715237617,-0.020575385540724,0.081562533974648,0.002516971668229,0.184343591332436,0.160998448729515,0.051882728934288,0.034365054219961));
res += mul(Get(s0,-dx,0), float4x4(-0.016592616215348,0.066311426460743,0.017814334481955,-0.061072360724211,0.092837698757648,-0.080196693539619,0.057856541126966,0.048904061317444,0.104152552783489,-0.001584264799021,0.011069552972913,-0.010040091350675,-0.012272487394512,-0.006738226395100,-0.016333032399416,-0.031445626169443));
res += mul(Get(s0,-dx,dy), float4x4(0.012893124483526,0.046182010322809,0.019618295133114,0.022214209660888,0.041763152927160,-0.099424362182617,0.068818636238575,0.031399313360453,-0.002271717181429,0.023726327344775,0.033783853054047,-0.052116215229034,-0.129161849617958,0.017244290560484,0.270220935344696,0.033013720065355));
res += mul(Get(s0,0,-dy), float4x4(-0.100294478237629,0.047195594757795,-0.080119311809540,-0.094540126621723,0.044092096388340,0.050873983651400,0.033486247062683,0.114176459610462,-0.058422900736332,-0.089838020503521,0.003529359819368,-0.113765336573124,0.085480585694313,0.038984403014183,-0.115863107144833,0.011655624955893));
res += mul(Get(s0,0,0), float4x4(-0.041740540415049,-0.037259560078382,-0.016376333311200,0.028105951845646,0.192915827035904,-0.040973167866468,-0.040540590882301,0.049612179398537,0.036493442952633,-0.009181113913655,-0.037612438201904,-0.092831730842590,-0.053744181990623,0.048518162220716,0.091319859027863,-0.027016999199986));
res += mul(Get(s0,0,dy), float4x4(0.055861208587885,0.029529448598623,0.164307817816734,0.000355965981726,0.150749281048775,-0.078154109418392,-0.009625026956201,0.042363330721855,0.056175634264946,-0.063613630831242,0.017570897936821,-0.109775990247726,-0.040745321661234,-0.090606570243835,0.014132686890662,0.080179423093796));
res += mul(Get(s0,dx,-dy), float4x4(0.127684563398361,0.038948599249125,-0.025669360533357,-0.062230665236712,0.039553869515657,-0.127640351653099,0.194903329014778,0.048863299190998,-0.098680488765240,-0.106707923114300,-0.000666312931571,-0.049212127923965,0.133676812052727,0.043971315026283,0.021751504391432,-0.088720045983791));
res += mul(Get(s0,dx,0), float4x4(-0.051053743809462,0.166605472564697,0.000806508469395,-0.035734310746193,0.291148364543915,-0.139747440814972,0.072478465735912,-0.053238119930029,0.026056446135044,-0.091769866645336,0.195246145129204,-0.033136308193207,0.029400678351521,0.076152287423611,-0.079549893736839,0.040399715304375));
res += mul(Get(s0,dx,dy), float4x4(-0.004873192869127,0.008830002509058,-0.100097335875034,-0.039092894643545,0.051380041986704,-0.086521945893764,0.047256439924240,-0.064824931323528,0.079915724694729,-0.146509319543839,-0.064954876899719,-0.030224436894059,-0.082652129232883,0.022831689566374,-0.124177500605583,0.092183314263821));
res += mul(Get(s1,-dx,-dy), float4x4(-0.029213888570666,0.140798196196556,-0.068097822368145,-0.061147540807724,-0.013561677187681,0.049075525254011,-0.033334504812956,0.030492296442389,-0.014003885909915,-0.081627771258354,-0.060642953962088,-0.061332266777754,-0.128722354769707,0.055188342928886,-0.003828795393929,-0.000387674721424));
res += mul(Get(s1,-dx,0), float4x4(-0.107832424342632,0.001051975064911,-0.030534615740180,0.051850266754627,-0.136734783649445,0.068484261631966,-0.024984426796436,-0.008554543368518,-0.077270396053791,-0.046585120260715,-0.076612412929535,-0.057362232357264,0.059712160378695,-0.078305728733540,-0.188857316970825,0.004656022414565));
res += mul(Get(s1,-dx,dy), float4x4(-0.153619736433029,0.001747550326400,-0.147420033812523,0.124679088592529,-0.128800421953201,-0.104858398437500,0.115033693611622,-0.044372174888849,0.124257512390614,-0.044192045927048,-0.053327981382608,-0.091805286705494,-0.112153492867947,-0.081993803381920,-0.153941214084625,-0.011429889127612));
res += mul(Get(s1,0,-dy), float4x4(-0.056834906339645,0.206801459193230,-0.169286936521530,-0.015114540234208,0.079355359077454,0.021038139238954,-0.065676949918270,0.016844293102622,0.042341507971287,0.044841837137938,-0.028031609952450,-0.095478162169456,0.066216170787811,-0.016896929591894,0.066961772739887,0.022241769358516));
res += mul(Get(s1,0,0), float4x4(-0.051030036062002,0.015011581592262,-0.057699188590050,-0.022821458056569,0.071283027529716,0.125349462032318,0.080934301018715,0.058748569339514,0.076271213591099,-0.005249937996268,0.046533267945051,-0.026140004396439,-0.067651040852070,-0.035915866494179,0.079722337424755,-0.120574668049812));
res += mul(Get(s1,0,dy), float4x4(-0.150312155485153,0.048809766769409,-0.080493651330471,-0.045909754931927,0.056320812553167,0.073148503899574,0.012179836630821,0.020524896681309,-0.094669677317142,0.043730009347200,0.151228457689285,-0.080359123647213,0.022804398089647,-0.028223844245076,0.132855147123337,-0.050564065575600));
res += mul(Get(s1,dx,-dy), float4x4(0.131784632802010,0.111731879413128,0.066145800054073,0.055551029741764,-0.044288761913776,-0.053868524730206,0.070210732519627,-0.013294070027769,0.007116389460862,-0.128846257925034,0.067058898508549,0.005161523818970,0.060936909168959,-0.031046949326992,0.153379276394844,-0.091298796236515));
res += mul(Get(s1,dx,0), float4x4(0.106592357158661,-0.000530208752025,-0.088266320526600,-0.078305430710316,0.039221860468388,0.061738152056932,0.026879500597715,-0.072914414107800,-0.033700749278069,-0.084769830107689,0.083039619028568,0.046866286545992,-0.125099793076515,-0.014062818139791,0.024820782244205,0.060610808432102));
res += mul(Get(s1,dx,dy), float4x4(-0.051588725298643,0.044913288205862,-0.143097952008247,0.111824586987495,-0.120896533131599,0.049568027257919,-0.008079343475401,0.015264787711203,-0.057167779654264,0.039221767336130,0.116496920585632,0.115160748362541,-0.025854231789708,-0.119891159236431,-0.017064314335585,0.083326645195484));
res += mul(Get(s2,-dx,-dy), float4x4(-0.112739250063896,0.161559119820595,-0.121302507817745,0.145990282297134,0.138368174433708,-0.035886205732822,-0.073398314416409,-0.113758385181427,-0.073849081993103,-0.101292684674263,0.004021125379950,0.106552168726921,-0.114456206560135,-0.181424587965012,-0.053160704672337,0.063640989363194));
res += mul(Get(s2,-dx,0), float4x4(0.057954818010330,0.065097413957119,0.049589887261391,0.032510075718164,0.054069712758064,-0.039326816797256,-0.127495348453522,-0.103152960538864,0.004398466553539,-0.086814448237419,-0.023794744163752,0.030105017125607,0.041643496602774,-0.050760693848133,-0.033768739551306,0.058939248323441));
res += mul(Get(s2,-dx,dy), float4x4(-0.196177810430527,-0.121142633259296,-0.035677790641785,0.128433823585510,0.075522549450397,-0.072086356580257,-0.119223825633526,-0.142084494233131,0.042403902858496,-0.016812114045024,0.039397846907377,0.026851892471313,-0.131045207381248,0.045093409717083,-0.003035887842998,0.136954754590988));
res += mul(Get(s2,0,-dy), float4x4(-0.028751002624631,0.052179481834173,-0.006537471432239,0.058027666062117,0.106758423149586,0.177268311381340,-0.035568367689848,0.000753751839511,0.021704170852900,-0.025248067453504,-0.023811783641577,-0.021646756678820,0.046816367655993,-0.034707497805357,-0.019169606268406,0.041149869561195));
res += mul(Get(s2,0,0), float4x4(0.155133560299873,-0.022345060482621,0.137594789266586,0.022896878421307,-0.127224192023277,0.008375464007258,-0.042519349604845,-0.113974921405315,0.120983399450779,-0.028915723785758,-0.003539760597050,-0.119089685380459,0.156040221452713,0.003141730092466,0.030212944373488,0.057132955640554));
res += mul(Get(s2,0,dy), float4x4(-0.016933929175138,-0.086615577340126,-0.017649564892054,0.032955020666122,-0.045783605426550,0.056686658412218,-0.037349585443735,-0.065134346485138,0.197361826896667,0.089988425374031,0.031332120299339,-0.061148110777140,-0.063071250915527,0.048023171722889,-0.061134301126003,-0.034202732145786));
res += mul(Get(s2,dx,-dy), float4x4(0.009681873023510,0.045478135347366,0.083355747163296,0.219216167926788,0.237946540117264,0.142371311783791,-0.079214751720428,0.087425053119659,-0.055506303906441,0.044270858168602,-0.051704246550798,-0.107387214899063,0.116752073168755,-0.110443957149982,-0.017207574099302,-0.065431013703346));
res += mul(Get(s2,dx,0), float4x4(0.018701151013374,-0.114333212375641,0.077046051621437,0.033494222909212,0.056000936776400,-0.039341531693935,0.013330035842955,-0.015422205440700,-0.205332934856415,0.032891392707825,0.022722674533725,-0.080541387200356,0.046109780669212,0.002712220419198,0.260020107030869,-0.073315732181072));
res += mul(Get(s2,dx,dy), float4x4(0.000346983171767,-0.154772877693176,-0.049001473933458,0.152027949690819,-0.069826968014240,-0.035224787890911,0.087214313447475,-0.040026396512985,-0.158434227108955,0.162784337997437,0.098110347986221,-0.069996260106564,-0.043422345072031,-0.001908522448502,0.046523097902536,-0.047525018453598));
res += mul(Get(s3,-dx,-dy), float4x4(0.111856684088707,0.020916474983096,0.041865963488817,0.185970216989517,0.035682830959558,-0.002223063958809,-0.000510786136147,-0.037839002907276,-0.080724291503429,-0.019924651831388,0.029966820031404,0.115387074649334,0.121231086552143,0.034204766154289,0.098325408995152,-0.104442261159420));
res += mul(Get(s3,-dx,0), float4x4(-0.020666269585490,0.148264661431313,0.053905643522739,-0.090461172163486,-0.068105079233646,-0.119001992046833,-0.043686952441931,0.015352679416537,-0.023627294227481,0.011779607273638,0.053291887044907,0.104271106421947,0.057937745004892,0.035191331058741,-0.133324235677719,-0.088889218866825));
res += mul(Get(s3,-dx,dy), float4x4(-0.155833467841148,0.085436113178730,0.089794717729092,-0.092736460268497,0.050869185477495,-0.053548049181700,-0.134584933519363,-0.023976866155863,-0.006066690664738,-0.085281029343605,-0.082286797463894,0.078815028071404,-0.172323659062386,0.077406048774719,0.037520971149206,-0.015070840716362));
res += mul(Get(s3,0,-dy), float4x4(-0.044331558048725,0.027041886001825,0.019699746742845,0.067107975482941,0.040362205356359,0.045960143208504,-0.023983998224139,-0.084872037172318,-0.087254762649536,0.005547082982957,0.023323014378548,-0.011405313387513,-0.015798024833202,-0.009056283161044,-0.145368427038193,0.214546889066696));
res += mul(Get(s3,0,0), float4x4(0.165567815303802,-0.164456322789192,0.024434182792902,0.093289762735367,0.003240808611736,0.035075999796391,-0.001511700218543,0.057542894035578,0.005111257545650,-0.063017413020134,-0.004628190305084,-0.054253961890936,0.182707563042641,-0.007422013673931,0.006875887513161,-0.015195672400296));
res += mul(Get(s3,0,dy), float4x4(-0.095787458121777,-0.059190735220909,0.088037550449371,-0.017217727378011,0.000523356895428,0.070349521934986,-0.096152454614639,-0.122102044522762,-0.080638192594051,-0.133514836430550,-0.184980288147926,0.025357196107507,-0.223155587911606,-0.013378188014030,0.050152488052845,-0.070648849010468));
res += mul(Get(s3,dx,-dy), float4x4(-0.118684008717537,-0.078602001070976,0.135151624679565,-0.012323082424700,-0.087984085083008,0.048339672386646,-0.143893599510193,-0.040567625313997,0.074444927275181,0.138656973838806,-0.049912691116333,-0.143888875842094,-0.071661338210106,0.043152388185263,0.130366265773773,0.100408792495728));
res += mul(Get(s3,dx,0), float4x4(-0.089278213679790,-0.105755142867565,-0.055391706526279,-0.211439251899719,-0.055977296084166,-0.108021356165409,-0.006888020783663,0.040869671851397,-0.102023184299469,0.154499620199203,-0.081777729094028,-0.107817843556404,0.021626329049468,-0.003631621832028,0.069735072553158,0.106490798294544));
res += mul(Get(s3,dx,dy), float4x4(0.036952722817659,-0.098271481692791,0.023782242089510,0.006192657630891,-0.053065020591021,0.048988677561283,-0.073817275464535,-0.132269397377968,-0.143293648958206,0.007263070438057,-0.097952246665955,-0.021963886916637,-0.144821241497993,-0.038352530449629,0.036289025098085,0.075624421238899));
return max(float4(0,0,0,0), res);
}
