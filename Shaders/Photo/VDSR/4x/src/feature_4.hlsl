sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.066431209445000,-0.561071932315826,-0.581365704536438,-0.359071403741837) * Get(-dx,-dy);
res += float4(-0.101256713271141,-0.365509122610092,0.035679899156094,-0.050559390336275) * Get(-dx,0);
res += float4(-0.224634155631065,0.137938082218170,0.682691574096680,-0.619279205799103) * Get(-dx,dy);
res += float4(0.134134978055954,-0.587828874588013,-0.696900725364685,0.402227878570557) * Get(0,-dy);
res += float4(-0.045445609837770,-0.220785588026047,0.008285579271615,0.926955163478851) * Get(0,0);
res += float4(-0.193827778100967,0.335179299116135,0.749144911766052,0.157175287604332) * Get(0,dy);
res += float4(0.214321807026863,-0.187272757291794,-0.696602642536163,-0.211969867348671) * Get(dx,-dy);
res += float4(0.039369259029627,0.257797211408615,-0.365597963333130,-0.001737282495014) * Get(dx,0);
res += float4(-0.123143613338470,0.775197088718414,0.188464641571045,-0.538091897964478) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
