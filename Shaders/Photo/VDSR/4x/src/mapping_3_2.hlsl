sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.330359995365143,-0.093495860695839,-0.106647238135338,-0.379495292901993,0.045366831123829,0.025936892256141,0.069302707910538,-0.013722562231123,-0.294845223426819,0.041576579213142,-0.019395569339395,-0.117879480123520,-0.002472757827491,-0.002288600895554,0.000718154478818,0.004482353571802));
res += mul(Get(s0,-dx,0), float4x4(0.312178283929825,-0.184504747390747,0.014569041319191,0.142024829983711,0.055728431791067,-0.038665968924761,-0.015652054920793,0.054168939590454,-0.258576095104218,-0.065639190375805,0.018499817699194,-0.150563701987267,0.005437713582069,-0.008733246475458,-0.006808758713305,0.013642902486026));
res += mul(Get(s0,-dx,dy), float4x4(0.318621426820755,-0.317733198404312,-0.153073891997337,0.233435958623886,0.107145808637142,-0.052384756505489,0.055881302803755,0.152572795748711,-0.036802843213081,-0.086601182818413,0.071332760155201,-0.029033405706286,0.006953866686672,0.006721122656018,-0.001968413824216,0.005016027484089));
res += mul(Get(s0,0,-dy), float4x4(-0.143143028020859,-0.073635049164295,0.073238678276539,-0.067206874489784,-0.002116696676239,0.023255832493305,-0.028059577569366,-0.034323606640100,0.060746353119612,-0.092378303408623,-0.021438732743263,-0.132917910814285,-0.005675392691046,0.001085065305233,0.006289630662650,0.010398469865322));
res += mul(Get(s0,0,0), float4x4(-0.246035024523735,0.037012390792370,0.132889688014984,-0.167624637484550,0.007614640519023,-0.009249009191990,-0.010375113226473,0.147910565137863,-0.044779904186726,-0.084967769682407,0.006265218835324,-0.131853371858597,-0.007962271571159,-0.006354309152812,0.005167157389224,0.005305689293891));
res += mul(Get(s0,0,dy), float4x4(-0.182230994105339,-0.227637365460396,-0.102629296481609,0.014204417355359,0.181858152151108,-0.024959992617369,0.112775519490242,0.215050652623177,-0.056090828031301,-0.105787672102451,0.089955948293209,0.162142395973206,-0.004656402394176,0.009390819817781,0.002986256731674,0.012031513266265));
res += mul(Get(s0,dx,-dy), float4x4(-0.020451467484236,0.054326999932528,0.276427179574966,0.236188411712646,-0.034372065216303,-0.040086492896080,-0.061027556657791,-0.107821196317673,-0.007269066292793,0.027194840833545,0.033988088369370,0.087673470377922,-0.009017090313137,-0.003626725170761,0.000586090376601,0.030980665236712));
res += mul(Get(s0,dx,0), float4x4(0.060207080096006,0.314775079488754,-0.048599399626255,-0.149090334773064,-0.075711011886597,-0.070923544466496,-0.041551664471626,0.022390088066459,0.046577315777540,0.034308876842260,-0.030776042491198,0.034654688090086,-0.010221845470369,0.001215421129018,-0.004884635563940,0.013470206409693));
res += mul(Get(s0,dx,dy), float4x4(-0.044307406991720,0.067968018352985,-0.071424536406994,-0.117114335298538,0.112334698438644,-0.060115598142147,0.041376318782568,0.004638838116080,-0.003248073160648,-0.041093096137047,-0.090296223759651,0.081356503069401,-0.000662543869112,0.003756701713428,-0.004093347582966,0.010933543555439));
res += mul(Get(s1,-dx,-dy), float4x4(-0.020831882953644,0.067641973495483,-0.145530030131340,-0.146910160779953,-0.168792054057121,0.175086408853531,-0.137503519654274,-0.322668761014938,0.431319653987885,-0.099160134792328,-0.068094655871391,-0.372759163379669,-0.137066289782524,0.213143214583397,-0.074738658964634,-0.242780283093452));
res += mul(Get(s1,-dx,0), float4x4(-0.102665759623051,0.076435409486294,-0.081344313919544,-0.012426255270839,-0.150067672133446,-0.168123275041580,0.041584294289351,-0.114598259329796,0.153638169169426,-0.080915480852127,-0.065188877284527,-0.105897799134254,-0.166774794459343,0.041078146547079,0.024567576125264,-0.060665000230074));
res += mul(Get(s1,-dx,dy), float4x4(-0.015562577173114,-0.031665373593569,0.102754041552544,-0.079278491437435,-0.020891159772873,-0.166264608502388,0.161410316824913,0.116281211376190,0.134787678718567,-0.088217556476593,-0.036657605320215,-0.051899686455727,-0.127755954861641,-0.012005432508886,-0.001228968147188,0.039215154945850));
res += mul(Get(s1,0,-dy), float4x4(-0.093517489731312,-0.070203579962254,-0.052002068608999,-0.153060764074326,-0.048411436378956,0.103355668485165,-0.232621997594833,-0.188072428107262,0.064707361161709,-0.173016294836998,-0.035428136587143,0.323440849781036,-0.152618452906609,0.106329552829266,-0.129013359546661,0.016046922653913));
res += mul(Get(s1,0,0), float4x4(0.078162536025047,0.067569322884083,-0.072728566825390,-0.029811073094606,0.064293779432774,0.021255880594254,-0.055145062506199,-0.048942737281322,-0.021645855158567,-0.140299215912819,0.030652167275548,0.276048570871353,-0.141729012131691,-0.061291635036469,-0.004738389514387,-0.074842058122158));
res += mul(Get(s1,0,dy), float4x4(0.038372796028852,0.020960800349712,0.153038755059242,0.031989436596632,0.002010081661865,-0.073012992739677,0.467788964509964,0.143038541078568,-0.155067577958107,-0.116040438413620,-0.055751714855433,-0.025248499587178,-0.098412245512009,-0.051123362034559,0.026597345247865,-0.045762885361910));
res += mul(Get(s1,dx,-dy), float4x4(-0.186020910739899,-0.136392995715141,0.031210692599416,-0.128604918718338,0.284852951765060,0.033561270684004,-0.079755090177059,-0.010484839789569,-0.306192040443420,-0.010176668874919,0.223672807216644,0.087814018130302,0.076973326504230,-0.031804222613573,0.001157885300927,-0.047184620052576));
res += mul(Get(s1,dx,0), float4x4(0.050624530762434,0.045839913189411,-0.073578543961048,-0.079074338078499,0.045369140803814,0.037774529308081,0.048454653471708,0.213822603225708,-0.035274155437946,-0.043194018304348,0.025706203654408,0.007785339374095,0.048128217458725,-0.050138819962740,0.053454380482435,-0.092082150280476));
res += mul(Get(s1,dx,dy), float4x4(0.003303348785266,0.062322515994310,0.019181406125426,0.093162596225739,-0.162176579236984,-0.009005637839437,0.388024121522903,-0.191250890493393,0.071372114121914,-0.060870751738548,-0.242862597107887,-0.152383476495743,0.072736017405987,-0.131352469325066,0.062697999179363,0.121906630694866));
res += mul(Get(s2,-dx,-dy), float4x4(-0.140664607286453,0.193796217441559,0.058034639805555,-0.081119365990162,0.088284999132156,-0.051055915653706,0.069366753101349,0.006924269255251,-0.097372002899647,-0.023633847013116,-0.190343067049980,0.038198858499527,0.055914927273989,-0.174032315611839,-0.040700644254684,0.510314345359802));
res += mul(Get(s2,-dx,0), float4x4(-0.096976853907108,0.117729254066944,0.178020820021629,-0.168065741658211,0.127048179507256,-0.142499074339867,0.028207181021571,0.072990171611309,-0.115970067679882,-0.017831128090620,-0.057679597288370,0.141848132014275,0.157039299607277,-0.034847389906645,-0.105455867946148,0.005362799856812));
res += mul(Get(s2,-dx,dy), float4x4(-0.081632077693939,-0.227588608860970,0.183982640504837,-0.101070269942284,0.155757665634155,-0.024227136746049,-0.037495754659176,-0.019530933350325,0.074200406670570,0.037665452808142,-0.121106006205082,-0.106673158705235,0.140777871012688,0.016046425327659,-0.160583645105362,-0.100858151912689));
res += mul(Get(s2,0,-dy), float4x4(-0.086689047515392,-0.009248688817024,-0.023102119565010,-0.147233411669731,0.095829598605633,-0.076566040515900,0.013228724710643,-0.038442969322205,0.036020960658789,-0.057581983506680,-0.097409680485725,0.157462403178215,-0.139695152640343,0.181911006569862,-0.088419876992702,0.187509462237358));
res += mul(Get(s2,0,0), float4x4(-0.095556862652302,0.257897049188614,0.015226980671287,0.063692241907120,0.120796345174313,-0.147211715579033,0.008699688129127,0.110732726752758,-0.068737216293812,-0.058180555701256,-0.090402036905289,-0.090383499860764,-0.015421695075929,0.109507769346237,-0.164514943957329,0.063466884195805));
res += mul(Get(s2,0,dy), float4x4(-0.024208197370172,0.037071954458952,0.168745607137680,0.275685548782349,0.086779661476612,-0.059987995773554,-0.085825115442276,0.035617329180241,-0.108831018209457,-0.037704627960920,-0.130410388112068,-0.189016699790955,0.052733127027750,-0.041242219507694,-0.243356421589851,0.015817031264305));
res += mul(Get(s2,dx,-dy), float4x4(0.061440523713827,-0.124424517154694,0.021823972463608,-0.082528002560139,-0.023523226380348,-0.045177325606346,-0.024398174136877,-0.080664537847042,0.249298185110092,0.077812448143959,0.157187804579735,0.213911265134811,0.065676249563694,0.232942476868629,-0.222331434488297,-0.097576662898064));
res += mul(Get(s2,dx,0), float4x4(-0.001686008297838,0.106518171727657,-0.004538383800536,0.128520026803017,-0.067808210849762,-0.076505579054356,0.016230346634984,0.053611554205418,0.090305268764496,-0.015821952372789,-0.030462574213743,0.047221884131432,-0.082002960145473,-0.048239976167679,0.170798689126968,-0.038788966834545));
res += mul(Get(s2,dx,dy), float4x4(-0.133872225880623,0.035792145878077,-0.124415755271912,0.077410176396370,-0.065564423799515,-0.078097492456436,-0.128613620996475,0.037492863833904,-0.175517052412033,-0.004888185299933,-0.086860209703445,-0.191827341914177,-0.097783721983433,-0.224076807498932,0.253515362739563,0.162032619118690));
res += mul(Get(s3,-dx,-dy), float4x4(-0.063938207924366,0.015055160038173,-0.015670366585255,-0.043606974184513,-0.037583600729704,-0.015590909868479,0.024568323045969,0.072256617248058,-0.115955777466297,-0.123136408627033,-0.036553800106049,-0.148563399910927,-0.040778666734695,-0.015566498972476,-0.049061775207520,-0.054392665624619));
res += mul(Get(s3,-dx,0), float4x4(-0.035795331001282,0.041175540536642,-0.016926934942603,-0.032340139150620,0.122480288147926,0.008081588894129,0.017482198774815,0.031311146914959,-0.010117872618139,0.080366648733616,-0.086593084037304,-0.129506349563599,-0.113335855305195,0.105632737278938,-0.033005487173796,-0.031997982412577));
res += mul(Get(s3,-dx,dy), float4x4(-0.060477670282125,0.043908663094044,-0.003863175865263,-0.017855398356915,0.178710579872131,0.045269012451172,-0.007268785033375,0.100861474871635,-0.010299414396286,0.181071162223816,-0.053195513784885,0.135742768645287,-0.174350738525391,0.069051638245583,0.116377249360085,0.052673339843750));
res += mul(Get(s3,0,-dy), float4x4(-0.083922259509563,-0.006830131635070,-0.016337459906936,-0.045665320008993,-0.181842371821404,-0.037974558770657,0.049908883869648,0.080918587744236,-0.062896989285946,-0.184402197599411,-0.043759234249592,-0.087443485856056,-0.198907598853111,-0.044246435165405,0.015347499400377,-0.108224324882030));
res += mul(Get(s3,0,0), float4x4(0.000673010363244,0.026506556198001,0.003185292938724,-0.028575887903571,-0.058381900191307,0.012745126150548,0.013246575370431,0.097592256963253,-0.088002011179924,-0.062786325812340,-0.012559488415718,-0.103522017598152,-0.220739975571632,0.045482043176889,-0.032987643033266,-0.073365449905396));
res += mul(Get(s3,0,dy), float4x4(0.028700184077024,0.009301153011620,0.007153483573347,-0.035638786852360,0.047135181725025,0.013921350240707,-0.017483025789261,0.149210333824158,0.025520276278257,-0.023447481915355,-0.025447258725762,0.149360075592995,-0.265325188636780,-0.020893886685371,0.027181848883629,0.016722979024053));
res += mul(Get(s3,dx,-dy), float4x4(-0.032631017267704,-0.017530228942633,-0.036427889019251,-0.077746063470840,-0.134878352284431,-0.016196087002754,0.025024563074112,-0.087237007915974,-0.283643990755081,-0.080824904143810,0.008132163435221,-0.047514647245407,-0.171999007463455,-0.052956677973270,-0.005545155610889,-0.118607304990292));
res += mul(Get(s3,dx,0), float4x4(0.020713295787573,-0.009941929019988,-0.057456079870462,-0.037679743021727,-0.093665562570095,0.025327991694212,-0.010010232217610,-0.091245971620083,-0.153570994734764,0.013170986436307,0.031238052994013,0.011921755969524,-0.147558525204659,-0.004154894035310,-0.108524546027184,-0.097333252429962));
res += mul(Get(s3,dx,dy), float4x4(0.061788097023964,-0.021321179345250,-0.071420989930630,-0.007794726174325,0.005871015135199,0.000178104237420,-0.042789582163095,-0.069957964122295,0.196102455258369,-0.102020241320133,0.015923796221614,0.309047669172287,-0.092910557985306,-0.031386960297823,-0.014916189946234,0.086117446422577));
return max(float4(0,0,0,0), res);
}
