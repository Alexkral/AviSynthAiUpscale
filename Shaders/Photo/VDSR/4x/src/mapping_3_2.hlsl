sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.106325380504131,0.017109896987677,-0.001385480165482,0.051069185137749,0.112981565296650,0.038858123123646,-0.138167440891266,-0.076657153666019,0.006749784108251,-0.091674700379372,0.181367188692093,0.161823719739914,-0.015451510436833,-0.224368095397949,-0.064896091818810,-0.121550709009171));
res += mul(Get(s0,-dx,0), float4x4(-0.013060114346445,0.011117435991764,-0.083702743053436,-0.067540496587753,0.136904194951057,0.083385050296783,0.023439440876245,0.037853736430407,-0.080300532281399,0.032402057200670,-0.084544673562050,0.081605687737465,0.157107785344124,0.064127855002880,0.051041472703218,0.157082185149193));
res += mul(Get(s0,-dx,dy), float4x4(-0.094882130622864,0.054621573537588,0.007153470534831,-0.070127680897713,0.057122040539980,-0.136918649077415,0.189486116170883,-0.033539529889822,-0.079912491142750,0.134419351816177,0.056189414113760,-0.086165115237236,0.129609689116478,0.130917474627495,-0.027175283059478,0.019469743594527));
res += mul(Get(s0,0,-dy), float4x4(0.111995540559292,0.036348178982735,0.040568467229605,-0.057120960205793,0.147884294390678,-0.014497750438750,-0.168265536427498,-0.196033164858818,0.140108630061150,-0.064282648265362,0.127827256917953,-0.035878404974937,0.250534415245056,0.083950154483318,-0.028329962864518,-0.074836105108261));
res += mul(Get(s0,0,0), float4x4(0.042319707572460,0.148238360881805,0.035370741039515,-0.041833408176899,-0.287086606025696,0.077185064554214,-0.029506480321288,0.156586050987244,-0.105241782963276,0.077647566795349,-0.250026226043701,-0.039447519928217,-0.221312463283539,-0.062756977975368,0.120192512869835,0.162838056683540));
res += mul(Get(s0,0,dy), float4x4(0.095600292086601,0.018518801778555,0.094563916325569,-0.209950074553490,-0.095657557249069,-0.013516047969460,-0.120099395513535,-0.105470411479473,0.012234569527209,-0.034598294645548,-0.259357303380966,0.243721514940262,0.005670279264450,0.022262988612056,-0.099776856601238,-0.018264561891556));
res += mul(Get(s0,dx,-dy), float4x4(0.005657402332872,-0.019525580108166,-0.029534932225943,0.207963570952415,-0.080621659755707,-0.098140567541122,0.064180009067059,0.049801237881184,0.063758261501789,-0.199340000748634,-0.051821667701006,-0.062447685748339,0.195162072777748,-0.058134235441685,0.022540481761098,0.308077216148376));
res += mul(Get(s0,dx,0), float4x4(0.033806871622801,-0.043301429599524,0.119430884718895,0.211086705327034,0.062699876725674,-0.002671539783478,0.134875506162643,0.011097704991698,0.141046792268753,-0.099321216344833,0.054499551653862,-0.019249532371759,0.053007259964943,0.004185571800917,-0.071305058896542,-0.105437211692333));
res += mul(Get(s0,dx,dy), float4x4(-0.080247513949871,-0.054049927741289,0.071144878864288,-0.111489154398441,0.221066176891327,0.063092619180679,-0.034437421709299,-0.019838845357299,-0.152596294879913,-0.007450683042407,-0.044049743562937,0.093967683613300,-0.064389362931252,0.071114845573902,-0.108027182519436,-0.071577697992325));
res += mul(Get(s1,-dx,-dy), float4x4(-0.143696725368500,0.055178716778755,0.098410226404667,-0.086031258106232,0.096738740801811,0.205550134181976,0.219223126769066,0.053511366248131,0.024159070104361,0.062967322766781,-0.071732312440872,0.014335880056024,-0.058540143072605,-0.049107380211353,-0.077827610075474,0.257831752300262));
res += mul(Get(s1,-dx,0), float4x4(-0.254996865987778,0.136690407991409,-0.169544562697411,0.123724661767483,0.090103954076767,-0.082017078995705,0.000926050182898,-0.081806540489197,-0.122848384082317,0.169560328125954,-0.130347236990929,0.075953774154186,-0.004526884760708,-0.040042854845524,0.069285415112972,0.019226429983974));
res += mul(Get(s1,-dx,dy), float4x4(-0.085192285478115,-0.057194381952286,0.055036369711161,0.136195331811905,-0.112670384347439,-0.150063425302505,-0.164060607552528,0.264556527137756,0.194343939423561,-0.044607412070036,-0.137158349156380,-0.080581411719322,0.205479174852371,-0.147899016737938,-0.186717376112938,0.014356286264956));
res += mul(Get(s1,0,-dy), float4x4(-0.098130308091640,0.091012336313725,-0.042457133531570,-0.246186137199402,0.050911620259285,-0.123795412480831,-0.032584059983492,0.055473629385233,0.007347114384174,-0.171721369028091,-0.178724825382233,-0.068142741918564,-0.021501613780856,0.024907205253839,-0.016105145215988,0.063581332564354));
res += mul(Get(s1,0,0), float4x4(-0.208690702915192,-0.009719645604491,-0.275929361581802,0.108039848506451,-0.183192566037178,-0.124679997563362,-0.065184220671654,-0.134807541966438,0.064102850854397,0.045158188790083,0.026356156915426,0.036749567836523,0.023764261975884,-0.130396887660027,0.148787111043930,-0.036319106817245));
res += mul(Get(s1,0,dy), float4x4(-0.006304873619229,0.048030596226454,0.076936572790146,0.012367065064609,0.030339866876602,0.068049237132072,-0.027917860075831,-0.086762905120850,-0.048320993781090,-0.011303593404591,-0.089217975735664,-0.062053479254246,-0.058789674192667,0.026695707812905,-0.068919166922569,0.092600420117378));
res += mul(Get(s1,dx,-dy), float4x4(0.188431933522224,-0.022878674790263,0.063513673841953,-0.001223724801093,0.004148874431849,0.144932255148888,-0.060590703040361,-0.069330401718616,0.078106075525284,0.239988654851913,-0.113829471170902,0.189532652497292,-0.138664737343788,0.026338050141931,-0.153200984001160,0.097341924905777));
res += mul(Get(s1,dx,0), float4x4(0.046303030103445,0.061277553439140,0.008050222881138,-0.036283876746893,-0.169143065810204,0.060628488659859,0.173683926463127,0.070715278387070,-0.092163197696209,0.006942551583052,-0.006089146248996,-0.180413305759430,-0.199446961283684,-0.153987511992455,-0.137716025114059,-0.135516449809074));
res += mul(Get(s1,dx,dy), float4x4(-0.039375390857458,-0.152230799198151,0.151515379548073,0.027054790407419,-0.168384507298470,0.026597449555993,0.046727407723665,0.153572097420692,-0.121641092002392,0.122528478503227,-0.219459623098373,0.009038967080414,0.114523075520992,0.114031679928303,-0.086393274366856,-0.190847694873810));
res += mul(Get(s2,-dx,-dy), float4x4(0.151493832468987,-0.007727037649602,0.047559864819050,-0.109044134616852,-0.155449062585831,-0.008542875759304,0.077096931636333,-0.159570842981339,0.191393837332726,-0.178736746311188,-0.022071126848459,0.035699643194675,0.006882139015943,-0.190924540162086,-0.074280105531216,0.020990723744035));
res += mul(Get(s2,-dx,0), float4x4(-0.030880192294717,-0.052906021475792,-0.053563382476568,0.275763899087906,0.134021803736687,-0.060586702078581,0.012343154288828,0.044423066079617,0.172782018780708,-0.012739509344101,0.028576929122210,-0.227391496300697,0.001438122126274,0.190133333206177,-0.235625863075256,0.209737062454224));
res += mul(Get(s2,-dx,dy), float4x4(-0.027443727478385,0.098498247563839,-0.046377640217543,0.182369381189346,0.205623015761375,-0.050147477537394,0.129104822874069,0.212138429284096,0.117186263203621,0.309920728206635,-0.093854054808617,0.253376543521881,-0.042866498231888,0.155511185526848,0.009624277241528,0.021316105499864));
res += mul(Get(s2,0,-dy), float4x4(-0.020542081445456,0.088293246924877,0.133620202541351,0.131584569811821,0.067158661782742,0.032635599374771,0.062986366450787,0.103328704833984,-0.042124029248953,-0.253458052873611,-0.018835954368114,0.094137907028198,0.148308798670769,-0.237987801432610,0.219821840524673,-0.001539206714369));
res += mul(Get(s2,0,0), float4x4(0.025206040591002,0.152067288756371,-0.012577019631863,-0.073063224554062,-0.245644971728325,0.079260140657425,0.080667719244957,-0.095095932483673,0.129600688815117,0.111166790127754,-0.031897000968456,-0.109356559813023,-0.196102753281593,0.104466363787651,0.071375839412212,-0.000018495336917));
res += mul(Get(s2,0,dy), float4x4(-0.086334362626076,-0.110982999205589,0.128086894750595,-0.041572138667107,-0.079760059714317,-0.049303427338600,0.031232669949532,-0.310915470123291,-0.040093284100294,-0.191669553518295,0.106787674129009,-0.080706037580967,0.087226845324039,0.235766947269440,0.151452660560608,0.119861833751202));
res += mul(Get(s2,dx,-dy), float4x4(0.021748296916485,-0.052980810403824,0.004907307215035,0.114676780998707,-0.003376628737897,0.028933035209775,-0.127516373991966,0.116773508489132,0.143049508333206,-0.159509167075157,0.035566981881857,-0.101156234741211,0.056735396385193,-0.084816873073578,-0.034760273993015,-0.062182571738958));
res += mul(Get(s2,dx,0), float4x4(-0.024688271805644,0.142172589898109,-0.152931824326515,0.011570436879992,0.117427729070187,0.071476288139820,-0.092114299535751,0.095281608402729,-0.061582941561937,0.111972309648991,0.114817306399345,0.092710718512535,0.030982892960310,0.235081657767296,0.016567403450608,0.035452608019114));
res += mul(Get(s2,dx,dy), float4x4(-0.224714145064354,-0.162361249327660,0.136717319488525,0.069921843707561,0.080164931714535,-0.210405707359314,-0.044184446334839,-0.022227872163057,0.027762675657868,0.047529108822346,0.123663581907749,0.175979331135750,0.137209251523018,-0.032084044069052,0.010570879094303,0.017717540264130));
res += mul(Get(s3,-dx,-dy), float4x4(0.006575024221092,-0.096274085342884,-0.057433843612671,-0.078653447329998,0.018900487571955,-0.243401348590851,0.070169620215893,-0.044780734926462,0.124411903321743,0.000041521736421,0.146845072507858,-0.014493563212454,-0.118003442883492,-0.007234238553792,0.057618059217930,-0.172886386513710));
res += mul(Get(s3,-dx,0), float4x4(0.018329521641135,-0.242091566324234,0.103189706802368,-0.160403668880463,-0.052896007895470,-0.088405899703503,-0.179298698902130,-0.240514352917671,-0.031093075871468,-0.110929757356644,-0.172825843095779,0.027726365253329,-0.096813961863518,0.111010238528252,-0.008922153152525,-0.081111833453178));
res += mul(Get(s3,-dx,dy), float4x4(0.063319206237793,-0.191161185503006,-0.010284602642059,-0.028073986992240,0.062304228544235,0.070750512182713,-0.109454385936260,-0.165914610028267,-0.081255778670311,0.031211378052831,-0.120050080120564,-0.008337486535311,0.058600634336472,0.170794218778610,0.080977611243725,0.083529099822044));
res += mul(Get(s3,0,-dy), float4x4(-0.160390794277191,-0.112779714167118,0.056807406246662,0.037919115275145,0.104570478200912,-0.028256962075830,-0.043650619685650,-0.002219087444246,0.037950556725264,-0.020804736763239,0.041326608508825,-0.020483260974288,-0.243340626358986,-0.161494493484497,0.014263698831201,0.393878310918808));
res += mul(Get(s3,0,0), float4x4(0.003287793137133,0.078708492219448,0.046327341347933,-0.191943064332008,-0.076830834150314,0.019521266222000,-0.112435415387154,0.124540686607361,-0.151562988758087,0.090864248573780,0.010316051542759,0.171631455421448,0.116083599627018,0.104271911084652,0.127465620636940,0.194601833820343));
res += mul(Get(s3,0,dy), float4x4(0.059703666716814,0.098788417875767,-0.079781688749790,0.024007631465793,0.014784169383347,0.098552957177162,-0.117324732244015,-0.232336729764938,-0.060765184462070,-0.218821197748184,0.020573616027832,-0.109753824770451,-0.014939158223569,-0.070866890251637,-0.026718808338046,0.047752086073160));
res += mul(Get(s3,dx,-dy), float4x4(0.013423359952867,-0.135637715458870,-0.045053429901600,0.108473591506481,-0.051255121827126,-0.074358709156513,0.038604177534580,0.131879791617393,-0.101154267787933,-0.114446207880974,0.179893836379051,0.183702394366264,0.159334063529968,0.092537611722946,-0.067455358803272,0.059057429432869));
res += mul(Get(s3,dx,0), float4x4(-0.062707662582397,-0.079174675047398,-0.134977191686630,-0.406797468662262,-0.153380423784256,0.032949529588223,0.074031107127666,-0.163053855299950,0.146074280142784,0.170166775584221,-0.097510196268559,0.167363762855530,-0.236472442746162,-0.021777320653200,-0.054965279996395,-0.054403770714998));
res += mul(Get(s3,dx,dy), float4x4(-0.223416298627853,-0.113659098744392,-0.085310712456703,-0.092270188033581,-0.218213126063347,-0.195869520306587,0.008909440599382,-0.048230167478323,0.244363620877266,0.071277238428593,-0.135762915015221,0.015305510722101,0.031225426122546,-0.145993441343307,-0.092290468513966,0.072338327765465));
return max(float4(0,0,0,0), res);
}
