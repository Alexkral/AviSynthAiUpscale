sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.001136243576184,-0.020606696605682,0.070904336869717,-0.005185448564589,0.031076284125447,-0.026669718325138,0.113874040544033,-0.135381340980530,-0.145392701029778,-0.053200062364340,0.059991870075464,0.047910615801811,-0.050184410065413,-0.033842261880636,-0.016236923635006,-0.111559554934502));
res += mul(Get(s0,-dx,0), float4x4(-0.108850024640560,0.023186104372144,0.074166841804981,0.311711728572845,-0.000549468561076,0.029830174520612,-0.049580302089453,-0.053098380565643,-0.012155786156654,-0.096559591591358,-0.036002188920975,0.185027331113815,-0.111359737813473,0.037567455321550,-0.047917187213898,-0.057067621499300));
res += mul(Get(s0,-dx,dy), float4x4(0.067021787166595,0.008425083011389,0.021412350237370,-0.176810055971146,0.108374483883381,0.116235993802547,-0.129297032952309,-0.085063263773918,-0.082269310951233,-0.111413672566414,-0.114123843610287,0.156224802136421,-0.055243670940399,0.015081369318068,-0.093804769217968,-0.143799841403961));
res += mul(Get(s0,0,-dy), float4x4(-0.026782555505633,-0.023552430793643,0.054129336029291,-0.038929816335440,-0.065533429384232,-0.054078623652458,-0.102363780140877,-0.126077905297279,-0.062067758291960,-0.163430258631706,0.014814614318311,0.110332123935223,-0.058405350893736,-0.053001794964075,0.045598074793816,-0.032170545309782));
res += mul(Get(s0,0,0), float4x4(-0.068517833948135,-0.018654327839613,-0.037344444543123,0.108811959624290,0.028819119557738,0.182086214423180,-0.098716869950294,-0.159197002649307,0.034866061061621,-0.127050817012787,0.014617723412812,-0.105649910867214,0.038904014974833,-0.110512070357800,0.001176977879368,0.035923860967159));
res += mul(Get(s0,0,dy), float4x4(-0.023796146735549,-0.123913697898388,-0.074656434357166,0.084160275757313,-0.121606819331646,0.063459195196629,-0.070371545851231,-0.173543468117714,-0.056753657758236,-0.096546411514282,0.139600440859795,0.003705631010234,0.068178780376911,0.022413449361920,-0.134557619690895,-0.022814966738224));
res += mul(Get(s0,dx,-dy), float4x4(0.083144962787628,-0.055197354406118,-0.048833481967449,-0.087837450206280,0.055189397186041,-0.052818939089775,-0.001399753149599,-0.027439957484603,-0.124552652239799,-0.045956842601299,-0.052074402570724,-0.031707037240267,0.024832535535097,-0.200163856148720,-0.028220091015100,-0.023291973397136));
res += mul(Get(s0,dx,0), float4x4(-0.170154571533203,-0.023135479539633,-0.009145184420049,-0.129681453108788,0.124824911355972,0.071589335799217,-0.162164285778999,-0.015579881146550,-0.052214443683624,-0.008308608084917,0.000722266733646,0.041080996394157,0.016644027084112,-0.165217712521553,-0.046324700117111,0.035815365612507));
res += mul(Get(s0,dx,dy), float4x4(0.037115108221769,-0.081851981580257,-0.070000573992729,0.078996956348419,0.197612166404724,-0.040902543812990,-0.165467396378517,-0.118942879140377,-0.072679907083511,-0.047360107302666,0.093809291720390,-0.007614969741553,0.073632195591927,0.069465063512325,-0.142275616526604,-0.136817738413811));
res += mul(Get(s1,-dx,-dy), float4x4(-0.187124446034431,0.083372555673122,0.060655158013105,0.027961365878582,-0.048004254698753,0.025466609746218,0.059036534279585,-0.123862527310848,0.120333828032017,-0.130884200334549,-0.020068801939487,-0.103302411735058,-0.001148614217527,0.023795556277037,-0.093728885054588,0.058729037642479));
res += mul(Get(s1,-dx,0), float4x4(-0.086861893534660,-0.023600881919265,0.002592972014099,-0.046518981456757,-0.084859497845173,-0.064714767038822,-0.033304985612631,-0.120974242687225,0.058834176510572,-0.139169260859489,-0.094908192753792,-0.063257679343224,0.014356098137796,0.152609378099442,-0.102712489664555,0.027009297162294));
res += mul(Get(s1,-dx,dy), float4x4(-0.067051798105240,-0.100297860801220,-0.028074510395527,-0.165860280394554,0.024354474619031,0.011467279866338,-0.067367337644100,-0.087984718382359,0.145341485738754,-0.113913729786873,-0.148196369409561,-0.069654069840908,-0.055377244949341,0.092179901897907,-0.018716130405664,0.034305397421122));
res += mul(Get(s1,0,-dy), float4x4(-0.097691692411900,0.115920864045620,-0.037795089185238,0.148970648646355,-0.037426680326462,0.177682727575302,-0.022174207493663,-0.012406998313963,0.018808944150805,0.039861313998699,-0.057761725038290,0.057079490274191,0.013924364931881,0.038709994405508,0.026139261201024,0.167843967676163));
res += mul(Get(s1,0,0), float4x4(-0.039294991642237,-0.034283652901649,-0.027939733117819,0.028855536133051,-0.004106138367206,0.001792460796423,0.108048200607300,0.046167362481356,0.041878778487444,-0.056490104645491,-0.039944052696228,0.103517152369022,0.033698305487633,0.059648998081684,0.056434005498886,0.055613614618778));
res += mul(Get(s1,0,dy), float4x4(0.032704982906580,0.008448223583400,0.003065561875701,-0.025276195257902,0.073030799627304,0.185486719012260,0.020347200334072,-0.040294427424669,0.083553485572338,-0.096539497375488,-0.107133805751801,0.130174979567528,0.051577057689428,-0.046163618564606,0.090405583381653,0.028892276808619));
res += mul(Get(s1,dx,-dy), float4x4(0.043476287275553,-0.006831964012235,-0.081486411392689,0.068848498165607,0.047312282025814,-0.000672460475471,0.068969987332821,0.283341139554977,-0.062942177057266,0.022053672000766,-0.055432721972466,-0.021959638223052,-0.004834129009396,-0.011720569804311,0.015499277971685,-0.055815912783146));
res += mul(Get(s1,dx,0), float4x4(0.200216293334961,-0.172617644071579,-0.013338481076062,0.043000370264053,-0.042284969240427,-0.043111640959978,0.090128928422928,0.136144712567329,-0.077087439596653,-0.119008995592594,-0.080720938742161,0.091811791062355,0.059435155242682,-0.134585395455360,0.017026077955961,-0.161302074790001));
res += mul(Get(s1,dx,dy), float4x4(0.179431870579720,-0.161204278469086,-0.094767533242702,-0.009678953327239,-0.026730056852102,-0.042236223816872,-0.008666140958667,0.109121493995190,0.084470532834530,-0.169956862926483,-0.143276244401932,0.018556535243988,0.133768066763878,0.022991867735982,0.002108300337568,-0.141375213861465));
res += mul(Get(s2,-dx,-dy), float4x4(0.045011088252068,0.034417785704136,0.140527218580246,-0.158473178744316,0.059866081923246,-0.055803846567869,0.141430333256721,-0.033716809004545,0.027000930160284,-0.056762509047985,0.058509629219770,0.021958783268929,0.074614971876144,0.048274949193001,0.070452541112900,0.049582704901695));
res += mul(Get(s2,-dx,0), float4x4(0.018912058323622,-0.127475768327713,-0.007428585086018,-0.146521136164665,-0.033313151448965,-0.041527248919010,0.040130905807018,0.029823556542397,-0.052330981940031,-0.086511723697186,0.004259103443474,-0.089428409934044,0.142054751515388,0.030761007219553,0.050767149776220,0.165255054831505));
res += mul(Get(s2,-dx,dy), float4x4(0.013104826211929,-0.072511844336987,-0.104291260242462,-0.028656804934144,-0.001368312397972,0.120763428509235,-0.090138547122478,-0.044992517679930,-0.048190735280514,-0.089178100228310,0.161877006292343,0.040071826428175,0.001402449677698,-0.019591649994254,0.031476203352213,-0.083965413272381));
res += mul(Get(s2,0,-dy), float4x4(0.104720480740070,0.279448807239532,0.130778834223747,-0.156631752848625,0.118601843714714,0.032768178731203,0.058002013713121,-0.088876418769360,0.192347079515457,-0.071371868252754,-0.051967736333609,0.035885635763407,-0.094655573368073,-0.001365324482322,0.004440781660378,-0.057445682585239));
res += mul(Get(s2,0,0), float4x4(0.022063612937927,0.026487113907933,-0.054994028061628,-0.123140707612038,-0.038892246782780,0.001519802375697,-0.021088588982821,-0.004687704145908,0.096483588218689,-0.111150689423084,-0.174861297011375,-0.094034917652607,-0.081438302993774,-0.055248204618692,-0.044977515935898,0.001489520771429));
res += mul(Get(s2,0,dy), float4x4(0.051986645907164,0.137453436851501,-0.068006642162800,0.029116164892912,0.058010667562485,0.179997488856316,-0.094751484692097,-0.072736434638500,0.025514783337712,-0.192733630537987,0.258732438087463,0.055235218256712,-0.092197015881538,0.094265788793564,0.029365582391620,-0.087509356439114));
res += mul(Get(s2,dx,-dy), float4x4(0.054837372153997,0.024692822247744,0.005288602318615,-0.166595444083214,0.004576284438372,-0.018511636182666,-0.026208085939288,-0.041355937719345,-0.057644873857498,-0.055438492447138,0.040465552359819,-0.027682121843100,-0.019129149615765,0.108185261487961,-0.086096324026585,0.091616556048393));
res += mul(Get(s2,dx,0), float4x4(0.015576224774122,-0.113798275589943,-0.053111191838980,-0.014034365303814,-0.173917591571808,0.004135607741773,0.003774628043175,0.115145005285740,-0.136160656809807,-0.093265086412430,0.071589440107346,0.026696996763349,0.050614595413208,0.031071085482836,-0.080324664711952,0.089293412864208));
res += mul(Get(s2,dx,dy), float4x4(-0.091211281716824,0.048403386026621,-0.138722896575928,0.118053488433361,-0.147928103804588,0.029806450009346,-0.048609387129545,-0.204941257834435,-0.092785626649857,-0.141942888498306,0.048884298652411,-0.085300110280514,-0.049358647316694,0.193987235426903,-0.006976314354688,-0.039950340986252));
res += mul(Get(s3,-dx,-dy), float4x4(-0.058831971138716,0.031861059367657,-0.030564485117793,-0.126049548387527,0.201757952570915,0.193809837102890,-0.077509716153145,-0.069764330983162,-0.117661848664284,0.042320080101490,0.120036102831364,-0.068065322935581,0.065529465675354,-0.023676251992583,0.089324757456779,-0.156620144844055));
res += mul(Get(s3,-dx,0), float4x4(-0.057538196444511,-0.024568226188421,0.055834077298641,0.107016265392303,0.074999682605267,-0.010635600425303,-0.084995768964291,0.020908443257213,-0.120211757719517,-0.088060632348061,0.037403434514999,0.046210382133722,-0.069731563329697,-0.047180652618408,0.018115527927876,0.059300426393747));
res += mul(Get(s3,-dx,dy), float4x4(-0.052638359367847,-0.057863693684340,0.091042749583721,0.077543556690216,-0.077944613993168,0.058658294379711,-0.050466261804104,-0.161474049091339,0.043444517999887,0.044210154563189,-0.051862716674805,0.086003102362156,-0.109601974487305,-0.098743520677090,-0.010551628656685,0.038969863206148));
res += mul(Get(s3,0,-dy), float4x4(0.056463688611984,0.045688565820456,0.077779516577721,-0.054469719529152,-0.028484439477324,0.016655802726746,-0.157201305031776,0.008227773942053,0.022724449634552,-0.011117878369987,-0.077254533767700,-0.064640983939171,0.073951214551926,0.082888074219227,0.058904215693474,-0.161746487021446));
res += mul(Get(s3,0,0), float4x4(0.057051554322243,0.083889208734035,-0.038396287709475,0.224157482385635,-0.049225468188524,-0.043764151632786,-0.065209157764912,-0.010039478540421,-0.091996639966965,0.005412641912699,-0.026301329955459,-0.007377532776445,0.091233745217323,0.118057854473591,-0.042520273476839,-0.117915719747543));
res += mul(Get(s3,0,dy), float4x4(-0.053291298449039,-0.121163964271545,-0.015043319202960,0.062780812382698,-0.079646803438663,0.025016667321324,-0.080846235156059,0.099616497755051,0.013289186172187,0.104373291134834,-0.055120442062616,-0.036719966679811,0.294276922941208,0.177928492426872,0.020807415246964,-0.153366804122925));
res += mul(Get(s3,dx,-dy), float4x4(-0.063913770020008,0.073874615132809,0.253764390945435,-0.052282199263573,-0.051883466541767,-0.158479034900665,-0.056520912796259,0.090720161795616,-0.111624121665955,0.160043761134148,0.055145569145679,-0.030697008594871,-0.050191231071949,-0.003687166376039,0.043531909584999,-0.029664497822523));
res += mul(Get(s3,dx,0), float4x4(-0.028193658217788,0.108523860573769,0.074119292199612,0.152033552527428,-0.023466197773814,-0.100922025740147,-0.022726094350219,-0.003434886457399,-0.174145191907883,0.271728754043579,0.116220422089100,0.041286751627922,0.143543392419815,0.061537940055132,-0.062010802328587,-0.000768314930610));
res += mul(Get(s3,dx,dy), float4x4(-0.057974524796009,-0.008253602311015,0.061056256294250,0.065581470727921,0.044545885175467,-0.115043587982655,0.132310062646866,0.080556511878967,-0.007151943631470,0.060912188142538,0.064946778118610,0.054022744297981,-0.005495965480804,-0.045017495751381,-0.129105031490326,-0.007416876964271));
return max(float4(0,0,0,0), res);
}
