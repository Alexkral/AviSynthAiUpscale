sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.118173994123936,-0.298863559961319,0.067198164761066,0.039219673722982) * Get(-dx,-dy);
res += float4(-0.097691029310226,-0.020832704380155,-0.138831168413162,-0.094515927135944) * Get(-dx,0);
res += float4(-0.021478343755007,-0.078191310167313,0.065197214484215,-0.111070454120636) * Get(-dx,dy);
res += float4(0.011081459932029,-0.162315264344215,-0.073388226330280,-0.032547071576118) * Get(0,-dy);
res += float4(0.039199482649565,0.068117231130600,0.043496448546648,0.033714167773724) * Get(0,0);
res += float4(-0.173944592475891,-0.254726827144623,-0.112365961074829,0.029704753309488) * Get(0,dy);
res += float4(0.001574966707267,0.201056271791458,-0.008378449827433,-0.044940721243620) * Get(dx,-dy);
res += float4(-0.060281626880169,0.336502104997635,-0.088325574994087,-0.067851014435291) * Get(dx,0);
res += float4(0.082212314009666,0.307270914316177,-0.145268514752388,-0.084617540240288) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
