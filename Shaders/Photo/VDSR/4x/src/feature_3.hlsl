sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.008014492690563,-0.084192939102650,-0.008512335829437,-0.891318917274475) * Get(-dx,-dy);
res += float4(0.005260701291263,0.004051947034895,-0.004370651207864,2.422137975692749) * Get(-dx,0);
res += float4(-0.010141949169338,0.047066394239664,0.007761576212943,0.672896683216095) * Get(-dx,dy);
res += float4(-0.002867707982659,-0.099974885582924,-0.010499561205506,-0.649609446525574) * Get(0,-dy);
res += float4(0.004629113711417,0.015730425715446,-0.006343027576804,0.455661177635193) * Get(0,0);
res += float4(-0.013291356153786,0.048564184457064,0.007927976548672,-0.568905711174011) * Get(0,dy);
res += float4(-0.009029519744217,-0.087719045579433,-0.013634091243148,0.509724318981171) * Get(dx,-dy);
res += float4(-0.009503175504506,-0.011991570703685,-0.006593587342650,-1.060401439666748) * Get(dx,0);
res += float4(-0.005077518988401,0.008810530416667,-0.003968366887420,-0.103608407080173) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
