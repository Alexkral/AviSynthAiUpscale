sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.071435213088989,-0.251376867294312,-0.081401370465755,0.029280278831720,-0.040050748735666,0.033239591866732,-0.026417257264256,-0.100666135549545,-0.068643286824226,-0.020297659561038,-0.074862286448479,-0.082094043493271,-0.190944358706474,-0.080857358872890,-0.097260162234306,-0.165450260043144));
res += mul(Get(s0,-dx,0), float4x4(0.187841251492500,-0.094607748091221,-0.017177447676659,-0.172274291515350,-0.052081044763327,-0.014377461746335,-0.029241036623716,0.044731706380844,-0.142118975520134,0.068306356668472,-0.008491789922118,-0.024858726188540,0.126757353544235,-0.236131995916367,-0.190191850066185,-0.192973256111145));
res += mul(Get(s0,-dx,dy), float4x4(0.014358199201524,0.134744167327881,-0.044178489595652,0.172878518700600,-0.013359530828893,0.072112500667572,0.039808720350266,0.058948848396540,-0.168944075703621,0.091878943145275,0.110430315136909,0.081390298902988,-0.087395429611206,-0.073409870266914,-0.120916575193405,-0.118743501603603));
res += mul(Get(s0,0,-dy), float4x4(0.039300549775362,-0.152163192629814,0.021820383146405,-0.064522683620453,0.172055706381798,0.061770685017109,-0.025365866720676,0.093792952597141,-0.196923956274986,0.147551760077477,-0.043667238205671,-0.142146140336990,-0.017876498401165,-0.061928074806929,0.025053100660443,-0.259254872798920));
res += mul(Get(s0,0,0), float4x4(-0.072243981063366,0.100176289677620,0.108124464750290,-0.180922493338585,0.028651969507337,0.012427875772119,-0.027854034677148,0.062290195375681,0.124105654656887,0.036410979926586,0.055207267403603,-0.156781360507011,-0.098728999495506,-0.118132539093494,0.129911601543427,-0.103952795267105));
res += mul(Get(s0,0,dy), float4x4(0.034390442073345,0.132026553153992,0.010545651428401,-0.142590373754501,0.124414876103401,0.008790604770184,0.094552636146545,0.063765846192837,-0.165212318301201,-0.043355666100979,0.110263220965862,0.001597711932845,0.056742765009403,0.033172622323036,0.118592292070389,-0.042379818856716));
res += mul(Get(s0,dx,-dy), float4x4(-0.113752439618111,-0.098730966448784,0.109688639640808,-0.031157182529569,0.038206417113543,0.054475720971823,-0.048519600182772,-0.067659750580788,0.004406557418406,0.003117286600173,0.172557890415192,-0.052079498767853,-0.044509157538414,-0.042808402329683,0.148459538817406,-0.105426684021950));
res += mul(Get(s0,dx,0), float4x4(0.030029822140932,0.036504983901978,0.139305546879768,-0.078161969780922,0.019160417839885,0.148795932531357,-0.000165118195582,0.078033924102783,0.169071331620216,-0.086898818612099,-0.042428728193045,-0.172639518976212,-0.015068938024342,-0.090717464685440,0.251728117465973,0.089948102831841));
res += mul(Get(s0,dx,dy), float4x4(0.009290129877627,0.027274250984192,0.000131764667458,-0.082586236298084,0.013430307619274,0.171433210372925,-0.180305615067482,-0.065891481935978,-0.183335021138191,0.142601668834686,-0.055037844926119,0.124182969331741,-0.023112148046494,-0.016744682565331,0.125510379672050,0.011650474742055));
res += mul(Get(s1,-dx,-dy), float4x4(0.174006402492523,-0.129619404673576,-0.042759992182255,-0.243554294109344,-0.005329040344805,-0.102959677577019,0.000004310957593,-0.046192970126867,0.075754411518574,-0.064689010381699,0.075030468404293,0.081959478557110,-0.047979719936848,-0.109144523739815,0.210799694061279,0.242316395044327));
res += mul(Get(s1,-dx,0), float4x4(0.159249082207680,-0.170990854501724,-0.102950103580952,0.017299568280578,0.171847656369209,-0.149968400597572,0.009777364321053,-0.090979531407356,0.208982706069946,0.269017666578293,-0.070896312594414,-0.105876125395298,-0.001188502763398,0.031910199671984,0.311436921358109,0.129907548427582));
res += mul(Get(s1,-dx,dy), float4x4(0.022605529054999,-0.007842281833291,0.081582285463810,-0.138936877250671,-0.077460274100304,0.007607691921294,0.033186376094818,0.195249348878860,0.097854383289814,0.163743361830711,-0.099099837243557,0.095347620546818,0.042851552367210,0.181342586874962,0.157082825899124,-0.046977590769529));
res += mul(Get(s1,0,-dy), float4x4(-0.103169985115528,0.024786688387394,0.014995848760009,0.042889699339867,0.004092277958989,0.125537291169167,-0.017474131658673,-0.004918299149722,0.084538899362087,0.035460084676743,0.009625160135329,-0.064416326582432,0.029011530801654,-0.009518831036985,-0.096201390028000,0.075388051569462));
res += mul(Get(s1,0,0), float4x4(-0.048084031790495,0.028685068711638,0.014610827900469,0.019679130986333,0.037393618375063,0.003325012279674,-0.011419603601098,0.085272699594498,-0.170327499508858,0.064480699598789,0.034379184246063,-0.103460341691971,0.010639213956892,0.032365232706070,-0.044278766959906,-0.086289770901203));
res += mul(Get(s1,0,dy), float4x4(-0.112844206392765,-0.172156170010567,0.176951467990875,-0.050686430186033,-0.121203407645226,-0.045520268380642,-0.130269333720207,-0.162767395377159,0.142525196075439,-0.173551455140114,0.040226984769106,0.055486302822828,0.044299069792032,-0.108358025550842,-0.050469767302275,0.030798884108663));
res += mul(Get(s1,dx,-dy), float4x4(0.110182911157608,-0.094025149941444,-0.081337057054043,0.094208955764771,0.125166639685631,0.028640341013670,-0.198517680168152,-0.033125530928373,-0.089542947709560,0.054204318672419,-0.046805512160063,-0.061305921524763,-0.112880788743496,0.025665659457445,0.169016912579536,-0.058472499251366));
res += mul(Get(s1,dx,0), float4x4(-0.167130202054977,-0.120699644088745,0.033815536648035,-0.280290544033051,0.054175887256861,-0.111902639269829,-0.028097717091441,-0.106957226991653,-0.274466961622238,0.018615070730448,-0.000110626911919,-0.136355757713318,0.061196245253086,-0.292120128870010,-0.044856484979391,0.132096558809280));
res += mul(Get(s1,dx,dy), float4x4(0.048886299133301,-0.188844233751297,0.272069305181503,0.223093271255493,-0.078722685575485,-0.010994206182659,0.118432983756065,0.007344166282564,-0.095430098474026,-0.011407435871661,-0.038052279502153,-0.039526373147964,0.069550693035126,0.096557796001434,-0.012740754522383,-0.208888337016106));
res += mul(Get(s2,-dx,-dy), float4x4(-0.060817103832960,-0.003971095662564,0.098931998014450,0.148566395044327,-0.063292272388935,-0.040852393954992,0.147465929389000,-0.095948912203312,0.082420542836189,0.011853115633130,0.030898470431566,0.165453433990479,-0.221295952796936,-0.029978979378939,0.127628654241562,-0.039264298975468));
res += mul(Get(s2,-dx,0), float4x4(-0.036139491945505,-0.123326741158962,-0.080301955342293,-0.025410752743483,0.152548924088478,0.031943291425705,0.144401878118515,-0.026156682521105,-0.148754939436913,-0.064195588231087,-0.019129090011120,-0.001414027530700,-0.137082293629646,-0.080205373466015,0.189016193151474,-0.103389099240303));
res += mul(Get(s2,-dx,dy), float4x4(-0.042398530989885,0.071839511394501,0.056941941380501,0.033209290355444,-0.183687582612038,0.038939911872149,-0.005574105307460,-0.108012653887272,0.024755571037531,-0.042794682085514,-0.393412590026855,0.070022121071815,-0.155144602060318,-0.021639900282025,-0.044167403131723,0.031759049743414));
res += mul(Get(s2,0,-dy), float4x4(0.013755826279521,-0.111040331423283,0.085404999554157,0.088975124061108,0.075555212795734,-0.040668811649084,0.104087881743908,0.063482776284218,-0.107054948806763,-0.043582715094090,0.010812625288963,-0.076608613133430,0.107327491044998,-0.187844768166542,-0.119187630712986,0.150823652744293));
res += mul(Get(s2,0,0), float4x4(0.077056348323822,0.034580316394567,0.137104898691177,0.216568470001221,-0.014673165977001,0.091334931552410,-0.072534911334515,-0.062356151640415,0.096600212156773,0.017487313598394,-0.097660891711712,0.045978896319866,-0.140857994556427,0.077972352504730,0.042205568403006,0.128198131918907));
res += mul(Get(s2,0,dy), float4x4(-0.136921077966690,0.062610149383545,0.123826526105404,0.155372306704521,-0.006293273065239,-0.052496630698442,0.102365948259830,0.099728465080261,-0.181776985526085,-0.071773059666157,-0.046364434063435,0.109546959400177,-0.126487761735916,-0.088991500437260,0.069739364087582,-0.241311788558960));
res += mul(Get(s2,dx,-dy), float4x4(0.118472084403038,-0.072271287441254,0.003915207460523,0.004335130564868,-0.052544832229614,-0.100950777530670,0.171743646264076,-0.045840375125408,0.125186562538147,0.035692963749170,0.291768789291382,0.035409081727266,0.066502653062344,-0.162194430828094,-0.105686530470848,-0.059590805321932));
res += mul(Get(s2,dx,0), float4x4(-0.078205607831478,0.237909585237503,0.076002642512321,-0.040512710809708,0.050231076776981,0.097486153244972,-0.156132712960243,0.042294833809137,-0.017773726955056,-0.104222334921360,0.323113709688187,0.142711281776428,0.057100981473923,0.006954044569284,-0.003743393113837,-0.003625185927376));
res += mul(Get(s2,dx,dy), float4x4(0.167182520031929,-0.146820202469826,0.222012922167778,0.138690888881683,-0.114073865115643,0.187908142805099,0.073046356439590,0.057867936789989,-0.091708444058895,0.078496307134628,-0.095016017556190,0.167195588350296,0.033747881650925,0.057860456407070,-0.052048604935408,0.114456459879875));
res += mul(Get(s3,-dx,-dy), float4x4(-0.090352773666382,-0.096631802618504,-0.039180234074593,-0.189133957028389,0.002473439089954,-0.103379353880882,-0.044811319559813,-0.109757684171200,0.036756932735443,0.064210563898087,-0.024297088384628,-0.046010438352823,-0.119952857494354,-0.046073757112026,0.296680301427841,-0.099341787397861));
res += mul(Get(s3,-dx,0), float4x4(-0.058810345828533,-0.030341405421495,0.056933533400297,0.050316680222750,-0.133929342031479,-0.083304472267628,-0.162032604217529,-0.030473798513412,-0.052701771259308,0.124569520354271,-0.012114878743887,-0.006757078226656,-0.163281753659248,0.030274214223027,0.143108472228050,0.045254033058882));
res += mul(Get(s3,-dx,dy), float4x4(-0.216244861483574,-0.204300999641418,0.024220423772931,-0.132219731807709,-0.020928764715791,-0.035144995898008,0.026039848104119,-0.015232823789120,0.007070843130350,-0.028637152165174,-0.110907129943371,-0.095031104981899,-0.128949895501137,0.070667572319508,-0.104487195611000,-0.134331956505775));
res += mul(Get(s3,0,-dy), float4x4(-0.082423560321331,-0.191296473145485,-0.034561254084110,-0.000408122316003,0.098615273833275,0.044573932886124,0.042927026748657,-0.137222319841385,0.062352716922760,-0.097426593303680,-0.076423458755016,0.035101626068354,-0.115760117769241,-0.081213250756264,0.108438052237034,-0.006602515000850));
res += mul(Get(s3,0,0), float4x4(0.051909442991018,0.037383053451777,0.161521375179291,0.152928858995438,-0.160955831408501,0.080406837165356,0.086479760706425,0.044836938381195,0.060565453022718,-0.063699468970299,-0.091836601495743,0.072146750986576,-0.025652581825852,-0.024032196030021,0.069322735071182,0.173309087753296));
res += mul(Get(s3,0,dy), float4x4(0.080714963376522,-0.044674303382635,-0.177464604377747,-0.045638445764780,0.049252107739449,-0.184874489903450,0.130883976817131,0.102344922721386,-0.160316541790962,0.239022910594940,0.088427506387234,0.006063048727810,-0.008769289590418,0.032153766602278,-0.049250766634941,0.120677366852760));
res += mul(Get(s3,dx,-dy), float4x4(-0.210733786225319,-0.062027182430029,0.057426229119301,0.048947580158710,-0.026542155072093,-0.114305585622787,0.022261051461101,-0.012262491509318,-0.038230475038290,-0.134419769048691,0.056984934955835,-0.179283052682877,0.200612679123878,0.048639945685863,0.004373715259135,0.034553844481707));
res += mul(Get(s3,dx,0), float4x4(0.175362184643745,-0.058667305856943,0.168967455625534,0.170923769474030,0.001936957822181,0.077590398490429,0.172059789299965,-0.171649888157845,0.050627816468477,-0.218289420008659,-0.031751736998558,0.221160694956779,0.293756812810898,0.039748158305883,-0.103517778217793,0.101222805678844));
res += mul(Get(s3,dx,dy), float4x4(0.197746932506561,0.037861805409193,-0.083236932754517,0.100084409117699,0.004075953736901,0.052230559289455,0.010287928394973,-0.009670528583229,0.170979216694832,-0.123791791498661,0.125063315033913,-0.083506092429161,0.030164642259479,0.063143596053123,-0.010472778230906,0.070471569895744));
return max(float4(0,0,0,0), res);
}
