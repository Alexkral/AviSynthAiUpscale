sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.102408155798912,-0.035182517021894,-0.037666250020266,-0.031333930790424,0.003025164594874,0.036320015788078,-0.012707944959402,-0.011810884810984,-0.020161362364888,-0.105466872453690,0.087109178304672,-0.035173401236534,0.078867435455322,-0.083871223032475,-0.070990338921547,-0.045377083122730));
res += mul(Get(s0,-dx,0), float4x4(0.002142413053662,-0.006755144335330,-0.049438837915659,-0.111343972384930,-0.081382937729359,-0.070587217807770,-0.069834291934967,-0.047891657799482,0.024607889354229,-0.093421421945095,0.008078933693469,0.034090671688318,-0.069919183850288,0.175695985555649,0.126668363809586,-0.140109419822693));
res += mul(Get(s0,-dx,dy), float4x4(-0.042733941227198,-0.020778141915798,-0.004404618404806,0.043741349130869,-0.043577484786510,0.039048142731190,-0.083120748400688,-0.011176939122379,0.105227909982204,0.116820685565472,0.033676877617836,0.060949508100748,-0.057541035115719,-0.002669632900506,0.074953094124794,-0.056869726628065));
res += mul(Get(s0,0,-dy), float4x4(0.071115449070930,-0.102122314274311,0.159753650426865,0.040205687284470,-0.025578819215298,0.047884292900562,0.018125575035810,0.034920394420624,0.034533947706223,-0.074986085295677,-0.066228397190571,0.033569686114788,0.113015778362751,0.001329435268417,-0.097302019596100,-0.013223377056420));
res += mul(Get(s0,0,0), float4x4(-0.047156620770693,-0.081587679684162,0.119176365435123,0.012701655738056,-0.096587799489498,-0.112315475940704,0.158227860927582,0.037849344313145,0.084429584443569,-0.138670533895493,0.008099709637463,0.158691003918648,0.063465438783169,-0.032404799014330,0.012565939687192,-0.086233019828796));
res += mul(Get(s0,0,dy), float4x4(0.025040635839105,-0.132770791649818,0.139333456754684,0.049005582928658,-0.132126227021217,0.014592890627682,0.089352652430534,0.051351703703403,0.025561185553670,0.148892983794212,-0.019773073494434,0.099227815866470,-0.149234846234322,0.048439297825098,-0.027536874637008,-0.039653476327658));
res += mul(Get(s0,dx,-dy), float4x4(0.014790307730436,-0.095386378467083,-0.036104667931795,0.137360543012619,0.027856221422553,0.141441136598587,-0.030457116663456,-0.111755065619946,-0.127319470047951,0.033845297992229,-0.066412575542927,0.024176944047213,0.076981000602245,-0.001421244814992,-0.267552137374878,-0.009287132881582));
res += mul(Get(s0,dx,0), float4x4(-0.094156473875046,-0.037345383316278,-0.099275447428226,-0.054610799998045,-0.014251171611249,0.124607063829899,-0.071644537150860,-0.023286132141948,-0.013828378170729,-0.017680533230305,-0.008333754725754,0.126649364829063,0.148538023233414,-0.066645875573158,-0.133377179503441,-0.168316617608070));
res += mul(Get(s0,dx,dy), float4x4(-0.045709516853094,-0.014324976131320,-0.017145881429315,0.145914912223816,-0.007803563959897,-0.022532233968377,0.086098350584507,-0.033063694834709,-0.074523098766804,0.009226513095200,0.087833948433399,-0.022983247414231,0.183142915368080,-0.088654041290283,-0.031231446191669,0.053697887808084));
res += mul(Get(s1,-dx,-dy), float4x4(0.039346661418676,0.115664772689342,-0.089658997952938,-0.060900047421455,0.018997529521585,0.013965738005936,-0.013126904144883,-0.039713241159916,-0.004488476552069,-0.054018981754780,-0.029378904029727,-0.081176549196243,-0.105937272310257,-0.013540777377784,-0.028239373117685,-0.005944707896560));
res += mul(Get(s1,-dx,0), float4x4(0.030178135260940,0.145715832710266,-0.009456709958613,0.067113332450390,0.158810511231422,-0.033873792737722,0.013079327531159,-0.088143929839134,0.075661808252335,0.007624804973602,-0.004066659137607,-0.092892065644264,0.002875683363527,0.036403179168701,-0.019025074318051,0.006356562487781));
res += mul(Get(s1,-dx,dy), float4x4(0.081706516444683,0.179409384727478,-0.092412769794464,-0.034878574311733,-0.123058408498764,-0.091671898961067,0.034231521189213,-0.117869719862938,-0.012709529139102,0.169488325715065,0.047070570290089,-0.011869204230607,-0.013034460134804,0.002030633855611,0.027831677347422,0.081665284931660));
res += mul(Get(s1,0,-dy), float4x4(-0.170402750372887,-0.060640167444944,-0.081654667854309,0.028903227299452,-0.114007160067558,0.126096650958061,-0.083531238138676,-0.166976496577263,-0.035554882138968,-0.081743165850639,-0.028781726956367,0.010156666859984,-0.136254563927650,-0.027339931577444,-0.071040235459805,-0.012031735852361));
res += mul(Get(s1,0,0), float4x4(-0.057646568864584,-0.180662974715233,-0.022708972916007,0.051984358578920,-0.043709054589272,-0.030928267166018,0.037039104849100,-0.100899584591389,0.112321078777313,-0.050575867295265,-0.010533152148128,-0.032469239085913,-0.017180019989610,-0.008031200617552,0.026246031746268,-0.065556034445763));
res += mul(Get(s1,0,dy), float4x4(0.033152036368847,-0.079122260212898,-0.112316831946373,-0.079299904406071,-0.106241896748543,-0.101813815534115,0.105868786573410,-0.043079651892185,-0.058541659265757,-0.150341093540192,0.038622532039881,0.125357165932655,-0.016402758657932,0.078365385532379,-0.039038628339767,0.021600211039186));
res += mul(Get(s1,dx,-dy), float4x4(0.025951085612178,-0.006983135361224,-0.083673864603043,-0.122110627591610,-0.141619324684143,-0.101709261536598,-0.090113870799541,-0.199213504791260,0.057610906660557,-0.114044994115829,-0.130677700042725,0.042615350335836,-0.004139028023928,0.091424517333508,0.007776803802699,-0.108883723616600));
res += mul(Get(s1,dx,0), float4x4(0.025297638028860,-0.088304735720158,-0.101068444550037,-0.058211911469698,-0.224298521876335,0.132057696580887,0.320439100265503,0.000781907816418,0.034965984523296,-0.059353534132242,-0.092251226305962,0.000099918011983,0.066499151289463,-0.069109804928303,0.106257013976574,0.144699513912201));
res += mul(Get(s1,dx,dy), float4x4(0.026117675006390,0.026959208771586,-0.058016732335091,-0.042017702013254,-0.165065973997116,-0.096420533955097,-0.056310262531042,0.028847534209490,0.009274307638407,0.016765762120485,-0.030541036278009,0.112575113773346,-0.111233659088612,0.045381817966700,0.066369690001011,0.003146780887619));
res += mul(Get(s2,-dx,-dy), float4x4(-0.058301549404860,-0.121931768953800,-0.026513371616602,0.060487363487482,-0.080832302570343,-0.095431089401245,0.097419165074825,-0.001850658212788,0.074501745402813,-0.096557632088661,-0.080979168415070,0.119639866054058,0.027123728767037,0.038767352700233,-0.014964424073696,0.099557779729366));
res += mul(Get(s2,-dx,0), float4x4(-0.007380164694041,0.000184420510777,0.055151037871838,-0.081716306507587,0.096945166587830,-0.157299727201462,0.152656763792038,-0.041101671755314,0.094613395631313,-0.060481112450361,0.015455242246389,-0.097528658807278,0.085156388580799,-0.080241195857525,-0.059574123471975,-0.020418772473931));
res += mul(Get(s2,-dx,dy), float4x4(0.077566087245941,0.095193699002266,-0.030732983723283,-0.040703877806664,0.172542899847031,-0.013127782382071,-0.020129129290581,0.041280437260866,0.165689229965210,-0.064450703561306,0.000578507897444,-0.048102084547281,-0.031366955488920,-0.072456024587154,-0.126584842801094,-0.092774294316769));
res += mul(Get(s2,0,-dy), float4x4(-0.046966150403023,-0.074693098664284,0.106525041162968,0.088078223168850,-0.043155886232853,0.035385824739933,0.050705205649137,-0.067345552146435,0.051064547151327,0.024769209325314,-0.142584413290024,0.160408347845078,0.097437724471092,-0.113501168787479,-0.057893127202988,-0.012123420834541));
res += mul(Get(s2,0,0), float4x4(0.006774374749511,0.092981539666653,-0.031260535120964,0.072795718908310,0.111268244683743,0.051103707402945,0.032436940819025,0.028245208784938,-0.081213712692261,-0.068653568625450,0.051427252590656,0.120496399700642,0.119511537253857,-0.034106418490410,0.040611092001200,-0.022113457322121));
res += mul(Get(s2,0,dy), float4x4(0.069335930049419,-0.082924626767635,-0.033305216580629,-0.041644655168056,0.012717813253403,0.053571291267872,-0.027121098712087,0.089137792587280,-0.082326605916023,-0.089360617101192,0.099966652691364,-0.050001040101051,-0.042457249015570,0.067098639905453,0.065723806619644,-0.076653450727463));
res += mul(Get(s2,dx,-dy), float4x4(-0.130846619606018,-0.102422058582306,-0.069646999239922,0.207214534282684,0.063122205436230,0.035973865538836,-0.100209265947342,0.092451341450214,-0.030188627541065,0.294126510620117,-0.073018386960030,-0.061127845197916,-0.091504946351051,-0.063022270798683,-0.156366929411888,0.132979318499565));
res += mul(Get(s2,dx,0), float4x4(-0.059553690254688,0.064623370766640,-0.059398844838142,0.032337877899408,0.032206889241934,0.115021020174026,0.118801869452000,-0.047570493072271,-0.043052788823843,0.008213102817535,0.107416689395905,-0.135856002569199,0.064477704465389,-0.029767170548439,0.048288140445948,0.001252633403055));
res += mul(Get(s2,dx,dy), float4x4(0.133736282587051,0.040875874459743,-0.016513181850314,0.020861791446805,0.023699069395661,0.064838580787182,-0.026616811752319,-0.027329400181770,-0.091325759887695,0.142538711428642,0.083426162600517,-0.040090013295412,0.076751783490181,0.070836246013641,0.027521776035428,-0.077148877084255));
res += mul(Get(s3,-dx,-dy), float4x4(-0.268941462039948,0.316793501377106,-0.043572708964348,-0.010442794300616,-0.049846448004246,-0.045196492224932,-0.075285501778126,0.046285737305880,0.079673029482365,-0.011886551976204,-0.117853552103043,0.024494538083673,0.156635209918022,-0.072612769901752,0.141062811017036,0.168840676546097));
res += mul(Get(s3,-dx,0), float4x4(0.116544134914875,-0.060723520815372,-0.024582143872976,-0.038306161761284,-0.019653484225273,-0.063888601958752,0.002373416209593,0.043385431170464,-0.009605471044779,0.042448259890079,-0.108455806970596,-0.086765229701996,0.070884533226490,0.005135391838849,0.088425852358341,0.024748511612415));
res += mul(Get(s3,-dx,dy), float4x4(0.011022386141121,-0.061155207455158,0.023713106289506,0.021728741005063,-0.156035885214806,-0.014529336243868,0.139554381370544,-0.006510752253234,-0.025309558957815,-0.015536434017122,-0.141780048608780,-0.068614020943642,-0.072686873376369,-0.016121989116073,0.038450948894024,0.061586499214172));
res += mul(Get(s3,0,-dy), float4x4(-0.064324535429478,-0.006166631355882,0.032107304781675,-0.034697223454714,-0.027541855350137,-0.037094332277775,0.022865070030093,-0.022280905395746,0.105847105383873,-0.052118480205536,-0.074023559689522,-0.064387135207653,0.045099738985300,0.035200472921133,-0.044012997299433,0.005404591094702));
res += mul(Get(s3,0,0), float4x4(0.099644243717194,-0.101118005812168,0.121160246431828,-0.077616892755032,0.031162329018116,0.123652376234531,0.063805818557739,0.121531426906586,-0.216460362076759,-0.114325344562531,0.020923584699631,-0.101293884217739,-0.033266916871071,-0.081602275371552,-0.044903300702572,0.050732664763927));
res += mul(Get(s3,0,dy), float4x4(-0.044004850089550,-0.052949424833059,0.072249785065651,0.002937081968412,-0.204459473490715,0.052800543606281,0.157930180430412,0.024726463481784,0.024765843525529,-0.089567765593529,-0.064676441252232,-0.059248585253954,-0.156210973858833,0.015374529175460,0.108788713812828,0.031594876199961));
res += mul(Get(s3,dx,-dy), float4x4(-0.143046155571938,0.153239130973816,-0.187441498041153,-0.065681844949722,-0.004032610449940,0.043241847306490,-0.134769484400749,0.161106273531914,0.030570339411497,0.104585833847523,-0.155324801802635,-0.019591305404902,-0.022254547104239,-0.029969682916999,0.066120289266109,-0.064544014632702));
res += mul(Get(s3,dx,0), float4x4(-0.092296391725540,0.004813062958419,0.082429356873035,0.098175831139088,0.084295853972435,-0.016390362754464,-0.013783042319119,0.140512838959694,0.161932393908501,0.018891448155046,-0.061646033078432,-0.059659913182259,-0.080050423741341,0.127439439296722,0.064206689596176,0.045904841274023));
res += mul(Get(s3,dx,dy), float4x4(-0.091497272253036,-0.128135472536087,-0.093081668019295,-0.032433919608593,0.007516767363995,0.134927451610565,0.121053636074066,-0.070169448852539,0.166281238198280,0.079091891646385,-0.030594155192375,0.008902154862881,-0.126627340912819,-0.021066781133413,0.131928727030754,-0.108925826847553));
return max(float4(0,0,0,0), res);
}
