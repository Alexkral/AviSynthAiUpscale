sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.000464112876216,-0.131197243928909,0.020961705595255,0.032480265945196,0.034034434705973,-0.150420263409615,-0.032366771250963,0.035147931426764,-0.051006253808737,-0.113483369350433,-0.115254849195480,-0.040397584438324,-0.012653269805014,-0.005491207353771,0.062259390950203,0.062660075724125));
res += mul(Get(s0,-dx,0), float4x4(0.056384179741144,-0.107980243861675,0.095954619348049,-0.074009828269482,-0.015210480429232,-0.111755549907684,-0.006519895512611,-0.025042653083801,0.006842978764325,-0.018495140597224,0.061434026807547,-0.151120111346245,-0.002610485302284,0.005076738074422,0.158479154109955,0.029610050842166));
res += mul(Get(s0,-dx,dy), float4x4(0.245239585638046,-0.069917164742947,0.058144502341747,-0.246074572205544,0.048774141818285,-0.004432780202478,-0.032328497618437,0.045009076595306,0.059718776494265,0.073167696595192,-0.053126540035009,-0.103185124695301,0.006500629242510,0.001681188703515,0.033175032585859,0.012933386489749));
res += mul(Get(s0,0,-dy), float4x4(-0.108282379806042,-0.066828303039074,-0.084978498518467,0.221488729119301,0.031079214066267,-0.075454898178577,-0.111952856183052,0.164569735527039,0.020078927278519,0.101853616535664,0.019370596855879,0.244101241230965,-0.009923076257110,-0.004108673427254,0.006762824486941,0.054663147777319));
res += mul(Get(s0,0,0), float4x4(-0.051143243908882,-0.070048034191132,0.027197001501918,0.016813982278109,0.082370646297932,-0.005553382914513,-0.026277128607035,0.064393639564514,0.085981845855713,0.080314874649048,0.082111604511738,0.141852617263794,-0.012264167889953,0.005119864828885,0.115108340978622,0.024811385199428));
res += mul(Get(s0,0,dy), float4x4(0.039743077009916,-0.056168865412474,0.036676634103060,-0.189778268337250,0.149686738848686,0.058784950524569,0.074046425521374,-0.006423837039620,0.172090962529182,0.055781152099371,-0.043420135974884,0.012105148285627,0.003017062088475,-0.004817111417651,0.035614464432001,0.004579529631883));
res += mul(Get(s0,dx,-dy), float4x4(-0.054465290158987,-0.218248739838600,-0.036545455455780,0.131948530673981,-0.084365874528885,-0.030840611085296,-0.096493251621723,0.116342283785343,0.023209474980831,-0.141491234302521,-0.090219020843506,0.023483753204346,-0.007259038276970,-0.009607168845832,-0.010532554239035,0.037173140794039));
res += mul(Get(s0,dx,0), float4x4(0.092058911919594,-0.077426038682461,-0.031454090029001,0.017904926091433,-0.023233536630869,0.014282096177340,-0.039838202297688,0.039550133049488,0.047277368605137,-0.119498386979103,-0.024336384609342,0.095771595835686,-0.011058849282563,0.003129719989374,0.086705774068832,0.017244739457965));
res += mul(Get(s0,dx,dy), float4x4(0.159840121865273,-0.140237018465996,-0.110898256301880,-0.181197181344032,0.096122078597546,0.043830554932356,0.113234855234623,-0.019019065424800,0.148014113306999,-0.082501396536827,-0.119539842009544,0.163787737488747,0.001886704703793,-0.007453882601112,0.033832836896181,0.011260956525803));
res += mul(Get(s1,-dx,-dy), float4x4(0.084834963083267,-0.104167267680168,0.060307558625937,0.133229389786720,0.271700680255890,0.074359260499477,0.044375717639923,-0.092115655541420,-0.186375707387924,0.306344062089920,-0.109929025173187,-0.211423441767693,0.030676091089845,0.109904766082764,-0.256927400827408,0.080777980387211));
res += mul(Get(s1,-dx,0), float4x4(-0.077950634062290,0.030638562515378,-0.019310338422656,0.174632832407951,-0.005775820929557,0.001059429603629,0.020107442513108,-0.141136944293976,-0.152931481599808,0.285906463861465,0.363927274942398,-0.064640730619431,0.100740961730480,0.042634606361389,-0.244673356413841,-0.025671193376184));
res += mul(Get(s1,-dx,dy), float4x4(-0.029930043965578,0.036568235605955,0.026456424966455,-0.026657357811928,0.108360551297665,0.257449030876160,0.000813323946204,-0.129168599843979,-0.035875815898180,0.072107903659344,0.355422794818878,-0.123316057026386,-0.012789642438293,0.084546469151974,-0.214789196848869,-0.091985039412975));
res += mul(Get(s1,0,-dy), float4x4(0.050249729305506,0.137301996350288,0.074970461428165,0.173138707876205,0.188133835792542,0.190308406949043,0.207636833190918,0.092306330800056,-0.034714680165052,0.063913114368916,-0.127462521195412,0.104084983468056,-0.098129734396935,-0.162653639912605,-0.148654893040657,0.122323930263519));
res += mul(Get(s1,0,0), float4x4(0.031143181025982,0.085441365838051,-0.197594031691551,0.163945570588112,-0.001932443468831,-0.053612135350704,-0.149997144937515,-0.026618523523211,-0.015246553346515,-0.096034310758114,-0.317721188068390,0.321880072355270,-0.095605067908764,-0.262386500835419,-0.017675146460533,-0.092021942138672));
res += mul(Get(s1,0,dy), float4x4(0.024362551048398,-0.074322730302811,-0.106862835586071,0.047281250357628,-0.033921938389540,-0.064361117780209,0.004328932147473,-0.038584090769291,0.000998619361781,-0.206840306520462,-0.247897937893867,0.244692996144295,-0.111303292214870,-0.016275294125080,0.022446703165770,-0.049728583544493));
res += mul(Get(s1,dx,-dy), float4x4(-0.048112638294697,0.053509194403887,0.243336170911789,0.113132588565350,0.124421849846840,0.160819619894028,0.044602680951357,-0.014785344712436,-0.108026236295700,-0.184483975172043,-0.020434672012925,-0.077249772846699,-0.072803713381290,0.129615694284439,0.107434719800949,0.074880018830299));
res += mul(Get(s1,dx,0), float4x4(0.037651203572750,-0.017257615923882,-0.050271525979042,-0.050026960670948,-0.056070156395435,-0.202345192432404,-0.176718726754189,-0.098242416977882,0.028392268344760,-0.153445288538933,-0.093266896903515,-0.108460508286953,-0.108859337866306,0.090731486678123,0.098577648401260,-0.094818376004696));
res += mul(Get(s1,dx,dy), float4x4(0.085137277841568,-0.141396090388298,0.009487171657383,0.032874766737223,0.020069450139999,-0.184801414608955,0.148628726601601,-0.093541026115417,-0.021701645106077,-0.055090662091970,-0.025476302951574,-0.005284928716719,-0.132182031869888,0.113991402089596,-0.163720861077309,-0.040070205926895));
res += mul(Get(s2,-dx,-dy), float4x4(0.001210260670632,0.182554572820663,0.091873668134212,-0.056757487356663,-0.080636143684387,-0.006835240405053,0.062751106917858,0.026573061943054,-0.097550787031651,-0.027737379074097,-0.139685139060020,-0.047391984611750,-0.177926063537598,-0.068571455776691,-0.120522245764732,-0.018765656277537));
res += mul(Get(s2,-dx,0), float4x4(0.009512903168797,0.117630831897259,-0.235079273581505,-0.218206450343132,0.018913891166449,0.035438597202301,0.091639228165150,-0.090761423110962,-0.089829809963703,0.009850200265646,0.088538184762001,0.035598210990429,0.047244600951672,-0.012531321495771,-0.149526506662369,0.081960469484329));
res += mul(Get(s2,-dx,dy), float4x4(-0.064535163342953,-0.070812359452248,-0.120139412581921,-0.169999688863754,0.011442135088146,0.003786799497902,0.105102568864822,-0.067873917520046,-0.098978936672211,-0.093195691704750,-0.054380614310503,-0.009868778288364,-0.009011688642204,0.037476591765881,0.052785944193602,0.064179301261902));
res += mul(Get(s2,0,-dy), float4x4(-0.142412260174751,-0.055773667991161,0.142717212438583,0.092990607023239,-0.071153543889523,0.044004499912262,0.069331519305706,0.136680766940117,-0.027620006352663,0.042074441909790,-0.044263437390327,0.106411717832088,-0.153440460562706,-0.042273964732885,-0.080043345689774,-0.113087296485901));
res += mul(Get(s2,0,0), float4x4(-0.013744872063398,-0.031750123947859,-0.213915199041367,-0.255174428224564,0.008900780230761,-0.001119504100643,-0.087335117161274,-0.012409341521561,-0.054236058145761,0.041039694100618,0.052764881402254,0.168824180960655,0.013084313832223,-0.041314546018839,-0.183284208178520,-0.064391314983368));
res += mul(Get(s2,0,dy), float4x4(0.005313600413501,-0.079783923923969,-0.075447186827660,-0.247667759656906,-0.005053435917944,0.007322424091399,-0.029533101245761,-0.021812556311488,-0.050128608942032,-0.018587563186884,-0.022291461005807,0.029177675023675,-0.011545486748219,0.049361534416676,0.020124794915318,-0.028521439060569));
res += mul(Get(s2,dx,-dy), float4x4(-0.121013864874840,0.026775566861033,0.246544077992439,0.278863847255707,-0.139940872788429,-0.049443125724792,0.058503217995167,0.102327778935432,-0.060806490480900,-0.037661481648684,-0.195694670081139,-0.074684314429760,-0.177011057734489,-0.016102766618133,-0.084811702370644,0.001144328038208));
res += mul(Get(s2,dx,0), float4x4(0.100241154432297,0.098676741123199,-0.095076084136963,0.077090971171856,-0.078506380319595,-0.083404287695885,-0.060122516006231,-0.120320625603199,-0.105678230524063,-0.054847739636898,-0.201788112521172,0.067170992493629,-0.065889760851860,-0.038393497467041,-0.180919349193573,-0.048244290053844));
res += mul(Get(s2,dx,dy), float4x4(0.301737338304520,0.026088031008840,-0.159149006009102,-0.071122042834759,-0.037100728601217,0.008564321324229,0.072375580668449,-0.103492222726345,-0.086779102683067,-0.108948945999146,-0.134015724062920,0.015195231884718,-0.099121466279030,0.001655608066358,-0.080171301960945,-0.134317606687546));
res += mul(Get(s3,-dx,-dy), float4x4(-0.021584901958704,-0.061149153858423,0.046411648392677,-0.111565701663494,-0.020745487883687,0.077156782150269,0.086129769682884,0.028930990025401,-0.041221003979445,-0.038084104657173,0.032062213867903,0.136988118290901,-0.075168363749981,-0.103557728230953,-0.223860874772072,-0.013021781109273));
res += mul(Get(s3,-dx,0), float4x4(-0.051611978560686,-0.056699100881815,0.031639702618122,-0.082068175077438,-0.020182806998491,-0.019438080489635,-0.021729160100222,-0.000594645913225,0.025556551292539,-0.091556504368782,0.109601356089115,-0.105769932270050,0.049304287880659,-0.068571284413338,-0.231600522994995,-0.167819350957870));
res += mul(Get(s3,-dx,dy), float4x4(-0.014077662490308,-0.008766924031079,0.033061705529690,-0.011201928369701,-0.030854873359203,-0.103373713791370,-0.000223654133151,0.107115335762501,-0.000727004487999,-0.170920655131340,-0.010207536630332,-0.066297784447670,-0.039602123200893,0.001664445502684,-0.119206972420216,-0.099329575896263));
res += mul(Get(s3,0,-dy), float4x4(0.009946801699698,0.051745928823948,-0.042361248284578,-0.071183569729328,-0.005649330094457,0.049363017082214,0.188579261302948,-0.055188313126564,-0.051963929086924,-0.035202719271183,-0.155825853347778,0.135818675160408,-0.111868672072887,0.053873937577009,-0.009225700050592,0.067337170243263));
res += mul(Get(s3,0,0), float4x4(-0.020616663619876,0.044602315872908,-0.013159072026610,-0.049344841390848,-0.029371399432421,-0.026665132492781,0.135333597660065,-0.050817485898733,-0.072743929922581,0.000440806994447,0.225811690092087,-0.086045973002911,0.012341899797320,0.150524333119392,0.030576506629586,-0.030640900135040));
res += mul(Get(s3,0,dy), float4x4(-0.024750903248787,0.016240825876594,0.111241616308689,0.027366880327463,-0.054839286953211,-0.076552152633667,0.103456959128380,0.083925582468510,-0.071570470929146,0.016169745475054,-0.019343078136444,-0.084551893174648,-0.014414148405194,0.226467624306679,0.017703672870994,0.046115115284920));
res += mul(Get(s3,dx,-dy), float4x4(-0.053126353770494,-0.072214759886265,-0.013436672277749,-0.130156219005585,-0.027808479964733,-0.009681695140898,-0.045166905969381,0.031173693016171,-0.031016785651445,0.082794480025768,0.080816403031349,-0.025632953271270,-0.029092043638229,-0.067699357867241,0.299273133277893,0.045378141105175));
res += mul(Get(s3,dx,0), float4x4(-0.045359030365944,-0.079555086791515,-0.075136035680771,-0.080334112048149,-0.041156653314829,-0.046543348580599,-0.140781626105309,-0.036247234791517,-0.058710053563118,0.033173047006130,0.260809630155563,-0.150733202695847,0.055706661194563,-0.064951561391354,0.206711694598198,0.020718110725284));
res += mul(Get(s3,dx,dy), float4x4(-0.042299613356590,-0.127506345510483,0.062647573649883,0.039862710982561,-0.095326334238052,-0.065051391720772,-0.086292006075382,-0.002897918224335,-0.160924836993217,-0.149190038442612,-0.173058837652206,-0.208863601088524,0.024708654731512,-0.070900656282902,0.041794851422310,0.121528550982475));
return max(float4(0,0,0,0), res);
}
