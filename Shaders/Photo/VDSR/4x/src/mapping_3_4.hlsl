sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.154303669929504,-0.058571945875883,0.139350071549416,0.199682459235191,-0.122280843555927,0.062324322760105,-0.005701529327780,0.150125518441200,-0.090913698077202,-0.053022433072329,0.051216337829828,-0.238391414284706,-0.129629835486412,-0.122580111026764,-0.012799033895135,-0.020949898287654));
res += mul(Get(s0,-dx,0), float4x4(0.024646958336234,0.276901304721832,0.081343226134777,-0.081882119178772,-0.044179126620293,0.111228585243225,0.127720937132835,-0.003526888554916,-0.042197000235319,-0.095818638801575,-0.131060108542442,-0.000669339788146,-0.148654460906982,0.038403533399105,0.062250409275293,0.053569156676531));
res += mul(Get(s0,-dx,dy), float4x4(0.111632652580738,0.204019159078598,-0.024329533800483,-0.054420914500952,0.071616344153881,0.141661569476128,0.071450047194958,-0.010968406684697,-0.117529220879078,-0.004261992406100,0.016034219413996,0.024035608395934,-0.103807151317596,0.162000700831413,0.237215131521225,-0.009866053238511));
res += mul(Get(s0,0,-dy), float4x4(-0.115353748202324,0.039678405970335,0.095562383532524,0.132074981927872,0.006114173214883,-0.084957383573055,-0.132534056901932,-0.046514332294464,-0.179600298404694,-0.028109019622207,0.038374230265617,0.183400958776474,0.025674309581518,0.221178635954857,-0.085086829960346,-0.026598270982504));
res += mul(Get(s0,0,0), float4x4(0.195181384682655,0.036031533032656,0.127122104167938,-0.217146873474121,0.006190195679665,-0.148828580975533,-0.051733799278736,-0.134814500808716,-0.062266882508993,-0.095374375581741,-0.084646083414555,0.017236158251762,-0.140923470258713,0.233045324683189,0.034851510077715,-0.059934027493000));
res += mul(Get(s0,0,dy), float4x4(0.069721288979053,-0.008952838368714,-0.076173268258572,0.018798144534230,0.284428566694260,0.090498536825180,-0.025169650092721,0.033063173294067,-0.311218410730362,0.030384384095669,-0.022885961458087,-0.178048789501190,-0.196650668978691,-0.045617375522852,0.010405292734504,-0.067200623452663));
res += mul(Get(s0,dx,-dy), float4x4(-0.062647119164467,-0.110799372196198,0.093515492975712,0.155732631683350,-0.045328643172979,0.065786644816399,-0.175224781036377,0.035495601594448,-0.285616934299469,-0.007187808398157,0.008946849033237,0.055688742548227,0.059720534831285,0.003435861319304,-0.149021655321121,-0.029329346492887));
res += mul(Get(s0,dx,0), float4x4(0.159653201699257,0.040646202862263,-0.130831554532051,-0.108647048473358,-0.097960390150547,0.005184061359614,-0.054476007819176,-0.032721325755119,-0.009679534472525,0.107015721499920,-0.103746049106121,-0.126462027430534,-0.040445208549500,-0.068660564720631,-0.101945146918297,0.010219808667898));
res += mul(Get(s0,dx,dy), float4x4(0.094144485890865,-0.129889056086540,0.098878212273121,-0.170644298195839,0.040292330086231,0.108807876706123,0.111393995583057,0.045268718153238,-0.074941471219063,0.130198597908020,-0.034695491194725,-0.010089623741806,-0.141697928309441,0.060590345412493,-0.074136137962341,-0.055175144225359));
res += mul(Get(s1,-dx,-dy), float4x4(-0.025574564933777,-0.044698983430862,-0.004998188931495,-0.150716379284859,0.015415444970131,0.123948357999325,0.083491787314415,0.088729880750179,0.064464353024960,-0.034809324890375,-0.035404220223427,-0.295578539371490,-0.078598089516163,-0.003213307820261,0.073014013469219,-0.022217143326998));
res += mul(Get(s1,-dx,0), float4x4(0.076252676546574,0.001673297141679,-0.118298940360546,-0.244436219334602,-0.071308813989162,0.002266640076414,-0.059789609164000,-0.123515374958515,0.191321715712547,-0.084094695746899,0.089203819632530,-0.136867851018906,-0.221709758043289,0.075741715729237,0.096723727881908,0.063197776675224));
res += mul(Get(s1,-dx,dy), float4x4(0.158906072378159,0.072581224143505,-0.022167608141899,0.000692406552844,-0.245017692446709,0.001129130832851,-0.017391171306372,0.208685860037804,0.079150065779686,-0.058868985623121,-0.059364296495914,0.024495963007212,0.019638428464532,0.066202014684677,0.032318495213985,0.037546887993813));
res += mul(Get(s1,0,-dy), float4x4(0.184048101305962,-0.006258886773139,-0.176441058516502,0.060260154306889,-0.024900950491428,-0.113911613821983,0.009800934232771,0.125657305121422,-0.002349927322939,0.045551024377346,0.064807303249836,-0.106434926390648,0.037035752087831,-0.055119153112173,0.225813671946526,0.118780657649040));
res += mul(Get(s1,0,0), float4x4(-0.048160579055548,-0.128109678626060,0.051314301788807,0.131706625223160,0.120712526142597,-0.096385613083839,0.020077444612980,0.046464215964079,0.052711669355631,-0.169788151979446,0.003060278715566,0.132942929863930,-0.188996136188507,-0.036872703582048,-0.141299992799759,-0.047468546777964));
res += mul(Get(s1,0,dy), float4x4(0.016655659303069,0.038242913782597,-0.072408124804497,0.179075434803963,-0.050405930727720,-0.000217492721276,-0.132984638214111,0.015805762261152,-0.109726570546627,-0.032235823571682,0.000666562642436,-0.307425856590271,0.093589447438717,-0.070484407246113,-0.077323280274868,-0.113273158669472));
res += mul(Get(s1,dx,-dy), float4x4(0.062862120568752,0.019973397254944,-0.049599871039391,0.094606421887875,-0.119485676288605,-0.010398384183645,-0.004784996155649,0.087517470121384,0.068626932799816,-0.187235161662102,0.162997171282768,0.114617720246315,-0.000204397612833,-0.056467056274414,-0.037726137787104,-0.121808692812920));
res += mul(Get(s1,dx,0), float4x4(-0.099381394684315,-0.072180725634098,-0.178454652428627,0.001296749804169,0.041444797068834,-0.105074569582939,-0.216645598411560,-0.218147948384285,-0.038439117372036,-0.019730176776648,-0.164761245250702,-0.096029929816723,-0.010203096084297,-0.064131446182728,0.109211653470993,-0.066874638199806));
res += mul(Get(s1,dx,dy), float4x4(-0.018750909715891,0.015949795022607,0.200373172760010,-0.074948184192181,0.228807047009468,-0.040565907955170,0.101785928010941,-0.076707072556019,-0.018502468243241,0.124003544449806,0.070810161530972,-0.035670559853315,0.223763033747673,0.018473846837878,0.252255409955978,-0.123614415526390));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003585668979213,-0.068855606019497,0.080699399113655,-0.092168584465981,-0.043254341930151,0.096620269119740,0.361508935689926,0.193473801016808,0.054795373231173,-0.013009008951485,0.041813317686319,0.230516389012337,0.032857231795788,-0.062430962920189,0.085143201053143,-0.062988638877869));
res += mul(Get(s2,-dx,0), float4x4(-0.055411349982023,0.046325888484716,0.073015369474888,0.049984257668257,0.078230425715446,0.207292422652245,-0.048532664775848,0.303287804126740,-0.062719695270061,-0.101403221487999,-0.053685043007135,0.063606821000576,-0.108279265463352,-0.170815482735634,0.065195806324482,-0.089741848409176));
res += mul(Get(s2,-dx,dy), float4x4(-0.124350450932980,-0.005967417266220,0.072125487029552,0.011976937763393,-0.183096855878830,0.084628410637379,-0.114297091960907,-0.056036110967398,-0.011573782190681,-0.086183167994022,-0.110636167228222,0.154266849160194,-0.054262135177851,-0.069530554115772,-0.065821409225464,-0.047752663493156));
res += mul(Get(s2,0,-dy), float4x4(0.125424861907959,0.254569649696350,-0.158683061599731,-0.107194207608700,-0.149501502513885,-0.100182831287384,0.044187344610691,-0.016374373808503,0.036402363330126,-0.060967877507210,0.111290685832500,-0.035162977874279,0.030325910076499,0.181099563837051,-0.178694203495979,-0.092842735350132));
res += mul(Get(s2,0,0), float4x4(0.141830846667290,-0.044968176633120,0.056177116930485,-0.001089819823392,-0.027387209236622,0.000462018710095,0.241586253046989,-0.038563590496778,0.129412397742271,0.030395761132240,0.180082291364670,0.068223752081394,-0.061959020793438,0.001977894455194,0.101998358964920,-0.146509006619453));
res += mul(Get(s2,0,dy), float4x4(-0.032830733805895,0.024539770558476,0.072986952960491,-0.062019627541304,-0.009603645652533,0.046297226101160,0.017056083306670,0.094724617898464,0.090681761503220,0.121487490832806,0.043556809425354,0.002554200589657,-0.074054457247257,0.018306732177734,0.199870437383652,0.124089770019054));
res += mul(Get(s2,dx,-dy), float4x4(0.153531864285469,-0.077342502772808,0.035333517938852,-0.071094617247581,0.053004052489996,0.068777240812778,0.040096882730722,-0.100278481841087,0.096528477966785,-0.065829202532768,-0.202497288584709,-0.009511133655906,0.047847352921963,0.011739472858608,0.000727967359126,0.122430518269539));
res += mul(Get(s2,dx,0), float4x4(0.112238518893719,0.041648365557194,-0.005893830209970,0.056280564516783,0.067779615521431,-0.030882900580764,-0.110860526561737,-0.079854063689709,0.169639855623245,0.206054151058197,-0.097303368151188,0.145490020513535,0.205715611577034,0.080397710204124,-0.049278356134892,-0.131390258669853));
res += mul(Get(s2,dx,dy), float4x4(-0.114565141499043,0.124131627380848,-0.212653666734695,-0.063727177679539,0.181588128209114,-0.089908108115196,0.012694909237325,-0.113299846649170,-0.076575934886932,-0.006222878582776,-0.035579964518547,-0.064201496541500,0.000491799321026,-0.203861534595490,-0.048580426722765,0.023318978026509));
res += mul(Get(s3,-dx,-dy), float4x4(0.079695321619511,0.030811399221420,-0.107017971575260,-0.166438624262810,-0.039135456085205,0.169544711709023,-0.191631019115448,0.019083527848125,-0.107124261558056,-0.046548288315535,-0.088876925408840,-0.326816469430923,0.229658082127571,0.077833421528339,0.014822755008936,0.147212073206902));
res += mul(Get(s3,-dx,0), float4x4(-0.049790218472481,0.263059943914413,0.126376450061798,-0.013466465286911,0.235511809587479,0.178461343050003,-0.010796928778291,0.091374322772026,-0.015659987926483,-0.121692366898060,-0.013178694061935,-0.120300590991974,0.101831458508968,0.269052207469940,-0.038626726716757,0.028358075767756));
res += mul(Get(s3,-dx,dy), float4x4(-0.031818058341742,0.060520507395267,0.088173776865005,0.048071261495352,-0.110008798539639,-0.018330290913582,-0.021311940625310,-0.002247204538435,-0.163160338997841,-0.129661679267883,0.063694104552269,-0.134335532784462,-0.091592490673065,-0.035271536558867,0.075867354869843,0.243295148015022));
res += mul(Get(s3,0,-dy), float4x4(-0.014519009739161,0.018965380266309,-0.064239725470543,-0.011141019873321,-0.110029749572277,-0.010018825531006,-0.089907199144363,-0.091675832867622,-0.121702224016190,0.098749116063118,-0.031509764492512,0.021276997402310,-0.047587048262358,0.046814922243357,0.007338026538491,0.037272032350302));
res += mul(Get(s3,0,0), float4x4(-0.006912098266184,0.058362971991301,-0.042251691222191,0.049155253916979,-0.042703386396170,0.057109557092190,-0.037797808647156,-0.042946025729179,-0.066224709153175,-0.032795231789351,0.100243590772152,-0.081906810402870,0.174278035759926,-0.286786049604416,0.190138995647430,-0.014435702934861));
res += mul(Get(s3,0,dy), float4x4(0.110073931515217,0.114690952003002,-0.069944597780704,-0.005187130067497,0.088568754494190,-0.124830283224583,0.006192406639457,0.077887922525406,0.031400360167027,-0.075084947049618,-0.063967213034630,-0.047065187245607,0.114291846752167,0.163056984543800,-0.015287130139768,0.123675733804703));
res += mul(Get(s3,dx,-dy), float4x4(-0.174662813544273,-0.070005305111408,0.163520157337189,0.086983799934387,-0.095998674631119,-0.060394436120987,-0.161033779382706,-0.142914310097694,0.074981816112995,-0.142420366406441,0.119097456336021,-0.099604733288288,0.092361167073250,-0.032818727195263,0.053286872804165,-0.013449906371534));
res += mul(Get(s3,dx,0), float4x4(-0.093829073011875,-0.027442984282970,-0.003204644890502,0.015808526426554,0.117446891963482,-0.021124711260200,-0.131966769695282,-0.101912036538124,0.060678679496050,-0.062758065760136,-0.017018595710397,-0.304105937480927,0.062940232455730,-0.135980129241943,-0.127841800451279,0.022970581427217));
res += mul(Get(s3,dx,dy), float4x4(-0.035990148782730,0.253596186637878,-0.051687665283680,-0.041614189743996,0.002265883376822,-0.042540304362774,0.075213909149170,-0.178866282105446,0.015365894883871,0.127782329916954,0.146816670894623,-0.210903450846672,-0.037963312119246,-0.087192922830582,0.011722201481462,-0.042617566883564));
return max(float4(0,0,0,0), res);
}
