sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.054157450795174,-0.072586469352245,-0.036132749170065,0.192636594176292,0.054433573037386,-0.116369180381298,0.128764972090721,0.042637117207050,-0.118815377354622,0.046059146523476,-0.080335795879364,0.067373372614384,0.088237427175045,0.142759859561920,0.008248963393271,0.199294939637184));
res += mul(Get(s0,-dx,0), float4x4(-0.010430066846311,0.045098692178726,-0.145408615469933,-0.145963862538338,0.041772443801165,0.059019431471825,-0.239834666252136,0.168736726045609,0.083530485630035,0.106832437217236,-0.085304729640484,0.108223088085651,0.126124918460846,0.162984624505043,0.016601486131549,0.150896757841110));
res += mul(Get(s0,-dx,dy), float4x4(-0.112869948148727,-0.008370636962354,-0.063849344849586,0.049773268401623,-0.014876309782267,-0.079747162759304,-0.068694189190865,0.079207204282284,0.127051517367363,0.051154624670744,-0.014693059027195,0.101626455783844,0.035721108317375,-0.123171612620354,0.017572592943907,-0.078118883073330));
res += mul(Get(s0,0,-dy), float4x4(-0.230418011546135,0.097548596560955,0.017458753660321,0.076722279191017,0.051679175347090,0.013219902291894,0.080425560474396,-0.117841631174088,0.040257230401039,0.128555476665497,-0.067513726651669,0.028698243200779,0.041011735796928,-0.032566491514444,0.034571934491396,0.113545060157776));
res += mul(Get(s0,0,0), float4x4(0.052755162119865,0.130025193095207,-0.018087416887283,-0.041164066642523,0.044735580682755,0.076560102403164,-0.098445221781731,-0.030239418148994,0.063119061291218,0.124061860144138,-0.038909722119570,0.094073265790939,-0.025595264509320,-0.035331785678864,-0.149814173579216,0.049525193870068));
res += mul(Get(s0,0,dy), float4x4(0.020085265859962,0.045772194862366,-0.090623326599598,0.003760092426091,-0.053405892103910,-0.020411785691977,-0.093531362712383,-0.064705416560173,-0.038742020726204,0.025978889316320,0.101063922047615,0.143450513482094,0.064540222287178,0.088005445897579,0.040115170180798,-0.056322775781155));
res += mul(Get(s0,dx,-dy), float4x4(-0.064184822142124,0.108191341161728,-0.035001937299967,0.111493185162544,0.049139894545078,-0.118168942630291,0.155385121703148,-0.128935769200325,-0.088349774479866,0.009262865409255,0.016047215089202,-0.012064865790308,-0.131539553403854,0.010542842559516,-0.068387940526009,0.124230869114399));
res += mul(Get(s0,dx,0), float4x4(-0.112369649112225,0.017690638080239,-0.048888623714447,-0.187790796160698,0.208192840218544,-0.055463608354330,0.136668518185616,-0.058115232735872,0.023606201633811,0.134456604719162,-0.069830790162086,-0.101078800857067,-0.117919683456421,0.236659094691277,-0.110901258885860,-0.012983609922230));
res += mul(Get(s0,dx,dy), float4x4(0.055780585855246,0.070832341909409,-0.161968886852264,0.041995294392109,0.006806578952819,-0.161725282669067,-0.078864008188248,0.063947029411793,-0.312523305416107,-0.080692850053310,-0.185196086764336,0.155587792396545,0.060256678611040,0.159229934215546,-0.056077979505062,-0.041388578712940));
res += mul(Get(s1,-dx,-dy), float4x4(0.087257042527199,0.074765309691429,0.042572699487209,0.155773192644119,0.080856621265411,-0.084920048713684,0.153981417417526,0.057719998061657,-0.123070806264877,0.030671423301101,0.114733323454857,-0.028961569070816,0.101982794702053,0.179578393697739,0.025369834154844,-0.079742357134819));
res += mul(Get(s1,-dx,0), float4x4(0.053947739303112,0.002190871164203,0.002092645736411,0.083920210599899,0.014140349812806,-0.034576173871756,-0.098621070384979,-0.035994157195091,-0.253576576709747,-0.050933767110109,-0.067149251699448,0.091665923595428,-0.169371098279953,-0.050862342119217,-0.030889291316271,0.023106573149562));
res += mul(Get(s1,-dx,dy), float4x4(-0.173774063587189,-0.181578606367111,0.147714838385582,0.013683664612472,0.002854465739802,0.103738620877266,-0.065418928861618,-0.073903597891331,0.006549037527293,0.024388955906034,-0.124195672571659,0.072693839669228,-0.167080536484718,-0.098255820572376,0.098229385912418,-0.084687016904354));
res += mul(Get(s1,0,-dy), float4x4(-0.084390185773373,0.231699496507645,0.072775810956955,-0.016774963587523,0.090357735753059,0.015879198908806,0.040867768228054,-0.015579207800329,0.028466818854213,0.146621674299240,-0.213085070252419,-0.078525848686695,-0.083298049867153,-0.003250840585679,0.064106941223145,-0.163727954030037));
res += mul(Get(s1,0,0), float4x4(0.099500551819801,0.021362660452724,0.034284695982933,-0.105512790381908,0.032595966011286,0.163096919655800,-0.004990891087800,0.114083476364613,0.068694904446602,0.074353463947773,-0.025117112323642,-0.044273536652327,-0.192858532071114,0.134733036160469,-0.068461865186691,-0.162457183003426));
res += mul(Get(s1,0,dy), float4x4(-0.010141888633370,0.033051460981369,0.110450446605682,0.087825372815132,-0.005868161097169,-0.067004121840000,-0.123885460197926,-0.108213610947132,-0.188630014657974,-0.028580483049154,0.141369402408600,-0.108457200229168,0.195536985993385,-0.008354899473488,0.001790184993297,0.024866113439202));
res += mul(Get(s1,dx,-dy), float4x4(-0.178418666124344,-0.034611392766237,0.092532306909561,-0.149818480014801,-0.014114056713879,-0.038739919662476,0.103662759065628,0.072310917079449,0.072193466126919,-0.108983725309372,0.002906663576141,0.118504226207733,-0.034758690744638,0.013684108853340,-0.045519076287746,0.230617687106133));
res += mul(Get(s1,dx,0), float4x4(0.129743173718452,-0.127713918685913,0.031330738216639,0.086544439196587,-0.202198982238770,-0.057771407067776,0.022426493465900,-0.144217178225517,-0.116098135709763,0.000640677521005,0.145455420017242,0.150690704584122,-0.110281094908714,-0.052254542708397,-0.049655206501484,0.051673181355000));
res += mul(Get(s1,dx,dy), float4x4(-0.151513949036598,0.103360585868359,0.126916825771332,0.016487395390868,-0.003442887682468,-0.002972339047119,0.019558312371373,-0.021323304623365,-0.009419831447303,-0.001280275988393,0.037898201495409,0.011991553008556,0.028783340007067,-0.005514790304005,-0.138184323906898,0.179926678538322));
res += mul(Get(s2,-dx,-dy), float4x4(-0.161777004599571,-0.088948614895344,0.071668632328510,-0.080157816410065,-0.016530225053430,0.092457577586174,-0.234952032566071,0.062912538647652,0.023387320339680,-0.012344569899142,-0.042807899415493,0.182386472821236,-0.063864395022392,0.025614500045776,-0.137303352355957,0.041930589824915));
res += mul(Get(s2,-dx,0), float4x4(0.098724044859409,0.042799681425095,0.003527898807079,-0.138448491692543,0.010365149937570,0.006451536435634,0.001613429863937,0.167505964636803,0.254512846469879,-0.023009039461613,-0.086284272372723,0.039772145450115,-0.000435849156929,-0.134113833308220,0.209681317210197,0.012102885171771));
res += mul(Get(s2,-dx,dy), float4x4(0.094276286661625,0.204020425677299,-0.188556224107742,0.037197459489107,0.065640993416309,0.050346758216619,-0.064094863831997,-0.100051641464233,0.054016828536987,-0.072787754237652,-0.119865253567696,-0.093496561050415,-0.015041880309582,0.008783820085227,-0.113489679992199,0.002101598307490));
res += mul(Get(s2,0,-dy), float4x4(-0.011053030379117,0.108639419078827,0.202158644795418,0.096096873283386,-0.080765709280968,0.062145732343197,0.095080047845840,0.029474468901753,0.110575258731842,-0.066298440098763,0.023942686617374,0.126294076442719,0.002955625765026,-0.052775867283344,-0.130847766995430,0.016649147495627));
res += mul(Get(s2,0,0), float4x4(-0.092470124363899,0.187460675835609,0.033577121794224,0.108412936329842,-0.017280682921410,0.086906611919403,-0.116354271769524,-0.060553673654795,0.098625972867012,0.030734695494175,-0.031591501086950,0.077045202255249,-0.082868233323097,0.080439388751984,0.031561601907015,-0.022516498342156));
res += mul(Get(s2,0,dy), float4x4(0.109226249158382,-0.053412381559610,0.257437586784363,-0.052892174571753,0.066954128444195,-0.094394072890282,0.069057181477547,-0.226439118385315,0.045240305364132,0.049457278102636,-0.050356276333332,-0.154172316193581,-0.000028638361982,0.032780013978481,-0.168708145618439,0.064719729125500));
res += mul(Get(s2,dx,-dy), float4x4(0.035318762063980,-0.097531557083130,-0.206521913409233,-0.011680529452860,-0.122354865074158,0.220486417412758,-0.219882622361183,-0.028879478573799,0.022893166169524,-0.172648489475250,0.154831781983376,-0.071225419640541,-0.188416615128517,0.058178093284369,-0.018758645281196,0.090864136815071));
res += mul(Get(s2,dx,0), float4x4(-0.066606462001801,-0.071298398077488,-0.150149509310722,0.031109565868974,-0.007358647882938,0.008211746811867,-0.092650100588799,0.007052198052406,-0.141670957207680,-0.078268006443977,0.010905800387263,0.003427370684221,0.018064422532916,0.144363775849342,0.091517113149166,0.023000089451671));
res += mul(Get(s2,dx,dy), float4x4(0.081590674817562,0.044920951128006,-0.105424024164677,0.061556771397591,-0.166518688201904,-0.090495325624943,0.052110079675913,-0.281795084476471,0.206226646900177,0.209770992398262,-0.004920138977468,-0.059300228953362,-0.092669300734997,0.097430467605591,-0.130473777651787,0.128918349742889));
res += mul(Get(s3,-dx,-dy), float4x4(-0.034681260585785,0.008794628083706,0.160659819841385,-0.095997415482998,0.150979295372963,-0.086907066404819,0.087390780448914,0.010584791190922,-0.028585184365511,-0.039643675088882,0.048610284924507,0.203494727611542,-0.053127955645323,-0.060786120593548,0.006241334602237,-0.175857350230217));
res += mul(Get(s3,-dx,0), float4x4(0.099625155329704,-0.064757801592350,-0.033046923577785,0.041247714310884,-0.109593152999878,0.020252862945199,-0.050278551876545,-0.022928815335035,-0.109054684638977,-0.120623417198658,0.083136595785618,0.151392415165901,-0.041472446173429,-0.069008186459541,-0.001772062387317,-0.158459484577179));
res += mul(Get(s3,-dx,dy), float4x4(0.044844917953014,0.015779834240675,0.044230762869120,-0.261653602123260,0.039539914578199,0.018076192587614,0.104001194238663,0.008463556878269,0.217950433492661,0.095909342169762,-0.214750722050667,-0.142413482069969,0.165358155965805,-0.100821159780025,0.060124024748802,-0.350032150745392));
res += mul(Get(s3,0,-dy), float4x4(0.084905467927456,-0.005855827592313,-0.055583193898201,-0.100041680037975,0.122423641383648,0.035811021924019,-0.050313465297222,0.075394652783871,-0.008363222703338,0.004831588827074,-0.041845455765724,0.043393950909376,-0.015651820227504,-0.058168832212687,0.028085557743907,0.105854623019695));
res += mul(Get(s3,0,0), float4x4(0.084998898208141,0.021715095266700,0.086172208189964,-0.027006210759282,-0.088831648230553,0.008772010914981,0.037663999944925,-0.013186639174819,-0.173306345939636,-0.087108634412289,0.144592598080635,0.045120976865292,-0.146741464734077,-0.033567789942026,0.084496945142746,0.100214950740337));
res += mul(Get(s3,0,dy), float4x4(0.028073497116566,-0.009581536054611,0.078893512487411,-0.127198040485382,0.050767965614796,0.008672297000885,0.009983408264816,-0.045874956995249,0.150727629661560,-0.034380096942186,-0.101983711123466,0.081399783492088,0.037172596901655,0.074941486120224,-0.138837292790413,-0.082901492714882));
res += mul(Get(s3,dx,-dy), float4x4(0.055091410875320,-0.062456306070089,-0.035792339593172,0.000306277157506,0.097871936857700,-0.112534329295158,0.016818260774016,0.033926468342543,-0.097228847444057,-0.276165097951889,0.097638703882694,-0.142933592200279,0.003220720682293,0.019646119326353,0.232386261224747,-0.069708518683910));
res += mul(Get(s3,dx,0), float4x4(-0.076777286827564,0.187543347477913,0.068481378257275,0.035928279161453,0.152474403381348,-0.046602021902800,0.075578577816486,-0.145771563053131,-0.064651124179363,-0.135669797658920,0.115973047912121,-0.084414437413216,-0.074015751481056,0.231187671422958,-0.124200925230980,0.005618224851787));
res += mul(Get(s3,dx,dy), float4x4(-0.084876589477062,0.140748962759972,-0.208306863903999,0.004231568425894,-0.046723078936338,0.123567618429661,0.022956667467952,-0.116235502064228,-0.131706371903419,0.050471905618906,-0.303378880023956,0.019108083099127,0.074231445789337,0.237206548452377,0.003313373075798,-0.007875587791204));
return max(float4(0,0,0,0), res);
}
