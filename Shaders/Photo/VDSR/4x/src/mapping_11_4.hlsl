sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.135318666696548,0.082442171871662,0.105123996734619,0.125694677233696,0.052264310419559,0.000545725401025,0.059222478419542,0.038018189370632,-0.161238804459572,0.001888450235128,-0.125885725021362,0.102101102471352,-0.053510092198849,0.061720184981823,0.105322636663914,-0.057443629950285));
res += mul(Get(s0,-dx,0), float4x4(0.025724941864610,-0.069980487227440,0.021870838478208,0.027534892782569,0.000142944700201,0.054587449878454,0.120792321860790,-0.000238224660279,-0.144464343786240,-0.006033361889422,-0.038108643144369,0.012261816300452,0.016198132187128,0.016553226858377,-0.017087001353502,0.030527580529451));
res += mul(Get(s0,-dx,dy), float4x4(0.002314724959433,0.037802033126354,-0.036591652780771,0.119081877171993,0.006975240539759,-0.016455933451653,0.097263291478157,-0.025572001934052,-0.045448992401361,0.276201277971268,-0.134641215205193,0.218148276209831,0.013784159906209,0.037888258695602,0.053217221051455,-0.066960006952286));
res += mul(Get(s0,0,-dy), float4x4(-0.017574232071638,0.009501478634775,0.168262839317322,-0.071937099099159,0.040471110492945,-0.043686203658581,0.054791692644358,0.036985989660025,-0.050289440900087,-0.089663274586201,0.078073143959045,-0.049814496189356,0.045932173728943,0.052216228097677,-0.129133760929108,-0.095455601811409));
res += mul(Get(s0,0,0), float4x4(0.082919254899025,-0.082390554249287,0.023164762184024,0.014644950628281,-0.062495104968548,0.033162407577038,-0.061912097036839,0.064015008509159,-0.080275878310204,0.067695885896683,-0.079474747180939,-0.064525470137596,0.092205762863159,0.164673775434494,-0.036699213087559,0.030887780711055));
res += mul(Get(s0,0,dy), float4x4(0.064231954514980,0.098521292209625,-0.058714251965284,-0.057823836803436,0.209208175539970,0.013451606035233,-0.084606282413006,-0.008201957680285,-0.100321285426617,0.140416085720062,-0.119716845452785,0.143712952733040,-0.163520842790604,0.006319018080831,0.106480300426483,-0.019404536113143));
res += mul(Get(s0,dx,-dy), float4x4(0.016347300261259,-0.032228082418442,0.168566897511482,-0.087656319141388,0.057903520762920,-0.145350739359856,-0.035874720662832,-0.126107439398766,0.047987423837185,-0.108642883598804,0.114612303674221,-0.049141954630613,-0.024870106950402,0.178701028227806,0.266694515943527,-0.037453666329384));
res += mul(Get(s0,dx,0), float4x4(-0.062030792236328,-0.058631073683500,-0.023291110992432,-0.106576412916183,0.093180827796459,0.017649406567216,-0.057820260524750,0.066215433180332,-0.082089535892010,-0.115724526345730,-0.019865073263645,-0.090254113078117,-0.154870480298996,0.076251655817032,0.157117486000061,-0.105621263384819));
res += mul(Get(s0,dx,dy), float4x4(0.069016948342323,0.116975530982018,-0.086899273097515,0.135525658726692,0.094440773129463,-0.073845058679581,-0.011476914398372,0.091944508254528,-0.054466553032398,-0.040736090391874,-0.092036090791225,-0.014584872871637,-0.259140223264694,0.116485305130482,0.140628278255463,0.026267668232322));
res += mul(Get(s1,-dx,-dy), float4x4(-0.055987726897001,0.009964717552066,-0.055521521717310,-0.198882058262825,0.036809802055359,0.105869188904762,0.001900782808661,-0.048458710312843,-0.170414671301842,0.003096021478996,-0.032464511692524,0.147296011447906,-0.110914714634418,0.015492113307118,-0.008448307402432,-0.046490676701069));
res += mul(Get(s1,-dx,0), float4x4(0.009118281304836,0.000293540739221,-0.062128078192472,-0.134599938988686,-0.055627722293139,-0.050219770520926,0.051502324640751,-0.025012966245413,-0.099256619811058,0.059904962778091,-0.048211462795734,0.015898372977972,-0.007183020003140,0.015939753502607,0.016039431095123,-0.064412884414196));
res += mul(Get(s1,-dx,dy), float4x4(0.009439824149013,-0.013078157790005,0.132528558373451,-0.042611632496119,-0.130740046501160,-0.004243126604706,-0.021166404709220,-0.037235949188471,-0.054686449468136,-0.101133957505226,0.012215983122587,-0.014943925663829,-0.034599710255861,0.016317136585712,0.116565823554993,-0.120848588645458));
res += mul(Get(s1,0,-dy), float4x4(0.004256267566234,0.014196352101862,0.019871877506375,0.091618850827217,0.062323417514563,0.163871988654137,0.037681695073843,-0.059737026691437,-0.108549773693085,-0.067686304450035,-0.115554168820381,0.120264574885368,-0.118499316275120,-0.019081490114331,-0.107781551778316,-0.050665494054556));
res += mul(Get(s1,0,0), float4x4(0.033057827502489,0.030796585604548,0.019856212660670,0.095368221402168,-0.041600622236729,-0.030276147648692,-0.072821170091629,0.076366655528545,-0.049983620643616,0.016850547865033,-0.074446260929108,0.003712123027071,0.018694780766964,-0.019606964662671,0.138766303658485,-0.006626440212131));
res += mul(Get(s1,0,dy), float4x4(0.133842125535011,0.017925459891558,0.013310903683305,-0.039981614798307,0.080257914960384,0.026425121352077,-0.050320766866207,-0.061881840229034,-0.038659296929836,-0.119195215404034,0.048372060060501,-0.048948161303997,0.157420292496681,0.007072900421917,0.047525156289339,-0.072229810059071));
res += mul(Get(s1,dx,-dy), float4x4(0.092936739325523,0.033386155962944,0.005500317551196,-0.071099698543549,0.078695967793465,0.180778399109840,0.264747351408005,-0.090567357838154,-0.068794883787632,-0.003384914482012,-0.058541756123304,-0.092792510986328,0.015297108329833,-0.058865685015917,-0.061220437288284,-0.024602718651295));
res += mul(Get(s1,dx,0), float4x4(0.177336156368256,-0.005278886295855,-0.070565551519394,-0.015242915600538,0.089175850152969,0.000871066586114,0.073836430907249,0.001369299367070,0.068174444139004,-0.100901640951633,0.029516052454710,-0.093289382755756,0.048855822533369,-0.023605631664395,-0.131292730569839,0.061125807464123));
res += mul(Get(s1,dx,dy), float4x4(0.090689167380333,-0.060679551213980,0.116586603224277,0.011976387351751,0.014832977205515,0.078357569873333,0.013946023769677,0.086329713463783,-0.011751362122595,-0.064138449728489,0.036805260926485,-0.004715900402516,0.065345399081707,0.005166385322809,-0.079332225024700,-0.081083357334137));
res += mul(Get(s2,-dx,-dy), float4x4(0.105299592018127,-0.007750741671771,0.124812737107277,0.074218034744263,-0.095397628843784,-0.033393137156963,-0.060654431581497,0.095198035240173,-0.137523829936981,0.148643761873245,-0.151180192828178,-0.016286268830299,-0.122913986444473,0.208846226334572,-0.070444740355015,0.210284411907196));
res += mul(Get(s2,-dx,0), float4x4(-0.008484501391649,0.036313671618700,-0.050441429018974,0.050746187567711,-0.046979356557131,-0.014756359159946,0.065869309008121,0.008283568546176,-0.017758501693606,0.143849894404411,-0.193025931715965,0.021422220394015,-0.073798216879368,0.070099115371704,0.032553575932980,0.069837599992752));
res += mul(Get(s2,-dx,dy), float4x4(0.024073971435428,-0.002851099707186,0.069143600761890,-0.008955486118793,0.069722399115562,-0.081692434847355,-0.008945721201599,-0.013043536804616,0.104174196720123,0.100294589996338,-0.101435817778111,0.108142822980881,0.039483189582825,-0.031797934323549,0.069562003016472,-0.048256933689117));
res += mul(Get(s2,0,-dy), float4x4(0.165239453315735,-0.053786594420671,0.118430234491825,0.011269848793745,-0.021527107805014,0.210456296801567,-0.098094254732132,-0.056099131703377,-0.088014982640743,0.036499947309494,-0.033764805644751,-0.033620961010456,-0.127843856811523,-0.062927991151810,-0.018957916647196,-0.049226518720388));
res += mul(Get(s2,0,0), float4x4(-0.088376961648464,0.005731021519750,0.015314548276365,-0.032444909214973,-0.047399487346411,0.002751235617325,-0.036164429038763,-0.113092295825481,-0.088594466447830,-0.114732176065445,-0.010393604636192,-0.045230247080326,-0.095370948314667,0.029396211728454,-0.010330494493246,-0.000118297772133));
res += mul(Get(s2,0,dy), float4x4(0.086525619029999,0.185717627406120,-0.002802166854963,0.073470480740070,-0.013822158798575,-0.114797696471214,0.015539148822427,-0.123535811901093,0.163563624024391,-0.041014812886715,-0.163637921214104,0.122498497366905,0.102890551090240,0.011719468049705,0.058874838054180,-0.098755300045013));
res += mul(Get(s2,dx,-dy), float4x4(0.017525743693113,-0.120990291237831,0.079174444079399,-0.023161314427853,-0.139640256762505,-0.133227378129959,-0.138113021850586,-0.077795788645744,-0.063704974949360,-0.046070888638496,0.036597345024347,-0.025052344426513,-0.077298916876316,0.118958979845047,-0.026737961918116,-0.083972953259945));
res += mul(Get(s2,dx,0), float4x4(0.029872966930270,-0.087502695620060,0.007816293276846,-0.063168652355671,-0.061893526464701,0.002269267803058,-0.130054205656052,-0.051681842654943,-0.048156026750803,-0.073444031178951,-0.002622799482197,-0.028080983087420,-0.073666326701641,0.040323529392481,0.005538296885788,0.114553861320019));
res += mul(Get(s2,dx,dy), float4x4(0.045784566551447,0.019272219389677,-0.050450135022402,-0.028397709131241,-0.022921381518245,-0.046080835163593,0.098815143108368,-0.117851130664349,0.211089625954628,-0.028028052300215,-0.147398114204407,0.165689036250114,0.173301830887794,-0.058073315769434,0.181245297193527,0.030688989907503));
res += mul(Get(s3,-dx,-dy), float4x4(-0.134055480360985,0.106493741273880,-0.060271281749010,0.136299997568130,-0.100972585380077,0.075864270329475,0.177243769168854,-0.013062221929431,-0.169435679912567,0.071232832968235,-0.021108616143465,0.070496283471584,-0.165038436651230,-0.109891332685947,-0.016075193881989,-0.003684193361551));
res += mul(Get(s3,-dx,0), float4x4(-0.093830294907093,-0.083446793258190,0.020259167999029,-0.127909973263741,0.145168006420135,-0.027013327926397,0.002224768279120,0.008015567436814,-0.202314943075180,-0.064031645655632,-0.124853633344173,0.127706602215767,-0.065378591418266,0.021388357505202,0.030868917703629,-0.072496354579926));
res += mul(Get(s3,-dx,dy), float4x4(-0.063073158264160,-0.043233338743448,0.054075755178928,-0.067336380481720,0.057689391076565,0.031654220074415,0.031715374439955,0.088210374116898,0.022285928949714,0.069923385977745,-0.090491831302643,0.143074676394463,-0.042210783809423,-0.074794493615627,0.040514431893826,-0.123875878751278));
res += mul(Get(s3,0,-dy), float4x4(-0.049658842384815,-0.073229201138020,-0.133293882012367,0.143940299749374,0.074170805513859,0.000767205434386,0.030078340321779,-0.076390050351620,-0.059918209910393,0.055999290198088,-0.048260308802128,-0.030899384990335,-0.020596312358975,-0.155832067131996,-0.054861027747393,0.042942125350237));
res += mul(Get(s3,0,0), float4x4(0.015253841876984,-0.019627166911960,-0.007091340143234,0.024508822709322,0.058404948562384,-0.019683957099915,-0.032150007784367,0.024886025115848,-0.047577004879713,0.038678031414747,-0.017615180462599,-0.110725969076157,-0.010288628749549,0.014912288635969,-0.028860213235021,0.045959908515215));
res += mul(Get(s3,0,dy), float4x4(0.057946052402258,-0.007489233743399,-0.015304135158658,-0.004403153900057,0.163601070642471,0.067165926098824,0.059953451156616,0.047561489045620,0.124534897506237,-0.086271859705448,-0.047289669513702,0.194302111864090,-0.030898323282599,-0.021806145086884,0.071597367525101,-0.157459750771523));
res += mul(Get(s3,dx,-dy), float4x4(-0.112388923764229,-0.021816004067659,-0.164240762591362,0.085081227123737,0.052303612232208,-0.018334837630391,0.007925017736852,-0.030229637399316,-0.069815650582314,-0.142774507403374,-0.057412274181843,-0.075433358550072,-0.083512768149376,-0.110834442079067,-0.078855991363525,0.166897237300873));
res += mul(Get(s3,dx,0), float4x4(-0.087693095207214,0.103111535310745,-0.029724271968007,0.104100406169891,-0.057105835527182,-0.036415934562683,-0.013136717490852,-0.022850289940834,-0.054855346679688,0.152335628867149,0.050433531403542,-0.091936945915222,-0.015501689165831,0.057552684098482,-0.044502902776003,-0.076213158667088));
res += mul(Get(s3,dx,dy), float4x4(0.046738602221012,-0.033494606614113,-0.076267786324024,0.038123846054077,-0.062723785638809,-0.069132931530476,0.070480979979038,-0.072341442108154,0.115015931427479,-0.038274478167295,-0.021509112790227,0.048173833638430,0.001967210089788,-0.072480909526348,0.012581099756062,-0.070085711777210));
return max(float4(0,0,0,0), res);
}
