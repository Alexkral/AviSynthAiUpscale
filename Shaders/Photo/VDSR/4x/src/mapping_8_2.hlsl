sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.066946312785149,-0.088953286409378,0.119972482323647,0.072271838784218,-0.074880436062813,0.003282636869699,0.095154501497746,0.038481999188662,0.130264386534691,-0.016807800158858,0.042124401777983,-0.133691802620888,0.168035775423050,-0.014085106551647,-0.083593554794788,-0.090551815927029));
res += mul(Get(s0,-dx,0), float4x4(0.104598224163055,-0.042764823883772,-0.053099472075701,0.149769410490990,-0.026932667940855,0.006315281614661,0.065734855830669,0.073960117995739,0.088823907077312,-0.087944366037846,0.057604860514402,-0.030653506517410,-0.029142526909709,-0.061689339578152,-0.053569562733173,-0.018212126567960));
res += mul(Get(s0,-dx,dy), float4x4(-0.055529538542032,0.260379165410995,-0.188134729862213,-0.006698234472424,-0.002575573278591,0.053132012486458,-0.056143634021282,-0.034832701086998,0.092699132859707,-0.031345196068287,0.029921777546406,-0.036166578531265,-0.168583795428276,-0.058855239301920,-0.233237549662590,0.059417456388474));
res += mul(Get(s0,0,-dy), float4x4(-0.152408063411713,-0.106530390679836,-0.041344672441483,-0.027677603065968,-0.092519953846931,-0.030772022902966,-0.044215559959412,-0.082549028098583,-0.059361152350903,0.010812508873641,-0.072107031941414,-0.189227491617203,0.066861025989056,-0.154449254274368,-0.104513965547085,-0.176970869302750));
res += mul(Get(s0,0,0), float4x4(-0.078039415180683,0.005850193556398,-0.030871050432324,-0.034604344516993,-0.080306403338909,0.103698663413525,-0.038066960871220,-0.071320764720440,-0.026336651295424,0.049109648913145,0.022852985188365,0.050674334168434,-0.183151632547379,-0.214347913861275,-0.036550931632519,0.026700282469392));
res += mul(Get(s0,0,dy), float4x4(0.158292189240456,-0.081783816218376,0.010509685613215,0.033293213695288,0.030042301863432,0.183722287416458,-0.113652952015400,-0.111095659434795,0.004422296304256,0.168753132224083,0.058933842927217,0.010772130452096,-0.056944027543068,0.017543496564031,-0.070205800235271,0.006702687591314));
res += mul(Get(s0,dx,-dy), float4x4(-0.087698288261890,-0.167809844017029,-0.079972006380558,-0.161799848079681,-0.048585191369057,0.051491137593985,-0.109930694103241,-0.109656311571598,-0.068842299282551,-0.006228966172785,0.059402283281088,0.150913462042809,0.192617237567902,0.024595631286502,-0.017762232571840,0.029993899166584));
res += mul(Get(s0,dx,0), float4x4(-0.074786067008972,0.029421083629131,-0.005146545358002,-0.156075567007065,-0.051441445946693,0.058070968836546,-0.027806665748358,-0.062704421579838,-0.007796215824783,-0.108464129269123,-0.006873465143144,0.066188953816891,-0.030400276184082,0.063783176243305,0.087744303047657,0.216933503746986));
res += mul(Get(s0,dx,dy), float4x4(-0.084259815514088,0.091041363775730,0.000403903250117,-0.098000332713127,-0.047343816608191,-0.068550281226635,-0.053315281867981,-0.054578837007284,0.069551438093185,-0.195802494883537,0.084706693887711,0.050326589494944,0.011736264452338,-0.114518009126186,0.052830826491117,0.118894793093204));
res += mul(Get(s1,-dx,-dy), float4x4(0.021601973101497,0.111454494297504,-0.138572052121162,0.013107055798173,-0.139470905065536,-0.025931410491467,-0.124401710927486,0.073204845190048,0.136124268174171,-0.023161323741078,-0.096335276961327,0.003978109918535,0.114668130874634,0.019806807860732,-0.115892775356770,0.051403805613518));
res += mul(Get(s1,-dx,0), float4x4(0.003451264463365,0.188605263829231,-0.134287491440773,-0.072425551712513,-0.098176255822182,-0.150231212377548,-0.119688943028450,0.016733173280954,0.023100525140762,-0.013429434038699,-0.192674621939659,-0.053592339158058,0.028252348303795,-0.056255102157593,-0.061589490622282,-0.056738261133432));
res += mul(Get(s1,-dx,dy), float4x4(-0.104273281991482,0.028581241145730,-0.111008718609810,-0.038603931665421,-0.066075228154659,-0.051296692341566,-0.094659917056561,0.029682947322726,-0.046141184866428,0.142377391457558,-0.000051840524975,-0.012631357647479,-0.031436014920473,-0.090663187205791,-0.156206801533699,0.011247850954533));
res += mul(Get(s1,0,-dy), float4x4(0.172774270176888,-0.044957671314478,0.101462535560131,0.103704221546650,0.015390444546938,-0.031267419457436,0.120272785425186,0.047320976853371,-0.050830621272326,0.078260093927383,0.063482120633125,0.044703558087349,0.245192915201187,-0.038151033222675,0.058407131582499,0.012711125425994));
res += mul(Get(s1,0,0), float4x4(0.060139395296574,0.042744435369968,0.031112598255277,-0.039180666208267,-0.054631136357784,-0.127183184027672,0.151740476489067,-0.019006811082363,-0.164086088538170,0.023617947474122,0.076107911765575,-0.222218081355095,0.209202527999878,-0.063581347465515,0.100668214261532,0.053415875881910));
res += mul(Get(s1,0,dy), float4x4(-0.024482190608978,0.093100756406784,0.076740823686123,-0.092059642076492,-0.099453628063202,0.030038282275200,0.089887715876102,-0.036615394055843,-0.119317263364792,0.024937119334936,0.025898493826389,-0.106473848223686,0.216325536370277,0.007230545859784,-0.026223761960864,0.188338264822960));
res += mul(Get(s1,dx,-dy), float4x4(0.208074808120728,0.077772215008736,-0.146736025810242,-0.009835677221417,0.059459313750267,-0.116519607603550,0.328264921903610,-0.025420116260648,0.110895633697510,-0.094820298254490,0.144064888358116,-0.022040553390980,-0.055907156318426,0.047046732157469,0.116775594651699,-0.169517338275909));
res += mul(Get(s1,dx,0), float4x4(-0.054149575531483,-0.071498468518257,-0.029075460508466,0.007767570670694,0.091618478298187,-0.069398902356625,-0.066540949046612,0.092787533998489,-0.080128476023674,-0.098156437277794,0.065155044198036,-0.142273932695389,-0.155333891510963,0.102207027375698,0.122717909514904,-0.168758824467659));
res += mul(Get(s1,dx,dy), float4x4(-0.027514956891537,0.031812958419323,0.097094520926476,-0.029604518786073,-0.028118263930082,0.089488916099072,-0.099841877818108,0.080363459885120,-0.124995440244675,0.205006197094917,-0.046068172901869,-0.125941708683968,-0.065455250442028,0.028443895280361,0.124279484152794,-0.084566891193390));
res += mul(Get(s2,-dx,-dy), float4x4(0.048176500946283,0.226208597421646,-0.014594634994864,0.186359927058220,0.029301289469004,-0.056069936603308,-0.068491153419018,0.011905442923307,0.049607660621405,-0.109446570277214,0.138080433011055,0.071458995342255,-0.013266521506011,-0.086075112223625,0.090552479028702,0.059348434209824));
res += mul(Get(s2,-dx,0), float4x4(0.034050893038511,0.165911957621574,-0.008889594115317,0.120822452008724,-0.003610872430727,-0.104742392897606,-0.049640662968159,0.026280134916306,-0.037626076489687,-0.047413293272257,-0.029015038162470,0.004336114041507,-0.026365345343947,-0.098616376519203,-0.200662955641747,0.010629523545504));
res += mul(Get(s2,-dx,dy), float4x4(0.065912537276745,0.149005368351936,-0.088496126234531,0.078664295375347,0.019679259508848,-0.062526538968086,-0.091918207705021,0.161163136363029,-0.148067221045494,-0.040930371731520,-0.000110948109068,-0.052813917398453,0.012399518862367,-0.142052695155144,-0.145928412675858,-0.032549388706684));
res += mul(Get(s2,0,-dy), float4x4(0.060975380241871,0.007712942082435,-0.040429919958115,-0.007453702390194,-0.052594356238842,0.311440497636795,-0.161445572972298,-0.018680540844798,-0.041712198406458,0.037141416221857,0.109150886535645,-0.007185465190560,-0.027056779712439,-0.067234709858894,0.109578311443329,-0.096644416451454));
res += mul(Get(s2,0,0), float4x4(0.050548717379570,0.078551664948463,-0.043514844030142,0.006939446087927,-0.116190850734711,0.144777238368988,-0.109330318868160,0.019770784303546,-0.069478668272495,0.136637955904007,0.034471273422241,-0.028581999242306,-0.048488635569811,0.000599260732997,0.100514456629753,0.178704366087914));
res += mul(Get(s2,0,dy), float4x4(0.034164685755968,0.076342880725861,0.017087152227759,0.011427163146436,-0.020637219771743,-0.062632590532303,-0.079751215875149,0.044023551046848,-0.043548814952374,-0.042840380221605,-0.063126347959042,-0.043933600187302,-0.047784600406885,-0.084905460476875,-0.085533328354359,0.142030462622643));
res += mul(Get(s2,dx,-dy), float4x4(0.015675581991673,-0.021966733038425,-0.001819528755732,-0.112230524420738,0.043171696364880,-0.004764651879668,0.041704721748829,0.013538391329348,-0.077613860368729,0.100345872342587,-0.074518784880638,-0.161433354020119,-0.029939226806164,0.057413145899773,-0.079680196940899,-0.160824149847031));
res += mul(Get(s2,dx,0), float4x4(-0.007278713863343,-0.061010707169771,-0.024571679532528,-0.228398695588112,-0.033146783709526,0.189456805586815,0.002271689474583,0.013693616725504,-0.157722175121307,0.003098841290921,-0.012769049964845,-0.149125486612320,-0.076894067227840,0.041968788951635,-0.010157654993236,-0.147345021367073));
res += mul(Get(s2,dx,dy), float4x4(-0.033826682716608,-0.068189248442650,0.016293639317155,-0.120281271636486,0.198115080595016,-0.112803563475609,-0.077895976603031,-0.026753248646855,-0.107998542487621,0.022710489109159,0.003125542774796,-0.214001372456551,-0.143622010946274,-0.059358999133110,-0.014227130450308,-0.271213352680206));
res += mul(Get(s3,-dx,-dy), float4x4(0.074097804725170,0.024100171402097,-0.166352182626724,0.192726731300354,0.020628757774830,-0.147787481546402,0.036572396755219,0.093387402594090,-0.113978825509548,-0.136177137494087,-0.009650460444391,0.070396885275841,-0.039055496454239,-0.193713113665581,0.180941700935364,0.027815256267786));
res += mul(Get(s3,-dx,0), float4x4(-0.043265517801046,-0.092383690178394,-0.114777266979218,0.190594032406807,-0.006767655722797,-0.033128000795841,0.223060712218285,0.001795377698727,-0.015071365982294,-0.061741635203362,0.004621783271432,0.220225021243095,-0.044124152511358,-0.002502596471459,0.140539407730103,0.132909476757050));
res += mul(Get(s3,-dx,dy), float4x4(0.038545489311218,0.011391555890441,-0.017825456336141,-0.002361082239076,0.140099942684174,0.023353753611445,0.097900718450546,0.039769206196070,0.003937660716474,0.089834876358509,-0.041981674730778,-0.003290429478511,-0.085039518773556,0.131209120154381,-0.055900752544403,-0.006207705941051));
res += mul(Get(s3,0,-dy), float4x4(-0.057546619325876,-0.001624454627745,-0.014754637144506,-0.009783253073692,0.154203847050667,0.028518814593554,0.036866821348667,-0.075608223676682,-0.117448195815086,-0.184422641992569,-0.011546408757567,0.019119434058666,0.032894641160965,0.036986939609051,-0.037903588265181,-0.047643769532442));
res += mul(Get(s3,0,0), float4x4(-0.067939385771751,-0.109252311289310,-0.041515678167343,0.164703935384750,-0.030343778431416,0.099491238594055,-0.009464157745242,-0.133782610297203,-0.011009011417627,-0.106665275990963,0.019709065556526,0.248375698924065,-0.012698912993073,0.095090098679066,-0.055749934166670,0.153786957263947));
res += mul(Get(s3,0,dy), float4x4(-0.010733422823250,0.095161840319633,0.025140728801489,0.011506432667375,0.073499023914337,0.053403530269861,0.144730731844902,-0.026662252843380,0.100923150777817,-0.021364124491811,-0.098324783146381,-0.069625735282898,0.052811279892921,0.060823488980532,0.070093549787998,-0.076932474970818));
res += mul(Get(s3,dx,-dy), float4x4(0.095401823520660,-0.094457596540451,-0.071003444492817,-0.054182868450880,0.256107687950134,0.010192757472396,-0.035247255116701,-0.127211526036263,-0.124380975961685,-0.141086265444756,-0.043755851686001,-0.234696835279465,0.059229988604784,-0.184853985905647,0.142504706978798,0.099293790757656));
res += mul(Get(s3,dx,0), float4x4(0.107419587671757,-0.024153558537364,-0.003568547777832,0.045318052172661,-0.046322803944349,0.060123614966869,0.020615184679627,-0.093840345740318,-0.103672027587891,-0.034582387655973,-0.015930706635118,-0.053037092089653,-0.031516276299953,-0.089806862175465,0.045605022460222,0.214787468314171));
res += mul(Get(s3,dx,dy), float4x4(0.182105734944344,0.083687663078308,0.246541857719421,-0.071697108447552,0.034748129546642,0.076151080429554,0.125296697020531,-0.191985264420509,0.108553327620029,0.014964103698730,0.006585490424186,-0.252014845609665,0.011695715598762,0.021351031959057,0.088205769658089,0.068212285637856));
return max(float4(0,0,0,0), res);
}
