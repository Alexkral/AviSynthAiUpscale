sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.038943037390709,0.194014579057693,-0.113149076700211,0.083203069865704,-0.038479454815388,0.025602702051401,-0.112061955034733,-0.024407450109720,0.011848947964609,0.023793345317245,-0.070712171494961,0.014829387888312,0.055479422211647,-0.086384542286396,0.067088015377522,0.078324466943741));
res += mul(Get(s0,-dx,0), float4x4(-0.129863142967224,0.117222361266613,-0.048521008342505,-0.057262022048235,-0.056064218282700,0.047331031411886,-0.133116990327835,0.048789486289024,0.042311094701290,-0.032693371176720,-0.034545134752989,-0.080078266561031,0.128493115305901,-0.006899231113493,-0.153590753674507,-0.034311547875404));
res += mul(Get(s0,-dx,dy), float4x4(-0.087724201381207,0.062805861234665,-0.092926383018494,0.136170938611031,-0.055686686187983,-0.204565465450287,0.185429841279984,-0.018730292096734,-0.022543521597981,-0.073066532611847,0.045724872499704,0.001658303895965,0.077724531292915,0.068451501429081,0.051574934273958,0.176029011607170));
res += mul(Get(s0,0,-dy), float4x4(-0.087447464466095,-0.076710738241673,0.057391583919525,0.026995688676834,-0.037402812391520,-0.113527111709118,-0.114708952605724,0.016456991434097,-0.098381571471691,0.185567826032639,0.071109414100647,0.043868914246559,0.096980124711990,0.009011910296977,-0.052098654210567,0.087837956845760));
res += mul(Get(s0,0,0), float4x4(-0.191170781850815,0.122004590928555,-0.136250749230385,0.005673913285136,0.121271848678589,-0.138631239533424,0.204862341284752,0.050328064709902,0.126383826136589,0.013641893863678,-0.213841646909714,0.041738029569387,0.012070230208337,0.213150158524513,-0.052807457745075,0.188107043504715));
res += mul(Get(s0,0,dy), float4x4(-0.004999930504709,-0.008704216219485,-0.015647530555725,0.013319543562829,0.064591348171234,-0.078408129513264,-0.250716120004654,0.200910657644272,0.175981342792511,-0.115490600466728,-0.101669505238533,0.079414106905460,0.029000405222178,-0.207096308469772,0.069066502153873,0.065048366785049));
res += mul(Get(s0,dx,-dy), float4x4(-0.101629652082920,0.143730461597443,-0.083728775382042,0.074637658894062,-0.068225853145123,-0.068646110594273,0.016742663457990,-0.039906505495310,0.071680448949337,-0.089181669056416,-0.038475293666124,-0.053680598735809,-0.119782343506813,-0.018833572044969,-0.042820595204830,0.135981917381287));
res += mul(Get(s0,dx,0), float4x4(0.057560164481401,-0.040040727704763,-0.038344390690327,0.051432088017464,-0.161995992064476,0.121395520865917,-0.124229297041893,-0.104008831083775,-0.028084741905332,0.056446399539709,-0.060209918767214,0.086111649870872,0.037241335958242,0.106675028800964,-0.118379436433315,0.036908533424139));
res += mul(Get(s0,dx,dy), float4x4(0.036918789148331,-0.074014082551003,0.127284765243530,0.242527008056641,0.014256747439504,-0.070433147251606,0.190060153603554,0.186453029513359,-0.130818665027618,-0.178109943866730,0.123862996697426,-0.013156389817595,-0.047605246305466,0.099661633372307,0.022767184302211,-0.000742830568925));
res += mul(Get(s1,-dx,-dy), float4x4(0.069658137857914,0.053505111485720,0.141452431678772,0.037332762032747,0.018750619143248,-0.109562225639820,-0.049168571829796,-0.161939024925232,-0.096853002905846,-0.008758271113038,0.024920631200075,0.002702204510570,0.131477847695351,0.051476843655109,0.107557624578476,0.089702554047108));
res += mul(Get(s1,-dx,0), float4x4(0.073079429566860,0.136941269040108,0.014789651148021,0.238014057278633,0.060110088437796,-0.131817489862442,0.018953580409288,-0.101011648774147,-0.152382895350456,-0.047348544001579,0.120988987386227,-0.040011018514633,-0.000856264552567,0.046803463250399,-0.004194110166281,-0.154432803392410));
res += mul(Get(s1,-dx,dy), float4x4(0.112787939608097,-0.072311751544476,-0.224938422441483,0.008573134429753,-0.170347869396210,0.125332266092300,-0.282563805580139,0.081133723258972,0.157749354839325,-0.356063514947891,-0.110785052180290,-0.115326337516308,-0.078089125454426,-0.025027312338352,0.074030473828316,0.037161193788052));
res += mul(Get(s1,0,-dy), float4x4(-0.019689686596394,0.141930013895035,0.400275170803070,0.002560351509601,0.058179032057524,-0.015484301373363,-0.068895079195499,0.221341222524643,0.083906881511211,0.168292462825775,0.074956096708775,-0.012741026468575,0.032961957156658,0.098368518054485,-0.072299771010876,0.112875461578369));
res += mul(Get(s1,0,0), float4x4(-0.082422189414501,-0.155043512582779,-0.068451009690762,-0.204564586281776,-0.116232350468636,-0.263724476099014,-0.064274318516254,-0.210799708962440,0.059448231011629,0.114769086241722,-0.011357129551470,-0.154547795653343,-0.262426763772964,-0.149582847952843,-0.015941813588142,0.000186163015314));
res += mul(Get(s1,0,dy), float4x4(0.133709877729416,0.068726554512978,-0.041040062904358,0.026692962273955,0.035264555364847,0.032021213322878,-0.040046148002148,0.033443707972765,0.155094891786575,-0.012899560853839,-0.031648121774197,-0.075102843344212,-0.101276330649853,-0.017078490927815,-0.016115922480822,-0.162795558571815));
res += mul(Get(s1,dx,-dy), float4x4(0.021036220714450,-0.114094786345959,-0.077203631401062,-0.002101708203554,-0.126823827624321,-0.082069002091885,-0.049085810780525,0.132988512516022,0.010725217871368,0.003570731263608,-0.091846704483032,0.016684547066689,-0.120373427867889,-0.001739690778777,0.001465667621233,0.007517419289798));
res += mul(Get(s1,dx,0), float4x4(0.281037241220474,-0.200669184327126,-0.151117920875549,0.108759596943855,-0.096225775778294,-0.110177554190159,-0.003946762531996,-0.198077350854874,-0.066599227488041,-0.079352676868439,0.123159810900688,0.169840842485428,-0.046248093247414,-0.127727434039116,-0.150831893086433,0.088215366005898));
res += mul(Get(s1,dx,dy), float4x4(-0.303861260414124,-0.082546964287758,0.114796526730061,0.016066379845142,-0.280733555555344,-0.060943569988012,0.110573567450047,0.156146675348282,0.034948974847794,-0.035081427544355,-0.048386037349701,0.212265700101852,0.105454310774803,-0.006452691275626,-0.033033698797226,0.093651138246059));
res += mul(Get(s2,-dx,-dy), float4x4(0.053660757839680,0.067123770713806,-0.016209723427892,0.129813313484192,-0.019410708919168,-0.065544523298740,-0.082408361136913,-0.136548936367035,-0.126662269234657,0.102123253047466,-0.099165469408035,-0.049022644758224,0.138596549630165,0.147633180022240,0.078853935003281,-0.148470774292946));
res += mul(Get(s2,-dx,0), float4x4(0.127269893884659,0.165457487106323,0.162532955408096,-0.124739974737167,0.013593367300928,0.092125453054905,0.023930827155709,-0.249237418174744,-0.101254023611546,-0.053051717579365,-0.064288526773453,0.102909110486507,0.029577793553472,-0.025261444970965,-0.171523332595825,-0.167652890086174));
res += mul(Get(s2,-dx,dy), float4x4(0.133448079228401,-0.008147167973220,0.017672957852483,-0.170934960246086,-0.092438727617264,0.143409833312035,-0.435105651617050,-0.068891629576683,-0.105116382241249,-0.028106838464737,-0.017277520149946,-0.127760037779808,-0.072102427482605,0.039642415940762,0.052923332899809,0.069481745362282));
res += mul(Get(s2,0,-dy), float4x4(-0.138342961668968,0.063118003308773,0.129401624202728,0.001493636053056,-0.045246336609125,-0.094331055879593,0.011245971545577,0.156484693288803,-0.004126154817641,-0.131154999136925,-0.076598748564720,0.141667231917381,0.141993254423141,0.002934764139354,-0.021772069856524,-0.017732234671712));
res += mul(Get(s2,0,0), float4x4(0.248740449547768,-0.011187724769115,0.027063885703683,-0.154956310987473,0.197557032108307,0.032743688672781,0.082053668797016,0.065152980387211,0.065324366092682,-0.109398603439331,0.043547555804253,0.000886724970769,-0.025606537237763,0.006763653364033,-0.039280887693167,-0.092600956559181));
res += mul(Get(s2,0,dy), float4x4(-0.097328349947929,-0.048279177397490,-0.159762516617775,-0.020748963579535,0.008987288922071,0.037352405488491,0.170294433832169,-0.299269974231720,0.006219352129847,-0.207702949643135,0.215984895825386,-0.163466095924377,0.044271934777498,0.073666982352734,-0.053638327866793,-0.096226938068867));
res += mul(Get(s2,dx,-dy), float4x4(0.125822618603706,-0.196404859423637,-0.077316612005234,0.191268622875214,0.101124845445156,0.036507684737444,0.021128922700882,0.044087063521147,0.098720297217369,0.229925036430359,-0.191839948296547,0.012885771691799,0.039849624037743,0.024660231545568,-0.058269143104553,0.127783343195915));
res += mul(Get(s2,dx,0), float4x4(-0.070216208696365,-0.139334127306938,-0.015932576730847,0.084324203431606,0.060538414865732,-0.134897649288177,-0.003330769250169,0.197087392210960,0.162887915968895,-0.050284683704376,-0.073494553565979,0.174187555909157,-0.148327276110649,-0.037636030465364,0.025017810985446,-0.032092459499836));
res += mul(Get(s2,dx,dy), float4x4(0.054757531732321,0.116418614983559,-0.077024877071381,0.082166232168674,0.192893192172050,0.038993306457996,0.133386641740799,-0.001308983308263,0.019804734736681,0.067218497395515,0.077972456812859,-0.114913284778595,0.155500799417496,-0.093311399221420,0.023488592356443,-0.090396285057068));
res += mul(Get(s3,-dx,-dy), float4x4(0.110227391123772,0.054837401956320,-0.079264737665653,-0.011904492974281,0.089776284992695,-0.085338771343231,-0.118443287909031,-0.042209651321173,0.014004891738296,-0.118547335267067,0.164693683385849,-0.342228978872299,-0.073617473244667,-0.115455813705921,-0.007673819549382,0.125975921750069));
res += mul(Get(s3,-dx,0), float4x4(-0.102396219968796,-0.069416426122189,0.141166999936104,-0.002798277651891,-0.017135325819254,0.227956905961037,0.013158020563424,-0.011652899906039,0.180629342794418,-0.061457835137844,0.052432321012020,0.082159787416458,0.020272569730878,-0.096078559756279,-0.019331695511937,-0.164916738867760));
res += mul(Get(s3,-dx,dy), float4x4(0.041739646345377,0.001573043526150,0.084961444139481,0.120299339294434,0.002846736926585,0.082108855247498,-0.008743657730520,0.053178153932095,-0.041557740420103,-0.059776406735182,0.013869567774236,0.139790758490562,-0.062843203544617,0.066467829048634,-0.041392933577299,0.209421843290329));
res += mul(Get(s3,0,-dy), float4x4(0.106915846467018,-0.054393485188484,-0.116974771022797,0.176359966397285,0.018711956217885,-0.050316978245974,-0.078141786158085,-0.083734154701233,0.057452805340290,-0.114237010478973,-0.068581767380238,0.260771125555038,-0.188984096050262,-0.032474454492331,0.118009872734547,0.157903686165810));
res += mul(Get(s3,0,0), float4x4(0.035210248082876,0.060766473412514,0.024704650044441,0.072698235511780,-0.172888368368149,-0.100302785634995,-0.137500062584877,-0.120654001832008,0.130027532577515,-0.154731944203377,-0.005873790942132,-0.171676576137543,-0.137020617723465,-0.104880131781101,0.013122789561749,-0.046632137149572));
res += mul(Get(s3,0,dy), float4x4(-0.001590703963302,0.122442267835140,-0.205087691545486,0.106580398976803,-0.155239641666412,-0.051033105701208,-0.018006969243288,0.125856950879097,-0.054714508354664,-0.035385612398386,-0.061783738434315,0.071991190314293,-0.114726327359676,-0.009538081474602,-0.016498215496540,-0.087023593485355));
res += mul(Get(s3,dx,-dy), float4x4(0.064131498336792,0.030968779698014,0.120532996952534,0.021744577214122,0.031044691801071,-0.087882302701473,-0.047928795218468,-0.035861313343048,-0.089442841708660,-0.024359012022614,-0.068791523575783,0.017234019935131,-0.002942343475297,-0.115109711885452,-0.143277332186699,0.133520066738129));
res += mul(Get(s3,dx,0), float4x4(0.018109114840627,-0.021641047671437,0.247362241148949,-0.353174716234207,0.005711816251278,0.107320010662079,0.048479907214642,0.030088173225522,0.259474635124207,-0.231329470872879,0.027856476604939,-0.215451270341873,0.073395065963268,-0.119158491492271,-0.162068217992783,-0.242978900671005));
res += mul(Get(s3,dx,dy), float4x4(0.038353312760592,-0.136678084731102,0.011603228747845,0.093064643442631,0.185358911752701,0.075582273304462,-0.069101884961128,0.057642593979836,0.185017481446266,0.095168933272362,0.114272244274616,-0.078194059431553,-0.181547582149506,-0.232797667384148,0.078023754060268,-0.136375367641449));
return max(float4(0,0,0,0), res);
}
