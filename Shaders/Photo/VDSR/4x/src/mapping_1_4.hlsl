sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.003559551900253,0.004086510278285,0.002619907725602,-0.000738852540962,0.102195031940937,0.022700972855091,0.531621992588043,-0.132182464003563,-0.006267754361033,0.002137396484613,0.001618460402824,0.006581194233149,-0.004213422071189,0.002903601853177,0.005091896280646,0.003030651947483));
res += mul(Get(s0,-dx,0), float4x4(-0.001704858965240,-0.005910555832088,-0.003758511971682,-0.000788031087723,0.062191583216190,0.012577698566020,0.093641445040703,-0.097985044121742,-0.004032148979604,0.004672415554523,-0.000523484195583,-0.001394901657477,0.001893603592180,0.009498378261924,0.006757246330380,0.000534574151970));
res += mul(Get(s0,-dx,dy), float4x4(-0.003600827418268,-0.001376545405947,0.000120315955428,0.004253404680640,0.147384017705917,0.005070443730801,-0.093624889850616,-0.075738333165646,0.003166746813804,-0.000909899128601,0.000886958674528,-0.001549813547172,0.007552705239505,0.007371605839580,0.000693565700203,-0.007925582118332));
res += mul(Get(s0,0,-dy), float4x4(0.001626985496841,-0.000919319165405,0.001614582608454,-0.005901258438826,0.090602964162827,-0.005436316132545,0.441391766071320,-0.127386540174484,-0.002201460534707,-0.006628489121795,0.007820066064596,-0.004434594884515,0.006057467311621,0.005943491123617,0.002615340054035,-0.004713808186352));
res += mul(Get(s0,0,0), float4x4(-0.000980358337983,0.002262713154778,-0.003014564281330,-0.008967756293714,0.159077242016792,0.010441778227687,-0.027829295024276,-0.113038867712021,-0.005252944305539,0.003705924842507,-0.002973370021209,0.001928881043568,-0.001858826610260,0.004805554635823,0.002251616446301,0.002305018715560));
res += mul(Get(s0,0,dy), float4x4(-0.001109383651055,-0.002063855528831,-0.001105141127482,0.006179483607411,-0.032549079507589,-0.003515660297126,-0.136504724621773,-0.105939947068691,-0.000223481139983,-0.005189964082092,-0.000256852013990,-0.001647613476962,0.004497435409576,-0.000125063219457,-0.005542444996536,0.001910621067509));
res += mul(Get(s0,dx,-dy), float4x4(-0.004922448657453,0.000716349401046,-0.000118539843243,-0.001059166505001,-0.556335568428040,-0.082218989729881,0.281176835298538,-0.107546061277390,-0.003337028203532,0.002801560563967,-0.002983401296660,0.001832626061514,0.002400778699666,0.001975584309548,-0.000474286964163,-0.001942774979398));
res += mul(Get(s0,dx,0), float4x4(0.001729752169922,-0.003324659075588,0.003596758702770,0.003565968945622,-0.052714738994837,-0.079285226762295,-0.456772059202194,-0.110223196446896,0.001329569960944,0.000148061299114,0.004501529503614,-0.000665439176373,-0.006547480355948,0.003990746568888,0.005203193519264,-0.000630225986242));
res += mul(Get(s0,dx,dy), float4x4(0.002132131485268,-0.005628396291286,0.006490412168205,-0.007041875272989,0.141771271824837,-0.083634622395039,-0.574098169803619,-0.131048426032066,-0.008956531062722,-0.002313268836588,0.002068713773042,0.007183952257037,-0.001033945474774,-0.001859690644778,-0.000307208596496,-0.001578164170496));
res += mul(Get(s1,-dx,-dy), float4x4(-0.061653211712837,0.000164278171724,-0.057254552841187,-0.000755859771743,-0.005988006945699,0.006658516824245,0.004566849675030,0.002675448078662,-0.004414186347276,-0.005898374598473,-0.008384832181036,-0.000055172553402,0.095130659639835,-0.006859800312668,-0.174801766872406,0.060748305171728));
res += mul(Get(s1,-dx,0), float4x4(-0.029704865068197,0.000443175900728,-0.236279815435410,0.017635466530919,0.003261636244133,-0.005015653092414,0.000962135498412,0.000523597234860,0.001700247521512,0.004939700476825,-0.000030810384487,-0.002193855587393,-0.052429407835007,-0.013541352935135,-0.002576388185844,-0.003374393796548));
res += mul(Get(s1,-dx,dy), float4x4(0.053426738828421,-0.005008653271943,-0.063680328428745,-0.004221830051392,-0.000792238279246,-0.003065294818953,-0.010769371874630,-0.000170591301867,-0.003802116727456,-0.000035691857192,0.004228683188558,-0.001075227046385,-0.052669130265713,0.002012564335018,-0.013214356265962,-0.007154278457165));
res += mul(Get(s1,0,-dy), float4x4(-0.119399972259998,-0.001174352364615,0.047818686813116,-0.001183151267469,-0.000681319332216,-0.002003816654906,0.000826592440717,-0.000076292584708,0.002377202501521,-0.004432816524059,-0.000760421040468,0.000097689313407,0.044667311012745,-0.007851494476199,-0.151572197675705,0.066487632691860));
res += mul(Get(s1,0,0), float4x4(-0.088569857180119,-0.002891072537750,-0.107803605496883,0.012490306980908,-0.001297970302403,0.007282769773155,0.005461347289383,-0.005817315075547,0.001357404631563,0.002600383479148,-0.002007746370509,-0.004514044616371,-0.032596506178379,-0.002008635783568,0.006519265472889,-0.001947514130734));
res += mul(Get(s1,0,dy), float4x4(0.003816792042926,-0.010512993671000,0.042710006237030,-0.011226350441575,0.002638908103108,0.005037540104240,0.004874865058810,0.001874116482213,-0.008784012869000,-0.003021006705239,-0.008864731527865,0.001347972196527,-0.040904574096203,0.000767685880419,-0.005770497489721,-0.001153188408352));
res += mul(Get(s1,dx,-dy), float4x4(-0.105786710977554,0.025066345930099,0.041711814701557,-0.004025972448289,0.006611763499677,-0.004614301025867,0.007825713604689,0.000316606136039,0.001858752453700,-0.001751345000230,0.001214623101987,-0.004264252260327,0.001454128185287,-0.006220714189112,-0.123137943446636,0.023881660774350));
res += mul(Get(s1,dx,0), float4x4(-0.003798566525802,0.026029270142317,-0.110380314290524,0.055151391774416,0.000739319715649,0.000752254913095,0.001549479900859,-0.004289741627872,0.002346967346966,0.003892523935065,0.003730750177056,-0.000903581269085,-0.063126616179943,-0.003988820593804,0.013728523626924,-0.004358502570540));
res += mul(Get(s1,dx,dy), float4x4(-0.128816336393356,0.010196872986853,-0.004668935667723,0.078614242374897,0.003058216301724,0.004154449328780,0.000781560433097,0.003423226997256,0.003970745485276,-0.001704303896986,0.007986968383193,0.003064488293603,-0.035409118980169,-0.002123760059476,0.002288338029757,-0.012093336321414));
res += mul(Get(s2,-dx,-dy), float4x4(-0.003493397263810,-0.006723741535097,0.002807037439197,-0.004257861059159,0.028622234240174,-0.002279778243974,-0.049832411110401,0.015297850593925,0.001332829007879,0.002712350105867,0.009336976334453,0.003822072874755,-0.100979134440422,-0.035042334347963,0.362871885299683,-0.031229875981808));
res += mul(Get(s2,-dx,0), float4x4(-0.000824480026495,0.003651269711554,0.002497445326298,-0.001550511224195,-0.018360761925578,-0.002334103453904,-0.001122489804402,-0.000929837638978,-0.002284815069288,-0.003377177519724,0.003933240193874,-0.003419419284910,-0.146962299942970,-0.044552512466908,0.095811389386654,-0.159003913402557));
res += mul(Get(s2,-dx,dy), float4x4(-0.004883687477559,-0.002625795779750,-0.002676748670638,-0.000915863492992,-0.025578286498785,-0.007023400627077,-0.001803800230846,-0.012526185251772,0.005601641256362,0.000216805550735,-0.002276547253132,0.005865043960512,0.542858541011810,-0.006884157191962,-0.426054686307907,-0.268778800964355));
res += mul(Get(s2,0,-dy), float4x4(-0.008040623739362,-0.004658428486437,0.001217413926497,0.011989693157375,0.019939785823226,-0.003649507416412,-0.045495074242353,0.015358202159405,0.008801813237369,0.001540497061796,-0.001244214712642,0.007736539468169,-0.509779095649719,-0.021374583244324,0.501281559467316,0.016949485987425));
res += mul(Get(s2,0,0), float4x4(-0.000409658008721,-0.003750846488401,0.003849986242130,-0.000560893560760,-0.011571188457310,0.002994952024892,0.000983327045105,-0.001902483869344,-0.006027649622411,0.006693769712001,0.004592989105731,0.002173446351662,-0.278030693531036,-0.032996285706758,-0.054100871086121,-0.059972085058689));
res += mul(Get(s2,0,dy), float4x4(0.005913093686104,0.006292024627328,-0.003053497988731,-0.001889513223432,-0.017936451360583,-0.005915412679315,0.004549052566290,-0.006652156822383,-0.002784278476611,-0.000794893596321,0.004180088173598,0.003542054211721,0.850867569446564,-0.024436576291919,-0.647938907146454,-0.194595962762833));
res += mul(Get(s2,dx,-dy), float4x4(0.000524959992617,0.003882519900799,-0.000418823648943,0.002273661317304,-0.002384122926742,-0.002305199857801,-0.033883977681398,0.014569972641766,0.002371923066676,0.000983990379609,-0.006960412487388,0.004727685358375,0.029338726773858,0.085413672029972,0.713938295841217,0.209633335471153));
res += mul(Get(s2,dx,0), float4x4(-0.000248712516623,-0.003897558432072,-0.002736881840974,-0.000359719444532,-0.013344990089536,-0.002325293840840,0.004093911498785,-0.005658020265400,-0.004556343425065,-0.002346502849832,0.008460124954581,-0.004591818433255,-0.210788711905479,0.147353053092957,0.095918409526348,0.120015814900398));
res += mul(Get(s2,dx,dy), float4x4(0.003799737896770,0.004215226043016,-0.003644859883934,-0.001259451149963,-0.003179920138791,-0.000289557443466,-0.002613022457808,-0.004020710941404,-0.004601139109582,-0.008331884630024,-0.003786205779761,0.001057588960975,0.026721943169832,0.047048442065716,-0.654001176357269,0.053489547222853));
res += mul(Get(s3,-dx,-dy), float4x4(-0.000440335017629,-0.002182129072025,-0.029297390952706,-0.006292143370956,-0.017192378640175,-0.010733122937381,-0.278947621583939,0.091847524046898,0.003834588220343,-0.011189014650881,-0.398257017135620,0.198941856622696,-0.088309042155743,-0.015546193346381,-0.040827885270119,-0.017362220212817));
res += mul(Get(s3,-dx,0), float4x4(0.006143953651190,0.000792276056018,-0.073180377483368,0.007676356472075,-0.122471518814564,-0.009728648699820,-0.076605945825577,-0.012794916518033,-0.033579666167498,-0.032282084226608,0.007259150967002,0.033108115196228,0.004308289382607,-0.015358260832727,-0.275870591402054,0.003872255329043));
res += mul(Get(s3,-dx,dy), float4x4(-0.053670082241297,0.003725984599441,0.047927629202604,0.004646229092032,-0.038457177579403,-0.007768642157316,-0.143142089247704,-0.004411254543811,0.048359081149101,0.004588779062033,-0.006304186768830,0.019044075161219,0.009358265437186,-0.001044465461746,-0.032008118927479,-0.017450366169214));
res += mul(Get(s3,0,-dy), float4x4(-0.000986232538708,0.003627026453614,-0.034126184880733,-0.005024811252952,0.036537513136864,-0.020143304020166,-0.187624007463455,0.114096425473690,0.013104471378028,-0.021052511408925,-0.294395714998245,0.189767241477966,0.067680694162846,0.000579467741773,0.201748937368393,-0.015362053178251));
res += mul(Get(s3,0,0), float4x4(0.019177408888936,-0.007408050820231,-0.069946661591530,0.002680736361071,-0.032232616096735,-0.004941490944475,-0.024848178029060,-0.005670139100403,0.016585970297456,-0.018183095380664,0.005573207046837,0.026688056066632,0.151390373706818,0.013979823328555,-0.035799130797386,-0.002568557159975));
res += mul(Get(s3,0,dy), float4x4(-0.033563137054443,0.001642221701331,0.075629726052284,0.002012759447098,0.015937132760882,-0.008418587036431,-0.066028006374836,-0.002196931280196,0.137735381722450,0.002564929658547,-0.037234846502542,0.010772952809930,-0.003647707635537,-0.006020426750183,0.176585093140602,-0.010396106168628));
res += mul(Get(s3,dx,-dy), float4x4(-0.020334171131253,-0.003454703139141,-0.022690253332257,0.007331990636885,0.064040519297123,-0.007209137082100,-0.120210185647011,0.036525972187519,0.056921139359474,-0.010226812213659,-0.254146009683609,0.240480259060860,0.018516290932894,0.034251380711794,-0.034193232655525,-0.026763092726469));
res += mul(Get(s3,dx,0), float4x4(-0.003267054446042,-0.002079721074551,-0.068308129906654,0.000453326239949,0.017432747408748,-0.008310256525874,0.003528510686010,-0.017872810363770,-0.005769595503807,0.020896520465612,-0.030656792223454,0.094585649669170,0.097524888813496,0.041893754154444,-0.287719786167145,0.015955338254571));
res += mul(Get(s3,dx,dy), float4x4(-0.043301869183779,0.002192917745560,0.086437962949276,0.004227631725371,0.104933246970177,0.003147118026391,-0.043963838368654,-0.021640067920089,0.095390990376472,0.022885387763381,-0.061966203153133,0.085489086806774,-0.317741245031357,0.026140408590436,-0.004442479461432,0.033582519739866));
return max(float4(0,0,0,0), res);
}
