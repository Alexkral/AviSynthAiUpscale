sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.049387861043215,0.095701999962330,0.018485549837351,-0.137787103652954,0.011757569387555,-0.052261330187321,0.130474030971527,0.197287261486053,-0.204301238059998,0.127114266157150,0.134831950068474,-0.060378618538380,-0.123228453099728,0.114923596382141,0.042230617254972,0.091950200498104));
res += mul(Get(s0,-dx,0), float4x4(-0.166907131671906,0.010354247875512,0.155586823821068,-0.224278062582016,0.194565609097481,-0.268907785415649,0.073749266564846,0.168520599603653,-0.137175798416138,-0.214197948575020,-0.035860992968082,0.021907720714808,0.049604564905167,-0.073599576950073,0.025170348584652,0.072520151734352));
res += mul(Get(s0,-dx,dy), float4x4(-0.237275660037994,-0.068132884800434,-0.110241323709488,-0.018538901582360,0.080063603818417,0.015973836183548,0.008554463274777,0.128350794315338,-0.123914316296577,-0.091716639697552,0.089094944298267,0.051079139113426,-0.017353184521198,0.028191244229674,0.031856130808592,-0.216202050447464));
res += mul(Get(s0,0,-dy), float4x4(-0.102172009646893,0.034532696008682,-0.261527031660080,-0.081772416830063,0.167794421315193,-0.196676924824715,-0.014967325143516,-0.281744271516800,0.060191713273525,-0.084226138889790,0.086509905755520,0.027875708416104,0.053845047950745,-0.153895765542984,-0.204297527670860,0.066789455711842));
res += mul(Get(s0,0,0), float4x4(-0.018777523189783,0.033536795526743,-0.007867100648582,0.154859066009521,0.028816318139434,-0.177561745047569,-0.082914069294930,0.168728739023209,0.136620134115219,-0.004452912602574,-0.060821712017059,0.253412753343582,-0.084890522062778,0.011448299512267,0.123364932835102,-0.174917742609978));
res += mul(Get(s0,0,dy), float4x4(-0.141567811369896,0.028873872011900,0.013783105649054,0.035587769001722,0.018224226310849,0.074114352464676,-0.121913991868496,-0.021879550069571,0.020743500441313,-0.031973510980606,-0.078122891485691,0.089545309543610,-0.190949961543083,0.055416498333216,-0.021001553162932,0.002337810117751));
res += mul(Get(s0,dx,-dy), float4x4(0.112956531345844,-0.158621415495872,-0.068069897592068,0.215637832880020,-0.074008479714394,0.062497165054083,0.070741161704063,0.083235874772072,0.037561327219009,-0.018023081123829,-0.209425196051598,0.055843811482191,0.247472107410431,0.004767546430230,0.125868082046509,-0.156749650835991));
res += mul(Get(s0,dx,0), float4x4(0.096832893788815,0.071201190352440,-0.031429044902325,0.218242600560188,0.037625759840012,0.103538416326046,-0.068723574280739,-0.122004106640816,0.353874802589417,-0.071595855057240,-0.065079361200333,-0.007989175617695,-0.058314971625805,0.278308331966400,0.064502187073231,0.107063345611095));
res += mul(Get(s0,dx,dy), float4x4(0.056990422308445,-0.053613476455212,-0.122626967728138,0.205202817916870,-0.015848247334361,0.057195082306862,-0.117783732712269,0.136667206883430,0.140199348330498,-0.005233255214989,0.137176394462585,0.120281212031841,-0.097380831837654,0.100702747702599,0.046534467488527,0.107437975704670));
res += mul(Get(s1,-dx,-dy), float4x4(0.051292899996042,0.057341761887074,-0.083858981728554,0.010680818930268,0.041451245546341,0.023113565519452,0.067505270242691,0.086587555706501,-0.037096552550793,0.026603166013956,0.028023216873407,-0.038898807018995,0.122596852481365,0.065485253930092,0.096460372209549,0.034490853548050));
res += mul(Get(s1,-dx,0), float4x4(-0.042884431779385,-0.042939238250256,-0.009703800082207,-0.122515469789505,-0.137852624058723,0.198888435959816,-0.068015210330486,-0.093643732368946,0.088671602308750,0.028620941564441,0.176252394914627,-0.093528509140015,0.009652456268668,0.167915821075439,0.116575807332993,-0.008526043966413));
res += mul(Get(s1,-dx,dy), float4x4(0.038364153355360,-0.030790627002716,0.129621535539627,0.079191528260708,0.091669194400311,0.013666908256710,0.113329365849495,0.051620483398438,-0.011079450137913,0.026618057861924,-0.173363193869591,-0.228719145059586,-0.156477421522141,0.199977621436119,-0.217263594269753,-0.184637367725372));
res += mul(Get(s1,0,-dy), float4x4(-0.085772365331650,0.091880813241005,0.044197563081980,0.091913625597954,0.075743131339550,0.012043319642544,-0.106994487345219,0.299161314964294,-0.149358049035072,-0.008373364806175,-0.102972097694874,-0.083579555153847,-0.248223125934601,0.097234465181828,-0.092397823929787,-0.014699855819345));
res += mul(Get(s1,0,0), float4x4(0.025643454864621,-0.195890113711357,0.132419809699059,0.207712247967720,0.146200463175774,-0.017675306648016,0.004644145257771,0.055777162313461,0.072214886546135,-0.129736796021461,-0.040569409728050,-0.032091125845909,-0.027537999674678,-0.206097900867462,0.007985481992364,-0.016129689291120));
res += mul(Get(s1,0,dy), float4x4(0.153984591364861,0.238380298018456,0.036692503839731,0.059323906898499,-0.189706236124039,-0.103634953498840,-0.090045593678951,-0.281461030244827,-0.224818080663681,0.064693301916122,-0.061419364064932,0.012647074647248,-0.043970752507448,-0.215210616588593,-0.023936450481415,-0.161037072539330));
res += mul(Get(s1,dx,-dy), float4x4(-0.039096232503653,0.090579867362976,-0.065873332321644,-0.135484248399734,0.183193922042847,0.055710095912218,-0.154535368084908,0.194728091359138,-0.156083062291145,0.028558827936649,-0.140242397785187,0.015427857637405,-0.052417147904634,0.188300520181656,0.007240974809974,0.107168912887573));
res += mul(Get(s1,dx,0), float4x4(-0.161986529827118,-0.062921009957790,-0.199547022581100,0.080152846872807,-0.016440195962787,-0.004662772640586,0.136228576302528,0.015922605991364,-0.199042603373528,-0.031150246039033,-0.042816683650017,0.184430018067360,0.006143205799162,0.051445942372084,-0.232619509100914,0.383554548025131));
res += mul(Get(s1,dx,dy), float4x4(-0.035282835364342,-0.162035942077637,0.105102583765984,-0.183144509792328,0.175048574805260,-0.118271157145500,-0.010133298113942,-0.138573586940765,0.001997191458941,0.031944237649441,-0.039970714598894,-0.144626200199127,-0.065143480896950,-0.033999651670456,0.027971861883998,0.182983368635178));
res += mul(Get(s2,-dx,-dy), float4x4(-0.007122712675482,-0.097414903342724,0.048310104757547,-0.172507971525192,0.076829053461552,0.037059374153614,-0.135773047804832,-0.029868202283978,-0.029621552675962,-0.222164317965508,0.068298518657684,0.017651915550232,-0.223325118422508,0.088801726698875,0.164959758520126,-0.031232349574566));
res += mul(Get(s2,-dx,0), float4x4(-0.072617851197720,-0.099053338170052,-0.111346341669559,-0.056631434708834,0.083283148705959,-0.089620277285576,-0.035328701138496,0.166524380445480,0.081015065312386,0.154082313179970,-0.017417801544070,-0.145815819501877,-0.187453702092171,0.087743684649467,0.107015334069729,0.100443787872791));
res += mul(Get(s2,-dx,dy), float4x4(0.097733587026596,-0.048610392957926,0.036126837134361,0.117614619433880,0.256878912448883,-0.114589303731918,-0.152757704257965,-0.035817101597786,-0.076988652348518,-0.066110521554947,0.111222840845585,-0.019575584679842,0.085894040763378,0.033636245876551,0.020386721938848,0.070183105766773));
res += mul(Get(s2,0,-dy), float4x4(0.016786715015769,-0.190904945135117,-0.118136964738369,-0.005901847500354,0.033421792089939,0.044285189360380,-0.071053154766560,-0.019880415871739,-0.074196375906467,0.098019018769264,0.092191435396671,0.051784906536341,0.090825699269772,0.093457140028477,-0.022242980077863,0.228788554668427));
res += mul(Get(s2,0,0), float4x4(-0.091744668781757,0.006526272743940,-0.038239948451519,-0.031948849558830,0.038072742521763,0.019678212702274,0.107665576040745,0.078924298286438,0.040899753570557,0.006489756051451,-0.166262969374657,0.047363504767418,-0.033966440707445,-0.100248001515865,-0.066577315330505,-0.063736490905285));
res += mul(Get(s2,0,dy), float4x4(-0.027415538206697,0.109889641404152,-0.097627677023411,0.014710701070726,0.171783298254013,-0.074953399598598,0.141138151288033,0.077798880636692,-0.174408406019211,-0.099294550716877,0.160566896200180,0.072691701352596,-0.125299260020256,-0.061118792742491,-0.164526328444481,0.206616997718811));
res += mul(Get(s2,dx,-dy), float4x4(0.110569551587105,-0.331347703933716,-0.041678100824356,-0.111416779458523,0.104499861598015,0.013285105116665,-0.157305970788002,-0.084238559007645,-0.015120069496334,-0.000598419574089,-0.045894958078861,-0.082009755074978,-0.065750136971474,-0.264980763196945,0.226757064461708,-0.071079030632973));
res += mul(Get(s2,dx,0), float4x4(0.121797680854797,0.015914306044579,-0.010975578799844,0.066197194159031,0.161099195480347,-0.170601084828377,0.102048560976982,0.103000417351723,0.039960600435734,0.111774317920208,-0.116158999502659,-0.020943162962794,0.032817944884300,0.015945347025990,-0.020903218537569,-0.183156788349152));
res += mul(Get(s2,dx,dy), float4x4(-0.019927829504013,0.055376458913088,-0.152191728353500,0.111769311130047,0.003835926065221,-0.026130201295018,0.112041324377060,-0.133942067623138,0.079339720308781,0.003244164632633,-0.027349507436156,0.082746744155884,-0.285114735364914,-0.140524670481682,0.067619815468788,-0.195392966270447));
res += mul(Get(s3,-dx,-dy), float4x4(0.092019885778427,0.069595731794834,0.065902307629585,0.145429790019989,-0.128775238990784,0.149711549282074,-0.089995160698891,-0.074810914695263,-0.004234014078975,-0.010448654182255,-0.285959750413895,-0.061445344239473,0.056558329612017,-0.051181647926569,-0.051959607750177,0.132597222924232));
res += mul(Get(s3,-dx,0), float4x4(-0.148334026336670,0.036855384707451,-0.100482702255249,0.068129934370518,0.070661276578903,-0.100738562643528,0.153416275978088,0.103486679494381,0.109846085309982,0.004721927922219,0.055568050593138,-0.060335677117109,0.036652039736509,-0.108710713684559,0.076345466077328,-0.171514958143234));
res += mul(Get(s3,-dx,dy), float4x4(-0.104162029922009,0.146197244524956,-0.128856033086777,0.004993770271540,0.126343846321106,0.099804133176804,-0.101932086050510,-0.063429497182369,-0.169646397233009,0.047901321202517,-0.215309008955956,0.070486493408680,-0.014918895438313,0.182894229888916,-0.080036818981171,-0.018978124484420));
res += mul(Get(s3,0,-dy), float4x4(-0.141729474067688,0.096994407474995,0.119296438992023,-0.052791390568018,0.033705778419971,0.064333222806454,0.125413343310356,-0.080383464694023,-0.105579957365990,0.132674440741539,-0.045350492000580,-0.000707205326762,-0.010937478393316,-0.010518329218030,-0.161834150552750,-0.059514511376619));
res += mul(Get(s3,0,0), float4x4(0.008051650598645,0.028658967465162,-0.131845623254776,0.046459201723337,-0.027856864035130,-0.119289845228195,0.068646006286144,-0.098023891448975,0.038587693125010,0.064775034785271,0.051045160740614,-0.002126777544618,-0.014131376519799,0.092715002596378,0.072915807366371,0.020352538675070));
res += mul(Get(s3,0,dy), float4x4(-0.010556274093688,0.030687183141708,0.006802720483392,-0.178377464413643,-0.057245373725891,0.010678818449378,-0.045442234724760,0.017081171274185,-0.109263621270657,-0.036572478711605,-0.217421263456345,-0.100904434919357,0.013190757483244,0.073874130845070,-0.071552284061909,0.205335840582848));
res += mul(Get(s3,dx,-dy), float4x4(-0.139965429902077,-0.222749769687653,0.126653999090195,-0.069680720567703,-0.020882140845060,0.038282528519630,0.198426902294159,0.054412312805653,-0.098196640610695,-0.037601128220558,0.145630776882172,0.053182125091553,0.205328613519669,-0.169891715049744,-0.023124009370804,0.110403060913086));
res += mul(Get(s3,dx,0), float4x4(0.009864656254649,-0.034651171416044,0.075179956853390,-0.076063171029091,-0.012520943768322,-0.035221073776484,0.067577905952930,0.096097856760025,0.058712299913168,-0.089091747999191,0.051152452826500,-0.029338847845793,-0.046459238976240,-0.133509099483490,0.169166654348373,0.048435330390930));
res += mul(Get(s3,dx,dy), float4x4(-0.101575292646885,-0.077557437121868,0.058297008275986,0.160195067524910,0.100869566202164,0.136007636785507,-0.121583819389343,-0.044030662626028,0.073340021073818,-0.006160282064229,0.128082603216171,0.075538992881775,0.037072643637657,-0.033511951565742,0.018996102735400,0.073254048824310));
return max(float4(0,0,0,0), res);
}
