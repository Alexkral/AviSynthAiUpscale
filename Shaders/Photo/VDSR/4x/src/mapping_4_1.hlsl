sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.013653819449246,0.106086082756519,0.109860807657242,0.077649317681789,-0.172054424881935,0.105780854821205,0.220259308815002,0.232051953673363,-0.060630410909653,0.018908848986030,-0.098110929131508,-0.027885276824236,-0.002510977443308,-0.142571404576302,-0.049429986625910,0.098608888685703));
res += mul(Get(s0,-dx,0), float4x4(0.062041606754065,0.153811007738113,-0.063917838037014,-0.100463375449181,0.009200006723404,0.186793357133865,-0.129677891731262,0.039544809609652,0.128554254770279,0.119894869625568,-0.072910152375698,0.182662144303322,-0.035249821841717,0.051521975547075,0.104700356721878,0.056028444319963));
res += mul(Get(s0,-dx,dy), float4x4(-0.013188018463552,0.141029432415962,-0.043236102908850,-0.032009460031986,0.143328398466110,-0.182688355445862,0.008279288187623,0.077477067708969,-0.052291408181190,0.047627490013838,0.078189879655838,0.183938145637512,-0.126651272177696,-0.021569358184934,-0.075829617679119,0.051761452108622));
res += mul(Get(s0,0,-dy), float4x4(-0.104311026632786,-0.182928010821342,-0.097334250807762,-0.125875473022461,0.104636222124100,-0.254772633314133,-0.031380232423544,0.070596061646938,-0.145562440156937,0.007366499863565,-0.181215301156044,-0.205742210149765,0.135753452777863,0.034885209053755,-0.058858592063189,-0.057980995625257));
res += mul(Get(s0,0,0), float4x4(0.008990639820695,-0.136965721845627,-0.182847067713737,-0.094647035002708,0.203998491168022,-0.074294075369835,-0.162345528602600,0.096438840031624,0.118892788887024,0.244868829846382,0.165232658386230,-0.088907532393932,-0.157091602683067,0.134014293551445,0.071941010653973,-0.065083935856819));
res += mul(Get(s0,0,dy), float4x4(-0.079218007624149,0.021153470501304,0.032660230994225,-0.096008256077766,-0.074718132615089,0.018083149567246,-0.030528107658029,-0.064505904912949,0.030273372307420,0.046803709119558,0.269697785377502,0.115486994385719,-0.056511394679546,0.167578741908073,-0.015313069336116,-0.012285273522139));
res += mul(Get(s0,dx,-dy), float4x4(-0.006053842604160,-0.045368775725365,0.001257196767256,-0.015534299425781,0.009835380129516,-0.212478458881378,0.024899311363697,-0.147853016853333,-0.007693158928305,-0.112588897347450,0.271670341491699,-0.062395438551903,0.109851561486721,-0.048737250268459,0.055965855717659,0.026653116568923));
res += mul(Get(s0,dx,0), float4x4(0.186225682497025,-0.089920490980148,0.198727980256081,-0.005390018690377,0.072981372475624,0.188961341977119,-0.127909258008003,-0.083259664475918,0.122236110270023,-0.006017019506544,0.195228829979897,-0.150700569152832,0.188206017017365,-0.134998619556427,0.129923254251480,0.018657322973013));
res += mul(Get(s0,dx,dy), float4x4(-0.158826857805252,-0.009972814470530,-0.071957774460316,0.075358018279076,0.006966030690819,0.255676150321960,0.052743915468454,0.084038816392422,-0.239723727107048,-0.130167424678802,0.240090653300285,-0.013357867486775,0.143342673778534,0.131485238671303,0.230723798274994,-0.123882554471493));
res += mul(Get(s1,-dx,-dy), float4x4(-0.121219277381897,0.192828804254532,-0.044596862047911,-0.036661047488451,-0.071695856750011,-0.111162655055523,0.153919249773026,-0.178005874156952,0.024772610515356,0.057867180556059,-0.001918264315464,0.161438420414925,0.019556099548936,0.119421273469925,-0.002002197084948,0.027349146082997));
res += mul(Get(s1,-dx,0), float4x4(-0.184037536382675,0.079781107604504,-0.131167918443680,-0.137891054153442,0.046670470386744,-0.058000560849905,-0.005673042032868,-0.056111853569746,-0.026792630553246,-0.108901351690292,0.019679389894009,-0.006628154776990,-0.055670507252216,0.120718166232109,0.057130083441734,-0.049803547561169));
res += mul(Get(s1,-dx,dy), float4x4(0.036521710455418,-0.053517855703831,0.188891038298607,0.041877824813128,-0.048234511166811,-0.080694720149040,-0.080346480011940,-0.076341010630131,0.236934438347816,-0.065026111900806,-0.005284829530865,-0.075674638152122,0.031069820746779,-0.071253634989262,-0.060565389692783,0.090187825262547));
res += mul(Get(s1,0,-dy), float4x4(-0.159148424863815,0.112796075642109,0.047765113413334,-0.005843172315508,0.080623008310795,0.085367433726788,0.065691068768501,0.006371868308634,-0.008132872171700,-0.062079839408398,-0.080920621752739,-0.037948630750179,-0.068537741899490,0.065192647278309,-0.163998439908028,-0.027314566075802));
res += mul(Get(s1,0,0), float4x4(-0.062930285930634,-0.137122586369514,-0.082537390291691,-0.108303047716618,0.037959951907396,0.116238236427307,0.104447878897190,0.096839442849159,-0.094847224652767,0.115466669201851,-0.005982637405396,0.046306915581226,-0.050288662314415,-0.048898607492447,0.042353760451078,-0.144716605544090));
res += mul(Get(s1,0,dy), float4x4(-0.094331279397011,-0.074315898120403,-0.024887174367905,-0.033199764788151,0.135189026594162,0.127107337117195,0.021822130307555,-0.048809032887220,0.102233581244946,-0.036022391170263,0.112842738628387,0.069921106100082,-0.010999865829945,-0.018444344401360,0.009058163501322,-0.015519213862717));
res += mul(Get(s1,dx,-dy), float4x4(0.057463862001896,0.182484015822411,-0.008618854917586,0.018315182998776,-0.220841974020004,-0.058138445019722,0.027201708406210,-0.032868973910809,0.159208446741104,0.051628243178129,-0.128509297966957,0.172266349196434,0.209323480725288,-0.039082448929548,0.100535877048969,0.098381370306015));
res += mul(Get(s1,dx,0), float4x4(-0.088943317532539,-0.086459666490555,-0.084811396896839,0.008805543184280,0.096529483795166,0.187963664531708,-0.002209947444499,0.008049658499658,0.037924900650978,0.246874004602432,-0.028029959648848,0.110596552491188,-0.111884929239750,0.046909105032682,-0.091770984232426,-0.051845356822014));
res += mul(Get(s1,dx,dy), float4x4(0.097658433020115,0.222994819283485,0.057343289256096,-0.112497098743916,-0.057768888771534,0.134844526648521,-0.038761712610722,-0.065885014832020,-0.123100377619267,0.263386547565460,-0.097269728779793,0.068488113582134,0.056908633559942,-0.207749009132385,0.086095616221428,-0.127720996737480));
res += mul(Get(s2,-dx,-dy), float4x4(0.097399085760117,-0.036467030644417,0.053224612027407,-0.071984425187111,-0.226674154400826,-0.088158056139946,0.006814195308834,-0.027011854574084,-0.271628022193909,0.008841517381370,0.008309585042298,0.120596766471863,-0.060809794813395,-0.149564310908318,0.133071646094322,0.014478622935712));
res += mul(Get(s2,-dx,0), float4x4(-0.011925562284887,0.136151432991028,-0.004268532153219,0.019827267155051,0.105430558323860,-0.149751126766205,-0.075933486223221,0.023418694734573,-0.137224137783051,-0.057838242501020,-0.029015528038144,-0.039353929460049,-0.040606964379549,-0.133070051670074,0.089677080512047,0.064981155097485));
res += mul(Get(s2,-dx,dy), float4x4(-0.152393043041229,-0.117517523467541,-0.000535925966688,0.015860276296735,0.022339139133692,0.078358031809330,-0.056501600891352,0.176901355385780,-0.140874609351158,-0.023395463824272,0.152714625000954,0.101402774453163,-0.092229984700680,0.147501587867737,0.004723695572466,-0.011009491980076));
res += mul(Get(s2,0,-dy), float4x4(-0.102980874478817,-0.011075012385845,0.226699128746986,-0.028673300519586,-0.018801346421242,0.185474812984467,-0.045480761677027,0.115197680890560,0.069358825683594,-0.029371267184615,-0.019700733944774,0.081045091152191,-0.157509401440620,-0.119943425059319,0.126684561371803,-0.068377070128918));
res += mul(Get(s2,0,0), float4x4(-0.072430782020092,0.080353841185570,-0.033739279955626,0.007852045819163,-0.139793694019318,0.157689481973648,0.011717102490366,-0.021181548014283,-0.062044143676758,-0.007755243685097,0.113541729748249,-0.021334988996387,0.119556017220020,-0.184147119522095,0.206080406904221,-0.005565192084759));
res += mul(Get(s2,0,dy), float4x4(-0.033645596355200,-0.178501427173615,0.002906086621806,-0.113081924617290,-0.034061428159475,-0.040220104157925,0.077692218124866,-0.085790060460567,-0.213821023702621,-0.054315838962793,0.123778723180294,0.060800887644291,0.225812613964081,-0.106094390153885,-0.021372143179178,0.104588016867638));
res += mul(Get(s2,dx,-dy), float4x4(0.140473425388336,0.050713662058115,0.010523929260671,-0.035872019827366,0.014599339105189,-0.079227462410927,0.185351803898811,-0.061001304537058,-0.199519500136375,0.005169610492885,-0.072210170328617,-0.098881281912327,-0.052596788853407,0.133958607912064,0.114761076867580,-0.005210159346461));
res += mul(Get(s2,dx,0), float4x4(-0.010331344790757,-0.022043697535992,-0.130515724420547,-0.154059618711472,-0.136381372809410,0.065501764416695,0.065477274358273,-0.062357746064663,0.258196920156479,-0.206955239176750,-0.004459195770323,-0.027079174295068,-0.196160644292831,-0.026948936283588,0.040367133915424,0.092946343123913));
res += mul(Get(s2,dx,dy), float4x4(0.027956794947386,-0.096245117485523,0.041810106486082,-0.001580641139299,-0.129853487014771,0.017116349190474,-0.031118011102080,0.084450505673885,0.024605115875602,0.083105765283108,0.128933444619179,0.281488656997681,0.129978701472282,0.062517285346985,-0.178648442029953,-0.035448066890240));
res += mul(Get(s3,-dx,-dy), float4x4(0.027747457846999,-0.126953184604645,-0.088752575218678,-0.009716950356960,0.110727332532406,-0.042888913303614,-0.130386218428612,0.128322601318359,0.132945418357849,-0.080134041607380,-0.142708137631416,0.062330879271030,0.117589034140110,-0.123276211321354,0.167420223355293,-0.000471110630315));
res += mul(Get(s3,-dx,0), float4x4(-0.031692102551460,-0.151635408401489,0.111432395875454,0.083776973187923,0.030247693881392,0.049196813255548,-0.255251258611679,0.094607204198837,0.018118489533663,-0.099212631583214,-0.044915728271008,0.135968983173370,0.177375927567482,-0.009034824557602,0.161757498979568,0.070689924061298));
res += mul(Get(s3,-dx,dy), float4x4(0.150654748082161,-0.057876273989677,0.047373965382576,0.198078989982605,0.073442876338959,-0.094129912555218,-0.019081782549620,-0.100087337195873,-0.005174415186048,0.055222004652023,-0.153973683714867,0.018069062381983,-0.107353053987026,0.005217215046287,0.070880040526390,-0.000694685732014));
res += mul(Get(s3,0,-dy), float4x4(-0.058480117470026,0.464581251144409,0.010772334411740,-0.184208601713181,0.109132438898087,-0.001939335488714,-0.006804652046412,0.145453304052353,-0.222306564450264,-0.098486103117466,-0.018811484798789,0.113575540482998,0.099960677325726,-0.113307915627956,0.027610959485173,-0.220494613051414));
res += mul(Get(s3,0,0), float4x4(-0.038156725466251,-0.010539114475250,0.087403617799282,-0.007376815658063,0.315602779388428,-0.073430195450783,0.065091282129288,-0.081483401358128,0.091853998601437,-0.192834690213203,0.089279256761074,-0.172804370522499,0.182952687144279,-0.214466571807861,0.120632432401180,0.048880539834499));
res += mul(Get(s3,0,dy), float4x4(0.026393165811896,0.181782007217407,-0.000313520664349,0.101755350828171,-0.060822166502476,-0.064798042178154,0.037869952619076,-0.080912470817566,-0.076052241027355,0.080434486269951,-0.200251385569572,-0.120078779757023,-0.149216100573540,-0.092555604875088,0.071654468774796,-0.003418249543756));
res += mul(Get(s3,dx,-dy), float4x4(-0.111867263913155,0.014471141621470,0.182464554905891,-0.012743367813528,0.028738539665937,0.153284072875977,-0.296765685081482,-0.056849531829357,-0.029173715040088,0.090211786329746,-0.082454539835453,-0.098613902926445,0.098582848906517,0.013147479854524,-0.150354012846947,0.045730262994766));
res += mul(Get(s3,dx,0), float4x4(-0.045794937759638,0.035782370716333,0.058898672461510,-0.066979281604290,0.129513531923294,-0.185993686318398,-0.248203694820404,0.277648538351059,0.118627920746803,0.420354515314102,-0.018383692950010,-0.032657749950886,-0.126206070184708,0.004919115919620,0.013714781031013,0.168194711208344));
res += mul(Get(s3,dx,dy), float4x4(-0.074481695890427,-0.022669972851872,0.018916282802820,-0.148859217762947,-0.048994861543179,0.062761314213276,-0.024288000538945,-0.081012405455112,0.002859417581931,0.084349282085896,0.067400813102722,-0.007825012318790,0.047646023333073,0.050712622702122,-0.073087215423584,0.009134543128312));
return max(float4(0,0,0,0), res);
}
