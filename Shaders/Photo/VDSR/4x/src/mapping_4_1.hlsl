sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.157480373978615,-0.006314709782600,-0.054797410964966,-0.032370675355196,0.033143442124128,0.064285166561604,-0.069527029991150,-0.044762533158064,-0.045908212661743,0.345368117094040,-0.005139856133610,-0.090668521821499,0.036299332976341,-0.056792408227921,0.022544821724296,-0.081073492765427));
res += mul(Get(s0,-dx,0), float4x4(0.180080369114876,-0.252001672983170,-0.033851563930511,0.070988826453686,0.090649612247944,-0.086361683905125,0.000565673108213,-0.053160183131695,0.002980434568599,-0.015666380524635,0.029108025133610,-0.052843231707811,0.173885762691498,0.140555247664452,0.147163271903992,-0.046763598918915));
res += mul(Get(s0,-dx,dy), float4x4(0.023874804377556,-0.235621109604836,0.008147541433573,-0.124853879213333,0.067862823605537,0.005568774417043,-0.023860961198807,-0.028733547776937,0.207606002688408,-0.332315474748611,0.030584977939725,0.030228249728680,0.021534973755479,0.020542085170746,0.098539873957634,-0.189425140619278));
res += mul(Get(s0,0,-dy), float4x4(0.132299378514290,0.099535666406155,-0.014923288486898,-0.078614175319672,-0.078087329864502,-0.005271825008094,0.099462583661079,-0.013398285955191,-0.090356677770615,0.110090270638466,0.126651689410210,-0.003109898418188,0.103404238820076,-0.191699177026749,0.026280637830496,-0.076801255345345));
res += mul(Get(s0,0,0), float4x4(0.075738906860352,-0.119641028344631,-0.053847767412663,-0.073049612343311,0.004304099362344,0.057591274380684,0.152213811874390,-0.007543487474322,-0.035685859620571,0.027990624308586,0.061500288546085,0.136793732643127,0.082547284662724,-0.059890825301409,0.011787042953074,-0.076933130621910));
res += mul(Get(s0,0,dy), float4x4(0.006311573088169,-0.252053499221802,-0.043577432632446,-0.049643673002720,0.038604129105806,0.083380311727524,0.097224734723568,-0.028077887371182,0.006095506716520,-0.271588146686554,-0.122790306806564,-0.126354590058327,-0.080113627016544,0.002385837491602,0.066949561238289,-0.032273203134537));
res += mul(Get(s0,dx,-dy), float4x4(-0.240195751190186,0.040030244737864,-0.013145232573152,0.146017730236053,0.021797623485327,-0.091900311410427,-0.122837349772453,-0.034665167331696,-0.173950865864754,0.198719218373299,0.000883911910933,0.337543010711670,0.006672092247754,-0.091162502765656,-0.024411549791694,-0.070710003376007));
res += mul(Get(s0,dx,0), float4x4(-0.240033805370331,-0.126080051064491,-0.110616229474545,-0.116220057010651,-0.023463770747185,-0.070795118808746,-0.111095175147057,-0.077010437846184,-0.196816623210907,0.082908488810062,-0.038850005716085,0.209036529064178,-0.063701674342155,-0.013758399523795,-0.146305635571480,-0.025401132181287));
res += mul(Get(s0,dx,dy), float4x4(-0.202419400215149,-0.079881556332111,-0.089591756463051,-0.214079439640045,-0.027909414842725,-0.060627397149801,-0.072161979973316,-0.083981096744537,-0.061505880206823,-0.160948917269707,-0.073403306305408,-0.022087622433901,-0.143105670809746,0.103748336434364,-0.082580141723156,0.073356717824936));
res += mul(Get(s1,-dx,-dy), float4x4(-0.132955402135849,0.037012241780758,-0.049853865057230,0.025936180725694,-0.085471622645855,0.089817844331264,-0.144481375813484,-0.195903390645981,-0.081352412700653,0.211409807205200,0.009922249242663,-0.114619165658951,0.056054092943668,0.137160435318947,-0.042262930423021,0.316456258296967));
res += mul(Get(s1,-dx,0), float4x4(-0.082742780447006,-0.172547951340675,0.015570950694382,0.054062232375145,-0.093483693897724,0.155562758445740,-0.116994582116604,-0.008740887977183,-0.041663575917482,-0.033325631171465,0.304943531751633,-0.117154687643051,0.030228985473514,-0.034014303237200,0.102051496505737,-0.016884118318558));
res += mul(Get(s1,-dx,dy), float4x4(0.250387728214264,-0.124450661242008,-0.157077640295029,0.073700882494450,0.005953922867775,0.031760741025209,0.040877461433411,-0.283274739980698,0.010401906445622,-0.216352388262749,-0.033608034253120,-0.188150569796562,0.059644404798746,0.011834697797894,-0.058723021298647,-0.097850263118744));
res += mul(Get(s1,0,-dy), float4x4(-0.198323413729668,0.142396390438080,-0.017153542488813,0.043013989925385,0.061826970428228,-0.037277024239302,0.064026191830635,0.060283668339252,-0.067499868571758,0.073835037648678,-0.293051540851593,-0.126015409827232,-0.027067564427853,0.363684445619583,-0.118020735681057,0.043924752622843));
res += mul(Get(s1,0,0), float4x4(-0.245481297373772,0.084905795753002,-0.037432011216879,0.056871835142374,-0.158483058214188,-0.050016280263662,0.045532293617725,0.130961835384369,0.019216829910874,0.147914275527000,0.014685283415020,-0.072189830243587,0.118752576410770,-0.188288018107414,0.195082589983940,-0.052631497383118));
res += mul(Get(s1,0,dy), float4x4(0.035876430571079,0.030394194647670,-0.157615989446640,0.007699270732701,-0.016254581511021,-0.009194835089147,0.081953093409538,-0.135719358921051,-0.030681351199746,-0.082233101129532,0.094408318400383,-0.233921557664871,0.043027624487877,-0.166733890771866,-0.181953936815262,-0.118210621178150));
res += mul(Get(s1,dx,-dy), float4x4(-0.101687736809254,0.169734209775925,0.127194792032242,0.025085069239140,0.022175114601851,-0.025391526520252,0.080182120203972,0.037304449826479,-0.070511765778065,0.020968504250050,-0.161195233464241,-0.086813107132912,-0.071741163730621,-0.110686831176281,-0.226049795746803,-0.163894861936569));
res += mul(Get(s1,dx,0), float4x4(-0.177850350737572,0.117986939847469,0.130214005708694,-0.001917356741615,-0.105137325823307,-0.133939743041992,-0.002490635029972,-0.026243826374412,0.029251396656036,-0.116001740098000,-0.075353771448135,0.053769059479237,0.105160214006901,-0.071919932961464,0.165281668305397,0.449612051248550));
res += mul(Get(s1,dx,dy), float4x4(-0.028341772034764,0.012214848771691,-0.127173542976379,0.047827575355768,0.028859952464700,-0.247643634676933,-0.064650408923626,-0.039890550076962,-0.054535578936338,0.040432326495647,0.265246123075485,-0.108350217342377,-0.121789529919624,0.022505523636937,0.157912343740463,0.101659998297691));
res += mul(Get(s2,-dx,-dy), float4x4(0.092187307775021,-0.042625084519386,-0.118913128972054,0.137495785951614,0.010741449892521,0.115630887448788,-0.073375202715397,0.151553869247437,-0.132144898176193,-0.018187183886766,-0.011835751123726,0.076021581888199,0.152800947427750,-0.087940648198128,-0.002899185987189,-0.003129660850391));
res += mul(Get(s2,-dx,0), float4x4(0.125007271766663,0.012565300799906,-0.049321543425322,0.035269614309072,0.154841154813766,0.013160425238311,0.201236888766289,-0.058616161346436,-0.041563212871552,-0.069737128913403,0.021166941151023,-0.004147157073021,-0.046816945075989,-0.015527212992311,-0.038835182785988,-0.031371552497149));
res += mul(Get(s2,-dx,dy), float4x4(0.030127167701721,-0.019590163603425,-0.127488732337952,-0.071731045842171,0.138526737689972,0.005007694009691,0.045126169919968,-0.173877000808716,0.125764951109886,-0.086699977517128,0.034212592989206,-0.018910642713308,-0.174987390637398,-0.029692225158215,0.075242899358273,-0.117843233048916));
res += mul(Get(s2,0,-dy), float4x4(-0.092064283788204,-0.045727156102657,-0.004909733310342,0.008947916328907,-0.191679611802101,0.080296099185944,0.165597781538963,-0.012676272541285,-0.192746460437775,-0.013621720485389,0.050043508410454,-0.008061269298196,0.083953700959682,-0.136987835168839,-0.104403361678123,-0.143883764743805));
res += mul(Get(s2,0,0), float4x4(-0.015631476417184,-0.024886446073651,0.034209806472063,-0.036179434508085,0.026604760438204,0.031584955751896,0.236164554953575,-0.002690767170861,-0.041074946522713,0.116403132677078,0.161123529076576,-0.030511071905494,0.180645540356636,-0.106458947062492,-0.139153972268105,-0.096635118126869));
res += mul(Get(s2,0,dy), float4x4(-0.030867658555508,-0.094295039772987,-0.026945197954774,-0.067595086991787,0.016037676483393,0.019946856424212,0.150515809655190,0.086160600185394,0.375292032957077,0.163991689682007,0.083102382719517,-0.000808963843156,0.031441327184439,-0.106192216277122,-0.119614765048027,-0.116641923785210));
res += mul(Get(s2,dx,-dy), float4x4(-0.134536534547806,-0.080516971647739,0.000898982223589,-0.029436117038131,-0.172206535935402,-0.175253704190254,-0.037055131047964,-0.091507479548454,-0.139090597629547,0.007707269862294,0.147715091705322,0.055322516709566,-0.033714424818754,0.061239685863256,0.211078315973282,-0.032189507037401));
res += mul(Get(s2,dx,0), float4x4(-0.155081659555435,-0.133396655321121,0.054159771651030,-0.035791635513306,-0.051040817052126,-0.122434750199318,-0.101291544735432,0.051614049822092,-0.096083700656891,0.026026530191302,0.225061967968941,-0.040248449891806,0.162459924817085,0.075368948280811,0.130908116698265,-0.045072183012962));
res += mul(Get(s2,dx,dy), float4x4(-0.097858794033527,-0.132779836654663,0.011292227543890,-0.072255313396454,-0.005585684906691,-0.112166151404381,-0.029287332668900,-0.017198920249939,0.059447199106216,0.023990424349904,0.030819417908788,-0.012465944513679,0.180208027362823,0.083294890820980,-0.026089347898960,-0.072338573634624));
res += mul(Get(s3,-dx,-dy), float4x4(0.033628188073635,-0.085868552327156,-0.069596536457539,-0.012441826052964,0.013751943595707,-0.034824155271053,0.029271626845002,0.009662553668022,0.093056209385395,-0.071887150406837,0.111296162009239,-0.022869540378451,0.120110146701336,0.037128578871489,0.006025229115039,0.071271553635597));
res += mul(Get(s3,-dx,0), float4x4(-0.029133539646864,-0.047619886696339,-0.119958631694317,0.035015426576138,-0.051804073154926,-0.086914852261543,0.021800668910146,-0.046380311250687,0.103604726493359,-0.112222835421562,0.069350376725197,0.044839955866337,0.042971372604370,0.050340875983238,-0.008233042433858,0.041160497814417));
res += mul(Get(s3,-dx,dy), float4x4(-0.035476081073284,-0.013596433214843,0.018926423043013,0.107837140560150,0.020506225526333,-0.052719570696354,0.011001888662577,-0.078402288258076,-0.110692061483860,-0.135766252875328,0.006844344083220,0.047827508300543,0.224701732397079,0.001076023210771,0.002204946475103,-0.048965267837048));
res += mul(Get(s3,0,-dy), float4x4(0.050162326544523,-0.032154340296984,-0.053108844906092,-0.003414435079321,0.097649596631527,-0.047227397561073,0.010394910350442,0.045220885425806,-0.266308426856995,0.045891623944044,-0.101907454431057,-0.045643489807844,-0.101061910390854,0.140316694974899,0.031743209809065,0.025141956284642));
res += mul(Get(s3,0,0), float4x4(-0.086286492645741,-0.032942745834589,-0.184401750564575,0.052422001957893,-0.042696140706539,-0.018282156437635,-0.010796497575939,-0.003409762168303,0.006049633026123,-0.042374156415462,-0.084673412144184,-0.001061263494194,-0.108621209859848,0.065041929483414,0.018115917220712,-0.059732098132372));
res += mul(Get(s3,0,dy), float4x4(-0.093089073896408,0.070520833134651,-0.080041654407978,0.097612433135509,0.052054468542337,-0.001644651638344,0.044692382216454,-0.071359187364578,-0.020529806613922,-0.045418106019497,-0.135439202189445,-0.032960418611765,0.168249920010567,-0.028410194441676,0.015863914042711,-0.030274000018835));
res += mul(Get(s3,dx,-dy), float4x4(0.150725677609444,-0.171266257762909,-0.033254776149988,0.047502804547548,0.052138645201921,0.049755055457354,-0.172521427273750,0.080127753317356,-0.101328581571579,0.049747060984373,-0.014165499247611,0.001521536265500,0.140916168689728,0.165561869740486,-0.050937242805958,0.008704011328518));
res += mul(Get(s3,dx,0), float4x4(-0.024484505876899,-0.057418104261160,-0.057471886277199,0.020836355164647,-0.040105875581503,0.001503654522821,-0.104294776916504,0.028557337820530,0.017011191695929,-0.106991425156593,0.081494063138962,-0.048755284398794,-0.028400491923094,0.033174179494381,-0.034967176616192,-0.005923995282501));
res += mul(Get(s3,dx,dy), float4x4(-0.040946584194899,0.112814933061600,0.051305100321770,0.084033846855164,-0.003578725503758,-0.131275177001953,-0.047985289245844,-0.003284597769380,0.091894589364529,0.020510632544756,0.047184359282255,-0.093575060367584,0.016582293435931,-0.010178589262068,0.001709966221824,0.070146203041077));
return max(float4(0,0,0,0), res);
}
