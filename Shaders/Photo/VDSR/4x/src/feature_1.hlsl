sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(-0.191322028636932,-0.189168095588684,-0.122048027813435,-0.169669613242149) * Get(-dx,-dy);
res += float4(-0.174734190106392,-0.234444513916969,0.123042598366737,0.062064949423075) * Get(-dx,0);
res += float4(-0.019578948616982,-0.130828931927681,-0.004675353877246,-0.128338322043419) * Get(-dx,dy);
res += float4(-0.042648166418076,-0.014488678425550,-0.178223073482513,-0.086051367223263) * Get(0,-dy);
res += float4(0.440679192543030,-0.082090303301811,-0.078670769929886,0.008747581392527) * Get(0,0);
res += float4(0.252503395080566,0.082492955029011,-0.173661082983017,0.290531337261200) * Get(0,dy);
res += float4(-0.004893413744867,0.183626383543015,-0.030771942809224,-0.058479435741901) * Get(dx,-dy);
res += float4(0.249236956238747,0.205380171537399,0.121039576828480,-0.255755186080933) * Get(dx,0);
res += float4(-0.219842359423637,-0.038482394069433,-0.080145046114922,-0.073139801621437) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
