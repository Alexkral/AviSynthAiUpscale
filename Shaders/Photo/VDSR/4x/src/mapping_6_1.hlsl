sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.045492954552174,0.174456149339676,0.033872526139021,0.104750953614712,0.093566462397575,-0.012374477460980,0.012306115590036,0.032761402428150,-0.104326106607914,0.087274469435215,-0.142629146575928,-0.062900215387344,0.120306126773357,-0.047114435583353,0.246530264616013,-0.085673898458481));
res += mul(Get(s0,-dx,0), float4x4(-0.237232223153114,-0.018732754513621,-0.009711559861898,-0.053146183490753,-0.241521671414375,0.153003230690956,0.136004313826561,0.295652002096176,-0.193895235657692,-0.048026651144028,0.079956255853176,-0.119780905544758,-0.010454076342285,-0.045925498008728,-0.055429119616747,0.203510075807571));
res += mul(Get(s0,-dx,dy), float4x4(0.051225088536739,-0.010427210479975,-0.097591638565063,-0.066486418247223,-0.118523448705673,0.090416207909584,-0.062235020101070,0.000440681033069,-0.167987316846848,0.154983192682266,0.067200995981693,0.039947099983692,-0.083957612514496,0.151333168148994,-0.034000225365162,0.095786705613136));
res += mul(Get(s0,0,-dy), float4x4(-0.005944915115833,0.008038012310863,0.120696313679218,-0.081322103738785,0.052906807512045,0.015397828072309,-0.130640685558319,-0.216752469539642,0.182612434029579,-0.334477156400681,-0.074161410331726,0.152056992053986,-0.009967398829758,-0.124627292156219,0.045455142855644,-0.087466299533844));
res += mul(Get(s0,0,0), float4x4(-0.074074707925320,0.176208585500717,-0.005201541353017,-0.003487394656986,0.204222887754440,0.020065348595381,-0.070024184882641,0.066285617649555,-0.046519532799721,-0.091960564255714,0.073689833283424,0.041119955480099,-0.136042505502701,0.015311961062253,-0.300078094005585,-0.064270697534084));
res += mul(Get(s0,0,dy), float4x4(0.018059371039271,-0.097103074193001,-0.079730622470379,0.102774031460285,0.153954878449440,-0.225883647799492,0.111668527126312,0.064675591886044,0.130410894751549,0.141263961791992,-0.189664185047150,0.023122735321522,-0.049969315528870,0.005222664680332,0.023320594802499,0.171105414628983));
res += mul(Get(s0,dx,-dy), float4x4(0.051152594387531,0.180721342563629,-0.095868475735188,0.024237975478172,0.009578201919794,0.095010668039322,-0.153151795268059,-0.069915570318699,-0.049464840441942,-0.277205437421799,0.114647604525089,-0.134324342012405,-0.051398642361164,0.062362253665924,-0.088936552405357,0.075645856559277));
res += mul(Get(s0,dx,0), float4x4(0.121175557374954,0.094384014606476,0.047756142914295,-0.108499988913536,0.005459066014737,-0.332679271697998,-0.015835005789995,-0.202030926942825,-0.108246684074402,-0.137764334678650,0.086879923939705,0.253869861364365,0.020463872700930,0.010051278397441,0.023146253079176,-0.244291484355927));
res += mul(Get(s0,dx,dy), float4x4(-0.006949173752218,-0.120733395218849,0.071962073445320,0.095218010246754,-0.169596329331398,-0.038585599511862,0.062087751924992,0.003584673628211,0.078512094914913,-0.037003293633461,-0.044375423341990,0.101775944232941,-0.158569946885109,0.123418629169464,0.083467416465282,-0.077036604285240));
res += mul(Get(s1,-dx,-dy), float4x4(0.096409395337105,0.034613955765963,-0.169854804873466,0.073149263858795,-0.000075399628258,-0.073614925146103,-0.146387472748756,0.117317967116833,0.042084246873856,0.098925523459911,-0.104372322559357,0.062183208763599,-0.022037757560611,-0.009205637499690,-0.063011974096298,-0.267978012561798));
res += mul(Get(s1,-dx,0), float4x4(0.123432338237762,-0.033481765538454,-0.103746138513088,-0.050204224884510,-0.132580533623695,0.108980841934681,-0.025238299742341,0.200551494956017,0.137245059013367,0.054509829729795,0.099417582154274,0.145683109760284,0.123932816088200,0.237943753600121,-0.054515808820724,-0.025842221453786));
res += mul(Get(s1,-dx,dy), float4x4(0.030404625460505,-0.019132267683744,-0.217305198311806,-0.041406236588955,-0.050255689769983,-0.163111433386803,-0.056081708520651,0.156689211726189,0.083877898752689,0.191640675067902,-0.037423621863127,-0.069453947246075,-0.056520957499743,-0.038638453930616,0.089740075170994,-0.124281540513039));
res += mul(Get(s1,0,-dy), float4x4(-0.041828099638224,0.042685948312283,-0.173293441534042,0.050870873034000,0.114222563803196,-0.151668086647987,0.049681182950735,0.045331206172705,0.026452904567122,-0.034120298922062,0.162855103611946,0.053753301501274,-0.086669161915779,0.010716602206230,0.136752247810364,0.086806766688824));
res += mul(Get(s1,0,0), float4x4(-0.088305145502090,-0.174390003085136,-0.133276224136353,0.272897541522980,-0.015488957986236,0.055118706077337,-0.097001202404499,-0.130053699016571,-0.013639325276017,-0.003504278371111,-0.020683394744992,0.003345803590491,-0.023870032280684,0.175420224666595,-0.087653890252113,-0.131912007927895));
res += mul(Get(s1,0,dy), float4x4(-0.065971940755844,-0.175777688622475,-0.058753538876772,0.022016942501068,-0.007877001538873,-0.036153074353933,-0.125253170728683,-0.021098913624883,-0.038560889661312,-0.060802172869444,0.037161029875278,0.073473870754242,-0.012435256503522,-0.035756263881922,0.040110293775797,0.024224931374192));
res += mul(Get(s1,dx,-dy), float4x4(-0.080791063606739,-0.019779147580266,0.201092287898064,-0.120311990380287,-0.100243225693703,0.005779162514955,-0.123260945081711,-0.028663257136941,0.177024453878403,0.061486367136240,0.108171232044697,-0.144370019435883,0.117935203015804,0.051574457436800,-0.115727946162224,0.226659581065178));
res += mul(Get(s1,dx,0), float4x4(-0.107538908720016,0.022098068147898,-0.017369220033288,0.214415863156319,-0.046071965247393,0.143400713801384,-0.042133741080761,0.073980584740639,-0.264482408761978,-0.024450268596411,0.043810993432999,0.036423027515411,-0.032201264053583,0.104837417602539,0.086545936763287,0.177999690175056));
res += mul(Get(s1,dx,dy), float4x4(-0.026174198836088,-0.095361374318600,-0.063948333263397,-0.187324866652489,-0.010812582448125,0.062121357768774,0.042361050844193,-0.245085895061493,-0.039123483002186,0.206197604537010,0.047975391149521,-0.187330394983292,-0.007405055221170,0.064043253660202,0.094254873692989,0.046982895582914));
res += mul(Get(s2,-dx,-dy), float4x4(-0.218347385525703,-0.038199096918106,0.148851409554482,0.132399901747704,0.027009908109903,-0.029780136421323,-0.015345259569585,-0.072899267077446,-0.057096343487501,-0.266033232212067,0.332283198833466,0.245446324348450,-0.091018900275230,0.031867094337940,0.139152616262436,0.017485555261374));
res += mul(Get(s2,-dx,0), float4x4(-0.102854803204536,0.024196671321988,0.059653565287590,0.158262938261032,0.237363770604134,-0.103278696537018,0.194625675678253,-0.093993805348873,-0.150858923792839,-0.154272243380547,0.196729704737663,-0.007154318504035,-0.080843113362789,0.066838443279266,-0.040474977344275,-0.081382490694523));
res += mul(Get(s2,-dx,dy), float4x4(-0.045118335634470,-0.036939617246389,0.111397698521614,0.045524965971708,0.051784314215183,0.120959065854549,-0.155079826712608,-0.046701271086931,0.064528010785580,0.092226564884186,0.030319692566991,0.221416383981705,-0.051850371062756,-0.012938886880875,-0.154861673712730,0.022289182990789));
res += mul(Get(s2,0,-dy), float4x4(-0.015174437314272,0.082797490060329,0.169822886586189,0.075025290250778,-0.036879587918520,0.026601240038872,0.001195566030219,0.044796720147133,0.077169567346573,0.227809697389603,-0.014977334998548,0.142194822430611,-0.182642400264740,-0.097253993153572,0.127813845872879,0.138065546751022));
res += mul(Get(s2,0,0), float4x4(-0.158369600772858,0.022823883220553,-0.132734298706055,0.001950363162905,-0.144485175609589,0.023136593401432,-0.095321930944920,-0.048048395663500,-0.298999518156052,-0.063342206180096,0.030635930597782,0.013273534364998,-0.083585679531097,0.148745745420456,0.053786426782608,0.079227641224861));
res += mul(Get(s2,0,dy), float4x4(-0.101262561976910,0.258523970842361,-0.107561364769936,-0.102180920541286,-0.001391840516590,-0.066985361278057,-0.177300065755844,-0.052346404641867,0.195308893918991,-0.013394488021731,-0.070234753191471,0.055058188736439,0.031387433409691,0.169433012604713,0.006601489614695,0.009264844469726));
res += mul(Get(s2,dx,-dy), float4x4(0.077353455126286,0.221637874841690,-0.010783720761538,-0.043262913823128,-0.077391304075718,0.098872981965542,0.141796559095383,0.182781249284744,0.039459753781557,-0.129087910056114,-0.097814857959747,0.016859335824847,0.031386915594339,0.047740187495947,0.092318959534168,0.121262982487679));
res += mul(Get(s2,dx,0), float4x4(-0.144054427742958,-0.016859371215105,0.008699299767613,0.066267669200897,-0.020863175392151,-0.039257828146219,0.100136443972588,0.057078201323748,-0.083100363612175,0.075966127216816,-0.055361028760672,-0.127692699432373,0.069879882037640,-0.127735286951065,0.057549551129341,-0.036926299333572));
res += mul(Get(s2,dx,dy), float4x4(-0.087362982332706,0.001767834764905,0.032988812774420,-0.087770059704781,0.007507523521781,-0.059301611036062,0.196897685527802,0.021490888670087,0.207060754299164,-0.096267975866795,0.047547005116940,-0.111516758799553,-0.058421216905117,-0.108710184693336,-0.069742411375046,-0.019708855077624));
res += mul(Get(s3,-dx,-dy), float4x4(0.061897762119770,-0.139058113098145,-0.148289144039154,0.073070324957371,0.062530070543289,0.026700673624873,0.104501508176327,0.068853005766869,-0.013789548538625,0.057423774152994,-0.068635918200016,0.144183292984962,0.115210257470608,-0.059967584908009,0.028393166139722,0.017602227628231));
res += mul(Get(s3,-dx,0), float4x4(0.156374409794807,0.039306685328484,0.152799263596535,0.160354152321815,-0.064197033643723,-0.052304413169622,0.104609996080399,-0.056503940373659,0.001042609335855,-0.252003490924835,-0.071791045367718,-0.223274648189545,0.070944137871265,0.015535394661129,0.080406844615936,-0.148196935653687));
res += mul(Get(s3,-dx,dy), float4x4(0.008737348951399,-0.006297626998276,0.263774693012238,-0.059410914778709,0.041482083499432,-0.114269606769085,0.026281446218491,-0.049975119531155,-0.007772557903081,-0.090470343828201,0.039468985050917,-0.336872458457947,-0.123686186969280,-0.010924214497209,-0.009235180914402,0.208133086562157));
res += mul(Get(s3,0,-dy), float4x4(0.238455578684807,0.055183544754982,-0.119494371116161,-0.243688777089119,-0.003617692273110,0.031783912330866,-0.223019033670425,0.118561327457428,0.134869128465652,0.343833714723587,-0.052086025476456,-0.126952379941940,0.159120321273804,-0.151009202003479,-0.175289854407310,0.152179926633835));
res += mul(Get(s3,0,0), float4x4(-0.146527916193008,0.069396026432514,0.022676583379507,0.230881750583649,-0.024286899715662,0.054303910583258,0.097007781267166,-0.049172531813383,0.037693519145250,-0.171697035431862,-0.135163709521294,-0.099554367363453,-0.150424599647522,0.158828809857368,0.143705636262894,-0.016181986778975));
res += mul(Get(s3,0,dy), float4x4(-0.021291054785252,-0.100024677813053,-0.126672148704529,-0.039983753114939,-0.109626106917858,0.014415632933378,-0.157259419560432,0.005539982579648,-0.007604219485074,0.150627806782722,-0.037139400839806,0.002768458100036,-0.053514640778303,-0.084895536303520,0.128447234630585,-0.069537162780762));
res += mul(Get(s3,dx,-dy), float4x4(-0.036271519958973,0.053895156830549,-0.111374057829380,-0.188083142042160,0.018837317824364,0.116088263690472,0.172705620527267,-0.092643611133099,-0.158086523413658,0.133714258670807,-0.090527787804604,0.055845987051725,0.064830511808395,0.021226519718766,-0.216113671660423,0.003097669687122));
res += mul(Get(s3,dx,0), float4x4(0.003866399172693,-0.122742369771004,-0.069349333643913,-0.087383493781090,-0.102684959769249,0.046785794198513,0.066370487213135,-0.153591170907021,0.008807496167719,-0.122402012348175,0.033637102693319,0.012809750624001,-0.211865067481995,0.118185691535473,-0.039430215954781,-0.223163187503815));
res += mul(Get(s3,dx,dy), float4x4(-0.182338014245033,-0.021342657506466,0.108352705836296,-0.115816444158554,-0.072491727769375,-0.112065978348255,-0.054985951632261,0.182309806346893,-0.122771069407463,0.080326430499554,-0.094809994101524,0.145069092512131,0.042826160788536,0.066457979381084,-0.038108792155981,0.033569399267435));
return max(float4(0,0,0,0), res);
}
