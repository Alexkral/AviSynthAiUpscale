sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.109371937811375,-0.152303203940392,-0.052141875028610,-0.035608980804682,0.001372113358229,0.003698876360431,0.018745506182313,-0.021900165826082,0.116984918713570,0.100619137287140,0.162734583020210,0.012269422411919,0.096613608300686,0.034551914781332,-0.071480870246887,0.018557498231530));
res += mul(Get(s0,-dx,0), float4x4(-0.098905555903912,0.177719131112099,-0.032852243632078,0.010624387301505,0.033970106393099,0.010250320658088,0.028207890689373,-0.069938309490681,0.094580411911011,0.292994856834412,-0.032129112631083,-0.034620828926563,-0.129802629351616,0.001326211611740,-0.025397188961506,0.004344205837697));
res += mul(Get(s0,-dx,dy), float4x4(0.101279102265835,-0.109109148383141,-0.037223648279905,0.051453392952681,0.003594581270590,-0.020993625745177,0.035617932677269,0.041361406445503,-0.029924264177680,0.012414541095495,-0.120919354259968,-0.093298189342022,-0.068672269582748,-0.064216628670692,-0.003907826263458,-0.012324275448918));
res += mul(Get(s0,0,-dy), float4x4(-0.034307383000851,-0.200735449790955,-0.027395782992244,0.032238662242889,0.008633363060653,0.257161706686020,0.071819089353085,-0.073635607957840,0.104519456624985,0.044192783534527,0.014602018520236,0.109551757574081,-0.076177656650543,0.025302648544312,-0.026887126266956,-0.089457102119923));
res += mul(Get(s0,0,0), float4x4(0.002790742088109,0.190532535314560,0.043262071907520,-0.102523282170296,-0.045819181948900,0.273769259452820,-0.023811331018806,-0.060300759971142,0.066373087465763,-0.070238754153252,0.108697682619095,-0.062513217329979,0.012069439515471,0.011496580205858,0.017925625666976,-0.043671034276485));
res += mul(Get(s0,0,dy), float4x4(-0.078552834689617,-0.088022083044052,-0.034023378044367,-0.066851437091827,-0.093077309429646,0.111107051372528,0.008951541967690,0.068524822592735,0.009741113521159,-0.039996892213821,-0.113330274820328,-0.004117990378290,-0.000186367105925,0.043128523975611,-0.032392751425505,0.077356338500977));
res += mul(Get(s0,dx,-dy), float4x4(0.017362840473652,-0.264025479555130,0.032757204025984,-0.103988222777843,-0.030846495181322,0.015892527997494,-0.063933677971363,-0.030222769826651,-0.028846485540271,-0.018668936565518,-0.034093834459782,0.044803794473410,-0.050309009850025,-0.107451699674129,-0.032008759677410,-0.091781564056873));
res += mul(Get(s0,dx,0), float4x4(0.012206072919071,0.075776867568493,0.068234704434872,-0.055393293499947,-0.022853437811136,0.079092502593994,-0.009326691739261,0.009328083135188,-0.129735440015793,-0.005851339083165,0.009836975485086,-0.053871721029282,-0.104054547846317,-0.023044152185321,-0.077735520899296,-0.110353648662567));
res += mul(Get(s0,dx,dy), float4x4(-0.030901173129678,-0.045165263116360,-0.124221041798592,-0.093885473906994,-0.100714050233364,0.010055243968964,-0.001413238001987,0.060168527066708,-0.188771903514862,-0.118707150220871,-0.036315966397524,-0.041425108909607,-0.040306612849236,0.053074523806572,-0.125407710671425,-0.093529045581818));
res += mul(Get(s1,-dx,-dy), float4x4(0.001970140030608,0.045449815690517,-0.049510519951582,-0.029402555897832,0.059325065463781,-0.126918256282806,0.035565074533224,-0.108277805149555,-0.048153806477785,-0.067914649844170,0.064461588859558,-0.085402972996235,0.215272158384323,0.015620633028448,0.030823756009340,-0.148771956562996));
res += mul(Get(s1,-dx,0), float4x4(0.071671336889267,-0.019968114793301,-0.113544225692749,0.084219545125961,-0.035042222589254,0.064117126166821,-0.028679074719548,-0.122028604149818,0.079016901552677,-0.031324423849583,0.039775509387255,0.012062940746546,-0.040138065814972,-0.142126411199570,-0.030321195721626,-0.094855815172195));
res += mul(Get(s1,-dx,dy), float4x4(-0.121064685285091,0.139185205101967,-0.050790049135685,-0.041974030435085,-0.000293012650218,0.034986048936844,0.031181642785668,-0.019408972933888,0.067413441836834,0.104235358536243,-0.016416033729911,0.045297600328922,-0.029065953567624,-0.093289732933044,0.111034929752350,-0.043067414313555));
res += mul(Get(s1,0,-dy), float4x4(0.067350894212723,0.057619925588369,-0.071267142891884,-0.177288174629211,0.095769286155701,-0.131142750382423,0.116116374731064,-0.043632220476866,0.004622128326446,-0.041502974927425,-0.035055328160524,-0.013142692856491,0.036250766366720,0.178614363074303,-0.013445043005049,-0.008421398699284));
res += mul(Get(s1,0,0), float4x4(0.021112458780408,0.026749562472105,-0.042880885303020,-0.027457408607006,-0.024162312969565,0.028200503438711,-0.119053386151791,-0.022070093080401,-0.022846275940537,-0.116841055452824,0.127646833658218,0.100526072084904,-0.017991723492742,-0.092500284314156,-0.033904291689396,0.021629480645061));
res += mul(Get(s1,0,dy), float4x4(-0.052303601056337,-0.025208558887243,-0.096354514360428,-0.095576629042625,0.135584831237793,0.082596108317375,-0.078510172665119,0.000810871948488,0.157541781663895,0.070909380912781,0.077715158462524,0.121325626969337,-0.075970433652401,0.249898746609688,0.003613586304709,-0.033305600285530));
res += mul(Get(s1,dx,-dy), float4x4(-0.019152719527483,0.066526934504509,0.124390631914139,-0.037545744329691,-0.032185606658459,-0.194985628128052,0.161993265151978,-0.150283247232437,0.031528014689684,-0.097716517746449,0.095163866877556,-0.085616409778595,-0.037534411996603,-0.061721138656139,0.095099471509457,-0.079489015042782));
res += mul(Get(s1,dx,0), float4x4(0.008437711745501,-0.103862553834915,0.009352331981063,-0.128655418753624,-0.031135261058807,-0.103260137140751,0.332570999860764,-0.116447262465954,0.135274305939674,-0.066163785755634,-0.009949583560228,-0.069864340126514,-0.056804783642292,0.006591241341084,0.039096087217331,0.006917265243828));
res += mul(Get(s1,dx,dy), float4x4(0.029524335637689,-0.063037104904652,0.034037109464407,0.203878521919250,-0.072540052235126,-0.118478551506996,0.084995388984680,0.003702278016135,0.159488603472710,-0.047377485781908,0.206060916185379,-0.041133698076010,-0.101488575339317,-0.021682670339942,0.005604586098343,-0.038686141371727));
res += mul(Get(s2,-dx,-dy), float4x4(0.129787042737007,-0.127669721841812,0.044179275631905,-0.067652776837349,0.020012764260173,0.282517224550247,-0.180328726768494,0.050876952707767,-0.076827198266983,-0.188909113407135,-0.066082321107388,-0.023721009492874,-0.079766996204853,0.011273643933237,0.176294893026352,-0.020453929901123));
res += mul(Get(s2,-dx,0), float4x4(0.103194721043110,-0.027634410187602,0.001433678087778,-0.068393550813198,-0.037282031029463,-0.128782153129578,-0.109915502369404,0.039693601429462,-0.157984629273415,0.153409257531166,0.090687535703182,-0.030024483799934,0.060128174722195,-0.074974261224270,-0.044089909642935,0.012566604651511));
res += mul(Get(s2,-dx,dy), float4x4(0.035793595016003,-0.004923791158944,0.076048187911510,-0.094982445240021,-0.111635506153107,0.011043190956116,0.089958921074867,0.042154945433140,-0.042540572583675,-0.049499507993460,0.074807114899158,0.048711974173784,-0.076237067580223,-0.069443844258785,0.031345758587122,-0.010864708572626));
res += mul(Get(s2,0,-dy), float4x4(0.182905018329620,-0.118373788893223,0.093982867896557,0.080169305205345,-0.053729135543108,-0.079304747283459,-0.114428989589214,0.144522458314896,0.028778050094843,-0.170066267251968,0.015439317561686,-0.021058438345790,0.150435984134674,-0.067777156829834,-0.045869324356318,0.012839506380260));
res += mul(Get(s2,0,0), float4x4(-0.133146092295647,-0.001421964261681,0.112906023859978,-0.033739700913429,-0.038787536323071,0.036815810948610,-0.100602135062218,-0.016348669305444,0.021197525784373,0.149111822247505,0.039804793894291,0.123831346631050,-0.092265151441097,-0.088609777390957,-0.060431100428104,-0.009471698664129));
res += mul(Get(s2,0,dy), float4x4(-0.137775480747223,0.039032787084579,0.037814736366272,0.032906409353018,-0.097972854971886,-0.073628768324852,-0.066798485815525,0.023866921663284,0.100719757378101,-0.039763655513525,0.071922160685062,-0.016216844320297,-0.002060833154246,0.094991147518158,0.009873621165752,0.010503537021577));
res += mul(Get(s2,dx,-dy), float4x4(-0.031390730291605,-0.080236032605171,-0.029212988913059,0.077964432537556,-0.160059764981270,0.127589300274849,-0.121820248663425,0.180529519915581,0.114045687019825,-0.201486557722092,-0.077916055917740,-0.063762426376343,0.078330889344215,0.121165916323662,-0.028852369636297,0.053293064236641));
res += mul(Get(s2,dx,0), float4x4(-0.160111114382744,0.079784683883190,-0.112111590802670,0.012791149318218,-0.186759337782860,0.185641840100288,-0.062464229762554,0.012648507952690,0.076344892382622,0.074773110449314,0.081646874547005,-0.031372155994177,0.134596809744835,-0.014168330468237,-0.009648335166276,-0.074193388223648));
res += mul(Get(s2,dx,dy), float4x4(-0.127658784389496,0.019711121916771,-0.006332343444228,0.337073385715485,-0.176253795623779,0.136189520359039,-0.062161456793547,0.231673970818520,0.055040005594492,0.044461134821177,-0.041179370135069,0.109467014670372,0.080728977918625,-0.051092248409986,-0.044272016733885,0.081108301877975));
res += mul(Get(s3,-dx,-dy), float4x4(0.112609595060349,-0.051827780902386,-0.011284024454653,0.002078963909298,0.017022978514433,0.126809209585190,-0.104740351438522,-0.002146839397028,0.018695263192058,-0.036667890846729,-0.029169688001275,-0.055213365703821,-0.000128508967464,0.013848876580596,0.006815753411502,-0.015028410591185));
res += mul(Get(s3,-dx,0), float4x4(-0.101158976554871,0.033852960914373,-0.098084799945354,0.023848384618759,-0.067996941506863,0.045100428164005,0.012671196833253,0.006317650899291,0.032449636608362,-0.013031906448305,0.027543205767870,-0.020946057513356,0.047578833997250,0.047534786164761,-0.133366435766220,0.051737353205681));
res += mul(Get(s3,-dx,dy), float4x4(-0.150875687599182,-0.115771420300007,-0.052824661135674,0.060779768973589,0.037592127919197,-0.101159974932671,0.102668121457100,-0.017071167007089,-0.054292004555464,-0.047385387122631,-0.020478811115026,0.109083734452724,-0.044675424695015,0.028682978823781,-0.098388060927391,-0.059537917375565));
res += mul(Get(s3,0,-dy), float4x4(0.129090979695320,-0.008056102320552,0.179467320442200,-0.010877533815801,0.080206356942654,0.032759394496679,-0.081991881132126,-0.072314284741879,-0.063019692897797,0.187942937016487,0.015754476189613,0.022036194801331,0.022488310933113,-0.101131975650787,0.032681979238987,-0.076495997607708));
res += mul(Get(s3,0,0), float4x4(-0.085837803781033,-0.036897309124470,-0.008057858794928,0.041181731969118,-0.101665519177914,-0.035198815166950,-0.048906169831753,0.040586832910776,-0.016394419595599,-0.059887163341045,-0.080358907580376,0.060478426516056,0.151988372206688,-0.132898733019829,-0.105142816901207,-0.168341517448425));
res += mul(Get(s3,0,dy), float4x4(-0.068741783499718,-0.045765869319439,-0.058201707899570,0.104167424142361,0.034479435533285,0.071605607867241,-0.008298897184432,-0.007186533883214,-0.205848872661591,0.112015336751938,-0.008826435543597,0.010067872703075,0.016863098368049,-0.084604054689407,-0.086186200380325,0.075801663100719));
res += mul(Get(s3,dx,-dy), float4x4(0.029897410422564,0.079021267592907,-0.078394502401352,-0.035057857632637,-0.034794539213181,0.098428957164288,-0.170478135347366,0.336063563823700,0.241830006241798,-0.015788469463587,-0.046761807054281,-0.076663561165333,0.012657881714404,-0.033089261502028,0.125931218266487,-0.016931628808379));
res += mul(Get(s3,dx,0), float4x4(-0.077166020870209,-0.010842177085578,0.113864064216614,-0.064950548112392,-0.039161201566458,0.001276710187085,-0.113813415169716,0.033770840615034,0.167384222149849,-0.009178902022541,-0.053940910845995,0.122790932655334,0.115365676581860,-0.143596842885017,0.056810051202774,0.026965411379933));
res += mul(Get(s3,dx,dy), float4x4(-0.019088249653578,0.031781699508429,0.127768158912659,-0.012584983371198,-0.005876098759472,-0.021968312561512,-0.061999574303627,-0.017318245023489,0.004301280248910,0.079449765384197,-0.088718965649605,0.069000661373138,0.061260648071766,-0.177185952663422,0.009035508148372,0.429839074611664));
return max(float4(0,0,0,0), res);
}
