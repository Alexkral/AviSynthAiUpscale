sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.033204060047865,-0.098711825907230,-0.038330428302288,-0.196078613400459,-0.044864725321531,0.054594371467829,-0.137660220265388,-0.151166290044785,0.009249133057892,-0.030241075903177,-0.060726400464773,0.015141105279326,0.176854759454727,-0.096485726535320,0.055229194462299,-0.011154363863170));
res += mul(Get(s0,-dx,0), float4x4(0.022168815135956,0.019079722464085,-0.088327668607235,0.052894476801157,-0.002792222425342,0.070656724274158,0.014459979720414,-0.042775578796864,-0.020148076117039,-0.044967312365770,-0.140797659754753,0.011596322990954,0.145017862319946,-0.214934676885605,-0.140418112277985,-0.011708050034940));
res += mul(Get(s0,-dx,dy), float4x4(-0.079992495477200,0.022581394761801,-0.009072348475456,-0.032509539276361,0.000059808051446,0.098616681993008,0.040135137736797,-0.034012824296951,0.000235618776060,-0.042510665953159,-0.056465271860361,0.008109387010336,0.092812083661556,-0.169221103191376,0.066972754895687,-0.103004619479179));
res += mul(Get(s0,0,-dy), float4x4(-0.065917089581490,-0.098115690052509,-0.124125219881535,-0.150283545255661,-0.015324297361076,-0.030506735667586,-0.132416829466820,-0.057752225548029,0.057198029011488,-0.013422516174614,0.015836354345083,-0.026814460754395,0.088870748877525,0.108943141996861,0.085342533886433,0.141621947288513));
res += mul(Get(s0,0,0), float4x4(-0.058156412094831,0.039627470076084,0.023921305313706,0.326384395360947,0.017369195818901,-0.023281626403332,0.010087801143527,0.007882777601480,0.015422338619828,-0.019439812749624,-0.000484526884975,0.020937794819474,0.043232411146164,0.020099781453609,-0.059374321252108,0.180987343192101));
res += mul(Get(s0,0,dy), float4x4(-0.169700220227242,0.068451382219791,0.208782538771629,0.125918626785278,0.014312054030597,0.010887622833252,0.041971117258072,-0.035835795104504,0.027553005144000,-0.017403226345778,0.025567427277565,-0.012030662968755,-0.021538048982620,0.003592820139602,0.121377862989902,0.044647086411715));
res += mul(Get(s0,dx,-dy), float4x4(-0.067724183201790,-0.075197033584118,-0.397668629884720,-0.375378876924515,-0.093467354774475,-0.005723793525249,-0.137921452522278,-0.010200679302216,0.095550909638405,0.039584640413523,0.128298401832581,-0.014234459958971,-0.020938767120242,0.244032785296440,-0.115708924829960,-0.000427687336924));
res += mul(Get(s0,dx,0), float4x4(-0.033620301634073,0.073577515780926,-0.095474600791931,0.061836794018745,-0.081283800303936,-0.015317920595407,-0.026881996542215,-0.016763644292951,0.035114359110594,0.021037464961410,0.096314758062363,-0.014305657707155,-0.045064948499203,0.229315787553787,-0.275656491518021,-0.143268153071404));
res += mul(Get(s0,dx,dy), float4x4(-0.085292167961597,0.131767898797989,0.295448273420334,-0.165348723530769,-0.084593407809734,-0.005633324850351,-0.003851976944134,-0.074024230241776,0.013074345886707,0.025090876966715,0.085268639028072,-0.053521234542131,-0.083477951586246,0.221744343638420,0.068951122462749,-0.200863257050514));
res += mul(Get(s1,-dx,-dy), float4x4(-0.050174951553345,-0.008128480985761,-0.089243896305561,-0.048605456948280,-0.158509343862534,-0.115412481129169,-0.226274892687798,0.077983677387238,-0.016935033723712,-0.139355704188347,-0.155317485332489,0.052182868123055,0.072569057345390,0.011460802517831,-0.030632171779871,-0.009598529897630));
res += mul(Get(s1,-dx,0), float4x4(-0.052542328834534,-0.027528660371900,-0.182276174426079,0.039701189845800,-0.084904551506042,-0.096618257462978,-0.106530345976353,0.032995823770761,-0.058360103517771,-0.111627012491226,-0.080586351454258,0.006155867595226,0.017380164936185,-0.002205829601735,-0.026290759444237,0.004019449930638));
res += mul(Get(s1,-dx,dy), float4x4(-0.064364656805992,-0.031846679747105,-0.058342821896076,0.031369693577290,-0.070940040051937,-0.049130812287331,0.010370356962085,0.058064959943295,-0.111358515918255,-0.070247441530228,-0.050883594900370,0.000209597681533,-0.026840101927519,-0.013023082166910,-0.015952069312334,0.006184026598930));
res += mul(Get(s1,0,-dy), float4x4(-0.029559303075075,-0.025863628834486,-0.047625303268433,-0.089182630181313,-0.076236866414547,-0.096030637621880,-0.142822653055191,0.022437600418925,0.015428067184985,-0.104644946753979,-0.079450428485870,0.040124036371708,0.055788520723581,0.051597025245428,-0.017648341134191,0.009907424449921));
res += mul(Get(s1,0,0), float4x4(-0.066436924040318,-0.052433252334595,-0.068402990698814,-0.034181982278824,-0.036769192665815,-0.086905866861343,-0.087521746754646,-0.045809999108315,-0.048919249325991,-0.113545946776867,-0.041248723864555,0.007631938904524,0.013865737244487,-0.001281260047108,-0.027197124436498,0.019363168627024));
res += mul(Get(s1,0,dy), float4x4(-0.053512960672379,-0.035234488546848,0.009566518478096,-0.059938661754131,-0.081383183598518,-0.052502382546663,-0.047432169318199,0.003361793002114,-0.117049060761929,-0.102730065584183,-0.043392743915319,0.041547551751137,-0.035554345697165,-0.013732596300542,-0.020360603928566,0.021402440965176));
res += mul(Get(s1,dx,-dy), float4x4(0.049118172377348,-0.035141617059708,0.120809406042099,-0.069533593952656,0.007301079109311,-0.084092877805233,-0.099418081343174,-0.023708626627922,0.067776121199131,-0.081024207174778,-0.026652898639441,0.086825378239155,0.034015603363514,0.044884849339724,-0.018398877233267,0.048474412411451));
res += mul(Get(s1,dx,0), float4x4(-0.015542046166956,-0.080686524510384,0.084084011614323,-0.109037898480892,0.004468372557312,-0.073756344616413,-0.075621619820595,-0.062165219336748,-0.023516556248069,-0.117249466478825,-0.008393382653594,0.056819785386324,0.004512372426689,-0.001796127879061,-0.032384008169174,0.078151270747185));
res += mul(Get(s1,dx,dy), float4x4(-0.033542741090059,-0.074632078409195,0.040997736155987,-0.202082574367523,-0.077673859894276,-0.033933911472559,-0.017285434529185,-0.000556377635803,-0.116513133049011,-0.131007581949234,-0.018073363229632,0.083406351506710,-0.025588357821107,-0.019550813362002,-0.023059513419867,0.077823519706726));
res += mul(Get(s2,-dx,-dy), float4x4(-0.115708373486996,0.020094702020288,-0.055279463529587,0.078562118113041,0.247175902128220,0.004068735055625,-0.028023788705468,0.009659292176366,-0.096897475421429,0.076025404036045,-0.352223783731461,0.433765470981598,0.001565575134009,-0.003489788854495,-0.156040504574776,-0.244593203067780));
res += mul(Get(s2,-dx,0), float4x4(-0.107611320912838,-0.023495100438595,-0.058579009026289,0.108904913067818,0.165061652660370,-0.132126286625862,0.054732497781515,0.001963504357263,-0.035770375281572,0.075871162116528,0.110717579722404,0.560793817043304,-0.027645034715533,0.003316809190437,-0.336663991212845,-0.038606591522694));
res += mul(Get(s2,-dx,dy), float4x4(-0.111815601587296,-0.111135117709637,-0.132406517863274,-0.002927890280262,-0.004036433063447,-0.109760925173759,0.092839986085892,-0.117710657417774,-0.079453974962234,0.113325715065002,0.578427374362946,0.355400234460831,-0.022638307884336,0.161176875233650,0.413605839014053,0.290591627359390));
res += mul(Get(s2,0,-dy), float4x4(-0.039775334298611,0.003849854692817,-0.071873329579830,-0.032860830426216,0.092800632119179,0.056723698973656,-0.022223461419344,-0.000965521670878,0.242142170667648,0.121233716607094,-0.052998136729002,-0.143949449062347,-0.111117228865623,-0.088979564607143,-0.306344836950302,-0.114012517035007));
res += mul(Get(s2,0,0), float4x4(-0.038696337491274,-0.014119093306363,0.044041078537703,0.078309692442417,0.000508157652803,-0.040507365018129,0.083905249834061,0.081615768373013,0.196007251739502,0.049962222576141,-0.090814597904682,-0.203224286437035,-0.116139747202396,-0.040259908884764,-0.168586000800133,-0.041489329189062));
res += mul(Get(s2,0,dy), float4x4(-0.051884647458792,-0.056213196367025,0.073624223470688,-0.012533172033727,-0.179162830114365,-0.086019173264503,0.147905036807060,0.041731514036655,0.010597877204418,-0.030151013284922,0.194500744342804,0.012127062305808,-0.076187714934349,0.218851029872894,0.673619627952576,0.083084613084793));
res += mul(Get(s2,dx,-dy), float4x4(0.088894300162792,-0.040867652744055,0.009409347549081,-0.009353674948215,0.037693575024605,0.129484012722969,-0.097705736756325,-0.149729818105698,0.258204668760300,-0.028931610286236,0.023268589749932,-0.145090103149414,-0.082294240593910,-0.080959886312485,-0.116718247532845,0.046859972178936));
res += mul(Get(s2,dx,0), float4x4(0.080479554831982,-0.026181856170297,0.214804589748383,0.072024591267109,-0.034378059208393,0.097974896430969,0.002793868072331,-0.124116674065590,0.201672598719597,-0.192988038063049,-0.308776587247849,-0.390861332416534,-0.107041373848915,-0.017806960269809,0.040907476097345,-0.090892359614372));
res += mul(Get(s2,dx,dy), float4x4(0.044410493224859,-0.009979883208871,0.236062660813332,-0.006698413752019,-0.181109935045242,0.010059364140034,0.010673639364541,-0.081015802919865,0.025337662547827,-0.255947142839432,-0.044246684759855,-0.129394993185997,-0.077935412526131,0.252908825874329,0.582047700881958,-0.240507423877716));
res += mul(Get(s3,-dx,-dy), float4x4(0.076594896614552,-0.043795119971037,-0.072232112288475,0.013311709277332,-0.004737070761621,0.003550895024091,-0.007339008152485,-0.013986489735544,-0.073943853378296,-0.248101323843002,-0.078631110489368,-0.037958823144436,-0.009199053980410,-0.007076079491526,-0.070518672466278,-0.046034734696150));
res += mul(Get(s3,-dx,0), float4x4(0.004966896492988,0.096364378929138,0.182697981595993,0.247959092259407,-0.004042041022331,0.000064556974394,0.011141983792186,0.007117089349777,-0.022753069177270,-0.126542210578918,-0.003953854087740,-0.078467451035976,0.044250171631575,0.032216329127550,0.122861720621586,0.044553566724062));
res += mul(Get(s3,-dx,dy), float4x4(-0.029354326426983,0.201489284634590,0.369595408439636,0.133139491081238,-0.000276211445453,0.000934637268074,0.019447300583124,0.001922082505189,-0.035179596394300,-0.040149543434381,0.033401921391487,0.195706039667130,0.028782946988940,0.021263841539621,0.088647514581680,0.095199011266232));
res += mul(Get(s3,0,-dy), float4x4(0.068568363785744,-0.117765150964260,-0.349739938974380,-0.322252124547958,-0.006169722881168,-0.011171862483025,-0.030994327738881,-0.003267058636993,0.018106624484062,-0.175793796777725,-0.138871386647224,-0.114712499082088,-0.029927710071206,-0.007330710068345,-0.112709574401379,-0.088667102158070));
res += mul(Get(s3,0,0), float4x4(0.036532234400511,0.060604739934206,0.032088842242956,0.103753834962845,-0.003672389313579,0.006473832763731,-0.003357899375260,0.020618425682187,0.021338265389204,-0.091473087668419,-0.133548557758331,-0.196180805563927,0.015429597347975,0.029266247525811,0.116438053548336,-0.014447811059654));
res += mul(Get(s3,0,dy), float4x4(0.003021287964657,0.180353134870529,0.386579185724258,0.130696907639503,0.000866206712089,0.007933679968119,0.015554133802652,0.002085363725200,-0.019612073898315,-0.033959846943617,-0.073537521064281,0.021405549719930,0.006595937069505,0.011407785117626,0.025116454809904,-0.042174056172371));
res += mul(Get(s3,dx,-dy), float4x4(0.042252603918314,-0.126109316945076,-0.462176263332367,-0.305239409208298,0.002925867680460,-0.014698894694448,-0.010177020914853,0.013651669025421,-0.062648162245750,-0.174639239907265,-0.174815461039543,-0.030929267406464,-0.022004470229149,-0.040893264114857,-0.157561078667641,-0.149922281503677));
res += mul(Get(s3,dx,0), float4x4(0.030737996101379,0.038719404488802,-0.008737347088754,-0.120745390653610,-0.011185297742486,-0.015125947073102,0.003537474898621,0.010887700133026,-0.098012596368790,-0.114839874207973,-0.116967812180519,-0.087715096771717,0.023574894294143,0.003632841166109,0.076380319893360,-0.066539734601974));
res += mul(Get(s3,dx,dy), float4x4(0.029926493763924,0.165860399603844,0.455200433731079,-0.017815452069044,-0.017119482159615,-0.011670137755573,0.010399181395769,0.015709916129708,-0.162774294614792,-0.062489762902260,-0.043461866676807,0.085371926426888,0.018990969285369,-0.008929256349802,-0.077643103897572,-0.118645623326302));
return max(float4(0,0,0,0), res);
}
