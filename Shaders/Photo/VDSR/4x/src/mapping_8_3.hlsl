sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.064776733517647,0.002268286189064,0.261414736509323,0.007007986772805,-0.081620320677757,-0.014992590993643,-0.026232289150357,-0.107197888195515,-0.065254457294941,-0.058798417448997,0.038213934749365,0.108652077615261,-0.050008594989777,0.168241962790489,-0.082246959209442,-0.203156784176826));
res += mul(Get(s0,-dx,0), float4x4(-0.112989120185375,0.173994168639183,-0.028855867683887,-0.193521559238434,0.253684729337692,0.046724241226912,0.012296878732741,-0.062638171017170,-0.098025940358639,0.105119243264198,-0.034270022064447,0.007478038780391,-0.052325751632452,-0.055087156593800,-0.047424983233213,-0.084473371505737));
res += mul(Get(s0,-dx,dy), float4x4(-0.021277172490954,0.108391404151917,-0.075646959245205,-0.089457541704178,-0.009073913097382,0.011727602221072,-0.007291317451745,-0.008145619183779,-0.026099137961864,0.182211130857468,-0.197768732905388,0.134602203965187,-0.108721412718296,-0.060274682939053,-0.156200945377350,0.072650954127312));
res += mul(Get(s0,0,-dy), float4x4(-0.039568830281496,-0.032725360244513,-0.013451929204166,0.425251364707947,-0.086095064878464,0.129695445299149,-0.045307178050280,-0.014864320866764,-0.129384443163872,-0.070509873330593,0.099363043904305,0.001945004798472,-0.040594000369310,0.020144419744611,0.002176270354539,0.130607470870018));
res += mul(Get(s0,0,0), float4x4(-0.048743624240160,-0.004201594274491,-0.084603533148766,0.005725400988013,0.114694513380527,0.172449231147766,-0.024696612730622,0.033038523048162,-0.089624576270580,-0.021077571436763,0.115129910409451,0.033309321850538,-0.026066070422530,-0.028224697336555,-0.077584408223629,0.022282972931862));
res += mul(Get(s0,0,dy), float4x4(0.068603314459324,-0.111861638724804,-0.144760638475418,0.113728448748589,-0.167472645640373,0.015300789847970,-0.101065941154957,-0.051436211913824,-0.034178819507360,0.111099630594254,-0.156168177723885,0.000588831084315,-0.107613287866116,-0.032571770250797,-0.058407519012690,0.098562911152840));
res += mul(Get(s0,dx,-dy), float4x4(-0.074291929602623,-0.069826662540436,-0.006011648569256,0.099326848983765,0.043596938252449,0.024940462782979,-0.134978055953979,-0.068086154758930,-0.034377310425043,-0.059998426586390,0.210942611098289,-0.093549214303493,-0.097534820437431,-0.063079833984375,-0.128001302480698,-0.035531077533960));
res += mul(Get(s0,dx,0), float4x4(-0.068640708923340,0.040025059133768,-0.064157433807850,-0.007117937318981,0.064108364284039,-0.069347791373730,-0.076985850930214,0.151921838521957,-0.076755553483963,-0.086536049842834,0.076570428907871,0.001420416519977,-0.140459820628166,-0.043827090412378,0.265212565660477,-0.041253551840782));
res += mul(Get(s0,dx,dy), float4x4(-0.001146087539382,0.044560566544533,-0.226667538285255,0.118563510477543,-0.050334852188826,-0.058927047997713,-0.115637108683586,0.099463544785976,-0.021198937669396,-0.031725246459246,-0.087229639291763,-0.135054007172585,-0.179143607616425,-0.122793212532997,0.222076386213303,0.023003449663520));
res += mul(Get(s1,-dx,-dy), float4x4(-0.179638460278511,0.054151427000761,0.074729382991791,-0.072190716862679,-0.111187979578972,-0.073016643524170,0.095657169818878,0.010842962190509,-0.082276701927185,0.003423899179325,0.001729429699481,-0.165803402662277,-0.118519373238087,-0.136683598160744,0.018530968576670,0.044321380555630));
res += mul(Get(s1,-dx,0), float4x4(0.085681214928627,-0.105513907968998,-0.046533338725567,0.061053033918142,-0.005923522636294,-0.008288942277431,-0.029264377430081,0.125055164098740,-0.125994116067886,0.022890996187925,0.113595291972160,-0.023914232850075,-0.039012841880322,-0.014245874248445,-0.119668126106262,-0.001316212234087));
res += mul(Get(s1,-dx,dy), float4x4(0.117174953222275,-0.035440430045128,-0.105529025197029,-0.004458454903215,-0.017957869917154,-0.074570216238499,-0.071746066212654,0.104163929820061,0.103146903216839,-0.057126116007566,-0.012082163244486,-0.055546391755342,0.082927316427231,-0.082592554390430,-0.119631737470627,0.289302647113800));
res += mul(Get(s1,0,-dy), float4x4(-0.077305875718594,0.067426703870296,0.025562148541212,-0.117859810590744,-0.054874666035175,-0.223735511302948,-0.107063151896000,-0.093120761215687,-0.049059309065342,0.070976473391056,0.146144509315491,-0.129014477133751,-0.099505990743637,0.018201773986220,-0.036668092012405,-0.047061651945114));
res += mul(Get(s1,0,0), float4x4(0.032088875770569,-0.013176179490983,-0.026484264060855,0.070353798568249,0.161414414644241,0.001865767640993,-0.085626602172852,-0.051237825304270,-0.128344416618347,0.053790643811226,0.125114858150482,0.027921969071031,0.093193367123604,0.041570600122213,-0.057970751076937,-0.018792413175106));
res += mul(Get(s1,0,dy), float4x4(-0.023755423724651,0.017284249886870,-0.010246520861983,-0.112636111676693,-0.018961204215884,-0.050795841962099,-0.042829774320126,-0.129319354891777,0.036095984280109,-0.030446985736489,0.068986445665359,0.009599938988686,0.106689028441906,0.048262413591146,-0.116775110363960,0.083647161722183));
res += mul(Get(s1,dx,-dy), float4x4(-0.165182441473007,-0.060792587697506,0.043539639562368,-0.032274845987558,0.110805042088032,-0.210613220930099,-0.020310567691922,0.015516983345151,-0.076454952359200,-0.063587054610252,0.120191566646099,-0.154649078845978,0.104724511504173,0.086360909044743,-0.015604056417942,0.033065881580114));
res += mul(Get(s1,dx,0), float4x4(-0.020688656717539,0.005859985481948,0.065322086215019,0.071545585989952,0.135903671383858,0.074393838644028,0.059658680111170,0.005843864288181,-0.117164231836796,0.014544459991157,-0.069463983178139,0.064832642674446,0.007673842366785,-0.039484750479460,-0.057069674134254,-0.028009237721562));
res += mul(Get(s1,dx,dy), float4x4(0.018591571599245,0.024746751412749,0.030978903174400,-0.079580239951611,-0.054615296423435,0.124945193529129,0.000216374130105,-0.215612426400185,0.065647967159748,0.003713760757819,0.189847514033318,0.053222909569740,-0.044772848486900,0.064480990171432,-0.118123173713684,0.132279857993126));
res += mul(Get(s2,-dx,-dy), float4x4(-0.002406923100352,-0.026585482060909,0.194427952170372,-0.138539180159569,-0.103239595890045,-0.022031145170331,0.126238957047462,-0.138664200901985,0.030329389497638,0.006428707391024,-0.080514349043369,0.103600509464741,0.046916145831347,-0.011462580412626,-0.149828046560287,-0.083316951990128));
res += mul(Get(s2,-dx,0), float4x4(-0.045430567115545,0.064476460218430,0.037605084478855,0.044988624751568,-0.036067198961973,-0.090131647884846,0.077513672411442,-0.054226722568274,-0.038109995424747,0.075802259147167,-0.082059092819691,0.185203135013580,0.095736570656300,0.029838090762496,0.015107364393771,-0.054758097976446));
res += mul(Get(s2,-dx,dy), float4x4(-0.015881620347500,0.027715617790818,0.075274802744389,0.055861633270979,0.041479438543320,-0.091379679739475,0.025317648425698,-0.034607388079166,-0.021708523854613,0.138566628098488,0.083020098507404,-0.107787057757378,-0.045107420533895,0.067579008638859,-0.096730425953865,-0.019516613334417));
res += mul(Get(s2,0,-dy), float4x4(0.066959746181965,-0.018657308071852,0.150145500898361,-0.143909171223640,-0.012339494191110,-0.016000201925635,0.152926117181778,-0.090204581618309,0.065879099071026,0.085581824183464,-0.076995134353638,-0.015781508758664,0.153377965092659,-0.106111764907837,-0.102559685707092,-0.112431243062019));
res += mul(Get(s2,0,0), float4x4(-0.016356419771910,0.010973580181599,-0.011822097934783,-0.063021659851074,0.012870360165834,-0.023182617500424,0.039202254265547,0.012947681359947,-0.013969136402011,0.154129460453987,0.039284870028496,0.089116759598255,-0.047667399048805,-0.034599874168634,0.017965611070395,-0.074617028236389));
res += mul(Get(s2,0,dy), float4x4(0.111016958951950,-0.081948190927505,-0.113552957773209,-0.013942542485893,0.136065661907196,-0.103365555405617,0.010126197710633,-0.025467144325376,-0.165552139282227,0.013775816187263,0.187514290213585,-0.009963057935238,-0.110483229160309,0.151470929384232,-0.048947848379612,0.016273353248835));
res += mul(Get(s2,dx,-dy), float4x4(0.042434405535460,0.148909032344818,0.137767136096954,-0.113557435572147,0.019188990816474,-0.028715576976538,0.161908224225044,-0.103858210146427,0.006948387715966,0.051589716225863,-0.107158578932285,-0.123356893658638,0.091792672872543,-0.147945269942284,-0.136591389775276,0.005038032773882));
res += mul(Get(s2,dx,0), float4x4(0.031932104378939,-0.026950387284160,-0.061313327401876,0.054321467876434,0.010384713299572,0.032640825957060,-0.154183357954025,0.034961223602295,0.018629895523190,0.074453212320805,0.029418736696243,0.034193702042103,0.233159437775612,-0.080303937196732,-0.066818192601204,0.108959741890430));
res += mul(Get(s2,dx,dy), float4x4(0.016060652211308,-0.057384833693504,-0.244266048073769,0.216806456446648,0.155172288417816,-0.068483985960484,0.006917574442923,-0.087532244622707,-0.005859124939889,0.030164454132318,-0.031622055917978,-0.015285510569811,0.081063359975815,0.120828934013844,-0.122542761266232,0.077380791306496));
res += mul(Get(s3,-dx,-dy), float4x4(0.056850511580706,-0.125706166028976,0.002563443500549,0.062849536538124,-0.148441299796104,0.043161354959011,-0.091128848493099,0.070047587156296,-0.010416241362691,0.018332879990339,0.022144086658955,-0.038642436265945,0.018868612125516,-0.001463909633458,0.136472970247269,-0.040665231645107));
res += mul(Get(s3,-dx,0), float4x4(0.012896650470793,-0.044139139354229,-0.058305263519287,-0.109056860208511,0.017013791948557,-0.068121723830700,0.022306185215712,-0.006045371294022,-0.137790009379387,-0.047927424311638,-0.072868168354034,-0.075576171278954,0.033782936632633,0.066068418323994,0.114441536366940,-0.089887179434299));
res += mul(Get(s3,-dx,dy), float4x4(-0.128732621669769,-0.100669868290424,0.083707116544247,-0.004410129040480,-0.014902390539646,0.155179187655449,-0.020531188696623,0.126474335789680,-0.043200179934502,0.033470056951046,-0.113548591732979,0.216785684227943,0.016755204647779,-0.005746336188167,0.134703353047371,0.046782668679953));
res += mul(Get(s3,0,-dy), float4x4(-0.076630152761936,-0.165735051035881,0.114041842520237,0.098753817379475,0.021621515974402,0.002485399600118,0.066550441086292,-0.020341617986560,0.164294496178627,-0.002066398272291,0.091501533985138,-0.002074306365103,0.149196714162827,-0.036850035190582,0.046387374401093,-0.043066836893559));
res += mul(Get(s3,0,0), float4x4(0.002897488186136,-0.005036595743150,0.062823444604874,-0.048818085342646,0.155895665287971,-0.122693255543709,0.031063213944435,-0.101945951581001,-0.165709853172302,0.068731121718884,-0.067384108901024,-0.047446317970753,0.124340914189816,-0.137410074472427,-0.097481124103069,-0.110889166593552));
res += mul(Get(s3,0,dy), float4x4(-0.067036338150501,-0.070381812751293,-0.018283098936081,0.038029409945011,0.068474866449833,0.055268548429012,-0.087709806859493,-0.061117116361856,-0.063737742602825,0.174728721380234,-0.169052541255951,0.027007481083274,0.152731671929359,-0.144018203020096,0.105955854058266,-0.014306623488665));
res += mul(Get(s3,dx,-dy), float4x4(-0.046683341264725,-0.131913170218468,0.263194650411606,0.171712189912796,-0.045636743307114,-0.059837892651558,-0.013530964031816,-0.046461809426546,0.156873494386673,-0.010287451557815,-0.006247050128877,0.033519260585308,0.000166796235135,0.063667893409729,0.023379536345601,-0.105294674634933));
res += mul(Get(s3,dx,0), float4x4(-0.050336483865976,0.088204681873322,-0.106386139988899,-0.055970687419176,-0.089363947510719,0.006850395351648,-0.051125463098288,0.015657337382436,-0.071785666048527,0.000926861946937,-0.133772060275078,-0.191404744982719,-0.147850155830383,0.016170993447304,0.007261409424245,-0.089968480169773));
res += mul(Get(s3,dx,dy), float4x4(-0.056367523968220,-0.017502140253782,-0.185782626271248,0.020508544519544,0.145161479711533,-0.041684892028570,-0.082201838493347,-0.033612877130508,-0.000713485642336,-0.048669632524252,-0.128484457731247,0.024440092965961,-0.036120273172855,0.018911594524980,0.229180291295052,0.040130525827408));
return max(float4(0,0,0,0), res);
}
