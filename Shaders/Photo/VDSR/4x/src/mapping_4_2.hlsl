sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.079968512058258,-0.037155117839575,-0.122959390282631,-0.008483656682074,-0.184901982545853,-0.026239831000566,0.186285421252251,-0.002398659242317,0.142711490392685,-0.056309811770916,0.150789186358452,-0.111004605889320,0.080071471631527,0.006439507473260,0.004279111046344,0.015490031801164));
res += mul(Get(s0,-dx,0), float4x4(-0.258959501981735,0.054024107754230,-0.086770072579384,0.094556316733360,-0.034596234560013,-0.066230781376362,-0.155289381742477,0.028817543759942,0.000827762589324,-0.041187837719917,-0.013056873343885,-0.015736764296889,0.134408667683601,-0.126171752810478,0.091798573732376,0.116069570183754));
res += mul(Get(s0,-dx,dy), float4x4(-0.040142532438040,-0.182137414813042,0.002502832561731,-0.074802994728088,-0.106242261826992,0.118905045092106,-0.070945948362350,-0.078413844108582,0.045972641557455,-0.076940789818764,0.055429287254810,0.078955903649330,0.159014001488686,0.076471112668514,-0.011243286542594,-0.012985706329346));
res += mul(Get(s0,0,-dy), float4x4(0.101367384195328,-0.018191065639257,0.113273508846760,-0.035415809601545,0.085337869822979,0.077889256179333,0.013939148746431,0.043689806014299,-0.159904733300209,-0.060086078941822,0.004475311841816,0.042290385812521,-0.084021322429180,-0.152260646224022,0.093176633119583,0.247177734971046));
res += mul(Get(s0,0,0), float4x4(0.209957301616669,0.018969859927893,-0.136516556143761,0.032495982944965,-0.068152450025082,0.007748729083687,-0.060899417847395,0.184967726469040,-0.060455787926912,0.115995094180107,0.138195678591728,0.159279257059097,0.079231552779675,-0.007377954199910,0.115743055939674,0.020353669300675));
res += mul(Get(s0,0,dy), float4x4(0.035822067409754,0.024617919698358,-0.055241949856281,-0.019328368827701,-0.061633236706257,0.003064605407417,-0.166641339659691,-0.060754917562008,0.002602513646707,0.181504547595978,0.119125545024872,0.123380675911903,-0.056565336883068,-0.083475396037102,0.012848000973463,-0.068834714591503));
res += mul(Get(s0,dx,-dy), float4x4(-0.002705824794248,0.037343624979258,0.035698208957911,-0.083536937832832,-0.015614246949553,0.009004913270473,0.011840031482279,-0.014431039802730,0.028697084635496,0.023219648748636,0.035234488546848,-0.002043867949396,-0.013768190518022,0.002703468082473,0.062164649367332,0.113002195954323));
res += mul(Get(s0,dx,0), float4x4(0.155636385083199,0.161485373973846,-0.054209973663092,-0.019143801182508,-0.058749139308929,-0.166086077690125,0.096170164644718,0.055961720645428,-0.026401693001390,0.076042614877224,-0.076992936432362,0.003600528463721,0.260665446519852,0.040041379630566,-0.061512656509876,0.148178443312645));
res += mul(Get(s0,dx,dy), float4x4(0.120562233030796,0.199817344546318,-0.009843429550529,0.014556086622179,-0.130049630999565,-0.057758502662182,0.131262466311455,0.024170884862542,-0.007291459012777,0.010177126154304,-0.161910504102707,-0.141317039728165,-0.000461113551864,0.131569072604179,0.015199622139335,0.034636579453945));
res += mul(Get(s1,-dx,-dy), float4x4(0.153269186615944,-0.164293199777603,0.140117987990379,-0.043160907924175,0.040177922695875,0.031208671629429,0.105576679110527,0.037021085619926,-0.019480016082525,-0.025390477851033,0.122090734541416,0.050269979983568,0.004578549880534,-0.057031594216824,0.019579613581300,0.047147247940302));
res += mul(Get(s1,-dx,0), float4x4(-0.051539879292250,-0.209410697221756,0.036906167864799,0.052246328443289,-0.114608719944954,-0.021068442612886,-0.086765259504318,-0.093042001128197,0.170625418424606,0.020823242142797,-0.262517511844635,0.008643035776913,-0.092981018126011,0.045924171805382,0.050619356334209,-0.024011332541704));
res += mul(Get(s1,-dx,dy), float4x4(-0.053173452615738,0.040480613708496,-0.038775585591793,-0.113287203013897,0.092339374125004,-0.023624457418919,-0.131457239389420,0.041135944426060,-0.179108068346977,-0.093656800687313,0.097809746861458,0.055130265653133,0.013797176070511,-0.156496733427048,0.256353855133057,-0.059397492557764));
res += mul(Get(s1,0,-dy), float4x4(0.113778807222843,0.000783005321864,0.038843855261803,-0.121474742889404,0.028292598202825,0.113328948616982,-0.022151915356517,-0.048612281680107,0.011253557167947,-0.051196683198214,-0.056406095623970,0.146530970931053,-0.053058397024870,0.028630325570703,0.201546907424927,0.082810595631599));
res += mul(Get(s1,0,0), float4x4(0.126561298966408,-0.172102794051170,0.061196409165859,-0.037908419966698,0.014552929438651,0.002575764432549,0.150164574384689,-0.135717004537582,0.118398472666740,0.025492364540696,-0.056702040135860,0.048840958625078,0.168874129652977,0.167014047503471,-0.065300062298775,0.003005973994732));
res += mul(Get(s1,0,dy), float4x4(-0.271936893463135,-0.202391430735588,-0.002663379302248,-0.168327674269676,-0.039574485272169,0.068138174712658,0.042896799743176,0.192207276821136,0.040618896484375,-0.069993339478970,0.098782069981098,-0.208598554134369,0.062082614749670,-0.093486964702606,-0.071890704333782,0.057268708944321));
res += mul(Get(s1,dx,-dy), float4x4(0.140459880232811,0.232878148555756,-0.018436547368765,-0.148946329951286,-0.203984305262566,-0.007437784690410,-0.091208569705486,0.063234411180019,-0.093555726110935,-0.041720859706402,-0.035882327705622,-0.044565644115210,-0.162885606288910,-0.032361477613449,0.003892318811268,-0.015785085037351));
res += mul(Get(s1,dx,0), float4x4(0.025202956050634,0.118085905909538,0.047536429017782,0.094361715018749,-0.000569634430576,0.009296377189457,-0.083624251186848,-0.195294529199600,-0.121130190789700,0.096517562866211,-0.074332267045975,-0.065245926380157,0.078775584697723,0.217796757817268,-0.174922242760658,-0.096636466681957));
res += mul(Get(s1,dx,dy), float4x4(-0.035757638514042,0.127763047814369,-0.003985299728811,0.010270467028022,-0.085156582295895,0.075971081852913,0.050349965691566,-0.207320779561996,0.124814882874489,-0.235049173235893,0.039440013468266,0.067478276789188,0.204358369112015,-0.113761097192764,-0.097690016031265,0.087567619979382));
res += mul(Get(s2,-dx,-dy), float4x4(-0.196533218026161,-0.039124406874180,-0.053479880094528,0.074201583862305,0.000857241800986,-0.198337078094482,0.234825864434242,0.002860394306481,0.020378416404128,0.061221700161695,0.141001865267754,-0.194583356380463,0.167311355471611,-0.123773060739040,-0.071899034082890,-0.062849067151546));
res += mul(Get(s2,-dx,0), float4x4(0.153899461030960,-0.027300911024213,0.030342526733875,0.169024929404259,-0.011627104133368,0.162080064415932,-0.042042389512062,0.013571607880294,0.019634054973722,-0.012758768163621,0.071486137807369,-0.198541849851608,0.046584580093622,-0.030336609110236,-0.223254442214966,-0.022861376404762));
res += mul(Get(s2,-dx,dy), float4x4(0.003978477325290,-0.134776085615158,-0.065942645072937,-0.026589646935463,-0.114406406879425,-0.099704563617706,0.135938525199890,-0.059265732765198,0.018272861838341,0.100439041852951,0.051112104207277,-0.129623144865036,-0.106733806431293,-0.269086182117462,-0.045547485351563,-0.038434073328972));
res += mul(Get(s2,0,-dy), float4x4(-0.020770050585270,0.104212269186974,0.141809552907944,-0.243824318051338,-0.067685700953007,0.126806050539017,-0.048987515270710,0.085167825222015,-0.049624186009169,0.208763659000397,-0.086130537092686,0.148592814803123,0.133188128471375,0.103796564042568,-0.040505107492208,0.019253451377153));
res += mul(Get(s2,0,0), float4x4(-0.153838276863098,-0.152808815240860,0.140905708074570,-0.030110120773315,-0.001039947383106,0.000293080724077,0.244033128023148,0.037329010665417,-0.009274739772081,0.067444421350956,0.108256325125694,0.061649654060602,-0.174180075526237,0.075108602643013,-0.179358169436455,-0.002191670704633));
res += mul(Get(s2,0,dy), float4x4(-0.113502949476242,-0.032014749944210,0.048683784902096,-0.152747109532356,0.050982754677534,0.076005920767784,0.010655169375241,-0.052672095596790,-0.118642337620258,-0.070366241037846,0.010183596052229,0.135264128446579,-0.278471976518631,0.187894850969315,0.172168388962746,0.132093101739883));
res += mul(Get(s2,dx,-dy), float4x4(-0.119002260267735,0.058486215770245,0.020908677950501,-0.050342928618193,0.003574609523639,0.111411221325397,0.009995886124671,-0.140032246708870,-0.199246615171432,-0.222777754068375,-0.190444797277451,-0.053315903991461,0.083354964852333,-0.026890134438872,-0.141663491725922,0.082401424646378));
res += mul(Get(s2,dx,0), float4x4(0.109053827822208,-0.089048549532890,-0.053042843937874,0.133531704545021,-0.096114642918110,-0.009688713587821,-0.035523865371943,0.034084822982550,-0.089590884745121,0.215510994195938,0.025077613070607,0.109704665839672,0.110987909138203,-0.002935799071565,0.009676438756287,0.132194563746452));
res += mul(Get(s2,dx,dy), float4x4(-0.192158252000809,-0.087468571960926,0.147920027375221,-0.077816843986511,0.261732816696167,-0.126433774828911,0.018239839002490,-0.191337212920189,0.082474961876869,0.237388864159584,0.065814152359962,-0.001933087711222,-0.076461672782898,-0.090851746499538,0.043270617723465,-0.006151260808110));
res += mul(Get(s3,-dx,-dy), float4x4(-0.111927188932896,0.031288783997297,0.167404562234879,-0.135176822543144,-0.068188734352589,0.110524639487267,-0.142365112900734,-0.111318849027157,0.006984060164541,0.051143214106560,0.135484725236893,0.120812721550465,-0.086460240185261,0.024040348827839,-0.067428708076477,0.077572941780090));
res += mul(Get(s3,-dx,0), float4x4(-0.128076449036598,-0.126601606607437,-0.203185334801674,-0.018287239596248,0.106818027794361,-0.075552493333817,-0.076219856739044,-0.010897651314735,-0.064160041511059,0.100651822984219,-0.028440956026316,-0.118671424686909,-0.137902453541756,-0.195308998227119,-0.036550562828779,0.100761793553829));
res += mul(Get(s3,-dx,dy), float4x4(0.070662178099155,0.067693062126637,-0.000227523589274,-0.035109780728817,-0.035053547471762,-0.060420237481594,-0.140211313962936,-0.079365476965904,0.099329262971878,-0.043959625065327,-0.221057087182999,-0.032178740948439,-0.053714584559202,0.108971230685711,-0.078859612345695,-0.148272186517715));
res += mul(Get(s3,0,-dy), float4x4(-0.224670782685280,0.030734354630113,-0.057090841233730,0.106775939464569,-0.040986854583025,-0.247927784919739,0.092308014631271,0.098983794450760,-0.148685470223427,-0.195836395025253,0.139434456825256,-0.019348001107574,-0.065891347825527,0.016360996291041,0.130576759576797,0.052631508558989));
res += mul(Get(s3,0,0), float4x4(0.091881431639194,-0.064877092838287,0.102091230452061,-0.072748363018036,0.086977638304234,0.056395806372166,0.034108221530914,0.021063720807433,-0.024291183799505,0.060478255152702,0.010282419621944,0.021349940448999,0.045863419771194,-0.036398623138666,0.055058293044567,-0.226816996932030));
res += mul(Get(s3,0,dy), float4x4(0.347674399614334,0.007550433743745,-0.167537197470665,-0.162645176053047,-0.032866884022951,-0.195594772696495,-0.364571183919907,-0.172376886010170,-0.066415064036846,-0.134923294186592,0.045066308230162,-0.129250794649124,-0.055733747780323,0.078564591705799,0.088853068649769,-0.045903161168098));
res += mul(Get(s3,dx,-dy), float4x4(-0.034582834690809,-0.119054205715656,0.090311929583549,-0.008977095596492,0.041917003691196,-0.045298751443624,0.155132248997688,0.084791265428066,-0.140460267663002,-0.139238163828850,0.238308876752853,0.335371464490891,-0.117783598601818,0.127326741814613,-0.161843836307526,0.204596728086472));
res += mul(Get(s3,dx,0), float4x4(0.080626524984837,-0.123412609100342,-0.138991549611092,-0.018948154523969,-0.099113576114178,0.011259192600846,0.154069960117340,-0.255522817373276,-0.097003206610680,0.295519143342972,0.045209627598524,0.055732455104589,-0.035094350576401,-0.110712073743343,-0.125287264585495,-0.126273289322853));
res += mul(Get(s3,dx,dy), float4x4(0.017691303044558,-0.079873323440552,-0.022556982934475,-0.319652676582336,-0.134877130389214,-0.101946197450161,-0.024207258597016,-0.051438115537167,-0.041208613663912,-0.130746737122536,-0.014559028670192,-0.091103509068489,-0.012714185751975,0.055591590702534,-0.023700518533587,-0.198399707674980));
return max(float4(0,0,0,0), res);
}
