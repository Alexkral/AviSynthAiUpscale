sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.064535059034824,0.258697360754013,-0.126230686903000,0.159815698862076,-0.208044588565826,-0.005910915788263,-0.064589537680149,-0.046258609741926,-0.100774049758911,0.097149908542633,-0.064877443015575,0.017472617328167,0.197776451706886,-0.204100087285042,-0.022891908884048,-0.043878469616175));
res += mul(Get(s0,-dx,0), float4x4(-0.214038565754890,0.037828110158443,0.099182501435280,0.129614189267159,0.030691716820002,0.098695114254951,-0.161834374070168,0.244269371032715,0.014549642801285,-0.113453522324562,0.055684410035610,0.102257445454597,-0.094514034688473,0.213779613375664,-0.134049132466316,0.214128911495209));
res += mul(Get(s0,-dx,dy), float4x4(0.133813872933388,0.065476171672344,0.041726298630238,0.079769410192966,0.118282325565815,0.026272438466549,-0.005412837956101,-0.016477225348353,-0.040312327444553,-0.112998664379120,0.018738668411970,-0.110553316771984,0.180416017770767,0.060184326022863,-0.065061233937740,-0.059341005980968));
res += mul(Get(s0,0,-dy), float4x4(0.149594619870186,-0.034206446260214,-0.020681239664555,0.012008995749056,-0.086282402276993,-0.306404232978821,0.107062697410583,-0.226818308234215,-0.028320902958512,-0.114310808479786,0.032426413148642,-0.099698178470135,-0.056997898966074,0.067256644368172,0.095678299665451,-0.036820068955421));
res += mul(Get(s0,0,0), float4x4(-0.118486687541008,-0.220915257930756,0.058619439601898,0.092268668115139,0.084918163716793,-0.021222215145826,-0.072706617414951,-0.173734143376350,0.026236848905683,-0.062799118459225,-0.154920667409897,-0.257128149271011,-0.074881061911583,0.083599582314491,-0.005478287115693,0.032165750861168));
res += mul(Get(s0,0,dy), float4x4(0.030687652528286,-0.004525682888925,0.082146964967251,-0.012787051498890,-0.102252617478371,-0.071779936552048,0.170043632388115,0.102703191339970,0.007461241912097,0.092997439205647,-0.094864748418331,-0.087936200201511,-0.158208742737770,-0.010998366400599,-0.099675379693508,0.065043829381466));
res += mul(Get(s0,dx,-dy), float4x4(0.048442907631397,0.027191704139113,0.103473722934723,-0.149558693170547,0.003884742502123,-0.169910147786140,0.020774407312274,0.091451205313206,0.096417613327503,0.039765138179064,0.097914271056652,0.144575685262680,0.015664223581553,-0.094766676425934,0.169751748442650,0.049557100981474));
res += mul(Get(s0,dx,0), float4x4(-0.044361833482981,-0.009379705414176,0.032408792525530,-0.046738266944885,-0.036026574671268,-0.199574872851372,-0.128953054547310,0.039285492151976,0.085575066506863,-0.021605243906379,0.113605998456478,0.150157675147057,-0.041234679520130,-0.065545544028282,0.057060509920120,0.169282600283623));
res += mul(Get(s0,dx,dy), float4x4(-0.025967990979552,0.018491841852665,0.188342526555061,0.017606928944588,-0.172747492790222,0.055812682956457,0.094116762280464,-0.077412948012352,-0.018301032483578,-0.098030559718609,0.033790394663811,0.054063074290752,-0.089564330875874,0.000307200651150,0.183896481990814,0.114342339336872));
res += mul(Get(s1,-dx,-dy), float4x4(-0.062816508114338,-0.054780498147011,-0.158014044165611,-0.087133459746838,-0.212157621979713,0.084621660411358,-0.053174782544374,-0.086124144494534,-0.031328927725554,-0.162766560912132,-0.155359208583832,0.017824476584792,-0.159203127026558,0.196228176355362,-0.236920550465584,-0.090192638337612));
res += mul(Get(s1,-dx,0), float4x4(-0.046975124627352,-0.001356882043183,-0.098865240812302,-0.090573094785213,-0.116609893739223,0.091108910739422,-0.030257722362876,0.073663644492626,-0.092992082238197,-0.056366804987192,0.217870235443115,-0.173638179898262,0.217697560787201,0.116793088614941,0.018960235640407,0.017846960574389));
res += mul(Get(s1,-dx,dy), float4x4(0.051992323249578,-0.052249010652304,0.018529556691647,0.004482481162995,0.007665644399822,0.045430924743414,0.151352599263191,0.126070395112038,-0.110077798366547,0.026827434077859,-0.018665686249733,0.068973660469055,0.063510544598103,0.097035616636276,0.004914597608149,0.210775762796402));
res += mul(Get(s1,0,-dy), float4x4(-0.014994122087955,0.038164835423231,0.015958389267325,-0.059755384922028,0.033485639840364,0.181592375040054,-0.065370701253414,-0.188815563917160,-0.034302651882172,-0.106515400111675,0.005057516973466,-0.128766819834709,0.036611706018448,-0.098514787852764,0.014340081252158,0.006418068427593));
res += mul(Get(s1,0,0), float4x4(-0.066339321434498,-0.022764315828681,0.212083071470261,0.145842999219894,0.103681534528732,-0.063363552093506,-0.010631995275617,0.028727779164910,-0.108129940927029,0.045378755778074,-0.010561077855527,-0.154309406876564,0.148787409067154,0.044145621359348,-0.028011260554194,0.191811844706535));
res += mul(Get(s1,0,dy), float4x4(0.017606390640140,-0.061167117208242,-0.001111531397328,-0.012655337341130,0.029415171593428,0.077585518360138,-0.227920860052109,0.066043943166733,-0.027189761400223,0.144275590777397,0.110741473734379,0.092910580337048,-0.143403008580208,0.089153908193111,-0.053266528993845,0.033626656979322));
res += mul(Get(s1,dx,-dy), float4x4(0.019655643031001,-0.028424244374037,0.078430905938148,-0.097449883818626,-0.092368319630623,0.055265005677938,0.011913361027837,0.090772658586502,0.171889975667000,-0.026021020486951,0.018773319199681,-0.000449977786047,0.035129647701979,-0.009982576593757,0.019065324217081,0.061028741300106));
res += mul(Get(s1,dx,0), float4x4(-0.083995990455151,0.157033622264862,0.032646562904119,-0.019738323986530,0.069773592054844,-0.169545575976372,-0.007604456972331,-0.169429048895836,-0.098716452717781,-0.107116840779781,-0.071390300989151,-0.112278684973717,0.035324580967426,0.079861588776112,-0.128558218479156,0.096350811421871));
res += mul(Get(s1,dx,dy), float4x4(0.210928305983543,0.004029406234622,-0.040189888328314,-0.121164560317993,-0.109383262693882,-0.136671692132950,-0.056207254528999,-0.015793858096004,0.006871997378767,0.147662431001663,0.072148859500885,-0.068690530955791,-0.145598754286766,0.023070635274053,0.141032859683037,0.006026310846210));
res += mul(Get(s2,-dx,-dy), float4x4(0.090901538729668,0.148857548832893,0.059283491224051,0.014298183843493,0.158012568950653,-0.204610228538513,-0.093585468828678,0.005554795730859,0.023326560854912,0.054854325950146,-0.023601500317454,-0.111207515001297,0.055007543414831,-0.045874942094088,-0.075342722237110,-0.112925320863724));
res += mul(Get(s2,-dx,0), float4x4(-0.018295370042324,-0.104083016514778,-0.191034033894539,0.011035852134228,-0.106501758098602,0.042125698179007,-0.064666673541069,0.036935314536095,0.010936779901385,0.089384801685810,-0.137361511588097,-0.121837675571442,-0.179461151361465,-0.041356600821018,-0.013680783100426,-0.015905920416117));
res += mul(Get(s2,-dx,dy), float4x4(-0.133338302373886,-0.000465041695861,-0.031363062560558,-0.131963074207306,0.058757226914167,-0.170507550239563,-0.010928555391729,-0.109655387699604,-0.181065276265144,-0.030084934085608,-0.059017643332481,0.130351036787033,0.155739188194275,-0.049997575581074,0.010279330424964,-0.024484276771545));
res += mul(Get(s2,0,-dy), float4x4(0.110929369926453,0.075307048857212,-0.071276031434536,-0.179532378911972,0.132961735129356,0.099347598850727,-0.000880435341969,0.112176977097988,-0.009016571566463,-0.032833114266396,0.113443374633789,-0.061244931071997,-0.041408281773329,-0.071015618741512,0.098684795200825,0.192023187875748));
res += mul(Get(s2,0,0), float4x4(0.047392729669809,-0.012266344390810,-0.219694748520851,0.066435322165489,0.042715903371572,0.114518746733665,0.027960371226072,0.201637849211693,0.085369221866131,0.028650438413024,0.031772512942553,-0.156885266304016,0.014797721989453,0.011874941177666,0.129655092954636,0.086928196251392));
res += mul(Get(s2,0,dy), float4x4(-0.097842574119568,0.153233230113983,-0.070258997380733,0.014917713589966,-0.112714514136314,-0.192877799272537,0.136045336723328,-0.107729129493237,-0.095722295343876,-0.001645609037951,-0.017346670851111,-0.203436389565468,-0.012171132490039,0.127037540078163,-0.154121145606041,-0.039323784410954));
res += mul(Get(s2,dx,-dy), float4x4(-0.104037702083588,-0.137974098324776,-0.048475664108992,0.013148637488484,-0.112571761012077,0.070766337215900,-0.016309997066855,0.107594467699528,0.080928988754749,-0.148091703653336,-0.047644577920437,-0.246304899454117,0.001509521971457,0.084875032305717,-0.121914863586426,0.049061320722103));
res += mul(Get(s2,dx,0), float4x4(0.060471236705780,-0.142738267779350,0.078053705394268,0.003511751769111,-0.214004710316658,0.015982903540134,0.106946930289268,-0.026082230731845,-0.041711509227753,0.030826831236482,-0.139047458767891,-0.237621113657951,-0.098279207944870,-0.164159134030342,-0.031772702932358,0.140520542860031));
res += mul(Get(s2,dx,dy), float4x4(-0.022069728001952,0.029336541891098,0.086637668311596,0.067184977233410,0.099430464208126,-0.059253752231598,-0.112501792609692,0.087008066475391,0.113091006875038,0.207588911056519,-0.055183824151754,-0.155613943934441,0.174880251288414,0.202623844146729,-0.337089568376541,0.034443248063326));
res += mul(Get(s3,-dx,-dy), float4x4(0.061902057379484,-0.181389242410660,0.300699830055237,0.057119436562061,0.184786945581436,0.138641268014908,0.072963781654835,-0.024358838796616,-0.032599683851004,-0.074426569044590,0.187227144837379,0.143217951059341,0.245455265045166,-0.050319273024797,-0.267425984144211,0.085780702531338));
res += mul(Get(s3,-dx,0), float4x4(-0.016066422685981,0.005492656026036,-0.036734137684107,0.072706565260887,-0.080760456621647,-0.017577152699232,-0.061452843248844,0.166858017444611,0.025872027501464,-0.000947618624195,0.238714545965195,0.037163890898228,-0.094936653971672,0.109053611755371,0.153018176555634,0.025374257937074));
res += mul(Get(s3,-dx,dy), float4x4(0.060939706861973,0.129592180252075,-0.168673276901245,-0.079629071056843,0.015015251934528,-0.180576726794243,-0.072764612734318,-0.037287674844265,-0.109749652445316,-0.067225582897663,-0.002030575647950,0.095044709742069,-0.087599031627178,0.071460582315922,-0.047331601381302,-0.167782828211784));
res += mul(Get(s3,0,-dy), float4x4(0.193562552332878,-0.104380331933498,-0.119907580316067,0.047789417207241,0.109737083315849,0.312523096799850,0.064932025969028,-0.046491261571646,0.084180958569050,-0.047434654086828,0.073550879955292,-0.085021123290062,0.018137149512768,-0.117301210761070,0.137965470552444,0.156158328056335));
res += mul(Get(s3,0,0), float4x4(-0.005396737717092,-0.255252540111542,-0.003270665183663,-0.056794334203005,0.164644151926041,-0.106365546584129,0.028574053198099,0.126416340470314,0.214190930128098,0.110572062432766,-0.155937090516090,0.138809189200401,0.098941154778004,-0.022184297442436,-0.022588204592466,0.032229769974947));
res += mul(Get(s3,0,dy), float4x4(-0.033056620508432,-0.095921777188778,0.040763702243567,-0.093315601348877,-0.177895590662956,0.116788260638714,0.023286817595363,0.166771441698074,-0.047341980040073,0.003210490103811,-0.028301799669862,-0.009582770988345,0.057607494294643,0.022877283394337,-0.155704960227013,0.136212319135666));
res += mul(Get(s3,dx,-dy), float4x4(0.171134978532791,0.144006475806236,-0.030447896569967,0.055371336638927,-0.192391604185104,0.333459943532944,-0.035405848175287,-0.004095022566617,-0.129885777831078,-0.067109979689121,0.060134436935186,-0.065156154334545,-0.115757055580616,-0.124066159129143,0.019635718315840,0.083417013287544));
res += mul(Get(s3,dx,0), float4x4(0.303758978843689,0.207871362566948,0.052238941192627,0.043665446341038,-0.065399974584579,0.059401541948318,-0.080194108188152,0.027357850223780,-0.031887724995613,0.023212352767587,-0.035770725458860,-0.090776607394218,0.047610204666853,0.097563229501247,0.073682926595211,0.109044417738914));
res += mul(Get(s3,dx,dy), float4x4(0.153391778469086,-0.105281911790371,0.057506397366524,0.140070140361786,-0.067795768380165,0.166757851839066,-0.010148928500712,0.146375700831413,-0.075760550796986,-0.053130995482206,0.041845507919788,-0.097825832664967,0.119865469634533,-0.026647552847862,-0.147651299834251,0.074553817510605));
return max(float4(0,0,0,0), res);
}
