sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.014390941709280,-0.132271170616150,0.066140756011009,0.095546536147594,0.075847156345844,0.046496100723743,-0.077250115573406,-0.079001016914845,-0.031924508512020,-0.095185004174709,-0.161436915397644,-0.044366873800755,-0.035972185432911,-0.108195759356022,0.053660884499550,-0.015438002534211));
res += mul(Get(s0,-dx,0), float4x4(-0.037043701857328,-0.002766698831692,-0.104083701968193,0.013736606575549,-0.017454450950027,0.175868809223175,-0.013920168392360,0.036931887269020,0.054151009768248,0.121784083545208,0.074501521885395,-0.119465768337250,-0.019554330036044,0.088542513549328,-0.042490847408772,-0.053252410143614));
res += mul(Get(s0,-dx,dy), float4x4(-0.034173607826233,0.050199426710606,-0.063834890723228,-0.088574618101120,-0.092511437833309,0.141645073890686,-0.110476791858673,0.101514033973217,-0.033361990004778,0.009068214334548,-0.016392761841416,-0.158625811338425,0.011094244197011,0.031121823936701,-0.014423521235585,-0.110822230577469));
res += mul(Get(s0,0,-dy), float4x4(0.104432106018066,-0.205140769481659,0.029883114621043,-0.041397348046303,0.031039310619235,-0.118220545351505,-0.041062992066145,0.071177393198013,0.015712844207883,-0.042316272854805,-0.021413816139102,0.103734530508518,0.005779596976936,-0.040799915790558,-0.037077043205500,0.093970954418182));
res += mul(Get(s0,0,0), float4x4(-0.137493088841438,0.088254071772099,-0.134239435195923,-0.060062382370234,-0.010676383972168,0.002866682363674,-0.036921743303537,0.007435922510922,0.022244844585657,0.013600452803075,-0.044577959924936,-0.076877728104591,0.014530588872731,0.158140510320663,0.001411988283508,-0.043616946786642));
res += mul(Get(s0,0,dy), float4x4(-0.106160223484039,-0.044613417237997,0.223473429679871,-0.035689398646355,-0.125062167644501,0.073749080300331,-0.032882403582335,0.069670550525188,-0.001037207199261,0.010614648461342,-0.021751169115305,-0.027157178148627,-0.096403032541275,-0.035928569734097,0.036485549062490,0.012591307982802));
res += mul(Get(s0,dx,-dy), float4x4(0.105314269661903,-0.091251425445080,0.139548361301422,-0.023444857448339,0.315107733011246,-0.134988665580750,0.008037499152124,-0.062345653772354,0.085525259375572,-0.074649289250374,0.056732144206762,-0.028330132365227,0.131848707795143,-0.096097365021706,0.016574067994952,0.193534225225449));
res += mul(Get(s0,dx,0), float4x4(-0.065777093172073,-0.042915973812342,0.039258439093828,-0.086256809532642,0.027317367494106,0.089501440525055,0.059265013784170,-0.004113576840609,0.108185127377510,0.023595895618200,0.124584317207336,-0.046333830803633,-0.054277867078781,0.012876979075372,0.068727634847164,0.172298431396484));
res += mul(Get(s0,dx,dy), float4x4(-0.107874542474747,-0.223482310771942,-0.004908819682896,-0.008036216720939,0.012682707048953,0.035247668623924,-0.019053166732192,-0.006268871482462,0.028340505436063,-0.024176958948374,0.010844238102436,-0.104473263025284,-0.067803904414177,0.132915675640106,0.106525622308254,-0.003165803849697));
res += mul(Get(s1,-dx,-dy), float4x4(0.002868814859539,-0.063752248883247,-0.037581551820040,-0.130843043327332,-0.032725092023611,-0.184807345271111,-0.014997485093772,0.199157252907753,-0.025052476674318,0.078722104430199,0.192504554986954,0.029214400798082,0.016230771318078,-0.114696979522705,0.048765331506729,0.018994955345988));
res += mul(Get(s1,-dx,0), float4x4(0.022656453773379,-0.084746867418289,0.015840401872993,0.004077576566488,-0.190744638442993,-0.073561750352383,-0.003596561728045,-0.142784789204597,0.042476322501898,0.087128534913063,-0.000792235543486,-0.035822819918394,0.094856306910515,0.094367384910583,0.145935222506523,-0.005234014708549));
res += mul(Get(s1,-dx,dy), float4x4(0.190221026539803,0.042402565479279,0.079454034566879,0.014371257275343,-0.092874191701412,0.040948729962111,-0.131178617477417,-0.192811399698257,-0.088590711355209,-0.020906509831548,0.006469685584307,-0.109974034130573,-0.007583841681480,0.056236553937197,0.075206734240055,-0.063737176358700));
res += mul(Get(s1,0,-dy), float4x4(0.038821153342724,-0.140923157334328,-0.116317868232727,0.138270184397697,0.105262301862240,-0.162325561046600,-0.007956994697452,-0.093332342803478,-0.025328066200018,0.108900621533394,0.149134904146194,-0.065519899129868,0.085934363305569,-0.069780983030796,0.024361686781049,-0.013706887140870));
res += mul(Get(s1,0,0), float4x4(-0.080928914248943,-0.031573522835970,-0.029165752232075,0.183869883418083,-0.144958928227425,-0.206709414720535,-0.010295785032213,-0.012805609032512,0.055762723088264,-0.014131683856249,-0.017427938058972,-0.063340239226818,0.051873236894608,-0.002742141950876,0.010558001697063,-0.032330002635717));
res += mul(Get(s1,0,dy), float4x4(0.250723540782928,0.113629922270775,-0.047093700617552,-0.003839544486254,-0.058130104094744,-0.023473024368286,-0.123856380581856,-0.158957079052925,-0.098120704293251,-0.057486593723297,0.165507823228836,-0.063042171299458,0.088059507310390,-0.052605140954256,0.000580658495892,-0.020676869899035));
res += mul(Get(s1,dx,-dy), float4x4(0.062684752047062,-0.085811600089073,0.169950351119041,-0.090492211282253,0.102490082383156,0.015975698828697,0.197723403573036,-0.076916411519051,-0.091564483940601,0.069642171263695,-0.021711852401495,-0.040057741105556,0.005543376319110,-0.194270879030228,-0.048220310360193,0.109599813818932));
res += mul(Get(s1,dx,0), float4x4(0.080389752984047,0.087395317852497,-0.018929494544864,-0.006903642788529,0.019297920167446,-0.057347178459167,-0.014553983695805,0.026699265465140,-0.018892204388976,-0.067318171262741,0.128809869289398,0.023190774023533,0.041616760194302,-0.243849769234657,0.105881310999393,-0.020494893193245));
res += mul(Get(s1,dx,dy), float4x4(0.068576298654079,0.105911783874035,-0.039679206907749,-0.127925187349319,-0.059616573154926,-0.122968383133411,-0.070466510951519,-0.101353041827679,-0.087632298469543,0.060436692088842,0.045490004122257,0.056706387549639,0.073632277548313,-0.046091184020042,0.161385521292686,0.051702544093132));
res += mul(Get(s2,-dx,-dy), float4x4(0.023018624633551,0.095503635704517,-0.016735825687647,0.046145360916853,0.020781803876162,0.014786790125072,0.074211955070496,0.053027644753456,0.019841598346829,-0.169116526842117,-0.128377303481102,-0.056449409574270,-0.078183233737946,0.151632085442543,0.043888036161661,0.045369584113359));
res += mul(Get(s2,-dx,0), float4x4(-0.061113394796848,-0.034371141344309,0.007303378079087,0.030583348125219,-0.020911917090416,0.039448264986277,-0.003231434384361,-0.027962448075414,0.007549158763140,0.195428341627121,-0.051781859248877,0.023370280861855,0.059554170817137,0.049295842647552,0.015675470232964,-0.040181621909142));
res += mul(Get(s2,-dx,dy), float4x4(0.040377162396908,0.083455987274647,-0.021574785932899,0.051108900457621,-0.052271984517574,0.098289124667645,0.026638897135854,0.028566511347890,-0.037499278783798,0.175883650779724,-0.058056354522705,-0.046226236969233,-0.007562019862235,0.046355199068785,0.056150864809752,-0.077729493379593));
res += mul(Get(s2,0,-dy), float4x4(-0.014172133989632,0.023031292483211,0.103260539472103,0.153614133596420,0.137217029929161,-0.036495678126812,0.020366024225950,0.020879434421659,0.134042158722878,-0.260077893733978,-0.121307604014874,-0.036718543618917,-0.103312991559505,0.057861465960741,-0.101935483515263,0.163478493690491));
res += mul(Get(s2,0,0), float4x4(0.090642347931862,0.043460417538881,-0.030483564361930,0.064492985606194,0.041576351970434,-0.031398251652718,0.088457830250263,-0.010841357521713,-0.082858793437481,-0.066716171801090,-0.138109490275383,-0.123051673173904,-0.002266848227009,0.062000319361687,-0.030411608517170,0.120730660855770));
res += mul(Get(s2,0,dy), float4x4(0.080554708838463,-0.089961752295494,-0.066323637962341,0.043550521135330,-0.060646835714579,0.029821215197444,-0.000555803300813,0.172046452760696,-0.080100260674953,0.109291896224022,-0.045402757823467,-0.094725511968136,0.012403423897922,0.035729706287384,-0.021184267476201,-0.053338970988989));
res += mul(Get(s2,dx,-dy), float4x4(-0.046693202108145,0.207161769270897,0.067036062479019,0.053519297391176,0.235625177621841,-0.149004802107811,0.093924604356289,-0.057876709848642,-0.057104852050543,-0.172227293252945,0.005187209229916,0.049030683934689,-0.070207156240940,-0.016708530485630,0.133091405034065,0.169358238577843));
res += mul(Get(s2,dx,0), float4x4(-0.116873271763325,0.031151030212641,0.020325787365437,-0.094834670424461,0.025300212204456,-0.056143499910831,0.002990750130266,0.040852569043636,-0.142435401678085,-0.075705878436565,-0.008882724680007,-0.037007972598076,0.013274965807796,-0.047778978943825,-0.013717331923544,0.008634022437036));
res += mul(Get(s2,dx,dy), float4x4(0.150858461856842,-0.053261112421751,-0.044035471975803,0.061476044356823,0.057702351361513,-0.006820705719292,0.006897417828441,0.044501177966595,-0.198188677430153,0.048488531261683,-0.158720254898071,-0.179272428154945,-0.090676881372929,0.014250051230192,-0.050197955220938,-0.017138142138720));
res += mul(Get(s3,-dx,-dy), float4x4(-0.027001291513443,-0.094797380268574,-0.118087790906429,0.092467986047268,0.031599503010511,0.182187333703041,0.143030613660812,-0.028706029057503,0.044643558561802,-0.120189309120178,-0.134316787123680,-0.022801909595728,-0.104369863867760,-0.056283742189407,-0.124173477292061,0.113488562405109));
res += mul(Get(s3,-dx,0), float4x4(0.042548730969429,0.164748325943947,-0.050661753863096,-0.031190505251288,0.029164478182793,0.060384135693312,-0.077609159052372,-0.011926104314625,0.131575405597687,-0.059952519834042,-0.087280921638012,-0.131033629179001,-0.053976807743311,-0.052575301378965,-0.097392745316029,0.018243547528982));
res += mul(Get(s3,-dx,dy), float4x4(-0.119843535125256,0.068777859210968,-0.055919047445059,-0.074229702353477,-0.026777165010571,0.047590281814337,0.079672865569592,0.002098700962961,0.093480668962002,0.052003327757120,-0.026830660179257,-0.087101973593235,-0.018345914781094,0.115837484598160,0.163693830370903,-0.063573069870472));
res += mul(Get(s3,0,-dy), float4x4(-0.002025641733781,-0.141272708773613,-0.124606467783451,0.103759162127972,0.004870288074017,0.153516471385956,-0.000411447632359,0.029705224558711,-0.139604985713959,-0.052621655166149,-0.143436148762703,0.070940934121609,-0.017619095742702,0.011634643189609,-0.042314451187849,0.118046589195728));
res += mul(Get(s3,0,0), float4x4(-0.020187946036458,-0.025572121143341,-0.083638608455658,-0.040549509227276,-0.023268144577742,-0.003391030011699,-0.088321603834629,0.027572494000196,0.028886687010527,-0.128176704049110,0.003589860862121,-0.019089069217443,-0.138229385018349,-0.056661754846573,-0.196092411875725,-0.030553692951798));
res += mul(Get(s3,0,dy), float4x4(-0.142862915992737,0.039418548345566,-0.112322203814983,0.024814402684569,-0.107729442417622,0.047472875565290,0.092327103018761,0.112090297043324,0.074401572346687,-0.029578367248178,-0.061431162059307,0.064571417868137,-0.096717856824398,0.082970529794693,0.105126217007637,-0.067612148821354));
res += mul(Get(s3,dx,-dy), float4x4(0.092744432389736,-0.050600580871105,0.003895473200828,0.172583401203156,-0.029648743569851,0.154165372252464,-0.068355299532413,0.060234908014536,-0.089552387595177,0.149048060178757,-0.076322086155415,0.083405509591103,-0.018000500276685,-0.050441157072783,0.108713284134865,-0.024385254830122));
res += mul(Get(s3,dx,0), float4x4(-0.083626314997673,-0.043071605265141,0.021840402856469,0.134325847029686,-0.079381532967091,0.037844169884920,-0.009365042671561,0.080402806401253,0.217972591519356,0.011438718996942,-0.108221761882305,-0.027941351756454,-0.044735148549080,-0.080411344766617,-0.001196136930957,0.053919669240713));
res += mul(Get(s3,dx,dy), float4x4(-0.193962454795837,0.016456199809909,-0.013335369527340,-0.041573215276003,-0.113715909421444,0.076137199997902,0.065004914999008,-0.083899438381195,0.026051402091980,0.075075834989548,-0.028462948277593,0.090835712850094,-0.112106278538704,0.027148051187396,0.154961973428726,-0.096695415675640));
return max(float4(0,0,0,0), res);
}
