sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.057504467666149,0.181886851787567,-0.086131602525711,0.132626384496689,0.095992647111416,0.063126809895039,0.157043084502220,-0.045386508107185,-0.180426806211472,-0.039512783288956,0.039175562560558,-0.024852581322193,-0.076822198927402,-0.023461824283004,0.014838592149317,-0.136363029479980));
res += mul(Get(s0,-dx,0), float4x4(0.001890033599921,0.149348556995392,0.196283295750618,-0.146913662552834,0.099724009633064,-0.105359122157097,0.221947923302650,0.056495986878872,0.057413101196289,0.086605936288834,0.077578559517860,0.268029481172562,0.088001497089863,-0.006625260692090,-0.172960489988327,-0.009923910722136));
res += mul(Get(s0,-dx,dy), float4x4(-0.051030397415161,-0.018466221168637,0.068675354123116,-0.125781208276749,-0.038848616182804,-0.045563936233521,0.033387340605259,-0.078403063118458,-0.078012950718403,0.157959476113319,-0.139539942145348,0.202882498502731,0.066666029393673,-0.112590022385120,-0.044934343546629,-0.100993163883686));
res += mul(Get(s0,0,-dy), float4x4(0.087609834969044,0.027958115562797,-0.022690661251545,-0.062153261154890,0.203440532088280,0.046772215515375,0.011046405881643,-0.009819759987295,-0.128947228193283,0.206381186842918,-0.012165458872914,0.078464210033417,-0.001711499528028,-0.087722241878510,-0.027708495035768,-0.039411041885614));
res += mul(Get(s0,0,0), float4x4(-0.221989616751671,-0.042217630892992,-0.095021411776543,-0.088661618530750,0.012451082468033,-0.086636573076248,-0.099560990929604,-0.011429166421294,0.082589477300644,0.075345791876316,0.235778719186783,-0.046679902821779,0.035940069705248,-0.082889623939991,0.023591099306941,0.056378208100796));
res += mul(Get(s0,0,dy), float4x4(0.274406075477600,0.050656322389841,-0.001487805042416,-0.055338520556688,-0.089145511388779,-0.121718086302280,0.001791111193597,0.140594035387039,-0.088406279683113,0.071819685399532,-0.032434280961752,0.101919151842594,-0.029759302735329,0.039815939962864,-0.074454046785831,-0.144211888313293));
res += mul(Get(s0,dx,-dy), float4x4(-0.082097984850407,-0.033657100051641,-0.028305014595389,0.020897768437862,0.064749516546726,0.067964270710945,-0.121805548667908,0.052416529506445,0.233782157301903,0.123177632689476,-0.093792952597141,-0.114777065813541,0.133599042892456,0.160581320524216,-0.016559591516852,0.166944935917854));
res += mul(Get(s0,dx,0), float4x4(-0.078775972127914,0.129726722836494,-0.091742262244225,0.025990780442953,-0.004077197983861,0.060785531997681,0.079311102628708,-0.039053663611412,0.062264420092106,-0.049070425331593,0.044094379991293,0.022556986659765,-0.052925199270248,-0.035026807337999,-0.030844809487462,0.171898812055588));
res += mul(Get(s0,dx,dy), float4x4(0.102707028388977,0.240560784935951,0.052628118544817,-0.012529363855720,-0.226847693324089,0.041451472789049,-0.006921268068254,0.067465253174305,0.047183230519295,-0.052364721894264,0.186934977769852,0.169225037097931,0.008365127258003,-0.015030337497592,0.079359233379364,-0.194208785891533));
res += mul(Get(s1,-dx,-dy), float4x4(0.161966532468796,0.044578339904547,0.009152463637292,-0.098029084503651,-0.191978409886360,-0.022603629156947,-0.106013104319572,-0.298617601394653,-0.108488813042641,0.082581788301468,-0.019283114001155,-0.207320764660835,0.065644770860672,-0.054518517106771,0.101097002625465,-0.007691344246268));
res += mul(Get(s1,-dx,0), float4x4(-0.030927272513509,0.170194193720818,0.029626855626702,-0.137968078255653,-0.146146267652512,0.145161703228951,0.083741419017315,-0.115699455142021,0.013949031941593,0.082060858607292,-0.081439442932606,-0.234650030732155,0.019266579300165,0.094615601003170,-0.041496772319078,0.053245294839144));
res += mul(Get(s1,-dx,dy), float4x4(-0.029851896688342,-0.032442834228277,-0.014212157577276,-0.021597882732749,0.005690625868738,-0.139950782060623,0.191739559173584,-0.046222720295191,0.038891382515430,0.128734141588211,-0.150666296482086,0.073382049798965,0.044722840189934,0.232727810740471,0.104624770581722,-0.130581140518188));
res += mul(Get(s1,0,-dy), float4x4(0.110020779073238,0.133052840828896,-0.109858438372612,0.152784973382950,0.018250539898872,0.156734704971313,0.021699538454413,-0.167649850249290,-0.025893142446876,-0.012688233517110,0.262894213199615,0.019935375079513,0.244571030139923,-0.125672012567520,0.068903118371964,0.129278108477592));
res += mul(Get(s1,0,0), float4x4(0.203577205538750,-0.051640503108501,-0.028906758874655,0.073404610157013,0.091086588799953,0.034204855561256,0.032178282737732,0.078538581728935,0.023925414308906,0.101884864270687,-0.134097382426262,0.023960506543517,-0.078193388879299,-0.223373040556908,-0.067479200661182,-0.070922031998634));
res += mul(Get(s1,0,dy), float4x4(-0.137541443109512,-0.072114989161491,0.015776615589857,-0.066141702234745,0.060204215347767,0.116685576736927,0.100932434201241,-0.080483898520470,0.170811146497726,0.108147963881493,0.102982476353645,-0.115479424595833,0.173792749643326,0.061570346355438,0.029681978747249,-0.001989007461816));
res += mul(Get(s1,dx,-dy), float4x4(0.197991818189621,-0.225658044219017,-0.187625616788864,0.117250435054302,-0.109117135405540,0.090413056313992,-0.062859915196896,-0.082389943301678,-0.007774003781378,0.023588478565216,0.060050852596760,0.133260101079941,-0.072930529713631,-0.047669757157564,0.192995190620422,0.064002551138401));
res += mul(Get(s1,dx,0), float4x4(0.014245972968638,-0.052226919680834,0.147313877940178,0.040464472025633,-0.137877985835075,-0.127764388918877,-0.020494464784861,0.072294697165489,0.265690147876740,0.075610011816025,-0.136443063616753,-0.019461726769805,-0.061992824077606,0.163878142833710,0.112862512469292,0.001237512915395));
res += mul(Get(s1,dx,dy), float4x4(-0.087690941989422,0.090325474739075,0.205152645707130,0.145181670784950,-0.288982331752777,-0.259184479713440,0.111750774085522,-0.143752530217171,-0.092064931988716,0.117417894303799,-0.043114282190800,-0.103036165237427,-0.204148560762405,-0.052182298153639,0.069571487605572,0.086587831377983));
res += mul(Get(s2,-dx,-dy), float4x4(0.185583651065826,0.007664061151445,-0.161062195897102,0.057172320783138,-0.036389503628016,-0.170295178890228,0.043240841478109,0.216708362102509,-0.198421224951744,-0.142092078924179,-0.187918007373810,0.200878471136093,0.120386779308319,-0.098234124481678,-0.075327768921852,-0.191651567816734));
res += mul(Get(s2,-dx,0), float4x4(0.027011554688215,-0.074128888547421,0.008473740890622,0.064269237220287,0.089981339871883,-0.038798015564680,0.126727551221848,-0.017251420766115,0.088622488081455,-0.060493066906929,-0.100718207657337,0.267122149467468,0.107533380389214,-0.011723040603101,-0.022855570539832,0.032042596489191));
res += mul(Get(s2,-dx,dy), float4x4(0.097964771091938,0.240528002381325,0.076725482940674,-0.101363308727741,-0.012070009484887,-0.005011698696762,0.094118230044842,-0.002904697321355,0.003770201234147,-0.037748787552118,-0.014017268083990,-0.024011760950089,-0.082009822130203,0.059266239404678,0.104016244411469,-0.204699531197548));
res += mul(Get(s2,0,-dy), float4x4(-0.046359714120626,-0.018420193344355,0.055074889212847,0.020361904054880,-0.049497339874506,0.026702634990215,-0.061490409076214,-0.002478722482920,0.093256466090679,0.092689231038094,-0.081568032503128,0.024024913087487,0.035337232053280,0.068445965647697,-0.072421193122864,0.292412102222443));
res += mul(Get(s2,0,0), float4x4(0.020020609721541,0.085353478789330,0.077675819396973,-0.063334077596664,0.101023353636265,-0.074186503887177,-0.084259070456028,0.133872300386429,0.087473526597023,-0.113095082342625,-0.034127488732338,-0.074592746794224,0.102351740002632,0.120258085429668,-0.206442520022392,0.006037865299731));
res += mul(Get(s2,0,dy), float4x4(-0.150438278913498,0.047532722353935,0.077714599668980,-0.051751688122749,0.118847653269768,0.025599338114262,-0.027189550921321,0.001860429765657,-0.083864212036133,-0.095660202205181,-0.063854433596134,-0.015731224790215,0.100662432610989,0.134622707962990,0.154218271374702,-0.066924989223480));
res += mul(Get(s2,dx,-dy), float4x4(0.186772182583809,-0.007092599757016,-0.074050351977348,0.077931091189384,-0.153506666421890,0.184570223093033,-0.049664560705423,0.066231235861778,0.012166351079941,0.192713677883148,-0.021887458860874,-0.026998016983271,0.243832513689995,-0.163480058312416,0.220467641949654,-0.008433991111815));
res += mul(Get(s2,dx,0), float4x4(0.012513305991888,0.034793742001057,-0.093789003789425,-0.133541181683540,-0.065385922789574,-0.032067328691483,0.124378331005573,-0.062410145998001,0.133742168545723,0.119429327547550,-0.014226890169084,-0.128448113799095,0.052949260920286,-0.117688432335854,-0.013462340459228,0.102808110415936));
res += mul(Get(s2,dx,dy), float4x4(-0.067052975296974,0.014748090878129,0.109828829765320,0.042192667722702,-0.027137808501720,-0.074972495436668,0.265317976474762,-0.137774035334587,-0.005712344311178,-0.050249550491571,-0.037594627588987,0.026698911562562,-0.002406326122582,0.056744463741779,0.191014677286148,0.063779339194298));
res += mul(Get(s3,-dx,-dy), float4x4(0.080786749720573,0.082516692578793,-0.027727469801903,-0.053967028856277,-0.032530061900616,0.020739978179336,0.021270526573062,-0.123426020145416,-0.154140785336494,0.082723237574100,-0.060529503971338,0.010131102986634,-0.010470749810338,-0.130035594105721,-0.059327054768801,-0.080316349864006));
res += mul(Get(s3,-dx,0), float4x4(-0.065498799085617,0.140653118491173,-0.134950056672096,0.028855813667178,0.046749435365200,-0.015007354319096,0.112520776689053,-0.084633037447929,-0.228240489959717,0.183663010597229,0.078823670744896,0.119890481233597,-0.048286098986864,0.149646237492561,-0.167184323072433,-0.152012765407562));
res += mul(Get(s3,-dx,dy), float4x4(0.085518673062325,0.049478854984045,-0.077654652297497,0.024880496785045,0.180251032114029,0.043784063309431,-0.006942419800907,-0.142392992973328,-0.045646864920855,0.159944295883179,0.010767335072160,0.160005986690521,-0.024526946246624,0.182015120983124,-0.155392289161682,-0.076548404991627));
res += mul(Get(s3,0,-dy), float4x4(-0.104015752673149,-0.068671174347401,0.089038759469986,0.186358615756035,0.048994429409504,-0.031160518527031,0.075976632535458,0.163062408566475,0.182785928249359,0.057721663266420,0.099843405187130,-0.150679871439934,-0.080866582691669,-0.198995351791382,-0.083051733672619,0.192836016416550));
res += mul(Get(s3,0,0), float4x4(0.007227164227515,-0.118100248277187,-0.062489390373230,0.080079421401024,0.082550927996635,0.142261639237404,0.126225560903549,0.044068932533264,-0.231614887714386,0.008124794811010,-0.033455587923527,0.059475582093000,-0.022742897272110,-0.050094485282898,-0.096192806959152,-0.002250817371532));
res += mul(Get(s3,0,dy), float4x4(0.106490306556225,0.049617886543274,0.256397992372513,0.068257212638855,-0.213809370994568,0.008455733768642,0.140207156538963,-0.071927405893803,-0.114386633038521,0.037769634276628,0.152396246790886,-0.182964101433754,-0.039891414344311,0.108503572642803,0.034165211021900,0.027051443234086));
res += mul(Get(s3,dx,-dy), float4x4(0.115528926253319,-0.093889564275742,0.049412362277508,0.094593778252602,-0.000247688352829,-0.110927246510983,0.121940270066261,-0.043380722403526,0.016118716448545,-0.034003965556622,0.225506663322449,0.062350358814001,0.016050353646278,-0.056715372949839,-0.136644050478935,0.127862095832825));
res += mul(Get(s3,dx,0), float4x4(-0.033359702676535,0.153346553444862,0.037514120340347,0.068988330662251,-0.079890057444572,-0.034395635128021,-0.017093721777201,-0.101444974541664,-0.004316258709878,-0.109390169382095,-0.135435789823532,0.082636713981628,0.028972646221519,0.029505090788007,-0.022760752588511,-0.040512744337320));
res += mul(Get(s3,dx,dy), float4x4(0.136126920580864,0.262742370367050,-0.177479788661003,-0.003326727310196,0.204769074916840,-0.108605250716209,0.132905006408691,-0.098656184971333,-0.047410976141691,-0.018992001190782,0.161771208047867,0.218357682228088,-0.047356441617012,0.035757675766945,-0.125354230403900,-0.019266560673714));
return max(float4(0,0,0,0), res);
}
