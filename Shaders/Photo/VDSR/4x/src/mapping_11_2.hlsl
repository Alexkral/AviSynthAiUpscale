sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.106333196163177,0.106732673943043,-0.102187097072601,-0.048284851014614,0.013432348147035,0.102282427251339,-0.041378714144230,0.066408082842827,-0.046036198735237,-0.074985370039940,-0.166253760457039,0.081258572638035,-0.067383304238319,-0.028683019801974,0.048444211483002,0.056818537414074));
res += mul(Get(s0,-dx,0), float4x4(-0.040409896522760,0.121926032006741,0.019691219553351,-0.108370818197727,-0.031934779137373,-0.002713998081163,-0.002275529084727,0.043231904506683,-0.088482029736042,0.010277207009494,-0.140009313821793,0.129267275333405,-0.045303326100111,-0.045252565294504,0.035883676260710,0.077392823994160));
res += mul(Get(s0,-dx,dy), float4x4(-0.128849312663078,-0.024669386446476,0.154207557439804,-0.074424661695957,-0.075457021594048,-0.002069746842608,0.024652047082782,-0.061095867305994,-0.160952627658844,0.120048098266125,-0.101668603718281,0.041244186460972,0.103406421840191,-0.033322755247355,-0.025703264400363,0.047331895679235));
res += mul(Get(s0,0,-dy), float4x4(0.098984912037849,-0.070253364741802,-0.055402521044016,-0.029958153143525,0.100152082741261,0.098066322505474,-0.097301617264748,-0.012426342815161,0.134967952966690,0.003251528600231,-0.089990690350533,-0.109209015965462,-0.083102352917194,0.010295305401087,-0.098239295184612,0.128201350569725));
res += mul(Get(s0,0,0), float4x4(-0.029640851542354,0.093318849802017,-0.031662266701460,0.083114296197891,0.132762774825096,0.049536075443029,-0.077953986823559,0.031241670250893,-0.014823234640062,0.059195686131716,-0.004408732056618,0.031625431030989,-0.136153906583786,0.038147747516632,0.029943231493235,-0.136171683669090));
res += mul(Get(s0,0,dy), float4x4(-0.103893458843231,0.055950496345758,0.000120679374959,0.050733320415020,-0.032318312674761,-0.087894774973392,-0.002150543965399,-0.050369206815958,-0.170142084360123,-0.077083989977837,-0.021591693162918,0.061756484210491,0.104548551142216,-0.086247503757477,-0.033491637557745,0.049596652388573));
res += mul(Get(s0,dx,-dy), float4x4(0.046239905059338,-0.183276191353798,0.081554464995861,-0.102659218013287,0.028796199709177,0.159014850854874,0.061376597732306,0.017075182870030,0.211571782827377,-0.015840506181121,0.015740448608994,-0.022130586206913,-0.048048298805952,-0.124087840318680,-0.031824309378862,0.149536147713661));
res += mul(Get(s0,dx,0), float4x4(0.026835152879357,0.067586801946163,0.036527086049318,0.125100702047348,-0.067610949277878,0.003354045096785,0.033772505819798,-0.023430906236172,0.038232371211052,-0.060708735138178,-0.141674429178238,0.052443727850914,-0.121173977851868,-0.091208629310131,0.012296954169869,0.025459380820394));
res += mul(Get(s0,dx,dy), float4x4(-0.041365802288055,-0.056798256933689,0.075201965868473,0.112217545509338,-0.015055581927299,-0.009602550417185,0.086813740432262,-0.096817806363106,0.045544739812613,0.137895822525024,0.041484847664833,0.051515124738216,0.067478075623512,-0.211219772696495,0.043343476951122,0.135241881012917));
res += mul(Get(s1,-dx,-dy), float4x4(-0.100271642208099,0.009009233675897,-0.023380914703012,-0.074893549084663,0.043544128537178,-0.050437562167645,0.007072638720274,0.240327820181847,0.042898863554001,-0.057373829185963,0.078405648469925,0.101784273982048,0.011394079774618,-0.084980577230453,0.152490094304085,-0.007986089214683));
res += mul(Get(s1,-dx,0), float4x4(-0.099424444139004,-0.010591753758490,-0.110758274793625,0.072035312652588,0.078209057450294,-0.079568184912205,-0.042405147105455,0.207584157586098,0.026960927993059,-0.069792918860912,0.001179693615995,0.082112006843090,0.075496673583984,-0.079606249928474,0.014540771953762,-0.095024064183235));
res += mul(Get(s1,-dx,dy), float4x4(-0.004494104534388,-0.151908442378044,-0.110646247863770,-0.096370592713356,-0.082249537110329,-0.079218044877052,-0.049035184085369,0.097367286682129,0.011255991645157,-0.117536477744579,0.079663775861263,0.026743689551950,-0.030503472313285,-0.164172068238258,-0.001053314190358,-0.162021622061729));
res += mul(Get(s1,0,-dy), float4x4(0.086311541497707,-0.052416164427996,-0.050180878490210,-0.074445046484470,-0.041001815348864,0.011412352323532,0.006430854555219,-0.011576785705984,0.119049400091171,0.067261785268784,-0.135279998183250,-0.025617970153689,-0.020068880170584,0.021004751324654,-0.057450082153082,-0.046448007225990));
res += mul(Get(s1,0,0), float4x4(-0.024937925860286,-0.025320021435618,-0.020561432465911,0.023879710584879,0.180671915411949,0.095470443367958,-0.026775689795613,-0.096631877124310,0.024018617346883,0.026608062908053,0.193080663681030,0.069400228559971,0.003629269544035,0.028018403798342,0.057682599872351,-0.027140377089381));
res += mul(Get(s1,0,dy), float4x4(0.041163809597492,-0.082185536623001,-0.103785596787930,0.021555580198765,0.011491294950247,-0.137039139866829,-0.050552245229483,0.053531922399998,0.026068447157741,-0.042191229760647,-0.048136159777641,0.030983204022050,0.053303115069866,-0.012603350915015,-0.000573261524551,-0.072170011699200));
res += mul(Get(s1,dx,-dy), float4x4(0.012499095872045,-0.064889706671238,0.020145775750279,-0.018633279949427,0.007334772497416,-0.207443952560425,0.001383913564496,-0.172286465764046,0.039722520858049,0.230348289012909,-0.081205837428570,-0.122671626508236,0.022901155054569,0.157214611768723,-0.062748074531555,-0.027632990851998));
res += mul(Get(s1,dx,0), float4x4(-0.026917800307274,0.002160623203963,-0.102920219302177,-0.021204082295299,-0.095935210585594,-0.094894655048847,0.136603057384491,-0.088644415140152,-0.067129030823708,-0.014801449142396,0.180957853794098,0.005175972357392,0.080756552517414,0.210644006729126,0.064219236373901,0.053609803318977));
res += mul(Get(s1,dx,dy), float4x4(0.021979320794344,-0.118197694420815,-0.156239345669746,-0.037477087229490,-0.059742983430624,-0.199449390172958,0.050048012286425,-0.047912519425154,0.151056990027428,-0.035677146166563,-0.086571738123894,-0.074674598872662,-0.057339280843735,0.002725872211158,-0.030667277052999,0.028887521475554));
res += mul(Get(s2,-dx,-dy), float4x4(-0.012858111411333,0.048172764480114,0.067684203386307,0.048095632344484,-0.025117220357060,-0.091762930154800,0.095943056046963,0.075779832899570,-0.220606282353401,-0.017098482698202,-0.194807216525078,0.146094039082527,-0.132003307342529,-0.170503124594688,0.078770399093628,-0.139953970909119));
res += mul(Get(s2,-dx,0), float4x4(-0.109133452177048,0.069871820509434,-0.026888458058238,-0.070148006081581,0.027278549969196,-0.022675517946482,-0.066400051116943,0.129941314458847,-0.161023870110512,0.087186850607395,-0.039434768259525,-0.000836885825265,-0.087654948234558,-0.044287074357271,-0.009410662576556,0.004762556403875));
res += mul(Get(s2,-dx,dy), float4x4(-0.046961478888988,0.052679371088743,-0.010889242403209,-0.041577510535717,-0.101329907774925,-0.050046451389790,-0.120455138385296,-0.026320572942495,-0.125370219349861,0.014227752573788,-0.093630418181419,0.063178367912769,-0.110872596502304,0.030047778040171,-0.118095867335796,0.018900237977505));
res += mul(Get(s2,0,-dy), float4x4(0.109466411173344,0.048248924314976,0.053690966218710,0.116317875683308,-0.102035917341709,-0.087097540497780,0.129545405507088,0.068704955279827,-0.002721148310229,-0.052662521600723,-0.077849708497524,-0.101343676447868,0.036138977855444,-0.103894077241421,0.039702232927084,-0.054993554949760));
res += mul(Get(s2,0,0), float4x4(-0.062890008091927,0.080544158816338,-0.019430208951235,0.041808124631643,0.065950743854046,-0.021379148587584,0.030722644180059,-0.054709400981665,0.032089058309793,0.027274526655674,-0.000517553300597,-0.044228337705135,0.071522310376167,0.033065669238567,-0.010444978252053,-0.044994045048952));
res += mul(Get(s2,0,dy), float4x4(-0.112133257091045,0.145768925547600,-0.004335942678154,0.036395560950041,-0.022190472111106,-0.086881406605244,-0.050059504806995,-0.089329168200493,-0.022762976586819,0.054807066917419,-0.056837104260921,-0.008865639567375,-0.057819619774818,-0.034488759934902,-0.172077447175980,-0.050719927996397));
res += mul(Get(s2,dx,-dy), float4x4(0.045202340930700,-0.007880819961429,-0.000157801754540,0.243192583322525,0.025189582258463,-0.013990814797580,-0.009020904079080,-0.077135533094406,0.188185468316078,-0.101238675415516,-0.089839473366737,-0.097403444349766,-0.026381596922874,0.001770909293555,-0.009253497235477,0.004632365424186));
res += mul(Get(s2,dx,0), float4x4(-0.059215884655714,0.075256720185280,-0.061952952295542,0.094147033989429,0.149449825286865,-0.079599432647228,-0.014960891567171,-0.070195220410824,-0.069239124655724,0.027887953445315,0.067285075783730,-0.072910405695438,-0.023239649832249,0.009717323817313,0.095380201935768,-0.021067716181278));
res += mul(Get(s2,dx,dy), float4x4(-0.018252545967698,0.063509151339531,-0.071509525179863,0.093723811209202,0.128978788852692,-0.072004519402981,0.093632325530052,-0.065251372754574,-0.017641484737396,0.188659429550171,0.108257055282593,0.032090205699205,0.042581368237734,-0.087589398026466,0.041867252439260,-0.017843423411250));
res += mul(Get(s3,-dx,-dy), float4x4(-0.107478097081184,-0.049743656069040,0.079626895487309,-0.146369218826294,-0.044218286871910,-0.053601857274771,-0.015207068994641,0.004306583199650,0.022470362484455,-0.096204064786434,-0.033964056521654,0.000492266961373,-0.000933840696234,-0.066172368824482,0.080930158495903,-0.043419841676950));
res += mul(Get(s3,-dx,0), float4x4(-0.053010374307632,-0.020182330161333,0.005197699181736,-0.114024348556995,-0.069048784673214,0.144243106245995,0.227956697344780,0.050966478884220,-0.085543207824230,0.228417009115219,-0.037039089947939,-0.168473660945892,-0.102975897490978,-0.046322304755449,-0.028449404984713,-0.006565787829459));
res += mul(Get(s3,-dx,dy), float4x4(-0.113211698830128,0.002927363151684,0.081792682409286,0.029618473723531,-0.079406641423702,-0.095391161739826,0.203918561339378,-0.104937173426151,-0.070628032088280,-0.131160587072372,-0.068391963839531,-0.161788433790207,-0.154553025960922,-0.090905994176865,-0.170505151152611,-0.145331829786301));
res += mul(Get(s3,0,-dy), float4x4(-0.018827499821782,0.008007497526705,0.111359871923923,-0.001894831540994,0.147731274366379,0.046902306377888,0.014155355282128,-0.038135204464197,0.092311859130859,0.048770479857922,0.008677252568305,-0.014427307993174,-0.072107620537281,0.031921796500683,0.007804946973920,0.122720167040825));
res += mul(Get(s3,0,0), float4x4(0.112252190709114,0.010810981504619,-0.014952757395804,0.001432337565348,0.047009725123644,0.225830763578415,-0.003081624628976,0.118635028600693,-0.107007898390293,0.095662057399750,0.098639152944088,0.011453606188297,0.017846725881100,-0.044529501348734,-0.030263723805547,-0.035510089248419));
res += mul(Get(s3,0,dy), float4x4(-0.014539785683155,-0.023763520643115,-0.048272795975208,0.042736593633890,-0.056744027882814,0.057746920734644,-0.127316638827324,-0.118776209652424,-0.056938253343105,0.089509874582291,-0.121890708804131,-0.062154926359653,0.111797891557217,-0.083292879164219,-0.084535628557205,-0.041476529091597));
res += mul(Get(s3,dx,-dy), float4x4(-0.089321985840797,-0.017029162496328,0.049348287284374,0.092508994042873,-0.003576790913939,-0.081943362951279,0.114387832581997,0.055176667869091,0.069455422461033,-0.017373254522681,0.177375286817551,0.039011374115944,-0.076402924954891,-0.010975807905197,0.047307327389717,0.125231593847275));
res += mul(Get(s3,dx,0), float4x4(0.075162492692471,-0.113349579274654,0.123299941420555,0.001221825135872,0.003628392471001,0.117258571088314,-0.040798544883728,0.133468911051750,0.053376246243715,-0.057407964020967,0.157783150672913,-0.031711339950562,0.025236656889319,0.156803324818611,0.099982060492039,0.107400044798851));
res += mul(Get(s3,dx,dy), float4x4(-0.029401239007711,-0.012720402330160,-0.069079250097275,-0.003989995457232,-0.062704771757126,0.037040978670120,-0.053880363702774,-0.130127131938934,-0.063105531036854,0.040516890585423,-0.086856536567211,-0.192547589540482,-0.076874412596226,0.105817981064320,-0.052852366119623,-0.043185546994209));
return max(float4(0,0,0,0), res);
}
