sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.125151470303535,0.091197103261948,0.021470205858350,0.145533263683319,-0.013268514536321,-0.031949575990438,0.066279694437981,-0.051080394536257,-0.006051298696548,-0.044279061257839,-0.045032445341349,0.078244760632515,0.152200251817703,-0.128821209073067,-0.108400084078312,-0.037440259009600));
res += mul(Get(s0,-dx,0), float4x4(-0.038123950362206,0.010137045755982,0.025606842711568,0.020872531458735,-0.036722321063280,0.058012578636408,0.136185050010681,-0.063385315239429,-0.073654592037201,-0.095087245106697,0.017901662737131,0.031435977667570,0.051140762865543,-0.043771237134933,-0.173031970858574,0.030801558867097));
res += mul(Get(s0,-dx,dy), float4x4(-0.116933487355709,0.054233033210039,0.020962709560990,-0.029818521812558,-0.091645680367947,-0.037778016179800,0.064599759876728,-0.082833945751190,-0.063464291393757,0.080895319581032,-0.060892082750797,-0.040395051240921,0.120696544647217,-0.065143689513206,-0.066088497638702,0.069546706974506));
res += mul(Get(s0,0,-dy), float4x4(0.166723921895027,0.024500025436282,-0.159229561686516,0.095059610903263,0.133990168571472,0.005454093683511,0.043979875743389,0.194569677114487,0.021478110924363,0.007895494811237,-0.156047344207764,0.054445054382086,-0.148723542690277,-0.066991977393627,-0.100348398089409,-0.093930035829544));
res += mul(Get(s0,0,0), float4x4(0.050085395574570,0.234181582927704,-0.179478600621223,-0.005857511423528,-0.059089578688145,0.149974316358566,-0.001892180880532,0.155131638050079,-0.062877520918846,-0.075381569564342,-0.084741033613682,0.064550481736660,-0.034651238471270,-0.023930253461003,-0.054941654205322,-0.041712734848261));
res += mul(Get(s0,0,dy), float4x4(-0.093671321868896,0.095008067786694,-0.134241938591003,-0.010207685641944,-0.069316133856773,-0.042668990790844,0.149718716740608,-0.061515495181084,-0.035813771188259,0.031047204509377,-0.032270085066557,-0.074986614286900,0.082734376192093,-0.055746171623468,-0.091943427920341,-0.064524985849857));
res += mul(Get(s0,dx,-dy), float4x4(-0.036711938679218,0.168708428740501,-0.144980221986771,0.104934096336365,0.033129651099443,0.111861959099770,0.128680795431137,0.108277909457684,-0.072237171232700,0.007042843848467,-0.181101843714714,-0.069700293242931,-0.032662302255630,-0.038999814540148,0.001779446145520,-0.175463363528252));
res += mul(Get(s0,dx,0), float4x4(0.053893096745014,-0.109036616981030,0.020631685853004,0.137456864118576,0.071683771908283,-0.028548959642649,-0.063463024795055,0.066989466547966,-0.099627807736397,-0.135203555226326,-0.181373476982117,0.016208160668612,0.088940836489201,0.024126041680574,0.005535753909498,0.012435560114682));
res += mul(Get(s0,dx,dy), float4x4(-0.109569407999516,-0.013292730785906,0.033236913383007,0.020318914204836,-0.034675471484661,0.158996701240540,0.053515434265137,-0.051546841859818,-0.163914784789085,-0.075421974062920,-0.091747462749481,0.025992363691330,-0.015431737527251,-0.123739205300808,-0.131614461541176,0.004500557668507));
res += mul(Get(s1,-dx,-dy), float4x4(0.078020453453064,0.037578631192446,-0.027429945766926,0.062401425093412,0.095508009195328,-0.179157435894012,0.014750974252820,0.096969760954380,-0.161041334271431,-0.177670091390610,-0.043117981404066,-0.078593544661999,0.019342446699739,-0.011633747257292,0.023692801594734,0.041642069816589));
res += mul(Get(s1,-dx,0), float4x4(-0.016517087817192,0.031346477568150,0.021036660298705,0.012778111733496,0.157611146569252,0.078600086271763,-0.042201314121485,0.010146151296794,-0.002504741307348,-0.072227798402309,0.042015288025141,-0.011321913450956,-0.093845486640930,0.033631641417742,-0.021404456347227,-0.057690113782883));
res += mul(Get(s1,-dx,dy), float4x4(0.063240364193916,0.140749171376228,0.012820619158447,-0.135977119207382,0.079931661486626,0.056429881602526,-0.055104877799749,0.027592442929745,0.266044139862061,-0.127586722373962,-0.040090549737215,-0.071225665509701,-0.127564355731010,0.011308810673654,0.022446263581514,0.010697008110583));
res += mul(Get(s1,0,-dy), float4x4(-0.075051434338093,0.032293453812599,0.083103284239769,-0.047233246266842,0.032081834971905,-0.095723733305931,-0.028922311961651,0.236406326293945,-0.115422844886780,-0.119905300438404,-0.021246191114187,-0.106844365596771,-0.024430586025119,-0.072778634727001,-0.042864341288805,0.043326225131750));
res += mul(Get(s1,0,0), float4x4(-0.036068938672543,0.064007870852947,0.058430131524801,-0.085049107670784,-0.213136196136475,-0.033573731780052,-0.086356028914452,0.075189560651779,0.123774833977222,-0.083189062774181,0.039456818252802,-0.021721664816141,-0.027030738070607,-0.063013091683388,0.077850595116615,0.198446661233902));
res += mul(Get(s1,0,dy), float4x4(0.175268009305000,0.050469920039177,0.027623847126961,-0.194679602980614,-0.018934078514576,0.061195660382509,-0.143512099981308,-0.076784625649452,0.171099349856377,-0.175579264760017,-0.098648011684418,-0.099764704704285,0.003131175646558,-0.046024139970541,0.091188654303551,0.006008758209646));
res += mul(Get(s1,dx,-dy), float4x4(-0.048925708979368,-0.070019155740738,0.059396464377642,0.093535073101521,-0.018681760877371,-0.044033885002136,-0.076828725636005,-0.078174270689487,-0.241218641400337,-0.065603516995907,-0.083646304905415,-0.180331528186798,-0.029854821041226,-0.024155821651220,0.109071485698223,-0.035348661243916));
res += mul(Get(s1,dx,0), float4x4(-0.119363278150558,-0.014606894925237,0.032449018210173,-0.004751609172672,-0.093598335981369,-0.115532077848911,-0.033556822687387,-0.091101512312889,-0.122660115361214,-0.030384927988052,-0.081680148839951,-0.090083815157413,-0.036618534475565,-0.015581240877509,-0.018028888851404,-0.063964858651161));
res += mul(Get(s1,dx,dy), float4x4(0.016415940597653,-0.078885637223721,0.018208313733339,-0.014901431277394,-0.000449703831691,-0.025254650041461,0.015515482984483,-0.055632784962654,0.199607789516449,-0.139029636979103,-0.130311891436577,-0.071296885609627,-0.126076772809029,-0.007295477204025,-0.058446217328310,0.025179259479046));
res += mul(Get(s2,-dx,-dy), float4x4(-0.061067860573530,-0.025856111198664,0.067717336118221,-0.128262102603912,-0.219797939062119,-0.004974993411452,0.236942142248154,-0.033382974565029,-0.079194784164429,0.115869112312794,0.051449071615934,-0.069806076586246,-0.088826514780521,-0.007959458976984,0.007939292117953,0.145265251398087));
res += mul(Get(s2,-dx,0), float4x4(-0.099916599690914,-0.107372492551804,-0.008565404452384,-0.052032746374607,0.066264852881432,-0.013234023936093,0.075593367218971,0.101707533001900,0.135614886879921,-0.022362956777215,-0.091109916567802,-0.014384699985385,-0.064124651253223,0.007821441628039,0.020452734082937,-0.071247935295105));
res += mul(Get(s2,-dx,dy), float4x4(-0.104534104466438,0.156110763549805,0.000277888204437,-0.169269517064095,0.007313777226955,0.156926065683365,-0.107359401881695,-0.006887481547892,0.008353022858500,0.096945188939571,0.039245944470167,-0.110517226159573,0.060615099966526,0.110144346952438,-0.058197259902954,-0.020521838217974));
res += mul(Get(s2,0,-dy), float4x4(-0.037531659007072,0.109226562082767,-0.181672722101212,0.051411055028439,-0.152781635522842,-0.022980816662312,0.128258332610130,-0.126902937889099,-0.004774320870638,0.045576613396406,0.219751358032227,-0.086056031286716,-0.045697234570980,-0.003814642084762,0.024592993780971,0.058446247130632));
res += mul(Get(s2,0,0), float4x4(0.199159622192383,-0.081731155514717,0.014447235502303,0.115292072296143,0.220813289284706,0.015037499368191,-0.023737331852317,-0.098424270749092,0.011907086707652,0.099740058183670,0.023746253922582,-0.015007231384516,0.023146217688918,-0.052238121628761,-0.018306244164705,-0.105079904198647));
res += mul(Get(s2,0,dy), float4x4(0.172054171562195,0.197783455252647,-0.176248490810394,-0.017002459615469,-0.056466009467840,0.137420982122421,-0.105033449828625,0.004945790395141,-0.012028519995511,-0.115505069494247,0.109728552401066,-0.133930996060371,-0.021289844065905,0.104218944907188,-0.066702216863632,-0.035365272313356));
res += mul(Get(s2,dx,-dy), float4x4(-0.055483989417553,0.032598327845335,0.073051393032074,-0.012787321582437,-0.103717193007469,0.089110419154167,0.058279067277908,-0.099877879023552,-0.014296330511570,-0.073484227061272,0.132348865270615,-0.047024659812450,0.123526357114315,-0.045152865350246,0.023207919672132,0.088914580643177));
res += mul(Get(s2,dx,0), float4x4(-0.059326034039259,0.008775939233601,0.157785117626190,0.017119882628322,-0.004429168533534,0.000899443810340,-0.076898932456970,-0.036518558859825,0.031229879707098,-0.062511958181858,0.099462740123272,0.002286864444613,0.055939316749573,-0.062243964523077,0.103218026459217,0.072469033300877));
res += mul(Get(s2,dx,dy), float4x4(0.062935508787632,0.073518946766853,0.053074728697538,0.133869141340256,0.003123953472823,0.017919700592756,-0.080815501511097,-0.005454156082124,0.229198664426804,-0.011643801815808,0.083839945495129,-0.140307798981667,-0.096587412059307,-0.032409373670816,0.135511055588722,0.031823329627514));
res += mul(Get(s3,-dx,-dy), float4x4(-0.034242682158947,0.263392150402069,0.206300690770149,-0.005941663403064,-0.111393988132477,-0.015607729554176,0.171466752886772,-0.126292362809181,-0.073424100875854,0.086083270609379,-0.077725857496262,0.132890224456787,0.132146134972572,0.015966752544045,0.050942614674568,0.051406603306532));
res += mul(Get(s3,-dx,0), float4x4(-0.070658586919308,0.034319501370192,-0.112155623733997,-0.131088986992836,-0.002882179105654,0.097104929387569,0.069482080638409,-0.022122800350189,-0.019942799583077,0.076444841921329,-0.060703579336405,-0.014345558360219,0.022870793938637,-0.039645269513130,0.144532546401024,0.072955749928951));
res += mul(Get(s3,-dx,dy), float4x4(0.115488305687904,-0.198646843433380,0.032729331403971,-0.144420877099037,0.013409730978310,0.053775250911713,0.018602410331368,-0.025879122316837,-0.123165495693684,-0.033824563026428,-0.145902693271637,0.083568550646305,0.124767310917377,-0.029166096821427,0.242678195238113,-0.006351159885526));
res += mul(Get(s3,0,-dy), float4x4(-0.084918655455112,-0.168422758579254,-0.085150711238384,0.117336347699165,0.039455547928810,-0.076300024986267,0.017294682562351,-0.053871322423220,0.045489851385355,0.012187187559903,-0.082625336945057,0.113824062049389,0.085365816950798,0.191883653402328,-0.086045414209366,-0.043082363903522));
res += mul(Get(s3,0,0), float4x4(-0.032480895519257,0.087923429906368,-0.099496446549892,-0.035578165203333,0.033351790159941,0.073510244488716,0.002384314546362,0.106212995946407,-0.035801753401756,-0.026678558439016,-0.093349918723106,0.059807077050209,-0.052359201014042,0.011957951821387,-0.103427238762379,-0.033328682184219));
res += mul(Get(s3,0,dy), float4x4(0.010863183066249,-0.082124374806881,0.106443330645561,-0.018036495894194,0.093184910714626,-0.044886257499456,0.065152846276760,0.324280321598053,-0.107775017619133,-0.106240652501583,0.089097246527672,0.179422423243523,0.084988512098789,0.119129285216331,-0.160517796874046,-0.065435081720352));
res += mul(Get(s3,dx,-dy), float4x4(0.081843391060829,-0.020137265324593,-0.024975238367915,0.076859131455421,-0.088721670210361,0.060653675347567,-0.012219211086631,-0.125895559787750,-0.004004946909845,0.008613861165941,0.089407868683338,0.079109005630016,0.087883979082108,0.037595026195049,0.131580829620361,-0.004604614805430));
res += mul(Get(s3,dx,0), float4x4(-0.074106499552727,-0.052218854427338,0.010669430717826,-0.024206288158894,-0.070508472621441,0.093911789357662,-0.113412253558636,-0.088302746415138,-0.139424607157707,0.016442708671093,0.120331682264805,0.116266302764416,0.014193846844137,-0.175397202372551,0.012557767331600,-0.035153284668922));
res += mul(Get(s3,dx,dy), float4x4(0.019143309444189,0.010042481124401,0.066957712173462,-0.067811854183674,-0.088015474379063,0.055625136941671,-0.186382323503494,0.105566069483757,-0.148608267307281,-0.135337159037590,-0.061175342649221,-0.129920735955238,0.014331425540149,0.133206114172935,-0.004172994289547,-0.077326521277428));
return max(float4(0,0,0,0), res);
}
