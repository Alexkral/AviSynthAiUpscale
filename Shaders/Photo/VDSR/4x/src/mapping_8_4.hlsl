sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.026243651285768,0.275163531303406,-0.107233852148056,-0.027379658073187,0.085832796990871,0.107633493840694,-0.036268889904022,0.170871615409851,-0.061550315469503,-0.150329202413559,-0.114276163280010,0.105724208056927,0.114956840872765,-0.122454434633255,-0.062226977199316,0.073890082538128));
res += mul(Get(s0,-dx,0), float4x4(0.038381703197956,-0.014626203104854,0.056972783058882,-0.057109929621220,-0.056589815765619,0.143992438912392,0.051125995814800,0.152130797505379,-0.008912545628846,-0.015068157576025,-0.086061462759972,-0.004171357955784,0.020478887483478,-0.078050419688225,0.074611157178879,0.008599230088294));
res += mul(Get(s0,-dx,dy), float4x4(-0.073333278298378,0.062613725662231,0.159690812230110,0.082419157028198,0.001014902140014,-0.065523669123650,-0.001509311492555,0.004113144241273,0.054572131484747,-0.101874686777592,-0.025779781863093,-0.133386328816414,-0.012889725156128,0.007301997859031,0.089677855372429,0.194914668798447));
res += mul(Get(s0,0,-dy), float4x4(0.066951304674149,-0.035914331674576,-0.126090317964554,0.015790039673448,-0.176263436675072,0.048034612089396,-0.015688462182879,0.052909456193447,-0.180186912417412,-0.090037502348423,-0.009955225512385,-0.158774241805077,-0.037565749138594,-0.034605432301760,-0.088007420301437,-0.010639769956470));
res += mul(Get(s0,0,0), float4x4(-0.045041933655739,0.004410393536091,0.164369061589241,0.162291884422302,-0.077725782990456,0.012066366150975,0.071751467883587,0.001665814430453,-0.011765257455409,-0.153837278485298,0.007153881713748,-0.180547669529915,-0.176371142268181,-0.025078913196921,-0.071772158145905,-0.086917757987976));
res += mul(Get(s0,0,dy), float4x4(-0.005774775519967,-0.104222327470779,0.173990190029144,-0.076244130730629,0.056010510772467,-0.040260549634695,-0.021069241687655,-0.127956360578537,-0.015226188115776,0.065034344792366,0.027565959841013,0.177334666252136,-0.005735221784562,0.147778451442719,0.028172146528959,-0.007415753789246));
res += mul(Get(s0,dx,-dy), float4x4(-0.013803902082145,-0.100295670330524,-0.287272423505783,-0.057386800646782,0.112493462860584,-0.106958687305450,-0.159565031528473,0.148720607161522,-0.023325016722083,-0.114461153745651,-0.124116733670235,0.062340404838324,0.061907760798931,0.207715287804604,0.040121611207724,0.052666753530502));
res += mul(Get(s0,dx,0), float4x4(-0.042383268475533,-0.069623924791813,0.158840104937553,-0.293467223644257,0.048577155917883,-0.000621613173280,-0.083710588514805,-0.092355623841286,-0.293595314025879,-0.127465441823006,-0.196311265230179,0.070700719952583,-0.114624910056591,0.001329491962679,0.095546185970306,0.179742425680161));
res += mul(Get(s0,dx,dy), float4x4(0.130596712231636,0.018106011673808,0.045377403497696,0.142568901181221,0.212681829929352,-0.050193488597870,-0.070070601999760,0.035620935261250,-0.001445563742891,-0.077459670603275,0.006718918681145,0.137840613722801,0.074379019439220,-0.072403214871883,0.053948685526848,0.019677074626088));
res += mul(Get(s1,-dx,-dy), float4x4(-0.034985817968845,0.166265591979027,0.152622669935226,-0.046599596738815,0.162346079945564,0.005362935364246,0.088377721607685,0.104771286249161,0.031932685524225,0.036315575242043,0.020565647631884,0.021559284999967,-0.125566571950912,0.191503927111626,0.161958426237106,-0.069409444928169));
res += mul(Get(s1,-dx,0), float4x4(0.023005722090602,0.094358026981354,0.007427672855556,0.249522358179092,-0.119606532156467,-0.132465094327927,-0.026843657717109,0.119567312300205,0.071447163820267,0.025736460462213,0.072310864925385,-0.185706943273544,-0.020837636664510,-0.082343302667141,0.038441225886345,-0.160879850387573));
res += mul(Get(s1,-dx,dy), float4x4(0.103889673948288,0.147939026355743,-0.077365592122078,0.005171304102987,0.003232229035348,-0.118668198585510,0.019934989511967,0.076609879732132,-0.202345222234726,-0.068753823637962,-0.254497647285461,0.219760715961456,-0.111979208886623,0.214162170886993,-0.062525279819965,-0.122035183012486));
res += mul(Get(s1,0,-dy), float4x4(0.005642685107887,0.041414700448513,-0.102270908653736,0.114162318408489,0.080848187208176,0.093017853796482,-0.141865447163582,0.035162135958672,-0.025179201737046,0.219992294907570,0.050360925495625,-0.091233968734741,0.086100108921528,0.035316850990057,0.062600649893284,0.228383406996727));
res += mul(Get(s1,0,0), float4x4(0.112415112555027,0.051592994481325,-0.203774765133858,-0.007099470123649,-0.088467881083488,0.019472986459732,0.090478986501694,0.012565965764225,-0.075812973082066,0.171714916825294,-0.079241447150707,0.149465829133987,0.094772458076477,-0.254508137702942,-0.044603623449802,-0.050511825829744));
res += mul(Get(s1,0,dy), float4x4(-0.073138616979122,0.115954488515854,-0.021287580952048,0.074774399399757,0.048355042934418,-0.070762686431408,0.075478725135326,0.076594881713390,0.181406974792480,-0.115128651261330,-0.334097772836685,-0.008652821183205,-0.083057306706905,0.052977215498686,-0.161890313029289,-0.051575221121311));
res += mul(Get(s1,dx,-dy), float4x4(0.104063972830772,0.141083255410194,-0.004052716307342,-0.039234206080437,-0.081340134143829,0.079345114529133,-0.104896903038025,-0.013423616997898,0.034817475825548,0.123412340879440,-0.098917067050934,-0.070428475737572,-0.084646008908749,0.390063345432281,0.092052452266216,-0.130368217825890));
res += mul(Get(s1,dx,0), float4x4(0.129696726799011,-0.078522197902203,0.109995000064373,-0.177485436201096,0.060618367046118,0.032113928347826,0.049426384270191,-0.203960552811623,0.079628109931946,0.076421834528446,0.011955942958593,-0.046296734362841,0.037660229951143,0.126184895634651,-0.123536832630634,0.053222049027681));
res += mul(Get(s1,dx,dy), float4x4(-0.033142022788525,0.314604312181473,0.055058114230633,-0.049516901373863,-0.013783830218017,-0.132317304611206,-0.110414750874043,-0.150025412440300,-0.009585787542164,-0.193642720580101,-0.157747849822044,0.214595288038254,0.016999006271362,0.100275069475174,-0.026831978932023,-0.064664274454117));
res += mul(Get(s2,-dx,-dy), float4x4(0.018074819818139,0.019772067666054,-0.073721207678318,-0.010825531557202,0.123848363757133,-0.175952285528183,-0.129062667489052,-0.001784531399608,0.037955839186907,-0.100441448390484,-0.084304027259350,0.149050474166870,-0.104699589312077,0.054218098521233,0.115840673446655,0.097676485776901));
res += mul(Get(s2,-dx,0), float4x4(-0.130008980631828,0.167925804853439,-0.051748987287283,-0.045513089746237,0.100439682602882,0.049647193402052,-0.199905365705490,-0.083698250353336,-0.046048790216446,-0.105347245931625,0.214394867420197,0.169076949357986,0.000170387618709,0.114649802446365,-0.073756545782089,0.000051652310503));
res += mul(Get(s2,-dx,dy), float4x4(0.061375357210636,0.179914042353630,-0.017762554809451,0.068241648375988,0.162238061428070,-0.011573717929423,-0.010386185720563,-0.079907394945621,-0.117622964084148,0.204036623239517,0.028675116598606,0.142188370227814,0.007230286486447,-0.054995451122522,-0.047480154782534,-0.059990920126438));
res += mul(Get(s2,0,-dy), float4x4(-0.072403378784657,0.020363288000226,0.038679957389832,0.093486048281193,-0.057817120105028,-0.115947835147381,-0.160198166966438,0.073849044740200,-0.167310178279877,-0.122047342360020,0.031785268336535,-0.037585522979498,0.270808517932892,0.295548379421234,-0.057243634015322,-0.053923990577459));
res += mul(Get(s2,0,0), float4x4(0.117496006190777,-0.017964201048017,0.220660910010338,-0.115271329879761,0.182812437415123,0.133486852049828,0.040627866983414,-0.041600309312344,0.109525524079800,-0.078434973955154,-0.205532297492027,-0.039198361337185,-0.040455345064402,0.176894202828407,0.036941204220057,-0.041793826967478));
res += mul(Get(s2,0,dy), float4x4(-0.033637922257185,0.057258456945419,-0.106415830552578,0.051437385380268,0.083882339298725,-0.086265273392200,-0.022571925073862,-0.026750044897199,-0.101817846298218,-0.190909802913666,-0.050764724612236,0.101017221808434,0.013668821193278,-0.139820516109467,0.080548748373985,-0.082877099514008));
res += mul(Get(s2,dx,-dy), float4x4(-0.095594547688961,-0.031921926885843,0.025303598493338,0.003669993951917,0.094459652900696,0.168289333581924,-0.003906505648047,-0.037943303585052,-0.022711073979735,-0.011154852807522,0.009745737537742,-0.067768953740597,0.031371772289276,-0.100786440074444,0.047376986593008,0.084652215242386));
res += mul(Get(s2,dx,0), float4x4(0.094515144824982,-0.309747666120529,0.251918226480484,0.169256716966629,0.324819684028625,-0.101339772343636,-0.091676063835621,-0.044078860431910,0.078436769545078,0.109826289117336,-0.112505428493023,-0.177392423152924,-0.071575604379177,-0.187373429536819,-0.275528401136398,-0.144090056419373));
res += mul(Get(s2,dx,dy), float4x4(-0.261849015951157,0.095105573534966,-0.128479778766632,-0.125437349081039,-0.011302820406854,-0.092022255063057,-0.035315532237291,-0.106528975069523,-0.014854957349598,-0.042248371988535,0.152463629841805,-0.027792317792773,0.176009222865105,-0.083955489099026,0.022278515622020,0.049708493053913));
res += mul(Get(s3,-dx,-dy), float4x4(-0.039434354752302,0.060491781681776,0.038323860615492,0.018755203112960,-0.141696512699127,-0.140790104866028,-0.234761804342270,-0.121584661304951,0.018839474767447,0.137094765901566,-0.145189002156258,0.144142314791679,-0.017248841002584,0.014134070836008,0.141714304685593,-0.098102830350399));
res += mul(Get(s3,-dx,0), float4x4(-0.038796726614237,-0.007697725202888,0.131529361009598,0.033857122063637,0.095018565654755,0.073697842657566,0.014534874819219,-0.161601662635803,-0.033764887601137,-0.132373332977295,-0.131411641836166,-0.036649677902460,-0.112150952219963,0.113964781165123,-0.087749227881432,0.049209143966436));
res += mul(Get(s3,-dx,dy), float4x4(-0.010406145825982,-0.123452723026276,0.115490682423115,-0.166752770543098,-0.127592861652374,0.012239594943821,-0.089487060904503,-0.097272016108036,0.065913334488869,-0.019898632541299,0.015092527493834,0.060219943523407,-0.201056823134422,0.058260284364223,-0.140015423297882,0.067994207143784));
res += mul(Get(s3,0,-dy), float4x4(-0.016583003103733,-0.158748269081116,0.098207913339138,-0.185472771525383,0.061012033373117,-0.044595949351788,0.215069845318794,0.071187242865562,-0.021265270188451,0.012299207970500,-0.096943639218807,-0.041109550744295,-0.004478960298002,-0.033686224371195,0.064574159681797,0.043505594134331));
res += mul(Get(s3,0,0), float4x4(-0.144095346331596,0.103155843913555,0.118021734058857,-0.033979117870331,-0.004658540245146,0.037721235305071,-0.024308059364557,-0.041391458362341,-0.116041801869869,0.165919154882431,-0.022390997037292,0.058640550822020,0.061903424561024,0.131758883595467,-0.053460154682398,0.099301077425480));
res += mul(Get(s3,0,dy), float4x4(0.110265135765076,-0.073340661823750,0.075839288532734,0.028100688010454,-0.032979231327772,-0.068924307823181,0.108533300459385,-0.072251051664352,0.021899165585637,0.133921593427658,-0.141812324523926,-0.069548338651657,0.142679840326309,0.219602555036545,-0.021958906203508,0.094352528452873));
res += mul(Get(s3,dx,-dy), float4x4(0.061878960579634,0.162351399660110,-0.071134768426418,0.087269678711891,0.023204540833831,-0.157337009906769,0.076775439083576,-0.046561073511839,0.011874208226800,0.069897681474686,-0.156086131930351,0.105337776243687,0.039948642253876,-0.141502678394318,0.023621581494808,0.087121106684208));
res += mul(Get(s3,dx,0), float4x4(0.102510765194893,0.009852038696408,-0.013923614285886,0.172195598483086,-0.036224976181984,-0.050061795860529,0.151469290256500,0.142102688550949,0.073981188237667,0.046327240765095,-0.069330900907516,-0.027723953127861,0.053595561534166,-0.111684352159500,-0.134729310870171,0.010146169923246));
res += mul(Get(s3,dx,dy), float4x4(0.135429799556732,0.284412860870361,-0.014770360663533,0.031336542218924,-0.069215103983879,-0.091040015220642,-0.056549165397882,-0.093302570283413,-0.109346285462379,0.223471030592918,-0.002430585445836,0.187473788857460,0.100133940577507,-0.099367901682854,0.046115156263113,-0.000633862160612));
return max(float4(0,0,0,0), res);
}
