sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.007989708334208,0.013174436986446,-0.036920715123415,0.013734433799982,0.026818253099918,-0.128572985529900,0.039605684578419,0.032131910324097,0.030609387904406,0.037498861551285,-0.157599166035652,0.015848264098167,0.056518506258726,0.111178368330002,-0.170754969120026,0.162495106458664));
res += mul(Get(s0,-dx,0), float4x4(0.252069950103760,0.047033958137035,-0.054517392069101,0.128311067819595,0.037280675023794,-0.178805649280548,-0.201564103364944,-0.089919328689575,-0.109592802822590,0.139725193381310,-0.031269036233425,-0.052697435021400,-0.144201710820198,-0.019093966111541,0.083886519074440,0.150736138224602));
res += mul(Get(s0,-dx,dy), float4x4(-0.106877289712429,-0.114645391702652,0.200507819652557,0.094209432601929,0.171961575746536,0.240673720836639,0.150607541203499,-0.004402961581945,0.137533724308014,-0.069206848740578,-0.097143627703190,0.004878809675574,0.140659883618355,0.180227205157280,0.184331625699997,0.007982869632542));
res += mul(Get(s0,0,-dy), float4x4(-0.048780582845211,0.089812986552715,-0.093718029558659,0.059064686298370,-0.060660317540169,-0.157579094171524,-0.067700818181038,-0.004299168940634,0.101352103054523,-0.017060663551092,0.037782922387123,-0.077485434710979,0.037263389676809,-0.025724615901709,-0.046380665153265,-0.124901048839092));
res += mul(Get(s0,0,0), float4x4(0.070793107151985,-0.060860164463520,-0.005862016696483,0.058481648564339,0.087526075541973,0.043322104960680,0.020379357039928,-0.057078819721937,0.038783125579357,-0.092665269970894,0.122122034430504,-0.030642945319414,-0.022822102531791,-0.073880381882191,-0.032296624034643,0.092236578464508));
res += mul(Get(s0,0,dy), float4x4(-0.209654882550240,-0.129170060157776,0.112028725445271,0.028264682739973,-0.088075011968613,-0.236615613102913,0.165569946169853,0.048492174595594,-0.170969173312187,-0.038697876036167,0.296361982822418,-0.043019127100706,0.015834633260965,-0.019515225663781,0.015221306122839,0.106127046048641));
res += mul(Get(s0,dx,-dy), float4x4(-0.140645772218704,0.084114350378513,0.230179548263550,0.013518097810447,0.048431422561407,-0.013967267237604,0.055405862629414,0.009197959676385,-0.036668971180916,0.081526041030884,-0.024307787418365,0.031730983406305,-0.205924198031425,-0.148009553551674,-0.102448031306267,0.172990798950195));
res += mul(Get(s0,dx,0), float4x4(0.057240266352892,0.101384378969669,-0.106179624795914,0.044428702443838,-0.124236978590488,0.048291262239218,-0.067657150328159,0.066849373281002,-0.071323938667774,0.281776994466782,0.038298033177853,-0.177329152822495,0.103213921189308,0.007308126427233,-0.132945895195007,-0.114416055381298));
res += mul(Get(s0,dx,dy), float4x4(0.053368475288153,-0.002029414521530,-0.098856769502163,-0.048154287040234,-0.014604501426220,-0.101694032549858,0.054701901972294,0.016047792509198,0.142104953527451,0.002112614922225,0.032496616244316,-0.005136516410857,-0.099372819066048,0.056715168058872,-0.098974853754044,0.102301344275475));
res += mul(Get(s1,-dx,-dy), float4x4(-0.218152523040771,-0.018421562388539,-0.122268259525299,-0.022362722083926,0.205743581056595,0.062127374112606,0.106736563146114,-0.016560647636652,-0.055226046591997,-0.002700060373172,0.135589659214020,-0.124892175197601,0.184479430317879,-0.154951691627502,0.011732137762010,-0.024734318256378));
res += mul(Get(s1,-dx,0), float4x4(-0.128724351525307,0.029813125729561,-0.071950279176235,-0.124699346721172,-0.068409822881222,-0.165032073855400,-0.067601680755615,-0.078024275600910,0.074771456420422,-0.014033421874046,-0.141044825315475,0.100116454064846,-0.031211229041219,-0.208146855235100,0.213320821523666,-0.262298703193665));
res += mul(Get(s1,-dx,dy), float4x4(-0.008014794439077,-0.003591013140976,0.156907618045807,-0.102064937353134,-0.102740354835987,0.023855028674006,0.237486690282822,0.032701600342989,0.007582930848002,0.046202886849642,0.068764060735703,0.094353631138802,0.086207211017609,-0.047366719692945,0.027723968029022,0.083797417581081));
res += mul(Get(s1,0,-dy), float4x4(0.019165512174368,0.183052122592926,-0.085034899413586,0.203592002391815,-0.034561060369015,-0.062620274722576,0.054394815117121,-0.129801318049431,-0.046035505831242,0.098945893347263,0.108078911900520,0.130970209836960,0.025552349165082,-0.003377811983228,-0.074380099773407,-0.030280461534858));
res += mul(Get(s1,0,0), float4x4(-0.191241934895515,-0.024687336757779,0.053631071001291,-0.035754941403866,-0.098937861621380,-0.031182294711471,0.143228903412819,0.020829191431403,-0.021498724818230,0.148668602108955,-0.260372340679169,-0.086726173758507,0.121068693697453,0.018647158518434,-0.092122636735439,-0.077102668583393));
res += mul(Get(s1,0,dy), float4x4(0.196641534566879,-0.106784798204899,0.077325776219368,-0.091524161398411,-0.109303012490273,0.052879206836224,0.130205258727074,0.009393771179020,-0.006217036396265,-0.067654296755791,0.082456290721893,-0.054440308362246,0.158400669693947,-0.032336272299290,-0.106529839336872,0.111421085894108));
res += mul(Get(s1,dx,-dy), float4x4(0.214412152767181,-0.169377803802490,-0.088958315551281,0.094326801598072,0.018419647589326,-0.079011783003807,0.182718977332115,0.277842372655869,-0.024511348456144,0.151051849126816,0.001669840305112,-0.062119983136654,-0.017938219010830,-0.094690643250942,-0.010033709928393,0.109047211706638));
res += mul(Get(s1,dx,0), float4x4(0.117306075990200,-0.117702126502991,-0.025886783376336,-0.200874865055084,-0.052266776561737,0.092801906168461,-0.055438719689846,0.085424900054932,-0.047451898455620,-0.016939541324973,0.017299821600318,-0.053983949124813,0.127164199948311,-0.074074022471905,0.007659061811864,0.084034308791161));
res += mul(Get(s1,dx,dy), float4x4(-0.058078594505787,-0.023830790072680,0.135688826441765,0.046675074845552,-0.158881500363350,-0.104307897388935,0.237115263938904,-0.028774926438928,0.047112245112658,0.057377606630325,0.155322358012199,0.009427766315639,0.042535666376352,-0.128228113055229,-0.127074673771858,0.013043494895101));
res += mul(Get(s2,-dx,-dy), float4x4(-0.066263064742088,0.296714007854462,-0.134684875607491,0.118182949721813,-0.020243236795068,0.013365923427045,-0.175502851605415,-0.155956402420998,0.022180326282978,-0.032902769744396,0.041763864457607,0.069695390760899,0.021034464240074,-0.039687223732471,0.103691600263119,-0.124479785561562));
res += mul(Get(s2,-dx,0), float4x4(0.138009160757065,0.020533684641123,0.187884256243706,0.012938117608428,-0.148669674992561,-0.137238174676895,0.045277908444405,-0.020465731620789,-0.031544059514999,-0.026166504248977,0.024916576221585,-0.005397967528552,-0.166928038001060,-0.036816552281380,-0.019369615241885,-0.087687037885189));
res += mul(Get(s2,-dx,dy), float4x4(-0.030840862542391,0.247866794466972,0.018415797501802,-0.134501129388809,0.124760791659355,0.002220307243988,0.093436680734158,-0.069571681320667,-0.047803655266762,-0.124554879963398,-0.007338712457567,0.053206060081720,-0.016377044841647,0.297318398952484,0.218781173229218,-0.039995256811380));
res += mul(Get(s2,0,-dy), float4x4(-0.110928446054459,0.000253004283877,-0.032839573919773,0.038300041109324,-0.045137267559767,0.114830888807774,-0.048841800540686,-0.021293129771948,-0.024534849449992,-0.012477787211537,0.154049679636955,0.058001264929771,0.000412314722780,0.131052926182747,0.106039956212044,0.049975875765085));
res += mul(Get(s2,0,0), float4x4(-0.095107540488243,0.042221266776323,-0.054612267762423,0.050902962684631,0.125914156436920,-0.077844738960266,-0.047563795000315,-0.017661495134234,-0.022718427702785,-0.117242321372032,0.062875665724277,-0.032920125871897,0.049410093575716,-0.008115210570395,0.008933284319937,-0.126888871192932));
res += mul(Get(s2,0,dy), float4x4(0.127631068229675,-0.139138817787170,0.142581671476364,0.017954207956791,-0.153003916144371,-0.127887561917305,0.148337960243225,0.124053709208965,-0.137810051441193,0.020167494192719,0.119583107531071,0.107199020683765,0.108248397707939,0.003166694659740,0.244637221097946,0.093178339302540));
res += mul(Get(s2,dx,-dy), float4x4(-0.262655347585678,0.010115779936314,0.022092159837484,0.146743312478065,0.109252095222473,-0.082035407423973,-0.121687427163124,-0.079126305878162,-0.101174302399158,-0.056377295404673,-0.104364648461342,-0.101872824132442,0.010519578121603,0.047080256044865,-0.009529036469758,-0.227134987711906));
res += mul(Get(s2,dx,0), float4x4(0.015105037949979,-0.128844276070595,0.042859259992838,0.048478078097105,0.039570987224579,-0.078727260231972,0.212454110383987,0.117118857800961,0.151176482439041,0.125903338193893,-0.059328865259886,0.100168906152248,0.081813104450703,-0.103583887219429,0.124134965240955,0.153188675642014));
res += mul(Get(s2,dx,dy), float4x4(-0.112838163971901,0.082353308796883,-0.107187531888485,-0.029097082093358,0.033595487475395,0.174581244587898,0.031193833798170,-0.164597779512405,0.049571096897125,-0.022337147966027,-0.135289311408997,-0.038143955171108,-0.276233404874802,-0.096926540136337,0.239263683557510,0.019623896107078));
res += mul(Get(s3,-dx,-dy), float4x4(-0.011689549311996,-0.074046730995178,0.152957573533058,-0.004296951461583,-0.059112064540386,0.001720162341371,0.265791088342667,0.089303396642208,0.235117092728615,-0.054306868463755,-0.034328822046518,-0.172758415341377,-0.156495600938797,-0.016223309561610,0.243067294359207,-0.152720451354980));
res += mul(Get(s3,-dx,0), float4x4(-0.144068598747253,0.017973057925701,0.048553090542555,-0.036909513175488,-0.204551547765732,0.034354947507381,-0.184878826141357,0.034052766859531,-0.137492626905441,0.031164728105068,0.029394563287497,0.033014412969351,0.033113770186901,-0.026623362675309,0.038559116423130,-0.069268301129341));
res += mul(Get(s3,-dx,dy), float4x4(0.086841739714146,0.168487742543221,-0.026006102561951,0.053377702832222,-0.107989296317101,0.161713778972626,0.217598691582680,0.027749728411436,-0.103985182940960,0.091376572847366,-0.046082925051451,0.018886448815465,0.129626795649529,-0.201518997550011,-0.019669778645039,0.052280019968748));
res += mul(Get(s3,0,-dy), float4x4(-0.139300033450127,-0.025943234562874,0.043734543025494,-0.002109517110512,-0.055274669080973,-0.055248375982046,-0.060069672763348,-0.148156017065048,0.046695839613676,-0.050856787711382,0.046454653143883,-0.073518343269825,0.002982137026265,0.106516271829605,-0.098543189466000,0.048871852457523));
res += mul(Get(s3,0,0), float4x4(0.115445651113987,-0.081404663622379,-0.216664820909500,0.071887999773026,-0.070966474711895,-0.127422392368317,0.236335456371307,0.031043780967593,-0.161127597093582,0.053776036947966,-0.006159860175103,0.022897543385625,0.009102624841034,-0.084744051098824,-0.004284509457648,-0.161506012082100));
res += mul(Get(s3,0,dy), float4x4(0.065788201987743,-0.060712780803442,0.000135509588290,-0.048144131898880,-0.062719196081161,0.106392376124859,-0.088631898164749,0.068798735737801,0.016621438786387,-0.017025757580996,0.095191039144993,-0.092028625309467,-0.084362536668777,-0.085973627865314,-0.044407755136490,-0.012080417945981));
res += mul(Get(s3,dx,-dy), float4x4(-0.091024458408356,-0.159015700221062,0.039319738745689,0.045758061110973,-0.007994095794857,0.015854410827160,0.001536443480290,-0.168360218405724,-0.036282405257225,0.147390484809875,0.121118672192097,0.053312458097935,-0.055602643638849,0.082711346447468,0.000983225880191,-0.013526327908039));
res += mul(Get(s3,dx,0), float4x4(-0.138047114014626,0.088201910257339,-0.207072779536247,0.110610783100128,-0.084220647811890,-0.143058791756630,0.158499687910080,0.161324620246887,0.109396956861019,0.208919093012810,0.031588360667229,0.002622505417094,-0.207884356379509,0.036264594644308,-0.029484827071428,-0.119728274643421));
res += mul(Get(s3,dx,dy), float4x4(-0.120913662016392,-0.043933674693108,0.066238686442375,0.009272173978388,-0.032465774565935,0.015979118645191,-0.013836904428899,0.110469028353691,0.004843741655350,0.072209395468235,0.233792558312416,0.070436045527458,0.019520003348589,-0.029852204024792,0.066615253686905,-0.066699348390102));
return max(float4(0,0,0,0), res);
}
