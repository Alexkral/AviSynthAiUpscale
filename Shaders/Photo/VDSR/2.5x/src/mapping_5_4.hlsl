sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.029561946168542,0.004697042983025,-0.170488506555557,0.184170156717300,0.026935102418065,-0.104806527495384,-0.016775069758296,-0.212410882115364,-0.022795328870416,0.017454721033573,-0.124921716749668,-0.106919430196285,-0.120442651212215,0.035840176045895,-0.148954182863235,0.007590667344630));
res += mul(Get(s0,-dx,0), float4x4(-0.036446858197451,0.043106418102980,0.141546487808228,-0.052571944892406,0.083061508834362,-0.147107839584351,0.045238438993692,-0.056939575821161,0.031003843992949,0.092396087944508,-0.000008518572031,0.041912171989679,-0.068791098892689,-0.121243610978127,-0.114572152495384,-0.118815407156944));
res += mul(Get(s0,-dx,dy), float4x4(-0.235391587018967,-0.115924753248692,-0.028075940907001,-0.032168596982956,0.000280109961750,0.179916113615036,0.051976580172777,0.030292373150587,-0.103771410882473,0.157496079802513,0.156221032142639,-0.241395533084869,-0.086530238389969,0.058673556894064,-0.028657216578722,-0.123562343418598));
res += mul(Get(s0,0,-dy), float4x4(-0.120270177721977,0.171699166297913,0.021157942712307,-0.039102952927351,0.012692587450147,-0.026449866592884,-0.023538259789348,-0.065960399806499,0.083583816885948,0.073951296508312,0.031634449958801,-0.018509214743972,0.038430597633123,0.016016792505980,-0.105832763016224,-0.083882242441177));
res += mul(Get(s0,0,0), float4x4(-0.108495853841305,0.006300473120064,0.054830431938171,-0.035460654646158,0.061940457671881,0.048696655780077,0.120998896658421,-0.020764339715242,-0.251380324363708,-0.046120855957270,0.034450288861990,-0.048610344529152,0.160653382539749,0.021199651062489,-0.045558530837297,-0.210434794425964));
res += mul(Get(s0,0,dy), float4x4(-0.004914650693536,0.081206798553467,-0.085376814007759,0.108042165637016,0.008757006376982,-0.085719615221024,0.020430579781532,-0.007097548339516,-0.076582558453083,-0.046368703246117,0.085990756750107,0.020736772567034,-0.028567463159561,-0.144445016980171,-0.054763257503510,-0.210569664835930));
res += mul(Get(s0,dx,-dy), float4x4(0.022388210520148,0.180052742362022,0.052901588380337,0.064417503774166,0.111982539296150,0.046964313834906,-0.119069680571556,-0.052601914852858,0.202274352312088,-0.119089737534523,0.030227992683649,-0.065028712153435,-0.020621076226234,0.017234481871128,-0.011987123638391,-0.230005905032158));
res += mul(Get(s0,dx,0), float4x4(-0.057906232774258,-0.100981920957565,-0.071922168135643,0.380980074405670,-0.065697185695171,-0.051917113363743,0.037243343889713,-0.185409560799599,0.156336009502411,0.016924630850554,0.022435870021582,-0.119906269013882,-0.018167797476053,0.117691285908222,-0.080646440386772,0.004284877795726));
res += mul(Get(s0,dx,dy), float4x4(0.047834057360888,-0.018634308129549,-0.010175543837249,0.108499869704247,0.052127730101347,0.051798537373543,-0.094945400953293,0.004679020494223,-0.015489054843783,0.093895405530930,0.013555739074945,-0.007461282890290,0.139683201909065,-0.050887219607830,0.023099971935153,0.003920356743038));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024331975728273,0.010566539131105,-0.181670874357224,-0.046127352863550,-0.084657400846481,-0.028603367507458,0.128468781709671,-0.210087627172470,0.020715255290270,-0.199474707245827,0.012826664373279,0.111894048750401,-0.014928982593119,-0.021404251456261,-0.247584924101830,0.123012430965900));
res += mul(Get(s1,-dx,0), float4x4(0.035499941557646,-0.058055382221937,-0.015410273335874,0.288711994886398,-0.020628225058317,-0.018265767022967,0.070997335016727,0.072511546313763,-0.111147731542587,0.034461017698050,0.058445651084185,0.233563572168350,-0.025073897093534,-0.122326515614986,0.116868697106838,0.067376054823399));
res += mul(Get(s1,-dx,dy), float4x4(-0.097293704748154,-0.005070451647043,-0.089886382222176,0.011200443841517,0.136769503355026,0.054187215864658,0.037628330290318,0.032757151871920,0.167997896671295,-0.000566407979932,-0.088668756186962,-0.120967052876949,-0.107738271355629,-0.019087053835392,-0.106357276439667,-0.076289914548397));
res += mul(Get(s1,0,-dy), float4x4(0.075867280364037,-0.064342983067036,-0.102416656911373,-0.000698872201610,-0.001918276539072,-0.127471730113029,0.094292253255844,0.248487949371338,0.115809202194214,0.092321634292603,0.165258824825287,-0.013757522217929,0.137630373239517,-0.115472063422203,-0.162087321281433,0.090534307062626));
res += mul(Get(s1,0,0), float4x4(-0.138622686266899,0.010085185989738,-0.034724358469248,-0.062778249382973,-0.164304390549660,0.147839009761810,-0.263231515884399,0.039013605564833,-0.134359911084175,-0.094545125961304,-0.140966519713402,-0.030078012496233,0.048063319176435,-0.028764158487320,-0.112520724534988,-0.038696851581335));
res += mul(Get(s1,0,dy), float4x4(0.053700253367424,0.259089589118958,-0.048764094710350,-0.178616657853127,0.089442357420921,0.031411651521921,0.086287148296833,-0.054840486496687,0.026112459599972,0.177004933357239,0.072464048862457,-0.195472404360771,-0.004593588411808,0.078035876154900,0.026559676975012,-0.063698478043079));
res += mul(Get(s1,dx,-dy), float4x4(-0.093752562999725,-0.086237572133541,0.206206262111664,0.089427217841148,-0.014327583834529,-0.111959718167782,0.015059671364725,-0.095363490283489,0.076690979301929,-0.107065469026566,-0.087748162448406,0.033595670014620,0.017470106482506,-0.028770998120308,-0.035895686596632,-0.001095705316402));
res += mul(Get(s1,dx,0), float4x4(0.315850853919983,0.083699919283390,-0.148797333240509,0.133375138044357,-0.095572926104069,-0.038643755018711,0.091729409992695,-0.020588736981153,-0.079604290425777,-0.000376185926143,0.131721705198288,-0.044262085109949,0.145030707120895,0.073554396629333,-0.327188283205032,-0.105783626437187));
res += mul(Get(s1,dx,dy), float4x4(0.018022615462542,0.144084617495537,0.061291646212339,0.078666038811207,0.149588182568550,0.152706056833267,-0.044112615287304,-0.040399715304375,0.040390558540821,-0.033250514417887,0.031739771366119,-0.050350461155176,-0.025081984698772,0.062684379518032,0.117620550096035,-0.041888087987900));
res += mul(Get(s2,-dx,-dy), float4x4(-0.053222082555294,-0.178438022732735,-0.036632422357798,-0.067416355013847,-0.128076106309891,-0.035857886075974,-0.064249530434608,-0.004822829272598,-0.045991618186235,0.046030487865210,-0.079783819615841,0.110143490135670,-0.082000575959682,0.001100335386582,-0.131698146462440,-0.098579071462154));
res += mul(Get(s2,-dx,0), float4x4(0.045296814292669,-0.016296045854688,0.155550152063370,-0.042177766561508,-0.013868945650756,0.020019734278321,-0.105631947517395,-0.160092398524284,-0.031286746263504,0.094470225274563,0.115006908774376,-0.068585895001888,-0.046373203396797,0.039203964173794,0.166030481457710,-0.120189353823662));
res += mul(Get(s2,-dx,dy), float4x4(0.095427393913269,0.161750540137291,0.167157784104347,-0.046366851776838,0.022627552971244,0.024962197989225,0.095106564462185,0.035392578691244,0.004926818422973,-0.194031178951263,0.070101611316204,-0.101367078721523,-0.031207058578730,-0.095938079059124,0.090359270572662,-0.161154925823212));
res += mul(Get(s2,0,-dy), float4x4(-0.024974785745144,0.182882010936737,0.033200297504663,0.179285928606987,-0.082184948027134,-0.096947871148586,0.078633002936840,0.045476358383894,-0.127059310674667,0.004606985952705,0.016062825918198,0.051487926393747,0.003726941067725,0.055381409823895,-0.086898930370808,-0.170068159699440));
res += mul(Get(s2,0,0), float4x4(-0.130540192127228,0.209875956177711,0.042213115841150,0.053465504199266,0.039824392646551,-0.227044239640236,0.073209248483181,-0.124664179980755,-0.049598529934883,-0.016374614089727,0.033523030579090,-0.093602038919926,-0.077267535030842,0.102155022323132,0.100707069039345,-0.020789934322238));
res += mul(Get(s2,0,dy), float4x4(-0.165103688836098,-0.122490823268890,0.168763950467110,-0.092780262231827,-0.080661609768867,-0.126262933015823,0.041933424770832,0.140321239829063,0.082134082913399,-0.007529669906944,-0.000104317201476,0.088016986846924,0.067014396190643,0.161415085196495,-0.027048712596297,-0.088823772966862));
res += mul(Get(s2,dx,-dy), float4x4(-0.104678802192211,0.183329880237579,-0.161828577518463,0.087380506098270,-0.117446810007095,-0.156386122107506,0.223794564604759,-0.013699541799724,0.067009806632996,0.030464874580503,-0.129589512944221,0.206402003765106,-0.152775302529335,0.164998054504395,0.145546585321426,-0.000856289931107));
res += mul(Get(s2,dx,0), float4x4(0.164612963795662,0.036570925265551,-0.095788516104221,0.084061712026596,-0.092819012701511,0.003860841039568,-0.089597351849079,0.093263998627663,-0.004008959047496,-0.088376268744469,0.062214393168688,0.000905351131223,-0.007582956925035,-0.027969947084785,0.187222346663475,-0.085935503244400));
res += mul(Get(s2,dx,dy), float4x4(0.129439190030098,0.082238890230656,-0.139621198177338,0.076052725315094,0.064683847129345,-0.185496181249619,-0.181612327694893,-0.116120494902134,0.044161807745695,-0.107541866600513,0.118460737168789,0.235893428325653,-0.075715333223343,0.045525331050158,-0.127115815877914,-0.162312030792236));
res += mul(Get(s3,-dx,-dy), float4x4(-0.019334131851792,0.035107325762510,0.007865097373724,-0.048570398241282,-0.025634285062551,0.099204927682877,-0.150199487805367,-0.192030906677246,0.125125765800476,-0.064974620938301,-0.048374693840742,-0.009891441091895,-0.102592006325722,0.028545716777444,0.028707018122077,0.152682840824127));
res += mul(Get(s3,-dx,0), float4x4(0.002313861856237,-0.025827882811427,-0.019476179033518,-0.088731542229652,0.021430991590023,-0.223649501800537,0.118464060127735,0.060213956981897,0.101789057254791,0.036343991756439,0.073496483266354,-0.029636770486832,-0.028413739055395,-0.041677936911583,-0.032774582505226,-0.073917746543884));
res += mul(Get(s3,-dx,dy), float4x4(-0.241460397839546,-0.018314488232136,-0.013468029908836,0.030897634103894,0.105722196400166,0.103447869420052,-0.009815397672355,-0.132984638214111,-0.057029787451029,0.090103685855865,0.069167591631413,-0.138857409358025,0.117122679948807,-0.043678052723408,-0.012874512001872,0.168439731001854));
res += mul(Get(s3,0,-dy), float4x4(-0.074410930275917,-0.097966156899929,-0.179966300725937,-0.033203877508640,-0.014070329256356,0.215927258133888,-0.134913384914398,0.252799421548843,-0.057424847036600,0.002380544086918,0.019860945641994,-0.128198653459549,-0.079532764852047,-0.070009268820286,0.084809057414532,0.026261264458299));
res += mul(Get(s3,0,0), float4x4(-0.111757442355156,0.112344108521938,0.115410044789314,0.088307403028011,0.077407814562321,-0.092862837016582,-0.107966743409634,0.003365752520040,0.146080225706100,0.045897357165813,0.170922279357910,0.032596513628960,0.112867154181004,0.123238399624825,0.137406960129738,0.068101592361927));
res += mul(Get(s3,0,dy), float4x4(0.162317126989365,0.089116096496582,0.278840780258179,-0.297738075256348,-0.033295843750238,-0.011481055989861,0.012491547502577,-0.002184717683122,-0.039520863443613,0.131622061133385,-0.017144657671452,0.043182443827391,-0.027446633204818,0.004264630377293,-0.098200447857380,-0.128993332386017));
res += mul(Get(s3,dx,-dy), float4x4(0.075659960508347,-0.081313952803612,0.070067979395390,0.123339124023914,0.118324838578701,-0.039526034146547,0.078355900943279,-0.081408813595772,0.019838815554976,-0.004730348940939,0.065044321119785,-0.079061247408390,-0.100311331450939,0.049171496182680,-0.064946673810482,-0.003662367584184));
res += mul(Get(s3,dx,0), float4x4(-0.027175232768059,0.198483169078827,-0.206711694598198,-0.181643143296242,-0.050715897232294,-0.176027551293373,-0.108454652130604,-0.036845218390226,0.121082007884979,-0.016046464443207,-0.052968934178352,0.167873486876488,-0.090562924742699,0.092433735728264,0.138323634862900,0.184407278895378));
res += mul(Get(s3,dx,dy), float4x4(-0.064782246947289,0.098709650337696,0.171554699540138,0.057031359523535,-0.117155350744724,-0.133582696318626,-0.131192252039909,0.000629444781225,-0.008810766041279,0.025282939895988,-0.010038926266134,0.003152388846502,0.094675034284592,0.053819872438908,0.040338166058064,0.001711506629363));
return max(float4(0,0,0,0), res);
}
