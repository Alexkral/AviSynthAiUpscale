sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.032843001186848,-0.067538291215897,0.022549234330654,0.176447197794914,-0.081033684313297,-0.127322360873222,-0.114354848861694,0.089466892182827,-0.054600894451141,-0.026993172243237,-0.083419390022755,0.001740655512549,-0.041502870619297,0.042733829468489,-0.033153951168060,-0.135030537843704));
res += mul(Get(s0,-dx,0), float4x4(0.111375197768211,-0.115595169365406,0.123712413012981,0.100859880447388,0.071893759071827,-0.030983274802566,0.090833298861980,0.068938881158829,0.012422651983798,-0.127861097455025,-0.028758460655808,0.021499047055840,-0.056724306195974,0.003145829308778,-0.099053606390953,-0.036158777773380));
res += mul(Get(s0,-dx,dy), float4x4(0.068655289709568,-0.172810599207878,0.021947663277388,0.059693764895201,0.019139816984534,0.086090564727783,0.065545685589314,-0.009854136966169,-0.002538665197790,0.036094184964895,0.014001220464706,-0.103631414473057,-0.000873978890013,-0.042249467223883,0.049965597689152,-0.017675682902336));
res += mul(Get(s0,0,-dy), float4x4(-0.037985358387232,0.035383254289627,0.103298529982567,-0.004370455164462,-0.024064321070910,0.077622935175896,0.101756826043129,-0.072477318346500,-0.066949747502804,0.076142832636833,-0.046305257827044,0.137053370475769,0.078976422548294,-0.096108645200729,0.043079789727926,-0.051413882523775));
res += mul(Get(s0,0,0), float4x4(0.071761280298233,-0.022778572514653,0.018920959904790,-0.169597461819649,-0.001548749161884,0.087149046361446,0.111840359866619,0.083925753831863,-0.097253553569317,-0.069611825048923,-0.127413481473923,0.092715620994568,-0.005500513594598,0.030604274943471,-0.054554108530283,-0.032002218067646));
res += mul(Get(s0,0,dy), float4x4(-0.043580163270235,-0.075891219079494,-0.086498901247978,-0.017565965652466,-0.001790840527974,0.009374890476465,0.075483925640583,-0.023426799103618,-0.081479638814926,-0.040838845074177,0.061984345316887,-0.164200261235237,0.145701333880424,-0.066229581832886,0.117365382611752,-0.002954955212772));
res += mul(Get(s0,dx,-dy), float4x4(-0.106276609003544,-0.110608279705048,0.211500287055969,-0.017737992107868,-0.135445356369019,-0.099794618785381,0.200717106461525,0.044667478650808,0.151687249541283,0.095012508332729,-0.052296672016382,-0.126958027482033,-0.074273981153965,-0.065666608512402,0.001968899276108,0.076330237090588));
res += mul(Get(s0,dx,0), float4x4(-0.046074472367764,-0.073331087827682,0.047916598618031,0.212170392274857,-0.139607578516006,0.179507598280907,0.043624237179756,-0.120734013617039,0.076199859380722,-0.038312565535307,-0.162165135145187,-0.032324392348528,-0.140997871756554,-0.029103884473443,-0.012086019851267,-0.037352237850428));
res += mul(Get(s0,dx,dy), float4x4(-0.078895188868046,-0.135104060173035,0.067473538219929,-0.084317639470100,-0.037524264305830,-0.033156070858240,0.039464507251978,-0.105662308633327,-0.013465714640915,0.079800628125668,0.080406673252583,-0.082416653633118,-0.096397683024406,-0.041255008429289,-0.059189327061176,-0.099647790193558));
res += mul(Get(s1,-dx,-dy), float4x4(-0.098646178841591,0.085045084357262,0.034323893487453,0.095708519220352,-0.117949463427067,0.070101872086525,0.127866044640541,0.028056059032679,-0.014805763959885,0.004977809265256,-0.081626810133457,-0.007995028048754,-0.063361547887325,0.102062925696373,-0.007977844215930,0.105471275746822));
res += mul(Get(s1,-dx,0), float4x4(-0.116487890481949,0.043677646666765,0.091660767793655,0.083123080432415,0.007838474586606,0.131254836916924,-0.017592929303646,0.040175270289183,-0.013472715392709,-0.053163908421993,0.063752621412277,-0.066243000328541,0.169805437326431,-0.003905344521627,0.063883364200592,0.130949825048447));
res += mul(Get(s1,-dx,dy), float4x4(-0.064913399517536,0.114134296774864,-0.176665499806404,0.230467259883881,-0.052853278815746,0.296937435865402,0.030881861224771,0.134244173765182,-0.029881540685892,0.127802819013596,-0.153960227966309,-0.062545143067837,-0.177432566881180,-0.102526813745499,0.030275618657470,-0.128710746765137));
res += mul(Get(s1,0,-dy), float4x4(0.003057842375711,0.094568334519863,0.056152429431677,0.152347430586815,-0.033490613102913,-0.086670689284801,0.075390711426735,0.130529955029488,0.089900381863117,0.123560719192028,-0.027842700481415,0.163144528865814,0.086463935673237,0.100679144263268,-0.018063191324472,0.046263843774796));
res += mul(Get(s1,0,0), float4x4(-0.017036734148860,0.069141887128353,-0.064888752996922,0.134403765201569,-0.097184494137764,-0.126088201999664,-0.057736668735743,-0.004688316956162,0.046230044215918,-0.047266703099012,-0.007391077931970,0.087970003485680,0.336310178041458,-0.033300139009953,0.004037104547024,0.089600279927254));
res += mul(Get(s1,0,dy), float4x4(-0.054137963801622,0.196068614721298,-0.156328797340393,0.061308048665524,-0.179314285516739,0.030609710142016,-0.046779595315456,0.002528360346332,0.088334389030933,0.013712011277676,-0.131592720746994,-0.036903072148561,0.012772939167917,0.000292075099424,0.013129841536283,-0.131137579679489));
res += mul(Get(s1,dx,-dy), float4x4(0.059124916791916,0.151762723922729,0.021725049242377,0.111143581569195,0.011386089026928,-0.232296809554100,0.005922485608608,0.017780283465981,0.051902655512094,-0.042126905173063,-0.028859242796898,0.064178623259068,-0.124193832278252,0.109966978430748,-0.071204654872417,-0.095362097024918));
res += mul(Get(s1,dx,0), float4x4(0.064359933137894,0.041786551475525,-0.109380096197128,-0.074802473187447,0.133947387337685,-0.145453929901123,0.037027735263109,-0.014719076454639,-0.178953722119331,-0.040272194892168,-0.076219566166401,0.043330613523722,0.011847986839712,-0.007641584612429,0.038487207144499,-0.062753565609455));
res += mul(Get(s1,dx,dy), float4x4(-0.042261324822903,0.001639959868044,-0.072773404419422,0.228405117988586,0.170368909835815,-0.040081534534693,-0.038533855229616,-0.052266340702772,-0.099481821060181,-0.098929151892662,-0.194362506270409,0.225152403116226,-0.163801804184914,-0.151235267519951,0.148069173097610,-0.154129162430763));
res += mul(Get(s2,-dx,-dy), float4x4(0.081577718257904,-0.073978997766972,-0.051849104464054,-0.061434462666512,-0.072710916399956,-0.041023317724466,-0.076919235289097,-0.046648427844048,0.038843665271997,0.009229743853211,-0.057885523885489,0.005533112213016,-0.057713124901056,0.003062017029151,-0.045844465494156,0.042399920523167));
res += mul(Get(s2,-dx,0), float4x4(0.136842176318169,0.054106991738081,0.083572760224342,0.052780885249376,0.079159937798977,0.061830695718527,-0.116553373634815,-0.086191102862358,-0.036631289869547,-0.013505725190043,0.236541643738747,0.115652844309807,0.101754382252693,0.034899368882179,0.011397538706660,-0.049663331359625));
res += mul(Get(s2,-dx,dy), float4x4(0.008676120080054,0.105484105646610,0.053424164652824,-0.078013092279434,0.056079365313053,0.193671047687531,-0.227643340826035,0.068076856434345,-0.034373380243778,-0.064757078886032,0.011920941993594,0.114375151693821,0.024042189121246,-0.028470715507865,-0.007242779713124,-0.059912137687206));
res += mul(Get(s2,0,-dy), float4x4(-0.107360042631626,-0.068258367478848,-0.006955453660339,-0.043390262871981,0.053352504968643,0.060368560254574,-0.030369186773896,-0.074475184082985,-0.151475757360458,-0.039531789720058,-0.049189139157534,-0.027875676751137,-0.027304572984576,0.108205743134022,-0.079363062977791,0.077088542282581));
res += mul(Get(s2,0,0), float4x4(0.162869065999985,-0.045613788068295,0.080611899495125,0.035745762288570,0.213900119066238,-0.033042654395103,0.036116156727076,-0.010094885714352,-0.128133475780487,-0.037686072289944,0.201235353946686,-0.013416065834463,0.060353428125381,0.201752454042435,0.109992526471615,0.109126970171928));
res += mul(Get(s2,0,dy), float4x4(0.054926376789808,-0.062795139849186,0.061401337385178,-0.005336652975529,-0.114096559584141,-0.057673811912537,-0.066988974809647,0.005793969612569,-0.032654892653227,-0.014192998409271,-0.024974144995213,-0.040178399533033,0.033521149307489,0.082696624100208,-0.085434854030609,0.034074306488037));
res += mul(Get(s2,dx,-dy), float4x4(-0.138020396232605,0.045074973255396,0.037695638835430,0.016076123341918,-0.052431423217058,0.128739655017853,-0.112960420548916,-0.133434593677521,-0.106142729520798,-0.037562828511000,-0.110694706439972,-0.102624312043190,-0.113090202212334,-0.005536586977541,-0.104177527129650,0.134144112467766));
res += mul(Get(s2,dx,0), float4x4(-0.054217509925365,0.185123115777969,0.145820945501328,0.027931369841099,0.052348650991917,-0.040178257972002,0.038527946919203,-0.091601572930813,0.116608448326588,0.019899105653167,0.101105183362961,-0.252762526273727,0.005542905535549,-0.107621520757675,-0.018439779058099,0.196433007717133));
res += mul(Get(s2,dx,dy), float4x4(-0.011390321888030,0.011021050624549,0.060596276074648,-0.000174632819835,-0.027202008292079,-0.084682658314705,-0.064651682972908,-0.152843058109283,0.186195939779282,0.164594322443008,-0.123836562037468,-0.145890176296234,-0.028694892302155,0.032612193375826,-0.036167085170746,-0.008460346609354));
res += mul(Get(s3,-dx,-dy), float4x4(0.091126531362534,-0.021116426214576,-0.027903167530894,0.080807447433472,-0.017332024872303,0.005671829450876,-0.079049676656723,0.043537199497223,-0.071211442351341,-0.005074737127870,-0.009182785637677,-0.041086941957474,0.050437998026609,0.118283390998840,0.012973489239812,0.115458510816097));
res += mul(Get(s3,-dx,0), float4x4(0.047551374882460,-0.024964915588498,-0.093400537967682,0.074352957308292,0.005373387131840,-0.059496968984604,-0.022393602877855,0.049172177910805,0.068417891860008,0.000028308035326,0.158967658877373,-0.079672724008560,0.071231767535210,0.004602991044521,-0.047474246472120,0.036729902029037));
res += mul(Get(s3,-dx,dy), float4x4(0.018557386472821,0.101890385150909,-0.002829510020092,-0.032622799277306,0.146124050021172,-0.008720422163606,-0.027389934286475,-0.089984022080898,-0.134297519922256,0.016829274594784,-0.082099579274654,0.085071288049221,0.026132205501199,0.005976771470159,0.074470274150372,0.016534414142370));
res += mul(Get(s3,0,-dy), float4x4(-0.013788668438792,0.009511985816061,0.038152504712343,0.034284833818674,-0.106773220002651,-0.051023267209530,-0.029470901936293,0.014895157888532,-0.075012311339378,0.077091395854950,0.094901934266090,-0.067481420934200,-0.001200760249048,-0.065570816397667,-0.005301227793097,-0.124652199447155));
res += mul(Get(s3,0,0), float4x4(-0.080829098820686,0.057958588004112,-0.018178209662437,-0.060916543006897,-0.072929874062538,-0.089213781058788,-0.024562468752265,0.006488428451121,0.247913420200348,0.126230895519257,0.027811426669359,-0.079029031097889,0.091245114803314,0.108539298176765,0.037738718092442,-0.062202081084251));
res += mul(Get(s3,0,dy), float4x4(0.045790072530508,-0.024599773809314,0.069139115512371,-0.048056770116091,-0.083596214652061,-0.025194281712174,0.047196216881275,-0.092286624014378,0.001546866609715,0.052097581326962,-0.168626219034195,0.024345293641090,-0.044157654047012,0.016891460865736,-0.118305586278439,0.047047350555658));
res += mul(Get(s3,dx,-dy), float4x4(-0.067525058984756,-0.031466808170080,-0.003654940053821,0.165202841162682,-0.120403401553631,-0.086147829890251,-0.063858270645142,0.100458309054375,-0.112681001424789,0.003010993590578,0.111051589250565,-0.124116040766239,0.005267678759992,0.026107113808393,0.079652920365334,-0.144983619451523));
res += mul(Get(s3,dx,0), float4x4(-0.103608325123787,-0.025110399350524,0.120511874556541,-0.060221023857594,-0.109974965453148,-0.103320896625519,-0.068496741354465,-0.077529281377792,0.011880015023053,0.004000167362392,0.012957116588950,-0.106568172574043,0.014972725883126,0.048257604241371,-0.032730571925640,-0.077609792351723));
res += mul(Get(s3,dx,dy), float4x4(-0.077329292893410,-0.175714403390884,-0.000384027865948,-0.053755797445774,-0.137232229113579,0.046897567808628,-0.038233678787947,-0.195525959134102,0.013587152585387,-0.108614675700665,0.040090713649988,-0.002184310695156,-0.119964405894279,-0.018209833651781,0.026984166353941,-0.122761107981205));
return max(float4(0,0,0,0), res);
}
