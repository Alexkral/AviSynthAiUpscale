sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.199171379208565,-0.010834955610335,-0.071083374321461,-0.143461391329765,0.059637647122145,0.038531094789505,0.091355666518211,-0.047824095934629,0.063384123146534,0.005662311334163,-0.170866668224335,-0.028395608067513,0.069920495152473,-0.080006450414658,-0.052776709198952,0.176032751798630));
res += mul(Get(s0,-dx,0), float4x4(-0.104043208062649,-0.157694399356842,-0.033305507153273,-0.085666343569756,0.110621675848961,0.209751933813095,-0.133121788501740,0.029316276311874,-0.108025975525379,0.034923721104860,-0.097178608179092,-0.065588779747486,0.006121659185737,-0.119174115359783,0.087668396532536,-0.015082422643900));
res += mul(Get(s0,-dx,dy), float4x4(0.029358273372054,-0.110807210206985,-0.074131868779659,0.127994909882545,-0.080468982458115,-0.264219284057617,0.201461791992188,0.259562969207764,-0.047184560447931,-0.015173668041825,-0.056310292333364,0.048712324351072,0.002528975252062,0.056057140231133,-0.035135835409164,0.011451308615506));
res += mul(Get(s0,0,-dy), float4x4(0.295490831136703,-0.172587886452675,-0.007417943794280,0.099415630102158,0.094196550548077,-0.009961447678506,0.042835619300604,-0.161811679601669,-0.054079506546259,0.032308839261532,0.065152049064636,0.025582768023014,0.190839260816574,-0.015270999632776,-0.088514775037766,-0.074723899364471));
res += mul(Get(s0,0,0), float4x4(-0.103377036750317,0.041679494082928,0.071545504033566,-0.066333152353764,0.021721923723817,0.002981913741678,-0.058124925941229,-0.071497879922390,0.163632601499557,-0.092543289065361,0.084341146051884,0.132508382201195,0.040415711700916,-0.053340289741755,0.000499446468893,0.162891432642937));
res += mul(Get(s0,0,dy), float4x4(-0.028170954436064,0.036799084395170,0.054060224443674,0.000388506683521,-0.000914029602427,0.023563539609313,0.105991587042809,-0.045818123966455,0.100851289927959,0.060822248458862,-0.072976984083652,0.183092132210732,0.000996217015199,-0.077709272503853,0.041160840541124,-0.001119220745750));
res += mul(Get(s0,dx,-dy), float4x4(-0.105530180037022,-0.112713709473610,0.157118335366249,0.003159282030538,0.182438790798187,-0.109963186085224,0.048739537596703,-0.109066866338253,0.081174880266190,-0.042205292731524,0.123149365186691,0.021956138312817,0.017380705103278,0.167097181081772,-0.189651489257813,0.013649412430823));
res += mul(Get(s0,dx,0), float4x4(-0.083941772580147,0.277779430150986,-0.127815768122673,-0.046268422156572,0.161752745509148,0.061053413897753,0.014047226868570,-0.076156057417393,0.073871649801731,-0.176877811551094,0.097915679216385,-0.130781501531601,0.053261831402779,0.106467947363853,0.152045696973801,-0.143454298377037));
res += mul(Get(s0,dx,dy), float4x4(0.003272503381595,0.074366696178913,-0.044229105114937,-0.261410892009735,-0.237970545887947,-0.240121066570282,-0.073997162282467,-0.211480915546417,0.022448834031820,-0.017897920683026,-0.010752297006547,0.016548139974475,0.007192645687610,-0.033341556787491,-0.248428076505661,-0.092086806893349));
res += mul(Get(s1,-dx,-dy), float4x4(0.263731062412262,-0.005815926007926,-0.201732829213142,-0.096677131950855,-0.035767395049334,-0.042887385934591,0.040330119431019,0.039912287145853,0.110647656023502,-0.022006150335073,-0.118744850158691,-0.131085142493248,0.069261893630028,0.062177494168282,0.107747063040733,0.051693521440029));
res += mul(Get(s1,-dx,0), float4x4(-0.045297794044018,0.130850613117218,0.117124043405056,-0.041819792240858,-0.139121219515800,0.108807660639286,0.003966576419771,0.181671842932701,-0.059935405850410,-0.066021606326103,-0.011014297604561,-0.228581637144089,0.017997732385993,0.159136965870857,-0.229657039046288,-0.227194517850876));
res += mul(Get(s1,-dx,dy), float4x4(-0.116589479148388,0.152290880680084,0.003830495756119,0.000453440588899,0.044108711183071,0.031136363744736,-0.094138890504837,0.006456499919295,-0.118047297000885,-0.085062801837921,0.082295432686806,-0.065096057951450,0.195953533053398,0.112135127186775,-0.005291300360113,-0.019990587607026));
res += mul(Get(s1,0,-dy), float4x4(-0.041134249418974,0.109621316194534,-0.085372745990753,0.111642114818096,0.015072481706738,0.021431237459183,-0.062903277575970,-0.030049772933125,-0.042483542114496,-0.010190571658313,0.135215327143669,0.216628313064575,-0.068678617477417,0.113704122602940,-0.100852452218533,0.001896040630527));
res += mul(Get(s1,0,0), float4x4(0.084324605762959,-0.057495746761560,-0.022448157891631,0.074494905769825,0.095053605735302,0.119486570358276,-0.061046056449413,0.132411167025566,0.171790421009064,-0.102782122790813,0.046361684799194,0.060325279831886,0.025015171617270,0.074658185243607,-0.050952918827534,-0.093853563070297));
res += mul(Get(s1,0,dy), float4x4(-0.029161510989070,-0.100951418280602,0.043212119489908,0.027414532378316,-0.087674386799335,0.034278105944395,0.095228098332882,-0.033803213387728,-0.060984902083874,-0.079228192567825,-0.059969030320644,0.009324155747890,-0.096005514264107,0.059322770684958,0.187639579176903,-0.003464598674327));
res += mul(Get(s1,dx,-dy), float4x4(-0.029961595311761,0.073480874300003,-0.144933179020882,0.005009866785258,0.045600458979607,-0.130421966314316,-0.009429385885596,0.058050505816936,-0.218362569808960,-0.172450855374336,-0.047306146472692,-0.007837271317840,-0.088974706828594,0.081216394901276,-0.080973468720913,-0.065266698598862));
res += mul(Get(s1,dx,0), float4x4(0.024376137182117,-0.119362428784370,0.055147651582956,0.295869976282120,0.008258150890470,0.082519061863422,-0.064029954373837,0.106460571289063,-0.111837401986122,-0.082248352468014,0.007157430984080,0.140264540910721,-0.038583960384130,-0.078466363251209,-0.182776689529419,0.094661302864552));
res += mul(Get(s1,dx,dy), float4x4(-0.149903714656830,-0.163190841674805,0.036919977515936,0.031750049442053,0.180906653404236,0.060046955943108,-0.099195420742035,0.092265792191029,0.143297761678696,-0.108274199068546,0.062520690262318,0.063529178500175,0.068791933357716,0.090457268059254,0.018867261707783,-0.062702924013138));
res += mul(Get(s2,-dx,-dy), float4x4(0.220860123634338,-0.142042666673660,-0.002489414066076,0.142469778656960,0.041764561086893,0.045451566576958,0.043399963527918,0.015026436187327,0.032024014741182,-0.108866550028324,-0.055702965706587,0.047355096787214,-0.054321289062500,0.099653668701649,0.073110319674015,0.092374883592129));
res += mul(Get(s2,-dx,0), float4x4(0.086646340787411,0.054940607398748,-0.028231762349606,-0.004529468715191,-0.021853286772966,0.001904194941744,0.019223185256124,-0.039085064083338,-0.005787993315607,0.007511065341532,0.013038242235780,-0.102009408175945,-0.058027818799019,-0.030403710901737,0.107221983373165,-0.219489872455597));
res += mul(Get(s2,-dx,dy), float4x4(-0.114661186933517,-0.096207119524479,0.100522205233574,0.096309669315815,0.098755963146687,0.122777104377747,-0.085421077907085,-0.121644377708435,0.088839396834373,0.031482886523008,0.150670409202576,-0.043223619461060,0.128047004342079,0.023396827280521,0.013954858295619,-0.042541619390249));
res += mul(Get(s2,0,-dy), float4x4(-0.028525354340672,-0.105433478951454,0.083509720861912,0.252168953418732,-0.106057435274124,-0.027051992714405,-0.070698589086533,-0.110468007624149,0.153245449066162,0.086646102368832,0.108472764492035,0.021338626742363,-0.128090858459473,0.078356176614761,0.085678815841675,-0.097987897694111));
res += mul(Get(s2,0,0), float4x4(-0.065141938626766,-0.047751713544130,0.061653450131416,0.006304259877652,0.112333945930004,0.012089409865439,-0.110971704125404,0.054306730628014,0.121048144996166,-0.038421116769314,-0.054061960428953,0.020070102065802,0.007930889725685,0.246787101030350,0.031935993582010,-0.025154126808047));
res += mul(Get(s2,0,dy), float4x4(-0.038865078240633,-0.138931259512901,-0.028485517948866,0.158881604671478,0.044319253414869,0.259900838136673,0.113332100212574,-0.157885462045670,0.045337155461311,0.058357857167721,-0.028928056359291,0.197113454341888,-0.037362258881330,-0.124878674745560,0.281785964965820,0.050152532756329));
res += mul(Get(s2,dx,-dy), float4x4(0.117028035223484,0.004382930230349,0.050324197858572,-0.118776611983776,0.149403169751167,0.115036912262440,-0.006078927777708,-0.095492683351040,0.209151685237885,0.176760032773018,0.207341134548187,-0.079525358974934,0.071655765175819,-0.124370962381363,0.097658231854439,0.013049610890448));
res += mul(Get(s2,dx,0), float4x4(0.039145115762949,0.125290587544441,-0.025394851341844,0.195746839046478,-0.098569236695766,-0.116544052958488,-0.058381814509630,0.119176283478737,0.044465426355600,-0.207941040396690,-0.045857708901167,-0.014606830663979,-0.194751203060150,-0.015731694176793,-0.132533490657806,0.089972667396069));
res += mul(Get(s2,dx,dy), float4x4(0.108289100229740,-0.024303529411554,0.014940283261240,-0.132847994565964,-0.021700600162148,0.115414932370186,0.071531340479851,-0.005500159226358,0.056889891624451,-0.116940870881081,0.017611436545849,0.095799043774605,-0.121393643319607,0.001872233697213,-0.117219142615795,0.033038917928934));
res += mul(Get(s3,-dx,-dy), float4x4(0.119918033480644,0.003122241236269,-0.191765815019608,0.032294187694788,-0.061323639005423,-0.035072319209576,0.003794869175181,0.018228916451335,-0.028024924919009,0.008074133656919,-0.002492442959920,-0.050518322736025,0.049864090979099,0.115261465311050,0.051706843078136,0.199258208274841));
res += mul(Get(s3,-dx,0), float4x4(-0.097741156816483,-0.036781407892704,0.193042591214180,0.142496541142464,0.106038920581341,-0.065506763756275,-0.033041056245565,0.006610396318138,0.080756336450577,-0.160249248147011,-0.158034875988960,-0.036058358848095,-0.198393806815147,-0.001563290483318,0.064984053373337,-0.085386678576469));
res += mul(Get(s3,-dx,dy), float4x4(-0.191060274839401,0.129003062844276,-0.089064814150333,0.070973135530949,0.230240583419800,0.129694744944572,-0.133499518036842,0.208019584417343,-0.133487597107887,-0.076731145381927,-0.096988685429096,-0.104564435780048,0.036543227732182,0.079763501882553,0.079415701329708,0.013910480774939));
res += mul(Get(s3,0,-dy), float4x4(-0.201775580644608,-0.101991608738899,0.074830219149590,-0.138949289917946,-0.057688504457474,-0.022222705185413,-0.063521482050419,0.016699824482203,-0.176880255341530,0.052774257957935,-0.026548260822892,-0.253365308046341,0.087282218039036,0.099825799465179,0.110395878553391,0.146487802267075));
res += mul(Get(s3,0,0), float4x4(-0.064764611423016,0.021629910916090,0.048245742917061,0.045841824263334,0.042580634355545,-0.063725233078003,-0.062360197305679,-0.070908077061176,-0.083786822855473,0.052197556942701,-0.069657467305660,-0.043934404850006,-0.095169834792614,-0.073313884437084,0.132967010140419,0.141967624425888));
res += mul(Get(s3,0,dy), float4x4(0.075805678963661,0.106946513056755,-0.167206525802612,-0.148838594555855,0.179411962628365,-0.096789427101612,-0.197732582688332,0.070435725152493,0.067106984555721,0.102354921400547,0.054137427359819,0.083288043737411,-0.012258299626410,-0.054234087467194,0.029292287304997,-0.076418682932854));
res += mul(Get(s3,dx,-dy), float4x4(-0.074694707989693,0.044996727257967,0.176541149616241,0.123943381011486,-0.030646765604615,0.002995468210429,-0.089392088353634,-0.145406022667885,0.065923042595387,-0.143355146050453,-0.052734088152647,-0.143916860222816,-0.081306762993336,-0.163601458072662,-0.012623570859432,0.086417734622955));
res += mul(Get(s3,dx,0), float4x4(-0.015313248150051,-0.065316706895828,0.043917629867792,-0.208606317639351,-0.052550572901964,-0.163711830973625,-0.056554589420557,0.020252821967006,0.031430415809155,0.052185058593750,-0.090045012533665,0.157858476042747,0.148614272475243,-0.033398926258087,0.033444266766310,-0.124948330223560));
res += mul(Get(s3,dx,dy), float4x4(0.016394916921854,0.014010669663548,0.192154526710510,-0.044769953936338,0.066311061382294,-0.190097913146019,-0.109094537794590,-0.040448106825352,0.007369848433882,-0.028135105967522,0.111826829612255,-0.086871109902859,-0.013400484807789,0.034828808158636,0.156080827116966,-0.186144098639488));
return max(float4(0,0,0,0), res);
}
