sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.056914042681456,-0.096037037670612,0.173867225646973,-0.226650387048721,0.106001727283001,0.025066925212741,0.165536567568779,-0.207511663436890,-0.026790909469128,0.161454260349274,-0.125301167368889,-0.101296141743660,-0.022372007369995,-0.032148968428373,0.003424422815442,0.115110017359257));
res += mul(Get(s0,-dx,0), float4x4(-0.076021082699299,-0.082407332956791,0.146083265542984,-0.096372082829475,0.038225024938583,0.172147512435913,0.071041658520699,-0.062419563531876,0.008839095942676,0.108300797641277,-0.015150628983974,0.019510226324201,-0.016386507079005,-0.075551837682724,-0.083601333200932,0.030845144763589));
res += mul(Get(s0,-dx,dy), float4x4(0.028952829539776,-0.074914500117302,0.038602504879236,-0.045826233923435,-0.037768647074699,0.003583062207326,0.140665590763092,-0.032118920236826,0.019567159935832,0.004032147116959,-0.045223638415337,0.012280332855880,-0.012225770391524,0.046053137630224,-0.053947251290083,-0.002178658032790));
res += mul(Get(s0,0,-dy), float4x4(-0.044826436787844,0.008106355555356,0.051144469529390,-0.071473903954029,0.082264155149460,-0.037595648318529,0.105180762708187,0.182097449898720,-0.105267271399498,-0.057458419352770,-0.164943233132362,-0.093204177916050,0.040749881416559,-0.009068408049643,-0.041077040135860,0.106701061129570));
res += mul(Get(s0,0,0), float4x4(0.058549530804157,0.031006509438157,0.021649293601513,0.046633154153824,-0.060414470732212,-0.021264661103487,0.076740831136703,0.082582876086235,-0.118475317955017,-0.092845261096954,0.111778132617474,-0.059782836586237,-0.060308057814837,0.027296222746372,-0.055217646062374,-0.107915915548801));
res += mul(Get(s0,0,dy), float4x4(0.090090960264206,0.042023837566376,-0.001191100105643,-0.005527427885681,0.016552209854126,-0.097603924572468,0.029875973239541,-0.077903084456921,0.089482858777046,-0.060825560241938,0.215763404965401,-0.032543335109949,-0.052504085004330,-0.010346144437790,-0.087196648120880,0.021650791168213));
res += mul(Get(s0,dx,-dy), float4x4(-0.054967351257801,-0.093622446060181,0.036182843148708,-0.063402868807316,0.047768749296665,-0.061828870326281,0.087809763848782,-0.035821504890919,-0.050208121538162,-0.080987811088562,-0.005552529357374,0.082193106412888,0.045270893722773,0.133773550391197,-0.125202313065529,-0.043219398707151));
res += mul(Get(s0,dx,0), float4x4(0.014808518812060,-0.079351887106895,-0.059686388820410,-0.073382176458836,-0.057092234492302,0.033154200762510,-0.076154276728630,0.072128593921661,-0.127326026558876,0.018728775903583,0.049223084002733,0.049667082726955,-0.169596046209335,0.068341895937920,-0.078738503158092,0.013928874395788));
res += mul(Get(s0,dx,dy), float4x4(0.061565898358822,0.003915705252439,0.141372367739677,-0.080657400190830,-0.033253774046898,-0.002724997699261,0.056591190397739,0.025964757427573,-0.067912220954895,-0.089247107505798,0.079476140439510,0.088795855641365,-0.062162280082703,-0.020080428570509,-0.117360875010490,0.001080987043679));
res += mul(Get(s1,-dx,-dy), float4x4(-0.024279175326228,0.086003541946411,-0.073094002902508,-0.093614824116230,-0.039993036538363,-0.101878426969051,0.090403228998184,0.057591356337070,0.008198471739888,0.055243857204914,-0.026935609057546,0.015388751402497,0.000865431269631,-0.183386668562889,-0.022489363327622,-0.097413517534733));
res += mul(Get(s1,-dx,0), float4x4(0.082209639251232,-0.012559692375362,0.026961293071508,-0.060952950268984,-0.034046508371830,-0.007128711789846,-0.003556187730283,0.013791739940643,0.023481238633394,-0.010877807624638,-0.076179921627045,0.023737972602248,0.017154911532998,-0.003004365367815,-0.069562032818794,0.059231854975224));
res += mul(Get(s1,-dx,dy), float4x4(0.013363122008741,-0.017605930566788,0.112395234405994,-0.075449667870998,0.109110929071903,-0.111107468605042,0.077851220965385,0.029171027243137,0.101902835071087,-0.000512552505825,0.004323702771217,-0.087161131203175,-0.012119824066758,0.001283468329348,-0.021495854482055,-0.074385769665241));
res += mul(Get(s1,0,-dy), float4x4(-0.022468151524663,0.000380578945624,0.013859182596207,-0.033902958035469,-0.001595502020791,-0.086041092872620,-0.088991336524487,0.029817901551723,-0.093397043645382,-0.061787579208612,0.121374770998955,-0.047359228134155,0.039572570472956,-0.057266369462013,0.046863451600075,-0.109480552375317));
res += mul(Get(s1,0,0), float4x4(-0.010545081458986,-0.046120632439852,0.024208476766944,0.004465366248041,-0.010843899101019,-0.125770241022110,0.031105602160096,-0.058159392327070,-0.033049307763577,-0.069769904017448,-0.035783644765615,0.015635972842574,0.310188025236130,-0.000827228708658,0.036095574498177,0.196377262473106));
res += mul(Get(s1,0,dy), float4x4(-0.080767422914505,0.046316139400005,0.064312107861042,-0.054398655891418,0.071915753185749,-0.001153189223260,-0.013975553214550,-0.071961157023907,0.189872279763222,-0.037407517433167,0.020782262086868,-0.025950029492378,-0.051716383546591,-0.049312181770802,0.017855208367109,0.013762405142188));
res += mul(Get(s1,dx,-dy), float4x4(-0.085568867623806,0.031286738812923,0.042671799659729,-0.099963955581188,-0.005953583866358,-0.063634715974331,0.081242054700851,0.213090911507607,-0.075510151684284,-0.123119994997978,0.040091533213854,0.026641262695193,-0.074789129197598,0.012904016301036,-0.010531320236623,-0.147390648722649));
res += mul(Get(s1,dx,0), float4x4(0.055387716740370,-0.070809371769428,0.149810895323753,-0.014974233694375,-0.007208576425910,0.006510294508189,0.100481003522873,-0.046721126884222,-0.021726686507463,-0.144089207053185,-0.020238395780325,0.240494817495346,0.164303481578827,-0.013115312904119,0.003937014844269,0.042416296899319));
res += mul(Get(s1,dx,dy), float4x4(-0.067046523094177,-0.004721504170448,0.052434939891100,-0.059261631220579,-0.002174742752686,-0.055239405483007,0.051950689405203,-0.086206384003162,0.038141131401062,-0.024002010002732,-0.014244974590838,0.069374434649944,-0.015257568098605,-0.022901497781277,0.058909747749567,-0.040670283138752));
res += mul(Get(s2,-dx,-dy), float4x4(-0.095645472407341,-0.078216314315796,-0.009532324969769,0.007034447044134,-0.000815969775431,0.074132435023785,-0.086112037301064,-0.102811969816685,-0.066837355494499,-0.018650008365512,-0.085546433925629,-0.091341793537140,-0.105331912636757,0.060785345733166,-0.012478142045438,-0.143883943557739));
res += mul(Get(s2,-dx,0), float4x4(0.013243052177131,-0.070469900965691,-0.107952930033207,0.011146242730319,0.049640405923128,0.071099445223808,-0.021404780447483,0.043527841567993,-0.065424114465714,-0.065184481441975,-0.069867774844170,0.000022519316190,-0.036793600767851,-0.020958216860890,-0.010675457306206,-0.015998417511582));
res += mul(Get(s2,-dx,dy), float4x4(-0.061916016042233,-0.029114238917828,-0.157394960522652,-0.081771552562714,-0.048779286444187,0.046194780617952,0.044762790203094,0.057845920324326,-0.093924298882484,-0.014469808898866,-0.054353021085262,0.005648607853800,-0.053576197475195,0.043677996844053,-0.032697461545467,-0.130752503871918));
res += mul(Get(s2,0,-dy), float4x4(-0.043560583144426,-0.040921393781900,0.031511150300503,0.054059546440840,-0.069834671914577,-0.008435226976871,-0.039570555090904,-0.121906191110611,-0.031242728233337,-0.026928877457976,0.081464864313602,-0.129436403512955,0.039239145815372,0.052661329507828,-0.042254697531462,-0.036004118621349));
res += mul(Get(s2,0,0), float4x4(-0.088140554726124,0.079264499247074,-0.168263256549835,-0.051362000405788,-0.001607283367775,0.036236979067326,-0.021080855280161,0.171112492680550,0.055575177073479,-0.027678411453962,0.028477832674980,-0.050835505127907,-0.015429989434779,0.079249985516071,-0.020039184018970,-0.049808733165264));
res += mul(Get(s2,0,dy), float4x4(0.075280509889126,0.062765762209892,-0.110660254955292,-0.041143752634525,-0.082916654646397,-0.001205907319672,-0.083200395107269,0.088750943541527,0.001771495328285,-0.059372019022703,0.013955789618194,-0.038524273782969,0.117276340723038,0.034572482109070,-0.021135466173291,-0.012925358489156));
res += mul(Get(s2,dx,-dy), float4x4(0.004052315372974,0.055260822176933,-0.007470380514860,0.035779066383839,-0.030042033642530,-0.061083741486073,-0.005563971586525,-0.071141146123409,-0.122049123048782,-0.068012587726116,0.039135217666626,-0.127959817647934,-0.071753606200218,0.037920702248812,-0.000288659764919,-0.030577195808291));
res += mul(Get(s2,dx,0), float4x4(0.056570358574390,-0.074447855353355,0.005444120615721,-0.011560718528926,-0.117832660675049,-0.053460985422134,-0.009428785182536,0.096928782761097,-0.055266514420509,0.033623546361923,-0.058571584522724,0.127338424324989,-0.125716686248779,0.038962006568909,0.035626482218504,0.102725170552731));
res += mul(Get(s2,dx,dy), float4x4(-0.001541813369840,0.022039674222469,-0.060307350009680,-0.077110238373280,-0.085948571562767,-0.017080981284380,0.087527461349964,0.031799446791410,-0.020780745893717,-0.005459680687636,-0.060410175472498,0.178275913000107,-0.058162190020084,-0.069577060639858,0.049024678766727,-0.115113504230976));
res += mul(Get(s3,-dx,-dy), float4x4(0.067292757332325,-0.019916895776987,0.043094407767057,0.021373400464654,-0.016835093498230,0.021671224385500,-0.032875504344702,-0.032254587858915,-0.093304924666882,-0.046109989285469,-0.021503116935492,-0.072950378060341,-0.076608188450336,0.031904034316540,-0.022794703021646,-0.155622333288193));
res += mul(Get(s3,-dx,0), float4x4(-0.011456878855824,-0.024754159152508,0.011431207880378,-0.057587049901485,-0.020528895780444,0.012192252092063,-0.185928955674171,0.047231100499630,0.021616170182824,-0.057512078434229,0.107343614101410,0.060246706008911,0.155495539307594,0.012303387746215,-0.045341670513153,0.041424874216318));
res += mul(Get(s3,-dx,dy), float4x4(-0.057403709739447,-0.018704501911998,-0.071990363299847,-0.051233220845461,0.061639245599508,-0.080715835094452,-0.157596483826637,-0.100305296480656,-0.084793597459793,-0.123549073934555,0.013848250731826,-0.121524475514889,0.115890160202980,0.022147053852677,0.064004987478256,0.018073435872793));
res += mul(Get(s3,0,-dy), float4x4(0.011813922785223,0.120564728975296,-0.042627889662981,0.079066731035709,0.016264274716377,-0.002213458530605,-0.135667726397514,0.050376798957586,0.023564051836729,-0.007664531003684,0.012571630068123,-0.021247256547213,-0.043976936489344,0.027329726144671,-0.050445646047592,-0.177497610449791));
res += mul(Get(s3,0,0), float4x4(0.061252113431692,0.103652998805046,-0.104591794312000,0.028952600434422,0.006900128908455,0.104014590382576,-0.174652591347694,0.087567605078220,0.073014922440052,0.211634829640388,0.153381362557411,0.072004348039627,0.032961677759886,0.076270192861557,0.017252271994948,0.056716740131378));
res += mul(Get(s3,0,dy), float4x4(0.176606535911560,0.130190819501877,-0.133765235543251,0.081742569804192,-0.067178308963776,-0.039527799934149,-0.149405375123024,0.077493749558926,0.067644409835339,0.083708569407463,0.244126275181770,-0.054093345999718,0.029845939949155,-0.057879183441401,0.108588963747025,0.124755449593067));
res += mul(Get(s3,dx,-dy), float4x4(-0.006629892159253,0.132480829954147,-0.026646848767996,0.041517347097397,0.019495204091072,0.103804014623165,-0.146809667348862,0.331026256084442,-0.006222283933312,-0.102768160402775,0.059812020510435,0.136844098567963,0.009558073244989,-0.017032993957400,0.021430457010865,-0.009560176171362));
res += mul(Get(s3,dx,0), float4x4(0.074232004582882,0.033752735704184,-0.043534368276596,0.062762930989265,0.087518274784088,0.057020291686058,-0.114950872957706,0.097868621349335,0.022685823962092,-0.016633192077279,0.016456451267004,0.120295092463493,0.047786265611649,-0.092790678143501,0.024606637656689,0.108152501285076));
res += mul(Get(s3,dx,dy), float4x4(-0.043017201125622,0.113180585205555,0.010552435182035,-0.020077563822269,-0.074913203716278,0.043744195252657,-0.110357709228992,-0.177119210362434,-0.094747871160507,-0.084945999085903,0.041964411735535,0.024563832208514,-0.023157283663750,-0.158896744251251,0.044834438711405,0.130112990736961));
return max(float4(0,0,0,0), res);
}
