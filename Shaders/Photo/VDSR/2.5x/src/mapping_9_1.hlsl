sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.094866745173931,0.061078537255526,0.080655865371227,-0.203644007444382,-0.030128410086036,-0.103687718510628,-0.130308136343956,-0.151329874992371,-0.065632395446301,-0.069949477910995,0.100875265896320,-0.133415818214417,0.184776395559311,0.006514334585518,-0.221342176198959,-0.027835624292493));
res += mul(Get(s0,-dx,0), float4x4(-0.047614514827728,0.215288624167442,0.039664823561907,0.056796651333570,-0.021373558789492,-0.134061992168427,0.118357315659523,-0.211728215217590,0.060897734016180,0.164178460836411,-0.069883748888969,-0.114754430949688,0.048331823199987,0.051615651696920,0.064843371510506,-0.061924934387207));
res += mul(Get(s0,-dx,dy), float4x4(-0.028519378975034,0.128346979618073,0.010168552398682,0.057529844343662,0.094570726156235,0.025820348411798,0.165364712476730,0.094865925610065,0.030347684398293,0.022286716848612,-0.094652466475964,-0.101044781506062,0.195322394371033,-0.148295283317566,-0.043772004544735,-0.008964599110186));
res += mul(Get(s0,0,-dy), float4x4(0.001579742878675,0.017362831160426,-0.016104858368635,-0.197105213999748,-0.123270630836487,-0.134463563561440,0.061195511370897,-0.009585039690137,-0.218832522630692,-0.059206768870354,-0.026047246530652,-0.031371437013149,-0.089293025434017,-0.003537646960467,-0.207113981246948,0.049217570573092));
res += mul(Get(s0,0,0), float4x4(-0.007143170572817,0.030086413025856,0.028804430738091,0.007106240838766,-0.067105568945408,-0.167996823787689,0.207602217793465,0.070549890398979,-0.030210543423891,0.012930826283991,0.025836369022727,0.037529803812504,-0.014803360216320,0.031694911420345,-0.058057431131601,-0.062772840261459));
res += mul(Get(s0,0,dy), float4x4(0.139948233962059,0.085613973438740,0.093149997293949,0.059641495347023,0.040959913283587,0.045450706034899,0.064309753477573,-0.132175788283348,-0.029505820944905,0.168462693691254,-0.150916889309883,0.064104810357094,-0.129158392548561,0.038333039730787,0.007033726666123,0.175423309206963));
res += mul(Get(s0,dx,-dy), float4x4(-0.018757235258818,-0.084276117384434,0.249478965997696,0.051171459257603,-0.027496304363012,0.010364448651671,0.102438762784004,0.122538797557354,-0.228304460644722,0.088893324136734,0.003130491357297,0.110247701406479,0.216363668441772,0.101444296538830,0.136224925518036,0.155474543571472));
res += mul(Get(s0,dx,0), float4x4(0.003438769839704,-0.062908537685871,-0.048836596310139,-0.048577055335045,0.032277718186378,0.103906288743019,0.131026819348335,-0.054216373711824,-0.234055414795876,0.027907531708479,0.081859968602657,0.067271798849106,-0.123555846512318,0.077821947634220,0.078065998852253,0.075300440192223));
res += mul(Get(s0,dx,dy), float4x4(0.032347630709410,-0.089199729263783,-0.103124678134918,0.084965378046036,-0.111349508166313,0.098247788846493,0.034173771739006,0.047704037278891,-0.089701652526855,0.036180533468723,0.017136080190539,0.011417927220464,0.007821542210877,-0.026828229427338,-0.020482532680035,0.055154297500849));
res += mul(Get(s1,-dx,-dy), float4x4(0.039430804550648,-0.055887624621391,-0.020714197307825,-0.091680027544498,0.113475248217583,-0.188939541578293,-0.097348660230637,-0.058028791099787,-0.266013145446777,-0.074245363473892,0.086209975183010,0.011380245909095,0.188026607036591,-0.159979730844498,0.101128883659840,0.105842202901840));
res += mul(Get(s1,-dx,0), float4x4(-0.121322147548199,0.149302840232849,-0.052150424569845,-0.252897143363953,0.011296330019832,0.088575288653374,-0.025363333523273,0.070851944386959,-0.067407228052616,-0.084954366087914,-0.119635991752148,0.155267834663391,0.060044787824154,-0.202555239200592,-0.106913194060326,0.019482307136059));
res += mul(Get(s1,-dx,dy), float4x4(0.093514524400234,0.073834069073200,-0.014170289970934,-0.083562321960926,0.064361065626144,-0.174506500363350,0.014091071672738,-0.004335598088801,0.077492482960224,0.088468551635742,-0.055115062743425,-0.190534844994545,0.102807134389877,-0.003089632838964,0.096874348819256,-0.156801685690880));
res += mul(Get(s1,0,-dy), float4x4(-0.053119525313377,0.137656643986702,0.076604485511780,-0.143270328640938,-0.141749575734138,-0.012163156643510,-0.169173628091812,0.193466737866402,-0.003137589432299,0.043304394930601,0.076260358095169,0.044777158647776,0.059359256178141,-0.028443623334169,-0.188825219869614,0.055272474884987));
res += mul(Get(s1,0,0), float4x4(-0.126390546560287,0.173760533332825,0.095705822110176,0.076035909354687,0.126671016216278,-0.029515262693167,-0.048907622694969,-0.088988751173019,0.091727621853352,-0.009039285592735,-0.168308883905411,0.062694497406483,-0.044460795819759,0.142677322030067,-0.076142542064190,-0.052893124520779));
res += mul(Get(s1,0,dy), float4x4(0.018499597907066,0.033530075103045,-0.107760734856129,0.165654465556145,-0.050030633807182,-0.213020637631416,-0.006574814207852,-0.278515189886093,0.046508155763149,-0.041612140834332,-0.123433962464333,-0.145428523421288,0.074556134641171,-0.031573832035065,0.022595889866352,-0.034009322524071));
res += mul(Get(s1,dx,-dy), float4x4(-0.015432368032634,-0.023951211944222,0.161531269550323,0.028168773278594,0.120827659964561,-0.027133919298649,0.037346981465816,0.013775137253106,-0.116258203983307,-0.123521611094475,0.149870991706848,0.101885952055454,0.097983352839947,-0.022053593769670,-0.035853866487741,0.046782746911049));
res += mul(Get(s1,dx,0), float4x4(0.007894639857113,0.012561736628413,0.156057909131050,-0.044010691344738,-0.114951476454735,0.065465159714222,0.073180578649044,-0.106119148433208,0.030407965183258,0.001102739595808,-0.108698695898056,0.219999060034752,0.095448210835457,-0.098225086927414,0.014745763503015,0.080539405345917));
res += mul(Get(s1,dx,dy), float4x4(-0.048691812902689,0.036467485129833,0.037565279752016,-0.105205938220024,0.009405013173819,0.083627715706825,0.110478498041630,0.054064832627773,-0.025471918284893,0.016674989834428,0.082631841301918,-0.008291387930512,-0.031190467998385,0.144552141427994,0.032301269471645,-0.170197665691376));
res += mul(Get(s2,-dx,-dy), float4x4(-0.100696854293346,0.113621577620506,0.122681155800819,0.164923116564751,0.114094078540802,-0.066804856061935,-0.146464750170708,-0.091373637318611,-0.044967681169510,0.083595506846905,0.260392159223557,-0.196218788623810,0.136646240949631,-0.020174374803901,0.064942508935928,-0.079353772103786));
res += mul(Get(s2,-dx,0), float4x4(0.051730677485466,-0.028340948745608,-0.061906892806292,0.070022583007813,-0.000975305330940,-0.116699449717999,-0.004365858621895,0.027755057439208,0.103520989418030,0.005610413383693,0.163841277360916,-0.074842415750027,-0.059236433357000,0.182555481791496,0.043422777205706,-0.290247976779938));
res += mul(Get(s2,-dx,dy), float4x4(-0.125165566802025,-0.067786879837513,0.023978484794497,-0.025269597768784,-0.127490952610970,0.119631908833981,0.086607173085213,-0.029936524108052,0.098447345197201,-0.146434262394905,0.079043805599213,-0.113844804465771,0.059309780597687,-0.076818801462650,-0.057184193283319,-0.227402210235596));
res += mul(Get(s2,0,-dy), float4x4(0.161348238587379,0.099199995398521,0.139707714319229,0.088626109063625,-0.141766011714935,0.014697228558362,0.012902471236885,-0.030396748334169,-0.019821265712380,-0.048869043588638,0.078190214931965,-0.057813778519630,-0.112065181136131,0.104192093014717,0.102773711085320,-0.135841101408005));
res += mul(Get(s2,0,0), float4x4(-0.054848197847605,-0.029388058930635,0.104218348860741,-0.110782936215401,0.056857198476791,0.131246417760849,-0.326056808233261,0.159976631402969,0.176080703735352,-0.084154486656189,-0.063820049166679,0.071482390165329,-0.099792301654816,0.015046898275614,0.052581302821636,0.060905758291483));
res += mul(Get(s2,0,dy), float4x4(0.084726683795452,0.012488568201661,0.031918376684189,0.006022650282830,-0.010949545539916,-0.107044525444508,-0.114598482847214,0.048985831439495,0.135973691940308,0.026016438379884,-0.128298774361610,0.012464743107557,-0.036643411964178,0.111434295773506,-0.037397645413876,-0.065480321645737));
res += mul(Get(s2,dx,-dy), float4x4(0.161971047520638,-0.044259116053581,0.085191778838634,0.070487916469574,-0.165227264165878,-0.112771973013878,0.000232410195167,-0.063474290072918,-0.097073972225189,0.121738485991955,-0.094335772097111,-0.215119421482086,-0.032316371798515,0.008077865466475,-0.000156632391736,0.016583850607276));
res += mul(Get(s2,dx,0), float4x4(-0.135386765003204,0.058793202042580,0.258993476629257,-0.061139002442360,-0.181085780262947,0.006550059188157,0.077408857643604,0.039159830659628,0.062989592552185,0.120740301907063,-0.054425340145826,-0.071214236319065,-0.081838496029377,0.282955080270767,0.033644028007984,-0.048165157437325));
res += mul(Get(s2,dx,dy), float4x4(0.009003484621644,0.277516365051270,0.172188490629196,-0.051650617271662,0.057457827031612,-0.116348534822464,0.198309361934662,-0.198272392153740,0.086748003959656,-0.070850208401680,-0.206571504473686,0.151251018047333,0.028436431661248,0.006008489523083,0.084222778677940,-0.065688252449036));
res += mul(Get(s3,-dx,-dy), float4x4(0.084102429449558,0.069121882319450,-0.182333722710609,0.151684403419495,-0.114048652350903,0.184102997183800,-0.024553399533033,-0.031281892210245,-0.119434244930744,-0.090693749487400,0.179753616452217,-0.131006792187691,-0.090034566819668,0.023531470447779,-0.013110636733472,0.001809344976209));
res += mul(Get(s3,-dx,0), float4x4(-0.066293902695179,-0.115698665380478,-0.050600718706846,-0.151197463274002,-0.011512931436300,-0.122896283864975,-0.061901245266199,-0.202713236212730,0.115843668580055,0.124926403164864,0.097377359867096,0.027814112603664,0.215346768498421,-0.102750688791275,-0.059933457523584,-0.028410464525223));
res += mul(Get(s3,-dx,dy), float4x4(-0.064198635518551,-0.038929726928473,-0.190079629421234,-0.140680477023125,-0.002557154279202,-0.028835240751505,0.080945484340191,-0.041656557470560,0.040356960147619,-0.027833038941026,0.023104615509510,-0.205859258770943,0.155320599675179,-0.030164325609803,0.031299322843552,-0.182696908712387));
res += mul(Get(s3,0,-dy), float4x4(0.124408602714539,0.053300071507692,0.103630319237709,-0.032624844461679,0.009609806351364,-0.061479676514864,-0.149948328733444,-0.092715293169022,-0.103000916540623,0.002416719682515,0.033201884478331,0.011147831566632,0.088344052433968,-0.037151373922825,0.054751954972744,-0.020082881674170));
res += mul(Get(s3,0,0), float4x4(0.043076355010271,-0.243836924433708,-0.147381171584129,0.095014035701752,-0.063439466059208,-0.043994173407555,-0.063352428376675,-0.080649018287659,0.169579356908798,0.119821891188622,-0.088997110724449,-0.063330374658108,-0.040292192250490,0.184051826596260,-0.031338345259428,-0.001199977588840));
res += mul(Get(s3,0,dy), float4x4(-0.057906523346901,0.022634848952293,-0.097665049135685,0.117596335709095,0.011018346063793,0.041206140071154,0.065282076597214,0.148452594876289,-0.219291985034943,0.001890161074698,0.282735526561737,0.032987643033266,-0.010021754540503,-0.094341889023781,-0.124818749725819,-0.115682385861874));
res += mul(Get(s3,dx,-dy), float4x4(-0.133234590291977,-0.065146222710609,-0.062035869807005,-0.210403889417648,0.006832561455667,0.083134889602661,-0.171855583786964,0.118905961513519,-0.041552014648914,-0.215531677007675,-0.045309882611036,-0.120064586400986,0.165484458208084,-0.124458365142345,-0.108876489102840,0.076036252081394));
res += mul(Get(s3,dx,0), float4x4(0.026546189561486,-0.032003022730350,0.142193406820297,0.055785842239857,-0.009113861247897,0.008556598797441,0.012469336390495,0.054721564054489,0.095583103597164,0.079919479787350,-0.244936659932137,-0.017504854127765,0.102054201066494,-0.064920395612717,0.074896156787872,-0.083207681775093));
res += mul(Get(s3,dx,dy), float4x4(-0.052383862435818,0.035098157823086,0.000975932111032,-0.084567554295063,0.010784760117531,-0.097513906657696,-0.041795682162046,-0.125990763306618,0.189511567354202,-0.144241273403168,-0.067739516496658,-0.191508740186691,0.027639871463180,0.080881312489510,0.028301572427154,-0.217152893543243));
return max(float4(0,0,0,0), res);
}
