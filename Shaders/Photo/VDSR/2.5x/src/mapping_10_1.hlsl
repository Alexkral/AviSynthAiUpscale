sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.104315325617790,0.055023260414600,-0.043732032179832,-0.049269817769527,-0.065381534397602,0.050096839666367,-0.054245900362730,-0.020179765298963,0.101609699428082,-0.144699394702911,0.065337359905243,0.184467300772667,0.009926471859217,-0.030757669359446,0.045991700142622,0.022159626707435));
res += mul(Get(s0,-dx,0), float4x4(0.014069434255362,-0.152296215295792,0.174579381942749,-0.043982896953821,0.031426955014467,-0.046775445342064,-0.118428491055965,-0.061201434582472,0.056341174989939,-0.029082110151649,0.046445619314909,0.009755985811353,0.056731414049864,-0.062994338572025,-0.022227602079511,-0.010804987512529));
res += mul(Get(s0,-dx,dy), float4x4(-0.089422687888145,-0.012118702754378,0.129093274474144,0.014555047266185,0.055016104131937,-0.163017794489861,-0.129388257861137,-0.020747801288962,-0.023075204342604,-0.010883148759604,0.014331633225083,0.097646698355675,-0.046574942767620,0.048127152025700,-0.009086832404137,0.017971262335777));
res += mul(Get(s0,0,-dy), float4x4(0.052404556423426,0.193283572793007,-0.109082803130150,-0.087153635919094,0.015400460921228,0.277686506509781,-0.036112308502197,-0.081066377460957,0.058867663145065,-0.053616158664227,0.063479885458946,0.050429340451956,0.144492223858833,0.041392426937819,0.011293165385723,-0.011461053974926));
res += mul(Get(s0,0,0), float4x4(0.099931813776493,0.131812363862991,-0.100264161825180,-0.027961367741227,-0.019450576975942,0.058085497468710,-0.063850402832031,-0.065346583724022,0.031396396458149,0.014484315179288,0.064324326813221,-0.042290754616261,0.160701483488083,-0.054482553154230,-0.004924267530441,0.030336303636432));
res += mul(Get(s0,0,dy), float4x4(-0.014383434318006,-0.074969217181206,0.203767418861389,0.062746182084084,-0.003932594787329,0.081147275865078,-0.053862228989601,0.060755424201488,-0.040119923651218,-0.021429333835840,-0.051329523324966,0.001544481143355,-0.026782166212797,0.010546270757914,0.096033431589603,-0.020962549373507));
res += mul(Get(s0,dx,-dy), float4x4(0.065152764320374,0.019662331789732,-0.044146187603474,-0.109538398683071,0.005311748944223,0.107998654246330,-0.018901441246271,-0.041386432945728,0.011925958096981,-0.068925954401493,-0.045099966228008,0.117955394089222,0.033074870705605,-0.005200716666877,0.067009538412094,-0.043036278337240));
res += mul(Get(s0,dx,0), float4x4(0.179406628012657,-0.040291313081980,0.126027062535286,0.047017011791468,0.000262805813691,-0.083315454423428,0.055247634649277,0.108792990446091,0.033884529024363,-0.059507567435503,-0.063086293637753,0.005173742771149,0.085260607302189,0.012414569966495,0.159614399075508,-0.029425749555230));
res += mul(Get(s0,dx,dy), float4x4(-0.066077068448067,0.077913790941238,-0.076361052691936,-0.022471733391285,0.020108262076974,-0.002927581546828,0.080541551113129,0.060661397874355,-0.006431351415813,-0.128495916724205,-0.191642612218857,-0.037685427814722,0.057634659111500,0.067853398621082,-0.010056970641017,-0.048926688730717));
res += mul(Get(s1,-dx,-dy), float4x4(-0.148293539881706,0.063031949102879,0.002345976419747,-0.048828195780516,0.083738937973976,-0.040679566562176,-0.086202964186668,-0.029089359566569,-0.011837509460747,0.043721154332161,-0.006992076989263,0.012955286540091,0.088429287075996,-0.002385748550296,-0.038503315299749,0.072925411164761));
res += mul(Get(s1,-dx,0), float4x4(-0.004119538702071,0.010708034038544,-0.088363051414490,0.000820837158244,-0.008048473857343,0.057679262012243,-0.043735343962908,-0.065008945763111,0.037667784839869,0.031091252341866,-0.024047421291471,-0.034426283091307,0.116199515759945,0.050693314522505,-0.061306346207857,0.025984693318605));
res += mul(Get(s1,-dx,dy), float4x4(0.008588822558522,-0.057987418025732,-0.039785619825125,-0.059792354702950,-0.030927211046219,-0.002588525880128,-0.010331196710467,-0.036773107945919,-0.087027862668037,0.012695427983999,0.034190412610769,-0.034416206181049,0.109348848462105,-0.030722089111805,-0.047961778938770,0.046046353876591));
res += mul(Get(s1,0,-dy), float4x4(-0.028930788859725,-0.050368402153254,0.004380822647363,-0.080784201622009,-0.014323434792459,-0.104092784225941,-0.117790222167969,0.045301649719477,0.028851557523012,-0.021617816761136,0.008389870636165,0.030488887801766,-0.064014159142971,0.047185346484184,0.010458596982062,-0.110806941986084));
res += mul(Get(s1,0,0), float4x4(0.042556010186672,0.170752272009850,-0.101392775774002,-0.000994254834950,-0.062905363738537,-0.042059175670147,-0.003377356333658,0.117004401981831,0.088499873876572,0.064929403364658,-0.001110980287194,-0.059763632714748,-0.024844259023666,0.007634030655026,0.006790733430535,-0.057061966508627));
res += mul(Get(s1,0,dy), float4x4(-0.015435754321516,-0.017061833292246,-0.141104280948639,0.041717614978552,-0.018444402143359,-0.005344234406948,-0.076865874230862,0.052695989608765,-0.075900286436081,-0.035809461027384,0.067863307893276,0.049985609948635,-0.109911829233170,-0.048278745263815,0.086044996976852,-0.073977351188660));
res += mul(Get(s1,dx,-dy), float4x4(-0.129533916711807,-0.115310408174992,0.046457152813673,-0.111555024981499,0.067761823534966,0.029289452359080,-0.054523445665836,-0.042713433504105,0.003829831723124,0.006995381787419,0.007349904160947,-0.012412712909281,-0.039146404713392,0.046415876597166,0.030421225354075,-0.101049937307835));
res += mul(Get(s1,dx,0), float4x4(-0.101399697363377,-0.044992104172707,0.068280704319477,-0.016346519812942,0.010646756738424,-0.026277171447873,-0.049951203167439,-0.053275834769011,-0.005213910248131,0.089548289775848,-0.039442643523216,-0.030691513791680,-0.031303226947784,0.028718953952193,0.029733978211880,0.036338564008474));
res += mul(Get(s1,dx,dy), float4x4(-0.137373417615891,0.023659748956561,-0.005470616742969,0.102627746760845,0.025347305461764,-0.032304752618074,-0.081888623535633,-0.119791291654110,-0.004050319083035,0.036990467458963,0.069762103259563,0.001816060859710,-0.050764463841915,-0.088321104645729,0.039811380207539,0.047668840736151));
res += mul(Get(s2,-dx,-dy), float4x4(-0.135155186057091,0.004162892233580,-0.198011219501495,-0.070644326508045,0.132055789232254,0.012163387611508,-0.113059967756271,0.025713933631778,0.143299981951714,0.071140244603157,0.043701753020287,-0.150297701358795,-0.055662844330072,-0.024394834414124,0.010477163828909,-0.026173682883382));
res += mul(Get(s2,-dx,0), float4x4(-0.111479945480824,-0.027897737920284,-0.098374478518963,-0.066051833331585,0.083510853350163,0.114376768469810,-0.117127239704132,0.007416645064950,-0.087811142206192,-0.133232504129410,0.036159072071314,-0.049908615648746,0.060320604592562,-0.042407020926476,-0.122048139572144,0.118023432791233));
res += mul(Get(s2,-dx,dy), float4x4(0.112599149346352,-0.043675415217876,-0.154529049992561,-0.013872066512704,0.017235076054931,-0.011914744041860,-0.089795812964439,-0.012164056301117,-0.115164183080196,-0.058646425604820,0.195011943578720,0.080469816923141,-0.006801143288612,-0.006166489794850,-0.064600989222527,0.075047381222248));
res += mul(Get(s2,0,-dy), float4x4(-0.159650772809982,-0.076527744531631,-0.106289237737656,0.290793418884277,0.089000634849072,-0.033961769193411,-0.107440657913685,-0.022550282999873,0.274498611688614,0.063082054257393,0.006848709192127,-0.053509160876274,0.083694696426392,-0.104529261589050,-0.133567571640015,0.088772095739841));
res += mul(Get(s2,0,0), float4x4(-0.081265345215797,-0.091922886669636,-0.009632733650506,-0.008946249261498,-0.072887010872364,0.163155362010002,-0.059597846120596,-0.093301706016064,-0.103228524327278,-0.070862881839275,0.088328398764133,-0.046611934900284,0.071760967373848,-0.040001675486565,-0.084512464702129,0.077497348189354));
res += mul(Get(s2,0,dy), float4x4(0.198294579982758,-0.077075384557247,-0.056741453707218,-0.090135924518108,-0.045929204672575,0.186174884438515,-0.048903368413448,0.035848092287779,0.031134130433202,-0.033094249665737,0.133023992180824,-0.025419946759939,0.170971244573593,-0.042910613119602,-0.026389235630631,-0.035643212497234));
res += mul(Get(s2,dx,-dy), float4x4(-0.151943802833557,-0.067795038223267,-0.150097399950027,0.049249082803726,-0.002422141609713,-0.036477603018284,-0.127806365489960,0.258025437593460,0.069615997374058,0.009369038045406,0.000080363184679,0.009657774120569,0.010033097118139,-0.034259449690580,-0.037934646010399,-0.097721040248871));
res += mul(Get(s2,dx,0), float4x4(-0.167287543416023,-0.171452075242996,-0.037669196724892,-0.037712279707193,-0.006652565672994,0.007603743579239,-0.085723601281643,-0.030958864837885,-0.054592490196228,0.067699998617172,-0.064416371285915,0.032608691602945,-0.029837464913726,-0.057783026248217,0.009030323475599,0.060263752937317));
res += mul(Get(s2,dx,dy), float4x4(-0.059718258678913,-0.181952401995659,-0.139675706624985,0.043586302548647,-0.009081084281206,-0.006817645393312,-0.141890048980713,0.006259414833039,-0.010712771676481,0.033331841230392,0.063461959362030,0.022069031372666,-0.072898171842098,-0.009354837238789,0.075614608824253,0.028795525431633));
res += mul(Get(s3,-dx,-dy), float4x4(0.053428199142218,-0.042784366756678,0.053586900234222,-0.009852521121502,0.162027209997177,-0.057457514107227,0.072939246892929,-0.003655499545857,-0.051910124719143,-0.057060148566961,0.017117196694016,0.005342272110283,-0.056169785559177,0.009993091225624,-0.082673437893391,0.003435723949224));
res += mul(Get(s3,-dx,0), float4x4(-0.057014010846615,-0.061163172125816,0.066014245152473,0.033045209944248,-0.056388635188341,-0.056897398084402,0.066351391375065,0.051726296544075,-0.049820728600025,-0.051607660949230,0.018132725730538,-0.037936240434647,0.023767484351993,-0.003814728464931,0.225278824567795,0.031604398041964));
res += mul(Get(s3,-dx,dy), float4x4(0.104955777525902,-0.098148070275784,0.088571444153786,0.013526570051908,-0.011816529557109,0.036091681569815,-0.042191550135612,-0.005165054928511,-0.034374181181192,-0.037989761680365,-0.071545705199242,0.011545046232641,-0.036226507276297,-0.090141214430332,0.053936939686537,0.083534270524979));
res += mul(Get(s3,0,-dy), float4x4(-0.105169817805290,-0.030964680016041,0.177455902099609,-0.051821883767843,0.114517360925674,0.060110185295343,0.058577999472618,-0.051732931286097,-0.075185902416706,-0.013127624057233,0.120963215827942,-0.058361336588860,0.006992797832936,0.005265743937343,0.104272365570068,-0.013233209028840));
res += mul(Get(s3,0,0), float4x4(-0.050820279866457,0.003975323867053,0.023002443835139,0.002087629400194,0.013693870045245,-0.065051667392254,0.079012133181095,0.018083561211824,-0.056057110428810,-0.025039082393050,-0.104627110064030,-0.052058089524508,0.045633863657713,0.022904388606548,0.086132384836674,-0.053007207810879));
res += mul(Get(s3,0,dy), float4x4(0.103146746754646,0.030431944876909,0.032638616859913,-0.046237006783485,0.018533149734139,-0.085523247718811,0.021834380924702,0.090652488172054,-0.014904341660440,0.054241191595793,-0.017333002761006,0.014995424076915,-0.022511519491673,0.072844624519348,0.023453772068024,0.024380199611187));
res += mul(Get(s3,dx,-dy), float4x4(-0.060486987233162,0.126751169562340,0.006760904099792,0.033675651997328,0.178853303194046,-0.042524185031652,0.028287779539824,0.129930764436722,-0.021901499480009,0.060003604739904,0.104100912809372,-0.150541111826897,-0.059798967093229,-0.061946712434292,0.019896999001503,-0.077158257365227));
res += mul(Get(s3,dx,0), float4x4(-0.042965888977051,0.014900311827660,0.115997888147831,0.009951055981219,0.040593229234219,0.001366083277389,0.160271972417831,0.184302970767021,-0.050895046442747,0.017375279217958,0.104625098407269,-0.044671021401882,-0.076685853302479,0.155966594815254,-0.102134317159653,-0.005576873663813));
res += mul(Get(s3,dx,dy), float4x4(-0.018032729625702,0.091776207089424,0.149314597249031,0.127884909510612,-0.031801514327526,0.017557904124260,0.011815746314824,0.001611472573131,-0.066004790365696,-0.022291913628578,-0.045080881565809,-0.131429061293602,-0.118666999042034,0.084029592573643,-0.096731662750244,-0.079485028982162));
return max(float4(0,0,0,0), res);
}
