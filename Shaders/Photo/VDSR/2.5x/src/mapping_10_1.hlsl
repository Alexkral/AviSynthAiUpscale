sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.142944559454918,0.137097492814064,0.056815460324287,-0.054439961910248,-0.129849746823311,0.183966785669327,-0.004202000331134,-0.125551685690880,-0.124376066029072,-0.039407476782799,0.030302608385682,-0.015785275027156,-0.134311854839325,-0.149146616458893,-0.145787820219994,-0.127006798982620));
res += mul(Get(s0,-dx,0), float4x4(0.130553215742111,-0.020652534440160,-0.228845164179802,-0.166541591286659,-0.003121448680758,0.103701271116734,-0.153648421168327,0.005057006608695,0.006239850074053,-0.017638698220253,-0.111636944115162,0.033576473593712,0.168138191103935,-0.008430935442448,0.192819625139236,-0.138935595750809));
res += mul(Get(s0,-dx,dy), float4x4(-0.057913094758987,0.111919894814491,0.089093931019306,-0.031976390630007,0.038668740540743,0.000343438034179,-0.064223982393742,0.104890584945679,0.025942414999008,0.146479561924934,-0.086843945086002,0.015439658425748,-0.203815057873726,-0.035059385001659,0.095988593995571,0.165539234876633));
res += mul(Get(s0,0,-dy), float4x4(-0.086804047226906,-0.056279432028532,0.044507581740618,-0.056765284389257,-0.036664713174105,0.100893937051296,0.060162324458361,-0.010541292838752,-0.138541087508202,-0.022052023559809,-0.106314077973366,0.152490213513374,0.096085883677006,-0.042442660778761,-0.017576511949301,0.133123978972435));
res += mul(Get(s0,0,0), float4x4(0.096776157617569,0.173784330487251,-0.034124985337257,0.106420844793320,-0.015541126951575,0.022003030404449,-0.144561380147934,0.107779264450073,-0.068040356040001,0.048239424824715,0.007203167304397,0.129685670137405,0.052269708365202,0.017438212409616,-0.098287992179394,0.048502128571272));
res += mul(Get(s0,0,dy), float4x4(0.078761383891106,0.012675535865128,0.099511310458183,0.097518131136894,-0.029733993113041,0.012464949861169,-0.044235438108444,0.128166630864143,0.156873211264610,0.137202754616737,0.019389096647501,-0.047248177230358,0.048160258680582,0.023994976654649,0.001694719539955,-0.132216691970825));
res += mul(Get(s0,dx,-dy), float4x4(-0.012147184461355,0.078081704676151,-0.022094529122114,0.087065018713474,-0.043297789990902,0.067649781703949,0.077001854777336,0.093587823212147,-0.118018493056297,-0.094249270856380,-0.184812009334564,-0.013576075434685,0.199802979826927,0.041467417031527,0.110318154096603,0.031910326331854));
res += mul(Get(s0,dx,0), float4x4(-0.016407772898674,-0.080708920955658,0.215336531400681,-0.064678862690926,-0.080773212015629,0.013312730938196,-0.008173166774213,0.099119640886784,0.213577464222908,-0.139730736613274,-0.150156468153000,-0.024068424478173,-0.083948388695717,-0.248186081647873,0.024908222258091,-0.099438086152077));
res += mul(Get(s0,dx,dy), float4x4(-0.173609241843224,0.051615662872791,-0.014127608388662,0.032102469354868,-0.013738899491727,0.074753850698471,-0.168849632143974,0.033559009432793,0.143365710973740,-0.092342950403690,-0.058856703341007,-0.016766639426351,0.040416412055492,-0.091120503842831,0.058776620775461,-0.007228450849652));
res += mul(Get(s1,-dx,-dy), float4x4(-0.081677056849003,0.090997867286205,-0.010596986860037,0.154080539941788,0.080974288284779,-0.004547333810478,-0.039214100688696,-0.041246861219406,-0.142496094107628,0.182427883148193,0.119100496172905,0.019555089995265,0.172636523842812,-0.016969563439488,0.107141435146332,-0.009093031287193));
res += mul(Get(s1,-dx,0), float4x4(-0.108932539820671,0.210717827081680,0.044950623065233,-0.071721114218235,0.001888225204311,0.123531043529510,0.128585457801819,-0.136119678616524,0.100982747972012,0.121017105877399,0.003708010073751,0.117088094353676,-0.015549203380942,0.086534559726715,-0.047138977795839,-0.238652348518372));
res += mul(Get(s1,-dx,dy), float4x4(-0.216925621032715,0.029514268040657,-0.055132143199444,0.059852510690689,0.115241028368473,0.080247066915035,0.004516701214015,-0.171206876635551,0.002352247713134,0.001503570121713,-0.021655086427927,-0.146788582205772,0.169704243540764,-0.029646310955286,-0.089010320603848,0.102836206555367));
res += mul(Get(s1,0,-dy), float4x4(0.088707596063614,-0.069715887308121,-0.268450826406479,0.037126239389181,-0.204146280884743,0.224261149764061,0.142274990677834,0.201057970523834,-0.094902679324150,-0.049380272626877,-0.045152954757214,0.092619888484478,0.020419176667929,0.074756123125553,-0.120603501796722,-0.085595235228539));
res += mul(Get(s1,0,0), float4x4(0.053551506251097,-0.029866063967347,-0.001778023550287,0.003959452267736,-0.028870290145278,0.058214042335749,-0.036792457103729,0.003631718689576,0.111681587994099,0.136412173509598,0.089995644986629,-0.144298672676086,0.040556330233812,-0.078957967460155,0.104387506842613,-0.026946552097797));
res += mul(Get(s1,0,dy), float4x4(0.029880080372095,0.085520863533020,-0.174657672643661,-0.147474661469460,-0.115540109574795,0.071310855448246,-0.040188055485487,0.201632633805275,-0.071703739464283,-0.083461500704288,0.121201008558273,0.027074957266450,-0.032625280320644,-0.205478325486183,0.106924295425415,-0.020204611122608));
res += mul(Get(s1,dx,-dy), float4x4(0.112822689116001,-0.158494338393211,0.308167427778244,0.020543506368995,-0.175254642963409,-0.179120287299156,0.053172275424004,0.054778017103672,-0.039526611566544,0.063779495656490,0.110224023461342,0.103635877370834,0.030678814277053,-0.194503292441368,-0.033524159342051,0.122718572616577));
res += mul(Get(s1,dx,0), float4x4(0.033517889678478,0.124096371233463,0.091119647026062,-0.028449278324842,-0.129590049386024,0.015666402876377,0.095416493713856,-0.136671841144562,0.025319682434201,0.037289153784513,-0.005089721642435,-0.095528967678547,-0.039462104439735,-0.114647492766380,-0.047840163111687,-0.151731804013252));
res += mul(Get(s1,dx,dy), float4x4(0.035531908273697,0.020500672981143,0.033169537782669,0.047814514487982,0.076906807720661,-0.127226322889328,-0.038324989378452,-0.098059698939323,-0.020045343786478,-0.069175556302071,-0.025163646787405,-0.251236081123352,-0.001651016296819,0.086844094097614,0.044037822633982,0.019130019471049));
res += mul(Get(s2,-dx,-dy), float4x4(-0.060715265572071,0.069722108542919,-0.068026594817638,0.363506197929382,0.289290994405746,0.238852590322495,-0.044139225035906,-0.127918645739555,0.155260354280472,0.167908176779747,0.026064202189445,-0.025605699047446,0.205212146043777,-0.020122811198235,-0.081892304122448,-0.030997915193439));
res += mul(Get(s2,-dx,0), float4x4(0.122050948441029,-0.100923977792263,-0.041532363742590,0.069484665989876,-0.086875662207603,-0.094736307859421,-0.179818555712700,-0.175391972064972,-0.028094438835979,-0.093995638191700,0.220147341489792,-0.156882002949715,0.028615146875381,-0.126233339309692,-0.005203157197684,-0.008091843686998));
res += mul(Get(s2,-dx,dy), float4x4(-0.093877613544464,-0.047036707401276,-0.019395533949137,0.011464467272162,0.026116371154785,-0.099522940814495,-0.034023355692625,0.025499057024717,0.098887279629707,-0.116055674850941,0.187146782875061,-0.046149559319019,-0.047872111201286,0.031404700130224,-0.134298890829086,0.063999459147453));
res += mul(Get(s2,0,-dy), float4x4(-0.108311459422112,-0.111973099410534,-0.065363734960556,0.135991290211678,-0.138867989182472,0.136002466082573,-0.116886734962463,0.097815893590450,0.068511754274368,0.100251555442810,-0.023194784298539,0.162402689456940,-0.046992640942335,-0.049440544098616,-0.119434058666229,0.076722629368305));
res += mul(Get(s2,0,0), float4x4(0.027443302795291,-0.123971834778786,-0.093113631010056,0.140480160713196,0.016170030459762,0.147091031074524,-0.007697890978307,0.005722721107304,0.120404928922653,0.003016276517883,-0.093795284628868,-0.073434367775917,0.172618195414543,0.137241080403328,-0.080693520605564,-0.098107956349850));
res += mul(Get(s2,0,dy), float4x4(0.023307532072067,0.023075614124537,0.124103337526321,-0.172836512327194,0.011160539463162,0.009084861725569,-0.005304568447173,0.045447848737240,0.088973797857761,-0.155418276786804,0.162450224161148,-0.191709220409393,0.117108039557934,0.028082652017474,0.063987687230110,0.133116737008095));
res += mul(Get(s2,dx,-dy), float4x4(-0.039169006049633,-0.069368220865726,0.130708247423172,0.068186067044735,-0.200357869267464,0.072793617844582,0.031117185950279,0.254202902317047,0.032472383230925,0.079021252691746,-0.007989618927240,-0.022555641829967,-0.104253545403481,0.013529632240534,-0.052021507173777,0.047756019979715));
res += mul(Get(s2,dx,0), float4x4(-0.056547757238150,-0.149659648537636,-0.245031520724297,0.074927896261215,-0.144173622131348,-0.076065264642239,0.170393243432045,0.017762601375580,0.023679196834564,-0.025007510557771,-0.030622744932771,-0.050600122660398,-0.015221310779452,0.056635618209839,-0.019810736179352,-0.113121151924133));
res += mul(Get(s2,dx,dy), float4x4(-0.127815157175064,-0.147672966122627,0.022815080359578,0.019096838310361,-0.018789177760482,0.187436923384666,-0.143611878156662,-0.004550594370812,0.000119557073049,-0.066691704094410,-0.032603494822979,0.032744515687227,-0.088261097669601,-0.043877873569727,0.034029886126518,0.009207072667778));
res += mul(Get(s3,-dx,-dy), float4x4(-0.078841015696526,-0.016795741394162,-0.156385868787766,0.106839120388031,0.037444185465574,0.030397539958358,0.057989023625851,0.236752599477768,-0.084246560931206,-0.192091166973114,0.085696339607239,-0.090489998459816,-0.116066284477711,-0.156403258442879,-0.068277515470982,0.037286069244146));
res += mul(Get(s3,-dx,0), float4x4(-0.016733568161726,-0.055029261857271,-0.049763143062592,0.212849944829941,-0.142845705151558,0.052781701087952,0.005037936847657,0.055985268205404,-0.140440016984940,-0.054300118237734,0.241528093814850,-0.072341881692410,0.039403788745403,0.049069285392761,0.138476729393005,-0.025937961414456));
res += mul(Get(s3,-dx,dy), float4x4(-0.072216950356960,0.136594235897064,0.042417675256729,-0.081077814102173,-0.085343979299068,-0.080163627862930,-0.286986827850342,-0.036498300731182,-0.061435863375664,-0.068036995828152,0.053168162703514,-0.205587103962898,-0.044886481016874,0.095670998096466,-0.087034054100513,-0.183835089206696));
res += mul(Get(s3,0,-dy), float4x4(-0.036117609590292,0.074304655194283,0.059848386794329,-0.140889778733253,-0.116718173027039,0.092383295297623,-0.100854441523552,0.116400629281998,0.127879828214645,-0.024948410689831,0.054336011409760,0.056732684373856,0.047272872179747,0.130636796355247,-0.082747913897038,-0.007508184760809));
res += mul(Get(s3,0,0), float4x4(-0.083906315267086,0.178653940558434,-0.127959743142128,-0.009852924384177,-0.314661115407944,-0.045777194201946,0.222079232335091,0.077702477574348,0.043846335262060,0.078334502875805,-0.039723597466946,-0.080700807273388,-0.089141845703125,0.024576203897595,-0.004376599565148,0.018149429932237));
res += mul(Get(s3,0,dy), float4x4(0.043435268104076,0.109616242349148,-0.027758717536926,-0.004570003133267,0.028892302885652,-0.027690850198269,-0.029268100857735,0.079382561147213,-0.058007400482893,0.109109885990620,-0.043783843517303,0.011541353538632,0.114704646170139,0.016101509332657,0.145542249083519,-0.084319636225700));
res += mul(Get(s3,dx,-dy), float4x4(-0.025157598778605,-0.112125374376774,0.025788094848394,-0.031267620623112,0.062748782336712,-0.021617036312819,0.131571814417839,-0.030679492279887,-0.163904592394829,-0.230298787355423,-0.091220743954182,-0.069064930081367,-0.084220409393311,0.082525387406349,-0.119078494608402,-0.123998463153839));
res += mul(Get(s3,dx,0), float4x4(-0.117160625755787,-0.042310461401939,0.150930017232895,-0.040784623473883,0.145275399088860,-0.054852638393641,0.159526064991951,-0.027152739465237,0.084637522697449,0.193566009402275,-0.030064335092902,0.004863034468144,0.010783825069666,0.323747366666794,-0.252762377262115,0.016853606328368));
res += mul(Get(s3,dx,dy), float4x4(0.085384942591190,0.022860417142510,0.024334901943803,0.004621734376997,0.214811593294144,-0.074872165918350,0.041710875928402,-0.053123470395803,-0.031368166208267,0.086074702441692,0.172384500503540,0.088216029107571,-0.058260053396225,-0.030610745772719,-0.050025872886181,0.191567167639732));
return max(float4(0,0,0,0), res);
}
