sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.011015908792615,-0.051050547510386,-0.015258376486599,-0.054653193801641,-0.016601093113422,-0.063619121909142,0.011890897527337,-0.089083410799503,-0.039575133472681,-0.053694359958172,0.068367332220078,-0.109327346086502,-0.042305778712034,-0.194717273116112,-0.027747951447964,-0.018938526511192));
res += mul(Get(s0,-dx,0), float4x4(-0.047862473875284,-0.078732542693615,0.017781786620617,-0.056707620620728,0.008542823605239,0.009029750712216,0.020595228299499,-0.047259967774153,-0.019523363560438,-0.039614085108042,0.082528792321682,-0.093044817447662,0.022817235440016,-0.123938426375389,-0.007458632346243,0.005905640777200));
res += mul(Get(s0,-dx,dy), float4x4(-0.006465096026659,-0.036664504557848,0.088506132364273,0.023167250677943,0.241067573428154,0.137178376317024,-0.046013250946999,0.045596919953823,0.050077930092812,0.034116540104151,0.080007188022137,-0.075540572404861,0.054166875779629,-0.071055255830288,0.013782250694931,-0.068694867193699));
res += mul(Get(s0,0,-dy), float4x4(-0.024593383073807,-0.091828234493732,-0.039502996951342,-0.102775566279888,-0.116853028535843,0.026778491213918,-0.002974868286401,-0.080866307020187,-0.032664798200130,0.023815417662263,0.082509502768517,-0.020495468750596,-0.035343747586012,0.088908798992634,-0.002555584535003,0.023095430806279));
res += mul(Get(s0,0,0), float4x4(-0.037584029138088,-0.078739501535892,-0.025397604331374,-0.052151188254356,-0.103883147239685,0.113834418356419,-0.009700706228614,-0.107810929417610,0.075947828590870,-0.020311772823334,0.033903691917658,0.014465249143541,0.009427507407963,0.065191522240639,0.065744318068027,0.057608041912317));
res += mul(Get(s0,0,dy), float4x4(-0.005606712773442,-0.001226828666404,0.041671022772789,0.041189260780811,-0.025033529847860,0.109717532992363,-0.039093732833862,-0.030298724770546,0.055557891726494,-0.031235855072737,0.023477600887418,-0.004954106640071,0.050940319895744,0.075069986283779,0.092356964945793,-0.025217514485121));
res += mul(Get(s0,dx,-dy), float4x4(0.003390337806195,-0.064647302031517,0.003782330313697,-0.032290484756231,-0.025753686204553,0.060666028410196,-0.033599726855755,0.162639632821083,-0.043114237487316,0.089698754251003,0.086680293083191,-0.067893758416176,-0.036945078521967,-0.020082959905267,0.041925247758627,0.155275210738182));
res += mul(Get(s0,dx,0), float4x4(-0.034136004745960,-0.058256566524506,-0.002439418807626,0.033074919134378,-0.013537357561290,-0.089605659246445,0.041751384735107,0.063328884541988,0.016200346872211,0.014932770282030,0.023293199017644,-0.052746422588825,-0.068938113749027,0.060276322066784,0.040191724896431,0.208065360784531));
res += mul(Get(s0,dx,dy), float4x4(-0.002632235642523,0.023932799696922,0.001329655293375,0.004289025440812,-0.193971857428551,0.058651834726334,0.051672939211130,0.023518931120634,-0.022017860785127,-0.060497179627419,-0.038645219057798,0.005974494386464,-0.068707928061485,0.066503599286079,0.037398952990770,0.119503512978554));
res += mul(Get(s1,-dx,-dy), float4x4(-0.041115507483482,-0.229465290904045,-0.128991201519966,0.217435121536255,0.000794100225903,-0.005919038318098,0.002262238645926,-0.041255600750446,-0.045911677181721,0.099395751953125,-0.056341465562582,0.042712576687336,0.028274364769459,-0.005958375521004,0.030395461246371,-0.099137254059315));
res += mul(Get(s1,-dx,0), float4x4(0.012592718005180,0.385917812585831,-0.318507164716721,0.753344476222992,-0.006719208788127,-0.002608891809359,0.012060871347785,-0.039277836680412,0.028507040813565,-0.007787315640599,-0.052093748003244,-0.068137899041176,0.003135793842375,0.008210624568164,0.025305550545454,0.013435984030366));
res += mul(Get(s1,-dx,dy), float4x4(-0.020477239042521,0.421444714069366,-0.159371763467789,0.106960967183113,-0.002574848942459,-0.001433672965504,-0.003978411201388,-0.040013093501329,0.099368922412395,-0.029800239950418,-0.040213052183390,0.023926204070449,-0.001447027549148,0.026048209518194,0.028837818652391,0.033297233283520));
res += mul(Get(s1,0,-dy), float4x4(-0.094589486718178,-0.145870745182037,0.154191210865974,-0.144926607608795,-0.011889683082700,-0.015927504748106,0.009318702854216,0.001438308390789,0.046285606920719,-0.009151962585747,-0.016670675948262,0.079846791923046,-0.026765955612063,-0.039886184036732,0.074760027229786,-0.151564687490463));
res += mul(Get(s1,0,0), float4x4(0.071844018995762,-0.336188733577728,0.272443950176239,-0.391923040151596,-0.007214067969471,-0.011740425601602,0.017815308645368,-0.014573683962226,0.000737606722396,0.024384004995227,-0.084565289318562,0.055974122136831,0.003764963708818,-0.000043731150072,0.061994239687920,-0.117543876171112));
res += mul(Get(s1,0,dy), float4x4(0.202286154031754,0.119113080203533,0.110028505325317,-0.239073574542999,0.002136172261089,-0.008412148803473,0.017354968935251,-0.017789669334888,-0.039079099893570,-0.014214444905519,-0.070833139121532,0.067739062011242,0.007183067034930,-0.016903219744563,0.034296378493309,-0.100303590297699));
res += mul(Get(s1,dx,-dy), float4x4(0.144685864448547,0.000302647968056,-0.052183352410793,-0.104791000485420,0.016189802438021,0.000539921515156,-0.000120684271678,0.016745680943131,0.033695276826620,-0.012592636048794,-0.016440670937300,0.033993631601334,0.006145465187728,-0.001331708161160,0.050968490540981,-0.039273630827665));
res += mul(Get(s1,dx,0), float4x4(0.057560227811337,-0.093086212873459,-0.054828703403473,-0.299914509057999,0.017332408577204,0.012602974660695,0.004290658980608,0.019497722387314,-0.079875215888023,0.073715828359127,0.047481480985880,-0.044649850577116,0.042646475136280,0.028242763131857,0.036653824150562,-0.010250887833536));
res += mul(Get(s1,dx,dy), float4x4(-0.037278167903423,-0.116495601832867,0.059741437435150,0.017341241240501,0.024252587929368,0.014709980227053,0.009399381466210,0.011841529048979,-0.048917584121227,0.021505158394575,0.040210332721472,0.018288943916559,0.045048769563437,0.024154329672456,0.003709208220243,-0.007317797746509));
res += mul(Get(s2,-dx,-dy), float4x4(0.050598945468664,0.032412059605122,0.017833303660154,-0.018893528729677,-0.006217135582119,-0.028939153999090,-0.016021043062210,-0.040702980011702,-0.120551533997059,-0.091839820146561,-0.036256454885006,-0.152459561824799,0.039213161915541,0.003452311269939,-0.046264562755823,0.056628648191690));
res += mul(Get(s2,-dx,0), float4x4(0.037354703992605,0.018378378823400,0.019921101629734,-0.016905885189772,0.042938824743032,0.008096504956484,0.000598224869464,0.000597848382313,-0.042666226625443,-0.037532888352871,0.199958235025406,-0.119403742253780,-0.029650239273906,0.005233618430793,0.029491906985641,0.209355413913727));
res += mul(Get(s2,-dx,dy), float4x4(0.007422755938023,-0.026790581643581,0.012748527340591,-0.031891223043203,0.064542025327682,-0.014132922515273,-0.014523157849908,0.001614766079001,-0.035770788788795,-0.188301295042038,0.066950201988220,-0.193553283810616,-0.111575186252594,-0.081666529178619,0.004078774712980,0.190645694732666));
res += mul(Get(s2,0,-dy), float4x4(0.039225835353136,0.002719697309658,-0.002373612252995,-0.029820032417774,-0.043357659131289,-0.028239209204912,-0.014355201274157,-0.068963520228863,-0.127421393990517,-0.154167830944061,-0.104800865054131,-0.002883028704673,0.036869581788778,0.026512242853642,-0.041781142354012,0.031472809612751));
res += mul(Get(s2,0,0), float4x4(0.009969562292099,-0.002782570896670,0.007218184880912,-0.017203079536557,0.045258440077305,0.011909890919924,-0.004572989419103,-0.022004023194313,-0.012738721445203,-0.130317553877831,0.079708740115166,-0.010414921678603,-0.028538979589939,-0.027949823066592,0.033037614077330,0.093300588428974));
res += mul(Get(s2,0,dy), float4x4(-0.037078890949488,-0.090898409485817,0.001244613202289,-0.029731927439570,0.033940896391869,-0.017733428627253,-0.011781578883529,-0.013656841591001,-0.072468601167202,-0.092005655169487,0.025422671809793,-0.034558221697807,-0.051959406584501,-0.115133896470070,0.001594041823409,0.154182597994804));
res += mul(Get(s2,dx,-dy), float4x4(0.037969712167978,0.051660105586052,-0.010038636624813,-0.033613238483667,-0.047723196446896,-0.032247684895992,0.012987961992621,-0.055757451802492,-0.141568616032600,0.094707749783993,-0.082906387746334,0.069911092519760,0.047824297100306,0.016836781054735,-0.019244873896241,-0.024583823978901));
res += mul(Get(s2,dx,0), float4x4(0.010119355283678,0.019814422354102,0.014949172735214,-0.000624120526481,0.030337842181325,0.015348956920207,0.002719624433666,0.005585868377239,-0.059970725327730,-0.099262401461601,0.023233104497194,-0.164348125457764,0.016071256250143,-0.032585080713034,0.051583681255579,-0.117838673293591));
res += mul(Get(s2,dx,dy), float4x4(-0.023597089573741,-0.059427849948406,-0.008857789449394,0.000032693802495,0.001802269835025,-0.011723656207323,0.002829402917996,0.022094767540693,-0.034951359033585,0.095046974718571,-0.054065927863121,-0.003389941761270,0.018933927640319,-0.131219580769539,0.050215236842632,0.035048149526119));
res += mul(Get(s3,-dx,-dy), float4x4(-0.095411151647568,-0.051824409514666,-0.039920251816511,0.136921599507332,-0.147524490952492,-0.013958739116788,0.133353531360626,0.052705187350512,0.042882274836302,0.087389171123505,-0.166253775358200,0.131994307041168,0.105090975761414,0.003185015404597,-0.101202435791492,-0.189525157213211));
res += mul(Get(s3,-dx,0), float4x4(-0.021678747609258,0.001473776064813,0.088502064347267,-0.085192516446114,0.127844884991646,0.238601729273796,-0.047955568879843,0.522399425506592,0.104048863053322,0.204787477850914,-0.111272230744362,0.265740573406219,-0.020732330158353,-0.256535053253174,0.080366678535938,-0.061484437435865));
res += mul(Get(s3,-dx,dy), float4x4(0.027592252939939,-0.035489760339260,-0.003458163933828,0.205815240740776,0.052215084433556,0.350896537303925,-0.027184823527932,0.110635086894035,-0.014914255589247,0.039040770381689,-0.004681082442403,0.182415813207626,0.095585949718952,-0.194405272603035,0.064221665263176,-0.261140018701553));
res += mul(Get(s3,0,-dy), float4x4(-0.207151740789413,-0.152397036552429,-0.164258390665054,0.008835730142891,-0.162394583225250,-0.061157863587141,0.002114474307746,0.207024589180946,-0.000424536672654,-0.068300031125546,-0.073985219001770,-0.049428064376116,-0.006915553938597,-0.080520510673523,-0.065887495875359,-0.114636279642582));
res += mul(Get(s3,0,0), float4x4(-0.098074309527874,-0.224390506744385,-0.090790718793869,0.068486198782921,0.068910561501980,-0.156558245420456,0.028962356969714,0.058153484016657,0.054910641163588,-0.015167103148997,-0.025174334645271,0.082065306603909,-0.235121443867683,-0.139070495963097,0.003426989540458,-0.132688790559769));
res += mul(Get(s3,0,dy), float4x4(-0.065548054873943,-0.006799928843975,-0.013709397055209,0.164197951555252,0.088059239089489,0.096839927136898,-0.066446527838707,-0.032201781868935,0.044697947800159,0.229411274194717,0.018808608874679,-0.075544305145741,-0.201242581009865,-0.060802664607763,0.069144815206528,-0.172316342592239));
res += mul(Get(s3,dx,-dy), float4x4(-0.181199938058853,0.103778079152107,-0.016184447333217,-0.144378483295441,-0.031600318849087,-0.125774890184402,-0.095627091825008,-0.121074169874191,0.134013235569000,-0.044290985912085,-0.036770913749933,-0.059566192328930,-0.051145829260349,0.002856059232727,-0.050629079341888,-0.125020071864128));
res += mul(Get(s3,dx,0), float4x4(-0.092500366270542,-0.078913755714893,-0.024402782320976,0.128554210066795,0.091450102627277,-0.175056874752045,-0.069340981543064,-0.579520463943481,0.123098172247410,-0.174897253513336,-0.129614919424057,-0.052091192454100,-0.179045319557190,0.014256629161537,-0.050960659980774,-0.197967797517776));
res += mul(Get(s3,dx,dy), float4x4(0.031652972102165,0.038230601698160,-0.012737623415887,-0.128333151340485,0.077174134552479,-0.136523827910423,-0.062477413564920,-0.314820587635040,0.168192297220230,0.101388074457645,-0.064757309854031,-0.202627837657928,-0.169879630208015,-0.014545584097505,0.017281314358115,-0.036027293652296));
return max(float4(0,0,0,0), res);
}
