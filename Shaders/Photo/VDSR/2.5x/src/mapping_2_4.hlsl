sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.098623916506767,-0.095834247767925,0.057271707803011,-0.078123681247234,-0.032352827489376,-0.077395781874657,-0.032544076442719,-0.023848842829466,0.012108817696571,0.057354930788279,-0.053296156227589,0.076639898121357,0.083612836897373,0.027447899803519,-0.190633118152618,0.034023761749268));
res += mul(Get(s0,-dx,0), float4x4(-0.102686196565628,-0.161843866109848,-0.102022364735603,0.028073361143470,-0.012221848592162,-0.015441115945578,0.062019657343626,0.299103021621704,0.027479039505124,0.190670087933540,0.128955304622650,-0.384489417076111,-0.051805671304464,0.069004252552986,0.116966508328915,0.102565817534924));
res += mul(Get(s0,-dx,dy), float4x4(-0.108103655278683,-0.107709996402264,0.163377568125725,-0.063442125916481,0.065534390509129,-0.069184586405754,-0.272308647632599,-0.153240740299225,0.131537795066833,0.042622670531273,0.044504377990961,-0.104238510131836,-0.128891661763191,0.001565303071402,0.171275302767754,-0.132453992962837));
res += mul(Get(s0,0,-dy), float4x4(-0.078693330287933,0.198981478810310,0.011264875531197,-0.001274826354347,-0.140279829502106,0.097117647528648,0.023993289098144,-0.026726095005870,0.159099981188774,0.093511939048767,0.151095926761627,0.044763196259737,-0.135234549641609,0.178572744131088,-0.009683916345239,-0.125283420085907));
res += mul(Get(s0,0,0), float4x4(0.047328885644674,0.047492619603872,0.021754637360573,0.114478543400764,-0.199732527136803,0.039053406566381,0.115748062729836,0.004074961878359,0.019932378083467,-0.073969624936581,-0.004315543454140,-0.070525549352169,-0.076488368213177,0.221005380153656,0.154231145977974,-0.147223353385925));
res += mul(Get(s0,0,dy), float4x4(0.011930182576180,0.016794670373201,-0.077084407210350,-0.070817962288857,0.051334682852030,-0.027332171797752,-0.021336402744055,-0.149123430252075,-0.046570807695389,-0.142413064837456,-0.013176815584302,0.025873109698296,-0.404896050691605,0.126214593648911,0.242218345403671,0.011609214358032));
res += mul(Get(s0,dx,-dy), float4x4(0.118794448673725,-0.080997772514820,0.051671534776688,-0.230275869369507,-0.087882764637470,0.094978258013725,0.065072283148766,0.117039851844311,-0.132942929863930,0.168253585696220,0.033030666410923,-0.009272349998355,0.079697266221046,0.011935513466597,0.006774330046028,0.147317498922348));
res += mul(Get(s0,dx,0), float4x4(-0.024754088371992,-0.027570977807045,0.001951891579665,-0.153006866574287,-0.053439524024725,-0.097490362823009,-0.062037486582994,0.080460533499718,0.020749939605594,0.032607726752758,0.155302003026009,-0.060747127979994,0.194566190242767,-0.185678407549858,-0.064011633396149,0.088214337825775));
res += mul(Get(s0,dx,dy), float4x4(-0.142599210143089,0.230823978781700,0.034198399633169,0.020541498437524,0.059371694922447,0.022759450599551,0.025863040238619,0.167502149939537,0.234163925051689,0.049415163695812,-0.253111004829407,0.005893692374229,0.076018594205379,0.178312167525291,-0.055259563028812,0.116711780428886));
res += mul(Get(s1,-dx,-dy), float4x4(-0.037515815347433,0.017977626994252,-0.058334652334452,-0.002016992541030,0.167716100811958,0.122075170278549,-0.194590121507645,0.057448890060186,0.011713749729097,0.006692789494991,-0.024362014606595,-0.089988939464092,0.037789817899466,-0.062011085450649,0.050400726497173,-0.098714217543602));
res += mul(Get(s1,-dx,0), float4x4(0.123257651925087,-0.010084328241646,0.072851531207561,-0.145159676671028,-0.094891026616096,0.009542119689286,0.022088810801506,0.137560814619064,0.106124244630337,0.198109492659569,-0.008094073273242,0.140360847115517,0.025886563584208,-0.071846276521683,-0.085972540080547,0.133229926228523));
res += mul(Get(s1,-dx,dy), float4x4(-0.107716754078865,0.441642969846725,-0.009528576396406,-0.015479302033782,-0.064474530518055,-0.179030925035477,-0.185251414775848,-0.069364920258522,-0.044695787131786,0.203107848763466,0.134478941559792,0.025511231273413,0.071832530200481,0.157251268625259,-0.009625686332583,-0.055416278541088));
res += mul(Get(s1,0,-dy), float4x4(-0.074884705245495,-0.017734332010150,0.170955508947372,0.217008441686630,-0.063935786485672,0.007943627424538,0.038188073784113,0.177063167095184,0.240948557853699,0.096157364547253,0.109783090651035,-0.173071011900902,-0.092839494347572,-0.014729179441929,0.042239747941494,-0.088898055255413));
res += mul(Get(s1,0,0), float4x4(0.131316691637039,-0.140633285045624,-0.074129551649094,0.079105772078037,0.016661683097482,-0.007737381383777,0.114004209637642,-0.110038526356220,0.041457392275333,0.081820659339428,-0.050209369510412,0.021567080169916,-0.087434604763985,0.068586342036724,-0.152864724397659,-0.137039661407471));
res += mul(Get(s1,0,dy), float4x4(0.006250854581594,-0.014525592327118,-0.092554941773415,0.080580957233906,0.149055302143097,0.021740283817053,0.149154171347618,-0.001957092434168,-0.107063926756382,-0.007864476181567,-0.168932363390923,-0.231726899743080,-0.052645284682512,0.041365865617990,-0.092940948903561,-0.159270197153091));
res += mul(Get(s1,dx,-dy), float4x4(-0.093376196920872,-0.020465511828661,0.033716253936291,-0.162605360150337,0.028420293703675,-0.092576131224632,0.082342393696308,0.027674721553922,0.019756786525249,-0.027570512145758,-0.249146565794945,0.084631547331810,-0.110034003853798,-0.110523030161858,-0.078093908727169,0.030042409896851));
res += mul(Get(s1,dx,0), float4x4(0.126933768391609,-0.312395036220551,-0.010685362853110,0.058999821543694,0.054852183908224,0.064219705760479,0.057996366173029,0.105509229004383,-0.095801025629044,-0.205431461334229,-0.189085602760315,0.139862030744553,0.292122334241867,-0.203047558665276,-0.088419876992702,-0.035897150635719));
res += mul(Get(s1,dx,dy), float4x4(-0.036942616105080,-0.167856439948082,0.017179969698191,-0.035534635186195,0.128290370106697,0.206846311688423,0.098626002669334,-0.041924275457859,-0.202924787998199,-0.086394384503365,-0.112595170736313,-0.034598227590322,0.040563412010670,-0.153476834297180,-0.048239335417747,0.086011148989201));
res += mul(Get(s2,-dx,-dy), float4x4(-0.063115254044533,0.054371144622564,0.084461227059364,-0.006668841000646,-0.024007637053728,-0.075808301568031,0.038504380732775,0.028920272365212,-0.060500878840685,-0.060803271830082,0.036844827234745,-0.090629532933235,0.126081123948097,-0.036468643695116,0.062014248222113,-0.054153822362423));
res += mul(Get(s2,-dx,0), float4x4(0.041323617100716,-0.020066324621439,-0.059502348303795,-0.022717284038663,0.050869803875685,0.119198605418205,-0.131408542394638,-0.079544067382813,-0.155474647879601,-0.126491993665695,0.076799407601357,0.156778201460838,-0.111906960606575,-0.034253321588039,0.191130295395851,0.002014947356656));
res += mul(Get(s2,-dx,dy), float4x4(0.128071874380112,0.074910536408424,0.066863350570202,-0.186957448720932,0.075277313590050,0.101748861372471,-0.194898977875710,0.012364469468594,-0.045839913189411,-0.089856192469597,-0.028256366029382,0.096483364701271,0.019613666459918,0.087406612932682,0.227358683943748,0.086088038980961));
res += mul(Get(s2,0,-dy), float4x4(0.073863372206688,-0.026164645329118,0.033653616905212,-0.082044817507267,-0.091333940625191,-0.070895254611969,-0.149039983749390,0.178798660635948,0.025972487404943,-0.013959634117782,-0.028051555156708,-0.073693893849850,0.079589113593102,-0.022782230749726,-0.158829316496849,0.054531775414944));
res += mul(Get(s2,0,0), float4x4(0.086784400045872,-0.135124221444130,0.013090318068862,0.011782429181039,0.024544337764382,-0.123787619173527,-0.237660199403763,-0.118703953921795,0.139594554901123,-0.062025059014559,-0.103393703699112,0.119065217673779,0.051074683666229,-0.046316832304001,0.055612079799175,-0.028428491204977));
res += mul(Get(s2,0,dy), float4x4(0.042628820985556,0.015330930240452,0.094638086855412,-0.047900781035423,-0.049862932413816,-0.109916076064110,-0.095219746232033,-0.040051598101854,-0.114502653479576,-0.145351007580757,0.009787023067474,-0.063692636787891,0.160698652267456,-0.093196347355843,-0.066898398101330,-0.028563704341650));
res += mul(Get(s2,dx,-dy), float4x4(-0.163662180304527,0.133901014924049,0.232355430722237,0.138051435351372,-0.127343758940697,0.006258128676564,0.126567736268044,-0.154687672853470,0.018160758540034,0.077470324933529,-0.168324649333954,0.009854688309133,0.077000565826893,-0.102156862616539,-0.101216547191143,-0.090895682573318));
res += mul(Get(s2,dx,0), float4x4(-0.081395156681538,0.038215696811676,0.160998657345772,-0.199253097176552,0.035751588642597,-0.080633558332920,-0.062407083809376,0.074878014624119,0.022861696779728,-0.102666005492210,-0.099422186613083,0.200195595622063,0.256165891885757,0.057806391268969,0.019933041185141,-0.249141424894333));
res += mul(Get(s2,dx,dy), float4x4(0.117943137884140,-0.014335489831865,-0.176371142268181,-0.019770693033934,-0.108234159648418,-0.037420842796564,0.316607415676117,-0.134070664644241,0.066586278378963,0.119148381054401,-0.120404340326786,0.245408520102501,-0.265569508075714,0.077150374650955,-0.041827380657196,-0.018360242247581));
res += mul(Get(s3,-dx,-dy), float4x4(-0.046569600701332,-0.045004934072495,0.007936897687614,-0.129434734582901,-0.100942313671112,0.042704604566097,-0.116272225975990,0.011132957413793,-0.029632726684213,-0.318628996610641,-0.116939015686512,0.201877400279045,-0.011330569162965,0.081170246005058,0.019070914015174,0.089968450367451));
res += mul(Get(s3,-dx,0), float4x4(-0.048461694270372,-0.093331143260002,0.082486577332020,-0.026129173114896,-0.193787589669228,0.082890465855598,0.003150574630126,0.063598521053791,-0.060455352067947,0.054116740822792,0.107574231922626,0.110670082271099,0.035932887345552,0.075633734464645,-0.036885552108288,-0.113184876739979));
res += mul(Get(s3,-dx,dy), float4x4(-0.172589510679245,0.006478668656200,-0.099643148481846,0.264838427305222,-0.108108669519424,0.128713607788086,-0.087969586253166,-0.076006233692169,0.023902149870992,0.216881141066551,-0.056919354945421,0.023582106456161,0.083056002855301,-0.031135950237513,-0.072320602834225,0.003498122794554));
res += mul(Get(s3,0,-dy), float4x4(-0.064162395894527,0.012678443454206,-0.027580166235566,-0.000247810559813,-0.091051243245602,-0.258947074413300,-0.006544596981257,-0.154914885759354,-0.067480780184269,-0.089297719299793,-0.107176035642624,-0.088448427617550,-0.043456353247166,-0.107523448765278,0.010018531233072,0.037191558629274));
res += mul(Get(s3,0,0), float4x4(0.124993354082108,-0.082662910223007,-0.188708379864693,0.157713830471039,-0.001935141859576,-0.028821794316173,-0.192078366875648,-0.127763763070107,0.021083433181047,0.201191186904907,-0.111312501132488,0.027992613613605,-0.157794207334518,0.017934750765562,0.001518486998975,0.041691023856401));
res += mul(Get(s3,0,dy), float4x4(-0.026980336755514,0.112092345952988,-0.038079742342234,-0.123556211590767,0.046041246503592,-0.021189276129007,-0.132212772965431,-0.139033734798431,0.074331939220428,-0.070391945540905,-0.043650586158037,-0.007667752448469,0.048882290720940,-0.104310981929302,-0.088748291134834,-0.040433146059513));
res += mul(Get(s3,dx,-dy), float4x4(0.088324666023254,-0.073737554252148,0.083393409848213,0.138088166713715,-0.117817208170891,-0.023463433608413,-0.006237136200070,-0.119786173105240,0.147561147809029,-0.112436540424824,0.094818964600563,-0.100594229996204,-0.054045047610998,0.158059448003769,-0.106561616063118,-0.024430600926280));
res += mul(Get(s3,dx,0), float4x4(0.155448973178864,0.087139673531055,-0.192005708813667,-0.180611863732338,-0.109508581459522,-0.151707574725151,0.010079521685839,-0.065518260002136,0.068831101059914,0.011615496128798,-0.074773088097572,-0.129188761115074,0.024452131241560,0.075557656586170,0.062004633247852,-0.033397689461708));
res += mul(Get(s3,dx,dy), float4x4(-0.050153709948063,0.072475820779800,0.045913010835648,-0.029638295993209,0.024930246174335,-0.231157377362251,-0.034291964024305,-0.110009029507637,0.021773073822260,0.035342317074537,0.055735025554895,-0.220001086592674,-0.098819829523563,-0.158447161316872,0.059410169720650,0.146442294120789));
return max(float4(0,0,0,0), res);
}
