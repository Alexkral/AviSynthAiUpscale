sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.096540585160255,-0.062465958297253,-0.098268836736679,-0.078616686165333,-0.118544116616249,0.075839623808861,0.039328653365374,-0.108174629509449,-0.017576459795237,0.204200133681297,-0.151478454470634,0.012231637723744,-0.017833622172475,-0.014245772734284,0.239139929413795,0.130000784993172));
res += mul(Get(s0,-dx,0), float4x4(0.003675692947581,-0.019367588683963,0.127872303128242,0.244419068098068,0.098796159029007,-0.067061699926853,-0.165152102708817,-0.054185394197702,0.031036021187901,0.088147588074207,0.050990518182516,0.010451324284077,0.044628709554672,0.010631310753524,-0.062297336757183,0.074947930872440));
res += mul(Get(s0,-dx,dy), float4x4(-0.019011273980141,-0.040944490581751,0.215866863727570,-0.001586265745573,-0.141111403703690,-0.126092746853828,-0.066931508481503,0.134252607822418,0.147338658571243,-0.035468034446239,-0.079280540347099,-0.082377985119820,0.070947468280792,-0.107107378542423,-0.154294520616531,0.046144742518663));
res += mul(Get(s0,0,-dy), float4x4(0.063631922006607,-0.201877236366272,0.079254701733589,0.033802285790443,-0.155623883008957,0.184760674834251,0.173970252275467,0.001580815762281,-0.087352596223354,0.137700393795967,0.098419666290283,0.107070900499821,-0.124337367713451,-0.102053008973598,-0.020513888448477,-0.066793575882912));
res += mul(Get(s0,0,0), float4x4(0.003298525465652,-0.031082017347217,0.163441494107246,0.035581331700087,0.040223814547062,-0.070055186748505,-0.130102097988129,-0.019273241981864,0.141754433512688,-0.049756519496441,-0.003740401938558,-0.049842741340399,0.026847146451473,-0.065062150359154,-0.043788783252239,-0.067957520484924));
res += mul(Get(s0,0,dy), float4x4(-0.016852894797921,0.030518323183060,0.168215200304985,-0.016484849154949,0.095405638217926,0.071717403829098,0.091183148324490,-0.052101857960224,-0.069875590503216,-0.069710843265057,-0.084338821470737,-0.038437865674496,0.141534641385078,-0.017437346279621,-0.176687002182007,0.037705291062593));
res += mul(Get(s0,dx,-dy), float4x4(-0.103508368134499,-0.077769957482815,0.086477816104889,-0.198611348867416,-0.084174089133739,-0.082390002906322,-0.012407787144184,-0.131073072552681,0.098587259650230,0.146160960197449,-0.089632205665112,-0.031165061518550,0.030914729461074,0.035219430923462,-0.037262309342623,0.074074931442738));
res += mul(Get(s0,dx,0), float4x4(-0.081071920692921,-0.068691775202751,-0.040332358330488,0.225122481584549,0.168900296092033,0.215572834014893,0.081674352288246,-0.087290778756142,-0.147316008806229,-0.048535589128733,-0.271305352449417,-0.093859635293484,0.068395651876926,0.088963165879250,0.020333468914032,-0.135000869631767));
res += mul(Get(s0,dx,dy), float4x4(-0.123798154294491,-0.066710673272610,0.102989919483662,0.033675327897072,-0.096493504941463,0.030650317668915,-0.070813022553921,-0.081208042800426,-0.089542269706726,-0.142162904143333,-0.020050371065736,-0.056275192648172,-0.121087513864040,-0.083528675138950,0.014613384380937,-0.175891563296318));
res += mul(Get(s1,-dx,-dy), float4x4(-0.095368295907974,-0.100915446877480,-0.095298379659653,0.138096779584885,-0.162520885467529,-0.132529333233833,0.008019968867302,-0.004061400424689,0.212890967726707,0.029141146689653,-0.056079912930727,0.032182890921831,0.057900726795197,-0.067071616649628,-0.028920413926244,0.059234686195850));
res += mul(Get(s1,-dx,0), float4x4(0.000595050281845,-0.087086111307144,-0.107971198856831,0.032701019197702,-0.065994337201118,0.016189085319638,-0.183062210679054,0.043394550681114,0.075399957597256,-0.034918453544378,-0.088539436459541,0.075020849704742,0.141957163810730,0.258765012025833,0.211267530918121,-0.168573841452599));
res += mul(Get(s1,-dx,dy), float4x4(0.014976033940911,-0.061931598931551,0.045490432530642,-0.016445130109787,0.097462438046932,0.037116684019566,0.103913053870201,0.032706681638956,-0.121738679707050,-0.049618907272816,0.017968941479921,-0.115135692059994,0.085012719035149,0.171862155199051,-0.107847705483437,0.091241359710693));
res += mul(Get(s1,0,-dy), float4x4(0.110285431146622,-0.059488799422979,-0.146213263273239,0.044549919664860,-0.029858501628041,0.046769112348557,-0.103533945977688,-0.136192381381989,0.001412748591974,0.070873498916626,0.005589523352683,-0.021784134209156,0.039338644593954,-0.005332852248102,-0.142735004425049,0.036660198122263));
res += mul(Get(s1,0,0), float4x4(0.093650966882706,0.033348355442286,0.023014739155769,-0.006142278201878,-0.076918199658394,-0.040319498628378,-0.027587929740548,0.018506897613406,0.181885704398155,-0.367138713598251,0.044378131628036,0.157242134213448,0.136394292116165,-0.029546985402703,0.175539389252663,0.118310980498791));
res += mul(Get(s1,0,dy), float4x4(0.001396451145411,-0.013535905629396,0.044033255428076,0.028616582974792,-0.037739049643278,-0.104762025177479,0.010128822177649,-0.106531567871571,0.046576879918575,0.059853009879589,-0.031427569687366,-0.208053797483444,0.230517104268074,-0.087378837168217,-0.096846483647823,0.064271613955498));
res += mul(Get(s1,dx,-dy), float4x4(-0.057310622185469,0.207796260714531,-0.086728364229202,0.073219843208790,0.115220218896866,0.167537465691566,0.105709895491600,-0.041648019105196,0.057496335357428,0.061244059354067,-0.062376260757446,0.014016536995769,0.054140985012054,0.163742020726204,-0.015317792072892,-0.048309378325939));
res += mul(Get(s1,dx,0), float4x4(0.155070349574089,0.096413530409336,0.055119816213846,-0.188611567020416,-0.136311739683151,-0.059797875583172,-0.085551694035530,0.015872554853559,0.020518142729998,-0.072481557726860,0.036442194133997,-0.241830244660378,0.117863304913044,-0.173942506313324,-0.100923255085945,0.038976036012173));
res += mul(Get(s1,dx,dy), float4x4(0.123383261263371,-0.027143673971295,-0.002654682379216,-0.002380958292633,0.063638813793659,0.007154760416597,-0.006305018439889,0.102975405752659,-0.040723338723183,-0.007167506497353,0.108074940741062,-0.012178257107735,-0.091710336506367,-0.092739045619965,-0.125431850552559,-0.002949057845399));
res += mul(Get(s2,-dx,-dy), float4x4(0.021207632496953,-0.025201868265867,-0.021409217268229,-0.202510744333267,-0.064103193581104,-0.050371956080198,0.186176136136055,-0.048885844647884,0.025023035705090,0.014015685766935,-0.086692191660404,-0.068341024219990,0.078362897038460,0.099705129861832,-0.030016301199794,-0.012265344150364));
res += mul(Get(s2,-dx,0), float4x4(-0.035343673080206,-0.137469246983528,0.024479860439897,0.025032060220838,-0.054527491331100,-0.121155239641666,-0.033244568854570,0.115089461207390,0.217528402805328,-0.016438646242023,-0.080732643604279,-0.132319241762161,-0.068191327154636,0.031847983598709,-0.138962537050247,-0.088597066700459));
res += mul(Get(s2,-dx,dy), float4x4(-0.028781106695533,-0.207066431641579,-0.074857160449028,0.024140503257513,-0.069618031382561,0.056082356721163,0.102879472076893,-0.080191373825073,-0.006036483682692,-0.209924414753914,-0.031926371157169,-0.013406497426331,0.052198398858309,0.108263269066811,0.016222633421421,0.021092487499118));
res += mul(Get(s2,0,-dy), float4x4(-0.019792843610048,0.057840459048748,0.112890936434269,0.040900014340878,0.173167720437050,-0.010722127743065,0.003333580447361,-0.083763174712658,0.059783153235912,-0.130432665348053,-0.018529977649450,0.161226093769073,0.033254362642765,0.132019221782684,0.169902503490448,-0.121597431600094));
res += mul(Get(s2,0,0), float4x4(-0.060118731111288,0.001534580951557,-0.040071874856949,-0.000971919973381,-0.098765142261982,-0.055860083550215,-0.046247769147158,0.108339801430702,0.101921491324902,-0.075563460588455,0.017844133079052,0.065697148442268,-0.074815541505814,0.060688864439726,0.074117094278336,0.089562982320786));
res += mul(Get(s2,0,dy), float4x4(-0.191752314567566,-0.074705243110657,0.110057912766933,-0.059186849743128,-0.000404764345149,0.033117588609457,-0.140042260289192,-0.042878378182650,0.099164903163910,-0.014037517830729,-0.076322488486767,-0.093940220773220,0.155337482690811,0.207979649305344,-0.008427737280726,-0.100925736129284));
res += mul(Get(s2,dx,-dy), float4x4(-0.175068736076355,-0.060702372342348,0.012244410812855,-0.262433946132660,0.007780293934047,-0.173797532916069,0.205759465694427,-0.091455519199371,-0.068329893052578,-0.097538761794567,-0.032776802778244,-0.024529566988349,-0.016035646200180,-0.024725437164307,0.061322085559368,-0.059712011367083));
res += mul(Get(s2,dx,0), float4x4(-0.127903580665588,0.002844042610377,-0.148985102772713,0.197829872369766,-0.219972252845764,-0.071377135813236,-0.097461715340614,0.234201341867447,0.102784514427185,0.029051324352622,0.034639466553926,0.084086239337921,-0.043900158256292,0.042084183543921,0.028308879584074,-0.203499138355255));
res += mul(Get(s2,dx,dy), float4x4(0.042192000895739,-0.074565507471561,0.017813146114349,-0.111859247088432,-0.104578651487827,-0.019036481156945,-0.030383683741093,-0.031873788684607,-0.110870927572250,0.130701512098312,-0.011662524193525,0.172189027070999,0.059189949184656,-0.049797542393208,0.081677235662937,-0.097885489463806));
res += mul(Get(s3,-dx,-dy), float4x4(0.145588457584381,-0.040744733065367,-0.059315893799067,-0.024878934025764,0.033961057662964,0.127308890223503,0.008884219452739,-0.054578553885221,-0.098625987768173,0.030582629144192,0.045859038829803,-0.133245840668678,-0.041235480457544,0.224158853292465,0.011423981748521,0.175727546215057));
res += mul(Get(s3,-dx,0), float4x4(0.078977607190609,-0.061582077294588,-0.008911981247365,0.148861169815063,0.016046071425080,-0.058097213506699,-0.048039849847555,-0.023875873535872,-0.131351903080940,-0.001886268728413,0.052404914051294,-0.158024281263351,0.207048088312149,-0.110102958977222,-0.025942482054234,-0.043309599161148));
res += mul(Get(s3,-dx,dy), float4x4(-0.093576289713383,-0.041445903480053,0.228055968880653,0.069910816848278,-0.192375034093857,-0.167481645941734,-0.007192942313850,-0.073217451572418,0.045616976916790,0.075330719351768,0.131299376487732,-0.116768315434456,-0.116560161113739,-0.070864647626877,0.080272212624550,0.133429050445557));
res += mul(Get(s3,0,-dy), float4x4(0.051937520503998,-0.145921707153320,-0.019897999241948,-0.171757876873016,-0.180930092930794,0.058794602751732,0.064922556281090,-0.071649089455605,0.037176713347435,-0.050717666745186,0.011584916152060,0.036700114607811,0.095777705311775,0.199705436825752,0.061575114727020,-0.025136113166809));
res += mul(Get(s3,0,0), float4x4(-0.036048553884029,-0.027109270915389,0.120980404317379,0.011785654351115,0.097036793828011,0.129614427685738,-0.076206102967262,0.104171499609947,-0.003860803088173,0.003042302327231,0.161754265427589,0.245574668049812,-0.008780413307250,0.035484042018652,0.198896914720535,-0.134194493293762));
res += mul(Get(s3,0,dy), float4x4(-0.195719659328461,-0.110569447278976,0.152996569871902,-0.010137187317014,-0.017920000478625,0.032953668385744,0.169284507632256,-0.124881640076637,-0.043650235980749,-0.048086732625961,-0.098492704331875,-0.064058564603329,0.082323029637337,-0.058132644742727,0.107135005295277,-0.024638658389449));
res += mul(Get(s3,dx,-dy), float4x4(-0.216032952070236,0.134237751364708,0.108827643096447,0.018610032275319,-0.083925679326057,0.044210888445377,0.202506989240646,-0.037416353821754,0.213494971394539,0.035201959311962,0.027008596807718,0.091074772179127,0.114042744040489,0.121857874095440,0.006799697875977,0.039564441889524));
res += mul(Get(s3,dx,0), float4x4(0.137004658579826,0.023981593549252,0.000397986994358,0.085962079465389,-0.045298140496016,-0.087259858846664,-0.073092550039291,-0.125927746295929,-0.025307472795248,0.135943457484245,0.028444889932871,0.179800465703011,0.014003873802722,-0.168868750333786,-0.196898385882378,0.224817365407944));
res += mul(Get(s3,dx,dy), float4x4(0.237279847264290,-0.290979117155075,0.111223332583904,0.034277316182852,-0.037780743092299,-0.017788818106055,-0.038886152207851,0.072245702147484,0.103779561817646,0.139484927058220,-0.016738479956985,0.109412625432014,-0.013943478465080,-0.057978484779596,-0.014817142859101,0.103203199803829));
return max(float4(0,0,0,0), res);
}
