sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.134643018245697,-0.109749764204025,-0.008965380489826,-0.080672271549702,0.045666087418795,0.043299384415150,-0.119736261665821,-0.011698748916388,-0.116192713379860,0.040603589266539,-0.081167466938496,0.090710192918777,0.012149807997048,-0.170944616198540,0.242502719163895,-0.151117578148842));
res += mul(Get(s0,-dx,0), float4x4(-0.096393734216690,-0.044117294251919,0.041365534067154,-0.187856659293175,0.044336564838886,0.053974695503712,-0.173059105873108,-0.186615422368050,0.121119834482670,-0.074029877781868,-0.137514069676399,0.021438596770167,-0.010944491252303,-0.057209689170122,-0.031827341765165,-0.029913119971752));
res += mul(Get(s0,-dx,dy), float4x4(0.094000890851021,0.027483468875289,0.137811109423637,-0.149541243910789,-0.142421618103981,-0.015959074720740,-0.052593972533941,-0.136330202221870,0.093636490404606,-0.076672323048115,-0.033353794366121,0.041401281952858,0.159357666969299,0.007795206271112,-0.150448843836784,-0.135514974594116));
res += mul(Get(s0,0,-dy), float4x4(-0.094300530850887,-0.080827198922634,-0.130945980548859,-0.087450109422207,0.000982058933005,0.087918102741241,0.025440815836191,-0.198917880654335,-0.186053708195686,0.015493594110012,0.004672058857977,-0.128570690751076,0.014482158236206,-0.121856883168221,0.029640328139067,0.096342764794827));
res += mul(Get(s0,0,0), float4x4(-0.117037720978260,-0.059994556009769,0.203894823789597,-0.146293371915817,-0.017221048474312,0.035614185035229,-0.042945798486471,-0.171078965067863,-0.120815254747868,-0.156056478619576,0.187662780284882,0.033901300281286,0.137638613581657,-0.133745357394218,0.035325102508068,-0.003829625202343));
res += mul(Get(s0,0,dy), float4x4(0.035381887108088,-0.036726940423250,0.084985561668873,-0.067914336919785,-0.080763377249241,0.024953093379736,0.101026467978954,-0.026178164407611,0.055473748594522,-0.102720908820629,0.019971864297986,0.052711419761181,0.167845040559769,-0.038363963365555,-0.232703343033791,-0.115207672119141));
res += mul(Get(s0,dx,-dy), float4x4(-0.112626761198044,-0.053061008453369,0.013307477347553,-0.139155417680740,0.133848488330841,-0.083869889378548,0.009419296868145,-0.000991640030406,-0.142317146062851,-0.035049717873335,0.002356871264055,0.075277484953403,-0.014135370962322,0.027227967977524,-0.038332354277372,0.043403346091509));
res += mul(Get(s0,dx,0), float4x4(-0.135483786463737,-0.012822403572500,0.026600845158100,-0.175007343292236,-0.061082918196917,-0.142663881182671,0.001060357084498,-0.022074829787016,-0.140119031071663,-0.136561989784241,-0.086192287504673,0.005679058842361,0.083020843565464,-0.022088019177318,0.054111376404762,0.000083952472778));
res += mul(Get(s0,dx,dy), float4x4(-0.122062653303146,-0.044637810438871,0.114039674401283,-0.086098819971085,-0.058854512870312,-0.158376902341843,-0.026259299367666,0.087271779775620,0.020362982526422,-0.137312099337578,0.120355755090714,0.057863768190145,0.137538895010948,-0.015535599552095,0.006644390989095,0.047849297523499));
res += mul(Get(s1,-dx,-dy), float4x4(-0.036825679242611,-0.154257446527481,-0.062079843133688,-0.073343783617020,0.087970890104771,-0.151523575186729,0.068905122578144,0.080710358917713,0.279477834701538,-0.046116314828396,-0.087965980172157,-0.070573434233665,-0.117043308913708,0.043697126209736,-0.020538834854960,0.043844655156136));
res += mul(Get(s1,-dx,0), float4x4(0.053090199828148,-0.041278988122940,-0.066447481513023,0.204972252249718,-0.049890361726284,-0.015348240733147,0.020776547491550,0.071276322007179,-0.057394903153181,-0.072906360030174,0.049218535423279,0.139869287610054,-0.025964763015509,0.339840859174728,-0.062594532966614,0.064125373959541));
res += mul(Get(s1,-dx,dy), float4x4(-0.053530145436525,0.085510805249214,-0.017455561086535,0.020377552136779,0.074287973344326,0.229230910539627,0.030194848775864,-0.218581706285477,-0.165640681982040,-0.048111651092768,-0.040245495736599,0.058233492076397,-0.163822293281555,-0.017516974359751,0.026900878176093,0.201921999454498));
res += mul(Get(s1,0,-dy), float4x4(0.009829201735556,0.045155599713326,-0.118054188787937,0.055667106062174,0.185712158679962,-0.173361703753471,0.001354657695629,0.156566947698593,-0.123112946748734,0.000272202334600,-0.019476858898997,-0.009538961574435,-0.072280794382095,-0.119185931980610,0.050972256809473,-0.026515202596784));
res += mul(Get(s1,0,0), float4x4(-0.138390123844147,-0.068591102957726,-0.047686371952295,0.017661355435848,0.084891475737095,-0.136449471116066,-0.071380764245987,-0.048307050019503,-0.044753406196833,-0.039630249142647,-0.035908311605453,0.054916564375162,0.048079978674650,-0.128593802452087,0.040731724351645,-0.089326538145542));
res += mul(Get(s1,0,dy), float4x4(0.006301365792751,0.099175445735455,-0.059924814850092,0.092648178339005,0.008746913634241,0.251912683248520,-0.006041395943612,-0.231660649180412,0.026575112715364,-0.097969047725201,0.114150092005730,0.187163993716240,0.011762159876525,0.005969467107207,0.097856648266315,0.196058005094528));
res += mul(Get(s1,dx,-dy), float4x4(0.032749444246292,0.223010778427124,0.043423369526863,-0.000916878343560,-0.036776252090931,-0.092222392559052,0.086724631488323,-0.018212744966149,0.022245764732361,0.058909732848406,-0.031519491225481,0.033230975270271,-0.066926665604115,-0.045932803303003,-0.002531348261982,0.169895380735397));
res += mul(Get(s1,dx,0), float4x4(-0.023691374808550,-0.030722565948963,0.073162712156773,-0.025538424029946,0.093696996569633,0.020675828680396,-0.106012850999832,-0.104357279837132,-0.101170852780342,0.062782861292362,0.107841335237026,0.078441746532917,0.050992656499147,-0.210516244173050,0.010433509014547,-0.129449561238289));
res += mul(Get(s1,dx,dy), float4x4(0.112505219876766,0.042977161705494,0.034078806638718,0.078496910631657,-0.008187149651349,0.179512456059456,-0.057108625769615,-0.184248238801956,0.020979592576623,0.041316870599985,0.048168260604143,-0.084553360939026,0.128058850765228,-0.258426517248154,-0.095333606004715,0.091591082513332));
res += mul(Get(s2,-dx,-dy), float4x4(-0.138830542564392,-0.006558577995747,-0.018348902463913,0.024057932198048,-0.169256851077080,-0.111668378114700,0.056045234203339,-0.079053491353989,0.055012084543705,-0.089716203510761,0.000744942924939,-0.005182774737477,0.010243671946228,0.046425461769104,-0.010475922375917,0.071758113801479));
res += mul(Get(s2,-dx,0), float4x4(-0.121357657015324,0.017220132052898,-0.001868970459327,0.038476493209600,-0.099133767187595,0.054835379123688,0.123850360512733,-0.073230326175690,0.114481560885906,0.015341332182288,0.065656676888466,-0.034622304141521,0.154134601354599,0.226913139224052,0.018798861652613,-0.009459537453949));
res += mul(Get(s2,-dx,dy), float4x4(-0.203001677989960,-0.039525829255581,-0.058468010276556,0.005125970114022,-0.027983231469989,0.125145703554153,0.026964642107487,0.082577720284462,0.175475105643272,-0.010943736881018,-0.001292320783250,-0.056579124182463,-0.081323131918907,0.197244286537170,0.019230132922530,-0.129021972417831));
res += mul(Get(s2,0,-dy), float4x4(-0.012270104140043,-0.107611559331417,-0.042200751602650,0.137752115726471,-0.103342391550541,-0.201275467872620,-0.064365945756435,0.062598273158073,0.117873944342136,-0.136335939168930,-0.099617004394531,0.087977886199951,0.108594365417957,-0.078414000570774,-0.029696630313993,0.084920227527618));
res += mul(Get(s2,0,0), float4x4(-0.183358550071716,-0.106916002929211,-0.107407189905643,0.170920595526695,-0.075788155198097,0.106786504387856,-0.082583367824554,0.064922936260700,0.024920348078012,-0.094633474946022,0.165858417749405,0.000459710223367,0.079513199627399,0.178863227367401,0.027061672881246,0.041431408375502));
res += mul(Get(s2,0,dy), float4x4(-0.066750995814800,-0.017935805022717,0.020220695063472,0.091584555804729,-0.059562213718891,0.095357142388821,0.185324132442474,-0.104413442313671,0.318739444017410,-0.045965544879436,0.017781890928745,-0.092861309647560,0.051751140505075,0.183365136384964,0.128298088908195,-0.087416261434555));
res += mul(Get(s2,dx,-dy), float4x4(-0.067004784941673,-0.038186430931091,-0.070618838071823,-0.013732549734414,-0.089909695088863,-0.099443219602108,0.094125367701054,-0.106884159147739,0.205392837524414,-0.109747491776943,-0.048976857215166,0.017459617927670,0.090023711323738,-0.187220215797424,-0.028824346140027,-0.059267245233059));
res += mul(Get(s2,dx,0), float4x4(-0.097369104623795,-0.033292043954134,-0.082831047475338,-0.054744359105825,-0.140860661864281,0.068141028285027,0.022214740514755,0.168167904019356,0.002866457449272,-0.112935982644558,0.039759550243616,-0.000195685861399,-0.142297610640526,-0.118317991495132,0.002613635966554,-0.147903472185135));
res += mul(Get(s2,dx,dy), float4x4(-0.125825256109238,-0.017631808295846,-0.060910105705261,-0.015454484149814,-0.095063403248787,0.159317731857300,0.005368293728679,-0.076481647789478,-0.036412108689547,-0.099982924759388,-0.097802221775055,-0.065535344183445,-0.059290751814842,-0.014894391410053,0.025479512289166,-0.082845762372017));
res += mul(Get(s3,-dx,-dy), float4x4(-0.067206241190434,0.039969377219677,0.012776410207152,0.081478163599968,0.016467602923512,0.093864060938358,0.130181580781937,-0.045787777751684,-0.030874699354172,-0.126963600516319,0.028072843328118,-0.059082020074129,0.016055863350630,-0.039368763566017,0.041951671242714,0.097749471664429));
res += mul(Get(s3,-dx,0), float4x4(0.004566029179841,0.012637943960726,0.007935893721879,-0.062816172838211,0.029157364740968,0.055003855377436,-0.025013571605086,0.084886878728867,-0.071369290351868,0.047389302402735,0.089614175260067,-0.013958059251308,0.116209074854851,0.051061429083347,-0.052153363823891,-0.075271219015121));
res += mul(Get(s3,-dx,dy), float4x4(-0.126035422086716,0.039695478975773,0.038571592420340,0.032038748264313,-0.086922675371170,0.237057670950890,0.254418194293976,-0.068863891065121,0.193625643849373,-0.004083743318915,-0.039673112332821,0.025586478412151,0.011736061424017,0.116553172469139,-0.077784068882465,0.034422062337399));
res += mul(Get(s3,0,-dy), float4x4(-0.027873642742634,0.066737651824951,0.010559787042439,0.046764589846134,0.121297419071198,0.029024653136730,-0.092947132885456,0.049728360027075,-0.063585281372070,-0.313577473163605,0.044536557048559,0.133974149823189,0.072256468236446,-0.142972022294998,-0.055065371096134,0.026155397295952));
res += mul(Get(s3,0,0), float4x4(0.049990750849247,-0.002343221334741,-0.070543922483921,-0.121552139520645,0.007368134334683,-0.112400844693184,-0.106836587190628,0.240394532680511,-0.114439427852631,-0.111949339509010,0.103755593299866,-0.004150086548179,0.016724999994040,-0.184149742126465,0.141646146774292,-0.028685418888927));
res += mul(Get(s3,0,dy), float4x4(-0.066171839833260,0.027997493743896,-0.119940638542175,-0.114097349345684,0.079517148435116,0.085079483687878,-0.054966766387224,0.042619060724974,0.009763740003109,0.048327241092920,0.034994423389435,-0.070376202464104,-0.110314495861530,-0.041656743735075,-0.030551619827747,0.012789007276297));
res += mul(Get(s3,dx,-dy), float4x4(-0.000498506706208,0.200319617986679,0.002865895396098,0.010350441560149,0.006953182164580,0.140791550278664,0.128304570913315,-0.018706483766437,0.255765557289124,-0.033351439982653,0.006130862515420,-0.101356692612171,0.070501916110516,-0.129109486937523,-0.060155291110277,0.096076205372810));
res += mul(Get(s3,dx,0), float4x4(0.131583809852600,-0.009429210796952,-0.184663102030754,0.000126744067529,0.012274026870728,0.053398221731186,-0.025703331455588,0.071249149739742,0.054237194359303,-0.099934324622154,-0.015887323766947,0.103413820266724,-0.041628427803516,-0.130765572190285,0.180752307176590,-0.073604121804237));
res += mul(Get(s3,dx,dy), float4x4(-0.086097165942192,-0.092294305562973,-0.103819571435452,-0.086214430630207,-0.028097473084927,0.161687210202217,0.153255879878998,-0.204236164689064,-0.018896194174886,-0.087170407176018,-0.073774002492428,0.072080478072166,0.011533546261489,0.044031243771315,-0.188300207257271,-0.144872516393661));
return max(float4(0,0,0,0), res);
}
