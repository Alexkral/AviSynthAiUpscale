sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.097940601408482,-0.021601507440209,0.066124051809311,-0.117850765585899,-0.060870364308357,-0.259977489709854,-0.113184295594692,0.013978137634695,0.075134038925171,-0.161976799368858,-0.130340501666069,-0.072940036654472,0.099995426833630,0.278731763362885,-0.011930422857404,-0.134761556982994));
res += mul(Get(s0,-dx,0), float4x4(0.044094465672970,0.014253800734878,0.071771733462811,0.176151186227798,-0.146879747509956,-0.085197813808918,-0.187345981597900,0.050537575036287,0.092497698962688,0.057329524308443,-0.110467009246349,0.081306241452694,0.153288304805756,0.099931083619595,-0.056485507637262,0.054184518754482));
res += mul(Get(s0,-dx,dy), float4x4(0.062053609639406,-0.155453369021416,-0.016404537484050,0.146634489297867,-0.014670696109533,0.007332386914641,-0.052867289632559,-0.078378610312939,-0.026375934481621,0.056381579488516,0.009567282162607,-0.214086055755615,0.093828231096268,-0.003146158065647,0.198705196380615,-0.066040180623531));
res += mul(Get(s0,0,-dy), float4x4(0.050188228487968,-0.164529949426651,0.104117177426815,-0.202701315283775,-0.131512254476547,0.061427898705006,-0.007915741764009,0.054330892860889,-0.074081331491470,-0.187232434749603,0.264552801847458,0.243707805871964,-0.108106046915054,0.040426544845104,0.009299533441663,-0.076310187578201));
res += mul(Get(s0,0,0), float4x4(-0.013727581128478,-0.022362248972058,-0.018761800602078,0.060537032783031,-0.061263274401426,-0.027896586805582,-0.113702185451984,0.119809225201607,-0.110407583415508,-0.090799137949944,-0.054654750972986,0.374431699514389,0.046942070126534,0.143943011760712,0.077434279024601,0.099727071821690));
res += mul(Get(s0,0,dy), float4x4(0.028425753116608,-0.129385948181152,0.118413381278515,0.108755797147751,0.010700804181397,-0.103469975292683,-0.025752577930689,0.005075306631625,-0.114280119538307,0.011808555573225,0.106859967112541,-0.148860648274422,-0.087852701544762,0.054015558212996,0.154476940631866,0.073161527514458));
res += mul(Get(s0,dx,-dy), float4x4(-0.040819257497787,-0.081327371299267,0.097823023796082,-0.108026720583439,-0.059613309800625,-0.004238116089255,-0.037853758782148,-0.029151007533073,0.081272572278976,-0.119175910949707,0.038470905274153,-0.161470010876656,-0.151148185133934,0.094766609370708,0.036748394370079,-0.022536218166351));
res += mul(Get(s0,dx,0), float4x4(-0.116207040846348,0.097406402230263,-0.010120944119990,-0.217860996723175,0.027539612725377,-0.091484956443310,-0.123799838125706,0.093356058001518,0.052733570337296,-0.121274210512638,-0.060390438884497,0.006460318341851,-0.095927275717258,0.029987273737788,0.075213477015495,0.078266650438309));
res += mul(Get(s0,dx,dy), float4x4(0.062518380582333,-0.143785133957863,-0.137471020221710,-0.128340840339661,0.039585415273905,-0.000588129332755,0.000902145577129,0.041921343654394,0.023329820483923,-0.003623281838372,0.049277413636446,-0.084854140877724,-0.118068702518940,-0.068948686122894,0.143758192658424,-0.006693810224533));
res += mul(Get(s1,-dx,-dy), float4x4(-0.187991291284561,-0.064434893429279,0.036451864987612,-0.030455287545919,-0.063405357301235,0.028027076274157,-0.042347867041826,-0.102829217910767,-0.023112559691072,-0.132022514939308,0.089811176061630,-0.002166000660509,0.030001061037183,-0.143094807863235,-0.068001113831997,-0.045521348714828));
res += mul(Get(s1,-dx,0), float4x4(-0.093843840062618,-0.106421135365963,-0.006788204889745,-0.014328770339489,-0.020942889153957,0.065700396895409,0.176746681332588,-0.252898991107941,-0.066096909344196,0.081730596721172,0.039900436997414,0.028622733429074,-0.061501953750849,-0.097365297377110,-0.009037856012583,0.172911435365677));
res += mul(Get(s1,-dx,dy), float4x4(-0.128227889537811,-0.051397398114204,-0.052307710051537,0.042544212192297,-0.070836298167706,-0.031746953725815,0.045723900198936,-0.156851932406425,0.019619056954980,-0.128871664404869,0.066949442028999,0.049321573227644,-0.106183826923370,-0.093587666749954,-0.028354560956359,0.065013460814953));
res += mul(Get(s1,0,-dy), float4x4(-0.038177654147148,-0.038623783737421,-0.066544599831104,-0.001479633734562,-0.164081960916519,0.130558252334595,-0.104337610304356,0.031077804043889,-0.000280186650343,-0.105760268867016,-0.164222031831741,-0.021184789016843,0.017167374491692,-0.068051010370255,-0.017745649442077,-0.029438197612762));
res += mul(Get(s1,0,0), float4x4(-0.045657075941563,-0.123307943344116,0.006605390924960,0.005432391539216,0.042060725390911,0.071414515376091,0.011685186997056,0.022686088457704,-0.021426251158118,-0.020796416327357,-0.064013153314590,-0.036321721971035,-0.076662488281727,-0.085713490843773,-0.033577658236027,-0.057134281843901));
res += mul(Get(s1,0,dy), float4x4(-0.090377062559128,-0.072740159928799,-0.034045513719320,0.058214195072651,-0.082999229431152,0.005196897312999,0.065976493060589,-0.112540163099766,-0.014238801784813,-0.162265807390213,-0.008107951842248,0.012943928129971,-0.139096423983574,-0.115511558949947,-0.040512397885323,0.027485016733408));
res += mul(Get(s1,dx,-dy), float4x4(-0.030366992577910,-0.011844993568957,-0.019064979627728,-0.023570334538817,-0.208319693803787,0.022313518449664,-0.062728002667427,0.119007624685764,0.028090512380004,-0.048706334084272,0.231426954269409,-0.096667237579823,-0.205221965909004,0.095433160662651,-0.073678530752659,0.176647961139679));
res += mul(Get(s1,dx,0), float4x4(-0.064689554274082,-0.008331429213285,0.020685400813818,-0.099001675844193,0.012104807421565,-0.026095297187567,0.045809756964445,0.273720353841782,0.031141370534897,0.011014449410141,0.041739802807570,-0.053735360503197,-0.097892090678215,-0.034950073808432,-0.106937810778618,-0.073596440255642));
res += mul(Get(s1,dx,dy), float4x4(0.000853477453347,-0.047133184969425,0.027052044868469,0.031926840543747,-0.136161878705025,0.119145810604095,-0.020543830469251,-0.033186320215464,-0.199712082743645,-0.183076903223991,0.068585366010666,-0.098103195428848,-0.091144330799580,-0.135667130351067,-0.039242144674063,-0.008516740985215));
res += mul(Get(s2,-dx,-dy), float4x4(-0.068448230624199,0.086358204483986,0.026849249377847,0.063806839287281,0.191679477691650,0.018075359985232,0.381687432527542,0.159606531262398,0.205186992883682,0.079633057117462,-0.030297746881843,-0.005154692567885,-0.050739839673042,0.002338340971619,-0.004019037354738,0.158416688442230));
res += mul(Get(s2,-dx,0), float4x4(-0.062701821327209,0.103713802993298,0.032124269753695,-0.184463232755661,0.064954951405525,0.008268065750599,-0.063345618546009,-0.091481871902943,-0.015443877317011,0.073836661875248,-0.086744539439678,0.005602580029517,-0.034426502883434,0.103960439562798,-0.001209030626342,-0.108324535191059));
res += mul(Get(s2,-dx,dy), float4x4(-0.113681711256504,0.282772243022919,-0.073019392788410,0.019684752449393,-0.077900946140289,-0.080749183893204,-0.001226751366630,0.001574100460857,0.044253431260586,-0.030119009315968,0.062961436808109,-0.063535794615746,-0.107085160911083,0.100915953516960,-0.023386750370264,-0.190619304776192));
res += mul(Get(s2,0,-dy), float4x4(-0.029797855764627,0.126921996474266,0.002616759389639,-0.095537625253201,0.261582762002945,-0.100904516875744,0.089594632387161,0.022256892174482,-0.015141872689128,-0.100874274969101,0.101037472486496,0.017712756991386,0.085071988403797,-0.063026674091816,-0.002414557849988,0.075500696897507));
res += mul(Get(s2,0,0), float4x4(-0.118926376104355,-0.205854237079620,-0.036619044840336,0.088186204433441,0.051035862416029,0.058300174772739,-0.104784704744816,0.052367646247149,-0.030203413218260,0.025597706437111,-0.014730066061020,0.025359177961946,-0.010579807683825,-0.069459170103073,-0.004699249751866,0.006074221339077));
res += mul(Get(s2,0,dy), float4x4(-0.173235267400742,0.037997063249350,-0.039388868957758,0.012984141707420,-0.105143226683140,0.039011273533106,-0.138714909553528,0.052196931093931,-0.005413226317614,-0.078792348504066,0.036887742578983,0.043409720063210,-0.064499713480473,0.040711238980293,0.021909547969699,-0.083943098783493));
res += mul(Get(s2,dx,-dy), float4x4(-0.118547894060612,0.079823061823845,-0.056299980729818,-0.017433963716030,0.242010340094566,-0.068827293813229,-0.004314966034144,0.040457706898451,0.077786773443222,0.065352454781532,0.021743351593614,0.214532241225243,0.069759212434292,-0.102480158209801,0.073510475456715,-0.085948199033737));
res += mul(Get(s2,dx,0), float4x4(-0.074689574539661,-0.020979071035981,-0.084292635321617,0.056925795972347,0.021673621609807,0.081164397299290,-0.002059690188617,-0.011564712971449,0.124407209455967,0.015327415429056,0.056187085807323,0.181141808629036,0.050959248095751,-0.027203351259232,0.041860312223434,0.047456610947847));
res += mul(Get(s2,dx,dy), float4x4(-0.081470556557178,0.041868582367897,-0.068215854465961,0.030484197661281,-0.124380752444267,0.142782524228096,0.113909833133221,-0.081521749496460,0.236614704132080,-0.028444232419133,0.013788738287985,0.010748441331089,-0.006597997620702,0.124628767371178,0.045992299914360,0.013600893318653));
res += mul(Get(s3,-dx,-dy), float4x4(0.065172426402569,-0.030661281198263,-0.094330012798309,0.013024652376771,0.039420362561941,-0.007119817659259,0.111355863511562,0.054317299276590,-0.105132676661015,0.046739108860493,0.085019059479237,0.058027520775795,0.190974980592728,0.082465790212154,0.005168992560357,0.138928562402725));
res += mul(Get(s3,-dx,0), float4x4(-0.087327577173710,0.034613911062479,0.048272591084242,0.060497809201479,0.014447604306042,-0.078174948692322,0.035545468330383,-0.038797870278358,-0.017446456477046,-0.006844462361187,-0.099152483046055,0.008850278332829,0.091841608285904,-0.073402315378189,0.000838233972900,-0.164437666535378));
res += mul(Get(s3,-dx,dy), float4x4(-0.071661733090878,-0.017896760255098,-0.015963962301612,-0.093806728720665,-0.073912858963013,-0.003138242755085,0.009060188196599,-0.008585605770350,0.016652625054121,-0.104862615466118,0.190066918730736,0.048809245228767,0.165666863322258,0.162337988615036,-0.008428393863142,-0.073292762041092));
res += mul(Get(s3,0,-dy), float4x4(0.049901716411114,0.040466904640198,-0.014831932261586,0.011765388771892,0.054700557142496,-0.065124481916428,-0.066616870462894,0.025918122380972,-0.149076968431473,-0.035798784345388,0.079626582562923,0.041463594883680,0.045701522380114,0.004786922596395,-0.049411874264479,0.006963043939322));
res += mul(Get(s3,0,0), float4x4(-0.185231953859329,-0.024592667818069,0.032917112112045,0.042839527130127,0.054051272571087,-0.190726742148399,0.012966904789209,-0.081675827503204,-0.056265465915203,0.019028406590223,-0.003185997484252,-0.051415625959635,0.147088751196861,-0.093886271119118,-0.113405466079712,-0.053802866488695));
res += mul(Get(s3,0,dy), float4x4(-0.051131296902895,0.081658840179443,0.007141222245991,-0.040611840784550,0.139257535338402,0.076564960181713,-0.024179752916098,-0.011467047035694,-0.006829210557044,0.061681244522333,-0.012881497852504,-0.112540103495121,0.101721800863743,0.177450954914093,0.057747669517994,0.028187461197376));
res += mul(Get(s3,dx,-dy), float4x4(-0.038795091211796,0.029600599780679,-0.003825712250546,-0.032287556678057,-0.151432648301125,0.060828220099211,-0.133630990982056,-0.130957245826721,-0.261849611997604,0.116233147680759,0.003151810029522,-0.017660943791270,0.151497498154640,-0.049046516418457,-0.005627437029034,0.073837213218212));
res += mul(Get(s3,dx,0), float4x4(-0.048125509172678,-0.004795280750841,-0.095367208123207,0.025532601401210,-0.095687955617905,0.187110498547554,-0.005716990213841,-0.004973460454494,-0.040058035403490,0.280163168907166,-0.083918347954750,-0.027007140219212,0.081015840172768,-0.077070377767086,-0.061561420559883,0.091574959456921));
res += mul(Get(s3,dx,dy), float4x4(0.096541501581669,0.201780036091805,-0.012061319313943,0.027303103357553,0.065712504088879,0.023470455780625,-0.098860442638397,-0.032236542552710,0.010294109582901,0.125687167048454,-0.041853450238705,-0.056489329785109,-0.014321715570986,0.117508649826050,-0.094426661729813,0.071870535612106));
return max(float4(0,0,0,0), res);
}
