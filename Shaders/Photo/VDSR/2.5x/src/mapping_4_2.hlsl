sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.043756078928709,-0.211895838379860,0.036263886839151,0.241580620408058,-0.099122658371925,-0.194488286972046,-0.174236476421356,0.159266531467438,0.131018683314323,0.117649510502815,-0.007485380396247,-0.047487951815128,0.073401175439358,0.032845564186573,0.050562612712383,-0.107672184705734));
res += mul(Get(s0,-dx,0), float4x4(0.151794061064720,-0.097769051790237,-0.025433490052819,0.096611484885216,-0.067492336034775,-0.256534665822983,-0.007928656414151,0.069014370441437,-0.120306201279163,-0.133553609251976,-0.087922342121601,0.082640208303928,-0.183306902647018,-0.003798235207796,-0.131138011813164,-0.035737983882427));
res += mul(Get(s0,-dx,dy), float4x4(-0.025306738913059,-0.140050888061523,0.004090864676982,0.031085019931197,0.041955359280109,-0.255227625370026,0.065445311367512,-0.014041326940060,-0.082793436944485,0.051633223891258,0.043254956603050,-0.043702948838472,0.025072477757931,-0.067494519054890,0.055058680474758,-0.092436537146568));
res += mul(Get(s0,0,-dy), float4x4(-0.065488517284393,0.005221378989518,-0.099307321012020,-0.117864660918713,-0.171808376908302,-0.098756812512875,0.138343662023544,0.154813379049301,-0.007045945618302,-0.169847816228867,0.082945972681046,0.094289183616638,-0.163853377103806,0.196221917867661,0.102384835481644,-0.053257469087839));
res += mul(Get(s0,0,0), float4x4(-0.088265702128410,-0.038506858050823,0.000809627294075,0.179395630955696,-0.138380363583565,-0.039256229996681,0.023273400962353,-0.074417248368263,-0.110876441001892,-0.049025971442461,0.011321570724249,0.015686390921474,-0.289028584957123,-0.185422450304031,0.023551868274808,-0.107319653034210));
res += mul(Get(s0,0,dy), float4x4(0.186357542872429,0.046772904694080,-0.035596113651991,-0.005656923633069,-0.101889744400978,0.045800764113665,0.019800052046776,-0.088116668164730,0.135735288262367,0.144712001085281,0.019027328118682,0.113885223865509,-0.049437891691923,0.052692260593176,0.010713367722929,0.051403015851974));
res += mul(Get(s0,dx,-dy), float4x4(0.230971395969391,-0.099194310605526,0.079204410314560,-0.019841503351927,0.036821678280830,-0.125520586967468,-0.092126287519932,-0.044309951364994,-0.019333045929670,-0.077614873647690,-0.023544054478407,0.198040828108788,0.008338721469045,0.215403750538826,0.142005950212479,-0.125983670353889));
res += mul(Get(s0,dx,0), float4x4(0.141863882541656,0.039329662919044,0.108405113220215,0.002339545404539,-0.131963759660721,-0.075532503426075,-0.181838214397430,-0.087662078440189,-0.017453785985708,0.086986474692822,-0.110193930566311,0.083071082830429,0.112703688442707,0.041254654526711,0.048459667712450,0.071715384721756));
res += mul(Get(s0,dx,dy), float4x4(-0.040321186184883,0.023451741784811,-0.052644480019808,0.026920441538095,0.203947752714157,-0.243661522865295,-0.011904817074537,0.016103878617287,0.206495165824890,-0.093764223158360,-0.032572533935308,0.096769124269485,0.015614281408489,0.087463892996311,0.081907689571381,0.043738409876823));
res += mul(Get(s1,-dx,-dy), float4x4(-0.030532045289874,-0.030947325751185,0.056375879794359,-0.167126551270485,-0.012821530923247,0.047697987407446,0.092495709657669,-0.183254912495613,-0.155385255813599,-0.051085986196995,-0.131477594375610,-0.078771062195301,-0.186016261577606,-0.183328345417976,-0.147778749465942,0.068871811032295));
res += mul(Get(s1,-dx,0), float4x4(-0.024361627176404,0.082902945578098,-0.061918985098600,-0.203005999326706,-0.129733398556709,-0.177015975117683,-0.024860367178917,-0.026187552139163,0.094011262059212,0.030322339385748,0.154068231582642,-0.189813449978828,0.030312554910779,-0.112715564668179,0.062570750713348,0.144233569502831));
res += mul(Get(s1,-dx,dy), float4x4(0.086368411779404,-0.189674347639084,-0.065214015543461,-0.137401178479195,0.019387062638998,-0.075523130595684,0.118612356483936,-0.124123208224773,-0.141044661402702,0.210701361298561,0.015375196933746,0.018751678988338,-0.196288451552391,0.105355240404606,0.164772421121597,-0.282835572957993));
res += mul(Get(s1,0,-dy), float4x4(0.165171235799789,-0.107330128550529,0.024376196786761,-0.114084154367447,0.001552680623718,-0.031333398073912,0.007729441393167,0.047040462493896,-0.040977209806442,-0.161974608898163,-0.018217260017991,-0.172200754284859,0.217144384980202,0.068775899708271,0.015754250809550,-0.030185658484697));
res += mul(Get(s1,0,0), float4x4(0.088419944047928,-0.100315935909748,-0.126783460378647,0.001080243266188,-0.063315935432911,0.032025516033173,0.047177955508232,-0.070243760943413,-0.028349591419101,-0.080054379999638,-0.068875581026077,-0.182158797979355,0.062574595212936,0.011359078809619,-0.119781799614429,-0.017222741618752));
res += mul(Get(s1,0,dy), float4x4(0.145825311541557,-0.099920526146889,0.002239464782178,0.031407620757818,0.005544849671423,0.128682300448418,0.036569353193045,0.010359949432313,0.069633297622204,-0.095068834722042,0.040109917521477,-0.080126099288464,0.161666840314865,-0.169474199414253,0.184016004204750,-0.028974348679185));
res += mul(Get(s1,dx,-dy), float4x4(0.214115977287292,0.258756667375565,-0.111564822494984,-0.167013555765152,-0.091709949076176,0.066096469759941,0.032950524240732,-0.103573694825172,-0.107667133212090,-0.182126119732857,0.208156645298004,-0.096917092800140,-0.175756976008415,-0.057047639042139,-0.114677064120770,0.176739737391472));
res += mul(Get(s1,dx,0), float4x4(-0.023143645375967,0.200446456670761,-0.193765133619308,-0.205241069197655,0.190996393561363,-0.002357689896598,0.003130123717710,0.184235528111458,0.025333652272820,0.095002032816410,-0.031277783215046,-0.103768549859524,0.072324581444263,-0.103846102952957,-0.070385448634624,-0.055429957807064));
res += mul(Get(s1,dx,dy), float4x4(0.022207049652934,-0.028307782486081,0.180899500846863,-0.055240157991648,-0.175288662314415,0.132493078708649,-0.000256891158642,0.015083911828697,-0.161492824554443,-0.024585012346506,0.175942674279213,0.194138318300247,0.064541131258011,0.143969386816025,0.052268009632826,-0.084455549716949));
res += mul(Get(s2,-dx,-dy), float4x4(0.149473994970322,-0.040376499295235,-0.019198482856154,0.008771940134466,-0.011863290332258,0.035264566540718,-0.040194306522608,-0.001139351050369,-0.011025967076421,-0.018226737156510,-0.089894607663155,-0.112926952540874,-0.001600334304385,-0.077577799558640,-0.111763104796410,-0.011420354247093));
res += mul(Get(s2,-dx,0), float4x4(0.054493911564350,0.059734724462032,-0.041275750845671,-0.160914838314056,-0.044513210654259,0.110364891588688,-0.132876083254814,-0.117287009954453,0.058176424354315,0.073272980749607,-0.059735096991062,0.044290240854025,-0.031186692416668,0.148619145154953,-0.119010291993618,0.026620451360941));
res += mul(Get(s2,-dx,dy), float4x4(-0.046296808868647,0.138769298791885,-0.041014872491360,0.143030524253845,0.182055056095123,0.049527455121279,-0.114741005003452,-0.072397172451019,-0.085020668804646,-0.000316522229696,0.139172583818436,-0.042329899966717,-0.053999260067940,0.065114863216877,0.026841498911381,-0.279285818338394));
res += mul(Get(s2,0,-dy), float4x4(-0.099773958325386,0.142716377973557,0.000754183914978,0.057225823402405,0.234785676002502,-0.045950885862112,-0.072800800204277,0.004507850855589,-0.056404266506433,-0.044130068272352,0.111100547015667,0.157969653606415,-0.010577607899904,-0.066364273428917,-0.051307115703821,-0.053845047950745));
res += mul(Get(s2,0,0), float4x4(-0.056271016597748,0.045668561011553,-0.042191009968519,0.234234794974327,-0.163044869899750,-0.091363526880741,0.006765634287149,0.037404473870993,-0.082766294479370,-0.020098265260458,0.099216341972351,-0.051752723753452,0.110723435878754,0.145511537790298,-0.107127808034420,0.019804136827588));
res += mul(Get(s2,0,dy), float4x4(-0.008592002093792,-0.158960700035095,-0.043259158730507,0.058191090822220,-0.239016175270081,-0.155193448066711,-0.054202791303396,0.134621426463127,-0.173670604825020,0.188254982233047,0.156409963965416,0.070261433720589,-0.151390343904495,-0.027031119912863,-0.080588012933731,0.011500654742122));
res += mul(Get(s2,dx,-dy), float4x4(-0.067912444472313,0.256552189588547,-0.067837119102478,-0.005196707788855,0.080334410071373,-0.013712166808546,-0.016476845368743,-0.065659575164318,-0.055910680443048,-0.006679757032543,0.021194193512201,-0.050436329096556,-0.039449363946915,-0.002758074784651,-0.067725509405136,0.167398840188980));
res += mul(Get(s2,dx,0), float4x4(-0.073246933519840,-0.137408971786499,-0.062134847044945,0.147954374551773,-0.079115703701973,-0.010945837944746,-0.075956352055073,-0.062783740460873,-0.123957395553589,0.105392754077911,-0.044452466070652,0.033843357115984,0.144448667764664,0.000633682706393,-0.145881995558739,0.033016446977854));
res += mul(Get(s2,dx,dy), float4x4(0.273299992084503,-0.087057664990425,-0.134903520345688,0.031598150730133,0.049456365406513,-0.014051066711545,-0.192299842834473,-0.037345189601183,0.312604427337646,-0.034131251275539,0.087633058428764,0.121594958007336,0.074822671711445,-0.010779710486531,-0.076255060732365,-0.000809689343441));
res += mul(Get(s3,-dx,-dy), float4x4(-0.158523470163345,0.009586511179805,0.036105025559664,0.027077116072178,-0.044888682663441,-0.071209840476513,-0.091722115874290,0.045557133853436,-0.076107881963253,-0.057325407862663,0.054218541830778,-0.053477462381124,-0.209933474659920,0.160461977124214,0.030123921111226,0.108747519552708));
res += mul(Get(s3,-dx,0), float4x4(0.099966391921043,-0.129608646035194,0.182798042893410,-0.144386380910873,0.053206648677588,-0.098632484674454,0.012887716293335,-0.026407416909933,-0.066779173910618,-0.035540554672480,-0.039912316948175,0.288229942321777,0.053720939904451,-0.011807307600975,0.008290497586131,0.025497229769826));
res += mul(Get(s3,-dx,dy), float4x4(0.069377683103085,0.119375027716160,-0.103072263300419,-0.027867736294866,0.038214419037104,0.029828526079655,-0.062867693603039,-0.083648771047592,-0.061515320092440,-0.090894468128681,-0.051747433841228,0.069466985762119,0.093083210289478,-0.037158720195293,-0.040529813617468,0.123317107558250));
res += mul(Get(s3,0,-dy), float4x4(0.079329632222652,-0.278086483478546,0.060684740543365,0.058650385588408,-0.151049092411995,-0.037304945290089,-0.121279664337635,-0.168519005179405,0.147332891821861,0.060144301503897,0.026012962684035,-0.036764491349459,0.092280671000481,0.030430195853114,0.107948079705238,-0.014766437932849));
res += mul(Get(s3,0,0), float4x4(-0.025128055363894,0.008339665830135,0.163225963711739,-0.045250367373228,0.036239102482796,-0.055440537631512,0.009041998535395,-0.066684357821941,0.061587411910295,0.024063961580396,0.031691305339336,0.143951356410980,0.144361630082130,-0.037274654954672,0.002645594533533,0.084229931235313));
res += mul(Get(s3,0,dy), float4x4(0.172356605529785,-0.063695877790451,-0.010938689112663,-0.256952047348022,0.034531012177467,-0.059372667223215,0.094909556210041,-0.234465599060059,-0.199522405862808,0.088601998984814,0.222972437739372,0.077375434339046,0.139008700847626,-0.136206924915314,0.052297875285149,-0.055063225328922));
res += mul(Get(s3,dx,-dy), float4x4(0.193653061985970,0.035903178155422,-0.097453273832798,0.087395012378693,-0.181086435914040,0.091392897069454,0.062710329890251,0.038780458271503,-0.116034269332886,0.021482260897756,-0.122184798121452,-0.038984235376120,-0.065004967153072,-0.059348441660404,0.187283709645271,0.090369239449501));
res += mul(Get(s3,dx,0), float4x4(0.047032371163368,-0.088880829513073,-0.016471158713102,-0.152608186006546,-0.123371921479702,-0.052613280713558,-0.000406118197134,-0.008231511339545,-0.191999718546867,0.032794054597616,-0.083511009812355,0.025475969538093,0.024809777736664,-0.054795272648335,0.133461326360703,-0.128737345337868));
res += mul(Get(s3,dx,dy), float4x4(-0.204690918326378,0.170473694801331,0.043594770133495,-0.112795837223530,0.151694566011429,-0.012084687128663,0.075225882232189,-0.140256389975548,-0.017159186303616,0.009145653806627,-0.054949361830950,0.071834802627563,-0.110997289419174,0.061809659004211,-0.046020772308111,-0.048770591616631));
return max(float4(0,0,0,0), res);
}
