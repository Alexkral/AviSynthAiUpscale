sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.002924154512584,-0.001986538292840,0.000656802323647,-0.002444832818583,0.212983891367912,0.090622842311859,-0.199738726019859,-0.187322899699211,-0.002121421741322,-0.003041927469894,-0.001177379046567,0.000217551132664,0.008742921054363,-0.002261820016429,0.004735160153359,0.002773978048936));
res += mul(Get(s0,-dx,0), float4x4(-0.002734570065513,-0.004191777203232,-0.007818867452443,0.003080853959545,-0.272816658020020,0.062139850109816,-0.249154999852180,-0.113967858254910,0.000045760483772,-0.005772751290351,-0.001993430079892,0.003197849262506,0.005616216454655,0.004819574765861,0.004920761100948,-0.001076285378076));
res += mul(Get(s0,-dx,dy), float4x4(0.004403068684042,-0.003431607969105,0.006320193875581,0.001150304451585,-0.139092430472374,0.234820678830147,-0.099078789353371,-0.030413972213864,-0.001122821820900,0.002752715954557,0.003273858455941,-0.000214321946260,0.000627774279565,-0.005347618367523,-0.002136697294191,0.001679399400018));
res += mul(Get(s0,0,-dy), float4x4(-0.003324743127450,-0.004570263903588,0.004811767023057,-0.000378689001082,0.392527818679810,-0.154527157545090,-0.104656144976616,0.417798548936844,-0.000767021439970,0.004699559882283,0.001639569527470,0.005821669939905,-0.001103383488953,-0.006400656886399,0.003214111551642,0.006450541317463));
res += mul(Get(s0,0,0), float4x4(-0.004837424028665,0.000534182065167,-0.002029159106314,0.001273023313843,-0.312631428241730,-0.394588530063629,-0.020111706107855,0.400635212659836,-0.003686067182571,0.006049060262740,0.001322639989667,0.002565238857642,-0.002558946609497,0.000747321755625,0.005124272778630,0.003418390173465));
res += mul(Get(s0,0,dy), float4x4(0.000489055702928,0.005401007831097,0.000920674414374,0.003742906032130,-0.422720074653625,0.360091418027878,0.049825865775347,0.144637852907181,-0.000796757172793,-0.005629368126392,-0.005928604863584,-0.000657302036416,0.003067191923037,0.004380639642477,0.001177152968012,0.003025578102097));
res += mul(Get(s0,dx,-dy), float4x4(0.006894035264850,0.001117515028454,0.003010940970853,0.000312601419864,0.494513332843781,-0.222430184483528,-0.144259035587311,-0.128915056586266,0.002629592549056,-0.004822731018066,-0.004133089911193,-0.000896466430277,-0.002550079952925,-0.002950020134449,0.005963400937617,-0.002988512394950));
res += mul(Get(s0,dx,0), float4x4(-0.000218951667193,0.002576127648354,0.001525039318949,-0.003195509081706,0.021141262724996,-0.291895687580109,0.104471385478973,-0.311545431613922,0.006646113470197,-0.005449301097542,0.000096567986475,-0.001425883499905,-0.001688471995294,-0.004657605662942,0.003900403156877,-0.001959670335054));
res += mul(Get(s0,dx,dy), float4x4(0.000911684241146,0.004540924914181,0.002674307208508,-0.001241756021045,-0.025423508137465,0.860319793224335,0.107082866132259,-0.249538064002991,-0.003384439973161,-0.000088316650363,-0.001875187503174,0.000644349493086,0.003251695306972,-0.000550613505766,0.000785643700510,0.000888141512405));
res += mul(Get(s1,-dx,-dy), float4x4(-0.142714917659760,-0.185171097517014,-0.018520468845963,-0.043225686997175,0.002722860313952,-0.003292223904282,-0.000941009202506,-0.001975899562240,0.089986391365528,-0.045447185635567,0.030197046697140,0.047229938209057,-0.000862593122292,0.000176545916474,-0.001183353248052,-0.006953526288271));
res += mul(Get(s1,-dx,0), float4x4(-0.223352178931236,-0.311373561620712,0.061574611812830,-0.002947709057480,0.001986350398511,0.004607332404703,0.001867174403742,0.004302109591663,-0.046337887644768,-0.045859899371862,0.027342019602656,0.035357676446438,0.006723693571985,0.005666688550264,-0.001848013256676,0.006017586681992));
res += mul(Get(s1,-dx,dy), float4x4(-0.092393793165684,0.100181005895138,0.121012188494205,0.036529317498207,0.002663523657247,-0.003969001118094,0.005465831141919,-0.002056441269815,-0.063953116536140,-0.081726059317589,0.019866805523634,0.053872939199209,0.006275499705225,-0.000533599639311,0.002380912424996,0.002821880159900));
res += mul(Get(s1,0,-dy), float4x4(-0.097878202795982,-0.322946637868881,0.056971218436956,0.079458504915237,0.013194161467254,-0.003713269950822,0.009749474003911,0.009345977567136,0.123982176184654,-0.051580384373665,-0.009596065618098,0.033437523990870,0.004253143444657,-0.001299660070799,0.005067908205092,0.008608927018940));
res += mul(Get(s1,0,0), float4x4(-0.195917353034019,-0.124609738588333,0.067926339805126,0.001932128798217,0.000507687509526,0.004397669341415,0.001525990315713,0.009196844883263,-0.015613176859915,-0.007439258042723,0.006172733847052,0.025795590132475,0.000081126956502,0.001651175785810,0.007779714651406,0.012612583115697));
res += mul(Get(s1,0,dy), float4x4(-0.065118864178658,0.362360924482346,-0.022446254268289,0.058560013771057,-0.003400444285944,0.006422012113035,-0.002055781194940,-0.004830299410969,-0.072663851082325,-0.089432626962662,0.038702946156263,0.016592634841800,0.004400952719152,-0.001693911151960,0.000276308943285,0.008225044235587));
res += mul(Get(s1,dx,-dy), float4x4(0.119281500577927,-0.175810396671295,0.007514256518334,-0.188606768846512,0.007480251602829,0.006822155322880,0.001614215085283,-0.007830290123820,-0.011135178618133,-0.102845788002014,-0.015150918625295,0.021108599379659,0.000192646009964,0.000604342727456,0.000073386960139,-0.003006839659065));
res += mul(Get(s1,dx,0), float4x4(0.161945149302483,0.070608474314213,-0.004085412714630,-0.107327245175838,0.002264810958877,0.007900141179562,-0.006844155490398,0.000842855020892,-0.042753215879202,-0.008768175728619,0.015003326348960,-0.013792541809380,0.003036535577849,-0.000780102913268,-0.002782582538202,-0.005306442733854));
res += mul(Get(s1,dx,dy), float4x4(0.160573735833168,0.284419238567352,-0.031089860945940,0.016258547082543,-0.000549979042262,0.003618935123086,-0.002561379922554,0.005692395847291,-0.016419230028987,-0.102383896708488,0.089345037937164,-0.016852349042892,-0.002612287877128,0.001899489318021,0.004642390180379,0.000802296388429));
res += mul(Get(s2,-dx,-dy), float4x4(-0.001452385098673,0.001690476783551,-0.000280671432847,0.000802395108622,0.044821888208389,0.005017421208322,-0.052484784275293,0.002856485545635,-0.153700470924377,-0.043960612267256,-0.026343626901507,0.003744957968593,-0.005522125400603,-0.024615086615086,0.006845702882856,-0.001560669392347));
res += mul(Get(s2,-dx,0), float4x4(-0.002453294349834,0.004998357500881,-0.001740117790177,0.003824809100479,0.021681772544980,0.043056484311819,-0.064312599599361,-0.005641900468618,-0.096470698714256,-0.311391502618790,0.016928868368268,0.100789956748486,-0.010557637549937,-0.019495636224747,-0.006629189476371,-0.001677298685536));
res += mul(Get(s2,-dx,dy), float4x4(0.002132423222065,0.001657593413256,0.008018184453249,-0.003499126061797,0.037731256335974,0.071402177214622,-0.078382074832916,-0.003531411057338,0.054453235119581,0.133631914854050,0.075022973120213,0.066802725195885,-0.011577120050788,0.000762711279094,-0.016652826219797,-0.005101420450956));
res += mul(Get(s2,0,-dy), float4x4(-0.002841910347342,0.006045504473150,0.002973485505208,0.002909536240622,0.034741230309010,-0.116247862577438,-0.046429716050625,0.043327644467354,-0.156854093074799,0.024469213560224,-0.003355400171131,-0.018830072134733,0.024912953376770,-0.085833914577961,0.010371152311563,0.009878519922495));
res += mul(Get(s2,0,0), float4x4(-0.003890835680068,-0.007456873543561,0.002631447743624,0.000247205811320,0.002396221505478,-0.043994612991810,-0.020951507613063,0.029884250834584,-0.083414822816849,-0.227174118161201,-0.037340063601732,0.033578723669052,0.022138075903058,-0.042736902832985,0.029855774715543,0.018300903961062));
res += mul(Get(s2,0,dy), float4x4(0.002051089657471,-0.001651450758800,-0.003692841855809,-0.002832578029484,-0.055725391954184,0.031267847865820,-0.055422190576792,-0.018666001036763,0.199132993817329,0.019503289833665,-0.024406498298049,0.118754900991917,-0.037463903427124,0.013712368905544,0.000541498768143,0.002951093483716));
res += mul(Get(s2,dx,-dy), float4x4(-0.001545790000819,0.000854502490256,0.001593920052983,0.002837646519765,0.035130709409714,-0.017513131722808,-0.003570305649191,0.005485235247761,-0.155476927757263,0.018682649359107,0.063527956604958,-0.011639950796962,0.037449210882187,-0.026433335617185,-0.004498559981585,0.003781635314226));
res += mul(Get(s2,dx,0), float4x4(0.001339976559393,-0.003072306746617,0.001908393576741,0.000969293643720,0.056856833398342,-0.037849403917789,0.013261218555272,-0.002271327655762,-0.038868479430676,-0.342733383178711,-0.010049945674837,-0.004268891643733,0.063706733286381,-0.060823302716017,0.020693354308605,0.003848289139569));
res += mul(Get(s2,dx,dy), float4x4(-0.001277386909351,-0.004686180502176,-0.004011882469058,-0.000851866381709,0.056828856468201,-0.011878446675837,0.003401596564800,-0.006628110539168,0.173747852444649,-0.131853282451630,0.010066995397210,0.146076098084450,0.041640255600214,-0.046186771243811,0.026778845116496,-0.001258737524040));
res += mul(Get(s3,-dx,-dy), float4x4(0.091718457639217,-0.010667130351067,0.001383377471939,-0.004508577287197,0.007978988811374,-0.002393135568127,-0.000920301070437,-0.004776406567544,-0.080615811049938,-0.068292401731014,0.077827744185925,0.019725179299712,0.039492059499025,-0.054977260529995,-0.013521082699299,-0.009705029428005));
res += mul(Get(s3,-dx,0), float4x4(0.007469692733139,0.000790510734078,-0.001324604498222,0.027532914653420,-0.002485402626917,-0.001085309544578,-0.006546918302774,-0.002235881285742,-0.216059833765030,-0.096881374716759,0.148471370339394,0.002953235059977,0.131815478205681,-0.120769307017326,-0.007476655766368,0.085749827325344));
res += mul(Get(s3,-dx,dy), float4x4(0.095846161246300,-0.078242689371109,0.009042968973517,0.081739068031311,-0.000908413901925,-0.005513244774193,-0.008631926961243,-0.002601364627481,-0.231360822916031,-0.005128162447363,0.125877678394318,-0.010687642730772,0.207472845911980,-0.145197153091431,-0.008894264698029,0.079247161746025));
res += mul(Get(s3,0,-dy), float4x4(0.082414336502552,-0.018973570317030,-0.008436309173703,0.005027730949223,0.004578263033181,-0.003317746566609,-0.006328698247671,-0.003966608084738,0.088594056665897,-0.149641945958138,0.110023997724056,0.037427771836519,0.027218287810683,-0.062577866017818,-0.013305263593793,-0.036133322864771));
res += mul(Get(s3,0,0), float4x4(0.042855821549892,0.000292706186883,0.001380923436955,0.047836206853390,0.004790284205228,-0.001496787415817,-0.000898092403077,-0.007454709149897,-0.008984070271254,-0.069754511117935,0.230763554573059,0.056521065533161,0.052175451070070,-0.138963937759399,-0.004050292540342,0.074104763567448));
res += mul(Get(s3,0,dy), float4x4(0.104107528924942,-0.096635684370995,0.054357893764973,0.068287275731564,0.002092076931149,-0.002681318903342,-0.002278512809426,0.002345297951251,-0.089755594730377,0.052724923938513,0.102505236864090,0.026149230077863,0.103937886655331,-0.100150227546692,0.003021614393219,0.026524353772402));
res += mul(Get(s3,dx,-dy), float4x4(0.064710170030594,-0.027224665507674,-0.002582725603133,0.012699414044619,0.004007066134363,-0.003198756603524,-0.002683472121134,0.008030141703784,0.029456624761224,0.158439740538597,-0.014156861230731,0.036227613687515,-0.051588114351034,-0.115880198776722,-0.093806475400925,0.026459557935596));
res += mul(Get(s3,dx,0), float4x4(0.043411690741777,-0.006525624077767,0.007192783523351,-0.014443585649133,0.003598700277507,-0.001569333719090,0.000128698040498,0.008663672022521,0.083027452230453,-0.027160862460732,0.074349820613861,0.036230873316526,-0.021288661286235,-0.025437515228987,-0.115858212113380,0.018143717199564));
res += mul(Get(s3,dx,dy), float4x4(0.135855942964554,-0.082406491041183,0.075556375086308,0.022121641784906,-0.000872756470926,-0.003463928587735,-0.002417176729068,-0.001399414613843,0.029045403003693,-0.083619296550751,0.129533633589745,0.020923236384988,-0.021166162565351,0.119505375623703,-0.132095083594322,0.014414579607546));
return max(float4(0,0,0,0), res);
}
