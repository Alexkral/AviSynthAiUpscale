sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.224907293915749,-0.119524531066418,0.076271638274193,0.073957808315754,-0.047820694744587,0.069080635905266,-0.002746397163719,0.115158803761005,-0.050598409026861,-0.049046289175749,-0.027938349172473,0.000874707067851,-0.065944612026215,-0.043448492884636,0.022124746814370,0.145980209112167));
res += mul(Get(s0,-dx,0), float4x4(0.050928033888340,-0.160986691713333,0.117219895124435,0.049987092614174,0.026824140921235,-0.006569430697709,0.039781533181667,-0.003917411901057,-0.084777742624283,0.052703324705362,0.043413717299700,-0.018636284396052,0.064226061105728,0.017426805570722,0.006582197733223,0.044890921562910));
res += mul(Get(s0,-dx,dy), float4x4(0.024435553699732,-0.050251148641109,-0.048995573073626,-0.039407070726156,0.084288269281387,0.052381657063961,0.047393698245287,-0.093155115842819,-0.116507291793823,0.109838090837002,-0.043756358325481,-0.043526835739613,-0.055547527968884,-0.063440822064877,-0.106211826205254,0.020113047212362));
res += mul(Get(s0,0,-dy), float4x4(-0.008919809013605,0.010691282339394,-0.079479135572910,0.321339964866638,-0.035557325929403,0.081466168165207,0.006776974536479,-0.027777403593063,-0.145223051309586,0.066348575055599,-0.022676290944219,0.040492780506611,-0.003070490434766,-0.045930441468954,0.137246593832970,0.037695236504078));
res += mul(Get(s0,0,0), float4x4(0.116239234805107,0.000422696641181,-0.006465819664299,-0.031699404120445,0.030214896425605,0.249441981315613,-0.026159904897213,0.043103057891130,-0.056320805102587,0.116662085056305,-0.108515322208405,-0.032135885208845,-0.062586881220341,-0.067517660558224,0.021397503092885,0.039055697619915));
res += mul(Get(s0,0,dy), float4x4(-0.040132239460945,-0.006952494382858,-0.124499693512917,-0.057449150830507,0.117882460355759,0.098295122385025,-0.037601556628942,-0.046895429491997,-0.061205368489027,-0.064292803406715,-0.076238811016083,-0.100377805531025,-0.099709764122963,0.121789507567883,-0.034051194787025,0.070125386118889));
res += mul(Get(s0,dx,-dy), float4x4(-0.097455948591232,-0.006273896433413,-0.072750926017761,0.138440459966660,0.051241327077150,0.100114725530148,0.009425171650946,0.155481725931168,0.012558443471789,0.018346993252635,-0.092317812144756,0.003464191453531,0.078367426991463,-0.040991738438606,0.020936241373420,0.081997826695442));
res += mul(Get(s0,dx,0), float4x4(-0.044455267488956,0.090449035167694,0.143456444144249,-0.071661069989204,-0.014552964828908,-0.059226386249065,-0.015765015035868,0.012278662063181,0.021615209057927,-0.188471004366875,-0.074631020426750,-0.085879944264889,0.073125243186951,-0.000916785385925,-0.079179175198078,-0.036849506199360));
res += mul(Get(s0,dx,dy), float4x4(0.016711657866836,0.025193339213729,-0.149740621447563,-0.084841646254063,-0.004204510711133,0.053040325641632,-0.082597650587559,0.021017178893089,0.038777276873589,-0.099559158086777,-0.074136331677437,-0.090917505323887,0.010309129953384,0.005948145873845,-0.038476463407278,-0.084813922643661));
res += mul(Get(s1,-dx,-dy), float4x4(0.011233829893172,0.053190480917692,0.015759542584419,0.002884440356866,0.138020008802414,0.012737419456244,0.039132755249739,0.003649984952062,-0.067263014614582,-0.115560732781887,-0.070519104599953,0.011842824518681,-0.128182306885719,-0.014326817356050,0.086781576275826,-0.059066057205200));
res += mul(Get(s1,-dx,0), float4x4(-0.015474438667297,0.114318683743477,0.064811117947102,-0.031219849362969,0.090030498802662,0.042272903025150,-0.037251278758049,-0.127461493015289,-0.066417664289474,-0.090973652899265,-0.031040931120515,-0.018637698143721,-0.097552984952927,-0.000463990436401,0.021828910335898,-0.074053481221199));
res += mul(Get(s1,-dx,dy), float4x4(0.000792007660493,0.032522600144148,-0.002074491931126,-0.012257619760931,0.071806535124779,-0.058196641504765,0.000700450502336,0.077753819525242,0.032707057893276,-0.017315907403827,-0.074228607118130,0.023809026926756,-0.070048585534096,0.045966945588589,0.226772248744965,0.074698567390442));
res += mul(Get(s1,0,-dy), float4x4(-0.115156464278698,-0.088217914104462,0.232114002108574,-0.104788802564144,0.089139789342880,0.068627171218395,-0.004452862776816,0.020291633903980,-0.001607923884876,-0.080139636993408,0.022198285907507,-0.087824366986752,-0.001388520700857,-0.035388179123402,-0.017082091420889,0.135418862104416));
res += mul(Get(s1,0,0), float4x4(-0.069017842411995,0.140490546822548,0.231931686401367,0.158042863011360,0.010592872276902,0.058055400848389,0.031218688935041,-0.151681229472160,-0.063199169933796,-0.121003113687038,0.154067441821098,0.031911674886942,-0.017993470653892,-0.047282908111811,-0.041102718561888,0.008824748918414));
res += mul(Get(s1,0,dy), float4x4(-0.046708665788174,0.058468636125326,-0.006832095328718,-0.007346302736551,0.080069229006767,0.078606113791466,0.095861442387104,0.054348487406969,0.043323788791895,-0.091272316873074,0.009615691378713,0.017392918467522,0.024102067574859,0.098479583859444,0.100361742079258,0.094271816313267));
res += mul(Get(s1,dx,-dy), float4x4(-0.062565810978413,0.119913347065449,0.057207655161619,-0.059226844459772,0.144056811928749,-0.092239432036877,0.093570403754711,-0.009550634771585,0.015702454373240,-0.052506078034639,0.008971077390015,-0.135754302144051,-0.068226724863052,0.019471419975162,0.042733557522297,0.003551070578396));
res += mul(Get(s1,dx,0), float4x4(0.030901890248060,-0.002437595045194,-0.080035790801048,0.004241444636136,-0.002453917637467,0.034931182861328,0.078892521560192,-0.181339621543884,0.060156829655170,-0.080463141202927,0.017641142010689,0.057932827621698,-0.021784868091345,0.030553270131350,-0.006292410194874,-0.030149463564157));
res += mul(Get(s1,dx,dy), float4x4(-0.149646997451782,0.106033101677895,0.000940178520977,-0.073387205600739,0.073824577033520,0.029204705730081,0.049371216446161,0.038023728877306,0.092757843434811,-0.052097246050835,-0.112431123852730,-0.028659548610449,-0.083937771618366,0.034930504858494,0.090927235782146,0.067962437868118));
res += mul(Get(s2,-dx,-dy), float4x4(-0.070815593004227,-0.115070000290871,0.045863211154938,0.104192160069942,-0.036754641681910,0.005935193970799,-0.069008983671665,-0.080066323280334,-0.160645872354507,-0.032568939030170,0.006735926028341,-0.014516788534820,0.167819872498512,0.005218883976340,0.007321356330067,0.001411361852661));
res += mul(Get(s2,-dx,0), float4x4(-0.054790824651718,-0.103109225630760,-0.090308308601379,0.034280214458704,0.006973884534091,0.047275945544243,-0.015929320827127,-0.175291970372200,-0.057873390614986,0.133112967014313,-0.020968602970243,0.032787322998047,0.087742872536182,-0.051334097981453,-0.012697095982730,0.022723142057657));
res += mul(Get(s2,-dx,dy), float4x4(-0.074663013219833,-0.099104166030884,-0.026551807299256,-0.019507093355060,0.005199856590480,0.117190681397915,0.056933194398880,-0.069045118987560,-0.087911754846573,-0.010837710462511,-0.073510855436325,-0.019579369574785,-0.008989647030830,-0.049003992229700,0.122849740087986,-0.002647471614182));
res += mul(Get(s2,0,-dy), float4x4(-0.015018951147795,-0.104835800826550,0.098545610904694,0.029844650998712,0.029605530202389,-0.002033466473222,-0.030462980270386,0.151019662618637,-0.139989972114563,0.091569900512695,-0.042033195495605,0.045933265239000,0.016101026907563,0.058904200792313,0.052515596151352,-0.037622306495905));
res += mul(Get(s2,0,0), float4x4(-0.014425243251026,-0.095681369304657,-0.118387378752232,-0.138877004384995,0.011958013288677,0.001427103648894,-0.025980314239860,0.068215988576412,-0.057150255888700,0.094613678753376,0.005512119270861,0.053930994123220,0.045967586338520,0.043098531663418,-0.070239573717117,-0.085672371089458));
res += mul(Get(s2,0,dy), float4x4(-0.030044583603740,-0.132605358958244,-0.064589299261570,-0.181708291172981,-0.017498616129160,-0.061668928712606,-0.034966077655554,0.053870331496000,0.019513489678502,-0.031244970858097,-0.067306801676750,0.063261233270168,-0.014219867065549,-0.038204830139875,-0.052720144391060,0.021563885733485));
res += mul(Get(s2,dx,-dy), float4x4(0.145978391170502,-0.111075095832348,0.127054825425148,-0.034445509314537,0.032674793154001,0.046796895563602,-0.124750934541225,0.053901527076960,0.041144963353872,-0.036927018314600,-0.063161492347717,0.029519496485591,0.069299161434174,0.088365569710732,0.058525372296572,-0.005442181136459));
res += mul(Get(s2,dx,0), float4x4(0.084907218813896,-0.071578688919544,-0.070541471242905,-0.072737261652946,0.012884932570159,-0.075321674346924,-0.044777527451515,-0.085542060434818,-0.024146432057023,-0.075561963021755,-0.109287127852440,0.053380861878395,-0.078425899147987,0.079535357654095,-0.035206306725740,-0.130314797163010));
res += mul(Get(s2,dx,dy), float4x4(-0.023835821077228,-0.036516796797514,-0.004642055369914,-0.062090273946524,0.041300162672997,-0.022968156263232,-0.061652019619942,0.016569023951888,-0.056860078126192,-0.011497191153467,-0.134752735495567,-0.115356639027596,-0.023443723097444,0.015274429693818,-0.030505230650306,-0.029466116800904));
res += mul(Get(s3,-dx,-dy), float4x4(-0.004882360342890,-0.048742886632681,0.006236345041543,0.117712840437889,-0.004461024422199,-0.028342599049211,0.129036471247673,-0.010936613194644,-0.238291874527931,0.024103149771690,0.048386927694082,-0.146451964974403,-0.036500863730907,-0.035186968743801,0.122529610991478,-0.060259304940701));
res += mul(Get(s3,-dx,0), float4x4(0.210167169570923,-0.025519359856844,-0.023637857288122,-0.057771958410740,-0.014300923794508,-0.060175828635693,0.001481632352807,0.022446969524026,-0.154455721378326,0.118780545890331,0.098307825624943,0.125168710947037,0.075253374874592,-0.062346752732992,0.073853917419910,-0.072830587625504));
res += mul(Get(s3,-dx,dy), float4x4(0.045955050736666,-0.059007462114096,0.109166271984577,0.083530701696873,-0.082440569996834,0.022409390658140,0.078483924269676,0.073543608188629,-0.159825831651688,-0.030042523518205,0.011817521415651,0.046828597784042,-0.131897240877151,-0.029474189504981,0.002786605618894,-0.059987876564264));
res += mul(Get(s3,0,-dy), float4x4(0.111532248556614,-0.133037015795708,0.083055317401886,-0.062558054924011,-0.098344206809998,-0.133844986557961,-0.044671192765236,0.013228789903224,-0.067763634026051,-0.024242566898465,0.006986667867750,-0.022780906409025,-0.105386205017567,-0.054352603852749,0.138409271836281,0.098525457084179));
res += mul(Get(s3,0,0), float4x4(0.102499365806580,-0.098922193050385,0.089037694036961,0.031116593629122,0.104445211589336,0.029861027374864,0.064950056374073,0.069788493216038,-0.156305253505707,-0.085212253034115,-0.085248008370399,0.065871208906174,-0.005784983746707,0.000319034385029,-0.054951407015324,-0.088574551045895));
res += mul(Get(s3,0,dy), float4x4(0.073814667761326,-0.163605377078056,0.060080427676439,0.109083101153374,-0.065802447497845,-0.118668638169765,0.060039140284061,0.153759375214577,-0.089443378150463,0.034637913107872,-0.103012673556805,0.032338060438633,0.045968934893608,0.047897648066282,-0.044388733804226,-0.119007326662540));
res += mul(Get(s3,dx,-dy), float4x4(-0.012775301001966,0.039792373776436,0.006723989732563,0.046275764703751,0.065949812531471,-0.110727034509182,0.074305206537247,-0.084401622414589,-0.072653695940971,-0.017494529485703,0.034176602959633,-0.056600950658321,-0.004261764697731,0.044815015047789,0.034887488931417,0.046240452677011));
res += mul(Get(s3,dx,0), float4x4(-0.046776056289673,0.101097747683525,-0.028436288237572,-0.012905867770314,-0.057104505598545,-0.051892932504416,-0.051576070487499,-0.124812059104443,-0.043056640774012,0.057726707309484,-0.042190670967102,-0.027322307229042,-0.067677758634090,0.116365425288677,0.050072871148586,-0.102176524698734));
res += mul(Get(s3,dx,dy), float4x4(-0.059551585465670,0.119748786091805,-0.017898412421346,-0.006949999835342,-0.060918904840946,-0.023652292788029,0.066306464374065,0.041721407324076,0.082668520510197,-0.061279390007257,-0.007770237047225,-0.166061863303185,0.042609840631485,-0.012564754113555,0.028350867331028,-0.143265083432198));
return max(float4(0,0,0,0), res);
}
