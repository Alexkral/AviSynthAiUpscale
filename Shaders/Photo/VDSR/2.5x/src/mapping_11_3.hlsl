sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.085773773491383,-0.082893259823322,-0.027019467204809,0.024351583793759,0.024352224543691,0.174520805478096,0.295582979917526,-0.037115521728992,0.080716095864773,0.332948803901672,-0.208480477333069,-0.016040429472923,-0.089771948754787,0.007633721921593,0.062959305942059,-0.112588979303837));
res += mul(Get(s0,-dx,0), float4x4(0.016993016004562,0.020374573767185,0.027313446626067,-0.003340516937897,-0.058565098792315,0.080790847539902,0.003807612229139,0.129494294524193,-0.107283473014832,0.010480973869562,0.044251020997763,-0.013926208950579,-0.143813923001289,0.011120726354420,0.070047140121460,0.008494501002133));
res += mul(Get(s0,-dx,dy), float4x4(-0.067616686224937,0.011235430836678,0.022402688860893,0.144802600145340,-0.014588775113225,-0.113514773547649,0.055233921855688,-0.020471459254622,0.029862394556403,-0.190097793936729,-0.019263129681349,0.042100910097361,-0.042814083397388,0.042509384453297,-0.215570151805878,0.146008536219597));
res += mul(Get(s0,0,-dy), float4x4(-0.184213742613792,-0.062307517975569,-0.083797641098499,-0.115527242422104,-0.137741789221764,-0.076245434582233,0.066092528402805,-0.113568946719170,-0.023241257295012,-0.015231639146805,0.051477219909430,-0.017023228108883,0.052271999418736,-0.121871441602707,-0.043442599475384,-0.229499742388725));
res += mul(Get(s0,0,0), float4x4(-0.040995698422194,0.144022211432457,-0.098573766648769,-0.007005623541772,0.094740748405457,-0.084833689033985,-0.135667279362679,-0.055841781198978,-0.045546736568213,-0.067934043705463,0.012647768482566,-0.035488307476044,0.036944970488548,-0.136180624365807,0.052850786596537,-0.100273191928864));
res += mul(Get(s0,0,dy), float4x4(-0.011859469115734,-0.115606151521206,0.030327150598168,-0.169646218419075,-0.012459684163332,-0.069828458130360,-0.036851488053799,-0.063814923167229,0.069876231253147,-0.086161687970161,0.111248977482319,-0.017865868285298,0.095774807035923,-0.192149817943573,-0.115788049995899,-0.187787786126137));
res += mul(Get(s0,dx,-dy), float4x4(0.050074368715286,0.072940669953823,-0.049934823065996,0.029481075704098,-0.067303836345673,0.049816988408566,-0.022896930575371,0.052884373813868,0.104882992804050,-0.089668937027454,0.002929492620751,0.133450299501419,-0.031791735440493,-0.052819013595581,-0.141410410404205,-0.005658346228302));
res += mul(Get(s0,dx,0), float4x4(0.089336141943932,-0.091664128005505,0.019537929445505,0.060253247618675,0.099649965763092,0.017841968685389,0.129579395055771,-0.017950886860490,0.055454380810261,0.130909591913223,-0.094846181571484,0.000582280510571,0.013409442268312,-0.043524786829948,0.041028477251530,-0.031530771404505));
res += mul(Get(s0,dx,dy), float4x4(-0.048452701419592,-0.022610055282712,-0.053831953555346,-0.058607034385204,-0.061660163104534,-0.119960419833660,-0.001834594761021,0.101844817399979,0.018525689840317,0.035359438508749,0.008359293453395,-0.209896788001060,0.054157953709364,-0.072819992899895,0.149257943034172,0.089458428323269));
res += mul(Get(s1,-dx,-dy), float4x4(0.050481148064137,-0.032346718013287,0.292695164680481,-0.188195690512657,0.040041521191597,0.174140289425850,0.118403539061546,-0.008601917885244,0.048430338501930,0.186570748686790,0.033442229032516,0.091084316372871,-0.071377664804459,-0.045599877834320,-0.034815613180399,-0.072983242571354));
res += mul(Get(s1,-dx,0), float4x4(-0.050165820866823,0.057865012437105,-0.074200563132763,0.040893632918596,-0.052545838057995,-0.122329935431480,0.033651109784842,-0.016963962465525,-0.052117783576250,-0.162234812974930,0.045692253857851,0.018390381708741,0.048484005033970,0.210820555686951,0.015791004523635,0.043658178299665));
res += mul(Get(s1,-dx,dy), float4x4(-0.126635745167732,0.001701704226434,-0.007692266255617,0.031762801110744,0.060014791786671,0.010124444961548,-0.124281771481037,-0.203988388180733,0.047045100480318,0.002708314452320,0.097974084317684,0.074479378759861,-0.087033443152905,0.116045974195004,0.027614107355475,0.049438901245594));
res += mul(Get(s1,0,-dy), float4x4(0.041157435625792,0.072755105793476,-0.063711270689964,0.149332061409950,-0.059195704758167,-0.182581171393394,0.042276542633772,-0.129711478948593,-0.121452517807484,-0.159538581967354,-0.219518259167671,0.120443038642406,0.066140517592430,-0.126429200172424,-0.115962073206902,-0.034402821213007));
res += mul(Get(s1,0,0), float4x4(0.177937239408493,0.072493612766266,0.225667536258698,0.026773154735565,-0.034863118082285,0.120733313262463,0.033352937549353,0.031824130564928,-0.088376566767693,0.042521938681602,-0.049997270107269,-0.230610400438309,-0.170498609542847,-0.114451006054878,0.056797467172146,-0.054437287151814));
res += mul(Get(s1,0,dy), float4x4(-0.032449655234814,0.081047102808952,0.217259630560875,0.026828425005078,0.025546165183187,-0.003581406082958,0.084655553102493,-0.024023747071624,-0.086949728429317,0.071221515536308,0.110974974930286,0.120239317417145,0.079269111156464,0.078619107604027,0.030986476689577,-0.120651930570602));
res += mul(Get(s1,dx,-dy), float4x4(0.087583333253860,0.005305530969054,-0.013109651394188,0.100101225078106,0.184032589197159,-0.098941832780838,-0.088141866028309,-0.127819836139679,0.041070982813835,0.087541416287422,0.040345963090658,-0.094239264726639,-0.046712391078472,0.030057217925787,0.049207914620638,0.112369090318680));
res += mul(Get(s1,dx,0), float4x4(-0.026588533073664,-0.076679445803165,-0.101534917950630,0.005140814464539,0.004014496225864,-0.295375913381577,-0.082636050879955,0.029455836862326,0.098231002688408,0.154304936528206,-0.070568166673183,0.021155016496778,-0.038692764937878,0.039248399436474,-0.111742325127125,0.007419588044286));
res += mul(Get(s1,dx,dy), float4x4(0.005812153220177,0.211141839623451,-0.049836665391922,-0.088622361421585,-0.093882814049721,-0.228559225797653,-0.172003954648972,0.048837672919035,-0.085080213844776,0.028652109205723,0.046117451041937,0.099343217909336,0.108629368245602,0.030942397192121,0.120768301188946,0.022854054346681));
res += mul(Get(s2,-dx,-dy), float4x4(-0.079783745110035,-0.064879536628723,-0.028245469555259,-0.032424438744783,0.038489844650030,0.002652143826708,0.009625831618905,-0.008401054888964,0.218255609273911,-0.072038754820824,-0.166474521160126,-0.074416376650333,-0.135175332427025,0.053952246904373,-0.120195992290974,0.010482208803296));
res += mul(Get(s2,-dx,0), float4x4(-0.106847234070301,0.032591622322798,0.012338006868958,0.160046935081482,0.092961274087429,-0.121146976947784,0.007612171117216,-0.070272468030453,0.005902380682528,0.040471196174622,-0.054506223648787,0.032728213816881,0.129863008856773,0.015454231761396,-0.051500398665667,-0.003813994582742));
res += mul(Get(s2,-dx,dy), float4x4(0.162474393844604,0.198496580123901,0.125431314110756,-0.157251819968224,-0.009412524290383,0.169584691524506,-0.038212370127439,-0.095193147659302,-0.019839813932776,-0.029373815283179,0.072155602276325,-0.224292337894440,0.018155865371227,0.020961573347449,-0.058786600828171,-0.135866075754166));
res += mul(Get(s2,0,-dy), float4x4(-0.098239548504353,-0.015935825183988,0.061700679361820,-0.140129670500755,-0.165211707353592,0.247499138116837,0.131737738847733,-0.073695257306099,-0.211538389325142,0.006600917782634,-0.051251593977213,-0.082760557532310,0.047648109495640,0.027648052200675,0.037764687091112,0.014974338933825));
res += mul(Get(s2,0,0), float4x4(0.066174738109112,-0.126956611871719,-0.179146885871887,0.123554565012455,-0.040371645241976,0.034479398280382,-0.037530943751335,-0.002704905346036,-0.084940671920776,-0.138714119791985,0.023812340572476,0.050618238747120,0.122829839587212,0.201182752847672,0.041830986738205,0.040336672216654));
res += mul(Get(s2,0,dy), float4x4(0.089887872338295,-0.246004015207291,-0.004690049216151,-0.147510215640068,-0.046026568859816,0.071578696370125,-0.045928195118904,0.056641910225153,-0.109774485230446,0.085145175457001,0.318225830793381,-0.098154820501804,-0.045403398573399,-0.060241550207138,0.126246035099030,0.127716124057770));
res += mul(Get(s2,dx,-dy), float4x4(0.032284982502460,0.069319948554039,0.006309675052762,-0.175821021199226,0.174990624189377,0.019631030037999,0.053371924906969,-0.057539734989405,-0.061278730630875,0.031951453536749,-0.233377784490585,0.146150261163712,-0.051315121352673,-0.033849675208330,0.183031424880028,0.097520843148232));
res += mul(Get(s2,dx,0), float4x4(0.043954160064459,0.010819120332599,0.011254046112299,0.081553608179092,0.088470242917538,0.024158934131265,0.037428699433804,-0.162612736225128,-0.046802736818790,-0.034208111464977,-0.050902508199215,0.076930820941925,0.156754836440086,-0.000383034552215,-0.108029738068581,-0.175996169447899));
res += mul(Get(s2,dx,dy), float4x4(-0.061750490218401,0.029358409345150,-0.080071210861206,0.059302832931280,-0.066046401858330,-0.061759073287249,-0.030870307236910,0.003056119428948,-0.011603019200265,-0.120259724557400,-0.078529693186283,-0.084039762616158,0.114020273089409,0.133546411991119,-0.046012084931135,0.055215053260326));
res += mul(Get(s3,-dx,-dy), float4x4(-0.163923099637032,-0.036436993628740,-0.057666707783937,0.116456083953381,0.107339195907116,0.062222786247730,0.037593353539705,-0.110206604003906,-0.017472757026553,-0.165672317147255,0.073885388672352,-0.024377537891269,-0.020778577774763,0.012474429793656,-0.038828384131193,0.038672763854265));
res += mul(Get(s3,-dx,0), float4x4(0.153420597314835,-0.000768251367845,0.084155336022377,-0.047748580574989,0.063077785074711,-0.123100921511650,-0.013457042165101,0.046230729669333,-0.114441186189651,-0.039093136787415,0.147500082850456,0.137638419866562,-0.002947254106402,-0.000734202214517,0.085334561765194,-0.024965878576040));
res += mul(Get(s3,-dx,dy), float4x4(-0.029313519597054,-0.005652596708387,0.005265079904348,-0.080691620707512,0.102445602416992,0.148933529853821,-0.069860942661762,0.004220063332468,-0.292988479137421,-0.086463533341885,-0.026974935084581,0.017558986321092,0.039248526096344,-0.110434696078300,0.027261024340987,-0.134290888905525));
res += mul(Get(s3,0,-dy), float4x4(-0.076364897191525,0.042644299566746,-0.031536318361759,0.041417140513659,-0.127802133560181,-0.023509740829468,-0.036525167524815,0.078838050365448,-0.049727704375982,0.077325239777565,0.215437099337578,-0.012879854068160,-0.092059344053268,0.058488018810749,0.077606603503227,-0.045073747634888));
res += mul(Get(s3,0,0), float4x4(-0.007850186899304,0.046695586293936,-0.045217972248793,-0.025810664519668,0.218935877084732,-0.021428685635328,0.214466452598572,-0.226598054170609,-0.077574655413628,-0.197343453764915,0.335841834545135,-0.230923399329185,0.043663255870342,0.010829162783921,-0.176203578710556,0.033414207398891));
res += mul(Get(s3,0,dy), float4x4(-0.078540384769440,-0.075398646295071,-0.014490303583443,-0.043855238705873,0.199902713298798,0.092096619307995,0.053617022931576,0.176313340663910,0.015289843082428,0.023331573233008,0.012671411968768,-0.025833895429969,-0.007353456690907,0.097489990293980,0.138855740427971,-0.030768916010857));
res += mul(Get(s3,dx,-dy), float4x4(-0.046761807054281,-0.037377756088972,0.099529147148132,-0.034321844577789,-0.144951462745667,0.001240231445991,-0.153601393103600,-0.111544765532017,-0.179559707641602,-0.020210532471538,0.029307724907994,-0.130335047841072,-0.082443796098232,0.010378037579358,-0.011470922268927,-0.098377332091331));
res += mul(Get(s3,dx,0), float4x4(0.093289077281952,-0.027364874258637,-0.005034803878516,-0.046187181025743,-0.028702953830361,0.060532566159964,-0.095842383801937,0.051963400095701,0.100035309791565,0.130579084157944,0.097111068665981,-0.032709989696741,-0.014475876465440,0.128223255276680,-0.123511366546154,0.054367247968912));
res += mul(Get(s3,dx,dy), float4x4(0.139459773898125,-0.020512996241450,0.027483828365803,-0.214109286665916,0.176374405622482,-0.106705725193024,-0.084296762943268,-0.029722079634666,0.350501269102097,0.081506848335266,-0.172681659460068,-0.104279100894928,0.081741079688072,0.197668865323067,-0.119198836386204,0.040546800941229));
return max(float4(0,0,0,0), res);
}
