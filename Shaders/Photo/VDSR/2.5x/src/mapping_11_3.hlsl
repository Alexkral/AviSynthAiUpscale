sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012359693646431,-0.138411775231361,-0.145818978548050,-0.100279219448566,0.011839244514704,0.036576360464096,-0.031003616750240,0.065156348049641,0.018149850890040,0.098016723990440,-0.059139996767044,-0.048611864447594,0.017007607966661,0.155815377831459,0.095119789242744,-0.100275352597237));
res += mul(Get(s0,-dx,0), float4x4(-0.107458829879761,0.037814170122147,0.037433512508869,0.012147754430771,-0.030866825953126,0.096930697560310,-0.008214357309043,0.073135107755661,0.026046423241496,0.056597322225571,0.202591344714165,-0.046228993684053,0.032426867634058,-0.078991219401360,-0.040083277970552,0.000408918742323));
res += mul(Get(s0,-dx,dy), float4x4(-0.072605542838573,0.075486302375793,0.058564014732838,0.099091216921806,-0.065447270870209,0.026850447058678,0.109749235212803,0.000872651929967,0.014915191568434,0.176819905638695,-0.030393389984965,-0.093837127089500,-0.157901063561440,-0.061280053108931,-0.064471758902073,-0.040637820959091));
res += mul(Get(s0,0,-dy), float4x4(-0.020741103217006,-0.078781910240650,0.032857418060303,-0.076168388128281,0.086402952671051,-0.035124786198139,-0.045142352581024,-0.044068239629269,0.018181502819061,0.135804906487465,-0.058559313416481,0.032718982547522,0.118800453841686,-0.035837475210428,0.106222465634346,-0.105179749429226));
res += mul(Get(s0,0,0), float4x4(-0.074866227805614,0.116533413529396,0.040038280189037,-0.098199836909771,-0.011687248013914,0.077169165015221,-0.006534920539707,-0.019599305465817,-0.076636821031570,-0.016216723248363,0.162184610962868,0.006702313665301,0.123620636761189,-0.043638117611408,-0.018204996362329,-0.075599156320095));
res += mul(Get(s0,0,dy), float4x4(0.115518629550934,-0.099177211523056,0.137581095099449,-0.032643117010593,-0.060264289379120,0.041034787893295,0.062069781124592,0.096305452287197,0.021527508273721,0.052871152758598,-0.025389334186912,-0.095905706286430,-0.162469074130058,-0.066927857697010,-0.099517278373241,-0.023600136861205));
res += mul(Get(s0,dx,-dy), float4x4(0.057422310113907,0.154442906379700,-0.065710023045540,0.056295182555914,0.123361922800541,-0.033823464065790,-0.185888856649399,-0.066987827420235,-0.008265956304967,-0.051237497478724,-0.098910711705685,-0.000719561881851,0.042765941470861,0.032873556017876,0.138494208455086,-0.002969138324261));
res += mul(Get(s0,dx,0), float4x4(0.017637491226196,0.132548183202744,-0.075367085635662,0.021407052874565,0.111331336200237,0.115429885685444,0.017051909118891,-0.091169483959675,0.077004596590996,-0.129746958613396,-0.029391361400485,0.102820135653019,-0.017779001966119,-0.117924004793167,-0.032496623694897,-0.104912571609020));
res += mul(Get(s0,dx,dy), float4x4(0.001323550241068,0.043979924172163,-0.048200804740191,-0.015433815307915,-0.031099416315556,0.004195820540190,-0.018083490431309,0.000389401509892,-0.103293120861053,-0.175955951213837,-0.108708404004574,-0.123616568744183,-0.081425935029984,-0.080604031682014,0.161302894353867,-0.101977877318859));
res += mul(Get(s1,-dx,-dy), float4x4(-0.084966629743576,-0.091306455433369,-0.065749809145927,0.013008323498070,0.008264177478850,-0.090799026191235,0.006903159897774,0.051119595766068,0.128584846854210,0.009311591275036,0.043540909886360,0.032370954751968,0.012962395325303,0.025494940578938,-0.166556864976883,-0.064812779426575));
res += mul(Get(s1,-dx,0), float4x4(0.098620489239693,-0.057588022202253,0.023974182084203,-0.012288817204535,0.049310967326164,-0.061064109206200,0.075809374451637,0.041895229369402,-0.032008536159992,0.103073537349701,0.135737836360931,-0.013510053977370,0.168888643383980,0.043811809271574,0.050395425409079,-0.028802139684558));
res += mul(Get(s1,-dx,dy), float4x4(-0.105670206248760,-0.015745334327221,-0.023320270702243,-0.146192416548729,-0.053002458065748,-0.005351678002626,0.120981000363827,-0.031510133296251,-0.130903244018555,0.070269867777824,-0.060797467827797,-0.056927580386400,-0.033782057464123,-0.019417442381382,0.107528485357761,-0.011734358035028));
res += mul(Get(s1,0,-dy), float4x4(0.038355451077223,0.103196546435356,-0.113761283457279,0.081635355949402,-0.044482130557299,-0.031897567212582,0.008948613889515,-0.029446631669998,0.029426019638777,-0.017123708501458,-0.027440764009953,0.064426891505718,-0.004890104290098,0.024441694840789,-0.061180092394352,-0.083937197923660));
res += mul(Get(s1,0,0), float4x4(0.111644938588142,0.040365662425756,0.007564845494926,0.035513769835234,-0.039208564907312,0.111319109797478,-0.118736162781715,0.134670063853264,-0.060717470943928,0.112662918865681,0.055438540875912,-0.064862057566643,-0.001703184912913,0.007911242544651,0.119376666843891,0.037734668701887));
res += mul(Get(s1,0,dy), float4x4(0.041346382349730,0.022976960986853,0.100943289697170,-0.038001190871000,-0.074562616646290,-0.021186148747802,0.157192811369896,0.036503352224827,-0.075911983847618,0.094624549150467,0.094517797231674,-0.107267715036869,-0.143336445093155,-0.141867667436600,-0.051261339336634,0.075913913547993));
res += mul(Get(s1,dx,-dy), float4x4(0.230128332972527,0.204848960042000,-0.004827750381082,-0.117207705974579,0.038670390844345,-0.137462377548218,-0.075899839401245,-0.024635819718242,0.016069544479251,-0.093606464564800,0.048924166709185,0.008297494612634,0.015826286748052,-0.038347899913788,-0.184163630008698,-0.020374216139317));
res += mul(Get(s1,dx,0), float4x4(0.090372517704964,0.069908596575260,0.028428895398974,0.109084442257881,0.058954242616892,0.042604401707649,-0.014823925681412,0.050798453390598,-0.027675289660692,0.108500443398952,-0.061306700110435,0.137162894010544,0.124603763222694,-0.026701057329774,-0.066204868257046,0.166526779532433));
res += mul(Get(s1,dx,dy), float4x4(-0.132128521800041,-0.005357567686588,0.011673216708004,0.031512081623077,-0.104683563113213,-0.115368060767651,-0.024911742657423,0.044488266110420,-0.146056845784187,0.038525801151991,0.059181865304708,-0.027091203257442,-0.147379606962204,-0.027883868664503,-0.052113279700279,-0.122931011021137));
res += mul(Get(s2,-dx,-dy), float4x4(-0.073763899505138,-0.013594461604953,0.091367520391941,0.121336214244366,0.139438748359680,0.027033971622586,-0.046993318945169,-0.022513302043080,0.205943137407303,0.009237996302545,-0.010097882710397,0.000151817162987,0.013668542727828,0.055855322629213,0.169529572129250,0.069828584790230));
res += mul(Get(s2,-dx,0), float4x4(-0.088291242718697,-0.070898488163948,0.040993776172400,-0.005951373372227,-0.031989462673664,0.005169860552996,0.071453645825386,-0.027118807658553,0.170628339052200,-0.037177085876465,0.064240813255310,0.033738691359758,-0.044935688376427,0.018063945695758,0.048668023198843,0.025796355679631));
res += mul(Get(s2,-dx,dy), float4x4(-0.045252114534378,-0.074711121618748,0.080001711845398,-0.047151833772659,-0.014522133395076,0.085029549896717,0.046900432556868,-0.046807110309601,0.035504486411810,-0.033444985747337,-0.115408420562744,0.011814604513347,-0.021416829898953,0.036340095102787,-0.005216045770794,0.052076715976000));
res += mul(Get(s2,0,-dy), float4x4(0.001693812315352,-0.062338389456272,0.040575128048658,0.075680136680603,-0.012400627136230,-0.032187819480896,-0.078629195690155,0.136094614863396,-0.035584811121225,0.042611870914698,-0.046327527612448,0.036990113556385,0.082825534045696,-0.097028590738773,-0.000829388038255,-0.091962531208992));
res += mul(Get(s2,0,0), float4x4(0.030035909265280,-0.101251423358917,-0.079125247895718,-0.054711766541004,0.049977991729975,0.013888769783080,-0.033757861703634,-0.010643229819834,-0.024828808382154,0.044743482023478,0.025153551250696,0.062476027756929,0.121422745287418,-0.059235949069262,0.002112142508850,-0.020098289474845));
res += mul(Get(s2,0,dy), float4x4(0.062014352530241,-0.088932171463966,0.050849489867687,-0.084576480090618,0.063536934554577,0.035380203276873,0.028777875006199,0.071495197713375,-0.042059410363436,-0.080509297549725,-0.020166914910078,-0.072117261588573,-0.044655457139015,-0.034939408302307,0.004085475113243,-0.002293105935678));
res += mul(Get(s2,dx,-dy), float4x4(0.135784626007080,-0.130154639482498,0.063655905425549,0.054945670068264,0.091101057827473,0.104677326977253,-0.100650705397129,0.084646016359329,0.028860056772828,0.002655851421878,-0.000356757518603,0.072539761662483,-0.061035886406898,-0.067121177911758,0.093344964087009,0.152224317193031));
res += mul(Get(s2,dx,0), float4x4(-0.080819584429264,-0.139685943722725,0.024181673303246,-0.023277085274458,0.179015994071960,0.067545101046562,-0.079387657344341,0.040539622306824,0.014495439827442,-0.089117974042892,0.024084340780973,0.136159449815750,0.065001592040062,-0.044364772737026,-0.009101951494813,0.143465489149094));
res += mul(Get(s2,dx,dy), float4x4(-0.013479076325893,-0.223679587244987,0.181015610694885,-0.050454799085855,0.092431746423244,0.016144501045346,-0.046231828629971,-0.021428966894746,-0.046621754765511,-0.013047866523266,-0.013549162074924,0.049664027988911,-0.120542213320732,-0.080701239407063,-0.024009944871068,0.304490804672241));
res += mul(Get(s3,-dx,-dy), float4x4(0.005346820224077,0.003421919420362,-0.108237594366074,-0.050613652914762,-0.048432629555464,0.010168972425163,-0.013986420817673,0.068292737007141,0.023675370961428,0.033075720071793,-0.110500365495682,-0.160726159811020,-0.097416885197163,0.000319111713907,0.064124852418900,0.003644945099950));
res += mul(Get(s3,-dx,0), float4x4(0.074700549244881,0.026578396558762,0.028646077960730,0.006774834357202,-0.064711540937424,0.054620385169983,0.033699035644531,0.054796360433102,-0.109793201088905,-0.098581030964851,0.157221913337708,-0.112654402852058,-0.002870667492971,0.027894031256437,0.165112018585205,-0.001751284929924));
res += mul(Get(s3,-dx,dy), float4x4(-0.086087003350258,0.031260639429092,0.087599903345108,-0.028916921466589,-0.087446816265583,0.013182825408876,-0.069825790822506,-0.154159724712372,-0.081464543938637,-0.044548712670803,-0.121957734227180,-0.089215584099293,-0.117489613592625,-0.068037487566471,-0.000793669256382,0.031721230596304));
res += mul(Get(s3,0,-dy), float4x4(-0.081097275018692,0.130734115839005,-0.107890538871288,0.013876630924642,0.017554953694344,-0.002819649409503,0.078886896371841,-0.086776070296764,0.050716046243906,0.016962530091405,-0.080936901271343,-0.039620179682970,-0.119786158204079,-0.028016200289130,0.005406706593931,0.052129670977592));
res += mul(Get(s3,0,0), float4x4(-0.028517773374915,-0.012979278340936,-0.046721894294024,-0.007092708256096,0.026022937148809,0.008612608537078,0.105157449841499,0.002459550509229,0.027704797685146,-0.071042627096176,0.048963498324156,-0.066582188010216,0.211007058620453,0.009465993382037,0.063850231468678,-0.031275764107704));
res += mul(Get(s3,0,dy), float4x4(-0.096582807600498,0.119329713284969,-0.003669886849821,-0.068896137177944,0.070731952786446,0.016918445006013,-0.032781414687634,-0.099406436085701,-0.032029427587986,-0.078345790505409,-0.016986126080155,-0.059739090502262,-0.077871412038803,-0.075223878026009,0.097847163677216,-0.097570829093456));
res += mul(Get(s3,dx,-dy), float4x4(0.034232061356306,-0.017397284507751,-0.210721746087074,-0.129427492618561,-0.022340072318912,0.054116535931826,-0.057244785130024,-0.012794057838619,0.159516662359238,-0.039887957274914,-0.055383328348398,0.032403402030468,-0.006436252500862,0.048528313636780,-0.060409668833017,-0.031110187992454));
res += mul(Get(s3,dx,0), float4x4(0.053656112402678,0.176964610815048,-0.123178631067276,-0.036755114793777,0.013667366467416,0.019384015351534,0.024143235757947,0.158756911754608,0.078796379268169,-0.010581558570266,0.054857902228832,-0.010405207984149,0.142046734690666,-0.035075657069683,-0.059167757630348,0.030480219051242));
res += mul(Get(s3,dx,dy), float4x4(0.045521602034569,0.077418632805347,-0.029787629842758,-0.034830674529076,0.074873633682728,-0.002349626040086,-0.052407864481211,0.189238056540489,0.088238604366779,-0.020202916115522,-0.067808449268341,-0.069556504487991,-0.162505164742470,-0.106475025415421,0.026283236220479,-0.063602596521378));
return max(float4(0,0,0,0), res);
}
