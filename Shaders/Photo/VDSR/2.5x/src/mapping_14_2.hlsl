sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.203708812594414,0.115588337182999,-0.118169963359833,0.035508863627911,-0.157498285174370,0.016419403254986,-0.036719657480717,0.039102103561163,-0.031987514346838,0.037148538976908,-0.029703125357628,-0.069711394608021,0.107318870723248,0.046295985579491,-0.043372802436352,0.003294443013147));
res += mul(Get(s0,-dx,0), float4x4(0.116907030344009,0.123403422534466,-0.047280199825764,0.003754266072065,-0.014839292503893,-0.103324256837368,-0.044892620295286,0.013558511622250,0.011643413454294,0.149631291627884,0.009913497604430,0.163874164223671,-0.078722327947617,-0.030730579048395,-0.053427867591381,0.094310678541660));
res += mul(Get(s0,-dx,dy), float4x4(0.158074721693993,0.066090054810047,-0.034765981137753,0.009068691171706,-0.076783783733845,-0.055846985429525,-0.086447052657604,-0.050534933805466,0.026956751942635,0.065593071281910,-0.012312611564994,0.058825232088566,-0.201124936342239,0.011083398014307,-0.042043704539537,0.143749788403511));
res += mul(Get(s0,0,-dy), float4x4(0.077801898121834,0.085607901215553,-0.010767976753414,-0.075100451707840,-0.027753073722124,0.035351004451513,-0.111104167997837,-0.020567338913679,0.003611832391471,-0.025529384613037,0.013823881745338,-0.027757087722421,0.145271763205528,-0.004229028243572,-0.078663483262062,-0.070757105946541));
res += mul(Get(s0,0,0), float4x4(-0.195004835724831,-0.112769372761250,-0.085426904261112,-0.072542265057564,0.058654993772507,-0.045684747397900,0.035288784652948,0.137552112340927,0.056686032563448,0.066643007099628,0.065327443182468,-0.002387190936133,-0.015103607438505,0.020088471472263,-0.035736594349146,-0.018722599372268));
res += mul(Get(s0,0,dy), float4x4(-0.067736886441708,-0.027094000950456,-0.106151834130287,-0.082521438598633,0.033857949078083,-0.004964729771018,0.012010863982141,0.007255355361849,-0.002868128241971,0.022364215925336,0.038658790290356,-0.002854431746528,-0.158825367689133,0.016160460188985,-0.078559681773186,0.078050181269646));
res += mul(Get(s0,dx,-dy), float4x4(0.008859170600772,0.013786531053483,0.048305824398994,-0.038794226944447,0.138696238398552,0.047419864684343,0.019054053351283,0.075552105903625,0.063616402447224,0.049796134233475,0.001729338313453,0.000290861265967,0.194674164056778,-0.051553212106228,-0.150259986519814,-0.026380488649011));
res += mul(Get(s0,dx,0), float4x4(-0.016968540847301,-0.036411408334970,-0.017251905053854,-0.029891775920987,-0.025224016979337,0.066982470452785,0.002277209889144,0.138807326555252,0.089396387338638,0.067637078464031,0.022279504686594,0.039557199925184,0.076728269457817,-0.119373120367527,0.066185571253300,-0.075969837605953));
res += mul(Get(s0,dx,dy), float4x4(0.030727606266737,-0.083037123084068,-0.048206720501184,-0.113421283662319,-0.127441227436066,0.049033664166927,0.028233265504241,0.075063332915306,0.117459021508694,-0.005020600277930,0.040996648371220,-0.018283303827047,-0.025285976007581,-0.051716540008783,-0.048330340534449,-0.076936677098274));
res += mul(Get(s1,-dx,-dy), float4x4(-0.161505267024040,-0.055077265948057,0.020096777006984,0.071995981037617,-0.015117346309125,-0.003322864649817,-0.015468755736947,0.009374139830470,0.021168749779463,-0.044321998953819,-0.002885849447921,-0.082213245332241,0.038160774856806,0.070255033671856,-0.045148462057114,0.092958435416222));
res += mul(Get(s1,-dx,0), float4x4(-0.123903341591358,-0.149961575865746,-0.051748413592577,0.127344682812691,0.043091036379337,0.007635039277375,-0.028558382764459,-0.178209036588669,0.003777896286920,-0.116814784705639,-0.020630398765206,-0.017204061150551,0.101782009005547,0.067120313644409,0.057287424802780,0.088311165571213));
res += mul(Get(s1,-dx,dy), float4x4(-0.130638435482979,-0.061249203979969,0.003482526866719,0.050548031926155,0.051920779049397,-0.024368569254875,-0.002659487770870,-0.103726804256439,0.051290627568960,-0.136841118335724,0.138392418622971,-0.038758859038353,-0.004237656015903,0.063401930034161,0.011276178061962,0.066621877253056));
res += mul(Get(s1,0,-dy), float4x4(-0.000745318655390,-0.144015908241272,-0.119591072201729,0.074743971228600,0.002952837618068,0.089363440871239,-0.036252889782190,0.063879914581776,-0.173486873507500,-0.110186725854874,-0.005050681531429,-0.069502852857113,-0.134536847472191,0.053593315184116,-0.054397873580456,0.076220281422138));
res += mul(Get(s1,0,0), float4x4(0.176767662167549,-0.117687843739986,0.007043107412755,-0.051047835499048,0.016554003581405,-0.023874310776591,0.008364329114556,0.137230306863785,-0.116798929870129,-0.102432802319527,0.027907932177186,0.117346175014973,-0.059043180197477,0.003892681095749,-0.043795011937618,0.054996076971292));
res += mul(Get(s1,0,dy), float4x4(0.067836262285709,-0.100509993731976,0.005704469513148,0.052538923919201,0.027249133214355,0.055426321923733,0.020244287326932,0.189932048320770,0.088692270219326,-0.111027099192142,0.060237444937229,0.046344392001629,0.019300248473883,0.023877574130893,-0.014188552275300,0.050427358597517));
res += mul(Get(s1,dx,-dy), float4x4(0.078661940991879,0.097266763448715,-0.112051866948605,0.048307474702597,-0.034723322838545,-0.054184313863516,0.014871829189360,0.038647223263979,0.012551754713058,-0.046825435012579,-0.052954230457544,-0.067124538123608,-0.100612431764603,-0.039090927690268,-0.018450250849128,-0.157484859228134));
res += mul(Get(s1,dx,0), float4x4(0.100541740655899,0.073923349380493,-0.052351478487253,0.115263290703297,-0.068419419229031,-0.014059314504266,0.022145852446556,0.038451619446278,0.047184374183416,0.031503070145845,0.022174406796694,0.046402581036091,0.021656868979335,-0.047324657440186,-0.040675077587366,-0.097246900200844));
res += mul(Get(s1,dx,dy), float4x4(-0.000914818840101,0.090362966060638,0.038002472370863,0.112476907670498,-0.027340039610863,0.033324424177408,-0.022415300831199,-0.032642990350723,-0.038596734404564,-0.031208693981171,0.001622816547751,-0.015710374340415,0.027295757085085,0.014401575550437,0.056287374347448,-0.044637911021709));
res += mul(Get(s2,-dx,-dy), float4x4(-0.165262907743454,0.024433514103293,-0.018482632935047,-0.013073341920972,-0.050315104424953,-0.038833625614643,-0.046515177935362,0.041872948408127,-0.046577248722315,0.015939569100738,0.101166866719723,0.011039632372558,0.074269309639931,-0.014358491636813,0.013606377877295,-0.067557610571384));
res += mul(Get(s2,-dx,0), float4x4(-0.025455590337515,-0.058559805154800,0.244708523154259,0.062474641948938,0.026190830394626,-0.055017489939928,0.059875722974539,-0.045595414936543,-0.041326150298119,0.049954179674387,0.065436512231827,-0.128079220652580,-0.090443931519985,0.061593223363161,-0.035578928887844,-0.136067330837250));
res += mul(Get(s2,-dx,dy), float4x4(0.085041962563992,0.084251165390015,-0.015275106765330,0.062811464071274,0.291158407926559,0.003682040842250,0.001484596868977,-0.039383299648762,-0.025284830480814,0.252413094043732,0.004370127338916,-0.091917634010315,0.000851268123370,-0.088924683630466,-0.031282503157854,-0.001572616747580));
res += mul(Get(s2,0,-dy), float4x4(-0.114088781177998,-0.051483746618032,-0.075732335448265,-0.109559699892998,-0.097046978771687,0.010869037359953,-0.038119353353977,0.087691441178322,-0.007127951364964,-0.036495391279459,-0.027892965823412,-0.001755377626978,0.091740444302559,0.020892024040222,0.030714673921466,0.060780271887779));
res += mul(Get(s2,0,0), float4x4(0.157757386565208,0.150068327784538,0.190854474902153,-0.007569671142846,0.060667231678963,-0.024096352979541,-0.018570378422737,0.019041379913688,-0.049527812749147,-0.048986740410328,0.126896411180496,0.002607674337924,-0.062043633311987,-0.088494099676609,-0.023094372823834,0.021457036957145));
res += mul(Get(s2,0,dy), float4x4(0.141603067517281,0.072041183710098,-0.031624376773834,-0.088349848985672,0.238927632570267,-0.011925002560019,0.017804952338338,-0.055194292217493,-0.107362017035484,-0.019985411316156,0.056467030197382,-0.123874768614769,-0.021757571026683,-0.010451677255332,-0.055211637169123,-0.039322778582573));
res += mul(Get(s2,dx,-dy), float4x4(-0.112931787967682,-0.009346499107778,-0.059926595538855,-0.065862476825714,-0.207555398344994,0.030552795156837,-0.040349211543798,0.078925125300884,0.030247449874878,0.035813905298710,-0.030755300074816,0.017012212425470,-0.016805058345199,0.044528469443321,0.055074796080589,0.036522973328829));
res += mul(Get(s2,dx,0), float4x4(0.045928798615932,0.004100407939404,-0.042024478316307,-0.155805706977844,-0.091467581689358,0.085146814584732,-0.088578723371029,0.132195964455605,0.133943423628807,-0.002930567599833,-0.051398258656263,-0.046742741018534,0.061434328556061,0.084843948483467,0.041784159839153,0.080229915678501));
res += mul(Get(s2,dx,dy), float4x4(-0.026759482920170,0.018368475139141,-0.018920451402664,-0.145362094044685,-0.019076058641076,0.068814806640148,0.026878181844950,0.060598883777857,0.116422683000565,-0.018564708530903,0.178278282284737,0.009854662232101,0.052117057144642,0.026320798322558,-0.024555690586567,0.018905382603407));
res += mul(Get(s3,-dx,-dy), float4x4(0.015451513230801,0.028431812301278,-0.011272310279310,0.024423342198133,-0.070144876837730,-0.024851443246007,-0.003056852612644,0.045967798680067,0.005868457257748,-0.076850228011608,0.051113303750753,0.026615202426910,0.005338244140148,0.005050609353930,-0.062789648771286,-0.128715723752975));
res += mul(Get(s3,-dx,0), float4x4(0.071476295590401,0.157609134912491,0.226011991500854,0.047816421836615,0.106362797319889,0.018534796312451,-0.012048413045704,-0.018266487866640,0.017398256808519,-0.159281373023987,0.072109989821911,0.016998898237944,-0.033678684383631,0.032147001475096,-0.031750310212374,0.128805458545685));
res += mul(Get(s3,-dx,dy), float4x4(0.058345019817352,0.063477016985416,-0.035345539450645,0.005989198107272,-0.021178433671594,0.003518034936860,0.024697110056877,0.013171149417758,0.027395639568567,-0.106016643345356,-0.038310855627060,-0.054227832704782,0.009952343069017,-0.058812502771616,-0.019995506852865,-0.028915744274855));
res += mul(Get(s3,0,-dy), float4x4(-0.062788829207420,0.169410064816475,-0.038764134049416,0.067634008824825,-0.052661161869764,-0.019395522773266,-0.037933845072985,0.046704757958651,-0.052736572921276,-0.004778299480677,-0.008234743028879,-0.033853910863400,-0.067057803273201,-0.041514758020639,-0.003647355828434,0.018272222951055));
res += mul(Get(s3,0,0), float4x4(0.012739728204906,0.191783100366592,0.099570825695992,0.077460736036301,0.199437975883484,-0.051236685365438,-0.042987160384655,0.069629281759262,-0.014986181631684,-0.085777118802071,0.110751330852509,0.083645403385162,-0.120549932122231,0.073756285011768,-0.123549938201904,-0.047254502773285));
res += mul(Get(s3,0,dy), float4x4(-0.075071722269058,0.060282006859779,-0.004618416074663,0.084978558123112,0.037735939025879,-0.014968116767704,-0.008651454001665,0.056686695665121,-0.020781951025128,-0.008808440528810,-0.090251229703426,-0.116759419441223,0.069934286177158,-0.032737188041210,0.051913790404797,0.010838454589248));
res += mul(Get(s3,dx,-dy), float4x4(0.090818636119366,-0.015532271936536,0.004563916008919,0.043846596032381,-0.096692562103271,-0.072198517620564,-0.048650324344635,-0.016222100704908,-0.033758644014597,0.069142118096352,-0.035318989306688,-0.054591584950686,-0.028552180156112,-0.077344395220280,0.033889383077621,-0.040942162275314));
res += mul(Get(s3,dx,0), float4x4(0.042455550283194,0.076457843184471,0.099077351391315,0.084956906735897,-0.050567112863064,0.045087169855833,-0.049043752253056,-0.004620250780135,-0.031112922355533,0.015799812972546,0.097042545676231,-0.086761757731438,-0.034542649984360,-0.048400834202766,-0.052463248372078,-0.133169785141945));
res += mul(Get(s3,dx,dy), float4x4(0.013903004117310,-0.008931600488722,0.015111564658582,-0.009338697418571,-0.090473093092442,-0.029792904853821,-0.005750648677349,0.053623020648956,-0.073693349957466,0.097416535019875,0.043960943818092,0.001560719450936,0.179176941514015,0.000060886035499,0.050561882555485,-0.088987834751606));
return max(float4(0,0,0,0), res);
}
