sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.191056191921234,0.082902379333973,-0.105745285749435,0.052055541425943,0.258830547332764,0.000746505509596,-0.076521314680576,0.050076082348824,-0.053281329572201,0.058335408568382,-0.014692204073071,0.013148423284292,0.043103594332933,0.024076992645860,0.054565958678722,-0.134487912058830));
res += mul(Get(s0,-dx,0), float4x4(0.076866567134857,0.044097099453211,0.066105946898460,0.076677903532982,-0.046677809208632,-0.046520680189133,-0.080361343920231,0.030950650572777,0.102495498955250,-0.095364131033421,-0.083395212888718,-0.041255950927734,-0.004838444292545,-0.098541997373104,0.002200036542490,-0.049806084483862));
res += mul(Get(s0,-dx,dy), float4x4(0.158108457922935,0.091475859284401,0.154850140213966,-0.032324168831110,0.187768802046776,0.010938496328890,-0.093451239168644,-0.065756835043430,0.139741718769073,-0.096657350659370,-0.005281164310873,0.173187896609306,0.006328670307994,-0.068705059587955,-0.037717431783676,-0.002905843313783));
res += mul(Get(s0,0,-dy), float4x4(-0.034786909818649,0.129600673913956,-0.050514034926891,0.018919451162219,0.081887356936932,-0.118518099188805,0.031274039298296,0.189683377742767,0.012665729038417,-0.042886793613434,0.035158220678568,-0.037802159786224,-0.034661568701267,0.017865583300591,-0.062459416687489,0.044463943690062));
res += mul(Get(s0,0,0), float4x4(0.091469667851925,-0.140317022800446,-0.163883730769157,0.117588214576244,-0.044388588517904,-0.078863501548767,0.080067701637745,-0.058150745928288,-0.034358337521553,-0.085790149867535,0.067331671714783,-0.034262895584106,-0.084185518324375,-0.086518682539463,-0.192906007170677,0.191563770174980));
res += mul(Get(s0,0,dy), float4x4(-0.210466697812080,-0.100303232669830,-0.050284281373024,-0.139245957136154,-0.165763989090919,0.006224339362234,-0.118546985089779,-0.065496966242790,-0.091926544904709,-0.122665867209435,-0.126501321792603,0.115059569478035,0.068853557109833,0.109219230711460,-0.126641049981117,0.029583068564534));
res += mul(Get(s0,dx,-dy), float4x4(-0.057437796145678,-0.092259287834167,0.219730556011200,0.100756540894508,-0.022654814645648,-0.113572344183922,-0.111105024814606,-0.029206737875938,0.025423012673855,0.161521211266518,0.163635000586510,-0.038268230855465,-0.025294883176684,-0.144857987761497,0.086420238018036,0.099607430398464));
res += mul(Get(s0,dx,0), float4x4(-0.008893840014935,-0.000464617740363,-0.056086685508490,0.044395256787539,0.057638987898827,-0.118051171302795,0.156740531325340,0.005902520846575,0.009052743203938,0.060098990797997,-0.052011664956808,0.081808261573315,0.026676462963223,0.079599894583225,0.120958425104618,-0.084448814392090));
res += mul(Get(s0,dx,dy), float4x4(-0.185754045844078,0.097290620207787,-0.124507181346416,0.199947148561478,-0.183717384934425,0.227577909827232,0.103779911994934,-0.110139511525631,0.115353442728519,0.014552923850715,0.148667290806770,0.001747124479152,0.017301587387919,-0.049972210079432,-0.019286608323455,-0.102546580135822));
res += mul(Get(s1,-dx,-dy), float4x4(0.037853851914406,0.085020124912262,-0.113724976778030,-0.056359749287367,-0.156046867370605,0.075822815299034,-0.022803122177720,-0.007452586200088,-0.080758333206177,0.042250830680132,-0.050575636327267,0.126482680439949,0.124595470726490,-0.194980248808861,-0.050160519778728,-0.134748294949532));
res += mul(Get(s1,-dx,0), float4x4(-0.104707337915897,0.055992264300585,0.043467935174704,0.016346063464880,-0.077281750738621,0.097133174538612,0.083753824234009,-0.157940089702606,0.195611864328384,0.018770098686218,0.133404761552811,0.049516856670380,0.194481119513512,0.071526385843754,0.011950443498790,0.069470919668674));
res += mul(Get(s1,-dx,dy), float4x4(0.032146245241165,-0.087929591536522,0.054896544665098,0.037379823625088,-0.005512779578567,0.189796373248100,0.033364191651344,-0.008391703478992,0.056767717003822,-0.257319509983063,-0.117353923618793,0.088275231420994,0.058334492146969,0.028193196281791,-0.083578139543533,-0.067173644900322));
res += mul(Get(s1,0,-dy), float4x4(-0.008050447329879,-0.010884093120694,-0.185761913657188,-0.122727818787098,-0.201092287898064,-0.088698282837868,0.121344573795795,0.018986206501722,-0.006862801499665,0.117620229721069,0.058482859283686,0.016874520108104,-0.165924489498138,0.150608986616135,-0.107216805219650,-0.016136394813657));
res += mul(Get(s1,0,0), float4x4(0.172743082046509,0.034319251775742,0.084187857806683,-0.055930789560080,0.032310061156750,-0.058362290263176,0.013998292386532,0.140826329588890,0.010825200006366,-0.159993723034859,-0.003180092666298,-0.162703081965446,0.041975855827332,-0.001705897971988,-0.014551794156432,-0.121824592351913));
res += mul(Get(s1,0,dy), float4x4(0.119593709707260,0.065426483750343,0.050334285944700,0.219728469848633,0.016191774979234,0.197368487715721,-0.140836492180824,-0.033352844417095,0.102834276854992,0.011044202372432,-0.017784647643566,0.040123641490936,-0.048201501369476,-0.052421133965254,0.094149969518185,-0.085601627826691));
res += mul(Get(s1,dx,-dy), float4x4(0.157783865928650,-0.066331550478935,0.008374143391848,0.052377987653017,-0.037536896765232,-0.076438277959824,0.060026064515114,0.086503855884075,0.128158375620842,0.035735536366701,-0.120486810803413,-0.020983418449759,0.068661831319332,-0.052130118012428,-0.022362481802702,-0.261323630809784));
res += mul(Get(s1,dx,0), float4x4(-0.094957843422890,0.099522441625595,0.018336741253734,0.089869327843189,-0.148683518171310,0.001672266284004,-0.055810566991568,-0.090101957321167,0.001747988164425,0.087785504758358,-0.007302451878786,0.012987417168915,-0.024514276534319,0.031220929697156,-0.090458765625954,0.040552839636803));
res += mul(Get(s1,dx,dy), float4x4(0.026877278462052,-0.004407302476466,0.008844564668834,-0.141318187117577,0.075898982584476,-0.018011976033449,-0.120047695934772,-0.151298284530640,0.211852356791496,0.156483337283134,0.131796568632126,-0.007094798609614,0.003756061196327,0.118869088590145,-0.009017484262586,-0.032068144530058));
res += mul(Get(s2,-dx,-dy), float4x4(0.163497701287270,-0.030022908002138,0.093284048140049,0.049911856651306,0.129030019044876,-0.052727799862623,0.142509460449219,0.122425943613052,-0.127233445644379,-0.067606583237648,-0.082751236855984,-0.021177880465984,-0.148311421275139,-0.075961992144585,-0.131079345941544,-0.015335382893682));
res += mul(Get(s2,-dx,0), float4x4(-0.018406363204122,-0.062116205692291,0.019980890676379,-0.115480490028858,0.186834618449211,0.026723042130470,-0.112847656011581,0.014828612096608,0.203846231102943,-0.031854722648859,0.050641179084778,-0.194242209196091,0.203643038868904,-0.007326131686568,0.001212625647895,-0.111452631652355));
res += mul(Get(s2,-dx,dy), float4x4(0.130805596709251,0.021587209776044,0.184468135237694,-0.053641725331545,0.026365108788013,0.143645510077477,0.031892143189907,0.004155051894486,0.066806942224503,-0.069150432944298,0.066802851855755,0.011682911776006,-0.126426875591278,0.084506615996361,0.053229875862598,0.004070085939020));
res += mul(Get(s2,0,-dy), float4x4(-0.075753092765808,-0.066745936870575,-0.096575006842613,-0.097930289804935,-0.003230317495763,0.065072976052761,0.078288421034813,0.023477757349610,-0.045715879648924,0.153185009956360,0.187483057379723,-0.200497388839722,0.161896601319313,0.028897827491164,-0.017278753221035,0.019988175481558));
res += mul(Get(s2,0,0), float4x4(0.132435426115990,0.024719271808863,-0.122332632541656,-0.071459814906120,-0.011443988420069,-0.154494181275368,-0.086507320404053,0.013343255035579,0.096016608178616,-0.040655042976141,-0.138756543397903,-0.033920615911484,0.076244607567787,-0.202500924468040,0.261145949363708,-0.062937289476395));
res += mul(Get(s2,0,dy), float4x4(-0.145293921232224,0.084874764084816,0.068208470940590,-0.009450320154428,-0.066714495420456,-0.205212861299515,-0.010139148682356,0.095434270799160,-0.079128205776215,-0.064452782273293,0.054292466491461,0.188253983855247,0.025851055979729,-0.137564107775688,-0.165038228034973,-0.034494604915380));
res += mul(Get(s2,dx,-dy), float4x4(-0.124224968254566,-0.066426940262318,-0.034614760428667,0.013701964169741,0.106838352978230,-0.077390000224113,0.090963624417782,0.131519317626953,-0.132353603839874,-0.030829319730401,-0.020937694236636,0.111200958490372,0.012045788578689,-0.292398244142532,0.009147608652711,0.047732505947351));
res += mul(Get(s2,dx,0), float4x4(0.057286225259304,-0.104413881897926,0.036856230348349,0.009653889574111,-0.040148213505745,0.057705529034138,-0.118201367557049,0.027665965259075,0.131226480007172,-0.260845363140106,-0.007076414301991,-0.128620594739914,0.040854778140783,-0.054295107722282,0.147346973419189,0.069648630917072));
res += mul(Get(s2,dx,dy), float4x4(0.229912027716637,0.026185933500528,0.020477376878262,0.144753456115723,0.070032276213169,-0.076142802834511,0.055957358330488,0.054858170449734,-0.072226524353027,-0.017700310796499,0.005152660422027,-0.053876038640738,-0.042485110461712,-0.157311141490936,-0.127890780568123,0.008707674220204));
res += mul(Get(s3,-dx,-dy), float4x4(0.062598131597042,-0.068453237414360,-0.157414048910141,-0.038989864289761,-0.054382260888815,0.230219215154648,-0.012423975393176,-0.006465882994235,-0.106607101857662,0.105354644358158,-0.034283716231585,-0.138068497180939,0.130008816719055,0.088289044797421,-0.246817335486412,-0.031070731580257));
res += mul(Get(s3,-dx,0), float4x4(0.036172818392515,-0.103264376521111,0.002306543290615,0.087689019739628,-0.101405493915081,0.037329889833927,-0.092099189758301,-0.013865627348423,0.033909216523170,0.069178037345409,0.006099693942815,-0.236620381474495,0.127892598509789,-0.275814980268478,-0.032489638775587,-0.183979809284210));
res += mul(Get(s3,-dx,dy), float4x4(0.049444038420916,-0.071829892694950,-0.064011260867119,-0.021880790591240,0.131727829575539,-0.203590378165245,0.127792760729790,-0.004993338603526,-0.006740745157003,-0.066038332879543,-0.109243094921112,0.132964611053467,-0.085853159427643,-0.034458883106709,0.022932870313525,0.034468092024326));
res += mul(Get(s3,0,-dy), float4x4(-0.102125845849514,0.096965834498405,-0.078667283058167,0.008805118501186,0.092339247465134,-0.002012703334913,-0.013748760335147,-0.104089558124542,0.064064726233482,-0.069459930062294,0.211154758930206,0.100048832595348,0.026427790522575,-0.086406588554382,-0.020557105541229,-0.004967947956175));
res += mul(Get(s3,0,0), float4x4(-0.016856616362929,0.149992361664772,-0.143599510192871,0.066248282790184,0.084424324333668,-0.084988877177238,0.095216579735279,-0.029310533776879,0.102216266095638,0.087638050317764,-0.014197029173374,-0.008805762045085,0.130898192524910,-0.009169097058475,-0.104811176657677,-0.142411753535271));
res += mul(Get(s3,0,dy), float4x4(-0.042133361101151,0.190918296575546,0.060541093349457,0.059445690363646,0.216958418488503,0.173485994338989,-0.086667239665985,0.051140870898962,0.175798758864403,-0.131051853299141,0.188561931252480,0.179429680109024,-0.211562290787697,-0.012113088741899,0.113257296383381,-0.080036096274853));
res += mul(Get(s3,dx,-dy), float4x4(0.186912894248962,0.209204941987991,-0.145426809787750,0.073210701346397,0.068238258361816,0.155349761247635,0.076520077884197,0.097792051732540,-0.060554917901754,-0.163913041353226,-0.101422004401684,0.000262953370111,-0.011858202517033,0.099419370293617,-0.032337151467800,0.029175719246268));
res += mul(Get(s3,dx,0), float4x4(-0.211991176009178,-0.104662984609604,-0.022095376625657,-0.026737509295344,-0.124029837548733,0.048360180109739,0.178289130330086,-0.157152041792870,0.061001844704151,-0.125876307487488,-0.019160315394402,0.049853529781103,-0.077322430908680,0.059934381395578,0.015131635591388,-0.130446523427963));
res += mul(Get(s3,dx,dy), float4x4(0.051439665257931,-0.028157880529761,-0.141169086098671,0.175569429993629,-0.005398823879659,-0.135396793484688,-0.200765505433083,-0.012956624850631,-0.125161170959473,-0.031487707048655,-0.053913343697786,0.058621585369110,-0.061021491885185,0.018976744264364,0.054435942322016,-0.084773793816566));
return max(float4(0,0,0,0), res);
}
