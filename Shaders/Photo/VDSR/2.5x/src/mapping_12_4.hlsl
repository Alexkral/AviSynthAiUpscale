sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.012258638627827,-0.089472748339176,0.035332646220922,0.076990008354187,-0.070931024849415,0.010891704820096,-0.172528490424156,-0.056582745164633,0.004841885995120,-0.014321180060506,0.050304729491472,-0.011908957734704,0.070383749902248,0.020452950149775,0.115284889936447,-0.134006202220917));
res += mul(Get(s0,-dx,0), float4x4(0.040918760001659,-0.034194912761450,-0.016847079619765,0.182727232575417,-0.032970737665892,0.003815381322056,-0.119412198662758,-0.063559032976627,0.007282479666173,-0.014131921343505,-0.010968834161758,-0.033885054290295,0.041193909943104,-0.015528792515397,-0.087298125028610,-0.064800851047039));
res += mul(Get(s0,-dx,dy), float4x4(0.022485673427582,0.023031203076243,0.042440865188837,0.149509102106094,0.052915066480637,-0.145370602607727,-0.036969754844904,-0.057507187128067,0.158858790993690,0.002610730007291,-0.013641277328134,-0.087208278477192,-0.117854379117489,-0.016530916094780,0.050105262547731,-0.044061414897442));
res += mul(Get(s0,0,-dy), float4x4(-0.059735693037510,0.050741497427225,-0.037121422588825,0.105011813342571,-0.119177125394344,-0.021865267306566,-0.055998206138611,-0.052513133734465,0.038486059755087,-0.105861485004425,-0.067702412605286,0.013973732478917,-0.045810151845217,0.023277165368199,0.074982188642025,-0.071511954069138));
res += mul(Get(s0,0,0), float4x4(-0.007162970490754,0.003857325064018,0.021449055522680,-0.078946895897388,-0.106852442026138,0.047885119915009,0.101904451847076,-0.022007958963513,0.057382456958294,0.021509934216738,-0.046833757311106,0.000005918891929,-0.067099496722221,0.108601279556751,0.101102255284786,0.012794872745872));
res += mul(Get(s0,0,dy), float4x4(0.049523685127497,0.043267603963614,-0.059702571481466,-0.024155357852578,-0.050025302916765,0.035936865955591,0.139305442571640,0.002911726944149,0.188837632536888,0.103107452392578,-0.006124978885055,-0.025361182168126,-0.090742640197277,0.030725397169590,0.012518592178822,-0.086313262581825));
res += mul(Get(s0,dx,-dy), float4x4(0.012358870357275,0.044824756681919,0.006252052728087,0.091334298253059,-0.103588551282883,-0.123563490808010,0.070692442357540,0.068073071539402,-0.061515666544437,0.035362053662539,0.077775038778782,-0.027481667697430,0.013277118094265,0.009484867565334,0.097511738538742,0.062733843922615));
res += mul(Get(s0,dx,0), float4x4(0.034062348306179,-0.059133853763342,0.020945087075233,0.106625460088253,-0.092061795294285,0.053003087639809,0.067609481513500,0.041213165968657,-0.011546542868018,0.167267963290215,0.125078678131104,-0.080182842910290,0.025240760296583,-0.047623082995415,0.055674448609352,-0.019168976694345));
res += mul(Get(s0,dx,dy), float4x4(0.008193225599825,0.078277967870235,-0.022449372336268,0.195787578821182,-0.108847796916962,-0.094816237688065,0.044114407151937,0.029477290809155,-0.068319045007229,-0.009565042331815,0.000090825589723,-0.041086312383413,0.102239243686199,-0.008232982829213,-0.069448821246624,0.040074042975903));
res += mul(Get(s1,-dx,-dy), float4x4(0.149083822965622,-0.085162781178951,0.005562453996390,-0.074458412826061,-0.100354880094528,0.110241867601871,0.035581503063440,-0.131378665566444,0.062041793018579,0.001434942823835,0.023777976632118,0.138925120234489,0.076593734323978,-0.101270049810410,0.006321633234620,-0.075951702892780));
res += mul(Get(s1,-dx,0), float4x4(-0.009834226220846,0.206141412258148,0.109423577785492,-0.086589664220810,-0.047701507806778,0.041080735623837,0.124314613640308,-0.156191378831863,-0.065795436501503,0.014478314667940,-0.085357844829559,0.047593977302313,0.073286905884743,-0.002109845168889,-0.009746061637998,-0.111103080213070));
res += mul(Get(s1,-dx,dy), float4x4(0.079491607844830,0.135749116539955,0.213943004608154,-0.029119143262506,0.009654862806201,-0.009868137538433,-0.076621353626251,0.050094865262508,0.016297023743391,-0.042634394019842,0.043556768447161,0.013795715756714,0.065909452736378,-0.051397945731878,-0.040497973561287,-0.079034350812435));
res += mul(Get(s1,0,-dy), float4x4(0.020593848079443,0.099954240024090,-0.002130573149770,-0.087311536073685,-0.090339154005051,0.069647036492825,-0.056877769529819,-0.120469428598881,0.041016023606062,0.080118708312511,0.032648708671331,0.018863407894969,0.008567269891500,0.066020801663399,0.072389714419842,-0.096718810498714));
res += mul(Get(s1,0,0), float4x4(-0.057944826781750,-0.029595248401165,-0.111860014498234,-0.060252618044615,-0.106338642537594,-0.015638004988432,0.041400521993637,-0.142066985368729,-0.080551616847515,-0.007940224371850,-0.048363264650106,-0.025246910750866,-0.100459709763527,-0.019840933382511,-0.050514131784439,-0.106491141021252));
res += mul(Get(s1,0,dy), float4x4(0.002425260841846,-0.070172712206841,0.086260631680489,0.089679755270481,-0.183504730463028,0.060911402106285,-0.105906315147877,0.035321108996868,0.093272730708122,-0.082755431532860,0.128308817744255,-0.037122417241335,0.051267717033625,-0.049936592578888,-0.128145352005959,-0.080116130411625));
res += mul(Get(s1,dx,-dy), float4x4(-0.010526481084526,0.017295317724347,-0.066331163048744,-0.023163028061390,-0.141433522105217,-0.123214252293110,-0.106690146028996,-0.059661328792572,-0.004798720125109,0.146367266774178,0.009736741892993,-0.062341790646315,0.135197818279266,-0.070161573588848,-0.009244982153177,0.024445265531540));
res += mul(Get(s1,dx,0), float4x4(-0.039023529738188,-0.002061702078208,-0.104960322380066,-0.012445064261556,-0.167174696922302,-0.023482982069254,-0.150775983929634,-0.048296812921762,0.130017176270485,-0.054290927946568,-0.025719521567225,0.099277950823307,0.146175608038902,-0.079150363802910,-0.021230947226286,-0.003538737772033));
res += mul(Get(s1,dx,dy), float4x4(0.051008958369493,-0.155262857675552,0.156343072652817,0.060260508209467,-0.140216246247292,-0.000371309928596,-0.090712770819664,0.017470715567470,0.077842175960541,-0.091662295162678,0.083373241126537,0.047100320458412,0.135226607322693,-0.078818581998348,-0.080379046499729,0.023283284157515));
res += mul(Get(s2,-dx,-dy), float4x4(0.159982517361641,0.045445051044226,0.024312837049365,0.109346464276314,-0.010224633850157,-0.060713402926922,0.017291881144047,-0.169965326786041,0.073131702840328,-0.046193756163120,-0.059939514845610,-0.009984486736357,0.022530689835548,0.064402312040329,-0.051479745656252,0.048601765185595));
res += mul(Get(s2,-dx,0), float4x4(-0.012750850059092,0.018720811232924,-0.063050791621208,-0.032792318612337,-0.072402052581310,-0.066977448761463,-0.054656907916069,-0.148338332772255,0.015058281831443,-0.021034967154264,-0.082519114017487,0.009866155683994,0.126910448074341,0.008653816767037,-0.062496986240149,0.079755172133446));
res += mul(Get(s2,-dx,dy), float4x4(-0.001595003181137,0.026526255533099,-0.058742381632328,-0.004335302393883,-0.055597729980946,-0.062000833451748,-0.135692834854126,0.074906602501869,0.066162429749966,0.034805126488209,-0.041552692651749,0.013333059847355,0.063809044659138,0.137238651514053,-0.015292762778699,-0.006848698947579));
res += mul(Get(s2,0,-dy), float4x4(-0.001984175527468,-0.072562672197819,-0.012644481845200,-0.059450931847095,-0.077765442430973,-0.031295046210289,0.061939235776663,-0.023529391735792,-0.042933404445648,0.157187387347221,-0.023438328877091,0.113292112946510,0.106076195836067,-0.070912733674049,-0.141325861215591,0.046061921864748));
res += mul(Get(s2,0,0), float4x4(0.157617762684822,-0.027718851342797,-0.004078391473740,0.053525205701590,-0.036390516906977,-0.061258118599653,0.077474571764469,0.148471787571907,0.056363906711340,0.073118455708027,-0.017584180459380,-0.021108143031597,0.086273990571499,-0.005976369604468,-0.040402200073004,0.033518176525831));
res += mul(Get(s2,0,dy), float4x4(0.050836220383644,0.041850175708532,0.028984209522605,0.043845951557159,-0.094618089497089,-0.044305481016636,0.101064935326576,-0.010793488472700,-0.036286283284426,0.064122676849365,0.029598359018564,-0.092934608459473,0.073667123913765,-0.033915467560291,0.038944821804762,-0.023522255942225));
res += mul(Get(s2,dx,-dy), float4x4(-0.040662776678801,-0.021049115806818,0.043196976184845,0.128661647439003,-0.117194369435310,-0.061954475939274,0.094131484627724,0.171453073620796,0.137136310338974,-0.087178327143192,-0.069463081657887,-0.018175527453423,0.103973574936390,-0.013393028639257,-0.102233082056046,0.053113259375095));
res += mul(Get(s2,dx,0), float4x4(-0.019220652058721,0.042545974254608,0.027913445606828,0.096152812242508,-0.036394655704498,0.007732469122857,0.056123539805412,0.022346192970872,0.120778091251850,-0.161654382944107,-0.047948498278856,0.002722366712987,0.051890306174755,0.058128394186497,-0.052942909300327,-0.018976505845785));
res += mul(Get(s2,dx,dy), float4x4(-0.016564862802625,-0.024122355505824,0.033643543720245,0.139068260788918,-0.143667683005333,-0.070273451507092,0.037517942488194,0.061577972024679,-0.004218447022140,-0.014142721891403,0.104141168296337,-0.002401994541287,0.006735648494214,-0.089889414608479,0.081387422978878,-0.060833539813757));
res += mul(Get(s3,-dx,-dy), float4x4(-0.020895395427942,0.168665274977684,-0.061433922499418,-0.010403156280518,0.013658825308084,0.014460898004472,0.030769994482398,0.023624757304788,-0.030523391440511,0.042105425149202,0.024011040106416,-0.085880659520626,0.003581622382626,-0.039556469768286,-0.015233933925629,-0.069644041359425));
res += mul(Get(s3,-dx,0), float4x4(0.046766705811024,0.050459910184145,0.078139625489712,0.085994385182858,0.029614944010973,-0.027944043278694,-0.044404085725546,0.061268854886293,0.066148951649666,-0.076811216771603,0.078686952590942,-0.028436968103051,-0.022100664675236,-0.009029478766024,-0.108359560370445,-0.115850895643234));
res += mul(Get(s3,-dx,dy), float4x4(0.076281197369099,0.030058842152357,-0.138187795877457,0.042667265981436,-0.002639062236995,0.024640666320920,0.076397128403187,0.007581149693578,0.136666119098663,-0.054902408272028,-0.095961980521679,0.015043727122247,-0.016634197905660,0.110332421958447,-0.059097580611706,-0.039889808744192));
res += mul(Get(s3,0,-dy), float4x4(-0.039062831550837,0.091059304773808,0.029776532202959,-0.020226046442986,0.010064444504678,-0.015217133797705,0.032347850501537,0.026161158457398,-0.110992908477783,0.001262727775611,0.159621149301529,-0.026702199131250,0.144186496734619,-0.050257582217455,-0.024503611028194,-0.123592607676983));
res += mul(Get(s3,0,0), float4x4(0.011388895101845,-0.010728566907346,0.028003929182887,0.073239013552666,0.052365839481354,-0.027581090107560,-0.087724357843399,0.062830701470375,0.023498242720962,-0.045287262648344,0.112516418099403,-0.042586613446474,-0.214305862784386,0.140831977128983,-0.019805291667581,-0.038551993668079));
res += mul(Get(s3,0,dy), float4x4(0.011731472797692,0.029980150982738,-0.053934302181005,0.055760551244020,0.015508742071688,-0.033248137682676,0.018221506848931,-0.033685907721519,-0.010458568111062,-0.034219164401293,0.031210647895932,0.006582769099623,-0.100072704255581,0.036177072674036,0.060163877904415,-0.067227356135845));
res += mul(Get(s3,dx,-dy), float4x4(0.061754189431667,-0.019374569877982,0.070915795862675,0.090153351426125,0.019890597090125,-0.113275319337845,-0.013842839747667,0.128029927611351,-0.034529235213995,-0.079435639083385,-0.084160059690475,0.037557169795036,-0.027510304003954,-0.059645026922226,0.014756725169718,-0.001315590925515));
res += mul(Get(s3,dx,0), float4x4(0.103455312550068,-0.020731477066875,0.001788332941942,0.176030978560448,-0.018642991781235,-0.056440487504005,-0.102399945259094,0.126502871513367,-0.030753312632442,-0.110701717436314,0.094251230359077,-0.002009632531554,-0.175848111510277,0.346212595701218,-0.017738940194249,0.043046507984400));
res += mul(Get(s3,dx,dy), float4x4(0.079115450382233,0.077078342437744,-0.020602855831385,0.033404003828764,0.014467719011009,0.003143807640299,-0.006694267503917,-0.043338432908058,-0.104490920901299,-0.077981129288673,-0.122704118490219,0.007696318440139,-0.117275893688202,-0.098694518208504,-0.056141629815102,0.009832971729338));
return max(float4(0,0,0,0), res);
}
