sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.007222060114145,-0.064059756696224,-0.101256765425205,0.031869247555733,-0.000712174340151,-0.012225171551108,0.056656688451767,0.004719769116491,0.155525848269463,-0.009698378853500,-0.104134447872639,0.105838179588318,-0.115382246673107,0.148732498288155,0.023096315562725,0.067665435373783));
res += mul(Get(s0,-dx,0), float4x4(-0.007062076125294,-0.270951539278030,-0.128192484378815,-0.118278883397579,-0.102389626204967,0.082008980214596,-0.077714644372463,0.024350265040994,-0.138556137681007,-0.023927737027407,0.108641043305397,0.088234230875969,0.055239494889975,0.163801386952400,-0.146165445446968,-0.167334392666817));
res += mul(Get(s0,-dx,dy), float4x4(-0.168998539447784,-0.129123777151108,0.031634170562029,-0.058155361562967,0.119572214782238,0.128254577517509,0.015871826559305,0.155062958598137,-0.046387061476707,0.128326281905174,-0.032508913427591,-0.050177257508039,-0.072698906064034,0.191051468253136,-0.061690241098404,0.110650360584259));
res += mul(Get(s0,0,-dy), float4x4(-0.002664507599548,0.019040770828724,-0.025424454361200,-0.013310850597918,-0.031936001032591,-0.052049931138754,0.050724692642689,-0.175672605633736,0.098131231963634,-0.188955649733543,-0.012742044404149,-0.040112800896168,-0.085664927959442,-0.011053585447371,-0.000002424072591,-0.138239428400993));
res += mul(Get(s0,0,0), float4x4(0.005245604552329,0.119128547608852,0.037776093930006,-0.116568200290203,0.055452644824982,0.163488417863846,0.146053284406662,0.079969197511673,0.074735380709171,0.109585940837860,0.071917437016964,-0.131147667765617,-0.066855199635029,0.049834251403809,-0.030530642718077,0.021525824442506));
res += mul(Get(s0,0,dy), float4x4(-0.084177665412426,0.066872633993626,0.005948059260845,-0.068107143044472,-0.013374199159443,0.016950359568000,-0.080751910805702,-0.123707517981529,0.112143389880657,-0.042694430798292,-0.051955275237560,-0.138223662972450,0.013890725560486,-0.036535151302814,0.046449333429337,0.111700981855392));
res += mul(Get(s0,dx,-dy), float4x4(0.081629812717438,0.001721873297356,-0.061101835221052,0.145768195390701,0.018219420686364,0.092341624200344,-0.096868820488453,0.013114312663674,0.013281393796206,0.044093098491430,-0.059792835265398,-0.004225573968142,-0.095782749354839,0.069926373660564,0.048749338835478,-0.085410833358765));
res += mul(Get(s0,dx,0), float4x4(0.089055091142654,-0.184852868318558,-0.152715414762497,0.065971344709396,-0.044656086713076,0.059889499098063,-0.125704124569893,0.056696884334087,0.216226503252983,0.069740436971188,-0.048769529908895,-0.085740536451340,0.023599298670888,-0.057465989142656,0.021032456308603,-0.014508154243231));
res += mul(Get(s0,dx,dy), float4x4(0.007242664229125,0.023207226768136,0.024644372984767,0.087334468960762,-0.080808177590370,-0.127701699733734,0.037844464182854,-0.042568974196911,-0.115046314895153,0.179745316505432,0.047311589121819,0.086692877113819,0.019550142809749,-0.063627392053604,-0.036266453564167,-0.009692789986730));
res += mul(Get(s1,-dx,-dy), float4x4(0.042709313333035,0.193666949868202,-0.022342676296830,-0.137206226587296,0.077520839869976,-0.003310494823381,0.065932206809521,-0.151895001530647,0.004308607894927,-0.038597989827394,-0.048988938331604,-0.021483553573489,0.045997105538845,-0.110750637948513,0.027254428714514,-0.242095664143562));
res += mul(Get(s1,-dx,0), float4x4(0.044286295771599,0.119269393384457,0.008712031878531,-0.017198074609041,0.100588835775852,-0.048068981617689,-0.034934807568789,-0.073145963251591,0.006683947518468,-0.221686646342278,0.040509849786758,0.097187504172325,-0.178616821765900,-0.095167711377144,-0.011787261813879,-0.039244081825018));
res += mul(Get(s1,-dx,dy), float4x4(-0.000956330623012,0.173110350966454,-0.180606752634048,-0.092321418225765,0.050590015947819,0.042040552943945,-0.141693592071533,-0.031597077846527,-0.138818845152855,-0.066209182143211,-0.121887050569057,0.127825066447258,-0.011334368959069,-0.061892718076706,0.073140233755112,-0.132491230964661));
res += mul(Get(s1,0,-dy), float4x4(0.013927826657891,-0.067097283899784,0.060938283801079,0.081332720816135,0.139477789402008,0.203933641314507,-0.062599673867226,-0.009923144243658,0.020501473918557,-0.079503729939461,-0.019917709752917,0.197893664240837,-0.043064653873444,-0.075229391455650,-0.066998451948166,-0.118157319724560));
res += mul(Get(s1,0,0), float4x4(-0.008804787881672,0.124091356992722,-0.104529604315758,-0.027844540774822,0.122067607939243,-0.031619012355804,-0.155360773205757,0.173155441880226,0.113663405179977,0.116300538182259,-0.116184785962105,-0.083330973982811,-0.105493627488613,-0.144040271639824,0.117949962615967,-0.045570518821478));
res += mul(Get(s1,0,dy), float4x4(-0.123259797692299,0.016953028738499,0.144693568348885,0.022590074688196,0.086957029998302,0.082604445517063,0.161768987774849,-0.097205549478531,0.077679269015789,-0.100656874477863,-0.012939103879035,0.016090076416731,0.148566067218781,-0.029711684212089,0.168256774544716,0.093280099332333));
res += mul(Get(s1,dx,-dy), float4x4(0.210276529192924,0.003538378980011,0.070633530616760,-0.003799709025770,-0.064647831022739,0.036053277552128,-0.000950691697653,0.047957420349121,-0.133469313383102,0.061452765017748,0.167546629905701,-0.085789613425732,-0.076602675020695,0.106022611260414,-0.113767996430397,-0.139663487672806));
res += mul(Get(s1,dx,0), float4x4(-0.023236149922013,0.101663619279861,-0.140072628855705,0.011582354083657,0.062241878360510,-0.002113922033459,0.154803603887558,0.190100178122520,-0.110710047185421,0.000878381601069,0.023047665134072,0.042681008577347,0.074229255318642,0.043211411684752,0.064338497817516,0.155009716749191));
res += mul(Get(s1,dx,dy), float4x4(-0.011104754172266,-0.001815454452299,-0.013300855644047,0.001149583607912,0.022650359198451,-0.047260720282793,0.108017802238464,0.153672590851784,0.122488014400005,0.030955856665969,-0.050786685198545,-0.154113963246346,-0.013151510618627,-0.066574424505234,0.124633245170116,0.046785749495029));
res += mul(Get(s2,-dx,-dy), float4x4(-0.113827809691429,-0.093219377100468,-0.085524536669254,-0.079247809946537,-0.076976045966148,0.013224553316832,0.068412639200687,-0.045722316950560,0.029253924265504,0.009198903106153,0.018236067146063,-0.039740670472383,-0.097930513322353,0.045775413513184,0.008225253783166,0.003704835427925));
res += mul(Get(s2,-dx,0), float4x4(0.071807079017162,-0.081531733274460,-0.089942172169685,0.140671417117119,-0.067454718053341,-0.032413441687822,0.113093435764313,0.065434575080872,-0.053843852132559,-0.149236559867859,0.022239984944463,-0.142765119671822,0.077567808330059,0.010485272854567,0.129606083035469,-0.074746109545231));
res += mul(Get(s2,-dx,dy), float4x4(-0.089483268558979,0.010286414995790,0.180332764983177,0.034052323549986,0.070702582597733,-0.007977576926351,-0.045208245515823,0.125729203224182,-0.048528358340263,0.129653781652451,-0.143625512719154,-0.089243292808533,-0.006072883494198,0.067117497324944,0.068534381687641,-0.181775733828545));
res += mul(Get(s2,0,-dy), float4x4(-0.114561073482037,-0.002328255446628,-0.067731916904449,-0.059610672295094,0.061357833445072,-0.025831634178758,0.109750851988792,-0.015346773900092,-0.007232872769237,0.072692692279816,-0.130114942789078,0.099233902990818,-0.103239163756371,0.049897804856300,-0.144886344671249,-0.022473698481917));
res += mul(Get(s2,0,0), float4x4(0.211855635046959,0.004740766249597,0.016981681808829,-0.091464802622795,0.029256774112582,-0.130133703351021,-0.236716568470001,-0.085309654474258,-0.005143151152879,-0.001010105246678,-0.081187590956688,-0.066655889153481,-0.007089935708791,0.025821445509791,-0.067474208772182,0.148614913225174));
res += mul(Get(s2,0,dy), float4x4(0.053173899650574,-0.000921806087717,-0.012910805642605,-0.086056701838970,-0.005014041904360,-0.074497930705547,0.152851402759552,0.036380738019943,-0.103658013045788,0.130901843309402,-0.060441147536039,0.011077583767474,0.049707483500242,-0.003372229402885,-0.142451047897339,0.049004167318344));
res += mul(Get(s2,dx,-dy), float4x4(-0.278929412364960,-0.037817962467670,0.082126855850220,0.124726235866547,0.059803612530231,-0.112140446901321,-0.090711489319801,-0.041867084801197,0.022416139021516,-0.057465892285109,-0.132740333676338,0.062045551836491,-0.035161133855581,-0.071638233959675,-0.015932895243168,-0.018355017527938));
res += mul(Get(s2,dx,0), float4x4(-0.088886708021164,0.052540548145771,-0.028645185753703,0.073902301490307,0.026724504306912,-0.009112772531807,-0.156929716467857,0.049396719783545,-0.117578297853470,-0.100722327828407,0.042746722698212,-0.068770684301853,0.166058197617531,-0.134626150131226,-0.071050308644772,-0.051608275622129));
res += mul(Get(s2,dx,dy), float4x4(0.122384332120419,-0.004771644715220,0.058611270040274,-0.002299074549228,0.026640616357327,0.014782270416617,0.079446755349636,0.027145151048899,-0.130805954337120,0.048924569040537,0.100510433316231,-0.151771306991577,0.036888621747494,0.011927783489227,0.169467493891716,0.138789594173431));
res += mul(Get(s3,-dx,-dy), float4x4(-0.108732625842094,0.000800480716862,0.138573601841927,0.081290379166603,-0.016255233436823,-0.091441325843334,0.099600374698639,-0.101127073168755,0.083188995718956,-0.036999724805355,0.017610302194953,0.003838886506855,0.130931183695793,0.027676938101649,0.205733090639114,0.116890557110310));
res += mul(Get(s3,-dx,0), float4x4(0.015348963439465,0.118380524218082,0.040402270853519,-0.004052910022438,-0.081178918480873,-0.213154390454292,0.126100093126297,0.045210160315037,0.119502462446690,-0.048669319599867,-0.020473189651966,0.058303508907557,-0.132717952132225,0.079422689974308,0.108318068087101,0.022556679323316));
res += mul(Get(s3,-dx,dy), float4x4(0.087751537561417,-0.021143557503819,-0.119709365069866,-0.112281173467636,0.068520151078701,-0.039209663867950,0.079949721693993,0.017573550343513,-0.075154028832912,0.070302963256836,0.064255706965923,-0.148748546838760,0.071470297873020,0.009262020699680,0.088934175670147,-0.015239779837430));
res += mul(Get(s3,0,-dy), float4x4(-0.001944508170709,-0.016157563775778,0.005051678977907,0.046218760311604,0.255643725395203,0.177516937255859,0.057466082274914,-0.157703012228012,-0.057201206684113,-0.031047342345119,-0.146045133471489,-0.096973232924938,-0.016524560749531,-0.164352133870125,0.014989318326116,0.060863181948662));
res += mul(Get(s3,0,0), float4x4(-0.023086251690984,-0.073000401258469,0.126596093177795,0.071435138583183,-0.083344094455242,-0.007680321577936,0.192646920681000,0.002450438681990,0.083168923854828,-0.038228936493397,0.007846074178815,-0.073433518409729,-0.054773062467575,0.106650002300739,0.010132530704141,-0.123598672449589));
res += mul(Get(s3,0,dy), float4x4(-0.059184417128563,-0.168039709329605,-0.097065456211567,-0.016076626256108,-0.074158102273941,0.148157283663750,0.147199600934982,0.015936676412821,-0.051361031830311,0.033706549555063,0.132887169718742,0.116569764912128,0.151326954364777,-0.017973151057959,-0.019098155200481,0.086947798728943));
res += mul(Get(s3,dx,-dy), float4x4(-0.150314524769783,0.108454093337059,0.205781146883965,0.014690994285047,-0.017950346693397,0.069669455289841,-0.149725958704948,-0.119173809885979,0.051466677337885,0.015789166092873,0.015691502019763,-0.142277270555496,-0.011764846742153,-0.017549352720380,0.045458566397429,-0.007622299715877));
res += mul(Get(s3,dx,0), float4x4(-0.036125130951405,-0.124385103583336,0.100887537002563,-0.000693604932167,-0.035718049854040,0.085925877094269,-0.010489835403860,0.104711711406708,0.098823755979538,0.122603513300419,-0.043824609369040,0.107623293995857,-0.113826192915440,-0.134880781173706,0.055053289979696,0.076013989746571));
res += mul(Get(s3,dx,dy), float4x4(-0.065985560417175,0.063997581601143,0.029664199799299,-0.090906426310539,-0.107368096709251,0.161308512091637,0.059077866375446,0.067392289638519,0.207275182008743,-0.031769514083862,0.001329194754362,-0.037093166261911,-0.015108978375793,-0.140703231096268,-0.165824368596077,0.023753996938467));
return max(float4(0,0,0,0), res);
}
