sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.065467447042465,0.031051749363542,-0.087902739644051,-0.022660851478577,-0.072458706796169,0.043532121926546,0.071768060326576,-0.135113328695297,-0.249022454023361,-0.052060220390558,0.013102845288813,0.049437478184700,-0.245699286460876,0.038679488003254,-0.047958336770535,0.113650433719158));
res += mul(Get(s0,-dx,0), float4x4(-0.005298640113324,-0.015707556158304,-0.060365643352270,0.050974942743778,0.005529892165214,0.036539554595947,0.107144147157669,-0.044294852763414,-0.051857598125935,-0.010147398337722,-0.003411651821807,0.074627630412579,-0.012662989087403,0.010098859667778,0.018201660364866,0.090401574969292));
res += mul(Get(s0,-dx,dy), float4x4(-0.057171374559402,0.067743159830570,-0.050513777881861,-0.006002026144415,0.104075185954571,0.026928091421723,0.023770097643137,0.065257206559181,-0.064049221575260,0.034782260656357,0.009459103457630,-0.006434000562876,-0.040776733309031,0.148905992507935,0.055698286741972,-0.142927378416061));
res += mul(Get(s0,0,-dy), float4x4(-0.044449698179960,-0.069931313395500,-0.113307319581509,0.097928993403912,-0.107945322990417,0.052718240767717,-0.028038252145052,-0.129874795675278,-0.094284340739250,-0.001947841723450,-0.080324023962021,0.055689416825771,-0.090157479047775,-0.021402535960078,-0.026351762935519,-0.007140627596527));
res += mul(Get(s0,0,0), float4x4(0.032036349177361,-0.037446249276400,-0.061159327626228,0.063058316707611,0.016355469822884,0.002888914896175,0.021928438916802,-0.089042350649834,0.111993446946144,0.021718835458159,0.120349623262882,-0.014442854560912,0.010507726110518,-0.026405032724142,0.042638067156076,0.091922156512737));
res += mul(Get(s0,0,dy), float4x4(0.012071884237230,0.038638822734356,-0.031186901032925,-0.057931397110224,0.025709593668580,-0.038385678082705,-0.047761216759682,-0.060197602957487,0.014931728132069,0.020742898806930,-0.066546902060509,-0.060710746794939,0.015920713543892,0.105048701167107,0.067695394158363,-0.060913458466530));
res += mul(Get(s0,dx,-dy), float4x4(0.062525458633900,0.042997639626265,-0.161709934473038,0.041453860700130,0.001476859441027,0.044941242784262,-0.036727141588926,-0.020901162177324,-0.039677374064922,0.137500748038292,-0.170762762427330,0.059187173843384,-0.028610669076443,-0.069191843271255,0.028340373188257,0.110891543328762));
res += mul(Get(s0,dx,0), float4x4(0.075389213860035,0.021560464054346,-0.067254871129990,0.000861671927851,0.016724720597267,-0.052124068140984,0.034507773816586,0.010017934255302,0.159150436520576,0.171315461397171,0.109353035688400,-0.068436518311501,0.015895975753665,-0.155509814620018,0.171458184719086,0.030046056956053));
res += mul(Get(s0,dx,dy), float4x4(0.110207542777061,0.068116851150990,0.005740234162658,-0.034427724778652,0.032252639532089,-0.028137225657701,-0.074949905276299,-0.015502051450312,-0.014965638518333,0.115183159708977,0.001386783667840,-0.022837109863758,0.084176860749722,-0.038350570946932,0.185798779129982,0.143881931900978));
res += mul(Get(s1,-dx,-dy), float4x4(-0.060941867530346,0.029802741482854,-0.093099996447563,0.058341719210148,-0.199292972683907,0.003330089151859,0.076720409095287,0.060366645455360,0.003087693126872,-0.047976344823837,0.064748279750347,-0.038857854902744,-0.165003120899200,0.033416401594877,0.106983356177807,-0.074428029358387));
res += mul(Get(s1,-dx,0), float4x4(0.132788047194481,0.176525428891182,-0.008543677628040,0.045963220298290,0.098107635974884,-0.026523755863309,-0.006534037645906,0.068986140191555,-0.004242958035320,0.003436802653596,0.066390380263329,0.040896054357290,-0.094722613692284,0.050555873662233,0.011264851316810,-0.096921488642693));
res += mul(Get(s1,-dx,dy), float4x4(0.005896904971451,0.044136404991150,-0.042899161577225,-0.015368355438113,-0.081728897988796,-0.021366558969021,0.008693037554622,0.044849544763565,0.101297654211521,0.028419524431229,0.043216921389103,0.053710576146841,-0.053809989243746,0.075924664735794,-0.094583675265312,0.010001985356212));
res += mul(Get(s1,0,-dy), float4x4(0.023599635809660,-0.065676309168339,-0.090705536305904,-0.046050824224949,-0.093997418880463,0.015772592276335,0.006411274429411,-0.024346016347408,0.234406366944313,0.084369570016861,-0.018465835601091,0.010238016955554,-0.034997053444386,-0.008143975399435,0.136652112007141,0.001743826665916));
res += mul(Get(s1,0,0), float4x4(-0.017387576401234,-0.093612022697926,-0.116345286369324,0.163330093026161,0.080495424568653,-0.031772624701262,-0.082897208631039,0.009513607248664,0.024708896875381,0.027335813269019,0.106700807809830,-0.080974698066711,0.106192633509636,0.076661519706249,-0.081119723618031,0.006243940442801));
res += mul(Get(s1,0,dy), float4x4(-0.015373425558209,-0.067338027060032,0.063392266631126,-0.071455463767052,0.033535975962877,-0.029732221737504,0.133650466799736,-0.025608934462070,0.010713675059378,0.030314730480313,0.016572181135416,-0.043123528361320,-0.002191243926063,0.012781269848347,-0.087724275887012,0.012342046014965));
res += mul(Get(s1,dx,-dy), float4x4(0.096713237464428,-0.074052721261978,-0.042240727692842,-0.095868453383446,0.028055874630809,-0.040830831974745,-0.043209031224251,0.116832181811333,-0.024865286424756,-0.075720764696598,0.003109304700047,-0.005760744679719,-0.136478528380394,0.070596575737000,0.045615170150995,-0.130133494734764));
res += mul(Get(s1,dx,0), float4x4(0.034835744649172,0.056223832070827,-0.128769353032112,0.177666455507278,0.078755505383015,-0.085863865911961,-0.131414487957954,0.087613753974438,-0.037140224128962,-0.038162969052792,0.031482525169849,-0.043396230787039,0.043414782732725,-0.066351912915707,-0.086456768214703,-0.127490654587746));
res += mul(Get(s1,dx,dy), float4x4(-0.067068293690681,-0.034468654543161,0.036649487912655,-0.072394743561745,-0.005202272441238,-0.096072837710381,0.113146841526031,-0.058214716613293,0.012261987663805,0.001536787836812,0.005363668780774,0.016798416152596,-0.055617745965719,-0.088673554360867,-0.111269287765026,-0.023156121373177));
res += mul(Get(s2,-dx,-dy), float4x4(-0.097587369382381,-0.018848370760679,-0.068463355302811,-0.024697359651327,0.011522564105690,0.031561776995659,-0.041212193667889,0.066771648824215,-0.162714466452599,-0.004224976990372,0.099470563232899,-0.130659461021423,0.048485182225704,-0.018754730001092,0.042611237615347,-0.067157469689846));
res += mul(Get(s2,-dx,0), float4x4(-0.061810359358788,-0.085454702377319,0.009030810557306,-0.068129807710648,-0.059986695647240,0.091599926352501,-0.091260135173798,0.027685323730111,0.072213046252728,0.060521442443132,0.010621080175042,0.036443535238504,0.211906462907791,-0.026581820100546,0.023592809215188,0.047382399439812));
res += mul(Get(s2,-dx,dy), float4x4(0.024328364059329,0.071616113185883,0.033171288669109,-0.048391029238701,0.025663057342172,0.058937601745129,0.045438557863235,0.191258132457733,-0.010325900278986,-0.037375275045633,-0.002255603205413,-0.034097038209438,-0.045537099242210,-0.021958375349641,-0.004586922936141,-0.040920417755842));
res += mul(Get(s2,0,-dy), float4x4(-0.050157383084297,0.139529258012772,0.007519391365349,-0.080740779638290,0.202363222837448,-0.075030453503132,0.009912985377014,0.037298597395420,-0.037578325718641,0.083892337977886,0.070420704782009,-0.075463242828846,0.198262467980385,0.100471816956997,-0.007165598217398,0.073302470147610));
res += mul(Get(s2,0,0), float4x4(0.070619978010654,-0.004189903382212,-0.028737287968397,-0.032205667346716,-0.111532881855965,-0.034728605300188,-0.076782487332821,-0.068508826196194,0.113411799073219,0.000401691009756,0.041104540228844,0.025483990088105,0.368314206600189,0.076728336513042,-0.015659514814615,0.176263496279716));
res += mul(Get(s2,0,dy), float4x4(0.160987123847008,0.102035336196423,0.118872165679932,-0.165209665894508,0.003308223327622,-0.086141608655453,-0.001195493270643,0.261277705430984,0.116478145122528,0.119196139276028,0.033272325992584,-0.031205132603645,0.181551113724709,0.077364876866341,-0.062121011316776,0.091427728533745));
res += mul(Get(s2,dx,-dy), float4x4(-0.177513509988785,0.031727902591228,0.034208215773106,0.002360421232879,-0.056248132139444,-0.152022734284401,0.082491524517536,0.124228440225124,-0.087415821850300,-0.059657800942659,-0.024086339399219,-0.111654579639435,0.023733811452985,-0.016866257414222,0.008203155361116,0.128589034080505));
res += mul(Get(s2,dx,0), float4x4(-0.088125452399254,-0.034936662763357,-0.007402313407511,-0.077393397688866,-0.000139092429890,-0.080191567540169,-0.117552325129509,0.115437924861908,-0.037212163209915,-0.094478815793991,0.153703123331070,-0.002782910130918,0.010879549197853,0.056679114699364,0.029651883989573,0.042107380926609));
res += mul(Get(s2,dx,dy), float4x4(-0.051670443266630,-0.050066150724888,0.021724238991737,0.066003479063511,0.090930067002773,-0.124666959047318,-0.075492419302464,0.120665512979031,-0.055476158857346,0.139017418026924,-0.066630654036999,-0.012442424893379,-0.054209426045418,-0.026810288429260,0.008968684822321,0.038502264767885));
res += mul(Get(s3,-dx,-dy), float4x4(-0.016802882775664,-0.127201601862907,-0.056507185101509,-0.112407349050045,-0.028329528868198,-0.017414256930351,-0.014665211550891,0.064279004931450,-0.097912825644016,-0.043048486113548,0.041278306394815,0.007462172769010,-0.057783916592598,-0.027656294405460,0.030899234116077,0.030305577442050));
res += mul(Get(s3,-dx,0), float4x4(-0.073190912604332,-0.007114274892956,-0.093354329466820,-0.074229948222637,-0.032639939337969,-0.130640134215355,0.064901627600193,0.001656716805883,0.010823911987245,0.030587488785386,-0.045986991375685,0.088285170495510,-0.134788259863853,-0.024092854931951,-0.077827803790569,-0.244140520691872));
res += mul(Get(s3,-dx,dy), float4x4(-0.119616769254208,-0.056588146835566,-0.042141120880842,-0.063822232186794,0.013099188916385,-0.048016939312220,-0.091442480683327,0.039504870772362,0.006387072615325,-0.042069975286722,-0.023886358365417,-0.061682425439358,-0.078886002302170,0.064207218587399,-0.077816732227802,-0.055770993232727));
res += mul(Get(s3,0,-dy), float4x4(0.036072820425034,0.022848758846521,-0.036995582282543,-0.060030486434698,0.026173958554864,0.140815943479538,-0.046801500022411,-0.006676758639514,-0.077507764101028,-0.028756063431501,-0.053943410515785,0.006465599406511,0.038701437413692,-0.128098309040070,-0.022432012483478,-0.005809276830405));
res += mul(Get(s3,0,0), float4x4(0.009893262758851,0.083994396030903,-0.104210890829563,-0.030710645020008,-0.028124889358878,-0.012645689770579,0.143423065543175,0.038894508033991,0.107654966413975,0.004333513323218,-0.077222451567650,0.086715593934059,-0.031103940680623,-0.113614387810230,-0.075478069484234,0.039246942847967));
res += mul(Get(s3,0,dy), float4x4(0.063506387174129,-0.015105801634490,0.033689826726913,-0.109725825488567,-0.050363201647997,-0.041513103991747,-0.110243968665600,0.151029363274574,-0.030756302177906,-0.051693901419640,-0.034968547523022,-0.010216553695500,-0.017843931913376,-0.063321009278297,-0.052402395755053,0.049875859171152));
res += mul(Get(s3,dx,-dy), float4x4(0.073609106242657,-0.093931183218956,0.034828666597605,-0.114731080830097,0.006234851200134,0.016816055402160,0.048050723969936,-0.016048137098551,0.039451371878386,-0.032637454569340,0.035942826420069,0.015485052950680,0.005354932043701,0.213144674897194,-0.004744682926685,-0.035983271896839));
res += mul(Get(s3,dx,0), float4x4(0.059151232242584,-0.134258270263672,-0.086012780666351,-0.026896366849542,0.095059983432293,0.053292088210583,0.144814535975456,0.064115338027477,0.134130746126175,-0.023090863600373,-0.126463681459427,0.072894424200058,-0.023060491308570,0.060187228024006,-0.067944139242172,0.075271338224411));
res += mul(Get(s3,dx,dy), float4x4(0.028859665617347,-0.133931040763855,0.017209516838193,-0.117737121880054,-0.001750927185640,0.016794148832560,0.040252588689327,-0.020594961941242,-0.023984840139747,0.003097324399278,0.032699503004551,-0.024967674165964,-0.060015354305506,0.098795890808105,-0.053076829761267,0.051038384437561));
return max(float4(0,0,0,0), res);
}
