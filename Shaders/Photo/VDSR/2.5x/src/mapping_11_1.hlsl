sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.065170995891094,-0.035227127373219,-0.130128115415573,-0.005216349381953,-0.006719571072608,0.033478002995253,-0.038772877305746,-0.033238288015127,-0.007499253842980,0.039556484669447,-0.001900553354062,0.000977936317213,0.125562161207199,-0.156278535723686,-0.041087623685598,0.098330430686474));
res += mul(Get(s0,-dx,0), float4x4(-0.046688806265593,-0.120617650449276,-0.157639622688293,-0.029635263606906,-0.100700706243515,0.031733680516481,0.212392181158066,-0.070345990359783,-0.028688658028841,-0.204552054405212,0.074882641434669,0.046023361384869,-0.105362065136433,-0.065945230424404,0.041515007615089,-0.000385385123082));
res += mul(Get(s0,-dx,dy), float4x4(-0.048975605517626,-0.018665077164769,0.062513954937458,-0.293937772512436,0.025653086602688,0.080483943223953,0.090489283204079,-0.042937826365232,0.072781912982464,0.120410867035389,-0.012383596040308,-0.154003962874413,0.122343234717846,0.126408234238625,0.026253951713443,0.008407387882471));
res += mul(Get(s0,0,-dy), float4x4(-0.033699382096529,0.114517405629158,-0.057900365442038,0.102158002555370,-0.033958386629820,0.035434018820524,-0.087706953287125,0.121143124997616,-0.046489387750626,-0.004888450726867,0.098716415464878,-0.075709797441959,-0.159684002399445,-0.090552791953087,0.073803924024105,-0.069390118122101));
res += mul(Get(s0,0,0), float4x4(0.044673059135675,0.057036042213440,-0.102933384478092,-0.158073469996452,-0.109166078269482,-0.019180370494723,0.100721515715122,-0.062710031867027,0.084628060460091,0.073480568826199,-0.104878492653370,0.064328990876675,-0.235847949981689,-0.108191587030888,0.051689155399799,0.039558079093695));
res += mul(Get(s0,0,dy), float4x4(0.022797372192144,-0.032288063317537,0.110230840742588,-0.034251358360052,-0.028384611010551,-0.064651116728783,-0.049474868923426,0.008499816991389,-0.008500986732543,-0.036550000309944,-0.019366376101971,-0.070339158177376,-0.058213859796524,-0.127370387315750,-0.181844055652618,-0.066907338798046));
res += mul(Get(s0,dx,-dy), float4x4(0.100881904363632,0.095250122249126,-0.127866283059120,0.092878215014935,-0.026758586987853,0.111674122512341,0.100351780653000,-0.012604073621333,0.002821741625667,-0.121662713587284,0.072680227458477,0.049111951142550,0.038855869323015,0.096524991095066,-0.025778159499168,0.059558168053627));
res += mul(Get(s0,dx,0), float4x4(-0.065812945365906,0.071704819798470,0.248924821615219,0.038792558014393,-0.101134829223156,-0.042640358209610,0.119471564888954,-0.072733573615551,-0.000413352303440,0.028907688334584,0.077739603817463,0.084570989012718,0.023103715851903,0.087177485227585,0.012094989418983,-0.074444159865379));
res += mul(Get(s0,dx,dy), float4x4(-0.149389430880547,0.104960963129997,-0.016159363090992,0.028746245428920,0.000621058745310,0.004223455674946,0.007121090311557,-0.095164865255356,0.025375181809068,-0.064199477434158,-0.083892293274403,-0.105619706213474,0.025897983461618,-0.045576598495245,-0.045649353414774,-0.156823188066483));
res += mul(Get(s1,-dx,-dy), float4x4(0.062120828777552,-0.114947162568569,-0.104725107550621,-0.018686966970563,-0.100895158946514,0.059042919427156,0.026406140998006,0.075124450027943,-0.173590168356895,0.145252853631973,-0.048761755228043,0.069961927831173,-0.168793842196465,-0.128092005848885,-0.099892869591713,0.189592063426971));
res += mul(Get(s1,-dx,0), float4x4(0.145030140876770,-0.139723494648933,-0.045998342335224,-0.080937467515469,-0.127619057893753,0.029638206586242,0.084096133708954,0.001115393824875,0.051607597619295,-0.016731468960643,0.150785028934479,-0.016152044758201,0.191849723458290,-0.130175948143005,-0.164731010794640,0.121362090110779));
res += mul(Get(s1,-dx,dy), float4x4(-0.100757494568825,0.168651461601257,-0.122077345848083,0.035328548401594,-0.097099289298058,-0.066365346312523,-0.111207291483879,-0.307837933301926,0.071148850023746,0.105247445404530,-0.111998043954372,-0.081789977848530,0.066525571048260,-0.048081882297993,0.137554779648781,0.057509865611792));
res += mul(Get(s1,0,-dy), float4x4(0.198710024356842,-0.140717238187790,-0.152941092848778,-0.038856361061335,-0.105297580361366,-0.166502535343170,0.116669394075871,0.079572416841984,-0.006072422955185,-0.058446384966373,-0.003641726914793,-0.002753258682787,-0.133584111928940,-0.122108213603497,0.333645731210709,-0.082132562994957));
res += mul(Get(s1,0,0), float4x4(-0.078280992805958,-0.124132372438908,-0.052682083100080,0.088905595242977,-0.050048060715199,0.015508921816945,-0.004963927902281,0.081158198416233,-0.072830066084862,0.089948073029518,-0.114392325282097,-0.054609596729279,0.174466311931610,-0.006607991177589,-0.052230138331652,-0.032540004700422));
res += mul(Get(s1,0,dy), float4x4(-0.033592548221350,-0.093126125633717,0.090905591845512,0.021966613829136,-0.037800583988428,0.002934177638963,-0.041652489453554,0.025169508531690,0.120229944586754,-0.163813233375549,0.024934237822890,-0.023001328110695,-0.171476468443871,-0.057229414582253,0.031267762184143,-0.053168330341578));
res += mul(Get(s1,dx,-dy), float4x4(0.015951663255692,-0.018462402746081,-0.018933920189738,-0.036222334951162,-0.067800968885422,0.051857598125935,0.007303662132472,-0.060905054211617,0.067995280027390,0.002607217291370,0.039984814822674,-0.145008936524391,-0.104767158627510,0.035320743918419,0.076846852898598,0.104038625955582));
res += mul(Get(s1,dx,0), float4x4(-0.137962162494659,0.051506746560335,0.155595794320107,0.016640184447169,-0.194216176867485,-0.082663699984550,0.058443009853363,-0.031343091279268,-0.094860441982746,-0.035657715052366,0.033933106809855,0.017279313877225,0.070318505167961,-0.061593238264322,0.081212222576141,0.146078258752823));
res += mul(Get(s1,dx,dy), float4x4(-0.068586409091949,-0.065069049596786,0.021992133930326,0.030007975175977,0.181324794888496,0.069620072841644,0.012291381135583,-0.040247399359941,-0.038846194744110,0.054309036582708,0.122350215911865,-0.070038564503193,0.104802772402763,-0.092678450047970,-0.081313081085682,0.067877933382988));
res += mul(Get(s2,-dx,-dy), float4x4(0.013685843907297,-0.034487370401621,-0.052934385836124,0.089051887392998,0.056527152657509,0.015259397216141,-0.134194925427437,0.003789373207837,-0.060874082148075,0.028309924528003,0.000632073497400,0.053524244576693,-0.010017780587077,-0.093330927193165,-0.310770004987717,0.117072008550167));
res += mul(Get(s2,-dx,0), float4x4(0.211168363690376,0.023789979517460,0.033768214285374,0.182644516229630,-0.007080602459610,-0.250321120023727,0.021710552275181,0.009549604728818,-0.054853752255440,-0.073644734919071,0.030061330646276,0.007246145047247,0.071754060685635,-0.045542258769274,-0.083548523485661,-0.062071081250906));
res += mul(Get(s2,-dx,dy), float4x4(-0.040684238076210,0.114947095513344,-0.063688918948174,0.025194132700562,0.209430500864983,0.034516613930464,-0.049785718321800,-0.019120851531625,-0.078497096896172,0.101595543324947,-0.030545465648174,-0.017375912517309,-0.039762858301401,-0.011394442059100,0.152940079569817,0.105765268206596));
res += mul(Get(s2,0,-dy), float4x4(-0.055734485387802,-0.026430791243911,0.073613971471786,-0.105648674070835,0.100463867187500,0.075349539518356,-0.044275365769863,0.137215971946716,-0.006882350891829,-0.071417063474655,0.108390271663666,0.049848392605782,0.060587637126446,-0.050827916711569,0.044782981276512,-0.139398276805878));
res += mul(Get(s2,0,0), float4x4(0.033162765204906,-0.049982864409685,0.130517899990082,-0.034862216562033,0.196859031915665,0.047868054360151,0.038282722234726,0.085160389542580,-0.120399318635464,-0.067584581673145,-0.076174572110176,-0.161248147487640,0.195438504219055,-0.106508471071720,0.068292163312435,-0.038277346640825));
res += mul(Get(s2,0,dy), float4x4(-0.137053117156029,0.019368654116988,0.167220711708069,0.017017005011439,-0.034528076648712,0.020894983783364,-0.100172288715839,0.016292354092002,0.122268296778202,0.067375503480434,0.126879811286926,0.000925772357732,0.114498861134052,-0.130203321576118,-0.094997540116310,0.030673420056701));
res += mul(Get(s2,dx,-dy), float4x4(-0.036587722599506,-0.038127936422825,-0.111516982316971,-0.196058288216591,-0.044991459697485,0.019602233543992,0.023874187842011,-0.079306937754154,0.046955093741417,0.124270275235176,-0.019264604896307,-0.033091031014919,0.090995907783508,-0.073770694434643,-0.067209698259830,-0.164314776659012));
res += mul(Get(s2,dx,0), float4x4(0.043489836156368,-0.145568296313286,0.144660189747810,-0.017602954059839,-0.139456346631050,-0.071366719901562,0.025213867425919,0.280163943767548,-0.016326773911715,-0.016947722062469,-0.065522223711014,0.040363389998674,-0.119161173701286,0.090353637933731,-0.064475759863853,-0.200578600168228));
res += mul(Get(s2,dx,dy), float4x4(-0.050972227007151,-0.072829671204090,-0.066461451351643,0.059708748012781,-0.085285358130932,-0.088942147791386,-0.041528176516294,-0.053738635033369,-0.017963415011764,0.115411870181561,0.037259824573994,0.125519141554832,-0.194814473390579,0.092342890799046,-0.080409392714500,-0.193060308694839));
res += mul(Get(s3,-dx,-dy), float4x4(-0.018342904746532,0.057846624404192,0.005896952468902,-0.143220648169518,0.127649083733559,-0.093176752328873,-0.004029890522361,-0.101331107318401,-0.146780848503113,-0.024444079026580,0.145808979868889,-0.164405226707458,-0.056277155876160,-0.072778135538101,0.155979156494141,0.008843950927258));
res += mul(Get(s3,-dx,0), float4x4(0.189917758107185,0.089511536061764,-0.014302942901850,-0.042383283376694,0.002154143759981,0.028335474431515,-0.038456588983536,0.083323933184147,-0.049948111176491,0.073483206331730,-0.140491664409637,-0.137088045477867,0.085910573601723,0.103744387626648,0.046950567513704,-0.015323034487665));
res += mul(Get(s3,-dx,dy), float4x4(0.189106643199921,-0.065802685916424,-0.096699506044388,0.198242887854576,-0.146785333752632,-0.000091607151262,0.053131066262722,-0.268923968076706,-0.236809566617012,0.157865747809410,0.058158010244370,0.107029236853123,0.036151539534330,-0.089128799736500,-0.114096552133560,0.163538500666618));
res += mul(Get(s3,0,-dy), float4x4(0.052981257438660,0.022979520261288,-0.160118490457535,0.010272748768330,0.025127688422799,0.003346216864884,0.015517270192504,0.019491767510772,-0.015438606031239,-0.063665464520454,-0.065475024282932,-0.168787196278572,-0.227719873189926,-0.019262388348579,0.161068156361580,-0.047306239604950));
res += mul(Get(s3,0,0), float4x4(-0.187846809625626,-0.022031327709556,-0.090106606483459,-0.087816238403320,-0.072565957903862,-0.152468234300613,-0.005970310419798,-0.137923628091812,0.010872230865061,-0.038390047848225,0.012774830684066,-0.098976962268353,-0.032177422195673,-0.103687025606632,-0.113060206174850,-0.084953173995018));
res += mul(Get(s3,0,dy), float4x4(-0.236697375774384,-0.016445588320494,-0.142920419573784,0.078575052320957,0.001964160474017,-0.062841802835464,-0.184596613049507,-0.164065688848495,0.022881584241986,-0.037352979183197,-0.173699289560318,0.065525218844414,0.111118637025356,0.154517203569412,0.059921279549599,0.005781333893538));
res += mul(Get(s3,dx,-dy), float4x4(-0.003677783533931,-0.031833432614803,-0.106761075556278,0.028270866721869,-0.029218031093478,0.128373458981514,0.030559226870537,0.131297528743744,0.165877997875214,-0.018562007695436,0.097448870539665,0.022522002458572,-0.067013978958130,0.016154458746314,0.044589709490538,-0.004562235437334));
res += mul(Get(s3,dx,0), float4x4(-0.010088754817843,0.104439340531826,-0.150178328156471,0.110569663345814,0.045154038816690,0.003600790165365,0.240856438875198,0.107666634023190,-0.080332949757576,-0.095373876392841,-0.133473262190819,0.099906302988529,0.051171995699406,-0.114021025598049,0.213538691401482,-0.121186107397079));
res += mul(Get(s3,dx,dy), float4x4(-0.147245585918427,-0.116132192313671,-0.066448546946049,-0.066526845097542,0.074890539050102,-0.207425281405449,0.054764572530985,-0.115145199000835,0.168759524822235,-0.023266794160008,-0.072020284831524,-0.066785812377930,0.067249596118927,0.111597239971161,0.110123522579670,-0.033734496682882));
return max(float4(0,0,0,0), res);
}
