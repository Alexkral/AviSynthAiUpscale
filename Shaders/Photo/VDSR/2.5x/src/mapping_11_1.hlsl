sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.067836672067642,-0.031614545732737,0.034511741250753,0.002798587083817,-0.136352151632309,0.002692935289815,0.031303394585848,-0.088114082813263,-0.027619425207376,-0.002946618245915,-0.027649169787765,0.014378986321390,0.061052065342665,-0.173354536294937,0.047106772661209,0.141140162944794));
res += mul(Get(s0,-dx,0), float4x4(-0.073376357555389,0.010604542680085,-0.104010321199894,-0.053381729871035,-0.084551818668842,-0.135013788938522,0.108406715095043,-0.095744065940380,-0.043114114552736,0.048235666006804,-0.123310282826424,0.050812005996704,0.043687291443348,-0.055662382394075,-0.057380586862564,0.056229684501886));
res += mul(Get(s0,-dx,dy), float4x4(-0.064073257148266,0.030599059537053,-0.077793128788471,0.095243923366070,-0.122303828597069,0.045971576124430,0.006331305950880,-0.067166060209274,-0.062459658831358,0.091370820999146,-0.175769314169884,-0.058761361986399,-0.006037159357220,-0.054948285222054,-0.042451262474060,0.110449023544788));
res += mul(Get(s0,0,-dy), float4x4(-0.126952528953552,-0.032096717506647,-0.021850157529116,0.058524705469608,-0.013471309095621,-0.020353732630610,-0.043590486049652,0.123731419444084,0.184736222028732,-0.140911981463432,0.052152320742607,-0.161457404494286,0.135063886642456,0.014855745248497,-0.087501943111420,-0.107828192412853));
res += mul(Get(s0,0,0), float4x4(0.021016472950578,0.009579889476299,0.035483095794916,0.053328078240156,-0.007783221546561,0.125647783279419,0.008884932845831,0.090199790894985,0.094271205365658,-0.067112684249878,-0.062130484730005,-0.110255785286427,-0.095856472849846,-0.010314948856831,-0.023599760606885,-0.106798455119133));
res += mul(Get(s0,0,dy), float4x4(0.085312850773335,-0.043725781142712,0.053309567272663,0.159589558839798,-0.077899523079395,0.010993904434144,-0.047674581408501,0.119142092764378,0.029483873397112,0.023400703445077,0.043669067323208,-0.069101937115192,-0.070507206022739,-0.056846767663956,0.031162258237600,-0.014579516835511));
res += mul(Get(s0,dx,-dy), float4x4(0.077133275568485,-0.105591475963593,0.070655629038811,0.156964406371117,-0.129052326083183,0.007862318307161,-0.052215699106455,0.203884050250053,0.021967845037580,-0.054675124585629,0.190676987171173,-0.123590685427189,0.054947081953287,-0.033610582351685,-0.012314585037529,-0.128870010375977));
res += mul(Get(s0,dx,0), float4x4(0.114749707281590,0.050563741475344,0.056050617247820,0.103336825966835,0.065535314381123,0.020396580919623,-0.050201609730721,-0.048546649515629,-0.153482258319855,-0.088076859712601,0.117276452481747,0.026658764109015,0.042979206889868,0.052218779921532,-0.029046081006527,-0.104641646146774));
res += mul(Get(s0,dx,dy), float4x4(-0.028997592628002,-0.000740816583857,0.059218049049377,-0.020594086498022,-0.102899029850960,-0.058967757970095,0.008758058771491,0.039542824029922,-0.006701692473143,0.030141018331051,0.020470997318625,0.135591134428978,0.084917575120926,-0.025669973343611,0.003291432512924,0.039589248597622));
res += mul(Get(s1,-dx,-dy), float4x4(0.114041700959206,-0.102521926164627,0.021628214046359,0.020826023072004,-0.053175840526819,0.051232062280178,0.009934743866324,-0.108436867594719,-0.044188849627972,-0.064626045525074,-0.015094375237823,-0.033577576279640,0.003991313278675,0.042893908917904,0.087099879980087,-0.030326241627336));
res += mul(Get(s1,-dx,0), float4x4(0.039052587002516,0.005019608885050,0.058648239821196,0.013635724782944,-0.124994553625584,-0.063501216471195,-0.051156289875507,-0.004659215454012,-0.066475279629230,0.039241660386324,-0.087423741817474,-0.081289336085320,-0.121244519948959,0.044769611209631,-0.073073051869869,-0.075454436242580));
res += mul(Get(s1,-dx,dy), float4x4(-0.060628429055214,0.049840267747641,0.075277641415596,0.013628904707730,-0.124313972890377,-0.055053070187569,-0.076191887259483,-0.060984861105680,-0.126301422715187,-0.096050217747688,-0.148002445697784,-0.036287475377321,-0.147328957915306,0.058563869446516,0.045573327690363,0.045375127345324));
res += mul(Get(s1,0,-dy), float4x4(-0.016554208472371,0.013910008594394,0.024965444579720,-0.066848903894424,-0.015137059614062,0.034073095768690,0.076857715845108,0.041413493454456,0.016073865815997,0.134465992450714,0.043144024908543,-0.034444320946932,0.015484379604459,-0.064619712531567,0.143457770347595,0.075078420341015));
res += mul(Get(s1,0,0), float4x4(-0.017299309372902,0.037461541593075,0.045471422374249,-0.016045542433858,-0.090731747448444,0.099246591329575,0.013146172277629,0.060986366122961,-0.069770023226738,-0.158040657639503,-0.056930091232061,-0.034245319664478,-0.077343821525574,0.097583532333374,0.116792015731335,-0.147532060742378));
res += mul(Get(s1,0,dy), float4x4(0.001546913408674,0.002078172983602,0.040071167051792,0.094036005437374,-0.068740576505661,-0.048838794231415,-0.081095308065414,-0.017189975827932,-0.102424949407578,-0.016670294106007,0.007678288035095,-0.007555229589343,-0.048857253044844,0.029057228937745,0.081447735428810,0.073804967105389));
res += mul(Get(s1,dx,-dy), float4x4(0.145732104778290,-0.091128513216972,-0.034188564866781,0.030384363606572,-0.053195051848888,0.013247628696263,-0.007295972667634,-0.040578640997410,0.056285478174686,-0.126691028475761,0.025753114372492,-0.103910394012928,-0.015863012522459,-0.125105261802673,0.106959559023380,0.061101119965315));
res += mul(Get(s1,dx,0), float4x4(0.073032461106777,-0.044774960726500,0.033321015536785,0.041112866252661,0.017376186326146,0.120805934071541,-0.013527275994420,0.150759503245354,-0.043124329298735,0.183959290385246,-0.006811214145273,0.110595613718033,0.019811725243926,-0.101534031331539,-0.149348706007004,0.117586582899094));
res += mul(Get(s1,dx,dy), float4x4(0.061605710536242,0.014010461978614,0.093999899923801,0.002884837333113,0.021795051172376,0.029644735157490,-0.079751156270504,-0.066093116998672,-0.070991627871990,0.143225207924843,-0.008210076019168,-0.003997636958957,-0.073691137135029,-0.011828617192805,-0.115227624773979,-0.001427621697076));
res += mul(Get(s2,-dx,-dy), float4x4(0.127505064010620,-0.096142627298832,-0.003767678514123,-0.042282361537218,-0.005282904021442,-0.048810418695211,0.086697176098824,-0.051098626106977,-0.002768704202026,0.114138282835484,0.024001371115446,-0.074513107538223,-0.011525169946253,-0.128306135535240,-0.094143927097321,0.059715501964092));
res += mul(Get(s2,-dx,0), float4x4(0.064720883965492,-0.113754399120808,0.022424576804042,0.074749410152435,-0.114531405270100,0.001745964516886,-0.139307603240013,-0.017328066751361,-0.114792995154858,0.205772534012794,-0.084571756422520,-0.136864647269249,-0.022423097863793,0.006261155474931,0.031393084675074,-0.004371691029519));
res += mul(Get(s2,-dx,dy), float4x4(0.033901382237673,0.025423331186175,0.010954146273434,-0.014976643957198,-0.041790202260017,0.051461242139339,0.035770986229181,-0.006619811989367,-0.044145088642836,0.125008389353752,-0.022211616858840,-0.002099802717566,0.058705907315016,-0.013843547552824,0.052143871784210,0.013831385411322));
res += mul(Get(s2,0,-dy), float4x4(-0.030852381139994,-0.059044085443020,-0.056239653378725,-0.140430241823196,-0.029855452477932,0.084501586854458,0.158099994063377,0.041397910565138,0.020161420106888,0.027174942195415,0.045312412083149,-0.027988329529762,0.107132606208324,-0.085490807890892,0.071847774088383,-0.030216118320823));
res += mul(Get(s2,0,0), float4x4(-0.088529676198959,-0.003651887178421,-0.016179194673896,-0.058635614812374,-0.069107852876186,0.029451088979840,-0.039585296064615,-0.028744628652930,-0.044383481144905,-0.029172094538808,-0.087283447384834,-0.069582693278790,0.001429278287105,0.003060871036723,-0.013385716825724,-0.026252649724483));
res += mul(Get(s2,0,dy), float4x4(0.103838272392750,-0.035093698650599,0.076989881694317,-0.068777613341808,0.071849130094051,0.059034202247858,0.017498210072517,0.058246567845345,0.057012829929590,0.128480091691017,-0.055489815771580,-0.005986869800836,-0.084204562008381,0.143129870295525,-0.017648329958320,-0.052381247282028));
res += mul(Get(s2,dx,-dy), float4x4(0.071407251060009,-0.061022743582726,-0.105191856622696,-0.060441516339779,0.020043104887009,-0.058950770646334,0.041630510240793,0.086871296167374,-0.058238312602043,-0.071996368467808,-0.033406637609005,-0.042784489691257,0.018634989857674,-0.031322676688433,0.038583084940910,-0.181779623031616));
res += mul(Get(s2,dx,0), float4x4(-0.085152529180050,-0.106315679848194,-0.006750111468136,-0.008900781162083,-0.001666019321419,-0.108103141188622,-0.015537387691438,0.070320665836334,0.187132939696312,0.054632201790810,0.025009630247951,0.011394130066037,0.035521082580090,0.097585432231426,0.034184489399195,0.072473280131817));
res += mul(Get(s2,dx,dy), float4x4(0.019804950803518,-0.088367708027363,0.099603898823261,0.007347857579589,0.130690798163414,-0.103312887251377,0.004006213042885,0.011745308525860,0.045317489653826,0.099060952663422,-0.075339429080486,0.017602549865842,-0.132307976484299,0.098140932619572,-0.018343254923820,-0.038305185735226));
res += mul(Get(s3,-dx,-dy), float4x4(-0.049424685537815,0.072994753718376,0.085537001490593,0.021262452006340,-0.001618595328182,-0.009132532402873,-0.078262194991112,-0.053172137588263,0.285941183567047,-0.081228226423264,-0.018501382321119,0.010166828520596,-0.011296992190182,0.066631123423576,0.150084167718887,0.073123760521412));
res += mul(Get(s3,-dx,0), float4x4(-0.074005454778671,0.081111364066601,-0.005844668950886,0.042642559856176,-0.070875950157642,0.013525587506592,-0.030050808563828,-0.015063599683344,0.039518252015114,-0.087703354656696,-0.066651560366154,0.029763765633106,0.084519758820534,0.066664472222328,0.066255390644073,0.033804699778557));
res += mul(Get(s3,-dx,dy), float4x4(-0.048926115036011,-0.047658566385508,-0.127409294247627,-0.054324775934219,-0.015328624285758,-0.032769680023193,-0.081038646399975,-0.009057041257620,0.021347101777792,0.193443357944489,-0.138343617320061,0.054381400346756,0.020200246945024,0.051873102784157,0.170408651232719,-0.052620325237513));
res += mul(Get(s3,0,-dy), float4x4(-0.040181413292885,0.012729384005070,0.004162574652582,0.050165362656116,0.046637024730444,0.095223851501942,0.017436761409044,0.102214671671391,0.035202413797379,-0.058364912867546,-0.065914258360863,-0.028466125950217,-0.039498604834080,-0.007755724247545,0.062041357159615,-0.017865696921945));
res += mul(Get(s3,0,0), float4x4(-0.029402026906610,0.014442541636527,0.029896749183536,0.010502636432648,-0.061751730740070,0.140406370162964,0.056556943804026,0.109137795865536,0.125096425414085,-0.071818500757217,-0.038894046097994,-0.043882489204407,0.002901116386056,-0.030002048239112,-0.008833368308842,-0.028145827353001));
res += mul(Get(s3,0,dy), float4x4(0.033380419015884,0.069883339107037,-0.100241832435131,0.026931101456285,-0.032327577471733,0.045009754598141,0.168397247791290,0.102069705724716,0.049601141363382,-0.009124877862632,-0.081915229558945,-0.012143973261118,0.017495591193438,0.074865840375423,-0.057993214577436,-0.040135148912668));
res += mul(Get(s3,dx,-dy), float4x4(-0.039684239774942,-0.003849003696814,-0.011916708201170,-0.076276823878288,0.087356470525265,0.017666181549430,0.050193306058645,-0.009318042546511,-0.084990948438644,-0.085123084485531,-0.008660171180964,0.000651885638945,-0.087480999529362,0.058761231601238,0.025640577077866,-0.060372553765774));
res += mul(Get(s3,dx,0), float4x4(0.083430312573910,-0.030446209013462,0.013237307779491,0.025137128308415,0.082921274006367,0.080643169581890,0.060425478965044,0.096068814396858,-0.038380805402994,-0.056513246148825,0.000776790780947,-0.022051542997360,-0.008488682098687,0.023699581623077,0.049372561275959,-0.090808480978012));
res += mul(Get(s3,dx,dy), float4x4(0.192809596657753,-0.088553443551064,0.094832539558411,-0.015889734029770,0.086859494447708,0.018299574032426,0.188626274466515,0.106986969709396,0.104540705680847,-0.065690010786057,-0.019801370799541,-0.041178662329912,-0.005735068581998,-0.136431366205215,0.006319554988295,-0.083980903029442));
return max(float4(0,0,0,0), res);
}
