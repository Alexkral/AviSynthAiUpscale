sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.136233523488045,-0.077158488333225,0.034635592252016,-0.012532324530184,0.029865562915802,-0.012338042259216,0.046827316284180,0.019308848306537,-0.107514947652817,-0.010871908627450,0.179624661803246,-0.060129985213280,0.113404683768749,-0.001109517063014,0.110296085476875,0.145758047699928));
res += mul(Get(s0,-dx,0), float4x4(-0.023185424506664,-0.145167902112007,-0.054402220994234,-0.045002508908510,-0.022506240755320,-0.014873488806188,-0.124015055596828,-0.031457636505365,-0.176419124007225,-0.028717769309878,0.077410906553268,0.006200777366757,0.109253779053688,0.056365408003330,0.009746024385095,-0.059198372066021));
res += mul(Get(s0,-dx,dy), float4x4(-0.033354219049215,-0.106971569359303,-0.049774914979935,0.036174047738314,-0.045334927737713,-0.050902370363474,-0.058983072638512,-0.055484909564257,-0.077818781137466,-0.028384262695909,0.179997906088829,-0.049293696880341,-0.009451327845454,0.068773858249187,-0.034399054944515,-0.002369164722040));
res += mul(Get(s0,0,-dy), float4x4(0.093626298010349,0.209864988923073,-0.030415477231145,-0.071452446281910,0.024162665009499,0.044052518904209,0.051137272268534,0.072450064122677,-0.175653710961342,-0.040494959801435,-0.023478869348764,-0.148607566952705,0.057645414024591,-0.097081951797009,0.026220187544823,0.076078541576862));
res += mul(Get(s0,0,0), float4x4(-0.039818055927753,0.088946439325809,-0.041690461337566,-0.069761671125889,-0.050188418477774,0.102496162056923,-0.101500287652016,0.064966544508934,-0.054886411875486,-0.078786358237267,-0.066686034202576,-0.023023596033454,0.046700410544872,-0.031091270968318,0.078637056052685,-0.005157817155123));
res += mul(Get(s0,0,dy), float4x4(-0.041788581758738,0.053680226206779,0.053397908806801,0.013027193956077,-0.071544252336025,0.150689169764519,-0.143138825893402,-0.019022295251489,0.051708143204451,-0.019442686811090,0.046958155930042,0.044842284172773,-0.029232982546091,0.049458548426628,-0.002059839433059,-0.039879720658064));
res += mul(Get(s0,dx,-dy), float4x4(0.016627984121442,-0.117689169943333,-0.049663782119751,-0.030044298619032,-0.014355766586959,-0.023885663598776,0.082076177000999,0.040535792708397,-0.064669229090214,-0.034422609955072,-0.040230244398117,-0.033423747867346,0.021298425272107,0.135710775852203,0.013561770319939,0.007494803518057));
res += mul(Get(s0,dx,0), float4x4(-0.084083452820778,-0.027132421731949,0.043526705354452,-0.066898792982101,-0.057929284870625,0.023819305002689,0.104354016482830,0.066362850368023,0.134553968906403,-0.017824649810791,-0.079210691154003,-0.072995945811272,-0.045745473355055,0.040463004261255,0.007778170052916,0.043320178985596));
res += mul(Get(s0,dx,dy), float4x4(-0.034922998398542,-0.048732351511717,0.010737651027739,-0.001547738094814,0.020676657557487,0.002878589322791,0.019630711525679,-0.077944360673428,0.088420487940311,0.008964575827122,0.016630889847875,-0.045170247554779,-0.038433603942394,0.051701024174690,-0.078524939715862,-0.095855243504047));
res += mul(Get(s1,-dx,-dy), float4x4(-0.072496533393860,-0.034025717526674,-0.021294405683875,0.060815803706646,-0.212398216128349,-0.033296860754490,-0.112504482269287,0.123749434947968,-0.002944543026388,0.000224102841457,-0.053223356604576,0.002427000086755,0.111835211515427,0.130629450082779,0.004967844113708,0.068327225744724));
res += mul(Get(s1,-dx,0), float4x4(-0.019769214093685,0.060112353414297,0.035357348620892,-0.156115189194679,-0.027044381946325,-0.033544391393661,0.009258169680834,0.256744235754013,0.019125645980239,-0.027417384088039,-0.030873063951731,-0.003788125934079,0.011001561768353,0.111909039318562,0.026695240288973,0.089867405593395));
res += mul(Get(s1,-dx,dy), float4x4(0.021528981626034,-0.035270560532808,0.075300835072994,-0.107795447111130,0.023247851058841,0.051628097891808,-0.093276195228100,-0.022576060146093,-0.011208184063435,-0.057420089840889,-0.025716522708535,-0.154825940728188,0.012704715132713,-0.005445213057101,0.126496449112892,-0.009532741270959));
res += mul(Get(s1,0,-dy), float4x4(-0.067859537899494,0.050587147474289,-0.105028346180916,0.087727442383766,-0.021138474345207,-0.097815506160259,-0.057844828814268,0.193459540605545,-0.043043855577707,0.066581308841705,-0.044218059629202,0.099364779889584,0.029540039598942,0.058289594948292,0.049802720546722,-0.030667562037706));
res += mul(Get(s1,0,0), float4x4(0.018847944214940,0.198367238044739,-0.139613434672356,-0.059422310441732,0.005038797855377,-0.047024250030518,-0.054426260292530,-0.051926914602518,0.162858501076698,0.159644857048988,0.015891116112471,0.042279865592718,0.037811227142811,0.071735069155693,-0.086285360157490,0.022815031930804));
res += mul(Get(s1,0,dy), float4x4(0.096271835267544,-0.019818415865302,-0.058389991521835,-0.020938472822309,0.060088995844126,0.074176445603371,0.009887294843793,-0.156706973910332,-0.041969008743763,0.022161057218909,-0.007636494003236,-0.082519829273224,0.073734469711781,-0.059514004737139,0.021161332726479,0.059925105422735));
res += mul(Get(s1,dx,-dy), float4x4(0.027888968586922,-0.159125909209251,0.034775052219629,-0.004705522209406,0.029671248048544,0.081219963729382,0.031630154699087,0.085470840334892,0.092288993299007,0.087311148643494,0.026501879096031,-0.048075847327709,0.000555702601559,-0.084117010235786,0.177330657839775,0.000105849780084));
res += mul(Get(s1,dx,0), float4x4(-0.026384020224214,-0.175049185752869,0.094057656824589,-0.068008974194527,0.232870340347290,-0.082649327814579,-0.029232997447252,-0.065247215330601,0.090214431285858,0.127199769020081,0.078823857009411,0.003009342821315,-0.011208162643015,0.004979063291103,-0.006105712149292,0.016089474782348));
res += mul(Get(s1,dx,dy), float4x4(-0.121429108083248,-0.181634947657585,-0.030878569930792,-0.070180445909500,-0.013761322014034,0.024936322122812,0.017486354336143,-0.064894154667854,-0.104818828403950,-0.001800516387448,-0.010197051800787,-0.087447293102741,-0.023931046947837,-0.125731900334358,0.024389060214162,0.032947130501270));
res += mul(Get(s2,-dx,-dy), float4x4(-0.067537210881710,-0.062113985419273,0.000101005629404,0.064199946820736,-0.048294007778168,0.015880985185504,-0.086283609271049,0.023880308493972,0.103113278746605,-0.073286071419716,-0.008819665759802,-0.038145091384649,0.031861152499914,0.003770671784878,0.079174146056175,0.011315727606416));
res += mul(Get(s2,-dx,0), float4x4(-0.099919900298119,0.051597032696009,0.118768408894539,0.013892391696572,-0.072523005306721,-0.008760892786086,-0.100287601351738,0.023561377078295,0.034010726958513,-0.056411925703287,-0.083580300211906,0.007501341868192,-0.053848594427109,-0.049520362168550,0.067464955151081,-0.012534373439848));
res += mul(Get(s2,-dx,dy), float4x4(-0.011738523840904,0.062702409923077,0.063895396888256,0.072830878198147,-0.011357735842466,-0.023516125977039,-0.147435367107391,-0.013773077167571,0.030428519472480,-0.082524262368679,-0.096517652273178,-0.062064170837402,0.072421729564667,0.069028675556183,0.345746189355850,-0.062246121466160));
res += mul(Get(s2,0,-dy), float4x4(-0.008695295080543,0.044519405812025,0.000825923227239,0.019438084214926,-0.048882711678743,-0.023906677961349,0.013638401404023,-0.066738970577717,-0.012334342114627,0.106911398470402,-0.046607334166765,0.012620323337615,0.081622838973999,-0.028334602713585,-0.005196774378419,0.109527677297592));
res += mul(Get(s2,0,0), float4x4(-0.037989791482687,0.004020822700113,-0.048297464847565,0.009075121022761,-0.064435668289661,0.120178982615471,-0.074951358139515,0.041542105376720,0.034106001257896,0.000561608641874,-0.025248277932405,-0.031134579330683,0.065707944333553,-0.027072116732597,0.007949515245855,-0.028882579877973));
res += mul(Get(s2,0,dy), float4x4(-0.065011978149414,0.127818122506142,-0.147050440311432,-0.055584866553545,0.170098409056664,-0.026183580979705,-0.028455222025514,0.011846726760268,-0.001885579898953,0.024466298520565,0.025112558156252,0.001526984851807,-0.013417853973806,0.045670509338379,-0.014640336856246,-0.054083816707134));
res += mul(Get(s2,dx,-dy), float4x4(-0.023096887394786,-0.125618994235992,0.000779096386395,0.180145606398582,-0.031914673745632,-0.125973656773567,-0.090902589261532,0.145155131816864,0.008234252221882,0.048621706664562,0.037309851497412,0.061152927577496,0.135966330766678,-0.065121352672577,0.105637125670910,-0.018335737287998));
res += mul(Get(s2,dx,0), float4x4(0.103598654270172,-0.030080255120993,-0.111067444086075,0.038168363273144,-0.019874457269907,-0.089142113924026,0.224602982401848,0.013749646022916,0.067196175456047,0.004311969038099,0.165662333369255,0.042781084775925,-0.040413003414869,0.110080562531948,-0.030833510681987,-0.028677033260465));
res += mul(Get(s2,dx,dy), float4x4(0.056268811225891,-0.006155871320516,-0.079546168446541,-0.077173866331577,0.197085961699486,-0.064570814371109,-0.025260973721743,-0.004516227636486,-0.009710961952806,-0.079770296812057,0.030473107472062,0.027247074991465,-0.016669379547238,-0.044853799045086,-0.035464186221361,-0.092944547533989));
res += mul(Get(s3,-dx,-dy), float4x4(-0.126480296254158,0.004514673259109,0.021116763353348,0.008851157501340,-0.009799848310649,-0.089011162519455,-0.010351955890656,0.024256978183985,0.156687900424004,-0.043465409427881,-0.014441677369177,0.105710789561272,0.006225264631212,0.022478207945824,-0.017658906057477,0.141942784190178));
res += mul(Get(s3,-dx,0), float4x4(0.017155332490802,-0.071053624153137,0.015073362737894,-0.042697884142399,-0.018704442307353,-0.148636043071747,-0.011474002152681,-0.080010496079922,0.106537848711014,0.002109291264787,0.094027154147625,0.053172249346972,0.019951408728957,0.048252165317535,-0.145287483930588,0.035383734852076));
res += mul(Get(s3,-dx,dy), float4x4(-0.105893023312092,0.018472032621503,0.144611060619354,0.142630442976952,-0.006083285901695,0.074361316859722,0.032003201544285,0.058591369539499,-0.105330184102058,-0.046145934611559,0.012223939411342,0.000720035634004,-0.155521914362907,-0.066566504538059,-0.046658739447594,0.037584356963634));
res += mul(Get(s3,0,-dy), float4x4(-0.127123057842255,-0.091927550733089,-0.029094524681568,0.059247422963381,-0.123754106462002,-0.089480973780155,-0.071034930646420,0.004136161878705,0.113775849342346,0.084945969283581,0.055628072470427,0.182882025837898,-0.064500503242016,0.126139000058174,0.042835999280214,-0.018292587250471));
res += mul(Get(s3,0,0), float4x4(0.034542091190815,-0.043173231184483,-0.133996710181236,0.008456333540380,-0.099690459668636,-0.017658039927483,-0.058292407542467,0.066761039197445,-0.015127793885767,0.060037430375814,0.038606464862823,-0.039185680449009,0.118967108428478,0.156229570508003,-0.101968713104725,-0.117928571999073));
res += mul(Get(s3,0,dy), float4x4(-0.167762532830238,0.065842740237713,-0.104320622980595,0.030727146193385,-0.017869116738439,0.220270097255707,-0.032952558249235,0.002807421609759,-0.132366582751274,0.049709595739841,-0.072419784963131,-0.134072124958038,0.029880393296480,0.146914482116699,0.036905232816935,-0.044129010289907));
res += mul(Get(s3,dx,-dy), float4x4(0.019395822659135,-0.139773353934288,0.056556146591902,-0.026356549933553,0.087519913911819,-0.184146329760551,-0.000062340972363,0.034951057285070,-0.105008319020271,0.029183160513639,0.074299782514572,0.076083369553089,-0.032706763595343,-0.144486635923386,0.029813433066010,0.062968440353870));
res += mul(Get(s3,dx,0), float4x4(-0.006467836908996,-0.113659337162971,0.020724631845951,0.039435233920813,0.031424380838871,-0.103804901242256,-0.037050161510706,-0.037035990506411,-0.214402735233307,0.152921423316002,0.054693523794413,0.032068125903606,-0.017485594376922,-0.154850274324417,0.019216988235712,0.020684296265244));
res += mul(Get(s3,dx,dy), float4x4(0.017337169498205,0.194170370697975,0.005741577595472,0.047738503664732,0.121250353753567,0.093950405716896,-0.032326240092516,0.008884879760444,-0.149542883038521,0.057921573519707,-0.058932971209288,-0.060209441930056,0.037525482475758,-0.031735118478537,0.079319566488266,-0.055263765156269));
return max(float4(0,0,0,0), res);
}
