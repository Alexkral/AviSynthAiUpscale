sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.003902869531885,0.069030314683914,0.123013183474541,-0.134773507714272,0.106949403882027,0.038285247981548,-0.148094922304153,-0.085070692002773,0.128132671117783,0.027640020474792,-0.132147863507271,-0.239513814449310,0.163040250539780,-0.006890996359289,-0.173919886350632,0.053825624287128));
res += mul(Get(s0,-dx,0), float4x4(-0.138175696134567,-0.013549244031310,0.063128553330898,0.101101793348789,-0.079051166772842,0.038585707545280,-0.022908337414265,0.176055178046227,-0.047082025557756,0.199547976255417,0.186065033078194,0.090646937489510,0.101287797093391,0.229595154523849,-0.024975419044495,-0.111898273229599));
res += mul(Get(s0,-dx,dy), float4x4(-0.098559282720089,-0.077286377549171,-0.047434952110052,-0.221654862165451,0.017520453780890,0.001604193239473,0.059341564774513,0.064257480204105,-0.077301383018494,0.052006002515554,0.184130728244781,0.015261731110513,-0.059116557240486,0.026718495413661,0.033997327089310,-0.126871019601822));
res += mul(Get(s0,0,-dy), float4x4(-0.128567650914192,0.071057841181755,0.019859114661813,0.058414470404387,-0.065070956945419,0.136027008295059,0.028010491281748,-0.046807650476694,-0.185080826282501,0.142369121313095,-0.074183516204357,0.130612447857857,0.082140803337097,-0.073122046887875,-0.204163506627083,-0.142462700605392));
res += mul(Get(s0,0,0), float4x4(0.040934301912785,0.145243495702744,0.048606414347887,-0.082871086895466,0.037354372441769,0.218891397118568,0.093839205801487,0.017043262720108,0.029513755813241,-0.074405536055565,0.064726151525974,0.154331758618355,-0.032792955636978,-0.051984049379826,-0.003182287095115,-0.259091138839722));
res += mul(Get(s0,0,dy), float4x4(-0.080234996974468,-0.114451587200165,0.035216432064772,0.054284624755383,0.048474531620741,0.070839986205101,0.046767149120569,-0.006574561819434,-0.014738968573511,0.139520093798637,0.075472995638847,0.164718136191368,-0.181672438979149,-0.151672899723053,0.082509331405163,-0.077024504542351));
res += mul(Get(s0,dx,-dy), float4x4(-0.075137592852116,-0.024432340636849,-0.109057009220123,-0.028287926688790,-0.090542756021023,-0.171086505055428,0.088309712707996,0.114946052432060,-0.058363851159811,-0.065823778510094,-0.196290910243988,-0.107831850647926,-0.051572158932686,-0.045934770256281,-0.112868994474411,-0.204663828015327));
res += mul(Get(s0,dx,0), float4x4(-0.180146098136902,-0.215202957391739,-0.098135679960251,-0.064906984567642,-0.034699268639088,-0.003261512611061,0.076192088425159,0.093502499163151,0.053635008633137,0.031979762017727,0.077590130269527,-0.148058623075485,-0.141562923789024,0.118302404880524,-0.010997978970408,0.071483276784420));
res += mul(Get(s0,dx,dy), float4x4(0.143614843487740,0.043045461177826,0.027923926711082,-0.182944193482399,-0.012887022458017,-0.034855779260397,0.087562792003155,-0.059041582047939,0.137034520506859,0.020090302452445,-0.153818771243095,-0.005944547243416,0.211703076958656,-0.113090239465237,-0.002222591312602,-0.043191909790039));
res += mul(Get(s1,-dx,-dy), float4x4(0.244810491800308,0.079076200723648,0.035539772361517,-0.088669702410698,-0.070615932345390,-0.127962365746498,-0.056897375732660,-0.047721225768328,-0.222919046878815,0.132606953382492,-0.107583351433277,-0.073341697454453,0.070283561944962,-0.008523192256689,-0.030251201242208,0.145836234092712));
res += mul(Get(s1,-dx,0), float4x4(0.055130522698164,-0.138617277145386,0.208541482686996,-0.171228751540184,-0.022518914192915,0.128638207912445,0.038320932537317,0.011491426266730,-0.021236129105091,-0.028418151661754,-0.123253621160984,0.092678166925907,0.119367428123951,0.108197554945946,0.084435142576694,-0.053235262632370));
res += mul(Get(s1,-dx,dy), float4x4(-0.125069528818130,-0.154858157038689,0.018576145172119,0.076445192098618,0.128798574209213,0.229628935456276,0.125910893082619,-0.139827847480774,-0.047223258763552,-0.186554312705994,-0.027142211794853,0.016661580651999,-0.011052037589252,0.189455389976501,0.093767106533051,0.012064768001437));
res += mul(Get(s1,0,-dy), float4x4(0.045094851404428,-0.048409238457680,0.001690534758382,0.134937986731529,0.173178702592850,-0.047234483063221,0.099648647010326,0.083833657205105,0.144279897212982,-0.090488843619823,-0.112579658627510,-0.126809522509575,-0.019783750176430,-0.119647748768330,-0.239367753267288,-0.098972141742706));
res += mul(Get(s1,0,0), float4x4(-0.069775745272636,0.134141251444817,0.071177363395691,0.116176009178162,-0.108082138001919,0.163490653038025,0.168504238128662,0.128964096307755,-0.034247148782015,-0.003250038716942,-0.074867554008961,-0.122533984482288,0.020638013258576,0.020601833239198,0.138218522071838,0.120618291199207));
res += mul(Get(s1,0,dy), float4x4(0.107199430465698,-0.047247543931007,-0.073821634054184,-0.171501219272614,-0.051779352128506,0.048285163938999,0.167412817478180,0.022696308791637,0.249327287077904,0.153984412550926,-0.052914917469025,0.071505844593048,0.305902004241943,-0.073969759047031,0.194982856512070,0.262749433517456));
res += mul(Get(s1,dx,-dy), float4x4(0.073427245020866,-0.073360756039619,-0.072217337787151,-0.115816228091717,-0.006931982003152,0.086021944880486,-0.086711615324020,-0.016951812431216,0.062179002910852,-0.030432948842645,-0.039768401533365,0.243052214384079,-0.117947936058044,0.153557792305946,0.091436222195625,0.062408551573753));
res += mul(Get(s1,dx,0), float4x4(-0.061633653938770,-0.189389020204544,0.138348713517189,0.014248413033783,-0.008198686875403,0.096062786877155,0.028681794181466,-0.131298780441284,-0.021251963451505,0.143140152096748,-0.042604386806488,0.013336937874556,0.094957128167152,0.004258400294930,0.090429589152336,0.062065079808235));
res += mul(Get(s1,dx,dy), float4x4(-0.049232538789511,0.097387783229351,0.101262472569942,-0.111031696200371,-0.116649933159351,0.082999445497990,-0.062705114483833,-0.041812118142843,0.001799830701202,-0.164882242679596,-0.019600443542004,0.080956734716892,0.086433887481689,0.064014211297035,0.196585088968277,0.044075563549995));
res += mul(Get(s2,-dx,-dy), float4x4(-0.160849407315254,-0.122590065002441,-0.044286943972111,0.110925473272800,0.085139065980911,-0.128250032663345,0.144525870680809,-0.135063782334328,-0.218141973018646,0.077805824577808,-0.025981994345784,-0.046890053898096,-0.035226356238127,0.015347408130765,-0.082433283329010,-0.005070831626654));
res += mul(Get(s2,-dx,0), float4x4(-0.058334108442068,0.001121734268963,0.046937156468630,0.096000604331493,0.041355710476637,-0.052030410617590,-0.146460950374603,0.047426525503397,0.063141502439976,0.054075717926025,0.016280831769109,-0.113825172185898,0.020731013268232,0.039039906114340,-0.086095169186592,0.149096742272377));
res += mul(Get(s2,-dx,dy), float4x4(-0.119590975344181,-0.129803970456123,0.075836963951588,0.004654143936932,0.062727674841881,-0.157927006483078,0.028382724151015,-0.236977666616440,-0.048535179346800,0.028125448152423,-0.175805673003197,-0.127758786082268,0.125783815979958,0.158108085393906,-0.008077451959252,-0.120044641196728));
res += mul(Get(s2,0,-dy), float4x4(-0.015148364938796,0.065208934247494,-0.013309140689671,-0.014838600531220,0.011536086909473,-0.157849073410034,-0.073554918169975,0.004769721068442,-0.018222257494926,0.042195603251457,0.058295864611864,0.185667484998703,0.220143616199493,0.141098484396935,0.312023878097534,0.126132443547249));
res += mul(Get(s2,0,0), float4x4(0.081667527556419,-0.068098708987236,0.001430640346371,-0.031150668859482,0.011116848327219,0.115802519023418,-0.069336645305157,-0.092609494924545,-0.004082704894245,0.178548216819763,-0.039609350264072,-0.142304211854935,0.010925492271781,-0.370847195386887,-0.057712931185961,0.030877295881510));
res += mul(Get(s2,0,dy), float4x4(0.009720205329359,-0.185584321618080,0.026231415569782,0.028438890352845,-0.007109661586583,-0.265108078718185,0.068412937223911,0.007971827872097,0.146238088607788,-0.002445788821205,0.063674978911877,-0.080869860947132,-0.025335703045130,0.044383365660906,0.124307505786419,0.083006478846073));
res += mul(Get(s2,dx,-dy), float4x4(-0.001404543174431,-0.138126075267792,-0.078210778534412,0.033673696219921,0.028505586087704,-0.013384705409408,-0.034215591847897,-0.176914036273956,-0.022628320381045,0.061780273914337,0.154232159256935,-0.011669206432998,0.065686494112015,-0.145891278982162,0.197655379772186,-0.055550493299961));
res += mul(Get(s2,dx,0), float4x4(0.101834744215012,-0.126869350671768,0.096477009356022,0.193825483322144,-0.126422956585884,-0.241300746798515,-0.043942671269178,0.058212969452143,0.028111264109612,0.039379920810461,0.151106849312782,0.089117251336575,-0.148255169391632,-0.092327371239662,-0.210249677300453,-0.260053902864456));
res += mul(Get(s2,dx,dy), float4x4(0.005118241999298,-0.005424695555121,-0.011337658390403,0.020989205688238,0.044954411685467,-0.109155431389809,0.100404977798462,-0.118382222950459,0.057626366615295,0.051835376769304,0.000723494333215,-0.120658777654171,-0.094357222318649,-0.021189896389842,0.041555758565664,-0.056728631258011));
res += mul(Get(s3,-dx,-dy), float4x4(0.056149110198021,0.021697107702494,0.069962352514267,-0.061872236430645,0.009551503695548,0.111311808228493,0.113143257796764,0.078435525298119,0.159127980470657,0.023189816623926,-0.065721087157726,-0.004620387684554,0.023103039711714,-0.071274466812611,0.102872595191002,0.101004838943481));
res += mul(Get(s3,-dx,0), float4x4(-0.004990414716303,0.028289696201682,-0.081503264605999,-0.126960650086403,-0.079532302916050,0.069527089595795,-0.030765656381845,0.117730230093002,-0.174904763698578,-0.031173806637526,-0.169731289148331,-0.110795438289642,0.022029465064406,-0.126374423503876,0.086222648620605,0.034355595707893));
res += mul(Get(s3,-dx,dy), float4x4(0.047635108232498,-0.113562665879726,0.066419988870621,-0.029106410220265,0.154960542917252,0.116036251187325,-0.101183474063873,0.026572121307254,-0.075012959539890,-0.051513370126486,-0.009392672218382,0.000812785001472,-0.077303357422352,0.002136732451618,0.101759374141693,0.040867231786251));
res += mul(Get(s3,0,-dy), float4x4(-0.063373647630215,0.006000353954732,0.098605349659920,0.020093668252230,0.081901423633099,-0.123210251331329,0.143917009234428,-0.025936698541045,0.112433940172195,-0.004907298367471,0.047710217535496,0.140505865216255,-0.164898797869682,-0.015818592160940,-0.131354674696922,0.094880774617195));
res += mul(Get(s3,0,0), float4x4(-0.185024484992027,0.097824297845364,0.056196685880423,-0.142396330833435,0.035393238067627,0.091047860682011,0.158037185668945,0.142539098858833,-0.025690203532577,0.040292527526617,-0.141302943229675,-0.087526537477970,-0.057360306382179,0.155621677637100,0.080039002001286,-0.004214797634631));
res += mul(Get(s3,0,dy), float4x4(0.049585014581680,0.184069752693176,0.019205739721656,0.039562027901411,-0.094898305833340,0.068363308906555,-0.034274682402611,-0.070492200553417,0.138057157397270,-0.071900404989719,-0.004713828209788,-0.153527230024338,0.146061927080154,-0.050072975456715,0.207760721445084,-0.093196779489517));
res += mul(Get(s3,dx,-dy), float4x4(0.014783976599574,-0.063831523060799,-0.071473717689514,-0.077301464974880,0.122363798320293,0.050819210708141,-0.013195820152760,-0.069407217204571,-0.100980751216412,-0.134484708309174,0.148985713720322,-0.049559421837330,0.038327343761921,-0.072197243571281,0.113521218299866,-0.080887719988823));
res += mul(Get(s3,dx,0), float4x4(-0.004376922268420,-0.031219452619553,-0.084825091063976,-0.087501339614391,0.181784391403198,-0.222182705998421,0.088141538202763,0.017624920234084,-0.070390753448009,0.170930191874504,0.054245837032795,0.023317111656070,0.033232513815165,-0.192501574754715,-0.046558067202568,0.007295481394976));
res += mul(Get(s3,dx,dy), float4x4(-0.146379724144936,0.042730528861284,0.126675173640251,0.051302257925272,0.293516457080841,0.094108588993549,0.008895573206246,0.001400804147124,0.006053149700165,-0.032587241381407,0.063299335539341,0.028251092880964,-0.108379326760769,-0.017440879717469,0.086544148623943,0.023693904280663));
return max(float4(0,0,0,0), res);
}
