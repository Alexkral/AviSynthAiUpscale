sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.092227853834629,-0.175602570176125,0.040920879691839,0.074471235275269,0.051910918205976,0.073856003582478,0.157969713211060,0.032219614833593,0.070800438523293,0.009765769354999,-0.087774083018303,0.211587011814117,-0.015641685575247,-0.023362748324871,0.088495172560215,-0.068941652774811));
res += mul(Get(s0,-dx,0), float4x4(0.061278063803911,-0.081079766154289,-0.075340442359447,-0.000091206537036,0.055556699633598,-0.133810713887215,-0.203853175044060,0.057423245161772,-0.009699390269816,-0.023029822856188,0.011948836967349,0.021266177296638,-0.039737567305565,-0.128293454647064,0.088876500725746,0.050326142460108));
res += mul(Get(s0,-dx,dy), float4x4(0.253864794969559,0.000447075261036,0.041881073266268,0.166454732418060,0.171614736318588,-0.044374614953995,0.052348781377077,-0.013339918106794,-0.012329637072980,-0.040921960026026,-0.167550876736641,0.086043879389763,0.041595045477152,-0.121890679001808,0.091269187629223,0.039268709719181));
res += mul(Get(s0,0,-dy), float4x4(0.106522694230080,-0.054027140140533,-0.013378734700382,-0.006915163714439,0.054650440812111,-0.038596507161856,0.106515705585480,0.206846147775650,0.041778188198805,-0.072025991976261,0.074441976845264,-0.133893325924873,0.089214637875557,-0.007649906445295,-0.038633290678263,0.124888502061367));
res += mul(Get(s0,0,0), float4x4(-0.015997808426619,0.146435007452965,-0.075978659093380,-0.008512271568179,0.047146119177341,0.054086066782475,0.098448954522610,-0.070084825158119,0.102070651948452,-0.066435635089874,0.027801755815744,0.068870946764946,0.006689767818898,-0.028615044429898,-0.167855188250542,0.214449062943459));
res += mul(Get(s0,0,dy), float4x4(-0.109678991138935,-0.263119220733643,-0.072873294353485,0.179899230599403,-0.036619227379560,-0.099439524114132,-0.240113824605942,0.094707265496254,0.000963423692156,0.017151655629277,-0.123429901897907,0.002769342390820,-0.023966964334249,-0.037935547530651,0.016285283491015,0.017319047823548));
res += mul(Get(s0,dx,-dy), float4x4(0.093503579497337,0.040440931916237,0.020321007817984,-0.058103665709496,-0.064864590764046,0.177150338888168,0.158204406499863,-0.047236982733011,-0.031051879748702,0.109388120472431,0.197544217109680,-0.021589487791061,0.234820634126663,0.046971358358860,0.093418538570404,0.010839224793017));
res += mul(Get(s0,dx,0), float4x4(0.042226210236549,-0.049794729799032,0.136444732546806,-0.041454970836639,0.226981773972511,0.001522491453215,-0.144414648413658,-0.036078240722418,0.112703546881676,-0.191093340516090,0.181167289614677,0.051710620522499,0.045100387185812,0.028347443789244,-0.113601781427860,0.067934252321720));
res += mul(Get(s0,dx,dy), float4x4(0.008204734884202,0.056473989039660,0.044578928500414,0.095264971256256,0.064575463533401,0.029225744307041,0.049690827727318,-0.055429756641388,-0.018646752461791,-0.012736679054797,0.000379094330128,-0.172330409288406,-0.035157982259989,-0.021459579467773,-0.166440740227699,-0.039274275302887));
res += mul(Get(s1,-dx,-dy), float4x4(0.050001274794340,-0.064253039658070,-0.041968725621700,-0.092101022601128,-0.066308327019215,0.006875538267195,0.069056607782841,-0.134900182485580,-0.025279495865107,0.023705359548330,-0.041648942977190,0.026853842660785,0.166233420372009,0.068466939032078,0.056139737367630,0.106482483446598));
res += mul(Get(s1,-dx,0), float4x4(-0.078633867204189,-0.082963436841965,0.098104558885098,0.080844655632973,0.274821281433105,0.114269271492958,-0.040001921355724,-0.002593133132905,-0.118279241025448,0.080913335084915,-0.153978973627090,-0.077063202857971,-0.042929343879223,-0.090260975062847,-0.201042965054512,0.026654947549105));
res += mul(Get(s1,-dx,dy), float4x4(0.020920056849718,-0.015712698921561,0.011446719989181,-0.075220935046673,0.125592708587646,0.165643587708473,-0.120950035750866,0.036178011447191,-0.013620479032397,0.019819643348455,-0.062431491911411,0.105764947831631,0.081887863576412,-0.120487816631794,0.136716276407242,-0.074107691645622));
res += mul(Get(s1,0,-dy), float4x4(0.251902490854263,-0.038602232933044,-0.068448774516582,-0.030820695683360,-0.024674516171217,0.056725356727839,0.008269210346043,-0.021382927894592,0.139204591512680,0.135241761803627,0.123913154006004,0.100898064672947,-0.145293697714806,-0.058860782533884,0.108295507729053,-0.068256184458733));
res += mul(Get(s1,0,0), float4x4(0.035000409930944,-0.041188769042492,0.200089603662491,0.277306556701660,-0.061895333230495,-0.181797772645950,0.166883289813995,0.004694701172411,-0.109355412423611,-0.103111140429974,0.073968298733234,0.013156070373952,0.036603871732950,-0.065035492181778,0.180990412831306,-0.114156998693943));
res += mul(Get(s1,0,dy), float4x4(-0.014071796089411,-0.028923017904162,0.151178032159805,-0.123282559216022,-0.030134720727801,-0.121652126312256,-0.049590174108744,-0.116053692996502,-0.051443133503199,0.125279083848000,-0.019054789096117,0.001729154959321,-0.012100310996175,-0.037562116980553,0.010121190920472,-0.111367404460907));
res += mul(Get(s1,dx,-dy), float4x4(0.039880573749542,-0.093526154756546,0.091433107852936,-0.048142779618502,0.024127062410116,0.032353598624468,-0.073952697217464,0.039193045347929,-0.052079442888498,-0.033760376274586,0.094293653964996,-0.017804745584726,0.140236303210258,0.071873411536217,0.077497459948063,-0.033076576888561));
res += mul(Get(s1,dx,0), float4x4(0.042977456003428,-0.079595044255257,-0.010337524116039,-0.075520046055317,0.017585562542081,-0.066380396485329,-0.087314933538437,-0.029105193912983,0.049773246049881,0.141769453883171,0.053891364485025,-0.198403567075729,-0.006533110979944,-0.018206838518381,0.228317692875862,0.054699417203665));
res += mul(Get(s1,dx,dy), float4x4(-0.141274586319923,-0.088369898498058,0.078073874115944,-0.043225821107626,-0.048257742077112,0.068705566227436,0.193696260452271,0.135779157280922,-0.009010490030050,-0.128988921642303,-0.101173087954521,-0.018891783431172,0.153785184025764,0.080480061471462,0.180713400244713,0.144521802663803));
res += mul(Get(s2,-dx,-dy), float4x4(-0.061276961117983,0.107469052076340,-0.019476754590869,0.147259861230850,0.132878690958023,-0.002147943945602,-0.067339502274990,0.052733950316906,0.250546067953110,-0.157972723245621,0.005443631205708,0.046794414520264,0.175290003418922,-0.044894061982632,0.135573655366898,0.051867675036192));
res += mul(Get(s2,-dx,0), float4x4(0.135350719094276,-0.053263820707798,-0.123915955424309,0.199441179633141,-0.056691858917475,-0.041486483067274,-0.213806107640266,0.158615261316299,0.061921674758196,0.138673931360245,-0.134260028600693,-0.064305402338505,0.066998496651649,-0.108730085194111,-0.026610361412168,-0.062599584460258));
res += mul(Get(s2,-dx,dy), float4x4(0.028872966766357,0.095959939062595,0.025196706876159,0.113028287887573,-0.086967617273331,0.073202081024647,0.035041943192482,-0.061791438609362,0.061703909188509,0.137654110789299,-0.102884493768215,0.008162355981767,0.073380656540394,0.022955683991313,0.167783915996552,0.000814587925561));
res += mul(Get(s2,0,-dy), float4x4(0.075407534837723,-0.132751002907753,-0.132804721593857,0.083444997668266,-0.172048091888428,-0.059950780123472,0.021434620022774,-0.021459316834807,0.093620426952839,-0.276093602180481,0.001085252268240,0.085724323987961,-0.188362598419189,0.024318739771843,-0.023460030555725,0.150631636381149));
res += mul(Get(s2,0,0), float4x4(-0.151944980025291,-0.120820179581642,-0.231793045997620,0.178200766444206,0.098489530384541,-0.057040907442570,0.100869476795197,-0.137250974774361,0.032022457569838,0.154737457633018,0.218195497989655,0.189405545592308,0.016885777935386,-0.088792905211449,0.097864255309105,0.003168922849000));
res += mul(Get(s2,0,dy), float4x4(-0.040602404624224,-0.252056449651718,0.083249934017658,-0.029708178713918,0.057244714349508,0.168102428317070,0.095236480236053,-0.143965989351273,0.090342894196510,-0.124854840338230,0.073532968759537,0.121130868792534,0.041263218969107,0.017774365842342,-0.051458239555359,-0.006976273842156));
res += mul(Get(s2,dx,-dy), float4x4(0.138909742236137,-0.023998918011785,-0.013357851654291,0.018391579389572,-0.071703076362610,-0.104858130216599,0.214910075068474,-0.210845112800598,-0.007632764056325,-0.077523574233055,-0.176585927605629,-0.101758942008018,-0.031592871993780,0.103494510054588,0.026733832433820,0.081349305808544));
res += mul(Get(s2,dx,0), float4x4(0.051587883383036,0.129900410771370,-0.006014578044415,0.179669320583344,0.105611421167850,0.120025128126144,0.041791573166847,-0.008181451819837,0.063631094992161,-0.080270968377590,0.162214189767838,-0.026177465915680,-0.142456009984016,0.147313266992569,-0.054362900555134,0.133183404803276));
res += mul(Get(s2,dx,dy), float4x4(0.230332776904106,0.066974297165871,0.074691407382488,0.017363699153066,0.044810879975557,-0.057038795202971,-0.197764828801155,-0.177497893571854,0.012197804637253,0.040592357516289,0.001935013337061,-0.095044404268265,-0.037462752312422,-0.109814487397671,-0.039639424532652,-0.039277918636799));
res += mul(Get(s3,-dx,-dy), float4x4(0.060123585164547,0.060139339417219,0.039440184831619,-0.009389153681695,0.098177336156368,-0.041765984147787,0.099081411957741,-0.005700014065951,-0.024912411347032,-0.150687187910080,0.024110412225127,-0.104304231703281,-0.165163055062294,-0.237669467926025,-0.033410929143429,0.150102034211159));
res += mul(Get(s3,-dx,0), float4x4(0.072143748402596,-0.008744698017836,-0.137328237295151,0.161877915263176,-0.053376980125904,0.178877085447311,0.067209199070930,-0.069363743066788,0.041335493326187,0.103408239781857,-0.007484667468816,0.024917595088482,-0.218630462884903,-0.231884837150574,0.066423289477825,0.084480844438076));
res += mul(Get(s3,-dx,dy), float4x4(0.182624608278275,-0.032562848180532,-0.053983934223652,0.046910241246223,-0.014303078874946,-0.014355213381350,-0.142526835203171,-0.045617580413818,-0.071050941944122,0.000461968505988,-0.015617150813341,0.039290308952332,-0.102798752486706,0.062440864741802,0.003803089261055,0.113450214266777));
res += mul(Get(s3,0,-dy), float4x4(-0.033197715878487,0.075638301670551,0.047270830720663,0.003351314691827,0.054409306496382,-0.014653477817774,-0.086320415139198,-0.126417666673660,-0.160015121102333,-0.085917077958584,0.072634443640709,-0.061878502368927,-0.076250568032265,0.072887346148491,-0.012922007590532,0.009895316325128));
res += mul(Get(s3,0,0), float4x4(-0.053448572754860,0.007485944312066,-0.004772924818099,-0.019467495381832,0.004791328217834,0.020674468949437,0.006399662233889,0.064908161759377,0.017963921651244,-0.073877096176147,0.088636979460716,-0.147942855954170,0.043723858892918,0.016974592581391,0.065930545330048,0.128055810928345));
res += mul(Get(s3,0,dy), float4x4(0.031451031565666,-0.072186872363091,0.159505218267441,0.137306079268456,-0.024848815053701,-0.149100244045258,0.048354290425777,-0.043917972594500,-0.167681455612183,0.036362830549479,-0.040717884898186,0.052332594990730,-0.155281186103821,-0.068102434277534,0.064886413514614,-0.108820490539074));
res += mul(Get(s3,dx,-dy), float4x4(-0.162906318902969,-0.089375190436840,-0.018694048747420,-0.018143042922020,0.014975981786847,-0.075732059776783,-0.043324958533049,-0.257861912250519,-0.041706811636686,-0.204233333468437,0.117989435791969,-0.149280697107315,0.074894167482853,-0.113979011774063,-0.034841943532228,-0.106472373008728));
res += mul(Get(s3,dx,0), float4x4(0.030116777867079,-0.113004177808762,-0.045882098376751,-0.244482517242432,-0.130882546305656,-0.035942606627941,0.034500859677792,0.192041978240013,-0.038886785507202,-0.195160821080208,0.096487887203693,-0.010872066020966,-0.077505074441433,-0.161005705595016,-0.113854996860027,0.047813452780247));
res += mul(Get(s3,dx,dy), float4x4(-0.042010940611362,-0.085211604833603,0.153788402676582,0.063668787479401,-0.143690943717957,0.204549774527550,0.022346790879965,-0.038748160004616,0.127809911966324,-0.110681757330894,-0.047913078218699,0.035454761236906,0.041287798434496,-0.063195839524269,0.031874582171440,-0.182375594973564));
return max(float4(0,0,0,0), res);
}
