sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.102367050945759,-0.002273757942021,0.103930927813053,0.072248823940754,0.054941508919001,-0.019941257312894,-0.017456347122788,0.020565427839756,-0.030221926048398,-0.028635896742344,0.043209314346313,0.024143649265170,0.046583130955696,0.004100035876036,-0.021409001201391,0.109503507614136));
res += mul(Get(s0,-dx,0), float4x4(-0.048974461853504,0.014330014586449,0.045122269541025,0.035988364368677,0.139909416437149,-0.081770770251751,-0.019683705642819,0.119511239230633,-0.028945548459888,0.014638051390648,0.060698747634888,0.132052123546600,-0.061046440154314,-0.010500706732273,-0.032264336943626,0.047244276851416));
res += mul(Get(s0,-dx,dy), float4x4(-0.070445254445076,0.053679969161749,0.001609215745702,0.024774176999927,0.085463508963585,-0.095748379826546,-0.003232444636524,0.080862537026405,-0.026858132332563,0.020922521129251,-0.024465752765536,0.171744436025620,-0.105721719563007,-0.019657919183373,0.119061812758446,0.064661100506783));
res += mul(Get(s0,0,-dy), float4x4(0.014673676341772,0.050474956631660,0.024801595136523,0.046154517680407,0.150691524147987,0.000927612767555,-0.000767202989664,0.049959700554609,-0.010323124937713,0.109761252999306,0.081826150417328,-0.015671715140343,0.107438862323761,0.048311363905668,-0.001616634661332,0.193991184234619));
res += mul(Get(s0,0,0), float4x4(-0.040867671370506,-0.050581663846970,0.014895425178111,-0.050291262567043,-0.019579416140914,0.061488829553127,-0.081690885126591,-0.044986769556999,0.128612726926804,0.064311698079109,0.036410104483366,0.084593102335930,0.060328911989927,-0.032942008227110,-0.089944705367088,0.040429186075926));
res += mul(Get(s0,0,dy), float4x4(-0.027100134640932,-0.079216130077839,0.032236095517874,-0.002583047142252,-0.023294970393181,-0.068252116441727,-0.076654545962811,0.031278185546398,0.060687601566315,0.022544622421265,0.012351729907095,0.086276918649673,0.033926066011190,-0.011595855467021,0.029953073710203,0.080639243125916));
res += mul(Get(s0,dx,-dy), float4x4(-0.019933285191655,-0.030561678111553,0.064740926027298,0.020692009478807,0.062145229429007,0.007546143140644,-0.038974869996309,0.063776344060898,-0.020866449922323,0.090234659612179,0.072742059826851,0.008901959285140,0.025993403047323,0.012859088368714,-0.066308908164501,0.148774340748787));
res += mul(Get(s0,dx,0), float4x4(0.040817189961672,-0.038957361131907,0.128817781805992,-0.053053271025419,-0.043210666626692,0.034390911459923,0.061885766685009,-0.065285645425320,0.086688004434109,0.030578337609768,0.057595722377300,0.069815367460251,0.098765239119530,-0.052185323089361,-0.135013774037361,0.042571041733027));
res += mul(Get(s0,dx,dy), float4x4(-0.040020667016506,-0.054438881576061,0.008524438366294,0.016200765967369,-0.067443050444126,0.009259938262403,0.023274229839444,-0.038839206099510,0.050724916160107,0.007707456592470,0.059535264968872,0.008833828382194,0.113810107111931,-0.095156282186508,-0.003904542652890,0.120497703552246));
res += mul(Get(s1,-dx,-dy), float4x4(0.028152294456959,0.054934129118919,-0.093580722808838,-0.042699426412582,0.037562377750874,0.005390855483711,-0.057930625975132,0.042913865298033,0.071875117719173,0.110004320740700,-0.055542435497046,0.111292973160744,-0.072793930768967,-0.116062961518764,0.139140143990517,0.021022472530603));
res += mul(Get(s1,-dx,0), float4x4(-0.011104286648333,-0.053168684244156,-0.021695651113987,-0.075106717646122,0.119477070868015,-0.031013557687402,-0.029705852270126,-0.044634632766247,0.167294397950172,0.051262743771076,-0.128960832953453,0.074796684086323,0.000704001286067,-0.036093004047871,-0.041707262396812,0.029062800109386));
res += mul(Get(s1,-dx,dy), float4x4(0.040264979004860,-0.073372133076191,-0.030255500227213,-0.070641241967678,0.139235049486160,0.023024281486869,-0.080544874072075,-0.112150236964226,-0.017068210989237,-0.015899904072285,-0.032251536846161,0.006257259286940,0.028638564050198,-0.048138648271561,-0.036679130047560,0.112082481384277));
res += mul(Get(s1,0,-dy), float4x4(-0.069208845496178,-0.009495677426457,-0.049792576581240,-0.111038684844971,0.031678881496191,-0.034781157970428,0.023289294913411,0.075818896293640,0.155348718166351,0.043207295238972,0.064225114881992,-0.008173051290214,0.036003567278385,-0.079331055283546,0.003525375155732,-0.038923442363739));
res += mul(Get(s1,0,0), float4x4(0.019426880404353,-0.018326537683606,0.006143451668322,-0.059480849653482,-0.006275686435401,-0.053740791976452,-0.051542468369007,-0.086161978542805,-0.090277448296547,-0.005511025898159,-0.040370512753725,-0.045216433703899,-0.014050884172320,-0.043737128376961,-0.124061994254589,0.083124756813049));
res += mul(Get(s1,0,dy), float4x4(-0.078500017523766,0.034941658377647,0.011241557076573,-0.077552832663059,-0.051489643752575,-0.152613759040833,-0.013510112650692,-0.127505347132683,-0.070312410593033,0.033357299864292,0.059494741261005,-0.010050614364445,-0.044651113450527,-0.038047514855862,0.020735070109367,0.114616498351097));
res += mul(Get(s1,dx,-dy), float4x4(0.002476559020579,-0.069183319807053,-0.092586010694504,-0.039431035518646,-0.025368228554726,-0.044304616749287,0.076158590614796,0.073043681681156,-0.028882145881653,-0.023268554359674,0.051639787852764,0.021695304661989,0.228328585624695,-0.029349882155657,-0.045166015625000,0.071931816637516));
res += mul(Get(s1,dx,0), float4x4(-0.003963383845985,0.014463486149907,-0.046202309429646,-0.055671356618404,0.004240288399160,0.008962738327682,0.061093658208847,-0.015781231224537,-0.107009649276733,0.093691632151604,0.044782444834709,-0.009242537431419,0.146325007081032,-0.068627081811428,-0.062430407851934,0.033771131187677));
res += mul(Get(s1,dx,dy), float4x4(-0.057102076709270,-0.007595263421535,0.093572728335857,-0.080746017396450,0.185981988906860,-0.010796375572681,0.080644674599171,0.106255821883678,0.001454144716263,0.051127187907696,0.174210056662560,0.037634685635567,0.018678968772292,-0.104997307062149,0.026368318125606,0.106283478438854));
res += mul(Get(s2,-dx,-dy), float4x4(0.057730961591005,0.045723874121904,-0.006694153882563,-0.061202213168144,-0.096443362534046,0.046196002513170,0.025768086314201,-0.109877496957779,0.026831468567252,0.098978392779827,-0.043119832873344,0.058281425386667,0.135006651282310,0.080736756324768,-0.007812587544322,0.020587380975485));
res += mul(Get(s2,-dx,0), float4x4(0.155313730239868,0.042393241077662,-0.070069842040539,-0.041061222553253,-0.024644032120705,-0.007523292209953,0.041150957345963,-0.033263210207224,0.088010810315609,0.070005349814892,-0.011962626129389,0.003056212095544,0.034150566905737,-0.095487393438816,-0.048504557460546,-0.022130239754915));
res += mul(Get(s2,-dx,dy), float4x4(0.135061636567116,0.034412991255522,0.017642810940742,0.085863180458546,-0.012949547730386,-0.040727753192186,-0.008345100097358,-0.072195641696453,0.116739884018898,-0.006028560921550,0.136386945843697,0.063534855842590,-0.024951340630651,-0.044729404151440,0.000876796024386,-0.035806331783533));
res += mul(Get(s2,0,-dy), float4x4(0.010626079514623,-0.050193611532450,0.079269595444202,0.019295576959848,-0.071606598794460,-0.107773862779140,0.037515517324209,-0.127729550004005,0.020491575822234,0.061292689293623,0.013053760863841,-0.003266359679401,-0.107546359300613,0.178298294544220,0.057080615311861,0.066106446087360));
res += mul(Get(s2,0,0), float4x4(-0.101188793778419,0.040487695485353,0.121679089963436,0.003215735545382,-0.020384376868606,-0.064849779009819,0.023669892922044,-0.059185665100813,-0.131989106535912,0.150483548641205,-0.041420254856348,-0.065476596355438,0.026067238301039,0.011307301931083,-0.029656725004315,0.077325284481049));
res += mul(Get(s2,0,dy), float4x4(0.135185375809669,0.006999301724136,0.143983140587807,0.091280035674572,-0.071051217615604,-0.022906672209501,-0.045364879071712,-0.118438631296158,0.021138384938240,0.066123023629189,0.068553641438484,-0.012353271245956,0.058252010494471,-0.002883766777813,-0.071471691131592,-0.051745865494013));
res += mul(Get(s2,dx,-dy), float4x4(0.007379976566881,0.033650584518909,-0.016164971515536,-0.013860615901649,-0.059918101876974,-0.031190406531096,-0.069660864770412,-0.136098638176918,-0.080867923796177,-0.018420733511448,0.002104433253407,-0.027455868199468,-0.051796890795231,0.044167499989271,0.086572319269180,0.042128887027502));
res += mul(Get(s2,dx,0), float4x4(0.123821631073952,0.029059670865536,0.026290152221918,0.077961578965187,-0.068212002515793,-0.053555436432362,-0.001656231819652,-0.076471112668514,-0.051492702215910,-0.085332214832306,-0.005673724692315,-0.028564324602485,-0.060462273657322,0.119981467723846,-0.047701343894005,-0.020844053477049));
res += mul(Get(s2,dx,dy), float4x4(0.150594040751457,0.024739328771830,-0.058244187384844,0.086482614278793,-0.060417886823416,0.008119789883494,-0.034913279116154,-0.126921504735947,-0.011726401746273,0.135865285992622,0.024901334196329,-0.093266054987907,0.008915711194277,0.103139363229275,-0.082391411066055,0.018448907881975));
res += mul(Get(s3,-dx,-dy), float4x4(0.059792574495077,0.083589643239975,-0.009748642332852,0.020887525752187,-0.064984776079655,0.006993093062192,-0.016966983675957,-0.009051440283656,-0.030459748581052,-0.015637034550309,-0.028241172432899,-0.054980985820293,-0.086398370563984,-0.110652416944504,0.066329002380371,0.034143995493650));
res += mul(Get(s3,-dx,0), float4x4(0.111314415931702,0.104381524026394,-0.041262630373240,0.052122317254543,-0.010116036981344,0.048588320612907,-0.057357449084520,0.004629211034626,-0.045644599944353,0.059732850641012,-0.012831865809858,0.042221460491419,-0.169037684798241,0.029512714594603,0.046858377754688,0.015145989134908));
res += mul(Get(s3,-dx,dy), float4x4(0.148673549294472,-0.004456119146198,-0.066915370523930,0.074805095791817,-0.107850283384323,0.056616511195898,0.032116446644068,0.135417014360428,-0.110555648803711,-0.031480364501476,0.074453681707382,0.103795029222965,0.037979234009981,0.115608066320419,-0.109481088817120,0.029161984100938));
res += mul(Get(s3,0,-dy), float4x4(0.038128022104502,0.036564957350492,0.161889061331749,0.096378408372402,-0.071332000195980,0.053169529885054,-0.000210220823647,-0.056224647909403,0.039768021553755,-0.064701557159424,-0.064044848084450,0.008778557181358,-0.035104941576719,0.049390383064747,0.130388170480728,0.084424309432507));
res += mul(Get(s3,0,0), float4x4(0.076913461089134,0.128864258527756,0.083147987723351,0.062618494033813,-0.112231090664864,0.134482219815254,-0.056510310620070,-0.006578029133379,-0.103898704051971,0.008410438895226,-0.016322491690516,-0.009512076154351,0.056303594261408,0.014182365499437,0.023616276681423,0.065542533993721));
res += mul(Get(s3,0,dy), float4x4(0.097055852413177,0.035129919648170,0.042483538389206,0.071699447929859,-0.088512249290943,0.075650274753571,0.146898791193962,0.089108720421791,-0.015001611784101,-0.002346716821194,0.066863261163235,-0.062536828219891,0.041064683347940,0.044751066714525,-0.026986364275217,-0.062525562942028));
res += mul(Get(s3,dx,-dy), float4x4(-0.026792921125889,0.048999447375536,0.099239066243172,-0.013751608319581,-0.051729064434767,0.022203488275409,0.138816386461258,-0.068522974848747,0.041888847947121,-0.058866892009974,-0.060272116214037,0.009793150238693,0.061997357755899,0.069514654576778,0.089043438434601,0.053989734500647));
res += mul(Get(s3,dx,0), float4x4(0.065984003245831,0.051979079842567,-0.003181889420375,0.096171073615551,-0.039538405835629,0.052366092801094,0.016092460602522,0.045564010739326,-0.030925009399652,-0.160979360342026,-0.035072714090347,0.082118555903435,0.092156440019608,0.011428091675043,0.032237231731415,-0.001059702131897));
res += mul(Get(s3,dx,dy), float4x4(0.092714875936508,0.033297050744295,0.047190822660923,0.058646854013205,-0.066465079784393,0.058350726962090,0.081379957497120,0.019382441416383,-0.011107126250863,0.018982546404004,0.037386041134596,-0.065701574087143,-0.032625153660774,-0.121946617960930,-0.049442090094090,-0.053366113454103));
return max(float4(0,0,0,0), res);
}
