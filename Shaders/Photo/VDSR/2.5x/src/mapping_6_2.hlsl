sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.011577521450818,-0.024526031687856,0.066101782023907,0.074321441352367,-0.036130189895630,-0.216710135340691,0.057694792747498,-0.075708508491516,-0.114265516400337,-0.131313204765320,-0.027125667780638,0.032775409519672,0.213630959391594,-0.117225229740143,-0.079800657927990,0.020584249868989));
res += mul(Get(s0,-dx,0), float4x4(0.047757294028997,-0.111828781664371,-0.036190543323755,-0.092553086578846,-0.117161720991135,-0.048911705613136,0.015427629463375,-0.016304746270180,-0.071868576109409,0.050080202519894,0.098541527986526,0.068169616162777,0.020511010661721,0.049940761178732,0.146122202277184,0.019410129636526));
res += mul(Get(s0,-dx,dy), float4x4(-0.014104444533587,-0.080068573355675,0.104171179234982,-0.076726838946342,0.012070576660335,-0.024907182902098,-0.049330491572618,-0.169884100556374,-0.047738336026669,-0.119294457137585,0.006611440796405,-0.098854526877403,-0.002373654628173,0.099067993462086,-0.097531959414482,-0.059228818863630));
res += mul(Get(s0,0,-dy), float4x4(-0.006081674713641,0.122251227498055,-0.049403265118599,0.110842913389206,-0.047171276062727,-0.048821918666363,0.004399724304676,0.136614039540291,-0.117921441793442,-0.082742065191269,-0.013737775385380,-0.000881321437191,0.021498987451196,-0.017618261277676,-0.089738361537457,-0.044710554182529));
res += mul(Get(s0,0,0), float4x4(0.075503759086132,0.108523324131966,-0.139472126960754,-0.114295780658722,-0.175792813301086,0.072205156087875,-0.105358421802521,0.026722989976406,-0.071358256042004,0.089834727346897,-0.010374277830124,-0.002832028083503,-0.071836255490780,0.110022366046906,0.049639660865068,0.032907612621784));
res += mul(Get(s0,0,dy), float4x4(-0.070377141237259,0.079265110194683,0.150591820478439,-0.135821104049683,-0.058895412832499,-0.136232778429985,0.184618681669235,-0.139271736145020,-0.110405743122101,-0.042993646115065,0.091478548943996,-0.181270688772202,-0.209520801901817,0.120555326342583,0.055427979677916,-0.019488537684083));
res += mul(Get(s0,dx,-dy), float4x4(-0.021296536549926,0.013641906902194,0.067040421068668,0.174706399440765,-0.018359912559390,-0.072398729622364,-0.013068690896034,0.183163598179817,-0.109217427670956,-0.131621181964874,0.122509099543095,-0.054198380559683,0.165042474865913,-0.051287844777107,-0.100336268544197,-0.045030623674393));
res += mul(Get(s0,dx,0), float4x4(0.058250520378351,-0.178559720516205,-0.071629345417023,0.064353413879871,0.084299966692924,0.080037496984005,0.064503468573093,-0.007982123643160,-0.081857077777386,0.061700638383627,-0.134635582566261,-0.058712087571621,0.155336692929268,-0.010519691742957,0.031159631907940,0.077367492020130));
res += mul(Get(s0,dx,dy), float4x4(-0.063134700059891,-0.018401492387056,0.079028263688087,0.041546024382114,0.159870281815529,0.002722993958741,0.070144586265087,-0.097383916378021,-0.019311612471938,-0.099359057843685,0.179753392934799,-0.168521255254745,0.205082088708878,0.021655349060893,-0.052588909864426,-0.061173666268587));
res += mul(Get(s1,-dx,-dy), float4x4(-0.085407860577106,-0.138326004147530,0.077557563781738,-0.103556692600250,-0.025330863893032,-0.056270241737366,-0.131065264344215,-0.043991673737764,0.104023836553097,-0.059792257845402,-0.036483801901340,0.036667559295893,0.049022343009710,-0.045103833079338,0.103510625660419,0.027641050517559));
res += mul(Get(s1,-dx,0), float4x4(0.172753572463989,0.056179754436016,-0.001331676729023,-0.114946626126766,-0.084046863019466,-0.039319023489952,-0.012328089214861,0.021962394937873,0.099296271800995,0.068164192140102,-0.160050168633461,-0.080776236951351,0.105966478586197,0.075475730001926,-0.083182126283646,-0.008501372300088));
res += mul(Get(s1,-dx,dy), float4x4(0.002299727872014,0.114476166665554,0.027018215507269,-0.007244670297951,-0.092461429536343,-0.051465857774019,-0.047035384923220,-0.128215014934540,0.112502098083496,0.008181040175259,-0.077560983598232,-0.093391619622707,-0.004471603780985,-0.124411880970001,-0.026235993951559,-0.107170552015305));
res += mul(Get(s1,0,-dy), float4x4(0.024141728878021,-0.082208439707756,-0.003490294562653,0.198967397212982,0.146672755479813,0.042753510177135,-0.057132810354233,-0.013708447106183,0.022930027917027,-0.064820803701878,0.004518952220678,-0.004061423707753,0.053093641996384,-0.058841720223427,0.040800880640745,-0.056636974215508));
res += mul(Get(s1,0,0), float4x4(0.129344880580902,0.005739924032241,0.023452233523130,-0.040692303329706,0.038281358778477,0.059170249849558,0.165514022111893,-0.023056283593178,-0.025225853547454,0.149331882596016,-0.117293111979961,0.038040537387133,0.152232646942139,0.026845110580325,-0.023080060258508,-0.029906567186117));
res += mul(Get(s1,0,dy), float4x4(0.049084819853306,-0.007775517646223,-0.014343706890941,0.049882359802723,0.043152086436749,-0.039244655519724,-0.028539095073938,-0.074703663587570,-0.024609057232738,0.087393656373024,-0.072823651134968,0.074652791023254,0.094533599913120,-0.048641387373209,-0.040566012263298,-0.059011761099100));
res += mul(Get(s1,dx,-dy), float4x4(0.020066332072020,0.073017843067646,0.013316002674401,0.118904016911983,-0.043148413300514,-0.003636071691290,-0.002951331436634,0.129822865128517,0.039472874253988,-0.040557105094194,-0.063584499061108,0.091960169374943,-0.009596418589354,-0.174410417675972,-0.066880293190479,-0.122092410922050));
res += mul(Get(s1,dx,0), float4x4(0.022882590070367,0.008667443878949,0.138808950781822,-0.015127280727029,-0.003031996311620,0.058467801660299,0.038784872740507,0.007446046452969,0.009590004570782,0.061165649443865,-0.091810971498489,0.082942366600037,-0.138960272073746,0.108320057392120,-0.008576259948313,0.021027099341154));
res += mul(Get(s1,dx,dy), float4x4(0.048524886369705,-0.026950497180223,0.161432787775993,0.065945141017437,-0.086847513914108,0.111965477466583,-0.066341280937195,-0.059333495795727,-0.017123270779848,-0.075720161199570,0.008053191937506,0.136030137538910,0.084353968501091,0.011320135556161,0.050856735557318,-0.018236206844449));
res += mul(Get(s2,-dx,-dy), float4x4(0.036935217678547,-0.127095982432365,0.006385811138898,-0.151954188942909,0.016744509339333,-0.180781438946724,0.144897341728210,0.043578442186117,-0.000778543355409,-0.247322842478752,-0.030811103060842,-0.057032767683268,-0.064076051115990,-0.112185098230839,-0.131465569138527,0.080610617995262));
res += mul(Get(s2,-dx,0), float4x4(-0.023492271080613,-0.147343754768372,0.059452060610056,-0.202411130070686,0.105152502655983,-0.037020813673735,0.019778316840529,-0.054090321063995,-0.065922372043133,-0.066759474575520,0.020357517525554,0.025775058194995,-0.101495467126369,-0.108466319739819,-0.035248536616564,0.023844396695495));
res += mul(Get(s2,-dx,dy), float4x4(-0.093505993485451,0.007380543276668,-0.081121973693371,-0.135270744562149,0.027101198211312,-0.046860821545124,0.154821783304214,0.125949367880821,0.041972886770964,0.055744014680386,0.039118651300669,0.089693769812584,0.028346192091703,0.017613004893064,-0.191629454493523,-0.045610364526510));
res += mul(Get(s2,0,-dy), float4x4(-0.039554432034492,0.090783692896366,-0.032669901847839,-0.117529049515724,-0.179218545556068,-0.064843766391277,-0.038373753428459,-0.007761696353555,0.037304338067770,0.033500179648399,-0.014648367650807,-0.078904435038567,-0.046529542654753,-0.023354105651379,-0.051777493208647,-0.073287859559059));
res += mul(Get(s2,0,0), float4x4(0.097161360085011,0.194573566317558,-0.069229543209076,-0.001283093588427,0.101585619151592,0.076333209872246,-0.053630091249943,-0.009079176932573,-0.080796271562576,0.140791773796082,-0.024582751095295,-0.052179906517267,-0.048450283706188,-0.005638371687382,0.075033478438854,-0.034167230129242));
res += mul(Get(s2,0,dy), float4x4(0.160993024706841,0.142634764313698,0.007863490842283,-0.064143858850002,0.090813778340816,-0.061996553093195,-0.019909018650651,0.021863134577870,-0.019102994352579,0.180055856704712,-0.052494950592518,0.059868566691875,-0.142484635114670,0.276551246643066,-0.145828172564507,0.081606186926365));
res += mul(Get(s2,dx,-dy), float4x4(-0.010832376778126,0.048831768333912,0.171823099255562,0.053898569196463,0.038066033273935,-0.044760964810848,0.126821815967560,0.093792460858822,-0.024484843015671,-0.090316206216812,-0.034871187061071,0.002704173559323,-0.042256556451321,-0.074411943554878,-0.192412450909615,0.105505488812923));
res += mul(Get(s2,dx,0), float4x4(-0.002162032993510,0.057528443634510,-0.010138522833586,0.128773286938667,0.169906273484230,-0.013755364343524,-0.021498199552298,-0.017904663458467,-0.031247230246663,-0.064088754355907,-0.071860045194626,-0.045382793992758,-0.030652031302452,-0.035716596990824,0.111817710101604,0.023024216294289));
res += mul(Get(s2,dx,dy), float4x4(0.043614011257887,-0.156144008040428,-0.007838482968509,0.126480460166931,0.023768115788698,0.046726364642382,0.052336927503347,0.024773992598057,-0.058349136263132,0.030712930485606,-0.063937447965145,0.090476468205452,-0.092501007020473,0.109081767499447,0.024474389851093,0.154109880328178));
res += mul(Get(s3,-dx,-dy), float4x4(-0.061092071235180,-0.043866429477930,-0.011577758938074,-0.099803939461708,0.018158636987209,-0.086799152195454,-0.007841488346457,0.021550197154284,-0.067117199301720,-0.052217956632376,0.003443035297096,-0.132783144712448,-0.118969902396202,-0.004730083979666,0.053371902555227,-0.024516452103853));
res += mul(Get(s3,-dx,0), float4x4(-0.007433113176376,-0.020676271989942,-0.013130001723766,0.005675855558366,0.022657943889499,0.000824265531264,-0.111735410988331,-0.052277319133282,-0.021694397553802,-0.011787555180490,0.117061100900173,0.014363188296556,-0.014876739121974,0.093478463590145,0.250387936830521,0.008948344737291));
res += mul(Get(s3,-dx,dy), float4x4(0.013747592456639,-0.050624296069145,0.092599496245384,-0.143556848168373,0.022102281451225,0.019164556637406,-0.031492318958044,0.031941544264555,-0.169861853122711,0.005943497177213,-0.032517090439796,-0.140018954873085,-0.043864224106073,0.095744810998440,0.187025889754295,0.064475119113922));
res += mul(Get(s3,0,-dy), float4x4(-0.007993141189218,0.021261835470796,-0.006408946588635,-0.115374885499477,0.065542973577976,-0.001705351169221,-0.029218470677733,0.009262972511351,0.119400426745415,0.003129533026367,-0.019420465454459,-0.063459701836109,0.021632160991430,-0.169241875410080,-0.159923776984215,-0.023804092779756));
res += mul(Get(s3,0,0), float4x4(-0.027660490944982,0.035558331757784,0.056321851909161,0.010187783278525,0.041740167886019,0.013401222415268,-0.068528413772583,0.034413538873196,-0.047208532691002,0.077595159411430,0.095122873783112,0.077139623463154,-0.062755085527897,-0.042727768421173,0.027317356318235,-0.095167025923729));
res += mul(Get(s3,0,dy), float4x4(-0.036453507840633,-0.047374237328768,-0.036947641521692,-0.028302920982242,-0.002876814687625,0.119276255369186,-0.013008014298975,0.068503312766552,-0.070063821971416,0.120422773063183,-0.023057749494910,0.120758824050426,-0.048733491450548,-0.021174091845751,-0.088303141295910,0.110064931213856));
res += mul(Get(s3,dx,-dy), float4x4(0.067345626652241,-0.022959327325225,0.134477585554123,0.091574475169182,-0.042792145162821,-0.012334247119725,0.099288441240788,0.034059237688780,-0.026233142241836,-0.120209947228432,-0.019952971488237,0.009592800401151,0.025710374116898,-0.146648377180099,-0.076980121433735,-0.031526513397694));
res += mul(Get(s3,dx,0), float4x4(-0.010391210205853,0.149668306112289,0.005054500885308,0.172588199377060,-0.030121533200145,0.053066402673721,-0.071075595915318,0.055042147636414,-0.015156790614128,-0.078472457826138,-0.019729338586330,-0.100312970578671,-0.027639467269182,-0.073569566011429,0.057984098792076,-0.016162807121873));
res += mul(Get(s3,dx,dy), float4x4(0.035899035632610,0.070113100111485,-0.107367813587189,-0.047015778720379,-0.004803357180208,0.100546590983868,0.026021404191852,0.066487930715084,-0.055035002529621,-0.055176515132189,0.004256907850504,-0.093571409583092,0.104549467563629,-0.044469326734543,-0.001954808132723,0.014504492282867));
return max(float4(0,0,0,0), res);
}
