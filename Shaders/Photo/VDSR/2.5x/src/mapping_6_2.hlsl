sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.016942027956247,0.150611862540245,0.014993014745414,-0.049581464380026,0.123710580170155,-0.218238249421120,0.129274278879166,0.029277192428708,0.002731899963692,-0.215446233749390,-0.014638849534094,0.048433836549520,-0.119995079934597,-0.113103255629539,0.018623307347298,0.043017748743296));
res += mul(Get(s0,-dx,0), float4x4(-0.109814018011093,-0.074147872626781,0.120522171258926,-0.099079959094524,0.011966510675848,0.006166694220155,0.136638730764389,0.170941859483719,0.105170637369156,-0.107128009200096,0.064111605286598,0.046911586076021,-0.006550302729011,0.011115504428744,-0.044156931340694,-0.016918642446399));
res += mul(Get(s0,-dx,dy), float4x4(-0.032617703080177,0.038467377424240,0.060703054070473,-0.157121926546097,0.172379523515701,0.051911782473326,-0.028535796329379,-0.033967599272728,0.057063110172749,-0.009980559349060,-0.009257770143449,0.061340041458607,-0.132466942071915,-0.266013711690903,0.036491632461548,0.179341211915016));
res += mul(Get(s0,0,-dy), float4x4(0.052979778498411,-0.053660552948713,-0.080160729587078,0.061180666089058,-0.024626195430756,0.043821368366480,-0.143016770482063,-0.014834017492831,-0.134349167346954,0.062631711363792,0.199997663497925,0.052395313978195,0.001162553555332,0.124243818223476,0.108072020113468,0.011453909799457));
res += mul(Get(s0,0,0), float4x4(0.223877415060997,0.023377804085612,-0.024747878313065,0.142685934901237,-0.002851582132280,-0.089422851800919,-0.005584931932390,-0.149158313870430,-0.077240958809853,0.001728192903101,-0.027826458215714,-0.114433802664280,-0.203866928815842,-0.197153493762016,0.161215499043465,0.051775939762592));
res += mul(Get(s0,0,dy), float4x4(0.041184727102518,0.018864456564188,0.032059513032436,0.056726139038801,-0.123193383216858,0.029759390279651,0.058515146374702,-0.115915089845657,-0.044766761362553,-0.005174513440579,0.148274004459381,0.002295113867149,-0.026783490553498,0.067079000174999,-0.002886472735554,0.024740120396018));
res += mul(Get(s0,dx,-dy), float4x4(-0.088068969547749,0.085084818303585,0.010789866559207,-0.078791715204716,-0.115589223802090,-0.086981110274792,-0.011485267430544,0.077713526785374,-0.124720647931099,-0.017079330980778,0.204197168350220,-0.039926704019308,0.041305609047413,-0.138083115220070,-0.129756405949593,-0.036194313317537));
res += mul(Get(s0,dx,0), float4x4(-0.032227169722319,-0.115135610103607,0.159236654639244,0.074226863682270,0.082256950438023,-0.038805019110441,-0.002353956690058,-0.090259067714214,-0.005947030615062,0.182006537914276,-0.047006186097860,0.030492560938001,-0.009334948845208,-0.023514430969954,0.042902324348688,0.131785228848457));
res += mul(Get(s0,dx,dy), float4x4(-0.120092600584030,-0.045800689607859,-0.196338385343552,0.024391962215304,0.039669815450907,0.042578477412462,0.062385492026806,-0.216787084937096,0.026588145643473,0.024525718763471,0.110761158168316,-0.106880471110344,0.099717214703560,-0.166118606925011,-0.025240661576390,0.053077712655067));
res += mul(Get(s1,-dx,-dy), float4x4(-0.018259063363075,0.017677849158645,0.072093911468983,0.095046870410442,-0.040766768157482,0.035025037825108,0.061210148036480,-0.098742268979549,0.078725330531597,-0.123448356986046,0.197250723838806,-0.112045384943485,0.148468554019928,0.081757172942162,0.012218093499541,0.040917027741671));
res += mul(Get(s1,-dx,0), float4x4(-0.021567054092884,-0.077742889523506,0.141085892915726,-0.079730100929737,-0.127065569162369,0.041388228535652,-0.084526076912880,0.008501671254635,0.101585954427719,-0.138744696974754,0.088594421744347,-0.033728159964085,0.140079930424690,-0.171394005417824,-0.130459114909172,-0.074307933449745));
res += mul(Get(s1,-dx,dy), float4x4(-0.104436896741390,-0.062086116522551,-0.226089730858803,-0.086934320628643,-0.025529386475682,0.093577772378922,0.082201041281223,0.062438983470201,-0.032978080213070,-0.148914352059364,-0.069914020597935,-0.051452808082104,0.179766550660133,0.112037047743797,-0.029231181368232,-0.074534282088280));
res += mul(Get(s1,0,-dy), float4x4(-0.010814083740115,0.222195014357567,0.026073152199388,0.044655382633209,0.096828408539295,-0.085126966238022,0.069871276617050,0.137774005532265,-0.226655915379524,0.085011899471283,-0.013704679906368,-0.019344354048371,-0.091409273445606,-0.123875126242638,0.070544093847275,-0.180044695734978));
res += mul(Get(s1,0,0), float4x4(0.065366119146347,-0.075825884938240,0.131591349840164,0.068531587719917,0.082558922469616,-0.013244894333184,0.118104524910450,-0.089785993099213,-0.011540409177542,-0.029861196875572,0.113137215375900,-0.179944992065430,-0.192515075206757,-0.008295662701130,0.102443270385265,0.127862304449081));
res += mul(Get(s1,0,dy), float4x4(-0.000030920371501,0.110223703086376,-0.232684016227722,0.056319333612919,0.214077755808830,0.033104080706835,0.060264430940151,0.047852162271738,-0.165364935994148,-0.103862740099430,0.004402671940625,-0.075128488242626,0.107608854770660,-0.092976644635201,0.109246335923672,-0.213361740112305));
res += mul(Get(s1,dx,-dy), float4x4(-0.139240667223930,-0.028490087017417,-0.034344095736742,0.099695019423962,0.132973089814186,0.006396276410669,0.058922898024321,0.072306156158447,-0.060287799686193,0.010410171002150,-0.193380713462830,-0.079834856092930,0.009709575213492,-0.019249772652984,-0.077551238238811,0.096987858414650));
res += mul(Get(s1,dx,0), float4x4(0.002266941126436,-0.013028344139457,-0.023204369470477,0.035206310451031,0.015052150003612,0.107043668627739,0.231244310736656,0.102434799075127,-0.059100527316332,-0.182396128773689,0.006819019094110,0.083620533347130,0.005956902634352,0.055798742920160,-0.051323022693396,-0.117505379021168));
res += mul(Get(s1,dx,dy), float4x4(0.033842340111732,0.136642530560493,-0.052398614585400,0.009080176241696,0.037580676376820,-0.187920063734055,0.083797268569469,-0.006494216620922,-0.027885463088751,-0.150885641574860,0.036799527704716,0.095985397696495,-0.150774583220482,0.128293722867966,-0.005370864178985,0.004786071833223));
res += mul(Get(s2,-dx,-dy), float4x4(0.040239647030830,0.115799136459827,0.010734564624727,-0.026488764211535,0.072628334164619,-0.098242036998272,0.087334387004375,0.016137013211846,-0.070046059787273,0.080761305987835,0.030644832178950,0.007029984146357,0.086186565458775,-0.134046703577042,-0.023604171350598,-0.050547007471323));
res += mul(Get(s2,-dx,0), float4x4(-0.071302086114883,-0.037071533501148,0.021426757797599,0.073549829423428,0.083362407982349,0.074924185872078,0.186301171779633,-0.171501770615578,-0.056502889841795,-0.081313468515873,0.033367156982422,0.000301660387777,0.079377338290215,-0.124384991824627,0.049469102174044,0.090661428868771));
res += mul(Get(s2,-dx,dy), float4x4(-0.019433783367276,0.003985438030213,-0.065483339130878,0.140976801514626,-0.165257379412651,-0.048335563391447,0.053842227905989,0.080643437802792,0.096628375351429,-0.011898055672646,0.099804461002350,0.054090552031994,0.123762413859367,-0.099940441548824,-0.126651734113693,-0.097314253449440));
res += mul(Get(s2,0,-dy), float4x4(-0.045134741812944,0.047858405858278,0.058118548244238,-0.025929056107998,-0.081858791410923,0.166870102286339,0.035218689590693,0.127678588032722,0.016761468723416,-0.160204291343689,-0.111705392599106,-0.068801075220108,0.031515009701252,-0.021503446623683,-0.004735604859889,-0.011093227192760));
res += mul(Get(s2,0,0), float4x4(-0.040400780737400,0.189335986971855,0.059064731001854,0.135926246643066,-0.119123250246048,0.055054340511560,0.049815114587545,0.016103694215417,0.070070102810860,0.094516612589359,-0.155411347746849,-0.018022416159511,0.064153872430325,-0.148650348186493,0.119203485548496,-0.070516891777515));
res += mul(Get(s2,0,dy), float4x4(0.165822282433510,0.100698947906494,-0.007893846370280,-0.147574841976166,0.048252534121275,0.033494584262371,0.013210240751505,-0.017520872876048,0.114642634987831,0.190274387598038,0.028111334890127,-0.112388081848621,-0.067252650856972,0.310526043176651,-0.021423622965813,0.032919801771641));
res += mul(Get(s2,dx,-dy), float4x4(0.209460482001305,-0.137908220291138,-0.022628428414464,-0.141051709651947,0.133055865764618,0.218431249260902,-0.084239050745964,-0.107927098870277,-0.145551577210426,0.056425858289003,-0.094887822866440,-0.152015537023544,-0.174333691596985,-0.096441663801670,0.028603136539459,0.059005688875914));
res += mul(Get(s2,dx,0), float4x4(-0.052095431834459,-0.074220880866051,-0.175965458154678,0.070596061646938,-0.039739396423101,-0.040393214672804,-0.060024429112673,-0.021854117512703,0.075091063976288,-0.209987565875053,-0.160783380270004,-0.032274406403303,-0.076568931341171,0.081789456307888,0.113152667880058,-0.039264243096113));
res += mul(Get(s2,dx,dy), float4x4(-0.056409694254398,-0.126761168241501,0.001342587755062,0.060450568795204,0.062570534646511,0.038971882313490,-0.114820539951324,0.108503997325897,-0.102719150483608,0.193068131804466,-0.108320318162441,0.063921421766281,0.039421729743481,0.070382542908192,-0.042888872325420,-0.089030548930168));
res += mul(Get(s3,-dx,-dy), float4x4(-0.045484609901905,-0.083573289215565,-0.119950369000435,-0.301946341991425,0.007938489317894,0.117045141756535,0.079180084168911,0.039562847465277,-0.014777355827391,-0.002555649261922,0.041794989258051,-0.219533264636993,0.129631817340851,0.055599350482225,-0.012751863338053,0.031828142702579));
res += mul(Get(s3,-dx,0), float4x4(0.013932190835476,-0.103867381811142,0.038315575569868,-0.154716998338699,-0.056218218058348,0.090960241854191,0.211843162775040,-0.067499265074730,-0.022099655121565,0.067424207925797,0.143568217754364,0.060618788003922,-0.125646173954010,0.022305976599455,-0.102052725851536,-0.125800535082817));
res += mul(Get(s3,-dx,dy), float4x4(0.114052273333073,0.170319765806198,0.064332507550716,0.089290887117386,-0.044335808604956,-0.031212797388434,-0.177042305469513,0.019011270254850,-0.097152769565582,-0.004799824673682,0.078473895788193,-0.170502409338951,-0.100633695721626,0.051682319492102,-0.017361663281918,0.063590735197067));
res += mul(Get(s3,0,-dy), float4x4(0.163282781839371,0.076139576733112,0.019367856904864,0.208149418234825,-0.158665686845779,0.177699863910675,-0.090729571878910,0.017964219674468,0.019953254610300,0.112483218312263,-0.090262539684772,0.031096937134862,-0.018777713179588,-0.152251213788986,-0.032863657921553,0.078209884464741));
res += mul(Get(s3,0,0), float4x4(-0.006211342755705,-0.114615745842457,0.024599993601441,0.039722815155983,-0.134932354092598,-0.121285736560822,0.043129172176123,0.002214697422460,-0.097469761967659,0.000243378875894,0.137067735195160,0.190276280045509,-0.192617654800415,-0.067099191248417,-0.197505429387093,-0.100145436823368));
res += mul(Get(s3,0,dy), float4x4(-0.084276884794235,-0.025522911921144,0.029414726421237,0.000359147641575,0.202402725815773,0.153116896748543,0.008987031877041,0.089035011827946,-0.006444581784308,0.024776764214039,-0.141725704073906,-0.215427204966545,0.063157960772514,0.021028114482760,-0.014988045208156,-0.063487999141216));
res += mul(Get(s3,dx,-dy), float4x4(-0.074304528534412,-0.012247507460415,0.034465819597244,0.057041838765144,-0.168806344270706,0.057376179844141,-0.013152387924492,0.016862735152245,0.049621924757957,0.091702625155449,0.108519382774830,0.025633012875915,-0.063678734004498,0.143624410033226,-0.090583533048630,0.139919012784958));
res += mul(Get(s3,dx,0), float4x4(0.196891844272614,0.068337596952915,-0.046334404498339,-0.171258449554443,0.144764408469200,0.120264679193497,-0.216904774308205,-0.026708113029599,-0.005953787826002,-0.107589066028595,0.049988280981779,-0.063173055648804,-0.038970313966274,-0.119530819356441,0.092141769826412,-0.044247284531593));
res += mul(Get(s3,dx,dy), float4x4(-0.191337704658508,0.102551937103271,0.032153613865376,0.114431194961071,-0.017440002411604,-0.052805781364441,-0.107462801039219,0.106269307434559,-0.033063005656004,-0.144740849733353,0.002237775130197,0.046277839690447,-0.061896957457066,0.020304387435317,0.023051094263792,0.086634278297424));
return max(float4(0,0,0,0), res);
}
