sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.029854169115424,-0.070561237633228,0.021043976768851,0.128544181585312,0.072656884789467,0.074801750481129,0.019315879791975,0.015298310667276,-0.031344119459391,0.065172359347343,-0.060322921723127,-0.018029190599918,-0.056764472275972,0.051657959818840,-0.026962026953697,-0.000921391067095));
res += mul(Get(s0,-dx,0), float4x4(-0.066885843873024,0.140789389610291,0.041042648255825,0.028278799727559,-0.023631177842617,-0.132846593856812,-0.041277334094048,-0.033115729689598,-0.039993945509195,-0.115265041589737,-0.065285220742226,-0.105904482305050,-0.027739740908146,0.064198181033134,0.036698199808598,-0.046158064156771));
res += mul(Get(s0,-dx,dy), float4x4(-0.026698218658566,-0.011526614427567,-0.035426143556833,-0.089691728353500,-0.112770281732082,0.096577078104019,0.040606703609228,0.076211296021938,-0.063382767140865,-0.038773655891418,0.013533740304410,0.027904542163014,0.024155661463737,-0.024953249841928,0.041485335677862,-0.077088423073292));
res += mul(Get(s0,0,-dy), float4x4(0.055547885596752,-0.014434901066124,0.043907858431339,-0.146718308329582,-0.070306375622749,0.099201247096062,-0.095480166375637,-0.033137116581202,0.065655022859573,0.069108277559280,0.061578102409840,0.069282494485378,-0.069867849349976,0.060846216976643,-0.029642896726727,0.195592552423477));
res += mul(Get(s0,0,0), float4x4(-0.035670008510351,0.184813976287842,0.111999660730362,-0.013134989887476,-0.100003592669964,0.047683030366898,-0.044547326862812,0.252673089504242,0.058488491922617,-0.064179085195065,-0.097823634743690,-0.041109375655651,-0.044167432934046,0.019001994282007,-0.068628333508968,0.063603647053242));
res += mul(Get(s0,0,dy), float4x4(-0.024489393457770,0.016870109364390,-0.152866318821907,-0.086288146674633,-0.100890919566154,0.122248396277428,0.142286047339439,-0.012973195873201,-0.038738753646612,0.005982599221170,-0.101002536714077,0.039937626570463,-0.000555282691494,-0.062400043010712,-0.080406941473484,-0.050764217972755));
res += mul(Get(s0,dx,-dy), float4x4(-0.013316111639142,-0.066405124962330,-0.067703530192375,-0.126905024051666,0.104955397546291,-0.037826556712389,-0.041252549737692,-0.068241663277149,0.136458307504654,-0.017499146983027,0.069068603217602,0.028544500470161,-0.007156530860811,0.093359984457493,-0.056987334042788,0.045235011726618));
res += mul(Get(s0,dx,0), float4x4(-0.048375196754932,-0.072311691939831,-0.027350861579180,-0.013940279372036,0.181392446160316,0.013152179308236,-0.055671740323305,-0.012839730829000,0.141784816980362,-0.013889376074076,-0.017860867083073,-0.040899343788624,0.000980777316727,0.045402135699987,-0.096309088170528,-0.017493389546871));
res += mul(Get(s0,dx,dy), float4x4(-0.097932338714600,-0.050833340734243,-0.055244468152523,-0.023042496293783,0.214995622634888,-0.143286287784576,-0.097421310842037,0.083249740302563,0.016865214332938,0.107014663517475,0.074971683323383,-0.047931116074324,-0.001023184158839,0.007209718693048,-0.032309971749783,-0.068513981997967));
res += mul(Get(s1,-dx,-dy), float4x4(-0.198280408978462,0.097593083977699,-0.025389432907104,0.515196859836578,-0.021877052262425,0.007791478186846,0.007270138710737,-0.029449488967657,0.057833325117826,-0.018784720450640,-0.064410299062729,0.020085405558348,0.006689815316349,0.019162036478519,-0.000597288599238,0.085781268775463));
res += mul(Get(s1,-dx,0), float4x4(0.099224798381329,-0.126107111573219,-0.038663856685162,0.416887760162354,-0.017186488956213,0.016514772549272,0.006984959356487,-0.038605023175478,0.070303894579411,0.031738255172968,0.062132034450769,-0.006548675708473,0.061524804681540,0.013369582593441,0.035279393196106,0.031307563185692));
res += mul(Get(s1,-dx,dy), float4x4(0.166239902377129,-0.076684542000294,-0.112975880503654,-0.619769811630249,-0.022084278985858,0.018377102911472,0.010571176186204,-0.021777529269457,-0.070201247930527,-0.046772796660662,-0.023149276152253,-0.011097265407443,0.043970357626677,0.023528106510639,0.043787688016891,0.001100435853004));
res += mul(Get(s1,0,-dy), float4x4(0.101931102573872,0.056354913860559,-0.145422935485840,-0.419224321842194,-0.011002230457962,0.002020780695602,0.011983618140221,0.002280621323735,-0.014688919298351,-0.076186917722225,-0.085342369973660,-0.033904299139977,0.011157576926053,-0.023878481239080,0.032352879643440,-0.099502220749855));
res += mul(Get(s1,0,0), float4x4(0.114823698997498,-0.083069808781147,-0.246415436267853,-0.501862287521362,-0.011316420510411,0.007723635528237,0.016549007967114,-0.014878524467349,0.018553052097559,-0.047978583723307,-0.057495608925819,0.137259259819984,0.025164077058434,-0.019941741600633,0.055523566901684,-0.029042240232229));
res += mul(Get(s1,0,dy), float4x4(-0.059337832033634,-0.010326748713851,-0.035181343555450,0.613308370113373,-0.004283517599106,0.002480990486220,0.006863767281175,-0.005635932087898,0.040974400937557,-0.095117166638374,-0.145935148000717,-0.065621048212051,0.001665111165494,0.018814422190189,0.058627869933844,0.040832154452801));
res += mul(Get(s1,dx,-dy), float4x4(-0.066089607775211,0.086361877620220,0.334728032350540,0.095257431268692,0.002143379766494,-0.012921571731567,0.011764955706894,-0.002405241131783,-0.138500541448593,-0.042945366352797,-0.111900620162487,-0.100878387689590,-0.040119573473930,0.009898723103106,0.001805343432352,-0.084006175398827));
res += mul(Get(s1,dx,0), float4x4(-0.132402777671814,0.082820147275925,0.083315312862396,-0.452622205018997,-0.003041616873816,-0.006215151865035,0.019239110872149,0.006775191053748,-0.071602880954742,0.003680218011141,-0.040303658694029,0.021382931619883,-0.026980003342032,-0.007416277658194,0.026174126192927,0.084927543997765));
res += mul(Get(s1,dx,dy), float4x4(-0.187516912817955,-0.016433028504252,0.140750840306282,0.445147573947906,0.004426824394614,-0.004030905198306,-0.001974202459678,0.014638490043581,-0.004015529528260,-0.036355044692755,-0.103935249149799,-0.066166177392006,-0.017058189958334,0.019256990402937,0.030667431652546,0.185439258813858));
res += mul(Get(s2,-dx,-dy), float4x4(0.041557155549526,0.005015180911869,0.027288751676679,0.009895808063447,-0.010912230238318,0.011305960826576,-0.058696247637272,0.084592491388321,-0.049997262656689,0.056941304355860,-0.003264052094892,-0.047844845801592,0.009088238701224,0.027811734005809,-0.045145042240620,-0.109137326478958));
res += mul(Get(s2,-dx,0), float4x4(0.048066422343254,-0.002525271149352,0.095987930893898,0.070005707442760,0.041047543287277,0.001380653353408,0.045464951545000,0.035195130854845,-0.038663316518068,0.125208288431168,-0.145436540246010,-0.042209550738335,-0.126108467578888,0.015620835125446,-0.085746079683304,0.059877175837755));
res += mul(Get(s2,-dx,dy), float4x4(0.028217399492860,0.015006314031780,0.056089356541634,-0.044881988316774,-0.003504728199914,0.035616315901279,0.095705457031727,0.070349514484406,0.066905982792377,-0.086957834661007,0.115223206579685,0.126776784658432,-0.124768346548080,0.061279844492674,-0.043504849076271,-0.052871346473694));
res += mul(Get(s2,0,-dy), float4x4(-0.026409862563014,-0.001608860562555,-0.013678556308150,-0.038072086870670,-0.045068923383951,0.004005733411759,-0.070360995829105,-0.055091179907322,-0.063031882047653,0.134340673685074,0.226232245564461,0.025759709998965,0.060385860502720,0.025950176641345,0.017629927024245,0.103299312293530));
res += mul(Get(s2,0,0), float4x4(0.042106803506613,-0.016486831009388,0.036676175892353,-0.006986505351961,0.002284558722749,-0.011944910511374,0.014430331066251,-0.021298341453075,-0.086732722818851,0.192239180207253,0.063839741051197,-0.081241138279438,-0.014835118316114,0.132264941930771,0.025570161640644,0.050037875771523));
res += mul(Get(s2,0,dy), float4x4(0.024041909724474,0.003043992444873,0.048956964164972,-0.154286071658134,-0.011394864879549,0.029805803671479,0.049666736274958,-0.008702925406396,-0.010649166069925,-0.075364269316196,-0.067337550222874,-0.015532345511019,-0.005810481961817,0.089946940541267,-0.011487944051623,-0.231938213109970));
res += mul(Get(s2,dx,-dy), float4x4(-0.084951780736446,-0.008765980601311,-0.005865933839232,-0.078142195940018,-0.105758555233479,-0.013348412699997,-0.049137342721224,-0.113690488040447,-0.137572437524796,-0.060914918780327,-0.122363165020943,0.107988074421883,0.046401027590036,-0.031509667634964,0.033415794372559,0.136875763535500));
res += mul(Get(s2,dx,0), float4x4(-0.012142457067966,-0.010916788130999,0.029165321961045,0.029709305614233,-0.048458795994520,-0.027791760861874,-0.013260627165437,0.006327315233648,0.077112227678299,-0.149585917592049,0.095059901475906,-0.144099816679955,0.014357625506818,0.124270625412464,0.105986610054970,0.054206706583500));
res += mul(Get(s2,dx,dy), float4x4(0.001072421553545,0.012728307396173,0.033274624496698,-0.110308051109314,-0.037407990545034,0.030832691118121,0.004632840864360,-0.014265951700509,0.280130028724670,0.010063068941236,0.010705363005400,0.056902430951595,0.030286055058241,0.094371303915977,0.018793245777488,-0.358657300472260));
res += mul(Get(s3,-dx,-dy), float4x4(-0.078490749001503,-0.026101978495717,-0.097523137927055,-0.041766289621592,-0.192002519965172,0.133656650781631,-0.176907658576965,-0.036438971757889,-0.035295486450195,-0.031455919146538,-0.067576907575130,-0.046333819627762,0.051800537854433,-0.043038740754128,0.001962905051187,0.009004241786897));
res += mul(Get(s3,-dx,0), float4x4(-0.001516018761322,0.295119076967239,-0.141714170575142,0.094354026019573,-0.124324947595596,-0.093765832483768,-0.163325682282448,0.130088657140732,0.003069235477597,0.076878234744072,0.055813319981098,0.080395050346851,-0.030354321002960,-0.063405945897102,-0.087373450398445,0.072035476565361));
res += mul(Get(s3,-dx,dy), float4x4(0.041400220245123,0.054937880486250,0.043453820049763,-0.034066744148731,-0.070460103452206,-0.039606556296349,-0.160658076405525,-0.168334499001503,-0.113381087779999,-0.138924479484558,-0.078076168894768,0.157781749963760,0.035767246037722,0.138569504022598,-0.068386934697628,-0.031238649040461));
res += mul(Get(s3,0,-dy), float4x4(-0.033104173839092,0.121494725346565,0.207581087946892,0.062094569206238,-0.038432158529758,0.067073382437229,0.001986536895856,0.170687004923820,0.036319531500340,-0.020667042583227,-0.026344798505306,-0.026925703510642,0.050137579441071,-0.057058431208134,0.289366632699966,-0.089940838515759));
res += mul(Get(s3,0,0), float4x4(-0.013454645872116,0.114987425506115,-0.036225546151400,0.054378971457481,0.091018728911877,-0.059968199580908,-0.049241680651903,-0.217541724443436,-0.071818418800831,0.081123977899551,-0.020393010228872,-0.019155932590365,-0.131109938025475,-0.064827799797058,0.086169309914112,0.082682214677334));
res += mul(Get(s3,0,dy), float4x4(0.044631473720074,-0.243669137358665,-0.087080039083958,-0.047541476786137,-0.001043003168888,-0.034141227602959,0.037266846746206,0.352706700563431,-0.097494594752789,-0.107579238712788,-0.151932954788208,0.007381628733128,-0.253697693347931,0.019478321075439,-0.152540728449821,0.026833074167371));
res += mul(Get(s3,dx,-dy), float4x4(0.112534821033478,-0.031442854553461,0.078130692243576,-0.013289274647832,0.023520061746240,-0.052763804793358,0.279647737741470,0.114701218903065,-0.050483331084251,-0.042587555944920,0.004277877509594,0.078230969607830,-0.069451585412025,-0.156010895967484,0.257387280464172,-0.022949887439609));
res += mul(Get(s3,dx,0), float4x4(0.026679683476686,-0.133240059018135,-0.001705353031866,0.029367236420512,0.119910739362240,-0.012260112911463,0.053419202566147,-0.509829640388489,-0.153403922915459,0.002377657685429,0.020126901566982,-0.041341856122017,0.330414026975632,-0.083764180541039,0.083377547562122,0.019267631694674));
res += mul(Get(s3,dx,dy), float4x4(-0.050160869956017,-0.148315563797951,0.020616056397557,0.069869682192802,-0.032754566520452,-0.081097945570946,0.114952370524406,0.092289350926876,-0.159147620201111,-0.091147437691689,0.003024341771379,0.119376391172409,0.279860854148865,0.118887752294540,-0.103783361613750,0.090460315346718));
return max(float4(0,0,0,0), res);
}
