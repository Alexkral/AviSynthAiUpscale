sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.045502290129662,-0.181884735822678,0.011715453118086,0.093604311347008,0.028169717639685,-0.165628179907799,0.002230515470728,0.032379310578108,0.035796638578176,-0.051900330930948,-0.024674156680703,-0.052888363599777,-0.011716968379915,-0.103429928421974,-0.012792486697435,0.202139452099800));
res += mul(Get(s0,-dx,0), float4x4(0.050674095749855,-0.196284890174866,0.045335434377193,0.069658003747463,-0.117324091494083,-0.170534819364548,0.013460922054946,-0.054102446883917,0.062293555587530,-0.079786829650402,-0.105287045240402,-0.051767338067293,0.121466569602489,-0.020256806164980,0.137335091829300,0.013536664657295));
res += mul(Get(s0,-dx,dy), float4x4(0.001089115161449,-0.063331507146358,-0.075821265578270,-0.051299706101418,-0.100569993257523,-0.135924100875854,0.027571087703109,-0.011432781815529,0.102144032716751,-0.005333983805031,-0.059218455106020,-0.080288901925087,-0.074384875595570,-0.067780941724777,-0.093682959675789,0.019363766536117));
res += mul(Get(s0,0,-dy), float4x4(0.032978914678097,-0.140315681695938,0.021147644147277,0.074934422969818,0.039578720927238,0.007970344275236,-0.003257619217038,0.023644821718335,-0.037574108690023,0.039474423974752,-0.002789733465761,-0.036845419555902,-0.043826628476381,-0.004037790000439,0.095655746757984,0.176272168755531));
res += mul(Get(s0,0,0), float4x4(0.011508254334331,-0.023032180964947,0.106654815375805,-0.043721266090870,-0.047247398644686,-0.106862634420395,0.015124143101275,-0.088488198816776,-0.128741547465324,-0.013051362708211,-0.058661453425884,-0.053851265460253,-0.109911896288395,0.190094739198685,0.144023194909096,-0.005213418044150));
res += mul(Get(s0,0,dy), float4x4(0.080514557659626,0.067248627543449,0.070724070072174,0.061618383973837,-0.033795051276684,-0.067241981625557,0.119420774281025,-0.077533401548862,0.067159563302994,-0.027445761486888,0.103720381855965,-0.028867609798908,-0.038041565567255,-0.040519896894693,-0.093949362635612,0.016708586364985));
res += mul(Get(s0,dx,-dy), float4x4(0.039002779871225,-0.026562975719571,-0.088276498019695,-0.039640020579100,0.013240190222859,0.054691452533007,-0.029911549761891,0.042101923376322,-0.097415514290333,0.060481328517199,-0.066504873335361,-0.016966843977571,-0.027462519705296,0.056520119309425,0.097413606941700,-0.015000152401626));
res += mul(Get(s0,dx,0), float4x4(-0.019777238368988,-0.161347582936287,-0.002453540684655,-0.035517506301403,0.031206425279379,-0.034518290311098,0.039439380168915,-0.049422465264797,0.142763122916222,-0.000796012696810,0.046789158135653,0.081260815262794,0.178025200963020,0.140336200594902,0.130850866436958,-0.132835730910301));
res += mul(Get(s0,dx,dy), float4x4(0.121424265205860,0.027836050838232,0.018802469596267,-0.003008760744706,0.023593192920089,-0.082492962479591,-0.055253554135561,0.022417437285185,-0.119083739817142,-0.034372456371784,0.193250030279160,-0.087997771799564,0.029099728912115,0.119457013905048,-0.222624585032463,0.114085413515568));
res += mul(Get(s1,-dx,-dy), float4x4(-0.095728576183319,-0.137730240821838,0.080725990235806,-0.004595152102411,-0.026990726590157,-0.101798802614212,-0.058541271835566,0.054286640137434,0.035140566527843,-0.060803085565567,0.104400344192982,0.104373358190060,-0.038306489586830,0.095510356128216,-0.079535670578480,-0.093210496008396));
res += mul(Get(s1,-dx,0), float4x4(-0.047112103551626,-0.106449864804745,0.072485841810703,-0.053256016224623,-0.012557474896312,-0.090216808021069,-0.054342154413462,0.163824215531349,0.039828080683947,0.041461277753115,-0.162133604288101,0.074152939021587,-0.021541157737374,0.088191360235214,-0.103916369378567,-0.043163813650608));
res += mul(Get(s1,-dx,dy), float4x4(0.011036911979318,-0.114434629678726,-0.092382699251175,-0.015758512541652,-0.042733609676361,-0.039189454168081,-0.017565710470080,0.010471043176949,-0.054610069841146,0.025579920038581,0.103991888463497,0.064950749278069,-0.057814579457045,0.121143884956837,-0.118339873850346,-0.006020831409842));
res += mul(Get(s1,0,-dy), float4x4(-0.094519905745983,0.008227166719735,0.001583081553690,-0.024444349110126,0.012768971733749,-0.113950282335281,0.034793876111507,-0.017779253423214,0.022341948002577,0.038549654185772,-0.064134843647480,0.029702797532082,0.029366431757808,0.136261314153671,0.072153903543949,-0.007343864534050));
res += mul(Get(s1,0,0), float4x4(0.051053483039141,0.106972388923168,-0.034842509776354,-0.084473446011543,-0.007700637448579,-0.087867796421051,0.047762475907803,-0.025754485279322,-0.044974669814110,0.074662119150162,-0.100668303668499,0.013887977227569,-0.009169817902148,0.144534587860107,0.172815725207329,0.007244303822517));
res += mul(Get(s1,0,dy), float4x4(0.203850492835045,-0.057893242686987,-0.063643537461758,0.047402348369360,-0.082717821002007,-0.009596063755453,0.080215983092785,0.026522604748607,-0.136170506477356,0.043234739452600,0.095743067562580,0.026490589603782,-0.161963522434235,0.123998254537582,-0.029851522296667,0.038989368826151));
res += mul(Get(s1,dx,-dy), float4x4(-0.152701571583748,-0.131723076105118,-0.062611766159534,0.008578691631556,-0.024154677987099,0.079539611935616,-0.086039304733276,-0.040503818541765,0.081613227725029,0.057165935635567,-0.128870025277138,-0.028560889884830,-0.136822596192360,-0.028492201119661,0.064284972846508,-0.059122048318386));
res += mul(Get(s1,dx,0), float4x4(-0.009244235232472,0.117813624441624,0.076792098581791,-0.059136439114809,0.032927200198174,0.101730957627296,0.087372377514839,-0.016048330813646,0.041863121092319,0.114423267543316,-0.065462060272694,-0.034994561225176,-0.006694837938994,0.006922115571797,0.032816894352436,-0.093221947550774));
res += mul(Get(s1,dx,dy), float4x4(0.043241050094366,-0.022306052967906,0.006492822896689,-0.065751574933529,0.065129868686199,0.016248214989901,-0.019271017983556,-0.001819974975660,-0.033179752528667,0.077278353273869,0.127410322427750,-0.019831111654639,-0.114422105252743,0.090128205716610,-0.063224837183952,-0.024598810821772));
res += mul(Get(s2,-dx,-dy), float4x4(0.043603409081697,-0.091030955314636,0.080784365534782,0.004865980241448,-0.068521685898304,0.012539722025394,0.092567853629589,-0.020905438810587,0.017402490600944,0.038867790251970,-0.061195917427540,-0.047987841069698,0.025341477245092,-0.066005371510983,-0.026499023661017,0.065747484564781));
res += mul(Get(s2,-dx,0), float4x4(-0.005187987815589,-0.079464972019196,-0.102999866008759,0.025931959971786,0.082322895526886,-0.112339258193970,-0.012622117996216,0.003227859036997,-0.052224960178137,-0.001884546247311,0.119102768599987,-0.067357562482357,0.032482970505953,-0.148348465561867,0.079637058079243,0.059838902205229));
res += mul(Get(s2,-dx,dy), float4x4(-0.250102609395981,-0.051695320755243,0.125715494155884,-0.042329177260399,-0.079846903681755,0.049224354326725,-0.011510281823575,0.066147610545158,0.175606086850166,0.130579829216003,-0.172669142484665,0.115979276597500,-0.047417674213648,-0.199050828814507,0.103888310492039,0.094568975269794));
res += mul(Get(s2,0,-dy), float4x4(0.211628764867783,0.117144927382469,-0.048315633088350,0.055839084088802,0.051449965685606,-0.066981218755245,-0.021472165361047,0.113069370388985,-0.020763471722603,0.049161203205585,-0.026136320084333,-0.056459188461304,-0.083541899919510,-0.061273790895939,0.005353108979762,-0.060767635703087));
res += mul(Get(s2,0,0), float4x4(-0.070211261510849,-0.116095952689648,-0.045334178954363,0.155448108911514,-0.005669865757227,0.061607845127583,-0.061929579824209,0.066606953740120,0.045949127525091,-0.091161675751209,-0.025112103670835,-0.063151374459267,0.048663426190615,0.012981887906790,0.020584147423506,-0.037490207701921));
res += mul(Get(s2,0,dy), float4x4(-0.152218684554100,-0.040121402591467,0.138593032956123,0.035290233790874,-0.055507156997919,0.088522516191006,0.076145224273205,-0.007111859973520,0.161248460412025,0.058067087084055,-0.093188516795635,0.061786107718945,-0.026162464171648,-0.090035565197468,0.023408863693476,-0.090684309601784));
res += mul(Get(s2,dx,-dy), float4x4(0.066608458757401,0.021185968071222,-0.042946465313435,-0.130194306373596,0.053055934607983,0.014111126773059,0.083775125443935,-0.069566160440445,0.045989509671926,0.005523568484932,0.001331865903921,0.187013953924179,0.093458108603954,0.062564298510551,-0.013843555934727,0.018949285149574));
res += mul(Get(s2,dx,0), float4x4(0.021266043186188,0.046348374336958,-0.156980723142624,-0.010191675275564,-0.011492536403239,-0.016046550124884,-0.104192458093166,-0.080647483468056,0.047465123236179,0.019108504056931,0.030134426429868,0.048531383275986,-0.078909397125244,-0.029630744829774,-0.041908152401447,0.129846051335335));
res += mul(Get(s2,dx,dy), float4x4(-0.141367256641388,-0.004160400945693,-0.044728260487318,-0.104156747460365,0.039690930396318,0.024003513157368,0.003850477281958,0.007983339950442,0.188329339027405,0.026550747454166,-0.097947716712952,0.057996910065413,-0.112437017261982,-0.018850259482861,0.008669183589518,0.038775119930506));
res += mul(Get(s3,-dx,-dy), float4x4(0.017007807269692,0.047215688973665,-0.104888267815113,-0.000214056548430,-0.072114773094654,0.057459782809019,0.024952368810773,-0.000732188462280,0.050497736781836,0.173558071255684,0.028887573629618,-0.080623865127563,-0.096599146723747,0.097090676426888,0.119967684149742,0.038595281541348));
res += mul(Get(s3,-dx,0), float4x4(0.077397942543030,-0.073535248637199,-0.183025613427162,0.148407295346260,0.012736681848764,0.231386259198189,-0.052373893558979,0.006100220605731,0.056929580867290,0.216046497225761,0.008851334452629,-0.111185908317566,0.050291359424591,-0.080760426819324,0.026206331327558,-0.036798939108849));
res += mul(Get(s3,-dx,dy), float4x4(-0.074809633195400,0.081194594502449,-0.031175194308162,0.050166167318821,0.021974354982376,0.030432863160968,-0.132356971502304,0.046506084501743,0.006938388105482,0.119820065796375,-0.060815904289484,0.075251176953316,-0.030965685844421,0.139212757349014,-0.027541870251298,0.015685316175222));
res += mul(Get(s3,0,-dy), float4x4(0.019998272880912,0.215881690382957,0.044378556311131,-0.079369343817234,0.018786346539855,-0.237288907170296,0.080712251365185,-0.076287403702736,0.134716674685478,-0.003218629863113,-0.039940033107996,-0.080680616199970,0.005667319986969,0.045979518443346,0.030860351398587,-0.070882998406887));
res += mul(Get(s3,0,0), float4x4(0.026587052270770,0.078460037708282,-0.049020975828171,-0.070356987416744,-0.012604829855263,-0.024682324379683,-0.026891153305769,-0.118765302002430,-0.049762886017561,0.078412480652332,-0.007287034299225,-0.084410995244980,-0.103957086801529,-0.025125300511718,0.101221479475498,-0.051825180649757));
res += mul(Get(s3,0,dy), float4x4(-0.040902320295572,-0.013925448991358,0.088521145284176,-0.080724053084850,0.025226170197129,-0.083710141479969,-0.105057269334793,-0.014162894338369,0.006027213763446,-0.137037187814713,-0.050766874104738,-0.095522239804268,0.018507324159145,0.143789336085320,0.235991939902306,0.002713585970923));
res += mul(Get(s3,dx,-dy), float4x4(0.055841919034719,-0.073278427124023,0.056197360157967,-0.069837808609009,0.131433546543121,0.025998078286648,0.107147686183453,0.033462461084127,0.080247417092323,-0.056932676583529,-0.127613157033920,0.098686613142490,-0.048173610121012,0.020266685634851,0.074783094227314,0.095901273190975));
res += mul(Get(s3,dx,0), float4x4(0.061729110777378,0.143967539072037,-0.087984345853329,-0.119765020906925,0.002893480006605,-0.012807919643819,-0.042519129812717,0.002793669933453,-0.103720307350159,-0.075985305011272,0.010725868865848,0.244027122855186,-0.116583213210106,-0.023680837824941,0.005077471025288,0.074282981455326));
res += mul(Get(s3,dx,dy), float4x4(-0.068529456853867,0.114370539784431,-0.016828199848533,-0.074438445270061,-0.083403125405312,0.059048052877188,-0.052858933806419,0.127779096364975,-0.007870101369917,0.082853570580482,-0.006337736733258,0.085935719311237,0.047299738973379,-0.088733993470669,0.248763725161552,0.097032353281975));
return max(float4(0,0,0,0), res);
}
