sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.270037144422531,-0.039046451449394,-0.089001290500164,0.012988922186196,0.088948927819729,-0.049375142902136,0.214253842830658,-0.156457021832466,-0.023238308727741,0.022284867241979,-0.197371602058411,-0.069959208369255,-0.076618120074272,0.039840869605541,0.004079332575202,0.041279133409262));
res += mul(Get(s0,-dx,0), float4x4(0.221970677375793,-0.016250943765044,-0.074565723538399,0.052787121385336,-0.091379575431347,0.022086940705776,0.080476708710194,-0.113693907856941,0.031027385964990,0.004327795002609,-0.068712018430233,-0.000261199893430,0.108175270259380,-0.040866162627935,-0.175310567021370,0.057614628225565));
res += mul(Get(s0,-dx,dy), float4x4(0.062432926148176,0.099766381084919,-0.039372280240059,0.061110842972994,-0.049985360354185,-0.081615693867207,-0.040016651153564,-0.191316381096840,0.135786086320877,-0.006203718017787,0.073628865182400,-0.097120173275471,0.061590760946274,0.015168885700405,0.017959145829082,-0.064737722277641));
res += mul(Get(s0,0,-dy), float4x4(-0.203673005104065,-0.138988614082336,-0.081874608993530,-0.068090066313744,0.308193504810333,-0.127129703760147,0.103272072970867,-0.041510634124279,-0.008289821445942,0.028611006215215,-0.081879600882530,0.023509420454502,0.098515145480633,0.070166595280170,-0.112450487911701,0.103511832654476));
res += mul(Get(s0,0,0), float4x4(-0.116624034941196,-0.001613234286197,0.143691748380661,-0.136364266276360,0.043038580566645,-0.019806573167443,-0.097441032528877,-0.138813167810440,0.243535324931145,-0.010065658949316,-0.004026627633721,-0.104736395180225,0.078143492341042,0.144701242446899,0.178112879395485,0.011555931530893));
res += mul(Get(s0,0,dy), float4x4(-0.052438627928495,0.260124891996384,0.028842600062490,0.269992709159851,-0.026036441326141,-0.202971696853638,-0.113487035036087,0.026149436831474,0.159391894936562,0.068299472332001,-0.028979580849409,0.031352948397398,-0.074144013226032,-0.024684784933925,0.008168249391019,0.155092343688011));
res += mul(Get(s0,dx,-dy), float4x4(-0.058984261006117,-0.089155718684196,-0.050067853182554,-0.070388287305832,-0.076286308467388,-0.074165180325508,0.101430535316467,0.020649457350373,-0.045496076345444,-0.001728084869683,-0.032469823956490,-0.029669562354684,0.182442530989647,-0.117407009005547,0.310471475124359,0.003102338872850));
res += mul(Get(s0,dx,0), float4x4(0.085522182285786,-0.015312499366701,-0.062062278389931,-0.095748014748096,0.057922676205635,0.252539992332458,-0.044021077454090,-0.078015841543674,0.218564838171005,0.004223962314427,0.097770981490612,-0.239503622055054,0.128513216972351,-0.111299723386765,-0.055712554603815,0.020337797701359));
res += mul(Get(s0,dx,dy), float4x4(0.155788406729698,-0.001644826959819,-0.199560031294823,0.019271954894066,-0.043514650315046,-0.027064846828580,-0.140613272786140,-0.046030435711145,0.031803134828806,-0.004042728804052,-0.074143156409264,-0.011540003120899,0.198310002684593,0.115854106843472,-0.099435463547707,0.019362544640899));
res += mul(Get(s1,-dx,-dy), float4x4(0.058677460998297,0.100721314549446,0.230684176087379,0.055890966206789,-0.021162277087569,0.024979695677757,0.119248874485493,0.189934998750687,-0.242462843656540,-0.032360665500164,-0.001920846174471,0.102847233414650,-0.097432099282742,-0.080534666776657,0.066225290298462,-0.091335967183113));
res += mul(Get(s1,-dx,0), float4x4(-0.056372880935669,0.089210107922554,-0.003753617638722,0.086774982511997,-0.007871309295297,0.059064343571663,0.028292473405600,-0.125112682580948,-0.102636426687241,-0.258569985628128,-0.058675762265921,0.085894010961056,0.021644702181220,-0.087863333523273,-0.062940686941147,-0.134456098079681));
res += mul(Get(s1,-dx,dy), float4x4(0.092230446636677,0.099137373268604,-0.026747338473797,0.111405648291111,-0.240729853510857,-0.108458817005157,0.083479136228561,0.031035374850035,-0.085617184638977,0.051404904574156,-0.024360755458474,-0.052285287529230,-0.027671065181494,0.166679248213768,0.008954162709415,0.114919789135456));
res += mul(Get(s1,0,-dy), float4x4(-0.095948249101639,-0.002291044918820,0.025931652635336,-0.103334814310074,-0.140786424279213,-0.154649555683136,0.286069571971893,-0.144967094063759,-0.199166119098663,-0.250442087650299,0.250428110361099,0.000177412206540,-0.140547394752502,0.134056299924850,0.205731868743896,0.211255565285683));
res += mul(Get(s1,0,0), float4x4(0.081852585077286,0.029634591192007,-0.096960768103600,-0.135572314262390,0.228015542030334,0.021964447572827,0.061509642750025,0.016793275251985,-0.120892487466335,-0.024581847712398,-0.031725466251373,-0.016693659126759,-0.118835277855396,0.070724837481976,0.038329325616360,0.028678003698587));
res += mul(Get(s1,0,dy), float4x4(-0.053021375089884,0.091012857854366,-0.159670993685722,0.139259904623032,0.060033138841391,-0.069622665643692,0.086967363953590,0.031895402818918,-0.086411826312542,-0.059300523251295,0.029948780313134,0.063387759029865,-0.204065129160881,-0.167151600122452,0.130987107753754,-0.007016708608717));
res += mul(Get(s1,dx,-dy), float4x4(0.003382416442037,0.114977754652500,-0.024449976161122,0.099432609975338,0.042436994612217,-0.002121065976098,-0.005857511889189,-0.018722759559751,-0.057077661156654,0.096121281385422,0.154256552457809,0.092236749827862,0.100830681622028,-0.051399867981672,0.136642143130302,0.099715359508991));
res += mul(Get(s1,dx,0), float4x4(0.045130461454391,0.308536231517792,0.028031291440129,-0.089454784989357,-0.147243261337280,-0.096802368760109,0.127069056034088,0.098610401153564,0.128525182604790,0.206580340862274,-0.014350192621350,0.033294964581728,0.000839755928610,0.055632129311562,0.085104405879974,-0.175090327858925));
res += mul(Get(s1,dx,dy), float4x4(0.079999297857285,-0.077788129448891,0.130672618746758,-0.005677737761289,-0.053937587887049,-0.005265778861940,-0.091250956058502,-0.014293709769845,0.122180595993996,-0.152768790721893,0.166803702712059,-0.040755208581686,0.113364823162556,0.036546569317579,0.036819841712713,-0.026476733386517));
res += mul(Get(s2,-dx,-dy), float4x4(-0.088125936686993,-0.108591593801975,0.112044170498848,-0.211103737354279,-0.046031497418880,-0.101413920521736,-0.005124905146658,0.099520862102509,-0.138435944914818,0.045586839318275,-0.069305844604969,0.007512116804719,0.149446591734886,0.027583479881287,0.122902490198612,-0.042908918112516));
res += mul(Get(s2,-dx,0), float4x4(-0.046789668500423,0.088513351976871,-0.168502599000931,0.033592119812965,-0.054353319108486,0.101735576987267,-0.116023100912571,0.060186777263880,-0.071388036012650,0.086131796240807,0.040864977985620,-0.001738660852425,0.093277342617512,0.103841967880726,-0.118699111044407,-0.121194474399090));
res += mul(Get(s2,-dx,dy), float4x4(0.054288439452648,-0.196323141455650,0.049636669456959,-0.000919830112252,0.176817566156387,0.196445316076279,-0.127278700470924,-0.086293190717697,0.057567864656448,-0.095331706106663,0.116914495825768,0.020891623571515,0.109819538891315,-0.020056320354342,-0.017816623672843,0.090694956481457));
res += mul(Get(s2,0,-dy), float4x4(-0.024129698053002,0.080347485840321,-0.203158348798752,0.033409018069506,-0.081983119249344,0.108663111925125,-0.095607675611973,-0.026989497244358,-0.060295779258013,-0.182027697563171,0.143526613712311,-0.115434274077415,0.067449845373631,-0.184805005788803,0.099345967173576,0.089343458414078));
res += mul(Get(s2,0,0), float4x4(0.079873867332935,0.208529099822044,-0.167317166924477,-0.062847152352333,0.134533584117889,0.132453009486198,-0.083363302052021,-0.022875096648932,0.010294483043253,-0.223155558109283,-0.001217845943756,-0.141084760427475,0.069116294384003,-0.016338797286153,-0.136678233742714,-0.018600555136800));
res += mul(Get(s2,0,dy), float4x4(-0.143599599599838,0.115294568240643,-0.038483865559101,-0.208490073680878,-0.010671992786229,-0.002399591263384,-0.012474573217332,0.103357739746571,0.068730250000954,0.029728734865785,0.000194236679818,-0.010104242712259,-0.076041676104069,-0.079725272953510,-0.157170236110687,0.039343457669020));
res += mul(Get(s2,dx,-dy), float4x4(0.179783537983894,-0.041126009076834,-0.038857717067003,0.108560748398304,-0.002106417901814,-0.133872762322426,-0.004641925916076,0.133813723921776,-0.005529806483537,-0.230826064944267,0.082459658384323,0.128433063626289,0.255235016345978,0.142821803689003,0.096510462462902,0.028073458001018));
res += mul(Get(s2,dx,0), float4x4(-0.024757990613580,0.024306444451213,-0.185890704393387,-0.087317608296871,0.017150593921542,-0.075411230325699,-0.057682204991579,-0.111912943422794,-0.038099311292171,0.147028148174286,0.025197638198733,0.066162236034870,-0.040313366800547,0.052467558532953,-0.012038388289511,0.096694037318230));
res += mul(Get(s2,dx,dy), float4x4(-0.030347978696227,0.104350067675114,0.107399731874466,-0.002905510133132,-0.008329113945365,0.163454234600067,-0.007793573662639,-0.106856912374496,0.046599384397268,0.148215845227242,-0.020266991108656,-0.015465983189642,-0.034748975187540,0.051263540983200,-0.048549737781286,0.172181531786919));
res += mul(Get(s3,-dx,-dy), float4x4(-0.204958587884903,-0.082060031592846,0.041833937168121,-0.228346973657608,-0.021725943312049,-0.056123372167349,0.004419614560902,0.029981328174472,-0.076332852244377,0.301406443119049,-0.013564811088145,-0.023346355184913,0.052043583244085,-0.001427454873919,-0.130427002906799,-0.008810236118734));
res += mul(Get(s3,-dx,0), float4x4(0.084765858948231,-0.134510859847069,0.064001098275185,-0.082323215901852,0.042813099920750,-0.005186305847019,-0.166035369038582,-0.079661414027214,0.173711225390434,0.105957925319672,-0.096035607159138,-0.015752794221044,-0.075553014874458,0.042560350149870,0.065348610281944,0.056282967329025));
res += mul(Get(s3,-dx,dy), float4x4(0.032127887010574,-0.037148125469685,0.006752797868103,-0.056712567806244,-0.026205830276012,-0.152108892798424,-0.036620192229748,0.098451495170593,-0.077863574028015,0.187586218118668,0.067108258605003,-0.146086424589157,-0.214937120676041,0.019081169739366,-0.042503252625465,0.020975993946195));
res += mul(Get(s3,0,-dy), float4x4(-0.030523203313351,-0.047890257090330,0.000899921520613,-0.156865447759628,0.012522954493761,0.013412821106613,0.033917043358088,-0.058738544583321,-0.035701684653759,0.171628460288048,0.013408425264060,0.000758706999477,-0.051741454750299,-0.115723267197609,0.074415564537048,0.042531467974186));
res += mul(Get(s3,0,0), float4x4(0.032653048634529,0.139259845018387,0.007522962987423,-0.053261008113623,0.012310036458075,-0.038396961987019,0.093939617276192,0.023311464115977,-0.153120413422585,-0.033860381692648,0.140035077929497,-0.007791460026056,0.210561752319336,-0.021730022504926,-0.171494543552399,-0.217461898922920));
res += mul(Get(s3,0,dy), float4x4(0.017726143822074,-0.118511833250523,-0.064987942576408,0.067335925996304,-0.018314957618713,-0.047505058348179,0.006641843356192,-0.062497358769178,-0.058328431099653,-0.067343346774578,0.006671003997326,-0.125208392739296,0.026383327320218,0.192941516637802,0.037080954760313,-0.096348024904728));
res += mul(Get(s3,dx,-dy), float4x4(-0.041896510869265,-0.072880946099758,0.330825209617615,-0.093131817877293,0.071388565003872,0.019333451986313,0.053621761500835,0.065337359905243,0.122069895267487,-0.175088569521904,0.033704057335854,0.063487946987152,-0.207536667585373,-0.021966189146042,-0.091624364256859,-0.030109243467450));
res += mul(Get(s3,dx,0), float4x4(-0.320334941148758,-0.037680700421333,-0.286495715379715,-0.235493168234825,0.006239430513233,0.003875688649714,0.178362458944321,-0.171418786048889,0.074119865894318,-0.090500265359879,-0.087022185325623,0.208550602197647,0.070564448833466,-0.088574185967445,-0.163629829883575,0.064012214541435));
res += mul(Get(s3,dx,dy), float4x4(-0.101938016712666,0.020380333065987,0.038739923387766,-0.119101457297802,0.086965657770634,-0.001410469296388,-0.015591775998473,0.170946553349495,-0.060947738587856,-0.052135180681944,-0.063502825796604,0.122671335935593,0.198372662067413,-0.015797857195139,-0.023610318079591,0.034697223454714));
return max(float4(0,0,0,0), res);
}
