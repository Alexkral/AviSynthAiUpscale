sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.069211930036545,-0.173793271183968,-0.000892505981028,0.037878699600697,0.093003660440445,0.076636560261250,-0.007962107658386,0.064348228275776,-0.054579097777605,-0.026585238054395,-0.020223386585712,0.084703840315342,-0.015343593433499,0.032422292977571,-0.007313559763134,0.279757112264633));
res += mul(Get(s0,-dx,0), float4x4(0.163717493414879,-0.102273672819138,0.253812372684479,0.153004199266434,-0.079162292182446,-0.242193698883057,-0.075715981423855,-0.051711522042751,-0.059142988175154,0.116827651858330,-0.064864128828049,0.288349866867065,0.071562781929970,0.083124987781048,0.178595468401909,0.389235466718674));
res += mul(Get(s0,-dx,dy), float4x4(-0.098497644066811,-0.009134518913925,-0.057740259915590,0.072860941290855,0.071318320930004,-0.198999628424644,-0.027512723580003,0.033218506723642,0.088052734732628,-0.169389486312866,-0.069125294685364,-0.154244869947433,0.055985696613789,-0.031069450080395,0.115010857582092,0.092409707605839));
res += mul(Get(s0,0,-dy), float4x4(-0.152156099677086,0.038398258388042,0.081986583769321,-0.069848217070103,0.076227486133575,0.068302422761917,-0.168367907404900,0.063677377998829,0.070069648325443,0.258532673120499,0.087045177817345,-0.000413551810198,0.071097902953625,0.082524798810482,0.099157445132732,-0.052885636687279));
res += mul(Get(s0,0,0), float4x4(-0.020547319203615,0.074279733002186,-0.017433546483517,-0.091677069664001,0.144502639770508,0.140761956572533,0.098091647028923,-0.002200916875154,0.171638146042824,-0.126171946525574,0.103253372013569,0.169460788369179,0.119880199432373,0.111808486282825,0.127908915281296,-0.122947730123997));
res += mul(Get(s0,0,dy), float4x4(-0.115006007254124,-0.034710355103016,-0.026163153350353,-0.250094413757324,0.063223093748093,-0.095695108175278,-0.048266097903252,-0.079743459820747,-0.139803275465965,0.109267264604568,0.021203756332397,-0.184636652469635,-0.016029646620154,-0.028231799602509,-0.007850588299334,-0.214007362723351));
res += mul(Get(s0,dx,-dy), float4x4(-0.139445334672928,-0.013917176984251,0.014076876454055,0.018176170065999,-0.243802174925804,0.011004301719368,-0.093859337270260,0.031093984842300,0.120421491563320,0.163058355450630,-0.051827613264322,-0.217222183942795,-0.129821822047234,0.088517643511295,0.040701415389776,-0.056887079030275));
res += mul(Get(s0,dx,0), float4x4(-0.001719663268887,0.075942352414131,0.124435581266880,0.016808705404401,-0.116600707173347,-0.057458728551865,0.061207398772240,-0.085226163268089,-0.021800294518471,0.023309160023928,-0.095346450805664,-0.125927224755287,-0.015415858477354,0.007037623785436,0.007891683839262,-0.023271895945072));
res += mul(Get(s0,dx,dy), float4x4(0.031504299491644,0.068971626460552,-0.024112133309245,-0.046281587332487,-0.003125216346234,-0.013902719132602,0.005475643556565,-0.137009441852570,0.123019181191921,0.059645794332027,0.292036592960358,0.082569852471352,0.057131025940180,0.043209988623857,0.128535285592079,0.081007309257984));
res += mul(Get(s1,-dx,-dy), float4x4(0.127330020070076,-0.059210911393166,-0.022700054571033,0.093695975840092,0.124458976089954,0.148420393466949,-0.173357903957367,0.040464032441378,-0.139390066266060,-0.048013214021921,0.025242548435926,-0.063015118241310,0.014781378209591,-0.106124334037304,0.015864249318838,0.100735299289227));
res += mul(Get(s1,-dx,0), float4x4(-0.001062880619429,0.002641768893227,-0.104901991784573,-0.006111096125096,-0.005150998942554,0.094460800290108,0.019830591976643,0.048109635710716,-0.117165073752403,-0.062055114656687,-0.080575808882713,0.098562218248844,-0.255387246608734,-0.006535505410284,0.027531586587429,0.090395919978619));
res += mul(Get(s1,-dx,dy), float4x4(-0.146216571331024,0.023421119898558,-0.167328611016273,0.149736151099205,-0.067528218030930,-0.030828187242150,-0.099230363965034,0.058121565729380,-0.064521126449108,-0.078394770622253,0.049782764166594,-0.056388489902020,0.066047891974449,-0.046103395521641,-0.152751341462135,0.034338481724262));
res += mul(Get(s1,0,-dy), float4x4(0.026859512552619,0.040633838623762,-0.077969193458557,0.102240957319736,0.035091735422611,-0.093576982617378,-0.165871232748032,0.080832168459892,0.035443194210529,0.098346754908562,0.009871274232864,0.088209226727486,0.001289807842113,-0.028232015669346,0.035596381872892,0.140431672334671));
res += mul(Get(s1,0,0), float4x4(-0.004908829461783,-0.083940654993057,0.174332335591316,0.094328157603741,0.095171764492989,-0.033142264932394,-0.077535212039948,0.116346009075642,-0.010493705049157,0.042409505695105,-0.180311366915703,0.062145438045263,-0.034185972064734,0.053115501999855,-0.019520146772265,0.044216871261597));
res += mul(Get(s1,0,dy), float4x4(-0.081026650965214,0.092480197548866,0.237424552440643,-0.156232371926308,0.045386120676994,0.048260908573866,0.173018187284470,-0.000478485540953,-0.091773934662342,-0.008182361721992,-0.183273404836655,0.119684532284737,-0.056968327611685,0.188447058200836,0.063605844974518,0.128966271877289));
res += mul(Get(s1,dx,-dy), float4x4(0.125884115695953,-0.017110340297222,-0.045116465538740,0.002630108036101,-0.005941492971033,0.046091344207525,0.018493548035622,0.066121630370617,-0.159066423773766,-0.074797034263611,0.095635898411274,-0.113759845495224,0.055088773369789,-0.086061276495457,0.094166599214077,0.197178959846497));
res += mul(Get(s1,dx,0), float4x4(-0.015656348317862,0.013329798355699,0.079017460346222,0.055377006530762,-0.002700094599277,0.080603852868080,-0.119525820016861,-0.018233709037304,-0.009754825383425,0.018214588984847,-0.020373553037643,0.034435275942087,0.022450201213360,0.198733314871788,-0.135142773389816,-0.107475019991398));
res += mul(Get(s1,dx,dy), float4x4(0.056421715766191,-0.114778548479080,-0.018483329564333,-0.148094356060028,-0.105608627200127,-0.055398255586624,0.070659942924976,0.081178560853004,-0.007344576064497,-0.010628151707351,-0.050438959151506,0.065601862967014,-0.068778097629547,0.002813023282215,0.068573646247387,-0.107614457607269));
res += mul(Get(s2,-dx,-dy), float4x4(-0.075520187616348,-0.064414829015732,-0.052791602909565,0.108595468103886,0.101881608366966,0.088085323572159,-0.045873273164034,0.048953365534544,-0.117706209421158,0.145712405443192,-0.029701786115766,-0.189142704010010,0.054396294057369,0.050466246902943,0.110001146793365,0.095319047570229));
res += mul(Get(s2,-dx,0), float4x4(-0.167876824736595,0.085683755576611,0.155589222908020,-0.026807863265276,-0.235542029142380,0.067930012941360,0.100508913397789,-0.030119452625513,-0.051878277212381,-0.131501063704491,0.067211374640465,0.063162803649902,-0.018716530874372,0.067677937448025,0.090776100754738,0.175891801714897));
res += mul(Get(s2,-dx,dy), float4x4(-0.111030019819736,0.013687646016479,0.037910819053650,0.078849121928215,0.135172575712204,0.085038676857948,0.170386508107185,-0.015119700692594,-0.085887819528580,0.332199364900589,0.132500857114792,0.116725400090218,-0.001987063558772,0.038275074213743,0.043628152459860,-0.134173780679703));
res += mul(Get(s2,0,-dy), float4x4(0.167101994156837,-0.077502414584160,-0.065049298107624,0.189251422882080,0.080067947506905,0.078338295221329,-0.018453091382980,-0.012821450829506,0.041260998696089,-0.116126343607903,-0.261438190937042,0.103688292205334,-0.118046864867210,-0.077327288687229,0.091036245226860,-0.038747094571590));
res += mul(Get(s2,0,0), float4x4(-0.165505126118660,0.042248107492924,-0.186989381909370,-0.004507625475526,-0.139218404889107,0.129105970263481,-0.107488811016083,-0.168596908450127,0.017071999609470,0.155511692166328,-0.054176937788725,-0.008990149945021,0.154426813125610,-0.014126562513411,-0.100195065140724,0.012545348145068));
res += mul(Get(s2,0,dy), float4x4(-0.132287204265594,-0.184918925166130,-0.031258236616850,-0.045437198132277,-0.064902953803539,-0.011500055901706,-0.283927828073502,-0.083706282079220,0.172562167048454,0.176344260573387,-0.092013724148273,-0.061148136854172,0.003753441385925,0.185557082295418,0.009875401854515,0.049270320683718));
res += mul(Get(s2,dx,-dy), float4x4(0.296264380216599,-0.246054455637932,-0.079793788492680,0.087220609188080,0.009500528685749,0.163628205657005,-0.063877813518047,0.167265310883522,-0.085001304745674,-0.057838205248117,-0.100323572754860,0.079722352325916,0.027363158762455,0.030800666660070,-0.013143212534487,0.147241532802582));
res += mul(Get(s2,dx,0), float4x4(0.040629196912050,0.107165396213531,0.027445981279016,0.028603911399841,-0.043756488710642,0.051844753324986,0.045265004038811,-0.088330104947090,0.089036487042904,-0.225407719612122,-0.265817344188690,0.069042034447193,0.075499132275581,-0.030723199248314,0.133790761232376,0.046495970338583));
res += mul(Get(s2,dx,dy), float4x4(0.060187175869942,-0.085274130105972,-0.050004769116640,0.107737086713314,-0.004468278959394,0.089086949825287,-0.032348617911339,0.053861513733864,0.078581422567368,-0.074572317302227,-0.131667241454124,0.071356147527695,-0.018463836982846,-0.011188530363142,0.194024071097374,-0.062177781015635));
res += mul(Get(s3,-dx,-dy), float4x4(0.010167974047363,0.115869976580143,-0.162537157535553,0.048894688487053,-0.012330314144492,-0.071978799998760,0.170434981584549,-0.061074927449226,-0.071800500154495,0.171771079301834,0.113163813948631,-0.244560062885284,0.068843282759190,0.049388129264116,-0.138634264469147,0.110623404383659));
res += mul(Get(s3,-dx,0), float4x4(-0.088276393711567,-0.079640708863735,0.057456020265818,0.010597124695778,-0.019491387531161,0.055798597633839,-0.152232334017754,0.073050290346146,-0.289761662483215,-0.102812677621841,0.138305976986885,-0.010928244329989,0.019465720281005,0.026384497061372,-0.133520334959030,0.167613476514816));
res += mul(Get(s3,-dx,dy), float4x4(0.081394188106060,0.091754615306854,-0.033669777214527,-0.096065267920494,-0.046494770795107,0.145031780004501,-0.028043046593666,0.100418791174889,0.045155853033066,-0.086508512496948,-0.019332785159349,-0.118108741939068,0.100507855415344,0.056272421032190,-0.063888512551785,0.115870095789433));
res += mul(Get(s3,0,-dy), float4x4(-0.100335828959942,-0.038362231105566,0.092624217271805,0.058126244693995,0.043411340564489,-0.088276043534279,-0.040374886244535,0.171773910522461,0.019903643056750,-0.014964117668569,-0.082836255431175,0.230643555521965,0.050605334341526,-0.041009634733200,0.059541713446379,0.084288604557514));
res += mul(Get(s3,0,0), float4x4(0.172237724065781,-0.091539785265923,0.145382985472679,0.010340465232730,-0.048246994614601,-0.106555134057999,0.023718239739537,-0.135418996214867,-0.143912389874458,0.046947129070759,0.039637193083763,0.016179807484150,0.171408727765083,0.065925166010857,0.177730783820152,0.000635434116703));
res += mul(Get(s3,0,dy), float4x4(0.117877930402756,-0.101795226335526,-0.067488752305508,0.077091805636883,-0.002809747122228,-0.045627932995558,0.064300037920475,-0.087242223322392,0.053382452577353,-0.020131288096309,0.026956772431731,0.107933141291142,-0.145615741610527,0.120905704796314,-0.000805986346677,-0.016512436792254));
res += mul(Get(s3,dx,-dy), float4x4(0.136492177844048,-0.117164514958858,0.207175791263580,-0.106532357633114,-0.028906999155879,0.105084009468555,-0.023316213861108,0.024300539866090,0.028711516410112,-0.112284228205681,0.104724749922752,0.002141309902072,0.065071694552898,0.006414731498808,0.105614729225636,-0.122268341481686));
res += mul(Get(s3,dx,0), float4x4(0.048665411770344,0.127549812197685,-0.116582356393337,0.079733699560165,-0.021827660501003,0.025544872507453,0.051490727812052,-0.236846610903740,-0.016017695888877,-0.004583409056067,0.018602469936013,0.005894480273128,0.029798083007336,-0.028452454134822,-0.111624956130981,-0.017828993499279));
res += mul(Get(s3,dx,dy), float4x4(0.168389961123466,0.095899045467377,-0.003520953003317,-0.012045740149915,-0.220573693513870,-0.020269395783544,0.229150339961052,-0.161076277494431,0.122911371290684,-0.005719741806388,-0.073977172374725,0.132218286395073,-0.102245919406414,0.050000861287117,0.153870701789856,0.040465183556080));
return max(float4(0,0,0,0), res);
}
