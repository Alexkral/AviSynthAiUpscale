sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.082049474120140,0.116822935640812,0.173547849059105,-0.016234127804637,0.119089417159557,-0.077494062483311,0.070204749703407,0.117733210325241,0.014218157157302,0.037268158048391,0.184876218438148,-0.004115901421756,-0.140629351139069,-0.089587770402431,-0.180150628089905,0.231676459312439));
res += mul(Get(s0,-dx,0), float4x4(-0.253243625164032,-0.042376257479191,0.099622599780560,0.028235223144293,0.233495876193047,0.024608427658677,0.156642511487007,-0.049369029700756,-0.008671013638377,-0.001438939711079,0.149556428194046,0.106104232370853,-0.150972813367844,0.090967901051044,-0.202587679028511,0.031020384281874));
res += mul(Get(s0,-dx,dy), float4x4(-0.219305232167244,-0.035176478326321,-0.041555494070053,-0.075007356703281,0.009773809462786,-0.049633037298918,0.083931021392345,-0.007142294663936,-0.041106130927801,-0.122042790055275,-0.133035674691200,0.014115956611931,-0.072936609387398,0.178423166275024,-0.082831084728241,-0.020077699795365));
res += mul(Get(s0,0,-dy), float4x4(-0.028320621699095,0.138394847512245,0.005404541268945,-0.124881200492382,0.104120440781116,0.068927042186260,-0.067776635289192,0.050431396812201,0.003187223803252,-0.023357892408967,0.031982563436031,0.190453276038170,-0.031122783198953,-0.013620655983686,-0.105811707675457,-0.036570597440004));
res += mul(Get(s0,0,0), float4x4(-0.245231583714485,0.026665784418583,0.011720811016858,-0.118956297636032,0.048092417418957,0.015413249842823,-0.094463966786861,-0.054190266877413,0.232687294483185,0.200543120503426,0.251087039709091,0.036040686070919,0.064117535948753,0.196688875555992,-0.204356178641319,-0.085153751075268));
res += mul(Get(s0,0,dy), float4x4(-0.082188978791237,0.004297758452594,0.151599720120430,-0.115161970257759,0.005833400413394,-0.074732393026352,-0.072975888848305,0.118569210171700,-0.106866218149662,-0.017151854932308,-0.007594161666930,-0.204962164163589,0.052845597267151,-0.002839662600309,-0.116584435105324,-0.183685421943665));
res += mul(Get(s0,dx,-dy), float4x4(0.094912983477116,-0.018031034618616,-0.178179681301117,0.048249665647745,-0.221725597977638,0.008141689002514,-0.044827900826931,0.221756696701050,-0.143860056996346,0.165552124381065,-0.022040609270334,0.047102395445108,0.048121768981218,-0.065210200846195,-0.067874856293201,-0.081568121910095));
res += mul(Get(s0,dx,0), float4x4(0.114776134490967,-0.002561711007729,0.010364567860961,-0.036507345736027,0.037371873855591,0.153380841016769,-0.132717713713646,0.086531870067120,0.074279256165028,-0.040684223175049,-0.017814550548792,-0.047852259129286,-0.124192237854004,-0.190893217921257,-0.081267893314362,-0.027835544198751));
res += mul(Get(s0,dx,dy), float4x4(-0.034594114869833,0.074877083301544,0.078847669064999,0.101699709892273,-0.024834344163537,-0.026658218353987,-0.079872690141201,-0.129493162035942,0.190071448683739,-0.016758676618338,0.095724701881409,-0.112589158117771,-0.025779560208321,-0.133505403995514,-0.070278950035572,-0.142000094056129));
res += mul(Get(s1,-dx,-dy), float4x4(0.133550524711609,-0.113283008337021,-0.158797785639763,-0.116572275757790,-0.016327179968357,0.092163130640984,-0.092802733182907,0.086813092231750,-0.013894852250814,-0.024371413514018,0.162088170647621,0.081406600773335,0.015887141227722,-0.000963962695096,0.108020067214966,-0.012855728156865));
res += mul(Get(s1,-dx,0), float4x4(0.056016251444817,-0.189675152301788,-0.064600355923176,0.141181275248528,0.050753992050886,-0.014228587970138,-0.139898717403412,-0.025246953591704,0.111619248986244,0.079065024852753,-0.066934034228325,0.081767737865448,-0.003265136387199,-0.024957343935966,-0.000063197650888,0.110745787620544));
res += mul(Get(s1,-dx,dy), float4x4(0.014179339632392,-0.184376299381256,0.196744233369827,-0.054573405534029,0.150380298495293,-0.000043226162234,0.009564813226461,-0.028748121112585,-0.051120884716511,-0.124219946563244,-0.037528607994318,-0.047998141497374,-0.011062052100897,-0.000701863202266,-0.036704987287521,-0.108681544661522));
res += mul(Get(s1,0,-dy), float4x4(-0.103482507169247,-0.007487310562283,-0.054128952324390,0.001648864708841,-0.035220943391323,-0.029710123315454,-0.077220968902111,-0.022730465978384,-0.025871332734823,0.049353510141373,0.146411672234535,0.071142494678497,-0.003316702321172,-0.002666031243280,0.123012430965900,0.089575342833996));
res += mul(Get(s1,0,0), float4x4(-0.037140499800444,-0.062559925019741,-0.014210426248610,-0.070149026811123,-0.076262012124062,0.033619474619627,-0.144480451941490,-0.197721302509308,0.077418282628059,0.053931396454573,0.051158398389816,0.002221754984930,0.019005393609405,0.139866039156914,-0.012287658639252,0.253743141889572));
res += mul(Get(s1,0,dy), float4x4(-0.059350453317165,-0.122345767915249,0.261782199144363,0.003434161422774,-0.056831475347281,-0.066658705472946,-0.036384433507919,-0.078478507697582,-0.001932562561706,0.040280047804117,0.009761684574187,-0.103346548974514,0.117975607514381,0.015788076445460,0.150710716843605,0.013159247115254));
res += mul(Get(s1,dx,-dy), float4x4(0.076383374631405,0.209148660302162,-0.001670337165706,0.138735279440880,0.054506327956915,-0.108122386038303,-0.030108643695712,-0.079076468944550,-0.122288599610329,-0.056531846523285,0.023287206888199,-0.069325670599937,-0.011306778527796,-0.075002752244473,0.119460545480251,-0.191565111279488));
res += mul(Get(s1,dx,0), float4x4(0.039971631020308,0.008251330815256,0.053059242665768,-0.145127221941948,0.052128255367279,0.050470825284719,-0.068069100379944,-0.188342198729515,0.037099976092577,0.101973570883274,-0.031657997518778,-0.004407823551446,-0.039980489760637,0.052201606333256,-0.003668994177133,-0.140273019671440));
res += mul(Get(s1,dx,dy), float4x4(0.068404480814934,0.010167325846851,-0.003689788747579,0.037664446979761,-0.086788058280945,0.065094999969006,0.036343250423670,-0.040102120488882,-0.001522493781522,-0.061475750058889,-0.106388598680496,-0.172140270471573,0.004531842190772,0.096801474690437,0.018343711271882,-0.057129219174385));
res += mul(Get(s2,-dx,-dy), float4x4(-0.025024443864822,0.083339415490627,-0.114507853984833,0.112219557166100,-0.073648326098919,0.019127091392875,0.111473284661770,0.033385869115591,-0.084134310483932,-0.076903045177460,-0.019550232216716,-0.025500979274511,0.013290395028889,0.062597058713436,0.095039084553719,0.128309592604637));
res += mul(Get(s2,-dx,0), float4x4(-0.040184542536736,0.176408514380455,-0.034525368362665,0.084464982151985,0.007934153079987,0.089243978261948,-0.006689657922834,-0.119710348546505,-0.030980661511421,0.095568969845772,0.019267853349447,0.139323934912682,0.057219494134188,0.100628808140755,0.001814376097172,-0.037552043795586));
res += mul(Get(s2,-dx,dy), float4x4(-0.065683573484421,0.011073822155595,-0.057707589119673,0.061852145940065,-0.098055802285671,0.044421516358852,0.104431107640266,-0.031239029020071,-0.098632238805294,-0.019191397354007,-0.071405589580536,-0.039902921766043,-0.112471364438534,0.072303555905819,0.144209370017052,-0.016923170536757));
res += mul(Get(s2,0,-dy), float4x4(0.136258453130722,-0.025340538471937,-0.110777296125889,-0.006102772895247,0.005991522222757,0.102182187139988,0.012545332312584,0.012569099664688,-0.119793809950352,-0.015626566484571,-0.094856716692448,-0.069144383072853,-0.035876601934433,-0.033099398016930,-0.119259126484394,0.025690564885736));
res += mul(Get(s2,0,0), float4x4(-0.109066195785999,-0.043707448989153,-0.001663615461439,-0.101958468556404,0.040812276303768,-0.042876426130533,-0.073431462049484,-0.143961295485497,0.056746821850538,0.082474611699581,0.044591356068850,0.036914881318808,0.015733124688268,-0.000019777196940,-0.120546676218510,0.110108435153961));
res += mul(Get(s2,0,dy), float4x4(0.010155773721635,-0.095995470881462,0.111683741211891,-0.103347443044186,0.053359836339951,-0.053723238408566,-0.107220754027367,0.056155115365982,0.075286559760571,-0.026307841762900,0.020893286913633,-0.100840836763382,-0.115071207284927,-0.068222083151340,-0.013407072983682,0.114991895854473));
res += mul(Get(s2,dx,-dy), float4x4(0.207951009273529,0.066425867378712,-0.082319892942905,-0.057182483375072,0.025422489270568,0.088282339274883,0.234259575605392,0.059739708900452,-0.007525755558163,0.064668089151382,0.146478787064552,-0.057826284319162,-0.069008752703667,-0.045126896351576,0.080051451921463,0.083562366664410));
res += mul(Get(s2,dx,0), float4x4(-0.134658291935921,0.005795854609460,-0.147651374340057,-0.145853787660599,-0.064407624304295,0.038390044122934,-0.017636908218265,-0.074508853256702,-0.125780865550041,-0.077238693833351,-0.084519684314728,-0.046382363885641,-0.019408112391829,0.122609101235867,0.038598846644163,-0.010645512491465));
res += mul(Get(s2,dx,dy), float4x4(0.052999280393124,0.071987926959991,-0.025756159797311,0.086560182273388,-0.023293910548091,-0.107050538063049,-0.019496370106936,0.077301867306232,0.015518389642239,-0.016528960317373,-0.078629024326801,-0.168698713183403,0.094588808715343,0.130158513784409,-0.016316104680300,-0.129964679479599));
res += mul(Get(s3,-dx,-dy), float4x4(-0.088646739721298,-0.014988493174314,-0.061103127896786,0.054699104279280,-0.005276371724904,0.119070664048195,-0.022490579634905,-0.001261389581487,-0.013766338117421,-0.016070364043117,-0.034563839435577,0.044468171894550,0.016655389219522,-0.019219057634473,-0.121329016983509,0.128810063004494));
res += mul(Get(s3,-dx,0), float4x4(-0.020240362733603,-0.025860110297799,-0.069279894232750,0.048660453408957,0.111526139080524,0.014223602600396,0.015328250825405,-0.001474633347243,0.055101033300161,-0.047859020531178,0.264198809862137,0.133102759718895,0.071945317089558,-0.018764751031995,0.024948291480541,0.194482892751694));
res += mul(Get(s3,-dx,dy), float4x4(0.029013885185122,0.022520992904902,0.002154110232368,0.131901696324348,0.118617743253708,0.212374314665794,0.037398006767035,0.003392539452761,-0.042866528034210,-0.002748165978119,0.057859726250172,-0.202682927250862,0.040313504636288,-0.098922334611416,-0.067105136811733,-0.042209059000015));
res += mul(Get(s3,0,-dy), float4x4(0.001263153390028,0.020876204594970,0.117562480270863,0.051338832825422,-0.108701243996620,-0.168329849839211,0.137590065598488,0.120114266872406,-0.124295115470886,-0.160916537046432,-0.080880984663963,0.071010231971741,0.032264396548271,-0.016103789210320,0.010573880746961,-0.155640080571175));
res += mul(Get(s3,0,0), float4x4(0.133058607578278,-0.073161758482456,-0.030118256807327,-0.126769095659256,0.138718128204346,-0.140546381473541,-0.077874839305878,0.115173406898975,0.084379360079765,-0.136539518833160,-0.045809566974640,0.115161001682281,0.337864398956299,0.024535749107599,0.050668522715569,-0.013891060836613));
res += mul(Get(s3,0,dy), float4x4(-0.057288791984320,-0.004526925738901,-0.061653446406126,0.336931973695755,-0.124384097754955,-0.029675405472517,0.030194856226444,-0.039213322103024,0.184595555067062,0.010118208825588,-0.007189770229161,-0.134412929415703,0.133088916540146,-0.098438903689384,-0.157720521092415,-0.151119828224182));
res += mul(Get(s3,dx,-dy), float4x4(-0.091472752392292,-0.097591824829578,-0.022681307047606,0.131118729710579,0.159023076295853,0.064516909420490,-0.055462002754211,0.035538744181395,-0.065829470753670,-0.046595796942711,0.102522850036621,-0.133378982543945,-0.087059207260609,-0.015476807020605,-0.022940525785089,-0.101089216768742));
res += mul(Get(s3,dx,0), float4x4(-0.006385643500835,0.118377409875393,0.027821805328131,0.154968306422234,0.072531707584858,0.189736887812614,-0.066892988979816,0.010416306555271,-0.050810400396585,-0.087195098400116,0.135745540261269,-0.109471149742603,0.191819533705711,0.059006888419390,-0.123925052583218,0.097724780440331));
res += mul(Get(s3,dx,dy), float4x4(-0.218471109867096,0.071130707859993,-0.072228416800499,0.224164918065071,-0.091324098408222,-0.005498190410435,0.005021219141781,-0.020177030935884,-0.092695832252502,-0.073880642652512,0.028439916670322,-0.280645579099655,-0.087508693337440,-0.077072761952877,-0.081520259380341,-0.049302972853184));
return max(float4(0,0,0,0), res);
}
