sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.020830862224102,0.143540948629379,0.093845948576927,0.006775967776775,-0.158678203821182,0.108927391469479,0.092603713274002,0.004484557546675,-0.020306827500463,0.034902222454548,-0.117039024829865,-0.175828382372856,-0.029821269214153,0.059617374092340,0.010459704324603,0.112690061330795));
res += mul(Get(s0,-dx,0), float4x4(0.008733251132071,0.022346567362547,0.039220180362463,-0.019147990271449,0.060952387750149,0.063158221542835,0.047210838645697,-0.169480025768280,-0.008891797624528,0.000239703411353,-0.033377874642611,0.035416174679995,0.069467507302761,0.122191667556763,-0.112831890583038,0.049854982644320));
res += mul(Get(s0,-dx,dy), float4x4(-0.008761503733695,-0.024338977411389,-0.048705909401178,-0.161605596542358,-0.036140643060207,0.007326090242714,-0.060252837836742,-0.166928052902222,0.044846139848232,-0.097076714038849,-0.078701570630074,0.008589473553002,0.005790795665234,-0.201498344540596,0.208149343729019,0.009233884513378));
res += mul(Get(s0,0,-dy), float4x4(-0.126421958208084,-0.000368183013052,-0.046781569719315,0.046624016016722,0.094304591417313,0.054435964673758,0.052480079233646,-0.140308469533920,-0.046615112572908,-0.074470967054367,-0.127846136689186,-0.042995452880859,0.099287211894989,0.005966587923467,0.203770041465759,0.223629713058472));
res += mul(Get(s0,0,0), float4x4(-0.079964108765125,-0.006231149658561,0.022147659212351,-0.023829720914364,-0.053742334246635,-0.083485871553421,-0.078669175505638,-0.139319628477097,0.054536372423172,-0.085828505456448,0.081593222916126,-0.002887094859034,-0.074990242719650,-0.272102683782578,-0.002016439568251,-0.178018838167191));
res += mul(Get(s0,0,dy), float4x4(-0.109243072569370,-0.000810327474028,-0.017492432147264,-0.085627160966396,-0.003925041761249,0.058902010321617,-0.101004339754581,-0.064921520650387,0.065904714167118,-0.040846440941095,-0.032435715198517,-0.047821816056967,0.050113450735807,0.122851215302944,-0.071427658200264,-0.053830821067095));
res += mul(Get(s0,dx,-dy), float4x4(-0.011602645739913,-0.103268444538116,-0.211639449000359,0.048218406736851,0.142238527536392,0.170456781983376,-0.008300689049065,0.091743752360344,-0.046120576560497,0.105188116431236,-0.181129530072212,0.056626249104738,0.085236281156540,-0.068312674760818,0.108972661197186,0.139132529497147));
res += mul(Get(s0,dx,0), float4x4(0.220443338155746,0.130032494664192,-0.122511215507984,0.054379783570766,0.038331311196089,0.126396566629410,-0.019410856068134,-0.071748606860638,-0.088853456079960,0.117693074047565,0.091873273253441,0.225705176591873,0.058660689741373,0.104971930384636,0.039188634604216,-0.028363417834044));
res += mul(Get(s0,dx,dy), float4x4(0.070738121867180,0.016047751531005,-0.051268197596073,0.190673381090164,0.147304058074951,0.035102777183056,0.007650006096810,-0.087820671498775,-0.052313391119242,0.152833506464958,-0.073327809572220,0.051803894340992,-0.076571166515350,0.089068569242954,-0.008243829011917,0.053684439510107));
res += mul(Get(s1,-dx,-dy), float4x4(0.043074749410152,-0.060336511582136,0.250554263591766,-0.069648504257202,0.012619893997908,-0.035971868783236,0.010585458017886,-0.172592774033546,0.104826718568802,0.046446170657873,-0.025599991902709,-0.262386947870255,-0.097900658845901,0.016551168635488,-0.145028114318848,-0.083680018782616));
res += mul(Get(s1,-dx,0), float4x4(-0.090285889804363,-0.120672650635242,0.122182980179787,0.121891736984253,-0.041827008128166,-0.019260752946138,0.065944783389568,-0.218855023384094,0.176687672734261,-0.042286764830351,0.071567125618458,0.104230768978596,-0.057465601712465,0.121627852320671,0.026090852916241,-0.041615925729275));
res += mul(Get(s1,-dx,dy), float4x4(-0.005149269010872,-0.037083122879267,-0.039948254823685,0.069547846913338,0.106767207384109,-0.069288156926632,-0.142156019806862,-0.031049098819494,0.088129930198193,-0.038099497556686,-0.082572601735592,-0.130116730928421,0.069706782698631,0.301607102155685,-0.170456662774086,0.039590530097485));
res += mul(Get(s1,0,-dy), float4x4(-0.048710439354181,-0.040248896926641,0.065661527216434,-0.063912950456142,-0.198526754975319,-0.053997974842787,-0.027042642235756,0.129841998219490,-0.184760779142380,0.050037469714880,-0.026411918923259,-0.133090913295746,0.066089116036892,-0.065845876932144,0.104031592607498,0.140498191118240));
res += mul(Get(s1,0,0), float4x4(0.086860634386539,-0.015807509422302,0.050304628908634,-0.024921298027039,0.026253411546350,0.013460914604366,-0.094227910041809,0.163075223565102,-0.099251449108124,-0.251341819763184,0.019025273621082,-0.178933098912239,0.151909813284874,0.020779473707080,0.140949055552483,-0.118876881897449));
res += mul(Get(s1,0,dy), float4x4(-0.189375981688499,-0.037473805248737,-0.048193618655205,-0.056313063949347,0.053180139511824,0.031123904511333,-0.068331390619278,0.133096396923065,0.138372585177422,0.118197962641716,-0.011747776530683,-0.033914435654879,0.104454323649406,-0.294228225946426,0.020143322646618,0.169134244322777));
res += mul(Get(s1,dx,-dy), float4x4(-0.010999105870724,0.030664216727018,0.010207300074399,0.057662628591061,-0.216008141636848,0.078634046018124,0.001029336359352,-0.147913530468941,-0.007301733363420,0.060903079807758,0.104941204190254,0.132135465741158,-0.059834063053131,-0.118993490934372,0.020610064268112,0.033541470766068));
res += mul(Get(s1,dx,0), float4x4(-0.053276315331459,-0.137971162796021,0.108665280044079,-0.251019597053528,0.086196407675743,-0.018019957467914,-0.070971272885799,0.087452411651611,-0.108274556696415,-0.121099017560482,-0.097283475100994,-0.150118321180344,-0.013035524636507,-0.069879457354546,-0.078358359634876,-0.169659897685051));
res += mul(Get(s1,dx,dy), float4x4(-0.152829393744469,-0.030431883409619,-0.134557381272316,0.093738034367561,0.130737483501434,0.067238889634609,0.074317879974842,-0.061434268951416,-0.229820907115936,0.208959579467773,0.052756894379854,0.196546152234077,0.025502791628242,0.112286441028118,0.008620895445347,-0.170618101954460));
res += mul(Get(s2,-dx,-dy), float4x4(0.050762150436640,-0.051481239497662,0.046866595745087,-0.120532900094986,0.002465363824740,-0.063384808599949,-0.031608417630196,0.043612159788609,0.037978120148182,0.009338914416730,0.106288574635983,-0.017509574070573,0.035750970244408,-0.041254200041294,0.062648370862007,0.032932128757238));
res += mul(Get(s2,-dx,0), float4x4(-0.119517944753170,0.021788891404867,-0.077350042760372,-0.110696986317635,-0.014075492508709,0.218755096197128,-0.213696509599686,-0.091994747519493,0.033022772520781,-0.058269172906876,0.118835128843784,-0.000747332000174,0.053796384483576,-0.012933467514813,0.054074205458164,0.039872050285339));
res += mul(Get(s2,-dx,dy), float4x4(-0.095516689121723,-0.015715608373284,-0.050226747989655,0.160805881023407,0.147225141525269,0.002352344337851,0.061836242675781,0.042973607778549,-0.013243412598968,0.157311424612999,0.020933549851179,0.042503554373980,0.048991981893778,0.060818746685982,0.114703752100468,0.048021301627159));
res += mul(Get(s2,0,-dy), float4x4(-0.050220098346472,0.076568089425564,0.032679047435522,-0.182961821556091,0.203096210956573,0.011307235807180,-0.114627510309219,-0.177032560110092,0.046647846698761,-0.002124500228092,-0.019315207377076,0.011614755727351,0.101106762886047,0.149216219782829,0.018903333693743,0.057013269513845));
res += mul(Get(s2,0,0), float4x4(-0.012004881165922,0.267497003078461,0.114753291010857,0.265885978937149,0.014046433381736,-0.087834082543850,0.043412689119577,-0.088351875543594,0.001765440567397,0.257205426692963,-0.079475522041321,0.224002122879028,-0.016854476183653,0.013101518154144,0.165746629238129,0.087629742920399));
res += mul(Get(s2,0,dy), float4x4(0.169590160250664,-0.003276131348684,0.012113130651414,-0.317509353160858,0.029388574883342,-0.056333526968956,-0.056538719683886,0.155847758054733,0.223121941089630,0.101401068270206,0.055279865860939,-0.000832878635265,0.052634015679359,0.006448360625654,0.020647404715419,-0.087624512612820));
res += mul(Get(s2,dx,-dy), float4x4(0.020897733047605,-0.096377529203892,-0.068640321493149,-0.060778591781855,-0.125133082270622,0.077992938458920,0.107489787042141,0.095854029059410,0.152421399950981,-0.153508797287941,-0.078515447676182,0.004852477926761,-0.090437099337578,-0.082662418484688,0.105523779988289,0.055823676288128));
res += mul(Get(s2,dx,0), float4x4(-0.111380130052567,-0.079968854784966,-0.043085977435112,-0.087664149701595,0.105630084872246,0.008566511794925,-0.151124924421310,-0.107294410467148,0.226976618170738,-0.118939124047756,0.320610046386719,-0.040862698107958,0.101496703922749,0.016965636983514,0.048181638121605,0.055464927107096));
res += mul(Get(s2,dx,dy), float4x4(-0.003665309632197,-0.066511727869511,0.017129711806774,-0.007999776862562,-0.087622821331024,0.083817660808563,-0.068266250193119,0.156626477837563,0.107402026653290,-0.100339777767658,0.098335742950439,-0.148304656147957,-0.048674024641514,0.032260131090879,0.086770072579384,-0.052064072340727));
res += mul(Get(s3,-dx,-dy), float4x4(-0.130165204405785,0.054459776729345,0.093655422329903,-0.008528450503945,0.022814325988293,0.003481931053102,0.156712576746941,0.009569434449077,-0.199704214930534,0.100148789584637,0.075011737644672,0.097566172480583,0.108681827783585,-0.006562409922481,-0.090004786849022,0.246279969811440));
res += mul(Get(s3,-dx,0), float4x4(-0.027380969375372,0.156785324215889,-0.088274441659451,-0.087288513779640,0.084107585251331,-0.043940696865320,-0.020464107394218,-0.089872114360332,-0.213735803961754,0.061462499201298,-0.033043291419744,-0.024611894041300,-0.032198883593082,-0.071219936013222,-0.088725157082081,-0.145808070898056));
res += mul(Get(s3,-dx,dy), float4x4(-0.057773534208536,-0.097056612372398,-0.207240462303162,0.028516504913568,-0.118062332272530,-0.128792956471443,0.065270476043224,0.008254753425717,-0.009166918694973,-0.138184458017349,-0.067442394793034,0.006275866180658,0.175091803073883,-0.120287403464317,-0.076331704854965,-0.097948715090752));
res += mul(Get(s3,0,-dy), float4x4(-0.074440635740757,0.065784230828285,-0.033367704600096,-0.041379731148481,-0.028037628158927,-0.105693481862545,0.107544988393784,-0.160868659615517,0.144431829452515,-0.081443779170513,-0.158221140503883,0.112730622291565,-0.021931504830718,-0.048881735652685,0.046958509832621,0.010359715670347));
res += mul(Get(s3,0,0), float4x4(-0.045320548117161,-0.134783297777176,-0.165282502770424,0.207403644919395,0.105584189295769,-0.205739796161652,0.009884148836136,0.091092526912689,-0.050783205777407,0.001529737841338,0.094675049185753,-0.070114634931087,-0.178005352616310,-0.107801102101803,-0.001889082253911,-0.056520637124777));
res += mul(Get(s3,0,dy), float4x4(0.060023486614227,0.138111680746078,-0.151267871260643,0.038074139505625,-0.133425369858742,-0.064682319760323,-0.160385221242905,-0.057847097516060,-0.028839519247413,-0.157224744558334,0.142485678195953,0.020054081454873,-0.020054951310158,0.138220295310020,0.119217984378338,0.045248974114656));
res += mul(Get(s3,dx,-dy), float4x4(-0.003143316833302,0.270732969045639,0.087903514504433,-0.032848190516233,0.017207726836205,0.106277927756310,0.191238164901733,0.022557774558663,-0.152699425816536,-0.081557951867580,-0.031222539022565,0.089813582599163,0.108402878046036,-0.210420176386833,-0.093012072145939,-0.160702690482140));
res += mul(Get(s3,dx,0), float4x4(-0.157396450638771,0.101529844105244,-0.067321583628654,-0.063513919711113,0.143691018223763,0.028160281479359,0.077872008085251,-0.075389139354229,0.024543303996325,-0.098062992095947,-0.148948743939400,0.094902962446213,0.017283875495195,-0.067279480397701,0.091211840510368,0.001435064361431));
res += mul(Get(s3,dx,dy), float4x4(0.156771525740623,-0.129295721650124,0.115864269435406,-0.258593976497650,-0.102323383092880,-0.267395317554474,0.200649157166481,0.005264649167657,-0.004898060113192,0.058207917958498,-0.008981580846012,0.024970624595881,-0.210360705852509,-0.131718412041664,0.018837343901396,0.097099468111992));
return max(float4(0,0,0,0), res);
}
