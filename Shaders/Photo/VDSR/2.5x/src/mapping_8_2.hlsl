sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.058224078267813,0.079541385173798,0.065325066447258,-0.215673446655273,0.158702969551086,0.057862456887960,-0.012378698214889,0.069925352931023,-0.009936465881765,-0.085702441632748,-0.000275387224974,-0.066971980035305,-0.034532502293587,-0.036151535809040,0.110444895923138,-0.070058852434158));
res += mul(Get(s0,-dx,0), float4x4(0.077659390866756,-0.089419223368168,0.040582250803709,-0.043224327266216,0.109472543001175,0.028794649988413,-0.049464154988527,-0.067826405167580,-0.076266929507256,-0.048974592238665,0.028834836557508,-0.060800377279520,0.046606693416834,0.106685683131218,0.006636939477175,-0.080920383334160));
res += mul(Get(s0,-dx,dy), float4x4(-0.050379592925310,-0.021900050342083,0.046276994049549,0.013196201995015,0.081534191966057,0.068389341235161,-0.081789076328278,-0.116732783615589,0.099861718714237,0.062506034970284,-0.138934671878815,0.105112582445145,-0.114198349416256,0.231522530317307,0.030889049172401,0.017450427636504));
res += mul(Get(s0,0,-dy), float4x4(-0.038520310074091,-0.035714216530323,-0.064503967761993,-0.146666452288628,0.034737739712000,0.036222055554390,0.020649919286370,0.002219953807071,-0.091814674437046,0.005727012641728,-0.051084186881781,0.019725136458874,-0.043810769915581,-0.078835867345333,-0.157607182860374,-0.108733959496021));
res += mul(Get(s0,0,0), float4x4(-0.046529818326235,-0.067602142691612,-0.062676884233952,-0.069351077079773,0.009236652404070,-0.036141782999039,0.025672579184175,-0.063082553446293,-0.054312143474817,-0.068231865763664,-0.055035956203938,0.100743778049946,-0.029267752543092,0.010505958460271,-0.098774291574955,-0.036121953278780));
res += mul(Get(s0,0,dy), float4x4(0.131416872143745,-0.042592201381922,0.017175851389766,0.052947230637074,-0.013825190253556,0.101767115294933,0.042999904602766,-0.039213668555021,0.195949986577034,-0.047229431569576,-0.020584266632795,0.126722618937492,0.027571884915233,0.103763893246651,-0.152246132493019,0.069151341915131));
res += mul(Get(s0,dx,-dy), float4x4(-0.156233906745911,-0.203643321990967,-0.112726211547852,0.088587716221809,0.097078055143356,0.021830543875694,0.027762642130256,-0.053998500108719,0.056018821895123,0.013799207285047,-0.039885502308607,-0.063975691795349,-0.104428507387638,-0.015833962708712,0.060262344777584,-0.133432298898697));
res += mul(Get(s0,dx,0), float4x4(-0.002120397053659,-0.057233478873968,-0.041740126907825,0.013473679311574,0.026619138196111,-0.056484308093786,-0.041680008172989,0.062757179141045,-0.068707108497620,0.059850849211216,0.058873593807220,0.038572546094656,-0.119917772710323,0.027191152796149,0.055421829223633,-0.201768487691879));
res += mul(Get(s0,dx,dy), float4x4(-0.072117581963539,0.210909217596054,0.034266028553247,0.081126645207405,0.044532459229231,-0.034308224916458,-0.050022426992655,-0.016551557928324,0.063082359731197,0.017422946169972,0.127412855625153,0.005319798830897,-0.045576427131891,0.084596678614616,0.136684358119965,-0.160753831267357));
res += mul(Get(s1,-dx,-dy), float4x4(-0.005461644381285,-0.139934360980988,-0.077654443681240,0.013812873512506,-0.078118138015270,0.025043558329344,-0.003284879960120,-0.019439414143562,0.101575046777725,0.019950486719608,-0.017078682780266,-0.058486152440310,0.082969978451729,-0.125551298260689,-0.062711894512177,0.072897091507912));
res += mul(Get(s1,-dx,0), float4x4(-0.027657795697451,0.019251385703683,-0.045757651329041,0.102600246667862,-0.085549592971802,-0.033410627394915,0.091660074889660,-0.054721176624298,-0.091646932065487,0.032841060310602,0.015021579340100,-0.012868564575911,-0.061321549117565,0.077360510826111,0.153560176491737,0.002467249752954));
res += mul(Get(s1,-dx,dy), float4x4(0.137066468596458,-0.019099488854408,-0.100799195468426,0.090096801519394,-0.067825406789780,-0.010883091948926,0.082057058811188,-0.034944582730532,0.049379456788301,0.037343695759773,-0.102373994886875,0.028615307062864,-0.067814156413078,0.055069908499718,0.206257298588753,0.062231022864580));
res += mul(Get(s1,0,-dy), float4x4(0.038402084261179,-0.058179453015327,-0.037460871040821,0.032212246209383,-0.018457850441337,-0.029313614591956,-0.045964010059834,-0.034021303057671,0.162185877561569,-0.083344183862209,-0.057956401258707,-0.066293470561504,-0.024166837334633,-0.079583577811718,-0.051061414182186,-0.050737056881189));
res += mul(Get(s1,0,0), float4x4(0.017861491069198,0.147711381316185,-0.133438527584076,0.098759688436985,0.078604348003864,-0.037151657044888,0.054556559771299,-0.007009945344180,-0.044961001724005,0.005803235806525,-0.025236593559384,-0.019214836880565,-0.018694991245866,0.060734815895557,-0.011865006759763,0.070576943457127));
res += mul(Get(s1,0,dy), float4x4(0.004741653800011,-0.080922283232212,-0.115088731050491,0.034505702555180,-0.140239238739014,-0.042341407388449,-0.044630989432335,0.138197168707848,-0.029290651902556,0.105397813022137,-0.108924806118011,0.053090658038855,-0.007927605882287,0.042079079896212,-0.060317426919937,0.070346623659134));
res += mul(Get(s1,dx,-dy), float4x4(0.054041087627411,0.154419183731079,-0.065247222781181,0.048805855214596,-0.064612917602062,0.042597789317369,0.044113077223301,-0.036556046456099,0.019613401964307,-0.009926522150636,-0.000436007918324,0.017032371833920,0.031387675553560,-0.114018872380257,-0.006265011616051,-0.106984436511993));
res += mul(Get(s1,dx,0), float4x4(0.115850627422333,0.128061220049858,-0.044747691601515,0.059537135064602,0.099590376019478,-0.084118157625198,0.117718912661076,-0.093966849148273,0.005242047831416,-0.027572596445680,-0.017324810847640,-0.006050084251910,0.000086149717390,-0.014755084179342,0.128094792366028,0.026856452226639));
res += mul(Get(s1,dx,dy), float4x4(-0.022048559039831,-0.052879527211189,0.031001016497612,0.016062986105680,0.079354636371136,-0.078442633152008,-0.097789295017719,-0.008906101807952,-0.136051282286644,0.049047507345676,-0.031045960262418,-0.061202146112919,0.065700262784958,-0.043270222842693,0.077978909015656,-0.067745760083199));
res += mul(Get(s2,-dx,-dy), float4x4(-0.025811864063144,0.073129311203957,0.115498118102551,-0.100257433950901,0.058753821998835,-0.010026747360826,0.161236017942429,-0.003901427146047,0.110558174550533,-0.030071668326855,-0.050822678953409,-0.128403618931770,0.072127453982830,0.083943143486977,0.072920732200146,0.069737643003464));
res += mul(Get(s2,-dx,0), float4x4(-0.017362458631396,0.015093221329153,-0.039760451763868,-0.017710911110044,-0.031484570354223,0.208633184432983,0.060427419841290,0.095393523573875,0.110579647123814,0.002338987076655,-0.063774667680264,0.050680853426456,-0.049991231411695,0.090916886925697,-0.035151138901711,0.039918486028910));
res += mul(Get(s2,-dx,dy), float4x4(0.056268800050020,0.025464151054621,-0.055125299841166,0.002439722651616,-0.030207501724362,-0.000997454859316,-0.004115020390600,-0.099954932928085,-0.135997921228409,0.072899609804153,-0.130527302622795,0.057431846857071,-0.059481691569090,0.047836851328611,0.041957739740610,0.066197618842125));
res += mul(Get(s2,0,-dy), float4x4(0.050856042653322,0.036138027906418,-0.037570852786303,0.021981785073876,0.088055126368999,0.057912144809961,0.080806680023670,-0.019424103200436,-0.050320647656918,0.125656545162201,0.000363634317182,-0.004994764924049,-0.053341813385487,-0.002671257359907,0.243089839816093,0.132135599851608));
res += mul(Get(s2,0,0), float4x4(-0.081363201141357,0.231743380427361,-0.018957938998938,-0.046443298459053,0.034715078771114,-0.073186308145523,0.022873060777783,-0.034287851303816,0.015927575528622,-0.047295309603214,-0.005219948478043,0.139383211731911,-0.000224350296776,-0.059497907757759,-0.014251533895731,0.107788465917110));
res += mul(Get(s2,0,dy), float4x4(0.135329321026802,0.129043549299240,-0.117159694433212,-0.126627564430237,0.073519080877304,-0.072977900505066,-0.039423182606697,-0.042260386049747,0.021194824948907,0.115491271018982,0.099849425256252,0.109363175928593,0.058192651718855,-0.024346534162760,-0.034094270318747,0.030654048547149));
res += mul(Get(s2,dx,-dy), float4x4(-0.024270547553897,0.027941102162004,0.070674918591976,-0.020735530182719,-0.054600324481726,0.005279077682644,0.056811608374119,-0.042712502181530,0.028259847313166,0.137877434492111,-0.049387726932764,0.113192752003670,0.002337155863643,-0.020823685452342,0.059656251221895,0.136022284626961));
res += mul(Get(s2,dx,0), float4x4(-0.050664205104113,-0.017958942800760,0.165532916784286,-0.067953743040562,0.085579410195351,-0.101326614618301,0.007735301274806,-0.098463416099548,0.064408503472805,-0.014142691157758,-0.069648757576942,0.146754369139671,0.051975179463625,0.097514465451241,-0.084116518497467,0.063323602080345));
res += mul(Get(s2,dx,dy), float4x4(0.080338038504124,-0.060748852789402,0.367763906717300,-0.103702485561371,0.062769375741482,0.029345234856009,0.011273414827883,0.041282538324594,-0.059082027524710,0.026874246075749,0.033873915672302,-0.120400644838810,0.019236894324422,0.074702605605125,-0.020545680075884,0.062220171093941));
res += mul(Get(s3,-dx,-dy), float4x4(-0.172844827175140,0.064256601035595,0.090399704873562,0.015387873165309,0.041413489729166,-0.094740986824036,-0.064220130443573,-0.024826351553202,-0.138650998473167,0.075983583927155,-0.016387062147260,-0.074987977743149,0.053771849721670,-0.062652185559273,-0.020947614684701,-0.034242555499077));
res += mul(Get(s3,-dx,0), float4x4(-0.005706229712814,-0.096516467630863,-0.019217582419515,-0.020520223304629,-0.119503475725651,-0.060192536562681,-0.030715961009264,0.093555390834808,-0.048067558556795,0.084820382297039,0.079041615128517,0.024322846904397,0.082186833024025,-0.055623751133680,0.002116820542142,-0.013925115577877));
res += mul(Get(s3,-dx,dy), float4x4(-0.038541998714209,-0.139301449060440,-0.022750359028578,-0.066164508461952,-0.210101172327995,-0.113007806241512,-0.040733188390732,0.020040808245540,0.041639354079962,0.000638874887954,0.095653466880322,-0.042076736688614,-0.012174068018794,0.009535876102746,0.093747474253178,0.023676754906774));
res += mul(Get(s3,0,-dy), float4x4(-0.142761498689651,0.012635439634323,-0.079657420516014,0.049589335918427,0.218420162796974,-0.125164464116096,0.008712130598724,-0.078079119324684,-0.020273268222809,-0.104643285274506,-0.003149490570650,0.080652594566345,0.095656849443913,-0.014164981432259,0.013068703003228,-0.004073756746948));
res += mul(Get(s3,0,0), float4x4(-0.091313078999519,-0.065407909452915,-0.096602901816368,-0.087098464369774,0.060122363269329,-0.059797320514917,-0.073945820331573,-0.092810682952404,0.209855481982231,-0.085391625761986,0.059739921241999,0.114356257021427,-0.042015492916107,0.014852301217616,0.108132869005203,-0.046443544328213));
res += mul(Get(s3,0,dy), float4x4(-0.011487235315144,-0.137250736355782,-0.056606732308865,0.017793726176023,-0.095547378063202,-0.178334325551987,0.011717449873686,0.117693036794662,0.008589152246714,-0.046378057450056,0.104939810931683,-0.077680714428425,-0.132442265748978,0.109204575419426,0.184978589415550,0.108342818915844));
res += mul(Get(s3,dx,-dy), float4x4(-0.009998197667301,-0.079970695078373,-0.180496484041214,0.040576547384262,-0.019785292446613,-0.114023499190807,-0.076980799436569,0.059606622904539,-0.044839613139629,-0.065202079713345,0.020181702449918,0.051367167383432,0.094548515975475,-0.068945847451687,-0.043596405535936,0.007444775663316));
res += mul(Get(s3,dx,0), float4x4(-0.041923660784960,-0.063510246574879,-0.066713042557240,-0.079920493066311,0.006884829141200,-0.194291949272156,-0.008505010977387,-0.050360631197691,0.052736572921276,0.007091726642102,-0.088723681867123,0.060701962560415,0.082572489976883,-0.086842723190784,-0.064595095813274,0.109217949211597));
res += mul(Get(s3,dx,dy), float4x4(-0.009350645355880,-0.123820684850216,-0.227737516164780,0.028135927394032,-0.003455663565546,-0.271496742963791,0.066606499254704,-0.000967259053141,-0.082448445260525,0.111371733248234,-0.080357119441032,0.055599562823772,-0.039870053529739,-0.122722357511520,-0.085868284106255,0.134318903088570));
return max(float4(0,0,0,0), res);
}
