sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.073404908180237,0.013619658537209,0.019431017339230,-0.019873959943652,0.083056859672070,0.076975993812084,0.002760455710813,0.036310754716396,-0.015531249344349,-0.017318475991488,0.033925671130419,0.111642859876156,0.065882474184036,-0.032905783504248,0.006625435780734,0.006886455696076));
res += mul(Get(s0,-dx,0), float4x4(-0.147972658276558,-0.061889361590147,0.000144869001815,-0.073314875364304,0.069583274424076,0.138615682721138,0.025699544698000,-0.021614624187350,-0.033416140824556,-0.043814200907946,-0.040808312594891,0.032146185636520,0.107774563133717,-0.029788959771395,0.116255208849907,-0.025334347039461));
res += mul(Get(s0,-dx,dy), float4x4(-0.068294227123260,-0.113220982253551,0.035873606801033,-0.052347041666508,0.005196207202971,0.012072864919901,-0.105654977262020,-0.039468668401241,-0.053697764873505,-0.000302550353808,-0.055637743324041,0.227151095867157,-0.049022201448679,-0.005671219434589,0.010665581561625,0.025986870750785));
res += mul(Get(s0,0,-dy), float4x4(-0.032331760972738,-0.056046694517136,-0.007796437013894,0.011181507259607,0.026407465338707,-0.059525497257710,-0.066103562712669,0.079620227217674,0.031158670783043,0.005938602611423,0.016463829204440,-0.009065738879144,0.004651817493141,-0.028967441990972,0.000270724238362,-0.068972080945969));
res += mul(Get(s0,0,0), float4x4(-0.112414553761482,-0.003267235588282,-0.104510650038719,-0.041853316128254,0.123885452747345,0.040489472448826,0.146473616361618,0.002491352381185,0.007806138601154,-0.034185223281384,0.028992822393775,-0.067610278725624,0.013479729183018,-0.001022308715619,0.081865213811398,-0.024232838302851));
res += mul(Get(s0,0,dy), float4x4(-0.103855885565281,-0.035518340766430,-0.053350836038589,0.015584984794259,0.081233806908131,0.043972235172987,-0.018350301310420,-0.109033472836018,-0.033390153199434,-0.040150091052055,0.007714380975813,0.042996805161238,-0.028862075880170,0.040689088404179,0.008021418936551,0.062684416770935));
res += mul(Get(s0,dx,-dy), float4x4(-0.031440790742636,-0.137105762958527,0.104394897818565,0.050723474472761,-0.047480344772339,-0.022748038172722,0.006109083537012,-0.035822208970785,-0.010313717648387,-0.060908466577530,0.181521594524384,0.074769631028175,0.081706173717976,-0.016787121072412,0.061834305524826,-0.070339158177376));
res += mul(Get(s0,dx,0), float4x4(0.008393854834139,-0.009952812455595,0.006349193863571,-0.042604144662619,0.055032517760992,0.003150812583044,0.129568681120872,-0.061130240559578,-0.094607368111610,-0.011244520545006,-0.005598891526461,-0.052365101873875,-0.011990040540695,-0.049446322023869,0.067591629922390,0.071384802460670));
res += mul(Get(s0,dx,dy), float4x4(-0.062669888138771,0.004105890169740,-0.043553624302149,0.036997135728598,0.063807092607021,0.041454631835222,0.041443787515163,-0.057459015399218,-0.134165331721306,-0.148927792906761,0.075571700930595,0.129584684967995,-0.067783385515213,0.133476659655571,-0.003388728015125,0.171401709318161));
res += mul(Get(s1,-dx,-dy), float4x4(-0.107271224260330,0.056634582579136,0.123420357704163,0.006188723258674,-0.044092185795307,-0.107174634933472,0.008863783441484,0.053093362599611,-0.050832308828831,0.079992823302746,-0.072215825319290,0.047441765666008,0.009771285578609,-0.001696682069451,0.065299361944199,-0.047649323940277));
res += mul(Get(s1,-dx,0), float4x4(-0.031833026558161,0.122832469642162,0.153399810194969,-0.007579059805721,-0.071030192077160,-0.058197304606438,0.215009719133377,0.203430771827698,-0.030267659574747,-0.015600042417645,-0.001752516021952,0.015509998425841,-0.032620605081320,0.068543948233128,-0.029453393071890,-0.010205811820924));
res += mul(Get(s1,-dx,dy), float4x4(-0.071810491383076,-0.117996171116829,0.043149150907993,-0.011769410222769,0.116614960134029,0.093172617256641,-0.078236632049084,0.082619190216064,-0.024550309404731,-0.049664370715618,-0.188606664538383,-0.030783535912633,0.061217591166496,-0.090556375682354,0.022388666868210,0.050885636359453));
res += mul(Get(s1,0,-dy), float4x4(-0.086012363433838,0.086508661508560,-0.123464338481426,0.043057426810265,0.111031681299210,-0.011815804988146,-0.123365156352520,-0.018148828297853,0.026604285463691,0.033613875508308,-0.087825164198875,0.007342242170125,0.044603761285543,-0.065703086555004,0.011831580661237,-0.130135789513588));
res += mul(Get(s1,0,0), float4x4(0.031290724873543,0.064059741795063,-0.110690176486969,0.032967403531075,0.067548669874668,-0.068667918443680,0.029605571180582,-0.042329069226980,0.099457800388336,-0.055295359343290,-0.027120005339384,0.003506860928610,0.005891013424844,0.095875672996044,-0.010317160747945,-0.045492466539145));
res += mul(Get(s1,0,dy), float4x4(-0.065631434321404,0.010124375112355,-0.103803083300591,-0.001386047690175,-0.035246446728706,0.003316552843899,-0.012038301676512,-0.066006474196911,-0.063584178686142,-0.107245475053787,-0.075788944959641,0.013145569711924,0.070897772908211,-0.013078771531582,0.059629146009684,0.057822167873383));
res += mul(Get(s1,dx,-dy), float4x4(-0.088265702128410,-0.029348498210311,0.023467589169741,0.053537577390671,0.026132402941585,0.032365929335356,-0.012197910808027,-0.055811204016209,-0.037133522331715,0.012085150927305,-0.044021993875504,0.139528170228004,0.125417143106461,0.044901899993420,-0.019900755956769,0.019218575209379));
res += mul(Get(s1,dx,0), float4x4(0.035677865147591,0.035269066691399,-0.004466082900763,0.032471299171448,-0.098154351115227,-0.010786429978907,0.044559404253960,0.133937880396843,0.125615283846855,-0.015129119157791,-0.096086598932743,0.044578745961189,0.189182177186012,0.043993532657623,-0.043187912553549,-0.063142746686935));
res += mul(Get(s1,dx,dy), float4x4(-0.006841079331934,-0.056714370846748,-0.008254483342171,-0.027855640277267,-0.135838150978088,0.041711676865816,0.018627362325788,0.029085915535688,0.024472771212459,-0.111016139388084,-0.113369338214397,0.010031151585281,0.062248691916466,-0.107303954660892,-0.024994805455208,0.195673823356628));
res += mul(Get(s2,-dx,-dy), float4x4(-0.044697292149067,0.215259939432144,0.011974941007793,-0.037277672439814,0.099911116063595,-0.011834283359349,-0.002838976215571,0.073767445981503,-0.050098620355129,0.103294402360916,0.073324210941792,-0.039782561361790,-0.076695390045643,0.036674458533525,-0.069246232509613,-0.110133379697800));
res += mul(Get(s2,-dx,0), float4x4(0.169803768396378,0.111350923776627,-0.009438029490411,-0.067586213350296,0.158523410558701,-0.024956949055195,0.076355099678040,0.060874313116074,-0.047913510352373,0.135807886719704,0.131539762020111,0.034012440592051,-0.016715351492167,-0.045832600444555,-0.011851717717946,-0.019018655642867));
res += mul(Get(s2,-dx,dy), float4x4(-0.083255939185619,0.119479767978191,0.031802468001842,0.067010879516602,0.093502074480057,0.143962174654007,-0.110665097832680,0.044524088501930,-0.038052514195442,0.124752886593342,0.010426605120301,0.030025571584702,-0.072980307042599,-0.030386950820684,-0.054297909140587,0.048076473176479));
res += mul(Get(s2,0,-dy), float4x4(-0.180899813771248,0.106705226004124,-0.047777004539967,0.019278857856989,-0.031865309923887,-0.020294008776546,0.051959406584501,-0.029109911993146,-0.064579747617245,0.062873311340809,0.055197514593601,-0.131433695554733,-0.076256833970547,-0.116941511631012,-0.027346322312951,-0.097579725086689));
res += mul(Get(s2,0,0), float4x4(0.166840985417366,0.053096093237400,-0.048764549195766,0.024880498647690,-0.082731984555721,-0.052708532661200,0.149909198284149,0.022620636969805,-0.012400562874973,-0.054294813424349,0.103634811937809,0.030537566170096,-0.019500743597746,0.065408892929554,0.058724384754896,-0.080005571246147));
res += mul(Get(s2,0,dy), float4x4(-0.111348181962967,0.024561213329434,-0.023564634844661,0.095064967870712,-0.082910858094692,-0.064098484814167,-0.084630981087685,0.066024169325829,-0.015195897780359,0.051930539309978,0.132666423916817,-0.016946949064732,-0.086688593029976,-0.060785062611103,-0.008270507678390,-0.081878244876862));
res += mul(Get(s2,dx,-dy), float4x4(-0.158172830939293,-0.050176404416561,0.021738912910223,0.101077668368816,-0.055945217609406,0.038777850568295,0.107911184430122,-0.051062315702438,0.116680219769478,0.149514585733414,-0.120605297386646,-0.048739586025476,-0.049856718629599,0.023087808862329,0.038491662591696,-0.012697916477919));
res += mul(Get(s2,dx,0), float4x4(0.164327681064606,0.102101117372513,0.097631826996803,0.055264919996262,-0.027231041342020,-0.022252073511481,0.162092611193657,-0.069093741476536,0.004383816383779,-0.023252559825778,0.058852862566710,0.114471033215523,-0.064747415482998,0.026907164603472,0.199335888028145,-0.034592434763908));
res += mul(Get(s2,dx,dy), float4x4(0.041228838264942,-0.025338524952531,0.003973957151175,0.063269048929214,-0.029366929084063,-0.006504397839308,0.039465311914682,-0.096020869910717,-0.098201155662537,0.013169369660318,0.080032050609589,0.062471918761730,-0.103642083704472,0.032296855002642,0.007381036877632,-0.020255522802472));
res += mul(Get(s3,-dx,-dy), float4x4(-0.046330831944942,0.022102044895291,-0.001910192077048,-0.051786325871944,0.002553856931627,0.000468595331768,-0.074510589241982,0.007114682346582,-0.007992692291737,-0.117579951882362,0.026344576850533,0.052738659083843,-0.026945326477289,-0.123191602528095,0.042513675987720,0.034822162240744));
res += mul(Get(s3,-dx,0), float4x4(-0.028599867597222,0.063895910978317,-0.010449648834765,0.031206948682666,0.020960690453649,-0.097533389925957,-0.011131430044770,-0.088368639349937,-0.067970298230648,-0.030068786814809,0.007938356138766,0.017268829047680,0.133307471871376,-0.010984682478011,0.031217446550727,0.012352621182799));
res += mul(Get(s3,-dx,dy), float4x4(0.200321763753891,0.062921367585659,0.055174361914396,0.160010799765587,-0.005861499812454,0.024953892454505,-0.055630315095186,-0.054618533700705,-0.076791614294052,0.045053146779537,0.060324445366859,0.016522124409676,-0.052740640938282,0.070754937827587,-0.015742147341371,-0.006688204128295));
res += mul(Get(s3,0,-dy), float4x4(-0.039549387991428,-0.084160678088665,0.046413596719503,-0.103996127843857,0.076092690229416,-0.134944722056389,-0.006828587967902,-0.089434981346130,-0.043891459703445,-0.073254831135273,0.044303644448519,-0.034061793237925,0.047496564686298,-0.055435255169868,-0.004074391908944,-0.130198732018471));
res += mul(Get(s3,0,0), float4x4(0.265938013792038,-0.017438644543290,-0.056902293115854,-0.046040806919336,-0.039885949343443,0.041969656944275,0.007020893041044,-0.042837202548981,0.048450205475092,-0.148760929703712,-0.053963735699654,-0.015884153544903,-0.041863080114126,-0.031409997493029,0.110323995351791,0.054392710328102));
res += mul(Get(s3,0,dy), float4x4(0.061358325183392,-0.017223440110683,0.082722656428814,0.054784536361694,-0.052281312644482,0.072978973388672,-0.045413710176945,-0.037099465727806,-0.071621887385845,0.024087531492114,-0.140276730060577,-0.009684939868748,0.048765063285828,0.151373937726021,-0.116760239005089,-0.103232756257057));
res += mul(Get(s3,dx,-dy), float4x4(0.004580854903907,-0.033282957971096,-0.080180123448372,-0.091591402888298,-0.065763488411903,-0.059832677245140,0.016951760277152,-0.000946322106756,0.015249726362526,0.032720968127251,0.090759746730328,0.067164555191994,0.001256657065824,-0.106048025190830,0.121658131480217,-0.026647329330444));
res += mul(Get(s3,dx,0), float4x4(-0.095866091549397,-0.044045381247997,-0.090811565518379,-0.127358779311180,-0.118541784584522,-0.061861548572779,0.033263090997934,0.021829901263118,-0.013660447672009,0.089795202016830,0.009557853452861,0.042530179023743,-0.099197715520859,0.011317792348564,0.074461430311203,0.011114156804979));
res += mul(Get(s3,dx,dy), float4x4(-0.049599882215261,0.084973417222500,-0.055509056895971,0.054033465683460,-0.132990553975105,0.033556990325451,0.045483507215977,-0.061580900102854,-0.063048802316189,0.073574416339397,0.053857304155827,0.188547357916832,-0.043174680322409,-0.005206251982599,0.054738700389862,-0.085731536149979));
return max(float4(0,0,0,0), res);
}
