sampler s0 : register(s0);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(x, y)   tex2D(s0, tex + float2(x, y))[0]

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += float4(0.081477880477905,-0.113711878657341,-0.209500476717949,-0.191969648003578) * Get(-dx,-dy);
res += float4(-0.001460263389163,-0.014125108718872,-0.252817124128342,-0.063881076872349) * Get(-dx,0);
res += float4(-0.129647120833397,-0.051174234598875,0.276357144117355,-0.036972343921661) * Get(-dx,dy);
res += float4(0.016590962186456,-0.041479628533125,0.066328234970570,-0.225397020578384) * Get(0,-dy);
res += float4(-0.138853549957275,-0.011299122124910,-0.029438266530633,0.095577560365200) * Get(0,0);
res += float4(-0.109845049679279,0.134418338537216,-0.156893700361252,-0.043724983930588) * Get(0,dy);
res += float4(-0.077232003211975,0.067929826676846,-0.172444716095924,0.213848084211349) * Get(dx,-dy);
res += float4(-0.138771459460258,0.015631588175893,-0.000895288947504,-0.042595032602549) * Get(dx,0);
res += float4(-0.030786642804742,-0.192023649811745,0.115312449634075,0.044580683112144) * Get(dx,dy);
return max(float4(0,0,0,0), res);
}
