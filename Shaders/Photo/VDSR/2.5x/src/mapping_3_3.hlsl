sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.121630437672138,-0.124537870287895,-0.072095423936844,0.018524056300521,0.057554397732019,0.207587689161301,0.015540420077741,-0.215012490749359,0.036876570433378,0.023233659565449,-0.131036549806595,-0.226930871605873,0.138505682349205,0.101529434323311,0.165031641721725,-0.066885128617287));
res += mul(Get(s0,-dx,0), float4x4(0.128233835101128,-0.100933939218521,0.237282723188400,-0.062319628894329,-0.030506711453199,0.011451669968665,-0.042137555778027,0.063375055789948,-0.021394724026322,-0.061966966837645,0.156270861625671,-0.160221859812737,-0.021918872371316,-0.037581365555525,-0.102579019963741,-0.107256412506104));
res += mul(Get(s0,-dx,dy), float4x4(0.155383080244064,-0.067935422062874,-0.089273378252983,-0.193135723471642,0.012877491302788,0.032190933823586,0.077225379645824,-0.008571338839829,0.113239526748657,0.094486728310585,-0.044583044946194,-0.090885818004608,0.035978578031063,0.025387424975634,-0.106058627367020,0.101724483072758));
res += mul(Get(s0,0,-dy), float4x4(0.132137432694435,-0.016519200056791,-0.043612562119961,-0.191835030913353,-0.174375489354134,-0.157399997115135,-0.084019288420677,-0.001973332837224,0.033228632062674,0.266542166471481,0.018728008493781,0.016582511365414,-0.044148560613394,0.043888874351978,0.068032838404179,-0.032273408025503));
res += mul(Get(s0,0,0), float4x4(-0.213414564728737,0.147553592920303,-0.107327066361904,-0.196457535028458,-0.118100903928280,-0.053942549973726,0.175639167428017,-0.044290963560343,-0.136779069900513,0.041228931397200,-0.139770999550819,0.033812526613474,0.098861858248711,0.017309002578259,-0.019667131826282,0.037859756499529));
res += mul(Get(s0,0,dy), float4x4(0.091563545167446,0.002333185402676,-0.057063337415457,0.011787276715040,-0.033299371600151,-0.157550096511841,-0.175984218716621,-0.033397816121578,-0.234006762504578,-0.027031959965825,-0.105856895446777,0.258007735013962,0.017939137294888,-0.135774448513985,-0.011138335801661,0.020149832591414));
res += mul(Get(s0,dx,-dy), float4x4(-0.022107021883130,-0.193912297487259,0.104840196669102,0.070222996175289,-0.017821939662099,-0.009002918377519,0.030700912699103,0.203144118189812,-0.016483558341861,-0.181744426488876,0.031397115439177,-0.187537476420403,-0.038655847311020,0.030424408614635,-0.071167960762978,-0.159004211425781));
res += mul(Get(s0,dx,0), float4x4(-0.034405525773764,0.052704822272062,0.149319902062416,0.076610043644905,-0.113584212958813,-0.090367123484612,-0.151557847857475,-0.017172135412693,-0.036078114062548,0.155712708830833,0.014195844531059,-0.189060017466545,-0.053446605801582,-0.157640516757965,-0.112280286848545,0.064167618751526));
res += mul(Get(s0,dx,dy), float4x4(0.115131758153439,0.053173091262579,-0.027533171698451,-0.095049642026424,-0.123288027942181,-0.130479156970978,-0.086955331265926,0.054106995463371,0.047296319156885,-0.130938023328781,0.070319831371307,-0.040336262434721,0.175786301493645,-0.025651242583990,0.030854100361466,-0.030098298564553));
res += mul(Get(s1,-dx,-dy), float4x4(0.056764386594296,0.014827911742032,0.160540372133255,-0.070854373276234,-0.137421712279320,0.022539803758264,0.005011040251702,0.048543591052294,0.071164332330227,0.134004354476929,0.038858652114868,-0.006781680043787,-0.068605549633503,0.021043367683887,-0.058326248079538,0.172078281641006));
res += mul(Get(s1,-dx,0), float4x4(0.045803062617779,-0.039430327713490,-0.045282039791346,-0.015290472656488,0.073721468448639,0.116567321121693,-0.169603645801544,0.051679972559214,0.140069976449013,-0.100332975387573,-0.172939121723175,0.206436052918434,0.310024619102478,-0.036284133791924,0.039433285593987,0.212654843926430));
res += mul(Get(s1,-dx,dy), float4x4(0.044300638139248,0.052608579397202,0.117963239550591,0.038335021585226,0.006594460457563,0.323405832052231,-0.094308093190193,-0.058190591633320,-0.106724463403225,-0.007956873625517,-0.084129385650158,0.038618519902229,0.059255927801132,-0.034473475068808,0.047921352088451,-0.004003745969385));
res += mul(Get(s1,0,-dy), float4x4(0.049879983067513,0.086950778961182,0.141861781477928,0.117920018732548,0.107449695467949,-0.076504513621330,0.153075516223907,-0.097369804978371,0.066895544528961,0.063240110874176,-0.051316093653440,0.022312436252832,0.020214488729835,0.102894775569439,0.175671547651291,-0.082587055861950));
res += mul(Get(s1,0,0), float4x4(0.050172645598650,-0.175827443599701,0.108978345990181,0.014861844480038,-0.019751535728574,-0.056619014590979,-0.117831051349640,-0.090276859700680,-0.179790064692497,-0.044547647237778,0.015567195601761,0.094433799386024,-0.044475134462118,-0.040394250303507,-0.106060713529587,-0.010038556531072));
res += mul(Get(s1,0,dy), float4x4(0.008793740533292,-0.126916065812111,0.152819603681564,-0.189805075526237,-0.018352793529630,-0.073207996785641,-0.047550510615110,-0.150928184390068,-0.092650696635246,-0.014573534950614,-0.067414700984955,0.041099462658167,-0.184832826256752,0.058367457240820,0.013107132166624,-0.061455719172955));
res += mul(Get(s1,dx,-dy), float4x4(0.179903209209442,-0.075067818164825,0.037889614701271,0.089260190725327,-0.201807245612144,0.030612735077739,0.010338671505451,-0.097841076552868,0.039987433701754,0.065721213817596,0.062810368835926,0.090562045574188,0.021330457180738,-0.013914602808654,-0.166796997189522,-0.076612822711468));
res += mul(Get(s1,dx,0), float4x4(-0.027474600821733,0.036440938711166,-0.171298950910568,-0.057077389210463,-0.005506202578545,0.064662031829357,0.125313445925713,0.116687335073948,-0.124010719358921,-0.137047082185745,-0.018312053754926,-0.046372782438993,-0.310482621192932,-0.038725990802050,0.045141674578190,-0.212025478482246));
res += mul(Get(s1,dx,dy), float4x4(-0.079514876008034,0.059406377375126,-0.095487877726555,0.190293386578560,-0.086100727319717,0.010188394226134,-0.129818350076675,-0.066946417093277,-0.144705161452293,-0.007560363505036,0.112847968935966,-0.038476478308439,-0.072953313589096,0.079242244362831,0.108819514513016,-0.167051240801811));
res += mul(Get(s2,-dx,-dy), float4x4(-0.120027758181095,0.012216017581522,-0.084907643496990,-0.013014073483646,-0.066535435616970,0.101126864552498,-0.119199953973293,-0.239798933267593,0.034533899277449,-0.041769891977310,-0.101054713129997,0.008528078906238,-0.173821523785591,-0.005154582206160,-0.115387648344040,-0.217617809772491));
res += mul(Get(s2,-dx,0), float4x4(0.015192995779216,-0.208969846367836,-0.032131697982550,-0.076463215053082,0.159369394183159,-0.182827502489090,-0.084724254906178,-0.060078270733356,-0.033854555338621,-0.130938738584518,0.015775641426444,0.019692959263921,0.180710583925247,0.109451346099377,0.105815470218658,0.061128053814173));
res += mul(Get(s2,-dx,dy), float4x4(0.073682881891727,-0.014809744432569,0.097978129982948,0.110351972281933,0.001998054794967,0.203184783458710,-0.098947018384933,0.023086527362466,0.001000520307571,0.059043969959021,-0.047213535755873,0.082665465772152,0.219850987195969,-0.228084295988083,0.061110947281122,-0.050683908164501));
res += mul(Get(s2,0,-dy), float4x4(0.088966131210327,-0.106171943247318,0.238165408372879,-0.205371081829071,-0.198860451579094,0.156998172402382,0.267510205507278,-0.021355632692575,-0.014576252549887,0.038564529269934,-0.163796305656433,-0.038465473800898,-0.260322064161301,-0.119328692555428,-0.106314547359943,-0.083697006106377));
res += mul(Get(s2,0,0), float4x4(-0.019572241231799,-0.007985462434590,0.061810791492462,-0.106829024851322,0.042326007038355,0.026996059343219,0.072182312607765,-0.152157321572304,-0.011368692852557,-0.076074711978436,0.061225932091475,0.169770598411560,0.220200464129448,0.086448512971401,-0.090976543724537,-0.027620021253824));
res += mul(Get(s2,0,dy), float4x4(-0.169666543602943,-0.061405144631863,0.145787209272385,0.037453386932611,0.154442653059959,0.287317544221878,0.213985607028008,0.071300797164440,-0.134144008159637,-0.148900061845779,-0.017052331939340,-0.122741706669331,0.145549803972244,0.103836052119732,-0.001957614673302,-0.081907376646996));
res += mul(Get(s2,dx,-dy), float4x4(-0.042154986411333,0.020240770652890,-0.003806622466072,0.043394245207310,-0.002729314845055,0.006405647378415,0.150280714035034,0.068493403494358,-0.003805042477325,-0.291480451822281,0.027347138151526,-0.034932631999254,-0.001239130739123,0.132505759596825,-0.022419814020395,-0.078565515577793));
res += mul(Get(s2,dx,0), float4x4(-0.160656794905663,0.093881830573082,-0.019079664722085,-0.054644081741571,0.248556479811668,0.186620548367500,0.141942232847214,-0.019814187660813,-0.128548234701157,-0.120339535176754,-0.044422615319490,-0.085826724767685,-0.188079193234444,0.184320732951164,-0.228972405195236,0.068248942494392));
res += mul(Get(s2,dx,dy), float4x4(-0.011349991895258,0.136378988623619,0.021134890615940,-0.113962270319462,0.154678881168365,-0.107160158455372,0.024255385622382,-0.024000342935324,0.017507150769234,-0.157065451145172,0.070083960890770,-0.071446880698204,-0.158233895897865,-0.121388152241707,0.007195220794529,-0.030437579378486));
res += mul(Get(s3,-dx,-dy), float4x4(-0.118123516440392,-0.071351766586304,0.015733467414975,0.076938755810261,-0.146896973252296,0.110639140009880,-0.002848677337170,0.109122261404991,0.022189928218722,0.214122653007507,0.129339635372162,-0.072136513888836,0.175714179873466,-0.264302939176559,-0.014892772771418,0.079073093831539));
res += mul(Get(s3,-dx,0), float4x4(-0.036581970751286,-0.086621277034283,0.047278977930546,0.078165590763092,-0.145111650228500,0.005743849091232,0.069783896207809,0.159386485815048,0.057768911123276,-0.005433329846710,-0.070502936840057,-0.070494018495083,0.019477570429444,-0.101495787501335,-0.040289793163538,0.066683001816273));
res += mul(Get(s3,-dx,dy), float4x4(-0.130706593394279,0.104793436825275,-0.022866789251566,0.107549943029881,0.021459445357323,-0.014578587375581,-0.051079846918583,-0.142314955592155,0.010933704674244,-0.079008392989635,-0.021605078130960,0.324468910694122,-0.042174492031336,-0.003266747109592,0.180334925651550,0.165398180484772));
res += mul(Get(s3,0,-dy), float4x4(0.058677475899458,0.079553633928299,-0.012245438992977,-0.046869188547134,0.069901369512081,0.000289736053674,0.105790413916111,0.115704193711281,-0.123358577489853,0.056768260896206,0.102623976767063,0.163186132907867,0.013638893142343,0.050738178193569,-0.099948853254318,0.129209145903587));
res += mul(Get(s3,0,0), float4x4(-0.052434571087360,-0.141493186354637,-0.095467396080494,-0.076885238289833,-0.184418782591820,-0.110442429780960,-0.064939275383949,0.011679694056511,-0.196060121059418,0.005960361566395,-0.050593279302120,0.108216278254986,-0.076709851622581,-0.039543934166431,-0.042162984609604,0.048649229109287));
res += mul(Get(s3,0,dy), float4x4(0.007678561378270,0.002778760856017,-0.019363101571798,0.041889622807503,-0.168795436620712,0.186735570430756,-0.127862140536308,-0.014377882704139,0.016556417569518,0.023798177018762,0.038815688341856,0.095951139926910,0.058263327926397,-0.012601773254573,-0.006956156343222,-0.058545608073473));
res += mul(Get(s3,dx,-dy), float4x4(-0.071654394268990,-0.066792562603951,0.104084432125092,-0.100272729992867,0.078105166554451,-0.010493534617126,0.136071786284447,-0.014193235896528,0.081192456185818,0.010912972502410,-0.113090321421623,-0.007150066085160,0.161882445216179,-0.046590801328421,0.064743988215923,-0.039118889719248));
res += mul(Get(s3,dx,0), float4x4(-0.007650047075003,0.083869874477386,-0.036771751940250,0.123677633702755,-0.104708120226860,-0.142457351088524,-0.013189795427024,-0.040143132209778,0.047853931784630,0.212185904383659,0.079102933406830,-0.189215362071991,0.119593426585197,-0.143639966845512,-0.112040728330612,0.047085702419281));
res += mul(Get(s3,dx,dy), float4x4(0.159863561391830,0.128129050135612,-0.118073679506779,-0.112633936107159,0.063021495938301,-0.090635821223259,-0.018462300300598,0.067014805972576,-0.014911898411810,0.091538161039352,0.237374410033226,-0.024682108312845,0.037860877811909,0.230076611042023,-0.092556118965149,-0.055964600294828));
return max(float4(0,0,0,0), res);
}
