sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.128771692514420,-0.087441980838776,-0.022873755544424,0.128733322024345,-0.051678407937288,0.023471776396036,-0.016605781391263,0.024121418595314,-0.063655659556389,-0.149964243173599,-0.075817801058292,-0.024428399279714,0.078596547245979,0.087460316717625,-0.036166716367006,-0.095990970730782));
res += mul(Get(s0,-dx,0), float4x4(0.012381571345031,-0.016975328326225,0.047006130218506,0.188392058014870,-0.059385366737843,0.022892035543919,0.015327860601246,-0.010501464828849,-0.018658224493265,-0.021148040890694,0.017217380926013,0.063974708318710,-0.092637486755848,-0.208011478185654,-0.089301556348801,-0.106599263846874));
res += mul(Get(s0,-dx,dy), float4x4(-0.306804001331329,-0.063431136310101,0.088445238769054,0.124264076352119,-0.056389924138784,0.083818838000298,-0.001095201005228,-0.030460979789495,-0.068296648561954,0.109465785324574,0.052725613117218,0.150985255837440,-0.018083555623889,-0.013324721716344,-0.103398777544498,-0.034383028745651));
res += mul(Get(s0,0,-dy), float4x4(0.012612727470696,0.010031903162599,-0.093393243849277,-0.137425288558006,-0.044512793421745,-0.077628701925278,0.005802961066365,-0.037344813346863,0.210535407066345,0.012427618727088,0.128168076276779,-0.063485786318779,0.022169277071953,0.103101842105389,-0.049309477210045,0.088342323899269));
res += mul(Get(s0,0,0), float4x4(0.108220875263214,0.021572144702077,-0.014640236273408,-0.024457966908813,0.030497448518872,0.021970074623823,0.045792095363140,-0.031579263508320,-0.094342194497585,0.080766074359417,-0.004855362232774,0.141442641615868,-0.047670729458332,-0.232173100113869,0.048127923160791,0.043571650981903));
res += mul(Get(s0,0,dy), float4x4(-0.086203992366791,0.096411377191544,-0.098273038864136,-0.134546965360641,-0.060579661279917,0.018044997006655,-0.022637579590082,-0.068483717739582,-0.156759440898895,0.132750928401947,0.075208216905594,0.030542321503162,0.046160075813532,-0.017786348238587,-0.084843464195728,-0.050901062786579));
res += mul(Get(s0,dx,-dy), float4x4(-0.092003837227821,0.016708647832274,-0.014710793271661,0.059988535940647,-0.161562204360962,-0.091365709900856,-0.032465785741806,0.115718327462673,0.091532051563263,-0.049515470862389,0.157420918345451,-0.042133200913668,-0.093329712748528,0.016202911734581,0.017731525003910,-0.021164231002331));
res += mul(Get(s0,dx,0), float4x4(0.009780035354197,-0.065683886408806,0.084681987762451,0.007558824494481,0.005618011113256,-0.138765677809715,0.027577593922615,-0.065710216760635,0.168616160750389,-0.106558747589588,0.138687536120415,-0.049481764435768,0.079708799719810,0.123235926032066,0.045204870402813,0.032285716384649));
res += mul(Get(s0,dx,dy), float4x4(0.013005717657506,0.033044826239347,0.075965359807014,0.092949248850346,-0.150855436921120,-0.010494422167540,0.052201490849257,-0.189938545227051,0.105256609618664,-0.050769105553627,0.119543440639973,-0.104711040854454,0.018926035612822,0.212842032313347,0.052563935518265,0.012479421682656));
res += mul(Get(s1,-dx,-dy), float4x4(-0.060588754713535,-0.137630417943001,0.122318305075169,-0.061609767377377,0.024040110409260,-0.067130595445633,-0.070524618029594,0.251375913619995,0.125783339142799,-0.029533687978983,-0.086535923182964,0.112884305417538,-0.002322837244719,0.012569244019687,-0.069754794239998,0.036375958472490));
res += mul(Get(s1,-dx,0), float4x4(-0.110652588307858,-0.020695013925433,-0.015786202624440,0.053078439086676,0.048651054501534,0.060697551816702,-0.214925661683083,0.081973485648632,-0.002779291011393,-0.040972586721182,-0.217304736375809,0.117743209004402,0.220672398805618,0.090822398662567,-0.088031321763992,-0.011187477968633));
res += mul(Get(s1,-dx,dy), float4x4(-0.001679041539319,0.063054010272026,0.071877703070641,-0.021690947934985,0.171926930546761,-0.081195145845413,-0.021349521353841,0.021755138412118,0.173782423138618,0.045764226466417,-0.096747040748596,-0.095065966248512,0.102240644395351,0.044965147972107,-0.133824840188026,0.002715892856941));
res += mul(Get(s1,0,-dy), float4x4(0.024494549259543,-0.161728695034981,-0.050149627029896,-0.059958826750517,0.222774118185043,-0.051094785332680,0.117023728787899,-0.010257582180202,-0.164189815521240,0.200895205140114,-0.006255648564547,0.104689463973045,-0.067490279674530,-0.020363314077258,-0.135785341262817,0.052929013967514));
res += mul(Get(s1,0,0), float4x4(-0.061130501329899,-0.030179871246219,-0.051052857190371,0.032652337104082,-0.164096534252167,0.308800101280212,-0.101134121417999,-0.060074340552092,-0.165025368332863,-0.082699097692966,-0.147825092077255,-0.011066813953221,-0.023951724171638,0.022825855761766,-0.104417003691196,0.107343971729279));
res += mul(Get(s1,0,dy), float4x4(0.083119459450245,0.094630524516106,0.044222339987755,-0.026219684630632,-0.104279130697250,-0.078668378293514,-0.006411719135940,-0.080997236073017,0.167349204421043,0.087991945445538,-0.066542282700539,-0.097991116344929,0.000393117952626,-0.030293934047222,-0.080834440886974,-0.036126397550106));
res += mul(Get(s1,dx,-dy), float4x4(0.103717386722565,-0.154485583305359,-0.065513409674168,-0.000210330676055,-0.211668759584427,-0.081176958978176,0.234371185302734,-0.060225512832403,-0.112986296415329,0.101003132760525,0.136633649468422,-0.088141284883022,-0.009896033443511,0.057635396718979,-0.089315742254257,-0.140412941575050));
res += mul(Get(s1,dx,0), float4x4(-0.038936596363783,-0.049272589385509,-0.065833695232868,0.107307426631451,-0.225830346345901,0.068562716245651,0.068785697221756,-0.021138550713658,-0.013772595673800,-0.141851425170898,0.107671126723289,-0.178560495376587,0.069550730288029,0.031467530876398,-0.000766368233599,-0.112535774707794));
res += mul(Get(s1,dx,dy), float4x4(-0.036169081926346,0.079776905477047,-0.035449959337711,-0.048696603626013,-0.022551318630576,0.026645764708519,0.056646991521120,0.002805261174217,0.228922814130783,0.184579178690910,0.034312043339014,0.092657648026943,0.023275688290596,-0.094850420951843,0.006520781666040,-0.064791262149811));
res += mul(Get(s2,-dx,-dy), float4x4(0.122914671897888,-0.034194514155388,-0.032797306776047,-0.052792359143496,0.003079537069425,-0.143852159380913,0.070406526327133,-0.116396322846413,-0.167780384421349,-0.110469475388527,-0.019830523058772,0.019770078361034,-0.126693427562714,-0.209354355931282,-0.248907461762428,0.094912685453892));
res += mul(Get(s2,-dx,0), float4x4(0.012241207063198,-0.041597630828619,-0.039467278867960,0.006215946748853,0.153658390045166,-0.047485653311014,-0.017796013504267,-0.114718154072762,-0.068321332335472,0.076800778508186,-0.011398706585169,-0.056920833885670,-0.013639423996210,-0.143081128597260,-0.044323019683361,0.040161434561014));
res += mul(Get(s2,-dx,dy), float4x4(0.128566980361938,-0.106034912168980,-0.104949638247490,0.057182203978300,0.071725554764271,0.032225366681814,-0.032179750502110,-0.062091831117868,-0.099875852465630,0.039187714457512,0.042243730276823,-0.103764913976192,0.016460767015815,0.284516215324402,0.006961857900023,0.163195356726646));
res += mul(Get(s2,0,-dy), float4x4(0.180117800831795,0.092170551419258,-0.051468648016453,-0.004004958551377,-0.088468313217163,-0.135145694017410,-0.078648015856743,-0.027210453525186,-0.116768009960651,-0.100083783268929,-0.026712842285633,-0.020225314423442,-0.268602192401886,-0.318785309791565,0.336039662361145,0.060881327837706));
res += mul(Get(s2,0,0), float4x4(-0.125831708312035,0.032707124948502,-0.017013560980558,-0.067454203963280,0.015334690921009,0.097288168966770,-0.131074488162994,-0.060545224696398,0.230293974280357,-0.045598022639751,-0.117961026728153,-0.001569692278281,0.297149956226349,-0.162501126527786,-0.189097985625267,-0.099629670381546));
res += mul(Get(s2,0,dy), float4x4(0.002600412117317,0.015904106199741,-0.015113833360374,0.007193716242909,0.052278887480497,-0.004854387138039,0.031281851232052,-0.045155148953199,0.211288958787918,0.137650579214096,-0.113077089190483,-0.002979639451951,0.073461286723614,0.330605059862137,-0.038637604564428,-0.234678611159325));
res += mul(Get(s2,dx,-dy), float4x4(-0.113792985677719,0.015062527731061,-0.085857011377811,-0.215545132756233,0.198665022850037,-0.089800581336021,-0.059376131743193,-0.028479756787419,-0.191357851028442,0.050137113779783,0.037890966981649,0.006954979151487,0.145730659365654,0.120050899684429,0.205876618623734,0.069426201283932));
res += mul(Get(s2,dx,0), float4x4(-0.075505077838898,-0.122359365224838,-0.095766559243202,-0.194521233439445,0.043369915336370,0.012618931010365,-0.040277287364006,-0.040567431598902,0.050540503114462,-0.128345966339111,-0.133331507444382,-0.048214700073004,0.087804831564426,0.080676741898060,-0.080838955938816,0.017802592366934));
res += mul(Get(s2,dx,dy), float4x4(0.121536500751972,-0.028196278959513,-0.087785288691521,-0.065020292997360,-0.152272060513496,-0.025111647322774,0.090903811156750,-0.028637783601880,0.080036096274853,-0.015247027389705,-0.116692624986172,-0.009567979723215,-0.172819361090660,0.055071711540222,0.049497798085213,-0.120093330740929));
res += mul(Get(s3,-dx,-dy), float4x4(0.029629098251462,-0.002618488622829,-0.038095798343420,0.044923067092896,-0.096979752182961,0.035435639321804,-0.207318380475044,0.215150862932205,0.029900992289186,0.085557408630848,-0.002399773336947,-0.050621069967747,-0.056202109903097,-0.013871305622160,0.107381768524647,0.120175100862980));
res += mul(Get(s3,-dx,0), float4x4(-0.055977791547775,-0.062545649707317,-0.038618579506874,0.128983661532402,-0.183098003268242,-0.076779395341873,-0.041357744485140,0.141118302941322,-0.018936924636364,0.038468495011330,-0.025772780179977,0.024147322401404,0.182628452777863,-0.179216712713242,-0.002980060176924,0.206917986273766));
res += mul(Get(s3,-dx,dy), float4x4(-0.075316987931728,0.035623051226139,0.065804854035378,0.106246724724770,-0.137046530842781,0.060920774936676,0.029595552012324,0.086610451340675,-0.012625529430807,0.045521479099989,-0.038587789982557,0.006699929479510,0.122915968298912,0.131225660443306,0.062407821416855,0.108818016946316));
res += mul(Get(s3,0,-dy), float4x4(-0.023810416460037,-0.030610268935561,-0.073621004819870,-0.104043349623680,0.007646105252206,0.005228678695858,0.052002716809511,0.106176599860191,0.051210299134254,0.121962793171406,-0.022262081503868,-0.156793043017387,0.003762127831578,0.052640695124865,0.116631604731083,0.035200204700232));
res += mul(Get(s3,0,0), float4x4(-0.053158458322287,-0.043981045484543,-0.083095267415047,0.012996576726437,0.044393606483936,-0.095665298402309,-0.078136503696442,-0.071279980242252,-0.095189407467842,-0.032721731811762,0.038594730198383,-0.053645543754101,0.103405371308327,-0.063847206532955,-0.062415104359388,-0.191088393330574));
res += mul(Get(s3,0,dy), float4x4(0.010131019167602,0.094934001564980,0.039353888481855,-0.064613483846188,0.068678766489029,0.174316540360451,-0.008996722288430,-0.058991760015488,-0.032081872224808,-0.022657727822661,-0.041003711521626,-0.025740468874574,-0.053321015089750,-0.037788707762957,-0.152504503726959,-0.077137835323811));
res += mul(Get(s3,dx,-dy), float4x4(-0.061988864094019,-0.022878961637616,0.056726090610027,-0.030347904190421,-0.220999628305435,0.094288192689419,0.352317571640015,-0.003385173156857,-0.012866328470409,0.111419394612312,-0.067804574966431,-0.035210933536291,0.102595664560795,-0.033040080219507,0.140737235546112,0.088104128837585));
res += mul(Get(s3,dx,0), float4x4(0.028050236403942,-0.105197980999947,0.026944061741233,0.081074565649033,-0.117954887449741,-0.144592165946960,-0.084370344877243,-0.130663454532623,0.016856482252479,0.064332671463490,0.028958775103092,-0.016614273190498,0.005863122176379,-0.012262890115380,-0.083895847201347,0.035270109772682));
res += mul(Get(s3,dx,dy), float4x4(-0.008661122061312,0.141520649194717,-0.025810334831476,0.003880374133587,-0.024217164143920,0.057094860821962,0.175245180726051,-0.029178695753217,0.125692188739777,-0.020322838798165,0.112896703183651,0.020372539758682,-0.017604647204280,-0.031366296112537,-0.033416680991650,-0.026255620643497));
return max(float4(0,0,0,0), res);
}
