sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.008436608128250,-0.086973167955875,-0.066579908132553,-0.075160101056099,-0.137199327349663,0.032234307378531,-0.012147372588515,-0.121729686856270,-0.170638874173164,0.056533522903919,0.030933257192373,-0.080553285777569,-0.010384220629930,-0.063315019011497,0.157898992300034,0.065194979310036));
res += mul(Get(s0,-dx,0), float4x4(0.042899955064058,-0.077707953751087,0.010086665861309,0.032856684178114,0.024206008762121,-0.246403664350510,-0.125659242272377,0.018052196130157,-0.151702478528023,0.083061195909977,0.021450074389577,-0.106367357075214,0.057586025446653,-0.037226185202599,-0.017649274319410,-0.133721828460693));
res += mul(Get(s0,-dx,dy), float4x4(0.047620493918657,-0.099257528781891,0.126657083630562,-0.137157753109932,0.216365590691566,0.045096579939127,0.016003482043743,-0.120328098535538,0.065475374460220,-0.059647414833307,-0.015809111297131,-0.044350225478411,0.019557761028409,0.001652795588598,-0.052468210458755,0.027120461687446));
res += mul(Get(s0,0,-dy), float4x4(0.061527363955975,0.022534752264619,-0.054934870451689,0.109619289636612,-0.117821745574474,0.089882932603359,0.080580905079842,0.059137657284737,-0.114777997136116,-0.148958951234818,-0.033349890261889,-0.063927195966244,-0.037945840507746,-0.067198336124420,-0.129813805222511,0.048801869153976));
res += mul(Get(s0,0,0), float4x4(-0.017097709700465,0.078418180346489,-0.054483693093061,-0.035667151212692,0.164376124739647,0.161245420575142,-0.008789486251771,0.059498049318790,-0.143883973360062,0.069367893040180,0.069407261908054,-0.134603813290596,-0.009665175341070,-0.024481978267431,-0.091929517686367,-0.094412460923195));
res += mul(Get(s0,0,dy), float4x4(0.033513162285089,0.036887008696795,0.016537822782993,-0.150167271494865,-0.065955765545368,0.020223299041390,-0.027022546157241,-0.160427853465080,0.087897539138794,-0.029259141534567,0.050253320485353,0.042325124144554,0.071366436779499,0.084846578538418,0.067597284913063,-0.019675109535456));
res += mul(Get(s0,dx,-dy), float4x4(-0.060698341578245,-0.035396073013544,0.112396448850632,-0.038453657180071,0.007957121357322,-0.139863163232803,-0.012503546662629,0.004672260489315,0.006202002521604,-0.043629810214043,-0.082411177456379,-0.042994361370802,0.130957394838333,-0.046331033110619,0.084223374724388,0.122257553040981));
res += mul(Get(s0,dx,0), float4x4(-0.032595675438643,-0.070709608495235,-0.004346051253378,0.132476717233658,-0.029753234237432,0.001398834399879,0.134282067418098,-0.052125062793493,-0.057491634041071,0.053791821002960,0.018959896638989,-0.028721863403916,-0.015905786305666,-0.062417943030596,-0.038923464715481,-0.078051708638668));
res += mul(Get(s0,dx,dy), float4x4(-0.044897198677063,-0.112192802131176,0.031098322942853,-0.035643532872200,-0.013540728949010,0.029485007748008,0.065755881369114,-0.204709187150002,-0.008845143020153,-0.040447242558002,0.128033101558685,-0.076842427253723,0.020244250074029,0.008868353441358,0.220529645681381,-0.061058573424816));
res += mul(Get(s1,-dx,-dy), float4x4(0.001904048374854,-0.040860604494810,-0.125714018940926,0.121881626546383,-0.060645055025816,-0.014042827300727,-0.004592892713845,0.120563782751560,-0.053278293460608,0.109490454196930,0.003774444572628,-0.046880211681128,-0.007554778829217,-0.101602688431740,0.062053717672825,-0.081358186900616));
res += mul(Get(s1,-dx,0), float4x4(-0.003653275547549,0.006593198515475,0.053470026701689,-0.010620853863657,0.165005072951317,0.052640013396740,-0.024004969745874,0.059091188013554,0.148760423064232,0.240752339363098,0.150213465094566,-0.086769759654999,0.033674370497465,-0.011304082348943,-0.004133972804993,-0.007843497209251));
res += mul(Get(s1,-dx,dy), float4x4(-0.018426606431603,0.082954116165638,-0.017622066661716,0.131175637245178,-0.074419111013412,-0.022727562114596,0.029069105163217,-0.053595256060362,0.104841254651546,0.025221286341548,0.034625720232725,0.057491391897202,0.057574220001698,-0.064613908529282,0.011841570958495,0.046684209257364));
res += mul(Get(s1,0,-dy), float4x4(0.021495144814253,0.156136319041252,0.015320826321840,-0.025884926319122,0.150641471147537,0.014779677614570,0.132158696651459,0.017349831759930,0.045522615313530,-0.050365824252367,0.125296786427498,-0.008486911654472,-0.090327344834805,-0.059253387153149,-0.103730745613575,0.101829856634140));
res += mul(Get(s1,0,0), float4x4(0.011941527947783,0.106664784252644,0.019472887739539,-0.068821601569653,0.291199892759323,-0.030999448150396,0.022662037983537,-0.002412937115878,-0.134929299354553,0.121072158217430,-0.110794737935066,0.021297939121723,-0.067430801689625,-0.017835842445493,-0.004826799500734,-0.011825464665890));
res += mul(Get(s1,0,dy), float4x4(0.055038813501596,0.117339894175529,-0.004713644739240,-0.005265867337584,0.155485257506371,-0.003215949283913,0.000392893824028,-0.059299904853106,-0.043832652270794,0.194063946604729,-0.005873775109649,0.182304933667183,0.030524719506502,0.034084908664227,0.061121091246605,0.040522277355194));
res += mul(Get(s1,dx,-dy), float4x4(0.051431089639664,-0.040128860622644,0.106255821883678,0.042054668068886,-0.031764484941959,-0.030440198257565,0.005920229014009,0.020006483420730,0.032493062317371,-0.051767285913229,0.105005480349064,-0.069761052727699,-0.192869141697884,0.016927355900407,-0.066003210842609,0.103877179324627));
res += mul(Get(s1,dx,0), float4x4(0.054420966655016,-0.028283869847655,0.044731151312590,-0.081445276737213,-0.020413335412741,-0.057482961565256,0.000942867714912,0.116372369229794,-0.064189292490482,-0.008173856884241,-0.010828031226993,-0.020669335499406,0.095422878861427,0.001826185383834,0.036161687225103,-0.168650195002556));
res += mul(Get(s1,dx,dy), float4x4(-0.049489557743073,0.003971799742430,-0.052832655608654,0.060245562344790,0.034785546362400,-0.018834693357348,0.088578768074512,0.059255566447973,-0.050035994499922,0.036034248769283,0.127889156341553,0.077100127935410,-0.008806210942566,0.052250530570745,-0.019214618951082,0.098204463720322));
res += mul(Get(s2,-dx,-dy), float4x4(0.033443540334702,0.048543807119131,-0.026185849681497,0.002832214348018,-0.037778913974762,0.124257080256939,-0.103228919208050,-0.096747219562531,0.293080389499664,0.072384506464005,0.002677513053641,-0.001713643316180,-0.011810783296824,0.011520379222929,-0.030490100383759,-0.102465845644474));
res += mul(Get(s2,-dx,0), float4x4(-0.007809858303517,-0.026824947446585,-0.047441326081753,0.113640218973160,0.029914611950517,0.003520292928442,-0.061974093317986,0.151106983423233,-0.008867215365171,0.049573246389627,-0.121679820120335,0.024001017212868,-0.060395408421755,0.099283926188946,0.164629876613617,-0.093655474483967));
res += mul(Get(s2,-dx,dy), float4x4(0.156911879777908,-0.112537749111652,-0.018503777682781,0.021282039582729,-0.145236477255821,-0.124796055257320,-0.072308495640755,-0.059538118541241,0.107381336390972,-0.042473889887333,-0.178662702441216,0.121087647974491,-0.099440485239029,0.041706629097462,0.089607603847980,-0.088790886104107));
res += mul(Get(s2,0,-dy), float4x4(-0.022328773513436,0.040211871266365,0.002668475033715,0.015900684520602,-0.043812699615955,-0.021761674433947,-0.060545958578587,-0.159645617008209,-0.035428158938885,-0.026294525712729,-0.097867369651794,0.057564675807953,0.017650749534369,0.022910961881280,0.044101748615503,0.073996059596539));
res += mul(Get(s2,0,0), float4x4(-0.065709985792637,0.062061026692390,-0.070361748337746,0.143016591668129,-0.007841208018363,-0.170398369431496,-0.064954593777657,-0.023249931633472,0.081102371215820,-0.048900760710239,-0.080839745700359,-0.085926607251167,-0.060106348246336,0.041314441710711,-0.168424621224403,0.028732743114233));
res += mul(Get(s2,0,dy), float4x4(0.078076869249344,0.044808890670538,-0.077310420572758,-0.121258161962032,-0.124632023274899,-0.045329138636589,0.046852383762598,0.054575920104980,-0.127605646848679,-0.020462200045586,-0.052609220147133,0.053238593041897,-0.166328102350235,-0.132995113730431,-0.035544455051422,0.076522812247276));
res += mul(Get(s2,dx,-dy), float4x4(0.052922241389751,0.023451343178749,-0.057632304728031,-0.021438805386424,-0.105347067117691,0.016719628125429,-0.110595263540745,-0.036967821419239,-0.013558285310864,0.014993843622506,0.011965581215918,0.077643387019634,-0.067839972674847,0.065717153251171,-0.041935000568628,0.112408198416233));
res += mul(Get(s2,dx,0), float4x4(-0.005492415279150,-0.021239655092359,-0.102990008890629,0.105307966470718,-0.056082114577293,-0.008690362796187,0.053686939179897,0.046168863773346,-0.084883071482182,0.018080551177263,0.036211736500263,0.010208308696747,-0.048517357558012,-0.026555694639683,-0.081184260547161,-0.042956009507179));
res += mul(Get(s2,dx,dy), float4x4(-0.023604324087501,0.010712072253227,-0.132258087396622,0.002750436775386,0.083062849938869,-0.012936474755406,0.002393668517470,-0.038906808942556,-0.059077072888613,0.079006463289261,-0.127035900950432,0.192328810691833,-0.102244712412357,-0.119970545172691,-0.119157455861568,0.033641189336777));
res += mul(Get(s3,-dx,-dy), float4x4(-0.018693335354328,-0.026118475943804,-0.035965256392956,0.100250042974949,-0.014888546429574,-0.038091123104095,0.049628835171461,-0.005800528917462,0.091968797147274,-0.084041975438595,0.068516381084919,0.338450551033020,-0.062958158552647,0.072136119008064,0.078207597136497,0.007707787211984));
res += mul(Get(s3,-dx,0), float4x4(-0.026135127991438,0.147746324539185,0.062468692660332,0.027024822309613,0.109171919524670,-0.040956493467093,0.032927621155977,0.017807587981224,0.070911712944508,-0.027321191504598,0.298585891723633,0.020641354843974,-0.077264495193958,-0.050556633621454,-0.008168123662472,0.048298031091690));
res += mul(Get(s3,-dx,dy), float4x4(0.094764061272144,0.021382570266724,0.037243273109198,-0.019076818600297,-0.031577348709106,-0.079882726073265,0.154807433485985,-0.099058054387569,-0.024314157664776,0.023890266194940,-0.066478252410889,0.138689443469048,0.017115442082286,-0.059964284300804,-0.017105048522353,0.034809656441212));
res += mul(Get(s3,0,-dy), float4x4(-0.029447356238961,0.102040447294712,-0.012482045218349,-0.047635529190302,-0.148055613040924,-0.013079954311252,0.094055742025375,-0.086594164371490,-0.053145151585340,-0.073835432529449,0.074817582964897,-0.001635230379179,0.050437014549971,0.162904515862465,-0.029098449274898,-0.082205869257450));
res += mul(Get(s3,0,0), float4x4(-0.134246766567230,0.119355201721191,0.028152406215668,0.132627844810486,-0.001968577038497,0.124689884483814,-0.059522416442633,0.000731921463739,-0.034772567451000,-0.045900709927082,-0.058879241347313,-0.048346798866987,-0.015496189706028,0.025978013873100,0.013961802236736,0.034276325255632));
res += mul(Get(s3,0,dy), float4x4(0.083256848156452,0.088051773607731,0.014763223007321,-0.013447165489197,0.038951326161623,0.174998834729195,0.044485371559858,0.028762485831976,-0.001217633020133,0.074351035058498,0.016448255628347,-0.009683254174888,0.198496520519257,-0.022221280261874,-0.026380753144622,-0.032060053199530));
res += mul(Get(s3,dx,-dy), float4x4(0.028482943773270,0.090452320873737,-0.091173797845840,-0.064618065953255,-0.078863590955734,0.084087535738945,-0.003125283168629,-0.051455754786730,-0.040522843599319,-0.035780895501375,0.093948520720005,0.029516523703933,-0.200090900063515,0.012546844780445,-0.050455767661333,0.073903083801270));
res += mul(Get(s3,dx,0), float4x4(-0.050457708537579,0.029522335156798,0.012281033210456,0.153242439031601,0.066699072718620,0.171074628829956,-0.130101695656776,0.056819837540388,0.051559753715992,-0.128657728433609,0.063348375260830,0.089965462684631,-0.002246752614155,-0.053884416818619,0.012945017777383,0.157779917120934));
res += mul(Get(s3,dx,dy), float4x4(0.087283350527287,0.069298274815083,0.007603941019624,-0.033657986670732,0.098447956144810,0.202184379100800,0.070589564740658,-0.163930237293243,0.126624405384064,-0.073204100131989,0.111045658588409,0.062939420342445,-0.050295878201723,-0.058619115501642,0.119658403098583,0.113787308335304));
return max(float4(0,0,0,0), res);
}
