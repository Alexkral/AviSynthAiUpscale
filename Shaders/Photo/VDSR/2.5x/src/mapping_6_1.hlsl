sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.019966673105955,0.066728204488754,-0.148658454418182,0.006322113797069,0.012856517918408,0.089905351400375,-0.068697519600391,-0.014989175833762,0.173689827322960,0.010704210028052,-0.054599091410637,-0.037226170301437,0.083614759147167,-0.036388628184795,0.007315020076931,0.180841356515884));
res += mul(Get(s0,-dx,0), float4x4(0.044068839401007,0.140677183866501,0.025250956416130,0.012496014125645,0.025876810774207,-0.227152973413467,-0.067994773387909,-0.204696014523506,0.009356677532196,0.105835288763046,-0.024422548711300,0.119854375720024,-0.056461222469807,0.026282493025064,0.140498697757721,0.017272546887398));
res += mul(Get(s0,-dx,dy), float4x4(-0.041555199772120,-0.011294132098556,-0.145762622356415,-0.090979963541031,0.157570064067841,0.034197807312012,0.033459533005953,-0.114145115017891,-0.248190999031067,0.029719350859523,0.034238159656525,0.119341090321541,0.006195087451488,0.046928472816944,0.077697291970253,0.091714657843113));
res += mul(Get(s0,0,-dy), float4x4(0.063587412238121,0.056622419506311,0.031314291059971,0.119490630924702,-0.151969119906425,-0.016908233985305,0.042819678783417,-0.011102474294603,-0.094875365495682,-0.014062027446926,-0.206143781542778,-0.105243220925331,0.226944789290428,-0.137092068791389,-0.115117534995079,0.078925035893917));
res += mul(Get(s0,0,0), float4x4(-0.006623988971114,0.216870903968811,0.163750678300858,0.002730025211349,0.140008389949799,0.044047500938177,-0.061856031417847,-0.039834696799517,0.210008502006531,0.081678964197636,-0.120303235948086,-0.173385083675385,0.094122253358364,-0.170933485031128,0.107376590371132,0.096340708434582));
res += mul(Get(s0,0,dy), float4x4(0.062451805919409,-0.204680815339088,0.039917293936014,0.010240802541375,0.011008873581886,-0.048855267465115,-0.045464761555195,-0.092416539788246,0.015128334052861,0.064080059528351,0.016449924558401,-0.043471641838551,0.069631658494473,0.054789926856756,-0.000016222149497,-0.050978649407625));
res += mul(Get(s0,dx,-dy), float4x4(0.006547253113240,0.239047020673752,-0.019147884100676,0.059572782367468,0.039029356092215,-0.138902723789215,0.100296877324581,0.025041114538908,-0.083394259214401,0.044754207134247,-0.091695122420788,-0.137868002057076,0.194015055894852,-0.081268593668938,-0.147530019283295,0.024815624579787));
res += mul(Get(s0,dx,0), float4x4(-0.129845470190048,0.023259801790118,0.094161562621593,-0.139650344848633,0.136612623929977,-0.008845467120409,0.179483339190483,0.012492482550442,-0.045918900519609,0.186762794852257,0.010766093619168,-0.036200325936079,0.110097587108612,-0.131623566150665,-0.051281895488501,-0.017895394936204));
res += mul(Get(s0,dx,dy), float4x4(0.174747571349144,0.130686044692993,0.109212882816792,0.060693725943565,-0.165485590696335,0.185827344655991,0.166342213749886,-0.053505081683397,-0.116074137389660,0.005082045216113,0.065769046545029,0.144503593444824,0.030508711934090,0.076120786368847,-0.121819354593754,-0.148963779211044));
res += mul(Get(s1,-dx,-dy), float4x4(0.024224296212196,0.018598552793264,-0.201019287109375,0.028771616518497,-0.093795724213123,-0.087584115564823,-0.091594330966473,-0.042299132794142,0.174976199865341,0.044200275093317,0.096588484942913,-0.210929393768311,-0.139223188161850,-0.142961978912354,-0.002502556191757,-0.053016901016235));
res += mul(Get(s1,-dx,0), float4x4(-0.159787923097610,-0.036650355905294,-0.001357767032459,0.090905681252480,0.012726929970086,0.092756256461143,-0.025985175743699,0.123251236975193,0.096957214176655,0.022654125466943,0.003177048405632,-0.003258019452915,-0.058463577181101,0.078823648393154,0.138006359338760,-0.179547473788261));
res += mul(Get(s1,-dx,dy), float4x4(-0.082686223089695,0.051788959652185,0.004033283796161,0.108311355113983,0.161327674984932,0.025157622992992,-0.102098032832146,0.035746533423662,0.151565849781036,0.149896934628487,0.071465700864792,-0.067666389048100,-0.018498977646232,0.043851032853127,0.056865058839321,-0.041617952287197));
res += mul(Get(s1,0,-dy), float4x4(0.060363393276930,-0.070109948515892,0.104338221251965,-0.149455308914185,0.076982170343399,0.117222689092159,-0.009684949181974,-0.036491055041552,-0.016338683664799,-0.067539878189564,0.074214510619640,-0.120148479938507,0.038809072226286,0.047351773828268,0.214833959937096,0.207180663943291));
res += mul(Get(s1,0,0), float4x4(0.065206632018089,-0.084699593484402,0.102728426456451,-0.043843064457178,0.213561058044434,-0.253958195447922,0.109042882919312,0.055874388664961,-0.190002068877220,0.138785302639008,0.037715703248978,-0.072579666972160,0.038829222321510,0.115610085427761,-0.066410750150681,-0.014228016138077));
res += mul(Get(s1,0,dy), float4x4(-0.046577882021666,-0.100659079849720,0.097090974450111,0.057224944233894,0.143821209669113,-0.079463981091976,-0.048168692737818,-0.050200063735247,0.050613142549992,-0.077251628041267,0.116601869463921,-0.047791693359613,0.026471493765712,-0.012667138129473,-0.056268438696861,0.054402045905590));
res += mul(Get(s1,dx,-dy), float4x4(0.017160285264254,-0.089726313948631,0.020507503300905,0.026183351874352,0.018301786854863,0.189084202051163,-0.260573655366898,0.099746428430080,0.047250326722860,0.068601228296757,-0.015827087685466,-0.146678954362869,0.133586749434471,-0.069287024438381,0.141765072941780,0.049384374171495));
res += mul(Get(s1,dx,0), float4x4(-0.001192590105347,0.030561335384846,-0.063369087874889,0.010996592231095,0.017014840617776,0.046408928930759,-0.031822256743908,0.061181183904409,-0.111346356570721,-0.120683275163174,0.073027588427067,0.009010457433760,0.094228312373161,0.026356706395745,-0.051664985716343,0.037664882838726));
res += mul(Get(s1,dx,dy), float4x4(-0.097443453967571,-0.065519511699677,0.018267272040248,0.001740946201608,0.006151166744530,-0.165893256664276,0.020043915137649,0.130768835544586,-0.028053138405085,0.080316461622715,-0.064005978405476,0.111649766564369,-0.114918656647205,0.142014846205711,0.016275772824883,0.020786590874195));
res += mul(Get(s2,-dx,-dy), float4x4(0.151468276977539,-0.012948149815202,-0.053598918020725,-0.000125703256344,-0.051060464233160,-0.042804658412933,-0.087503232061863,0.111957035958767,0.049498096108437,-0.025062378495932,0.038027826696634,-0.017780236899853,-0.026298575103283,0.076990589499474,-0.009470896795392,-0.107773482799530));
res += mul(Get(s2,-dx,0), float4x4(0.014469866640866,-0.014028178527951,-0.063186652958393,0.104491546750069,0.149148330092430,0.067415170371532,0.108350820839405,0.008898739703000,-0.052684336900711,-0.048758685588837,-0.216768682003021,-0.076968722045422,0.023755006492138,-0.029407272115350,0.364925235509872,0.067325070500374));
res += mul(Get(s2,-dx,dy), float4x4(-0.133680492639542,-0.139241561293602,0.082813024520874,-0.047215893864632,0.035284504294395,0.204980269074440,-0.042306963354349,-0.040730159729719,-0.048970133066177,-0.061131715774536,-0.040669444948435,0.037123225629330,-0.109506823122501,0.071908265352249,0.080995909869671,0.038458392024040));
res += mul(Get(s2,0,-dy), float4x4(-0.097698703408241,0.200899705290794,0.115601994097233,-0.163072660565376,-0.096350692212582,0.071838371455669,-0.121672064065933,-0.220729708671570,-0.040758959949017,0.016634643077850,0.088002920150757,0.147722572088242,0.096234790980816,-0.032616112381220,0.092890545725822,0.092989467084408));
res += mul(Get(s2,0,0), float4x4(-0.105732493102551,0.085350073873997,-0.010611993260682,-0.024809531867504,0.083657294511795,-0.027487363666296,0.002883974695578,0.142177015542984,0.039824768900871,0.016043474897742,0.028221033513546,-0.068614304065704,-0.021624052897096,-0.012643421068788,-0.004066916182637,0.083381548523903));
res += mul(Get(s2,0,dy), float4x4(-0.087629243731499,0.065011724829674,0.145706981420517,-0.089200429618359,0.063397988677025,0.000559704436455,-0.103200137615204,-0.044465336948633,0.014163250103593,-0.017778767272830,0.002439356874675,0.209719926118851,-0.086966156959534,-0.269053608179092,-0.199690297245979,0.004939042963088));
res += mul(Get(s2,dx,-dy), float4x4(0.124663881957531,0.124468646943569,-0.069168075919151,0.121513336896896,-0.162049531936646,0.043155297636986,-0.192028194665909,0.045779954642057,0.086298361420631,-0.053522415459156,-0.098665453493595,0.122858285903931,0.237405970692635,0.083540409803391,-0.162490695714951,0.027475111186504));
res += mul(Get(s2,dx,0), float4x4(0.013614708557725,0.017090722918510,0.077658414840698,0.118932478129864,-0.147237285971642,-0.031297124922276,-0.036444950848818,-0.005006211809814,-0.006194016896188,-0.048666205257177,0.136577844619751,0.138330817222595,-0.093039773404598,-0.239900171756744,-0.112805813550949,0.051100656390190));
res += mul(Get(s2,dx,dy), float4x4(0.151641547679901,-0.016185594722629,-0.098111785948277,0.050114154815674,0.012586578726768,-0.160953894257545,-0.181538894772530,0.046493478119373,0.058090258389711,-0.001205821055919,0.057376801967621,0.179153770208359,-0.205668777227402,-0.170300915837288,-0.007567086722702,-0.072852537035942));
res += mul(Get(s3,-dx,-dy), float4x4(-0.039687711745501,0.121765658259392,-0.050189111381769,0.081500172615051,0.149907901883125,0.040103204548359,-0.049006510525942,-0.098344057798386,-0.008270518854260,-0.107300385832787,0.099596776068211,0.032607268542051,-0.189504206180573,0.043696995824575,0.003460448933765,0.084285311400890));
res += mul(Get(s3,-dx,0), float4x4(-0.085801728069782,0.160575762391090,0.047876801341772,-0.008613945916295,0.001915611093864,0.116636045277119,-0.119226947426796,0.086843669414520,0.108059346675873,0.282731205224991,0.290894091129303,0.068673744797707,0.043490763753653,-0.085404694080353,0.028858589008451,0.003368181176484));
res += mul(Get(s3,-dx,dy), float4x4(0.202823206782341,0.171419069170952,0.090318992733955,0.010720001533628,-0.075399957597256,0.021917382255197,-0.087288640439510,-0.074855729937553,0.084002725780010,-0.032499335706234,0.018173687160015,0.020981131121516,0.057835038751364,0.129897937178612,-0.002967878011987,-0.034810349345207));
res += mul(Get(s3,0,-dy), float4x4(0.067697033286095,-0.127892032265663,-0.023053480312228,0.096395030617714,0.047130461782217,0.059251055121422,0.003926319070160,0.211407840251923,0.073204837739468,0.035804942250252,0.028989437967539,-0.220322921872139,-0.029270656406879,-0.175226181745529,-0.059539414942265,-0.197434082627296));
res += mul(Get(s3,0,0), float4x4(0.053990252315998,-0.071597680449486,-0.140053346753120,0.044944133609533,0.048685733228922,-0.027239913120866,0.018266435712576,0.185774907469749,-0.159198477864265,-0.261957466602325,0.093761794269085,-0.036933522671461,0.062777973711491,0.027830349281430,0.011492202989757,0.077174924314022));
res += mul(Get(s3,0,dy), float4x4(-0.043406039476395,-0.011636972427368,0.014601792208850,0.093221060931683,0.084188841283321,0.097651749849319,0.098390132188797,0.215477138757706,-0.027547972276807,0.239342689514160,-0.058040667325258,0.076461806893349,0.027836805209517,0.049468886107206,0.031520087271929,-0.084822244942188));
res += mul(Get(s3,dx,-dy), float4x4(0.022245056927204,-0.001537104835734,0.028533060103655,-0.062817014753819,0.070461802184582,0.045126162469387,-0.099969610571861,-0.061054039746523,0.035088822245598,-0.262262642383575,-0.004963889252394,0.082703173160553,-0.061659011989832,0.008320716209710,-0.041998028755188,-0.292364656925201));
res += mul(Get(s3,dx,0), float4x4(-0.177928611636162,-0.002524517010897,-0.156831279397011,-0.064261421561241,-0.075174182653427,0.150101691484451,0.050397213548422,-0.045301020145416,-0.024840490892529,-0.150228410959244,-0.014799335040152,0.264250427484512,0.008743484504521,-0.160093307495117,0.166337490081787,0.107687726616859));
res += mul(Get(s3,dx,dy), float4x4(-0.064436227083206,0.081003479659557,0.131142854690552,-0.052700307220221,0.147256359457970,0.144895479083061,0.032406523823738,-0.121363982558250,0.050565619021654,-0.050083439797163,-0.037770591676235,0.011538391001523,-0.115857906639576,0.064530380070210,0.284661620855331,-0.026664214208722));
return max(float4(0,0,0,0), res);
}
