sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.047417737543583,-0.061285432428122,0.104187175631523,-0.008426561951637,-0.182838633656502,0.064454749226570,0.046680010855198,0.152478292584419,0.135078817605972,-0.073470532894135,-0.007305213715881,-0.230361595749855,-0.080091245472431,-0.042496982961893,-0.000510122685228,0.003866793587804));
res += mul(Get(s0,-dx,0), float4x4(0.036493733525276,0.075770996510983,0.078241795301437,-0.071709834039211,-0.013564094901085,0.085122302174568,0.020740717649460,-0.119690164923668,0.068205550312996,0.038987748324871,0.032863840460777,-0.023793654516339,0.127646669745445,-0.167767032980919,0.128841713070869,0.037636790424585));
res += mul(Get(s0,-dx,dy), float4x4(-0.000173211999936,-0.112076379358768,-0.066331408917904,-0.008079643361270,0.090136185288429,0.046648945659399,0.054245293140411,-0.007780285552144,-0.092971101403236,0.015130273066461,-0.016123156994581,-0.143528029322624,0.083676367998123,-0.085804887115955,-0.084241844713688,-0.032664533704519));
res += mul(Get(s0,0,-dy), float4x4(-0.076155692338943,-0.137814983725548,-0.011018287390471,-0.233997628092766,-0.024414457380772,-0.020251670852304,-0.006045927759260,0.113857164978981,0.016381554305553,0.074292555451393,0.081517778337002,-0.101863242685795,0.144437178969383,-0.104584001004696,0.125763446092606,0.076915241777897));
res += mul(Get(s0,0,0), float4x4(0.122685641050339,-0.083651930093765,0.219132170081139,0.099595546722412,0.046509940177202,0.056042768061161,-0.107294656336308,-0.003252626629546,-0.172061249613762,-0.128720715641975,0.058573551476002,0.060207739472389,0.036280848085880,-0.038412865251303,0.102319575846195,-0.098372295498848));
res += mul(Get(s0,0,dy), float4x4(0.109127260744572,-0.035270743072033,0.019680580124259,0.017446611076593,0.003921298310161,0.266022384166718,0.032163370400667,0.068802118301392,-0.049762696027756,0.067149862647057,-0.037229470908642,0.098298393189907,0.074891097843647,0.017440173774958,0.072295889258385,0.028394764289260));
res += mul(Get(s0,dx,-dy), float4x4(-0.086447894573212,-0.209333747625351,-0.012406411580741,0.035804815590382,0.069793961942196,0.210933744907379,-0.166895866394043,-0.173890948295593,-0.117324858903885,0.014302835799754,-0.206253036856651,-0.023891203105450,-0.055263001471758,0.088642887771130,-0.014614990912378,-0.090108364820480));
res += mul(Get(s0,dx,0), float4x4(-0.083046220242977,-0.173216655850410,-0.019514318555593,0.042017154395580,-0.056004531681538,-0.006283076480031,-0.069052696228027,0.034670114517212,-0.035617109388113,0.034351643174887,0.110046319663525,-0.058834686875343,0.033803801983595,-0.115329176187515,0.153555989265442,-0.013216518796980));
res += mul(Get(s0,dx,dy), float4x4(0.116979673504829,-0.014533913694322,0.070724137127399,0.013937581330538,0.164003103971481,0.150883004069328,0.105435907840729,0.114924050867558,-0.037325523793697,-0.109724551439285,-0.060033611953259,0.174503609538078,-0.066574603319168,0.030923943966627,0.059207942336798,0.079880684614182));
res += mul(Get(s1,-dx,-dy), float4x4(0.025863707065582,0.115508519113064,0.056527018547058,0.207120090723038,-0.056840591132641,0.057965703308582,-0.053896795958281,0.094657838344574,-0.306303352117538,-0.110220752656460,0.092396482825279,-0.111336335539818,-0.068252258002758,-0.173556491732597,-0.068788826465607,-0.008513824082911));
res += mul(Get(s1,-dx,0), float4x4(0.143962904810905,0.101879730820656,0.272830545902252,-0.049712866544724,0.023796714842319,-0.262707740068436,0.138832286000252,-0.164612561464310,0.018152719363570,0.076157800853252,0.029724881052971,-0.023289265111089,0.252804040908813,-0.017082676291466,-0.136230424046516,-0.030399551615119));
res += mul(Get(s1,-dx,dy), float4x4(-0.148091703653336,-0.170573845505714,0.046389564871788,0.061837825924158,-0.036944940686226,-0.064744830131531,-0.037508707493544,-0.062904007732868,0.044611081480980,0.031807605177164,-0.132220968604088,-0.150949969887733,0.020594883710146,-0.021455343812704,0.110109478235245,0.072359800338745));
res += mul(Get(s1,0,-dy), float4x4(-0.023518042638898,0.077785052359104,0.121197231113911,-0.052081402391195,-0.097932107746601,-0.039252866059542,0.113694317638874,-0.051911547780037,0.008827595971525,0.055214013904333,-0.091197893023491,0.081359401345253,-0.094727329909801,-0.088720001280308,0.132726669311523,0.187984079122543));
res += mul(Get(s1,0,0), float4x4(-0.142613917589188,-0.018660556524992,-0.019745910540223,0.009064890444279,-0.217667251825333,-0.122044339776039,0.110496237874031,-0.026620306074619,-0.045447405427694,-0.119097433984280,0.128895759582520,-0.012790504842997,-0.080716207623482,0.068001016974449,-0.123162224888802,0.095034599304199));
res += mul(Get(s1,0,dy), float4x4(0.027574077248573,0.148111760616302,0.171398133039474,0.300951302051544,0.078741811215878,-0.238252177834511,0.048352248966694,0.018717085942626,0.085517488420010,-0.030339116230607,0.043890804052353,0.099299728870392,0.021111769601703,-0.110837720334530,0.057262752205133,0.005997306667268));
res += mul(Get(s1,dx,-dy), float4x4(0.136079013347626,0.098622590303421,-0.012181022204459,0.017725655809045,-0.007091007661074,0.091724373400211,0.023094931617379,-0.061171412467957,0.109174698591232,-0.056941911578178,0.087918557226658,-0.100411556661129,-0.065980829298496,-0.026354014873505,-0.088041357696056,-0.080737240612507));
res += mul(Get(s1,dx,0), float4x4(0.155473992228508,-0.038182616233826,-0.118413895368576,-0.063364759087563,0.115118309855461,-0.065696142613888,-0.132046818733215,0.053343355655670,0.175822228193283,-0.108395889401436,-0.203421026468277,0.089154683053493,0.003574359696358,0.056036651134491,0.009885529987514,0.009935426525772));
res += mul(Get(s1,dx,dy), float4x4(-0.107240758836269,0.028159523382783,-0.008093610405922,0.102931670844555,0.057193245738745,0.124129496514797,-0.058963861316442,0.057403180748224,0.133990094065666,-0.051153030246496,-0.069840468466282,-0.022887449711561,0.082055941224098,0.022713245823979,0.044497840106487,-0.104173347353935));
res += mul(Get(s2,-dx,-dy), float4x4(0.120921976864338,-0.254777789115906,0.189026072621346,-0.008270034566522,-0.034280151128769,0.065041117370129,0.011573427356780,0.125261098146439,-0.113247402012348,0.027025593444705,0.003845911938697,-0.054842874407768,0.048034802079201,0.188583195209503,0.021282033994794,-0.158331245183945));
res += mul(Get(s2,-dx,0), float4x4(-0.037048701196909,-0.081738613545895,-0.039231389760971,0.107250057160854,0.102646388113499,-0.013671330176294,-0.258577108383179,-0.095568664371967,-0.072791554033756,-0.060185998678207,-0.166004717350006,-0.010191324166954,-0.040270764380693,-0.017231123521924,-0.049886595457792,0.052158661186695));
res += mul(Get(s2,-dx,dy), float4x4(0.007479443680495,-0.043307151645422,-0.084219552576542,-0.005151822697371,0.006021233741194,-0.194101035594940,-0.097940370440483,0.027001999318600,-0.146224692463875,-0.131303369998932,-0.197356119751930,0.091400496661663,0.172991365194321,-0.132681459188461,-0.119167953729630,-0.062785372138023));
res += mul(Get(s2,0,-dy), float4x4(-0.067451536655426,-0.061077166348696,0.166619434952736,0.101461142301559,0.072142004966736,-0.159705102443695,-0.060851145535707,-0.114966116845608,-0.099518992006779,-0.060148771852255,0.008994177915156,-0.137494042515755,0.096911974251270,-0.167438745498657,0.265972405672073,-0.153306901454926));
res += mul(Get(s2,0,0), float4x4(-0.058932356536388,-0.143731370568275,0.138806715607643,-0.067022316157818,-0.073804847896099,-0.079361706972122,0.078937821090221,-0.115630425512791,0.040516722947359,-0.073002986609936,0.190119668841362,-0.077862247824669,-0.231393560767174,-0.013389470987022,0.092099733650684,0.017072785645723));
res += mul(Get(s2,0,dy), float4x4(0.088568449020386,-0.005499491933733,0.035326115787029,0.048821989446878,0.030107839033008,-0.045571051537991,0.022304913029075,-0.079264052212238,-0.021978195756674,0.074735105037689,0.090446278452873,0.111194528639317,-0.002237184671685,-0.077497377991676,-0.061954636126757,0.068332314491272));
res += mul(Get(s2,dx,-dy), float4x4(0.007762946188450,-0.021614179015160,0.218755826354027,0.030013205483556,0.052173908799887,0.058084864169359,0.073716118931770,0.059055052697659,0.047154814004898,0.023258835077286,0.107778511941433,0.175147727131844,0.046653967350721,-0.159114226698875,-0.074470989406109,-0.080470539629459));
res += mul(Get(s2,dx,0), float4x4(-0.059693533927202,0.132956758141518,0.023841857910156,-0.157284557819366,-0.015973620116711,-0.090201102197170,0.055684763938189,-0.007895338349044,0.093238420784473,0.058067753911018,0.199384033679962,-0.092038139700890,0.070089697837830,-0.064988143742085,0.049617324024439,-0.125479727983475));
res += mul(Get(s2,dx,dy), float4x4(-0.049729675054550,0.007841397076845,0.046467773616314,-0.055112611502409,0.005511707160622,-0.067413225769997,0.023894608020782,0.044356703758240,0.038438625633717,-0.049212582409382,-0.036020245403051,0.047419361770153,0.141718804836273,-0.197570741176605,-0.041131358593702,-0.155669167637825));
res += mul(Get(s3,-dx,-dy), float4x4(0.006844135932624,0.063513211905956,0.099221594631672,-0.134811758995056,0.064712487161160,0.012662056833506,0.228156208992004,0.024966303259134,-0.143442988395691,-0.104612514376640,-0.090354010462761,0.142335489392281,-0.032384611666203,0.015555106103420,0.035111211240292,-0.163555100560188));
res += mul(Get(s3,-dx,0), float4x4(0.041958685964346,0.195033743977547,0.038281403481960,0.044127725064754,0.010069678537548,-0.061972644180059,0.171298772096634,-0.015675731003284,-0.132362425327301,0.005033760797232,0.136492565274239,0.040249656885862,0.120032928884029,0.004835839383304,0.236276641488075,0.143900439143181));
res += mul(Get(s3,-dx,dy), float4x4(0.050115142017603,0.066015303134918,-0.156190574169159,0.043197587132454,0.050524573773146,0.088058337569237,0.055427420884371,0.004524219315499,-0.083255946636200,0.104765415191650,0.032221004366875,-0.157851442694664,-0.005735251121223,-0.066577918827534,-0.031346909701824,0.087203368544579));
res += mul(Get(s3,0,-dy), float4x4(0.030189365148544,-0.035267349332571,0.027098232880235,-0.080937221646309,0.015305097214878,-0.192662686109543,0.024179715663195,-0.103536859154701,-0.094765134155750,0.089564055204391,-0.087488479912281,-0.059196438640356,0.113321922719479,-0.139034986495972,0.072313807904720,0.050833433866501));
res += mul(Get(s3,0,0), float4x4(0.204848125576973,0.144853785634041,-0.147516563534737,0.096188463270664,0.164304360747337,0.201863080263138,0.194996133446693,0.185294672846794,-0.027114246040583,0.220959380269051,-0.051786679774523,-0.011067749001086,0.254116386175156,-0.047877322882414,0.004830453079194,0.178851127624512));
res += mul(Get(s3,0,dy), float4x4(-0.197614267468452,0.032352626323700,0.057216655462980,-0.101679973304272,-0.023753987625241,0.086933851242065,0.082727700471878,-0.068512804806232,-0.150036871433258,-0.037600785493851,0.159767374396324,0.077054373919964,0.144065275788307,0.230553984642029,0.053879193961620,0.217494145035744));
res += mul(Get(s3,dx,-dy), float4x4(0.099790349602699,-0.237281277775764,0.071313150227070,0.161185309290886,0.136626720428467,-0.041058324277401,0.111715994775295,0.096070297062397,-0.027744514867663,-0.025058398023248,-0.029995879158378,0.076459877192974,-0.047482173889875,-0.099198997020721,-0.157778710126877,-0.081846274435520));
res += mul(Get(s3,dx,0), float4x4(0.120955102145672,-0.015701491385698,0.030068248510361,-0.224750697612762,-0.107263036072254,0.003350862069055,0.099875316023827,0.161755859851837,-0.031404897570610,-0.294544160366058,-0.083981782197952,0.081734135746956,0.096744991838932,0.000208172816201,0.037512637674809,0.006525218486786));
res += mul(Get(s3,dx,dy), float4x4(-0.076351113617420,0.008561474271119,-0.083300158381462,-0.026904689148068,-0.015509125776589,-0.125673279166222,0.030540395528078,-0.052394535392523,-0.034725461155176,-0.036573421210051,0.141825348138809,-0.141895174980164,0.225198119878769,-0.123748503625393,0.085550159215927,0.045385066419840));
return max(float4(0,0,0,0), res);
}
