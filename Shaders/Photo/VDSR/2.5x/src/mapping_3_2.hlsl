sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.142262682318687,0.134373605251312,0.100757487118244,-0.085347883403301,-0.163678720593452,-0.141126349568367,0.011163230054080,0.140512853860855,0.022067554295063,0.033235132694244,-0.051128629595041,-0.012459483928978,0.033423993736506,-0.100072704255581,0.145502135157585,-0.057026877999306));
res += mul(Get(s0,-dx,0), float4x4(0.065908044576645,0.029639441519976,-0.108267709612846,0.018114674836397,-0.099514864385128,0.029954047873616,-0.012185873463750,0.018943523988128,-0.000024972890969,-0.036485835909843,-0.027386050671339,0.002970610046759,-0.017622848972678,0.009051849134266,0.005580033175647,-0.093333519995213));
res += mul(Get(s0,-dx,dy), float4x4(-0.032121211290359,-0.036046069115400,-0.029859382659197,0.006887110881507,-0.020031077787280,-0.087937854230404,-0.112873859703541,0.083632081747055,-0.102029018104076,0.031050423160195,0.059848856180906,0.000018832512069,0.048651326447725,0.125612512230873,-0.129794418811798,-0.077366821467876));
res += mul(Get(s0,0,-dy), float4x4(-0.091673597693443,0.057735621929169,0.147994011640549,-0.015940997749567,0.037167947739363,-0.108006015419960,0.103251591324806,0.081494972109795,0.038709469139576,0.225998640060425,-0.046841185539961,-0.083127200603485,-0.002810285892338,-0.100565761327744,0.169611170887947,-0.032495196908712));
res += mul(Get(s0,0,0), float4x4(0.172546282410622,0.115203641355038,-0.032798379659653,0.154252111911774,-0.008642854169011,0.092942215502262,0.083476498723030,0.099511474370956,0.053455755114555,0.161583855748177,-0.115727104246616,0.040849424898624,-0.063532911241055,-0.093476988375187,-0.170340746641159,0.001912774634548));
res += mul(Get(s0,0,dy), float4x4(-0.024542249739170,0.042278777807951,-0.170154079794884,0.108469739556313,0.167454242706299,0.015941010788083,0.181278780102730,0.163879647850990,0.002283625071868,0.051656868308783,0.005123298149556,0.082955874502659,-0.090719528496265,-0.059210084378719,-0.145243406295776,-0.005173223558813));
res += mul(Get(s0,dx,-dy), float4x4(-0.065805070102215,-0.099966377019882,0.161766260862350,-0.083601668477058,-0.014159974642098,0.018937202170491,0.044339943677187,0.005431425757706,-0.005493843462318,0.088704898953438,-0.050772100687027,-0.011167369782925,-0.063977137207985,-0.017346847802401,0.274139493703842,-0.036596663296223));
res += mul(Get(s0,dx,0), float4x4(0.079156912863255,-0.035887878388166,0.061079204082489,0.022466644644737,-0.091696150600910,0.017255438491702,-0.042333599179983,0.100477129220963,0.151864260435104,-0.085891209542751,-0.168075576424599,0.061212673783302,-0.001634767162614,0.129604160785675,-0.044134821742773,-0.125543728470802));
res += mul(Get(s0,dx,dy), float4x4(0.123406209051609,-0.067007668316364,-0.000863953784574,0.153270483016968,0.065639793872833,-0.020881326869130,0.070637658238411,0.210457026958466,-0.122943967580795,0.108468428254128,-0.197915509343147,-0.062431231141090,-0.177464053034782,0.017358880490065,0.001611140673049,-0.137629687786102));
res += mul(Get(s1,-dx,-dy), float4x4(-0.045256394892931,-0.002719847019762,-0.044240608811378,0.038116130977869,-0.040473937988281,-0.119048431515694,-0.025729890912771,-0.081530392169952,0.054240662604570,0.009020064957440,-0.137463673949242,-0.040166031569242,0.019000289961696,0.157505586743355,0.048357255756855,-0.105532065033913));
res += mul(Get(s1,-dx,0), float4x4(0.015295059420168,-0.047861538827419,0.102805808186531,0.066630668938160,0.035465057939291,-0.204576179385185,-0.022727612406015,-0.021007951349020,0.118642009794712,0.128025621175766,-0.014017995446920,-0.093812845647335,-0.080821573734283,-0.128540277481079,0.017368391156197,-0.019890993833542));
res += mul(Get(s1,-dx,dy), float4x4(0.024255288764834,0.131032943725586,-0.045662060379982,0.087137460708618,-0.117125660181046,-0.022673560306430,-0.043102491647005,-0.155777469277382,-0.012079158797860,0.116220317780972,-0.132624655961990,0.087481230497360,-0.050999969244003,-0.051298938691616,-0.060896407812834,-0.025892142206430));
res += mul(Get(s1,0,-dy), float4x4(-0.037742674350739,0.115776516497135,-0.072242371737957,-0.031474355608225,0.177655220031738,-0.217933312058449,0.019083013758063,-0.151578247547150,0.010445748455822,0.004431227222085,-0.112520374357700,-0.044827174395323,0.056191399693489,0.095362931489944,-0.013423156924546,-0.108390420675278));
res += mul(Get(s1,0,0), float4x4(0.061507992446423,0.025244869291782,0.134706303477287,-0.082186102867126,0.101209037005901,-0.246397510170937,0.264115214347839,-0.134674608707428,0.010405842214823,-0.198566973209381,0.147860243916512,-0.043717391788960,-0.065918363630772,-0.196595966815948,0.143033772706985,-0.003559477161616));
res += mul(Get(s1,0,dy), float4x4(-0.080456495285034,0.089104749262333,-0.044454731047153,-0.072739832103252,-0.101312346756458,-0.171696141362190,-0.162670686841011,-0.010535640642047,0.023848615586758,0.095777943730354,-0.148427158594131,0.008840804919600,-0.006612571422011,-0.096904478967190,0.075994640588760,-0.003758361097425));
res += mul(Get(s1,dx,-dy), float4x4(0.005791708361357,0.149481028318405,-0.006060684565455,0.021279148757458,-0.077270716428757,-0.058048766106367,0.046329312026501,-0.052627369761467,-0.027264995500445,0.004864631686360,-0.026170311495662,-0.062586762011051,0.072898760437965,0.037349868565798,-0.025848690420389,-0.068583495914936));
res += mul(Get(s1,dx,0), float4x4(0.104782782495022,0.069836869835854,0.043786801397800,-0.122145347297192,0.034660499542952,-0.100554585456848,0.087931558489799,0.053893126547337,-0.116231732070446,-0.050387538969517,0.011943045072258,-0.154366776347160,0.130269065499306,-0.026899613440037,0.084009163081646,0.199518546462059));
res += mul(Get(s1,dx,dy), float4x4(-0.051329843699932,0.062502309679985,-0.055289912968874,-0.067355379462242,0.035246174782515,-0.099069036543369,-0.031005308032036,0.119324855506420,-0.027208559215069,0.078865617513657,-0.207385584712029,-0.083201549947262,0.175448805093765,-0.098514497280121,0.089775510132313,0.104202091693878));
res += mul(Get(s2,-dx,-dy), float4x4(-0.214814215898514,-0.043235715478659,-0.062010172754526,-0.019408252090216,0.100733660161495,-0.031902708113194,0.063496440649033,-0.125972688198090,-0.134550377726555,0.101350076496601,0.218395024538040,-0.193664073944092,0.038401793688536,-0.028332762420177,0.107570059597492,0.025482339784503));
res += mul(Get(s2,-dx,0), float4x4(-0.116836048662663,0.064646840095520,0.023834640160203,0.029354320839047,0.085055716335773,-0.077620357275009,-0.006506154313684,-0.063864365220070,0.064141139388084,-0.104013383388519,0.059445034712553,-0.084716513752937,0.018549885600805,0.095037877559662,-0.192151844501495,-0.098643049597740));
res += mul(Get(s2,-dx,dy), float4x4(-0.124175921082497,0.035005331039429,-0.158044084906578,0.075463764369488,0.160580083727837,-0.112891100347042,-0.064280889928341,0.010598815046251,-0.050320003181696,-0.008239239454269,-0.014351347461343,-0.040799345821142,-0.064248912036419,-0.213972181081772,-0.328588694334030,0.118407137691975));
res += mul(Get(s2,0,-dy), float4x4(0.138657018542290,0.120243579149246,0.042179357260466,0.048997715115547,-0.074443735182285,0.007098155561835,-0.012296222150326,-0.112390652298927,-0.047511611133814,0.179914578795433,0.019453754648566,0.056359324604273,-0.158780366182327,0.073194421827793,0.216452151536942,0.015314660966396));
res += mul(Get(s2,0,0), float4x4(0.061257358640432,0.007074184250087,0.181502163410187,-0.021728783845901,-0.086214914917946,-0.073863580822945,-0.046706821769476,-0.007432806305587,-0.061054710298777,-0.045057136565447,0.122948013246059,-0.158328592777252,-0.141706258058548,0.306744009256363,0.039955109357834,-0.091769598424435));
res += mul(Get(s2,0,dy), float4x4(0.041747778654099,-0.016746826469898,-0.033575858920813,0.048920489847660,-0.008101019077003,-0.122430458664894,0.041474148631096,-0.005959325004369,-0.126504778862000,0.000466119672637,-0.008114542812109,-0.160940289497375,0.302312493324280,-0.078191570937634,-0.175392672419548,0.039795182645321));
res += mul(Get(s2,dx,-dy), float4x4(0.125457763671875,0.039980683475733,0.102292053401470,0.017650974914432,-0.039906758815050,0.062547706067562,-0.059075184166431,0.085485354065895,0.016511913388968,0.069489799439907,0.027596462517977,0.097703732550144,-0.090230025351048,-0.089660115540028,-0.093736045062542,-0.027310725301504));
res += mul(Get(s2,dx,0), float4x4(-0.085343942046165,0.017536899074912,0.099616408348083,-0.051216553896666,0.056349657475948,-0.095670379698277,0.008086188696325,0.066318929195404,0.185345590114594,0.092996872961521,0.000445377227152,0.012956766411662,0.027122328057885,-0.112148806452751,0.053366012871265,-0.073972232639790));
res += mul(Get(s2,dx,dy), float4x4(0.001195507938974,0.125222623348236,0.030465831980109,0.046128548681736,-0.012514203786850,-0.206568613648415,0.053808625787497,-0.046840161085129,0.180258542299271,-0.006494468078017,0.010044530034065,-0.108679056167603,-0.075614415109158,-0.079369820654392,0.145348250865936,-0.021392064169049));
res += mul(Get(s3,-dx,-dy), float4x4(0.075978256762028,-0.144462034106255,0.005769592709839,0.058310959488153,0.001959457527846,-0.010627565905452,0.082306474447250,-0.106797643005848,-0.058945864439011,-0.059921294450760,-0.087501809000969,0.033802326768637,-0.083667039871216,-0.017295947298408,-0.187057986855507,0.052251573652029));
res += mul(Get(s3,-dx,0), float4x4(0.120860628783703,0.010741456411779,0.060182422399521,0.091542378067970,-0.114855282008648,-0.097038760781288,0.020228525623679,0.079229980707169,-0.069315060973167,-0.014904026873410,-0.002097102580592,0.020183330401778,-0.011753221042454,0.019258547574282,-0.288820594549179,0.046984612941742));
res += mul(Get(s3,-dx,dy), float4x4(0.119679912924767,0.123335771262646,0.020938953384757,0.138305738568306,-0.083177141845226,0.024194059893489,0.071463406085968,0.061569660902023,0.024096572771668,0.080254837870598,-0.026653070002794,0.049076069146395,-0.128674909472466,0.063796810805798,-0.233373031020164,0.257105857133865));
res += mul(Get(s3,0,-dy), float4x4(0.010250437073410,-0.069059632718563,-0.011851032264531,0.063574776053429,0.040968131273985,-0.048712160438299,0.104347512125969,-0.138199597597122,-0.042079433798790,-0.070661135017872,-0.008361058309674,-0.076100103557110,0.012511355802417,0.201560705900192,0.068724952638149,-0.041154216974974));
res += mul(Get(s3,0,0), float4x4(-0.027656676247716,0.091720715165138,0.014459456317127,0.016100466251373,0.086402177810669,0.132795274257660,0.028924118727446,-0.053229499608278,-0.124455444514751,0.024498382583261,0.054555401206017,0.003209339454770,0.236099928617477,-0.146150246262550,-0.062418766319752,0.015179475769401));
res += mul(Get(s3,0,dy), float4x4(-0.077115342020988,0.151959255337715,-0.125127568840981,-0.044668365269899,0.161107271909714,0.047293469309807,-0.194489106535912,0.099986724555492,-0.068041920661926,0.156599447131157,0.070737816393375,0.054989486932755,0.066798903048038,0.001174809876829,-0.181627228856087,0.259264856576920));
res += mul(Get(s3,dx,-dy), float4x4(-0.022494697943330,-0.082782223820686,0.013364116661251,0.030083805322647,-0.033523999154568,-0.020538467913866,0.051742136478424,0.068272672593594,0.057908799499273,-0.037324894219637,0.055184863507748,-0.099510401487350,0.108955882489681,0.026568194851279,-0.055656969547272,0.046460960060358));
res += mul(Get(s3,dx,0), float4x4(-0.023630859330297,0.070123083889484,0.011218571104109,-0.066541314125061,-0.119023762643337,-0.049118746072054,0.399024158716202,-0.148384511470795,-0.019245782867074,0.006619779858738,-0.033524714410305,-0.117370694875717,-0.029166370630264,-0.087386816740036,0.008656002581120,-0.144465714693069));
res += mul(Get(s3,dx,dy), float4x4(-0.083889760077000,0.060379523783922,-0.036747571080923,-0.158333629369736,0.202774316072464,0.097688719630241,0.030640233308077,0.114677704870701,-0.023411255329847,0.047347638756037,-0.019496744498610,-0.070995561778545,-0.079957984387875,0.075863055884838,-0.183250784873962,-0.002220877911896));
return max(float4(0,0,0,0), res);
}
