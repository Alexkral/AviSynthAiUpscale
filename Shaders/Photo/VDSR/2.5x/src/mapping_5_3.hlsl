sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.117306761443615,0.129992783069611,-0.050954204052687,0.017470527440310,0.002336684847251,0.166552841663361,-0.080347605049610,-0.057816967368126,0.172149807214737,-0.043291382491589,0.035514753311872,-0.183837324380875,-0.004233174491674,-0.012087288312614,-0.010943263769150,0.015930417925119));
res += mul(Get(s0,-dx,0), float4x4(0.078371450304985,0.142845705151558,-0.116147130727768,0.259022206068039,0.053414292633533,-0.121000573039055,-0.126298010349274,0.000955660652835,-0.025337493047118,-0.109187997877598,0.037500746548176,-0.011492936871946,0.118681430816650,-0.065316282212734,-0.057201206684113,0.117659904062748));
res += mul(Get(s0,-dx,dy), float4x4(-0.039502777159214,-0.059583351016045,-0.027822889387608,0.005078828893602,0.091087743639946,-0.035010933876038,-0.102594897150993,0.245522484183311,0.006679470185190,-0.040306091308594,0.054277554154396,0.057663660496473,-0.102404728531837,-0.172748938202858,-0.023054543882608,0.009866940788925));
res += mul(Get(s0,0,-dy), float4x4(0.039553090929985,-0.030297316610813,0.080073013901711,0.060591246932745,-0.044692244380713,-0.082706525921822,-0.042246472090483,-0.032975997775793,0.040788535028696,-0.037053331732750,0.152365341782570,-0.168374568223953,-0.063122674822807,-0.111881464719772,-0.159860461950302,0.008147581480443));
res += mul(Get(s0,0,0), float4x4(0.049590058624744,0.107845649123192,0.155010014772415,0.071249872446060,-0.106683522462845,0.138392850756645,-0.134594753384590,-0.002429266925901,-0.110619716346264,-0.128469422459602,-0.081634260714054,0.083613663911819,0.147726595401764,-0.065401628613472,-0.186239019036293,0.135473713278770));
res += mul(Get(s0,0,dy), float4x4(-0.042836342006922,0.203197821974754,0.105045489966869,-0.015291869640350,0.044417344033718,-0.140141665935516,-0.074637517333031,-0.087471850216389,-0.076612971723080,-0.145090892910957,0.105093829333782,0.088420711457729,-0.167084246873856,-0.031176395714283,-0.189572438597679,-0.174360543489456));
res += mul(Get(s0,dx,-dy), float4x4(-0.083348080515862,0.134399086236954,0.180305510759354,-0.080289185047150,0.122790686786175,-0.053106259554625,0.033670511096716,0.001548179425299,-0.107766196131706,0.018987275660038,0.158422589302063,0.048260584473610,-0.137047737836838,0.021584371104836,-0.177115052938461,0.026352869346738));
res += mul(Get(s0,dx,0), float4x4(0.036998815834522,-0.003970400895923,-0.044735103845596,-0.050903908908367,-0.060634315013885,-0.003068438498303,0.085452377796173,0.215013891458511,-0.030785406008363,0.068731047213078,0.215667963027954,-0.198399335145950,0.167419597506523,0.022777240723372,-0.055125471204519,-0.169559761881828));
res += mul(Get(s0,dx,dy), float4x4(-0.031903788447380,0.013366802595556,-0.123461268842220,-0.029810730367899,0.057754825800657,0.026167329400778,-0.062407180666924,-0.116981819272041,0.194593340158463,0.051792655140162,-0.023982649669051,-0.019141545519233,0.043174091726542,0.084894485771656,-0.138529866933823,0.007999461144209));
res += mul(Get(s1,-dx,-dy), float4x4(-0.025222741067410,0.035810053348541,0.104343585669994,0.006287091877311,0.142322570085526,-0.079909130930901,-0.027849601581693,0.121725380420685,-0.028769541531801,0.121062010526657,-0.061716869473457,0.190622806549072,-0.032547380775213,0.046053461730480,0.013780160807073,-0.044811420142651));
res += mul(Get(s1,-dx,0), float4x4(0.009847318753600,-0.146009624004364,0.041913870722055,0.084033288061619,-0.103524774312973,-0.092467196285725,0.033023476600647,0.065183117985725,0.013057569973171,0.059701066464186,0.163454994559288,0.204271033406258,-0.077545933425426,0.087631553411484,-0.133564263582230,-0.012626931071281));
res += mul(Get(s1,-dx,dy), float4x4(0.197709128260612,0.080647498369217,0.043714396655560,-0.102425225079060,-0.260709166526794,-0.142451882362366,-0.027039377018809,0.112936779856682,-0.179991334676743,0.036018684506416,-0.225662082433701,0.117826603353024,0.084789268672466,-0.212828144431114,-0.129439979791641,-0.132283702492714));
res += mul(Get(s1,0,-dy), float4x4(0.052453529089689,-0.113065958023071,-0.088766716420650,-0.001183376996778,0.036125369369984,-0.090816378593445,-0.100051887333393,-0.012719667516649,-0.140300571918488,-0.061766527593136,-0.100331604480743,-0.110884726047516,0.042849969118834,-0.056241642683744,-0.005288496147841,-0.030343322083354));
res += mul(Get(s1,0,0), float4x4(0.125799149274826,-0.050335831940174,0.066531404852867,0.137133300304413,0.015813002362847,-0.132319137454033,0.024595310911536,0.012045949697495,-0.103583768010139,0.064071282744408,-0.151088953018188,-0.148035228252411,-0.045933891087770,-0.156066641211510,-0.071487709879875,-0.117699772119522));
res += mul(Get(s1,0,dy), float4x4(0.190642312169075,-0.078355573117733,-0.053468700498343,0.063797891139984,-0.061453241854906,-0.098776496946812,-0.024715760722756,0.106048576533794,-0.114029429852962,-0.073237590491772,0.188236147165298,-0.154686287045479,-0.185384422540665,0.121746659278870,0.197903126478195,-0.074984692037106));
res += mul(Get(s1,dx,-dy), float4x4(0.128995016217232,0.064968608319759,-0.008753084577620,0.134942278265953,0.010980667546391,0.118021354079247,-0.045786440372467,-0.062480598688126,0.223500788211823,-0.086902409791946,-0.024294611066580,0.061945550143719,0.221284344792366,0.159336343407631,-0.108505353331566,0.066774152219296));
res += mul(Get(s1,dx,0), float4x4(0.025122640654445,-0.184707313776016,0.128469586372375,0.071894071996212,0.142855763435364,-0.024621227756143,0.033663492649794,0.085843108594418,0.052934929728508,-0.068447031080723,0.159664765000343,-0.012068276293576,0.208875760436058,-0.071764163672924,0.150308206677437,-0.060372877866030));
res += mul(Get(s1,dx,dy), float4x4(-0.138381823897362,0.060262139886618,0.066466592252254,-0.057611633092165,0.034396383911371,-0.115546911954880,-0.043418724089861,0.055233556777239,0.094800762832165,-0.052932970225811,-0.010863714851439,-0.125781059265137,-0.118784070014954,0.087799951434135,0.041938651353121,-0.063345693051815));
res += mul(Get(s2,-dx,-dy), float4x4(0.181336939334869,0.053114157170057,-0.002176705282182,0.092885442078114,-0.002970637287945,-0.044764555990696,-0.047467201948166,0.213535025715828,-0.067199945449829,0.014862362295389,0.010887113399804,-0.217107713222504,-0.152146235108376,-0.172231659293175,-0.144562542438507,0.031291414052248));
res += mul(Get(s2,-dx,0), float4x4(-0.044035658240318,0.033225428313017,-0.031784579157829,0.117902457714081,-0.095979124307632,0.086299434304237,-0.177713289856911,-0.092965885996819,0.084351770579815,-0.034198176115751,-0.313291043043137,0.005527940578759,0.139906704425812,-0.122498109936714,-0.015294632874429,0.083295665681362));
res += mul(Get(s2,-dx,dy), float4x4(-0.055479411035776,0.083495832979679,-0.070850737392902,-0.041936583817005,0.095664925873280,0.106509789824486,-0.057328619062901,-0.078697167336941,0.015911730006337,-0.128650292754173,-0.067616462707520,-0.125735163688660,-0.059756632894278,0.033100005239248,0.244794547557831,-0.058615807443857));
res += mul(Get(s2,0,-dy), float4x4(-0.077465057373047,0.071903213858604,-0.083195112645626,-0.027183378115296,-0.063471585512161,0.126212686300278,0.024606391787529,0.012869780883193,-0.109448000788689,-0.085924483835697,-0.033126771450043,0.019443120807409,-0.032862026244402,0.082291238009930,0.167605072259903,0.015502465888858));
res += mul(Get(s2,0,0), float4x4(-0.065966628491879,0.012855223380029,-0.120095409452915,-0.070478186011314,-0.017222676426172,0.130103945732117,0.098846293985844,-0.266379117965698,0.089793428778648,-0.102049864828587,-0.188781306147575,-0.168046474456787,0.012168535031378,-0.160204425454140,0.195797681808472,-0.110397890210152));
res += mul(Get(s2,0,dy), float4x4(0.023700190708041,-0.090258248150349,0.096382237970829,-0.127207413315773,0.030242931097746,-0.159098803997040,-0.063010811805725,0.069680131971836,-0.037767089903355,-0.094142124056816,-0.012375825084746,0.041893180459738,0.006067098118365,0.010887587442994,0.146170586347580,-0.248613059520721));
res += mul(Get(s2,dx,-dy), float4x4(-0.154004678130150,0.150892987847328,-0.137958526611328,-0.031469959765673,-0.015083147212863,0.028621058911085,0.143447101116180,0.140672788023949,0.052092220634222,-0.016588458791375,0.122322157025337,-0.130872815847397,-0.066683828830719,-0.060730412602425,-0.064493849873543,-0.152492642402649));
res += mul(Get(s2,dx,0), float4x4(-0.016736293211579,-0.117147900164127,-0.102263547480106,0.039610676467419,-0.050860386341810,-0.011495797894895,-0.114966809749603,0.000998147879727,-0.002380606252700,0.019412087276578,0.027593946084380,-0.045637946575880,-0.051670473068953,-0.112613931298256,-0.078969560563564,-0.055098243057728));
res += mul(Get(s2,dx,dy), float4x4(-0.148435696959496,-0.023655090481043,0.002196554327384,-0.104690507054329,-0.192022085189819,-0.072999909520149,-0.009105402044952,-0.103023730218410,-0.227005422115326,-0.104383610188961,-0.010792702436447,-0.025281606242061,-0.218764871358871,0.006119836121798,-0.049453109502792,-0.107402183115482));
res += mul(Get(s3,-dx,-dy), float4x4(-0.116141997277737,-0.144951045513153,0.145365238189697,-0.098010718822479,0.061062484979630,-0.033190757036209,0.024373097345233,-0.042377281934023,-0.071285814046860,-0.040086191147566,0.072623707354069,0.044693753123283,-0.019885474815965,-0.064911909401417,0.022674689069390,-0.082215107977390));
res += mul(Get(s3,-dx,0), float4x4(-0.099150203168392,-0.144957214593887,0.164364978671074,0.154849350452423,-0.096474178135395,0.228745386004448,0.105157583951950,-0.122766315937042,0.270614922046661,-0.033930260688066,-0.168538779020309,0.154599219560623,-0.096007496118546,-0.019047342240810,0.101004146039486,0.007804129272699));
res += mul(Get(s3,-dx,dy), float4x4(-0.022494133561850,-0.043273083865643,-0.107784450054169,0.026564806699753,0.127191916108131,-0.018948508426547,0.000617759651504,0.012798039242625,-0.164650306105614,0.203196942806244,0.041889969259501,0.048400785773993,-0.004734880290926,-0.165778636932373,0.077950999140739,-0.068854674696922));
res += mul(Get(s3,0,-dy), float4x4(0.144657075405121,-0.241233453154564,0.106258563697338,-0.130748778581619,-0.077851571142673,-0.094170697033405,-0.104960873723030,0.003995557315648,0.129730015993118,0.069342963397503,-0.146259501576424,-0.052561558783054,-0.002805095398799,0.125293806195259,0.021514035761356,-0.013388086110353));
res += mul(Get(s3,0,0), float4x4(0.031449832022190,-0.084600672125816,-0.045305967330933,0.066503822803497,0.009755321778357,0.073145702481270,0.004390888381749,0.185816675424576,-0.050003796815872,-0.123599581420422,0.020744841545820,0.233450874686241,0.045098681002855,0.061206147074699,-0.123332321643829,-0.009850380010903));
res += mul(Get(s3,0,dy), float4x4(-0.109114132821560,-0.144481956958771,-0.022398162633181,0.098843872547150,-0.074031732976437,0.062476634979248,-0.034266870468855,-0.077097676694393,0.057483009994030,-0.167797043919563,-0.108132749795914,-0.069049172103405,0.040571071207523,0.092630073428154,-0.004778555128723,-0.122704975306988));
res += mul(Get(s3,dx,-dy), float4x4(-0.212933123111725,-0.185919374227524,-0.101093031466007,-0.063532963395119,-0.001527678919956,-0.099899664521217,-0.073358945548534,-0.088163897395134,0.083184689283371,-0.074287511408329,0.006010086741298,0.083884000778198,-0.030263252556324,0.076174877583981,-0.202413141727448,0.042728044092655));
res += mul(Get(s3,dx,0), float4x4(-0.087183445692062,-0.093422636389732,0.091939635574818,0.230498671531677,-0.069662205874920,-0.012791288085282,0.075891897082329,-0.018882546573877,-0.167486265301704,0.034779682755470,0.057144653052092,0.145009219646454,0.085576444864273,-0.218572452664375,-0.040281075984240,0.042580358684063));
res += mul(Get(s3,dx,dy), float4x4(0.164774149656296,-0.004539332818240,-0.065518260002136,-0.016402030363679,-0.076022945344448,-0.123641438782215,-0.004186359699816,0.044446866959333,0.075762420892715,0.181326881051064,-0.099197819828987,0.165893971920013,0.020342133939266,0.116920553147793,0.097703590989113,-0.014459470286965));
return max(float4(0,0,0,0), res);
}
