sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.019938033074141,-0.143660619854927,-0.025064576417208,-0.089012324810028,0.038606330752373,-0.052864644676447,-0.011762973852456,-0.014632464386523,0.050107717514038,-0.120969511568546,-0.023852827027440,0.082213915884495,-0.000321167433867,0.050014600157738,0.046011947095394,-0.051396124064922));
res += mul(Get(s0,-dx,0), float4x4(0.041192173957825,-0.045451346784830,0.024610992521048,0.120299421250820,0.032371543347836,-0.017176646739244,-0.019930053502321,0.019826084375381,0.314724385738373,-0.035369578748941,-0.140132978558540,-0.175128072500229,-0.223296165466309,0.003193335141987,0.000624904816505,-0.042500235140324));
res += mul(Get(s0,-dx,dy), float4x4(0.120967015624046,0.130670189857483,-0.007938170805573,0.043219625949860,0.010668739676476,-0.080220580101013,-0.105659887194633,0.020597388967872,-0.018844895064831,0.064150519669056,0.047644693404436,-0.061728306114674,-0.037261497229338,0.198596179485321,0.125973194837570,0.038171567022800));
res += mul(Get(s0,0,-dy), float4x4(-0.105207107961178,0.005593539681286,0.067591734230518,0.105982393026352,-0.015181568451226,-0.050269320607185,-0.117541611194611,0.096648834645748,-0.026477644219995,-0.064572609961033,-0.067227944731712,-0.047742705792189,0.189817696809769,-0.137930557131767,-0.059367038309574,0.064200423657894));
res += mul(Get(s0,0,0), float4x4(0.014565728604794,0.087399050593376,0.004964401945472,-0.006910675670952,-0.009657971560955,-0.033019460737705,-0.071373902261257,0.021928321570158,-0.021264061331749,0.066426984965801,-0.088429570198059,-0.146627947688103,0.230233520269394,-0.105438023805618,-0.047110334038734,-0.060300786048174));
res += mul(Get(s0,0,dy), float4x4(0.063329212367535,0.029912777245045,-0.007695429027081,-0.029164006933570,-0.056729435920715,-0.007217376958579,-0.069792173802853,-0.009482915513217,-0.023103326559067,-0.004324335139245,-0.069430135190487,-0.099410466849804,0.067944087088108,0.069966033101082,-0.128764048218727,0.035327661782503));
res += mul(Get(s0,dx,-dy), float4x4(-0.043826736509800,-0.016923319548368,0.161754608154297,-0.058661758899689,-0.121573992073536,-0.107183240354061,-0.048453766852617,-0.071601778268814,-0.007842799648643,-0.004234489053488,0.041240226477385,0.083457551896572,0.144963026046753,0.206649944186211,-0.008722828701138,-0.024201910942793));
res += mul(Get(s0,dx,0), float4x4(0.067252695560455,-0.089359238743782,0.014951764605939,-0.080603718757629,-0.041940476745367,-0.126398846507072,0.033035840839148,-0.149275183677673,-0.021616874262691,0.030576819553971,0.022117102518678,0.040559265762568,0.076636262238026,0.149008423089981,0.027043888345361,0.056354798376560));
res += mul(Get(s0,dx,dy), float4x4(0.027783734723926,0.045057244598866,-0.106762304902077,-0.150297105312347,-0.052470456808805,-0.017860630527139,0.016116160899401,-0.085947662591934,0.005394302308559,0.068836167454720,-0.054173544049263,0.063857734203339,0.088044926524162,0.062915123999119,0.049552936106920,0.095413632690907));
res += mul(Get(s1,-dx,-dy), float4x4(-0.110015131533146,0.050857841968536,0.018882302567363,0.005611697677523,-0.235195264220238,-0.205537661910057,0.148453339934349,-0.004583218600601,0.016885681077838,0.203154236078262,-0.083226375281811,0.043043743818998,-0.025491889566183,0.033973962068558,0.145950183272362,0.018508033826947));
res += mul(Get(s1,-dx,0), float4x4(-0.096691429615021,-0.043446239084005,0.083893053233624,-0.021649239584804,-0.031126337125897,-0.131998613476753,-0.113632202148438,-0.057038113474846,0.119747176766396,-0.142039746046066,0.014114875346422,0.073093600571156,-0.014288925565779,0.063936196267605,0.104326948523521,0.126669600605965));
res += mul(Get(s1,-dx,dy), float4x4(-0.139684572815895,0.070402070879936,0.112733416259289,0.082123398780823,-0.085984438657761,-0.033038515597582,-0.269231677055359,0.002512831240892,-0.072181761264801,-0.002174630528316,0.125321298837662,0.108896702528000,0.002355780219659,-0.005816258955747,0.055460553616285,-0.104341395199299));
res += mul(Get(s1,0,-dy), float4x4(-0.020010884851217,0.154739752411842,-0.037607204169035,-0.019559413194656,0.029409859329462,-0.139500364661217,-0.081880494952202,0.043272688984871,0.036767102777958,0.200962156057358,0.009346290491521,-0.083905443549156,0.120248734951019,-0.103113353252411,0.038898751139641,-0.001835932140239));
res += mul(Get(s1,0,0), float4x4(-0.013614938594401,-0.027405641973019,-0.025139920413494,0.080336660146713,0.022694859653711,-0.129356458783150,-0.085227444767952,-0.008649571798742,0.154190555214882,-0.015959395095706,-0.061826713383198,-0.131457477807999,0.104833856225014,0.009692247956991,0.016618924215436,0.025592368096113));
res += mul(Get(s1,0,dy), float4x4(0.028615320101380,0.058636769652367,0.007668848149478,0.098892018198967,-0.011818087659776,0.031630981713533,-0.040746908634901,-0.112664729356766,-0.146714776754379,0.010371135547757,-0.065426610410213,0.077183261513710,0.016906583681703,0.083565048873425,-0.046765934675932,0.129612654447556));
res += mul(Get(s1,dx,-dy), float4x4(-0.091446466743946,0.043625913560390,-0.090088404715061,0.068300947546959,-0.090495638549328,-0.021265596151352,0.038480218499899,0.062763735651970,0.156315833330154,-0.007851805537939,0.120310708880424,0.147933647036552,0.000771211518440,0.083974450826645,-0.067135974764824,-0.031568471342325));
res += mul(Get(s1,dx,0), float4x4(-0.028146380558610,-0.073435865342617,-0.080082751810551,0.134652674198151,-0.034900363534689,0.015076447278261,0.251171797513962,-0.046914901584387,0.246061652898788,-0.131745010614395,-0.012553733773530,-0.119313098490238,-0.011244904249907,-0.030281135812402,0.013527904637158,-0.042698804289103));
res += mul(Get(s1,dx,dy), float4x4(-0.027911769226193,0.059722408652306,-0.021925499662757,0.081117711961269,0.051078468561172,0.036912206560373,0.078656621277332,-0.066976621747017,-0.135768964886665,0.211884632706642,0.048331998288631,-0.024515585973859,-0.128963544964790,0.084140054881573,0.093925543129444,-0.101900942623615));
res += mul(Get(s2,-dx,-dy), float4x4(-0.034655533730984,-0.113918639719486,0.029739737510681,0.021060641855001,-0.171844899654388,0.095014840364456,-0.035899821668863,0.442018657922745,0.128769993782043,-0.102823384106159,0.010043120943010,0.036014322191477,0.000964541628491,-0.065085053443909,-0.059754759073257,-0.089128166437149));
res += mul(Get(s2,-dx,0), float4x4(0.062335267663002,-0.074373282492161,0.044111091643572,-0.075071007013321,-0.143356010317802,0.033156685531139,0.024504136294127,-0.042421605437994,0.109832271933556,-0.061075925827026,0.013773817569017,0.012605420313776,-0.031335584819317,-0.091933637857437,-0.002737771021202,0.025509744882584));
res += mul(Get(s2,-dx,dy), float4x4(0.019025789573789,0.022157728672028,-0.033609610050917,-0.043099254369736,-0.023130191490054,-0.032409630715847,-0.044257331639528,-0.062882065773010,-0.123616628348827,-0.026387497782707,-0.025460848584771,-0.016200050711632,-0.018135808408260,0.070472292602062,0.067234046757221,0.044769279658794));
res += mul(Get(s2,0,-dy), float4x4(-0.089027166366577,-0.053446568548679,-0.028690597042441,0.123842343688011,-0.035043753683567,-0.018758786842227,-0.018057188019156,-0.044339485466480,-0.152421027421951,-0.138604372739792,-0.011346537619829,-0.021579422056675,-0.088213980197906,-0.046217888593674,-0.001567541388795,-0.097445689141750));
res += mul(Get(s2,0,0), float4x4(0.012496858835220,-0.038562428206205,-0.072936445474625,0.063215970993042,-0.039212360978127,-0.101010210812092,-0.028413040563464,-0.044492419809103,0.030831832438707,-0.053554140031338,-0.020676890388131,-0.128813922405243,-0.024613786488771,-0.116033107042313,-0.022268090397120,0.056783176958561));
res += mul(Get(s2,0,dy), float4x4(-0.021409852430224,0.035959534347057,-0.128220587968826,-0.045373585075140,0.000171497798874,-0.046359166502953,-0.113250724971294,-0.143512457609177,0.089742578566074,0.082715205848217,0.188495784997940,-0.042050912976265,0.064262948930264,-0.000080048353993,-0.059438459575176,-0.012003981508315));
res += mul(Get(s2,dx,-dy), float4x4(0.007160790264606,0.041841622442007,0.014646293595433,0.007416867185384,0.171222433447838,0.118662402033806,-0.011379566043615,-0.004237035755068,-0.083419293165207,-0.041745122522116,0.244248718023300,-0.068798676133156,-0.029777200892568,-0.005706547293812,-0.053620576858521,-0.007785456720740));
res += mul(Get(s2,dx,0), float4x4(-0.017091428861022,0.151141777634621,0.092994213104248,0.009789904579520,-0.027941437438130,0.086388610303402,0.000152755455929,-0.013233148492873,-0.038725487887859,0.019144684076309,0.025577224791050,-0.006628958508372,0.009379225783050,-0.112313508987427,-0.120579794049263,-0.073551774024963));
res += mul(Get(s2,dx,dy), float4x4(-0.129701271653175,0.146539226174355,-0.048442680388689,-0.097606405615807,-0.151624321937561,0.139538630843163,-0.106123246252537,-0.013768246397376,-0.099488958716393,0.086878933012486,-0.061294078826904,0.130091875791550,-0.135834485292435,0.011980266310275,-0.067473657429218,0.021306628361344));
res += mul(Get(s3,-dx,-dy), float4x4(0.079629331827164,-0.311382830142975,0.126648783683777,0.080740287899971,-0.008599746041000,-0.001307547907345,-0.033966168761253,0.057285737246275,-0.166447132825851,-0.190013095736504,-0.136963859200478,-0.115533418953419,-0.025340372696519,-0.143482044339180,-0.215557098388672,0.011876840144396));
res += mul(Get(s3,-dx,0), float4x4(0.062920212745667,-0.025224059820175,0.146836772561073,0.035818129777908,0.054957929998636,0.066746309399605,0.064369194209576,0.067080646753311,-0.136325091123581,0.053104072809219,-0.204867631196976,0.110258437693119,-0.026162853464484,0.071643069386482,0.005124644841999,0.024153208360076));
res += mul(Get(s3,-dx,dy), float4x4(0.133918717503548,0.062421962618828,0.227478370070457,-0.015235017053783,0.034874752163887,0.002305468544364,0.060074236243963,0.004807840101421,-0.142465636134148,0.093690931797028,-0.043933093547821,0.099700279533863,-0.000939198012929,0.047991607338190,0.041468601673841,0.056029338389635));
res += mul(Get(s3,0,-dy), float4x4(0.015952067449689,-0.108694672584534,-0.097000420093536,0.076997727155685,0.045808997005224,-0.015675621107221,-0.050142504274845,0.005927931517363,-0.066218018531799,-0.148067772388458,0.039034370332956,-0.060898926109076,-0.004407322034240,-0.149638280272484,0.040130365639925,-0.087915785610676));
res += mul(Get(s3,0,0), float4x4(-0.018312703818083,-0.099283203482628,-0.113430477678776,-0.069220803678036,0.111534200608730,-0.016456563025713,0.027112621814013,-0.064600698649883,-0.051564387977123,-0.106757946312428,0.022555666044354,0.136768460273743,0.018739765509963,0.003505358006805,-0.089866504073143,0.041113279759884));
res += mul(Get(s3,0,dy), float4x4(-0.053405173122883,0.036097597330809,-0.042547047138214,-0.099812813103199,0.055534116923809,0.083295300602913,-0.009023907594383,-0.029319254681468,0.070050992071629,-0.042049787938595,0.043018676340580,0.023735268041492,-0.041113160550594,-0.001253793714568,0.441829949617386,0.056092470884323));
res += mul(Get(s3,dx,-dy), float4x4(-0.037350106984377,-0.044672381132841,0.155435174703598,0.037983063608408,-0.080870635807514,0.179406180977821,0.005135229788721,0.080792821943760,0.133810892701149,-0.129626676440239,0.066322773694992,0.060459546744823,-0.092009745538235,-0.038904041051865,0.004132782574743,0.029593778774142));
res += mul(Get(s3,dx,0), float4x4(-0.062097568064928,-0.036973044276237,-0.022732326760888,0.087944880127907,0.058881007134914,0.027429990470409,-0.115033023059368,0.067550495266914,0.013823700137436,0.024751722812653,0.278978168964386,-0.074956431984901,0.083110824227333,0.085253164172173,-0.070926651358604,-0.056289538741112));
res += mul(Get(s3,dx,dy), float4x4(-0.006268409546465,0.009304863400757,-0.093989126384258,-0.025978019461036,-0.063077718019485,0.086720898747444,-0.009686295874417,0.006275970488787,0.141100943088531,0.171325325965881,0.063889883458614,-0.038495354354382,0.067898869514465,0.040592111647129,0.151870772242546,0.030014773830771));
return max(float4(0,0,0,0), res);
}
