sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(-0.124117694795132,-0.170130908489227,-0.029339004307985,0.046659041196108,-0.164678052067757,-0.307477265596390,-0.028714755550027,0.069016404449940,0.052789494395256,0.088919356465340,0.098062008619308,0.184851750731468,-0.002771006664261,0.048722770065069,0.037840612232685,-0.012112365104258));
res += mul(Get(s0,-dx,0), float4x4(-0.001333227497526,-0.074457734823227,0.062454104423523,0.202881544828415,0.086636826395988,-0.217498511075974,0.028673857450485,0.081223882734776,0.055807899683714,0.077475599944592,-0.063031509518623,-0.074265785515308,0.138258457183838,0.090481571853161,-0.084496177732944,-0.153464749455452));
res += mul(Get(s0,-dx,dy), float4x4(-0.031347692012787,-0.027579655870795,-0.111742682754993,-0.074780672788620,0.058287780731916,-0.068555191159248,0.264413625001907,0.151323065161705,0.001491924398579,-0.009530762210488,0.064545370638371,-0.135682210326195,-0.056551713496447,0.015534101054072,0.090780295431614,-0.161311089992523));
res += mul(Get(s0,0,-dy), float4x4(0.020239174365997,0.060345128178596,-0.019349336624146,-0.037641443312168,0.015588336624205,0.075472928583622,-0.016821149736643,-0.085210099816322,-0.043856840580702,-0.046839673072100,0.045395005494356,0.111254356801510,-0.043679859489202,-0.088499933481216,0.147240668535233,0.025626996532083));
res += mul(Get(s0,0,0), float4x4(-0.001861532102339,0.193593248724937,-0.116976410150528,0.053765296936035,-0.038186021149158,0.014720099046826,-0.077249728143215,-0.091817684471607,0.035314943641424,-0.003131516277790,-0.129864916205406,0.053736336529255,0.015407515689731,-0.054032996296883,0.006216506939381,-0.020296351984143));
res += mul(Get(s0,0,dy), float4x4(0.027101036161184,-0.107544265687466,-0.116420075297356,-0.100016005337238,0.062768094241619,-0.009488583542407,0.007650807965547,0.016253320500255,0.078013785183430,-0.069663271307945,-0.051357354968786,-0.032452017068863,-0.066700622439384,-0.145219296216965,0.014767006970942,-0.042322989553213));
res += mul(Get(s0,dx,-dy), float4x4(0.014163935557008,0.062114506959915,-0.025788020342588,-0.037655644118786,0.048822194337845,-0.056659389287233,-0.024467574432492,0.082349881529808,0.073631644248962,-0.029626319184899,-0.025283681228757,0.112727522850037,-0.053887359797955,0.153666913509369,0.049981437623501,-0.157398536801338));
res += mul(Get(s0,dx,0), float4x4(0.021908504888415,0.019271269440651,-0.190209895372391,0.153866052627563,0.015803275629878,-0.031012529507279,0.042994938790798,-0.034901216626167,-0.060871839523315,0.062917642295361,-0.123818732798100,-0.024649409577250,0.073741540312767,-0.025515489280224,-0.060575053095818,-0.142933562397957));
res += mul(Get(s0,dx,dy), float4x4(-0.007016918156296,-0.027469145134091,-0.165263473987579,-0.013505073264241,-0.002234836108983,0.046534474939108,0.070445932447910,0.115577690303326,0.052272219210863,0.018024854362011,-0.033305760473013,0.019766561686993,0.001711799646728,0.096848234534264,0.071977540850639,-0.152865350246429));
res += mul(Get(s1,-dx,-dy), float4x4(-0.129570767283440,-0.097366921603680,0.217379212379456,0.000318082195008,0.095798216760159,-0.044864308089018,-0.038536183536053,0.097808405756950,0.178644075989723,-0.090549431741238,-0.022041542455554,0.266285508871078,0.174381405115128,0.065462291240692,-0.001621808158234,-0.131261035799980));
res += mul(Get(s1,-dx,0), float4x4(-0.112490452826023,-0.132776618003845,-0.051832661032677,-0.032992616295815,0.181198552250862,-0.050592262297869,-0.028125880286098,0.036488715559244,0.034275162965059,-0.086442351341248,0.052834324538708,-0.007262839470059,0.033616863191128,0.084631659090519,0.056255988776684,-0.123102843761444));
res += mul(Get(s1,-dx,dy), float4x4(0.028134616091847,-0.014914584346116,-0.085463017225266,-0.125345408916473,0.180198952555656,-0.040363244712353,-0.004476411733776,0.026270901784301,0.008619902655482,0.091937884688377,0.050207190215588,-0.008912848308682,-0.024769661948085,0.142747193574905,0.138254016637802,-0.093276768922806));
res += mul(Get(s1,0,-dy), float4x4(-0.140768960118294,-0.086730450391769,0.133369579911232,-0.019444838166237,-0.157736882567406,-0.074984565377235,0.095026090741158,0.156343787908554,0.102036409080029,0.092735245823860,-0.102308064699173,0.124489627778530,0.060759171843529,-0.019692594185472,0.051214311271906,0.129786893725395));
res += mul(Get(s1,0,0), float4x4(-0.037633344531059,-0.208447828888893,-0.000012845023775,-0.000245391885983,0.069761157035828,0.015273636206985,0.035136625170708,0.064218156039715,0.023426609113812,0.057530853897333,0.005947215948254,-0.020788259804249,0.011691816151142,0.187865480780602,-0.067210614681244,0.132849186658859));
res += mul(Get(s1,0,dy), float4x4(0.027044922113419,0.036815423518419,0.015394929796457,-0.085858047008514,0.009055495262146,0.085213176906109,-0.003028884297237,-0.005887920968235,-0.093565784394741,0.085213840007782,0.016425978392363,-0.106108076870441,-0.006150246597826,0.118150234222412,-0.023703742772341,0.061048049479723));
res += mul(Get(s1,dx,-dy), float4x4(-0.068527624011040,0.008660444058478,0.135442167520523,0.048548486083746,-0.003944228868932,-0.016216568648815,0.058535017073154,-0.020990218967199,-0.024940017610788,0.112612940371037,0.107191808521748,0.053724691271782,-0.044513478875160,-0.043404601514339,-0.071313686668873,0.011588217690587));
res += mul(Get(s1,dx,0), float4x4(-0.072690218687057,-0.125897452235222,-0.017940102145076,0.062434971332550,0.100201308727264,0.043900158256292,-0.143187358975410,-0.058110766112804,0.143653646111488,-0.008871546946466,-0.014281380921602,0.107709407806396,-0.053020127117634,0.084685653448105,-0.115775376558304,-0.037183649837971));
res += mul(Get(s1,dx,dy), float4x4(0.038997657597065,0.032260410487652,0.002847127150744,-0.022150849923491,0.064772672951221,0.113608114421368,-0.200280487537384,-0.107534997165203,0.029610494151711,0.127011179924011,-0.034820009022951,-0.034659840166569,-0.036247026175261,0.004501422867179,-0.035236403346062,0.098603785037994));
res += mul(Get(s2,-dx,-dy), float4x4(-0.098503634333611,-0.108770228922367,0.030343703925610,0.060389906167984,-0.054417889565229,0.080049321055412,-0.000971904315520,0.060246266424656,-0.082525804638863,-0.048574447631836,-0.152901396155357,-0.008214339613914,-0.048722267150879,0.056393034756184,0.109114840626717,-0.071541197597980));
res += mul(Get(s2,-dx,0), float4x4(-0.006256122607738,-0.099994197487831,0.099269576370716,0.013322328217328,-0.008250536397099,0.007633679546416,0.026753986254334,0.110740855336189,-0.009584620594978,0.170895174145699,-0.095264792442322,-0.032896608114243,0.093413680791855,-0.083751648664474,-0.095482468605042,0.110475666821003));
res += mul(Get(s2,-dx,dy), float4x4(-0.027494668960571,-0.040590405464172,0.085508599877357,0.037770088762045,0.039425302296877,-0.011893480084836,-0.060913726687431,-0.031710993498564,-0.007347349077463,0.064059078693390,-0.085311211645603,0.007554003968835,0.011692291125655,0.041967190802097,0.008261542767286,-0.098109647631645));
res += mul(Get(s2,0,-dy), float4x4(0.058641776442528,-0.054341286420822,-0.002789752325043,0.067493773996830,-0.037107188254595,0.029218651354313,-0.089456945657730,0.125688463449478,-0.088574141263962,-0.057035539299250,0.009955001063645,0.061231661587954,0.179417639970779,-0.094945408403873,0.007395520806313,-0.032015465199947));
res += mul(Get(s2,0,0), float4x4(0.018867367878556,-0.080327168107033,0.021365549415350,-0.046406887471676,0.027258491143584,-0.021160688251257,-0.068439304828644,-0.014278660528362,0.023938119411469,0.079170085489750,0.004219376482069,-0.009855913929641,-0.023456674069166,-0.044531468302011,0.009244339540601,0.050863694399595));
res += mul(Get(s2,0,dy), float4x4(-0.037982430309057,-0.099583312869072,-0.012015020474792,-0.059384241700172,0.065866917371750,-0.001425895374268,-0.033045008778572,-0.021872725337744,-0.034762930124998,0.013273353688419,-0.009995205327868,0.000172028012457,-0.058484122157097,0.034766633063555,-0.056506346911192,0.055909298360348));
res += mul(Get(s2,dx,-dy), float4x4(-0.129426464438438,0.071420997381210,0.128338843584061,-0.096958637237549,-0.092724427580833,0.154240190982819,-0.020665258169174,0.006155542563647,-0.211174860596657,-0.037536244839430,0.001655636704527,-0.002837270032614,0.009786256588995,-0.048299755901098,-0.024575296789408,0.002986763371155));
res += mul(Get(s2,dx,0), float4x4(-0.117782659828663,0.120633713901043,0.104570902884007,-0.082706481218338,-0.071058258414268,0.032715652137995,-0.067099563777447,0.031674318015575,0.013525985181332,-0.046097710728645,0.028433842584491,-0.032461892813444,-0.016021328046918,-0.092143222689629,-0.069313280284405,-0.049601826816797));
res += mul(Get(s2,dx,dy), float4x4(-0.001893865875900,-0.004213764797896,-0.027291605249047,-0.121933601796627,0.132874757051468,0.144107252359390,-0.089604459702969,-0.013847860507667,-0.101681835949421,-0.023750673979521,-0.007599284406751,-0.026081649586558,-0.022026652470231,-0.207824498414993,-0.074765011668205,-0.050840016454458));
res += mul(Get(s3,-dx,-dy), float4x4(-0.100942283868790,0.117377899587154,-0.106471568346024,-0.088978156447411,0.040775079280138,-0.114520996809006,0.076534867286682,0.020207695662975,0.127258405089378,0.103188693523407,-0.040234323590994,0.084914579987526,-0.046481341123581,-0.028837807476521,-0.009816480800509,0.050307422876358));
res += mul(Get(s3,-dx,0), float4x4(-0.043209463357925,-0.048137780278921,-0.023407472297549,-0.127202123403549,-0.065022565424442,-0.018523899838328,0.014759150333703,0.004971935879439,0.024893101304770,-0.015717661008239,-0.105812847614288,-0.004700681660324,0.023389928042889,0.097159169614315,-0.048779360949993,0.031899653375149));
res += mul(Get(s3,-dx,dy), float4x4(0.059335347265005,0.029769966378808,0.098172798752785,-0.094631440937519,-0.071316272020340,0.040279824286699,0.080001525580883,0.155913919210434,-0.014135280624032,-0.012711697258055,0.206296071410179,0.084990128874779,-0.033849898725748,0.094728320837021,0.022396817803383,-0.024881316348910));
res += mul(Get(s3,0,-dy), float4x4(-0.052550528198481,0.092122450470924,-0.003727728733793,0.058605324476957,0.054500054568052,-0.027996776625514,-0.138402208685875,-0.054413609206676,0.025425884872675,0.012415280565619,-0.048468891531229,-0.058296233415604,-0.077599547803402,0.073639877140522,-0.038998480886221,-0.009496696293354));
res += mul(Get(s3,0,0), float4x4(-0.122411251068115,0.136620417237282,0.194955632090569,0.002836531493813,0.172141551971436,-0.016210781410336,-0.107219479978085,0.043551981449127,-0.040781509131193,0.058356709778309,0.080643676221371,-0.040735661983490,0.116934269666672,-0.037769310176373,0.020070647820830,0.046986989676952));
res += mul(Get(s3,0,dy), float4x4(-0.070081956684589,0.088645361363888,0.098518922924995,0.050291780382395,-0.045869696885347,0.090383574366570,0.057826749980450,-0.054361026734114,0.006847921758890,0.020391929894686,0.143651381134987,0.038756158202887,-0.064311191439629,0.058911137282848,0.165856465697289,-0.033388223499060));
res += mul(Get(s3,dx,-dy), float4x4(0.158111065626144,-0.129718109965324,-0.129021048545837,0.024860046803951,-0.128238931298256,0.052247725427151,-0.050717428326607,0.055562738329172,-0.039133053272963,0.020482094958425,0.052980344742537,-0.018824582919478,0.053105834871531,-0.024564178660512,0.088475860655308,0.061721563339233));
res += mul(Get(s3,dx,0), float4x4(0.021325908601284,-0.046309135854244,0.022685315459967,-0.012374851852655,-0.129495814442635,-0.061667323112488,-0.054942253977060,0.064988151192665,-0.016073444858193,-0.090702220797539,-0.085798062384129,-0.083101175725460,0.076418869197369,-0.069271035492420,-0.135169193148613,-0.010560052469373));
res += mul(Get(s3,dx,dy), float4x4(-0.039977479726076,0.055028524249792,-0.071352519094944,0.056050982326269,-0.051515761762857,0.025472261011600,-0.025486933067441,0.069525539875031,-0.028731051832438,0.132430687546730,0.121245145797729,-0.030030032619834,-0.049377944320440,-0.018859904259443,0.151697412133217,0.019215838983655));
return max(float4(0,0,0,0), res);
}
