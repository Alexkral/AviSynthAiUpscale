sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.170444577932358,0.103886514902115,0.061808310449123,0.022687686607242,0.111801058053970,0.025515863671899,-0.014460035599768,0.022983321920037,-0.084696754813194,-0.024158960208297,0.156278058886528,-0.124250330030918,-0.119298905134201,0.036066524684429,-0.007216302212328,0.032605025917292));
res += mul(Get(s0,-dx,0), float4x4(0.098144799470901,-0.090759679675102,0.133483514189720,0.053217004984617,0.114262863993645,-0.123605556786060,-0.143258243799210,-0.063171483576298,0.075026541948318,0.142556428909302,0.004719568416476,0.067671768367290,-0.051794514060020,0.070079371333122,-0.144618496298790,-0.000627701811027));
res += mul(Get(s0,-dx,dy), float4x4(0.065761275589466,-0.041593555361032,0.036254342645407,0.221229955554008,-0.052997183054686,-0.021525718271732,-0.029647560790181,-0.005669224075973,0.031848296523094,-0.123770572245121,0.110107608139515,0.128070324659348,-0.150440439581871,-0.143649905920029,-0.090213008224964,-0.119576141238213));
res += mul(Get(s0,0,-dy), float4x4(0.124721072614193,0.110507786273956,0.055822674185038,-0.064297378063202,-0.105313748121262,-0.074019081890583,0.025007039308548,-0.002352772280574,0.065414525568485,0.138216525316238,0.132948458194733,-0.086177945137024,0.039424393326044,0.009238354861736,0.020108226686716,0.006805920507759));
res += mul(Get(s0,0,0), float4x4(0.125415861606598,-0.092884078621864,-0.056003876030445,-0.054973546415567,0.044173546135426,-0.092667870223522,0.007648339029402,-0.076673246920109,0.121483825147152,-0.050093870609999,-0.035757157951593,-0.064944609999657,0.186287254095078,0.132370159029961,-0.132978051900864,0.017195511609316));
res += mul(Get(s0,0,dy), float4x4(-0.092178903520107,-0.132889986038208,-0.166387125849724,0.062685698270798,-0.019024902954698,0.004153064452112,0.089525014162064,0.081199340522289,-0.020362962037325,-0.102424792945385,0.067425586283207,0.078403025865555,-0.038377575576305,-0.165493562817574,-0.023266958072782,0.087050192058086));
res += mul(Get(s0,dx,-dy), float4x4(-0.010320334695280,0.086587227880955,-0.014242484234273,0.003922081552446,-0.096346259117126,-0.057333987206221,0.189223110675812,-0.012552329339087,0.108170129358768,0.034678019583225,-0.011376748792827,-0.134435296058655,-0.002511753700674,0.018328590318561,-0.009269000962377,-0.031347118318081));
res += mul(Get(s0,dx,0), float4x4(0.013031276874244,-0.126529321074486,0.129849523305893,0.016527349129319,0.032017771154642,-0.199536383152008,0.036769676953554,-0.060836024582386,0.032086424529552,0.079043395817280,-0.144214138388634,-0.079736672341824,0.048193413764238,0.164346322417259,0.076803535223007,0.049881026148796));
res += mul(Get(s0,dx,dy), float4x4(-0.024083700031042,0.157411798834801,0.132692858576775,0.072334505617619,-0.228628888726234,-0.008227907121181,0.042514394968748,-0.074548050761223,-0.084567926824093,0.043382164090872,0.176920652389526,0.019475128501654,-0.002689969725907,-0.102254934608936,0.040978878736496,-0.041073072701693));
res += mul(Get(s1,-dx,-dy), float4x4(-0.101078480482101,0.032043542712927,-0.015271672047675,0.112370982766151,-0.021295987069607,0.081485077738762,-0.001536171301268,0.083756960928440,-0.073564395308495,-0.156008675694466,0.028309300541878,0.166735723614693,-0.144539982080460,0.138988167047501,-0.039840389043093,-0.047411311417818));
res += mul(Get(s1,-dx,0), float4x4(-0.070157758891582,0.090211838483810,0.007419504225254,0.021446095779538,-0.057233724743128,0.029534747824073,-0.063636064529419,0.149953976273537,-0.034858591854572,-0.148533105850220,-0.122401185333729,0.111139290034771,-0.064432941377163,0.289655983448029,-0.027603849768639,-0.061581876128912));
res += mul(Get(s1,-dx,dy), float4x4(-0.084066577255726,0.150388166308403,-0.005612935870886,-0.171107247471809,0.019184533506632,-0.089904762804508,0.019674543291330,0.066243842244148,-0.000202136579901,-0.053612932562828,-0.129830390214920,0.041604854166508,-0.084261767566204,0.043353781104088,0.076336152851582,-0.010987287387252));
res += mul(Get(s1,0,-dy), float4x4(-0.029562249779701,-0.065394818782806,0.007752115372568,0.030558254569769,0.011541456915438,0.005302935373038,-0.046333637088537,-0.082882098853588,-0.089704677462578,-0.105733528733253,0.006947858259082,-0.021038025617599,0.110529109835625,0.158550649881363,-0.027403447777033,-0.027931710705161));
res += mul(Get(s1,0,0), float4x4(-0.040143087506294,-0.045564096421003,0.121835753321648,-0.011119960807264,-0.018593620508909,-0.061614640057087,-0.044213209301233,0.053336989134550,-0.017881013453007,0.000563378562219,-0.076646424829960,-0.142772927880287,-0.007363968063146,0.047113295644522,0.053343668580055,0.015468510799110));
res += mul(Get(s1,0,dy), float4x4(0.075349159538746,0.116701260209084,0.039637252688408,-0.061515539884567,0.008426803164184,-0.100605033338070,0.048724520951509,-0.107578761875629,-0.055996581912041,0.057174880057573,-0.095143251121044,-0.129194691777229,-0.035467617213726,0.062426932156086,0.021910950541496,-0.074795499444008));
res += mul(Get(s1,dx,-dy), float4x4(-0.083555467426777,-0.025875149294734,-0.010759350843728,0.034374047070742,0.006595849525183,0.146794065833092,-0.026244116947055,0.024621438235044,0.119424819946289,-0.047565661370754,-0.139687597751617,-0.110357351601124,-0.096975497901440,0.010311613790691,0.144063130021095,0.122865222394466));
res += mul(Get(s1,dx,0), float4x4(-0.061084069311619,0.019710771739483,-0.018144644796848,0.012172794900835,-0.005979932844639,0.146140724420547,-0.090574808418751,0.073312044143677,0.131259232759476,0.081721082329750,-0.108651861548424,-0.106594555079937,0.061596121639013,-0.103388421237469,0.114323385059834,0.088765285909176));
res += mul(Get(s1,dx,dy), float4x4(-0.033687066286802,0.046105623245239,-0.065422177314758,-0.114834755659103,-0.016059972345829,-0.015607889741659,-0.019836166873574,-0.152550831437111,0.055360782891512,0.003159408690408,-0.124938450753689,-0.121592544019222,-0.053913924843073,0.010766472667456,0.086176589131355,-0.163008257746696));
res += mul(Get(s2,-dx,-dy), float4x4(0.000891478732228,-0.163584709167480,0.058960378170013,-0.089186593890190,0.077951192855835,-0.020194318145514,0.133483424782753,-0.143604159355164,0.210773900151253,-0.126227244734764,-0.153476804494858,0.088628359138966,-0.193492189049721,-0.049933969974518,0.009203475899994,-0.037943877279758));
res += mul(Get(s2,-dx,0), float4x4(0.111296437680721,-0.139272779226303,-0.144633769989014,0.078227557241917,-0.119498804211617,0.002378549659625,-0.051907707005739,-0.125301063060760,-0.066706433892250,-0.040661673992872,-0.041146032512188,-0.061628881841898,-0.137937143445015,-0.082955934107304,0.159062400460243,0.091937929391861));
res += mul(Get(s2,-dx,dy), float4x4(-0.043226156383753,-0.083541356027126,-0.082716427743435,-0.083935953676701,-0.065807402133942,0.077097572386265,0.088127009570599,-0.006048290524632,0.027873307466507,-0.001862109755166,-0.194913968443871,-0.035647381097078,-0.076594240963459,0.067959502339363,-0.005870105698705,-0.071458742022514));
res += mul(Get(s2,0,-dy), float4x4(-0.068986117839813,-0.152176484465599,-0.018401576206088,-0.043220296502113,0.110619008541107,0.028749823570251,0.011935517191887,-0.025127381086349,0.122488379478455,-0.109284810721874,-0.123526997864246,0.105189949274063,-0.055796485394239,0.001326295197941,-0.048434149473906,0.156808674335480));
res += mul(Get(s2,0,0), float4x4(0.018210373818874,-0.155383750796318,-0.084740586578846,-0.017963167279959,0.039217889308929,0.025531500577927,-0.040278505533934,0.015162725001574,-0.092436119914055,-0.013126416131854,-0.042140763252974,0.048867940902710,-0.125219881534576,-0.232249826192856,0.160448163747787,0.143562018871307));
res += mul(Get(s2,0,dy), float4x4(-0.049097746610641,-0.143719747662544,-0.029212458059192,-0.062074199318886,0.089584276080132,0.058428891003132,0.094702057540417,-0.104969099164009,-0.003511781105772,-0.021412206813693,-0.012942277826369,-0.016387244686484,-0.117625318467617,0.117254137992859,0.105435691773891,-0.164682209491730));
res += mul(Get(s2,dx,-dy), float4x4(0.057885918766260,-0.007181130349636,0.037125319242477,0.087711326777935,0.068580545485020,0.009759154170752,0.105882942676544,-0.050537955015898,-0.062880583107471,-0.137033760547638,0.029325759038329,0.025603886693716,0.078405618667603,-0.072483785450459,0.056493394076824,0.007677406538278));
res += mul(Get(s2,dx,0), float4x4(-0.059953741729259,0.133338913321495,0.037307508289814,0.031896688044071,0.106398411095142,0.048545513302088,0.039484769105911,0.011110123246908,0.013877971097827,-0.060518193989992,0.166391357779503,0.040883619338274,-0.036397784948349,-0.149038970470428,-0.037337429821491,0.091810278594494));
res += mul(Get(s2,dx,dy), float4x4(0.120294250547886,0.076490961015224,0.096244089305401,-0.025042030960321,0.098870426416397,0.076012305915356,-0.044464811682701,-0.070742480456829,-0.000844164518639,-0.058009486645460,-0.039122581481934,-0.115312196314335,0.032673463225365,0.064217112958431,-0.049820307642221,-0.163067445158958));
res += mul(Get(s3,-dx,-dy), float4x4(0.032103113830090,0.064086832106113,-0.063623324036598,0.001552063622512,-0.031967088580132,0.003501168452203,-0.044204391539097,0.059853959828615,0.017189582809806,-0.052280046045780,-0.064103499054909,0.051800321787596,0.025780459865928,-0.016637414693832,0.121090076863766,0.119520336389542));
res += mul(Get(s3,-dx,0), float4x4(0.090544901788235,0.135682299733162,0.041903942823410,0.074019499123096,-0.142811745405197,-0.094915419816971,0.080162651836872,-0.030096990987659,-0.066847473382950,-0.038452558219433,0.024772157892585,-0.074661403894424,-0.052006732672453,0.044809021055698,0.048529665917158,-0.117391072213650));
res += mul(Get(s3,-dx,dy), float4x4(0.051149394363165,-0.045322004705667,-0.042924921959639,0.173119843006134,-0.122409008443356,0.029236935079098,-0.033979035913944,-0.016476953402162,-0.045858763158321,0.146493062376976,-0.009882862679660,-0.081000782549381,0.053420230746269,0.113808222115040,0.066118605434895,-0.189588919281960));
res += mul(Get(s3,0,-dy), float4x4(-0.088247410953045,0.070384912192822,0.018759723752737,0.111473716795444,-0.003952806815505,-0.040642149746418,-0.053198400884867,0.037202302366495,-0.085214607417583,-0.067080169916153,0.013120840303600,-0.031960058957338,-0.103437744081020,0.065147966146469,-0.024630703032017,0.153715804219246));
res += mul(Get(s3,0,0), float4x4(-0.000238284454099,0.081574380397797,0.153178840875626,0.153909221291542,-0.020264785736799,0.048937026411295,0.083911940455437,-0.047283284366131,-0.010596580803394,0.142244979739189,0.131444871425629,-0.169670969247818,0.054632175713778,0.073833271861076,-0.082392103970051,-0.077769219875336));
res += mul(Get(s3,0,dy), float4x4(-0.044887196272612,0.012273709289730,-0.022976653650403,0.167623773217201,-0.075015045702457,0.029476067051291,0.026440287008882,0.120962545275688,0.142095491290092,-0.017198931425810,0.104076772928238,-0.027909822762012,0.151440098881721,-0.043459665030241,-0.076927311718464,-0.112785249948502));
res += mul(Get(s3,dx,-dy), float4x4(0.021445272490382,-0.001848653424531,0.009075830690563,-0.047114368528128,0.109418421983719,0.024087829515338,-0.076148524880409,0.155283734202385,-0.059449668973684,0.078672409057617,-0.104452028870583,-0.092602461576462,-0.073729842901230,0.102637685835361,0.004583395086229,0.122412227094173));
res += mul(Get(s3,dx,0), float4x4(0.116012819111347,-0.000449608865893,0.010859488509595,-0.104318067431450,0.057672318071127,-0.007710696198046,-0.020877204835415,-0.096935100853443,0.163012176752090,0.063214749097824,0.122504860162735,-0.116758756339550,-0.074999451637268,0.098682619631290,0.055731602013111,0.028027046471834));
res += mul(Get(s3,dx,dy), float4x4(0.163584634661674,-0.073270171880722,0.006160235032439,-0.042417492717505,0.018985034897923,-0.044644605368376,-0.186097428202629,0.037460874766111,-0.090763822197914,-0.084139563143253,0.064773537218571,-0.050924204289913,-0.108393780887127,0.041539855301380,0.126017823815346,0.006081862840801));
return max(float4(0,0,0,0), res);
}
