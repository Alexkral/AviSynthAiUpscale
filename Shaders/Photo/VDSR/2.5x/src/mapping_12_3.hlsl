sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042359646409750,-0.015698509290814,0.096313759684563,0.049196228384972,-0.007475350517780,-0.036004021763802,-0.049660984426737,-0.114700973033905,-0.078052483499050,0.006886125542223,-0.064984552562237,-0.062328346073627,-0.068279467523098,-0.015766797587276,0.038395579904318,-0.067789472639561));
res += mul(Get(s0,-dx,0), float4x4(0.214572057127953,-0.074439257383347,0.097472093999386,-0.035738755017519,-0.156223326921463,0.050309147685766,-0.036031588912010,0.110045000910759,0.184518650174141,0.100581921637058,0.073911257088184,-0.021459149196744,-0.078239366412163,-0.024350700899959,0.077649042010307,0.122060500085354));
res += mul(Get(s0,-dx,dy), float4x4(0.188626438379288,-0.030296977609396,0.023383188992739,-0.010151593945920,-0.010358264669776,0.182067409157753,-0.033538874238729,-0.097263589501381,0.113296791911125,0.053916454315186,-0.045545645058155,0.008965145796537,0.089434228837490,-0.004160400480032,-0.042975451797247,-0.103088870644569));
res += mul(Get(s0,0,-dy), float4x4(-0.027540268376470,0.027822479605675,0.058706589043140,-0.060020502656698,-0.024368107318878,0.020988536998630,0.045412633568048,-0.102974139153957,-0.113963745534420,0.041290737688541,-0.028128497302532,-0.044281329959631,-0.074837841093540,-0.006992276757956,-0.091342687606812,0.110090777277946));
res += mul(Get(s0,0,0), float4x4(0.182411178946495,-0.041097048670053,0.014098118059337,0.089272119104862,-0.122414059937000,-0.054905120283365,-0.050484493374825,-0.051751095801592,0.058484837412834,0.015943095088005,0.099030010402203,-0.015579653903842,-0.007117937318981,0.036288250237703,-0.022942455485463,0.071659609675407));
res += mul(Get(s0,0,dy), float4x4(0.148394614458084,-0.060266438871622,-0.015859613195062,0.090122312307358,-0.037146084010601,-0.035425230860710,0.007010041270405,0.053194176405668,0.033893130719662,-0.044173412024975,-0.010440820828080,-0.011028732173145,0.013952343724668,-0.059503950178623,0.015912137925625,-0.000165149089298));
res += mul(Get(s0,dx,-dy), float4x4(0.029677519574761,0.029030313715339,-0.025548284873366,0.035701613873243,0.073232837021351,0.074501104652882,-0.059573471546173,-0.004517809953541,-0.041142724454403,-0.041352201253176,0.001967964228243,-0.037645690143108,-0.002985567552969,-0.115782804787159,-0.135502725839615,0.018551481887698));
res += mul(Get(s0,dx,0), float4x4(-0.056180346757174,0.004689610097557,-0.049896270036697,-0.039546698331833,0.062259875237942,-0.062311198562384,-0.048175055533648,0.076217509806156,-0.030752532184124,0.054921302944422,-0.074252769351006,-0.041108582168818,-0.008129539899528,-0.028698591515422,-0.043290380388498,0.073230668902397));
res += mul(Get(s0,dx,dy), float4x4(-0.051085244864225,0.064145550131798,-0.039989013224840,0.033791489899158,0.051094211637974,-0.091328844428062,-0.059967268258333,0.018850516527891,0.010893135331571,-0.029736937955022,0.009349376894534,0.042199924588203,-0.101034224033356,0.000158277893206,0.037140026688576,-0.085281707346439));
res += mul(Get(s1,-dx,-dy), float4x4(0.163260206580162,-0.097383722662926,0.107242614030838,-0.090563423931599,-0.090055644512177,0.135011777281761,-0.034921422600746,-0.142270043492317,0.006453311536461,-0.042451299726963,0.053469471633434,-0.003060394432396,-0.071800522506237,-0.055002093315125,0.119296185672283,-0.209940060973167));
res += mul(Get(s1,-dx,0), float4x4(0.071894042193890,-0.048432983458042,-0.044072207063437,-0.070187643170357,-0.070528633892536,-0.035042416304350,0.050239861011505,-0.104400999844074,0.121303401887417,-0.062958300113678,-0.001431582611986,0.022424587979913,0.018503742292523,0.002176270354539,0.009413891471922,-0.102056980133057));
res += mul(Get(s1,-dx,dy), float4x4(0.084489680826664,0.002531424397603,-0.022316308692098,-0.187131702899933,0.010568643920124,0.092990249395370,0.069571606814861,-0.018241418525577,0.105028487741947,0.226718902587891,-0.118401475250721,0.018005521968007,0.046797357499599,0.008110489696264,0.056069232523441,-0.028578575700521));
res += mul(Get(s1,0,-dy), float4x4(0.004885875154287,0.003331463551149,0.030190924182534,-0.111634939908981,0.106615245342255,0.225925102829933,-0.117800965905190,0.083908915519714,0.041634131222963,0.000958530930802,-0.059614446014166,-0.001495429431088,-0.051992930471897,0.165842011570930,-0.088171109557152,0.055892296135426));
res += mul(Get(s1,0,0), float4x4(-0.175736665725708,-0.031188303604722,0.057906266301870,0.121067754924297,-0.090525008738041,-0.012622271664441,-0.119421198964119,0.084781616926193,-0.045367792248726,0.045688528567553,-0.075310461223125,0.090805225074291,-0.009010304696858,0.112896412611008,-0.078873850405216,0.040628202259541));
res += mul(Get(s1,0,dy), float4x4(-0.088538706302643,0.046443141996861,0.080962948501110,-0.043542616069317,-0.131158575415611,-0.074945546686649,0.252732992172241,-0.013746495358646,0.047725886106491,-0.107115924358368,-0.096978157758713,0.401098757982254,0.087299220263958,-0.052232593297958,0.079790368676186,0.152479335665703));
res += mul(Get(s1,dx,-dy), float4x4(0.056473333388567,-0.037471964955330,0.009604636579752,-0.076168693602085,-0.001580975251272,-0.012382148765028,-0.058982543647289,0.023749629035592,-0.006231751292944,0.008067853748798,0.021301921457052,-0.027568623423576,-0.037055879831314,-0.125246703624725,0.119044907391071,0.120372623205185));
res += mul(Get(s1,dx,0), float4x4(-0.035935092717409,-0.066477507352829,-0.143151730298996,0.116145625710487,0.015327381901443,-0.059079892933369,-0.062747426331043,0.028051979839802,0.022966187447309,-0.006035280413926,-0.026085091754794,-0.124051220715046,-0.005619887262583,-0.001950481906533,-0.010970230214298,-0.063975594937801));
res += mul(Get(s1,dx,dy), float4x4(0.013441468589008,0.118065856397152,-0.077082507312298,-0.052446730434895,-0.030814902856946,-0.055208072066307,-0.024020148441195,0.054759737104177,-0.014531799592078,0.081705272197723,-0.032174699008465,-0.050074476748705,-0.006350251846015,-0.070466130971909,-0.042362436652184,-0.006127598695457));
res += mul(Get(s2,-dx,-dy), float4x4(-0.026892594993114,0.054234717041254,-0.005578633863479,-0.123462110757828,-0.076454535126686,0.028174510225654,-0.051721464842558,-0.013047089800239,0.090995028614998,-0.014603697694838,0.012260776944458,-0.132291600108147,-0.024206314235926,-0.055267967283726,0.239283561706543,-0.132358685135841));
res += mul(Get(s2,-dx,0), float4x4(-0.096701905131340,-0.075060360133648,-0.005750178825110,-0.150695025920868,-0.122545763850212,0.058600746095181,0.041191011667252,0.102827467024326,0.035044878721237,-0.013592154718935,-0.040719628334045,-0.018433364108205,0.031165629625320,0.076604634523392,0.078166663646698,-0.026716450229287));
res += mul(Get(s2,-dx,dy), float4x4(-0.105063356459141,0.074035242199898,0.051672186702490,0.062865026295185,-0.084465526044369,-0.051871579140425,0.065266646444798,-0.102415762841702,-0.094134122133255,-0.000511278689373,0.039649151265621,-0.107005275785923,0.072147063910961,-0.008876884356141,0.045650366693735,-0.077460438013077));
res += mul(Get(s2,0,-dy), float4x4(0.117638558149338,-0.045208431780338,0.085570536553860,0.045978166162968,-0.024930784478784,-0.036334112286568,-0.006802185438573,-0.054451122879982,0.020787153393030,0.034184418618679,0.016705054789782,-0.132950097322464,0.008382460102439,0.015290890820324,0.077716335654259,0.053560342639685));
res += mul(Get(s2,0,0), float4x4(0.091633744537830,-0.046705953776836,0.075945198535919,0.028965756297112,-0.038136042654514,0.006357136182487,0.048546399921179,-0.041243292391300,0.154153823852539,0.086220197379589,-0.075579874217510,0.041723500937223,0.020181603729725,0.005347038153559,0.030770080164075,-0.027103088796139));
res += mul(Get(s2,0,dy), float4x4(0.007046387996525,-0.039698604494333,-0.023685997352004,-0.054082535207272,0.073695734143257,-0.018620021641254,-0.079950183629990,-0.057563185691833,0.017878320068121,0.005399572663009,0.013390294276178,-0.073833078145981,0.035461310297251,0.174654304981232,-0.073034033179283,0.043012376874685));
res += mul(Get(s2,dx,-dy), float4x4(-0.052373081445694,0.048515751957893,-0.011236424557865,0.009400427341461,0.067955136299133,-0.040897950530052,-0.118061579763889,-0.001547121675685,-0.086143933236599,0.034777488559484,0.026365207508206,-0.000654056668282,0.071627929806709,0.020308490842581,-0.026418419554830,-0.029162595048547));
res += mul(Get(s2,dx,0), float4x4(0.012590062804520,0.001491110189818,-0.024637190625072,0.132039561867714,-0.057250905781984,0.001070893369615,-0.013676494359970,0.096325114369392,0.045689325779676,-0.018295368179679,0.063450224697590,0.092771641910076,-0.011999865993857,0.010151023045182,-0.017428867518902,0.064733706414700));
res += mul(Get(s2,dx,dy), float4x4(0.006149683147669,0.019176181405783,0.081910602748394,-0.052093312144279,0.014952651225030,-0.033898476511240,-0.029962381348014,0.083114303648472,0.042053069919348,0.134730398654938,0.095936618745327,-0.034228585660458,-0.004651583731174,0.069769956171513,-0.015246928669512,0.037427008152008));
res += mul(Get(s3,-dx,-dy), float4x4(-0.025789698585868,0.120626606047153,0.036954130977392,-0.096661642193794,-0.001974838087335,0.129049614071846,-0.040804859250784,-0.107121095061302,-0.060021325945854,0.092335559427738,-0.046449135988951,-0.011593210510910,0.041797846555710,0.006777262780815,-0.023285606876016,-0.186796754598618));
res += mul(Get(s3,-dx,0), float4x4(-0.073695644736290,0.012725282460451,0.035518422722816,0.082544870674610,0.001461115782149,-0.036073744297028,0.064380101859570,-0.037346877157688,0.035505473613739,-0.095474399626255,0.038630094379187,-0.057919651269913,-0.151367574930191,0.017735598608851,-0.010656733997166,-0.044101886451244));
res += mul(Get(s3,-dx,dy), float4x4(-0.000520526838955,-0.081466414034367,0.019001163542271,-0.132000520825386,-0.063525535166264,0.049299407750368,0.021655118092895,-0.006885195616633,0.048875384032726,0.038474734872580,0.135274484753609,-0.095587953925133,-0.084672391414642,0.006404574494809,-0.008455744013190,-0.028161168098450));
res += mul(Get(s3,0,-dy), float4x4(-0.069123804569244,0.011961218900979,-0.004323417786509,0.066705182194710,-0.010070472955704,0.286664277315140,-0.047053806483746,-0.008930791169405,-0.096613474190235,0.020874509587884,-0.086385682225227,-0.181000426411629,0.059378504753113,-0.098530597984791,0.046501770615578,0.112793996930122));
res += mul(Get(s3,0,0), float4x4(-0.085435003042221,-0.137482464313507,0.017835807055235,0.166870996356010,-0.037819132208824,0.018472207710147,0.172106012701988,0.065552763640881,-0.058213341981173,0.006510148290545,-0.126920118927956,0.287067025899887,0.049824997782707,0.027768451720476,0.036191534250975,-0.028897959738970));
res += mul(Get(s3,0,dy), float4x4(0.025754479691386,0.009364008903503,0.088784195482731,-0.046566039323807,-0.061217483133078,0.073744058609009,0.172503381967545,-0.046726368367672,0.159852445125580,-0.065244913101196,-0.014518964104354,0.047041255980730,-0.053147688508034,0.044405523687601,-0.074667707085609,-0.008811033330858));
res += mul(Get(s3,dx,-dy), float4x4(0.000605876848567,-0.041041582822800,0.012112135998905,-0.043403442949057,-0.036934945732355,0.069411739706993,-0.052695050835609,-0.077681280672550,0.103038884699345,0.022100424394011,0.020460577681661,-0.088353000581264,-0.071747459471226,0.024197811260819,0.031354472041130,0.031918451189995));
res += mul(Get(s3,dx,0), float4x4(0.082379244267941,-0.071488492190838,0.003827543463558,-0.036772105842829,0.067767612636089,0.119266733527184,0.042500313371420,0.095439858734608,0.032025456428528,-0.033175803720951,-0.051902268081903,0.073586277663708,-0.022823931649327,-0.037659868597984,0.017571063712239,0.012488141655922));
res += mul(Get(s3,dx,dy), float4x4(0.035581558942795,-0.016108082607388,0.060348905622959,0.000246188661549,-0.051014550030231,0.020281931385398,0.121530123054981,-0.014729348942637,0.138010755181313,-0.060126505792141,-0.126837402582169,0.134850144386292,-0.131761267781258,0.008180978707969,-0.055863820016384,0.038116481155157));
return max(float4(0,0,0,0), res);
}
