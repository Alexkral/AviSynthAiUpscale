sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.028446041047573,0.096359051764011,0.012244151905179,-0.117959916591644,-0.051617264747620,-0.211483180522919,0.158067271113396,0.056936349719763,0.010138923302293,-0.038939751684666,0.154619351029396,0.046445235610008,0.167494326829910,-0.121955476701260,0.044201593846083,-0.028639649972320));
res += mul(Get(s0,-dx,0), float4x4(-0.085577681660652,-0.042117275297642,-0.025875838473439,-0.201182484626770,-0.008522488176823,0.154902577400208,-0.025187671184540,0.175835639238358,0.174957469105721,0.038552582263947,0.155237555503845,0.002920533763245,-0.101306654512882,-0.034753285348415,0.133496612310410,0.071602158248425));
res += mul(Get(s0,-dx,dy), float4x4(0.139181166887283,-0.161713406443596,0.034898485988379,-0.040566131472588,-0.193178147077560,0.111672490835190,-0.048420865088701,0.057411573827267,0.026872759684920,0.003039270872250,-0.049855642020702,0.209209755063057,-0.058158598840237,-0.066751845180988,0.044904828071594,0.102751545608044));
res += mul(Get(s0,0,-dy), float4x4(0.020203256979585,0.083560176193714,-0.030254838988185,-0.001222309423611,0.089791700243950,-0.098741635680199,-0.113394938409328,-0.135339319705963,0.009367119520903,-0.141842305660248,-0.184438198804855,-0.009005973115563,0.039996504783630,-0.131838634610176,-0.222900643944740,-0.013402459211648));
res += mul(Get(s0,0,0), float4x4(-0.099591404199600,0.158704802393913,0.061632670462132,0.112458758056164,-0.170338615775108,-0.064264379441738,-0.062312487512827,0.101993955671787,-0.022690562531352,-0.001454180222936,-0.022390032187104,-0.114245362579823,0.045731808990240,0.072326339781284,-0.087961584329605,-0.078480504453182));
res += mul(Get(s0,0,dy), float4x4(-0.061966907233000,0.047827288508415,-0.105788685381413,0.007331204134971,-0.120119564235210,-0.236584767699242,0.004269518889487,-0.068015165627003,-0.081369534134865,-0.001389731420204,0.025807878002524,-0.101216107606888,0.023017225787044,-0.033330537378788,-0.131923049688339,-0.045148972421885));
res += mul(Get(s0,dx,-dy), float4x4(0.170558005571365,-0.279465526342392,0.000294504483463,-0.170771479606628,0.055801801383495,0.254158258438110,-0.139429196715355,0.127161651849747,0.039821561425924,-0.039726886898279,0.030632272362709,0.012084614485502,0.161742195487022,0.050136510282755,-0.092213973402977,-0.150635078549385));
res += mul(Get(s0,dx,0), float4x4(-0.006461293436587,0.083505861461163,-0.011606282554567,-0.220497786998749,0.195458650588989,-0.118494436144829,-0.062318176031113,0.119550094008446,-0.049503669142723,0.029539354145527,-0.049548972398043,-0.084558486938477,-0.068493202328682,-0.035401690751314,0.134327188134193,-0.003384784562513));
res += mul(Get(s0,dx,dy), float4x4(0.124719493091106,0.217891514301300,0.089326649904251,0.250465512275696,-0.004461891483516,0.000166396217537,0.058369442820549,0.088880680501461,0.009255161508918,-0.074556373059750,-0.064255349338055,-0.163314387202263,0.012785051018000,0.042636275291443,0.014755447395146,-0.093526847660542));
res += mul(Get(s1,-dx,-dy), float4x4(-0.111931942403316,0.095547460019588,-0.039538204669952,-0.048253033310175,-0.055357165634632,0.096078850328922,0.019361041486263,-0.124247707426548,0.191000148653984,-0.092890046536922,-0.006723345257342,-0.000744519988075,0.076604843139648,0.204320162534714,0.037920128554106,-0.165674492716789));
res += mul(Get(s1,-dx,0), float4x4(-0.088351890444756,0.005770260468125,-0.004943153355271,0.011957471258938,-0.028958335518837,-0.116427138447762,0.007255514152348,-0.199669986963272,0.017481833696365,0.003673158586025,0.054169800132513,-0.117113344371319,0.097608596086502,-0.093279533088207,-0.217785462737083,-0.169796764850616));
res += mul(Get(s1,-dx,dy), float4x4(0.001635678228922,-0.136504679918289,-0.048077356070280,-0.044191509485245,-0.043217360973358,-0.003197089070454,0.007102776318789,-0.054455492645502,0.196434199810028,0.036772605031729,0.101858191192150,-0.090806223452091,0.062443468719721,-0.053811028599739,-0.146957635879517,-0.083951033651829));
res += mul(Get(s1,0,-dy), float4x4(0.127967968583107,-0.014737488701940,-0.089929461479187,-0.019766777753830,0.110106118023396,0.053096834570169,-0.019474545493722,-0.005389944184572,0.052009433507919,-0.015063548460603,0.011243759654462,0.177885338664055,0.020391335710883,0.078914254903793,-0.142820864915848,-0.156321853399277));
res += mul(Get(s1,0,0), float4x4(-0.071699246764183,-0.105494134128094,-0.037833563983440,-0.022132048383355,-0.174450829625130,-0.005600571166724,0.057574089616537,-0.023100916296244,-0.039028264582157,0.157602697610855,0.025782091543078,0.112881794571877,0.050943139940500,-0.101144060492516,-0.077215962111950,-0.081914223730564));
res += mul(Get(s1,0,dy), float4x4(0.027069527655840,0.030131176114082,0.047320954501629,0.188584864139557,0.040990054607391,0.189816519618034,0.098065987229347,0.035397503525019,0.092076145112514,-0.066175058484077,0.020017743110657,0.154710337519646,0.120324954390526,0.071014560759068,0.134392783045769,-0.183995455503464));
res += mul(Get(s1,dx,-dy), float4x4(-0.093749843537807,-0.062785029411316,-0.087256833910942,-0.143438637256622,-0.060096587985754,-0.026826392859221,-0.134028866887093,0.030474660918117,0.030326416715980,-0.076455444097519,0.100654602050781,-0.231172427535057,-0.121030226349831,0.039431601762772,0.039501927793026,0.088244803249836));
res += mul(Get(s1,dx,0), float4x4(-0.019342876970768,-0.078331016004086,0.093717463314533,-0.012391916476190,0.072316564619541,0.064832650125027,-0.135382533073425,-0.107555635273457,0.047518372535706,0.063459940254688,0.118972927331924,0.123601347208023,-0.103613421320915,-0.135400682687759,-0.117269709706306,0.203804865479469));
res += mul(Get(s1,dx,dy), float4x4(0.173065930604935,0.045236025005579,0.049319136887789,-0.086497336626053,-0.135811164975166,-0.119594208896160,0.145706221461296,0.151352629065514,-0.075005076825619,-0.107538320124149,-0.079789005219936,0.063722252845764,-0.095748826861382,0.047460511326790,0.011121057905257,-0.034699685871601));
res += mul(Get(s2,-dx,-dy), float4x4(0.044895265251398,0.020383976399899,0.043570414185524,-0.026441385969520,0.179124712944031,-0.107747972011566,-0.177665367722511,0.053282432258129,0.006675400305539,-0.044394545257092,0.093420647084713,-0.024058297276497,-0.007294493261725,-0.093123413622379,0.035010185092688,0.019159246236086));
res += mul(Get(s2,-dx,0), float4x4(0.005912200547755,-0.067061536014080,0.084043234586716,-0.095958240330219,0.083907924592495,-0.065029554069042,0.042195502668619,0.108652547001839,0.119434989988804,-0.104909099638462,0.121698357164860,-0.216716259717941,0.043057113885880,-0.044995553791523,0.062656596302986,-0.026385327801108));
res += mul(Get(s2,-dx,dy), float4x4(0.050265729427338,-0.068574152886868,-0.084971673786640,0.038615256547928,0.089158020913601,-0.089956000447273,0.171409592032433,-0.019818160682917,-0.198739320039749,-0.166039168834686,0.054924432188272,-0.002491537015885,-0.101386584341526,0.073241330683231,-0.143658965826035,-0.155471399426460));
res += mul(Get(s2,0,-dy), float4x4(0.052887633442879,0.010734311304986,-0.014464233070612,-0.130235373973846,0.190319433808327,0.094318866729736,-0.025090228766203,-0.010480422526598,-0.115519396960735,-0.110384561121464,0.265794694423676,0.040535610169172,-0.004301471170038,0.094386443495750,0.108832262456417,0.002241527894512));
res += mul(Get(s2,0,0), float4x4(0.144056797027588,0.028879804536700,0.031696822494268,0.111758165061474,0.036860242486000,-0.120162069797516,0.059363760054111,-0.140611425042152,0.087138637900352,0.145858347415924,-0.081254519522190,-0.091325633227825,0.126850634813309,-0.110780946910381,-0.042409826070070,-0.086490333080292));
res += mul(Get(s2,0,dy), float4x4(0.081275880336761,-0.088583163917065,-0.039474487304688,0.037916198372841,0.195478051900864,0.001392995589413,-0.196017205715179,-0.032474264502525,-0.075411938130856,-0.166345536708832,-0.074714362621307,0.047931734472513,0.034251242876053,-0.019449282437563,-0.184152290225029,0.166191369295120));
res += mul(Get(s2,dx,-dy), float4x4(0.009858100675046,0.031669497489929,-0.000388630665839,-0.179883450269699,-0.004965714178979,0.053334616124630,-0.182958513498306,0.150126263499260,-0.046560455113649,-0.109145969152451,0.167912989854813,0.088620245456696,0.272298932075500,0.038297593593597,0.022836318239570,0.046412546187639));
res += mul(Get(s2,dx,0), float4x4(-0.263646006584167,-0.025361107662320,-0.092000283300877,-0.035719443112612,0.048204127699137,-0.101457126438618,-0.144650235772133,-0.009407997131348,-0.001475529745221,-0.149122700095177,-0.137284770607948,-0.031703066080809,0.124259166419506,-0.000395039009163,0.131223380565643,0.183144837617874));
res += mul(Get(s2,dx,dy), float4x4(-0.009532303549349,-0.088483646512032,0.077554345130920,-0.053913798183203,0.070096135139465,0.027387475594878,0.142961561679840,0.157258540391922,0.022811412811279,0.080849364399910,-0.299695372581482,0.024876810610294,0.176684156060219,0.189446777105331,-0.026117350906134,0.011366426013410));
res += mul(Get(s3,-dx,-dy), float4x4(0.022387018427253,0.129085540771484,0.129540026187897,-0.045550324022770,-0.115414246916771,0.117162004113197,0.023898877203465,-0.137938559055328,-0.032841209322214,-0.019040636718273,-0.045058518648148,-0.139553397893906,-0.252859562635422,-0.035583361983299,-0.047158524394035,0.010970951989293));
res += mul(Get(s3,-dx,0), float4x4(-0.132802143692970,0.132370188832283,0.014942487701774,-0.057646710425615,0.020131934434175,0.166400015354156,0.091439440846443,0.038105744868517,-0.181664541363716,0.119736902415752,-0.056693229824305,-0.035370707511902,0.014800515025854,-0.051347222179174,-0.215771168470383,-0.054223287850618));
res += mul(Get(s3,-dx,dy), float4x4(0.019240390509367,-0.206429883837700,-0.114554449915886,-0.105995103716850,-0.095803469419479,0.000006544198186,-0.055578511208296,-0.092793866991997,-0.087544023990631,-0.103450991213322,-0.029110183939338,-0.057111505419016,-0.200438871979713,-0.052915263921022,-0.087519571185112,-0.055003974586725));
res += mul(Get(s3,0,-dy), float4x4(0.163296446204185,-0.038707725703716,-0.106175854802132,-0.050392035394907,0.030005078762770,0.184755101799965,-0.101452529430389,-0.047769762575626,0.035368017852306,-0.072531692683697,0.031005784869194,0.015948664397001,0.143109962344170,-0.061398219317198,0.025624392554164,0.151784285902977));
res += mul(Get(s3,0,0), float4x4(-0.095458775758743,-0.030703563243151,-0.032080423086882,0.154061675071716,-0.009433177299798,0.164680033922195,-0.097410872578621,0.009116218425333,0.023278754204512,0.086601711809635,-0.073937676846981,0.001658176537603,0.236592948436737,-0.100329987704754,-0.063939623534679,0.019844587892294));
res += mul(Get(s3,0,dy), float4x4(0.151148378849030,-0.111296400427818,0.148927122354507,-0.104136213660240,-0.148203149437904,0.009228492155671,0.112285517156124,-0.040200751274824,-0.006954155396670,-0.186691001057625,-0.108542442321777,0.082496583461761,0.110228955745697,0.054937753826380,-0.048718567937613,0.071185216307640));
res += mul(Get(s3,dx,-dy), float4x4(0.050212144851685,-0.080866016447544,0.033125132322311,0.082401618361473,0.110472135245800,-0.040687274187803,-0.205570548772812,0.034968994557858,0.009901278652251,0.093890629708767,-0.147743061184883,0.039352826774120,-0.017087858170271,0.006184688303620,-0.011456177569926,0.055057745426893));
res += mul(Get(s3,dx,0), float4x4(-0.070896916091442,0.076318733394146,-0.119555763900280,-0.008116992190480,0.117631711065769,0.086920313537121,0.002655528718606,0.000246077601332,0.115481793880463,-0.011736131273210,-0.107196085155010,0.151450052857399,0.151658430695534,0.018585544079542,0.070351250469685,-0.019390746951103));
res += mul(Get(s3,dx,dy), float4x4(0.138826951384544,-0.141480550169945,0.177185967564583,0.189095184206963,0.051508784294128,-0.067711651325226,-0.058551289141178,0.032124653458595,0.100563630461693,-0.015215635299683,0.135847076773643,0.125491678714752,0.038582284003496,0.002947279717773,-0.172819703817368,-0.038611520081758));
return max(float4(0,0,0,0), res);
}
