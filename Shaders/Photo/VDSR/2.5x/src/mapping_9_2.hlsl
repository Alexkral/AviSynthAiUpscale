sampler s0 : register(s0);
sampler s1 : register(s1);
sampler s2 : register(s2);
sampler s3 : register(s3);
float2 p1 :  register(c1);

#define dx   (p1[0])
#define dy   (p1[1])
#define Get(s, x, y)   tex2D(s, tex + float2(x, y))

float4 main(float2 tex : TEXCOORD0) : COLOR
{
float4 res = float4(0,0,0,0);
res += mul(Get(s0,-dx,-dy), float4x4(0.042950529605150,0.116351827979088,-0.035953450948000,0.059667635709047,-0.126096725463867,-0.068504266440868,-0.145363345742226,0.039109598845243,-0.078947760164738,-0.085594885051250,-0.017724724486470,0.087613180279732,0.074361711740494,0.053334329277277,-0.138807520270348,0.008919056504965));
res += mul(Get(s0,-dx,0), float4x4(0.019329778850079,-0.077516399323940,-0.034055724740028,0.062753848731518,-0.042635366320610,-0.015520085580647,-0.078194610774517,0.145500957965851,0.017097733914852,0.000764715543482,0.107156656682491,-0.101143568754196,-0.099002487957478,-0.155566036701202,-0.039863172918558,-0.045009657740593));
res += mul(Get(s0,-dx,dy), float4x4(-0.013760755769908,-0.041754629462957,-0.068911977112293,0.082679271697998,-0.027934879064560,0.069059669971466,-0.023880291730165,-0.027966314926744,0.020523214712739,0.005266822408885,-0.044642772525549,-0.092231050133705,-0.005249909125268,-0.064000770449638,0.062120042741299,0.019410029053688));
res += mul(Get(s0,0,-dy), float4x4(0.037309117615223,0.133904293179512,0.017115611582994,0.013513850979507,0.056123036891222,-0.027467714622617,0.046224910765886,-0.043980550020933,-0.076999194920063,-0.010011402890086,-0.013386898674071,0.055588740855455,0.158526584506035,0.100062675774097,0.005879768170416,0.113720625638962));
res += mul(Get(s0,0,0), float4x4(-0.026340886950493,0.080627761781216,0.116864040493965,0.016493307426572,0.018413698300719,0.077058829367161,-0.029398402199149,0.009991765022278,-0.017629824578762,0.067523770034313,0.011042751371861,-0.042424272745848,-0.017201766371727,0.133420035243034,0.036550685763359,-0.043787077069283));
res += mul(Get(s0,0,dy), float4x4(-0.000882983324118,0.024277772754431,0.010638708248734,-0.013654606416821,0.002500676317140,-0.127955436706543,0.003072294872254,-0.040073323994875,0.077892042696476,-0.064172863960266,0.091314531862736,-0.134832471609116,0.021591732278466,0.001036681467667,-0.000614427088294,0.000275500293355));
res += mul(Get(s0,dx,-dy), float4x4(-0.005561203230172,0.001963594462723,-0.003193738404661,0.038165267556906,-0.018653156235814,0.185141667723656,-0.027222733944654,-0.165531679987907,-0.109962880611420,0.199952229857445,-0.018323842436075,0.041936330497265,0.070491984486580,-0.154595777392387,-0.109931319952011,0.010555519722402));
res += mul(Get(s0,dx,0), float4x4(-0.048172395676374,0.017105020582676,-0.003048680257052,-0.086606867611408,-0.029201662167907,0.028874872252345,0.016062302514911,-0.004413450602442,-0.036448452621698,-0.087011322379112,-0.012568227015436,0.010217109695077,0.147073462605476,-0.087568141520023,0.012661095708609,-0.017589639872313));
res += mul(Get(s0,dx,dy), float4x4(-0.028698721900582,0.021660447120667,0.001863058074377,0.105568759143353,-0.019122656434774,-0.005817323923111,-0.060091149061918,-0.016273859888315,0.067326784133911,0.000634434749372,0.048603158444166,-0.051736067980528,-0.025623802095652,-0.061727985739708,-0.052038308233023,0.046605743467808));
res += mul(Get(s1,-dx,-dy), float4x4(-0.053120665252209,-0.115603148937225,-0.007582449819893,0.088863939046860,0.039125908166170,-0.046687599271536,0.071233294904232,0.023417720571160,0.002765229670331,0.008037517778575,0.070079483091831,-0.133892819285393,-0.018843295052648,0.015990648418665,0.058180831372738,0.016336785629392));
res += mul(Get(s1,-dx,0), float4x4(0.010862662456930,-0.007575367577374,-0.071349188685417,-0.079056628048420,0.020073626190424,-0.031977698206902,0.001362053211778,0.015714341774583,-0.016932791098952,-0.054347623139620,0.005300263874233,-0.079433940351009,-0.028791708871722,-0.049176931381226,-0.003906255587935,0.045450352132320));
res += mul(Get(s1,-dx,dy), float4x4(0.067695498466492,-0.082225933670998,0.250682115554810,-0.007562096230686,0.074927881360054,-0.037668708711863,-0.116352170705795,0.064524866640568,-0.024033900350332,-0.034955594688654,-0.018259353935719,-0.116517789661884,0.018686193972826,0.062155984342098,-0.043237578123808,-0.016615364700556));
res += mul(Get(s1,0,-dy), float4x4(-0.034156620502472,-0.040304079651833,0.027267865836620,0.060691107064486,0.097593642771244,0.046230696141720,-0.006915186997503,0.012421484105289,0.062694340944290,0.080412760376930,0.007718984968960,-0.120075345039368,0.040047552436590,-0.075780428946018,-0.027923882007599,-0.081978917121887));
res += mul(Get(s1,0,0), float4x4(-0.038290638476610,-0.172854125499725,0.075789451599121,0.002737800125033,-0.112592734396458,0.105731986463070,-0.043312083929777,0.002423784695566,0.003371158847585,-0.022336704656482,-0.036497406661510,-0.068369694054127,-0.004665015265346,-0.100892990827560,0.080979101359844,0.142883881926537));
res += mul(Get(s1,0,dy), float4x4(0.223703607916832,-0.198670059442520,0.275177061557770,-0.060986138880253,-0.045098043978214,0.051620509475470,-0.105578124523163,-0.008372687734663,0.006805639714003,-0.094882428646088,-0.056601360440254,-0.127145260572433,-0.086546696722507,-0.040297426283360,-0.110074453055859,-0.005539065692574));
res += mul(Get(s1,dx,-dy), float4x4(-0.049976203590631,0.017136517912149,-0.012973406352103,0.056203901767731,0.043949075043201,-0.067723371088505,0.049426373094320,-0.148452177643776,-0.105260260403156,0.083335168659687,0.310091227293015,-0.101361669600010,-0.078939005732536,-0.095574937760830,-0.075723379850388,0.103529229760170));
res += mul(Get(s1,dx,0), float4x4(0.051606811583042,-0.054315917193890,-0.084179781377316,0.032676789909601,-0.105546079576015,-0.127490118145943,-0.038561344146729,-0.167108535766602,-0.017359392717481,-0.066603481769562,0.129835069179535,-0.018107960000634,0.076714582741261,-0.019654612988234,0.059623777866364,0.200780555605888));
res += mul(Get(s1,dx,dy), float4x4(-0.014843937009573,-0.065038643777370,-0.033148512244225,0.109379507601261,-0.073541939258575,-0.022705687209964,-0.081706956028938,0.032583311200142,-0.116012409329414,0.076323583722115,0.017208395525813,-0.128485813736916,0.002738863695413,-0.041078317910433,-0.037308294326067,0.070426031947136));
res += mul(Get(s2,-dx,-dy), float4x4(0.127501651644707,0.098417840898037,-0.015723306685686,0.131219819188118,-0.042216956615448,0.076229736208916,0.038656100630760,-0.111226543784142,0.016744215041399,-0.052065957337618,0.011241576634347,0.048949155956507,-0.055540695786476,0.018015507608652,-0.127943158149719,0.286800593137741));
res += mul(Get(s2,-dx,0), float4x4(0.340094029903412,0.108642615377903,-0.112096510827541,0.049549259245396,0.041223544627428,-0.072534754872322,0.095674358308315,-0.075364664196968,0.030131751671433,-0.059431061148643,-0.044682294130325,0.140518888831139,0.039950113743544,0.077329263091087,-0.006750336848199,0.057591263204813));
res += mul(Get(s2,-dx,dy), float4x4(0.023183275014162,0.096033461391926,0.072422794997692,0.009450184181333,-0.114204026758671,0.041163533926010,0.107948452234268,-0.122347593307495,-0.049758668988943,-0.167000159621239,-0.065468527376652,-0.071472167968750,-0.007788868155330,0.009557439014316,0.045749593526125,0.042493630200624));
res += mul(Get(s2,0,-dy), float4x4(-0.020181000232697,0.033160161226988,0.001857541967183,0.051463678479195,0.015286597423255,0.238682284951210,-0.015167462639511,0.101785980165005,-0.005794479511678,0.057530596852303,-0.010726243257523,-0.060193467885256,-0.097271218895912,-0.124575681984425,-0.030798818916082,-0.040627662092447));
res += mul(Get(s2,0,0), float4x4(0.167528137564659,-0.014234191738069,-0.024567136541009,-0.069677934050560,0.089448682963848,0.076440379023552,0.153979778289795,0.029678579419851,-0.008436905220151,-0.000050951952289,0.050815507769585,-0.111631445586681,0.133071944117546,-0.018601769581437,0.103435650467873,-0.067566186189651));
res += mul(Get(s2,0,dy), float4x4(0.005868007428944,-0.010906053707004,0.061433795839548,0.058629024773836,-0.063805401325226,0.092993162572384,-0.009286551736295,-0.111668683588505,-0.140010297298431,0.042871423065662,-0.046032659709454,-0.147509962320328,0.062443107366562,-0.034833319485188,0.079970583319664,-0.198552340269089));
res += mul(Get(s2,dx,-dy), float4x4(-0.062965631484985,-0.020665504038334,-0.000881557876710,-0.002005374524742,0.061372786760330,0.071738265454769,0.026594301685691,-0.029980253428221,-0.040111623704433,0.018199807032943,0.068498708307743,0.046371147036552,0.050744500011206,0.004882227163762,-0.060946147888899,0.034372478723526));
res += mul(Get(s2,dx,0), float4x4(-0.022662639617920,-0.036351151764393,-0.021081201732159,0.040243305265903,0.114905111491680,0.044603262096643,0.052156008780003,-0.001858846051618,-0.016570242121816,0.032666958868504,-0.043366685509682,-0.040123037993908,-0.049808129668236,-0.018128694966435,-0.026968041434884,0.036716531962156));
res += mul(Get(s2,dx,dy), float4x4(0.147967711091042,0.007898960262537,0.022278049960732,-0.124417133629322,-0.131717100739479,0.088546499609947,-0.111664541065693,-0.083322755992413,-0.052665356546640,0.109953843057156,-0.047195620834827,-0.063966251909733,0.061350639909506,-0.015675585716963,-0.064923346042633,0.021346656605601));
res += mul(Get(s3,-dx,-dy), float4x4(-0.048263963311911,0.029490197077394,-0.025582876056433,0.055661074817181,0.058653034269810,0.110328763723373,-0.155083522200584,0.014567265287042,0.066123187541962,-0.054311521351337,0.015855567529798,0.009098239243031,-0.100915610790253,-0.067770585417747,0.059315346181393,0.055859047919512));
res += mul(Get(s3,-dx,0), float4x4(0.016755385324359,0.071273863315582,0.007975862361491,0.002849977929145,-0.056961137801409,0.083779104053974,0.113633453845978,-0.046764649450779,-0.058561198413372,0.028385831043124,0.027704691514373,0.165801718831062,0.005011571105570,-0.077578850090504,0.024343671277165,-0.072275936603546));
res += mul(Get(s3,-dx,dy), float4x4(-0.006437891162932,-0.032034169882536,0.005368084646761,0.027737380936742,-0.052827347069979,0.035064928233624,-0.065565057098866,-0.035862646996975,-0.010560801252723,-0.047689888626337,-0.058311935514212,0.144407778978348,-0.013412019237876,-0.037847928702831,-0.009806235320866,-0.068835690617561));
res += mul(Get(s3,0,-dy), float4x4(0.068934597074986,0.063117325305939,0.022224966436625,0.028456123545766,-0.183271199464798,0.117306277155876,-0.152550309896469,0.142027229070663,-0.026395251974463,-0.018493302166462,-0.078249290585518,0.088675640523434,-0.007730710320175,-0.033619906753302,-0.040098905563354,0.059138793498278));
res += mul(Get(s3,0,0), float4x4(0.025805318728089,0.113093651831150,0.093163870275021,-0.049993265420198,-0.093173816800117,-0.154916554689407,0.038772512227297,0.062685541808605,0.027211464941502,-0.021503657102585,-0.009696494787931,0.058295529335737,-0.022855551913381,-0.045593034476042,-0.019903263077140,-0.063980951905251));
res += mul(Get(s3,0,dy), float4x4(0.034095998853445,0.071501336991787,0.042498517781496,0.009970505721867,-0.128597319126129,0.050087440758944,-0.032669737935066,-0.047646939754486,0.020361598581076,0.028417278081179,-0.040581066161394,0.075451053678989,-0.009271912276745,0.044308718293905,-0.078886121511459,-0.090113878250122));
res += mul(Get(s3,dx,-dy), float4x4(0.007093829102814,-0.036390610039234,-0.006776845082641,0.068171903491020,0.011250398121774,0.016998207196593,-0.298277944326401,-0.041145887225866,-0.002095960080624,0.113867320120335,0.028719549998641,0.103351801633835,0.058304633945227,-0.044798571616411,0.138334110379219,-0.038645062595606));
res += mul(Get(s3,dx,0), float4x4(0.022886086255312,0.016784843057394,0.013988224789500,0.059054389595985,0.050015326589346,0.050276439636946,0.221507951617241,0.045239068567753,-0.105043381452560,0.027478398755193,0.044376630336046,-0.015401461161673,0.026201220229268,0.055401548743248,-0.020096125081182,0.004611308220774));
res += mul(Get(s3,dx,dy), float4x4(-0.063049599528313,-0.005978136789054,-0.149639070034027,0.027379028499126,-0.055367112159729,0.020463269203901,0.151969611644745,0.001789405476302,0.002345566637814,-0.035454902797937,0.014362588524818,0.087769165635109,0.026244150474668,-0.071151517331600,-0.007034589070827,0.028284667059779));
return max(float4(0,0,0,0), res);
}
